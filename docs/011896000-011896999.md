# StackOverflow 问答 11896000-11896999

# jquery - jquery动态更改css不在chrome中刷新

> ID：11896001
> 
> 赞同：1
> 
> 时间：2012-08-10T05:33:22.643
> 
> 标签：jquery, css, google-chrome

在下面的代码中，我试图在 ajax 请求之前显示 div，完成后我想隐藏 div。hide() 工作正常，但 show() 不工作。它在 Firefox 中运行良好。

```
$("#btnpst").click(function () {
   $('#dvloading').show();
   $.ajax({
       url: url,
       type: "POST",
       async: false,
       contentType: "application/json; charset=utf-8",
       dataType: "json",
       success: function (data, st) {
           if (st == "success") {
               $('#dvloading').hide();
           }
       },
       error: function () {
           $('#dvloading').hide();
       }
   });
   } //<
}); 
```

**HTML**

```
<div id="dvloading" style="width: 480px; height: 320px; position: absolute; overflow: hidden;">
    <image src="../loading_2.gif" style="margin-top: 120px;">
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:58:46.437

我认为您正在本地进行测试，并且响应非常快。为什么不改变这条线

```
$('#dvloading').hide(); 
```

对此

```
setTimeout(function(){$('#dvloading').hide();},5000); 
```

看看是不是这样。从 javascript 控制台检查是否没有与 js 相关的错误也会很有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T20:34:17.160

> “如果我将警报放在 hide() 上方，我就能看到它”。“没有警报它是不可见的。ajax 调用大约需要 10 秒”

这两个语句在某种程度上似乎是矛盾的，如果你`DIV`的实际显示然后隐藏并且 ajax 调用大约需要 10 秒，那么它应该也会出现没有警报框.. 我真的怀疑 ajax 调用是否需要大约 10 秒..

这是一个说明您的场景的小提琴，我已经从 ajax 调用中删除了内容类型属性并使用了 flickr 的 json 响应页面。它工作正常。

[jsfiddle](http://jsfiddle.net/4W8V9/)

# iphone - 如何在 iPad 中使用 presentModalViewController

> ID：11896006
> 
> 赞同：0
> 
> 时间：2012-08-10T05:33:59.350
> 
> 标签：iphone, objective-c, ipad

我创建了一个 Cartview 并希望在单击 productview 上的按钮时将此视图显示为模态视图。我该怎么做？其实我是这样做的

```
 UIViewController *nav=[[UIViewController alloc]initWithNibName:@"CartView-iPad"    bundle:nil];
    nav.modalPresentationStyle=UIModalPresentationFormSheet;
    nav.modalTransitionStyle=UIModalTransitionStyleCrossDissolve;
    [self presentModalViewController:nav animated:YES];
    CGRect frame=nav.view.frame;
    frame.origin.x -= 75;
    frame.origin.y = 100;
    nav.view.frame=CGRectMake(frame.origin.x,  frame.origin.y , 672, 393); 
```

但问题是表单视图即将到来，而我的购物车视图即将公开，我只需要我的购物车视图。此外，我需要在购物车视图右侧关闭按钮来关闭模态视图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T14:22:39.087

问题可能是您试图手动设置模态视图控制器的框架。据我所知，这是不推荐的。该`UIModalPresentationFormSheet`选项已指示模态的所需大小。

至于后退按钮，您应该在`CartView-iPad`-xib 文件中添加一个带有后退按钮的导航栏。为了让它工作，你必须创建一个 UIViewController 的子类（例如：）`CartViewController`来处理后退按钮的按下。现在`nav`只是一个普通的 UIViewController，它不知道如何处理 xib 文件中的操作。

然后在您的新视图控制器中，您可以创建一个这样的函数，将您的后退按钮连接到：

```
- (IBAction)backButtonPressed
{
   [self.presentingViewController dismissViewControllerAnimated:YES completion:nil];
} 
```

# ios5 - IOS 5 MBProgressHUD 在加载数据时禁用标签栏按钮。(userInteractionEnabled = 否)

> ID：11896007
> 
> 赞同：1
> 
> 时间：2012-08-10T05:34:16.857
> 
> 标签：ios5, tabbarcontroller, mbprogresshud

我`MBProgressHUD`在加载数据时使用，用户可以在此过程中按下另一个选项卡按钮。`MBProgressHUD`只禁用视图内容。我检查了其他帖子，但没有看到任何可以帮助我禁用选项卡按钮的内容。

我试图设置`tabbaritem.userInteractionEnabled`为，`NO`但我找不到访问它的方法。我可以在情节提要中做到，但不能将其切换回`YES`.

我的问题是；从我的 viewController 有什么办法可以访问`tabbarcontroller.tabbaritem.userInteractionEnabled`吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-14T09:47:44.633

我使用类别：

UIViewController+MBProgressHUD.h

```
#import <UIKit/UIKit.h>

@class MBProgressHUD;

@interface UIViewController (MBProgressHUD)

- (MBProgressHUD *)showHUD;
- (MBProgressHUD *)showHUDFromTitle:(NSString *)title;
- (MBProgressHUD *)showHUDFromTitle:(NSString *)title completedImage:(BOOL)completedImage;
- (void)hideHUD;

@end 
```

和 UIViewController+MBProgressHUD.m

```
#import "UIViewController+MBProgressHUD.h"
#import <MBProgressHUD/MBProgressHUD.h>

@implementation UIViewController (MBProgressHUD)

- (MBProgressHUD *)showHUDFromTitle:(NSString *)title {
    UIView *view;
    if (self.tabBarController.view != nil) {
        view = self.tabBarController.view;
    } else if (self.navigationController.view != nil) {
        view = self.navigationController.view;
    } else {
        view = self.view;
    }
    MBProgressHUD *hud = [MBProgressHUD showHUDAddedTo:view animated:NO];
    hud.labelText = title;
    return hud;
}

- (MBProgressHUD *)showHUD {
    return [self showHUDFromTitle:NSLocalizedString(@"Loading", @"Loading")];
}

- (MBProgressHUD *)showHUDFromTitle:(NSString *)title completedImage:(BOOL)completedImage {
    MBProgressHUD *hud = [self showHUDFromTitle:title];
    if (completedImage) {
        UIImage *checkmarkImage = [UIImage imageNamed:@"37x-Checkmark"];
        UIImageView *checkmarkImageView = [[UIImageView alloc] initWithImage:checkmarkImage];
        hud.customView = checkmarkImageView;
        hud.mode = MBProgressHUDModeCustomView;
    } else {
        hud.mode = MBProgressHUDModeText;
    }
    return hud;
}

- (void)hideHUD {
    [MBProgressHUD hideAllHUDsForView:self.tabBarController.view animated:NO];
    [MBProgressHUD hideAllHUDsForView:self.navigationController.view animated:NO];
    [MBProgressHUD hideAllHUDsForView:self.view animated:NO];
} 
```

例子：

```
[self showHUD];
[self hideHUD]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-29T21:10:23.993

这是一个简单的方法

```
 [[[self tabBarController] tabBar] setUserInteractionEnabled:NO]; 
```

如此链接所述： [如何在加载视图时隐藏标签栏操作？](https://stackoverflow.com/questions/11582468/how-can-i-make-the-tabbar-action-hidden-when-the-view-is-loading)

适用于 MBProgressHUD

# mysql - 如何使用mysql连接表编写复杂查询

> ID：11896008
> 
> 赞同：1
> 
> 时间：2012-08-10T05:34:23.563
> 
> 标签：mysql, sql, database, inner-join

我有桌子

`Tasks- id,name`

然后我有

`userTasks id , task_id , user_id`

和

`User - id , name`

假设我在任务表中有 10 个任务，其中我在`userTask`表中有 3 个任务

我想要这样的查询

`Select task.id , task.name , STATUS (if(presentInUserTasks),1,0) FROM whatever`

`1`如果该任务 ID 存在于该用户 ID 的 usertasks 表中，则STATUS 字应该是，否则它应该是`0`

这样我就可以在 userTask 表中找到哪些任务已经存在

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T05:38:41.800

您正在寻找`EXISTS`关键字：

```
SELECT tasks.id, tasks.name, 
    IF(EXISTS(SELECT id 
              FROM userTasks 
              WHERE userTasks.task_id = tasks.id 
              AND userTasks.user_id = @that_user_id)
       ,1,0) AS STATUS
FROM tasks 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T05:40:25.633

试试这个：

```
SELECT  b.id, 
        b.name, 
        IF(coalesce(c.Task_ID, -1) = -1, 0, 1) `Status`
FROM    `User` a 
            CROSS JOIN `Task` b
            LEFT JOIN UserTask c
                ON a.ID = c.user_ID AND
                   b.ID = c.Task_ID
Where  a.id = 1 
```

演示：[http ://sqlfiddle.com/#!2/a22d0/7](http://sqlfiddle.com/#!2/a22d0/7)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T05:41:00.160

尝试这个：

```
select T.id , T.name , 
       case when  u.task_id is not null then 1 else 0 end as STATUS 
from 
Tasks T left outer join usertasks U
on T.id=u.task_id 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T05:42:18.353

尝试

```
SELECT t.id,t.name, 
CASE WHEN ut.task_id IS NULL THEN '0' ELSE '1' END
FROM Tasks t
LEFT JOIN UserTask ut ON ut.task_id = t.id 
```

# python - 从实例本身调用实例变量的方法

> ID：11896009
> 
> 赞同：3
> 
> 时间：2012-08-10T05:34:24.310
> 
> 标签：python, methods, instance-variables

我有一种情况，我希望能够从实例本身调用实例变量的常用方法。对于程序运行来说，这并不是真正必要的。但是，`bar.baz()`与`bar.foo.baz()`.

解决这个问题的最 Pythonic/可读/最常见的方法是什么？我在想我会写一个函数装饰器；但是，我对其他想法持开放态度。解决方案还必须是继承友好的。

**例子：**

```
class Foo (object) :
    def baz (self) :
        return 324

class Bar (object) :
    def __init__ (self) :
        self.foo = Foo()

    # This is the current ugly solution.
    # It also results in an extra function call.
    def baz (self, *args, **kw) :
        return self.foo.baz(*args, **kw)

bar = Bar()
print bar.foo.baz()
print bar.baz() 
```

这适用于 Python 2.7.3，仅供参考。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T05:41:08.413

你可以只做所谓的 a `mixin`。您创建了一个真正没有个人状态的类，但带有您想要“混合”到另一个类的常见功能：

```
class FooMixin(object) :
    def baz (self) :
        return 324

class Bar(object, FooMixin):
    def __init__ (self):
        pass

bar = Bar()
bar.baz() 
```

*或使用@Joachim 在另一个答案中建议的组合。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T05:40:55.150

这更简单；

```
class Foo (object) :
    def baz (self) :
        return 324

class Bar (object) :
    def __init__ (self) :
        self.foo = Foo()
        self.baz = self.foo.baz;

bar = Bar()
print bar.foo.baz()
print bar.baz() 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T06:47:07.487

如果这只是一种方法，那么您所拥有的确实还不错。它直截了当地说这`baz`是 的接口的一部分`Boo`，它通过委托给包含的`Foo`实例来实现这一点。

稍微短一点的版本是使用属性：

```
class Foo (object) :
    def baz (self) :
        return 324

class Bar (object) :
    def __init__ (self) :
        self.foo = Foo()

    @property
    def baz(self):
        return self.foo.baz

    def __getattr__(self, attr):
        return getattr(self.foo, attr)

bar = Bar()
print bar.foo.baz()
print bar.baz() 
```

`baz`尽管如此，仍然有一个额外的函数调用，而且它可能是一个方法不太明显。

如果不求助于重写您的继承树，我只会使用您所拥有的，如果`baz`是唯一需要委托给包含的实例的方法。如果你想委托许多方法，那么有一些选项：

如果您希望*所有*方法都可以从包含 a`Foo`的实例调用，那么您可以尝试使用：`Bar``Foo``__getattr__`

```
class Foo (object) :
    def baz (self) :
        return 324

class Bar (object) :
    def __init__ (self) :
        self.foo = Foo()

    def __getattr__(self, attr):
        return getattr(self.foo, attr)

bar = Bar()
print bar.foo.baz()
print bar.baz() 
```

但这有一些明显的缺点。

1.  `Bar`通过阅读源代码或通过自省，目前尚不清楚实际提供了什么方法。
2.  的所有`Foo`方法和属性（不是由 直接提供的`Bar`）都将通过`Bar`的接口公开，这可能是不可取的。

当然，您可以在`__getattr__`方法中加入更多逻辑，只委托某些事情，而不是所有事情。

`Bar`当所有 a都是 a 的简单包装器时，我倾向于采用这种方法`Foo`，因为“a 的`Bar`行为主要像 a `Foo`”是概念接口的一部分（而不是`Foo`内部实现细节），并且它减少了`Bar`'s定义来描述它*不像*`Foo`.

另一种方法是使用 Python 的动态特性来定义`Bar`该委托的属性，`Foo`而无需全部手写。像这样的东西可以解决问题：

```
class Foo (object) :
    def baz (self) :
        return 324

class Bar (object) :
    def __init__ (self) :
        self.foo = Foo()

    for _method in ['baz', 'blob']:
        @property
        def _tmp_func(self, _name=_method):
            return getattr(self.foo, _name)
        locals()[_method] = _tmp_func
    # del to avoid name pollution
    del _method, _tmp_func

bar = Bar()
print bar.foo.baz()
print bar.baz() 
```

这种方法相对于`__getattr__`一种方法的优点是，您有一个明确的方法列表，当您阅读代码时这些方法被重定向，并且它们`Bar`在运行时都“看起来像”正常属性，因为它们是正常属性。如果您只需要一两个方法，那么它显然比您的原始代码要多得多！而且它有点微妙（由于 Python 闭包的工作方式，需要通过默认参数`_method`传入`_tmp_func`并不一定很明显）。但是在类装饰器中隐藏执行此操作的逻辑相对容易，这将使您能够创建更多类，将它们的某些方法的实现委托给它们的属性之一。

你可以想出很多关于这些事情的变体。

# android - 在Andengine中将图像加载为Sprite

> ID：11896018
> 
> 赞同：2
> 
> 时间：2012-08-10T05:35:00.680
> 
> 标签：android, sprite, andengine

我已经搜索了所有论坛，但我无法获得任何工作代码。我想从 SD 卡和引擎中加载图像作为精灵。谁能给我一个代码？我在用

```
 File imageFile = new File("/path/to/image");
    BitmapTextureAtlas texture = new BitmapTextureAtlas(width , height , TextureOptions.DEFAULT);
    ITextureSource fileTextureSource = new FileTextureSource(imageFile);
    TextureRegion textureRegion = TextureRegionFactory.createFromSource(texture,fileTextureSource ,0,0); 
```

但

```
ITextureSource fileTextureSource = new FileTextureSource(imageFile); 
```

给我错误 ITextureSource 无法解析为类型。我正在使用 AndEngine GLES1。请帮助我，给我一种从 SD 卡制作精灵的方法。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-10T08:32:02.500

我没有尝试过代码，但我把它放在 Eclipse 中并尝试修复它以便编译。这是结果：

```
File imageFile = new File("/path/to/image");
BitmapTextureAtlas texture = new BitmapTextureAtlas(width , height , TextureOptions.DEFAULT);
FileBitmapTextureAtlasSource fileTextureSource = new FileBitmapTextureAtlasSource(imageFile);
TextureRegion textureRegion = TextureRegionFactory.createFromSource(texture,fileTextureSource ,0,0, true); 
```

# javascript - ajax 调用后，jscrollpane 不会重新初始化

> ID：11896024
> 
> 赞同：0
> 
> 时间：2012-08-10T05:35:58.523
> 
> 标签：javascript, jquery, jquery-plugins, jscrollpane, jquery-jscrollpane

我一直在试验[jscrollpane](http://jscrollpane.kelvinluck.com/)。

我正在尝试向窗格添加一些 ajax 内容并让它呈现内容，但由于某种原因重新初始化失败。

[我相信我正在遵循这里](https://stackoverflow.com/questions/8632672/jscrollpane-and-ajax)解释的内容，但也许我在处理我的 json 数据时使用的[vk 模板有问题。](http://www.eslinstructor.net/vktemplate/)

我有这个 div 已经坐在页面上。

```
 <div id="INTERNAL-line_item_detail" class="fl scroll-pane">
 </div> 
```

事情开始时它是空的，但如果我放入一些 lorem ipsum，我可以看到 jscrollpane 工作正常，至少一开始是这样。

然后我发出这个ajax请求来获取一个json对象然后使用vktemplate将它放入html中。

```
$.ajax({

    type: "POST",
    url: "queries/INTERNAL_get_order_info.php",
    data: "num=" + num,
    dataType: "json",

    success: function (data) {

        //some of this is not exactly the way it is SO question I referenced
        //I've been moving things around quite experimentally
        api = $("#INTERNAL-line_item_detail").data('jsp');
        $("#INTERNAL-line_item_detail").empty();
        $('#INTERNAL-line_item_detail').vkTemplate('templates/get_line_items_template.tmpl?<?=time()?>', data, function () {

         api.reinitialise();
    });
}

}); 
```

滚动窗格的 CSS ..没什么特别的。

```
.scroll-pane {
    width: 350px;
    height: 200px;
    overflow: auto;
    margin:15px 30px 15px 30px;
    background-color:#fff;
} 
```

但是每当我查看 chrome 检查器中的滚动窗格时，它都会`overflow:hidden`添加属性（尽管我不知道从哪里来）。而且我认为这并不重要，因为当我将其关闭或将其更改为 时`scroll`，我只会在顶部和底部看到 normal-mac-scrollbars。

有任何想法吗？非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T08:26:19.483

尝试在模板引擎的回调函数中记录 的值，`api`以了解它是否已定义。另外我认为最好通过在你的元素上调用 jScollPane 来调用重新初始化，如下所示：

```
$('#INTERNAL-line_item_detail').jScrollPane({/*your jsp config*/}); 
```

它将保持滚动位置并且是透明的。祝你好运！

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-10T15:55:20.303

设置`api`等于具有类`scroll-pane`class的容器 div

并在模板中使用它

```
function reinitializeJspane(divId, templateUrl, data) {
    api = $('#' + divId).data('jsp');
    $(api.getContentPane()).vkTemplate(templateUrl + "?", data, function () {
        api.reinitialise();
    });
} 
```

谢谢！

# javascript - 现在可以在没有 .NET 4.5 主机的情况下使用 Web 套接字吗？

> ID：11896032
> 
> 赞同：1
> 
> 时间：2012-08-10T05:36:59.147
> 
> 标签：javascript, websocket, windows-8, socket.io

我希望通过云服务将我的 WinJS 应用程序连接到移动浏览器客户端，每个人都使用 Web 套接字连接到该云服务。

我使用 socket.io 构建了一个解决方案，只要我的 node.js 服务器托管在本地主机上就可以正常工作:) 当我将服务器部署到 Azure 时，Windows 8 应用程序返回一个错误，指出它无法在本地上下文（在调用 socket.io 的 connect() 之后）。

查看 MSDN 上的 Web 套接字示例，我认为我应该使用 Windows.Networking.Sockets 中的内置功能，至少在我的应用程序和公共云服务之间使用它，因为它不会尝试加载外部资源。

**我的问题是：**隧道的另一端有哪些选择？它是否需要带有 IIS 8 的 .NET 4.5 主机（因为 IIS 7 不支持 WS）？我认为今天还不存在，所以我想知道这里的发展故事是什么。

根据我最终用于服务器的内容，我想我将不得不再次使用 socket.io 或 SignalR 来为客户端提供服务（大多数不支持 Web 套接字，我需要一个好的跨浏览器库:)）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T20:11:50.823

如果您的后端是**NodeJS**应用程序，则*不需要***IIS 服务器**或任何与 .NET Framework 相关的东西。

NodeJS 的作者在[https://github.com/joyent/node/wiki/Node-Hosting](https://github.com/joyent/node/wiki/Node-Hosting)维护了一个托管提供商列表（该列表可能已经过时，因为我在那里看不到 Azure）。

我不明白为什么您的服务器在部署到 Azure 时不应该工作。你在用`npm install azure`吗？

* * *

我感觉您对**Web Sockets**和**Socket.io**感到困惑。

Socket.io 是一个实时传输框架，它*可能会*也*可能不会*根据客户端浏览器在客户端使用 Web Sockets 进行传输。

参考：[FAQ——Socket.IO](http://socket.io/#faq)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T03:18:47.997

（回答我自己的问题）我在一个代理后面，它不允许来自我的 Win8 应用程序中的 socket.io 的 Web 套接字连接通过，因此它依赖于需要加载外部资源的方法。

绕过那个有问题的代理，连接工作正常，我可以按预期从我的应用程序中使用 socket.io。我在 Azure 上托管另一端（根据他们提供的 node.js + socket.io 教程），它可以工作。我仍然不知道想要使用内置 Web 套接字库的开发人员应该为主机使用什么，但我想我们必须等待 IIS 8 出来。

现在我要验证应用程序是否可以通过该库的认证。

# asp.net-mvc-3 - 通过操作方法属性在 MVC3 中定义身份验证要求

> ID：11896034
> 
> 赞同：0
> 
> 时间：2012-08-10T05:37:03.187
> 
> 标签：asp.net-mvc-3, authentication, custom-attributes

我有一个具有 4 个身份验证级别的 MVC3 应用程序，以及与每个级别相关的 4 个基本控制器：

1.  未经身份验证 -`BaseController`
2.  用户 -`BaseAuthController : BaseController`
3.  顾问 -`BaseAdvisorController : BaseAuthController`
4.  行政 -`BaseAdminController : BaseAuthController`

现在我有一系列针对特殊情况的覆盖......例如，通常仅用于管理员的控制器可以有一个或两个顾问可以使用的操作方法......我将覆盖定义为数组中的字符串。

```
public class BaseAuthController : BaseController
{
    /// <summary>
    /// Enter action names in here to have them ignored during login detection
    /// </summary>
    public string[] NoAuthActions = new string[] { };

    /// <summary>
    /// Actions only usable by Users+
    /// </summary>
    public string[] UserOnlyActions = new string[] { };

    /// <summary>
    /// Actions only usable by Advisors+
    /// </summary>
    public string[] AdvisorOnlyActions = new string[] { };

    /// <summary>
    /// Actions only usable by Admins+
    /// </summary>
    public string[] AdminOnlyActions = new string[] { };

    .......

    protected override void OnActionExecuting(ActionExecutingContext filterContext)
    {
        //special code here to determine what to do with requested action...
        //verifies that user is logged in and meets requirements for method...
        //if not, redirects out to another page...
    }
} 
```

在控制器级别，我将它们定义为这样......

```
public class GrowerController : BaseAdminController
{
    protected override void OnActionExecuting(ActionExecutingContext filterContext)
    {
        UserOnlyActions = new string[] { "GrowthStageSelection" };
        AdvisorOnlyActions = new string[] { "Landing", "SeedSelection", "UpdateProjection",
                                            "NitrogenApplications", "DeleteNitrogen", "MassUpload",
                                            "VerifyHolding", "ConfirmHolding", "DeleteHoldingDir", "DeleteHoldingFile" };
        base.OnActionExecuting(filterContext);
    }

    //......

    [HttpPost]
    public ActionResult GrowthStageSelection(int growerID, int reportGrowthStageID = 0)
    {
        //code...
    }
} 
```

这个系统实际上对我们来说效果很好，但对我来说问题是它感觉很乱。您必须在一处定义方法，并在必要时在其他地方覆盖其身份验证级别。如果您更改方法名称，您必须记住在其他地方更改它。

我希望***能够***做的是用身份验证特定属性装饰方法本身，并取消基于字符串的定义（或者至少使它们透明并`List<string>`动态使用或其他东西）。这是我正在寻找的一个例子......

```
 [HttpPost]
    [AdvisorAuthentication]
    public ActionResult GrowthStageSelection(int growerID, int reportGrowthStageID = 0)
    {
        //code...
    } 
```

问题是我找不到用属性实现这一目标的好方法。我已经尝试创建子类，`ActionFilterAttribute`但它们在我`BaseAuthController`的覆盖之后运行`OnActionExecuting`。到那时，动态地将新方法添加到字符串列表中为时已晚，而且我什至似乎无法从属性访问当前控制器实例。

也许这整个想法是错误的。谁能指出我正确的方向？谢谢。

## 最终解决方案

首先，我继续删除了除 BaseController 之外的所有特殊控制器 - 我不再使用它们了。我将当前的特殊身份验证代码`BaseAuthController`从`BaseController`. 接下来，我为每个身份验证状态定义了一系列属性：

```
[AttributeUsage(AttributeTargets.Class | AttributeTargets.Method, Inherited = true, AllowMultiple = true)]
public class BaseAuthAttribute : Attribute
{
    public AuthLevels AuthLevel { get; protected set; }

    public BaseAuthAttribute(AuthLevels level)
    {
        this.AuthLevel = level;
    }

    public override string ToString()
    {
        return string.Format("Auth Required: {0}", this.AuthLevel.ToString());
    }
}

public class UnauthenticatedAccess : BaseAuthAttribute
{
    public UnauthenticatedAccess()
        : base(AuthLevels.Unauthenticated)
    {
    }
}

public class UserAccess : BaseAuthAttribute
{
    public UserAccess()
        : base(AuthLevels.User)
    {
    }
}

public class AdvisorAccess : BaseAuthAttribute
{
    public AdvisorAccess()
        : base(AuthLevels.Advisor)
    {
    }
}

public class AdminAccess : BaseAuthAttribute
{
    public AdminAccess()
        : base(AuthLevels.Admin)
    {
    }
} 
```

然后在我`BaseController`的修改中`OnActionExecuting`，根据属性检查登录用户的当前身份验证级别（如果有的话）。这***比***以前干净多了！（注意：`SessionUser`和`AuthLevels`是我们项目的自定义对象 - 你不会拥有那些）

```
public partial class BaseController : Controller
{
    /// <summary>
    /// Override security at higher levels
    /// </summary>
    protected bool SecurityOverride = false;

    protected override void OnActionExecuting(ActionExecutingContext filterContext)
    {
        BaseAuthAttribute authAttribute = filterContext.ActionDescriptor.GetCustomAttributes(false).OfType<BaseAuthAttribute>().FirstOrDefault();
        if (authAttribute == null) //Try to get attribute from controller
            authAttribute = filterContext.ActionDescriptor.ControllerDescriptor.GetCustomAttributes(false).OfType<BaseAuthAttribute>().FirstOrDefault();
        if (authAttribute == null) //Fallback to default
            authAttribute = new UnauthenticatedAccess(); //By default, no auth is required for base controller

        if (!SessionUser.LoggedIn
            && authAttribute.AuthLevel == AuthLevels.Unauthenticated)
        {
            SecurityOverride = true;
        }
        else if (SessionUser.LoggedIn
            && SessionUser.LoggedInUser.AuthLevel >= (int)authAttribute.AuthLevel)
        {
            SecurityOverride = true;
        }

        if (!SessionUser.LoggedIn && !SecurityOverride)
        {
            //Send to auth page here...
            return;
        }
        else if (!SecurityOverride)
        {
            //Send somewhere else - the user does not have access to this
            return;
        }

        base.OnActionExecuting(filterContext);
    }

    // ... other code ...
} 
```

就是这样！现在就这样使用吧……

```
[AdminAccess]
public class GrowerController : BaseController
{
    public ActionResult Index()
    {
        //This method will require admin access (as defined for controller)
        return View();
    }

    [AdvisorAccess]
    public ActionResult Landing()
    {
        //This method is overridden for advisor access or greater
        return View();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T09:20:49.393

如果我正确理解了您的问题，您可以实现自己的自定义属性（而不是授权属性），并且在基本控制器的重写 OnActionExecuting 中，您可以检索执行方法的自定义属性，并根据已定义的属性，您可以采取适当的行动。因此，如果一个方法具有 [AdvisorAuthentication] 您知道在继续之前需要检查这些凭据。

**编辑：** 我没有一个例子可以指出你，因为这是我在我的一个项目中实现的。我现在无法访问该代码，但这里有一个大纲：

```
protected override void OnActionExecuted(ActionExecutedContext filterContext)
    {
        base.OnActionExecuted(filterContext);
        IEnumerable<MyCustomAttribute> attributes = filterContext.ActionDescriptor.GetCustomAttributes(false).OfType<MyCustomAttribute>();
        foreach (MyCustomAttributeobj in attributes)
        {
            switch(MyCustomAttribute.AttribType){
                case MyCustomeAttribute.AdvisorAuthentication:

                    break;
                case MyCustomeAttribute.AdminAuthentication:

                    break;
            }
        }
    } 
```

您可以只实现一个自定义属性 MyCustomAttribute 并让它接受一个参数来指示您想要的授权类型。就像属性的使用变成 [MyCustomAttribute("MyCustomeAttribute.AdminAuthentication")]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:07:08.510

您可以创建不同的 Authorize 属性来扩展`IAuthorizationFilter and FilterAttribute`类似这样的内容

```
public sealed class AuthenticateAdvisorAttribute : IAuthorizationFilter, FilterAttribute
{
    public void OnAuthorization(AuthorizationContext filterContext)
    {
        //advisor specific logic goes here
    }
}

public sealed class AuthenticateAdminAttribute : IAuthorizationFilter, FilterAttribute
{
    public void OnAuthorization(AuthorizationContext filterContext)
    {
        //admin specific logic goes here
    }
} 
```

然后你可以在任何你需要的地方将这些属性应用到控制器类/动作中

```
[AuthenticateAdmin]
public class AdminController : Controller
{

}

[AuthenticateAdvisor]
public class AdvisorController : Controller
{

} 
```

# javascript - JavaScript 用多少位来表示一个数字？

> ID：11896036
> 
> 赞同：2
> 
> 时间：2012-08-10T05:37:19.083
> 
> 标签：javascript

JavaScript 用多少位来表示一个数字？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T05:39:19.457

通常 JS 实现使用 64 位双精度浮点数。对 32 位整数执行按位运算。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-10T05:39:54.200

这取决于具体的实现，而不是语言本身。

如果您想知道支持的数字范围，请参阅[规范](http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf)的第 8.5 节（数字类型） 。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T05:51:43.447

从[参考规范](https://tc39.es/ecma262/#sec-ecmascript-language-types-number-type)：

> Number 类型正好有 18437736874454810627（即 264−253+3）个值，代表二进制浮点算术的 IEEE 标准中指定的双精度 64 位格式 IEEE 754 值，除了 9007199254740990（即 253 −2) IEEE 标准的不同“非数字”值在 ECMAScript 中表示为单个特殊的 NaN 值。（请注意，NaN 值是由程序表达式 NaN 产生的。）在某些实现中，外部代码可能能够检测各种 Not-a-Number 值之间的差异，但这种行为是依赖于实现的；对于 ECMAScript 代码，所有 NaN 值彼此无法区分。

也就是说，请注意，当使用位运算符 &、^、>> << 等时，仅使用最低有效 32 位，并将结果转换为有符号值。

# wpf - 如何使用 RadWindow 作为 WPF 应用程序的 MainWindow

> ID：11896038
> 
> 赞同：1
> 
> 时间：2012-08-10T05:37:28.947
> 
> 标签：wpf, telerik, mainwindow, radwindow

我想使用 RadWindow 作为我的 WPF 应用程序的主窗口。使外窗也以整体应用为主题。我使用[了这种](http://www.telerik.com/support/kb/wpf/window/radwindow-as-main-window.aspx)方法，但之后该应用程序不再显示在任务栏上。在阅读了不同的线程后，我开始知道因为 RadWindow 不是 Window 的子级，所以这就是它不可能的原因。

所以现在我想做的是以**某种方式**完全隐藏外部窗口并将 RadWindow 用作子级，但所有其他控件的父级。以下是 XAML

```
<Window x:Class="MyTest.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
        WindowStyle="None"
        Title="MainWindow" >
    <telerik:RadWindow WindowStartupLocation="CenterScreen" Width="Auto" Height="Auto" x:Name="MyRadWindow">
    <Grid>
      <!-- All Controls here -->
    </Grid>
</telerik:RadWindow>
</Window> 
```

但我无法完全隐藏外窗。它仍然显示边界。然后作为第二步，我必须处理来自 this 的最小化、最大化和窗口关闭事件`RadWidow`。

如果有人尝试过这种方法，请帮助我或提出更好的方法？

**这样做的主要目的是将 Outerwindow 的 GUI 与当前的 TelerikTheme 同步。**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-07-02T12:41:15.770

使用 RadWindowInteropHelper 有一个更简单的解决方案，如下所示：

```
using Telerik.Windows.Controls.Navigation;
public partial class MyRadWindow : RadWindow
{
    public MyRadWindow()
    {
        InitializeComponent();
        RadWindowInteropHelper.SetShowInTaskbar(this, true);
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T06:02:13.947

我认为您应该尝试将主类设置为 Telerik 窗口，而不是嵌套在普通窗口中：

```
<telerik:RadWindow x:Class="MyTest.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
        WindowStyle="None" WindowStartupLocation="CenterScreen" ShowInTaskbar="True"
        Title="MainWindow" >
    <Grid>
      <!-- All Controls here -->
    </Grid>
</telerik:RadWindow> 
```

不要忘记将 MyTest.MainWindow 的基类更改为 RadWindow

编辑：抱歉没有注意到提供的链接。您可以尝试通过设置以下属性来隐藏主窗口并覆盖其样式：

```
WindowStyle="None" Background="Transparent" AllowsTransparency ="True" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-13T19:48:38.847

1.  首先打开 MainWindow.xaml 文件并将 Window 声明替换为 RadWindow 声明： `<telerik:RadWindow x:Class="RadWindowAsMainWindow.MainWindow" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation" Loaded="RadWindow_Loaded_1" Header="MainWindow" Height="350" Width="525">` ... `</telerik:RadWindow>`

并在代码隐藏中：`

```
public partial class MainWindow : RadWindow
    {
     ...
    } 
```

`2\. Then override OnStartup method of the Application class to show the RadWindow:`

```
public partial class App : Application
    {
        protected override void OnStartup(StartupEventArgs e)
        {
            new MainWindow().Show();
            base.OnStartup(e);
        }
    } 
```

`

1.  然后在 RadWindowLoad 事件中写下：`

    private void RadWindow_Loaded_1(object sender, RoutedEventArgs e) { var window = this.ParentOfType(); window.ShowInTaskbar = true; }

`

# node.js - expressjs 在 mongodb (mongoose) 数据库上存储会话的最佳会话存储是什么？

> ID：11896039
> 
> 赞同：0
> 
> 时间：2012-08-10T05:37:33.610
> 
> 标签：node.js, session, express

我正在使用 Express 开发应用程序。我目前正在使用内存来存储会话。但是，我想将它们存储在 mongodb 中。

我知道我可以开发一个商店（它只有 5 个功能）。但是，我想知道：是否有一个好的图书馆可以做到这一点？我安装了 connect-mongodb，但除了它具有古老版本的 connect、bson、mongodb 等作为依赖项之外......我想知道“当前”建立的方法是什么。

我也刚刚找到了 connect-mongo（只是为了添加到组合中）。

提示？

默克。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:23:18.530

我在回答您的其他问题时谈到了这一点，但旧版本的依赖项并不一定意味着模块已损坏；如果该模块适用于您的 MongoDB 版本并且有自己的测试通过，那么它很可能没问题（尽管有时值得确定它所依赖的旧版本的模块是否有危险的错误）。

如果您因为过时的依赖关系而决定不想使用该模块，您还可以查看其他更新的模块；乍一看，[connect-mongodb](https://github.com/masylum/connect-mongodb)可能是一个候选者。

# php - 是否可以在 joomla 的保护伞下包含外部 php？

> ID：11896042
> 
> 赞同：0
> 
> 时间：2012-08-10T05:38:10.647
> 
> 标签：php, joomla, joomla2.5

**细节**

在 Joomla 中，您可以通过在后端将 siteOffline 设置为 yes 来使您的站点无法访问。这可以防止不需要的用户访问任何 joomla 文件。不幸的是，与 Joomla 一起使用的任何外部 php 文件仍然可以访问。

**问题**

**1**如何使用外部 php 脚本检测 Joomla 站点是否已设置为脱机？

**2**当 Joomla 离线时，你有什么建议可以让外部 php 脚本无法访问？

提前谢谢了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:32:31.253

您可以在外部 php 文件中编写一个小代码来检查 Joomla 配置。

Siteoffline 保存在 joomla 配置中，因此您可以检查其值并采取相应措施。

在您的外部 php 文件中放置此代码

```
$config =& JFactory::getConfig();
$offline = $config->getValue( 'config.offline' );
if($offline == 1){
   die("site is offline");
} 
```

# windows-phone-7 - Windows Phone , 安装时间方法调用

> ID：11896047
> 
> 赞同：0
> 
> 时间：2012-08-10T05:39:01.987
> 
> 标签：windows-phone-7

有什么方法可以在应用程序的整个生命周期中只调用一次方法。例如：如果我想显示条款和条件屏幕。

如果用户同意，那么在应用程序的整个生命周期内，屏幕不应在那里显示。

有什么建议么 ？

# cocos2d-iphone - 在release模式下编译时无法使用cocos2d加载CCSpriteBatchNode

> ID：11896052
> 
> 赞同：0
> 
> 时间：2012-08-10T05:39:42.157
> 
> 标签：cocos2d-iphone, kobold2d

以下是我的程序的一部分：

```
CCSpriteFrameCache *frameCache = [CCSpriteFrameCache sharedSpriteFrameCache];
NSString *plistFileName = [NSString stringWithFormat:@"%@%@", aName, @".plist"];
NSString *pngFileName = [NSString stringWithFormat:@"%@%@", aName, @".png"];

[frameCache addSpriteFramesWithFile:plistFileName textureFilename:pngFileName];
self.sprite = [CCSprite spriteWithSpriteFrameName:@"bandit_standby_1"];
self.batchNode = [CCSpriteBatchNode batchNodeWithFile:pngFileName]; 
```

问题出现在最后一行：

```
self.batchNode = [CCSpriteBatchNode batchNodeWithFile:pngFileName]; 
```

在调试模式下编译时，没有任何问题。

但是，将模式更改为释放后，出现错误：

> ImageIO：CGImageSourceCreateWithData 数据参数为零

谁能告诉我哪里错了？

# extjs - 动态创建组件时的 ExtJS4 自定义事件

> ID：11896059
> 
> 赞同：1
> 
> 时间：2012-08-10T05:39:55.340
> 
> 标签：extjs, extjs4, custom-component, custom-event

我有个问题。我在我的应用程序中使用可观察模式来管理自定义事件：

```
var app = {};
app.Event =
{
    _observers:[], 
    subscribe:function (event, obj) {
        var c = obj || null;
        if (c) {
            this._observers.push({event:event, obj:obj, id:obj.id }); 
        }
    },

    fire:function (event, data) {
        var item;
        for (var i in this._observers) { 
            if (this._observers[i].event == event)
            {
                item = this._observers[i];
                item.obj.fireEvent(event, item.obj, data); 
            }
        }
    },

    unsubscribe:function (event, obj) {
        for (var i in this._observers) { 
            if (this._observers[i].id == obj.id) 
            {
                this._observers.splice(this._observers[i], 1)
                break;
            }
        }
    }
} 
```

我还有一个包含子自定义组件的大型自定义组件（称之为“Mr. Big”）。并且这些孩子会互相触发自定义事件。问题是在我的应用程序中，我可以拥有多个“先生”实例。Big' 和每个 'Mr.Big' 将被动态创建。Childs 也是动态创建的。

```
Ext.define('Mr. Big',{
 extend:'ME.view.portal.portalItems.base.Panel',
...
items: ['child 1','child 2']
}); 

Ext.define('child 1',{
...
 listeners:{
customEvent1: function(ev, data)
{
...
}
initComponent: function()
{
...
app.Event.subscribe('customEvent1',this);
...
}
}

Ext.define('child 2',{
...
 listeners:{
customEvent2: function(ev, data)
{
   app.Event.fire('customEvent1',anyData)
}
initComponent: function()
{
...
app.Event.subscribe('customEvent2',this);
...
}
} 
```

例如，我有 2 个“先生”实例。大的'。如果我想要“先生”的孩子 1 的 customEvent1，我需要做什么。Big 1 不会被“Mr.”的孩子 2 解雇。大 2'。

我的解决方案之一是：在执行任何操作之前使用 Mr.Bigs 及其子组件和处理程序的唯一 ID 写入：

```
 if (this.UID != data.UID)
 {
     return;
 } 
```

但是：如果我有 3 个或更多“先生”。Bigs 和他们每个人都有 9 个孩子，我的自定义事件将被触发很多次，以至于我认为我的应用程序速度存在问题。

请帮帮我！

# c# - 正则表达式删除引号中的空格以外的空格

> ID：11896060
> 
> 赞同：0
> 
> 时间：2012-08-10T05:39:56.243
> 
> 标签：c#, .net, regex

需要一个正则表达式，使用它可以删除除引号之外的字符中的空格

例如。假设我们有字符串

输入：想要“”改变世界1。

然后使用正则表达式删除后输出应该是

输出：Wantto" "changetheworld1.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T05:46:53.710

未经测试，但这应该这样做：

```
String.Join("\" \"", myStr.Split("\" \"").Select(x=>x.Replace(" ","")).ToArray()) 
```

它不是正则表达式，但我相信这要容易得多。编写一个正则表达式来做你想做的事将涉及前瞻和后瞻，老实说只是丑陋。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T07:33:40.890

试试这个正则表达式

输出：想要“”改变世界1

```
Regex.Replace("Want to " " change the world1",@"([a-zA-z]+)[\s]","$1") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T07:42:41.227

这是一个非常有趣的谜题。

请试试这个：

```
Regex.Replace("A test \" \" string", @"(?<!["" ])[ ]+|(?>[ ]+)(?!"")", "") 
```

输出将是“Atest”“字符串”。

# ruby-on-rails - “Postmark::InvalidMessageError：提供电子邮件 TextBody 或 HtmlBody 或两者。” 对于 rails 3.2 应用程序

> ID：11896064
> 
> 赞同：3
> 
> 时间：2012-08-10T05:40:19.910
> 
> 标签：ruby-on-rails, ruby-on-rails-3, actionmailer, postmark

我正在阅读 Postmark 文档，在那里看到了 rails gem（[github 链接](https://github.com/wildbit/postmark-rails)）。

我按照说明进行了设置，当我尝试发送电子邮件时遇到了这条消息：

```
Provide either email TextBody or HtmlBody or both. 
```

我的邮件中有我的电子邮件设置，如下所示：

```
mail(
  :to       => user.email,
  :subject  => "Thanks for signing up",
  :from     => "me@domain.com",
  "HtmlBody" => "<b>Hello</b>",
  "TextBody" => "Hello"
) 
```

如果您需要更多信息，请告诉我。我不确定这对于以前看到此错误的人来说是否足够详细。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-15T00:44:23.280

### 错误命名电子邮件视图

我遇到了同样的事情，这是由于我对与电子邮件相关的视图的命名错误。

例子

```
_user_first_logs_in.html.erb  # Was incorrectly using this.

user_first_logs_in.html.erb   # Should be using this. 
```

在本地对此进行测试的一个好方法是使用我们值得信赖的[37signals男孩提供的](http://37signals.com/)[mail_view](https://github.com/37signals/mail_view) gem，它允许您预览开发中的电子邮件。一探究竟。

这应该暴露出很多基本问题。

J.P

# mysql - 主必须包括表的分区位置错误中的所有列？

> ID：11896067
> 
> 赞同：22
> 
> 时间：2012-08-10T05:40:35.493
> 
> 标签：mysql, database

我试图创建一个具有范围分区的表。但它显示以下错误：

> 主数据库必须包括表分区位置中的所有列。

这是我的 SQL 语句：

```
CREATE TABLE `tbl_emp_confirmation` (
  `fld_id` int(11) NOT NULL AUTO_INCREMENT,
  `fldemp_id` varchar(100) DEFAULT NULL,
  `fldempname` varchar(100) DEFAULT NULL,
  `fldjoindate` varchar(100) DEFAULT NULL,
  `fldconfirmdate` Date NOT NULL,
  `fldresigndate` varchar(100) DEFAULT NULL,
  `fldstatus` varchar(50) DEFAULT NULL,
  `fldcon_status` varchar(100) DEFAULT NULL,
  UNIQUE KEY `fld_id` (`fld_id`),
  KEY `in_empconfirmation` (`fldemp_id`,`fldempname`,`fldjoindate`,`fldconfirmdate`)
  ) PARTITION BY RANGE ( Month(fldconfirmdate))
  (PARTITION p_JAN VALUES LESS THAN (TO_DAYS('2011-01-01')),
 PARTITION p_FEB VALUES LESS THAN (TO_DAYS('2011-02-01')),
 PARTITION p_MAR VALUES LESS THAN (TO_DAYS('2011-03-01')),
 PARTITION p_APR VALUES LESS THAN (TO_DAYS('2011-04-01')),
 PARTITION p_MAY VALUES LESS THAN (TO_DAYS('2011-05-01')),
 PARTITION p_MAX VALUES LESS THAN MAXVALUE ); 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-08-10T07:11:53.193

您正在使用 fldconfirmdate 对数据进行分区，它是您的 PK 的一部分，但不是您的 UNIQUE KEY fld_id 的一部分。

这是从[MySQL 手册](https://dev.mysql.com/doc/refman/5.7/en/partitioning-limitations-partitioning-keys-unique-keys.html)中提取的：

> *换句话说，表上的每个唯一键都必须使用表分区表达式中的每一列。*

这意味着，使 fldconfirmdate 成为您的 UNIQUE KEY 'fld_id' 的一部分将解决问题。

```
CREATE TABLE `tbl_emp_confirmation` (
  `fld_id` int(11) NOT NULL AUTO_INCREMENT,
  `fldemp_id` varchar(100) DEFAULT NULL,
  `fldempname` varchar(100) DEFAULT NULL,
  `fldjoindate` varchar(100) DEFAULT NULL,
  `fldconfirmdate` Date NOT NULL,
  `fldresigndate` varchar(100) DEFAULT NULL,
  `fldstatus` varchar(50) DEFAULT NULL,
  `fldcon_status` varchar(100) DEFAULT NULL,
  UNIQUE KEY `fld_id` (`fld_id`, `fldconfirmdate`),
  KEY `in_empconfirmation` (`fldemp_id`,`fldempname`,`fldjoindate`,`fldconfirmdate`)
  ) PARTITION BY RANGE ( Month(fldconfirmdate))
  (PARTITION p_JAN VALUES LESS THAN (TO_DAYS('2011-01-01')),
 PARTITION p_FEB VALUES LESS THAN (TO_DAYS('2011-02-01')),
 PARTITION p_MAR VALUES LESS THAN (TO_DAYS('2011-03-01')),
 PARTITION p_APR VALUES LESS THAN (TO_DAYS('2011-04-01')),
 PARTITION p_MAY VALUES LESS THAN (TO_DAYS('2011-05-01')),
 PARTITION p_MAX VALUES LESS THAN MAXVALUE ); 
```

# asp.net - 用于 asp.net 的谷歌地图

> ID：11896068
> 
> 赞同：0
> 
> 时间：2012-08-10T05:40:38.753
> 
> 标签：asp.net, sql-server-2005, google-maps

我有 sql server 表，其中一列是纬度，另一列是经度。我在这个表中有 950 行。现在我想为所有这 950 行添加谷歌地图标记点。所以总共 950 点。我正在使用谷歌用于执行此任务的 ASP.Net 地图控件。要在地图中添加单个点，以下是代码。

```
GooglePoint GP = new GooglePoint();
GP.Latitude = 43.65669;
GP.Longitude = -79.43270;
GoogleMapForASPNet1.GoogleMapObject.Points.Add(GP); 
```

现在我想从我的 sql 服务器表中获取这个 lat 和 long 。所以它应该添加自己地图中的所有点。请帮助我如何做到这一点。任何示例代码？现在我已经尝试使用此代码。但我没有明白这一点。

```
protected void Page_Load(object sender, EventArgs e)
    {
        GoogleMapForASPNet1.GoogleMapObject.Width = "1000px";
        GoogleMapForASPNet1.GoogleMapObject.Height = "800px";
        GoogleMapForASPNet1.GoogleMapObject.MapType = "Hybrid";

        SqlConnection con = new SqlConnection();
        con.ConnectionString = "Data Source=GEOFINY5;Initial Catalog=sample;Integrated Security=True";
        try
        {
            SqlCommand cmd = new SqlCommand("Select lat,long from map",con);
            con.Open();
            SqlDataReader dr = cmd.ExecuteReader();
            //int i = 0;
            while (dr.Read())
            {
                GooglePoint gp = new GooglePoint();
                //gp.ID = i.ToString;
                gp.Latitude = Convert.ToDouble(dr.GetValue(1));
                gp.Longitude = Convert.ToDouble(dr.GetValue(2));
                gp.InfoHTML = "Hello!!";
                GoogleMapForASPNet1.GoogleMapObject.Points.Add(gp);
            }
            con.Close();

        }
        catch(Exception ex)
        {

        }

    } 
```

注意：我已经将 Google Map JavaScript API V3 与融合表一起使用。但现在我更喜欢使用 sql server 而不是融合表。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T07:07:40.487

以这种方式尝试

```
<iframe align="middle" width="800" height="400" src="http://regiohelden.de/google-maps/map.php?width=800&amp;height=400&amp;hl=de&amp;q=<%#Eval("Hotel_Address") %> <%#Eval("Hotel_City") %>+(<%#Eval("Hotel_Name") %>)&amp;ie=UTF8&amp;t=&amp;z=16&amp;iwloc=B&amp;output=embed" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe> 
```

并在 web.config 文件中使用它

```
 <appSettings>
    <add key="googlemaps.subgurim.net" value="ABQIAAAA5b0MiuEiQRYUHB2eaeT5XRRRh87LaJKgnubN7EENjpWM3qNBVhSyngHVcUObtYAlLD3CLsIR0Jd7TA"/>
<add key="localhost.SlideShow" value="http://localhost/maabookings/SlideShow.asmx"/>
</appSettings> 
```

# javascript - 在黑莓网络中检索方向更改事件？

> ID：11896070
> 
> 赞同：1
> 
> 时间：2012-08-10T05:40:57.357
> 
> 标签：javascript, orientation, blackberry-webworks

1）如何在黑莓网络中检索方向更改事件？

2) 我们可以在运行时使用 JavaScript 以编程方式改变方向吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-15T15:26:50.550

这里有一个 KB 用于检索方向更改事件：http: [//supportforums.blackberry.com/t5/Web-and-WebWorks-Development/Detect-screen-orientation-changes-using-JavaScript/ta-p/445755](http://supportforums.blackberry.com/t5/Web-and-WebWorks-Development/Detect-screen-orientation-changes-using-JavaScript/ta-p/445755)

或者，您可以监听 window.onresize。

此时您无法以编程方式更改方向，但您可以在编译时通过 rim:orientation 属性： [https ://developer.blackberry.com/html5/documentation/rim_orientation_element_1594186_11.html](https://developer.blackberry.com/html5/documentation/rim_orientation_element_1594186_11.html)

# c++ - 向量扩展和线程例程

> ID：11896075
> 
> 赞同：1
> 
> 时间：2012-08-10T05:41:41.563
> 
> 标签：c++, vector

我有这个问题，有一个`Manager`会创建几个`Worker`s来做一些工作，每个worker会触发一个线程，代码如下：

```
void Manager::create_workers(int n)
{
    _workers_vec.push_back( Worker() );  //save workers in Manager::_workers_vec
    _workers_vec.back().start();  //call the newly created worker's start() to fire a thread
}

void Worker::start()
{
    pthread_create(&_thread_id, NULL, routine, this);  //here is the problem
} 
```

问题是，`Worker`的线程例程将`this`作为例程参数以使用 的某些数据成员`Worker`，但是`Worker`对象被创建并推回`Manager::_workers_vec`，当`_workers_vec`的容量不足以容纳更多`Worker`对象时，它必须扩展，在此期间旧`Worker`对象将被复制到新分配的空间，然后被销毁。

这将导致`Segment fault`, 因为线程`routine`正在运行并`this`用作传入的参数，并且在' 扩展`this`期间被破坏。`vector`

除了`_workers_vec`从`vector<Worker>`to更改之外`vector<Worker *>`，关于如何处理`routine`' 传入参数的任何更好的想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T05:52:26.980

好吧，我想你已经得到了答案 - 指针。除此之外但类似的是涉及某种智能指针，例如 boost::shared_ptr 或 std::shared_ptr （如果您可以使用 C++11 标准）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T06:05:42.377

这取决于您为什么要使用向量。您可以使用 std::deque 代替，双端队列在增长时不会重新分配，数据存储在块中，当它增长超出其容量时，新的块将添加到双端队列中。

因此，双端队列的数据不是连续的，因此如果您担心在编译时知道容器的大小，则可以使用 std::array，或者如果您在运行时知道它，则可以使用 std::vector。 reserve() 分配所需的内存量。

如果您不需要对容器进行持续时间访问，也可以使用链表。

或者，如果您在 C++11 或 std::shared_ptr 中，则可以使用带有 std::unique_ptr 的向量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T05:55:42.220

我希望你能解释为什么你不想要矢量。我相信每个解决方案都会在某个时候使用指针。您可以将容器更改为列表而不是向量，但这实质上意味着使用指针并在堆上分配每个 Worker。

# ruby-on-rails - 如何为 Neo4j 实现基于 Web 的图形编辑？

> ID：11896078
> 
> 赞同：5
> 
> 时间：2012-08-10T05:42:01.267
> 
> 标签：ruby-on-rails, playframework, vaadin, neo4j, graph-visualization

我正在构建一个在 Neo4j 中存储语义图的应用程序。我想要一个允许编辑图形的网络界面，例如通过几次单击和拖放添加新关系，并通过简单的弹出窗口编辑节点属性。

图形编辑器最好是基于 JavaScript 的，但我也有兴趣了解其他选项（Flash、Java 小程序等）。

Neo4j 将处于服务器或嵌入式服务器模式。嵌入式模式是不可接受的，因为我也想使用 Neo4j 自己的 Web 界面访问服务器。

我也在尝试寻找合适的网络框架。我主要有 Rails 的经验，但最近我对 Vaadin 很感兴趣，因为它提供了开箱即用的简洁 UI 组件。Play 似乎也不错，但最新版本似乎没有那么多模块。

因此，我一直在考虑 Web 应用程序的以下框架：

**Play** Well，主要是因为我喜欢 Scala，而且 Play 在最近的版本中似乎有很好的支持。但是，也许生态系统太小了（支持、库数量）？

**Rails** 我非常喜欢 Rails。但是，我不知道 Rails 的任何图形插件或集成。也许我应该自己创建一个（从哪里开始？）？哪个 JavaScript 图形库适合 Rails？

**Vaadin** 实际上我最近才遇到 Vaadin。Vaadin 具有良好的 IDE 支持和许多现成的 UI 组件。Vaadin 似乎至少有一个像样的图形插件（[Cytographer](https://vaadin.com/directory#addon/cytographer)）。不过，我没有任何 Cytoscape 经验或它如何与 Neo4j 一起使用。

## 我遇到的一些 JavaScript 库：

*   [处理.js](http://processingjs.org/)
*   [sigma.js](http://sigmajs.org/)
*   [VivaGraphJS](https://github.com/anvaka/VivaGraphJS/)
*   [信息可视](http://thejit.org/)

明确一点：我不是在寻找*图表*工具，而是*图形*绘制和编辑工具，它与底层 Web 应用程序框架和 Neo4j 很好地集成在一起。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T09:49:39.883

这是部分答案。对于前端，请查看 jsPlumb。有几个工具包可以让您进行图形可视化，但 jsPlumb 提供了可视化图形编辑的方法。

项目主页在这里：http: [//jsplumb.org/](http://jsplumb.org/)

# performance - 使用搅拌机，渲染速度更快？

> ID：11896082
> 
> 赞同：1
> 
> 时间：2012-08-10T05:42:21.173
> 
> 标签：performance, render, blender

我是一名计算机科学专业的学生，​​我有一个关于在搅拌机上做一些 3D 人物以及一些 3D 动画的作业。我知道渲染速度将取决于您选择的参数，但问题是，因为我有两台笔记本电脑：

以下哪一项在搅拌机中渲染得更快：

--------康柏Presario F700--------

*   4GB 内存
*   AMD 速龙 X2 1.9 GHz（64 位）
*   nVidia gForce（不确定型号，但很旧）
*   Ubuntu 12.04

或者

---------宏碁Aspire 5742-6838----------

*   4GB 内存
*   英特尔酷睿 i5 2.67GHz（64 位）
*   英特尔高清显卡
*   Windows 7的

谢谢你的建议 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T07:54:18.167

我猜 nVidia 工作得很快，因为你可以从 graphicsl.org 获得一个 CUDA 优化的搅拌器构建（猜测你有一个不错的显卡并且你使用循环）

如果您的材料不是循环材料，并且您打算使用 Blender 内部（旧）渲染器，请忘记 nVidia 之一，选择最大数量的系统。CPU 和最快的 CPU。

# php - PHP复杂替换文本中的括号变量

> ID：11896083
> 
> 赞同：0
> 
> 时间：2012-08-10T05:42:24.967
> 
> 标签：php, regex, parsing

我创建了一个电子邮件模板，我希望能够使用 [NAME]、[EMAIL]、[PHONE] 等内容，并在发送时替换它们。这些很简单，但我还有其他更复杂的标签，如 [PRODUCT:12]、[ARTICLE:23] 等，我想在第一部分中读取“类型”，然后将第二部分作为值处理。

我猜我需要某种 preg_match 然后 preg_replace，但我真的很茫然，因为我不擅长这些功能。

有什么建议么？

- -编辑 - -

只是要清楚。问题在于两部分括号中的 var:value 对。我需要能够看到它是 PRODUCT 并查找返回产品的 id=12 以便我可以建立链接。

---编辑2---

```
public function parse_message_tags($matches){

    $keys = explode(':', $matches[1]);
    $key = $keys[0];
    $id = (array_key_exists(1, $keys)) ? $keys[1] : -1;
    switch ($key) {
       case 'NAME':
          return $this->session->member->name();
       break;
       case 'FIRST_NAME':
          return $this->session->member->first_name;
       break;
       case 'EMAIL':
          return $this->session->member->email;
       break;
       case 'PRODUCT':
          $product = Product::find_by_id($id);
          return '<a href="/products/'.$product->seo_name.'">'.$product->name.'</a>';
       break;
       case 'ARTICLE':
          $product = Article::find_by_id($id);
          return '<a href="/blog/'.$article->seo_title.'">'.$article->name.'</a>';
       break;
    }

}

public function parse_message($input)
{
    $pattern = '/\[(NAME|FIRST_NAME|EMAIL|PHONE|PRODUCT:\d+|ARTICLE:\d+)\]/';
    return preg_replace_callback($pattern, create_function('$matches', 'return self::parse_message_tags;'), $input);

} 
```

结果：

致命错误：当没有类范围处于活动状态时无法访问 self::

或者

致命错误：不在对象上下文中使用 $this

我猜 create_function() 会将您带出范围/上下文。显然我在这里使用类方法，所以简单地调用“parse_message_tags”不是一种选择。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:43:57.283

在这种情况下使用的函数是 preg_replace_callback()，因为您需要在索引上执行数组查找第二种类型的标签。在这里将代码包装在一个类中很有用。我们需要以某种方式将数据交给回调函数。使用全局变量会很丑陋。

```
class EmailTemplate {

    protected $text;
    protected $data;

    public function __construct($text, $data) {
        $this->text = $text;
        $this->data = $data;
    }

    public function callback($matches) {
        $replacement = null;
        $name = $matches[1];
        $index = (int) $matches[2];
        if(isset($this->data[$name])) {
            $value = $this->data[$name];
            if(is_scalar($value)) {
                $replacement = $value;
            } else {
                if(isset($value[$index])) {
                    $replacement = $value[$index];
                }
            }
        }
        return $replacement;
    }

    public function __toString() {
        return preg_replace_callback('/\[(\w+)(?:\:(\d+))?\]/', array($this, 'callback'), $this->text);
    }
}

$data = array(
    "NAME" => "Bob",
    "PRODUCT" => array("dog", "cat", "eggplant")
);
$email = new EmailTemplate("Dear [NAME], please buy my [PRODUCT:2]", $data);

echo $email; 
```

该模式可能看起来有些令人困惑。这里的关键是 (?: )? 部分。第二个问号表示其中的模式 \:(\d+) 是可选的。第一个问号和冒号对字符进行分组而不捕获它们。在这里使用它是因为我们只需要数组查找的数字。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:02:14.787

此正则表达式与 Id 匹配，并应在文本中为您提供 Id：`\[([A-Z]*):(\d*)\]` 新的正则表达式`\[([A-Z]*:?\d*)\]`匹配两者。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T06:02:30.930

你可以使用这样的函数：

```
function parse_tag($tag) {
  preg_match('#\[(.*?)\]#', $tag, $matches);
  return explode(':', $matches[1]);
} 
```

要将其投入使用，您可能会执行以下操作：

```
$tests = array(
  '[NAME]' => array('NAME'),
  '[PRODUCT:SHIRT]' => array('PRODUCT', 'SHIRT'), 
  '[ARTICLE:23]' => array('ARTICLE', 23)
);

foreach($tests as $search => $expected) {
  $result = parse_tag($search);
  assert($expected == $result);
} 
```

[在此处](http://ideone.com/wwzC2)查看一个工作示例

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T07:22:48.680

这可以使用以下方法相对干净地完成[`preg_replace_callback()`](http://www.php.net/manual/en/function.preg-replace-callback.php)：

```
$pattern = '/\[(NAME|EMAIL|PHONE|PRODUCT:\d+|ARTICLE:\d+)\]/';

function callbackHandler($matches) {
    $keys = explode(':', $matches[1]);
    $key = $keys[0];
    $id = (array_key_exists(1, $keys)) ? $keys[1] : -1;
    switch ($key) {
        case 'NAME':
            return '##name##';
        break;
        case 'EMAIL':
            return '##email##';
        break;
        case 'PHONE':
            return '##phone##';
        break;
        case 'PRODUCT':
            return '##product id:'.$id.'##';
        break;
        case 'ARTICLE':
            return '##article id:'.$id.'##';
        break;
    }
}

$string = "Hello [NAME], have you checked out our latest product [PRODUCT:32]. We're sure you'll like it! If you don't we'll call you on [PHONE] and link you to [ARTICLE:12], which will put your email ([EMAIL]) on our hourly email newsletter";

echo preg_replace_callback($pattern, 'callbackHandler', $string); 
```

回报：

> 您好##name##，您查看了我们的最新产品##product id:32##。我们相信你会喜欢的！如果您不这样做，我们会在 ##phone## 上给您打电话并将您链接到 ##article id:12##，这会将您的电子邮件 (##email##) 放在我们的每小时电子邮件通讯中

# [在键盘上查看](http://codepad.org/I0gn1IR1)

# jquery - 用jquery垂直对齐div

> ID：11896091
> 
> 赞同：2
> 
> 时间：2012-08-10T05:43:43.893
> 
> 标签：jquery, jquery-ui

我已经为此工作了几个小时，我就是想不通，

假设我有很多浮动的 div，并附有 jquery `draggable`，所以它们的位置一直在变化。

现在我希望能够将它们垂直隔开，所以每个 div 之间的空间是相同的，最大的问题之一是每个 div 的高度也在不断变化。

每次我尝试正确地做这件事时，我只写了大约 100 行代码，我只是迷失在混乱中，也许有一些简单的方法可以做到这一点，顺便说一下，这是它的外观示例，我没有包括我的任何书面代码，因为它没有多大意义。

[http://jsfiddle.net/M6PmM/](http://jsfiddle.net/M6PmM/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:12:47.537

看到您的问题的不同解释很有趣。当我想到垂直对齐时，我想到了 Adob​​e Illustrator，以及如何均匀地间隔多个选定的形状。为此，您可以这样做：

注意：这可以很容易地调整以保持元素之间的均匀间隙，无论它们各自的高度如何。

```
$('.align').click(function() {

    // Cache the elements
    var $obj = $('.obj');

    // Sort them by offset top
    $obj = $obj.sort(function(a, b) {
        return $(a).offset().top - $(b).offset().top;
    });

    // Get get the offset of the first and last elements
    // NOTE that we included the last element's height... you may need to tweak it
    // here due to CSS borders adding to the height
    var firstOffsetTop = $obj.first().offset().top;
    var lastOffsetTop = $obj.last().offset().top + $obj.last().height();

    // The new container height is the difference between the first,
    // and last element's position
    var containerHeight = lastOffsetTop - firstOffsetTop;

    // Determine the gap between each element, based on the height of the container
    // divided by the number of elements
    var spacing = containerHeight / $obj.length;

    // Assign top properties
    $obj.each(function(i, el) {
        $(this).css('top', (i * spacing) + firstOffsetTop + 'px');
    });

}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:36:55.053

迟到了，但这可能是另一种方法：

```
$('.align').click(function(){

    var t = 0;
    var dist = 10;

    $('.obj').each(function(i,e){

        t += $('.obj').eq(i-1).height() + dist;

        $(this).animate({

            left: $('.container').offset().left + dist,
            top: t

         }, 500);

    });

}); 
```

# image - SSRS - Reportviewer 导出为 pdf 被截断并分成页面

> ID：11896092
> 
> 赞同：0
> 
> 时间：2012-08-10T05:43:45.523
> 
> 标签：image, ssrs-2008, reportviewer, export-to-pdf

我创建了包含数据表的 rdl 文件。使用reportviewer 查看报告。如果我将报告导出为 word doc，它的格式和顺序与报告中的相同，但 pdf 文件中的内容会被截断并在页面中中断。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T07:00:45.940

[这个](http://social.msdn.microsoft.com/forums/en-US/vsreportcontrols/thread/ff21dfb1-fbb9-42f8-8735-515840b7e4ad/)MSDN 论坛解决方案对我有用。

上述论坛帖子的工作答案 -

> 在报告属性对话框中，如果我将页面宽度设置为 8.27 英寸，页面高度设置为 11.69 英寸，则 ReportViewer 的页面设置对话框默认为 A4。
> 
> 在报告属性对话框中，如果我将页面宽度设置为 11.69 英寸，页面高度设置为 8.27 英寸，则 ReportViewer 的页面设置对话框默认为 A4，方向默认为横向。

# php - 查找在 php 中输入的总页码

> ID：11896095
> 
> 赞同：1
> 
> 时间：2012-08-10T05:44:01.873
> 
> 标签：php, arrays, cakephp

我制作了一个标记为“**页码**”的文本框。

用户可以按任何顺序输入页码，例如`1, 3, 6`.

如果用户输入`1, 4, 2, 6-8, 10`. 然后我应该知道用户选择的页码`1, 2, 4, 6, 7, 8, 10`。

这意味着用户还可以输入范围以及逗号分隔的数字，就像我们在打印文档时给出页码一样。

页的顺序号也可以更改。例如`5, 6, 4-8, 1`。这些数字可以重复，但我只需要唯一的页码。

我如何在 PHP 中做到这一点？提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T05:54:59.200

进攻计划如下：

1.  用逗号分割字符串并遍历值
2.  对于每个值，验证它是一个数字还是由连字符分隔的两个数字
3.  如果是单个数字，请将其添加到您的页码集中
4.  如果它是一个范围，则用连字符分割字符串
5.  确定哪个数字是较小的，for循环从较小的数字到较大的数字，每次将数字添加到集合中
6.  对集合进行排序。

我将 set 设置为 assoc 数组，当我向其中添加数字时，我会将其设置为键。例如

```
$pageNumbers[$number] = true; 
```

这是代码：

```
$pageNumberStr = $_REQUEST['pageNumberStr'];

$components = explode(",", $pageNumberStr);

$pageNumbers = array();

foreach ($components as $component) {
   $component = trim($component);
   if (preg_match('/^\d+$/', $component)) {
      $pageNumbers[$component] = true;
   } else if (preg_match('/^(\d+)-(\d+)$/', $component, $matches)) {
      $first = min($matches[1], $matches[2]);
      $last = max($matches[1], $matches[2]);

      for ($i = $first; $i <= $last; $i++) {
         $pageNumbers[$i] = true;
      }
   }
}

$pageNumbers = array_keys($pageNumbers);
sort($pageNumbers); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T06:17:27.677

我认为我的答案不如 emuranos 好，但这是我突然想到的，因为我不知道如何使用正则表达式（这也要求他们输入页面范围为 min-max 而不是 max-min，并且输入所有带有“,”的数字）：

```
$answer = array();
$text = "1, 4, 2, 6-8, 10, 2-4, 9, 10";
$nums = explode(", ", $text);

foreach ($nums as $value)
{
    if (strpos($value, "-") == false)
        if (!in_array($value, $answer)) array_push($answer, $value);
    else
    {
        $newVal = split("-", $value);
        for ($i = $newVal[0]; $i <= $newVal[1]; $i++)
            if (!in_array($i, $answer)) array_push($answer, $i);
    }
}

sort($answer); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T05:51:18.037

您可以分解您的文本框值并对该数组进行排序，然后从该数组中找出具有范围的值并将该值推送到数组中（如果不存在）并再次对其进行排序。我想这会做到的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T07:53:49.553

更紧凑的东西：

```
<?php
function parsePages($values) {
    foreach(explode(',', $values) as $val) {
        $val = trim($val);
        if (ctype_digit($val)) {
            $pages[] = $val;
        } elseif (preg_match('/^(\d+)-(\d+)$/', $val, $matches)) {
            $pages = array_merge($pages, range($matches[1], $matches[2]));
        }
    }
    return array_unique($pages);
} 
```

`\d+`匹配一个或多个。`\d*`匹配 0 个或更多，因此它只匹配一个`-`字符串。

# python - 使用已经“加载”的模型实例中的数据加载 Django 表单对象

> ID：11896096
> 
> 赞同：3
> 
> 时间：2012-08-10T05:44:03.847
> 
> 标签：python, django, django-forms, django-templates, django-views

我在 Django 中有以下类型的模板：

```
 <form .... >
      <label class="control-label" for="id_quantity">Quantiy</label>
      {{ form.quantity }}

      <label class="control-label" for="id_title">Quantiy</label>
      {{ form.title}}

    </form> 
```

视图在其上下文中包含一个 ModelForm 对象，模板中的“form”变量是从该对象派生的。

通常，您可以传递一个绑定到诸如 request.POST 之类的数据的表单。如何加载绑定到模型特定实例数据的表单？有什么特殊的语法吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-10T06:32:11.113

这里有两个选项：

```
MyModelForm(instance=myInstanceModel)
MyModelForm(initial={ "my": "initial-data" }) 
```

# visual-studio-2010 - VS 2010 中的断点仍然存在，即使在删除它们之后也是如此

> ID：11896097
> 
> 赞同：0
> 
> 时间：2012-08-10T05:44:05.417
> 
> 标签：visual-studio-2010, breakpoints

> **可能重复：**
> [调试时可以永久删除断点吗？](https://stackoverflow.com/questions/4581304/possible-to-delete-a-breakpoint-for-good-when-debugging)

我正在使用 Visual Studio 2010。在调试代码时，我在某些行设置了断点。我后来删除了其中一些。但是下次当我运行调试相同的代码时，这些断点会重新出现，我必须按 F5 来跳过它们。谁能告诉我为什么这个断点在禁用它们后重新出现。我怎样才能防止这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-22T10:12:41.347

在开始调试之前，我已经放置了断点。然后我在调试代码时删除了它们，这就是它不断出现的原因。一旦我在停止调试后删除它们，问题就解决了。

# php - 多个站点的单点登录

> ID：11896100
> 
> 赞同：0
> 
> 时间：2012-08-10T05:44:23.620
> 
> 标签：php, single-sign-on

我有`domain1.com`一个登录屏幕和`domain2.com`另一个登录屏幕`login.php`

当用户访问`domain2.com`时，如果他已经登录`domain1.com`，请求应该被重定向到`domain2.com\index.php`

知道如何实现这一目标吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:51:07.327

您无法以正常方式使用 cookie 和会话。

对于跨域登录，这就是 Stackoverlow 网站的做法。读[这个](https://blog.stackoverflow.com/2010/09/global-network-auto-login/)，[但这个](https://meta.stackexchange.com/questions/64260/how-does-sos-new-auto-login-feature-work/64274#64274)

# php - 存在关系的空mysql数据库

> ID：11896103
> 
> 赞同：0
> 
> 时间：2012-08-10T05:44:25.140
> 
> 标签：php, mysql, database

我试图通过 phpmyadmin 重置我的数据库，但它不起作用，因为关系存在于其他表中。

我处于开发阶段，我想清除我所有的表记录。

实现这一目标的最佳方法是什么？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T05:45:50.757

删除所有表索引（除了主键），然后截断所有表。

如果表上有外键约束，则首先从子表中删除关系，然后从父表中删除索引

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T05:48:02.450

我认为一种解决方案是从 phpMyAdmin 中导出数据库结构（当然您也可以通过控制台/终端执行此操作），然后删除整个数据库，然后从导出的文件中重新创建它。

# java - 在远程服务器上运行命令行

> ID：11896105
> 
> 赞同：0
> 
> 时间：2012-08-10T05:44:38.210
> 
> 标签：java, servlets

我有一个命令（实际上它是一个 Hadoop 作业命令，例如）“hadoop jar”，需要在我知道其 IP 地址的服务器上运行。

如何从我的 java 代码中调用命令？

谢谢阿布舍克 S

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T08:06:51.703

实现另外两个应用程序，第一个在服务器上运行并启动您的命令，第二个在客户端运行并通过网络套接字连接向服务器发送命令。服务器应用程序接收客户端请求并在服务器主机上运行所需的命令行。

要在本地主机上执行命令（对于服务器端应用程序），请使用[Runtime 类](http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html)及其`exec()`方法。

# arrays - for循环递归

> ID：11896107
> 
> 赞同：0
> 
> 时间：2012-08-10T05:44:46.947
> 
> 标签：arrays, list, loops, erlang

我正在学习大学的数据结构课程，我正在努力理解它。我对 C 中的递归和循环有一个大致的了解，但我无法理解如何在 erlang 中实现循环。例如，我在 c 中的一个程序中有以下循环：

```
int ii;
double cos_lat[8];    
for(ii = 2, cos_lat[1] = cos(lat); ii <= 7;; ii++)
{
 cos_lat[ii] = cos_lat[1] * cos_lat[ii-1]
} 
```

而且我对如何在 erlang 中实现它一无所知。我知道我必须创建自己的循环定义，例如：

```
for(Max, Max, F) -> [F(Max)];
for(I, Max, F) -> [F(I)|for(I+1, Max, F)]. 
```

（取自实用的二郎）

然后按如下方式调用它：

```
for(2,7,fun(ii) -> // this is where i get stuck. 
```

我认为我必须在数组（例如列表）上使用不同的数据结构，但我不确定如何访问列表。

感谢您的回复。只是一个更新（14/8）。我试图对代码进行递归，如下所示：

```
-module(cos1).
-export([cos_lat/1]).
cos_lat(Base, Iterator, Prev) -> [Base*Prev|cos_lat(Base,Iterator+1,Base*Prev)];
cos_lat(Base, 7, Prev) -> []. 
```

并将其称为如下：

```
cos1:cost_lat(cos(lat),2,cos(lat). 
```

但它就是不想工作！Erlang 确实是一门令人困惑的语言。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T07:43:40.437

让我们看一下“for”循环结构。

它包含**初始化块**、**条件块**和**更新块**。循环有一个**状态**（一开始实际上是在初始化块中定义的）。 *无论您要处理哪种数据结构，因为循环的结构通常是相同的。**循环状态**封装了实际的数据结构。*

此外，您可能会看到**条件块**和**更新块**通常**是循环状态的函数**。

使用这些信息，让我们创建通用循环函数：

```
-module( loops ).
-export( [ for/3 ] ).

for( State, ConditionFunc, LoopFunc ) ->
        case ConditionFunc( State ) of
                true ->
                        NewState = LoopFunc( State ),
                        % next iteration
                        for( NewState, ConditionFunc, LoopFunc );
                false ->
                        % terminate and return
                        State
        end. 
```

例如，让我们使用我们的函数创建一个从 1 到 10 的数字列表（在 eralng shell 中）：

```
1> c(loops). 
{ok,loops}
2> 
2> ConditionFunc = 
2> fun( { 0, List } ) -> false;
2> ( _ ) -> true 
2> end.
#Fun<erl_eval.6.82930912>
3> 
3> LoopFunc = 
3> fun( { N, List } ) -> { N - 1, [ N | List ] } end. 
#Fun<erl_eval.6.82930912>
4> 
4> { _, Result } = loops:for( { 10, [] }, ConditionFunc, LoopFunc ).
{0,[1,2,3,4,5,6,7,8,9,10]}
5> 
5> Result.
[1,2,3,4,5,6,7,8,9,10]
6> 
```

这不是创建数字序列的最佳方法，仅用于说明。总是你可能会发现更优雅的递归解决方案与循环解决方案。对于我们的示例，下一个解决方案更可取：

```
seq( A, B ) ->
        my_seq( A - 1, B, [] ).

my_seq( A, A, List ) ->
        List;
my_seq( A, B, List ) ->
        my_seq( A, B - 1, [ B | List ] ). 
```

在外壳中：

```
1> loops:seq( 1, 10 ).
[1,2,3,4,5,6,7,8,9,10] 
```

或者只是使用标准库列表中的函数:)

```
2> lists:seq( 1, 10 ).
[1,2,3,4,5,6,7,8,9,10] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T13:18:29.300

在此刻：

```
for(2,7,fun(ii) -> // this is where i get stuck. 
```

您`fun`正在使用索引调用，但您实际上对索引并不感兴趣 - 您需要在上一次迭代中添加到列表中的值。您可以将其作为第四个参数传递给您的`for`函数；第一次调用它时，您需要使用 播种它`cos(lat)`，并在每个递归步骤中使用新值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-15T07:27:56.923

以防万一有人感兴趣。我解决了如下问题：

```
 -module(cos_lat).
    -export([cos_lat/3]).

     cos_lat(_Base, _Iterator, _Prev) ->
     cos_lat(_Base, _Iterator, _Prev, []).

     cos_lat(_Base,0, _Prev, _Co) ->
     lists:reverse(_Co);

     cos_lat(Base, Iterator, Prev, Co) -> 
     cos_lat(Base, Iterator-1, Base*Prev, [Prev*Base|Co]). 
```

因此，要调用它，您将输入：

```
 cos_lat:cos_lat(math:cos(lat),7,math:cos(lat)). 
```

# html - 使用 HTML5 File API 对音乐文件进行设备扫描

> ID：11896108
> 
> 赞同：1
> 
> 时间：2012-08-10T05:44:59.370
> 
> 标签：html, file, api, blackberry-webworks

我正在使用 Blackbery 10 Webworks，我想添加一个从设备扫描音乐文件的功能，并获取他们的信息，如艺术家姓名、专辑等。

这可以使用 HTML5 File API 来实现吗？如果是的话，如何做到这一点，一个小的工作示例会有所帮助。

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-15T16:15:55.173

未经测试，但理论上这似乎是合理的。首先，我会在这里查看这个博客：http: [//ericbidelman.tumblr.com/post/8343485440/reading-mp3-id3-tags-in-javascript](http://ericbidelman.tumblr.com/post/8343485440/reading-mp3-id3-tags-in-javascript)

一个问题是它利用了 FileReader.readAsArrayBuffer，而 BB10 还没有实现这一点（但它确实有 readAsDataURL 和 readAsText）： [https ://developer.blackberry.com/html5/apis/filereader.html](https://developer.blackberry.com/html5/apis/filereader.html)

我们可以在这里详细查看每个函数：http: [//www.html5rocks.com/en/tutorials/file/dndfiles/](http://www.html5rocks.com/en/tutorials/file/dndfiles/)

最后，这里是如何从字符串 (readAsText) 转换为 ArrayBuffer (readAsArrayBuffer)： [http ://updates.html5rocks.com/2012/06/How-to-convert-ArrayBuffer-to-and-from-String](http://updates.html5rocks.com/2012/06/How-to-convert-ArrayBuffer-to-and-from-String)

因此，从技术上讲，如果我们将文件作为字符串读取并转换为 ArrayBuffer，我们应该能够实现上面第一个 URL 中的方法，以从文件中提取 ID3 信息。

请注意，我自己还没有对此进行测试。

# r - 在返回多行 R 的每一行上运行函数

> ID：11896111
> 
> 赞同：2
> 
> 时间：2012-08-10T05:45:29.020
> 
> 标签：r, plyr

经过大量的实验和谷歌搜索......以及随后的再次实验，我终于在 StackOverflow 上提出了我的第一个问题:)

我有一个 data.frame，并希望将自定义函数 应用`expandBases`到 data.frame 的每一行。`expandBases`返回一个由 1 行或多行组成的 data.frame（这将根据提供给它的数据而有所不同）。`expandBases`实际上返回的列比下面的玩具示例中的多——但为了说明起见：

```
structure(list(id = structure(1:3, .Label = c("a", "b", "c"), class = "factor"),
startpos = c(1, 2, 3), len = c(1, 2, 3)), .Names = c("id",
"startpos", "len"), row.names = c(NA, -3L), class = "data.frame")

expandBases <- function(startpos, len)
{
    return(data.frame(cy <- startpos + 0:(len - 1)))
} 
```

我希望`id`为返回的 data.frame 的每一行复制该因子。我被告知要使用 lapply + do.call(rbind)。我想知道是否有基于 plyr 的解决方案？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T07:08:49.670

我必须稍微猜测一下你想要什么，但这里是如何使用 base R ( `do.call`+ `lapply`) 以及`plyr`：

创建数据框的辅助函数：

```
expandBases <- function(x){
  with(x, 
    data.frame(
      id = rep(id, len-1),
      cy = startpos + seq_len(len-1)
      )
   )
} 
```

使用基础 R：

```
do.call(rbind, lapply(seq_len(nrow(dat)), function(i)expandBases(dat[i, ])))
  id cy
1  b  3
2  c  4
3  c  5 
```

使用 plyr：

```
library(plyr)
adply(dat, 1, expandBases)[-(1:2)]
  id cy
1  b  3
2  c  4
3  c  5 
```

* * *

请注意，我实现了您在问题中描述的功能，但这意味着总是缺少一行。我怀疑这不是你想要的。

# jquery - TypeError: $object 不是函数 jquery

> ID：11896113
> 
> 赞同：0
> 
> 时间：2012-08-10T05:45:39.630
> 
> 标签：jquery, ajax

```
 var opts             = $.extend({}, $.ias.defaults, options); 
     function get_scroll_treshold(pure)
    {
        el = $(opts.container).find(opts.item).last();

        if (el.size() == 0) return 0;

        treshold = el.offset().top + el.height();

        if (!pure)
            treshold += opts.tresholdMargin;

        return treshold;
    } 
```

你好，这是上面的代码片段^。我遇到的问题是它引发了这个错误：

```
TypeError: $(opts.container).find(opts.item).last is not a function 
```

我正在使用[https://github.com/webcreate/infinite-ajax-scroll](https://github.com/webcreate/infinite-ajax-scroll)这个插件。我浏览了 github 页面上列出的问题，但似乎没有人提到我遇到的问题。有什么想法建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:00:00.247

您的代码似乎正确，但您可以尝试这样做：

```
var elements = $('selector');

var lastElement = elements.filter(':last');
// or 
lastElement = elements.eq(elements.length - 1); 
```

# android - 在果冻豆中获取系统日志

> ID：11896115
> 
> 赞同：0
> 
> 时间：2012-08-10T05:45:44.947
> 
> 标签：android, android-logcat

我有一个应用程序在大多数情况下都能正常工作，但我发现有时会停止工作。

有没有办法在有根手机上捕获应用程序和系统日志，以便我之后可以扫描它们以查看问题所在。

我知道 adb logcat > output.txt

但我希望有一种“打电话”的方式来做到这一点，这样我就不必一直把手机插在电脑上，因为它可能需要一两天才能停止工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:58:05.970

我不确定这个解决方案是否适用于 Jelly Bean，但它似乎适用于 JB 之前的操作系统：

[在您的 Android 中访问 LogCat 数据](http://androidsnips.blogspot.com/2011/03/access-logcat-data-in-your-android.htm)

该解决方案主要使用 Runtime 对象中的 exec() 方法，并且需要 READ.LOGS 权限。然后，您可以使用 TextView 使用正确的过滤器显示输出（我猜您希望将过滤器设置为警告或错误，而不是详细）。

# ruby - ruby_parser、AST 在 1.8.7 之前的版本和 ruby 中的 S-expression 的用法？

> ID：11896120
> 
> 赞同：1
> 
> 时间：2012-08-10T05:46:22.403
> 
> 标签：ruby, s-expression, parse-tree, ruby-parser

最近我正在将在 ruby​​ 1.8.7 中使用 ParseTree 的 ror 项目转换为 ruby​​ 1.9.3

发现 ParseTree 不能与 1.9.3 一起使用，在一堆 googlers 中搜索它，仍然坚持一些代码迁移

找到了各种替代方案，如 ruby​​_parser、sourcify、parse_tree_reloaded 等...

所有这些都有其局限性，例如 sourcify 无法进行动态分析解析，即。eval 的用法。

通过所有这些，我想知道 Ruby 社区中 AST/Parsing/SExp 的最佳用法，如果我不选择 AST 路径，ruby 1.9.3 中的替代方案是什么？

一些用例指针将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T07:39:17.203

我认为是 ParseTree 的主要作者 Ryan Davis 在这篇[博](http://blog.zenspider.com/blog/2009/04/parsetree-eol.html)文中列出了一些使用 ParseTree 的库。其中许多库是由戴维斯本人维护的。如果他不知道如何升级使用 ParseTree 的库，我不知道我们其他人还有什么机会！

# macos - OS X 钥匙串访问在更新时丢失

> ID：11896122
> 
> 赞同：0
> 
> 时间：2012-08-10T05:46:31.403
> 
> 标签：macos, code-signing, keychain

我的应用程序正在使用钥匙串访问来存储密码。它工作正常。

但是一旦我更新了应用程序，我就无法访问之前存储的密码。用户需要再次解锁。此外，即使用户允许应用程序通过钥匙串对话框使用密码，用户也无法删除他的密码。

这与我的 bundle-indentifier / version 有关吗？我可以用代码签名修复它吗？

欢迎任何帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:14:39.410

代码签名是解决此问题的正确方法。钥匙串使用签名来验证这是“相同”的程序，即使它的内容已经改变，基于它具有匹配的签名。我不确定，但我认为基本要求是签名实体相同，并且捆绑 ID 匹配。有关详细信息，请参阅[Apple 的代码签名指南](http://developer.apple.com/library/mac/#documentation/Security/Conceptual/CodeSigningGuide/AboutCS/AboutCS.html#//apple_ref/doc/uid/TP40005929-CH3-SW4)。

# sql - Rails SQLite 性能优化

> ID：11896123
> 
> 赞同：-2
> 
> 时间：2012-08-10T05:46:33.503
> 
> 标签：sql, ruby-on-rails, performance, sqlite, optimization

我的 rails 应用程序从 Web 收集大量数据，在包含十几个表的规范化数据库上对数十万条传入记录（选择、更新和插入）运行 ETL。加快我的 sqlite 数据库性能的最佳可靠方法是什么？

我已经在我搜索的所有字段上设置了索引，并将主循环包装到一个事务中。

是否有任何其他标准做法，如数据库设置，可以加快 SQLite？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:53:50.987

如果您有大量数据，SQLite 不是一个好的选择。如果可以选择，请切换到 mysql 或 postgres。两者都易于安装，并且性能应该更好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:07:32.460

我不得不不同意其他答案建议您切换到 mysql 或 postgres，而无需更多地了解您的代码运行速度不够快的原因。[人们倾向于同意 SQLite 可以在面向性能的系统中处理大量数据](https://stackoverflow.com/questions/3160987/can-sqlite-handle-90-million-records)。我建议发布一些你经常做的场景的代码，让我们看看我们是否能想出更好的方法来做这些。如果您在 SQLite 和 mysql 中使用相同的有缺陷的方法，我怀疑您会看到更好的收益。

> SQLite 能够非常快。如果您发现速度比 MySQL 或 PostGres 等其他数据库系统慢，那么您没有充分利用 SQLite 的潜力。优化速度似乎是 SQLite 的作者和维护者 D. Richard Hipp 的第二要务。首先是数据完整性和可敬性。阅读更多关于您可以在[此处进行的一些优化](http://web.utk.edu/~jplyon/sqlite/SQLite_optimization_FAQ.html)

你也是

在批量事务中插入数据？并且您应该在导入数据时尝试对数据进行排序甚至可以考虑在晚上或活动较少的时期重做索引

# nhibernate - 通过代码使用 NHibernate 映射在单个类型上进行一对多映射

> ID：11896124
> 
> 赞同：2
> 
> 时间：2012-08-10T05:46:37.700
> 
> 标签：nhibernate

对于这种情况，我正在尝试使用按代码映射来建立 NHibernate 映射：

我有一个实体项目，它可以包含其他项目的列表。

所以我的项目实体看起来像这样：

```
public class Project : EntityBase
{
    public Project()
    {
    }

    public virtual string Name { get; set; }
    public virtual string Client { get; set; }
    public virtual string Description { get; set; }

    private readonly IList<Project> _projectLinks = new List<Project>();
    public virtual IList<Project> ProjectLinks
    {
        get { return _projectLinks; }
    }
} 
```

我的数据库表如下所示：

```
CREATE TABLE [dbo].[Project](
[Id] [uniqueidentifier] NOT NULL,
[Name] [nvarchar](255) NOT NULL,
[Description] [nvarchar](MAX) NULL,
[Client] [nvarchar](255) NULL....

CREATE TABLE [dbo].[ProjectLink](
[ProjectId] [uniqueidentifier] NOT NULL,
[LinkedProjectId] [uniqueidentifier] NOT NULL 
```

ProjectId 和 LinkedProjectId 都有返回 Project.ProjectId 的外键

我的映射如下所示：

```
public class ProjectMapping : ClassMapping<Project>
{
    public ProjectMapping()
    {
        Bag(x => x.ProjectLinks, 
                 collectionMapping =>
                 {
                     collectionMapping.Table("ProjectLink");
                     collectionMapping.Cascade(Cascade.None);
                     collectionMapping.Key(k => k.Column("ProjectId"));
                 },
                 map => map.ManyToMany(p => p.Column("LinkedProjectId"))); 
```

这是基于以下帖子的答案：

[NHibernate 3.2 多对多代码映射](https://stackoverflow.com/questions/9573326/nhibernate-3-2-many-to-many-mapping-by-code)

这使我可以将项目链接添加到我的项目中，并且当我提交它们时，它们会毫无问题地插入到我的 ProjectLinks 表中。

问题是，当我在插入一个或多个后尝试查询项目的项目链接时，出现以下异常：

找到了多行具有给定标识符的行：b1fb7034-ee00-4f6a-98d7-35a39a15a0c2，对于类：My.Project

仅当给定项目存在 ProjectLinks 时才会引发此异常。上面的 Id 位于 ProjectLink 条目的 LinkedProjectId 列中。如果我添加了 N 个项目链接，则始终为 ProjectLink 表中的第一个 LinkedProjectId 引发此异常。

关于如何正确建立此映射的任何想法？

更新：

调用 _session.Get(_currentRequest.ProjectId).ProjectLinks 时会生成以下 SQL：

```
SELECT
    project0_.Id as Id10_5_, project0_.Version as Version10_5_, project0_.Name as Name10_5_, project0_.Client as Client10_5_, project0_.Description as Descript5_10_5_, project0_.ProjectType as ProjectT6_10_5_, project0_.IsSalesTaxApplied as IsSalesT7_10_5_, project0_.SalesTaxRate as SalesTax8_10_5_, project0_.SalesTaxName as SalesTax9_10_5_, project0_.TermsAndConditions as TermsAn10_10_5_, directcost1_.Id as Id3_0_, directcost1_.Version as Version3_0_, directcost1_.ProjectId as ProjectId3_0_, resourcesc2_.Id as Id8_1_, resourcesc2_.Version as Version8_1_, resourcesc2_.ProjectId as ProjectId8_1_, margin3_.Id as Id6_2_, margin3_.Version as Version6_2_, margin3_.OverallMarginPercentage as OverallM3_6_2_, margin3_.CorporateMarginPercentage as Corporat4_6_2_, margin3_.ProvisionalSumsMarginPercentage as Provisio5_6_2_, margin3_.FixedMargin as FixedMar6_6_2_, margin3_.OverallMarginCalculationType as OverallM7_6_2_, margin3_.CorporateMarginCalculationType as Corporat8_6_2_, project4_.Id as Id10_3_, project4_.Version as Version10_3_, project4_.Name as Name10_3_, project4_.Client as Client10_3_, project4_.Description as Descript5_10_3_, project4_.ProjectType as ProjectT6_10_3_, project4_.IsSalesTaxApplied as IsSalesT7_10_3_, project4_.SalesTaxRate as SalesTax8_10_3_, project4_.SalesTaxName as SalesTax9_10_3_, project4_.TermsAndConditions as TermsAn10_10_3_, spreadopti5_.Id as Id12_4_, spreadopti5_.Version as Version12_4_, spreadopti5_.AlwaysRoundupSellRates as AlwaysRo3_12_4_
FROM
    Project project0_
    left outer join CostSchedule directcost1_ on project0_.Id=directcost1_.ProjectId and directcost1_.Discriminator=''DCS''
    left outer join ResourceSchedule resourcesc2_ on project0_.Id=resourcesc2_.ProjectId
    left outer join Margin margin3_ on project0_.Id=margin3_.Id
    left outer join Project project4_ on margin3_.Id=project4_.Id
    left outer join SpreadOptions spreadopti5_ on project4_.Id=spreadopti5_.Id
WHERE
    project0_.Id=@p0',N'@p0 uniqueidentifier',@p0='0F91D16E-0D35-444C-93FF-C0C696C7BE58' 
```

随着

```
SELECT
    projectlin0_.ProjectId as ProjectId6_, projectlin0_.LinkedProjectId as LinkedPr2_6_, project1_.Id as Id10_0_, project1_.Version as Version10_0_, project1_.Name as Name10_0_, project1_.Client as Client10_0_, project1_.Description as Descript5_10_0_, project1_.ProjectType as ProjectT6_10_0_, project1_.IsSalesTaxApplied as IsSalesT7_10_0_, project1_.SalesTaxRate as SalesTax8_10_0_, project1_.SalesTaxName as SalesTax9_10_0_, project1_.TermsAndConditions as TermsAn10_10_0_, directcost2_.Id as Id3_1_, directcost2_.Version as Version3_1_, directcost2_.ProjectId as ProjectId3_1_, resourcesc3_.Id as Id8_2_, resourcesc3_.Version as Version8_2_, resourcesc3_.ProjectId as ProjectId8_2_, margin4_.Id as Id6_3_, margin4_.Version as Version6_3_, margin4_.OverallMarginPercentage as OverallM3_6_3_, margin4_.CorporateMarginPercentage as Corporat4_6_3_, margin4_.ProvisionalSumsMarginPercentage as Provisio5_6_3_, margin4_.FixedMargin as FixedMar6_6_3_, margin4_.OverallMarginCalculationType as OverallM7_6_3_, margin4_.CorporateMarginCalculationType as Corporat8_6_3_, project5_.Id as Id10_4_, project5_.Version as Version10_4_, project5_.Name as Name10_4_, project5_.Client as Client10_4_, project5_.Description as Descript5_10_4_, project5_.ProjectType as ProjectT6_10_4_, project5_.IsSalesTaxApplied as IsSalesT7_10_4_, project5_.SalesTaxRate as SalesTax8_10_4_, project5_.SalesTaxName as SalesTax9_10_4_, project5_.TermsAndConditions as TermsAn10_10_4_, spreadopti6_.Id as Id12_5_, spreadopti6_.Version as Version12_5_, spreadopti6_.AlwaysRoundupSellRates as AlwaysRo3_12_5_
FROM
    ProjectLink projectlin0_
    left outer join Project project1_ on projectlin0_.LinkedProjectId=project1_.Id
    left outer join CostSchedule directcost2_ on project1_.Id=directcost2_.ProjectId and directcost2_.Discriminator=''DCS''
    left outer join ResourceSchedule resourcesc3_ on project1_.Id=resourcesc3_.ProjectId
    left outer join Margin margin4_ on project1_.Id=margin4_.Id
    left outer join Project project5_ on margin4_.Id=project5_.Id
    left outer join SpreadOptions spreadopti6_ on project5_.Id=spreadopti6_.Id
WHERE
    projectlin0_.ProjectId=@p0',N'@p0 uniqueidentifier',@p0='0F91D16E-0D35-444C-93FF-C0C696C7BE58' 
```

我试图让示例保持简单，上面生成的 SQL 来自完整的 Project 实体。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-16T11:53:42.147

我的猜测是，外部连接中的一个会产生多个结果，并且会混淆多对多初始化。尝试延迟加载 Schedules, Margin 来验证

# javascript - 在Javascript中清除窗口对象中的自定义变量

> ID：11896128
> 
> 赞同：3
> 
> 时间：2012-08-10T05:46:55.270
> 
> 标签：javascript, internet-explorer-7, global

这是一个棘手的问题，让我摸不着头脑好几天了。

我正在从事一个项目，该项目涉及采用一个已有十年历史的 Web 应用程序并将其重新设计为单页应用程序。该应用程序非常庞大——我们必须工作的时间非常紧迫，因此必须做出一些捷径。

然而，总的来说，我对我们所取得的进展印象深刻，因为我们必须克服一些有趣的技术障碍。

一项涉及清除所有自定义窗口变量。由于我们正在动态地重新加载应用程序的不同页面，因此我们需要清除所有自定义变量，以免发生冲突。我们首先要做的是加载应用程序的基本引导程序并将窗口对象的所有属性保存在一个数组中。

然后，在我们加载每个新页面之前，我们遍历窗口属性并清除所有不在我们保存的数组中的对象（将窗口状态恢复到加载页面之前）。

现在，这在我们测试过的所有浏览器中都可以正常工作，除了 IE7 和 IE8（两者都需要支持）。问题似乎是全局变量似乎并不总是在窗口对象上注册。

有人对这个问题有任何见解吗？知道如何解决这个 IE7 问题吗？

任何信息将不胜感激。

编辑：在引导加载时，我们这样做：

```
for (i in window) {
   this.globalVars[i] = 1;
} 
```

然后当我们加载一个新页面（通过 AJAX）时，我们会：

```
for (i in window) {
   if (!this.globalVars[i]){
       window[i] = undefined;
   }
} 
```

最终解决方案：

最后，鉴于时间有限，最简单的解决方法是简单地更改定义为 var x 的所有变量；到 var x = null;

但是，我找到了另一种解决方案。这里有一个小型库，我用它作为替代解决方案的起点：[http ://www.thomasfrank.se/global_namespace.html](http://www.thomasfrank.se/global_namespace.html)

它并不完美（可能需要进行一些调整以使其更加稳定，例如在 AJAX 调用周围添加一个 try-catch 块，以便跨域脚本不会使其崩溃）。它的工作方式是解析所有外部脚本文件和内部脚本，提取大量单词，然后可以使用这些单词从窗口对象中清除属性。

我们实际上经历了一些非常奇怪的事情——这个脚本没有正确地获取我们的很多变量......原来它使用 document.scripts 来获取页面上所有加载的脚本，以便能够遍历它们并解析他们。问题是 jQuery 不会以这种方式在页面上加载外部页面。它所做的只是将我所知道的代码传递给 exec 。因此，实际上没有将脚本标签添加到页面中。

对此的解决方法是解析原始 AJAX 响应并存储对所有脚本标记的引用（以及，我想，提取内联脚本），然后修改库以能够处理这些文件。这应该可以工作，但是由于速度原因，所有这些处理都太可怕了——发现我们可以简单地对所有变量定义进行搜索和替换，并且完成大部分工作，而不需要为每个页面加载大量工作。很明显我们应该走哪条路。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-12T22:46:08.073

看看这个问题：[JavaScript：在 IE 中列出全局变量](https://stackoverflow.com/questions/2462199/javascript-list-global-variables-in-ie)

> 在 IE 中，除非您将全局变量明确定义为窗口对象的属性，否则它是不可枚举的。

因此，如果您要分配这样的变量：

```
var number = 42; // not inside any function 
```

迭代时它不会显示`window`。您必须像这样定义所有全局变量：

```
window.number = 42; 
```

或者像这样：

```
this.number = 42; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-16T00:56:42.333

据我所知，如果您希望这是“快速”确保 100% 重置所有全局变量的解决方案，并且这与 oldIE 兼容，您基本上必须保存 window 的初始值/document 您修改的属性... ...并在特定页面上为每个全局手写输入空值。

如果您希望它是 100% 准确的，完全 BC 与旧的 IE ......并且没有任何形式的重构......这就是我对你未来的预期。

你的公司听起来像我认识的几个（我相信每个人都知道一些）——
“如果我们告诉开发人员让它们发生，奇迹就会在不花钱的情况下立即发生。”

如果归根结底，我会选择并手动修复全局 var 问题（或者编写一个解析器来在页面上查找全局范围的变量——或者至少指向它们可能在的位置）。框架的其余部分可以被破解在一起......不过，如果可能的话，我仍然最终想要沙箱页面（对于初学者来说，一旦没有全局变量，整个状态就会变得毫无意义） .

但是是的... ...要么手动将每个页面的全局变量设为空，要么手动修复它们，以将它们应用为`window[key]`（如果绝对必要的话），或者作为`formerly_global_properties[key]`或在一个完全不同的范围内，包含在一个函数中。一切都将向后兼容，一切都将变得无比糟糕。

但是像这样破解解决方法并将全局变量破解为可以在以后使用/维护的可行的东西，两者的工作量大致相同，对吧？

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-16T11:47:08.360

我建议使用删除，一个鲜为人知的 js 功能来正确摆脱全局变量，例如

```
delete window.varname; 
```

或者

```
delete window["varname"]; 
```

将变量设置为 undefined 相当于（在全局范围内）

```
var varname; 
```

这可能不是你想要的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-12T22:46:42.153

您是否检查过那些在循环期间未显示的属性是否配置为不可枚举。因为如果一个对象的属性不可枚举，那么它就不会在循环期间“显示”。您可以使用以下方法“propertyIsEnumerable”进行检查。

例子 ：

```
var o = {x:1, y:2, z:3}; // Three enumerable own properties
o.propertyIsEnumerable("toString") // => false: not enumerable 
```

作为旁注：

根据 ECMAScript 5 for/in 循环为指定对象的每个可枚举属性（自己的或继承的）运行一次循环体，将属性的名称分配给循环变量。对象继承的内置方法是不可枚举的，但您的代码添加到对象的属性是可枚举的（除非您将它们设为不可枚举）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-16T01:03:39.583

如果您将旧脚本包装在一个闭包中并保存/导出您需要保留的变量怎么办？

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-07-17T15:59:07.117

```
 clone(obj) {
        var _ = this,
            copy;
        if (null == obj || "object" != typeof obj) return obj;
        if (obj instanceof Date) {
            copy = new Date();
            copy.setTime(obj.getTime());
            return copy;
        }
        if (obj instanceof Array) {
            copy = [];
            for (var i = 0, len = obj.length; i < len; i++) {
                copy[i] = _.clone(obj[i]);
            }
            return copy;
        }
        if (obj instanceof Object) {
            copy = {};
            for (var attr in obj) {
                if (obj.hasOwnProperty(attr)) copy[attr] = _.clone(true);
            }
            return copy;
        }
        throw new Error("Unable to copy obj");
    }

    windowGarbageCollection(){
        var removeObjects = Object
            .keys(window)
            .map( (currentValue) => {
                if(!window.window_cache[currentValue]){
                    if(currentValue != 'window_cache' && currentValue != '0'){
                        window[currentValue] = false;
                    }
                }
            });
    }

    // run this at the moment you want to grab the initial variables
    // probably at the very beginning
    window.window_cache = clone(window); 
```

首先创建初始`window`变量的快照（您不需要整个窗口对象），并将其存储在`window.window_cache`.

然后每次在应用程序中切换页面时，运行`windowGarbageCollection()`，它将`window.window_cache`与当前进行比较`window`并将之后添加的任何内容转为`false`.

您希望在呈现新页面之前开始运行垃圾收集，以便在呈现新页面时不会删除任何新变量。

# mysql - mysql：加入三个表时删除重复项

> ID：11896129
> 
> 赞同：0
> 
> 时间：2012-08-10T05:47:01.450
> 
> 标签：mysql

我有三个表typemaster，salaryaddition，salarydeduction

**打字员**表

类型标识 | 类型名 |

1 |Act.Alw |

2 |食堂|

3 |Sht.Alw |

4 |LOP |

**加薪**表

slno |员工|薪资类型| 金额 |

1 |1 |1 |200 |

**工资扣除**表

员工 | 工资类型 | 金额 |

1 |2 |500 |

1 | 4 | 300 |

我要显示

员工 | 加法 | 金额 | 扣减 | 数量

1 | Act.Alw |200 | 食堂 | 500 |

1 | 空 | 空 | 洛普 | 300 |

我写查询，但它显示重复的结果

```
select a.employee,a.typename,a.amount,b.typename,b.amount from
(select employee,typename,amount from salaryaddition 
 join typemaster on     typeid=salaryaddition.salarytype) a,
(select employee,typename,amount from salarydeduction 
 join typemaster on typeid=salarydeduction.salarytype) b
where a.employee=b.employee 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:55:15.643

鉴于您有一张员工表，您可以尝试类似

```
SELECT  e.employee,
        sat.typename,
        SUM(sa.amount) amount,
        sdt.typename,
        SUM(sd.amount) amount
FROM    employeemaster e LEFT JOIN
        salaryaddition sa   ON  e.employee = sa.employee LEFT JOIN
        typemaster sat  ON  sa.salarytype = sat.typeid LEFT JOIN
        salarydeduction sd  ON  e.employee = sd.employee LEFT JOIN
        typemaster sdt  ON  sd.salarytype = sdt.typeid
GROUP BY    e.employee,
            sat.typename,
            sdt.typename 
```

# java - java：类转换异常

> ID：11896130
> 
> 赞同：1
> 
> 时间：2012-08-10T05:47:04.213
> 
> 标签：java, exception

我有一个带有字符串和 tupleList 的地图。我正在尝试将 tupleList 转换为双数组，但我遇到了类型转换异常。我的代码是——

```
Map<String, TupleList> results = null; -- Some data in it and TupleList has int or double value. 
```

公共无效drawGraph（）{

```
 Object[] test = new Object[results.size()];
    int index = 0;
    for (Entry<String, TupleList> mapEntry : results.entrySet()) {
        test[index] = mapEntry.getValue();
        index++;
    }

       BarChart chart = new BarChart();
        chart.setSampleCount(4);
        String[] values = new String[test.length];
        for(int i = 0; i < test.length; i++)
        {
            values[i] = (String) test[i];

        }
       //  double[] values = new double[] {32,32,65,65};
         String[] sampleLabels = new String[] {"deny\nstatus", "TCP\nrequest", "UPD\nrequest", "ICMP\nrequest"};
         String[] barLabels = new String[] {"STATUS", "TCP", "UDP", "PING"};

         //chart.setSampleValues(0, values);
         chart.setSampleColor(0, new Color(0xFFA000));
         chart.setRange(0, 88);
         chart.setFont("rangeLabelFont", new Font("Arial", Font.BOLD, 13)); 
```

错误 - -

```
java.lang.ClassCastException: somePackagename.datamodel.TupleList cannot be cast to java.lang.String
at com.ibm.biginsights.ExampleAPI.drawGraph(ExampleAPI.java:177)
at com.ibm.biginsights.ExampleAPI.main(ExampleAPI.java:95) 
```

我得到了例外@

```
 String[] values = new String[test.length];
        for(int i = 0; i < test.length; i++)
        {
            values[i] = (String) test[i]; 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T05:51:55.527

我假设错误发生在这里：`values[i] = (String) test[i];`. 问题是您试图将类型的对象`TupleList`放入字符串中。您需要做的是调用该`.toString()`方法，该方法应该为您提供对象的字符串表示形式。

但是请注意，您必须`toString()`在类中覆盖该方法，`TupleList`以便您可以获得适合您需要的对象的字符串表示形式。

所以简而言之，只是做`test[i].toString()`很可能会产生类似这样的东西：`TupleList@122545`. 你需要做的是：

```
public class TupleList
...

@Override
public String toString()
{
    return "...";
}

... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T05:51:04.673

显然，您的测试数组包含 TupleLists。您将它们添加到

```
 Object[] test = new Object[results.size()];
    int index = 0;
    for (Entry<String, TupleList> mapEntry : results.entrySet()) {
        test[index] = mapEntry.getValue();
        index++;
    } 
```

然后将 TupleList 转换为 String 并获取 ClassCastException 如果需要，可以使用 toString。

```
values[i] = test[i].toString(); 
```

# java - .jar 中的套接字不会连接到 serverSocket

> ID：11896131
> 
> 赞同：1
> 
> 时间：2012-08-10T05:47:21.687
> 
> 标签：java, sockets, jar, serversocket

我写了一个简单的即时通讯程序，它在 Eclipse 中运行良好。我想将它导出到 .jar 并在我的主计算机托管 java socketServer 时在多台计算机上运行它。该程序在 .jar 中运行服务器但从 eclipse 执行客户端时工作。但是当我运行我的 client.jar 时，它不会连接到服务器。我的代码的两部分都很长。我正在使用我的实际 IPv4 地址使用 socket(ipaddress, port#) 进行操作。我也在端口号 9000 上运行我不确定这是否有任何影响。我一直在搜索这个网站和许多其他网站，但我似乎找不到关于这个主题的已经开放的话题。我可能会补充一点，因为我一直在台式机和笔记本电脑之间切换，所以我将我的 IPv4 地址手动输入到 GUI 中。

Server.java 中的代码

```
serverUser = new ServerSocket(9000);
textArea.append("User Server created on " + new Date() + "\n");
serverChat = new ServerSocket(9100);
textArea.append("Chat Server created on " + new Date() + "\n");

while(true)
{
    Socket socket = serverUser.accept();
    clientNum++;
    new DataOutputStream(socket.getOutputStream()).writeUTF("You have connected to the server");
    User user = new User(socket, new DataInputStream(socket.getInputStream()).readUTF());
    userList.add(user); 
```

client.java 中的套接字

```
public void actionPerformed(ActionEvent e) 
{
    boolean next = false;
    userName = userNameField.getText();
    password = new String(passwordField.getPassword());
    ipAddress = ipAddressField.getText();
    if(ipAddress.equals(""))
        status.setText("You must enter the IP Address of the Server");
    else
    {
        userNameField.setText("");
        ipAddressField.setText("");
        passwordField.setText("");
        query = "select * from User where userName = '" + userName + "' and password = '" + password + "'";
        try
        {
            line 328 ResultSet rs = statement.executeQuery(query);
            if(rs.next())
            next = true;    
            rs = statement.executeQuery("select * from User");
        }
        catch(SQLException ex)
        {
            System.out.println(ex.getMessage());
        }
        if(next)
        {
            tabbedPane.setEnabledAt(0, false);
            tabbedPane.setEnabledAt(1, true);
            tabbedPane.setSelectedIndex(1);
            logout.setEnabled(true);
            try
            {
                socket = new Socket(ipAddress, 9000);
                output = new DataOutputStream(socket.getOutputStream());
                input = new DataInputStream(socket.getInputStream());
                socket.setKeepAlive(true);
                socket.setTcpNoDelay(true);
                output.writeUTF(userName);
                output.flush();
                status.setText(input.readUTF());
                setTitle(userName);
                Thread thread = new Thread(new UpdateTask(userList));
                thread.start();
            }
            catch(IOException ex)
            {
                System.out.println(ex.getMessage());
            }
        }
        else
            status.setText("Invalid user name or password");
        }
    } 
```

好的，我得到了错误，当然我的问题是错误的。问题最终成为令人讨厌的 nullPointer ，我也不知道我是如何得到的。这是错误

```
C:\Users\Satokaheni\Programs\Java Workspace\Runnable Jars>java -jar Client.jar
Works
Exception in thread "AWT-EventQueue-0" java.lang.NullPointerException
    at UserMenu$6.actionPerformed(UserMenu.java:328)
    at javax.swing.AbstractButton.fireActionPerformed(Unknown Source)
    at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)
    at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)
    at javax.swing.DefaultButtonModel.setPressed(Unknown Source)
    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)
    at java.awt.Component.processMouseEvent(Unknown Source)
    at javax.swing.JComponent.processMouseEvent(Unknown Source)
    at java.awt.Component.processEvent(Unknown Source)
    at java.awt.Container.processEvent(Unknown Source)
    at java.awt.Component.dispatchEventImpl(Unknown Source)
    at java.awt.Container.dispatchEventImpl(Unknown Source)
    at java.awt.Component.dispatchEvent(Unknown Source)
    at java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)
    at java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)
    at java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)
    at java.awt.Container.dispatchEventImpl(Unknown Source)
    at java.awt.Window.dispatchEventImpl(Unknown Source)
    at java.awt.Component.dispatchEvent(Unknown Source)
    at java.awt.EventQueue.dispatchEventImpl(Unknown Source)
    at java.awt.EventQueue.access$000(Unknown Source)
    at java.awt.EventQueue$3.run(Unknown Source)
    at java.awt.EventQueue$3.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)
    at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)
    at java.awt.EventQueue$4.run(Unknown Source)
    at java.awt.EventQueue$4.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)
    at java.awt.EventQueue.dispatchEvent(Unknown Source)
    at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)
    at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)
    at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)
    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
    at java.awt.EventDispatchThread.run(Unknown Source) 
```

伙计，我真的很愚蠢，很抱歉弄错了问题，但你能帮忙解决这个问题吗？我知道查询不为空，因为我打印出来了。所以我不知道为什么它给了我一个 nullPointer

我找到了为什么我认为我得到了空指针

```
path to 'db/loginDB.db': 'C:\Users\Satokaheni\Programs\Java Workspace\Runnable Jars\db' does not exist 
```

这是我的数据库代码

```
Class.forName("org.sqlite.JDBC");
try
{
    connection = DriverManager.getConnection("jdbc:sqlite:db/loginDB.db");
    statement = connection.createStatement();
}
catch(SQLException ex)
{
    System.out.println(ex.getMessage());
} 
```

任何提示将不胜感激。

谢谢你。

PS如果你愿意，我可以发布代码。

# android - 我们可以在用户离线时展示离线广告吗？

> ID：11896132
> 
> 赞同：2
> 
> 时间：2012-08-10T05:47:22.213
> 
> 标签：android

我们可以在用户离线时展示离线广告吗？当用户通常离线使用时，我有一个应用程序。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-10T05:56:56.360

你当然可以。这是您的绘画表面，您可以在其上放置您想要的东西，甚至是您之前在线下载的广告，或者在您的应用程序本身中硬编码的广告。

但是，我假设您希望通过展示这些广告（例如使用 AdMob 或 Mobclix）而获得*报酬*，并且我不知道有任何方式可以在您选择的任何提供商处将“离线”广告输入您的广告帐户.

而且，正如 Eric 在评论中聪明地指出的那样，这些广告是用来点击的。如果您的设备离线，则将这些点击转化为收入有点困难，因为您无法访问广告*背后*的网站 :-)

# php - (PHP) 为什么在一些循环之后，该函数不再调用？

> ID：11896135
> 
> 赞同：0
> 
> 时间：2012-08-10T05:47:45.007
> 
> 标签：php, function

我有以下查询：

```
$r = "Query goes here...";
$r = conn::execq($q);
while($fetch = mysqli_fetch_array($r)) {
   $q = "Query goes here..."; //The $fetch value above is inserted here as 'WHERE' clause
   $r = conn::execq($q); //--> The problem
   $r = mysqli_fetch_row($r);

   if($r > 0) print "ok<br/>";
   else print "failed<br/>";
} 
```

在类“ **conn** ”函数“ **execq** ”中：

```
public static function execq($q) {
    $dbc = @mysqli_connect(DB_HOST, DB_USER, DB_PASS, DB_NAME) OR die ('Could not connect to MySQL: ' . mysqli_connect_error());
    $r = mysqli_query($dbc, $q);
    mysqli_close($dbc);
    return $r;
} 
```

execq函数在一些循环**后**不会被调用。第一个查询已成功执行，然后正在执行第二个查询。经过一些循环后，查询被停止以调用函数“conn::execq”。有任何想法吗？谢谢..

**- - 编辑 - -**

```
conn:openconn(); //Open connection   

$r = "Query goes here...";
$r = conn::execq($q);
while($fetch = mysqli_fetch_array($r)) {
   $q = "Query goes here..."; //The $fetch value above is inserted here as 'WHERE' clause
   $r = conn::execq($q); //--> The problem
   $r = mysqli_fetch_row($r);

   if($r > 0) print "ok<br/>";
   else print "failed<br/>";
}

conn:closeconn(); //Close connection 
```

在类“ **conn** ”中：

```
public static function openconn() {
    global $dbc;
    $dbc = @mysqli_connect(DB_HOST, DB_USER, DB_PASS, DB_NAME) OR die ('Could not connect to MySQL: ' . mysqli_connect_error());
}

public static function closeconn() {
    mysqli_close($dbc);
}

public static function execq($q) {        
    $r = mysqli_query($dbc, $q);        
    return $r;
} 
```

现在我得到了：

```
Notice: Undefined variable: dbc in ...
Warning: mysqli_error() expects parameter 1 to be mysqli, null given in ... 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:02:24.880

1.  您在很短的时间内多次打开和关闭数据库连接；这是非常低效的。继续重用*一个*打开的连接！
2.  您正在尝试在其连接已关闭*后*`mysqli_fetch_row`使用该资源。这根本不应该工作。
**   您正在覆盖`$r`循环内的资源，因此`$r`您的`while`条件中的资源将不再产生任何结果并且迭代结束。*   您应该尝试创建*一个*稍微复杂的 SQL 查询来获取您想要的信息，而不是通过循环第一个查询的结果来生成越来越多的查询。数据库通常可以为您做的工作比您想象的要多得多。*

# php - 阵列打印

> ID：11896137
> 
> 赞同：0
> 
> 时间：2012-08-10T05:47:55.350
> 
> 标签：php, arrays

```
$transactions = array (
array( 'SiteID' => 147, 'Amount' => '500.00', 'TransactionType' => 'Deposit' ),

array( 'SiteID' => 147, 'Amount' => '500.00', 'TransactionType' => 'Redemption'),

array( 'SiteID' => 147, 'Amount' => '1500.00', 'TransactionType' => 'Deposit' ),

array( 'SiteID' => 147, 'Amount' => '200.00', 'TransactionType' => 'Reload' ),

array( 'SiteID' => 150, 'Amount' => '100.00', 'TransactionType' => 'Deposit' ),

array( 'SiteID' => 3,   'Amount' => '500.00', 'TransactionType' => 'Redemption' ),

array( 'SiteID' => 150, 'Amount' => '200.00', 'TransactionType' => 'Redemption' ),

array( 'SiteID' => 3,   'Amount' => '500.00', 'TransactionType' => 'Deposit' ),

array( 'SiteID' => 3,   'Amount' => '200.00', 'TransactionType' => 'Deposit' ),

array( 'SiteID' => 3,   'Amount' => '200.00', 'TransactionType' => 'Reload' ),

array( 'SiteID' =>147, 'Amount' => '500.00', 'TransactionType' => 'Redemption' )
);

$totals = null;

foreach ($transactions as $t){

$amount = (float) $t['Amount'];

if (isset($totals[ $t['SiteID'] ][ $t['TransactionType'] ])){
    $totals[ $t['SiteID'] ][ $t['TransactionType'] ] += (float) $amount;
} else {
    $totals[ $t['SiteID'] ][ $t['TransactionType'] ] = (float) $amount;
}
}

print_r ($totals); 
```

这是代码，但它的打印是这样的：

```
Array ( [147] => Array ( [D] => 455500 [W] => 460216.4 [R] => 158000 ) 

[145] => Array ( [D] => 85500 [W] => 78763.75 [R] => 14500 )

[146] => Array ( [D] => 64200 [W] => 91121.94 [R] => 42800 ) 
```

我需要像这样打印结果：

```
Array ( [147] => Array ( [Deposit] => 455500 [Redemption] => 460216.4 [Reload] => 158000 ) 

[145] => Array ( [Deposit] => 85500 [Redemption] => 78763.75 [Reload] => 14500 )

[146] => Array ( [Deposit] => 64200 [Redemption] => 91121.94 [Reload] => 42800 ) 
```

**R - 重新加载，W - 赎回和 D - 存款。**

谢谢，请回复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:01:33.737

利用

```
$result=array();
foreach($total as $key=>$value)
{
    $result=array_merge($result,array($key=>array("Deposit"=>$value['D'],"Redemption"=>$value['W'],"Reload"=>$value['R'])));
}
print_r($result); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:03:23.633

尝试

```
foreach ($transactions as $k=>$t){

$amount = (float) $t['Amount'];

if (isset($totals[ $t['SiteID'] ][ $t['TransactionType'] ])){
    $totals[ $t['SiteID'] ][ $t['TransactionType'] ] += (float) $amount;
} else {
    $totals[ $t['SiteID'] ][ $t['TransactionType'] ] = (float) $amount;
}
} 
```

# ios - 指南 22.2 下的 iPhone 应用程序拒绝

> ID：11896139
> 
> 赞同：2
> 
> 时间：2012-08-10T05:48:03.817
> 
> 标签：ios, app-store

我在一周前向 Apple 提交了我的 iPhone 应用程序。几个小时前，Apple 拒绝了我的应用程序，说* *`Apps that contain false, fraudulent or misleading representations will be rejected`**

以下是解决中心的详细信息：

```
We found that your app, and/or its metadata, contains content that could be 
misleading to users, which is not in compliance with the App Store Review Guidelines.
Specifically we noticed the app's concept references being able to calculate a
users Blood Alcohol content, which is misleading and not appropriate for the app store. 
```

现在我的问题是，根据 Apple 准则 22.2，我必须注意哪些事项：`Apps that contain false, fraudulent or misleading representations will be rejected`. 任何帮助，将不胜感激。提前谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T05:54:33.063

我认为这里的问题是正确计算血液酒精水平的唯一方法是使用呼气测试或血液测试。我假设您的应用程序正在使用体重或类似的东西来**估计**血液中的酒精含量。

我认为 Apple 已经对您声称估计是准确的事实表示异议。您也许可以改写您的应用描述，以明确它是一个估计值。但是，如果 Apple 仍然拒绝该应用程序，我不会感到惊讶。特别是考虑到上面的陈述：“能够**计算用户血液酒精含量**，这是误导性**的，不适合应用商店。** ”

当用户使用您的应用程序并决定他们适合开车然后被撞毁或伤害/杀死某人时，您是否准备好应对用户的反应？苹果可能会觉得被起诉的风险太大了。就个人而言，我会避开围绕此类应用程序的潜在法律问题。

**更新**：App Store 中似乎已经存在类似的应用程序，因此您可以通过更改描述中的措辞来让应用程序被接受。但是，当我搜索血液酒精时，我得到了 100 多个结果，因此 Apple 可能仍会以这些理由拒绝它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T05:57:32.397

如果您的功能“计算用户血液中的酒精含量”，这听起来像是措辞，当我真的假设您输入大量参数时，您几乎可以说您可以检测到这一点（通过硬件 - 可能会呼吸到手机）为一个人和收集饮料并计算出酒精的数量。

如果是“用户”水平，请尝试说明“计算一个人的血液酒精水平”。

对我来说，这就是问题——措辞问题。不是内容问题。

# java - Java编程成语：私有实现类

> ID：11896142
> 
> 赞同：11
> 
> 时间：2012-08-10T05:48:11.623
> 
> 标签：java, private-members, pimpl-idiom, private-class

我在一些代码中发现了这个结构。

私有静态类实现 A 有什么好处吗？这让我想起了 C++ 中的 Pimpl 成语。在 Java 中使用 Pimpl 习语有什么好处吗？

```
public abstract class A {
    public void doStuff();

    public static A getNewInstance() {
       return new AImpl();
    }

    private static class AImpl extends A {
        public void doStuff()  {
           ....
        }    
    } 

} 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-08-10T05:52:01.913

> 私有静态类实现 A 有什么好处吗？

好吧，它完全隐藏了实现，所以从封装的角度来看它非常好。我见过几次这种情况是自定义比较器。例如：

```
public class Person
{
    public static final Comparator<Person> NAME_COMPARATOR = new NameComparator();
    public static final Comparator<Person> AGE_COMPARATOR = new AgeComparator();

    // Name, age etc properties

    private static class NameComparator implements Comparator<Person>
    {
        ...
    }

    private static class AgeComparator implements Comparator<Person>
    {
        ...
    }
} 
```

比较器实现类并不真正需要在外部可见`Person`，并且能够通过公共静态字段轻松获取实例非常好。

没有调用者需要知道实现 - 例如，可能只有*一个*比较器类接受参数 - 他们只是通过常量表达他们想要的比较器。（当然，您同样可以为此使用枚举。）

# linux - 检查今天是否创建了文件

> ID：11896150
> 
> 赞同：0
> 
> 时间：2012-08-10T05:49:40.560
> 
> 标签：linux, shell, unix

我有一个需要从某个文件中读取的 Java 程序。该文件应仅每天创建一次，并且只创建一次。另一个程序创建该文件。如何使用 shell 脚本检查该文件是今天创建的（前一个午夜/凌晨 12 点）？

类似的东西

```
if (file created today)
 // process
else
 // remove old file
 // create new file
 // process 
```

我看到的示例使用 find 命令，但我已经知道文件的名称。

tl;博士

如何检查今天是否在 shell 脚本中创建了文件？我知道文件名。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T05:56:02.490

你不能，因为创建时间没有存储在 *nix 上。您可以使用`stat(1)`来检查上次修改时间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:04:56.470

为什么不使用[cron](http://linux.die.net/man/8/cron)在午夜删除/创建文件（如果这是您的意思）？

***或者***

在创建文件时（当它不存在时）在作业中设置[为](http://linux.die.net/man/1/at)在 24 小时内将其删除（另一方面）？

# jquery - 如何使我的 tinycarousel 滑块可逆？

> ID：11896151
> 
> 赞同：1
> 
> 时间：2012-08-10T05:49:40.310
> 
> 标签：jquery

我想反转我的 tinycarousel 滑块，以便再次看到我的第一张图片。我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:37:38.360

```
$("#slider").tinycarousel_move(1) 
```

# c# - 在 C# 中读取 csv 文件以提高时间效率的最佳方法

> ID：11896157
> 
> 赞同：6
> 
> 时间：2012-08-10T05:50:04.663
> 
> 标签：c#, performance, linq, parallel-processing, system.diagnostics

我有以下代码可以读取一个大文件，比如超过一百万行。我正在使用 Parallel 和 Linq 方法。有更好的方法吗？如果是，那么如何？

```
 private static void ReadFile()
        {
            float floatTester = 0;
            List<float[]> result = File.ReadLines(@"largedata.csv")
                .Where(l => !string.IsNullOrWhiteSpace(l))
                .Select(l => new { Line = l, Fields = l.Split(new[] { ',' }, StringSplitOptions.RemoveEmptyEntries) })
                .Select(x => x.Fields
                              .Where(f => Single.TryParse(f, out floatTester))
                              .Select(f => floatTester).ToArray())
                .ToList();

            // now get your totals
            int numberOfLinesWithData = result.Count;
            int numberOfAllFloats = result.Sum(fa => fa.Length);
            MessageBox.Show(numberOfAllFloats.ToString());
        }

        private static readonly char[] Separators = { ',', ' ' };

        private static void ProcessFile()
        {
            var lines = File.ReadAllLines("largedata.csv");
            var numbers = ProcessRawNumbers(lines);

            var rowTotal = new List<double>();
            var totalElements = 0;

            foreach (var values in numbers)
            {
                var sumOfRow = values.Sum();
                rowTotal.Add(sumOfRow);
                totalElements += values.Count;
            }
            MessageBox.Show(totalElements.ToString());
        }

        private static List<List<double>> ProcessRawNumbers(IEnumerable<string> lines)
        {
            var numbers = new List<List<double>>();
            /*System.Threading.Tasks.*/
            Parallel.ForEach(lines, line =>
            {
                lock (numbers)
                {
                    numbers.Add(ProcessLine(line));
                }
            });
            return numbers;
        }

        private static List<double> ProcessLine(string line)
        {
            var list = new List<double>();
            foreach (var s in line.Split(Separators, StringSplitOptions.RemoveEmptyEntries))
            {
                double i;
                if (Double.TryParse(s, out i))
                {
                    list.Add(i);
                }
            }
            return list;
        }

        private void button1_Click(object sender, EventArgs e)
        {
            Stopwatch stopWatchParallel = new Stopwatch();
            stopWatchParallel.Start();
            ProcessFile();
            stopWatchParallel.Stop();
            // Get the elapsed time as a TimeSpan value.
            TimeSpan ts = stopWatchParallel.Elapsed;

            // Format and display the TimeSpan value.
            string elapsedTime = String.Format("{0:00}:{1:00}:{2:00}.{3:00}",
                ts.Hours, ts.Minutes, ts.Seconds,
                ts.Milliseconds / 10);
            MessageBox.Show(elapsedTime);

            Stopwatch stopWatchLinQ = new Stopwatch();
            stopWatchLinQ.Start();
            ReadFile();
            stopWatchLinQ.Stop();
            // Get the elapsed time as a TimeSpan value.
            TimeSpan ts2 = stopWatchLinQ.Elapsed;

            // Format and display the TimeSpan value.
            string elapsedTimeLinQ = String.Format("{0:00}:{1:00}:{2:00}.{3:00}",
                ts2.Hours, ts.Minutes, ts.Seconds,
                ts2.Milliseconds / 10);
            MessageBox.Show(elapsedTimeLinQ);
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T05:53:29.670

您可以为此使用内置的 OleDb..

```
public void ImportCsvFile(string filename)
{
    FileInfo file = new FileInfo(filename);

    using (OleDbConnection con = 
            new OleDbConnection("Provider=Microsoft.Jet.OLEDB.4.0;Data Source=\"" +
            file.DirectoryName + "\";
            Extended Properties='text;HDR=Yes;FMT=Delimited(,)';"))
    {
        using (OleDbCommand cmd = new OleDbCommand(string.Format
                                  ("SELECT * FROM [{0}]", file.Name), con))
        {
            con.Open();

            // Using a DataTable to process the data
            using (OleDbDataAdapter adp = new OleDbDataAdapter(cmd))
            {
                DataTable tbl = new DataTable("MyTable");
                adp.Fill(tbl);

                //foreach (DataRow row in tbl.Rows)

                //Or directly make a list
                List<DataRow> list = dt.AsEnumerable().ToList();
            }
        }
    }
} 
```

请参阅[此](http://www.codeproject.com/Articles/27802/Using-OleDb-to-Import-Text-Files-tab-CSV-custom)和[此](https://stackoverflow.com/questions/208532/how-do-you-convert-a-datatable-into-a-generic-list)以供进一步参考。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-12-09T21:05:18.013

最近，我遇到了为同一目的尽可能快地解析大型 CSV 文件的问题：数据聚合和指标计算（在我的案例中，最终目标是生成数据透视表）。我测试了最流行的 CSV 阅读器，但发现它们并不是为解析数百万行或更多行的 CSV 文件而设计的；JoshClose 的 CsvHelper 速度很快，但最终我能够以 2 到 4 倍的速度将 CSV 作为流处理！

我的方法基于两个假设：

*   尽可能避免创建字符串，因为这会浪费内存和 CPU（= 增加 GC 负载）。取而代之的是，解析器结果可以表示为一组“字段值”描述符，这些描述符仅保存缓冲区中的开始和结束位置+一些元数据（引用的值标志，值内的双引号数），并且字符串值仅在以下情况下构造需要。
*   使用循环 char[] 缓冲区读取 csv 行以避免过多的数据复制
*   没有抽象，最少的方法调用——这可以实现有效的 JIT 优化（例如，避免数组长度检查）。没有 LINQ，没有迭代器 ( `foreach`) -`for`效率更高。

现实生活中的使用数字（200MB CSV 文件的数据透视表，17 列，只有 3 列用于构建交叉表）：

*   我的自定义 CSV 阅读器：~1.9s
*   CSVHelper：~6.1s

- - 更新 - -

我已经在 github 上发布了如上所述工作的库：[https ://github.com/nreco/csv](https://github.com/nreco/csv)

Nuget 包：[https ://www.nuget.org/packages/NReco.Csv/](https://www.nuget.org/packages/NReco.Csv/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-10T08:53:34.863

查看[快速 CSV 阅读器](http://www.codeproject.com/Articles/9258/A-Fast-CSV-Reader)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T07:44:03.960

你应该看看 CsvHelper => [https://github.com/JoshClose/CsvHelper/](https://github.com/JoshClose/CsvHelper/)

它允许您将 .csv 文件与类映射，因此您可以将 .csv 文件用作对象。尝试一下，然后尝试应用您的并行操作，看看您是否有更好的性能。

这是我的项目示例代码：

```
 using (var csv = new CsvReader(new StreamReader(filePath, Encoding.Default)))
 {
            csv.Configuration.Delimiter = ';'; 
            csv.Configuration.ClassMapping<LogHeaderMap, LogHeader>(); 

            var data = csv.GetRecords<LogHeader>();

            foreach (var entry in data.OrderByDescending(x => x.Date))
            {
               //process
            }
 } 
```

# c# - 排序包含具有字母/数字的字符串的列表

> ID：11896158
> 
> 赞同：1
> 
> 时间：2012-08-10T05:50:18.483
> 
> 标签：c#, sorting

我想制作包含按字母顺序排列的字符串的排序列表，仅混合字母和数字以及数字。我的客户要求这样排序：

排序在 tablelist 类型对象中包含 Item Code: 111,111A,222,411G,300,411Z,G411,AG500,A111,AZ600,ABQ,ZZZ,AAN 等

所需结果：首先显示数字（如 111 然后 222 然后 300 等...）接下来将是带字母的数字（例如 111A 然后 411G 然后 411Z 等...）下一个带数字的字母（例如 A111 然后 G411 然后 AG500 然后 AZ600 等. ...) 仅下一个字母（如 AAN 然后 ABQ 然后 ZZZ 等....）

所以字符串可以是任何东西。但我想根据需要的结果进行排序。所以请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T06:46:02.383

```
unsortedStringList.Sort(new AlphanumComparatorFastString()); 
```

**字母比较器：**

```
 public class AlphanumComparatorFastString : IComparer<String>
    {
        public int Compare(string s1, string s2)
        {
            if (s1 == null)
                return 0;

            if (s2 == null)
                return 0;

            int len1 = s1.Length;
            int len2 = s2.Length;
            int marker1 = 0;
            int marker2 = 0;

            // Walk through two the strings with two markers.
            while (marker1 < len1 && marker2 < len2)
            {
                char ch1 = s1[marker1];
                char ch2 = s2[marker2];

                // Some buffers we can build up characters in for each chunk.
                char[] space1 = new char[len1];
                int loc1 = 0;
                char[] space2 = new char[len2];
                int loc2 = 0;

                // Walk through all following characters that are digits or
                // characters in BOTH strings starting at the appropriate marker.
                // Collect char arrays.
                do
                {
                    space1[loc1++] = ch1;
                    marker1++;

                    if (marker1 < len1)
                    {
                        ch1 = s1[marker1];
                    }
                    else
                    {
                        break;
                    }
                } while (char.IsDigit(ch1) == char.IsDigit(space1[0]));

                do
                {
                    space2[loc2++] = ch2;
                    marker2++;

                    if (marker2 < len2)
                    {
                        ch2 = s2[marker2];
                    }
                    else
                    {
                        break;
                    }
                } while (char.IsDigit(ch2) == char.IsDigit(space2[0]));

                // If we have collected numbers, compare them numerically.
                // Otherwise, if we have strings, compare them alphabetically.
                string str1 = new string(space1);
                string str2 = new string(space2);

                int result;

                if (char.IsDigit(space1[0]) && char.IsDigit(space2[0]))
                {
                    int thisNumericChunk = int.Parse(str1);
                    int thatNumericChunk = int.Parse(str2);
                    result = thisNumericChunk.CompareTo(thatNumericChunk);
                }
                else
                {
                    result = str1.CompareTo(str2);
                }

                if (result != 0)
                {
                    return result;
                }
            }
            return len1 - len2;
        }
    } 
```

如在[http://www.dotnetperls.com/alphanumeric-sorting上找到的](http://www.dotnetperls.com/alphanumeric-sorting)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T06:42:47.703

试试这个：

```
var text = "111,111A,222,411G,300,411Z,G411,AG500,A111,AZ600,ABQ,ZZZ,AAN";
var list = text.Split(',').ToList();
var result = list.OrderBy(i => i, new StringCompare());
foreach (var item in result)
{
    Console.WriteLine(item);
} 
```

**字符串比较**类：

```
class StringCompare : IComparer<string>
{
    string[] exps = new[] { @"^\d+$", @"^\d+[a-zA-Z]+$", @"^[a-zA-Z]\d+$", @"^[a-zA-Z]+\d+$" };
    public int Compare(string x, string y)
    {
        for (int i = 0; i < exps.Length; i++)
        {
            var isNumberx = Regex.IsMatch(x, exps[i]);
            var isNumbery = Regex.IsMatch(y, exps[i]);

            if (isNumberx && isNumbery)
                return string.Compare(x, y);
            else if (isNumberx)
                return -1;
            else if (isNumbery)
                return 1;
            //return string.Compare(x, y);
        }
        return string.Compare(x, y);
    }
} 
```

你会得到：

```
111
222
300
111A
411G
411Z
A111
G411
AG500
AZ600
AAN
ABQ
ZZZ 
```

# c# - foreach 中的数组位置

> ID：11896159
> 
> 赞同：-1
> 
> 时间：2012-08-10T05:50:27.717
> 
> 标签：c#, c#-4.0

在这里我想检查元素第 0 位是否是 settelg ......这是正确的吗？messageIn 来自 SMS 网关。在那条消息中，我想检查 Array 0th 位置是否为 setelg

```
public void ValidateReceivedMessage(string messageIn)
 {
    int MaleMooseID=1;
   //ArrayList msg_arr = new ArrayList();
   //string[] msg_arr = {messageIn};
   if (messageIn != null)
    {
       string[] msg_arr = messageIn.Split(' ');
       int size = msg_arr.Length;
       foreach (string _element in msg_arr)
       {
           if (_element == "settelg")
           {

            Response.Redirect("../DesktopModules/SMSFunction/SeenSMS.ascx?    value=1&arr=" + string.Join("|", msg_arr, 0, msg_arr.Length));

           }
           else if(_element =="skuttelg")
           {

           }
       }
   } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:52:54.030

不确定您是否正在寻找这个：

> 我想检查数组第 0 位是否为 setelg

你不需要 foreach ，你可以简单地做：

```
if(msg_arr[0] == "settelg")
{
//found
}
else
{
//not found
} 
```

或使用[string.Equals](http://msdn.microsoft.com/en-us/library/858x0yyx.aspx)将字符串与忽略大小写进行比较

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T05:53:29.760

这将起作用：

```
if (msg_arr.Length > 0 && String.Equals(msg_arr[0],"settelg", StringComparison.Ordinal)) {
    // ... Do something
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T11:15:04.117

我认为您在这里不需要 foreach 循环。因为您只需要访问第 0 个元素就知道条件是否足够。

```
if(msg_arr[0] == "setelg") { 
//Item found or true
 } 
else { 
//Item not found or false
 } 
```

不要在这里使用foreach。没有必要

# javascript - 有什么方法可以在 JavaScript 中识别浏览器选项卡？

> ID：11896160
> 
> 赞同：51
> 
> 时间：2012-08-10T05:50:40.617
> 
> 标签：javascript, browser, tabs, uniqueidentifier

我需要能够识别我在浏览器中的哪个选项卡。我不能从浏览器中获得一些信息来识别标签吗？我不需要知道任何其他选项卡的任何信息，我只需要我所在选项卡的 id。它可以是随机数或序列号，也可以是日期时间戳，只要它在标签的寿命。

我有一个客户端应用程序，它通过 HTTP 连接到远程服务器，如果我在多个选项卡中打开它，每个实例都需要自己的唯一 ID，否则应用程序会失败，所以我只需要一些与只要该选项卡存在（即当我浏览提供此应用程序的网站时页面刷新后仍然存在的内容），该选项卡就会存在。似乎很简单，应该只在浏览器中可用，例如 window.tabId - 这就是我所需要的。我有一个严重的开发障碍，因为我无法通过这个看似不存在的简单、简单、简单的解决方案。必须有一种方法（一种跨浏览器的解决方案）。

有任何想法吗？

* * *

## 回答 #1

> 赞同：51
> 
> 时间：2016-04-23T07:14:01.393

SessionStorage 是每个选项卡/窗口的，因此您可以在 sessionStorage 中定义一个随机数，如果存在则首先获取它：

```
var tabID = sessionStorage.tabID ? 
            sessionStorage.tabID : 
            sessionStorage.tabID = Math.random(); 
```

**更新**：
在某些情况下，您可能在多个选项卡中拥有相同的 sessionStorage（例如，当您复制选项卡时）。在这种情况下，以下代码可能会有所帮助：

```
var tabID = sessionStorage.tabID && 
            sessionStorage.closedLastTab !== '2' ? 
            sessionStorage.tabID : 
            sessionStorage.tabID = Math.random();
sessionStorage.closedLastTab = '2';
$(window).on('unload beforeunload', function() {
      sessionStorage.closedLastTab = '1';
}); 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-08-10T06:39:05.340

您必须使用 html5，但[sessionStorage](https://developers.google.com/web-toolkit/doc/latest/DevGuideHtml5Storage)与随机 guid 相结合似乎是您想要的。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2020-02-11T07:46:00.760

这是一种`tabId`在页面加载后可用的方法 -`tabId`即使在刷新后也一样。

这也解决了重复选项卡的问题，`tabId`因为`sessionStorage`.

```
window.addEventListener("beforeunload", function (e)
{
    window.sessionStorage.tabId = window.tabId;

    return null;
});

window.addEventListener("load", function (e)
{
    if (window.sessionStorage.tabId)
    {
        window.tabId = window.sessionStorage.tabId;
        window.sessionStorage.removeItem("tabId");
    }
    else
    {
        window.tabId = Math.floor(Math.random() * 1000000);
    }

    return null;
}); 
```

访问`tabId`使用`window.tabId`.

需要该`beforeunload`事件才能使`tabId`刷新后具有相同的可用 ID。

该`load`活动需要：

1.  生成初始`tabId`.
2.  `tabId`刷新后加载相同- 如果存在。

* 我真的不知道为什么我应该这样做`return null`或返回。只需阅读不返回可能会导致该功能无法正常工作:(

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2018-09-07T08:26:16.243

由于我没有找到简单的 Javascript 函数`windows.currentTabIndex`，因此我编写了几行 Javascript 来在加载每个浏览器选项卡时修复它们的 ID。

```
function defineTabID()
    {
    var iPageTabID = sessionStorage.getItem("tabID");
      // if it is the first time that this page is loaded
    if (iPageTabID == null)
        {
        var iLocalTabID = localStorage.getItem("tabID");
          // if tabID is not yet defined in localStorage it is initialized to 1
          // else tabId counter is increment by 1
        var iPageTabID = (iLocalTabID == null) ? 1 : Number(iLocalTabID) + 1;
          // new computed value are saved in localStorage and in sessionStorage
        localStorage.setItem("tabID",iPageTabID);
        sessionStorage.setItem("tabID",iPageTabID);
        }
    } 
```

此代码保存最后一个选项卡的索引`localStorage`以更新新选项卡的当前值并`sessionStorage`修复页面的 id ！

我必须`defineTabId()`在我的应用程序的每个页面中调用函数。由于我使用 JSF 模板进行开发，因此仅在一个地方定义了 :-)

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2012-08-10T06:00:23.097

您无法使用 javascript 获取标签 ID，但是有一些解决方案可以帮助您在用户打开新标签时使用不同的会话/cookie。

一些参考：

[获取浏览器标签索引/ID](https://stackoverflow.com/questions/4510454/get-browser-tab-index-id)

[从火狐扩展获取火狐标签的网址](https://stackoverflow.com/questions/1028630/get-urls-of-firefox-tabs-from-firefox-extension)

[如何在浏览器选项卡中区分会话？](https://stackoverflow.com/questions/368653/how-to-differ-sessions-in-browser-tabs)

[在每个浏览器选项卡中获取唯一会话](http://blog.gauffin.org/2012/02/get-a-unique-session-in-each-browser-tab/)

[asp.net - 会话 - 多个浏览器选项卡 - 不同的会话？](https://stackoverflow.com/questions/2840615/asp-net-session-multiple-browser-tabs-different-sessions)

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2019-07-24T22:14:40.830

对于这里使用 React 的任何人，我做了一个鬼鬼祟祟的小钩子：

```
import {useEffect, useMemo} from 'react'
import uniqid from 'uniqid'

export const TAB_ID_KEY = 'tabId'

export default () => {
  const id = useMemo(uniqid, [])

  useEffect(() => {
    if (typeof Storage !== 'undefined') {
      sessionStorage.setItem(TAB_ID_KEY, id)
    }
  }, [id])

  return id
} 
```

把它放在你的基础 App/Page 组件上，或者你知道会一直挂载的地方。

它会在挂载后运行效果，并为会话存储中的当前选项卡设置一个唯一的 id，该选项卡是特定于选项卡的存储。

复制选项卡将为您提供新选项卡的新 ID，因为组件将再次安装并且效果将运行，覆盖前一个选项卡的 ID

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2012-09-18T14:17:20.900

一种可能的解决方案是使用“window.name”属性，但我不想使用它，因为其他人可以使用它。

我找到了另一种可能的解决方案：使用 sessionStorage。FF3.5+、Chrome4+、Safari4+、Opera10.5+、IE8+支持。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2017-07-12T13:37:47.803

如果用户在 2 毫秒内打开 3 个选项卡的可能性不大，则可以使用时间戳并将其存储到 window.name 中，并将其用作查找中的键。window.name 值将保留在选项卡中，直到它关闭。

[时间戳](https://stackoverflow.com/questions/221294/how-do-you-get-a-timestamp-in-javascript)

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-04-19T08:45:14.653

您可以在服务人员的“获取”事件处理程序中获取选项卡 ID（或 clientId）。如果您需要将该 clientId 发送到您的页面，只需使用 client.postMessage()。

在您的服务人员中：

```
self.addEventListener("fetch", function(event) {
 event.waitUntil(async function() {

  if (!event.clientId) return;

  const client = await clients.get(event.clientId);

  if (!client) return;

  client.postMessage({
   clientId: event.clientId,
  });

 }());
}); 
```

在您的页面脚本中：

```
navigator.serviceWorker.addEventListener('message', event => {
 console.log(event.data.clientId);
}); 
```

来源： [Client.postMessage()](https://developer.mozilla.org/en-US/docs/Web/API/Client/postMessage#examples:%7E:text=addEventListener(%27fetch%27%2C%20event%20%3D%3E%20%7B,%7D)%3B)

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2018-07-09T15:40:04.560

至少对于 chrome，自 2013 年以来就有一个官方答案： [chrome.tabs API](https://developer.chrome.com/extensions/tabs)。

# javascript - 函数不会多次执行（正确）

> ID：11896161
> 
> 赞同：1
> 
> 时间：2012-08-10T05:50:44.787
> 
> 标签：javascript, dom

我正在尝试按照这些指南更改 div 的位置，使其看起来流畅：

*   一次非常小的增量
*   每秒无数次
*   在给定的角度（因此端点（）中的所有三角）

我已经测试了我的函数“endpoint()”，它处理 div 的计算和移动，它按预期工作。但是，当我尝试多次执行该功能时，它不起作用。

```
<style type="text/css">
.ball
{
    width:20px;
    height:20px;
    border-radius:50%;
    background-color:#00c0c6;
    position:absolute;
    left:0px;
    top:0px;
}
</style>

<div id="tehBall" class="ball"></div>

<script type="text/javascript">
    endpoint(slopeInRadians); //WORKS!  (changes position of the div)
    endpoint(slopeInRadians); //DOESN'T work (doesn't change the position of the div)
    endpoint(slopeInRadians); //DOESN'T work (same as above)
</script> 
```

这是端点功能的代码：

```
function endpoint(m) 
{
    var oldX = getStyle("tehBall", "left");
    var oldY = getStyle("tehBall", "top");

    var xAxis = parseInt(oldX);
    var yAxis = parseInt(oldY); 

    var dX = (Math.cos(m));
    var dY = ((0 - Math.sin(m))); 

    xAxis += dX;
    yAxis += dY;

    xAxis = xAxis.toString();
    yAxis = yAxis.toString();   

    xAxis += "px";
    yAxis += "px";

    document.getElementById('tehBall').style.left = xAxis;
    document.getElementById('tehBall').style.top = yAxis;   

} 
```

getStyle 的代码（用于端点函数）：

```
function getStyle(id, property){
    var elem = document.getElementById(id);
    var value = window.getComputedStyle(elem,null).getPropertyValue(property);

    return value;
} 
```

任何帮助将非常感激

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:07:11.420

无需处理样式，只需将坐标存储在全局变量中，如下所示：

请记住在将值放入样式时对其进行四舍五入，因为并非所有（旧）浏览器都支持浮点。

```
<script type="text/javascript">
var xAxis =0.0;
var yAxis = 0.0;
function endpoint(m) 
{
    var dX = (Math.cos(m)/* * d*/);
    var dY = ((0 - Math.sin(m))/* * d*/); 

    xAxis += dX;
    yAxis += dY;

    document.getElementById('tehBall').style.left = Math.round(xAxis) + 'px';
    document.getElementById('tehBall').style.top = Math.round(yAxis) + 'px';   

}
</script> 
```

# extjs - 动态使用存储中的额外参数

> ID：11896163
> 
> 赞同：10
> 
> 时间：2012-08-10T05:51:04.897
> 
> 标签：extjs

我有一个表格。在表格中，我使用 a`comboBox`和 a `store`。

```
{
    xtype: 'combobox',
    id: 'SubContractor',
    name: 'SubContractor',
    fieldLabel: 'Sub Contractors',
    selectOnFocus: true,
    editable: false,
    displayField: 'FirstName',
    store: 'jsonGetSubContractorsList',
    typeAhead: true,
    allowBlank: false,
    typeAheadDelay: 20,
    valueField: 'SubContractID',
    width: 440,
    labelWidth: 229
} 
```

在商店中，在代理中我有 static `extraParams`，它正在工作。

```
proxy: {              
    type: 'ajax',
    url: '/admin/contract/subcontractors/jsonsubcontractorslist',
    extraParams: {
        cid : 34
    },
    reader: {
        type: 'json',
        root: 'data'
    }
}, 
```

但我不明白，如何将合同 ID 动态发送到我的商店。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-08-10T06:06:56.047

```
store.getProxy().extraParams = {
    foo: 'bar'
};
store.load(); 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-05-31T14:28:28.623

对于 extjs4，它是：

```
store.load({
    params:{
        'foo1': bar1,
        'foo2': bar2
    } 
}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-08-16T20:14:21.473

尝试这个：

```
 .
  . 
  proxy: {
    type: 'ajax',
    api: {
        create: CONTEXT_PATH + '/mvc/odon/create', 
        read: CONTEXT_PATH + '/mvc/odon/list',
        update: CONTEXT_PATH + '/mvc/odon/update',
        destroy: CONTEXT_PATH + '/mvc/odon/delete'
    },
    .
    . 
```

传递参数：

```
 var storeDiagnostico= down('gridpanel').getStore();//Ext.create('store.odont.DStore');
        storeDiagnostico.getProxy().setExtraParam("idOdontologia", value);
        storeDiagnostico.load(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-06-12T19:43:32.360

在 Chrome 和 FF 中，即使这样也可以：

```
store.proxy.extraParams.foo= 'bar'; 
```

但是在 IE8 中（个人有这个问题）必须按照 Evan 提到的方式来做

```
store.proxy.extraParams = {foo: 'bar'}; 
```

[检查这个...](http://atechiediary.blogspot.in/2013/06/extjs-storeproxyextraparams-is.html)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-10-18T16:23:19.330

对不起大家，

我花了更多时间来了解所有可用的选项和不同之处。关于这个问题的答案太多了。我已经总结了它们，希望答案对某人有所帮助。

**创建商店时（Ext JS 6.xx 中支持，可能在早期版本中）：**

```
var store = Ext.create('YourStore', {
    listeners: {
        // Fires before a request is made. op is an Ext.data.Operation object
        beforeload:function(store,op){
            // Set request parameters (without overriding other parameters)
            op.setParams(Ext.apply(op.getParams()||{},{
                par1:'value'
            }));
        },
        ... 
```

**当您定义商店的代理时。从 Ext JS 4.xx 开始支持：**

```
proxy: {
    type: 'ajax',
    url: 'rest/dse',
    extraParams: {
        par1: 'value'
    } 
```

**注意：在这种情况下，为多个后续查询发送参数！**

**当您显式加载数据时。所有版本的 Ext JS 都支持（从 3.xx 开始）：**

```
store.load({
    params: { par1: "value" }
}); 
```

`par1`注意： '' 或“” 内不需要加。

替代子选项，它使用对代理及其 extraParams 选项的访问：

```
store.getProxy().extraParams = {
    par1: 'value'
};
store.load(); 
```

小心这个。发送此参数用于多个后续查询！

**创建商店时。仅在 Ext JS 3.x 版本中支持。**

```
var genres1 = new Ext.data.Store({
    baseParams: {
        param1: 'value1',
        param2: 'value2'
    },
    // ... 
```

# java - 如何在基于 Jtree / Jtable 的文件列表中创建刷新/重新加载？

> ID：11896170
> 
> 赞同：1
> 
> 时间：2012-08-10T05:51:44.660
> 
> 标签：java, swing, jtable, jtree, .refresh

[我在File Browser Gui](https://codereview.stackexchange.com/questions/4446/file-browser-gui)中阅读教程，但如果 strucutre 文件夹更改，程序无法动态重新加载，如何在 File Browser GUI 中创建刷新/重新加载功能？
这是我不完整的代码

```
refreshPath = new JButton("Refresh");
refreshPath.addActionListener(new ActionListener(){
     public void actionPerformed(ActionEvent ae) {
        ....
     }
});
toolBar.add(refreshPath); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T07:27:43.063

*   [FileIO](http://docs.oracle.com/javase/tutorial/essential/io/fileio.html)也是 Java 和 Native OS 的低级和硬事件

*   基本上有两种方式

    a)[观看 Java7 更改目录，](http://docs.oracle.com/javase/tutorial/essential/io/notification.html)[此处](https://stackoverflow.com/q/7784909/230513)讨论。

    b）使用一些自定义`FileIO Watchin`g（我不能建议什么更好或不更好，也许`FileWatcher by Apache`）

*   在这两种情况下都不会通知 Swing GUI，必须通过使用`SwingWorker`或通知`Runnable#Thread`

*   通过使用`Runnable#Thread`ins't there 保证输出将被通知`Event Dispatch Thread`，将输出包装到 Swing GUI 到`invokeLater()`

*   `SwingWorker`保证，但为了更安全的输出，你也可以使用`invokeLater()`，我们谈论的是第四个。此外，短代码行

# objective-c - 任何对多对多谓词

> ID：11896171
> 
> 赞同：1
> 
> 时间：2012-08-10T05:51:53.727
> 
> 标签：objective-c, cocoa, core-data, nspredicate

我可以得到一个谓词

```
ANY alpha.prop LIKE $SEARCH_TERM 
```

在***alpha***是一对多关系的情况下工作，但我如何得到

```
ANY alpha.beta.prop LIKE $SEARCH_TERM 
```

要在***alpha***是一对多关系且***beta***是***alpha***上的一对多关系的情况下工作，这会引发异常“*此处不允许多对多键*”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-12T10:49:53.600

您可以分两步完成。假设从 to 是`b`一对多关系，从 to`A`是一对多关系 ，那么您可以首先获取与具有所需属性的任何对象相关的所有对象：`B``c``B``C``B``C`

```
NSFetchRequest *request1 = [NSFetchRequest fetchRequestWithEntityName:@"B"];
NSPredicate *predicate1 = [NSPredicate predicateWithFormat:@"ANY(c.prop) LIKE %@", searchTerm];
request1.predicate = predicate1;
NSArray *bList = [context executeFetchRequest:request1 error:NULL]; 
```

然后从中间结果中获取`A`与任何对象相关的所有对象：`B`

```
NSFetchRequest *request2 = [NSFetchRequest fetchRequestWithEntityName:@"A"];
NSPredicate *predicate2 = [NSPredicate predicateWithFormat:@"ANY(b) IN %@", bList];
request2.predicate = predicate2;

NSArray *aList = [context executeFetchRequest:request2 error:NULL]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:43:27.023

好的，这样做的方法是在底部子元素上进行搜索，以便查询字符串变为

```
prop LIKE $SEARCH_TERM 
```

然后枚举结果并抓住父级的父级并将它们粘贴在一个集合中以删除重复项，例如

```
NSMutableSet  * mySet = [NSMutableSet set];
for( MyChild * c in [self.managedObjectContext executeFetchRequest:theFetchRequest error:&theError] )
{
    [mySet addObject:c.parent.parent];
} 
```

# iphone - 如何从我的应用程序中打开手机的键盘

> ID：11896173
> 
> 赞同：0
> 
> 时间：2012-08-10T05:51:59.217
> 
> 标签：iphone, objective-c, ios, xcode

从我的应用程序中，我想打开用于拨打电话的电话拨号键盘。我试过

```
[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@"tel:"]]; 
```

但它不会打开手机的键盘。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T09:55:42.477

无法打开电话的键盘。您可以在视图控制器中设计自己的电话键盘，为声音添加 DTMF Tones 并使其看起来像电话的键盘。如果您想要自己的手机键盘并希望在您的应用程序中拥有它，那么这是唯一的方法。

如果需要，可以打开电话应用程序并执行呼叫，请参阅下面的链接以了解其完成方式。

[以编程方式拨打电话](https://stackoverflow.com/questions/4929717/how-can-i-make-a-phone-call-programmatically-on-iphone)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-10T05:59:42.997

您可以通过在 UITextField keyboardtype 中设置属性来使用它。

```
selectedTextField.keyboardType=UIKeyboardTypePhonePad; 
```

# spring - 我在哪里可以在 struts2 中添加我的属性文件名

> ID：11896174
> 
> 赞同：-1
> 
> 时间：2012-08-10T05:51:59.670
> 
> 标签：spring, hibernate, struts2

在我的应用程序中，每个动作类都有各自的属性文件，事情是我只知道如何从属性文件中获取值，但我不知道在我的应用程序中在哪里添加属性文件名，我想添加新的属性文件对于我的应用程序，没有动作类，仅适用于 jsp。

请帮我在哪里调用属性文件名struts.xml。

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2012-08-10T06:14:59.270

/web/WEB-INF/classes 是通常的地方。

# java-me - 如何在 LWUIT 中使用 TextField 显示多行文本

> ID：11896178
> 
> 赞同：0
> 
> 时间：2012-08-10T05:52:14.730
> 
> 标签：java-me, lwuit, nokia-s40

我已经创建了 LWUIT `TextField`，并且我已经添加了文本段落`TextField`，但是我无法显示全文？我能够显示单行文本吗？这是我的代码：

```
 TextField field=new TextField(detailNews.getDescription());             
   field.setSingleLineTextArea(false);        
   field.setGrowByContent(true);       
   field.setIsScrollVisible(true);
   field.setFocus(false);
   field.setRows(detailNews.getDescription().length());     
   form2.addComponent(field); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:52:37.880

`TextField`仅适用于单行情况。您要使用的是`TextArea`组件。所以尝试`TextField`通过一个组件来改变你的`TextArea`组件

# php - Joomla 2.5 - 自定义手工编码表单和 PHP 邮件程序 - 找不到 contact.php 文件

> ID：11896184
> 
> 赞同：0
> 
> 时间：2012-08-10T05:52:38.093
> 
> 标签：php, html, joomla, submit, contact-form

我正在开发一个在*XAMPP*下运行的新 Joomla 2.5 站点。我已经在 HTML 中编写了一个自定义估算表单作为文章.... 一个用于 calc 的 jQuery 文件和一个用于通过电子邮件发送所有 calc 和客户信息的 contact.php 文件。

至于使用表单插件，我认为这是不可能的，因为所有的计算......滑块等。继续。

问题是当我点击提交按钮时，joomla 似乎找不到contact.php 文件。我正在运行 XAMPP，并且在我的项目的根目录中找到了 contact.php 文件。

***这是带有表格的我的文章的链接***

```
http://localhost/cleardraft/index.php/hosting/2012-02-17-02-08-39/estimate 
```

***单击提交按钮时找不到返回的链接。我没想到会有这样一个指向contact.php文件的链接***

```
http://localhost/cleardraft/index.php/hosting/2012-02-17-02-08-39/contact.php 
```

**HTML 示例**

```
<form id="wizard-form" method="post" action="contact.php" class="jWizard">

 <!------normal form code stuff here----->

<button type="submit" class="button-finish" style="display: inline-block; ">Submit</button> 
```

我已经搜索和搜索，但在网上没有找到答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-01-30T12:17:54.267

（由 OP 在问题编辑中解决。移至社区 wiki 答案。请参阅[没有答案的问题，但问题已在评论中解决（或在聊天中扩展）](https://meta.stackoverflow.com/questions/251597/question-with-no-answers-but-issue-solved-in-the-comments)）

OP写道：

> **解决了...** **解决了...* * **解决了...**

```
<form id="wizard-form" method="post" action="http://localhost/cleardraft/contact.php" class="jWizard"> <--Direct Path Here. 
```

> 这是挂在我的 HTML 文件的底部！完全忘记了！！！！！！这就是我头痛的原因！！！

```
$('form#wizard-form').bind('submit', function() {
    $('.R_C_loader').show();
    $.post("http://localhost/cleardraft/contact.php", <--Direct Path here and Solved it.
           $("#wizard-form").serialize(), 

           function(reply) {
               $(".R_C_message, #R_C_TopMessage").removeClass().html(reply);
               $('.R_C_loader').hide();
           });

    return false;

}); 
```

# c# - C#，Vici 解析器条件语句

> ID：11896185
> 
> 赞同：1
> 
> 时间：2012-08-10T05:52:41.413
> 
> 标签：c#, vici

谁能帮我在运行时使用 Vici 解析器评估这个表达式。

我已经尝试过其他常用的表达方式，比如 5* VARIABLE kinda 表达方式。但是是否可以使用 VICI 解析器评估条件语句。

示例：IF SAL > 5 THEN 25 ELSE 45 ENDIF

谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T07:09:35.500

您应该使用 ?: 语法：

```
SAL > 5 ? 25 : 45 
```

您也可以将其扩展为多个条件：

```
SAL > 5 ? 25 : SAL > 10 ? 35 : 45 
```

# git - 使用 git 文件

> ID：11896188
> 
> 赞同：1
> 
> 时间：2012-08-10T05:52:52.860
> 
> 标签：git, pack

大家好，我已经克隆了一个 git 来获取一些源代码，现在我想编译它但是当我转到我克隆的目录时，没有文件只有“.pack”文件。但我可以看到 git 客户端中的所有文件。如何从克隆的 git 中提取文件以编译它们

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T07:33:16.227

从[`git clone`手册页](http://git-scm.com/docs/git-clone)和“ [Git Basics - Getting a Git Repository](http://git-scm.com/book/en/Git-Basics-Getting-a-Git-Repository) ”，一个简单的：

```
git clone url/of/your/repo 
```

足以将 git 克隆为非裸仓库，即其工作树中填充了来自默认分支（通常是那个`master`）的文件

![完整的非裸回购](../Images/04b226f7c3ba0edb910b8aaa10f14a92.png)

这就是您在左侧看到的内容（“工作目录”）。
A`git clone --bare url/of/your/repo`只会产生正确的部分（“存储库”），您只会看到打包的文件。

* * *

现在，如果您确实克隆了存储库，但仍然看不到任何文件（仅 .git 目录），那么某些存储库可能会发生这种情况，如[该线程](http://www.spinics.net/lists/newbies/msg45937.html)所示。

在这种情况下， a **`git checkout master`**（在`git clone`, 之后并且在你的 repo 的根目录中）应该足以恢复工作树的全部内容。

如果您想直接从特定分支结帐：

```
git checkout -t -b android-3.0 origin/android-3.0 
```

这会将您的本地分支链接到远程分支，并使用该分支的文件内容填充工作树。

# objective-c - 如果在键盘启动时活动文本字段发生变化，键盘将在屏幕上冻结

> ID：11896191
> 
> 赞同：0
> 
> 时间：2012-08-10T05:53:08.620
> 
> 标签：objective-c, uikit

我已经到了一种情况，我可以让屏幕键盘“粘住”，甚至按下键盘上的关闭按钮也没有效果。

`UITextField`触摸a 时弹出键盘。普通的。但是，如果`UITextField`在键盘启动时触摸了不同的内容，并且该文本字段发出 a `UIAlertView`（以通知用户该特定记录不可编辑），则此警报视图似乎以某种方式“锁定”了键盘。我在创建或显示警报视图之前尝试过`resignFirstResponder`，但这没有效果。我`- (void)textFieldDidBeginEditing:(UITextField *)textField`用来确定是否允许编辑，这个方法包含显示警报视图和辞职第一响应者的代码。

有没有人有过这样的经历或者有什么建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T05:58:03.827

使用`- (BOOL)textFieldShouldBeginEditing:(UITextField *)textField`而不是问题中提到的方法。测试并解决了问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:33:56.610

当您显示警报视图时，则返回编号；对于特定的文本字段。因为警报视图和键盘同时显示。尝试根据您的要求管理它们。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T07:31:03.387

尝试

```
[yourtextFieldObj endEditing:YES]; 
```

在显示警报之前..这可能会有所帮助..

# php - 如何在没有数据库的情况下收集数据

> ID：11896192
> 
> 赞同：0
> 
> 时间：2012-08-10T05:53:23.593
> 
> 标签：php, html

我正在为我的网站制作一个即将推出的页面，其中包括名称和电子邮件的文本框，我正在使用 asp，但现在我想要 php 或 html5 编码，因为我完成了我的项目。

我想将数据插入到 csv 文件中，并使用 php 在用户电子邮件地址上发送自动生成的邮件，是否有可能，谁能帮助我解决这个问题。有两个文本框名称和电子邮件。你能给我代码，因为我是 php 新手吗？

我在谷歌上找到的代码：

```
if($_POST['formSubmit'] == "Submit")
{
    $errorMessage = ""; 
    if(empty($_POST['name']))
    {
        $errorMessage .= "<li>without name how can we send you invitation</li>";
    }
    if(empty($_POST['email']))
    {
        $errorMessage .= "<li>i think email id is required</li>";
    }

    $name = $_POST['name'];

    $email = $_POST['email'];
        if(empty($errorMessage)) 
    {
        $fs = fopen("mydata.csv","a");
        fwrite($fs,$name . ", " . $email . "\n");
        fclose($fs);

        header("Location: werememberyou.html");
        exit; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:07:50.460

您当前的代码中有两个问题

1.  通过电子邮件发送到特定条目。

    您可以使用 php 的 Direct Mail 功能。或者您可以使用[PHP Mailer](http://sourceforge.net/projects/phpmailer/)（对于 localhost 进行最佳测试）

2.  将条目添加到 CSV 文件。

    在这里，您将来可能会遇到向当前文件添加新条目的问题。所以我添加了一些你可以使用的代码。

    ```
    if($_POST['formSubmit'] == "Submit")
    {
        $errorMessage = ""; 
        if(empty($_POST['name']))
        {
            $errorMessage .= "<li>without name how can we send you invitation</li>";
        }
        if(empty($_POST['email']))
        {
            $errorMessage .= "<li>i think email id is required</li>";
        }

        $name = $_POST['name'];
        $email = $_POST['email'];

        function array_insert($array, $pos, $val)
        {
            $array2 = array_splice($array, $pos);
            $array[] = $val;
            $array = array_merge($array, $array2);
            return $array;
        } 

        if(empty($errorMessage)) 
        {

            $DataToInsert = $name.','.$email;
            $PositionToInsert = 1;

            //Full path & Name of the CSV File
            $FileName = 'mydata.csv';

            //Read the file and get is as a array of lines.
            $arrLines = file($FileName);

            //Insert data into this array.
            $Result = array_insert($arrLines, $PositionToInsert, $DataToInsert);

            //Convert result array to string.
            $ResultStr = implode("\n", $Result);

            //Write to the file.
            file_put_contents($FileName, $ResultStr);

            $to      = $email;
            $subject = 'Thank You';
            $message = 'We will soon contact you';
            $headers = 'From: youremail@gmail.com' . "\r\n" .
                       'Reply-To: youremail@gmail.com' . "\r\n" .
                       'X-Mailer: PHP/' . phpversion();

            mail($to, $subject, $message, $headers);

            header("Location: werememberyou.html");
            exit;
        } 
    ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:02:30.460

你应该阅读[fputcsv](http://www.php.net/manual/pl/function.fputcsv.php)，这个函数将为 csv 文件的结构准备正确的数据。只需使用收集的数据创建一个数组并将其作为参数传递。我看到你已经用“a”参数打开了你的文件，所以你很好。

如果您的服务器配置正确，发送邮件很容易，请使用[邮件](http://www.php.net/manual/pl/function.mail.php)功能。

你会在[php.net](http://www.php.net/)上找到你需要的一切（带有示例） ，我强烈推荐它作为第一信息来源。

# php - 我们如何使用平衡支付处理付款？

> ID：11896193
> 
> 赞同：1
> 
> 时间：2012-08-10T05:53:27.777
> 
> 标签：php, balanced-payments

使用以下代码时，出现错误：

```
$page = $_SERVER['REQUEST_URI'];
Settings::$api_key = $API_KEY_SECRET;
$marketplace = Marketplace::mine();
if ($page == '/')
{
  // do nothing
} 
elseif ($page == '/buyer') {
if (isset($_POST['uri']) and isset($_POST['email_address'])) {
    // create in balanced
    $email_address = $_POST['email_address'];
    $card_uri = $_POST['uri'];
    try {
        echo create_buyer($email_address, $card_uri)->uri;
        return;
    } catch (Exception $e) {
        echo $e->getMessage();
        return;
    }
}
}

function create_buyer($email_address, $card_uri) {
$marketplace = Marketplace::mine();
try {
    # new buyer
    $buyer = $marketplace->createBuyer(
        $email_address,
        $card_uri);
}
catch (Exception $e) {
    if ($e->category_code == 'duplicate-email-address') {
        # oops, account for $email_address already exists so just add the card
        $buyer = $marketplace
            ->accounts
            ->query()
            ->filter(Account::$f->email_address->eq($email_address))
            ->one();
        $buyer->addCard($card_uri);
    }
    else {
        throw $e;
    }     
}
return $buyer;
 } 
```

我收到此错误：

> 致命错误：/var/www/html/site/balancepayment/Balanced/Core/Query.php:134 中未捕获的异常“NoResultFound”堆栈跟踪：#0 /var/www/html/site/balancepayment/Balanced/Marketplace.php (48): Query->one() #1 /var/www/html/site/balancepayment/index.php(16): Marketplace::mine() #2 {main} 抛出 /var/www/html/ site/balancepayment/Balanced/Core/Query.php 在第 134 行

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T05:59:13.317

您是否像本教程的第一步一样创建了市场？

[https://www.balancedpayments.com/docs/php#quickstart](https://www.balancedpayments.com/docs/php#quickstart)

```
Balanced\Settings::$api_key = $key->secret;
$marketplace = new Balanced\Marketplace();
$marketplace->save(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-18T15:37:19.900

我创建了平衡支付的自定义库，可在 github [https://github.com/yousafsyed/balancedpayments](https://github.com/yousafsyed/balancedpayments)

这是使用示例

```
 require ("balancedpayments.php");

$config = array(
"apikey"              => "ak-test-23923840140fisdfjsodfjd9fjks22sdww", // set your api    key secret
"payment_description" => " Charging the card", // set the payment description
"statement_appear_as" => "Example Company"// set the statement

);

Balancedpayments::config($config); // pass the config array

/**
 * Create customer example
 * */
$userdata = array(
"name"          => "yousaf",
"email"         => "mmesunny@gmail.com",
"adddres"       => "NY street 1",
"meta[user_id]" => "123"
);
Balancedpayments::create_user($userdata); 
```

**有关更多用法示例，请参阅 github 上的示例** [https://github.com/yousafsyed/balancedpayments#usage](https://github.com/yousafsyed/balancedpayments#usage)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T10:30:44.677

好的，所以在代码示例的顶部有注释

```
/**
 * Represents a marketplace.
 * 
 * To get started you create an api key and then create a marketplace:
 * 
```

但是，由于某种原因，我的开发人员似乎没有按顺序遵循这些指示。

BalancedPayments，我不是一个编码员，你能确认我的开发人员没有按照正确的顺序正确遵循这里的指示吗？看起来他们正试图跳过前两个步骤....

```
<?php

/**
 * Represents a marketplace.
 * 
 * To get started you create an api key and then create a marketplace:
 *   
 * <code>
 * $api_key = new \Balanced\APIKey();
 * $api_key->save();
 * $secret = $api_key->secret  // better save this somewhere
 * print $secret;
 * \Balanced\Settings::$api_key = $secret;
 * 
 * $marketplace = new \Balanced\Marketplace();
 * $marketplace->save();
 * var_dump($marketplace); 
 * </code>
 * 
 * Each api key is uniquely assocaited with an api key so once you've created a
 * marketplace:
 * 
 * <code>
 * \Balanced\Settings::$api_key = $secret;
 * $marketplace = \Balanced\Marketplace::mine();  // this is the marketplace associated with $secret  
 * </code>
 */
class Marketplace extends Resource
{
    protected static $_uri_spec = null;

    public static function init()
    {
        self::$_uri_spec = new URISpec('marketplaces', 'id', '/v1');
        self::$_registry->add(get_called_class());
    }

    /**
     * Get the marketplace associated with the currently configured
     * \Balanced\Settings::$api_key. 
     *
     * @throws \Balanced\Exceptions\NoResult
     * @return \Balanced\Marketplace
     */
    public static function mine()
    {
        return self::query()->one();
    }

    /**
     * Create a card. These can later be associated with an account using
     * \Balanced\Account->addCard or \Balanced\Marketplace->createBuyer. 
     * 
     * @param string street_address Street address. Use null if there is no address for the card.
     * @param string city City. Use null if there is no address for the card.
     * @param string postal_code Postal code. Use null if there is no address for the card.
     * @param string name Name as it appears on the card.
     * @param string card_number Card number.
     * @param string security_code Card security code. Use null if it is no available.
     * @param int expiration_month Expiration month.
     * @param int expiration_year Expiration year.
     * 
     * @return \Balanced\Card
     */
    public function createCard(
        $street_address,
        $city,
        $region,
        $postal_code,
        $name,
        $card_number,
        $security_code,
        $expiration_month,
        $expiration_year)
    {
        if ($region != null && strlen($region) > 0) {
            trigger_error("The region parameter will be deprecated in the next minor version of balanced-php", E_USER_NOTICE);
        }

        return $this->cards->create(array(
            'street_address' => $street_address,
            'city' => $city,
            'region' => $region,
            'postal_code' => $postal_code,
            'name' => $name,
            'card_number' => $card_number,
            'security_code' => $security_code,
            'expiration_month' => $expiration_month,
            'expiration_year' => $expiration_year
            ));
    }

    /**
     * Create a bank account. These can later be associated with an account
     * using \Balanced\Account->addBankAccount.
     * 
     * @param string name Name of the account holder.
     * @param string account_number Account number.
     * @param string bank_code Bank code or routing number.
     * 
     * @return \Balanced\BankAccount
     */
    public function createBankAccount(
        $name,
        $account_number,
        $bank_code
        )
    {
        return $this->bank_accounts->create(array(
            'name' => $name,
            'account_number' => $account_number,
            'bank_code' => $bank_code,
            ));
    }

    /**
     * Create a role-less account. You can later turn this into a buyer by
     * adding a funding source (e.g a card) or a merchant using
     * \Balanced\Account->promoteToMerchant.
     *
     * @param string email_address Email address. There can only be one account with this email address.
     * @param array[string]string meta Optional metadata to associate with the account.
     *
     * @return \Balanced\Account
     */
    public function createAccount($email_address, $meta = null)
    {
        return $this->accounts->create(array(
            'email_address' => $email_address,
            'meta' => $meta,
            ));
    }

    /**
     * Create a buyer account.
     * 
     * @param string email_address Email address. There can only be one account with this email address.
     * @param string card_uri URI referencing a card to associate with the account.
     * @param array[string]string meta Optional metadata to associate with the account.
     *
     * @return \Balanced\Account
     */
    public function createBuyer($email_address, $card_uri, $meta = null)
    {
        return $this->accounts->create(array(
            'email_address' => $email_address,
            'card_uri' => $card_uri,
            'meta' => $meta,
            ));
    }

    /**
     * Create a merchant account.
     * 
     * Unlike buyers the identity of a merchant must be established before
     * the account can function as a merchant (i.e. be credited). A merchant
     * can be either a person or a business. Either way that information is
     * represented as an associative array and passed as the merchant parameter
     * when creating the merchant account.
     * 
     * For a person the array looks like this:
     * 
     * <code>
     * array(
     *     'type' => 'person',
     *     'name' => 'William James',
     *     'tax_id' => '393-48-3992',
     *     'street_address' => '167 West 74th Street',
     *     'postal_code' => '10023',
     *     'dob' => '1842-01-01',
     *     'phone_number' => '+16505551234',
     *     'country_code' => 'USA'
     *     )
     * </code>
     * 
     * For a business the array looks like this:
     * 
     * <code>
     * array(
     *     'type' => 'business',
     *     'name' => 'Levain Bakery',
     *     'tax_id' => '253912384',
     *     'street_address' => '167 West 74th Street',
     *     'postal_code' => '10023',
     *     'phone_number' => '+16505551234',
     *     'country_code' => 'USA',
     *     'person' => array(
     *         'name' => 'William James',
     *         'tax_id' => '393483992',
     *         'street_address' => '167 West 74th Street',
     *         'postal_code' => '10023',
     *         'dob' => '1842-01-01',
     *         'phone_number' => '+16505551234',
     *         'country_code' => 'USA',
     *         )
     *     )
     * </code>
     * 
     * In some cases the identity of the merchant, person or business, cannot
     * be verified in which case a \Balanced\Exceptions\HTTPError is thrown:
     * 
     * <code>
     * $identity = array(
     *     'type' => 'business',
     *     'name' => 'Levain Bakery',
     *     'tax_id' => '253912384',
     *     'street_address' => '167 West 74th Street',
     *     'postal_code' => '10023',
     *     'phone_number' => '+16505551234',
     *     'country_code' => 'USA',
     *     'person' => array(
     *         'name' => 'William James',
     *         'tax_id' => '393483992',
     *         'street_address' => '167 West 74th Street',
     *         'postal_code' => '10023',
     *         'dob' => '1842-01-01',
     *         'phone_number' => '+16505551234',
     *         'country_code' => 'USA',
     *         ),
     *     );
     *     
     *  try {
     *      $merchant = \Balanced\Marketplace::mine()->createMerchant(
     *          'merchant@example.com',
     *          $identity,
     *          );
     *  catch (\Balanced\Exceptions\HTTPError $e) {
     *      if ($e->code != 300) {
     *          throw $e;   
     *      }
     *      print e->response->header['Location'] // this is where merchant must signup
     *  }
     * </code>
     * 
     * Once the merchant has completed signup you can use the resulting URI to
     * create an account for them on your marketplace:
     * 
     * <code>
     * $merchant = self::$marketplace->createMerchant(
     *     'merchant@example.com',
     *     null,
     *     null,
     *     $merchant_uri
     *     );
     * </coe>
     * 
     * @param string email_address Email address. There can only be one account with this email address.
     * @param array[string]mixed merchant Associative array describing the merchants identity.
     * @param string $bank_account_uri Optional URI referencing a bank account to associate with this account.
     * @param string $merchant_uri URI of a merchant created via the redirection sign-up flow.
     * @param string $name Optional name of the merchant.
     * @param array[string]string meta Optional metadata to associate with the account.
     * 
     * @return \Balanced\Account
     */
    public function createMerchant(
        $email_address,
        $merchant = null,
        $bank_account_uri = null,
        $merchant_uri = null,
        $name = null,
        $meta = null
        )
    {
        return $this->accounts->create(array(
            'email_address' => $email_address,
            'merchant' => $merchant,
            'merchant_uri' => $merchant_uri,
            'bank_account_uri' => $bank_account_uri,
            'name' => $name,
            'meta' => $meta,
            ));
    }
} 
```

# c++ - Visual Studio 2008 在堆栈溢出后显示完整的堆栈跟踪

> ID：11896197
> 
> 赞同：0
> 
> 时间：2012-08-10T05:53:32.227
> 
> 标签：c++, visual-studio, stack-overflow

我有一个正在运行的 C++ 项目，当我在 IDE 中的调试器下运行它时，它发生了堆栈溢出。

Visual Studio 2008 已自行截断溢出线程的堆栈跟踪（好吧，如果我们要这样做，为什么还要检查溢出呢？）。

是否有一些查看选项或调试选项可以显示该线程调用的根源？

**因此，从本质上讲，除了向我提供堆栈跟踪可能损坏的原因等（我是否应该禁用我的 AV 并同时运行 memtest86 ？）是否有人有关于 Visual Studio 2008 中堆栈跟踪截断的实际信息？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T08:27:45.553

如果您想拥有一个大堆栈并避免由于一些简单的递归错误而导致堆栈溢出，请使用 TLS： http: [//msdn.microsoft.com/en-us/library/windows/desktop/ms686749(v=vs.85) .aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms686749(v=vs.85).aspx)。

在进程开始时分配一个槽，然后使用 TlsGetValue 和 TlsSetValue 增加槽的值，然后检查它是否超过，然后闯入调试器或在你所谓的错误函数中执行一些其他“暂停”。

它不适用于没有 hack 的 3rd 方代码，但它对我来说很好地解决了限制并且非常轻巧。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T08:05:14.423

简单的解决方案是从一开始就使堆栈保持足够小，以便堆栈溢出更早发生。无论如何，您都不想要一兆字节的重复功能。

# ios - 添加到 Cordova 1.6.0 iOS 后 HTML 页面无法正常工作

> ID：11896201
> 
> 赞同：0
> 
> 时间：2012-08-10T05:54:06.400
> 
> 标签：ios, cordova

我在 xcode 4.x 中安装了 Cordova 1.6.0。我创建了一个新的 PhoneGap 项目并在 5.1.1 iPhone 模拟器中执行了相同的项目。说 Cordova 正在工作是成功的。我在我的项目中添加了 www 文件夹。现在我在 www 文件夹中添加了我的 HTML、CSS 和 JS 文件。我更改了 AppDelegate.m 并将加载 html 页面指向我的 login.html。页面加载但没有任何 JS 或 CSS。login.html 包含如下代码，

```
 <!DOCTYPE html>
<html>
<head>
<title>Login</title>

<meta name="viewport" content="width=device-width, initial-scale=0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta charset="utf-8">    

<script type="text/javascript" charset="utf-8" src="js/cordova-1.6.0.js"></script>

<link rel="stylesheet"
    href="css/jquery.mobile-1.1.0.min.css" />
<script type="text/javascript" charset="utf-8"
    src="js/jquery.min.js"></script>
<script type="text/javascript" charset="utf-8" src="js/jquery.cookie.js"></script>
<script src="js/jquery.toastmessage-min.js"></script>
<script type="text/javascript" charset="utf-8"
    src="js/jquery.mobile-1.1.0.min.js"></script>

<script type="text/javascript" charset="utf-8" src="js/json2.js"></script>

<link href="css/style.css" rel="stylesheet" type="text/css">
<link href="css/jquery.toastmessage-min.css" rel="stylesheet"
    type="text/css"> 
```

该页面引用所有本地存储的文件。该页面还点击一个外部 url 以获取 document.ready 中的数据。任何人都可以找出问题所在吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T10:16:41.273

这个链接帮助了我。 [带有 phonegap 的 Jquery mobile 不适用于移动应用程序](https://stackoverflow.com/questions/10016725/jquery-mobile-with-phonegap-is-not-styling-properly-for-mobile-app)

我使用的是 jquery 1.6.4，这是一个错误的组合。组合应该是-cordova-1.6.0.js jquery.mobile-1.1.0.min.css jQuery Core 1.7.2 jquery.mobile-1.1.0.min.js

# url-encoding - 为什么要进行 URL 编码？

> ID：11896202
> 
> 赞同：0
> 
> 时间：2012-08-10T05:54:14.270
> 
> 标签：url-encoding

URL 只能使用 ASCII 字符集通过 Internet 发送。由于 URL 通常包含 ASCII 集之外的字符，因此必须将 URL 转换为有效的 ASCII 格式。

为什么 URL 包含唯一的 ASCII 集，为什么 URL 应该被编码？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:10:25.843

> 为什么 URL 包含唯一的 ASCII 集？

[否则，对于不是8-bit clean](http://en.wikipedia.org/wiki/8-bit_clean)的系统，您将需要不同的命名标准。在开发 URL 标准时，这种情况并不少见。请记住，URL 并不特定于 Internet。它们应该是一个通用的命名标准。

> 为什么要对 URL 进行编码？

否则，您将无法获得您正在寻找的资源。如果您认为“否”表示“是”而“是”表示“否”，那么没有人会理解您在说什么。这就是为什么我们有标准。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T06:03:01.107

URL 仅限于 ASCII，因为它们是在 RFC 中定义的。虽然原始 RFC 已被其他人随着时间的推移而更新，但[RFC 1738 的第 2.2 节](https://www.rfc-editor.org/rfc/rfc1738#section-2.2)是了解更多信息的好地方。

# iphone - 从文档文件 iOS 中检索数据

> ID：11896205
> 
> 赞同：1
> 
> 时间：2012-08-10T05:54:42.873
> 
> 标签：iphone, ios, xcode, ipad, plist

我如何获取保存在下的文件

```
-(NSString *) dataFilePath
{
    NSArray *path = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentDirectory = [path objectAtIndex:0];
    return [documentDirectory stringByAppendingPathComponent:@"Answer.plist"];
} 
```

* * *

```
NSString *filePath = [self dataFilePath];
    if ([[NSFileManager defaultManager] fileExistsAtPath:filePath])
    { NSArray *array = [[NSArray alloc] initWithContentsOfFile:filePath];
        NSLog(@"%@\n",array);
        NSLog(@"%@\n", filePath);
    } 
```

有什么方法可以将项目添加到 plist 而不覆盖它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:02:39.207

你可以使用这个：

```
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES); 
        NSString *documentsDirectory = [paths objectAtIndex:0]; 
        path = [documentsDirectory stringByAppendingPathComponent:@"Answer.plist"];

        NSMutableArray *array = [[NSMutableArray alloc] initWithContentsOfFile:path];
        NSLog(@"array, %@",array);
        [array removeObjectAtIndex:yourIndex]; 
```

或者

```
[array addObjectAtIndex:yourIndex];

[array writeToFile:path atomically:YES]; 
```

# javascript - jQuery - 滑块不工作

> ID：11896207
> 
> 赞同：2
> 
> 时间：2012-08-10T05:54:46.900
> 
> 标签：javascript, jquery, html

试图让一个简单的滑块工作......什么都没有发生。我在JSFiddle（jquery 1.7.2，jQueryUI 1.8.1）中执行以下代码，它可以工作..但是......在网页中......它没有。这是一个没有手柄的简单滑块。

我进入控制台，没有（错误）消息......

帮助？

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />

    <title>Sin título 1</title>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js"></script>

    <script type="text/javascript">
    $( ".slider" ).slider({
           animate: true,
               range: "min",
               value: 50,
               min: 0,
               max: 100,
               step: 1,
               slide: function( event, ui ) {
                   $("#slider-result").html( ui.value );
               }
               });</script>

<style type="text/css">
<!--
body{
background: #CECECE !important;
padding:10px;
}

/*the slider background*/
.slider {
width:230px;
height:10px;
background: #737373;
position:relative;
margin:0;
padding:0 10px;
}

/*Style for the slider button*/
.ui-slider-handle {
width:16px;
height:16px;
position:absolute;
top:-3px;
margin-left:-12px;
z-index:200;
background:#404040;
    outline:none;
}
/*This is the fill bar colour*/
.ui-widget-header {
background:#ABABAB;
height:8px;
left:1px;
top:1px;
position:absolute;
}
​
-->
</style>

</head>

<body>

<div class="slider"></div>
<div id="slider-result">50</div>

</body>
</html> 
```

这显然是一个工作小提琴。[http://jsfiddle.net/D45mp/](http://jsfiddle.net/D45mp/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T05:57:48.247

当然，只需在文档末尾添加您的脚本`</body></html>`，就像这样

```
<html>
<body>
 // Divs spans and other stuff

    <script type="text/javascript">
            $(".slider").slider({
                animate: true,
                range: "min",
                value: 50,
                min: 0,
                max: 100,
                step: 1,
                slide: function (event, ui) {
                    $("#slider-result").html(ui.value);
                }
            });</script>
</body>
</html> 
```

或者

写在`document.ready()`脚本块内

# javascript - 混合网络/客户端框架

> ID：11896209
> 
> 赞同：0
> 
> 时间：2012-08-10T05:55:00.887
> 
> 标签：javascript, jquery, sql, ajax, database

我正在开发一个网络应用程序，供不同地点的个人使用。我的服务器上有一个相对较小的 mysql 数据库。问题是有时用户可能无法访问互联网。在这种情况下，我可以使用某种混合框架/语言吗？

更清楚地说，该程序需要进行一些相当严格的计算，并且需要从我的 mysql 数据库中获取值。我可以使用 php 和 mysql 解决这个问题。问题是当他们没有连接时会发生什么？

一个很好的解决方案是他们可以在早上旅行时下载数据库的本地副本（在这种情况下有什么好的轻量级 DBMS？）然后他们需要一个基于客户端的程序（javascript？）。

我想为排除 php.ini 的两个实例重用代码。

感谢您的任何建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:06:43.447

HTML 5 具有本地存储（如数据库），您可以在这种情况下使用。但现在并不是每个浏览器都支持。 [http://diveintohtml5.info/storage.html](http://diveintohtml5.info/storage.html)

# verilog - 尝试在 Verilog 中闪烁 LED

> ID：11896211
> 
> 赞同：3
> 
> 时间：2012-08-10T05:55:20.340
> 
> 标签：verilog, timing, intel-fpga

我有一个 50Mhz 时钟的 CPLD。

这是我的代码：

```
module FirstProject(clk, LED);
  output LED;
  input  clk;

  reg [32:0] count1;
  reg        LEDstatus;

  assign LED = LEDstatus;

  always @ (posedge clk) begin
    if (count1 < 10000000) begin
      LEDstatus <= 0;
    end
    else begin
      LEDstatus <= 1;
    end
    count1 <= count1 +1;
  end

endmodule 
```

我不知道为什么这不起作用。它部署在 CPLD 上，但灯始终亮着

此代码适用于我的 cpld，具有完全相同的引脚分配和时序约束

[http://www.fpga4fun.com/Opto2.html](http://www.fpga4fun.com/Opto2.html)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T09:32:03.813

时钟频率为 50MHz，一个 On-Off 循环为 2**33-1 (8589934591) 个周期。

```
1/Hz = seconds
slowdown factor * 1/Hz = seconds to complete loop 
```

这意味着 LED 正在尝试闪烁：

```
(8589934591 / 50000000) = 171s, slower than 1Hz 
```

任何超过 25Hz 的东西都不会被察觉，但这不是这里的问题。

当计数在 0 到 10000000 之间时，灯应该关闭：

```
10000000 / 50000000 = 0.2 Seconds 
```

关闭时间为 0.2 秒，开启时间约为 170 秒。这个比率很可能很难观察到。切换到 50/50 的开/关比和更快的观察速度会更容易。

我建议将 count1 设为 24 位宽，并将输出基于 count1 的 MSB；

```
reg [23:0] count1; 

always @(posedge clk) begin
  LEDstatus <= count1[23];
  count1    <= count1 + 1;
end 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-10T11:25:02.307

您关闭 LED 的时间为 0.025%，因此您最好不要让它闪烁。

您可能希望在计数达到 20000000 时将其重置为零，以便每次打开和关闭一半时间。或者当它达到 1000000 时切换状态 -

```
if (count1 == 33'd1000000) begin
  LEDstatus <= !LEDstatus;
end 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-02-04T19:05:48.237

如果上面的解释还不够，这里有一个完整的代码完整的[解释。](http://www.badprog.com/electronics-verilog-blinking-a-led)

# mysql - 使用 LEFT JOIN 更新

> ID：11896212
> 
> 赞同：0
> 
> 时间：2012-08-10T05:55:27.617
> 
> 标签：mysql, sql, join

嗨，我试图在谷歌中搜索答案，但即使我不是第一个遇到这个问题的人，我也没有找到。如果我错了，请原谅我...

我想将一个表的一些值放在另一个有条件的表中并左连接。这是我的查询，但它不起作用，我真的不明白为什么，。

```
UPDATE `table1`
SET `table1`.`field1` = `table2`.`value`
FROM  `table1`
LEFT JOIN `table2` ON `table2`.`idt1`=`table1`.`id`
WHERE `id`='35520' 
```

它说：#1064 - 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以获取正确的语法，以便在第 3 行的 'FROM 附近使用。

如果您有任何建议，很高兴听到这些，谢谢！

巴斯蒂安

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T05:57:52.617

你试过这样吗？

```
UPDATE `table1`
SET `table1`.`field1` = (
  SELECT `table2`.`value`
  FROM `table2`
  WHERE `table2`.`idt1`=`table1`.`id`
)
WHERE `id`='35520' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T05:58:39.443

你的语法是错误的。如果您的 SQL 风格支持它，请尝试：

```
UPDATE `table1`
LEFT JOIN `table2` ON `table2`.`idt1`=`table1`.`id`
SET `table1`.`field1` = `table2`.`value`
WHERE `id`='35520' 
```

否则，您将需要一个子查询：

```
UPDATE `table1`
SET `table1`.`field1` = (SELECT `table2`.`value`
                         FROM `table2`
                         WHERE `table2`.`idt1`=`table1`.`id`)
WHERE `id`='35520' 
```

# asp.net - 从水晶报表导出时找不到 HTTP 错误 404.0

> ID：11896213
> 
> 赞同：0
> 
> 时间：2012-08-10T05:55:35.377
> 
> 标签：asp.net, sql-server-2008, c#-4.0

我已经配置了我的 iis 并托管了应用程序。除了水晶报告，一切都很好。VS2008 正在与 sql2008 r2 一起使用。我的操作系统是 windows 7 和 iis7 正在使用。水晶报告 10.5.0.1943 正在使用。

当我单击导出按钮时，水晶报表的工具栏不是工资（即显示“提交查询”而不是按钮），我收到如下错误消息。

HTTP 错误 404.0-未找到

您要查找的资源已被删除或更改名称，或者暂时不可用。

我已经用谷歌搜索并如上所述安装了 CR 运行时。但问题仍然存在。

任何帮助将不胜感激。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T04:31:44.297

我找到了 ...

请做一件事..

转到 >> C:\inetpub\wwwroot\

然后复制 aspnet_client 文件夹并将其粘贴到您创建的虚拟目录中。完成......

谢谢你。

# iphone - UITextField 缺少复制|全选后粘贴菜单

> ID：11896220
> 
> 赞同：0
> 
> 时间：2012-08-10T05:56:36.757
> 
> 标签：iphone, uitextfield

在我的项目中，我有几个`UITextFields`不同的视图，例如`UITableviewcell`contains `UITextfield`，在一个简单的视图中，等等。

我的项目有问题。当我触摸`UItextfield`，输入一些文本，然后长按，它会显示一个菜单 select|selectall。当我单击选择时，所有文本都被选中，但全选后，它无法显示复制|粘贴菜单。为什么？

这种现象并不总是出现。有谁知道这可能是什么原因？

# oracle - Oracle 分区表的唯一索引

> ID：11896221
> 
> 赞同：2
> 
> 时间：2012-08-10T05:56:44.910
> 
> 标签：oracle, indexing, oracle11g

我`Customer_Chronics`在 Oracle 11g 中有一个表。该表具有三个关键列，如下所示：

*   分行代码
*   客户ID
*   时期

我已经按列表按表分区`branch_code`，现在我陷入了困境。哪个更好：

1.  在 Customer_Chronics (PERIOD, CUSTOMER_ID) 上创建唯一索引 indexNumberOne；
2.  在 Customer_Chronics (branch_code, PERIOD, CUSTOMER_ID) 上创建唯一索引 indexNumberTwo；

实际数据必须是唯一的`period, customer_id`。如果我只在这两列上放置唯一索引，Oracle 会在插入新记录时检查表上的所有分区吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T07:24:56.377

强制唯一性的唯一方法是对感兴趣的列使用唯一约束。所以这是你的第一个选择。在这种情况下，数据库将检查所有分区中的所有值。但是，因为它是一个唯一索引，无论表有多大（如果这是您所关心的），都不应该花费太长时间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-25T06:57:26.563

是的，如果您只在这两列上放置唯一索引，Oracle 将创建一个全局索引并检查所有分区。这是我有时会面临的挑战之一，因为我们更喜欢大表的本地索引（小表应该没问题）。

# c# - 将任务合并到类中的开发模式

> ID：11896227
> 
> 赞同：4
> 
> 时间：2012-08-10T05:57:04.333
> 
> 标签：c#, task-parallel-library

我一直在玩 TPL 及其相关的任务。

**问题 1：**我需要一些反馈，就我如何尝试将任务整合到课程中而言，我是否走在正确的道路上。

该类有一个 Start 和 Stop 方法。

在 Start 的执行中，我想创建一个即发即弃的 Task 来进行处理。然后，调用实例的 Start 方法的代码应该可以根据需要自由调用 Stop（例如，调用代码是 Windows 服务，因此在 OnStop 事件中我可能想在任何实例上调用 Stop 即“我现在想关闭，所以每个人停止你正在做的事情！”）。

我见过很多类似于以下的代码

```
Task myTask = Task.Factory.StartNew(GoOffAndDoSomething, [associated cancellation token]);

try{
    myTask.Wait();
}catch (AggregateException ae){
    //Process aggregate exceptions as required
} 
```

...但我不想等待，因为这阻塞了我的调用线程，我不能调用 Stop 方法（或做任何其他事情）等。

所以我想我必须做这样的事情......

```
Task myTask = Task.Factory.StartNew(GoOffAndDoSomething, [associated cancellation token]);

//Use non-blocking ContinueWith  
myTask.ContinueWith(HandleBadStuffThatHappened, TaskContinuationOptions.NotOnRanToCompletion);

//The method to handle exceptions etc
Action<Task> HandleBadStuffThatHappened = (antecendent) =>
{
    // "Observe" your antecedent's exception so as to avoid an exception
    // being thrown on the finalizer thread
    var badStuffHappened = antecendent.Exception;

    //Handle\rethrow exception etc     
}; 
```

**问题 2：**这是我需要采取的方法吗？

我知道有些人可能会建议将 Start 方法创建为此类之外的 Task 并在调用代码中处理取消\异常，但是在 Windows 服务中创建的类可能有很多实例，所以我只想创建 Task，并处理任何例外，在类本身中完成。

**编辑：即将在这里回答我自己的问题，但我会将它留给评论一段时间，以防这些额外的信息使我的意图更清晰，并为其他人提供添加的机会**

所以...我认为我走的是正确的道路。正如我的一个评论中所说，我已经做了一个小应用程序来玩基于我所做的进一步研究的方法。我的课程中的相关方法显示在这里。这和它的评论应该向您展示我目前提出的方法。我想我基本上在那里。

```
 //Called by external client to get things rolling
    public void Start()
    {
        //Could use Status property of Task but it is simpler to just use a class property than deal  
        //with all the different stages a Task can be in.
        if (!IsRunning) 
            {
            IsRunning = true; //set it first in case there are any delays\issues with starting up
            _tokenSource = new CancellationTokenSource();
            _processing = Task.Factory.StartNew(process, _tokenSource.Token);
            //Use the OnlyOnFaulted task continuation option. This is different to 
            //my .NotOnRanToCompletion suggestion previously
            _processing.ContinueWith(antecedent => HandleException(antecedent.Exception), 
            TaskContinuationOptions.OnlyOnFaulted);

            //There's no 'Task.Wait' here, I just want to fire and forget this Task.
        }
    }

    //Look at the call to ContinueWith in Start method. This is what I want to do if the Task goes to
    //a Faulted state, ie an exception occurred.
    private void HandleException(AggregateException ae)
    {
        IsRunning = false;

        //Log or handle errors errors as required.
        //ae.Flatten().InnerException will give the exception that caused the failure.

        //Finally Dispose Task here. Typically I retry code a specified number of times 
        //(retry code not shown) before finally throwing the exception, and typically I don't do any 
        //explicit handling other than to Log\Alert the issue. So at this poin the Task is 'beyond saving'
        //so get rid of it.
        _processing.Dispose();
    }

    //Stop method which can be called by external client.
    public void Stop()
    {
        //Use the cancellation token created in Start() to cancel the Task
        _tokenSource.Cancel();
        IsRunning = false; //set flag last in case something occurs during cancellation process
    }

    //What I wired up my Task to do
    private void process()
    {
        while (!_tokenSource.IsCancellationRequested)
        {
           //So assuming normal UN-exceptional operation of your code then just
           //do stuff here until Stop method called by client
        }
    } 
```

**关于向客户端抛出异常的说明**

有一次，我确实调查了向客户端抛出异常（我知道这与原始问题不相符，但我很好奇）并在那里处理\记录。一种方法（我见过其他几种方法）是在发生异常时让此类引发以异常作为参数的事件。客户端需要确保它订阅此事件以收到异常通知。

我不需要这个功能，它使事情变得复杂，相反，我只是在类本身中对异常进行所有处理\记录。

**良好的 TPL 选项文件**

看看 [http://download.microsoft.com/download/B/C/F/BCFD4868-1354-45E3-B71B-B851CD78733D/TPLOptionsTour.pdf](http://download.microsoft.com/download/B/C/F/BCFD4868-1354-45E3-B71B-B851CD78733D/TPLOptionsTour.pdf) 它会查看您在运行任务和是我想到使用“OnlyOnFaulted”方法的地方，这是异常处理的典型用途（参见第 19 页）。

欢迎任何进一步的评论。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T10:21:53.883

第二种方法显然更好，因为它不需要该`Start`方法等到“即发即弃”初始化完成。

如果有人在开始代码仍在运行时调用停止，请小心。这可能是一个竞争条件。您可能需要在此处同步。

您还可以同步跟踪所有正在运行的任务，`HashSet<Task>`并`WaitAll`在您的停止方法中跟踪它们。这将确保在 Stop 完成后没有代码仍然运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T00:12:51.967

我会用我自己的答案来回答我的问题。其他帖子虽然有帮助，但对我提出解决方案没有太大帮助

# .net - 如何将匿名类型的对象序列化为 XML？

> ID：11896228
> 
> 赞同：6
> 
> 时间：2012-08-10T05:57:04.927
> 
> 标签：.net, xml, json, xml-serialization

有没有办法将动态创建的对象序列化为 xml 字符串？

```
var foobar = new { foo = "bar" };
string xml = ConvertToXMLString(foobar);
//xml should be something like : 
//<foo>bar</foo> 
```

我能够查看 XMLSerializer 和 DataContractSerializer，但 XMLSerializer 需要对象类型，而 DataContractSerializer 需要需要序列化的属性的属性。

无奈之下，我先将对象转换为 JSON，然后从 JSON 将其转换为 XML。

```
var foobar = new { foo = "bar" };
JavaScriptSerializer js = new JavaScriptSerializer();
jsonString = js.Serialize(values);
//Json.NET at http://json.codeplex.com/
XmlDocument doc = (XmlDocument)JsonConvert.DeserializeXmlNode(jsonString); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T06:31:34.200

不使用标准的内置序列化程序，不；`XmlSerializer` **需要**公共类型（匿名类型*不是*），并且仅适用于读写成员（匿名类型*没有*）。`DataContractSerializer`想要属性（匿名类型*没有*）。

坦率地说，这里最简单和最受支持的“修复”是正式声明一个与您所追求的相匹配的 POCO DTO，即：不要在这里使用匿名类型。例如：

```
public class MyDto {
    public string foo {get;set;}
}
...
var foobar = new MyDto { foo = "bar" }; 
```

替代方案*基本上是*编写您自己的 xml 序列化程序。那……听起来不好玩。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T07:51:08.030

可以使用反射来完成，请查看此线程中的第二个和第三个答案以获取代码示例：[我可以将匿名类型序列化为 xml 吗？](https://stackoverflow.com/questions/2404685/can-i-serialize-anonymous-types-as-xml)

[MartinHN 也写了关于这个的博客](http://martinnormark.com/serialize-c-dynamic-and-anonymous-types-to-xml)

# c - ARP 回复数据包不更新 Ubuntu 上的 ARP 缓存

> ID：11896236
> 
> 赞同：0
> 
> 时间：2012-08-10T05:57:51.803
> 
> 标签：c, ubuntu-12.04, arp, spoofing

因此，在我玩过由 Digitalsquid (http://digitalsquid.co.uk/netspoof/) 开发的 Network Spoofer 之后，我一直试图通过编写执行类似操作的 ac 程序来更好地了解其内部工作。

我的程序目前接收 4 个参数——源 ip、源 mac、受害者 ip 和受害者 mac——并与它们一起发送一个 ARP 回复数据包。在我的家庭网络上测试程序时，我会做一些事情，比如将源 ip 设置为路由器的 ip，将源 mac 设置为伪造的东西，将受害者 ip 设置为我的笔记本电脑的 ip，将受害者 mac 设置为我的笔记本电脑的无线网卡 mac。

问题是，虽然我可以看到使用 tcpdump 监控无线网卡发送/接收的数据包（即我会看到类似“01:43:23.656745 ARP, Ethernet (len 6), IPv4 (len 4), 回复*rouer-ip* is-at *bogus-mac-address* , length 28", 这正是我所期望的），路由器的 ARP 缓存条目保持不变（即仍然具有正确的 mac 地址）。

我不太确定这里的问题是什么，以及为什么我不能毒化我的 ARP 缓存。我在某处读到它可能是我的操作系统 Ubuntu 12.04，丢弃了未经请求的 ARP 数据包，所以我尝试将 /proc/sys/net/ipv4/conf/wlan0/arp_accept 设置为 1 - 不走运。我还尝试按照另一篇文章的建议打开 IP 转发（将 /proc/sys/net/ipv4/ip_forward 设置为 1），但仍然没有运气。

如果有人能给我一些关于问题可能是什么的指示/提示，我将不胜感激。另外，如果我的理解有误，请纠正我——我在 c 编程和 ARP 欺骗领域还很陌生。

谢谢！

JY

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-25T09:32:15.877

接受这些参数（源 ip、源 mac、目标 ip 和目标 mac）很好，但你没有给它正确的值。

## 假设 A=受害者

### 和 B=您网络中的网关/路由器/交换机

ARP欺骗实际上使A和B都信服

您需要更加积极地向 A 和 B 发送 ARP 请求/回复，方法是将您的 MAC 地址指定为所需节点。

这样无论 A/B 发送什么都会首先到达您的手中。IP和MAC地址字段基本上在交换机的CAT（内容可寻址内存）表中更新，并不断更新。

因此，当您向 A（即路由器/网关/交换机）发送 ARP Reuest 时：-

```
 Source IP=Victim's IP i.e A
 Source MAc=your MAC(hackers MAC) so that data may come to your system
 Destination IP=Rouer's IP
 Detination MAC will be blank in case of ARP request 
```

# java - 如果表中的一个字段可能为空，如何更新表中的多个字段？

> ID：11896238
> 
> 赞同：4
> 
> 时间：2012-08-10T05:57:55.527
> 
> 标签：java, mysql, phpmyadmin

我想更新`5`名为`Personnel-table`.

用户可能想要更新所有字段、部分字段或根本不更新。

用户可能想要更新的字段 是：`FirstName`、、、和。`LastName``Password``UserName``Address`

该代码可以做到这一点：

```
public boolean updateUserInfo(String _idnumber , String _usernameNew , String _passwordNew ,  
        String _addressNew , String _firstNameNew , String _lastNameNew) throws SQLException
{

    ResultSet resultSet = null;

    String sqlStatement = "UPDATE PersonnelTable set `UserName` = ? WHERE `IdNumber` = ?";
    this.m_prepared = (PreparedStatement) this.m_connection.prepareStatement(sqlStatement);
    this.m_prepared.executeUpdate("USE Personnel");

    // set the ID number & account number 

    /**
     *  first 
     */
    m_prepared.setString(1, _usernameNew);
    m_prepared.setString(2, _idnumber);

    // execute first query - update password
    if (_usernameNew!= "")
    {
        resultSet = m_prepared.executeQuery();
        return true;
    }

    /**
     *  Second 
     */

    sqlStatement = "UPDATE PersonnelTable set `FirstName` = ? WHERE `IdNumber` = ?";
    this.m_prepared = (PreparedStatement) this.m_connection.prepareStatement(sqlStatement);
    m_prepared.setString(1, _firstNameNew);
    m_prepared.setString(2, _idnumber);

    if (_firstNameNew != "")
    {
        resultSet = m_prepared.executeQuery();
        return true;
    }

    /**
     *  Third
     */

    sqlStatement = "UPDATE PersonnelTable set `LastName` = ? WHERE `IdNumber` = ?";
    this.m_prepared = (PreparedStatement) this.m_connection.prepareStatement(sqlStatement);
    m_prepared.setString(1, _lastNameNew);
    m_prepared.setString(2, _idnumber);

    if (_lastNameNew!= "")
    {
        resultSet = m_prepared.executeQuery();
        return true;
    }

    /**
     *  Fourth
     */

    sqlStatement = "UPDATE PersonnelTable set `Address` = ? WHERE `IdNumber` = ?";
    this.m_prepared = (PreparedStatement) this.m_connection.prepareStatement(sqlStatement);
    m_prepared.setString(1, _addressNew);
    m_prepared.setString(2, _idnumber);

    if (_addressNew!= "")
    {
        resultSet = m_prepared.executeQuery();
        return true;
    }

    /**
     *  Fifth
     */

    sqlStatement = "UPDATE PersonnelTable set `Password` = ? WHERE `IdNumber` = ?";
    this.m_prepared = (PreparedStatement) this.m_connection.prepareStatement(sqlStatement);
    m_prepared.setString(1, _passwordNew);
    m_prepared.setString(2, _idnumber);

    if (_passwordNew!= "")
    {
        resultSet = m_prepared.executeQuery();
        return true;
    }

    return false;
} 
```

但正如您所见，代码太大了，因为我运行了 5 次查询。

我如何告诉 mysql 如果每个字段都不是空字符串`""`，那么在一个 mysql-query 中更新所需的字段？这是可能的还是我每次都必须分开做？

问候

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T06:01:10.743

您可以在单个查询中轻松执行此操作，如下所示：

```
UPDATE PersonnelTable
SET FirstName = IF(? <> "", ?, FirstName),
    LastName = IF(? <> "", ?, LastName),
    Password = IF(? <> "", ?, Password),
    UserName = IF(? <> "", ?, UserName),
    Address = IF(? <> "", ?, Address)
WHERE IdNumber = ?; 
```

如果您的字段可以有空白值，`""`那么您可以使用`IF(? IS NOT NULL, ?, field_name)`而不是空白。

# eclipse-plugin - java透视图中的eclipse插件

> ID：11896239
> 
> 赞同：2
> 
> 时间：2012-08-10T05:57:59.050
> 
> 标签：eclipse-plugin

我在 eclipse 中开发了一个插件，当用户右键单击文件时添加一个选项。但它只显示在 java 的角度，而不是任何其他的。谁能告诉我原因？

这是我的plugin.xml：

```
<?xml version="1.0"?>
<plugin>
    <extension point="org.eclipse.ui.menus">
        <menuContribution locationURI="popup:org.eclipse.jdt.ui.PackageExplorer">
            <command commandId="plugin.showDifferences" label="Show Differences" style="push">
                <activeWhen>
                    <iterate>
                        <adapt type="org.eclipse.core.resources.IResource">
                            <test property="org.eclipse.core.resources.name" value="*.java"/>
                        </adapt>
                    </iterate>
                </activeWhen>
            </command>
        </menuContribution>
    </extension>
    <extension point="org.eclipse.ui.commands">
        <command defaultHandler="plugin_demo.Differences" id="plugin.showDifferences" name="Differences" />
    </extension>
</plugin> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T19:11:30.000

这是因为 Java 透视图的 Package Explorer 视图与出现在其他透视图中的 Project Explorer 视图不同。如果您希望右键单击选项出现在两个视图中，则必须添加另一个`<menuContribution>`将其贡献给`org.eclipse.ui.navigator.ProjectExplorer`视图的选项。像这样的东西：

```
<menuContribution locationURI="popup:org.eclipse.ui.navigator.ProjectExplorer#PopupMenu?after=additions">
    <command commandId="plugin.showDifferences" label="Show Differences" style="push">
        <activeWhen>
            <iterate>
                <adapt type="org.eclipse.core.resources.IResource">
                    <test property="org.eclipse.core.resources.name" value="*.java"/>
                </adapt>
            </iterate>
        </activeWhen>
    </command>
</menuContribution> 
```

# node.js - npm：如何管理依赖项？

> ID：11896240
> 
> 赞同：1
> 
> 时间：2012-08-10T05:58:00.277
> 
> 标签：node.js, dependencies, npm

我安装了 express、mongodb 和 mongoose。这是我的结果`npm ls`：

```
/home/merc/Bookings
├─┬ connect-mongo@0.1.9 
│ └─┬ mongodb@0.9.9-8 
│   └── bson@0.0.4 
├─┬ express@3.0.0rc2 
│ ├── commander@0.6.1 
│ ├─┬ connect@2.4.2 
│ │ ├── bytes@0.1.0 
│ │ ├── formidable@1.0.11 
│ │ ├── pause@0.0.1 
│ │ └── qs@0.4.2 
│ ├── cookie@0.0.4 
│ ├── crc@0.2.0 
│ ├── debug@0.7.0 
│ ├── fresh@0.1.0 
│ ├── methods@0.0.1 
│ ├── mkdirp@0.3.3 
│ ├── range-parser@0.0.4 
│ └─┬ send@0.0.3 
│   └── mime@1.2.6 
├─┬ jade@0.27.2 
│ ├── commander@0.6.1 
│ └── mkdirp@0.3.0 
├─┬ mongodb@1.1.2 
│ └── bson@0.1.1 
└─┬ mongoose@3.0.0 
  ├── hooks@0.2.1 
  ├─┬ mongodb@1.1.2 
  │ └── bson@0.1.1 
  └── ms@0.1.0 
```

您可以清楚地看到，出于某种原因，Jade 位于根目录中（我假设这发生在我运行“express”时。但话又说回来，“mongodb”在不同版本（0.9.9 和 1.1.2）中可用，所以是bson（0.1.1 和令人担忧的 0.0.4）。

因此我的问题是：如何使用 npm 管理依赖项？是否每个软件包都可以简单地安装他们喜欢的任何版本，无论他们选择哪个版本？

我想问题是：这种重复是“正常的”，可以说是“设计的”吗？

默克。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:12:08.070

简短的回答是，是的，这是设计使然。当您`require`从`node_modules`目录中获取模块时，它使用顶级目录——例如，无论您在`package.json`.

其他包有自己的`package.json`文件，可以自由使用他们想要的任何版本，当他们`require`在自己的代码中下载时，他们将使用自己的`node_modules`文件夹。

理想情况下，您使用的模块具有测试等，以确保它们指定的依赖项的版本（甚至指定一系列版本，例如`0.9.x`）运行良好，并且在那里看到旧版本的子依赖项并不*一定*意味着危险，尽管这些模块的新版本当然可以潜在地修复错误等等。可能值得在 GitHub 上找到您关心的模块，下载存储库，`package.json`自己更新和依赖项并运行测试以查看新版本是否有效。如果是这样，也许作者愿意接受您的更新的[拉取请求。](https://help.github.com/articles/using-pull-requests/)

# iphone - 限制超级视图内的视图

> ID：11896245
> 
> 赞同：7
> 
> 时间：2012-08-10T05:58:15.190
> 
> 标签：iphone, objective-c, ipad, ios

我正在尝试使用 touches 移动方法将 UIView - “A”（子视图）移动到另一个 UIView - “B”（SuperView）中。我可以将 UIView 移到超级视图之外。我想将 UIView 限制在 Superview 范围内。有什么方法可以测试子视图是否在父视图的可见矩形内？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-10T06:06:24.367

使用 clipsToBounds 方法或`CGRectContainsRect`

```
youSuperView.clipsToBounds = YES; 
```

我想对你会有帮助

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-10T07:28:57.443

听起来您想将子视图（viewA）的移动限制为始终完全包含在父视图（viewB）中。CGRectContainsRect 是正确的答案，但必须小心应用，因为子视图框架是在其父视图的坐标系中指定的。

```
// inside touches moved, compute the newViewAFrame based on the movement
// but only assign it if it meets the containment constraint:

if (CGRectContainsRect(viewB.bounds, newViewAFrame)) {
    viewA.frame = newViewAFrame;
} 
```

请注意，我们没有在检查中提及 viewB.frame。viewB 在其父级中的位置与 viewB 是否包含 viewA 无关。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-01-14T00:17:07.320

我遇到了同样的问题，这篇文章对我帮助很大，所以我会分享我的答案（这似乎完全符合你的需要）：

```
override func touchesBegan(_ touches: Set<UITouch>, with event: UIEvent?) {
    if let touch = touches.first {
        if (SuperView.frame.contains(self.frame)) {
            let oldCenter = self.center
            self.center = touch.location(in: SuperView)
            if(!SuperView.frame.contains(self.frame)) {
                self.center = oldCenter
            }
        }
    }
} 
```

非常简单，您也可以在方法中使用`touchesMoved`它`touchesEnded`，因此当您的 UIView 达到限制时它不会阻止您（这就是 oldCenter 存在的原因）。

正如@dahn 所说，如果您的视图位于 SuperView 内部，则必须小心，因为第一个的坐标将限制在第二个的框架内，**因此如果 SuperView 不是全屏视图，则可能会失败**。

如果**不是**全屏视图，**SuperView 不能是 SubView 的父亲**，因为这会导致 bug。解决方案是将 SuperView 和 SubView 都保留在第三个 View 中（因此它们的坐标系将相同并且可以正常工作）。

希望有一天能对某人有所帮助:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T06:03:23.210

斯威夫特 2.2： `let rect1 = CGRect(...)` `let rect2 = CGRect(...)`

有一种方法可以检查 -`CGRectContainsRect(rect1, rect2)`

# java - SELECT FOUND_ROWS() 总是返回 ONE，如何解决这个问题

> ID：11896246
> 
> 赞同：1
> 
> 时间：2012-08-10T05:58:22.537
> 
> 标签：java, jsp, servlets, pagination

以下 sql 总是返回`one` `SELECT FOUND_ROWS()`

我从网上遵循了这个例子：

```
public List<Employee> viewAllEmployees(
                int offset,
                int noOfRecords)
    {
        String query = "select SQL_CALC_FOUND_ROWS * from employee limit "
                 + offset + ", " + noOfRecords;
        List<Employee> list = new ArrayList<Employee>();
        Employee employee = null;
        try {
            connection = getConnection();
            stmt = connection.createStatement();
            ResultSet rs = stmt.executeQuery(query);
            while (rs.next()) {
                employee = new Employee();
                employee.setEmployeeId(rs.getInt("emp_id"));
                employee.setEmployeeName(rs.getString("emp_name"));
                employee.setSalary(rs.getDouble("salary"));
                employee.setDeptName(rs.getString("dept_name"));
                list.add(employee);
            }
            rs.close();

            rs = stmt.executeQuery("SELECT FOUND_ROWS()");
            if(rs.next())
                this.noOfRecords = rs.getInt(1);
        } catch (SQLException e) {
            e.printStackTrace();
        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        }finally
        {
            try {
                if(stmt != null)
                    stmt.close();
                if(connection != null)
                    connection.close();
                } catch (SQLException e) {
                e.printStackTrace();
            }
        }
        return list;
    } 
```

这是我基于上面的代码：

```
public List<TempcardViewModel> getTempcardHistory(String query) {
        TempcardViewModel tempcardObj = null;
        List<TempcardViewModel> tempcardList = new ArrayList<TempcardViewModel>();
        Connection connection = getConnection();
        if (connection != null) {
            try {
                PreparedStatement assingedTempcardPS = connection.prepareStatement(query);
                ResultSet assingedTempcardlist_rst = assingedTempcardPS.executeQuery();
                    while (assingedTempcardlist_rst.next()) {
                        tempcardObj = new TempcardViewModel();
                        tempcardObj.setEmpid(assingedTempcardlist_rst.getInt("empid"));
                        tempcardObj.setEmpname( assingedTempcardlist_rst.getString("empname"));
                        tempcardObj.setTempcardnumber(assingedTempcardlist_rst.getString("tempcardnumber"));
                        tempcardObj.setIssuedate(assingedTempcardlist_rst.getString("issuedate"));
                        tempcardObj.setTempcardstatus(assingedTempcardlist_rst.getString("tempcardstatus"));
                        tempcardList.add(tempcardObj);
                    }
                    assingedTempcardPS.close();
                    assingedTempcardlist_rst.close();

                    PreparedStatement noOfRecordsPS = connection.prepareStatement("SELECT FOUND_ROWS();");
                    assingedTempcardlist_rst = noOfRecordsPS.executeQuery();
                    if(assingedTempcardlist_rst.next())
                        this.noOfRecords = assingedTempcardlist_rst.getInt(1);
            } catch (Exception ex) {
                ex.printStackTrace();
            } finally {
                try {
                    closeConnection(connection, null, null);
                } catch (Exception ex) {
                    ex.printStackTrace();
                }
            }
        } 
        return tempcardList;
    } 
```

我正在使用它来进行我在 jsp/servlets 中完成的分页。

当我使用它时`SELECT FOUND_ROWS()`它会返回`1`

同时当我使用这个查询：`SELECT COUNT(empid) FROM acct_tempcardhistory;`

它提供了所需的输出，但是当我进行过滤时，值不正确。

如何解决这个问题，请帮助我。

谢谢并恭祝安康

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T08:27:28.937

你可以这样试试；

```
 PreparedStatement noOfRecordsPS = connection.prepareStatement("SELECT FOUND_ROWS() FROM acct_tempcardhistory;"); 
```

# python - Python中的数组

> ID：11896248
> 
> 赞同：1
> 
> 时间：2012-08-10T05:58:29.873
> 
> 标签：python, arrays

我对 Python 数组的逻辑有疑问，我不知道是否需要使用 2D 数组。比方说，我有一个从数据库中检索到的数据，我想比较检索到的每一行*（例如，我想比较 row1 和 row2，然后比较 row1 和 row3）*，我想我需要在那里使用 for 循环这是附加条件：

`if row1 == row2`：

我需要将两个数组索引值（例如 row1[1] 和 row1[2]）附加到一个空数组*（例如，我从一开始就声明了一个空数组）*，其中每次从从数据库它会将这两个值附加到该空字符串，直到完成比较检索到的所有数据行。

并且以防万一这两个值已经存在于我用来附加这两个值的数组中，它不会附加。

样本：

```
emp_arr = [] #empty list

#code here

# if there are matches from the rows retrieved from database,the value of 
# emp_arr probably
emp_arr = [[2,3], [5,9], [3,7], [2, 5]]
# note:there should be no the same list index value inside(ex. emp_arr = [[2,3], 
# [5,9], [3,7], [2, 3]]---this should not happen so i need to a condition first
# before making an append) 
```

提前谢谢各位。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T08:14:28.827

不清楚您是要从匹配的行中获取值还是要这些行的索引。我假设您想要索引，这意味着我的答案与 JF Sebastian 的答案明显不同，如果您想要这些值，这可能是最好的。

如果您确实需要索引，则不清楚您要如何处理多个匹配项。如果 row[1] == row[2] == row[3] 您可以获得 [1,2]、[1,3] 和 [2,3] 作为匹配索引，或者您可能只需要其中一个。我假设您只想要其中一个，并且哪个并不特别重要（下面的两个函数将始终提供 [1,2] 而不是其他函数，尽管如果需要，可以将它们修改为更喜欢不同的对）。

这是一种类似的方法，它显式地循环索引，跳过任何已经匹配的：

```
def findMatchedRowPairsWithoutDuplicates(rows):
    matched = set()
    result = []
    for i in range(len(rows)):
        if i in matched:
            continue
        for j in range(i+1, len(rows)):
            if j in matched:
                continue
            if row[i] == row[j]:
                result.append([i,j])
                matched.add(i)
                matched.add(j)
                break # can't match with the current i again!
    return result 
```

这是一种替代实现，它利用排序可能更快地找到重复项（时间复杂度 O(N log(N)) 而不是 O(N ² )），但它要求您的行值具有部分排序（即，`row1 < row2`必须是定义）。对于大多数类型的数据库值来说，这可能是正确的，但可能并不总是由给定库的实现来保证。理解这段代码的关键是，相等行的索引在排序后在列表中总是相邻的`indexes`，所以我们只需要检查每个相邻的索引对，而不是所有对。

```
findMatchedRowPairsWithoutDuplicates2(rows):
    indexes = list(range(len(rows)))

    indexes.sort(key=lambda index: rows[index])

    results = []
    i = 0
    while i < len(indexes)-1:
        if rows[indexes[i]] == rows[indexes[i+1]]:
            results.append(indexes[i], [indexes[i+1])
            i += 2
        else:
            i += 1
    return results 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:47:42.210

看来你想做这样的伪 SQL ：

```
SELECT DISTINCT left_tbl.some_column, left_tbl.another_column
FROM table_name left_tbl, table_name right_tbl
WHERE left_tbl.* = right_tbl.*
  AND left_tbl.id != right_tbl.id
  -- where * is everything except id column 
```

在 Python 中（检索到的所有行都是`rows`可迭代的）：

```
from itertools import combinations

result = set((row1[1], row1[2])
             for row1, row2 in combinations(rows, 2)
             if row1 == row2) 
```

# clojure - 为什么 Clojure 在参数子句中定义具有冗余的函数

> ID：11896249
> 
> 赞同：2
> 
> 时间：2012-08-10T05:58:38.153
> 
> 标签：clojure

> **可能重复：**
> [为什么 clojure 的向量函数定义如此冗长？](https://stackoverflow.com/questions/11570782/why-clojures-vector-function-definition-is-so-verbose)

为了澄清我的问题，让我们以定义`list*`为例。

```
(defn list*
  "Creates a new list containing the items prepended to the rest, the
  last of which will be treated as a sequence."
  {:added "1.0"
   :static true}
  ([args] (seq args))
  ([a args] (cons a args))
  ([a b args] (cons a (cons b args)))
  ([a b c args] (cons a (cons b (cons c args))))
  ([a b c d & more]
    (cons a (cons b (cons c (cons d (spread more))))))) 
```

我的问题是，为什么不这样定义`list*`：

```
(defn list*
  "Creates a new list containing the items prepended to the rest, the
  last of which will be treated as a sequence."
  {:added "1.0"
   :static true}
  ([args] (seq args))
  ([a & more] (cons a (spread more)))) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T09:10:31.270

主要原因是**性能**。

如果您显式提供一些带有小参数的额外版本，它可以帮助 Clojure 编译器创建更优化的代码（特别是因为小参数情况是最常用的）

如果重载版本避免需要处理可变长度参数列表（以及更多），则尤其如此，因为处理可变长度参数列表会导致比正常位置参数更多的开销。

# android - 更好的 Android 设备检测

> ID：11896255
> 
> 赞同：2
> 
> 时间：2012-08-10T05:59:04.247
> 
> 标签：android, browser-detection

我一直在寻找有关检测 Android 设备与 iOS 设备的信息，以便我可以根据设备显示下载 Android 或 iOS 应用程序的链接。我遇到的每个答案都说要在导航器对象中查找“Android”userAgent，但是在快速打印出该对象后，在任何地方都没有任何 Android 迹象。我认为这一定是较新的 Android 设备的一个功能。相反，我不得不通过检查对象是否带有“Mozilla”标签而不是“Chrome”标签来做一些工作。这似乎工作正常，但最近刚刚为 Android ICS+ 发布了 Chrome 浏览器，那么现在我可以检查什么来区分移动设备和家用计算机？至少在这种情况下我'

//更新 - 我发现 HTC 设备（可能还有一些蜂窝设备）输出错误的 userAgent，除非用户处于“移动查看模式”，可以在他们的设置中打开。

```
 else if( /(Mozilla)/i.test(navigator.userAgent) !== (/(Chrome)/i.test(navigator.userAgent))) {
    $('a#iphone_app').css("visibility", "hidden");
    $('a#iphone_app').css("display", "none")
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T17:17:04.617

不确定是否要完全隐藏内容。也许只是让一个比另一个更突出。表明你支持这两个平台对你来说是一个加分项。

运行 Chrome 的 GNex 上的 userAgent：

```
"Mozilla/5.0 (Linux; Android 4.0.4; Galaxy Nexus Build/IMM76K) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.166 Mobile Safari/535.19" 
```

运行 Crome 的 MacBook 上的 userAgent：

```
"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_4) AppleWebKit/535.24 (KHTML, like Gecko) Chrome/19.0.1055.1 Safari/535.24" 
```

# android - Google TV 应用能否显示直播电视（无叠加层）

> ID：11896259
> 
> 赞同：0
> 
> 时间：2012-08-10T05:59:21.430
> 
> 标签：android, video, google-tv, television

应用程序运行时是否可以显示与直播电视应用程序完全相同的内容？也就是说，对于 HDMI 输入，未经修改地传递给 HDMI 输入。

我想使用我的 GTV 远程键盘来控制连接到 HDMI 输入的计算机（通过 VNC、Synergy 或其他协议），同时通过 GTV 显示常规视频信号。我的主要兴趣是控制计算机，作为一台 HTPC，少放一个键盘。由于通过网络通过 VNC 播放高清视频的性能负担，我对可用的 VNC 应用程序之一不感兴趣。

我能找到的与此密切相关的唯一信息是在直播电视上添加叠加层的查询。很明显，覆盖是不可能的，但我找不到任何解决显示没有覆盖的直播电视的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-16T16:02:02.743

我知道的唯一方法是通过蓝牙将遥控器连接到计算机，但您仍然需要驱动程序来解释控件

# ios5 - 应用内购买产品 ID 说明

> ID：11896260
> 
> 赞同：-1
> 
> 时间：2012-08-10T05:59:35.390
> 
> 标签：ios5, in-app-purchase

我在我的应用程序中使用了像“ADR123”这样的“产品ID”。我收到“无效的产品标识符”应用内购买不起作用，此产品 ID 是否有效？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:29:59.200

您需要确保捆绑标识符是您在 itunesconnect 上使用的同一应用程序的标识符，该应用程序在应用内购买中添加了此产品 ID

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:04:22.230

遵循[http://troybrant.net/blog/2010/01/invalid-product-ids/的清单](http://troybrant.net/blog/2010/01/invalid-product-ids/)

另请参阅[此](http://blog.mugunthkumar.com/coding/iphone-tutorial-%E2%80%93-in-app-purchases/)博客。

**清单：-**

*   您是否为您的 App ID 启用了应用内购买？
*   您是否为您的产品检查过清仓？
*   您是否已提交（并可选择拒绝）您的应用程序二进制文件？
*   您项目的 .plist Bundle ID 是否与您的 App ID 匹配？
*   您是否为新的 App ID 生成并安装了新的配置文件？
*   您是否已将项目配置为使用此新的配置文件进行代码签名？
*   您是为 iPhone OS 3.0 或更高版本构建的吗？
*   您在发出 SKProductRequest 时是否使用了完整的产品 ID？
*   将产品添加到 iTunes Connect 后，您是否等待了几个小时？
*   您的银行详细信息在 iTunes Connect 上是否有效？（通过马克）
*   您是否尝试过从设备中删除该应用程序并重新安装？（通过 Hector、S3B、Alex O、Joe 和 Alberto）
*   你的设备越狱了吗？如果是这样，您需要恢复越狱才能使 IAP 正常工作。（通过哦，我的上帝，罗马和 xfze）

# php - PHP：获得最大的图像 - 性能问题

> ID：11896267
> 
> 赞同：0
> 
> 时间：2012-08-10T06:00:17.513
> 
> 标签：php

下面的代码查找给定网站上的所有图像并返回最大的图像，但速度非常慢。任何人都可以帮忙吗？谢谢！

```
$largest = 0;
$images = array();

reg_match_all('/(img|src)\=(\"|\')[^\"\'\>]+/i', $html, $media);
unset($html);

$data=preg_replace('/(img|src)(\"|\'|\=\"|\=\')(.*)/i',"$3",$media[0]);
foreach($data as $imgUrl) {
$info = pathinfo($imgUrl);

if (isset($info['extension'])) {
    if (($info['extension'] == 'jpg') ||
        ($info['extension'] == 'jpeg') ||
        ($info['extension'] == 'gif') ||
        ($info['extension'] == 'png')) {

        array_push($images, $imgUrl);
        $imgUrl = $this->rel2abs($imgUrl, $this->url);
        list($width, $height, $type, $attr) = getimagesize($imgUrl);
        $size = $width * $height;

        if ($size > $largest) {
            $this->image = $imgUrl;
            $largest = $size;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T06:10:10.583

我和你有同样的问题，问题是 getimagesize 正在将图像下载回服务器然后获取它的大小，所以我编写了自己的包装器，它只读取 img 元信息并返回大小。
这里： http: [//pastebin.com/3XuSAw0q](http://pastebin.com/3XuSAw0q)是类。它可以处理 jpg、png 和 gif 文件。

像这样使用它：

```
$image = new Parser_Provider_Image();
$sizes = $image->getImageSize('http://../../img.jpg'); 
```

# ios - mapRectThatFits：它有什么作用？

> ID：11896270
> 
> 赞同：0
> 
> 时间：2012-08-10T06:00:30.620
> 
> 标签：ios, mkmapview, mapkit

我一点也不了解 mapRectThatFits。这是一个简单的代码行：

```
MKMapRect zoomRectNorm = [mapView mapRectThatFits:zoomRect];
// BREAKPOINT HERE 
```

现在让我们看看调试器。

打印缩放矩形：

```
(lldb) p zoomRect
(MKMapRect) $1 = {
  (MKMapPoint) origin = {
    (double) x = 4.2997e+07
    (double) y = 9.36865e+07
  }
  (MKMapSize) size = {
    (double) width = 26493.1
    (double) height = 148685
  }
} 
```

打印 zoomRectNorm：

```
(lldb) p zoomRectNorm
(MKMapRect) $2 = {
  (MKMapPoint) origin = {
    (double) x = 4.29283e+07
    (double) y = 9.36379e+07
  }
  (MKMapSize) size = {
    (double) width = 163840
    (double) height = 245760
  }
} 
```

所以它把纵横比调整为 2:3 但它没有保持宽度、高度或原点！？

根据文档，它应该返回：

> 仍以地图同一点为中心的地图矩形，但其宽度和高度已调整为适合地图视图的框架。

这是怎么回事？我希望它保持原点（如文档中所述）和至少一个宽度/高度？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T16:37:09.653

适合的 MapRect 将缩小，直到达到可以包含您的区域的缩放级别，这样图块就会以其原始分辨率显示。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T10:52:34.853

如果您在地图视图上使用，它会返回您将获得的地图矩形`setVisibleMapRect`。中心应该是一样的。原产地可能不会。您必须考虑原点和中心之间的区别才能理解原因。要了解的另一件事是，尽管您要求设置特定的地图矩形，但地图视图将始终设置自己的最佳想法。它的最佳理念是允许它在不放大或缩小的情况下显示图块。

# mysql - SQL 查询优化以避免临时表

> ID：11896271
> 
> 赞同：14
> 
> 时间：2012-08-10T06:00:31.110
> 
> 标签：mysql, sql

**桌子：**

```
CREATE TABLE `T1` (
  `UserId` int(10) unsigned NOT NULL,
  `FriendUserId` int(10) unsigned NOT NULL,
  `IsDisplayed` tinyint(1) unsigned NOT NULL,
  `Created` datetime NOT NULL,
  KEY `FriendUserId` (`FriendUserId`,`IsDisplayed`,`UserId`,`Created`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8; 
```

**查询：**

```
SELECT `UserId`, `FriendUserId`, UNIX_TIMESTAMP(`Created`) AS `Created`
FROM `T1` WHERE `FriendUserId` = 22
  AND `IsDisplayed` = 0
  GROUP BY `UserId`
  ORDER BY `Created` 
```

**解释结果：**

```
 id: 1
  select_type: SIMPLE
        table: T1
         type: ref
possible_keys: FriendUserId
          key: FriendUserId
      key_len: 5
          ref: const,const
         rows: 1
        Extra: Using where; Using index; Using temporary; Using filesort 
```

**问题：**

如何优化它以便不使用临时表？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-10T06:22:17.910

MySQL[文档](http://dev.mysql.com/doc/refman/5.1/en/internal-temporary-tables.html)说：

> 可以在以下条件下创建临时表：
> 
> 如果有一个`ORDER BY`子句和一个不同的`GROUP BY`子句，或者如果`ORDER BY`or`GROUP BY`包含来自连接队列中第一个表以外的表的列，则会创建一个临时表。

因此，您只能通过删除来避免使用临时表`order by Created`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-10T09:12:04.073

正如您可能理解的那样，问题在于对`GROUP BY`数据`UserId`进行排序，但结果集应按 ; 排序`Created`。因此，MySQL 将输出放在一个临时表中，对其进行排序并输出。

诀窍可能是强制`Created`一次按顺序输出不同的行。

我首先想到的是这样的：

```
SELECT DISTINCT
  UserId,
  FriendUserId,
  UNIX_TIMESTAMP(`Created`) AS `Created`
FROM T1
WHERE FriendUserId = 22 AND IsDisplayed = 0
ORDER BY `Created` 
```

并将索引更改为`(FriendUserId, IsDisplayed, Created, UserId)`.

或具有相同索引的另一个查询：

```
SELECT
  UserId,
  FriendUserId,
  UNIX_TIMESTAMP(`Created`) AS `Created`
FROM T1
WHERE FriendUserId = 22 AND IsDisplayed = 0
GROUP BY `Created`, UserId 
```

# javascript - 验证十进制数的正则表达式

> ID：11896274
> 
> 赞同：1
> 
> 时间：2012-08-10T06:00:55.790
> 
> 标签：javascript, regex

```
函数 validateDecimal（数字，maxDigits）
{
    eval("var stringvar=/^[-+]?([0-9]*\.[0-9]{0,"+maxDigits+"})|([0-9]+)$/");

    返回 stringvar.test(number);
}

```

我写了上面的函数来验证十进制数。变量'maxDigits'用于指定小数部分的位数，'number'作为要验证的值。但是当我尝试使用一个数值后跟一个字符时它返回“true”，例如：24y。谁能帮我弄清楚我的错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T06:09:11.047

在不进入正则表达式的情况下，我认为您的代码中的问题是您应该两次转义特殊字符。由于您将其全部放在字符串中，因此字符串解析会转义单个反斜杠。

我认为这应该有效：

```
eval("var stringvar=/^[-+]?([0-9]*\\.[0-9]{0,"+maxDigits+"})|([0-9]+)$/"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:04:23.963

我刚刚尝试过这个，它对我有用：`^[+-]?[0-9]*(\.[0-9]{0,5})?$`。

在我的情况下，我做了一个小的修改，你似乎匹配一个十进制数或一个整数。就我而言，我修改了正则表达式以采用带有可选小数部分的整数。

照原样，正则表达式将匹配诸如: 之类的值`.222`，`23.22222`但不匹配`4d.22222`,`33.333333`等。

```
var n1 = "4.33254";
var n2 = "4d.55";

eval("var stringvar=/^[+-]?[0-9]*(\\.[0-9]{0,5})?$/");
alert(stringvar.test(n1));
alert(stringvar.test(n2)); 
```

产量：`true`和`false`分别。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T06:05:58.407

此正则表达式将验证带有 maxDigits of decimals: 的数字 `^[-+]?[0-9]*.[0-9]{10}$`。这将验证它到小数点后 10 位。

在 JavaScript 中实现它看起来像： `eval("var stringvar=^[-+]?[0-9]*.[0-9]{" + maxDigits + "}$");`，或者差不多。

# c# - using 子句调用 Dispose 失败？

> ID：11896282
> 
> 赞同：24
> 
> 时间：2012-08-10T06:01:54.960
> 
> 标签：c#, .net, wmi, using

我正在使用 Visual Studio 2010 来定位 .NET 4.0 客户端配置文件。我有一个 C# 类来检测给定进程何时开始/终止。为此，该类使用一个 ManagementEventWatcher，其初始化如下；`query`,`scope`和`watcher`是类字段：

```
query = new WqlEventQuery();
query.EventClassName = "__InstanceOperationEvent";
query.WithinInterval = new TimeSpan(0, 0, 1);
query.Condition = "TargetInstance ISA 'Win32_Process' AND TargetInstance.Name = 'notepad.exe'";

scope = new ManagementScope(@"\\.\root\CIMV2");

watcher = new ManagementEventWatcher(scope, query);
watcher.EventArrived += WatcherEventArrived;
watcher.Start(); 
```

事件 EventArrived 的处理程序如下所示：

```
private void WatcherEventArrived(object sender, EventArrivedEventArgs e)
{
    string eventName;

    var mbo = e.NewEvent;
    eventName = mbo.ClassPath.ClassName;
    mbo.Dispose();

    if (eventName.CompareTo("__InstanceCreationEvent") == 0)
    {
        Console.WriteLine("Started");
    }
    else if (eventName.CompareTo("__InstanceDeletionEvent") == 0)
    {
        Console.WriteLine("Terminated");
    }
} 
```

此代码基于[CodeProject 文章](http://www.codeproject.com/KB/system/win32processusingwmi.aspx)。我添加调用是`mbo.Dispose()`因为它泄漏了内存：每次引发 EventArrived 时大约 32 KB，每秒一次。泄漏在 WinXP 和 Win7（64 位）上都很明显。

到现在为止还挺好。为了认真起见，我添加了一个`try-finally`子句，如下所示：

```
var mbo = e.NewEvent;
try
{
    eventName = mbo.ClassPath.ClassName;
}
finally
{
    mbo.Dispose();
} 
```

那里没问题。更好的是，C#`using`子句更紧凑但等效：

```
using (var mbo = e.NewEvent)
{
    eventName = mbo.ClassPath.ClassName;
} 
```

太好了，只是现在内存泄漏又回来了。发生了什么？

嗯，我不知道。但是我尝试用 ILDASM 拆解这两个版本，它们几乎但不完全相同。

来自`try-finally`：

```
.try
{
  IL_0030:  nop
  IL_0031:  ldloc.s    mbo
  IL_0033:  callvirt   instance class [System.Management]System.Management.ManagementPath [System.Management]System.Management.ManagementBaseObject::get_ClassPath()
  IL_0038:  callvirt   instance string [System.Management]System.Management.ManagementPath::get_ClassName()
  IL_003d:  stloc.3
  IL_003e:  nop
  IL_003f:  leave.s    IL_004f
}  // end .try
finally
{
  IL_0041:  nop
  IL_0042:  ldloc.s    mbo
  IL_0044:  callvirt   instance void [System.Management]System.Management.ManagementBaseObject::Dispose()
  IL_0049:  nop
  IL_004a:  ldnull
  IL_004b:  stloc.s    mbo
  IL_004d:  nop
  IL_004e:  endfinally
}  // end handler
IL_004f:  nop 
```

来自`using`：

```
.try
{
  IL_002d:  ldloc.2
  IL_002e:  callvirt   instance class [System.Management]System.Management.ManagementPath [System.Management]System.Management.ManagementBaseObject::get_ClassPath()
  IL_0033:  callvirt   instance string [System.Management]System.Management.ManagementPath::get_ClassName()
  IL_0038:  stloc.1
  IL_0039:  leave.s    IL_0045
}  // end .try
finally
{
  IL_003b:  ldloc.2
  IL_003c:  brfalse.s  IL_0044
  IL_003e:  ldloc.2
  IL_003f:  callvirt   instance void [mscorlib]System.IDisposable::Dispose()
  IL_0044:  endfinally
}  // end handler
IL_0045:  ldloc.1 
```

显然问题是这一行：

```
IL_003c:  brfalse.s  IL_0044 
```

这相当于`if (mbo != null)`，所以`mbo.Dispose()`永远不会被调用。但是，如果 mbo 能够访问，它怎么可能为 null`.ClassPath.ClassName`呢？

对此有什么想法吗？

另外，我想知道这种行为是否有助于解释此处未解决的讨论：[Memory leak in WMI when querying event logs](http://social.msdn.microsoft.com/Forums/en-US/netfxbcl/thread/158d5f4b-1238-4854-a66c-b51e37550c52/)。

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-08-10T06:11:40.413

乍一看，似乎有一个错误`ManagementBaseObject`。

这是`Dispose()`来自的方法`ManagementBaseObject`：

```
 public new void Dispose() 
    {
        if (_wbemObject != null) 
        {
            _wbemObject.Dispose();
            _wbemObject = null;
        } 
        base.Dispose();
        GC.SuppressFinalize(this); 
    } 
```

请注意，它被声明为`new`。另请注意，当`using`语句调用时`Dispose`，它是通过显式接口实现来实现的。因此，父`Component.Dispose()`方法被调用，并且`_wbemObject.Dispose()`永远不会被调用。 `ManagementBaseObject.Dispose()`不应该在`new`这里声明。不相信我？这是来自 的评论`Component.cs`，就在它的`Dispose(bool)`方法上方：

```
 ///    <para>
    ///    For base classes, you should never override the Finalier (~Class in C#) 
    ///    or the Dispose method that takes no arguments, rather you should 
    ///    always override the Dispose method that takes a bool.
    ///    </para> 
    ///    <code>
    ///    protected override void Dispose(bool disposing) {
    ///        if (disposing) {
    ///            if (myobject != null) { 
    ///                myobject.Dispose();
    ///                myobject = null; 
    ///            } 
    ///        }
    ///        if (myhandle != IntPtr.Zero) { 
    ///            NativeMethods.Release(myhandle);
    ///            myhandle = IntPtr.Zero;
    ///        }
    ///        base.Dispose(disposing); 
    ///    } 
```

由于这里的`using`语句调用显式`IDisposable.Dispose`方法，因此`new`永远不会调用 Dispose。

**编辑**

通常我不会认为这样的事情是一个错误，但由于使用`new`for`Dispose`通常是不好的做法（特别是因为`ManagementBaseObject`没有密封），并且由于**没有解释使用的评论`new`**，我认为这是一个错误。

我找不到此问题的 Microsoft Connect 条目，[因此我制作了一个](https://connect.microsoft.com/VisualStudio/feedback/details/757707/c-using-statement-does-not-work-on-system-management-managementbaseobject). 如果您可以复制或者这是否影响了您，请随意投票。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-07-26T22:34:17.353

此问题还会导致 MS 单元测试框架在运行所有测试结束时失败并永远挂起（在 Visual Studio 2015 下，更新 3）。不幸的是，在我写这篇文章时，这个错误仍然存​​在。在我的情况下，以下代码正在泄漏：

```
using (ManagementObjectSearcher searcher = new ManagementObjectSearcher(query))
{
    ....
} 
```

测试框架抱怨的是一个线程没有被关闭：

> System.AppDomainUnloadedException：试图访问已卸载的 AppDomain。**如果测试启动了一个线程但没有停止它，就会发生这种情况**。确保测试启动的所有线程在完成之前都已停止。

我设法通过在另一个线程中执行代码来解决它（因此，在启动线程退出后，*希望*其中产生的所有其他线程都已关闭并适当地释放资源）：

```
Thread searcherThread = new Thread(new ThreadStart(() =>
{
    using (ManagementObjectSearcher searcher = new ManagementObjectSearcher(query))
    {
        ....
    }
}));
searcherThread.Start();
searcherThread.Join(); 
```

我并不是在提倡这是解决问题的方法（事实上，只为这个调用生成一个线程是一个可怕的想法），但至少我可以再次运行测试，而无需在每次挂起时重新启动 Visual Studio .

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-12-14T12:00:15.927

我们看到了类似的问题，

调用**GC.WaitForPendingFinalizers() 一次足以修复泄漏**

尽管我知道这不是解决方案，但只是解决该错误的方法

# c# - 在公司服务器上导入逗号分隔值 (CSV) 文件时出现错误，显示文件格式无效

> ID：11896284
> 
> 赞同：0
> 
> 时间：2012-08-10T06:02:08.433
> 
> 标签：c#

在公司服务器上导入逗号分隔值 (CSV) 文件时显示无效文件格式但是当我在本地尝试或从测试服务器尝试导入相同的文件时

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:23:55.410

检查服务器和本地计算机上的默认 Windows CodePage。

# java - 将计算值存储到数组中

> ID：11896287
> 
> 赞同：0
> 
> 时间：2012-08-10T06:02:14.027
> 
> 标签：java, arrays

我正在尝试一些在线问题。我编写了如何解决 2 个两位数的最大回文乘积的程序。例如 91*99=9009。我设法通过使用递归函数来做到这一点，但我想知道如何使用像这样的数组来做到这一点？

```
product[0]=9;
product[1]=0;
product[2]=0;
product[3]=9; 
```

或者如果计算的乘积是 969；

```
product[0]=9;
product[1]=6;
product[2]=9; 
```

然后我将从最后一个索引开始输出到第一个索引，然后测试它是否等于原始数字。

编辑：我的问题是，如何将计算的产品存储到数组中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:10:20.890

`String`从整数乘积创建一个新的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:24:49.590

没有理由使用数组来解决 Project Euler 问题。但是，如果您对它很感兴趣，那么有一个简单的算法可以将数字数组转换为数字。只需这样做：

```
int number = 0;
int number_2 = 0;

//going forwards:
for (int i = 0; i < array.length; i++)
{
    number = number * 10 + array[i];
}

//going backwards:
for (int i = array.length - 1; i >= 0; i--)
{
    number_2 = number_2 * 10 + array[i];
}

if (number == number_2)
{
    //you have a palindrome
} 
```

我知道这不是最有效的方法（@Nandkumar 更快），但它真的很简单，这就是我的目标。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T06:10:16.870

我不会给你写代码，因为它看起来像一个作业，但我会给你一个提示。

首先将 int 转换为字符串。

字符串中的字符与数组非常相似，因此将字符串转换为数组会很容易。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T06:10:51.233

要将数字转换为数组，您可以试试这个......

```
Char [] product = String.valueOf("969").toCharArray(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-10T06:12:01.593

将您的产品提供给`String.valueOf(int)`，它将转换为字符串，然后使用`String.toCharArray()`like将其转换为数组

```
boolean palindrome = true;
int product = 9009; // or any calculated number
char str[] = String.valueOf(product).toCharArray();

for(int i=0,j=str.length-1; i!=j ;i++,j--) {
    if(str[i] == str[j]){
        continue;
    } else {
        palindrome = false;
        break;
    }
} 
```

# javascript - fancydropdown js：IE8 中的参数无效

> ID：11896298
> 
> 赞同：-2
> 
> 时间：2012-08-10T06:03:25.437
> 
> 标签：javascript, jquery

我正在使用 fancydropdown.js 进行下拉和图像幻灯片放映。在页面上，我在 JavaScript 中遇到问题，它给出错误并且图像幻灯片无法正常工作。

> SCRIPT87：参数无效。fancydropdown.js，第 15 行字符 12983
> 
> ***{J[G]=K}***

请检查以下 URL 以获取代码。[http://jsfiddle.net/santoshshelke/vmsX3/](http://jsfiddle.net/santoshshelke/vmsX3/)

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T12:28:05.587

将 jQuery 版本 1.3.2 替换为 1.8.0

# mysql - MySQL 查询以获取特定日期的记录

> ID：11896303
> 
> 赞同：2
> 
> 时间：2012-08-10T06:03:53.283
> 
> 标签：mysql

我有以`staff_status`结构和记录命名的下表：

```
----------------------------------------------------
| id (INT) | status (VARCHAR) | status_date (DATE) |
----------------------------------------------------
|   1      |     Working      |    2009-05-03      |
|   2      |     Working      |    2009-07-21      |
|   1      |     Leave        |    2010-02-01      |
|   1      |     Working      |    2010-02-15      |
---------------------------------------------------- 
```

现在我想查询这个以获取`status`特定日期的员工。示例：on 的状态`id = 1`应该`2010-02-10`返回`Leave`，而 on`2010-03-01`应该返回`Working`

我没有成功的尝试：

`SELECT t1.status FROM staff_status t1 INNER JOIN (SELECT * FROM staff_status WHERE id = 1 AND status_date < '2010-02-10') t2 ON (t1.id = t2.id AND t1.status_date < t2.status_date);`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:10:35.230

你可以尝试类似的东西

```
SELECT  s.*
FROM    staff_status s INNER JOIN
        (
            SELECT  id,
                    MAX(status_date) status_date
            FROM    staff_status
            WHERE   status_date < '2010-02-10'
            AND     id = 1
        ) m ON  s.id = m.id
            AND s.status_date = m.status_date 
```

另外，您可以尝试 ORDER BY status_date DESC LIMIT 1

从[13.2.8 开始。选择语法](http://dev.mysql.com/doc/refman/5.0/en/select.html)

就像是

```
SELECT  *
FROM    staff_status
WHERE   id = 1
AND     status_date < '2010-02-10'
ORDER BY    status_date DESC
LIMIT 1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:10:46.810

首先，您需要每个 id 的日期的 MAX()：

```
SELECT id, MAX(status_date)
FROM staff_status
WHERE status_date < "2010-02-10" GROUP BY id 
```

...but MySQL doesn't guarantee that the status will be from the row of the `MAX(status_date)` (in fact, this is almost never the case). So you'll have to take the information you found above, and pull out those records from the original table, matching on `id` and `status_date`:

```
SELECT id, status
FROM staff_status
WHERE
    (id, status_date)
    IN
    (
        SELECT id, MAX(status_date)
        FROM staff_status
        WHERE status_date < "2010-02-10" GROUP BY id
    ); 
```

This generates a list of `id`s and `status`es for the most recent date found before `2010-02-10`:

```
+------+---------+
| id   | status  |
+------+---------+
|    2 | Working |
|    1 | Leave   |
+------+---------+
2 rows in set (0.01 sec) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T06:08:32.867

试试这个：

```
select status 
from staff_status 
where status_date<='2010-03-01'
and id=1
order by status_date desc 
limit 1 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T06:11:15.170

try this:

```
SELECT IFNULL((SELECT status 
               FROM staff_status 
               WHERE id = 1 AND
                     status_date = '2010-02-10'), 
               "Leave") AS status; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-10T06:18:41.797

Surely simply:

```
SELECT status FROM staff_status WHERE status_date = '2010-02-10' 
```

Would return you "leave"?

# java - Openssl 未被识别为内部或外部命令

> ID：11896304
> 
> 赞同：198
> 
> 时间：2012-08-10T06:04:04.053
> 
> 标签：java, android, facebook-android-sdk, keytool

我希望为我的应用程序生成一个应用程序签名，该签名稍后将与 Facebook 集成。在 Facebook 的一个教程中，我发现了这个命令：

```
keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64 
```

在教程中，它说通过运行这个 cmd，我的生成签名的过程将开始。

但是，此命令给出错误：

```
openssl is not recognized as an internal or external command 
```

我怎样才能摆脱这个？

* * *

## 回答 #1

> 赞同：423
> 
> 时间：2012-08-10T06:15:44.760

好吧，在 OpenSSL 的地方……你必须把你下载的 OpenSSL 文件夹的路径放在里面。您的实际命令应如下所示：

```
keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | "C:\Users\abc\openssl\bin\openssl.exe" sha1 -binary | "C:\Users\abc\openssl\bin\openssl.exe" base64 
```

请记住，您将输入的路径将是您安装 OpenSSL 的路径。

**编辑：**

您可以从以下相应链接下载适用于 windows 32 和 64 位的 OpenSSL：

[64 位的 OpenSSL](http://code.google.com/p/openssl-for-windows/downloads/detail?name=openssl-0.9.8k_X64.zip)

[32 位的 OpenSSL](https://code.google.com/p/openssl-for-windows/downloads/detail?name=openssl-0.9.8k_WIN32.zip)

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2013-04-28T14:07:50.197

请按照以下步骤操作，希望您的密钥正常工作：

1.  **第 1 步**您将需要 OpenSSL。[您可以从 Google Code 上的 openssl-for-windows](https://code.google.com/p/openssl-for-windows/)项目下载二进制文件。

2.  **步骤 2**解压缩文件夹，然后将文件夹的路径复制`bin`到剪贴板。

    例如，如果文件解压缩到 location `C:\Users\gaurav\openssl-0.9.8k_WIN32`，则复制 path `C:\Users\gaurav\openssl-0.9.8k_WIN32\bin`。

3.  **步骤 3**将路径添加到您的系统环境路径。`PATH`设置环境变量后，打开 cmd 并键入以下命令：

    ```
    C:\>keytool -exportcert -alias androiddebugkey -keystore [path to debug.keystore] | openssl sha1 -binary | openssl base64 
    ```

    出现提示时输入您的密码。如果该命令有效，那么您将看到一个密钥。

* * *

## 回答 #3

> 赞同：25
> 
> 时间：2013-03-29T03:20:40.493

使用整个路径，如下所示：

```
exportcert -alias androiddebugkey -keystore ~/.android
/debug.keystore | "C:\openssl\bin\openssl.exe" sha1 -binary | "C:\openssl\bin\op
enssl.exe" base64 
```

它对我有用。

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2012-09-08T02:07:58.460

这对我来说很成功。

**"C:\Program Files\Java\jdk1.6.0_26\bin\keytool.exe" -exportcert -alias sociallisting -keystore "D:\keystore\SocialListing" | "C:\cygwin\bin\openssl.exe" sha1 -binary | "C:\cygwin\bin\openssl.exe" base64**

请注意以下路径：

*   **“C:\Program Files\Java\jdk1.6.0_26\bin\keytool.exe”**
*   **"D:\keystore\SocialListing"**或者它可以是这样的 " **C:\Users\Shaon.android\debug.keystore** "
*   **"C:\cygwin\bin\openssl.exe"**或者可以是这样的**C:\Users\openssl\bin\openssl.exe**

如果命令成功运行，那么您将看到此命令：

**输入密钥库密码：输入您的密码**

**加密哈希键****

* * *

## 回答 #5

> 赞同：10
> 
> 时间：2016-08-05T06:06:35.663

这是迟到的答案，但它会帮助像我这样的懒人..将此代码添加到您的应用程序类中，无需下载 openssl 也无需设置路径..只需复制此代码.. keyHash 将在日志中生成。

```
import com.facebook.FacebookSdk;
public class MyApplication extends Application {

    @Override
    public void onCreate() {
        super.onCreate();
        FacebookSdk.sdkInitialize(getApplicationContext());
        AppEventsLogger.activateApp(this);
        printKeyHash();
    }

    private void printKeyHash() {
        try {
            PackageInfo info = getPackageManager().getPackageInfo(
                    getPackageName(), PackageManager.GET_SIGNATURES);
            for (Signature signature : info.signatures) {
                MessageDigest md = MessageDigest.getInstance("SHA");
                md.update(signature.toByteArray());
                Log.i("KeyHash:",
                        Base64.encodeToString(md.digest(), Base64.DEFAULT));
            }
        } catch (PackageManager.NameNotFoundException e) {
            Log.e("jk", "Exception(NameNotFoundException) : " + e);
        } catch (NoSuchAlgorithmException e) {
            Log.e("mkm", "Exception(NoSuchAlgorithmException) : " + e);
        }
    }
} 
```

并且不要忘记在清单中添加 MyApplication 类：

```
<application
        android:name=".MyApplication"
</application> 
```

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2014-08-12T06:08:13.050

首先导航到 cmd cd c:\Program Files (x86)\Java\jre7\bin 中的 Java/jre/bin 文件夹

然后使用： [将 debug.keystore 路径更改为系统上的正确位置] 安装 openssl（对于 windows 32 或 64，根据您在 c:\openssl 的需要）

```
keytool -exportcert -alias androiddebugkey -keystore "C:\Users\vibhor\.android\debug.keystore" | "c:\openssl\bin\openssl.exe" sha1 -binary | "c:\openssl\bin\openssl.exe" base64 
```

所以整个命令是这样的：[执行时提示输入密钥库密码]

```
c:\Program Files (x86)\Java\jre7\bin>keytool -exportcert -alias androiddebugkey
-keystore "C:\Users\vibhor\.android\debug.keystore" | "c:\openssl\bin\openssl.ex
e" sha1 -binary | "c:\openssl\bin\openssl.exe" base64
Enter keystore password: 
```

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2015-05-13T18:50:44.590

```
Steps to create Hash Key. 
1: Download openssl from Openssl for Windows . I downloaded the Win64 version 
2:Unzip and copy all the files in the bin folder including openssl.exe(All file of bin folder) 
3:Goto to the folder where you installed JDK for me it’s C:\Program Files\Java\jdk1.8.0_05\bin 
4:Paste all the files you copied from Openssl’s bin folder to the Jdk folder. 
```

然后转到 C:\Program Files\Java\jdk1.8.0_05\bin 并按 shift 键并右键单击并打开 cmd

```
C:\Program Files\Java\jdk1.8.0_05\bin>//cmd path 
```

**这是 Sha1 过去这个**
keytool -exportcert -alias androiddebugkey -keystore "C:\User\ABC\.android.keystore" | openssl sha1 -二进制 | openssl base64
//和ABC是系统名放自己的系统名

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2013-04-09T08:51:18.363

我使用了这段代码：

这对我来说很成功。

```
"C:\Program Files\Java\jdk1.6.0_26\bin\keytool.exe" -exportcert -alias sociallisting -
keystore "D:\keystore\SocialListing" | "C:\cygwin\bin\openssl.exe" sha1 -binary | 
"C:\cygwin\bin\openssl.exe" base64 
```

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2017-05-26T11:02:20.407

**下载和解压**

您可以从下面的相应链接下载适用于 windows 32 和 64 位的 openssl：

[https://code.google.com/archive/p/openssl-for-windows/downloads](https://code.google.com/archive/p/openssl-for-windows/downloads)

用于 64 位的 OpenSSL 用于 32 位的 OpenSSL

```
keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\.android\debug.keystore | **"C:\Users\keshav.gera\openssl-0.9.8k_X64\bin**\openssl.exe" sha1 -binary | **"C:\Users\keshav.gera\openssl-0.9.8k_X64\bin**\openssl.exe" base64 
```

**重要** 的是在这里更改我们的路径以及在您的系统中安装 open ssl

毫无疑问，它的工作原理

```
C:\Users\keshav.gera>keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\.android\debug.keystore | "C:\Users\keshav.gera\openssl-0.9.8k_X64\bin\openssl.exe" sha1 -binary | "C:\Users\keshav.gera\openssl-0.9.8k_X64\bin\openssl.exe" base64 
```

输入密钥库密码： **android**

```
**ZrRtxw36xWNYL+h3aJdcCeQQxi0=** 
```

==================================================== ===========

# 通过编码手动使用

```
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.content.pm.Signature;
import java.security.MessageDigest;
import java.security.NoSuchAlgorithmException;

private void PrintHashKey() {

        try {
            PackageInfo info = getPackageManager().getPackageInfo("**com.keshav.patanjalidemo  Your Package Name Here**", PackageManager.GET_SIGNATURES);
            for (Signature signature : info.signatures) {
                MessageDigest md = MessageDigest.getInstance("SHA");        
                md.update(signature.toByteArray());
                Log.d("KeyHash:", Base64.encodeToString(md.digest(), Base64.DEFAULT));
            }
        } catch (PackageManager.NameNotFoundException e) {
            e.printStackTrace();
        } catch (NoSuchAlgorithmException e) {
            e.printStackTrace();
        }

    } 
```

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2020-11-30T10:03:00.017

IDK 如果这与此处相关，但如果您安装了 Git，您可以在“C:\Program Files\Git\usr\bin”中找到 openssl，并且您可以在终端中为您的密钥库命令使用该位置。

哦，是的，命令：

keytool -exportcert -alias keystore -keystore "C:\Users\YOURPATH/filename.jks" | "C:\Program Files\Git\usr\bin\openssl" sha1 -binary | "C:\Program Files\Git\usr\bin\openssl" base64

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2013-11-23T11:58:48.160

使用这对我有用。请更改您的路径

C:\Program Files\Java\jre7\bin keytool -exportcert -alias androiddebugkey -keystore "C:\Users\Ace.android\debug.keystore" | "C:\openssl\bin

\openssl.exe" sha1 -binary | "C:\openssl\bin\openssl.exe" base64

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2012-11-08T12:00:34.870

对于那些寻找更新位置来安装 windows 二进制版本的 openssl（32 位和 64 位）的人，您可以在此处找到它：

[http://slproweb.com/products/Win32OpenSSL.html](http://slproweb.com/products/Win32OpenSSL.html)

提供二进制分发的网站的最新列表在这里

[http://www.openssl.org/related/binaries.html](http://www.openssl.org/related/binaries.html)

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2014-09-30T06:08:56.580

转到cmd中的bin文件夹路径，然后运行以下命令

```
keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\.android\debug.keystore | openssl sha1 -binary | openssl base64 
```

你会得到你的密钥哈希

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2014-11-20T19:44:07.823

对于 Windows 用户，从 google 的代码库[https://code.google.com/p/openssl-for-windows/downloads/list下载 open ssl](https://code.google.com/p/openssl-for-windows/downloads/list)

下载后，将内容解压缩到 c: 驱动器中的文件夹中。

然后更新您的 PATH 环境变量，以便您可以从命令行中的任何位置使用 .exe。

[windows 8] 要更新您的 PATH 环境变量，请单击我的计算机->属性->高级系统设置。

单击高级选项卡并单击对话框底部的“环境变量”按钮，然后通过单击编辑从“系统变量”部分中选择路径条目。

将路径粘贴到解压缩的 openssl 下载的 bin 文件夹，然后单击确定。

您将需要关闭并打开您之前可能已启动的命令提示符，以便您可以加载更新的路径设置。

现在运行这个命令：

keytool -exportcert -alias androiddebugkey -keystore "C:\Users\Oladipo.android\debug.keystore" | openssl sha1 -二进制 | openssl base64

您应该看到开发人员密钥。

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2017-09-09T05:05:52.750

这对我有用：

```
C:\Users\example>keytool -exportcert -alias androiddebugkey -keystore 
"C:\Users\example\.android" | "C:\openssl\bin\openssl.exe" sha1 -binary 
| "C:\openssl\bin\oenssl.exe" base64 
```

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2021-07-03T21:32:26.063

对于那些像我现在一样迷路的人，请遵循 Usama Sarwar 的回应，但如果：

> “your_openssl_path/bin/openssl.exe”

不行，试试

> your_openssl_path/bin/openssl.exe。

没有引号。

> "c:\openssl\bin\openssl.exe" => 对我不起作用

> c:\openssl\bin\openssl.exe => 为我工作

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2021-11-29T16:23:27.263

我今天遇到了同样的问题，通过观看此视频（SSL 安装）解决了它 - [https://www.youtube.com/watch?v=PoAc1lpfK8I&ab_channel=GleyGames](https://www.youtube.com/watch?v=PoAc1lpfK8I&ab_channel=GleyGames)

然后，我接受了 Usamas 命令并运行它（在更改命令中的路径之后），我使用 CMD 从 java 安装内的 bin 文件夹中运行它。

对我有用的完整命令：

**（从 C:\Program Files\Java\jdk-11.0.12\bin 内部）**：

```
keytool -exportcert -alias androiddebugkey -keystore "C:\Users\USERNAME\.android\debug.keystore" | "C:\Program Files\OpenSSL-Win64\bin\openssl" sha1 -binary | "C:\Program Files\OpenSSL-Win64\bin\openssl" base64 
```

* * *

## 回答 #18

> 赞同：-1
> 
> 时间：2013-05-02T10:11:16.767

不能保证使用这种单一的 openssl 方法生成 hashkey 会起作用。如果它对我不起作用。但是感谢您给我一个解决问题的方向。

有保证的解决方案：您需要将整个命令分解为单独的命令，并且必须将每次执行的输出写入文件中。

您可以从以下链接获取帮助：

[http://www.helloandroid.com/tutorials/using-facebook-sdk-android-development-part-1](http://www.helloandroid.com/tutorials/using-facebook-sdk-android-development-part-1)

享受 ：）

# c# - 在运行时查找数据列表中存在的 Div

> ID：11896309
> 
> 赞同：1
> 
> 时间：2012-08-10T06:04:41.573
> 
> 标签：c#, asp.net, .net, datalist

我需要从 c# 中的代码隐藏文件中找到属于我当前单击的链接按钮的 div。然后我需要为那个 div 应用这个类。到目前为止，我尝试通过 html 表格单元格访问。但我无法访问我的 div。那么请任何有价值的建议来找到div？

```
<asp:DataList ID="DataList1" runat="server" OnItemCommand="DataList1_ItemCommand" style="width:100%">
                        <ItemTemplate>
                            <div runat="server" id="DivContent" style="padding-top: 25px; height: 65px;"  align="center"
                                onmouseover="this.className='MsgClick'" onmouseout="this.className=''" >
                                <asp:LinkButton ID="LinkButton2" runat="server" Text='<%# Eval("UserName") %>' CommandName="show"
                                    class="InnerMenuFont"></asp:LinkButton>
                                <asp:Label ID="Label1" runat="server" Text='<%# Eval("AdminId") %>' Visible="False"></asp:Label>
                                <br />
                            </div>
                            <hr style="width: 80%" /> 

                        </ItemTemplate>
                    </asp:DataList> 
```

在上面的代码中，我需要访问 id "DivContent" 中的当前 div

```
.MsgClick
        {
            background-image: url('Images/AdminHighlight.png');
            background-repeat: no-repeat;
            vertical-align: top;
            margin-right: -38px;
            padding-right: 30px;
        } 
```

上面的代码是我的类文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-23T18:54:26.710

使用下面的代码

```
Control objDiv = e.Item.FindControl("DivContent"); 
```

希望对你有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-12T13:23:37.137

可能是错误的，但我不相信如果 div 是数据绑定控件（DataList、GridView 等）的一部分，即使您设置了 runat="server"，也无法从代码中访问 div。

但是，您可以将 div 换成 asp:Panel - 当页面提供给浏览器时，它会呈现为 div。例如

```
<asp:Panel ID="DivContent" runat="server">
    div content... LinkButton, Label etc...
</asp:Panel> 
```

点击 LinkBut​​ton 后，您可以使用 LinkBut​​ton 所属的 DataList 的项目索引在后面的代码中找到 asp:Panel：

LinkBut​​ton OnClick 事件：

```
protected void LinkButton2_Click(object sender, EventArgs e)
{
    // Get the Link Button which has been clicked.
    LinkButton btn = (LinkButton)sender;
    // Get the DataListItem in the DataList which contains the LinkButton which was clicked.
    DataListItem listItem = (DataListItem)btn.NamingContainer;
    // Get the ItemIndex of the DataListItem.
    int itemIndex = listItem.ItemIndex;
    // Find the asp:Panel in the DataListItem of the DataList (e.g. DataList1).
    Panel currentPanel = (Panel)DataList1.Items[itemIndex].FindControl("DivContent");
} 
```

然后，您应该希望能够在后面的代码中更改样式设置。您可以使用 CssClass 属性来更改您需要的内容：

```
...
Panel currentPanel = (Panel)DataList1.Items[itemIndex].FindControl("DivContent");
currentPanel.CssClass = "NewClassName"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-08T17:16:32.310

先生，我自己做的很好。有一个更简单的解决方案！

从后面的 c# 代码中， div 将被称为 type `HtmlGenericControl`。

您需要向`onitemdatabound="DataList1_ItemDataBound"`DataList 控件标记添加一个。

在您的 itemdatabound 事件中，您可以修改 div。

```
protected void DataList1_ItemDataBound(object sender, DataListItemEventArgs e)
{
    // Find the div control as htmlgenericcontrol type, if found apply style
    System.Web.UI.HtmlControls.HtmlGenericControl div =  (System.Web.UI.HtmlControls.HtmlGenericControl)e.Item.FindControl("DivContent");

    if(div != null)
        div.Style.Add("border-color", "Red");

} 
```

# clojure - Clojure 数据结构函数

> ID：11896315
> 
> 赞同：2
> 
> 时间：2012-08-10T06:05:37.170
> 
> 标签：clojure

我是 Clojure 的新手，正在尝试学习基础知识。让我感到困惑的一件事是理解数据结构和它们使用的函数之间的相关性。

例如，如果我创建一个新向量：

```
(def my-vec [1 2 3]) 
```

然后当我尝试打电话时`my-vec`：

```
(my-vec) 
```

我得到：

```
ArityException Wrong number of args (0) passed to: PersistentVector  clojure.lang.AFn.throwArity (AFn.java:437) 
```

我知道我可以传递一个参数，它似乎在调用`get`，但我怎么知道？args`PersistentVector`需要什么，我在哪里可以找到有关它的文档？

我试过：

```
(doc PersistentVector) 
```

但这又回来了`nil`。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T06:29:04.420

可以在 IPersistentVector 下找到文档：http: [//clojure.org/data_structures](http://clojure.org/data_structures)

特别是：对于一个参数的invoke()，向量实现IFn，它们假定它是一个索引，并在自身中查找，就好像第n次一样，即向量是它们索引的函数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:27:39.637

如果您将一个数字传递给 Clojure 向量，该向量将使用该数字作为其自身的索引并返回该索引处的值：

```
user> (def my-vec [1 2 3 4 5])
#'user/my-vec
user> (my-vec 2)
3 
```

这允许您编写这样的表达式，从 vec 中获取几个键

```
user> (map my-vec [1 3 4])
(2 4 5) 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2019-10-28T23:52:21.653

您可以将向量视为将索引映射`0, 1, 2, ..., N`到值，每个索引都有一个。抽象地说，它是映射的一个特殊情况，其中键是从 0 开始的整数。当用作函数时，该概念有助于查看 Clojure 中映射和向量之间的一致性：

```
(<ILookup-able-collection> <key-for-lookup>) 
```

JavaScript 做了类似的事情，允许您使用`[]`语法来查找数组或对象。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-08-10T06:17:26.930

`my-vec`不是一个函数，所以你应该调用：`my-vec` 不是`(my-vec)`

尝试： `(nth my-vec i)` 获取该向量的第 i 个元素。

链接：[第n个](http://clojure.github.com/clojure/clojure.core-api.html#clojure.core/nth)

# ios - iOS - 一个 SegmentedControl - 多个 ViewControllers

> ID：11896317
> 
> 赞同：1
> 
> 时间：2012-08-10T06:05:53.560
> 
> 标签：ios, uiviewcontroller, navigation, uisegmentedcontrol

我的 EventsMasterViewController 底部有一个 SegmentedControl，但我还需要它位于 EventsDetailViewController 上。

MasterViewController 有一个我用来列出事件的 TableView，SegmentedControl 充当“过滤器”。不过，点击一个事件需要调出Event Detail View，但我需要将SegmentedControl保持在底部以便导航。

最好的方法是什么？

![Balsamiq 线框](../Images/a6c6989ba7d8e02e2506dc2d9035822d.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:34:45.693

`UISegmentedControl`不打算用于“导航”，过滤是有道理的，但为什么要在没有过滤的细节视图上显示这些“过滤器”？

如果您需要导航使用`UITabBarController`...

如果您需要“过滤”，请使用`UISegmentedControl`并将其添加到`UINavigationController`.

您将需要`UISegmentedControl`为每个创建一个，`UIViewController`但请再次提醒您，详细视图上的“过滤器”没有意义。

**更新**

在我看来，您应该将其实现`UITabBarController`为用于导航的根控制器。然后将`UINavigationController`+`UIViewController`用于您的主/详细视图。并`UISegmentedControl`在您的主控制器中使用一个来修改表格视图输出。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:15:18.443

这取决于你打开细节视图的方法。如果它存在，那么它是不可能的，因为它总是从底部出现。如果是导航控制器，你可以将细节视图的框架设置得更小，让片段可以看到.注意边界。

# android - android GridView 在我的模拟器中不起作用：虽然没有显示错误，但不显示它

> ID：11896325
> 
> 赞同：0
> 
> 时间：2012-08-10T06:07:02.003
> 
> 标签：android, android-layout, android-gridview, android-adapterview

我什么都试过了。[我通过从开发者网站](http://developer.android.com/guide/topics/ui/layout/gridview.html)复制粘贴示例进行测试，但仍然没有工作。它只是显示一个空白空间，而 gridview 应该来。这是我的代码。
**EnterApp.java**

```
package com.locationremind.app;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.view.Window;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.GridView;
import android.widget.Toast;

public class EnterApp extends Activity {
    Context con;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        con=this;
        this.requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.enterapp);
        GridView gridView=(GridView) findViewById(R.id.grid_menu);
        gridView.setAdapter(new MyAdapter(this));
        gridView.setOnItemClickListener(new OnItemClickListener(){

            @Override
            public void onItemClick(AdapterView<?> parent, View v, int position,
                    long id) {
                // TODO Auto-generated method stub
                if(position==0)
                    startActivity(new Intent(getBaseContext(),LocationReminderActivity.class));
                else
                    Toast.makeText(getBaseContext(), "Item"+position+"not Allocated yet",Toast.LENGTH_SHORT).show();

            }

        });
    }

} 
```

**我的适配器.java**

```
package com.locationremind.app;

import android.content.Context;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.GridView;
import android.widget.TextView;

public class MyAdapter extends BaseAdapter {
    Context context;

    public MyAdapter(Context c) {
        context = c;

    }
    @Override
    public int getCount() {
        // TODO Auto-generated method stub
        return 0;
    }

    @Override
    public Object getItem(int pos) {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public long getItemId(int position) {
        // TODO Auto-generated method stub
        return 0;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        // TODO Auto-generated method stub
        TextView tv;
        /*ImageView imageView;
        WindowManager wm = (WindowManager) context.getSystemService(Context.WINDOW_SERVICE);
        Display display = wm.getDefaultDisplay();*/
        if(convertView==null)
        {    
            tv=new TextView(context);
            tv.setLayoutParams(new GridView.LayoutParams(85,85));

        }
        else
            tv=(TextView)convertView;
        tv.setBackgroundResource(thumbsID[position]);
        tv.setMinimumHeight(128);
        tv.setMinimumWidth(128);
        tv.setLayoutParams(new GridView.LayoutParams(85,85));
        tv.setText(text[position]);
        return tv;
    }

    private Integer[] thumbsID={R.drawable.gridview_icon,R.drawable.icn};
    private String[] text={"Select Location Using GPS","Select Location Using Wi-Fi",
                          "Select Location Using Network","Settings"};
} 
```

**输入应用程序.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical"
    android:id="@+id/Rlayout"
     >
    <ImageView 
        android:id="@+id/img_icon"
        android:src="@drawable/android"
        android:maxWidth="80dp"
        android:maxHeight="80dp"
        android:layout_width="64px"
        android:layout_height="64px"
        android:contentDescription="logo-icon"/>
    <GridView 
        android:id="@+id/grid_menu"
        android:layout_width="fill_parent" 
        android:layout_height="fill_parent"
        android:columnWidth="90dp"
        android:numColumns="auto_fit"
        android:verticalSpacing="10dp"
        android:horizontalSpacing="10dp"
        android:stretchMode="columnWidth"
        android:gravity="center"/>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:14:22.420

你的错误在于你的适配器

```
@Override
public int getCount() {
    // TODO Auto-generated method stub
    return 0;
} 
```

说您没有任何要显示的项目，这就是它不显示任何元素的原因。

解决这个改变你`getCount()`这样

```
@Override
public int getCount() {
    // TODO Auto-generated method stub
    return thumbsID.length;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:15:50.610

getCount 返回 0，这就是原因！

```
 public int getCount() {
        // TODO Auto-generated method stub
        return text.lenght;
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T06:25:17.173

您的价值不会到来，因为在您的适配器`getCount()`方法中返回 0。在其上放置一些值。或者，如果您将列表作为参数放入适配器中，您可以将该列表大小作为 getCount() 的返回值。

# http - 在 GHC7.4.1 上的 Haskell 中加载 Network.HTTP 模块

> ID：11896326
> 
> 赞同：3
> 
> 时间：2012-08-10T06:07:04.510
> 
> 标签：http, haskell, module

我正在尝试在 GHCi (Windows 7 / Haskell Platform 2012.2.0.0 ) 中加载一个文件，该文件开头为：

```
import Network.HTTP
import System.IO
... 
```

但我收到一个错误：

```
Could not find module `Network.HTTP' 
```

这个模块在 HTTP 包中，对吧？因此，当我运行`>cabal list HTTP`它时，会发现以下内容：

```
* HTTP
    Synopsis: A library for client-side HTTP
    Default available version: 4000.2.3
    Installed version: 4000.2.3
    Homepage: https://github.com/haskell/HTTP
    License: BSD3 
```

这意味着软件包安装正确？我做错了什么？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T06:45:14.160

由 cabal 安装该软件包不会使其自动可用于您的代码。（例如，您可能已经安装了某个软件包的 2 个版本，因此无法自动确定哪些可用以及哪些要隐藏）。

可能最简单的解决方案是也使用 cabal 来管理、构建和运行您的项目。请参阅[如何编写 Haskell 程序](http://www.haskell.org/haskellwiki/How_to_write_a_Haskell_program)，第 2 节描述（除其他外）如何设置 Cabal 所需的文件。特别是，您的 cabal 文件将包含与此类似的行：

```
build-depends: base, HTTP 
```

另请参阅[Cabal 用户指南](http://www.haskell.org/cabal/users-guide/)。

* * *

**编辑：**您可以尝试以下操作：

创建包含以下内容的文件`test.cabal`：

```
Name:                test
Version:             0.0
Description:         My network program
Build-Type:          Simple
Cabal-Version:       >=1.2

Executable test
  Main-is:           Test.hs
  Build-Depends:     base >= 4 && < 5, HTTP 
```

（替换`Test.hs`为您的源文件。）然后运行

```
cabal install --only-dependencies 
```

这将安装所有必需的依赖项。如果一切顺利，您可以配置和构建项目：

```
cabal configure
cabal build 
```

* * *

也许要与您的项目交互工作，您可以使用[cabal-ghci](http://hackage.haskell.org/package/cabal-ghci)。我还没有尝试过，但看起来它可能正是你所需要的。

# php - 通过将文本转换为图像来回显图像

> ID：11896327
> 
> 赞同：0
> 
> 时间：2012-08-10T06:07:05.843
> 
> 标签：php, image, text

我找到了将文本转换为图像的代码，我想回显结果

```
<?php
// Set the content-type
header('Content-type: image/png');

// Create the image
$im = imagecreatetruecolor(400, 30);

// Create some colors
$white = imagecolorallocate($im, 255, 255, 255);
$grey = imagecolorallocate($im, 128, 128, 128);
$black = imagecolorallocate($im, 0, 0, 0);
imagefilledrectangle($im, 0, 0, 399, 29, $white);

// The text to draw
$text = 'Testing...';
// Replace path by your own font path
$font = 'arial.ttf';

// Add some shadow to the text
imagettftext($im, 20, 0, 11, 21, $grey, $font, $text);

// Add the text
imagettftext($im, 20, 0, 10, 20, $black, $font, $text);

// Using imagepng() results in clearer text compared with imagejpeg()
imagepng($im);
imagedestroy($im);
?> 
```

例如，我将该代码保存到 image.php，我可以通过

```
echo"<img src='image.php'>"; 
```

但我不想那样做，因为如果我这样做了，我就不能分配可变文本。

有没有其他方法可以从该代码打印图像？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:10:52.903

在你的 image.php

代替

```
 $text = 'Testing...'; 
```

和

```
 $text=$_GET["text"]; 
```

和你要打印的代码

```
echo"<img src='image.php?text=AnotherText...'>"; 
```

希望这是你想要的？

编辑：

```
<form action="image.php" method="post">
<textarea name="text"></textarea>
<input type="Submit" value="Submit">
</form> 
```

在您的 image.php 文件中，而不是

```
$text=$_GET["text"]; 
```

采用

```
$text=$_POST["text"]; 
```

# c# - 在 DataTable GroupBy 之后 DataView 没有正确排序

> ID：11896331
> 
> 赞同：1
> 
> 时间：2012-08-10T06:07:19.433
> 
> 标签：c#, gridview, datatable, dataview

我目前正在从 SQL Server 获取数据并存储在 DataTable 中。我正在对该 DataTable 应用 GroupBy 操作，以便在 DataGrid 中以各种形式显示该表。制作子数据表后，我通过放置在数据视图中对数据表进行排序。对 DataView 进行排序后，我将其绑定到 DataGridView。但问题是 GroupBy 生成的行没有正确排序

我可以得到解决方案吗？

这是 DataView GroupBy 代码。

```
DataView view = new DataView(dtfullreport); // Datatable to dataview.
            var drdatedisp = from row in dtfullreport.AsEnumerable()
                             group row by row.Field<string>("Order_Date") into g
                             select new
                             {
                                 Order_Date = g.Key,
                                 totalQnty = g.Sum(a => a.Field<int>("Item_Quantity")),
                                 totalTax = g.Sum(a => float.Parse(a.Field<decimal>("TAXAMT").ToString())),
                                 totalAmt = g.Sum(a => float.Parse(a.Field<decimal>("VALAMT").ToString()))
                             };
            DataTable dtdatedisp = new DataTable();
            dtdatedisp.Columns.Add("Order_Date");
            dtdatedisp.Columns.Add("Item_Quantity");
            dtdatedisp.Columns.Add("TAXAMT");
            dtdatedisp.Columns.Add("VALAMT");
            dtdatedisp.Rows.Clear();
            foreach (var g in drdatedisp)
            {
                DataRow newRow1 = dtdatedisp.NewRow();
                newRow1[0] = g.Order_Date;
                newRow1[1] = g.totalQnty;
                newRow1[2] = String.Format("{0:0.00}", g.totalTax);
                newRow1[3] = String.Format("{0:0.00}", g.totalAmt);
                dtdatedisp.Rows.Add(newRow1);
            } 
```

在对 DataView 进行分组并放入 DataTable 之后，我正在对 DataTable 进行排序

这是排序代码。这将写在 GridView 排序事件中。

```
string sortingDirection = string.Empty;
    if (dir == SortDirection.Ascending)
    {
        dir = SortDirection.Descending;
        sortingDirection = "Desc";
    }
    else
    {
        dir = SortDirection.Ascending;
        sortingDirection = "Asc";
    }
            DataView sortedView = new DataView((DataTable)ViewState["dtdatedisp"]);
        sortedView.Sort = e.SortExpression + " " + sortingDirection;
        gv_reports_date.DataSource = sortedView; // Gridview datasource and binding
        gv_reports_date.DataBind(); 
```

我正在根据 Order_Date 列进行排序，但是在按降序对 DataView 进行排序后，输出是，

Datatable before Grouping

![enter image description here](../Images/4c96cdafef29a20d733d2ec4420127ba.png)

Default View before sorting. (Sorted according to date in database).

![enter image description here](../Images/4a93aa3d354fbcefbce3002e82b2df78.png)

After sorting in Descending order of Quantity Sold.

![enter image description here](../Images/4b7174e6e697f07b3de8844544b91b12.png)

After sorting in Ascending order of Quantity Sold.

![enter image description here](../Images/1bb6a27185ad811a65bea24c1a17c724.png)

The Rows which are Grouped are not being displayed in correct Sort Order

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-14T02:04:45.767

The answer is very simple. If you don't provide types for the columns in your sorted DataTable, string is assumed, and the resulting sort is a dictionary sort.

Numbers 10, 6, 30 are going to be ordered as {6, 10, 30} if sorted as integers, but {10, 30, 6} if sorted as strings.

Change:

```
DataTable dtdatedisp = new DataTable();
dtdatedisp.Columns.Add("Order_Date");
dtdatedisp.Columns.Add("Item_Quantity");
dtdatedisp.Columns.Add("TAXAMT");
dtdatedisp.Columns.Add("VALAMT"); 
```

to:

```
DataTable dtdatedisp = new DataTable();
dtdatedisp.Columns.Add("Order_Date", typeof(DateTime));
dtdatedisp.Columns.Add("Item_Quantity", typeof(int));
dtdatedisp.Columns.Add("TAXAMT", typeof(decimal));
dtdatedisp.Columns.Add("VALAMT", typeof(decimal)); 
```

... and it should start working.

[Here](http://msdn.microsoft.com/en-us/library/hfx3s9wd.aspx) you can read more about adding columns to a DataTable

# c# - 无法从动态创建的文本框中获取值

> ID：11896333
> 
> 赞同：0
> 
> 时间：2012-08-10T06:07:31.973
> 
> 标签：c#, asp.net

我使用以下代码在页面加载中以编程方式创建了一个文本框：

```
HtmlTableRow row = new HtmlTableRow();
HtmlTableCell cell1 = new HtmlTableCell();
HtmlTableCell cell2 = new HtmlTableCell();
cell1.Controls.Add(new Label() { ID = LableID1, Text = Name });
cell2.Controls.Add(new TextBox() { ID = TextBoxID1 });
row.Cells.Add(cell1);
row.Cells.Add(cell2);
dynamictable.Rows.Add(row); 
```

并且在按钮单击事件中，我试图从文本框中获取值并将该值分配给静态创建的另一个文本框，如下所示：

```
string id = TextBoxID1                       
TextBox tb = (TextBox)dynamictable.FindControl(id);                        
string valuetext = tb.Text;
TextBox1.Text = valuetext; 
```

收到对象引用错误，我的意思是，我无法找到控件并创建 TextBox。

我也尝试按以下方法创建 TextBox：

```
TextBox tb = (TextBox)form1.FindControl(id);                        
TextBox tb = (TextBox)this.form1.FindControl(id);                        
TextBox tb = (TextBox)page.FindControl(id); 
```

任何帮助都会对我有很大帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:26:32.413

为了使用动态控件，您需要完全了解[ASP.Net 页面生命周期](http://msdn.microsoft.com/en-us/library/ms178472.aspx)

动态控件**需要在每个帖子上重新创建**，负责为您创建动态控件的背后没有魔法，遗憾的是您必须明确创建它们。

请记住，页面只是一个**类，它在您执行请求时创建，并在响应发送回用户时销毁**。因此，每次都需要重新创建控件。这是在页面上静态声明控件时为您完成的。但是使用动态控件，您需要在每个帖子上重新创建它们

@BobTodd 提供的代码是一个很好的起点，但是 Microsoft 的建议是应该在`Page_Init`事件中创建动态控件，以便将它们的事件与其余的静态控件同步。

所以你的代码看起来像：

```
protected void Page_Init(object sender, EventArgs e)
{
 CreateTable();
} 
```

现在，请记住这个简单的愚蠢规则，在使用动态控件时，始终使用相同的**ID**。这非常重要，因为页面视图状态是根据控件的 ID 加载回来的。

要考虑的另一件事是，在事件中创建的所有控件在页面上的每个控件上调用`Init`该方法之前都不会加载它们的视图状态。`LoadViewState`这意味着如果您订阅`Page_PreLoad`or`Page_Load`事件，您可以安全地设置控件的属性，因为它们的值已经从视图状态加载，因此您的新值不会被覆盖。

这意味着在`PreLoad`事件之前分配给控件的任何属性都将被**页面 viewstate 值替换**。因此，在加载视图状态后设置动态控件属性被认为是一种很好的做法。

作为快速查看，检查 ASP.Net 页面生命周期：

![在此处输入图像描述](../Images/afa62431a600a310f1d40d9299398f6e.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:43:44.307

使用隐藏字段在java脚本中存储动态创建的文本框的值

还添加`runat="server"`隐藏字段

您可以从隐藏字段访问您的文本框值。

另一种方法是使用 javascript 将该值存储在查询字符串中，然后在后端读取它

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T06:14:27.760

我认为您可能需要先找到行，然后再找到单元格，然后再找到文本框。

意味着这样做：

```
TextBox tb = (TextBox)dynamictable.FindControl(id); 
```

您需要先找到特定的行，例如

```
// find by it or index etc
HtmlTableRow tb = (HtmlTableRow)dynamictable.FindControl(id);  

// Then find the Table cell and then find textbox.. 
```

我希望这能帮到您

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T06:15:55.213

您可能有一个创建表的方法，您需要在回发时调用它以确保一切都已设置。

```
protected HtmlTable dynamictable;
protected TextBox tb = new TextBox();

protected override void OnInit(EventArgs args)
{
 base.OnInit(args);
 CreateTableRows();
}

private void CreateTableRows()
{
 HtmlTableRow row = new HtmlTableRow();
 HtmlTableCell cell1 = new HtmlTableCell();
 HtmlTableCell cell2 = new HtmlTableCell();
 cell1.Controls.Add(new Label() { ID = LableID1, Text = Name });
 cell2.Controls.Add(tb });
 row.Cells.Add(cell1);
 row.Cells.Add(cell2);
 dynamictable.Rows.Add(row);
}

protected void OnClick(object sender, EventArgs args)
{
 return tb.Text;
} 
```

# asp.net-mvc - 什么设置了 ASP.NET MVC 应用程序中的 User.Identity.IsAuthenticated？

> ID：11896341
> 
> 赞同：10
> 
> 时间：2012-08-10T06:09:03.423
> 
> 标签：asp.net-mvc, forms-authentication

我正在使用 Facebook C# SDK，并通过他们的 Facebook 帐户对用户进行身份验证。一旦我执行了所有检查以“验证”它们，我就会打电话给`FormsAuthentication.SetAuthCookie(email, false);`

执行该调用是否允许我`User.Identity.IsAuthenticated`在我的操作中访问？如果我不打那个电话呢？

我有一些操作将根据其身份验证状态返回不同的视图，并希望确保`User.Identity.IsAuthenticated`在 MVC 4 应用程序中是可靠的。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-08-10T06:11:36.053

注册并在每个请求上执行的是[FormsAuthentication HTTP 模块。](http://msdn.microsoft.com/en-us/library/system.web.security.formsauthenticationmodule.aspx)`mode="Forms"`当您在 web.config 的`<authentication>`标签中指定时，此模块会自动注册。正是这个模块拦截了所有 401 响应并自动将用户重定向到登录页面（有时这不是所需的行为，因为最终结果是 HTTP 状态代码 200）。

所以回答你的问题：

> 执行该调用是否允许我在我的操作中访问 User.Identity.IsAuthenticated？如果我不打那个电话呢？

不完全是。此调用仅向响应发出表单身份验证 cookie。负责拦截请求的是 HTTP 模块，如果此请求包含 cookie，它将设置`User.Identity`.

# mysql - 加载数据 infile 不适用于日期时间周围的引号

> ID：11896344
> 
> 赞同：3
> 
> 时间：2012-08-10T06:09:20.860
> 
> 标签：mysql

我无法加载具有所谓有效日期时间格式的文件。例如，加载文件中的一行如下所示：4,0,'2012-08-09 22:34:28','2012-08-09 22:34:28'

相同的格式适用于插入语句。加载时这不是有效的日期时间格式吗？在任何情况下我们都必须指定默认格式吗？我应该投吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-26T22:41:25.627

在您的`LOAD DATA INFILE`声明中添加

```
OPTIONALLY ENCLOSED BY "'" 
```

语法见[手册](http://dev.mysql.com/doc/refman/5.1/en/load-data.html)：

```
LOAD DATA [LOW_PRIORITY | CONCURRENT] [LOCAL] INFILE 'file_name'
    [REPLACE | IGNORE]
    INTO TABLE tbl_name
    [CHARACTER SET charset_name]
    [{FIELDS | COLUMNS}
        [TERMINATED BY 'string']
        [[OPTIONALLY] ENCLOSED BY 'char']
        [ESCAPED BY 'char']
    ]
    [LINES
        [STARTING BY 'string']
        [TERMINATED BY 'string']
    ]
    [IGNORE number LINES]
    [(col_name_or_user_var,...)]
    [SET col_name = expr,...] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-26T22:36:13.170

OP回答：

> 啊！没关系。加载文件时，日期时间不会在其周围加上引号。因此，该行应该是 4,0,2012-08-09 22:34:28, 2012-08-09 22:34:28

（从“未答复”中删除）

# sencha-touch - ¨如何通过inExt.getCmp('myPanelID')中的id获取面板来动态设置面板的标题，设置标题的属性是什么

> ID：11896345
> 
> 赞同：0
> 
> 时间：2012-08-10T06:09:25.007
> 
> 标签：sencha-touch, extjs, sencha-touch-2

我有一个 Ext 面板，我想从一些变量中设置面板的标题。

我有`id`面板的，我需要从中设置面板的标题。

我正在寻找这样的东西，

`Ext.getCmp('myPanel').setTitle();`喜欢属性

```
Ext.define('Myapplication.view.Contacts', {
    extend: 'Ext.Panel',
    alias: 'widget.Contacts',
    id: 'myPanelID',
    ----
    -----
    ------
    -----

    listeners: [
        {
           fn: 'initComponent',
           event: 'initialize'
        }
    ]
},
initComponent: function(component, options, wstitle) {
    Ext.getCmp('myPanelID').header.title = ('Title of panel'); //Not working
    Ext.getCmp('myPanelID').setTitle= ('Title of panel'); //Not working
} 
```

总是出错：

**TypeError: 'undefined' 不是一个对象（评估'Ext.getCmp('myPanel').setTitle'）**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T05:34:08.307

`Ext.Panel`is a 而不是`Ext.Container`so，是容器而不是对象。如果你想改变像**`title`**你这样的人，可以尝试这样的事情，

```
Ext.define('Myapplication.view.Contacts', {
    extend: 'Ext.Panel',
    alias: 'widget.Contacts',
    id: 'myPanelID',
    ...

    html: '<div>Your Title</div>',
    ...

    initComponent: function(component, options, wstitle) {
        Ext.getCmp('myPanelID').setHtml('<div>Another Title</div>');
    }
}) 
```

**希望这些有所帮助。:)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T10:38:33.353

you got a syntax error. You write

```
Ext.getCmp('myPanelID').setTitle= ('Title of panel'); //Not working 
```

remove the = char

```
Ext.getCmp('myPanelID').setTitle('Title of panel'); //Works like a charm 
```

cheers, Oleg

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T06:38:00.400

`Ext.getCmp('myPanelID').setTitle`是一个函数。

所以...

`Ext.getCmp('myPanelID').setTitle('Title of panel');`

是你要找的

# html - IE 6 问题的 CSS hack？

> ID：11896346
> 
> 赞同：1
> 
> 时间：2012-08-10T06:09:31.420
> 
> 标签：html, css, internet-explorer-6

![在此处输入图像描述](../Images/cd45b2b46f3b6356cbd8cf2f1bfa84e9.png)

我有一个 HTML 页面，其中有 div 来显示帮助，如上图底部所示。

我还有组合框（选择输入），它位于 IE 6 中的此帮助 div 之上。

对于其他浏览器和 IE6+ 版本，它工作正常。

IE 6 是否有针对此问题的 CSS hack？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T06:28:45.077

这是 IE6 中一个非常著名的老错误。您需要做的是`iframe`在`div`. 这个错误有很好的记录。发生这种情况是因为在 IE6`select`中的框是 ActiveX 控件，并且本应位于页面的所有元素之上。`iframe`也是一个ActiveX控件，可以设置在`select`框的上方。[您可以在此网站http://www.javascriptjunkie.com/?p=5](http://www.javascriptjunkie.com/?p=5)上阅读有关黑客攻击的信息。

我很确定在 SO 上也有人问过类似的问题，但我找不到。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:26:23.737

IE 的所有版本都有详细记录的 CSS hack。

对于 IE6，使用下划线技巧——在选择器的前面放置一个下划线字符以仅针对 IE6。

这个页面有完整的细节： http: [//net.tutsplus.com/tutorials/html-css-techniques/quick-tip-how-to-target-ie6-ie7-and-ie8-uniquely-with-4-characters/](http://net.tutsplus.com/tutorials/html-css-techniques/quick-tip-how-to-target-ie6-ie7-and-ie8-uniquely-with-4-characters/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T06:15:55.217

据我所知，默认情况下 IE6 将放在其他元素之上。

当显示此 div.help 时，您可以隐藏它们**（显示：无）**

# java - 带有左对齐图标的 JLabel

> ID：11896357
> 
> 赞同：4
> 
> 时间：2012-08-10T06:10:47.077
> 
> 标签：java, swing, alignment, jlabel

我有一个 JLabel，其图标和文本与底部对齐，图标位于文本的中心，我如何让文本和图标左对齐以及图标下方的文本。

我当前的代码如下

```
label.setIcon(new ImageIcon(fileName));
label.setText("This text is going to be varying size and can be bit long");

label.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
label.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T06:23:29.997

![我作弊了](../Images/a43e4f1c8c6f2b3be7b917eba8152bf0.png)

如果你的意思是这样的，那我就作弊了。

基本上，我`JLabel`在 a 上创建了两个 s `JPanel`。使用`GridBagLayout`I 将两个标签相互对齐并锚定到`WEST`

如果您想重用它，很容易为此目的创建一个自定义组件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:26:46.010

您只是在代码中设置文本的位置..而不是它自己的图标

尝试将标签中的图标分开，然后使用 set bounds 或任何 formlayout 对其进行格式化

# haskell - Haskell 中的“enable_if”

> ID：11896361
> 
> 赞同：6
> 
> 时间：2012-08-10T06:11:01.373
> 
> 标签：haskell, enable-if

如何在 Haskell 中编写如下内容：

```
showSquare :: (Show a, Num a) => a -> String
showSquare x = "The square of " ++ (show x) ++ " is " ++ (show (x * x))

showSquare :: (Show a, not Num a) => a -> String
showSquare x = "I don't know how to square " ++ (show x) 
```

基本上，类似于C++ 中的[boost::enable_if](http://www.boost.org/doc/libs/1_50_0/libs/utility/enable_if.html)。

GHC 扩展没问题。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-10T06:45:17.030

你为什么要这个？类型检查器确保你永远不会调用在第一种情况下`showSquare`不是 a 的东西。[Haskell](https://stackoverflow.com/a/1894384/60462)[中没有](https://stackoverflow.com/a/1894384/60462)`Num`[`instanceof`](https://stackoverflow.com/a/1894384/60462)，因为所有内容都是静态输入的。

它不适用于任意类型：您只能定义自己的[类型 class](http://www.haskell.org/ghc/docs/7.0.1/html/users_guide/type-class-extensions.html)，例如

```
class Mine a where
  foo :: a -> String

instance (Num a) => Mine a where
  foo x = show x*x 
```

您可以为其他类添加更多实例，但您不能只`instance Mine a`为任意的`a`. 额外的`instance (Show a) => ...`也无济于事，因为也不允许[重叠实例](http://www.haskell.org/haskellwiki/GHC/AdvancedOverlap)（该链接描述了一种解决方法，但它需要相当多的额外机器）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-10T07:07:13.700

首先，根本不可能为同一函数的不同方程赋予不同的类型签名。任何函数只能有*一种*类型，无论它有多少方程。

其次，负约束在 Haskell 中没有（不会）有任何合理的意义。回想一下类约束的含义：

```
f :: Num a => a -> a -> a
f x y = x + y 
```

`Num a`在类型中`f`意味着我们可以将任何类型的类方法应用于`Num`类型的值`a`。我们有意识地不命名具体类型以获得通用行为。本质上，我们是在说“我们不关心`a`究竟是什么，但我们确实知道`Num`操作适用于它”。因此，我们可以在and上使用`Num`方法，但*仅此而已*，也就是说，除了 and 上的方法，我们不能使用*任何东西*。这就是类型类约束是什么以及为什么需要它们。他们正在为函数指定通用接口。`x``y`**`Num``x``y`**

 **现在考虑您的假想`not Num a`约束。这个声明带来了什么信息？好吧，我们知道`a`不应该`Num`。但是，这些信息对我们来说完全没有用。考虑：

```
f :: not Num a => a -> a
f = ??? 
```

你可以放置什么来代替`???`？显然，我们知道我们*不能*放置什么。但除了这个签名没有更多的信息

```
f :: a -> a 
```

唯一的操作`f`可能是`id`（嗯，`undefined`也是可能的，但那是另一回事）。

最后考虑你的例子：

```
showSquare :: (Show a, not Num a) => a -> String
showSquare x = "I don't know how to square " ++ (show x) 
```

我不是故意给出您示例的第一部分，请参阅我的回答中的第一句话。你不能有不同类型的不同方程。但仅此功能是完全没用的。您可以在这里安全地删除`not Num a`约束，它不会改变任何东西。

在静态类型的 Haskell 中，这种负约束的唯一用途是在您提供例如 -constrainted 变量时产生编译时`Int`错误`not Num a`。但我认为这没有用。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-10T12:45:38.787

如果我真的，绝对需要这样的东西（我不相信我曾经有过），我认为这是 Haskell 中最简单的方法：

```
class Show a => ShowSquare a where
  showSquare :: a -> String
  showSquare a = "I don't know how to square " ++ (show a)

instance ShowSquare Int where
  showSquare = showSquare'

instance ShowSquare Double where
  showSquare = showSquare'

-- add other numeric type instances as necessary

-- make an instance for everything else
instance Show a => ShowSquare a

showSquare' :: (Show a, Num a) => a -> String
showSquare' x = "The square of " ++ (show x) ++ " is " ++ (show (x * x)) 
```

显然，这需要重叠的实例。有些人可能会抱怨所需的样板，但它很少。5 或 6 个实例将涵盖大多数数字类型。

您可能可以使用[Advanced Overlap](http://www.haskell.org/haskellwiki/GHC/AdvancedOverlap) wiki 页面中的想法来完成某些工作。请注意，技术仍然需要明确列出实例，因此是否比这更好可能是个人喜好问题。

也可以通过编写 TH 拼接而不是函数来解决模板 haskell 的问题。拼接必须`reify ''Num`在调用站点确定`Num`实例是否在范围内，然后选择适当的函数。但是，使这项工作可能比手动写出 Num 实例更麻烦。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-10T13:10:11.580

依赖于“not a Num a”在 Haskell 中非常脆弱，而在 C++ 中并不脆弱。

在 C++ 中，类被定义在一个位置（关闭），而 Haskell 类型的类是开放的，并且可以在模块 C 中声明来自模块 A 的数据和来自模块 B 的类的实例。

类型类的（无扩展）解析有一个指导原则，即导入像“C”这样的模块永远不会改变类型类的先前解析。

如果任何递归导入的模块（例如从另一个包中）定义了“instance Num Custom”，则预期“不是 Num Custom”的代码将会改变。

多态性还有一个额外的问题。考虑模块“D”中的一个函数

```
useSS :: Show a => a -> Int -> [String]
useSS a n = replicate n (showSquare a)

data Custom = Custom deriving Show
use1 :: Int -> String
use1 = useSS Custom -- no Num Custom in scope 
```

现在考虑另一个包中的模块“E”，它导入了上述模块“D”

```
instance Num Custom
use2 :: Int -> String
use2 = useSS Custom -- has a Num Custom now 
```

应该评估什么`(use1 1)`？`(use2 1)`您想使用带有此类陷阱的语言吗？Haskell 试图通过有原则的设计来阻止这个陷阱的存在。

这种特殊的重载在 C++ 解析中无处不在，但正是 Haskell 旨在避免的。*使用*GHC 扩展可以做这样的事情，但是必须小心不要造成危险的陷阱，并且不鼓励这样做。**

# c# - Sharepoint 列表字段验证

> ID：11896369
> 
> 赞同：0
> 
> 时间：2012-08-10T06:11:50.177
> 
> 标签：c#, validation, sharepoint-2010

我创建了名为“CarInfo”的列表。假设我已经预订了凌晨 12:00 到凌晨 1:00，而另一个人也预订了同一时间和汽车。在这里，我需要验证其他人不应同时预订的字段。如何

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T08:35:45.010

如果您有汽车列表和单独的预订日历列表，则可以[将日历配置为“资源预订”日历](http://office.microsoft.com/en-us/sharepoint-server-help/enable-reservation-of-resources-in-a-calendar-HA101810595.aspx)。

（我不知道这个，但它看起来像一个方便的功能。）

编辑：再看一眼，看起来这使用了一个网络范围的“资源”列表，而不是你能够将它指向你的“CarInfo”列表。如果您可以灵活地将您的汽车放入“资源”列表中，您应该仍然可以使用它。

另一种方法是编写一个自定义列表项接收器，在项目创建/更新时检查所选时间是否与现有项目重叠，如果重叠则取消事件。

# iphone - 如何将 2 个对象添加到 tableview 单元格中

> ID：11896376
> 
> 赞同：0
> 
> 时间：2012-08-10T06:12:27.757
> 
> 标签：iphone, objective-c, ios, uitableview, xcode4.3

新的目标。我正在尝试将 2 个值放入表视图中。这是代码的一部分：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

    static NSString *CellIdentifier = @"Cell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];
    }
    cell.textLabel.font = [UIFont systemFontOfSize:14]; //Change this value to adjust size
    cell.textLabel.numberOfLines = 2;
    NSString *desc= @"Alight Destination =";
    cell.textLabel.text = desc,[alDescArray objectAtIndex:indexPath.row];    
    return cell;
} 
```

对于这一行`cell.textLabel.text = desc,[alDescArray objectAtIndex:indexPath.row];` ，表格只显示`Alight Destination =`而不添加`[alDescArray objectAtIndex:indexPath.row];`

我做错了什么部分请帮忙

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-10T06:17:13.260

你应该使用

```
cell.textLabel.text=[NSString stringWithFormate:@"%@ %@",desc,[alDescArray objectAtIndex:indexPath.row]; 
```

或者

```
NSString *desc=[NSString stringWithFormart: @"Alight Destination = %@",[alDescArray objectAtIndex:indexPath.row] ];
cell.textLabel.text = desc; 
```

`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:19:00.080

使用以下方式...

```
cell.textLabel.text = [NSString stringWithFormat:@"%@ %@",desc,[alDescArray objectAtIndex:indexPath.row]]; 
```

我想这会对你有所帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T07:17:31.787

猜测子类化 UITableViewCell 会很有用。在下面找到代码希望它会有所帮助..！

```
# INTERFACE FILE

#import <UIKit/UIKit.h>

@interface CustomTableViewCell : UITableViewCell {  
    UIImageView *imageView;
    UILabel *titleLabel1;
    UILabel *titleLabel2;
}

- (id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier;
- (void)setValuesForCell:(YourModal*)agent withIndexPath:(NSIndexPath*)indexPath;

@property(nonatomic,retain) UIImageView *imageView;
@property(nonatomic,retain) UILabel *titleLabel1;
@property(nonatomic,retain) UILabel *titleLabel2;

@end

#IMPLEMENTATION FILE

@implementation CustomTableViewCell
@synthesize titleLabel1,titleLabel2,imageView;

- (id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier {

    self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];
    if (self) {
    // Your initialisation if any.
    }
    return self;
}

- (void)setValuesForCell:(YourModal*)modal withIndexPath:(NSIndexPath*)indexPath{
    titleLabel1.text=modal.name;
    titleLabel2.text=modal.description;
    imageView.image=modal.image;

        //Other values you want set from modal
}

- (void)setSelected:(BOOL)selected animated:(BOOL)animated {
    [super setSelected:selected animated:animated];
    // Configure the view for the selected state.
}

- (void)dealloc {
    [super dealloc];
    [titleLabel1 release];
    [titleLabel2 release];
//Other memory releases
}

@end 
```

在您的 xib 中，您可以将 CustomTableViewCell 作为您的类加载以在 tableview 上查看

# c# - Forms - How to POST default field values in C#

> ID：11896381
> 
> 赞同：-1
> 
> 时间：2012-08-10T06:13:05.327
> 
> 标签：c#, asp.net, forms, post

I'm debugging an html form. I need to POST the form with the default values (some of the field values are set with JavaScript).

How can I do this programmatically in C#? I want to have an action similar to pressing the "SUBMIT" button. I'm using a WebBrowser of my own.

Thanks.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:39:13.243

You could do it via JavaScript in the HTML, or the browser developer tools:

```
document.getElementByTagname('form').submit(); 
```

Just put that in a script-tag at the bottom of your HTML, and it will post the form. Not really sure why you can't just click the "submit" button, though..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:37:42.710

I suppose what you want is to submit your form with the default values, though it needs to be submitted through server side i.e. c#?

You can avoid any client side processing for your form by changing certain attributes of the form tag. **[This post](https://stackoverflow.com/questions/9465121/how-to-change-the-form-action-programatically-according-to-session-variable)** has some useful information for your taste.

# facebook - Chrome/IE 不会在 Facebook 应用程序中跨非 https 请求任何资源

> ID：11896382
> 
> 赞同：0
> 
> 时间：2012-08-10T06:13:13.297
> 
> 标签：facebook, ssl, https, facebook-apps

Facebook 应用程序/页面选项卡和 Chrome/Internet Explorer 用户在其个人资料中检查了“安全浏览”设置存在问题，但不仅如此。

当 facebook 通过 https 协议打开我们的应用程序时，问题就出现了。假设我们有应用程序和我们所有的资源都可以通过 https 访问。当用户访问我们的应用程序时，**一切正常，但没有 iframe/JS 小部件，由没有 SSL 的外部站点提供，**例如一些计数器、即时消息小部件等。

如果小部件来自的页面不允许我们生成 ssl 版本代码，并且由于缺少证书/启用 ssl 等而仅将 http 更改为 https 不起作用怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-06-25T09:58:30.927

TripAdvisor 小部件

答案是：用 TripAdvisor 脚本替换这个脚本标签

这 ：

```
<script src="http://www.jscache.com/wejs?wtype=sswidecollectreview&amp;uniq=612&amp;locationId=1480219&amp;lang=en_US&amp;border=true"></script> 
```

TripAdvisor 脚本中的此标签

```
<script src="https://www.tripadvisor.com/WidgetEmbed-sswidecollectreview?uniq=831&locationId=308116&border=true&lang=en_US"></script> 
```

并添加 [ S ] 字符以链接图像 [https]，如下所示：

```
<a target="_blank" href="http://www.tripadvisor.com/"><img src="https://www.tripadvisor.com/img/cdsi/img2/branding/medium-logo-12097-2.png" alt="TripAdvisor"/></a> 
```

对此：

```
<a target="_blank" href="http://www.tripadvisor.com/"><img src="https://www.tripadvisor.com/img/cdsi/img2/branding/medium-logo-12097-2.png" alt="TripAdvisor"/></a> 
```

这是工作 ...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:34:08.810

基本上浏览器中的“挂锁”/SSL 指示器表明**整个页面是安全**的。这意味着，在没有浏览器明确警告的情况下，页面上不会包含任何不安全的内容。

可能存在特定于浏览器的解决方法（也称为错误），但依靠它们来使您的页面正常工作并不是一个好主意。

最好的“解决方法”可能只是联系托管小部件的人并告知他们您的问题，或者如果可能的话，只是将小部件简单地托管在您自己的安全站点上。

# java - 向用户显示 sd 卡中的特定文件夹并允许选择文件

> ID：11896386
> 
> 赞同：0
> 
> 时间：2012-08-10T06:13:38.457
> 
> 标签：java, android, sd-card

在我的游戏中，当用户保存特定模式时，我将文件（.xml）保存到 sd 卡中的文件夹中。现在在加载保存的文件时，我需要向用户显示所有保存的文件。我想在从图库中选择图像时像您一样展示它们，如下所示

```
 Intent intent = new Intent();
     intent.setType("image/*");
     intent.setAction(Intent.ACTION_PICK);
     startActivity(intent); 
```

我可以做这样的事情吗？我已经搜索过，但没有找到。帮助将不胜感激。

**注意**：我可以通过在我的应用程序 listView 中获取所有保存的文件并显示给用户来做到这一点，但我想为此给予第二优先级。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T07:48:48.537

没有内置的系统应用程序。理论是不将用户暴露给文件系统。如果您确实想这样做并且不编写自己的实现，那么您可以使用[OpenIntents](http://code.google.com/p/openintents/)并且在[OI 文件管理器](http://www.openintents.org/en/node/159)中当然存在用户可能没有安装应用程序的问题，因此您必须准备好提示他们安装它. 您的用户可能不明白这一点。

我确实在我的应用程序 IpBike 中使用了这种方法。我认为我的用户有一些大脑并且能够应付文件系统，并且文件导入和导出是一个整体功能。

# c++ - 定义类的成员函数？

> ID：11896391
> 
> 赞同：2
> 
> 时间：2012-08-10T06:14:12.813
> 
> 标签：c++, c, function, member-functions

我正在写一本关于 c++ 的书，为了解决问题，我总是被要求在 xxxxxx.h 文件中声明成员函数的原型，并在 xxxxxx.cpp 文件中正确定义函数体。在 .h 文件中定义成员函数有什么害处或缺点吗？如果没有，在 .cpp 文件中定义它们有什么好处或优势吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T06:16:53.733

如果在标头中定义方法，则必须将其标记为`inline`或在类定义中定义它们以防止多个定义：

```
//A.h
class A
{
    void f()
    {
    }
    void g();
};
inline void A::g() 
{
}; 
```

除此之外，这是编码风格的问题。你通常保持你的标题干净，只提供一个接口来处理类，并抽象出实现细节。

*一般来说。*在某些情况下，您必须在标头（模板）中定义函数，或者在需要时（以允许更好的编译器优化）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-10T06:18:35.833

如果您总是将代码编写在`.h`文件中，您将永远无法执行某些技术，例如`forward declaration`. 由于在标头中编写代码时不能使用前向声明，因此您将无法解决`cross dependencies`.

因此，您需要在`.h`文件中包含您需要的所有内容。将此文件包含在其他文件中将包含已包含的所有内容。因此，在许多情况下，您代码中的任何微小更改都会导致几乎完全重新编译。

此外，更难阅读`.h`文件中的代码，因为您希望在 中看到类的接口`.h`，而不是实现。

# python - 每个环境的 web2py 配置不适用于调度程序/脚本

> ID：11896394
> 
> 赞同：1
> 
> 时间：2012-08-10T06:14:21.047
> 
> 标签：python, web2py

我一直在使用推荐的方法在 web2py 中为每个环境设置数据库连接：

```
settings = dict()
if request.env.http_host == 'http://127.0.0.1:8000'
     settings['development']=True
else:
     settings['development']=False
if settings['development']:
     db = DAL('sqlite://....')
else:
     db = DAL('mysql://....') 
```

在非开发环境中使用调度程序时，数据库连接失败，因为它使用端口 8000 配置。

同样，在尝试运行脚本时，我也会遇到相同的错误。这是我最后一次尝试：

```
python web2py.py -S app -M -N -R -L options.py -P 443 applications/testscript.py

"Can't connect to MySQL server on '127.0.0.1' (10061)"� 
```

是否有推荐的方法来为每个环境注入一个将在 Web 访问之外应用的配置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T08:10:25.050

在页面上临时插入以下内容：

```
{{=response.toolbar()}} 
```

然后在开发和生产中，单击“请求”按钮并检查其中的值`request.env`以识别两个环境之间的不同之处。一些可能的候选者是“server_signature”、“server_software”和“web2py_path”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-06T13:58:10.127

我也有同样的担忧，我首先想到的是`request.env.server_name`. 但：

*   启动调度程序时此变量不存在
*   它可以被替换，`request.env.cmd_options.server_name`但首先，服务器不存在这个，其次，在它启动后，调度程序不再找到它......

然后我找到了这个 Q/A 并尝试按照 Anthony 的建议解决它：

*   启动调度程序时“server_signature”不存在
*   启动调度程序时“server_software”不存在

最后，“web2py_path”完成了这项工作，即使对我来说，针对完整安装路径进行测试并不是一个真正的“干净”解决方案......

```
if request.env.web2py_path == '/your/path/on/server/to/web2py'
    settings['development']=False
else:
    settings['development']=True 
```

现在它应该可以工作了，但我陷入了这个问题：[Can not run the web2py scheduler using postgresql database](https://stackoverflow.com/questions/28169849/can-not-run-the-web2py-scheduler-using-postgresql-database)

# java - Hibernate 将数据库列重置为默认值？

> ID：11896398
> 
> 赞同：0
> 
> 时间：2012-08-10T06:14:42.590
> 
> 标签：java, mysql, sql, hibernate

我正在尝试复制和诊断用户的问题，所以请多多包涵。我自己无法复制这个问题。

让“用户”是一个普通的旧 Java 对象 (POJO)：Java 中的一个类和 SQL 中的一个表。我的猜测/怀疑是如果您在 Hibernate 事务中运行以下命令：

```
User user = (User) hsi.s.load(User.class, userId);
user.setProperty(value);  // this updates one value in this row of the database table 
```

然后 Hibernate 或 SQL 有时会将“用户”的属性重置为其默认值。这是我所看到的唯一解释，尽管我承认我自己无法重现这个问题。

有没有人听说过这样的事情发生，Hibernate 或 SQL 将属性重置为其默认值？谢谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T07:30:12.053

不。很难说“不”，因为证明某事不存在比证明某事存在更难，但我相信这是正确的答案:-) 除非你有设置字段的代码回到它们的默认值，Hibernate 将始终尊重您在数据库中拥有的内容。意思是，如果您确实有一个不扩展任何其他类的 POJO，在默认的无参数构造函数中没有任何内容，那么它唯一要做的就是为属性提供 getter/setter 并且您没有其他代码（例如，侦听器）更改它，那么 Hibernate 无法将值“恢复”为默认值。

如果这真的发生了，这里是我关于如何找到有问题的代码的建议：

1) 设置一个新项目，包含一个简单的 persistence.xml 文件、您的 pojo 和一个可以从命令行运行的 Java 类，该类将检索、打印和更新您的 pojo 中的属性。如果定义了非默认值，*则不*应将这些值重置为默认值。如果这种情况仍然发生，请检查您的数据库中的触发器。

2) 下载 Hibernate 源代码并启动调试器。进入每条指令，除了那些涉及 JVM 的指令（在这种情况下这些指令没有多大帮助）。也许您会在某个地方找到一个侦听器，或者在帮助程序中找到一个代码，或者正在执行您不知道的其他事情。

# objective-c - 如何以编程方式检查 iphone 中的空气强度？

> ID：11896399
> 
> 赞同：1
> 
> 时间：2012-08-10T06:14:43.687
> 
> 标签：objective-c, ios

我正在开发一个 iPhone 应用程序，它使用设备的麦克风来测量吹气的强度。

谁能告诉我如何找到吹气的强度。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T07:16:29.353

我不久前研究过这个。您应该考虑查看 Apple 的官方示例代码 arioTouch。您最终将使用 FFT（快速傅立叶变换）做一些事情。

[林奇爸爸](http://developer.apple.com/library/ios/#samplecode/aurioTouch/Introduction/Intro.html)

希望这可以帮助。

# linux - 下一个函数调用中的错误参数计数

> ID：11896402
> 
> 赞同：1
> 
> 时间：2012-08-10T06:14:58.597
> 
> 标签：linux, shell, ksh, aix

我有函数 ShowJobHistory，它是从另一个调用的。在第一次调用这个函数时一切正常，它计算正确数量的参数，根据我的需要解析它们。但是在接下来的调用中，即使我指定了多个参数，此函数也会将它们视为一个，并且在解析它们后看起来（ jb.RJBGID=12871 12873 12868 ）。我的功能有什么问题？

```
ShowJobHistory () {
conditions=
argCount=$#
if [[ $argCount -ne 0 ]] then
    if [[ $1 == [iI] && $argCount -eq 3 ]] then
        if [[ $2 -lt $3 ]] then
            conditions="( jb.RJBGID between $2 and $3 )"
        else
            conditions="( jb.RJBGID between $3 and $2 )"
        fi
    else
        conditions="("
        for nr in $@
        do
            conditions="${conditions} jb.RJBGID=${nr} or "
        done
        conditions=${conditions%or }
        conditions=$conditions")"
    fi

    typeset query 
```

下面的函数调用 ShowJobHistory。

```
ShowJobHistoryMenu () {
typeset jobID
save=
echo "Enter jobIDs" 
read jobID?"Enter jobID: "  
while [[ $save != [nNyY] ]]
do
    read save?"Save output to file? [y/n]"
done
if [[ save = [yY] ]] then
    ShowJobHistory $jobID | tee $TRACEDIR/output.txt
else
    ShowJobHistory $jobID
fi
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T09:14:00.863

在您的 shell 脚本中设置`IFS=" "`并检查问题是否已解决。

否则尝试此解决方法：

```
for nr in `echo $@` [[ Similar to: for nr in $@ ]]
do
   conditions="${conditions} jb.RJBGID=${nr} or "
done 
```

否则：

```
set -A array $@
for nr in `echo ${array[@]}` [[ Similar to: for nr in ${array[@]} ]]
do
  conditions="${conditions} jb.RJBGID=${nr} or "
done 
```

得到总数。您可以使用的数组中的元素：`echo ${#array[@]}` 并记住`unset array`在再次使用数组之前（虽然`set -A array`每次调用它都会这样做，只是为了更安全）。

尝试上面给出的所有解决方案，如果还有一些未解决的问题，请告诉我。

# jquery-plugins - 用于对 Web 内容进行分栏和分页的插件

> ID：11896407
> 
> 赞同：0
> 
> 时间：2012-08-10T06:15:45.713
> 
> 标签：jquery-plugins

嗨，我需要对报纸等网页内容进行分类，请建议 css 属性可以在 IE 浏览器中使用，或者任何人都可以建议任何插件来对网页内容进行分类和分页。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T09:15:07.450

目前 IE 不支持任何 CSS 用于报纸栏目。然而，IE 10 将：

[http://caniuse.com/#feat=multicolumn](http://caniuse.com/#feat=multicolumn)

可以通过网络搜索轻松找到替换它的 jQuery 插件：

[https://www.google.de/search?q=jquery+newspaper+columns](https://www.google.de/search?q=jquery+newspaper+columns)

# java - JSON - 获取价值

> ID：11896415
> 
> 赞同：2
> 
> 时间：2012-08-10T06:15:56.043
> 
> 标签：java, android, json

> **可能重复：**
> [在 android 中读取 Json 数组](https://stackoverflow.com/questions/4244879/reading-a-json-array-in-android)

我尝试使用 JSON 从字符串中获取字段名称。我设法获得了价值，但如何获得该领域。例如：

字符串字符串：

```
{
    "IndustryDetails": [
        {
            "industryId": "1",
            "industryName": "Bird Nest",
            "productProfilePhoto": "",
            "industryIcon": "",
            "industryFields": {
                "items": [
                    {
                        "selectionItem": {
                            "Product Name": "燕碎 - YanShu                   ",
                            "Type": "盏片 - pcs",
                            "Grade": "碎片 - Broken",
                            "Farm": "DVS-EBN-000003",
                            "Made in": "Malaysia",
                            "Manufactured Date": "2012-08-09",
                            "Expiry Date": "2012-08-09",
                            "Export Permit": "1234",
                            "Import Permit": "9999"
                        }
                    }
                ]
            }
        }
    ]
} 
```

通过这样做，我设法获得了价值。

```
JSONObject json_data = new JSONObject(strjson);
JSONArray nameArray = json_data.names();
JSONArray valArray = json_data.toJSONArray(nameArray).getJSONArray(0);
Log.i(MainActivity.class.getName(),
                            "Number of entries " + valArray.length());
            for (int i = 0; i < valArray.length(); i++) {
                    JSONObject jsonObject = valArray.getJSONObject(i);
                    Log.i(MainActivity.class.getName(), " industryId = "+jsonObject.getString("industryId"));
                    Log.i(MainActivity.class.getName(), " industryName = "+jsonObject.getString("industryName"));
                    Log.i(MainActivity.class.getName(), " industryStatus = "+jsonObject.getString("productProfilePhoto"));
                    Log.i(MainActivity.class.getName(), " industryDescription = "+jsonObject.getString("industryIcon"));
                    Log.i(MainActivity.class.getName(), " industryIconFilepath = "+jsonObject.getString("industryFields"));                        
} 
```

我如何获得字段名称。假设我想要“产品名称”、“类型”、“等级”等

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:44:11.913

您可以通过返回 JSONArray 的[.names()](http://developer.android.com/reference/org/json/JSONObject.html#names%28%29)获取所有属性名称。借助数组，您可以获得给定值的适当属性名称（假设该值是唯一的）。

# spring - Spring 声明式与注解

> ID：11896417
> 
> 赞同：0
> 
> 时间：2012-08-10T06:16:02.097
> 
> 标签：spring, annotations

我是 Spring 3 的新手，它提供了一堆注释，避免了声明性方法。基于注释的方法和声明性方法之间到底有什么区别？基于注释有什么缺点吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T08:22:48.807

使用注释是使用声明性方法的一种方法，与使用程序化方法相反，在您的方法中涉及额外的 Java 代码：

声明式方法：

```
@Transactional
public void transferMoney(Long debitorId, Long creditorId, BigDecimal amount) {
    Account debitor = accountDAO.findById(debitorId);
    Account creditor = accountDAO.findById(creditorId);
    creditor.add(amount);
    debitor.remove(amount);
} 
```

程序化方法：

```
public void transferMoney(Long debitorId, Long creditorId, BigDecimal amount) {
    transactionTemplate.execute(new TransactionCallbackWithoutResult() {
        @Override
        protected void doInTransactionWithoutResult(TransactionStatus status) {
            Account debitor = accountDAO.findById(debitorId);
            Account creditor = accountDAO.findById(creditorId);
            creditor.add(amount);
            debitor.remove(amount);
        }
    });
} 
```

# ios - 如何将数据存储在 plist 中并将它们用于表格视图

> ID：11896421
> 
> 赞同：0
> 
> 时间：2012-08-10T06:16:38.770
> 
> 标签：ios, xcode4.4

我应该在是否选择从 Plist 中选择数据并在表格视图中将其用于不同的数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T07:00:41.997

要将数据写入 plist，如果您已经在[NSDictionary](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/nsdictionary_Class/Reference/Reference.html#//apple_ref/occ/instm/NSDictionary/writeToFile%3aatomically%3a)或[NSArray](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSArray_Class/NSArray.html#//apple_ref/occ/instm/NSArray/writeToFile%3aatomically%3a)中有数据，它们各自的`writeToFile`方法会执行此操作。同样要从 plist 中读取，它与相应的`dictionaryWithContentsOfFile`or一样简单`arrayWithContentsOfFile`。

[Apple Property List Programming Guide](https://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/PropertyLists/Introduction/Introduction.html%23//apple_ref/doc/uid/10000048i)中进一步介绍了该主题。

无论如何，要写入 plist（请注意，我正在从`Documents`文件夹中写入 plist，因为您无法将文件写入捆绑包）：

```
NSArray *array = [NSArray arrayWithObjects:@"Mo", @"Larry", @"Curly", nil];
NSString *documentFolder = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];
NSString *documentPath = [documentFolder stringByAppendingPathComponent:@"test.plist"];

[array writeToFile:documentPath atomically:YES]; 
```

从 plist 中读取（注意，我碰巧正在阅读我在上面创建的 plist，但显然你可以从你的包（使用 Rocky 的技术）或你的`Documents`文件夹中读取 plist）：

```
NSString *documentFolder = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];
NSString *documentPath = [documentFolder stringByAppendingPathComponent:@"test.plist"];

_array = [NSArray arrayWithContentsOfFile:documentPath]; 
```

然后，您可以使用该数组（或字典，如果您使用它）来填充您的表格视图。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-10T07:22:09.193

```
NSArray *array = [NSArray arrayWithContentsOfFile:[[NSBundle mainBundle] pathForResource:@"plistfilename" ofType:@"plist"]]; 
```

它会帮助你。

# symfony1 - 无法访问 Doctrine 中的连接表列

> ID：11896424
> 
> 赞同：0
> 
> 时间：2012-08-10T06:16:53.063
> 
> 标签：symfony1, doctrine, symfony-1.4, doctrine-1.2

这是我在教义中查询的两个表的架构。

我的架构中有两个表，称为分类和课程，它们具有多对一的关系[应该真的是一对一的，但这就是它的编码方式]。我的查询编码`TaxonomyTable.class.php`如下：

```
 $this->createQuery('t.*, l.lid')
      ->innerJoin('t.Lesson l')
      ->where('t.section = ?','specific_section'); 
```

查询按原样执行，挑战实际上是访问课程盖子。假设查询被执行并存储在一个变量中`$TaxonomyResults`；从之前的帖子中，我了解到可以这样做：

```
foreach($TaxonomyResults as $TaxonomyResult)
{
   echo $TaxonomyResult->getLesson()->getLid();
} 
```

但简单地说，这对我不起作用，我不知道为什么。在我的屏幕上呈现的错误是：

> “Doctrine_Collection”没有方法“getLid”。

你觉得我在这里做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T09:27:24.613

我看不到你的架构。

我猜分类法与课程有一对多的关系（分类法是一个）。

所以一个分类对象可以有很多课，

并且`$TaxonomyResult->getLesson()`应该返回课程对象（Doctrine_Collection），而不是课程对象。

您可以像数组一样获取课程对象：

```
$lessons = $TaxonomyResult->getLesson();

echo $lessons[0]->getLid(); 
```

# sql-server - 在另一个存储过程中调用存储过程

> ID：11896428
> 
> 赞同：2
> 
> 时间：2012-08-10T06:17:12.513
> 
> 标签：sql-server, stored-procedures

我有一个存储过程来获得 gpa 的结果，将课程的学分乘以分数：

```
ALTER PROCEDURE dbo.GpaCreditFromScore
(
    @score INT,
    @credits INT, 
    @gpaCredit INT OUTPUT
)
AS 
IF (@score < 60)
BEGIN
    SET @gpaCredit = 0.0
END
ELSE IF (@score < 62)
BEGIN
    SET @gpaCredit = 1.0 * @credits
END
ELSE IF (@score < 65)
BEGIN
    SET @gpaCredit = 1.7 * @credits
END
ELSE IF (@score < 67)
BEGIN
    SET @gpaCredit = 2.0 * @credits
END
ELSE IF (@score < 70)
BEGIN
    SET @gpaCredit = 2.3 * @credits
END
ELSE IF (@score < 75)
BEGIN
    SET @gpaCredit = 2.7 * @credits
END
ELSE IF (@score < 80)
BEGIN
    SET @gpaCredit = 3.0 * @credits
END
ELSE IF (@score < 85)
BEGIN
    SET @gpaCredit = 3.3 * @credits
END
ELSE IF (@score < 90)
BEGIN
    SET @gpaCredit = 3.7 * @credits
END
ELSE IF (@score < 95)
BEGIN
    SET @gpaCredit = 4.0 * @credits
END
ELSE IF (@score <= 100)
BEGIN
    SET @gpaCredit = 4.3 * @credits
END 
```

另一个计算所有学生 gpa 的存储过程乘以学分：

```
ALTER PROCEDURE dbo.ComputeGpa
AS
    ;WITH x AS 
(
  SELECT StudentID, Score, rn = ROW_NUMBER() OVER 
   (PARTITION BY StudentID, CourseID 
    ORDER BY Semester DESC) 
  FROM dbo.UndergraduateScoreSet
)
SELECT StudentID, Gpa /* call dbo.GpaCreditFromScore here to get @gpaCredit */
FROM x
WHERE rn = 1
GROUP BY StudentID; 
```

由于逻辑相当复杂，我不知道如何实现这一点。请帮忙~

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:24:01.527

可悲的是，因为 proc dbo.GpaCreditFromScore 接受并返回标量参数，这意味着您必须通过使用像光标这样可怕的东西来遍历学生以计算所有分数。

正如@Damien 提到的，您应该更改`dbo.GpaCreditFromScore`为用户定义的函数，如下所示：

```
CREATE FUNCTION dbo.GpaCreditFromScore
(
    @score INT,
    @credits INT 
)
RETURNS INT 
AS 
    BEGIN
        DECLARE @gpaCredit INT
        IF (@score < 60)
        BEGIN
            SET @gpaCredit = 0.0
        END
        ELSE IF (@score < 62)
        BEGIN
            SET @gpaCredit = 1.0 * @credits
        END
        ELSE IF (@score < 65)
        BEGIN
            SET @gpaCredit = 1.7 * @credits
        END
        ELSE IF (@score < 67)
        BEGIN
            SET @gpaCredit = 2.0 * @credits
        END
        ELSE IF (@score < 70)
        BEGIN
            SET @gpaCredit = 2.3 * @credits
        END
        ELSE IF (@score < 75)
        BEGIN
            SET @gpaCredit = 2.7 * @credits
        END
        ELSE IF (@score < 80)
        BEGIN
            SET @gpaCredit = 3.0 * @credits
        END
        ELSE IF (@score < 85)
        BEGIN
            SET @gpaCredit = 3.3 * @credits
        END
        ELSE IF (@score < 90)
        BEGIN
            SET @gpaCredit = 3.7 * @credits
        END
        ELSE IF (@score < 95)
        BEGIN
            SET @gpaCredit = 4.0 * @credits
        END
        ELSE IF (@score <= 100)
        BEGIN
            SET @gpaCredit = 4.3 * @credits
        END
        RETURN @gpaCredit
    END 
```

您的 Stored Proc 不太有效（Credits 从何而来？），但现在的想法是在您的 CTE 字段上使用 UDF，如下所示：

```
ALTER PROCEDURE dbo.ComputeGpa
AS
    ;WITH x AS 
    (
      SELECT StudentID, Score, 9 AS Credits, rn = ROW_NUMBER() OVER 
       (PARTITION BY StudentID, CourseID 
        ORDER BY Semester DESC) 
      FROM dbo.UndergraduateScoreSet
    )
    SELECT StudentID, dbo.GpaCreditFromScore(Score, Credits) AS GpaCredit
    FROM x
    WHERE rn = 1
    GROUP BY StudentID; 
```

**EDIT** OP 发现了一个错误——当然，由于 GROUP BY，我们需要一个聚合。谢谢！：

```
 SELECT StudentID, SUM(dbo.GpaCreditFromScore(Score, Credits)) AS GpaCredit 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:51:20.657

这可能对你有用

[使用嵌套存储过程导致调用存储过程Sql Server 2008](https://stackoverflow.com/questions/4880627/use-nested-stored-procedure-results-in-calling-stored-procedure-sql-server-2008)

你可以这样使用

```
IF .....
INSERT #Tbl (Fields)
EXEC usp_SelectProc1 @Arg1, Arg2...Argn
ELSE
INSERT #Tbl (Fields)
EXEC usp_SelectProc2 @Arg1, Arg2...Argn 
```

# python - 如何在pyparsing中迭代ParseResults

> ID：11896431
> 
> 赞同：5
> 
> 时间：2012-08-10T06:17:24.277
> 
> 标签：python, iteration, pyparsing

我的 PyParsing 语法有以下测试代码：

```
from pyparsing import Word, nums, alphas, delimitedList, Group, oneOf
from pprint import pprint

field = Word(alphas)("field")
operator = oneOf("= +")("operator")
string_value = Word(alphas)("string")
int_value = Word(nums).setParseAction(lambda t: int(t[0]))("int")
value = (string_value | int_value )("value")
expression = Group(field + operator + value)("expression")
grammar = Group(delimitedList(expression, delim="&&"))("expr_list")

def test(s):
    print "Parsing '{0}'".format(s)
    tokenized = grammar.parseString(s)
    for f in tokenized:
        e = f.expression
        pprint(dict(e.items()))

if __name__ == "__main__":
    test("foo=1")
    test("foo=1 && bar=2")
    test("foobar=2 && snakes=4") 
```

输出非常出乎意料 - 似乎我只得到*最后一个*表达式`tokenized`：

```
Parsing 'foo=1'
{'field': 'foo', 'int': 1, 'operator': '=', 'value': 1}
Parsing 'foo=1 && bar=2'
{'field': 'bar', 'int': 2, 'operator': '=', 'value': 2}
Parsing 'foobar=2 && snakes=4'
{'field': 'snakes', 'int': 4, 'operator': '=', 'value': 4} 
```

我该如何解决？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T06:31:28.217

未经测试，但我认为你只需要改变：

```
expression = (field + operator + value)("expression") 
```

到：

```
expression = Group(field + operator + value)("expression") 
```

编辑：好的，另一个变化。您的迭代代码会查找名为“表达式”的多个项目。在 '&&' 分隔的列表中有多个名为 'expression' 的项目。不按名称引用它们更简单，而是通过迭代“expr_list”中的分组表达式：

```
for f in tokenized['expr_list']: 
    field = f['field']
    op = f['operator']
    value = f['value']
    print field, op, value 
```

我通常`dump`在解析结果上使用该方法来查看数据是如何分组和命名的。如果我打印出来，`tokenized.dump()`我会得到：

```
[[['foo', '=', 1], ['bar', '=', 2]]]
- expr_list: [['foo', '=', 1], ['bar', '=', 2]]
  - expression: ['bar', '=', 2]
    - field: bar
    - int: 2
    - operator: =
    - value: 2 
```

我可以看到我可以得到“expr_list”命名值。我还看到有一个子级别的“表达式”，但由于这些键默认情况下是唯一的，就像在字典中一样，所以最后解析的组只有一个值。但我*可以*访问“expr_list”中的多个组 - 如果我查看第 0 个项目（使用`print tokenized['expr_list'][0].dump()`），我得到：

```
['foo', '=', 1]
- field: foo
- int: 1
- operator: =
- value: 1 
```

所以我可以使用以下方法遍历“expr_list”中的组：

```
for f in tokenized['expr_list']: 
    field = f['field']
    op = f['operator']
    value = f['value']
    print field, op, value 
```

我会得到：

```
foo = 1
bar = 2 
```

不必在语法中的*每个*级别上都放置结果名称 - 在这种情况下，我们通过迭代获得表达式，`expr_list`甚至没有使用`expression`. 而事实上，如果你取最外层语法表达式的 Group，你也不需要 'expr_list' ，只需要 iterate `for f in tokenized:`。

在尝试梳理返回的 ParseResults 的内容时，该`dump`方法可能是最好的工具。

# c# - 如何授权wcf服务

> ID：11896434
> 
> 赞同：3
> 
> 时间：2012-08-10T06:17:38.957
> 
> 标签：c#, asp.net-mvc, wcf

我有一个 REST Web 服务，它执行一些操作，在它做任何授权用户的事情之前，为此它调用一个方法来检查

```
 if(System.Web.HttpContext.Current.Session["UserId"] != null)
 {  
   string userId = System.Web.HttpContext.Current.Session["UserId"].ToString();  
 }
 else
 {
   throw exception;
 } 
```

我在我的 asp.net Web 应用程序中调用此服务，如下所示

```
 HttpWebRequest req = (System.Net.HttpWebRequest)System.Net.WebRequest.Create(uri);
        req.Method = "POST";
        req.ServicePoint.Expect100Continue = false;
        req.ContentLength = 0;
        req.ContentType = "application/x-www-form-urlencoded";

        if (!string.IsNullOrEmpty(body))
        {
            req.ContentLength = body.Length;
            ASCIIEncoding encoding = new ASCIIEncoding();
            byte[] data = encoding.GetBytes(body);
            Stream newStream = req.GetRequestStream();
            newStream.Write(data, 0, data.Length);
            newStream.Close();
        }

        HttpWebResponse resp;
        try
        {
            resp = (HttpWebResponse)req.GetResponse();
            System.IO.StreamReader sr = new System.IO.StreamReader(resp.GetResponseStream());
            return sr.ReadToEnd().Trim();
        }
        catch (WebException ex)
        {
            resp = (HttpWebResponse)ex.Response;

            //pass on the exception
            throw ex;
        }
    } 
```

我怎样才能传递 userId .....

我的服务和我的 Web 应用程序都在同一个解决方案中，但在不同的项目中，并且 userId 的值来自基于登录应用程序的用户的数据库。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T08:21:46.307

像这样的东西

```
byte[] postBytes = Encoding.UTF8.GetBytes( userId );
                req.ContentType = "application/x-www-form-urlencoded";
                req.ContentLength = postBytes.Length;           

 using( data = req.GetRequestStream() ) { 
                data.Write( postBytes, 0, postBytes.Length );
                data.Close();
            } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:22:29.857

OpenAuth 是一个很好的途径。

查看[http://www.codeproject.com/Tips/372422/Secure-WCF-RESTful-service-using-OAUTH](http://www.codeproject.com/Tips/372422/Secure-WCF-RESTful-service-using-OAUTH)

# c# - c# sql datagridview 如何只将新的数据行插入数据库

> ID：11896436
> 
> 赞同：0
> 
> 时间：2012-08-10T06:18:26.257
> 
> 标签：c#, sql, database, datagridview, save

我有 2 列名称和价格。假设数据库表中已经有一些数据将显示在 datagridview 中。现在，当用户输入新的数据行（无论有多少行），并单击“保存”按钮时，所有新的数据行都将保存到数据库中。

问题是，我如何只捕获新的数据行？或者我如何检查名称是否存在，检查价格是否相同，然后不要插入，如果不同的价格，然后更新价格。

这是我的代码：

```
con = new System.Data.SqlClient.SqlConnection();
        con.ConnectionString = "Data Source=tcp:SHEN-PC,49172\\SQLEXPRESS;Initial Catalog=LSEStock;Integrated Security=True";
        con.Open();
        SqlDataAdapter da = new SqlDataAdapter();

        for (int i = 0; i<dataGridView1.Rows.Count; i++ )
        {

            String insertData = "INSERT INTO CostList(SupplierName, CostPrice, PartsID) VALUES (@SupplierName, @CostPrice, @PartsID)" ;
            SqlCommand cmd = new SqlCommand(insertData, con);
            cmd.Parameters.AddWithValue("@SupplierName", dataGridView1.Rows[i].Cells[0].Value);
            cmd.Parameters.AddWithValue("@CostPrice", dataGridView1.Rows[i].Cells[1].Value);
            cmd.Parameters.AddWithValue("@PartsID", textBox1.Text);
            da.InsertCommand = cmd;
            cmd.ExecuteNonQuery();
        }

        con.Close(); 
```

编辑：上面的代码会将d​​atagridview中的每个数据添加到数据库中并继续复制。

感谢您的关注。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:45:59.120

一种方法是删除 sql 表中的所有数据，然后在网格视图中插入您拥有的任何数据。

解决此问题的另一种方法是在网格视图中创建一个名为 tempid 的列，并为所有插入的新行分配值 -1，然后单击保存时仅获取 tempid=-1 的行并将它们插入到 sql 表中.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:25:27.617

将您的数据加载到其中的数据集和数据表中。和另一个数据表（主要数据）对象。

在数据网格中插入行并单击保存后，使用主数据检查新数据。

# objective-c - 如何获取文件夹内内容的总大小 - OS x

> ID：11896443
> 
> 赞同：1
> 
> 时间：2012-08-10T06:19:09.267
> 
> 标签：objective-c, macos, cocoa, directory, nsfilemanager

我需要获取文件夹内内容的总大小，即。与“GetInfo”中显示的值相同。我没有看到任何直接获取此值的方法。

我现在正在做的是，我使用递归方法循环遍历文件夹内的每个内容，然后获取每个内容的**NSFileSize**属性，将它们相加以获得总值。但是这种方法的一个问题是，它消耗了我太多的 CPU 使用率。是否有任何替代方法（可能是直接 api）给我结果？

# html - 表格项目的内容选项卡

> ID：11896444
> 
> 赞同：0
> 
> 时间：2012-08-10T06:19:14.010
> 
> 标签：html, css, jquery-ui, tabs, accordion

我有一个手风琴菜单，里面包含表格数据。我需要表格中每个 td 的选项卡结构，这意味着当我单击表格中的每个图标时，应该在该 td 下方以全宽打开一行内容。

这是我的手风琴演示，但手风琴在这里不起作用，但你可以看到表结构 [http://jsfiddle.net/ut4fW/4/](http://jsfiddle.net/ut4fW/4/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:39:21.867

.accordion a { 文字装饰：无；字体：normal 16px "Trebuchet MS" , Arial, Helvetica, sans-serif; 颜色：#222；填充：0 0 0 8px；显示：块；行高：30px；边框底部：#FFF 实心 1px；光标：指针；背景：url(../images/arrow_normal.png) 不重复 1%；}

# hibernate - 用于 Web 分析软件的 Hibernate 及其缓存与 JDBC 和 Memcached

> ID：11896445
> 
> 赞同：-1
> 
> 时间：2012-08-10T06:19:20.860
> 
> 标签：hibernate, orm, jdbc

我的领导建议我将 Hibernate 用于检索大量数据的 Web 分析软件。我计划对应用程序使用 JDBC/Spring DBC，并使用 Memcached 或 Redis 缓存数据。缓存在我们的应用程序中很重要。那么哪个是更好的选择，什么可以权衡呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T07:17:02.127

首先，让我们同意没有“休眠缓存”之类的东西。现有的是在 Hibernate 上的集成，以允许使用外部缓存提供程序（不，不要将 Hibernate 中包含的缓存视为生产就绪）。

其次，我们也同意没有人可以根据您的描述告诉您什么是最适合您的解决方案。你的问题的表述方式，你得到的任何答案都只是个人偏见的问题。

话虽如此，我会说使用 Hibernate 会更好。原因很简单：Hibernate 会为你管理缓存。如果有人添加了一些记录，它会自动使可能受到影响的查询缓存失效。使用普通的 JDBC（或 Spring），您必须记住无处不在的缓存，而且您肯定会不时忘记它。除此之外，Hibernate 可以与数据网格 (Hibernate OGM) 集成，因此，如果您后来认为 RDBMS 不是解决您问题的正确解决方案，您只需更改持久性提供程序，您就可以在后端使用 NoSQL 数据库。

# actionscript-3 - 如何破解 Adob e Air 中的 EncryptedLocalStore？

> ID：11896446
> 
> 赞同：4
> 
> 时间：2012-08-10T06:19:27.430
> 
> 标签：actionscript-3, apache-flex, security, mobile, actionscript

假设用户 Tom 安装了一个名为 X 的 Adob​​e Air 应用程序，并且 X 在 EncryptedLocalStore 中存储了一些秘密；那么 Tom 想要破解 EncryptedLocalStore（检查并更改其内容），他怎么能这样做呢？

谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-10T09:54:06.167

根据 AS3 语言参考：

> 加密本地存储中的数据受用户操作系统帐户凭据的保护。**其他实体无法访问商店中的数据，除非他们可以作为该用户登录**。但是，数据对于由经过身份验证的用户运行的其他应用程序的访问是不安全的。因此，您的应用程序可能希望对用户保密的数据（例如用于许可或数字权限管理的密钥）是不安全的。ELS 不是存储此类信息的合适位置。它只是存储用户私人数据（例如密码）的合适位置。

关于加密的一些注意事项：

> AIR**在 Windows 上使用 DPAPI**，**在 Mac OS 和 iOS 上使用 KeyChain，**在**Linux 上使用 KeyRing 或 KWallet**将加密的本地存储关联到每个应用程序和用户。
> 
> 加密的本地存储使用**AES-CBC 128 位加密**。
> 
> **在 Android 上，由 EncryptedLocalStorage 类存储的数据未加密**。

让我们总结一下：

*   如果有人可以登录到用户帐户，他可以访问`EncryptedLocalStore`
*   由`EncryptedLocalStore`操作系统管理，而不是 AIR
*   数据已加密，但在 Android 上未加密

如果你想破解这样的存储，你必须：

*   检索存储的内容
*   破解加密（这很不错）
*   查找有关解析此类数据存储库的规范
*   编写自己的数据阅读器

# javascript - JavaScript 错误（Microsoft JScript 运行时错误：预期对象）

> ID：11896447
> 
> 赞同：0
> 
> 时间：2012-08-10T06:19:34.260
> 
> 标签：javascript, asp.net, c#-4.0

我在我的 asp.net 项目中动态使用 javascript。但是发生了这个错误：“Microsoft JScript 运行时错误：预期对象”。这是我的代码：

```
dropdownlist1.Attributes.Add("onchange", "return" + "confirm('Kaydetmek istediğinize emin misiniz')"); 
```

弹出没有打开。任何的想法 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:24:03.180

将您的代码更改为此，在返回和确认之间添加一个空格。串联并不是真正需要的

```
dropdownlist1.Attributes.Add("onchange", "return confirm('Kaydetmek istediğinize emin misiniz')"); 
```

# time - 将当前时间与访问中的 Time() 函数进行比较

> ID：11896449
> 
> 赞同：0
> 
> 时间：2012-08-10T06:20:00.173
> 
> 标签：time, comparison, ms-access-2010

实际上我是 Microsoft Access 2010 的新手。我有一个与 Microsoft Access 通信的软件。它只需向 ms access 发送一行命令，然后 access 就会执行。例如，为了比较我使用以下命令的日期：

Arrival_Date 类似 Date()

访问正确执行此命令，并将 Arrival_Date 与当前日期进行比较。
现在我想将返回形式 Time() 函数的当前时间与 Arrival_time 进行比较。我想检查当前时间是否在 Arrival_Time - 30 秒和 Arrival_Time + 30 秒内。
我应该使用什么命令在 ms 访问中进行此比较。
感谢您的考虑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T08:42:04.647

怎么样：

```
WHERE ArrivalTime BETWEEN Dateadd("s",-30,Time()) AND Dateadd("s",30,Time()) 
```

更多信息： http: [//office.microsoft.com/en-us/access-help/dateadd-function-HA001228810.aspx](http://office.microsoft.com/en-us/access-help/dateadd-function-HA001228810.aspx)

# sql-server-2008 - 计算字段的sql复杂情况下的语句

> ID：11896450
> 
> 赞同：1
> 
> 时间：2012-08-10T06:20:23.993
> 
> 标签：sql-server-2008, calculated-columns, case-when

我需要这个复杂的 sql 语句的帮助。在选择查询中，我需要向具有此结构的计算字段添加一条语句：

```
If Field1 = 'value1' then

If Field2 = 0 then FCalculated1 = FieldA * FieldB

else FCalculated1 = FieldA * FieldC

end

FCalculated2 = FCalculated1 * FieldA

else if Field1 = 'value2' then

If Field2 = 0 then FCalculated2 = FieldD * FieldB

else FCalculated2 = FieldD * FieldE

end

FCalculated1 = FCalculated2 / FieldA

end 
```

基本上我需要将一个条件嵌套在另一个条件中，并使用计算字段作为另一个字段的来源。有人可以帮助我吗？

谢谢！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:36:34.150

试试这个

```
declare @Field1 int
declare @Field2 int
declare @FCalculated1 int
declare @FCalculated2 int
declare @FieldA int
declare @FieldB int
declare @FieldC int
declare @FieldD int
declare @FieldE int
declare @Value1 int
declare @Value2 int

select @FCalculated2 = case
 when @Field1 = @Value1 then  case
  when @Field2 = 0 then @FieldA * @FieldB
  else @FieldA * @FieldC
  end * @FieldA
 when @Field1 = @Value2 then case
    when @Field2 = 0 then @FieldD * @FieldB
    else @FieldD * @FieldE
 end
end

select @FCalculated2 
```

我的意思是我已经使用变量来编译和测试它，只需将 @ 符号换成你的列名

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T06:38:01.997

您不能让子句中的一列`SELECT`使用同一子句中不同计算的结果`SELECT`（本质上，因为在 SQL 中，所有列都可能并行计算）。通常，我建议使用子选择进行第一次计算，但这在这里似乎不合理，所以我只是重复计算：

```
select
CASE
    WHEN Field1 = 'value1' THEN
        CASE WHEN Field2 = 0 THEN FieldA * FieldB
            ELSE FieldA * FieldC
        END
    WHEN Field1 = 'value2' THEN
        CASE WHEN Field2 = 0 THEN FieldD * FieldB
            ELSE FieldD * FieldE
        END / FieldA
END as FCalculated1,
CASE
    WHEN Field1 = 'value1' THEN
        CASE WHEN Field2 = 0 THEN FieldA * FieldB
            ELSE FieldA * FieldC
        END * FieldA
    WHEN Field1 = 'value2' THEN
        CASE WHEN Field2 = 0 THEN FieldD * FieldB
            ELSE FieldD * FieldE
        END
END as FCalculated2 
```

# c++ - 在一个结构内动态分配多个结构

> ID：11896452
> 
> 赞同：0
> 
> 时间：2012-08-10T06:20:36.567
> 
> 标签：c++

我是 C++ 新手，需要一些帮助。我有以下代码：

```
struct Force {
    float X[10];
    float Y[10];
    float Z[10];
};

struct Measurement{
    char serial_number[30];
    struct Force F1;
    struct Force F2;
 }; 
```

我应该如何正确分配以下内容？

```
struct Measurement meas 
```

问题是 struct Force force 工作正常；但是，当我尝试定义 struct Measurement meas 时，我得到“未处理的异常”错误！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:24:41.220

正如我在您的问题中看到的，您使用的是 C，所以这里是 C 的解决方案。

无论您想在何处获得结构测量实例，只需键入：

```
struct Measurement meas; 
```

您将能够通过以下方式访问您的结构元素：

```
meas.F1.X and so on... 
```

如果您希望进行动态分配（即在运行时），那么只需使用 malloc/calloc 如下

```
struct Measurement *meas = (struct Measurement *)malloc(sizeof(struct Measurement)); 
```

这样做，您将必须访问您的结构元素：

```
meas->F1.X and so on... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:42:08.747

从技术上讲，它就像你写的那样工作，但是成员不需要 struct word（实际上会产生警告但有效。）

```
struct Force {
    float X[10];
    float Y[10];
    float Z[10];
};

struct Measurement {
    char serial_number[30];
    Force F1;
    Force F2;
}; 
```

然后在这样的函数使用中：

```
Measurement somevar;
somevar.F1.Y = 999; 
```

现在执行此操作（并保存堆栈）的正确方法是使用指针。

```
struct Measurement {
    char serial_number[30];
    Force* F1;
    Force* F2;
}; 
```

接着：

```
Measurement* m = new Measurement;
if (m) {
    m->F1 = new Force;
    m->F2 = new Force;
} 
```

使用后必须删除所有指针以避免内存泄漏：

```
delete m->F1;
delete m->F2;
delete m; 
```

还有另一种方法。使用：

```
struct Force {
    float X[10];
    float Y[10];
    float Z[10];
};

struct Measurement {
    char serial_number[30];
    Force F1;
    Force F2;
}; 
```

您可以使用 malloc 分配一些内存并将其视为结构（没有时间测试它，但我多次使用这种方法）。

```
Measurement* m = (Measurement*)malloc(sizeof( size in bytes of both structs ));
// zero memory on m pointer

// after use
free(m); 
```

就这样。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T06:23:57.550

C：

```
struct Measurement *meas;
meas=(struct Measurement *) malloc(sizeof(Measurement));
              ^                             ^                         
              |                             |                 
              |                             |                
          this is shape                  this is the space allocated 
```

C++：

```
Measurement *meas;
meas=new Measurement; 
```

# python - 无法在 django 中提供 mp3 文件

> ID：11896454
> 
> 赞同：1
> 
> 时间：2012-08-10T06:20:40.020
> 
> 标签：python, django

我正在尝试将 MP3 文件提供给可用于音频标签的 django 模板。我正在使用以下视图。

```
def get_file(request):
    filename = FILE_PATH + '\\' + files['k']
    wrapper = FileWrapper(file(filename))
    response = HttpResponse(wrapper, content_type='audio/mp3')
    response['Content-Length'] = os.path.getsize(filename)
    return response 
```

但是我无法获取文件，而我访问与视图相对应的 URL，它只提供一个零 kb 的 MP3 文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:23:44.087

您需要以二进制模式打开 MP3 文件：

```
wrapper = FileWrapper(open(filename, 'rb')) 
```

如果您以文本模式（默认）打开文件，则各种行尾都被规范化为`\n`，这对文本非常有用，但在二进制信息（如 MP3 文件）中则是一个大问题。

请注意，我在这里使用的是[`open`函数](http://docs.python.org/library/functions.html#open)，而不是[`file`构造函数](http://docs.python.org/library/functions.html#file)；从`file`文档中：

> 打开文件时，最好使用`open()`而不是直接调用此构造函数。`file`更适合类型测试（例如，写作`isinstance(f, file)`）。

# c# - C# - 获取活动窗口正下方的窗口句柄？

> ID：11896458
> 
> 赞同：0
> 
> 时间：2012-08-10T06:21:19.297
> 
> 标签：c#, pinvoke

`GetForegroundWindow`是否有可能以某种方式获取由z 顺序检索的当前活动窗口下方的窗口句柄？换句话说，当前窗口下方的窗口，无论其大小和位置如何。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:27:05.950

你可以试试这个 pinvoke 调用：

```
[DllImport("User32")] extern IntPtr GetTopWindow(IntPtr hWnd); 
[DllImport("User32")] extern IntPtr GetNextWindow(IntPtr hWnd, uint wCmd); 
```

并将其用作参数

```
uint GW_HWNDNEXT = 2; 
```

因此，首先获取顶部窗口（或您的）。之后调用 GetNextWindow 并一次又一次地处理结果，......所以你会得到所有的窗口

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:26:20.980

您可以使用该函数获取下一个或上一个窗口（z 顺序）[`GetNextWindow`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms633509%28v=vs.85%29.aspx)。

**编辑：**我刚刚在 pinvoke.net 上读到它`GetNextWindow`是`GetWindow`. 所以你不妨`GetWindow`直接调用：

来自[pinvoke.net](http://www.pinvoke.net/default.aspx/user32/GetWindow.html)的代码：

```
[DllImport("user32.dll", SetLastError = true)]
static extern IntPtr GetWindow(IntPtr hWnd, GetWindow_Cmd uCmd);

enum GetWindow_Cmd : uint {
    GW_HWNDFIRST = 0,
    GW_HWNDLAST = 1,
    GW_HWNDNEXT = 2,
    GW_HWNDPREV = 3,
    GW_OWNER = 4,
    GW_CHILD = 5,
    GW_ENABLEDPOPUP = 6
} 
```

# php - 插入mysql数据库时出现德语变音符号

> ID：11896460
> 
> 赞同：-2
> 
> 时间：2012-08-10T06:21:24.103
> 
> 标签：php, mysql

基本上我正在做一个德国项目。在将数据插入数据库时​​遇到一些问题，因为数据库不支持德语变音符号。

举个例子

case1：前端想要插入“Dhrubàjyőti”它看起来像“DhrubÃ jyÅ'ti”在数据库中插入时不使用任何功能。

案例2：前端想要插入“Dhrubàjyőti”，它看起来像“DhrubÃ jyÅ'ti”在数据库中`mysql_real_escape_string()`插入时使用。

案例3：前端想要插入“Dhrubàjyőti”它看起来像“Dhrub* *&* Atilde *;  ;jy* *Å* *;'ti” 在数据库中使用`htmlentities()`同时插入（我突出显示了粗体字，因为stackoverflow编辑器将其转换为特殊字符）。

我希望数据应该像“Dhrubàjyőti”原样插入。

需要一些适当的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T14:14:32.533

这很有趣，因为我们德国人不使用提到的示例词 alot (...)。

但是对于您的问题，当您的数据库不支持变音符号（latin1 或 utf8/unicode ...）时，您会迷失方向，必须在选择后对其进行编码和解码。

# frameworks - 体式是用什么语言写的？

> ID：11896467
> 
> 赞同：8
> 
> 时间：2012-08-10T06:22:16.613
> 
> 标签：frameworks, asana

我看到 Asana API 是用 ruby​​ 制作的

后端是如何创建的？它是否使用一些已知的 Web 框架，例如 Rails？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-14T03:55:54.147

从体式网站：

> # Luna，我们用于编写出色 Web 应用程序的内部框架
> 
> 在编写一个复杂的、高响应性的 Web 应用程序时，您最终会为要编写的每个功能一遍又一遍地完成各种非常困难的编程任务。对于 Web2.0 风格的软件（以及一般的交互式软件）的作者来说，这些都是非常熟悉的痛苦。当我们开始 Asana 时，我们知道我们想要构建一个功能非常复杂且体验非常快速的应用程序，并且觉得现有的工具集无法满足要求。因此，我们构建了 Luna，这是一个内部端到端框架，它将编写富 Web 应用程序的繁忙工作自动化到前所未有的程度。

[更多来自他们的网站](https://asana.com/developers/)

# usb - Android 4.0.3 上的 USB 触摸屏 -> 无法选择（仅移动指针）

> ID：11896471
> 
> 赞同：2
> 
> 时间：2012-08-10T06:22:32.760
> 
> 标签：usb, touchscreen, hid, lcd

早上好家伙。

我买了一个集成了电阻式触摸屏的 LCD 嵌入式显示器。TS 可通过 USB 连接。

我已将它连接到运行 Android 4.0.3 的设备，并且触摸被正确识别为 externale HID。问题：点击（按下）不被识别为选择/确认......当我点击屏幕时，唯一发生的事情是移动指针（箭头）与我的手指协调一致......就像我移动了没有左键单击的鼠标 HID

我无法滚动或选择某些东西——>对我来说一团糟:(

请记住，我有另一个集成了 USB TS 的 LCD 可以正常工作。我可以选择图标，以防我点击它们，我可以滚动窗口等 -> 就像总是单击左键的鼠标一样 -> 对我来说好！！！

也许这是驱动程序的问题，但我没有具体的想法。

Ps 我没有该设备的特定驱动程序。

有什么建议吗？请帮我 ：）

先感谢您！！！！！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-05-14T13:34:10.387

您需要为您的设备创建**.idc**配置文件。

此处描述的过程[http://source.android.com/tech/input/input-device-configuration-files.html](http://source.android.com/tech/input/input-device-configuration-files.html)

例如，如果您的设备名称为 XYZ Touchscreen，请在**/system/usr/idc/中创建文件****XYZ_Touchscreen.idc** ， 其内容如下：

 **```
# Basic Parameters
touch.deviceType = touchScreen
touch.orientationAware = 1
touch.gestureMode = default
device.external = 1
touch.usingJitterFilter = 1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-03-23T10:41:11.220

android 通过内置支持任何 HID-MOUSE 或 HID-DIGITIZER。它还需要一个基于以下任何一种格式的帮助文件。如果没有找到此类帮助文件，则触摸屏将充当触控板。

您可以使用 linux evtest 工具来检查 USB 设备的类型！

参考：

## [https://source.android.com/devices/input/input-device-configuration-files.html](https://source.android.com/devices/input/input-device-configuration-files.html)

输入设备配置文件按 USB 供应商、产品（和可选版本）ID 或输入设备名称定位。

## 以下路径依次查阅。

```
/system/usr/idc/Vendor_XXXX_Product_XXXX_Version_XXXX.idc
/system/usr/idc/Vendor_XXXX_Product_XXXX.idc
/system/usr/idc/DEVICE_NAME.idc
/data/system/devices/idc/Vendor_XXXX_Product_XXXX_Version_XXXX.idc
/data/system/devices/idc/Vendor_XXXX_Product_XXXX.idc
/data/system/devices/idc/DEVICE_NAME.idc 
```

* * *

Microchip AR1100 USB 设备作为 HID-DIGITIZER /system/usr/idc/Vendor_04d8_Product_0c03.idc 的示例

```
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

#
# Emulator keyboard configuration file #1.
#

# Basic Parameters
touch.deviceType = touchScreen
touch.orientationAware = 1

# Size
touch.size.calibration = diameter
touch.size.scale = 0
touch.size.bias = 0
touch.size.isSummed = 0

# Pressure
# Driver reports signal strength as pressure.
#
# A normal thumb touch typically registers about 200 signal strength
# units although we don't expect these values to be accurate.
touch.pressure.calibration = amplitude
touch.pressure.scale = 0.005

# Orientation
touch.orientation.calibration = none 
```

谢谢，

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-23T09:03:10.097

似乎有几家公司试图制造 Android 触摸屏显示器：

Hanns.G 正在开发一款为 android 提供无线触摸屏支持的显示器：http: [//liliputing.com/2011/09/two-way-sync-between-an-android-tablet-and-a-touchscreen-monitor。 html](http://liliputing.com/2011/09/two-way-sync-between-an-android-tablet-and-a-touchscreen-monitor.html) [http://hackaday.com/2011/07/11/running-android-on-large-touch-screen-displays/](http://hackaday.com/2011/07/11/running-android-on-large-touch-screen-displays/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-23T08:45:13.730

我自己几个月来一直在寻找这个。似乎大多数触摸屏显示器都被 Android 识别为鼠标。两者在操作和设备定义上有很大不同。（[Android 输入设备配置文件](http://source.android.com/tech/input/input-device-configuration-files.html)）。这可能是滚动和点击不起作用的原因。我还没有找到带有适用于 Android 的适当驱动程序的触摸屏显示器。:(

我在[这里](http://source.android.com/tech/input/touch-devices.html)找到了触摸输入设备的开发指南。似乎鼠标和触摸屏有很多差异。我认为您的问题可以通过使用适当的触摸屏驱动程序来解决。

[本次论坛讨论可能对您有所帮助](http://www.mp3car.com/newbie/150868-android-drivers-for-usb-touchscreens.html)**

# java - JAXB jar 维护元素顺序？

> ID：11896475
> 
> 赞同：1
> 
> 时间：2012-08-10T06:23:23.507
> 
> 标签：java, jaxb, jaxb2

我想确认 JAXB 是否会按照模式文件中的说明维护元素顺序？

例如：下面是我用来解组 XML 的 XSD 文件的摘录。

```
<xs:sequence>  
      <xs:element name="stateID" type="xs:string"/>  
      <xs:element name="countryCode" type="xs:string"/>  
</xs:sequence> 
```

JAXB 会确保`stateID`元素在元素之前`countryCode`吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T11:28:35.740

在 JAXB 中，注解`propOrder`上的属性`@XmlType`用于指定 JAXB 实现将遵循的顺序。如果您的 JAXB 模型是从 XML 模式生成的，那么它将包含此注释。

**了解更多信息**

*   [http://blog.bdoughan.com/2012/02/jaxbs-xmltype-and-proporder.html](http://blog.bdoughan.com/2012/02/jaxbs-xmltype-and-proporder.html)

# http - 两个 HTTP 连接限制问题

> ID：11896476
> 
> 赞同：0
> 
> 时间：2012-08-10T06:23:26.487
> 
> 标签：http

任何人都可以提供有关我如何处理此问题的任何资源吗？我注意到 Facebook 有人设法检测到我的计算机上打开了多少标签。我在 Chrome 中打开了 3 个并发标签，只有 2 个在“拉”数据。

这不是关于 Facebook 的问题，也没有任何代码。我正在寻找一些解决此问题的常用技术。随意投反对票/投票结束。它是您的个人选择。

# iphone - iphone cocos2d 花栗鼠规模物理雪碧

> ID：11896478
> 
> 赞同：1
> 
> 时间：2012-08-10T06:23:34.240
> 
> 标签：iphone, objective-c, cocos2d-iphone, chipmunk

在我的应用程序中，当触摸屏幕时，physicssprite 将被添加到游戏层中。所有的physicsSprites都将被添加到一个NSMutableArray中。当数组计数达到 5 时，我想同时缩小所有添加的物理精灵。

我已经尝试过，但不起作用。

请帮助我。

//创建精灵

```
-(void) addNewSpriteAtPosition:(CGPoint)pos
{

 PhysicsSprite *sprite = [PhysicsSprite spriteWithFile:@"sprite.png"];
 sprite.position = pos;
 sprite.tag = 1;
 [sprites addObject:sprite];
 [self addChild: sprite];

 int num = 4;
 cpVect verts[] = {
  cpv(-20,-20),
  cpv(-20, 20),
  cpv( 20, 20),
  cpv( 20,-20),
 };

 cpBody *body = cpBodyNew(1.0f, cpMomentForPoly(1.0f, num, verts, CGPointZero));
 cpBodySetPos( body, pos );
 cpSpaceAddBody(space_, body);

 cpShape* shape = cpPolyShapeNew(body, num, verts, CGPointZero);
 cpShapeSetElasticity( shape, 0.5f );
 cpShapeSetFriction( shape, 0.5f );
 cpSpaceAddShape(space_, shape);

 [sprite setPhysicsBody:body];

    NSLog(@"array size :%i",[sprites count]);
}

- (void)ccTouchesEnded:(NSSet *)touches withEvent:(UIEvent *)event
{

 for( UITouch *touch in touches ) {
  CGPoint location = [touch locationInView: [touch view]];
  location = [[CCDirector sharedDirector] convertToGL: location];

  //add sprite
  [self addNewSpriteAtPosition: location];
 }

    //scale sprites
    if([sprites count]>5){
        //[self terminateGame];
        for(int i=0;i<[sprites count];i++){
            PhysicsSprite *PS = [PhysicsSprite spriteWithFile:
            [sprites objectAtIndex:i]];
            id mAction1 = [CCScaleTo actionWithDuration:0.5 scaleX:0.5 scaleY:0.5];
            [PS runAction:mAction1];
        }
    }
} 
```

我已经尝试实现 phisycsSprite.scale = 0.5; 在更新方法中但不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T16:17:31.240

从文件`CCPhysicsSprite.h`

```
Features and Limitations:
   - Scale and Skew properties are ignored. 
```

如果不使用它缩放空间，您真的无法缩放精灵。

# mysql - 是否可以将 RDS 实例配置为我当前 MySQL 服务器的从属服务器？

> ID：11896479
> 
> 赞同：1
> 
> 时间：2012-08-10T06:23:42.627
> 
> 标签：mysql, rds

我想启动一个 RDS 实例，作为我当前 MySQL 服务器的从属服务器。我目前的 MySQL 服务器处于生产环境，但我们计划在 EC2+RDS 上运行一个新功能，并且新功能是只读的。我们需要将部分数据库复制到 RDS。

一种选择是使用定期作业将数据从当前 MySQL 复制到 RDS，但我仍然想知道是否可以利用 MySQL 本身的主/从复制功能。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-19T17:47:54.620

在撰写本文时，无法使用 MySQL 的主/从复制功能使 RDS 系统成为另一个系统的从属系统，无论是哪个系统。对于 RDS MySQL 5.1 和 5.5 版本，只能从具有相同 MySQL 版本的现有 MySQL RDS 服务器创建新的只读副本。使用 RDS MySQL 5.6 可以使 RDS 主服务器成为外部从服务器。但是，不能反过来，外部服务器或不同的 RDS MySQL 可以作为 RDS MySQL 5.6 从属服务器的主服务器。

参考资料：[http](http://aws.typepad.com/aws/amazon-rds/page/2/) ://aws.typepad.com/aws/amazon-rds/page/2/ （关于 MySQL 5.6 支持） [http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/MySQL.Procedural。 Exporting.NonRDSRepl.html](http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/MySQL.Procedural.Exporting.NonRDSRepl.html)（关于 RDS MySQL 5.6 复制到非 RDS MySQL 5.6 从站）。

# c# - 使用我的 UserId Guid 作为我的电子邮件确认链接是否安全？

> ID：11896483
> 
> 赞同：3
> 
> 时间：2012-08-10T06:23:52.087
> 
> 标签：c#, asp.net, asp.net-mvc-3

我想进行电子邮件确认注册，这样当用户注册时，他或她会收到一封带有确认链接的电子邮件。该链接类似于：`www.site.com/confirm?id=34398df809as8df9`然后将其与来自标准 aspnet 成员资格提供程序的数据库中的 UserId 匹配。使用 UserId 作为传递给电子邮件的 guid 是否会造成任何类型的漏洞或安全威胁？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-10T06:26:28.140

GUID 是链接中*唯一*的想法吗？如果是这样，那绝对不安全。这意味着一旦攻击者拥有任何人的 ID（例如通过找到旧电子邮件），他们就可以随时重置用户的密码。

密码重置链接至少应包含一次性使用的限时令牌。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-10T06:27:38.823

我绝对不会在系统外部的任何内容中使用我的数据库中的主键。专门为注册循环创建一次性密钥，然后在注册完成后使其失效。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T06:28:42.833

在我看来，这是不安全的，它可能会被滥用（虽然不是很容易但仍然......！）。您应该附加一个带有时间戳的确认链接，该时间戳嵌入了电子邮件的发送时间，并使用一些自定义逻辑进行了加密，该逻辑将包含 user_id 的计算哈希以及单个字符串中的时间戳，如果您想放入其他内容，则可以添加其他内容。

当您添加时间戳时，您可以添加验证该确认链接必须在 24 或 48 小时内使用，否则您必须生成一个新链接。

由你决定，但简单的 Guid 不是一个好主意。

# msbuild - 使用 MSBuild，如何为列表中的每 N 个项目运行 Exec？

> ID：11896492
> 
> 赞同：1
> 
> 时间：2012-08-10T06:24:39.393
> 
> 标签：msbuild, mstest

最初，我想从文件中加载测试列表并在其自己的 MSTest 实例中调用每个测试。下面的脚本片段完成了这一点：

```
<ReadLinesFromFile
  File="$(SolutionDir)\TestList.txt" 
  >
  <Output
    TaskParameter="Lines"
    ItemName="TestsFromFile"
    />
</ReadLinesFromFile>

<ItemGroup>
  <Commands Include='&quot;$(VS100COMNTOOLS)\..\IDE\mstest.exe&quot; /runconfig:$(ParsedTestSettings) /testcontainer:$(ParsedTestContainer) /unique /test:%(TestsFromFile.Identity) /resultsfile:$(SolutionDir)\AnalysisResults\%(TestsFromFile.Identity).trx'/>
</ItemGroup>

<Exec
  Condition="'@(Tests)' != ''" 
  IgnoreExitCode="true"
  Command='%(Commands.Identity)'
  >
  <Output TaskParameter="exitcode" ItemName="exitcodes"/>
</Exec> 
```

但是，假设不是每次测试执行一个 mstest.exe 实例，而是每 10 次测试或 N 次测试执行一个 mstest.exe 实例。有没有办法让 MSBuild 运行 N 测试的 exec 任务？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T21:25:28.413

使用 stijn 的建议，下面是内联任务。请注意，GroupSize 属性让我可以控制每个 Exec 任务包含的项目数。

```
<UsingTask
  TaskName="GenerateTestOptionsCollection"
  TaskFactory="CodeTaskFactory"
  AssemblyFile="$(MicrosoftBuildTasksPath)"
  >
  <ParameterGroup>
    <SolutionDir
      ParameterType="System.String"
      Required="true"
      />
    <GroupSize
      ParameterType="System.Int32"
      Required="true"
      />
    <TestNames 
      ParameterType="Microsoft.Build.Framework.ITaskItem[]" 
      Required="true" 
      />
    <TestOptions
      ParameterType="Microsoft.Build.Framework.ITaskItem[]" 
      Output="true"
      />
  </ParameterGroup>
  <Task>
    <Code 
      Type="Fragment"
      Language="cs"
      >
      <![CDATA[
          var optionGroups = new List<string>();
          var optionItems = new List<TaskItem>();

          for (var j = 0; j < TestNames.Length; j++)
          {
              optionGroups.Add("/test:" + TestNames[j].ItemSpec);

              if (((j + 1) % GroupSize == 0) || j == (TestNames.Length - 1))
              {
                  var options = string.Join(" ", optionGroups) + " " + "/resultsfile:" + SolutionDir + "\\AnalysisResults\\" + optionItems.Count + ".trx";
                  optionItems.Add(new TaskItem(options));
                  optionGroups.Clear();
              }
          }

          TestOptions = optionItems.ToArray();
      ]]>
    </Code>
  </Task>
</UsingTask> 
```

使用内联任务：

```
<ReadLinesFromFile
  File="$(SolutionDir)\TestList.txt" 
  >
  <Output
    TaskParameter="Lines"
    ItemName="TestsFromFile"
    />
</ReadLinesFromFile>

<GenerateTestOptionsCollection
  SolutionDir="$(SolutionDir)"
  GroupSize="$(GroupSize)"
  TestNames="@(TestsFromFile)"
  >
  <Output ItemName="Commands" TaskParameter="TestOptions"/>
</GenerateTestOptionsCollection>

<Exec
  Condition="'@(Tests)' != ''" 
  IgnoreExitCode="true"
  Command='&quot;$(VS100COMNTOOLS)\..\IDE\mstest.exe&quot; /runconfig:$(ParsedTestSettings) /testcontainer:$(ParsedTestContainer) /unique %(Commands.Identity)'
  >
  <Output TaskParameter="exitcode" ItemName="exitcodes"/>
</Exec> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:36:34.777

您可以创建自己的自定义构建任务并传入列表。[创建构建任务](http://msdn.microsoft.com/en-us/library/t9883dzc.aspx)很简单，在 Execute() 覆盖中，您只需遍历列表并以您想要的任何频率生成 MSTest。

# asp.net-mvc - ASP.NET MVC 4 - 如何在通过 Team Foundation Service 部署到 Azure 时转换我的数据库连接字符串？

> ID：11896495
> 
> 赞同：3
> 
> 时间：2012-08-10T06:24:49.840
> 
> 标签：asp.net-mvc, deployment, azure, azure-sql-database, azure-devops

我正在 Visual Studio 2012 RC 中开发一个 ASP.NET MVC 4 / .NET 4.0 Web 应用程序，该应用程序旨在使用 SQL Azure 数据库在[Windows Azure上运行。](http://windowsazure.com)该解决方案由[Team Foundation Service](http://tfspreview.com/)进行源代码控制，我已将后者设置为在我签入时自动部署到 Azure。

我想知道的是，当项目部署在 Azure 上时，如何转换我的数据库连接字符串（在 Web.config 中）以便它们引用生产 SQL Azure 服务器？在我的开发箱中，我使用了本地 SQL Express 实例。

如果有更好的方法，我对其他部署方法（而不是 TFS 自动服务）持开放态度。

**编辑：**我通过 Entity Framework 5.0.0 RC 连接到数据库。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T06:59:38.980

您还可以使用多个 ServiceConfigurations：

![在此处输入图像描述](../Images/603d0c22841dc8758f0a7fd00afd76fa.png)

然后，不要将连接字符串保存在 web.config 中，而是将其添加为 ServiceConfiguration 中的设置：

![在此处输入图像描述](../Images/3cc23b051fa02a0232fbcb25fd37adf5.png)

由于您有多个配置，您可以为每个配置赋予**SomeConnectionString**一个值（这意味着您可以为测试、开发和云配置文件填写数据库设置）。

最后，在您的代码中，拥有一个基于 ServiceConfiguration 中的连接字符串创建新上下文的工厂类会更容易：

```
public static class MyDataContextFactory
{
    public static MyDataContextEntities Create()
    {
        return new MyDataContextEntities(RoleEnvironment.GetConfigurationSettingValue("SomeConnectionString"));
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:40:55.710

我认为您会为不同的环境创建多个 web.config 文件

如何：[在部署 Web 应用程序项目时转换 Web.config](http://msdn.microsoft.com/en-us/library/dd465318.aspx)

[这里](http://softscenario.blogspot.sg/2011/09/automatic-web-deployment-from-tfs-build.html)列出了一篇关于如何在 TFS 自动部署中结合它的博客文章

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-14T06:22:03.417

如果只有您（或所有开发人员都有相同的连接字符串），并且您不介意源代码管理中的连接信息，这很容易。Azure 将使用您在 Azure 管理门户中网站部分的配置下输入的连接字符串信息覆盖您的连接字符串。只要确保名称相同即可。

因此，例如，如果您的 web.config 具有 name="DefaultConnection" connectionstring="您的本地数据库、受信任的连接等，等等".....只要您在 Azure 中的连接字符串信息具有名称“DefaultConnection” （我假设它指向 Azure 数据库），它会工作。

# qt - 如何将 exe 文件的输出重定向到 Qt 中的 QStringList？

> ID：11896502
> 
> 赞同：1
> 
> 时间：2012-08-10T06:25:30.433
> 
> 标签：qt, qt4

正如主题所说，谁能告诉我如何将已执行 exe 的输出重定向到 QStringist 变量，以便我可以实时显示已执行 exe 在 QTextBrowser 中所做的任何事情？例如，如果我用这样的简单 echo 命令执行一个 exe，并说 exe 名称是 hello.exe，其源代码如下

`echo "Hello World!"`

我像这样在Qt中执行它

`QProcess abc`

`abc.start("files\\hello.exe);`

现在这将呼应我在源代码中输入的问题，即“Hello World”，但是当我正在制作一个 GUI 应用程序时，我看不到它，那么我们如何将该输出带到 QStringList 变量并实时显示在 QTextBrowser 中？我们是否允许对被调用的 exe 进行多行输出？如果 exe 的输出很长并且是多行的，并且如果它不完全适合 QTextBrowser，那么滚动条会自动变为可见吗？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:39:24.003

**根据 QT 文档（请阅读）：**

您将处理程序绑定到`QProcess::readyReadStandardOutput ()`，每次进程在 STDOUT 上有可用的新数据时都会发出该处理程序。然后你`QProcess::readAllStandardOutput ()`用来获取数据。然后将字节数组转换为`QString`，将其与先前拆分的其余部分一起粘贴，并按 delimiter 和 fill 拆分`QStringList`。然后你将它输出到`QTextBrowser`.

# php - 为什么复杂的语法会出错？

> ID：11896503
> 
> 赞同：0
> 
> 时间：2012-08-10T06:25:45.003
> 
> 标签：php

看下面的代码：

```
<?php
//The array stores the nodes of a blog entry
$entry = array('title' => "My First Blog Entry",
        'author' => "daNullSet",
        'date' => "August 10, 2012",
        'body' => "This is the bosy of the blog");
echo "The title of the blog entry is ".{$entry['title']};
?> 
```

它给了我以下错误。

> 解析错误：语法错误，第 7 行 C:\xampp\htdocs\php-blog\simple-blog\array-test.php 中的意外 '{'

如果我在上面的代码中删除在 echo 语句中引入复杂语法的大括号，错误就会消失。请帮我调试上面的代码。谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T06:27:43.487

删除花括号，它会正常工作。此行为不是错误，而是您的语法不正确。简而言之，使用花括号进行复杂变量插值在双引号或heredoc 中有效，而不是在外部。

更详细的解释：

用这个：

```
echo "The title of the blog entry is ".$entry['title']; 
```

复杂变量（以及花括号内的表达式插值）特别适用于双引号字符串或 heredocs，其中需要正确的插值，并且可能出现歧义。这是一段干净的语法，因此不会引起歧义，这意味着不需要消除歧义。

在此处查看有关复杂变量的更多信息：http: [//php.net/manual/en/language.types.string.php](http://php.net/manual/en/language.types.string.php)

如果您将数组值括在双引号内，则可以使用花括号来允许正确的变量插值。但是，这很好用，大多数人应该能够完美地阅读并理解您在做什么。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:28:06.527

你用 `{`错了方法

使用任何一个

```
 echo "The title of the blog entry is ".$entry['title']; 
```

或者

```
 echo "The title of the blog entry is ". $entry{title}; 
```

即使您需要连接字符串。你可以在里面写一切`""`

```
 echo "The title of the blog entry is $entry{title}"; 
```

**[工作演示](http://codepad.org/caqK09df)**

读[`Complex (curly) syntax`](http://in3.php.net/language.types.string.php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T06:29:10.697

```
echo "The title of the blog entry is " . $entry['title']; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-10T06:30:39.620

我认为您要使用的正确语法是这样的

```
echo "The title of the blog entry is {$entry['title']}"; 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-10T06:31:01.060

您使用的正确方法`}`是：

```
echo "The title of the blog entry is  {$entry['title']}"; 
```

您也可以使用：

```
echo "The title of the blog entry is " . $entry['title']; 
```

# javascript - 无法单击锚标记，但在悬停时显示链接

> ID：11896505
> 
> 赞同：1
> 
> 时间：2012-08-10T06:26:09.043
> 
> 标签：javascript, jquery, html, css

我无法单击锚标记，但是当我们将鼠标悬停在该链接上时，它会显示链接路径

[页面链接](http://ivyfa.advisorproducts.com/financial-planning-process)

当您点击现金流分析、税务分析、投资分析等任何部分时，您将在中心看到一些文本，其中包含不可点击的阅读更多链接。

下面是我使用的 JS 代码：

```
/*----------Text change on click - Our Process page---------------*/
var prev;
var IdAry = ['slide1', 'slide2', 'slide3', 'slide5', 'slide8', 'slide9', 'slide12', 'slide13', 'slide14', 'slide15', 'slide16'];
window.onload = function () {
    for (var zxc0 = 0; zxc0 < IdAry.length; zxc0++) {
        var el = document.getElementById(IdAry[zxc0]);
        if (el) {
            setUpHandler(el);
            el.onmouseover = function () {
                $(this).addClass("hover");
            }
            el.onmouseout = function () {
                $(this).removeClass("hover");
            }
        }
    }
}

function setUpHandler(el) {

/*---------This is used to add selected class on clicked id only and remove class selected from rest---------*/

$("#" + IdAry.join(",#")).click(function () {
    $(this).addClass("selected");
    $("#graphics .selected").not(this).removeClass("selected");
})

/*---------This will add show hide class to thier spans and vise versa-------*/

$("#" + IdAry.join(",#")).toggle(
function () {
    changeText(this, "hide", "show");
},
function () {
    changeText(this, "show", "hide");
})
}

function changeText(obj, cl1, cl2) {

    obj.getElementsByTagName('SPAN')[0].className = "hide";
    obj.getElementsByTagName('SPAN')[1].className = "show";

    if (prev && obj !== prev) {
        prev.getElementsByTagName('SPAN')[0].className = "show";
        prev.getElementsByTagName('SPAN')[1].className = "hide";
    }
    prev = obj
} 
```

下面是 CSS 代码，但我已经向您展示了第 1 部分（讨论目标和问题），因为其他部分的其余部分相同：

/ *-----图形2我们的流程页面从这里开始----* /

```
#graphics
{
    float:left;
    width:100%;
    position:relative;
}

#graphics .show a.readmore
{
    float:right;
    padding:10px 0;
}

#graphics .hover
{
    cursor:pointer;
}

span.show 
{
    display:block;
}

span.hide 
{
    display:none;
}

#span1
{
    font-size:13px !important;
}

#graphics .row1, #graphics .row2, #graphics .row3, #graphics .row4
{
    float:left;
    width:100%;
}

.circleBg
{
    float:left;
    position:absolute !important;
    top:150px;
    left:215px !important;
    height:200px;
    width:275px;
}

#graphics #slide1 #span1, #graphics #slide2 #span1, #graphics #slide3 #span1, #graphics #slide4 #span1, #graphics #slide5 #span1, #graphics #slide6 #span1, #graphics #slide7 #span1, #graphics #slide8 #span1, #graphics #slide9 #span1, #graphics #slide10 #span1, #graphics #slide11 #span1, #graphics #slide12 #span1, #graphics #slide13 #span1, #graphics #slide14 #span1, #graphics #slide15 #span1, #graphics #slide16 #span1
{
    display:none;
}

#graphics #slide1 span.show, #graphics #slide2 span.show, #graphics #slide3 span.show, #graphics #slide4 span.show, #graphics #slide5 span.show, #graphics #slide6 span.show, #graphics #slide7 span.show, #graphics #slide8 span.show, #graphics #slide9 span.show, #graphics #slide10 span.show, #graphics #slide11 span.show, #graphics #slide12 span.show, #graphics #slide13 span.show, #graphics #slide14 span.show, #graphics #slide15 span.show, #graphics #slide16 span.show
{
    color:#000;
    float:left;
    position:absolute !important;
    top:150px;
    left:215px !important;
    height:200px;
    width:235px;
    background-color:#fff;
    text-align:center;
    padding:0 20px;
    cursor:default;
}

#graphics .row1 #slide1
{
    float:left;
    width:204px;
    height:112px;
    background:url('/pages/images/row1-1.jpg') 0 0 no-repeat;
}

#graphics .row1 #slide1.hover, #graphics .row1 #slide1.selected
{
    background:url('/pages/images/row1-1.jpg') 0 -112px no-repeat !important;
    text-decoration:none !important;
} 
```

下面是HTML代码：

```
<div id="graphics">
    <img src="images/circle-bg.jpg" alt="" class="circleBg"/>
    <div class="row1">
        <div href="#" id="slide1" id="selectedSlide">
            <span id="span1"></span>
            <span class="hide"></span>
        </div>
        <div href="#" id="slide2">
            <span id="span1"></span>
            <span class="hide">At this stage, we sit down together and discuss your life goals and begin to develop a plan for funding them. Without knowing where you want to go, we can't help get you there! This is the time to ask a lot of questions and get to know each other. <a href="">Read More..</a></span>                        
        </div>
        <div href="#" id="slide3">
            <span id="span1"></span>
            <span class="hide">We need to know your current income and expenses in order to gain a better understanding of resources that can be applied toward your financial goals. We also determine the appropriate size of your emergency fund. <a href="">Read More..</a></span>
        </div>
        <div href="#" id="slide4">
            <span id="span1"></span>
            <span class="hide"></span>                      
        </div>
    </div>
</div> 
```

我的要求只是单击阅读更多链接在新选项卡中打开该页面。

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T06:54:00.667

*阅读更多*链接是可点击的。您只需将 ref 设置为`#`，这会让您无处可去..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T07:15:40.593

问题在于这个切换事件而不是切换，当我试图用这个点击事件替换这个切换事件时，我们必须使用点击事件它工作得很好:)

旧JS代码：

```
$("#" + IdAry.join(",#")).toggle( // instead of toggle we can use click event
function() 
{ 
    changeText(this, "hide", "show"); 
},
function() 
{ 
    changeText(this, "show", "hide"); 
})
} 
```

新代码：

```
$("#" + IdAry.join(",#")).click( //replace toggle with click event
function() 
{ 
    changeText(this, "hide", "show"); 
},
function() 
{ 
    changeText(this, "show", "hide"); 
}) 
```

# javascript - Titanium 中的内容和数据调用密集型应用程序

> ID：11896507
> 
> 赞同：0
> 
> 时间：2012-08-10T06:26:21.597
> 
> 标签：javascript, titanium, appcelerator, titanium-mobile, appcelerator-mobile

我开始开发一个 Titanium 应用程序，它是内容和数据调用密集型应用程序。

我需要一些关于构建此类应用程序时要遵循的最佳实践的指导。我非常了解 commonJS 方法。我想知道最佳实践编码来限制或消除 Appcelerator 中的内存/缓存问题。如何处理或处理这些问题？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T17:27:09.067

我使用了我想出的 MVC 和 MV VM 的混合体：

MVC 适合用于重定向您的站点/用户的 Web URL，并将用户作为参数。因此，控制器是应用程序的入口点。

在 .net 的 MVVM 模式中，视图是应用程序的入口点。View 请求 ViewModel（将事件连接到 UI）和 ViewModel 请求到业务（模型）。最后，当到达数据时，通过事件冒泡“反映”数据。这听起来很麻烦，但实际上不是

使用相同的方法，我使用以下

UI > C > B > 技术 > 互联网

在控制器上我订阅了事件，在技术中我触发了它们。

其中“技术”抽象了所有技术（SQLite、JSON、Ti.App.Properties 等）

业务了解实体和图标，但不了解技术方面

```
getIcon('Badge'){ tech.getIcon('Badge') } ) 
```

在技​​术上我们可以有一个像 var 这样的字典

```
getIcon(icon)
{
    var Icon = { 
            'Badge': 'src/cfg/img/badge.png' 
        }  

    return Icon[icon]
} 
```

所以控制器看起来像：

```
oTable = ui.TableEmployees() // our custom made TableView at 'ui.js'
Ti.App.addEventListener( 'EmployeesUpdated', function(e){ oTable.data = e.data } ) 
```

最后，每次我需要更新信息时，我都会去

```
business.refreshEntity('Employees') 
```

企业访问技术的地方

```
tech = require('src/tech')
refreshEntity(entity){ tech.refreshEntity(entity) } 
```

终于在科技

```
refreshEntity(entity)
{
    HTTPClient = new Ti.Network.HTTPClient( { onload:..., onerror:... } )
    HTTPClient.send()
    data = transform(response)
    if (data != cachedData)
        Ti.App.fireEvent( 'EmployeesUpdated', {data: data} )
} 
```

这样，您就可以拉动刷新、计时器等，并且只有在数据发生更改时，您才能将其提升到所有受影响的视图

# c - 如何在 C 中创建带有 char 数组的字符串？

> ID：11896509
> 
> 赞同：0
> 
> 时间：2012-08-10T06:26:23.677
> 
> 标签：c, string, file, pointers

我是一名 Android 和 Java 开发人员，对 C 语言不太熟悉。正如您所知，C 中没有 String 类型。我想要的只是获取字符，将它们放入 char 数组并将这些字符写为字符串。如何获取作为字符数组的整个字符串并将其放入变量中？这是我的代码，但它不能正常工作。我得到的日志是：

```
I/        ( 2234): *********PROPERTY = 180000€¾Ü    €¾Ü €¾ 
```

应该是180000。

```
int c;
char output[1000];
int count = 0;
char *property;
FILE *file;
file = fopen("/cache/lifetime.txt", "r");
LOGI("****************FILE OPEN*************");
if (file) {
    LOGI("*****************FILE OPENED************");
    while ((c = getc(file)) != EOF) {
        putchar(c);
        output[count] = c;
        ++count;
        LOGI("******C = %c", c);
    }
    property = output;
    LOGI("*********PROPERTY = %s", property);
    fclose(file);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:29:36.063

你缺少的是一个`'\0'`. C 中的所有字符串都只是一个以 . 结尾的字符序列`'\0'`。

所以，一旦你的循环

```
while ((c = getc(file)) != EOF) 
```

完成后，可以添加语句

```
output[count] = '\0' 
```

* * *

如果您打算`property`在局部函数之外返回变量并且如果`output`是函数的局部变量，则需要进行以下修改。

在上面的下面一行需要修改

```
property = output; 
```

[您应该使用malloc](http://linux.die.net/man/3/malloc)为属性分配内存，然后使用[strcpy](http://www.manpagez.com/man/3/strcpy/)将输出中的字符串复制到属性或按照 Joachim 在评论中的建议执行[strdup 。](http://linux.die.net/man/3/strdup)

使用 strdup，语句将如下所示

```
property = strdup(output); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:34:44.207

确定在编译时或运行时是否知道字符数，然后静态或动态分配数组：

```
char some_property [N+1]; // statically allocate room for N characters + 1 null termination

// or alternatively, dynamic memory allocation:
char* property = malloc (count + 1); 
```

然后将数据复制到新变量中：

```
memcpy(some_string, output, count); 

some_string[count] = '\0'; // null terminate

...
free(property); // clean up, if you used dynamic memory (and only then) 
```

或者简单地使用已经存在的“输出”变量，方法是在输入的末尾添加一个空终止符。

# php - PHP在while循环中回显多个变量

> ID：11896517
> 
> 赞同：-2
> 
> 时间：2012-08-10T06:27:12.943
> 
> 标签：php, mysql

我试图在这里回显一些结果 $aditya 是一个包含多个值的数组，$var3 也包含多个值但是当我回显它时它只显示一个值

请弄清楚我做错了什么

```
$query1= mysql_query("SELECT * FROM table WHERE col2 in ($aditya)");

while($var1=mysql_fetch_array($query1))
{

$var2=$var1['col1'];
$var3=$var1['col2'];
$var4=$var1['col3'];

 $name=mysql_query("SELECT f_name FROM table2 WHERE f_id=$var2");
$tname=mysql_fetch_array($name);

   echo "</br>"."</br>"."<a style='color:blue' href=something.php?f_id=$var2   target=_BLANK >".$name['f_name']."</a>"." "."$var3"." "."("."$var4".")";

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:31:42.163

问题很可能来自您的查询。`echo $query1; exit;`如果你有的话，把它放在 phpmyadmin 中试试。查看从查询中得到什么的其他方法是放置：

```
echo $var1['col1'].", ".$var1['col2'].", ".$var1['col3']; 
```

在 while() 中查看你从查询中得到了什么。问题肯定不在回声中。

**更新 2**

```
$query1 = ("
    SELECT unique_ids, GROUP_CONCAT( whatuwant )
    FROM table
    WHERE col2 in ($aditya)
    GROUP BY unique_ids
"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:38:24.357

如果 $aditya 真的是一个数组，那么就不可能按照您在查询中的方式使用它。MySQL 需要一个逗号分隔的元素列表，因此您可以内爆 PHP 数组并将其提供给查询：

```
$query1= mysql_query("SELECT * FROM table WHERE col2 in (" . implode(',', $aditya) . ")"); 
```

除此之外，您可能想考虑给变量起更有意义的名称，因为如果您将它们命名为 $var1、$var2 等，您只会让您自己和其他从事您项目的编码人员感到困惑。只是一个提示。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T06:42:24.680

这里可能有很多事情是错误的

A.`$aditya`没有正确定义。如果它是一个数组，那么你需要将它与`implode`if noy 结合起来，确保它的格式正确

预期输出应该是这样的

```
 SELECT * FROM table  WHERE col2  IN ( 250, 220, 170 ); 
```

B.`$name`不是一个数组，所以`$name['f_name']`不会工作。你用 use`$tname['f_name']`代替

C. 我认为你需要用你的代码的确切错误来更新你的问题，因为有很多东西可以运行，我们无法远程测试，例如。表名是否一`table`开始就存在

# php - 如何在codeigniter中更新配置文件并保存配置文件

> ID：11896521
> 
> 赞同：2
> 
> 时间：2012-08-10T06:27:44.313
> 
> 标签：php, codeigniter

有什么方法可以更新配置文件的值并将这些值保存到配置文件中。

例如，我有：

```
 $config['base_url']  = 'http://localhost.com';
   $config['test'] = ''; 
```

我想改变 $config['test'] $this->config->set_item('test','something'); 的值 并将此值保存到配置文件中。所以，我的配置文件应该是

```
 $config['base_url']   = 'http://localhost.com';
  $config['test'] = 'something'; 
```

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-18T03:27:40.333

您最好使用从数据库中提取此数据的钩子（如 cchana 所建议的那样）。这样您就可以轻松更新它，而不会影响配置文件的安全性。

# vim - 如何在 vim 中为自定义命令标记视觉选择？

> ID：11896530
> 
> 赞同：3
> 
> 时间：2012-08-10T06:28:56.870
> 
> 标签：vim

我想做这样的事情：我选择一些文本，然后按 Ctrl-B，所选文本被 ** 或我选择的其他符号包围。我在想，如果我能以某种方式标记选择的开始和结束位置，我可以将 Ctrl-B 映射到视觉模式下的某个组合键，该组合键在这些标记上移动并放置所需的文本。

我该怎么做？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-10T06:59:01.933

无需定义自己的映射——Tim Pope 的[环绕](https://github.com/tpope/vim-surround).vim就是为这种事情而设计的！该插件提供映射以轻松删除、更改和添加环境到文本。

在您的情况下，在可视模式下进行选择后，只需键入`S``*`，您的代码将被星号包围。

环绕声命令适用于标准动作，也适用于正常模式。如果你想改变周围的字符（比如，从`*`to `'`），你可以做`c``s``*``'`.

[自述](https://github.com/tpope/vim-surround#surroundvim)文件涵盖了许多值得尝试的一般用例。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-10T07:15:37.230

视觉选择的开始和结束自动分别用`'<`和`'>`标记。这些会一直存在，直到做出另一个视觉选择，因此很有可能将它们用于函数和映射中的导航。

但是，正如@David 所说，听起来**环绕**插件完全符合您的描述。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T07:02:29.063

如果你通过 VIM 教程，你会发现这个可视模式：

例如，为视觉选择的文本插入 '。

设置以下命令

```
:vnoremap qq <Esc>`>a'<Esc>`<i'<Esc> 
```

之后视觉选择并按“qq”

# java - jooq 聚合函数

> ID：11896538
> 
> 赞同：6
> 
> 时间：2012-08-10T06:29:37.847
> 
> 标签：java, sql, aggregate-functions, jooq

我正在尝试在 jOOQ 中使用像 max、min 这样的聚合函数并参考他们的手册，**[但](http://www.jooq.org/manual/DSL/FUNCTIONS/#N10B7F)**我不理解他们的示例，即他们如何创建 max 函数并在他们的示例中使用它。你能帮我解决这个问题吗？如果可能，请提供简单的例子。

**我面临的问题**
在 jOOQ 手动示例中聚合函数 max 如下

```
create.select(max(ID).add(1).as("next_id")).from(T_AUTHOR); 
```

但是当我在查询中使用 max 时，我得到的**函数 max 是未定义的。**

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-10T12:04:11.937

静态导入的使用记录在 jOOQ 教程和手册的各个地方。每当您在手册中看到“独立函数”时，您可以放心地假定它是从[`org.jooq.impl.DSL`](http://www.jooq.org/javadoc/latest/org/jooq/impl/DSL.html).

请参阅教程中的示例：

```
// For convenience, always static import your generated tables and
// jOOQ functions to decrease verbosity:
import static test.generated.Tables.*;
import static org.jooq.impl.DSL.*; 
```

*   [http://www.jooq.org/doc/latest/manual/getting-started/tutorials/jooq-in-7-steps/jooq-in-7-steps-step6/](http://www.jooq.org/doc/latest/manual/getting-started/tutorials/jooq-in-7-steps/jooq-in-7-steps-step6/)
*   [http://www.jooq.org/doc/latest/manual/getting-started/the-manual/](http://www.jooq.org/doc/latest/manual/getting-started/the-manual/)

因此，您尝试运行的示例将要求您

*   静态导入`org.jooq.impl.DSL.max`
*   完全符合`DSL.max`您的查询

# javascript - 如何在 jQuery 中获取具有特定父类的所有元素的内容并将它们传递给 GET 变量？

> ID：11896545
> 
> 赞同：1
> 
> 时间：2012-08-10T06:29:59.510
> 
> 标签：javascript, ajax, arrays, jquery

我需要使用 的父类收集所有列表项的内容`list_array`，然后通过 GET 变量将它们传递给 AJAX 调用。你能推荐一个策略吗？

这是一个[小提琴](http://jsfiddle.net/VXKzV/)。

HTML：

```
<div>
    <ul class="list_array">
        <li>item A</li>
        <li>item B</li>
        <li>item C</li>
    </ul>
</div>
<p>some text</p>
<div>
    <ul class="list_array">
        <li>item B</li>
        <li>item C</li>
        <li>item D</li>
    </ul>
</div>
<p>some text</p>
<div>
    <ul class="list_array">
        <li>item A</li>
        <li>item C</li>
        <li>item E</li>
    </ul>
</div> 
```

这是我目前的进展：

```
$(document).ready(function(){
    var listItemArr = [];
    $('.list_array li').each(function() {
        listItemArr.push($(this).text());
    });
    alert(listItemArr);
}); 
```

正如[小提琴](http://jsfiddle.net/VXKzV/)所示，这是行不通的。

理想情况下，我也会传递唯一的字符串，所以预期的结果是：

```
item A
item B
item C
item D
item E 
```

（并且不包含重复项）

此外，欢迎任何将数组传递给我的 PHP 处理页面的建议。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:45:34.773

不知道PHP。这是客户端代码：

```
var arrayName = 'whatever';
//use an object as an SET to remove duplicated items
var dict = {};
$('.list_array li').map(function() {
    return $(this).text();
}).each(function(){
    dict[this] = '';
});
//retrieve the values saved to the SET
var params = '';
for(var k in dict)
    params += arrayName + '=' + k +'&';
//send request
$.get('/path/to/your.php', params, function (response) {
    console.log(response);
    //or do what ever you want with the response.
}, 'html'); 
```

​</p>

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:46:20.087

试试这个：

```
var arr = [];
$('.list_array li').each(function() {
    var t = $(this).text();
    if (arr.indexOf(t) === -1) {
        arr.push(t)
    }
})
// arr = arr.join(',')  
// =>  item A,item B,item C,item D,item E 
```

**[演示](http://jsfiddle.net/4eRHF/2/)**

您可以使用 jQuery**`$.post`**或**`$.ajax`**实用函数将数据发送到 PHP：

1.  **[$.post()](http://api.jquery.com/jQuery.post/)**
2.  **[$.ajax()](http://api.jquery.com/jQuery.ajax/)**
3.  **[$.get()](http://api.jquery.com/jQuery.get/)**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T07:18:45.670

试试这个

```
var all=[];
$('ul.list_array li').each(function(){
    var text=$(this).text();
    if($.inArray(text, all)==-1) all.push(text);
});
$.get('/url/to/page', {'items': all}, function(data){
    console.log(data);
}); 
```

变量`all`是一个数组，你的数组在as`["item A", "item B", "item C", "item D", "item E"]`中可用。`$_GET``$_GET['items']`

[选中此项以查看过滤后的数组](http://jsfiddle.net/heera/bsnGM/1/)。

# javascript - 从系统日期中选择当前时间

> ID：11896546
> 
> 赞同：0
> 
> 时间：2012-08-10T06:30:00.850
> 
> 标签：javascript, date, time

我有一个警报，将在下午 5:30 准确触发。我想让日期动态化，我的意思是它将获取系统日期。因为正如您在我的代码中看到的，它只获取我指定日期的时间。谢谢！

```
function alert5pm() {
  alert("It's already 5:30 pm and you only have 30 minutes left before to log-out");
    }
var timeAt3pm = new Date("8/10/2012 05:30:00 PM").getTime()
  , timeNow = new Date().getTime()
  , offsetMillis = timeAt3pm - timeNow;
setTimeout('alert5pm()', offsetMillis); 
```

例如：

创建日期实例以获取系统日期和时间： var dateToday = new date();

从这里，我如何提取特定时间。例如，我需要指定我需要获取今天系统日期下午 5:30 的时间。就像我的代码一样。但如您所见，它只获取日期为 2012 年 8 月 10 日的时间。我希望它使用系统日期和时间。

有任何想法吗？

资料来源：[这个 SO 答案。](https://stackoverflow.com/questions/4854753/how-do-i-trigger-a-function-when-the-time-reaches-a-specific-time)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:35:47.420

如果您想使日期可配置并从服务器端设置，我建议您对服务器进行 ajax 调用以获取时间和日期并在 javascript 函数中设置值

```
var time = ""
function alert5pm() {
  alert("It's already 5:30 pm and you only have 30 minutes left before to log-out");
    }
if( time == ""){
  $.ajax({
  type: "POST",
  url: "some_server_url_to_fetch_data",
  data: "{}",
  contentType: "application/json; charset=utf-8",
  dataType: "json",
  success: function(msg) {
    time = msg.data;
    var timeAt3pm = new Date(time).getTime();
    var timeNow = new Date().getTime()
    var offsetMillis = timeAt3pm - timeNow;
    setTimeout('alert5pm()', offsetMillis);
  }
});

}
else{
  var timeAt3pm = new Date(time).getTime();
    var timeNow = new Date().getTime()
    var offsetMillis = timeAt3pm - timeNow;
    setTimeout('alert5pm()', offsetMillis);
}
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T08:03:15.370

我认为您需要类似以下代码的内容：

```
function todayAt(hours,minutes)
{
    var today = new Date();
    today.setHours(hours);
    today.setMinutes(minutes);
    today.setSeconds(0);
    return today;
}

alert(todayAt(17,30)); 
```

作为下一步，您可以改进函数并以您想要的任何格式传递参数（例如，在“5:30 AM”字符串中。

因此，您将拥有以下代码：

```
function alert5pm() {
    alert("It's already 5:30 pm and you only have 30 minutes left before to log-out");
}

function todayAt(hours,minutes)
{
    var today = new Date();
    today.setHours(hours);
    today.setMinutes(minutes);
    today.setSeconds(0);
    return today;
}

var targetTime= todayAt(17,30);
var offsetMillis = targetTime - Date.now();

setTimeout('alert5pm()', offsetMillis); 
```

# iphone - 需要在 performSelector:withObject:afterDelay 之后调用 NSAutoReleasePool 吗？

> ID：11896547
> 
> 赞同：0
> 
> 时间：2012-08-10T06:30:10.647
> 
> 标签：iphone, ios

如题。调用 performSelector:withObject:afterDelay 后是否需要调用 NSAutoReleasePool？

我认为 performSelector:withObject:afterDelay: 不在主线程上，所以需要添加自动释放池。那是对的吗？

前任：

```
[self  performSelector:@selector(update) withObject:nil afterDelay:0.1];

-(void) update {
NSAutoReleasePool *pool = [[NSAutoReleasePool alloc] init]; // Is it necessary
...
[pool drain];
} 
```

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:32:33.107

否。此方法使用为该实际运行循环安排的 NSTimer**在您调用它的同一线程/运行循环上执行提供的选择器。**你不必担心它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:52:26.470

您需要创建自己的唯一实例`@autoreleasepool`是同时创建和自动释放大量对象。

在您的情况下，您的`update`方法将在您创建它时在同一个线程/运行循环上调用，并且会很高兴地落在 main 下`@autoreleasepool`。

[NSObject](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/nsobject_Class/Reference/Reference.html)文档对您调用的特定方法有一些冗长的细节。

# android - 两个图像拖动

> ID：11896549
> 
> 赞同：6
> 
> 时间：2012-08-10T06:30:49.807
> 
> 标签：android

我正在制作一个模块，其中每当我触摸一个图像时我都有两个图像，它应该在拖动时跟随手指或鼠标（在模拟器中），如果它越过另一个图像，那么它们会改变第一次触摸时第一个图像的位置(ACTION_DOWN) 。我编写了以下代码，其中视图正在移动，但是当我拖动第一个图像时，第二个图像也被拖动。进一步想知道如何改变职位。

.xml

```
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
  android:orientation="vertical"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
  android:id="@+id/vg"
   >

<ImageView   
    android:id="@+id/img"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
       />
 <ImageView   
    android:id="@+id/img1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    />
</LinearLayout> 
```

活动文件

```
public class MainActivity extends Activity {
    private View selected_item = null;
    private int offset_x = 0;
    private int offset_y = 0;
    Canvas can;
    Paint paint;
    ImageView img;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    ViewGroup vg = (ViewGroup)findViewById(R.id.vg);
    vg.setOnTouchListener(new View.OnTouchListener() {

                    @Override
                    public boolean onTouch(View v, MotionEvent event) {
                            switch(event.getActionMasked())
                            {

                                    case MotionEvent.ACTION_MOVE:
                                        if(selected_item == img) {
                                            int x = (int)event.getX() - offset_x;
                                            int y = (int)event.getY() - offset_y;

                    int w = getWindowManager().getDefaultDisplay().getWidth() - 100;
                    int h = getWindowManager().getDefaultDisplay().getHeight() - 100;
                    if(x > w)
                        x = w;
                    if(y > h)
                        y = h;
                                     LinearLayout.LayoutParams lp = new  LinearLayout.LayoutParams(
                                    new ViewGroup.MarginLayoutParams(
                                                    100,
                                                    100));
                                     lp.setMargins(x, y, 0, 0);

                                            selected_item.setLayoutParams(lp); 
                                        }
                                            break;
                                    default:
                                            break;
                            }
                            return true;
                    }
  });
   img = (ImageView)findViewById(R.id.img);

   //timerDelayRemoveView(500, img);

   BitmapDrawable drawable = (BitmapDrawable)getResources().getDrawable(R.drawable.imagesl_02); 
   Bitmap bitmap = drawable.getBitmap();
   Bitmap scaledBitmap = Bitmap.createScaledBitmap(bitmap, 100, 100, true);
   img.setImageBitmap(scaledBitmap);
   LinearLayout.LayoutParams lp0 = new LinearLayout.LayoutParams(100, 100);
   lp0.leftMargin = 0;
   lp0.topMargin = 0;
   img.setLayoutParams(lp0);
   //vg.addView(img, lp1);
  // vg.addView(img, 1);
    img.setOnTouchListener(new View.OnTouchListener() {

                    @Override
                    public boolean onTouch(View v, MotionEvent event) {
                            switch(event.getActionMasked())
                            {
                                    case MotionEvent.ACTION_DOWN:
                                            offset_x = (int)event.getX();
                                            offset_y = (int)event.getY();
                                            selected_item = v;
                          Toast.makeText(MainActivity.this, "down",Toast.LENGTH_SHORT).show();
                                            break;

                            default: break;        
                            }

                            return false;
                    }
            });

    ImageView img1 = (ImageView)findViewById(R.id.img1);
    BitmapDrawable drawable1 = (BitmapDrawable)getResources().getDrawable(R.drawable.realimage); 
    Bitmap bitmap1 = drawable1.getBitmap();
    Bitmap scaledBitmap1 = Bitmap.createScaledBitmap(bitmap1, 100, 100, true);
    img1.setImageBitmap(scaledBitmap1);
    LinearLayout.LayoutParams lp1 = new LinearLayout.LayoutParams(100, 100);
    lp1.leftMargin = 100;
    lp1.topMargin = 100;
    img1.setLayoutParams(lp1);

    //img.setImageBitmap(scaledBitmap1);

    img1.setOnTouchListener(new View.OnTouchListener() {

                    @Override
                    public boolean onTouch(View v, MotionEvent event) {
                            switch(event.getActionMasked())
                            {
                                    case MotionEvent.ACTION_DOWN:
                                           // offset_x = (int)event.getX();
                                           // offset_y = (int)event.getY();
                                            selected_item = v;
                                            break;
                                    default:
                                            break;
                            }

                            return false;
                    }
            }); 

}
  } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T17:35:26.563

第二个图像被拖动，因为您在 LinearLayout 中有两个图像。第二个图像的布局参数取决于第一个，这意味着当您将它们调整到右侧时，第二个图像将绑定到第一个图像的右边缘。

如果我正在处理这个问题（假设我不能使用 Honeycomb 中引入的拖动 API），我会首先将所有内容放在 a `RelativeLayout`with 2 `ImageView`s 中。当您“拾取”其中一张图像时，您可以在移动它时调整其布局参数，然后在放下它时调整`LayoutParams`两者以满足您所需的布局。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:38:26.147

`findViewById(R.drawable.realimage)`应该是`findViewById(R.id.realimage)`。

我认为你应该使用`id`而不是`drawable`.

# cygwin - Cygwin 路径：选择 Free Pascal make 而不是 GNU make

> ID：11896553
> 
> 赞同：0
> 
> 时间：2012-08-10T06:31:27.260
> 
> 标签：cygwin

如果我做“哪个使”

我得到/usr/bin/make：

```
$ which make
/usr/bin/make 
```

但如果我然后输入“make”

我收到一个 gcc 错误，它显示了对 Free Pascal 附带的 make 的引用：

```
$ make
gcc -std=c99 -Wall -Wextra -g -c Array.c
gcc: installation problem, cannot exec `cpp': Permission denied
C:\Compilers\FPC\2.6.0\bin\i386-Win32\make.exe: *** [Array.o] Error 1 
```

如果我输入“/usr/bin/make”而不是“make”，我不会收到上述错误。我不明白为什么当“which”显示 gnu make 是要使用的时候，Free Pascal make 显然会被执行，并且就此而言，为什么 Free Pascal make 会给出 GNU make 没有的错误。

此外，键入“which gcc”会显示预期的 GNU gcc：

```
$ which gcc
/usr/bin/gcc 
```

“哪个cpp”：

```
$ which cpp
/usr/bin/cpp 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-13T10:31:18.450

您需要更改 PATH 变量

*   控制面板 -> 系统 -> 高级 -> 编辑环境变量

或来自 cygwin

*   （假设你使用 bash） export PATH=/usr/bin:$PATH

对于后一种情况，您还可以编辑 .bashrc 并在每次启动 cygwin 时加载它

# c - 是否有任何推荐的代码生成方法适合替代 C 宏？

> ID：11896556
> 
> 赞同：1
> 
> 时间：2012-08-10T06:31:37.003
> 
> 标签：c, clang, code-generation, c-preprocessor

我刚开始研究大型遗留代码库。它有很多以纯文本“定义文件”命名的变量和结构。然后一些头文件将包含这些定义文件并使用**C**预处理器生成变量声明和getter/setter。

这给工作和修改字段带来了巨大的痛苦。此外，getter/setter 的签名直到编译时才会生成，因此也没有对它们的智能感知支持。

我正在考虑在编译时间之前生成代码并要求其他模块包含生成的头文件，而不是包含基于预处理器的头文件。我研究了 Python + clang 并将关键字添加到**C**语言中。但是他们两个都压倒性的，我不知道如何开始。所以我想问问人们会建议如何解决这个问题。

编辑：代码库不属于我，所以我不能复制和粘贴。但我可以模仿代码，它看起来像：

```
// in the definition file
NEWVARIABLE( point, int )

// in the preprocessor header file
#define NEWVARIABLE( name, type ) \
static type name;\
type LIBNAME_Get##name##(){return name ; }\
void LIBNAME_Set##name##( type _##name ){ name = _##name ; } 
```

有时这些预处理器生成的函数或数据会与函数指针交错并使其更加疯狂。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:37:49.960

也许您可以只运行预编译器（`gcc -E`例如使用 GCC 编译器），然后剪切并保存生成的文本。不是很好，但很难自动让它变得更好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:40:07.720

如果您使用的是 GCC，那么`gcc -save-temps Code.c`它将生成一个预处理文件作为 Code.i，并且所有宏都将在此处替换。（不确定你想要什么）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T07:44:15.277

我的理解是，您想用其他会在您的构建过程中添加依赖项的东西替换标准的 C 习惯用法（顺便说一下，如果您在其他地方找到包含宏的其他定义的定义文件，我不会感到惊讶）还没有。

我不会这样做的。这不是坏的或坏的，只是你不熟悉这项技术。

如果我对大型遗留代码的经验适用，那么您应该有很多机会来改进无可争议的问题；工作在那些。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-11T07:10:25.397

如果您感兴趣的范围包括商业解决方案，我建议您查看我们的网站[http://www.cdsan.com](http://www.cdsan.com)。我们提供自定义重构和转换器。看起来可以通过合理的努力转换您的文件。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-10T06:42:37.867

没有明显的需要在编译时生成函数名。只有从程序中实际调用的函数才会链接到可执行文件中。所以你也许应该问问自己这些宏是否有任何用途，然后考虑用所有可能的函数组合替换它们。（如果程序对性能至关重要，则可能是内联函数。）

但是，根据程序的大小和复杂性，对现有程序进行过于剧烈的更改通常是一个坏主意。

对于比这更详细的答案，您将不得不发布一些代码。

# ios - 重要位置变更服务是否适用于 WiFi 热点？

> ID：11896558
> 
> 赞同：2
> 
> 时间：2012-08-10T06:31:49.543
> 
> 标签：ios, location, core-location

我的问题是，在从一个 wifi 热点/基站切换到另一个时，重大变化的位置服务能否更新位置？

我知道它适用于无线电塔。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-12T19:53:42.370

因为我回答错了，所以我删除了我的答案。

由于我没有足够的观点来澄清你的问题作为评论，我将在这个“答案”中这样做，而不是为未来的读者。

因此，问题不在于重大变化服务是否仅与 WiFi 一起工作（由于某种原因，Apple 并不需要具有“蜂窝无线电”的设备），而是附近 WiFi 列表本身的变化是否足以触发位置更新。

# ipad - 如何让一个 UIView 保持在固定位置，而其余的则自动旋转？

> ID：11896559
> 
> 赞同：4
> 
> 时间：2012-08-10T06:31:52.203
> 
> 标签：ipad, uinavigationcontroller, orientation, autorotate

我正在尝试使用 UINavigationController 创建一个 UI，该 UI 将一些 UIViewController 和一个子 UIViewController 作为侧边栏视图呈现。在横向方向，它应该是右侧的条纹。将其旋转为纵向后，它应保持在该物理侧，而 UINavigationController 会自动旋转以及其他所有内容。因此，在纵向时，侧边栏变成了底部栏。

请看一下模型。 [用户界面样机](https://dl.dropbox.com/u/1041539/ui.pdf)

现在，如何做到这一点？返回`NO`for`shouldAutorotateToInterfaceOrientation:interfaceOrientation:`不会停止该侧边栏的旋转：-/

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:40:26.953

在视图控制器的自动旋转检测方法中更改视图的框架和/或变换，如下所示：

```
- (void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)to duration:(NSTimeInterval)duration
{
    [UIView beginAnimations:nil context:NULL];
    [UIView setAnimationDuration:duration];

    // Calculate the new frame and rotation angle of the view
    // e. g.:

    if (UIInterfaceOrientationIsPortrait(to)) {
        theView.frame = CGRectMake(0, 924, 768, 100);
        theView.transform = CGAffineTransformIdentity;
    } else {
        theView.frame = CGRectMake(924, 0, 100, 768);
        theView.transform = CGAffineTransformMakeRotation(M_PI / 2);
    }

    [UIView commitAnimations];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T09:05:40.023

您不能使用自动旋转来执行此操作，因为您在一个屏幕上混合了两个视图控制器。关闭父视图控制器和子视图控制器的自动旋转，并在检测到旋转时自行进行所需的转换。自动旋转将旋转控制器视图下的所有视图（包括由您的其他视图控制器控制的子视图）。

或者，您可以先将视图滑开（当您收到 willRotateToInterfaceOrientation 时），然后在收到 didRotateFromInterfaceOrientation 时将其滑回正确的方向。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T06:37:59.067

```
CGAffineTransform t;
//You have to caculate the angel of view controller rotating    
CGFloat rotateAngel = M_PI / 2;//replace 'M_PI / 2' with your view controllers rotation angel
t = CGAffineTransformMakeRotation(-rotateAngel);
[view setTransform:t]; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-27T19:44:50.017

是否可以将侧视图与导航控制器视图分开（不要使其成为子视图）。因此，您可以更好地控制旋转。无论如何，您都可以旋转视图内的图像。

# python - 如何在 Python 中始终如一地将“3.71B”和“4M”等字符串转换为数字？

> ID：11896560
> 
> 赞同：8
> 
> 时间：2012-08-10T06:32:02.880
> 
> 标签：python, regex, finance, yahoo-finance

我有一些相当混乱的代码，几乎可以从 Yahoo Finance 为公司生成**有形的价格/**账面价值（一个名为的不错的模块已经`ystockquote`获取了**无形的价格/账面**价值）。

我的问题是这样的：

对于计算中的变量之一，已**发行股票**我得到像**10.89B**和**4.9M**这样的字符串，其中**B**和**M**分别代表**十亿**和**百万**。我无法将它们转换为数字，这就是我所在的位置：

```
shares=''.join(node.findAll(text=True)).strip().replace('M','000000').replace('B','000000000').replace('.','') for node in soup2.findAll('td')[110:112] 
```

这很混乱，但我认为如果不是

```
.replace('M','000000').replace('B','000000000').replace('.','') 
```

我正在使用带有变量的正则表达式。我想问题只是哪些正则表达式和变量。其他建议也不错。

### 编辑：

具体来说，我希望有一些适用于小数为零、一位或两位小数的数字，但这些答案看起来都很有帮助。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-08-10T06:40:01.323

```
>>> from decimal import Decimal
>>> d = {
        'M': 6,
        'B': 9
}
>>> def text_to_num(text):
        if text[-1] in d:
            num, magnitude = text[:-1], text[-1]
            return Decimal(num) * 10 ** d[magnitude]
        else:
            return Decimal(text)

>>> text_to_num('3.17B')
Decimal('3170000000.00')
>>> text_to_num('4M')
Decimal('4000000')
>>> text_to_num('4.1234567891234B')
Decimal('4123456789.1234000000000') 
```

如果你愿意，你也可以`int()`得到结果

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-10T06:36:44.727

将数字解析为浮点数，并使用乘数映射：

```
multipliers = dict(M=10**6, B=10**9)
def sharesNumber(nodeText):
    nodeText = nodeText.strip()
    mult = 1
    if nodeText[-1] in multipliers:
        mult = multipliers[nodeText[-1]]
        nodeText = nodeText[:-1]
    return float(nodeText) * mult 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-10T06:43:02.850

```
num_replace = {
    'B' : 1000000000,
    'M' : 1000000,
}

a = "4.9M" 
b = "10.89B" 

def pure_number(s):
    mult = 1.0
    while s[-1] in num_replace:
        mult *= num_replace[s[-1]]
        s = s[:-1]
    return float(s) * mult 

pure_number(a) # 4900000.0
pure_number(b) # 10890000000.0 
```

这将适用于白痴，例如：

```
pure_number("5.2MB") # 5200000000000000.0 
```

并且由于字典方法，您可以以易于维护的方式添加任意数量的后缀，并且可以通过以一种大写形式表达您的 dict 键然后执行 a `.lower()`or`.upper()`使其匹配来使其更加宽松。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-10T06:54:14.363

```
num_replace = {
    'B' : 'e9',
    'M' : 'e6',
}

def str_to_num(s):
    if s[-1] in num_replace:
        s = s[:-1]+num_replace[s[-1]]
    return int(float(s)) 
```

* * *

```
>>> str_to_num('3.71B')
3710000000L
>>> str_to_num('4M')
4000000 
```

所以`'3.71B'`-> `'3.71e9'`->`3710000000L`等等。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-10T08:37:25.440

**这可能是一个安全**使用 eval的机会！！:-)

考虑以下片段：

```
>>> d = { "B" :' * 1e9', "M" : '* 1e6'}
>>> s = "1.493B"
>>> ll = [d.get(c, c) for c in s]
>>> eval(''.join(ll), {}, {})
1493000000.0 
```

现在把它们放在一个整齐的衬里：

```
d = { "B" :' * 1e9', "M" : '* 1e6'}

def human_to_int(s):
    return eval(''.join([d.get(c, c) for c in s]), {}, {})

print human_to_int('1.439B')
print human_to_int('1.23456789M') 
```

回馈：

```
1439000000.0
1234567.89 
```

# css - 仅使用 css 设置图像宽度取决于另一个图像

> ID：11896561
> 
> 赞同：0
> 
> 时间：2012-08-10T06:32:07.490
> 
> 标签：css

是否可以仅使用 css 将图像宽度设置为等于另一个图像

图片 1 可以是任意大小，加载后图片 2 的大小将根据图片 1 进行调整

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T08:19:46.387

如果他们共享一个容器，您可以执行以下操作：

[http://jsfiddle.net/qVfsa/1/](http://jsfiddle.net/qVfsa/1/)

# android - 为什么 Tabbar 与按钮重叠时显示白色阴影？

> ID：11896564
> 
> 赞同：1
> 
> 时间：2012-08-10T06:32:12.670
> 
> 标签：android, button, tabbar

我正面临这个奇怪的问题。在我的应用程序中，我在屏幕底部有一个标签栏。在这个屏幕中，我有一些 EditTexts 和 Buttons。

现在我的问题是，如果应用程序在小型设备上运行，当标签栏以某种方式显示与按钮重叠时，标签栏上会出现一个白色阴影（如附图所示）。如果标签栏没有与任何小部件重叠，则不会显示此阴影。

我只想知道这是否是android的自然行为，或者我可以摆脱它。请帮忙。提前致谢。

![全表](../Images/eadc921bffdf2bed75a0081a06893a93.png)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-11T11:40:44.233

这个显示不是 Tabs 显示的，它是滚动视图的默认淡入淡出效果，您可以通过将其设置为 none 来删除它。为此，您必须在滚动视图中添加此属性

```
android:fadingEdge="none" 
```

在此屏幕的 Scrollview 标签下。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T11:33:07.617

褪色边缘颜色由`android:cacheColorHint`属性控制。

试试下面的代码 -

```
ScrollView android:cacheColorHint="#ff000000" android:background="#ffffffff" /> 
```

而不是这些颜色，你可以给你想要的颜色。试试下面的链接 -

1.  [滚动视图问题](https://stackoverflow.com/a/2034666/940096)

2.  [ScrollView FadingEdge](https://stackoverflow.com/questions/2640877/how-to-set-the-color-of-an-android-scrollview-fading-edge/3021192#3021192)

# cocoa - 可可：可可与蟒蛇

> ID：11896565
> 
> 赞同：0
> 
> 时间：2012-08-10T06:32:16.570
> 
> 标签：cocoa

我想使用 python smtp 库实现一个电子邮件客户端。但我不知道：
1.如何在可可中运行python代码？喜欢

```
s = smtplib.SMTP()   
s.connect("mail.yourdomain.com") 
s.login(username, password) #login if needed 
s.sendmail(mailfrom, mailto, mailbody)  
s.quit() 
```

2\. cocoa可以从python smtp库中获取错误信息吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T08:33:39.040

将 Python 代码放入它自己的小程序中，并使用[NSTask](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSTask_Class/)来运行它。

[Growl 的 MailMe 显示屏](http://code.google.com/p/growl/source/browse/Plugins/Displays/MailMe/GrowlMailMeDisplay.m)正是出于同样的目的。它使用[我的简单邮件工具](https://bitbucket.org/boredzo/simple-mailer)。

# php - 在数组中搜索值不起作用

> ID：11896567
> 
> 赞同：2
> 
> 时间：2012-08-10T06:32:20.073
> 
> 标签：php, arrays

我的数组值之一包含

```
$all_data_array = Array
(
    [0] => 'General Information'
    [1] => 'Brand'
    [2] => '<p><div style="bolor:#000000;"><li>Product Details</li></div></p>'
) 
```

.

我想在数组中搜索值的键，其中数组值中包含文本“产品详细信息”，并包裹着一些 html 数据。我写了以下代码，但它不起作用。有人可以帮忙吗？

```
<?php echo $new_key = array_search('Product Details', $all_data_array); ?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:39:43.203

`array_search`需要字符串值完全相同。

你可以在你的情况下使用一个循环。

```
foreach ($all_data_array as $key => $value) {
  if (strpos($value, 'Product Details') !== false) {
    $new_key = $key;
    break;
  }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:38:17.230

`array_filter`让您指定一个自定义函数来进行搜索。在您的情况下，一个简单的函数用于`strpos()`检查您的搜索字符串是否存在：

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T07:23:54.763

array_search，查找完全匹配，数组 $all_data_array 的第三个元素除了“产品详细信息”之外还有其他字符（这里是 html 标签）；

# android - 如何在android中计算动画GIF的帧数

> ID：11896574
> 
> 赞同：0
> 
> 时间：2012-08-10T06:33:20.897
> 
> 标签：android, gif

请帮助我计算安卓应用程序中动画 GIF 的帧数的方法，我想要的只是如何从 url 或资源文件夹中读取 GIF 文件的帧数以及之间的时间显示帧。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:44:15.470

Android 可以使用 android.graphics.Movie 类解码和显示动画 GIF。试试看那里。

它的文档记录很差，但请查看带有一些动画标志的 BitmapDecode 示例中的 ApiDemos 中的示例。

您还可以查看[以下](http://droid-blog.net/2011/10/15/tutorial-how-to-play-animated-gifs-in-android-%E2%80%93-part-2/)使用 GifDecoder 显示动画 gif 的示例（并计算其帧）

我希望它有帮助...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:40:08.370

这不是您问题的直接答案，但您可以使用 AnimationDrawable，它类似于 GIF 文件，但更像 Android 方式，并且您有一个 getNumberOfFrames() 方法。Android 不鼓励使用 GIF。虽然不知道怎么...

# asp.net-mvc-3 - 如何在我的 asp.net 项目中使用 Hql 正确搜索项目？

> ID：11896576
> 
> 赞同：0
> 
> 时间：2012-08-10T06:33:35.937
> 
> 标签：asp.net-mvc-3, fluent-nhibernate, hql

我的查询返回搜索到的数据，但搜索不正确

在我的表值是

```
 ------------------------
       Help
 ------------------------
1    help for abcd
2    help needed before 
```

我的 Hql 查询如下

```
select help from Help  help where lower(help.Subject) like lower ('%'" + searchterm + "'%') 
```

当我搜索“for”时，它会返回

```
------------------------
       Help
------------------------
1    help for abcd
2    help needed before 
```

我只需要返回第一个

```
1\. help for abcd 
```

即：我只需要搜索以搜索词开头的词

任何人请帮助...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T22:30:12.270

这听起来像一个词边界问题。Here Is A similar question回答

[在 MySQL 中搜索“全词匹配”](https://stackoverflow.com/questions/656951/search-for-whole-word-match-in-mysql)

抱歉，我不知道为什么 Android 想把我的话都大写。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T05:01:27.167

您好 frnds 我得到了完美的解决方案

起初使用查询

```
 select help from Help  help 
```

然后将帮助列表存储在

```
 var ListofHelps 
```

然后

```
 foreach (var item in ListofHelps)
        {

          if (!string.IsNullOrEmpty(searchterm))
          {
           var splitsearchterm = Regex.Split(searchterm, @"\s");//split search term

                var splittedsubjects = Regex.Split(item.Subject.ToUpper(), @"\s"); //Subject is to be searched
                var found = splittedsubjects.Where(x => x.StartsWith(searchterm.ToUpper()));
                int datacount = found.Count();
                if (splitsearchterm.Count() > 1 && item.Subject.ToUpper().Contains(searchterm.ToUpper()))
                {
                    datacount = 1;

                }
                if (datacount > 0)
                {
                    Helplist.Add(new HelpViewModel //Helplist is an item in HelpViewModel ie public IEnumerable<MultiSelectList> Taglists { get; set; }
                    {
                        Subject = item.Subject,
                        HelpId = Convert.ToInt32(item.Id),
                        Content = item.Content

                    });
                }

            }
            else
            {

                Helplist.Add(new HelpViewModel
                {
                    Subject = item.Subject,
                    HelpId = Convert.ToInt32(item.Id),
                    Content = item.Content

                });

            }

        } 
```

它对我有用。有没有更好的方法来做到这一点

# reporting-services - 在 BIDS 中为指针制作标签

> ID：11896582
> 
> 赞同：0
> 
> 时间：2012-08-10T06:34:19.360
> 
> 标签：reporting-services, bids

我有一个带有几个指针的刻度尺。我想做的是使指针的值及其标题出现在它们下方（我的意思是指针）。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T08:45:19.317

好的，我设法找到它。它被埋在仪表属性 -> 比例 -> 自定义标签中。

# php - 什么是不将站点会话变量与同一域下的其他站点混淆的好方法

> ID：11896584
> 
> 赞同：0
> 
> 时间：2012-08-10T06:34:32.163
> 
> 标签：php, codeigniter, session, web, dns

基本上在我的网络开发服务器上，我有几个网站项目正在进行。我遇到了我的一个网站项目会话变量与另一个网站项目的会话变量冲突的问题。这两个网站项目都在同一台服务器下。那么有没有一种很好的方法来区分网站项目之间的变量？希望这是有道理的...

这两个网站也是会员类型的网站，所以我对网站的会员部分使用相同的会话变量。

并且这两个网站都在 codeigniter 框架上。那么使用codeigniter，我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:44:50.653

只需使用 [`session_name`](http://php.net/manual/en/function.session-name.php)

例子 ：

```
 session_name("WebsiteID"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:39:14.767

您可以使用 session_name 函数 (http://php.net/manual/en/function.session-name.php) 给每个站点一个唯一的会话名称。仔细阅读有关何时设置会话名称的说明（基本上在任何其他会话功能之前）。

另一种方法是使用“路径”功能来限制您网站的路径（http://www.php.net/manual/en/function.session-set-cookie-params.php）。这样，会话 cookie 将仅对您设置的路径之上或之下的脚本可见。（确保首先删除“根”级别的所有 cookie，因为这些将可见，但所有子目录都可见！）

或者，如果您使用 cookie 手动执行此操作，请在 cookie 名称前加上一些独特的前缀。SetCookie('WebsiteName_' . 'session'、ID、时间、路径等)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T06:40:52.013

我所做的是为每个站点都有一个配置文件，我在每个 php 文件中都需要一个配置文件。在这个配置文件中，我指定了数据库参数（用户、密码等）和会话标头： $config['sess_header'] = 'site1';

当我创建或查询会话时，我使用这个 sess_header，例如：$_SESSION[$config['sess_header']]['user_id'] = $user_id;

# ios - 弹出 UIViewController 时 UINavigationController 的后退按钮不会消失

> ID：11896591
> 
> 赞同：1
> 
> 时间：2012-08-10T06:34:45.247
> 
> 标签：ios, uiviewcontroller, uinavigationcontroller

我有这个 UINavigationController 自动推送时会进入横向但可以更改。

当我以纵向弹出视图时，它通常会返回到第一个/根视图，但是当我以横向弹出视图时，后退按钮仍然存在，当我按下它时，它会像弹出普通导航控制器并且按钮消失一样动画.

我尝试在主视图出现时记录视图控制器，并且与第二个视图相同，我得到的日志很正常。在第一个视图上只有 1 个视图控制器，而在推送视图上只有 2 个视图控制器。

那么，可能是什么问题？

我根本没有添加任何自定义按钮。它是标准 UINavigationController 的后退按钮。

代码：

## 推送视图控制器

```
SomeViewController *rmVC = [[SomeViewController alloc] initWithNibName:@"SomeViewController" bundle:nil];

AppDelegate *ad = (AppDelegate*)[[UIApplication sharedApplication] delegate];
[ad.someNavigationController pushViewController: rmVC animated:YES]; 
```

这是以这种方式完成的，因为这是在 presentModalViewController 中推送的

## 在 someViewController 的 viewDidLoad

```
[[UIDevice currentDevice] setOrientation:UIInterfaceOrientationLandscapeLeft]; 
```

## 图片

[http://s1058.photobucket.com/albums/t411/shlbypuerto/](http://s1058.photobucket.com/albums/t411/shlbypuerto/)

# javascript - 如何在 JavaScript 中拆分此字符串？

> ID：11896594
> 
> 赞同：0
> 
> 时间：2012-08-10T06:35:05.117
> 
> 标签：javascript, regex, arrays, split, string-split

我有这样的字符串：

```
ab
rx'
wq''
pok'''
oyu,
mi,,,, 
```

基本上，我想将字符串分成两部分。第一部分应该有完整的字母字符，第二部分应该有非字母字符。字母部分保证a和z之间为2-3个小写字符；非字母部分可以是任意长度，并且保证只能是字符`,`或`'`，但不能同时出现在一个字符串中（例如`eex,',`，永远不会出现）。

所以结果应该是：

```
[ab][]
[rx][']
[wq]['']
[pok][''']
[oyu][,]
[mi][,,,,] 
```

我怎样才能做到这一点？我猜是一个正则表达式，但我不是特别擅长想出它们。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:52:49.250

如果您可以 100% 保证：

1.  字母字符串为 2 或 3 个字符
2.  总是有一个或多个素数/逗号
3.  在字母和标记之前、之后或中间没有任何空格
    （除了换行符）

您可以使用：

```
/^([a-zA-Z]{2,3})('+|,+)$/gm

var arr = /^([a-zA-Z]{2,3})('+|,+)$/gm.exec("pok'''");
arr === ["pok'''", "pok", "'''"];

var arr = /^([a-zA-Z]{2,3})('+|,+)$/gm.exec("baf,,,");
arr === ["baf,,,", "baf", ",,,"]; 
```

当然，请保持理智，并将 RegEx 保存为 var。

作为警告，如果您没有像这样处理过正则表达式：如果未找到匹配项 - 如果您尝试`foo',''`通过混合标记进行匹配，或者您有 0-1 或 4+ 个字母，或者 0 标记.. . ...然后你不会得到一个数组，你会得到`null`.

所以你可以这样做：

```
var reg = /^([a-zA-Z]{2,3})('+|,+)$/gm,
    string = "foobar'',,''",

    result_array = reg.exec(string) || [string]; 
```

在这种情况下，exec 的结果为 null；通过把 || （或）在那里，我们可以返回一个包含原始字符串的数组，作为 index-0。

为什么？

因为成功执行的结果将有 3 个插槽；`[*string*, *letters*, *marks*]`. 您可能很想只阅读像`result_array[1]`. 但是如果匹配失败`result_array === null`，那么 JavaScript 会因为你的尝试而尖叫`null[1]`。

因此，在失败的 exec 末尾返回数组将允许您获取`result_array[1] === undefined`（即：与模式不匹配，因此 index-1 中没有字母），而不是 JS 错误。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T07:23:44.513

正则表达式有一个很好的特殊名称，称为“单词边界”（`\b`）。您可以使用它来检测单词的边界，这是一个字母数字字符序列。

所以你所要做的就是

```
foo.split(/\b/) 
```

例如，

```
"pok'''".split(/\b/) // ["pok", "'''"] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T06:44:41.083

你可以尝试这样的事情：

```
function splitString(string){
   var match1 = null;
   var match2 = null;
   var stringArray = new Array();
   match1 = string.indexOf(',');
   match2 = string.indexOf('`');
   if(match1 != 0){
      stringArray = [string.slice(0,match1-1),string.slice(match1,string.length-1];
   }
   else if(match2 != 0){
      stringArray = [string.slice(0,match2-1),string.slice(match2,string.length-1];
   }
   else{
      stringArray = [string];
   } 
```

}

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T06:47:08.483

```
var str = "mi,,,,";
var idx = str.search(/\W/);
if(idx) {
    var list = [str.slice(0, idx), str.slice(idx)]
} 
```

您将拥有`list[0]`和中的零件`list[1]`。

PS可能有比这更好的方法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-10T06:47:37.547

yourStr.match(/(\w{2,3})([,']*)/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-10T07:08:03.290

```
if (match = string.match(/^([a-z]{2,3})(,+?$|'+?$)/)) {
    match = match.slice(1);
} 
```

# javascript - IE8文本选择问题

> ID：11896596
> 
> 赞同：2
> 
> 时间：2012-08-10T06:35:26.653
> 
> 标签：javascript, jquery, css, jquery-ui, internet-explorer-8

IE8 文本选择问题。

我使用了 jquery ui 并创建了一个可调整大小的 div。所以基本上，当我调整 div 文本的大小时，也会选择它，如果我需要再次调整它的大小，我需要在 LI 之外单击，然后再次调整它的大小。

我试过了

```
-webkit-touch-callout: none;
-webkit-user-select: none;
-khtml-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;

-webkit-user-drag: none; 
-moz-user-drag: none; 
user-drag: none; 
```

还尝试了一些 js 代码片段，但无法修复它。

我的小提琴：http: [//jsfiddle.net/svXTa/16/](http://jsfiddle.net/svXTa/16/)

有什么帮助吗？

下面是问题的图像。

![在此处输入图像描述](../Images/c600d98a9284d7bc3d753d6b516d88b5.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-12-05T20:39:30.133

理想的解决方案是使用 CSS 属性[`user-select`](https://developer.mozilla.org/en-US/docs/Web/CSS/user-select)和所有供应商前缀来禁用文本选择：

```
-webkit-user-select: none;
-khtml-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none; 
```

不幸的是，IE8 不支持 CSS 解决方案，因此您仍然需要使用 Javascript。

正如 Brandon 建议的那样，jQuery UI[`disableSelection()`](http://api.jqueryui.com/disableSelection/)是一种选择，但它可能会产生一些不良副作用：如果您查看[jQuery UI 源代码](https://github.com/jquery/jquery-ui/blob/1-10-stable/ui/jquery.ui.core.js#L257)，该函数会通过短路`onselectstart`事件（如果存在）来工作，否则它将取消`onmousedown`。由于`onselectstart`它是非标准的并且在 Firefox 中不受支持，因此这将禁用在该浏览器中的单击，这可能是不可取的。

最好的解决方案是结合使用上述 CSS 和一些 Javascript 来禁用`onselectstart`，并且只能`onselectstart`使用以下内容：

```
$("ul, #dgArea").on("selectstart", function(e) { e.preventDefault(); }); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-11T08:38:44.770

利用

```
$('ul, #dgArea').disableSelection(); 
```

这只会禁用初始鼠标按下源自这些元素之一的选择。如果鼠标按下从其他地方开始，文本仍然可以突出显示。

如果您不关心人们能够突出显示容器中的文本，则可以将其设置为 .container 级别。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-03-03T10:57:26.217

单靠 CSS 无法完成这项工作。这是一个非常适合我的 IE8 特定的纯 JS 解决方案：

```
// test if is an old browser with lazyload optimisation
// because I often need to test if it is IE8
function isIE8(){
    var rv = -1; // Return value assumes failure.
    var appName = navigator.appName.toLowerCase();

    if (appName.indexOf('nternet')*appName.indexOf('xplorer') > 1) {
        var ua = navigator.userAgent.toLowerCase();
        var re = new RegExp("msie ([0-9]{1,}[\.0-9]{0,})");
        if (re.exec(ua))
            rv = parseFloat(RegExp.$1);
    }
    // LazyLoad optimisation
    isIE8 = function(){return (rv == 8);};
    return isIE8(); // 2 : call
}

function disableSelection(anElt){
// double check because some browsers mess with navigator.appName and userAgent
if(isIE8 && anElt.attachEvent) 
    anElt.attachEvent("onselectstart", function(){return false;});
} 
```

瞧 :)

# drupal - 在 drupal 6 的节点中显示评论表单而不是“添加评论”按钮

> ID：11896598
> 
> 赞同：0
> 
> 时间：2012-08-10T06:35:33.753
> 
> 标签：drupal, drupal-6, drupal-comments

在 Drupal 6 站点中，我为两种内容类型（con 1 和 con 2）启用了评论设置。在 con 1 中创建节点后，“添加评论”按钮显示在底部，但在 con 2 的情况下，创建节点后，它显示评论表单而不是“添加评论”按钮。两种内容类型具有相同的设置，如下所示：

> 默认评论设置：读/写。
> 
> 默认显示模式：线程列表 - 展开
> 
> 默认显示顺序：日期 - 最新的在前
> 
> 每页默认评论数：50
> 
> 评论控件：不显示
> 
> 匿名评论：匿名发帖者不得输入联系方式
> 
> 评论主题字段：已启用
> 
> 预览评论：必填
> 
> 意见提交表格的位置：显示在单独的页面上

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T20:19:04.330

兰贾尼，

当您编辑内容类型时，该设置由最后一个评论选项控制：

![在此处输入图像描述](../Images/06718bfaebc1095d61b836278737e769.png)

就像 Vlad 上面所说的那样，仔细检查以确保您的两种内容类型确实***是相同的。***这正是最后一个选项控制的内容：“添加评论”是节点上的表单还是指向显示评论表单的单独页面的链接......

# javascript - 用于检查特殊字符的 JavaScript 代码

> ID：11896599
> 
> 赞同：28
> 
> 时间：2012-08-10T06:35:33.823
> 
> 标签：javascript

我有 JavaScript 代码来检查字符串中是否有特殊字符。该代码在 Firefox 中运行良好，但在 Chrome 中却不行。在 Chrome 中，即使字符串不包含特殊字符，它也会表示它包含特殊字符。

```
var iChars = "~`!#$%^&*+=-[]\\\';,/{}|\":<>?";

for (var i = 0; i < chkfile.value.length; i++)
{
  if (iChars.indexOf(chkfile.value.charAt(i)) != -1)
  {
     alert ("File name has special characters ~`!#$%^&*+=-[]\\\';,/{}|\":<>? \nThese are not allowed\n");
     return false;
  }
} 
```

假设我想`desktop.zip`从任何 Linux/Windows 机器上传文件。的值`chkfile.value`在`desktop.zip`Firefox 中，但在 Chrome 中的`chkfile.value`值为`c://fakepath/desktop.zip`。我该如何`c://fakepath/`摆脱`chkfile.value`？

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2012-08-10T07:05:06.107

您可以使用此[正则表达式](https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Regular_Expressions)*测试*字符串：

```
function isValid(str){
 return !/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g.test(str);
} 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2014-04-28T15:03:54.040

直接来自[w3schools](http://www.w3schools.com/jsref/jsref_regexp_test.asp)网站：

```
 var str = "The best things in life are free";
   var patt = new RegExp("e");
   var res = patt.test(str); 
```

要将他们的示例与正则表达式结合起来，您可以执行以下操作：

```
function checkUserName() {
    var username = document.getElementsByName("username").value;
    var pattern = new RegExp(/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/); //unacceptable chars
    if (pattern.test(username)) {
        alert("Please only use standard alphanumerics");
        return false;
    }
    return true; //good user input
} 
```

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2017-02-13T12:09:47.723

试试这个。

```
function containsSpecialCharacters(str){
    var regex = /[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/g;
	return regex.test(str);
}
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-08-10T06:49:25.863

你在什么`return true`地方写的吗？你应该已经写了它，否则函数什么也不返回，程序也可能认为它是错误的。

```
function isValid(str) {
    var iChars = "~`!#$%^&*+=-[]\\\';,/{}|\":<>?";

    for (var i = 0; i < str.length; i++) {
       if (iChars.indexOf(str.charAt(i)) != -1) {
           alert ("File name has special characters ~`!#$%^&*+=-[]\\\';,/{}|\":<>? \nThese are not allowed\n");
           return false;
       }
    }
    return true;
} 
```

我在我的 chrome 控制台中尝试了这个，效果很好。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-09-20T18:04:14.527

你也可以这样做。

`specialRegex = /[^A-Z a-z0-9]/ specialRegex.test('test!') // evaluates to true` 因为如果它不是大写字母、小写字母、数字或空格，它只能是一个特殊字符

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2016-06-17T18:52:05.140

如果您不想包含任何特殊字符，请尝试使用 RegExp [\W](https://developer.mozilla.org/en/docs/Web/JavaScript/Guide/Regular_Expressions#special-non-word)元字符检查特殊字符的这种简单方法。

```
var iChars = "~`!#$%^&*+=-[]\\\';,/{}|\":<>?";
if(!(iChars.match(/\W/g)) == "") {
    alert ("File name has special characters ~`!#$%^&*+=-[]\\\';,/{}|\":<>? \nThese are not allowed\n");
    return false;
} 
```

# javascript - Backbone.js 的新手，如何从 html 按钮和链接调用函数

> ID：11896600
> 
> 赞同：0
> 
> 时间：2012-08-10T06:35:32.723
> 
> 标签：javascript, backbone.js

我是 Backbone.js 的新手，我正在通过各种示例学习这一点。现在我有点卡在我一直在做的事情上。

**小提琴链接：http:** [//jsfiddle.net/eSvA8/](http://jsfiddle.net/eSvA8/)

如您所见，我有一个 html 按钮和一个链接，我想使用按钮和链接调用该`addItem`函数。`addBtn``addLink`

请有人可以帮我解决这个问题。下面是我正在使用的代码。

**我的 Javascript 使用 Backbone.js**

```
var ListView = Backbone.View.extend({
    el: $('#testContainer'),

    events: {
      'click button#add': 'addItem',
      'click button#addBtn': 'addItem',
      'click #addLink': 'addItem'
    },
    initialize: function(){
      _.bindAll(this, 'render', 'addItem'); 
      this.counter = 0;
      this.render();
    },

    render: function(){
      $(this.el).append("<button id='add'>Add list item</button>");
      $(this.el).append("<ul></ul>");
    },

    addItem: function(){
      this.counter++;
      console.log('inside');
      $('ul', this.el).append("<li>hello world"+this.counter+"</li>");
    }
});

var listView = new ListView(); 

​ 
```

**我的 HTML**

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>    
</head>
<body>

<div id="testContainer" style="background-color: gray; min-height:200px; min-width:200px; color: white;"></div>

<button id="addBtn">Add using a button control !</button>
<br/>
<a id="addLink" style="cursor:pointer">Add using a simple link</a>

</body>
</html>
​ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T07:00:18.407

请 [参阅演示](http://codebins.com/bin/4ldqp8l) 或用我下面的代码替换您的代码

JS：

```
var ListView = Backbone.View.extend({
        el: $('#testContainer'),

        events: {
          'click button#add': 'addItem',
          'click button#addBtn': 'addItem',
          'click #addLink': 'addItem'
        },
        initialize: function(){
          _.bindAll(this, 'render', 'addItem');
          this.counter = 0;
          this.render();
        },

        render: function(){
          $(this.el).append("<button id='add'>Add list item</button>");
          $(this.el).append("<ul></ul>");
        },

        addItem: function(){
          this.counter++;
          console.log('inside');
          $('ul', this.el).append("<li>hello world"+this.counter+"</li>");
        }
    });

    var listView = new ListView(); 
```

HTML：

```
<div id="testContainer" style="background-color: gray; min-height:200px; min-width:200px; color: white;">
  <button id="addBtn">
    Add using a button control !
  </button>
  <br/>
  <a id="addLink" style="cursor:pointer">
    Add using a simple link
  </a>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:46:50.133

实现此代码，这应该可以工作。

```
var ListView = Backbone.View.extend({
        el: $('#testContainer'),

        events: {
          'click button#add': 'addItem',
          'click button#addBtn': 'addItem',
          'click #addLink': 'addItem'
        },
        initialize: function(){
          _.bindAll(this, 'render', 'addItem'); 
          this.counter = 0;
          this.render();
        },

        render: function(){
          $(this.el).append("<button id='add'>Add list item</button>");
          $(this.el).append("<ul></ul>");
        },

        addItem: function(){
          this.counter++;
          console.log('inside');
          $('ul', this.el).append("<li>hello world"+this.counter+"</li>");
        }
    });

    var listView = new ListView(); 
      $('#addBtn').click(function() {
    if(listView)
        listView.addItem();
});

$('#addLink').click(function() {
    if(listView)
        listView.addItem();
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-16T06:18:31.417

Nicely Build 解决方案就在这里。

```
var ListView = Backbone.View.extend({
    el: $('#testContainer'),

    events: {
      'click button#add': 'addItem',
      'click button#addBtn': 'addItem',
      'click #addLink': 'addItem'
    },
    initialize: function(){
      var self = this;
      _.bindAll(this, 'render', 'addItem'); 
      this.counter = 0;
      this.render();
      $("button#addBtn").click(function(){
           self.addItem();
      });
    },

    render: function(){
      $(this.el).append("<button id='add'>Add list item</button>");
      $(this.el).append("<ul></ul>");
    },

    addItem: function(){
      this.counter++;
      console.log('inside');
      $('ul', this.el).append("<li>hello world"+this.counter+"</li>");
    }
});
var listView = new ListView(); 
```

# iphone - iPhone的自定义标签栏控制器

> ID：11896601
> 
> 赞同：2
> 
> 时间：2012-08-10T06:35:34.063
> 
> 标签：iphone, uitabbarcontroller

我尝试为 iPhone 创建框架并尝试在我的框架中实现自定义标签栏控制器。任何人都可以帮助我为 iPhone 创建自定义标签栏控制器。我的意思是以编程方式添加标签栏控制器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:40:36.620

此链接可能对您有所帮助：

[http://howtomakeiphoneapps.com/how-can-i-add-tabs-programmatically-to-uitabbar/201/](http://howtomakeiphoneapps.com/how-can-i-add-tabs-programmatically-to-uitabbar/201/)

[http://kurrytran.blogspot.in/2011/10/ios-5-tutorial-creating-custom-tab-bar.html](http://kurrytran.blogspot.in/2011/10/ios-5-tutorial-creating-custom-tab-bar.html)

[http://mobiledevelopertips.com/open-source/ios-open-source-custom-tabbar-controller-bctabbarcontroller.html](http://mobiledevelopertips.com/open-source/ios-open-source-custom-tabbar-controller-bctabbarcontroller.html)

或者

另一个选项是 - 您可以使用类似于 UITabbarController 的自定义按钮。

享受编码:)

穆纳尔

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:35:14.777

```
To create tab bar give this code in AppDelegate.m

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
  UIViewController *viewController1, *viewController2,*viewController3;

  viewController1 = [[FirstViewController alloc] initWithNibName:@"FirstViewControllerXibname" bundle:nil];
  viewController2 = [[SecondViewController alloc] initWithNibName:@"SecondViewControllerXibname" bundle:nil];
  viewController3 = [[ThirdViewController alloc] initWithNibName:@"ThirdViewControllerXibname" bundle:nil];

  self.tabBarController = [[UITabBarController alloc] init];
  self.tabBarController.viewControllers = [NSArray arrayWithObjects:viewController1, viewController2,viewController3, nil];
  self.window.rootViewController = self.tabBarController;
  [self.window makeKeyAndVisible];

   self.tabBarController.moreNavigationController.navigationBar.tintColor =[UIColor darkTextColor];

  [[UITabBar appearance] setSelectedImageTintColor:[UIColor yellowColor]]; //change selected image color on tabbatItem

  self.tabBarController.moreNavigationController.navigationBar.barStyle = UIBarStyleBlackOpaque;

  [self.tabBarController.tabBar setOpaque:YES];
  return YES;
} 
```

# liferay - doView 覆盖上的 super.doView(...) 和 include(...) 有什么区别？

> ID：11896609
> 
> 赞同：4
> 
> 时间：2012-08-10T06:36:09.550
> 
> 标签：liferay, portlet

我正在开发一个自定义 portlet（编辑：我正在扩展 MVCPortlet），并查看了几个示例和教程，我发现当 doView(RenderRequest, RenderResponse) 方法被覆盖时，在它的最后总是至少有这个线：

```
super.doView(renderRequest, renderResponse); 
```

或这个：

```
include(viewJSP, renderRequest, renderResponse); 
```

如果我不放置其中任何一个，我的 portlet 就不会呈现任何内容，但其中任何一个都可以解决问题。

我想知道我应该使用哪一个，以及为什么我需要添加它们才能让我的 portlet 工作。

谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-13T09:37:42.637

所以你必须扩展[`MVCPortlet`](http://www.jarvana.com/jarvana/view/com/liferay/portal/util-bridges/6.1.0/util-bridges-6.1.0-sources.jar!/com/liferay/util/bridges/mvc/MVCPortlet.java?format=ok)课程。这两个调用都用于在处理完成后**包含**JSP 。`doView`如果你看一下这个类的源代码，你就会明白流程是什么，下面是我的解释：

> super.doView(renderRequest, renderResponse);

这包括默认的 JSP ie `view.jsp`，您可能（或没有）已经配置`portlet.xml`如下：

```
<init-param>
    <name>view-template</name>
    <value>/html/view.jsp</value>
</init-param> 
```

这个超类方法什么都不做，只是`include(viewJSP, renderRequest, renderResponse);`在最后调用该方法。

> 包括（viewJSP，renderRequest，renderResponse）；

此方法包括您为参数指定的任何 JSP 路径`viewJSP`。因此，通过此调用，您可以为不同的条件指定包括不同的 JSP，如下所示：

```
if (isThisTrue) {
    include("/html/myCustomPortlet/view.jsp", renderRequest, renderResponse);
} else if (isThisTrueThen) {
    include("/html/myCustomPortlet/first/another_view.jsp", renderRequest, renderResponse);
} else {
    super.doView(renderRequest, renderResponse);
} 
```

因此，根据您的要求，您可以使用两者中的任何一种或两者的混合，如上所示。希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T17:24:50.117

包含允许您指定要使用的不同 JSP，而不是默认视图。因此，如果您不使用自定义视图页面，则两者都可以。

# arduino - 开始使用 Arduino mega 的问题

> ID：11896610
> 
> 赞同：0
> 
> 时间：2012-08-10T06:36:11.143
> 
> 标签：arduino, atmel, avrdude

我刚拿到我的第一个全新的`Arduino mega 2560`板。我已经下载了`Arduino 1.0.1`软件。

当我第一次插入电路板时，它无法检测到设备。所以我打开设备管理器并指向`"...\arduino-1.0.1\drivers"`文件夹来更新未识别`Arduino Mega 2560` 设备的驱动程序。

现在是我的第一个问题；`(O/S is window 7 32bit)`

```
Following warning came. 
```

![在此处输入图像描述](../Images/094477b2ecad365248d581efae64bd7f.png)

```
I chose to install anyway. Is that wrong?? 
```

但是驱动安装成功。

然后我打开`Arduino 1.0.1`软件（我应该怎么称呼它，IDE？）并打开了眨眼示例。并试图将其上传到董事会。我没有更改任何设置。保留默认设置，即；

```
Board       = Arduino Mega 2560 or Mega ADK  
Serial Port = COM3 
```

上传失败，出现以下错误，

```
Binary sketch size: 1,632 bytes (of a 258,048 byte maximum)
avrdude: stk500v2_command(): unknown status 0xc8
avrdude: initialization failed, rc=-1
         Double check connections and try again, or use -F to override
         this check.

avrdude: stk500v2_command(): unknown status 0x01
avrdude: stk500v2_disable(): failed to leave programming mode 
```

我怎样才能克服这个问题？我没有任何关于 Arduino 的经验。现在想不通怎么办。

如果有人可以帮助我克服这个问题，将不胜感激。如果我提供的细节不够，请询问。希望有人能尽快来帮忙。。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T07:26:56.200

此处描述了可能解决方案的相同问题：

[http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?action=print;num=1287724404](http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?action=print;num=1287724404)

# windows-runtime - 如何从winrt访问环境变量

> ID：11896614
> 
> 赞同：4
> 
> 时间：2012-08-10T06:36:45.523
> 
> 标签：windows-runtime

WinRT下有没有getenv函数的替代品？

或者可能根本无法访问环境变量？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T10:35:01.217

I believe it is not possible to retrieve environment variables from a WinRT app. However, your app has a local, roaming, and temp folder available to it. Windows.Storage.ApplicationData.Current has all the root folders you need to create/read/delete files and folders in your app's folders.

# php - 提取二级 XML 节点的名称/值对

> ID：11896617
> 
> 赞同：1
> 
> 时间：2012-08-10T06:37:01.660
> 
> 标签：php, xml, loops, simplexml, extract

好的，我有一些基本的 XML 格式如下：

```
<application>
   <authentication>
      <id>26</id>
      <key>gabe</key>
   </authentication>
   <home>
      <address>443 Pacific Avenue</address>
      <city>North Las Vegas</city>
      <state>NV</state>
      <zip>89084</zip>
   </home>
</application> 
```

我正在使用 simplexml_load_string() 将上述 XML 加载到变量中，如下所示：

```
$xml = simplexml_load_string($xml_string); 
```

我想提取第二个节点的名称/值对，例如，我想忽略`<authentication>`and`<home>`节点。我只对这些一级节点内的子节点感兴趣：

1.  ID
2.  钥匙
3.  地址
4.  城市
5.  状态
6.  压缩

所以我正在寻找一个 foreach 循环，它将提取上述 6 个名称/值对，但忽略“较低级别”的名称/值对。`<authentication>`以下代码仅打印and节点的名称/值对`<home>`（我想忽略）：

```
foreach($xml->children() as $value) {
  $name = chop($value->getName());
  print "$name = $value";
} 
```

有人可以帮我解决**只**提取上述 6 个节点的名称/值对的代码吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:46:05.500

您可以使用 xpath： [http: //php.net/manual/en/simplexmlelement.xpath.php](http://php.net/manual/en/simplexmlelement.xpath.php)

随着路径

```
/application/*/* 
```

您将获得所有二级元素。

编辑：

```
$string = <<<XML
<application>
   <authentication>
      <id>26</id>
      <key>gabe</key>
   </authentication>
       <home>
          <address>443 Pacific Avenue</address>
          <city>North Las Vegas</city>
          <state>NV</state>
          <zip>89084</zip>
       </home>
    </application>
XML;

    $xml = new SimpleXMLElement($string);

   foreach($xml->xpath('/application/*/*') as $node){
        echo "{$node->getName()}: $node,\n";
   } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T11:20:48.600

好的，所以我查看了您的建议（Oliver A.）并提出了以下代码：

```
$string = <<<XML
<application>
   <authentication>
      <id>26</id>
      <key>gabe</key>
   </authentication>
   <home>
      <address>443 Pacific Avenue</address>
      <city>North Las Vegas</city>
      <state>NV</state>
      <zip>89084</zip>
   </home>
</application>
XML;

$xml = new SimpleXMLElement($string);

/* Search for <a><b><c> */
$result = $xml->xpath('/application/*/*');

while(list( , $node) = each($result)) {
    echo '/application/*/*: ',$node,"\n";
} 
```

它返回以下内容：

```
/application/*/*: 26
/application/*/*: gabe
/application/*/*: 443 Pacific Avenue
/application/*/*: North Las Vegas
/application/*/*: NV
/application/*/*: 89084 
```

这是进步，因为我现在只有二级元素的值。伟大的！问题是我需要为名称和值对分配一个变量名称。似乎我无法提取每个二级节点的名称。我错过了什么吗？

# android - 如何仅混淆少数类或单个包？

> ID：11896618
> 
> 赞同：9
> 
> 时间：2012-08-10T06:37:09.010
> 
> 标签：android, proguard

我不会混淆我所有的项目，而只会混淆最关键的类。如何编写 proguard 文件以排除所有项目并仅混淆单个类或单个包？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:55:30.163

请在投票前阅读答案。你需要 ！在你上课之前。

看看[Proguard 手册](http://proguard.sourceforge.net/#manual/usage.html)：`Keep option`部分和[Android 示例](http://proguard.sourceforge.net/index.html#manual/examples.html)。

例子 ：

```
 -keeppackagenames com.vtcmobile {
    ! com.yourpackage.CategoryParser // keep package com.vtcmobile excluded class com.vtcmobile.CategoryParser
    } 
```

编辑：使用

> -keeppackagenames [package_filter] 指定不混淆给定的包名。可选过滤器是以逗号分隔的包名称列表。包名称可以包含 ?、* 和 ** 通配符，并且可以在它们**前面加上 !** ***否定者***。仅在混淆时适用。

# wpf - 自定义控件依赖属性绑定

> ID：11896619
> 
> 赞同：23
> 
> 时间：2012-08-10T06:37:15.880
> 
> 标签：wpf, wpf-controls, dependency-properties

我要疯了，试图让它与最基本的例子一起工作。我这辈子都无法工作。这是一个对我不起作用的超级简单示例。我一定做错了什么。

我的控件库程序集中的自定义控件：

```
public class TestControl : Control
{
    public static readonly DependencyProperty TestPropProperty =
        DependencyProperty.Register("TestProp", typeof(string), typeof(TestControl), new UIPropertyMetadata(null));

    public string TestProp
    {
        get { return (string)GetValue(TestPropProperty); }
        set { SetValue(TestPropProperty, value); }
    }

    static TestControl()
    {
        DefaultStyleKeyProperty.OverrideMetadata(typeof(TestControl), new FrameworkPropertyMetadata(typeof(TestControl)));
    }
} 
```

及其 XAML 模板：

```
<Style TargetType="{x:Type local:TestControl}">
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="{x:Type local:TestControl}">
                <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                    <StackPanel>
                        <TextBlock Text="Testing..." />
                        <Label Content="{Binding TestProp}" Padding="10" />
                    </StackPanel>
                </Border>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

这是在 wpf 窗口中使用控件的 XAML，并引用了我的控件库：

```
<Grid>
    <ItemsControl Name="mylist">
        <ItemsControl.ItemTemplate>
            <DataTemplate>
                <my:TestControl TestProp="{Binding Path=Name}" />
            </DataTemplate>
        </ItemsControl.ItemTemplate>
    </ItemsControl>
</Grid> 
```

这是背后的代码：

```
public partial class Test2 : Window
{
    public class TestObject : INotifyPropertyChanged
    {
        public event PropertyChangedEventHandler PropertyChanged;
        protected void OnPropertyChanged(string PropertyName)
        {
            if (PropertyChanged != null)
                PropertyChanged(this, new PropertyChangedEventArgs(PropertyName));
        }

        private int _id;
        public int id
        {
            get { return _id; }
            set { _id = value; OnPropertyChanged("id"); }
        }

        private string _Name;
        public string Name
        {
            get { return _Name; }
            set { _Name = value; OnPropertyChanged("Name"); }
        }
    }

    public Test2()
    {
        InitializeComponent();

        mylist.ItemsSource = new TestObject[]
        {
            new TestObject(){ id = 1, Name = "Tedd" },
            new TestObject(){ id = 2, Name = "Fred" },
            new TestObject(){ id = 3, Name = "Jim" },
            new TestObject(){ id = 4, Name = "Jack" },
        };
    }
} 
```

运行此示例为我提供了四个控件实例，但是我只在每个实例上看到“正在测试...”TextBlock。我的标签从不绑定。我有什么误解和做错了什么？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-08-10T06:45:56.977

您还没有设置正确的绑定源。您要么必须设置[RelativeSource](http://msdn.microsoft.com/en-us/library/system.windows.data.binding.relativesource.aspx)：

```
<Label Content="{Binding TestProp, RelativeSource={RelativeSource Mode=TemplatedParent}}" /> 
```

或使用[TemplateBinding](http://msdn.microsoft.com/en-us/library/ms742882.aspx)：

```
<Label Content="{TemplateBinding TestProp}"/> 
```

# php - drupal的cron中的计划任务执行问题

> ID：11896620
> 
> 赞同：4
> 
> 时间：2012-08-10T06:37:30.577
> 
> 标签：php, drupal, drupal-7, cron

我有一个名为 parser2 的模块，它可以从 html 页面进行解析。一切正常，除了 cron 计划。它只是没有将我的任务添加到 cron 任务中，并且在日志中，我看到有 0 个计划任务，每次 cron 运行。下一个问题，如果我手动启动 cron 几次，在我得到白屏死机之后，唯一对我有帮助的一件事就是从 DB 和 system.table 中删除 parser2 表，然后运行 ​​update.php . 这是应该完成所有这些工作的代码，但我不明白这里的错误在哪里

```
 function parser_cron_queue_info() {
    $info = array();
    $info['get_parser_weather'] = array(
    'worker callback' => 'parser_weather',
    'time' => 10,      
  );
    $query = db_select('parser_jobs', 'pn')
    ->fields('pn', array('id','time_run_in_crone'))
    ->condition('run_in_crone', 1)
    ->execute();
    foreach ($query as $job){
        $info['get_parser_weather_'.$job->id] = array(
        'worker callback' => 'parser_weather',
        'time' => $job->time_run_in_crone,      
   };
  }
  return $info;
}

function parser_cron() {

  $query = db_select('parser_jobs', 'pn')
    ->fields('pn', array('id','time_run_in_crone'))
    ->condition('run_in_crone', 1)
    ->execute();
  foreach ($query as $job){
    $queue = DrupalQueue::get('get_parser_weather_'.$job->id);
    $queue->createItem($job->id);
  }

}

function  parser_weather($job_id){

    $job = parser_job_load($job_id);
   _parser_url_delete_all();
   _parser_url_add($job->start_url);
   while (_parser_url_get_not_parsed())
   {
      parser_parse2($job);
    };
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-24T18:20:58.783

尝试获取代码正在生成的 cron 命令，然后在命令行中运行它以确保它是正确的，还要仔细检查您的脚本运行的用户是否有权添加新任务。

# delphi - 将脚本存储为资源

> ID：11896622
> 
> 赞同：4
> 
> 时间：2012-08-10T06:37:40.827
> 
> 标签：delphi, delphi-xe

我有一些我希望我的程序使用的脚本。但是，我想知道我是否可以将这些脚本（例如批处理、javascript、vb 脚本等）作为资源存储在我的应用程序中。

我该怎么做呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:39:39.277

您可以将脚本存储在资源文件中。但是例如批处理文件需要在磁盘上的文件，所以你需要在工作之前解压它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T07:34:17.973

这是一篇很好的文章，它解释了如何在资源文件中添加几乎所有内容并使用您的应用程序编译它：http: [//delphi.about.com/od/objectpascalide/a/embed_resources.htm](http://delphi.about.com/od/objectpascalide/a/embed_resources.htm)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T07:38:26.753

有组件可以在 DFM 中存储任意文件/文件或字符串

例如，在 rxLib/JediVCL 中有这样的，但我相信许多 VCL 库都有一种或另一种 DFM 存储组件。

例如，我曾经将 Firebird Embedded 数据库存储在 DFM 中，以将其保存到 TEMP 中并在运行时使用。

但是，这类似于每次更新时手动将文件重新读取到 DFM 中。说实话比较烦人。

* * *

另一种方法是将文本链接到资源。您可以查看**DUnit**源代码以了解它是如何完成的。您还将在项目中包含 .rc 文件，以便在制作 .exe 时将其编译为 .res

这种方法对 ansi/unicode 文本解释很脆弱。坦率地说，在我在 Delphi XE2 中找到**DUnit**（由于 IDE 错误而被禁用）之前，我试图让 SF 的 vanilla DUnit 在那里运行。我失败了 - 使用启用 unicode 的 Delphi 阅读时，链接到资源的非 unicode 文本文件完全损坏。

看看这里和那里，尝试两种方法并选择更适合你的一种。

# url - 关于使用 vb.net 在字符串中拆分命令

> ID：11896624
> 
> 赞同：0
> 
> 时间：2012-08-10T06:37:46.847
> 
> 标签：url, query-string

我有 url。它包含这样的 querstring 值。拆分 url 并将查询字符串值存储在数组中。查询字符串值不会在应用程序中传递。它来自另一个应用程序

```
url
----
http://.....?lead_id=152818&vendor_id=100001&list_id=1001&gmt_offset_now=0.00&phone_code=91&phone_number=9942321400&title=MR&first_name=Hari&middle_initial=Q&last_name=PUBLIC&address1=249+MUNDON+ROAD&address2=MALDON&address3=FL&city=44&state=TN&province=NO_PROVINCE&postal_code=600004&country_code=IN&gender=M&date_of_birth=0000-00-00&alt_phone=9942321400&email=test@test.com&security_phrase=nothing&comments=COMMENTS&user=22222&pass=test&campaign=OUTBOUND&phone_login=22222&original_phone_login=22222&phone_pass=test&fronter=22222&closer=22222&group=OUTBOUND&channel_group=OUTBOUND&SQLdate=2012-08-07+164931&epoch=1344338372&uniqueid=1344338352.12754&customer_zap_channel=&customer_server_ip=&server_ip=10.103.200.177&SIPexten=22222&session_id=8600062&phone=9942321400&parked_by=152818&dispo=N&dialed_number=9942321400&dialed_label=MAIN&source_id=10001&rank=1&owner=Southeast&camp_script=&in_script=&script_width=600&script_height=340&fullname=J.Hariharan&recording_filename=OUTBOUND_20120807-164911_22222_9942321400&recording_id=248601&user_custom_one=&user_custom_two=&user_custom_three=&user_custom_four=&user_custom_five=&preset_number_a=&preset_number_b=&preset_number_c=&preset_number_d=&preset_number_e=&preset_dtmf_a=&preset_dtmf_b=&session_name=1344338181_2222216466857"

my question is i want to store the querystring values in an one dimensional string 
array.

my code
-------
Dim strarr() As String
    Dim s As String = "http://...../test.aspx?lead_id=152818&vendor_id=100001&list_id=1001&gmt_offset_now=0.00&phone_code=91&phone_number=9942321400&title=MR&first_name=Hari&middle_initial=Q&last_name=PUBLIC&address1=249+MUNDON+ROAD&address2=MALDON&address3=FL&city=44&state=TN&province=NO_PROVINCE&postal_code=600004&country_code=IN&gender=M&date_of_birth=0000-00-00&alt_phone=9942321400&email=test@test.com&security_phrase=nothing&comments=COMMENTS&user=22222&pass=test&campaign=OUTBOUND&phone_login=22222&original_phone_login=22222&phone_pass=test&fronter=22222&closer=22222&group=OUTBOUND&channel_group=OUTBOUND&SQLdate=2012-08-07+164931&epoch=1344338372&uniqueid=1344338352.12754&customer_zap_channel=&customer_server_ip=&server_ip=10.103.200.177&SIPexten=22222&session_id=8600062&phone=9942321400&parked_by=152818&dispo=N&dialed_number=9942321400&dialed_label=MAIN&source_id=10001&rank=1&owner=Southeast&camp_script=&in_script=&script_width=600&script_height=340&fullname=J.Hariharan&recording_filename=OUTBOUND_20120807-164911_22222_9942321400&recording_id=248601&user_custom_one=&user_custom_two=&user_custom_three=&user_custom_four=&user_custom_five=&preset_number_a=&preset_number_b=&preset_number_c=&preset_number_d=&preset_number_e=&preset_dtmf_a=&preset_dtmf_b=&session_name=1344338181_2222216466857"
    strarr = s.Split("?")
    Dim s1 As String = strarr(1)
    Dim constr() As String
    constr = s1.Split("&")

but am not get correct result

my result
---------
list_id=1001
gmt_offset_now=0.00
phone_code=91
phone_number=9942321400

expected result
---------------
  1001
  0.00
  91
  9942321400 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:44:43.487

遍历您的 'constr' 并使用另一个拆分（ by '=' ）。结果可以存储在 List(of String) 中。

```
dim r as new list(of String)
for each c in constr
   r.add(c.split("=")(1))
next 
```

（像这样）

要查看此内容，您应该列出“r”内的所有项目，因此您需要另一个。

```
for each item in r
   console.writeline(item)
next 
```

您也可以在第一个循环中执行此操作。

# php - 如何在我的 Wordpress 网站的主页上显示 HTML 标签？

> ID：11896626
> 
> 赞同：-1
> 
> 时间：2012-08-10T06:37:55.187
> 
> 标签：php, html, wordpress

我的 Wordpress 配置显示我的内容完全剥离了主页上的 HTML 标记。在这种情况下，如何在我的内容中显示 HTML 标记？

在帖子页面上是：

```
<code><!doctype html></code>some text.... 
```

但在主页上是：

```
<!doctype html>some text.... //For some reasons the tags are removed, why? 
```

这很重要，因为我正在将样式应用于`<code>`标签，并且我不希望代码看起来像主页上的普通文本。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T07:22:25.987

试着把它包起来`<code><pre>code here</pre></code>`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T07:00:23.197

您在寻找代码荧光笔吗？

然后尝试以下插件中的任何一个：

1.  [**SyntaxHighlighter 进化**](http://wordpress.org/extend/plugins/syntaxhighlighter/)
2.  [**WP-语法**](http://wordpress.org/extend/plugins/wp-syntax/)
3.  [**FV 代码荧光笔**](http://wordpress.org/extend/plugins/fv-code-highlighter/)
4.  [**代码着色器**](http://wordpress.org/extend/plugins/codecolorer/)

# objective-c - 如何通过与xcode中的字符串值进行比较来从数组中获取单个元素？

> ID：11896634
> 
> 赞同：3
> 
> 时间：2012-08-10T06:38:26.303
> 
> 标签：objective-c

如何通过与字符串值比较从数组中获取单个元素。我在文本字段中有一个字符串。我想将该文本字段字符串与一个数组进行比较。我想从该数组中获取该单个元素。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-10T06:47:47.507

如果您有`NSArray`of`NSString`并且您只想查看文本字段字符串是否在数组中，您可以使用：

```
NSString *textFieldString;   // Contents of my text field
NSArray *myArray;            // Array to search
BOOL stringMatches = [myArray containsObject:textFieldString]; 
```

如果您想知道数组中字符串的索引，请使用：

```
NSUInteger index = [myArray indexOfObject:textFieldString]; 
```

如果`index == NSNotFound`数组不包含文本字段字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T09:31:28.837

用这个 ：

```
for (NSString * string in yourArray) {
    if ([string isEqualToString:textField.text])
    {       
      NSLog(@" They are equal");        
    }
    else
    {
      NSLog(@" They are not");
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T06:48:23.750

使用`compare:`方法。

```
for (int i=0; i<[yourArray count]; i++) {
    NSString * string = [yourArray objectAtIndex:i];
    if ([textfield.text compare:string]) {
        NSLog(@"yes");
        break;
    }
} 
```

我想这会对你有所帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T07:06:39.450

使用 isEqualToString: 方法获取两个字符串。

```
for (int i=0; i<[array count]; i++) {
    NSString * string = [array objectAtIndex:i];
    i if (string isEqualToString:textField.text)
    {       
      NSLog(@"Equal");        
    }
    else
    {
      NSLog(@"Not Equal");
    }
} 
```

# regex - 正则表达式：在一个JSON数组中，获取状态为waiting的对象的id

> ID：11896637
> 
> 赞同：0
> 
> 时间：2012-08-10T06:38:43.953
> 
> 标签：regex, json, jmeter

我有一个 JSON 响应，我想用包含对象数组的正则表达式解析，例如

```
...
{
 "Id":"01",
 "Subject":"Sub",
 ....
 "Status":"Completed"
 ...
},
{
 "Id":"02",
 "Subject":"Sub",
 ....
 "Status":"Waiting"
 ...
} 
```

我想获取状态等待的对象的 id。

当我用它解析时`"Id": "(.+?)",[\s\S]+?"Subject": "Sub",[\s\S]+?"Status": "Waiting";`，从“等待”到第一个“Id”（向后）；当然我想要正在等待的对象的 ID。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T07:08:41.870

试试这个：

```
{\s*"Id":"(\d+)"[^}]+"Status":"Waiting"\s*} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:13:50.870

试试这个：

```
(?s)"Id":\s*"([^"]+)[^}]*?"Status":\s*"Waiting" 
```

如果属性 Id 和 Status 之间没有嵌套的 { }，它将起作用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T07:14:45.217

如果您可以使用 Json Parser，请使用它。

只要没有嵌套括号，这将起作用。

```
{[^{}]*Id":"(\d+)[^{}]*\s"Status":"Waiting" 
```

[在 Regexr 上](http://gskinner.com/RegExr/?31pvg)查看

你的表情

```
"Id": "(.+?)",[\s\S]+?"Subject": "Sub",[\s\S]+?"Status": "Waiting"
                                       ^^^^^^^^
                                       fails here 
```

该部分从第一个匹配任何内容，`"Sub",`直到找到第一个`"Status": "Waiting"`

# c++ - 在固定管道中使用 OpenGL 在绘制时遮盖部分纹理

> ID：11896638
> 
> 赞同：1
> 
> 时间：2012-08-10T06:38:48.673
> 
> 标签：c++, opengl, sdl

我试图找出在绘制纹理部分时掩盖纹理部分的最佳方法。我的问题在于我似乎已经运行了我们的 alpha 蒙版！

我们正在使用 openGL 绘制自定义构建的 2D 游戏引擎。游戏由精灵和简单的块纹理构成。

我想要的结果是这样的：

*   一个角色精灵被绘制在适当的位置（使用它的 alpha 颜色不仅仅是一个盒子）
*   一个物品被绘制到玩家手中（也使用它的 alpha 颜色绘制到场景中而不是一个盒子）
*   该项目应出现在角色手臂/手的后面，但在身体的其余部分上方。

目前我能弄清楚如何做到这一点的唯一方法是按顺序绘制它们（身体、物品、手臂），但我想避免这种情况，以使艺术资产更容易处理。我的想法解决方案是绘制角色，然后使用 alpha 蒙版绘制项目，该蒙版遮挡应该在手臂“下方”的纹理区域。

我见过的其他解决方案是[这样](https://stackoverflow.com/questions/5097145/opengl-mask-with-multiple-textures)的，其中使用了 glBlendFuncSeparate() 函数。我试图避免引入扩展，因为我当前版本的 OpenGL 不支持它。并不是说我反对这个想法，但是仅仅为了绘制一个 alpha 蒙版，它似乎有点像把柄？

我完全承认这对我来说是一个学习过程，我以此为借口来真正了解 OpenGL 的处理方式。关于我应该去哪里让它正确绘制的任何建议？固定管道中的 OpenGL 有没有办法获取纹理，在其上应用 alpha 蒙版，然后将其绘制到缓冲区中？我应该屈服并将我的角色分成其模型的几个部分吗？

[更新：2012 年 8 月 12 日]

尝试添加 Tim 建议的代码，但我似乎遇到了问题。当我启用模板缓冲区时，一切都被封锁了，不仅仅是我想要的。这是我的测试示例代码。

```
glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT | GL_STENCIL_BUFFER_BIT);

// Disable writing to any of the color fields
glColorMask(GL_FALSE, GL_FALSE, GL_FALSE, GL_FALSE);

glStencilOp(GL_KEEP, GL_KEEP, GL_INCR); 

glStencilFunc(GL_ALWAYS, 0,0);

// Draw our blocking poly
glBegin(GL_POLYGON);                                   
    glVertex2f( 50,     50 );
    glVertex2f( 50,     50+128 );
    glVertex2f( 50+128, 50+128 );
glEnd();

glStencilFunc(GL_GREATER, 0, -1);

glEnable(GL_STENCIL_TEST);

// Re enable drawing of colors
glColorMask(GL_TRUE, GL_TRUE, GL_TRUE, GL_TRUE);

// Enable use of textures
glEnable(GL_TEXTURE_2D);

// Bind desired texture for drawing
glBindTexture(GL_TEXTURE_2D,(&texture)[0]);

// Draw the box with colors
glBegin(GL_QUADS);                                   
    glTexCoord2d( 0, 0 );    glVertex2f( 50,     50 );
    glTexCoord2d( 0, 1 );    glVertex2f( 50,     50+128 );
    glTexCoord2d( 1, 1 );    glVertex2f( 50+128, 50+128 );
    glTexCoord2d( 1, 0 );    glVertex2f( 50+128, 50 );
glEnd();

// Swap buffers and display!
SDL_GL_SwapBuffers(); 
```

为了清楚起见，[这](http://pastebin.com/Eg40a8QC)也是我设置这个系统的初始化代码。

当代码在 stencil **disabled**的情况下运行时，我得到这个：![没有 glEnable(GL_STENCIL_TEST);](../Images/87b91783dcb36bfa18c32acc62506f6e.png)

当我使用 glEnable(GL_STENCIL_TEST) 时，我得到了这个：![在此处输入图像描述](../Images/23f5098372e6ab55e86d2e8d27dba1ae.png)

我尝试过各种选项，但我看不出我的模板缓冲区阻塞*一切*的明确原因。

[更新#2 8/12/12]

我们得到了一些工作代码，谢谢蒂姆！这是我最终运行正常工作的内容。

```
glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT | GL_STENCIL_BUFFER_BIT);

// Disable writing to any of the color fields
glColorMask(GL_FALSE, GL_FALSE, GL_FALSE, GL_FALSE);

glStencilOp(GL_INCR, GL_INCR, GL_INCR);

glEnable(GL_STENCIL_TEST);
// Draw our blocking poly
glBegin(GL_POLYGON);                                   
    glVertex2f( 50,     50 );
    glVertex2f( 50,     50+128 );
    glVertex2f( 50+128, 50+128 );
glEnd();

glStencilFunc(GL_EQUAL, 1, 1);

glStencilOp(GL_KEEP, GL_KEEP, GL_KEEP); 

// Re enable drawing of colors
glColorMask(GL_TRUE, GL_TRUE, GL_TRUE, GL_TRUE);

// Enable use of textures
glEnable(GL_TEXTURE_2D);

// Bind desired texture for drawing
glBindTexture(GL_TEXTURE_2D,(&texture)[0]);

// Draw the box with colors
glBegin(GL_QUADS);                                   
    glTexCoord2d( 0, 0 );    glVertex2f( 50,     50 );
    glTexCoord2d( 0, 1 );    glVertex2f( 50,     50+128 );
    glTexCoord2d( 1, 1 );    glVertex2f( 50+128, 50+128 );
    glTexCoord2d( 1, 0 );    glVertex2f( 50+128, 50 );
glEnd();
glDisable(GL_STENCIL_TEST);

// Swap buffers and display!
SDL_GL_SwapBuffers(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T19:48:53.957

这是我对拥有一个纹理和一个 alpha 蒙版的情况的想法：

1.  像往常一样将角色绘制到场景中。
2.  锁定 RGB 颜色通道，使其无法更改`glColorMask`
3.  设置模板缓冲区`glStencilOp(GL_KEEP, GL_KEEP, GL_INCR); glStencilFunc(GL_ALWAYS, 0,0);`
4.  在启用 alpha 测试的情况下绘制 alpha 蒙版。这将在 alpha 测试通过的任何地方增加模板缓冲区（您可能必须根据您的掩码极性翻转它）
5.  此时，帧缓冲区中有一个字符纹理，模板缓冲区中有一个蒙版轮廓。
6.  重新启用颜色通道`glColorMask`
7.  为武器设置模板缓冲区`glStencilFunc(GL_GREATER, 0, -1);`这将只绘制模板缓冲区大于零的武器纹素，并拒绝未更新模板的像素。
8.  像往常一样绘制武器纹理。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T11:21:00.310

Tim 在他的评论中非常清楚，但我想向您展示我认为最直观的解决方案。它是 3D 的，所以请稍等... ;)

基本上，您可以只使用图像的 Z 坐标来创建虚拟“层”。然后，您绘制它们的顺序无关紧要。只需单独对每个图像进行 alphatest，并在正确的 Z 值上绘制它。如果还不够，您可以使用包含每个像素“深度”的单独纹理，然后使用第二个纹理执行某种深度测试。

`glEnable(GL_DEPTH_TEST);`如果您想使用这种方法，请务必致电。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T21:47:23.243

正如我所看到的，问题是你有一个纹理，但它的一部分代表手臂，一部分代表角色的其余部分。问题是您想将武器画在角色上，但将手臂画在两者上。

这意味着，在绘制两个对象时，您希望将它们放入三个不同的“层”中。这从根本上说没有意义，所以你有点卡住了。

这里有一个想法：使用片段程序（即着色器）。

我建议你重载角色纹理的 alpha 通道来编码透明度和图层。例如，让我们使用 0=透明身体，64=不透明身体，128=透明手臂，255=不透明手臂。

从这里开始，您绘制对象，但有条件地将对象的深度设置为三层。基本上，您编写一个片段程序，将您的角色绘制成两个不同的层，角色被向后推而手臂被向前拉。绘制武器时，它是在没有着色器的情况下绘制的，但它会根据角色的像素深度进行测试。它的工作原理是这样的（显然未经测试）。

定义一个着色器 my_shader，其中包含一个片段程序：

```
uniform sampler2D character_texture;
void main(void) {
    vec4 sample = texture2D(character_texture,gl_TexCoord[0].st);

    int type; //Figure out what type of character texel we're looking at
    if      (fabs(sample.a-0.00)<0.01) type = 0; //transparent body
    else if (fabs(sample.a-0.25)<0.01) type = 1; //opaque body
    else if (fabs(sample.a-0.50)<0.01) type = 2; //transparent arm
    else if (fabs(sample.a-1.00)<0.01) type = 3; //opaque arm

    //Don't draw transparent pixels.
    if (type==0 || type==2) discard;

    gl_FragColor = vec4(sample.rgb,1.0);

    //Normally, you (can) write "gl_FragDepth = gl_FragCoord.z".  This
    //is how OpenGL will draw your weapon.  However, for the character,
    //we alter that so that the arm is closer and the body is farther.

    //Move body farther
    if      (type==1) gl_FragDepth = gl_FragCoord.z * 1.1;
    //Move arm closer
    else if (type==3) gl_FragDepth = gl_FragCoord.z * 0.9;
} 
```

这是您的绘图功能的一些伪代码：

```
//...

//Algorithm to draw your character
glUseProgram(my_shader);
glBindTexture(GL_TEXTURE_2D,character.texture.texture_gl_id);
glUniform1i(glGetUniformLocation(my_shader,"character_texture"),1);
character.draw();
glUseProgram(0);

//Draw your weapon
glEnable(GL_DEPTH_TEST);
character.weapon.draw();
glDisable(GL_DEPTH_TEST);

//... 
```

# android - 我们如何在 Eclipse 中为常用命令分配快捷方式（例如作为 Android 应用程序运行或覆盖/实现方法）

> ID：11896639
> 
> 赞同：1
> 
> 时间：2012-08-10T06:39:00.373
> 
> 标签：android, eclipse, shortcut

我是使用 Eclipse 开发 android 应用程序的 android 开发人员。我想知道是否有任何方法可以将键盘快捷键分配给 Eclipse 中常用的命令。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:46:04.907

转到 Eclipse >> 首选项 >> 常规 >> 键

现在选择您的命令（您要执行的操作）

专注于绑定并从键盘按您想要的键。

你会完成的。

# javascript - jquery 切换可见性

> ID：11896640
> 
> 赞同：0
> 
> 时间：2012-08-10T06:39:03.393
> 
> 标签：javascript, jquery

我很想在单击链接时显示/隐藏链接的内容。很像您在常见问题解答页面中看到的内容。基本上我想获取点击链接的 data-* 并显示它的内容。这就是我所做的，但它仍然不起作用:(。

我的html如下：

```
<ul>
    <li><a data-faq="1" href="#question"> + first question product?</a></li>
        <p  data-faq="1" class="hidden">my content</p>

    <li><a data-faq="2" href="#question">+ More lorem?</a></li>
        <p data-faq="2" class="hidden">my content</p>

</ul>​ 
```

和像这样的jquery：-

```
 $('.hidden').hide();
 $("#question").click(function(){

 var activeFaq = $(this).attr("data-faq");    

    //show the content of the active faq
    $(activeFaq).toggle();
return false;
});

​ 
```

这是小提琴：- [http://jsfiddle.net/8EJDc/](http://jsfiddle.net/8EJDc/) 再次我想在切换点击时切换`+`到`-`，反之亦然

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T06:47:27.630

编辑：[**更新小提琴**](http://jsfiddle.net/nSBhc/1/)

尝试这个 -

```
<ul>
    <li>
        <a data-faq="1" class="question"> <span>+</span> first question product?</a>
        <p data-faq="1" class="hidden">my content</p>
    </li>       
    <li>
        <a class="question"><span>+</span> More lorem?</a>
        <p class="hidden">my content</p>
    </li>   
</ul>

$('.hidden').hide();
$(".question").click(function(){
    var $this = $(this).find('span');
    $this.text($this.text() == '+' ? '-' : '+');  
    $(this).next('p').toggle();   
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:50:10.107

伙计，你走错路了。

**如果 P 不在LI**内，则不能在**UL**内有**P**。

 ****您试图通过 $("#question") 的 ID 调用元素。但是你没有申报任何身份证。

我试图重写你的代码：

HTML

```
<ul>
    <li><a data-faq="1" href="#" class="question"> + first question product?</a>
    <p data-faq="1" class="answer">my content</p>
    </li>
    <li><a href="#" class="question">+ More lorem?</a>
        <p class="answer">my content</p>
    </li>
</ul>​ 
```

JS

```
$('.answer').hide();
$(".question").click(function(evt){
    evt.preventDefault();
    $(this).next(".answer").toggle();
}); 
```

我更改了一些类名以增加语义

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T06:51:03.887

更改 $('#question') 是指元素 id。

这可以工作：

```
$("a").click(function(e){

    e.preventDefault();

    $(this).parent().next('.hidden').toggle();

}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-10T06:53:23.663

您的**HTML**应该如下所示，因为 a`ul`只有`li`标签而不是任何其他标签。所以把你的`<p>`标签放在一个`<li>`标签里。

```
 <ul>
    <li>
        <a class="faq" href="#question"> <span class="symbol">+</span> first question product?</a>
        <p class="hidden">my content</p>
    </li>

    <li>
        <a class="faq" href="#question"><span class="symbol">+</span> More lorem?</a>
        <p class="hidden">my content</p>
    </li>            

</ul>​ 
```

和**jQuery**：

```
$('.hidden').hide();

$(".faq").click(function(event){    
    event.preventDefault();
    $(this).next('.hidden').toggle();

    // below Code will toggle 'plus' & `minus`
    if($(this).find('.symbol').html() == "+") {
         $(this).find('.symbol').html("-")
    } else {
         $(this).find('.symbol').html("+")    
    }

}); 
```

## [看演示](http://jsfiddle.net/s2x3M/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-10T06:48:37.423

我在您的脚本中发现了很多错误。我修复了其中的大部分并试图实现您正在寻找的东西。

[http://jsfiddle.net/vvJPU/1/](http://jsfiddle.net/vvJPU/1/)

检查这个小提琴。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-10T06:49:20.700

很难说出 data-faq 的用途，或者您是否需要它。

但这似乎做你想要的...... [http://jsfiddle.net/vvJPU/3/](http://jsfiddle.net/vvJPU/3/)

```
$('a.question').click(function(){
    $(this).next('.hidden').show();
    return false;
}); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-08-10T06:57:03.073

您使用的方法是错误的。您不应该使用其 href 属性调用锚的 jquery。它应该是类或 id 属性。另外，不要隐藏，而是使用 $().css() 。

```
<ul>
<li><a class="question" data-faq="1"  href="#question"> + first question product?</a></li>
    <p id="data-faq1" class="hidden">my content</p>

<li><a class="question" data-faq="2" href="#question">+ More lorem?</a></li>
    <p id="data-faq2" class="hidden">my content</p> 
```

​</p>

--

```
$('.question').click(function(){
var paraId = "#data-faq" + $(this).attr("data-faq");

$(paraId).click.toggle(function () {
        $(this).css("display","none");
    }, function () {
        $(this).css("display","block");
}); 
```

});

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-08-10T07:33:24.517

我不知道我有没有你的问题。但基本上，我认为它已关闭。

这里的代码

```
<script>
    $(document).ready(
        function(){
            $(".hidden").hide();
            $("ul li a").click(function(){
                $(this).next().text($(this).attr("data-faq")).toggle();
            });
    }
    );
</script> 
```

注意：`<p>`应该在里面`<li>`和旁边`<a>`

我认为您的 HTML 代码有问题。`<p>`我在外面注意到了`<li>`

data-faq 的内容将是`<p>`标签的内容

[单击此处获取小提琴](http://jsfiddle.net/nSBhc/4/)****

# mysql - 如何通过 api/SDK 对 cloudbees mysql 数据库进行快照？

> ID：11896650
> 
> 赞同：3
> 
> 时间：2012-08-10T06:39:31.940
> 
> 标签：mysql, cloudbees

我想通过命令行对我的 cloudbees mysql 数据库进行快照（例如，在我部署破坏性更新之前进行快照）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:39:31.940

您可以使用[Cloudbees SDK](http://wiki.cloudbees.com/bin/view/RUN/BeesSDK)

```
 bees db:snapshot:create [options] DATABASE_NAME 
```

还

```
bees db:snapshot:list [options] DATABASE_NAME 
```

要恢复到给定的快照：

```
bees db:snapshot:deploy [options] DATABASE_NAME SNAPSHOT_ID 
```

# php - 如何将 php 文件添加到 Visual Studio 项目？

> ID：11896655
> 
> 赞同：0
> 
> 时间：2012-08-10T06:39:45.313
> 
> 标签：php, visual-studio-2010

我需要将 php 文件添加到 Visual Studio 项目中。没有使用“添加项目”添加它的选项。如果我从外部将其添加到项目中，编译器无法读取代码。有什么解决办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:49:57.070

看看这里：[如何将 PHP 支持添加到 Visual Studio 2010？](https://stackoverflow.com/questions/3678282/how-can-i-add-php-support-to-visual-studio-2010?rq=1)

或在这里：http: [//visualstudiogallery.msdn.microsoft.com/6eb51f05-ef01-4513-ac83-4c5f50c95fb5](http://visualstudiogallery.msdn.microsoft.com/6eb51f05-ef01-4513-ac83-4c5f50c95fb5)

或在这里：[Visual Studio PHP](https://stackoverflow.com/questions/1009476/visual-studio-php)

# php - Split PHP array for a grid layout

> ID：11896656
> 
> 赞同：0
> 
> 时间：2012-08-10T06:39:52.690
> 
> 标签：php, css, arrays

I need to write a PHP function to split an array into multiple arrays to accommodate it into a grid layout. In simplified terms, here's what I need to achieve:

Source data array:

```
$table = array(
'a','b','c','d',
'e','f','g','h',
'i','j','k','l',
'm','n','o','p',
'q','r','s','t',
'u','v','w','x',
'y','z'); 
```

I need to create a function, which takes this array an an input and also takes grid details as input (as mentioned below) and splits the array. For example:

```
grid_split($table, 1, 4); // 1st of 4 grid columns 
```

Should return:

```
array('a','e','i','m','q','u','y'); 
```

and,

```
grid_split($table, 2, 4); // 2nd of 4 grid columns 
```

Should return:

```
array('b','f','j','n','r','v','z'); 
```

similarly this,

```
grid_split($table, 1, 3); // 1st of 3 grid columns 
```

Should return:

```
array('a','d','g','j','m','p','s','v','y'); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T06:44:32.330

~~You could use [array_slice](http://php.net/manual/en/function.array-slice.php) function.~~

```
function grid_split($arr, $n, $grids) {
  $limit = count($arr) / $grids;
  return array_slice($arr, ($n - 1) * $limit, $limit);
} 
```

***Update:*** miss reading your question, the below is what you want.

```
function grid_split($arr, $n, $grids) {
  $ret = array();
  foreach ($arr as $key => $value) {
    if ($key % $grids === $n - 1) {
      $ret[] = $value;
    }
  }
  return $ret;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:10:38.547

All you need is a run-of-the-mill for loop:

```
for($i = $n - 1, $count = count($arr); $i < $count; $i += $grids) {
    $ret[] = $arr[$i];
} 
```

# macos - 文件夹视图选项不适用于 mac os x 中的所有文件夹

> ID：11896660
> 
> 赞同：2
> 
> 时间：2012-08-10T06:40:23.413
> 
> 标签：macos, finder

我为特定文件夹设置了查看选项并将其设置为“默认使用”，但这些设置不适用于其他文件夹。
如何创建视图选项并将其应用于所有文件夹。

# shopify - 如何使用 Shopify API 获取产品页面的 URL？

> ID：11896661
> 
> 赞同：14
> 
> 时间：2012-08-10T06:40:24.787
> 
> 标签：shopify

我检查了 Shopify 产品 API，但结果似乎没有返回产品页面 URL。URL 看起来像是在对标题进行一些转换后产生的。是否有可靠的、定义明确的逻辑用于此或任何其他方法来获取产品页面 URL？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-08-10T07:06:33.230

您可以将其作为“产品/<product.handle >”来执行。我不确定是否有更好的方法，但它确实有效。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-11-04T09:50:18.307

我通常将其添加到`config/initializers/shopify_api.rb`：

```
module ShopifyAPI
  class Shop
    def store_url_for(entity)
      return "http://#{self.domain}/#{entity.class.element_name}/#{entity.handle}"
    end
  end
end 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-10-28T14:18:15.753

为了完成 Michael Johnston 的回答，您需要先调用 ShopifyAPI::Shop.current，然后才能使用 store_url_for(entity)。

例如，要在控制器中获取产品的 url：

```
product = ShopifyAPI::Product.find(@product_id)
shop = ShopifyAPI::Shop.current
product_url = shop.store_url_for(product) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-03-27T13:14:33.073

这是相当老的帖子，也许 api 已经升级，因为有 def。其他 url 结构，例如 collections/collection-name/products/product-name。

Still looking if there is a way to get unique product URI

# iphone - CALayer 调整大小很慢

> ID：11896663
> 
> 赞同：16
> 
> 时间：2012-08-10T06:40:27.580
> 
> 标签：iphone, ios, core-graphics, calayer, quartz-graphics

我为使用触摸调整 CALayer 大小而编写的一些代码遇到了一些性能问题。它工作正常，但动画还远远不够活泼，并且落后于触摸位置。

```
CGPoint startPoint;
CALayer *select;

- (CGRect)rectPoint:(CGPoint)p1 toPoint:(CGPoint)p2 {
     CGFloat x, y, w, h;
     if (p1.x < p2.x) {
         x = p1.x;
         w = p2.x - p1.x;
     } else {
         x = p2.x;
         w = p1.x - p2.x;
     }
     if (p1.y < p2.y) {
         y = p1.y;
         h = p2.y - p1.y;
     } else {
         y = p2.y;
         h = p1.y - p2.y;
     }
     return CGRectMake(x, y, w, h);
 }

 - (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {
     UITouch *t1 = [[[event allTouches]allObjects]objectAtIndex:0];
     CGPoint loc = [t1 locationInView:self];
     startPoint = loc;
     lastPoint = CGPointMake(loc.x + 5, loc.y + 5);

     select = [CALayer layer];
     select.backgroundColor = [[UIColor blackColor]CGColor];
     select.frame = CGRectMake(startPoint.x, startPoint.y, 5, 5);
     [self.layer addSublayer:select];
 }

 - (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {
     UITouch *t1 = [[[event allTouches]allObjects]objectAtIndex:0];
     CGPoint loc = [t1 locationInView:self];
     select.bounds = [self rectPoint:startPoint toPoint:loc]; 
 } 
```

有没有更好的方法来实现这一目标？

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2012-11-17T09:10:37.393

滞后是因为您正在更改`bounds`图层的属性，这是一个动画属性。

使用 CALayers（CA 代表核心动画......）对动画属性的任何更改都将默认为动画。这称为隐式动画。默认动画需要 0.25 秒，因此如果您经常更新它，比如在处理触摸期间，这将加起来并导致明显的延迟。

为了防止这种情况，您必须声明一个动画事务，关闭隐式动画，然后更改属性：

```
[CATransaction begin];
[CATransaction setDisableActions:YES];
layer.bounds = whatever;
[CATransaction commit]; 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2017-11-29T18:51:54.897

Swift 3/4 中接受的答案：

```
CATransaction.begin()
CATransaction.setDisableActions(true)
layer.bounds = whatever
CATransaction.commit() 
```

值得一提的是，这也适用于`.frame`属性，例如当您调整 AVPlayerLayer 的大小时：

```
override func layoutSubviews() {
    CATransaction.begin()
    CATransaction.setDisableActions(true)
    playerLayer.frame = self.bounds
    CATransaction.commit()
} 
```

# sparql - SPARQL 求平均值？

> ID：11896665
> 
> 赞同：2
> 
> 时间：2012-08-10T06:40:46.380
> 
> 标签：sparql

我正在使用一个名为 Twinkle 的 SPARQL 查询工具，它似乎不支持像 AVG() 和 SUM() 这样的函数。到目前为止，只有 COUNT() ARQ 函数有效。有没有另一种方法来求和数字，以便我至少可以使用 COUNT() 进行除法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T08:51:46.717

我不这么认为。切换工具并使用支持 SPARQL 1.1 的工具。

# continuous-integration - 我可以使 Jenkins 的 SCM 轮询间隔随机化吗

> ID：11896675
> 
> 赞同：16
> 
> 时间：2012-08-10T06:42:07.430
> 
> 标签：continuous-integration, jenkins, cloudbees

在大多数 Jenkins 的示例中，SCM 轮询值被指定为 */15 * * * * ，即。每 15 分钟轮询一次 SCM。当您有数百个作业时，这很好，但如果您有数千个作业，则不会，因为它会在每小时的 15、30、45 和 0 分钟向 SCM（在本例中为 Subversion）服务器发出数千个请求。

有没有办法随机化 Jenkins 中的轮询值以避免上述情况？

在 Jenkins 主配置屏幕上有一个值“Max # of concurrent polling”。是否应该设置（以及设置什么值）以避免上述情况？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-08-10T08:39:50.627

使用 H 而不是 * 并且 Jenkins 将随机分发轮询。请注意，目前还没有找到与每小时/每天/等不同的频率的良好语法，所以

```
H * * * *

```

将在预先确定的随机分钟每小时轮询一次。

```
哈哈 * * *

```

将每天在预定的随机小时和分钟轮询一次

```
哈哈 * *

```

每周投票一次

```
0 小时 * * *

```

将按小时轮询，但每天在预先确定的随机时间轮询一次。

请记住，您可以使用多个 cron 行并且任何行都将匹配，因此，在确定了一个很好的亚小时频率语法之前，您可以（平均而言）通过类似

```
H * * * *
H * * * *
H * * * *
H * * * *
H * * * *
H * * * *

```

投票之间平均会给你 15 分钟（是的，每小时会有 6 次投票，但这是很有可能每一刻钟至少会有一次投票）

如果您对在一小时内分发的语法有很好的建议，请回复此线程：

[https://groups.google.com/forum/?fromgroups#!jenkinsci-users/VghEjfygWuw/PuIG1o7u1GQJ%5B1-25%5D](https://groups.google.com/forum/?fromgroups#!jenkinsci-users/VghEjfygWuw/PuIG1o7u1GQJ%5B1-25%5D)

# 更新（2013 年 4 月）

Jenkins 1.510 和更新版本包含一个[新语法](http://htmlpreview.github.com/?https://github.com/jenkinsci/jenkins/blob/master/core/src/main/resources/hudson/triggers/TimerTrigger/help-spec.html)，允许在一小时内指定分布

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T06:42:07.430

如果您将 max# of concurrent polling 设置为 1 到 3 之间的某个值，则轮询请求将简单地排队并串行处理（或最多并行处理 3 个）。

鉴于 SVN 轮询所涉及的所有内容都是有效的

svn info 分支网址

它们都应该很快完成，但至少你会限制并行请求。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-11T02:16:55.330

@Stephen Connolly 的解决方案可能是一个很好的解决方案。

如果你真的有成千上万的工作需要担心，可以考虑根据工作名称的某些部分来设置时间（假设你的工作名称分布合理）。

For example, if your job starts with 'B', set the timings to */2\. If it starts with 'C', set it to */3 etc. ('A' would need something other than 1 though).

It's not a terrific solution, but if you're really looking at managing that many jobs it might be a work-around until you can find a better solution.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-07-28T08:16:39.363

H H H * *

I think above will poll once per month not per week

# magento-1.4 - magento 前端不工作

> ID：11896680
> 
> 赞同：-2
> 
> 时间：2012-08-10T06:42:32.963
> 
> 标签：magento-1.4

管理表单运行良好，但前端有问题

问题是

处理您的请求时出错 出于安全原因，默认情况下禁用异常打印。

错误日志记录号：847199895

请帮助问候安库什

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T10:48:17.367

我认为您是 magento 的新手。但不用担心，您会找到确切的错误。

转到您的 magento 安装文件夹。您将看到一个名为“errors”的文件夹。在该文件夹中，将 local.xml.sample 文件重命名为 local.xml。

您的前端将显示错误而不是错误日志记录号：847199895。复制错误并让我知道它是什么。这样我才能帮助你。

# wix - 与 CustomAction 相关的 Wix 错误 1721

> ID：11896681
> 
> 赞同：4
> 
> 时间：2012-08-10T06:42:33.167
> 
> 标签：wix, custom-action, windowserror

我有以下 CostomAction

```
<Binary Id='ManualsBat' SourceFile='bin\Debug\test.bat' />

<CustomAction 
  Id="manuals"
  BinaryKey="ManualsBat"
  ExeCommand="[SourceDir]Manuals &quot;[Agent]Manuals&quot;"
  Execute="immediate"
  Return="check" /> 
```

test.bat 包含以下几行：

```
@echo off
echo Hello this a test batch file
pause
mkdir %2
copy %1 %2 
```

它基本上打算做的是，当安装程序运行时，需要执行批处理文件。批处理文件必须创建一个新目录“[Agent]Manuals”，并且必须将所有文件从[SourceDir]Manuals 复制到[Agent]Manuals。

当我构建 .wxs 时，它在我运行 .msi 时没有给出任何错误，然后它在日志文件中抱怨以下内容

> 错误 1721。此 Windows 安装程序包有问题。无法运行完成此安装所需的程序。请联系您的支持人员或软件包供应商。操作：手册，位置：C:\Windows\Installer\MSI1F50.tmp，命令：C:\dev\CD\Agent\pd\components\link\source\Link\Installer\WiX\WiX\bin\Debug\Manuals" D:\Cam\city\Agent\Manuals

有没有人遇到过这种错误。如果有人可以帮助我解决这个问题，那就太好了。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T20:34:47.270

引号中可能有问题。更改 ExeCommand 引号。尝试这个：

```
<Binary Id='ManualsBat' SourceFile='bin\Debug\test.bat' />

<CustomAction 
  Id="manuals"
  BinaryKey="ManualsBat"
  ExeCommand='"[SourceDir]Manuals" "[Agent]Manuals"'
  Execute="deferred"
  Impersonate="no"
  Return="check" />

<InstallExecuteSequence>
  <Custom Action="manuals" Before="InstallFinalize">Not Installed</Custom>
</InstallExecuteSequence> 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-10T08:45:34.320

您的自定义操作很可能需要管理员权限。尝试将`Execute`属性设置为`deferred`和。请注意，这些选项要求在标准操作之后安排操作。`Impersonate``no``InstallFinalize`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-11T14:25:22.803

您通常需要调用 cmd /c foo.bat（或 Win9x 上的命令）来处理 .bat 文件。

但是，我永远不会在我的安装程序中这样做。它违反了 Windows Installer 的整体设计。MSI 是一种事务性的、声明性的编程语言。注入进程程序代码大大增加了失败的可能性（正如您所经历的那样），并且更糟糕的是破坏了 MSI 的事务优势。

例如，如果您创建一个文件夹并复制一个文件，则在回滚期间不会撤消该文件，并且在卸载期间不会将其删除。相反，您应该使用内置的 Windows Installer 功能（CreateFolder 和 CopyFile 元素）来实现您的目标。

在真正需要自定义操作的情况下（在您的示例中，您只是用劣质的解决方案重新发明轮子）它们应该使用健壮的语言进行设计，并在尊重 MSI 使用的安全模型的同时保持声明性（数据驱动）和事务性设计.

# scala - 如何使 sbt 便携？

> ID：11896687
> 
> 赞同：4
> 
> 时间：2012-08-10T06:43:05.743
> 
> 标签：scala, sbt

我想做的是使 sbt 可移植，至少可以在不同的 Windows 机器之间移植，这样我的 sbt 插件、设置、ivy repo 等就不必在每台计算机上重新设置。

我的方法是将`sbt.bat`,`sbt-launcher.jar`及其所有必需的目录, like ,`.sbt`放入一个文件夹中以由 Dropbox 或 likes 同步`plugins``.ivy`

* * *

我已经通过`-Dsbt.boot.directory` `-Dsbt.ivy.hom`在命令行中使用 sbt-launch.jar 成功更改了 boot/ivy 目录，但我找不到相同的文件夹`plugins`或整个`.sbt`文件夹。

* * *

最后我尝试了 Sandro 的解决方案，到目前为止它似乎有效~~

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T18:21:18.027

您可以使用[http://code.google.com/p/symlinker/](http://code.google.com/p/symlinker/)在 Dropbox 目录中创建指向 .sbt 文件夹的符号链接。这样，Dropbox 将在自己的目录中看到 .sbt 文件夹，而“实际”文件夹仍将位于默认位置。

# objective-c - 不活动时的 NSView 或 NSApplication 事件

> ID：11896688
> 
> 赞同：0
> 
> 时间：2012-08-10T06:43:07.583
> 
> 标签：objective-c, macos, cocoa

一个 NSStatusItem 应用程序，并将 NSStatusItem 的视图设置为**myView**

```
[statusItem setView:myView]; 
```

因此**myView**可以显示在状态栏中，我可以通过单击**myView**来切换弹出窗口。我想在单击另一个应用程序时隐藏弹出框，这意味着，当我的应用程序不活动时如何获取事件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:50:37.060

在您的应用程序委托中，您只需添加以下方法：

```
- (void)applicationWillResignActive:(NSNotification *)aNotification 
```

它将在您的应用程序即将停用之前立即调用。

# windows-phone-7 - Windows Phone , 页面加载 : 最佳方法

> ID：11896689
> 
> 赞同：0
> 
> 时间：2012-08-10T06:43:19.583
> 
> 标签：windows-phone-7

我有一种情况需要根据条件加载页面：

条件是

```
if( First time application is launched){

Load aggrement page;
}
else{

Load main Page;
} 
```

最好的方法是什么？我应该检查以下情况：

```
private void Application_Launching(object sender, LaunchingEventArgs e)
{

} 
```

还是在 initializeCOMponent() 调用之前的主页中？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T07:19:07.937

尝试这样的事情：

```
private void Application_Launching(object sender, LaunchingEventArgs e)
{
    IsolatedStorageSettings settings = IsolatedStorageSettings.ApplicationSettings;

    if (settings.ContainsKey("isRanFirstTime"))
        //Navigate to page 1
    else
    {
        settings.Add("isRanFirstTime, 1);
        //Navigate to page 2
    }
} 
```

关于从 App.xaml.cs 重定向导航，在 Peter Torr 的帖子中找到更多信息

[重定向初始导航](http://blogs.msdn.com/b/ptorr/archive/2010/08/28/redirecting-an-initial-navigation.aspx)

# jquery - 将 div 转换为下拉菜单

> ID：11896692
> 
> 赞同：1
> 
> 时间：2012-08-10T06:43:49.913
> 
> 标签：jquery, html

我有 2 个`Div`标签集如下

```
<div id="testing1" >
   <div id="newpar" >
      <div  id="1" > 1 </div>
      <div  id="2" > 2 </div>
      <div  id="3" > 3 </div>
      <div  id="4" > 4 </div>
    </div>
</div>

<div id="testing2" >
    <div id="newpar" >
      <div  id="1" > 1 </div>
      <div  id="2" > 2 </div>
      <div  id="3" > 3 </div>
      <div  id="4" > 4 </div>
    </div>
</div> 
```

​</p>

我需要将其转换`div`为`id` `newpar` （`drop down menu`选择菜单）。那可能吗...

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T07:10:51.140

尝试这个：

```
var sel = $('<select id="tesing2"/>');
$('#testing2 div').each(function(){
    sel.append('<option value='+this.id+'>'+this.innerHTML+'</option>')
})  
$('#testing2').replaceWith(sel) 
```

[演示](http://jsfiddle.net/4y2wD/)

由于 ID 必须是唯一的，您可以改用类：

```
<div id="testing2">
    <div class="newpar">
      <div  id="1"> 1 </div>
      <div  id="2"> 2 </div>
      <div  id="3"> 3 </div>
      <div  id="4"> 4 </div>
    </div>
</div> 
```

```
var sel = $('<select id="tesing"/>');
$('#testing2 > div > div').each(function(){
    sel.append('<option class='+this.parentNode.className+'>'+this.innerHTML+'</option>')
})

$('#testing2 > div').replaceWith(sel) 
```

[http://jsfiddle.net/DdC5C/4/](http://jsfiddle.net/DdC5C/4/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T07:03:43.580

纯 CSS 答案：http: [//jsfiddle.net/Wycbd/1/](http://jsfiddle.net/Wycbd/1/)

还有几点：id不能以数字开头，它们必须是唯一的。在我的小提琴中，我将其更改`id="1"` `id="2"`为`class="one"` `class="two"`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T07:03:54.143

这很容易:)

```
$(function() {
    var id2convert = "testing2",
        divs = $("div", "#" + id2convert),
        select = $("<select id=\"" + id2convert + "\">");

    divs.each(function() {
        var text = $(this).text();
        select.append("<option value=\"" + text + "\">" + text + "</option>");
    });

    divs.parent().replaceWith(select);
}) 
```

[小提琴](http://jsfiddle.net/rFLy5/1/)

# c# - 无法在会员表中找到用户

> ID：11896700
> 
> 赞同：0
> 
> 时间：2012-08-10T06:44:16.250
> 
> 标签：c#

我正在使用会员提供者插入用户

```
protected void Button3_Click(object sender, EventArgs e)
    {
        MembershipCreateStatus status;
        MembershipUser user = Membership.CreateUser("chandu1", "P@ssw0rd", "rasdsd@sdsdh.com", "null", "null", true, out status);

        switch(status)
  {
             case MembershipCreateStatus.DuplicateUserName:
             Response.Write("User already exists in system.Please select different name and try again");
             break;
             case MembershipCreateStatus.DuplicateEmail :
             Response.Write("Duplicate Email");
             break;
             case MembershipCreateStatus.Success :
             Response.Write("User has been created successfully");
             break;
    } 
```

但是我无法在会员表或用户表中找到用户，我在哪里可以找到他们？。会员提供者如何确定它应该在哪个数据库中插入用户，我是新手，谁能帮助我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T07:03:29.390

它在 MSDN 上明确提到，对于 Membership 类的默认配置，sql server 是必需的。如果您没有在后端使用 MSSQL，请参阅[此处](http://msdn.microsoft.com/en-us/library/44w5aswa)，它将向您展示如何跟踪数据源。否则打开 MSSQL 管理工作室并查看可用的数据库，怀疑您会发现具有[此名称](http://weblogs.asp.net/sukumarraju/archive/2009/10/02/installing-asp-net-membership-services-database-in-sql-server-expreess.aspx)的架构。

概率：我在某些地方看到 MSSQL 中的默认名称是 ASPNETDB。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:06:45.497

如果您使用 ASP.net 网站，则需要查看 Web.Config，如果您使用其他类型的项目，则需要查看 App.Config

这些文件是他们存储连接字符串的地方，可以说是数据库

web.config 的一部分

```
<connectionStrings>
    <add name="ApplicationServices" connectionString="data source=.\SQLEXPRESS;Integrated Security=SSPI;AttachDBFilename=|DataDirectory|aspnetdb.mdf;User Instance=true" providerName="System.Data.SqlClient" />
</connectionStrings> 
```

正如您在此处看到的，有一个[连接字符串](http://www.connectionstrings.com/sql-server-2008)，它将告诉会员提供者在哪里查找数据库或文件。

旁边有一些在您的 Web.Config 中的节点，它们告诉您有关身份验证模式和成员资格提供者的信息。

如果您想使用 ASP.netDB 保存用户/角色，请查看%windir%\Microsoft.NET\Framework\VersionNumber中的[Aspnet_regsql命令](http://msdn.microsoft.com/en-us/library/ms229862.aspx#findingthecorrectversion)

这是另一个如何使用表单身份验证创建 asp.net MVC2 网站的好[例子](http://msdn.microsoft.com/en-us/library/ff398049%28v=vs.100%29.aspx)

玩得开心 ：）

# c++ - 如何使用 SketchUp API 导出为 PDF？

> ID：11896702
> 
> 赞同：0
> 
> 时间：2012-08-10T06:44:23.483
> 
> 标签：c++, ruby, api, sketchup

我需要将模型从 SketchUp Pro API（Ruby 或 C++）导出为 PDF。SketchUp 中有一个本机 PDF 导出器，但似乎无法使用 SketchUp API 访问它。也许我遗漏了一些东西......我可以通过 API 导出到 PDF 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T07:30:42.390

我找不到任何引用 PDF 的方法，这是从文档到[Model.export](https://developers.google.com/sketchup/docs/ourdoc/model#export)：

> 该`export`方法用于导出给定的文件格式。它会根据您放置在文件名上的文件扩展名知道要导出哪种格式...对于 SketchUp Pro 7.1+，有效的扩展名包括`dae`、`kmz`、`3ds`、`dwg`、`dxf`、`fbx`、`obj`、`wrl`和`xsi`. SketchUp Free 仅支持`dae`和`kmz`。

这并不能最终证明这是不可能的，但它确实使它看起来不太可能。我猜你最好的选择是找到一种方法将支持的格式之一转换为 PDF。

# xslt - 两阶段 XSLT 转换首先将字符串转换为 XML

> ID：11896703
> 
> 赞同：2
> 
> 时间：2012-08-10T06:44:27.547
> 
> 标签：xslt

我有以下 XML：

```
<?xml version="1.0" encoding="utf-8"?>
<string>
&lt;Table&gt;
&lt;Rows&gt;
&lt;Row Id="0"&gt;
&lt;Column Name="INS_NAME" XPath="Ins.Name"&gt;Jane&lt;/Column&gt;
&lt;Column Name="INS_LASTNAME" XPath="Ins.LastName"&gt;Smith&lt;/Column&gt;
&lt;/Row&gt;
&lt;Row Id="1"&gt;
&lt;Column Name="INS_NAME" XPath="Ins.Name"&gt;Joe&lt;/Column&gt;
&lt;Column Name="INS_LASTNAME" XPath="Ins.LastName"&gt;Miller&lt;/Column&gt;
&lt;/Row&gt;
&lt;Row Id="2"&gt;
&lt;Column Name="INS_NAME" XPath="Ins.Name"&gt;George&lt;/Column&gt;
&lt;Column Name="INS_LASTNAME" XPath="Ins.LastName"&gt;Ramsey&lt;/Column&gt;
&lt;/Row&gt;
&lt;/Rows&gt;
&lt;/Table&gt;
</string> 
```

我想用一个 XSLT 把它转换成这个**XML**：

```
<?xml version="1.0" encoding="utf-8"?>
<Customers>
  <Customer><Name>Jane</Name><LastName>Smith</LastName></Customer>
  <Customer><Name>Joe</Name><LastName>Miller</LastName></Customer>
  <Customer><Name>George</Name><LastName>Ramsey</LastName></Customer>
</Customers> 
```

我可以用两个不同的 XSLT 来做到这一点：

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:template match="/">
    <xsl:value-of select="/" disable-output-escaping="yes" />
  </xsl:template>
</xsl:stylesheet> 
```

进而：

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:template match="/">
    <Customers>
      <xsl:for-each select="Table/Rows/Row">
      <Customer>
        <Name><xsl:value-of select="Column[@Name='INS_NAME']" /></Name>
        <LastName><xsl:value-of select="Column[@Name='INS_LASTNAME']" /></LastName>
      </Customer>
      </xsl:for-each>
    </Customers>
  </xsl:template>
</xsl:stylesheet> 
```

我一直在阅读有关多相变换的信息，但似乎无法理解。我尝试将第一个 XSLT 保存在变量中，但`disable-output-escaping="yes"`保存到变量时似乎不起作用。

有人可以帮忙吗？

谢谢你。

**新信息（编辑）**

我现在以这种方式翻译字符串：

```
<xsl:output method="text"/>
  <xsl:template match="/">
    <xsl:variable name="stringXml">
      &lt;?xml version="1.0" encoding="utf-8"?&gt;
      <xsl:value-of select="translate(translate(/,'&gt;','&gt;'),'&lt;','&lt;')" />
    </xsl:variable>
... 
```

如何对存储在 stringXML 中的结果 XML 进行转换？

**最终解决方案（编辑）**

```
<msxml:script implements-prefix="myLib" language="C#">
<msxml:assembly name="System.Web"/>
<msxml:using namespace="System.Web"/>
<![CDATA[
public System.Xml.XPath.XPathNodeIterator convertText(string text)
{
XmlDocument doc = new XmlDocument();
      doc.PreserveWhitespace = true;
      doc.LoadXml(text);
      return doc.CreateNavigator().Select("/");
}
]]>
</msxml:script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T12:28:50.597

> 保存到变量时，似乎 disable-output-escaping="yes" 不起作用。

你的观察是正确的。

**DOE 仅影响转换的（最终）结果的序列化，不适用于中间树**。

以下是**[W3C XSLT 1.0 规范](http://www.w3.org/TR/1999/REC-xslt-19991116#disable-output-escaping)**明确规定的内容：

> " *XSLT 处理器只有在控制结果树的输出方式时才能禁用输出转义。情况可能并非总是如此。例如，结果树可能用作另一个 XSLT 转换的源树，而不是输出。”*

对于尝试使用一个变量，它的值是一个字符串，包含 XML 文档的文本表示，同样的否定答案也成立。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-09-12T23:26:41.177

我有类似的情况，我需要在我的实际 XML 中解析一个转义的 XML。我将发布我的解决方案以帮助其他人。另请注意，我也在使用 Saxon-PE 解析器。

在我的情况下，我的原始 XML 在子节点中包含转义的 XML。我需要在转义 XML的**RootNode**中获取内部XML。

源 XML：

```
<?xml version="1.0" encoding="utf-8"?>
<MyTestXml>
    <SomeXmlStuff>
        <Text1>Hello</Text1>
        <Text2>World</Text2>
    </SomeXmlStuff>
    <SomeEscapedXml>&lt;RootNode&gt;&lt;FirstNode&gt;Hello&lt;/FirstNode&gt;&lt;SecondNode&gt;World&lt;/SecondNode&gt;&lt;ThirdNode&gt;Again&lt;/ThirdNode&gt;&lt;/RootNode&gt;</SomeEscapedXml>
</MyTestXml> 
```

当您取消转义 XML 时，它看起来像这样：

```
<RootNode>
    <FirstNode>Hello</FirstNode>
    <SecondNode>World</SecondNode>
    <ThirdNode>Again</ThirdNode>
</RootNode> 
```

在源 XML 上应用以下 XSLT 转换：

```
<?xml version='1.0' encoding='utf-8' ?>
<xsl:stylesheet version="3.0"
                xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns:saxon="http://saxon.sf.net/"

                exclude-result-prefixes="xsl saxon">

    <xsl:template match="/">
        <MyOutput>      
            <xsl:call-template name="GetRootNodeInnerXml">
                <xsl:with-param name="escapedXml" select="MyTestXml/SomeEscapedXml" />
            </xsl:call-template>
        </MyOutput>
    </xsl:template>

    <xsl:template name="GetRootNodeInnerXml">
        <xsl:param name="escapedXml" required="yes" />

        <xsl:copy-of select="saxon:parse($escapedXml)/RootNode/node()"/>

        <!--  You can also use this line below if you're not using saxon parser.  Just make sure your parser supports XSL 3.0  -->
        <!--
        <xsl:copy-of select="fn:parse-xml($escapedXml)/RootNode/node()" xmlns:fn="http://www.w3.org/2005/xpath-functions"/>
        -->
    </xsl:template>
</xsl:stylesheet> 
```

这将为您提供以下输出：

```
<?xml version='1.0' ?>
<MyOutput>
    <FirstNode>Hello</FirstNode>
    <SecondNode>World</SecondNode>
    <ThirdNode>Again</ThirdNode>
</MyOutput> 
```

# php - 如何在stmnt->在doctrine2 symfony中执行后获取结果

> ID：11896708
> 
> 赞同：0
> 
> 时间：2012-08-10T06:44:43.190
> 
> 标签：php, symfony, doctrine-orm

我正在使用这个：

```
$stmt = $this->getEntityManager()->getConnection()->prepare('SELECT * from tbl_users');
$stmt->execute(); 
```

如何在变量中返回结果：

```
$stmt->getResults() 
```

不管用

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:46:28.243

您忘记了获取结果。`fetchAll()`可以帮助你：

```
$stmt = $this->getEntityManager()
                 ->getConnection()
                 ->prepare('SELECT * from tbl_users');    
$stmt->execute();

$result = $stmt->fetchAll(); 
```

如果您想`TblUsers`在获取数据后补充水分 - 您可以尝试下一步：

```
$tblUser = new TblUsers();
$tblUser->fromArray($result); 
```

# joomla2.5 - 如何在 joomla 模块管理器中更改模块名称

> ID：11896709
> 
> 赞同：0
> 
> 时间：2012-08-10T06:44:43.710
> 
> 标签：joomla2.5, joomla-module

![Joomla 模块管理器中的模块名称](../Images/0c9ab5e16267df53f8284686e590b37f.png)

显示模块属性时，如何在 joomla 模块管理器中更改 joomla 模块的名称。如何更改图片中带有红色下划线的名称

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T13:28:54.987

今天我正在寻找这个问题的相同答案。我发现它需要一些语言文件来显示模块名称。

我从[http://extensions.joomla.org/extensions/access-a-security/site-access/authentication/15380](http://extensions.joomla.org/extensions/access-a-security/site-access/authentication/15380)下载了一个简单的登录注册模块，并遵循它的文件树结构并查看了它的 xml 文件。看这张图片：

![https://lh4.googleusercontent.com/-ismRln97BJg/UEYAwPKF7RI/AAAAAAAAAEE/J7eBX5N0taw/s800/joomla-module-name.png](../Images/8e08ff2bb2f31a29ce51bae73c107aa1.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T15:43:19.843

您需要编辑 mod_b2j_k2_news_slider.xml，更改名称。

# java - 如何在android中将视图放在导航栏后面？

> ID：11896710
> 
> 赞同：1
> 
> 时间：2012-08-10T06:44:43.967
> 
> 标签：java, android, android-layout

我有一个视频视图，当视频开始播放时我隐藏了导航栏，但是视图被拉伸到隐藏导航栏后创建的空白部分。我想在导航栏后面全屏播放视频。因此，当我隐藏/显示导航栏时，应避免视频视图的拉伸和收缩。任何建议表示赞赏...

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T08:44:01.063

基本上你的导航栏是什么是预加载器，..？

对于预加载器，您可以像这样关闭它

```
pd.dismiss(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T10:04:01.370

使用带有 SYSTEM_UI_FLAG_HIDE_NAVIGATION 标志的全屏窗口：

```
view.setSystemUiVisibility(View.SYSTEM_UI_FLAG_HIDE_NAVIGATION); 
```

参考：

[http://developer.android.com/reference/android/view/View.html#SYSTEM_UI_FLAG_HIDE_NAVIGATION](http://developer.android.com/reference/android/view/View.html#SYSTEM_UI_FLAG_HIDE_NAVIGATION)

# forms - Spring MVC 自定义编辑器和选择选项性能不佳

> ID：11896714
> 
> 赞同：3
> 
> 时间：2012-08-10T06:45:07.450
> 
> 标签：forms, spring, spring-mvc, propertyeditor, databinder

我在 Spring MVC 中使用自定义编辑器将字符串值映射到我的域对象。简单案例：用户对象指的是公司（User.company -> Company）。在用户表单中，我注册了数据绑定器：

```
protected void initBinder(WebDataBinder binder) throws Exception {
    binder.registerCustomEditor(Company.class, new CompanyEditor(appService));
} 
```

编辑器定义如下：

```
class CompanyEditor extends PropertyEditorSupport {

    private AppService appService;  

    public CompanyEditor(AppService appService) {
        this.appService = appService;
    }

    public void setAsText(String text) {
        Company company = appService.getCompany(text);
        setValue(company);
    }

    public String getAsText() {
        Company company = (Company) this.getValue();
        if (company != null)
            return company.getId();
        return null;
    }    
} 
```

当我在表单中使用下拉菜单时

```
<form:select path="company">
    <form:options items="${companies}" itemLabel="name" itemValue="id"/>
</form:select> 
```

我遇到了严重的性能问题，因为（我想检查是否选择了公司）为每个选项触发 setAsText 和 getAsText，这使得它为每个公司运行 SQL 查询。

我认为当我提交表单时使用 setAsText 以使应用程序知道如何将公司 ID 转换为公司（持久）对象。为什么要在下拉菜单中触发它。任何想法如何解决它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T09:59:38.963

如果您的表单支持对象存储为会话属性（即您`@SessionAttributes("command")`的控制器中有类似的东西），那么您可以尝试修改您的`setAsText(String text)`方法

```
public void setAsText(String text) {
        Company currentCompany = (Company) this.getValue();
        if ((currentCompany != null) && (currentCompany.getId().equals(text)))
          return;

        Company company = appService.getCompany(text);
        setValue(company);
    } 
```

但我认为[Spring 3.1 @Cacheable 抽象](http://static.springsource.org/spring/docs/3.1.0.M1/spring-framework-reference/html/cache.html)正是为此类事物引入的，并且更可取

请参阅文档中的示例

```
@Cacheable("books")
public Book findBook(ISBN isbn) {...} 
```

PS 考虑使用新的[转换器 SPI](http://static.springsource.org/spring/docs/current/spring-framework-reference/html/validation.html)而不是属性编辑器。

通常，可以为您的查找实体实现通用转换器，因此如果实体具有某些特定属性，它将使用 id 自动从文本转换实体，例如，在我的一个项目中，所有`@Entity`类型都使用全局[ConditionalGenericConverter](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/core/convert/converter/ConditionalGenericConverter.html)实现，因此我既没有在绑定期间注册自定义属性编辑器，也没有为带有注释主键的简单`@Entity`类的类型实现特定转换器。`@Id`

`@RequestParam`此外，当 Spring 将文本对象 id 指定为带注释的控制器方法参数时，它们会自动将它们转换为实际实体，这也非常方便。

# search-server - MS Search Server Express 引发异常

> ID：11896716
> 
> 赞同：0
> 
> 时间：2012-08-10T06:45:12.523
> 
> 标签：search-server

我安装了 MS Search Server Express 并抓取了一些 Ektron 文档，这些文档已成功编入索引。接下来，当我尝试搜索时，出现以下错误。 ![在此处输入图像描述](../Images/b8f101284be473d6cd7a0dc91d3ebe58.png)

我还按照几个网站的建议安装了一些热修复程序。但是，当我尝试搜索我的文档时，仍然会抛出此错误。

你有什么主意吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T06:43:49.993

我发生了这种情况并最终访问了搜索管理器站点-类似于 yourhost:1234 或其他端口。在那里，您导航到搜索服务配置屏幕，您会注意到底部的数据库连接等。Ektron 支持人员让我创建一个新配置并删除旧配置。这实际上会删除 SQLServer 中的表，并在表名末尾创建带有长数字的新表。完成此操作后，一切都重新开始工作。您可以随时删除您的 Sharepoint* 表，重新注册您的网站并进行全面爬网以重新开始。

# android - 当我再次运行应用程序时，数据不会保存在模拟器的 SD 卡中，但是当我在手机上运行它时数据仍然保存？

> ID：11896720
> 
> 赞同：1
> 
> 时间：2012-08-10T06:45:46.640
> 
> 标签：android, android-emulator, android-sdcard

我正在制作一个应用程序，其中我从互联网下载数据并将其保存在 sd 卡上。该应用程序第二次运行时，我检查了它是否已经下载。如果它存在于 sd 卡中，我不会再次下载。它在手机上运行良好。但是在模拟器中，每次运行应用程序时都会从互联网上下载数据？

# php - 使用包含文件方法并且未设置值 - php

> ID：11896721
> 
> 赞同：0
> 
> 时间：2012-08-10T06:45:48.127
> 
> 标签：php

因此，我试图在提交表单后接收一个值，以查看是否选中了复选框以及它们是否会在文件中更改值，并且另一个文件会抓住它并检查是否将值设置为显示“你需要选中复选框”消息

这是复选框的代码-------------------

```
include 'checkvalidation.php';

            CODE

<form action="insert.php" method="post">

            <input type="checkbox" value"On" name="only-thisform"/>I will complete the insurance verification form only. 
            <?php 
             echo $setError;
            if ($setError == 1){

                echo "please Check box before continuing.";
            }
             ?>
            <br>
            <br>

            <input type="checkbox"  value="On" name="approval" id="approval"/>I agree to authorize PCG Protects, LLC to receive a certificate of liability and or to be added as an additional interest on my personal auto policy, whichever accommodates my Auto Insurance Carriers standard practice, so they can monitor the active status of my personal auto policy, on behalf of my employer.
             <?php 

             if ($setError == 1){
                echo "please Check box before continuing.";
             }

             ?>

            <br>
            <br>
  CODE

    </form> 
```

这是插入文件

```
include 'checkvalidation.php';

CODE
    /***************************************VALIDATE CHECK BOXES ARE CHECKED *********************************************************/

            $ch1 = 'unchecked';
            $ch2 = 'unchecked';
        //  print_r("testing ch1 : $ch1");
            if(isset($_POST['only-thisform']))  {

                $ch1 = 'Check';
                //if ($setChecker != 1)
                $setError= 0;
                //print_r("testing ch1: $ch1");

            }
            if ($ch1 !='Check' ){

            $setError = 1;
            header("Location: test.php");
            exit;

        }
            if (isset($_POST['approval'])) {
                //$setChecker = 1;
                $ch2 = 'Check';
                $setError= 0;
                //print_r("testing  ch2: $ch2");
            }
             if ($ch2 != 'Check' ){

            $setError = 1;
            header("Location: test.php");
            exit;

        }
/***************************************************************************************************************************************/           

          CODE 
```

这是检查验证文件-------------------

```
<?php 

             $setError = 0;

            echo $setError; 

?> 
```

所以几乎我试图获得一个在表单提交过程中更改的值，这样我就可以显示一条关于为什么表单没有提交的消息

已更新***_* __ *_* __ *_* __ *_* __ *_* ___** $setError 始终为 0

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T06:57:23.840

这里

```
$setError = 1;
header("Location: test.php"); 
```

$setError 不传输到 test.php，你应该找到一种方法（get 或 post）将它发送到 test.php

# php - wkhtmltopdf 中的会话问题

> ID：11896726
> 
> 赞同：2
> 
> 时间：2012-08-10T06:46:04.873
> 
> 标签：php, session-cookies, wkhtmltopdf

**你好，**

我正在通过 wkhtmltopdf 库将 HTML 转换为 pdf，这里会话的行为非常不同，如果我们在调用链接时设置会话，那么它可以正常工作，但我们之前设置的会话没有得到？

```
exec('C://"Program Files"//wkhtmltopdf.exe ' . 'http://localhost/test.php?a=351' . ' ' . $file_name . ''); 
```

问题：

打印页面时，该页面中可以使用 test.php 中设置的会话。但是，如果我们在之前的某个页面（即 test2.php）中设置会话，那么在 test.php 中该值为 null

有什么想法吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2014-06-23T10:08:06.420

虽然回答已经被接受并且有点晚了，但我仍在添加答案以帮助其他人，仅供参考。使用会话 ID，我们可以从 html 创建 pdf。

命令是

```
 wkhtmltopdf --cookie 'sessionid' 'typpotvp1ha1mdssvnfg548yhkwo5j4q' 127.0.0.1:8000/posts/report ./report.pdf 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-10T07:06:59.887

因为它是会话的工作方式，所以 wkhtmltopdf.exe 会创建另一个会话，另一个与您的脚本的连接，并且您不会从另一个会话中获取值是正常的。

您可以通过 GET 将变量作为获取参数传递，或者您可以将它们存储在某个永久位置，例如文件或数据库。

# c# - C# WebBrowser：提取标签值

> ID：11896728
> 
> 赞同：0
> 
> 时间：2012-08-10T06:46:14.860
> 
> 标签：c#, tags, browser, image

如何`<img>`从加载到 WebBrowser 的页面中提取“”标签的值？我不想等待整个页面与所有图像一起下载，我只想从页面中获取特定的图像 src。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:51:19.980

假设我们正在谈论 WebBrowser 控件。[`OnNavigated`](http://msdn.microsoft.com/en-us/library/system.windows.forms.webbrowser.navigated.aspx)根据 MSDN，您可以使用 event ：

> 当`Navigated`事件发生时，新文档已经开始加载，这意味着您可以通过 、 和 属性访问加载`Document`的 `DocumentText`内容`DocumentStream`。处理 `DocumentCompleted`事件以在 WebBrowser 控件完成加载新文档时接收通知。

要解析 html，请查看[`HtmlAgilityPack`](http://htmlagilitypack.codeplex.com/). 为了得到`src`它，这里是他们的 codeplex 网站的一个例子：

```
foreach(HtmlNode img in doc.DocumentElement.SelectNodes("//img[@src"])
{
   HtmlAttribute att = img["src"];
} 
```

`doc`是一个`HtmlDocument`，检查它的构造函数重载。

# angularjs - 我可以在隔离范围内使用 ng-model 吗？

> ID：11896732
> 
> 赞同：22
> 
> 时间：2012-08-10T06:46:40.450
> 
> 标签：angularjs

我正在创建简单的 ui-datetime 指令。它将 javascript Date 对象拆分为 _date、_hours 和 _minutes 部分。_date 使用 jquery ui datepicker、_hours 和 _minutes - 数字输入。

```
angular.module("ExperimentsModule", [])
    .directive("uiDatetime", function () {
    return {
        restrict: 'EA',
        replace: true,
        template: '<div class="ui-datetime">' +
            '<input type="text" ng-model="_date" class="date">' +
            '<input type="number" ng-model="_hours" min="0" max="23" class="hours">' +
            '<input type="number" ng-model="_minutes" min="0" max="59" class="minutes">' +
            '<br />Child datetime1: {{datetime1}}' +
            '</div>',
        require: 'ngModel',
        scope: true,
        link: function (scope, element, attrs, ngModelCtrl) {
            var elDate = element.find('input.date');

            ngModelCtrl.$render = function () {
                var date = new Date(ngModelCtrl.$viewValue);
                var fillNull = function (num) {
                    if (num < 10) return '0' + num;
                    return num;
                };
                scope._date = fillNull(date.getDate()) + '.' + fillNull(date.getMonth() + 1) + '.' + date.getFullYear();
                scope._hours = date.getHours();
                scope._minutes = date.getMinutes();
            };

            elDate.datepicker({
                dateFormat: 'dd.mm.yy',
                onSelect: function (value, picker) {
                    scope._date = value;
                    scope.$apply();
                }
            });

            var watchExpr = function () {
                var res = scope.$eval('_date').split('.');
                if (res.length == 3) return new Date(res[2], res[1] - 1, res[0], scope.$eval('_hours'), scope.$eval('_minutes'));
                return 0;
            };
            scope.$watch(watchExpr, function (newValue) {
                ngModelCtrl.$setViewValue(newValue);
            }, true);
        }
    };
});

function TestController($scope) {
    $scope.datetime1 = new Date();
} 
```

[`jsfiddle`](http://jsfiddle.net/andreev_artem/nWsZp/3/)

在 github 上：[https ://github.com/andreev-artem/angular_experiments/tree/master/ui-datetime](https://github.com/andreev-artem/angular_experiments/tree/master/ui-datetime)

据我了解 - 创建新组件时的最佳实践是使用隔离范围。

当我尝试使用隔离范围时 - 没有任何效果。ngModel.$viewValue === 未定义。

当我尝试使用新范围时（我的示例，不是很好的变体恕我直言） - ngModel 在新创建的范围上使用值。

当然，我可以创建具有隔离范围的指令，并通过“=expression”（[示例](https://github.com/andreev-artem/angular_experiments/blob/uiDatetime_impl2/ui-datetime/ui-datetime.js)）使用 ngModel 值。但我认为使用 ngModelController 是一种更好的做法。

我的问题：

1.  我可以在隔离范围内使用 ngModelController 吗？
2.  如果不可能，哪种解决方案更适合创建此类组件？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-09T23:00:53.623

`scope: true`在你的第一个小提琴中替换`scope: { datetime1: '=ngModel'}`似乎工作正常 - [fiddle](http://jsfiddle.net/mrajcok/UKVGs/)。不幸的是，指向您的“示例”小提琴的链接已损坏，所以我不确定您在那里尝试了什么。

因此，似乎 ngModelController 可以与隔离范围一起使用。

这是一个较小的小提琴，它在 HTML/view 中使用 ng-model、一个隔离范围和链接函数中的 $setViewValue： [fiddle](http://jsfiddle.net/mrajcok/AXBut/)。

**更新**：我刚刚发现了一些相当有趣的事情：如果为隔离范围属性赋予了不同的名称——例如，说 dt1 而不是 datetime1——`scope: { dt1: '=ngModel'}`它就不再起作用了！我猜当我们`require: 'ngModel'`ngModelController 使用 HTML/view 中的名称（即 ng-model 属性值）在隔离范围上创建一个属性。因此，如果我们在对象哈希中指定相同的名称，一切都很好。但是，如果我们指定一个不同的名称，那么新的作用域属性（例如，dt1）就不会与我们需要的 ngModelController 相关联。

这是一个[更新的小提琴](http://jsfiddle.net/mrajcok/AXBut/1/)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-12T09:12:01.133

使您的指令以比 ngModel 更高的优先级运行，并为您的隔离范围更正模型绑定。我选择了 '100' 的优先级，它与输入指令的级别相同，在 ngRepeat 等高优先级模板操作之后但在默认值 0 之前，这是 ngModel 使用的。

这是示例代码：

```
myDirective = function() {
  return {
    compile: function(tElement, tAttrs, transclude) {
      // Correct ngModel for isolate scope
      if (tAttrs.ngModel) {
        tAttrs.$set('model', tAttrs.ngModel, false);
        tAttrs.$set('ngModel', 'model', false);
      }

      return {
        post: function(scope, iElement, iAttrs, controller) {
          // Optionally hook up formatters and parsers
          controller.$formatters.push(function(value) {
             // ...
          })

          // Render
          return controller.$render = function() {
            if (!controller.$viewValue) {
              return;
            }
            angular.extend(scope, controller.$viewValue);
          };
        }
      };
    },
    priority: 100,
    require: '^ngModel',
    scope: {
      model: '='
    },
  };
} 
```

在编译期间，该指令检查是否存在 ngModel 属性。此检查使用 Angular 的[Attributes](http://docs.angularjs.org/api/ng.%24compile.directive.Attributes "角的属性")对标准化值起作用。如果该属性存在，则将其替换为“模型”（而不是“ngModel”），这是数据绑定到我们隔离中的名称。但是，我们还必须创建一个属性，以便 Angular 可以为我们执行数据绑定。这两个属性都可以（由您选择）使用`false`保持 DOM 不变的参数进行修改。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-10T19:37:25.810

我想我有同样的问题，我找到了部分但可用的解决方案。

所以，这个问题有几个部分：

1.  您的自定义指令需要一些私有属性，即隔离范围
2.  DOM 节点只能有一个范围，所有指令共享它
3.  ngModel="something" 绑定到共享（隔离）范围内的“something”，这是实际问题

所以，我的第一步是重写我的指令来使用`scope:true`而不是`scope:{...}`（实际上，这是一个要求，因为我想在我的指令的嵌入内容中使用一些全局范围属性）：像`attrs.$observe()`,`$scope.$parent.$watch()`等这样的东西有帮助。

然后在`compile()`我重新绑定`ngModel`到父范围的属性：`attrs.$set('ngModel', '$parent.' + attrs.ngModel, false)`. 就这样。

这是我的指令，去掉了非必要的代码：

```
angular.module('App', []).directive('dir', function () {
    return {
        /* This one is important: */
        scope:true,
        compile:function (element, attrs, transclude) {
            /* The trick is here: */
            if (attrs.ngModel) {
                attrs.$set('ngModel', '$parent.' + attrs.ngModel, false);
            }

            return function ($scope, element, attrs, ngModel) {
                // link function body
            };
        }
    };
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-07-01T21:39:49.823

试试这个版本：

```
.directive('myDir', function() {
    return {
        restrict: 'EA',
        scope:    {
                    YYY: '=ngModel'
                  },
        require:  'ngModel',
        replace:  true,
        template: function render(element, attrs) {
            var type = attrs.type || 'text';
            var required = attrs.hasOwnProperty('required') ? " required='required'" : "";
            return "<input ng-model='YYY' type="' + type + '" + required + ' />';
                  }
    };
}); 
```

# java - log4j 中的本地化

> ID：11896733
> 
> 赞同：2
> 
> 时间：2012-08-10T06:46:42.603
> 
> 标签：java, localization, log4j

我正在尝试本地化 java 应用程序中的消息。我正在使用基于 Locale 的 ResourceBundle 加载。

我希望控制台上的消息本地化，日志文件中的消息是英文的。

我正在做的是这样的：

```
 if (bundle != null) { 
     MessageFormat formatter = new MessageFormat(bundle.getString(message));
     Object [] messageArgument = new Object[] {"arg1"};
     logger.info(formatter.format(messageArgument)); 
  } 
```

我已将 ConsoleHandler 阈值设置为 INFO。问题是，现在即使是信息日志文件也将包含本地化消息以及控制台。

有没有办法将英文消息放入日志文件并将本地化消息放入控制台？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:55:36.350

**编辑：完全重写**

通常，在记录时，会将字符串传递给已经本地化且在此之后无法翻译的记录器。然而，log4j 中消息的类型是实际的 Object 并且仅在稍后在框架内它被转换为实际的字符串。这是在消息传递给附加程序之前由 log4j 完成的，但看起来附加程序仍然可以获取原始对象。因此，似乎可以为 log4j 编写自定义附加程序，并结合自定义消息类型来提供您想要的行为，但它会很复杂。

我认为您最好在控制台和 log4j 之上放置一个层，然后让它处理直接向控制台发送本地化消息并向 log4j 发送英文消息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:15:04.777

如果您只在一个（或几个）地方执行此日志记录，则可以将日志记录写入两个记录器实例：

```
if (bundle != null) {
  MessageFormat formatter = new MessageFormat(bundle.getString(message));
  Object [] messageArgument = new Object[] {"arg1"};
  locale_logger.info(formatter.format(messageArgument)); 
  english_logger.info(message);
} 
```

# android - Android 应用内购买问题

> ID：11896735
> 
> 赞同：4
> 
> 时间：2012-08-10T06:46:57.223
> 
> 标签：android, in-app-purchase

我已经使用静态响应 id 在我的帐户中实现了应用内购买`android.test.purchased`。现在，当购买该项目时，会`Toast`弹出**“谢谢。您的项目将很快出现”。**

我认为到目前为止，每件事都完美无缺。

我的问题是

*   这是哪里`Toast`来的。我找不到我的代码。*   我怎样才能覆盖这个 Toast？是因为`Reserved product ID`我用的吗？一旦我使用自己的产品 ID，它会改变吗？*   应该使用哪个覆盖函数知道用户是否购买或取消了请求。

    ```
     @Override
        public void onPurchaseStateChange(PurchaseState purchaseState, String itemId,
                long purchaseTime, String developerPayload) {       
            if (purchaseState == PurchaseState.PURCHASED) {             
                // Is it here?
            }
        } 
    ```

    *   最后，我可以在其中执行用户界面修改`onPurchaseStateChange`吗？

这是我的`onPurchaseStateChange`方法

```
 @Override
    public void onPurchaseStateChange(PurchaseState purchaseState, String itemId,
            long purchaseTime, String developerPayload) {
        if (Consts.DEBUG) {
            Log.i(TAG, "onPurchaseStateChange() itemId: " + itemId + " " + purchaseState);
        }            
        if (purchaseState == PurchaseState.PURCHASED) {
            for (CatalogEntry e : CATALOG) {
                if (e.sku.equals(itemId) &&
                        e.managed.equals(Managed.SUBSCRIPTION)) {
                }
            }
        }
        Toast.makeText(getApplicationContext(), "purchase failed", Toast.LENGTH_LONG).show();
    } 
```

任何帮助将不胜感激！：） 谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-17T06:59:21.670

首先，敬酒来自市场活动。user1378730 在评论中发布的链接解释了它是如何被删除的。

像您所做的那样确定购买的结果`onPurchaseStateChange`是正确的，purchaseState 对象有几个您可以检查的枚举。

我不建议在该`onPurchaseStateChange`方法中执行界面交互，因为在完成购买时可能会多次调用它。我从那个方法跳到我的活动中的一些自定义方法来决定要做什么，例如一个`onPurchaseCancel`可以`onPurchaseSuccess`判断它是否已经运行的方法。这样做还可以让您将市场交互与代码流的其余部分分开，从而更容易调试。

# rpc - 如何编写服务映射描述文件？

> ID：11896736
> 
> 赞同：0
> 
> 时间：2012-08-10T06:46:57.823
> 
> 标签：rpc, json-rpc

我有一个 json-rpc 服务器正在运行，我正在尝试使用 RPC::JSON 在 Perl 中编写一个客户端，我还想向其他用户公开这些方法，所以显然我需要一个 SMD 文件，我可以' t 找到规范或指南。

这是公开 json-rpc 服务的常用方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-06T20:18:14.610

据我所知，SMD 文件并没有被广泛使用。您当然不必提供 SMD 文件来让其他人使用您的界面。大多数 Json-RPC 客户端工具都可以让您与任何 API 对话，无论是否记录在案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T01:52:01.657

[http://dojotoolkit.org/reference-guide/dojox/rpc/smd.html](http://dojotoolkit.org/reference-guide/dojox/rpc/smd.html)

它很像 WSDL；您可以在没有它的情况下调用服务，但它可以作为参考，并且可以被工具用来生成更方便的包装器。

# jquery - “此”不适用于焦点输入字段

> ID：11896739
> 
> 赞同：0
> 
> 时间：2012-08-10T06:47:16.197
> 
> 标签：jquery

我有以下代码可以让我了解焦点输入的 id：

```
$('#searchColumnFields input').focus(function(){
    thisId = $(this).css('id');
    $(this).css('border-color', '#CCEBFF');
    pos = $(this).position() ;
    $('#searchHelper').html(thisId);
    $('#searchHelper').fadeIn(250).css('left', pos.left-20);
}) 
```

但是，`thisId`不断返回null。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T06:49:38.987

你的意思

```
 thisId = $(this).prop('id') ; 
```

或者

```
 thisId = $(this).attr('id'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:51:10.527

[.html](http://api.jquery.com/html/)从不适`form`用于使用[.val()](http://api.jquery.com/val/)获取文本的字段

> .val() 方法主要用于获取输入、选择和文本区域等表单元素的值。

```
$('input').val() 
```

如果您想检索其他属性，例如,`id`等.. 然后使用**[.attr()](http://api.jquery.com/attr)**`class``name`

# javascript - html5 Canvas getImageData 或 toDataURL 的结果 - 哪个占用更多内存？

> ID：11896740
> 
> 赞同：26
> 
> 时间：2012-08-10T06:47:18.583
> 
> 标签：javascript, html, canvas

我的应用程序的一部分包括使用标准 2d 上下文画布和 webGL 混合的 html5 照片编辑。

无论如何，当用户操作他们的照片时，我正在保存“撤消”状态。这些都作为 base64 图像数据存储在 Javascript 对象中。

一切正常，性能良好。

但是我想知道从 getImageData 存储数据是否会占用更少的内存或提供更好的性能？

所以总结一下我的问题是：

哪个在内存中占用更多空间，由 toDataURL() 生成的 base64 jpeg 还是 getImageData() 的结果？两者之间是否存在任何性能差异（关于加载到画布上，以及从画布中提取数据）

提前致谢。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2016-01-21T13:07:19.813

**getImageData() 比 toDataURL() 占用更多内存**

*   **ImageData**为像素数组，图像的最大信息，像素数组的长度为`widthOfImage * heightOfImage * 4`，例如 100 维图像的 imageData 长度为`var imageDataArrayLenth = 100 * 100 * 4 = 40 000 (bytes);`
*   **BLOB（JPG 或 PNG）**是使用 jpg 或 png 算法压缩的 imageData，其大小可以比 imageData 小 10 或 20 倍（取决于图像内容）。
*   **DataURL（BASE64）**是将imageData压缩成JPG或PNG，然后转成字符串，这个字符串比BLOB大37%（ [info ）。](https://en.wikipedia.org/wiki/Base64)

结论：更好的方法是使用**BLOB** ( [info](https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob) )。

```
//Example of using blob with objectURL
var canvas = document.getElementById("canvas");

canvas.toBlob((blob) => {
  let img = new Image();
  img.onload = () =>  URL.revokeObjectURL(img.src);  // no longer need to read the blob so it's revoked
  img.src = URL.createObjectURL(blob);
  document.body.appendChild(img);
}); 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-08-10T14:45:40.710

好问题！我不确定对象本身的真实大小，它应该在 JS 的实现之间有所不同，但这并不意味着我们不能做出一些有根据的猜测。

首先我们可以使用这个问题的近似函数：[JavaScript object size](https://stackoverflow.com/questions/1248302/javascript-object-size)

并举个例子：http: [//jsfiddle.net/g39uz/](http://jsfiddle.net/g39uz/)

与 ImageData 的 720056 字节相比，该字符串可能是 80116 字节。或者差不多。

这里有一个数量级的差异，如果图像很简单，差异会更加明显。值得记住的是，Base64 表示可以被压缩（确实如此）。让我们通过使用空白画布将其发挥到极致：

[http://jsfiddle.net/g39uz/2/](http://jsfiddle.net/g39uz/2/)

在空白画布上，dataURL 字符串只有 1996 个字节（或大约），但图像数据仍然是 720056，它当然仍然尽职尽责地描述了艰苦的数组细节中的每个像素。

简而言之，如果您要存储它，base64 字符串*可能*会占用更少的空间。一个数量级。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T14:50:19.533

前几天我刚刚经历了这个...... getImageData 方法返回一个图像对象，其中实际数据存储在一个 uint8array 中......你必须将数据转换为你的数据库可以管理的东西，它只是不值得，最终输出远大于 toDataURL 方法

将 toDataURL base64 字符串返回到画布上也非常简单......您只需实例化一个新图像并为 src 提供 base64 字符串

# maven - maven-resources-plugin 和 project.build.resources 标签有什么区别？

> ID：11896742
> 
> 赞同：4
> 
> 时间：2012-08-10T06:47:20.293
> 
> 标签：maven, maven-resources-plugin

我很难理解 Maven 中的`maven-resources-plugin`和`project.build.resources`标签之间的区别。

两者似乎有相同的目的。[resources、testResources 和 copy-resources]的不同目标`maven-resources-plugin`也可以使用 resources 标签来实现：

```
<resources>
  <resource>  
    <directory>src/dir</directory>
    <targetPath>dest/dir</targetPath>
  </resource>  
</resources>

<testResources>
  <testResource>
  <directory>src/test/dir</directory>
  </testResource> 
```

并且使用`<resources>`标签将有效地将源目录中的指定文件复制到目标目录，`copy-resources`类似于`maven-resources-plugin`.

那么，它们之间有什么区别吗？
在任何特定情况下，它们的功能会有所不同吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T06:58:47.093

[maven-resources-plugin](http://maven.apache.org/plugins/maven-resources-plugin/)是处理 pom.xml 文件中资源区域的插件。

资源插件的定义是在maven的super pom中完成的。您可以使用以下命令检查使用的版本：

```
mvn help:effective-pom 
```

此外，maven-resources-plugin 的[资源](http://maven.apache.org/plugins/maven-resources-plugin/resources-mojo.html)目标与 pom 中的资源标签相关，而 testResources 标签与maven-resources-plugin 的[testResources](http://maven.apache.org/plugins/maven-resources-plugin/testResources-mojo.html)目标相关。

如果需要，复制资源目标可用于将资源等单独复制到输出文件夹。

# asp.net-mvc-3 - MVC3 Razor 从模型中获取所有数据

> ID：11896749
> 
> 赞同：0
> 
> 时间：2012-08-10T06:47:46.133
> 
> 标签：asp.net-mvc-3, razor

我制作了一个 CRUD MVC 应用程序，它有一些`Parts`相互之间存在某种关系的东西。

```
PartMain      - o:m Section, o:m Report
PartSection   - m:o Main, o:m Property
PartProperty  - m:o Section, Contains MainID for sorting purposes, SortByMainID
PartReport    - m:o Main 
```

所有模型都在工作，这部分一切正常。现在我希望生成一个视图，它将显示与可以说 selected 相关的所有数据`PartMain`。像这样：

```
PartMain: Name, Desc, etc... rest of data
    PartSection1: data...
        PartProperty1: data.. (all properties in relationship with that section)
    PartSection2: data... (all sections in relationship with selected PartMain)
        PartProperty1: data.. (all properties in relationship with that section)
    PartReport: data.... (all reports with selected PartMain) 
```

我知道我应该做一些类似`foreach`循环的事情，`View`但我无法掌握逻辑，有人可以帮忙吗？

谢谢。

`PartMain`包含 Name 和 Desc 属性，也在 o:m`PartSection`和 o:m`PartReport`中。`PartSection`包含 Name 和 Desc 属性，也在 o:m`PartProperty`中。`PartProperty`包含名称和描述。`PartReport`包含名称和版本。

所以我想做的是使用类似的伪代码。 **我在控制器**中试过这个，用 viewbag 传递数据但什么也没回来

```
pMainID = selectedMainID;
PartMain partMain = db.PartMain.Find(pMainID);
ViewBag.Name = partMain.Name
ViewBag.Desc = partMain.Desc

var partSections = db.PartSection.Where(s => s.pMainID = pMainID);

foreach (var partSec in partSections)
{
    ViewBag.PartSecName = partSec.Name
    ViewBag.PartSecDesc = partSec.Desc

    var partProperties = db.PartProperties.Where(p => p.pSecID = partSec.ID);
    foreach(var partProp in partProperties)
    {
        ViewBag.PartPropName = partProp.Name
        ViewBag.PartPropDesc = partProp.Desc
    }
} 
```

现在应该输出我上面提到的东西。当然，这段代码不起作用，但这应该是一般的想法。这就是我寻求帮助的原因。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:58:04.540

控制器：

```
var pMainID = selectedMainID;
PartMain partMain = db.PartMain.Find(pMainID);

ViewBag.Part = partMain;

ViewBag.Sections = db.PartSection
    .Where(s => s.pMainID = pMainID)
    .Select(s => new
    {
        Section = s,
        Proeprties = db.PartProperties.Where(p => p.pSecID = partSec.ID)
    }); 
```

看法：

```
<h1>@ViewBag.Part.Name</h1>
<p>@ViewBag.Part.Desc</p>

@foreach(var section in ViewBag.Sections)
{
    <h2>@section.Section.Name</h2>
    <p>@section.Section.Desc</p>

    <dl>
    @foreach(var property in section.Properties)
    {
        <dt>@property.Name</dt>
        <dd>@property.Desc</dd>
    }
    </dl>
} 
```

# css - 无法动态更改 CSS

> ID：11896759
> 
> 赞同：1
> 
> 时间：2012-08-10T06:48:35.270
> 
> 标签：css, jquery-mobile, cordova, backbone.js

我想在我的页面中做一个简单的突出显示功能。

我创建了四张图片，点击后选中的图片会变成黄色边框。

[http://imgur.com/VdM90](http://imgur.com/VdM90)

它适用于桌面，但当我在 Galaxy S3 上执行时它不起作用。在 Galaxy S3 上，我单击图像，所选图像不会立即变黄。CSS 效果会更新，直到我旋转设备。

顺便说一句，我使用 jQuery mobile、backboneJS 和 PhoneGap(Cordova)。我不确定图书馆是否会导致问题。

代码：

```
var ItemView = Backbone.View.extend({
       initialize: function () {
            _.bindAll(this, 'render');

            this.render();
       },
       tagName: 'img',
       imgSelected: '',
       events: {
            'click': 'selectImg'
       },
       selectImg: function () {
            $('#picPool img').removeClass('selectedImg');
            this.$el.addClass('selectedImg');
       },
       ...
}) 
```

谢谢

==================================================== ==============================

解决方案：

我尝试使用 touchstart 事件来替换点击事件，它现在可以工作了。

# javascript - 无法将属性“innerHTML”设置为 null

> ID：11896763
> 
> 赞同：-2
> 
> 时间：2012-08-10T06:49:07.033
> 
> 标签：javascript

在谷歌浏览器控制台中，显示的错误是

**未捕获的类型错误：无法将属性“innerHTML”设置为 null**

```
var description=["a","b","c","d","e"];
var count=1;   
document.getElementById("productdescription").innerHTML = description[count-1]; 
```

我在 onclick 事件上调用此函数到 imagebutton

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T06:51:45.540

您没有 ID 为 productdescription（可能是大写）的元素，因此`document.getElementById("productdescription")`返回 null。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T15:27:18.847

我犯了一个错误。我声明了一个`div#showproduct`覆盖`div#productdescription`and 在调用`div#productdescription`innerHTML 属性之前，我正在调用 .innerHTML 属性`div#showproduct`。所以，`div#productdescription`被删除了。

# jquery - 什么是 jquery 栈？

> ID：11896764
> 
> 赞同：1
> 
> 时间：2012-08-10T06:49:09.630
> 
> 标签：jquery, dom

> **可能重复：**
> [jQuery pushStack 函数是如何工作的？](https://stackoverflow.com/questions/10197753/how-does-the-jquery-pushstack-function-work)

在 jQuery API 中，我看到了一个函数`pushStack`。描述是：`Add a collection of DOM elements onto the jQuery stack.`

有谁知道 jQuery 堆栈是什么以及它可以用来做什么？它与DOM有关系吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T06:57:46.393

当您将多个 jQuery 方法链接在一起并且每个方法返回一个新的 jQuery 对象时，jQuery 会跟踪堆栈中的所有 jQuery 对象。这允许您返回到以前使用的 jQuery 对象，而不必将其保存在局部变量中。为了使这个工作，当 jQuery 方法作为方法调用的结果创建一个新的 jQuery 对象时，它调用`pushStack()`以允许新对象参与堆栈。

jQuery 方法`.end()`有点相反`.pushStack()`，它返回堆栈中的一项以获取先前的 jQuery 对象，并且可以多次调用它以继续返回堆栈。[有关更多信息，`.end()`](http://api.jquery.com/end/)请参阅[文档](http://api.jquery.com/end/)。

对于 using 的示例，`.pushStack()`假设您想要一个可以获取容器中所有文本节点的方法，您可以这样做并使用以下方法返回新的结果 jQuery 对象`.pushStack()`：

```
jQuery.fn.textNodes = function() {
    var nodes = [];
    this.each(function() {
        var node = this.firstChild;
        while (node) {
            if (node.nodeType == 3) {
                nodes.push(node);
            }
            node = node.nextSibling;
        }
    });
    return this.pushStack(nodes, "textNodes");
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T06:59:53.660

大多数 jQuery 的 DOM 遍历方法对 jQuery 对象实例进行操作并生成一个新的对象实例，以匹配一组不同的 DOM 元素。当这种情况发生时，就好像新的元素集被推到了一个在对象内部维护的堆栈上。每个连续的过滤方法都会将一个新元素集推入堆栈。您有不同的功能可以直接在此堆栈上进行操作，例如：

*   [推栈](http://api.jquery.com/pushStack/)
*   [结尾](http://api.jquery.com/end/)
*   [和自我](http://api.jquery.com/andSelf/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T07:00:51.417

查看 core.js 的 jQuery 源代码[行 203](https://github.com/jquery/jquery/blob/master/src/core.js#L203)，堆栈指的是 jQuery 对象实例中的当前元素集。把它想象成链接......当你过滤时，你正在添加到堆栈中。调用 end() 将弹出该集合并返回堆栈中的前一个集合。`.pushStack()`允许您向此堆栈添加一组新元素。

```
// Take an array of elements and push it onto the stack
// (returning the new matched element set)
pushStack: function( elems, name, selector ) {

    // Build a new jQuery matched element set
    var ret = jQuery.merge( this.constructor(), elems );

    // Add the old object onto the stack (as a reference)
    ret.prevObject = this;

    ret.context = this.context;

    if ( name === "find" ) {
        ret.selector = this.selector + ( this.selector ? " " : "" ) + selector;
    } else if ( name ) {
        ret.selector = this.selector + "." + name + "(" + selector + ")";
    }

    // Return the newly-formed element set
    return ret;
}, 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T07:02:42.513

您可以将其与 .end() 一起使用

参见： [jQuery pushStack](https://stackoverflow.com/questions/4399055/jquery-pushstack)

也： [http ://www.bennadel.com/blog/1739-Using-PushStack-In-jQuery-Plugins-To-Create-New-Collections.htm](http://www.bennadel.com/blog/1739-Using-PushStack-In-jQuery-Plugins-To-Create-New-Collections.htm)

# vb6 - 在VB6中将文件嵌入到EXE文件中

> ID：11896765
> 
> 赞同：5
> 
> 时间：2012-08-10T06:49:12.317
> 
> 标签：vb6, embed, exe

我正在尝试在 VB6 中制作一个安装程序，它将安装该程序所需的所有文件。

我使用 CSV 文件来存储数据并使用以下方法读取它：

```
file="C:\users\admin\desktop\table.csv"
Open file For Input As fnum 
```

但是，当我收到错误“”时，无法在另一台笔记本电脑上执行 EXE 文件`file not found`。

那么：**如何将此 CSV 文档嵌入到 .EXE 文件中，以便程序可以在任何 Windows PC 上运行**？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-10T11:04:31.990

1.  打开项目，*加载项*菜单项，打开*加载项*管理器并双击*VB6 资源编辑器*加载它，关闭管理器。

2.  单击*项目*菜单项，然后单击底部的*添加新资源文件。*为其输入文件名并将其保存在包含代码文件的目录中。

3.  在*Project Explorer*树中，双击新的*相关文档*节点中的*XXX.RES 。*

**   在弹出的窗口的工具栏中选择*添加自定义资源*

    *   浏览到您的 .csv 并添加它，您应该会看到它添加为*CUSTOM\101*

    *   它现在将在编译时嵌入到 exe 中。如果文件更改，请将其重新添加到资源中，每个条目有 64k 限制。

    *   在运行时将其加载到代码中：

    `strCSV = strconv(LoadResData(101, "CUSTOM"), vbunicode)`*

# php - Silex - 图像（以及样式表和 JavaScript）和 Hotlink 水印

> ID：11896771
> 
> 赞同：0
> 
> 时间：2012-08-10T06:49:47.043
> 
> 标签：php, silex, hotlinking

我正在将我的网站转换为 Silex（第一次使用框架），但图像没有显示。

这是我的 .htaccess：

```
<IfModule mod_rewrite.c>
    Options -MultiViews
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^ index.php [L]
</IfModule> 
```

所有请求都被捕获并发送到 index.php，包括所有应该对访问者可用的文件（图像、样式表和 javascript）。我需要做什么才能使它们可用？

至于盗链，我一直在通过将这一行添加到 .htaccess 中来添加水印：

```
RewriteRule ^(.*\.png)$ /hotlink.php?fn=$1 [L] 
```

每当请求 .png 文件时，hotlink.php 都会应用水印并将其发送（代码由[http://www.chipple.net/mt/2006/11/04_003858.php](http://www.chipple.net/mt/2006/11/04_003858.php)提供）。

我如何让它与 Silex 一起使用？

# android - android中的可扩展列表

> ID：11896773
> 
> 赞同：-1
> 
> 时间：2012-08-10T06:50:07.720
> 
> 标签：android, xml-parsing, expandablelistview

我开发了一个解析 exmaple 的 xml。在这里我必须使用可扩展的列表视图。但我不能开发这个。请帮我锄头做。

这是代码：

```
 public class CustomExpandableListExampleActivity extends ExpandableListActivity {

ExpandableListAdapter mAdapter;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    // Set up our adapter
    mAdapter = new MyExpandableListAdapter();
    setListAdapter(mAdapter);
    registerForContextMenu(getExpandableListView());
}

@Override
public void onCreateContextMenu(ContextMenu menu, View v, ContextMenuInfo menuInfo) {
    menu.setHeaderTitle("Sample menu");
    menu.add(0, 0, 0, "Sample action");
}

@Override
public boolean onContextItemSelected(MenuItem item) {
    ExpandableListContextMenuInfo info = (ExpandableListContextMenuInfo) item.getMenuInfo();

    String title = ((TextView) info.targetView).getText().toString();

    int type = ExpandableListView.getPackedPositionType(info.packedPosition);
    if (type == ExpandableListView.PACKED_POSITION_TYPE_CHILD) {
        int groupPos = ExpandableListView.getPackedPositionGroup(info.packedPosition);
        int childPos = ExpandableListView.getPackedPositionChild(info.packedPosition);
        Toast.makeText(this, title + ": Child " + childPos + " clicked in group " + groupPos,
                Toast.LENGTH_SHORT).show();
        return true;
    } else if (type == ExpandableListView.PACKED_POSITION_TYPE_GROUP) {
        int groupPos = ExpandableListView.getPackedPositionGroup(info.packedPosition);
        Toast.makeText(this, title + ": Group " + groupPos + " clicked", Toast.LENGTH_SHORT).show();
        return true;
    }

    return false;
}

public class MyExpandableListAdapter extends BaseExpandableListAdapter {
    // Sample data set.  children[i] contains the children (String[]) for groups[i].
    private String[] groups = { "Order Info", "Customer Info" };
    private String[][] children = {
            { "abc", "xyz", "ash", "anu" },
            { "SSE", "TJ", "PM", "SE" },

    };

    public Object getChild(int groupPosition, int childPosition) {
        return children[groupPosition][childPosition];
    }

    public long getChildId(int groupPosition, int childPosition) {
        return childPosition;
    }

    public int getChildrenCount(int groupPosition) {
        return children[groupPosition].length;
    }

    public TextView getGenericView() {
        // Layout parameters for the ExpandableListView
        AbsListView.LayoutParams lp = new AbsListView.LayoutParams(
                ViewGroup.LayoutParams.MATCH_PARENT, 64);

        TextView textView = new TextView(CustomExpandableListExampleActivity.this);
        textView.setLayoutParams(lp);
        // Center the text vertically
        textView.setGravity(Gravity.CENTER_VERTICAL | Gravity.LEFT);
        // Set the text starting position
        textView.setPadding(36, 0, 0, 0);
        return textView;
    }

    public View getChildView(int groupPosition, int childPosition, boolean isLastChild,
            View convertView, ViewGroup parent) {
        TextView textView = getGenericView();
        textView.setText(getChild(groupPosition, childPosition).toString());
        return textView;
    }

    public Object getGroup(int groupPosition) {
        return groups[groupPosition];
    }

    public int getGroupCount() {
        return groups.length;
    }

    public long getGroupId(int groupPosition) {
        return groupPosition;
    }

    public View getGroupView(int groupPosition, boolean isExpanded, View convertView,
            ViewGroup parent) {
        TextView textView = getGenericView();
        textView.setText(getGroup(groupPosition).toString());
        return textView;
    }

    public boolean isChildSelectable(int groupPosition, int childPosition) {
        return true;
    }

    public boolean hasStableIds() {
        return true;
    }

  }
 } 
```

上面的代码在 orderinfomation 上有子项（abc、xyz、ash、anu）。但是如果我单击 orderinfo 表示它已展开并希望显示此单项值（payment_method、subtotal、discount）。如何做。请帮助我。

```
public class SingleMenuItemActivity  extends Activity {

// XML node keys
static final String KEY_ARTIST = "payment_method";
static final String KEY_SUBTOTAL = "subtotal";
static final String KEY_DISCOUNT = "discount";
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.single_list_item);

    // getting intent data
    Intent in = getIntent();

    // Get XML values from previous intent
    String subtotal = in.getStringExtra(KEY_SUBTOTAL);
    String discount = in.getStringExtra(KEY_DISCOUNT);
    String payment_method = in.getStringExtra(KEY_ARTIST);
    TextView lblSub = (TextView) findViewById(R.id.subtotal_label);

    TextView lblPayment = (TextView) findViewById(R.id.payment_label);
    TextView lbldiscount = (TextView) findViewById(R.id.discount_label);
    lblSub.setText(subtotal);
    lbldiscount.setText(discount);
    lblPayment.setText(payment_method);
     }
       } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T07:12:36.907

在这里，您可以使用 ExpandableListView 创建 xml 文件并获取有关您的活动的参考。创建如下所示的适配器。从活动中，您可以按如下方式设置项目

```
 Map<String, List<CommonTask>> map = new HashMap<String, List<CommonTask>>();

    List<CommonTask> childItem1 = new ArrayList<CommonTask>();
    childItem1.add(new CommonTask("Child 1"));

    List<CommonTask> childItem2 = new ArrayList<CommonTask>();
         childItem2.add(new CommonTask("Child 2"));

            map.put("Parent 1", childItem1);
    map.put("Parent 2", childItem2);

          // Set on listview ExpandableListView reference

           expandListView.setAdapter(adapter); 
```

公共类 ExpandableListViewAdapter 扩展 BaseExpandableListAdapter {

```
private static final class ViewHolder {
    TextView textLabel;
    TextView groupTextLabel;

}

private final Map.Entry<Object, List<Object>> entries[];

private final LayoutInflater inflater;

public ExpandableListViewAdapter(final Context theContext,
        final Map<String, List<CommonTask>> map) {
    inflater = LayoutInflater.from(theContext);

    entries = map.entrySet().toArray(new Map.Entry[0]);

}

@Override
public Object getChild(final int groupPosition, final int childPosition) {
    final List<Object> childList = entries[groupPosition].getValue();

    return childList.get(childPosition);
}

@Override
public long getChildId(final int groupPosition, final int childPosition) {
    return childPosition;
}

@Override
public int getChildrenCount(final int groupPosition) {

    final List<Object> childList = entries[groupPosition].getValue();

    final int childCount = childList.size();

    return childCount;
}

@Override
public View getChildView(final int groupPosition, final int childPosition,
        final boolean isLastChild, final View theConvertView,
        final ViewGroup parent) {
    View resultView = theConvertView;

    ViewHolder holder = null;

    if (resultView == null) {
        resultView = inflater.inflate(R.layout.child_layout, null);

        holder = new ViewHolder();

        holder.textLabel = (TextView) resultView.findViewById(R.id.title);

        resultView.setTag(holder);
    } else {
        holder = (ViewHolder) resultView.getTag();
    }

    final Object item = getChild(groupPosition, childPosition);
    CommonTask commonTask = (CommonTask) item;
    holder.textLabel.setText(commonTask.getName());

    return resultView;
}

@Override
public Object getGroup(final int groupPosition) {
    return entries[groupPosition].getKey();
}

@Override
public int getGroupCount() {
    final int groupCount = entries.length;

    return groupCount;
}

@Override
public long getGroupId(final int groupPosition) {
    return groupPosition;
}

@Override
public View getGroupView(final int groupPosition, final boolean isExpanded,
        final View theConvertView, final ViewGroup parent) {
    View resultView = theConvertView;

    ViewHolder holder = null;

    if (resultView == null) {
        resultView = inflater.inflate(R.layout.group_layout, null);

        holder = new ViewHolder();
        holder.groupTextLabel = (TextView) resultView
                .findViewById(R.id.tvGroup);

        resultView.setTag(holder);
    } else {
        holder = (ViewHolder) resultView.getTag();
    }

    final Object item = getGroup(groupPosition);

    holder.groupTextLabel.setText(item.toString());

    return resultView;
}

@Override
public boolean hasStableIds() {
    return true;
}

@Override
public boolean isChildSelectable(final int groupPosition,
        final int childPosition) {
    return true;
} 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-28T10:38:54.360

首先为可扩展列表创建 main.xml，

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"

    android:layout_height="match_parent" >

    <ExpandableListView
        android:id="@+id/android:list"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:groupIndicator="@drawable/group_indicator"

        android:layout_weight="1" >
    </ExpandableListView>      
</TextView>    

</LinearLayout> 
```

然后为 group_row.xml 创建 xml，

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

<TextView 
    android:id="@+id/tvGroupName" 
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:textSize="16sp"
    android:textStyle="bold"
android:layout_gravity="center_vertical"
    android:paddingLeft="30dp"
    android:gravity="center_vertical" />
</LinearLayout> 
```

然后为child_row.xml编写代码，

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

<TextView
    android:id="@+id/tvPlayerName" 
    android:paddingLeft="50dp"   
    android:layout_width="wrap_content" 
    android:layout_height="30dip" 

    android:gravity="center_vertical">

</TextView>    
</LinearLayout> 
```

现在在 drawable 文件夹中创建 group_indicator.xml 文件来定义可扩展列表的样式，

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">

    <item android:state_empty="true" android:drawable="@android:color/transparent"></item>

    <item android:state_expanded="true" android:drawable="@android:color/transparent"></item>
    <item android:drawable="@android:color/transparent"></item>
</selector> 
```

现在创建 ExpList.java Activity 类来编写代码，

```
import android.app.ExpandableListActivity;
import android.os.Bundle;
import android.util.DisplayMetrics;
import android.util.Log;
import android.view.View;
import android.widget.ExpandableListView;
import android.widget.Toast;
import android.widget.ExpandableListView.OnChildClickListener;
import android.widget.ExpandableListView.OnGroupCollapseListener;
import android.widget.ExpandableListView.OnGroupExpandListener;

public class ExpList extends ExpandableListActivity
{

    static final String arrGroupelements[] = 
        {
        "India",
        "Australia",
        "England",
        "South Africa"
        };

    static final String arrChildelements[][] = 
        {
        {
            "Sachin Tendulkar",
            "Raina",
            "Dhoni",
            "Yuvi"
        },
        {
            "Ponting",
            "Adam Gilchrist",
            "Michael Clarke"
        },
        {
            "Andrew Strauss",
            "kevin Peterson",
            "Nasser Hussain"
        },
        {
            "Graeme Smith",
            "AB de villiers",
            "Jacques Kallis"
        }
        };

    DisplayMetrics metrics;
    int width;
    ExpandableListView expList;

    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        expList = getExpandableListView();
        metrics = new DisplayMetrics();
        getWindowManager().getDefaultDisplay().getMetrics(metrics);
        width = metrics.widthPixels;

//        this code for adjusting the group indicator into right side of the view
        expList.setIndicatorBounds(width - GetDipsFromPixel(50), width - GetDipsFromPixel(10));
        expList.setAdapter(new ExpAdapter(this));

        int groupPosition = 0;
        expList.expandGroup(0);

//        if (listView.isGroupExpanded(groupPosition))
//            listView.collapseGroup(groupPosition);
//        else
//            listView.expandGroup(groupPosition);

        expList.setOnGroupExpandListener(new OnGroupExpandListener()
        {
            @Override
            public void onGroupExpand(int groupPosition) 
            {
                Log.d("onGroupExpand", "OK");
            }
        });

        expList.setOnGroupCollapseListener(new OnGroupCollapseListener()
        {
            @Override
            public void onGroupCollapse(int groupPosition) 
            {
                Log.d("onGroupCollapse", "OK");
            }
        });

        expList.setOnChildClickListener(new OnChildClickListener()
        {
            @Override
            public boolean onChildClick(ExpandableListView parent, View v,
                    int groupPosition, int childPosition, long id) 
            {
                Toast.makeText(getApplicationContext(), "" +  childPosition , Toast.LENGTH_LONG).show();
                Log.d("OnChildClickListener", "OK");
                return false;
            }
        });
    }

    public int GetDipsFromPixel(float pixels)
    {
//      Get the screen's density scale
        final float scale = getResources().getDisplayMetrics().density;
//      Convert the dps to pixels, based on density scale
        return (int) (pixels * scale + 0.5f);
    }
} 
```

现在，最后一件事是为 Expandable List 创建一个适配器 ExpAdapter.java，

```
import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseExpandableListAdapter;
import android.widget.TextView;

public class ExpAdapter extends BaseExpandableListAdapter {

    static final String arrGroupelements[] = 
    {
   "India",
   "Australia",
   "England",
   "South Africa"
 };

    /**
  * strings for child elements
  */
 static final String arrChildelements[][] = 
 {
   {
  "Sachin Tendulkar",
  "Raina",
  "Dhoni",
  "Yuvi"
   },
   {
  "Ponting",
  "Adam Gilchrist",
  "Michael Clarke"
   },
   {
  "Andrew Strauss",
  "kevin Peterson",
  "Nasser Hussain"
   },
   {
  "Graeme Smith",
  "AB de villiers",
  "Jacques Kallis"
   }
    };
      private Context myContext;
      public ExpAdapter(Context context) {
       myContext = context;
      }
      @Override
      public Object getChild(int groupPosition, int childPosition) {
       return null;
      }

      @Override
      public long getChildId(int groupPosition, int childPosition) {
       return 0;
      }

      @Override
      public View getChildView(int groupPosition, int childPosition,
        boolean isLastChild, View convertView, ViewGroup parent) {

       if (convertView == null) {
        LayoutInflater inflater =  (LayoutInflater) myContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        convertView = inflater.inflate(R.layout.child_row, null);
       }

       TextView tvPlayerName = (TextView) convertView.findViewById(R.id.tvPlayerName);
       tvPlayerName.setText(arrChildelements[groupPosition][childPosition]);

       return convertView;
      }

      @Override
      public int getChildrenCount(int groupPosition) {
       return arrChildelements[groupPosition].length;
      }

      @Override
      public Object getGroup(int groupPosition) {
       return null;
      }

      @Override
      public int getGroupCount() {
       return arrGroupelements.length;
      }

      @Override
      public long getGroupId(int groupPosition) {
       return 0;
      }

      @Override
      public View getGroupView(int groupPosition, boolean isExpanded,
        View convertView, ViewGroup parent) {

       if (convertView == null) {
        LayoutInflater inflater =  (LayoutInflater) myContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        convertView = inflater.inflate(R.layout.group_row, null);
       }

       TextView tvGroupName = (TextView) convertView.findViewById(R.id.tvGroupName);
       tvGroupName.setText(arrGroupelements[groupPosition]);

       return convertView;
      }

      @Override
      public boolean hasStableIds() {
       return false;
      }

      @Override
      public boolean isChildSelectable(int groupPosition, int childPosition) {
       return true;
      }
     } 
```

在这里，编译并运行代码。希望能帮助到你。

# qt - 在 gtk 框架中使用基于 Qt 的库

> ID：11896777
> 
> 赞同：6
> 
> 时间：2012-08-10T06:50:12.570
> 
> 标签：qt, gtk, main, bridge

我们试图找出如何使用我们在基于 gtk 的应用程序中编写的 Qt 代码。有传言说适配器是可能的，[不到 600 LoC](http://labs.qt.nokia.com/2006/02/24/qt-and-glib/)，但显然所有链接都指向被 6 年灰尘覆盖的网页。

那么问题来了：如何创建一个`QCoreApplication`使用 gtk 主循环的？

# wpf - 列表视图中每个项目的不同视图

> ID：11896782
> 
> 赞同：0
> 
> 时间：2012-08-10T06:50:58.643
> 
> 标签：wpf, mvvm

我在暑假前做了一些聪明的事情，由于某种原因我删除了代码并且不记得我是如何解决一个问题的，所以我求助于 StackOverflow 的专家。

基本思路是这样的。我有一个绑定到可观察的视图模型集合的列表视图。列表中的项目是 Generic 类型，或者是我们可以称为专用的继承类。现在，如果项目的类型是 Generic，我希望在列表中显示通用视图，如果类型是 Specialized，我希望显示 Specialized 视图。我为每个视图模型设置了一个数据模板，将其绑定到它的视图。但由于某种原因，不是加载视图，而是显示的唯一内容是视图模型的完整类名。我知道我错过了一些愚蠢的东西，但显然我把我的大脑留在了海滩上。

这是 xaml（命名空间等已删除）：

```
<UserControl x:Class="ReportHostView"
         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
         xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
         xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
         xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
         xmlns:vmrep="ViewModel.Report"            
         xmlns:vwrep="View.Report" 
         mc:Ignorable="d" 
         d:DesignHeight="300" d:DesignWidth="300">
<UserControl.Resources>
    <DataTemplate x:Key="DefaultDataTemplate" DataType="{x:Type vmrep:GenericItemViewModel}">
        <vwrep:GenericItemView />
    </DataTemplate>

    <DataTemplate x:Key="SpecializedDataTemplate" DataType="{x:Type vmrep:SpecializedItemViewModel}">
        <vwrep:SpecializedItemView />
    </DataTemplate>

    <DataTemplate x:Key="ItemTemplate">
        <ContentPresenter Content="{Binding}" />
    </DataTemplate>
</UserControl.Resources>
<Grid Width="1024" Height="800">
    <Grid.ColumnDefinitions>
        <ColumnDefinition Width="200" />
        <ColumnDefinition Width="*" />
    </Grid.ColumnDefinitions>
    <ListView ItemsSource="{Binding Items}" SelectedItem="{Binding SelectedItem}" ItemTemplate="{StaticResource ItemTemplate}">
    </ListView>
</Grid> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:55:17.750

尝试执行以下操作：通过删除 x:Key 属性将 DataTemplates 修改为默认值：

```
<DataTemplate DataType="{x:Type vmrep:GenericItemViewModel}">
    <vwrep:GenericItemView />
</DataTemplate>

<DataTemplate DataType="{x:Type vmrep:SpecializedItemViewModel}">
    <vwrep:SpecializedItemView />
</DataTemplate> 
```

然后不要将项目模板显式设置为您的 ListView

```
<ListView ItemsSource="{Binding Items}" SelectedItem="{Binding SelectedItem}"> 
```

# java - 如何从命令行运行 TestNG

> ID：11896791
> 
> 赞同：37
> 
> 时间：2012-08-10T06:51:47.813
> 
> 标签：java, command-line, testng, command-prompt

我究竟如何从命令行运行 .java TestNG 项目？

我已通读 TestNG 文档，并尝试以下方法无济于事：

```
C:\projectfred> java org.testng.TestNG testng.xml 
```

...在我的项目中使用以下 testng.xml 文件：

```
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd" >  
<suite name="SuiteAll" verbose="1">
    <test name="TestAll">  
        <packages>  
            <package name="com.project.fred.tests"/>
        </packages>  
    </test>  
</suite> 
```

我得到的错误是这样的：

```
Exception in thread "main" java.lang.NoClassDefFoundError: org/testng/TestNG
Caused by: java.lang.ClassNotFoundException: org.testng.TestNG
        at java.net.URLClassLoader$1.run(Unknown Source)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
        at java.lang.ClassLoader.loadClass(Unknown Source)
Could not find the main class: org.testng.TestNG.  Program will exit. 
```

显然，我没有在命令行中正确引用 TestNG。有谁知道如何让这个工作？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-08-10T07:46:19.233

你需要有`testng.jar`下面的类路径。

尝试`C:\projectfred> java -cp "path-tojar/testng.jar:path_to_yourtest_classes" org.testng.TestNG testng.xml`

更新：

在 linux 下我运行了这个命令，它在 Windows 上也有类似的东西

```
test/bin# java -cp ".:../lib/*" org.testng.TestNG testng.xml 
```

目录结构：

```
/bin - All my test packages are under bin including testng.xml
/src - All source files are under src
/lib - All libraries required for the execution of tests are under this. 
```

一旦我编译了所有源代码，它们就会进入 bin 目录。因此，在类路径中，我需要在此处指定 bin 目录和所有库（如 testng.xml、记录器等）的内容。如果您不想指定 testng.xml 可用的完整路径，也可以将 testng.xml 复制到 bin 文件夹。

```
 /bin
    -- testng.xml
    -- testclasses
    -- Properties files if any.
 /lib
    -- testng.jar
    -- log4j.jar 
```

**`Update`：**

转到文件夹`MyProject`并键入运行 java 命令，如下所示：-

```
java -cp ".: C:\Program Files\jbdevstudio4\studio\plugins\*" org.testng.TestNG testng.xml 
```

我相信 testng.xml 文件在`C:\Users\me\workspace\MyProject`如果不是请给出`testng.xml`文件的完整路径

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2019-04-27T00:22:44.310

如果你使用的是 Maven，你可以很容易地从 cmd 行运行它，cd 到带有 testng.xml 的目录（或者你的任何名称，包含所有将运行的类的 xml）并运行这个 cmd：

```
mvn clean test -DsuiteXmlFile=testng.xml 
```

这个页面更详细地解释了它：[如何从 Maven 命令行运行 testng.xml](https://stackoverflow.com/questions/42847732/how-to-run-testng-xml-from-maven-command-line)

我不知道你是否使用 Maven 很重要，所以我没有将它包含在我的搜索词中，我想我会在这里提到它，以防其他人与我处于相同的情况。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2016-09-07T08:49:45.507

好吧，经过 2 天的尝试，我无法从

[http://www.tutorialspoint.com/testng/testng_environment.htm](http://www.tutorialspoint.com/testng/testng_environment.htm)以下代码对我不起作用

```
C:\TestNG_WORKSPACE>java -cp "C:\TestNG_WORKSPACE" org.testng.TestNG testng.xml 
```

解决方法如下：我得出以下结论：首先安装eclipse，然后下载TestNG插件。之后按照教程中的说明使用 javac 从 cmd 创建和编译测试类，并添加 testng.xml。要在 Windows 10 cmd 上运行 testng.xml，请运行以下行：

```
java -cp C:\Users\Lenovo\Desktop\eclipse\plugins\org.testng.eclipse_6.9.12.201607091356\lib\*;C:\Test org.testng.TestNG testng.xml 
```

澄清一下：`C:\Users\Lenovo\Desktop\eclipse\plugins\org.testng.eclipse_6.9.12.201607091356\lib\*` 上面的路径表示您通过安装 Eclipse 的 TESTNG 插件下载的 jcommander.jar 和 testng.jar 的位置。路径可能会有所不同，因此请确保只需打开 eclipse 的安装位置，转到插件并搜索 jcommander.jar。然后复制该位置，然后添加 * 以选择所有必要的 .jar。

```
C:\Test 
```

上面的路径表示项目中 testing.xml 的位置。获得所有必要的路径后，使用“;”附加它们。

我希望我对你们中的一些人有所帮助:)

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2014-12-02T09:44:26.137

非常感谢，它真的很有帮助。我能够使用命令行运行我的 TestNG 类，但我仍然想最后一次总结一下，如下所示。

```
1) Set the classpath for the testng.jar in the environment variables
(either manually or via command line).

2) Create a new folder "MyTest".

3) Compile all your classes(testNG+java) and put them(.class files )
in a new folder "Mytest\bin".

4) Put your 'testng.xml' and '.properties' files to "Mytest\bin"
again.

5) Put all the .jar files (testng,selenium... etc) in a new folder
"Mytest\lib".

6) Browse to the folder "bin" via command line and run the command
java -cp "..\lib\*;" org.testng.TestNG testng.xml 
```

这应该运行您的 testNG 案例。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2014-10-03T17:51:56.657

在 Windows 问题上使用“;”作为分隔符已得到解决。

```
java -cp "path of class files; testng jar file path" org.testng.TestNG testng.xml 
```

前任：-

```
java -cp ".\bin;..\common_lib\*;" org.testng.TestNG testng.xml 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2016-09-28T14:42:33.767

准备`MANIFEST.MF`以下内容的文件

```
Manifest-Version: 1.0
Main-Class: org.testng.TestNG 
```

将所有测试和依赖类打包在同一个 jar 中，比如说`tests.jar`

```
jar cmf MANIFEST.MF tests.jar -C folder-with-classes/ . 
```

注意尾随“。”，替换`folder-with-classes/`为正确的文件夹名称或路径。

`testng.xml`使用如下内容创建

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd" >
<suite name="Tests" verbose="5">
  <test name="Test1">
    <classes>
      <class name="com.example.yourcompany.qa.Test1"/>
    </classes>
  </test>  
</suite> 
```

替换`com.example.yourcompany.qa.Test1`为您的测试类的路径。

运行你的测试

```
java -jar tests.jar testng.xml 
```

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2018-04-05T13:14:20.913

我遇到了同样的问题，因为我从 Eclipse 下载了 TestNG 插件。这是我为完成工作所做的工作：

1.  将 TestNG 添加到您的项目库后，在您的项目名称中创建一个文件夹作为 lib（名称可以是任何名称）：

2.  转到“C:\Program Files\Eclipse\eclipse-java-mars-R-win32-x86_64\eclipse\plugins”位置并复制**com.beust.jcommander_1.72.0.jar**和**org.testng_6.14.2.r20180216145.jar**文件到创建的文件夹（lib）。

**注意：**文件是 testng.jar 和 jcommander.jar

3.  现在启动 CMD，导航到您的项目目录，然后键入：
    **Java -cp C:\Users\User123\TestNG\lib*;C:\Users\User123\TestNG\bin org.testng.TestNG testng.xml**

就是这样 ！
如果您还有其他顾虑，请告诉我。

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2018-06-08T09:46:30.027

下面的命令对我有用。前提是所有必需的 jars，包括 testng jar 都保存在 lib 中。

```
java -cp "lib/*" org.testng.TestNG testng.xml 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2014-09-01T10:45:41.340

在 windows 中指定 jar 和类文件路径时，您需要使用分号作为分隔符。这解决了这个问题。
假设类文件在*C:下。*

```
java -cp ".;C:\testng.jar" org.testng.TestNG testing.xml 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2019-04-09T04:37:21.050

在浏览了各种帖子之后，这对我来说很好`IntelliJ Idea`：

```
java -cp "./lib/*;Path to your test.class"  org.testng.TestNG testng.xml 
```

这是我的目录结构：

```
/lib
  -- all jar including testng.jar
/out
  --/production/Example1/test.class
/src
 -- test.java
testing.xml 
```

所以通过这个命令执行：

```
java -cp "./lib/*;C:\Users\xyz\IdeaProjects\Example1\out\production\Example1" org.testng.TestNG testng.xml 
```

我的项目目录`Example1`在路径中：

```
C:\Users\xyz\IdeaProjects\ 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2019-06-18T19:44:48.563

如果以上答案都不起作用，您可以在 IDE 中运行测试，获取类路径并在您的命令中使用它。例如：如果您使用的是 Intellij IDEA，您可以在控制台顶部找到它（下面的屏幕截图）。 [![Intellij 控制台](../Images/8bc762b37aeacae38481c3b9b8758ea4.png)](https://i.stack.imgur.com/S39Yr.png)

单击突出显示的部分会展开并显示完整的类路径。

您需要删除文件夹内对 jar 的引用：JetBrains\IntelliJ IDEA Community Edition 2019.1.3

`java -cp "path_copied" org.testng.TestNG testng.xml`

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2020-11-06T18:52:21.260

我尝试了这篇文章的所有内容，但结果发现我缺少一个 jar 文件。这是我的解决方案：

如果您收到以下错误，请将 guice-4.2.2.jar 添加到您的 jar 文件中。如果您使用的是 maven，请添加以下依赖项。

```
<dependency>
    <groupId>com.google.inject</groupId>
    <artifactId>guice</artifactId>
    <version>4.1.0</version>
</dependency>

Exception in thread "main" java.lang.NoClassDefFoundError: com/google/inject/Stage
        at org.testng.internal.Configuration.<init>(Configuration.java:33)
        at org.testng.TestNG.init(TestNG.java:216)
        at org.testng.TestNG.<init>(TestNG.java:200)
        at org.testng.TestNG.privateMain(TestNG.java:1312)
        at org.testng.TestNG.main(TestNG.java:1304)
Caused by: java.lang.ClassNotFoundException: com.google.inject.Stage
        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)
        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)
        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)
        ... 5 more 
```

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2021-04-25T06:00:58.717

试试下面的命令

```
java -cp bin\;jars\* org.testng.TestNG testng.xml 
```

其中**bin**包含项目的编译类，**jars**文件夹包含执行 testng.xml 文件所需的 jars

```
Make sure not to use bin\* instead of bin\ as it will lead you to errors. 
```

现在必要的 jar 将是您的 TestNG jar、jcommander jar 和 bsh jar，您可以从**[这里下载这些 jar](https://github.com/CodekruTeam/RunTestNGusingCommandLine/tree/main/jars)**

您的项目结构将如下所示 -

```
Project
    |_ _ bin
      | _ _ your compiled classes
    |_ _ jars
      |_ _ testng.jar
      |_ _ jcommander.jar
      |_ _ bsh.jar
    |_ _ testng.xml 
```

我还写了**[一篇文章](https://www.codekru.com/testng/how-to-run-testng-xml-using-the-command-line)**，解释了如何在创建新项目或在现有项目中运行 testng.xml 文件。希望您在文章中找到您的解决方案。

# hibernate - 检索实体属性名称的推荐方法？

> ID：11896796
> 
> 赞同：0
> 
> 时间：2012-08-10T06:52:22.137
> 
> 标签：hibernate

我可以知道检索实体属性名称的推荐方法是什么

例如检索一个对象..

```
 Product product =  criteria.add(Restrictions.eq("productID",productId))
.uniqueResult();

List cats = sess.createCriteria(Cat.class)
    .add( Restrictions.like("name", "Fritz%") )
    .add( Restrictions.between("weight", minWeight, maxWeight) )
    .list(); 
```

...

但我不想硬编码“productID”或“name”或“weight”，推荐的问题解决方案是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T07:24:31.660

第一个解决方案：使用常量将它们硬编码在一个地方。但是这个解决方案很糟糕，因为您的代码将变得不那么可读，并且您仍然有在常量中包含不正确列名的风险。

第二种解决方案：保持原样，对您的查询进行单元测试。代码将保持可读性，并且您的单元测试将确保您没有错误的名称。

第三种解决方案：使用 JPA API，并使用 JPA2 标准 API，以及[自动生成的 metamodel](http://docs.jboss.org/hibernate/jpamodelgen/1.0/reference/en-US/html_single/)。查询将如下所示：

```
CriteriaBuilder cb = entityManager.getCriteriaBuilder();
CriteriaQuery<Order> cq = cb.createQuery(Order.class);
SetJoin<Order, Item> itemNode = cq.from(Order.class).join(Order_.items);
cq.where( cb.equal(itemNode.get(Item_.id), 5 ) ).distinct(true); 
```

其中`Order_`和`Item_`是自动生成的元模型类，分别保存每列的属性以及`Order`和`Item`实体的关联。请注意，恕我直言，JPA2 标准 API 是一种不直观、难以使用的 API，它不会使代码非常易读。

无论如何，每次可以使用 HQL/JPQL 代替标准查询：恕我直言，它们更具可读性。当必须根据各种可选条件动态生成查询时，或者当您有大量复杂、相似的查询并且可以重用公共部分时，条件查询很有用。但对于大多数情况，HQL 更具可读性。无论如何，您都需要对查询进行单元测试。所以这些测试将检查属性名称是否正确。

# java - 将xml字符串转换为Java对象

> ID：11896801
> 
> 赞同：7
> 
> 时间：2012-08-10T06:52:47.937
> 
> 标签：java, xml, string, jaxb

我有以下 xml 字符串。我想将其转换为 java 对象，以将每个标签与该对象的字段映射。与标签名称相比，如果我可以引入不同的字段名称，那就更好了。我怎么能这样做？我正在查看 JAXB，但我仍然对“ns4:response”之类的部分和标签中的标签感到困惑。先感谢您...

```
<ns4:response>
    <count>1</count>
    <limit>1</limit>
    <offset>1</offset>
    <ns3:payload xsi:type="productsPayload">
        <products>
            <product>
                <avgRating xsi:nil="true"/>
                <brand>Candie's</brand>
                <description>
                    <longDescription>
                    long descriptions
                    </longDescription>
                    <shortDescription>
                    short description
                    </shortDescription>
                </description>
                <images>
                    <image>
                        <altText>alternate text</altText>
                        <height>180.0</height>
                        <url>
                        url
                        </url>
                        <width>180.0</width>
                    </image>
                </images>
                <price>
                    <clearancePrice xsi:nil="true"/>
                    <regularPrice xsi:nil="true"/>
                    <salePrice>28.0</salePrice>
                </price>
            </product>
        </products>
    </ns3:payload>
</ns4:response> 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-08-10T11:20:57.367

JAXB 是用于将对象与 XML 相互转换的 Java 标准 ( [JSR-222 )。](http://jcp.org/en/jsr/detail?id=222)以下内容应该有所帮助：

**从字符串中解组**

在您的 JAXB impl 可以解组它之前，您需要将其包装`String`在一个实例中。`StringReader`

```
StringReader sr = new StringReader(xmlString);
JAXBContext jaxbContext = JAXBContext.newInstance(Response.class);
Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();
Response response = (Response) unmarshaller.unmarshal(sr); 
```

**不同的字段和 XML 名称**

您可以使用`@XmlElement`注释来指定您想要的元素名称。默认情况下，JAXB 查看属性。如果您希望将映射基于字段，则需要设置`@XmlAccessorType(XmlAccessType.FIELD)`.

```
@XmlElement(name="count")
private int size; 
```

**命名空间**

和注释`@XmlRootElement`还`@XmlElement`允许您在需要时指定命名空间限定。

```
@XmlRootElement(namespace="http://www.example.com")
public class Response {
} 
```

**了解更多信息**

*   [http://blog.bdoughan.com/2010/08/jaxb-namespaces.html](http://blog.bdoughan.com/2010/08/jaxb-namespaces.html)
*   [http://blog.bdoughan.com/2012/07/jaxb-and-root-elements.html](http://blog.bdoughan.com/2012/07/jaxb-and-root-elements.html)
*   [http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html](http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T08:06:08.907

JAXB 是一个不错的选择。如果您有此文档的 XSD 文件，这将非常容易。JAXB 可以为特定模式生成 Java 代码。如果您没有 XSD 文件，则需要自己准备 Java 类。查找 JAXB 教程并查看文档[http://jaxb.java.net/tutorial/](http://jaxb.java.net/tutorial/)。标签中的标签只是 JAXB 的嵌套对象。`ns4`是一个命名空间。JAXB 支持名称空间 - 只需在文档中查找即可。您可以使用注释来引入与 XML 中的标签不同的字段名称。遵循文档。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T07:58:31.363

如果您有上面显示的 XML 的 XSD。
我建议您使用 Jaxb。
JAXB 从 XML 文件创建 java 对象。您需要首先使用 jaxb 的代码生成器生成 Java 类，该代码生成器将 XSD 作为输入，然后适当地序列化/反序列化这些 xml 文件。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-12-09T16:34:38.420

如果你已经有了 xml，并且有多个属性，你可以按如下方式处理它：

```
 String output = "<ciudads><ciudad><idCiudad>1</idCiudad>
    <nomCiudad>BOGOTA</nomCiudad></ciudad><ciudad><idCiudad>6</idCiudad>
    <nomCiudad>Pereira</nomCiudad></ciudads>";
    DocumentBuilder db = DocumentBuilderFactory.newInstance()
        .newDocumentBuilder();
    InputSource is = new InputSource();
    is.setCharacterStream(new StringReader(output));

    Document doc = db.parse(is);
    NodeList nodes = ((org.w3c.dom.Document) doc)
        .getElementsByTagName("ciudad");

    for (int i = 0; i < nodes.getLength(); i++) {           
        Ciudad ciudad = new Ciudad();
        Element element = (Element) nodes.item(i);

        NodeList name = element.getElementsByTagName("idCiudad");
        Element element2 = (Element) name.item(0);
        ciudad.setIdCiudad(Integer
            .valueOf(getCharacterDataFromElement(element2)));

        NodeList title = element.getElementsByTagName("nomCiudad");
        element2 = (Element) title.item(0);
        ciudad.setNombre(getCharacterDataFromElement(element2));

        ciudades.getPartnerAccount().add(ciudad);
    }
    }

    for (Ciudad ciudad1 : ciudades.getPartnerAccount()) {
    System.out.println(ciudad1.getIdCiudad());
    System.out.println(ciudad1.getNombre());
    } 
```

getCharacterDataFromElement 方法是

```
 public static String getCharacterDataFromElement(Element e) {
    Node child = e.getFirstChild();
    if (child instanceof CharacterData) {
    CharacterData cd = (CharacterData) child;

    return cd.getData();
    }
    return "";
    } 
```

# jquery - jquery中的闪光效果

> ID：11896804
> 
> 赞同：0
> 
> 时间：2012-08-10T06:53:16.703
> 
> 标签：jquery, flash, animation, effect

我想制作像这个闪光动画一样的闪光效果[http://www.fbcoviedo.org/](http://www.fbcoviedo.org/)

你有什么资源或建议我该怎么做？

谢谢萨米尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T07:54:36.093

在分析完幻灯片动画之后，我可以确切地告诉你怎么做，但首先你需要下定决心，如果你想用 Flash 或 Jquery 来做。让我知道，我会给你提供指导方针。

# android - INR 货币格式问题

> ID：11896808
> 
> 赞同：1
> 
> 时间：2012-08-10T06:53:41.157
> 
> 标签：android

您好朋友我正在使用以下代码以货币形式显示输入的金额。

```
public void onTextChanged(CharSequence s, int start, int before, int count) {
            if(!s.toString().matches("^\\$(\\d{1,3}(\\,\\d{3})*|(\\d+))(\\.\\d{2})?$"))
            {
                String userInput= ""+s.toString().replaceAll("[^\\d]", "");
                StringBuilder cashAmountBuilder = new StringBuilder(userInput);

                while (cashAmountBuilder.length() > 3 && cashAmountBuilder.charAt(0) == '0') {
                    cashAmountBuilder.deleteCharAt(0);
                }
                while (cashAmountBuilder.length() < 3) {
                    cashAmountBuilder.insert(0, '0');
                }
                cashAmountBuilder.insert(cashAmountBuilder.length()-2, '.');
                cashAmountBuilder.insert(0, '$');

                editAmount.setText(cashAmountBuilder.toString());
                editAmount.setTextKeepState(cashAmountBuilder.toString());
                Selection.setSelection(editAmount.getText(), cashAmountBuilder.toString().length());
            }
        } 
```

该符号以“$”为前缀的问题我希望将其替换为新的 INR 符号或空白。我尝试用`cashAmountBuilder.insert(0, '$');`空白替换代码补丁，它给了我编译器错误。请同样帮助我。谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-12T09:18:28.810

伙计们找到了解决方案。希望与大家分享相同的内容。

```
editAmount=(EditText)findViewById(R.id.editTextPaymentAmount);
        mlocListener = new MyLocationListener();
        mlocManager.requestLocationUpdates( LocationManager.NETWORK_PROVIDER, 0, 0, mlocListener);
        editAmount.setRawInputType(Configuration.KEYBOARD_12KEY);
        editAmount.addTextChangedListener(new TextWatcher(){
                public void afterTextChanged(Editable s) {

                }
                public void beforeTextChanged(CharSequence s, int start, int count, int after){}
                public void onTextChanged(CharSequence s, int start, int before, int count) {
                    if(!s.toString().equals(current)){
                        editAmount.removeTextChangedListener((TextWatcher) this);
                //   String replaceable = String.format("[%s,.]", NumberFormat.getCurrencyInstance().getCurrency().getSymbol()); 
                 //      String cleanString = s.toString().replaceAll(replaceable, "");
                   String cleanString = s.toString().replaceAll("[$,.]", "");
                 //  String cleanString = s.toString().  replaceAll("[^\\d]", "");
                       BigDecimal parsed = new BigDecimal(cleanString).setScale(2,BigDecimal.ROUND_FLOOR).divide(new BigDecimal(100),BigDecimal.ROUND_FLOOR);                
                       String formato = NumberFormat.getCurrencyInstance().format(parsed);
    System.out.println(formato);
                       current = formato;
                       String newSt=formato.substring(1);

                       editAmount.setText(newSt);
                       editAmount.setSelection(newSt.length());

                       editAmount.addTextChangedListener((TextWatcher) this);
                    }
                }
            }); 
    }

public void priceClick(View view) {
        editAmount.addTextChangedListener(new TextWatcher(){
            DecimalFormat dec = new DecimalFormat("0.00");
            private String current = "";
            public void afterTextChanged(Editable arg0) {
            }

            public void beforeTextChanged(CharSequence s, int start,
                    int count, int after) {
            }

            public void onTextChanged(CharSequence s, int start, int before, int count) {
                if(!s.toString().equals(current)){
                    editAmount.removeTextChangedListener((TextWatcher) this);

                   String cleanString = s.toString().replaceAll("[$,.]", "");

                   BigDecimal parsed = new BigDecimal(cleanString).setScale(2,BigDecimal.ROUND_FLOOR).divide(new BigDecimal(100),BigDecimal.ROUND_FLOOR);                
                   String formato = NumberFormat.getCurrencyInstance().format(parsed);

                   current = formato;
                   editAmount.setText(formato);
                   editAmount.setSelection(formato.length());

                   editAmount.addTextChangedListener((TextWatcher) this);
                }
            }
        });
    } 
```

# javascript - Javascript 回调

> ID：11896809
> 
> 赞同：0
> 
> 时间：2012-08-10T06:53:43.713
> 
> 标签：javascript, function, google-maps, callback

我使用 ajax 获取位置列表，然后根据从 ajax 结果创建的数组标记谷歌地图。如何使回调函数具有ajax调用，构造数组，标记谷歌地图全部同步。（不调用updateMapMarkers（））这是我的代码。谢谢

```
// main function to do work  
// need timer calling getLocations()      
function loadMapList() {  
    // initial google map here  
    var count = 40;  
    $("#countdown").html(count + " seconds remaining!"); 
    getLocations();   
    count--;  
    timeout = setInterval(function(){   
      $("#countdown").html(count + " seconds remaining!");   
      if (count == 0) {  
        count =40;  
        getLocations();  
      }  
    count--;  
    }, 1000);  
}  
// using ajax to get location info  
function getLocations(){  
    var url = "getLocations";  
    $.ajax({  
    type: 'GET',   
    url: url,  
    dataType: 'json',  
    async: false,   
    success: function(data){  
    if (data.locationList == null || data == 'undefined') {  
      return;    
    }   
    allLocArray.length = 0;   
    for (i in data.locationList) {    
      allLocArray[i] = new Array(3);    
      allLocArray[i][0] = data.locationList[i].LOCATE_NAME;  
      allLocArray[i][1] = data.locationList[i].LATITUDE;    
    allLocArray[i][2] = data.locationList[i].LONGITUDE; 
    }
    },   
    error: function(xhr, textStatus, error){
    alert(xhr.statusText);
    alert(textStatus);
    alert(error);
    }
    });
    }  
// mark google map using global var array
function updateMapMarkers() {  
    var myOptions = {  
    zoom: zoomLevel,  
    center: new google.maps.LatLng(centerLat, centerLong),  
    mapTypeId: google.maps.MapTypeId.ROADMAP  
    }  
    var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);    
    for (var i=0; i<allLocArray.length; i++) {  
      var myLatLng = new google.maps.LatLng(allLocArray[i][1], allLocArray[i][2]);  
      var marker = new google.maps.Marker({  
        position: myLatLng,  
        map: map,  
        title:allLocArray[i][0]  
      });  
    }   
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T07:02:57.130

您可以简单地将回调函数作为参数传递：

```
function getLocation(callback){
  ...
  callback();
  ...
}

function updateInfo(){
  ...
}      

getLocation(updateInfo); 
```

**编辑：**您可以将函数链接在一起以实现“串行”执行的感觉：

**1.使用数组**

```
function foo(callbacks){
    ...
    for(c in callbacks)
        c();
}

function bar(){
    ...
}
function baz(){
    ...
}

foo([bar, baz]); 
```

**2.使用回调链**

```
function foo(callback){
    ...
    callback()
}

function bar(callback){
    ...
    callback()
}
function baz(callback){
    ...
    callback()
}

foo(function(){
    bar(function(){
        baz(function(){
            alert('done');
        });
    });
}); 
```

**3.使用类**

```
class MyClass
{
    function foo(){
        ...
        return this;
    }

    function bar(callback){
        ...
        return this;
    }
    function baz(callback){
        ...
        return this;
    }
}

var obj = MyClass();
obj.foo().bar().baz() 
```

# python - Django Admin：自动生成多个具有相同模型的内联

> ID：11896813
> 
> 赞同：6
> 
> 时间：2012-08-10T06:54:09.930
> 
> 标签：python, django, admin

我正在编写我的第一个 Django 应用程序。我有以下数据库模型：

```
class Person(models.Model):
    first_name          = models.CharField(max_length = 100)
    last_name           = models.CharField(max_length = 100)

class InformationType(models.Model):
    name = models.CharField(max_length = 100)

class Information(models.Model):

    person       = models.ForeignKey(Person)
    info_type    = models.ForeignKey(InformationType)
    info         = models.CharField(max_length = 200) 
```

我想通过按类型拆分信息模型并动态地在 Django Admin（类 PersonAdmin（ModelAdmin））中创建多个内联。另外我想从用户界面隐藏（排除）字段“info_type”并自动用相应的值填充它。

我可以使用由“info_type”过滤的“信息”数据动态创建内联，但在 UI 中隐藏此字段会使其在保存时为空。

我该怎么做？是否可以制作隐藏字段？或者我应该在哪里存储'info_type'值？

我用谷歌搜索了一下，一无所获=）

附：好的。我修改了“信息”类：

```
class Information(models.Model):

    def save(self, *args, **kwargs):
        self.info_type = self.fixed_info_type
        super(Information, self).save(*args, **kwargs) 
```

...并做了一些代理：

```
class InformationManager(models.Manager):

    def __init__(self, info_type, *args, **kwargs):
        self.__info_type = info_type
        super(InformationManager, self).__init__(*args, **kwargs)

    def get_query_set(self, *args, **kwargs):
        return super(self.__class__, self).get_query_set(*args, **kwargs).filter(info_type=self.__info_type)

class PhoneInformation(Information):

    fixed_info_type = 'PHONE'
    objects = InformationManager(fixed_info_type)
    class Meta:
        proxy = True

class EmailInformation(Information):

    fixed_info_type = 'EMAIL'
    objects = InformationManager(fixed_info_type)
    class Meta:
        proxy = True 
```

在 admin.py 中：

```
from contacts.models import Person, PhoneInformation, EmailInformation 
class PersonAdmin(admin.ModelAdmin):
    __inlines = []

    class classproperty(property):
        def __get__(self, instance, owner):
            return super(self.__class__, self).fget.__get__(None, owner)()

    @classproperty    
    @classmethod
    def inlines(cls):

        def get_inline(InformationModel):
            class Inline(admin.TabularInline):
                model = InformationModel
                exclude= ['info_type']

            return Inline

        if not cls.__inlines:
            for InformationModel in [PhoneInformation, EmailInformation]:
                cls.__inlines.append(get_inline(InformationModel))
        return cls.__inlines 
```

所以它看起来很丑，不符合 DRY 原则。我不能像 InlineAdmin 那样创建代理。它每次都返回相同的对象。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-14T13:29:23.377

我找到了解决方案。现在我可以动态创建动态代理模型。模型.py：

```
class Person(models.Model):
    first_name          = models.CharField(max_length = 100)
    last_name           = models.CharField(max_length = 100)

class InformationType(models.Model):
    class Meta:
        ordering = ['order']

    name    = models.CharField(max_length = 200)
    order   = models.IntegerField()

class Information(models.Model):

    person       = models.ForeignKey(Person)
    info_type    = models.ForeignKey(InformationType)
    value        = models.CharField(max_length = 200)

    @classmethod    
    def getProxy(cls, info_type):
        class InformationManager(models.Manager):
            def get_query_set(self, *args, **kwargs):
                return super(self.__class__, self).get_query_set(*args, **kwargs).filter(info_type = info_type)

        def save(self, *args, **kwargs):
            self.info_type = info_type
            super(Information, self).save(*args, **kwargs)

        class Meta:
            proxy = True

        return type(
                    'Information'+str(info_type.pk), 
                    (Information,),
                    {
                        'Meta': Meta,
                        'save': save,
                        '__module__': 'contacts.models',
                        'objects': InformationManager(),

                     }
                    ) 
```

在 admin.py 中：

```
class PersonAdmin(admin.ModelAdmin):

    __inlines = []

    class classproperty(property):
        def __get__(self, instance, owner):
            return super(self.__class__, self).fget.__get__(None, owner)()

    @classproperty    
    @classmethod
    def inlines(cls):
        def get_inline(info_model):
            class Inline(admin.TabularInline):
                model = info_model
                exclude= ['info_type']
            return Inline

        if not cls.__inlines:
            for info_model in [Information.getProxy(info_type) for info_type in InformationType.objects.all()]:
                cls.__inlines.append(get_inline(info_model))
        return cls.__inlines 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T13:38:27.033

我过去做过的事情是：

创建各种内联表单，覆盖每个查询集以仅允许按类型划分的特定信息子集

（看看这个以获得灵感：[限制为 django admin Inline 显示的条目的查询集](https://stackoverflow.com/questions/6703652/limit-the-queryset-of-entries-displayed-for-a-django-admin-inline)）

# android - 在android中以编程方式创建布局 - 问题

> ID：11896817
> 
> 赞同：12
> 
> 时间：2012-08-10T06:54:24.087
> 
> 标签：android, android-layout, android-framelayout

我正在使用以下代码动态创建 FrameLayout

mylayout.java

```
FrameLayout layout = new FrameLayout(this);
FrameLayout.LayoutParams layoutparams=new FrameLayout.LayoutParams(ViewGroup.LayoutParams.FILL_PARENT,ViewGroup.LayoutParams.FILL_PARENT,Gravity.CENTER_HORIZONTAL|Gravity.CENTER_VERTICAL);            
layout.setLayoutParams(layoutparams);

webview=new WebView(this);
webview.setLayoutParams(new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.MATCH_PARENT));

splashview=new ImageView(this);
splashview.setLayoutParams(new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.MATCH_PARENT));
splashview.setScaleType(ScaleType.FIT_XY);
splashview.setImageResource(R.drawable.splash);
splashview.setVisibility(View.INVISIBLE);

progressbar=new ProgressBar(this);
FrameLayout.LayoutParams params=new FrameLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT,ViewGroup.LayoutParams.MATCH_PARENT,Gravity.CENTER_HORIZONTAL|Gravity.CENTER_VERTICAL);
progressbar.setLayoutParams(params);
progressbar.setVisibility(View.INVISIBLE);          

layout.addView(webview);
layout.addView(progressbar);
layout.addView(splashview);

setContentView(layout); 
```

**我的布局.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_gravity="center_vertical|center_horizontal"
    android:gravity="center_vertical|center_horizontal" >

    <WebView
        android:id="@+id/webview"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent" >
    </WebView>

<ProgressBar
    android:id="@+id/progressBar"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_gravity="center_vertical|center_horizontal"
    android:visibility="invisible" />

    <ImageView
        android:id="@+id/splashscreen"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:contentDescription="@string/myimg"
        android:scaleType="fitXY"
        android:src="@drawable/splash"
        android:visibility="invisible" />

</FrameLayout> 
```

我需要`equalent code for the above xml file in java`. 我犯了什么错误？

注意：使用上面的java代码，每一个都是重叠的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T07:02:58.940

[Android 开发人员 - 框架布局文档](http://developer.android.com/reference/android/widget/FrameLayout.html)内容如下：

*通常，应该使用 FrameLayout 来保存单个子视图，因为很难以一种可缩放到不同屏幕尺寸的方式来组织子视图，而不会使子视图相互重叠。但是，您可以将多个子项添加到 FrameLayout 并通过使用`android:layout_gravity`属性为每个子项分配重力来控制它们在 FrameLayout 中的位置。*

在你的情况下，你可以使用`layout.setForegroundGravity(int)`相同的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T06:57:29.523

添加

```
layout.setGravity(Gravity.CENTER_HORIZONTAL|Gravity.CENTER_VERTICAL); 
```

或者

```
layout.setGravity(Gravity.CENTER); 
```

您忘记设置布局的重力。

# c# - MySQL 数据库中的数据未显示在 C# 项目的 ReportViewer 中

> ID：11896819
> 
> 赞同：1
> 
> 时间：2012-08-10T06:54:26.007
> 
> 标签：c#, mysql

我有一个 ac# 项目，我在其中使用 reportviewer 控件来显示来自 MySQL 数据库的数据。我创建了一个数据集并向其中添加了列。问题是当我加载表单时，会显示列标题，但没有显示数据。

这是一些代码：

```
 DataTable dt=new DataTable();
          dt.TableName="DataTable1";
        _connection.Open();
        sql="select id,name from beneficiaries";
        datadp=new OdbcDataAdapter(sql,_connection);
        datadp.Fill(dt);
        ReportDataSource source=new ReportDataSource("DataTable1",dt);
        reportviewer1.LocalReport.DataSources.Add(source);
        this.reportviewer1.RefreshReport(); 
```

没有显示任何内容，只有列标题...我尝试使用以下方式绑定数据：

```
 reportviewer1.DataBind(); 
```

但该选项在 VS2010 中不可用。那我该怎么办？..谢谢。

# java - 无法按 JPQL 中的列排序

> ID：11896821
> 
> 赞同：0
> 
> 时间：2012-08-10T06:55:10.483
> 
> 标签：java, jpa, jpql

我正在尝试按 JPQL 查询声明中的字段进行排序，看起来它应该非常简单，但我不断收到编译器错误。

我正在尝试按 UserClockDate 列排序，该列是 UserTime 行的一部分。但是每次我尝试编译时都会出现错误：

> 严重：命名查询中的错误：fetchIfUserIsClockedInWithUser org.hibernate.QueryException：无法解析属性：UserClockDate of：models.UserTime [SELECT ut FROM models.UserTime ut WHERE USER_ID = :user ORDER BY ut.UserClockDate DESC]

如果我只是取出 ORDER BY 它编译得很好。

这是类本身的相关部分：

```
@NamedQueries({
        @NamedQuery(name = "fetchAllUserTimes", query = "SELECT ut FROM UserTime ut"),
        @NamedQuery(name = "fetchIfUserIsClockedInWithUser", query = "SELECT ut FROM UserTime ut WHERE USER_ID = :user ORDER BY ut.UserClockDate DESC") 
    })
@Entity
@Table(name = "userTime")
@Component
public class UserTime implements Serializable {
    private static final long serialVersionUID = 1L;

    @Id
    @GeneratedValue
    @Column(name = "UserTimeId")
    private int userTimeId;

    @ManyToOne
    @JoinColumn(name = "USER_ID")
    private User user;

    @Column(name = "UserClockIn")
    @Type(type="org.joda.time.contrib.hibernate.PersistentDateTime")
    private DateTime userClockIn;

    @Column(name = "UserClockOut")
    @Type(type="org.joda.time.contrib.hibernate.PersistentDateTime")
    public DateTime userClockOut;

    @Column(name = "UserClockDate")
    @Type(type="org.joda.time.contrib.hibernate.PersistentDateTime")
    public DateTime userClockDate; 
```

您能给我的任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T06:57:34.787

您的意思是您尝试按不存在的字段排序？*UserClockDate*应该是*userClockDate*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-10T07:02:45.460

JPQL 适用于实体、它们的映射列和关联。它不适用于表和列。

实体中没有`USER_ID`字段。实体中`UserTime`没有。`UserClockDate``UserTime`

查询应该是

```
select ut from models.UserTime ut where ut.user = :user order by ut.userClockDate desc 
```

旁注：用户时间的所有字段都是用户时间的一部分。无需`user`到处重复前缀。为什么不命名字段`clockIn`, `clockOut`,`clockDate`呢？

# c# - 如何显示与文件类型关联的所有程序的列表？

> ID：11896823
> 
> 赞同：2
> 
> 时间：2012-08-10T06:55:14.723
> 
> 标签：c#, wpf, registry

我正在寻找一个打开列表，就像在 Windows 上下文菜单中一样，用于图像文件。那么我怎样才能获得与文件类型关联的所有程序的列表？

![在此处输入图像描述](../Images/876f688563a9fb27debc2b374f56de24.png)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-10T06:57:51.520

**第一个来源**

如果您在注册表中查看`HKEY_CLASSES_ROOT\.bmp`.

该`(Default)`值将向您显示默认的关联程序。就我而言，这显示 `Paint.Picture`，它将您链接到`HKEY_CLASSES_ROOT\Paint.Picture`。

在`HKEY_CLASSES_ROOT\.bmp`您还可以找到`OpenWithList`包含“打开方式”应用程序的子项的子项。

**第二来源**

在`HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\FileExts`下面，您还会找到文件扩展名列表。寻找，那里也存在`.bmp`一个子键。`OpenWithList`我认为这个来源是你需要的。

# c# - 从多列listview c#打印数据

> ID：11896827
> 
> 赞同：0
> 
> 时间：2012-08-10T06:55:32.883
> 
> 标签：c#, listview, printing

我在多列列表框中查看所有接收到的数据。当我单击打印按钮时，它将打印出列表框中的所有数据审查。

这是我的代码：

**1.**首先，用户会根据ID搜索关键词。然后它将出现在多列列表视图中。此数据在 xml 文件中搜索。

```
XmlDocument xml = new XmlDocument();
xml.Load("C:\\Users\\HDAdmin\\Documents\\Fatty\\SliceEngine\\SliceEngine\\bin\\Debug\\patient.xml");
XmlNodeList xnList = xml.SelectNodes("/main/patient");
foreach (XmlNode xn in xnList)
{
    string date = xn.OfType<XmlNode>().FirstOrDefault(n => n.Name == "Date").FirstChild.Value;
    string id = xn.OfType<XmlNode>().FirstOrDefault(n => n.Name == "ID").FirstChild.Value;
    if (date == cari)
    {
       listviewitem = new ListViewItem(date);
       listviewitem.SubItems.Add("Smith");
       this.listView1.Items.Add(listviewitem);
    }
       if (id == cari)
       {                    
           listviewitem = new ListViewItem(date);

           id = xn.OfType<XmlNode>().FirstOrDefault(n => n.Name == "ID").FirstChild.Value;
           listviewitem.SubItems.Add(id);

           string level = xn.OfType<XmlNode>().FirstOrDefault(n => n.Name == "Level").FirstChild.Value;
           listviewitem.SubItems.Add(level);

           string name = xn.OfType<XmlNode>().FirstOrDefault(n => n.Name == "Name").FirstChild.Value;                    
           listviewitem.SubItems.Add(name); 
```

**2.**用同样的方法，我添加了打印事件按钮

```
 this.components = new System.ComponentModel.Container();
    this.printBut = new System.Windows.Forms.Button();
    this.ClientSize = new System.Drawing.Size(504, 381);
    this.Text = "Print Example";

    printBut.ImageAlign = System.Drawing.ContentAlignment.MiddleLeft;               
    printBut.Location = new System.Drawing.Point(32, 110);
    printBut.FlatStyle = System.Windows.Forms.FlatStyle.Flat;
    printBut.TabIndex = 0;
    printBut.Text = "Print the file.";
    printBut.Size = new System.Drawing.Size(136, 40);
    printBut.Click += new System.EventHandler(printBut_Click);

    this.Controls.Add(printBut);
    //-------------print----------------- 
```

**3.**这是 printBut_click。

```
private void printBut_Click(object sender, EventArgs e)
    {
        try
        {
            StreamReader streamToPrint = new StreamReader("C:\\Users\\HDAdmin\\Documents\\Fatty\\SliceEngine\\SliceEngine\\bin\\Debug\\aboutREPCS.txt");

            try
            {
                printFont = new Font("Arial", 10);
                pd = new PrintDocument();
                pd.PrintPage += new PrintPageEventHandler(this.pd_PrintPage);                       
                pd.Print();
            }
            finally
            {
                streamToPrint.Close();
            }
        }
        catch (Exception ex)
        {
            MessageBox.Show(ex.Message);
        }
    } 
```

**4.**这是 printPage 事件

```
// The PrintPage event is raised for each page to be printed.
private void pd_PrintPage(object sender, PrintPageEventArgs ev)
    {
        float linesPerPage = 0;
        float yPos = 0;
        int count = 0;
        float leftMargin = ev.MarginBounds.Left;
        float topMargin = ev.MarginBounds.Top;
        string line = null;

        // Calculate the number of lines per page.
        linesPerPage = ev.MarginBounds.Height /
           printFont.GetHeight(ev.Graphics);

        // Print each line of the file.
        while (count < linesPerPage &&
           ((line = streamToPrint.ReadLine()) != null))
        {
            yPos = topMargin + (count *
               printFont.GetHeight(ev.Graphics));
            ev.Graphics.DrawString(line, printFont, Brushes.Black,
               leftMargin, yPos, new StringFormat());
            count++;
        }

        // If more lines exist, print another page.
        if (line != null)
            ev.HasMorePages = true;
        else
            ev.HasMorePages = false;
    } 
```

当我运行此代码时，它会出现`object reference not set to an instance of an object`。 ![在此处输入图像描述](../Images/3484b218414c62d9f93faa8aa863e92c.png)

所以，让我重复一下这个应用程序的流程。

```
User insert keyword.
If keyword match, view data from xml file into multicolumn listview.
printBut will print all the data view in listview. 
```

# c - 传递给 execvp(2) 的 c 字符串操作

> ID：11896830
> 
> 赞同：0
> 
> 时间：2012-08-10T06:55:41.497
> 
> 标签：c, arrays, string

这可能是因为我是 C 编程新手，但如果我正确地记得我的讲师

第 1 部分） `execvp(2)`接受 2 个参数（obv），第一个是命令，第二个是字符串数组，例如

```
char *args[] = {"ls", "-l", "-a", NULL}; 
```

我能否解释一下如何`char *args[]`使它成为一个字符串数组而不是一个包含字符的数组（一个 C 空终止字符串）？

第2部分）

我怎样才能做到这一点，以便我可以逐个字符串添加到这个数组中？我能做到吗

```
int i;
char *args[255];

for(i = 0; i < strlen(lol); i++)
{
    args[i] = //new string being passed in at runtime
} 
```

它会那样工作吗？假设我正在分解来自 stdin 的输入，并且我想将参数放入`args[i]`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T07:29:00.033

第1部分）

`char *args[] = {"ls", "-l", "-a", NULL};`

上面的代码意味着，您正在创建一个 char 指针数组。

每个 char 指针都分配了固定大小的内存，基于 (双引号)"" 内的字符串的定义，这些字符串在编译时本身位于 (大括号){} 内。在这种情况下，您*无法*修改 char 指针指向的字符串的大小。您仍然可以修改指向的字符串的内容。

它类似于 `char [][4]={"ls", "-l", "-a", NULL};`

第 2 部分）如果不使用 malloc 或 calloc 显式分配内存给 char 指针，您将无法做到这一点。然后使用 strncpy 将字符串复制到数组中的该 char 指针。

*在第 1 部分中，固定大小的内存是在编译时分配的。在第 2 部分中，由于根本没有分配内存，因此不能这样做。*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T07:29:31.047

这个声明`char *args[]`可以被解读为“args 是一个指向 char 的指针数组”。这意味着数组的每个条目都指向一个或多个`char`s 所在的某个位置。

当您进行静态初始化声明`args`时，编译器会为您拥有的初始化程序的数量保留空间，每个初始化程序都有指向 char 类型的指针（在您的情况下，数组中有 4 个指针）。

对于每个初始化字符串，编译器都会保留空间（通常在只读数据段中）并将单个字符放在那里，而 null 是最后一个字符。该数组`args`包含指向此位置的指针。因此，您在那里有一定程度的间接性。

```
args[0] ---- points at memory location where 3 chars are -----> 'l', 's', '\0' 
```

关于 2)，您可以这样做，因为`args`它是指针数组（而不是二维数组）。但是，您应该分配以空字符结尾的字符序列所在的正确内存位置。但是你必须确保你`args`的数组大小合适。如果在数组声明期间没有给出大小，编译器只会为提供的初始化程序分配足够的空间，以后就无法更改大小。

# mysql - 拒绝访问 someuser@localhost（使用密码：是）

> ID：11896831
> 
> 赞同：0
> 
> 时间：2012-08-10T06:55:47.690
> 
> 标签：mysql, xampp

我正在学习 PHP 和 MYSQL。我创建了一个具有选择、插入、更新、删除、创建、更改、索引和删除权限的新用户，它们是特定于数据库的。当我尝试让该用户登录时，我不断收到

错误 1045 (28000)：用户 'bookorama'@'localhost' 的访问被拒绝（使用密码：是）。

我可以以 root 用户身份登录，但我不确定我需要做什么才能让该用户使用数据库。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T07:04:22.983

如果您已经正确执行了 GRANT 命令，请执行命令“FLUSH PRIVILEGES;” 然后再试一次。

如果再次失败，您将不得不检查您的 GRANT 命令：[http ://dev.mysql.com/doc/refman/5.1/en/grant.html](http://dev.mysql.com/doc/refman/5.1/en/grant.html)

一个例子：

```
GRANT ALL PRIVILEGES ON databasename.* TO 'bookorama'@'%' IDENTIFIED BY 'yourpassword';
FLUSH PRIVILEGES; 
```

# .net - 与 Powershell 控制台连接到嵌入在我的应用程序中的运行空间

> ID：11896837
> 
> 赞同：1
> 
> 时间：2012-08-10T06:56:24.553
> 
> 标签：.net, powershell, .net-4.0

我正在尝试将 PS 嵌入到我的 .NET 应用程序中，以使对象模型的一部分易于发现并能够导航它。创建运行空间很容易，提示用户输入一些纯字符串的脚本，在运行空间中运行脚本并向用户输出一些内容。但这样它就缺乏交互性——用户没有自动完成、智能感知、工具提示等，因此他需要`Get-Members`不断地发布才能知道他可以对给定的对象做什么。

据我了解，交互性是由`PSHost`事物提供的。是否可以不在应用程序中手动实现它，而是以某种方式公开嵌入式运行空间，以便我可以使用 PowerGUI 连接到它？`Enter-PSSession`或类似的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T11:28:49.097

我很确定您将必须实现自己的选项卡完成，因为这是由 PowerShell 主机完成的。

# c# - 动态添加的用户控件事件未触发

> ID：11896839
> 
> 赞同：0
> 
> 时间：2012-08-10T06:56:28.660
> 
> 标签：c#, asp.net

我看到有很多类似的问题被问到。但就我而言，我不想在 Page_Load 或 OnInit 上添加用户控件。当单击页面上的按钮时，我想将用户控件动态添加到 PlaceHolder。我能够加载控件并且它显示得很好。但是该用户控件中的按钮不起作用。事件处理程序不会触发。更糟糕的是，单击用户控件中的按钮后，整个用户控件会消失。

这是我的用户控件，它有一个“RefreshButton”，它的事件处理程序只是用 DateTime.Now 更新 MessageLabel。

-------------------- TestUC.ascx ---------------------------- --

```
<%@ Control Language="C#" AutoEventWireup="true" CodeBehind="TestUC.ascx.cs" Inherits="PASS.Web.UserControls.TestUC" %>
TestUC: 
<asp:Label ID="MessageLabel" runat="server"></asp:Label>
<asp:Button ID="RefreshButton" runat="server" Text="Refresh" onclick="RefreshButton_Click" /> 
```

---------------- TestUC.ascx.cs ----------------------------- -

```
protected void Page_Load(object sender, EventArgs e)
{ }

protected void RefreshButton_Click(object sender, EventArgs e)
{
    this.MessageLabel.Text = " Server Time: " + DateTime.Now.ToString();
} 
```

父页面有一个 AddButton 和一个占位符。每次单击 AddButton 时都会（假定）创建一个 TestUC.ascx 实例。

------------ Test.aspx ----------------

```
<asp:Panel ID="DynamicUserControlPanel" runat="server">
        <asp:Button ID="AddButton" runat="server"Text="Add New User Control Dynamically" onclick="AddButton_Click" />
        <asp:Panel ID="PlaceHolder" runat="server"></asp:Panel>
</asp:Panel> 
```

------------ Test.aspx.cs ----------------

```
protected void AddButton_Click(object sender, EventArgs e)
    {
        UserControls.TestUC uc = LoadControl("~/UserControls/TestUC.ascx") as UserControls.TestUC;
        uc.ID = RandomStringGenerator.Generate(10);
        this.PlaceHolder.Controls.Add(uc);
    } 
```

首先，当 AddButton 被点击（并一直被点击）时，只有一个 TestUC.ascx 实例被添加和显示。其次，用户控件中的 RefreshButton 不会触发。第三，单击 RefreshButton 时用户控件会消失。

在按钮单击上动态添加用户控件的想法是否可行？有人可以提供一个简单的例子来实现这一目标吗？

非常感谢您提前。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T07:08:20.770

> 我不想在 Page_Load 和 OnInit 上添加用户控件

那么您的代码将无法正常工作。

您需要在每个帖子上重新创建控件。我有演示代码来完成这个：

笔记。在此示例中，当用户按下按钮并且所有事件都起作用时，用户控件将按需动态添加到页面中。

### 输出

![在此处输入图像描述](../Images/b8c5bc73c4094ff6bff4c3e95b697f8a.png)

### 背后的代码

```
 protected void Page_Init(object sender, EventArgs e)
    {
        for (int i = 0; i < this.DynamicControlsCount; i++)
        {
            var c = this.LoadControl("~/AddressControl.ascx");

            this.addresses.Controls.Add(c);
        }
    }

    protected void addAddress_Click(object sender, EventArgs e)
    {
        this.DynamicControlsCount++;
        var c = this.LoadControl("~/AddressControl.ascx");

        this.addresses.Controls.Add(c);
    }

    protected int DynamicControlsCount
    {
        get
        {
            if (string.IsNullOrWhiteSpace(this.Request.Form["numberOfControls"]))
            {
                return 0;
            }
            return int.Parse(this.Request.Form["numberOfControls"]);
        }
        set
        {
            int temp = int.Parse(this.numberOfControls.Value);
            temp++;
            this.numberOfControls.Value = temp.ToString();
        }
    } 
```

### ASPX

```
 <asp:PlaceHolder runat="server" ID="addresses" /><br />
    <asp:HiddenField runat="server" ID="numberOfControls" Value="0" />
    <asp:Button Text="Add Address" runat="server" ID="addAddress" OnClick="addAddress_Click" /> 
```

# php - 来自mysql的倒 数计时器

> ID：11896843
> 
> 赞同：1
> 
> 时间：2012-08-10T06:56:46.713
> 
> 标签：php, javascript, mysql, html

我试图从数据库创建倒数计时器。我已将 deltaTimeServer 发送到 JS。输出是正确的，但它们冻结（不是倒计时，我必须按 F5）。对我有什么想法吗？

这是我的代码。

**JS**

```
<script type="text/javascript">
 function countDown(){  
     $(".show").each(function() {
          var elm = $(this);
          var difTime=this.timestamp;  
          var day=0,hours=0,minutes=0,seconds=0;  
          if(difTime>0){  
              day=Math.floor(difTime/84600);  
              hours=(Math.floor((difTime/3600))%24) + day*24 ;  
              minutes=Math.floor(difTime/60)%60;  
              seconds=Math.floor(difTime)%60;   
          }  
          else{  
              elm.removeClass("show"); //for remove class show
          }  
          elm.html(hours+' H '+minutes+' M '+seconds+' S ');  
      });
 }  
 function countDown_onLoad(){  
      $(".show").each(function() {
          this.timestamp = parseInt(this.firstChild.nodeValue,10);
      });
      setInterval(countDown,1000);
  }  
  $(document).ready(function() {  
      countDown_onLoad();  
  });  
</script> 
```

**PHP**

```
$show=mysql_query("SELECT * FROM `room_lists` WHERE `active` = 1");
while ($array = mysql_fetch_array($show))
{ 
   $timeStop = $array['timeStop'];
   $deltaTimeServer = strtotime($timeStop)-strtotime(date('Y-m-d H:i:s'));
   echo "<td align = 'center'><div class=\"show\">".$deltaTimeServer."</div></td>";
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T07:10:38.960

您应该在 setInterval 的函数中获得新的时间戳。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:21:38.960

你 JS 的问题是你的 difTime 总是一样的。您必须从原始时间戳中减去当前时间戳`this.timestamp`。

但是，由于您每秒钟都在倒计时，所以它更容易。您可以减少时间戳：

```
var difTime=this.timestamp--; 
```

那应该这样做。

此外，您可以更改此设置：

```
$deltaTimeServer = strtotime($timeStop)-strtotime(date('Y-m-d H:i:s')); 
```

对此：

```
$deltaTimeServer = strtotime($timeStop)-time(); 
```

最后，当你在 PHP 中输​​出它时，我会隐藏`td`它`style="display:none"`。一旦设置了时间戳，您就可以清除`td`并显示它 - 这样人们就不会看到变成计数器的时间戳。

# android - 如何在自动完成文本视图中选择多个联系人

> ID：11896844
> 
> 赞同：1
> 
> 时间：2012-08-10T06:56:59.467
> 
> 标签：android, autocompletetextview

嗨，我的应用程序中有一个 autocompletetextview。我正在获取存储在手机中的联系人。问题是我只能从 autocompletetextview 中选择一个联系人，但我想选择多个联系人，并且必须像消息传递一样在 autocompletetextview 中显示它android中的应用程序。如何做到这一点？

我正在使用以下代码：

```
@Override
    public void afterTextChanged(Editable arg0) {

    }

    @Override
    public void beforeTextChanged(CharSequence arg0, int arg1, int arg2,
            int arg3) {

    }

    @Override
    public void onTextChanged(CharSequence arg0, int arg1, int arg2, int arg3) {

        Cursor c = getContentResolver().query(Phone.CONTENT_URI,
                PHONE_PROJECTION, null, null, null);
        startManagingCursor(c);

        ContactListAdapter adapter = new ContactListAdapter(this, R.layout.row,
                c,
                new String[] { Phone.DISPLAY_NAME, Phone.TYPE, Phone.NUMBER },
                new int[] { R.id.textName, R.id.textType, R.id.textPhone });

        adapter.setViewBinder(new SimpleCursorAdapter.ViewBinder() {

            @Override
            public boolean setViewValue(View view, Cursor cursor,
                    int columnIndex) {
                if (columnIndex != 2) {
                    return false;
                }

                int type = cursor.getInt(2);

                if (type == Phone.TYPE_CUSTOM) {
                    cursor.getString(3);
                }

                String text = (String) Phone.getTypeLabel(getResources(), type,
                        null);

                ((TextView) view).setText(text);

                return true;
            }
        });
        autoTo.setAdapter(adapter);
    }

    private static class ContactListAdapter extends SimpleCursorAdapter  {

        public static ContentResolver mContent;

        public ContactListAdapter(Context context, int layout, Cursor c,
                String[] from, int[] to) {

            super(context, layout, c, from, to);
            mContent = context.getContentResolver();
        }

        @Override
        public CharSequence convertToString(Cursor cursor) {
            int namCol = cursor.getColumnIndexOrThrow(Phone.DISPLAY_NAME);
            int numCol = cursor.getColumnIndex(Phone.NUMBER);

            return cursor.getString(namCol) + " <" + cursor.getString(numCol)
                    + ">";
        }

        @Override
        public Cursor runQueryOnBackgroundThread(CharSequence constraint) {
            FilterQueryProvider filter = getFilterQueryProvider();

            if (filter != null) {
                return filter.runQuery(constraint);
            }

            Uri uri = Uri.withAppendedPath(Phone.CONTENT_FILTER_URI,
                    Uri.encode(constraint.toString()));
            return mContent.query(uri, PHONE_PROJECTION, null, null, null);
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T11:33:51.077

不用编写使用 选择多个联系人的逻辑`ListView`，我们可以简单地使用`MultiAutoCompleteTextView`。代码与 相同`AutoCompleteTextView`。通过这个我们可以选择多个联系人。

# iphone - 将 SUP 类对象写入文件

> ID：11896847
> 
> 赞同：0
> 
> 时间：2012-08-10T06:57:27.377
> 
> 标签：iphone, ios, ipad, file, sup

有什么方法可以将 SUP（Sybase Unwired Platform）类对象写入 iOS 中的文本文件，就像我们可以编写 NSString 或 NSNumber 对象一样。需要一些将 SUP 类对象写入文本文件的示例。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-16T09:32:40.030

在 SUP2.1.3 版本中，可以使用生成类的 tostring 方法来获取类属性的字符串表示。

# ruby-on-rails - 让一名工作人员在 Unicorn Nginx Rails 中持续运行

> ID：11896849
> 
> 赞同：3
> 
> 时间：2012-08-10T06:57:29.920
> 
> 标签：ruby-on-rails, nginx, unicorn

在使用 capistrano 部署后第一次加载我的网站时有很长的延迟。在那之后，新的请求真的很快。然后大约一个小时后，当我再次加载该站点时，第一个请求将永远存在。通常它甚至会返回 500 错误页面（我猜是因为超时）。然后当我点击刷新时，它会立即加载。

我猜测在服务器收到新请求一段时间后，它会重新加载整个 rails 环境。有什么办法可以让环境的一份副本不断运行？

这是我的独角兽配置：

```
root = "/home/user/apps/app_name/current"
working_directory root
pid "#{root}/tmp/pids/unicorn.pid"
stderr_path "#{root}/log/unicorn.log"
stdout_path "#{root}/log/unicorn.log"

listen "/tmp/unicorn.app_name.sock"
worker_processes 2
timeout 60 
```

生产日志

```
Started GET "/" for 1.2.3.4 at 2012-08-10 09:59:13 +0000
Connecting to database specified by database.yml

Started GET "/" for 1.2.3.4 at 2012-08-10 10:03:14 +0000
Connecting to database specified by database.yml

Started GET "/" for 1.2.3.4 at 2012-08-10 10:04:38 +0000
Processing by PagesController#home as HTML
  Rendered layouts/_top_bar_public.html.erb (1.1ms)
  Rendered shared/_flash.html.erb (0.3ms)
  Rendered pages/home.html.erb within layouts/application (8.4ms)
Completed 200 OK in 48ms (Views: 47.5ms | ActiveRecord: 0.0ms) 
```

独角兽.log

```
E, [2012-08-10T10:00:14.449348 #6005] ERROR -- : worker=1 PID:4951 timeout (61s > 60s), killing
E, [2012-08-10T10:00:14.458442 #6005] ERROR -- : reaped #<Process::Status: pid 4951 SIGKILL (signal 9)> worker=1
I, [2012-08-10T10:00:14.458796 #6005]  INFO -- : worker=1 spawning...
I, [2012-08-10T10:00:14.465259 #6458]  INFO -- : worker=1 spawned pid=6458
I, [2012-08-10T10:00:14.465639 #6458]  INFO -- : Refreshing Gem list
I, [2012-08-10T10:00:18.115613 #6458]  INFO -- : worker=1 ready
E, [2012-08-10T10:04:15.706315 #6005] ERROR -- : worker=0 PID:4929 timeout (61s > 60s), killing
E, [2012-08-10T10:04:15.716064 #6005] ERROR -- : reaped #<Process::Status: pid 4929 SIGKILL (signal 9)> worker=0
I, [2012-08-10T10:04:15.716566 #6005]  INFO -- : worker=0 spawning...
I, [2012-08-10T10:04:15.723733 #6461]  INFO -- : worker=0 spawned pid=6461
I, [2012-08-10T10:04:15.724111 #6461]  INFO -- : Refreshing Gem list
I, [2012-08-10T10:04:19.298475 #6461]  INFO -- : worker=0 ready 
```

ps 用户体验：

```
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
deployer  6005  0.0  3.3 149880 20292 ?        Sl   Aug01   0:15 unicorn master -D -c /home/deployer/apps/app_name
deployer  6458  0.2  9.6 234544 58036 ?        Sl   10:00   0:03 unicorn worker[1] -D -c /home/deployer/apps/app_name
deployer  6461  0.2  9.3 232924 56564 ?        Sl   10:04   0:03 unicorn worker[0] -D -c /home/deployer/apps/app_name
deployer  6563  0.0  0.2  73352  1804 ?        S    10:29   0:00 sshd: deployer@pts/0
deployer  6564 13.3  1.3  25744  8196 pts/0    Ss   10:29   0:00 -bash
deployer  6743  0.0  0.2  16872  1264 pts/0    R+   10:29   0:00 ps ux 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T07:25:57.273

这是一种奇怪的行为，因为在部署时它应该清理并触摸 tmp/restart 以重新启动服务器。

上面的配置表明有 2 个进程，它们是独角兽的工作进程和主进程，您可以通过`$:.ps ux`在命令行中插入来检查它们

为了更清楚地了解出了什么问题，您可以与您的网络服务器建立 ssh 连接，并使用`$tail -f log/file.extention`

# lua - 在 Corona SDK 中开发企业应用程序

> ID：11896851
> 
> 赞同：0
> 
> 时间：2012-08-10T06:57:45.167
> 
> 标签：lua, coronasdk, mobile-application

我们可以像在 appcelerator 中那样使用 corona SDK 开发企业应用程序吗？基本上我想为移动开发非游戏或基于网络的应用程序？是否可以创建一个或者我需要为此切换到 appcelertator？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T13:31:05.713

是的，当然可以。Corona 让您非常容易地做到这一点。查看此链接： http: [//www.coronalabs.com/i-want-to-build/business-apps/](http://www.coronalabs.com/i-want-to-build/business-apps/) Corona 在其常规 SDK 中提供了一些本机 Objective-C 和 Java 库，但您可以注册如果您需要所有库，请使用 Corona Enterprise。

# java - netty ChannelPipeline addLast

> ID：11896852
> 
> 赞同：2
> 
> 时间：2012-08-10T06:57:45.443
> 
> 标签：java, handler, netty, pipeline

我正在学习netty，示例中有以下代码

```
ChannelPipeline pipeline = pipeline();
// Enable stream compression (you can remove these two if unnecessary)
pipeline.addLast("deflater", new ZlibEncoder(ZlibWrapper.GZIP));
pipeline.addLast("inflater", new ZlibDecoder(ZlibWrapper.GZIP));

// Add the number codec first,
pipeline.addLast("decoder", new BigIntegerDecoder());
pipeline.addLast("encoder", new NumberEncoder());

// and then business logic.
// Please note we create a handler for every new channel
// because it has stateful properties.
pipeline.addLast("handler", new FactorialServerHandler()); 
```

我的问题是在哪里可以看到 addLast 方法的有效第一个参数列表，例如 deflater、inflater、解码器、编码器、处理程序等。

而且我在源代码中找不到实现映射的位置。这里我的意思是消息到达，ChannelPipeline 检查是否设置了放气器并调用 ZlibEncoder.GZIP 方法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2017-03-01T08:47:45.693

您添加的订单

```
ChannelPipeline p = pipeline();
p.addLast("1", new InboundHandlerA());
p.addLast("2", new InboundHandlerB());
p.addLast("3", new OutboundHandlerA());
p.addLast("4", new OutboundHandlerB());
p.addLast("5", new InboundOutboundHandlerX()); 
```

在给定的示例配置中，当事件入站时，处理程序评估顺序为 1、2、3、4、5。当事件出站时，顺序为 5、4、3、2、1。在此原则之上，ChannelPipeline 跳过了某些处理程序的评估，以缩短堆栈深度

您可以查看此网站以获取更多详细信息

[https://netty.io/4.0/api/io/netty/channel/ChannelPipeline.html](https://netty.io/4.0/api/io/netty/channel/ChannelPipeline.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-03-22T05:21:39.080

名称可以是任何东西，它们不是关键字，即称它为“encoder”与称它为“awesome_encoder”没有什么不同。

处理程序按照您调用 addLast 的顺序添加到链中。它们是否被添加到入站或出站链取决于它们是实现**ChannelInboundHandler**还是**ChannelOutboundHandler**。

这里有一些很好的信息： [https ://docs.jboss.org/netty/3.2/api/org/jboss/netty/channel/ChannelPipeline.html](https://docs.jboss.org/netty/3.2/api/org/jboss/netty/channel/ChannelPipeline.html)

# pdf - PDF 中的 %%EOF 是否必须出现在文件的最后 1024 个字节内？

> ID：11896858
> 
> 赞同：12
> 
> 时间：2012-08-10T06:58:14.273
> 
> 标签：pdf

根据我正在阅读的[QPDF](http://qpdf.sourceforge.net/)来源，它有关于 pdf 的引用：

```
// PDF spec says %%EOF must be found within the last 1024 bytes of
// the file.  We add an extra 30 characters to leave room for the
// startxref stuff. 
```

但是，我在 PDF 1.7 规范中找不到任何相关信息。我在互联网上找到了几个地方也提到了这一点。

我的问题是：**这是真的吗？如果是这样，`%%EOF`最后 1024 个字节的指定位置在哪里？**

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-08-10T07:06:28.950

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2015-04-07T10:55:28.330

您还应该了解 PDF 文档可以使用的（标准）功能：它称为*增量更新*。

如果文档已被增量更新，则可以通过保留原始数据（包括最后`%%EOF`一行）并在其后面附加任何更改或添加的对象来创建它的新修改版本，并在新文件末尾添加附加`xref`和`trailer`部分加上附加决赛`%%EOF`。

PDF 可能有多个增量更新。

这样，第一个`%%EOF`可以出现在“*文件的最后 1024 个字节*”之前。

这种“增量更新”功能的优势（或劣势——取决于您的具体观点）是：您可以通过简单地删除倒数第二行之后的所有行来恢复 PDF 文件的先前版本`%%EOF`（您可以继续该过程，直到您到达第一个文件版本）。

还有一个命令行工具叫做`pdfresurrect`

*   它可以报告已应用于 PDF 的增量更新的数量，
*   可以提取以前的版本，并且
*   它可以“展平”历史并创建一个仅包含最新版本的新 PDF。

## *这种“增量更新”功能是否在现实世界的 PDF 中被大量使用？*

**第一**：只要对 PDF 应用了数字/电子签名，就会使用它。

**第二**：这是 Adob​​e Acrobat 保存 PDF 文件的标准方式，只要您单击`Save`按钮即可。（如果您想避免增量更新文档，请改用！）当您删除完整页面后，简单的单击将不再增量更新文件并使用最新版本的 Acrobat 更新文件，但会生成全新 PDF`Save as...`的少数例外情况之一*（似乎太多的 Adob​​e 客户抱怨以前的版本，因为任何增量更新都会增加文件大小——太多人对删除页面给他们带来更大的 PDF 感到恼火，并且也没有真正删除这些页面）*。`Save`

 *因此，请注意不经意间和意外发生的信息泄露，因为您不了解上述第二点中概述的 Acrobat 行为。

* * *

## 更新

我最近为 TROOPERS15 会议上的 PDF 研讨会（视频）创建了一个手工编码的 PDF 文件，[可](https://www.troopers.de/)[用于](https://www.youtube.com/watch?v=k9g9jZdjRcE)研究此功能的详细信息：

*   **[114_incrementally-updated.pdf](https://github.com/angea/PDF101/blob/master/handcoded/114_incrementally-updated.pdf)**（8.3 kB on GitHub）
    *（我建议在下载文件后制作文件的备份副本。然后只需删除第一行之后的每一行`%%EOF`，保存文件并查看现在可见的内容...... )**

# .net - 使 ProductItem.Status 与 WebService APIv2 一起工作

> ID：11896860
> 
> 赞同：1
> 
> 时间：2012-08-10T06:58:43.317
> 
> 标签：.net, magento, soap

`Status`我正在构建一个与 magento 商务引擎集成的应用程序，并且我已经解决了 API 的大部分问题，但是当我添加新产品时，我一直试图让它工作

```
_mage.catalogProductCreateEntity si = new _mage.catalogProductCreateEntity(); 
```

//...许多其他属性设置正确

```
si.status = "Enabled";

productID = ms.catalogProductCreate(sessionID, "simple", mSettings.ProductAttributeSetID.ToString, posProductcode, si, "default"); 
```

该产品已在数据库中正确创建，但它既不是启用也不是禁用，需要手动编辑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-16T08:45:18.653

在努力寻找之后，这变得非常容易。

```
si.status="1"; 
```

那是“启用”和“0”表示禁用。

# html - 在调整大小和最大化时将照片调整为浏览器高度而不拉伸？

> ID：11896864
> 
> 赞同：0
> 
> 时间：2012-08-10T06:58:56.100
> 
> 标签：html, css, image, resize

查看我在这里谈论的页面：[http ://willy-ward.com/fashion](http://willy-ward.com/fashion)

基本上，当用户调整浏览器大小然后最大化时，我无法弄清楚如何让图片保持当前的纵横比。

我一直在玩 CSS 一点，但我似乎永远无法做到正确。我敢肯定，这很容易。只需查看该 URL 并查看调整大小的浏览器窗口对照片的影响。高度 100% 和宽度自动似乎无法正常工作？

另一个问题是此页面上图片下方的额外空白，尽管它们下方没有任何元素。我在那里有点困惑。

对不起，如果这个问题没有雄辩地提出，我的英语会随着我越来越累而下降。

谢谢你的帮助！

这是我目前拥有的代码：

```
 jQuery(document).ready(function() { 
            jQuery(".photoStrip").width(0);
            jQuery(".photoContainer img").load(function(){
                jQuery(this).css({'visibility':'hidden','display':'block'});
                var newWidth = jQuery(this).width();
                jQuery(this).css({'visibility':'visible','display':'none'});
                jQuery(".photoStrip").width(function(index, width){
                    return width + newWidth + 20;
                });
                jQuery(this).parent().css({
                    'width' : newWidth
                });             
                jQuery(this).fadeIn(800);
            }).each(function(){
                if(this.complete) jQuery(this).trigger("load");
            });

            jQuery(window).bind("resize", function(){
                jQuery(".photoStrip").width(0);
                jQuery(".photoContainer").each(function(){
                    var newWidth = jQuery("img", this).width();
                    jQuery(this).css({
                        'width' : newWidth
                    });
                    jQuery(".photoStrip").width(function(index, width){
                        return width + newWidth + 20;
                    });
                });              
             });
        }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T11:52:59.777

查看了示例 URI，我得到了这个：

HTML

```
<html>
<head>
<title>Image</title>

<body>
    <div class="wrapper">
        <img src="http://upload.wikimedia.org/wikipedia/en/2/2b/1_WTC_rendering.jpg">
    </div>
</body>

</head>
</html> 
```

CSS

```
html, body {
    height: 100%;
}
.wrapper {
    height: 100%;
    padding-right: 20px;
    display: inline;
    white-space: nowrap;    
}
img {
    max-width: 100%;
    width: auto;
    height: 100%;   
} 
```

做威利沃德网站所做的确切事情。.wrapper 高度取决于其父级。在这种情况下

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:11:03.713

我用我认为可以解决您的问题的方法做了一个快速的 jsfiddle。我希望它有所帮助。[http://jsfiddle.net/QfHF6/](http://jsfiddle.net/QfHF6/)

```
<html>
    <head>
    <title>Image</title>

    <script type="text/javascript">

    function resizeImage()
    {
        var window_height = document.body.clientHeight
        var window_width  = document.body.clientWidth
        var image_width   = document.images[0].width
        var image_height  = document.images[0].height
        var height_ratio  = image_height / window_height
        var width_ratio   = image_width / window_width
        if (height_ratio > width_ratio)
        {
            document.images[0].style.width  = "auto"
            document.images[0].style.height = "100%"
        }
        else
        {
            document.images[0].style.width  = "100%"
            document.images[0].style.height = "auto"
        }
    }
    </script>

    <body onresize="resizeImage()">
    <center><img onload="resizeImage()" margin="0" border="0" src="http://upload.wikimedia.org/wikipedia/en/2/2b/1_WTC_rendering.jpg"></center>
    </body>

    </head>
    </html>​ 
```

# dojo - WebSphere 上的 IBM Content Navigator 不应用对小部件所做的 JavaScript 更改

> ID：11896865
> 
> 赞同：2
> 
> 时间：2012-08-10T06:58:57.160
> 
> 标签：dojo, websphere-7, ibm-content-navigator

大家好，我正在使用**WebSphere 7.0**和**IBM Content Navigator**。

我正在尝试对**.js (dojo)**文件进行一些更改以修改 ICN 的一些功能，但我所做的任何更改都不适用于应用程序。

我猜它没有识别更改，因为它是一个 .js 文件，但**我尝试停止 WebSphere，然后清理导航器的“临时”目录并再次启动 WebSphere**。没有改变！我在代码中添加了警报，所以我可以确定变化是明显的，但又什么都没有。

您对我如何（轻松）将更改应用于应用程序有什么建议吗？

如果您需要更多信息，请告诉我！

任何帮助，将不胜感激。

提前致谢， 梭伦

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-17T18:33:10.343

Content Navigator 使用包含所有小部件代码的压缩文件“ecm.js.jgz”。这就是所指的，其他 JS 在运行时不使用。

# android - 在画布上绘图时裁剪位图

> ID：11896868
> 
> 赞同：0
> 
> 时间：2012-08-10T06:59:07.927
> 
> 标签：android

我读到了裁剪位图的简单方法——当裁剪不那么频繁时，它工作得很好：

```
Bitmap.createBitmap(src, x, y, width, height); 
```

但在我的应用程序中，我在画布上绘制位图，我希望它不会超出范围

![描述](../Images/e9ef4d4b79e7520c038507394eb51ba0.png)

用户可以移动和缩放位图。现在我正在使用我在上面描述的方法`onTouchEvent`，但是：

1.  它不够平滑（但它有效）

2.  它在每个“移动”事件中重新创建一个新的位图。我认为这是非常无效的。没有内存消耗，因为我回收了以前的位图，但它看起来仍然很糟糕。

**我的问题是：**在画布上绘图时，有什么方法可以更有效地裁剪位图？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-12T15:44:11.533

我已经决定对每个都使用自己的而不是在一个视图上将它们一起绘制**要好得多。**`ImageView``Bitmap`

在这种情况下，操作系统会为您裁剪所有超出范围的内容，您无需自己裁剪位图。它显着提高了性能。

# iphone - 在导航栏中添加按钮仅在当前视图中显示。如何设置所有视图？

> ID：11896869
> 
> 赞同：0
> 
> 时间：2012-08-10T06:59:12.510
> 
> 标签：iphone, objective-c, ios, xcode

我有一个导航控制器，我已经将两个视图推入其中。我想在导航栏中显示一个按钮，该按钮应显示在所有视图中。但是当我尝试这样...

```
UIButton *button =  [UIButton buttonWithType:UIButtonTypeCustom];
[button setBackgroundImage:[UIImage imageNamed:@"logo-57.png"] forState:UIControlStateNormal];
[button addTarget:self action:@selector(backButtonClicked) forControlEvents:UIControlEventTouchUpInside];
[button setFrame:CGRectMake(-2, 0, 57, 57)];

UIBarButtonItem *btnItem = [[UIBarButtonItem alloc] initWithCustomView:button];
root_obj_ab.navigationItem.rightBarButtonItem = btnItem; 
```

它在我正在编写代码的本地视图中添加。如何为所有视图设置按钮？

TIA

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T07:03:28.280

如果不想以编程方式将相同的按钮添加到所有导航项，则应在导航栏上写一个类别，您需要在其中添加按钮 uibarbuttonitem。同样的故事就像在 IOS 之前更改导航栏的背景颜色一样5.0。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:03:43.540

如何创建一个具有此按钮的自定义视图控制器，然后将所有视图控制器作为该自定义视图控制器的子类？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T07:03:58.047

您必须将此代码放在所有视图控制器中才能在整个应用程序中工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T07:29:15.150

我认为这个问题更多地与设计模式有关。Ricard Pérez del Campo 以子类的方式解决了这个问题。我认为这会足够好。

但是，也许您希望一些类似的按钮以相同的方式发挥作用，但这些按钮仍然存在一些差异。然后你可以应用 Creational Pattern 来做这件事，比如 [Factory Method Pattern](http://en.wikipedia.org/wiki/Factory_method_pattern)，或者使用[Builder Pattern](http://en.wikipedia.org/wiki/Builder_pattern)。

希望这对您的设计有所帮助。

为了演示示例，也许您可​​以这样做：

```
// Code in a CustomButtonFactory class
    + (UIBarButtonItem *)getCustomBackButtonItemForTarget:(id)target selector:(SEL)sel
    {
        UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
        [button setBackgroundImage:[UIImage imageNamed:@"logo-57.png"] forState:UIControlStateNormal];
        [button addTarget:target action:sel forControlEvents:UIControlEventTouchUpInside];
        [button setFrame:CGRectMake(-2, 0, 57, 57)];

        UIBarButtonItem *btnItem = [[UIBarButtonItem alloc] initWithCustomView:button];

        return btnItem;
    } 
```

如果您不想每次都实现选择器并且非常确定每个这样的按钮都会以相同的方式起作用，您可以在工厂类中实现该方法。

# haskell - 一个控制鼠标的haskell程序

> ID：11896870
> 
> 赞同：6
> 
> 时间：2012-08-10T06:59:15.887
> 
> 标签：haskell, io, mouse

首先是轶事：我在玩一个浏览器游戏，虽然它很有趣，但我发现“磨”实际上是非常有回报的。一个简单的鼠标点击程序也可以为您完成这项工作。然后我开始想知道如何制作一个控制鼠标的 Haskell 程序。唉，在谷歌搜索有点令人失望之后，我能找到的只是人们提到 GLUT 和其他一些支持对鼠标*输入的**反应*而不是提供鼠标*输出*的模块。

 **现在的问题是：哪些 Haskell 包支持鼠标输出，我在哪里可以了解更多信息？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-08-10T07:46:34.207

[X11](http://hackage.haskell.org/package/X11)包提供[`warpPointer`](http://hackage.haskell.org/packages/archive/X11/1.6.0/doc/html/Graphics-X11-Xlib-Misc.html#v:warpPointer)了移动鼠标和[`sendEvent`](http://hackage.haskell.org/packages/archive/X11/1.6.0/doc/html/Graphics-X11-Xlib-Event.html#v:sendEvent)模拟点击的功能。不过，我不是 100% 确定如何设置一个事件指针来传递给`sendEvent`；当前的绑定可能不包含必要的功能。欢迎补丁！**

# java - JPA 计数 NamedQuery

> ID：11896872
> 
> 赞同：31
> 
> 时间：2012-08-10T06:59:35.253
> 
> 标签：java, jpa, named-query

如何使用命名查询获得计数，而不获取所有列表（我认为这会提高性能）。这是不起作用的命名查询：

```
@NamedQuery(name = "Charakteristika.findAllCount", query = "SELECT COUNT(c) FROM Charakteristika c") 
```

执行这个：

```
System.out.println("a");
System.out.println(em.createNamedQuery("Charakteristika.findAllCount", Integer.class).getSingleResult().intValue());
System.out.println("b"); 
```

输出：

```
a 
```

尽管此查询有效：

```
@NamedQuery(name = "Charakteristika.findAll", query = "SELECT c FROM Charakteristika c") 
```

执行这个：

```
System.out.println("a");
System.out.println(em.createNamedQuery("Charakteristika.findAll", Charakteristika.class).getResultList().size());
System.out.println("b"); 
```

输出：

```
a
11111
b 
```

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-08-10T07:49:25.287

像这样更改您的代码；

```
 int count = ((Number)em.createNamedQuery("Charakteristika.findAllCount").getSingleResult()).intValue();
      System.out.println(count); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2016-05-01T17:55:52.430

您也可以尝试一下：使用具有 Long 值的 TypeQuery 接口。在下一个示例中，“PosicionHistorialDia.findNumberSpeeding”查询是一个 jpa 计数。

```
 @Override
    public Long findCount(String eventCode) {
         TypedQuery<Long> query = em.createNamedQuery(
            "PosicionHistorialDia.findNumberSpeeding",
            Long.class);
        query.setParameter("event", eventCode);
        return query.getSingleResult();
    } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-10T07:10:30.720

尝试：

```
System.out.println("a");
System.out.println(em.createNamedQuery("Charakteristika.findAllCount").getSingleResult());
System.out.println("b"); 
```

看看它的输出是否对你有任何建议。

做不到这一点，

*   尝试`getResultList`代替`getSingleResult`; 否则相同。

*   尝试`createQuery("SELECT COUNT(c) FROM Charakteristika c").getSingleResult`&`getResultList`

*   探索查询声明的差异；正如 JB 指出的那样，查询是相同的。因此，请尝试使用上述不同形式的两个名称。

*   检查你是如何建造的；这是已部署应用程序的一部分吗？单机？

总得在某处给予一些东西。

# c# - 如何通过javascript访问参数化函数背后的代码

> ID：11896877
> 
> 赞同：0
> 
> 时间：2012-08-10T06:59:59.203
> 
> 标签：c#, javascript, asp.net

有没有办法在 cal 后面从 javascript 警告框中编写代码。我在网格视图上使用一个按钮。单击它时..它应该提醒一个确认框...然后对代码背后的功能进行校准。这是 cal 背后的代码部分。

```
protected void GridView1_RowDataBound(object source, GridViewRowEventArgs e)
{
    ......
    btnAlertStatus.Attributes.Add("onclick", "javascript:if(confirm('Are you sure you want to send an email " + ID+ " ?') == true) EmailTest(ID); ");
    ......
}

protected void EmailTest(int ID)
{
} 
```

这样我就无法访问 send_Email....有没有更好的方法来在 rowboundevent 中调用这个函数

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T07:04:51.810

`JavaScript`在**客户端**上运行。

`ASP.NET (CodeBehind)`在**服务器**上运行。

您不能直接从客户端执行存在于服务器上的方法。您通常做的是执行新请求，告诉服务器运行该方法，然后将结果返回给客户端。

在您的情况下，请侦听警报框何时关闭，然后[`postback`](https://stackoverflow.com/questions/1305954/asp-net-postback-with-javascript)对服务器执行 a 。您也可以按照@Kek 的建议使用 ajax，为此，请查看 jQuery 或 ASP.NET Ajax。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T07:09:32.767

可以使用`WebMethod`，看看[Using jQuery to direct call ASP.NET AJAX page methods](http://encosia.com/using-jquery-to-directly-call-aspnet-ajax-page-methods/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T07:07:58.000

你可以，但你需要使用 ajax 或 Jquery

在后面的代码中创建这个测试方法

```
[System.Web.Services.WebMethod]
public static string SayHi()
{
    return "Hi";
} 
```

然后在您添加的表单标签正下方的 aspx 页面中

```
<asp:ScriptManager ID="scriptManager" EnablePageMethods="true" runat="server"/> 
```

然后将此代码也添加到您的 aspx 页面中

```
<script>
        function GetHi() {

            PageMethods.SayHi(onComplete);
        }

        function onComplete(result) {
            alert(result);
        }

        GetHi();
</script> 
```

# unix - Unix：使用期望不会保留标准错误

> ID：11896879
> 
> 赞同：1
> 
> 时间：2012-08-10T07:00:03.650
> 
> 标签：unix, expect, file-descriptor

我正在从 unix 服务器执行以下行：

```
expect -c 'spawn ssh otherHost chown -R user:group /usr ; expect password: ; send 123456\n ; interact ;' 
```

我得到返回值 0、一个空的 stderr 和一个显示`/usr/... Not owner, /usr/... Not Owner ..`.

如果我单独执行命令行`ssh otherHost chown -R user:group /usr`，则此消息会适当地返回，返回值 !=0 和错误流中的错误消息。

我需要以编程方式知道是否有错误，并且期望（我需要避免传递密码）不允许我这样做。（一个好主意是使用 expect 创建 sshkey，然后正常 ssh 到服务器 - 但我需要服务器在它们之间设置密码）。

无论如何，我怎样才能找出使用期望时发生的错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T09:52:06.313

我习惯于在脚本中编写所有期望的东西。这有助于调试并增加可读性。

在 Expect 中，您总是可以为每个期望添加一个“超时”来处理异常。当期望模式不匹配时，您可以放一些消息来告知情况。以 ssh 为例：

```
spawn ssh user@192.168.1.1
expect {
        "Password:"     {send "user123\n"; exp_continue}
        timeout         {send_user "connection fail\n"; exit}
        -ex "$"
} 
```

当没有任何模式匹配时，Expect 将运行该`timeout`块并显示“连接失败”。

如果我是你，我会将复杂的 ssh 命令拆分为许多简单的命令。即首先ssh到服务器，处理登录过程，然后做chown的东西。该脚本如下所示：

```
# login
spawn ssh user@192.168.1.1
expect {
        -ex "(yes/no)?" {send "yes\n"; exp_continue}
        "Password:"     {send "user123\n"; exp_continue}
        timeout         {send_user "connection fail\n"; exit}
        -ex "#"
}

# do chown
send "chown -R user /usr\n"
expect {
        "No such file or directory" {send_user "No such file or directory\n"; exp_continue}
        "Operation not permitted" {send_user "Operation not permitted\n"; exp_continue}
        "invalid user" {send_user "Invalid user name\n"; exp_continue}
        -ex "$"
} 
```

请记住，在大多数情况下，Expect 对命令是否成功一无所知。脚本必须通过期望输出字符串来检查自身并处理每种情况。

对于您的情况，我认为有一种简单的方法可以通过 $ 的值检查命令？如果您将原始命令分成小块。

```
# after ssh login, do chown
send "chown -R user /usr\n"
expect -ex "$"
send "echo rv: $?\n"
expect {
        "rv: 0" {send_user "command successed\n"}
        timeout {send_user "command failed: $expect_out(buffer)\n"; exit}
} 
```

希望这可以帮助。

# javascript - 使用最后两个数字在 javascript 中获取年份

> ID：11896884
> 
> 赞同：0
> 
> 时间：2012-08-10T07:00:30.413
> 
> 标签：javascript, momentjs

输入是`1303`输出必须`March 2013`是在javascript中可能吗？我试过寻找任何东西，尤其是 moment.js，但它返回 1980

这是jsfiddle [http://jsfiddle.net/4eG7q/](http://jsfiddle.net/4eG7q/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T07:21:16.330

```
var input = "1303";
var date = moment(input, 'YYMM').format("YYYY - MMMM"); 
```

[小提琴](http://jsfiddle.net/4eG7q/5/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T07:16:49.393

假设 1303 表示 2000 年之后的第 13 年和当年的第 03 个月，您可以对其进行剖析并将其转换为纯 javascript 中的字符串，如下所示：

```
var input = 1303;
var year = Math.floor(input / 100);
var month = input % 100;

var months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

var output = months[month - 1] + " " + (2000 + year); 
```

工作演示：http: [//jsfiddle.net/jfriend00/Ve4VH/](http://jsfiddle.net/jfriend00/Ve4VH/)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-10T07:54:53.233

```
new Date('1303'
.replace(/(\d{2})(\d{2})/, '$2/01/20$1'))
.toString()
.replace(/^.*? (.*?) .*? (.*?) .*?$/, '$1 $2'); 
```

这会给你 2012 年 3 月，而不是 2013 年 3 月，但它更便宜:)

# c++ - 从 C++ 中的链表中删除指针

> ID：11896885
> 
> 赞同：2
> 
> 时间：2012-08-10T07:00:31.647
> 
> 标签：c++, memory, memory-leaks, hashmap

我写了这个哈希图（这是电话面试练习的一部分），`new Node(key, value)`当我放置一个元素时我会在其中做一个。我想确保在哈希图本身超出范围时进行清理。

我在这里错过了什么吗？有什么方法可以检查是否存在内存泄漏？

```
class HashMap {
private:
    list<Node*> data[SIZE];

public:
    ~HashMap();
    Node* get(int key);
    void put(int key, int value);

    int hashFn(int val){ return val % 13; }
};

HashMap::~HashMap(){
    for(int i = 0; i < SIZE; ++i){
        list<Node*>& val = data[i];
        for(list<Node*>::iterator it = val.begin(); it != val.end(); it++){
            Node* n = *it;
            delete n;
        }
    }
} 
```

对于古玩：完整的代码在这里：[http ://rextester.com/EHPCYW12862](http://rextester.com/EHPCYW12862)

**编辑：**

另外，我*真的*需要最后调用 list.clear() 吗（因为我已经释放了列表中的所有节点）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T07:07:11.343

检查是否没有内存泄漏的最好方法是使用不会泄漏的智能指针类。`shared_ptr<Node>`或者`unique_ptr<Node>`可以在这里做，第一个用于可复制的地图，第二个用于不可复制的地图。

但是，如果您必须使用原始指针（作业？），就会缺少一些东西：复制构造函数和赋值运算符。如果没有禁用或实现它们，复制此 HashMap 将产生悬空指针（在其中一个映射被破坏后）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T07:10:34.963

似乎`put`正在构造 a`Node`放入您的哈希表中，将 and 关联`key`起来`value`。没有必要使用 a `list<Node *>`，使用它会更清洁`list<Node>`。

```
list<Node> data[SIZE];
//...
data[bucket].push_front(Node(key, value)); 
```

然后，您可以避免实现析构函数。

您的`get`函数仍然可以返回一个指针。

```
Node* HashMap::get(int key){
    //...
    list<Node>::iterator it = data[bucket].begin();
    //...
            if (it->key == key) return &*it;
    //...
    return NULL;
} 
```

如果您将实现保留为`list<Node *>`，那么您还应该实现一个复制构造函数和一个赋值运算符（[三规则](https://stackoverflow.com/questions/4172722/what-is-the-rule-of-three)）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T07:11:48.737

清理工作很好。小点：

```
 for(list<Node*>::iterator it = val.begin(); it != val.end(); ++it) 
```

出于性能原因，最好使用前缀增量。后缀形式必须在增量之前给出迭代器的状态。该对象将立即被丢弃。编译器可能会优化，但这取决于。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-10T07:29:33.920

看着你的代码，并注意到你正在使用一些开销结构。

这两个片段是等价的

```
Node ** d = &(*it); 
if((*d)->key == key){
    return *d;
}

if((*it)->key == key){
    return (*it);
} 
```

# ajax - jquery $.post() Ajax 是否可以大规模使用，还是保持套接字打开？

> ID：11896886
> 
> 赞同：5
> 
> 时间：2012-08-10T07:00:34.727
> 
> 标签：ajax, sockets, jquery

我需要建立一个可以处理 100 个查询/秒的网络规模的公共站点。我想使用 Ajax 使其具有交互性。Ajax 必须在所有主流浏览器和所有合理情况下（停止、从客户端重新启动页面；离开终端一整夜后第二天回来等）都是防弹的。服务器将是一个分布式 Linux 农场。

Jquery $.post() 似乎可以满足要求。

在过去，Ajax 是通过巧妙的方案实现的，以保持服务器和客户端之间的套接字打开。然后，此方法支持“Ajax Push”，也称为“HTTP Server Push”或“Comet”，这是一种允许服务器向客户端发起数据包的双向通信管道。

我看到的这种 Ajax 方法的主要问题是，它显然会在服务器上无限期地占用一个套接字。这似乎无法扩展。次要问题是一夜之间断开调制解调器连接会破坏管道。从保存的本地版本重新加载页面可能不会重新建立实时管道；并且各种浏览器需要各种不可靠的 hack 才能让 Ajax 首先工作。

使用基于发布请求的 Ajax 严格的“客户端拉动”模型似乎可以解决所有这些缺点。如果我能获得一个防弹的实现基础，我很乐意放弃未经请求的服务器推送的能力。

所以我使用了一个简单的 调用，至少对于 Firefox 和 Safari 来说它似乎工作得很好。
`$.post( 'serverAjaxModule.php' ,
{mydata: Dataword },
function(output){ do_handle_results( output); });`

但是，我不知道这是在做什么。我了解到 .post 是 .ajax 的宏，并且似乎有一些命令，例如 .ajaxSetup 和 .ajaxStart，它们的名称似乎使它们成为要求。然后是`jquery-ui.min.js`包含，它几乎可以运行任何设置。

那么我的问题：

1.  jquery $.post 是否可以很好地扩展到大量使用？

2.  $.post 是使用旧的连续打开套接字范例实现的，还是每次我执行客户端拉取 ajax 消息时都会建立一个新的套接字连接？影响？

3.  我是否认为我*不需要*调用任何额外的东西，例如 .ajaxSetup 或 .ajaxStart 等，我可以继续成功调用 $.post 而不会产生任何异常后果？

4.  这个特性的 jquery 跨浏览器功能有多好？我可以依靠它简单地为基本上所有合理的现代浏览器工作，还是有一些我必须注意的已知浏览器？

5.  这种 Ajax 技术方法适用于古代浏览器有多远？.post 似乎正在使用往返 POST 技术，它应该是完全通用且防弹的；但我似乎记得一些旧技术的案例，有些浏览器太旧而无法支持 Ajax，我们不得不费力地围绕它编写代码。那些日子已经一去不复返了，现在，有了新的 jquery？在文明的国际世界中，我有多少需要担心非 Ajax 支持？

6.  还有什么要注意的吗？如果您刚刚开始构建一个可大规模扩展的实现，您希望有人告诉您有关创建动态、交互式 Web 体验的最重要的几点是什么？

非常感谢您的友好帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T07:10:54.270

`$.ajaxSetup`不是必需的，但它很有用：

*   如果你运行 a`$.post`你不能定义一个错误处理函数并且调试会很困难 - 在这种情况下你可以定义一个通用的错误函数`$.ajaxSetup`;
*   如果您运行 a`$.post`并接收需要显示的 HTML 数据，并且您需要它的元素将事件绑定到它们 - 您将能够定义应将哪些事件处理程序重新应用于这些新对象；

`$.ajaxStart`也不需要。

jQuery UI 是一个用户界面核心库，通常包含一些其他库，例如拖放元素行为、可排序元素行为和一些小部件，如手风琴菜单、模式消息框等。除非您打算实际使用它，否则不需要用于构建前端的 API。

1 它没有建设性的理由（据我所知）不扩展；当然，如果您将其设置为每毫秒向服务器发送请求，您*可以*使服务器崩溃（有许多并发用户）或使浏览器崩溃（打开无限循环的连接）或两者兼而有之，但无论哪种情况都不好工艺

2 不是它不保持打开的套接字

3 是

4 它适用于包括 IE6 在内的任何浏览器 - 但某些浏览器（例如 IE6）可能会由于大量 JavaScript 代码（及其内存泄漏）而出现更大的减速

5 IE6

6

*   浏览器长时间打开会像花生酱一样消耗内存；
*   JSON 是您的朋友 - 构建您的应用程序时要考虑前端逻辑，不要使用通过网络发送的 HTML 来构建它，这会使事情变得复杂（您需要将事件处理程序重新绑定到通过 AJAX 接收的每个新对象，您几乎没有格式化访问权限到您刚刚收到的 HTML 的大型博客等）；
*   以 JSON 格式获取数据，使用 Mustache.js 等前端模板引擎使用 JSON 组合数据；

内存泄漏和/或加载和未使用的内容通常在刷新后被清除——尤其是在 Chrome 中——另一方面，Firefox 是一个真正的内存吞噬者，即使没有任何活动也可以打开 6-12 小时，你会看到增加内存使用情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:32:59.900

如果不是浏览器考古学方面的专家，我认为您对 Comet 作为不支持正确 Ajax 的旧浏览器的解决方法的回忆是错误的。Comet 是一个奇特的特例，你说得对，它的扩展性通常很差。但是，我不会担心今天仍在使用的浏览器中的 Ajax 支持，它应该是一个已解决的问题。

# javascript - chrome中div按钮上的小死区

> ID：11896890
> 
> 赞同：5
> 
> 时间：2012-08-10T07:00:59.683
> 
> 标签：javascript, google-chrome, onclick, position, css-position

我无法解释这一点。我有一个 div 那是一个按钮。我使用 :active 伪类和 position: relative; 单击时将其稍微向下和向右移动，以使其具有动画效果。出于某种原因，在 Chrome 中的这个按钮上有一个小的死区，大约在文本和按钮边缘的中间。psuedo 类仍然会触发，但按钮上的 Javascript 不会。如果我删除相对位置，问题就会消失。这也发生在 Firefox 中，但 Firefox 中的死区位于按钮移开的边缘，这是有道理的，但也需要修复。

我创建了一个 JSFiddle 来显示问题：http: [//jsfiddle.net/dillydadally/CUHA7/6/](http://jsfiddle.net/dillydadally/CUHA7/6/)

知道为什么会这样吗？有没有办法解决它？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T07:04:29.927

CSS。这是因为**margin: 10px;** 在**#btn**

编辑

如果您使用**onmousedown**而不是**onclick**它将起作用。

解释：

伪类在 onClick 之前被激活。如果将 :active 的值从 2px 更改为 20px。即使您单击按钮的中间，您也会看到这种情况发生。

所以在 :active 设置 left 和 top 的新值之后，鼠标不再位于 div 的顶部，并且无法注册**单击**（***按下和释放***）。

但是**onmousedown**仍然会被触发，因为它不依赖于鼠标按钮的释放。

# cocos2d-iphone - 如何通过 ALuint 在 Cocos2d 中停止效果？

> ID：11896891
> 
> 赞同：1
> 
> 时间：2012-08-10T07:01:00.917
> 
> 标签：cocos2d-iphone, effect, simpleaudioengine

Cocos2d 中的 soundId 在哪里？

我知道它是从某个地方返回的，但是你如何捕获这个值或者它在哪里？

我正在尝试使用以下方法停止效果：

```
[[SimpleAudioEngine sharedEngine] stopEffect:<#(ALuint)#>]; 
```

但是，我不知道从哪里获得上述效果的 soundId。

任何帮助是极大的赞赏。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T09:49:46.720

ALuint 从 playEffect 返回：

```
ALuint effect = [[SimpleAudioEngine sharedEngine] playEffect:@"effect.caf"];
[[SimpleAudioEngine sharedEngine] stopEffect:effect]; 
```

# sql - 如何在一个查询中更新多个表？

> ID：11896894
> 
> 赞同：0
> 
> 时间：2012-08-10T07:01:23.757
> 
> 标签：sql, database, oracle, oracle11g

我想在一个 SQL 语句中更新多个表。

我正在尝试执行查询：

```
UPDATE TABLE_A, TABLE_B SET TABLE_A.FIELD_A = 0, TABLE_B.FIELD_B = 0; 
```

但我得到了例外：

```
java.sql.SQLException: ORA-00971: missing SET keyword 
```

我的查询有什么问题？`Oracle 11`如果它很重要，我会使用它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T07:22:15.247

您不能在单个查询中更新多个表。

您可以编写一个存储过程来更新这两个表。将两个 UPDATE 包装在一个事务中。

# android - 如何在运行时在另一个布局中插入布局

> ID：11896898
> 
> 赞同：0
> 
> 时间：2012-08-10T07:01:54.070
> 
> 标签：android, android-layout

在运行时将布局插入另一个布局的最佳方法是什么。具体来说，我有一个包含 ListView 的 FrameLayout。这是在一个 mainlayout.xml 文件中定义的，我有另一个布局文件定义 header.xml 中的标题。

1) 如何在 mainlayout.xml.(static case) 的定义中包含 headerlayout.xml 定义的布局，即不复制里面的所有内容但引用其他定义。

2) 如何在运行时将标题布局动态添加到 mainlayout.xml 中的特定位置？我知道充气和所有这些，只是不知道如何将它附加到我想要它在主布局中的位置。由于我没有在 mainlayout.xml 中包含整个定义，因此我如何在其中有一个占位符并在膨胀后将其动态设置在正确的位置。（动态案例）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T07:14:39.380

静态案例。在你的内部`mainlayout.xml`：

```
<include layout="@layout/header" id="@+id/header" /> 
```

可以是静态和动态的另一种解决方案是使用[ViewStub](http://developer.android.com/training/improving-layouts/loading-ondemand.html)

```
<ViewStub android:id="@+id/stub"
          android:inflatedId="@+id/subTree"
          android:layout="@layout/mySubTree"
          android:layout_width="120dip"
          android:layout_height="40dip" /> 
```

# facebook - 如何使用 App Access Token 进行 API 调用以检索 relationship_status

> ID：11896905
> 
> 赞同：1
> 
> 时间：2012-08-10T07:02:52.230
> 
> 标签：facebook, facebook-graph-api, servlets, facebook-access-token, real-time-updates

我正在开发一个从 facebook 获取真正更新的应用程序开发，我需要在收到更改通知后进行 API 调用。我可以使用用户访问令牌进行 API 调用，但是当我使用应用程序访问令牌进行调用以检索用户（已成功允许这些字段的应用程序）的关系状态（或说任何其他需要 access_token 的文件）时，我我越来越空了。我正在使用 Java servlet 来实现相同的功能，App Access Token 对于订阅甚至检索基本信息和应用程序信息都可以正常工作，但不需要特定信息。请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T07:37:10.530

当您创建身份验证令牌时，您是否设置了以下范围；

```
user_relationships 
```

然后您应该能够在 /me 下看到关系状态

```
"relationship_status": "Engaged", 
"significant_other": {
    "name": "Jane Luu", 
    "id": "570340316"
 }, 
```

# android - 由于 NetworkOnMainThreadException，应用程序在 ICS 版本上无法正常工作

> ID：11896911
> 
> 赞同：-2
> 
> 时间：2012-08-10T07:03:18.707
> 
> 标签：android, android-asynctask, android-fragments

我开发了一个 Android 应用程序，它将在几天内上线。

在 ICS 上测试应用程序时，我遇到了一个不同的问题。它在 Pre-GingerBread 和 GingerBread 版本的设备上运行良好。它`NetworkOnMainThreadException`在测试 ICS 设备时抛出，并通过将 HTTP 调用放入`AsyncTask`.

但是我的问题是我做了 4 到 5 种不同`HTTP Url calls`的调用，并且调用每个 url 都需要一个 AsyncTask，因为这些 URL 应该一个接一个地同时执行。

如果一个 url 的结果失败，则不应调用下一个 URL，并且应在 UI 上更新。因此，我`AsyncTask`为每个 URL 调用进行了一次。

我们能否`AsyncTasks`在一个片段中包含多个片段。`AsyncTask`截至我的片段类中，我设法拥有最多 3 个。

`AsyncTask`如果是这样，我们可以从第一个`AsyncTask` `PostExecute`方法开始执行另一个。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-10T07:16:01.603

您可以将所有 HTTP 调用集中在一起`ASyncTask`，并使用[publishProgress](http://developer.android.com/reference/android/os/AsyncTask.html#publishProgress%28Progress...%29)回调进行报告。当一个失败时，您可以停止该 ASyncTask 并且不会调用其他的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T07:28:53.123

应该可以在一个 asyncTask 中逐个检查 URL 并通过以下方式发布进度：

[http://developer.android.com/reference/android/os/AsyncTask.html#onProgressUpdate%28Progress...%29](http://developer.android.com/reference/android/os/AsyncTask.html#onProgressUpdate%28Progress...%29)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T07:41:08.390

A`NetworkOnMainThreadException`通常是糟糕代码的标志，它会导致糟糕的用户体验，因为应用程序在运行某种网络活动时会锁定。是的，它（不幸的是）适用于蜂窝之前的设备，但这不是任何人都应该追求的。

为了解决您的问题，我强烈建议您使用单个 AsyncTask 并在该`doInBackground()`方法中连续执行所有 HTTP 调用。对于每个调用，检查调用是否成功。如果确实如此，那么它将继续进行下一个 - 如果失败，您可以`return null`在此之后不再进行 HTTP 调用，并且`onPostExecute()`将自动调用该方法。非常简单。

这是我想到的一个例子：

```
private class DoNetworkStuff extends AsyncTask<String, Integer, String> {

 protected String doInBackground(String... params) {
     // Do network call
     if (!call.hasSucceeded()) return null;

     // Do next network call
     if (!call.hasSucceeded()) return null; // Check if call succeeded - pseudo code

     // Continue this pattern with all your network calls

     return ""; // If this point is reached, all network calls succeeded
 }

 protected void onPostExecute(String result) {
     if (result != null) {
         // All calls succeeded - celebrate!
     } else {
         // A call failed - clean-up...
     }
 }

} 
```

在执行任何其他操作之前，请查看 AsyncTask 的文档并了解它。我相信这将非常适合您的应用程序：http: [//developer.android.com/reference/android/os/AsyncTask.html](http://developer.android.com/reference/android/os/AsyncTask.html)

# java - Java：基本数学错误？

> ID：11896922
> 
> 赞同：3
> 
> 时间：2012-08-10T07:04:16.267
> 
> 标签：java, date, time

我必须在这里做一些根本错误的事情。我有非常简单的代码：

```
private static final long MILLIS_PER_YEAR = 1000 * 60 * 60 * 24 * 365;

//...

public long getAge() {
    long millis = System.currentTimeMillis() - this.getBirthdate().getTime();
    System.out.println("Computed age:  " + (millis / MILLIS_PER_YEAR) + ", birthdate=" + this.getBirthdate() + ", birthdateMillis=" 
            + this.getBirthdate().getTime() + ", now=" + new Date() + ", nowMillis=" + System.currentTimeMillis() 
            + ", elapsedMillis=" + millis);
    return millis / MILLIS_PER_YEAR;
} 
```

...但它给出了一些完全不正确的输出：

```
Computed age:  248, birthdate=2001-01-01 10:00:00.0, birthdateMillis=978307200000, now=Fri Aug 10 16:56:48 EST 2012, nowMillis=1344581808173, elapsedMillis=366274608173
Computed age:  184, birthdate=2004-01-01 10:00:00.0, birthdateMillis=1072915200000, now=Fri Aug 10 16:56:48 EST 2012, nowMillis=1344581808173, elapsedMillis=271666608173 
```

如果我手动（[或使用 Google](https://www.google.com.au/webhp?rlz=1C1CHFA_enAU488AU489&sourceid=chrome-instant&ie=UTF-8#hl=en&safe=off&rlz=1C1CHFA_enAU488AU489&sclient=psy-ab&q=366274608173%20/%20%281000%20%2a%2060%20%2a%2060%20%2a%2024%20%2a%20365%29&oq=366274608173%20/%20%281000%20%2a%2060%20%2a%2060%20%2a%2024%20%2a%20365%29&gs_l=hp.3...4176.4176.3.4624.1.1.0.0.0.0.209.209.2-1.1.0...0.0...1c.ULiUUIZGxcQ&pbx=1&bav=on.2,or.r_gc.r_pw.r_cp.r_qf.&fp=48bb6b4f4493f288&biw=1723&bih=1128)）运行相同的计算，我会得到[正确的结果](https://www.google.com.au/webhp?rlz=1C1CHFA_enAU488AU489&sourceid=chrome-instant&ie=UTF-8#hl=en&safe=off&rlz=1C1CHFA_enAU488AU489&sclient=psy-ab&q=366274608173%20milliseconds%20in%20years&oq=366274608173%20milliseconds%20in%20years&gs_l=hp.3...48355.52023.6.52144.23.22.0.0.0.0.306.4894.2-20j1.21.0...0.0...1c.VMcxOMVOB5Q&pbx=1&bav=on.2,or.r_gc.r_pw.r_cp.r_qf.&fp=48bb6b4f4493f288&biw=1723&bih=1128)（在合理的范围内，因为实际一年中的天数略多于 365 天）。

同样的数学是如何在这段代码中产生如此荒谬的输出的？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-10T07:08:23.450

的值`MILLIS_PER_YEAR`是错误的。它`1471228928`不是所需的`31536000000`.

看值的计算：所有参与的值都是`int`值（数字、非十进制常量`int`在Java中默认是-values）。这意味着计算的*结果*也将是一个`int`值。但是*所需*的值大于`int`可以容纳的值，因此您将溢出。

为确保对`long`值进行计算，只需将至少一个值设为 long（通过附加`L`后缀）：

```
private static final long MILLIS_PER_YEAR = 1000L * 60 * 60 * 24 * 365; 
```

# c# - ASIO 中的 NAudio 音量

> ID：11896925
> 
> 赞同：0
> 
> 时间：2012-08-10T07:04:32.477
> 
> 标签：c#, asio, naudio

如果我想改变输出量，我不应该使用`IWavePlayer.Volume`财产权吗？我应该改变（乘以因子）输出样本`WaveProvider`对吗？好的，这很好`WaveOut`，`DirectSoundOut`因为您可以从 Windows Volume Mixer 控制它们。如果我将 Volume Mixed 中的音量设置为 100%，然后发送未触及的样本，`WaveProvider`我将达到 100% 的声卡音量。但如果我使用`AsioOut`我无法更改 Windows Mixer 中的音量。好的，但是 ASIO 系统不会以 100% 的声卡音量播放声音。我听到声音很安静。如何告诉 ASIO 以 100% 声卡输出播放音频？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T16:32:01.410

默认情况下，ASIO 应该以最大音量播放。使用 ASIO，您可以通过调整发送的样本值自行控制输出音量。您的 ASIO 控制面板可能允许您向特定声卡发送特殊命令，但 ASIO API 本身非常有限，并且不包含音量功能。

# mdx - MDX 计算成员无法识别

> ID：11896926
> 
> 赞同：0
> 
> 时间：2012-08-10T07:04:50.200
> 
> 标签：mdx, mondrian

我正在使用蒙德里安。

当我使用以下查询时：

```
with MEMBER [Added_On].[2011].[4].[tot] AS
 '[Added_On].[2011].[4].[4]+[Added_On].[2011].[4].[5]'
  select
 {[Added_On].[2011].[4].[tot] } on columns, 
{([Measures].[Count])} on rows from Transactions 
```

我收到错误消息：

```
Mondrian Error:MDX object '[Added_On].[2011].[4].[tot]' not found in cube 'Transactions' 
```

有人可以指出错误吗？

`Added_On`是一个时间维度。我使用模式工作台为此制作了一个模式。到目前为止，休息一直很好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T21:03:29.010

您应该尝试在计算成员的表达式中添加成员级别的名称 2011：

```
[Added_On].[name of the level of 2011].[2011].[4].[tot] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T16:00:27.780

解决方法：当我将层次结构命名为与维度名称相同时，查询开始工作。仍在寻找更好的解决方案...

# c# - Style Cos 默认配置的风格有多普遍？

> ID：11896932
> 
> 赞同：1
> 
> 时间：2012-08-10T07:05:13.870
> 
> 标签：c#, coding-style, stylecop

我以前使用 Style Cop 来确保人们遵循既定的代码标准，然后根据我们的需要对其进行配置。几天来，我一直在使用带有默认设置的 Style Cop 进行尝试，但我对某些事情感到有些困惑。例如，如果我声明一个变量，我真的很想说明它是什么类型。

```
 int foo; 
```

或者

```
 Bar foo = new Bar(); 
```

Style Cop 希望您经常使用`var`关键字。我了解您、编译器和 IDE 可以通过实例化确定类型。

```
 var foo = 1; // Makes foo and int
  var foo = new Bar(); // Makes foo a Bar 
```

当声明和实例化在一个步骤中完成时，它是相当可见的。

还有一些我不太喜欢 Style Cop 似乎喜欢的东西，所以我基本上只是想知道标准 Style Cop 配置强制执行的编码风格有多普遍，它起源于哪里？

**注意：`var`如 hvd 所述，下面的这种用法无效。`var`让我立刻感觉好多了；）。我把它留在里面，因为它在原来的问题中**

但是如果你有一些晦涩难懂的东西，比如

```
 var foo

     ... bunch of code ...

     foo = getLatestData(); 
```

`foo`变成什么并不明显。但是看`foo`你的声明不会变得更聪明。相反，您必须查看`getLatestData`函数的声明。

我觉得这种`var`方法有点模糊了一切。如果您声明它`foo`是一个`int`. 然后你知道*那*`foo`总是一个. 它不依赖于它从什么获得数据。像这样的东西很可能会给你两种不同类型的 foo。*`int`*

 *```
var foo;

...

if(status == 0) {
  foo = getLatestData();
}
else {
  foo = getOtherData();
} 
```

没有什么强制要求这两个函数必须返回相同的类型，`foo`因此可以变成不同的东西。当您自己编写所有代码并像这样包含它时，可能很容易跟踪。但是，如果它是一个 API 或插件库，那么如果外部 3rd 方开发人员冷冷地指定类型，那将是一场噩梦，`foo`因为在这种情况下您无法确定如何处理它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T08:17:34.113

您的问题有一些误解，[`var`](http://msdn.microsoft.com/en-us/library/bb383973.aspx)这些误解已在评论中提出并在链接的 MSDN 参考中得到澄清。

至于实际问题，我会推断默认 Style Cop 规则集强制执行的代码样式至少与默认 Style Cop 规则集的使用一样普遍。这个答案当然是重言式，但是对于问题的残余是正确的。

如果您对关键字有更多疑虑，`var`您可以在 Stack Overflow 上查阅有关该主题的许多现有答案。*

# android - 交叉布局视图

> ID：11896933
> 
> 赞同：0
> 
> 时间：2012-08-10T07:05:15.030
> 
> 标签：android, android-layout, overlay

我正在寻找一种在多个布局中显示“叠加”视图的方法（如附图中所述）![具有多种布局的平板电脑屏幕（标题、列表、详细信息）](../Images/956d17930d2af2567b6ee9d3f6914d0f.png)。

我的研究表明布局只能存在于其他布局中，并且没有覆盖布局的概念。那可能吗？有什么建议么？

非常感谢！凯。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T07:14:22.810

FrameLayout 是唯一可以渲染重叠视图的布局

```
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent" >

        <TextView
            android:id="@+id/textView1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Primary View Primary View Primary View Primary View" />
    </LinearLayout>

    <RelativeLayout
        android:layout_width="100dp"
        android:layout_height="match_parent"
        android:background="#80FFFFFF" >

        <TextView
            android:id="@+id/textView2"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_centerInParent="true"
            android:text="OverLap" />
    </RelativeLayout>

</FrameLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:13:43.643

我想您需要在布局上显示视图或布局元素。如果你应该像这样使用 FrameLayout

```
 <FrameLayout
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">    

            <LinearLayout
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:orientation="vertical" >

                Your layout

            </LinearLayout>

            <LinearLayout
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:orientation="vertical" >

                Your view element to float or overlay 

            </LinearLayout>             

</FrameLayout> 
```

# iphone - 当我们在不同的类中调用相同的方法时，我们必须遵循更好的方法

> ID：11896934
> 
> 赞同：-1
> 
> 时间：2012-08-10T07:05:26.463
> 
> 标签：iphone

我是 iPhone 的新手。我正在使用一些代码来获取一些数据，但我很困惑它是否是更好的方法。任何人都可以建议我是否是更好的方法。我有三个类 1.BiblePlayerAppDelegate 2.BiblePlayerViewController 3.ShowProgressViewController

在 BiblePlayerViewController.m 中：

```
-(NSString *)selectedBookTitle {

//getting the text which is in the bookSelectionButton and assign that to selectedBookTitle
selectedBookTitle = [[bookSelectionButton titleLabel]text];

//return the selectedBookTitle String
return selectedBookTitle;
} 
```

我在 biblePlayerViewController.m 中编写上述方法，并且 selectedBookTitle 是 biblePlayerViewController 类中的类变量。在同一个类中，我多次调用此方法近 30 次我调用此方法。调用 30 次方法是否更好在那个类中。我也在 showProgressViewController 中使用这个方法，因为我在 showProgressViewController 中导入 biblePlayerViewController.h，然后在 showProgressViewController 类中分配初始化 biblePlayerViewController。有没有更好的方法。请任何人知道这个建议我。这对我很有帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T07:26:05.107

Opps 的关键因素之一是模块化和可重用性，如果您计划在不同的类上使用单个方法，最好编写一次并在多个位置使用。

# mysql - 将用户定义的函数从本地主机导入到实时服务器的任何想法

> ID：11896937
> 
> 赞同：0
> 
> 时间：2012-08-10T07:06:01.113
> 
> 标签：mysql, phpmyadmin

我正在尝试将自定义用户定义的函数从本地主机导入到实时演示服务器。但它显示了这个错误：

**MySQL 说：文档 1064 - 你的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 3 行的 '' 附近使用正确的语法**

> ```
> DELIMITER$$  
> CREATE DEFINER=`root`@`localhost` FUNCTION `isAvailable`(OwnerID INT, DateFrom DATETIME, DateTo DATETIME)  
> RETURNS BIT(1)  
> BEGIN  
> DECLARE t BIT;  
> IF DateFrom IS NULL OR DateTo IS NULL OR EXISTS  (SELECT DateID FROM tbl_name WHERE OwnerID=OwnerID AND ((DateFrom<=DateFrom AND DateFrom<=DateTo) OR (DateFrom<=DateTo AND DateTo<=DateTo)))  
> THEN  
> SET t=0;  
> ELSE  
> SET t=1;     
> RETURN t;  
> END IF;  
> END$$  
> DELIMITER; 
> ```

我正在从本地主机复制并尝试在演示服务器上运行。
任何想法请我错在哪里？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T09:12:46.587

好的得到这个错误。:)
问题在这里**`(DELIMITER$$)`**使用了 this **`(DELIMITER //)`**，最后也使用**`(END //)`**了 this **`(END$$)`**。

# ipad - 如何找到固定眼镜的脸型和要点

> ID：11896938
> 
> 赞同：-2
> 
> 时间：2012-08-10T07:06:02.500
> 
> 标签：ipad, points

> **可能重复：**
> [在人的扫描图像中识别眼睛的 iphone 应用程序](https://stackoverflow.com/questions/7097618/iphone-app-to-recognise-eyes-in-a-scanned-image-of-a-person)

我正在开发一个 ipad 应用程序，因为我需要从库或使用相机上传照片，在上传时我需要获取眼睛的位置（点）来修复我的玻璃我如何实现这一点，例如下图显示了我需要结果当我点击玻璃时，它应该固定在特定位置面对![在此处输入图像描述](../Images/7f34da99f62f14a03a1131c9e4c6e62a.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T09:37:58.820

如果我理解你的问题（但不确定我是否理解），那么 iOS 5 中的内置人脸检测是可行的方法。它快速且非常易于使用。当在图像中检测到人脸时，您将获得左右眼和嘴巴的 CGPoints。您还将获得一个 CGRect 表示找到的人脸的边界框。从这里你应该能够定位你的眼镜图像。

那里有很多教程，但其中大多数要么不完整，要么弄乱了坐标。这是一个正确的： [//nacho4d-nacho4d.blogspot.com/2012/03/coreimage-and-uikit-coordinates.html](http://nacho4d-nacho4d.blogspot.com/2012/03/coreimage-and-uikit-coordinates.html)

需要注意的一点：本教程使用小图像，因此不必将生成的坐标缩放到图像的屏幕 (UIImageView) 表示。假设您使用的是用 iPad 相机拍摄的照片，您将不得不按照源图像的缩放量来缩放坐标（除非您在运行人脸检测例程之前减小它的大小——这可能不是一个坏主意）。您可能还需要旋转图像以获得正确的方向。

这里的答案之一有一个例程：[UIImagePickerController camera preview is portrait in landscape app](https://stackoverflow.com/questions/538041/uiimagepickercontroller-camera-preview-is-portrait-in-landscape-app)

这个答案有一个很好的例程，可以在 UIImageView 使用“aspect fit”呈现时找到图像的比例：[How to get the size of a scaled UIImage in UIImageView?](https://stackoverflow.com/questions/389342/how-to-get-the-size-of-a-scaled-uiimage-in-uiimageview)

# sqlite - 在 SQLite 中保存坐标

> ID：11896939
> 
> 赞同：1
> 
> 时间：2012-08-10T07:06:05.113
> 
> 标签：sqlite, cordova, storage

我正在为 Cordova 2.0.0 开发。我正在 android 2.2 上测试我的应用程序。现在我得到了获取用户位置的代码，然后用标记在谷歌地图中显示它。首先我检索地理位置代码并将其显示在谷歌地图中：

```
> function onLoad() { document.addEventListener("deviceready",
> onDeviceReady, false); }
> 
> function onDeviceReady() {
> 
> }
> 
> var onSuccess = function(position) {
>     var myLat = position.coords.latitude;
>     var myLong = position.coords.longitude;
> 
>     
>     var mapOptions = {
>         center: new google.maps.LatLng(myLat, myLong),
>         zoom: 14,
>         mapTypeId: google.maps.MapTypeId.ROADMAP
>     };
> 
> var map = new google.maps.Map(document.getElementById("map_canvas"),
>                                   mapOptions);
> 
>     var marker = new google.maps.Marker({
>                                    position: new google.maps.LatLng(myLat, myLong),
>                                         map: map,
>                                         title:"Hello World!"
>                                         });
> 
> };
> 
> 
> function onError(error) {
>     alert('code: '    + error.code    + '\n' +
>           'message: ' + error.message + '\n'); }
> 
> 
> 
> navigator.geolocation.getCurrentPosition(onSuccess, onError,
>       {'enableHighAccuracy':true,'timeout':10000}); 
```

现在是我的数据库的代码，我使用了来自[http://docs.phonegap.com/en/2.0.0/cordova_storage_storage.md.html#Storage](http://docs.phonegap.com/en/2.0.0/cordova_storage_storage.md.html#Storage)的示例：

```
> <!DOCTYPE html> <html>   <head>
>     <title>Storage Example</title>
>     <script type="text/javascript" src="jqtouch/jquery.js" charset="utf-8"></script>
>     <script type="text/javascript" src="jqtouch/jqtouch.js" charset="utf-8"></script>
>     <script type="text/javascript" charset="utf-8" src="cordova-2.0.0.js"></script>
>     <script type="text/javascript" charset="utf-8">
> 
>     // Wait for Cordova to load
>     //
>     document.addEventListener("deviceready", onDeviceReady, false);
> 
>     // Populate the database 
>     //
>     function populateDB(tx) {
>         tx.executeSql('DROP TABLE IF EXISTS DEMO');
>         tx.executeSql('CREATE TABLE IF NOT EXISTS DEMO (id unique, longitude, latitude)');
>         tx.executeSql('INSERT INTO DEMO (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, longitude, latitude);
>     }
> 
>     // Query the database
>     //
>     function queryDB(tx) {
>         tx.executeSql('SELECT * FROM DEMO', [], querySuccess, errorCB);
>     }
> 
>     // Query the success callback
>     //
>     function querySuccess(tx, results) {   console.log("Returned rows = " + results.rows.length);   if (!results.rowsAffected) {
>     console.log('No rows affected!');
>     return false;   }   // for an insert statement, this property will return the ID of the last inserted row   console.log("Last inserted
> row ID = " + results.insertId);
>     }
> 
>     // Transaction error callback
>       function errorCB(err) {
>        console.log("Error processing SQL: "+err.code);
>     }
> 
>     // Transaction success callback
>    
>     function successCB() {
>         var db = window.openDatabase("Database", "1.0", "Cordova Demo", 200000);
>         db.transaction(queryDB, errorCB);
>     }
> 
>     // Cordova is ready
>     //    function onDeviceReady() {
>         var db = window.openDatabase("Database", "1.0", "Cordova Demo", 200000);
>         db.transaction(populateDB, errorCB, successCB);
>     }
> 
>     </script>   </head>   <body>
>     <h1>Example</h1>
>     <p>Database</p>   </body> </html> 
```

我不确定如何将从我的 GPS（地理位置）中检索到的长/纬度值放入我的数据库中。非常感谢任何教程、示例代码或建议。

我一直在想这样的事情：

```
> //GEOLOCATION 
>     var onSuccess = function(position) {
>     var myLat = position.coords.latitude;
>     var myLong = position.coords.longitude;
>     insertEntry(latitude, longitude);
>     //MAP
> 
> 
> function insertEntry(latitude, longitude) {
>     db.transaction(
>         function(populateDB) {
>             tx.executeSql(
>                 'INSERT INTO entries (latitude, longitude) ' + 
>                     'VALUES (?, ?);',
>                 [latitude, longitude],
>                 function(){
>                    }, 
>                 errorHandler
>             );
>         }
>     ); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T21:31:49.390

您需要打开一个数据库：

```
var db = window.openDatabase("dbName", "1.0", "Db Name", 100000); 
```

然后

```
db.transaction(
     function(populateDB) 
        ..... 
```

检查[Phonegap 存储文档](http://docs.phonegap.com/en/2.0.0/cordova_storage_storage.md.html#openDatabase)。

# c# - 绑定 SelectedIndex（组合框）在代码隐藏文件中不起作用

> ID：11896940
> 
> 赞同：0
> 
> 时间：2012-08-10T07:06:08.737
> 
> 标签：c#, wpf, data-binding, combobox, selectedindex

我有一个带有组合框的窗口。这个组合框有 5 个 ComboboxItems。

我将 SelectedItem（组合框）绑定到我的代码隐藏文件中的 ComboBoxSelectedIndex 属性。

在示例中，我希望无法选择项目 4 和 5。

但我可以选择项目 4 和 5。怎么了？

xml代码：

```
<Window x:Class="WpfApplication1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStartupLocation="CenterScreen"
        Height="350"
        Width="500">
    <StackPanel VerticalAlignment="Center">
        <ComboBox SelectedIndex="{Binding Path=ComboBoxSelectedIndex, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
            <ComboBoxItem>Item 1</ComboBoxItem>
            <ComboBoxItem>Item 2</ComboBoxItem>
            <ComboBoxItem>Item 3</ComboBoxItem>
            <ComboBoxItem>Item 4</ComboBoxItem>
            <ComboBoxItem>Item 5</ComboBoxItem>
        </ComboBox>     
    </StackPanel>
</Window> 
```

代码隐藏文件：

```
namespace WpfApplication1
{
    public partial class MainWindow : INotifyPropertyChanged
    {
        private int _selectedIndex;

        public MainWindow()
        {
            InitializeComponent();
            DataContext = this;
        }

        public int ComboBoxSelectedIndex
        {
            get { return _selectedIndex; }
            set
            {
                if (value < 3)
                {
                    _selectedIndex = value;
                }
                OnPropertyChanged("ComboBoxSelectedIndex");
                Trace.WriteLine(ComboBoxSelectedIndex);
            }
        }

        #region Implementation of INotifyPropertyChanged

        public event PropertyChangedEventHandler PropertyChanged;

        private void OnPropertyChanged(string propertyName)
        {
            if (PropertyChanged != null)
            {
                PropertyChanged(this, new PropertyChangedEventArgs(propertyName));
            }
        }

        #endregion
    }
} 
```

（我知道我可以使用 Is Enabled 属性解决这个问题。但我不知道这里是什么）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T07:13:52.987

会发生什么：

*   您选择一个项目。
*   绑定调用 MainWindow.SelectedIndex.set()
*   OnPropertyChanged 表示属性的更改...但是 WPF 已经在设置此属性，因此该信息被忽略。

这是 WPF 绑定的一个非常痛苦的问题......你可以做的是等待 WPF 完成设置组合框中的属性，然后触发 NotifyPropertyChange。这可以通过在设置器中创建一个新线程来通知调度器线程来完成。

我经常遇到这个问题，并完成了 SelectedItem 和 SelectedIndex 的绑定...经常在两者之间丢失:(

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:37:55.053

创建您的自定义组合框来实现这一点

```
<StackPanel Orientation="Vertical">
    <wpfProj:ExtendedCombobBox 
       SelectedIndex="{Binding Path=ComboBoxSelectedIndex, 
                              Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
       MaxSelectedIndex="{Binding Path=MaxSelectedIndex}">
        <ComboBoxItem>Item 1</ComboBoxItem>
        <ComboBoxItem>Item 2</ComboBoxItem>
        <ComboBoxItem>Item 3</ComboBoxItem>
        <ComboBoxItem>Item 4</ComboBoxItem>
        <ComboBoxItem>Item 5</ComboBoxItem>
    </wpfProj:ExtendedCombobBox>
</StackPanel> 
```

**并对自定义组合框**进行编码

 **```
public class ExtendedCombobBox:ComboBox
{
    public static readonly DependencyProperty MaxSelectedIndexProperty =
        DependencyProperty.Register("MaxSelectedIndex", typeof (int), typeof (ExtendedCombobBox), new PropertyMetadata(default(int)));

    public int MaxSelectedIndex
    {
        get { return (int) GetValue(MaxSelectedIndexProperty); }
        set { SetValue(MaxSelectedIndexProperty, value); }
    }

    protected override void OnSelectionChanged(SelectionChangedEventArgs e)
    {
        if (Items.IndexOf(e.AddedItems[0]) > MaxSelectedIndex)
            e.Handled = true;
        else
            base.OnSelectionChanged(e);
    }
} 
```

**UPD1。** 或者您可以只使用标准的并订阅 SelectionChanged 事件。但我更喜欢使用 custombobox。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-18T14:58:41.627

返回值不是 int32 而是一个字符串。

```
public string ComboBoxSelectedIndex
    {
        get { return _selectedIndex; }
        set
        {
            if (int.parse(value) < 3)
            {
                _selectedIndex = value;
            }
            OnPropertyChanged("ComboBoxSelectedIndex");
            Trace.WriteLine(ComboBoxSelectedIndex);
        }
    } 
```**

# c# - Xsd2Code 和 xmldsig

> ID：11896941
> 
> 赞同：1
> 
> 时间：2012-08-10T07:06:13.920
> 
> 标签：c#, xsd, xsd2code, xml-dsig

我在使用 Xsd2Code 从 xsd 生成代码时遇到问题。xsd 看起来像这样：

```
<?xml version="1.0" encoding="utf-8"?>
<xs:schema xmlns:ns1="urn:oasis:names:specification:ubl:schema:xsd:CountryIdentificationCode-1.0"
           xmlns:ns2="urn:oasis:names:specification:ubl:schema:xsd:LocationIdentificationCode-1.0"
           xmlns:xs="http://www.w3.org/2001/XMLSchema"
           xmlns:ds="http://www.w3.org/2000/09/xmldsig#"
           elementFormDefault="qualified"
           attributeFormDefault="unqualified">

  <xs:import namespace="http://www.w3.org/2000/09/xmldsig#" schemaLocation="xmldsig.xsd" />

  .......

</xs:schema> 
```

当我尝试序列化生成类的实例时遇到的错误：

```
"Cannot serialize object of type 'MyXSD.SignatureValueType'. 
 Consider changing type of XmlText member 'MyXSD.SignatureValueType.Value' from System.Byte[] to string or string array." 
```

错误发生在这里：

```
[System.Xml.Serialization.XmlTextAttribute(DataType = "base64Binary")]
public byte[] Value
{
    get
    {
        return this.valueField;
    }
    set
    {
        this.valueField = value;
    }
} 
```

如果我将该属性更改为：

```
[System.Xml.Serialization.XmlElementAttribute(DataType="base64Binary")] 
```

..我得到其他错误：

```
Type of choice identifier 'ItemsElementName' is inconsistent with type of 'Items'.
Please use array of System.Collections.Generic.List`1[[MyXSD.ItemsChoiceType2, MyAssembly, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]. 
```

有人成功使用 Xsd2Code 和 xmldsig 吗？如果可能的话，我宁愿用 Xsd2Code 生成器而不是手动解决这个问题。还有其他选择吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-05T03:01:41.703

问题是文件顶部的 DOCTYPE 定义。

```
<!DOCTYPE schema
 [
   <!ATTLIST schema 
     xmlns:ds CDATA #FIXED "http://www.w3.org/2000/09/xmldsig#">
   <!ENTITY dsig 'http://www.w3.org/2000/09/xmldsig#'>
   <!ENTITY % p ''>
   <!ENTITY % s ''>
  ]> 
```

将此注释掉，代码生成将起作用。这个问题在 2009 年被报告给 xsd2code：[https](https://xsd2code.codeplex.com/discussions/45133) ://xsd2code.codeplex.com/discussions/45133 。看来这仍然是一个悬而未决的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T07:24:49.540

您是否尝试过仅使用 xsd.exe ？(http://msdn.microsoft.com/fr-fr/library/x6c1kb0s%28v=vs.80%29.aspx)

您可以使用失败的 xsd 代码部分更新您的问题吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-23T11:57:39.183

在 Xsd2Code 选项中，将选项 'CollectionObjectType' 设置为 'Array' 而不是 'List'。

# java - 如何将json字符串转换为java对象

> ID：11896945
> 
> 赞同：4
> 
> 时间：2012-08-10T07:06:43.273
> 
> 标签：java, json

从 jsp 到 ajax cal 我将 json 字符串传递给服务器，并且我正在转换为 json 对象。如何将 jsonobject 转换为 java 中的模型类对象？

在服务器中，我正在这样做：

```
 HttpServletRequest request = ServletActionContext.getRequest();
 String jsonData = request.getParameter("JsonData");
 JSONObject jsonDataObject = (JSONObject) JSONSerializer.toJSON( jsonData ); 
```

我的模型类如下所示：

```
 public class Vehicles {

private List<Vehicle> vehicle;

public List<Vehicle> getVehicle() {
    return vehicle;
}

public void setVehicle(List<Vehicle> vehicle) {
    this.vehicle= vehicle;
}

    } 
```

和

```
 public class Vehicle{
    private Integer vId;
   private String VName;
    private List<Department> department;
   //getters and setters;
    } 
```

和

```
 public class Department{
    private Integer depId;
private String departmentName;
private List<Item> item;
   //getters and setters
   } 
```

和

```
 public class Item{
  private Integer itemId;
  private String itemName;
  //getters and setters
   } 
```

我得到 jsonData String 作为

```
{"vehicles":[{"vehicle":[{"department":[{"Item":[{"itemId":31,"itemName":"c7"},{"itemId":32,"itemName":"c2"}],"depId":21,"departmentName":"d1"}],"vId":11,"VName":"aaa"},{"department":[{"Item":[{"itemId":33,"itemName":"c3"},{"itemId":34,"itemName":"c4"}],"depId":22,"departmentName":"d2"},{"Item":[{"itemId":36,"itemName":"c1"}],"depId":24,"departmentName":"d3"}],"vId":12,"VName":"bbbb"},{"department":[{"Item":[{"itemId":30,"itemName":"c6"},{"itemId":35,"itemName":"c5"}],"depId":23,"departmentName":"d4"}],"vId":13,"VName":"cccc"},{"department":[{"Item":[{"itemid":37,"itemName":"c8","status":0}],"depId":25,"departmentName":"d5"}],"vId":14,"VName":"ddd"}]}]} 
```

如何在 java 中将 JSONObject jsonDataObject（或 String jsonData）转换为模型类对象（即车辆）？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-16T10:04:37.300

用这个..

```
 import org.codehaus.jackson.map.ObjectMapper;
  import org.json.JSONException;
  import org.json.JSONObject; 

HttpServletRequest request = ServletActionContext.getRequest();
Vehicles vehicles;
String jsonData = request.getParameter("JsonData");
jsonData = jsonData.substring(13, jsonData.length()-2);
ObjectMapper mapper = new ObjectMapper();
try{
    vehicles= mapper.readValue(jsonData, Vehicles.class);
}
catch (Exception e) {
    e.printStackTrace();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T07:38:43.877

对于转换（字符串 jsonData），我更喜欢[Gson](http://code.google.com/p/google-gson/)

就像是，

```
 Gson gsonObj = new Gson();
 Vehicles vehicles = gsonObj.fromJson(jsonData, Vehicles.class);
 iterate through this list 
```

# android - 剪切音频文件

> ID：11896948
> 
> 赞同：3
> 
> 时间：2012-08-10T07:07:03.340
> 
> 标签：android, audio

> **可能重复：**
> [编辑音频/重新录制文件的一部分](https://stackoverflow.com/questions/8069769/editing-audio-rerecording-part-of-a-file)

我需要剪切一个音频文件，可以在 sdcard 上找到。剪切意味着我想取一段音频文件来设置铃声。我可以设置铃声，但是如何从任何位置剪切音频文件？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T08:52:38.983

基本上用纯Android SDK，是不可能的。我们必须使用 Java，如果有人不想从头开始，他/她可以使用[Ringdroid](http://code.google.com/p/ringdroid/)开源项目。

# iphone - 手势识别器，奇怪的行为（乘数效应）iOS

> ID：11896949
> 
> 赞同：0
> 
> 时间：2012-08-10T07:07:06.637
> 
> 标签：iphone, ios, xcode, ipad, uigesturerecognizer

我正在尝试将手势识别器添加到视图中。当我同时添加平移（移动）和捏（缩放）时，我得到了一些奇怪的行为。

在视图（恰好包含一个 imageView）被缩放后，平移手势识别器似乎增加了移动的效果。或者它仍然假设原始比例，所以移动速度比它应该的要快？

以下是移动和缩放方法的代码：

```
//ivars for gesture recognizers/transforms
CGFloat scale;
CGFloat rotation;
CGPoint translatedPoint;
CGFloat _lastScale;
CGFloat _lastRotation;  
CGFloat _firstX;
CGFloat _firstY;

-(void)scale:(id)sender {
    if([(UIPinchGestureRecognizer*)sender state] == UIGestureRecognizerStateBegan) {
        _lastScale = 1.0;
    }
    scale = 1.0 - (_lastScale - [(UIPinchGestureRecognizer*)sender scale]);
    CGAffineTransform currentTransform = gestureView.transform;
    CGAffineTransform newTransform = CGAffineTransformScale(currentTransform, scale, scale);
    [gestureView setTransform:newTransform];
    _lastScale = [(UIPinchGestureRecognizer*)sender scale];
    NSLog(@"gestureView origin x: %f, y: %f", gestureView.frame.origin.x, gestureView.frame.origin.y);
    NSLog(@"gestureView center x: %f, y: %f",[gestureView center].x, [gestureView center].y);
    NSLog(@"gestureView scale x: %f, scale y: %f", gestureView.frame.size.width, gestureView.frame.size.height);

}

-(void)move:(id)sender {
    translatedPoint = [(UIPanGestureRecognizer*)sender translationInView:gestureView];
    if([(UIPanGestureRecognizer*)sender state] == UIGestureRecognizerStateBegan) {
        _firstX = [gestureView center].x;
        _firstY = [gestureView center].y;
    }
    translatedPoint = CGPointMake(_firstX+translatedPoint.x, _firstY+translatedPoint.y);
    [gestureView setCenter:translatedPoint];
    NSLog(@"gestureView origin x: %f, y: %f", gestureView.frame.origin.x, gestureView.frame.origin.y);
    NSLog(@"gestureView center x: %f, y: %f",[gestureView center].x, [gestureView center].y);
} 
```

这是项目： [owolf.net/uploads/StackOverflow/GestureRecognizerTest.zip](http://owolf.net/uploads/StackOverflow/GestureRecognizerTest.zip)

谢谢阅读！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T08:36:59.847

您要求在手势视图中进行翻译，这将为您提供缩放的翻译。如果将手势视图缩小到 50%，则沿 x 轴移动 10 像素将在 translatePoint 值中给出 x=20，因为“外部”的 10 像素在缩小（“更高分辨率”）手势视图上翻倍。

然后，您将其应用到gestureView 的框架（center 只是一种将框架设置为的便捷方法`center.x - frame.size.width/2, center.y - frame.size.height/2, frame.size`），这意味着它会受到比例的影响。

您可能想要做的是将`translationInView:`调用更改为 look in `gestureView.superview`，而不是更改其`gestureView`本身。

# php - 使用 AJAX 调用控制器时，在 Symfony 1.4 中将值写入/设置/更改到用户会话中的替代方法？

> ID：11896953
> 
> 赞同：2
> 
> 时间：2012-08-10T07:07:18.343
> 
> 标签：php, symfony1, symfony-1.4

我开始这篇[文章](https://stackoverflow.com/questions/11825664/how-to-use-symfony-get-setattribute-on-nested-session-attributes/11826516#11826516)是为了了解如何从用户会话（Symfony 1.4）中获取/设置值。Get 可以完美运行，但 Set 永远无法正常工作。我可以在调试模式中看到全局会话（$_SESSION）已更新，但用户会话没有。我尝试[了这种方式](https://stackoverflow.com/questions/2656570/symfony-1-4-storing-an-array-in-session-with-setattribute?rq=1)，[这种方式](https://stackoverflow.com/questions/7482002/session-deletion-in-symfony-1-4)，[另一种](https://stackoverflow.com/questions/7493636/storing-session-data)方式，至少[这个](https://stackoverflow.com/questions/10210147/symfony-1-4-how-to-manipulate-the-attributeholder)......没有成功。我从未从 Symfony 1.4 中读到过这样的错误。我使用浏览器（linux）Firefox和Chrome（我也将它测试到匿名标签中）。

**调试方式用户看起来像：**

```
attributeHolder:
myNS: { 
     aValue: '15', 
     ns_15: { 
         Tel: '78568951', 
         myID: '15', 
         anotherID: '120', 
         anArray: [{ 
             arrayID: '78', 
             Company: 'myComp'
         }] }, 
     ns_17: { ... } 
} 
```

我可以更改**aValue**属性，删除并重新插入它。但是**ns_15**或**ns_17**可以删除或更改，但此更改不能影响（symfony 调试模式）**用户**，但只需进入**$_SESSION**（symfony 调试模式**全局**）我可以看到更新的值。

是否有另一种方法可以使用 symfony 1.4 设置/更改/删除或将值写入用户会话，或者它是 Symfony 错误？

**编辑1**

直到我看到这个[错误](http://trac.symfony-project.org/ticket/1257)和这个[博客](http://garethmccumskey.blogspot.de/2009/10/php-session-write-locking-and-how-to.html)，我才弄清楚！好吧，我正在使用 AJAX 来调用控制器。所以这可能是我不能在 Session 上写的原因。另一种我不能真正继承 sfWebResponse 的方式是因为我的操作已经是 sfActions 的子类。:(

**编辑2**

因为**Edit1**我试图做到这一点：

```
 $sessionData = $this->getUser()->getAttribute("ns_15", array(), "myNS");//all good
  $sessionData["Tel"] = "0111111110";
  var_dump($sessionData["Tel"]);//show me 0111111110
  $this->getUser()->setAttribute("ns_15", $sessionData, "myNS");
  $this->getUser()->shutdown();
  sfContext::getInstance()->getStorage()->shutdown(); 
```

解决了两次重新加载的行为，但仍然无法写入 $_SESSION 和 USER SESSION。（[同样的麻烦](https://stackoverflow.com/questions/9699284/send-two-ajax-request-at-the-same-time-in-symfony)）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T10:39:54.320

我尝试总结如何操作用户属性（请注意，这与修改`$_SESSION`全局不同，请参阅我的评论[以](https://stackoverflow.com/questions/11898511/symfony-1-4-session-vs-session-issues)了解原因）。

```
// set a singe value in a namespace
$this->getUser()->setAttribute('aValue', 15, 'myNS');
// set an array in a namespace
$this->getUser()->setAttribute('ns_15', array('Tel' => '78568951', 'myID' => '15', 'anotherID' => '120', 'anArray' => array(array('arrayID' => '78', 'Company' => 'myComp'))), 'myNS');

// get the array from a namespace
$attributes = $this->getUser()->getAttribute('ns_15', array(), 'myNS');
// modify some value in the array
$attributes['Tel'] = '12345';
// remove some value from the array
unset($attributes['myID']);
// ... and save your changes back
$this->getUser()->setAttribute('ns_15', $attributes, 'myNS');
// remove the whole array from the namespase
$this->getUser()->getAttributeHolder()->remove('ns_15', null, 'myNS');
// remove the whole namespace
$this->getUser()->getAttributeHolder()->removeNamespace('myNS'); 
```

您也可以访问整个命名空间：

```
// get all attributes from a namespace
$allAttributes = $this->getUser()->getAttributeHolder()->getAll('myNS');
// manipulate the whole namespace here...
// ...and save your changes back
$this->getUser()->getAttributeHolder()->add($allAttributes, 'myNS'); 
```

如果您在同一个命名空间上工作并且想要省略命名空间参数：

```
$originalDefaultNs = $this->getUser()->getAttributeHolder()->getDefaultNamespace();
$this->getUser()->getAttributeHolder()->setDefaultNamespace('myNS', false);
// ...
$attributes = $this->getUser()->getAttribute('ns_15', array());
// ...
// don't forget to set back the original ns
$this->getUser()->getAttributeHolder()->setDefaultNamespace($originalDefaultNS, false); 
```

我知道这真的很冗长，但我认为在 symfony 中没有其他方法可以做到这一点。你可以在`sfNamespacedParameterHolder`课堂上抢购一下，看看这些功能是如何工作的。

# java - 强制子类在抽象 java 类中包含常量

> ID：11896955
> 
> 赞同：14
> 
> 时间：2012-08-10T07:07:24.510
> 
> 标签：java, inheritance, constants

我有一个抽象类，我希望所有子类都根据实现定义一个常量——它主要是关于类实现的元数据。

在超类中：

```
protected static final String OBJECT_NAME;
protected static final String OBJECT_DEF; 
```

然后在子类中：

```
protected static final String OBJECT_NAME = "awesome class";
protected static final String OBJECT_DEF = "an awesome class that is also great"; 
```

有没有办法强制类的实现声明一个常量？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-10T07:17:12.677

您可以强制子类定义一个方法，该方法可以是该类的常量。

```
protected abstract String objectName();
protected abstract String objectDef(); 
```

注意：如果您有子类的子类，这些子类可能会“忘记”覆盖这些方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T07:24:26.637

这不会那样工作。我将这些定义为抽象函数：

```
protected abstract String objectName();
protected abstract String objectDef(); 
```

在子类中：

```
private static final String OBJECT_NAME = "awesome class";
private static final String OBJECT_DEF = "bla";

protected String objectName(){
    return OBJECT_NAME;
}

protected String objectDef(){
    return OBJECT_DEF;
} 
```

方法不是`static`，但我认为这是最接近你想要的方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-10T07:39:26.813

最好选择一个**接口**，因为您对超类没有合理的默认值：

```
interface HasObjectNameAndDef {
    public String getObjectName();
    public String getObjectDef(); 
} 
```

然后让你的实际类实现接口。作为奖励，您将获得更灵活的测试。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-03-03T13:29:53.303

这是另一种方法。我喜欢它，因为它很严格，允许我们将大部分代码（包括 getter）放入父类中，使其子类保持整洁。

```
abstract class Parent {
    private final int age;
    private final String name;

    Parent(int age, String name) {
        this.age = age;
        this.name = name;
    }

    int getAge() {
        return age;
    }
}

class Child extends Parent {

    Child() {
        super(18, "John");
        // any other Child specific constructor logic
    }
}

class Main {
    public static void main(String[] args) {
        var child = new Child();
        System.out.println(child.getAge()); // Will print 18
    }
} 
```

注意：`Child`不继承`Parent`的构造函数，因此在初始化时不存在意外使用 wearg 构造函数的危险`Child`。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-10T07:13:11.893

不，你不能。

你甚至不能在你的抽象超类中声明常量而不给它们分配具体的值。在其他情况下，您将收到错误消息。您应该在声明期间或在类构造函数中初始化 final 字段。

您可以声明将初始化变量的抽象方法（但这会更加模糊）。像这样：

```
protected String OBJECT_NAME = getObjectNameValue();

public abstract String getObjectNameValue(); 
```

但在这种情况下，您的变量和方法不应该是静态的。因为您不能将静态方法定义为抽象的（[在此处查找解释](https://stackoverflow.com/questions/370962/why-cant-static-methods-be-abstract-in-java)）。

或者您可以像 Peter Lawrey 建议的那样直接使用方法而不是变量，这将更具可读性。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2015-07-24T22:07:02.927

我知道你在说什么。

例如，我想要一个接口（我称之为 ExecutableList）有一个名为`USER_FRIENDLY_NAME`

```
public interface ExecutableList<T extends ExecutableList<T,E>,E> //This is type parameter
    extends List<E>,                                             //self referencing. Trust
            Comparable<E>,                                       //me, it has its uses.
{
  /** This would declare a constant but leave it to sub-interfaces/classes to define it. */
  abstract String USER_FRIENDLY_NAME;

  //Define the rest of your interface

} 
```

不幸的是，这在 Java 中是不可能的。当您在 Java 接口中声明一个字段时，它意味着修饰符`public`、`static`和`final`. 未来可能会允许添加对 Java 编程语言的更改`abstract`，从而制作隐含的修饰符`public abstract static final String USER_FRIENDLY_NAME;`，但是虽然您可以为此明确定义规则，但该词的使用`abstract`会令人困惑，因为`abstract`通常`final`理解为定义相反的含义。

我正在祈祷未来版本的 Java 将实现这一点。我听说 Java 9 将添加私有接口方法（用于在默认方法之间使用），但还没有关于该语言添加的消息。我敢肯定，首先要考虑许多向后兼容性问题。如果 Oracle 的任何人读到此内容，请让我们在接口中声明常量并让继承类/接口定义它们！！！

同时，您唯一的选择是`String getUserFriendlyName();`在您的接口或抽象类中定义一个方法。没有那么优雅，也许没有那么高效，但你目前没有其他选择。

# android - Square Drawable，使其成为圆角矩形

> ID：11896956
> 
> 赞同：0
> 
> 时间：2012-08-10T07:07:24.980
> 
> 标签：android, xml

我有一个方形可绘制选择器。我想把它做成一个基于一定的圆角矩形`View`。有人知道如何实现这一目标吗？我正在使用这个drawable`android:background`

编辑：对不起，我忘了提及，可绘制的意思是PNG文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T12:32:08.247

您必须制作两个略有不同的 XML 文件。如果它与您正在使用的视图匹配，则使用一个，如果不使用另一个...在您创建的新 XML 中，基本上复制并粘贴您已经拥有的那个（可能将“_rounded”附加到文件名的末尾） . 然后，在你想要圆角的文件中......只需添加这条线，并根据你认为合适的方式调整它（在倾角中）。

```
<corners
    android:radius="4dip"
    /> 
```

[编辑]

如果是这种情况，您需要制作 2 个单独的 .9.png 图像。一个是方形的，一个是圆形的。使用我为上述 XML 提到的类似命名约定。使用相同的测试语句...

```
if(viewMeetsCriteria)
    otherView.setBackgroundResource(R.drawable.square);
else
    otherView.setBackgroundResource(R.drawable.square_rounded); 
```

有关创建 .9.png 文件的更多信息，请参阅 google 教程。9 补丁工具在您的 {sdkdir}/tools/ 中。9 补丁图像是可以根据占用的空间量自由拉伸的图像，不会看起来不连贯或强迫您制作多个不同的图像。此处的开发页面信息：http: [//developer.android.com/tools/help/draw9patch.html](http://developer.android.com/tools/help/draw9patch.html)

# java - 在 Eclipse 中更改类路径

> ID：11896958
> 
> 赞同：5
> 
> 时间：2012-08-10T07:07:31.027
> 
> 标签：java, eclipse, classpath

我最近卸载`jre7`并安装了`jre6`，因为我的项目需要它。但是现在我的程序显示类路径错误。如何更改 Eclipse 中的类路径？

错误是：

> 归档：类路径引用的 C:/Program Files/Java/jdk1.7.0_05/lib/tools.jar 不存在。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-10T07:31:52.187

要在 Eclipse 中更改项目 JRE，您必须进入项目特定设置（在 Package Explorer 中选择项目文件夹，然后进入项目，然后单击属性），您将在其中找到 Java Build Path 相关设置。

在项目设置的构建路径部分，您必须进入库选项卡：

![在此处输入图像描述](../Images/c1b509433b35907e606543d34a2c376c.png)

从这里，您必须双击 JRE System Library 并将执行环境更改为 JavaSe 1.6：

![JRE编辑](../Images/79cc04a8cb51444a87fdc59e6d79f87d.png)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-08-10T07:30:00.020

由于**tools.jar**是一个 JDK 库，您可以通过配置执行环境为所有项目添加它。在**Preferences**中转到**Java** > **Installed JREs**选择您的 JDK 并单击**Edit** ...。在新对话框中，您可以将**tools.jar**等外部 jar 添加到执行环境中。我希望您已经安装了 JDK 1.6，而不仅仅是您在问题中所写的 JRE 1.6。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-03-17T11:16:28.070

将您自己的类路径添加到 eclipse 中： `Project->Run/Debug Settings->Edit->Classpath`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-10T07:18:14.427

添加或编辑您的 Eclipse 类路径变量。它位于 Eclipse 的 Window > Preferences > Java > Build Path 目录下。例如；

```
 JDK_HOME - C:/Program Files/Java/jdk1.6.0_24 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-10T07:18:35.863

右键单击项目->构建路径->配置构建路径

...然后您可以更改项目的 jre（可能从 jre7 到 jr6）并删除所有其他不再存在的库。

# c++ - std::vector 中的自定义分配器

> ID：11896960
> 
> 赞同：30
> 
> 时间：2012-08-10T07:07:33.667
> 
> 标签：c++, stl, c++11, allocator

是否可以使用自定义分配器进行`std::vector`内部分配？如果是，如何？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-08-10T07:13:28.277

您基本上必须实现分配器类型以符合[*分配器概念*](http://en.cppreference.com/w/cpp/named_req/Allocator)。

链接页面列出了该类型的所有需求，但核心功能在`allocate`成员函数中实现。

# android - Android-如何在列表视图的页脚中添加网格视图

> ID：11896964
> 
> 赞同：3
> 
> 时间：2012-08-10T07:07:55.037
> 
> 标签：android, gridview, scrollview

![在此处输入图像描述](../Images/47b6a96601f16812b8b35fd90e293433.png)

我有一个网格视图，我想在列表视图的页脚中添加它，因为我希望这个页面应该具有整页滚动功能。

这是我的代码，我正在使用我的网格视图适配器设置我的网格视图，但它在页脚中显示为空白。我有两个 xml，一个用于标题，另一个仅用于网格视图。

GalleryGridViewAdapter

```
public class GalleryMainActivityGridViewAdapter extends BaseAdapter {

    /**
     * Description:Declare the UI components.
     */
    private Context mContextGridView;
    private GallerySmartLazyLoader sl;
    ArrayList<HashMap<String, String>> galleryArray;

    /**
     * This method is use to set object that will control the listview
     * 
     * @param c
     * @param resultArray
     * 
     */

 public GalleryMainActivityGridViewAdapter(Context c, ArrayList<HashMap<String,String>>              
        resultArray) { 
            mContextGridView = c;
        galleryArray = new ArrayList<HashMap<String, String>>();
        galleryArray = resultArray;
        sl = new GallerySmartLazyLoader(mContextGridView);
    }

    public int getCount() {

        return galleryArray.size();
    }

    public Object getItem(int position) {

        return null;
    }

    public long getItemId(int position) {

        return 0;
    }

    /**
     * Description:This method returns a bitmap related to drawable.
     * 
     * @param bitmapUrl
     *            to set the background on detail page
     * 
     */
public Bitmap getBitmap(String bitmapUrl) {

        URL url;
        try {
            System.out.println("bitmapUrl :" + " bitmapUrl : " + bitmapUrl);
            url = new URL(bitmapUrl);
            return        BitmapFactory.decodeStream(url.openConnection().getInputStream());

        } catch (Exception ex) {
            ex.printStackTrace();
        }
        return null;
    }

    // create View for each item referenced by the Adapter
    public View getView(int position, View convertView, ViewGroup parent) {

        View MyView = convertView;

        if (convertView == null) {
            /* create a new view of our layout and inflate it in the row */

            // Inflate the layout
            LayoutInflater inflater = (LayoutInflater) mContextGridView.getSystemService(Context.LAYOUT_INFLATER_SERVICE);

            MyView = inflater.inflate(R.layout.gallery_main_page_grid_item, null);

            // Initialize the UI components
            ImageView imgView_Grid_PlayVideo = (ImageView) MyView.findViewById(R.id.imgView_Grid_PlayVideo);
            ImageView imgView_Grid_Thumbnail_Gallery = (ImageView) MyView.findViewById(R.id.imgView_Grid_Thumbnail_Gallery);
            TextView txtView_Grid_Views_Gallery = (TextView) MyView.findViewById(R.id.txtView_Grid_Views_Gallery);
            Typeface txtViewForViews = Typeface.createFromAsset(MyView.getContext().getAssets(), "fonts/arial.ttf");
            txtView_Grid_Views_Gallery.setTypeface(txtViewForViews);

            TextView txtView_Grid_Name_Gallery = (TextView) MyView.findViewById(R.id.txtView_Grid_Name_Gallery);
            Typeface txtViewForName = Typeface.createFromAsset(MyView.getContext().getAssets(), "fonts/arial_bold.ttf");
            txtView_Grid_Views_Gallery.setTypeface(txtViewForName);

            ImageView imgView_GridItem_Gallery = (ImageView) MyView.findViewById(R.id.imgView_GridItem_Gallery);

            // This will set the item coming from API
            imgView_Grid_Thumbnail_Gallery.setImageBitmap(getBitmap(galleryArray.get(0).get("publicUrl") + "/11"));
            txtView_Grid_Views_Gallery.setText(galleryArray.get(position).get("hits") + " views");
            txtView_Grid_Name_Gallery.setText(galleryArray.get(position).get("user_name"));
            imgView_GridItem_Gallery.setScaleType(ImageView.ScaleType.FIT_XY);
            imgView_GridItem_Gallery.setPadding(0, 0, 0, 0);
            String url = galleryArray.get(position).get("thumbUrl") + "/13";
            imgView_GridItem_Gallery.setTag(url);
            sl.DisplayImage(url, (Activity) mContextGridView, imgView_GridItem_Gallery);

            if (galleryArray.get(position).get("filetype").toString().equals("1")) {
                imgView_Grid_PlayVideo.setVisibility(View.GONE);
            } else {
                imgView_Grid_PlayVideo.setVisibility(View.VISIBLE);
            }

        }

        return MyView;
    }

} 
```

图库登录MainActivity

```
protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.gallary_login_main_page_list);
    data = new ArrayList<ArrayList<HashMap<String, String>>>();
    lstGallaryMain = (ListView) findViewById(R.id.lstGallaryMain);
    inflater = (LayoutInflater)this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);

    init(this, R.id.main, getIntent());

    if (!Connection()) {
        Context context = getApplicationContext();
        CharSequence text = "Sorry you need an Internet connection!  Please try again when the network is available.";
        Toast toast = Toast.makeText(context, text, Toast.LENGTH_LONG);
        toast.show();
        finish();

    } else {

        /*
         * 
         * This method is used to Show The loading dialog till the data
         * loads for main page.
         */

        new AsyncTask<Void, Void, Void>() {
            protected void onPreExecute() {
                loadingDialog = ProgressDialog.show(GallaryLoginMainActivity.this, getResources().getString(R.string.app_name), "Loading...");
            }

            @Override
            protected Void doInBackground(Void... params) {
                loadDataFromServer();
                return null;
            };

            protected void onPostExecute(Void result) {

                View footerView = inflater.inflate(R.layout.test_media, null);

                GalleryMainActivityGridViewAdapter galleryMainActivityGridViewAdapter = new GalleryMainActivityGridViewAdapter(GallaryLoginMainActivity.this,userDataActivity);

                GridView gridView = (GridView)footerView.findViewById(R.id.gridview_Gallery);
                gridView.setAdapter(galleryMainActivityGridViewAdapter);
                lstGallaryMain.addFooterView(gridView);

                ((GalleryMainActivityGridViewAdapter)(galleryMainActivityGridViewAdapter)).notifyDataSetChanged();
                lstGallaryMain.setAdapter(new GalleryCustomAdapterForMainPage<T>(GallaryLoginMainActivity.this, data));
                ((BaseAdapter)(lstGallaryMain.getAdapter())).notifyDataSetChanged();
                lstGallaryMain.addFooterView(gridView);
                GallaryLoginMainActivity.this.onContentChanged();

                if (loadingDialog != null && loadingDialog.isShowing()) {
                    loadingDialog.dismiss();
                }
            };
        }.execute();
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-14T06:32:12.123

最后我得到了我自己的问题的答案我已经使用 android 查询库创建了新的适配器，并在我的屏幕上实现了新的网格视图适配器，并发现滚动视图更加平滑的好结果......

这是我的代码

```
public class GalleryMainActivityGridViewAdapter extends BaseAdapter {

    AQuery listAQ;
    Context mContext;
    int layoutResourceId;
    ArrayList<HashMap<String, String>> dataArray;

    public GalleryMainActivityGridViewAdapter(Context context, ArrayList<HashMap<String, String>> resultArray) {
        this.mContext = context;
        // this.layoutResourceId = layoutId;
        this.dataArray = resultArray;
        listAQ = new AQuery(mContext);
        // aa = new ArrayAdapter<Photo>(mContext, layoutResourceId);
    }

    public int getCount() {
        return dataArray.size();
    }

    public Object getItem(int position) {
        return position;
    }

    public long getItemId(int position) {
        return 0;
    }

    @SuppressWarnings("deprecation")
    public View getView(int position, View convertView, ViewGroup parent) {

        if (convertView == null) {
            convertView = ((LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.gallery_main_page_grid_item, parent, false);
        }
        Holder holder = new Holder();

        AQuery aq = listAQ.recycle(convertView);

        holder.imgView_Grid_Thumbnail_Gallery = (ImageView) convertView.findViewById(R.id.imgView_Grid_Thumbnail_Gallery);

        if (holder.imgView_Grid_Thumbnail_Gallery != null) {
            aq.id(holder.imgView_Grid_Thumbnail_Gallery.getId()).image(dataArray.get(position).get("thumbUrl") + "/11");
        }

        holder.txtView_Grid_Name_Gallery = (TextView) convertView.findViewById(R.id.txtView_Grid_Name_Gallery);
        if (holder.txtView_Grid_Name_Gallery != null) {
            aq.id(holder.txtView_Grid_Name_Gallery.getId()).text(dataArray.get(position).get("user_name"));
            Typeface txtViewForName = Typeface.createFromAsset(convertView.getContext().getAssets(), "fonts/arial_bold.ttf");
            holder.txtView_Grid_Name_Gallery.setTypeface(txtViewForName);

        }

        holder.imgView_GridItem_Gallery = (ImageView) convertView.findViewById(R.id.imgView_GridItem_Gallery);

        if (holder.imgView_GridItem_Gallery != null) {

            Bitmap cachedImage = aq.getCachedImage(R.drawable.loading);
            String publicUrl = dataArray.get(position).get("publicUrl") + "/13";
            if (aq.shouldDelay(convertView, parent, publicUrl, 0)) {
                aq.id(holder.imgView_GridItem_Gallery.getId()).image(cachedImage, 0.75f);
            } else {
                aq.id(holder.imgView_GridItem_Gallery.getId()).image(publicUrl, true, true, 0, 0, cachedImage, 0, 0.75f);
            }
        }

        // if (holder.txtView_Grid_Views_Gallery != null) {
        //
        // }
        holder.imgView_Grid_PlayVideo = (ImageView) convertView.findViewById(R.id.imgView_Grid_PlayVideo);
        if (holder.imgView_Grid_PlayVideo != null) {

            if (dataArray.get(position).get("filetype").toString().equals("1")) {
                holder.imgView_Grid_PlayVideo.setVisibility(View.GONE);
            } else {
                holder.imgView_Grid_PlayVideo.setVisibility(View.VISIBLE);
            }
        }

        return convertView;

    }

    class Holder {
        ImageView imgView_Grid_PlayVideo;
        ImageView imgView_Grid_Thumbnail_Gallery;
        TextView txtView_Grid_Views_Gallery;
        TextView txtView_Grid_Name_Gallery;
        ImageView imgView_GridItem_Gallery;
    }

} 
```

# php - 从 facebook 登录弹出窗口与父母沟通

> ID：11896967
> 
> 赞同：1
> 
> 时间：2012-08-10T07:07:59.857
> 
> 标签：php, facebook, facebook-php-sdk, popupwindow, postmessage

我在 Magento 服务器上有一个产品页面。有这样一种情况，用户单击按钮并在该页面上显示加载程序，如果他没有登录 Facebook，则会使用 Facebook PHP-SDK 打开一个弹出窗口，要求用户登录。负责的 PHP-SDK打开此登录弹出窗口托管在另一台服务器上，而不是 Magento 服务器上。一旦用户登录 Facebook，我需要一种与父页面通信的方法，以便我可以隐藏加载程序。到目前为止，发生的情况是，一旦用户使用弹出窗口登录，弹出窗口就会关闭，并且没有响应返回到 Magento 服务器上的产品页面。因此，没有确认弹出窗口关闭。

我已经尝试过 easyXDM 和 postmessage jquery 插件，但它们都不能将弹出窗口的响应发送回父页面。它适用于在触发事件的同一页面上请求响应的情况，即使对于跨域也是如此。但是，如果打开弹出窗口，它就不起作用。

我不确定这是否可以实现。但如果有办法，我会很高兴得到一些帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T07:40:06.810

Facebook SDK for PHP 可以与 Facebook SDK for Javascript 结合使用，在应用程序的客户端和服务器端提供无缝会话管理。

在您现有的代码中检查是否存在以下代码。如果不添加并检查结果。

```
<div id="fb-root"></div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: '<?php echo $facebook->getAppID() ?>',
      cookie: true,
      xfbml: true,
      oauth: true
    });
    FB.Event.subscribe('auth.login', function(response) {
      window.location.reload();
      // you can specify your location also.
    });
    FB.Event.subscribe('auth.logout', function(response) {
      window.location.reload();
      // you can specify your location also.
    });
  };
  (function() {
    var e = document.createElement('script'); e.async = true;
    e.src = document.location.protocol +
      '//connect.facebook.net/en_US/all.js';
    document.getElementById('fb-root').appendChild(e);
  }());
</script> 
```

# asp.net - 在 Web.Config 中添加 HtmlHelper 命名空间不起作用

> ID：11896977
> 
> 赞同：2
> 
> 时间：2012-08-10T07:08:50.860
> 
> 标签：asp.net, asp.net-mvc, visual-studio-2010, razor, html-helper

## 问题 1：

我已经开始学习 ASP.NET MVC。我做了一个简单的扩展方法，像这样：

```
namespace MvcTestz  //Project is also named as "MvcTestz"
{
  public static class SubmitButtonHelper //extension method.
  {
    public static string SubmitButton(this HtmlHelper helper,string buttonText)
    {
        return string.Format("<input type=\"submit\" value=\"{0}\">",buttonText);
    }
  }
} 
```

然后我将自定义 HtmlHelper 的名称空间添加到 中`Web.Config`，就像这样

```
 <namespaces>
    <!--other namespaces-->
    <add namespace="MvcTestz"/>
    <!--other namespaces-->
  </namespaces> 
```

这样我就可以在 razor 视图中使用智能感知，但它自定义的 Helper 没有出现在一个视图`(Home/View/About.cshtml)`中。

![在此处输入图像描述](../Images/414dc5d6ef39e9d4d195c591ec3824b0.png)

所以在另一个视图中，`(Home/View/Index.cshtml)`我按`@using MvcTestz;`语句添加了命名空间。

## 问题 2：

在 WebApp 执行时主页`(Home/View/Index.cshtml)`显示输入按钮文本而不将其呈现为 HTML。

![在此处输入图像描述](../Images/c6057df7455b6908cc9b8fd39a0e4208.png) 在关于页面`(Home/View/About.cshtml)`服务器上生成错误。[（点击放大）](https://i.stack.imgur.com/4vJJw.jpg) ![在此处输入图像描述](../Images/8306bc0076378a6856c2c316c0a0ddee.png)

## 更新：

1.  Intellisense 问题解决了，我不得不编辑 View Directory 中的 Web.Config。解决了。
2.  `HtmlString`如果我想渲染一个 Html 按钮，应该使用它。解决了。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-10T07:17:59.787

**问题1：**

Razor 命名空间应`<system.web.webPages.razor>`在 web.config 的节点中注册：

```
 <system.web.webPages.razor>
    <host factoryType="System.Web.Mvc.MvcWebRazorHostFactory, System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
    <pages pageBaseType="System.Web.Mvc.WebViewPage">
      <namespaces>
        <add namespace="System.Web.Mvc" />
        <add namespace="System.Web.Mvc.Ajax" />
        <add namespace="System.Web.Mvc.Html" />
        <add namespace="System.Web.Routing" />
        <add namespace="MvcTestz"/>

      </namespaces>
    </pages>
  </system.web.webPages.razor> 
```

**问题 2：**在您的帮助程序中使用`HtmlString`而不是字符串：

```
public static HtmlString SubmitButton(this HtmlHelper helper, string buttonText)
{
    return new HtmlString(string.Format("<input type=\"submit\" value=\"{0}\">", buttonText));
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T07:30:57.150

尝试这样的事情，

对于您的扩展方法，请使用`MvcHtmlString.Create`

```
public static MvcHtmlString MySubmitButton(this HtmlHelper helper, string buttonText)
{
  return MvcHtmlString.Create("<input type='submit' value='" + buttonText + "' />");
} 
```

并包括您的参考见下文

```
 <system.web.webPages.razor>
    <namespaces>
        <!- add here.....  -->
        <add namespace="MvcTestz"/>

      </namespaces>        
  </system.web.webPages.razor> 
```

# objective-c - osx 中的帧缓冲区

> ID：11896979
> 
> 赞同：1
> 
> 时间：2012-08-10T07:09:18.083
> 
> 标签：objective-c, macos, opengl, framebuffer

我正在尝试在我的应用程序中开始使用帧缓冲区。我休学了 Apple 教程[Using a Framebuffer Object as a Texture](https://developer.apple.com/library/mac/#documentation/graphicsimaging/Conceptual/OpenGL-MacProgGuide/opengl_offscreen/opengl_offscreen.html)。我的代码如下所示：

头文件中的某处：

```
GLuint framebuffer, texture;
GLenum status; 
```

和 .m 文件：

```
-(void)initFBO {
    glGenFramebuffersEXT(1, &framebuffer);
    glBindFramebufferEXT(GL_FRAMEBUFFER_EXT, framebuffer);
    glGenTextures(1, &texture);
    glBindTexture(GL_TEXTURE_2D, texture);
    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);
    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);
    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA8, width, height, 0,
                 GL_RGBA, GL_UNSIGNED_BYTE, NULL);
    glFramebufferTexture2DEXT(GL_FRAMEBUFFER_EXT, GL_COLOR_ATTACHMENT0_EXT,
                              GL_TEXTURE_2D, texture, 0);
    status = glCheckFramebufferStatusEXT(GL_FRAMEBUFFER_EXT);
    if (status != GL_FRAMEBUFFER_COMPLETE_EXT) {
        NSLog(@"failed");
    } else {
        NSLog(@"success");
    }
    glBindFramebufferEXT(GL_FRAMEBUFFER_EXT, 0);
}

-(void)someDrawingFunc {
glBindFramebufferEXT(GL_FRAMEBUFFER_EXT, framebuffer);
glClearColor(0.0, 0.0, 1.0, 1.0);
glClear(GL_COLOR_BUFFER_BIT);
    glEnable(GL_BLEND);
    glBlendFunc(GL_ONE, GL_ZERO);
    glEnable(GL_TEXTURE_2D);
    glBindTexture(GL_TEXTURE_2D, someTexture);
    glBegin(GL_QUADS);
    glTexCoord2f(0.0f, 0.0f);
    glVertex2f(0.0, height);
    glTexCoord2f(0.0f, 1.0f);;
    glVertex2f(0.0, 0.0);
    glTexCoord2f(1.0f, 1.0f);
    glVertex2f(width, 0.0);
    glTexCoord2f(1.0f, 0.0f);
    glVertex2f(width, height);
    glEnd();
glFlush();
glBindFramebufferEXT(GL_FRAMEBUFFER_EXT, 0);

    [self drawFBO];
}

-(void)drawFBO {
glClearColor(1.0, 0.0, 0.0, 1.0);
glClear(GL_COLOR_BUFFER_BIT);
glEnable(GL_TEXTURE_2D);
glBindTexture(GL_TEXTURE_2D, texture);
glTexEnvi(GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_MODULATE);
glColor4f(1.0, 1.0, 1.0, 1.0);
glBegin(GL_QUADS);
glTexCoord2f(0.0f, 0.0f); glVertex2f(0.0f, 0.0f);
glTexCoord2f(0.0f, 1.0f); glVertex2f(0.0f, 1.0f);
glTexCoord2f(1.0f, 1.0f); glVertex2f(1.0f, 1.0f);
glTexCoord2f(1.0f, 0.0f); glVertex2f(1.0f, 0.0f);
glEnd();
glFlush();
glBindTexture(GL_TEXTURE_2D, 0);
} 
```

在控制台中，我看到“成功”，但在我的应用程序窗口中，我看到：
![在此处输入图像描述](../Images/12888cf208ef94e84ab16cf5362aa95a.png)

当我这样做`glReadPixels`并将它们保存到图像时，我得到： ![在此处输入图像描述](../Images/93325fe6f8edf56403c34bb9af73ced4.png)

保存图像的大小应该是这样，一切都很好，但我只是得到了`glClearColor`带有神秘黑线的填充图像，而不是我绘制的`framebuffer`

虽然使用相同的代码根本不使用帧缓冲区，但在我的应用程序中我看到：
![在此处输入图像描述](../Images/5b17a1a22c0567a32d1798dbbbe2aac2.png)

当我保存时，我看到： ![在此处输入图像描述](../Images/c9bb653e9af0e583b930c4a744562f7a.png)

我究竟做错了什么？

* * *

因此，出于某种原因，帧缓冲区拒绝了我试图绘制的纹理 GL_QUAD。所以我想问题必须在帧缓冲区使用的某个地方。

* * *

### 编辑

奇怪的事情。现在将 fbo 绘制到屏幕时，我只看到红色（glClearColor 将 FBO 绘制到屏幕），但是当我执行 glReadPixels 时，它读取的像素很好。它用我的纹理保存图像。

默认图像（纹理图像，绘制到 FBO）： ![在此处输入图像描述](../Images/09255abb78a67b0a1c04e42b93c92263.png)

我在应用程序窗口中看到的内容： ![在此处输入图像描述](../Images/de444f1efec7fac556055ccccb8ac1c4.png)

glReadPixels 结果图像（从 FBO 读取并保存到文件的纹理）： ![在此处输入图像描述](../Images/d85992921c63f87775246565c22b8735.png)

是的，它是颠倒的。从 OpenGL 读取像素是正常的。我用我的代码现在的样子更新了有问题的代码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-20T09:33:04.247

我已经解决了。问题出在我的 glTranslatef 上。我`glPushMatrix()`在渲染到 FBO 时完成并设置了所需的矩阵参数，现在一切正常。

# android - 将 NFC 标签更改为只读

> ID：11896981
> 
> 赞同：1
> 
> 时间：2012-08-10T07:09:22.140
> 
> 标签：android, nfc

目前我正在使用以下应用程序将数据写入 NFC 标签，[https://play.google.com/store/apps/details?](https://play.google.com/store/apps/details?id=com.antares.nfc&feature=search_result#?t=W251bGwsMSwxLDEsImNvbS5hbnRhcmVzLm5mYyJd) id=com.antares.nfc&feature=search_result#?t=W251bGwsMSwxLDEsImNvbS5hbnRhcmVzLm5mYyJd ，因为它允许我指定标签的 AAR。但是我在写tag的时候发现了一个安全问题，tag里面的数据很容易被修改，所以想问一下是不是可以具体说只有部分人可以重写tag呢？或者用一种简单的方式，锁定标签，这样在我确定应用程序中的数据正确后，没有人可以重写它。我还是一个使用NFC技术的初学者，发现它可能会在未来变得更流行，因此我想了解更多关于它的信息。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-10T08:31:17.080

如果您正在开发自己的应用程序；如果标签已经是 Ndef 格式，你有 Ndef.makeReadOnly() 方法，你可以在完成 Ndef.writeNdefMessage(NdefMessage) 之后应用它。或者，如果标签不是 Ndef 格式，而是 NdefFormatable，你有方法 NdefFormatable.makeReadOnly(NdefMessage)，它 Ndef 格式化标签，写入 NdefMessage 并使标签一次性全部只读。

如果标签技术允许，Play Store 中还有其他 NFC 应用程序可以将已写入的标签设为只读。但这是一个编程/开发站点。

# iphone - 识别 UIWebview 的提交按钮点击

> ID：11896985
> 
> 赞同：1
> 
> 时间：2012-08-10T07:09:45.737
> 
> 标签：iphone, uiwebview, uibutton, getelementbyid

我有一个带有多个按钮的 UIWebView 页面。需要识别点击的是哪个按钮`UIWebView.`

UIWebview 加载内容的页面源：

```
 <form action="settings_personal.php" data-ajax="false" method="post">   
            <input type="submit" name ="btn_settings_personal" value=" Goals (Personal data) " data-icon="star" data-theme="g" />
        </form> 

        <form action="settings_global.php" data-ajax="false" method="post"> 
            <input type="submit" name ="btn_settings_global" value=" Settings " data-icon="gear" data-theme="g" />
        </form>
        <form action="" data-ajax="false" method="post">    
            <input type="submit" name ="btn_web_access" value=" Web Plattform Access " data-icon="plus" data-theme="h" />
        </form> 
```

我需要识别为“btn_web_access”命名按钮单击的按钮？？？

我已经实现了以下：

```
- (BOOL)webView:(UIWebView*)webView shouldStartLoadWithRequest:(NSURLRequest*)request navigationType:(UIWebViewNavigationType)navigationType{

 NSString* clicked = [self.webView stringByEvaluatingJavaScriptFromString:@"document.getElementById('btn_web_access').click();"];

    NSLog(@"CLICK %@",clicked);

} 
```

但它没有用..提前谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-10T08:09:07.940

只需使用请求的 URL 属性来区分加载请求的目标：

```
- (BOOL)webView:(UIWebView*)webView shouldStartLoadWithRequest:(NSURLRequest*)request navigationType:(UIWebViewNavigationType)navigationType{

    NSLog(@"url: %@", [[request URL] absoluteString]);

    return YES;

} 
```

根据被调用的 URL，您知道您当前显示的网页的哪个按钮（甚至是任何链接）被点击了。然后采取所需的操作，不要忘记返回一个 BOOL 值，指示是否实际加载请求的 URL。

在 Swift 中你可能有

```
func webView(webView:UIWebView,
          shouldStartLoadWithRequest request:NSURLRequest,
          navigationType:UIWebViewNavigationType) -> Bool
    {
    if (navigationType == .FormSubmitted)
        {
        print("was the 'submit' form")
        }

    let u = request.mainDocumentURL
    print("local or remote url was " ,u)

    return true // allow the form to in fact send the form
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-09T11:09:12.587

使用 HTML 代码执行此操作

```
- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:
    (NSURLRequest *)request navigationType: 
    (UIWebViewNavigationType)navigationType {
        if ([request.URL.scheme isEqualToString:@"inapp"]) {
            if ([request.URL.host isEqualToString:@"capture"]) {
            // do capture action
        }  
        return NO;
     }  

   return YES;
} 
```

# java - 如何在android中调用这个网络服务：http://www.grubolympx.com/app/rating.php？

> ID：11896986
> 
> 赞同：-1
> 
> 时间：2012-08-10T07:10:04.800
> 
> 标签：java, android, eclipse, web-services, http

每当我调用网络服务：http: [//www.grubolympx.com/app/rating.php](http://www.grubolympx.com/app/rating.php)时，它都会发送“请发送适当的值”消息。

请给出将适当的值传递给此 Web 服务以检索数据的想法。

这是我的代码：

```
public String readFeed() {
    StringBuilder builder = new StringBuilder();
    HttpClient client = new DefaultHttpClient();
    //HttpGet httpGet = new HttpGet("http://twitter.com/statuses/user_timeline/vogella.json");
    //HttpGet httpGet = new HttpGet("http://ragecomics.cloudapp.net/RestService.svc/json/Hot/0");

    HttpGet httpGet = new HttpGet("http://www.grubolympx.com/app/rating.php?q=India");
    httpGet.setHeader("content-type", "application/php");
    try {
        HttpResponse response = client.execute(httpGet);
        StatusLine statusLine = response.getStatusLine();
        int statusCode = statusLine.getStatusCode();
        if (statusCode == 200) {

             HttpResponse response1 = client.execute(httpGet);
            HttpEntity entity = response.getEntity();
            InputStream content = entity.getContent();
            BufferedReader reader = new BufferedReader(new InputStreamReader(content));
            String line;
            while ((line = reader.readLine()) != null) {
                builder.append(line);
            }
        } else {
            Log.e(AdcActivity.class.toString(), "Failed to download file");
        }
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
    return builder.toString();
} 
```

# 手机代码：

```
 NSURL *url = [NSURL URLWithString:@"grubolympx.com/app/rating.php"]; 
  ASIHTTPRequest *request = [ASIHTTPRequest requestWithURL:url]; 
  [request setRequestMethod:@"POST"]; 
  [request addRequestHeader:@"User-Agent" value:@"ASIHTTPRequest"]; 
  [request addRequestHeader:@"Content-Type" value:@"application/json"]; 
  [request appendPostData:[jsonString dataUsingEncoding:NSUTF8StringEncoding]]; 
  [request setDelegate:self]; 
  [request startAsynchronous]; } 
–

(void)requestFinished:(ASIHTTPRequest *)request { 
  NSString *responseString = [request responseString]; 
  NSDictionary *responseDict = [responseString JSONValue]; 
  NSLog(@"%@",responseString); 
  if ([responseString isEqualToString:@"SUCCESS"]) { 
    // Display succeed msg 
    [Appirater appLaunched]; 
  } else{ NSLog(@"%@",responseString); } 
– 

else if (responseDict != NULL){ 
  NSMutableDictionary *rateDictionary = [[[NSMutableDictionary alloc] init] autorelease]; 
  [rateDictionary setObject:[responseDict valueForKey:@"dishes"] forKey:@"Foodname"];
  [rateDictionary setObject:[responseDict valueForKey:@"ratings"] forKey:@"rating"];
  [rateDictionary setObject:[responseDict valueForKey:@"country"] forKey:@"country"];
  [self updateAverageRateWith:rateDictionary]; 
  // Update average rate in rateArray. 
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T07:39:07.733

据我从您的问题中了解到，您正在尝试将数据发送到服务器上的 php 文件以检索响应。所以你必须使用 Http post 方法来做到这一点。尝试以下代码以向服务器发送值：

```
DefaultHttpClient httpClient = new DefaultHttpClient();
HttpPost httpPost = new HttpPost(url); // url = webpage u send data with request
httpPost.setEntity(new UrlEncodedFormEntity(params)); //params is a List<NameValuePair> where you store your value to send server

HttpResponse httpResponse = httpClient.execute(httpPost);
HttpEntity httpEntity = httpResponse.getEntity();
is = httpEntity.getContent(); //is is an InputStream 
```

并检索响应使用以下代码片段：

```
BufferedReader reader = new BufferedReader(new InputStreamReader(
is, "iso-8859-1"), 8);
StringBuilder sb = new StringBuilder();
String line = null;
while ((line = reader.readLine()) != null) {
       sb.append(line + "\n");
}
is.close();
json = sb.toString();
Log.e("json", json); 
```

在那之后，您可以解析从服务器检索的 json 并收集数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-10T07:43:19.573

确保服务是由开发它的人提供的......并要求他提供要传递的参数以获得正确的响应......

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-10T07:23:22.813

当您将该 URL 粘贴到 Web 浏览器时，它会以相同的消息进行响应。

如果您在连接到 PC 时运行他们的应用程序，log cat 会显示任何有用的信息吗？

# c# - C# 读取 UTF8 UInt64

> ID：11896987
> 
> 赞同：2
> 
> 时间：2012-08-10T07:10:10.360
> 
> 标签：c#, utf-8, binaryreader

我目前正在编写一个 Flac-Decoder，因此我必须读取在 flac-header 中编码的 2 个 UTF8 值。这是在文档中：

```
if(variable blocksize)
   <8-56>:"UTF-8" coded sample number (decoded number is 36 bits)
else
   <8-48>:"UTF-8" coded frame number (decoded number is 31 bits) 
```

他们在他们的 bitreader 文件[Bitreader](http://flac.cvs.sourceforge.net/viewvc/flac/flac/src/libFLAC/bitreader.c?view=markup)（第 1327 行）中使用自制函数来获取更大的 UTF8（可变块大小）。

我看了看它，翻译成 c# 的代码不是很好。所以我考虑使用带有 UTF8 编码的 binaryreader 并使用这种方法读取：[ReadUint64](http://msdn.microsoft.com/de-de/library/system.io.binaryreader.readuint64.aspx)。这有可能吗？结果是否相同，绝对最快的解决方案是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-10T07:33:57.133

不，那是行不通的。ReadUInt64 只会读取 8 个字节；编码仅用于读取实际文本 - 即[ReadChar](http://msdn.microsoft.com/en-us/library/system.io.binaryreader.readchar)和[ReadChars](http://msdn.microsoft.com/en-us/library/system.io.binaryreader.readchars) - 这些*也*不起作用，因为`char`类型只有 16 位，而且它们都不会期望 36 位值。

当他们在您的文档中编写“UTF8 编码”时，这并不意味着它是真正的 UTF-8 - 这只是意味着他们使用与 UTF-8 编码字符相同的原理对数字进行编码（毕竟，也只是数字，但有更复杂的限制）。

如果您查看[Wikipedia](http://en.wikipedia.org/wiki/UTF-8#Description)，您会看到他们准确列出了 UTF-8 字符的编码方式，最多 31 位。对于 36 位值继续这个序列非常简单——在这种情况下，第一个字节将是二进制的 11111110——这就是你应该为样本号做的事情。

虽然您可能认为代码不太好，但这几乎是最明智的做法 - 由于 UTF-8 的工作原理，无论如何您都不会避免位操作 - 虽然当然可以做出一些变化在那个确切的代码上，基本结构不太可能有很大不同。

# php - php - 将 csv 文件直接下载到内存中，最好不要使用 cURL

> ID：11896989
> 
> 赞同：0
> 
> 时间：2012-08-10T07:10:28.943
> 
> 标签：php, parsing, curl, csv

这相当于问题：[Download CSV directly into Python CSV parser](https://stackoverflow.com/questions/7625079/download-csv-directly-into-python-csv-parser) but in php.ini 基本上，我正在寻找一个提供接口的库，该接口能够在几行代码中完成我使用 python 所做的事情：

```
h = httplib2.Http('.cache')
url = 'http://financials.morningstar.com/ajax/ReportProcess4CSV.html?t=' + code + '&region=AUS&culture=en_us&reportType='+ report + '&period=12&dataType=A&order=asc&columnYear=5&rounding=1&view=raw&productCode=usa&denominatorView=raw&number=1'
headers, data = h.request(url)
return data 
```

我需要下载和解析 csv 文件，但我想避免使用 cURL 及其低级接口。有什么建议么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T07:23:13.007

不完全是 3 行：

```
function getURL($url){
    $ch = curl_init($url);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    $ret = curl_exec($ch);
    curl_close($ch);
    return $ret;
} 
```

或者我猜你可以使用 file_get_contents，如果你真的不喜欢 cURL...

```
file_get_contents($url); 
```

此外，请查看[str_getcsv()](http://php.net/manual/en/function.str-getcsv.php)以将上述函数中的字符串转换为包含 CSV 文件数据的数组。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-10T07:26:42.470

如果启用了 fopen 包装器，您可以使用[file_get_contents](http://php.net/manual/en/function.file-get-contents.php)将文件加载到变量中。您可以使用[str_getcsv](http://php.net/manual/en/function.str-getcsv.php)解析结果。

```
$data = str_getcsv(file_get_contents('http://example.com/data/my.csv')); 
```

如果您需要设置特定标题或使用其他分隔符，请参阅手册。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T07:25:26.387

您可以使用以下内容：

```
$content = file_get_contents($url); 
```

应该启用[fopen 包装器](http://php.net/manual/en/filesystem.configuration.php#ini.allow-url-fopen)

# php - 如何使用 DQL 查询关系表

> ID：11896998
> 
> 赞同：0
> 
> 时间：2012-08-10T07:11:01.643
> 
> 标签：php, symfony1, doctrine-orm, dql

到目前为止，如果我使用 man 实体表，我的 DQL 工作正常。但我有一个查询需要访问关系表，例如

实体是`User`,`Tasks`

`UserTasks`是多对多的关系

这是我的 SQL 工作正常

```
SELECT A.name , A.id from tasks
inner join usertasks B on B.task_id = A.id
inner join users C on C.id B.user_id
FROM tasks A 
```

我如何将其转换为 DQL，因为我没有 Usertasks 表的任何实体