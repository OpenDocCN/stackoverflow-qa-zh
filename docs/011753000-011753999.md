# StackOverflow 问答 11753000-11753999

# android - 如何直接从我的 Android 应用程序打开 Google Play 商店？

> ID：11753000
> 
> 赞同：651
> 
> 时间：2012-08-01T05:27:10.423
> 
> 标签：android, android-intent, google-play

我已经使用以下代码打开了 Google Play 商店

```
Intent i = new Intent(android.content.Intent.ACTION_VIEW);
i.setData(Uri.parse("https://play.google.com/store/apps/details?id=my packagename "));
startActivity(i);. 
```

但它向我显示了一个完整的操作视图来选择选项（浏览器/播放商店）。我需要直接在 Play Store 中打开应用程序。

* * *

## 回答 #1

> 赞同：1618
> 
> 时间：2012-08-01T05:34:22.717

您可以使用[`market://`前缀](https://developer.android.com/distribute/tools/promote/linking.html)来执行此操作。

## 爪哇

```
final String appPackageName = getPackageName(); // getPackageName() from Context or Activity object
try {
    startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("market://details?id=" + appPackageName)));
} catch (android.content.ActivityNotFoundException anfe) {
    startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("https://play.google.com/store/apps/details?id=" + appPackageName)));
} 
```

## 科特林

```
try {
    startActivity(Intent(Intent.ACTION_VIEW, Uri.parse("market://details?id=$packageName")))
} catch (e: ActivityNotFoundException) {
    startActivity(Intent(Intent.ACTION_VIEW, Uri.parse("https://play.google.com/store/apps/details?id=$packageName")))
} 
```

我们在这里使用一个`try/catch`块，因为`Exception`如果目标设备上没有安装 Play 商店，则会抛出一个块。

**注意**：任何应用程序都可以注册为能够处理`market://details?id=<appId>`Uri，如果您想专门针对 Google Play，请查看*Berťák*答案

* * *

## 回答 #2

> 赞同：181
> 
> 时间：2015-01-22T14:15:53.597

**这里的很多答案建议使用** `Uri.parse("market://details?id=" + appPackageName))` **打开Goog​​le Play，但我认为实际上是不够**的：

**一些第三方应用程序可以使用自己的带有`"market://"`方案定义**的意图过滤器，因此它们可以处理提供的 Uri 而不是 Google Play（我在 egSnapPea 应用程序中遇到过这种情况）。问题是“如何打开 Google Play 商店？”，所以我假设您不想打开任何其他应用程序。另请注意，例如应用评级仅与 GP Store 应用等相关...

**要打开 Google Play 并且仅打开 Google Play，我使用以下方法：**

```
public static void openAppRating(Context context) {
    // you can also use BuildConfig.APPLICATION_ID
    String appId = context.getPackageName();
    Intent rateIntent = new Intent(Intent.ACTION_VIEW,
        Uri.parse("market://details?id=" + appId));
    boolean marketFound = false;

    // find all applications able to handle our rateIntent
    final List<ResolveInfo> otherApps = context.getPackageManager()
        .queryIntentActivities(rateIntent, 0);
    for (ResolveInfo otherApp: otherApps) {
        // look for Google Play application
        if (otherApp.activityInfo.applicationInfo.packageName
                .equals("com.android.vending")) {

            ActivityInfo otherAppActivity = otherApp.activityInfo;
            ComponentName componentName = new ComponentName(
                    otherAppActivity.applicationInfo.packageName,
                    otherAppActivity.name
                    );
            // make sure it does NOT open in the stack of your activity
            rateIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
            // task reparenting if needed
            rateIntent.addFlags(Intent.FLAG_ACTIVITY_RESET_TASK_IF_NEEDED);
            // if the Google Play was already open in a search result
            //  this make sure it still go to the app page you requested
            rateIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
            // this make sure only the Google Play app is allowed to
            // intercept the intent
            rateIntent.setComponent(componentName);
            context.startActivity(rateIntent);
            marketFound = true;
            break;

        }
    }

    // if GP not present on device, open web browser
    if (!marketFound) {
        Intent webIntent = new Intent(Intent.ACTION_VIEW,
            Uri.parse("https://play.google.com/store/apps/details?id="+appId));
        context.startActivity(webIntent);
    }
} 
```

关键是当 Google Play 之外的更多应用程序可以打开我们的 Intent 时，会跳过 app-chooser 对话框，直接启动 GP 应用程序。

**更新：** 有时它似乎只打开 GP 应用程序，而不打开应用程序的配置文件。正如 TrevorWiley 在他的评论中所建议的那样，`Intent.FLAG_ACTIVITY_CLEAR_TOP`可以解决这个问题。（我自己还没有测试过......）

请参阅[此答案](https://stackoverflow.com/a/29376250)以了解其`Intent.FLAG_ACTIVITY_RESET_TASK_IF_NEEDED`作用。

* * *

## 回答 #3

> 赞同：92
> 
> 时间：2014-11-22T09:36:32.343

继续 Android Developer 官方链接作为教程一步一步地查看并从 Play 商店获取您的应用程序包的代码（如果存在或 Play 商店应用程序不存在）然后从 Web 浏览器打开应用程序。

**Android 开发者官方链接**

[https://developer.android.com/distribute/tools/promote/linking.html](https://developer.android.com/distribute/tools/promote/linking.html)

**链接到应用程序页面**

从一个网站：`https://play.google.com/store/apps/details?id=<package_name>`

从 Android 应用程序：`market://details?id=<package_name>`

**链接到产品列表**

从一个网站：`https://play.google.com/store/search?q=pub:<publisher_name>`

从 Android 应用程序：`market://search?q=pub:<publisher_name>`

**链接到搜索结果**

从一个网站：`https://play.google.com/store/search?q=<search_query>&c=apps`

从 Android 应用程序：`market://search?q=<seach_query>&c=apps`

* * *

## 回答 #4

> 赞同：27
> 
> 时间：2017-05-23T16:05:53.347

虽然 Eric 的答案是正确的，并且 Berťák 的代码也有效。我认为这更优雅地结合了两者。

```
try {
    Intent appStoreIntent = new Intent(Intent.ACTION_VIEW, Uri.parse("market://details?id=" + appPackageName));
    appStoreIntent.setPackage("com.android.vending");

    startActivity(appStoreIntent);
} catch (android.content.ActivityNotFoundException exception) {
    startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("https://play.google.com/store/apps/details?id=" + appPackageName)));
} 
```

通过使用`setPackage`，您可以强制设备使用 Play 商店。如果没有安装 Play 商店，`Exception`则会被捕获。

* * *

## 回答 #5

> 赞同：26
> 
> 时间：2012-08-01T05:36:53.683

试试这个

```
Intent intent = new Intent(Intent.ACTION_VIEW);
intent.setData(Uri.parse("market://details?id=com.example.android"));
startActivity(intent); 
```

* * *

## 回答 #6

> 赞同：23
> 
> 时间：2014-07-29T03:10:53.560

**如果您真的想独立打开 Google Play（或任何其他应用程序），上述所有答案都会在同一应用程序的新视图中打开 Google Play：**

```
Intent launchIntent = getPackageManager().getLaunchIntentForPackage("com.android.vending");

// package name and activity
ComponentName comp = new ComponentName("com.android.vending",
                                       "com.google.android.finsky.activities.LaunchUrlHandlerActivity"); 
launchIntent.setComponent(comp);

// sample to open facebook app
launchIntent.setData(Uri.parse("market://details?id=com.facebook.katana"));
startActivity(launchIntent); 
```

**重要的部分是实际打开 google play 或任何其他应用程序独立。**

我所看到的大部分内容都使用其他答案的方法，这不是我所需要的，希望这对某人有所帮助。

问候。

* * *

## 回答 #7

> 赞同：15
> 
> 时间：2014-04-10T10:18:08.657

您可以检查是否安装了*Google Play Store*应用，如果是这样，您可以使用*“market://”*协议。

```
final String my_package_name = "........."  // <- HERE YOUR PACKAGE NAME!!
String url = "";

try {
    //Check whether Google Play store is installed or not:
    this.getPackageManager().getPackageInfo("com.android.vending", 0);

    url = "market://details?id=" + my_package_name;
} catch ( final Exception e ) {
    url = "https://play.google.com/store/apps/details?id=" + my_package_name;
}

//Open the app page in Google Play store:
final Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(url));
intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET);
startActivity(intent); 
```

* * *

## 回答 #8

> 赞同：12
> 
> 时间：2012-08-01T05:35:07.910

使用市场：//

```
Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse("market://details?id=" + my_packagename)); 
```

* * *

## 回答 #9

> 赞同：9
> 
> 时间：2019-06-25T06:52:41.460

由于[官方文档](https://developer.android.com/distribute/marketing-tools/linking-to-google-play#android-app)使用`https://`而不是`market://`，这将 Eric 和 M3-n50 的答案与代码重用相结合（不要重复自己）：

```
Intent intent = new Intent(Intent.ACTION_VIEW)
    .setData(Uri.parse("https://play.google.com/store/apps/details?id=" + getPackageName()));
try {
    startActivity(new Intent(intent)
                  .setPackage("com.android.vending"));
} catch (android.content.ActivityNotFoundException exception) {
    startActivity(intent);
} 
```

它会尝试使用 GPlay 应用程序打开（如果存在）并回退到默认值。

* * *

## 回答 #10

> 赞同：8
> 
> 时间：2019-07-10T01:11:56.467

科特林：

延期：

```
fun Activity.openAppInGooglePlay(){

val appId = BuildConfig.APPLICATION_ID
try {
    this.startActivity(Intent(Intent.ACTION_VIEW, Uri.parse("market://details?id=$appId")))
} catch (anfe: ActivityNotFoundException) {
    this.startActivity(
        Intent(
            Intent.ACTION_VIEW,
            Uri.parse("https://play.google.com/store/apps/details?id=$appId")
        )
    )
}} 
```

方法：

```
 fun openAppInGooglePlay(activity:Activity){

        val appId = BuildConfig.APPLICATION_ID
        try {
            activity.startActivity(Intent(Intent.ACTION_VIEW, Uri.parse("market://details?id=$appId")))
        } catch (anfe: ActivityNotFoundException) {
            activity.startActivity(
                Intent(
                    Intent.ACTION_VIEW,
                    Uri.parse("https://play.google.com/store/apps/details?id=$appId")
                )
            )
        }
    } 
```

* * *

## 回答 #11

> 赞同：7
> 
> 时间：2012-08-01T05:35:48.500

你可以做：

```
final Uri marketUri = Uri.parse("market://details?id=" + packageName);
startActivity(new Intent(Intent.ACTION_VIEW, marketUri)); 
```

[在此处](http://developer.android.com/distribute/googleplay/promote/linking.html)获取参考：

您也可以尝试此问题的已接受答案中描述的方法： [无法确定是否在 Android 设备上安装了 Google Play 商店](https://stackoverflow.com/questions/10551531/cannot-determine-whether-google-play-store-is-installed-or-not-on-android-device)

* * *

## 回答 #12

> 赞同：7
> 
> 时间：2018-10-17T20:31:20.137

派对很晚[官方文档](https://developer.android.com/distribute/marketing-tools/linking-to-google-play#android-app)在这里。描述的代码是

```
Intent intent = new Intent(Intent.ACTION_VIEW);
intent.setData(Uri.parse(
    "https://play.google.com/store/apps/details?id=com.example.android"));
intent.setPackage("com.android.vending");
startActivity(intent); 
```

当您配置此意图时，请传递`"com.android.vending"`到`Intent.setPackage()`，以便用户在***Google Play 商店应用程序*中而不是选择器**中查看您的应用程序的详细信息。对于科特林

```
val intent = Intent(Intent.ACTION_VIEW).apply {
    data = Uri.parse(
            "https://play.google.com/store/apps/details?id=com.example.android")
    setPackage("com.android.vending")
}
startActivity(intent) 
```

如果您使用 Google Play Instant 发布了免安装应用，则可以按如下方式启动该应用：

```
Intent intent = new Intent(Intent.ACTION_VIEW);
Uri.Builder uriBuilder = Uri.parse("https://play.google.com/store/apps/details")
    .buildUpon()
    .appendQueryParameter("id", "com.example.android")
    .appendQueryParameter("launch", "true");

// Optional parameters, such as referrer, are passed onto the launched
// instant app. You can retrieve these parameters using
// Activity.getIntent().getData().
uriBuilder.appendQueryParameter("referrer", "exampleCampaignId");

intent.setData(uriBuilder.build());
intent.setPackage("com.android.vending");
startActivity(intent); 
```

对于科特林

```
val uriBuilder = Uri.parse("https://play.google.com/store/apps/details")
        .buildUpon()
        .appendQueryParameter("id", "com.example.android")
        .appendQueryParameter("launch", "true")

// Optional parameters, such as referrer, are passed onto the launched
// instant app. You can retrieve these parameters using Activity.intent.data.
uriBuilder.appendQueryParameter("referrer", "exampleCampaignId")

val intent = Intent(Intent.ACTION_VIEW).apply {
    data = uriBuilder.build()
    setPackage("com.android.vending")
}
startActivity(intent) 
```

* * *

## 回答 #13

> 赞同：7
> 
> 时间：2020-07-14T20:51:21.483

这个问题的一些答案已经过时了。

[根据此链接](https://developer.android.com/distribute/marketing-tools/linking-to-google-play#android-app)，对我有用的（在 2020 年）是明确告知意图跳过选择器并直接打开 Play 商店应用程序：

> “如果您想从 Android 应用链接到您的产品，请创建一个打开 URL 的 Intent。当您配置此 Intent 时，将“com.android.vending”传递给 Intent.setPackage()，以便用户在Google Play 商店应用程序，而不是选择器。”

这是我用来引导用户在 Google Play 中查看包含包名 com.google.android.apps.maps 的应用的 Kotlin 代码：

```
val intent = Intent(Intent.ACTION_VIEW).apply {
               data = Uri.parse("http://play.google.com/store/apps/details?id=com.google.android.apps.maps")
               setPackage("com.android.vending")
            }
            startActivity(intent) 
```

我希望对某人有所帮助！

* * *

## 回答 #14

> 赞同：6
> 
> 时间：2016-07-11T20:11:22.073

即用型解决方案：

```
public class GoogleServicesUtils {

    public static void openAppInGooglePlay(Context context) {
        final String appPackageName = context.getPackageName();
        try {
            context.startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("market://details?id=" + appPackageName)));
        } catch (android.content.ActivityNotFoundException e) { // if there is no Google Play on device
            context.startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("https://play.google.com/store/apps/details?id=" + appPackageName)));
        }
    }

} 
```

根据埃里克的回答。

* * *

## 回答 #15

> 赞同：5
> 
> 时间：2018-09-10T07:28:01.627

如果您使用的是 Android，此链接将自动打开该应用程序；`market://`如果您使用的是 PC，则该链接将在浏览器中自动打开。

```
https://play.app.goo.gl/?link=https://play.google.com/store/apps/details?id=com.app.id&ddl=1&pcampaignid=web_ddl_1 
```

* * *

## 回答 #16

> 赞同：5
> 
> 时间：2018-09-21T13:10:53.583

### 科特林

```
fun openAppInPlayStore(appPackageName: String) {
    try {
        startActivity(Intent(Intent.ACTION_VIEW, Uri.parse("market://details?id=$appPackageName")))
    } catch (exception: android.content.ActivityNotFoundException) {
        startActivity(Intent(Intent.ACTION_VIEW, Uri.parse("https://play.google.com/store/apps/details?id=$appPackageName")))
    }
} 
```

* * *

## 回答 #17

> 赞同：4
> 
> 时间：2016-12-24T07:26:46.750

如果您想从您的应用打开 Google Play 商店，请直接使用此命令：`market://details?gotohome=com.yourAppName`，它将打开您应用的 Google Play 商店页面。

*   网站：[http ://play.google.com/store/apps/details?id=](http://play.google.com/store/apps/details?id=)
*   应用：market://details?id=

显示特定发布者的所有应用

*   网站：[http](http://play.google.com/store/search?q=pub) ://play.google.com/store/search?q=pub ：
*   应用程序：market://search?q=pub:

搜索在标题或描述上使用 Query 的应用

*   网址：[http ://play.google.com/store/search?q=](http://play.google.com/store/search?q=)
*   应用：market://search?q=

参考：[https ://tricklio.com/market-details-gotohome-1/](https://tricklio.com/market-details-gotohome-1/)

* * *

## 回答 #18

> 赞同：3
> 
> 时间：2018-02-16T20:14:14.330

这是上面答案的最终代码，首先尝试使用 Google Play 商店应用程序打开应用程序，特别是 Play 商店，如果失败，它将使用网络版本启动操作视图：感谢 @Eric，@Jonathan Caballero

```
public void goToPlayStore() {
        String playStoreMarketUrl = "market://details?id=";
        String playStoreWebUrl = "https://play.google.com/store/apps/details?id=";
        String packageName = getActivity().getPackageName();
        try {
            Intent intent =  getActivity()
                            .getPackageManager()
                            .getLaunchIntentForPackage("com.android.vending");
            if (intent != null) {
                ComponentName androidComponent = new ComponentName("com.android.vending",
                        "com.google.android.finsky.activities.LaunchUrlHandlerActivity");
                intent.setComponent(androidComponent);
                intent.setData(Uri.parse(playStoreMarketUrl + packageName));
            } else {
                intent = new Intent(Intent.ACTION_VIEW, Uri.parse(playStoreMarketUrl + packageName));
            }
            startActivity(intent);
        } catch (ActivityNotFoundException e) {
            Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(playStoreWebUrl + packageName));
            startActivity(intent);
        }
    } 
```

* * *

## 回答 #19

> 赞同：2
> 
> 时间：2017-08-17T06:13:37.363

我结合了*Berťák*和 *Stefano Munarini*的答案来创建一个混合解决方案，该解决方案同时处理**评价这个应用程序**和**显示更多应用程序**场景。

```
 /**
         * This method checks if GooglePlay is installed or not on the device and accordingly handle
         * Intents to view for rate App or Publisher's Profile
         *
         * @param showPublisherProfile pass true if you want to open Publisher Page else pass false to open APp page
         * @param publisherID          pass Dev ID if you have passed PublisherProfile true
         */
        public void openPlayStore(boolean showPublisherProfile, String publisherID) {

            //Error Handling
            if (publisherID == null || !publisherID.isEmpty()) {
                publisherID = "";
                //Log and continue
                Log.w("openPlayStore Method", "publisherID is invalid");
            }

            Intent openPlayStoreIntent;
            boolean isGooglePlayInstalled = false;

            if (showPublisherProfile) {
                //Open Publishers Profile on PlayStore
                openPlayStoreIntent = new Intent(Intent.ACTION_VIEW,
                        Uri.parse("market://search?q=pub:" + publisherID));
            } else {
                //Open this App on PlayStore
                openPlayStoreIntent = new Intent(Intent.ACTION_VIEW,
                        Uri.parse("market://details?id=" + getPackageName()));
            }

            // find all applications who can handle openPlayStoreIntent
            final List<ResolveInfo> otherApps = getPackageManager()
                    .queryIntentActivities(openPlayStoreIntent, 0);
            for (ResolveInfo otherApp : otherApps) {

                // look for Google Play application
                if (otherApp.activityInfo.applicationInfo.packageName.equals("com.android.vending")) {

                    ActivityInfo otherAppActivity = otherApp.activityInfo;
                    ComponentName componentName = new ComponentName(
                            otherAppActivity.applicationInfo.packageName,
                            otherAppActivity.name
                    );
                    // make sure it does NOT open in the stack of your activity
                    openPlayStoreIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                    // task reparenting if needed
                    openPlayStoreIntent.addFlags(Intent.FLAG_ACTIVITY_RESET_TASK_IF_NEEDED);
                    // if the Google Play was already open in a search result
                    //  this make sure it still go to the app page you requested
                    openPlayStoreIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
                    // this make sure only the Google Play app is allowed to
                    // intercept the intent
                    openPlayStoreIntent.setComponent(componentName);
                    startActivity(openPlayStoreIntent);
                    isGooglePlayInstalled = true;
                    break;

                }
            }
            // if Google Play is not Installed on the device, open web browser
            if (!isGooglePlayInstalled) {

                Intent webIntent;
                if (showPublisherProfile) {
                    //Open Publishers Profile on web browser
                    webIntent = new Intent(Intent.ACTION_VIEW,
                            Uri.parse("http://play.google.com/store/search?q=pub:" + getPackageName()));
                } else {
                    //Open this App on web browser
                    webIntent = new Intent(Intent.ACTION_VIEW,
                            Uri.parse("https://play.google.com/store/apps/details?id=" + getPackageName()));
                }
                startActivity(webIntent);
            }
        } 
```

**用法**

*   打开发布者资料

> ```
>  @OnClick(R.id.ll_more_apps)
>         public void showMoreApps() {
>             openPlayStore(true, "Hitesh Sahu");
>         } 
> ```

*   在 PlayStore 上打开应用程序页面

> ```
> @OnClick(R.id.ll_rate_this_app)
> public void openAppInPlayStore() {
>     openPlayStore(false, "");
> } 
> ```

* * *

## 回答 #20

> 赞同：2
> 
> 时间：2017-09-05T05:10:53.053

```
public void launchPlayStore(Context context, String packageName) {
    Intent intent = null;
    try {
            intent = new Intent(Intent.ACTION_VIEW);
            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
            intent.setData(Uri.parse("market://details?id=" + packageName));
            context.startActivity(intent);
        } catch (android.content.ActivityNotFoundException anfe) {
            startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("https://play.google.com/store/apps/details?id=" + packageName)));
        }
    } 
```

* * *

## 回答 #21

> 赞同：2
> 
> 时间：2018-02-01T10:31:22.277

为此目的，我的 kotlin entension 函数

```
fun Context.canPerformIntent(intent: Intent): Boolean {
        val mgr = this.packageManager
        val list = mgr.queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY)
        return list.size > 0
    } 
```

在你的活动中

```
val uri = if (canPerformIntent(Intent(Intent.ACTION_VIEW, Uri.parse("market://")))) {
            Uri.parse("market://details?id=" + appPackageName)
        } else {
            Uri.parse("https://play.google.com/store/apps/details?id=" + appPackageName)
        }
        startActivity(Intent(Intent.ACTION_VIEW, uri)) 
```

* * *

## 回答 #22

> 赞同：1
> 
> 时间：2018-12-14T09:55:59.083

人民，不要忘记你实际上可以从中得到更多的东西。例如，我的意思是 UTM 跟踪。[https://developers.google.com/analytics/devguides/collection/android/v4/campaigns](https://developers.google.com/analytics/devguides/collection/android/v4/campaigns)

```
public static final String MODULE_ICON_PACK_FREE = "com.example.iconpack_free";
public static final String APP_STORE_URI =
        "market://details?id=%s&referrer=utm_source=%s&utm_medium=app&utm_campaign=plugin";
public static final String APP_STORE_GENERIC_URI =
        "https://play.google.com/store/apps/details?id=%s&referrer=utm_source=%s&utm_medium=app&utm_campaign=plugin";

try {
    startActivity(new Intent(
        Intent.ACTION_VIEW,
        Uri.parse(String.format(Locale.US,
            APP_STORE_URI,
            MODULE_ICON_PACK_FREE,
            getPackageName()))).addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP));
} catch (android.content.ActivityNotFoundException anfe) {
    startActivity(new Intent(
        Intent.ACTION_VIEW,
        Uri.parse(String.format(Locale.US,
            APP_STORE_GENERIC_URI,
            MODULE_ICON_PACK_FREE,
            getPackageName()))).addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP));
} 
```

* * *

## 回答 #23

> 赞同：1
> 
> 时间：2019-02-22T20:36:32.123

具有回退和当前语法的 kotlin 版本

```
 fun openAppInPlayStore() {
    val uri = Uri.parse("market://details?id=" + context.packageName)
    val goToMarketIntent = Intent(Intent.ACTION_VIEW, uri)

    var flags = Intent.FLAG_ACTIVITY_NO_HISTORY or Intent.FLAG_ACTIVITY_MULTIPLE_TASK or Intent.FLAG_ACTIVITY_NEW_TASK
    flags = if (Build.VERSION.SDK_INT >= 21) {
        flags or Intent.FLAG_ACTIVITY_NEW_DOCUMENT
    } else {
        flags or Intent.FLAG_ACTIVITY_CLEAR_TASK
    }

    goToMarketIntent.addFlags(flags)

    try {
        startActivity(context, goToMarketIntent, null)
    } catch (e: ActivityNotFoundException) {
        val intent = Intent(Intent.ACTION_VIEW,
                Uri.parse("http://play.google.com/store/apps/details?id=" + context.packageName))

        startActivity(context, intent, null)
    }
} 
```

* * *

## 回答 #24

> 赞同：0
> 
> 时间：2021-08-03T06:04:31.943

对于费率应用：重定向到 Playstore。在 Flutter 中，你可以通过 Platform 通道来做到这一点，就像这样

颤振部分：-

```
 static const platform = const MethodChannel('rateApp');   // initialize 
```

点按： `platform.invokeMethod('urls', {'android_id': 'com.xyz'}),`

现在 Android 原生部分（Java）：

```
private static final String RATEAPP = "rateApp";  // initialize variable 
```

// 现在在 ConfigureFlutterEngine 函数中：

```
 new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), RATEAPP)
            .setMethodCallHandler(
                    (call, result) -> {               
                        if (call.method.equals("urls") && call.hasArgument("android_id")) {
                            String id = call.argument("android_id").toString();

                            try {
                                startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("$uri" + id)));
                            } catch (android.content.ActivityNotFoundException anfe) {
                                startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("https://play.google.com/store/apps/details?id=" + id)));
                            }
                            result.success("Done");
                        } else {
                            result.notImplemented();
                        }
                    }
            ); 
```

# .net - 如何知道 linq 中的子类型

> ID：11753003
> 
> 赞同：0
> 
> 时间：2012-08-01T05:27:21.333
> 
> 标签：.net, linq, entity-framework, ef-code-first

我有一个实体用户（基类）。它有三个子实体 Admin ，Manager 和 Member

通过选择所有用户，我如何知道该特定用户是管理员或经理或成员。我必须在网格中显示所有用户数据，并将名称列作为我需要显示管理员或经理或成员的类型

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T11:46:42.903

这是一个完整的解决方案。为每个实例简单调用 GetType() 方法

输出是![在此处输入图像描述](../Images/4ba304735752255c937b6f4bddd072bd.png)

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace TestBaseUserConsoleApplication1
{
    class Program
    {
        static void Main(string[] args)
        {
            var users = new List<User>
                {
                    new User {Name = "User1"},
                    new Manager {Name = "User2"},
                    new Member {Name = "User3"},
                    new Student {Name = "User4"}
                };

            users.Select(p => new { p, UserTpe = p.GetType().Name })
                 .ToList()
                 .ForEach(t => Console.WriteLine("User Name = {0}, User Type = {1}", t.p.Name, t.UserTpe));
            Console.ReadLine();
        }
    }

    public class User
    {
        public string Name { get; set; }
    }

    public class Manager : User { }
    public class Member : User { }
    public class Student : User { }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T07:15:11.370

您可以使用[Enumerable.OfType 方法](http://msdn.microsoft.com/en-gb/library/bb360913.aspx)来提取某个确切类的项目的子集合，例如

```
collection.OfType<Admin>().ToList() 
```

或者您可以使用[is](http://msdn.microsoft.com/en-us/library/scekt9xw%28v=vs.71%29.aspx)运算符来检查每个项目：

```
foreach(User item in collection)
{
    if(item is Admin)
    {
    }
    else
    ...
} 
```

# c# - 在旧文本之前将文本插入 WPF 文本框

> ID：11753013
> 
> 赞同：2
> 
> 时间：2012-08-01T05:28:34.947
> 
> 标签：c#, wpf, textbox

我如何`textbox`在旧文本之前将文本插入 WPF

然后我`old text`添加文字`new text old text`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-01T05:38:10.203

你可以使用

```
textbox.Text="my new text" + textbox.Text; 
```

或者

```
 txtbox1.SelectionStart = 0;
 txtbox1.SelectedText = "my new text"; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-01T05:34:07.800

我认为最简单的方法是使用[绑定转换器](http://www.switchonthecode.com/tutorials/wpf-tutorial-binding-converters)，您将在其中获取*更改*的数据，并可以在将其分配给 UI 之前将其转换为您想要的格式。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-08-15T16:38:32.710

@S3ddi9 对于此处的第二个选项，您可能需要执行以下操作：

```
txtbox1.SelectionStart = 0;

txtbox1.SelectionLength = 0; //this was missing

txtbox1.SelectedText = "my inserted text at top"; 
```

# google-api - Google API 将 URL 重定向到我的本地主机

> ID：11753022
> 
> 赞同：3
> 
> 时间：2012-08-01T05:29:13.900
> 
> 标签：google-api

我的应用程序使用 Google API。身份验证后，它将响应定向到重定向 URL。

我可以将响应重定向到我的本地 URL，以便我可以测试我的应用程序。

# entity-framework - 对独立关联的实体框架查询会创建过于复杂的查询？

> ID：11753028
> 
> 赞同：0
> 
> 时间：2012-08-01T05:29:40.630
> 
> 标签：entity-framework, ef-code-first, entity-framework-5

我首先使用 EF5 和代码创建一个项目。

在我的对象设计中，我在这种情况下使用了**“独立关联” ，属性“FarmWhereCowLives”是一个****“独立关联”**。

```
public class Cow

{

     public int CowId
     public string Name
     public DateTime Birthday
     public Farm FarmWhereCowLives
}

public class Farm

{

     public int FarmId
     public string Name
     public string Suburb
} 
```

然而，当我去运行一个查询时，要求实体框架通过传入农场 ID 来为特定农场选择最新的奶牛......例如：

```
_dbset.AsQueryable().Where(c => c.FarmWhereCowLives.FarmId == 1).OrderByDescending(c => c.Birthday).Take(1).Single() 
```

（我使用通用存储库以防万一，但我不这么认为）

执行的 sql（我可以在 SQL profiler 中看到）似乎过于复杂？

例如

```
SELECT TOP (1) 
[Project1].[CowId] AS [CowId], 
[Project1].[Name] AS [Name], 
[Project1].[Birthday] AS [Birthday],  
[Project1].[FarmWhereCowLives_FarmId] AS [FarmWhereCowLives_FarmId]
FROM 

(

    SELECT 
[Extent1].[RateChangeId] AS [RateChangeId], 
    [Extent1].[CowId] AS [CowId], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Birthday] AS [Birthday],  
    [Extent1].[FarmWhereCowLives_FarmId] AS [FarmWhereCowLives_FarmId]
FROM [dbo].[Cow] AS [Extent1]
WHERE [Extent1].[FarmWhereCowLives_FarmId] = 1

)  

AS [Project1]

ORDER BY [Project1].[Birthday] DESC' 
```

问题是：

1.  嵌套选择是怎么回事？
2.  为什么 EF 没有编写更高效的查询？例如没有嵌套选择？
3.  我应该为牛对象添加外键关联吗？我不应该这样做来让 EF 执行编写良好的查询，对吗？

也许我在这里做错了什么？

干杯安德鲁

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T07:56:40.090

EF 总是使用嵌套查询——我以某种方式期望它也会使用嵌套查询来进行 FK 关联。这并不一定意味着查询不正确。数据库中的查询优化器可以在执行前简化查询。

# android - 在 Android 应用程序中创建帐户

> ID：11753029
> 
> 赞同：0
> 
> 时间：2012-08-01T05:29:54.780
> 
> 标签：android, android-contacts, android-account

我想制作一个具有用户帐户的 android 应用程序。该应用程序就像一个联系人管理器和消息应用程序合二为一。每个联系人都有一个姓名、一个号码和一个密码。基本上，用户将从微调器菜单中选择联系人姓名。然后用户将输入消息。单击发送按钮时，将要求用户输入发送到该特定号码所需的密码。联系方式需要保密。

我已经进行了一些 Google 搜索，但这是我找到的最接近的搜索结果： [Android 应用程序：在没有服务器的情况下管理用户帐户信息](https://stackoverflow.com/questions/9765967/android-app-managing-user-account-information-without-a-server)

我是 Android 编程的新手，所以任何帮助都将不胜感激。

PS对不起，如果这有点模糊

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T05:42:15.397

有两种方法——

1.  在线模式 - 用 PHP、MYSQL 编写一些应用程序用于用户帐户管理等。并调用适当的 URL 进行用户身份验证和其他操作。您可以使用 LAMP 或 WAMP 堆栈。您需要将此应用程序托管在服务器上（公共托管服务或您组织的服务器）您可以使用 Android 的 SMS API 来发送消息。

2.  离线模式 - 使用本地本地数据库（例如 Sqllite）进行用户身份验证等。但是您需要明确地采取行动来同步所有用户帐户。

问候， dattatray。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T09:18:39.093

为您的要求。

照做`this....`

你需要维护两种类型的用户说`Admin`和`users`。

在手机上安装应用程序并首先注册的人将成为`Admin`应用程序的用户。剩下的是`users`应用程序。

管理员有权创建用户，他有权完成所有前端工作。

如果您需要维护会话，请研究[`How to maintain sessions in Android using shared preference`](https://stackoverflow.com/questions/7173287/may-mainting-the-session-using-shared-preference-in-android)

这个概念对你的 App 非常重要。所以要完美！

# c++ - 帮助！？而控制结构程序！

> ID：11753031
> 
> 赞同：0
> 
> 时间：2012-08-01T02:48:20.810
> 
> 标签：c++

我正在尝试在第二个循环中“输入帐号”。如果我在“While”控制结构中输入“输入帐号”。它会在第一个循环中打印两次。那么我该如何解决这个问题呢？

```
/* Make a program that will determine if a department store customer has exceeded the
credit limit on a charge account*/
#include <iostream>

#include <iomanip>

using namespace std;

int main()
{
    int aNum,Always;

    double balance,iTotal,cTotal,cLimit,NewBal;

    cout << "Enter account number: ";
        cin >> aNum;

     while ( aNum != -1 )
    {

        cout << "Enter beginning balance: ";
            cin >> balance;
            cout << setiosflags( ios::fixed | ios::showpoint ) << setprecision( 2 );

        cout << "Enter total charges: ";
            cin >> iTotal;
            cout << setiosflags( ios::fixed | ios::showpoint ) << setprecision( 2 );

        cout << "Enter total credits: ";
            cin >> cTotal;
            cout << setiosflags( ios::fixed | ios::showpoint ) << setprecision( 2 );

        cout << "Enter credit limit: ";
            cin >> cLimit;
            cout << setiosflags( ios::fixed | ios::showpoint ) << setprecision(2);

        cout << endl;

        NewBal = balance + iTotal - cTotal;

       if ( NewBal >= cLimit ) {

                    cout << "Account: " << setw(9) << aNum << endl;
                    cout << "Credit limit: " << cTotal << endl;
                    cout << "Balance: " << setw(9) << balance << endl;
                    cout << "Credit limit exceeded." << endl;
                    cout << endl;
       }
    }
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T05:43:28.500

我会像这样构造代码：

```
while(true)
{
  cout << "Enter account number: ";
  cin >> aNum;
  if(aNum==-1) break;

  // ... Rest of your while loop ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T05:43:57.290

尝试使用下面的代码

```
/* Make a program that will determine if a department store customer has exceeded the
credit limit on a charge account*/
#include <iostream>

#include <iomanip>

using namespace std;

int main()
{
    int aNum,Always;

    double balance,iTotal,cTotal,cLimit,NewBal;

    do 
    {
        cout << "Enter account number: ";
        cin >> aNum;
        if(aNum != -1)
        {
        cout << "Enter beginning balance: ";
            cin >> balance;
            cout << setiosflags( ios::fixed | ios::showpoint ) << setprecision( 2 );

        cout << "Enter total charges: ";
            cin >> iTotal;
            cout << setiosflags( ios::fixed | ios::showpoint ) << setprecision( 2 );

        cout << "Enter total credits: ";
            cin >> cTotal;
            cout << setiosflags( ios::fixed | ios::showpoint ) << setprecision( 2 );

        cout << "Enter credit limit: ";
            cin >> cLimit;
            cout << setiosflags( ios::fixed | ios::showpoint ) << setprecision(2);

        cout << endl;

        NewBal = balance + iTotal - cTotal;

       if ( NewBal >= cLimit ) {

                    cout << "Account: " << setw(9) << aNum << endl;
                    cout << "Credit limit: " << cTotal << endl;
                    cout << "Balance: " << setw(9) << balance << endl;
                    cout << "Credit limit exceeded." << endl;
                    cout << endl;
       }
     }
    }while ( aNum != -1 );
    return 0;
} 
```

希望能帮助到你...

# extjs - 将饼图添加到 Sencha Touch2 应用程序

> ID：11753034
> 
> 赞同：0
> 
> 时间：2012-08-01T05:30:34.947
> 
> 标签：extjs, charts, sencha-touch, sencha-touch-2

我正在尝试将饼图添加到现有的 sencha touch mvc 应用程序，如果我将图表相关代码放在 app.js 文件中，饼图显示正常，我面临的问题是如果将图表放在单独的视图中它不显示，我没有看到任何错误也被触发，请我知道他们有什么不同的方法来整合不同视图的饼图吗？

这是我编写饼图代码的视图的示例代码

```
Ext.define('Example.view.PieChartTest', {
    extend: 'Ext.Panel',
    xtype: "piecharttestpage",
    requires: [
        'Ext.chart.Panel',
        'Ext.chart.axis.Numeric',
        'Ext.chart.axis.Category',
        'Ext.chart.series.Pie'

        ],
   intit: function () {
        //this.callParent(arguments);

        window.initExample = function (title, helpText, defaultStore) {
            defaultStore = defaultStore || 'store1';
            window.generateData = function (n, floor) {
                var data = [],
                    i;

                floor = (!floor && floor !== 0) ? 20 : floor;

                for (i = 0; i < (n || 12); i++) {
                    data.push({
                        name: Ext.Date.monthNames[i % 12],
                        data1: Math.floor(Math.max((Math.random() * 100), floor)),
                        data2: Math.floor(Math.max((Math.random() * 100), floor)),
                        data3: Math.floor(Math.max((Math.random() * 100), floor)),
                        2003: Math.floor(Math.max((Math.random() * 100), floor)),
                        2004: Math.floor(Math.max((Math.random() * 100), floor)),
                        2005: Math.floor(Math.max((Math.random() * 100), floor)),
                        2006: Math.floor(Math.max((Math.random() * 100), floor)),
                        2007: Math.floor(Math.max((Math.random() * 100), floor)),
                        2008: Math.floor(Math.max((Math.random() * 100), floor)),
                        2009: Math.floor(Math.max((Math.random() * 100), floor)),
                        2010: Math.floor(Math.max((Math.random() * 100), floor)),
                        iphone: Math.floor(Math.max((Math.random() * 100), floor)),
                        android: Math.floor(Math.max((Math.random() * 100), floor)),
                        ipad: Math.floor(Math.max((Math.random() * 100), floor))
                    });
                }
                return data;
            };

            window.store1 = new Ext.create('Ext.data.JsonStore', {
                fields: ['name', '2004', '2005', '2006', '2007', '2008', '2009', '2010', 'iphone', 'android', 'ipad'],
                data: generateData(5, 20)
            });

            window.store2 = new Ext.data.JsonStore({
                fields: ['name', '2008', '2009', '2010', 'data4', 'data5', 'data6', 'data7', 'data8', 'data9'],
                data: generateData(6, 20)
            });

            window.store3 = new Ext.data.JsonStore({
                fields: ['name', '2007', '2008', '2009', '2010'],
                data: generateData(12, 20)
            });

            var onRefreshTap = function () {
                window[defaultStore].setData(generateData(window[defaultStore].data.length, 20));
            };

            var onHelpTap = function () {
                window.helpPanel = window.helpPanel || Ext.create('Ext.Panel', {
                    ui: 'dark',
                    modal: true,
                    fullscreen: false,
                    hideOnMaskTap: true,
                    centered: true,
                    width: 300,
                    height: 250,
                    styleHtmlContent: true,
                    scrollable: 'vertical',
                    zIndex: 100,
                    items: [
                        {
                            docked: 'top',
                            xtype: 'toolbar',
                            title: title
                        },
                        {
                            html: helpText,
                            hidden: !helpText
                        }
                    ]
                });
                window.helpPanel.show('pop');
            };

            window.createPanel = function (chart) {
                return window.panel = Ext.create('Ext.chart.Panel', {
                    fullscreen: true,
                    title: title,
                    buttons: [
                        {
                            xtype: 'button',
                            iconCls: 'help',
                            iconMask: true,
                            ui: 'plain',
                            handler: onHelpTap
                        },
                        {
                            xtype: 'button',
                            iconCls: 'shuffle',
                            iconMask: true,
                            ui: 'plain',
                            handler: onRefreshTap
                        }
                    ],
                    chart: chart
                });
            };
        };

      window.createPanel(new Ext.chart.Chart({
            themeCls: 'pie1',
            theme: 'Demo',
            store: store1,

            shadow: false,
            animate: true,
            insetPadding: 20,
            legend: {
                position: 'left'
            },
            interactions: [{
                type: 'piegrouping',
                listeners: {
                    selectionchange: function (interaction, selectedItems) {
                        var sum = 0,
                i = selectedItems.length;
                        if (i) {
                            while (i--) {
                                sum += selectedItems[i].storeItem.get('visitors');
                            }
                            window.chartPanel.descriptionPanel.setTitle('Total visitors: ' + sum);
                            window.chartPanel.headerPanel.setActiveItem(1, { type: 'slide', direction: 'left' });
                        }
                        else {
                            window.chartPanel.headerPanel.setActiveItem(0, { type: 'slide', direction: 'right' });
                        }
                    }
                }
            }],
            series: [
                {
                    type: 'pie',
                    field: '2007',
                    showInLegend: true,
                    highlight: false,
                    listeners: {
                        'labelOverflow': function (label, item) {
                            item.useCallout = true;
                        }
                    },
                    // Example to return as soon as styling arrives for callouts
                    callouts: {
                        renderer: function (callout, storeItem) {
                            callout.label.setAttributes({
                                text: storeItem.get('name')
                            }, true);
                        },
                        filter: function () {
                            return false;
                        },
                        box: {
                        //no config here.
                    },
                    lines: {
                        'stroke-width': 2,
                        offsetFromViz: 20
                    },
                    label: {
                        font: 'italic 14px Arial'
                    },
                    styles: {
                        font: '14px Arial'
                    }
                },
                label: {
                    field: 'name'
                }
            }
            ]
        }));
       // this.add(chartpanel);

    },

    config: {
        title: 'info',
        iconCls: 'star',
        scrollable: true,
        cls: 'servicesclass',
        layout: 'vbox',
        height: 500,
        width: 500,
        autoDestroy: true

    }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T16:27:00.863

首先确保您引用的是 sencha touch 发行版中的 sencha touch 库，而不是您可以在 html 中下载的主要 sencha touch 库。

其次，如果您使用 MVCS 文件夹并学习如何使用 ST2 中的新引用，您将省去很多麻烦，这将使调试变得容易 1000 倍。

你也在使用全局变量（窗口。）？？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T13:54:14.700

我知道这个问题，你可以通过转换变量来解决它。在您的视图部分尝试下面的代码并将应用程序的名称更改为您的应用程序

```
generateData = function(n) {
    var data = [];
    var names = ['one', 'two', 'three', 'four'];
    var i;
    for (i = 0; i < n; i++) {
        data.push({description: names[i], value: 3 + i}); //pushes data onto the data array by looping, value is a funciton of i
    }
    return data;
};

var myStore = new Ext.create('Ext.data.Store', {
    fields: ['description', 'value'],
    data: generateData(4)
});

var chart1 =  new Ext.create('Ext.chart.Chart', {

store: myStore, //the store that it will use
height: 480,
width: 320,
    series: [{
        type: 'pie',
        showInLegend: true,
        field: 'value',
        label: { //the label inside each pie
            field: 'description',
            font: '20px Arial',
            display: 'rotate',
            contrast: true
        },
    }],
});

Ext.define('MyApp.view.panel1', {

extend: 'Ext.chart.Panel',

    alias: 'widget.Panel1',

    config:
    {   
        chart: chart1 //displays the chart
    }
}); 
```

在 App.js 文件中输入此面板的名称，即 Panel1

```
Ext.Loader.setConfig({

    enabled: true
});

Ext.application({

    views: [
        'panel1',

    ],
    name: 'MyApp',
    controllers: [
        'your controller name'
    ],

 // include this one only if you have MainNav
    launch: function() {

        Ext.create('MyApp.view.MainNav', {fullscreen: true});
    }

}); 
```

这个对我有用。

# qt - 如何减少 Qt 程序的构建时间

> ID：11753035
> 
> 赞同：4
> 
> 时间：2012-08-01T05:30:39.117
> 
> 标签：qt, qt-creator

我有一个 Qt 项目，构建程序大约需要 15 分钟。每次我做一个小的修改我都要等待很长时间。

有没有办法减少这个构建时间？或者有没有办法“只制作我修改过的文件”然后执行程序？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T05:41:24.543

好吧，检查您是否在所有程序运行中都在重建。以及您是否在运行项目之前对其进行清理。因为如果这样做，它必须重新生成`moc`执行所需的所有这些文件和 output[.o] 文件。

但是通常在进行小的更改时，构建不会花费太多时间。我一直在通过 qt creator 开发一个项目，在进行小修改时不会花费太多时间。但是如果每次执行时都有清理/重建步骤，那肯定会花费整个构建时间。同样，即使您在没有 IDE 帮助的情况下通过终端手动构建项目，只要您在进行小修改后在构建之前不手动删除 moc 文件和 .o 文件，也不会花费太多时间。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-11-03T08:27:26.563

如果您在应用程序中使用 qrc 并且其中有很多文件，则生成 qrc.cpp 和 qrc.obj 文件需要花费太多时间。所以尽量减少qrc系统中的文件数量，同时尽量减少每个文件的大小。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T12:10:08.130

据我所知，使用**预编译头文件**可能会有所帮助，但其效果可能会因您的程序结构而异。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-04T12:22:59.723

适用于减少编译时间的通用 C++ 方法。不要#include 你不需要的东西。如果可能，使用类声明而不是#include'ing 定义。等等

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-07-28T10:52:54.793

这取决于您在哪里进行小修改：如果您修改项目中几乎包含在每个文件中的标头中的某些内容...

除了上述响应之外，如果您使用 linux，请查看 ccache ( [https://ccache.samba.org/](https://ccache.samba.org/) )

# javascript - Javascript：获取对象文字中当前对象属性的名称

> ID：11753039
> 
> 赞同：1
> 
> 时间：2012-08-01T05:30:54.773
> 
> 标签：javascript

将此文件归档在“只是好奇”或“有可能吗？”下。

比如说我有...

```
home: function(options) {
   this._home('home', options)
}

login: function(options) {
    this._home('login', options)
} 
```

`home`并且`login`显然是用于跟踪目的的数十个对象属性的标识符。有没有办法在对象属性中只返回`home`或`login`不使用任何变量（外部函数调用很好）？

**更新：**事实证明这是不可能的。接受的答案并不能完全回答问题，但它是简化对同一属性的多次调用的一个很好的例子。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T05:38:56.393

如果您的意思是在`home`属性引用的函数中，您希望能够以某种方式`"home"`从该属性名称中获取字符串而无需对其进行硬编码，那么不，据我所知，这是不可能的。

只是猜测您要达到的目标，这样的事情至少会有所帮助：

```
function callHome(propName) {
   return function(options) {
      this._home(propName, options);
   }
}

var someObj = {
   home: callHome('home'),
   login: callHome('login')
}
someObj.home({some:"option"}); 
```

至少你不必为每个属性重复相同的函数体。演示：http: [//jsfiddle.net/EeEAw/](http://jsfiddle.net/EeEAw/)

**注意：**我假设`_home()`问题中调用但未定义的函数将在实际代码中的某处定义。我没有在我的答案中显示它，尽管我在我的小提琴中创建了一个虚拟的。

顺便说一句，请注意该函数并不真正“属于”对象或属性 - 没有什么能阻止你做这种事情：

```
var obj = {
   test : "test",
   home : function() {
      alert(this.test);
   }
};
var funcRef = obj.home;
var obj2 = {
   method1 : funcRef
}
obj.home = null;
funcRef();
obj2.method1(); 
```

也就是说，您可以创建对同一个函数的多个引用，即使原始`obj.home`属性设置为其他值，该函数仍将继续存在（只要附加引用继续存在）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T05:55:25.200

标识符解析和对象属性查找使用完全独立的方法。您可以使用*with*将对象添加到作用域链的顶部，但强烈建议不要这样做，并且在严格模式下很可能会完全失败。

因此，如果您有：

```
var obj = {test:'test'};
alert(test); 
```

然后在作用域链上解析标识符*测试。*由于它在那里不存在，因此会引发错误。但是，对于：

```
alert(obj.test); 
```

然后首先解析*obj*并找到对对象的引用，然后将标识符*test*解析为对象的属性。您还可以*使用*：

```
with (obj) {
  alert(test);
} 
```

在这种情况下，*obj*临时放置在作用域链的顶部，因此首先在其上解析*测试。*

# java - JEdi torPane 超链接 swing html

> ID：11753042
> 
> 赞同：1
> 
> 时间：2012-08-01T05:31:17.583
> 
> 标签：java, swing, hyperlink, jeditorpane

我很难让超链接在 JEditorPane 中工作。有人可以告诉我我在这里做错了什么吗？我希望能够单击链接和浏览器以打开该页面。提前致谢。:D

```
 bottomText.setText("<a href=\"http://www.yahoo.com\">Yahoo</a>");
    bottomText.setEditable(false);
    bottomText.setOpaque(false);
    bottomText.setEditorKit(JEditorPane.createEditorKitForContentType("text/html"));
    bottomText.addHyperlinkListener(new HyperlinkListener() {
        public void hyperlinkUpdate(HyperlinkEvent e) {
            if(e.getEventType() == HyperlinkEvent.EventType.ACTIVATED) {

            }
            if(Desktop.isDesktopSupported()) {
                try {
                    Desktop.getDesktop().browse(e.getURL().toURI());
                } catch (IOException e1) {
                    // TODO Auto-generated catch block
                    e1.printStackTrace();
                } catch (URISyntaxException e1) {
                    // TODO Auto-generated catch block
                    e1.printStackTrace();
                }
            }

        }

    }); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T05:48:17.550

哇，那比我更简单：P

```
// Move this
//bottomText.setText("<a href=\"http://www.yahoo.com\">Yahoo</a>");
bottomText.setEditable(false);
bottomText.setOpaque(false);
bottomText.setEditorKit(JEditorPane.createEditorKitForContentType("text/html"))
// To Here
bottomText.setText("<a href=\"http://www.yahoo.com\">Yahoo</a>"); 
```

哦，等到用户在打开浏览器之前点击了链接，在我杀了你之前有大约 4 个窗口；）

**点击更新**

你快到了；）

```
bottomText.addHyperlinkListener(new HyperlinkListener() {
    public void hyperlinkUpdate(HyperlinkEvent e) {
        if (e.getEventType() == HyperlinkEvent.EventType.ACTIVATED) {
            if (Desktop.isDesktopSupported()) {
                try {
                    Desktop.getDesktop().browse(e.getURL().toURI());
                } catch (IOException e1) {
                    // TODO Auto-generated catch block
                    e1.printStackTrace();
                } catch (URISyntaxException e1) {
                    // TODO Auto-generated catch block
                    e1.printStackTrace();
                }
            }
        }
    }
}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-01T05:52:33.797

`bottomText.setEditorKit`之前打电话`bottomText.setText`

# cocos2d-iphone - 横向滚动游戏的最佳方法，cocos2d box2d

> ID：11753043
> 
> 赞同：1
> 
> 时间：2012-08-01T05:31:18.493
> 
> 标签：cocos2d-iphone, scroll, box2d, parallax

我正在尝试使用 cocos2d + box2d 在 ios 中开发一个类似忍者跳跃的游戏，并且可以无限滚动！（不需要视差滚动）无限滚动的最佳做法是什么

1：移动图层（即改变图层位置） 2：移动Camara 3：使用单层的视差滚动（即仅使用一个视差层以相同的速度）

或者任何其他更好的方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T07:18:35.943

您可以查看本教程：[如何使用 LevelHelper 和 SpriteHelper 制作类似 Jetpack Joyride 的游戏](http://www.raywenderlich.com/6929/how-to-make-a-game-like-jetpack-joyride-using-levelhelper-spritehelper-part-1)。

它向您解释了如何使用 Cocos2D 和 Box2D 制作像（Jetpack Joyride）这样的无尽滚动游戏。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T05:36:07.267

我认为您应该考虑视差滚动方法..！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-01T10:39:11.460

您可以对背景层使用视差滚动，并在游戏对象离开屏幕后重置它们。

# inflate - 尝试解压缩时令人困惑的消息“错误：膨胀错误数据错误”

> ID：11753047
> 
> 赞同：0
> 
> 时间：2012-08-01T05:31:40.750
> 
> 标签：inflate

我正在尝试解压缩一个仅包含 1 个文本文件的压缩存档（假设大约 30-40 mb）。

由于某种原因，我不断收到以下错误，我不知道如何理解它！

```
error: inflate error data error
 at /usr/local/share/perl/5.10.0/Archive/Zip/Member.pm line 862
        Archive::Zip::Member::_inflateChunk('Archive::Zip::ZipFileMember=HASH(0x95022a8)', 'SCALAR(0x9400a88)') called at /usr/local/share/perl/5.10.0/Archive/Zip/Member.pm line 798
        Archive::Zip::Member::readChunk('Archive::Zip::ZipFileMember=HASH(0x95022a8)', 32768) called at /usr/local/share/perl/5.10.0/Archive/Zip/Member.pm line 1063
        Archive::Zip::Member::_writeData('Archive::Zip::ZipFileMember=HASH(0x95022a8)', 'IO::File=GLOB(0x9502688)') called at /usr/local/share/perl/5.10.0/Archive/Zip/Member.pm line 991
        Archive::Zip::Member::extractToFileHandle('Archive::Zip::ZipFileMember=HASH(0x95022a8)', 'IO::File=GLOB(0x9502688)') called at /usr/local/share/perl/5.10.0/Archive/Zip/Member.pm line 488
        Archive::Zip::Member::extractToFileNamed('Archive::Zip::ZipFileMember=HASH(0x95022a8)', '/home/websync/3rdParties/SDCDcatalogs//90000LeadingEdge_Catal...') called at grabsdcd.pl line 39 
```

有谁知道这条消息是怎么回事？是我做错了什么还是文件本身损坏了？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-09T13:09:49.203

就我而言，这是因为 zip 文件已以 ascii 格式下载。一旦我将下载设置为二进制，问题就消失了。

网络::FTP

```
$ftp->binary();
$ftp->get....... 
```

注意：'binary' 就在 'get' 之前

# c# - asp中的漫长过程

> ID：11753049
> 
> 赞同：1
> 
> 时间：2012-08-01T05:31:49.507
> 
> 标签：c#, asp.net

我的情况是这样的：

被创建的页面将运行一个很长的过程。...此过程包括： - 读取文件。CSV，将为文件的每一行创建一个发票...在此过程结束时显示一条成功消息。

为此，决定使用更新面板，以便该过程是异步的，并且可以在等待完成该过程时显示 UpdateProgress ...为此，在 scriptmanagment 的属性中添加了 AsyncPostBackTimeout = 7200（2 小时）并且超时是在应用程序的 web.config 中增加，如在 qa 和生产服务器中。

测试是在 localhost 作为 qa 服务器进行的，并且运行良好，在生产服务器上测试功能时会出现问题。

这使得：文件被加载并启动进程......在此期间正在运行 UpdateProgress 但只需要 1 或 2 分钟并结束执行而不显示最后一条消息，就好像截断了进程一样。查看创建的发票时，仅创建文件的前 10 条记录。（来自具有 50,100 或 + 行的文件）

所以我想帮我解决这个问题，因为我不知道可能出了什么问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T05:37:47.390

asp.net is not suited for long running processes.

The default page timeout for IIS is 110 seconds (90 for .net 1.0). You can increase this, but it is not recommended.

If you must do it, here is the setting:

```
<system.web>
   ...
   <httpRuntime executionTimeout="180"/>
   ...
<\system.web> 
```

Refer [httpRuntime](http://msdn.microsoft.com/en-us/library/e1f13641.aspx)

Pass on this work to a windows service, WCF or a stand alone exe. Use your page to get the status of the process from that application.

Here is an example that shows how to use [workflows for long running processes](http://msdn.microsoft.com/en-us/magazine/dd296718.aspx).

You move the bulk of the processing out of asp.net, and free its threads to handle page requests.

# visual-studio - 如何将 TARGETDIR 传递给 CustomActionsData？

> ID：11753054
> 
> 赞同：0
> 
> 时间：2012-08-01T05:32:25.740
> 
> 标签：visual-studio, custom-action

我有一个 VS2010 安装项目。我想将`TARGETDIR`参数传递给`Install`自定义操作。`/TARGETDIR="[TARGETDIR]"`并且`/TARGETDIR="[TARGETDIR]\"`是错误的。

那么，正确的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T05:57:53.013

除了括号之外，您还必须包含引号和尾部反斜杠：

> /name="[目标目录]\"

MSDN 链接[在这里](http://msdn.microsoft.com/en-us/library/2w2fhwzz%28VS.80%29.aspx)。

# unit-testing - 获取 bash 自动完成的输出以进行测试

> ID：11753055
> 
> 赞同：0
> 
> 时间：2012-08-01T05:32:25.837
> 
> 标签：unit-testing, bash

我想做一个单元测试来测试bash自动完成脚本是否正确地扩展了某个字符串（假设光标在末尾）。

（我认为）我希望能够输入一个字符串并捕获`COMPREPLY`.

例如，假设我想在我把`git b<TAB><TAB>`它放在 offer 时测试它`bisect blame branch bundle`。如何从 bash 函数中获取该输出？

如果这令人困惑，我希望能够执行以下操作：

```
output=$(get_compreply "git b")
echo "$output"
> bisect   blame    branch   bundle 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T09:36:17.443

给你：

compgen -c YOUR_INPUT_BEFORE_TAB

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T10:58:14.497

首先，您是否定义了完成`git`？（运行的输出是`complete -p`什么？）

此页面描述了构建 compspecs： http: [//www.debian-administration.org/article/An_introduction_to_bash_completion_part_2](http://www.debian-administration.org/article/An_introduction_to_bash_completion_part_2)

这是一个简化的示例：-

```
$ output=$(compgen -W "bisect blame branch bundle" b)
$ echo $output
bisect blame branch bundle 
```

# xml - 带有子组的 XSLT 变换

> ID：11753066
> 
> 赞同：0
> 
> 时间：2012-08-01T05:33:56.617
> 
> 标签：xml, xslt, xslt-1.0

我下面的输入 xml 在子根标记下有许多 'a' 元素。无论哪个“a”组，有一个keyid，不以“ab”开头，都应该在前面的“a”元素下，它以“ab”（keyid元素）开头。输出将有一个新标签“subdetail”。这是我想要的输出。如果没有子组，则输出中将不存在子细节元素。输入xml

```
<Root>
  <subroot>
    <a>
      <keyid>ab123456</keyid>
      <detail>hi</detail>
    </a>
    <a>
      <keyid>09876</keyid>
      <detail>undermain1</detail>
    </a>
    <a>
      <keyid>087564</keyid>
      <detail>undermain2</detail>
    </a>
    <a>
      <keyid>ab4567</keyid>
      <detail>hi</detail>
    </a>
    <a>
      <keyid>056432</keyid>
      <detail>undermain1</detail>
    </a>
  </subroot>
</Root> 
```

期望的输出

```
<Root>
  <subroot>
    <a>
      <keyid>ab123456</keyid>
      <detail>hi</detail>
      <subdetail>
        <detail>undermain1</detail>
      </subdetail>
      <subdetail>
        <detail>undermain2</detail>
      </subdetail>
    </a>
    <a>
      <keyid>ab4567</keyid>
      <detail>hi</detail>
      <subdetail>
        <detail>undermain1</detail>
      </subdetail>
    </a>
  </subroot>
</Root> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T07:24:18.623

这可以通过使用“ab”键创建一个键来**将**元素分组到最前面**的元素来实现**

```
<xsl:key 
   name="a" 
   match="a[not(starts-with(keyid, 'ab'))]" 
   use="generate-id(preceding-sibling::a[starts-with(keyid, 'ab')][1])" /> 
```

然后，当您将**a**元素与“ab”键匹配时，您可以获得其他**a**元素，如下所示

```
<xsl:apply-templates select="key('a', generate-id())" /> 
```

这是完整的 XSLT

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
   <xsl:output method="xml" indent="yes"/>

   <xsl:key name="a" match="a[not(starts-with(keyid, 'ab'))]" use="generate-id(preceding-sibling::a[starts-with(keyid, 'ab')][1])" />

   <xsl:template match="subroot">
      <xsl:apply-templates select="a[starts-with(keyid, 'ab')]" />
   </xsl:template>

   <xsl:template match="a[starts-with(keyid, 'ab')]">
      <a>
         <xsl:apply-templates select="@*|node()" />
         <xsl:apply-templates select="key('a', generate-id())" />
      </a>
   </xsl:template>

   <xsl:template match="a">
      <subdetail>
         <xsl:copy-of select="detail" />
      </subdetail>
   </xsl:template>

   <xsl:template match="@*|node()">
      <xsl:copy>
         <xsl:apply-templates select="@*|node()"/>
      </xsl:copy>
   </xsl:template>
</xsl:stylesheet> 
```

应用于示例 XML 时，输出以下内容

```
<Root>
   <a>
      <keyid>ab123456</keyid>
      <detail>hi</detail>
      <subdetail>
         <detail>undermain1</detail>
      </subdetail>
      <subdetail>
         <detail>undermain2</detail>
      </subdetail>
   </a>
   <a>
      <keyid>ab4567</keyid>
      <detail>hi</detail>
      <subdetail>
         <detail>undermain1</detail>
      </subdetail>
   </a>
</Root> 
```

# java - 如何在 Linux 中将 jar 文件添加到 CLASSPATH？

> ID：11753072
> 
> 赞同：2
> 
> 时间：2012-08-01T05:34:41.263
> 
> 标签：java, classpath, xalan

我对此很陌生，我需要在 Linux 机器上安装一个应用程序（XSLTC）（我正在使用 PuTTy）。我在[这里](http://xml.apache.org/xalan-j/xsltc_usage.html)阅读了说明。我引用：

> 要使用 XSLTC，只需将 xalan.jar、serializer.jar、xml-apis.jar 和 xercesImpl.jar 放在类路径中

如何将 jar 文件添加到类路径？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-01T05:40:40.867

首先要注意 - 您没有使用“Putty”来设置 CLASSPATH，您使用的是您登录的“shell”，使用 Putty 作为您的 SSH 客户端。

根据您的外壳，有不同的方法来设置您的类路径 -

**Bash**（或兼容的 shell

```
export CLASSPATH=/full/path/to/xalan.jar:/full/path/to/serializer.jar:/full/path/to/xml-apis.jar:/full/path/to/xercesImpl.jar:$CLASSPATH 
```

**C Shell**（或兼容的 Shell）

```
setenv CLASSPATH /full/path/to/xalan.jar:/full/path/to/serializer.jar:/full/path/to/xml-apis.jar:/full/path/to/xercesImpl.jar:$CLASSPATH 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T05:42:57.210

在您的 putty 会话中为`CLASSPATH`所需 jar 的路径定义一个环境变量。如果您在 putty 中使用 bash shell，那么`export CLASSPATH=<Jar Path>:$CLASSPATH`会有所帮助。用于`java -cp .:$CLASSPATH ...`包含您的`CLASSPATH`.

# hibernate - 休眠全文搜索

> ID：11753079
> 
> 赞同：1
> 
> 时间：2012-08-01T05:35:20.813
> 
> 标签：hibernate, search, full-text-search, hibernate-search

我刚刚使用 hibernate-search-4.1.1.Final.jar 和所有运行时依赖项创建了一个休眠全文搜索。此应用程序中没有错误。但是我的 Lucene 查询取消了查询 DSL 并没有返回任何结果。我的意思是不返回表中的任何行。谁能帮帮我吗。

主搜索程序 此 Java 代码用于执行休眠全文搜索。

```
 public class MainSearch {
                public static void main(String args[]) {
            Iterator iterator;
            Session session = HibernateUtil.getSession();
            // FullTextSession fullTextSession = Search.getFullTextSession(session);

            FullTextSession fullTextSession = Search.getFullTextSession(session);
            org.hibernate.Transaction tx = fullTextSession.beginTransaction();

            // create native Lucene query unsing the query DSL
            // alternatively you can write the Lucene query using the Lucene query
            // parser
            // or the Lucene programmatic API. The Hibernate Search DSL is
            // recommended though
            QueryBuilder qb = fullTextSession.getSearchFactory()
                    .buildQueryBuilder().forEntity(Book.class).get();
            org.apache.lucene.search.Query query = qb.keyword()
                    .onFields("title", "subtitle", "authors.name").matching("cpp")
                    .createQuery();

            // wrap Lucene query in a org.hibernate.Query
            org.hibernate.Query hibQuery = fullTextSession.createFullTextQuery(
                    query, Book.class);

            // execute search

            List result = hibQuery.list();
            iterator = result.iterator();
            while (iterator.hasNext()) {
                System.out.print(iterator.next() + " ");
            }
            System.out.println();
            // Check list empty or not
            if (result.isEmpty()) {
                System.out.println("Linked list is empty");
            }

            tx.commit();
            session.close();
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-09-21T11:24:06.077

您没有在数据库中包含任何内容（在您的代码中）。如果您在代码之外进行了操作，则需要先对数据库进行索引，然后才能进行搜索。为此，请执行以下操作：

```
FullTextSession fullTextSession = Search.getFullTextSession(session);
fullTextSession.createIndexer().startAndWait(); 
```

而且您不需要开放交易来搜索内容，因此您可以删除该`org.hibernate.Transaction tx = fullTextSession.beginTransaction();`行（并将其替换为`startAndWait()`上面的行）

参考：[http](http://hibernate.org/search/documentation/getting-started/#indexing) ://hibernate.org/search/documentation/getting-started/#indexing （因为 Lucene 不了解您的 DBMS，反之亦然，Hibernate Search 是它们之间的链接，索引您的数据是它的原因可通过 Lucene 搜索）

# c# - aspx.cs 文件中的变量范围

> ID：11753085
> 
> 赞同：0
> 
> 时间：2012-08-01T05:35:47.673
> 
> 标签：c#, asp.net, webforms, scope

我正在编写以下代码：

```
namespace WebApplication5
{
    public partial class WebForm1 : System.Web.UI.Page
    {
        private DataSet dataset1 = new DataSet();
        OleDbDataAdapter adapter;

        public DataSet ds
        {
            get { return dataset1; }
            set { dataset1 = value; }
        }

        protected void Page_Load(object sender, EventArgs e)
        {
        }

        protected void Button1_Click(object sender, EventArgs e)
        {
            OleDbConnection con = new OleDbConnection();
            con.ConnectionString = @"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=C:\Users\jayant\Documents\User_Details.accdb";
            con.Open();
            adapter = new OleDbDataAdapter("Select * from User_Details",con);
            adapter.Fill(ds);
            GridView1.DataSource = ds;
            GridView1.DataBind();
           //  ds.WriteXml("C:\\MyUser_Details.xml"); If I do this here it writes data
            con.Close();
        }

        protected void Button2_Click(object sender, EventArgs e)
        {
            ds.WriteXml("C:\\MyUser_Details.xml");
            // no data in xml files, just root tags
        }
    }
} 
```

这里我的 DataSet 变量是全局变量，但是当我单击 button2 时，它不会向输出 XML 文件发送任何数据。你能告诉我为什么吗？或者我应该进行哪些修改来执行此操作？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T05:41:20.890

您需要查看[Asp.net 页面生命周期](http://msdn.microsoft.com/en-us/library/ms178472.aspx)，在您的代码中，当您单击按钮页面被破坏并重新创建并遵循整个生命周期并且在该过程中您的 ds(dataset) 也被重新创建，因此输出 xml 中没有任何数据。要维护数据集的状态，请查看[Asp.net 中的状态管理](http://msdn.microsoft.com/en-us/library/75x4ha6s.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T05:41:50.890

这是因为您在回发期间创建了一个新数据集。

移动数据集的初始化`private DataSet dataset1= new DataSet();`

在负载

```
protected void Page_Load(object sender, EventArgs e)
    {
         if(!Page.IsPostBack) { dataset1= new DataSet(); }
    } 
```

显然，在单击 Button2 之前不要忘记单击 Button1 :)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T05:42:13.477

是的，您的 ds 是全局的，但仅在网页的生命周期内是部分正确的。一旦页面被渲染并发送到客户端，您的页面就会被处理，因此它是变量。

如果您希望 ds 在 button_click 事件中可用，请在 Page_Load 事件中填充它

```
protected void Page_Load(object sender, EventArgs e)
{ 
           OleDbConnection con = new OleDbConnection();
           con.ConnectionString = @"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=C:\Users\jayant\Documents\User_Details.accdb";
            con.Open();
            adapter = new OleDbDataAdapter("Select * from User_Details",con);
            adapter.Fill(ds);
            con.close();
} 
```

或者在 Button_Click 事件处理程序中生成数据集。

如果您不想每次都生成此数据集，则必须将此变量保留在**Session**或**ViewState**或**Cache中**

**更新 1**

第三个也是最后一个选项可能是将此数据集变量设置为类级别变量，即静态，并且它始终可用

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-01T05:48:42.023

您不会在 button2_click 的数据集中获得数据，因为 button1_click 和 button2_clicks 是对服务器的完全不同的请求。并且 asp.net 不会在请求之间持久化存储在变量中的数据。如果您需要持久化数据，您应该使用 asp.net 提供的任何状态管理技术，例如 Session 或 Viewstate 或 Caching。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-01T05:53:08.080

我建议请使用`ViewState`as`Session`会消耗大量服务器内存，尽管您可以使用其中任何一个来解决此目的。

我不认为 button1 的事件处理程序除了创建 ds 之外没有做任何事情。所以只有一个事件处理程序可以解决这个目的。

在两个事件处理程序中访问 ds 而不会丢失数据的另一种方法是将 ds 声明为`static`。但这种机制不适合这种情况。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-01T06:12:32.853

```
 protected void Button1_Click(object sender, EventArgs e)
    {
        OleDbConnection con = new OleDbConnection();
        con.ConnectionString = @"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=C:\Users\jayant\Documents\User_Details.accdb";
        con.Open();
        adapter = new OleDbDataAdapter("Select * from User_Details",con);
        adapter.Fill(ds);
        GridView1.DataSource = ds;
        Session.Add("Dataset", ds); //Adding Session here
        GridView1.DataBind();
        con.Close();
    }

    protected void Button2_Click(object sender, EventArgs e)
    {
        DataSet ds = (DataSet)Session["Dataset"]; //Retrieving Value from session
        ds.WriteXml("C:\\MyUser_Details.xml");
    } 
```

# windows - WINDOWS手机视频播放器

> ID：11753087
> 
> 赞同：1
> 
> 时间：2012-08-01T05:35:58.800
> 
> 标签：windows, video

我正在尝试在 windows phone 7.1 模拟器中播放视频。任何人都可以建议在 windows phone 中播放简单视频文件的链接或文章吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T09:46:13.953

```
 <!xaml code in Main Page>
 <MediaElement Name="mediaElement" 
                      Source="xxxxxxxxxxxxxxxxxxxxxxx"
                      AutoPlay="False"
                      MediaOpened="OnMeenter code herediaElementMediaOpened"
                      MediaFailed="OnMediaElementMediaFailed"
                      CurrentStateChanged="OnMediaElementCurrentStateChanged"  />

  <!to play media by on click event>
  <shell:ApplicationBarIconButton
  IconUri="Images/appbar.transport.play.rest.png"
  Text="Play"
  Click="OnAppBarPlayClick" />

 <!this is based on click event>
 void OnAppbarPlayClick(object sender, EventArgs args)
 {
 mediaElement.Play();
 }

 //assign this code in main page

 public MainPage()
 {

 InitializeComponent();
 // Re-assign names already in the XAML file
 appbarPlayButton = this.ApplicationBar.Buttons[1] as ApplicationBarIconButton; 
 } 
```

# php - 根据 .htaccess 文件中的模式显示特定图像

> ID：11753095
> 
> 赞同：3
> 
> 时间：2012-08-01T05:36:33.887
> 
> 标签：php, .htaccess

我有一系列图像，我想为 SEO 重命名。但是，我有超过 6,000 张图像，所以我认为必须对我的 .htaccess 文件进行简单的重写。

当前图像当前使用以下模式命名：

[http://www.mydomain.com/images/small/00005712.jpg](http://www.mydomain.com/images/small/00005712.jpg)

[http://www.mydomain.com/images/medium/00005712.jpg](http://www.mydomain.com/images/medium/00005712.jpg)

[http://www.mydomain.com/images/large/00005712.jpg](http://www.mydomain.com/images/large/00005712.jpg)

我希望能够使用命名方案来调用它们，例如：

[http://www.mydomain.com/5712s-keyword-phrase.jpg](http://www.mydomain.com/5712s-keyword-phrase.jpg)

[http://www.mydomain.com/5712m-keyword-phrase.jpg](http://www.mydomain.com/5712m-keyword-phrase.jpg)

[http://www.mydomain.com/5712l-keyword-phrase.jpg](http://www.mydomain.com/5712l-keyword-phrase.jpg)

这将允许我从以下位置更改显示：

```
<img src="http://www.mydomain.com/images/large/00005712.jpg" /> 
```

到

```
<img src="http://www.mydomain.com/5712l-keyword-phrase.jpg" /> 
```

重写有望让我简单地更改我的 php 文件中 img src 属性的模式。具有新名称的整个站点的 img src 属性实际上会将原始图像呈现到屏幕上。

所有文件名都有 8 位数字名称，左边用 0 填充。

另请注意，如果您知道使用左侧的关键字短语和末尾的数字来执行此操作的方法，例如[http://www.mydomain.com/keyword-phrase-5712s.jpg](http://www.mydomain.com/keyword-phrase-5712s.jpg)它会会更好。

如果我没有提供足够的细节，请让我知道我可以做些什么来澄清。对此问题的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T05:56:39.823

如果您将文件夹重命名为 sm 和 l，您可以使用 1 个规则集

```
RewriteCond %{REQUEST_URI} (.*)\.jpg$
RewriteRule ^0*([1-9])(\d*)(s|m|l)(.*)$ /images/$3/$1$2.jpg 
```

否则你需要 3

```
RewriteCond %{REQUEST_URI} (.*)\.jpg$
RewriteRule ^0*([1-9])(\d*)s(.*)$ /images/small/$1$2.jpg

RewriteCond %{REQUEST_URI} (.*)\.jpg$
RewriteRule ^0*([1-9])(\d*)m(.*)$ /images/medium/$1$2.jpg

RewriteCond %{REQUEST_URI} (.*)\.jpg$
RewriteRule ^0*([1-9])(\d*)l(.*)$ /images/large/$1$2.jpg 
```

***编辑***

根据下面的评论，要丢弃文件名之前的 SEO 术语，请使用：

```
RewriteRule ^.*(\d+)s\.(jpg|gif|png)$ /images/small/$1.$2
RewriteRule ^.*(\d+)m\.(jpg|gif|png)$ /images/medium/$1.$2
RewriteRule ^.*(\d+)l\.(jpg|gif|png)$ /images/large/$1.$2 
```

开头的 .* 会丢弃图像数字之前的所有前导字符。由于现在文件 url 中包含前导零，我们可以只使用 (\d+) 来匹配 (s|m|l) 文件夹指示符和图像文件扩展名之前的 1 个或多个数字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T05:53:15.783

您需要确保在您的服务器上安装并启用了 mod rewrite：

```
RewriteEngine On
RewriteRule *(\d{8})l\.(gif|jpg|png)$ /images/large/$1.jpg
RewriteRule *(\d{8})s\.(gif|jpg|png)$ /images/small/$1.jpg
RewriteRule *(\d{8})m\.(gif|jpg|png)$ /images/medium/$1.jpg 
```

未经测试，我将进行一些编辑以使其如此。

`*`- 匹配 URL 中的任何前导字符

`(\d{8})`- 匹配一组 8 位数字

`l`- 匹配`large`

`\.`- 匹配文字`.`

`(gif|jpg|png)`- 匹配`gif`或`jpg`或`png`

`$`- 匹配 URL 的结尾

把它们放在一起：

匹配表单的任何请求（这是您要求的“更好”解决方案）

`http://www.mydomain.com/keyword-phrase-{ANY 8 DIGITS}.gif`

`http://www.mydomain.com/keyword-phrase-{ANY 8 DIGITS}.jpg`

`http://www.mydomain.com/keyword-phrase-{ANY 8 DIGITS}.png`

笔记

我的缺少填充填充的前导 0，因此您必须在前面包含空的 0。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T05:55:57.387

您可以在服务器中创建一个符号链接，该链接将重写为您的原始路径。

供您参考[链接](http://www.php2s.com/linux/find-real-path-of-linux-symbolic-link-or-soft-link-files-%E2%80%93-linux-command-line.html)

# php - Zend 服务亚马逊不起作用

> ID：11753096
> 
> 赞同：0
> 
> 时间：2012-08-01T05:36:34.463
> 
> 标签：php, zend-framework, amazon-web-services

我创建了亚马逊 API 密钥。这是我的代码：

```
$query = new Zend_Service_Amazon_Query('AMAZON_API_KEY',
                                       'US',
                                       'AMAZON_SECRET_KEY');
$query->category('Books')->Keywords('PHP');
$results = $query->search();
foreach ($results as $result) {
    echo $result->Title . '<br />';
} 
```

但它不打印任何东西。我也尝试使用这个补丁，但它仍然不起作用： http: [//framework.zend.com/issues/browse/ZF-12046](http://framework.zend.com/issues/browse/ZF-12046)

我确定 api 密钥是正确的，因为我没有 500 错误。

我能做些什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-11T21:28:07.663

亚马逊现在需要所有 API 查询的关联标签，请参阅[https://affiliate-program.amazon.com/gp/](https://affiliate-program.amazon.com/gp/) ...：

下文所述的更改将帮助我们继续为您提供相关且有用的功能来宣传亚马逊产品。API 的以下更改将于 2011 年 11 月 1 日生效：

Associate Tag 将是对 API 的所有请求中的必需且经过验证的输入参数

[http://framework.zend.com/manual/en/](http://framework.zend.com/manual/en/)上的示例代码……不再起作用：

```
$query = new Zend_Service_Amazon_Query('AMAZON_API_KEY', 'US', 'AMAZON_SECRET_KEY');    $query->category('Books')->Keywords('PHP'); $results = $query->search(); foreach ($results as $result) { echo $result->Title . ''; } 
```

第一步是更新文档以反映这种工作用法：

```
$query ->category('Books') ->AssociateTag('myassociatetag-21') ->Keywords('PHP'); 
```

但最好更改构造函数：

```
$query = new Zend_Service_Amazon_Query('AMAZON_API_KEY', 'US', 'AMAZON_SECRET_KEY', 'myassociatetag-21'); 
```

……

# webautomation - Sahi Scripts does not work on Internet Explorer and Opera Properly

> ID：11753105
> 
> 赞同：0
> 
> 时间：2012-08-01T05:37:03.320
> 
> 标签：webautomation, sahi

I generate some automation script with using Firefox. Now i playback the scripts in Firefox. Everything is going rigth but in Opera have some Problem. Also in Internet Explorer same as..

In Internet Explorer, this part of the code is generally shown as Failed after script execution:

```
_popup("csi")._assertExists(_div("deneme"));
_popup("csi")._assertEqual("deneme");  
_getText(_div("deneme"))   //This part is failed. 
```

Also in Opera,

`_sahi._popup("csi")._sahi._click(_sahi._link("Bilgi Güncelleme")); //This part is failed.` Related with Character set ?

Finally, This fail parts are working fine in Firefox. What should i do to fix these problems.

Thanks and BR,

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-03T17:20:29.747

```
_popup("csi")._assertEqual("deneme");  
_getText(_div("deneme")) 
```

看起来不正确。它应该是

```
_popup("csi")._assertEqual("deneme", _getText(_div("deneme")); 
```

您是否检查过控制器上 _link("Bilgi Günelleme") 在 Opera 上显示的内容？您也可以尝试使用 _link("/Bilgi/") 来检查错误是否是由于特殊字符引起的。

# jquery - 带有 servlet 的 GSON

> ID：11753112
> 
> 赞同：0
> 
> 时间：2012-08-01T05:38:07.380
> 
> 标签：jquery, jsf-2, jstl, servlet-3.0

**我的文件夹结构：**

![在此处输入图像描述](../Images/8128f3a825a71051d5bc652892bd45fa.png)

**小服务程序：**

```
@WebServlet(name = "KPItoGSON", urlPatterns = {"/KPItoGSON/*"})

    public class KPItoGSON extends HttpServlet {

    /**
     * Processes requests for both HTTP
     * <code>GET</code> and
     * <code>POST</code> methods.
     *
     * @param request servlet request
     * @param response servlet response
     * @throws ServletException if a servlet-specific error occurs
     * @throws IOException if an I/O error occurs
     */
    protected void processRequest(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        response.setContentType("text/html;charset=UTF-8");
        PrintWriter out = response.getWriter();
        try {
            /*
             * TODO output your page here. You may use following sample code.
             */
            out.println("<html>");
            out.println("<head>");
            out.println("<title>Servlet KPItoGSON</title>");            
            out.println("</head>");
            out.println("<body>");
            out.println("<h1>Servlet KPItoGSON at " + request.getContextPath() + "</h1>");
            out.println("</body>");
            out.println("</html>");
        } finally {            
            out.close();
        }
    }

    // <editor-fold defaultstate="collapsed" desc="HttpServlet methods. Click on the + sign on the left to edit the code.">
    /**
     * Handles the HTTP
     * <code>GET</code> method.
     *
     * @param request servlet request
     * @param response servlet response
     * @throws ServletException if a servlet-specific error occurs
     * @throws IOException if an I/O error occurs
     */
    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        processRequest(request, response);
        Gson gson = new Gson();
        HttpServletRequest req = (HttpServletRequest) request;
        KPIListController klc = (KPIListController) req.getSession().getAttribute("kpilist");
        String json = gson.toJson(klc);
        Logger.getLogger(KPItoGSON.class.getName()).warning("The value is"+klc.getKPI().get(1).getUSTER());
        Logger.getLogger(KPItoGSON.class.getName()).info("The json "+json);

      response.setContentType("application/json");
            response.setCharacterEncoding("UTF-8");
            response.getWriter().write(json);
} 
```

**查询：**

```
function onButtonClickOrCertainTime(){
     $.get('KPItoGSON', function(responseText) { // 
            alert(responseText);        
        });
} 
```

错误：

```
/GISPages/KPI/KPItoGSON 404 (Not Found) 
```

我正在尝试BalusC 的[这个](https://stackoverflow.com/questions/4112686/how-to-use-servlets-and-ajax)例子。通过这个例子，我想从数据库中获取新数据到 javascript 变量中并做一些图表。我不习惯 servlet :(。使用 jQuery 向 servlet 发送请求有什么问题？因为我每次按钮或使用数据库中的函数**onButtonClickOrCertainTime** 进行轮询时都想要新数据，所以使用 GSON 和 Servlet 方式更好，或者使用[jstl](https://stackoverflow.com/questions/11733867/reading-bean-list-using-jstl-and-assigning-to-javascript-variable-in-facelets) ?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T10:55:11.660

您的 servlet 已映射，`/KPItoGSON/*`并且您的 webapp 似乎基于迄今为止提供的信息部署在上下文根上。因此，您的 servlet 正在侦听`http://localhost:8080/KPItoGSON`.

您的 404 错误表明 servlet 是从`/GISPages/KPI`文件夹中的 HTML 页面调用的。您已在其中指定了一个相对于路径的 servlet URL，`$.get()`因此它相对于当前请求 URL 中的顶部文件夹（您在浏览器地址栏中看到的 URL）。它试图通过 URL 调用 servlet，`http://localhost:8080/GISPages/KPI/KPItoGSON`因此无效。它应该通过 URL 调用 servlet `http://localhost:8080/KPItoGSON`。

除了将 HTML 页面上移两个文件夹之外，您还可以通过在 ajax 请求 URL 中上移两个文件夹来修复它：

```
$.get('../../KPItoGSON', function(responseText) {
    alert(responseText);        
}); 
```

或使用域相关 URL（以斜杠开头）：

```
$.get('/KPItoGSON', function(responseText) {
    alert(responseText);        
}); 
```

顺便说一句，您应该从您的 servlet**中删除**该方法。`processRequest()`您的 JSON 输出现在带有一段不相关的 HTML 格式错误。

# iphone - 安装时不出现应用程序图标

> ID：11753116
> 
> 赞同：0
> 
> 时间：2012-08-01T05:38:44.027
> 
> 标签：iphone, ios

我已经创建了一个应用程序并上传到我的本地服务器上，当我在我的设备上下载并安装我的应用程序时，应用程序图标不会出现。相反，它只显示白色。安装完成后，应用程序图标变得可见。

它发生在 iphone 3gs 和 iphone 4 上。也在 OS 4 和 5 上。以前有没有人遇到过这种问题。

我已经检查了 info.plist 文件中的应用程序图标键及其正确。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T05:43:56.093

这可能是一个错误，或者只是对较新的 Xcode/iOS 版本的更改，您对此无能为力。无论如何，重要的是在安装您的应用程序时正确显示您的图标。此外，当您的应用程序进入 AppStore 并被下载后，您将不会再遇到此问题——iOS 在下载应用程序时会正确显示（褪色）图标。

# sql - Oracle 子查询消耗大量时间

> ID：11753117
> 
> 赞同：1
> 
> 时间：2012-08-01T05:38:44.417
> 
> 标签：sql, oracle

我在 Oracle 中有如下查询：

```
 SELECT 
    t1.tid, t1.column1, t1.column2
  FROM 
    table1 t1
    JOIN 
    log_table lg ON t1.tid = lg.tid
  WHERE
    t1.insert_date > lg.date_of_insert
    AND lg.log_id = (SELECT MAX(log_for_last.log_id) FROM log_table log_for_last WHERE lg.tid = log_for_last.tid)
    AND t1.insert_date = (SELECT MAX(t1_last_date.insert_date) FROM table1 t1_last_date WHERE t1_last_date.tid = t1.tid); 
```

但是要花很多时间才能完成。问题出在这一行：

```
 AND t1.insert_date = (SELECT MAX(t1_last_date.insert_date) FROM table1 t1_last_date WHERE t1_last_date.tid = t1.tid); 
```

**t1.tid**必须是唯一的。如何优化此查询？

**编辑：**

我尝试了以下操作，但它给了我**SQL 错误：ORA-00904：“RN”：无效标识符**错误：

```
SELECT 
   t1.tid, t1.column1, t1.column2,
   ROW_NUMBER() OVER (ORDER BY t1.insert_date DESC) rn
FROM 
   table1 t1
   JOIN 
   log_table lg ON t1.tid = lg.tid
WHERE
   t1.insert_date > lg.date_of_insert
   AND lg.log_id = (SELECT MAX(log_for_last.log_id) FROM log_table log_for_last WHERE lg.tid = log_for_last.tid)
   AND rn = 1 
```

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-01T06:28:40.977

我解决了我的问题，例如：

```
 SELECT *
 FROM
 (
     SELECT 
        t1.tid, t1.column1, t1.column2,
        ROW_NUMBER() OVER (PARTITION BY t1.tid ORDER BY t1.insert_date DESC) rn
     FROM 
        table1 t1
     JOIN 
        log_table lg ON t1.tid = lg.tid
     WHERE
        t1.insert_date > lg.date_of_insert
       AND lg.log_id = (SELECT MAX(log_for_last.log_id) FROM log_table log_for_last WHERE lg.tid = log_for_last.tid)
)
WHERE rn = 1 
```

我希望它对其他人有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T05:52:13.327

您能否确定为什么该行需要这么长时间（除了对每一行进行评估）。我建议查看查询计划并查看时间在哪里，可能需要一个新索引来提高性能，或者一个微妙的重写可能会奏效。

如果您在查看执行计划时需要帮助，那么我建议您从以下开始。

[SQL*Plus 常见问题解答 - 如何跟踪（和解释）来自 SQL*Plus 的 SQL 语句？](http://www.orafaq.com/wiki/SQL%2aPlus_FAQ#How_does_one_trace_.28and_explain.29_SQL_statements_from_SQL.2APlus.3F)

# c - apr_dso_load faild to load DSO

> ID：11753118
> 
> 赞同：0
> 
> 时间：2012-08-01T05:38:51.403
> 
> 标签：c, dll, shared-libraries, apr

I tried to run unimrcpserver v1.0 with my asr plugin and it worked fine (on windows 7), but when I tried to run it in another machine (windows server 2003), I had this error message

```
2012-08-01 03:57:31:930875 [WARN]   Failed to Load DSO: This application has failed
 to start because the application configuration is incorrect. 
    Reinstalling the application may fix this problem. 
```

the server can not load the DLL library .. is this problem OS specific? cause the problem occurs in apr_dso_load() function which calls OS specific functions. what is meant by application configuration and how to solve this?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T08:33:12.983

您尝试加载的这个库会加载其他库吗？似乎找不到其他库。如果你在 windows 中使用依赖walker，如果你在 linux 中使用 ldd 来了解依赖关系。

# java - 使用 JSON 数据的日期/时间格式的 date.setTime() 时日期错误

> ID：11753120
> 
> 赞同：0
> 
> 时间：2012-08-01T05:38:57.257
> 
> 标签：java, datetime-format, android-date

我从 [http://earthquake.usgs.gov/earthquakes/feed/geojson/all/hour获得了日期/时间格式数据](http://earthquake.usgs.gov/earthquakes/feed/geojson/all/hour)

这是数据的引用：

```
"properties":{
    "mag":0.5,
    "place":"123km NNW of Talkeetna, Alaska",
    "time":1343795877,
    "tz":-480,
    "url":"/earthquakes/eventpage/ak10523664",
    "felt":null,
    "cdi":null,
    "mmi":null,
    "alert":null,
    "status":"AUTOMATIC",
    "tsunami":null,
    "sig":"4",
    "net":"ak",
    "code":"10523664",
    "ids":",ak10523664,",
    "sources":",ak,",
    "types":",general-link,general-link,geoserve,nearby-cities,origin,"
}, 
```

但是当我使用时：

```
Date date1 = new Date();
date1.setTime("1343795877"); 
```

结果是：Fri Jan 16 13:16:35 GMT+00:00 1970 但正确的日期是 2012 年 8 月 1 日星期三 04:37:57 UTC（来自同一网站的 CSV 版本）

我怎样才能得到正确的时间？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T05:48:46.633

数字“1343795877”是[unix 时间](http://en.wikipedia.org/wiki/Unix_time)- 自 1970 年以来经过的时间（以秒为单位）。

您需要将它乘以 1000，因为它是以**秒**为单位的时间，而 Date 构造函数需要毫秒。所以这会变魔术：

```
Date d = new Date(1343795877*1000); 
```

您可以使用在线[UNIX 到日期转换器](http://www.onlineconversion.com/unix_time.htm)来检查它。

请记住，UNIX 时间采用 UTC，它不会模仿用户时区 - 因此您需要应用您的时区。

我建议你使用[JodaTime](http://joda-time.sourceforge.net/)，它真的很方便。

下面是一个转换的例子：

```
DateTime dt = new DateTime(1343795877*1000);
dt.withZone(DateTimeZone.forID("UTC")); 
```

编辑：

```
DateTimeFormatter formatter = 
    DateTimeFormat.forPattern("dd-MM-yyyy HH:mm:ss, SSS [z]");
formatter.print(dt); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T05:47:30.257

首先你的语法是错误的。Date 没有诸如`date.setTime(String)`. 它`date.setTime(Long)`需要`milliseconds as argument`。你得到的`seconds`只是乘以 1000 得到正确的日期。所以你的解决方案是`date1.setTime(1343795877000L);`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-01T06:13:16.050

看看这里它很简单：

```
new Date(epochTime * epochFormat) // '1343795877' this time format is known as epoch time 
```

`epochTime`是长类型的时间，例如。**1343795877L**
`epochFormat`是**1000**如果`epochTime`是**秒**，否则**1**如果是**毫秒**

在你的情况下，它以**秒**为单位，所以乘以**1000**

我认为您还应该使用`SimpleDateFormatter`来**格式化**您的日期：

```
SimpleDateFormat dateFormat = new SimpleDateFormat("EEE dd-MMM-yy", Locale.ENGLISH); // date format and locale you want to use
dateFormat.setTimeZone("Asia/Kolkata"); // can have your time zone
String date = dateFormat.format(new Date(epochTime * epochFormat)); 
```

日期**格式**看[这里](http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html)

# wordpress - How to show user name on menu when member's logged in to wordpress

> ID：11753123
> 
> 赞同：5
> 
> 时间：2012-08-01T05:39:10.670
> 
> 标签：wordpress

In my site I made two different menus. One is for visitors and the other is for logged in members. Here are the codes I've used -

```
<php?
if( is_user_logged_in() ) {
$menu = 'Login Menu';}
else {
$menu = 'Main Menu'; }
wp_nav_menu( array( 'menu' => $menu, 'container_class' => 'menu-header', 'theme_location' => 'primary' ) ); ?> 
```

Now on " Main Menu " I have a button called " Register ". And a button named " Log In ". I want to make this button appears as " Welcome [Login Member's name] " and " Sign Out " respectively when a member log in. And as far as I know this code will go under the " Login Menu ", So how can I do that ?

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-01T06:16:15.177

将以下代码粘贴到您的`functions.php`

```
add_filter('wp_nav_menu_items', 'my_custom_menu_item');

function my_custom_menu_item($items)
{
    if (is_user_logged_in()) {
        $user = wp_get_current_user();
        $name = $user->display_name; // or user_login , user_firstname, user_lastname
        $items .= '<li><a href="">Welcome '.$name.'</a></li>';
    }

    return $items;
} 
```

# mysql - mysql.log 文件和 mysqld.log 文件有什么区别？

> ID：11753133
> 
> 赞同：2
> 
> 时间：2012-08-01T05:40:01.263
> 
> 标签：mysql, database

我想知道 mysql.log 文件和 mysqld.log 文件之间的区别来调整数据库。是否可以删除这两个文件？

# javascript - 带有 jquery 错误的嵌套表单：- 新值覆盖部分中先前选择的值

> ID：11753135
> 
> 赞同：1
> 
> 时间：2012-08-01T05:40:08.933
> 
> 标签：javascript, jquery, ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.2

好吧，我正在尝试在部分内部进行动态组合选择。并且批次号的值保持不变，即我在部分的第一部分其余部分中选择的任何批次号都具有相同的值。

代码如下

形式

```
<%= nested_form_for(@bill) do |f| %>

    <%= f.label :name %><br />
    <%= f.text_field :name %>
  <%= f.link_to_add "add product", :bill_line_items %>
    <%= f.submit %>
<% end %> 
```

部分的

```
<%= javascript_include_tag 'testing' %>
  <div class ="kool">

  <div class ="name"><%= f.label :product_id %>
<%= f.collection_select :product_id,Product.all ,:id,:name, :style => 'width:150px;'%></div><br />

    <div class="list">
    <%= f.label :batch_no %><br />
    <%= f.grouped_collection_select :batch_no, Product.all, :store_opening_stocks, :id, :batch_no, :batch_no %><br/></div>

  </div> 
```

JS文件

```
 jQuery(document).ready(function(){
       var batchNo = jQuery('.list').html();

  jQuery('.name').bind('change',function() {

     var  productSelected = jQuery('.name:selected').val();

   var options = jQuery(batchNo).find("optgroup[label='" + productSelected + "']").html();

     jQuery('.list select').html(options);

            });
          }); 
```

选择产品前的屏幕截图

![在选择产品之前](../Images/b88a6e7789445cadbb72edecf03e7839.png)

屏幕截图 选择产品并单击添加产品后

![选择产品并点击添加产品后](../Images/1ff2e23183c6d132884074c511c6723d.png)

重新选择产品后的屏幕截图

![再次重新选择产品](../Images/3815dfa7e3cd3299f0189013b206da56.png)

如您所见，产品 2 组，即 P1 和 P2（产品 2 的批号）出现在第二部分和第三部分中。以及任何更改产品的尝试，批号显示为空，如图所示。

我该如何解决这个问题？我应该使用`Parent`某处或`this`选项吗？需要指导。

提前致谢。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T09:20:38.947

试试这个。我会帮你的。使用父元素来获取该特定表单的值。在这种情况下， parent 是`kool`并且 getJSON 方法比此方法更受青睐，因此您的代码将是这样的。

```
jQuery(document).ready(function()
{
jQuery(".prod select").bind("change", function() {
      var data = {
        product_id: jQuery(this).val()  
      }
      var wrapperDivElement = jQuery(this).parents(".kool");
      jQuery.getJSON(
         "/customer_bills/get_batch",
        data,
        function(data){
      var result = "",a;
      var b = "<option>Select Batch no</option>"
      for(i=0;i<data.length; i++)
      {
       a = data[i];  
       result = result + "<option value="+a[0]+">"+a[0]+"</option>";
      }
       jQuery('.batch select', wrapperDivElement).html(b+result);
      });            
        });
    }); 
```

在控制器中

```
def get_batch
    @product_batch = StoreOpeningStock.find_all_by_product_id(params[:product_id]).map{|p| [p.batch_no, p.price]} if params[:product_id]
    respond_to do |format|
      format.json { render json: @product_batch }
    end
  end 
```

并在路线中

```
resources :customer_bills do
    collection do
      get :get_batch
    end
  end 
```

这种方法更清晰，更好。祝一切顺利 ：）

# ruby-on-rails - 如何制作未选中的rails单选按钮？

> ID：11753141
> 
> 赞同：0
> 
> 时间：2012-08-01T05:40:46.377
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.1, ruby-on-rails-3.2

我正在尝试使用以下方法在rails中制作一个单选按钮：

`<%= f.radio_button :category_id, "1" %>`

问题是它默认被选中，我不希望用户能够提交表单而不先明确点击一个（基本上我希望在页面加载时取消选中它）

问题是如果它出错并且页面重新加载，如果我添加`:checked => false`它似乎会覆盖用户在收到错误之前输入的内容，并且他们必须再次单击它。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T07:58:09.430

`FormBuilder`助手（每次调用 block 参数 oh a 的输入法时都会使用`form_for`）将始终反映相应属性的当前值。所以：

```
<%= form_for @post do |f| %>
  <%= f.radio_button :category_id, "1" %> 
```

…仅在以下情况下才会被检查`@post.category_id == "1"`

听起来您想要做的是在渲染视图之前确保模型的状态是正确的。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-01T06:34:36.303

如果您想了解选中按钮的状态，您必须以某种方式保存它并将该信息返回到视图中。您可以手动执行此操作，也可以按照 apidock 中的说明让 radio_button[处理](http://apidock.com/rails/ActionView/Helpers/FormHelper/radio_button)

```
# Let's say that @post.category returns "rails":
radio_button("post", "category", "rails")
radio_button("post", "category", "java")
# => <input type="radio" id="post_category_rails" name="post[category]" value="rails" checked="checked" />
#    <input type="radio" id="post_category_java" name="post[category]" value="java" /> 
```

# xslt - 基于两个不同的复杂标签合并标签

> ID：11753150
> 
> 赞同：0
> 
> 时间：2012-08-01T05:41:41.700
> 
> 标签：xslt, xslt-1.0, xslt-2.0, xslt-grouping, muenchian-grouping

下面两个 ASNInPO 的 po_nbr 相同，ASNInCtn 下的 container_id 相同，ASNInItem 下的 item_id 不同。在这种情况下，两个 ASNInPO 必须合并，两个 ASNInCtn 必须合并到一个标签中。这是我的输入：

```
 <?xml version = '1.0' encoding = 'UTF-8'?>
 <ASNInDesc>
    <asn_nbr>ASN-1</asn_nbr>
    <ASNInPO>
      <po_nbr>PO-2</po_nbr>
      <ASNInCtn>
         <container_id>CONTAINER-2</container_id>
         <ASNInItem>
            <item_id>ITEM-2</item_id>
            <unit_qty>3</unit_qty>
         </ASNInItem>
      </ASNInCtn>
   </ASNInPO>
   <ASNInPO>
      <po_nbr>PO-2</po_nbr>
      <ASNInCtn>
         <container_id>CONTAINER-2</container_id>
         <ASNInItem>
            <item_id>ITEM-3</item_id>
            <unit_qty>3</unit_qty>
         </ASNInItem>
      </ASNInCtn>
   </ASNInPO>
  </ASNInDesc> 
```

这是所需的输出：

```
<?xml version = '1.0' encoding = 'UTF-8'?>
 <ASNInDesc>
    <asn_nbr>ASN-1</asn_nbr>
    <ASNInPO>
      <po_nbr>PO-2</po_nbr>
      <ASNInCtn>
         <container_id>CONTAINER-2</container_id>
         <ASNInItem>
            <item_id>ITEM-2</item_id>
            <unit_qty>3</unit_qty>
         </ASNInItem>
         <ASNInItem>
            <item_id>ITEM-3</item_id>
            <unit_qty>3</unit_qty>
         </ASNInItem>        
      </ASNInCtn>
   </ASNInPO>
 </ASNInDesc> 
```

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T05:47:14.407

由于这个问题被标记为`xslt-1.0`，我将发布一个使用[**Muenchian 分组**](http://www.jenitennison.com/xslt/grouping/muenchian.html)方法的 XSLT 1.0 解决方案。（也许其他人会贡献一个 XSLT 2.0 解决方案。比较它们可能是有益的。）

让我们来看看样式表。

```
<xsl:stylesheet version="1.0" 
                xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="xml" indent="yes" encoding="UTF-8"/> 
```

### 分组 1：`ASNInPO`元素按`po_nbr`

由于我们想按元素对`ASNInPO`元素进行分组`po_nbr`，让我们首先定义一个允许 按值检索元素的[**键**](http://www.w3.org/TR/xslt/#key)。`ASNInPO``po_nbr`

```
 <xsl:key name="ASNInPO-by-po_nbr" 
           match="ASNInPO" use="po_nbr"/> 
```

然后我们将编写一个与`ASNInDesc`. 我们将复制该元素及其`asn_nbr`. 现在我们想将包含的`ASNInPO`元素按它们的`po_nbr`. 我们通过将模板应用于每个组中的*第一个来做到这一点：* `ASNInPo`

```
 <xsl:template match="ASNInDesc">
    <xsl:copy>
      <xsl:copy-of select="asn_nbr"/>
      <xsl:apply-templates select="ASNInPO[generate-id() =
                                   generate-id(key('ASNInPO-by-po_nbr', 
                                                   po_nbr)[1])]"/>
    </xsl:copy>
  </xsl:template> 
```

### 分组 2：`ASNInCtn`元素按`container_id`

但在我们更进一步之前，我们需要定义另一个键。似乎我们需要按元素对`ASNInCtn`元素进行分组`container_id`（如果不是这种情况，请参阅下面的注释）。

```
 <xsl:key name="ASNInCtn-by-container_id" 
           match="ASNInCtn" use="container_id"/> 
```

我们需要在以下模板中匹配`ASNInPO` 元素的那个键。请记住，我们在这里处理的元素将是它们组中的第一个元素，因为我们只选择了 `xsl:apply-template`上面的元素。

这个模板类似于我们上面写的那个。我们复制元素本身及其元素`po_nbr`，然后再次将模板应用于`ASNInCtn`按其分组的第一个元素 `container_id`：

```
 <xsl:template match="ASNInPO">
    <xsl:copy>
      <xsl:copy-of select="po_nbr"/>
      <xsl:apply-templates select="key('ASNInPO-by-po_nbr', po_nbr)/
                                   ASNInCtn[generate-id() =
                                   generate-id(key('ASNInCtn-by-container_id',
                                                   container_id)[1])]"/>
    </xsl:copy>
  </xsl:template> 
```

最后，我们编写匹配`ASNInCtn`元素的模板。这将复制元素本身，`container_id`然后复制 *同一组*`ASNInItem`中的所有元素：

 *```
 <xsl:template match="ASNInCtn">
    <xsl:copy>
      <xsl:copy-of select="container_id"/>
      <xsl:copy-of select="key('ASNInCtn-by-container_id', 
                               container_id)/ASNInItem"/>
    </xsl:copy>
  </xsl:template> 
```

我们完成了。

```
</xsl:stylesheet> 
```

### 笔记

该解决方案假定`ASNInCtn`具有给定的元素 `container_id`只能出现在`ASNInPO`具有相同的元素中 `po_nbr`。如果不是这种情况，那么您需要调整 `ASNInPO`对象的键以使用`po_nbr`和的组合`container_id`。*

# html - 将隐藏的输入字段放在文本区域内

> ID：11753151
> 
> 赞同：1
> 
> 时间：2012-08-01T05:41:49.497
> 
> 标签：html, input

我目前正在使用 wmd 文本编辑器。我已经能够毫不费力地完全实现一切。我正在尝试在 textarea 中放置一个隐藏字段，以供以后用于检索`#wmd-preview`div 的值。问题是我让输入字段的 html 文本属性出现在实际的文本区域内。我不确定为什么要这样做，因为输入的属性是`hidden`.

那么如何在 textarea 中放置隐藏的输入字段呢？[例子](http://webprolearner2346.zxq.net/wmd_tester/default.php)

**HTML**

```
<textarea id="wmd-input" name="editor-text" cols="92" rows="15" tabindex="6"><input type="hidden" id="myhidden" name="myhidden" value="<? $wmdVal ?>"></textarea> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-01T05:45:43.673

标签之间的所有内容都`<textarea>`将被视为文本。为什么首先要将它放在文本区域中？为什么不把它放在它下面呢？反正也看不出来。

```
<textarea id="wmd-input" name="editor-text" cols="92" rows="15" tabindex="6"></textarea>
<input type="hidden" id="myhidden" name="myhidden" value="<? $wmdVal ?>" /> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-01T05:47:30.110

你需要把

```
<input type="hidden" id="myhidden" name="myhidden" value="<? $wmdVal ?>"> 
```

之外`<textarea>`。因为当你在 a 中写一些东西时，`<textarea>`就会`<textarea>`认为它本身就是一个值。

您也可以通过将隐藏文本字段放在外面来获取它的值`<textarea>`。

```
<textarea id="wmd-input" name="editor-text" cols="92" rows="15" tabindex="6"></textarea>
<input type="hidden" id="myhidden" name="myhidden" value="<? $wmdVal ?>"> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-01T21:50:02.843

**我找到了答案**

在摆弄了很长时间之后，我在这里发布了这个问题。幸运的是，我在发布问题几分钟后找到了如何做的答案。我不会删除这个问题，因为我是互联网上第一个找到并回答这个问题的人。

为了您的缘故，我为此示例输入了您的代码，尽管它可以是输入的任何代码。

这就是我通过使用链接到弹出 javascript 的隐藏文本区域来解决问题的方法。这样，在第一个 textarea 中放置的内容将作为弹出窗口出现，当单击“Preview”按钮时，隐藏 textarea 中的功能也会出现在弹出窗口中。自己测试一下，你就会明白我的意思。

您可以将任何 HTML 或 JavaScript 代码放在可见文本区域内，同时隐藏所有输入字段，但在打开弹出窗口时处于活动状态。

**注意：**将名称更改为 editortext，从 editor-text 中删除“-”，因为“-”会破坏 JavaScript 使其无效。

**使用您的输入代码的示例：**

```
<form name = "form1">
<textarea name="textfield" cols="107" rows="31" id="CodeExample" wrap="soft" placeholder="Put your Source Codes here">Try me out</textarea>

<textarea hidden="on" id="wmd-input" name="editortext" cols="92" rows="15" tabindex="6">
<input type="hidden" id="myhidden" name="myhidden" value="<? $wmdVal ?>">Your hidden input is here delete this text when finished
</textarea>

<br>

<!-- Run Textarea field in popup BEGIN -->
<script type="text/javascript">
var win = null;
function NewWindow(mypage,myname,w,h,scroll) {
LeftPosition = (screen.width) ? (screen.width-w)/2 : 0;
TopPosition = (screen.height) ? (screen.height-h)/2 : 0;
settings =
'height='+h+',width='+w+',top='+TopPosition+',left='+LeftPosition+',scrollbars='+scroll+',resizable'
win = window.open(mypage,myname,settings);
if (window.focus) {win.focus()}
var t1 = document.form1.textfield.value;
var t2 = document.form1.editortext.value;       
win.document.write(t1);
win.document.write(t2);
}
</script>
<input type = "button" value = "Preview" name = "preview" onclick = "NewWindow('','myPop','500','400','yes')">
<!-- Run Textarea field in popup END -->
</form> 
```

**使用我的输入代码的示例：**

```
<form name = "form1">

<textarea name="textfield" cols="107" rows="31" id="CodeExample" wrap="soft" placeholder="Put your Source Codes here"></textarea>
<textarea hidden="on" name="textfield2" cols="1" rows="1" id="CodeExample2"> </textarea>

<br>

<!-- Run Textarea field in popup BEGIN -->
<script type="text/javascript">
var win = null;
function NewWindow(mypage,myname,w,h,scroll) {
LeftPosition = (screen.width) ? (screen.width-w)/2 : 0;
TopPosition = (screen.height) ? (screen.height-h)/2 : 0;
settings =
'height='+h+',width='+w+',top='+TopPosition+',left='+LeftPosition+',scrollbars='+scroll+',resizable'
win = window.open(mypage,myname,settings);
if (window.focus) {win.focus()}
var t1 = document.form1.textfield.value;
var t2 = document.form1.textfield2.value;       
win.document.write(t1);
win.document.write(t2);
}
</script>
<input type = "button" value = "Preview" name = "preview" onclick = "NewWindow('','myPop','500','400','yes')">
<!-- Run Textarea field in popup END -->

</form> 
```

**注意：**正如您在我的示例中以及在使用您的文本时所看到的，它甚至可以与 HTML 和 JavaScript 代码一起使用。

# java - 如何使用 Java 和 Selenium 根据其文本获取元素索引？

> ID：11753155
> 
> 赞同：0
> 
> 时间：2012-08-01T05:41:58.797
> 
> 标签：java, selenium, webui

所以网页上有一个链接表，我需要元素索引。我知道链接的名称。我尝试了该`selenium.getElementIndex().intValue()`命令，希望有一个整数索引。
但是该`getElementIndex()`函数需要一个字符串定位器作为参数。不确定要传递什么，因为我拥有的关于该元素的唯一信息是它的名称。另外，返回什么样的值`getElementIndex()`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-07-08T09:50:56.157

此代码将返回元素相对于其父元素的索引。只计算具有相同标签的兄弟姐妹

```
int getElementIndex(WebElement element) {
    WebElement parent = element.findElement(By.xpath(".."));
    List<WebElement> siblings = parent.findElements(By.xpath("./" + element.getTagName()));
    int i=0;
    for (WebElement sibling : siblings) {
        if (element.equals(sibling)) {
            return i;
        } else {
            i++;
        }
    }
    throw new NotFoundException(); // Should never happen
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T07:02:11.280

这是[用于`Selenium.getElementIndex()`](http://release.seleniumhq.org/selenium-remote-control/0.9.0/doc/java/com/thoughtworks/selenium/DefaultSelenium.html#getElementIndex%28java.lang.String%29).

它将返回一个`Number`which 是所选元素的索引，并采用一个`String locator`which 用于在 HTML 页面上定位您感兴趣的元素，并且可以是许多东西，例如：-

*   元素的id
*   一些xPath
*   ETC

[更多细节在这里。](http://release.seleniumhq.org/selenium-remote-control/0.9.2/doc/dotnet/Selenium.html)

# ios - 如何使用具有多个列的 UIpickerView 填充 TextField？

> ID：11753156
> 
> 赞同：1
> 
> 时间：2012-08-01T05:42:00.230
> 
> 标签：ios, xcode, nsstring, uitextfield, uipickerview

我有一个带有 textField 的 inputView 的 UIPickerView 显示。我已将pickerView 分成两列。一种是整数 50-500。另一个是 0.25,0.50,0.75。我希望他们能够选择整数，然后选择另一列的数字的小数部分。我不知道如何显示“完整”号码。当我移动第二列时，它只是将其注册为移动第一列并更改整数。我希望用户能够选择一个整数、数字的小数部分、点击完成，并且 textField 显示一个格式为“100.25”的数字或他们选择的任何数字。我已经对完成按钮进行了编码......并且整个数字仅以格式显示，即“100”。

谢谢！

更新！！！代码！！！！

```
-(void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:  (NSInteger)component{
if ([pickerView isEqual:weightPickerView]) {
    weightField.text = [NSString stringWithFormat:@"%d.%d",[weightPickerArray   objectAtIndex:row], [weightPickerArray2 objectAtIndex:row]];

-(void)populateWeightPickerArray{
weightPickerArray = [[NSMutableArray alloc] init];
for (int weight = 50; weight <=500; weight++) {
    NSString *weightString = [NSString stringWithFormat:@"%d%",weight];
    [weightPickerArray addObject:weightString];
}
}

-(void)populateWeightPickerArray2{
weightPickerArray2 = [[NSMutableArray alloc] init];
[weightPickerArray2 addObject:@"0.25"];
[weightPickerArray2 addObject:@"0.50"];
[weightPickerArray2 addObject:@"0.75"];
} 
```

所以我希望用户选择他们的体重——例如第一列为 100，第二列为 0.25。然后我希望文本字段显示 100.25...

更新 2！更改了代码，现在我收到一个错误..

[会话开始于 2012-08-03 10:39:39 -0500。] 2012-08-03 10:39:45.656 CalorieAppFinal[1088:207] -[NSCFNumber isEqualToString:]：无法识别的选择器发送到实例 0x4b336c0 2012-08 -03 10:39:45.661 CalorieAppFinal[1088:207] *** 由于未捕获的异常“NSInvalidArgumentException”而终止应用程序，原因：“-[NSCFNumber isEqualToString:]：无法识别的选择器发送到实例 0x4b336c0”***在第一次抛出时调用堆栈

这是我如何初始化我的 weightPicker

```
 -(IBAction)weightFieldDidBeginEditing{
weightPickerView = [[UIPickerView alloc] init];
weightField.inputView = weightPickerView;
weightPickerView.showsSelectionIndicator = YES;
weightPickerView.delegate = self;
weightPickerView.dataSource = self;
[weightPickerView release];
}

-(void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component{

if ([pickerView isEqual:weightPickerView]) {
    int valOne = [[weightPickerArray objectAtIndex:row] intValue];
    CGFloat valTwo = [[weightPickerArray2 objectAtIndex:row] floatValue];
    weightField.text = [NSString stringWithFormat:@"%d.%.2f",valOne, valTwo];
}

-(void)populateWeightPickerArray{
weightPickerArray = [[NSMutableArray alloc] init];
for (int weight = 50; weight <=500; weight++) {
    [weightPickerArray addObject:[NSNumber numberWithInt:weight]];
}
 }

-(void)populateWeightPickerArray2{
weightPickerArray2 = [[NSMutableArray alloc] init];
[weightPickerArray2 addObject:[NSNumber numberWithFloat:0.25f]];
[weightPickerArray2 addObject:[NSNumber numberWithFloat:0.50f]];
[weightPickerArray2 addObject:[NSNumber numberWithFloat:0.75f]];
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T05:47:33.217

**编辑为第一个答案有点令人困惑

在字符串中显示浮点数或十进制数时，有两种常用方法。

```
stringWithFormat
stringByAppendingFormat 
```

因此，如果您有两个列/选择器触发两个单独的方法，或者如果您触发相同的方法但检查特定的选择器，您可以这样做：

```
- (void)somePickerDidChangeValueMethod:(UIPicker)picker
{
    //If you have on float value
    myTextField.text = [NSString stringWithFormat:@"%.2f",yourFloatValue];
            //the %.xf represents how many decimal places to show
    //If you have two int values
    myTextField.text = [NSString stringWithFormat:@"%d.%d",int1,int2];

    //If incoming number is a float
    myTextField.text = [myTextField.text stringByAppendingFormat:@".%.0f",yourFloatValue];
    //If incoming number is an int
    myTextField.text = [myTextField.text stringByAppendingFormat:@".%d",intVal];
} 
```

希望这会有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-02T03:25:24.480

试试这个：

```
-(void)populateWeightPickerArray2
{
    weightPickerArray2 = [[NSMutableArray alloc] init];
    [weightPickerArray2 addObject:@".25"];  /* remove the leading zero */
    [weightPickerArray2 addObject:@".50"];  /* remove the leading zero */
    [weightPickerArray2 addObject:@".75"];  /* remove the leading zero */
}

-(void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component
{
    if ([pickerView isEqual:weightPickerView]) 
    {
        /* Updated the following line with selectedRowinComponent */
        weightField.text = [NSString stringWithFormat:@"%@%@",[weightPickerArray objectAtIndex:[weightPickerView selectedRowInComponent:0]], [weightPickerArray2 objectAtIndex:[weightPickerView selectedRowInComponent:1]]];
    }
} 
```

要使用数字进行计算：

```
float number = [weightField.text floatValue]; 
```

如果要显示“0.25”、“0.50”和“0.75”，则必须在将小数段附加到整数段之前执行一些字符串操作以删除前导零。看到这个[帖子](https://stackoverflow.com/a/5223737/1479411)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T04:01:21.143

您可以使用下面的答案，但是，如果您打算稍后在某些数学中使用这些值，从长远来看，使用 NSNumber 可能更容易。由您决定-两者都可以。

```
-(void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component
{
    if ([pickerView isEqual:weightPickerView])
    {
        int valOne = [[weightPickerArray objectAtIndex:row] intValue];
        CGFloat valTwo = [[weightPickerArray2 objectAtIndex:row] floatValue];
        weightField.text = [NSString stringWithFormat:@"%d.%.2f",valOne,valTwo];
    }
}

-(void)populateWeightPickerArray
{
    weightPickerArray = [[NSMutableArray alloc] init];
    for (int weight = 50; weight <=500; weight++)
    {
        //easier to store NSNumberWithInt as opposed to a string
        [weightPickerArray addObject:[NSNumber numberWithInt:weight]];
    }
}

-(void)populateWeightPickerArray2
{
    weightPickerArray2 = [[NSMutableArray alloc] init];
    [weightPickerArray2 addObject:[NSNumber numberWithFloat:0.25f]];
    [weightPickerArray2 addObject:[NSNumber numberWithFloat:0.50f]];
    [weightPickerArray2 addObject:[NSNumber numberWithFloat:0.75f]];
} 
```

尝试类似的东西。

希望能帮助到你。

# c# - 无法让外部连接在 EF 中工作

> ID：11753163
> 
> 赞同：2
> 
> 时间：2012-08-01T05:42:36.317
> 
> 标签：c#, linq, entity-framework, linq-to-entities, outer-join

**没关系，我用 join/into 语法解决了这个问题。也许这毕竟是必要的**

我正在尝试让 Linq 外连接来对抗 EntitiyFramework。

```
public List<OSCDagbokDTO> FillDataForOSCDagbokSO(List<OSCDagbokDTO> oscdagboklista)
{
    var kalla_idn = oscdagboklista.Select(k => k.Kalla_id.GetGuidOrNull()).Distinct().ToList();
    var kallaLista = (from k in _gemensamEntityContext.Kalla
                      where kalla_idn.Contains(k.Kalla_id)
                      select new KallaDTO()
                      {
                          Kalla_id = k.Kalla_id,
                          KallaText = k.KallaText
                      }).ToList();

    var nyOSCDagbokLista = (from o in oscdagboklista
                            from k in kallaLista.DefaultIfEmpty()
                            where o.Kalla_id.GetGuidOrNull() == k.Kalla_id
                            select new OSCDagbokDTO()
                            {
                                Id = o.id,
                                Datum = o.Datum,
                                Enhet_id = o.Enhet_id,
                                Handelse = o.Handelse,
                                Kalla = k,
                                Kalla_id = o.Kalla_id,
                            }).ToList();
    return nyOSCDagbokLista;
} 
```

第一条语句是从传入列表中的属性中获取 id 列表。

第二，从该列表创建 DTO 对象。

第三，使用（如我所想的）外连接从传入列表中获取所有项目，与 DTO 列表（kallaLista）连接。我正在使用 DefaultIfEmpty()，我认为它不会从传入列表中过滤掉项目，但它确实如此！

我没有使用“join”语法，因为我从各个站点都了解过，上面的语法应该没问题，我更喜欢它，即使它更老式。

我错过了什么，为什么在使用 DefaultIfEmpty() 时，传入列表中的项目不在 DTO 列表中时会被过滤掉？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T22:18:50.083

如果存在从父实体到子集合的导航属性，我是否可以补充一点，有一种非常简洁的方式来执行外部连接？

假设您有一个带有导航属性的实体`OSCDagbok`（我只是猜测单数形式）`kallaLista`。然后你可以这样做：

```
from o in oscdagboklista
from k in o.kallaLista.DefaultIfEmpty() // mind the "o."
select new OSCDagbokDTO()
... 
```

如果没有，您可以按照您的解决方案进行操作。将`into`a`join`转换为[GroupJoin](http://msdn.microsoft.com/en-us/library/bb534297.aspx)，它是外部连接的 linq 等价物。

# nxt - Lego Mindstorm NXT 2.0 通过计算机通过蓝牙远程控制

> ID：11753168
> 
> 赞同：0
> 
> 时间：2012-08-01T05:42:56.390
> 
> 标签：nxt, lego, mindstorms

您可以通过计算机的蓝牙控制 Lego Mindstorm NXT 2.0 机器人吗？例如使用键盘上的箭头键使机器人无线移动（通过蓝牙或其他方式）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-12T18:51:21.980

是的，一点没错。我喜欢使用 Microsoft Robotics Studio，并且通过一个简单的程序，您可以轻松地使用几乎任何可以获取输入的东西来控制机器人。这是一个使用 Xbox 控制器的程序片段。

```
 private void GamePadAxisUpdated(UpdateAxes update)
        {
            LogInfo("Right x: " + (update.Body.Rx*.001).ToString(CultureInfo.InvariantCulture));
            LogInfo("Right y: " + (update.Body.Ry * .001).ToString(CultureInfo.InvariantCulture));
            LogInfo("Right z: " + (update.Body.Rz * .001).ToString(CultureInfo.InvariantCulture));
            LogInfo(" Left x: " + (update.Body.X * .001).ToString(CultureInfo.InvariantCulture));
            LogInfo(" Left y: " + (update.Body.Y*.001).ToString(CultureInfo.InvariantCulture));
            LogInfo(" Left z: " + (update.Body.Z * .001).ToString(CultureInfo.InvariantCulture));

            var req = new SetDriveRequest {LeftPower = (update.Body.Rx*.0005), RightPower = (update.Body.Y*-.0005)};

            drivePort.DriveDistance(req);
        } 
```

您可以很容易地想象我们正在使用键盘或鼠标或其他任何东西。但事实很简单。

在这里查看全部内容[https://github.com/r0k3t/NxtMSRDS_XboxController](https://github.com/r0k3t/NxtMSRDS_XboxController)

# django - 芹菜/昆布忽略 run_every

> ID：11753171
> 
> 赞同：0
> 
> 时间：2012-08-01T05:43:04.050
> 
> 标签：django, celery, django-celery, kombu, celerybeat

我是我最近部署的kombu/celery 设置。任务执行良好，但似乎几乎连续运行，而不是尊重 run_every 属性。也许更奇怪的是，这种行为只出现在生产中并且在本地运行良好。

我的`tasks.py`样子是这样的：

```
from celery.task import  PeriodicTask
from datetime import timedelta, datetime

class FirstTask(PeriodicTask):
    run_every = timedelta(seconds = 30)
    # Do Stuff 
```

我的`settings.py`包括

```
BROKER_URL = "django://"

import djcelery  
djcelery.setup_loader() 
```

加上`'djcelery'`和`'kombu.transport.django'`在`INSTALLED_APPS`。

在生产中，我`python manage.py celeryd -v 2 -B -s celery -E -l INFO`开始运行我的任务。如果可以解决其他问题，我一直在关注 Chase Seibert 的[教程](http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html "这里")。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T07:44:33.977

完成任务需要多长时间？并且您是否尝试过在重试之前清除队列（`run_every`如果您的队列中已经有任务，芹菜可能不尊重该设置......）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-16T05:21:17.967

为什么在 INSTALLED_APPS 中包含“kombu.transport.django”……？我认为 celery 和 kombu 提供了相同的功能。

# c++ - 从 C++ 调用 C 库

> ID：11753174
> 
> 赞同：2
> 
> 时间：2012-08-01T05:43:08.807
> 
> 标签：c++, c

我有一个由其他人编写的 C 库，我希望从我的 C++ 程序中调用它。C 标头的结构如下：

```
#ifndef INC_MOVE_CLIENT_H
#define INC_MOVE_CLIENT_H

#ifdef __cplusplus
    extern "C" {
#endif

...

int serverConnect(const char *, const char *, MoveStateDeferred *);

...

#ifdef __cplusplus
}
#endif

#endif  // ... INC_MOVE_CLIENT_H 
```

我在我的 C++ 程序中调用 serverConnect，如下所示：

```
#include "helloworld.h"
#include "moveclient.h"

int main(int argc, const char* argv[]) {
    const char* ip = "192.168.1.2";
    const char* port = "7899";
    MoveStateDeferred* m;
    serverConnect(ip, port, m);
} 
```

根据[这些说明](http://www.parashift.com/c++-faq/include-c-hdrs-personal.html)，这对我来说似乎是正确的，但是当我尝试编译时，我得到：

```
$ gcc helloworld.cpp -o helloworld.out
/tmp/ccuS93Yu.o: In function `main':
helloworld.cpp:(.text+0x3c): undefined reference to `serverConnect'
collect2: ld returned 1 exit status 
```

moveclient.c 具有 serverConnect 的实现，并且与其他文件位于同一目录中。我是否使用了不正确的命令进行编译？我需要做些什么来编译 moveclient.c 吗？还是与编译命令无关的其他东西？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-01T05:51:50.400

这不是编译问题，而是链接问题。

假设这`moveclient.c`是您需要的唯一附加文件，那么您有几个选择：

您可以将 .c 文件添加到编译行：

```
g++ helloworld.cpp moveclient.c -o helloworld.out 
```

或者您可以将 .c（和您的 .cpp）文件编译为目标文件并链接它们

```
g++ -c helloworld.cpp
gcc -c moveclient.c
g++ helloworld.o moveclient.o -o helloworld.out 
```

或者，您可以将 moveclient 的内容链接到库中并将该库添加到链接中。创建库的详细信息取决于您的系统以及您想要共享库还是动态库。但是一旦你有了这个库，你的构建线就会像这样（假设你的库被称为`libmoveclient.so`or `libmoveclient.a`）

```
g++ helloworld.cpp -L. -lmoveclient 
```

或者如果您正在使用单独的编译：

```
g++ -c helloworld.cpp
g++ helloworld.o -L. -lmoveclient 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-01T05:46:32.330

编译命令错误。

通常你会做这样的事情：

```
gcc -c helloworld.cpp -o helloworld.o
gcc -c moveclient.c -o moveclient.o
gcc    moveclient.o helloworld.o -o helloworld.out 
```

...这将所有对象链接在一起。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-01T05:45:53.117

到目前为止，您已正确完成所有操作，但您还需要告诉链接器在哪里可以找到`serverConnect`. 如果你有一个`moveclient.c`文件，那么：

```
gcc helloworld.cpp moveclient.c -o helloworld.out 
```

# perl - 如何从 perl 中的数组中获取特定区间内的元素？

> ID：11753177
> 
> 赞同：2
> 
> 时间：2012-08-01T05:43:45.690
> 
> 标签：perl

我有一个间隔列表（大约 42000）和一个值数组（几百万），我想从每个间隔的较长值列表中获取值。

有没有办法（或模块）我可以直接提取每个区间内的值，而不是遍历所有值并与每个区间的循环内的区间进行比较。这是非常耗时的。

例如：

```
foreach my $read_pos ( keys %{ $reads{$chr} } ) {  #$reads{$chr} is the list of all values
    if ( ( $read_pos >= $utr_start ) && ( $read_pos <= $utr_end ) ) { #$utr_start and $utr_end are intervals
        push( @{ $reads_tsx{$acc} }, $read_pos );
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-01T05:52:34.367

只需使用`slice`：

```
@reads_tsx = @reads[$utr_start, $utr_end]; 
```

例子：

```
@nums = (1..200);
@slicenums = @nums[10..20];
print "@slicenums"; 
```

结果：

```
11 12 13 14 15 16 17 18 19 20 21 
```

如果您想要几个间隔，也可以：

```
@nums = (1..200);
@slicenums = @nums[10..15,50..55,140..145];
print "@slicenums"; 
```

结果：

```
11 12 13 14 15 16 51 52 53 54 55 56 141 142 143 144 145 146 
```

如果你有一个哈希，而不是一个列表：

```
%vals = (
    10 => "s10",
    30 => "s30",
    50 => "s50",
);
@nums = (0..200);
@slicenums = grep { exists($vals{$_}) } @nums[10..15,50..55,140..145];
print "@slicenums\n";
print "@vals{@slicenums}\n"; 
```

结果：

```
$ perl 1.pl
10 50
s10 s50 
```

这里`s10`和`s50`是到达间隔的键的对应值：`10..15,50..55,140..145`

# sql - SQL 中的 SELECT * 有什么缺点吗？

> ID：11753181
> 
> 赞同：3
> 
> 时间：2012-08-01T05:44:03.470
> 
> 标签：sql, select

假设我有一个执行 SQL 的程序，并且我想在表中查询 A、B 和 C 列中的值（假设有些列我并不严格需要）。SELECT * 和 SELECT A、B、C 有什么区别？

我的想法到目前为止。仅选择您需要的列：

*   ...将需要更少的内存来存储结果。
*   ...可能会使解析程序中的结果更容易一些。
*   ...不会更快，除非选择的列都可以用覆盖索引检索。

我觉得可能还有其他问题在起作用。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-01T05:54:30.317

你说的是对的，但还有更多。

“select *”的另一个非常重要的问题是如果表模式发生变化会发生什么。如果客户端使用“select *”，它将获得一组可能意想不到的列（更多列，更少列，不同顺序......）。这真是太糟了。

如果客户端选择了它想要的确切列名（A、B、C），那么它将获得具有预期格式（如果可能）或特定、明显错误的结果集。

此外，内存消耗问题和可能用于选择未定义列的网络流量问题对于“大型”应用程序可能至关重要。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-01T05:49:36.087

使用列名进行选择会提高数据库引擎可以从索引访问数据而不是查询表数据的可能性....

[你可以在这里](http://weblogs.asp.net/jgalloway/archive/2007/07/18/the-real-reason-select-queries-are-bad-index-coverage.aspx)阅读一篇非常相关的文章

`SELECT *`当您的数据库架构发生更改时，您的系统会暴露于意外的性能和功能更改，因为您将在表中添加任何新列，即使您的代码未准备好使用或呈现该新数据。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-01T05:48:49.707

如果您使用`select a,b,c from table`. 例如，您正在从作为非聚集索引的键列的列中提取记录；在这种情况下，记录将从非聚集索引页面中检索，因此发出的物理数据库页面读取次数较少。更少的物理页面读取总是更好的性能的好兆头。

**SQL Server 的注意事项**

1.  默认情况下，SQL Sever 将所有列复制到缓冲池，而与 SELECT 查询中使用的列无关。
2.  尽管您在 SQL Server 查询处理中没有发现太大的性能影响，但最好只使用您需要的列，因为这会提高整体系统性能。

更多：[SELECT * Vs。SELECT COLUMNS – SQL Server 优化技术](http://www.discoversql.blogspot.ca/2012/04/select-vs-select-columns-sql-server.html)

# android - 如何在自定义键盘中实现“转发删除”？

> ID：11753188
> 
> 赞同：1
> 
> 时间：2012-08-01T05:45:07.020
> 
> 标签：android, key, android-softkeyboard, forward-delete

我正在为 android 开发一个自定义键盘。我正在使用`KeyEvent.KEYCODE_DPAD_LEFT`和`KeyEvent.KEYCODE_DPAD_RIGHT`左右箭头键。现在我想像普通键盘一样拥有前向删除键，不幸的是android从api级别11开始使用 constant 支持它`KeyEvent.KEYCODE_FORWARD_DEL`。如何为较低的 API 实现前向键删除？

的常量值为`KeyEvent.KEYCODE_FORWARD_DEL`112。当我使用它的值时，它会打印出 character `p`。

我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-03T17:02:11.870

我找到了解决方案：

```
getCurrentInputConnection().deleteSurroundingText(0, 1); 
```

# php - 从多行中选择Mysql数据，算术，排序

> ID：11753194
> 
> 赞同：0
> 
> 时间：2012-08-01T05:45:59.260
> 
> 标签：php, mysql, sorting

我正在从 mysql 数据库中提取数据。我想添加多次跑步的长度，并按跑得最远的人的等级对它们进行排序。

```
 function determineLength($db, $name){
      $getLength = "select length from $db where name = $name and sex = 'male'";
      $gettingLength = mysql_query($getLength);
      while($gotLenth = mysql_fetch_array($gettingLength)){

      more code that calculates total length and returns it as $lengthAccumulator 
      }
      return array('totalLength'=>$lengthAccumulator);
    } 
```

现在，我有 30 个不同的男性，他们的名字永远不会改变，我需要对其进行分类。我应该如何在没有冗余的情况下为每个人运行 mysql 代码？我只能这样想——

```
 $name = john;
    $a = determineLength($db, $name);
    $aLength = $a['totalLength'];

    $name = sam;
    $b = determineLength($db, $name);
    $bLength = $b['totalLength'];

    $name = henry;
    $c = determineLength($db, $name);
    $cLength = $c['totalLength'];

    $name = ted;
    $d = determineLength($db, $name);
    $dLength = $d['totalLength']; 
```

然后将 $aLength、$bLength、$cLength... 存储到一个数组中并以这种方式对它们进行排序。这似乎是错误的做法，更不用说冗余和缓慢了。数据库中有超过 40,000 行数据，因此尝试以这种方式执行此操作会在数据库中运行超过 120 万次？！我可以将名称数组传递给函数，然后在 mysql 代码中使用 ORDER BY length DESC 吗？

我需要帮助。谢谢你！

```
 ****the answer below by zane seemed to work to order the runners, but 
```

我将如何使用这种方法呼应实际排名？我已将他的选择声明替换为我上面的声明，但我将如何回应一个人的等级？我可以将结果保存到数组中然后回显密钥吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-01T05:52:13.120

如果我正确理解您的情况，您可以简单地在一个 SQL 语句中执行此操作：

```
SELECT   name
FROM     $db
GROUP BY name
ORDER BY SUM(length) DESC 
```

一切都已经从结果集中直接排序了。没有程序代码。

上面得到了所有的跑步者，但如果你想得到一组特定的男性跑步者，你可以添加一个`WHERE`像这样的子句：

```
SELECT   name
FROM     $db
WHERE    name IN ('name1', 'name2', 'name3', 'etc...') AND 
         sex = 'male'
GROUP BY name
ORDER BY SUM(length) DESC 
```

要在实际 SQL 中排名，您可以执行以下操作：

```
SELECT     name, @rank:=@rank+1 AS rank
FROM       $db
CROSS JOIN (SELECT @rank:=0) val_init
WHERE      name IN ('name1', 'name2', 'name3', 'etc...') AND 
           sex = 'male'
GROUP BY   name
ORDER BY   SUM(length) DESC 
```

然后参考`rank`php 中的列以获取该人的排名。

# javascript - 在 innerHTML 中调用 javascript 函数

> ID：11753196
> 
> 赞同：2
> 
> 时间：2012-08-01T05:46:28.293
> 
> 标签：javascript

我创建了一个 addRow 函数，它允许我向表中添加行。添加行后，我想创建一个选项来删除新行。有没有办法回收我的功能？

```
function addRow() {
 var table = document.getElementById('dataTable');
 var rowCount = table.rows.length;
 var newRow= table.insertRow((1));
 var c0 = newRow.insertCell
 c0.innerHTML="<div ><img src='include/images/cross.png' alt='delete row' onclick='deleteRow(rowCount)'/></div>";
  }

function deleteRow(row){
 var elem = document.getElementById('tr'+row);
 var old = (elem.parentNode).removeChild(elem);
 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T05:51:28.960

怎么样

`onclick='deleteRow(this)'`

并且有

```
function deleteRow(img) {
  var thisRow = img.parentNode.parentNode.parentNode; // div..td..tr
  thisRow.parentNode.removeChild(thisRow);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T06:01:41.683

*mplungjan*在我之前在技术上回答了，但我已经做了一个例子，所以你去：

```
function addRow() {
    var table = document.getElementById('dataTable');
    var rowCount = table.rows.length;
    var newRow= table.insertRow();
    var c0 = newRow.insertCell();
    c0.innerHTML="<div><img src='http://0.tqn.com/d/cats/1/0/c/i/3/iStock_AngryCat425x282.jpg' alt='delete row' onclick='imageClick(this)'/></div>";
}

// Function for deleting the parent row of a clicked image
window.imageClick = function(img) {
    img.parentNode.parentNode.removeChild(img.parentNode);
} 
```

现场示例：http: [//jsfiddle.net/HPww7/1/](http://jsfiddle.net/HPww7/1/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-01T06:06:50.607

jQuery 允许一个更干净、更优雅和更跨浏览器兼容的解决方案：

```
function addRow() {
    var table = $('#dataTable');
    var newRow = $('<tr><td><div></div></td></tr>');

    // Create an image to place in the new row
    var image = $('<img>')
        .attr('src', 'http://0.tqn.com/d/cats/1/0/c/i/3/iStock_AngryCat425x282.jpg')
        .attr('alt', 'delete row')
        .on('click', function() {
            // Delete parent row on click
            $(this).parents('tr').remove();
        });

    // Append the image to the row and the row to the table
    image.appendTo(newRow);
    newRow.appendTo(table);
} 
```

这是一个活生生的例子：http: [//jsfiddle.net/HPww7/2/](http://jsfiddle.net/HPww7/2/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-01T05:57:55.410

可能的解决方案，使用按钮而不是图像，并为 deleteRow 函数保留对表的引用：

```
<table id='dataTable'></table>
<button onclick='addRow()'>add</button>
<script>
var table = document.getElementById('dataTable');
function addRow() {
 var rowCount = table.rows.length;
 var newRow= table.insertRow(0);
 var c0 = newRow.insertCell();
 var button = document.createElement("button");
 button.innerHTML = "delete";
 button.row = newRow;
 button.addEventListener("click", function(e) {
  deleteRow(this.row);
 })
  c0.appendChild( button );
}

function deleteRow(row){
  table.firstChild.removeChild(row);
}
</script> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-01T06:26:30.623

在图像中，您可以执行以下操作：

```
<img onclick="deleteRow(this);" ...> 
```

然后：

```
function deleteRow(el) {
  var node = el.parentNode;
  while (node && node.tagName.toLowerCase() != 'tr') {
    node = node.parentNode;
  }
  if (node) node.parentNode.removeChild(node);
} 
```

The above allows the image to be anywhere in the cell, it goes up to the first TR ancestor and deletes it. If there isn't one, it does nothing. Using a hard coded string of parent nodes will throw an error if the structure changes.

# objective-c - 推动 NSMutableArray 在 Xcode 4.4 山狮中不起作用

> ID：11753199
> 
> 赞同：0
> 
> 时间：2012-08-01T05:46:39.770
> 
> 标签：objective-c, ios5.1

我无法在 NSMutableArray 上推送内容

请看附上的代码

```
#import "CalculatorBrain.h"

@implementation CalculatorBrain

@synthesize operandStack = _operandStack;

-(NSMutableArray*) operandStack{
    if(self.operandStack == NULL){
        self.operandStack = [[NSMutableArray alloc] init];
    }
    return self.operandStack;
}

-(void)setOperandStack:(NSMutableArray *)operandStack{
    _operandStack = operandStack;
}

-(void) pushOperand:(double) operand{
    [self.operandStack addObject:[NSNumber numberWithDouble:operand]];
    int count = [self.operandStack count];
    NSLog(@"Number pushed is %g", [[self.operandStack objectAtIndex:count - 1] doubleValue]);
}

-(double)popOperand{
    int count = [self.operandStack count];
    NSNumber* value = [self.operandStack objectAtIndex:count - 1];
    double val = 0;
    if(value){
        val = [value doubleValue];
        [self.operandStack removeLastObject];
    }
    NSLog(@"popped %g",val);
    return val;
}
@end 
```

动作是这样调用的：

```
- (IBAction)enterPressed {
    double mynumber= [self.display.text doubleValue];
    NSLog(@"enter pressed....Number is %g", mynumber);
    [self.Brain pushOperand:mynumber];
    int count = [self.Brain.operandStack count];
    NSLog(@"enter pressed... pusehed operand is %g", [[self.Brain.operandStack objectAtIndex:count - 1] doubleValue]);
    self.amIInMiddleOfNumber = NO;
} 
```

我使用这个程序得到的输出是

```
 2012-07-31 22:30:53.838 Calculator[13408:c07] enter pressed....Number is 45
 2012-07-31 22:30:53.840 Calculator[13408:c07] enter pressed... pusehed operand is 0 
```

我也尝试过 lastObject ，但它没有用。

在这里编辑 ----------

我试着添加这个

```
 -(CalculatorBrain *)Brain{
      if(self.Brain == NULL){
          self.Brain = [[CalculatorBrain alloc] init];
      }
      return self.Brain;
  } 
```

现在我的输出只是

```
 2012-08-01 21:03:00.282 Calculator[13706:c07] enter pressed....Number is 23 
```

## 之后整个应用程序崩溃

谢谢。我在 xcode 和 lion 上看到了相同的程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T06:19:24.380

您的访问器方法`Brain`是创建一个无限循环。`self.Brain`调用这个方法，你从它自身内部调用它。

首先，重构该属性，使其称为`brain`. Objective-C 中的属性和实例变量以小写字母开头。

合成如下：

```
@synthesize brain = _brain; 
```

这将创建一个名为 _brain 的支持实例变量，它保存您的属性的值。（请注意，这现在在 Xcode 4.4 中自动完成，但我们将把它留在这里作为指导）。

像这样制作您的访问器方法。您当前实现的主要区别在于您使用的是支持 ivar 而不是递归调用该属性：

```
-(CalculatorBrain *)brain{
    if(!_brain){
        self.brain = [[CalculatorBrain alloc] init];
    }
    return _brain;
} 
```

请注意，使用属性*设置*值很好，因为这是调用 setBrain，并确保调用自定义设置器中的任何内容。

# android - 将 C 与 Android ndk 一起使用

> ID：11753200
> 
> 赞同：6
> 
> 时间：2012-08-01T05:46:46.373
> 
> 标签：android, android-ndk

我正在尝试开发一个从 Java 代码到本机 C 代码的简单调用的 Android 项目。我参考此链接以获得指导：http: [//mobile.tutsplus.com/tutorials/android/ndk-tutorial/](http://mobile.tutsplus.com/tutorials/android/ndk-tutorial/)

当我使用编译 native.c

```
:ndk-build 
```

表明：

```
ndk-build command not found 
```

任何人都可以给出这个原因吗？

谢谢 ，

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-01T05:58:01.107

根据您的问题描述，我假设您的路径未设置。您需要在环境变量中设置 NDK 路径。

有关更多信息，您可以访问以下网站。

*   [http://marakana.com/forums/android/examples/49.html](http://marakana.com/forums/android/examples/49.html)
*   [http://code.google.com/p/awesomeguy/wiki/JNITutorial#Unpack_Android_NDK](http://code.google.com/p/awesomeguy/wiki/JNITutorial#Unpack_Android_NDK)
*   [如何使用 Eclipse 安装和构建 NDK？](https://stackoverflow.com/questions/9407224/how-to-install-and-build-ndk-with-eclipse)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-31T07:38:03.090

就我而言，我尝试通过几种方式设置路径：

*   使用 ndk 目录完成 /etc/paths 文件并重新启动 Mac
*   使用外壳命令：`export NDK_HOME=/Users/myself/directory1/directory2/android-ndk-r9`
*   使用 Eclipse 菜单：Eclipse > Preferences > Android > NDK

但是我总是收到错误消息：“ndk-build command not found”

最后我通过直接在 C/C++ Build Properties 对话框的 Build command 字段中设置路径解决了这个问题：*/Users/myself/directory1/directory2/android-ndk-r9/ndk-build* 我知道这不是一个合适的解决方案但它现在对我有用。

# iphone - 当我打开通知托盘时 NSLocalNotification 触发

> ID：11753201
> 
> 赞同：1
> 
> 时间：2012-08-01T05:46:57.070
> 
> 标签：iphone, objective-c, ios, xcode, ios4

我在 APP 中使用本地通知，然后我处于应用程序的运行模式，我打开通知托盘查看另一个通知，然后我的应用程序通知会自动触发，但还有一些时间可以触发该通知..但它会触发在我安排的开火日期之前..有人可以帮我解决这个问题吗

# iphone - 使用自定义背景时奇怪的 UITableViewCell 阴影？

> ID：11753202
> 
> 赞同：0
> 
> 时间：2012-08-01T05:46:58.197
> 
> 标签：iphone

好的。所以，我想要一个自定义背景，`tableview`所以我使用了以下代码：

```
[[self tableView] setBackgroundColor:[UIColor colorWithPatternImage:
                                    [UIImage imageNamed:@"red-background.png"]]]; 
```

或者

```
[[self view] setBackgroundColor:[UIColor colorWithPatternImage:
                                    [UIImage imageNamed:@"red-background.png"]]];
[self.tableView setBackgroundColor:[UIColor clearColor]]; 
```

但最终结果是： ![在此处输入图像描述](../Images/ca6d72583dfdd45a29344178a5153da8.png)

这真的很烦人和丑陋。

有没有人有任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:32:56.303

![在此处输入图像描述](../Images/89071cab19cd146a3eedac2b9286e676.png)使用这条线，

```
 UITableViewSeparatorStyleSingleLine.
[tableProfile setBackgroundColor:[UIColor clearColor]]; 
```

这是我在我的应用程序中所做的更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T09:57:37.163

好吧原来图像是那样搞砸了......因为我尝试了另一个图像并且它工作得非常好。问题解决了！非常感谢 iApple 的帮助和时间！

# objective-c - Objective-C 继承和类型转换

> ID：11753204
> 
> 赞同：0
> 
> 时间：2012-08-01T05:47:10.313
> 
> 标签：objective-c, ios, inheritance

我有一个带有属性 UIView *view 的超类 O。

```
@interface O : NSObject
{
    UIView *view;
}

@property (nonatomic, weak) UIView *view;

@end 
```

UIView 子类：

```
@interface myView : UIView

@property (nonatomic, weak) UIColor color; 
```

然后我有一个 O 的子类，它的 init 中有以下内容：

```
view = [[myView alloc] init];
view.color = [UIColor redColor]; 
```

color 是一些自定义绘图代码中使用的 myView 的一个属性。

这会导致编译器崩溃，因为 UIView 没有属性颜色。我将能够使用 setColor 方法设置值，但是能够通过点语法访问该属性会很好。

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T05:54:47.863

编辑：

在您的特定情况下，您需要声明`view`为`myView *view`而不是`UIView`在您的 .h 文件中。那么您将可以访问自定义颜色属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T05:51:55.587

试试这个：

```
self.view.backgroundColor=[UIColor redColor]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T05:53:10.570

你将如何使用`setColor:`？我没有看到这样的方法`UIView`。您可以使用`backgroundColor`属性，并使用点和方法表示法访问它。

至于点与方法表示法，分配给 a 的所有属性`.propertyName`都与调用`setPropertyName:`. 仅当`setSomething`不是 a时才可以调用点表示法`@property`，而只是显式声明的方法，但是在 Apple 的框架中，我认为这是不可能的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-01T06:45:23.043

您可以声明您的`O`using `myView`：

哦：

```
@class myView;

@interface O: NSObject {
    myView *view;
}
....
@end 
```

唵：

```
#import "myView.h"

.... 
```

在这种情况下，通过声明`@class myView`您不需要导入哪个好。您只是告诉编译器还有其他地方。现在您可以使用实例的自定义属性。`myView.h``O.h``myView``myView`

另一件事，如果您确定它`O.view`始终是类型`myView`，您可以像这样调用 setter：

```
[view setColor:theColor]; 
```

但我不推荐这样做，因为如果`view`将是其他`UIView`类的实例，您将收到错误，即没有选择器`setColor`。

我强烈建议您`view`使用适当的类声明属性。

# php - 如何覆盖 Magento 模板文件

> ID：11753206
> 
> 赞同：0
> 
> 时间：2012-08-01T05:47:18.313
> 
> 标签：php, magento

我想覆盖

```
app\design\adminhtml\default\default\template\catalog\product\edit\options\type\select.phtml 
```

并用我的自定义模块替换它。我无法替换文件。我将自定义文件放在此位置并创建了一个`app\design\adminhtml\default\default\layout\mymodule.xml`文件：

```
<adminhtml>
    <layout>
        <updates>
            <Mycompany_Mymodule>
                <file>Mycompany_Mymodule.xml</file>
            </Mycompany_Mymodule>
        </updates>
    </layout>
</adminhtml> 
```

但这并没有替换文件。关于我应该尝试什么的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:11:46.710

我能想到的选项：

将核心模板复制到：app/design/adminhtml/default/default/template/catalog/ **my_namespace** /product/edit/options/type/select.phtml

A. 重写块类型：adminhtml/catalog_product_edit_tab_options_type_select，重载构造函数，用你的模板路径调用setTemplate。

或者

B. 挂钩 core_block_abstract_prepare_layout_before 并为该块类调用 setTemplate 与您的模板的路径。

另一个我不确定的选项是推荐的，可以通过模块的 config.xml 添加为管理员设置主题：

```
<stores>
    <admin>
        <design>
            <package>
                <name>default</name>
            </package>
            <theme>
                 <default>mytheme</default>
            </theme>
        </design>
    </admin>
</stores> 
```

然后将修改后的模板放入：app/design/adminhtml/default/ **mytheme** /template/catalog/product/edit/options/type/ select.phtml。

关于这种方法的一个说明是，我记得在某些版本的 magento 上，与 magento 捆绑在一起的社区模块（find）（不确定它是否只是与企业版一起使用）实现了这种方法。

# jquery - 在 iPad 中禁用选择选项字段

> ID：11753207
> 
> 赞同：0
> 
> 时间：2012-08-01T05:47:20.253
> 
> 标签：jquery, html, web-deployment

我有一个下拉菜单，我想禁用一个选项，这样人们就无法选择它。但它似乎不适用于 iPad。你们知道解决这个问题的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T05:55:28.137

如果您使用的是 jQuery 1.6+，请使用 prop

```
.prop('disabled',true);
.prop('disabled',false); 
```

> 应该使用 .prop() 方法来设置禁用和检查，而不是 .attr() 方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:13:46.127

你是否试图做这样的事情：http: [//jsfiddle.net/akhurshid/qQG9V/](http://jsfiddle.net/akhurshid/qQG9V/)

在要禁用`disabled="disabled"`的标签内使用。`<option>`

**HTML**

```
<select>
    <option disabled="disabled">This is disabled</option>
    <option>test value 1</option>
    <option>test value 2</option>
</select>​ 
```

编辑：

**通过使用 Jquery：**

```
$("select option[value*=Sold_Out]").prop('disabled',true);​ 
```

**HTML：**

```
<select>
    <option value="Sold_Out">This is disabled</option>
    <option>test value 1</option>
    <option value="Sold_Out">test value 2</option>
</select>​ 
```

**注意：**标签中有一个空格，即`value`，这就是它不起作用的原因。尝试删除空格或使用符号使其工作。`<option>``Sold Out``underscore _`

[**见工作小提琴**](http://jsfiddle.net/akhurshid/x5dHY/)

# c# - Windows Phone 中固定数量项目的 ObservableCollection 与 List

> ID：11753208
> 
> 赞同：0
> 
> 时间：2012-08-01T05:47:22.300
> 
> 标签：c#, windows-phone-7, list, data-binding, observablecollection

在我的 Windows Phone 应用程序中，绑定到视图的所有集合都是 ObservableCollections。

每次我重新加载数据时，我都会清除这些 ObservableCollections，将新数据加载到列表中（这是固定数量的项目），然后将这些项目添加到 ObservableCollections（在循环中，因为 ObservableCollections 没有 AddRange 方法）。

然后我开始思考，因为我正在清除集合中的项目并添加固定数量的新项目：UI 将列表直接绑定到控件的 DataSource 会更快吗？

请注意，正如我之前所说，我从不将数据增加到集合中。我清除它们并添加新项目。

# android - 从内联类重新加载 ListView

> ID：11753214
> 
> 赞同：1
> 
> 时间：2012-08-01T05:47:49.787
> 
> 标签：android, android-listview

我被困在试图重新`ListView`加载`ListFragment`. 刷新是通过我在`FragmentDialog`. reloadItems方法*已*正确调用，并且我已验证项目列表在变量中已正确更新。

这似乎是一件直截了当的事情，但我被困住了。ListView 从未真正更新过，但我相信它与`Context`使用过的有关。

`onClick`通过使用该属性`ListView`设置的行上的按钮调用。`android:onClick`

**解决方案** 问题是我的选项卡适配器在创建`getItem(...)`时意外地再次被调用，`AlertDialog`并且由于我的代码不佳，它重新实例化了选项卡并且刷新从未发生在可见片段上。（见最后的原始代码）

一旦发现这一点（请参阅接受的答案），我就可以通过修改代码选项卡适配器来维护引用来修复它。这是我的工作标签适配器`ViewPager`，以防它对任何人都有帮助。

```
public class TabsAdapter extends FragmentPagerAdapter implements ActionBar.TabListener, ViewPager.OnPageChangeListener {
    private final Context mContext;
    private final ActionBar mActionBar;
    private final ViewPager mViewPager;
    private final ArrayList<TabInfo> mTabs = new ArrayList<TabInfo>();
    private ArrayList<Fragment> mFragments = new ArrayList<Fragment>();

    static final class TabInfo {
        private final Class<?> mClass;
        private final Bundle mArgs;

        TabInfo(Class<?> _class, Bundle _args) {
            mClass = _class;
            mArgs = _args;
        }

        public String getClassName() {
            return mClass.getName();
        }

        public Bundle getArgs() {
            return mArgs;
        }
    }

    public TabsAdapter(Activity activity, ViewPager pager) {
        super(activity.getFragmentManager());
        mContext = activity;
        mActionBar = activity.getActionBar();
        mViewPager = pager;
        mViewPager.setAdapter(this);
        mViewPager.setOnPageChangeListener(this);
    }

    public void addTab(ActionBar.Tab tab, Class<?> clss, Bundle args) {
        TabInfo info = new TabInfo(clss, args);
        tab.setTag(info);
        tab.setTabListener(this);
        mTabs.add(info);
        mActionBar.addTab(tab);
        Fragment fragment = Fragment.instantiate(mContext, info.getClassName(), info.getArgs());
        mFragments.add(fragment);

        notifyDataSetChanged();
    }

    @Override
    public int getCount() {
        return mTabs.size();
    }

    @Override
    public Fragment getItem(int position) {
        return mFragments.get(position);
    }

    public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {
    }

    public void onPageSelected(int position) {
        mActionBar.setSelectedNavigationItem(position);
    }

    public void onPageScrollStateChanged(int state) {
    }

    public void onTabSelected(Tab tab, FragmentTransaction ft) {
        Object tag = tab.getTag();
        for (int i = 0; i < mTabs.size(); i++) {
            if (mTabs.get(i) == tag) {
                mViewPager.setCurrentItem(i);
            }
        }
    }

    public void onTabUnselected(Tab tab, FragmentTransaction ft) {
    }

    public void onTabReselected(Tab tab, FragmentTransaction ft) {
    }
} 
```

**解决方案结束**

**活动**

```
public class MyActivity extends Activity {
    // unrelated code removed

    public void onClick(View v) {
        // onClick is called via a button on a list item
        MyFragment sf = (MyFragment)mTabsAdapter.getItem(0);
        sf.myClick(v, getFragmentManager());
    }
} 
```

**我的片段**

```
public class MyFragment extends ListFragment {

    static final String TAG = "StatusFragment";
    private ArrayList<MyObject> mItems = null;
    AlarmDataSource datasource;
    StatusAdapter mAdapter;

    public void reloadItems(Context context) {
        Log.d(TAG, "reloadItems");

        datasource = new MyObjectDataSource(context);
        datasource.open();

        mItems = new ArrayList<MyObject>();
        ArrayList<MyObject> active = (ArrayList<MyObject>)datasource.getAllEnabled();
        for (int i = 0; i < active.size(); i++) {
            MyObject next = active.get(i);
            mItems.add(next);
        }

        mAdapter = new StatusAdapter(
                context,
                R.layout.status_list_item,
                mItems);

        // set a breakpoint and this is called when called from
        // statusOptionDialogClose below. Here mAdapter DOES HAVE updated items
        // inside. However getView within the adaper is NOT called
        setListAdapter(mAdapter);

        datasource.close();
    }

    public void myClick(View v, FragmentManager manager) {
        StatusOptionDialog sod = StatusOptionDialog.newInstance(v.getContext());
        sod.setStatusOptionDialogListener(new StatusOptionDialogListener() {

            public void statusOptionDialogClose(Context context) {
                // this is correctly called when dialog closed
                // context is the same as sent in with newInstance above.
                reloadItems(context);
            }
        });
        sod.show(manager, "StatusOptionDialog");
    }
} 
```

有人看出什么不对劲了吗？我尝试了很多不同的方法，但没有任何效果。

*注意*我`mAdapter.notifyDataSetChanged()`在更新时也尝试过，但这也不起作用。我将在今天晚些时候尝试单步执行 Android SDK 代码，看看我是否也可以查明其中的数据，以防数据没有进入适配器或发生奇怪的事情。

**更新**我已经找到了更多的问题。似乎在使用已更新项目`setListItem(mAdapter)`的*mAdapter*`getView(...)`成功调用后，适配器没有被调用。

**更新#2**我已经发布了`reloadItems(...)`我已经提炼成有问题的最简单代码的函数。`setListAdapter(...)`使用具有更新项目的更新适配器调用。但是，当通过`getView(...)` 调用时从不调用`reloadItems(...)``statusOptionDialogClose(...)`

如果我终止应用程序并重新启动它，ListView 会显示更新的数据。只是在再次调用 reloadItems 时不会刷新。

**适配器**

```
public class StatusAdapter extends ArrayAdapter<MyObject> {

    private Context mContext;
    private int mRes;
    private ArrayList<MyObject> mItems;

    public StatusAdapter(Context context, int textViewResourceId, ArrayList<MyObject> items) {
        super(context, textViewResourceId, items);
        this.mItems = items;
        this.mRes = textViewResourceId;
        this.mContext = context;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        View v = convertView;
        if (v == null) {
            LayoutInflater vi = (LayoutInflater)mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            v = vi.inflate(mRes, null);
        }
        Alarm a = mItems.get(position);
        if (a != null) {
            // fills out list item
        }
        return v;
    }

    @Override
    public int getCount() {
        return mItems.size();
    }

    public void setNewList(ArrayList<Alarm> items) {
        this.mItems = items;
    }
} 
```

**选项卡适配器**这用于启用`ViewPager`和选项卡。

```
public class TabsAdapter extends FragmentPagerAdapter implements
        ActionBar.TabListener, ViewPager.OnPageChangeListener {
    private final Context mContext;
    private final ActionBar mActionBar;
    private final ViewPager mViewPager;
    private final ArrayList<TabInfo> mTabs = new ArrayList<TabInfo>();

    static final class TabInfo {
        private final Class<?> clss;
        private final Bundle args;

        TabInfo(Class<?> _class, Bundle _args) {
            clss = _class;
            args = _args;
        }
    }

    public TabsAdapter(Activity activity, ViewPager pager) {
        super(activity.getFragmentManager());
        mContext = activity;
        mActionBar = activity.getActionBar();
        mViewPager = pager;
        mViewPager.setAdapter(this);
        mViewPager.setOnPageChangeListener(this);
    }

    public void addTab(ActionBar.Tab tab, Class<?> clss, Bundle args) {
        TabInfo info = new TabInfo(clss, args);
        tab.setTag(info);
        tab.setTabListener(this);
        mTabs.add(info);
        mActionBar.addTab(tab);
        notifyDataSetChanged();
    }

    @Override
    public int getCount() {
        return mTabs.size();
    }

    @Override
    public Fragment getItem(int position) {
        TabInfo info = mTabs.get(position);
        return Fragment.instantiate(mContext, info.clss.getName(), info.args);
    }

    public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {
    }

    public void onPageSelected(int position) {
        mActionBar.setSelectedNavigationItem(position);
    }

    public void onPageScrollStateChanged(int state) {
    }

    public void onTabSelected(Tab tab, FragmentTransaction ft) {
        Object tag = tab.getTag();
        for (int i = 0; i < mTabs.size(); i++) {
            if (mTabs.get(i) == tag) {
                mViewPager.setCurrentItem(i);
            }
        }
    }

    public void onTabUnselected(Tab tab, FragmentTransaction ft) {
    }

    public void onTabReselected(Tab tab, FragmentTransaction ft) {
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T14:55:38.443

尽量不要每次都设置一个适配器，而是更新你的适配器。

```
mAdapter.setNewList(newList);    //custom method, just replace the old list with the new one
mAdapter.notifyDataSetChanged(); 
```

这意味着您不需要`setListAdapter(mAdapter);`每次都使用，而只是第一次使用。

希望这会帮助你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T14:27:30.713

理论上（正如其他人所指出的）调用`notifyDataSetChanged()`应该就足够了，但是看看[`ListView.invalidateViews()`](http://developer.android.com/reference/android/widget/AbsListView.html#invalidateViews%28%29)在你更新`setNewList()`方法中的数据之后调用是否可以强制你的列表显示新数据（你的`getView()`方法应该被调用）。

如果`getView()`在您强制它时确实被调用但它仍然具有旧数据，那么您可能以某种方式拥有 ListFragment 的冗余副本（并且具有更新的适配器数据的副本不可见）。也许你需要研究你的`mTabsAdapter`实现。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T15:03:53.433

就像 CFlex 说的，你应该只`setListAdapter()`在你`Fragment`第一次创建时调用一次。

看起来您只是想清除您的列表。通常`Adapter`，您使用的将有一种`clear()`方法来为您处理，这可能比每次完全重新分配数据对象要简洁一些。如果您使用的是自定义`Adapter`，那么只需自己覆盖该方法。务必在`notifyDataSetChanged()`对数据进行所有更改后致电。这将导致`ListView`更新其视图。

# android - 滚动Horizo ntalScrollView，希望元素左对齐

> ID：11753218
> 
> 赞同：0
> 
> 时间：2012-08-01T05:47:59.930
> 
> 标签：android, horizontalscrollview

我有一个`HorizontalScrollView`显示多张图片的滚动，如果要显示单张图片，则视图显示在屏幕的右端。我希望它显示在屏幕左侧。怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T06:00:14.923

用户填充父级和重力以将元素放置在您想要的位置。

或者您可以将 RelativeLayout\LinearLayout 与左对齐元素一起使用。

向您展示 XML 布局，以确定您到底想要什么。

# delphi - Delphi (Indy) TIdTCPClient 在线程中

> ID：11753219
> 
> 赞同：4
> 
> 时间：2012-08-01T05:48:03.967
> 
> 标签：delphi, indy

在整个互联网上，我看到似乎通常将“TIdTCPClient”放置在自定义 TThread 后代中......为什么这样做？

有时我也会在这样的线程中看到服务器......为什么？

干杯，阿德里安

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-01T07:06:45.937

Indy 使用阻塞 I/O，最好在线程中处理，这是 Indy 整体设计的核心。阻塞主 UI 线程给用户的印象是应用程序被冻结，而实际上并非如此。有关更多信息，请查看[“Indy 简介”](http://www.indyproject.org/docsite/html/IntroIndy.html)。

# ios - 子类化 UITabbarController 和 AppStore 验证

> ID：11753226
> 
> 赞同：0
> 
> 时间：2012-08-01T05:48:31.207
> 
> 标签：ios, app-store, uitabbarcontroller

我们正在为 iOS 5.0 构建一个应用程序。我在 Apple 文档中发现 UITabbarController 不应该被子类化，因此我们遇到了问题。

我需要对每个标签栏项目执行条件转场，并且我知道我需要使用 performSegueWithIdentifier。但是我不知道如何在不创建 UITabbarController 的子类的情况下做到这一点。

我当然可以，但我听说如果我将这个特定控制器子类化，我的应用程序将无法通过 AppStore 验证。这是真的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T05:53:07.383

我们无法回答“这会进入 AppStore”的问题。只有 Apple 知道您的应用程序是否会获得批准。

但是，似乎文档说不鼓励子类化 UITabBarController - 它也是子类化 NSString、NSArray 等。但这并不是严格禁止的。（Apple 本身就是这样做的，例如在他们的 iTunesStoreUI 私有框架中。）应用程序大多因使用私有 API 而被拒绝——这不是其中之一。

# mysql - MYSQL：存储过程日期操作

> ID：11753227
> 
> 赞同：0
> 
> 时间：2012-08-01T05:48:31.840
> 
> 标签：mysql

我想在mysql中创建存储过程，我想在BIGINT中传递两个参数startDate，在INT中传递noOfDays。因此，在该存储过程中创建 TEMPORARY 表并在其中插入日期。例如，如果我通过了 8 月 1 日。和 10 然后在 TEMPORARY 表中的记录应该是从 8 月 1 日到 8 月 10 日。请为此提出建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:03:13.763

以下程序将为您执行此操作：

```
CREATE PROCEDURE sp_insert_date_data(arg_start_date DATE, arg_no_of_days INT unsigned)
BEGIN
    SET @var_date_cnt = 0;

    DROP TEMPORARY TABLE IF EXISTS tmp_date;
    CREATE TEMPORARY TABLE tmp_date;
    (
        dates DATE NOT NULL
    );

    WHILE(@var_date_cnt < arg_no_of_days)
    DO
        INSERT INTO tmp_date(dates)
        VALUES
        (DATE_ADD(arg_start_date, INTERVAL @var_date_cnt DAY));

        SET @var_date_cnt = @var_date_cnt + 1;
    END WHILE;

    SELECT * FROM tmp_date;
END; 
```

# c - 导致套接字 I/O 问题的异步信号

> ID：11753229
> 
> 赞同：0
> 
> 时间：2012-08-01T05:48:38.210
> 
> 标签：c, sockets, pthreads, signals, mutex

我正在多线程环境中开发客户端 - 服务器应用程序。客户端和服务器都有两个线程。主线程使用套接字（IPv4-TCP）发送数据，客户端相应的主线程接收数据。发送和 recv 函数是作为我设计的一部分的自定义函数。我在另一个线程中为服务器上的 SIGUSR1、SIGUSR2 和 SIGINT 设置了三个信号处理程序。在接收 SIGINT 时，会进行线程清理以优雅地关闭所有套接字并终止线程，而在接收 SIGUSR1,SIGUSR2 时，我设置了两个全局标志，它们在同一线程中使用，并在主线程中自定义发送函数来做一些事情将套接字 id 切换为 IPv6 的操作。（有逻辑让客户端知道套接字已更改为 IPv6）。自定义发送/接收函数有 malloc 和 free 函数。

问题是当我在终端上使用 kill -SIGUSR1 pid 向服务器进程发送信号时，在一些发送调用之后，传输挂起。对于每个发送调用，我正在发送数据包，它具有要发送的数据大小、实际数据和一个可选标志，指示下一个数据将在另一个套接字 id 上。当我在客户端打印数据大小时，在收到信号后某些 recv 调用后它全部为零。我确信 SIGNAL 一定是原因，因为当我反转操作并让客户端将数据发送到服务器（上传）使用相同的发送/接收功能它工作正常。我能够切换套接字 ID。在这两种情况下，我都向服务器进程发送信号。recv 函数 recvs 直到数据量与该数据包的大小部分中指示的相同，因为 TCP 是基于流的。我不确定为什么在接收信号后进行一些发送调用后大小变为零。我使用了互斥锁，除了在设置信号处理程序部分时使用了全局变量。代码如下。

线程 2：

```
fn_sigUsrHandler(SIGUSR1);
fn_sigUsrHandler(SIGUSR2);
fn_sigUsrHandler(SIGINT);
void fn_sigUsrHandler(int p_signal)
{
/* Signal handler structure */
struct sigaction vl_sigStruct;
int vl_errno;
char vl_err_buff[256];

vl_sigStruct.sa_flags = SA_RESTART;
sigemptyset(&vl_sigStruct.sa_mask);

switch(p_signal)
{
    case SIGUSR1:
        vl_sigStruct.sa_handler = fn_switch;
        break;
    case SIGUSR2:
        vl_sigStruct.sa_handler = fn_switch;
        break;
    case SIGINT:
        vl_sigStruct.sa_handler = fn_cleanUP;
        break;
}

vl_errno = sigaction(p_signal, &vl_sigStruct, NULL);
if (vl_errno == -1) {
    fprintf(stdout,"Control Thread-Error in catching SIGUSR1:%s\n",fn_strerror_r(errno,vl_err_buff));
    exit(EXIT_FAILURE);
}

void fn_switch(int st_val){
/*
pthread_mutex_lock(&socket_mutex_3);
ip_proto_switch = 1;
vg_ctrlpacket_sent =1;
pthread_mutex_unlock(&socket_mutex_3);
*/

vg_proto_switch = 1;
vg_ctrlpacket_sent =1;

fprintf(stdout,"Signalled to switch\n");
} 
```

主线程：

```
int vl_err; /* Number of bytes sents */
char err_buff[256]; /* Buffer to hold error message*/
int vl_change_sock = 0;

if(p_flags != NO_DATA_TX)
{
    char *vl_bufData;
    st_packetData vst_packet; /* Structure holding the data to be sent */
    unsigned int vl_packetSize = sizeof(unsigned int) +     sizeof(vst_packet.vst_pad) + (int)p_len;//sss
    vl_bufData = (char *)malloc(vl_packetSize);
    memset(vl_bufData,'\0',vl_packetSize);

    pthread_mutex_lock(&socket_mutex_2);
        if(vg_ctrlpacket_recv == 1){
            ///strcpy(vst_packet.vst_pad,vg_change_socket);
            vl_change_sock = 1;
            vg_ctrlpacket_recv = 0;                 
            fprintf(stdout,"len:%d\n",strlen(vst_packet.vst_pad));
        }
    pthread_mutex_unlock(&socket_mutex_2);

    if(vl_change_sock == 1){

            char *vl_bufData2 = vl_bufData+sizeof(unsigned int);
            snprintf(vl_bufData2,(int)p_len,"%s",p_buffer);
            //memcpy(vl_bufData+sizeof(unsigned int)+(int)p_len,vg_change_socket,sizeof(vst_packet.vst_pad));//sss
        */

        snprintf(vl_bufData,sizeof(unsigned int)+1,"%u",vl_packetSize);
        memcpy(vl_bufData+sizeof(unsigned int),p_buffer,(int)p_len);//sss
        snprintf(vl_bufData+sizeof(unsigned int)+(int)p_len,sizeof(vst_packet.vst_pad)+1,"%s",vg_change_socket);

        vl_err = send(p_mysocket->socket_id,vl_bufData,vl_packetSize,p_flags);
        if(vl_err == -1)
        {
            fprintf(stderr,"mysocket-fn_send-TCP-vl_err err :%s\n",fn_strerror_r(errno,err_buff));//HS
            exit(EXIT_FAILURE);//HS 
        }

        if(debug > 0)
            fprintf(stdout,"The socket before change is :%d client side \n",p_mysocket->socket_id);

        if((p_mysocket->socket_id) == p_mysocket->sock_id[0])
            p_mysocket->socket_id = p_mysocket->sock_id[1];
        else
            p_mysocket->socket_id = p_mysocket->sock_id[0];

        if(debug > 0)
            fprintf(stdout,"The socket after change is :%d client side \n ",p_mysocket->socket_id);

    }
    else{
        snprintf(vl_bufData,sizeof(unsigned int)+1,"%u",vl_packetSize);
        memcpy(vl_bufData+sizeof(unsigned int),p_buffer,(int)p_len);//sss

        vl_err = send(p_mysocket->socket_id,vl_bufData,vl_packetSize,p_flags);
        if(vl_err == -1)
        {
            fprintf(stderr,"mysocket-fn_send-TCP-vl_err err :%s\n",fn_strerror_r(errno,err_buff));//HS
            exit(EXIT_FAILURE);//HS 
        }

    }   

    if(debug > 2){
        /*fprintf(stdout,"size of st_packetData:%d\n",sizeof(st_packetData));
        fprintf(stdout,"vl_packetSize:%d\n",vl_packetSize); 
        fprintf(stdout,"Memcopied-data:%s\n",vst_packet.vst_data);
        fprintf(stdout,"Memcopied-pad:%s\n",vst_packet.vst_pad);
        fprintf(stdout,"Memcopied-size:%d\n",vst_packet.vst_size);//sss
        fprintf(stdout,"Data from buffer:%s\n",p_buffer);
        fprintf(stdout,"data:%s\n",vl_bufData+sizeof(vst_packet.vst_size)+sizeof(vst_packet.vst_pad));*/
        fprintf(stdout,"Copied data:%-10.6s\n",vl_bufData);
        fprintf(stdout,"---------------------------\n");
    }

    //if(vl_err >=(sizeof(vst_packet.vst_size)+ sizeof(vst_packet.vst_pad))) //sss
    if(vl_err >=(sizeof(unsigned int)+ strlen(vg_change_socket)))
    {
        vl_err = vl_err-(sizeof(unsigned int) + strlen(vg_change_socket));//sss
    }
    if(debug > 2)
    {
        fprintf(stdout,"The socket id is :%d.. Thread:%s\n",p_mysocket->socket_id,p_mysocket->vst_nm_thread);
        fprintf(stdout,"The data tx %d.. Thread:%s\n",vl_err,p_mysocket->vst_nm_thread);
    }

    free((void *)vl_bufData);

}
else
{   
    vl_err = send(p_mysocket->socket_id,p_buffer,p_len,0);
    if(vl_err == -1)
    {
        fprintf(stderr,"mysocket-fn_send-TCP-vl_err err :%s\n",fn_strerror_r(errno,err_buff));//HS
        exit(EXIT_FAILURE);//HS 
    }
    if(debug>1)
    {
        fprintf(stdout,"The socket id is :%d.. Thread:%s\n",p_mysocket->socket_id,p_mysocket->vst_nm_thread);
        fprintf(stdout,"The data tx %d.. Thread:%s\n",vl_err,p_mysocket->vst_nm_thread);
    }
}
/* return number of bytes sent */
return vl_err;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-23T18:12:12.580

谢谢大家的回复。经过一些进一步的研究，我发现 SIGUSR1 是由主线程而不是控制线程处理的。由于调用的 fn_recv 具有 malloc 之类的函数，我认为它不是可重入的，因此导致了问题。

我通过屏蔽 SIGUSR1 信号并创建一个单独的线程来设置信号处理程序而不是控制线程来解决它，以避免干扰系统/函数调用。我在新线程中取消屏蔽 SIGUSR1 信号，以确保它仅由这个新线程处理。我现在可以多次传输数据并切换套接字 ID 而不会出现停顿。如果有人需要更多详细信息，请告诉我。***基本上在主线程中屏蔽信号并在子线程中取消它就可以了！***

# c# - 定义属性属性

> ID：11753231
> 
> 赞同：0
> 
> 时间：2012-08-01T05:48:42.937
> 
> 标签：c#, attributes, propertygrid

在下图中，如果我想硬编码它为该类型的类显示的字符串，我应该设置什么属性？

![在此处输入图像描述](../Images/13104da739ededbf5f5fba99a5076640.png)

以同样的方式，我可以通过以下方式对红色圆圈中的属性进行硬编码：

> ```
>  [DisplayName("OriginalJoint2")] 
> ```

黄色突出显示的属性的等价物是什么？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T05:53:45.100

我假设您想在属性网格的“值”列中显示特定的字符串？

为此，您需要实现一个 TypeConverter。请参阅[TypeConverter 简介](http://www.codeproject.com/Articles/6390/Introduction-to-the-TypeConverter)。

# hibernate - 同时加载不同实体类型的对象

> ID：11753235
> 
> 赞同：0
> 
> 时间：2012-08-01T05:49:21.770
> 
> 标签：hibernate

有没有办法可以并行获取一组属于不同类型的对象？我正在读取一个 PurchaseOrder 对象、一个 Invoice 对象和我拥有 Ids 的 Product 对象。有没有一种方法可以使用 Hibernate 将它们一起加载，而不是执行顺序 session.get()s。如果这些 get() 中的每一个都需要 30 毫秒，如果我可以并行而不是顺序执行它们，我会节省 60 毫秒。我只在此事务中进行读取而不进行任何更新。像 getMulti() 这样的东西会很棒！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T09:46:16.090

最后，Hibernate 必须使用 SQL 查询从数据库中加载数据。而且 AFAIK，不可能一次从不相关的表中加载三行。因此，使用 Hibernate API 也是不可能的。

如果实体通过关联连接，您可以使用 HQL 查询一次加载所有内容。例如，如果 PurchaseOrder 与 Product 关联 ManytoOne，与 Invoice 关联 ManyToOne，您可以使用以下 HQL 查询加载 PurchaseOrder 及其发票和产品：

```
select o from PurchaseOrder o
left join fetch o.invoice i
left join fetch o.product p
where o.id = :orderId 
```

# iphone - 缩放中心图像的滚动图像

> ID：11753236
> 
> 赞同：1
> 
> 时间：2012-08-01T05:49:23.357
> 
> 标签：iphone, uiscrollview, uiimageview, photo-gallery

我想滚动图像的数量。当图像进入 iphone 的中心时，它应该被缩放，其他图像应该很小。我尝试使用 openflow 项目。但我无法更改照片大小。还有其他想法吗？请帮帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-04T09:35:26.667

尝试使用此链接。我使用此项目成功更改了图像大小。[https://github.com/nicklockwood/iCarousel](https://github.com/nicklockwood/iCarousel)

# java - 在android中不断“检查”片段可见性/键盘可见性的最佳方法

> ID：11753237
> 
> 赞同：0
> 
> 时间：2012-08-01T05:49:26.013
> 
> 标签：java, android, android-fragments, android-fragmentactivity

我想不断检查片段是否可见或更好。如果键盘存在于 Android 应用程序中。解决这个问题的最佳方法是什么？

我对活动生命周期不太熟悉，但我希望这是正确的方法。下面的代码是用 OnCreate 方法编写的。我需要它不断运行。

```
if (timeFragment.isVisible()){
    Toast.makeText(getApplicationContext(), "Time visible", Toast.LENGTH_LONG).show();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:39:30.633

对于片段，每次片段变为可见或不可见时都会触发函数 setUserVisibleHint(boolean isVisible)。

与轮询相比，这将节省资源。在时间片段中：

```
public void setUserVisibleHint(boolean isVisible) {
    if (isVisible)
        Toast.makeText(getActivity(), "Time becoming visible", Toast.LENGTH_LONG).show();
    else
        Toast.makeText(getActivity(), "Time becoming invisible", Toast.LENGTH_LONG).show();
} 
```

希望这可以帮助...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T16:33:08.533

如果您真正想要的是检查软键盘当前是否在屏幕上（正如我从您对我上面评论的回复中假设的那样），您可以使用这种相当老套的[侦听](http://illusionsandroid.blogspot.com/2011/09/android-soft-virtual-keyboard-listener.html)器方法。

# c# - 通过 SmtpClient 发送电子邮件

> ID：11753243
> 
> 赞同：3
> 
> 时间：2012-08-01T05:49:59.460
> 
> 标签：c#, smtpclient

我的 Outlook 可以使用我的帐户设置发送电子邮件。但我无法从 C# 发送电子邮件。

这是我的帐户设置：

```
Microsoft exchange server: exch.server1.com;
User name: user1@server1.com;
Password: password1; 
```

----- 安全选项卡 -----

```
Encrypt data between Microsoft Office Outlook and Microsoft Exchange - CHECKED;
Logon network security: Negotiate Authentication; 
```

----- 连接选项卡 -----

```
Connect using my Local Area Network (LAN) - SELECTED;
Connect to Microsoft Exchange using HTTP - CHECKED; 
```

----- 交换代理设置表格 -----

```
Use this email to connect to my proxy server fo Exchange: https://owa.server1.com
Connect using SSL only - CHECKED;
Only connect to proxy servers that have this principal name in their certificate: msstd:owa.server1.com;
Proxy authentication settings: NTLM Authentication; 
```

这是我的 C# 代码：

```
var completeMessage = new MailMessage();
completeMessage.From = new MailAddress("ivanov@server1.com");
completeMessage.To.Add("ivanov@server1.com");
completeMessage.Subject = "test subject";
completeMessage.Body ="test body";
var client = new SmtpClient("exch.server1.com");
client.Credentials = new NetworkCredential("user1@server1.com", "password1");
client.Send(completeMessage); 
```

出现以下异常： `The remote name could not be resolved: 'exch.server1.com'`

这个网址“exch.server1.com”被我的办公室屏蔽了。请告诉我应该如何配置 SmtpClient 来发送电子邮件。

# javascript - onclick="doSomething([object Object])" Uncaught SyntaxError: Unexpected identifier

> ID：11753245
> 
> 赞同：7
> 
> 时间：2012-08-01T05:50:17.220
> 
> 标签：javascript, onclick, syntax-error

`var params = {a:1,b:2}; var str = '<a href="#" onclick="doSomething('+params+')">aaaa</a>'; document.write(str);`

当我单击`<a>`页面上的 时，它会抛出“Uncaught SyntaxError：Unexpected identifier”。我无法理解。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-01T05:52:50.033

原因是当您使用字符串连接时，`params`它被强制转换为字符串，结果您会得到类似`[object Object]`括号中的内容。

您最好将参数设置为`var params = '{a:1,b:2}';`.

**更新。**
正如评论中所建议的，另一种可行的方法是使用[`JSON.stringify`](https://developer-new.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/JSON/stringify)：

```
var params = {a:1,b:2};
var str = '<a href="#" onclick="doSomething('
    + JSON.stringify(params)
    + ')">aaaa</a>';
document.write(str); 
```

请注意，`JSON.stringify`旧浏览器可能不支持这些内容，您需要包含[其他库](https://stackoverflow.com/questions/1480393/alternatives-of-json-stringify-in-javascript)才能使其正常工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T05:52:35.510

[object Object] 是任何 JavaScript 对象的字符串表示形式。在您的场景中，您已经`params`连接了一个字符串，这会将任何变量类型转换为字符串。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T05:55:58.033

在你的情况下`str`看起来像这样： `<a href="#" onclick="doSomething([object Object])">aaaa</a>`

如您所见，这不是您想要的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-01T06:21:48.407

Li0liQ 的回答还不错。当您单击该链接时，您可以找到`doSomething[object Object]`

这只是需要的对象。您没有将参数写入`document`. 铸造问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-05-19T16:27:50.753

遇到同样的问题。问题原因：在呈现 html 时，params 被转换为字符串 'object Object'。

问题可以通过两种方式解决：

方法一：在 js 代码中添加点击处理程序。请参阅[添加点击处理程序](https://api.jquery.com/on/)

方法 2：假设我想将一个名为“params”的 JSON 对象传递给 onclick 函数。由于我需要'params'对象的很少属性，而不是像第一种方法那样添加新的处理程序，我宁愿只传递那些特定的参数，如下所示：

```
'<a href="#" onclick="doSomething(\'' + params['attribute1'] + '\'\, \'' +params['attribute2'] + '\'\)">aaa</a>' 
```

# c# - 如何在 C# 编码中根据财政年度设置 RaddatePicker 最小日期和最大日期？

> ID：11753246
> 
> 赞同：1
> 
> 时间：2012-08-01T05:50:33.633
> 
> 标签：c#, asp.net-ajax, telerik, rad-controls

我正在为我的项目使用 ASP RadControls。我想知道如何根据财政年度设置 MinDate 和 MaxDate。我尝试以下代码，但我不知道如何将最小值和最大值设置为 datepicker。请帮助我。

```
 string finyear = ViewState["FIN_YR"].ToString();//viewstate["FIN_YR"]="1112"
     string pr = finyear.Substring(0, 2);//pr="11"
     string pr1 = "20";
     string year1 =pr1+pr;//year1="2011"
     int firstyear = Convert.ToInt32(year1);
     string pa = finyear.Substring(2, 2);//pa="12"
     string year2 = pr1 + pa;//year2="2012"
     int Secondyear = Convert.ToInt32(year2);
     dtpRemitDate.MinDate = System.DateTime.Parse("firstyear/4/1"); 
```

我试过这样但`System.DateTime.Parse("int,int,int");`只能接受。如何将 min Date 设置为 datepicker？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-01T05:55:52.607

首先，我会尝试形成*更少*的字符串操作。看起来你只需要两个：

*   使用隐含的“2000”基数解析最小年份
*   使用隐含的“2000”基数解析最大年份

其余的基于`DateTime`和`int`：

```
string financialYearText = ViewState["FIN_YR"].ToString();
int minYear2Digits = int.Parse(financialYearText.Substring(0, 2));
int maxYear2Digits = int.Parse(financialYearText.Substring(2, 2));
dtpRemitDate.MinDate = new DateTime(minYear2Digits + 2000, 4, 1);
dtpRemitDate.MaxDate = new DateTime(maxYear2Digits + 2000, 4, 1); 
```

这假设它将*始终*基于 2000 年 - 如果您有“旧”记录，例如“8788”，这应该意味着 1987 年和 1988 年，您需要做更多的工作。

# python - 在 python 字符串中使用'\'标签

> ID：11753250
> 
> 赞同：1
> 
> 时间：2012-08-01T05:50:49.850
> 
> 标签：python

python字符串中'\'标签的用途是什么。例如，我必须执行这个命令：

```
cmd = 'exec ' + cs_bin + ' ' +  \
               vmtree.rsplit('-', 1)[1].split('/')[0] + ' --xml ' \
               + tmp_corefile + ' | ' + XML2HTML 
```

'\' 是干什么用的？谢谢你。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-01T05:51:29.957

`\`用于续行。

但是，您应该只在需要时使用它：

引自[PEP-8](http://www.python.org/dev/peps/pep-0008/)：

> 包装长行的首选方法是在括号、方括号和大括号内使用 Python 的隐含行继续。通过将表达式括在括号中，可以将长行分成多行。这些应该优先使用反斜杠来继续行。确保适当缩进续行。打破二元运算符的首选位置是在运算符之后，而不是在它之前。

IMO 这看起来更好：

```
cmd = ('exec ' + cs_bin + ' ' +
       vmtree.rsplit('-', 1)[1].split('/')[0] + ' --xml ' + tmp_corefile + ' | ' 
       + XML2HTML) 
```

PEP-8 中也提到了为什么这些行是连续的而不是一大行的原因：

> 将所有行限制为最多 79 个字符。
> 
> 周围还有很多设备限制在 80 个字符行；此外，将窗口限制为 80 个字符可以让多个窗口并排放置。此类设备上的默认包装会破坏代码的视觉结构，使其更难理解。因此，请将所有行限制为最多 79 个字符。对于流动的长文本块（文档字符串或注释），建议将长度限制为 72 个字符。

# sql-server - SQL Server 会自行更新吗？

> ID：11753251
> 
> 赞同：-2
> 
> 时间：2012-08-01T05:51:01.097
> 
> 标签：sql-server

我有一个使用 hibernate 和 sql server 2008 的 Web 应用程序，突然我的一个表单没有显示任何数据（一个特殊表的数据）。我无法恢复该数据库的备份，因为我认为版本已更改！！！！但是不知道怎么改的？我现在该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T05:55:56.793

没有。即使有新版本可用，SQL Server 也不会自行更新。它总是要求获得更新自身的许可。如果您不提供该权限，SQL Server 将不会更新。

您可能以某种方式授予您的系统更新 SQL Server 的权限。

# iphone - UIImagePickerController didFinishPickingMediaWithInfo 委托调用是否延迟？

> ID：11753253
> 
> 赞同：0
> 
> 时间：2012-08-01T05:51:13.390
> 
> 标签：iphone, ios5, xcode4.3

我是 iphone 开发新手。我在我的应用程序中实现 UIImagePickerController。当调用 didFinishPickingMediaWithInfo 委托时，即单击选择按钮时有一些延迟。我的代码如下

```
- (void)imagePickerController:(UIImagePickerController *)picker   didFinishPickingMediaWithInfo:(NSDictionary *)info 
{
       LGViewHUD* hud = [LGViewHUD defaultHUD];
       hud.activityIndicatorOn=YES;
       hud.bottomText=@"Login..";
       [hud showInView:picker.view];
       [self performSelectorInBackground:@selector(pickerFunction:) withObject:info];
}

- (void) pickerFunction :(NSDictionary *)info
{
    profilePicture.image = [info objectForKey:@"UIImagePickerControllerEditedImage"];
    [imgPicker dismissModalViewControllerAnimated:YES];
} 
```

我正在尝试在选择按钮操作上添加一个 hud，但它只是在一些延迟之后才会出现。有人可以建议我一种实现此方法的方法。

提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T15:22:41.037

我不认为有什么可做的。

我自己也遇到了问题，似乎滞后来自 UIImagePickerController 调用委托方法“didFinishPickingMediaWithInfo”。一旦使用该方法，一切都会快速运行。您将什么代码放入“didFinishPickingMediaWithInfo”中并不重要。滞后时间发生在甚至调用该方法之前。

我什至试过这个，除了关闭控制器之外什么都不做。

```
- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info {
     [self dismissModalViewControllerAnimated:YES];
} 
```

并且仍然需要几秒钟才能关闭 UIImagePickerController。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-13T03:51:43.940

我与这个代表发生了类似的延迟。事实证明，`didFinishPickingMediaWithInfo`在图像/视频被压缩之前不会调用它，这可能需要几秒钟，具体取决于它是什么。

# django - 为什么 django form.errors 显示为字符串？

> ID：11753254
> 
> 赞同：1
> 
> 时间：2012-08-01T05:51:26.340
> 
> 标签：django, django-forms

我正在使用 django 表单。我将表单错误传递给模板，

```
return render_to_response(template_name, {'form':form}) 
```

在模板中，我需要将其转换为 js 字典，所以我使用了，

```
eval({{form.errors|safe}}) 
```

但无论我在模板中使用 form.errors 的任何地方，我都会得到 html 格式而不是字典。为什么 django 表单显示为字符串而不是字典。有没有办法使用 form.errors 的字典版本。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-01T06:52:03.117

它显示为无序列表，因为[错误集合的](https://github.com/django/django/blob/master/django/forms/util.py#L45) `ErrorDict.__unicode__` 方法返回`ErrorDict.as_ul`.

如果要取回字典的默认字符串表示形式，请将其转换回字典：`dict(form.errors)`。现在您将不再获得 HTML 格式的无序列表。

### 更新

如果您尝试在 JS 中表示 Python 字典，请保持简单并将字典对象编码为 JSON。所以在你看来：

```
from django.utils import simplejson

errors = simplejson.dumps(form.errors) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:19:30.880

查看 django 的源代码，错误应该属于 django.forms.util.ErrorDict 类型。

其中有以下两种可能对您的情况感兴趣的方法：as_text 和 as_ul。

我看不出您如何`eval`在 django 模板中使用该方法。据我所知，甚至没有一个有效的标准 django 模板标签。

我认为您应该手动循环 dict 并相应地打印/生成 javascript 对象文字。

# c# - 如何将数据从电子表格导入 SQL Server？

> ID：11753261
> 
> 赞同：0
> 
> 时间：2012-08-01T05:51:51.753
> 
> 标签：c#, .net, vb.net, sql-server-2008, tsql

我应该使用哪些库和 DLL 将 Excel 电子表格的数据导入 SQL Server 2008？库和 dll 应该是 C# 或 VB.NET 或者可能是代码片段就可以了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T05:55:46.823

这是指导您如何轻松实现它的文章

[**使用 C# DataTable 和 SQL server OpenXML 函数批量插入数据**](http://pranayamr.blogspot.ca/2011/12/bulk-insertion-of-data-using-c.html)

不需要任何额外的库，您只需要编写以下代码行即可从 excel 导入数据。

```
fileName = FileUpload1.ResolveClientUrl(FileUpload1.PostedFile.FileName);
int count = 0;
DataClassesDataContext conLinq = new DataClassesDataContext("Data Source=server name;Initial Catalog=Database Name;Integrated Security=true");
try
{
   DataTable dtExcel = new DataTable();
   string SourceConstr = @"Provider=Microsoft.ACE.OLEDB.12.0;Data Source='" + fileName + "';Extended Properties= 'Excel 8.0;HDR=Yes;IMEX=1'";
   OleDbConnection con = new OleDbConnection(SourceConstr);
   string query = "Select * from [Sheet1$]";
   OleDbDataAdapter data = new OleDbDataAdapter(query, con);
   data.Fill(dtExcel);
   for (int i = 0; i < dtExcel.Rows.Count; i++)
   {
      try
      {
         count += conLinq.ExecuteCommand("insert into table name values(" + dtExcel.Rows[i][0] + "," + dtExcel.Rows[i][1] + ",'" + dtExcel.Rows[i][2] + "',"+dtExcel.Rows[i][3]+")");
      }
      catch (Exception ex)
      {
         continue;
      }
   }
   if (count == dtExcel.Rows.Count)
   {
      <--Success Message-->
   }
   else
   {
      <--Failure Message-->
   }
}
catch (Exception ex)
{
   throw ex;
}
finally
{
} 
```

# javascript - 如何通过知道节点的值来访问dom && 只知道值来获取手风琴的索引

> ID：11753267
> 
> 赞同：0
> 
> 时间：2012-08-01T05:52:25.700
> 
> 标签：javascript, jquery, html, dom, accordion

我有两个问题：

1）由于我的html内容结构相似，唯一的区别是类标题内容不同。我尝试使用 $(div .title:contains("cat")) 也 $(div .title).text()="cat")

2）我怎样才能通过检查 $(div a) 内容是必需的来获得手风琴的索引。我尝试使用 $(div a).text()=="cat"

检查这里的代码：

HTML1 内容

```
 <div class="mod moduleselected" id="mod969">
    <div class="content module moduleselect">
    <div class="hd" ><div class="inner">
    <div class="title">cat</div>
    <ul class="terminallist"></ul>
    <ul class="buttons">
    <li class="help"></li>
    <li class="show" ></li>
    </ul>
    </div>
    </div>
    </div>

    <div class="mod moduleselected" id="mod969">
    <div class="content module moduleselect">
    <div class="hd" ><div class="inner">
    <div class="title">rat</div>
    <ul class="terminallist"></ul>
    <ul class="buttons">
    <li class="help"></li>
    <li class="show" ></li>
    </ul>
    </div>
    </div>
    </div>

<div class="mod moduleselected" id="mod969">
    <div class="content module moduleselect">
    <div class="hd" ><div class="inner">
    <div class="title">dog</div>
    <ul class="terminallist"></ul>
    <ul class="buttons">
    <li class="help"></li>
    <li class="show" ></li>
    </ul>
    </div>
    </div>
    </div> 
```

手风琴

```
 <div id="dia">
        <div id="dialog" title="Detailed FeedBack ">
        <div id="accordion">
        <h3><a href="#">dog</a></h3>
        <h3><a href="#">cat</a></h3>
        <h3><a href="#">rat</a></h3>
        </div>
        </div>
        </div> 
```

Javascript

```
 $('div .title').mouseover(function() {
    if($("div a").text().indexOf("cat")!=-1)
    {
    $("#accordion").accordion("activate", 1);
    }
    $('div .title').mouseleave(function(){$("#accordion").accordion("activate", -1); });
        }); 
```

这是我试图用这个 javascript 代码做的事情。当我将鼠标悬停在猫内容上时，我希望打开带有猫内容的手风琴。当我离开它关闭手风琴选择时。

当我将鼠标悬停在 html 内容 cat ,rat 上时。它应该并排打开这些内容的手风琴按钮。示例：我将鼠标悬停在老鼠（html 内容）上，我应该看到手风琴老鼠打开（或活动，即内容可见）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:16:14.707

[**更新（见演示）**](http://jsfiddle.net/hKunn/)

听起来你想要这样的东西：当一个内容部分悬停时，找到该部分的标题，将其文本与`<a>`手风琴中元素的文本匹配，然后激活该部分：

```
$(function() {
    $("#accordion").accordion();

    var links = $('#accordion a').map(function() {
        return $(this).text().trim().toLowerCase();
    }).toArray();

    $('div.content').mouseover(function() {
        var title = $(this).find('div.title').text().toLowerCase();
        var index = links.indexOf(title);
        if (index != -1) {
            $("#accordion").accordion("activate", index);
        }
    });
});​ 
```

PS jQuery 也有这样的[`.hover()`](http://api.jquery.com/hover/)方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T13:56:01.933

它应该像以下那样简洁（可能会有一些细微的调整）：

```
$('.content .title').hover(function(e){
    var index = this.textContent.split(/\W/)[1] - 1;    
    $("#accordion").accordion('activate', index);
});
​ 
```

小心 HTML，因为这个正则表达式过于简单，因为它只抓取最后一个“单词”，在您的示例中是一个数字。我们减一得到一个从零开始的索引。如果您向元素添加更多文本，那将会中断。

见：http: [//jsfiddle.net/35yGV/](http://jsfiddle.net/35yGV/)

# sql - 字符串比较查询与中文字符 - Oracle 数据库

> ID：11753269
> 
> 赞同：1
> 
> 时间：2012-08-01T05:52:28.600
> 
> 标签：sql, oracle, special-characters, utf

我在执行如下简单查询时遇到问题

```
select * from table_name where variabe_name like '在职' 
```

问题是中文字符。这些字符在表中（我只是在从表中选择 * 后复制了它们，所以中文字符的显示效果很好）但它似乎不起作用。当它执行查询时，它返回 0 行。

我也试过

```
select * from table_name where variabe_name like '%在职%' 
```

和

```
select * from table_name where variabe_name = '在职' 
```

但这也行不通。

任何线索可能是什么问题？

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T21:42:26.750

```
 SQL> create table mytbl (data_col varchar2(200));
 Table created
 SQL> insert into mytbl values('在职'); 
 1 row inserted.
 SQL> commit;
 Commit complete.
 SQL> select * from mytbl where data_col like '%在职%';
 DATA_COL                                                                                                                                                                                               
 -----------
 在职 

 SQL> SELECT * FROM nls_database_parameters where parameter='NLS_CHARACTERSET';
 PARAMETER                      VALUE                                  
 ------------------------------ ----------------------------------------
 NLS_CHARACTERSET               AL32UTF8 
```

您`NLS_CHARACTERSET`应该设置为`AL32UTF8`. 所以试试

```
 SQL> ALTER SESSION SET NLS_CHARACTERSET = 'AL32UTF8'; 
```

还要确保该参数`NLS_NCHAR_CHARACTERSET`设置为`UTF8`.

```
 SQL> ALTER SESSION SET NLS_NCHAR_CHARACTERSET = 'UTF8'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-04-05T09:05:01.080

==> 找到解决方法：在中文字符前加上'N'，这样它们就被解释为Unicode。Like: where field like N'罐'

# css - 设置内部 div 的高度

> ID：11753274
> 
> 赞同：0
> 
> 时间：2012-08-01T05:52:40.913
> 
> 标签：css, html, height

如何将内部 div 的高度设置为父级高度减去 15px？以下不起作用：内部 div 扩展超出底部。我尝试使用表格而不是内部 div，但没有骰子。

```
<div style="position:relative;overflow:hidden;width:200px;height:50px;border:1px solid black">
  <div style="position:absolute;overflow:hidden;top:0;bottom:15px;left:0;width:50px;border:2px solid black">
    <div>a</div>
    <div>b</div>
    <div>c</div>
    <div>d</div>
    <div>e</div>
  </div>
</div> 
```

以下是我的解决方案限制： - 父级中的 'height:50px' 只是说明性的；解决方案必须在不知道父母身高的情况下工作 - 从 IE7 开始 - 请更多 css，更少 Javascript

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T05:57:57.463

你可以试试这个：

```
#outer {
    padding-bottom: 15px;
}
#inner {
    height: 100%;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:08:57.537

希望这是你想要的

[演示](http://jsfiddle.net/uttara/qxRGn/)

**编辑**：正如你所提到的，外部 DIV 可以有另一个可能延伸到底部 15px 的孩子然后看看这个[DEMO2](http://jsfiddle.net/uttara/qxRGn/2/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T06:34:20.233

身高：93.8% 表示：`height:93.8% = 100% - 15px`

```
<div style="position:relative;width:200px;height:50px;border:1px solid black">
  <div style="position:absolute;overflow:hidden;top:0;bottom:15px;left:0;width:50px;border:2px solid black; height:93.8%;">
    <div>a</div>
    <div>b</div>
    <div>c</div>
    <div>d</div>
    <div>e</div>
  </div>
</div>​ 
```

希望这对你有用！！！！

# java - BigInteger 内部操作

> ID：11753277
> 
> 赞同：-1
> 
> 时间：2012-08-01T05:52:55.267
> 
> 标签：java, large-data

`BigInteger`用于实际溢出 int 范围（2 的 32 次方）的整数运算，例如计算 100 的阶乘等。

实际如何`BigInteger`存储中间值或最终值？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-01T05:54:56.550

该值存储为一个 int 数组

```
int[] mag; 
```

使用源卢克:)

[grepcode__openjdk_math_BigInteger](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/math/BigInteger.java)

# java - 通过任何简单的方法从一个活动中获取价值并将价值保存到另一个活动中？

> ID：11753285
> 
> 赞同：1
> 
> 时间：2012-08-01T05:53:20.300
> 
> 标签：java, android, android-activity

我有 2 个活动 1>Register.java 2>Home.java 在 Register 活动中，我输入了名字、姓氏、员工 ID 和密码。当我按下注册按钮时，控件将转移到 Home.java 活动。在这个过程中，我想捕捉名字和姓氏的值，并在家庭活动中显示相同的值。注册活动没有任何历史记录，因为它是一个注册页面，当我在按钮上从注册导航到主页活动时，它会显示名称，但是当我按下主页或后退按钮并再次尝试查看应用程序的状态时，它不会显示名字。

这是我的代码 Register.java

```
 Button b = (Button) findViewById(R.id.btnRegister);
    b.setOnClickListener(new OnClickListener() {
        public void onClick(View v) {
            EditText username = (EditText)    findViewById(R.id.reg_employeeid);
            EditText password = (EditText)   findViewById(R.id.reg_password);
            String welcm ="Welcome";
            String space = " ";
            EditText firstname =   (EditText)findViewById(R.id.reg_firstname);
            EditText lastname = (EditText)findViewById(R.id.reg_lastname);
            String getfirstname = firstname.getText().toString();
            String getlasttname = lastname.getText().toString();
            String welcome=welcm.concat(space).concat(getfirstname).concat(space).concat(getlasttname);

            if(username.getText().toString().length() > 0 && password.getText().toString().length() > 0 ) {
                if(username.getText().toString().equals("test") && password.getText().toString().equals("test")) {

                    SharedPreferences settings = `enter getSharedPreferences(PREFS_NAME, 0);
                    SharedPreferences.Editor editor = settings.edit();
                    editor.putString("logged", "logged");
                    editor.commit();

                    Intent intent = new Intent(Register.this, SecureXActivity.class);
                    intent.putExtra("name", welcome);

                    startActivity(intent);
                }
            }
        }
    }); 
```

主页.java

```
public void onCreate(Bundle savedInstanceState)
{
    Thread.setDefaultUncaughtExceptionHandler(new exceptionHandler(this));
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    Bundle extras =getIntent().getExtras();

    if (extras != null)
    {
        String value = extras.getString("name");
        TextView txtwelcm= (TextView)findViewById(R.id.textViewwelcm);
        txtwelcm.setText(value);
    }
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:04:45.993

**您可以在 Home Activity 上尝试使用以下代码**

```
@Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        // TODO Auto-generated method stub
        super.onActivityResult(requestCode, resultCode, data);

        String name = data.getStringExtra("name");
        Toast.makeText(getApplicationContext(), name +"", Toast.LENGTH_SHORT).show();

    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T06:01:05.660

这是因为当您按下后退按钮时，您是在说“破坏我刚刚所做的”。它是大多数人想要的行为。据我所知，当按下后退按钮时，确实没有办法恢复该值。但是，您可以在启动 Intent 之前将其保存在全局变量中，并且应该仍然保留它。如果不是，您可以使用 SharedPreferences 以使其保持不变，然后在您完成检索后删除它（如果按下后退按钮）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-01T06:21:46.893

您有很多选择来检索数据。利用，

*   共享偏好

*   数据库

*   覆盖 onBackPressed()

*   覆盖 onActivityResult()

决定！！好的

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-01T06:38:48.740

用于`SharedPreferences`存储用户登录的信息。

将有关用户的数据保存在 SQLite 数据库中。

仅当用户未登录时才显示注册页面。

从数据库中读取数据并填写 Home 活动中的字段。还要在登录用户的主页活动中应用检查。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-01T06:49:52.943

创建一个 pojo 类使用扩展应用程序并在清单文件中添加此命令 android:name="class name" 现在您可以在任何应用程序中使用该对象

示例清单

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package=""
android:versionCode="1"
android:versionName="1.0" >

<application
    android:name="BaseApplication"
    android:icon="@drawable/application_icon"
    android:label="@string/app_name"
    android:theme="@style/Theme.D1"
     >
    <activity
        android:name=".activity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
</application> 
```

pojo 类示例：

```
 public class BaseApplication extends Application{

public static String data;

public static String getdata() {
    return frmDate;
}

public static void setdata(String data) {
    BaseApplication.data = data;
}
} 
```

活动示例：

```
 BaseApplication mApplication = (BaseApplication) getApplication();
  mApplication.setdata("value");
  String data=mAplication.getdata() 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-01T06:10:08.940

使用 Home.java 中的共享偏好来检索存储的值..

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-08-01T06:35:23.413

您可以使用 Bundle 类来满足此要求。然而，还有另一种选择是使用 getter/setter 方法。

创建一个 POJO 类，该类将保存和检索可以在整个项目中访问的变量值。

# datatable - 数据表是否支持分页？

> ID：11753286
> 
> 赞同：0
> 
> 时间：2012-08-01T05:53:21.620
> 
> 标签：datatable

我正在使用数据表将数据绑定到 gridview。我想允许分页。如何进行分页？这是我使用的代码。

```
 SqlConnection con = new SqlConnection(getconnectionString());
            SqlCommand cmd = new SqlCommand("Sps_pagingshow", con);
            con.Open();
            cmd.CommandType = CommandType.StoredProcedure;
            //cmd.Parameters.AddWithValue("@PageIndex", pageIndex);
            //cmd.Parameters.AddWithValue("@PageSize", int.Parse(ddlPageSize.SelectedValue));
            //cmd.Parameters.Add("@RecordCount", SqlDbType.Int, 4);
            //cmd.Parameters["@RecordCount"].Direction = ParameterDirection.Output;

            IDataReader idr = cmd.ExecuteReader();
            GridView1.DataSource = idr;
            GridView1.DataBind();
            idr.Close();
            con.Close(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T06:04:42.080

使用 GridView 的“OnPageIndexChanging”事件来允许默认分页。

```
protected void index_changing(object sender, GridViewPageEventArgs  e)
    {
        gridview.PageIndex = e.NewPageIndex;
    } 
```

谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:01:52.847

Datatable 是断开连接的架构，所以它不支持分页。

根据 msdn，仅支持数据源或实现 ICollection 接口或其后代之一的对象（即 Enumerable、Dictionary、List、Queue、Stack 等）通过 GridView 进行自动分页。

DataTable 不符合这些条件，因此您怀疑 DataTable 不支持自动分页是正确的。但是，正如您所了解的，您可以通过编程方式对 DataTable 进行分页。另一种方法是使用 DataTable 来填充支持分页的集合。

# javascript - Cordova/PhoneGap：使用 Google Maps API 的应用程序崩溃

> ID：11753290
> 
> 赞同：0
> 
> 时间：2012-08-01T05:53:43.060
> 
> 标签：javascript, google-maps, cordova, google-maps-api-3

我正在使用以下代码使用 Google 地图 API 显示用户位置：

```
//GEOLOCATION
            var onSuccess = function(position) {
                alert('Latitude: '  + position.coords.latitude   + '\n' +
                      'Longitude: ' + position.coords.longitude  + '\n');

                var myLat = position.coords.latitude;
                var myLong = position.coords.longitude;

                //MAP
                var mapOptions = {
                    center: new google.maps.LatLng(myLat, myLong),
                    zoom: 14,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                };

                var map = new google.maps.Map(document.getElementById("map_canvas"),
                                              mapOptions);

            };

            // onError Callback receives a PositionError object
            //
            function onError(error) {
                alert('code: '    + error.code    + '\n' +
                      'message: ' + error.message + '\n');
            }

            navigator.geolocation.getCurrentPosition(onSuccess, onError); 
```

地图和正确的位置会显示一秒钟，然后应用程序崩溃。谁能告诉我到底发生了什么？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T07:02:54.433

我找到了答案。另一个页面上有一段代码与这个冲突 - 我不知道这可能会发生，所以没有清理它。

# string - 如何提取与字符串匹配的行和下一行？

> ID：11753292
> 
> 赞同：0
> 
> 时间：2012-08-01T05:53:49.710
> 
> 标签：string, perl, text-extraction

我有两个文件，即`a.txt`和`b.txt`。我的任务是搜索`a.txt`in的所有字符串`b.txt`。`a.txt`如果和的字符串之间有任何匹配`b.txt`，那么我想从文件中打印对应于该字符串的行及其下一行`b.txt`。

我一直在尝试下面提到的代码，但问题是它没有打印任何东西。你能指出我的问题并提出解决这个问题的方法吗？

```
open fh,  "<", "b.txt" or die $!;
open fh1, "<", "a.txt" or die $!;

my $array1 = < fh>;
my $array2 = < fh1>;

while (my $array1 = < fh>) {
    if ($array1 =~ m/$array2/i) {
        print $array1;
        print scalar < fh>;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:09:34.583

尝试这样的事情

```
open  fh, "<", "b.txt" or die $!;
open  fh1, "<", "a.txt" or die $!;

while(my $item1 = <fh>)
{
    while(my $item2 = <fh1>)
    {
        if($item1 =~ m/$item2/i)
        {
            print $item1;
            print <fh>;
        }
    }

    seek fh1, 0, 0;
}

close fh;
close fh1; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:23:02.427

这是显而易见的：

```
use strict;
use warnings;

my $line1;
my $line2;
my $fh;
my $fh1;
my $counter;

open  $fh, "<", "b.txt" or die $!;
open  $fh1, "<", "a.txt" or die $!;

my @b = <$fh>;
my @a = <$fh1>;

for (@b)
{
    $line1 = $_;
    for (@a)
    {
        $line2 = $_;
        if ($line1 =~ /^$line2$/)
        {
            $counter++;
            open $outfile, ">", "a_${counter}.txt";
            print $outfile $line2;
            close $outfile;
        }
    }
} 
```

我真的不明白你要做`scalar`什么？

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-01T06:17:56.143

我可以帮助你获得两个元素数组，我不明白你想如何打印匹配的元素和下一个元素，

```
use Data::Dumper;
open(FH,  "<$file") or die "$!";
open(FH1,  "<$file1") or die "$!";
my @array1 ;
my @array2 ;

while(<FH>) {
    chomp($_);
    push @array1,$_;
}
while(<FH1>) {
    chomp($_);
    push @array2,$_;
}
close(FH);
close(FH1);
print Dumper(@array1);
print Dumper(@array2); 
```

# postgresql - 将 PostgreSQL 配置为仅适用于 LOCALHOST 或指定的 ip + 端口

> ID：11753296
> 
> 赞同：23
> 
> 时间：2012-08-01T05:54:14.343
> 
> 标签：postgresql, configuration, ipconfig

我想将 PostgreSQL 配置为仅接受来自指定 IP 的连接。它不应该接受来自任何其他 IP 的请求。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-08-01T07:05:15.133

下面的pg_hba.conf允许本地和指定的Ip有权限登录，但是拒绝其他人。</p>

```
# TYPE  DATABASE        USER            ADDRESS                 METHOD
local   all             all                                     trust
host    testdb          testuser      192.168.1.1/32             md5
host    all             all           0.0.0.0/0                 reject 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-08-01T06:43:16.173

最简单的方法是让 PostgreSQL 只监听`localhost`传入的连接。相关参数`listen_addresses`在`postgresql.conf`. 文档在[这里](http://www.postgresql.org/docs/current/interactive/runtime-config-connection.html)。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-08-01T06:06:06.857

检查 PostgreSQL 数据文件夹中的[pg_hba.conf](http://www.postgresql.org/docs/current/static/auth-pg-hba-conf.html)文件。这是客户端身份验证配置文件。

```
# TYPE  DATABASE        USER            ADDRESS                 METHOD
host    testdb           testuser      192.168.1.1               md5
local   testdb           all                                     md5 
```

将以上内容添加到 pg_hba.conf 文件中

# sql - 尝试使用 clojure.java.sql/create-table 创建表时出现异常

> ID：11753297
> 
> 赞同：1
> 
> 时间：2012-08-01T05:54:15.293
> 
> 标签：sql, exception, batch-file, clojure

尝试使用 clojure.java.sql/create-table 创建表时出现异常：

```
batch entry 0: near "-": syntax error
  [Thrown class java.sql.BatchUpdateException] 
```

create-table 调用如下所示：

```
 (sql/create-table :stories
        [:story-id :integer "PRIMARY KEY"]
        [:story-name :text]
        [:story-name-url :text]
        [:category :text]
        [:genre-one :text]
        [:genre-two :text]
        [:created-on :text]
        [:updated-on :text]
        [:review-count :integer]
        [:chapter-count :integer]
        [:word-count :integer]
        [:rating :integer]
        [:language :integer]
        [:is-complete :boolean]
        [:is-crossover :boolean]
        [:type :text]
        [:pairing :text])))) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T05:54:15.293

问题是字段中不能包含“-”字符。将“-”更改为“_”将解决问题。

# android - 处理程序不刷新android中的网格视图

> ID：11753305
> 
> 赞同：0
> 
> 时间：2012-08-01T05:55:11.527
> 
> 标签：android, gridview, handler, android-cursoradapter

在我的 Android 应用程序中，我有一个将图像显示为项目的网格。当我单击一个按钮时，项目应该改变它们的位置。我正在通过光标适配器填充此网格。以前它工作正常，但需要一些时间来更改图像的位置并再次刷新网格。因此，为此我实现了一个进度对话框，以便用户可以了解正在发生的事情。

到目前为止，这是我的代码。

我的处理程序

```
public void handleMessage(Message msg) {
switch (msg.what) {
    case PROGRESS_DIALOG_HANDLER_ID:
        progressDialog.dismiss(); //ProgressDialog
        DBAdapter adapter = new DBAdapter(SplittedImageActivity.this);
        adapter.open();
        Cursor cursor = adapter.getAllImages();
        adapter.close();
        startManagingCursor(cursor);
        cursorAdapter.changeCursor(cursor); //My cursor adapter
        gridView.setAdapter(cursorAdapter);
        cursor.close(); 
```

我的点击方法

```
progressDialog = ProgressDialog.show(SplittedImageActivity.this, "", "Please wait...");
new Thread(){
        public void run() {
        Random random = new Random();
        DBAdapter adapter = new DBAdapter(getApplicationContext());
        adapter.open();
        int childs = gridView.getChildCount(), oldPosition, newPotision;
        newPotision = childs-1;
        for(int i=0 ; i<childs ; i++){
            oldPosition = random.nextInt(m_cGridView.getChildCount());
            adapter.updatePosition(oldPosition, newPotision); //updates the position of the images in database
            newPotision = oldPosition;
        }
        adapter.close();
        handler.sendEmptyMessage(PROGRESS_DIALOG_HANDLER_ID);
    };
}.start(); 
```

**问题：**

进度对话框显示完美，数据库中的位置也发生了变化。但gridview不刷新。我的意思是在完成所有工作后，进度对话框消失并且屏幕变为空白。

请帮助我在哪里做错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T20:27:41.410

我认为问题在于您在处理程序上分配了一个新适配器，但没有在主线程上调用 NotifyDataSetChanged()，这可能就是为什么不更新网格的原因。

另外，为什么不使用 AsyncTasks？

```
public class LoadAsyncTask extends AsyncTask<Void, Void, Boolean> {
    Context context;

    public LoadAsyncTask(Context context) {
        this.context = context;         
    }

    protected void onPreExecute() {
    }

    protected Boolean doInBackground(Void... v) {
        DBAdapter adapter = new DBAdapter(context);
        adapter.open();
        int childs = gridView.getChildCount(), oldPosition, newPotision;
        newPotision = childs-1;
        for(int i=0 ; i<childs ; i++){
                    oldPosition = random.nextInt(m_cGridView.getChildCount());
                    adapter.updatePosition(oldPosition, newPotision); //updates the position of the images in database
                    newPotision = oldPosition;
        }
        adapter.close();

        DBAdapter adapter = new DBAdapter(context);
        adapter.open();
        Cursor cursor = adapter.getAllImages();
        adapter.close();
        startManagingCursor(cursor);
        cursorAdapter.changeCursor(cursor); //My cursor adapter
        gridView.setAdapter(cursorAdapter);
        cursor.close();                
        return true;
    }

    protected void onPostExecute(Boolean success) {
        if (success) {
            //This will be executed on the main activity thread
            cursorAdapter.notifyDataSetChanged();
        } else {
            showError();
        }
    }

} 
```

# android - 强制 android 在基于 HTML5 页面的 Web 应用程序中显示电子邮件类型键盘

> ID：11753306
> 
> 赞同：0
> 
> 时间：2012-08-01T05:55:13.330
> 
> 标签：android, webview, android-softkeyboard

我设计了一个**HTML5**页面，其中包含一个电子邮件类型的输入框。这个 HTML5 页面将以**webview的形式显示在****Android 应用程序**中。

 **```
<input type="email" autofocus id="emailid"/> 
```

我面临的问题是 Android 不显示默认具有“ ”和“ ”符号的**电子邮件类型键盘。**`@``.com`

如何强制**Android**使用其中任何一种来显示**电子邮件类型的键盘**？

提前致谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:07:12.107

目前，运行 2.2 或更低版本的设备不完全支持 HTML5。不支持这些：

```
input type=search
input type=tel
input type=url
input type=email
input type=datetime
input type=date
input type=month
input type=week
input type=time
input type=datetime-local
input type=range
input type=color
input type=checkbox
input type=image
textarea
select
datalist
keygen
output
progress
field validation
form validation
APIs
Spellcheck attribute
Session history
Geolocation
Device Orientation
FileReader API
Local Storage
Access the camera
Full Screen 
```

并确认：[http ://www.petefreitag.com/item/768.cfm](http://www.petefreitag.com/item/768.cfm)

尝试在 ICS 或 JB 上运行您的应用程序，它应该可以工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T21:00:40.320

键盘在 Android 中是完全可插入的 - 因此有些不可预测。设备制造商几乎总是提供定制键盘（这可能会带来问题，例如：我见过一些 HTC 键盘无法处理 IME_ACTIONS）。此外，用户可以从 Play 商店免费下载和使用许多不同的键盘。某些键盘可能没有电子邮件样式 - 可能是因为开发人员没有想到它，或者可能是因为它不合适。例如：像[涂鸦键盘](https://play.google.com/store/apps/details?id=com.access_company.graffiti&hl=en)这样的东西可能会完全忽略电子邮件样式？

我相信您能做的最好的事情就是处理受支持的案例。如果 >=ICS 支持输入 type="email" 而旧版本不支持，那么至少随着时间的推移，您的用户群应该转向更高比例的用户获得您想要的行为。

我不知道您的应用程序是什么样的，但是如果您真的希望 @ 符号和 .com 键可见，另一种选择是使用混合方法，您只将这些键添加到您的 html 并允许用户点击那些或使用普通的可插拔 Android 键盘进行其他所有操作（或 @ 标志和 .com 也 - 如果他们的键盘包含它）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-07T11:47:55.407

尝试在服务器上检测 Android 操作系统的版本，然后到下一个：

1) 如果 OS = ICS 或更高版本 => 使用原生 html 5

2) 如果 OS < ICS => 显示自定义 html 键盘

对于您的应用程序中的 OS < ICS，也禁用软键盘。**

# url - lighttpd mod_rewrite 网址

> ID：11753318
> 
> 赞同：0
> 
> 时间：2012-08-01T05:56:11.090
> 
> 标签：url, rewrite, lighttpd

我的 htaccess 示例：

```
Options +FollowSymlinks
RewriteEngine on
RewriteRule ^login$ index.php
ErrorDocument 500 /login 
```

当我尝试使用 url.rewrite 时：

```
url.rewrite = ("^login$" => "index.php") 
```

它失败了。这里有什么遗漏吗？

lighttpd.conf：

```
server.modules = (
"mod_access",
"mod_alias",
"mod_compress",
"mod_redirect",
   "mod_rewrite",
    "mod_scgi",
)

url.access-deny             = ( "~", ".inc" )
url.rewrite-once = ( "^login$" => "index.php" )

static-file.exclude-extensions = ( ".php", ".pl", ".fcgi" ) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:07:04.880

试试这个 ：`url.rewrite-once = ( "^login$" => "index.php" )`

# raphael - Raphael JS 为 paper.set 对象设置 ID

> ID：11753319
> 
> 赞同：3
> 
> 时间：2012-08-01T05:56:20.880
> 
> 标签：raphael

我想为 SET 对象提供一个 ID。知道怎么做

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T18:56:40.690

据我所知，只有一种方法....扩展 Raphael.st

```
Raphael.st.setID = function(id){
this.id = id;
}

var yourset = paper.set(); 
    yourset.setID(id); //give the id you want

then try -> yourset.id; 
```

我希望这个对你有用 ....

# jquery - 滚动条在 jquery 移动应用程序中不可见

> ID：11753320
> 
> 赞同：4
> 
> 时间：2012-08-01T05:56:23.633
> 
> 标签：jquery, listview, jquery-mobile, cordova, scrollbar

我正在开发一个使用 phonegap 的 jquery 移动应用程序。在应用程序中，我在页面中动态加载列表视图，其中项目数大于单个屏幕上可以显示的项目数。在 android 模拟器 (Android 2.2) 中查看时，listview 显示正常，我可以滑动或使用按钮向下滚动，但垂直滚动条不可见。我必须做任何特别的事情才能显示垂直滚动条吗？

当我在浏览器 (Firefox) 中打开页面的静态版本时，滚动条会显示，但在 android 模拟器上的应用程序中加载的相同静态页面不显示滚动条（即，行为似乎是一致并且与加载列表视图的动态性质无关）。

我正在使用 jquery 1.7.1、JQM 1.1.1、phonegap 2.0（所有最新版本）。

这是页面代码：

```
<!DOCTYPE HTML>
<html>
<head>
    <title>Conference List</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" /> 
    <link rel="stylesheet" href="common/jquery.mobile-1.1.1.min.css" />
    <script type="text/javascript" charset="utf-8" src="common/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="common/jquery.mobile-1.1.1.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="common/cordova-2.0.0.js"></script>
</head>
<body>
<div id="conf-list" data-role="page">

    <div data-role="header">
        <a href="#" class="ui-btn-left" data-icon="delete" onclick="exit()">Exit</a>
        <a href="#" class="ui-btn-right" data-icon="refresh" onclick="downloadConfList(confFilePath)">Refresh</a>
        <span class="ui-title" />        
    </div><!-- /header -->

    <div data-role="content">
        <ul data-role='listview' data-inset='true'>
                <li data-role='list-divider'>Available Conferences:</li>
                <li data-icon='false'>
                        <a href='javascript:openConference(2010041801)'>
                                <h4>Conference A1 2010</h4>
                                From 2010-04-18 to 2010-04-20<br />
                                Orlando, FL, USA
                        </a>
                </li>

                <li data-icon='false'>
                        <a href='javascript:openConference(2010110701)'>
                                <h4>Conference A2 2010</h4>
                                From 2010-11-07 to 2010-11-10<br />
                                Austin, TX, USA
                        </a>
                </li>

                <li data-icon='false'>
                        <a href='javascript:openConference(2011111301)'>
                                <h4>Conference A3 2011</h4>
                                From 2011-11-13 to 2011-11-16<br />
                                Charlotte, NC, USA
                        </a>
                </li>

                <li data-icon='false'>
                        <a href='javascript:openConference(2012041501)'>
                                <h4>Conference A4 2012</h4>
                                From 2012-04-15 to 2012-04-17<br />
                                Huntington Beach, CA, USA
                        </a>
                </li>

                <li data-icon='false'>
                        <a href='javascript:openConference(2012101401)'>
                                <h4>Conference A5 2012</h4>
                                From 2012-10-14 to 2012-10-17<br />
                                Phoenix, AZ, USA
                        </a>
                </li>

        </ul>
    </div><!-- /content -->

</div><!-- /page -->
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-30T21:11:00.477

很可能，这与您的 HTML、JS 或任何东西无关。大多数移动浏览器默认隐藏内联滚动条。我自己经历了多个项目。因为在 Safari 等移动浏览器中，您使用滑动动作进行滚动，因此它们不会显示任何可见的滚动条。我猜这是为了创造一种类似应用程序的体验。

相反，您需要为用户提供一些视觉队列，他们可以通过滑动或按钮滑动该区域。移动浏览器故意不在任何地方呈现滚动条，内联或其他。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-14T17:58:47.833

使用 iScroll 在所有设备（Android、iOS、Windows、Blackberry 等）上进行完美滚动

网址 - [http://cubiq.org/iscroll-4](http://cubiq.org/iscroll-4)

示例 - [http://lab.cubiq.org/iscroll/examples/simple/](http://lab.cubiq.org/iscroll/examples/simple/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-14T06:14:11.017

Chris Barr 的解决方案非常适合我：请看一下：

[http://chris-barr.com/2010/05/scrolling_a_overflowauto_element_on_a_touch_screen_device/](http://chris-barr.com/2010/05/scrolling_a_overflowauto_element_on_a_touch_screen_device/)

像这样在我的应用程序中使用

// HTML

```
<ul data-role="listview" id="my-select-view" data-filter="true" style="max-height: 250px; overflow: scroll">
</ul> 
```

// Javascript 代码 - 在弹出的列表视图中添加滚动行为；有趣的是，在事件处理程序中添加事件侦听器就足够了，无需在事件处理程序中添加用于操作滚动值的代码

```
$('#my-select-view').on("touchstart", function(event) {                            scrollStartPos=this.scrollTop+event.touches[0].pageY;
                        });

$('#my-select-view').on("touchmove", function (event) {
                        }); 
```

# javascript - 将参数传递给 angularjs 过滤器

> ID：11753321
> 
> 赞同：99
> 
> 时间：2012-08-01T05:56:25.213
> 
> 标签：javascript, angularjs, angular-filters

是否可以将参数传递给过滤器函数，以便您可以按任何名称进行过滤？

就像是

```
$scope.weDontLike = function(item, name) {
    console.log(arguments);
    return item.name != name;
}; 
```

* * *

## 回答 #1

> 赞同：226
> 
> 时间：2013-07-23T14:57:45.020

实际上还有另一个（可能是更好的解决方案），您可以使用 Angular 的本机“过滤器”过滤器并仍然将参数传递给您的自定义过滤器。

考虑以下代码：

```
<div ng-repeat="group in groups">
    <li ng-repeat="friend in friends | filter:weDontLike(group.enemy.name)">
        <span>{{friend.name}}</span>
    <li>
</div> 
```

要完成这项工作，您只需将过滤器定义如下：

```
$scope.weDontLike = function(name) {
    return function(friend) {
        return friend.name != name;
    }
} 
```

正如您在此处看到的，weDontLike 实际上返回另一个函数，该函数在其范围内包含您的参数以及来自过滤器的原始项目。

我花了 2 天时间才意识到你可以做到这一点，还没有在任何地方看到这个解决方案。

检查 angular.js[过滤器的反向极性，](https://stackoverflow.com/questions/13464809/reverse-polarity-of-an-angular-js-filter/17811582#17811582)了解如何将其用于过滤器的其他有用操作。

* * *

## 回答 #2

> 赞同：76
> 
> 时间：2012-08-01T06:20:27.890

据我了解，您不能将参数传递给过滤器函数（使用“过滤器”过滤器时）。您需要做的是编写一个自定义过滤器，如下所示：

```
.filter('weDontLike', function(){

return function(items, name){

    var arrayToReturn = [];        
    for (var i=0; i<items.length; i++){
        if (items[i].name != name) {
            arrayToReturn.push(items[i]);
        }
    }

    return arrayToReturn;
}; 
```

这是工作的 jsFiddle：http: [//jsfiddle.net/pkozlowski_opensource/myr4a/1/](http://jsfiddle.net/pkozlowski_opensource/myr4a/1/)

另一个简单的替代方法是，在不编写自定义过滤器的情况下，将要过滤的名称存储在范围内，然后编写：

```
$scope.weDontLike = function(item) {
  return item.name != $scope.name;
}; 
```

* * *

## 回答 #3

> 赞同：61
> 
> 时间：2012-09-21T09:44:59.697

实际上你可以传递一个参数（[http://docs.angularjs.org/api/ng.filter:filter](http://docs.angularjs.org/api/ng.filter:filter)）并且不需要一个自定义函数。如果您按如下方式重写 HTML，它将起作用：

```
<div ng:app>
 <div ng-controller="HelloCntl">
 <ul>
    <li ng-repeat="friend in friends | filter:{name:'!Adam'}">
        <span>{{friend.name}}</span>
        <span>{{friend.phone}}</span>
    </li>
 </ul>
 </div>
</div> 
```

[http://jsfiddle.net/ZfGx4/59/](http://jsfiddle.net/ZfGx4/59/)

* * *

## 回答 #4

> 赞同：31
> 
> 时间：2015-11-09T07:58:36.297

你可以简单地在模板中这样做

```
<span ng-cloak>{{amount |firstFiler:'firstArgument':'secondArgument' }}</span> 
```

在过滤器中

```
angular.module("app")
.filter("firstFiler",function(){

    console.log("filter loads");
    return function(items, firstArgument,secondArgument){
        console.log("item is ",items); // it is value upon which you have to filter
        console.log("firstArgument is ",firstArgument);
        console.log("secondArgument ",secondArgument);

        return "hello";
    }
    }); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2015-09-10T15:07:00.930

扩展[pkozlowski.opensource 的答案](https://stackoverflow.com/a/11753593/3568919)并使用 javascript`array's`内置过滤器方法，一个美化的解决方案可能是这样的：

```
.filter('weDontLike', function(){
    return function(items, name){
        return items.filter(function(item) {
            return item.name != name;
        });
    };
}); 
```

这是 jsfiddle[链接](http://jsfiddle.net/nasiftanjim/0qLexbdg/2/)。

更多关于数组过滤器[的信息](http://eloquentjavascript.net/05_higher_order.html#h_1BJbwiI0gI)。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-05-25T07:24:48.083

您可以将多个参数传递给角度过滤器！

定义我的角度应用程序和应用程序级别变量 -

```
var app = angular.module('filterApp',[]);
app.value('test_obj', {'TEST' : 'test be check se'}); 
```

您的过滤器将类似于：-

```
app.filter('testFilter', [ 'test_obj', function(test_obj) {
    function test_filter_function(key, dynamic_data) {
      if(dynamic_data){
        var temp = test_obj[key]; 
        for(var property in dynamic_data){
            temp = temp.replace(property, dynamic_data[property]);
        }
        return temp;
      }
      else{
        return test_obj[key] || key;
      }

    }
    test_filter_function.$stateful = true;
    return test_filter_function;
  }]); 
```

从 HTML，您将发送如下数据：-

```
<span ng-bind="'TEST' | testFilter: { 'be': val, 'se': value2 }"></span> 
```

在这里，我将一个 JSON 对象发送到过滤器。您还可以发送任何类型的数据，例如字符串或数字。

您也可以将动态数量的参数传递给 filter ，在这种情况下，您必须使用***参数***来获取这些参数。

对于一个工作演示去这里 - [将多个参数传递给角度过滤器](https://jsfiddle.net/darkarcherroy/ahzgs6vu/2/)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-07-02T13:40:59.277

你可以简单地使用 `| filter:yourFunction:arg`

```
<div ng-repeat="group in groups | filter:weDontLike:group">...</div> 
```

在 js 中

```
$scope.weDontLike = function(group) {
//here your condition/criteria
return !!group 
} 
```

# android - 如何在卸载 android 应用程序时从 sdcard 中删除数据？

> ID：11753322
> 
> 赞同：0
> 
> 时间：2012-08-01T05:56:30.717
> 
> 标签：android, android-sdcard, android-install-apk

我有一个将杂志保存在 sdcard 上的应用程序。现在我想在卸载应用程序时删除所有下载的杂志。有什么办法可以解决这个问题。请建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:09:24.970

如果您使用 getExternalStorageDirectory() 方法创建文件，它将在删除应用程序时删除属于您的应用程序的文件

请参阅下面的 linl 以使用它创建文件

[Android 如何使用 Environment.getExternalStorageDirectory()](https://stackoverflow.com/questions/5453708/android-how-to-use-environment-getexternalstoragedirectory)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-18T04:57:08.210

请检查链接[http://developer.android.com/guide/topics/data/data-storage.html#filesInternal](http://developer.android.com/guide/topics/data/data-storage.html#filesInternal)

你保存数据的文件夹：/Android/data//cache/ 这是你的Java风格的包名，比如“com.example.android.app”。

卸载应用程序时，数据清除。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T06:13:24.243

从Android手机卸载任何应用程序时..它提供了一个“清除数据”选项，我认为如果您通过代码创建它，它会自动删除您的数据。

# android - 什么是android UI设计工具

> ID：11753324
> 
> 赞同：4
> 
> 时间：2012-08-01T05:56:32.813
> 
> 标签：android, android-ui

过去 6 个月，我从事 android 移动应用程序开发。我的问题是，除了 DroiDrow 之外，任何人都使用任何用于 android UI 设计的特殊工具。哪一个主要用于 UI 设计？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:04:59.317

[你可以在这里](http://webdesignledger.com/tools/useful-tools-and-kits-for-android-developers)找到很多用于 android 的设计工具

谢谢，

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-01T06:44:50.890

对于用户界面的原型，我正在使用[Pencil Project](http://pencil.evolus.vn/en-US/Home.aspx)它有带有[android 模板](http://code.google.com/p/evoluspencil/downloads/detail?name=Android-4.0-Stencils.zip)的插件，可以从官方网站下载。此外，它作为 firefox 插件或独立桌面应用程序和跨平台存在，免费且在开源许可下

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-01T06:27:26.657

[这个问题可能对你有用](https://stackoverflow.com/questions/5296767/android-how-can-i-improve-the-look-of-an-app)

[本教程用于为 android 创建主题](http://www.androidengineer.com/2010/06/using-themes-in-android-applications.html)

[Android UI 模式](http://sixrevisions.com/user-interface/mobile-ui-design-patterns-inspiration/)

[设计教程](http://www.androiduipatterns.com)

# ios - 如何在使用 PhoneGap 构建的 iPhone 应用中使用 Google Web Font？

> ID：11753327
> 
> 赞同：8
> 
> 时间：2012-08-01T05:56:58.953
> 
> 标签：ios, cordova, fonts, google-webfonts

我们想在为 iOS 设备构建的 PhoneGap 应用程序中使用 Google Web Fonts，但我们想在应用程序包中托管字体文件，而不是使用代码通过网络动态获取字体。

如果设备处于离线状态，除非字体文件捆绑到应用程序中，否则字体将不可用。

Google 提供了下载网络字体的功能，但是我们应该如何在 HTML 应用程序中引用本地字体文件呢？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-12T05:33:01.900

我们将字体文件以 .ttf 格式放在 assets/www 文件夹中的某个位置。

宣言：

```
@font-face {
  font-family: "Droid Serif";
  src: url('fonts/DroidSerif.ttf');/* relative path from the css file */
} 
```

然后像这样使用它：

```
.someClass, #someId, someTag{
  font-family: Droid Serif;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-08-24T20:27:47.057

昨天我花了很大一部分时间弄清楚如何让字体在 iOS 上的 PhoneGap 中工作，但我犯了一个错误：

```
src: url('/fonts/DroidSerif.ttf'); 
```

变成：

```
src: url('../fonts/DroidSerif.ttf'); 
```

也许这会帮助有同样想法的人。

# sql - 如何在 SQL Server 2008 中的 Select 上或之前创建触发器

> ID：11753329
> 
> 赞同：3
> 
> 时间：2012-08-01T05:57:35.740
> 
> 标签：sql, sql-server-2008

```
USE admin_gorace
IF EXISTS (SELECT name FROM sysobjects
      WHERE name = 'trScheduler_Status_Update' AND type = 'TR')
   DROP TRIGGER trScheduler_Status_Update
GO
CREATE TRIGGER trScheduler_Status_Update
ON [Client].[Scheduler]
FOR INSERT, UPDATE, DELETE , SELECT
AS
 UPDATE [Client].[Scheduler] set [Status]='Over'
 where (Convert(varchar,[Scheduler_Date],101) <=Convert(varchar,getutcdate(),101)  or Convert(varchar,[Scheduler_Date],101) <= Convert(varchar,getdate(),101))
 and (right(CONVERT( varchar, [time_to], 100),7)<= right(CONVERT( varchar, getutcdate(), 100),7) or right(CONVERT( varchar, [time_to], 100),7) <= right(CONVERT( varchar, getdate(), 100),7))
 and [Status]!='Cancelled' and [Status]!='Over' 
```

去

On `INSERT`, `UPDATE`, `DELETE`trigger 可以工作 但是如何让它在 select 语句上或之前工作

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-01T06:04:28.943

你不能，[文档](http://msdn.microsoft.com/de-de/library/ms189799.aspx)说：

> 触发器是一种特殊的存储过程，当数据库服务器中发生事件时会自动执行。DML 触发器在用户尝试通过数据操作语言 (DML) 事件**修改数据时执行。**DML 事件是表或视图上的 INSERT、UPDATE 或 DELETE 语句。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-01T06:48:27.330

您设置表格的方式似乎存在许多问题。希望你能改变它们。而不是您当前的设置，以及您尝试使用触发器执行的操作，我将拥有：

```
create table Scheduler (
  /* Columns - don't know what */
  EndDate datetime2 not null,
  CancelledAt datetime2 null,
  Status as CASE
    WHEN CancelledAt is not null THEN 'Cancelled'
    WHEN EndDate < getutcdate() THEN 'Over'
    ELSE 'Current' END
) 
```

现在，不必*手动*更新表，`Status`列总是正确的——你只需要查询它。请注意，我已将其合并`Scheduler_Date`为`time_to`一个`datetime2`名为的列`EndDate`- 似乎没有充分的理由将其拆分为两个单独的列。这也使比较更简单。

我还选择仅根据`getutcdate()`- 您当前的代码似乎正在尝试（有些糟糕）来处理可能是 UTC 或本地日期的混合值 - 但不会做得很好 - 所以防止这首先是一个问题，并且只在表中存储一种类型的日期时间值。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-01T06:02:11.227

这是不可能的。这不仅是不可能的，即使它可能不是一个好主意。表格应该是信息的原始来源。抽象应该以视图、表值函数等的形式来获得您正在寻找的功能。

# c - 当列表超过 100 个元素时，链表头部的值会默默地改变

> ID：11753331
> 
> 赞同：0
> 
> 时间：2012-08-01T05:57:45.507
> 
> 标签：c, pointers, linked-list

我需要对具有特定扩展名 (*.bob) 的文件列表进行一些操作，这些文件都存储在同一目录中。这些文件是图像帧，它们的名称格式是 frame_XXXX.bob。我不知道先验的帧数，我需要确保按顺序处理它们（从第 0 帧到最后一个）。我用 读取了文件夹的内容`struct dirent *readdir(DIR *dirp)`，但由于它不能保证文件将按字母顺序读取（即使它似乎总是如此），我想将它们放入单个链表中，然后在进一步处理之前对它们进行排序. 我先保存列表的头部，然后再将其填充到指针`filesListStart`，然后读取整个文件夹内容，如果每个条目具有“.bob”扩展名，则将其添加到列表中。当我有多达 100 帧时，这一切都很好，但由于某种原因，超出了这一点 - 指针`filesListStart`指向的值不再包含列表中第一个条目的文件名。该代码不使用任何数字，所以我不知道超过 100 个元素的意义是什么。我在开始填充列表之前和之后写出了内存地址`filesListStart`，它们是相同的，但是它们显示的值会神奇地改变。当我将`filesListStart`它设置为指向字段`fileName`等于“frame_0000.bob”的对象时（这是预期的），但在填充列表后，它指向的名称变为“e_0102.bob”。

列表结构定义为

```
// List structure
struct FilesList {
  char *fileName ;
  struct FilesList *next ;
} ; 
```

有问题的代码是：

```
DIR *moviesDir ;
moviesDir = opendir("movies") ;

if(moviesDir == NULL)
{
  printf("Make Movie failed to open directory containing bob frames\n") ;
  return ;
}

struct dirent *dirContent ;

// Get first .bob frame name from the directory
dirContent = readdir(moviesDir) ;
// isBobFile(dirContent) returns 1 if entry has ".bob" extension and 0 otherwise
while( !isBobFile(dirContent) )
{
  dirContent = readdir(moviesDir) ;
}

struct FilesList *filesList = (struct FilesList*)
    malloc( sizeof(struct FilesList) ) ;

// Initialize the list start at that first found .bob frame
filesList->fileName = dirContent->d_name;
// And save the head of the list
struct FilesList *filesListStart = filesList ;
printf("FilesListStart: %s\n", filesListStart->fileName) ;
printf("Address is: %p\n", filesListStart) ;

// For all other bob frames
while( (dirContent = readdir(moviesDir) ) != NULL )
{
  if( isBobFile(dirContent) )
  {
    struct FilesList *temporaryNode = (struct FilesList*)
        malloc( sizeof(struct FilesList) );
    temporaryNode->fileName = dirContent->d_name ;
    filesList->next = temporaryNode ;
    filesList = temporaryNode ;
  }
}
// Set the 'next' pointer of the last element in list to NULL
filesList->next = NULL ;
// close stream to directory with .bob frames
closedir(moviesDir) ;

// Check what FilesListStart points at
printf("FilesListStart: %s\n", filesListStart->fileName) ;
printf("Address is: %p\n", filesListStart) ;

// Rest of the code 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:04:22.603

您应该*复制*而`dirContent->d_name`不是使用实际值。

`dirent`运行时库可以在您调用时自由更改该结构的内容`readdir`，如果您存储的只是它的地址，则底层内存可能会更改。从 POSIX 手册页：

> readdir() 返回的指针指向可能被同一目录流上的另一个 readdir() 调用覆盖的数据。

换句话说，替换以下行：

```
filesList->fileName = dirContent->d_name;
temporaryNode->fileName = dirContent->d_name ; 
```

和：

```
filesList->fileName = strdup (dirContent->d_name);
temporaryNode->fileName = strdup (dirContent->d_name); 
```

假设你有一个类似`strdup`的函数，如果没有，你可以[在这里](https://stackoverflow.com/questions/252782/strdup-what-does-it-do-in-c/252802#252802)买到便宜的。

如果它仅在 100 次调用后发生变化，则可能是运行时试图变得更智能，但即使它也无法存储无限数量，因此它可能设置了一个合理的限制。

只要记住在释放链接列表节点之前释放所有这些 char 指针（大概在“其余代码”部分的某个地方）。

# objective-c - CLLocationManager 不更新位置

> ID：11753338
> 
> 赞同：1
> 
> 时间：2012-08-01T05:58:15.623
> 
> 标签：objective-c, mapkit, core-location

问题是位置管理器没有更新位置。函数被调用，`(void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLoc fromLocation:(CLLocation *)oldLoc` 但它将新位置显示为相同的旧位置。

以下是我的一段代码： 在我的 viewDidLoad 方法中，我正在创建 CLLocationManager 的对象

```
-(void) viewDidLoad
{

    self.locationManager = [[CLLocationManager alloc] init];
    self.locationManager.delegate = self;
    self.locationManager.desiredAccuracy = kCLLocationAccuracyNearestTenMeters;
    self.locationManager.distanceFilter = kCLDistanceFilterNone;
    // created a timer to call locationUpdate method 
    [NSTimer scheduledTimerWithTimeInterval:20 target: self selector:  @selector(locationUpdate) userInfo: nil repeats: YES];    

}

-(void)locationUpdate
{

    [self.locationManager startUpdatingLocation];

}

-(void)locationManager:(CLLocationManager *)manager
    didUpdateToLocation:(CLLocation *)newLoc
           fromLocation:(CLLocation *)oldLoc
{

    NSLog(@"in locationmanager did update %f",newLoc.coordinate.latitude);
    MKCoordinateRegion region = 
    MKCoordinateRegionMakeWithDistance(newLoc.coordinate, 0.01,      0.02);
    [self.mapView setRegion:region animated:YES];
    [self.locationManager stopUpdatingLocation];

}

-(MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id <MKAnnotation>) annotation
{

    if ([annotation isKindOfClass:[MKUserLocation class]])
    {
        MKCoordinateSpan span = MKCoordinateSpanMake(0.01, 0.02);
        MKCoordinateRegion region = MKCoordinateRegionMake(mapView.userLocation.coordinate, span);
        [_mapView setRegion:region animated:YES];
        [_mapView regionThatFits:region];

    } 
```

我在 NSLog(@"in locationmanager did update %f",newLoc.coordinate.latitude) 中得到的值总是相同的——尽管我从当前位置开始移动了超过 2 公里。

请帮助我了解如何在有位置更新时获得确切的新位置。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T01:18:13.520

您正在停止位置管理器

```
[self.locationManager stopUpdatingLocation]; 
```

在

```
-(void)locationManager:(CLLocationManager *)manager
didUpdateToLocation:(CLLocation *)newLoc
       fromLocation:(CLLocation *)oldLoc 
```

. 每次用户移动时都会调用此委托方法，并且可以在开始时为您提供旧的（缓存的）数据，因此当您获得第一个位置修复时立即停止它，您可能每次都会获得一个缓存的位置。修复很简单，只是不要在此处停止位置管理器，而是在您的 viewController 消失或类似的有用位置时停止。

# r - 创建具有多个数据框的文件

> ID：11753340
> 
> 赞同：0
> 
> 时间：2012-08-01T05:58:48.017
> 
> 标签：r, csv, dataframe

我是 R 新手，所以如果这是一个基本问题，我提前道歉，但我已经搜索了高低，但没有找到答案。

我想制作一个包含多个数据框的文件。（一个例子是 BradleyTerry2 包中的数据集“flatlizards”。该文件称为“flatlizards”，但其中有两个数据框——“contests”和“predictors”。当您要求查看数据“flatlizards”时两个数据框都分别显示在其相应的标题下）。

如何将两个单独命名的数据框连接到一个文件中？另外，如何使用 CSV 文件执行此操作？所有数据都需要保存在一个 CSV 文件中还是多个文件中？提前感谢您，我非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-01T06:13:09.357

有问题的对象是一个列表。您可以使用以下代码看到这一点：

```
library(BradleyTerry2)
data(flatlizards)
str(flatlizards) 
```

你可以看到它是一个 2 的列表，它的元素是单独的数据框。

您可以很容易地将对象组合在一个列表中，如下所示：

```
a <- data.frame(x=rnorm(10), y=runif(10))
b <- data.frame(w=rnorm(20), z=runif(20))

ablist <- list(a, b) 
```

From there, you take the approach @mrdwab has taken.

Alternatively, if you want them in one dataframe or one csv, you can try using `merge`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-01T06:06:40.100

这是一个非常基本的例子：

```
# Clean out your current workspace
rm(list=ls())

# Create two objects
a = 1:10
b = letters[1:10]

# Save them to one file
save(a, b, file="demo.RData")

# Remove them from the workspace
rm(a, b)
ls()
## character(0)

# Re-load the data
load("demo.RData")
ls()
## [1] "a" "b"
a
## [1]  1  2  3  4  5  6  7  8  9 10
b
## [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" 
```

同样的原则也适用于 CSV 文件中的数据。只需将它们读入，进行您需要做的任何清理，然后将它们捆绑到一个`.RData`文件中。

还有一个可以`save.image()`保存当前工作区中的所有内容。

**更新**：阅读塞巴斯蒂安的回答后，您似乎对创建一个`list`of更感兴趣`data.frames`。如果这是您有兴趣做的事情，并且您需要从单独的 CSV 文件中读取数据，请参阅[这篇文章](https://stackoverflow.com/a/11433532/1270695)以帮助您入门。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T07:50:49.057

To complete the solution by sebastian-c you can also name the components of a list:

```
a <- data.frame(x=rnorm(10), y=runif(10))
b <- data.frame(w=rnorm(20), z=runif(20))

ablist <- list(first=a, second=b)

ablist$first
ablist[[1]]

ablist$second
ablist[[2]] 
```

# android - 将长字符串转换为日期

> ID：11753341
> 
> 赞同：2
> 
> 时间：2012-08-01T05:58:53.110
> 
> 标签：android, date

我从数据库中获取日期值作为**长**值。我将其转换为**字符串**以使用*解析*函数。下面给出的是我的代码

```
 Date date1 = new SimpleDateFormat("MM/dd/yyyy").parse(strDate1); 
```

但是在执行此代码时应用程序会崩溃。如果执行此代码，它将成功执行

```
strDate1="12/30/2012". 
```

但我将此值设为“ **12302012235** ”（pzudo 值）。

我怎样才能做到这一点？

**编辑：**

我将日期值作为 INTEGER 保存到 DB。从数据库我得到这个值并转换为字符串。这是实际的 strDate1 值

```
strDate1="1346524199000" 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-11-20T12:33:34.720

尝试以下代码段：

```
 Calendar c = Calendar.getInstance();
        c.setTimeInMillis(Long.parseLong(val));         
        Date d = (Date) c.getTime();        
        SimpleDateFormat format = new SimpleDateFormat("dd/MM/yyyy");       
        String time = format.format(d);//this variable time contains the time in the format of "day/month/year". 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-01T06:36:06.273

尝试这个，

```
SimpleDateFormat dateFormat=new SimpleDateFormat("yyyy-MM-dd");
    Date dateD=new Date();
    dateD.setTime(LongTime);
    date=dateFormat.format(dateD); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-08-26T10:39:42.743

**Java 8**，通过给定的日期格式模式将毫秒长转换为日期作为字符串。如果您有很长的毫秒数并希望在指定的时区和模式将它们转换为日期字符串，那么您可以使用它：-

**dateInMs**是 DateTime 的长值。

```
DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss")
                    .format(Instant.ofEpochMilli(dateInMs).atZone(ZoneId.of("Europe/London"))) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-01T06:13:19.327

您可以尝试以下代码：

```
private Date getGMTDate(long date) {
    SimpleDateFormat dateFormatGmt = new SimpleDateFormat(
            "yyyy-MMM-dd HH:mm:ss");
    dateFormatGmt.setTimeZone(TimeZone.getTimeZone("GMT"));
    SimpleDateFormat dateFormatLocal = new SimpleDateFormat(
            "yyyy-MMM-dd HH:mm:ss");

    Date temp = new Date(date);

    try {
        return dateFormatLocal.parse(dateFormatGmt.format(temp));
    } catch (ParseException e) {
        e.printStackTrace();
    }
    return temp;
} 
```

我希望这能帮到您。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-04-05T10:45:01.377

## *java.time*

`java.util`日期时间 API 及其格式化 API已`SimpleDateFormat`过时且容易出错。建议完全停止使用它们并切换到[现代日期时间 API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html) ^*。

**使用现代日期时间 API：**

```
import java.time.Instant;
import java.time.ZoneId;
import java.time.ZonedDateTime;
import java.time.format.DateTimeFormatter;
import java.util.Date;
import java.util.Locale;

public class Main {
    public static void main(String[] args) {
        long input = 12302012235L;

        // Get Instant from input
        Instant instant = Instant.ofEpochMilli(input);
        System.out.println(instant);

        // Convert Instant to ZonedDateTime by applying time-zone
        // Change ZoneId as applicable e.g. ZoneId.of("Asia/Dubai")
        ZonedDateTime zdt = instant.atZone(ZoneId.systemDefault());
        System.out.println(zdt);

        // Format ZonedDateTime as desired
        // Check https://stackoverflow.com/a/65928023/10819573 to learn more about 'u'
        DateTimeFormatter dtf = DateTimeFormatter.ofPattern("MM/dd/uuuu", Locale.ENGLISH);
        String formatted = dtf.format(zdt);
        System.out.println(formatted);

        // If at all, you need java.util.Date
        Date date = Date.from(instant);
    }
} 
```

**输出：**

```
1970-05-23T09:13:32.235Z
1970-05-23T10:13:32.235+01:00[Europe/London]
05/23/1970 
```

**[从Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**了解有关现代日期时间 API 的更多信息。

* * *

^(* 出于任何原因，如果您必须坚持使用 Java 6 或 Java 7，则可以使用[***ThreeTen-Backport，***](http://www.threeten.org/threetenbp/)它将大部分*java.time*功能向后移植到 Java 6 和 7。如果您正在为 Android 项目和 Android API 工作level 仍然不符合 Java-8，请检查[Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table)和[How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project)。)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-01T06:04:31.200

尝试这个

```
Date date1 = new SimpleDateFormat("MMddyyyySSS").parse(strDate1); 
```

希望它适用于 12302012235 ，但我认为 235 是毫秒。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-08-01T08:34:23.210

我得到了答案。实际上，我只想将字符串转换为日期以比较值。因为只要我直接使用 compareTo 函数来执行此操作，我就会得到值。避免将 long 转换为 string 和 string 到 date 的转换.谢谢大家的支持。

# c# - 如何使用 PaintEventArgs 参数调用函数？

> ID：11753345
> 
> 赞同：3
> 
> 时间：2012-08-01T05:59:29.730
> 
> 标签：c#, .net

鉴于 MSDN 中的以下代码示例：

```
private void GetPixel_Example(PaintEventArgs e)
    {

        // Create a Bitmap object from an image file.
        Bitmap myBitmap = new Bitmap(@"C:\Users\tanyalebershtein\Desktop\Sample Pictures\Tulips.jpg");

        // Get the color of a pixel within myBitmap.
        Color pixelColor = myBitmap.GetPixel(50, 50);

        // Fill a rectangle with pixelColor.
        SolidBrush pixelBrush = new SolidBrush(pixelColor);
        e.Graphics.FillRectangle(pixelBrush, 0, 0, 100, 100);
    } 
```

如何调用`Paint`函数？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-01T06:03:07.997

从这样的绘画事件中

```
private PictureBox pictureBox1 = new PictureBox();

pictureBox1.Paint += new System.Windows.Forms.PaintEventHandler(this.pictureBox1_Paint);

private void pictureBox1_Paint(object sender, System.Windows.Forms.PaintEventArgs e)
{
   GetPixel_Example(e) ;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T06:12:58.043

您可以从表单的 PaintEvent 调用此方法，例如

```
public class Form1 : Form
{
    public Form1()
    {
        this.Paint += new PaintEventHandler(Form1_Paint);
    }

    //....

    private void Form1_Paint(object sender, PaintEventArgs e)
    {
        GetPixel_Example(e);
    }

    private void GetPixel_Example(PaintEventArgs e)
    {
        // Create a Bitmap object from an image file.
        Bitmap myBitmap = new Bitmap(@"C:\Users\tanyalebershtein\Desktop\Sample Pictures\Tulips.jpg");

        // Get the color of a pixel within myBitmap.
        Color pixelColor = myBitmap.GetPixel(50, 50);

        // Fill a rectangle with pixelColor.
        SolidBrush pixelBrush = new SolidBrush(pixelColor);
        e.Graphics.FillRectangle(pixelBrush, 0, 0, 100, 100);
    }
} 
```

1.  加载图像
2.  获取 x=50,y=50 处像素的颜色
3.  [在窗体的Graphics](http://msdn.microsoft.com/de-de/library/system.drawing.graphics.aspx) -Object上绘制一个填充的矩形，颜色为 0,0，大小为 100,100

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-06-24T14:41:28.890

您不应该自己调用该`Paint`方法。`Paint`每当需要绘制组件时，.NET 框架都会调用该方法。这通常发生在窗口被移动、最小化等时。

如果您想告诉 .NET 框架重新绘制您的组件，请调用`Refresh()`该组件或其父组件之一。

# html - 当当前图像已由 ID 分配时，在悬停时向元素添加另一个背景图像？

> ID：11753349
> 
> 赞同：0
> 
> 时间：2012-08-01T06:00:05.180
> 
> 标签：html, css

你知道你可以在 CSS3 中的单个元素上拥有多个背景图像吗？

```
background-image: url(image.png) , url(image1.png); 
```

我需要在“悬停”事件中附加另一个图像 URL 而不是替换当前的 URL。

我试过了：

```
element:hover
{    
    background-image: url(image1.png);    
} 
```

没有运气。

但是，如果我只是简单地重新分配悬停事件中的所有图像，则一切正常：

```
element:hover
{    
    background-image: url(image.png) , url(image1.png);    
} 
```

但我不能这样做，因为我使用`id`'s 来分配主图像，这与 id 不同。所以是这样的：

```
.buttonClass
{    
/*width and height stuff here*/    
}

.buttonClass:hover
{    
/*this is where I add my ADDITIONAL image*/    
}

#buttonONE
{    
/*this is where I assign my primary image*/    
}

#buttonTWO
{    
/*this is where I assign my primary image from buttonTWO
  which is different from the image assigned to buttonONE*/    
} 
```

所以`id`'s 将具有主图像，因为它们从 id 到 id 不同。所以我可以这样做：

```
#buttonOne:hover
{
/*but, the hover image (the additional image) I want to append will 
  not differ at all. It will always be the same.*/
    background-image: url(image.png) , url(image1.png);    
}

#buttonTwo:hover
{
/*so this method is pretty messy and pointless, 
  unless of course, it's the only way?*/
    background-image: url(imagedsfsdf.png) , url(image1.png);    
} 
```

所以当我可以将它添加到类悬停时，我不想在整个地方抛出不必要的悬停，对吗？

那么，有什么想法吗？

哦，还有一件事——我宁愿把 JS 和 jQuery 排除在外。除非没有别的办法...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T06:47:12.980

你的意思是这样的吗？[http://jsfiddle.net/demchak_alex/UaApb/](http://jsfiddle.net/demchak_alex/UaApb/)

大小差异只是为了说明发生了什么，50-75-100

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T07:25:13.207

也许使用多个 HTML 元素是合乎逻辑的？例如，父图像保持不变，而当您将鼠标悬停在其父元素上时，子元素图像会发生变化。

你的 CSS 会更干净

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T06:36:51.867

Mkae a fiddle or dabblet 然后我们都可以提供更好的帮助

# android - 在双击和滑动之间切换

> ID：11753355
> 
> 赞同：1
> 
> 时间：2012-08-01T06:00:40.750
> 
> 标签：android, swipe, gesturedetector

我有一个 RelativeLayout 我正在使用 GestureDetector 将 TouchListener 放入其中。我已经完成并且可以检测到双击，但是如何在视图中添加滑动事件呢？

```
private void myTapEvent(){
        RlContent.setOnTouchListener(new View.OnTouchListener() {
            @Override
            public boolean onTouch(View v, MotionEvent event) {
                return gestureDetector.onTouchEvent(event);
            }
        });

        gestureDetector = new GestureDetector(new GestureDetector.SimpleOnGestureListener() {
            @Override
            public boolean onDoubleTap(MotionEvent e) {
                count++;
                doTaskHere();
                return true;
            }
            @Override
            public boolean onDown(MotionEvent e) {
                return true;
            }
        });
    } 
```

实现滑动事件后，如何在 a.)**仅允许点击和禁用滑动** 和 b.)**禁用点击和仅允许滑动**之间切换。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:22:14.503

在您的`GestureDetector`侦听器中，添加该`onFling`方法。此外，要在它们之间切换，您需要`boolean`在您的类中有一个可以切换的变量。

```
private boolean mAllowSwipe = true; // True = swipe, no double-tap; false = double-tap, no swipe

// ...

private void switchGestureMode() {
    if (mAllowSwipe)
        mAllowSwipe = false;
    else
        mAllowSwipe = true;
}

// ...

private void myTapEvent(){
    // ...

    gestureDetector = new GestureDetector(new GestureDetector.SimpleOnGestureListener() {
        @Override
        public boolean onDoubleTap(MotionEvent e) {
            if (mAllowSwipe) {
                return false;
            }
            count++;
            doTaskHere();
            return true;
        }
        @Override
        public boolean onDown(MotionEvent e) {
            return true;
        }
        @Override
        public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {
            if (!mAllowSwipe) {
                return false;
            }
            // Your logic here
        }
    });
}

// ... 
```

[这里](http://www.ceveni.com/2009/08/android-gestures-detection-sample-code.html)和[这里](http://www.monkeycancode.com/simple-gesture-fling)有一些使用 fling 滑动的示例，如果您稍微搜索一下 Google，还有更多示例。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-01T06:31:27.537

为了检测滑动（它们被称为**FLING EVENTS**），您必须实现 android.view.GestureDetector.OnGestureListener 接口。此接口提供的方法之一是 onFling。这将检测到滑动（您必须找出所需滑动事件的确切实现）。

关于点击和滑动之间的切换，你会使用某种按钮点击事件来做到这一点吗？假设您使用两个按钮（忽略语法错误）来修改您的代码。即使在您不使用两个按钮的情况下，您仍然可以在要禁用点击和滑动的任何位置修改下面的两个布尔值（在您单击两者之一之前，滑动和点击不会开始工作）纽扣）

```
boolean makeSwipe = false;
boolean makeTap =false;

//onCreate method{
makeTapButton.setOnClickListener(new android.view.OnClickListener{

@Override
public onClick(View arg0){
makeSwipe = false;
makeTap = true;
}
});

makeSwipeButton.setOnClickListener(new android.view.OnClickListener{

@Override
public onClick(View arg0){
makeSwipe = true;
makeTap = false;
}
});

private void myTapEvent(){
    RlContent.setOnTouchListener(new View.OnTouchListener() {
        @Override
        public boolean onTouch(View v, MotionEvent event) {
            return gestureDetector.onTouchEvent(event);
        }
    });

    gestureDetector = new GestureDetector(new GestureDetector.SimpleOnGestureListener() {
        @Override
        public boolean onDoubleTap(MotionEvent e) {

            if(makeTap)
            {
            count++;
            doTaskHere();
            return true;
            }

            return false;
        }
        @Override
        public boolean onDown(MotionEvent e) {
            return true;
        }
    });
}

@Override
public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX,
        float velocityY) {
            if(makeSwipe)
            {
             // Do some stuff
             return true;
            }
    return false;
} 
```

# java - 如何反编译 jd-gui 反编译器无法反编译的 Java 类文件？

> ID：11753357
> 
> 赞同：1
> 
> 时间：2012-08-01T06:00:41.257
> 
> 标签：java, class, decompiler

我们不小心从系统中删除了一些 JAVA 源文件。

当我们直接从存储库中签出一个文件夹作为 Eclipse 项目，然后尝试将另一个 Eclipse 项目中的文件夹复制到这个文件夹中时，就会发生这种情况。奇怪的是，所有这些文件夹文件都从本地系统中消失了（显然它们从未进入 SVN 存储库）。

不知何故，我们已经获得了一些 CLASS 文件的 .svn-base 文件。现在我们正在尝试反编译类文件以获取源代码。但是，当 jd 编译器尝试处理它们时，某些类文件会给出错误“输入文件无效”。有没有其他解决方案？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T06:28:47.660

据我所知，“jd-gui”是封闭源代码，因此您可能需要联系开发人员以了解该消息的含义。（如果它是开源的，我们只需查看源代码即可找出可能的问题！）

但是，从 Google 出现的各种问题中可以清楚地看出一件事，那就是“jd-gui”不了解如何反编译档案（JAR、EAR 等）。因此，也许您只需要取消 JAR 即可使其正常工作。

您可以尝试的另一件事（首先）是查看“javap”对“jd-gui”不喜欢的类文件的影响。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T12:31:15.157

尝试使用 JAD 反编译您的文件。

www.varanekas.com/jad/

您可能需要解压缩 jar 文件，然后运行类似以下的内容来反编译它们

```
find <srcdirectory> -name *.class -exec jad -s .java -r -ff -clear -debug -d <dest directory> {} \; 
```

我还没有测试过上面的命令，但希望它几乎就在那里......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-07-08T08:40:32.453

我也有某个类文件的错误“输入文件无效”。我使用的是 0.3.6 版的 jd-gui。下载最新版本的 jd-gui（在撰写本文时为 1.6.6）后，我可以反编译之前失败的类文件。

因此，如果有人仍然有这个问题，检查版本并升级是否是旧版本是有意义的。这是“最新版本”下载页面的链接：http: [//java-decompiler.github.io/](http://java-decompiler.github.io/)

# javascript - Javascript - 将值增加 4。

> ID：11753360
> 
> 赞同：0
> 
> 时间：2012-08-01T06:00:58.457
> 
> 标签：javascript, variables, increment

我有个问题。

我需要一个 Javascript 函数，它将变量值增加（增加）4，当变量值为 20 时，将变量的值设置为 0 并再次将其增加 4，依此类推...

我认为我需要 for 循环和 if 条件，但我不知道如何实现这个......

例子

结果必须是：

x = 0; 那么 x = 4, x = 8, x = 12, x = 16, x = 20, x = 0, x= 4 ....

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-01T06:03:28.107

你可以用一对嵌套的循环来做到这一点：

```
while (true) {
    for (var x = 0; x <= 20; x += 4) {
        // use x
    }
} 
```

这将比使用 mod ( `%`) 运算符更有效。

编辑

从您的评论中，听起来您想要增量生成序列，而不是循环生成。这是一个函数，它将返回一个函数，每次调用它时都会生成序列的下一个元素：

```
function makeSequence() {
    var x = 20; // so it wraps to 0 first time
    return function() {
        if (x == 20) { x = 0 }
        else { x += 4 }
        return x;
    }
} 
```

然后你可以像这样使用它（在很多方面）：

```
var sequence = makeSequence();

// and each time you needed the next element of the sequence:

var x = sequence(); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-01T06:04:17.420

这可以通过加法运算符和模数的组合轻松解决`%`。

```
x = 0;
//loop
x = (x+4)%24; 
```

演示：http: [//jsbin.com/okereg/1/edit](http://jsbin.com/okereg/1/edit)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-01T06:05:27.293

以下将有所帮助

```
function fnAddVal(val) {
     if (val >= 20)
            return 0;
     else
       return val+4;

} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-01T06:06:36.857

简单的！

```
x = (x + 4) % 24; 
```

你想要一个无限循环吗？什么？

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-01T06:06:35.787

你可以为你的循环尝试这样的事情：

```
<html>
<body>
<script language="javascript">
int x = 0;
while ( x <= 20 ) 
{
    alert("The number is " + x)
    if ( x >= 20 ) 
    {
        x = 0;
    }
    x += 4;
}
</script>
</body>
</html> 
```

# python - 架构升级和 last_modified 属性（GAE 和 NDB）

> ID：11753363
> 
> 赞同：1
> 
> 时间：2012-08-01T06:01:17.703
> 
> 标签：python, google-app-engine, google-cloud-datastore

我刚刚完成了使用 mapreduce 在 GAE 的数据存储上执行模式升级的基础设置。我们正在使用 NDB，并且许多模型或我们的模型使用 DateTimeProperty 的 auto_now 关键字选项来设置 last_modified 属性。

```
last_modified = ndb.DateTimeProperty( auto_now=True ) 
```

当然，在运行更新实体的 mapreduce 作业时，last_modified 属性也会更新，这并不是我们真正想要的。

```
def upgrade_entity(entity):
    # modify entity
    yield op.db.Put(entity) 
```

根据文档，您可以使用 auto_now_add 设置覆盖属性的值，但不能使用 auto_now。

我现在认为可能还有其他情况我们不希望 last_modified 属性也被更新。

那么，有没有办法保留实体的 last_modified 值，或者我们是否添加另一个属性或用我们可以控制的属性替换这些属性并手动设置值？

* * *

好的，所以共识似乎是我应该能够定义模型的替代版本，该版本仅由 mapreduce 代码使用，而不是面向用户的代码（我非常希望避免不得不关闭站点来做架构升级），但我无法让它工作。

通过以下设置，面向用户的代码可以正常工作（更新 last_modifed），直到我运行也可以正常工作的 mapreduce（不更新 last_modified）。运行 mapreduce 后，面向用户的代码不再更新 last_modified..

模型.py

```
class MyModel(ndb.Model):
    # model used by user facing code
    last_modified = ndb.DateTimeProperty( auto_now=True ) 
```

升级.py

```
class MyTmpModel(ndb.Model):
    # model used by mapreduce code
    @classmethod
    def _get_kind(cls):
        return 'MyModel'
    last_modified = ndb.DateTimeProperty( auto_now=False )

def upgrade_model(entity):
    # mapper function 
    # modify entity
    yield op.db.Put(entity) 
```

mapreduce.yaml

```
mapreduce:
- name: Upgrade Model
  mapper:
    input_reader: mapreduce.input_readers.DatastoreInputReader
    handler: upgrade.upgrade_model
    params:
    - name: entity_kind
      default: upgrade.MyTmpModel 
```

* * *

好的，我将把我的问题归结为我一直在 dev_server 中测试这个事实，以及与真正的 gae 服务器相比，那里运行的方式的差异。我得出的结论是，在 dev_server 中，所有代码都在同一个进程中运行，并且不同的模型版本没有相处......来自 NDB 模型文档：

> 应用程序不应定义两个具有相同类型的模型类，即使它们位于不同的模块中。应用程序的种类被认为是一个全局“命名空间”。

我假设我可以依赖这样一个事实，即在真正的 gae 服务器上，mapreduce 代码将在单独的实例中运行，并且不会发生这些版本冲突，也不会影响面向用户的服务器实例，因此上述设置应该按预期工作.

感谢蒂姆和圭多的帮助。

干杯，

Ĵ

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T17:26:33.640

解决方案是在 map/reduce 代码中的所有模型定义中设置 auto_now=False。

我建议以最少的错误机会执行此操作：

定义一个可以为 True 或 False 的全局常量，用于模型定义中的所有 auto_now 设置。然后，您只需更改那一行，即可将所有模型的从 True 更改为 False。你甚至可以让它根据一些环境变量自动计算值。

# c# - 在现有水晶报表中添加第二页

> ID：11753364
> 
> 赞同：0
> 
> 时间：2012-08-01T06:01:26.817
> 
> 标签：c#, crystal-reports

我创建了一个水晶报表，它运行成功，但我想添加该报表的第二页。第二页不包含任何数据库字段，我将显示组织的条款和条件。我试图添加第二页，当它运行时它也显示了第一页的一些数据。所以请让我知道如何做到这一点..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T06:13:05.227

假设您使用“部分”来显示“*条款和条件*”，请在“部分专家”选项下为该部分选择“**之后的新页面”。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-02-08T05:41:51.377

我从来没有设法以这种方式解决它，而是使用[子报告](https://www.codeproject.com/Questions/772444/How-do-I-display-two-different-query-results-in-tw)

# apache-flex - UIComponent 上有样式代理吗？

> ID：11753372
> 
> 赞同：0
> 
> 时间：2012-08-01T06:02:21.387
> 
> 标签：apache-flex, flex4

UIComponent 上有样式代理吗？例如，不要这样做：

```
myButton.setStyle("borderColor", 0xFF00FF); 
```

我想这样做：

```
myButton.styles.borderColor = 0xFF00FF; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T07:21:17.683

在 flex 4.6 中没有，没有选项可以做到这一点。设置样式的最佳方式`myButton.setStyle("borderColor", 0xFF00FF);`

你应该这样做。只需设置属性名称。

# javascript - 无法使用 javascript 清除文本框

> ID：11753374
> 
> 赞同：2
> 
> 时间：2012-08-01T06:02:52.937
> 
> 标签：javascript

当我点击带有 value 的按钮时，我无法清除文本框`C`。

在 Opera 中，当我按下数字按钮时，它会正确地将它们输入到文本框中，但由于某种原因，该`C`按钮无法正常工作！这是[jsfiddle](http://jsfiddle.net/pwQpV/9/)。

谢谢。

* * *

*编辑：*我还没有实现所有的功能！只有数字按钮起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:12:17.157

将您的函数重命名为其他名称，它将起作用。

[**小提琴**](http://jsfiddle.net/pwQpV/11/)

~~现在为什么`clear`给出冲突超出了我的范围，`console.log`它返回`undefined`并且它不是关键字AFAIK。~~

**编辑：**检查 Zeta 的评论，感谢您的信息！`clear`是一个不推荐使用的功能。[参考](https://developer.mozilla.org/en/DOM/document.clear)

以后避免使用此类通用名称，以免头疼。`=]`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T06:14:11.370

不要使用`clear`. 我认为功能`clear()`是一个保留词

[http://www.roseindia.net/javascript/javascript-clear-method.shtml](http://www.roseindia.net/javascript/javascript-clear-method.shtml)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-01T06:15:20.417

```
 function findKeyPressed(e)
{
var codeChar=e.keyCode? e.keyCode : e.charCode
    if(codeChar==67)
    {
        document.getElementById('txtBoxId').value="";
    }
}
   <input type="text" onkeyup="findKeyPressed(event); this.select()" /> 
```

# wordpress - 在 WordPress 中的 single.php 中显示附件 URL

> ID：11753375
> 
> 赞同：0
> 
> 时间：2012-08-01T06:02:59.063
> 
> 标签：wordpress

我一直在尝试获取附件 URL，到目前为止，此代码获取图像的直接链接；

```
<?php if ( $attachments = get_children( array(
    'post_type' => 'attachment',
'post_mime_type'=>'image',
    'numberposts' => 1,
    'post_status' => null,
    'post_parent' => $post->ID
     )));
    foreach ($attachments as $attachment) {
    echo '<a target="_blank" href="' . wp_get_attachment_url( $attachment->ID )  . '">Download Full Size</a>';
 }

 ?> 
```

但我想要附件 URL，请帮助...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T08:26:12.680

我认为您做错了，您是否将上传文件的 URL 存储在数据库中？如果没有，那么你不能。

使用自定义字段来存储和使用它们。

如果您想在不编码的情况下使用此插件[http://wordpress.org/extend/plugins/types/](http://wordpress.org/extend/plugins/types/)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-05-29T16:06:33.397

您只需要使用[get_attachment_link](http://codex.wordpress.org/Function_Reference/get_attachment_link)而不是 wp_get_attachement_url

# ios - iOS 与 Photoshop JPEG 压缩

> ID：11753376
> 
> 赞同：2
> 
> 时间：2012-08-01T06:03:02.053
> 
> 标签：ios, image-processing, compression, jpeg, photoshop

对于任何知道答案的人，我有一个简单的问题......我正在制作一个社交照片共享应用程序，我想在应用程序中保存足够大的图像，以便它可以在全屏网站应用程序中使用. 想想……脸书。

我一直在玩 iOS 中的 JPEG 压缩，还用 Photoshop CS5 测试大小和质量。这两个我得到了非常不同的结果。在 Photoshop 中，即使在高压缩率下，图像也非常清晰，并且保​​留了很多细节。在 iOS 中，一旦压缩率低于 0.5 左右，它就会看起来很糟糕而且很粗糙。似乎有一个点，图像质量在某个神奇的压缩数之后会下降。

在 Photoshop 中，我使用“Save for Web”选项，在 iOS 中，我使用 UIImageJPEGRepresentation(image, 0.6)。这两者有很大的不同吗？不是所有的 JPEG 都使用相同类型的压缩吗？

在这个图像处理的世界里，我真的不是很了解。任何人都可以建议我将图像压缩到保持质量并保持带宽友好的水平的好方法吗？我希望我的图像长度保持在 1280 像素左右。

欢迎任何有关通过网络移动 JPEGS 或更智能方法的建议。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T06:07:51.967

如果您的应用正在从 iOS 设备生成图像，您应该继续使用`UIImageJPEGRepresentation`. 我认为将 UIKit JPEG 压缩与 Photoshop 进行比较并不高效。

我会找到一个您对使用可用的 UIKit API 感到满意的 JPEG 压缩级别，然后继续使用它。当您每秒提供 30 多万张图像时，可能值得考虑优化，但在那之前将其留给 UIKit。

# ios - Monotouch：改变图像的色调，而不仅仅是饱和度

> ID：11753381
> 
> 赞同：1
> 
> 时间：2012-08-01T06:03:20.087
> 
> 标签：ios, image-processing, xamarin.ios, uiimage, hue

我有以下`MonoTouch`代码可以`Saturation`更改`Hue`.

```
float hue = 0;
float saturation = 1;

if (colorCtrls == null)
    colorCtrls = new CIColorControls() { 
                 Image = CIImage.FromCGImage (originalImage.CGImage) };
else
    colorCtrls.Image = CIImage.FromCGImage(originalImage.CGImage);

colorCtrls.Saturation = saturation; 

var output = colorCtrls.OutputImage;
var context = CIContext.FromOptions(null);
var result = context.CreateCGImage(output, output.Extent);

return UIImage.FromImage(result); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T12:52:27.863

它是不同滤镜的一部分，因此您需要使用[`CIHueAdjust`](https://developer.apple.com/library/mac/documentation/graphicsimaging/reference/CoreImageFilterReference/Reference/reference.html#//apple_ref/doc/filter/ci/CIHueAdjust)而不是`CIColorControls`控制色调。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T15:51:10.163

这是我最终添加色相的方法：

```
 var hueAdjust = new CIHueAdjust() {
            Image = CIImage.FromCGImage(originalImage.CGImage),
            Angle = hue // Default is 0
        };
        var output = hueAdjust.OutputImage;
        var context = CIContext.FromOptions(null);
        var cgimage = context.CreateCGImage(output, output.Extent);
        return UIImage.FromImage(cgimage); 
```

但是，这在 Retina 设备上不起作用，返回的图像缩放不正确。

# cordova - 无法获取电话间隙插件

> ID：11753383
> 
> 赞同：0
> 
> 时间：2012-08-01T06:03:26.823
> 
> 标签：cordova, ios4, phonegap-plugins

我对 iOS 和电话差距都很陌生。我一直在尝试感受电话差距。我跟着网址

[http://www.adobe.com/devnet/html5/articles/extending-phonegap-with-native-plugins-for-ios.html](http://www.adobe.com/devnet/html5/articles/extending-phonegap-with-native-plugins-for-ios.html)

但是，@运行时，单击按钮，会出现以下错误。

```
2012-08-01 12:30:13.403 myProjectName[2777:707] [INFO] report:deviceready
2012-08-01 12:30:20.397 myProjectName[2777:707] ERROR: Plugin 'com.tricedesigns.HelloPlugin' not found, or is not a CDVPlugin. Check your plugin mapping in Cordova.plist.
2012-08-01 12:30:20.398 myProjectName[2777:707] FAILED pluginJSON = {"className":"com.tricedesigns.HelloPlugin","methodName":"nativeFunction","arguments":["com.tricedesigns.HelloPlugin2","success"]} 
```

请指出我在哪里失踪？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T06:49:14.203

您所指的链接是旧的。从这里参考 iOS phonegap 插件 [https://github.com/phonegap/phonegap-plugins/tree/8d1ea688db4bdc6220b43fc92e492d8b76550736/iOS](https://github.com/phonegap/phonegap-plugins/tree/8d1ea688db4bdc6220b43fc92e492d8b76550736/iOS)

# mysql - 带有子查询的 MySQL SELECT IN

> ID：11753388
> 
> 赞同：0
> 
> 时间：2012-08-01T06:03:43.697
> 
> 标签：mysql

好的，所以我遇到了以下问题。我正在尝试使用两个子查询执行单个 select 语句。我需要它做的是以下几乎..

`SELECT * FROM messages WHERE`满足以下条件。

条件一：

```
 SELECT id 
 FROM messages 
 WHERE `receiver` = 123510 && sender= 123457 && status != 3; 
```

条件2：

```
 SELECT id 
 FROM messages 
 WHERE receiver = 123457 && sender = 123510 && status !=4; 
```

我尝试执行以下操作：

```
SELECT * 
FROM messages 
WHERE id IN (
                 (
                     SELECT id 
                     FROM messages 
                     WHERE `receiver` = 123510 && sender= 123457 && status != 3
                 ),
                 (
                     SELECT id 
                     FROM messages 
                     WHERE receiver = 123457 && sender = 123510 && status !=4)
                  ) 
```

但是当我这样做时，mysql返回子查询返回超过1行......

关于如何解决这个问题的任何建议？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T06:06:49.037

我认为这就是你要找的：

```
SELECT *
FROM messages
WHERE (receiver = 123510 AND sender = 123457 AND status <> 3) OR
      (receiver = 123457 AND sender = 123510 AND status <> 4); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:12:03.217

您必须使用联合分隔每个查询，或者将其作为两个单独的 IN 使用 OR 分隔。

```
SELECT * 
FROM messages 
WHERE id IN (
          SELECT id
          FROM messages
          WHERE `receiver` = 123510 and 
                sender= 123457 and 
                status != 3) or
          UNION
          SELECT id
          FROM messages 
          WHERE receiver = 123457 and 
          sender = 123510 and
          status !=4) 
```

但实际上，这样做会好得多。

```
SELECT * 
FROM messages 
WHERE (`receiver` = 123510 and 
       sender = 123457 and 
       status != 3) or
      (receiver = 123457 and 
       sender = 123510 and
       status !=4) 
```

# python - 在python中为卡片分配面值

> ID：11753392
> 
> 赞同：-3
> 
> 时间：2012-08-01T06:04:04.097
> 
> 标签：python

我编写了代码，但很难弄清楚如何将值放入我的牌组？我在网上做了一些研究，但我仍然无法弄清楚如何去做。我不断收到错误。如何获得卡片的面值？2-10 和 10 为 KQJ 和 11 为 A？我已经尝试为它创建一个类，但它不起作用。我被困住了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:12:02.367

您可以使用字典为每个等级分配一个值。

```
>>> ranks = map(str, range(2, 10+1)) + list("JQKA")
>>> values = range(2, 10+1) + [10, 10, 10, 11]
>>> print ranks
['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A']
>>> print values
[2, 3, 4, 5, 6, 7, 8, 9, 10, 10, 10, 10, 11]

>>> d = dict(zip(ranks, values))
>>> d['K']
10
>>> d['5']
5
>>> d['A']
11 
```

# ios - 集成来自 GitHub 的代码

> ID：11753397
> 
> 赞同：1
> 
> 时间：2012-08-01T06:04:20.830
> 
> 标签：ios, github, integration

我正在开发 iOS 项目并使用 GitHub。和我一起，另外 2 名开发人员正在开发同一个项目，但功能不同。现在我想整合所有开发人员的代码。我们第一次使用 GitHub。

可以说，如果他们在 GitHub 上独立推送他们的代码，那么我怎样才能获得他们的代码并与我的代码集成？

任何形式的帮助表示赞赏。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T07:31:45.300

如果您已在您的仓库中授予这些开发人员协作者的身份，这意味着他们可以直接推送到它。
他们可以将他们的功能推送到他们自己的分支中，在这种情况下，您可以成为集成者，然后`git fetch --all`，开始一些`git merge`以巩固他们的工作。

但是如果每个开发者都根据你的（[称为 fork](https://help.github.com/articles/fork-a-repo)）制作了自己的 repo，那么他们必须通过[pull requests](https://help.github.com/articles/using-pull-requests/)与你的项目进行沟通。

# android - 使用 Mono Touch 时，我还可以为标准 Window 应用程序打包吗？

> ID：11753401
> 
> 赞同：5
> 
> 时间：2012-08-01T06:04:37.493
> 
> 标签：android, ios, mobile, xamarin.ios, cross-platform

我知道 Mono Touch 可以使用几乎一个源代码进行开发并部署到 Android、iO 和 Windows Mobile。当然会有 3 个项目和一些与平台相关的代码，但我将在 C# 中有重要的通用代码。

但我还需要我的开发工作在标准 Windows 7 和 8（非移动设备）上工作。我可以用 Mono Touch 做到这一点吗？我是的，开发过程是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T12:11:50.350

我想你应该看看我对这个问题的回答：[Consuming ViewModels in MonoDroid / MonoTouch](https://stackoverflow.com/questions/8133270/consuming-viewmodels-in-monodroid-monotouch)

通常，您应该创建一个将在所有平台上使用的共享类库。

然后，这个类库将被尽可能多的 UI 使用，例如 MonoTouch、Mono for Android、WP7、Windows、Metro 等。

# visual-studio-2010 - 我的 Visual Studio 有问题

> ID：11753403
> 
> 赞同：0
> 
> 时间：2012-08-01T06:04:41.950
> 
> 标签：visual-studio-2010

我不知道我的 Visual Studio 发生了什么。它是什么？我该如何解决？像我刚刚在 Visual Studio 中遇到的问题。其他程序工作和渲染正确。如果我滚动文档 - VS 刷新并正常工作 1 分钟，然后发生同样的事情。

使用 VS 2010 SP1。

![在此处输入图像描述](../Images/f04ca33efe22fac77c86985d7da43f19.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:40:00.113

解决了！我取消选中此选项，现在工作完美！

![在此处输入图像描述](../Images/935f21dd417fb89f0a75c71aded77ab7.png)

# excel - Excel Range 异常行为的 SpecialCells 方法

> ID：11753405
> 
> 赞同：3
> 
> 时间：2012-08-01T06:04:49.520
> 
> 标签：excel, vba

我编写了一个宏来使用 excel 范围对象的 SpecialCells 方法从某个范围内查找空白单元格。当我尝试执行以下代码时，出现“未找到单元格”的异常。

```
Sub test()
Debug.Print Sheet1.Range("A1:D4").SpecialCells(xlCellTypeBlanks).Address
End Sub 
```

脚步：-

1.  打开一个新的 Excel 实例。
2.  按 ALT + F11/ 打开 VBE
3.  插入新模块
4.  粘贴上面的代码并运行上面指定的测试宏。

**收到的输出：**

运行时错误“1004”。未找到细胞。

**预期输出：**

$A$1:$D$4

**情况1：**

现在，如果我对单元格 A1 进行任何操作。诸如赋予填充颜色等操作。调用 test() 宏然后它不会抛出异常。

**收到的输出：**

1澳元

**预期输出：**

$A$1:$D$4

**案例二：**

假设如果我在单元格 B3 中给出任何值。调用 test() 宏，不抛出异常。

**收到的输出：**

$B$1:$B$2,$A$1:$A$3

**预期输出：**

$A$1:$D$4

**案例3：**

如果我尝试编辑值或填充“A1：D4”范围之外的单元格，例如 E10 并执行 test() 方法，那么它会给我正确的输出。

**收到的输出：**

$A$1:$D$4

注意：使用新的 excel 实例执行每个案例。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-01T06:38:56.590

原因是在返回范围时`SpecialCells`“查看” 。`UsedRange`

因此`SpecialCells`，在未使用的工作表上使用将返回`Runtime Error '1004'. No Cells Found.` *（顺便说一句，始终使用 SpecialCells 进行错误处理）*

当您更改单元格 A1 时，它变成了 sheet `UsedRange`，因此您的 Case 1 返回“A1”

下面的代码看起来返回 Range("A1:D4").SpecialCells(xlCellTypeBlanks)

1.  一张白纸 - 失败
2.  填了A10的那张纸——`A1:A4`
3.  A10清空的那张纸——`A1:A4`
4.  使用 usedrange 重置的工作表（实际上是 1） - 失败

    ```
    Sub Test()
    Dim ws As Worksheet
    Set ws = Sheets.Add
    On Error Resume Next
    'blank sheet
    Debug.Print "Blank sheet " & ws.Range("A1:D4").SpecialCells(xlCellTypeBlanks).Address
    'enter in A10
    ws.[a10] = "test"
    Debug.Print "With A10 " & ws.Range("A1:D4").SpecialCells(xlCellTypeBlanks).Address
    'clear a10
    ws.[a10].ClearContents
    Debug.Print "With A10 cleared " & ws.Range("A1:D4").SpecialCells(xlCellTypeBlanks).Address
    'reset range
    ActiveSheet.UsedRange
    Debug.Print "With A10 cleared and range reset" & ws.Range("A1:D4").SpecialCells(xlCellTypeBlanks).Address
    On Error GoTo 0
    End Sub 
    ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T06:40:58.597

`.SpecialCells`使用工作表的已使用范围而不是特定单元格，除非特定单元格在使用范围内。

`Specialcells`在全新的工作表上进行测试会给您带来错误，因为 usedrange 只是 $A$1。如果 $A$1 是彩色的，那么您将不会收到上述案例 2 中预期的错误。

您必须`Specialcells`非常小心地使用。这是一个不会在新工作表上给您错误的示例。

```
Sub Sample()
    If ActiveSheet.UsedRange.Column > 1 Or ActiveSheet.UsedRange.Row > 1 Then
        Debug.Print ActiveSheet.UsedRange.SpecialCells(xlCellTypeBlanks).Address
    End If
End Sub 
```

现在在单元格 D5 中输入一些内容。说“呸呸呸”

现在运行这段代码

```
Sub Sample()
    Debug.Print Sheet1.Range("A1:D4").SpecialCells(xlCellTypeBlanks).Address
End Sub 
```

您会注意到这将起作用，因为范围在 UsedRange 地址内。

# c# - 计算过程中的错误信息

> ID：11753410
> 
> 赞同：-1
> 
> 时间：2012-08-01T06:05:09.987
> 
> 标签：c#, asp.net

任何人，请看看我的代码行。

```
int totalValue = 0;
    totalValue = int.Parse(Label9.Text) * int.Parse(Label6.Text);
    Label8.Text = **totalValue**; 
```

为什么我收到错误消息？

> 不能将 int 类型隐式转换为字符串。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-01T06:07:20.043

您应该将 int 转换为字符串。像这样的东西：

```
Label8.Text = totalValue.ToString(); 
```

或这个：

```
Label8.Text = totalValue + ""; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T06:07:27.923

那是因为`totalValue`是一个`int`.

尝试这个：

```
Label8.Text = totalValue.ToString(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-01T06:08:01.907

尝试这个：

```
int totalValue = 0;
totalValue = int.Parse(Label9.Text) * int.Parse(Label6.Text);
Label8.Text = totalValue.ToString(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-01T06:40:34.597

**直接使用文本不是一个好办法，如果解析失败怎么办？**

利用

```
int? val1=GetInt32(Label9.Text);
int? val2=GetInt32(Label6.Text);

if(val1!=null&&val2!=null)
{
int totalValue = 0;
    totalValue = val1+val2;
Label8.Text = totalValue.ToString();
}
//You can also write your own logic on the TextBoxs if they did not contain a valid value by checking if val1 or val2 are null or not 
```

如果输入可以转换，则使用该函数返回 int 值。

```
 public  int? GetInt32(string s)
    {
        int i;
        if (Int32.TryParse(s, out i)) return i;
        return null;
    } 
```

# iphone - 如何以编程方式创建 CustomCell？

> ID：11753411
> 
> 赞同：1
> 
> 时间：2012-08-01T06:05:10.117
> 
> 标签：iphone, uitableview

我有两个数组

1）名称数组；2）数字数组；

这些数组包含名称和数字，我想在不使用 nib 的情况下在 tableview 中显示这些名称和数字。如何以编程方式创建自定义单元格

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T06:12:26.190

创建一个应该是 UITableViewCell 子类的新文件。在这里你可以写你可以创建 2 个标签，你可以在任何你想要的地方显示。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *theID = @"TableViewCell";
    CustomCell *cell = (CustomCell*)[tableView dequeueReusableCellWithIdentifier:theID];

return cell;
} 
```

这里的 CustomCell 是 UITableViewCell 的子类

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:27:13.717

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
static NSString *identifier = @"CellIdentifier";
CustomCellName *cell = (CustomCellName *)[tableView dequeueReusableCellWithIdentifier:identifier];
if(!cell) {
cell = [[CustomCellName alloc] initWithStyle:UITableViewStyleDefault reusableIdentifier:identifier];
}
cell.textLabel.text = [nameArray objectAtIndex:indexPath.row];
cell.subtextLabel.text = [numberArray objectAtIndex:indexPath.row];
return cell;
} 
```

上面的代码没有经过测试，我不是在计算机上执行此操作（而是在我的 iPhone 上全部输入），但它应该是您需要的代码。

textLabel = 您为自定义单元格类中的标签设置的属性名称 subtextLabel = 您为自定义单元格类中的标签设置的属性名

希望这可以帮助！

# python - 检查h5py中是否存在节点

> ID：11753418
> 
> 赞同：28
> 
> 时间：2012-08-01T06:05:28.527
> 
> 标签：python, h5py

我想知道是否有一种简单的方法可以使用 h5py 检查 HDF5 文件中是否存在节点。

我在文档中找不到任何东西，所以现在我正在使用异常，这很难看。

```
# check if node exists
# first assume it exists
e = True
try:
  h5File["/some/path"]
except KeyError:
  e = False # now we know it doesn't 
```

添加上下文：在尝试创建具有相同名称的新节点之前，我使用它来确定节点是否存在。

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2012-08-01T07:45:16.167

```
e = "/some/path" in h5File 
```

可以。[这在`Group`文档](https://docs.h5py.org/en/latest/high/group.html#h5py.Group.__contains__)中非常简要地提到。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2018-07-03T10:05:27.387

您也可以简单地`require_group()`对组使用方法。[H5py 文档。](http://docs.h5py.org/en/latest/high/group.html#Group.require_group)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-01T07:46:08.343

在查看[group docs](http://h5py.alfven.org/docs-2.0/high/group.html)的文档后。我假设您可以在使用前使用 group 对象的 keys 方法进行检查：

```
# check if node exists
# first assume it doesn't exist
e = False
node = "/some/path"
if node in h5file.keys():
    h5File[node]
    e = True 
```

# networking - 拆分后的以太网帧的最小和最大大小是多少

> ID：11753419
> 
> 赞同：0
> 
> 时间：2012-08-01T06:05:40.097
> 
> 标签：networking, ethernet

如何计算拆分后的以太网帧的最小和最大大小。我们都知道以太网帧的最大大小为 1518 字节，但拆分后的大小会是多少？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T19:44:10.113

最小和最大帧大小主要是传统以太网在 10Mbps 时施加的约束。由于 10M 以太网共享相同的冲突域，客户端需要在发送之前检测是否发生了冲突。因此，最小大小为 10Mbps 时的 64 字节，以确保可以在标准中指定的某种电缆上的特定距离内的时间限制内检测到冲突。

如今，许多机器都有自己的电缆/链路直接连接到交换机/路由器，因此在 VLAN 的情况下将它们的冲突域（不再需要冲突检测）减少到仅广播域。在某些情况下，某些供应商可以支持高达 64k 的巨型帧。

# sql-server - SQL Server 2012 AlwaysOn - 自动添加到可用性组

> ID：11753420
> 
> 赞同：0
> 
> 时间：2012-08-01T06:05:44.013
> 
> 标签：sql-server, failovercluster

我刚刚启动并运行了 Sql Server 2012 AlwaysOn。一切都按计划进行。但是，在我的生产环境中，我们有为我们创建新数据库的应用程序。然后，我必须手动将这些新数据库添加到可用性组。有没有办法：

1.  让每个新数据库在创建时自动添加到正确的组中，或者
2.  定期运行脚本，将组中尚未添加的任何数据库添加到组中

谢谢！

斯科特

# linux - 在同一个硬盘上安装两个ceentOS

> ID：11753421
> 
> 赞同：0
> 
> 时间：2012-08-01T06:05:57.543
> 
> 标签：linux, installation, centos

我想在同一个 Hardidsk 但在不同的分区上安装两个 centOS V6.2。在不同的分区上安装后，在启动时它只显示最后安装的centOS。有人可以帮我在同一个硬盘上安装两个centOS。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T07:17:34.737

我假设您正在使用 GRUB。使用任何启动的 CentOS 启动。打开 grub.conf 文件（通常在 /boot/grub 下）。找到 CentOS 其他安装的内核和 initramfs。（通常在 /boot 下）

复制 grub.conf 文件中的 title、root、kernel 和 initrd 行，并将这些行粘贴到现有行之后。对新粘贴的行进行更改。更改标题以反映新菜单中的文本。将 root 更改为 GRUB 术语中其他安装分区的 /。更改内核和 initrd 参数以反映其他内核和 initramfs 的位置。

删除“hiddenmenu”行并增加超时以正确显示 GRUB 菜单。保存更改并重新启动。

# extjs4 - 窗口关闭事件

> ID：11753430
> 
> 赞同：0
> 
> 时间：2012-08-01T06:06:15.527
> 
> 标签：extjs4, extjs4.1

我有一个窗口，顶部有一个关闭按钮。

1.）当用户点击它时，我需要打印一个`console.log`语句

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:19:52.930

如果您所说的“窗口”是指用户关闭窗口时会触发[`Ext.window.Window`](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.window.Window)一个事件。[`close`](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.window.Window-event-close)

因此，要将[侦听器添加](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.util.Observable-method-addListener)到将打印 a 的关闭事件`console.log`，您可以这样做：

```
myWindow.on("close", function() {
    console.log("Close button clicked.");
); 
```

# iis - ASP.NET MVC4 可以在 IIS7.5、.NET Framework 4 上运行吗？

> ID：11753431
> 
> 赞同：6
> 
> 时间：2012-08-01T06:06:24.647
> 
> 标签：iis, asp.net-mvc-4

我有一个 MVC3 应用程序，我想在它的 RTM 之后升级到 MVC4。

但我无权更改生产服务器环境。它是安装了 IIS7.5 和 .NET4 的 Windows Server 2008 R2。

是否可以在不更改框架版本和 IIS 的情况下升级到 MVC4？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-01T06:14:34.273

是的，您可以在具有 IIS 7.5 和 .Net 4 的服务器上部署 MVC 4 应用程序

# android - 如果 SQLite 查询返回的结果对于内存来说太大，Android 会发生什么？

> ID：11753459
> 
> 赞同：1
> 
> 时间：2012-08-01T06:08:51.407
> 
> 标签：android, sql, sqlite

我不确定 Android 应用程序的内存限制到底是什么，但假设我对 SQLite 运行查询并且结果集非常大；太大而无法容纳为我的应用程序分配的任何内存。应用程序会崩溃吗？我想知道 Cursor 类中是否存在一些棘手的问题，它可能不会一次检索所有结果？我真的不明白 Cursor 在下面是如何工作的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:14:32.463

大量内存消耗的副作用。

读取数据时可能会[出现 OutOfMemoryError 。](http://developer.android.com/reference/java/lang/OutOfMemoryError.html)

由于内存消耗太大，它会增加 CPU 使用率，因为*电池*会*开始耗尽*，如果超过某个限制（我不知道），那么 Android 系统可能会*杀死你的进程*或者你的应用程序也可能会*崩溃*。

# php - YII 获取具有关系的模型（如何使用 cjson 呈现关系）

> ID：11753463
> 
> 赞同：0
> 
> 时间：2012-08-01T06:09:34.457
> 
> 标签：php, yii

我有一个模型，例如 Story。它有一个将其链接到作者的密钥。我有这种关系，我什么时候有。

```
storyHolder = Story->findByPK(id) 
```

返回故事，然后

```
storyHolder ->author 
```

返回作者对象。问题是我自己获取两个数据集我希望它们结合起来。示例 returnObject{story{}，作者{}}。我想要 returnObject{story{author{}}}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T14:38:47.017

对不起，如果问题不清楚，

看起来真正的问题不在于故事->作者，而在于 CJSON。

在问题之后，在已回答的问题评论中是一个聊天链接，在聊天中是一个指向此论坛帖子的链接。

[http://www.yiiframework.com/forum/index.php/topic/12952-cjsonencode-for-an-ar-object-does-not-include-its-related-objects/](http://www.yiiframework.com/forum/index.php/topic/12952-cjsonencode-for-an-ar-object-does-not-include-its-related-objects/)

我结束了把它放在我的控制器中

```
 /**
     * @return CMapIterator the iterator for the foreach statement
     */
    public function getIterator()
    {
            $attributes=$this->getAttributes();
            $relations = array();

            foreach ($this->relations() as $key => $related)
            {
                    if ($this->hasRelated($key))
                    {
                            $relations[$key] = $this->$key;
                    }
            }

            $all = array_merge($attributes, $relations);

            return new CMapIterator($all);
    } 
```

代码取自 Yii 论坛的 benjaminbytheway。

只是尝试清除在您的视图中使用 CJSON 时出现的问题，它不包括关系对象。

# c# - 尝试检索与 lambda 表达式中的属性关联的对象时引发异常

> ID：11753464
> 
> 赞同：0
> 
> 时间：2012-08-01T06:09:37.460
> 
> 标签：c#, exception, lambda, expression-trees

我目前正在尝试创建一个 HtmlHelper，它采用与内置帮助器 LabelFor<>、DisplayFor<>、EditorFor<> 等相同的表达式，但专门针对枚举类型：

例如`model => model.MyEnumProperty`

我是整个 lambda 表达式的新手，尽管到目前为止我做的或多或少都还不错（在 SackOverflow 社区的其他答案的帮助下），我现在在尝试检索对象时遇到以下异常（即，`model`）在表达式中：

**“从范围''引用'WCSFAMembershipDatabase.Models.Address'类型的变量'模型'，但未定义”**

```
public static MvcHtmlString EnumDisplayFor<TModel, TEnum>(this HtmlHelper<TModel> htmlHelper, Expression<Func<TModel, TEnum>> expression)
{
    // memberExp represents "model.MyEnumProperty"
    MemberExpression memberExp = (MemberExpression)expression.Body;
    if (memberExp == null)
    {
        throw new ArgumentException(string.Format(
            "Expression '{0}' refers to a method, not a property.",
            expression.ToString()));
    }

    // modelExp represents "model"
    Expression modelExp = memberExp.Expression;

    // Convert modelExp to a Lambda Expression that can be compiled into a delegate that returns a 'model' object
    Expression<Func<TModel>> modelLambda = Expression.Lambda<Func<TModel>>(modelExp);

    // Compile modelLambda into the delegate
    // The next line is where the exception occurs...
    Func<TModel> modelDel = modelLambda.Compile();

    // Retrieve the 'model' object
    TModel modelVal = modelDel();

    // Compile the original expression into a delegate that accepts a 'model' object and returns the value of 'MyEnumProperty'
    Func<TModel, TEnum> valueDel = expression.Compile();

    // Retrieve 'MyEnumProperty' value
    TEnum value = valueDel(modelVal);

    // return the description or string value of 'MyEnumProperty'
    return MvcHtmlString.Create(GetEnumDescription(value));
}

// Function returns the Description Attribute (if one exists) or the string 
// representation for the specified enum value.
private static string GetEnumDescription<TEnum>(TEnum value)
{
    FieldInfo fi = value.GetType().GetField(value.ToString());

    DescriptionAttribute[] attributes = (DescriptionAttribute[])fi.GetCustomAttributes(typeof(DescriptionAttribute), false);

    if ((attributes != null) && (attributes.Length > 0))
        return attributes[0].Description;
    else
        return value.ToString();
} 
```

***EnumDisplayFor**中与表达式相关的代码是根据以下位置的详细信息拼凑而成的：*

*   [http://blogs.msdn.com/b/csharpfaq/archive/2010/03/11/how-can-i-get-objects-and-property-values-from-expression-trees.aspx](http://blogs.msdn.com/b/csharpfaq/archive/2010/03/11/how-can-i-get-objects-and-property-values-from-expression-trees.aspx)
*   [https://stackoverflow.com/a/672212](https://stackoverflow.com/a/672212)

我确实找到了一些其他问题，它们提到了与 lambda 表达式相关的相同异常，但它们都处于有人手动制作表达式树的上下文中，我无法弄清楚答案中的信息如何适用于我的案例.

如果有人能解释（a）为什么会发生异常以及（b）我如何解决它，我将不胜感激。:-)

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:15:53.867

你试图做的事情没有意义。您正在尝试仅基于 lambda 表达式（据我所知）查找*模型对象。*

更具体地说，忽略事物的枚举方面，如果我给您一个`Expression<string, int>`构造 from `text => text.Length`，则没有特定的字符串可以引用-但是您的代码将尝试`Func<string>`从该 lambda 表达式构建和运行 a 。那根本行不通。

基本上，您需要一个模型对象来应用您提供的投影。我不知道您想从哪里*获取*该模型对象（也许`HtmlHelper`是您当前忽略的参数？），但您不能只从投影中获取它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T07:37:46.807

正如乔恩所说，试图从表达式中提取模型参数是行不通的，因为表达式根本**没有那个参数**。

当您创建 lambda model => model.Property 时，您只是在说您希望方法体如何。该 lambda 编译为一个委托 Func，或者换句话说，**一个需要一个参数并返回一个值的方法**。

因此，为了调用 Func **，您需要传递一个参数**，在本例中为模型参数。

在您的示例中，您的方法需要在调用“表达式”以获取返回值之前从某处获取模型。您可以从 HtmlHelper 参数中获取当前模型，如下所示：

```
public static MvcHtmlString EnumDisplayFor<TModel, TEnum>(this HtmlHelper<TModel> htmlHelper, Expression<Func<TModel, TEnum>> expression)
    {
        //Get the model
        TModel model = htmlHelper.ViewData.Model;

        //Compile expression as Func
        Func<TModel, TEnum> method = expression.Compile();

        //Calling compiled expression return TEnum
        TEnum enumValue = method(model);

        return MvcHtmlString.Create(GetEnumDescription(enumValue));
    } 
```

# optimization - 如何编码最快的for循环？向量，迭代器，基本？什么是最好的方法？

> ID：11753465
> 
> 赞同：1
> 
> 时间：2012-08-01T06:09:38.240
> 
> 标签：optimization, loops, for-loop, iterator, iteration

之前我在 3D 图形编程期间没有考虑任何速度问题，但现在我必须认真考虑实时应用程序。在实时以及离线时，我必须使用很多循环，我曾经用这样的基本 for 循环编写算法..

```
for (i=0; i<nb; i++){} 
```

因此，当我用上面的 for 循环朗姆我的算法时，你也可以考虑嵌套循环，我必须等待 5-10 秒才能完成它，但是当我看到任何专业软件时，它们对相同算法有更快的方法，只是在眨眼时间算法完成。不专业，但是MeshLab的简单例子。

所以 meshlab 使用的是下面这样的迭代器。

```
std::vector<int> pStorage;          
vector<int>::iterator it;
for (it = pStorage.begin(); it!=pStorage.end(); ++it){} 
```

所以，我的问题是，我应该如何以及应该为我的算法使用哪个 for 循环来加速我的应用程序。有什么建议吗？

这几天我一直在研究这个话题，我发现迭代器更快，但是我尝试过，使用过，我发现速度没有区别，为什么？3D 图形编程通常处理繁重，但我必须找到一种最快的方法来使我的循环更快。

谢谢。

# iphone - 在应用商店中部署应用时撤销 Apple 开发者证书

> ID：11753466
> 
> 赞同：3
> 
> 时间：2012-08-01T06:09:58.903
> 
> 标签：iphone, app-store, certificate

如果我已经在应用商店中有可用的应用。可以撤销我的证书并生成一个新证书吗？这会影响已经部署的应用程序吗？

# android - Android：如何从一种视图切换到另一种视图？

> ID：11753472
> 
> 赞同：0
> 
> 时间：2012-08-01T06:10:27.733
> 
> 标签：android

我昨天刚开始学习 Android，想编写一个非常简单的应用程序，其中包含 2 个视图用于学习目的。

活动/视图 1：1 按钮和文本“Hello World” 单击按钮时，它应该转到下一个只有文本“测试”的活动/视图。

这是我的活动 1 代码：

```
package helloworld.app;

import android.os.Bundle; 
import android.app.Activity; 
import android.view.Menu; 
import android.view.MenuItem; import
android.support.v4.app.NavUtils; 
/*import AudioRecordTest;*/

public class MainActivity extends Activity {

 @Override
 public void onCreate(Bundle savedInstanceState) {
     super.onCreate(savedInstanceState);
     setContentView(R.layout.activity_main);
 }
 @Override
 public boolean onCreateOptionsMenu(Menu menu) {
     getMenuInflater().inflate(R.menu.activity_main, menu);
     return true;
 }

 public void startRecording() {
    setContentView(R.layout.next_page);
 }
  } 
```

这是我的活动 2 代码：package helloworld.app；

```
import android.os.Bundle; 
import android.app.Activity; import
android.view.Menu; 
import android.view.MenuItem; import
android.support.v4.app.NavUtils; 
/*import AudioRecordTest;*/

public class next_page extends Activity {

 @Override
 public void onCreate(Bundle savedInstanceState) {
     super.onCreate(savedInstanceState);
     setContentView(R.layout.next_page);
 } } 
```

这是我用于活动 1 的 xml 文件的代码：

```
<RelativeLayout
 xmlns:android="http://schemas.android.com/apk/res/android"
 xmlns:tools="http://schemas.android.com/tools"
 android:layout_width="match_parent"
 android:layout_height="match_parent" >

 <TextView
     android:id="@+id/textView1"
     android:layout_width="wrap_content"
     android:layout_height="wrap_content"
     android:layout_centerHorizontal="true"
     android:layout_centerVertical="true"
     android:padding="@dimen/padding_medium"
     android:text="@string/hello_world"
     tools:context=".MainActivity" />

 <Button
     android:id="@+id/button1"
     android:layout_width="wrap_content"
     android:layout_height="wrap_content"
     android:layout_alignParentTop="true"
     android:layout_alignRight="@+id/textView1"
     android:layout_marginRight="40dp"
     android:layout_marginTop="32dp"
     android:text="Start Recording"
     android:onClick="startRecording" />

</RelativeLayout> 
```

编辑：这是我来自 logcat 的错误消息

> 08-01 07:00:49.253：I/Choreographer（1326）：跳过 40 帧！应用程序可能在其主线程上做了太多工作。
> 
> 08-01 07:01:11.653: D/AndroidRuntime(1326): 关闭 VM
> 
> 08-01 07:01:11.653: W/dalvikvm(1326): threadid=1: 线程以未捕获的异常退出 (group=0x40a13300)
> 
> 08-01 07:01:11.673：E/AndroidRuntime（1326）：致命异常：主要
> 
> 08-01 07:01:11.673: E/AndroidRuntime(1326): java.lang.IllegalStateException: 在视图类 android.widget 上的 onClick 处理程序的活动类 helloworld.app.MainActivity 中找不到方法 startRecording(View)。 ID 为“button1”的按钮
> 
> 08-01 07:01:11.673: E/AndroidRuntime(1326): 在 android.view.View$1.onClick(View.java:3578)
> 
> 08-01 07:01:11.673: E/AndroidRuntime(1326): 在 android.view.View.performClick(View.java:4084)
> 
> 08-01 07:01:11.673: E/AndroidRuntime(1326): 在 android.view.View$PerformClick.run(View.java:16966)
> 
> 08-01 07:01:11.673: E/AndroidRuntime(1326): 在 android.os.Handler.handleCallback(Handler.java:615)
> 
> 08-01 07:01:11.673: E/AndroidRuntime(1326): 在 android.os.Handler.dispatchMessage(Handler.java:92)
> 
> 08-01 07:01:11.673: E/AndroidRuntime(1326): 在 android.os.Looper.loop(Looper.java:137)
> 
> 08-01 07:01:11.673: E/AndroidRuntime(1326): 在 android.app.ActivityThread.main(ActivityThread.java:4745)
> 
> 08-01 07:01:11.673: E/AndroidRuntime(1326): 在 java.lang.reflect.Method.invokeNative(Native Method)
> 
> 08-01 07:01:11.673: E/AndroidRuntime(1326): 在 java.lang.reflect.Method.invoke(Method.java:511)
> 
> 08-01 07:01:11.673: E/AndroidRuntime(1326): 在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
> 
> 08-01 07:01:11.673: E/AndroidRuntime(1326): 在 com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
> 
> 08-01 07:01:11.673：E/AndroidRuntime（1326）：在 dalvik.system.NativeStart.main（本机方法）
> 
> 08-01 07:01:11.673: E/AndroidRuntime(1326): 由: java.lang.NoSuchMethodException: startRecording [class android.view.View]
> 
> 08-01 07:01:11.673: E/AndroidRuntime(1326): 在 java.lang.Class.getConstructorOrMethod(Class.java:460)
> 
> 08-01 07:01:11.673: E/AndroidRuntime(1326): 在 java.lang.Class.getMethod(Class.java:915)
> 
> 08-01 07:01:11.673: E/AndroidRuntime(1326): 在 android.view.View$1.onClick(View.java:3571)
> 
> 08-01 07:01:11.673: E/AndroidRuntime(1326): ... 11 更多

EDIT2：我发现我的错误！我应该为我的 startRecording 函数传入 View 视图。这是编辑后的代码：

```
public void startRecording(View view) 
{
Intent intent = new Intent(this, next_page.class);  
startActivity(intent); 
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T06:14:48.860

为了使它工作，这应该是你的`startRecording`方法：

```
public void startRecording(View v) {     
    // setContentView(R.layout.next_page); this will modify the current activity view
    // if you want to start a new activity:
    Intent i = new Intent(this, next_page.class);
    startActivity(i);
} 
```

确保您已在清单文件中声明了这两个活动。要让 android “看到”并使用您的活动，必须在`AndroidManifest.xml`文件中声明：

```
// ...
<activity android:name=".MainActivity" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
</activity>
<activity android:name=".next_page" />
// ... 
```

您应该阅读 android 开发者网站或一些教程，这是基本的东西。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T06:14:28.500

**您可以使用 Intent 类从一个 Activity 转到一个 Activity**

```
public void startRecording(View v) {
    Intent intent = new Intent(this, NewActivity.class);
    startActivity(intent); 
```

}

```
Add your Android Manifest configuration file

   <activity android:name="NewActivity"></activity> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T06:15:52.820

使用缩进在活动之间切换。示例代码

btnNextScreen.setOnClickListener(new View.OnClickListener() {

```
 public void onClick(View arg0) {
            //Starting a new Intent
            Intent nextScreen = new Intent(getApplicationContext(), SecondScreenActivity.class);

            //Sending data to another Activity
            nextScreen.putExtra("name", inputName.getText().toString());
            nextScreen.putExtra("email", inputEmail.getText().toString());

            Log.e("n", inputName.getText()+"."+ inputEmail.getText());

            startActivity(nextScreen);

        }
    }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-01T06:15:54.227

好吧，您假设触发下一个活动的是按钮，我会这样做：

```
Button butt = (Button)findViewById(R.id.button1);
butt.setOnClickListener(new View.onClickListener(
    public void onClick(View v) {
        Intent intent = new Intent(v.getContext());
        //optionally, you could provide it stuff to send to the second Activity if you wish
        startActivity(intent);
    }
)); 
```

但老实说，你可以通过研究自己弄清楚这一点。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-01T06:16:14.127

startRecording - 错误的代码。需要写：

```
startActivity(new Intent(this, next_page.class)); 
```

并学习如何格式化代码

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-01T06:17:06.970

在第一个活动的 onCreate 方法中，如下所示

```
Button button1=(Button)findViewById(r.id.button1);

button1.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
            Intent intent = new Intent(this, NewActivity.class);
startActivity(intent);  
            }
        }); 
```

# jquery - 如何取消绑定自动完成

> ID：11753474
> 
> 赞同：1
> 
> 时间：2012-08-01T06:10:35.897
> 
> 标签：jquery, autocomplete

我正在使用这个 [自动完成插件](http://mabp.kiev.ua/content/source/autocomplete/autocomplete.html)。我的问题是如何解除绑定和绑定新的。

请检查此示例代码：[小提琴](http://jsfiddle.net/DdqCu/1/)

当我在自动建议中选择任何元素时，我需要再次调用该自动完成功能，但在这里我的问题出现了两次。我无法解绑

我尝试使用 unautocomplete、unbind 和 destroy 但它不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T08:08:29.150

我希望这会有所帮助： http: [//jsfiddle.net/DdqCu/3/](http://jsfiddle.net/DdqCu/3/) 我已添加`$("#testid").unbind();`到 onSelect 处理程序中。

# javascript - Uploadify - 将队列项目定位在不同的容器中

> ID：11753476
> 
> 赞同：0
> 
> 时间：2012-08-01T06:10:39.063
> 
> 标签：javascript, jquery, html, uploadify

如何将每个队列元素单独分配到其自己的隔离父容器中？与 facebook 照片上传方式类似，每个队列项都落入其自己的缩略图占位符容器中。

假设我有 3 张照片正在上传——队列中有 3 个元素。对于正在上传的每个文件（图像），我构建了一个编辑面板来裁剪、添加标题等。虽然 3 个文件中的每一个都在进行中，但我希望队列中的进度条存在于这 3 个对应的每一个中编辑面板。这是可以实现的吗？

* * *

视觉示例： ![演示图片](../Images/1e30bd6e4407445be12974016bdef730.png)

这个问题的目标不是使用自定义队列容器来保存所有进度行，使用`queueID: containerID`.

# php - 如何将附加参数传递给 wordpress 过滤器？

> ID：11753484
> 
> 赞同：6
> 
> 时间：2012-08-01T06:11:28.280
> 
> 标签：php, wordpress, parameter-passing

```
add_filter('wp_list_pages_excludes', 'gr_wp_list_pages_excludes');

function gr_wp_list_pages_excludes($exclude_array) {    
    $id_array=$array('22');
    $exclude_array=array_merge($id_array, $exclude_array);
    return $exclude_array;
} 
```

我是wordpress的新手。上面的代码工作正常。但我需要传递额外的参数，比如 $mu_cust_arg 给函数 gr_wp_list_pages_excludes。如何通过 apply_filters 或任何其他方法使用它？任何帮助表示赞赏。

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-01T06:25:10.170

因为 WP 不接受闭包作为回调（至少，肯定不是 for `add_filter()`），所以简短的回答是“你不能”。至少，不是以整洁的方式。

这里有几个选项，具体取决于您在做什么。第一个是最好的，但你可能无法使用它：

*编写一个调用您的函数的包装函数*：

```
function gr_wp_list_pages_excludes_1 ($exclude_array) {
  $custom_arg = 'whatever';
  gr_wp_list_pages_excludes_1($exclude_array, $custom_arg)
} 
```

这仅在您始终在给定情况下传递相同的自定义参数时才有效 - 您将为每种不同的情况编写这些包装器函数之一，并将包装器函数的名称传递给`add_filter()`. 或者，如果您希望它真正具有动态性，则需要...

*使用全局变量*：（*参考：[变量范围](http://php.net/manual/en/language.variables.scope.php)，* *）*[`$GLOBALS`](http://php.net/manual/en/reserved.variables.globals.php)

 *```
function gr_wp_list_pages_excludes($exclude_array) {
    global $gr_wp_list_pages_excludes_custom_arg;
    $id_array=$array('22');
    $exclude_array=array_merge($id_array, $exclude_array);
    return $exclude_array;
} 
```

使用这种方法意味着您可以通过`$gr_wp_list_pages_excludes_custom_arg`在全局范围内分配您喜欢的任何数据将其传递到函数中。这通常被认为是不好的做法，并且非常不受欢迎，因为它会产生混乱和不可读的代码，并使内存空间充满额外的变量。请注意，我已将变量名称设置为非常长且特定于函数以避免冲突 - 使用全局变量的另一个问题。虽然这会起作用，但只有在绝对必要时才使用它。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2020-01-22T16:38:53.407

您确实可以向过滤器/操作添加多个参数，**您只需要告诉 WordPress 期望有多少参数**

示例，这将不起作用：

```
add_filter('some_filter', function($argument_one, $argument_two) {
    // won't work
}); 

apply_filters('some_filter', 'foo', 'bar'); // won't work 
```

它将失败，并显示提供了太多参数的错误。

相反，您需要添加以下内容：

```
add_filter('some_filter', function($argument_one, $argument_two) {
    // works!
    $arugment_one; // foo
    $arugment_two; // bar
}, 10, 2);  // 2 == amount of arguments expected

apply_filters('some_filter', 'foo', 'bar'); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-05-14T09:19:45.467

# 非常简单！

```
add_filter('filter_name','my_func',10,3);     //three parameters lets say..
my_func($first,$second,$third){
  //............
} 
```

然后

```
echo apply_filters('filter_name',$a,$b,$c); 
```*

# html - 将 img.src 设置为动态 svg 元素

> ID：11753485
> 
> 赞同：11
> 
> 时间：2012-08-01T06:11:30.640
> 
> 标签：html, svg

我知道我可以将 svg 文件设置为`src`HTML`img`元素，如下所示：

```
<img src="mySVG.svg"/> 
```

但是我可以以某种方式将动态 SVG 元素设置`src`为`img`

```
<svg id="mySVGElement">
    ...
</svg>

<img src="?"/> 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-08-01T18:57:39.400

您可以使用 JavaScript 执行此操作：

```
var svg = document.querySelector('svg'),
    img = document.querySelector('img');

setImageToSVG(img,svg);

function setImageToSVG(img,svg){
  var xml = (new XMLSerializer).serializeToString(svg);
  img.src = "data:image/svg+xml;charset=utf-8,"+xml;
}​ 
```

如果您的 SVG 元素是动态的（变化的），那么每次 SVG 元素发生变化时，您都需要重新运行此代码。

## 演示：http: [//jsfiddle.net/3PfcC/](http://jsfiddle.net/3PfcC/)

* * *

或者，这是一个演示 @Robert 的答案，使用另一个`<svg>`元素来引用第一个，现场：

## 演示：http: [//jsfiddle.net/3PfcC/3/](http://jsfiddle.net/3PfcC/3/)

```
<svg id="src" xmlns="http://www.w3.org/2000/svg" …&gt;
  <!-- Your SVG here -->
</svg>

<svg xmlns="http://www.w3.org/2000/svg" xmlns:x="http://www.w3.org/1999/xlink" …&gt;
  <use x:href="#src" x="80" y="30" width="100" height="100" />
</svg> 
```

该演示还显示您可以调整引用的 SVG 文档的大小或以其他方式转换引用的 SVG 文档，并且该引用*是*实时的：对原始文件的更改会立即反映在`<use>`.

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2020-01-28T12:47:28.763

**这更新了 Phrogz 接受的答案（8 年后！）**

该示例在 Chrome 或 Firefox 上不起作用（图像出现损坏）更改为

```
 img.src = "data:image/svg+xml;base64,"+btoa(xml); 
```

我不确定原来停止工作的原因，但这可能有助于有人登陆这里。

# android - 重新启动手机时应用程序崩溃

> ID：11753486
> 
> 赞同：2
> 
> 时间：2012-08-01T06:11:44.557
> 
> 标签：android

这是我的 Android 应用程序的代码。MainActivity.java

```
public class MainActivity extends Activity {

    private static final long MINIMUM_DISTANCE_CHANGE_FOR_UPDATES = 1; // in Meters
    private static final long MINIMUM_TIME_BETWEEN_UPDATES = 1000; // in Milliseconds

    protected LocationManager locationManager;

    protected Button retrieveLocationButton;

    @Override
    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        Log.d("MyTag", "first");
        retrieveLocationButton = (Button) findViewById(R.id.button1);

        locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);

        locationManager.requestLocationUpdates(
                LocationManager.GPS_PROVIDER, 
                MINIMUM_TIME_BETWEEN_UPDATES, 
                MINIMUM_DISTANCE_CHANGE_FOR_UPDATES,
                new MyLocationListener()
        );

    retrieveLocationButton.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {
                showCurrentLocation();
                Log.d("MyTag", "Second");
            }
    });        

    }    

    protected void showCurrentLocation() {

        Location location = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);
        Log.d("MyTag", "Third"+location);
        if (location != null) {
            String message = String.format(
                    "Current Location \n Longitude: %1$s \n Latitude: %2$s",
                    location.getLongitude(), location.getLatitude()
            );
            Toast.makeText(MainActivity.this, message,
                    Toast.LENGTH_LONG).show();
            Log.d("MyTag", "Fifth");
        }

    }   

    private class MyLocationListener implements LocationListener {

        public void onLocationChanged(Location location) {
            String message = String.format(
                    "New Location \n Longitude: %1$s \n Latitude: %2$s",
                    location.getLongitude(), location.getLatitude()
            );
            Log.d("MyTag", "sixth");
            Toast.makeText(MainActivity.this, message, Toast.LENGTH_LONG).show();
        }

        public void onStatusChanged(String s, int i, Bundle b) {
            Toast.makeText(MainActivity.this, "Provider status changed",
                    Toast.LENGTH_LONG).show();
        }

        public void onProviderDisabled(String s) {
            Toast.makeText(MainActivity.this,
                    "Provider disabled by the user. GPS turned off",
                    Toast.LENGTH_LONG).show();
        }

        public void onProviderEnabled(String s) {
            Toast.makeText(MainActivity.this,
                    "Provider enabled by the user. GPS turned on",
                    Toast.LENGTH_LONG).show();
        }

    }

} 
```

BootReceiver.java

```
public class BootReceiver extends BroadcastReceiver     {
    @Override
    public void onReceive(Context context, Intent intent){
        context.startService(new Intent(context,MainActivity.class));
        Log.d("kkkkkkkk","bootReceive");
    }
} 
```

AndroidMainfest.xml

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.pragmatic.pragmaticgps"
    android:versionCode="1"
    android:versionName="1.0" >

<uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="15" />
     <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
        <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
        <uses-permission android:name="android.permission.ACCESS_LOCATION_EXTRA_COMMANDS" />       
        <uses-permission android:name="android.permission.INTERNET" />     
        <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
 <uses-permission android:name="android.permission.ACCESS_MOCK_LOCATION" />
 <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED"/>
 <uses-permission android:name="android.permission.REBOOT"/> 

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name=".MainActivity"
            android:label="@string/title_activity_main" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
         <service android:name=".MainActivity"></service> 

         <receiver
           android:name=".receiver..MainActivity"
           android:enabled="true" >
           <intent-filter>
               <action android:name="android.intent.action.REBOOT" />
           </intent-filter>
       </receiver>

        <receiver android:name=".BootReceiver">
            <intent-filter >
                <action android:name="android.intent.action.BOOT_COMPLETED"/>
            </intent-filter>
        </receiver> 

    </application>

</manifest> 
```

我希望这个应用程序能够获取 GPS 坐标，即纬度/经度并通过 toast 显示它（它确实如此。）我打开电话，应用程序崩溃并出现一个弹出窗口，要求强制关闭它。代码有什么问题？很抱歉直接询问错误，但我不太了解`Android`.
谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:19:00.227

感觉bug就在这里：

```
context.startService(new Intent(context,MainActivity.class)); 
```

您可以从`MainActivity`a开始，`Service`因为它不是 a `Service`，而是`Activity`. 要开始`Activity`你应该打电话

`context.startActivity(new Intent(context,MainActivity.class))`

此外，在这种情况下，最好将其组织`MainActivity`为 a，因为直接从 a`Service`开始是一个非常糟糕的主意。希望这可以帮助。`Activity``BroadcastReceiver`

# php - TYPO3 Extbase 框架 - 存储库目录功能和文档

> ID：11753490
> 
> 赞同：0
> 
> 时间：2012-08-01T06:12:03.200
> 
> 标签：php, typo3, extbase

我是 TYPO3`Extbase`框架的新手。我不确定`repository`目录的目的是什么。它的目的是什么？另外，我在哪里可以找到这个框架的一些文档？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:28:44.120

`Repositories`包含获取`Model's`对象的方法。

看这个博客：[如何有效地使用 Extbase 的 Repository 和 Query 对象？](http://blog.typoplanet.de/2010/01/27/the-repository-and-query-object-of-extbase/)

还有[Wiki for Extbase](http://forge.typo3.org/projects/typo3v4-mvc/wiki)可用

学习 Extbase 的最快方法是使用[Extension Builder](http://typo3.org/extensions/repository/view/extension_builder)，您将构建您的第一个（也是下一个 :)）`Extbase`扩展，如果您在建模时选择一些默认操作，它将创建所有必需的东西，以及存储库。一开始它们是空的，但是它们继承了 findAll()、findByUid() 等方法。

提示：使用可以理解Extbase的好IDE（即PhpStorm），它会帮助你更快更好地学习。

# algorithm - 集合操作的数据结构

> ID：11753492
> 
> 赞同：1
> 
> 时间：2012-08-01T06:12:21.543
> 
> 标签：algorithm, data-structures, language-agnostic

什么数据结构在时间和空间上都有效地支持以下集合操作？

1.  联盟
2.  不同之处
3.  成员
4.  添加
5.  删除

我可以想到 3 种不同的方法来执行这些操作，假设我们有两个集合，它们的大小都是 N：

**位数组：**

```
1\. O(N)  2.O(N)  3.O(1)  4.O(1)  5.O(1) 
```

**哈希表：**

```
1\. O(N)  2.O(N)  3.O(1)  4.O(1)  5.O(1) 
```

**有序树**：

```
1\. O(NlogN)  2.O(NlogN)  3.O(logN)  4.O(logN)  5.O(logN) 
```

Bit Array 和 HashTable 速度快但占用内存过多，Ordered Tree 速度慢但占用内存少。

请注意：该集合可能包含除整数以外的其他类型，例如浮点数或字符串

还有哪些数据结构既快速又通用，又节省空间？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:28:37.060

一种选择是使用布隆过滤器来增加有序树，以加快`ismemberof`类型测试。

我*认为*整体行为将类似于：

```
1\. O(N log(N) )  2\. O( ? )  3.O(1)  4.O(log(N))  5.O( log(N) ) 
```

然而，确切的细节将取决于过滤器的大小、集合的大小和域的大小。

另一种选择可能是[Judy Arrays](http://en.wikipedia.org/wiki/Judy_array)。对于这种用途，我听说过关于它们的好消息，但没有个人经验。

另一种选择是[福雷斯特方法](http://msdn.microsoft.com/en-us/library/aa289153%28v=vs.71%29.aspx)（而不是纯二叉树）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T18:45:36.870

我建议二[叉堆](http://en.wikipedia.org/wiki/Binary_heap)（最简单的一个）、[二](http://en.wikipedia.org/wiki/Binomial_heap)叉堆（加速联合）和[斐波那契堆](http://en.wikipedia.org/wiki/Fibonacci_heap)（最难实现，但标准操作的摊销时间最广为人知）。

**操作 Binary Heap Binomial Heap Fibonacci heap (amortized)**
1\. union O(n) O(logn) O(1)
2\. Difference O(nlogn) O(nlogn) O(nlogn)
3\. find(ismemberof) O(n) O(n) O(n)
4\. 添加 O(lgn) O(lgn) O(1)
5\. 删除 O(lgn) O(lgn) O(lgn)

但是，这些结构主要用于需要**插入、查找/提取 min(max)、联合**和**删除**操作时。**find**和**diff**操作的运行时间仍然很差。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-05T08:50:19.317

您还可以查看[联合查找数据结构](http://books.google.co.in/books?id=7XUSn0IKQEgC&pg=PA198&lpg=PA198&dq=union%20find%20data%20structure%20skiena&source=bl&ots=z79GLTMQ-m&sig=J-U4RxNh24PWFqSoJY4IueDDQbc&hl=en&sa=X&ei=DTMeUO7OAsvQrQfgp4HACw&ved=0CFkQ6AEwBw#v=onepage&q=union%20find%20data%20structure%20skiena&f=false)

# unicode - 从 NSData 到 NSString 的转换在使用多字节 UTF8 字符的地方被截断

> ID：11753494
> 
> 赞同：1
> 
> 时间：2012-08-01T06:12:26.210
> 
> 标签：unicode, nsstring, nsdata

在下面的代码中，我丢失了字符串中的最后一个字符。

```
NSString *testString    = @"— choose a category —";
NSData *testData        = [NSData dataWithBytes:[testString UTF8String] length:[testString length]];
NSString *newString     = [[[NSString alloc] initWithData:testData encoding:NSUTF8StringEncoding] autorelease]; 
```

调试器显示如下：

```
(lldb) po testString
(NSString *) $7 = 0x002ec7f0 — choose a category —
(lldb) po testData
(NSData *) $8 = 0x1003d1c0 <e2809420 63686f6f 73652061 20636174 65676f72 79>
(lldb) po newString
(NSString *) $9 = 0x09109f50 — choose a category
(lldb) 
```

字节对应的字符如下：

```
e2 80 94 | 20 | 63 | 68 | 6f | 6f | 73 | 65 | 20 | 61 | 20 | 63 | 61 | 74 | 65 | 67 | 6f | 72 | 79 |
EM DASH  | sp |  c |  h |  o |  o |  s |  e | sp |  a | sp |  c |  a |  t |  e |  g |  o |  r |  y | sp | EM DASH 
```

我在上传到服务器的较长字符串中看到了同样的问题，而且似乎总是使用多字节 UTF8 字符。

当我从服务器下载记录的数据时，unicode 字符（尚未被截断）正确显示。但是我的服务器上记录的字符串被截断了，表明截断存在于 NSData 对象中。

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T06:23:15.280

这是解决方案。这可能对其他人有帮助，所以我将把它留在这里，而不是删除问题。

NSData dataWithBytes:length: 需要得到的字节数组的长度值。这是在将 NSString 转换为以 null 结尾的 UTF8 表示后确定的。

因此，以这种方式正确处理到 NSData 的转换：

```
NSData *testData = [NSData dataWithBytes:[testString UTF8String] length:strlen([testString UTF8String])]; 
```

为避免两次转换 testString，可以这样做：

```
const char *testStringUTF8 = [testString UTF8String];
NSData *testData = [NSData dataWithBytes:testStringUTF8 length:strlen(testStringUTF8)]; 
```

NSString 类引用声明 UTF8String 方法返回的 C 字符串“就像释放返回的对象一样”被处理，这意味着它是自动释放的。（有关确切的措辞，请参阅类参考。）

# c++ - 为什么它给出派生版本？

> ID：11753503
> 
> 赞同：1
> 
> 时间：2012-08-01T06:13:14.753
> 
> 标签：c++, inheritance, virtual

我正在尝试以下代码：

在其中我使用指向类对象的指针调用`opengascap()`汽车类，但它给出了所指向对象的函数。我的问题是为什么它给出输出“火”虽然函数名称甚至不存在于类中。`car*``nuclear**``nuclear***``nuclearsubmarine`

```
 #include <iostream>

  using namespace std;

  class Vehicle 
  {
      public:
      virtual ~Vehicle() { }
      virtual void startEngine() = 0;
  };

  class Car : public Vehicle 
  {
  public:
      virtual void startEngine()
      {
          cout<<"start car";
      }
      virtual void openGasCap()
      {
      cout<<"open";
      }
  };

  class NuclearSubmarine : public Vehicle 
  {
      public:
      virtual void startEngine()
      {
          cout<<"start ship";
      }
      virtual void fireNuclearMissle()
      {
          cout<<"fire";
      }
  };

 int main()
 {
     Car   car;
     Car*  carPtr = &car;
     NuclearSubmarine  sub;
     NuclearSubmarine* subPtr = &sub;
     carPtr=(Car*)subPtr;
     // This last line would have caused carPtr to point to sub !
     carPtr->openGasCap();  // This might call fireNuclearMissle()!
     return 0;
 } 
```

> 输出：火

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-01T06:15:24.303

您使用指向 type`NuclearSubmarine`的指针指向类型的对象`Car`。你不能这样做，因为这些类型是不相关的。

此错误会调用未定义的行为，这会导致您的程序以不可预知的方式运行。

* * *

如果您对为什么会发生这种情况感兴趣，请阅读虚拟函数是如何在内部实现的：[虚拟方法表](http://en.wikipedia.org/wiki/Virtual_method_table)。这会让你清楚。

* * *

回复评论：

这是正确的。`Vehicle`实例都有一个内部指针，指向一个看起来像这样的 vtable：

```
0: Vehicle::~Vehicle
1: Vehicle::StartEngine                   // this is a null pointer 
```

`Car`实例的 vptr 指向一个看起来像这样的 vtable：

```
0:Vehicle::~Vehicle                       // this one didn't get overridden
1:Car::startEngine
2:Car::openGasTrap 
```

`NuclearSubmarine`的 vtable 如下所示：

```
0:Vehicle::~Vehicle                       // this one didn't get overridden
1:NuclearSubmarine::startEngine
2:NuclearEngine::fireNuclearMissile. 
```

如果你有这个，

```
Vehicle* v = new Car();
v->startEngine(); 
```

它被编译成这样的东西（前面的伪代码）：

```
Vehicle* v = new Car();
// OK, v is a Vehicle and startEngine is a Vehicle's virtual function of index 1
// let's call it!
StartEngineFunc* f = v.VPTR[1]; // look up the vtable using the object's virtual pointer
CallMethod(v, f); 
```

虚拟指针将函数查找到正确的 vtable w/r/t 对象的实际运行时类型。

这允许您通过指向基类的指针调用派生类的方法，因为派生类的虚拟表（它的第一部分）与其父类相对应。

但是，如果两个类没有父子关系，那么它们的虚拟表将具有不同的含义。这就是你的情况。

*（请注意，虽然 vtable 机制是一个实现细节——它在编译器中很常见，但它并没有以任何方式强制执行，编译器可以自由地以不同的方式实现它——所以你不应该在你的程序中指望它。）*

# objective-c - 核心数据过度使用？

> ID：11753512
> 
> 赞同：1
> 
> 时间：2012-08-01T06:14:01.180
> 
> 标签：objective-c, ios, database, xcode, core-data

我有一个应用程序可以跟踪用户驾驶行程（路径）。我使用 Core Data 保存所有信息。

数据库结构：

路径 ->> 点

Point 包含 lat 和 long 值。

我所做的是，每次更新 CLLocationManager 时，我都会将该点添加到数组中。一旦用户到达路径的尽头，我就会遍历并将所有这些位置添加到数据库中。

我的问题是……这是解决这个问题的最好方法吗？我的两个选择是：

1.  将所有位置添加到数组，然后将所有位置添加到核心数据。

2.  每次更新 CLLocationManager 时，将其直接添加到核心数据中。

我不确定是否有一些访问/更改核心数据的*最佳实践。*我应该批量执行（for循环），以便我可以调用

```
if ([managedObjectContext save:&error]) {
   // handle save error
} 
```

在 for 循环的末尾并保持全部压缩。

或者我应该在每次更新后调用 CLLocationManager 时简单地添加一个新点`[managedObjectContext save:&error]`。

我对 Option1 的唯一担忧是，如果应用程序在记录路径时崩溃，则不会保存任何信息。

因此，使用 Option2 的一个好处是数据将在每次更新后保存，但我不确定如此频繁地访问核心数据是否是不好的做法。

非常感谢您花时间提供帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T08:35:01.377

使用假定的`NSLocationManager`更新频率（最多每隔几秒），经常保存绝对没问题。此外，您的阵列会消耗越来越多的内存，这并不是真正必要的。

您仍然可以谨慎地执行此操作，例如，每 10 点保存一次。

此外，您也许应该保存`applicationWillResignActive`以防应用程序中断。

# ios - iOS中的滑动抽屉等效

> ID：11753522
> 
> 赞同：6
> 
> 时间：2012-08-01T06:14:39.653
> 
> 标签：ios, slidingdrawer

在浪费了大量时间搜索之后，我终于发布了这个问题，希望我能得到答案。

我想在 iOS 中有一个小部件，它具有与 Android 中的滑动抽屉类似的功能。（就像底部的栏一样，拉动它时，它会显示一个新视图）。

任何帮助将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T06:20:44.677

一些类似的问题可能会对您有所帮助：

[制作拉出式托盘 - (iOS)](https://stackoverflow.com/questions/11531373/making-a-pull-out-tray-ios)

[iOS：滑动 UIView 开/关屏幕](https://stackoverflow.com/questions/6875145/ios-sliding-uiview-on-off-screen)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-19T08:03:00.333

我最近做了一个抽屉容器控制器并把它放在 Github 上： [https ://github.com/saldavonschwartz/DrawerContainerController](https://github.com/saldavonschwartz/DrawerContainerController)

虽然不完全相同（您询问的是垂直单视图向上/向下滑动），但您可能需要下载代码并查看。我的方法也可能适用于您正在尝试做的事情：基本上，创建一个容器控制器，该控制器可以托管另一个控制器及其视图并以自定义方式呈现其视图。

具体来说，您可能需要查看：

*   `-replaceContainedController:forIdentifier:`了解如何以“Apple”方式添加子视图控制器。
*   `-didPanContent:`并且`-translateContentContainerViewToPosition:animated:completion:`对于来自输入的滑动动画`UIPanGestureRecognizer`

# html - firefox 错误：rowspan + 边框折叠 + 边框

> ID：11753523
> 
> 赞同：1
> 
> 时间：2012-08-01T06:14:41.727
> 
> 标签：html, css

1.  我们注意到 td + "border-collapse: collapse" + rowspan; 中的边框错误。

2.  此错误仅在 Firefox 中被发现；在 Opera、chrome 和 IE 中 - 一切正常；

3.  这是问题的屏幕截图：[错误的图像](http://i.stack.imgur.com/SSF3o.png)

4.  请问有人有这个错误的解决方案吗？如果是这样，请帮助我。

5.  我正在使用 Firefox 38.6.1。

    感谢帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-01T06:47:06.343

嘿，我认为这是 `border-collapse: collapse;`问题，现在您将这个 CSS 设置为这样

```
#catalog {
    border-collapse: collapse;// remove this line
    border-spacing: 0; // add this line 
    color: #103242;
    font: 12px Tahoma;
} 
```

# regex - 在 perl 中使用正则表达式解析字符串

> ID：11753527
> 
> 赞同：0
> 
> 时间：2012-08-01T06:14:51.947
> 
> 标签：regex, string, perl, parsing

```
DESCR: "10GE SR" 
```

我需要匹配以上部分，这是我其余字符串的一部分。我在 perl 中使用正则表达式。我试过

```
if ($line =~ /DESCR: \"([a-zA-Z0-9)\"/) { 
   print "$1\n";
} 
```

但我无法理解如何考虑我的字符串中的空格。这些空格可以出现在引号内的任何位置。有人可以帮我吗。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:17:24.360

```
$str = 'DESCR: "10GE SR"';

if ($str =~ /DESCR: \"([a-zA-Z0-9\s]+)\"/) { 
    print "$1\n";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:25:09.220

看一下，这个模式可以匹配字符串中的双引号：

```
if ($line =~ /DESCR: \"((?:[^\\"]|\\.)*)\"/) { 
   print "$1\n";
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T07:49:06.203

它可能更简单：

```
if ( $line =~ /DESCR: "([^"]+)"/ ) { 
   print "$1\n";
} 
```

# javascript - 为什么 jquery 代码没有在 jsfiddle 中运行

> ID：11753528
> 
> 赞同：0
> 
> 时间：2012-08-01T06:14:56.123
> 
> 标签：javascript, jquery

我正在jsfiddle上尝试它......我不知道它为什么不运行............有人帮助

```
html section
<html>
    <body>
        <div>The Answer is: </div>
        <div class='answer'></div>
    </body>`enter code here`
</html>

js section
function writeAnswer(answer) { // helper function for output
    $('div.answer').append($('<div>').text(answer));
}

function writedemo() {
    var answer="hello";
    writeAnswer(answer);

    }

}

writedemo(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:18:47.377

**工作演示** [http://jsfiddle.net/zJ3yk/](http://jsfiddle.net/zJ3yk/)

因为你有额外的`}`

休息应该有助于满足需求`:)`

**代码**

```
function writeAnswer(answer) { // helper function for output
    $('div.answer').append($('<div>').text(answer));
}

function writedemo() {
    var answer="hello";
    writeAnswer(answer);

    }
//} <===== this is the culprit and rest demo gives you idea. 

writedemo();​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:24:46.313

检查以下jsfiddle。你可以找到工作的js。

[http://jsfiddle.net/shivkant/HQyZe/8/](http://jsfiddle.net/shivkant/HQyZe/8/)

# json - 在 centos 上安装 perl-JSON

> ID：11753529
> 
> 赞同：16
> 
> 时间：2012-08-01T06:14:58.157
> 
> 标签：json, perl, centos, centos6

当我尝试运行 perl 脚本（在我的 centos 6 机器上）时，我收到以下消息：

```
Can't locate JSON.pm in @INC (@INC contains: 
/usr/local/lib/perl5/5.10.1/x86_64-linux-thread-multi 
/usr/local/lib/perl5/5.10.1 
/usr/local/lib/perl5/site_perl/5.10.1/x86_64-linux-thread-multi 
/usr/local/lib/perl5/site_perl/5.10.1 .)... 
```

谷歌搜索了一下，我发现我需要安装那个模块；但是，当我打字时：

```
sudo yum install perl-JSON 
```

我收到这条消息：

```
 ...
Setting up Install Process
Package perl-JSON-2.17-1.el5.noarch already installed and latest version
Nothing to do 
```

我该怎么做才能运行该脚本？

我的 perl 版本是`v5.10.1`

谢谢，

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-08-01T06:40:36.707

尝试通过以下方式安装它：

1）CPAN（[cpan安装](http://www.cpan.org/modules/INSTALL.html)）

```
$ sudo cpan JSON 
```

2) CPAN 减 ( [cpanm](https://metacpan.org/pod/cpanm) )

安装 cpan 减号

```
$ wget http://search.cpan.org/CPAN/authors/id/M/MI/MIYAGAWA/App-cpanminus-1.5017.tar.gz
$ tar -zxvf App-cpanminus-1.5017.tar.gz
$ cd App-cpanminus-1.5017
$ perl make.pl
$ make 
$ make test
$ sudo make install 
```

然后通过 cpanm 安装

```
$ sudo cpanm JSON 
```

我更喜欢通过 cpanm 使用 CPAN 模块，因为它是现代且简单的方法！

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-06-08T03:28:55.587

也许这会帮助其他人。就我而言，在 Centos 7 中运行：

```
yum install cpan 
```

然后

```
yum install cpanminus 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-12-04T15:25:57.770

对于 cpan（不是 cpan 减号）： `yum install cpan cpan JSON`

# asp.net - ASP.NET C#，从嵌套的 Listview 代码中访问 div 元素

> ID：11753531
> 
> 赞同：0
> 
> 时间：2012-08-01T06:15:11.447
> 
> 标签：asp.net

我正在尝试从嵌套的 Listview 中获取 (div id="imgGallery" runat="server") 元素，以便以编程方式修改类名。

```
<asp:ListView ID="ListView1" runat="server" ItemPlaceholderID="itemPlaceHolder1" onitemdatabound="ListView1_ItemDataBound">
<ItemTemplate>
    <asp:Label ID="VersionId" runat="server" Text='<%# Eval("VersionId") %>' Visible="false" />
    <asp:Label ID="MenuContent" runat="server" Text='<%# Eval("ContentText") %>' />
    <br />
    <asp:ListView ID="ListView2" runat="server" ItemPlaceholderID="itemPlaceHolder2">
        <ItemTemplate>
            <div id="imgGallery" class="images" runat="server">
                <asp:Image ID="Image1" ImageUrl='<%# Eval("ImageUrl") %>' runat="server" ToolTip="Text" />
            </div>
        </ItemTemplate>
        <LayoutTemplate>
            <asp:PlaceHolder runat="server" ID="itemPlaceHolder2"></asp:PlaceHolder>
        </LayoutTemplate>
    </asp:ListView>
</ItemTemplate>
<LayoutTemplate>
    <asp:PlaceHolder runat="server" ID="itemPlaceHolder1"></asp:PlaceHolder>
</LayoutTemplate>
<ItemSeparatorTemplate>
    <br />
    <hr />
    <br />
</ItemSeparatorTemplate> 
```

在我后面的代码上，我尝试了下面的代码，但它不起作用......我尝试了不同的方法，但找不到解决方案。

```
 ListView listView2 = (ListView)ListView1.FindControl("ListView2");
HtmlGenericControl mydiv = (HtmlGenericControl)listView2.FindControl("imgGallery");
mydiv.Attributes.Clear(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:20:55.920

您应该在数据绑定阶段使用数据绑定控件的内部元素或遍历行集合（之前称为数据绑定方法）

# git - 需要回到 git 中的 prev 提交，如何？

> ID：11753533
> 
> 赞同：1
> 
> 时间：2012-08-01T06:15:20.820
> 
> 标签：git, github

我通过删除某些文件修改了我的源目录并完成了`commit`. 我`push origin master`对远程主机 github 做了一个。

现在我知道我需要这些文件才能正常运行。现在我需要一种方法来返回我的上一个`commit`，然后返回`push`到我的远程主机。

有可能这样做吗？我对 git 很陌生，我很困惑。

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-01T06:31:20.377

由于您已经推送，我建议您反对 Nikhil 的解决方案，并建议您像这样对最新提交执行“git revert” `git revert HEAD`，然后推送。该`revert`命令将创建一个新的提交，以撤消指定提交的效果并将其添加到您的存储库中。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-01T07:10:14.683

[`git revert`](http://www.kernel.org/pub/software/scm/git/docs/v1.7.3/git-revert.html)创建一个撤消一个或多个先前提交的新提交。这通常是撤消已推送的提交的最佳方式。

例如，此命令将恢复从提交`abc1234`到并包括最新提交 ( `HEAD`) 的所有内容：

```
git revert abc1234..HEAD 
```

您也可以使用[`git reset`](http://www.kernel.org/pub/software/scm/git/docs/v1.7.3/git-reset.html)，但是此命令会更改历史记录，并且会给使用存储库的其他任何人带来问题。一般来说，如果您想丢弃尚未推送的更改（并且您确定将来不想再返回），您应该只使用此命令。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-01T06:25:10.087

试穿这些，

```
git reset --hard SHAsumOfYourCommit
git reset --hard HEAD [your current head point]
git reset --hard HEAD^ [your previous head point] 
```

## 或者你可以删除最后一次提交

假设我们有一个带有分支 master 的远程 myrepo，当前指向提交 dd61ab32，您可以使用该命令删除最后一次提交。

```
git push myrepo +dd61ab32^:master 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-10-16T18:00:21.080

怎么了朋友，看，我很努力，我什至发现了一种方法，它对我有用:)

```
git reset --hard commitId //delete your local commits
git push -f origin yourOrigin //delete your github remotes commits 
```

我希望能帮助你。

# c# - windows phone 7 中的同步故事板

> ID：11753544
> 
> 赞同：0
> 
> 时间：2012-08-01T06:16:15.363
> 
> 标签：c#, windows-phone-7, storyboard

我到处寻找我能想到的地方，但我找不到这个问题的答案......

我想为 windows phone 7（xaml 和 c#）制作一种模板故事板，然后使用该故事板以相同的方式为多个对象设置动画。（即同时将所有对象旋转 90 度）有什么想法吗？

它必须动态完成。我的意思是我想在程序中将不同的对象分配给几个不同的故事板，所以它不能是静态的。

到目前为止，我面临的主要问题是情节提要必须停止才能再次使用，因此它们不能同时运行。但是我在想，如果我可以制作 Storyboard 的临时副本，我可以同时运行它们吗？请给我您的任何想法。提前致谢！

我在网格中初始化我的对象（矩形），如下所示：

```
<Grid x:Name="ContentPanel" Grid.Row="1" Margin="12,0,12,0">
   <Rectangle Name="rec1" Height="80" Width="10" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,30,140,0">
      <Rectangle.RenderTransform>
         <RotateTransform x:Name="rec1Transform" Angle="0" CenterX="5" CenterY="-10" />
      </Rectangle.RenderTransform>
   </Rectangle>
   <Rectangle Name="rec2" Height="10" Width="80" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,15,55,0">
   .
   .
   .
   </Rectangle>
</Grid> 
```

此刻，我有 4 个想要多次使用的通用故事板，并且我正在使用一系列按钮来模仿所有的动画。例如：

**我的故事板**

```
private void rotate1(object parameter, object secondParameter, String Target)
{

   oneTwo.Stop();
   oneTwo.Children[0].SetValue(Storyboard.TargetNameProperty, Target);
   oneTwo.Begin();
}

private void rotate2(object parameter, object secondParameter, String Target)
{
   twoThree.Stop();
   twoThree.Children[0].SetValue(Storyboard.TargetNameProperty, Target);
   twoThree.Begin();
}

private void rotate1Inverse(object parameter, object secondParameter, string Target)
{
   twoOne.Stop();
   twoOne.Children[0].SetValue(Storyboard.TargetNameProperty, Target);
   twoOne.Begin();
}

private void rotate2Inverse(object parameter, object secondParameter, string Target)
{
   threeTwo.Stop();
   threeTwo.Children[0].SetValue(Storyboard.TargetNameProperty, Target.ToString());
   threeTwo.Begin();
} 
```

**我的模拟按钮**

```
//Rotate Buttons
private void button_Click1(object sender, RoutedEventArgs e)
{
    rec1Transform.CenterY = -10;

    rotate2(RotateTransform.AngleProperty, PlaneProjection.RotationZProperty, "rec1Transform");
}

private void button_Click2(object sender, RoutedEventArgs e)
{
    rec2Transform.CenterX = -10;

    rotate1(RotateTransform.AngleProperty, PlaneProjection.RotationZProperty, "rec2Transform");
}

private void button_Click3(object sender, RoutedEventArgs e)
{
    rec3Transform.CenterY = -10;

    rotate1(RotateTransform.AngleProperty, PlaneProjection.RotationZProperty, "rec3Transform");
}

private void button_Click4(object sender, RoutedEventArgs e)
{
    rec4Transform.CenterX = -10;

    rotate2(RotateTransform.AngleProperty, PlaneProjection.RotationZProperty, "rec4Transform");
}

private void button_Click5(object sender, RoutedEventArgs e)
{
    rec5Transform.CenterY = -10;

    rotate2(RotateTransform.AngleProperty, PlaneProjection.RotationZProperty, "rec5Transform");
}

private void button_Click6(object sender, RoutedEventArgs e)
{
    rec6Transform.CenterX = -10;

    rotate2(RotateTransform.AngleProperty, PlaneProjection.RotationZProperty, "rec6Transform");
}

private void button_Click7(object sender, RoutedEventArgs e)
{
    rec7Transform.CenterY = -10;

    rotate1(RotateTransform.AngleProperty, PlaneProjection.RotationZProperty, "rec7Transform");
}

//Inverse Rotate Buttons
private void button_Click1_Inverse(object sender, RoutedEventArgs e)
{
    rec1Transform.CenterY = 90;

    rotate1Inverse(RotateTransform.AngleProperty, PlaneProjection.RotationZProperty, "rec1Transform");
}

private void button_Click2_Inverse(object sender, RoutedEventArgs e)
{
    rec2Transform.CenterX = 90;

    rotate2Inverse(RotateTransform.AngleProperty, PlaneProjection.RotationZProperty, "rec2Transform");
}

private void button_Click3_Inverse(object sender, RoutedEventArgs e)
{
    rec3Transform.CenterY = 90;

    rotate2Inverse(RotateTransform.AngleProperty, PlaneProjection.RotationZProperty, "rec3Transform");
}

private void button_Click4_Inverse(object sender, RoutedEventArgs e)
{
    rec4Transform.CenterX = 90;

    rotate1Inverse(RotateTransform.AngleProperty, PlaneProjection.RotationZProperty, "rec4Transform");
}

private void button_Click5_Inverse(object sender, RoutedEventArgs e)
{
    rec5Transform.CenterY = 90;

    rotate1Inverse(RotateTransform.AngleProperty, PlaneProjection.RotationZProperty, "rec5Transform");
}

private void button_Click6_Inverse(object sender, RoutedEventArgs e)
{
    rec6Transform.CenterX = 90;

    rotate1Inverse(RotateTransform.AngleProperty, PlaneProjection.RotationZProperty, "rec6Transform");
}

private void button_Click7_Inverse(object sender, RoutedEventArgs e)
{
    rec7Transform.CenterY = 90;

    rotate2Inverse(RotateTransform.AngleProperty, PlaneProjection.RotationZProperty, "rec7Transform");
} 
```

问题是我想同时在多达 20 个矩形上同时使用这 4 个基本情节提要，从而使所有 20 个矩形一致地设置动画。但我不希望为每个矩形分配一个静态故事板，因为我想应用于每个矩形的故事板每秒左右发生变化。我还将同时使用所有 4 个故事板。（即，我将对 3 个矩形使用“oneTwo”，对 5 个矩形使用“twoThree”，对 8 个矩形使用“twoOne”，对 2 个矩形使用“threeTwo”）

我希望一切都说得通。该程序仅基于同时为许多矩形设置动画，任何帮助或建议将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T09:39:42.197

尝试在堆栈面板中绑定矩形

```
 <Listbox> 
 <ListBox.ItemTemplate>        
  <DataTemplate> 
 <StackPanel>
 <StackPanel.Resources>
    <Storyboard x:Name="FirstStoryBoard">
        <DoubleAnimation Storyboard.TargetName="rectangle"
                         Storyboard.TargetProperty="Width"
                         From="0"
                         To="1"
                         //AutoReverse="True"
                         Duration="00:00:01" />
    </Storyboard>
 </StackPanel.Resources>
 <Rectangle Name="rectangle" Fill={Binding colour}>

 </Rectangle>

 </StackPanel>

 </ListBox.ItemTemplate>
 </DataTemplate> 
 </Listbox> 
```

然后在列表框中使用颜色进行绑定..引用 web 中列表框项目中的绑定。

然后单击按钮启动故事板。故事板子矩形增加了它的宽度

FirstStoryboard.begin();

# titanium - 适用于 Android 的 Titanium Paypal 集成

> ID：11753547
> 
> 赞同：0
> 
> 时间：2012-08-01T06:16:24.533
> 
> 标签：titanium, titanium-mobile, titanium-modules

我正在学习 Titanium 进行移动开发。目前，我正在尝试通过 Titanium 编程来学习 Paypal 的使用。我有以下测试代码。

```
var ppButton = Ti.Paypal.createPaypalButton({
    width: 294,
    height: 50,
    bottom: 50,
    appId: "APP_80W294485PS19543T",
    buttonStyle: Ti.Paypal.BUTTON_294x43,
    paypalEnvironment: Ti.Paypal.PAYPAL_ENV_SANDBOX,
    feePaidByReceiver: false,
    transactionType: Ti.Paypal.PAYMENT_TYPE_DONATION,
    enableShipping: false,
    payment: {
        amount: 1.50,
        tax: 0.00,
        shipping: 0.00,
        currency: "USD",
        recipient: "fname_1343709942_per@gmail.com",
        itemDescription: "Donation",
        merchantName: "American Red Cross"
    }
}); 
```

但是应用程序在启动时崩溃，导致强制关闭错误。任何人都可以指出问题并提出解决方案吗？我会很感激的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T07:31:01.797

请试试[这个](https://marketplace.appcelerator.com/apps/780?752585722)

这是一个模块，由 Appecelerator 提供。下载[这个](https://marketplace.appcelerator.com/apps/780?752585722)并使用这个工作正常。

# javascript - 互斥列表单元

> ID：11753548
> 
> 赞同：0
> 
> 时间：2012-08-01T06:16:35.033
> 
> 标签：javascript, jquery, html, zk

我有5个listcell，当我点击一个listcell时，它的颜色应该变成绿色，下次当我点击另一个listcell时，以前的颜色应该被重置，新点击的应该变成绿色。即只有一个listcell可以是绿色一次。

5 listcell 只是实际情况的一个例子，listcells 是可变的，即任意数量。它们在运行时创建并附加到列表项。我没有列表单元的 ID。html是从服务器端发送的。我如何使用 java 脚本来实现这一点。

我想要一个通用的解决方案。在无线电组的情况下实际发生的情况可以为我的问题提供提示。

我的表（令人困惑？不需要代码来解决我的问题。添加它是因为对问题的第一个评论）：

```
<TABLE style="TABLE-LAYOUT: fixed" id=d0DQ35-cave border=0 cellSpacing=0
cellPadding=0 width="100%">
<TBODY style="HEIGHT: 0px; VISIBILITY: hidden">
    <TR id=d0DQ45-bdfaker class=z-listbox-faker>
        <TH style="WIDTH: 222px" id=d0DQ55-bdfaker class=z-listheader>
            <DIV style="OVERFLOW: hidden"></DIV>
        </TH>
        <TH style="WIDTH: 161px" id=d0DQ65-bdfaker class=z-listheader>
            <DIV style="OVERFLOW: hidden"></DIV>
        </TH>
        <TH style="WIDTH: 161px" id=d0DQ75-bdfaker class=z-listheader>
            <DIV style="OVERFLOW: hidden"></DIV>
        </TH>
        <TH style="WIDTH: 161px" id=d0DQ85-bdfaker class=z-listheader>
            <DIV style="OVERFLOW: hidden"></DIV>
        </TH>
        <TH style="WIDTH: 161px" id=d0DQ95-bdfaker class=z-listheader>
            <DIV style="OVERFLOW: hidden"></DIV>
        </TH>
        <TH id=d0DQ45-bdfakerflex></TH>
    </TR>
</TBODY>
<TBODY id=d0DQ35-tpad>
    <TR style="HEIGHT: 0px"></TR>
</TBODY>
<TBODY id=d0DQ35-rows>
    <TR id=d0DQa5 class=z-listitem>
        <TD id=d0DQb5 class=z-listcell>
            <DIV id=d0DQb5-cave class="z-listcell-cnt z-overflow-hidden">
                <SPAN id=d0DQa5-cm class="z-listitem-img z-listitem-img-checkbox"></SPAN><SPAN
                    style="COLOR: blue; CURSOR: pointer; TEXT-DECORATION: underline"
                    id=d0DQl5 class=z-label>LABEL</SPAN>
            </DIV>
        </TD>
        <TD id=d0DQm5 class=z-listcell>
            <DIV id=d0DQm5-cave class="z-listcell-cnt z-overflow-hidden">
                <SPAN
                    style="COLOR: blue; CURSOR: pointer; TEXT-DECORATION: underline"
                    id=d0DQn5 class=z-label>5</SPAN>
            </DIV>
        </TD>
        <TD id=d0DQo5 class=z-listcell>
            <DIV id=d0DQo5-cave class="z-listcell-cnt z-overflow-hidden">
                <SPAN
                    style="COLOR: blue; CURSOR: pointer; TEXT-DECORATION: underline"
                    id=d0DQp5 class=z-label>5 (100.0%)</SPAN>
            </DIV>
        </TD>
        <TD id=d0DQx9 class=z-listcell>
            <DIV id=d0DQx9-cave class="z-listcell-cnt z-overflow-hidden">
                <SPAN
                    style="COLOR: blue; CURSOR: pointer; TEXT-DECORATION: underline"
                    id=d0DQy9 class=z-label>5 (100.0%)</SPAN>
            </DIV>
        </TD>
        <TD id=d0DQ_a class=z-listcell>
            <DIV id=d0DQ_a-cave class="z-listcell-cnt z-overflow-hidden">
                <SPAN
                    style="COLOR: blue; CURSOR: pointer; TEXT-DECORATION: underline"
                    id=d0DQ1a class=z-label>0 (0.0%)</SPAN>
            </DIV>
        </TD>
    </TR>
    <TR id=d0DQe9 class="z-listitem z-listbox-odd">
        <TD id=d0DQn1 class=z-listcell>
            <DIV id=d0DQn1-cave class="z-listcell-cnt z-overflow-hidden">
                <SPAN id=d0DQe9-cm class="z-listitem-img z-listitem-img-checkbox"></SPAN><SPAN
                    style="COLOR: blue; CURSOR: pointer; TEXT-DECORATION: underline"
                    id=d0DQo1 class=z-label>ID</SPAN>
            </DIV>
        </TD>
        <TD id=d0DQp1 class=z-listcell>
            <DIV id=d0DQp1-cave class="z-listcell-cnt z-overflow-hidden">
                <SPAN
                    style="COLOR: blue; CURSOR: pointer; TEXT-DECORATION: underline"
                    id=d0DQq1 class=z-label>5</SPAN>
            </DIV>
        </TD>
        <TD id=d0DQr1 class=z-listcell>
            <DIV id=d0DQr1-cave class="z-listcell-cnt z-overflow-hidden">
                <SPAN
                    style="COLOR: blue; CURSOR: pointer; TEXT-DECORATION: underline"
                    id=d0DQs1 class=z-label>5 (100.0%)</SPAN>
            </DIV>
        </TD>
        <TD id=d0DQt1 class=z-listcell>
            <DIV id=d0DQt1-cave class="z-listcell-cnt z-overflow-hidden">
                <SPAN
                    style="COLOR: blue; CURSOR: pointer; TEXT-DECORATION: underline"
                    id=d0DQu1 class=z-label>5 (100.0%)</SPAN>
            </DIV>
        </TD>
        <TD id=d0DQv1 class=z-listcell>
            <DIV id=d0DQv1-cave class="z-listcell-cnt z-overflow-hidden">
                <SPAN
                    id=d0DQw1 class=z-label>0 (0.0%)</SPAN>
            </DIV>
        </TD>
    </TR>
</TBODY>
<TBODY id=d0DQ35-bpad>
    <TR style="HEIGHT: 0px"></TR>
</TBODY>
<TBODY style="DISPLAY: none" id=d0DQ35-empty class=z-listbox-empty-body>
    <TR>
        <TD colSpan=5>No Columns Selected!</TD>
    </TR>
</TBODY>
</TABLE> 
```

谢谢，

阿曼

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T08:01:51.403

CSS：

```
.selected { background: green } 
```

js：

```
$('td').click(function () {
    $('.selected').removeClass('selected');
    $(this).addClass('selected');
}); 
```

**编辑：**概念证明[http://jsfiddle.net/SKUqG/](http://jsfiddle.net/SKUqG/)

# android - 如何在 DOS 提示符下将 android 的 logcat 保存在文本文件中？

> ID：11753551
> 
> 赞同：2
> 
> 时间：2012-08-01T06:16:54.377
> 
> 标签：android, dos, logcat, android-logcat

我正在使用 Android 开发一个移动应用程序。我正在使用 Eclipse Pulsar 进行开发。我正在使用 Windows XP。我想将 logcat 保存在一个文件中。

当我从 Eclipse Pulsar 中获取信息时。它错过了一些行。因此，我尝试从 DOS 提示符中获取它。

我在 dos 提示符下键入以下命令，但文件已创建，文件中没有数据。我附上了我的 DOS 提示符的图片文件。

![在此处输入图像描述](../Images/93110890e3157a21572e50544769a5fc.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T06:22:19.180

```
adb shell logcat -t 500 > D:\1.txt 
```

其中 -t 参数是日志中的行数

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-30T22:00:06.583

如果您知道设备 ID

```
adb -s 120f1f61 logcat -d>D:\logs\log3.txt 
```

或者如果只连接了一个设备

```
adb -d logcat -d>D:\logs\log3.txt 
```

# sql - 从 sql server 2000 中删除？

> ID：11753556
> 
> 赞同：0
> 
> 时间：2012-08-01T06:17:33.727
> 
> 标签：sql, jsp, odbc, sql-server-2000

我想从 sql server 2000 中的表中删除所有行，但是每当我想手动删除或使用查询时，它都会显示错误。在帮助选项卡中，它显示 ODBC 错误：<0s>。我的表包含一些“0”值，但它的数据类型是字符串。这就是这个错误的原因。

代码是：

```
stat2=conn.createStatement();
stat2.executeUpdate("Delete * from pat.dbo.PHPL"); 
```

`"Key column information is insufficient or incorrect. Too many rows were affected by update"`这是警告，当点击帮助时它显示：`ODBC error: <0s>. An ODBC error has been generated. You might have deleted a record that has a foreign key value related to it, or you might have violated a check constraint. For details, refer to your ODBC documentation.`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:28:26.563

利用

```
Truncate Table PHPL 
```

我认为您有重复的身份，请检查您不允许在此列上重复。

# c# - 将集合分解为更小的集合，但重复项目

> ID：11753567
> 
> 赞同：3
> 
> 时间：2012-08-01T06:18:21.730
> 
> 标签：c#, linq

我无法理解如何做到这一点。

我有一个对象集合

```
{ object1, object2, object3, object4 } 
```

我想把这个集合分解成一个集合的集合，这样我最终得到的东西看起来像

```
{ { object1, object2}, {object2, object3}, {object3, object4} } 
```

我已经找到了如何将集合分成更小的集合，但是每个集合中前一个项目的重复让我头疼。

非常感谢任何帮助！

我当前的块方法（取自这里的另一个问题）是

```
 public static IEnumerable<IEnumerable<T>> Chunk<T>(this IEnumerable<T> source, int size)
    {
            return source.Select((x, i) => new { Index = i, Value = x })
                        .GroupBy(x => x.Index / size)
                        .Select(x => x.Select(v => v.Value));
    } 
```

**编辑** 这行得通，但是有更好的方法吗？

```
 public static ICollection<ICollection<T>> BreakUp<T>(this IEnumerable<T> polylines, int size)
    {
        var results = new Collection<ICollection<T>>();
        results.Add(new Collection<T>());

        var x = 0;
        for (var i = 0; i < polylines.Count(); i++)
        {
            results[x].Add(polylines.ElementAt(i));

            if (results[x].Count() % size == 0 && i != polylines.Count() - 1)
            {
                x++;
                results.Add(new Collection<T>());
                results[x].Add(polylines.ElementAt(i));
            }
        }

        return results;
    } 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-01T06:46:52.510

您可以像这样简化代码：

```
public static IEnumerable<IEnumerable<T>> BreakUp<T>(IEnumerable<T> this source, int size)
{
    var max = source.Count();
    int i = 0;
    while (i < max)
    {
        var current = source.Skip(i).Take(size);
        if (current.Count() > 1)
            yield return current;
        i += size -1;
    }
} 
```

* * *

**测试：**

```
void Main()
{
    Console.WriteLine("Example 1");
    var source = new Int32[] {1, 2, 3, 4, 5};

    foreach (var i in BreakUp(source, 2))
        Console.WriteLine(i);

    Console.WriteLine("Example 2");

    foreach (var i in BreakUp(source, 4))
        Console.WriteLine(i);
} 
```

* * *

这是一个`source`只迭代一次的解决方案：

```
public static IEnumerable<IEnumerable<T>> BreakUp<T>(IEnumerable<T> this source, int size)
{
    using(var e = source.GetEnumerator())
    {
        T last = default(T);
        bool has_last = false;
        while(e.MoveNext())
        {
            var current = new List<T>(size);
            if(has_last)
                current.Add(last);

            last = (T)e.Current;
            current.Add(last);

            while(current.Count < size && e.MoveNext())
            {
                last = (T)e.Current;
                current.Add(last);
                has_last = true;
            }

            yield return current;
        }
    }
} 
```

**结果：**

![在此处输入图像描述](../Images/3b6c0c3e7592f9dd772474d25a8a435e.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-01T06:50:56.093

如果你只需要这样分组

{ { object1, object2}, {object2, object3}, {object3, object4} }

那么下面的代码就足够了

```
return source.Zip(source.Skip(1), (o1, o2) => new List<T> { o1, o2 }); 
```

编辑：

可变数量元素的解决方案：

{ { object1, object2, object3}, {object2, object3, object4}, {object3, object4, object5} }

```
source.TakeWhile((o,i) => i <= source.Count() - size)
      .Select((o,i) => source.Where((lo,li) => li >= i && li < i + size)); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-01T19:16:51.897

这可能不像其他解决方案那样简洁，但它只迭代`source`一次。

```
public static IEnumerable<List<T>> BreakUp<T>(this IEnumerable<T> source, int size)
{
    var max = source.Count();
    int start = 0;
    var enumerator = source.GetEnumerator();
    enumerator.MoveNext();
    // We use "max - 1" instead of "max" to avoid adding a list of length 1
    while (start < max - 1)
    {
        int current = 0;
        List<T> list = new List<T>();
        list.Add(enumerator.Current);
        current++;

        while(current < size && enumerator.MoveNext())
        {
            list.Add(enumerator.Current);
            current++;
        }
        yield return list;
        start += size - 1;
    }
} 
```

# java - Ajax 的 $.post 的 url 是否应该与 web.xml 中的 url 匹配

> ID：11753568
> 
> 赞同：0
> 
> 时间：2012-08-01T06:18:29.340
> 
> 标签：java, jquery, json, servlets

我正在尝试将数据从 js 发送到 servlet。

我的 js 在 webapp\secure 文件夹中，而 servlet 在 java\com\ servlet 文件夹中。

我阅读使用我使用的 ajax 发送数据

```
$.post("someservletname", {cityName:"hello"}); 
```

在 web.xml

```
 <servlet>
            <servlet-name>someservletname</servlet-name>
            <servlet-class>java.com.someservletname</servlet-class>
            <load-on-startup>1</load-on-startup>
        </servlet>
        <servlet-mapping>
            <servlet-name>someservletname</servlet-name>
            <url-pattern>/someservletname</url-pattern>
        </servlet-mapping> 
```

但是当我放一个简单的 sysout.print 语句时，我什么也看不到。我如何确保映射正常工作。我应该在 post 函数调用中提供完整的 url 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T06:22:47.030

确保输入 URL：

*   Web 应用程序的上下文路径

问候菲利普

# ios6 - 如何创建 Pass 类型签名证书？

> ID：11753569
> 
> 赞同：0
> 
> 时间：2012-08-01T06:18:41.680
> 
> 标签：ios6, passbook

我想访问 iOS 6 的存折功能。为此，我需要创建和分发通行证。此过程需要通过类型标识符和签名证书。

如何使用我的开发者帐户获取它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:26:24.000

它就在那里，带有新标签“Pass Type IDs”。我应该多检查一下开发者门户。

# c# - 同时在控制台的两个位置写入

> ID：11753570
> 
> 赞同：0
> 
> 时间：2012-08-01T06:18:46.550
> 
> 标签：c#, multithreading, location

我需要在控制台中同时写两件事。我必须显示递归函数从递归返回时的部分结果（我将在此处等待时间），并且在屏幕的其他部分我必须写出堆栈已满的百分比。

这必须同时进行。我如何在 C# 中做到这一点？

编辑：还必须更新进度。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T06:24:13.350

您可以使用类中的各种属性设置书写位置[`Console`](http://msdn.microsoft.com/en-us/library/system.console.aspx)，例如`CursorLeft`和`CursorTop`。您不能同时写入两个位置 - 只需写入一个位置，然后立即写入另一个位置。那应该足够接近。

避免竞争条件的两个选项：

*   在单个线程中执行所有控制台写入，例如使用写入的生产者/消费者队列

*   使用锁定 - 只需有一种方法可以在锁定中执行完整的“设置位置和写入”操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:24:05.310

如果你的主线程正在等待，忙于你的递归函数，唯一的选择是使用另一个线程来显示堆栈的百分比。

# c# - 匹配文件的名称和大小

> ID：11753572
> 
> 赞同：0
> 
> 时间：2012-08-01T06:18:47.780
> 
> 标签：c#, .net, wpf

我在集成两段代码时遇到了一些麻烦。第一个检查文件的大小，下一个通过 SQL 数据库循环并查找文件的匹配名称。我基本上想检查它是否是一个新文件，或者自从我上次记录它的一些数据以来文件是否已更改。

这将获取目录中每个文件的大小

```
 // Make a reference to a directory.
        DirectoryInfo di = new DirectoryInfo("C:\\Users");
        // Get a reference to each file in that directory.
        FileInfo[] fiArr = di.GetFiles();
        // Display the names and sizes of the files.
        MessageBox.Show("The directory {0} contains the following files:", di.Name);
        foreach (FileInfo f in fiArr)
            MessageBox.Show("The size of" + f.Name + " is " + f.Length + " bytes."); 
```

这段代码循环直到找到一个马赫数或直到所有条目都被查看过。

```
 try
            {
                // LINQ query for all files containing the word '.txt'.
                var files = from file in
                                Directory.EnumerateFiles("C:\\Users")
                            where file.ToLower().Contains(".txt")
                            select file;

            foreach (var file in files)
            {
                //Get path to HH file
                filename = System.IO.Path.GetFileName(file);

                tempString = "";

                //Keep looking trough database utill database empty or HH found
                while (inc != numberOfSessions && (filename != tempString))
                { 

                    sessionRow = sessions.Tables["Sessions"].Rows[inc];
                    tempString = sessionRow.ItemArray.GetValue(1).ToString();

                    inc++;
                } 
```

假设 ItemAttay.GetValue(2) 返回文件的保存大小。如果我怎样才能最有效地保持while循环

inc != numberOfSessions && (filename != tempString) && (sessionRow.ItemArray.GetValue(2) == f.length)

感谢您的关注！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T07:02:08.167

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.IO;
using System.Data;

    class Program
    {
        static void Main(string[] args)
        {
            var files1 = new List<string>(Directory.GetFiles(args[0],
                "*.txt",
                SearchOption.AllDirectories));

            List<FileData> ListFiles = new List<FileData>();

            for (int i = 0; i < files1.Count; i++)
            { 

            FileInfo file = new FileInfo(files1[i]);
            FileData _tmpfile = new FileData(file.Name.ToString(), file.Length, 
                File.GetLastWriteTime(files1[1]).ToString("yyyy-MM-dd H:mm:ss"),
                File.GetLastAccessTime(files1[1]).ToString("yyyy-MM-dd H:mm:ss"));
            ListFiles.Add(_tmpfile);
            }

            DataSet sessions = new DataSet();
            DataTable dt = sessions.Tables["Sessions"];
            for (int i = 0; i < ListFiles.Count; i++)
            {
                //compares every file in folder to database
                FileData _tmp = ListFiles[i];
                for (int j = 0; j < dt.Rows.Count; j++)
                {
                    if (_tmp.GSFileName == dt.Rows[i][0].ToString())
                    { 
                        //put some code here
                        break; 
                    }

                    if (_tmp.GSSize == long.Parse(dt.Rows[i][1].ToString()))
                    {
                        //put some code here
                        break;
                    }

                }

            }

        }
    }
    public class FileData
    {
        string FileName = "";

        public string GSFileName
        {
            get { return FileName; }
            set { FileName = value; }
        }
        long Size = 0;

        public long GSSize
        {
            get { return Size; }
            set { Size = value; }
        }
        string DateOfModification = "";

        public string GSDateOfModification
        {
            get { return DateOfModification; }
            set { DateOfModification = value; }
        }
        string DateOfLastAccess = "";

        public string GSDateOfLastAccess
        {
            get { return DateOfLastAccess; }
            set { DateOfLastAccess = value; }
        }

        public FileData(string fn, long si, string dateofmod, string dateofacc)
        {
            FileName = fn;
            Size = si;
            DateOfModification = dateofmod;
            DateOfLastAccess = dateofacc;

        }

    } 
```

# java - VerticalFieldManager 不滚动

> ID：11753575
> 
> 赞同：0
> 
> 时间：2012-08-01T06:19:07.947
> 
> 标签：java, blackberry

我正在开发一个应用程序，我在其中设置了很多文本，`LableField`我希望它在模拟器 8900 中可以滚动。所以我已经接受`VerticalFieldManager`并投入`LableField`了它。我制作了`VerticalFieldManager`可滚动的`VERTICAL_SCROLL`，也尝试了`Manager.VERTICAL_SCROLL`. 但它仍然无法正常工作。

**我的代码**

```
import net.rim.device.api.system.Bitmap;
import net.rim.device.api.system.Display;
import net.rim.device.api.ui.Color;
import net.rim.device.api.ui.Font;
import net.rim.device.api.ui.FontFamily;
import net.rim.device.api.ui.Graphics;
import net.rim.device.api.ui.Manager;
import net.rim.device.api.ui.component.BitmapField;
import net.rim.device.api.ui.component.LabelField;
import net.rim.device.api.ui.container.HorizontalFieldManager;
import net.rim.device.api.ui.container.MainScreen;
import net.rim.device.api.ui.container.VerticalFieldManager;
import net.rim.device.api.ui.decor.BackgroundFactory;

public class AboutM1 extends MainScreen {

    public AboutM1() {

        ((VerticalFieldManager) getMainManager())
                .setBackground(BackgroundFactory
                        .createSolidBackground(0xEDEDED));

        VerticalFieldManager TOPVFM = new VerticalFieldManager(USE_ALL_WIDTH);
        HorizontalFieldManager TOPHFM = new HorizontalFieldManager(
                FIELD_HCENTER | FIELD_VCENTER);
        // LabelField toplable = new LabelField("Welcome to");

        LabelField toplable = new LabelField("\n Welcome to", FIELD_BOTTOM) {
            public void paint(Graphics g) {
                g.setBackgroundColor(0xECECEC);
                g.fillRect(0, 0, getWidth(), getHeight());
                g.setColor(Color.RED);

                g.clear();
                super.paint(g);
            }
        };

        FontFamily fontFamily[] = FontFamily.getFontFamilies();
        Font font = fontFamily[1].getFont(FontFamily.CBTF_FONT, 20);
        font = fontFamily[1].getFont(Font.BOLD, 25);
        toplable.setFont(font);

        Bitmap bmp = Bitmap.getBitmapResource("logo36X36.png");
        BitmapField imgField = new BitmapField(bmp, FIELD_BOTTOM);

        TOPHFM.add(toplable);
        TOPHFM.add(imgField);

        TOPVFM.add(TOPHFM);

        int width = Display.getWidth();

        add(TOPVFM);
        LabelField Greenline = new LabelField(
                "_______________________________________") {
            protected void paint(Graphics g) {
                int oldColor = g.getColor();
                g.setColor(Color.GREEN);
                // g.fillRoundRect(0, 0, 50, 5, 7, 7);
                g.setColor(oldColor);
                super.paint(g);
            }

        };

        add(Greenline);

        VerticalFieldManager DescriptionVFM = new VerticalFieldManager(
                VERTICAL_SCROLL);
        LabelField Description = new LabelField(
                "\n asdasdawqwere we r we r we rw er w er wer, groceries, sadfertewrt er te rt ert er t er t er t er t . asdasdasdasdas asd asd werwerewrt er t erter t ert.",
                FIELD_HCENTER);
        LabelField Description2 = new LabelField(
                "\n\n\n About Us \n For customer care \n\n");
        /*
         * add(Description); add(Description2);
         */

        DescriptionVFM.add(Description);
        DescriptionVFM.add(Description2);

        VerticalFieldManager BottomVFM = new VerticalFieldManager(USE_ALL_WIDTH);
        HorizontalFieldManager BottomHFM = new HorizontalFieldManager(
                FIELD_VCENTER);
        LabelField callus = new LabelField("Call: ", FIELD_VCENTER);
        LabelField Number = new LabelField("+91-79-30487400", FIELD_VCENTER) {
            protected void paint(Graphics g) {
                g.setColor(0x324F85);

                // g.fillRoundRect(0, 0, 50, 5, 7, 7);
                super.paint(g);
            }

        };
        font = fontFamily[1].getFont(Font.BOLD, 18);
        Number.setFont(font);

        BottomHFM.add(callus);
        BottomHFM.add(Number);
        BottomVFM.add(BottomHFM);
        // add(BottomVFM);
        DescriptionVFM.add(BottomVFM);
        add(DescriptionVFM);

    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T06:40:57.087

当您`LabelField`向任何 FieldManager 添加实例时，您需要在此之后添加另一个虚拟可聚焦字段。

你可以[`NullField`](http://www.blackberry.com/developers/docs/6.0.0api/net/rim/device/api/ui/component/NullField.html)在这种情况下使用。尝试以下操作：

```
// fieldManger can be a VerticalFieldManger, HorizontalFieldManger, Manager, etc.
fieldManager.add(new LabelField("An instance of LabelField"));
fieldManager.add(new NullField(NullField.FOCUSABLE); 
```

# ruby - 单表版本控制数据

> ID：11753576
> 
> 赞同：1
> 
> 时间：2012-08-01T06:19:13.540
> 
> 标签：ruby, postgresql, relational-database

所以我有一张这样设计的桌子：

```
create_table "entries", :force => true do |t|
  t.integer  "id", :null => false, :autoincrement => true
  t.text     "text"
  t.string   "uuid"
  t.datetime "created_at", :null => false
end 
```

我有一个与“[数据库 - 单个表中的数据版本控制](https://stackoverflow.com/questions/7205295/database-data-versioning-in-single-table)”类似的问题，除了我有多个源（其中一些可以离线工作）写入这个数据库，所以这个`current`位对我来说并不是很好。

我想知道的是获取每个 UUID 的最新信息的最佳方法是什么。

在 sqlite:`SELECT "entries".* FROM "entries" GROUP BY uuid ORDER BY updated_at DESC`中效果很好，但它在 postgres 中不是有效的语法，而且感觉有点笨拙。有没有一种好方法可以做到这一点，还是我需要重做我的架构？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T07:40:50.857

获得所需结果的一种方法是使用[窗口函数](http://www.postgresql.org/docs/current/static/tutorial-window.html)和派生表。ActiveRecord 不理解其中任何一个，但总是有`find_by_sql`：

```
Entry.find_by_sql(%q{
    select id, text, uuid, created_at
    from (
        select id, text, uuid, created_at,
               row_number() over (partition by uuid order by created_at desc) as r
        from entries
    ) as dt
    where r = 1
}) 
```

有趣的部分是：

```
row_number() over (partition by uuid order by created_at desc) 
```

`partition by uuid`类似于`group by uuid`但它不会折叠行，它只是修改`row_number()`窗口函数的行为方式，以便针对匹配s 的`row_number()`行进行计算；同样仅适用于将要查看的`uuid`窗口。结果是剥离了每组中的第一行。`order by created_at desc``row_number()``r = 1`

# jquery - JQuery .Clone() 丢失点击事件

> ID：11753579
> 
> 赞同：14
> 
> 时间：2012-08-01T06:19:24.363
> 
> 标签：jquery

我正在使用流沙为我的网站添加一些很酷的排序。

[http://razorjack.net/quicksand/docs-and-demos.html#examples](http://razorjack.net/quicksand/docs-and-demos.html#examples)

但是我有一个问题，当我克隆我的数据（内容）进行排序时，点击事件会丢失。

我的网站是 andrewsimonmcallister.tv，这是我正在谈论的视频部分。我会尽量提供尽可能多的信息，如果我遗漏了什么就问。

这是HTML部分

```
<ul id="videolist">
                        <li data-id="1" data-type="tv" class="videoitem">
                            <div name="video" class="video shadow"><img src="images/video/planetoftheapemen.jpg" border=0><videotitle>TV Series : Planet of the Apemen</videotitle><p>Clip from the National TV series produced by the BBC 'Planet of the Apemen: Battle for Earth'. This is the opening scene as we sweep over the mountains and see the tribes men tracking their kill. The cue is big and sweeping to match the imagery with a ostinato combined with a sweeping string melody.</p><a href="#videoplayer" class="fancybox" name="playvideo" rel="planetoftheapemen/mountain"><div class="watch"></div></a></div>
                            <default>1</default>
                            <date>98</date>
                            <sorttype>TV</sorttype>
                        </li>
                        <li data-id="2" data-type="film" class="videoitem">
                            <div class="video"><img src="images/video/macropolisend.jpg" border=0><videotitle>Film : Macropolis</videotitle><p>Macropolis is a stop animation film produced by Flickerpix and directed by Joel Simon. In this particular scene our main protagonists finally get acceptance as a small boy buys them and takes them home. This is the final scene for the movie.</p><a href="#videoplayer" id="playvideo1" class="fancybox" rel="macropolis/ending"><div class="watch"></div></a></div>
                            <default>2</default>
                            <date>97</date>
                            <sorttype>FILM</sorttype>
                        </li>
                        <li data-id="3" data-type="scoring" class="videoitem">
                            <div class="video"><img src="images/video/orchestra.jpg" border=0><videotitle>Scoring Session : Looking Glass</videotitle><p>Live recording session for the very delicate Looking Glass cue, taken from the drama of the same name. This cue features English Horn, Harp, Piano and Strings.</p><a href="#videoplayer" id="playvideo2" class="fancybox" rel="scoring/lookingglass"><div class="watch"></div></a></div>
                            <default>3</default>
                            <date>99</date>
                            <sorttype>ZSCORING</sorttype>   
                        </li>
                        <li data-id="4" data-type="scoring" class="videoitem">
                            <div class="video"><img src="images/video/brass-section.jpg" border=0><videotitle>Scoring Session : Family Retreat</videotitle><p>Recording from a live scoring session for the title track to the movie Family Retreat. It's big, fun and light hearted.</p><a href="#videoplayer" id="playvideo3" class="fancybox" rel="scoring/familyretreat"><div class="watch"></div></a></div>
                            <default>4</default>
                            <date>100</date>
                            <sorttype>ZSCORING</sorttype>   
                        </li>
                    </ul> 
```

在视频链接的点击事件中，我克隆了数据/内容

```
$("#open-videos").click(function(){
   console.log("Inside video");
   $(currentSection).hide();
   $("#video-player").hide();
   $("#contentbg").fadeIn();
   $("#videos").fadeIn();

   $filterType = $('input[name="type"]');
   $filterSort = $('input[name="sort"]');

   console.log("videos is " + $videos);
   if ($videos== null) {
   console.log("setting videos");
        $videos = $("#videolist");
   }

   $videosdata = $videos.clone();       
   currentSection = "#videos";
}); 
```

我在每个 div 的标签上都有一个点击事件，它基本上设置了在花哨的盒子启动之前要播放的视频

```
$("a[id^='playvideo']").click(function(e){
    var videoselected = $(this).attr('rel');
    console.log("Clicked on link, rel value is " + videoselected);
    $("#jquery_jplayer_9").jPlayer({
        play: function() { // To avoid both jPlayers playing together.
            $(this).jPlayer("pauseOthers");
        },
        swfPath: "../js",
        supplied: "m4v",
        cssSelectorAncestor: "#jp_container_9"
    });

    console.log("setting media to video/" + videoselected + ".m4v");
    $("#jquery_jplayer_9").jPlayer( "setMedia", {
      m4v: "video/" + videoselected + ".m4v"
    });
    console.log("Try and play now!");

}); 
```

此事件一直有效，直到您单击顶部的一个单选按钮并执行排序。然后事件丢失。

这是排序代码

```
 (function($) {
  $.fn.sorted = function(customOptions) {
    var options = {
      reversed: false,
      by: function(a) { return a.text(); }
    };
    $.extend(options, customOptions);
    $data = $(this);
    arr = $data.get();
    arr.sort(function(a, b) {
      var valA = options.by($(a));
      var valB = options.by($(b));
      if (options.reversed) {
        return (valA < valB) ? 1 : (valA > valB) ? -1 : 0;                
      } else {        
        return (valA < valB) ? -1 : (valA > valB) ? 1 : 0;    
      }
    });
    return $(arr);
  };
})(jQuery); 
```

如您所见，我添加了控制台日志记录以显示触发事件的位置，因此如果您打开 java 控制台，您可以看到 a 事件正在丢失。

要完全演示 - 点击网站，点击视频菜单项。然后点击apemen视频的第一个星球，可以看到控制台登录，视频就会播放。然后点击按日期排序。点击说大城市，这次没有任何事件发生，视频卡在猿人星球上。但是，如果您再次访问该网站，请进入视频部分，然后单击每个视频而不进行任何排序，您会看到该`<a>`事件始终触发并且有效。

* * *

## 回答 #1

> 赞同：71
> 
> 时间：2012-08-01T06:20:45.017

用于`.clone(true)`数据和事件：[http ://api.jquery.com/clone/](http://api.jquery.com/clone/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T09:48:15.543

所以我删除了点击事件来设置视频。然后使用fancybox中的标题引用传递视频名称并更改那里的代码以将视频设置为fancybox始终打开，所以我知道该事件触发正常。

# java - Android音乐播放器准备方法失败

> ID：11753585
> 
> 赞同：0
> 
> 时间：2012-08-01T06:19:43.830
> 
> 标签：java, android

我一直在尝试播放 MP3 文件。它只是行不通。

几天前，我确实设法使用相同/相似的代码向它添加了各种功能。只是试图重新做一遍，现在这些错误......

有人可以指出错误以及为什么会发生这种情况。

只是为了澄清我使用了不同格式的 URI，它们都不起作用。认为也许它的准备方法。

```
package com.player.phoneagent.gui;

import java.io.IOException;

import android.app.Activity;
import android.media.AudioManager;
import android.media.MediaPlayer;
import android.os.Bundle;
import android.view.View;
import android.widget.ImageButton;

public class AndroidClientActivity extends Activity {
    /** Called when the activity is first created. */

    private MediaPlayer mp;
    String path = "android.resource://com.player.phoneagent/raw/test";

    ImageButton btn_prev;
    ImageButton btn_play;
    ImageButton btn_pause;
    ImageButton btn_next;

    @Override
    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        btn_prev = (ImageButton) findViewById(R.id.ImageButton01);
        btn_pause = (ImageButton) findViewById(R.id.ImageButton02);
        btn_play = (ImageButton) findViewById(R.id.ImageButton03);
        btn_next = (ImageButton) findViewById(R.id.ImageButton04);

        mp = new MediaPlayer();
        mp.setAudioStreamType(AudioManager.STREAM_MUSIC);

        btn_play.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                try {
                    mp.setDataSource(path); 

                } catch (IllegalArgumentException e) {

                    e.printStackTrace();
                } catch (IllegalStateException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
                try {
                    mp.prepare();
                } catch (IllegalStateException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
                mp.start();

            }
        });

    }

}

08-01 07:06:00.142: W/KeyCharacterMap(407): No keyboard for id 0
    08-01 07:06:00.142: W/KeyCharacterMap(407): Using default keymap: /system/usr/keychars/qwerty.kcm.bin
    08-01 07:06:05.821: D/dalvikvm(407): GC_EXPLICIT freed 21K, 53% free 2568K/5379K, external 3207K/3962K, paused 55ms
    08-01 07:06:20.311: D/dalvikvm(444): GC_EXTERNAL_ALLOC freed 52K, 53% free 2552K/5379K, external 1969K/2137K, paused 58ms
    08-01 07:06:43.171: E/MediaPlayer(444): error (1, -2147483648)
    08-01 07:06:43.171: W/System.err(444): java.io.IOException: Prepare failed.: status=0x1
    08-01 07:06:43.171: W/System.err(444):  at android.media.MediaPlayer.prepare(Native Method)
    08-01 07:06:43.171: W/System.err(444):  at com.player.phoneagent.gui.AndroidClientActivity$1.onClick(AndroidClientActivity.java:60)
    08-01 07:06:43.171: W/System.err(444):  at android.view.View.performClick(View.java:2485)
    08-01 07:06:43.171: W/System.err(444):  at android.view.View$PerformClick.run(View.java:9080)
    08-01 07:06:43.181: W/System.err(444):  at android.os.Handler.handleCallback(Handler.java:587)
    08-01 07:06:43.181: W/System.err(444):  at android.os.Handler.dispatchMessage(Handler.java:92)
    08-01 07:06:43.181: W/System.err(444):  at android.os.Looper.loop(Looper.java:123)
    08-01 07:06:43.181: W/System.err(444):  at android.app.ActivityThread.main(ActivityThread.java:3683)
    08-01 07:06:43.181: W/System.err(444):  at java.lang.reflect.Method.invokeNative(Native Method)
    08-01 07:06:43.181: W/System.err(444):  at java.lang.reflect.Method.invoke(Method.java:507)
    08-01 07:06:43.181: W/System.err(444):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
    08-01 07:06:43.181: W/System.err(444):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
    08-01 07:06:43.181: W/System.err(444):  at dalvik.system.NativeStart.main(Native Method)
    08-01 07:06:43.181: E/MediaPlayer(444): start called in state 0
    08-01 07:06:43.181: E/MediaPlayer(444): error (-38, 0)
    08-01 07:06:43.181: E/MediaPlayer(444): Error (-38,0) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:23:40.573

我总是在尝试使用“原始”文件夹时遇到问题......我建议将声音文件放在“资产”中并使用此处的方法来设置/准备/和播放：

[http://droidapp.co.uk/2011/06/08/android-dev-playing-a-mp3-from-assets/](http://droidapp.co.uk/2011/06/08/android-dev-playing-a-mp3-from-assets/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T06:28:06.793

只需执行以下操作：

```
MediaPlayer mp;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);       

    setContentView(R.layout.main);       

    mp = MediaPlayer.create(this, R.raw.yourSongFileName);

    btn_play.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            mp.stop();
            mp.release();
            mp = null;

            mp = MediaPlayer.create(this, R.raw.yourSongFileName);

            mp.start();
            //Other stuff below. 
```

看看这是否有效。

# git - Git：列出新分支推送期间的所有提交和分支创建的起源

> ID：11753588
> 
> 赞同：2
> 
> 时间：2012-08-01T06:19:50.887
> 
> 标签：git

我已经创建并签出了分支 test1。我做了一些改变并承诺。假设 test1 分支有三个提交。现在我正在创建名为 test2 的分支（test1 未推送到中央服务器）并将 test2 推送到中央服务器。根据下面的链接，我得到了所有三个提交。但是当我将 test1 推送到中央服务器时，没有列出三个提交。

我想要在 test1 分支推送操作期间列出的三个提交。我怎么得到它？

[如何获取 git push 上的传入提交列表以获取钩子中的新分支](https://stackoverflow.com/questions/4523668/how-to-get-a-list-of-incoming-commits-on-git-push-for-a-new-branch-in-a-hook)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T07:09:49.313

如果你`test2`在 之上创建`test1`，你通过推送 test2 有效地推送了`test1`提交。

第二次推送（for `test1`）不会推送任何新的提交。只有那些（已经推送的）提交之一上的 test1 指针。
这就解释了为什么[你的钩子](https://stackoverflow.com/a/4531905/6309)没有列出新的提交：没有“ `$new_sha1`”。

# jquery - 如何在jquery中识别单个单元格中的特定td元素和超链接元素

> ID：11753589
> 
> 赞同：-4
> 
> 时间：2012-08-01T06:19:51.130
> 
> 标签：jquery

你能用上面的问题修改我的代码吗::

```
jQuery.noConflict()(function(jQ) {
    "use strict";

    //Process each table cell in the roster
    jQ("#wb_i").click(function(event) {
        alert('Hi');
    });
});

<td id="dd" class="dd1">
    <div id="x" class="y"> <a href="aaa" id="m" class="aa" />Test</> </div>
</td> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T06:30:35.280

你可以试试这样的

```
/* code emmitted */
//Process each table cell in the roster
jQ("#wb_i").click(function(event) {
    var tds = jQ(this).find("td"); //will give you all td's
    var links = jQ(this).find("a"); //will give you all hyperlinks in the whole table
    var tdsFromClass = jQ(this).find(".td_class"); //will give you td's with the class "td_class"
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:53:09.257

首先，您的 html 无效。锚标签必须有一个结束标签，`<a />`不起作用，`</>`甚至不是一个标签。 `<a href="etc">test</a>`是正确的用法。请参阅[此文档以获取正确的语法](http://www.w3.org/TR/html401/struct/links.html)

其次，如果你想获取点击事件的具体td/a，下面应该做你需要的：

```
jQ("#wb_i").click(function(event) {
    console.log(jQ(event.target)); //the anchor element(if the anchor was clicked)
    console.log(jQ(event.target).closest("td")); //the td element
    console.log(jQ(event.target).find("a")); //the anchor element(if the div was clicked)
}); 
```

[**演示**](http://jsfiddle.net/Daedalus/zBnC6/1/)

这真的取决于在这方面点击了什么，希望我在代码中的评论就足够了。

# fortran - gfortran 找不到那里的库

> ID：11753591
> 
> 赞同：6
> 
> 时间：2012-08-01T06:20:05.107
> 
> 标签：fortran, gfortran

我无法将我的程序链接到库。我以前从未这样做过，所以我可能在做一些愚蠢的事情，但据我所知，我正在做正确的事情。我需要将我的程序链接`foo.f90`到一个库，该库`libbar.a`位于我的主目录下的其他目录中。我输入命令：

```
gfortran -c foo.f90
gfortran -o foo foo.f90 -L/directory/of/library -llibbar.a 
```

但这会引发：

```
ld: library not found for -llibhealpix.a 
```

当然，真正的图书馆在哪里`libhealpix.a`（而不是`libbar.a`）

关于为什么会发生这种情况的任何想法？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-08-01T07:01:03.970

尝试`-lbar`（或者`-lhealpix`，如果那是真正的库名称）。

`-lxyz`导致搜索名为`libxyz.a`. 因此，如果您指定，`-llibbar.a`则需要将文件命名为`liblibbar.a.a`.

您也可以简单地在 gfortran 命令行上指定存档文件的路径和全名：`gfortran -o foo foo.f90 /directory/of/library/libbar.a`

# java - 如何设计实时警报系统？

> ID：11753592
> 
> 赞同：5
> 
> 时间：2012-08-01T06:20:11.527
> 
> 标签：java, algorithm, large-data-volumes

我有一个要求，当数据库中的记录在指定的时间间隔内没有更新/更改时，我必须发送警报。例如，如果收到的采购订单在一小时内未处理，则应将提醒发送给交付经理。

提醒/警报应准确地按间隔（包括秒）发送。如果最后修改时间是 13:55:45 意味着，警报应该在 14:55:45 触发。可能需要跟踪数百万行。

简单的方法可能是实现一个自定义调度程序，所有记录都将使用它注册。但是应该每秒轮询数据库以查找更改，这将导致性能问题。

**更新：**

另一种基本方法是为每个记录创建一个线程并将其置于睡眠状态 1 小时（或）使用一些具有超时的排队概念。但它仍然存在性能问题

对更好的方法来实现相同的想法有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-08T13:22:36.493

如果您真的坚持“实时性”，那么在 Java 中是不可能的。在 Java 中，您可能会遇到垃圾收集器的 stop-the-world 阶段，并且您永远无法保证准确的时间。

如果近似时间也是允许​​的，则比使用其他答案中建议的某种预定队列，如果不是，则比使用实时 Java 或某些本机调用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-01T07:06:19.607

可能使用内部 JMS 队列会是更好的解决方案 - 例如，您可能想要使用预定消息功能[http://docs.jboss.org/hornetq/2.2.2.Final/user-manual/en/html/examples.html# examples.scheduled-message](http://docs.jboss.org/hornetq/2.2.2.Final/user-manual/en/html/examples.html#examples.scheduled-message) with hornetq。

您可以要求经纪人在 1 小时后发布警报消息。另一方面，在处理某些交易活动期间，您可以手动删除此消息，这意味着交易活动已被正确处理。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-01T12:21:18.540

为每个提醒使用计时器。即，如果最后修改时间是 17:49:45，则应在 18:49:45 触发警报，只需为每个任务创建一个动态计时器调度，它将在一小时后准确调用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-01T11:48:25.987

如果我们可以假设随着时间的增加输入订单，那么：

您可以使用`Queue`具有属性的元素a`time-of-order`和`order-id`。

添加到数据库中的每个新条目也将排入此队列`Queue`。

`Queue`您可以在每分钟开始时检查元素。

在检查 开头的元素时`Queue`，如果从 开始已经过去了一个小时`time-of-order`，则在数据库中搜索带有的条目`order-id`。

如果找到并且未更新，则发送通知，否则将其从`Queue`.

# razor - 如何在 mvc3 中以货币格式显示金额

> ID：11753594
> 
> 赞同：31
> 
> 时间：2012-08-01T06:20:32.720
> 
> 标签：razor

我为税收范围创建了一个表格。现在我想显示格式如下的金额：`$100,000`. 我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：59
> 
> 时间：2012-08-01T06:24:09.427

您可以尝试这种格式，并将金额替换为自定义值。

```
@string.Format("{0:C}", amount); 
```

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2014-12-11T13:38:27.110

您可以在模型中添加它，货币符号将在您引用该字段时显示

```
[DisplayFormat(DataFormatString = "{0:C}", ApplyFormatInEditMode = true)]
    public decimal DebitAmount { get; set; } 
```

# windows - 在 Windows 上使用 perl 的 IPv6 无法正常工作

> ID：11753595
> 
> 赞同：3
> 
> 时间：2012-08-01T06:20:36.753
> 
> 标签：windows, perl, ipv6

交叉发布[http://perlmonks.org/index.pl?node_id=984750](http://perlmonks.org/index.pl?node_id=984750)

（[perl windows IPv6](https://stackoverflow.com/questions/11348206/perl-windows-ipv6)的可能副本）我尝试了以下示例示例：[https ://metacpan.org/module/IO::Socket::IP](https://metacpan.org/module/IO::Socket::IP)

```
use IO::Socket::IP -register;

my $sock = IO::Socket->new(
   Domain    => PF_INET6,
   LocalHost => "::1",
   Listen    => 1,
) or die "Cannot create socket - $@\n";

print "Created a socket of type " . ref($sock) . "\n"; 
```

它给出的输出为：无法创建套接字 - 没有与节点名关联的地址

我正在使用 ActiveState perl 5.14.2 并在其上构建了 IO::Socket::IP 模块。

以下是 ping 结果：

```
c:\>ping ::1

Pinging ::1 with 32 bytes of data:
Reply from ::1: time<1ms
Reply from ::1: time<1ms
Reply from ::1: time<1ms
Reply from ::1: time<1ms

Ping statistics for ::1:
    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 0ms, Maximum = 0ms, Average = 0ms 
```

如果我使用 IPv4 样式的环回地址 127.0.0.1，上面的代码运行良好。我想知道我错过了什么。

更新：

我刚刚清理了 perl 设置和路径，并从 [http://www.activestate.com/activeperl/downloads新安装了 perl 5.14.2](http://www.activestate.com/activeperl/downloads)

然后我尝试了以下简单的代码：

```
use strict;
use warnings;

use Socket qw(getaddrinfo SOCK_STREAM AI_PASSIVE  );

my ( $err, @res ) = getaddrinfo( "::", 8086, {
    socktype => SOCK_STREAM,
    flags => AI_PASSIVE,
} );
die $err if $err; 
```

它以以下错误结束：在 c:\IPv6.pl 第 10 行没有与节点名关联的地址。

但是使用 127.0.0.1 它会返回正确的值。

我正在使用 windows 2008 R2 机器，在我的另一个 windows 机器上同样运行也失败了。

我只是试图在 Socket.pm 中跟踪这个调用，发现调用的是“fake_getaddrinfo”而不是真正的 getaddrinfo。似乎 XSLoader 要么无法从 Socket.dll 找到/加载 getaddrinfo，要么 Socket.dll 根本没有 getaddrinfo。可能是什么原因？

下面使用 Socket6 的类似代码在相同的设置上正常工作：

```
use Socket;
use Socket6;

@res = getaddrinfo('::', 8086, AF_UNSPEC, SOCK_STREAM);

while(scalar(@res)>=5){

    ($family, $socktype, $proto, $saddr, $canonname, @res) = @res;
    ($host, $port) = getnameinfo($saddr, NI_NUMERICHOST | NI_NUMERICSERV);
    print ("\nhost= $host port = $port");
    socket(Socket_Handle, $family, $socktype, $proto) || next;
    bind(Socket_Handle,$saddr  )  || die "bind: $!";
    listen(Socket_Handle, 5) || die "listen: $!";

    ($host, $port) = getnameinfo($saddr, NI_NUMERICHOST | NI_NUMERICSERV);
    print ("\nReady for connections \nhost= $host port = $port");
    $paddr = accept(Client, Socket_Handle);
} 
```

所以我什至不能责怪设置或系统 dll。perl 对 windows 的 activestate 构建的内置 IPv6 支持是否存在问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-24T10:52:24.297

正如[vinsworldcom 在 perlmonks.org 上所说](http://perlmonks.org/index.pl?node_id=984917)，要使用 IPv6 套接字，您确实需要`Socket6`安装该模块。只要您通过 cpan 安装它，代码片段就会正常工作。

# ruby-on-rails - CanCan - 如何允许用户只更新和删除他们自己的对象

> ID：11753600
> 
> 赞同：8
> 
> 时间：2012-08-01T06:20:51.773
> 
> 标签：ruby-on-rails, authentication, devise, authorization, cancan

我已经用 Devise 和 CanCan 启动了一个 Rails 应用程序。我有与文章有一对多关系的用户。我是 CanCan 的新手，这就是我打算做的事情：

**行政**

*   可以对文章执行任何操作

**登录用户**

*   可以阅读和创建文章
*   可以编辑和销毁自己的文章

**访客用户**

*   可以看文章

但我无法理解 CanCan 的语法。我知道它会是这样的。

```
def initialize(user)
  user ||= User.new
  if user.admin?
    can :manage, Article
  else
    can :read, Article
  end
end 
```

但这仅适用于管理员和来宾用户，我不确定如何区分来宾用户和登录用户，因为当用户为空时它会创建一个新的用户对象。我已经看到代码应该是这样的`can [:edit, :destroy], Article, :user_id => user.id`，但我不确定这将如何适合初始化方法。

最后一个问题，如果我只`can :read, Article`在来宾上定义一个，它会阻止其他操作，例如创建和更新，例如将读取操作列入白名单吗？

任何帮助，将不胜感激。非常感谢！

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-08-01T07:25:54.383

这是我所做的：

在能力.rb

```
def initialize(user)
  if user.nil?
    can :read, Article
  elsif user.admin?
    can :manage, Article
  else
    can [:read, :create], Article
    can [:update, :destroy], Article, :user_id => user.id
  end
end 
```

为了显示链接，我使用了这个：

```
- if can? :read, Article
  = link_to 'Show', article
- if can? :create, Article
  = link_to 'New Article', new_article_path
- if can? :update, article
  = link_to 'Edit', edit_article_path(article)
- if can? :destroy, article
  = link_to 'Destroy', article, method: :delete, data: { confirm: 'Are you sure?' } 
```

它现在似乎正在工作，但不确定这是否是最好的方法。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-08-01T07:25:46.917

您可以传递条件哈希：

```
can :manage, Article, :user_id => user.id 
```

有关详细信息，请查看[https://github.com/ryanb/cancan/wiki/defining-abilities](https://github.com/ryanb/cancan/wiki/defining-abilities)。

# jsp - 如何使用 struts2 实现基于表单的身份验证

> ID：11753602
> 
> 赞同：2
> 
> 时间：2012-08-01T06:21:11.943
> 
> 标签：jsp, struts2

我想在struts2 中实现基于表单的身份验证。

我的目录结构是：

![在此处输入图像描述](../Images/1011c77f0ac66b1cfbde3d4cbb39a7de.png)

我的 web.xml：

```
<web-app version="3.0" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd">
    <filter>
        <filter-name>struts2</filter-name>
        <filter-class>org.apache.struts2.dispatcher.FilterDispatcher</filter-class>
    </filter>
    <filter-mapping>
        <filter-name>struts2</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>
    <security-constraint>
        <display-name>Example Security Constraint</display-name>
        <web-resource-collection>
            <web-resource-name>Protected Area</web-resource-name>
            <url-pattern>/protected/*</url-pattern>
            <http-method>DELETE</http-method>
            <http-method>GET</http-method>
            <http-method>POST</http-method>
            <http-method>PUT</http-method>
        </web-resource-collection>
        <auth-constraint>
            <role-name>manager</role-name>
        </auth-constraint>
        <user-data-constraint>
            <transport-guarantee>NONE</transport-guarantee>
        </user-data-constraint>
    </security-constraint>

    <!-- Default login configuration uses form-based authentication -->
    <login-config>
        <auth-method>FORM</auth-method>
        <realm-name>Example Form-Based Authentication Area</realm-name>
        <form-login-config>
            <form-login-page>/login.jsp</form-login-page>
            <form-error-page>/error.jsp</form-error-page>
        </form-login-config>
    </login-config>
    <security-role>
        <description> An administrator </description>
        <role-name>
            manager
        </role-name>
    </security-role>

    <session-config>
        <session-timeout>
            30
        </session-timeout>
    </session-config>
    <welcome-file-list>
        <welcome-file>index.jsp</welcome-file>
    </welcome-file-list>
</web-app> 
```

我的 login.jsp ：

```
<form method="POST" action="j_security_check" >
  <table border="0" cellspacing="5">
    <tr>
      <th align="right">Username:</th>
      <td align="left"><input type="text" name="j_username"></td>
    </tr>
    <tr>
      <th align="right">Password:</th>
      <td align="left"><input type="password" name="j_password"></td>
    </tr>
    <tr>
      <td align="right"><input type="submit" value="Log In"></td>
      <td align="left"><input type="reset"></td>
    </tr>
  </table>
</form> 
```

struts中的动作：

```
<action name= "j_security_check" class="action.LoginAction" >
            <result name="success" >protected/index.jsp</result>
            <result name="error" > error.jsp </result>
            <result name="input" > login.jsp</result>
        </action> 
```

我的 LoginAction.java

```
 public class LoginAction extends ActionSupport {

        String j_username, j_password;

        public String getJ_password() {
            return j_password;
        }

        public void setJ_password(String j_password) {
            this.j_password = j_password;
        }

        public String getJ_username() {
            return j_username;
        }

        public void setJ_username(String j_username) {
            this.j_username = j_username;
        }

        @Override
        public String execute() throws Exception {
            if (getJ_username().equals(getJ_password())) {
                return SUCCESS;
            } else {
                this.addActionError("Error..!");
                return ERROR;
            }
        }
@Override
    public void validate() {
        if ((getJ_username() == null) || (getJ_username().length() == 0)) {
            this.addActionError("Username Empty");
        }
        if ((getJ_password() == null) || (getJ_password().length() == 0)) {
            this.addActionError("Password Empty");
        }
    } 
```

有了这个，当我插入相同的登录名和密码时，我被重定向到错误页面..

有人可以提供一个很好的链接吗？

该示例应包含一个受保护的文件夹，一个用于登录的操作类。

谢谢..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T07:04:21.737

您必须提供与已在 GlassFish Server 的文件领域中创建并已分配到管理员组的用户相对应的用户名和密码组合。

[这](http://docs.oracle.com/cd/E19798-01/821-1841/bnbxs/index.html)是有关如何创建文件领域的链接。

[这](http://blog.eisele.net/2011/01/jdbc-security-realm-and-form-based.html)是有关如何创建 jdbc 安全领域的链接。

[这](http://docs.oracle.com/cd/E19798-01/821-1841/bncby/index.html)是一个工作示例。您可以检查它是否与您的代码匹配。

[这](http://docs.oracle.com/javaee/5/tutorial/doc/bncbx.html#bncby)是一个链接，可以更好地理解基于表单的身份验证。

希望这可以帮助。:)

**编辑**：

基于表单的身份验证背后的想法是您编写一个 JSP 或 Servlet 来呈现具有以下字段和操作的表单：

```
<form action="j_security_check" method="post">
    <input type="text" name="j_username"/>
    <input type="password" name="j_password"/>
    <input type="submit"/>
</form> 
```

提交表单后，servlet 容器会使用您定义的机制（例如 JAAS）为您检查凭据。在您的 web.xml 中，您设置以下内容：

```
<login-config>
    <form-login-check>
        <form-login-page>/login.jsp</form-login-page>
        <form-error-page>/error.jsp</form-error-page>
    </form-login-check>
</login-config> 
```

这允许容器定位包含您的表单或错误处理代码的 JSP 或 Servlet。

# symfony - Twig 中的条件继承

> ID：11753608
> 
> 赞同：3
> 
> 时间：2012-08-01T06:21:53.443
> 
> 标签：symfony, twig

我有**不同的布局**，具体取决于用户。这会触发以下错误： `"Multiple extends tags are forbidden"`。如何根据用户的角色设法使用不同的布局？

```
{% if is_granted('ROLE_USER_ONE') %}

{% extends "AcmeUserBundle::layout_user_one.html.twig" %}

{% elseif is_granted('ROLE_USER_TWO') %}

{% extends "AcmeUserBundle::layout_user_two.html.twig" %}

{% endif %} 
```

## 编辑

这是答案。我将使用 3 个用户的情况，以防人们想知道如何做到这一点。在这种情况下，如果有人想知道该声明，`admin`也有`userOne`特权。我在这种情况下使用，但正如其中一个答案所建议的那样，可能更具可读性。`userTwo``else``Conditional Inheritance``Dynamic Inheritance`

```
{% set admin = false %}

{% set userOne = false %}

{% set userTwo = false %}

{% if is_granted('ROLE_ADMIN') %}

    {% set admin = true %}

{% else %}

    {% if is_granted('ROLE_USER_ONE') %}

        {% set userOne = true %}

    {% elseif is_granted('ROLE_USER_TWO') %}

        {% set userTwo = true %}

    {% endif %}

{% endif %}

{% extends admin ? "AcmeUserBundle::layout_admin.html.twig" : userTwo ? "AcmeUserBundle::layout_user_two.html.twig" : "AcmeUserBundle::layout_user_one.html.twig" %} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-01T06:40:47.273

查看文档中的[条件继承](http://twig.sensiolabs.org/doc/tags/extends.html#conditional-inheritance)部分。

如果您需要两个以上的选项，请参阅[动态继承](http://twig.sensiolabs.org/doc/tags/extends.html#dynamic-inheritance)部分：

```
{% set parent = 'defaultLayout.html.twig' %}
{% if is_granted('ROLE_USER') %}
    {% set parent = 'userLayout.html.twig' %}
{% elseif is_granted('ROLE_ADMIN') %}
    {% set parent = 'adminLayout.html.twig' %}
{% endif %}

{% extends parent %} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T06:26:52.623

你应该有两个不同的模板

```
#user_one.html.twig
{% extends "AcmeUserBundle::layout_user_one.html.twig" %} 
```

和

```
#user_two.html.twig
{% extends "AcmeUserBundle::layout_user_two.html.twig" %} 
```

然后你应该有一个“入口”点 - some `user.html.twig`，你将在其中决定：

```
#user.html.twig
{% if is_granted('ROLE_USER_ONE') %}
    {% include "AcmeUserBundle::user_one.html.twig" %}
{% elseif is_granted('ROLE_USER_TWO') %}
    {% include "AcmeUserBundle::user_two.html.twig" %}
{% endif %} 
```

# sql - 用于从数据库获取 html 页面侧菜单项的 Oracle Sql Query

> ID：11753609
> 
> 赞同：0
> 
> 时间：2012-08-01T06:21:56.107
> 
> 标签：sql, oracle, oracle10g

**表名：**

```
SERVICEID SERVICENAME SERVICELINK 父 ID ORDERVALUE    
 ------------ ---- -------------- -------- --- -------------
 7 添加事件 addEvent.do 2 1             
 8 管理余数 # 3 1             
 9 添加剩余部分 addRem.do 3 2             
 10 修改 modifyRem.do 8 1             
 1 家 # 0 1             
 2 事件 # 0 2             
 3 余数 # 0 3             
 4 我的个人资料 # 0 4             
 5 登录详情 # 0 5             
 6 关于我们 # 0 6             

```

**期望的结果是**

```
家

事件
   添加事件

余
   添加余数
   管理余数
       调整

我的简历

登录详细信息

关于我们

```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T07:31:44.970

尝试这个：

```
 with CTE (SERVICEID,PARENTID,SERVICENAME,[level]) as (
   select SERVICEID,PARENTID,SERVICENAME,0 as [level] 
   from page_items where PARENTID=0
   union all
   select P1.SERVICEID,P1.PARENTID,P1.SERVICENAME,P2.[level]+1 as [level] 
   from page_items P1, CTE P2
 where p2.SERVICEID=p1.PARENTID)
select lpad('      ',[level])||SERVICENAME from CTE 
```

# wordpress - 仅在 wordpress 中列出我的特定菜单的子菜单

> ID：11753613
> 
> 赞同：1
> 
> 时间：2012-08-01T06:22:11.260
> 
> 标签：wordpress

1.  想要在左侧边栏上显示我的子菜单，并在我的主菜单页面上显示链接。
2.  我用了这段代码

    帖子标题; wp_list_pages('title_li=&child_of=$menu_name&depth=2'); ?>
3.  任何帮助。在此先感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T08:17:12.950

检查这个插件：[JQuery Accordion Menu Widget](http://wordpress.org/extend/plugins/jquery-vertical-accordion-menu/)

使用 WordPress 菜单（仪表板 -> 外观 -> 菜单）创建您想要的菜单，并使用上面的插件在侧边栏上显示您的菜单，并带有手风琴效果。:)

**更新**

如果您在父页面上并且有一些子页面，则以下代码列出子页面。将此代码放在您的`sidebar.php`

```
<?php
  if($post->post_parent)
  $children = wp_list_pages("title_li=&child_of=".$post->post_parent."&echo=0");
  else
  $children = wp_list_pages("title_li=&child_of=".$post->ID."&echo=0");
  if ($children) { ?>
  <ul>
  <?php echo $children; ?>
  </ul>
  <?php } ?> 
```

查看[此 wordpress 法典部分](http://codex.wordpress.org/Function_Reference/wp_list_pages#List_Sub-Pages)以获取更多详细信息

# django - Django中的2个url路由有什么区别？

> ID：11753617
> 
> 赞同：0
> 
> 时间：2012-08-01T06:22:25.223
> 
> 标签：django

在 Django 中，我们在 urls.py 中定义 url 映射。这两者有什么区别？

```
/app/kill/$
/app/kill$ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:25:54.497

它们都是非常不同的网址。但是对于必须的用户来说，他们应该是一样的，所以 django 有一个很好的功能：APPEND_SLASH 设置变量。从[文档](https://docs.djangoproject.com/en/dev/ref/settings/)：

> 当设置为 True 时，如果请求 URL 与 URLconf 中的任何模式都不匹配并且它不以斜杠结尾，则会向附加斜杠的相同 URL 发出 HTTP 重定向。

# c# - ListView.Items 顺序是由 ListViewItem 的索引引起的吗？

> ID：11753618
> 
> 赞同：1
> 
> 时间：2012-08-01T06:22:27.697
> 
> 标签：c#, wpf, listview

我有几个`ListViewItems`我想使用它以不同的方式订购它`Index`。是否有可能当我更改项目索引并且项目位置`ListView` 会受到影响？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:25:17.313

您不能用于`ListViewItem.Index Property`订购商品（此外，它是只读的）。而是使用[ListView.Sort 方法](http://msdn.microsoft.com/en-us/library/system.windows.forms.listview.sort.aspx)。

**编辑：**对于**WPF**，请参阅[http://bea.stollnitz.com/blog/?p=24](http://bea.stollnitz.com/blog/?p=24)

# android - 几个android设备中的加速度计数据不同

> ID：11753621
> 
> 赞同：1
> 
> 时间：2012-08-01T06:22:42.877
> 
> 标签：android

我观察到几个 android 设备中的加速度计数据在同一个地方以相同的方向是不同的。

我正在开发一个基于加速度计 X 和 Y 数据的游戏，它在平板电脑上运行良好，但在安卓手机上却不寻常。

请建议克服这个问题。

谢谢， Biplab

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T06:56:54.283

这是很自然的，因为每个设备都有不同的硬件规格，这意味着它们也有不同的加速度计实现，每个实现在读数中都有不同的噪声。即使使用相同的传感器延迟标志（例如 ）初始化的两个连续轮询之间的时间`SENSOR_DELAY_GAME`在不同的设备中也可能不同。我建议您在数据中应用过滤以获得更流畅的读数。

*   请参阅[此处](http://blog.thomnichols.org/2011/08/smoothing-sensor-data-with-a-low-pass-filter)了解[低通滤波器](http://en.wikipedia.org/wiki/Low-pass_filter)。
*   请参阅[此处](https://stackoverflow.com/a/1736623/1482726)了解[高通滤波器](http://en.wikipedia.org/wiki/High-pass_filter)。

这些示例不在 java 中，但它们会给你这个想法。

# php - 我有一个 captch php 文件我想创建 recaptcha 文件任何人都可以指导我

> ID：11753624
> 
> 赞同：0
> 
> 时间：2012-08-01T06:23:02.470
> 
> 标签：php

我已经使用验证码创建了一个注册表单，但我需要验证码可以在客户端而不是服务器端工作，所以我想开发在客户端工作的 recaptcha 文件，任何人都可以帮助我。提前致谢

我的验证码是

```
session_start();
//Settings: You can customize the captcha here
$image_width = 120;
$image_height = 40;
$characters_on_image = 6;
$font = './monofont.ttf';

//The characters that can be used in the CAPTCHA code.
//avoid confusing characters (l 1 and i for example)
$possible_letters = '23456789bcdfghjkmnpqrstvwxyz';
$random_dots = 0;
$random_lines = 20;
$captcha_text_color="0x142864";
$captcha_noice_color = "0x142864";

$code = ''; 

$i = 0;
while ($i < $characters_on_image) { 
    $code .= substr($possible_letters, mt_rand(0, strlen($possible_letters)-1), 1);
    $i++;
}   

$font_size = $image_height * 0.75;
$image = @imagecreate($image_width, $image_height); 

/* setting the background, text and noise colours here */
$background_color = imagecolorallocate($image, 255, 255, 255);

$arr_text_color = hexrgb($captcha_text_color);
$text_color = imagecolorallocate($image, $arr_text_color['red'], 
        $arr_text_color['green'], $arr_text_color['blue']);

$arr_noice_color = hexrgb($captcha_noice_color);
$image_noise_color = imagecolorallocate($image, $arr_noice_color['red'], 
        $arr_noice_color['green'], $arr_noice_color['blue']);   

/* generating the dots randomly in background */
for( $i=0; $i<$random_dots; $i++ ) {
    imagefilledellipse($image, mt_rand(0,$image_width),
    mt_rand(0,$image_height), 2, 3, $image_noise_color);
}   

/* generating lines randomly in background of image */
for( $i=0; $i<$random_lines; $i++ ) {
    imageline($image, mt_rand(0,$image_width), mt_rand(0,$image_height),
    mt_rand(0,$image_width), mt_rand(0,$image_height), $image_noise_color);
}   

/* create a text box and add 6 letters code in it */
$textbox = imagettfbbox($font_size, 0, $font, $code); 
$x = ($image_width - $textbox[4])/2;
$y = ($image_height - $textbox[5])/2;
imagettftext($image, $font_size, 0, $x, $y, $text_color, $font , $code);    

/* Show captcha image in the page html page */
header('Content-Type: image/jpeg');// defining the image type to be shown in browser widow
imagejpeg($image);//showing the image
imagedestroy($image);//destroying the image instance
$_SESSION['6_letters_code'] = $code;

function hexrgb ($hexstr)
{
    $int = hexdec($hexstr); 
    return array("red" => 0xFF & ($int >> 0x10),
               "green" => 0xFF & ($int >> 0x8),
               "blue" => 0xFF & $int);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T08:46:23.707

您无法在 PHP 中实现客户端重新验证。任何在客户端（用 JavaScript 或其他方式）实现的验证码都很容易被破解，所以这不是一个好主意。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-20T12:20:10.513

验证码验证无法在客户端完成。它只能在服务器端完成..

# hadoop - Hadoop：将文件本地目录复制到 Hdfs 时出错

> ID：11753630
> 
> 赞同：0
> 
> 时间：2012-08-01T06:23:19.403
> 
> 标签：hadoop

当我尝试在 hdfs 中复制 3 个文件的目录时，出现以下错误

```
 hduser@saket-K53SM:/usr/local/hadoop$ bin/hadoop dfs -copyFromLocal /tmp/gutenberg /user/hduser/gutenberg
12/08/01 23:48:46 WARN hdfs.DFSClient: DataStreamer Exception: org.apache.hadoop.ipc.RemoteException: java.io.IOException: File /user/hduser/gutenberg/gutenberg/pg20417.txt could only be replicated to 0 nodes, instead of 1
12/08/01 23:48:46 WARN hdfs.DFSClient: Error Recovery for block null bad datanode[0] nodes == null
12/08/01 23:48:46 WARN hdfs.DFSClient: Could not get block locations. Source file "/user/hduser/gutenberg/gutenberg/pg20417.txt" - Aborting...
copyFromLocal: java.io.IOException: File /user/hduser/gutenberg/gutenberg/pg20417.txt could only be replicated to 0 nodes, instead of 1
org.apache.hadoop.ipc.RemoteException: java.io.IOException: File /user/hduser/gutenberg/gutenberg/pg20417.txt could only be replicated to 0 nodes, instead of 1 
```

我的 fsck 输出是

```
hduser@saket-K53SM:/usr/local/hadoop$ bin/hadoop fsck -blocks
FSCK started by hduser from /127.0.0.1 for path / at Wed Aug 01 23:50:49 IST 2012
Status: HEALTHY
Total size: 0 B
Total dirs: 10
Total files:    0 (Files currently being written: 2)
Total blocks (validated):   0
Minimally replicated blocks:    0
Over-replicated blocks: 0
Under-replicated blocks:    0
Mis-replicated blocks:      0
Default replication factor: 1
Average block replication:  0.0
Corrupt blocks:     0
Missing replicas:       0
Number of data-nodes:       0
Number of racks:        0
FSCK ended at Wed Aug 01 23:50:49 IST 2012 in 3 milliseconds

The filesystem under path '/' is HEALTHY 
```

此外，当我尝试格式化名称节点时，我收到以下错误

```
hduser@saket-K53SM:/usr/local/hadoop$ bin/hadoop namenode -format
12/08/01 23:53:07 INFO namenode.NameNode: STARTUP_MSG: 
STARTUP_MSG: Starting NameNode
STARTUP_MSG:   host = saket-K53SM/127.0.1.1
STARTUP_MSG:   args = [-format]
STARTUP_MSG:   version = 1.0.3
STARTUP_MSG:   build = https://svn.apache.org/repos/asf/hadoop/common/branches/branch-   1.0 -r 1335192; compiled by 'hortonfo' on Tue May  8 20:31:25 UTC 2012

Re-format filesystem in /app/hadoop/tmp/dfs/name ? (Y or N) y
Format aborted in /app/hadoop/tmp/dfs/name
12/08/01 23:53:09 INFO namenode.NameNode: SHUTDOWN_MSG: 
SHUTDOWN_MSG: Shutting down NameNode at saket-K53SM/127.0.1.1 
```

任何帮助，将不胜感激..

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-21T11:32:02.597

我相信这是一个非常愚蠢的问题。输入“Y”而不是小写“y”（它应该是大写）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-13T07:40:18.540

您是否尝试过：

*   停止名称节点
*   停止数据节点
*   删除 /app/hadoop*
*   格式化名称节点
*   再次启动datanode和namenode

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-19T07:04:55.007

停止所有守护进程（ig stop-all.sh）后，删除保存 namenode 临时文件的**数据目录。**删除**数据**目录后，再次启动 hadoop 守护进程 ig start-all.sh。“数据”目录的路径是**conf/core-site.xml中****hadoop.tmp.dir**属性的值。

 **我认为这将解决您的问题**

# c# - 通过会话、视图状态、缓存等数据存储方法将参数传递给 Web 用户控件？

> ID：11753631
> 
> 赞同：0
> 
> 时间：2012-08-01T06:23:29.180
> 
> 标签：c#, asp.net, parameter-passing, webusercontrol

我有一个 web 用户控件 ( `OrderDefinition.ascx`)，它有一个下拉列表 ( `ddl_CustomerCode`)，由 web 用户控件的 page_load 函数填充

```
 public void Page_Load(object sender, EventArgs e)
    {
        if (!IsPostBack)
        {

            ddl_CustomerCode.DataSource = OrderDefinitionData.GetCustomers();
            ddl_CustomerCode.DataTextField = "CustomerCode";
            ddl_CustomerCode.DataValueField = "CustomerName";                
            ddl_CustomerCode.DataBind();
         }
    } 
```

在我的 default.aspx 页面中，我动态添加了这个 Web 用户控件

```
 Control x = LoadControl("Controls/OrderDefinition.ascx");
    Panel1.Controls.Add(x); 
```

我想从我的 default.aspx 将参数传递给这个 web 用户控件，我想出了使用会话或视图状态或缓存来使用的想法。所以现在我的 default.aspx 看起来像

```
 Session["myParam"] = "customerNo1";
    Control x = LoadControl("Controls/OrderDefinition.ascx");
    Panel1.Controls.Add(x); 
```

我的 Page_Load 看起来像

```
 public void Page_Load(object sender, EventArgs e)
    {
        if (!IsPostBack)
        {
            string myParam = Session["myParam"];
            ddl_CustomerCode.DataSource = OrderDefinitionData.GetCustomers(myParam);
            ddl_CustomerCode.DataTextField = "CustomerCode";
            ddl_CustomerCode.DataValueField = "CustomerName";                
            ddl_CustomerCode.DataBind();
         }
    } 
```

问题是我不确定我上面的编码方式，我应该相信这个架构吗？如果这是将参数传递给 Web 用户控件的正确方法，请澄清我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-01T07:27:56.580

正如其他人建议的那样，您可以在 ascx 中执行此操作：

```
 public string myParam { get; set; }
    public void Page_Load(object sender, EventArgs e)
    {
        if (!IsPostBack)
        {
            ddl_CustomerCode.DataSource = OrderDefinitionData.GetCustomers(myParam);
            ddl_CustomerCode.DataTextField = "CustomerCode";
            ddl_CustomerCode.DataValueField = "CustomerName";                
            ddl_CustomerCode.DataBind();
         }
    } 
```

然后在您的 ASPX 中执行此操作：

```
WebControl1 x = (WebControl1)Page.LoadControl("Controls/OrderDefinition.ascx");
x.myParam = "customerNo1";
Panel1.Controls.Add(x); 
```

当您通过 LoadControl 函数实例化 Web 控件时，请注意转换为您的 Web 控件类型 - 执行此转换很重要，以便您可以访问您的属性和方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-01T06:35:50.123

您应该在用户控件中创建属性并通过它传递值。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-01T08:12:34.623

只需在您的网络控件中创建一个公共属性，例如

```
private int myid=0;

public int MyID
{
    set { myid = value; }
} 
```

然后将其设置在用户控件的 pageLoad 上。在您的 defaultpage.aspx 中，您可以访问类似的属性

```
myUserControl.MyId=32; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-01T06:38:57.017

您可以在控件中创建公共方法，并通过页面访问它们，很简单。或者你也可以设置属性，你有两个选项。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-01T06:42:02.820

像这样使用`Session`会使正确封装控件变得非常困难，并且使用起来也不是很直观，因为`Session`键不会出现在控件上（或者通过智能感知）。按照此处其他人的建议，使用控件上的参数。

# asp.net - asp.net mvc http 上下文在 global.asax 和 mvc 的控制器上下文和过滤器上下文中具有不同的值

> ID：11753636
> 
> 赞同：1
> 
> 时间：2012-08-01T06:24:04.877
> 
> 标签：asp.net, asp.net-mvc, single-sign-on, httpcontext

我在我的 global.asax Application_AuthenticateRequest 方法和授权属性 filterContext 的 HttpContext 以及控制器上下文中具有不同的 HttpContext 对象值。

我已将应用程序设置为运行单点登录。这是我的 web.config：

```
<authentication mode="Forms">
      <forms loginUrl="~/Account/LogOn" name="FormsAuth" timeout="2880000"  domain="domain.com" slidingExpiration="true" defaultUrl="~/home/index"/>
    </authentication> 
```

然后登录，验证用户后，设置身份验证cookie。

```
FormsAuthentication.SetAuthCookie(userName, true); 
```

现在的问题是，当断点在全局 asax Application_AuthenticateRequest 方法上命中时，Request.IsAuthenticated 为 true，但当它命中 Authorize 属性的 OnAuthorize 方法时，其 filterContext.HttpContext.Request.IsAuthenticated 为 false。即使用户有效，该页面也将始终重定向到登录页面。

有人可以解释为什么会这样吗？或任何解释 httpcontext 在 asp.net mvc 中的内部工作的博客论坛。在这种情况下，Core ASP.NET httpcontext 和 MVC httpcontext 似乎具有不同的价值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T07:40:12.810

我刚刚使用 MVC3 进行了测试，在这两种情况下，如果用户验证正确，`IsAuthenticated`属性都会返回：`true`

使用的代码：

### 全球.asax

```
protected void Application_AuthenticateRequest(object sender, EventArgs e)
{
    this.Context.Trace.Warn("From global asax: " + this.Context.Request.IsAuthenticated.ToString());
} 
```

### 自定义授权过滤器

```
public class CustomAuthorization : AuthorizeAttribute
{
    public override void OnAuthorization(AuthorizationContext filterContext)
    {
        HttpContext.Current.Trace.Warn("from attribute: " + filterContext.RequestContext.HttpContext.Request.IsAuthenticated.ToString());
        base.OnAuthorization(filterContext);
    }
} 
```

我希望这可以帮助您找到问题

# sql - 如何用列 y 的值更新列 x 的值？

> ID：11753641
> 
> 赞同：0
> 
> 时间：2012-08-01T06:24:17.767
> 
> 标签：sql, tsql, sql-server-2005

我有一个大表，其中包含 x 列，我想将其复制到同一张表中的另一列 y。对此的 SQL 语句是什么？

第一列被调用`name`，它包含用空格分隔的名字和姓氏。如何将这些移动到新的名字和姓氏列？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T09:28:55.323

有时名字有多余的空格，这个脚本会处理这些情况

```
create table #t(name nvarchar(100), firstname nvarchar(50), lastname nvarchar(50))

insert #t (name) values ('Thomas Clausen')
insert #t (name) values ('  Bill Gates')
insert #t (name) values ('Steven Jobs  ')
insert #t (name) values ('Donald of Duck')
insert #t (name) values ('microsoft')
insert #t (name) values ('')

update #t 
set firstname = nullif(left(ltrim(name), charindex(' ', ltrim(name) + ' ')-1), ''),
lastname = nullif(stuff(rtrim(name), 1,len(rtrim(name))
           - charindex(' ', reverse(rtrim(name))), ''), '') 
```

结果：

```
FirstName   LastName
Thomas      Clausen
Bill        Gates
Steven      Jobs
Donald      Duck
microsoft   NULL
NULL        NULL 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:26:07.610

```
update  YourTable
set     y = x 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T06:29:23.227

编辑：

```
UPDATE Table
   SET y = x 
```

编辑：

从对您的问题的修改中，我了解到您有一个类似的列“名称”，`John Adams`并且想要填充已经存在的两列，FirstName 和 LastName。如果是这种情况，试试这个

```
UPDATE table
   SET FirstName = PARSENAME(REPLACE(name, ' ', '.'), 2),
       LastName = PARSENAME(REPLACE(name, ' ', '.'), 1) 
```

如果名字和姓氏之间没有空格，则不会遇到错误消息，FirstName 将返回 NULL 值，而整个全名将作为 LastName 返回。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-01T07:05:43.353

```
Select t1.Name,t1.Marks as Maths,t2.Marks as physics,t3.Marks as Chemistry from 
(select T.Name,T.Marks,T.Subjects
from Student as T
where T.Subjects like 'Maths') as t1
inner join 
(select D.Name,D.Marks,D.Subjects
from Student as D
where D.Subjects like 'Physics') as t2
on t1.Name like t2.Name
inner join
(select E.Name,E.Marks,E.Subjects
from Student as E
where E.Subjects like 'Chemistry') as t3
on t2.Name like t3.Name 
```

# java - 如何使字符串索引从 1 开始

> ID：11753642
> 
> 赞同：2
> 
> 时间：2012-08-01T06:24:18.663
> 
> 标签：java

我有一个`String s = 'muniganesh'`，如果我打印 的值`s.subString(1, 2)`，则输出为`'u'`，因为在 Java 字符串中，索引从 0 开始。但我需要更改我的字符串以从索引位置 1 开始。这怎么可能？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-01T06:32:41.403

如果你真的很想，你可以写一个方法：

```
public static String substring(String str, int beginIndex, int endIndex) {
    return str.substring(beginIndex - 1, endIndex - 1);
} 
```

但我强烈建议你不要这样做，因为你可能会混淆`s.substring()`和你自己`substring()`的错误并得到 1 个错误。只需习惯 Java 处理字符串的方式，然后使用`s.substring()`. 许多其他流行语言从 0 开始字符串索引，如 Java。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-01T06:55:27.090

您可以编写自己的实用程序方法来处理两个 #substring(start, end) 参数作为从零开始的索引（或者如果您愿意，也可以从一开始的索引），但正如@irrelephant 所说，不建议这样做，您应该习惯Java 如何处理这些特殊情况：第一个参数是**从零开始的**，而第二个是从**一**开始的。`String#substring`不是唯一的例子，还有`StringBuilder#delete`，而且应该还有更多。

可能的动机可能是通过简单地将**长度**添加到*开始*位置而无需额外增加来计算*结束位置。*例如：

 ***```
 String source = "In Java world, end position index may be one-based";
    int indexOfP = source.indexOf('p');
    String result = source.substring(indexOfP, indexOfP + 8);
    System.out.println(result); // prints 'position' 
```

这不是最好的例子，真正的动机可能不同，但这就是我对这种特殊性的记忆。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-01T06:27:35.360

尝试

```
myString = myString.substring(1); // will give "uniganesh" 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-01T06:34:58.693

Java 字符串索引从 o 开始，到 d 结束，字符串长度为 -1。

所以如果你使用

字符串 s = "muniganesh";

```
s = s.substring(1,2);// output u

System.out.println(""+ s.substring(1)); //output String s = "muniganesh"; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-01T06:29:06.663

Java 数组或字符串（以及大多数其他语言的数组）索引从 0 开始。使字符串变长并且根本不使用第一个索引，或者使用从 1 到 string.length 的索引并在实际索引时简单地减去一个进入字符串。***

# node.js - 如何通过nodejs启动一个BAT文件？

> ID：11753643
> 
> 赞同：0
> 
> 时间：2012-08-01T06:24:25.487
> 
> 标签：node.js, mongodb

如果意外停止，我想通过 nodejs 重新启动 mongodb（代码在 .bat 文件中）。

是否有任何模块可以完成这项工作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:33:52.043

[将MongoDB 作为 Windows 服务安装](http://www.mongodb.org/display/DOCS/Windows+Service)比从 .bat 文件运行要好得多。

然后就可以使用自动启动和恢复等正常的服务功能了。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-01T13:12:00.390

根据您最近的两条评论，您应该注意一些事项。

*   由于存在锁定文件，您无法重新启动 mongo windows 服务。CPU 增加是因为 mongod 正在尝试自动重启。

    当mongod进程/服务被非干净关闭时，你的数据路径下会有一个锁文件。对数据目录执行a `dir`，相信你会在`mongod.lock`那里找到锁文件。

    您无需重新启动 PC，只需删除锁定文件（您可能需要禁用该服务才能执行此操作）并重新启动该服务。

    有两个与 Windows 上的重新启动行为相关的 SERVER 票证 -

*   [票证 3582](https://jira.mongodb.org/browse/SERVER-3582)`mongod` - 此修复（不再发生自动重启）从 2.1.0 版开始。2.1.x 是开发分支。

    MongoDB 2.2.0-rc0 最近发布并准备好进行测试。它是 2.1.x 开发系列的高潮。

    **2.2 发行说明：** [http ://docs.mongodb.org/manual/release-notes/2.2](http://docs.mongodb.org/manual/release-notes/2.2)

    **下载：** [http ://www.mongodb.org/downloads](http://www.mongodb.org/downloads)

    **更改日志：** [https ://jira.mongodb.org/browse/SERVER/fixforversion/11218](https://jira.mongodb.org/browse/SERVER/fixforversion/11218)

*   [Ticket 2](https://jira.mongodb.org/browse/SERVER-4373)，目前处于计划阶段，将是一个长期修复。

# qt - QLabel 中的超链接和远程图像

> ID：11753645
> 
> 赞同：4
> 
> 时间：2012-08-01T06:24:40.777
> 
> 标签：qt, pyqt4, pyside

我正在尝试在 QLabel 中显示一些 html 代码。虽然 QLabel 正确呈现 html，但超链接实际上不起作用，并且图像链接只会产生丢失的图标图片，而不是显示图像本身。我猜这是 QLabel 的限制，我可能需要求助于 QWebView，但只是想检查我是否遗漏了什么？！

这是一个例子：

```
import sys
from PySide.QtGui import *

app = QApplication([])

label = QLabel()
label.setText('''<p><a href="http://www.google.com">"Go to Google"</a></p>
<p><img src="http://www.google.co.nz/logos/2012/field_hockey-2012-hp.jpg"/></p>
<p><span style="font-size: 17px;"><br /></span></p>''')

label.show()
sys.exit(app.exec_()) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-01T07:36:26.447

QLabel 不是网络浏览器，尽管它可以使用 HTML 标记的子集显示富文本。[请参阅文档。](http://qt-project.org/doc/qt-4.8/richtext-html-subset.html)

如果您希望在单击链接时发生某些事情，则需要使用[linkActivated()](http://qt-project.org/doc/qt-4.8/qlabel.html#linkActivated)信号。或者，您可以使用[openExternalLink](http://qt-project.org/doc/qt-4.8/qlabel.html#openExternalLinks-prop)属性。

# windows - 服务无法启动：无法加载程序集

> ID：11753646
> 
> 赞同：4
> 
> 时间：2012-08-01T06:24:41.050
> 
> 标签：windows, wcf, exception-handling, windows-services, self-hosting

我正在尝试组合一个托管 WCF 服务的 Windows 服务。我的项目结构如下：

*   服务
*   服务合同
*   服务主机
*   服务设置

Service.Host 项目包含 ProjectInstaller，Service.Setup 项目包含 WindowsInstaller。

现在，一切构建和安装都很好，但是当我尝试启动服务时，它会立即停止运行，并在我的事件日志中显示以下消息：

```
Service cannot be started. System.TypeLoadException: Could not load type 'Service' from 
assembly 'Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
at Host.Service.OnStart(String[] args)
at System.ServiceProcess.ServiceBase.ServiceQueuedMainCallback(Object state) 
```

当我检查我的安装项目的输出文件夹时，我可以同时看到 Service.dll 和 Service.Contracts.dll ......这让我措手不及。当一切正常时，我该如何调试？该怎么办？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T08:04:16.027

修正：命名空间声明的愚蠢错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T08:02:58.530

对于这种情况（在启动时发生故障），附加调试器可能很困难。如果我仍在开发中，我喜欢添加额外的语句`System.Diagnostics.Debugger.Launch()`。这将在代码运行时自动[启动调试器。](http://msdn.microsoft.com/en-us/library/system.diagnostics.debugger.launch.aspx)我建议将那行代码放在下面`OnStart`，看看您是否可以从问题中获得更多信息。

# iphone - 在 sqlite 数据库中插入大量数据需要很长时间

> ID：11753648
> 
> 赞同：1
> 
> 时间：2012-08-01T06:24:48.003
> 
> 标签：iphone, objective-c, ios

我将大量数据插入到我的 sqlite 数据库中。现在完成这个过程需要很长时间，这对用户来说是令人沮丧的。这里的任何人都可以告诉我如何使这个过程快速或任何替代方法。

请帮助我..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:38:59.770

1.  如果您要存储图像或类似的东西，请考虑不要将其存储在数据库中，因为这样做效率很低。将这种二进制数据存储在 Documents 文件夹中，如果您需要在数据库中跟踪它，请将文件名存储在数据库中，而不是图像。

2.  如果可能，请在后台执行这些操作，例如通过[Grand Central Dispatch](http://developer.apple.com/library/ios/#documentation/Performance/Reference/GCD_libdispatch_Ref/Reference/reference.html)或[`NSOperationQueue`](https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/NSOperationQueue_class/Reference/Reference.html). 这些技术也在[并发编程指南](http://developer.apple.com/library/ios/#documentation/General/Conceptual/ConcurrencyProgrammingGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40008091)中进行了讨论。如果您使用 SQLite 包装器执行此操作，例如出色的[FMDB](https://github.com/ccgus/fmdb)（如果您还没有的话，我强烈建议您调查一下），您可以使用它`FMDatabaseQueue`（使用 GCD）来协调后台数据库操作和前台数据库查询。因为它使用队列，所以您只需要确保在较小的任务中中断后台数据库操作，以避免出现阻塞前台数据库操作的感觉。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:47:50.833

`NSOperationQueue`提供用于运行其操作的线程。

创建`NSInvocationOperation`对象并将其添加到`NSOperationQueue`.

```
 NSInvocationOperation *insertOperationObject1 = [[NSInvocationOperation alloc] initWithTarget:self selector:@selector(insertMethod1) object:nil];
    NSInvocationOperation *insertOperationObject2 = [[NSInvocationOperation alloc] initWithTarget:self selector:@selector(insertMethod2) object:nil];
    NSInvocationOperation *insertOperationObject3 = [[NSInvocationOperation alloc] initWithTarget:self selector:@selector(insertMethod3) object:nil]; 
```

//将数据库获取操作添加到 NSOperationQueue

```
 NSOperationQueue     *m_opqInsertQueue = [[[NSOperationQueue alloc] init] autorelease];
        [m_opqCustomerProfileDataFetchQueue setMaxConcurrentOperationCount:1];
        [m_opqCustomerProfileDataFetchQueue addOperations:[NSArray arrayWithObjects:insertOperationObject1, insertOperationObject2, insertOperationObject3,  nil] waitUntilFinished:NO]; 
```

# c# - 如何通过 Visual Studio 在网格视图中添加链接按钮？

> ID：11753649
> 
> 赞同：0
> 
> 时间：2012-08-01T06:24:54.177
> 
> 标签：c#, asp.net, asp.net-4.0

我想在网格视图中添加一个链接按钮，该按钮将导航到网站中的下一个表单。但我想知道如何将该按钮插入到网格视图列中？请帮我..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:30:40.983

您可以在网格视图的项目模板中添加链接按钮。

```
<asp:TemplateField>
  <ItemTemplate>
    <asp:LinkButton ID="Link" runat="server" PostBackUrl="MyNextPage.aspx">Edit</asp:LinkButton>
  </ItemTemplate>
</asp:TemplateField> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:32:06.877

```
<Columns>
       <asp:TemplateField>
              <HeaderTemplate>
                   // TEXT FOR COLUMN NAME
              </HeaderTemplate>
              <ItemTemplate>
                    // ADD LINK BUTTON HERE.   
              </ItemTemplate>
        </asp:TemplateField>
  </Columns> 
```

在网格视图中添加这个。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T06:32:55.153

试试这个

```
<asp:GridView ID="GridView1" runat="server">
            <Columns>
            <asp:ButtonField  ButtonType="Link" HeaderText="LinkButton"/>
            </Columns>
            </asp:GridView> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-01T06:33:06.100

确保您的 GridViews 数据源已绑定。将自动生成列设置为 false。打开 GridViewTask，添加带有超链接字段正确名称和路径的新列。你完成了。

# java - 如何在 Spring 中为多个模块设置多个属性？

> ID：11753658
> 
> 赞同：0
> 
> 时间：2012-08-01T06:25:20.083
> 
> 标签：java, spring

我在春天尝试过：

`modules.xml`：

```
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <import resource="classpath:module1.xml"></import>
    <import resource="classpath:module2.xml"></import>
</beans> 
```

`module1.xml`：

```
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="location" value="classpath:prop1.properties"></property>
    </bean>

    <bean id="bean1" class="Bean1">
        <property name="prop1" value="${key}"/>
    </bean>
</beans> 
```

`module2.xml`：

```
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="location" value="classpath:prop2.properties"></property>
    </bean>

    <bean id="bean2" class="Bean2">
        <property name="prop2" value="${key}"/>
    </bean>
</beans> 
```

`Bean1.java`：

```
import org.springframework.beans.factory.annotation.Autowired;

public class Bean1 {

    @Autowired
    public String prop1;

    public void setProp1(String val) {
        prop1 = val;
    }
} 
```

`bean2.java`：

```
import org.springframework.beans.factory.annotation.Autowired;

public class Bean2 {
    @Autowired
    public String prop2;

    public void setProp2(String val) {
        prop2 = val;
    }
} 
```

`ModulesBean.java`：

```
import org.springframework.beans.factory.BeanFactory;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class ModulesBean {
    public static void main(String[] args) throws Exception {
        ClassPathXmlApplicationContext appContext = new ClassPathXmlApplicationContext(
                new String[] {"modules.xml"});
        BeanFactory beanFactory = (BeanFactory) appContext;

        Bean1 bean1 = (Bean1) beanFactory.getBean("bean1");
        System.out.println("prop1: " + bean1.prop1);

        Bean2 bean2 = (Bean2) beanFactory.getBean("bean2");
        System.out.println("prop2: " + bean2.prop2);

    }
} 
```

`prop1.properties`：

```
key=value1 
```

`prop2.properties`：

```
key=value2 
```

当我运行它时，结果是这样的：

```
prop1: value1
prop2: value1 
```

但是，我希望`bean1`只从道具文件 1 中获取道具！！！因为它是一个模块和其他`Bean2`的`value2`！

这是可以实现的吗？我觉得它非常基础！谢谢！！！

重要：对我来说重要的是我有一个包含子模块的 XML！通过这种方式，我很好地利用了 springs XML，在那里我定义了哪些 bean 作为子模块（对我来说也适用于其他事情）。他们当然也生活在相同的环境中！对我来说非常重要的是 bean 处于相同的上下文中。

重要：模块是由其他开发人员编写的，我无法控制他们使用哪些属性名称。

重要：父模块必须能够运行子模块bean，这意味着父/子在这里不好，子模块也不需要知道父属性，因为它们只是模块。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:39:07.930

您应该为这两个键使用不同的名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T07:08:32.983

考虑使用父/子 Spring 上下文层次结构。例如，您可以创建一个父上下文和两个子上下文，将您的属性文件加载到适当的一个中。在父进程中加载​​的 bean 在所有子上下文之间共享，但子上下文有自己的 bean 范围。

您可以在 Internet 上找到更多信息。

# python - 根据嵌套字典值对 Python 字典进行排序

> ID：11753660
> 
> 赞同：23
> 
> 时间：2012-08-01T06:25:34.607
> 
> 标签：python, sorting, dictionary

如何根据嵌套字典的内部值对 Python 字典进行排序？

例如，`mydict`根据 的值进行以下排序`context`：

```
mydict = {
    'age': {'context': 2},
    'address': {'context': 4},
    'name': {'context': 1}
} 
```

结果应该是这样的：

```
{
    'name': {'context': 1}, 
    'age': {'context': 2},
    'address': {'context': 4}       
} 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-08-01T06:31:10.687

```
>>> from collections import OrderedDict
>>> mydict = {
        'age': {'context': 2},
        'address': {'context': 4},
        'name': {'context': 1}
}
>>> OrderedDict(sorted(mydict.iteritems(), key=lambda x: x[1]['context']))
OrderedDict([('name', {'context': 1}), ('age', {'context': 2}), ('address', {'context': 4})]) 
```

# php - 阻止 sql 从我的更新表单中更新空白或空字段

> ID：11753665
> 
> 赞同：0
> 
> 时间：2012-08-01T06:26:04.550
> 
> 标签：php, mysql, sql-update

我目前正在尝试为我的网站上的用户个人资料制作更新页面，并且。如果用户更新了他们的所有信息，下面的代码可以正常工作，但是如果他们遗漏了一个字段，它会在表中插入一条空白记录。

如果用户将字段留空，目前为了解决这个问题，我将空白字段替换为`$_SESSION['user']['field']`它只是重新插入当前数据。

这是我现在的php

```
<?php
session_start();
if($_SESSION['uname']) {
$logged_in=true;
} else {
$logged_in=false;
}
include_once("../connection/conn.php");

if(isset($_POST['update'])) {

if($_POST['firstname']){ $firstname = $_POST['firstname']; }
else { $firstname = $_SESSION['uname']['firstname']; }

if($_POST['lastname']){ $lastname = $_POST['lastname']; }
else { $lastname = $_SESSION['uname']['lastname']; }

if($_POST['email']){ $email= $_POST['email']; }
else { $email = $_SESSION['uname']['email']; }

$id = $_SESSION['uname']['id'];

$query = "UPDATE users SET firstname=?, lastname=?, email=? WHERE id=? ";

$results = $condb->prepare($query);

$results->execute(array($firstname, $lastname,$email,$id));

if($results) {
echo "updated";
}
}

?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:52:31.333

```
UPDATE `tablename`
SET `field` = IF(? <> '', ?, `field`)
WHERE ... 
```

这将检查空条目的工作替换为 MySQL，并且字段使用其先前的值而不是空值。您需要将该值传递给`execute()`两次才能使其正常工作。它与您所做的基本相同，但无需将值存储在您的 PHP 会话中。

使用这种方法，您的更新代码将如下所示：

```
/*
  This block is no longer necessary
if($_POST['firstname']){ $firstname = $_POST['firstname']; }
else { $firstname = $_SESSION['uname']['firstname']; }

if($_POST['lastname']){ $lastname = $_POST['lastname']; }
else { $lastname = $_SESSION['uname']['lastname']; }

if($_POST['email']){ $email= $_POST['email']; }
else { $email = $_SESSION['uname']['email']; }
*/

$query = "
  UPDATE `users`
  SET
    `firstname` = IF(? <> '', ?, `firstname`),
    `lastname` = IF(? <> '', ?, `lastname`),
    `email` = IF(? <> '', ?, `email`)
  WHERE `id` = ?
";

$results = $condb->prepare($query);

$results->execute(array(
  $_POST['firstname'], $_POST['firstname'],
  $_POST['lastname'], $_POST['lastname'],
  $_POST['email'], $_POST['email'],
  $_SESSION['uname']['id']
)); 
```

您现有的代码会阻止用户`0`自己输入一个单曲，而这不会 - 您可能还想为此添加一个检查。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:41:08.147

**您必须提供字段验证**

```
if($firstname!="" && $lastname!="" && $email!=""){

  $query = "UPDATE users SET firstname=?, lastname=?, email=? WHERE id=? ";
  $results = $condb->prepare($query);
  $results->execute(array($firstname, $lastname,$email,$id));
  if($results) {
   echo "updated";
  }
}
else{
  echo "Fill all the fields!";
} 
```

# android - Android ListView 风格类似于 iPhone Grouped UITableView

> ID：11753667
> 
> 赞同：3
> 
> 时间：2012-08-01T06:26:09.613
> 
> 标签：android, iphone, uitableview, listview

我有一个使用 UITableView 的 iphone 应用程序。这个表格视图使用“分组”样式，看起来相当不错。现在我正在将此应用程序移植到android。是否有任何关于如何使 android 的 ListView 看起来像 iPhone 的分组 UITableView（圆角等）的库/示例？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-01T06:38:35.370

虽然，就个人而言，我不会推荐两个平台都有自己的 sdk 风格的视图，但如果你仍然想实现这样的组件。在 GitHub 上托管了一个项目，下载相同的并尝试使用这个：

[https://github.com/thiagolocatelli/android-uitableview](https://github.com/thiagolocatelli/android-uitableview)

# java - 我的 Websphere 正在启动和停止，然后自动启动

> ID：11753670
> 
> 赞同：1
> 
> 时间：2012-08-01T06:26:16.183
> 
> 标签：java, websphere

我使用 RSA 作为 IDE 并将应用程序部署在 Websphere 应用程序服务器 6.1

我有以下日志，其中应用程序似乎已经启动，然后以某种方式停止并再次开始部署或发布。

我可以在配置中做些什么来防止这种情况发生吗？

```
[8/1/12 11:43:40:158 IST] 0000001a ValidatorPlug I org.apache.struts.validator.ValidatorPlugIn initResources Loading validation rules file from '/WEB-INF/validator-rules.xml'
[8/1/12 11:43:40:158 IST] 0000001a ValidatorPlug I org.apache.struts.validator.ValidatorPlugIn initResources Loading validation rules file from '/WEB-INF/validation.xml'
[8/1/12 11:43:40:345 IST] 0000001a ServletWrappe I   SRVE0242I: [GlobalDorfEAR] [/dorf] [action]: Initialization successful.
[8/1/12 11:43:40:345 IST] 0000001a VirtualHost   I   SRVE0250I: Web Module GlobalDorf has been bound to default_host[*:11000,*:80,*:11002,*:5060,*:5061,*:443].
[8/1/12 11:43:40:361 IST] 0000001a ApplicationMg A   WSVR0221I: Application started: GlobalDorfEAR
[8/1/12 11:43:40:813 IST] 00000019 WebGroup      A   SRVE0169I: Loading Web Module: isclite.
[8/1/12 11:43:45:456 IST] 00000019 ServletWrappe I   SRVE0242I: [isclite] [/ibm/console] [EventInitializer]: Initialization successful.
[8/1/12 11:43:45:488 IST] 00000019 VirtualHost   I   SRVE0250I: Web Module isclite has been bound to admin_host[*:11001,*:11003].
[8/1/12 11:43:45:519 IST] 00000019 WebGroup      A   SRVE0169I: Loading Web Module: adminconsole redirector.
[8/1/12 11:43:45:550 IST] 00000019 VirtualHost   I   SRVE0250I: Web Module adminconsole redirector has been bound to admin_host[*:11001,*:11003].
[8/1/12 11:43:45:566 IST] 00000019 WebGroup      A   SRVE0169I: Loading Web Module: EHS3.01.
[8/1/12 11:43:45:924 IST] 00000019 VirtualHost   I   SRVE0250I: Web Module EHS3.01 has been bound to admin_host[*:11001,*:11003].
[8/1/12 11:43:46:938 IST] 00000019 WebGroup      A   SRVE0169I: Loading Web Module: Integrated Solutions Console.
[8/1/12 11:43:47:297 IST] 00000019 VirtualHost   I   SRVE0250I: Web Module Integrated Solutions Console has been bound to admin_host[*:11001,*:11003].
[8/1/12 11:43:48:046 IST] 00000019 WebGroup      A   SRVE0169I: Loading Web Module: WIM.
[8/1/12 11:43:48:077 IST] 00000019 VirtualHost   I   SRVE0250I: Web Module WIM has been bound to admin_host[*:11001,*:11003].
[8/1/12 11:43:48:311 IST] 00000019 WebGroup      A   SRVE0169I: Loading Web Module: WebSphere Application Server.
[8/1/12 11:43:48:342 IST] 00000019 VirtualHost   I   SRVE0250I: Web Module WebSphere Application Server has been bound to admin_host[*:11001,*:11003].
**[8/1/12 11:43:48:342 IST] 00000019 ApplicationMg A   WSVR0221I: Application started: isclite
[8/1/12 11:43:48:498 IST] 0000000a TCPChannel    I   TCPC0001I: TCP Channel TCP_1 is listening on host 127.0.0.1  (IPv4: 127.0.0.1) port 11001\. 
[8/1/12 11:43:48:498 IST] 0000000a WSChannelFram A   CHFW0019I: The Transport Channel Service has started chain WCInboundAdmin.
[8/1/12 11:43:48:529 IST] 0000000a TCPChannel    I   TCPC0001I: TCP Channel TCP_2 is listening on host 127.0.0.1  (IPv4: 127.0.0.1) port 11000\. 
[8/1/12 11:43:48:561 IST] 0000000a WSChannelFram A   CHFW0019I: The Transport Channel Service has started chain WCInboundDefault.
[8/1/12 11:43:48:561 IST] 0000000a TCPChannel    I   TCPC0001I: TCP Channel TCP_3 is listening on host 127.0.0.1  (IPv4: 127.0.0.1) port 11003\. 
[8/1/12 11:43:48:561 IST] 0000000a WSChannelFram A   CHFW0019I: The Transport Channel Service has started chain WCInboundAdminSecure.
[8/1/12 11:43:48:561 IST] 0000000a TCPChannel    I   TCPC0001I: TCP Channel TCP_4 is listening on host 127.0.0.1  (IPv4: 127.0.0.1) port 11002\. 
[8/1/12 11:43:48:576 IST] 0000000a WSChannelFram A   CHFW0019I: The Transport Channel Service has started chain WCInboundDefaultSecure.
[8/1/12 11:43:48:592 IST] 0000000a WSChannelFram A   CHFW0019I: The Transport Channel Service has started chain SOAPAcceptorChain1.
[8/1/12 11:43:48:592 IST] 0000000a WSChannelFram A   CHFW0019I: The Transport Channel Service has started chain SOAPAcceptorChain2.
[8/1/12 11:43:48:592 IST] 0000000a WSChannelFram A   CHFW0019I: The Transport Channel Service has started chain SOAPAcceptorChain3.
[8/1/12 11:43:48:592 IST] 0000000a WSChannelFram A   CHFW0019I: The Transport Channel Service has started chain SOAPAcceptorChain4.
[8/1/12 11:43:48:623 IST] 0000001a SchedulerServ I   SCHD0077I: The Scheduler Service is starting the Schedulers.
[8/1/12 11:43:48:623 IST] 0000001a SchedulerServ I   SCHD0078I: The Scheduler Service has completed starting the Schedulers.
[8/1/12 11:43:48:717 IST] 0000000a RMIConnectorC A   ADMC0026I: The RMI Connector is available at port 2809
[8/1/12 11:43:49:185 IST] 0000000c WorkSpaceMana A   WKSP0500I: Workspace configuration consistency check is false.
[8/1/12 11:43:49:840 IST] 0000000a WsServerImpl  A   WSVR0001I: Server server1 open for e-business
[8/1/12 11:43:54:263 IST] 00000029 ServiceLogger I com.ibm.ws.ffdc.IncidentStreamImpl initialize FFDC0009I: FFDC opened incident stream file C:\Users\asakthi1\WAS-profiles\6.1\server1\logs\ffdc\server1_00000029_12.08.01_11.43.54_0.txt
[8/1/12 11:43:54:325 IST] 00000029 ServiceLogger I com.ibm.ws.ffdc.IncidentStreamImpl resetIncidentStream FFDC0010I: FFDC closed incident stream file C:\Users\asakthi1\WAS-profiles\6.1\server1\logs\ffdc\server1_00000029_12.08.01_11.43.54_0.txt
[8/1/12 11:44:15:425 IST] 00000029 ServiceLogger I com.ibm.ws.ffdc.IncidentStreamImpl initialize FFDC0009I: FFDC opened incident stream file C:\Users\asakthi1\WAS-profiles\6.1\server1\logs\ffdc\server1_00000029_12.08.01_11.44.15_0.txt
[8/1/12 11:44:15:425 IST] 00000029 ServiceLogger I com.ibm.ws.ffdc.IncidentStreamImpl resetIncidentStream FFDC0010I: FFDC closed incident stream file C:\Users\asakthi1\WAS-profiles\6.1\server1\logs\ffdc\server1_00000029_12.08.01_11.44.15_0.txt
[8/1/12 11:44:28:007 IST] 00000029 AdminHelper   A   ADMN1010I: An attempt is made to stop the GlobalDorfEAR application. (User ID = customRealm/wasadm01)
[8/1/12 11:44:28:022 IST] 00000029 ApplicationMg A   WSVR0217I: Stopping application: GlobalDorfEAR
[8/1/12 11:44:28:038 IST] 00000029 ServletWrappe I   SRVE0253I: [GlobalDorfEAR] [/dorf] [MenuInitServlet]: Destroy successful.
[8/1/12 11:44:28:069 IST] 00000029 ServletWrappe I   SRVE0253I: [GlobalDorfEAR] [/dorf] [action]: Destroy successful.
[8/1/12 11:44:28:132 IST] 00000029 EJBContainerI I   WSVR0041I: Stopping EJB jar: GlobalDorfEJB.jar
[8/1/12 11:44:28:132 IST] 00000029 ActivationSpe I   J2CA0524I: The Message Endpoint for ActivationSpec eis/globaldorfCopyTimesheetActivationSpec (com.ibm.ws.sib.api.jmsra.impl.JmsJcaActivationSpecImpl) and MDB Application GlobalDorfEAR#GlobalDorfEJB.jar#CopyTimesheetMessageProcessBean is deactivated.
[8/1/12 11:44:28:194 IST] 00000029 ActivationSpe I   J2CA0524I: The Message Endpoint for ActivationSpec eis/globaldorfSowUploadActivationSpec (com.ibm.ws.sib.api.jmsra.impl.JmsJcaActivationSpecImpl) and MDB Application GlobalDorfEAR#GlobalDorfEJB.jar#SowUploadMessageProcessBean is deactivated.
[8/1/12 11:44:28:210 IST] 00000029 ActivationSpe I   J2CA0524I: The Message Endpoint for ActivationSpec eis/globaldorfSidReleaseActivationSpec (com.ibm.ws.sib.api.jmsra.impl.JmsJcaActivationSpecImpl) and MDB Application GlobalDorfEAR#GlobalDorfEJB.jar#SidReleaseMessageProcessBean is deactivated.
[8/1/12 11:44:28:225 IST] 00000029 ActivationSpe I   J2CA0524I: The Message Endpoint for ActivationSpec eis/globaldorfMissingTimesheetActivationSpec (com.ibm.ws.sib.api.jmsra.impl.JmsJcaActivationSpecImpl) and MDB Application GlobalDorfEAR#GlobalDorfEJB.jar#MissingTimesheetProcessBean is deactivated.
[8/1/12 11:44:28:225 IST] 00000029 ActivationSpe I   J2CA0524I: The Message Endpoint for ActivationSpec eis/globaldorfPaymentUploadActivationSpec (com.ibm.ws.sib.api.jmsra.impl.JmsJcaActivationSpecImpl) and MDB Application GlobalDorfEAR#GlobalDorfEJB.jar#PaymentUploadProcessBean is deactivated.
[8/1/12 11:44:28:225 IST] 00000029 ActivationSpe I   J2CA0524I: The Message Endpoint for ActivationSpec eis/globaldorfCopyPersonsActivationSpec (com.ibm.ws.sib.api.jmsra.impl.JmsJcaActivationSpecImpl) and MDB Application GlobalDorfEAR#GlobalDorfEJB.jar#CopyPersonsProcessBean is deactivated.
[8/1/12 11:44:28:241 IST] 00000029 ActivationSpe I   J2CA0524I: The Message Endpoint for ActivationSpec eis/globaldorfBillingActivationSpec (com.ibm.ws.sib.api.jmsra.impl.JmsJcaActivationSpecImpl) and MDB Application GlobalDorfEAR#GlobalDorfEJB.jar#BillingMessageProcessBean is deactivated.
[8/1/12 11:44:28:256 IST] 00000029 EJBContainerI I   WSVR0059I: EJB jar stopped: GlobalDorfEJB.jar
[8/1/12 11:44:28:256 IST] 00000029 ApplicationMg A   WSVR0220I: Application stopped: GlobalDorfEAR
[8/1/12 11:44:28:740 IST] 00000029 AdminHelper   A   ADMN1008I: An attempt is made to start the GlobalDorfEAR application. (User ID = customRealm/wasadm01)
[8/1/12 11:44:28:974 IST] 00000029 ApplicationMg A   WSVR0200I: Starting application: GlobalDorfEAR**
[8/1/12 11:44:28:974 IST] 00000029 ApplicationMg A   WSVR0204I: Application: GlobalDorfEAR  Application build level: Unknown
[8/1/12 11:44:29:114 IST] 00000029 SibMessage    I   [:] CWSID0017I: Configuration reload is starting for bus server1_Bus.
[8/1/12 11:44:29:177 IST] 00000029 SibMessage    I   [:] CWSID0018I: Configuration reload is complete for bus server1_Bus.
[8/1/12 11:44:29:192 IST] 00000029 SibMessage    I   [:] CWSID0019I: Configuration reload is starting for messaging engine server1Node.server1-server1_Bus.
[8/1/12 11:44:29:224 IST] 00000029 SibMessage    I   [:] CWSID0020I: Configuration reload is complete for messaging engine server1Node.server1-server1_Bus.
[8/1/12 11:44:29:224 IST] 00000029 SibMessage    I   [:] CWSIS1569I: Messaging engine server1Node.server1-server1_Bus is using a file store.
[8/1/12 11:44:29:380 IST] 00000029 ResourceMgrIm I   WSVR0049I: Binding DefaultEJBTimerDataSource as jdbc/DefaultEJBTimerDataSource
[8/1/12 11:44:29:395 IST] 00000029 EJBContainerI I   WSVR0037I: Starting EJB jar: GlobalDorfEJB.jar
[8/1/12 11:44:29:614 IST] 00000029 ActivationSpe I   J2CA0523I: The Message Endpoint for ActivationSpec eis/globaldorfSowUploadActivationSpec (com.ibm.ws.sib.api.jmsra.impl.JmsJcaActivationSpecImpl) and MDB Application GlobalDorfEAR#GlobalDorfEJB.jar#SowUploadMessageProcessBean is activated.
[8/1/12 11:44:29:645 IST] 00000029 ActivationSpe I   J2CA0523I: The Message Endpoint for ActivationSpec eis/globaldorfCopyTimesheetActivationSpec (com.ibm.ws.sib.api.jmsra.impl.JmsJcaActivationSpecImpl) and MDB Application GlobalDorfEAR#GlobalDorfEJB.jar#CopyTimesheetMessageProcessBean is activated.
[8/1/12 11:44:29:676 IST] 00000029 ActivationSpe I   J2CA0523I: The Message Endpoint for ActivationSpec eis/globaldorfBillingActivationSpec (com.ibm.ws.sib.api.jmsra.impl.JmsJcaActivationSpecImpl) and MDB Application GlobalDorfEAR#GlobalDorfEJB.jar#BillingMessageProcessBean is activated.
[8/1/12 11:44:29:692 IST] 00000029 ActivationSpe I   J2CA0523I: The Message Endpoint for ActivationSpec eis/globaldorfSidReleaseActivationSpec (com.ibm.ws.sib.api.jmsra.impl.JmsJcaActivationSpecImpl) and MDB Application GlobalDorfEAR#GlobalDorfEJB.jar#SidReleaseMessageProcessBean is activated.
[8/1/12 11:44:29:692 IST] 00000029 ActivationSpe I   J2CA0523I: The Message Endpoint for ActivationSpec eis/globaldorfMissingTimesheetActivationSpec (com.ibm.ws.sib.api.jmsra.impl.JmsJcaActivationSpecImpl) and MDB Application GlobalDorfEAR#GlobalDorfEJB.jar#MissingTimesheetProcessBean is activated.
[8/1/12 11:44:29:707 IST] 00000029 ActivationSpe I   J2CA0523I: The Message Endpoint for ActivationSpec eis/globaldorfCopyPersonsActivationSpec (com.ibm.ws.sib.api.jmsra.impl.JmsJcaActivationSpecImpl) and MDB Application GlobalDorfEAR#GlobalDorfEJB.jar#CopyPersonsProcessBean is activated.
[8/1/12 11:44:29:723 IST] 00000029 ActivationSpe I   J2CA0523I: The Message Endpoint for ActivationSpec eis/globaldorfPaymentUploadActivationSpec (com.ibm.ws.sib.api.jmsra.impl.JmsJcaActivationSpecImpl) and MDB Application GlobalDorfEAR#GlobalDorfEJB.jar#PaymentUploadProcessBean is activated.
[8/1/12 11:44:29:848 IST] 00000029 EJBContainerI I   WSVR0057I: EJB jar started: GlobalDorfEJB.jar
[8/1/12 11:44:31:439 IST] 00000029 WebGroup      A   SRVE0169I: Loading Web Module: GlobalDorf.
[8/1/12 11:44:31:517 IST] 00000029 ServiceLogger I com.ibm.ws.ffdc.IncidentStreamImpl initialize FFDC0009I: FFDC opened incident stream file C:\Users\asakthi1\WAS-profiles\6.1\server1\logs\ffdc\server1_00000029_12.08.01_11.44.31_0.txt
[8/1/12 11:44:31:548 IST] 00000029 ServiceLogger I com.ibm.ws.ffdc.IncidentStreamImpl resetIncidentStream FFDC0010I: FFDC closed incident stream file C:\Users\asakthi1\WAS-profiles\6.1\server1\logs\ffdc\server1_00000029_12.08.01_11.44.31_0.txt
[8/1/12 11:44:31:579 IST] 00000029 jsp           E com.ibm.ws.jsp.taglib.TldParser logParseErrorMessage Failed to parse Tag Library [/WEB-INF/struts-logic.tld]: JSPG0036E: Failed to find resource file:/C:/Global_dorf/srcRAD200805/GlobalDorFWeb/WebContent/WEB-INF/struts-logic.tld
[8/1/12 11:44:31:579 IST] 00000029 jsp           W com.ibm.ws.jsp.taglib.TagLibraryCache loadWebXmlMap jsp warning failed to load tld at [/WEB-INF/struts-logic.tld]
[8/1/12 11:44:31:579 IST] 00000029 jsp           W com.ibm.ws.jsp.taglib.TagLibraryCache loadWebXmlMap jsp warning failed to load tld at [/WEB-INF/struts-logic.tld]
[8/1/12 11:44:31:579 IST] 00000029 jsp           E com.ibm.ws.jsp.taglib.TldParser logParseErrorMessage Failed to parse Tag Library [/WEB-INF/struts-template.tld]: JSPG0036E: Failed to find resource file:/C:/Global_dorf/srcRAD200805/GlobalDorFWeb/WebContent/WEB-INF/struts-template.tld
[8/1/12 11:44:31:595 IST] 00000029 jsp           W com.ibm.ws.jsp.taglib.TagLibraryCache loadWebXmlMap jsp warning failed to load tld at [/WEB-INF/struts-template.tld]
[8/1/12 11:44:31:595 IST] 00000029 jsp           W com.ibm.ws.jsp.taglib.TagLibraryCache loadWebXmlMap jsp warning failed to load tld at [/WEB-INF/struts-template.tld]
[8/1/12 11:44:31:610 IST] 00000029 jsp           E com.ibm.ws.jsp.taglib.TldParser logParseErrorMessage Failed to parse Tag Library [/WEB-INF/struts-bean.tld]: JSPG0036E: Failed to find resource file:/C:/Global_dorf/srcRAD200805/GlobalDorFWeb/WebContent/WEB-INF/struts-bean.tld
[8/1/12 11:44:31:626 IST] 00000029 jsp           W com.ibm.ws.jsp.taglib.TagLibraryCache loadWebXmlMap jsp warning failed to load tld at [/WEB-INF/struts-bean.tld]
[8/1/12 11:44:31:642 IST] 00000029 jsp           W com.ibm.ws.jsp.taglib.TagLibraryCache loadWebXmlMap jsp warning failed to load tld at [/WEB-INF/struts-bean.tld]
[8/1/12 11:44:31:642 IST] 00000029 jsp           E com.ibm.ws.jsp.taglib.TldParser logParseErrorMessage Failed to parse Tag Library [/WEB-INF/struts-html.tld]: JSPG0036E: Failed to find resource file:/C:/Global_dorf/srcRAD200805/GlobalDorFWeb/WebContent/WEB-INF/struts-html.tld
[8/1/12 11:44:31:642 IST] 00000029 jsp           W com.ibm.ws.jsp.taglib.TagLibraryCache loadWebXmlMap jsp warning failed to load tld at [/WEB-INF/struts-html.tld]
[8/1/12 11:44:31:642 IST] 00000029 jsp           W com.ibm.ws.jsp.taglib.TagLibraryCache loadWebXmlMap jsp warning failed to load tld at [/WEB-INF/struts-html.tld]
[8/1/12 11:44:31:657 IST] 00000029 jsp           E com.ibm.ws.jsp.taglib.TldParser logParseErrorMessage Failed to parse Tag Library [/WEB-INF/struts-tiles.tld]: JSPG0036E: Failed to find resource file:/C:/Global_dorf/srcRAD200805/GlobalDorFWeb/WebContent/WEB-INF/struts-tiles.tld
[8/1/12 11:44:31:657 IST] 00000029 jsp           W com.ibm.ws.jsp.taglib.TagLibraryCache loadWebXmlMap jsp warning failed to load tld at [/WEB-INF/struts-tiles.tld]
[8/1/12 11:44:31:657 IST] 00000029 jsp           W com.ibm.ws.jsp.taglib.TagLibraryCache loadWebXmlMap jsp warning failed to load tld at [/WEB-INF/struts-tiles.tld]
[8/1/12 11:44:31:548 IST] 00000029 SystemErr     R log4j:WARN No appenders could be found for logger (com.ford.adsbo.globaldorf.utils.appmgmt.monitoring.SessionCounterMBean).
[8/1/12 11:44:31:548 IST] 00000029 SystemErr     R log4j:WARN Please initialize the log4j system properly.
[8/1/12 11:44:31:922 IST] 00000029 CacheConfigur I com.ford.it.cache.internal.CacheConfigurationManager setDiskStoreConfiguration Cache Disk Store Path = C:/proj/server1/was/caches/server1
[8/1/12 11:44:31:985 IST] 00000029 CacheManager  I net.sf.ehcache.CacheManager addShutdownHookIfRequired The CacheManager shutdown hook is enabled because net.sf.ehcache.enableShutdownHook is set to true.
[8/1/12 11:44:32:063 IST] 00000029 CacheManager  I net.sf.ehcache.CacheManager addShutdownHookIfRequired The CacheManager shutdown hook is enabled because net.sf.ehcache.enableShutdownHook is set to true.
[8/1/12 11:44:32:156 IST] 00000029 ServletWrappe I   SRVE0242I: [GlobalDorfEAR] [/dorf] [MenuInitServlet]: Initialization successful.
[8/1/12 11:44:32:203 IST] 00000029 SystemOut     O was.process.name is set to server1
[8/1/12 11:44:32:219 IST] 00000029 SystemOut     O 655 [ORB.thread.pool : 0] INFO com.ford.adsbo.globaldorf.utils.InitServlet  - *** global dorF Initializer started
[8/1/12 11:44:32:266 IST] 00000029 SystemOut     O [     702] [2012-08-01 11:44:32,250] ORB.thread.pool : 0 [ INFO] com.ford.adsbo.globaldorf.utils.InitServlet init: Logger initialized
[8/1/12 11:44:32:266 IST] 00000029 SystemOut     O [     718] [2012-08-01 11:44:32,266] ORB.thread.pool : 0 [ INFO] com.ford.adsbo.globaldorf.utils.initializer.ConverterInitializer init: register Converters...
[8/1/12 11:44:32:297 IST] 00000029 SystemOut     O [     749] [2012-08-01 11:44:32,297] ORB.thread.pool : 0 [ INFO] com.ford.adsbo.globaldorf.utils.initializer.ConverterInitializer init: register Converters...done
[8/1/12 11:44:32:297 IST] 00000029 SystemOut     O [     749] [2012-08-01 11:44:32,297] ORB.thread.pool : 0 [ INFO] com.ford.adsbo.globaldorf.utils.initializer.ConfigFilesInitializer init: init app & env config
[8/1/12 11:44:32:297 IST] 00000029 SystemOut     O [     749] [2012-08-01 11:44:32,297] ORB.thread.pool : 0 [ INFO] com.ford.adsbo.globaldorf.utils.initializer.ConfigFilesInitializer init: Load application and env config file: C:\Global_dorf\srcRAD200805\GlobalDorFWeb\WebContent/WEB-INF/properties/app-config-global-dorF.xml,environment.xml
[8/1/12 11:44:32:297 IST] 00000029 SystemOut     O [     749] [2012-08-01 11:44:32,297] ORB.thread.pool : 0 [ INFO] com.ford.adsbo.globaldorf.utils.initializer.ConfigFilesInitializer init: init app & env & payment config... load appConfig
[8/1/12 11:44:32:344 IST] 00000029 SystemOut     O [     796] [2012-08-01 11:44:32,344] ORB.thread.pool : 0 [ INFO] com.ford.adsbo.globaldorf.utils.initializer.ConfigFilesInitializer init: init app & env & payment config... load envConfig 
```

* * *

您可以在下面找到 FFDC 日志

上次出现异常的索引计数时间 SourceId ProbeId ------+------+---------------------------- +---------------------------- 1 1 8/8/12 11:26:59:550 IST javax.naming.NameNotFoundException com.ibm .ws.naming.ipcos.WsnOptimizedNamingImpl.do_resolve_complete_info 1133 ------+------+------------------------- --+--------------

上次出现异常的索引计数时间 SourceId ProbeId ------+------+---------------------------- +---------------------------- 1 241 8/8/12 11:28:00:096 IST javax.naming.NameNotFoundException com.ibm .ws.naming.ipcos.WsnOptimizedNamingImpl.do_resolve_complete_info 1133 ------+------+------------------------- --+--------------

上次出现异常的索引计数时间 SourceId ProbeId ------+------+---------------------------- +---------------------------- 1 493 8/8/12 11:29:02:056 IST javax.naming.NameNotFoundException com.ibm .ws.naming.ipcos.WsnOptimizedNamingImpl.do_resolve_complete_info 1133 ------+------+------------------------- --+--------------

上次出现异常的索引计数时间 SourceId ProbeId ------+------+---------------------------- +------------------------- 1 745 8/8/12 11:30:03:970 IST javax.naming.NameNotFoundException com.ibm .ws.naming.ipcos.WsnOptimizedNamingImpl.do_resolve_complete_info 1133 ------+------+------------------------- --+--------------

上次出现异常的索引计数时间 SourceId ProbeId ------+------+---------------------------- +---------------------------- 1 997 8/8/12 11:31:05:909 IST javax.naming.NameNotFoundException com.ibm .ws.naming.ipcos.WsnOptimizedNamingImpl.do_resolve_complete_info 1133 ------+------+------------------------- --+--------------

上次出现异常的索引计数时间 SourceId ProbeId ------+------+---------------------------- +------------------------- 1 1249 8/8/12 11:32:07:964 IST javax.naming.NameNotFoundException com.ibm .ws.naming.ipcos.WsnOptimizedNamingImpl.do_resolve_complete_info 1133 ------+------+------------------------- --+--------------

上次出现异常的索引计数时间 SourceId ProbeId ------+------+---------------------------- +---------------------------- 1 1501 8/8/12 11:33:09:942 IST javax.naming.NameNotFoundException com.ibm .ws.naming.ipcos.WsnOptimizedNamingImpl.do_resolve_complete_info 1133 ------+------+------------------------- --+--------------

上次出现异常的索引计数时间 SourceId ProbeId ------+------+---------------------------- +---------------------------- 1 1737 8/8/12 11:34:10:235 IST javax.naming.NameNotFoundException com.ibm .ws.naming.ipcos.WsnOptimizedNamingImpl.do_resolve_complete_info 1133 ------+------+------------------------- --+--------------

上次出现异常的索引计数时间 SourceId ProbeId ------+------+---------------------------- +------------------------- 1 1969 8/8/12 11:35:10:724 IST javax.naming.NameNotFoundException com.ibm .ws.naming.ipcos.WsnOptimizedNamingImpl.do_resolve_complete_info 1133 ------+------+------------------------- --+------------- + 2 1 8/8/12 11:35:44:698 IST javax.servlet.ServletException com.ibm.ws.webcontainer.servlet.ServletInstance.init 172

上次出现异常的索引计数时间 SourceId ProbeId ------+------+---------------------------- +---------------------------- 1 1 8/8/12 11:36:20:483 IST java.io.FileNotFoundException com.ibm .websphere.management.application.AppManagementBaseFactory 1867 2 2137 8/8/12 11:35:58:161 IST javax.naming.NameNotFoundException com.ibm.ws.naming.ipcos.WsnOptimizedNamingImpl.do_resolve_complete_info 1133 3 1 8/8/12 11:35:44:698 IST javax.servlet.ServletException com.ibm.ws.webcontainer.servlet.ServletInstance.init 172 ------+------+--------- ------------------+---------------------------------------- + 4 1 8/ 8/12 11:37:55:745 IST javax.management.InstanceAlreadyExistsException com.ibm.ws.management.PlatformMBeanServer.registerMBean 523 + 5 1 8/8/12 11:40:09:213 IST java.lang.NullPointerException com .ibm.ws.webcontainer.srt.SRTConnectionContext.finishConnection 64

* * *

以下日志显示服务器已停止。

C:\Users\asakthi1\WAS-profiles\6.1\server1\logs\ffdc\server1_00000029_12.08.01_11.44.15_0.txt [8/1/12 11:44:28:007 IST] 00000029 AdminHelper A ADMN1010I：尝试停止 GlobalDorfEAR 应用程序。（用户 ID = customRealm/wasadm01）[8/1/12 11:44:28:022 IST] 00000029 ApplicationMg A WSVR0217I：停止应用程序：GlobalDorfEAR [8/1/12 11:44:28:038 IST] 00000029 ServletWrappe I SRVE0253I: [GlobalDorfEAR] [/dorf] [MenuInitServlet]：销毁成功。[8/1/12 11:44:28:069 IST] 00000029 ServletWrappe I SRVE0253I：[GlobalDorfEAR] [/dorf] [action]：销毁成功。[8/1/12 11:44:28:132 IST] 00000029 EJBContainerI I WSVR0041I：停止 EJB jar：GlobalDorfEJB.jar

* * *

我可以看到服务器已启动，但应用程序正在自动停止并启动。

[8/8/12 11:36:51:117 IST] 0000001f AdminHelper A ADMN1010I：尝试停止 GlobalDorfEAR 应用程序。（用户 ID = customRealm/wasadm01）[8/8/12 11:36:51:133 IST] 0000001f ApplicationMg A WSVR0217I：停止应用程序：GlobalDorfEAR

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-03T00:18:47.230

自动发布是否开启？这可能会导致应用程序在每次发生变化时发布。自动发布加上“自动构建”可能是一个可能的原因。

正如康斯坦丁所提到的，FFDC 日志说什么？

还要注意日志 *ADMN1010I 中的这一行：尝试停止 GlobalDorfEAR 应用程序。（用户 ID = customRealm/wasadm01）*。

它明确指出**wasadm01**请求停止此应用程序。我猜这是在您的 RSA 中指定的用于连接到 WAS 服务器的用户 ID。

# jquery - jQuery XML 对象到字符串

> ID：11753677
> 
> 赞同：2
> 
> 时间：2012-08-01T06:26:34.700
> 
> 标签：jquery, xml-parsing

我在 jQuery 中有一个 XML 对象：

```
var xml_srt = ^xml string^;    
xmlDoc = $.parseXML( xml_string );
xml = $( xmlDoc ); 
```

它工作正常，但我不知道如何从这个对象制作一个字符串。

如果我使用`console.log(xml);`，那很好。但我需要一个字符串。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T06:33:00.863

使用这个例子

```
<!DOCTYPE html>
<html>
<head>
  <script src="http://code.jquery.com/jquery-latest.js"></script>
</head>
<body>

<p id="someElement"></p>
<p id="anotherElement"></p>

<script>
var xml = "<rss version='2.0'><channel><title>RSS Title</title></channel></rss>",
    xmlDoc = $.parseXML( xml ),
    $xml = $( xmlDoc ),
    $title = $xml.find( "title" );

/* append "RSS Title" to #someElement */
$( "#someElement" ).append( $title.text() );

/* change the title to "XML Title" */
$title.text( "XML Title" );

/* append "XML Title" to #anotherElement */
$( "#anotherElement" ).append( $title.text() );
</script>

</body>
</html> 
```

更多信息：[http ://api.jquery.com/jQuery.parseXML/](http://api.jquery.com/jQuery.parseXML/)

# ios - EKEvent Startdate 无法在 iOS 5.1.1 中以编程方式设置

> ID：11753679
> 
> 赞同：1
> 
> 时间：2012-08-01T06:26:49.707
> 
> 标签：ios, ekevent

我正在尝试为 EKEvent startdate 属性分配日期，如下所示，代码为：

`My CustomEKEvent.h file`

```
@interface CustomEKEvent : EKEvent<NSCoding> 
{

} 
```

`My CustomEKEvent.m file`

```
-(id)initWithEvent:(EKEvent*)event

{

    self.startDate = event.startDate; // Whats wrong in this code? but its working fine in iOS 4.3

} 
```

输出是：

```
event.startDate :2012-07-25 06:30:00 +0000

self.startDate :(null) 
```

任何人都知道解决方案。让我知道。

提前致谢。

# c# - 从存储过程中获取返回值

> ID：11753683
> 
> 赞同：1
> 
> 时间：2012-08-01T06:27:18.077
> 
> 标签：c#, .net, sql-server, stored-procedures

如何从存储过程中获取返回值？

![在此处输入图像描述](../Images/f71cfca71e1f0340e2fca4d2f363054a.png)

我注意到存储过程自己返回一个整数。我需要在 C# 中获取它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:29:14.353

您可以在 C# 中使用 Return 参数来获取该值。如下所示

```
SqlParameter retval = sqlcomm.Parameters.Add("@return_value", SqlDbType.VarChar);
retval.Direction = ParameterDirection.ReturnValue;
sqlcomm.ExecuteNonQuery(); 
string retunvalue = (string)sqlcomm.Parameters["@return_value"].Value; 
```

请注意，您的过程必须返回一个值才能获取它：

```
create procedure [dbo].[usp_GetNewSeqVal]
       @SeqName nvarchar(255)
 as begin 
    declare @NewSeqVal int
    select @NewSeqVal  =1
   ---other statement
    return @NewSeqVal
 end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T06:31:31.463

检查以下代码：

```
SqlParameter retval = sqlcomm.Parameters.Add("@b", SqlDbType.VarChar);
retval.Direction = ParameterDirection.ReturnValue;
sqlcomm.ExecuteNonQuery(); // MISSING
string retunvalue = (string)sqlcomm.Parameters["@b"].Value; 
```

如需进一步参考检查链接：[Getting return value from stored procedure in C#](https://stackoverflow.com/questions/706361/getting-return-value-from-stored-procedure-in-c-sharp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T06:31:23.823

在您的 SP 中，您需要返回`KategoriId`. 默认情况下，SP 返回受最新插入、更新或删除语句影响的行数。

并确保您在 C# 和数据库列中使用正确的数据类型`KategoriId`来完成这项工作。过去当数据库列是时我遇到了问题，`Decimal`我试图将返回值分配给 an`int`并且它从来没有工作过。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-08-01T06:33:10.293

您可以`output`在存储过程中使用参数或使用`ExecuteScalar`代替`ExecuteNonQuery`.

# javascript - PhoneGap/Cordova：Google Maps API - 在我的位置上放置图钉

> ID：11753687
> 
> 赞同：2
> 
> 时间：2012-08-01T06:27:26.867
> 
> 标签：javascript, google-maps, cordova, google-maps-api-3

我可以在 PhoneGap 中使用 Google Maps API 在地图上显示我的位置。现在它只显示地图 - 没有 pindrop 或类似的东西。我想知道是否有人知道如何在您提出的位置上放置图钉？

我到目前为止的代码是：

```
//GEOLOCATION
            var onSuccess = function(position) {
                var myLat = position.coords.latitude;
                var myLong = position.coords.longitude;

                //MAP
                var mapOptions = {
                    center: new google.maps.LatLng(myLat, myLong),
                    zoom: 14,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                };

            var map = new google.maps.Map(document.getElementById("map_canvas"),
                                              mapOptions);

            };

            // onError Callback receives a PositionError object
            //
            function onError(error) {
                alert('code: '    + error.code    + '\n' +
                      'message: ' + error.message + '\n');
            }

            navigator.geolocation.getCurrentPosition(onSuccess, onError); 
```

如果有人能告诉我如何在那个位置放一个大头针，那真是太棒了！谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-01T06:35:40.950

找到了！[https://developers.google.com/maps/documentation/javascript/overlays#Markers](https://developers.google.com/maps/documentation/javascript/overlays#Markers)

调整了我的代码：

```
//GEOLOCATION
            var onSuccess = function(position) {
                var myLat = position.coords.latitude;
                var myLong = position.coords.longitude;

                //MAP
                var mapOptions = {
                    center: new google.maps.LatLng(myLat, myLong),
                    zoom: 14,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                };

            var map = new google.maps.Map(document.getElementById("map_canvas"),
                                              mapOptions);

                var marker = new google.maps.Marker({
                                                    position: new google.maps.LatLng(myLat, myLong),
                                                    map: map,
                                                    title:"Hello World!"
                                                    });

            };

            // onError Callback receives a PositionError object
            //
            function onError(error) {
                alert('code: '    + error.code    + '\n' +
                      'message: ' + error.message + '\n');
            }

            navigator.geolocation.getCurrentPosition(onSuccess, onError); 
```

# plone - 在以编程方式创建的敏捷项目上设置字段默认值

> ID：11753690
> 
> 赞同：5
> 
> 时间：2012-08-01T06:27:56.273
> 
> 标签：plone, dexterity

我有一个 Dexterity 内容类型，基于`plone.directives.form.Schema`它有许多用于分配默认值的表单提示：

```
@form.default_value(field=ITrial['start_on'])
def default_start_on(data):
    return datetime.now() 
```

一些默认值更复杂，传回本身就是 Dexterity 类型实例的对象。这些对象对于主要类型的设置至关重要，主要类型由各种事件触发。

我现在正在测试中。理想情况下，我希望能够使用类似的东西：

```
item = createContentInContainer(folder, 'ctcc.model.trial', 'item') 
```

也就是说，我希望项目能够获取默认值，而不必手动传递给构造函数。

如果我正在使用，`zope.schema`我可以使用 FieldProperty 来设置模式字段的代理。是否有与 Dexterity 等效的东西，或者可能是通过创建表单来推送对象的功能？

**解决方案：**我最终选择了 David 的选项 #1，拦截`ObjectCreatedEvent`.

```
@grok.subscribe(ITrial, IObjectCreatedEvent)
def create_trial(trial, event):            
    if getattr(trial, 'start_on', None) is None:
        trial.start_on = default_start_on(None) 
```

感觉就像我在复制表单行为的一部分，但至少它使用的是提供表单默认值的相同功能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T00:58:39.727

正如您所发现的，@form.default_value 装饰器受到 z3c.form 表单的尊重，但在以其他方式创建项目时则不然。你有几个选择：

1.  为您的内容类型编写一个 ObjectCreatedEvent 处理程序，该处理程序设置必要的默认值。这是最简单的实现方法，但如果此事件的其他处理程序需要这些值，则可能无法正常工作。

2.  创建您自己的 Dexterity 通用 Item 类的子类，并使用它而不是 Item 作为您的内容类型的基础。然后你可以自定义`__init__`方法来设置你想要的任何东西。但是，如果您已经有一些内容项，这将需要迁移现有内容项。

3.  这是一个更复杂的选项。替换用于构造内容类型的工厂实用程序。createContentInContainer 最终会查找名称与内容类型的 FTI 的工厂属性相同的 IFactory 实用程序。默认实现在，`plone.dexterity.factory`但您可以将其替换为功能更多的不同实现。

# unix - 从 SAS UNIX 迁移到 WINDOWS 环境

> ID：11753693
> 
> 赞同：-2
> 
> 时间：2012-08-01T06:28:08.800
> 
> 标签：unix, sas

目前我的 SAS EG 在 UNIX 环境中。但是我的数据集和代码在本地窗口中。因此，即使我可以从本地窗口访问数据集和代码，我也无法在 SAS Server 中运行代码，因为我无法在 Windows 环境中创建库，我需要创建它来存储输出数据集。所以有什么机制通过我可以连接这两个平台，以便我可以在 SAS 服务器上运行来自 EG 的 SAS 程序？

仅举一个在 EG 中运行程序以访问 Window PC 时的示例：如果我使用的是命令：

libname 文件夹 "c:\folder\folder_a";

未创建此库。没有显示错误，但显示“库文件夹不存在”。

我想知道为什么会这样以及解决方案是什么。

提前致谢。

问候，

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-01T10:13:12.257

恐怕你必须在 Unix SAS 服务器上创建输出数据，最好是在 Windows 上的 SAS 表示，然后将文件下载到 Windows（为了分发它？）。

要以本机主机表示形式（在您的情况下为 Unix）生成 SAS 数据集，请使用 OUTREP 库名称或数据集选项。您的 libname 应如下所示：

```
libname windata "/sasdata/windata" OUTREP=WINDOWS_32;/* or WINDOWS_64"/ 
```

以便数据是 Windows 上 SAS 原生格式的原生数据。

比，您应该能够通过 WinSCP 或类似的工具下载文件。

如果您不想这样做，则必须使在 Unix 上运行的 SAS 进程可以访问 Windows 目录作为共享文件夹。这实际上不是 SAS 特定的任务。

您必须从 Unix 挂载 windows 共享 - 可能类似于[http://www.cyberciti.biz/faq/access-windows-shares-from-linux/](http://www.cyberciti.biz/faq/access-windows-shares-from-linux/)或 [http://www.unix.com/unix- dummies-questions-answers/14769-how-can-i-view-windows-2003-folder-unix.html](http://www.unix.com/unix-dummies-questions-answers/14769-how-can-i-view-windows-2003-folder-unix.html)将为您提供帮助，具体取决于您的环境中可用的工具。将共享挂载到 Unix 后，只需在挂载目录中创建一个 libname，如上所述。

# android - NFC 通信：启用 NFC 的手机与标签接触时会发生什么？

> ID：11753696
> 
> 赞同：-1
> 
> 时间：2012-08-01T06:28:29.587
> 
> 标签：android, nfc

我一直在阅读有关 NFC 的信息，但找不到 NFC 手机与 NFC 标签接触时发生的确切过程或步骤顺序？

更详细地说，我知道天线、线圈等如何产生磁场以及如何传输数据，但我想知道第一阶段是否发生了握手？或者在实际共享照片或任何信息之前，在 2 部启用 NFC 的手机之间传输了哪些数据。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T07:16:55.253

出于解释的目的，假设磁场生成等的实际硬件通信是通信的硬件层。

在 android OS 层上，当您启用“Nfc”设置时，有一个名为 NfcManager（一种服务）的东西在后台运行。该服务负责转换从以下层接收的原始字节数据，这可能是内核或硬件层，具体取决于您如何看待它。

一旦服务接收到它，[这个链接应该会给你一个](http://developer.android.com/guide/topics/connectivity/nfc/nfc.html#dispatching)关于它是如何被推送到应用程序中的基本概念！

就 2 部 NFC 手机而言，这不是一个非常明智的意见，但我从纯粹的经验中猜测。在需要发送低于一定数量的数据的情况下，不会发生“配对”。它识别另一个第二个 NFC 设备并简单地发送数据。如果是照片或任何更大的东西，我会假设它使用蓝牙配对并发送数据。

# c# - 如何减少 Internet explore 中的服务器超时

> ID：11753713
> 
> 赞同：0
> 
> 时间：2012-08-01T06:29:31.423
> 
> 标签：c#, asp.net, web-config

我正在开发一个 Web 应用程序并发布到服务器。它有一些有效的进程，所以它在 Internet Explorer 中超时并且在 Mozilla 中运行。如何减少 Internet Explorer 超时。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:43:12.637

您可以在 web config 中编写此代码..

```
 <sessionState timeout="330"></sessionState> 
```

即使您可以将其设置为

```
 global.asax 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:35:01.767

跑

```
Regedit.exe 
```

去

```
HKEY_CURRENT_USER > Software > Microsoft > Windows > CurrentVersion > InternetSettings 
```

右键选择

```
new DWORD 
```

命名它：`KeepAliveTimeout`

给例如`120000`两分钟，然后尝试是否足够。

# iphone - 在我们的 iPhone 应用程序中打开 iPhone 地图作为视图之一？

> ID：11753718
> 
> 赞同：0
> 
> 时间：2012-08-01T06:30:04.067
> 
> 标签：iphone, objective-c, google-maps, ios4, mkmapview

在我的应用程序中，我想使用本机 iPhone 应用程序。为此，我得到如下代码

```
UIApplication *app = [UIApplication sharedApplication];
[app openURL:[NSURL URLWithString: @"http://maps.google.com/maps?q=London"]]; 
```

它工作正常。但它会来自我的应用程序。我想将其显示为我的屏幕之一，例如我们在我们的应用程序中打开相机作为屏幕。同样，我想将 iPhone Native App 显示为我的应用程序中的一个视图。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:32:51.310

您不能在您的应用程序中将另一个应用程序显示为直接视图。相反，您需要将 MKMapKit 框架添加到您的项目中，在您的项目中创建一个新的 UIViewController 并在 Interface Builder 中添加 MapKit UI 元素。您可以在线找到有关如何在您的应用程序中使用 MapKit 来加载地图上的特定区域并使用它做一些非常简洁的事情的教程。

**编辑：** [http ://www.raywenderlich.com/2847/introduction-to-mapkit-on-ios-tutorial](http://www.raywenderlich.com/2847/introduction-to-mapkit-on-ios-tutorial)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:32:52.413

如果你想要一个原生地图，你需要使用 MKMapView。

如果您想将其传递给这样的位置，您还需要进行一些地理编码。Apple 提供了所有这些 API，但它不是一行代码！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T06:48:55.210

我想你不想使用`MKMapKit`你没有提到的。如果您想在您的应用程序中显示带有请求 URL 的网页，那么您可以使用`UIWebView`.

您可以在 Web 视图中加载您的请求 URL：-

```
NSString * urlStr = @"http://maps.google.com/maps?q=London" ;
NSURL *url = [NSURL URLWithString:urlStr];
[webview loadRequest:[NSURLRequest requestWithURL:url]]; 
```

(2)**我想在我的应用程序中将 iPhone Native App 显示为我的视图之一**

为此，您不能。

# android - 如何正确扩展布局类？

> ID：11753719
> 
> 赞同：25
> 
> 时间：2012-08-01T06:30:04.353
> 
> 标签：android, android-layout

我想做一个自定义的RelativeLayout，但我不断收到这个错误：

```
08-01 02:28:19.385: E/AndroidRuntime(9989): FATAL EXCEPTION: main
08-01 02:28:19.385: E/AndroidRuntime(9989): android.view.InflateException: Binary XML     file line #1: Error inflating class com.stevenschoen.putio.CheckableRelativeLayout
08-01 02:28:19.385: E/AndroidRuntime(9989):     at     android.view.LayoutInflater.createView(LayoutInflater.java:596)
08-01 02:28:19.385: E/AndroidRuntime(9989):     at     android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:687)
08-01 02:28:19.385: E/AndroidRuntime(9989):     at     android.view.LayoutInflater.inflate(LayoutInflater.java:466)
08-01 02:28:19.385: E/AndroidRuntime(9989):     at     android.view.LayoutInflater.inflate(LayoutInflater.java:396)

...

08-01 02:28:19.385: E/AndroidRuntime(9989): Caused by: java.lang.NoSuchMethodException:     <init> [class android.content.Context, interface android.util.AttributeSet]
08-01 02:28:19.385: E/AndroidRuntime(9989):     at     java.lang.Class.getConstructorOrMethod(Class.java:460)
08-01 02:28:19.385: E/AndroidRuntime(9989):     at     java.lang.Class.getConstructor(Class.java:431)
08-01 02:28:19.385: E/AndroidRuntime(9989):     at     android.view.LayoutInflater.createView(LayoutInflater.java:561) 
```

这是我的课：

```
public class CheckableRelativeLayout extends RelativeLayout implements
        Checkable {

    public CheckableRelativeLayout(Context context) {
        super(context);
        // TODO Auto-generated constructor stub
    }

    private boolean isChecked;
//  List<Checkable> checkableViews = new ArrayList<Checkable>();

    // @see android.widget.Checkable#isChecked()
    public boolean isChecked() {
        return isChecked;
    }

    // @see android.widget.Checkable#setChecked(boolean)
    public void setChecked(boolean isChecked) {
        this.isChecked = isChecked;
//      for (Checkable c : checkableViews) {
            // Pass the information to all the child Checkable widgets
//          c.setChecked(isChecked);
//      }
    }

    // @see android.widget.Checkable#toggle()
    public void toggle() {
        this.isChecked = !this.isChecked;
//      for (Checkable c : checkableViews) {
            // Pass the information to all the child Checkable widgets
//          c.toggle();
//      }
    }

    @Override
    protected void onFinishInflate() {
        super.onFinishInflate();

        final int childCount = this.getChildCount();
        for (int i = 0; i < childCount; ++i) {
            findCheckableChildren(this.getChildAt(i));
        }
    }

    /**
     * Add to our checkable list all the children of the view that implement the
     * interface Checkable
     */
    private void findCheckableChildren(View v) {
        if (v instanceof Checkable) {
//          this.checkableViews.add((Checkable) v);
        }

        if (v instanceof ViewGroup) {
            final ViewGroup vg = (ViewGroup) v;
            final int childCount = vg.getChildCount();
            for (int i = 0; i < childCount; ++i) {
                findCheckableChildren(vg.getChildAt(i));
            }
        }
    }
} 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：79
> 
> 时间：2012-08-01T06:33:52.900

您只实现了一个构造函数。为了能够在 xml 中使用视图，您应该从 View 实现 2 个其他构造函数：

```
public CheckableRelativeLayout(Context context, AttributeSet attrs) {
    super(context, attrs);
}

public CheckableRelativeLayout(Context context, AttributeSet attrs, int defStyle) {
    super(context, attrs, defStyle);
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-01T06:35:11.600

您忘记覆盖构造函数，每个布局都可以从代码或 XML 创建，并且为了创建使用不同的构造函数，覆盖另一个

# three.js - 如何在jsfiddle中加载纹理

> ID：11753720
> 
> 赞同：1
> 
> 时间：2012-08-01T06:30:08.127
> 
> 标签：three.js

如何在 jsfiddle 中使用 THREE.ImageUtils.loadTexture()。我创建了一个演示 [ [http://jsfiddle.net/georgeneil/cfrsj/10/](http://jsfiddle.net/georgeneil/cfrsj/10/) ]。在这里我无法查看纹理。我将点呈现为黑色。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-01T14:31:13.410

您可以对图像进行[base64 编码](http://www.greywyvern.com/code/php/binary2base64/)。然后在代码中添加字符串。

更新了 jsfiddle：http: [//jsfiddle.net/cfrsj/11/](http://jsfiddle.net/cfrsj/11/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-29T17:55:03.127

问题是您不能使用外部托管的纹理。这是我创建的一些代码，用于在平面上放置纹理。我相信我从 doob 先生的一个项目中改编了这段代码：

```
img = new Image();
texture = new THREE.Texture(img); 
    img.onload = function() {
    texture.needsUpdate = true;
    makeParticle();
    };
img.src = "http://www.aerotwist.com/tutorials/creating-particles-with-three-js/images/particle.png";

geometry = new THREE.PlaneGeometry( 438, 695, 200 );
material = new THREE.MeshBasicMaterial( {map: texture} ); 
```

# mod-rewrite - mod_rewrite，旧 URL 到新 URL

> ID：11753722
> 
> 赞同：0
> 
> 时间：2012-08-01T06:30:14.127
> 
> 标签：mod-rewrite

迁移站点并尝试保留一些书签和搜索结果

旧网址

```
topic/0/14.php 
```

新网址

```
Module/news/filter/topic^sub^10282/page1.htm 
```

看起来这应该很简单，我试过但是

```
RewriteRule ^topic/0/14\.php /Module/news/filter/topic^sub^10282/page1.htm? [R=301,L] 
```

导致重定向到

```
example.com/home/example/domains/public_html/Module/news/filter/topic^sub^10282/page1.htm 
```

...换句话说，重定向包含完整的 URI，而不是来自根目录。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T07:31:50.197

你试过使用`RewriteBase /`吗？

看看[http://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewritebase](http://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewritebase)。

麦克风。

# vba - Excel vba，比较两个工作簿的行并替换

> ID：11753724
> 
> 赞同：0
> 
> 时间：2012-08-01T06:30:29.143
> 
> 标签：vba, excel, compare, rows

这是我要实现的目标的一些背景知识。

我有一个 excel 文件，其中包含 10 张工作表，每张工作表都包含多行数据。此工作簿发送给不同的人，每个人填写各自的信息，仅在 A、B 列中。我制作了一个 vba 脚本，它遍历所有填写的工作簿，并检查哪些行有单元格`Ax`，已`Bx`填写。然后它将它们复制到一个新的工作簿中。

所以我现在拥有的是：

1.  仅包含 A、B 列已填充的行的工作簿。
2.  包含所有未填充行的工作簿。（第一个）

我现在要做的是逐行检查，并在工作簿的**B表 1 中找到例如工作簿****A**的 sheet1 的第 1 行，减去列 A、B 。找到该行后，我需要用该行替换工作簿的**B**行从工作簿**A**。

 ******所以最后我会留下一个主工作簿（以前是工作簿**B**），其中包含已填充和未填充的行。

我希望我没有把这弄得太复杂。任何关于什么是实现这一目标的最佳方法的见解将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-03T09:20:36.307

就像我在评论中提到的那样，可以将其`.Find`用于您想要实现的目标。下面的代码示例打开工作簿`A`和`B`. 然后，它遍历 Workbook 中 Col C 的值，`A`并尝试在 Workbook 的 Col C 中查找该值的出现`B`。如果找到匹配项，则会比较该行中的所有列。如果所有列都匹配，那么它会根据 workbook`B`中的值写入工作簿的 Col A 和 Col B `A`。一旦找到匹配项，它将`.FindNext`用于 Col C 中的进一步匹配项。

要对此进行测试，请将您给我的文件分别保存为`C:\A.xls`和`C:\B.xls`。现在打开一个新工作簿并在模块中粘贴此代码。该代码正在将`Sheet7`工作簿`A`与`Sheet7`工作簿进行比较`B`

*我相信你现在可以为其余的表格修改它*

**久经考验**（见帖子末尾的快照）

```
Sub Sample()
    Dim wb1 As Workbook, wb2 As Workbook
    Dim ws1 As Worksheet, ws2 As Worksheet
    Dim ws1LRow As Long, ws2LRow As Long
    Dim i As Long, j As Long
    Dim ws1LCol As Long, ws2LCol As Long
    Dim aCell As Range, bCell As Range
    Dim SearchString As String
    Dim ExitLoop As Boolean, matchFound As Boolean

    '~~> Open File 1
    Set wb1 = Workbooks.Open("C:\A.xls")
    Set ws1 = wb1.Sheets("sheet7")
    '~~> Get the last Row and Last Column
    With ws1
        ws1LRow = .Range("C" & .Rows.Count).End(xlUp).Row
        ws1LCol = .Cells(1, .Columns.Count).End(xlToLeft).Column
    End With

    '~~> Open File 2
    Set wb2 = Workbooks.Open("C:\B.xls")
    Set ws2 = wb2.Sheets("sheet7")
    '~~> Get the last Row and Last Column
    With ws2
        ws2LRow = .Range("C" & .Rows.Count).End(xlUp).Row
        ws2LCol = .Cells(1, .Columns.Count).End(xlToLeft).Column
    End With

    '~~> Loop Through Cells of Col C in workbook A and try and find it
    '~~> in Col C of workbook 2
    For i = 2 To ws1LRow
        SearchString = ws1.Range("C" & i).Value

        Set aCell = ws2.Columns(3).Find(What:=SearchString, LookIn:=xlValues, _
                    LookAt:=xlWhole, SearchOrder:=xlByRows, SearchDirection:=xlNext, _
                    MatchCase:=False, SearchFormat:=False)

        ExitLoop = False

        '~~> If match found
        If Not aCell Is Nothing Then
            Set bCell = aCell

            matchFound = True

            '~~> Then compare all columns
            For j = 4 To ws1LCol
                If ws1.Cells(i, j).Value <> ws2.Cells(aCell.Row, j).Value Then
                    matchFound = False
                    Exit For
                End If
            Next

            '~~> If all columns matched then wrtie to Col A/B
            If matchFound = True Then
                ws2.Cells(aCell.Row, 1).Value = ws1.Cells(i, 1).Value
                ws2.Cells(aCell.Row, 2).Value = ws1.Cells(i, 2).Value
            End If

            '~~> Find Next Match
            Do While ExitLoop = False
                Set aCell = ws2.Columns(3).FindNext(After:=aCell)

                '~~> If match found
                If Not aCell Is Nothing Then
                    If aCell.Address = bCell.Address Then Exit Do

                    matchFound = True

                    '~~> Then compare all columns
                    For j = 4 To ws1LCol
                        If ws1.Cells(i, j).Value <> ws2.Cells(aCell.Row, j).Value Then
                            matchFound = False
                            Exit For
                        End If
                    Next

                    '~~> If all columns matched then wrtie to Col A/B
                    If matchFound = True Then
                        ws2.Cells(aCell.Row, 1).Value = ws1.Cells(i, 1).Value
                        ws2.Cells(aCell.Row, 2).Value = ws1.Cells(i, 2).Value
                    End If
                Else
                    ExitLoop = True
                End If
            Loop
        End If
    Next
End Sub 
```

**快照**

***前***

![在此处输入图像描述](../Images/bac37a62183a586a595bb97bd5abe994.png)

***后***

![在此处输入图像描述](../Images/8f884c6ade0576359051cbd316798da9.png)******

# sql-server - Sql Server 按周查询结果

> ID：11753725
> 
> 赞同：0
> 
> 时间：2012-08-01T06:30:34.220
> 
> 标签：sql-server, sql-server-2008

我有以下表格

```
Order

ID OrderDate   Quantity Item
1  1 jan 2012     5      A
2  6 jan 2012     10     A
3  9 jan 2012     3      B
4  16 jan 2012    2      C

Order Shipped

ID  SuppliedOn  Quantity  Item    OrderId
1   7 Jan 2012       3      A       1
2   9 Jan 2012       2      A       1
3   9 Jan 2012       10     A       2
4   17 jan 2012      3      B       3 
```

我想列出按周获得的订单和提供的订单

喜欢

```
Week                       Total_Order_got    Total_Order_Supplied  Item 
1st week Jan(2 jan 2012)        15                   3                A
2nd Week Jan(9 jan 2012)         0                   12               A
2nd Week Jan(9 jan 2012)         3                    0               B
3rd Week Jan(16 jan 2012)        0                    3               B
3rd Week Jan(16 jan 2012)        2                    0               C 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T08:15:01.173

这是解决方案：

```
Select my.Mydate, MAX(ThisWeekStart) as ThisWeekStart , SUM(oqty) as oqty,SUM(sqty) as sqty,item from
(Select DatePart(week,o.orderdate) as Mydate,
    dateadd(wk, datediff(wk, 0, o.orderdate), 0) as ThisWeekStart,
 o.qty as oqty, 0 as sqty,  o.item
FROM [order] o 
UNION
SELECT DatePart(week,s.suppliedon) as suppliedon,
dateadd(wk, datediff(wk, 0, s.suppliedon), 0) as ThisWeekStart,
 0 as oqty, s.qty as sqty, s.item
FROM supply s) as my
GROUP BY my.Mydate, item 
```

让我知道它是否对你有用。

# android - 随着速度的变化，围绕其中心旋转速度计针规

> ID：11753730
> 
> 赞同：0
> 
> 时间：2012-08-01T06:31:07.940
> 
> 标签：android, center, angle, image-rotation

![车速表](../Images/d4b0b4b8e554db164ab12fce8e0b7e6c.png)

大家好，

我编写了一个应用程序，其中我有一个速度计，其指针垂直设置为 90 度，我试图以每秒变化的速度围绕其中心旋转指针（我在变化的文本视图中显示速度随机从 0 到 120)

我从远程服务获得速度并在文本视图中显示。

因此，随着速度的变化，速度表针规应围绕其中心相应变化。我的意思是，如果速度为 30，则速度表中的指针应为 30，依此类推。

我的代码不能正常工作，如何解决这个问题？

总是感谢帮助，谢谢。

这是我的代码：

```
pointer1 = (ImageView) findViewById(R.id.pointer1);

double degrees= speed;
double angle = degrees * 2 * Math.PI / 360.0;

for( speed=0;speed<120;speed++){
    RotateAnimation rAnimAntiClockWise = new RotateAnimation(180-0.0f, 180-speed,
        Animation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF, 0.5f);

    rAnimAntiClockWise.setInterpolator(new LinearInterpolator());
    rAnimAntiClockWise.setDuration(100);
    rAnimAntiClockWise.setFillAfter(true);
    rAnimAntiClockWise.setDuration(10000);
    rAnimAntiClockWise.setRepeatCount(-1);
    rAnimAntiClockWise.setRepeatMode(2);
    pointer1.startAnimation(rAnimAntiClockWise); 
}

private void invokeService() {
    if (conn == null) {

    } else {
        try {
        System.out.println(remoteService);

        int speed = remoteService.getSpeed();

        System.out.println("myspeed" + speed);

        TextView r = (TextView) findViewById(R.id.text2);
        r.setText("" + Integer.toString(speed));
            Log.d(getClass().getSimpleName(), "invokeService()");

        } catch (RemoteException re) {
        Log.e(getClass().getSimpleName(), "RemoteException");
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T05:52:39.027

试试这个代码：

```
currentDegree=60;
speedDisplayTxt.addTextChangedListener(new TextWatcher()
    {

        public void onTextChanged(CharSequence arg0, int arg1, int arg2,
                int arg3) {
            fromDegrees= currentDegree;
            String speed=txt.getText().toString();
            toDegree= //convert speed to angle here.
            RotateAnimation NeedleDeflection = new RotateAnimation(fromDegrees, toDegrees, ...){
            protected void applyTransformation(float interpolatedTime,Transformation t) {
                float currentDegree = fromDegrees+(toDegrees-fromDegrees)*interpolatedTime;
                super.applyTransformation(interpolatedTime, t);
                };
            NeedleDeflection.setDuration(duration); 
            NeedleDeflection.setFillAfter(true);
            needle.startAnimation(NeedleDeflection);

                  }
             }          

    }

  }); 
```

# excel - 批处理文件打开 Excel 文件和宏

> ID：11753735
> 
> 赞同：0
> 
> 时间：2012-08-01T06:31:21.063
> 
> 标签：excel, batch-file, vba

我想创建一个批处理文件，当我运行这个文件时，应该打开一个包含一些列的 excel 文件。

假设我单击批处理文件，带有列名称、项目、ID 的 excel 文件也应该包含在 excel 文件中。

同样，应该打开一个宏。

请帮忙。我对此一无所知。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T09:22:55.933

我认为不可能用纯批处理来自动化 excel。

为什么不：

*   创建一个包含默认列和宏的“模板”excel文件
*   有一个批处理文件复制此模板 ( `copy template.xslx newfile.xslx`) 文件并打开它 ( ``Start newfile.xslx`)。

对于新文件，您要么必须生成一个随机名称或基于时间戳的名称，要么让用户在制作副本之前输入名称。

# css - 行高影响第一行上方和最后一行之后的间距

> ID：11753740
> 
> 赞同：16
> 
> 时间：2012-08-01T06:32:09.430
> 
> 标签：css

我在侧标题中有一个带有多行的文本。想要增加两条线的间距，所以我设置了一个 line-height。当我这样做时，它不仅增加了两条线之间的间距，还增加了第一条线上方的间距（可能低于第二条线）。我怎样才能只增加两条线之间的间距，而不增加上下。

我知道这是一种行为`Line-height`。但只是好奇是否有任何好的解决方案。

**这只是我要问的一个例子。**

Jsfiddle：http: [//jsfiddle.net/jitendravyas/V3eWV/](http://jsfiddle.net/jitendravyas/V3eWV/)

![在此处输入图像描述](../Images/be77aafb2369814533b6c91875070e74.png)

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-01T07:17:22.207

您可以为此使用负边距，但需要牢记以下几点：

`line-height`是一件有趣的事情。根据[CSS2.1](http://www.w3.org/TR/CSS2/visudet.html#line-height)，它没有指定 line-height 而是指定 line-blocks 的最小高度：

> 在内容由行内元素组成的块容器元素上，'line-height' 指定元素内行框的*最小*高度。最小高度由基线上方的最小高度和基线下方的最小深度组成，就像每个行框都以具有元素字体和行高属性的零宽度行内框开始一样。我们称那个假想的盒子为“支柱”。（这个名字的灵感来自 TeX。）。

行框在[9.4.2 行内格式化上下文](http://www.w3.org/TR/CSS2/visuren.html#inline-formatting)中定义：

> 在行内格式化上下文中，框从包含块的顶部开始水平排列，一个接一个。这些框之间会考虑水平边距、边框和填充。这些框可以以不同的方式垂直对齐：它们的底部或顶部可以对齐，或者它们中文本的基线可以对齐。包含形成一条线的框的矩形区域称为***线框。***

这在[CSS3](http://www.w3.org/TR/css3-linebox/#line-stacking-shift)中并没有太大变化，至少如果你不改变`line-stacking`. 但是，没有直接针对您的问题的属性：您无法更改 的`line-height`，`::first-line`它将始终被应用。

也就是说，暂时使用负边距。更好的是，将您的元素包装在一个通用容器中。通过使用`:first-child`，`:last-child`您可以添加任意数量的元素。

### [例子](http://jsfiddle.net/V3eWV/12/)

```
<div>
    <h1>I've a text in side heading with multiple lines. Want the spacing the two lines to increase, so I set a line-height. When I do this, not only does it increase space between the two lines, it also increases spacing above the first line.</h1>    
    <h1>I've a text in side heading with multiple lines. Want the spacing the two lines to increase, so I set a line-height. When I do this, not only does it increase space between the two lines, it also increases spacing above the first line.</h1>
</div> 
```

```
body {padding:30px;background:yellow;border:1px solid red;margin:0}
div{background:red;margin:0;padding:0;border:1px solid green;}
h1{line-height:2em;}
div > h1:first-child{
    margin-top:-.25em;
}
div > h1:last-child{
    margin-bottom:-.25em;
} 
```

# javascript - Chrome 正在缓存一个 HTTP PUT 请求

> ID：11753751
> 
> 赞同：10
> 
> 时间：2012-08-01T06:33:02.243
> 
> 标签：javascript, google-chrome, jquery, backbone.js

我对 Chrome 有这个奇怪的问题。它经常出现缓存 PUT 请求。

**详细信息：**我有一个使用backbone.js 的应用程序，当尝试对模型进行一些更改时（骨干网自动生成一个PUT 请求），Chrome 只是不会将该请求发送到服务器。它在 Firefox 和 IE 中运行良好（到目前为止还没有在 Safari 中看到这个问题）。

这是 Chrome 开发人员工具的网络选项卡的屏幕截图。如您所见，PUT 请求的响应正在从缓存中返回（请求没有命中服务器！！） ![Chrome 缓存 PUT 请求](../Images/8e1980c2319c0f3f80bf301edb5fc7b8.png)

这是同一请求的标头详细信息的屏幕截图。再一次，很明显 Chrome 不会费心向服务器发送 PUT 请求。 ![Chrome 缓存的 PUT 请求标头](../Images/448861bb1191aeb78959953dc86ddc11.png)

请求的有效负载是 JSON 数据。关于为什么会发生这种情况/我做错了什么的任何想法？

**更新：** Chromium 已经确认这确实是一个[错误](http://code.google.com/p/chromium/issues/detail?id=136320)（感谢 Jan Hančič）。

**临时解决方案** 我最终覆盖了`Backbone.sync`方法并将时间戳附加到 PUT、POST 和 DELETE 请求的查询字符串中，以便它们始终是唯一的：

```
if(!options.data && model && (method == 'create' || method == 'update' || method == 'delete')) {
    params.url += (params.url.indexOf('?') == -1 ? '?' : '&') + '_=' + new Date().getTime();
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-01T07:25:26.143

我使用额外的参数来避免缓存：

```
url += '?_dc=' + Math.random().toFixed(20).replace('.', ''); 
```

我不在服务器端解释这个参数。

**编辑：**除了 chrome 之外，还有很多东西可以缓存请求——例如用户的代理服务器。我认为附加查询参数是避免缓存的好方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T14:11:54.037

Backbone 使用 jQuery 或 Zepto 发出 AJAX 请求。假设您使用的是 jQuery，请关闭缓存。

运行此命令以在整个应用程序中关闭缓存，这样您就不必担心缓存：

```
$.ajaxSetup({
      cache : false
}); 
```

如果保持缓存对您的业务很重要，我认为您可以对特定的无缓存调用执行以下操作：

```
model.save({}, {cache:false}); 
```

# .net - 如何识别网络接口是 LAN 或 Wifi 还是外部

> ID：11753757
> 
> 赞同：2
> 
> 时间：2012-08-01T06:33:26.927
> 
> 标签：.net, c#-4.0, network-programming, network-protocols

我想区分我系统上可用的以太网。无论是 LAN 、 Wifi 还是由 VMWare 创建的东西。`I am only intrested for LAN`.

但是当我用以下代码枚举时：

```
 NetworkInterface[] adapters = NetworkInterface.GetAllNetworkInterfaces();
     foreach (NetworkInterface networkInterface in adapters)
     {

         Console.WriteLine("   {0}  ::: Interface Type {1} ::::ID {2}  \n", networkInterface.Name, networkInterface.NetworkInterfaceType, networkInterface.Id);
     } 
```

现在我如何区分`NetworkInterface.Description`和`NetworkInterface.NetworkInterfaceType`无用。

还有其他方法吗？

![在此处输入图像描述](../Images/370e9bad601f3579fe6fc4bfb9ce1527.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T09:55:49.020

查看使用 WMI 检索有关系统上网络适配器的更多详细信息。它会告诉您给定的适配器是有线网络适配器还是无线网络适配器，以及它是否确实是“物理”网络适配器。

[http://geekswithblogs.net/PsychoCoder/archive/2008/01/25/using_wmi_in_csharp.aspx](http://geekswithblogs.net/PsychoCoder/archive/2008/01/25/using_wmi_in_csharp.aspx)

[http://msdn.microsoft.com/en-us/library/windows/desktop/aa394216(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa394216(v=vs.85).aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-10T14:27:35.977

要确定适配器是否为 Wifi 适配器，您可以使用 root\WMI 命名空间中的 MSNdis_PhysicalMediumType 类。

不幸的是，VMware 适配器对 Windows 来说似乎是“真正的”物理适配器，并且具有 MAC 地址和 IP 地址等，因此很难区分它们。

如果您在 Windows 中运行 ncpa.cpl，您会注意到它们都与物理适配器相同。

# python - 字典按键长排序

> ID：11753758
> 
> 赞同：4
> 
> 时间：2012-08-01T06:33:36.073
> 
> 标签：python, sorting, dictionary, ordereddictionary

任何人都知道如何按密钥长度对这本字典进行排序？

```
{
    'http://ccc.com/viewvc/' : [{'type': 'web-servers', 'app': 'Apache', 'ver': '2.2.14'}, {'type': 'operating-systems', 'app': 'Ubuntu', 'ver': None}],    
    'http://bbb.com/' : [{'type': 'web-servers', 'app': 'Apache', 'ver': '2.2.22'}, {'type': 'programming-languages', 'app': 'PHP', 'ver': '5.3.10'}, {'type': 'cms', 'app': 'Drupal', 'ver': None}, {'type': 'operating-systems', 'app': 'Ubuntu', 'ver': None}, {'type': 'javascript-frameworks', 'app': 'jQuery', 'ver': None}, {'type': 'captchas', 'app': 'Mollom', 'ver': None}]
} 
```

预期输出：

```
{
    'http://bbb.com/' : [{'type': 'web-servers', 'app': 'Apache', 'ver': '2.2.22'}, {'type': 'programming-languages', 'app': 'PHP', 'ver': '5.3.10'}, {'type': 'cms', 'app': 'Drupal', 'ver': None}, {'type': 'operating-systems', 'app': 'Ubuntu', 'ver': None}, {'type': 'javascript-frameworks', 'app': 'jQuery', 'ver': None}, {'type': 'captchas', 'app': 'Mollom', 'ver': None}]
    'http://ccc.com/viewvc/' : [{'type': 'web-servers', 'app': 'Apache', 'ver': '2.2.14'}, {'type': 'operating-systems', 'app': 'Ubuntu', 'ver': None}],    

} 
```

我正在使用 Python 2.6。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-01T06:53:34.440

```
newlist = yourdict.items()
sortedlist = sorted(newlist, key=lambda s: len(s[0])) 
```

将为您提供一个新的**元组****列表，这些列表按***原始键*的长度排序。

 **** * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-01T06:38:24.803

### Python v2.7+

```
>>> from collections import OrderedDict
>>> d = {
    'http://ccc.com/viewvc/' : [{'type': 'web-servers', 'app': 'Apache', 'ver': '2.2.14'}, {'type': 'operating-systems', 'app': 'Ubuntu', 'ver': None}],    
    'http://bbb.com/' : [{'type': 'web-servers', 'app': 'Apache', 'ver': '2.2.22'}, {'type': 'programming-languages', 'app': 'PHP', 'ver': '5.3.10'}, {'type': 'cms', 'app': 'Drupal', 'ver': None}, {'type': 'operating-systems', 'app': 'Ubuntu', 'ver': None}, {'type': 'javascript-frameworks', 'app': 'jQuery', 'ver': None}, {'type': 'captchas', 'app': 'Mollom', 'ver': None}]
}
>>> OrderedDict(sorted(d.iteritems(), key=lambda x: len(x[0])))
OrderedDict([('http://bbb.com/', [{'ver': '2.2.22', 'app': 'Apache', 'type': 'web-servers'}, {'ver': '5.3.10', 'app': 'PHP', 'type': 'programming-languages'}, {'ver': None, 'app': 'Drupal', 'type': 'cms'}, {'ver': None, 'app': 'Ubuntu', 'type': 'operating-systems'}, {'ver': None, 'app': 'jQuery', 'type': 'javascript-frameworks'}, {'ver': None, 'app': 'Mollom', 'type': 'captchas'}]), ('http://ccc.com/viewvc/', [{'ver': '2.2.14', 'app': 'Apache', 'type': 'web-servers'}, {'ver': None, 'app': 'Ubuntu', 'type': 'operating-systems'}])]) 
```

### 早期的 Python 版本

请参阅[OrderedDict 了解旧版本的 python](https://stackoverflow.com/questions/1617078/ordereddict-for-older-versions-of-python)。***

# jquery - Jquery HTML 转义

> ID：11753763
> 
> 赞同：0
> 
> 时间：2012-08-01T06:34:15.210
> 
> 标签：jquery, html

我只是想用它们的 ascii 等效替换 html 括号。特别是`<`for`&lt;`和`>`for `&gt;`用于 pre 标记内的代码。

必须有一个非常简单的脚本来执行此操作，但我找不到它。

除了有效的东西之外，下面的代码行中的东西。

```
$('.code').each(function() {
var $this = $(this);
var t = $this.html();
$this.html(t.replace('/</g','&lt;').replace('/>/g','&gt;'));
}); 
```

任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T06:46:18.820

您应该使用 PHP 等对服务器端进行验证/替换，`<`因为`>`人们可以轻松禁用 JavaScript 并逃避客户端验证。客户端验证就像是让陌生人照看你的钱包。有时陌生人会是一个好人而不打开它。有时他们可能是小偷。

无论如何，这是一个 PHP 示例：

```
<?php
$raw = $_POST['text'];
$encoded = htmlentities($raw);
// Use the below code if you are inserting the result into a database
$db_encoded = mysqli_real_escape_string($conn, $encoded);
?> 
```

# wcf - WCF实体类中[Datacontract]属性的用途是什么

> ID：11753764
> 
> 赞同：1
> 
> 时间：2012-08-01T06:34:17.697
> 
> 标签：wcf, datacontracts

我正在使用 .net 4.0 和 wcf 服务。我有未使用`[Datacontract]`属性定义的业务实体类。

当我尝试检索少于 1000 条业务实体类类型的记录时，它可以正常工作，但是当我尝试检索超过 1000 条业务实体类类型的记录时，它会抛出此异常：

> *格式化程序在尝试反序列化消息时抛出异常：尝试反序列化参数 [http://tempuri.org/:Securities](http://tempuri.org/:Securities)时出错。InnerException 消息是“对象图中可以序列化或反序列化的最大项目数为“65536”。更改对象图或增加 MaxItemsInObjectGraph 配额。'。有关更多详细信息，请参阅 InnerException。*

当使用`[DataContract]`为业务实体类定义的属性时，问题得到了解决。

1.  那么`[DataContract]`属性在上述情况下起什么作用呢？
2.  `[DataContract]`使用有属性和没有属性定义的业务实体类有什么区别`[DataContract]`？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-01T06:44:53.280

通过应用`[DataContract]`到一个类，您告诉 WCF 您将明确声明哪些属性将由[DataContractSerializer](http://msdn.microsoft.com/en-us/library/ms733127.aspx)序列化。

默认情况下，如果没有`[DataContract]`，DCS 将序列化所有公共属性，例如，如果您序列化 House 的实例，Window 和 Door 也将被完全序列化。

```
public class Window
{
  public string Colour {get; set;}
  public bool IsClean {get; set; }
}

public class Door
{
  public string Colour {get; set;}
  public bool IsOpen {get; set; }
}

public class House
{
  public Door Door {get; set;}
  public Window Window {get; set; }
} 
```

通过比较，如果您`[DataContract]`在 House 上指定，则只有具有该`[DataMember]`属性的成员将被序列化，即在下面的情况下，只有 House 的 Address 属性将被序列化：

```
[DataContract]
public class House
{
  [DataMember]
  public string Address {get; set;}

  // Omitted DataMember!
  public Door Door {get; set;}
  public Window Window {get; set; }
} 
```

我猜测`[DataContract]`在您的情况下添加有效的原因*可能是*因为您已将其添加到根实体，但是在实体图“链”的某个位置，一个或多个复合实体没有该`[DataMember]`属性。如果您刚刚将根实体标记为`[DataContract]`没有`[DataMember]`s，那么只有根实体被序列化，从而避免了`MaxItemsInGraph`设置（但您的客户端显然不会收到任何未序列化的实体）。

# stackmob - 如何在 StackMob 中获取 STACKMOB_PUBLIC_KEY

> ID：11753767
> 
> 赞同：0
> 
> 时间：2012-08-01T06:34:22.133
> 
> 标签：stackmob

我在 Titanium 中使用 stackmob .... 我想在验证码中给出 STACKMOB_PUBLIC_KEY, STACKMOB_PRIVATE_KEY, STACKMOB_APP_NAME, STACKMOB_USER_OBJECT_NAME ...

有人可以帮我如何获得这些吗？？？

谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T19:31:22.147

您可以在“管理应用程序信息”页面上找到大部分此类信息： [https ://www.stackmob.com/platform/account/apps/reset](https://www.stackmob.com/platform/account/apps/reset)

默认情况下，STACKMOB_USER_OBJECT_NAME 是“用户”。[您可以通过访问https://www.stackmob.com/platform/api/schemas/](https://www.stackmob.com/platform/api/schemas/)来确认这一点。您应该看到一个名为“用户”的架构，如果您单击该架构的编辑，您将看到以下部分：

**模式名称和类型**

架构名称：用户
创建为用户对象：是

如果您已设置自己的用户架构，则将“用户”替换为该架构名称。

# solr - 获取最频繁的经纬度集

> ID：11753770
> 
> 赞同：1
> 
> 时间：2012-08-01T06:34:41.013
> 
> 标签：solr

我有很多文件，其中包含`latitude`和`longitude`字段。我想搜索这些文档并搜索出现**频率最高** `(latitude, longitude)`的对。

我也期待小错误；例如`(1.1121, 35.8788)`，`(1.1121, 35.8789)`但搜索必须足够强大才能处理。

# visual-studio-2010 - VS 2010安装完成后执行exe

> ID：11753773
> 
> 赞同：0
> 
> 时间：2012-08-01T06:34:50.307
> 
> 标签：visual-studio-2010, project, installation

我在 VS 2010 中创建了安装项目。

我想在用户单击 Finsh/Close 按钮​​后执行一个 exe。

创建安装项目时我需要遵循哪些步骤。

我听说过自定义操作。但我不知道如何使用它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:37:43.163

查阅MSDN的海量资源

*   [如何：在 Windows 安装程序安装期间使用 Visual Studio .NET 运行可执行文件](http://support.microsoft.com/kb/827018)
*   [演练：创建自定义操作](http://msdn.microsoft.com/en-us/library/d9k65z2d%28VS.80%29.aspx)

或者如果您想要一个 VBScript 自定义操作（exe 不是您的应用程序的一部分，并且您不想要一个新的 DLL 文件）请参阅

[Visual Studio 设置 - 项目和自定义操作](http://www.simple-talk.com/dotnet/visual-studio/visual-studio-setup---projects-and-custom-actions/)

# javascript - HTML使用变量显示文本

> ID：11753778
> 
> 赞同：3
> 
> 时间：2012-08-01T06:35:19.017
> 
> 标签：javascript, html

我在 HTML 中创建一个复选框，如下所示：

```
<input type="checkbox" name="vehicle" value="Bike" /> I have a bike<br /> 
```

现在，我想要`I have a bike`部分，即除了复选框之外的文本来自变量。如何才能做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-01T06:49:00.840

```
<input type="checkbox" name="vehicle" value="Bike" id="vehicle" />
<label for="vehicle" id="lblVehicle"></label><br />
<script>
var lblBike = 'I have a bike';
document.getElementById('lblVehicle').innerHTML = lblBike;
</script> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-01T06:38:37.163

```
var yourTextVariable = 'I have a cool bike';
document.getElementById('vehicle').innerHTML = yourTextVariable; 
```

# java - 如何在页面/部分中最好地返回 SQL 结果

> ID：11753780
> 
> 赞同：3
> 
> 时间：2012-08-01T06:35:24.833
> 
> 标签：java, sql, database, design-patterns

我在以下设计中需要帮助。我公开了一个`SQL select`从数据库执行的 Web 方法。问题是记录的数量可能很大，我不想在一次调用中返回所有记录。
所以我可以想到这些选项（在页面中返回结果）：
1）提供一个带参数的方法，以便客户端`recordStart`每次`recordEnd`请求。
2）修改方法以接受大小的结果集，`X`并以某种方式理解每个请求不是新请求而是返回下一个`X`记录。为了弄清楚每个客户端可以关联某种令牌，但问题是我不确定该令牌应该保留多长时间然后处理，以便将传入请求视为第一个请求或前一个请求的延续一。

那么我应该选择哪种设计，我将如何解决我提到的任何相关问题？
有没有更好的方法来处理这些问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:45:03.257

从我的角度来看：

*   每个请求都可以封装在一个请求对象中，该对象基本上包含一个偏移量和一个页面大小；
*   每个响应都可以封装在一个响应对象中，该对象基本上会有一个结果列表和一个总数，或者您可以保存用于构建响应的请求对象；

您在数据库上执行选择的界面将类似于：

```
public PageResponse getPage(PageRequest pageRequest); 
```

这种方法很容易扩展你的分页方法，想象在几个月后你需要对那个方法实现一个排序，你需要改变对它的每次调用。使用这种方法，您可以更改`PageRequest`对象并提供默认排序，不会破坏任何内容，您可以仅在真正需要它的调用中自定义排序。

在此方法中，您将需要两个不同的数据库选择：

*   一个是为了检索选择列表（将由响应保存并通过属性 resultList 访问的列表），这可以使用每个数据库的特定功能来限制您的结果集（`top`对于 sybase，`limit`对于 mysql 和 PG，`rownum`对于 Oracle，这将因一个数据库而异）；
*   另一种是在不分页的情况下获取所选记录的总数，以便在大数据集的情况下对数据执行分页。

您的问题的一个很好的参考是[Spring Data](http://www.springsource.org/spring-data/jpa)，它们有[Page](http://static.springsource.org/spring-data/data-commons/docs/1.3.0.RELEASE/api/org/springframework/data/domain/Page.html)和[PageRequest](http://static.springsource.org/spring-data/data-commons/docs/1.3.0.RELEASE/api/org/springframework/data/domain/PageRequest.html)这或多或少是您需要的。也许您可以使用他们的 API 来实现您的解决方案。

* * *

实际上，您的请求对象可能如下所示：

```
public class PageRequest {

    private int offset;
    private int pageSize;

    // getters and setters and convenience constructors with the given fields

}

public class PageResponse {

    private List<?> resultList;
    private int total;

    // getters and setters and convenience constructors with the given fields

} 
```

当然，您也可以使用泛型来获得您已经请求的响应保存类型，从而促进响应对象的使用，例如：

```
public <T> PageResponse<T> getPage(PageRequest<T> pageRequest); 
```

具有 Request 和 Response 的对象，例如：

```
public class PageRequest<T> {

    private int offset;
    private int pageSize;

    // getters and setters and convenience constructors with the given fields

}

public class PageResponse<T> {

    private List<T> resultList;
    private int total;

    // getters and setters and convenience constructors with the given fields

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:44:17.810

更好的方法和最广泛使用的是`1)`.

在这种情况下，sql过程和客户端代码之间没有约束（就像OOP中根据接口编程一样）。

然后查看令牌所在的哈希值也很简单且不易出错，因此您可以获取当前位置。您还必须在某处记住这个散列（内存用于速度或磁盘用于持久性）。

如您所见，这种方法很复杂，如果您深入思考它，您必须做出比第一种方法更多的决定。

此外，第一种方法在设计应用程序 b/c 时为您提供了更多自由，它的行为类似于 OOP 封装。将来，您还可以使用另一段代码为您记住当前位置，客户端将调用此代码，然后此代码将调用数据库将结果传递给客户端。

底线，去`1)`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T09:09:32.327

如果您想返回结果总数，我会选择两种选项的组合：

*   新查询（未给出标识符）：
    *   首先在没有 order by 子句的情况下对整个结果集（select count(*) from ...）进行行计数。
    *   如果结果集真的太大，您可以在此处返回错误 [可选]
    *   获取页面数据（排序是强制性的，由您或您的 api 用户定义）
    *   生成一个标识符并将其与结果计数[以及可选的查询]一起保存
    *   返回页面数据、总结果计数和查询标识符
*   下一个查询（给定标识符）：
    *   获取持久化结果计数
    *   获取页面数据（排序是强制性的，由您或您的 api 用户定义）
    *   返回页面数据、总结果计数和查询标识符

最好的办法是将查询（没有分页部分）与标识符一起保留，这样您甚至不必在下次调用时再次创建它。

# objective-c - Objective C - Empyt 元素

> ID：11753781
> 
> 赞同：0
> 
> 时间：2012-08-01T06:35:32.450
> 
> 标签：objective-c, xml, xsd

我编写了一个生成 xml 文件的程序；一切正常，除了空元素在 xml 文件中显示如下

```
<key id="0"><key/> 
```

代替：

```
<key id="0"/> 
```

这会在访问 xml 时导致错误。

PS我必须遵循存储在这里的DTD：`/System/Library/DTDs/KeyboardLayout.dtd`

这就是我创建 NSXMLElements 的方式：

`NSXMLElement* space = [[NSXMLElement alloc] initWithName:@"key"];
[space addAttribute:[NSXMLNode attributeWithName:@"id" stringValue:[NSString stringWithFormat:@"0"]]];`

所以我的问题是，如何修改上面的代码以生成 xml 节点，如第二个示例所示？

更新：

按照建议使用了 NSXMLCompactEmpyElement 选项，还使用了 NSXMLNodePrettyPrint 选项，否则所有节点都出现在一行中。

```
NSData *xmlData = [mapping XMLDataWithOptions:NSXMLNodeCompactEmptyElement | NSXMLNodePrettyPrint];
[xmlData writeToFile:path atomically:YES]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:44:58.380

你具体是怎么写出来的？无论如何，您正在寻找的选项是`NSXMLNodeCompactEmptyElement`，例如，它是`XMLStringWithOptions:`节点上的有效选项。

# android - 有没有办法在android中操纵液晶背光？

> ID：11753782
> 
> 赞同：0
> 
> 时间：2012-08-01T06:35:33.287
> 
> 标签：android

在我的应用程序中，我需要更改屏幕背光进行测试。我正在使用 API 15 和外部 jar Hardware09.jar，它有一个名为 setScreenBacklight(int value) 的方法。

但是，当我尝试使用它时，出现如下错误消息：

```
01-01 00:48:24.570: E/AndroidRuntime(2171): java.lang.NoSuchMethodError: android.os.IHardwareService.setScreenBacklight 
```

我不知道在那种情况下该怎么办。有没有办法使用那个外部罐子或者有没有其他方法来控制背光？

提前致谢。

这是java构建路径的截图。

![在此处输入图像描述](../Images/ea43f801fb952e35627447652173a43a.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T07:37:14.280

是的，这就是问题所在。这是因为额外的 jar 文件没有正确添加到您的项目中。请提醒以下事项 -

*   如果要使用任何外部 jar 文件。你应该在你的项目`libs`文件夹中正确地拥有它。

*   应该正确导入那是另一回事。重要的是，在你`project's -> properties -> java build path -> order tab`应该有导入的 jar 文件。

*   应该勾选那个 jar 文件并且必须先下订单。然后，只有您可以使用该`.jar`文件。

`.jar`这对于所有手动导入的文件来说都是常见的。试试上面的步骤。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T11:47:13.313

```
float BackLightValue = (float)value/100; //value is the integer that test station pass to apk

WindowManager.LayoutParams layoutParams = getWindow().getAttributes();
layoutParams.screenBrightness = BackLightValue;
getWindow().setAttributes(layoutParams); 
```

使用该代码块，我设法操纵背光。但是我目前认为这种方式实际上不会操纵背光而不是屏幕亮度。

# java - 使用 csv 中的数据在 html 中创建图形

> ID：11753791
> 
> 赞同：1
> 
> 时间：2012-08-01T06:35:52.780
> 
> 标签：java, javascript, html, graph

我需要在 HTML 文件中显示一个图形（饼图和 XY 图）。我使用了一些免费工具创建了一个图像，并试图在 HTML 上显示它。

但是，我们需要将此图像放在共享文件夹或服务器中以供 HTML 访问。我们的客户端对这两种方法都不满意。

有人可以让我知道是否有任何方法可以将数据直接传递到 html 文件。数据将在 csv 文件中，它可能包含数千行。

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T06:57:54.670

有一个 Javascript 框架可以呈现非常漂亮的图表：[http ://www.highcharts.com/](http://www.highcharts.com/)

您可以使用许多 CSV Javascript 解析器之一：[Javascript code to parse CSV data](https://stackoverflow.com/questions/1293147/javascript-code-to-parse-csv-data)

如果您随后编写一些 javascript 代码来提取您的 CSV 数据，并将其传递给 highcharts，您将获得一个非常漂亮的交互式图表。

如果您想使用现有图像，另一种方法是直接在 html 文件中将图像编码为 base64：[http ://webcodertools.com/imagetobase64converter/](http://webcodertools.com/imagetobase64converter/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T07:39:00.363

作为替代方案，您还可以查看 Dojo Toolkit (http://dojotoolkit.org/)，它是一个 Javascript 工具包，具有一些非常好的特性，包括图表。

# css - Twitter bootstrap：轮播控件在所有响应式视图中未正确垂直对齐

> ID：11753797
> 
> 赞同：1
> 
> 时间：2012-08-01T06:36:43.330
> 
> 标签：css, twitter-bootstrap, responsive-design, carousel

我的轮播控件在 940 像素时看起来不错，但是当我将浏览器的大小调整为平板电脑或移动设备视图时，控件并没有在中心垂直对齐。

[在此处](http://sacgamehub.com/)查看示例。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T14:56:44.107

In **styles.css** you have the rule:

```
.carousel-inner {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
} 
```

The `height: 100%` is the violating code, and should be removed. In fact, all the other rules you have there are duplicates of rules already present in **bootstrap.css**, so you *should* just get rid of all of it.

# javascript - 如何将其结合到一个 javascript 对象中？

> ID：11753801
> 
> 赞同：2
> 
> 时间：2012-08-01T06:37:15.713
> 
> 标签：javascript, object, syntax

我有这个代码，它正在工作。

```
var URL = new Object();

URL.pattern = /https?:\/\/([^\/]*)\//;
URL.current = window.location.href;

URL.getCurrent = function(){
  return this.current.match(this.pattern)[1];
};

var thisDomain = URL.getCurrent(); 
```

现在我想要将点符号放入对象中，我该怎么做？我试过这个，但是当我调用 URL.getCurrent() 时它显示未定义。

```
function URL(){

  this.pattern = /https?:\/\/([^\/]*)\//;
  this.current = window.location.href;

  this.getCurrent = function(){
    return this.current.match(this.pattern)[1];
  };
} 
```

我希望有人可以帮助我。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-01T06:41:52.140

你能做的最简单的事情就是把它放在一个对象文字中。

[http://jsfiddle.net/wJQb6/](http://jsfiddle.net/wJQb6/)

```
var URL = {
    pattern: /https?:\/\/([^\/]*)\//,
    current: window.location.href,
    getCurrent: function () {
        return this.current.match(this.pattern)[1];
    }
}

alert(URL.getCurrent());​ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-01T06:48:15.240

```
function URL(){
  this.pattern = /https?:\/\/([^\/]*)\//;
  this.current = window.location.href;
  this.getCurrent = function(){
    return this.current.match(this.pattern)[1];
  };
} 
```

有了这个，你有一个空的构造函数。该函数`URL`本身没有属性，您需要创建一个实例：

```
var url = new URL;
url.getCurrent(); 
```

但是，我建议使用以下包含继承的构造函数：

```
function URL(c){
    this.current = c;
}
URL.prototype.pattern = /https?:\/\/([^\/]*)\//;
URL.prototype.getCurrent = function(){
    return this.current.match(this.pattern)[1];
};

// Usage:

var url = new URL(window.location.href);
url.getCurrent(); 
```

如果你想要一个静态对象，只需使用对象文字：

```
var url = {
    pattern: /https?:\/\/([^\/]*)\//,
    current: window.location.href,
    getCurrent: function () {
        return this.current.match(this.pattern)[1];
    }
}

url.getCurrent(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-01T06:40:39.287

您仍然需要实例化。

```
var url = new URL; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-01T07:00:37.383

javascript 中没有静态方法，但您可以使用单例。

```
var URL=new function (){

  this.pattern = /https?:\/\/([^\/]*)\//;
  this.current = window.location.href;

  this.getCurrent = function(){
    return this.current.match(this.pattern)[1];
  };
}; 
```

这将允许您在需要时访问 URL 原型和构造函数。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-01T06:47:23.953

如果你需要使用经典的 OOP 你可以这样做：

```
function URL(){
    /* constructor function */
}

URL.prototype.pattern = /https?:\/\/([^\/]*)\//;
URL.prototype.current = window.location.href;

URL.prototype.getCurrent = function(){
    return this.current.match(this.pattern)[1];
};

anURL = new URL();
var result = anURL.getCurrent(); 
```

# driver - wdf 驱动程序如何处理设备的重新开机事件？

> ID：11753802
> 
> 赞同：0
> 
> 时间：2012-08-01T06:37:26.400
> 
> 标签：driver, power-management, wdf

我最近从另一个人那里接手了设备驱动程序的维护工作。

该驱动程序与 pci-e 板配合使用。系统启动时，驱动会分配一块128Mb的内存，然后在板上设置一些寄存器来传递分配内存的信息。稍后当板子工作时，它会将一些数据写入内存，其他一些应用程序将通过驱动程序访问这些数据。

该板由独立适配器供电（不是由 pci-e 插槽供电，它是演示板或开发板）。所以有时候板子里的fpga程序出错时，我们会重新给板子上电（这很快）并重新启动电脑（这很慢，否则板子将不知道驱动程序分配的内存）。

我的问题来了：驱动程序是否可能知道电路板已重新上电？如果它能够检测到事件并做一些类似于系统启动时所做的事情，它将为我们节省很多时间。

我以前对驱动程序开发没有太多了解，如果有任何不太复杂的教程/文章来解决这类工作，那将会很有帮助。或者也许我必须找一些厚书从头开始学习？

希望我已经让自己理解，任何建议将不胜感激:-)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-04T05:45:14.810

检查[功能驱动程序中的支持 PnP 和电源管理](http://msdn.microsoft.com/en-us/library/windows/hardware/ff544675%28v=vs.85%29.aspx)可能会对您有所帮助。

# java - Jython Jar 依赖项导入失败

> ID：11753803
> 
> 赞同：0
> 
> 时间：2012-08-01T06:37:37.907
> 
> 标签：java, python, jython

我在一个 jar 中有一个应用程序，它依赖于不同 jar 中的几个库。

这是我的问题：当我只导入我的主应用程序文件时，jython 似乎正确加载了类，但通过 NoClassDefError 抱怨缺少类（在支持库 jar 中表示的一个）。

但是，如果我现在将该 jar 添加到类路径中，Jython 将无法再找到原始导入，并抱怨：`ImportError: No module named edu`

我的代码：

```
import sys 

def setClassPath():
     libDir = "/Users/gestalt/Documents/msmexplorer_git/msmexplorer/MSMExplorer/"
     classPaths = [ 
          "dist/MSMExplorer.jar"
          "dist/lib/prefuse.jar" #the missing class is here, but this line causes package edu to go missing
     ]   
     for classPath in classPaths:
          sys.path.append(libDir+classPath)

def runJavaClass():
     from edu.stanford.folding.msmexplorer import MSMExplorer
     me = MSMExplorer()

def main():
     setClassPath()
     runJavaClass()

if __name__ == "__main__":
     main() 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T07:03:18.863

听起来很愚蠢，这是某种特殊的语法错误。jar 规范之间需要逗号：

```
"dist/MSMExplorer.jar",
"dist/lib/prefuse.jar" 
```

# php - PHP While 循环从循环图像中调用属性

> ID：11753804
> 
> 赞同：0
> 
> 时间：2012-08-01T06:37:41.270
> 
> 标签：php, jquery

我创建了一个生成五个图像的 while 循环。然后，我设计了将图像拖到网页的可放置部分。然后我希望网页输出我放置图像的位置。我唯一的问题是我希望代码也能从我获得图像的地方回显出 src。出于某种原因，每当我单击任何图像并拖动它们时，页面只会回显 while 循环循环通过的第一张图像的 src。

```
<script type="text/javascript">

$(".droppable").droppable();

</script>

<?php

$num_dresses = dress_count ();

$i = 0;

while ($i < 5)

{   

$rand_id = rand(1, $num_dresses);

$new_file_name = html_entity_decode($dress_feed_data['file_name']); 

if (file_exists('fashion_images/' . $new_file_name))

{

?>

<script type="text/javascript" >

$(document).ready(function(){

$(function() 

  {

$(".ui-widget-content").draggable(

  {

stop: function(event,ui)
{
    var Stoppos = $(this).position();

    var className = $("img").attr("src");

    $(".location").text("STOP: \nLeft: "+ Stoppos.left + "\nTop: " + Stoppos.top + 

    className);

}});});});

</script>

<div class="ui-widget-content">

<img src="fashion_images/<?php echo $new_file_name;?> " width="70" height="70"/>

</div>

<?php

} 

$i++;   

}

?>

<div class="droppable"></div>

<div class="location"></div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T07:52:01.020

杰森，

尝试 ：

```
$(".ui-widget-content img").draggable({
    stop: function(event, ui) {
        var Stoppos = $(this).position();
        var className = $(this).attr("src");
        $(".location").text("STOP: \nLeft: "+ Stoppos.left + "\nTop: " + Stoppos.top + className);
    }
}); 
```

# javascript - 如何在工作灯中创建会话

> ID：11753808
> 
> 赞同：0
> 
> 时间：2012-08-01T06:37:56.300
> 
> 标签：javascript, jquery-mobile, ibm-mobilefirst

我在 worklight 教程中浏览了加密缓存。但我认为它不会对我的本地存储管理提供太多支持。我需要在我的应用程序中维护用户会话。有没有办法做到这一点。或者它可以实现tro Jquery ??? 按照这个链接 [论坛链接](https://www.ibm.com/developerworks/forums/thread.jspa?threadID=450217)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T06:01:56.430

加密缓存适用于您需要保持安全的数据。它有一个开销，你需要连接到互联网来创建它。HTML5 本地存储要简单得多。

# python - 按键长度对字典进行排序

> ID：11753809
> 
> 赞同：12
> 
> 时间：2012-08-01T06:37:58.907
> 
> 标签：python, dictionary

> **可能重复：**
> [字典按键长度排序](https://stackoverflow.com/questions/11753758/dictionary-sorting-by-key-length)

我需要使用字典进行“搜索和替换”。我希望它首先使用最长的键。

以便

```
text = 'xxxx'
dict = {'xxx' : '3','xx' : '2'} 
for key in dict:
    text = text.replace(key, dict[key]) 
```

应该返回“3x”，而不是现在的“22”。

就像是

```
for key in sorted(dict, ???key=lambda key: len(mydict[key])): 
```

就是拿不到里面的东西。
是否可以在一个字符串中完成？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-08-01T06:48:26.903

```
>>> text = 'xxxx'
>>> d = {'xxx' : '3','xx' : '2'}
>>> for k in sorted(d, key=len, reverse=True): # Through keys sorted by length
        text = text.replace(k, d[k])

>>> text
'3x' 
```

# android - 将文件从资产文件夹加载到 webview

> ID：11753810
> 
> 赞同：0
> 
> 时间：2012-08-01T06:38:02.983
> 
> 标签：android, html

我正在尝试使用此代码在我的 webview 中加载一个 html 文件。但是显示网页不可用

```
public class MainActivity extends Activity {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(com.frux.web.R.layout.activity_main);
        WebView web = (WebView) findViewById(R.id.web1);
        web.loadUrl("file:///android_assets/www/webpage");
    } 
} 
```

我已经将我的代码编辑成这个，但网页仍然不可用

```
public class MainActivity extends Activity {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    WebView web = (WebView) findViewById(R.id.web1);
    web.getSettings().setJavaScriptEnabled(true);
    web.loadUrl("file://android_assets/www/index.html");

}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
} 
```

}

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-01T07:23:16.083

我只是打错了资产。它应该是没有“S”的**“资产”。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:44:22.517

该文件应该是带有html的扩展名

最简单的方法可能是将您的网络资源放入 assets 文件夹，然后调用 webView.loadUrl("file:///android_asset/www/filename.html");

试试这个会帮助你...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T06:48:43.180

`web.loadUrl("file:///android_assets/www/webpage");`

网页是文件夹还是文件？我想应该是

`web.loadUrl("file:///android_assets/www/webpage/file.html");`

或者

`web.loadUrl("file:///android_assets/www/webpage.html");`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-01T06:51:23.080

写在下面一行

```
setContentView(R.layout.activity_main);
web.loadUrl("file:///android_assets/www/webpage/index.html"); 
```

代替

```
setContentView(com.frux.web.R.layout.activity_main);
web.loadUrl("file:///android_assets/www/webpage"); 
```

# javascript - 获取电子邮件模板并在 VF 页面的下拉列表中显示名称

> ID：11753811
> 
> 赞同：0
> 
> 时间：2012-08-01T06:38:03.533
> 
> 标签：javascript, salesforce

我在一个名为“Lead Process”的文件夹中管理了一些电子邮件模板，那里大约有 12 个电子邮件模板。

所以我需要一个下拉菜单在我的 VF 页面中显示该文件夹中的所有电子邮件模板。当用户从下拉列表中选择模板时，文本或 html 将显示在下拉列表下方的富文本框中。

好吧，在其他语言中，例如在 dotnet 中，我们只需在下拉菜单中触发`onChange`事件或`onSelect`事件，然后通过 id 我们获取 html 内容并将其粘贴到富文本框中……所有这些事情都发生在 javascript 中。

在销售人员中是否可行。如果**是**，请给我一些想法。怎么可能？。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T15:20:52.667

I think you're interested in the `<apex:actionSupport>` VF tag, which allows you to call an action method in the controller and refresh and component on the page when an action is performed on a form element. In this case you would want bind it to the `onchange` event of your `<apex:selectList>`.

I had recently put together something similar for another project, so I changed it a bit to generalize it for you. The page/controller below should allow you to view email templates in any folder...you should be able to modify it for your purposes without too much difficulty.

VF page:

```
<apex:page controller="SomeController">
    <apex:form>
        <apex:pageBlock title="View Email Template" id="emailTemplateBlock">
            Select Email Template Folder:
            <apex:selectList value="{!selectedEmailTemplateFolder}" multiselect="false" size="1">
                <apex:selectOptions value="{!emailTemplateFolderOpts}" />
                <apex:actionSupport event="onchange" action="{!refreshEmailTemplateSection}" rerender="emailTemplateBlock" />
            </apex:selectList>
            <br/>
            Select Email Template: 
            <apex:selectList value="{!selectedEmailTemplate}" multiselect="false" size="1">
                <apex:selectOptions value="{!emailTemplateOpts}" />
                <apex:actionSupport event="onchange" action="{!refreshEmailTemplateSection}" rerender="emailTemplateBlock" />
            </apex:selectList>
            <br/>
            <apex:outputPanel id="emailTemplateContentPanel" rendered="{!NOT(ISNULL(chosenEmailTemplate))}">
                <p><b>{!chosenEmailTemplate.Name} - Subject:</b> {!chosenEmailTemplate.Subject}</p>
                <pre>{!chosenEmailTemplate.Body}</pre>
            </apex:outputPanel>
        </apex:pageBlock>
    </apex:form>
</apex:page> 
```

Controller:

```
public class SomeController {

    private List<EmailTemplate> allEmailTemplates;
    private List<Folder> allEmailTemplateFolders;
    public String selectedEmailTemplateFolder {public get; public set;}
    public String selectedEmailTemplate {public get; public set;}
    public EmailTemplate chosenEmailTemplate {public get; private set;}

    public SomeController() {
        allEmailTemplates = [select Id, Name, Subject, Body, FolderId from EmailTemplate order by Name asc];
        allEmailTemplateFolders = [select Id, Name from Folder where Type = 'Email' order by Name asc];
    }

    public List<SelectOption> getEmailTemplateFolderOpts() {
        List<SelectOption> opts = new List<SelectOption>();
        opts.add(new SelectOption('null', ' - Select - '));
        for ( Folder f : allEmailTemplateFolders )
            opts.add(new SelectOption(f.Id, f.Name));
        // add an option for templates in the Unfiled Public folder
        opts.add(new SelectOption(UserInfo.getOrganizationId(), 'Unfiled Public'));
        return opts;
    }

    public List<SelectOption> getEmailTemplateOpts() {
        List<SelectOption> opts = new List<SelectOption>();
        if ( selectedEmailTemplateFolder != null ) {
            opts.add(new SelectOption('null', ' - Select - '));
            Id selectedId = (Id) selectedEmailTemplateFolder;
            for ( EmailTemplate et : allEmailTemplates ) {
                if ( et.FolderId == selectedId )
                    opts.add(new SelectOption(et.Id, et.Name));
            }
        }
        return opts;
    }

    public PageReference refreshEmailTemplateSection() {
        // this is a bit ugly, but a consequence of not being able to set a SelectOption's value to null
        if ( selectedEmailTemplateFolder == null || selectedEmailTemplateFolder == 'null' ) {
            selectedEmailTemplateFolder = null;
            selectedEmailTemplate = null;
        }
        if ( selectedEmailTemplate == null || selectedEmailTemplate == 'null' ) {
            selectedEmailTemplate = null;
            chosenEmailTemplate = null;
        } else {
            Id selectedId = (Id) selectedEmailTemplate;
            for ( EmailTemplate et : allEmailTemplates ) {
                if ( et.Id == selectedId ) {
                    chosenEmailTemplate = et;
                    break;
                }
            }
        }
        return null;
    }
} 
```

# android - EditText 的 drawableRight

> ID：11753816
> 
> 赞同：4
> 
> 时间：2012-08-01T06:38:35.467
> 
> 标签：android, android-edittext

下面是我的布局：

```
<EditText
android:id="@+id/account_et"
android:layout_width="match_parent"
android:layout_height="fill_parent"
android:layout_weight="1"
android:drawableRight="@drawable/icon_backall"
android:ems="10"
android:hint="@string/str_md_email"
android:inputType="textEmailAddress"
android:padding="10dp" >
</EditText> 
```

我想在 EditText 被聚焦时显示 drawableRight 。
并在没有焦点的情况下隐藏。
另一个是我想设置drawableRight的OnClickListener。
我能怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:49:56.470

我建议您添加与 EditText 分开的 imageView 并将他与 align top 和 align right 对齐到他的顶部，并且您拥有完全控制权，这样您就可以看不见他和 setOnClickListner

```
 <ImageView android:id="@+id/account_et"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignRight="@+id/account_et"
        android:layout_alignTop="@+id/account_et"
        android:background="@drawable/icon_backall">
    </ImageView> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T06:42:54.777

使用[View.OnFocusChangeListener](http://developer.android.com/reference/android/view/View.OnFocusChangeListener.html)。当您抓住焦点时将drawable放入edittext，然后用null替换drawable将解决问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T06:46:01.737

像下面这样使用

```
edittext.setOnFocusChangeListener(new OnFocusChangeListener() {

            @Override
            public void onFocusChange(View v, boolean hasFocus) {
                // TODO Auto-generated method stub
                           if(hasFocus)
                           {}
else {}

            }
        }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-01T08:43:15.343

我希望我的样本对你有帮助

```
activity_main.xml

<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <EditText
        android:id="@+id/editText1"
        android:layout_width="wrap_content"
        android:layout_height="130dp"
        android:layout_alignParentLeft="true"
        android:layout_alignParentRight="true"
        android:layout_alignParentTop="true"
        android:inputType="textEmailAddress" >
    </EditText>

    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_alignParentTop="true"
        android:layout_marginRight="14dp"
        android:layout_marginTop="43dp"
        android:src="@drawable/ic_launcher"
        android:visibility="invisible" >
    </ImageView>

    <EditText
        android:id="@+id/editText2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentRight="true"
        android:layout_below="@+id/editText1"
        android:ems="10" >

        <requestFocus />
    </EditText>

</RelativeLayout> 
```

这是执行可绘制选项的类文件

```
MainActivity.java

package com.example.doubtedittext;

import android.os.Bundle;
import android.app.Activity;
import android.app.AlertDialog;
import android.content.DialogInterface;
import android.view.View;
import android.widget.EditText;
import android.widget.ImageView;

public class MainActivity extends Activity {
    private EditText etext;
    private ImageView imageView1;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        etext = (EditText) findViewById(R.id.editText1);
        imageView1 = (ImageView) findViewById(R.id.imageView1);
        etext.setOnFocusChangeListener(new View.OnFocusChangeListener() {

            @Override
            public void onFocusChange(View v, boolean hasFocus) {

                if (hasFocus) {
                    imageView1.setVisibility(View.VISIBLE);

                } else {

                    imageView1.setVisibility(View.INVISIBLE);
                }
            }
        });

        imageView1.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {

                AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(
                        MainActivity.this);

                // set title
                alertDialogBuilder.setTitle("Your Title");

                // set dialog message
                alertDialogBuilder
                        .setMessage("Click yes to exit!")
                        .setCancelable(false)
                        .setPositiveButton("Yes",
                                new DialogInterface.OnClickListener() {
                                    public void onClick(DialogInterface dialog,
                                            int id) {
                                        // if this button is clicked, close
                                        // current activity
                                        MainActivity.this.finish();
                                    }
                                })
                        .setNegativeButton("No",
                                new DialogInterface.OnClickListener() {
                                    public void onClick(DialogInterface dialog,
                                            int id) {
                                        // if this button is clicked, just close
                                        // the dialog box and do nothing
                                        dialog.cancel();
                                    }
                                });

                // create alert dialog
                AlertDialog alertDialog = alertDialogBuilder.create();

                // show it
                alertDialog.show();

            }
        });

    }

} 
```

您需要在上面成功执行的操作.....

# eclipse-emf - 在模型元素中包含的 DSL 上从 ACCELEO 运行 ACCELEO

> ID：11753821
> 
> 赞同：1
> 
> 时间：2012-08-01T06:38:46.220
> 
> 标签：eclipse-emf, acceleo, mda

我有一个包含 DSL 的 OpaqueActions 的 UML 活动。DSL 语法是通过 XText 表达的，因此有一个 EMF ECORE 模型和编辑器。我有一个 ACCELEO M2T 转换以文本形式转换 UML 活动，我想触发（从这种转换）另一个转换（从 DSL 元模型到文本），提供包含在活动的不透明操作中的 DSL 作为输入。有什么方法可以轻松做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T13:23:52.930

您可以创建两个生成器，一个用于 UML 转换，第二个用于 DSL，当您在 UML 模型中导航时遇到 DSL 元素时，从第二个中调用第一个。

# php - 生成 Excel 文件并将其作为附件通过电子邮件发送 - 错误消息：无法读取文件

> ID：11753828
> 
> 赞同：0
> 
> 时间：2012-08-01T06:39:09.707
> 
> 标签：php

```
//to genrate EXCEL files
require_once('documentation/Excel_Writer/Writer.php');  
   if($_POST['submit'] == "Email as EXCEL"){

     // get values

      $dated1=$res_hist[0]['dated'];
      $subject1=$res_hist[0]['businesscategory'];
      $hisstartdate=$dateto;
      $hisenddate=$datefrom;

    //format of date//
      $date = $hisstartdate;
                   $history= date(  "j F Y", strtotime( $date ) );
                   $date1 = $hisenddate;
                   $history1= date(  "j F Y", strtotime( $date1 ) );
        //print_r($date);die;          

        $path="businesshistoryxls/";

            $workbook = new Spreadsheet_Excel_Writer();
            //print_r($workbook);die;
            $format_bold =& $workbook->addFormat();
            $format_normal =& $workbook->addFormat();
            $format_bold->setBold(1);
            $format_normal->setBold(0);
            $worksheet =& $workbook->addWorksheet();

            $worksheet->write(0, 0, "TransactionID", $format_bold);
            $worksheet->write(0, 1, "Date", $format_bold);
            $worksheet->write(0, 2, "Type", $format_bold);
            $worksheet->write(0, 3, "Transaction Details", $format_bold);
            $worksheet->write(0, 4, "Currency", $format_bold);
            $worksheet->write(0, 5, "Amount", $format_bold);
            $worksheet->write(0, 6, "Balance", $format_bold);

            $sqlza = "Select * from BUSINESSTRANSACTION where isACTIVE=1 and BusinessID=".$_SESSION['businessID']." order by dated DESC";       
           $resza = getXbyY($sqlza, "array");
           $rowsza = count($resza);
          // print_r($resza);die;
            if($rowsza>0)
            {
            for($i=0;$i<$rowsza;$i++)
                {
                    $worksheet->write($i+1, 0, $resza[$i]['transactionID'], $format_bold);
                    $worksheet->write($i+1, 1, $resza[$i]['dated'], $format_bold);
                    $worksheet->write($i+1, 2, $resza[$i]['transactionTYPE'], $format_bold);
                    $worksheet->write($i+1, 3, $resza[$i]['transactionDETAILS'], $format_bold);
                    $worksheet->write($i+1, 4, $resza[$i]['currency'], $format_bold);
                    $worksheet->write($i+1, 5, $resza[$i]['amount'], $format_bold);
                    $worksheet->write($i+1, 6, $resza[$i]['balance'], $format_bold);

                }
                }

        $workbook->send($xlsname);
         $type=".xls";
        $xlsname=$path.''.$hisstartdate.''.to.''.$hisenddate.''.$type;

    $email_to = $res_pers[0]['email'];
    //print_r($xlsname);die;
    $email_from="admin@fastcashier.com";
    $email_subject = "Transactions's History";
    $headers  = 'MIME-Version: 1.0' . "\r\n";
    $headers.= 'Content-type: text/html; charset=iso-8859-1' . "\r\n";
    $headers.= 'From:'.$email_from."\r\n";
    $email_message="Dear ".$username."<br><br>";
    $email_message.="Please check the attachment.<br>";
    $email_message .="<br/>";
    $email_message .="";
    $my_path =$_SERVER['DOCUMENT_ROOT']."/".$xlsname;
    //print_r($my_path);die;
    mail_attachment($email_from, $email_to, $email_subject, $email_message ,$my_path);
    //print_r($mail_attachment);die;
    unlink($xlsname);
    $msgID=67;

            $workbook->close();
    unset($_SESSION['Historyb']);
    } 
```

有人能帮我吗？这是我的代码，用于生成和通过电子邮件发送 excel 表，但是当收到电子邮件时。我打开了附件，出现了无法读取文件的消息的 excel 工作表提示。发送的文件只有0kb..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-11T16:51:25.880

1）我修改了你的一段代码，尝试使用这个

```
 $worksheet->write(0, 0, "TransactionID");
        $worksheet->write(1, 0,  $format_bold);
        $worksheet->write(0, 1, "Date");
        $worksheet->write(1, 1,$format_bold);
        $worksheet->write(0, 2, "Type");
        $worksheet->write(1, 2, $format_bold);
        $worksheet->write(0, 3, "Transaction Details");
        $worksheet->write(1, 3, $format_bold);
        $worksheet->write(0, 4, "Currency");
        $worksheet->write(1, 4, $format_bold);
        $worksheet->write(0, 5, "Amount");
        $worksheet->write(1, 5, $format_bold);
        $worksheet->write(0, 6, "Balance");
        $worksheet->write(1, 6, $format_bold); 
```

并根据上面的代码修改for循环里面的代码。

2) "$worksheet =& $workbook->addWorksheet();"

为您的工作簿添加一些名称

例如 $workbook = new Spreadsheet_Excel_Writer($excelfillename);

# c# - 使用异步套接字的乒乓服务器

> ID：11753833
> 
> 赞同：3
> 
> 时间：2012-08-01T06:39:33.543
> 
> 标签：c#, sockets, network-programming, asyncsocket

我通常很容易在 C/C++ 中进行套接字编程，但是在这里我在 C# 中有服务器使用 [它](http://msdn.microsoft.com/en-us/library/fx6588te.aspx)

我正在尝试将此代码转换为乒乓服务器，即我用 C 编写的客户端发送它 ping 并且服务器返回 pong，此过程继续进行，直到客户端发送服务器“结束”

我无法在此 C# 服务器中执行此操作。任何帮助我希望服务器继续循环接收和发回响应

# java - 不使用WifiInfo实例在android中获取MAC地址

> ID：11753835
> 
> 赞同：1
> 
> 时间：2012-08-01T06:39:42.733
> 
> 标签：java, android, android-layout, networking, android-intent

我正在尝试获取我的 android 设备的 MAC 地址而不依赖于`myWifiInfo.getMacAddress()`

以下是我使用的代码：

```
 try{
            InetAddress inet = InetAddress.getLocalHost();
            NetworkInterface ni = NetworkInterface.getByInetAddress(inet);
            byte[] address = ni.getHardwareAddress();
            }
        catch(Exception e){
            Log.d("MyActivity",e.toString());
        } 
```

我得到以下异常：

```
08-01 06:10:56.239: WARN/System.err(23164): at   java.net.NetworkInterface.rethrowAsSocketException(NetworkInterface.java:212)
08-01 06:10:56.239: WARN/System.err(23164): at java.net.NetworkInterface.collectIpv4Address(NetworkInterface.java:178)
08-01 06:10:56.239: WARN/System.err(23164): at java.net.NetworkInterface.getByName(NetworkInterface.java:118)
08-01 06:10:56.239: WARN/System.err(23164): at java.net.NetworkInterface.getNetworkInterfacesList(NetworkInterface.java:270)
08-01 06:10:56.239: WARN/System.err(23164): at java.net.NetworkInterface.getByInetAddress(NetworkInterface.java:228)
08-01 06:10:56.239: WARN/System.err(23164): at com.example.MyActivity$MyAsyncTask.doInBackground(MyActivity.java:82)
08-01 06:10:56.247: WARN/System.err(23164): at com.example.MyActivity$MyAsyncTask.doInBackground(MyActivity.java:43)
08-01 06:10:56.247: WARN/System.err(23164): at android.os.AsyncTask$2.call(AsyncTask.java:264)
08-01 06:10:56.247: WARN/System.err(23164): at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
08-01 06:10:56.247: WARN/System.err(23164): at java.util.concurrent.FutureTask.run(FutureTask.java:137)
08-01 06:10:56.247: WARN/System.err(23164): at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:208)
08-01 06:10:56.247: WARN/System.err(23164): at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
08-01 06:10:56.247: WARN/System.err(23164): at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
08-01 06:10:56.247: WARN/System.err(23164): at java.lang.Thread.run(Thread.java:856)
08-01 06:10:56.247: WARN/System.err(23164): Caused by: libcore.io.ErrnoException: socket failed: EACCES (Permission denied)
08-01 06:10:56.247: WARN/System.err(23164): at libcore.io.Posix.socket(Native Method)
08-01 06:10:56.247: WARN/System.err(23164): at libcore.io.BlockGuardOs.socket(BlockGuardOs.java:181)
08-01 06:10:56.247: WARN/System.err(23164): at java.net.NetworkInterface.collectIpv4Address(NetworkInterface.java:163)                       
08-01 06:10:56.247: WARN/System.err(23164): ... 12 more 
```

我已给予许可

```
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /> 
```

异常是从上面代码中的以下行引发的：

```
NetworkInterface ni = NetworkInterface.getByInetAddress(inet); 
```

当我记录 inet 地址时，我得到的结果与`localhost/127.0.0.1`

有人可以指出这个问题的原因和解决方案吗？

任何帮助深表感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:46:27.250

您也可以尝试按照蓝牙 API 代码获取 MAC 地址，

```
private BluetoothAdapter btAdapther; 

mBtAdapter = BluetoothAdapter.getDefaultAdapter();
String deviceMacAddress = mBtAdapter.getAddress(); 
```

AndroidManifest.xml 中的权限

```
<uses-permission android:name="android.permission.BLUETOOTH_ADMIN" />
<uses-permission android:name="android.permission.BLUETOOTH" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T06:17:06.780

如果您的设备具有以太网硬件，您可以读取`/sys/class/net/eth0/address`为文本文件，并且该文件包含接口。`ethernet-MAC-address``eth0`

示例代码可以帮助您：

```
public String getMac()
{
    StringBuffer fileData = new StringBuffer(1000);
    try {
        BufferedReader reader = new BufferedReader(new FileReader("/sys/class/net/eth0/address"));
        char[] buf = new char[1024];
        int numRead = 0;
        while ((numRead = reader.read(buf)) != -1) {
            String readData = String.valueOf(buf, 0, numRead);
            fileData.append(readData);
        }
        reader.close();
        return fileData.toString();
    } catch (FileNotFoundException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
    return null;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T06:27:03.913

```
public String getMacAddressFromEtcFile(){
        try {
            return loadFileAsString("/sys/class/net/eth0/address").toUpperCase().substring(0, 17);
        } catch (IOException e) {
            e.printStackTrace();
            return null;
        }
    }

 public static String loadFileAsString(String filePath) throws java.io.IOException{
        StringBuffer fileData = new StringBuffer(1000);
        BufferedReader reader = new BufferedReader(new FileReader(filePath));
        char[] buf = new char[1024];
        int numRead = 0;
        while((numRead = reader.read(buf)) != -1){
            String readData = String.valueOf(buf, 0, numRead);
            fileData.append(readData);
        }
        reader.close();
        return fileData.toString();
    } 
```

# php - PHP Zend Framework S3 - PutFile 不放

> ID：11753837
> 
> 赞同：0
> 
> 时间：2012-08-01T06:40:19.457
> 
> 标签：php, zend-framework, amazon-s3

我只是想遍历一个图像文件夹并将它们放入 Amazon S3 存储桶中。我只是不明白为什么它不喜欢 PUTFILE 函数的 DATA 部分。

如果我尝试：

```
$res = $s3 -> putFile("test-bucket/".$entry); 
```

它在存储桶中创建了一个空白文件（0 字节），所以我知道它连接正常，并且文件名也正确。我还尝试循环浏览文件夹文件并将文件名回显到屏幕上，而不使用 Zend S3 功能，这证明该页面可以访问 root 后面的文件。

有关此功能的[文档](http://framework.zend.com/manual/en/zend.service.amazon.s3.html)说：

> putFile($path, $object, $meta) 将 $path 中的文件内容放入名为 $object 的对象中。
> 
> 可选的 $meta 参数与 putObject 相同。如果省略内容类型，则根据源文件名进行猜测。

这是我尝试过的：

```
if ($handle = opendir('d:/web-library-photos/temp-previews')) {

    $loopCounter = 0;
    while (false !== ($entry = readdir($handle))) {
        ///
        $loopCounter = $loopCounter + 1;
        if ($loopCounter < 3) { // for test purposes only
            $localPath = "d:/web-library-photos/temp-previews/".$entry;
            $s3 = new Zend_Service_Amazon_S3($aws_access_key_id, $aws_s3_secret);
            $res = $s3 -> putFile($localPath, "test-bucket/".$entry);
            echo "Success for ".$entry.": " . ($res ? 'Yes' : 'No') . "<br>";
        }
        ///
    }

    closedir($handle);
} 
```

这个特殊的“尝试”会产生错误：

```
Cannot read file d:/web-library-photos/temp-previews/.' in C:\Inetpub\vhosts\.....thispage.php 
```

所以我想我会尝试**file_get_contents()**和**readfile()**但仍然没有运气！

拜托，拜托，让我直接上这个 - 它正在驱使我绕过弯道。

**更新**

是的，我知道出了什么问题，但不知道如何解决。

如果我只是这样做：

```
if ($handle = opendir('d:/web-library-photos/temp-previews')) {
    while (false !== ($entry = readdir($handle))) {
    echo $entry."<BR>";
    }
    closedir($handle);
} 
```

我在结果的开头得到 a`.`和 a `..`，这显然不能作为文件名读取！这是怎么回事，我该如何解决？

![在此处输入图像描述](../Images/86986a1ea6d7f3fbf0eef178a0aaec3d.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T07:23:18.993

尝试将其附加到`while (false !== ($entry = readdir($handle)))`

```
while (false !== ($entry = readdir($handle))) {  
    if($entry == "." || $entry == "..") continue;
    /* other codes */
} 
```

# c++ - 用于检查素数的 C++ 代码不起作用

> ID：11753851
> 
> 赞同：0
> 
> 时间：2012-08-01T06:41:01.150
> 
> 标签：c++, primes

我在处理这个 C++ 代码时遇到了问题。整数`num`是一个我想检查它是否是素数的数字。然而这个程序总是返回假。这可能很简单，但我找不到任何东西。

```
for(int i=2;i<num;i++){ //primes are allowed to be divided by 1 so we start at 2
        if(num % i == 0){ //can be divided by a number other than itself or 1 so we trip out
            return false;
        } else if(i == num){ //if we've already done checks as high as possible and not tripped out yet then report success
            return true;
        }
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-01T06:42:24.480

`i == num`永远不会发生，因为您的循环条件是`i<num`. 尝试：

```
for(int i=2;i<num;i++){ //primes are allowed to be divided by 1 so we start at 2
    if(num % i == 0){ //can be divided by a number other than itself or 1 so we trip out
        return false;
    } else if(i == num-1){ //if we've already done checks as high as possible and not tripped out yet then report success
        return true;
    }
} 
```

如下所述，`else`这里的条件是多余的，你只需要从 2 到`sqrt(num)`- 进行检查，因为其余的因素已经检查过了。

根据您想要解决问题的复杂程度，可以进行更多改进。现实中的大多数方法都使用概率算法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-01T07:31:42.500

您不必检查每个数字，因为其中很多很容易被排除。例如，在检查`num`不能被 整除之后`2`，您可以跳过所有其他偶数。这可以为您节省一半的测试。

我们也绝对知道任何其他因素必须小于`num/2`（或真的`sqrt(num)`，但这更难计算）。这些知识可以为我们节省另一半的测试。

所以现在我们有：

```
if (num % 2 == 0)
    return false;

for(int i = 3; i < num / 2; i += 2){ 
     if(num % i == 0){ //can be divided by a number other than itself or 1 so we trip out
         return false;
     }
}

// arriving here we have found no factors, so it must be a prime
return true; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-01T07:57:13.597

```
bool CheckPrime(int num) {
    bool yayornay = true;
    for(int i = 2; i < num; i++) {
         if(num % i == 0) {
             yayornay = false;
             break;
         }
    }
    return yayornay;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-01T11:38:43.393

对Will Ness 的代码做了一个小优化，只计算for 外数的sqrt。条件检查执行多次，每次计算sqrt都没有意义。

```
if( num == 2 ) return true;
if( num < 2 || num % 2 == 0 ) return false;
int sqrt = sqrt(num);

for( int i=3; i<=sqrt; i+=2 ){   
        if(num % i == 0){ 
            return false;
        } 
}
return true; 
```

到目前为止，我认为这是最有效的方法！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-01T11:26:38.540

这是写下您的意思的正确方法：

```
int i=2;                     // move declaration out
for(/*int i=2*/;i<num;i++){ 
        if(num % i == 0){ 
            return false;
        } // else            // and the final test too
}
if(i == num){                
    return true;
} 
```

但这不是有效的。您只需检查`i`' 不超过`sqrt(num)`. 另外，如果您检查`num%2`，则不再需要检查任何其他偶数，因此您可以使用 2 的增量。或者您甚至可以按*6*计数：

```
if( num == 2 || num == 3 ) return true;
if( num < 2 || num % 2 == 0 || num % 3 == 0 ) return false;
for( int i=5, j=7, lim=sqrt(num); i<=lim; i+=6, j+=6 ){   
        if( num % i == 0 || num % j == 0 ){ 
            return false;
        } 
}
return true; 
```

[（注意：这比这里的另一个答案更有效，它说这是这个答案的初始版本的“优化”）。]

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-10-25T13:38:44.947

```
bool isprime(int n)
{
    if(n<2) return false;
    if(n==2)return true;
    for(int i=2;i<=sqrt(n);i++)
        if(n%i==0) return false;
    return true;
} 
```

# javascript - JavaScript：为什么是 58 * 0.1 = 5.800000000000001（而不是 5.8）

> ID：11753853
> 
> 赞同：0
> 
> 时间：2012-08-01T06:41:18.687
> 
> 标签：javascript, decimal

> **可能的重复：**
> [JavaScript 的数学被破坏了吗？](https://stackoverflow.com/questions/588004/is-javascripts-math-broken)

...我能做些什么呢？计算后我想要一个结果的字符串表示。因此，零（加上一）令人不安。“toFixed()”不是一个完美的解决方案，因为我想要所有（正确的）潜在结果的小数，而我之前不知道结果（和小数位数）。所以上面的计算只是一个例子。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:43:19.543

简短的回答是：计算机以二进制表示数字，因此它们不能将所有以 10 为底的分数完美地表示为 JavaScript 数字。

（稍微）更长的答案是，因为 JavaScript 数字是 64 位浮点数（相当于`double`Java、C# 等中的类型），正如维基百科[在此处](http://en.wikipedia.org/wiki/Double_precision_floating-point_format)所描述的那样，有效位的数量是有限的。由于这个原因，这个以 2 为底的数字的精度是有限的。

作为一个类比，考虑以 10 为基数表示 1/3 的分数。假设您只有这么多数字可以使用。这意味着您*永远无法*以 10 为底精确地表示 1/3，因为 1/3 需要以 10 为底的无限位数来表示。同样，您永远无法以有限的位数完美地表示 1/10，因为 1/10 需要无数位来精确表示。你在这里看到的是一小部分（58/10），计算机无法用有限的位数精确表示，因此计算机正在尽可能接近。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:47:35.000

> 将无限多个实数压缩为有限位数需要近似表示。尽管整数有无限多，但在大多数程序中，整数计算的结果可以存储在 32 位中。相反，给定任何固定位数，大多数实数计算将产生无法使用那么多位精确表示的量。因此，浮点计算的结果必须经常四舍五入以适应其有限表示。这种舍入误差是浮点计算的特征。

以上来自[http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html](http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html)

# ms-access-2010 - 运行时错误“3197”。MS Access 2010 和 SQL Server 2008R2

> ID：11753862
> 
> 赞同：2
> 
> 时间：2012-08-01T06:42:31.253
> 
> 标签：ms-access-2010, user-permissions, sql-server-2008r2-express

我有一个用 MS Access 2007-2010 编写的应用程序，后端是一个 SQL 数据库。

建立新数据库后，当我在 Access 报告中查看来自 SQL 的记录时，尝试编辑或输入新的输入结果时出现运行时错误 3197。

具体错误说：自从您开始编辑此记录以来，该记录已被另一个用户更改

然后我有复制到剪贴板和删除更改选项，而保存记录是灰色的。单击 Drop 更改会带来错误：

“运行时错误 '3197' Microsoft Access 数据库引擎停止了进程，因为您和另一个用户正试图同时更改相同的数据。”

然后我查看 SQL 并使用 EXEC sp_who2 'Active' 查询数据库，我可以看到我用于 SQL 的用户名是 RUNNABLE 而 Access 应用程序使用的用户（在 Access VBA 中编码）是 SUSPENDED（它的命令被挂起的是 SELECT）。

我有其他数据库以相同的方式构建并且没有问题。我在使用 Access 运行时检查了工作数据库上的 sp_who2，并且因“有问题的”数据库而被暂停的用户正在与这个数据库一起睡觉。

我已经检查了两个数据库的权限，并检查了安全--> 登录中用户的权限，但没有看到任何我可以标记为问题的内容（也许其他人可以？）。

不知道为什么会发生这种情况以及为什么数据库被 SQL 用户锁定并且不会让 Access 用户更新相关记录。

任何人都可以对这个问题有所了解吗？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-02T07:07:10.797

正如 Remou 评论的那样，将所有位数据类型更改为 smallint 并填充 0 其中 Null 成功了。我不需要将 1 更改为 -1，因为我的字段处于未勾选 (=0) 的初始状态。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-03-23T10:18:11.353

我遇到过同样的问题，

```
 sql2 = "Select * from voeding where id = " & ID_Voeding_Site.Value & ""
    Set rst2 = bbase.OpenRecordset(sql2)
        rst2.Edit
        rst2.Fields("verwerkt").Value = 1
        rst2.Fields("printdatum").Value = Date
        rst2.Update
        rst2.Close 
```

卡在.update上。我将其更改为：

```
 sql2 = "Select Verwerkt, Printdatum from voeding where id = " & ID_Voeding_Site.Value & ""
    Set rst2 = bbase.OpenRecordset(sql2)
        rst2.Edit
        rst2.Fields("verwerkt").Value = 1
        rst2.Fields("printdatum").Value = Date
        rst2.Update
        rst2.Close 
```

没有更多的麻烦出现。希望这对其他人有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-10-02T20:49:55.477

按照建议，我将字段中位数据类型从 null 更改为 0 的数据，还将数据类型更改为 int。这解决了问题。

# android - 如何在 android 2.2 中获取 firstInstallTime？

> ID：11753865
> 
> 赞同：0
> 
> 时间：2012-08-01T06:42:35.467
> 
> 标签：android, android-layout

我想要 android 2.2 版的第一次安装时间。我已经在 android 2.3 中完成，如何在 android 2.2 中完成这是我的代码

```
try 
    {
        long installed = context.getPackageManager().getPackageInfo("com.simsys.securex", 0).firstInstallTime;
        String DateTimeStamp=getDate(installed, "dd/MM/yyyy hh:mm:ss");
        String dateTimeSync="Installed_Date:";
        String dateTimeSync2=dateTimeSync.concat(DateTimeStamp);
        TextView txtCurrentTime= (TextView)findViewById(R.id.textViewdatetime);
        txtCurrentTime.setText(dateTimeSync2);
    }
    catch (NameNotFoundException e) 
    {
        e.printStackTrace();
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:59:03.520

```
PackageManager packageManager = context.getPackageManager();
ApplicationInfo appInfo = packageManager.getApplicationInfo("com.simsys.securex", 0);
String sourceDir= appInfo.sourceDir;
long dateTimeSync= new File(sourceDir).lastModified(); 
```

# android - 在 SQLite 中获取列的类型

> ID：11753871
> 
> 赞同：12
> 
> 时间：2012-08-01T06:43:01.127
> 
> 标签：android, sqlite

我的伙伴为我的 Android 应用创建了数据库。例如，其中一个表是这样创建的：

```
CREATE TABLE table1(
    id_fields_starring INTEGER PRIMARY KEY AUTOINCREMENT
    , fields_descriptor_id INTEGER NOT NULL
    , starring_id INTEGER NOT NULL
    , form_mandatory INTEGER NOT NULL DEFAULT 1
    , form_visible INTEGER NOT NULL DEFAULT 1
    , FOREIGN KEY(fields_descriptor_id) REFERENCES pr_fields_descriptor(id_fields_descriptor) ON DELETE CASCADE ON UPDATE CASCADE
    , FOREIGN KEY(starring_id) REFERENCES starring(id_starring) ON DELETE CASCADE ON UPDATE CASCADE
) 
```

从表的字段中，我需要知道它们中的哪些是，`INTEGER NOT NULL`哪些是`INTEGER NOT NULL DEFAULT 1`，因为对于第一种情况，我必须动态创建一个`EditText`，而对于第二种情况，我必须创建一个`CheckBox`。任何的想法？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-08-01T06:52:37.557

来电：

```
PRAGMA table_info(table1); 
```

将转储表格信息，例如

```
cid|name                 |type    |notnull |dflt_value |pk
0  |id_fields_starring   |INTEGER |0       |           |1
1  |fields_descriptor_id |INTEGER |1       |           |0
2  |starring_id          |INTEGER |1       |           |0
3  |form_mandatory       |INTEGER |1       |1          |0
4  |form_visible         |INTEGER |1       |1          |0 
```

只需使用 and 找到光标中的`notnull=1`行`dflt_value=1`

* * *

**编辑：**

要列出所有定义为`INTEGER NOT NULL DEFAULT 1`这样的列（`helper`是您的实例`SQLiteOpenHelper`）：

```
SQLiteDatabase db = helper.getWritableDatabase();
Cursor cursor = db.rawQuery("PRAGMA table_info(table1)", null);
try {
    int nameIdx = cursor.getColumnIndexOrThrow("name");
    int typeIdx = cursor.getColumnIndexOrThrow("type");
    int notNullIdx = cursor.getColumnIndexOrThrow("notnull");
    int dfltValueIdx = cursor.getColumnIndexOrThrow("dflt_value");
    ArrayList<String> integerDefault1NotNull = new ArrayList<String>();
    while (cursor.moveToNext()) {
        String type = cursor.getString(typeIdx);
        if ("INTEGER".equals(type)) {
            // Integer column
            if (cursor.getInt(notNullIdx) == 1) {
                // NOT NULL
                String defaultValue = cursor.getString(dfltValueIdx);
                if ("1".equals(defaultValue)) {
                    integerDefault1NotNull.add(cursor.getString(nameIdx));
                }
            }
        }
    }
    System.out.println("integerDefault1NotNull now contains a list of all columns " +
            " defined as INTEGER NOT NULL DEFAULT 1, " + integerDefault1NotNull);
} finally {
    cursor.close();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-07-31T14:53:20.340

对于那些希望在 Xamarin 中以编程方式执行此操作的人（如我），您可以对 SQLiteConnection 执行 PRAGMA 查询，如下所示：

```
connection.Query<SqliteColumninfo>($"PRAGMA table_info({tableName})"); 
```

我找不到在 PCL Sqlite 包中定义的用于收集结果的对象，因此我创建了一个类来收集上述组件：

```
public class SqliteColumninfo
{
   public string Cid { get; set; }
   public string Name { get; set; }
   public string Type { get; set; }
   public int NotNull { get; set; }
   public int Dflt_Value { get; set; }
   public int PK { get; set; }
} 
```

# java - 拒绝在颜色类型中添加参数

> ID：11753872
> 
> 赞同：0
> 
> 时间：2012-08-01T06:43:03.683
> 
> 标签：java, android, animation, colors, paint

我正在画线，我在改变颜色时遇到了一个基本问题：S:S

我有以下代码，在最后一行代码中出现错误我无法将参数添加到新颜色（？？？）>>我无法添加 R、G、B 颜色编号

```
 Paint paint = new Paint();
        Random random = new Random();
        int R = (int)(Math.random()*256);
        int G = (int)(Math.random()*256);
        int B= (int)(Math.random()*256);
        paint.setColor(new Color(R , G , B)); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T06:47:13.573

你不能创建这样的`Color`对象。`Color`只是一个处理基于颜色的操作的静态 Android 助手类。

试试这个：

```
paint.setColor(Color.rgb(R , G , B)); 
```

供参考，见[`Color.rgb(...)`方法](http://developer.android.com/reference/android/graphics/Color.html#rgb%28int,%20int,%20int%29)。

# sql - Postgresql：从第二个表中选择的列的随机值

> ID：11753873
> 
> 赞同：2
> 
> 时间：2012-08-01T06:43:09.230
> 
> 标签：sql, postgresql

我有两张桌子`drivers`和`drivers_names`. 我想要的是从第一个表中选择的每个驱动程序从第二个表中选择一个随机名称，但我得到的是结果中所有驱动程序的一个名称。是的，它每次都不同，但它适用于所有人。这是我的查询，我正在使用`postgresql`.

```
SELECT
    drivers.driver_id AS drivers_driver_id,
    (
        SELECT
            drivers_names.name_en
        FROM
            drivers_names
        ORDER BY random() LIMIT 1
    ) AS driver_name
FROM
    drivers 
```

结果：

```
11  Denis
13  Denis
7   Denis 
```

表结构。

**司机**

```
+--------------+
| column_name  |
+--------------+
| driver_id    |
| property_1   |
| property_2   |
| property_3   |
+--------------+ 
```

**司机姓名**

```
+-------------+
| column_name |
+-------------+
| name_id     |
| name_en     |
+-------------+ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T11:18:37.390

Postgres 可能只评估一次子选择，因为从技术上讲，没有理由为每一行评估它。您可以通过将驱动程序表中的列引用到子选择中来强制它，如下所示：

```
SELECT
    drivers.driver_id AS drivers_driver_id,
    (
        SELECT
            drivers_names.name_en
        FROM
            drivers_names
        ORDER BY random()+drivers.driver_id LIMIT 1
    ) AS driver_name
FROM
    drivers 
```

# iphone - 如何在objective-c iPhone中缩放图像之前和之后使用橡皮擦？

> ID：11753874
> 
> 赞同：0
> 
> 时间：2012-08-01T06:43:10.637
> 
> 标签：iphone, objective-c, image-processing, erase

我正在做一些图像处理项目，我需要在图像上实现橡皮擦。我还必须实现捏合效果以将图像缩放得更小或更大。捏工作得很好。如果我不通过捏缩放图像，橡皮擦也可以完美工作。但是当我使用捏然后使用橡皮擦时。图像变得模糊。我已经在`UIPanGestureRecognizer`.

下面是橡皮擦的代码。

```
CGPoint translatedPoint = [(UIPanGestureRecognizer*)sender locationInView:tattooImage];
if([(UIPanGestureRecognizer*)sender state] == UIGestureRecognizerStateBegan)
{
     lastPoint = translatedPoint;
     //lastPoint.x += 60;
     //lastPoint.y += 60;
}
else
{
     CGPoint currentPoint = translatedPoint;
     //currentPoint.x += 60;    
     //currentPoint.y += 60;

     UIGraphicsBeginImageContext(tattooImage.frame.size);
     [tattooImage.image drawInRect:CGRectMake(0, 0,tattooImage.frame.size.width, tattooImage.frame.size.height)];
     CGContextSetBlendMode(UIGraphicsGetCurrentContext( ),kCGBlendModeClear);
     CGContextSetLineCap(UIGraphicsGetCurrentContext(), kCGLineCapRound);
     CGContextSetLineWidth(UIGraphicsGetCurrentContext( ), 25.0);

     CGContextSetStrokeColorWithColor(UIGraphicsGetCurrentContext(), [[UIColor clearColor] CGColor]);
     CGContextBeginPath(UIGraphicsGetCurrentContext());
     CGContextMoveToPoint(UIGraphicsGetCurrentContext(), lastPoint.x, lastPoint.y);
     CGContextAddLineToPoint(UIGraphicsGetCurrentContext(), currentPoint.x, currentPoint.y);
     CGContextStrokePath(UIGraphicsGetCurrentContext()) ;

     tattooImage.image = UIGraphicsGetImageFromCurrentImageContext();
     UIGraphicsEndImageContext();

     lastPoint = currentPoint;
} 
```

请提供任何帮助。提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-01T09:44:42.633

图像处理程序的工作方式不是直接处理您在屏幕上看到的内容（可能除了 MSPaint ...），而是将所有工作应用于 1:1 比例副本，并向您显示放大的版本.

您需要做的是将您正在处理的图像保存在屏幕之外。屏幕上显示的图像将需要从此源复制。

然后，您可以计算所有触摸事件相对于图像发生的位置，而不是将擦除/绘制直接应用于屏幕上的图像，而是将它们应用于适当缩放的未缩放图像。

类似于以下内容：

1.  存储图像副本​​以供处理。
2.  获取触摸位置。
3.  根据视图中的比例/位置计算相对位置
4.  对存储的图像副本应用橡皮擦
5.  在当前缩放级别/位置更新图像的屏幕副本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T11:52:18.927

我找到了解决方案。我做了一个小改动，得到了想要的结果。我在代码中的任何地方都进行了更改`tattooImage.frame.size`，`tattooImage.bounds.size`并且效果很好。感谢[https://stackoverflow.com/users/1389202/pete-c](https://stackoverflow.com/users/1389202/pete-c)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T07:51:38.913

我想我有一个解决办法。首先，您使用`UIPanGestureRecognizer`来移动对象。您可以简单地使用我们`UITouch`，因为实施会更容易。我提供了一些代码：-

```
- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event
{

    mouseSwiped = YES;

    UITouch *touch = [[event touchesForView:imageView] anyObject];
    CGPoint currentPoint = [touch locationInView:drawingView];

    UIGraphicsBeginImageContext(drawingView.frame.size);
    [drawingView.image drawInRect:CGRectMake(0, 0, drawingView.frame.size.width, drawingView.frame.size.height)];
    CGContextSetLineCap(UIGraphicsGetCurrentContext(), kCGLineCapRound);
    CGContextSetLineWidth(UIGraphicsGetCurrentContext( ), 5.0);
    if (eraserSelected)
    {
        CGContextSetBlendMode(UIGraphicsGetCurrentContext(), kCGBlendModeClear);
        CGContextSetLineWidth(UIGraphicsGetCurrentContext( ), 10.0);
    }
    [self changeBrushColor];
    CGContextBeginPath(UIGraphicsGetCurrentContext());
    CGContextMoveToPoint(UIGraphicsGetCurrentContext() , lastPoint.x, lastPoint.y);
    CGContextAddLineToPoint(UIGraphicsGetCurrentContext(), currentPoint.x, currentPoint.y);
    CGContextStrokePath(UIGraphicsGetCurrentContext()) ;
    drawingView.image = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();

    lastPoint = currentPoint;  
    } 
```

现在您可以制作自己的`touchesBegan`方法`touchesEnded`。

# while-loop - 这个while循环的时间复杂度？

> ID：11753880
> 
> 赞同：0
> 
> 时间：2012-08-01T06:43:39.877
> 
> 标签：while-loop, time-complexity

这个循环的时间复杂度是多少？

```
j=2
while(j <= n)
{
    //body of the loop is Θ(1)
    j=j^2
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T06:51:41.770

你有

```
j = 2 
```

每个循环：j = j^2

模式是：

```
2     = 2^(2^0)
2*2   = 2^(2^1)
4*4   = 2^(2^2)
16*16 = 2^(2^3) 
```

可以看作：

```
2^(2^k) with k being the number of iteration 
```

因此循环在 时停止：

```
2^(2^k) >= n
log2(2^(2^k)) >= log2(n)
2^k >= log2(n)
log2(2^k) >= log2(n)
k >= log2(log2(n)) 
```

复杂度为 log2(log2(n))

# jobs - 这是在sql server中删除多个作业的正确方法

> ID：11753881
> 
> 赞同：6
> 
> 时间：2012-08-01T06:43:43.137
> 
> 标签：jobs, sql-server-2012

我使用的是 SQL Server 2012，我有一个必须删除 sql 作业的情况。我发现了两种方法，如下所示：

**方法一**

```
DECLARE @jobId binary(16)  

WHILE (1=1)
BEGIN
    SET @jobId = NULL
    SELECT TOP 1 @jobId = job_id FROM msdb.dbo.sysjobs WHERE (name like N'Abc%') 

    IF @@ROWCOUNT = 0
        BREAK

    IF (@jobId IS NOT NULL) 
    BEGIN     
        EXEC msdb.dbo.sp_delete_job @jobId 
    END 
END 
```

**方法二**

```
DECLARE @listStr VARCHAR(MAX)=null

SELECT @listStr = COALESCE(@listStr+'exec msdb.dbo.sp_delete_job ' ,'') + '''' + convert(varchar(max),job_id) + '''; '
FROM msdb.dbo.sysjobs WHERE (name like N'$(TestPublisherServer)-$(TestPublisherDB)%') 

IF @listStr is not null
BEGIN 
    PRINT 'exec msdb.dbo.sp_delete_job ' + @listStr
    EXEC ('exec msdb.dbo.sp_delete_job ' + @listStr)
END 
```

这两种方法都会删除作业，但我想知道哪种方法最好，或者您可以建议我更有效或更正确的方法来删除作业。

还有一个问题是，我们是否必须在删除之前停止/禁用该作业。

TIA哈沙

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T06:54:50.740

我会使用**方法 1**，因为它既简单又有效。之前不需要禁用该作业。如果您在作业运行时删除作业，该作业将因错误而终止，因此请检查您是否有此要求。

处理此问题的方法（由 OP 发布）：

```
IF exists(
    select 1 from msdb.dbo.sysjobactivity activity 
    where activity.run_Requested_date is not null 
           and activity.stop_execution_date is null 
           and activity.job_id = @jobId) 
 exec msdb.dbo.sp_stop_job @job_id = @jobId 
```

我不确定你是否担心留下来的时间表。根据`@delete_unused_schedule`设置方式，`sp_delete_job`默认将其删除。

见存储过程注释

```
@delete_unused_schedule   BIT   = 1     -- For backward compatibility schedules are deleted by default if they are not 
                                        -- being used by another job. With the introduction of reusable schedules in V9 
                                        -- callers should set this to 0 so the schedule will be preserved for reuse. 
```

所以这个选项会让你保持灵活，但我认为你不需要时间表，因为你可能想清理你的系统。

# deflate - 为什么需要使用 mod_deflate.c 进行压缩？

> ID：11753886
> 
> 赞同：-1
> 
> 时间：2012-08-01T06:44:03.687
> 
> 标签：deflate

是必需的吗？可选的？除了性能速度之外，它还有什么好处吗？

# # 在 web 根目录中创建 .htaccess 文件：

```
<IfModule mod_deflate.c>

    SetOutputFilter DEFLATE

</IfModule>

php_flag magic_quotes_gpc off

RewriteEngine on
RewriteRule ^([^./]{3}[^.]*)$ /index.php?page=$1 [QSA,L] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T04:34:11.553

> Gzipping 通常会减少大约 70% 的响应大小。今天大约 90% 的
> Internet 流量通过声称支持 gzip 的浏览器传输。如果您使用 Apache，配置 gzip 的模块取决于您的版本：Apache 1.3 使用 mod_gzip，而 Apache 2.x 使用 mod_deflate。

欲了解更多信息 chekcout：http: [//developer.yahoo.com/performance/rules.html](http://developer.yahoo.com/performance/rules.html)

# iphone - 如何阅读屏幕以查看哪些像素是白色的

> ID：11753892
> 
> 赞同：0
> 
> 时间：2012-08-01T06:44:28.040
> 
> 标签：iphone, ios, image-processing, screenshot

我有一个视图，用户可以在该视图上绘制一些线，这些线是使用[this](https://developer.apple.com/library/ios/#samplecode/GLEssentials/Listings/Classes_iOS_EAGLView_h.html)开发的。

现在使用代码在点之间绘制线条：

```
- (void) renderLineFromPoint:(CGPoint)start toPoint:(CGPoint)end
{
    static GLfloat*     vertexBuffer = NULL;
    static NSUInteger   vertexMax = 64;
    NSUInteger          vertexCount = 0,
                        count,
                        i;

    //Allocate vertex array buffer
    if(vertexBuffer == NULL)
        vertexBuffer = malloc(vertexMax * 2 * sizeof(GLfloat));

    // Add points to the buffer so there are drawing points every X pixels
    count = MAX(ceilf(sqrtf((end.x - start.x) * (end.x - start.x) + (end.y - start.y) * (end.y - start.y)) / kBrushPixelStep), 1);
    for(i = 0; i < count; ++i) {
        if(vertexCount == vertexMax) {
            vertexMax = 2 * vertexMax;
            vertexBuffer = realloc(vertexBuffer, vertexMax * 2 * sizeof(GLfloat));
        }

        vertexBuffer[2 * vertexCount + 0] = start.x + (end.x - start.x) * ((GLfloat)i / (GLfloat)count);
        vertexBuffer[2 * vertexCount + 1] = start.y + (end.y - start.y) * ((GLfloat)i / (GLfloat)count);
        vertexCount += 1;
    }

    //Render the vertex array
    glVertexPointer(2, GL_FLOAT, 0, vertexBuffer);
    glDrawArrays(GL_POINTS, 0, vertexCount);

    // Display the buffer
    [self swapBuffers];
} 
```

目标是读取由以下代码启动的屏幕绘图区域：

```
PictureView * scratchPaperView = [[RecordedPaintingView alloc] initWithFrame:CGRectMake(0, 45, 320, 415)];
    [self.view addSubview:scratchPaperView]; 
```

我想找出线条的像素，即绘图区域中所有白色的像素。请告诉我如何从这里开始？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T11:38:18.140

假设您可以从 PictureView 中获取 UIImage.CGImage 或 CGImageRef，然后将此图像渲染到 CGBitMapContext 中。该图像将告诉您组件的数量以及它是否具有 alpha 以及 alpa 在哪里。很可能您将获得 4 字节像素（32 位/像素）。然后，您遍历每一行，查看每个像素。假设背景为黑色（即 255,0,0,0 或 0,0,0,255），当您靠近或击中一条线时，您将看到非黑色像素。纯像素将是 255,255,255,255。

我很确定您可以找到如何将图像渲染到上下文中的示例，以及如何通过谷歌搜索来检查像素。坦率地说，总是让我感到困惑的是令人困惑的像素布局属性——我通常最终会打印一些测试用例以确保我做对了。

# database - 在 ubuntu 服务器中使用数据库备份网站

> ID：11753894
> 
> 赞同：0
> 
> 时间：2012-08-01T06:44:42.283
> 
> 标签：database, ubuntu, backup

我有一个 ubuntu 本地服务器，我们曾经在其中拥有我们所有的开发网站。它们都是基于 php 的网站。我想知道我们是否可以有脚本或其他东西来每天将文件和数据库备份到外部硬盘？

请告诉我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-06-21T16:57:48.837

这是服务列表，应该可以帮助您

*   [http://jarvys.io](http://jarvys.io) - 命令行工具/服务，提供服务器备份到云，简单的恢复过程。
*   [https://bitcalm.com](https://bitcalm.com) - 用于 Linux 服务器文件和数据库备份的 SaaS。它具有 web ui 来配置和管理所有服务器的备份。它将您的数据备份到 Amazon S3（您可以使用自己的存储），恢复非常简单。

我没有足够的声誉来发布更多链接。但是你可以搜索gobitcan、backuprun、tarsnap等服务——所有这些服务也可以解决你的问题。

# android - android 4.03 中的connectivity_service 导致NPE？

> ID：11753902
> 
> 赞同：1
> 
> 时间：2012-08-01T06:45:18.400
> 
> 标签：android, libgdx

我最近在安卓市场上发布了一款游戏，今天通过 ACRA 收到了我的第一份错误报告。例外是：

```
java.lang.NullPointerException
at com.sweee.db.AndroidDBHelper.java.util.ArrayList getScores()(SourceFile:65)
at sweee.com.screens.HighScoreScreen.void show()(SourceFile:180)
at com.badlogic.gdx.Game.void setScreen(com.badlogic.gdx.Screen)(SourceFile:59)
at sweee.com.screens.LevelDoneScreen.void render$133aeb()(SourceFile:46)
at com.badlogic.gdx.Game.void render()(SourceFile:46)
at com.sweee.main.SweeeMain.void render()(SourceFile:125)
at com.badlogic.gdx.backends.android.AndroidGraphics.void
onDrawFrame(javax.microedition.khronos.opengles.GL10)(SourceFile:452)
at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1462)
at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1216) 
```

通过 ACRA，我知道该设备是运行 ICS 4.03 的 Acer Iconia A100。不幸的是，我无法在模拟器上重现错误（尝试连接到互联网和飞行模式）。它声称抛出 NPE 的行是对我的函数“isConnected()”的调用，它执行以下操作：

```
public boolean isConnected() {
        final ConnectivityManager connectManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);

        // Return true if connected, either in 3G or wi-fi
        final boolean connected = (connectManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE).getState() == NetworkInfo.State.CONNECTED || connectManager.getNetworkInfo(
            ConnectivityManager.TYPE_WIFI).getState() == NetworkInfo.State.CONNECTED);
        return connected;
} 
```

我几乎一无所知，想修复这个错误。这种检查特定于 ICS 4.03 或 Iconia A100 的现有 Internet 连接的方法是否存在一般性问题？

也许拥有 Iconia A100 的人可以帮我一个忙并尝试重现失败？该游戏在[此处](https://play.google.com/store/apps/details?id=com.sweee.main)的 android 市场上是免费的。非常感谢您的时间和任何可能的答案或提示。

编辑：

```
@Override
    public ArrayList<Score> getScores() {

    Cursor c = getWritableDatabase().query("scores", null, null, null, null, null, "points DESC");
    if (c.moveToFirst()) {
        do {
            Score s = new Score(c.getString(1), c.getInt(2), getBoolFromInt(c.getInt(3)), getBoolFromInt(c.getInt(4)));
            if (!scores.contains(s)) {
                scores.add(s);
            }
        } while (c.moveToNext());
    }

    if (isConnected()) {

        syncDB();
    }

    return scores;
} 
```

这是导致 NPE 的函数。第 65 行将是

```
if(isConnected()) { 
```

ArrayList 分数在类获取时被实例化（应用程序的第一次调用之一，之前没有调用，因此不应为空）。对 score.contains(s) 和 add 的调用都不应该导致 NPE，对吧？我只是不明白。特别是当这段代码在其他 9 台设备上运行良好时......

我真的很感激任何更多的帮助。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T17:24:23.267

我最近`isConnect()`在 Acer Iconia A100 中遇到了这个问题

我发现的解决方案正在改变`isConnect()`如下方法，并且效果很好！

我只是把洞代码放在一个try catch中，当它抛出一个`nullPointerException`我返回true

你可以在这里看到代码：

```
 public Boolean isConnect() {

    try{
    ConnectivityManager cm = (ConnectivityManager) mContext.getSystemService(Context.CONNECTIVITY_SERVICE);

    if (cm.getNetworkInfo(ConnectivityManager.TYPE_MOBILE).getState() == etworkInfo.State.CONNECTED
            || cm.getNetworkInfo(ConnectivityManager.TYPE_WIFI).getState() ==NetworkInfo.State.CONNECTED) {

        return true;
    } else {
        return false;
    }
    }
    catch(NullPointerException e)
    {
        return true;
    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T08:48:48.763

我认为错误在这条线上

```
final boolean connected =
        (connectManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE).getState() == NetworkInfo.State.CONNECTED 
        || connectManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI).getState() == NetworkInfo.State.CONNECTED); 
```

发生这种情况是因为`(ConnectivityManager)context.getSystemService(Context.CONNECTIVITY_SERVICE);`返回 null。

查看[文档](http://developer.android.com/reference/android/content/Context.html#getSystemService%28java.lang.String%29)。它说 `Returns: The service or null if the name does not exist.`据此，名称`Context.CONNECTIVITY_SERVICE`不存在。这可能是操作系统实施问题吗？大概。

我有一个有点“相似”的情况：我想启动一个活动来处理`android.provider.Settings.ACTION_DATA_ROAMING_SETTINGS`，并且在我的设备上它可以工作（OS 2.3.7），但在其他一些设备上（OS 版本高于和低于 2.3.7）它没有不工作。这可能是操作系统实施问题吗？最有可能的。

由于您无法重现崩溃，

1.  购买`Acer Iconia A100 with ICS 4.03`并测试它
2.  使用一些诡计。我的意思是：

使用以下代码发布更新，并希望您的 Acer Iconia 用户更新应用程序：

```
public boolean isConnected() {
    final ConnectivityManager connectManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);

    // trickery
    if (connectManager == null) {
        throw new RuntimeException("connectManager is null!");
    }
    // end trickery

    // Return true if connected, either in 3G or wi-fi
    final boolean connected =
        (connectManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE).getState() == NetworkInfo.State.CONNECTED 
        || connectManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI).getState() == NetworkInfo.State.CONNECTED);
    return connected;
} 
```

通过这种方式，您可以获得包含此特定消息的崩溃报告。这样你就可以得出一些结论。

无论如何，如果您只想让您的应用程序正常工作，请检查`connectManager`.`null`

希望这可以帮助。

## 编辑：

或者，只需执行以下操作：

```
public boolean isConnected() {
    // final ConnectivityManager connectManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);

    final ConnectivityManager connectManager = null;

    // Return true if connected, either in 3G or wi-fi
    final boolean connected =
        (connectManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE).getState() == NetworkInfo.State.CONNECTED 
        || connectManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI).getState() == NetworkInfo.State.CONNECTED);
    return connected;
} 
```

并查看堆栈跟踪是否相同。

# sql - PostgreSQL 使用内部连接删除

> ID：11753904
> 
> 赞同：257
> 
> 时间：2012-08-01T06:45:22.617
> 
> 标签：sql, postgresql

```
DELETE B.* 
FROM   m_productprice B  
       INNER JOIN m_product C ON B.m_product_id = C.m_product_id 
WHERE  C.upc = '7094' AND B.m_pricelist_version_id = '1000020' 
```

我收到以下错误 PostgreSQL 8.2.11

```
ERROR:  syntax error at or near "B"
LINE 1: DELETE B.* from m_productprice B  INNER JOIN m_product C ON ... 
```

我试着给

```
DELETE B from m_productprice B  INNER JOIN m_product C ON B....
 ERROR:  syntax error at or near "B" 
```

我试着给

```
ERROR:  syntax error at or near "INNER"
LINE 1: DELETE from m_productprice B  INNER JOIN m_product C ON B.m_... 
```

我的查询有什么问题？

* * *

## 回答 #1

> 赞同：369
> 
> 时间：2012-08-01T06:46:54.930

```
DELETE 
FROM m_productprice B  
     USING m_product C 
WHERE B.m_product_id = C.m_product_id AND
      C.upc = '7094' AND                 
      B.m_pricelist_version_id='1000020'; 
```

或者

```
DELETE 
FROM m_productprice
WHERE m_pricelist_version_id='1000020' AND 
      m_product_id IN (SELECT m_product_id 
                       FROM m_product 
                       WHERE upc = '7094'); 
```

* * *

## 回答 #2

> 赞同：63
> 
> 时间：2012-08-01T07:01:38.823

这对我有用：

```
DELETE from m_productprice
WHERE  m_pricelist_version_id='1000020'
       AND m_product_id IN (SELECT m_product_id
                            FROM   m_product
                            WHERE  upc = '7094'); 
```

* * *

## 回答 #3

> 赞同：56
> 
> 时间：2018-12-14T00:51:19.417

如果您有多个联接，则可以使用逗号分隔的 USING 语句：

```
DELETE 
FROM 
      AAA AS a 
USING 
      BBB AS b,
      CCC AS c
WHERE 
      a.id = b.id 
  AND a.id = c.id
  AND a.uid = 12345 
  AND c.gid = 's434sd4' 
```

[参考](https://www.drupal.org/docs/7/guidelines-for-sql/writing-code-compliant-with-both-mysql-and-postgresql/mysqlism-and-0)

* * *

## 回答 #4

> 赞同：47
> 
> 时间：2015-07-30T18:41:43.443

另一种适用于 Postgres 9.1+ 的形式是将公用表表达式与用于连接的 USING 语句相结合。

```
WITH prod AS (select m_product_id, upc from m_product where upc='7094')
DELETE FROM m_productprice B
USING prod C
WHERE B.m_product_id = C.m_product_id 
AND B.m_pricelist_version_id = '1000020'; 
```

* * *

## 回答 #5

> 赞同：29
> 
> 时间：2016-02-11T16:04:27.453

只需使用带有 INNER JOIN、LEFT JOIN 或其他的子查询：

```
DELETE FROM m_productprice
WHERE m_product_id IN
(
  SELECT B.m_product_id
  FROM   m_productprice  B
    INNER JOIN m_product C 
    ON   B.m_product_id = C.m_product_id
  WHERE  C.upc = '7094' 
  AND    B.m_pricelist_version_id = '1000020'
) 
```

优化查询，

*   使用[NOT EXISTS](http://www.postgresql.org/docs/devel/static/functions-subquery.html)代替`IN`
*   和[WITH](http://www.postgresql.org/docs/devel/static/queries-with.html)用于大型子查询

# c - 本地初始化字符串数组的内存分配

> ID：11753905
> 
> 赞同：0
> 
> 时间：2012-08-01T06:45:39.380
> 
> 标签：c, variables, memory, memory-management, initialization

假设我写了一个函数如下：

```
void foo()
{
   char *strArr[] = {"AA", "BB", "CC"};
   ...
} 
```

strArr 将分配到哪里？什么时候初始化？

出于某种原因，我记得这样一个数组将分配在静态内存空间中，而不是在堆栈上并在程序启动时初始化，就好像我会在它之前写“静态”一样。难道是假记忆？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-01T06:47:13.433

它具有自动存储功能，因此它将被分配到函数的堆栈上。元素属于这种自动存储，但字符串文字本身存储在一个持久的、可能是只读的区域中。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-01T07:06:15.130

该数组将作为本地对象分配。在一般情况下，所有本地对象的内存可以在函数开始执行时尽早分配，或者可以“按需”分配，因为控制进入带有对象声明的嵌套块。该语言没有指定确切的时刻。

在您的具体示例中，将在函数开始执行时分配数组的内存，因为您的数组是在函数的“主”块中声明的。

至于初始化……在 C89/90 版本的 C 中，所有聚合初始化器都必须是常量表达式，这意味着聚合初始化过程不能依赖于任何运行时值。初始化可以硬编码到已编译的程序中，并且可以在分配数组后立即进行。

在 C99 中，您可以在聚合初始值设定项中使用运行时值，这意味着实际初始化可能必须延迟到控制传递声明时的时间点。

在您的示例中，数组是用常量表达式初始化的，这意味着它可以在分配后立即初始化。编译器实际上可以提前准备数组的静态副本，并在每次控件进入函数时简单地将其“粘贴”到堆栈中。

PS您对“静态内存”的引用实际上适用于`"AA"`用于初始化数组元素的字符串文字（如 ）。字符串文字确实驻留在静态内存中。但是，字符串文字是完全独立的对象，而您的`strArr`数组是完全独立的对象。

请注意，您的示例中并没有真正的“字符串数组”。你所拥有的是一个指向字符串的*指针数组。*您`strArr`生活在本地内存中，而字符串（指向哪些元素`strArr`）则生活在静态内存中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-01T07:08:01.977

我只是反汇编了一个示例程序。

```
#include <stdio.h>
void foo()
{
   char *strArr[] = {"AA", "BB", "CC"};
}

int main()
{
foo();
return 0;
} 
```

看来，字符串文字将在`.rodata`部分中分配。

```
 .file   "sfsfs.c"
        .section        .rodata
.LC0:
        .string "AA"
.LC1:
        .string "BB"
.LC2:
        .string "CC"
        .text
        .globl  foo
        .type   foo, @function
foo:
.LFB0:
        .cfi_startproc
        pushq   %rbp
        .cfi_def_cfa_offset 16
        .cfi_offset 6, -16
        .....
        ..... 
```

但是 strArr 将仅在堆栈中分配。因为它是自动的。

# jquery - Jquery FlexSlider 连续移动（关闭缓动看起来像滚动代码）

> ID：11753907
> 
> 赞同：4
> 
> 时间：2012-08-01T06:45:45.563
> 
> 标签：jquery, easing, flexslider

我刚刚从 JQuery Cycle 转移到 FlexSlider 插件，并且真的很难让以下部分正常工作：

1.  我在列表项中有多个图像，它们连接起来显示为一个大图像。我想关闭缓动，以便它以相同的速度不断水平滚动。

2.  连续的默认动画会移动得很慢，但是有上一个/下一个箭头，我希望动画加速并在您单击它时转到下一个列表项，这可能吗？！

3.  我希望滚动在悬停时暂停动画中间。如果您使用“pauseOnHover”选项，它会等到它完成滚动到下一张幻灯片才能暂停。

如果有人可以帮助我解决上述任何问题，我将不胜感激。这是我的代码

```
$('.flexslider').flexslider({
    animation:'slide',             
    easing:'linear',
    controlNav: false,
    useCCS:false,
    animationSpeed: Modernizr.touch ? 400 : 10000,
    pauseOnHover: true,
    slideshowSpeed:1000,
    animationSpeed:10000,
}); 
```

我的 HTML 基本上就是您在插件示例中看到的内容 - 我没有进行任何调整。

再一次，非常感谢任何帮助！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-16T00:44:29.550

我想出了如何连续滚动我所做的是设置`slideshowSpeed: 1`和`animationSpeed: 4000`

```
$('.flexslider').flexslider({
    animation: "slide",
    animationLoop: true,
    easing: "linear",
    useCSS: false,
    slideshowSpeed: 1,
    animationSpeed: 4000,
    controlNav: false,
    directionNav: false
}); 
```

希望能帮助到你！

# terminal - 崩溃后清理终端中的 ncurses 混乱

> ID：11753909
> 
> 赞同：15
> 
> 时间：2012-08-01T06:45:52.180
> 
> 标签：terminal, ncurses

我正在使用 ncurses 绘制 TUI。问题是每当我的程序出现段错误时，我的终端就会一团糟。我看不到我在输入什么。因为我在 ssh 上工作，所以很痛苦。我通过使用屏幕减轻了一些影响。

我想知道是否有一个命令会在 ncurses 中的 seg-fault 之后刷新我的终端，以便我的终端开始正常运行。

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-08-01T07:06:58.870

命令，

```
stty sane 
```

做了这项工作。如果输入不起作用，您可以使用`^J`.

```
stty sane ^J 
```

有时 CR/LF 解释被破坏所以使用`^J`显式。

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2016-04-19T12:33:34.813

ncurses（任何 curses 实现）在运行时将终端模式设置为*raw*和*noecho*，并允许应用程序使用[raw 和 noraw](http://invisible-island.net/ncurses/man/curs_inopts.3x.html#h3-raw_noraw)、[echo 和 noecho](http://invisible-island.net/ncurses/man/curs_inopts.3x.html#h3-echo_noecho)函数模拟这些模式。它这样做是为了提高性能，以避免在这些模式之间切换时等待。

当应用程序调用[`endwin`](http://invisible-island.net/ncurses/man/curs_initscr.3x.html#h3-endwin)时，ncurses 恢复终端模式。它也可以为[reset_shell_mode](http://invisible-island.net/ncurses/man/curs_kernel.3x.html#h3-reset_prog_mode_-reset_shell_mode)执行此操作，但`endwin`使用频率更高。

如果您的应用程序崩溃或退出而没有使用 恢复终端模式`endwin`，最明显的问题是您看不到正在输入的内容，并且按下`enter`不起作用。

ncurses 提供了一个信号处理程序来捕获用户启动的信号`SIGINT`, , 并在捕获*这些*`SIGTERM`信号时进行清理。它不会尝试捕捉，因为在那时，您的应用程序已经死了，并且试图复活它来修复东西会适得其反。*`SIGSEGV`*

 *有些人可能会建议使用`stty sane`来恢复终端模式。这“有效”，但在 Unix 平台上可能会将您的*擦除*键设置为意外值。对于 Linux 和现代 BSD 系统，它恰好可以正常工作。

但是，除此之外，ncurses 通常会重置

*   颜色（终端的默认颜色）
*   画线（禁用）
*   鼠标协议（禁用它）

如果您的应用程序使用这些功能中的任何一个，则该`reset`命令是合适的选择。它通常也会清除屏幕（也许不是想要的）。它使用的字符更少：

`reset``control``J`
`stty sane``control``J`

进一步阅读：

*   *curs_initscr(3x)*中的[信号处理程序](http://invisible-island.net/ncurses/man/curs_initscr.3x.html#h3-Signal-Handlers)
**   *tput(1)*中的[可移植性](http://invisible-island.net/ncurses/man/tput.1.html#h2-PORTABILITY)**   [**`reset`** *- 重新初始化*](http://invisible-island.net/ncurses/man/tset.1.html#h3-reset---reinitialization)**

 *** * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-07-03T15:59:59.540

命令

```
reset 
```

在 Ubuntu 上也为我工作，不过可能有点矫枉过正。最有效的是设置一个别名，如：

```
alias 'clean'='stty sane;clear;' 
```

在我的 .bash_aliases 中，因为我发现自己在调试中需要做很多事情。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-08-01T07:10:58.903

`SIGSEGV`为调用 的 等编写一个信号处理程序`endwin()`。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-08-29T19:40:05.960

我最近在 Mac OSX 终端上遇到了这个问题。以下一组命令有效，而 stty sane 没有。

```
stty discard '^O'
stty dsusp '^Y'
stty eof '^D'
stty eol '^@'
stty eol2 '^@'
stty erase '^?'
stty intr '^C'
stty kill '^U'
stty lnext '^V'
stty min 1
stty quit '^\'
stty reprint '^R'
stty start '^Q'
stty status '^T'
stty stop '^S'
stty susp '^Z'
stty time 0
stty werase '^W' 
```***

# php - 如何在 WAMP 服务器中设置 404 页面的样式

> ID：11753912
> 
> 赞同：5
> 
> 时间：2012-08-01T06:46:01.280
> 
> 标签：php, html, css, http-status-code-404, wamp

我正在使用 WAMP 服务器，我需要使用 CSS 更改“404 未找到页面”样式。我该怎么做？

![在此处输入图像描述](../Images/189f9efd6137613b12e1c56bd9e9b584.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-01T06:57:38.310

在您的`httpd.conf`文件中，将有一个`ErrorDocument`部分：

```
#
# Customizable error responses come in three flavors:
# 1) plain text 2) local redirects 3) external redirects
#
# Some examples:
#ErrorDocument 500 "The server made a boo boo."
#ErrorDocument 404 /missing.html
#ErrorDocument 404 "/cgi-bin/missing_handler.pl"
#ErrorDocument 402 http://www.example.com/subscription_info.html
# 
```

之后，添加以下代码：

```
ErrorDocument 404 /error.html 
```

这会将错误页面设置为一个名为 的文件`error.html`，这比使用`.htaccess`文件更好。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-01T06:50:28.887

**您可以使用文件将 404 错误页面重定向`.htaccess`到您的自定义页面。**

使用 HTML/CSS设计您的自定义**404页面。**设置好 404 页面后，您需要做的就是将访问者发送到此页面的错误 URL。为此，只需将以下行添加到您的`.htaccess`文件中：

```
ErrorDocument 404 /404.php 
```

您可以将**404**错误模板放置在您想要的任何位置。例如，您可以将所有错误消息放在一个名为`errormessages`

```
ErrorDocument 404 /errormessages/404.php 
```

请参阅这篇文章，[**如何将 404 错误重定向到自定义页面**](http://www.htaccessbasics.com/404-custom-error-page/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-01T06:51:27.673

这是 Apache 的**[核心功能](http://httpd.apache.org/docs/2.2/mod/core.html#errordocument)**，您可以选择几种更改 404 消息的方法。

要使用 HTML/CSS 创建您自己的自定义页面，您可以将以下选项放入您的`.htaccess`文件中：

```
ErrorDocument 404 /my404.php 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-01T06:53:46.217

在 .htaccess 添加

```
ErrorDocument 404 /path/to/custom/404.php 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-02-27T14:02:52.807

如果您的服务器上托管了许多站点，并且您希望每个站点都有不同的消息，那么添加 `ErrorDocument 404` 到 .htaccess 文件是要走的路。

如果您希望所有网站都出现相同的错误消息，那么在 httpd.conf 中设置 ErrorDocument 是可行的方法。

# java - 当我们声明变量时，编译器实际上做了什么？

> ID：11753916
> 
> 赞同：1
> 
> 时间：2012-08-01T06:46:16.900
> 
> 标签：java, variables

举个例子。

```
public class test {
  public static void main(String args[]) {
    int a=5,b=4;
    int c=a+b;
    int d=9;
    System.out.println("ANSWER PLEASE..");
  }
} 
```

现在，当我们执行这段代码时，os 做了什么？

它首先创建一个名为的变量，并为和`a`分配一个类似的内存地址。`b``c`

现在发生了什么事`d`。os 创建一个新的内存地址，或者它只是引用地址，`c`因为值是相同的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T06:47:49.510

首先，*编译器*没有做太多事情。它基本上将其转换为类文件/字节码。在字节码中有一个称为“max locals”的数字，它告诉运行该方法需要多少局部变量。

另一方面，读取这些信息并运行代码的*JVM确保在堆栈帧上分配内存以适应所需的变量。*它要求多少高度依赖于实现，它可以很好地优化整个事情，并分配比代码指示的更少的字节。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T07:14:32.413

> 发生了什么 d. os 创建一个新的内存地址，或者它只是引用 c 的地址，因为值相同。

*   这被标记为 Java。所以让我们把操作系统排除在外。一切都发生在由 JVM 管理的内存中，该内存是预先以大块分配的。
*   您正在谈论原始数据类型。这些很容易，因为它们是按价值存储的，而不是作为对生活在其他地方的对象的引用。
*   你在谈论局部变量。这些分配在正在运行的线程的调用堆栈上（而不是在堆内存中）。由于它们在这里也是原始的，因此根本不涉及堆。
*   在您的情况下，为四个整数分配了内存（在堆栈上）。它们中的每一个都包含分配给它的值，而不是引用。即使将相同的值分配给所有它们，它们也单独存在。当方法返回时，内存被“释放”（没有真正释放，但不再被线程使用）。
*   如果那些不是整数，而是对象，您可以“共享指针”（指向堆上的对象），但整数是按值存储的（每个四个字节）。

# sql - 执行计划成本估算

> ID：11753919
> 
> 赞同：2
> 
> 时间：2012-08-01T06:46:39.777
> 
> 标签：sql, performance, oracle

有一个问题，我必须根据某些条件更新具有数百万条记录的表。我编写了一个很长的 shell 脚本和 SQL 语句来完成它。为了检查性能，我计划使用解释计划，从[http://docs.oracle.com/cd/B10500_01/server.920/a96533/ex_plan.htm#19259](http://docs.oracle.com/cd/B10500_01/server.920/a96533/ex_plan.htm#19259)

这里写到“执行计划可能因以下原因而不同：”不同的成本-> 数据量和统计数据绑定变量类型初始化参数 - 全局设置或在会话级别设置

在这里，我不明白**初始化参数 - 全局设置或在会话级别设置**如何影响执行计划。有人可以解释一下吗？除了解释计划或自动跟踪之外，还有其他方法可以检查 SQL 语句的性能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T08:28:16.537

有几个（初始化）参数会影响语句的执行计划。立即想到的是[OPTIMIZER_MODE](http://docs.oracle.com/cd/B28359_01/server.111/b28320/initparams161.htm#REFRN10145)

其他不那么明显的会话是可能影响索引可用性的 NLS 设置。

获得真正执行计划的另一种方法（除了跟踪会话和使用 tkprof）是将`/*+ gather_plan_statistics */`提示与“dbms_xplan.display_cursor()”一起使用。

这是通过首先使用上述提示实际运行语句来完成的（因此这确实比“正常”解释需要更长的时间）：

```
select /*+ gather_plan_statistics */ * 
from some_table
  join ...
where ... 
```

然后在该语句完成后，您可以使用 dbms_xplan 检索使用的计划：

```
SELECT * 
FROM table(dbms_xplan.display_cursor(format => 'ALLSTATS LAST'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T07:49:53.740

就我个人而言，我只信任行源操作，因为这给出了执行时的确切计划。确实存在一些影响计划构建方式的参数。大多数参数将在实例级别设置，但可以在会话级别覆盖。这意味着每个会话都可以有自己的一组有效参数。

您遇到的问题是您需要知道要运行脚本的会话的确切设置。有几种方法可以更改会话级别设置。可以在登录触发器、存储过程或脚本中更改设置。

如果您的脚本不受登录触发器的影响并且不调用任何发出`alter session`语句的代码，那么您将使用您的实例具有的设置。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-01T12:52:47.190

**全局或会话参数** Oracle 设置有一组初始化参数。如果未指定任何内容来覆盖它们，则默认情况下将使用它们。它们可以通过使用 ALTER SESSION（仅影响单个用户）或 ALTER SYSTEM（影响所有用户，直到 Oracle 重新启动）命令在会话或系统级别更改内容或通过在代码中使用优化器提示来覆盖。这些可能会对您看到的计划产生影响。

关于解释计划，不同的 Oracle 数据库可能具有不同的初始化参数或设置了一些会话/系统参数，这可能意味着 SAME 代码的行为不同（与另一个 Oracle 数据库相比，在一个 Oracle 数据库上获得不同的执行计划）。

此外，由于执行计划受所选数据的影响，因此在 TEST 中运行良好的查询或包可能永远不会在数据量大得多的 PRODUCTION 中完成。当代码没有使用准确的数据量进行测试时，这是一个常见的问题（或者至少使用从生产数据库导入的表统计信息，如果测试不能保存完整的生产数据量）。

**跟踪** 到目前为止的建议告诉您如何跟踪单个语句，假设您知道哪个语句有问题，但您提到您有一个包含多个 SQL 语句的 shell 脚本。

如果您使用的此处文档只需一次调用 SQL 并包含多个类似这样的 SQL 语句...

```
 #!/bin/ksh
 sqlplus -S user/pass <<EOF
 set heading off
 BEGIN
      -- DO YOUR FIRST SQL HERE
      -- DO YOUR SECOND SQL HERE
 END;
 /

 EOF 
```

...您可以像这样创建单个 oracle 跟踪文件

```
 #!/bin/ksh
 sqlplus -S user/pass <<EOF
 set heading off
 BEGIN
      ALTER SESSION SET EVENTS '10046 trace name context forever, level 8'
      -- DO YOUR FIRST SQL HERE
      -- DO YOUR SECOND SQL HERE
 END;
 /

 EOF 
```

*   请注意，级别 8 用于使用 WAITS 进行跟踪。您可以执行第 4 级（绑定变量）和第 12 级（绑定和等待），但我总是发现只有第 8 级的问题。第 12 级也可能需要更长的时间来执行和在全尺寸环境中。

现在运行 shell 脚本进行一次执行，然后使用 SQL PLUS 检查跟踪文件的创建位置

```
 SQL> show parameter user_dump_dest
  /app/oracle/admin/rms/udump 
```

转到该目录，如果没有启用其他跟踪，将有一个 .trc 文件，其中包含脚本中整个 SQL 运行的跟踪。

您需要使用 unix tkprof 命令将其转换为可读格式，如下所示

```
 unix> tkprof your.trc ~/your.prf sys=no sort=fchela,exeela 
```

现在切换到您的主目录，将有一个 .prf 文件，其中列出了按执行时间最长或获取时间最多的 SQL 语句的顺序与解释计划一起执行。tkprof 的这组参数允许您专注于修复耗时最长的语句，因此调整的回报最大。

请注意，如果您的 shell 脚本运行多个 sqlplus 命令，每个命令都将创建一个单独的会话，因此向每个命令添加一个 ALTER SESSION 语句将创建单独的跟踪文件。

另外，不要忘记很容易迷失在细节中，有时调优是要着眼于整体情况并以另一种方式做同样的事情，而不是从处理可能会增加几秒钟但在整体方案中的单个 SQL 开始无助于减少整体运行时间。

如果可以的话，尽量减少更新语句的数量，就像你有一个大表一样，如果你可以在表的一次通过中进行更新（并且有支持更新的索引）而不是做很多小更新。

如果您需要更多帮助，也许您可​​以发布脚本的相关部分、运行所需的总时间以及解释计划。

# android - 片段错误

> ID：11753921
> 
> 赞同：2
> 
> 时间：2012-08-01T06:46:47.207
> 
> 标签：android, android-fragments

我正在用一个简单的 Fragment 编写程序，但出现如下错误：

```
FrameLayout fl=new FrameLayout(this);
fl.setId(0x1024);

setContentView(fl);
FragmentTransaction ftransc=getFragmentManager().beginTransaction();
FragmentTest2 myFragment=new FragmentTest2();
ftransc.add(fl.getId(), myFragment, "FirstFragment");
ftransc.commit(); 
```

在该`add`方法下，我得到一条红色波浪线，并显示以下错误：

> `add(int, Fragment, String`类型中的方法`FragmentTransaction`不适用于参数`(int, FragmentTest2, String)`。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-01T15:41:40.173

当您将兼容性包`Fragment`和 Android混淆时，通常会出现此问题`Fragment`。如果您尝试使用兼容性 Fragment，请确保您 import `android.support.v4.app.Fragment`，否则请确保您 import `android.app.Fragment`。同样对`FragmentTransaction`.

# ios - 在 ios 中访问 Google 文档

> ID：11753927
> 
> 赞同：1
> 
> 时间：2012-08-01T06:47:12.860
> 
> 标签：ios, ios5, google-docs

我正在尝试通过在 Github 上使用以下示例来访问 Google 文档：- [http://clearproxy.pl/index.php?q=aHR0cHM6Ly9naXRodWIuY29tL2FzdWdheWE%3D](http://clearproxy.pl/index.php?q=aHR0cHM6Ly9naXRodWIuY29tL2FzdWdheWE%3D)

以下是我在尝试登录帐户时遇到的错误，谁能告诉我为什么我收到此错误：-

serviceBase: objectFetcher: failedWithStatus:403 data:GData `ServiceForbiddenException`403.4 SSL required 终止以响应 SpringBoard 的终止。

谢谢。

# c++ - 将嵌套结构变量从 C++ 传递到 C++ dll 导致（L“缓冲区太小”&& 0）

> ID：11753939
> 
> 赞同：0
> 
> 时间：2012-08-01T06:47:59.647
> 
> 标签：c++, dll

我有结构

```
NewStruct1
{
  uint factor;
  NewStruct2 assert[3];
  char name[21];

} 
```

和另一个

```
NewStruct2 
{
  uint newFactor;
  char newName[21];
} 
```

这里我在一个dll中调用一个函数'func'，如下

```
NewStruct1 var;

func(&var); 
```

功能是

```
func(NewStruct1 *v)
{
  std::string myName = "werttt";
  strcpy_s(v->assert[0].newName, myName.size(), myName.c_str());
} 
```

这样做虽然有足够的空间来容纳`strcpy_s`。`(L"Buffer is too small" && 0)`任何机构都可以帮助我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T06:51:50.037

的第二个参数`strcpy_s`必须是*destination*中的元素数，即21（in 中的字符数`newName`），而不是source 的长度。

# plone - 处理 Plone 中的视图隐式获取问题

> ID：11753940
> 
> 赞同：2
> 
> 时间：2012-08-01T06:48:08.870
> 
> 标签：plone

在 Plone 中，在视图类实例中添加成员变量会自动使其成为视图获取链的一部分。问题在这里详细描述：

[http://collective-docs.readthedocs.org/en/latest/views/browserviews.html#views-and-automatic-member-variable-acquisition-wrapping](http://collective-docs.readthedocs.org/en/latest/views/browserviews.html#views-and-automatic-member-variable-acquisition-wrapping)

处理此问题的建议方法是什么

*   我们可以在没有隐式获取的情况下拥有基于 Plone 主模板的视图吗

*   那么viewlet 和portlet 渲染器呢？

*   如果不是......应该如何处理这个问题，以便 self.xxx 变量不会获得额外的采集包装？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-01T08:24:37.520

用于`Acquisition.aq_inner()`剥离额外的包装并将对象恢复到其原始路径。请不要使用您链接到的文档中描述的单项列表方法。

显示链接文档中的一个示例，但使用以下内容进行了更正`aq_inner()`：

```
from Acquisition import aq_inner

self.obj = self.context.reference_catalog.lookupObject(value)
return aq_inner(self.obj).absolute_url() # Acquistion chain corrected 
```

或者，您可以使用以下`aq_inner`属性：

```
self.obj = self.context.reference_catalog.lookupObject(value)
return self.obj.aq_inner.absolute_url() # Acquistion chain corrected 
```

但这仅适用于继承自`Acquisition.Explicit`or的对象`Acquisition.Implicit`；`aq_inner()`如果它不是 Acquisition 包装的对象，则该函数将逐字返回传递的参数。

# windows - 在 C++ Windows 中从系统读取 UTF8

> ID：11753943
> 
> 赞同：0
> 
> 时间：2012-08-01T06:48:22.993
> 
> 标签：windows, encoding, utf-8, wchar-t

我的 Windows 应用程序使用 _wpopen 调用系统命令。此命令产生一个 UTF8 响应，我尝试使用 fgetws 将其读取到 wchar_t 的缓冲区中。问题是我缓冲区中的结果不正确。字符宽度可能存在问题，因为我的缓冲区包含 12 个字符，而在 UTF8 中它应该只包含 4 个字符。我使用 Microsoft Visual Studio 2010。

我已经独立验证了系统命令产生了正确的输出。因此，不知何故是读取操作弄乱了编码。该怎么办？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T00:23:21.457

fgetws[函数](http://msdn.microsoft.com/en-us/library/c37dh6kf.aspx)期望输入为 MBCS 或 UTF-16，具体取决于您是以文本模式还是二进制模式打开文件。它不处理 UTF-8。

相反，请使用 fgets，然后将 UTF-8 显式转换为您想要使用的任何编码。

# css - 使用 CSS 替换文本的最佳方法

> ID：11753944
> 
> 赞同：4
> 
> 时间：2012-08-01T06:48:24.643
> 
> 标签：css

我想在我的项目中替换一个文本说“公司名称”。用例是仅通过为不同的公司维护不同的样式表来为不同的公司生成文档（在预处理之后）。

SEO在这里并不重要。

我正在使用这种方法：

**html**

```
<span class="company-name"> YourCompanyName </span>​ 
```

**css**

```
.company-name{font-size: 0}

.company-name:after{
      content: "New Company Name";
      font-size: 14px;
 }​ 
```

这是 jsFiddle [http://jsfiddle.net/cN9gZ/](http://jsfiddle.net/cN9gZ/)

所以这是我的快速问题：**有没有更好的方法来做同样的事情，只使用 css？**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-01T07:08:00.823

如果你真的需要在 CSS 中做这样的事情，下面的代码更合乎逻辑，风险也更小（考虑到通常的 CSS 警告）：

```
<style>
.company-name:after{
  content: "New Company Name";
}​
</style>
<span class="company-name"></span> 
```

That is, use an element with empty content, so you don’t need any trick to hide the dummy content.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T06:54:48.357

> 有没有更好的方法来做同样的事情，只使用 css？

不，其他所有效果基本上都会导致使用相同的方法：隐藏原始内容并用伪元素（`::after`或`::before`）替换它。

请注意，搜索引擎可能会忽略样式表，这可能会导致一些奇怪的搜索结果。替换标记中的固定内容几乎总是一个更好的主意。在几乎所有情况下，它只需要一个简单的查找和替换。JavaScript 和 CSS 可以被禁用——标记不能。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-01T06:56:50.773

CSS 真的不是为这种事情而设计的。您最好使用 Javascript，甚至更好，只需更改 HTML 代码本身。

除了您已经完成的方式之外，实际上没有任何其他方式可以执行您在 CSS 中提出的要求：该`content`属性在大多数 CSS 样式中不可用，因为 CSS 不适合放置内容。

# jsp - jsp 2是否需要标准jar

> ID：11753948
> 
> 赞同：1
> 
> 时间：2012-08-01T06:48:31.657
> 
> 标签：jsp, jstl, tomcat6, tomcat7

我有一个使用 jsp 2 的 Java EE Web 项目。我的 Web 应用程序中有标准的 1.1.2.jar 和 jsp 2。在tomcat 6.0.35 中没问题。但在 tomcat 7 中，它在 catalina 日志中显示了一些消息

```
org.apache.catalina.startup.TaglibUriRule body 
INFO: TLD skipped. URI: http://java.sun.com/jstl/core_rt is already defined 
Jul 26, 2012 10:56:45 AM org.apache.catalina.startup.TaglibUriRule body 
INFO: TLD skipped. URI: http://java.sun.com/jstl/core is already defined 
Jul 26, 2012 10:56:45 AM org.apache.catalina.startup.TaglibUriRule body 
INFO: TLD skipped. URI: http://java.sun.com/jsp/jstl/core is already defined 
Jul 26, 2012 10:56:45 AM org.apache.catalina.startup.TaglibUriRule body 
INFO: TLD skipped. URI: http://java.sun.com/jstl/fmt_rt is already defined 
Jul 26, 2012 10:56:45 AM org.apache.catalina.startup.TaglibUriRule body 
INFO: TLD skipped. URI: http://java.sun.com/jstl/fmt is already defined 
Jul 26, 2012 10:56:45 AM org.apache.catalina.startup.TaglibUriRule body 
INFO: TLD skipped. URI: http://java.sun.com/jsp/jstl/fmt is already defined 
Jul 26, 2012 10:56:45 AM org.apache.catalina.startup.TaglibUriRule body 
INFO: TLD skipped. URI: http://java.sun.com/jsp/jstl/functions is already defined 
Jul 26, 2012 10:56:45 AM org.apache.catalina.startup.TaglibUriRule body 
INFO: TLD skipped. URI: http://jakarta.apache.org/taglibs/standard/permittedTaglibs is already defined 
Jul 26, 2012 10:56:45 AM org.apache.catalina.startup.TaglibUriRule body 
INFO: TLD skipped. URI: http://jakarta.apache.org/taglibs/standard/scriptfree is already defined 
Jul 26, 2012 10:56:45 AM org.apache.catalina.startup.TaglibUriRule body 
INFO: TLD skipped. URI: http://java.sun.com/jstl/sql_rt is already defined 
Jul 26, 2012 10:56:45 AM org.apache.catalina.startup.TaglibUriRule body 
INFO: TLD skipped. URI: http://java.sun.com/jstl/sql is already defined 
Jul 26, 2012 10:56:45 AM org.apache.catalina.startup.TaglibUriRule body 
INFO: TLD skipped. URI: http://java.sun.com/jsp/jstl/sql is already defined 
Jul 26, 2012 10:56:45 AM org.apache.catalina.startup.TaglibUriRule body 
INFO: TLD skipped. URI: http://java.sun.com/jstl/xml_rt is already defined 
Jul 26, 2012 10:56:45 AM org.apache.catalina.startup.TaglibUriRule body 
INFO: TLD skipped. URI: http://java.sun.com/jstl/xml is already defined 
Jul 26, 2012 10:56:45 AM org.apache.catalina.startup.TaglibUriRule body 
INFO: TLD skipped. URI: http://java.sun.com/jsp/jstl/xml is already defined 
```

我的猜测是 jsp 2 包含了标准标签的特性。因此，我可能不需要为 jsp2 应用程序包含标准 jar。这是正确的还是如果这是错误的，那么为什么会出现此消息？

# ruby - 从红宝石新手返回命令

> ID：11753950
> 
> 赞同：1
> 
> 时间：2012-08-01T06:48:35.240
> 
> 标签：ruby

我是第一次尝试返回功能。以下代码行不显示任何输出。我试图弄清楚我的代码有什么问题。我很感激你的意见。

```
def favourite_drink name
   if name == "tea"
     return "I love tea too!"
   end

   if name == "lemonade"
     return "Stuff's refreshing, isn't it?"
   end

   if name == "coffee"
     return "Dude, don't have too much of that stuff!"
   end

   "So what exactly is it that you like? (scratches head)"
end  

favourite_drink "tea" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T06:52:51.520

没有输出，因为您没有输出函数的结果。

```
puts favourite_drink("tea") 
```

输出：

```
"I love tea too!" 
```

您可能已经在 Ruby 中试验过`irb`，它是一个 REPL——一个读取-评估-打印循环。在 irb 中，如果你输入你的代码，你会看到：

```
 => "I love tea too!" 
```

因为`irb`自动向您显示您键入的任何内容的值。实际运行程序时，您需要特别要求输出您想要打印的任何内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T10:01:03.730

以您的方法为目标，以显示字符串“我也爱茶！” 到输出屏幕（您的终端），您需要为您的方法提供准确的说明。即，您需要指示您的方法 'favourite_drink' 采用参数“tea”并根据方法 'favourite_drink' 中描述的结构使用它

> 把 favourite_drink “茶”

以上将解决您的问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-01T06:52:47.933

到目前为止，我不是 Ruby wizz，但我认为您缺少一段实际上会为您执行输出的代码。你有一些字符串，但它们仍然是：字符串。要将它们实际发送到屏幕，您需要一个类似`puts`or的命令`print`。

见：[http ://en.wikibooks.org/wiki/Ruby_Programming/Strings](http://en.wikibooks.org/wiki/Ruby_Programming/Strings)

```
puts 'Hello world' 
```

# javascript - 检测移动缩放和默认移动分辨率

> ID：11753953
> 
> 赞同：1
> 
> 时间：2012-08-01T06:48:51.753
> 
> 标签：javascript, android, html, ios, mobile

我正在为我的第三方产品开发网站的移动兼容性，我正面临位置固定问题。我正在将页脚固定到视口的底部。
Android 2.3 以下 & iOS 5 以下设备不支持定位。
对于此类设备，目前我已修复我正在计算视口的当前宽度，然后通过 js 将宽度应用于页脚。
但是，当站点上的内容较少或客户站点在头部添加自动缩放元数据时会出现问题。在这种情况下，屏幕被缩放并且页脚内的内容中断。
我不能使用 iScroll，因为它锁定了缩放功能，而且我不能弄乱客户的页面。
请建议我对这个问题提出一些合乎逻辑的解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:10:44.310

写了自定义函数，古时候（IE6时代）人们习惯使用。
它检查浏览器是否支持固定位置。如果不支持，则根据滚动/缩放调整其位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T07:02:41.643

尝试使用

```
<meta name="viewport" content="width=device-width, initial-scale=1"> 
```

所以缩放不会在页面加载时发生 - 但它仍然可供用户使用！

# c# - 如何使用在 betfair api 中收到的给定路径填充树视图？

> ID：11753955
> 
> 赞同：0
> 
> 时间：2012-08-01T06:48:58.527
> 
> 标签：c#, winforms, treeview, betfair

我在 ac# windows 窗体应用程序中使用 betfair API，

当我调用 getAllMarket() 方法时，我得到一个长字符串，其中包括一个没有像这样的刺痛路径：

```
~\Cricket\Group C\England v South Africa\Test Series~  
~\Cricket\Group C\English Domestic\Clydesdale Bank 40 2012\Group Winners~ 
~\Cricket\Group C\England v South Africa\Test Series\England v South Africa (2nd Test)~ 
```

所以我想根据这样的路径填充树视图控件：

```
step 1>Check if the path already exixts, then select the last node on the path, 
step 2>else create the whole path and select the last node,
step 3> add a custom child node to he selected last node of the path, 
```

我之前从未使用过树视图，但现在已经学习了基础知识，并且自定义子节点也已经创建，所以一个详细的答案会非常有帮助，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T07:43:07.070

它是用于 wpf 的，所以在 Windows 窗体中，代码应该是

```
 List<string> mylist = market.Trim('~').Split(new string[] { @"\" }, StringSplitOptions.RemoveEmptyEntries).ToList();
        if (mylist.Count > 0)
        {
            TreeNode root = new TreeNode(mylist[0]);
            treeView1.Nodes.Add(root);
            mylist.RemoveAt(0);

            TreeNode temp = root;
            foreach (string s in mylist)
            {
                temp = AddNode(temp, s);
            }

            treeView1.SelectedNode = root;
        } 
```

第一个循环意味着如果节点存在则返回它，否则创建它并返回它

```
 private TreeNode AddNode(TreeNode parent, string header)
    {
        foreach (TreeNode subitem in parent.Nodes)
            if (subitem.Text.ToString() == header)
                return subitem;
        TreeNode tvi = new TreeNode(header);
        parent.Nodes.Add(tvi);
        return tvi;
    } 
```

# mysql - 查询以联合 mysql 上的 2 个表

> ID：11753957
> 
> 赞同：0
> 
> 时间：2012-08-01T06:49:02.560
> 
> 标签：mysql, union

我正在使用 mysql 5.5，我有 2 个表，如下

```
+--------+---------------+---------------+
| CALLID | DL_THROUGHPUT | UL_THROUGHPUT |
+--------+---------------+---------------+
|    115 |       33.3333 |       43.3333 |
|    116 |            70 |            80 |
+--------+---------------+---------------+

+--------+----------------+----------------+
| CALLID | DL_DATA_VOLUME | UL_DATA_VOLUME |
+--------+----------------+----------------+
|    117 |             45 |             35 |
+--------+----------------+----------------+ 
```

完全加入我得到这个：

```
+--------+---------------+---------------+--------+----------------+----------------+
| CALLID | DL_THROUGHPUT | UL_THROUGHPUT | CALLID | DL_DATA_VOLUME | UL_DATA_VOLUME |
+--------+---------------+---------------+--------+----------------+----------------+
|    115 |       33.3333 |       43.3333 |   NULL |           NULL |           NULL |
|    116 |            70 |            80 |   NULL |           NULL |           NULL |
|   NULL |          NULL |          NULL |    117 |             45 |             35 |
+--------+---------------+---------------+--------+----------------+---------------+ 
```

我需要这个：

```
 +--------+---------------+--------------+-----------------+----------------+
| CALLID | DL_THROUGHPUT | UL_THROUGHPUT |  DL_DATA_VOLUME | UL_DATA_VOLUME |
+--------+---------------+---------------+-----------------+----------------+
|    115 |       33.3333 |       43.3333 |            NULL |           NULL |
|    116 |            70 |            80 |            NULL |           NULL |
|    117 |          NULL |          NULL |              45 |             35 |
+--------+---------------+---------------+-----------------+---------------+ 
```

有什么建议么？

非常感谢你，谢谢赞恩，对不起，但在我解释得不好之前，我也可以这样说：

```
+--------+---------------+---------------+
| CALLID | DL_THROUGHPUT | UL_THROUGHPUT |
+--------+---------------+---------------+
|    115 |       33.3333 |       43.3333 |
|    116 |            70 |            80 |
|    117 |            48 |            51 |
+--------+---------------+---------------+

+--------+----------------+----------------+
| CALLID | DL_DATA_VOLUME | UL_DATA_VOLUME |
+--------+----------------+----------------+
|    117 |             45 |             35 |
|    118 |             37 |             26 |
+--------+----------------+----------------+ 
```

我需要：

```
 +--------+---------------+--------------+-----------------+----------------+
| CALLID | DL_THROUGHPUT | UL_THROUGHPUT |  DL_DATA_VOLUME | UL_DATA_VOLUME |
+--------+---------------+---------------+-----------------+----------------+
|    115 |       33.3333 |       43.3333 |            NULL |           NULL |
|    116 |            70 |            80 |            NULL |           NULL |
|    117 |            48 |            51 |              45 |             35 |
|    118 |          NULL |          NULL |              37 |             26 |        
+--------+---------------+---------------+-----------------+---------------+ 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T06:51:55.970

您可以手动插入`NULL`您知道它们在最终结果中不适用的值：

```
SELECT CALLID, 
       DL_THROUGHPUT, 
       UL_THROUGHPUT, 
       NULL AS DL_DATA_VOLUME,
       NULL AS UL_DATA_VOLUME
FROM   tbl_1

UNION ALL

SELECT CALLID, 
       NULL, 
       NULL, 
       DL_DATA_VOLUME, 
       UL_DATA_VOLUME
FROM   tbl_2 
```

* * *

# 更新：

您可以使用：

```
SELECT    a.CALLID,
          b.DL_THROUGHPUT, 
          b.UL_THROUGHPUT, 
          c.DL_DATA_VOLUME, 
          c.UL_DATA_VOLUME
FROM      (
          SELECT CALLID FROM tbl_1 UNION SELECT CALLID FROM tbl_2
          ) a
LEFT JOIN tbl_1 b ON a.CALLID = b.CALLID
LEFT JOIN tbl_2 c ON a.CALLID = c.CALLID
ORDER BY  a.CALLID 
```

* * *

[*SQLFiddle 演示*](http://www.sqlfiddle.com/#!2/73c9b/1/0)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T07:24:13.503

试试这个查询 -

```
SELECT
  t.CALLID,
  t1.DL_THROUGHPUT,
  t2.UL_THROUGHPUT,
  t1.DL_DATA_VOLUME,
  t2.UL_DATA_VOLUME
FROM (SELECT CALLID FROM table1 UNION SELECT CALLID FROM table2) t
LEFT JOIN table1 t1
  ON t1.CALLID = t.CALLID
LEFT JOIN table2 t2
  ON t2.CALLID = t.CALLID 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-01T07:26:55.543

如果您需要加入，我会选择：

```
SELECT callid, dl_throughput, ul_throughput, dl_data_volume, ul_data_volume
  FROM table1
  FULL JOIN table2 USING(callid) 
```

# java - 如何将 Java 对象传递到 Play 的模板中？【播放框架2.0】

> ID：11753961
> 
> 赞同：0
> 
> 时间：2012-08-01T06:49:18.267
> 
> 标签：java, playframework, playframework-2.0

如何将 Java 对象传递到 Play 的模板中？可能吗？

* * *

好的，我找到了答案。

```
@(variable : really.super.extremely.long.package.name.ClassName) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T06:56:59.177

这个问题讨论过很多次，有很多答案：

[如何在 Play 2.0 中将多个参数传递到模板中？](https://stackoverflow.com/a/11273097/1066240)

# mysql - Struts 2 FreeMarker 模板错误 stack.findValue('top') is undefined and jsp page

> ID：11753971
> 
> 赞同：0
> 
> 时间：2012-08-01T06:50:06.543
> 
> 标签：mysql, eclipse, jsp, struts2

Struts 2 FreeMarker 模板错误 stack.findValue('top') is undefined and jsp page

```
Error on line 69, column 13 in template/simple/select.ftl
stack.findValue('top') is undefined.
It cannot be assigned to itemKey
The problematic instruction:
---- ------
==> assignment: itemKey=stack.findValue('top') [on line 69, column 13 in 
template/simple/select.ftl]
in user-directive s.iterator [on line 59, column 1 in template/simple/select.ftl]
in include "/${parameters.templateDir}/simple/select.ftl" [on line 24, column 1 in    
template/xhtml/select.ftl]
----------    
Java backtrace for programmers:
----------
freemarker.core.InvalidReferenceException: Error on line 69, column 13 in            
template/simple/select.ftl
stack.findValue('top') is undefined.
It cannot be assigned to itemKey
at freemarker.core.Assignment.accept(Assignment.java:111)
at freemarker.core.Environment.visit(Environment.java:221)
at freemarker.core.MixedContent.accept(MixedContent.java:92)
at freemarker.core.Environment.visit(Environment.java:221)
at freemarker.core.IfBlock.accept(IfBlock.java:82)
at freemarker.core.Environment.visit(Environment.java:221) 
```

基本上在我的 JSP 方面，我有许多下拉选项。如何解决此错误....！！！！

用于下拉菜单的 JSP PAGE 等等....

```
 <html>
    <title>JSP PAGE</title>
    <body>
<s:form action="event" namespace="/" method= "post">
<h4>
        <s:textfield name="description" label="Description" size="30" />
</h4>
<h4>
        <s:textfield name="name" label="Name" />
</h4>
<h4>
    <sx:datetimepicker name="date" label="Format (DD-MM-YYYY)"              
            displayFormat="dd-MMM-yyyy" value="%{'2012-01-01'}">
    </sx:datetimepicker>
</h4>
<h4>
    <s:textfield name="type" label="Event Type" />
</h4>
<h4>
    <s:textfield name="group" label="Event Group" />
</h4>
    <s:select name="Location" headerKey="-1" label="Location" list="{cityList}">
<%-- <s:iterator value="cityList">
<option>
</option>
</s:iterator> --%>
</s:select>
    <s:submit value="Submit" method="execute" key="submit" align="center" />
</s:form>
    </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-03T07:10:12.700

`null`删除下拉列表中的任何空（ ）值，它指的是这些值。这将解决您的问题。

# java - 比较两个 .txt 文件，显示 Java Swing 的差异

> ID：11753974
> 
> 赞同：-1
> 
> 时间：2012-08-01T06:50:17.957
> 
> 标签：java, swing, jpanel, jlabel, jtextarea

我想逐行比较两个 txt 文件。我还想用彩色线条显示差异。最后，我想将每行不同的字母或单词加粗。

这可能吗？你能给我一个从某个地方开始的想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T06:56:51.647

我们正在使用[http://jlibdiff.sourceforge.net](http://jlibdiff.sourceforge.net)进行文件差异识别，也许它也可以帮助你

```
<dependency>
   <groupId>jlibdiff</groupId>
   <artifactId>jlibdiff</artifactId>
   <version>1.01</version>
</dependency> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T06:59:04.907

你需要一个开始，这里是一个：

1.  构建核心，比较文本文件。使用一种结构（即：）`class`来表示一条有差异的线。它应该包含旧行和新行（开始）。
2.  在命令行中使用一些测试文件测试内核，直到它工作。
3.  现在，您知道它可以工作，您可以在 Swing 中构建 GUI。您将需要 a`JFrame`和 two `JTextPane`，这是不可编辑的。使用 Google 了解如何在`JTextPane`.

# linux - IORESOURCE_IRQ(address) 如何在 soc 芯片中工作？

> ID：11753977
> 
> 赞同：0
> 
> 时间：2012-08-01T06:50:40.070
> 
> 标签：linux, embedded, embedded-linux

我们可以阅读ic spec中的寄存器映射，我们可以发现有一些中断地址。而我们注册片上控制器的中断，比如usb控制器……等，我们使用资源类型来注册中断处理程序。如果我们查看 proc/interrupts 中的信息，我们可以看到中断类型是 GIC（通用中断控制器）。

中断是如何工作的？这像GPIO中断吗？为什么地址可以代表中断信号？这是否意味着系统将 gpio/地址映射到中断号？我想知道这件事的细节。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T10:19:55.977

我很高兴分享这个。

因为我只在具有 PowerPC、MIPS 内核的嵌入式设备上工作，所以我不会谈论 x86，抱歉。

中断信号一般由模块控制器触发，例如SD控制器、UART控制器、SPI控制器等。

如您所知，该信号表明该设备上发生了一个事件，它需要 CPU 的注意。

芯片上一般有一个中断处理模块，各种控制器的中断信号都会发送到该模块。

通常，中断处理模块有多个信号引脚，但通常情况下，该模块只有一个引脚连接到 CPU 内核。

如果中断信号引脚仅由一个设备使用，或者说，一个控制器，我们可以说中断是不共享的。我们提到共享中断的原因是它的处理流程与非共享中断不同。

即使存在一个中断，并且已经发送到内核，如果没有愿意为它服务的软件，它也不会被处理。

所以，在系统的bootstrapping或者初始化的时候，一般每个模块都会有一段代码，主要是device模块，负责irq的初始化，比如调用request_irq()。

request_irq() 的作用就是将softare附加到某个中断信号上，这样就建立了硬件中断信号和软件ISR的关系。

通过调用 request_irq()，系统被告知有人想要处理该事件，如果该事件发生，系统将通过调用带有 irq 传递给 request_irq() 的函数来通知该人数字。

顺便说一句，当你说“有一些地址可以中断”时，我不是很清楚。你能提供更多细节吗？

# haskell - 执行“cabal install hoogle”时出错

> ID：11753979
> 
> 赞同：3
> 
> 时间：2012-08-01T06:50:56.577
> 
> 标签：haskell, ghc, cabal

当我运行时`cabal install hoogle`，我得到以下信息：

```
setup: The program happy version >=1.17 is required but it could not be found
cabal: Error: some packages failed to install
haskell-src-exts-1.13.3 failed during the configure step the exeption is ExitFailure 1

$ghc -V
The Glorious Glasgow Haskell Compilation System, version 7.4.1 
```

如何解决这样的问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-01T07:20:26.040

而不是`cabal install hoogle`，运行`cabal install alex happy && cabal install hoogle`。

hackage 上的许多软件包都需要`alex`and `happy`，因此最好在之后安装它们`cabal update`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-05-21T20:45:24.067

我在本地安装 hoogle 时遇到了很多麻烦。将 cabal 二进制目录 ~/.cabal/bin 添加到我的 PATH 中

```
export PATH=$PATH:~/.cabal/bin 
```

最终基本上解决了我的问题。之后，只需按照错误安装任何 cabal 吠叫丢失的东西，包括 alex 和 happy。

# common-lisp - Common lisp：一个函数可以接受多少个参数？

> ID：11753981
> 
> 赞同：3
> 
> 时间：2012-08-01T06:51:05.847
> 
> 标签：common-lisp

> **可能重复：**
> [在 Lisp 中，+ 函数实际上可以有多少个输入？](https://stackoverflow.com/questions/9974080/in-lisp-how-many-inputs-can-the-function-actually-have)

以下代码给出了“参数过多”错误：

```
(setf u (loop for i upto 50000 collect 1))
(apply #'+ u) 
```

同样对于

```
(apply #'= u) 
```

所以我想当用 &rest 编写 defun 时，参数的数量是有上限的。它是什么？[我在这里](http://www.cs.cmu.edu/Groups/AI/html/cltl/clm/node124.html#SECTION001630000000000000000)搜索并尝试了该网站上的各个页面，但我无法弄清楚。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-01T09:10:26.353

有一个名为 CALL-ARGUMENTS-LIMIT 的常量，它为您提供了可以传递给函数的参数的上限。

但是，在您最初的示例中，您绝对可以使用 REDUCE：

```
(reduce #'+ u) 
```

# javascript - 如何在 url 属性中为空格设置 %20？

> ID：11753988
> 
> 赞同：0
> 
> 时间：2012-08-01T06:51:30.913
> 
> 标签：javascript, url-rewriting, jsonp, json

我正在开发一个android应用程序，用于通过GPRS和SMS（通过短信网关）将一些数据发送到服务器端。现在我正在尝试首先通过GPRS发送数据，实际上我们的短信网关服务提供商已经给出了如何发送数据的格式网关。格式在数据之间有空格。在这种情况下，当我要发送这种格式的数据时，url将空格编码为“+”符号，但我想将空格编码为“%20 "，因为 url 不支持这种方式，当我要在 url 中直接给出 "%20" 而不是 "+" 时，它工作正常，否则它将进入错误页面。那么如何改变这个？我想要什么做吗？请帮助我...？提前致谢。

源代码：

```
function AttForm()
{
    var att=$('#attnce').val();
    var uname=window.localStorage.getItem('uname');
    if(att==0){
        alert("Select Attendance");
        return false;
    }

    var message="MRCC";
    message += " "+"VIPATT";
    message += " "+uname;
    message += " "+att;    

    var networkState = navigator.network.connection.type;

    var states = {};
    states[Connection.UNKNOWN]  = 'Unknown connection';
    states[Connection.ETHERNET] = 'Ethernet connection';
    states[Connection.WIFI]     = 'WiFi connection';
    states[Connection.CELL_2G]  = 'Cell 2G connection';
    states[Connection.CELL_3G]  = 'Cell 3G connection';
    states[Connection.CELL_4G]  = 'Cell 4G connection';
    states[Connection.NONE]     = 'No network connection';

    if(states[networkState]==states[Connection.NONE]){
        window.plugins.sms.send(09192939495,message,function(){ 
           alert('Message sent successfully');  
        },
        function (e) {
            alert(e);
        });
    }
    else{           
        $.ajax({
            url:'http://aaa.com/test/webservice.php',
            type:'POST',
            data:{type:'VIPATT',message:message},
            dataType:'jsonp',
            jsonp:'callback',
            success:successData,
            error:function(){
                alert("error")
            }
        });
        function successData(data){
            var response=data.message;
            alert(response);
            $('#att').hide();
            $('#main_menu').delay(500).fadeIn(1000)
        }
    }

} 
```

网址是这样的：

```
http://aaa.com/test/webservice.php?callback=jQuery16006898061116226017_1343803442450&type=VIPATT&message=MRCC+VIPATT+RSA+2&_=1343803455743:1 
```

在上面的网址中，您可以看到属性之间的 + 符号。但我想要 %20 而不是 + 符号。如何获得这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T06:56:52.193

您将需要使用 URL 编码功能。自己没有做过，但找到了一篇可能有帮助的文章[http://www.w3schools.com/tags/ref_urlencode.asp](http://www.w3schools.com/tags/ref_urlencode.asp)

# sql - 如何在 postgresql 中显示空结果集或使用一些 sql 查询技巧

> ID：11753991
> 
> 赞同：0
> 
> 时间：2012-08-01T06:51:38.730
> 
> 标签：sql, postgresql, select

假设我有一个这样的 sql：

```
select * from tba 
```

如果表 tba 有数据，它将如下所示：

```
id    name    num
1     tom     100
2     jack    200 
```

现在我需要通过 where 条件查询 tba

```
select num from tba where id = 3; 
```

这是问题：这个sql不再有数据了，会是这样的：

```
id    name    num
//no data, just have column name 
```

所以，我想告诉我没有结果或只有零，例如：

```
num
0 
```

我怎样才能得到结果？

谢谢！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-01T06:59:31.850

试试这个：

```
SELECT COALESCE(MAX(num), 0) AS num
FROM   tba
WHERE  id = 3 
```

* * *

如果要选择所有列，可以执行以下操作：

```
SELECT COALESCE(MAX(id), 0)       AS id,
       COALESCE(MAX(name), 'N/A') AS name,
       COALESCE(MAX(num), 0)      AS num
FROM   tba
WHERE  id = 3; 
```

[*SQLFiddle 演示*](http://www.sqlfiddle.com/#!1/8f171/9/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T07:01:54.097

```
SELECT ISNULL(num,0) AS num
  FROM tba
 WHERE id = 3 
```

# iphone - 如何在 iPhone sdk 中上传 Facebook 上捕获的图像？

> ID：11753993
> 
> 赞同：1
> 
> 时间：2012-08-01T06:51:40.787
> 
> 标签：iphone, ios, xcode, ios4

我正在将捕获的图像保存在文件夹中我如何在 Facebook 上上传这个图像。谁能给我链接或演示代码以在 iPhone sdk 中的 fb 上上传图像

# android - Android ImageView 显示图像列表

> ID：11753995
> 
> 赞同：0
> 
> 时间：2012-08-01T06:51:48.103
> 
> 标签：android, iphone, uiimageview, rotation, imageview

在我的 iPhone 应用程序上，我使用了一个 UIImageView，我在其中设置了一组图像。imageView 从图像“动画”开始（视图显示每个图像一段时间，然后显示下一个，等等）。有没有办法在 android ImageView 中做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T07:13:56.410

嗨，需要做同样的事情`ListView`，我发现了一个很棒的图书馆......

称为AQuery，您可以[在这里查看](http://code.google.com/p/android-query/wiki/ImageLoading)

转到[延迟图像加载](http://code.google.com/p/android-query/wiki/ImageLoading#Delay_Image_Loading)

最重要的是喜欢这个图书馆，这太棒了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T06:58:14.020

您可以使用[Timer](http://developer.android.com/reference/java/util/Timer.html)并安排 TimerTask 进行重复的固定延迟执行。

```
schedule(TimerTask task, long delay, long period) 
```

# javascript - 返回 textarea 的原始上下文菜单？

> ID：11753997
> 
> 赞同：0
> 
> 时间：2012-08-01T06:51:54.657
> 
> 标签：javascript, textarea, contextmenu

我有一个 div 包含一个 textarea。

```
<div class="parent" style="width: 500px;height: 500px;">
   <textarea style="width: 100%;height:50%" class="children"></textaarea>
</div>
<script>
   $('.parent').bind('contextmenu',function(){
        showParentContextMenu();
   });
</srcipt> 
```

当我右键单击文本区域时，出现其父级的上下文菜单。那么在这种情况下如何为文本区域设置原始上下文菜单（浏览器）！非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-01T07:11:32.367

```
 $('.parent').children().bind('contextmenu', function(e){
       e.stopPropagation();
   });​ 
```