# StackOverflow 问答 12454000-12454999

# x86 - com反汇编器如何知道代码在哪里结束和数据从哪里开始

> ID：12454002
> 
> 赞同：0
> 
> 时间：2012-09-17T06:20:00.273
> 
> 标签：x86, dos, disassembly

当反汇编从这样的代码编译的旧 .com 可执行文件时：

```
.model tiny             ; com program
.code                   ; code segment
org 100h                ; code starts at offset 100h    

main proc near
   mov ah,09h           ; function to display a string  
   mov dx,offset message    ; offset ofMessage string terminating with $
   int 21h              ; dos interrupt

   mov ah,4ch           ; function to terminate
   mov al,00
   int 21h              ; Dos Interrupt 
endp 
message db "Hello World $"      ; Message to be displayed terminating with a $
end main 
```

在十六进制它看起来像这样：

B4 09 BA 0D 01 CD 21 B4 4C B0 00 CD 21 48 65 6C 6C 6F 20 57 6F 72 6C 64 20 24

反汇编程序如何知道代码在哪里结束以及字符串“Hello world”从哪里开始？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-02T22:50:46.487

反汇编程序不知道代码在哪里结束以及数据在文件中从哪里开始`.com`，因为在`.com`文件中没有这样的区别。在`.com`文件中，所有内容都加载到同一段中，并且由于 DOS 在实模式下运行并且根本没有任何类型的内存保护，例如，您可以编写看起来像常规文本的混淆代码并在您的代码中跳转到它。例如（可能导致 DOS 崩溃，尚未测试）：

```
_start: jmp hello

hello:
db "Hello World!"

ret 
```

`db "Hello World $"`完全有效的 16 位代码也是如此（使用 Linux 中[用于 x86 和 x86-64 的 udis86 反汇编程序库](http://udis86.sourceforge.net/)`udcli`附带的反汇编程序进行检查：

```
$ echo `echo 'Hello World $' | tr -d "\n" | od -An -t xC` | udcli -x -16

0000000000000000 48               dec ax            ; H
0000000000000001 656c             insb              ; el
0000000000000003 6c               insb              ; l
0000000000000004 6f               outsw             ; o
0000000000000005 20576f           and [bx+0x6f], dl ; <space>Wo
0000000000000008 726c             jb 0x76           ; rl
000000000000000a 642024           and [fs:si], ah   ; d<space>$ 
```

但是，`db 0x64 0x20 0x24`不是有效的 32 位或 64 位代码。

这是 32 位反汇编`db "Hello World! $"`：

```
$ echo `echo 'Hello World $' | tr -d "\n" | od -An -t xC` | udcli -x -32

0000000000000000 48               dec eax            ; H
0000000000000001 656c             insb               ; el
0000000000000003 6c               insb               ; l
0000000000000004 6f               outsd              ; o
0000000000000005 20576f           and [edi+0x6f], dl ; <space>Wo
0000000000000008 726c             jb 0x76            ; rl
000000000000000a 642024           invalid            ; d<space>$ 
```

反汇编程序可以做的是使用一些启发式和代码跟踪来决定是否将反汇编的某些部分打印为代码，而将其他部分打印为数据。但是反汇编器永远无法**知道**代码在哪里结束和数据从哪里开始，因为在`.com`文件中，这种区别只存在于程序员的头脑中，也可能存在于源代码和汇编器的限制中，而不存在于二进制`.com`文件格式本身中。

# unix - 面试：两个数字相乘的 Unix 代码

> ID：12454007
> 
> 赞同：0
> 
> 时间：2012-09-17T06:20:20.473
> 
> 标签：unix

> 编写一个单行脚本将任意两个数字相乘。

面试官在找什么？

回声 $a * $b

这足够了吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-18T11:54:55.613

在 bash 和其他一些 shell 中，它很简单：

```
echo $(( $a * $b )) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-17T06:30:10.717

我会做这样的事情，expr 评估是在固定宽度的整数上完成的，所以如果数字不是整数，这将无济于事。

```
echo 'mult 12.3 5.6' | awk '{ printf("%.4f\n", $2*$3);}' 
```

此外，您还可以使用 c 样式的 printf 轻松格式化结果。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-17T06:23:54.433

不。使用`bc`，或类似的东西`expr 2 \* 3`。如果您不转义星号，它将具有其通常的“小丑”含义。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-17T06:24:39.847

这只适用于小数字，我认为是 16 位有符号非浮点数。您可以使用 bc，“一种任意精度的计算器语言”。

```
echo "$a * $b" | bc 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-17T06:24:41.550

不，您需要使用`bc`：

```
echo "$a * $b" | bc 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-07-10T08:46:03.390

我看到使用 Unix 命令将两个数字相乘的最简单方法之一可能是：

回声`expr $a \* $b`

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-02-03T14:35:58.440

你可以这样尝试：

```
$ echo -e $(($myVar * $anyVar)) 
```

注意：除非需要，否则不需要使用用于浮点表示的 bc

# jquery - 上键下拉列表

> ID：12454021
> 
> 赞同：0
> 
> 时间：2012-09-17T06:21:53.880
> 
> 标签：jquery, ruby-on-rails, ajax

我正在 ROR 中创建一个项目管理系统。在创建一个新项目时，我需要添加属于该项目的用户。所以我有一个 textarea，当 onkeyup 会弹出一个用户下拉列表（从我在 textare 中输入的字符开始）已经在数据库中了。我知道它可以通过 Ajax 和 jquery 来完成。但我对此并不陌生。那么您能否为此提供一些参考资料？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T07:26:51.123

我建议使用多选而不是 textarea。它易于用于`has_many`关联。

为了完全实现您的目标，我还建议将[select2](http://ivaynberg.github.com/select2/)用于 ajax 和良好的用户体验。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T06:25:23.180

试试 jQuery UI 的自动完成功能：http: [//jqueryui.com/demos/autocomplete/](http://jqueryui.com/demos/autocomplete/)

# c# - 如何在asp.net [.net 4 framework]的textarea控件内显示html文本？

> ID：12454022
> 
> 赞同：1
> 
> 时间：2012-09-17T06:21:57.430
> 
> 标签：c#, asp.net, .net, html, asp.net-controls

我在 asp.net(4 framework) 页面中添加了一个提交按钮和一个 textArea 控件。每当用户单击提交按钮时，我都会得到一些 html 文本并需要在 textArea 控件中显示它。

例如：（i）`<B><I>some text</I></B>`然后我必须在 textArea 控件中以**BOLD**和*ITALIC样式显示文本*

(ii) 另外，需要在 textArea 控件内显示 Html TABLE。

我不知道这是否可能......

请指导我摆脱这个问题......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T06:30:23.603

这对于标准文本区域是不可能的。

您将需要一个富文本编辑框。有很多编辑器可用于此。

看一眼

[微型 MCE](http://www.tinymce.com/)

或者

基于 jQuery 的[CLEditor](http://premiumsoftware.net/cleditor/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T09:59:16.827

通常使用的文本框的功能有限，因此为了获得额外的编辑和功能，您必须通过 Richtextbox 的功能。我认为这个链接可能会有所帮助： [Richtextbox](http://msdn.microsoft.com/en-us/library/ee681613%28v=vs.95%29.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T10:02:20.887

好吧，您不能在 TextArea 内显示表格，但您肯定可以将其设置为 css 以以粗体和斜体显示文本。

您可以使用 textarea{ font-weight: bold; 字体样式：斜体；}

您可以使用 nunespascal 提到的 TinyMCE，或者您可以使用 div 看起来像一个 textarea，请查看以下链接。

[如何使可编辑的 DIV 看起来像文本字段？](https://stackoverflow.com/questions/8956567/how-do-i-make-an-editable-div-look-like-a-text-field)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T11:29:16.097

我们可以使用文字控制来满足这个要求。

```
 <asp:Literal id="literal1" Text="I love ASP!" runat="server" /> 
```

在 C# 中，

```
 literal1.text=htmlString; 
```

它对我有用...

# c# - 如何将 classt 类型列表中的记录添加到 Class 对象？

> ID：12454023
> 
> 赞同：0
> 
> 时间：2012-09-17T06:22:15.917
> 
> 标签：c#, asp.net-mvc, entity-framework

嗨朋友们，我有下面的清单

```
List<Authors>listAuthor=new  List<Authors>(); 
```

在那个列表中我有 100 条记录，现在我的问题是我想在 Asp.Net MVc 中使用实体框架中的数据库优先技术将这些列表保存到数据库中，只需要一次往返（只有一次命中数据库）

我创建了对象

```
 Author objAuthor=new Author();
  objAuthor=listAuthor; 
```

我收到转换错误，有什么想法的朋友吗？

这是我的完整代码

```
 public ActionResult SaveAuthorConsol()
    {
        List<Author> listAuthor = new List<Author>(); // declare list

        List<Bib> bib = new List<Bib>(); // geting records from this table
        bib = db.Bibs.ToList();

        var q = db.Authors.ToList(); 

        foreach (var c in q)
        {
            db.Authors.DeleteObject(c); //Note:deleting previous records from Author table
        }

        db.SaveChanges();

        foreach (var bibitems in bib) // return Author type list 
        {
            Authors objAuthor = new Authors();
           listAuthor.AddRange(objAuthor.SaveAouthor(0, bibitems.Contents));
        }
        foreach (Author objauthor in listAuthor) //adding my list records to database
        {
            db.Authors.Attach(objauthor); //   getting error here
        }

        db.SaveChanges();
        return View();
    } 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T06:26:57.643

您不必创建类型的新对象`Author`。将每个项目添加到数据库上下文后，您可以直接调用 SaveChanges 一次。

尝试：

```
foreach(Author objAuthor in listAuthor)
{
     db.Author.AddObject(objAuthor);
}
db.SaveChanges(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T06:25:09.793

您可以将元素添加到列表中：

```
List<Authors> listAuthor = new List<Authors>();
Author objAuthor = new Author();
listAuthor.Add(objAuthor); 
```

但既然你提到了 EF，我猜你有一个数据库上下文，你可以直接向其中添加实体并持久化更改：

```
Author objAuthor = new Author();
db.Authors.Add(objAuthor);
db.SubmitChanges(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T06:31:19.317

问题在于您的转换方式..看看您的代码，您要做的是..将a`List<Authors>`分配给`Author`类的实例..这根本不可能..您必须做相反的事情..

**编辑** 多个[更新](http://msdn.microsoft.com/en-us/library/bb387145.aspx)不幸的是，还没有办法。我可以建议你做什么..为你的多行准备 XML。并使用 XML insert 并使用 Regular Stored Procedure ，通过这种方式，您可以一次性插入任意数量的行，并且只能在 One Hit to DB 中插入。

# mysql - 基于列值的实体关系

> ID：12454024
> 
> 赞同：1
> 
> 时间：2012-09-17T06:22:28.047
> 
> 标签：mysql, sql, database-design, foreign-keys, entity-relationship

我有一个表格`leads`，它接收来自不同来源（导入、手动插入、发布）的信息。

我有另一个我调用的表`dupes`，它应该跟踪从表中删除的欺骗`leads`。

`on delete`我在它们和约束之间建立了外键关系。问题是`leads`表中的数据有时会因为记录重复以外的其他原因而被删除。所以我添加了一个新列来`leads`询问`dupes?`。如果是，则将其设置为 true 并删除，如果不是，因为它不是骗子，我的 php 将其设置为 false 并被删除。`leads`因此，我希望设置和表之间的关系，`dupes`其中表仅在具有约束的列中`dupes`具有 true 的行。`dupes?``on delete`

我需要什么样的数据库关系才能允许`dupes`表只接受从`leads`表中删除的行，因为它们是骗子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T14:40:52.100

在检查欺骗的潜在客户表中使用删除触发器？值，并相应地插入行。

# android - 使用 android 的 asmack XMPP 库时无法从消息标签中读取自定义属性？

> ID：12454025
> 
> 赞同：0
> 
> 时间：2012-09-17T06:22:31.843
> 
> 标签：android, xmpp, smack, xmppframework, asmack

这是我想要接收的从 XMPP 服务器端发送的 XML，以便我可以将其发送到我的 XML 解析器。

```
<message to="39@domainname.com/smack" chat_id="73392" 
       custom_packet="true" user_id="44" manager_id="39" time_stamp="0" website_id="0" 
       visitor_name="John" end_time="False" xml:lang="en-us" type="groupchat" 
       from="room73392@conference.domainname.com/39">
       <body>Hello</body> 
       <x xmlns="http://jabber.org/protocol/muc#user"> 
       <status xmlns="" code="0"/>   
       </x></message> 
```

这是我正在接收的示例 XML。当我使用 p.toXML(); //包p

```
 <message to="44@domainname.com/Smack" 
    from="room73407@conference.domainname.com/Visitor1171" type="groupchat">
    <body>Hello</body>
    <delay xmlns="urn:xmpp:delay"></delay>
    <x xmlns="jabber:x:delay" stamp="20120917T05:57:19" 
    from="4732abb5@domainname.com/4732abb5">
    </x></message> 
```

我刚刚开始使用 XMPP 服务器。因此，任何指导都会受到赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-17T14:14:47.123

在不修改源代码的情况下，您无法在 Smack（因此也是 aSmack）中执行此操作。它只会解析标准的 Message 节，因此您的所有自定义属性都将被忽略。XMPP 中的正确方法是创建标准数据包的扩展，而不是修改它们。如果您可以控制从服务器发送的内容，那么您应该更改为消息添加自定义扩展的方法，从而更改此

```
<message to="39@domainname.com/smack" chat_id="73392" 
 custom_packet="true" user_id="44" manager_id="39" time_stamp="0" 
 website_id="0" visitor_name="John" end_time="False" xml:lang="en-us" 
 type="groupchat" from="room73392@conference.domainname.com/39">
   <body>Hello</body>
   <x xmlns="http://jabber.org/protocol/muc#user">
      <status xmlns="" code="0"/>
   </x>
</message> 
```

对此

```
<message to="39@domainname.com/smack" chat_id="73392" xml:lang="en-us" 
 type="groupchat" from="room73392@conference.domainname.com/39">
   <body>Hello</body>
   <x xmlns="http://jabber.org/protocol/muc#user">
      <status xmlns="" code="0"/>
   </x>
   <custom xmlns="my:namespace:custom" user_id="44" manager_id="39" time_stamp="0" 
 website_id="0" visitor_name="John" end_time="False"/>
</message> 
```

然后，您可以轻松编写自己的提供程序来解析自定义数据包扩展，并通过调用简单地检索您的自定义对象（由您的解析器创建）

```
MyExtension customStuff = message.getExtension("my:namespace:custom"); 
```

您可以查看[EmbeddedExtensionProvider](http://www.igniterealtime.org/builds/smack/docs/latest/javadoc/org/jivesoftware/smack/provider/EmbeddedExtensionProvider.html)以非常轻松地编写您的提供程序。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-09-17T06:40:41.237

```
do {
    ParseEvent event=parser.read();
    ParseEvent pe;

    switch(event.getType()){
        case Xml.START_TAG:
        if (event.getName().toString().equals("message")){
                int xx=event.getAttributeCount();

                String _s2=event.getAttribute("to").getValue();
                if(_s2=="" || _s2==null){
                    _s2="N/A";
                }

                String _s3=event.getAttribute("from").getValue();       
                if(_s3=="" || _s3==null){
                    _s3="N/A";
                }

                String _s4=event.getAttribute("type").getValue();
                if(_s4=="" || _s4==null){
                    _s4="N/A";
                }

                String _s1=_s2+"~~"+_s3+"~~"+_s4;
                m_result.add(new BeanClassName(_s1));                   
        }
        (...)
    }
} 
```

您可以通过为每个案例添加*开始标记*然后在 bean Class 中设置值来读取您的属性。

# android - 这有什么问题？？它抛出错误

> ID：12454030
> 
> 赞同：0
> 
> 时间：2012-09-17T06:22:59.037
> 
> 标签：android, android-layout

这是我动态添加按钮的代码。运行时抛出错误。任何想法？:)

```
DatabaseHandler db;
private RelativeLayout relativeLayout;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_settings);
    boolean userCounts = db.getUserExistance();
    if(userCounts == false){            
        Button button= new Button(this);
        button.setText("Add password");
        relativeLayout.addView(button);
    }
    else if(userCounts == true){            
        Button button2 = new Button(this);
        button2.setText("Change password");
        relativeLayout.addView(button2);            
    }

} 
```

错误日志：

```
09-17 11:44:34.658: D/AndroidRuntime(655): Shutting down VM 09-17 11:44:34.658: W/dalvikvm(655): threadid=1: thread exiting with uncaught exception (group=0x40a13300)
09-17 11:44:34.699: E/AndroidRuntime(655): FATAL EXCEPTION: main 
09-17 11:44:34.699: E/AndroidRuntime(655): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.projects.myworldsafe/com.projects.myworldsafe.Settings}: java.lang.NullPointerException 
09-17 11:44:34.699: E/AndroidRuntime(655): at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2059) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T06:27:32.340

你还没有初始化`relativeLayout`。如果您以`relativeLayout`编程方式设置尝试：

```
relativeLayout = new RelativeLayout(this); 
```

如果它首先在您的布局文件中，您需要找到它，例如：

```
relativeLayout = (RelativeLayout) this.findViewById(R.id.your_layout_id); 
```

与`DatabaseHandler db`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-17T06:28:27.283

我认为您在第一次使用之前`db`忘记了初始化。`relativeLayout`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T06:31:12.183

据我所知，我认为您需要为`Relative layout`

```
RelativeLayout = (RelativeLayout) this.findViewById(R.id.relativeID); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-17T06:46:08.020

尝试这个，

```
DatabaseHandler db;
    private RelativeLayout relativeLayout;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_settings);
        boolean userCounts = db.getUserExistance();
        relativeLayout = (RelativeLayout) this.findViewById(R.id.myRelativeLayout);
        if(userCounts == false){            
            Button button= new Button(this);
            button.setText("Add password");
            relativeLayout.addView(button);
        }
        else if(userCounts == true){            
            Button button2 = new Button(this);
            button2.setText("Change password");
            relativeLayout.addView(button2);            
        }

    } 
```

# embedded - ARM-NEON 如何同步？

> ID：12454033
> 
> 赞同：4
> 
> 时间：2012-09-17T06:23:26.820
> 
> 标签：embedded, arm, simd, neon, cortex-a8

就 ARM Cortex-A8 而言，当 NEON 执行其指令时，ARM 模块是等待还是继续其操作？这种同步是如何实现的？如果 ARM 和 NEON 处理相同的数据/代码段，ARM 和 NEON 内核如何同步？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-17T08:32:28.877

简短的回答是它们是自动同步的……并且它们的同步方式与所有其他指令的同步方式相同（即管道危险检查）。在每个时钟周期可以发出多条指令的处理器中，NEON 指令可以与非 NEON 指令一起发出。

NEON 是核心的一部分，使用与常规加载/存储指令相同的缓存。然而，这也意味着在某些处理器上，混合 NEON 和非 NEON 加载和存储，或在 NEON 和通用寄存器之间移动数据可能效率低下。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-17T08:32:30.410

它们不是单独的内核 - NEON 是作为 ARM 内核中的附加*执行单元*实现的 - 超标量架构的通常原则适用。

# firefox - Firefox 增加了 XMLHttpRequest 的内容类型

> ID：12454034
> 
> 赞同：2
> 
> 时间：2012-09-17T06:23:38.680
> 
> 标签：firefox, xmlhttprequest, content-type

如何强制 FireFox 为 XMLHttpRequest 使用特定的内容类型，而不在类型本身之后附加 charset 参数？

我正在使用 FireFox 15 从一个非常自定义的 http 服务器中提取一些数据。服务器从 POST 正文中获取 JSON 并以另一个 JSON 响应。服务器只接受“Content-Type: application/json”作为有效的内容类型。除了这个确切的标头之外的任何内容都不会被服务器识别为有效的内容类型。

当我在 Chrome 中使用以下代码时，它会按预期设置内容类型“Content-Type: application/json”

```
var invocation = new XMLHttpRequest();
invocation.open('POST', url, true);
invocation.setRequestHeader('Content-Type', 'application/json');
invocation.onreadystatechange = function(data){ /* some processing */ };
invocation.send(body); 
```

问题在于 FireFox 将内容类型设置为“Content-Type: application/json; charset=UTF-8”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T10:15:14.537

根据[bugzilla](https://bugzilla.mozilla.org/show_bug.cgi?id=416178#c31)的说法，使用 sendAsBinary 是一种可能的解决方法。

# jquery - jquery datepicker显示问题

> ID：12454037
> 
> 赞同：1
> 
> 时间：2012-09-17T06:23:52.280
> 
> 标签：jquery, datepicker

[![日期选择器](../Images/86801c708304e06dc3a0456a76af63cf.png)](https://i.stack.imgur.com/KULcZ.png)
[（来源：[easycaptures.com](http://easycaptures.com/fs/uploaded/661/7740052223.png)）]

HTML 代码

```
<div class="paddingTop30 height30">
    <div class="width100 inline greyText">Lesson Date</div>
    <div class="width110 inline">
        <input type="text" name="dateTimePicker" id="dateTimePicker"/>
     </div>
</div> 
```

CSS

```
.inline {
    float:left
} 
```

JS

```
$('#dateTimePicker').datepicker(); 
```

日期选择器的显示不正确。我哪里错了？
仅供参考：创建课程是一个 jquery 对话框

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T06:27:03.917

大多数显示问题是由于 jquery css 文件损坏或错误造成的。请确保您已添加 jquery 附带的 css 文件。

希望我对你有所帮助。

# android - 如何用sqlite中的某个值替换最小值？

> ID：12454049
> 
> 赞同：0
> 
> 时间：2012-09-17T06:24:28.737
> 
> 标签：android, sqlite

我正在开发一个安卓游戏。我正在使用 sqlite 数据库。我有一个表，其中有五个分数存储。我想计算所有分数的最小值并用其他值替换最小值？我怎样才能做到这一点？如果有多个相同的分数，我只想替换一个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T06:29:30.263

触发以下查询以获取最小值。

```
Cursor c = db.query(MY_DATABASE_TABLE, new String[] { "min(" + KEY_ROWID + ")" }, null, null,null, null, null); 
```

这里 KEY_ROWID 是您要从中找到最小值的列名。

获取最小值。

```
c.moveToFirst();  //ADD THIS!
int minValue = c.getInt(0); 
```

获得最小值后，使用查询更新值。

```
ContentValues args = new ContentValues();
args.put(KEY_ROWID, newValue);
db.update(MY_DATABASE_TABLE, args, KEY_ROWID + "=" + minValue , null); 
```

# php - 如何让 PHP 文件解析一些数据而不需要用户停留在页面上

> ID：12454052
> 
> 赞同：2
> 
> 时间：2012-09-17T06:24:41.130
> 
> 标签：php

我正在制作一个网站，管理员可以在该网站上上传一些 PDF 文件。我有一些代码可以将上传的 PDF 文件（作为参数给出）转换为纯文本，并且使用该纯文本，我可以在用于在网站上生成其他页面的数据库中进行一些插入。

我可以将上传文件的管理员重定向到另一个页面，然后在那个页面上我可以放置代码来解析文件并创建数据库条目，但这是一个缓慢的操作，管理员必须留在那个页面上直到动作完成。

也许我没有最好的解决方案，但我认为应该这样做：在上传页面中，上传文件后，服​​务器应该运行一个文件（例如：parsePDFFile.php）来处理解析PDF文件并更新数据库。这样，管理员可以继续浏览该站点，而不会意识到幕后有一些文件处理。

问题是我不知道从哪里开始或在 Google 上搜索什么，所以我不知道做这样的事情是否可能或一个好的解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T06:32:59.703

我相信在 PHP 中执行此操作的适当方法是使用以下函数之一执行单独的进程`exec`, `system`, 'pcntl_exec `,`popen` 等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T06:49:00.313

当你上传文件时。那个时候也在数据库中输入pdf文件名并在网页中不转换状态。一旦 Cronjob 运行，该时间代码将更改 PDF 状态已完成。Cronjob 将每隔几个小时运行一次，因此站点将继续更新。所以服务器不会有太多负载

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T06:26:26.133

您可以像每分钟一样设置一个 cronjob，检查是否有新的 pdf，然后运行您的脚本。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-19T19:29:48.887

如果您有足够的权限访问服务器来设置 cron，我会假设您有足够的权限来安装 PHP 扩展...

如果是这种情况，那么我认为您在这里想要的是网站/网络服务器进程之外的多个线程。一个线程可能应该作为守护进程运行（实际上并不需要是一个线程，这可以是 PHP 的主进程）并定期扫描新的 pdf，或者如果您知道有关条件和互斥锁的任何内容，则可以按需扫描 - 您可以发送当用户以这种方式上传时，向主线程（或进程，它们也可以使用互斥锁/条件）发出信号。然后这应该分派新线程来处理每个 pdf 并继续扫描或等待通知的工作......

[https://github.com/krakjoe/pthreads](https://github.com/krakjoe/pthreads)

可能的 ：）

# mysql - 如何正确（加入 if）MySQL 查询？

> ID：12454054
> 
> 赞同：1
> 
> 时间：2012-09-17T06:24:58.233
> 
> 标签：mysql, join

```
SELECT *
FROM `history`
WHERE `site_id` = '1'
    AND `user_id` = '1'
ORDER BY `date` DESC 
LIMIT 0 , 20 
```

在`history`表中是字段`child_user_id`。我需要检查`child_users`表中是否存在此 id，如果存在 - 将其替换为`child_user_name`from `child_users`，否则`user_name`从`users`表中设置 where`user_id = '1'`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T06:33:29.887

尝试这个：

```
SET @useid =1;

SELECT case when c.id IS null then @useid 
       else (select user_name from  users where user_id=@useid) end 
FROM   history  h 
LEFT OUTER JOIN child_users c
ON     h.child_user_id=c.id 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T06:58:04.993

尝试这个

```
 SELECT * FROM `history`  LEFT OUTER JOIN  child_users 
      ON     history.child_user_id=child_user_id  WHERE `site_id` = '1'AND `user_id` = '1' 
```

# ruby-on-rails - ruby on rails 中的 ajax 用于喜欢/不喜欢按钮

> ID：12454057
> 
> 赞同：0
> 
> 时间：2012-09-17T06:25:19.783
> 
> 标签：ruby-on-rails, ajax, coffeescript, haml

因此，我的评论下方有一个带有“赞”按钮的页面，并且正在尝试解决如何在不刷新整个页面的情况下执行此操作，当前代码如下所示：

```
- if can? :like, comment
  = " · "
  - if likes.find_by_user_id(current_user.id).nil?
    = link_to "Like", like_comment_path(comment), method: :post
  - else
    = link_to "Unlike", unlike_comment_path(comment), method: :post
- if comment.user == current_user
  = " · "
  = link_to "Delete", comment_path(comment), method: :delete,
    :data => { :confirm => "Are you sure you want to delete this comment?" }
- if likes.count > 0
.comment-likes
  - likers = likes.map { |like| link_to(like.user_name, "#") }
  - if likers.length > 1
    - likers = likers.slice(0, likers.length - 1).join(", ").concat(" and " +                               likers.slice(-1))
  - else
    - likers = likers[0]
  = "Liked by #{likers}".html_safe 
```

将like和like的方法更改为:post到:update似乎有很大的不同，这个函数使用ajax和:post不是吗？如果不是，那么我将如何将它变成一个 ajax 函数。

这是我的comments_controller.rb 东西

```
def like
 comment_vote = resource.like current_user
 Event.comment_liked!(comment_vote)
 redirect_to discussion_url(resource.discussion)
end

def unlike
 resource.unlike current_user
 redirect_to discussion_url(resource.discussion)
end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T07:21:20.290

`= link_to "Like", like_comment_path(comment), method: :post, remote: true`

然后在你的 likes_controller 创建动作，respond_to format.js

```
def create
  respond_to do |format|
    format.html { .. your liking code .. }
    format.js {.. your liking code .. }
  end
end 
```

然后，这将调用您的视图文件夹中的 create.js.erb，您可以从那里动态更新您的 html

# php - 在函数中使用查询结果显示/隐藏 div

> ID：12454060
> 
> 赞同：0
> 
> 时间：2012-09-17T06:25:33.200
> 
> 标签：php, javascript, mysql

我有几个 div 使用从查询中获得的 id，然后在函数中使用这个 id 来显示/隐藏 div onclick。我的问题是使用下面的代码，div 似乎打开时“显示”更改为“隐藏”（单击“隐藏”不会更改为“显示”），但 div 的内容未显示。

javascript:

```
function toggle(id) {
   var ele = document.getElementById(id);
   var text = document.getElementById(id);
             if(ele.style.display == "block") {
             ele.style.display = "none";
             text.innerHTML = "show";
 }
 else {
    ele.style.display = "block";
    text.innerHTML = "hide";
 } 
 } 
```

php:

```
echo "Info: <a id='$id' href='javascript:toggle(\"$id\");'>show</a>";
      echo"<div id='$id' style='display: none'></div>"; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T06:30:11.290

您两次使用相同的 ID 这是错误的，将 _toggle 添加到您的标签的 ID 可以解决此问题。

将您的代码更改为此，它可能会起作用：

Javascript：

```
function toggle(id) {
    var ele = document.getElementById(id);
    var text = document.getElementById(id + '_toggle');
    if(ele.style.display == 'block'){
        ele.style.display = 'none';
        text.innerHTML = 'show';
    }else{
        ele.style.display = 'block';
        text.innerHTML = 'hide';
    }
} 
```

php:

```
echo 'Info: <a id="'.$id.'_toggle" href="javascript:toggle(\''.$id.'\');">show</a>';
echo '<div id="'.$id.'" style="display: none;"></div>'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T06:28:42.323

您对 href 和 div 使用相同的 id

```
php:

  echo "Info: <a id='$id' href='javascript:toggle(\"$id\");'>show</a>";
  echo"<div id='$id' style='display: none'></div>"; 
```

更改 A 的 $id 。

# python - 与 djangobook 中的模型示例混淆

> ID：12454061
> 
> 赞同：1
> 
> 时间：2012-09-17T06:25:34.353
> 
> 标签：python, django

我按照 djangobook 在线第 5 章[http://www.djangobook.com/en/2.0/chapter05/](http://www.djangobook.com/en/2.0/chapter05/)，有一个带有 Publisher、Author 和 Book 的书籍模型。但是似乎他们没有提到如何为包含与Publisher和Author的复杂关系一对多和多对多的图书模型添加数据，所以我尝试自己做，但遇到了一些问题。

图书型号：

```
class Book(models.Model):
    title = models.CharField(max_length=100)
    authors = models.ManyToManyField(Author)
    publisher = models.ForeignKey(Publisher)
    publication_date = models.DateField() 
```

这是发布者：

```
p = Publisher.objects.get(id=1) 
```

这是作者：

```
a = Author.objects.get(id=1) 
```

根据这个链接[https://docs.djangoproject.com/en/dev/topics/db/examples/many_to_many/](https://docs.djangoproject.com/en/dev/topics/db/examples/many_to_many/)，我决定先创建书，然后再添加作者：

```
b = Book(title='Django for dummy', publisher=p, datetime.datetime.now()) 
```

发生错误：语法错误：**关键字 arg 之后的非关键字 arg**

谁能指出我正确的方法？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T06:58:08.130

在 python 中，后置 args 必须放在关键字 args 之前。`publication_date=datetime.datetime.now()`在传递论点时做。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-17T06:57:29.877

你的电话是形式

```
b = foo(bar="test", "baz") 
```

你不能那样做。想象一下 foo 是这样定义的

```
def foo(size, weight, bar):
... 
```

当 Python 试图调用`foo`它时，它不能。因为在我的示例中，Python 不知道要分配`"baz"`给哪个参数。这不是`weight`因为自从您开始使用关键字 arg（`bar="test"`或任何带有关键字和值的东西）以来，位置就没有任何意义。它可以分配`"baz"`到，`weight`因为它是第二个参数，但这意味着这`size`是第一个参数，并且您已经明确声明它不是。

当您构建这样的对象时，基本上只需使用关键字参数。

通常，您可以通过将所有参数设置为关键字或所有位置或将位置参数放在首位来解决此错误。我会做其中的第一个：

```
b = Book(title='Django for dummy', publisher=p, publication_date=datetime.datetime.now()) 
```

# objective-c - MFMailComposer - 附件大小

> ID：12454063
> 
> 赞同：4
> 
> 时间：2012-09-17T06:25:37.193
> 
> 标签：objective-c, ios, mfmailcomposer

在我的 iphone 应用程序中，在 MFMailComposer 中，我正在添加一个附件。当我单击发送时，它要求选择尺寸 - 小、中、大。我不想要那个。我总是想将附件大小设置为中。我能控制吗？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T08:34:21.703

我找到了该怎么办..

以前我所做的是

```
UIImage* image1 = [UIImage imageWithData:imageData1];
NSData *imageData = [NSData dataWithData:UIImageJPEGRepresentation(image1, 1]; 
```

我把它改成了

```
UIImage* image1 = [UIImage imageWithData:imageData1];
NSData *imageData = [NSData dataWithData:UIImageJPEGRepresentation(image1, 0.5]; 
```

此更改是附加图像的压缩质量，当它为“1”时，它是最大尺寸，它是 MFMailComposer 的默认功能，要求用户更改相当大尺寸图像的尺寸。如果将其更改为“0.5”，则图像会被压缩并且大小会自动变小，并且不会要求用户更改大小。

# php - 在 PHP 中搜索多个网页中的某个字符串

> ID：12454065
> 
> 赞同：1
> 
> 时间：2012-09-17T06:25:46.087
> 
> 标签：php, string, search

好的，基本上，我要做的是在同一网站的多个网页中搜索某个字符串，例如我的名字。

举例说明这一点的最佳方式......呃，假设我有这个谷歌搜索有很多页的结果，我想将结果过滤到我可以找到我想要的确切字符串的地方，并将这些数据解析到其他东西上。

因此，我想搜索同一网站的许多页面以查找特定字符串，因此我将同一页面上的一些数据用于其他内容。

我希望我解释得足够好，感谢您的宝贵时间！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T08:34:59.340

我对 file_get_contents() 做同样的事情

例子：

```
$html = file_get_contents(website_here);
if(stripos($html, $your_string_here){
    //Do what you'd like
} 
```

stripos 不区分大小写。虽然可以使用其他字符串选项，但在运行了一些速度测试后（虽然我不再有结果），stripos 非常快速且易于实现。

此外，您可以将所有这些放在 foreach 子句中，以便您可以循环浏览您列出的所有网站。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-19T16:05:16.723

您可能希望获得更自由的托管...在大多数 100mbps 服务器上，100 个请求将需要 7-12 秒的时间...

找到新主机后，询问管理员是否会安装：

[https://github.com/krakjoe/pthreads](https://github.com/krakjoe/pthreads)

然后，您可以在 PHP 中使用线程，在大多数 100mbps 服务器上将您的请求时间缩短到一秒以下...

# android - 媒体扫描仪android中的问题

> ID：12454068
> 
> 赞同：1
> 
> 时间：2012-09-17T06:26:08.613
> 
> 标签：android, cordova, android-mediascanner

我已经开发了 android phonegap 应用程序。我正在通过 phonegap api 录制音频并移动文件，我创建了一个插件来启动媒体扫描仪。但是媒体扫描仪在 7 或 8 秒后开始运行。所以我不能做其他事情应用程序中的过程。是否有任何解决方案可以在 android 中找到媒体扫描仪是否已完成。

这是我启动媒体扫描仪的代码：

```
 sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED, Uri.parse("file://" + Environment.getExternalStorageDirectory()))); 
```

这是logcat中的错误：

```
 09-17 13:45:36.306: E/AndroidRuntime(706): FATAL EXCEPTION: main
 09-17 13:45:36.306: E/AndroidRuntime(706): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.app.example/com.app.example.MainActivity}: java.lang.NullPointerException
 09-17 13:45:36.306: E/AndroidRuntime(706):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
 09-17 13:45:36.306: E/AndroidRuntime(706):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
 09-17 13:45:36.306: E/AndroidRuntime(706):     at android.app.ActivityThread.access$2300(ActivityThread.java:125)
 09-17 13:45:36.306: E/AndroidRuntime(706):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
 09-17 13:45:36.306: E/AndroidRuntime(706):     at android.os.Handler.dispatchMessage(Handler.java:99)
 09-17 13:45:36.306: E/AndroidRuntime(706):     at android.os.Looper.loop(Looper.java:123)
 09-17 13:45:36.306: E/AndroidRuntime(706):     at android.app.ActivityThread.main(ActivityThread.java:4627)
 09-17 13:45:36.306: E/AndroidRuntime(706):     at java.lang.reflect.Method.invokeNative(Native Method)
 09-17 13:45:36.306: E/AndroidRuntime(706):     at java.lang.reflect.Method.invoke(Method.java:521)
 09-17 13:45:36.306: E/AndroidRuntime(706):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
 09-17 13:45:36.306: E/AndroidRuntime(706):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
 09-17 13:45:36.306: E/AndroidRuntime(706):     at dalvik.system.NativeStart.main(Native Method)
 09-17 13:45:36.306: E/AndroidRuntime(706): Caused by: java.lang.NullPointerException
 09-17 13:45:36.306: E/AndroidRuntime(706):     at android.content.ContentResolver.registerContentObserver(ContentResolver.java:804)
 09-17 13:45:36.306: E/AndroidRuntime(706):     at com.app.mobilyzer.MobilyzerActivity.isMediaScannerScanning(MobilyzerActivity.java:79)
 09-17 13:45:36.306: E/AndroidRuntime(706):     at com.app.example.MainActivity.onCreate(MainActivity.java:72)
  09-17 13:45:36.306: E/AndroidRuntime(706):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
 09-17 13:45:36.306: E/AndroidRuntime(706):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
 09-17 13:45:36.306: E/AndroidRuntime(706):     ... 11 more 
```

在媒体扫描仪完成之前，我需要显示进度条。请帮助我。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T06:51:41.440

使用以下代码检查 MediaScanner 是否正在运行

```
 public static boolean isMediaScannerScanning(ContentResolver cr) {
        boolean result = false;
        Cursor cursor = query(cr, MediaStore.getMediaScannerUri(),
               new String [] {MediaStore.MEDIA_SCANNER_VOLUME},
                null, null, null);
        if (cursor != null) {
            if (cursor.getCount() == 1) {
                cursor.moveToFirst();
                result = "external".equals(cursor.getString(0));
            }
            cursor.close();
        }    
        return result;
    } 
```

如果您需要回调，您可以在`MediaStore.getMediaScannerUri()`. 但是当 MediaScanner 运行时，您可能会在内容观察器上收到太多更改。

```
getContentResolver().registerContentObserver( MediaStore.getMediaScannerUri(), false, contentobserver); 
```

我猜您将不得不将其转换为 Phonegap 代码。

# performance - Tivoli Performance 查看器中的 activeCount(session) 未减少

> ID：12454069
> 
> 赞同：1
> 
> 时间：2012-09-17T06:26:08.770
> 
> 标签：performance, session-timeout, websphere-7, tivoli

我们有一个带有 JSF (Icefaces) MVC 和 Spring 服务层的应用程序。即使在会话失效时，Tivoli Performance 查看器的 Servlet 会话模块中的活动计数也不会减少。

我们已经尝试了所有可能的会话失效方法，如下所示 1)httpsession.invalidate(); 2)httpsession.setMaxInterval(0); 3）在失效之前删除所有会话属性，并在代码中以编程方式在注销期间删除 cookie。

如果 Websphere 正在处理使用会话的请求，则活动计数的定义是会话处于活动状态。但即使在代码中使会话无效后，TPV 中的活动计数也不会减少。我们可以看到 CreateCount 和 InvalidateCount 正在更新并且相等。我们假设这意味着创建的任何会话都将失效。如果我们的理解不正确，请纠正我们。但即使在会话失效后，活动计数也不会减少。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T17:49:05.177

If InvalidateCount=CreateCount, then ActiveCount should indeed be zero. This sounds like a bug in Websphere that you should report to IBM support.

# ios - 跨 iOS 应用程序共享数据的方式是什么？

> ID：12454071
> 
> 赞同：1
> 
> 时间：2012-09-17T06:26:09.537
> 
> 标签：ios, singleton, nsuserdefaults, appdelegate

我正在开发的应用程序有 10 个控制器。我想将设置屏幕中的一些状态信息分享给 5 个控制器。以下选项中的最佳策略是什么：

1.  使用 NSUserdefaults 存储状态信息并使用它。
2.  将状态信息存储在 AppDelegate 实例中并在相关控制器中使用
3.  使用单例实例来维护状态信息并在相关控制器上使用它

哪一个会更好？让我知道是否还有其他选择。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T06:33:15.893

`NSUserDefaults`解决方案还不错，至少如果这些价值观真的会自然而然地结束的话。当然[忘记单例的想法](http://zmotula.tumblr.com/post/1390385240/why-singletons-suck)，无论是单独的单例类还是应用程序委托。

* * *

还有另一种可能性，即减少控制器之间的耦合。与其依赖将设置作为属性公开的特定类，不如将所需的设置作为各个控制器上的属性：

```
@interface Controller : UIViewController
@property(assign) NSUInteger logLevel; // a sample setting
@end 
```

然后有一个单独的类（我们称之为它`Factory`）来负责创建控制器。工厂会记下所有设置，并将所需的设置传递给控制器​​。（GitHub 上有一个[示例 Xcode 项目](https://github.com/zoul/Singletons-Suck)展示了工厂方法，但目前它不包含此特定问题的示例。）

此解决方案的优点是松耦合，您不需要额外的对象（应用程序委托、`NSUserDefaults`实例或某些`Settings`类实例）来调整控制器的行为。缺点是更冗长的控制器 API。是否选择这种方法取决于您的设置的性质。

当然，也可以提出混合解决方案。创建一个`Settings`将保留所有设置的类，用一个不错的 API 公开它们（不再`-objectForKey:`调用），并将指向对象的指针共享`Settings`给所有控制器。您不需要单例，请参阅上面链接的 GitHub 示例代码。这意味着更紧密的耦合，但接口中的冗长更少。

# objective-c - IOS中的垂直和水平滚动

> ID：12454072
> 
> 赞同：3
> 
> 时间：2012-09-17T06:26:12.763
> 
> 标签：objective-c, ios

我正在开发一个 iPad 应用程序，在我的应用程序中，我使用外部滚动视图和内部滚动视图。外部滚动视图用于垂直滚动，内部滚动视图用于水平滚动。我也有几个内部滚动视图。

我需要做的是分离垂直滚动和水平滚动，当用户垂直滚动时，只有外部滚动视图响应，当用户水平滚动时，内部滚动视图响应。

现在发生的事情是当用户将他/她的手指放在其中一个内部滚动视图上并尝试垂直滚动时它不能正确滚动......

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-17T06:32:29.090

首先，

分三步解决这个问题，

1.  仅启用外部滚动视图的垂直滚动并使用

`_scrollview.showsHorizontalScrollIndicator` `= NO;`

2.仅启用内部滚动视图的水平滚动并使用

`_scrollview.showsVerticalScrollIndicator` `= NO;`

3.使用滑动手势，

使用方向为顶部和底部的滑动手势，并将该手势添加到外部滚动视图。

使用左右方向的滑动手势并将该手势添加到内部滚动视图。

# android - 每次应用启动时都会创建 GCM 注册 ID？

> ID：12454081
> 
> 赞同：3
> 
> 时间：2012-09-17T06:26:22.830
> 
> 标签：android, google-cloud-messaging

我的应用程序每次都开始创建注册 ID 并发送到服务器。

```
public class MariTimeGlobalNewsSplash extends Activity {
    /** Called when the activity is first created. */

    public final static String AUTH = "authentication";
    AsyncTask<Void, Void, Void> mRegisterTask;
    String TAG = "MariTimeGlobalNewsSplash";
    TextView mDisplay;
    @Override    
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.maritimes_global_news_splash);
        mDisplay = (TextView) findViewById(R.id.display);

        Thread threadMenu = new Thread(new Runnable() {
            public void run() {
                try {                   
                    Thread.sleep(2000);
                    HandlerMenu.sendEmptyMessage(0);

                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
            }
        });
        threadMenu.start();

        Log.i(TAG,
                "================Inside OnCreate Method==============================");
        checkNotNull(SERVER_URL, "SERVER_URL");
        checkNotNull(SENDER_ID, "SENDER_ID");
        // Make sure the device has the proper dependencies.
        GCMRegistrar.checkDevice(getBaseContext());
        // Make sure the manifest was properly set - comment out this line
        // while developing the app, then uncomment it when it's ready.
        GCMRegistrar.checkManifest(getBaseContext());

        registerReceiver(mHandleMessageReceiver, new IntentFilter(
                DISPLAY_MESSAGE_ACTION));
        final String regId = GCMRegistrar.getRegistrationId(this);
        if (regId.equals("")) {
            Log.i(TAG,
                    "================Inside if in regId=null ==============================");
            // Automatically registers application on startup.
            GCMRegistrar.register(this, SENDER_ID);
        } else {
            Log.i(TAG,
                    "================Inside else in regId=null ==============================");
            // Device is already registered on GCM, needs to check if it is
            // registered on our server as well.
            if (GCMRegistrar.isRegisteredOnServer(this)) {
                // Skips registration.
                Log.i(TAG,  "================Inside else in regId=null Already register on Server =============================");
                mDisplay.append(getString(R.string.already_registered) + "\n");
                Log.i("m Display regId",""+ mDisplay);
            } else {
                Log.i(TAG,
                        "================Inside else in regId=null trying to  register on Server =============================");
                // Try to register again, but not in the UI thread.
                // It's also necessary to cancel the thread onDestroy(),
                // hence the use of AsyncTask instead of a raw thread.
                final Context context = this;
                mRegisterTask = new AsyncTask<Void, Void, Void>() {

                    @Override
                    protected Void doInBackground(Void... params) {
                        Log.i(TAG,
                                "================Inside doInBackground Method==============================");
                        boolean registered = ServerUtilities.register(context,
                                regId);
                        // At this point all attempts to register with the app
                        // server failed, so we need to unregister the device
                        // from GCM - the app will try to register again when
                        // it is restarted. Note that GCM will send an
                        // unregistered callback upon completion, but
                        // GCMIntentService.onUnregistered() will ignore it.
                        if (!registered) {
                            GCMRegistrar.unregister(context);
                        }
                        return null;
                    }

                    @Override
                    protected void onPostExecute(Void result) {
                        Log.i(TAG,
                                "================Inside onPostExecute Method==============================");
                        mRegisterTask = null;
                    }

                };
                mRegisterTask.execute(null, null, null);
            }
        }       

    }

      public void register(View view) {
        Log.i("C2DM", "start registration process");
        Intent intent = new Intent("com.google.android.c2dm.intent.REGISTER");
        intent.putExtra("app", PendingIntent.getBroadcast(this, 0,new Intent(), 0));
        intent.putExtra("sender", "60905422365");        
        startService(intent);
    }

    public void showRegistrationId(View view) {
        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);
        String string = prefs.getString(AUTH, "n/a");
        Toast.makeText(this, string, Toast.LENGTH_LONG).show();
        Log.i("C2DM RegId", string);

    }           

    Handler HandlerMenu = new Handler() {
        @Override
        public void handleMessage(Message msg) {
            new Handler().postDelayed(new Runnable(){

                public void run() {

                    Intent i = new Intent(MariTimeGlobalNewsSplash.this,NewsScreenActivity.class);
                    startActivity(i);

                    finish();
                }

            }, 0);

            finish();
        }
    };
    @Override
    protected void onDestroy() {
        Log.i(TAG,
                "================Inside  OnDestroy  Method==============================");
        if (mRegisterTask != null) {
            mRegisterTask.cancel(true);
        }
        unregisterReceiver(mHandleMessageReceiver);
        GCMRegistrar.onDestroy(getBaseContext());
        super.onDestroy();
    }

    private void checkNotNull(Object reference, String name) {
        Log.i(TAG,
                "================Inside checkNotNull  Method==============================");
        if (reference == null) {
            throw new NullPointerException(getString(R.string.error_config,
                    name));
        }
    }

    private final BroadcastReceiver mHandleMessageReceiver = new BroadcastReceiver() {

        @Override
        public void onReceive(Context context, Intent intent) {
            Log.i(TAG,
                    "================Inside OnReceive in BroadcastReceiver Method==============================");
            String newMessage = intent.getExtras().getString(EXTRA_MESSAGE);
            mDisplay.append(newMessage + "\n");
        }
    };
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T06:31:30.340

这是因为您的本地服务器错误。您可能无法在服务器上成功保存您的注册 ID，或者可能无法连接到本地服务器。所以检查与服务器的连接。

```
if (!registered) {
    GCMRegistrar.unregister(context);
}
return null; 
```

如果您无法成功注册到您的服务器，此代码将从 GCM 服务器注销您的设备。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-19T05:12:22.810

```
public class MariTimeGlobalNewsSplash extends Activity {
    /** Called when the activity is first created. */

    TextView mDisplay;
    AsyncTask<Void, Void, Void> mRegisterTask;
    String TAG="MariTimeGlobalNews";
    public final static String AUTH = "authentication";

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.maritimes_global_news_splash);
        Thread threadMenu = new Thread(new Runnable() {
            public void run() {
                try {                   
                    Thread.sleep(2000);
                    HandlerMenu.sendEmptyMessage(0);

                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
            }
        });
        threadMenu.start();

         checkNotNull(SERVER_URL, "SERVER_URL");
            checkNotNull(SENDER_ID, "SENDER_ID");
            // Make sure the device has the proper dependencies.
            GCMRegistrar.checkDevice(this);
            // Make sure the manifest was properly set - comment out this line
            // while developing the app, then uncomment it when it's ready.
            GCMRegistrar.checkManifest(this);
       //     setContentView(R.layout.main);
            mDisplay = (TextView) findViewById(R.id.display);
            registerReceiver(mHandleMessageReceiver,
                    new IntentFilter(DISPLAY_MESSAGE_ACTION));
            final String regId = GCMRegistrar.getRegistrationId(this);
            if (regId.equals("")) {
                Log.i(TAG, "================Inside if in regId=null ==============================");
                // Automatically registers application on startup.
                GCMRegistrar.register(this, SENDER_ID);
            } else {
                Log.i(TAG, "================Inside else in regId=null ==============================");
                // Device is already registered on GCM, needs to check if it is
                // registered on our server as well.
                if (GCMRegistrar.isRegisteredOnServer(this)) {
                    // Skips registration.
                    Log.i(TAG, "================Inside else in regId=null Already register on Server =============================");
                    mDisplay.append(getString(R.string.already_registered) + "\n");
                } else {
                    Log.i(TAG, "================Inside else in regId=null trying to  register on Server =============================");
                    // Try to register again, but not in the UI thread.
                    // It's also necessary to cancel the thread onDestroy(),
                    // hence the use of AsyncTask instead of a raw thread.
                    final Context context = this;
                    mRegisterTask = new AsyncTask<Void, Void, Void>() {

                        @Override
                        protected Void doInBackground(Void... params) {
                            Log.i(TAG, "================Inside doInBackground Method==============================");
                            boolean registered =
                                    ServerUtilities.register(context, regId);
                            // At this point all attempts to register with the app
                            // server failed, so we need to unregister the device
                            // from GCM - the app will try to register again when
                            // it is restarted. Note that GCM will send an
                            // unregistered callback upon completion, but
                            // GCMIntentService.onUnregistered() will ignore it.
                            if (!registered) {
                                GCMRegistrar.unregister(context);
                            }
                            return null;
                        }

                        @Override
                        protected void onPostExecute(Void result) {
                            Log.i(TAG, "================Inside onPostExecute Method==============================");
                            mRegisterTask = null;
                        }

                    };
                    mRegisterTask.execute(null, null, null);
                }

            }

    }

      public void register(View view) {
            Log.i("C2DM", "start registration process");
            Intent intent = new Intent("com.google.android.c2dm.intent.REGISTER");
            intent.putExtra("app", PendingIntent.getBroadcast(this, 0,new Intent(), 0));
            intent.putExtra("sender", "123456789101");       
            startService(intent);
        }

        public void showRegistrationId(View view) {
            SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);
            String string = prefs.getString(AUTH, "n/a");
            Toast.makeText(this, string, Toast.LENGTH_LONG).show();
            Log.i("C2DM RegId", string);

        }           

    Handler HandlerMenu = new Handler() {
        @Override
        public void handleMessage(Message msg) {

            Intent i = new Intent(MariTimeGlobalNewsSplash.this,NewsScreenActivity.class);
            startActivity(i);
            finish();
        }
    };

      @Override
        protected void onDestroy() {
            Log.i(TAG, "================Inside  OnDestroy  Method==============================");
            if (mRegisterTask != null) {
                mRegisterTask.cancel(true);
            }
            unregisterReceiver(mHandleMessageReceiver);
            GCMRegistrar.onDestroy(getBaseContext());
            super.onDestroy();
        }

        private void checkNotNull(Object reference, String name) {
            Log.i(TAG, "================Inside checkNotNull  Method==============================");
            if (reference == null) {
                throw new NullPointerException(
                        getString(R.string.error_config, name));
            }
        }

        private final BroadcastReceiver mHandleMessageReceiver =
                new BroadcastReceiver() {

            @Override
            public void onReceive(Context context, Intent intent) {
                Log.i(TAG, "================Inside OnReceive in BroadcastReceiver Method==============================");
                String newMessage = intent.getExtras().getString(EXTRA_MESSAGE);
                mDisplay.append(newMessage + "\n");
            }
        };

        public static void trimCache(MariTimeGlobalNewsSplash context) {
            try {
                File dir = context.getCacheDir();
                if (dir != null && dir.isDirectory()) {
                    deleteDir(dir);

                }
            } catch (Exception e) {
                // TODO: handle exception
            }

        }

        public static boolean deleteDir(File dir) {
            if (dir!=null && dir.isDirectory()) {
                String[] children = dir.list();
                for (int i = 0; i < children.length; i++) {
                    boolean success = deleteDir(new File(dir, children[i]));
                    if (!success) {
                        return false;
                    }
                }
            }

            // The directory is now empty so delete it
            return dir.delete();
        }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T06:52:10.393

只需使用 Application.so 扩展您的类，这样它就不会每次都调用。它只会在应用程序安装后第一次调用。

```
public class MariTimeGlobalNewsSplash extends Application {

public final static String AUTH = "authentication";

AsyncTask<Void, Void, Void> mRegisterTask;

String TAG = "MariTimeGlobalNewsSplash";

TextView mDisplay;

@Override    
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    setContentView(R.layout.maritimes_global_news_splash);
    mDisplay = (TextView) findViewById(R.id.display);

    Thread threadMenu = new Thread(new Runnable() {
        public void run() {
            try {                   
                Thread.sleep(2000);
                HandlerMenu.sendEmptyMessage(0);

            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    });
    threadMenu.start();

    Log.i(TAG,
            "================Inside OnCreate Method==============================");
    checkNotNull(SERVER_URL, "SERVER_URL");
    checkNotNull(SENDER_ID, "SENDER_ID");
    // Make sure the device has the proper dependencies.
    GCMRegistrar.checkDevice(getBaseContext());
    // Make sure the manifest was properly set - comment out this line
    // while developing the app, then uncomment it when it's ready.
    GCMRegistrar.checkManifest(getBaseContext());

    registerReceiver(mHandleMessageReceiver, new IntentFilter(
            DISPLAY_MESSAGE_ACTION));
    final String regId = GCMRegistrar.getRegistrationId(this);
    if (regId.equals("")) {
        Log.i(TAG,
                "================Inside if in regId=null ==============================");
        // Automatically registers application on startup.
        GCMRegistrar.register(this, SENDER_ID);
    } else {
        Log.i(TAG,
                "================Inside else in regId=null ==============================");
        // Device is already registered on GCM, needs to check if it is
        // registered on our server as well.
        if (GCMRegistrar.isRegisteredOnServer(this)) {
            // Skips registration.
            Log.i(TAG,  "================Inside else in regId=null Already register on Server =============================");
            mDisplay.append(getString(R.string.already_registered) + "\n");
            Log.i("m Display regId",""+ mDisplay);
        } else {
            Log.i(TAG,
                    "================Inside else in regId=null trying to  register on Server =============================");
            // Try to register again, but not in the UI thread.
            // It's also necessary to cancel the thread onDestroy(),
            // hence the use of AsyncTask instead of a raw thread.
            final Context context = this;
            mRegisterTask = new AsyncTask<Void, Void, Void>() {

                @Override
                protected Void doInBackground(Void... params) {
                    Log.i(TAG,
                            "================Inside doInBackground Method==============================");
                    boolean registered = ServerUtilities.register(context,
                            regId);
                    // At this point all attempts to register with the app
                    // server failed, so we need to unregister the device
                    // from GCM - the app will try to register again when
                    // it is restarted. Note that GCM will send an
                    // unregistered callback upon completion, but
                    // GCMIntentService.onUnregistered() will ignore it.
                    if (!registered) {
                        GCMRegistrar.unregister(context);
                    }
                    return null;
                }

                @Override
                protected void onPostExecute(Void result) {
                    Log.i(TAG,
                            "================Inside onPostExecute Method==============================");
                    mRegisterTask = null;
                }

            };
            mRegisterTask.execute(null, null, null);
        }
    }       

}

  public void register(View view) {
    Log.i("C2DM", "start registration process");
    Intent intent = new Intent("com.google.android.c2dm.intent.REGISTER");
    intent.putExtra("app", PendingIntent.getBroadcast(this, 0,new Intent(), 0));
    intent.putExtra("sender", "60905422365");        
    startService(intent);
}

public void showRegistrationId(View view) {
    SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);
    String string = prefs.getString(AUTH, "n/a");
    Toast.makeText(this, string, Toast.LENGTH_LONG).show();
    Log.i("C2DM RegId", string);

}           

Handler HandlerMenu = new Handler() {
    @Override
    public void handleMessage(Message msg) {
        new Handler().postDelayed(new Runnable(){

            public void run() {

                Intent i = new Intent(MariTimeGlobalNewsSplash.this,NewsScreenActivity.class);
                startActivity(i);

                finish();
            }

        }, 0);

        finish();
    }
};
@Override
protected void onDestroy() {
    Log.i(TAG,
            "================Inside  OnDestroy  Method==============================");
    if (mRegisterTask != null) {
        mRegisterTask.cancel(true);
    }
    unregisterReceiver(mHandleMessageReceiver);
    GCMRegistrar.onDestroy(getBaseContext());
    super.onDestroy();
}

private void checkNotNull(Object reference, String name) {
    Log.i(TAG,
            "================Inside checkNotNull  Method==============================");
    if (reference == null) {
        throw new NullPointerException(getString(R.string.error_config,
                name));
    }
}

private final BroadcastReceiver mHandleMessageReceiver = new BroadcastReceiver() {

    @Override
    public void onReceive(Context context, Intent intent) {
        Log.i(TAG,
                "================Inside OnReceive in BroadcastReceiver Method==============================");
        String newMessage = intent.getExtras().getString(EXTRA_MESSAGE);
        mDisplay.append(newMessage + "\n");
    }
};

} 
```

不要忘记将此类路径放在清单应用程序标记中。

```
<application
    android:name=".packagepath.class"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"> 
```

# python - 无概率的基于词典的字符串标记化的 maxmatch 算法

> ID：12454096
> 
> 赞同：-1
> 
> 时间：2012-09-17T06:28:12.467
> 
> 标签：python

我正在尝试为基于词典的字符串标记化实现 maxmatch 算法而没有概率。我不知道从哪里开始。有人有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-03-09T10:54:32.090

MaxMatch 已经实现。下面是一个示例实现。您不需要从头开始，您可以 fork 下面的 GitHub 存储库并根据您的要求进行增强。

[https://github.com/saurabhsood91/maxmatch](https://github.com/saurabhsood91/maxmatch)

必须做：

*   无论您在哪里展示您的作品，请参考此存储库。
*   将您实施的改进写回给作者。
*   让社区知道您的方法有何不同和更好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:04:38.547

首先，您需要一个度量来衡量单词到您的一个标记的距离。python 库[difflib](http://docs.python.org/library/difflib.html)绝对是帮助您实现这一目标的良好开端。

但是，尚不清楚您是想将整个文本与关键字（例如搜索词）进行匹配，还是只想将单个单词与词典中的每个单词进行匹配。

在这两种情况下，difflib 文档可能都会有所帮助。

# video - 无法使用 VLC 重新流式传输 RTSP

> ID：12454098
> 
> 赞同：0
> 
> 时间：2012-09-17T06:28:22.417
> 
> 标签：video, rtsp, vlc, ip-camera, live555

我有一个安装了 VLC 的 linux 服务器，我正在尝试重新传输 IP 摄像机（rstp）。重新流式传输的命令应该没问题，因为在我的电脑上，它运行得很好。当我尝试从服务器运行它时，会出现一些问题：

```
...
[0xb550646c] live555 demux debug: setup start: 0.000000 stop:0.000000
[0xb550646c] live555 demux error: Nothing to play for rtsp://.../live.sdp
[0xb550646c] main demux debug: no access_demux module matching "rtsp" could be loaded
... 
```

我的电脑和服务器上的 VLC 版本是一样的。我发现它可能缺少 live555 库，但这不是我的情况。请你帮助我好吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-12T19:28:51.790

如果您只想重新流式传输，那么 VLC 就有点重了……

您需要查看文档[http://www.videolan.org/doc/streaming-howto/en/ch05.html](http://www.videolan.org/doc/streaming-howto/en/ch05.html)

或者你可以在 Linux 上使用这个库和 Mono ...

[http://www.codeproject.com/Articles/507218/Managed-Media-Aggregation-using-Rtsp-and-Rtp](http://www.codeproject.com/Articles/507218/Managed-Media-Aggregation-using-Rtsp-and-Rtp)

它将为您重新流式传输任何源并与 VLC 等一起使用。

# mpi - 无法在其他进程的进程 0 中分配的内存中写入超过 4 个字符

> ID：12454100
> 
> 赞同：1
> 
> 时间：2012-09-17T06:28:28.337
> 
> 标签：mpi

我对这段代码有点困惑。首先，我阅读了许多建议不要在 MPI 中发送指针的帖子。但我在这里发送一个，它正在工作。我对这段代码的另一个问题是它最多可以从其他进程写入 4 个字符来处理 0 的分配内存，就像在代码中一样。有人可以解释一下吗？

```
#include<mpi.h>
#include<stdio.h>
#include<string.h>
#include<stdlib.h>

int main(int argc, char *argv[])
{
    int MyRank, NumProcs, index, ret;
    MPI_Status status;
    MPI_File cFile;
    MPI_Init(&argc,&argv);
    MPI_Comm_rank(MPI_COMM_WORLD,&MyRank);
    MPI_Comm_size(MPI_COMM_WORLD,&NumProcs);
    //Allocated memory for a double pointer.
    char **var;
    MPI_Alloc_mem(sizeof(char *)*NumProcs, MPI_INFO_NULL, &var);
    for(index = 0; index < NumProcs; index++)
        MPI_Alloc_mem(sizeof(char)*50, MPI_INFO_NULL, &var[index]);
    if(MyRank == 0)
    { 
        //Copied data to the 0th position of the double pointer
        strcpy(var[MyRank],"KKKKKK");
        //Process 0 sent the array to other process to overwrite the data
        for(index = 1; index < NumProcs; index++)
            MPI_Send(var[index],1,MPI_INT,index,1,MPI_COMM_WORLD );
        for(index = 1; index < NumProcs; index++)
            MPI_Recv(var[index],1,MPI_INT,index,1,MPI_COMM_WORLD,&status);
    }
    else
    {
        //Overwrite of data is done. 
        MPI_Recv(var[MyRank],1,MPI_INT,0,1,MPI_COMM_WORLD,&status);
        strcpy(var[MyRank],"MMMMMM");
        MPI_Send(var[MyRank],1,MPI_INT,0,1,MPI_COMM_WORLD );
    }
    if(MyRank == 0)
    {
        //After writing data, printed in process 0;
        printf("My Rank is -%d\n", MyRank);
        for(index = 0; index < NumProcs; index++)
            printf(" %s\n",var[index]);
    }
    MPI_Finalize();
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T07:08:30.217

当你说`MPI_Send(var[index],1,MPI_INT,index,1,MPI_COMM_WORLD );`你告诉编译器发送 1 个整数。在 32 位系统上，这只有 4 个字节。

您可能希望将所有发送和接收行更改为具有相同的参数`MPI_Send(var[index],50,MPI_CHAR,index,1,MPI_COMM_WORLD );`

只是为了澄清您对发送指针的误解：MPI 实际上并不“发送指针”。上面的代码将从`char`指向的 by开始`var[index]`并发送它`char`和下一个 49 `chars`。

# asp.net-mvc-3 - 如何在 MVC 上的 View 中放置空格和更改日期格式？

> ID：12454105
> 
> 赞同：0
> 
> 时间：2012-09-17T06:29:05.647
> 
> 标签：asp.net-mvc-3

我正在开发 MVC 应用程序并使用剃刀语法。

在这个应用程序中，我提供评论功能。

目前评论看起来像......

```
P Moris9/15/2012 5:40:44 PM
Test comment 1 

P Moris9/15/2012 5:40:44 PM
Test comment 2 

P moris9/15/2012 5:40:45 PM
Test comment 3 
```

现在，我想在评论所有者的姓名和日期时间之间放置空格。以及如何将 dateTime 转换为

dd-MMM-yy hh:mm tt ?

评论应该看起来像......

> P Moris 2012 年 9 月 17 日下午 5:45。
> 
> 测试评论 1

（我不能在上面的示例中给出一个以上的空间......它会自动删除空间。）

我该怎么办？

我在视图中的代码是

```
 @foreach (var item in Model)
    {
        <div id="OwnerName">

         <span class="EmpName"> @Html.ActionLink(item.Owner.FullName, "Details", "EMployee", new { id = item.OwnerId }, new { @style = "color:#1A6690;" })</span>

           @Html.DisplayFor(ModelItem => item.CommentDateTime)

        </div>

        <p class="CommentP">
           @Html.DisplayFor(ModelItem => item.CommentText)
        </p>

        <br />

    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-17T06:31:57.863

您可以`&nbsp;`在评论作者姓名和创建日期之间添加一个：

```
<div id="OwnerName">
    <span class="EmpName">
        @Html.ActionLink(item.Owner.FullName, "Details", "EMployee", new { id = item.OwnerId }, new { @style = "color:#1A6690;" })
   </span>
   &nbsp;
   @Html.DisplayFor(ModelItem => item.CommentDateTime)
</div> 
```

为了[格式化](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)评论日期，您可以使用属性装饰您的视图模型[`[DisplayFormat]`](http://msdn.microsoft.com/en-us/library/system.componentmodel.dataannotations.displayformatattribute.aspx)属性：

```
[DisplayFormat(DataFormatString = "{0:dd MMM yyyy hh:mm tt}")]
public DateTime CommentDateTime { get; set; } 
```

如果由于某种原因您没有使用视图模型并且无法修改您的实体，您可以在视图中对其进行格式化：

```
<div id="OwnerName">
    <span class="EmpName">
        @Html.ActionLink(item.Owner.FullName, "Details", "EMployee", new { id = item.OwnerId }, new { @style = "color:#1A6690;" })
   </span>
   &nbsp;
   @Model.CommentDateTime.ToString("dd MMM yyyy hh:mm tt")
</div> 
```

另一种可能性是编写自定义显示模板 ( `~/Views/Shared/DisplayTemplates/CommentDate.cshtml`)：

```
@model DateTime
@Model.ToString("dd MMM yyyy hh:mm tt") 
```

然后将自定义显示模板名称传递给`DisplayFor`助手：

```
@Html.DisplayFor(ModelItem => item.CommentDateTime, "CommentDate") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-29T04:37:35.520

对于空白使用下面的代码

```
@{
  @:  &nbsp;&nbsp;
} 
```

# xslt-1.0 - XSLT 中同一标签的多链接遍历

> ID：12454106
> 
> 赞同：0
> 
> 时间：2012-09-17T06:29:06.363
> 
> 标签：xslt-1.0, xslt-2.0

**你好**

**我有以下 xml，我正在尝试编写 xslt。在这个 XML 中有一些书籍，其中可能有电影标签。所以每当标签是内联数据并且内容类型是电影时，我必须遍历该标签，它应该显示为**

**第一个链接**

（这本书的[电影可以在这里找到。）](http://video1.mpg)

**第二个链接**

（图片图标）[电影](http://Video1.mpg)

**因此，每本书都有两个链接，它们将显示在站点的不同位置。我的问题是如何在遍历完成后跟踪电影名称。我无法为同一本书第二次遍历。如何使用相同的变量或标志。请任何人都可以提供相同的 XSLT。**

**输入 XML**

```
<Book><body>
<movie  xmlns:xlink="http://www.w3.org/1999/xlink">
    <caption>
        <p>Testing data</p>
        <p>
            (A
            <inline-data
                content-type="Movie"  xlink:href="video1.mpg"
                xlink:title="Movie" xlink:type="simple">Movie
            </inline-data>
            of this Part is available here.)
        </p>
    </caption>
</movie>
<movie  xmlns:xlink="http://www.w3.org/1999/xlink">
    <caption>
        <p>Testing data</p>
        <p>
            (This movie
            <inline-data
                content-type="Movie"  xlink:href="video2.mpg"
                xlink:title="Movie" xlink:type="simple">Movie
            </inline-data>
             is available here.)
        </p>
    </caption>
</movie>
</body></Book> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T13:33:18.940

可能你正在寻找这样的东西：

```
<xsl:stylesheet version="2.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <xsl:output indent="yes"/>
  <xsl:template match="Book">
    <xsl:choose>
      <xsl:when test="body/movie">
        <xsl:for-each select="//movie">
          <p><xsl:apply-templates select="caption/p[2]"/></p>
        </xsl:for-each>
      </xsl:when>
      <xsl:otherwise>
        <html>
          <head><title>Movie</title></head>
          <body>
            <xsl:text>No Movie present</xsl:text>
          </body>
        </html>
      </xsl:otherwise>
    </xsl:choose>
  </xsl:template>

  <xsl:template match="inline-data">
    <a href="{@xlink:href}"><xsl:apply-templates/></a>
  </xsl:template>
</xsl:stylesheet> 
```

# mvvm - MVVM：加载相关数据的职责，在哪一层？

> ID：12454111
> 
> 赞同：2
> 
> 时间：2012-09-17T06:29:45.950
> 
> 标签：mvvm

我有一个具有 A 类实体的应用程序。A 有一个字段 B，它由一些视图模型使用，但不是全部。字段 B 在不同来源的单独加载操作中加载。

哪个层应该负责加载这个字段B？我看到了三种选择：

1.  在 A 中实现逻辑以在 B 被访问时加载它。它可以工作，但需要 A 类中的一些逻辑。我觉得实体类应该有最少的逻辑，当然没有与从数据源加载数据相关的逻辑（但我可能错了）。
2.  让数据访问层 (DAL) 在加载 A 的实例时加载 B。这不是最优的，因为从数据源（远程服务器）加载数据很慢，并且只有少数 A 的实例需要该字段B.
3.  如果需要，让视图模型使用 DAL 加载 B。在我看来，这（一个在 MVVM 方面相对缺乏经验的人）是最“MVVM-y”的方式。

与#1 相比，#3 在“它只是工作”因素方面似乎不那么“优雅”（使用#1，访问字段 B 将自动从数据源加载它）。但是＃3似乎以更好的方式分离了关注点，因为实体对象没有被赋予加载更多数据的责任。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T09:54:57.097

去#3。

实体模型，在客户端应用程序的情况下应该是数据传输对象，根本不应该有任何逻辑。当您尝试编写单元测试或/和更改 dto 时，这将（很可能）节省大量时间。

我只需将依赖项注入代表主项目的每个视图模型，然后让它获取数据。这也将允许通过项目视图模型上的 IsBusy 属性简单地用忙碌指示符通知用户。

您还可以实现一个单独的命令类来处理下载任务，但它需要一些上层服务来通知用户正在进行操作，但这是我能想象的最干净的方法。

所以从 3 开始，如果下载 child 的逻辑会增长到足以将它封装在命令类中，那就去做吧。但要不惜一切代价避免静电植入。

抱歉语法不好。

# android - 从单独类的数据库中填充列表视图

> ID：12454113
> 
> 赞同：0
> 
> 时间：2012-09-17T06:30:06.713
> 
> 标签：android, android-listview, android-sqlite

我很难找到一种从数据库中填充列表视图的方法。

这是我的代码：

> SQLDatabase.java

```
import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.database.SQLException;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;

public class SQLDatabase {

    public static final String KEY_MOVENAME = "movename";
    public static final String KEY_MOVEID = "_moveid";
    public static final String KEY_MOVEDATE = "movedate";

    private static final String DATABASE_NAME = "mymovingfriend";
    private static final int DATABASE_VERSION = 1;

    private static final String DATABASE_TABLE = "movingname";

    public static final String CREATE_TABLE = "CREATE TABLE " + DATABASE_TABLE + " (" + KEY_MOVEID +
            " INTEGER PRIMARY KEY AUTOINCREMENT, " + KEY_MOVEDATE + " TEXT NOT NULL, " + KEY_MOVENAME + " TEXT NOT NULL);";

    private DbHelper ourHelper;
    private final Context ourContext;
    private SQLiteDatabase ourDatabase;

    private static class DbHelper extends SQLiteOpenHelper{

        public DbHelper(Context context) {
            super(context, DATABASE_NAME, null, DATABASE_VERSION);
            // TODO Auto-generated constructor stub
        }

        @Override
        public void onCreate(SQLiteDatabase db) {
            // TODO Auto-generated method stub
            db.execSQL(CREATE_TABLE);
        }

        @Override
        public void onUpgrade(SQLiteDatabase db, int oldversion, int newversion) {
            // TODO Auto-generated method stub
            db.execSQL("DROP TABLE IF EXISTS " + DATABASE_TABLE);
            onCreate(db);
        }
    }

    public SQLDatabase(Context c){
        ourContext = c;
    }

    public SQLDatabase open() throws SQLException{
        ourHelper = new DbHelper(ourContext);
        ourDatabase = ourHelper.getWritableDatabase();
        return this;
    }

    public void close(){
        ourHelper.close();
    }

    public long createMove(String smovename){
        ContentValues cv = new ContentValues();
        cv.put(KEY_MOVENAME, smovename);
        return ourDatabase.insert(DATABASE_TABLE, null, cv);
    }

    public String getMove(){
        String[] column = new String[]{KEY_MOVENAME};
        Cursor c = ourDatabase.query(DATABASE_TABLE, column, null, null, null, null, null);
        String result = "";

        int iMove = c.getColumnIndex(KEY_MOVENAME);

        for (c.moveToFirst(); !c.isAfterLast(); c.moveToNext()) {
            result = result + c.getString(iMove) + "\n";
        }
        c.close();
        return result;
    }

} 
```

这是我的列表视图类，基本上这是列表视图与数据库分开的类。

> ListMovingNames.java

```
import android.app.ListActivity;
import android.os.Bundle;
import android.view.View;
import android.widget.ListView;

public class ListMovingNames extends ListActivity {
    ListView MoveList;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.selectorcreatemove);

        MoveList = (ListView) findViewById(R.id.lvMoveItems);

    }

    @Override
    protected void onListItemClick(ListView l, View v, int position, long id) {
        // TODO Auto-generated method stub
        super.onListItemClick(l, v, position, id);
    }

} 
```

我想要做的是填充列表视图并在从列表中选择一个项目时执行特定任务。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T06:38:27.757

使用 CursorAdapter 执行此操作。点击查看 CursorAdapter 的用法 [http://thinkandroid.wordpress.com/2010/01/09/simplecursoradapters-and-listviews/](http://thinkandroid.wordpress.com/2010/01/09/simplecursoradapters-and-listviews/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T06:39:26.543

好的，一种方法是定义用于存储数据库数据的变量，并在将数据填充到列表视图时使用该变量。这里我正在读取数据库并将值存储在其他变量中。

```
 public List<App_List> getAppList(String appclass){
    List<App_List> App_ListView = new ArrayList<App_List>();
    String AppTable_Name="favorite_apps";
    String AppList_Query="SELECT * FROM " + AppTable_Name +" WHERE appclass = "+ "'"+appclass+"'";
    SQLiteDatabase db = this.getReadableDatabase();
    Cursor cursor = db.rawQuery(AppList_Query, null);
    if (cursor.moveToFirst()){
        do{
            App_List mAppList = new App_List();
            if(cursor.getString(7).equalsIgnoreCase("local")){
                // if application is from local server also take the version
                mAppList.setVersion(cursor.getString(0));
            }
            mAppList.setApp_Name(cursor.getString(3));
            mAppList.setApp_Description(cursor.getString(4));
            mAppList.setApp_Link(cursor.getString(6));
            mAppList.setPlace(cursor.getString(7));//place is added here
            mAppList.setApp_Pkg(cursor.getString(1));
            App_ListView.add(mAppList);
          }while (cursor.moveToNext());
    }
    db.close();
    return App_ListView; 
```

我的类存储价值

```
 public class App_List {
private String App_Name;
private String App_Description;
private String App_Link;
private String App_Pkg;
public String getPlace() {
    return place;
}
public void setPlace(String place) {
    this.place = place;
}
private String Version;
private String place;

public String getVersion() {
    return Version;
}
public void setVersion(String version) {
    Version = version;
}
public String getApp_Name() {
    return App_Name;
}
public void setApp_Name(String app_Name) {
    App_Name = app_Name;
}
public String getApp_Description() {
    return App_Description;
}
public void setApp_Description(String app_Description) {
    App_Description = app_Description;
}
public String getApp_Link() {
    return App_Link;
}
public void setApp_Link(String app_Link) {
    App_Link = app_Link;
}
public String getApp_Pkg() {
    return App_Pkg;
}
public void setApp_Pkg(String app_Pkg) {
    App_Pkg = app_Pkg;
} 
```

在这里我将数据填充到列表视图

```
 @Override
public View getView(int position, View convertView, ViewGroup parent) {
    // TODO Auto-generated method stub
    View mView=convertView;
    if (convertView == null)  
    mView = inflater.inflate(R.layout.app_adapter, parent,false);
    App_List mAppList= mList.get(position);
    ((TextView) mView.findViewById(R.id.textView_appName)).setText(mAppList.getApp_Name());
    ((TextView) mView.findViewById(R.id.textView_appDescription)).setText(mAppList.getApp_Description()); 
```

# php - 在递归目录迭代器php中从递归中排除文件夹

> ID：12454114
> 
> 赞同：1
> 
> 时间：2012-09-17T06:30:07.073
> 
> 标签：php, directory-listing

在进行递归时，我需要从某个目录中排除所有文件和文件夹。到目前为止我有这个代码：

```
$it = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($websiteRoot.$file["filepathfromroot"]));
     foreach ($it as $currentfile)
     {
      if (!$it->isDot()&&$it->isFile()&&!in_array($it->getSubPath(), $file["exclude-directories"])) {

        //do something
         }
     } 
```

但是，此子路径仅匹配子路径，而不匹配子路径的文件和子目录。即对于Foo/bar/hello.php的目录结构。如果将 Foo 添加到排除列表 hello.php 仍然会出现在结果中。

有人对此有解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T07:10:17.390

代替 ：

```
in_array($it->getSubPath(), $file["exclude-directories"]) 
```

通过类似的东西：

```
!in_array_beginning_with($it->getSubPath(), $file["exclude-directories"]) 
```

你实现了这个功能：

```
function in_array_beginning_with($path, $array) {
  foreach ($array as $begin) {
    if (strncmp($path, $begin, strlen($begin)) == 0) {
      return true;
    }
  }
  return false;
} 
```

但这不是一个很好的方法，因为即使它们很大很深，您也会递归地进入无用的目录。在您的情况下，我建议您使用老式递归函数来读取您的目录：

```
<?php

function directory_reader($dir, array $ignore = array (), array $deeps = array ())
{
    array_push($deeps, $dir);
    $fulldir = implode("/", $deeps) . "/";
    if (is_dir($fulldir))
    {
        if (($dh = opendir($fulldir)) !== false)
        {
            while (($file = readdir($dh)) !== false)
            {
                $fullpath = $fulldir . $file;
                if (in_array($fullpath, $ignore)) {
                    continue ;
                }

                // do something with fullpath
                echo $fullpath . "<br/>";

                if (is_dir($fullpath) && (strcmp($file, '.') != 0) && (strcmp($file, '..') != 0))
                {
                    directory_reader($file, $ignore, $deeps);
                }
            }
            closedir($dh);
        }
    }
    array_pop($deeps);
} 
```

如果你尝试`directory_reader(".", array("aDirectoryToIngore"))`，它根本不会被读取。

# c# - 文件名的正则表达式

> ID：12454121
> 
> 赞同：-3
> 
> 时间：2012-09-17T06:30:28.487
> 
> 标签：c#, regex

> **可能重复：**
> [如何检查文件名是否与通配符模式匹配](https://stackoverflow.com/questions/652037/how-do-i-check-if-a-filename-matches-a-wildcard-pattern)

在我正在做的程序中，用户有两个输入。

> 输入 1 = 文件名。
> 输入 2 = flagFilePattern
> 
> 前任。1
> 输入 1 = file1.xml 或 file25.xml 或 file_123.xml
> 输入 2 = file*.xml
> 结果（所有文件应根据模式匹配（输入 2）
> 
> 前任。2
> 输入 1 = file1.xml.done
> 输入 2 = file*.xml
> 结果（文件不应根据模式匹配，因为在文件名的最后未找到 .xml）。

问题，根据上面的例子，我的正则表达式应该是什么？
注意：我的代码是 C#

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T06:35:56.600

for 的值`input 2`可以是有效的正则表达式。您需要做的就是添加`^`和`$`锚点，这些将允许您的正则表达式引擎专门匹配该模式，因此在您的情况下，您可以执行以下操作：

```
 String input2 = "file*.xml";
        Regex regex = new Regex("^" + input2.Replace(".", "\\.").Replace("*",".*") + "$");
        String input1 = "file_123.xml";
        String input3 = "file_123.xml.done";

        System.Console.WriteLine(regex.IsMatch(input1));
        System.Console.WriteLine(regex.IsMatch(input3));
        System.Console.ReadLine();
... 
```

The`.`是正则表达式中的特殊字符，因此需要对其进行转义。第二个`replace`语句添加一个`.`表示运算符前面的任何字符`*`，表示或多次重复。上面的代码分别产生`True`和`False`。

编辑：如上所述，您将需要根据您的情况转义更多字符。

编辑2：下面的代码应该注意转义任何属于正则表达式语言的字符串。在您的情况下，这也意味着`*`操作员。我使用了`Regex.Escape`转义所有可能具有特殊正则表达式含义的字符的方法，然后使用通常`replace`的方法`*`回到正轨。

```
 String input2 = "file*.xml";
            input2 = Regex.Escape(input2);  //Yields file\\*\\.xml
            input2 = input2.Replace("\\*", ".*");  //Yields file.*\\.xml
            Regex regex = new Regex("^" + input2 + "$");
            String input1 = "file_123.xml";
            String input3 = "file_123.xml.done";

            System.Console.WriteLine(regex.IsMatch(input1));
            System.Console.WriteLine(regex.IsMatch(input3));
            System.Console.ReadLine(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T06:35:59.307

只需使用 input2 并将其转换为正确的模式，例如

```
var regex = new Regex(@"\A" + (args[1].Replace(".", @"\.").Replace("*", ".*")) + @"\Z"); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-17T06:33:58.773

if`input 2`始终是有效的正则表达式，您可以使用以下代码：

```
String regex = input2;

Pattern pattern = Pattern.compile(regex); 

Matcher matcher = pattern.matcher(input1); 
```

# database - 在 xcode 中扩展数据模型？

> ID：12454122
> 
> 赞同：1
> 
> 时间：2012-09-17T06:30:31.887
> 
> 标签：database, xcode, core-data

所以我在 xcode 数据模型中为实体添加了一个新属性。基本上就像我在 MySQL 中向表中添加一个新列一样。然而，结果并不像 MySQL/web 开发中那样漂亮。

当我运行构建时，它会抛出“找不到源存储模型”。

在 xcode 中向现有实体添加新属性时，我需要做什么（步骤？）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T08:23:18.250

如果你有一个数据模型并且你已经使用这个模型保存了数据，那么会在`~/Library/<'application name'>/`目录中为你生成一个 .storedata 文件 (xml)（用于可可应用程序）。完成此操作后，如果您更改数据模型（例如添加实体），.storedata 文件将不再与数据模型兼容。
因此，要么您需要不同版本的数据模型，要么作为临时解决方案，您可以继续从我之前提到的目录中删除您的 .storedata 文件。但这将删除您之前保存的所有数据。

# macos - 如何在 mac 10.4 中从终端打开 SMB 共享？

> ID：12454123
> 
> 赞同：0
> 
> 时间：2012-09-17T06:30:32.493
> 
> 标签：macos

我有一个在 MAC OS 中打开 SMB 共享的 API。我使用的 SMB URL 看起来像`"smb://username:password@host/folderlocation"`。这在最新的 Mac 版本中运行良好，但在 MAC 10.4 中不起作用。通过在 MAC 的终端中提供 URL，我没有运气在 API 之外尝试。我该如何解决这个问题？帮助将不胜感激。

问候

G萨姆拉特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T11:54:26.777

解决了。我使用苹果脚本打开 samba 文件位置。

# macos - MacOS 的 pjsip 2.0.1 编译

> ID：12454124
> 
> 赞同：0
> 
> 时间：2012-09-17T06:30:37.690
> 
> 标签：macos, pjsip

我正在尝试为 MacOS 编译 pjsip 2.0.1。但是在做之后让我得到以下错误。

```
framework CoreFoundation VideoDecodeAcceleration QuartzCore -lbz2 -lz    
i686-apple-darwin10-llvm-gcc-4.2: VideoDecodeAcceleration: No such file or directory
i686-apple-darwin10-llvm-gcc-4.2: QuartzCore: No such file or directory
i686-apple-darwin10-llvm-gcc-4.2: VideoDecodeAcceleration: No such file or directory
i686-apple-darwin10-llvm-gcc-4.2: QuartzCore: No such file or directory
make[2]: *** [../bin/pjlib-test-i386-apple-darwin10.8.0] Error 1
make[1]: *** [pjlib-test] Error 2
make: *** [all] Error 1 
```

我使用以下 shell 脚本安装了所有依赖项使用 URL [https://gist.github.com/2049603](https://gist.github.com/2049603)下载脚本。

并按照我使用的步骤为 MacOS 编译 pjsip

```
./configure
make dep
make clean
make 
```

但我正在克服错误。我试图将问题发布到 pjsip 邮件列表，但没有得到任何答案，似乎他们没有收到我的邮件。请有人可以提供帮助，或者如果可能的话，有人可以将我的问题发布到 pjsip。这将是一个很大的帮助。

提前致谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T10:28:19.277

“VideoDecodeAcceleration: No such file or directory”错误似乎与视频部分有关。

如果您不需要视频，请尝试通过添加`#define PJMEDIA_HAS_VIDEO 1`来关闭视频`config_site.h`。

# jakarta-ee - jsf2 托管 bean 多个作用域

> ID：12454128
> 
> 赞同：0
> 
> 时间：2012-09-17T06:30:46.813
> 
> 标签：jakarta-ee, jsf-2, javabeans

假设我们有一个像

```
@ManagedBean(name = "categoriesbean")
@RequestScoped
public class CategoriesBean { 
      Integer id;
      public Integer getId() { return id;}
      public void setId(Integer idarg) { id = idarg;}
      ...
      ...
} 
```

在同一个应用程序中，我在其他地方

```
@ManagedBean(name = "categoriesdetailedbean")
@ViewScoped
public class CategoriesDetailedBean extends CategoriesBean { 
      Integer idderived;
      public Integer getIdderived() { return idderived;}
      public void setIdderived(Integer idderivedarg) { idderived = idderivedarg;}
      ...
      ...
} 
```

“categoriesdetailedbean”的范围是什么，它的属性（例如 Id 与 Idderived 的范围？）。

我问的原因是，我看到了一些我似乎不太理解的效果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T11:06:33.943

类注释是特定于类本身的，当您对它进行子类化时它们会被丢弃。根据萨尔多，您`CategoriesDetailedBean`继承了两种方法`getId()`，仅`setId()`此而已。它们不会神奇地在不同的范围内运行，也不会保存不同实例的值。

您对具体的功能要求不是很清楚，因此很难针对您*真正*想要做的事情发布合适的答案。但如果我猜对了，您实际上想从托管 bean 中访问不同的托管 bean 实例。如果是这样，那么您可以使用[`@ManagedProperty`](http://docs.oracle.com/javaee/6/api/javax/faces/bean/ManagedProperty.html)它。或者您可能想要一个主从视图，在这种情况下您不需要相互注入 bean，但最好将详细 ID 作为 GET 请求参数传递并用于[`<f:viewParam>`](http://docs.oracle.com/javaee/6/javaserverfaces/2.1/docs/vdldocs/facelets/f/viewParam.html)设置它。

### 也可以看看：

*   [在没有会话 bean 的情况下优雅地处理属性](https://stackoverflow.com/questions/10344256/elegant-handling-of-attributes-without-a-session-bean)
*   [JSF 2.0 中的通信](http://balusc.blogspot.com/2011/09/communication-in-jsf-20.html)
    *   [托管 bean 范围](http://balusc.blogspot.com/2011/09/communication-in-jsf-20.html#ManagedBeanScopes)
    *   [相互注入托管bean](http://balusc.blogspot.com/2011/09/communication-in-jsf-20.html#InjectingManagedBeansInEachOther)
    *   [处理 GET 请求参数](http://balusc.blogspot.com/2011/09/communication-in-jsf-20.html#ProcessingGETRequestParameters)

# c# - 用 HAP 搜索谷歌

> ID：12454129
> 
> 赞同：1
> 
> 时间：2012-09-17T06:30:51.213
> 
> 标签：c#, html, html-agility-pack

如何从中获取 href 属性`<a class='l'>`？

`SelectNodes("//a[@class='l']")`这是我的代码 - 它使用 HtmlAgilityPack 加载 HTML 源代码，但是在*foreach*循环中进行迭代时不起作用。

有任何想法吗？

```
HtmlWeb siec = new HtmlWeb();
HtmlAgilityPack.HtmlDocument htmldokument = siec.Load(@"https://www.google.pl/search?q=beer");
List<string> list = new List<string>();

if (htmldokument != null)
{
    foreach (HtmlNode text in htmldokument.DocumentNode.SelectNodes("//a[@class='l']"))
    {

        list.Add(text.InnerHtml);
        Console.WriteLine(text.InnerHtml);
    }
}
Console.ReadKey(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T17:47:13.097

您可以像这样访问 HtmlNode 属性：

`node.Attributes["name"].Value`

甚至更好（以防该属性不存在）：

```
node.GetAttributeValue("name", "") 
```

如果未找到该属性`name`，将返回一个空字符串。

* * *

```
HtmlWeb siec = new HtmlWeb();
HtmlAgilityPack.HtmlDocument htmldokument = siec.Load(@"https://www.google.pl/search?q=beer");
List<string> list = new List<string>();

if (htmldokument != null)
{
    foreach (HtmlNode text in htmldokument.DocumentNode.SelectNodes("//a[@class='l']"))
    {
        var href = text.GetAttributeValue("href", "");
        list.Add(href);
        Console.WriteLine(href);
    }
}
Console.ReadKey(); 
```

# c++ - OpenCV 不需要的颜色混合

> ID：12454134
> 
> 赞同：4
> 
> 时间：2012-09-17T06:31:13.243
> 
> 标签：c++, image-processing, opencv, hough-transform

我编写了一个简短的程序来演示使用 OpenCV 进行霍夫线检测。

在最后一步中，代码获取原始的、模糊的、灰度图像，覆盖 canny 边缘检测结果，然后覆盖霍夫变换检测到的线。

霍夫线被渲染为纯红色（R = 255），3px 线，但是当我覆盖它们时，由于某种原因，下面的图像会显示出来。下面的例子。

原图：![原始图像](../Images/ea1297b66cc10a417e1dffe42ec7f2b2.png)

带有 Canny 边缘 + 霍夫线叠加的模糊灰度图像：![在此处输入图像描述](../Images/edb465bf82fd54e9c8ce0b6bc56ab3f4.png)

放大片段：![在此处输入图像描述](../Images/7563783892b8a2682b8fda7371e7aa3a.png)

可以看出，灰度图像来自（显然）纯红色。为什么是这样？

完整代码如下：

最好的.cpp

```
#include <stdlib.h>
#include <iostream>
#include <stdio.h>

#include "opencv2/imgproc/imgproc.hpp"
#include "opencv2/highgui/highgui.hpp"

#include "toolbarconfig.h"

using namespace cv;

// Global variables
const char* window_name = "Hough Line Detection";

ToolbarConfig
    gaussian = ToolbarConfig(0, 15, 1, 6),
    canny = ToolbarConfig(20, 150, 2, 40),
    hough = ToolbarConfig(50, 400, 10, 200);

Mat input;

// Function prototypes
void update(int, void*);
void chromakey(const Mat under, const Mat over, Mat *dst, const Scalar& color);
void help();

/**
 * Creates an interactive example of running hough line detection on a
 * sample image
 */
int main( int argc, char** argv ) {
    const char* filename = argc >= 2 ? argv[1] : "pic1.png";

    input = imread(filename, CV_LOAD_IMAGE_COLOR); if(input.empty()) {
        help();

        std::cout << "Can not open " << filename << std::endl;
        return -1;
    }

    // Convert the image to grayscale
    cvtColor(input, input, CV_BGR2GRAY);

    // Create a window
    namedWindow(window_name, CV_WINDOW_AUTOSIZE);

    // Create trackbars for the user to enter thresholds
    createTrackbar("Gaussian Kernel Size", window_name, &(gaussian.t_current), gaussian.tmax(), update);
    createTrackbar("Canny Min Threshold", window_name, &(canny.t_current), canny.tmax(), update);
    createTrackbar("Hough Line Threshold", window_name, &(hough.t_current), hough.tmax(), update);

    // Show the image
    update(NULL, NULL);

    // Wait until user exit program by pressing a key
    waitKey(0);

    return 0;
}

/**
 * Trackbar callback - updates the display
 */
void update(int, void*) {
    const int CANNY_RATIO = 3, CANNY_KERNEL_SIZE = 3;

    Mat blurred_input, canny_edges, hough_lines;

    // Reduce noise with a gaussian kernel
    if(gaussian.current() != 0) {
        blur(input, blurred_input, Size(gaussian.current(), gaussian.current()));
    } else {
        blurred_input = input;
    }

    // Run Canny edge detector
    Canny(blurred_input, canny_edges, canny.current(), canny.current()*CANNY_RATIO, CANNY_KERNEL_SIZE);

    // ==== Begin Hough line detector phase

    // Create a vector to store the located lines in
    vector<Vec2f> line_vector;

    // Run the transform
    HoughLines(canny_edges, line_vector, 1, CV_PI/180, hough.current(), 0, 0);

    //std::cout << lines.size() << " lines detected" << std::endl;

    // Prepare the hough_lines image
    hough_lines = Mat::zeros(canny_edges.rows, canny_edges.cols, CV_8UC3);

    // Draw detected lines into an image
    for(size_t i = 0; i < line_vector.size(); i++) {
        float rho = line_vector[i][0], theta = line_vector[i][1];
        Point pt1, pt2;

        double a = cos(theta), b = sin(theta);
        double x0 = a*rho, y0 = b*rho;

        pt1.x = cvRound(x0 + 1000*(-b));
        pt1.y = cvRound(y0 + 1000*(a));
        pt2.x = cvRound(x0 - 1000*(-b));
        pt2.y = cvRound(y0 - 1000*(a));

        line(hough_lines, pt1, pt2, Scalar(0, 0, 255), 3, 0);
    }

    // Overlay the hough lines onto the original blurred image
    Mat blurred_input_color, canny_edges_color, input_with_canny, combined_images;
    cvtColor(blurred_input, blurred_input_color, CV_GRAY2BGR);
    cvtColor(canny_edges, canny_edges_color, CV_GRAY2BGR);

    chromakey(blurred_input_color, canny_edges_color, &input_with_canny, Scalar(0, 0, 0));
    chromakey(input_with_canny, hough_lines, &combined_images, Scalar(0, 0, 0));

    // Display the result
    imshow(window_name, combined_images);
}

/**
 * Takes two images and overlays them, using color as a chroma-key
 * Any pixels in the 'over' image that match the given color value will
 * effectively be transparent - the 'under' image will show through
 *
 * @precondition: All passed images must first be in BGR format
 */
void chromakey(const Mat under, const Mat over, Mat *dst, const Scalar& color) {
    // Mats must be the same size
    if(under.rows != over.rows || under.cols != over.cols) {
        std::cout << "Error, image dimensions must match" << std::endl;
        return;
    }

    // Create the destination matrix
    *dst = Mat::zeros(under.rows, under.cols, CV_8UC3);

    for(int y=0; y<under.rows; y++) {
        for(int x=0; x<under.cols; x++) {
            dst->at<Vec3b>(y,x)[0] = over.at<Vec3b>(y,x)[0] == color[0] ? under.at<Vec3b>(y,x)[0] : over.at<Vec3b>(y,x)[0];
            dst->at<Vec3b>(y,x)[1] = over.at<Vec3b>(y,x)[1] == color[1] ? under.at<Vec3b>(y,x)[1] : over.at<Vec3b>(y,x)[1];
            dst->at<Vec3b>(y,x)[2] = over.at<Vec3b>(y,x)[2] == color[2] ? under.at<Vec3b>(y,x)[2] : over.at<Vec3b>(y,x)[2];
        }
    }
}

/**
 * Prints usage information
 */
void help() {
    std::cout << "\nThis program demonstrates line finding with the Hough transform.\n" "Usage:\n"
    "./houghlines <image_name>, Default is pic1.png\n" << std::endl;
} 
```

工具栏配置.h

```
#ifndef TOOLBARCONFIG_H
#define TOOLBARCONFIG_H

class ToolbarConfig {
    public:
    ToolbarConfig(int min, int max, int stepsize, int current);

    int w2t(int world_value);
    int t2w(int toolbar_value);

    int current();
    int tmax();
    int tmin();

    int min;
    int max;
    int stepsize;

    int t_current;
};

#endif 
```

工具栏配置.cpp

```
#include <algorithm>

#include "toolbarconfig.h"

ToolbarConfig::ToolbarConfig(int min, int max, int stepsize, int current) {
    this->min = min;
    this->max = max;
    this->stepsize = stepsize;
    this->t_current = this->w2t(current);
}

int ToolbarConfig::w2t(int world_value) {
    return int((std::min(std::max(world_value, min), max) - min) / stepsize);
}

int ToolbarConfig::t2w(int toolbar_value) {
    return toolbar_value * stepsize + min;
}

int ToolbarConfig::current() {
    return t2w(t_current);
}

int ToolbarConfig::tmax() {
    return w2t(max);
}

int ToolbarConfig::tmin() {
    return w2t(min);
} 
```

如果需要，也很高兴提供我的 Makefile。

提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-17T17:14:17.727

错误必须在这里：

```
dst->at<Vec3b>(y,x)[0] = over.at<Vec3b>(y,x)[0] == color[0] ? under.at<Vec3b>(y,x)[0] : over.at<Vec3b>(y,x)[0];
dst->at<Vec3b>(y,x)[1] = over.at<Vec3b>(y,x)[1] == color[1] ? under.at<Vec3b>(y,x)[1] : over.at<Vec3b>(y,x)[1];
dst->at<Vec3b>(y,x)[2] = over.at<Vec3b>(y,x)[2] == color[2] ? under.at<Vec3b>(y,x)[2] : over.at<Vec3b>(y,x)[2]; 
```

当你第一次打电话

```
chromakey(blurred_input_color, canny_edges_color, &input_with_canny, Scalar(0, 0, 0)); 
```

的`canny_edges_color`白色像素值为 (255, 255, 255)，因此在上述比较中，您将获得`over`每个通道的值，因此像素的颜色将为 (255, 255, 255) 并且图像将正确显示。

但是，在第二种情况下：

```
chromakey(input_with_canny, hough_lines, &combined_images, Scalar(0, 0, 0)); 
```

您的`hugh_lines`红色像素的值为 (0, 0, 255)，因此对于前两次比较，它们将获得 的值`under`，因为

`over.at<Vec3b>(y,x)[0] == color[0]`和

`over.at<Vec3b>(y,x)[1] == color[1]`.

只会`dst->at<Vec3b>(y,x)[2]`得到 255 的值。为了使线看起来是实心的，在这种情况下应该是`dst->at<Vec3b>(y,x)[0] = 0`and而不是。`dst->at<Vec3b>(y,x)[1] = 0`

另外，根据[这个答案](https://stackoverflow.com/questions/12343662/opencv-cvmat-ones-for-multi-channel-matrix)，您可能应该像这样初始化 *dst：

`*dst = Mat(under.rows,under.cols,CV_8UC3,CV_RGB(0,0,0));`

因为它是一个 3 通道 Mat。

# iphone - 界面方向旋转

> ID：12454137
> 
> 赞同：3
> 
> 时间：2012-09-17T06:31:31.657
> 
> 标签：iphone, objective-c, ios, ios5, ios4

我正在开发一个代码，其中初始视图控制器是`landscape`视图。当按下该视图控制器中的按钮时，下一个视图控制器应该是`portrait`. 我`root view controller`的是一个`navigation controller`。

这是一个故事板应用程序。

`UIInterfaceOrientationLandscapeRight`我在第一个根视图控制器和 `UIInterfaceOrientationPortrait`第二个视图控制器中返回了 Yes 。但旋转起初不起作用。我们必须旋转视图以将其更改为正确的旋转。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T06:40:41.460

这里改变设备方向的一种方法是......

```
-(void)viewWillAppear:(BOOL)animated
{
    [[UIDevice currentDevice] setOrientation:UIInterfaceOrientationLandscapeRight];

} 
```

在这里你想在哪个类中改变方向然后在你的`viewWillAppear:`方法中写下这一行

并且为了删除 UIDevice 的警告，只需在你的 .m 文件中声明下面的代码

```
@interface UIDevice (MyPrivateNameThatAppleWouldNeverUseGoesHere)
- (void) setOrientation:(UIInterfaceOrientation)orientation;
@end 
```

这里代码在@implementation 文件上方定义，希望对您有所帮助...

:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T06:39:52.357

当您的第二个`ViewController`被加载时，在`viewDidLoad`或方向更改事件接收方法中添加此行：

```
[[UIApplication sharedApplication] setStatusBarOrientation:UIInterfaceOrientationPortrait]; 
```

编辑：

好的，然后在要纵向显示的 CiewController 中更新您的方法`shouldAutorotateToInterfaceOrientation`，如下所示：

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    // Return YES for supported orientations
    return UIInterfaceOrientationIsPortrait(interfaceOrientation);
} 
```

还要确保在 nib 文件中，您`Portrait`在属性检查器中设置了方向。

它会为你完成这项工作。

# php - UTF-8 错误的字符编码

> ID：12454139
> 
> 赞同：0
> 
> 时间：2012-09-17T06:31:46.350
> 
> 标签：php, encoding, utf-8

在一个数组中有一个变量，其中有一个`é`。我试图用正常`e` 使用替换它

```
echo strtr($var, "é", "e"); 
```

但即使这样也行不通。有点奇怪。在我的页面顶部有

```
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
```

然后，当我加载页面时，`é`字符被转换为`[[#233]]`，一个将内容转换为 pdf 的插件对我说文档包含`invalid UTF-8 character(s)`. 有人有线索吗？之间的变量来自 latin1_swedish_ci 数据库字段。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T06:44:33.050

在任何查询（选择/插入/更新）之前调用此语句：

```
SET NAMES utf8; 
```

也许您需要在数据库中重新创建数据。尝试插入一些新记录并选择它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T06:34:56.083

é 是 00E9 听起来像 Windows-1252 (CP1252)。不在控制范围内，但我遇到了类似的问题。可以`iconv`用来转换它并确保有效的 UTF-8。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T06:42:05.463

可能是您的数组被写入一个未以 UTF-8 编码的文件中。您的页面编码与使用元标记宣布的编码之间的差异会导致问题。确保在文本编辑器或 IDE 中配置了正确的编码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-09-09T15:14:18.947

只需添加 $html = iconv("UTF-8","UTF-8//IGNORE",$html); 并将此 $html 传递给您的视图

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-17T06:36:02.920

请检查数据库中存储的格式。如果它存储在这个

```
&egrave;    &#232;  &#xE8; 
```

格式，而不是您必须用此代码替换。

# c++ - 在模板类中重载 operator++

> ID：12454145
> 
> 赞同：3
> 
> 时间：2012-09-17T06:32:10.263
> 
> 标签：c++, templates, operator-overloading

我一直在摸索这个问题，在筛选了所有其他帖子之后，我想我已经不知所措了。

我决定要在 C++ 中练习一些模板编码和运算符重载，因此我认为快速而肮脏的 LinkList 实现会走得相当远。我快速破解了一个节点和列表类集，如下：

```
template <class T>
class Node{
public:
  Node* getNext(){ return Next; }

private:
  Node* Next;
  T data;
};

template <class T>
class List{
public:
  List& operator++();

private:
  Node<T>* nptr;
};

template <class T>
List<T>& List<T>::operator++(){
  if( nptr->getNext() ){
    nptr = nptr->getNext();
  }
  return *this;
}

main call:
int main(){
  List<int>* listObj = new listObj<int>();
  ...push on some nodes with random values...
  ++listObj;
  KABOOM
} 
```

为了便于阅读，我保持代码简短。假设我在创建节点时总是将 Next 初始化为 NULL，有一个 push 函数可以将更多节点添加到末尾，这也将最后一个节点的“Next”变量设置为该新节点，并且 nptr 也开始初始化为 NULL . 我已经测试了所有“假定”功能（构造、初始化、推送节点），我什至可以将 operator++ 函数打包为增量函数......

```
void Increment(){
  if( nptr->getNext() ){
    nptr = nptr->getNext();
  }
}

call:
listObj->Increment(); 
```

...而且效果很好。换句话说：编译器没有将我的 ++foo 版本分配给代码中的任何用途！我什至可以用调试器证明这一点，观察它增加 List 对象的地址，而不是像我想要的那样更新 nptr。

[现在，我在这里](https://stackoverflow.com/questions/1810753/overloading-operator-for-a-templated-class)看到了一个将函数加好友的建议，我尝试了一下：

```
friend List& operator++(){
  if( nptr->getNext() ){
    nptr = nptr->getNext();
  }
  return *this;
} 
```

但是，当我这样做时，会出现编译错误：

```
List& operator++() must have an argument of class or enumerated type 
```

我是一个头脑冷静的程序员，我认为它希望我确定传入的 RHS，这自然也不起作用。我放弃写出那条断断续续的推理路径，因为我相当有信心这不是正确的方向。

因此，鉴于编译器**似乎**对我的代码感到满意（或者至少不会因为它实际上没有在任何地方分配它而对它感到不安），为什么它仍然抓住非模板版本的运算符并将其视为 int？我将如何纠正代码以使编译器改为使用提供的函数？

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T06:41:24.397

用户定义的运算符**永远**不适用于指针等内置类型。`List`如果有的话，您需要在使用增量运算符之前取消引用指向您的指针：

```
++*listObj; 
```

如果没有`*`使用内置的增量运算符，这显然不是您想要的。不过，我假设您`KABOOM`实际上取消了对指针的引用：您通常希望显示出问题的确切代码，并且您希望更准确地了解实际出了什么问题。我还假设您创建的实际上是编译代码，而不是您引用的...

# jquery - 如何在段落标签内的 JQuery serialScroll 插件库中添加图像的标题？

> ID：12454146
> 
> 赞同：2
> 
> 时间：2012-09-17T06:32:19.297
> 
> 标签：jquery, image, serialscroll

我正在使用 Jquery serialScroll 插件并制作了一个水平画廊，为当前图像添加了一个 .active 类。我还想做的是获取当前图像的标题并将其显示在页面上的段落标签中。

我的 HTML：

```
<p class="title"></p>

<div id="slideshow">

<ul>
<li><img src="www.website.com/1.jpg title="title 1" /></li>
<li><img src="www.website.com/2.jpg title="title 2" /></li>
<li><img src="www.website.com/3.jpg title="title 3" /></li>
<li><img src="www.website.com/4.jpg title="title 4" /></li>
</ul>

</div> 
```

我的 Java 脚本：

```
// Easing equation, borrowed from jQuery easing plugin
// http://gsgd.co.uk/sandbox/jquery/easing/

 jQuery.easing.easeOutQuart = function (x, t, b, c, d) {
    return -c * ((t = t / d - 1) * t * t * t - 1) + b;
};

jQuery(function ($) {

    var $nav = $('#slideshow li');

    $('#slideshow').serialScroll({
        items: 'li',
        prev: '.prev',
        next: '.next',
        offset: 0, //when scrolling to photo, stop 230 before reaching it (from the left)
        start: 0, //as we are centering it, start at the 2nd
        duration: 1000,
        force: false,
        stop: true,
        constant: false,
        lock: false,
        cycle: false, //don't pull back once you reach the end
        easing: 'easeOutQuart', //use this easing equation for a funny effect
        jump: true, //click on the images to scroll to them
        navigation: $nav,
        onBefore: function (e, el, $p, $i, pos) {
            $nav.removeClass('newclass');
            $nav.eq(pos).addClass('newclass')
        },

    });
}); 
```

我想我需要以某种方式添加这个 Javascript 来获得标题：

```
<script>
var title = $("li.newclass img").attr("title");
$("p.title").text(title);
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T06:45:41.077

首先更正您的 html 并添加结束引号并更正 href 部分，如下所示：

```
<p class="title"></p>

<div id="slideshow">

<ul>
<li><img src="http://www.website.com/1.jpg" title="title 1" /></li>
<li><img src="http://www.website.com/2.jpg" title="title 2" /></li>
<li><img src="http://www.website.com/3.jpg" title="title 3" /></li>
<li><img src="http://www.website.com/4.jpg" title="title 4" /></li>
</ul>

</div> 
```

要使P中的文字与图片的标题相同，请使用与更改类相同的功能...像这样：

```
// Easing equation, borrowed from jQuery easing plugin
// http://gsgd.co.uk/sandbox/jquery/easing/
jQuery.easing.easeOutQuart = function (x, t, b, c, d) {
    return -c * ((t=t/d-1)*t*t*t - 1) + b;
};

jQuery(function( $ ){

    var $nav = $('#slideshow li');
    var pos = 0;
    $nav.removeClass('newclass');
    $nav.eq(pos).addClass('newclass')
    var title = $("li.newclass img").attr("title");
    $("p.title").text(title);

    $('#slideshow').serialScroll({
        items:'li',
        prev:'.prev',
        next:'.next',
        offset:0, //when scrolling to photo, stop 230 before reaching it (from the left)
        start:0, //as we are centering it, start at the 2nd
        duration:1000,
        force:false,
        stop:true,
        constant:false,
        lock:false,
        cycle:false, //don't pull back once you reach the end
        easing:'easeOutQuart', //use this easing equation for a funny effect
        jump: true, //click on the images to scroll to them
        navigation:$nav,
        onBefore:function(e,el,$p,$i,pos){
            $nav.removeClass('newclass');
            $nav.eq(pos).addClass('newclass')
            var title = $("li.newclass img").attr("title");
            $("p.title").text(title);
        }
    });
}); 
```

# .htaccess - .htaccess 重定向 301

> ID：12454150
> 
> 赞同：0
> 
> 时间：2012-09-17T06:32:55.177
> 
> 标签：.htaccess, mod-rewrite

我的网站`www.freerankstat.com`有旧的 url 参数`www.freerankstat.com/facebook.com`和新参数`www.freerankstat.com/www/facebook.com`

我尝试使用 .htaccess 文件，但谷歌网站管理员显示 80K+ 错误不可用..

我在 .htaccess 文件中使用以下代码..

```
RewriteCond %{REQUEST_FILENAME} !-f

RewriteCond %{REQUEST_FILENAME} !-d

RewriteRule ^(.+)$ http://www.freerankstat.com/www/$1 [R=301,NC] 
```

我期待你的帮助..

关于凯沙布

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T17:33:53.943

尝试添加条件以防止重写循环

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^/www/
RewriteRule ^(.+)$ http://www.freerankstat.com/www/$1 [R=301,NC] 
```

# windows-8 - WinRT / Win8 Metro 中的 XAML 基元

> ID：12454153
> 
> 赞同：9
> 
> 时间：2012-09-17T06:33:14.740
> 
> 标签：windows-8, microsoft-metro, windows-runtime, winrt-xaml

有没有人能够在 WinRT 中的 XAML 中添加原语？我正在尝试运行以下命令，这是除 WinRT 之外的所有基于 XAML 的技术的标准：

```
<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:System="using:System">

    <System:Double x:Key="MyWidth">550</System:Double>

</ResourceDictionary> 
```

这不会在 Visual Studio 中显示错误，但会引发 XamlParseException 并显示消息“未找到类型 'Double'...”

谢谢！

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-09-17T06:42:53.630

系统类型的命名空间已替换为“x”

```
<x:Double>550</x:Double> 
```

# c++ - 如何从预定义常量中获取#define 符号而不是值

> ID：12454155
> 
> 赞同：0
> 
> 时间：2012-09-17T06:33:19.140
> 
> 标签：c++

我有一个 C++ 定义语句为：

```
#define PING 10 
```

在我的`main`功能中，我有类似的东西：

```
int main()
{
    int code;
    cout<<"enter command code";
    cin>>code;      // value entered 10
    cout<<code;   //here i want "PING" output instead of 10

    return 0;
} 
```

如何在输出中用 PING 替换 10？

### 编辑：

我将有多个#define as

```
#define PING 10
#define STATUS 20
#define FETCH 74
#define ACK 12
#define TRAIL 9
#define EXIT 198 
```

现在我的业务逻辑将只获得命令代码，即 10 或 12 等

我想检索该代码的相应命令名称..怎么可能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T06:39:27.983

您定义的 PING 是一个预处理器宏。在所有出现 PING 时，它将被简单地替换为 10。

要打印 PING 代替 10，您需要将字符串“PING”存储在某处，以便您可以在运行时打印它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-17T06:38:03.647

怎么换：

```
cout << code; 
```

和：

```
if (code == PING)
    cout << "PING";
else
    cout << code; 
```

这是最简单的方法，如果你有一个`#define`. 对于更复杂的情况，您可以根据`#define`值查找一个字符串数组，例如：

```
#define E_OK        0
#define E_NOMEM     1
#define E_BADFILE   2
#define E_USERERROR 3
#define E_NEXT_ERR  4

static const char *errStr[] = {
    "Okay",
    "No memory left",
    "Bad file descriptor",
    "User is insane",
};
:
if ((errCode < 0) || (errCode >= E_NEXT_ERR))
    cout << "Unknown error: " << errCode << '\n';
else
    cout << "Error: " << errStr[errCode] << '\n'; 
```

如果值不同，您可以选择非基于数组的解决方案，例如：

```
#define PING 10
#define STATUS 20
#define FETCH 74
#define ACK 12
#define TRAIL 9
#define EXIT 198
:
const char *toText (int errCode) {
    if (errCode == PING  ) return "Ping";
    if (errCode == STATUS) return "Status";
    if (errCode == FETCH ) return "Fetch";
    if (errCode == ACK   ) return "Ack";
    if (errCode == TRAIL ) return "Trail";
    if (errCode == EXIT  ) return "Exit";
                           return "No idea!";
} 
```

* * *

*您可能*要考虑做的另一件事是用`#define`枚举常量替换值。像这样简单的事情可能无关紧要，但提供的类型安全和额外信息几乎肯定会在您职业生涯的某个阶段减轻您的调试工作。

现在，我一般只`#define`用于条件编译。常量最好用枚举来完成，而且我已经很长时间没有在什么应该和不应该是内联函数上超越编译器了:-)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T06:38:51.177

您无法获得预处理器指令的左值，因为在编译之前工作，并且只需将代码中`#define`所有出现的 . 替换为. 所以如果你写，例如，那么，在编译开始之前，预处理器会将它替换为，显然 10 是一个右值。`PING``10``if(code == PING)``if(code == 10)`

在您的情况下，您可以这样做：

```
int main()
{
    int code;
    cout<<"enter command code";
    cin>>code;      
    if( code == PING )
        cout<<code;   
    else 
        cout<<code;

    return 0;
} 
```

# infragistics - ultragrid：如果超过一定数量，则在下一行显示一些列

> ID：12454166
> 
> 赞同：1
> 
> 时间：2012-09-17T06:34:19.990
> 
> 标签：infragistics, ultrawingrid

我有一个 ultrawingrid，我在其中设置运行时的列数。超网格的属性设置为 dock.fill。它也在带有rowlayout的cardview中。如果超过 5 列，我希望 wingrid 在下一行显示接下来的 5 列，依此类推，直到行尾，这样我就不必显示水平滚动条并且所有字段都可见。

例如。

```
 Now they are arranged as
| Column1 | text | Column2 | text | Column3 | text | Column4 | text | Column5 | text |
and a scrollbar appears if they move beyond the right boundary.
Instead I want it to show only 3 columns in first row then the others in next row and so on.
No scrollbars.
I have only 1 card and only 1 row.code here 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-14T12:15:34.800

用于设置列位置的类。网格名称是 filtergrid。其他事情几乎可以解释。我们只在设计中声明了网格（由于某种我们不知道的原因，我们在代码中声明网格时无法使用此函数）。所有其他设置都是在代码中完成的。

```
const int NoOfCols = 7;
private void SetDefaultColumnPositions(RowLayoutColumnInfosCollection colInfos)
{
    int totalColWidth = 0;
    int visibleColumnCount = 0;
    foreach (RowLayoutColumnInfo rlColInfo in colInfos)
    {
        if (rlColInfo.Column.Hidden == false)
        {
            visibleColumnCount++;
            totalColWidth += rlColInfo.Column.CellSizeResolved.Width;
        }
    }
    int NO_OF_ROWS = Convert.ToInt32(System.Math.Ceiling(visibleColumnCount * 1.0 / NoOfCols));
    int columnCount = 0;
    _filterGrid.Height = 22 * (NO_OF_ROWS);
    if (columnCount == colInfos.Count)
    {
        return;
    }
    for (int i = 0; i < NO_OF_ROWS; i++)
    {
        for (int j = 0; j < NoOfCols; j++)
        {
            if (columnCount >= colInfos.Count)
            {
                return;
            }
            while (colInfos[columnCount].Column.Hidden)
            {
                ++columnCount;
                if (columnCount >= colInfos.Count)
                {
                    return;
                }
            }
            if (columnCount < colInfos.Count)
            {
                colInfos[columnCount].Initialize((j +2) * 2, i * 2);
                ++columnCount;
            }
            if (columnCount >= colInfos.Count)
            {
                break;
            }
        }
        if (columnCount >= colInfos.Count)
        {
            break;
        }
    }
} 
```

# android - 增强现实中的图像蒙版

> ID：12454169
> 
> 赞同：1
> 
> 时间：2012-09-17T06:34:36.440
> 
> 标签：android, augmented-reality

我在 android 中使用示例遮挡管理，其中当相机到达目标时应用遮罩。但是我想在相机移入时对图像应用蒙版，并在相机移出时取消蒙版。

希望你明白我想问什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T09:02:39.303

QualComm VUforia Augmented Reality 的专家表示，对于这些我们需要使用 Unity 3D 的原生 SDK 无法实现，因为这是深度遮罩的概念，原生 SDK 无法实现

# email - 电子邮件模板新符号出现

> ID：12454174
> 
> 赞同：0
> 
> 时间：2012-09-17T06:35:05.093
> 
> 标签：email, templates, special-characters, symbols, skype

我们有一个通过电子邮件触发的新电子邮件模板。有一些特殊的符号是：“Â”出现在版权符号的前缀。如下所述：“©”保留所有权利。我已尝试使用所有可能的方法进行整理添加“”或添加 ascii 符号、编码和解码等方式。但它似乎不起作用。此外，即使在添加 metatag 之后，Skype 符号也不会在 chrome 中删除。添加“”到它显示一个特殊字符，如上...请给我解决方案..谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T12:33:54.693

Â 字符通常是 UTF-8 编码处理不当的标志：

[https://en.wikipedia.org/wiki/Utf-8](https://en.wikipedia.org/wiki/Utf-8)

但是由于您的问题非常模糊，难以阅读（语法不好）并且缺乏细节，因此无法进一步帮助您。

# c - gcov 内存不足/版本不匹配？

> ID：12454175
> 
> 赞同：23
> 
> 时间：2012-09-17T06:35:14.843
> 
> 标签：c, code-coverage, clang, gcov

只是试图让 gcov 启动并运行，得到以下错误：

```
$ gcov src/main.c -o build
build/main.gcno:version '404*', prefer '407*'

gcov: out of memory allocating 14819216480 bytes after a total of 135168 bytes 
```

我正在使用 clang/profile_rt 来生成 gcov 需要的文件，我假设这可能与它有关。不过，它正在我的另一台计算机上运行，​​所以我认为它可以以某种方式修复。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-02-03T19:20:47.450

我刚刚在我的机器上遇到了同样的问题。

确保您的 gcov 版本和您使用的编译器匹配。

使用 g++-4.7 编译时我遇到了这个确切的问题，我有 gcov 4.6。

在我的机器上`sudo apt-get install ggcov`给了我最新的版本。然后我不得不`sudo ln -sf /usr/bin/gcov-4.7 /usr/bin/gcov`在正确的地方制作 gcov 点。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2015-01-12T13:46:30.127

我的问题是我更新了`gcc`，`g++`所以我可以使用更新的编译器，但忘记更新`gcov`版本意味着运行“ `gcov`”或“ `lcov`”选择了以前的编译器版本`gcov`。

所以基本上运行`g++ --version`并且`gcov --version`应该产生相同的版本号，否则事情会变得非常错误。

这是我更新编译器版本的方法，最后一行是我缺少的让它全部工作的内容。

```
sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 90
sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.9 90
sudo update-alternatives --install /usr/bin/gcov gcov /usr/bin/gcov-4.9 90 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2014-05-14T12:07:19.497

我只是遇到了同样的问题，并且安装了正确的版本。`*.gcda`我的解决方案：从您编译的任何子目录中删除所有文件。我`make clean`没有涵盖它们。

# blackberry - 有没有办法在黑莓中以编程方式设置 APN？

> ID：12454176
> 
> 赞同：6
> 
> 时间：2012-09-17T06:35:20.447
> 
> 标签：blackberry, java-me, blackberry-eclipse-plugin

我们可以在 Blackberry 中获取 APN 名称，但我知道有什么方法可以在应用程序中设置 APN。请帮我解决这个问题？

提前致谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-17T06:53:01.207

你当然可以。但我想你知道 apn 只是直接连接的选项。而且我认为您知道它不适用于许多运营商。所以最好使用wifi，bis-b，wap2。但也许您的目标是特定的运营商。

如果目标是 5.0+，则最好：

```
ConnectionFactory connectionFactory = new ConnectionFactory();
connectionFactory.setPreferedTransportTypes(new int[] {..., TransportInfo.TRANSPORT_TCP_CELLULAR,...});
TcpCellularOptions transportOptions = new TcpCellularOptions();
transportOptions.setApn("<your apn>");
transportOptions.setTunnelAuthUsername("<username if required>");
transportOptions.setTunnelAuthPassword("<password if required>");
connectionFactory.setTransportTypeOptions(TransportInfo.TRANSPORT_TCP_CELLULAR, transportOptions); 
```

如果目标低于 5.0 操作系统，则基本：

```
connection = (<corresponded connection class type>)Connector.open("<your connection prefix>" + ";deviceside=false;apn=<your apn name>;TunnelAuthUsername=<username if required>;TunnelAuthPassword=<password if required>") 
```

# jquery - 嵌套在选项卡中的手风琴没有出现

> ID：12454188
> 
> 赞同：0
> 
> 时间：2012-09-17T06:36:50.283
> 
> 标签：jquery, tabs, accordion

我试图在 jQuery 选项卡窗格中放置一个 jQuery 手风琴，并认为可能与我用于选项卡的代码存在冲突，因为它在插入时没有出现。手风琴在其自己的页面中工作正常。页眉中出现的脚本是：

```
 <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1/jquery-ui.min.js"></script>
<script type="text/javascript" src="script/jquery.tools.min.js"></script>
<script type="text/javascript" src="v3flashslideshow/slideshow.js"></script>
<script type="text/javascript">
function goToByScroll(id){
                 $('html,body').stop().animate({scrollTop: $("#"+id).offset().top},'slow');
        }
function MM_jumpMenu(targ,selObj,restore){ //v3.0
  eval(targ+".location='"+selObj.options[selObj.selectedIndex].value+"'");
  if (restore) selObj.selectedIndex=0;
}
</script> 
```

页面末尾的脚本是：

```
<script>
$(function() {
$(".tabs:first").tabs(".css-panes:first > div", { history: true });
});
$(function() {
$("#accordion").tabs(
"#accordion div.pane",
{tabs: 'h2', effect: 'slide', initialIndex: null} 
```

); });

```
</script>
</body> 
```

谁能看到我可能出错的地方？我是 jQuery 的新手，只是不知道哪里出了问题。HTML 看起来都是正确的，可以在[这里查看](http://www.davidkneale.com/wcusa/expedition_leader.html)。

对此的任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T06:41:52.733

为什么要同时使用 jQuery UI 和 jQuery 工具？jQuery UI 可以做标签和手风琴，我从个人经验中知道它们可以一起工作。另外，删除我认为是由 dreamweaver 自动插入的糟糕的 MM_ 代码；）

# javascript - 无法重新初始化 JQuery DataTable

> ID：12454190
> 
> 赞同：25
> 
> 时间：2012-09-17T06:37:12.087
> 
> 标签：javascript, jquery, json, jquery-datatables

我正在使用 jquery 数据表在网格内显示数据。在初始化页面加载脚本上使用 DateTime.Today 并进一步处理它们，问题是在初始化页面加载之后，当我试图让用户输入日期以进行进一步处理时。我有以下错误。

**DataTables 警告（表 id = 'dataTable'）：无法重新初始化 DataTable。要检索此表的 DataTables 对象，请不传递任何参数或查看 bRetrieve 和 bDestroy 的文档**

```
function getDate() {
    var date = $('input[name="myDate"]').val();
    return date;
}

$('#myDate').click(updateDate);

function updateDate() { 
    $('#dataTable').dataTable({
        "bServerSide": true,
        "sAjaxSource": "/Home/Ajax",
        "fnServerParams": function (aoData) {
            var date = getDate();
            aoData.push({ "name": "myDate", "value": date });
        },
        //... there's more
}

updateDate(); 
```

脚本放在页面底部。

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2012-09-17T07:05:54.883

尝试将 "bDestroy": true 添加到选项对象文字中，例如

```
$('#dataTable').dataTable({
    "bServerSide": true,
    ....
    "bDestroy": true
}); 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2014-01-14T00:21:16.000

我知道这是一个老问题。但这适用于其他有类似问题的人。

您应该销毁旧的 dataTable 分配。在创建新数据表之前使用以下代码

```
$("#dataTable").dataTable().fnDestroy(); 
```

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2014-07-08T12:40:25.783

DataTables API 已更改，但如果您再次尝试重新初始化数据表，仍会引发此错误。

您可以检查它是否已经创建：

```
$.fn.DataTable.isDataTable("#myTable") 
```

并销毁它以便可以再次重新创建它：

```
$('#myTable').DataTable().clear().destroy(); 
```

这不是最有效的方法，但它确实有效。应该可以在不首先破坏表的情况下更新表，只需使用`clear`and `row.add`，但是当数据源是传递给构造函数的数组时，我还没有找到一种方法。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2014-01-29T17:52:25.023

The first thing you wanna do is to clean and destroy your datatables.

```
var tables = $.fn.dataTable.fnTables(true);

$(tables).each(function () {
  $(this).dataTable().fnClearTable();
  $(this).dataTable().fnDestroy();
}); 
```

and then re-create.

```
$("#datagrid").dataTable(); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-09-17T21:42:39.253

检查您的代码中是否有对数据表的重复调用。如果你不小心多次初始化你的表，它会返回这个错误

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-10-03T14:50:32.070

新的 Datatables API 有一个 reload 函数，它将再次从 ajax 源中获取数据，而无需您先销毁表。当我有一个包含大量行（5000+）的表时，销毁所需的时间比初始加载时间长，而且销毁时“处理”框不会出现，但是重新加载非常快并且正确显示“处理" 工作时的盒子。

这是问题中代码的更新版本，它使用新的 API 来达到预期的效果：

```
function getDate() {
  var date = $('input[name="myDate"]').val();
  return date;
}

$('#myDate').click(updateDate);

// Use .DataTable instead of .dataTable
// It returns a different object that has the ajax attribute on it.
var myDataTable = $('#dataTable').DataTable({
  "bServerSide": true,
  "sAjaxSource": "/Home/Ajax",
  "fnServerParams": function (aoData) {
    var date = getDate();
    aoData.push({ "name": "myDate", "value": date });
  },
  //... there's more

function updateDate() { 
  myDataTable.ajax.reload();
} 
```

我所做的唯一更改是使用`.DataTable`而不是`.dataTable`并维护对返回值的引用，`myDataTable`以便可以使用它来调用`.ajax.reload()`.

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-07-11T11:47:53.267

这对我有用 var table = $('#table1').DataTable({ destroy: true, responsive: true, ..... });

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2016-02-15T10:19:11.987

清除现有数据表：

```
$(this).dataTable().fnClearTable();
$(this).dataTable().fnDestroy(); 
```

* * *

## 回答 #9

> 赞同：-2
> 
> 时间：2016-10-18T10:25:40.310

```
var myDataTable = $('#dataTable').DataTable();
myDataTable.ajax.reload(); 
```

绝对这就是我正在寻找的。重新初始化数据表的好解决方案

# actionscript-3 - 原始数据转 WAV 格式 - 调整率 44100

> ID：12454201
> 
> 赞同：1
> 
> 时间：2012-09-17T06:37:53.147
> 
> 标签：actionscript-3, audio

我正在从麦克风录制音频，但是当我尝试使用 WaveEncoder（或任何其他编码器 - 我尝试了几个）将这些原始数据编码为 wav 格式时，它生成的语音太快（每秒采样率更高），频率为 44100Hz。这是编码的代码：

```
private static const RIFF:String = "RIFF";  
private static const WAVE:String = "WAVE";  
private static const FMT:String = "fmt ";   
private static const DATA:String = "data";  

public function encode( samples:ByteArray, channels:int=2, bits:int=16, rate:int=44100 ):ByteArray
{
    var data:ByteArray = create( samples );

    _bytes.length = 0;
    _bytes.endian = Endian.LITTLE_ENDIAN;

    _bytes.writeUTFBytes( WaveEncoder.RIFF );
    _bytes.writeInt( uint( data.length + 44 ) );
    _bytes.writeUTFBytes( WaveEncoder.WAVE );
    _bytes.writeUTFBytes( WaveEncoder.FMT );
    _bytes.writeInt( uint( 16 ) );
    _bytes.writeShort( uint( 1 ) );
    _bytes.writeShort( channels );
    _bytes.writeInt( rate );
    _bytes.writeInt( uint( rate * channels * ( bits >> 3 ) ) );
    _bytes.writeShort( uint( channels * ( bits >> 3 ) ) );
    _bytes.writeShort( bits );
    _bytes.writeUTFBytes( WaveEncoder.DATA );
    _bytes.writeInt( data.length );
    _bytes.writeBytes( data );
    _bytes.position = 0;

    return _bytes;
} 
```

下面是我在 ActionScript 中初始化麦克风的方法：

```
soundClip = new ByteArray();
microphone = Microphone.getMicrophone();

microphone.rate = 44;
microphone.gain = 100;
microphone.addEventListener(SampleDataEvent.SAMPLE_DATA, microphone_sampleDataHandler);

protected function microphone_sampleDataHandler(event:SampleDataEvent):void
{
    level.width = microphone.activityLevel * 3;
    level.height = microphone.activityLevel * 3;

    while (event.data.bytesAvailable)
    {
        var sample:Number = event.data.readFloat();
        soundClip.writeFloat(sample);
    }
} 
```

只有当我将速率降低到 22050 时，我才能实现正常语音，但我希望它是 44100 以供以后处理。有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T10:14:02.060

试试这个。它会帮助你

```
protected function microphone_sampleDataHandler(event:SampleDataEvent):void
{
    level.width = microphone.activityLevel * 3;
    level.height = microphone.activityLevel * 3;

    while (event.data.bytesAvailable)
    {
        var sample:Number = event.data.readFloat();
        soundClip.writeFloat(sample);
        soundClip.writeFloat(sample);
    }
} 
```

# iphone - 在 iPhone 中手动和自动上传问题

> ID：12454204
> 
> 赞同：2
> 
> 时间：2012-09-17T06:38:11.010
> 
> 标签：iphone, json, ios5, upload, overwrite

我有一些 json 数据要自动上传到服务器。当 json 数据计数达到 500 时，它会自动上传到服务器。

我必须将数据保存到两个文件中，如果数据计数达到 200，则将其移动到第二个文件，然后只有我将文件转换为 json 并将它们上传到服务器。

例如，如果 540 是数据计数，则第二个文件（上传文件）包含前 500 个数据内容，其余 40 个存储在第一个文件（入口文件）中。

剩下的40个文件在用户点击上传按钮时上传到服务器，即手动完成，否则当计数达到500时自动上传到服务器（同时如果用户没有点击上传按钮）。

我的问题是当达到 500 个计数时自动上传完成，如果同时用户点击上传按钮，它也会触发上传事件并尝试上传已经上传（覆盖）的数据。

例如：文件 { [ 数据 1，数据 2 ]}。

当用户点击上传按钮时，再次上传已经存在于服务器中的数据

例如：文件{ [data1,data2,data3]}

如何处理此问题，是否可以将上传按钮操作排队？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-04T06:58:58.520

一旦将数据发送到服务器，您应该清除数据。这样您就没有旧数据的任何重复副本。即使用户按下发送数据按钮，您也总是有新数据要发送到服务器。

# javascript - 使用jquery将文本框值传输到多项选择

> ID：12454205
> 
> 赞同：0
> 
> 时间：2012-09-17T06:38:26.900
> 
> 标签：javascript, jquery, ajax

当用户在其上书写并单击添加时，我想从文本框中传递一个电话号码。他们也可以从其他多选框中添加值。用户单击删除按钮时需要删除值。我怎样才能用 Jquery 做到这一点？任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T06:55:15.697

这是一个开始：

```
$("#add-button").on('click', function(e) { 
  e.preventDefault(); //just to be sure the button doesn't trigger a submit or something
  var phoneInput = $("#phone").val(); 
  // write code here for what you need to do with the phone number
}); 
```

您也可以对删除按钮执行此操作，并且可以绑定到`change`多选事件的事件，然后再次执行类似的操作。

要在文本框中设置值，请使用`$("#textbox-id").val(newValue);`

[http://docs.jquery.com/Val](http://docs.jquery.com/Val)

[http://api.jquery.com/on/](http://api.jquery.com/on/)

如果您可以创建一个 jsFiddle，我很乐意查看它并在需要时提出建议。

# iphone - 如何为 iphone5 设置 apple-touch-startup-image？

> ID：12454208
> 
> 赞同：5
> 
> 时间：2012-09-17T06:38:40.693
> 
> 标签：iphone, web-applications, iphone-5

我试过

```
<link href="Images/Default-568h@2x.png" sizes="640x1136" media="(device-width: 640px) and (device-height: 1136px)" rel="apple-touch-startup-image"> 
```

但它没有用。而且苹果的界面公会还没有针对iphone5进行更新。

有人知道吗？谢谢！

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-18T06:24:17.263

1.不要使用“width=device-width”作为视口，使用下面的代码：

```
<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta content="yes" name="apple-mobile-web-app-capable"> 
```

2.准备一张640*1096大小的图片，另存为“Images/Default-568h@2x”，将这段代码添加到页面标题中：

```
<link href="Images/Default-568h@2x.png" rel="apple-touch-startup-image" sizes="640x1096"> 
```

这是一个演示，它与 iPhone5 兼容： [https ://github.com/openfibers/php-tot](https://github.com/openfibers/php-tot)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-20T15:02:31.827

启动图像与信箱没有直接关系。

解决方案是将视口更改为与设备宽度或 320 不同的宽度。为什么？我不知道，这真的很奇怪，但如果你只使用下一个视口，你就不会得到信箱。

```
<meta name="viewport" content="width=320.1"> 
```

**apple-touch-startup-image**上的**sizes**属性被忽略了，所以如果你想提供多个，你需要使用媒体查询。

 **其他解决方案是在 iPhone/iPod 4" 时使用 JavaScript 更新视口。

有关解决方案和调查结果的更多信息，[请访问 http://www.mobilexweb.com/blog/iphone-5-ios-6-html5-developers#updatewebapps](http://www.mobilexweb.com/blog/iphone-5-ios-6-html5-developers#updatewebapps)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-24T17:39:51.520

对此有官方参考……（即使对于 iPhone 5）

[http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/mobilehig/IconsImages/IconsImages.html](http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/mobilehig/IconsImages/IconsImages.html)**

# haskell - gtksourceview2：实现完成提供程序

> ID：12454209
> 
> 赞同：3
> 
> 时间：2012-09-17T06:38:44.723
> 
> 标签：haskell, gtk2hs, gtksourceview

该[文档](http://hackage.haskell.org/packages/archive/gtksourceview2/0.12.3.1/doc/html/Graphics-UI-Gtk-SourceView-SourceCompletionProvider.html)指出`SourceCompletionProvider`：

```
You must implement this interface to provide proposals to SourceCompletion 
```

“实现此接口”在上下文中是什么意思？

我应该`GObject`使用[此](http://hackage.haskell.org/packages/archive/glib/0.12.3.1/doc/html/System-Glib-GObject.html)功能创建新功能吗？有什么例子吗？

当我有 new`GObject`时，如何`sourceCompletionProviderGetName`向它添加功能（如 ）？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-17T13:19:31.480

gtk+ 是用 C 语言编写的，但是它用于`glib`提供面向对象风格的界面。大部分 gtk+ API 是使用 OO 意义上的接口定义的。实际的 gtk+ 功能由实现这些接口的“对象”（指向遵循 glib 约定的结构的指针）提供。所以“实现这个接口”的意思就是——写一个“类”（通过 glib 系统在 C 中）实现所需的接口（你可以通过设置适当的 glib 钩子来处理特定的函数调用）。

在 gtk2hs 中，glib 接口被翻译为类型类，并在末尾附加了单词“class”。 `SourceCompletionProviderClass`是这些类之一，旨在准确表示 glib 接口。不幸的是，C 端的“类方法”并没有真正在 Haskell 中公开。类型类提供的唯一方法是强制转换操作，这只是为了解决 Haskell 类型系统和 OOP 继承树之间的不匹配问题。一个 glib-class-method 被转换为一个常规的 Haskell 函数，该函数对一些可以转换为适当类型的数据进行操作。这意味着没有通过 gtk2hs 实现新类实例的好方法。

虽然理论上你可以通过创建一个新的 GObject 从 Haskell 端硬塞必要的行为，但很可能并不是所有必要的功能（你需要一些低级 glib 的东西）都暴露出来，所以你会需要自己绑定它们（我似乎记得 gtk2hs 维护者在一两年前发布了类似的内容，但现在找不到链接）。到那时，自己用 C 语言实现它可能不太容易出错。我有一个用于[cellrenderer 接口](https://github.com/tsurucapital/cellrenderer-cairo)的代码库，您可能会发现它作为模型很有用。大多数有趣的东西都发生在 C 头文件中。您仍然可以通过函数指针将 Haskell 函数设置为从 C 端调用。

如果你真的想尝试完全从 Haskell 中完成，我会先找到一个相当简单的接口（比如我的 cellrenderer 函数或其他`SourceCompletionProvider`），然后通过预处理器运行标头以查看 glib 宏转换为什么。然后您可以看到设置 glib 对象的必要定义。最重要的函数是 *_init、*_finalize、*_get_property 和 *_set_property，尽管还有一些其他函数也是必需的。`*`是对象名称的占位符。IIRC，大多数默认功能都是由`G_DEFINE_TYPE`宏设置的，它也设置了名称前缀。

# xml - 如何在 Excel vba 中创建 CDATA 标签？

> ID：12454211
> 
> 赞同：3
> 
> 时间：2012-09-17T06:38:46.867
> 
> 标签：xml, excel, vba, xmldocument, cdata

任何人都可以请帮忙。

我正在尝试将 excel 数据转换为 xml 文件 uisng vba。我的 xml 文件看起来像这样，

```
 <product>
  <info><i>Samsung</i></info>
 </product> 
```

我希望不解析 html 标签。因此尝试使用 vba 中的 createCDATASection 方法在 vba 中添加 cdata

我添加了这样的vba代码

```
 Set objDom = New DOMDocument
  Set objXMLRootelement = objDom.createElement("Product")
  Set objXMLelement = objDom.createElement("info")
  objXMLRootelement.appendChild objXMLelement
  cdata=objDom.createCDATASection ("<i>Samsung</i>")
  objXMLelement.text=cdata.text 
```

我希望我的 xml 文件看起来像这样，当在记事本中查看视图源时，它应该
显示 '<' 为 '<' 但不是 'ampersand lt;'

```
 <product>
    <info><![CDATA[<i>Samsung</i>]]></info>
  </product> 
```

执行我的代码后，它显示如下，

```
 <product>
   <info><i>Samsung</i></info>
  </product> 
```

但是cdata标签没有出现。不知道原因。并且当在记事本中查看xml文件的视图源时，'<'符号显示为＆符号lt;

谁能解决这个问题？

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T07:06:43.240

试试这个

```
Sub zx()
    Dim objDom As DOMDocument
    Dim objXMLRootelement As IXMLDOMElement
    Dim objXMLelement As IXMLDOMElement
    Dim cdata As IXMLDOMCDATASection

    Set objDom = New DOMDocument
    Set objXMLRootelement = objDom.createElement("Product")
    objDom.appendChild objXMLRootelement
    Set objXMLelement = objDom.createElement("info")
    objXMLRootelement.appendChild objXMLelement
    Set cdata = objDom.createCDATASection("info")
    cdata.Data = "<i>Samsung</i>"
    objXMLelement.appendChild cdata

    Debug.Print objDom.XML
End Sub 
```

# android - Android ListActivity

> ID：12454213
> 
> 赞同：-1
> 
> 时间：2012-09-17T06:38:57.920
> 
> 标签：android, android-layout

> **可能重复：**
> [带有简单适配器的 Android ListView](https://stackoverflow.com/questions/12403957/android-listview-with-simple-adapter)

这是我的第一个活动。

```
public class CheckAvailability extends Activity{

Button but1,but2;
EditText brName;
TextView txt1;
String text;

public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.availability);

    brName =(EditText)findViewById(R.id.editText1);
    but1 = (Button)findViewById(R.id.button5); 
    but2 = (Button)findViewById(R.id.button6);
    txt1 = (TextView)findViewById(R.id.textView3);

    but1.setOnClickListener(new View.OnClickListener(){

        public void onClick(View v){

            String result = null;
            InputStream is = null;
            StringBuilder sb=null;

           ArrayList<NameValuePair> postParameters = new ArrayList<NameValuePair>();
           //ArrayList<HashMap<String, String>> contactList = new ArrayList<HashMap<String, String>>();

           postParameters.add(new BasicNameValuePair("branchname", brName.getText().toString()));

        //http post
                  try{
                      HttpClient httpclient = new DefaultHttpClient();
                      HttpPost httppost = new HttpPost("http://10.0.2.2:8080/hello/AvailabilityResponse");
                      httppost.setEntity(new UrlEncodedFormEntity(postParameters));
                      HttpResponse response = httpclient.execute(httppost);
                      HttpEntity entity = response.getEntity();
                      is = entity.getContent();
                  }catch(Exception e){
                      Log.e("log_tag", "Error in http connection"+e.toString());
                  }

        //convert response to string
                  try{
                       BufferedReader reader = new BufferedReader(new InputStreamReader(is,"iso-8859-1"),8);
                       sb = new StringBuilder();
                       sb.append(reader.readLine() + "\n");
                       String line="0";

                             while ((line = reader.readLine()) != null) {
                                 sb.append(line + "\n");
                             }
                             is.close();
                             result=sb.toString();

                  }catch(Exception e){
                        Log.e("log_tag", "Error converting result "+e.toString());
                         }

                Intent intent = new Intent(CheckAvailability.this , ListAtmActivity.class);
                intent.putExtra("key", result);
                startActivity(intent);}
}); 
```

从这个活动我用那个结果字符串调用我的第二个活动。这是我的第二个活动。

```
 public class ListAtmActivity extends Activity{

private static String url ="http://10.0.2.2:8080/hello/AvailabilityResponse";
private static final String TAG_ID = "id";
private static final String ATM_NO = "atmbrno";
private static final String ATM_PLACE = "atmbrname";

static InputStream is = null;
static String json = "";
static JSONArray jObj = null;
JSONArray contacts=null;

public class ListViewA extends Activity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.list_view2);
        ListView lv= (ListView)findViewById(R.id.listview);

        String[] from = new String[] {"col_1", "col_2"};
        int[] to = new int[] { R.id.item2, R.id.item3};

        String brName=getIntent().getExtras().getString("key");

        List<HashMap<String, String>> fillMaps = new ArrayList<HashMap<String, String>>();

       try {
           contacts = new JSONArray(brName);
       } catch (JSONException e) {
        // TODO Auto-generated catch block
           e.printStackTrace();
    }

        try{
            for(int i = 0; i < contacts.length(); i++){
                JSONObject json_data = contacts.getJSONObject(i);
                System.out.print(contacts.length());

                String atm_id = json_data.getString(ATM_NO);
                String atm_name = json_data.getString(ATM_PLACE);

                HashMap<String, String> map = new HashMap<String, String>();

                map.put("col_1", atm_id);
                map.put("col_2", atm_name);

                fillMaps.add(map);                  
            }

        }           
        catch(JSONException e) {
            e.printStackTrace();                
        }

        SimpleAdapter adapter = new SimpleAdapter(this, fillMaps, R.layout.grid_item, from, to);
        lv.setAdapter(adapter);

    }

}} 
```

但我无法在我的界面中输出任何内容……只有空白屏幕显示。这有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T06:46:19.063

尝试这个：

```
String brName = this.getIntent().getExtras().getString("key"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T06:58:51.937

在您的第二个活动中，您应该能够使用

```
String brName = getIntent().getStringExtra("key"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T07:06:42.370

```
Bundle extras = getIntent().getExtras();
    String keyval = extras.getString("key"); 
```

# ruby-on-rails-3 - 使用 bundler 管理非 gems

> ID：12454217
> 
> 赞同：0
> 
> 时间：2012-09-17T06:39:11.467
> 
> 标签：ruby-on-rails-3, bundler

有一个 github repo 我想从中获取不是 gem 的代码。它是一堆 javascript 文件，并且没有 gem 版本。我可以将它添加到 Gemfile 并定义它应该存储在哪里（在 lib/assets 目录下），还是我必须使用 git 子模块来管理它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T08:05:19.643

Bundler 管理 gems，而不是任意的存储库。也就是说，如果您只想使用一些资产，您可以轻松地将它们打包为 gem，以允许它们嵌入资产管道。这为您带来了好处，允许您使用所有工具来管理 gem 以及适当的关注点分离。

您需要为此添加一个 Rails 引擎。为此，只需将您的资产放入`vendor/assets`新 gem 的目录中，其目录结构类似于`assets`您的主应用程序的主目录。此外，您需要在`lib/your_gem.rb`此内容中添加一个新的 ruby​​ 类：

```
module MyGem
  class Engine < Rails::Engine
  end
end 
```

这会将 gem 注册为 rails 引擎并将资产提供给资产管道。

最后添加一个gemspec，你就完成了。也可以通过`bundle gem`命令创建基本的 gem 结构。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T06:49:09.863

我投票赞成：保持 Gemfile 干净，选择子模块。

# c# - .Net接口继承编译

> ID：12454218
> 
> 赞同：4
> 
> 时间：2012-09-17T06:39:18.467
> 
> 标签：c#, .net, compilation

为什么是这样 ：

```
public interface IServiceRecherche<T, U>
                    where T : IEntite
                    where U : ICritereRecherche
{
    IList<T> Rechercher(U critere);
}

public interface IServiceRechercheUnite :
                        IServiceRecherche<IUnite, ICritereRechercheUnite>,

{} 
```

不同于 ：

```
public interface IServiceRechercheUnite                             
{
    IList<IUnite> Rechercher(ICritereRechercheUnite critere);
} 
```

什么时候编译？

使用第一个接口编译的应用程序无法识别第二个接口。我知道它们在代码中不一样，但最终在执行过程中为什么它们不一样？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T06:45:44.360

从 CLR 的角度来看，这些是不同的类型，因为第一个是封闭泛型类型，继承自`IServiceRecherche<T, U>`.

> 但最终在执行过程中为什么它们不一样

原因是一样的，例如：

```
public MyClass1
{
  public int MyProperty { get; set; }
}

public MyClass2
{
  public int MyProperty { get; set; }
} 
```

尽管有类似的成员声明，​​但它们只是不同的类型声明。

CLR 不能这样想：“啊，MyClass1 和 MyClass2 是相同的。我们把它们当作同一个类型吧”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T08:21:36.117

但是，您可以使用[鸭子类型](http://en.wikipedia.org/wiki/DuckTyping)将一个实例“投射”到另一个实例。为此，您将需要一个代表鸭子的类：

```
public class LooksLikeAnIServiceRecherche : IServiceRecherche<IUnite, ICritereRechercheUnite>
{
    private readonly dynamic _duck;

    public LooksLikeAnIServiceRecherche (dynamic duck)
    {
        this._duck = duck;
    }

    public IList<IUnite> Rechercher(ICritereRechercheUnite critere)
    {
        return this._duck.Rechercher(critere);
    }
} 
```

对 -method 的调用`Rechercher`在运行时验证，而不是在编译时验证，从而防止您收到编译器错误。

使用该代码很简单：

```
IServiceRechercheUnite rechercheUnite;
var serviceRecherche = new LooksLikeAnIServiceRecherche(rechercheUnite); 
```

有关如何使用`dynamic`-keyword 的更多信息，请参阅[MSDN：动态](http://msdn.microsoft.com/en-us/library/dd264741.aspx)

# networking - SSH 无法连接到 linux，权限被拒绝

> ID：12454225
> 
> 赞同：1
> 
> 时间：2012-09-17T06:40:06.517
> 
> 标签：networking, ssh, virtualbox

我在我的 virtualbox 中运行 Ubuntu 服务器，并安装了 openssh-server 和 openssh-client。virtualbox的网络是Host-Only，我设置了它的IP 192.168.0.100

然后我尝试使用 SSH 连接到虚拟机

这是命令：

```
ssh -v slave@192.168.0.100 
```

然后

```
OpenSSH_5.9p1 Debian-5ubuntu1, OpenSSL 1.0.1 14 Mar 2012
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug1: Connecting to 192.168.0.100 [192.168.0.100] port 22.
debug1: Connection established.
debug1: identity file /home/wang/.ssh/id_rsa type 1
debug1: Checking blacklist file /usr/share/ssh/blacklist.RSA-2048
debug1: Checking blacklist file /etc/ssh/blacklist.RSA-2048
debug1: identity file /home/wang/.ssh/id_rsa-cert type -1
debug1: identity file /home/wang/.ssh/id_dsa type -1
debug1: identity file /home/wang/.ssh/id_dsa-cert type -1
debug1: identity file /home/wang/.ssh/id_ecdsa type -1
debug1: identity file /home/wang/.ssh/id_ecdsa-cert type -1
debug1: Remote protocol version 2.0, remote software version OpenSSH_5.9p1 Debian-5ubuntu1
debug1: match: OpenSSH_5.9p1 Debian-5ubuntu1 pat OpenSSH*
debug1: Enabling compatibility mode for protocol 2.0
debug1: Local version string SSH-2.0-OpenSSH_5.9p1 Debian-5ubuntu1
debug1: SSH2_MSG_KEXINIT sent
debug1: SSH2_MSG_KEXINIT received
debug1: kex: server->client aes128-ctr hmac-md5 none
debug1: kex: client->server aes128-ctr hmac-md5 none
debug1: sending SSH2_MSG_KEX_ECDH_INIT
debug1: expecting SSH2_MSG_KEX_ECDH_REPLY
debug1: Server host key: ECDSA c4:05:01:3c:6d:18:ca:e5:81:86:79:7a:03:1d:30:d2
debug1: Host '192.168.0.100' is known and matches the ECDSA host key.
debug1: Found key in /home/wang/.ssh/known_hosts:3
debug1: ssh_ecdsa_verify: signature correct
debug1: SSH2_MSG_NEWKEYS sent
debug1: expecting SSH2_MSG_NEWKEYS
debug1: SSH2_MSG_NEWKEYS received
debug1: Roaming not allowed by server
debug1: SSH2_MSG_SERVICE_REQUEST sent
debug1: SSH2_MSG_SERVICE_ACCEPT received
debug1: Authentications that can continue: publickey,password
debug1: Next authentication method: publickey
debug1: Offering RSA public key: /home/wang/.ssh/id_rsa
debug1: Authentications that can continue: publickey,password
debug1: Trying private key: /home/wang/.ssh/id_dsa
debug1: Trying private key: /home/wang/.ssh/id_ecdsa
debug1: Next authentication method: password 
```

它告诉我输入密码，virtualbox中ssh的公钥是123456，但它不起作用，我尝试了root密码，它仍然不起作用。

```
slave@192.168.0.100's password: 
debug1: Authentications that can continue: publickey,password
Permission denied, please try again.
slave@192.168.0.100's password: 
debug1: Authentications that can continue: publickey,password
Permission denied, please try again.
slave@192.168.0.100's password: 
debug1: Authentications that can continue: publickey,password
debug1: No more authentication methods to try.
Permission denied (publickey,password). 
```

我能做些什么？请帮我。

# android - 如果我使用arraylist单击android中的更新按钮，如何获得在切换按钮“打开”位置中单击位置的总数？

> ID：12454229
> 
> 赞同：2
> 
> 时间：2012-09-17T06:40:19.383
> 
> 标签：android, gridview, position, toggle

```
public class MainActivity extends Activity {

    String[] countries = new String[] {
            "India",
            "Pakistan",
            "Sri Lanka",
            "China",
            "Bangladesh",
            "Nepal",
            "Afghanistan",
            "North Korea",
            "South Korea",
            "Japan"
        };

    // Array of booleans to store toggle button status
    boolean[] status = {
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
    };

int v1;
    ArrayList<Integer> intItems = new ArrayList<Integer>();

    int pos;
    String sta;

Button updatespot=(Button) findViewById(R.id.update);
            updatespot.setOnClickListener(new View.OnClickListener() {           //abre setonclicklistener(
                 @Override
                 public void onClick(View v) {
    //               final

                    if(sta == "On" )        
                        {
                            intItems.add(v1);
           Toast.makeText(getBaseContext(),  "position : " + intItems, Toast.LENGTH_SHORT).show();

                 }

                 }
            });

            GridView lvCountries = (GridView) findViewById(R.id.lv_countries);

            OnItemClickListener itemClickListener = new OnItemClickListener() {
                @Override
                public void onItemClick(AdapterView<?> lv, View item, int position, long id) {

                    GridView lView = (GridView) lv;

                    SimpleAdapter adapter = (SimpleAdapter) lView.getAdapter();

                    HashMap<String,Object> hm = (HashMap) adapter.getItem(position);

                    /** The clicked Item in the GridView */
                    FrameLayout rLayout = (FrameLayout) item;

                    /** Getting the toggle button corresponding to the clicked item */
                    ToggleButton tgl = (ToggleButton) rLayout.getChildAt(1);

                    String strStatus = "";
                    if(tgl.isChecked()){
                        tgl.setChecked(false);
                        strStatus = "Off";
                        status[position]=false;
                    }else{
                        tgl.setChecked(true);
                        strStatus = "On";
                         sta=strStatus;

                        status[position]=true;  

                         v1=position;

          //  Toast.makeText(getBaseContext(), (String) hm.get("txt") + " : " + v1, Toast.LENGTH_SHORT).show();
                } 
```

我有带有切换按钮的gridview图像。如果我单击“打开”位置的切换按钮，那么如果我单击android中的更新按钮，如何获得“打开”位置的单击位置总数？

# javascript - 如何将我的 Ajax 处理转移到函数中？

> ID：12454233
> 
> 赞同：1
> 
> 时间：2012-09-17T06:40:45.917
> 
> 标签：javascript, jquery, ajax

我有以下代码：

```
 function submitHandler($link, $modal, close) {

    var $form = $modal.find('#main-form');
    var $submitBt = $modal.find('.block-footer button:contains("Submit")');
    var oSubmit = {
        $form: $form,
        $modal: $modal,
        action: $form.attr('data-action'),
        entity: $form.attr('data-entity'),
        href:   $form.attr('data-href'),
        row: $link.attr('data-row'),
        $row: $('#row_' + $link.attr('data-row')),
        $submitBt: $submitBt
    };

    if (!$form.valid || $form.valid()) {
        $submitBt.disableBt();
        $modal.removeBlockMessages()
            .blockMessage('Contacting Server, please wait ... ', { type: 'loading' });
        $.ajax({
            url: oSubmit.href,
            dataType: 'json',
            type: 'POST',
            data: $form.serializeArray()
        })
        .done(function (json, textStatus, XMLHttpRequest) {
            json = json || {};
            if (json.success) {
                submitSuccessModal(oSubmit, json);
                if (close == true) {
                    $modal.closeModal();
                    if (oSubmit.action == "Create") {
                        $('#createLink').prop('disabled', false);
                    }
                }
            } else {
                submitFailModal(oSubmit, json);
            }
        })
        .fail(function (XMLHttpRequest, textStatus, errorThrown) {
            setTimeout(function () {
                $modal
                    .removeBlockMessages()
                    .blockMessage('Could not contact server, please try again', { type: 'error' });
                $submitBt.enableBt();
            }, 1000);
            return false;
        });
    };
}; 
```

将功能从我的 $.ajax 中移出并移出“完成”的函数和“失败”的另一个函数的最佳方法是什么。另外，我应该将哪些参数传递给这些函数？我想我最困惑的是我应该如何处理我在代码顶部声明的变量。我是否也应该将这些也传递给 .done 中的外部函数，我确实引用了其中的一些。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T06:44:04.907

您现在必须使用所谓的*匿名函数*。您将对匿名函数（没有名称的函数）的引用传递给`done`and`fail`函数。

也许为了更好地组织您的代码（或使这些函数可与其他代码共享），您需要做的就是给这些函数一个名称并将它们移到`ajax()`调用之外。我们将它们称为`onDone`and `onFail`，尽管您当然可以将它们称为任何有意义的名称。

请注意，我引用它们时不带括号，因为我指的是函数对象本身，而不是被调用函数的返回值。

```
 function onDone(json, textStatus, XMLHttpRequest) {
       json = json || {};
       if (json.success) {
           submitSuccessModal(oSubmit, json);
           if (close == true) {
               $modal.closeModal();
               if (oSubmit.action == "Create") {
                   $('#createLink').prop('disabled', false);
               }
           }
       } else {
           submitFailModal(oSubmit, json);
       }
   }

   function onFail(XMLHttpRequest, textStatus, errorThrown) {
       setTimeout(function () {
           $modal
               .removeBlockMessages()
               .blockMessage('Could not contact server, please try again', { type: 'error' });
           $submitBt.enableBt();
       }, 1000);
       return false;
   }

   $.ajax({
       url: oSubmit.href,
       dataType: 'json',
       type: 'POST',
       data: $form.serializeArray()
   })
   .done(onDone) //Reference to onDone, without parenthesis
   .fail(onFail); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T06:44:49.800

由于`done()`并且`fail()`已经将匿名函数作为参数，您可以简单地在其他地方声明这些函数，然后按名称引用它们：

```
var doneFunction = function (json, textStatus, XMLHttpRequest) {
...
};

var failFunction = function (XMLHttpRequest, textStatus, errorThrown) {
...
};

$.ajax({
        url: oSubmit.href,
        dataType: 'json',
        type: 'POST',
        data: $form.serializeArray()
    })
    .done(doneFunction)
    .fail(failFunction); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T06:45:10.720

这个怎么样：

```
var ajax_functions = {};
ajax_functions.success = function(json, textStatus, XMLHttpRequest) {
    // code
};

ajax_functions.error = function(XMLHttpRequest, textStatus, errorThrown) {
    // code
};

$.ajax({
    url: oSubmit.href,
    dataType: 'json',
    type: 'POST',
    data: $form.serializeArray(),
    success: ajax_functions.success,
    error: ajax_functions.error
}); 
```

# java - 错误：JAX-RPC 结构的类型无效：jspf.common.ForumPost

> ID：12454235
> 
> 赞同：0
> 
> 时间：2012-09-17T06:41:10.397
> 
> 标签：java, web-services, jax-rpc

我必须为一个项目使用 JAX-RPC 制作一个 Web 服务，并且`error: invalid type for JAX-RPC structure: jspf.common.ForumPost`在尝试编译它时得到了。我们必须使用 JDK 5 和 J2EE 1.4。我正在使用带有 JAX-RPC 插件和 Glassfish v1 支持插件的 Netbeans 7.0 来使用 Application Server PE 9 作为我的容器。

这是我的课：

```
package jspf.common;

import java.sql.Date;

public class ForumPost extends java.lang.Object implements java.io.Serializable {

    private String poster;
    private String content;
    private int topic_id;
    private int post_id;
    private Date time;

    /**
     * Creates a new ForumPost object.
     * @param poster The username of the user that posted the post.
     * @param content The body/content of the post.
     * @param topic_id The topic ID that this post replies to.
     * @param post_id This post's ID.
     */
    public ForumPost() {
    }

    public ForumPost(int post_id, int topic_id, String poster, String content, Date time) {
        this.poster = poster;
        this.content = content;
        this.topic_id = topic_id;
        this.post_id = post_id;
        this.time = time;
    }

    public Date getTime() {
        return time;
    }

    public String getContent() {
        return content;
    }

    public int getPost_id() {
        return post_id;
    }

    public String getPoster() {
        return poster;
    }

    public int getTopic_id() {
        return topic_id;
    }
} 
```

是的，不幸的是，我不得不使用这种旧技术。

我在另一个课程中遇到了类似的问题，但这似乎可以通过删除其中的`ArrayList`内容来解决，但我实际上需要那个`ArrayList`.

为什么我会收到此错误？

编辑：我摆脱了对 java.sql.Date 的所有引用，如下所示：

```
package jspf.common;

public class ForumPost extends java.lang.Object implements java.io.Serializable {

    private String poster;
    private String content;
    private int topic_id;
    private int post_id;
    private long time;

    /**
     * Creates a new ForumPost object.
     * @param poster The username of the user that posted the post.
     * @param content The body/content of the post.
     * @param topic_id The topic ID that this post replies to.
     * @param post_id This post's ID.
     */
    public ForumPost() {
    }

    public ForumPost(int post_id, int topic_id, String poster, String content, long time) {
        this.poster = poster;
        this.content = content;
        this.topic_id = topic_id;
        this.post_id = post_id;
        this.time = time;
    }

    public long getTime() {
        return time;
    }

    public String getContent() {
        return content;
    }

    public int getPost_id() {
        return post_id;
    }

    public String getPoster() {
        return poster;
    }

    public int getTopic_id() {
        return topic_id;
    }
} 
```

我仍然得到同样的错误。我不明白问题是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T07:12:10.820

我发现了问题。J2EE 1.4 文档中定义的值类型必须包含 getter 和 setter 方法，我的类只包含 getter 方法。

> **值类型**
> 
> 值类型是一个类，其状态可以作为方法参数或返回值在客户端和远程服务之间传递。例如，在大学图书馆的应用程序中，客户端可能会调用一个远程过程，其值类型参数名为 Book，该类包含字段 Title、Author 和 Publisher。
> 
> 要被 JAX-RPC 支持，值类型必须符合以下规则：
> 
> *   它必须有一个公共的默认构造函数。
> *   它不得（直接或间接）实现 java.rmi.Remote 接口。
> *   它的字段必须是受支持的 JAX-RPC 类型。
> 
> 值类型可以包含公共、私有或受保护的字段。值类型的字段必须满足以下要求：
> 
> *   公共字段不能是最终的或临时的。
> *   **非公共字段必须具有相应的 getter 和 setter 方法。**

来源：[http ://docs.oracle.com/javaee/1.4/tutorial/doc/JAXRPC4.html#wp130601](http://docs.oracle.com/javaee/1.4/tutorial/doc/JAXRPC4.html#wp130601)

# java - 使用 XStream 从 XML 文件生成 Java 类

> ID：12454240
> 
> 赞同：11
> 
> 时间：2012-09-17T06:41:25.257
> 
> 标签：java, class, xstream

我有很多 xml 文件，我想使用 XStream 来管理它们。是否可以使用 XStream 生成与我的 xml 文件对应的 java 类？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-17T07:59:20.870

**XStream**是一个将 Java 对象序列化和反序列化到 XML 的软件。XStream 为此使用反射。所涉及的对象的类别必须事先存在。

**JAXB**是一个绑定框架，它也进行序列化和反序列化。JAXB 有注释来完成这项工作。与框架捆绑在一起的工具可以从 xsd（<-- 描述特定 xml 文档的结构的声明）生成类（完整的带有已经提到的注释）。

因此，您可以选择最适合您需求的产品。自己定义类并使用 XStream 或使用 JAXB（或其他绑定框架......）和捆绑的工具来生成类。每个变体都有优点和缺点...... XStream 更灵活，但 JAXB 更严格。JAXB 带来了额外的工具，XStream 更像是一个工具本身......

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-17T06:54:51.047

我认为使用 XStream 是不可能的，但我已经使用 JAXB 完成了。

基本上，这些步骤是`xsd`从 xml 文件生成 a，然后`Java`从 xsd 生成类。

看看这个教程：

[http://theopentutorials.com/examples/java/jaxb/generate-java-class-from-xml-schema-using-jaxb-xjc-command/](http://theopentutorials.com/examples/java/jaxb/generate-java-class-from-xml-schema-using-jaxb-xjc-command/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T06:49:24.183

是的。我认为这是可能的，使用 XStream 的 xml 文件的 java 类。参考[这里](http://www.ibm.com/developerworks/java/library/x-xstream/index.html)和[这里](http://www.javaexpress.pl/article/show/xml_in_java__xstream_library)

这对于 xml[文件](http://xstream4xml2java.blogspot.in/)。

# jsp - Jmesa表格页面导航

> ID：12454241
> 
> 赞同：1
> 
> 时间：2012-09-17T06:41:27.347
> 
> 标签：jsp, jsp-tags, jmesa

我是 Jmesa 的新手，正在尝试在我的 jsp 页面上使用它。[我使用与http://code.google.com/p/jmesa/wiki/JSPTagExample](http://code.google.com/p/jmesa/wiki/JSPTagExample)上的示例完全相同的 JSP 和控制器代码。

表格显示出来，看起来不错。问题是工具栏上的按钮都不起作用。例如页面导航箭头等。

我的代码可能有什么问题（正如我所说，它与示例完全相同）。我应该为页面导航添加额外的代码吗？

谢谢，萨拉。

更新：我发现了问题所在，在我输入工具栏按钮后，它会路由到

“localhost:8080/portal/projectTag.run?maxRows=4&projectTag_tr_=true&projectTag_p_=1&projectTag_mr_=4”

"而不是 "localhost:8080/portal/page/projects/projectTag.run?maxRows=4&projectTag_tr_=true&projectTag_p_=1&projectTag_mr_=4"

所以它不包括 url 中的“/page/projects”。我该如何添加？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T16:16:10.533

正如我提到的，问题出在 url 路由上。

我刚刚将 /page/projects/ 添加到 jsp 页面上的脚本中。

“location.href = '${pageContext.request.contextPath}/page/projects/tag.run?' + 参数字符串；"

我刚刚意识到，jsp 页面中的 js 导入应该遵循一定的流程并不是唯一的问题。不要忘记这一点。

现在它工作得很好。

谢谢，萨拉。

# facebook - FB.init() 成功或失败检查 - Facebook API

> ID：12454243
> 
> 赞同：1
> 
> 时间：2012-09-17T06:41:48.460
> 
> 标签：facebook, api

我正在开发一个 Wordpress 插件，在插件的后端，用户需要添加他们自己的 Facebook App ID 和 Facebook Secret

我试图弄清楚是否有一种方法可以检查用户的 facebook App ID 和 Secret 是否正确并显示某种成功或失败消息。

我看不到任何关于这如何可能的文档......我假设我可以在 FB.init 之后做点什么？

```
FB.init({
    appId      : '<?php echo get_option('hc_fb_appid') ?>', // App ID
    status     : true, // check login status
    cookie     : true, // enable cookies to allow the server to access the session
    oauth      : true, // enable OAuth 2.0
    xfbml      : true  // parse XFBML

}); 
```

我正在考虑尝试使用它：

```
FB.getLoginStatus(function(response)) {

 // code goes here

}); 
```

确定 FB 应用程序设置是否有效。但是，如果无效，此函数不会运行，我不知道如何检查该函数是否已运行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T08:26:00.507

> 我试图弄清楚是否有一种方法可以检查用户的 facebook App ID 和 Secret 是否正确并显示某种成功或失败消息。

尝试从需要应用访问令牌的 API 中读取其中一个应用属性如何……？

该组合`app_id|app_secret`用作应用访问令牌，因此，如果您同时拥有这两个变量，只需将它们与中间的管道符号连接起来，并为需要应用访问令牌的属性发出 API 请求 - 作为响应，您将获得一个值（可能是空的，但谁在乎）——*或*OAuth 错误消息/异常，说明使用的访问令牌无效。

[https://developers.facebook.com/docs/reference/api/application/](https://developers.facebook.com/docs/reference/api/application/)

# actionscript-3 - as3 多点触控 - 如何仅进行单点触控？

> ID：12454248
> 
> 赞同：0
> 
> 时间：2012-09-17T06:42:27.387
> 
> 标签：actionscript-3, touch, multi-touch

我有一个正在编写的儿童游戏，我只需要能够进行 1 次单点触控。

我儿子的指关节一直在触摸屏幕，它发疯了..

我不知道如何只进行单点触控？？

有任何想法吗 ？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T20:10:47.167

大多数触摸屏将标准鼠标事件视为“触摸”事件。根据我的经验，这是单点触控的理想选择。像往常一样构建您的应用程序，所有标准光标数据都应该通过。这也便于测试。如果这是针对移动应用程序或 iOS 的，它可能会变得很挑剔，并且可能需要 TouchEvent 类...触摸侦听器通常会侦听所有触摸事件，这意味着即使您的应用程序不适合，它也会注意到“多点触控”它。

使用 MouseEvents 构建您的应用程序以进行测试并替换为 TouchEvents...

有一些翻译需要注意，例如`MOUSE_DOWN`=`TOUCH_BEGIN`我相信你现在已经知道了，如果有合适的听众，管理起来应该不会太难。确保在不需要时删除侦听器。

了解 Flash 处理触摸事件的不同方式：http: [//help.adobe.com/en_US/as3/dev/WSb2ba3b1aad8a27b0-6ffb37601221e58cc29-8000.html](http://help.adobe.com/en_US/as3/dev/WSb2ba3b1aad8a27b0-6ffb37601221e58cc29-8000.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T10:15:32.200

如果它是您的应用程序，请不要因为多点触控而发疯。

为什么不设置一个标志（一个布尔变量）来跟踪触摸或不触摸。

检查变量的状态以查看它是否已经为真，然后处理该事件。

# php - php 没有更新我的数据库

> ID：12454252
> 
> 赞同：0
> 
> 时间：2012-09-17T06:43:17.563
> 
> 标签：php, mysql, database

我有这个 php 页面，它假设显示一个图像，然后在每次访问时使用 1 个数字更新数据库中的“下载”行，有时这有效，而对于其他一些图片它不起作用，我该如何解决这个问题？如果有问题，请查看我的代码：

```
<?php

include 'conf_global.php';

if ($_GET['id'])
{
    $id = $_GET['id'];
}
else
{
    die ("no id selected");
}

@ $db = mysql_pconnect($mysql['host'], $mysql['user'], $mysql['pass']) or die(mysql_error());
//IT"S NOT WORKING!
if (!$db)
{
    die("error");
}
mysql_select_db($mysql['db']) or die(mysql_error());

$query = "SELECT * FROM `images` WHERE id='" . $id ."'";

$result = mysql_query($query) or die(mysql_error());

if (!$result)
{
    die("MySQL Select error");
}

$num_results = mysql_num_rows($result);
if ($num_results ==0)
{
die("Image not found");
}

$row = mysql_fetch_array($result);
if ($id != 0)
{
    $downloads = $row['downloads'] + 1;

    $lastuse = time();

     $ss = mysql_query("select downloads from `images` where id='".$id."'") or die(mysql_error());
     $rr = mysql_fetch_array($ss);

    $query = "update `images` set downloads='".($rr['downloads']+1)."' where id='".$id."'";
    $result = mysql_query($query);
    if (!$result)
    {
        die("MySQL update error");
    }

    $query = "UPDATE `images` SET lastuse='" . $lastuse . "' WHERE id='". $id ."'";
    $result = mysql_query($query);
    if (!$result)
    {
        die("MySQL update error2");
    }

    //get current stats
    $query = "SELECT * FROM `stat_cache`";

    $result = mysql_query($query);

    if (!$result)
    {
        die("MySQL Select error");
    }
    $stat = mysql_fetch_array($result);

    //band update
    $bandwidth = $stat['band'] + $row['size'];
    $query = "UPDATE `stat_cache` SET band='" . $bandwidth . "' WHERE 1";
    $result = mysql_query($query);
    if (!$result)
    {
        die("MySQL Update error");
    }

    //downloads update
    $downloads = $stat['downloads'] + 1;
    $query = "UPDATE `stat_cache` SET downloads='" . $downloads . "' WHERE 1";
    $result = mysql_query($query);
    if (!$result)
    {
        die("MySQL Update error");
    }
}
//Lets create the image, now.
if(!file_exists('./uploads/' . $id)) {
    die("Image not found");
    exit;
}
header('Content-type: ' . $row['type']);

$fp = fopen('./uploads/' . $id, 'r');

$contents = fread($fp, $maxfilesize);
fclose($fp);

echo $contents;

?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T06:56:21.037

如果两个客户端同时下载相同的图像，它们可能会在读取和更新表时重叠。他们都将在 SELECT 查询中读取相同的值，将其加 1，然后使用相同的新值进行更新。

与其在 PHP 中加 1，不如让数据库自己做：

```
$query = "update `images` set downloads=downloads+1, lastuse='" . $lastuse . "' where id='".$id."'"; 
```

可以通过使用锁和事务在客户端完全解决这个问题，但在这种情况下，只在一个查询中完成它会更简单。

此外，您不应在新代码中使用 mysql_* 函数，它们已被弃用。请切换到 mysqli_* 或 PDO，并使用准备好的语句来避免 SQL 注入。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-17T06:51:14.110

1.  不推荐使用 mysql_* 函数。[用mysqli](http://php.net/mysqli) 或[PDO](http://php.net/pdo)重写你的代码。

2.  mysql_error 说什么？

3.  以下代码无法访问：

.

```
$db = mysql_pconnect($mysql['host'], $mysql['user'], $mysql['pass']) or die(mysql_error());

//You never come here is mysql_pconnect failed because already called die();

//IT"S NOT WORKING!

if (!$db)
{
    die("error");
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-17T18:27:45.180

试试这个它的工作:)你添加了错误的代码

```
<?php

include 'conf_global.php';

if ($_GET['id'])
{
    $id = $_GET['id'];
}
else
{
    die ("no id selected");
}

@ $db = mysql_pconnect($mysql['host'], $mysql['user'], $mysql['pass']) or die(mysql_error());
//IT"S NOT WORKING!
if (!$db)
{
    die("error");
}
mysql_select_db($mysql['db']) or die(mysql_error());

$query = "SELECT * FROM `images` WHERE id='" . $id ."'";

$result = mysql_query($query) or die(mysql_error());

if (!$result)
{
    die("MySQL Select error");
}

$num_results = mysql_num_rows($result);
if ($num_results ==0)
{
die("Image not found");
}
else {
    $row = mysql_fetch_array($result);

    $downloads = $row['downloads'] + 1;

    $lastuse = time();

     $ss = mysql_query("select downloads from `images` where id='".$id."'") or die(mysql_error());
     $rr = mysql_fetch_array($ss);

    $query = "update `images` set downloads='".($rr['downloads']+1)."' where id='".$id."'";
    $result = mysql_query($query);
    if (!$result)
    {
        die("MySQL update error");
    }

    $query = "UPDATE `images` SET lastuse='" . $lastuse . "' WHERE id='". $id ."'";
    $result = mysql_query($query);
    if (!$result)
    {
        die("MySQL update error2");
    }

    //get current stats
    $query = "SELECT * FROM `stat_cache`";

    $result = mysql_query($query);

    if (!$result)
    {
        die("MySQL Select error");
    }
    $stat = mysql_fetch_array($result);

    //band update
    $bandwidth = $stat['band'] + $row['size'];
    $query = "UPDATE `stat_cache` SET band='" . $bandwidth . "' WHERE 1";
    $result = mysql_query($query);
    if (!$result)
    {
        die("MySQL Update error");
    }

    //downloads update
    $downloads = $stat['downloads'] + 1;
    $query = "UPDATE `stat_cache` SET downloads='" . $downloads . "' WHERE 1";
    $result = mysql_query($query);
    if (!$result)
    {
        die("MySQL Update error");
    }
}
//Lets create the image, now.
if(!file_exists('./uploads/' . $id)) {
    die("Image not found");
    exit;
}
header('Content-type: ' . $row['type']);

$fp = fopen('./uploads/' . $id, 'r');

$contents = fread($fp, $maxfilesize);
fclose($fp);

echo $contents;

?> 
```

# c++ - 当试图在 ostringstream 中连接一个字符串时，该字符串内容被修改和重构，字符串在开始时被添加

> ID：12454255
> 
> 赞同：1
> 
> 时间：2012-09-17T06:43:43.317
> 
> 标签：c++, ostringstream

> **可能重复：**
> [ostringstream 的字符串构造函数的目的是什么？](https://stackoverflow.com/questions/3840531/what-is-the-purpose-of-ostringstreams-string-constructor)

我面临以下问题。我有一个 ostringstream 说 testStr。我首先使用 << 在其中插入几个字符

```
testStr << somechar; 
```

然后我修改：

```
testStr.Str("some string") 
```

所以现在 testStr 包含“一些字符串”

现在我想在最后添加一些字符（比如“”和“TEST”），这样它就可以变成“Some String TEST”。

```
testStr << " " << "TEST"; 
```

但我得到“TESTString”。请让我知道可以做什么？

添加示例代码：

```
#include <iostream>
#include <sstream>
int main() {
  std::ostringstream s;
  s << "Hello";
  s.str("WorldIsBeautiful");
  s << " " << "ENDS";
  std::cout << s.str() << std::endl; 
```

}

输出是“ENDSIsBeautiful”，正如我所期望的“WorldIsBeautiful ENDS”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T06:58:54.000

我不太确定，但看起来它仍然设置在开头。要解决此问题，您可以调用将输出位置指示器设置回末尾。我在[这里](http://liveworkspace.org/code/216f9412a36726bbc0afa9d2596c191d)有一个工作样本：[`s.seekp`](http://en.cppreference.com/w/cpp/io/basic_ostream/seekp)`(0, std::ios_base::end);`

```
#include <iostream>
#include <sstream>

int main() {
  std::ostringstream s;
  s.str( "Hello" );
  s.seekp(0, std::ios_base::end);
  s << "x" << "World";
  std::cout << s.str() << std::endl;
} 
```

输出：

```
HelloxWorld 
```

# php - Zend Form - 我无法加载元素的装饰器类文件

> ID：12454266
> 
> 赞同：1
> 
> 时间：2012-09-17T06:44:32.567
> 
> 标签：php, forms, zend-framework, decorator, autoloader

我有这样的表格：

```
class Form_RegistrationForm extends Zend_Form {

    public function init()
    {

           [...]
           $username = new Zend_Form_Element_Text('username');
           $email = new Zend_Form_Element_Text('email');
           [...]

           $elements = array($username, $email, [...]);
           foreach($elements as $element) {

               $element->addPrefixPath('Form_Decorator', 'Form/Decorator', 'decorator');
               $element->addValidator('CustomErrors');

               $this->AddElement($element);

           }
    }
} 
```

我有我的装饰器`/application/modules/Form/Decorator/CustomErrors.php`。我已通过以下方式命名装饰器：`class Form_Decorator_CustomErrors extends Zend_Form_Decorator_Abstract`

问题是 Zend 找不到我的装饰器。我收到错误消息：在注册表中找不到名为“CustomErrors”的插件；使用的路径： Zend_Validate_: Zend/Validate/

这有点奇怪，因为看起来 Zend 忽略了我定义的路径。

我的 appication.ini 文件：

```
[production]
phpSettings.display_startup_errors = 0
phpSettings.display_errors = 0
includePaths.library = APPLICATION_PATH "/../library"
bootstrap.path = APPLICATION_PATH "/Bootstrap.php"
bootstrap.class = "Bootstrap"
resources.frontController.controllerDirectory = APPLICATION_PATH "/controllers"
resources.layout.layoutPath = APPLICATION_PATH "/layouts/scripts"
resources.view[] =
url.full = http://87.199.35.20/Kreskoweczki/bp/
resources.db.adapter = PDO_MYSQL
resources.db.params.host = localhost
resources.db.params.username = root
resources.db.params.password = 
resources.db.params.dbname = kreskoweczki
resources.db.params.charset = utf8
resources.db.params.prefix = kres_

;Mail transport settings

;mail.smpt - when false - sendmail is used

mail.smtp=true
mail.host=127.0.0.1
mail.smtpconfig.name=localhost
mail.smtpconfig.port=25
;mail.smtpconfig.auth = plain | login | crammd5
mail.smtpconfig.auth=
mail.smtpconfig.username=
mail.smtpconfig.password=
mail.from=no-reply@example.com

[staging : production]

[testing : production]
phpSettings.display_startup_errors = 1
phpSettings.display_errors = 1

[development : production]
phpSettings.display_startup_errors = 1
phpSettings.display_errors = 1 
```

我的 index.php：

```
<?php

// Define path to application directory
defined('APPLICATION_PATH')
    || define('APPLICATION_PATH', realpath(dirname(__FILE__) . '/../application'));

// Define application environment
defined('APPLICATION_ENV')
    || define('APPLICATION_ENV', (getenv('APPLICATION_ENV') ? getenv('APPLICATION_ENV') : 'production'));

// Ensure library/ is on include_path
 set_include_path(
    '../library/' . PATH_SEPARATOR .    
    '../application/modules/' . PATH_SEPARATOR .    
    '../application/' . PATH_SEPARATOR .
    get_include_path() 
);

/** Zend_Application */
require_once 'Zend/Application.php';

// Create application, bootstrap, and run
$application = new Zend_Application(
    APPLICATION_ENV,
    APPLICATION_PATH . '/configs/application.ini'
);

$application->bootstrap()->run(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T16:00:05.013

// 对于所有元素：

```
$form->addElementPrefixPath('My_Decorator', 'My/Decorator/', 'decorator'); 
```

// 用这个覆盖现有的装饰器：

```
$element->setDecorators(array('CustomDecorator')); 
```

# python - 在 django_facebook 框架中获取好友

> ID：12454267
> 
> 赞同：0
> 
> 时间：2012-09-17T06:44:40.843
> 
> 标签：python, django, django-facebook

我对使用框架 django_facebook 和 userena 获取用户朋友列表的过程有点困惑。

这令人困惑，因为 {{ request.user.get_profile.friends }} 为有朋友的用户返回一个空列表，这不是权限错误，因为 {{ request.user.get_profile.access_token }} 实际上正确返回了访问权限令牌，这意味着可以从[https://graph.facebook.com/me/friends?access_token=](https://graph.facebook.com/me/friends?access_token=) {{ request.user.access_token }}访问该用户的朋友列表

我阅读了文档和代码，但仍然无法弄清楚为什么朋友列表或喜欢列表没有返回任何内容（其他一切都有效）。如果有人愿意提供帮助，那就太好了（抱歉这个问题有点晦涩）。

该框架的代码在这里：

[https://github.com/tschellenbach/Django-facebook](https://github.com/tschellenbach/Django-facebook)

特别是第 50 行（从用户那里返回朋友）： [https ://github.com/tschellenbach/Django-facebook/blob/master/django_facebook/models.py](https://github.com/tschellenbach/Django-facebook/blob/master/django_facebook/models.py)

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T04:12:01.923

基本上，您必须先调用“get_and_store_friends”才能将好友数据保存到数据库中。我刚刚对其进行了测试，并在下面提供了我的代码：

```
from django.http import HttpResponse
from django_facebook.api import FacebookUserConverter, get_facebook_graph

def main(request):
    open_graph = get_facebook_graph(request)
    converter = FacebookUserConverter(open_graph)
    converter.get_and_store_friends(request.user)
    return HttpResponse('None') 
```

这是文档。[http://django-facebook.readthedocs.org/en/latest/api.html](http://django-facebook.readthedocs.org/en/latest/api.html)

# marklogic - What is meant by a fragment in Marklogic Server?

> ID：12454268
> 
> 赞同：0
> 
> 时间：2012-09-17T06:44:42.000
> 
> 标签：marklogic

I want to know what is the meaning of a fragment in Marklogic Server. Please explain in detail what is a fragmentation process in Marklogic and why we should avoid fragmentation.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T07:35:57.283

Did you read the documentation? [http://docs.marklogic.com/guide/admin/fragments#chapter](http://docs.marklogic.com/guide/admin/fragments#chapter)

In a nutshell:

Marklogic indexes are fragment based, which means they have a granularity that ends at fragment level. Normally a document is stored as a single fragment (with optionally a separate one for its properties), but you can define fragment roots and fragment parents. They cause documents to be cut into pieces at storage, but in such a way that if you serialize the root of the document to the output, all sub-part are retrieved, and joined together as if the document was never cut into pieces.

Why avoid?

Most importantly because cts queries (which are used by the search library as well), normally don't cross fragment borders. You have to explicitly indicate you want to cross those borders, for instance by using cts:document-fragment-query, of which a good example is given here: [http://developer.marklogic.com/pubs/5.0/apidocs/cts-query.html#cts:document-fragment-query](http://developer.marklogic.com/pubs/5.0/apidocs/cts-query.html#cts:document-fragment-query)

Making the fragmentation explicit by storing the fragments as separate documents makes this explicit. You'd have to do multiple searches to combine results. MarkLogic is very quick, so doing a few searches instead of only one usually works almost as fast.

Some also observed some performance issues with handling large documents consisting of many (tens of thousands of) fragments. Something that won't happen with separate documents.

HTH!

# blackberry - 黑莓changePassword在openfire上不起作用

> ID：12454271
> 
> 赞同：0
> 
> 时间：2012-09-17T06:45:08.147
> 
> 标签：blackberry

我正在使用下面的代码在 openfire 上更改登录用户的密码，但这会返回空指针异常。

我已从以下链接中获取参考：

[http://xmpp.org/extensions/xep-0077.html#usecases-changepw](http://xmpp.org/extensions/xep-0077.html#usecases-changepw)

```
 if(use_ssl){
            final SecureConnection sc = (SecureConnection) Connector.open("ssl://" + this.server + ":" + this.port+this.connectionMask, Connector.READ_WRITE);
            is = sc.openInputStream();
            os = sc.openOutputStream();
            this.reader = new XmlReader(is);
            this.writer = new XmlWriter(os);

            try{
                String stream="<stream:stream to='204.93.197.136' xmlns='jabber:client' xmlns:stream='http://etherx.jabber.org/streams' version='1.0'>";
                os.write(stream.getBytes());
                os.flush();
                do {
                    reader.next();
                } while ((reader.getType() != XmlReader.END_TAG) || (!reader.getName().equals("stream:features")));

                for (Enumeration enu = listeners.elements(); enu.hasMoreElements();) {
                    XmppListener xl = (XmppListener) enu.nextElement();
                }   

                String sendRequest="<iq type='set' to='204.93.197.136' id='change1'><query xmlns='jabber:iq:register'><username>"+Jxa.loginUserName+"</username><password>"+newPassword+"</password></query></iq>"; 
                os.write(sendRequest.getBytes());
                os.flush();

                int count=0;
                do {
                    reader.next();
                    if(reader.getName().equals("error")){
                        count++;    
                    }
                } while ((reader.getType() != XmlReader.END_TAG) || (!reader.getName().equals("iq")));
                for (Enumeration enu = listeners.elements(); enu.hasMoreElements();) {
                    XmppListener xl = (XmppListener) enu.nextElement();
                }   
            }catch (Exception e) {
                System.out.println(e);
                UiApplication.getUiApplication().invokeLater(new Runnable(){
                    public void run(){
                        Dialog.alert("Record Not Updated");
                    }
                });
            }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T04:44:32.740

> 但这会返回空指针异常。

您需要找出导致 NullPointerException 的原因。在调试器中单步执行代码可能会揭示哪一行遇到了异常。然后，您可以在示例代码中查找不应为空的空值。下一个挑战是找出除了“null”之外的预期值

或者，您可以推断示例代码中发生的事情，而无需运行它。这通常可以让您更好地了解它在做什么，但可能会很耗时。

# sql - 在删除该列值之前，我需要一个 sql 查询来检查 4 个不同表中可用的列值的引用

> ID：12454279
> 
> 赞同：0
> 
> 时间：2012-09-17T06:45:50.053
> 
> 标签：sql, sql-server, sql-server-2008

我有一个名为以`Team_table`列`Team_Id`作为主键的表，并且 4 个不同的表是`Team_Member`, `Team_Project`, `Team_Account`,`Team_link`也包含这个`Team_Id`。

在从 中删除一个团队之前`Team_table`，我必须在所有 4 个表中检查它的引用。如果`Team_Id`在任何一个表中找到它，用户不能删除它。

我做了以下查询，但它不工作-

```
select count(Team.Team_Id)
  from Team 
  join Team_Project on Team.Team_Id = Team_Project.Team_Id  
 right join Team_Member on Team.Team_Id = Team_member.Team_Id  
 right join Team_link on Team.Team_Id = Team_link.Team_Id  
 right join Team_Account on Team.Team_Id = Team_Account.Team_Id  
 where Team.Team_Id = 2 
```

但它总是给我 0，而这个 team_Id 在所有表中都可用。
请建议我正确的解决方案

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T06:49:43.180

试试这个：

```
declare @teamid int=2;

Select Team_Id from Team_Project where Team_Id=@teamid union all
Select Team_Id from Team_Member  where Team_Id=@teamid union all
Select Team_Id from Team_link    where Team_Id=@teamid union all
Select Team_Id from Team_Account where Team_Id=@teamid; 

if @@ROW_COUNT=0 delete from TEAM where Team_Id=@teamid 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T06:56:35.233

一组`right join`最终是空的，最后一个表是空的。如果第一个表为空，则一组`left join`最终为空。但是一组`full join`将返回任何匹配的行。所以考虑`right join`用`full join`.

`not exists`作为另一种选择，我发现使用子句而不是`join`这种查询更清楚：

```
delete  t
from    Team t
where   t.Team_Id = @TeamId
        and not exists (select * from Team_Project where Team_Id = @TeamId)
        and not exists (select * from Team_Member where Team_Id = @TeamId)
        and not exists (select * from Team_link where Team_Id = @TeamId)
        and not exists (select * from Team_Account where Team_Id = @TeamId) 
```

根据您的评论，检索计数：

```
select  count(*)
from    (
        select  Team_Id 
        from    Team_Project 
        union all
        select  Team_Id 
        from    Team_Member  
        union all
        select  Team_Id 
        from    Team_link    
        union all
        select  Team_Id 
        from    Team_Account 
        ) as SubQueryAlias
where   Team_Id = @TeamId 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T06:50:08.273

```
select count(Team.Team_Id) 
from Team 
left join Team_Project 
   on Team.Team_Id=Team_Project.Team_Id  
left join Team_Member 
   on Team.Team_Id=Team_member.Team_Id  
left join Team_link 
   on Team.Team_Id=Team_link.Team_Id  
left join Team_Account 
   on Team.Team_Id= Team_Account.Team_Id  
where Team.Team_Id=2 and 
(Team_Project.Team_Id is not null
 of 
 Team_member.Team_Id is not null
 or 
 Team_link.Team_Id is not null
 or
 Team_Account.Team_Id is not null) 
```

# mysql - 布尔字段作为唯一索引

> ID：12454285
> 
> 赞同：1
> 
> 时间：2012-09-17T06:46:13.483
> 
> 标签：mysql, sql, database-design, foreign-keys

Bool 字段能否成为唯一索引并与另一个表的索引一起用于外键关系？

我不认为它可以成为主键，但唯一索引呢？每次我尝试将其转换为唯一索引时，它都会将其转换为 tinyint。

**编辑**

所以我有一个SQL关系问题。假设我有一个数据库，我想在其中保存有关个人的信息记录。现在我已经设置了一个表格来获取这些信息。好的，到目前为止一切都很好。

通常可以在表中发现重复信息并将其删除。如果特定字段与另一行中的另一个字段具有相同的值，则记录被认为是重复的。示例：重复的电子邮件。

现在我想在数据库中创建另一个表来跟踪发现和删除的每个重复项。我的第一个想法是创建一个外键关系。所以我创建了一个 dupes 表并将其连接到我的 persons 表。该关系是具有删除约束的简单外键与主键关系。

现在虽然起初这可能有效，但出现的问题是，dupes 表正在接收已删除的记录，即使它们没有被删除，因为它们是被欺骗的。这是一个问题，因为即使我决定从persons表中删除一个人只是因为我不喜欢他们，他们还是会存储在dupes表中。

然后我想，为什么不在persons表中创建一个disposition字段并将其作为唯一键或主键连接到我的dupes表的索引外键。那么问题是一个唯一的键必须有一个唯一的值，所以多次配置的欺骗或者我不喜欢你不会工作。另一种选择是使处置字段成为主键。但这也有同样的问题。

这个问题的正确关系是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-17T06:50:07.960

本质上，sql 中的布尔值（或 mssql 中的位）是一个非常短的整数。所以基本上没有理由不允许它作为外键。但从设计的角度来看，它没有任何意义。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-17T07:07:35.507

是的，BOOL 字段可以是主键或唯一键。在唯一键的情况下，可以将 NULL 设置为值。

关于 TINYINT：MySQL 不支持 BOOL 数据类型，而是使用 TINYINT。

来自参考 - *BOOL、BOOLEAN：这些类型是 TINYINT(1) 的同义词。*

# c# - Oracle 触发器 - 从子表到父表

> ID：12454288
> 
> 赞同：1
> 
> 时间：2012-09-17T06:46:23.533
> 
> 标签：c#, .net, database, oracle, plsql

我正在尝试创建一个触发器，它将子表的值（插入或更新后）聚合到父表。子表`C`具有字段，`id, year, month, value`而父表具有. 当向 C 插入新行或更新现有行时，触发器应将该年的所有月份值求和，并将总和写入. 这是我实现它的方式：`P``id, year, value``P`

```
CREATE OR REPLACE
TRIGGER tr__aggregation 
AFTER INSERT OR UPDATE ON C
FOR each row 
DECLARE

BEGIN

 MERGE INTO P o
            USING (SELECT id, year, sum(value) as val
                  FROM C 
                   WHERE id = :NEW.id
                   AND year = :NEW.year
                   GROUP BY id, year) n 
            ON (n.id = o.id AND n.year = o.year)
            WHEN NOT MATCHED THEN INSERT (o.id, o.year, o.value) 
                                  VALUES (n.id, n.year, n.value)
            WHEN MATCHED THEN UPDATE SET o.value = NVL(n.value, o.value);

EXCEPTION WHEN OTHERS THEN
    pck_util.pr_exception_info(TRUE);
    RAISE;
END; 
```

出于某种原因，我收到此错误： `SQL Error: ORA-04091: table C is mutating, trigger/function may not see it`

我不明白为什么，我不想修改`C`，只是`P`。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:05:42.427

该错误来自您正在**查询**变异表 C的事实。

从[文档](http://docs.oracle.com/cd/B19306_01/appdev.102/b14251/adfns_triggers.htm#i1025109)：

> 变异表是由 UPDATE、DELETE 或 INSERT 语句修改的表，或者可能会因 DELETE CASCADE 约束的影响而更新的表。
> 
> 发出触发语句的会话不能查询或修改变异表。

您可以阅读这篇[文章](http://asktom.oracle.com/pls/asktom/ASKTOM.download_file?p_file=6551198119097816936)，其中展示了如何避免该错误。

我个人会使用物化视图来存储聚合。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T07:06:23.650

这是因为您使用来自 C 的选择来更新 P，该选择正在移动（变异）。

更好的解决方案是使用物化视图：

```
Create materialized view p
refresh fast on commit as
SELECT id, year, sum(value) as val
FROM C 
GROUP BY id, year; 
```

我不知道 fly 的语法，也许它需要一些其他子句。

更新：只需阅读[文档](http://docs.oracle.com/cd/B28359_01/server.111/b28313/basicmv.htm#autoId13)，您还需要基表上的物化视图日志，如示例 3 所示：

```
CREATE MATERIALIZED VIEW LOG ON C WITH SEQUENCE, ROWID
(id, year, value)
INCLUDING NEW VALUES; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-17T07:44:21.823

您正面临该错误，因为您在修改表时`SQL Error: ORA-04091: table C is mutating, trigger/function may not see it`查询`C`表。为了避免这种错误，您只需将触发器的逻辑封装在一个过程中并在需要时执行它。您还可以创建一个视图来替代您的表。`SELECT ... FROM C``AFTER INSERT OR UPDATE ON C``P`

```
Create or replace view P as
  select p.id
       , p.year
       , sum(nvl(c.value, 0)) value
    from P
    join C
      on (p.id = c.id and p.year = c.year)
   group by p.id
          , p.year 
```

# android - 如何使用按钮和微调器从另一个屏幕上更改文本视图

> ID：12454289
> 
> 赞同：0
> 
> 时间：2012-09-17T06:46:27.637
> 
> 标签：android, android-layout, android-intent, android-widget

我之前问过这个问题，但我没有解释正在发生的事情，而是问你将如何做到这一点。

**我的目标：**

我有 2 个屏幕。

**屏幕 1：（**
文本视图） -->“选择您最喜欢的号码”
（微调器）--> 下拉一个可供选择的数字列表
（btnGo）--> 开始一个新的意图并切换到屏幕 2

**屏幕 2：**
“您最喜欢的号码是：（无论您在微调器上选择了什么）”

我尝试了不同的方法，但在屏幕更改后我无法从微调器中检索信息。

那么你会怎么做呢？请尽可能详细。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T06:50:35.527

你还没有解释你的*“屏幕”*是什么，所以我假设它们是活动。

当您想将数据从一个活动传递到另一个活动时，而不是尝试反向引用调用第二个活动的活动，您应该将其作为意图的一部分所需的任何数据传递到第二个活动。

例如：

```
myIntent.putExtra("spinnerValue", spinner.getIndex()); 
```

在第二个活动中，您可以读取数据：

```
int spinnerValue = getIntent().getExtras().getInt("spinnerValue"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T06:52:29.980

```
 your_spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {

    public void onItemSelected(AdapterView<?> adapter, View v, int i, long lng) {

    selected_number = adapter.getItemAtPosition(i).toString();
    }
    }

Intent intent = new Intent(screen1.this, screen2.class);
intent.putExtra("selectedNumber", selected_number);
startActivity(intent); 
```

在屏幕 2 中：

```
String number = this.getIntent.getExtras("selectedNumber");

your_textView.setText(number); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T06:53:36.210

基本上，当您调用 SCREEN2 时，我认为您运行了一个新意图，它将删除您存储的所有数据。

你应该做的是使用共享首选项[这里](http://sogacity.com/using-shared-preferences-in-android/)是一个教程

或者您可以制作两个布局，将第一个设置为`visible`，另一个设置为，`invisible`以便在单击 btnGO 时隐藏包含微调器和按钮的第一个布局并显示包含文本的新布局。

**编辑：**

首先确保 (textview) (spinner) (btnGo) 有一个单独的布局，例如 LinearLayout 然后您最喜欢的数字的另一个布局是：（无论您在微调器上选择了什么）”只将它们放在一个 xml 文件中，或者如果您`<include />`如果您将它们放在单独的 xml 文件中并在执行按钮单击时设置可见性，则希望您可以使用

```
spinner.setVisibility(View.INVISIBLE); 
btnGo.setVisibility(View.INVISIBLE); 
textView.setVisibility(View.INVISIBLE); 

"Your favorite number is:(whatever you selected on thespinner)".setVisibility(View.VISIBLE); 
```

你明白吗？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-17T06:53:48.860

你可以这样使用：

在 Screen-1 上的按钮单击：

```
Intent intent = new Intent(getApplicationContext(),SCREEN2.class);
intent.putExtra("favoriteNumber",GET_SELECTED_SPINNER);
startActivity(intent); 
```

在 Screen-2 onCreate() 中：

```
String selectedFavorite = getIntent().getStringExtra("favoriteNumber");
YOUR_TEXTVIEW.setText(selectedFavorite); 
```

就这样吧。

希望它对你有用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-17T07:07:57.983

//在screen1按钮事件中

屏幕 2 sc2 = 新屏幕 2();

sc2.Set(3);

// ******

//屏幕2类

类屏幕2 {

```
 private int i;
  public int Get(){
  return i;

   public void Set( int a )
   this.i = a; 
```

}

# android - Android Google MapView 持久化逐项叠加 onPause

> ID：12454300
> 
> 赞同：0
> 
> 时间：2012-09-17T06:47:59.727
> 
> 标签：android, android-mapview, google-maps-markers, android-maps, itemizedoverlay

使用 Android Google MapView 时，当我进入暂停状态时，如何让 Itemized Overlay（多个标记）持续存在。我了解如何使用 onSaveInstanceState，但是如何在叠加层上执行此操作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T11:36:51.573

当应用程序进入暂停状态或即使它进入停止状态时，您无需执行任何操作。这两种状态都保留了活动记忆，并且所有信息的覆盖仍然可用于活动。您可能需要调用 mapView.invalidate() 来重绘屏幕。

如果活动进入销毁状态（例如，当您旋转屏幕时），那么您需要保存覆盖。

在这里，您有 2 个主要选项：

1-如果您正在重新启动您的活动（即由于屏幕旋转）并且想要保留覆盖信息或开始一个新活动并且您想要传输覆盖信息，您可以使用“Parcelable”。我相信 Itemized overlay 不直接支持它，但您可以扩展它。它非常快速且非常容易。

2-如果要保留信息以供以后使用，则需要将信息保存在数据库或任何其他类型的文件中。

问候。

# asp.net - 如何使用 itextsharp 创建受密码保护的 pdf？

> ID：12454304
> 
> 赞同：1
> 
> 时间：2012-09-17T06:48:07.417
> 
> 标签：asp.net

我正在动态创建pdf。所以在创建自己时我需要用密码保护它。我正在使用 asp.net、c# 和 pdf itextsharp。

这是我的代码

使用 (Document doc = new Document(PageSize.A4,0f,0f,0f,0f)) {

```
 string path = Server.MapPath("Pages");

            FileStream pdffile= new FileStream(path+"/Pdf/tes.pdf", FileMode.Create);
            PdfWriter writer=PdfWriter.GetInstance(doc,pdffile);
            doc.Open();
            var titlefont = FontFactory.GetFont("Arial", 16, Font.BOLD);   
            doc.Add(new Paragraph("My Pdf",titlefont));
            doc.Close(); 

            Response.Clear();
            Response.ContentType = "application/pdf";
            Response.AddHeader("content-disposition", "attachment;filename=tes.pdf"); 
            Response.TransmitFile(path+"/Pdf/tes.pdf");                  
            Response.Flush();
            File.Delete(path + "/Pdf/tes.pdf");
                        } 
```

谢谢..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T06:51:56.307

我搜索了其他主题，这似乎对这个人有用：

[https://stackoverflow.com/a/6586551/1648976](https://stackoverflow.com/a/6586551/1648976)

希望它可以帮助你。

# c# - Amazon S3 PutObject() 返回值以确认成功？

> ID：12454305
> 
> 赞同：9
> 
> 时间：2012-09-17T06:48:08.647
> 
> 标签：c#, amazon-s3, amazon

保存到 Amazon S3 (1\300) 时，大约每周一次文件上传失败。以下代码可以很好地确认文件保存正确，但我不禁想到有更好的方法。当文件确实失败时，不会引发异常，因此我永远无法确定问题出在哪里。有什么更好的确认建议吗？

```
AmazonS3Config _s3Config = new AmazonS3Config
{
    ServiceURL = "s3.amazonaws.com",
    CommunicationProtocol = Protocol.HTTPS,
};

using (AmazonS3 client = AWSClientFactory.CreateAmazonS3Client("accessKey", "secretAccessKey", _s3Config))
{
    PutObjectRequest request = new PutObjectRequest();

    request.WithBucketName("bucketName")
           .WithFilePath("filePath")
           .WithKey("keyName");

    request.WithServerSideEncryptionMethod(ServerSideEncryptionMethod.AES256);

    PutObjectResponse response = client.PutObject(request);

   // what property from the response object can I check to confirm success???
}

// the following DoesObjectExist() function uses the GetObjectMetadata() function
if (!DoesObjectExist(keyName))
    throw new Exception("Failed!"); 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-17T07:11:35.970

根据 API 文档，它建议您根据您发送的数据的计算 MD5 哈希值检查 ETag 值。他们显然应该匹配。

“为确保对象不会通过网络损坏，您可以计算对象的 MD5，将其放入 Amazon S3，然后将返回的 Etag 与计算的 MD5 值进行比较。”

[http://docs.amazonwebservices.com/AmazonS3/latest/API/SOAPPutObject.html](http://docs.amazonwebservices.com/AmazonS3/latest/API/SOAPPutObject.html)

希望有帮助

# css - 是否可以让 LI 元素在 UL 中垂直溢出？

> ID：12454306
> 
> 赞同：2
> 
> 时间：2012-09-17T06:48:38.190
> 
> 标签：css, html-lists

问题是

```
<ul>
<li>test1</li>
<li>test2</li>
<li>test3</li>
<li>test4</li>
<li>test5</li>
<li>test6</li>
<li>test7</li>
<li>test8</li>
<li>test9</li>
<li>test10</li>
<li>test11</li>
<li>test12</li>
</ul> 
```

是这样的......结果是

```
test1   test2    test3
test4   test5    test6
test7   test7    test9
test10   test12    test12 
```

我更喜欢这样：P

```
test1   test5    test9
test2   test6    test10
test3   test7    test11
test4   test8    test12 
```

那么小伙伴们有可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:09:27.130

您可以使用`Multiple CSS3 column-count Property`您想要的结果查看您要求的代码：-

**HTML**

```
<ul class="three-col">
<li>test1</li>
<li>test2</li>
<li>test3</li>
<li>test4</li>
<li>test5</li>
<li>test6</li>
<li>test7</li>
<li>test8</li>
<li>test9</li>
<li>test10</li>
<li>test11</li>
<li>test12</li>
</ul> 
```

**CSS**

```
.three-col {
       -moz-column-count: 3;
       -moz-column-gap: 20px;
       -webkit-column-count: 3;
       -webkit-column-gap: 20px;
       list-style-type:none;
} 
```

我认为这也会对您有所帮助：- [http://tinkerbin.com/KLNj5ghL](http://tinkerbin.com/KLNj5ghL)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:00:37.677

嗨，现在你可以习惯`css3`属性 `column-count`

CSS

```
ul{
list-style:none;
}
li{
border-bottom:solid 1px red;
}

ul
{
-moz-column-count:3; /* Firefox */
-webkit-column-count:3; /* Safari and Chrome */
column-count:3;
} 
```

***[现场演示](http://tinkerbin.com/CBlyGwyD)***

***[更多信息](http://www.w3.org/TR/css3-multicol/)***

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T07:36:41.013

Rohit Azad 的绝佳解决方案

但是 IE 6-9 不支持 CSS3 列……如果你想要一个完整的浏览器支持，你可以（有点丑，我知道……）使用这个版本……

HTML：

```
<ul>
<li>test1</li>
<li>test2</li>
<li>test3</li>
<li>test4</li>
</ul>
<ul>
<li>test5</li>
<li>test6</li>
<li>test7</li>
<li>test8</li>
</ul>
<ul>
<li>test9</li>
<li>test10</li>
<li>test11</li>
<li>test12</li>
</ul> 
```

CSS：

```
ul
{
  border:1px solid black;
  float: left;
  width: 100px;
  list-style:none;
} 
```

格力兹

# struts - 保存输出 在 Java 字符串变量中

> ID：12454308
> 
> 赞同：0
> 
> 时间：2012-09-17T06:48:53.297
> 
> 标签：struts, javabeans

我使用代码`<bean:message key="zzzzz" bundle="yyyyy" />`显示来自 file_lang.properties 文件的消息。消息以英语或西班牙语显示，具体取决于所选语言。

我需要将此文本存储在字符串值中，因为我需要与其他字符串连接以将其写入其他部分，而不是 jsp，文本文件。我怎样才能做到这一点 ？？？

我尝试将消息传递到我使用的超链接的 URL 中，但我不能或者我不知道如何将 bean:message 放入`<a href="...`部件中。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T16:54:45.957

您是否尝试过将其包装在 JSTL 中`set`并在之后使用声明的内容`var`？

```
<c:set var="yourVariable" scope="page"><bean:message key="zzzzz" bundle="yyyyy" /></c:set>
...
<c:out value="${yourVariable}" /> or ${yourVariable} directly (depending on your JSP version) 
```

您也可以直接在您的 href 中使用它（这不是很好，但它可以完成工作），例如：

```
<a href="<bean:message key="zzzzz" bundle="yyyyy" />" ... 
```

如果您需要这种控制，您也可以[从 Action 类的消息资源中检索它。](http://struts.apache.org/1.2.7/api/org/apache/struts/action/Action.html#getResources%28javax.servlet.http.HttpServletRequest%29)

# php - 最小化网站流量：仅在 php 上加载可视区域图像

> ID：12454315
> 
> 赞同：0
> 
> 时间：2012-09-17T06:49:14.000
> 
> 标签：php, ajax, image, loading

网站在每个页面上加载大约 40-50 个图像，我正在寻找现代跨浏览器（ajax？）脚本，该脚本仅在可视浏览器区域加载网站上的图像，默认情况下没有大量“任何东西”预加载......可以有人给一个好的建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T06:56:52.287

您好，您可以尝试在 PHP 中延迟加载图像。您可以使用 jQuery 包来执行此操作。

在这里查看我自己的答案[如何使用 asp.net 在图像数据列表中应用按需加载（延迟加载）概念？](https://stackoverflow.com/questions/12399560/how-to-apply-the-load-on-demand-lazy-loading-concept-in-datalist-for-images-us/12399615#12399615)并找到如何做到这一点并在页面加载时仅加载一张图像，并在用户向下滚动时加载其他图像..

上面的答案也应该在 PHP 中完美地为你工作......

[http://www.appelsiini.net/projects/lazyload](http://www.appelsiini.net/projects/lazyload)

Lazy Load 是一个用 JavaScript 编写的 jQuery 插件。它延迟了长网页中图像的加载。在用户滚动到它们之前，不会加载视口之外的图像（网页的可见部分）。这与图像预加载相反。

在包含许多大图像的长网页上使用延迟加载可以加快页面加载速度。加载可见图像后，浏览器将处于就绪状态。在某些情况下，它还可以帮助减少服务器负载。（以上取自网站）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T06:57:17.247

试试[jQuery 的延迟加载插件](http://www.appelsiini.net/projects/lazyload)。我认为它可以满足您的描述。

# uitableview - 如何在 UITableView 中创建下拉菜单？

> ID：12454319
> 
> 赞同：0
> 
> 时间：2012-09-17T06:49:30.083
> 
> 标签：uitableview, ios5

我正在实现一个基于 UITableView 的应用程序。在那里我有一个带有输入字段列表的表格视图。在一个单元格中，我需要显示一个下拉菜单。是否可以在 UITableview 中实现下拉菜单？如果您有任何想法，请分享。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T16:21:28.060

是的 - 这是可能的，但不是你应该做的。我会在表格单元格中使用 UITableViewAccessoryDe​​tailDisclosure 控件，然后使用导航控制器滑到选择屏幕 - 大部分工作已经为您完成。

但是，如果您确实想在原地进行下拉，那么我可能会在表格视图中紧跟该行之后动态插入行。它们需要与您的主表视图单元格看起来不同，并且您需要在选择后删除它们。这是很多繁重的工作，我不会走这条路。

# html - 如何解决 Safari 中的文本编码错误？

> ID：12454320
> 
> 赞同：0
> 
> 时间：2012-09-17T06:49:41.440
> 
> 标签：html, safari

有人对 Safari 5.1.7（在 Windows 7 上）中的文本编码有疑问吗？在除 Safari 之外的所有浏览器中看起来都不错，但其中一部分文本看起来像：

![](../Images/4032e29afce98cb928ec622f749d56d5.png)

但应该是

```
<h3>text text text</h3> 
```

当我将文本换行时，所有 h1 ， ... ， h6 标记在 Safari 中看起来都一样

标记它变成正常。

我在布局文件中设置了编码：

```
 <meta charset="utf-8"> 
```

我的问题在哪里？

# jquery - 无法从 jQuery 中的内容中获取数据？

> ID：12454322
> 
> 赞同：0
> 
> 时间：2012-09-17T06:49:50.817
> 
> 标签：jquery, html, jquery-mobile

我有 2 个 HTML 文件和 2 个 js 文件。

在 App.html 中我想包含 login.html 并且需要从 login.html 中获取数据并且需要在 App 中使用。

**应用程序.html**

```
<!DOCTYPE html>
<html>
    <head>
        <meta charset="ISO-8859-1">
        <title>Insert title here</title>    
        <script type="text/javascript" src='js/jquery.js'></script>        
        <script type="text/javascript" src="js/app.js"></script>
        <script type="text/javascript" src="js/login.js"></script>
    </head>
    <body>  
        <div id="content"></div>
    </body>
</html> 
```

**登录.html**

```
<!DOCTYPE html>
<html>
    <head>
        <meta charset="ISO-8859-1">
        <title>Insert title here</title>    
        <script type="text/javascript" src='js/jquery.js'></script>
    </head>     
    <body>      
    <div>
        <div data-role="fieldcontain">
            <label for="userid" id="luserid" ><strong>UserId : </strong></label>
            <input type="text" name="userid" id="userid" value="" class="logon" placeholder="Username" required/>
        </div>
        <div data-role="fieldcontain">
            <label for="password" id="lpassword"><strong>Password :</strong></label>
            <input type="password" name="password" id="password" class="logon" value="" placeholder="Password" required/>
        </div>
        <div class="ui-body">
            <fieldset class="ui-grid-a">                            
                    <div class="ui-block-a"><a data-role="button" id="loginbtn" data-theme="b">Login</a></div>                          
            </fieldset>
        </div>              
    </div>
    </body>
</html> 
```

**应用程序.js**

```
 $(document).ready(function(){ 
  $('#content').load('login.html'); 
  }); 
```

**登录.js**

```
$(document).ready(function(){   
    var userid= $("#userid").val();
    var upassword= $("#password").val();
    alert(userid);
    alert(upassword);               
}); 
```

请帮我解决这个问题。

**注意：** 我不想在 Login.html 中包含 login.js。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T06:52:57.727

您应该检查`submit`事件的用户和密码，即：

```
$("form").submit(function(e){
  var userid= $("#userid").val();
  var upassword= $("#password").val();
  alert(userid);
  alert(upassword); 
}); 
```

您还需要将代码包装在 a 中`<form>`：

```
<form>
    <div data-role="fieldcontain">
    ...
    </div>    
</form> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T06:55:42.610

您应该尝试以下方法：

```
$(document).ready(function(){ 
    $('#content').load('login.html', function() {
        var userid= $('#content').find("#userid").val();
        var upassword= $('#content').find("#password").val();
        alert(userid);
        alert(upassword); 
    }); 
}); 
```

这将确保 的内容`login.html`已成功加载。如果是这样，您可以获取 和 的`#userid`值`#password`。

由于这些不是在创建 DOM 时创建的，因此您无法直接通过`$('#userid')`and访问它们的值`$('#password')`，您可能不得不使用该方法`find()`。

**PS：**我认为这个链接可能会让你感兴趣：[Calling function after .load (Jquery)](https://stackoverflow.com/questions/9899066/calling-function-after-load-jquery)

希望这可以帮助。

# ios - defaultCalendarForNewEvents 失败

> ID：12454324
> 
> 赞同：32
> 
> 时间：2012-09-17T06:49:55.950
> 
> 标签：ios, calendar

当我尝试调用 [newEventStore defaultCalendarForNewEvents] 时，它返回一条错误消息：

```
[707:907] defaultCalendarForNewEvents failed: Error Domain=EKCADErrorDomain Code=1013 "The operation couldn’t be completed. (EKCADErrorDomain error 1013.)"
[707:907] Error!Failed to save appointment. Description:Error Domain=EKErrorDomain Code=1 "No calendar has been set." UserInfo=0x1fc679f0 {NSLocalizedDescription=No calendar has been set.} 
```

该应用程序运行很长时间。问题第一次来找我。手机运行IOS6 Beta4。型号是 iphone 4。有谁知道 defaultCalendarForNewEvents 方法何时会失败？我无法从谷歌搜索中获得任何有用的信息。

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2012-11-19T10:07:06.140

在 iOS6 上，Apple 引入了新的隐私控制，允许用户控制每个应用程序的联系人和日历的可访问性。因此，在代码方面，您需要添加一些方法来请求权限。在iOS5或之前，我们可以随时调用

```
EKEventStore *eventStore = [[[EKEventStore alloc] init] autorelease];
if ([eventStore respondsToSelector:@selector(requestAccessToEntityType:completion:)]) {
    // iOS 6 and later
    [eventStore requestAccessToEntityType:EKEntityTypeEvent completion:^(BOOL granted, NSError *error) {
        if (granted) {
            // code here for when the user allows your app to access the calendar
            [self performCalendarActivity:eventStore];
        } else {
            // code here for when the user does NOT allow your app to access the calendar
        }
    }];
} else {
    // code here for iOS < 6.0
    [self performCalendarActivity:eventStore];
} 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-09-25T14:52:17.677

**如果您不调用 –requestAccessToEntityType :completion:** 函数来提示对话框要求您的用户授予对您的应用程序的访问权限以访问日历/提醒，则 iOS 应用程序将无法从 iOS6 系统上的日历中获取任何数据。代码将如下所示：

```
//CalendarEventHandler.h  
@interface CalendarEventHandler : NSObject
{
EKEventStore *eventStore;
}
@property (nonatomic, strong) EKEventStore *eventStore;

//CalendarEventHandler.m 
self.eventStore =[[EKEventStore alloc] init];
if([self checkIsDeviceVersionHigherThanRequiredVersion:@"6.0"]) {
        [self.eventStore requestAccessToEntityType:EKEntityTypeEvent completion:^(BOOL granted, NSError *error) {

            if (granted){
                //---- codes here when user allow your app to access theirs' calendar.

            }else
            {
                //----- codes here when user NOT allow your app to access the calendar.  
            }  
        }];

    }else {
                //---- codes here for IOS < 6.0.

    } 
```

// 下面是检查当前 ios 版本是否高于所需版本的块。

```
 - (BOOL)checkIsDeviceVersionHigherThanRequiredVersion:(NSString *)requiredVersion
 {
  NSString *currSysVer = [[UIDevice currentDevice] systemVersion];

   if ([currSysVer compare:requiredVersion options:NSNumericSearch] != NSOrderedAscending)
   {
       return YES;
   }

       return NO;
  } 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-04-25T11:41:00.633

`iOS6+`需要用户身份验证才能将事件保存到他的设备日历。这是一个代码片段：

```
 // save to iphone calendar
    EKEventStore *eventStore = [[EKEventStore alloc] init];
    if([eventStore respondsToSelector:@selector(requestAccessToEntityType:completion:)])
    {
        // iOS 6 and later
        // This line asks user's permission to access his calendar
        [eventStore requestAccessToEntityType:EKEntityTypeEvent completion:^(BOOL granted, NSError *error)
        {
            if (granted) // user user is ok with it
            {
                EKEvent *event = [EKEvent eventWithEventStore:eventStore];
                event.title  = aTitle;
                event.allDay = YES;

                NSDateFormatter *dateFormat = [[UIApplicationSingleton sharedManager] aDateFormatter];
                [dateFormat setDateFormat:@"MMM dd, yyyy hh:mm aaa"];
                event.startDate = event.endDate = //put here if start and end dates are same

                [event setCalendar:[eventStore defaultCalendarForNewEvents]];
                NSError *err;

                [eventStore saveEvent:event span:EKSpanThisEvent error:&err];

                if(err)
                    NSLog(@"unable to save event to the calendar!: Error= %@", err);

            }
            else // if he does not allow 
            {
                [[[UIAlertView alloc]initWithTitle:nil message:alertTitle delegate:nil cancelButtonTitle:NSLocalizedString(@"plzAlowCalendar", nil)  otherButtonTitles: nil] show];
                return;
            }
        }];
    }

    // iOS < 6
    else
    {
        EKEvent *event = [EKEvent eventWithEventStore:eventStore];
        event.title  = aTitle;
        event.allDay = YES;

        NSDateFormatter *dateFormat = [[UIApplicationSingleton sharedManager] aDateFormatter];
        [dateFormat setDateFormat:@"MMM dd, yyyy hh:mm aaa"];
        event.startDate = event.endDate = //put here if start and end dates are same

        [event setCalendar:[eventStore defaultCalendarForNewEvents]];
        NSError *err;

        [eventStore saveEvent:event span:EKSpanThisEvent error:&err];

        if(err)
            NSLog(@"unable to save event to the calendar!: Error= %@", err);

    } 
```

[`this post`](https://stackoverflow.com/questions/15237014/failing-to-save-ekreminder-in-ios-6/16213772#16213772)如果您在为应用程序设置警报时遇到问题，请检查我的。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-09-17T08:18:25.850

解决了。我不小心在 IOS6 的设置->隐私中关闭了应用程序对日历的访问权限

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2017-02-26T22:53:52.040

我遇到了同样的问题，但终于找到了原因。

我的情况是添加我的提醒和日历事件，但我使用的是一个`EKEventStore`. 最后我将它们分开并且问题消失了：

```
private static let calendarEventStore = EKEventStore()
private static let remindersEventStore = EKEventStore() 
```

所以现在我正在使用`calendarEventStore`与日历事件和`remindersEventStore`提醒相关的所有事情。

——</p>

在我看来，这与我`defaultCalendarForNewEvents`在`defaultCalendarForNewReminders()`一个`EKEventStore`实体中提出的请求有关。

这也是来自`EKEventStore`文档的：

> 从事件存储中检索的事件、提醒和日历对象不能与任何其他事件存储一起使用

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-09-14T10:28:07.027

## 迅捷形式

*（基于@yunas 的回答）*

```
_estore = EKEventStore()
_estore.reset()

_estore.requestAccessToEntityType(EKEntityTypeEvent) { (granted, error) in
    if granted {
        println("allowed")
        /* ... */
    } else {
        println("not allowed")
    }           
} 
```

它将打开“访问”弹出窗口

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-05T11:26:03.380

转到模拟器/设备设置/隐私/日历/YourApp 点击打开以允许访问日历。并重试您的代码。它会工作。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-10-26T15:35:08.043

对于 Xamarin 用户：

```
EKEventStore eventStore = new EKEventStore();
eventStore.RequestAccess(EKEntityType.Event, (bool granted, NSError e) =>
{
    if (granted)
    {
       //Your code here when user gief permissions
    }
}); 
```

# android - 在 Android 中显示列表的特定部分

> ID：12454326
> 
> 赞同：0
> 
> 时间：2012-09-17T06:50:00.720
> 
> 标签：android, listactivity, selecteditem, radiobuttonlist

我有一个列表活动。这将显示单选按钮选择列表。当我选择某些内容时，我会保存该选择，当我返回列表时，相同的单选按钮会突出显示。

有没有办法在列表第一次出现时显示列表中具有选择的部分，而不是显示列表的开头？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T06:56:01.407

您可以使用`listView.setSelection(int savedPosition)`来设置选定的位置。

# windows - 重定向我的初始页面

> ID：12454332
> 
> 赞同：0
> 
> 时间：2012-09-17T06:50:25.590
> 
> 标签：windows, visual-studio-2010, windows-phone-7

> **可能重复：**
> [如何更改 WP7 应用程序的启动页面](https://stackoverflow.com/questions/9247908/how-to-change-startup-page-on-wp7-application)

我在导航 xml 时遇到问题，我真正需要的是我需要从第一次安装应用程序时调用一个 xml 页面`WMAPPmanifest.xml`，一旦安装了应用程序，就`WMAPPmanifest.xml`应该调用其他 xml。

问题是我需要在安装应用程序时重定向到一个页面，当他在安装后进入应用程序时，这个页面应该只显示一个，然后再显示一次。如何在 Windows 中执行此操作，我使用 C# for Microsoft Visual Studio 2010 进行开发。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T18:41:43.300

有两种方法可以实现这一目标。

首先，我建议您创建一个`UserControl`并将您的 OneTime Page 的代码放入其中当应用程序加载时让它转到实际主页，在那里您检查来自 IsolatedStore 的标志并根据标志决定是否显示 UserControl 或不是。

其次，按照第一条评论中提到的链接中的代码，并根据以下代码决定重定向哪个页面。

对于上述两个选项，您需要处理来自 IsolatedStorage 的标志。

```
var appSettings = IsolatedStorageSettings.ApplicationSettings;
if(appSettings.Contains("pageflag"))
{
   destinationPage = "/ActualHomePage.xaml";
}
else
{
   destinationPage = "/OneTimePage.xaml";
   appSettings.Add("pageflag", 0);
} 
```

希望清楚！！

# windows - glClientWaitSync 在 Windows 上导致分段错误

> ID：12454336
> 
> 赞同：0
> 
> 时间：2012-09-17T06:50:52.010
> 
> 标签：windows, opengl, synchronization

更具体地说，我有两个线程。

第一个：

```
ev_wait_vsync = CreateEvent(NULL, FALSE, FALSE, "wait_vsync");
...
printf("paint\n");
sync = glFenceSync(GL_SYNC_GPU_COMMANDS_COMPLETE, 0);
SetEvent(ev_wait_vsync); 
```

第二个，由第一个创建：

```
WaitForSingleObject(ev_wait_vsync, INFINITE);
printf("start vsync\n");
glClientWaitSync(sync, GL_SYNC_FLUSH_COMMANDS_BIT, UINT64_MAX);
printf("end sync\n"); 
```

这会导致段错误。输出是：

```
paint
start vsync 
```

所以问题出在`glClientWaitSync`，但为什么呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T11:05:35.870

> 所以问题出在glClientWaitSync，但为什么呢？

因为 OpenGL 上下文一次只能在一个线程中处于活动状态。多线程 OpenGL 操作是一件微妙的事情，应尽可能避免。

在您的情况下发生的情况是，`glClientWaitSync`必须通过`wglGetProcAddress`该函数产生的函数指针获得，并且该函数产生的函数指针仅在上下文*和检索函数指针时处于活动状态的线程*中有效（这是 WGL 的警告，而不是 OpenGL）。其他上下文，其他线程，您需要获取一个新的/不同的函数指针。此外，OpenGL 同步对象仅适用于已创建的上下文。

附带说明：与*垂直*同步`GL_SYNC_FLUSH_COMMANDS_BIT`无关！当出现 a或 a时也可能发生这种情况，这会导致隐式刷新。*`glReadPixels``glCopyTexImage2D`*

# apache - 关于使用 .htaccess 文件

> ID：12454340
> 
> 赞同：0
> 
> 时间：2012-09-17T06:51:04.950
> 
> 标签：apache, .htaccess

希望你没事。

我的 public_html 文件夹中有一个子文件夹。在子文件夹中，我有一个带有以下代码的 .htaccess 文件：

```
# Disable indexing:
Options All -Indexes
# Ignore every file:
IndexIgnore *
# Prevent access to any file:
<FilesMatch "^.*$">
Order Allow,Deny
Deny from all
</FilesMatch> 
```

现在，当我浏览到子文件夹时，例如*www.mysite.com/subfolder/myfile.php*，我显示了我网站的 index.html 页面！这真的会发生吗？！

有人可以告诉我我需要做什么来显示一个通用的“不允许访问”页面吗？

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T08:48:46.450

如果你想为一个目录中的所有访问抛出一个 Forbidden 错误，你可以将它添加到该目录中的 htaccess （这需要启用 mod_rewrite，大多数情况下是）：

```
RewriteEngine on
RewriteRule .* - [F] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T17:39:16.613

> 有人可以告诉我我需要做什么来显示一个通用的“不允许访问”页面吗？

您只需在要拒绝访问的目录中的 htaccess 文件中使用它：

```
Deny from All 
```

就是这样。无需使用其他模块或任何特殊的东西。这将拒绝对该目录的任何访问。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-03T05:40:23.307

这个问题就解决了。问题是由我的 public_html 文件夹（由 Drupal 创建）中显示 index.html 页面的另一个 .htacess 文件引起的。

# ember.js - Ember.Namespace 和 Ember.Object 之间的区别

> ID：12454342
> 
> 赞同：2
> 
> 时间：2012-09-17T06:51:14.543
> 
> 标签：ember.js

考虑到这一点，

```
MyApp = Ember.Application.create();
MyApp.someName = Ember.Namespace.create({
//my properties
}); 
```

我可以使用任何一种方法来做同样的事情`Ember.Object`......

```
MyApp = Ember.Application.create();
MyApp.someName = Ember.Object.create({
//my properties
}); 
```

那么，我应该什么时候使用`Namespace`？区别在哪里？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T10:33:27.300

您可以查看[命名空间文档](https://github.com/emberjs/ember.js/blob/master/packages/ember-runtime/lib/system/namespace.js#L11)：

> 命名空间是一个对象，通常用于包含其他对象或方法，例如应用程序或框架。在您想要定义这些新容器之一的任何时候创建一个命名空间。

与对象的区别在于`destroy`方法，它从命名空间列表中删除命名空间，如[您在此处看到的](https://github.com/emberjs/ember.js/blob/master/packages/ember-runtime/lib/system/namespace.js#L38)：

```
destroy: function() {
  var namespaces = Ember.Namespace.NAMESPACES;
  window[this.toString()] = undefined;
  namespaces.splice(indexOf.call(namespaces, this), 1);
  this._super();
} 
```

# ios - 如何从目标 c 中的 NSData 变量中读取 24 个字节后的其余字节

> ID：12454344
> 
> 赞同：1
> 
> 时间：2012-09-17T06:51:30.720
> 
> 标签：ios, objective-c, nsdata

如何从目标 c 中的 NSData 变量读取 24 个字节后的其余字节？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T06:59:09.243

您可以使用 的`subdataWithRange:`方法`NSData`来获取包含`NSData`前 24 个字节之后的数据的对象。

你会做这样的事情：

```
NSData *newData = [data subdataWithRange:NSMakeRange(24, [data length] - 24)]; 
```

还有`getBytes:range:`一种方法可以返回缓冲区中的字节。

# android-layout - SlidingDrawer 破坏了 ViewPager 工作

> ID：12454347
> 
> 赞同：1
> 
> 时间：2012-09-17T06:51:47.510
> 
> 标签：android-layout, android-viewpager, slidingdrawer

我有一个带有一些页面标题、ViewPager 和 SlidingDrawer 的简单布局。

有我的布局：

```
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:orientation="vertical"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent">

    <com.viewpagerindicator.TitlePageIndicator
            android:id="@+id/indicator"
            android:padding="5dip"
            android:layout_height="wrap_content"
            android:layout_width="fill_parent"
            android:textSize="10dp"
            />
    <android.support.v4.view.ViewPager
            android:id="@+id/viewpager"
            android:layout_width="fill_parent"
            android:layout_height="0dp"
            android:layout_weight="1"
            />

    <SlidingDrawer
            android:id="@+id/main_layout_slider"
            android:layout_height="fill_parent"
            android:layout_width="wrap_content"
            android:handle="@+id/main_layout_arrow_image"
            android:content="@+id/main_layout_opinions"
            >
        <Button
                android:id="@+id/main_layout_arrow_image"
                android:src="@android:drawable/arrow_up_float"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                />
        <LinearLayout
                android:id="@+id/main_layout_opinions"
                android:layout_height="wrap_content"
                android:layout_width="wrap_content"
                android:orientation="horizontal">
            <ImageButton
                    android:id="@+id/main_layout_opinions_categories"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"/>

            <ImageButton
                    android:id="@+id/main_layout_opinions_settings"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"/>

            <ImageButton
                    android:id="@+id/main_layout_opinions_search"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"/>
        </LinearLayout>

    </SlidingDrawer>

</LinearLayout> 
```

没有 SlidingDrawer 它可以完美地工作，但是当我添加它时，ViewPager 会失去控制。

还有一件事为什么滑动抽屉占据所有视图，而不仅仅是按钮的高度，我怎么能改变它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:52:13.943

You can achieve this by using a relativelayout instead of the linear layout and in your sliding drawer mention this android:layout_below="@+id/idOfYourHeaderWhichShouldNotBeCovered"

# android - 在html字符串web视图android中加载图像？

> ID：12454348
> 
> 赞同：1
> 
> 时间：2012-09-17T06:51:48.723
> 
> 标签：android, android-widget, android-webview

我想`WebView`在android中加载一个图像，我有：

```
public static final String URL_EMOTION_2 = "/sdcard/kingfisher_ph/e2.gif";
public static final String FILE = "file:/";
// Get the image url
String imagePath = FILE + URL_EMOTION_2; 
```

如果我使用`webView.loadUrl(imagePath);`，我可以看到`e2.gif`加载到屏幕。但是，如果我尝试创建一个`Html String`并加载到`WebView`：

```
String htmlString = "<html><head></head><body><img src=\"" + imagePath + "\" alt=\"My emotion\"/>"</body></html>";
webView.loadData(htmlString, "text/html", "utf-8"); 
```

上面的代码无法加载图像，它只显示`My emotion` `String`！我的代码有什么问题？感谢大家！

**编辑：**谢谢，我用`webView.loadDataWithBaseURL(...)`.

但是，当我想要`reload`我的时候出现另一个问题`webView`（因为有时，我想更改`htmlString`并重新加载`webView`以显示更改的内容），它通常会启动一个空白网页！我怎样才能禁用它？`webView`或者在我更改中间件后还有其他方法可以刷新`htmlString`吗？

# asp.net - 如果文本很长，如何在两行而不是一行交叉图表中制作注释文本？

> ID：12454355
> 
> 赞同：0
> 
> 时间：2012-09-17T06:52:11.080
> 
> 标签：asp.net, annotations, mschart

我正在使用 asp.net 3.5 图表控件并在没有数据时显示消息。我用过这个方法

```
 if (dsAllDepartment.Tables[0].Rows.Count == 0)
            {
                System.Web.UI.DataVisualization.Charting.TextAnnotation annotation =
                new System.Web.UI.DataVisualization.Charting.TextAnnotation();

                annotation.Text =ddldepartment.SelectedItem.Text+"  विभाग के लिए  डाटा उपलब्ध नहीं है";
                annotation.X = 5;
                annotation.Y = 25;
                annotation.Font = new System.Drawing.Font("Arial", 12);
                annotation.ForeColor = System.Drawing.Color.Red;
                chAllDepartmentAllActivity.Annotations.Add(annotation);           
            } 
```

它的工作但问题是当文本太长时它穿过图表而不是出现在两行中......

![注释交叉图表的图表](../Images/8f6102b10da4b97e0709efe5fe487652.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:22:37.300

如果您可以在文本中明确换行，请尝试`\n`在“战略”位置插入。这样，您至少可以控制您手动编写的文本。

# java - 为什么我们需要在 Java 中进行多进程编程？

> ID：12454358
> 
> 赞同：7
> 
> 时间：2012-09-17T06:52:18.707
> 
> 标签：java, multithreading, multiprocessing

Java很好地支持多线程，Java也通过Process、ProcessBuilder和Runtime.exec()来支持多进程...

我清楚地知道线程和进程的定义，以及它们在操作系统概念上的区别。

但我想知道为什么以及在什么情况下我们需要在 Java 应用程序中使用多进程而不是多线程？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-17T06:58:13.890

在我的脑海中，使用`processes`作为补充的原因`threads`可能是

*   鲁棒性，一个失败的过程不会影响另一个
*   分离。启动多个 JVM 允许运行相同的类而不用担心干扰（例如，更容易使用非线程安全库）
*   通常能够启动外部命令（例如，非java）
*   线程亲和性。在某些操作系统中，它*可能会*通过多个 CPU 而不是线程共享的进程提供更好的缓存语义，尤其是在考虑线程共享工作集时。

尽管如此，在大多数应用程序`threading`中，由于内存原因、易于生成和（相对）简单易用性，它仍然是首选工具。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-09-17T06:59:14.150

不一定将进程视为线程的替代品。java中的进程是执行外部命令的便捷方式。它们在一般并行场景中并没有那么有用，因为它们启动和同步很麻烦。

它们的另一个很好的用途是隔离可能不会终止或导致堆栈溢出的本机代码（或您无法控制的任何其他代码）。如果这要在一个线程内运行，它可能会导致整个过程停止。相反，您可以生成一个新进程，然后强行杀死它，而不必担心太多。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-17T06:56:12.733

当同步不是问题时，您可能需要它，即不干扰相同数据的进程，但您需要同时收集这些进程的输出，这意味着您需要并行运行它们，尽管它们完全不同过程。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-17T07:00:51.377

JVM 中没有失控保护。

如果您有一个不会停止的线程，那么强制停止它的唯一方法是让操作系统杀死它的 JVM。通过拥有单独的进程，您可以保持应用程序的其余部分运行。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-07-07T18:03:45.233

这取决于，没有简单的答案。根据 OS/JVM，线程和进程可能意味着不同的事物，并且可能具有不同的隔离级别。

**为什么有能力同时使用？** *这是一个例子*

考虑一个场景，当您必须使用一些非线程安全（或不提供保证）的遗留或第三方本机 (C++) 库时。我想如果您必须简化服务器以利用大量处理器。多进程架构会更合适。

**隔离**

*   如果您尝试使用多线程，您可能会遇到同步、死锁、活动锁等问题。
*   如果您使用多进程架构，您将在内存访问方面保证一定程度的隔离。你可以

**错误处理**

*   如果其中一个多进程组件发生故障，您更有可能能够恢复并可能用另一个进程进行补偿，而不是在启动进程中使整个 JVM 停机。尽管有办法处理和防止这种情况，但将其包装在一个独立的过程中会让你的生活更轻松。 *如果你曾经不得不针对一些写得很糟糕的古代外星人本地库进行防御性编码？你会明白我的意思。*

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-17T08:38:57.317

如果你需要运行一个不是JVM但可以使用o/s命令行运行的程序，那么你不能将它作为线程运行，而只能作为进程运行。

# python - 从对象派生的类定义

> ID：12454361
> 
> 赞同：0
> 
> 时间：2012-09-17T06:52:38.123
> 
> 标签：python, oop, class, object

> **可能重复：**
> [Python 中的旧样式和新样式类](https://stackoverflow.com/questions/54867/old-style-and-new-style-classes-in-python)
> [python 类继承对象](https://stackoverflow.com/questions/4015417/python-class-inherits-object)

有什么区别

```
class foo: 
```

和

```
class foo(object): 
```

谁能解释为什么我们在类定义中使用对象？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T06:56:58.473

在 Python 2.x 中，第一个声明是旧式类，第二个版本是新式类。您应该始终对新代码使用新型类。

在 Python 3 中，所有类都是新式的，所以没有区别。

# php - Php、Spl、FilterIterator 行为

> ID：12454368
> 
> 赞同：1
> 
> 时间：2012-09-17T06:53:21.360
> 
> 标签：php, spl, filter-iterator

我试图理解 FilterIterator 在[This Code](http://pastebin.com/bqfCzakX)的行为，我试图理解动作序列，我不明白为什么如果你尝试打印**current()**值它不会工作，除非你使用**next()**或**rewind()**例如之前：

```
// Please take a look at the link before
echo $cull->current(); // wont work
$cull->next(); or $cull->rewind(); then echo $cull->current(); // work 
```

现在我不知道我必须“刷新”“指针”才能打印元素，如果有人可以向我解释一下动作序列，它会变得更清晰，谢谢大家，祝你有美好的一天。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-14T21:42:45.800

这是我在这里问的同一个问题，尽管听起来不同： [为什么我必须倒带 IteratorIterator](https://stackoverflow.com/questions/2458955/why-must-i-rewind-iteratoriterator) （你的 CullingIterator 是一个 FilterIterator，它是一个 IteratorIterator）。

阅读接受的答案和评论，但总结是 IteratorIterator 在 php 源代码中的编写方式在功能上建模如下：

```
class IteratorIterator {
    private $cachedCurrentValue;
    private $innerIterator;
    ...
    public function current() { return $this->cachedCurrentValue; }
    public function next() {
        $this->innerIterator->next();
        $this->cachedCurrentValue = $this->innerIterator->current();
    }
    public function rewind() {
        $this->innerIterator->rewind();
        $this->cachedCurrentValue = $this->innerIterator->current();
    }
} 
```

重要的部分是当您调用 current() 时，不会从内部迭代器中检索该值，而是在其他时间检索该值（并且构造函数不是其中之一）。

就个人而言，我认为这是一个错误的边界，因为它是出乎意料的并且可以解决，而不会引入不需要的行为或性能问题，但是哦，好吧。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T06:58:21.643

恕我直言，如果您不调用`next()`或在第一次`rewind`访问之前`current()`，内部迭代器指针未设置为第一个元素......

常见的情况是`while($it->next())`AFAIK！

# javascript - 将 viewbag 转换为 javascript 数组

> ID：12454371
> 
> 赞同：5
> 
> 时间：2012-09-17T06:53:33.607
> 
> 标签：javascript, asp.net-mvc, arrays, viewbag

我想将 ViewBag.mytags 中的数据获取到 Javascript 数组，但我无法做到这一点

```
$(function () {
    var sampleTags = new Array();
    var array = @Html.Raw(Json.Encode(@ViewBag.mytags));
    for(var i =0; i<array.length;i++){
        sampleTags[i] = array[i];
    }  
    $('#singleFieldTags').tagit({
        availableTags: sampleTags,
        singleField: true,
        singleFieldNode: $('#mySingleField')
    });
} 
```

这是我的控制器

```
ViewBag.mytags = mp3.TagSuggestion(); 
```

这是我的模特

```
public IQueryable<string> TagSuggestion() 
{ 

    IQueryable<string> tabs = from s in db.tblTags select s.Title; 

    return tabs; 

} 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-17T07:06:52.147

请按照这些步骤

```
public IList<string> TagSuggestion() 
{ 
    IQueryable<string> tabs = from s in db.tblTags select s.Title; 
    return tabs.toList(); 
} 
```

在 MVC 控制器内部：

```
ViewBag.mytags = mp3.TagSuggestion().toList(); 
```

鉴于：

```
<script>
    $(function () {
        var sampleTags = new Array();
        var array = @Html.Raw(Json.Encode(@ViewBag.mytags));
        for(var i =0; i<array.length;i++){
            sampleTags[i] = array[i];
        }  

        $('#singleFieldTags').tagit({
            availableTags: sampleTags,
            singleField: true,
            singleFieldNode: $('#mySingleField')
        });
    });
</script> 
```

# jasper-reports - JR Server：如何允许用户输入时间参数以在报表中分组数据

> ID：12454376
> 
> 赞同：0
> 
> 时间：2012-09-17T06:54:00.720
> 
> 标签：jasper-reports, jasperserver

我是*JasperReports Server*的新手。

我有一份按时间间隔分组的报告。

我想用户输入以分钟、小时或天为单位对数据进行分组。根据用户输入，报表必须相应地对记录进行分组。

我无法弄清楚方法。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-23T05:54:45.937

创建一个输入控件“p_days”并在查询的选择语句中添加这一行

```
 SELECT days,hours,minutes,
 if($P{p_days} is null, days, hours) p_groupby
 FROM table_name
 GROUP BY p_groupby
 ORDER BY p_groupby 
```

但这只会工作几天和几个小时。

# iphone - 在 iOS 上，自定义视图不会动画？

> ID：12454379
> 
> 赞同：4
> 
> 时间：2012-09-17T06:54:08.667
> 
> 标签：iphone, ios, uiview, core-animation, uiviewanimation

在新的单一视图应用程序中，以下代码：

```
- (void)viewDidAppear:(BOOL)animated {
    self.fooView = [[UIView alloc] initWithFrame:CGRectMake(100, 100, 200, 200)];
    self.fooView.backgroundColor = [UIColor yellowColor];
    [self.view addSubview:self.fooView];

    [UIView animateWithDuration:2 animations:^{
        self.fooView.backgroundColor = [UIColor blueColor];
    }];
} 
```

将黄色背景设置为蓝色。`fooView`只是：

```
@property (strong, nonatomic) UIView *fooView; 
```

但是如果定义了自定义视图类`FooView`，并且我将上面的代码替换`UIView`为`FooView`，并且还定义了一个空`-drawRect`的 for `FooView`，那么将没有动画 - 背景立即变为蓝色。

使用`[UIView animateWithDuration: ...]`or没有区别`[FooView animateWithDuration: ...]`——它不是动画。

如果 inside `-drawRect`，我调用`[super drawRect:rect];`，那么它是同一件事：没有动画。

如果我更改`drawRect`为`drawRect2`，或者如果我删除了整个方法，那么动画将起作用。

（并且`-drawRect`可能需要，例如，如果我们需要在自定义视图 FooView 中绘制一个圆圈怎么办？）

这是为什么？除了给出如何使它工作的解决方案之外`-drawRect`，请解释发生了什么使它没有动画？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T17:21:59.047

drawRect 的存在：改变了 UIView 的操作方式。你应该只在绝对必要的时候使用 drawRect: 并且你不应该有一个空的 drawRect: 实现。

如果 -drawRect: 方法存在于您的子类中，那么 UIView 必须先做一些事情才能调用此方法。也就是说，它必须分配一个可能很昂贵的后备存储，您的自定义绘图将出现在其中，并且它必须用背景颜色填充这个后备存储。

然后 UIView 将调用您的 drawRect: 实现以对后备存储进行任何自定义绘图，然后将后备存储交给 GPU。只有在所有这些之后，您的动画块才会开始运行。

因此，在您的动画开始时，代表您的自定义 UIView 的后备存储已经被绘制了新的背景颜色。

如果您的 UIView 子类没有 drawRect: 方法，则视图没有后备存储。背景颜色由 GPU 直接处理，它可以非常有效地为颜色之间的过渡设置动画。

空的 UIView 对象（没有 drawRect: 实现）相当轻量级。您的自定义视图应由多个子视图组成，具体取决于您要实现的动画效果。

例如，UITableViewCell 类由许多子视图组成。UITableViewCell 本身就是一个 UIView。它包含一个背景视图和一个选定的背景视图。最重要的是内容视图，内容视图内部是各种文本标签和图像视图。所有这些视图结合起来生成您在常规 UITableView 中看到的选择和调整大小动画。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T12:32:06.913

使用“CATransition”类。你必须做动画。使用这种方法

+(CAAnimation *)setAnimation{}

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-17T12:45:47.600

在动画块中使用以下行

**[self.view addSubview:self.fooView];**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-19T07:34:04.293

取而代之的是，我们必须创建一个新类并使用 CATransition 并使用此类方法 '+(CAAnimation *)setAnimation'。我们必须为此创建一个对象并调用何时发生转换

# firefox - target="_blank" 在 Firefox 中不起作用？

> ID：12454382
> 
> 赞同：6
> 
> 时间：2012-09-17T06:54:47.543
> 
> 标签：firefox, target

target="_blank" 不适用于 Firefox `<a href="login.php" target="_blank" onclick="javascript:window.close();" > <img src="images/loginto-apply-but.gif" border="0"/> </a>`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-17T11:04:14.337

改用下面。

```
<a href="#" onclick="window.open('login.php','_blank');window.close();return false">
  <img src="images/loginto-apply-but.gif" border="0"/>
</a> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-17T07:03:09.763

这不起作用，因为您正在调用 Javascript 事件来关闭当前窗口，并且在启动“_blank”以访问您的链接之后。您必须创建一个 Js 方法来启动您的链接并在关闭当前窗口后。

# iphone - 在uitableview中间插入单元格

> ID：12454386
> 
> 赞同：0
> 
> 时间：2012-09-17T06:55:08.447
> 
> 标签：iphone, objective-c, ios, ipad, uitableview

在我的 ipad 应用程序中，我需要拖放 a`UIButton`来插入一个单元格。我设法通过 touchupinside 事件拖动一个按钮并插入一个单元格。它适用于以下代码 -

```
//button1 is initially placed in a view called scrollview
[button1 addTarget:self action:@selector(imageMoved:withEvent:) forControlEvents:UIControlEventTouchDragInside];

[button1 removeTarget:self action:@selector(insertcell) forControlEvents:UIControlEventTouchUpInside];

CGPoint pointfordeterminingrow;

- (IBAction) imageMoved:(UIButton *) sender withEvent:(UIEvent *) event {

    CGPoint point = [[[event allTouches] anyObject] locationInView:self.view];
    UIControl *control = sender;
    control.center = point;

    pointfordeterminingrow=point;   // point where the button is hovering now

    if ([sender state] == UIGestureRecognizerStateBegan) {

        [self.view addSubview:sender];

    }

    if ([sender state] == UIGestureRecognizerStateChanged) {

        [scrollview addSubview:sender];

    }

    if ([sender state] == UIGestureRecognizerStateEnded) {

        [scrollview addSubview:sender];

    }

}

- (int)rowAtPoint:(CGPoint)point {

    NSIndexPath* newIndexPath = [MainTableView indexPathForRowAtPoint:point];
    return newIndexPath == nil ? [items count] : newIndexPath.row;

     //items is a mutable array has the content of each cell
}

-(void)insertcell {

    int row = [self rowAtPoint:pointfordeterminingrow];

    NSIndexPath* newIndexPath = [NSIndexPath indexPathForRow:row inSection:0];

    [self insertRowsAtIndexPaths:[NSArray arrayWithObject:[NSIndexPath                 indexPathForRow:newIndexPath.row inSection:0]] withRowAnimation:UITableViewRowAnimationFade];
} 
```

这些代码在 indexpath 上插入一个单元格，在该单元格上方放置按钮 //touchuped 方法被调用。

我的问题是：

我得到的“newIndexPath”是一个数字（表格视图中的行），按钮被放置在该数字上。这种“insertcell”方法在 tableview 不滚动的情况下工作正常，

当 TableView 滚动时，“rowAtPoint”返回一个数字，该数字是 indexpath 处的行，到目前为止是可见的。

换句话说，如果按钮被放在 indexpath 58 上方并且如果上面隐藏了 50 个单元格（通过滚动），我得到数字 8，（不是 58）

因此，当在 indexpath 58 处放置按钮时，会在 INDEXPATH 8 处插入一个单元格。

我需要建议以在某个点在 tableview 中获取 EXACT indexpath。前提是“点”是 self.view 中的 CGPoint。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:08:35.160

试试这个：

```
int row = [self rowAtPoint:pointfordeterminingrow];

[myTableView visibleCells];  // call this first to avoid possible iOS bug in next statement
NSArray *visIndexPaths = [myTableView indexPathsForVisibleRows]; 

NSIndexPath* newIndexPath = [visIndexPaths objectAtIndex:row]; 
```

# silverlight - Silverlight 4.0 中的 DataGrid 标题样式

> ID：12454394
> 
> 赞同：0
> 
> 时间：2012-09-17T06:55:54.417
> 
> 标签：silverlight, silverlight-4.0, silverlight-3.0, silverlight-5.0

**我想像下面的链接一样设置数据网格的标题。**

[Datagrid 中 HeaderColumn 中的样式](https://stackoverflow.com/questions/12420886/style-in-headercolumn-in-datagrid)

**我在我的代码中使用了 DataGridColumnHeadersPresenter。**

**请参阅我的以下代码：**

```
 <Style x:Key="XYZ" TargetType="sdk:DataGridColumnHeadersPresenter" >
         <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="sdk:DataGridRowGroupHeader">
                    <Border x:Name="ButtonBorder" 
                        CornerRadius="0,0,0,0" 
                        BorderThickness="0"  
                        BorderBrush="Transparent">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1">
                                <GradientBrush.GradientStops>
                                    <GradientStopCollection>
                                        <GradientStop Color="#555" Offset="0.0"/>
                                        <GradientStop Color="#000" Offset="0.8"/>
                                    </GradientStopCollection>
                                </GradientBrush.GradientStops>
                            </LinearGradientBrush>
                        </Border.Background>
                        <ItemsPresenter/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="BreakGridStyle" TargetType="sdk:Datagird">
        <Setter Property="HeadersVisibility" Value="Column" />
        <Setter Property="AutoGenerateColumns" Value="False" />
        <Setter Property="Width" Value="Auto" />           
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="sdk:DataGrid">
                    <Grid>
                        <StackPanel>
                            <sdk:DataGridColumnHeadersPresenter Name="ABC" Style="{StaticResource XYZ}" />
                            <ItemsPresenter/>
                        </StackPanel>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style> 
```

**但我得到以下错误：**

**在类型“System.Windows.Controls.Primitives.DataGridColumnHeadersPresenter”**中找不到属性“**模板”。**

 **如何解决这个问题以及如何实现我的数据网格的列样式，如上面的链接**

# arrays - 如何使用文本框更新数组列表

> ID：12454396
> 
> 赞同：0
> 
> 时间：2012-09-17T06:55:59.877
> 
> 标签：arrays, json, algorithm, hyperlink, event-handling

我使用 JSON 制作了一个数组列表并将其显示为链接。现在，我在列表下方有文本框，如果单击它，数组列表项将出现在其中。如果我在文本框上更改数组列表项的值并单击保存，我将如何更新它，以便即使刷新页面，新数据也应该出现在列表中而不是旧数据中。

顺便说一句，数组的代码，显示数组，文本框和按钮都在同一个html页面中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-04T00:03:28.680

> 首先，您可以在数组对象上使用 JSON.stringify 并将其放入文本框中。手动编辑后，使用 JSON.parse 将其应用于数组。

# visual-studio - posh-git 不在包管理器控制台中显示分支

> ID：12454399
> 
> 赞同：3
> 
> 时间：2012-09-17T06:56:05.917
> 
> 标签：visual-studio, powershell, visual-studio-2012, nuget, posh-git

我为 Windows PowerShell 安装了 posh-git，它在 shell 中运行良好。但是，它也应该在包管理器控制台中工作。它确实有效，但不像普通的 powershell 窗口那样显示当前分支。

我按照[本教程](http://blogs.lessthandot.com/index.php/DesktopDev/MSTech/posh-git-in-the-nuget)进行操作，一切都很好，除了我的包管理器控制台看起来不像他的分支名称。

[![](../Images/737a1c8803dfaadcce7037b6045f56f7.png)](https://i.imgur.com/2YtVf.png)

您可以`PM>`在 VS 2012 包管理器控制台中看到所有内容。

[![](../Images/7624e3f67407f6c81f40f7a014a3e49d.png)](https://i.imgur.com/hpadh.png)

但它在 powershell 中运行良好。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-19T01:22:43.367

Nuget 有一个单独的配置文件 (~\Documents\WindowsPowerShell\NuGet_profile.ps1)，因此它不会选择安装在默认配置文件中的 posh-git。

让 posh-git 工作的最简单方法是`install.ps1`从包管理器控制台运行。或者，如果您总是希望您的配置文件匹配，您可以在 Nuget 中加载您的默认配置文件：

```
$PROFILEDIR = (Split-Path -Path $MyInvocation.MyCommand.Definition -Parent)
Push-Location $PROFILEDIR

. .\Microsoft.PowerShell_profile.ps1

Pop-Location 
```

（编辑为包括切换到配置文件目录；捕获位置`$PROFILEDIR`是可选的，但我觉得它很方便。）

# android - Android进度条出现异常

> ID：12454402
> 
> 赞同：0
> 
> 时间：2012-09-17T06:56:14.530
> 
> 标签：android, android-webview, android-progressbar

我正在使用 Android 中的网络视图，并尝试添加进度条，这是我的代码：

```
case R.id.studentsite:
            getWindow().requestFeature(Window.FEATURE_PROGRESS);
            setContentView(R.layout.webview);
            WebView wv1 = (WebView)findViewById(R.id.webview);
            WebSettings ws1 = wv1.getSettings();
            final Activity activity = this;
            wv1.setWebChromeClient(new WebChromeClient() {
              public void onProgressChanged(WebView view, int progress) {
                // Activities and WebViews measure progress with different scales.
                // The progress meter will automatically disappear when we reach 100%
                activity.setProgress(progress * 1000);
              }
            });
            wv1.setWebViewClient(new WebViewClient() {
              public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {
                Toast.makeText(activity, "Oh no! " + description, Toast.LENGTH_SHORT).show();
              }
            });
            wv1.getSettings().setBuiltInZoomControls(true);
            ws1.setJavaScriptEnabled(true);
            wv1.setWebViewClient(new WebViewClient());
            wv1.loadUrl("http://www.studentsite.gunadarma.ac.id");
            break; 
```

问题是我在 LOGCAT 上遇到了这样的异常：

`09-17 13:51:34.487: ERROR/AndroidRuntime(1331): FATAL EXCEPTION: main 09-17 13:51:34.487: ERROR/AndroidRuntime(1331): android.util.AndroidRuntimeException: requestFeature() must be called before adding content 09-17 13:51:34.487: ERROR/AndroidRuntime(1331): at com.android.internal.policy.impl.PhoneWindow.requestFeature(PhoneWindow.java:181) 09-17 13:51:34.487: ERROR/AndroidRuntime(1331): at com.ugsimplify.ugweb.callintent(ugweb.java:89) 09-17 13:51:34.487: ERROR/AndroidRuntime(1331): at com.ugsimplify.ugweb$1.onClick(ugweb.java:29) 09-17 13:51:34.487: ERROR/AndroidRuntime(1331): at android.view.View.performClick(View.java:2485) 09-17 13:51:34.487: ERROR/AndroidRuntime(1331): at android.widget.CompoundButton.performClick(CompoundButton.java:99) 09-17 13:51:34.487: ERROR/AndroidRuntime(1331): at android.view.View$PerformClick.run(View.java:9080) 09-17 13:51:34.487: ERROR/AndroidRuntime(1331): at android.os.Handler.handleCallback(Handler.java:587) 09-17 13:51:34.487: ERROR/AndroidRuntime(1331): at android.os.Handler.dispatchMessage(Handler.java:92) 09-17 13:51:34.487: ERROR/AndroidRuntime(1331): at android.os.Looper.loop(Looper.java:123) 09-17 13:51:34.487: ERROR/AndroidRuntime(1331): at android.app.ActivityThread.main(ActivityThread.java:3647) 09-17 13:51:34.487: ERROR/AndroidRuntime(1331): at java.lang.reflect.Method.invokeNative(Native Method) 09-17 13:51:34.487: ERROR/AndroidRuntime(1331): at java.lang.reflect.Method.invoke(Method.java:507) 09-17 13:51:34.487: ERROR/AndroidRuntime(1331): at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839) 09-17 13:51:34.487: ERROR/AndroidRuntime(1331): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597) 09-17 13:51:34.487: ERROR/AndroidRuntime(1331): at dalvik.system.NativeStart.main(Native Method)`

你知道如何解决它吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:06:08.623

`Oncreate`之后在下面的行中调用`super.oncreate`

```
getWindow().requestFeature(Window.FEATURE_PROGRESS); 
```

您在按钮单击中调用它，您已经为其设置了内容。进度条功能只能在第一次 setContentView 之前请求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:05:49.837

```
 Hi Here is problem that you have call.

  getWindow().requestFeature(Window.FEATURE_PROGRESS); before  setContentView(R.layout.webview);
    It should be call below the setContentView(R.layout.webview);

    Answer :-

                setContentView(R.layout.webview);
    getWindow().requestFeature(Window.FEATURE_PROGRESS); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T07:06:43.350

根据您在设置 contentView 后使用 requestFeature 的 logcat。

您发布的代码部分是完美的。

我怀疑您已经在其他地方使用过 setContentView，也许是在 onCreate 方法中。

# 3d - 网格、子网格、材质、子材质、纹理如何相互关联

> ID：12454403
> 
> 赞同：1
> 
> 时间：2012-09-17T06:56:15.733
> 
> 标签：3d

困扰我的是，我无法弄清楚网格、材质、纹理与模型的组成**究竟是如何相关的。**

我想要的只是快速解释它们之间的关系。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-17T10:20:55.353

简而言之：

**网格**- 它只是您想要绘制的一些对象，例如汽车。它可以由许多子对象构建，但为了简单和易用，它被实现为一个包含所有您需要的对象。例如：当您想将汽车放在您的水平面上时，您通常不想单独放置每个车轮/轮胎 - 所以您只有一个网格：“汽车”。

**子网格**- 当您渲染一些多边形列表时，您需要在开始渲染之前设置一些执行操作的方式（这称为材质）。这意味着您在单个渲染操作期间不能使用多个材质。因为汽车由许多不同的材料制成，例如玻璃、金属等，所以您需要将其划分为子网格。您将拥有用于窗户、轮胎、车轮和车身的子网格 - 它们中的每一个都将使用不同的材料，如玻璃、橡胶、铝等，并且每个都将在不同的渲染操作中进行渲染，并选择不同的材料。因此，材质定义不会存储在网格对象中，而是存储在每个子网格中。

**材质**- 它是“向屏幕添加新三角形时要做什么”的定义，它可能因引擎和底层 API 版本而异，但它只存储您可能为材质设置的所有参数，例如不透明度、光泽度、颜色（纹理)、像素/顶点着色器等。

**纹理**- 材质可以使用图像作为输入 2D/3D 数据。当您阅读您的材质定义时，它定义了图像文件名，图像被读取并放入您的 GPU 并分配了一些 ID。稍后，当您选择材质时，GPU 将通过其 ID 使用正确的纹理，我认为这就是您现在需要知道的全部内容 :)

我无法为您提供子材料，因为我认为它高度依赖于引擎，如果您告诉我们您在使用什么，我们可能会告诉您更多信息。

# android - 拦截 Android 应用发送的 HTTP 请求

> ID：12454405
> 
> 赞同：21
> 
> 时间：2012-09-17T06:56:23.873
> 
> 标签：android, http

我有申请。我知道所有 url、参数、http 请求类型等（这是我的应用程序）。

如何拦截来自应用程序的所有请求？例如 - 我按下了一个按钮，可以看到对服务器的请求文本。

任务 - 隐藏潜在黑客的请求并阻止他代表应用程序执行请求。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-31T08:17:23.213

您并没有真正说明*为什么*要在您的问题中这样做，但对于其他人：想要这样做的最佳动机是因为您害怕您的应用程序成为攻击者的目标，因为他们以某种方式强迫您意图（或其他 RPC 接口）行为不端。

我可以说做到这一点的最好方法是为您的应用程序提供一个尽可能有限的接口：不要允许面向公众的意图或 RPC 接口操纵您的应用程序以发送您不想要的信息。

此外，您可以记录（可能通过应用程序中的包装器到 HTTP 设施）发送到服务器的 HTTP 请求。问题是，一旦您将信息记录在客户的设备上，您将*如何*处理它。能够正确识别应用程序何时做“坏”的事情几乎是不可能的，并且预设了对“坏”的定义，所以这是错误的追求。

因此，即使您可以登录，即使您可以使用 HTTPS，我也会说您应该调查攻击者可以用来操纵您的应用程序以将数据发送到您的 Web 服务的所有途径：从您实际发送数据的地方开始并通过应用程序向后工作！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-31T08:03:07.490

据我了解，您的问题包括两个问题：

**如何检查服务器和客户端之间的流量。**

随着努力的增加，有几种可能性：

*   **日志记录**：因为它是您的应用程序，您可以在调用 http 请求之前插入包含查询和参数的日志记录语句。
*   **监听服务器端**：因为它是您的应用程序，您也可以控制服务器。使用[tcpdump](http://www.tcpdump.org/)之类 的工具，您应该能够转储流量并稍后对其进行分析（例如使用[Wireshark](http://www.wireshark.org/)）
*   **监听客户端**：如果您想拦截客户端中或“旁边”的流量，您可以尝试使用[burpsuite](http://www.portswigger.net/burp/)使用代理或直接在您的 WIFI 中拦截流量。

**如何确保只有您的客户可以向服务器发出请求**。我建议使用带有客户端身份验证的 https。您必须使用您的应用程序推出客户端证书，然后您的服务器可能会检查您的客户端的真实性。[在这里](http://www.codeproject.com/Articles/326574/An-Introduction-to-Mutual-SSL-Authentication)，您可以找到相互 ssl 身份验证的一般介绍。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-05-27T06:44:51.943

您可以加密消息以防止黑客攻击。如果客户端和服务器都在您的控制之下，那么您可以使用任何密钥加密技术。这仅适用于私有 HTTP 客户端（如 Android 应用程序）。但是对于像浏览器这样的通用 HTTP 客户端，您应该使用 HTTPS（HTTP + SSL）而不是 HTTP。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-02-17T16:38:57.500

扩展`WebViewClient`，我重写了方法`shouldOverrideUrlLoading`如下：

```
@Override
public boolean shouldOverrideUrlLoading(WebView view, String url) {

    String mainPage = "https://www.secureSite.com/myData/";

    if (url.startsWith(mainPage)) {
        view.loadUrl(url);
        return false;

    } else {

         //some dialog building code here

         view.stopLoading();
         return false;
    }
} // end-of-method shouldOverrideUrlLoading 
```

所以这段代码的重点是它评估你的应用程序开始加载的每个 URL。如果用户找到一个链接或尝试加载他们自己的不属于您的域/指定 URL 的 URL，那么它将不匹配并且不会加载。

但是在您的 android manifest 中，您应该将`android:exported`属性设置为`false`以防止其他应用程序使用它。

[从这里](https://developer.android.com/guide/topics/manifest/service-element.html)引用以下内容：

> ***android:exported*** 其他应用程序的组件是否可以调用服务或与之交互 - 如果可以，则为“true”，否则为“false”。当值为“false”时，只有相同应用程序的组件或具有相同用户ID的应用程序才能启动服务或绑定到服务。
> 
> 默认值取决于服务是否包含意图过滤器。没有任何过滤器意味着它只能通过指定其确切的类名来调用。这意味着该服务仅供应用程序内部使用（因为其他人不知道类名）。所以在这种情况下，默认值为“false”。另一方面，存在至少一个过滤器意味着该服务是供外部使用的，因此默认值为“true”。
> 
> 此属性不是限制服务向其他应用程序公开的唯一方法。您还可以使用权限来限制可以与服务交互的外部实体（请参阅权限属性）。

这个属性也可以用在`Activity`and`Provider`中。 [这里](https://developer.android.com/guide/topics/manifest/activity-element.html)（活动）和[这里](http://docs.huihoo.com/android/4.4/guide/topics/manifest/provider-element.html)（提供者）是参考，但它与`Service`描述几乎一字不差，只是替换`Activity`或`Provider`替换`Service`。

# regex - 如何仅将字符串的特定部分驼峰化？

> ID：12454407
> 
> 赞同：1
> 
> 时间：2012-09-17T06:56:41.670
> 
> 标签：regex, vim

我有一个这样的 CSV 文件：

```
"","LESCHELLES","","LESCHELLES"
"","SAINTE CROIX DE VERDON","","SAINTE CROIX DE VERDON"
"","SERRE CHEVALIER","","SERRE CHEVALIER"
"","SAINT JUST D'ARDECHE","","SAINT JUST D'ARDECHE"
"","NEUVILLE SUR VANNES","","NEUVILLE SUR VANNES"
"","ESCUEILLENS ET SAINT JUST","","ESCUEILLENS ET SAINT JUST"
"","PAS DES LANCIERS","","PAS DES LANCIERS"
"","PLAN DE CAMPAGNE","","PLAN DE CAMPAGNE" 
```

我想这样转换它：

```
"","Leschelles","","LESCHELLES"
"","Sainte Croix De Verdon","","SAINTE CROIX DE VERDON","STE CROIX DE VERDON","93"
"","Serre Chevalier","","SERRE CHEVALIER","SERRE CHEVALIER","93"
"","Saint Just D'Ardeche","","SAINT JUST D'ARDECHE"
"","Neuville Sur Vannes","","NEUVILLE SUR VANNES"
"","Escueillens Et Saint Just","","ESCUEILLENS ET SAINT JUST","ESCUEILLENS ET ST JUST","91"
"","Luc","","LUC"
"","Pas Des Lanciers","","PAS DES LANCIERS","PAS DES LANCIERS","93"
"","Plan De Campagne","","PLAN DE CAMPAGNE","PLAN DE CAMPAGNE","93" 
```

这会很好。更好的是：小写所有“完整”单词，如`de`, `d'`,和. 这将给出：`et``sur``des`

```
"","Leschelles","","LESCHELLES"
"","Sainte Croix de Verdon","","SAINTE CROIX DE VERDON","STE CROIX DE VERDON","93"
"","Serre Chevalier","","SERRE CHEVALIER","SERRE CHEVALIER","93"
"","Saint Just d'Ardeche","","SAINT JUST D'ARDECHE"
"","Neuville sur Vannes","","NEUVILLE SUR VANNES"
"","Escueillens et Saint Just","","ESCUEILLENS ET SAINT JUST","ESCUEILLENS ET ST JUST","91"
"","Luc","","LUC"
"","Pas des Lanciers","","PAS DES LANCIERS","PAS DES LANCIERS","93"
"","Plan de Campagne","","PLAN DE CAMPAGNE","PLAN DE CAMPAGNE","93" 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T07:21:02.190

Python有[`title()`](http://docs.python.org/library/stdtypes.html#str.title)：

> 返回字符串的标题版本，其中单词以大写字符开头，其余字符为小写。
> 
> 该算法使用一个简单的独立于语言的单词定义作为一组连续的字母。该定义在许多情况下都有效，但这意味着缩写和所有格中的撇号形成单词边界，这可能不是预期的结果：

```
"they're bill's friends from the UK".title() "They'Re Bill'S Friends From The Uk" 
```

> 可以使用正则表达式构造撇号的解决方法：

```
 import re
 def titlecase(s):
     return re.sub(r"[A-Za-z]+('[A-Za-z]+)?",
                   lambda mo: mo.group(0)[0].upper() +
                              mo.group(0)[1:].lower(),
                   s)

 titlecase("they're bill's friends.") "They're Bill's Friends." 
```

* * *

更新：这是法语问题的解决方案：

```
import re, sys 

def titlecase(s):
    return re.sub(r"[A-Za-z]+('[A-Za-z]+)?",
        lambda mo: mo.group(0)[0].upper() +
                   mo.group(0)[1:].lower(),
        s)  

def french_parse(s):
    p = re.compile(
        r"( de la | sur | sous | la | de | les | du | le | au | aux | en | des | et )|(( d'| l')([a-z]+))",
        re.IGNORECASE)
    return p.sub(
        lambda mo: mo.group().find("'")>0
                   and mo.group()[:mo.group().find("'")+1].lower() +
                       titlecase(mo.group()[mo.group().find("'")+1:])
                   or (mo.group(0)[0].upper() + mo.group(0)[1:].lower()),
        s); 

for line in sys.stdin:
    s = line[20:len(line)-1]
    p = s.find('"')
    t = s[:p]
    # Just output to show which names have been modified:
    if french_parse( titlecase(t) ) != titlecase(t):
        print '"' + french_parse( titlecase(t) ) + '"' 
```

像这样启动它：

```
python thepythonscript.py < file.csv 
```

然后输出将是：

```
"Grenand les Sombernon"
"Touville sur Montfort"
"Fontenay en Vexin"
"Durfort Saint Martin de Sossenac"
"Monclar d'Armagnac"
"Ports sur Vienne"
"Saint Barthelemy de Beaurepaire"
"Saint Bernard du Touvet"
"Rosoy le Vieil" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T07:04:36.460

虽然您可以使用一些 vim 正则表达式魔术来解决这个问题，但我认为如果您使用您最喜欢的脚本语言解决问题，并使用`!`命令从 vim 中通过管道选择文本，它会更容易。这是 PHP 中的（未经测试的）示例：

```
#!/usr/bin/env php
<?php
$specialWords = array('de', 'd\'', 'et', 'du', /* etc. */ );
foreach (file('php://stdin') as $ville) {
    $line = ucwords($line);
    foreach ($specialWords as $w) {
        $line = preg_replace("/\\b$w\\b/i", $w, $line);
    }
    echo $line;
} 
```

使该脚本可执行并将其存储在您的`PATH`; 然后从 vim 中选择一些文本并用于`:'<,'>! yourscript.php`转换（或仅`:%! yourscript.php`用于整个缓冲区）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T08:04:21.353

csv.vim [ftplugin](http://www.vim.org/scripts/script.php?script_id=2830)有助于处理 CSV 文件。虽然它没有直接提供“在 N 列中替换”功能，但它可能会让您接近。至少您可以将列排列成整齐的块，然后对其应用简单的正则表达式或可视块选择。

但我认为使用更适合操作 CSV 文件的不同工具链可能比完全在 Vim 中执行此操作更可取。这还取决于它是一次性任务还是您经常这样做。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-17T10:06:30.767

这是一个单行 vim 命令。

```
%s/"[^"]*",\zs\("[^"]*"\)/\=substitute(substitute(submatch(0), '\<\(\a\)\(\a*\)\>', '\u\1\L\2', 'g'), '\c\<\(de\|d\|l\|sur\|le\|la\|en\|et\)\>', '\L&', 'g') 
```

我希望在前两个字段中没有双引号。

这个解决方案背后的想法是依赖于`:h :s\=`一旦找到就在第二个字段上执行一系列函数。这一系列的功能是：首先将每个单词改为TitleCase，然后将所有*连*字都小写。

# objective-c - Objective C中可变数量的方法参数 - 需要一个例子

> ID：12454408
> 
> 赞同：5
> 
> 时间：2012-09-17T06:56:45.837
> 
> 标签：objective-c, parameters, optional-parameters

来自[Objective C Programming Guide](http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/ObjectiveC/Chapters/ocObjectsClasses.html)（在“Object Messaging”部分下），

> 采用可变数量参数的方法也是可能的，尽管它们很少见。额外的参数在方法名称的末尾用逗号分隔。（与冒号不同，逗号不被视为名称的一部分。）在以下示例中，虚构的 makeGroup: 方法传递了一个必需参数（组）和三个可选参数：
> 
> [接收者makeGroup:group, memberOne, memberTwo, memberThree];

我试图创建这样一个方法，它显示一个错误

***“预期的 ';' 方法原型之后"***

当我尝试在我的接口文件（.h 文件）中声明以下函数时。

```
- (void) printMyClass: (int) x, (int) y, (int) z; 
```

谁能给出示例来创建这样的方法`makeGroup`

谢谢

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-09-17T07:32:14.023

你可以看到这个[链接](http://ioscoderef.blogspot.com/2012/09/creating-and-implementing-custom-method.html)。

在你的头文件中定义最后三个点的方法

```
-(void)yourMethods:(id)string1,...; 
```

在你的实现文件中写下方法体

```
-(void)yourMethods:(id)string1, ...{

    NSMutableArray *arguments=[[NSMutableArray alloc]initWithArray:nil];
    id eachObject;
    va_list argumentList;
    if (string1) 
    {
        [arguments addObject: string1];
        va_start(argumentList, string1); 
        while ((eachObject = va_arg(argumentList, id)))    
        {
             [arguments addObject: eachObject];
        }
        va_end(argumentList);        
     }
    NSLog(@"%@",arguments);
} 
```

现在调用你的方法

```
[self yourMethods:@"ab",@"cd",@"ef",@"gf",nil]; 
```

注意：记得在最后加上**nil**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:24:02.080

声明具有可变数量参数的方法的语法如下：

```
- (void) printMyClass: (int) x, ...; 
```

一个参数始终是所需的最小值，其他参数可以通过`va_arg`函数组访问。有关确切的详细信息，请参阅[本教程](http://www.numbergrinder.com/2008/12/variable-arguments-varargs-in-objective-c/)。

# iphone - 扩展 UIImageView 时发送到实例的无法识别的选择器

> ID：12454412
> 
> 赞同：1
> 
> 时间：2012-09-17T06:57:12.037
> 
> 标签：iphone, ios, ipad, uiimageview, selector

我已经搜索了所有类似的问题，但找不到答案。我对此完全感到困惑......我有一个扩展 UIImageView 的类。所以这是我的 .h 文件：

```
@interface Paper : UIImageView {
@public
    CGFloat drag;
}

@property (nonatomic, assign) CGFloat drag;
@end 
```

我`drag`在我的实现中正确合成。

现在，在我的 ViewController 中，我创建并初始化一个 Paper 对象，如下所示：

```
NSString *tempPath = [[NSBundle mainBundle] pathForResource:@"picture" ofType:@"png"];
UIImage *tempImage = [[UIImage alloc] initWithContentsOfFile:tempPath];
Paper *tempPaper = [[UIImageView alloc] initWithImage: tempImage]; 
```

该对象是正确创建的，我稍后可以将其显示为子视图和所有爵士乐，但是当我尝试在上面使用如下行之后立即更改我的自定义属性时：

```
tempPaper.drag = 1.0; 
```

或者

```
[tempPaper setDrag:1.0]; 
```

我得到`[UIImageView setDrag:]: unrecognized selector sent to instance`一个错误。我已经尝试了我发现的每一种不同的方法，但它不允许我为 Paper 类设置我的自定义属性（非 UIImageView 属性）的值。我错过了什么？我在这上面花了 2 个小时，这让我发疯了，我不明白有什么问题。

我也尝试过`drag`用 Paper 的`initWithImage`方法进行初始化，但它也不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T06:59:02.250

```
Paper *tempPaper = [[Paper alloc] initWithImage: tempImage]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:11:54.520

创建 Paper 类的对象而不是 UIImageView。

纸张 *tempPaper = [[纸张分配] initWithImage: tempImage];

# matlab - 为什么 Matlab 不使用交换但错误“内存不足”？

> ID：12454414
> 
> 赞同：4
> 
> 时间：2012-09-17T06:57:25.750
> 
> 标签：matlab, out-of-memory

我想知道为什么 Matlab 不使用交换，而是抛出错误“内存不足”？

Matlab不应该放慢速度而不是抛出“内存不足”吗？

这与Java有关吗？

**补充说**：

我知道“内存不足”意味着它的连续内存不足。交换没有连续的内存，或者？我很困惑...

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-17T08:24:48.823

这与 MATLAB 无关。当您尝试分配比硬件中更多的内存时会发生什么是操作系统特定的行为。

在 Linux 上，默认情况下，操作系统会“乐观地”分配您想要的几乎任何东西，即交换空间也被视为可分配内存。你会得到你想要的——没有 OOM 错误，但使用交换分配的数据计算速度很慢。此“功能”称为过度使用。您可以通过修改 Linux 中的过度使用设置来更改此行为（例如[，查看此处](http://linuxdevcenter.com/pub/a/linux/2006/11/30/linux-out-of-memory.html?page=2)以获取简要摘要）。

Overcommit 可能不是使用它来解决 MATLAB 中更大问题的最佳主意，因为整个操作系统开始运行非常缓慢。它绝对不能与有意识地在计算中使用硬盘的优化“核外”实现相提并论。

这就是它在 Linux 上的样子。我不知道如何更改 Windows 上的内存分配行为，但我怀疑您是否真的想这样做。你需要更多的内存。

而且您确实使事情变得混乱-交换与连续内存无关。操作系统分配的内存是“虚拟内存”，无论底层物理内存是否可以映射到连续页面，它都是连续的。

**编辑**对于使用磁盘空间作为额外内存的大型矩阵上的透明“核外”操作，您可能需要查看[VVAR fileexchange project](http://www.mathworks.com/matlabcentral/fileexchange/34276-vvar-class-a-fast-virtual-variable-class-for-matlab)。这个类伪装成一个普通的 MATLAB 类，但它对底层 HDD 文件进行操作。请注意，MATLAB 通常的[数组大小限制](http://www.mathworks.se/support/tech-notes/1100/1110.html)仍然适用。

# c# - 获取 FaultException.Detail.ErrorCode 和 FaultException.Detail.Message

> ID：12454416
> 
> 赞同：0
> 
> 时间：2012-09-17T06:57:34.447
> 
> 标签：c#, .net, winforms

我有一个程序。如果发生异常，我会在我的 Excel 工作表的单元格中打印异常消息。我可以打印 FaultException.Detail.ErrorCode 和 FaultException.Detail.Message 吗？我怎样才能拿到这两件事并打印出来？我发布了一个示例代码

```
public int CreateTask(int row)
        {
            try
            {
                Console.WriteLine("Invoking CreateTask method");
                Console.WriteLine("-----------------------------------");
                m_taskID = taskClient.CreateTask(m_tInstance);
                Console.WriteLine("Task create successfully:ID=" + m_taskID.ToString());
                Console.WriteLine("-----------------------------------");

                ExcelRecorder(null, row);
            }
            catch (Exception ex)
            {                
                ExcelRecorder(ex.Message, row);
            }
            finally
            {
                GC.Collect();
            }
            return m_taskID;
        } 
```

如何修改 ExcelRecorder() 方法以便可以获取 FaultException.Detail.ErrorCode 和 FaultException.Detail.Message？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:10:38.153

在现有子句上方添加此`catch`子句：

```
 catch (FaultException<COMException> fex)
        {                
            string msg = fex.Detail.Message;
            string code = fex.Detail.ErrorCode.ToString();
            ExcelRecorder(String.Concat(msg, " - ", code), row);
        } 
```

我认为您需要捕获异常`System.ServiceModel.FaultException<TDetail>`where `TDetail`is `COMException`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:18:19.553

我同意评论，您的问题确实需要更多代码才能正确回答，但是从查看您提供的内容来看，您的问题似乎是 ExcelRecorder 接受 Exception，而不是 FaultException，因此您无法访问其 Detail 属性写入您的电子表格。

根据代码中其他地方是否使用 ExcelRecorder，您始终可以修改 ExcelRecorder 的构造函数以采用 FaultException 对象，或创建第二个 ExcelRecorder 构造函数，该构造函数采用 FaultException 对象并适当地记录。

不过，我真的需要查看 ExcelRecorder 的代码以提供更多帮助。

# .net - Threading.Timer 回调未使用 Impersonation

> ID：12454417
> 
> 赞同：1
> 
> 时间：2012-09-17T06:57:41.530
> 
> 标签：.net, timer, impersonation

我在 IIS 中托管的 WCF 服务中使用 Threading.Timer。在 web.config 中，对 Windows 域用户启用了身份模拟。

线程计时器用于调用延迟数据库更新和发送电子邮件。

问题是，

在回调内部，当前线程的标识默认为 IIS 进程的标识。（而不是 web.config 文件中指定的模拟身份）

因此，在缺少模拟的情况下，我的数据库调用失败并出现“用户登录失败...”错误。（我的 sql 配置了“集成身份验证”）

有没有办法让我的回电与模拟身份一起工作？为什么 Timer 类没有在 CallBack 上模拟身份？

谢谢，

山姆。

# gwt - 管理控制台为空白

> ID：12454420
> 
> 赞同：0
> 
> 时间：2012-09-17T06:58:07.960
> 
> 标签：gwt, smartgwt

我正在尝试运行管理控制台，但单击管理按钮会打开一个空白浏览器，其中没有任何内容。我错过了什么？我查看了常见问题解答和论坛，但仍然无法解决问题。我有 server.properties 文件，并且已将 sqlserver.jar 添加到 lib

```
<?xml version="1.0" encoding="UTF-8"?>
<module rename-to='mysgwt'>
<!-- Inherit the core Web Toolkit stuff. -->
<inherits name='com.google.gwt.user.User' />
<inherits name="com.smartgwt.tools.SmartGwtTools" />
<inherits name="com.smartgwtpower.SmartGwtPower" />
<inherits name="com.smartgwtpower.tools.Tools" />

<!-- Specify the app entry point class. -->
<entry-point class='org.kai.client.MySGWT' />

<!-- Specify the paths for translatable code -->
<source path='client' />
<source path='shared' /> 
```

代码：

```
public class MySGWT implements EntryPoint {

private HLayout hLayout;

public void onModuleLoad() {

    if (!GWT.isScript()) {
        KeyIdentifier debugKey = new KeyIdentifier();
        debugKey.setCtrlKey(true);
        debugKey.setKeyName("D");
        Page.registerKey(debugKey, new KeyCallback() {
            public void execute(String keyName) {
                SC.showConsole();
            }
        });
    }

    GWT.log("init OnLoadModule()...", null);

    hLayout = new HLayout();

    IButton adminButton = new IButton("Admin Console");
    adminButton.addClickHandler(new ClickHandler() {
        public void onClick(ClickEvent event) {
            com.smartgwtpower.tools.client.SCPOWER.openDataSourceConsole  ();

        }
    });

    IButton visualButton = new IButton("Visual Console");
    visualButton.addClickHandler(new ClickHandler() {
        public void onClick(ClickEvent event) {
            com.smartgwtpower.tools.client.SCPOWER.openVisualBuilder();
        }
    });

    hLayout.setMembersMargin(20);
    hLayout.addMember(adminButton);
    hLayout.addMember(visualButton);

    hLayout.draw();
}
} 
```

代码：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
 <head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<link type="text/css" rel="stylesheet" href="MySGWT.css">

<title>MySGWT Project</title>

<script> var isomorphicDir = "mySGWT/sc/"; </script>

<script type="text/javascript" language="javascript" src="mysgwt/mysgwt.nocache.js"></script>
</head>

<body>

<!-- OPTIONAL: include this if you want history support -->
    <iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1' style="position:absolute;width:0;height:0;border:0"></iframe>

<!-- RECOMMENDED if your web app will not function without JavaScript enabled -->
<noscript>
  <div style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red;  background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
    Your web browser must have JavaScript enabled
    in order for this application to display correctly.
  </div>
</noscript>

 </body>
</html>` 
```

这是日食记录

```
log4j:WARN No appenders could be found for logger (org.apache.jasper.compiler.JspRuntimeContext).
log4j:WARN Please initialize the log4j system properly.
[WARN] Aliased resource:         file:/C:/myworkspace/mySGWT/war/mySGWT/sc/skins/Enterprise/images/button/button_Over_stretch.png==fil    e:/C:/myworkspace/mySGWT/war/mysgwt/sc/skins/Enterprise/images/button/button_Over_stretch.png
[WARN] Aliased resource:                         file:/C:/myworkspace/mySGWT/war/mySGWT/sc/skins/Enterprise/images/button/button_Over_stretch.png==fil    e:/C:/myworkspace/mySGWT/war/mysgwt/sc/skins/Enterprise/images/button/button_Over_stretch.png
[WARN] 404 - GET /mySGWT/sc/skins/Enterprise/images/button/button_Over_stretch.png (127.0.0.1)    1450 bytes 
```

# javascript - Javascript 无法在 IE 中提供正确的输出

> ID：12454428
> 
> 赞同：1
> 
> 时间：2012-09-17T06:58:29.853
> 
> 标签：javascript, internet-explorer

```
 <script>
// This would be the place to edit if you want a different
// Base32 implementation

var alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ012345'

/**
 * Build a lookup table and memoize it
 *
 * Return an object that maps a character to its
 * byte value.
 */

var lookup = function() {
    var table = {}
    // Invert 'alphabet'
    for (var i = 0; i < alphabet.length; i++) {
        table[alphabet[i]] = i
    }

    lookup = function() { return table }
    return table
}

// Functions analogously to Encoder

function Decoder() {
    var skip = 0 // how many bits we have from the previous character
    var byte = 0 // current byte we're producing

    this.output = ''

    // Consume a character from the stream, store
    // the output in this.output. As before, better
    // to use update().
    this.readChar = function(char) {
        if (typeof char != 'string'){
            if (typeof char == 'number') {
                char = String.fromCharCode(char)
            }
        }
        //char = char.toLowerCase()
        var val = lookup()[char]
        if (typeof val == 'undefined') {
            // character does not exist in our lookup table
            return // skip silently. An alternative would be:
            // throw Error('Could not find character "' + char + '" in lookup table.')
        }
        val <<= 3 // move to the high bits
        byte |= val >>> skip
        skip += 5
        if (skip >= 8) {
            // we have enough to preduce output
            this.output += String.fromCharCode(byte)
            skip -= 8
            if (skip > 0) byte = (val << (5 - skip)) & 255
            else byte = 0
        }

    }

    this.finish = function(check) {
        var output = this.output + (skip < 0 ? alphabet[bits >> 3] : '') + (check ? '$' : '')
        this.output = ''
        return output
    }
}

Decoder.prototype.update = function(input, flush) {
    for (var i = 0; i < input.length; i++) {
        this.readChar(input[i])
    }
    var output = this.output
    this.output = ''
    if (flush) {
      output += this.finish()
    }
    return output
}

/** Convenience functions
 *
 * These are the ones to use if you just have a string and
 * want to convert it without dealing with streams and whatnot.
 */

// Base32-encoded string goes in, decoded data comes out.
function decode(input) {
    var decoder = new Decoder()
    var output = decoder.update(input.split("").reverse().join("")+'A', true)
    return output

}

function toHex(str) {
    var hex = '';
    for(var i=0;i<str.length;i++) {
       //hex += ''+("00" + str.charCodeAt(i).toString(16)).substr(-2);
       hex += str.charCodeAt(i).toString(16);
       }
    return hex;
}

convertHex = toHex(decode('A0C4KB'));
alert(convertHex);
</script> 
```

上面的脚本在 FF 和 Chrome 上运行良好，并给了我正确的十六进制值。警报输出与预期一致

> abc2d0

对于 IE，这似乎不起作用。我得到所有

> 噗噗噗

[这是我从https://github.com/agnoster/base32-js](https://github.com/agnoster/base32-js)获取的 Base32 实现

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:04:40.297

Internet Explorer 的 JScript 引擎不支持对字符串常量的数组访问。您必须替换`alphabet[i]`为`alphabet.charAt(i)`才能使其正常工作。不过，我认为 MS 已经解决了这个问题，但我可能是错的/太有希望了。

# xcode - 如何在 Xcode 中刷新 Project Navigator 内容？

> ID：12454430
> 
> 赞同：44
> 
> 时间：2012-09-17T06:58:41.720
> 
> 标签：xcode

我无法在 Project Navigator 中刷新文件列表。没有刷新按钮，我不认为重新启动 Xcode 应该是解决方案。

您如何查看从外部添加的文件？我在 Mac 上。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-09-17T07:55:37.837

> 您如何查看从外部添加的文件？

不能从外部添加文件。将源文件转储到项目目录中不会将其添加到项目中。要添加文件，您必须从 Xcode 中将其添加到项目中。

如果您有一堆文件需要添加，那么在“添加文件”对话框中，您可以一次选择所需的所有文件并添加它们，而无需重复打开“添加文件”对话框。只需使用控制单击来选择多个文件。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-09-17T07:10:42.413

如有必要，请关闭并重新打开项目。

* * *

如果您使用文件夹引用（例如），这可能是必需的。在这种情况下，`touch`输入目录可能有助于刷新 Xcode 显示的内容。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-12-13T04:04:52.950

对于单个文件，你可以在 Xcode 中打开外部文件并`cmd`+`s`保存它，它会在 Xcode 中刷新。

此外，为了快捷方式，您可以在 Xcode 和`cmd`+中选择外部文件夹`s`，它将刷新此文件夹中的所有外部文件。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2021-06-19T18:27:49.583

文件 > 将文件添加到“Runner”

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-11-22T07:41:26.203

我不认为您可以刷新项目导航器来检测已在 Xcode 之外修改的文件，而是需要通过“右键单击”/两指点击从项目导航器中手动添加或删除文件。

* * *

其他一些解决方案建议：

*   *文件 > 将文件添加到“Runner”...*但这不会删除文件
*   打开和关闭 Xcode，但这并不实用。它也对我不起作用。
*   使用`cmd`+ `s`，但 Xcode 不检测需要保存的文件。所以，这对我也不起作用。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2020-05-06T07:26:25.417

您只需按“Command + B”即可在 xcode 中刷新您的项目

# html - 我在 wordpress 中进行了更改，但没有任何更改

> ID：12454434
> 
> 赞同：0
> 
> 时间：2012-09-17T06:58:53.237
> 
> 标签：html, css, wordpress

我正在使用 wordpress 开发一个网站。

我正在使用我自己的 html 模板而不是 wordpress 主题，它也有 css 文件。

当我尝试通过 wordpress 的仪表板对其进行一些 html 更改时，它并没有改变。

为什么它没有发生？

wordpress 有时不支持 html 标签吗？

还是我使用的 html 标签与 css 冲突？

索引页的代码在这里。

```
<?php get_header(); ?>

<div id="content">
<div id="inner_content">
<?php if ( is_front_page() ) { ?>
<div id="content_top">
<div id="business_strategy">

<div id="heading_outer">
<p class="main_heading">Business</p>
<p class="main_heading1">Strategy</p>
</div><!---heading_outer--->

<div id="business_image"><img src="<?php bloginfo('template_url'); ?>/images/inner_image.gif" alt="image" /></div><!---business_image--->

<div id="des">
<p>Owing to its competitive stand in the world India has moved rapidly. There is ample reason...</p>
<span class="read_more"><a href="?page_id=56">Read More</a></span></div><!---des--->
</div><!---business_strategy--->

<div id="business_planning">
<div id="heading_outer">
<p class="main_heading">Business</p>
<p class="main_heading1">Planning</p>
</div><!---heading_outer--->

<div id="business_image"><img src="<?php bloginfo('template_url'); ?>/images/inner_image.gif" alt="image" /></div><!---business_image--->

<div id="des">
<p>Owing to its competitive stand in the world India has moved rapidly. There is ample reason...</p>
<span class="read_more"><a href="?page_id=81">Read More</a></span></div><!---des--->
</div><!---business_planning--->

<div id="business_planning">
<div id="heading_outer">
<p class="main_heading">Business</p>
<p class="main_heading1">Result</p>
</div><!---heading_outer--->

<div id="business_image"><img src="<?php bloginfo('template_url'); ?>/images/inner_image.gif" alt="image" /></div><!---business_image--->

<div id="des">
<p>Owing to its competitive stand in the world India has moved rapidly. There is ample reason...</p>
<span class="read_more"><a href="?page_id=85">Read More</a></span></div><!---des--->
</div><!---business_planning--->

</div><!---content_top--->
<?php } ?>
<div id="content_bottom">

<div id="content_bottom_left">
<div id="content_bottom_intro">
<?php if ( have_posts() ) : ?>
<?php while ( have_posts() ) : the_post(); ?>

<?php if ( is_front_page() ) { ?>
<h3 class="content_heading">Who We Are?</h3>
<?php } else { ?>
<h3 class="content_heading"><?php the_title(); ?></h3>
<?php } ?>
<?php the_content(); ?>
<?php endwhile; /* rewind or continue if all posts have been fetched */ ?>
<?php else : ?>

<?php endif; ?>
</div><!---content_bottom_intro--->
<?php if ( is_front_page() ) { ?>
<span class="line_bg"><img src="<?php bloginfo('template_url'); ?>/images/line_bg.gif" alt="image" /></span>

<div id="partners">
<h3>Clients</h3>
<div id="partners_logo"><img src="<?php bloginfo('template_url'); ?>/images/logos.gif" alt="image" style="margin-top:10px;" /></div>
<!---partners_logo--->
</div><!---channel_partners--->
<?php } ?>
</div><!---content_bottom_left--->
<?php get_sidebar(); ?>
</div><!---content_bottom--->
</div><!---inner_content--->
</div><!---content--->

<?php get_footer(); ?> 
```

CSS就在这里。

```
/*
Theme Name: Business_template
Author: Ravneet Singh
*/

@charset "utf-8";

body{
width:100%;
margin:0px;
padding:0px;
background-color:#2e6a92;
}

#main_outer{
width:100%;
float:left;
margin:auto;
}

#inner_outer{
width:900px;
float:none;
margin:auto;
background-color:#FFFFFF;
}

#menu{
background-image:url(images/menu_bg.gif);
background-repeat:no-repeat;
width:900px;
height:114px;
float:left;
margin:auto;
}

#menu ul{
margin-left:75px;
margin-top:-12px;
margin-bottom:10px;
padding:0;
list-style:none;
}

#menu ul li{
list-style:none;
float:left;
}

#menu ul li a{
width:135px;
height:23px;
font-size:18px;
display:block;
color:#ffffff;
padding-top: 25px;
padding-right: 10px;
padding-bottom: 10px;
padding-left: 10px;
text-align:right;
text-decoration:none;
}

#menu ul li a:hover{
text-decoration:underline;
}

#header{
width:900px;
height:203px;
float:left;
margin:auto;
background-image:url(images/header_bg.gif);
background-repeat:repeat-x;
}

#logo{
width:500px;
height:195px;
float:left;
margin:auto;
}

#header_image{
width:400px;
height:195px;
float:right;
margin:auto;
}

#content{
width:900px;
float:left;
margin:auto;
background-color:#FFFFFF
}

#inner_content{
width:890px;
float:left;
margin-left:10px;
margin-right:10px;
}

#content_top{
width:880px;
float:left;
margin:auto;
}

#business_strategy{
width:290px;
height:173px;
float:left;
margin:auto;
background-color:#d7d4c5;
}

#heading_outer{
width:136px;
height:100px;
float:left;
margin:auto;
}

.main_heading{
color:#740a07;
font-size:22px;
font-weight:bold;
padding-left:15px;
}

.main_heading1{
color:#740a07;
font-size:22px;
font-weight:bold;
padding-left:25px;
margin-top:-18px;
}

#business_image{
width:154px;
height:100px;
float:right;
margin:auto;
}

#des{
width:290px;
height:73px;
float:left;
margin:auto;
}

#des p{
color:#4b4d4f;
font-size:15px;
font-weight:bold;
text-align:justify;
padding-left:10px;
padding-right:10px;
margin-top:4px;
}

.read_more a{
color:#740a07;
font-size:15px;
text-decoration:none;
float:right;
margin-top:-20px;
font-weight:bold;
padding-right:10px;
}

.read_more a:hover{
text-decoration:underline;
}

#business_planning{
width:290px;
height:173px;
float:left;
margin-left:5px;
background-color:#d7d4c5;
}

#content_bottom{
width:880px;
float:left;
margin-bottom:15px;
}

#content_bottom_left{
width:600px;
float:left;
margin:auto;
}

#content_bottom_intro{
width:600px;
float:left;
margin:auto;
}

.content_heading{
background-image:url(images/heading_bg.gif);
background-repeat:no-repeat;
width:202px;
height:36px;
color:#FFFFFF;
padding-left:15px;
padding-top:5px;
}

#content_bottom_intro p{
font-size:15px;
text-align:justify;
margin-top:-10px;
}

#partners{
width:600px;
float:left;
margin:auto;
}

#partners h3{
color:#4d4c49;
font-size:22px;
}

#partners_logo{
width:600px;
height:150px;
float:left;
margin-top:-10px;
border:1px #666666 solid;
}

#content_bottom_right{
width:260px;
float:right;
margin:auto;
}

#right_content{
width:260px;
float:right;
margin:auto;
}

#right_content_detail{
width:255px;
height:162px;
float:left;
margin-top:-10px;
border:1px #666666 solid;
}

#right_content_detail h4{
padding-left:10px;
color:#363430;
margin-top:5px;
}

.post{
color:#000;
text-decoration:none;
margin-left:10px;
}

#right_content_detail p{
margin-top:-12px;
padding-left:5px;
padding-right:5px;
color:#363430;
font-size:14px;
text-align:justify;
}

#right_content_detail ul{
margin:0px;
padding:0px;
}

#right_content_detail ul li{
float:left;
display:block;v
}

#right_content_detail ul li a{
font-size:17px;
margin-top:5px;
text-decoration:none;
display:block;
color:#363430;
width:200px;
padding-left:10px;
margin-top:8px;
}

#right_content_detail ul li a:hover{
text-decoration:underline;
}

.read_more_link a{
color:#740a07;
font-size:15px;
text-decoration:none;
float:right;
font-weight:bold;
padding-right:10px;
padding-top:5px;
}

.read_more_link a:hover{
text-decoration:underline;
}

.line_bg{
width:600px;
float:left;
margin-top:10px;
}

#footer_bg{
width:900px;
float:left;
margin:auto;
background-color:#2e6a92;
}

#footer{
width:880px;
height:74px;
float:none;
margin:auto;
}

#footer_menu{
width:630px;
height:74px;
float:left;
margin:auto;
}

#footer_menu ul{
margin:0;
padding:0;
list-style:none;
}

#footer_menu ul li{
list-style:none;
float:left;
}

#footer_menu ul li a{
width:100px;
height:23px;
font-size:18px;
display:block;
color:#ffffff;
padding-top: 25px;
padding-right: 10px;
padding-bottom: 10px;
padding-left: 10px;
text-align:left;
text-decoration:none;
}

#footer_menu ul li a:hover{
text-decoration:underline;
}

#footer_link{
width:250px;
height:74px;
float:right;
margin:auto;
}

.footer_table{ 
float:right; 
border:none;
margin-top:45px;
}

.footer_td{
color:#FFFFFF;
font-size:16px;
}

.link a{
color:#FFFFFF;
text-decoration:none;
}

.link a:hover{
text-decoration:underline;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T15:48:59.327

有没有安装缓存插件？我有同样的问题，我的网站不会更新。后来我发现这是一个 WP SuperCache 插件问题。

# linux - 了解 linux 中 execve 内部结构的最佳方法是什么？

> ID：12454436
> 
> 赞同：0
> 
> 时间：2012-09-17T06:59:00.253
> 
> 标签：linux, process, linux-kernel, exec

我尝试查看`fs/exec.c`（linux内核代码）的源代码。但是，我无法逐行理解。关于我应该如何进行深入理解的任何建议？有什么资源可以说明这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-12-23T16:23:14.493

尝试阅读“理解 Linux 内核”一书中名为“类 exec 的函数”的子章节。在第一版中，它是第 19.4 小章。

# java - 按 T AB 键失去对小部件的关注

> ID：12454446
> 
> 赞同：0
> 
> 时间：2012-09-17T06:59:48.400
> 
> 标签：java, eclipse, swt, eclipse-rcp, jface

我在 SWT 中使用 Table 组件。每当我在此表中编辑一个值并按 Enter 键时，此值都会保存在此表的文本组件中。

但是，当我想输入两个用 TAB 分隔的单词时，编辑器会失去焦点并移动到下一个要编辑的单元格（就像在浏览器表单中按 Tab 键一样）。我不希望这种情况发生，并让我的用户在单词之间输入标签，而不会失去焦点。有人知道如何创建这个吗？

我已经尝试过使用 keyListener，但似乎这个监听器甚至没有处理 tab 事件

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-17T07:29:09.957

您可以将 a 添加`TraverseListener`到您的文本字段。

```
text.addTraverseListener(new TraverseListener () {
        public void keyTraversed(TraverseEvent e) {
            switch (e.detail) {
                case SWT.TRAVERSE_TAB_NEXT:
                case SWT.TRAVERSE_TAB_PREVIOUS: {
                    e.doit = false;
                }
            }
        }
    }); 
```

查看[此](http://dev.eclipse.org/viewcvs/viewvc.cgi/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet127.java?view=co)示例代码片段。

# apache - Apache Web 服务器日志文件中的可疑请求

> ID：12454448
> 
> 赞同：3
> 
> 时间：2012-09-17T07:00:12.200
> 
> 标签：apache, security, httpwebrequest, phpmyadmin, brute-force

我在我的 Apache Web 服务器中发现了以下请求。这些是黑客尝试吗？它们会对服务器有害吗？

我的服务器经常崩溃，我没有原因：

```
GET /muieblackcat HTTP/1.1" 302 214
GET //index.php HTTP/1.1" 302 214
GET //admin/index.php HTTP/1.1" 302 214
GET //admin/pma/index.php HTTP/1.1" 302 214
GET //admin/phpmyadmin/index.php HTTP/1.1" 302 214 
```

> /user/soapCaller.bs HTTP/1.1" 302 214

```
GET /robots.txt HTTP/1.0" 302 214. 
```

我们看到很多对不存在的 setup.php 文件的请求：

```
GET /phpmyadmin/scripts/setup.php HTTP/1.1" 302 214
GET /phpMyAdmin/scripts/setup.php HTTP/1.1" 302 214
GET /MyAdmin/scripts/setup.php HTTP/1.1" 302 214
GET /myadmin/scripts/setup.php HTTP/1.1" 302 214
GET //typo3/phpmyadmin/index.php HTTP/1.1" 302 214
GET /pma/scripts/setup.php HTTP/1.1" 302 214
GET //phpMyAdmin-2.5.5/index.php HTTP/1.1" 302 214 
```

在服务器上也可以访问以下请求。这是什么要求？

`95.211.124.232 - - [16/Aug/2012:18:14:52 +0800] "CONNECT yandex.ru:80 HTTP/1.1" 302 214`

应该如何理解这个服务器崩溃问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-17T07:47:32.753

是的，这可能是试图破解您的服务器。黑客调用具有已知弱点的 URL。但是，只要您的服务器上不存在这些文件，您就是安全的。

如果您确实有一个已知弱点的文件，您应该担心。

一种临时解决方案是阻止发出这些调用的 IP 地址。您还应该检查来自该特定 IP 地址的任何调用是否确实找到了现有页面。

唯一永久的解决方案是升级所有软件，这样您就不会受到已知安全漏洞的影响。

这些 HTTP 调用无法解释您的服务器崩溃的原因。

PS：/robot.txt 不是黑客攻击。这是一个文件，Google 等搜索引擎会查找该文件以获取有关如何为您的网站编制索引的说明。这完全没问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T07:27:54.740

我想问一下您是否正在使用PHP。大多数网络空间确实支持很多功能。如果您不使用 PHP、CGI、[SSI](https://en.wikipedia.org/wiki/Server_Side_Includes)等，您可以将它们关闭。

观看您的消息也可能是一个想法（Linux？- `tail -f /var/log/messages`）。在那里你可以看到实时动作。

另一个想法是将众所周知的 SSH 和除 HTTP 之外的其他守护进程的端口移动到 1024 以上的奇怪端口 - 或者如果您有自己的公共 IP 地址从那里访问 Internet，您可以将防火墙设置为仅接受这些端口上的连接来自您自己的 IP 地址的端口。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-06T21:06:16.310

如果您正在运行 Apache/WHM，一个好的解决方案是安装 Mod_security 和 CSFirewall。如果恶意活动经常触发相同的安全规则，Mod_Sec 将监视恶意活动并将 IP 地址踢到防火墙。

另一种非常极端的解决方案是根据国家代码阻止防火墙中的所有 IP 流量。例如，如果您发现大多数攻击来自乌克兰，并且 99% 的用户群来自美国，那么请阻止整个违规国家。正如我所说……这是极端的。

另请注意，运行 mod_sec 和 csf 会​​降低服务器速度，因为它必须检查防火墙数据库中的所有传入流量。

# jquery - Jquery切换停止工作

> ID：12454449
> 
> 赞同：2
> 
> 时间：2012-09-17T07:00:12.577
> 
> 标签：jquery, toggle

我有一个简单的切换按钮，可以在单击时关闭菜单并在再次单击时将其隐藏。（每个用户都有多个菜单，因此此代码完美运行......它根据用户 ID 找到正确的菜单......

```
$('.abutton').live('click',function(){
    var id = $(this).attr('id');

    $('#amenu'+id).toggle();
    return false;

}); 
```

这是html

```
<a class="abutton" id="17">Edit</a>
<ul id="amenu17" class="amenuc">
<li><a href="#" id="17"> Delete</a></li></ul> 
```

现在，如果用户忘记关闭任何菜单，我添加了这段代码，如果有人点击页面上的任何元素，它会关闭打开的下拉菜单

```
$('html').click(function() {
     $('.amenuc').hide();
}); 
```

（例如，另一个如果有人单击另一个“编辑”按钮或页面上的任何位置）......但现在切换不起作用（它所做的只是，如果您单击任何“编辑”按钮，它将显示菜单但如果您再次单击相同的“编辑”按钮将其关闭，它将不会关闭）。

我的代码有什么问题？还是我忘记了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:04:33.680

试试这个：

```
$(document).on('click', function(event) {
     if (!$(event.target).hasClass('abutton')) {  
           $('.amenuc').hide(); 
     }
}); 
```

# c# - 拖放控件和重叠之间

> ID：12454453
> 
> 赞同：1
> 
> 时间：2012-09-17T07:00:31.693
> 
> 标签：c#, winforms, drag-and-drop

我正在开发一个小工具，您可以在其中使用鼠标拖放控件，例如按钮、组合框、组框等...

随着鼠标的移动，控件也随之移动，因此用户可以预览该控件的位置。当被拖动的控件从一个容器移动到另一个容器时，问题就来了。通常会导致该控件正确移动但就在第二个容器下方，因此对用户不可见。假设我们有 GroupBox A 和 GroupBox B，并且用户想要将 Button 从 A 移动到 B。当动作开始时，当移动在 A 的边界内时按钮是可见的，但是当鼠标进入 B 时，按钮只是出现在界面的较低层，它变得不可见。

我试图用 .BringToFront() 和 .SendToBack() 修复它，但没有结果。即使使用此处推荐的方法来解决它，我也遇到了一些闪烁的问题，也试图创建一个位图来创建该预览。

有没有办法修复它而不必使用解决图层问题的位图？

# android - ViewPager 循环？

> ID：12454458
> 
> 赞同：2
> 
> 时间：2012-09-17T07:01:48.777
> 
> 标签：android, android-layout, android-viewpager

我希望我的 ViewPager 实现在视图之间循环，而不是在最后一个视图处停止。例如，如果我有 3 个视图要通过 ViewPager 显示，它应该在第三个视图之后返回到第一个视图，而不是在第三个视图处停止。我希望它在用户在最后一页向前翻页时返回到第一页/视图

非常感谢，

我的页面适配器；

```
package com.example.pictures;

import android.content.Context;
import android.media.AudioManager;
import android.os.Parcelable;
import android.support.v4.view.PagerAdapter;
import android.support.v4.view.ViewPager;
import android.view.LayoutInflater;
import android.view.View;

public class MyPagerAdapter extends  PagerAdapter{

public int getCount() {
    return 6;
}

public Object instantiateItem(View collection, int position) {

    View view=null;

    LayoutInflater inflater = (LayoutInflater) collection.getContext()
            .getSystemService(Context.LAYOUT_INFLATER_SERVICE);

    int resId = 0;
    switch (position) {
    case 0:
        resId = R.layout.picture1;
        view = inflater.inflate(resId, null);         
        break;
    case 1:
        resId = R.layout.picture2;   
        view = inflater.inflate(resId, null);
        break;
    case 2:
        resId = R.layout.picture3;
        view = inflater.inflate(resId, null);
        break;
    case 3:
        resId = R.layout.picture4;
        view = inflater.inflate(resId, null);
        break;
    case 4:
        resId = R.layout.picture5;
        view = inflater.inflate(resId, null);   
        break;
    case 5:
        resId = R.layout.picture6;
        view = inflater.inflate(resId, null);
        break;
    }

    ((ViewPager) collection).addView(view, 0);

    return view;
}

@SuppressWarnings("unused")
private Context getApplicationContext() {
    // TODO Auto-generated method stub
    return null;
}

private void setVolumeControlStream(int streamMusic) {
    // TODO Auto-generated method stub

}

@SuppressWarnings("unused")
private Context getBaseContext() {
    // TODO Auto-generated method stub
    return null;
}

@SuppressWarnings("unused")
private PagerAdapter findViewById(int myfivepanelpager) {
    // TODO Auto-generated method stub
    return null;
}

@Override
public void destroyItem(View arg0, int arg1, Object arg2) {
    ((ViewPager) arg0).removeView((View) arg2);
}

@Override
public boolean isViewFromObject(View arg0, Object arg1) {
    return arg0 == ((View) arg1);

}

@Override
public Parcelable saveState() {
    return null;
}

public static Integer getItem(int position) {
    // TODO Auto-generated method stub
    return null;
}

} 
```

OnPageChangeListener;

```
package com.example.pictures;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.support.v4.view.ViewPager;
import android.support.v4.view.ViewPager.OnPageChangeListener;
import android.view.View;
import android.widget.Button;
import android.widget.Toast;

public class Pictures extends Activity implements OnPageChangeListener{
SoundManager snd; 
int sound1,sound2,sound3;
View view=null;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.picturespage);

 MyPagerAdapter adapter = new MyPagerAdapter();
 ViewPager myPager = (ViewPager) findViewById(R.id.myfivepanelpager);
 myPager.setAdapter(adapter);
 myPager.setCurrentItem(0); 
 myPager.setOnPageChangeListener(this);
snd = new SoundManager(this);
 sound1 = snd.load(R.raw.sound1);
 sound2 = snd.load(R.raw.sound2);
 sound3 = snd.load(R.raw.sound3);

}
public void onPageScrollStateChanged(int arg0) {
    // TODO Auto-generated method stub

}

public void onPageScrolled(int arg0, float arg1, int arg2) {
    // TODO Auto-generated method stub

}

public void onPageSelected(int position) {
    // TODO Auto-generated method stub

    switch (position) {
    case 0:
            snd.play(sound1);
        break;
    case 1:
        snd.play(sound2);
        break;
    case 2:
            snd.play(sound3);
        break;
    case 3:
      Toast.makeText(this, "1", Toast.LENGTH_SHORT).show();
        break;
    case 4:
       Toast.makeText(this, "2", Toast.LENGTH_SHORT).show();
        break;
    case 5:
        Toast.makeText(this, "3", Toast.LENGTH_SHORT).show();
        break;
    }
}
}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-19T01:51:34.937

这里有一个建议，你有没有试过使用 FragmentStatePagerAdapter 或 FragmentPagerAdapter，而不是普通的 PagerAdapter？

它的作用是加载要在 ViewPager 中滑动的片段，它在通过扩展片段的类运行应用程序时创建片段。

我建议使用片段，因为您可以在加载视图页面/片段时以编程方式执行其他逻辑 - 例如 --> if (page == lastpage) then current page is this。

Viewpager 有这个功能

```
 ViewPager yourViewPager.setCurrentItem(0); 
```

我认为这通常是你想要的，所以当你的viewpager首先或最后一个基本位置时添加这个逻辑

C-A-B-C-A

'A' 会一直有 C 和 B 在他旁边，你可以将当前项目设置为 (1)；
'B' 将在他旁边有 A 和 C，并将当前项目设置为 (2)；
等等等等....

使用它

```
mViewPager.setOnPageChangeListener 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-03-15T13:55:48.610

与@brian tang 的想法相同。我已经制定了自己的解决方案。我创建了一个ViewPager，它支持无限循环效果，智能自动滚动，兼容任何指标，使用方便。它特别将其用作带有简单项目页面的应用程序横幅。

它可以：

即插即用，简单易用

*   无限循环项目
*   自动滚动项目，允许配置，活动/片段恢复/暂停时自动恢复/暂停
*   如果只有 1 个项目，则不会滚动或循环
*   兼容多种指标

[https://github.com/kenilt/LoopingViewPager](https://github.com/kenilt/LoopingViewPager)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-14T08:02:10.030

```
mViewPager.setOnPageChangeListener(new OnPageChangeListener() {
    @Override
    public void onPageSelected(int arg0) {

    }
    @Override
    public void onPageScrolled(int arg0, float arg1, int arg2) {
        if(arg0 == 0 && (arg1 <= 0.001f && arg1 >= -0.001f)){
            mVp.setCurrentItem(list.size()-2, false);
        }else if(arg0 == list.size() - 1){
            mVp.setCurrentItem(1, false);
        }
    }
    @Override
    public void onPageScrollStateChanged(int arg0) {

    }
}); 
```

# python - 使用 portal_catalog 在文件夹内执行搜索，不包括根文件夹

> ID：12454459
> 
> 赞同：3
> 
> 时间：2012-09-17T07:01:50.420
> 
> 标签：python, plone

我正在文件夹内执行搜索。不幸的是，它还检索根文件夹，我不希望这样。

一个例子如下。如果我有一个类似于下面的目录结构：

```
RootFolder
    ... SubFolder1
    ... SubFolder2 
```

`RootFolder`当我在目录中搜索时，我希望得到以下信息：

```
SubFolder1
SubFolder2 
```

但相反，这就是我得到的：

```
RootFolder
SubFolder1
SubFolder2 
```

我不希望显示根。下面是我用来获取/搜索文件夹中项目的代码：

```
def queryItemRepository(self):
    """
    Perform a search
    """

    query = {}

    portal_catalog = getToolByName(self, 'portal_catalog')
    folder_path = '/'.join( self.context.getPhysicalPath() )

    query['path'] = {'query' : folder_path, 'depth' : 2 }
    query['sort_on'] = "sortable_title"
    query['sort_order'] = "ascending"

    return portal_catalog.searchResults(query) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-17T10:31:19.587

路径搜索中的`depth`参数限制了搜索的深度，它没有设置最小级别。`folder_path`因此，在您的搜索中，将返回从最多并包括 2 个嵌套子级开始的所有路径。

只过滤掉根路径；您已经有了上下文，因此您可以比较每个项目的 URL：

```
for match in portal_catalog.searchResults(query):
    if match.getPath() == folder_path:
        continue
    yield match 
```

# sql - sql语句中可以使用的函数

> ID：12454463
> 
> 赞同：1
> 
> 时间：2012-09-17T07:02:01.843
> 
> 标签：sql, database, function, oracle10g, sql-function

我有一个返回 3 条记录的 sql

```
select emp_no from employees where dept_no='S3407' 
```

结果

```
1089
2092
1999 
```

我需要在函数中使用上述 SQL，并且函数应该返回所有三个值。我想在另一个 sql 语句中使用这个函数，如下所示

```
select * from emp_history where emp_no in ('1089','2092','1999'); 
```

在上面的 sql 中，我想使用该函数而不是硬编码的员工编号。

实现这一目标的最佳方法是什么？

由于查询非常复杂，因为我上面提到的只是查询的一个示例，因为无法将完整的查询粘贴到此处。所以我需要使用一个函数来实现这一点。

任何帮助都是非常可观的。

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:11:28.263

您可以使用视图：

```
create view vw_MyView 
as
select  emp_no 
from    employees 
where   dept_no = 'S3407' 
```

您可以在第二个查询中使用该视图：

```
select * from emp_history where emp_no in (select emp_no from vw_MyView); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T07:17:57.247

我建议您考虑 Andomar 的建议，原因如下： 1\. 视图允许提供足够级别的封装 2\. CBO 几乎可以完美地与视图配合使用，因此您的查询将根据记录数量或多或少地可预测地工作。

一旦用函数替换视图，您将面临 CBO 无法估计函数的基数的情况，因此您必须提交完整扫描或实施某种包以计算函数的基数。

所以 +`1 到 Andomar

当然，您可以使用流水线函数并将查询重写为

```
 select * from emp_history where emp_no in (select * from table(your pipelined function)) 
```

但正如我之前解释的那样，这不是最好的方法

[您可以在链接http://www.oracle-base.com/articles/misc/pipelined-table-functions.php](http://www.oracle-base.com/articles/misc/pipelined-table-functions.php)中找到关于流水线函数的完美文章（我认为）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T07:05:52.010

您可以在不使用函数的情况下创建子查询。

```
SELECT *
FROM   emp_history
WHERE  emp_no IN 
        (
            SELECT emp_no
            FROM employees
            WHERE dept_no = 'S3407'
        ); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-17T07:36:51.360

您可以尝试使用以下方法。

```
CREATE FUNCTION GetEmpNos 
(   
    @dept_no varchar(10)
)
RETURNS TABLE 
AS
RETURN 
(
    SELECT emp_no from employees Where dept_no = @dept_no
)
GO 
```

并像下面这样使用这个功能。

```
select * from emp_history where emp_no in (select * from dbo.GetEmpNos('S3407')); 
```

对于 oracle 10g，尝试使用以下代码。

```
CREATE TYPE my_emp_type_coll IS TABLE OF my_emp_type; 
/ 

CREATE OR REPLACE FUNCTION get_emp_no (p_dept_no IN VARCHAR(10))  
RETURN my_emp_type_coll PIPELINED IS 
BEGIN 
  FOR emp IN (SELECT * FROM employees WHERE dept_no=p_dept_no) LOOP 
  PIPE ROW(my_emp_type(emp.emp_no)); 
  END LOOP; 
  RETURN; 
END; 
/ 

SELECT * FROM emp_history WHERE emp_no IN (SELECT * FROM TABLE(get_emp_no('S3407'))); 
```

# javascript - 默认情况下调用Javascript继承子类

> ID：12454464
> 
> 赞同：-1
> 
> 时间：2012-09-17T07:02:14.697
> 
> 标签：javascript, inheritance

我有一个场景，我需要在 sample.B 中覆盖 sample.A

当我单击时，我将调用一个函数，我需要从中调用 sample.A.Test() ，该函数需要在内部调用 sample.B 中的覆盖函数(Test) 并仅执行此函数。可能吗 ？

我的同行说java脚本默认会调用子类函数并被执行，是真的吗？

上述场景

```
sample.A = (function () {

return {

Test: function(){           
    console.debug('Test in Super class');
},
}

sample.B = (function () {
return {

Test: function(){   
    console.debug('Test in Sub class');
},
} 
```

这种行为可以通过java脚本或jquery来实现吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T07:48:26.047

要在 JavaScript 中启用“继承”，您至少需要添加一些实用方法。

例如：

```
function inheritMethods(fromA, intoB) {
   for (x in fromB) {
     if (typeof x === 'function') {
        intoB[x] = fromA[x];
     }
   }
} 
```

或类似的东西...

但是由于经典 OO 意义上的“继承”不是 JavaScript 原生的，因此有多种方法可以模拟这一点。如果你能拿到这本书，在“代码重用”下的“ [JavaScript 模式](http://shop.oreilly.com/product/9780596806767.do)”中有一个很好的讨论。

# c# - 安装使用 VS2010 创建的服务

> ID：12454466
> 
> 赞同：1
> 
> 时间：2012-09-17T07:02:21.653
> 
> 标签：c#, .net, visual-studio-2010, service, windows-services

我必须在 Visual Studio 中为一位客户创建服务。

客户 IT 服务告诉我他们不需要任何安装程序，只需要一个可以使用 instsrv.exe 安装的 exe。

所以我在 VS2010 上创建了一个 Service 项目，并对其进行了编译（64 位，它是一个必须以 64 位运行的应用程序）。

第一个问题：我没有找到任何 instsrv.exe，所以我使用了 64 位版本的 InstallUtil.exe：

```
C:\Windows\Microsoft.Net\Framework64\v4.0.xxxx\InstallUtil.exe "PathToMyGeneratedExe" 
```

它告诉我“ `The commit phase completed successfully.`”和“ `The transacted install has completed.`”。

所以我假设安装成功完成。

但是如果我进入服务控制台，我找不到创建的服务。

那么我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T07:08:37.983

InstallUtil 旨在与服务安装程序一起使用（这真的很容易制作，但有点埋没）我想你的客户不是在 gui 安装程序之后，但我认为在安装基本服务安装程序时可能值得你。

通常 InstallUtil 也会提示用户运行该服务。如果你还没有得到这个，你可能没有安装

阅读[http://arcanecode.com/2007/05/23/windows-services-in-c-adding-the-installer-part-3/](http://arcanecode.com/2007/05/23/windows-services-in-c-adding-the-installer-part-3/)了解如何执行此操作的详细信息

（TLDR 右键单击​​您的服务设计表面并添加安装程序）

# cakephp - 视图中的多个分页在 cakephp 中不起作用

> ID：12454471
> 
> 赞同：0
> 
> 时间：2012-09-17T07:02:40.563
> 
> 标签：cakephp, pagination

这是我的控制器功能：

```
function MarketingTaskmanagement(){
    /*..................................Mariya : Listing of Added Tasks , Pending Tasks and Finshed Tasks..................................*/
    $usrname = $this->Session->read('UserName');
    $emp_id = $this->Session->read('emp_id');

    $user_level = $emp_id;  //The User Level of the Loged User........

    /*...................................The Tasks selects here which are Assigned to this user............................................*/

    $this->set('user_level', $user_level);
    $this->paginate = array('conditions' => array('status = 0', 'assigned_to = '.$user_level), 'limit' => 3, 'order' => array('TravancoMarketing.id' => 'DESC' ) );
    $data1 = $this->paginate('TravancoMarketing');
    $this->set('list_1', $data1);

    /*...................................................END..............................................................................*/

    /*................................The Tasks selects here which are Added by this user(Pending Tasks)..................................*/

    $this->paginate = array('conditions' => array('status = 2', 'user_id = '.$user_level), 'limit' => 3, 'order' => array('TravancoMarketing.id' => 'DESC' ) );
    $data2 = $this->paginate('TravancoMarketing');
    $this->set('list_2', $data2);
    /*$this->set('list_2', '');*/

    /*...................................................END..............................................................................*/

    /*...................................The Tasks selects here which are Added by this user..............................................*/

    $this->paginate = array('conditions' => array('status = 0', 'user_id = '.$user_level), 'limit' => 3, 'order' => array('TravancoMarketing.id' => 'DESC' ) );
    $data3 = $this->paginate('TravancoMarketing');
    $this->set('list_3', $data3);/*$this->set('list_3', '');*/

    /*...................................................END..............................................................................*/

    /*...................................The Tasks selects here which are Added by this user..............................................*/

    $this->paginate = array('conditions' => array('status = 1', 'user_id = '.$user_level), 'limit' => 3, 'order' => array('TravancoMarketing.id' => 'DESC' ) );
    $data4 = $this->paginate('TravancoMarketing');
    $this->set('list_4', $data4);/*$this->set('list_3', '');*/

    /*...................................................END..............................................................................*/

    $this->render('Marketing/taskmanagement');
  } 
```

这是我的视图页面：

```
<?php echo $this->Html->script('jquery.min.js');?>
<?php echo $this->Html->script('popup.js');?>
<?php echo $this->Html->css('forms'); ?>
<script type="text/javascript">
    function go_add_tasks(){
        //alert(1);
        window.location = "http://localhost/works/cakephp/Travanco/TravancoMarketing/MarketingAddtask"
    }
</script>
<div class="marketingcls">
    <div class="slabdiv">
        <div class="market-head">
            <h2 align="center">Welcome To Task Management</h2>

        </div>

        <? echo $this->element("marketinghead"); ?>
        <div style="width:1125px; height:auto; border:0px solid #999999; float:left; margin:50px;">
        <?php
        //$user_level = 2;
        if($user_level != 1){
        ?>

            <table width="100%" style="border:1px solid;" cellpadding="0" cellspacing="0">
              <tr>
                <th scope="col" align="left">Assigned Tasks...</th>
              </tr>
              <?php 
              /*...................................The Tasks selects here which are Assigned to this user............................................*/
                if($list_1){
                $i=0;
                foreach($list_1 as $row1){ 
                    $assigned_id = $row1['TravancoMarketing']['id'];
                ?>
              <tr>
                <td>
                <?php echo $row1['TravancoMarketing']['title'];?>
                <input type="hidden" name="assigned_task_id" id="assigned_task_id_<?php echo $i;?>" value="<?php echo $row1['TravancoMarketing']['id'];?>" />
                <?php echo $this->Html->link('...View More', '/TravancoMarketing/MarketingAssignedtask/'.$assigned_id, array('class'=>'textlinkclass', 'target'=>'_self')); ?>
                </td>
              </tr>
              <?php
              }
              }
              ?>
              <tr>
                    <td>
                        <?php echo $this->paginator->numbers(); ?>
                    </td>
              </tr>

            </table>
        <?php
        }
        ?>
<br />
<?php //print_r($list);?>
            <table cellpadding="0" cellspacing="0" border="1" width="100%">
              <tr>
                <th width="34%">Set Task 
                <input type="button" name="btnaddtask" id="btnaddtask" style="width:70px; height:30px; font-family:Arial, Helvetica, sans-serif; font-size:12px; font-weight:normal; float:right; margin-right:30px; cursor:pointer; " value="Add Task" onclick="return go_add_tasks();" />
                <!--<input type="button" name="btnaddtask" id="btnaddtask" style="width:70px; height:30px; font-family:Arial, Helvetica, sans-serif; font-size:12px; font-weight:normal; float:right; margin-right:30px; cursor:pointer; " value="Add Task" onclick="return pop_add_task_frm_other();" />-->            </th>
                <th width="35%">Review Task</th>
                <th width="31%">Finished Task</th>
              </tr>
              <tr>
                <td>
                    <table border="1" style="width:100%;" cellpadding="0" cellspacing="0">
                                <?php 
                                /*...................................The Tasks selects here which are Added by this user..............................................*/
                                if($list_3){
                                $i=0;
                                foreach($list_3 as $row3){ 
                                $added_id = $row3['TravancoMarketing']['id'];
                                ?>
                                  <tr>
                                    <td><?php echo $row3['TravancoMarketing']['title'];?>
                                    <input type="hidden" name="set_task_id" id="set_task_id_<?php echo $i;?>" value="<?php echo $row3['TravancoMarketing']['id'];?>" />

                                    <?php echo $this->Html->link('...View More', '/TravancoMarketing/MarketingListaddedtask/'.$added_id, array('class'=>'textlinkclass', 'target'=>'_self')); ?>
                                    </td>
                                  </tr>
                                 <?php 
                                 $i++;
                                 } ?>
                                 <tr>
                        <?php echo $this->paginator->numbers(); ?>

                        </td>
                      </tr> 
                      <?php } ?>
                    </table>

                        </td>
                        <td>
                        <table border="1" style="width:100%;" cellpadding="0" cellspacing="0">
                                <?php 
                                /*................................The Tasks selects here which are Added by this user(Pending Tasks)..................................*/
                                $i=0;
                                if($list_2){
                                foreach($list_2 as $row2){ 
                                $review_id = $row2['TravancoMarketing']['id'];
                                ?>
                                  <tr>
                                    <td><?php echo $row2['TravancoMarketing']['title'];?>
                                    <input type="hidden" name="review_task_id" id="review_task_id_<?php echo $i;?>" value="<?php echo $row2['TravancoMarketing']['id'];?>" />
                                    <?php echo $this->Html->link('...View More', '/TravancoMarketing/MarketingListpendingtask/'.$review_id, array('class'=>'textlinkclass', 'target'=>'_self')); ?>
                                    </td>
                                  </tr>
                                 <?php 
                                 $i++;
                                 } ?>
                                 <tr>
                        <td>
                            <?php echo $this->paginator->numbers(); ?>
                        </td>
                      </tr> 
                      <?php } ?>
                    </table>

                </td>
                <td>
                    <table border="1" style="width:100%;" cellpadding="0" cellspacing="0">
                                <?php 
                                /*...............................The Tasks selects here which are Added by this user(Finished Tasks).................................*/
                                $i=0;
                                if($list_4){
                                foreach($list_4 as $row4){ 
                                $review_id = $row4['TravancoMarketing']['id'];
                                ?>
                                  <tr>
                                    <td><?php echo $row4['TravancoMarketing']['title'];?>
                                    <input type="hidden" name="review_task_id" id="review_task_id_<?php echo $i;?>" value="<?php echo $row4['TravancoMarketing']['id'];?>" />
                                    <?php echo $this->Html->link('...View More', '/TravancoMarketing/MarketingListfinishedtask/'.$review_id, array('class'=>'textlinkclass', 'target'=>'_self')); ?>
                                    </td>
                                  </tr>
                                 <?php 
                                 $i++;
                                 } ?>
                                 <tr>
                        <td>
                            <?php echo $this->paginator->numbers(); ?>
                        </td>
                      </tr> 
                      <?php } ?>
                    </table>
                </td>
              </tr>
            </table>

        </div>
    </div>
</div> 
```

没有显示分页链接。这是屏幕截图。![在此处输入图像描述](../Images/cbae0df6969d10363d1c9eaa2df3c589.png)

但是当我像这样在控制器中订购代码时：

```
`/*...................................The Tasks selects here which are Added by this user..............................................*/

$this->paginate = array('conditions' => array('status = 1', 'user_id = '.$user_level), 'limit' => 3, 'order' => array('TravancoMarketing.id' => 'DESC' ) );
$data4 = $this->paginate('TravancoMarketing');
$this->set('list_4', $data4);/*$this->set('list_3', '');*/

/*...................................................END..............................................................................*/

/*...................................The Tasks selects here which are Added by this user..............................................*/

$this->paginate = array('conditions' => array('status = 0', 'user_id = '.$user_level), 'limit' => 3, 'order' => array('TravancoMarketing.id' => 'DESC' ) );
$data3 = $this->paginate('TravancoMarketing');
$this->set('list_3', $data3);/*$this->set('list_3', '');*/

/*...................................................END..............................................................................*/`

$this->render('Marketing/taskmanagement');

Then it will displays pagination in all section ,but that pagination not correct ,that means the pagination count is correct only for first section in this time.. 
```

这是链接代码顺序后的屏幕截图： ![在此处输入图像描述](../Images/b4cf9b7649b5b20fceabcff95d72d76b.png) 那么我的代码有什么问题......

```
The pagination is not working correctly in my view page.

It take the pagination links of last executed query and put this link for all section .This is the main problem in my code.

How can i solve this? 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T08:12:57.703

不幸的是，我认为使用内置分页在单个页面上对多个模型进行分页在技术上是不可能的，因为 CakePHP 无法真正知道要分页的特定模型，因为来自分页器助手的所有链接都在形式的`/controller/action/page:1`- 并且 CakePHP 无法知道与什么模型`page1`相关。

我个人建议采用 ajax 方法。

# algorithm - 格路径记忆

> ID：12454473
> 
> 赞同：0
> 
> 时间：2012-09-17T07:02:48.173
> 
> 标签：algorithm

我试图使用动态编程方法解决格子路径问题。

> 从 22 格的左上角开始，有 6 条路线（没有回溯）到右下角。
> 
> ![路线](../Images/91aaa8a375f70a3684744fbafe41dd2c.png)
> 
> 2020 年网格中有多少条路线？

这是我为解决这个问题而编写的代码。我哪里错了。我似乎每次都得到错误的输出。我是否跨越了可变数据类型的一些界限？

```
#include <stdio.h>
int count = 0;
int limita,limitb;
long long int cache[20][20];
unsigned long long int start(int a,int b)
{
    unsigned int long long i = 0;
    if(a == limita && b == limitb)
        return 1;
    if(cache[a][b] != -1)
        return cache[a][b];
    if(a != limita)
        i += start(a+1, b);
    if(b != limitb)
        i += start(a, b+1);
    cache[a][b] = i;
    return i;
}
int main(void)
{
    limita = limitb = 19;
    int i,j;
    for(i = 0; i < 20; i++)
        for(j = 0; j <20;j++)
            cache[i][j] = -1;
    unsigned long long int number = start(0,0);
    printf("The number of ways to reach the end is %llu\n",number);
    return 0;
} 
```

请帮帮我

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T07:37:57.430

大小为 1*1 的网格：

```
 0    1
   0+-----+
    |     |
    |     |
   1+-----+
    |<-2->| 
```

大小为 2*2 的网格：

```
 0    1    2
   0+----+----+
    |    |    |
    |    |    |
   1+----+----+
    |    |    |
    |    |    |
   2+----+----+
    |<---3--->| 
```

...

您的算法似乎还可以，但是您计算的边数是错误的。

# c# - 尽管使用了 Console.Read()，但控制台窗口关闭

> ID：12454475
> 
> 赞同：3
> 
> 时间：2012-09-17T07:03:11.407
> 
> 标签：c#, console-application

我编写了一个作为标准控制台应用程序运行的 C# 工具。在程序结束时，我用来`Console.Read()`防止窗口关闭。这适用于我所有同事的 PC，除了一台。他从来没有看过我的申请。它完成了所有工作，但之后关闭。所有 PC 都运行 WinXP。你有什么主意吗？

我实现了一个 try-catch-finally，其中 finally 只包含`Console.Read()`.

**编辑：**我添加了一些代码

```
Console.SetWindowSize(125, 40);
CopyToolBase ctb = null;
try
{
    DateTime startTime = DateTime.Now;
    TimeSpan duration;

    ctb = CopyToolBase.GetInstance(Defines.configPath);
    if (null == ctb)
    {
        throw new KopiertoolException();
    }

    if (null == ctb.GetNewestVersion())
    {
        throw new KopiertoolException();
    }

    if (!ctb.CheckCopy())
    {
        throw new KopiertoolException();
    }

    if (!ctb.CopyAndUnzip())
    {
        throw new KopiertoolException();
    }

    duration = DateTime.Now.Subtract(startTime);

    ctb.PrintSuccess("xxxxxxxx");
    ctb.PrintInfo("Gesamtdauer: " + ((duration.Hours == 0) ? "" : string.Format("{0:00} Std ", duration.Hours)) + string.Format("{0:00} Min {1:00} Sek", duration.Minutes, duration.Seconds));

    startTime = DateTime.Now;

    if (!ctb.StartTask())
    {
        throw new KopiertoolException();
    }

    duration = DateTime.Now.Subtract(startTime);

    if (duration.Minutes > 1)
    {
        ctb.PrintInfo("Dauer: " + ((duration.Hours == 0) ? "" : string.Format("{0:00} Std ", duration.Hours)) + string.Format("{0:00} Min {1:00} Sek", duration.Minutes, duration.Seconds));
    }
}
catch (KopiertoolException)
{
    ctb.WriteToLog();
}
catch (Exception ex)
{
    if (ctb == null)
    {
        Console.WriteLine("xxxxxxxxx");
        Console.WriteLine(ex.ToString());
    }
    else
    {
        ctb.PrintError("xxxxxxxxx");
        ctb.PrintError(ex.ToString());
        ctb.WriteToLog();
    }
}            
finally
{
    Console.Read();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T16:07:35.127

`DLL`您是否在课堂的任何部分都使用了导入的方法（或外部库） `CopyToolBase`？

如果是这样，则可能是代码中某处抛出了损坏的状态异常，正常的 try/catch 块不会捕获该异常，因此可能存在异常，只是托管代码无法处理它并且没有办法，只能终止进程。

这是解释情况的[链接：](http://msdn.microsoft.com/en-us/magazine/dd419661.aspx)

我知道这是一个远射，但我想我会覆盖所有的基地

# java - 并发 Android 服务之间的资源共享或文件锁定

> ID：12454478
> 
> 赞同：0
> 
> 时间：2012-09-17T07:03:30.233
> 
> 标签：java, android, multithreading, service

我的 Android 应用程序中有三个服务由两个广播接收器触发。前两个写入文件并由一个广播接收器触发，因此我可以确保它们一个接一个地执行（通过`Context.sendOrderedBroadcast()`）。第三个是独立的，由一个单独的广播接收器触发，但从前两个写入的同一个文件中读取。

因为广播接收器可能同时或几乎同时被触发，所以文件也可能被同时访问。我怎样才能防止这种情况发生？我希望能够先读后写或先写后读。我只是不确定这个问题是否与一般的 Java 并发相似，因为如果我没记错的话，android 服务是一个完全不同的野兽。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T07:11:13.013

一种解决方案是让您的写作任务`.lock`在访问共享文件之前创建一个空的临时文件（例如），并在完成后删除相同的临时文件。

您的阅读任务可以检查`.lock`文件是否存在。

或者，您可以使用[FileLock](http://developer.android.com/reference/java/nio/channels/FileLock.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:11:33.527

[http://developer.android.com/reference/android/app/Service.html](http://developer.android.com/reference/android/app/Service.html) 请注意，服务与其他应用程序对象一样，在其托管进程的主线程中运行。这意味着，如果您的服务要执行任何 CPU 密集型（例如 MP3 播放）或阻塞（例如网络）操作，它应该生成自己的线程来完成这项工作。

我建议在单独的线程中读取/写入文件。您一次只能使用[一个线程！](https://stackoverflow.com/questions/2077771/only-one-thread-at-a-time)在同一个线程中执行此操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-12T03:47:09.203

首先，我不应该在主 UI 线程中完成文件 I/O，而`Service`s 就是这种情况。它应该在另一个线程中完成，例如`AsyncTask`.

其次，`ReentrantLock`方法要简单得多。当被锁定时，它告诉访问相同资源的其他线程等待，并且只有在锁被释放时才继续。只需实例化 a`new ReentrantLock()`并在读取或写入文件的方法之间共享该锁。它就像打电话一样简单，只要`lock()`你需要它。`unlock()``ReentrantLock`

# xml - 从 XQuery 3.0 中的多个输入返回多个值？

> ID：12454481
> 
> 赞同：9
> 
> 时间：2012-09-17T07:03:36.973
> 
> 标签：xml, xquery, xquery-3.0

我尝试了几件事：

```
for $name in ('Hanz', 'Heinz', 'Hans', 'Huns', 'Hund')
where $name contains text 'Hans' using fuzzy
return $name | $name
(: returns error: Stopped at line 3, column 20: [XPTY0004] 
Union expression: node() expected, xs:string found. :)

for $name in ('Hanz', 'Heinz', 'Hans', 'Huns', 'Hund')
where $name contains text 'Hans' using fuzzy
return $name and $name
(: returns true :)

for $name in ('Hanz', 'Heinz', 'Hans', 'Huns', 'Hund')
where $name contains text 'Hans' using fuzzy
return $name, $name
(: returns error: Stopped at line 3, column 19: [XPST0008] 
Undefined variable $name. :) 
```

我想要做的只是返回 name 变量两次。当然，我想做一些更复杂的事情。例如，给定一个文档（取自 w3）：

```
<?xml version="1.0" encoding="ISO-8859-1"?>

<bookstore>

<book category="COOKING">
  <title lang="en">Everyday Italian</title>
  <author>Giada De Laurentiis</author>
  <year>2005</year>
  <price>30.00</price>
</book>

<book category="CHILDREN">
  <title lang="en">Harry Potter</title>
  <author>J K. Rowling</author>
  <year>2005</year>
  <price>29.99</price>
</book>

<book category="WEB">
  <title lang="en">XQuery Kick Start</title>
  <author>James McGovern</author>
  <author>Per Bothner</author>
  <author>Kurt Cagle</author>
  <author>James Linn</author>
  <author>Vaidyanathan Nagarajan</author>
  <year>2003</year>
  <price>49.99</price>
</book>

<book category="WEB">
  <title lang="en">Learning XML</title>
  <author>Erik T. Ray</author>
  <year>2003</year>
  <price>39.95</price>
</book>

</bookstore> 
```

我试图执行一些我在 Stack Overflow 上接受的答案中看到的查询，但我得到了否定的结果。例如：

```
let $sep := ','
for $x in doc('test')/bookstore
  where fn:matches($x/book, 'XC')
  return fn:string-join( ($x/book/title/text(), $x/book/author/text(), 
  $x/book/price/text()), $sep)
(: Stopped at line 3, column 31: [XPTY0004] Single item expected, 
(element book { ... }, element book { ... }, ...) found. :) 
```

--

我想返回类别属性等于“web”的任何书籍的作者、年份和标题，这是一个语言属性为英语且其值恰好为“学习 XML”且其任何子元素包含文本的标题元素“埃里克 T”；或者其年份晚于 2003 年，其任何后代包含文本 XML，并且其价格低于 20.00 美元。

我认为这显示了 XQuery 的多功能性。如果无法返回并实际上输入目标列表，则该软件基本上是无用的。我发现没有一个可靠的答案或教程可以涵盖上述查询的一小部分；但是，有关于如何进行数学比较和排序函数的查询。这些以它们自己的方式很有用，但开始时，它们并不像能够根据其中找到的结果返回表的多个列那么重要。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-17T07:31:32.473

您在第三次尝试中非常接近，只是缺少括号：

```
for $name in ('Hanz', 'Heinz', 'Hans', 'Huns', 'Hund')
where $name contains text 'Hans' using fuzzy
return ($name, $name) 
```

您可以按此序列返回任意变量。

警告：XQuery 不知道嵌套序列，如果您尝试这样做，它们只会被连接起来。如果您需要嵌套序列，则必须构建一个您将返回的 XML 树，例如。

```
return <names>
         <name>{$name}</name>
         <name>{$name}</name>
       </names> 
```

这个不包含任何序列，但它应该显示模式。

# drupal-7 - Drupal 7 主题函数输出单词'array'

> ID：12454482
> 
> 赞同：0
> 
> 时间：2012-09-17T07:03:47.380
> 
> 标签：drupal-7, themes, preprocessor

在我的 hook_preprocess_node 函数中，我通过主题化和添加 at() 函数来更改链接以允许翻译。问题是当我在我的节点中渲染时，我打印出“ARRAY”这个词，这是使用

```
<?php  print render($field_downloads); ?> or <?php  print $field_downloads); ?> 
```

在我的节点中。

template.php 中的代码

```
$list_of_paths = array();
foreach($field_downloads as $index => $data)
{

    $file_uri = $data['uri'];
    $file_path = file_create_url($file_uri);
    $list_of_paths[] = '<strong> &gt;&gt;'. t('DOWNLOAD'). '</strong> '.l(t($data['description']), $file_path);
}

$variables['field_downloads'] .= theme("item_list", array(
  'items' => $list_of_paths,
  'type' => 'ul',
  'attributes' => array('class' => 'downloads'),    
));
} 
```

# servlets - 将 mp3 文件写入响应输出流

> ID：12454484
> 
> 赞同：1
> 
> 时间：2012-09-17T07:03:49.237
> 
> 标签：servlets

我是 Servlet 的新手，并遵循 Headfirst。它有一个下载 mime 类型为“application/jar”的 jar 文件的示例。我将其更改为“audio/mpeg3”以下载 mp3 文件。我在浏览器上安装了播放器，但它无法播放。这是代码：

```
public void doPost(HttpServletRequest req, HttpServletResponse resp) 
          throws ServletException, IOException

{
    resp.setContentType("audio/mpeg3");

    ServletContext ctx=this.getServletContext();
    InputStream is=ctx.getResourceAsStream("/RaOne.mp3");

    int read=0;
    byte[] bytes=new byte[1024];

    OutputStream os=resp.getOutputStream();
    while((read=is.read(bytes))!=-1)
    {
      os.write(bytes, 0, read);
    }

    os.flush();
    os.close();
  } 
```

有人可以帮忙解决问题吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-17T07:24:13.297

你可以试试这样的东西

```
ServletOutputStream stream = null;
BufferedInputStream buf = null;
try {
  stream = response.getOutputStream();
  File mp3 = new File("/myCollectionOfSongs" + "/" + fileName);

  //set response headers
  response.setContentType("audio/mpeg"); 

  response.addHeader("Content-Disposition", "attachment; filename=" + fileName);

  response.setContentLength((int) mp3.length());

  FileInputStream input = new FileInputStream(mp3);
  buf = new BufferedInputStream(input);
  int readBytes = 0;
  //read from the file; write to the ServletOutputStream
  while ((readBytes = buf.read()) != -1)
    stream.write(readBytes);
} catch (IOException ioe) {
  throw new ServletException(ioe.getMessage());
} finally {
  if (stream != null)
    stream.close();
  if (buf != null)
    buf.close();
} 
```

# r - 从数据框中删除某些值为 NA 的列

> ID：12454487
> 
> 赞同：35
> 
> 时间：2012-09-17T07:04:24.240
> 
> 标签：r, dataframe, na

我有一个数据框，其中一些值为 NA。我想删除这些列。

我的 data.frame 看起来像这样

```
 v1   v2 
1    1   NA 
2    1    1 
3    2    2 
4    1    1 
5    2    2 
6    1   NA 
```

我试图估计 col 均值并选择列均值！= NA。我试过这个说法，它不起作用。

```
data=subset(Itun, select=c(is.na(colMeans(Itun)))) 
```

我有一个错误，

> 错误：“x”必须是至少二维的数组

谁能给我一些帮助？

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2012-09-17T07:25:54.483

数据：

```
Itun <- data.frame(v1 = c(1,1,2,1,2,1), v2 = c(NA, 1, 2, 1, 2, NA)) 
```

这将删除包含至少一个的所有列`NA`：

```
Itun[ , colSums(is.na(Itun)) == 0] 
```

另一种方法是使用`apply`：

```
Itun[ , apply(Itun, 2, function(x) !any(is.na(x)))] 
```

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2017-10-27T16:48:34.910

这是使用该`dplyr`功能的便捷方法`select_if()`。组合 not ( `!`)`any()`和`is.na()`，相当于选择所有不包含任何 NA 值的列。

```
library(dplyr)
Itun %>%
    select_if(~ !any(is.na(.))) 
```

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2016-04-01T19:13:16.783

您可以使用转置两次：

```
newdf <- t(na.omit(t(df))) 
```

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2020-09-04T17:28:00.403

或者，`select(where(~FUNCTION))`可以使用：

```
library(dplyr)

(df <- data.frame(x = letters[1:5], y = NA, z = c(1:4, NA)))
#>   x  y  z
#> 1 a NA  1
#> 2 b NA  2
#> 3 c NA  3
#> 4 d NA  4
#> 5 e NA NA

# Remove columns where all values are NA
df %>% 
  select(where(~!all(is.na(.))))
#>   x  z
#> 1 a  1
#> 2 b  2
#> 3 c  3
#> 4 d  4
#> 5 e NA

# Remove columns with at least one NA  
df %>% 
  select(where(~!any(is.na(.))))
#>   x
#> 1 a
#> 2 b
#> 3 c
#> 4 d
#> 5 e 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2012-09-17T07:27:49.690

```
data[,!apply(is.na(data), 2, any)] 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2017-02-03T19:30:30.867

`apply`与答案相关的基本 R 方法是

```
Itun[!unlist(vapply(Itun, anyNA, logical(1)))]
  v1
1  1
2  1
3  2
4  1
5  2
6  1 
```

在这里，`vapply`当我们对列表进行操作时使用，并且，`apply`它不会将对象强制转换为矩阵。此外，由于我们知道输出将是长度为 1 的逻辑向量，因此我们可以将其输入`vapply`并有可能获得一点速度提升。出于同样的原因，我使用`anyNA`了`any(is.na())`.

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2019-07-15T15:44:50.860

该软件包的另一种选择`dplyr`是使用该`Filter`功能

```
Filter(function(x) !any(is.na(x)), Itun) 
```

with`data.table`会更麻烦一些

```
setDT(Itun)[,.SD,.SDcols=setdiff((1:ncol(Itun)),
                                which(colSums(is.na(Itun))>0))] 
```

# javascript - javascript中输入字符串中带有可选元素的正则表达式

> ID：12454496
> 
> 赞同：0
> 
> 时间：2012-09-17T07:04:43.747
> 
> 标签：javascript, regex

谁能给我具有以下格式的货币正则表达式：

```
1000 - valid
1,000 - valid
1,000.00 or 1000.00 - valid. 
```

这意味着，数字**可能或可能不**包含每 3 位数的逗号 (,) 分隔符。

数字**可能或可能不**包含一个点 (.)，如果它带有一个点 (.)，它应该在小数点后显示至少 1 个数字。

最后，它应该只是数字字符。如果我需要明确我的问题，请提出建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T07:10:46.033

```
/^\d{1,3}(?:(?:,\d{3})*|(?:\d{3})*)(?:\.\d{1,2})?$/ 
```

“在一到三位数之间，然后是任意数量的以逗号为前缀的三位数组*或*任意数量的不以所述逗号为前缀的三位数组（不允许混合两种组），然后是可选的一组或以点为前缀的两位数字。”

注意：此正则表达式假定您要根据问题中概述的标准验证整个字符串。如果您想使用它在较长的字符串中查找此类数字，则需要从表达式的开头和结尾删除`^`and 。`$`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T07:08:43.660

像这样的东西应该可以工作：`(,?\d{3})+(\.\d{2})?`. 正则表达式将尝试匹配前面有可选逗号的 3 位数字序列，然后最后是可选的小数点和 2 位数字。

请参阅[本](http://www.regular-expressions.info/tutorial.html)教程以获取更多信息。

编辑：根据下面的评论，上述正则表达式可能会失败。我建议首先使用这个正则表达式：`^[\d][\d.,]+$`确保只有数字、千位和小数分隔符。此正则表达式还将确保数字以数字开头，而不是其他任何内容。您很可能有一个可以处理所有事情的正则表达式，但它很可能非常复杂。

# jquery - 以编程方式勾选复选框

> ID：12454499
> 
> 赞同：4
> 
> 时间：2012-09-17T07:04:59.150
> 
> 标签：jquery, checkbox

```
$('#comment-form-subscribe input:checkbox:not(:checked)').prop("checked", true); 
```

如果未选中复选框，请手动检查它们，但这似乎不起作用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-17T07:11:08.217

您可能有一个选择器问题：我会检查返回的 jQuery 对象的长度是否不是 0。这是我通常使用的：

编辑：正如@nbrooks 指出的那样，`:input`已弃用。这可能有效：

```
$('#comment-form-subscribe').find('[type="checkbox"]').not(':checked').prop("checked", true); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:08:54.277

尝试

```
$('#comment-form-subscribe input:checkbox:not(:checked)').attr('checked', true); 
```

# javascript - 在 Knockout 中“破坏”一个对象

> ID：12454504
> 
> 赞同：5
> 
> 时间：2012-09-17T07:05:29.953
> 
> 标签：javascript, knockout.js

我在名为“Deletions”的 observableArray 中跟踪已删除的对象。我在 UI 中解析该数组以创建“撤消删除”链接，但我无法让它工作。代码非常简单，如下所示：

```
this.removePage = function(page){
    self.formBuilder.pages.destroy(page);
    var newDeletion = new Deletion();
    newDeletion.element(page);
    self.deletions.push(newDeletion);
}

this.removeFormElement = function(element){
    self.formElements.destroy(element);
    var newDeletion = new Deletion();
    newDeletion.element(element);
    builder.deletions.push(newDeletion);
}

var Deletion = function(){
    var self = this;
    this.element = ko.observable();
}; 
```

请注意，可以将不同类型的元素添加到 Deletions observableArray。在“取消删除”功能中，我唯一需要做的就是将“销毁”标志设置为 false。但是，我不能让它工作：

```
this.unremovePage = function(deletion){
    deletion.element()._destroy(false);
} 
```

这样做的正确方法是什么？

*编辑*

我无法为嵌套的 FormElements 工作。结构是：我的主要 ViewModel 称为“FormBuilder”。FormBuilder 有多个页面（它们本身就是 ViewModel），每个页面都有多个 FormElement（参见上面的代码片段）。

我可以“取消删除”那些 FormElement，但我不知道如何强制刷新它们。

```
this.unremove = function(deletion){
    //console.log(deletion.element);
    deletion.element()._destroy = false;
    self.deletions.remove(deletion);
    self.formBuilder.pages.valueHasMutated(); // works
    deletion.element().valueHasMutated(); // this doesn't work 
    self.formBuilder.pages.indexOf(deletion.element()).valueHasMutated(); // neither does this
    self.deletions.valueHasMutated(); // works
}; 
```

*   FormBuilder 是主要的 ViewModel；
*   FormBuilder 有一个名为 Pages 的 observableArray，每个 Page 都是一个 ViewModel；
*   每个Page都有一个名为FormElements的observableArray，每个FormElement都是一个ViewModel；
*   FormBuilder 有一个名为 Deletions 的 observableArray，每个 Deletion 都是一个 ViewModel，每个 Deletion 都包含一个元素，可以是 Page 或 FormElement。

问题：我使用函数“unremove”将元素（Page 或 FormElement）的“destroy”属性设置为 false。如您所见，然后我在页面上调用“valueHasUpdated”。*但是我如何在`formElements`单个页面包含的 observableArray 上调用它？*

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-17T13:25:06.493

`_destroy` is not an observable. So, what you can do it set `_destroy` to false and then call `valueHasMutated` on the observableArray, so that any subscribers (the UI) knows that it may need to make updates.

So, you would want to `deletion.element()._destroy = false;` and then call `self.deletions.valueHasMutated()`.

# java - Glassfish有时运行缓慢？

> ID：12454505
> 
> 赞同：1
> 
> 时间：2012-09-17T07:05:37.720
> 
> 标签：java, glassfish, profiling

我知道这听起来像是一个笼统的问题，但我需要一些指导。

我们有一个带有`Java`swing客户端的分布式系统，`Glassfish 3.0.1`作为应用程序服务器和`PostgreSQL`数据库。我们正在使用`hessian`协议与`Glassfish 3.0.1`服务器进行通信。

周围有`5`用户同时使用客户端。一切都运行良好，直到所有用户都说他们的客户端停止响应`10`几秒钟，然后它继续正常运行`15`几分钟。然后同样的事情发生了。当我重新启动服务器时，他们说没问题，但半天后，同样的事情又发生了。我查看了数据库日志，但没有看到`1`第二个以上的查询。我认为问题与与`Glassfish`服务器的通信有关（所有客户端无法同时与服务器通信）。

我该如何解决这个问题？

PS当`glassfish`停止响应时，我什至无法`index.html`正确打开页面。

问候，佩塔尔

# java - 如何在java中定义泛型类

> ID：12454507
> 
> 赞同：1
> 
> 时间：2012-09-17T07:05:40.513
> 
> 标签：java, reflection

我有一个泛型类型的类，我想获取泛型类型的类。我找到了使用以下代码的解决方案，但是当我使用 ProGuard 进行混淆时，我的应用程序停止工作。

还有其他方法吗？

```
public class comImplement<T> {

  private T _impl = null;

  public comImplement() {}

  public T getImplement() {

    if (_impl == null) {
      ParameterizedType superClass = 
        (ParameterizedType) getClass().getGenericSuperclass();
      Class<T> type = (Class<T>) superClass.getActualTypeArguments()[0];
      try {
        _impl = type.newInstance();
      } catch (Exception e) {
      }
    }
    return _impl;
  }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:13:51.490

除非使用另一个泛型类对其进行参数化，否则您无法获得超类的类型，例如 - List 或类似的东西。由于具体化类型参数在编译后会丢失。您可能希望通过将要创建的类的实例传递给方法“getImplement”来解决问题，如下所示：

```
public T getImplement(Class<T> clz) {
   // do your initialization there
} 
```

您的代码可能会引发的另一个问题是竞争条件，以防对象在多个线程之间共享。

# android - 测试项目图标在android中不可见

> ID：12454509
> 
> 赞同：1
> 
> 时间：2012-09-17T07:05:42.290
> 
> 标签：android, robotium

我正在使用 Robitium 对一个 android 应用程序进行单元测试。当我将测试项目安装到android模拟器时，我找不到测试项目的图标，但我可以运行它。

测试项目的清单文件是这样的：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.smartek.screens.test"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk android:minSdkVersion="7" />

<instrumentation
    android:name="android.test.InstrumentationTestRunner"
    android:targetPackage="com.smartek.screens" />

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name" >

<uses-library android:name="android.test.runner" />
</application> 
```

我应该怎么做才能使测试项目图标可见？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:12:09.110

测试项目将不包含清单文件中的启动器条目，因此您看不到启动器上的图标。

```
<intent-filter>
   <category android:name="android.intent.category.LAUNCHER" />
</intent-filter> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T12:00:03.090

我们可以做到这一点，它与普通的 android 应用程序相同。

将以下行添加到 android 清单文件

```
<activity android:name=".Testing class name">

<intent-filter>
<action android:name="android.intent.action.MAIN" />
<category android:name="android.intent.category.LAUNCHER" />
</intent-filter>

</activity> 
```

# java - 如何在java中执行路径名中有空格的命令

> ID：12454510
> 
> 赞同：0
> 
> 时间：2012-09-17T07:05:46.983
> 
> 标签：java, mysql, netbeans

我想备份数据库。我正在使用 mysql 数据库和 wamp 服务器。为此，我编写了以下代码。

```
Process runtimeProcess =Runtime.getRuntime().exec("C:\\wamp\\bin\\mysql\\mysql5.5.20\\bin\\mysqldump.exe -u root -pkarma dailyreport -r  "+assign+"\\dailyreport.sql");  
int processComplete = runtimeProcess.waitFor();  
if(processComplete == 0)
{  
JOptionPane.showMessageDialog(null, "Backup has been taken successfully", "BackUp", JOptionPane.INFORMATION_MESSAGE);
} 
else 
{  
JOptionPane.showMessageDialog(null, "Could not take backup", "BackUp", JOptionPane.INFORMATION_MESSAGE); 
} 
```

在上面的代码中，String assign 表示我要保存数据库备份的路径。但问题是我正在运行时保存备份的位置。如果我选​​择文件夹名称包含空间的路径，它无法进行备份，因为系统没有获取路径，因为它包含空间。请帮助我应该如何更改runtime.getruntime.exec() 命令。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-17T07:17:17.957

将命令作为`String`数组中的单独元素传递

```
String[] cmds = new String[] {
    "C:\\wamp\\bin\\mysql\\mysql5.5.20\\bin\\mysqldump.exe",
    "-u",
    "root",
    "-pkarma",
    "dailyreport",
    "-r",
    assign+"\\dailyreport.sql"};

    Process runtimeProcess = Runtime.getRuntime().exec(cmds); 
```

数组中的每个元素都成为命令的单独参数。

更好的是，使用[ProcessBuilder](http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T07:09:04.317

用双引号将路径括起来。由于空间的存在，这将有助于 shell 将整个参数视为单个参数而不是多个参数。

```
Process runtimeProcess = 
    Runtime.getRuntime().exec("C:\\wamp\\bin\\mysql\\mysql5.5.20\\bin\\mysqldump.exe "
        + "-u root -pkarma dailyreport -r  \"" 
        + assign + "\\dailyreport.sql\" "); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-17T07:09:55.253

尝试将`assign`字符串放在引号之间：

```
Process runtimeProcess = Runtime.getRuntime().exec("C:\\wamp\\bin\\mysql"
    + "\\mysql5.5.20\\bin\\mysqldump.exe -u root -pkarma dailyreport "
    + "-r  \""+assign+"\"\\dailyreport.sql"); 
```

# javascript - 由 JavaScript 在一个页面中设置的 Cookie 未在另一页面中显示

> ID：12454515
> 
> 赞同：1
> 
> 时间：2012-09-17T07:06:00.030
> 
> 标签：javascript, cookies

我在 JavaScript 中创建了一个 cookie。我可以看到并使用该文件中的 cookie。我无法在同一域的另一个页面中查看和使用相同的 cookie。可能是什么问题呢？

这是代码

```
// Code for set Cookie

        // Code for set Cookie
    function setCookie(c_name,value,exdays)
                {
                var exdate=new Date();
                exdate.setDate(exdate.getDate() + exdays);
                var c_value=escape(value) + ((exdays==null) ? "" : "; expires="+exdate.toUTCString());
                document.cookie=c_name + "=" + c_value;
                }
    //Function to call setcookie. In this function I cookie is adding successfully and I can alert the value of the cartcounter cookie. It will be increment one by one for each click 
    function makeSure(skey,name){
                    var cartcounter=getCookie("cartcounter");
                    cartcounter=parseInt(cartcounter);
                    chk=0;
                    for(var i=1;i<=cartcounter;i++){
                        var ckey = getCookie(i+"_skey");
                        if(ckey==skey){
                            chk++;
                        }
                    }
                    if(chk==0){ 

                        cartcounter=cartcounter+1;
                        setCookie("cartcounter",cartcounter,365);   
                        setCookie(cartcounter+"_skey",skey,365);
                        setCookie(cartcounter+"_name",name,365);
                        setCookie(cartcounter+"_val",$("#cnt_"+skey).val(),365);
                        alert(name+" added to your cart successfully.. ");
                    }
                    else
                        alert("You have already added "+name+" item to cart ");

            }
    // This is the code in another page to view the cookie. But it show only 0
            var cartcounter=getCookie("cartcounter");
            alert("Counter="+cartcounter); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T04:24:14.757

1.  设置你的`path`. 如果您创建的 cookie 在一个路径`/features/feature1/`中，并且您尝试从不同的“文件夹”访问它：`/items/item1/`它将不存在。
    因此`path`，`/`如果您希望它可以在同一域中的每个页面上访问，则设置为，无论它位于路径层次结构中的哪个位置。

2.  说到域，如果您的第一页打开`www.mysite.com`，而您的第二页打开`shop.mysite.com`或其他子域，那么 cookie 也将不可用，因此将您的域设置为等于`.mysite.com`，这将覆盖该域所在的任何页面`_____.mysite.com`

如果您永远不需要＃2，那么请不要费心设置域。
但是，如果您确实使用过子域，请记住这一点。

# objective-c - Sqlite 说“没有这样的表”，但最终显示该表中的数据

> ID：12454517
> 
> 赞同：0
> 
> 时间：2012-09-17T07:06:06.227
> 
> 标签：objective-c, ios, sqlite

让我解释一下标题。我有这段代码来检查表是否已经存在：

```
NSString *checkSql = @"SELECT * FROM sqlite_master WHERE type='table' AND name='files'";
NSArray *checkArray = [sqlite executeQuery:checkSql];
if ([checkArray count] != 0)
{
   //rest of code here...
   NSLog(@"Files table exists");
}
else
{
   NSLog(@"Files table not found");
} 
```

现在，这将始终显示`Files table exists`. 但是，当我添加这些代码时：

```
NSArray *selArr = [sqlite executeQuery:[NSString stringWithFormat:@"SELECT FileID, FileName, FilePath FROM files WHERE UserID=%@", userId]]; 
```

这将显示此错误：`SQLite Prepare Failed: no such table: files 2012-09-17 14:56:35.723 iskoolme[3275:15203] - Query: SELECT FileID, FileName, FilePath FROM files WHERE UserID=5`。

我真的不明白为什么会这样。这不是一个真正的问题，因为它实际上显示了数据库中的数据。我只是对“错误”的可能原因感到好奇。

# jquery - jQuery Mobile，Iphone 向下滚动激活向右滑动

> ID：12454521
> 
> 赞同：1
> 
> 时间：2012-09-17T07:06:19.623
> 
> 标签：jquery, jquery-mobile, browser, touch, mobile-safari

iPhone safari 滚动在使用 jQuery 移动时启动滑动。我了解到使用 Horizo​​ntalDistanceThreshold 我们可以将事件限制为我们想要的像素数。但这仍然是一个问题。有没有办法解耦这两个事件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-01T05:12:40.580

我发现这很有用，但要注意 JQM 版本：1.4.0 对于某些设备是可以的，1.4.4 对于其他设备是可以的，但会干扰滑块小部件的更改事件，现在我们有 1.4.5（不要尝试这个一）。

你必须对这些价值观进行一些尝试，看看什么最适合你。查看[http://api.jquerymobile.com/swipe/](http://api.jquerymobile.com/swipe/)以获得更多选项。

```
$(document).bind("mobileinit", function(){

     $.event.special.swipe.horizontalDistanceThreshold = 60;
        // (default: 30) (pixels)

     $.event.special.swipe.verticalDistanceThreshold = 50; 
        // (default: 75) (pixels) – Swipe vertical displacement must be less than this.     

}); 
```

# c# - 如何调用函数

> ID：12454533
> 
> 赞同：0
> 
> 时间：2012-09-17T07:07:20.120
> 
> 标签：c#, function, encryption

这一功能是当前类。我怎么称呼它？

```
public partial class _Default : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {
      //------
      //------

      String r = EncryptText<Cryptography.Aes>(myTextStringToEncode);
    }
      private string EncryptText<TSymmetricAlgorithm>(string input) where TSymmetricAlgorithm : SymmetricAlgorithm, new()
        {
            var pwdBytes = Encoding.UTF8.GetBytes("MY560Secratekey38433661283912");
            using (TSymmetricAlgorithm sa = new TSymmetricAlgorithm())
            {
                ICryptoTransform saEnc = sa.CreateEncryptor(pwdBytes, pwdBytes);

                var encBytes = Encoding.UTF8.GetBytes(input);

                var resultBytes = saEnc.TransformFinalBlock(encBytes, 0, encBytes.Length);

                return Convert.ToBase64String(resultBytes);
            }
        }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:08:38.670

```
var result = EncryptText<MySymmetricAlgorithm>("my input"); 
```

我建议您也考虑一种稍微不同的方法：

```
string EncryptText(SymmetricAlgorithm algo, string input); 
```

缺点是消费者不得不担心创建算法的实例。不过，您可以使用没有无参数构造函数的实现。此外，您也可以重用实例。

最好确定最适合您的代码的内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-17T07:09:30.823

`EncryptText<System.Security.Cryptography.Aes>("hello world")`

例如？！

请参阅继承层次结构@ [http://msdn.microsoft.com/en-en/library/system.security.cryptography.symmetricalgorithm.aspx](http://msdn.microsoft.com/en-en/library/system.security.cryptography.symmetricalgorithm.aspx)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-17T07:10:51.807

```
var result = this.EncryptText<MySymmetricAlgorith>("blup"); 
```

# php - 如何手动使用内爆功能？

> ID：12454534
> 
> 赞同：1
> 
> 时间：2012-09-17T07:07:19.903
> 
> 标签：php

我的数组包含日期日期`$a1[0]`月份`$a1[1]`年份`$a1[2]`我希望结果为年/日/月给我一个解决方案。

下面是我的代码

```
<?php
  $a1 = array("01","10","2012");
  $result = implode("/",$a1);
  print $result;
?> 
```

这将打印`01/10/2012`，但我想要这个结果`2012/01/10`。如何使用 implode 函数手动获取数组？

我怎样才能把年的第一天第二天和月的第三天？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:13:34.980

你可以`array_reverse`这样使用：

```
$result = implode("/", array_reverse($a1)); 
```

这将以相反的顺序创建一个新数组。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T07:16:32.357

你不能单独使用 implode，如果你正好有这个模式（元素顺序是倒置的）使用这个代码（YYYY/MM/DD）：

```
$a1 = array("01", "10", "2012");
$result = implode("/", array_reverse($a1));
print $result; 
```

否则使用正则表达式 (YYYY/MM/DD)：

```
$a1 = array("01", "10", "2012");
$result = preg_replace('/(\d{2})\/(\d{2})\/(\d{4})/', '$3/$2/$1', implode("/", $a1));
print $result; 
```

如果您需要 (YYYY/DD/MM) 的格式，请使用以下格式：

```
$a1 = array("01", "10", "2012");
$result = preg_replace('/(\d{2})\/(\d{2})\/(\d{4})/', '$3/$1/$2', implode("/", $a1));
print $result; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-17T07:17:41.623

使用[mktime](http://php.net/manual/en/function.mktime.php)函数。如果你有一个 $timestamp，你可以使用 date 函数来格式化：

```
$timestamp = mktime(0, 0, 0, $a1[1], $a1[0], $a1[2]);
echo date('y/m/d', $timestamp); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-17T08:59:41.253

您还可以使用循环（手动内爆）：

```
$a1 = array("01","10","2012");
$a1_length = sizeof($a1);
$date = '';
for ($i = $a1_length; $i > 0; $i--) {
    $date .= $a1[$i] . '/';
}
$date = rtrim($date, '/');

echo $date; 
```

# javascript - 嗨，我正在尝试阅读响应

> ID：12454535
> 
> 赞同：-1
> 
> 时间：2012-09-17T07:07:20.937
> 
> 标签：javascript, ajax, json

我正在制作书签。

我正在尝试获取 stat ：在我的提交功能完成后失败：如果 stat 是通过或失败。然后会据此做出决定。

我对带有 Ajax 的 JSON 有想法，但在这方面我们没有 JSON。

Json 看起来像这样。

```
function Check(Content) {
    response = JSON.parse(Content);
    Result = response.stat;
    if (Result == ok) {
        Gotit();
    } else {
        Fail();
    };
}; 
```

那么知道如何读取它，因为它没有 JSON 吗？

![](../Images/32a55e3efd318c8319ddd4edf38b5104.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T07:09:39.060

如果未定义 JSON，则必须在页面中包含 json2 库才能使用它，

[**lib在这里**](https://github.com/douglascrockford/JSON-js)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:13:46.083

问题似乎是响应 JSON 是数组（内容）的第一个元素。你试过了吗

```
response = JSON.parse(Content[0]) 
```

# ruby-on-rails - nil:NilClass 的未定义方法“job_joining_date”

> ID：12454540
> 
> 赞同：0
> 
> 时间：2012-09-17T07:08:11.420
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-2

我在 rails 2 工作，我有一个表用户和其他表 lms_users。在 lms_users 表中，来自 users 表的 id 作为外键出现。

用户模型中的关联

```
has_one :lms_user
has_one :group_detail , :through => :lms_user 
```

group_details 中的关联

```
has_many :lms_users
has_many :users , :through => :lms_user 
```

lms_users 中的关联

```
belongs_to :user
belongs_to :group_detail 
```

我正在加入这样的表格

```
 @users = User.find(:all, :include => [:lms_user, :group_detail], :conditions => {:status => [1,2,3]}) 
```

但是，当我尝试访问 lms_user 的属性时 .. 我收到此错误

```
NoMethodError in Lms_users#index
Showing vendor/plugins/redmine_leaves_management/app/views/lms_users/index.html.erb where line #15 raised:
undefined method `job_joining_date' for nil:NilClass

Extracted source (around line #15):

12:   <tr>    
13:     <td><%=h user.firstname %> <%=h user.lastname %></td>
14: 
15:     <%if user.lms_user.job_joining_date.blank? %>
16:         Employee Joining Date is Empty
17:     <%else%>
18:         <td><%=h user.lms_user.job_joining_date.strftime('%Y-%m-%d') %></td> 
```

我无法找出原因。

# java - 从 ListView 拖放到 Button

> ID：12454541
> 
> 赞同：1
> 
> 时间：2012-09-17T07:08:16.640
> 
> 标签：java, android

我想知道是否可以将一个项目从 ListView 拖放到 Button 上。放到按钮上后，按钮上的文本将被更改。

是否可以将项目拖放到按钮上？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T07:27:30.697

[你可以用动画](http://developer.android.com/reference/android/animation/package-summary.html)实现这种行为，除了我不相信有快速简单的解决方案

# jquery - jquery循环插件不翻译为wordpress

> ID：12454543
> 
> 赞同：0
> 
> 时间：2012-09-17T07:08:27.147
> 
> 标签：jquery, wordpress, cycle

我有一个工作网站，我正在将其翻译为 WordPress 主题。 `jquery.cycle.js`效果很好。但是我似乎无法让它在 WordPress 中运行。

1.  调用 jquery（已经在 WP 中调用）

2.  调用`cycle.js`（已注册，已入队，并且在查看源代码时似乎打印出来了。

3.  脑子里有个小脚本

    ```
    $(document).ready(function() {
        $('.slideshow').cycle({
            fx: 'fade' 
        });
    }); 
    ```

我也试过把它放在它自己的`.js` --- 但还没有运气......

从循环演示中获得一个小`img`列表保持位置......在`div`课堂上`.slideshow`

在原始 HTML 布局中一切正常。所以我只是继续浏览这个列表......

当我查看源代码时，所有的东西都会出现在 WordPress 中。无论如何。我的 jquery 东西都没有工作。我认为如果我能在这件事上得到一些帮助......它将解释我做错了什么。

得到这个......所以我猜我的一些脚本正在使用`$`和一些 jQuery --- 必须在这里得到一些统一......

![在此处输入图像描述](../Images/4730768904749b31fc9aaf3620158bab.png)

[http://www.pauljoyceuk.com/codex/2011/jquery-is-not-a-function/](http://www.pauljoyceuk.com/codex/2011/jquery-is-not-a-function/)

所以发现这个...

```
$(document).ready(function() { 
```

改成

```
jQuery(document).ready(function() { 
```

这对于小文件来说很容易......

但是大文件呢...

```
jQuery(document).ready(function( $ ) { 
```

如果你通过了`$`---- 那么一切似乎都很好 - 无需更改所有这些......但是 - 现在即使事情看起来很棒......我有一个全新的疯狂错误主机......嗯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T20:43:56.900

Wordpress 打包的 jQuery 默认为[`noConflict`](http://api.jquery.com/jQuery.noConflict/)mode、use`jQuery('document')`或 wrap your code like

```
(function($) { 
    // Code that uses jQuery's $ can follow here.
})(jQuery); 
```

或在您的文档中像这样准备好：

```
jQuery(document).ready(function($) {
    // Code that uses jQuery's $ can follow here.
}); 
```

# jquery - 将选择选项中的项目添加到列表中，然后将它们放回去

> ID：12454547
> 
> 赞同：1
> 
> 时间：2012-09-17T07:08:35.960
> 
> 标签：jquery

我有一个选择选项、一个列表和一个按钮。单击按钮时，它会删除选定的选项并将其放入列表中。并且当单击列表中的 li 时，它会被放回选择选项中并自行删除。这是我的代码：

```
 <select id="selLanguage" >
                                 <option value="1">English</option>
                                 <option value="2">Spanish</option>
                                 <option value="3">German</option>
                            </select>

                             <ul id="ulLanguage">
                             </ul>

                             <button id="btnAddLanguage">Language</button> 
```

* * *

```
 //ADD LANGUAGE
            $(function() {
                $("#btnAddLanguage")
                .button()
                .click(function() {

                    $("#ulLanguage").append("<li id='"+$("#selLanguage :selected").val()+"' onclick='remove(this);' style='cursor:pointer'>"+$("#selLanguage :selected").text() +" </li>");
                    $("#selLanguage option[value='"+$("#selLanguage :selected").val()+"']").remove();

                });
            });
            //REMOVE LANGUAGE
            $("#ulLanguage").on("click","li", function(){

                $("select#selLanguage").append("<option value='"+$(this).val()+"' >"+$(this).text()+"</li>");
                $(this).remove();
            }); 
```

它可以工作，但是当我添加三个选项时，我删除了三个选项并将它们放回选择中（直到这里没问题），然后我再次添加一个，它删除了选择中的所有选项，而只是一个选择。我不知道我在哪里犯了错误，而且我对 jquery 很陌生，所以我不得不问这个。任何帮助将非常感激。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:23:07.073

有几样东西不见了：

*   您的第二个回调在 jquery 就绪回调之外
*   您注入回选择一个作为 li 关闭的选项：

append("< **option** value='"+$(this).val()+"' >"+$(this).text()+"</ **li** >");

*   当您将项目放回选择中时，您不会保留 li.id 值，因此会出现错误。

修正版如下

```
 $(function() {
            $("#btnAddLanguage")
            .on('click', function() {

                $("#ulLanguage").append("<li id='"+$("#selLanguage :selected").val()+"' style='cursor:pointer'>"+$("#selLanguage :selected").text() +" </li>");
                console.log($("#selLanguage :selected").val());
                $("#selLanguage option[value='"+$("#selLanguage :selected").val()+"']").remove();

            });

        //REMOVE LANGUAGE
        $("#ulLanguage").on("click","li", function(){

            $("select#selLanguage").append("<option value='"+$(this).attr('id')+"' >"+$(this).text()+"</option>");
            $(this).remove();
        });                 
        }); 
```

# cmis - OpenCMIS 支持的 ECM

> ID：12454559
> 
> 赞同：2
> 
> 时间：2012-09-17T07:09:01.087
> 
> 标签：cmis, opencmis

我们正计划开发一个可以与任何 ECM 系统配合使用的应用程序。所以我们计划使用CMIS。

由于我们的应用程序是用 Java 编写的，所以我遇到了 openCMIS。这似乎都很有用。

但现在我需要知道，openCMIS 测试/支持哪些所有存储库？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2019-02-05T09:51:53.473

OpenCmis 对许多 ecm 系统确实很有帮助，但它并不是对所有这些系统都通用的答案。例如，对于 IBM CM 或 Filenet，IBM CMIS 与 Content Navigator 捆绑在一起。请注意，这也缺少一些基本功能，我最近才开发出来。（在最新版本上）

我建议使用您需要的最相关的 CMIS api 和最接近的特定 ECM 产品来构建 java 应用程序。如果您想以适用于所有 ECM 平台的方式构建它，那么编码需要以不同的方式。like - 确定您的 java 程序正在调用哪个 ecm 系统，然后为该特定系统加载类或函数。

希望以上有所帮助:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T05:59:52.020

[OpenCMIS](http://chemistry.apache.org/java/opencmis.html)是最常用的 CMIS 库之一，我会说它是您能找到的经过最多测试的 CMIS 库。

我没有看到任何“官方支持列表”，但 OpenCMIS 至少适用于[Alfresco](http://alfresco.com)、[IBM FileNet](http://www-01.ibm.com/software/data/content-management/filenet-content-manager/)、[NemakiWare](http://nemakiware.bitbucket.org)和我尝试过的大多数 CMIS 服务器。一个值得注意的例外似乎是[IBM Connections](http://www-01.ibm.com/software/lotus/products/connections/)，因为[IBM Connections 存在一个错误](https://issues.apache.org/jira/browse/CMIS-593)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-25T15:10:36.710

此页面列出了 CMIS 服务器： [http ://en.wikipedia.org/wiki/Content_Management_Interoperability_Services](http://en.wikipedia.org/wiki/Content_Management_Interoperability_Services)

# hadoop - 在 Hive 中编写带有 where 子句的嵌套 select 语句

> ID：12454564
> 
> 赞同：0
> 
> 时间：2012-09-17T07:09:29.793
> 
> 标签：hadoop, hive, hiveql

我需要在 Hive 查询的 where 子句中进行嵌套选择。示例代码片段如下；

select *
from TableA
where TA_timestamp > (select timestmp from TableB where id="hourDim")

这是可能的还是我在这里做错了什么，因为在运行上述脚本时出现错误？！

为了进一步详细说明我正在尝试做的事情，有一个 cassandra 密钥空间，我发布了带有时间戳的统计信息。定期（例如每小时）此统计信息将使用 hive 进行汇总，一旦汇总，数据将与相应的小时分开存储。因此，当查询第二次（和连续运行）运行时，查询应该只在新数据上运行（即-timestamp > previous_execution_timestamp）。我试图通过将最新执行的时间戳存储在单独的配置单元表中来做到这一点，然后使用该值过滤掉原始统计信息。

这可以使用蜂巢来实现吗？！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-20T14:15:53.457

**Hive **不支持****WHERE**子句中的子**查询：** [https ://cwiki.apache.org/confluence/display/Hive/LanguageManual+SubQueries](https://cwiki.apache.org/confluence/display/Hive/LanguageManual+SubQueries)**

 ****但是，您通常可以使用**JOIN**语句来获得相同的结果： [https ://karmasphere.com/hive-queries-on-table-data#join_syntax](https://karmasphere.com/hive-queries-on-table-data#join_syntax)

例如，这个查询：

```
 SELECT a.KEY, a.value
   FROM a
   WHERE a.KEY IN
   (SELECT b.KEY FROM B); 
```

可以改写为：

```
 SELECT a.KEY, a.val
   FROM a LEFT SEMI JOIN b ON (a.KEY = b.KEY) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-28T17:17:33.540

查看您问题背后的业务需求，您可能会通过使用小时对 Hive 表进行分区来获得更有效的结果。如果可以写入数据以使用此因子作为分区键，那么更新摘要的查询将更快并且需要更少的资源。

当分区达到数百万的规模时，它们可能会失控，但这似乎是一个不会嘲笑这种限制的案例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-04-30T12:11:46.017

如果您输入，它将起作用：

select * from TableA where TA_timestamp in (select timestmp from TableB where id="hourDim")

*   解释：因为 > , < , = 右边需要一个精确的数字，而这里我们得到多个值，只能用 'IN' 子句获取。****

# php - wordpress 的页面加载问题

> ID：12454566
> 
> 赞同：0
> 
> 时间：2012-09-17T07:09:36.687
> 
> 标签：php, javascript, wordpress

我的系统在 wordpress -php 中。

主页从第三方服务器（iTunes 商店）加载了如此多的图像。页面加载需要很长时间。

谁能指导我如何解决这个问题就像我们首先加载所有内容然后加载所有图像。

至少客户可以看到包含内容的页面。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T08:32:14.263

您是否在您的 wordpress 上安装了缓存插件，例如 W3 Total Cache？ [http://wordpress.org/extend/plugins/w3-total-cache/](http://wordpress.org/extend/plugins/w3-total-cache/)

如果没有，您可以尝试使用 Ajax 从第三方加载图像，然后您的内容将直接显示，并且您的第三方图像将加载而不会减慢内容的加载速度。

检查这个：[http](http://api.jquery.com/load/) ://api.jquery.com/load/（不要忘记使用 Jquery.noconflict() ）

或者你可以试试这个插件：[http ://wordpress.org/extend/plugins/advanced-ajax-page-loader/](http://wordpress.org/extend/plugins/advanced-ajax-page-loader/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-10-17T10:36:39.560

老实说，当您依赖第三方来获取内容页面加载时间时，这始终是个问题。我会建议您使用[轻量级缓存插件](https://www.cloudways.com/en/free-wordpress-cache-plugin-breeze.php)以及多区域 WordPress 托管，最终帮助您的网站从缓存中加载基本元素。其次要密切注意渲染问题，因为许多 WordPress 网站延迟只是因为神秘输入的几行代码可以在[pingdom](https://tools.pingdom.com)或页面洞察力上进行测试。所有最好的伴侣。干杯

# objective-c - 如何检查 NSImage 是灰度还是 RGB？

> ID：12454567
> 
> 赞同：0
> 
> 时间：2012-09-17T07:09:37.450
> 
> 标签：objective-c, cocoa, nsimage

有没有办法在 OBJC 中检查 NSImage 的颜色类型？我想知道图像是灰度还是 RGB。任何建议都会有所帮助，谢谢~

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T07:12:06.283

如果您可以获取图像的颜色空间（可能来自其底层 CGImage），则可以确定其中的组件数量。如果它 < 3 你有一个单色图像。

然而，图像仍然可以是单色的并且具有彩色色彩空间。

# c++ - 从目标文件生成 dll 文件

> ID：12454571
> 
> 赞同：1
> 
> 时间：2012-09-17T07:10:00.093
> 
> 标签：c++, visual-studio, object, dll

当我想从对象文件在 unix os 中生成共享对象 (.so) 时，我只需输入以下命令：

> g++ -shared xxx.o yyy.o zzz.o -o module.so

我想知道是否可以在 Windows 中执行相同的操作，以便从目标文件生成 .dll 文件。那可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:13:02.333

如果您安装了 MinGW32 或 Cygwin，那么可以。但是您不能直接使用 Visual Studio 来完成，因为 Visual Studio 使用的`cl`编译器驱动程序具有一组完全不同的选项。

# objective-c - 如何创建和分配 C 缓冲区作为目标 C 类的一部分

> ID：12454585
> 
> 赞同：0
> 
> 时间：2012-09-17T07:11:13.470
> 
> 标签：objective-c, pointers, storage, primitive

最好用一个例子来解释：

在我的 AudioItem.h

```
#define ITEM_CAPACITY 100

typedef struct DataStruct {
    void *                          content;
    UInt32                          size;
} DataStruct;

typedef DataStruct *DataStructRef;

@interface AudioItem : NSObject
{        
    DataStructRef data;        
}

@property (assign, readwrite) DataStructRef data; 
```

在 AudioItem.m @synthesize 数据中；

```
-(id)initWithID:(NSString *)itemID
{
    self = [super init];        
    data->content = malloc(ITEM_CAPACITY);
    return self;
} 
```

上面的代码看起来很像[这个](https://stackoverflow.com/questions/2646936/objective-c-classes-pointers-to-primitive-types-etc)，但是我得到一个 BAD_EXEC_ERROR.. 怎么会？我想使用 C 缓冲区而不是一些 NSMutableData 或任何 b/c 的原因我尝试过使用 NSMutableData 并且我觉得它减慢了我的实时应用程序

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:24:28.987

它失败了，因为`data`当您设置它的内容时它是一个空指针。

简单的方法是：

```
enum { ITEM_CAPACITY = 100 };

typedef struct DataStruct {
    char content[ITEM_CAPACITY];
    UInt32 size;
} DataStruct;

@interface AudioItem : NSObject
{        
@private
    DataStruct data;
}

@implementation AudioItem
- (id)initWithID:(NSString *)itemID
{
    self = [super init];
    if (0 == self) return;
    data.size = ITEM_CAPACITY;
    return self;
} 
```

# java - 本地数据地址不属于任何此主机本地接口

> ID：12454586
> 
> 赞同：0
> 
> 时间：2012-09-17T07:11:19.357
> 
> 标签：java, exception, network-programming, jmf

```
byte[] ip = new byte[4];
        ip[0] = (byte) 192;
        ip[1] = (byte) 168;
        ip[2] = (byte) 1;
        ip[3] = (byte) 8;

SessionAddress localSessionAddr = new SessionAddress(
                InetAddress.getByAddress(ip), LOCAL_RTP_PORT); 
```

抛出：本地数据地址不属于任何此主机本地接口

**【解决方法及原因】**

问题是 JMF 似乎使用 InetAddress.getAllByName() ，它（在大多数情况下）只提供单个 IP 地址，因为它可能不在 /etc/hosts 中。可以通过在 /etc/hosts [[1]](https://forums.oracle.com/forums/thread.jspa?threadID=1279945)中设置你的接口 ip（比如 eth0、wlan0）来解决它。

```
>  cat /etc/hosts
> 127.0.0.1 localhost
> 127.0.1.1 noor
> 192.168.1.8 noor 
```

# iis-7 - 同一 IP 中的多个域的多个 SSL

> ID：12454590
> 
> 赞同：0
> 
> 时间：2012-09-17T07:11:30.370
> 
> 标签：iis-7, ip, ssl-certificate

我们在同一个 IP 中托管了两个域。例如：

*   www.domain1.com
*   www.domain2.com

两者都托管在 IIS7 中。我们为每个购买了两个 SSL 证书，一个用于 domain1，另一个用于 domain2。我尝试过 SSL 主机标头为这两个域使用不同的 SSL，但它失败了。我如何将这两个 SSL 证书用于都托管在同一 IP 中的各个域？

任何人都可以让我知道这样做的正确方法吗？

问候，卡蒂克。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-17T10:21:46.927

通过查看您的要求，我会建议两种不同的选择：

**选项 1：** 将两个域托管在不同的 IP 地址上。每个 SSL 都需要专用的 IP 地址才能工作。您需要为每个 IP 地址支付每月费用。

**选项 2：** 购买 SAN（主题备用名称）SSL 证书。使用 SAN SSL，您可以在单个 ssl 证书中添加多个域名。单个 SSL 需要单个 IP 地址才能在 Web 服务器上工作。

与标准 ssl 证书相比，SAN ssl 证书的成本更高。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T07:16:29.140

您正在寻找[SNI (Server Name Indication)](http://en.wikipedia.org/wiki/Server_Name_Indication)，它在 IIS7 上不受支持。没有办法做到这一点。

# ruby - 如何使用 Nokogiri 获得每列的最大长度？

> ID：12454593
> 
> 赞同：1
> 
> 时间：2012-09-17T07:11:47.927
> 
> 标签：ruby, xpath, nokogiri

如何使用 Nokogiri 获得每列的最大长度？

示例 HTML：

```
<table>
 <tr>
  <td>ONE</td><td>TWO</td><td>THREE</td>
 </tr>
 <tr>
  <td>Monaco</td><td>Bangkok</td><td>Thailand</td>
 </tr>    
</table> 
```

结果将是每个`<td>`.

```
<td>one</td> => 3
<td>two</td> => 3
<td>three</td> => 5
.... 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T08:05:27.630

首先，您将映射 tr/td 的长度：

```
lengths = doc.search('tr').map{|tr| tr.search('td').map{|td| td.text.length}}
=> [[3, 3, 5], [6, 7, 8]] 
```

将其转置以获取列并仅从每个列中获取最大值：

```
lengths.transpose.map &:max
=> [6, 7, 8] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T12:41:57.043

**一个纯单行 XPath 2.0 解决方案**，假设表具有*规则*结构（每行具有相同的列数）：

```
for $i in 1 to count(/*/tr[1]/td)
 return
    max(/*/tr/td[$i]/string-length()) 
```

**基于 XSLT 2.0 的验证**：

```
<xsl:stylesheet version="2.0"   xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:output omit-xml-declaration="yes" indent="yes"/>

 <xsl:template match="/">
     <xsl:sequence select=
     "for $i in 1 to count(/*/tr[1]/td)
       return
          max(/*/tr/td[$i]/string-length())
     "/>
 </xsl:template>
</xsl:stylesheet> 
```

**当此转换应用于提供的 XML 文档时：**

```
<table>
    <tr>
        <td>ONE</td>
        <td>TWO</td>
        <td>THREE</td>
    </tr>
    <tr>
        <td>Monaco</td>
        <td>Bangkok</td>
        <td>Thailand</td>
    </tr>
</table> 
```

**对 XPath 表达式求值，并将该求值的结果复制到输出中：**

```
6 7 8 
```

# php - 如何从php中的字符串中提取两个子字符串之间的子字符串？

> ID：12454595
> 
> 赞同：1
> 
> 时间：2012-09-17T07:11:51.977
> 
> 标签：php, string

例如：

```
 $string="<aa>xyz<bb>123<ccc>"; 
```

我想从 $string 中获取子字符串'xyz'。有可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T07:14:05.017

只需您可以使用 strip_tags 来获取`xyz`

```
<?php
      echo strip_tags('<aa>xyz<bb>');
    ?> 
```

`strip_tags`只是条带化标签。仅在满足您的要求时才使用它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-17T07:14:45.620

是的，有可能

```
 $string="<aa>xyz<bb>";

 echo substr($string,4,4); 
```

您也可以通过[`strip_tags()`](http://php.net/manual/en/function.strip-tags.php) 它从字符串中剥离 HTML 和 PHP 标记

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-17T09:03:16.423

您还可以使用正则表达式将字符串分解为数组。这将在 $arr[0] 中为您提供您想要的子字符串。无论标签是什么，它都可以工作，并允许您轻松地找到您想要的子字符串。

```
<?php
$string="<aa>xyz<bb>123<ccc>";
$arr = preg_split("/<[^>]+>/", $string, 0, PREG_SPLIT_NO_EMPTY);
var_export($arr); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-17T07:17:16.950

使用`preg_match`with `<aa>(.*?)</bb>`，它将是第一个匹配项。

使用正则表达式，您还可以在字符串中获得其他匹配项..

# c++ - WIA驱动程序关闭，确定，取消按钮处理

> ID：12454596
> 
> 赞同：0
> 
> 时间：2012-09-17T07:11:52.647
> 
> 标签：c++, windows, visual-c++, wia, windows-process

我正在对 WIA 驱动程序（VC6）进行一些修改。我的修改是在属性表中完成的，这是我们唯一可以修改的区域。但是当用户单击确定、取消或关闭按钮时，我必须在 bin 文件中进行一些更改，这是 Microsoft 提供的 WIA UI 的一部分。

我们可以处理这些事件吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T08:55:23.387

如果您只能更改属性表资源，则不能。更改文件需要代码，而属性资源不包含代码。

# television - 通用SDK（smarttv-alliance）：无视频播放

> ID：12454599
> 
> 赞同：0
> 
> 时间：2012-09-17T07:12:05.940
> 
> 标签：television, lg, smart-tv-alliance

尝试智能电视联盟的 SDK，我担心它无法在 vbox 中播放视频。菜单和浏览器运行良好，但例如在 SDK 中尝试视频示例项目时，它不会在那里播放视频。=> 屏幕在内容区域保持黑色...

这是一个智能电视虚拟化，所以我希望它支持视频播放并且不是缺少的功能（就像在一些安卓模拟器中一样）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-26T12:20:55.143

SDK 模拟器除了 mp4 渐进式下载外，不支持太多格式的播放。你到底想流什么？

不锈钢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T02:02:39.297

它就像一个普通的网站或 HTML 文档...像往常一样添加您的视频。

# c# - 列表转换 C# LINQ

> ID：12454603
> 
> 赞同：0
> 
> 时间：2012-09-17T07:12:13.850
> 
> 标签：c#, linq, ilist

我有两个课程如下

```
public class ClassX
{
    int id,
    string title,
    string description
} 

public class ClassY
{
    int id,
    string title,
    string description,
    int localeId,
    int clientId
} 
```

我有两个来自这些类的列表，如下所示

```
IList<ClassX> listX = new List<ClassX>();

IList<ClassY> listY = new List<ClassY>(); 
```

我需要将 listY 列表转换为 listX 列表

在这种情况下，请注意 ClassY 的属性即

```
int localeId,

int clientId 
```

不会填充值

我可以从 listY 隐蔽到 listX 列表吗

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-17T07:15:49.050

是的当然：

```
listX = listY.Select(y => new ClassX()
{
    description = y.description,
    id = y.id,
    title = y.title
}).ToList(); 
```

`ClassX`这会从和中选择所有公共属性，`ClassY`并`ClassX`为每个`ClassY`. 然后它调用[`ToList`](http://msdn.microsoft.com/en-us/library/bb342261.aspx)which 创建一个新的`List<ClassX>`.

请注意，您需要添加`using System.Linq`.

**编辑**：我必须同意@AdrianFaciu 你应该考虑重构你的类。当您需要将两个相似的类相互转换时，听起来您最好创建`ClassX`一个`ClassY`.

```
public class ClassX
{
    public int id { get; set; }
    public string title { get; set; }
    public string description { get; set; }
}

public class ClassY : ClassX
{
    public int localeId { get; set; }
    public int clientId { get; set; }
} 
```

现在`ClassY`隐含地具有 的所有属性`ClassX`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-17T07:16:08.847

```
 var result = listY.Select(y => new ClassX { 
                            id = y.id, 
                            title = y.title, 
                            description = y.description }); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-17T07:16:14.320

您可以使用以下代码获取`ClassX`对象列表。

```
var list = (from t in listY
           select new ClassX
                 {
                  id = t.id,
                  title = t.title,
                  description = t.description
                 }).ToList(); 
```

但是你可以`ClassY`作为子类来`ClassX`使用继承

具有以下类结构：

```
public class ClassX
{
    public int id { get; set; }
    public string title { get; set; }
    public string description { get; set; }
}

public class ClassY : ClassX
{
    public int localeId { get; set; }
    public int clientId { get; set; }
} 
```

稍后您可以执行以下操作：

```
List<ClassY> listY = new List<ClassY>();
listY.Add(new ClassY { id = 0, title = "sometitle1", description = "some description", localeId = 1, clientId = 2 });
listY.Add(new ClassY { id = 1, title = "sometitle2", description = "some description", localeId = 1, clientId = 2 });
listY.Add(new ClassY { id = 2, title = "sometitle3", description = "some description", localeId = 1, clientId = 2 });

List<ClassX> listX = (from t in listY
                     select (ClassX)t).ToList(); //casting to base class 
```

您将项目`ClassY`转换为基类`ClassX`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-17T07:16:13.023

试试下面的

```
var listX = listY.Select(y => new ClassX { id = y.id, title = y.title, description = y.description).ToList(); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-17T07:16:33.610

如果你不想改变你的对象（例如通过实现 Adrian 的基类思想），那么直接做：

```
var listYtoX = listY.Select(y => new ClassX()
                                 {
                                     id = y.id,
                                     title = y.title,
                                     description = y.description
                                 }).ToList(); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-17T07:17:20.307

伪代码：

```
listY.Select(y=>new ClassX(){ id = ..., title = ..., description = ...}).ToList(); 
```

# xcode - Xcode 4.4.1：如何禁用多个更改项目的自动提交？

> ID：12454604
> 
> 赞同：1
> 
> 时间：2012-09-17T07:12:14.620
> 
> 标签：xcode, svn, version-control

有人在 xcode 4.4.1 中遇到奇怪的 svn 自动提交行为吗？已经注意到，如果同时处理多个项目并且您正在执行 svn commit，那么 Xcode 会从多个项目中获取所有更改并尝试将它们全部提交。这让我很恼火，因为很容易意外提交未完成的更改，因为 Xcode svn commit 打开一个选项卡，其中只显示活动项目的更改。是否有禁用此功能的首选项设置？

# .net - NetCFSvcUtil.exe 给出错误：对象引用未设置为对象的实例

> ID：12454606
> 
> 赞同：1
> 
> 时间：2012-09-17T07:12:20.907
> 
> 标签：.net, wcf, compact-framework, wcf-client

> **可能重复：**
> [NetCFSvcUtil “错误：工具中发生错误。”](https://stackoverflow.com/questions/992712/netcfsvcutil-error-an-error-occurred-in-the-tool)

当我尝试使用该工具为 wcf 服务生成类时，它给了我上述错误。

我在某个地方找到了 NetCFSvcUtil.exe 的修复程序，但它不能解决我的问题。我当前的版本是：3.5.9198.0 有没有更新的版本？

有没有人遇到过这样的问题？

谢谢

* * *

控制台的输出：

Microsoft (R) .NET Compact Framework 服务模型元数据工具 [Microsoft (R) Windows (R) Communication Foundation，版本 3.5.0.0] 版权所有 (c) Microsoft Corporation。版权所有。

尝试使用 WS-Metadata Exchange 或 DISCO从“ [http://10.1.0.168/FileTransfer ”下载元数据。](http://10.1.0.168/FileTransfer)警告：.NET Compact Framework 不支持在“RemoteFileInfo.Crc”上找到的“MessageHeaderAttribute”。客户端代理将支持减少的服务合同。

警告：.NET Compact Framework 不支持在“RemoteFileInfo.FileName”上找到的“MessageHeaderAttribute”。客户端代理将支持减少的服务合同。

警告：.NET Compact Framework 不支持在“RemoteFileInfo.Length”上找到的“MessageHeaderAttribute”。客户端代理将支持减少的服务合同。

错误：工具中发生错误。

## 错误：对象引用未设置为对象的实例。

合同：

```
namespace FileTransfer
{
  [ServiceContract(ConfigurationName = "IFileTransfer")]  
  public interface IFileTransfer
  {
    [OperationContract]
    RemoteFileInfo DownloadFile(DownloadRequest request);
  }

  [MessageContract]
  public class DownloadRequest
  {
    [MessageBodyMember]
    public Guid ID;

    [MessageBodyMember]
    public string App
  }

  [MessageContract]
  public class RemoteFileInfo : IDisposable
  {
    [MessageHeader(MustUnderstand = true)]
    public string FileName;

    [MessageHeader(MustUnderstand = true)]
    public long Length;

    [MessageHeader(MustUnderstand = true)]
    public int Crc;

    [MessageBodyMember(Order = 1)]
    public System.IO.Stream FileByteStream;

    public void Dispose()
    {
      if (FileByteStream != null)
      {
        FileByteStream.Close();
        FileByteStream = null;
      }
    }
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T21:31:47.917

我没有也没有使用`NetCFSvcUtil.exe`，但我猜你在你的项目中引用或包含了它。

请注意下面屏幕截图中的程序如何显示图标`palm.ico`未**复制**到“属性”窗口中的设备：

![截屏](../Images/9f77cff739d282c3fbe6307ce2325346.png)

您**确实**希望将其包含在输出目录中。

这就是您收到空引用异常的原因：该对象不在您的设备上。

# java - ActionErrors 和 ActionMessages struts 1.3 有什么区别

> ID：12454609
> 
> 赞同：3
> 
> 时间：2012-09-17T07:12:52.730
> 
> 标签：java, struts, struts-1

我一直在使用 struts-errors 将消息从调度操作类传递到查看页面但我发现 struts-messages 是执行此操作的标准标记首先这两个类之间有什么区别其次如何使用 struts-errors，我尝试了以下代码但它没有用

```
 messages.add("PreferencesUpdated",new ActionMessage("Your preferences has been updated"));
        saveMessages(request, messages);
        request.setAttribute("messages", true);
        return mapping.findForward(subscribe); 
```

并在查看页面

```
<span style="font-weight:bold"><html:messages id="PreferencesUpdated" message="true" /></span> 
```

谁能告诉代码中的错误在哪里以及和之间的区别

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T07:51:34.063

没有任何区别，已**弃用**`ActionErrors`。中的所有行为`ActionErrors`都被推到了`ActionMessages`. 这样做是为了清楚地表明这些类可用于将任何类型的消息从控制器传递到视图——错误只是一种消息。

标签的主要优点`ActionMmessage`是它不强制在属性文件中写入html标签，而是`ActionError`对象强制写入html标签。

# php - setcookie() 中的 cookie 名称值

> ID：12454610
> 
> 赞同：0
> 
> 时间：2012-09-17T07:13:01.437
> 
> 标签：php

我将使用 php setcookie 函数来实现持久登录。

我的问题是这样的：

cookie 的“名称”是否必须遵循与其“值”相同的严格安全准则，或者它可以是我喜欢的任何词，而不是散列或类似的词？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T10:35:04.013

不是必须的，但是如果您将 cookie 名称存储在常量或类似名称中，那么继续让它“不可读”，这始终是一些安全步骤。名为“hDS4aH8AwdE”的 Cookie 比“user_credentials”更受关注。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:14:31.657

我可以是你想要的任何东西，不必与价值相关。请记住，用户可以看到 cookie，因此不应存储“敏感”信息。

```
setcookie("MyCustomCookie", 'Europe', time()+3600); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T07:16:50.133

cookie 名称与它的值没有任何关系。您可以创建任何名称的 cookie 并存储您想要的任何信息。

```
setcookie("COOKIE_NAME", 'COOKIE_VALUE', COOKIE_TIME_OUT); 
```

你只需要遵循它的语法

# symfony1 - SelfJoin 使用 Symfony 1.4/propel 1.4

> ID：12454626
> 
> 赞同：0
> 
> 时间：2012-09-17T07:14:33.473
> 
> 标签：symfony1, symfony-1.4, propel, self-join

我需要使用 Symfony 1.4/Propel 1.4 进行自我加入。我的表/数据库太大而无法放在这里，但下面给出了一个示例表来复制我面临的问题。

考虑以下带有示例数据的示例表

```
Table Employee
----------------------------------------
|id    | name                    | mid |
----------------------------------------
|1     | CEO                     |NULL |
|2     | CTO                     |1    |
|3     | CFO                     |1    |
|4     | PM1                     |2    |
|5     | TL1                     |4    |
---------------------------------------- 
```

这里第一列是员工，第二列是员工姓名，第三列是经理 ID。mid 链接到同一张表中的另一行。例如，CTO(2) 向 CEO(1) 汇报，所以第二行中间是 1。

我需要以下输出：

```
---------------------
|ename    | manager |
---------------------
|CTO      | CEO     |
|CFO      | CEO     |
|PM1      | CTO     |
|TL1      | PM1     |
--------------------- 
```

SQL 查询将是：

```
SELECT e.name,m.name
FROM employee e, employee m
WHERE e.mid=m.id
AND e.mid NOT NULL; 
```

我的问题是，如何在 Symfony/Propel 1.4 中编写相同的查询？我尝试关注

```
$c = new Criteria();
$c->clearSelectColumns();
$c->addSelectColumn(EmployeePeer::NAME.' as ename');
$c->addSelectColumn(EmployeePeer::NAME.' as manager');
$c->setPrimaryTableName(EmployeePeer::TABLE_NAME);
$c->addJoin(EmployeePeer::MID, EmployeePeer::ID, Criteria::INNER_JOIN);
$c->add(EmployeePeer::MID, NULL, Criteria::EQUAL); 
```

即使我知道这个查询没有任何意义，并且按照我的预期，我得到了 PropelException。

但是自连接是常见的数据库操作之一，我相信 Propel 必须支持它。有人可以告诉如何在 Symfony/Propel 1.4 中实现上述要求

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T10:26:23.540

好吧，我从来没有尝试过，所以不确定这是否对您有帮助，但没有其他答案，所以`addAlias`如果您遇到困难，您可以尝试/进一步搜索方法。

```
$notifCrit->addAlias("A", ThreadsPeer::TABLE_NAME);
$notifCrit->add("A.father_id", ThreadsPeer::FATHER_ID."=A.father_id", Criteria::CUSTOM); 
```

摘自[旧 symfony 论坛的最后评论](http://oldforum.symfony-project.org/index.php/m/9590/)

不确定，但 Propel 1.4 可能不支持使用内置方法进行自连接，因为它需要设置别名。因此，您需要如上例所示的自定义查询。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-17T14:41:03.567

根据这个[SQLFiddle](http://sqlfiddle.com/#!2/ab752/10)，您要执行的 SQL 是：

```
SELECT e.name as ename, m.name as manager
FROM employee e
LEFT JOIN employee m ON e.mid = m.id WHERE e.mid IS NOT NULL; 
```

就像`YouthPark`，我认为`addAlias`是解决方案，我会做这样的事情：

```
$c = new Criteria();
$c->clearSelectColumns();
$c->addSelectColumn(EmployeePeer::NAME.' as ename');
$c->addSelectColumn(EmployeePeer::NAME.' as manager');

$c->addAlias('c2', EmployeePeer::TABLE_NAME);

$c->addJoin(EmployeePeer::ID, EmployeePeer::alias('c2', EmployeePeer::MID), Criteria::LEFT_JOIN);

$c->add(EmployeePeer::MID, Criteria::ISNOTNULL); 
```

顺便说一句，我不确定这`addSelectColumn`部分。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-11-23T04:43:40.697

```
$c = new Criteria();
$c->addJoin(ArticlePeer::AUTHOR_ID, AuthorPeer::ID);
$c->add(AuthorPeer::NAME, 'John Doe');
$articles = ArticlePeer::doSelect($c); 
```

# performance - solr 在创建索引时是否支持排序？

> ID：12454629
> 
> 赞同：0
> 
> 时间：2012-09-17T07:14:39.277
> 
> 标签：performance, solr, indexing

在我的测试环境中，每台服务器上有近 130,000,000 个文档。如果我在不按日期排序的情况下进行搜索，它工作得很快，但如果启用排序，它会非常慢。

我认为如果 solr 可以在创建索引时对索引字段进行排序，搜索会更有效。那么，如何配置 solr 在索引时对某些字段进行排序呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T07:42:43.023

初始查询会较慢，但所有后续查询都应​​该很快。
Solr 应该能够使用[Filter Query Cache 进行排序](http://wiki.apache.org/solr/SolrCaching#filterCache)。

您还可以[加热排序字段](http://wiki.apache.org/solr/SolrPerformanceFactors#Explicit_Warming_of_Sort_Fields)。
还要检查开销是否也只是排序的原因，并且不涉及查询和评分。

# c# - 将字节数组 Tiff 转换为字节数组 Jpeg

> ID：12454636
> 
> 赞同：2
> 
> 时间：2012-09-17T07:15:12.197
> 
> 标签：c#, image, tiff, jpeg, libtiff.net

如何将字节数组从 tiff 图像转换为 jpg 字节数组？

我有来自网络的 Tiff 图像的字节数组，那么如何在不编写新文件的情况下将其用作 jpg？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T22:22:25.557

```
Byte[] tiffBytes;
Byte[] jpegBytes;

using (MemoryStream inStream = new MemoryStream(tiffBytes))
using (MemoryStream outStream = new MemoryStream())
{
    System.Drawing.Bitmap.FromStream(inStream).Save(outStream, System.Drawing.Imaging.ImageFormat.Jpeg);
    jpegBytes = outStream.ToArray();
} 
```

我没有尝试过，但它应该可以工作。如果您要最后保存文件，您可以在位图上使用文件路径而不是流的 save 方法。

# java - 可以反编译Java程序

> ID：12454642
> 
> 赞同：2
> 
> 时间：2012-09-17T07:15:50.930
> 
> 标签：java, eclipse, decompiling

我有一个其他人编写的 Java 程序，我想将它“反编译”到它的源代码中，这样我就可以修改它的代码。我已经尝试这样做并反编译了一个 jar，但是当我尝试将 Java 文件重新编译到 jar 中时，我遇到了一堆依赖问题，因为我没有依赖的源文件（虽然我有一些但它没有似乎没有帮助）。

是否有任何程序可以拖放 Java exe 或安装目录，我猜它会反编译所有内容，以便我可以修改它的一些源并重新编译它？我以前做过，但不记得我用的是什么应用程序。原始程序是用eclipse编写的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:32:53.760

您尝试重新编译的代码依赖于您没有的类。

无需重新编译整个 jar，您只需重新编译您更改的类。

如果这些类依赖于您没有的类，您可以为这些类创建存根，这将允许您编译您更改的类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T13:23:20.753

我想建议使用 jd-gui.exe。可以很方便的反编译jar文件，内容看的一清二楚...

# android - Android RatingBar - 一团糟

> ID：12454644
> 
> 赞同：6
> 
> 时间：2012-09-17T07:15:55.733
> 
> 标签：android, android-layout, android-ui

我知道这听起来很荒谬，但感觉就像 Android 的 UI 组件和行为有时不合时宜。

考虑以下 XML：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:orientation="horizontal" >

    <RatingBar
    android:id="@+id/ratingBar1"
    android:style="@android:style/Widget.Holo.Light.RatingBar.Small"
    android:progress="3"
    android:max="5"
    android:numStars = "5"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" />

</LinearLayout> 
```

不同设备尺寸的屏幕截图：

![Nexus S 评分栏](../Images/e04649ffdb3347a6fb7e15b8847b5cb3.png) Nexus S 评分栏

![平板电脑评分栏](../Images/f5bcdb159d03f7ac84de123f39baf467.png) 平板电脑评分栏

![小型设备评分栏](../Images/4d4fd0653cdd72c44378b18204fb1c26.png) 小型设备评分栏

即使它只是在预览工具中，我可以确认这实际上是它在设备上的外观。

小型设备的行为令人抓狂。指定 5 颗星的 RatingBar 如何只显示 3 颗星，为什么不按比例缩小星星以适合窗口？

认为 wrap_content 宽度是问题，我切换到 layout_width="fill_parent" 并没有改变小型设备上的外观，但它在平板电脑上完全搞砸了（对于 5 的“numStars”来说太多了）：

![宽度为 fill_parent 的平板电脑](../Images/98fdcf56cacf0880d90725c14a670365.png)

我的问题是，有没有办法让 RatingBar 在大小方面获得适当的行为？您会认为 numStars 或 max 就足够了，但它完全是任意的。当 RatingBar 被拉伸以绘制更多星星时，它会添加星星，看看进度为 3 时，它如何根据显示的星星数绘制它？不遵守 numStars 是没有意义的！

如果无法从 RatingBar 获得逻辑性能，是否有任何替代方案，包括 3rd 方小部件？如果没有，我想我总是可以绘制 5 个 ImageView 并对其进行相应的操作。

（请记住，所有这些行为都是在布局中仅使用一个 RatingBar 展示的 - 忘记尝试使用其他小部件/组件调整大小，或使用您自己的样式。我知道它已经完成，但为什么这是默认行为？）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-08-03T17:12:17.960

在使用股票 RatingBar 时，我的感觉和你一样，所以我自己做了一个：[SimpleRatingBar](https://github.com/FlyingPumba/SimpleRatingBar)。

它的特点：

*   完全工作`android:layout_width`：它可以设置为`wrap_content`，`match_parent`或abritary dp。
*   任意数量的星星。
*   任意步长。
*   星星的大小可以精确控制或通过设置最大大小来控制。
*   可定制的颜色（星星的边框、填充和背景）。
*   星星之间可定制的大小分隔。
*   可自定义的星星边框宽度。
*   允许设置 OnRatingBarChangeListener
*   星星填充可以设置为从左到右或从右到左开始（支持 RTL 语言）。
*   AnimationBuilder 集成在视图中以通过动画以编程方式设置评分。

[这是它的预览](https://github.com/FlyingPumba/SimpleRatingBar/raw/master/images/sample.gif)。

您可以在`jcenter`或 中找到它`Maven Central`。因此，在您的`build.gradle`文件中只需添加到您的依赖项：

`compile 'com.iarcuschin:simpleratingbar:0.1.+'`

我希望它有用。

# iphone - 使用 UIDocumentInteractionController 处理临时文件

> ID：12454645
> 
> 赞同：4
> 
> 时间：2012-09-17T07:16:05.327
> 
> 标签：iphone, objective-c, ios, ios6

我正在使用`UIDocumentInteractionController`下载后驻留在缓存中的临时文件。我正在使用一个非常简单的类，它将`md5-cache`文件名（ext = cache）传递给我的应用程序，并且下载的文件采用这种格式。原因是在本地拥有文件并且只下载一次（一个会话）。由于缓存名称采用统一格式，因此我可以轻松清理它们。

现在`UIDocumentInteractionController`我需要将这些文件重命名为原始名称，否则它们将无法被正确识别。

当`UIDocumentInteractionController`完成移交文件时，我想将文件移回其缓存文件名。问题是，方法： -`documentInteractionController:didEndSendingToApplication:`永远不会被调用 - 尽管委托设置正确。

我基本上是如何设置控制器的：

```
interactionController = [UIDocumentInteractionController interactionControllerWithURL:[NSURL fileURLWithPath:temporaryFile]];
interactionController.delegate = self;
interactionController.annotation = [cacheURLString lastPathComponent]; // original name to move back to 
```

关于如何正确找出文件已移交给另一个应用程序/或`UIDocumentInteractionController`已被驳回的任何建议？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-02-18T22:44:23.720

我发现`documentInteractionController:didEndSendingToApplication:`如果将文档发送到另一个应用程序会调用它，但在通过电子邮件发送文档时不会调用它（可能还有其他内置功能，如 AirDrop、复制、打印等）。这对我来说似乎是一个错误，但它确实存在。

托尼在评论中的回答对我有用 - 用于`[[NSFileManager defaultManager] linkItemAtURL:toURL:error]`将源文件链接到临时文件并将临时文件传递给控制器​​。这不会占用大量额外空间，并且临时链接将在一定时间后删除。

# c# - TextBox 占位符文本同时也绑定到 ListBox.SelectedItem

> ID：12454646
> 
> 赞同：0
> 
> 时间：2012-09-17T07:16:08.000
> 
> 标签：c#, .net, binding, microsoft-metro

如何在将文本框绑定到 ListBox 的选定项的同时仍然拥有占位符文本 (.Text = "Whatever")？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:24:00.940

您希望何时显示此占位符文本？什么时候没有SelectedItem？

您可以使用[PriorityBinding](http://msdn.microsoft.com/en-us/library/system.windows.data.prioritybinding.aspx)它将允许您提供绑定列表，它将使用第一个产生结果的绑定。

就像是：

```
<TextBox> 
   <TextBox.Text>
     <PriorityBinding>
       <Binding Path="myListBox.SelectedItem"/>
       <Binding Source="Default Text"/>
     </PriorityBinding>
   </TextBox.text>
 </TextBox> 
```

# sql-server - 将图像保存到数据库 MVC3

> ID：12454654
> 
> 赞同：0
> 
> 时间：2012-09-17T07:16:21.350
> 
> 标签：sql-server, asp.net-mvc

我有一个这样的链接： C:\folder\folder\image.jpg 。如何将图像保存到 SQL Server 中的数据库？

如果它是一个 HttpPostedFileBase 我会知道如何保存它，但现在我只有一个链接。

*   这是一个链接，因为我从 tiniMCE 编辑器字段中提取了 src 标签。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:27:34.893

查看[通过 ASP.Net MVC 从 SQL Server 下载和上传图像](http://rusanu.com/2010/12/28/download-and-upload-images-from-sql-server-with-asp-net-mvc/)

代码也可在[codeproject.com上获得](http://www.codeproject.com/Articles/140713/Download-and-Upload-Images-from-SQL-Server-via-ASP)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T10:11:48.447

来自 msdn 社交的示例：

桌子：

```
CREATE TABLE [dbo].[FileStoreDemo](

                [id] [int] NOT NULL,

                [name] [nvarchar](100) NOT NULL,

                [content] [varbinary](max) NULL,

                CONSTRAINT [pk_filestoredemo_id] PRIMARY KEY CLUSTERED ([id] ASC)) 
```

代码：

```
string filename = Server.MapPath("/Content/Desert.jpg")
using (fooEntities fe = new fooEntities())

{

    FileStoreDemo fsd = fe.FileStoreDemoes.CreateObject();

    fsd.name = new FileInfo(filename).Name;

    fsd.content = File.ReadAllBytes(filename);

    fe.FileStoreDemoes.AddObject(fsd);

    fe.SaveChanges();

} 
```

[http://social.msdn.microsoft.com/Forums/en/sqlgetstarted/thread/1857938d-b74a-4954-bbde-734dfef08039](http://social.msdn.microsoft.com/Forums/en/sqlgetstarted/thread/1857938d-b74a-4954-bbde-734dfef08039)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T07:37:58.583

```
 [HttpPost]
        public ActionResult Create(string fileTitle)
        {
            try
            {
                HttpPostedFileBase file = Request.Files[0];
                byte[] imageSize = new byte[file.ContentLength];
                file.InputStream.Read(imageSize, 0, (int)file.ContentLength);
                Image image = new Image()
                {
                    Name = file.FileName.Split('\\').Last(),
                    Size = file.ContentLength,
                    Title = fileTitle,
                    ID = 1,
                    Image1 = imageSize
                };
                db.Images.AddObject(image);
                db.SaveChanges();
                return RedirectToAction("Detail");
            }
            catch(Exception e)
            {
                ModelState.AddModelError("uploadError", e);
            }
            return View();
        } 
```

# iphone - Xcode 4.3.2 中 UINavigationController 的问题？

> ID：12454661
> 
> 赞同：0
> 
> 时间：2012-09-17T07:16:35.117
> 
> 标签：iphone, ios, uinavigationcontroller

我在 iPhone 应用程序中工作，使用`XCode 4.3.2`工具开发我的应用程序（不使用故事板）。当我按下按钮`homescreen.m`导航到登录屏幕时，我运行应用程序，无法从主页导航到登录屏幕，如何解决此问题？
**我试过这个：**

班级名称 -`Appdelegate.m`

```
 - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    // Override point for customization after application launch.
    self.window.backgroundColor = [UIColor whiteColor];
    [self.window makeKeyAndVisible];

    home = [[HomeScreen alloc]init];
    UINavigationController *navi =[[UINavigationController alloc]initWithRootViewController:home];
    [self.window addSubview:navi.view];
    return YES;
} 
```

类名 - HomeScreen.m

```
#import "HomeScreen.h"
#import "LoginScreen.h"

@interface HomeScreen ()

@end

@implementation HomeScreen

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
    }
    return self;
}

- (void)viewDidLoad
{
    [super viewDidLoad];
    self.title=@"HomeScreen";

    UIButton *Button1 = [UIButton buttonWithType:UIButtonTypeRoundedRect];
    Button1.frame = CGRectMake(10, 100, 100, 50);
    [Button1 setTitle:@"Homescreen" forState:UIControlStateNormal];
    [Button1 addTarget:self action:@selector(GotONext) forControlEvents:UIControlEventTouchUpInside];
    [self.view addSubview:Button1]; 
    // Do any additional setup after loading the view.
}

-(void)GotONext
{
    LoginScreen *log =[[LoginScreen alloc]init];
    [self.navigationController pushViewController:log animated:YES];
} 
```

类名 - LoginScreen.m

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    self.title=@"LoginScreen";

} 
```

![在此处输入图像描述](../Images/16a1d34b36cfd240df7e32580fc99e58.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:40:59.840

试试下面的代码...

```
 - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
home = [[[HomeScreen alloc] initWithNibName:@"HomeScreen" bundle:nil] autorelease];
        UINavigationController *navviewController1=[[UINavigationController alloc]initWithRootViewController: HomeScreen];
self.window.rootViewController = navviewController1;
    return YES;
} 
```

并在下一个按钮方法上使用下面的代码...

```
-(void)GotONext
{
    LoginScreen *log =[[LoginScreen alloc]initWithNibName:@"LoginScreen" bundle:nil] autorelease];
    [self.navigationController pushViewController:log animated:YES];
} 
```

我希望这可以帮助你...

:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T08:42:05.827

我想你忘记了写 initwithNibName:@"LogonScreen" 这个东西。

```
-(void)GotONext
{
    LoginScreen *log =[[LoginScreen alloc] initWithNibName:@"LoginScreen" bundle:nil];
    [self.navigationController pushViewController:log animated:YES];
} 
```

# java - 调用 Scanner.close() 抛出 nosuchelement 异常

> ID：12454662
> 
> 赞同：4
> 
> 时间：2012-09-17T07:16:35.373
> 
> 标签：java, exception, java.util.scanner

我有一个简单的方法，可以将命令打印到屏幕上，扫描用户的输入，然后将其作为字符串返回。如果用户输入无效，则通知用户并再次询问。这种方法效果很好，但我的导师提到我们应该始终关闭资源，所以我返回并添加了 close 方法，现在每次调用该方法时我都会收到 NoSuchElementException，无论用户输入如何。这是代码...

```
private String getUserString(String userCommand) {
    System.out.println(userCommand);
    Scanner scan = new Scanner(System.in);
    String userinput = scan.nextLine().trim();

    if (userinput.isEmpty()){
        System.out.println("Invalid choice");
        return getUserString(userCommand);
    }

    else {
        return userinput;
    }
} 
```

异常总是指向用户输入作为 scan.nextLine().trim() 启动的行 注意*我在每个 return 语句之前的每一行上添加了 scan.close() ，但是我没有在上面包含它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-17T07:22:40.077

当您关闭时，`scan`您正在关闭`System.in`并且当您尝试从中重新读取时，它会抛出异常。

你的导师在一方面是对的，你应该清理资源，*而不是*在涉及到`System.in`.

* * *

而不是每次需要输入时都重新打开流，您可以创建`Scanner`一次并在需要输入的地方重新使用它：

```
public static void main(String[] args) throws IOException {
    Scanner scan = new Scanner(System.in);
    System.out.println(getUserString("Write something:", scan));
    System.out.println(getUserString("Write something else:", scan));
}

private static String getUserString(String userCommand, Scanner scan) {

    System.out.println(userCommand);

    String userinput = scan.nextLine().trim();

    if (userinput.isEmpty()) {
        System.out.println("Invalid choice");
        return getUserString(userCommand, scan);
    } else {
        return userinput;
    }
} 
```

# c# - 水平列表项中的面板显示在按钮后面

> ID：12454663
> 
> 赞同：0
> 
> 时间：2012-09-17T07:16:39.017
> 
> 标签：c#, asp.net, css

在我的母版页上，我创建了一个水平菜单，由 CSS 设置样式。列表项显示带有链接按钮的面板，以将用户带到不同的页面。

面板始终显示在控件上方，一页除外。
页面内容显示 2 asp:Buttons。在此页面上，面板隐藏在按钮后面，但面板的边框仍然显示。

下图将清楚地说明：
![证据](../Images/eb9f7d6149dbb491083b0ecdf56940ab.png)

水平菜单的 CSS 如下：

```
/* Horizontal menue style */
ul 
{

    padding: 0;
    margin: 0 0 0 0 ;
    list-style: none;
}

li 
{
    cursor: default;
    float: left;
    position: relative;
    width: 90px;
    color: darkgray;
    text-align: center;
    background-color: white;
    height: 23px;
    padding-top: 2px;
}

li:hover {
    background-color: white;
    color: black;
    padding-top: 2px;
}

li ul 
{

    display: none;
    position: absolute;
    margin: 0;
    padding: 0;
    margin-top: -9px;
    width: 100px;
}

li > ul 
{

    top: auto;
    left: auto;
}

li:hover ul, li.over ul
{
    display: block;
} 
```

该面板通过一个皮肤文件：
`<asp:Panel runat="server" CssClass="menuWrapper" SkinID="MenuWrapper"></asp:Panel>`

```
.menuWrapper 
{
    z-index: 500;
    font-size: small;
    margin-top: 15px;
    margin-left: -2px;
    padding: 5px;
    padding-left: 15px;
    line-height: 25px;
    background-color: white;
    width: 190px;
    text-align: left;
    border-left: 1px lightgray solid;
    border-bottom: 1px lightgray solid;
    border-right: 1px lightgray solid;
    border-top-right-radius: 5px 5px;
    border-bottom-right-radius: 5px 5px;
    border-bottom-left-radius: 5px 5px;
} 
```

我什至摆弄 z-index。如何创建解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T09:40:18.963

答案在于 UL 的 z-index。我已将 UL css 更改为以下内容：

```
ul 
{

    padding: 0;
    margin: 0 0 0 0 ;
    list-style: none;
    z-index: 499;
} 
```

现在已经解决了这个问题。

# c++ - 从侧面而不是从中心缩放 CCSprite

> ID：12454665
> 
> 赞同：2
> 
> 时间：2012-09-17T07:16:51.403
> 
> 标签：c++, xcode, cocos2d-iphone, cocos2d-x

我正在尝试制作自定义进度条。我想要做的是让“barMask.png”有它的X比例取决于数字的百分比。我试过这样做：

```
barBack = CCSprite::create( "barBack.png" );
this -> addChild( barBack );

barMask = CCSprite::create( "barMask.png" );
barMask -> setPosition( barBack -> getPosition( ) );
this -> addChild( barMask ); 
```

然后在更新方法上

```
// Scale the width of barMask depending on the percentage of the progress.
barMask -> setScaleX( CURRENT_AMOUNT / TOTAL_AMOUNT ); 
```

然而，精灵是这样缩放的：

```
Frame 1: [ |||||||||| ]
Frame 2: [  ||||||||  ]
Frame 3: [   ||||||   ] 
```

它缩小到中间。我该怎么做才能让它向左/向右缩小？像这样：

```
Frame 1: [ |||||||||| ]
Frame 2: [ |||||||||  ]
Frame 3: [ ||||||||   ]
Frame 4: [ |||||||    ] 
```

我知道 CCProgressTimer，但我想使用纯粹的精灵作为进度条。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T07:22:14.547

将 spriet 的`anchorPoint`属性更改为 (0.f, 0.5f)。所有的变换都是相对于节点的锚点进行的。默认情况下，精灵的锚点是 (0.5f, 0.5f)。这就是为什么你的缩放默认相对于你的精灵的中心。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-17T12:23:18.560

另一种可能实现的方法是使用draw方法和一点openGL。我在我的太空射击应用程序中将它用于敌人的生命值条，根据敌人剩余的生命值进行缩放。它改编自 Ray Wenderlich 的教程之一。无论如何，这是我的绘制方法，它遍历屏幕上的每个老板“怪物”并绘制他们的健康条。这可以进行调整，并且用于进度指示器栏的方法...

```
- (void)draw {

for (CCSprite *target in _targets) {
    Monster *monster = (Monster *)target;

    if (monster.monsterisboss == YES) {

        static int lineBuffer = 5;
        int lineHeight = 7;
        int startY = monster.position.x - (monster.contentSize.width/2);
        int endY = monster.position.x + (monster.contentSize.width/2) - lineBuffer;
        int actualX = monster.position.y + (monster.contentSize.height/2) + lineHeight*2;

        static int maxColor = 200;
        static int colorBuffer = 55;
        float percentage = ((float) monster.hp) / ((float) monster.maxHp);
        int actualY = ((endY-startY) * percentage) + startY;
        int amtRed = ((1.0f-percentage)*maxColor)+colorBuffer;
        int amtGreen = (percentage*maxColor)+colorBuffer;

        glEnable(GL_LINE_SMOOTH);

        glLineWidth(lineHeight);        
        glColor4ub(amtRed,amtGreen,0,255);
        ccDrawLine(ccp(startY, actualX), ccp(actualY, actualX));
    }
}

[super draw]; 
```

}

*编辑*看起来我的代码块遗漏了最后一个右花括号 - 如果您想尝试上面的绘制方法，请不要忘记！

# java - 如何在java中连接到sybase的优势数据库

> ID：12454666
> 
> 赞同：1
> 
> 时间：2012-09-17T07:17:02.130
> 
> 标签：java, jdbc, sybase, advantage-database-server

首先，我想说我是*Java*编程和*Sybase*的新手。

我在连接到*Sybase*数据库时遇到问题。

要建立我所做的连接：

1.  为优势db安装jdbc驱动；

2.  将名为 CLASSPATH 的环境变量设置为 adsjdbc.jar （我在 c:\AdvJDBC 中安装了 jdbc 驱动程序，因此路径为 c:\AdvJDBC\JDBC\adsjdbc.jar ）；

然后我尝试在我的代码中导入驱动程序：

```
public class SybaseCon {
      public static void main(String[] args){
         Class.forName("com.extendedsystems.jdbc.advantage.ADSDriver");
} 
```

我收到一个错误：

```
Exception in thread "main" java.lang.ClassNotFoundException: com.extendedsystems.jdbc.advantage.ADSDriver 
```

*我已经在优势jdbc*驱动程序帮助中搜索了解决方案，但我发现没有任何东西可以解决我的问题。

解决方法：

*   我的Java版本：jdk1.7.0_03

*   优势文件数据库：11.0

*   优势 jdbc 驱动程序：11.0

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T00:37:14.630

首先，确保您的 CLASSPATH 变量实际上是在您认为的环境中设置的。

通常，在 Windows 中，如果您在系统设置中设置环境变量，则打开的命令窗口（以及您打开的 IDE）将看不到该设置。您必须关闭并重新打开它们才能生效。

尝试将其添加到您的代码中，就在 Class.forName 行之前：

```
System.out.println(System.getProperty("java.class.path")); 
```

它将显示您的应用程序实际使用的类路径。

其次，如果您使用 java 的首选路径表示法指定类路径，您可能会更轻松，这恰好与 unix/linux 格式对齐 - 使用正斜杠。尝试使用

```
java -cp /AdvJDBC/JDBC/adsjdbc.jar 
```

# iphone - 使用 iphone 中的 Grand Central 调度队列上传数据？

> ID：12454667
> 
> 赞同：0
> 
> 时间：2012-09-17T07:17:05.437
> 
> 标签：iphone, ios5, upload, grand-central-dispatch

我有很多数据，所以我想像 FIFO 方法一样按 GCD 队列顺序上传数据。怎么做 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T10:21:13.780

无论您的“上传”块是什么，您都必须创建一个 GCD 串行队列，然后在其上 dispatch_async 所有上传块。

创建队列：

`dispatch_queue_t myFifoQueue = dispatch_queue_create("com.example.myfifoqueue",DISPATCH_QUEUE_SERIAL);`

创建队列后，您现在可以分派上传块。要调度队列中的这些块之一：

`dispatch_async(myFifoQueue,myUploadBlock);`

“dispatch_async”保证您的块将被添加到串行队列中，但您当前的线程（通常是主线程）不会等待块完成。使用串行队列可确保所有块都以 FIFO 顺序执行。

例如，如果你有一个`NSArray *myArray`并且你想使用调用的方法在队列中处理数组对象，`-(void)processObject:(id)object`那么你可以用这种方式编写代码：

```
for(id object in myArray) {
  dispatch_async(myFifoQueue,^{
      [self processObject:object];
  }
  );
} 
```

基本上，您在这里所做的是枚举数组中的所有对象，然后向串行队列提交一个调用“processObject:”方法的简单块。无论 processObject 完成其任务所用的时间是多少，dispatch_async 都会立即返回，串行队列将在后台线程中串行处理其块。请注意，您在这里没有办法知道所有块何时完成，因此最好在队列末尾提交一些通知主线程队列结束的块（这样您就可以更新您的用户界面）：

```
dispatch_async(myFifoQueue,^{
dispatch_async(dispatch_get_main_queue(),
     ^{
        [self endOfUpload];
      });
}); 
```

# python - 用破折号替换某个子字符串 - python

> ID：12454674
> 
> 赞同：0
> 
> 时间：2012-09-17T07:17:35.007
> 
> 标签：python, string, replace, substring, hyphenation

python中有没有可以实现如下输入输出的字符串操作？如果我要使用正则表达式，正则表达式将如何替换子字符串？

```
#inputs
y = sentence-with-dashes
x = this is a sentence with dashes

#output
z = this is a sentence-with-dashes

#####################################
#sometimes the input is pretty messed up like this
y = sentence-with-dashes
x = this is a sentence-with dashes

#output
z = this is a sentence-with-dashes 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T07:25:59.880

我认为这应该可以解决问题：

```
y='sentence-with-dashes'
x='this is a sentence with dashes'
r=re.compile(re.escape(y).replace('\\-','[- ]'))
z=re.sub(r,y,x) 
```

这不会触及出现在`y`值之外的任何连字符，如果您不关心这一点，那么 eumiro 的答案会更简单，并且不需要使用正则表达式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T07:24:37.440

如果这些是唯一的破折号：

```
z = x.replace('-', ' ').replace(y.replace('-', ' '), y) 
```

# python - python中Socket.accept()的返回值是什么

> ID：12454675
> 
> 赞同：25
> 
> 时间：2012-09-17T07:17:35.967
> 
> 标签：python, sockets, network-programming

`socket`我用python中的模块制作了一个简单的服务器和一个简单的客户端。

服务器：

```
# server.py
import socket

s = socket.socket()
host = socket.gethostname()
port = 1234
s.bind((host, port))

s.listen(5)

while True:
    c, addr = s.accept()
    print 'Got connection from', addr
    c.send('Thank you for your connecting')
    c.close() 
```

和客户：

```
#client.py
import socket

s = socket.socket()

host = socket.socket()
port = 1234

s.connect((host, port))
print s.recv(1024) 
```

我启动了服务器，然后启动了 4 个客户端，并在服务器的控制台中得到输出，如下所示：

```
Got connection from ('192.168.0.99', 49170)
Got connection from ('192.168.0.99', 49171)
Got connection from ('192.168.0.99', 49172)
Got connection from ('192.168.0.99', 49173) 
```

元组的第二部分是什么？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-09-17T07:21:17.800

从[`socket`文档](http://docs.python.org/library/socket.html)中：

> AF_INET 地址族使用一对 (host, port)，其中 host 是一个字符串，表示 Internet 域表示法中的主机名，如“daring.cwi.nl”或 IPv4 地址，如“100.50.200.5”，端口为一个整数。

所以第二个值是客户端用于连接的端口号。当建立 TCP/IP 连接时，客户端选择一个传出端口号与服务器通信；服务器返回的数据包将被寻址到该端口号。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-09-17T07:21:08.080

引用[python 文档](http://docs.python.org/library/socket.html#socket.socket.accept)：

> `socket.accept()`
> 
> 接受连接。套接字必须绑定到一个地址并监听连接。返回值是一对`(conn, address)`，其中 conn 是一个新的套接字对象，可用于在连接上发送和接收数据，而 address 是绑定到连接另一端套接字的地址。

`address`您可以[从“套接字地址表示如下”一词](http://docs.python.org/library/socket.html#module-socket)在同一文档中找到什么。

# magento - magento 类别搜索

> ID：12454677
> 
> 赞同：0
> 
> 时间：2012-09-17T07:17:51.367
> 
> 标签：magento, magento-1.6

我在类别树的导航下有两个主要的孩子，如下图所示

![在此处输入图像描述](../Images/23d61a4cf4f996022bd29acd38858456.png)

![在此处输入图像描述](../Images/6484d3f52ffe170b923dda0ee419e406.png)

我想列出**Region**或**Activities**的类别和子类别，我为此尝试了两种不同的功能

```
$collection = Mage::getModel('catalog/category')->getCollection()->addAttributeToSelect('name')->load();
    foreach ($collection as $cat) {
        echo $cat->getName();
    } 
```

这将返回 Region 和 Actities 的所有孩子以及另一个函数

```
$children = Mage::getModel('catalog/category')->getCategories(10);
foreach ($children as $category) {
  echo $category->getName();
} 
```

[参考链接](https://stackoverflow.com/questions/5232879/how-to-get-sub-categories-of-a-specific-parent-category)

这仅返回子类别

我想列出所有类别，子类别和子子类别等等......对于区域

预先感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T11:11:41.853

试试这个：

```
 $rootcatId= 10;
    $categories = Mage::getModel('catalog/category')->getCategories($rootcatId);
    function  get_categories($categories) {
        $array= '<ul>';
        foreach($categories as $category) {
            $cat = Mage::getModel('catalog/category')->load($category->getId());
            $count = $cat->getProductCount();
            $array .= '<li>'.
            '<a href="' . Mage::getUrl($cat->getUrlPath()). '">' .
                      $category->getName() . "(".$count.")</a>\n";
            if($category->hasChildren()) {
                $children = Mage::getModel('catalog/category')->getCategories($category->getId());
                 $array .=  get_categories($children);
                }
             $array .= '</li>';
        }
        return  $array . '</ul>';
    }
    echo  get_categories($categories); 
```

# objective-c - 带有本地 XML 的 RestKit

> ID：12454678
> 
> 赞同：0
> 
> 时间：2012-09-17T07:17:51.527
> 
> 标签：objective-c, xml, restkit

我使用 RestKit 从资源中加载 XML 数据。这很完美，但现在我想改变我的整个程序来读取本地 XML 文件。我发现可以读取本地 xml 文件并通过 Google RestKit 组中的 RestKit 对其进行解析：

```
NSString *string = [NSString stringWithContentsOfFile:[[NSBundle mainBundle] pathForResource:@"testing" ofType:@"xml"] encoding:NSUTF8StringEncoding error:nil]; 
id<RKParser> parser = [[RKParserRegistry sharedRegistry] parserForMIMEType:RKMIMETypeXML]; 
id result = [parser objectFromString:string error:nil]; 
NSLog(@"%@",[[[[result objectForKey:@"sample"] objectForKey:@"nested"] objectForKey:@"tags" ] description]); 
```

但现在我想用我的映射加载这个对象。我从服务器加载的旧代码：

```
RKObjectManager *objectManager = [RKObjectManager sharedManager];
RKURL *URL = [RKURL URLWithBaseURL:[objectManager baseURL] resourcePath:[xmlFile path] queryParameters:nil];

[objectManager.mappingProvider setMapping:myMapping forKeyPath:myKeyPath];

[objectManager loadObjectsAtResourcePath:[NSString stringWithFormat:@"%@", [URL resourcePath]] usingBlock:^(RKObjectLoader *loader) {
    loader.delegate = self;
}]; 
```

之后，我在 RestKit 的 didLoadObjects 委托中获得了我的映射对象。我怎样才能为我的本地 xml 对象做同样的事情？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T14:52:26.440

我找到了以下问题的解决方案。奇迹般有效。

```
RKObjectMappingProvider* mappingProvider = [RKObjectManager sharedManager].mappingProvider;
RKObjectMapper* mapper = [RKObjectMapper mapperWithObject:parsedData mappingProvider:mappingProvider];
RKObjectMappingResult* result = [mapper performMapping];
if (result) {

    NSArray *resultArray = result.asCollection;

    MyMappingClass *object = [resultArray lastObject];
    NSLog(@"My Object: %@", object);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-29T12:07:21.700

对于 Restkit 0.20，我使用这种方法：

库.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<library>
    <bookname>azeaze</bookname>
    <bookname>qdd</bookname>
    <bookname>vvef</bookname>
    <bookname>ytrtefc</bookname>
</library> 
```

书.h

```
#import <Foundation/Foundation.h>

@interface Book : NSObject

@property (nonatomic,strong) NSString * label;

@end 
```

书.m

```
#import "Book.h"

@implementation Book

@end 
```

我用这个 XML 文件创建了一个 NSDictionary，为此我使用[XMLReader](http://troybrant.net/blog/2010/09/simple-xml-to-nsdictionary-converter/)

```
#import "XMLReader.h"

[...]

RKObjectMapping *mapping = [RKObjectMapping mappingForClass:[Book class]];
[mapping addAttributeMappingsFromDictionary:@{@"bookname": @"label",}];

NSString *pathToDataFile = [[NSBundle mainBundle] pathForResource:@"library"
                                                           ofType:@"xml"];

NSError *error;

NSString* contents = [NSString stringWithContentsOfFile:pathToDataFile
                                               encoding:NSUTF8StringEncoding
                                                  error:&error];

NSData* xmlData = [contents dataUsingEncoding:NSUTF8StringEncoding];

NSError *parseError = nil;

NSDictionary *xmlDictionary = [XMLReader dictionaryForXMLData:xmlData
                                                        error:&parseError];

NSDictionary *mappingsDictionary = @{ @"library": mapping };

RKMapperOperation *mapper = [[RKMapperOperation alloc] initWithRepresentation:xmlDictionary
                                                           mappingsDictionary:mappingsDictionary];

NSError *mappingError = nil;

BOOL isMapped = [mapper execute:&mappingError];

if (isMapped && !mappingError) {
    NSLog(@"SUCCESS : %@",[mapper mappingResult]);
} else {
    NSLog(@"FAIL : %@",mappingError);
} 
```

# android - Android PhoneGap 中的自定义字体

> ID：12454681
> 
> 赞同：21
> 
> 时间：2012-09-17T07:18:04.127
> 
> 标签：android, cordova, custom-font

我试图为我的应用程序制作自定义字体。为此，我在我的 html 文件中编写了这段代码：

```
<style type="text/css" media="screen">
        @font-face {
            font-family: centurySchoolbook;
            src: url(/fonts/arial.ttf);
        }
       body {
           font-family: centurySchoolbook;
           font-size:30px;
       }
</style> 
```

在我的 HTML 正文中：

```
<body onload="init();">
<h>Custom Fonts</h>
    <div>This is for sample</div>

</body> 
```

但是，这些样式不适用于我的 html 正文。有什么帮助可以解决这个问题吗？？

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-09-17T11:01:14.527

在执行以下步骤后，我使它工作：

**- 将您的 CSS 放入文件中，例如`my_css.css`：**

```
@font-face {
    font-family: "customfont";
    src: url("./fonts/arial.ttf") format("opentype");   
        /* Make sure you defined the correct path, which is related to
            the location of your file `my_css.css` */ 
    }
    body {
        font-family: "customfont";
        font-size:30px;
    } 
```

**`my_css.css`- 在您的 HTML 中引用您的 CSS 文件：**

`<link rel="stylesheet" href="./path_to_your_css/my_css.css" />`

* * *

**注意路径的定义！**

例如，假设您有以下目录结构：

*   **万维网**

    *   `your_html.html`

    *   **css**

        *   `my_css.css`
    *   **字体**

        *   `arial.ttf`

然后，您将拥有：

```
@font-face {
    font-family: "customfont";
    src: url("../fonts/arial.ttf") format("opentype");   
        /* Make sure you defined the correct path, which is related to
            the location of your file `my_css.css` */ 
    }
    body {
        font-family: "customfont";
        font-size:30px;
    } 
```

和：

`<link rel="stylesheet" href="./css/my_css.css" />`

* * *

**注意：**如果您使用 jQuery Mobile，该解决方案可能不起作用（jQuery Mobile 将“干扰”css...）。

因此，您可以尝试通过使用 style 属性来强加您的风格。

例如：

```
<body>
    <h>Custom Fonts</h>
    <div style="font-family: 'customfont';">This is for sample</div>
</body> 
```

一个缺点是似乎`style`无法应用于`body`...

所以，如果你想将字体应用到整个页面，你可以尝试这样的事情：

```
<body>

    <!-- ADD ADDITIONAL DIV WHICH WILL IMPOSE STYLE -->
    <div style="font-family: 'customfont';">

        <h>Custom Fonts</h>
        <div >This is for sample</div>

    </div>

</body> 
```

希望这对你也有用。让我知道你的结果。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T06:09:33.540

我也面临同样的问题。我把我的css文件放在`css`文件夹中。我把 ttf 文件放在文件`www`夹里，但它不能正常工作，所以我把我的 ttf 文件移到了`css`文件夹中。这是我的代码：

```
@font-face
{
font-family: CustomArial;
src: url('arial.ttf'); 
}

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
    font-family: CustomArial;
} 
```

如果您使用的是 jquery mobile，则必须覆盖字体，例如：

```
.ui-bar-a, .ui-bar-a input, .ui-bar-a select, .ui-bar-a textarea, .ui-bar-a button {
    font-family: CustomArial !important;
} 
```

对于具有 font-family:Helvetica、Arial、sans-serif 的任何 jquery 移动类，您必须覆盖 css 中的 font-family；至

```
font-family:CustomArial !important; 
```

现在它将起作用。你可以试试这样，可能对你有用。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-30T00:25:28.003

下面的作品就像使用 jQueryMobile 和 Phonegap 的自定义字体的魅力：

```
@font-face {
font-family: "Lato-Reg";
src: url("../resources/Fonts/Lato-Reg.ttf") format("opentype");   
    /* Make sure you defined the correct path, which is related to
        the location of your file `my_css.css` */ 
}

 body *{
margin: 0;
-webkit-touch-callout: none;                /* prevent callout to copy image, etc when tap to hold */
-webkit-text-size-adjust: none;             /* prevent webkit from resizing text to fit */
-webkit-user-select: none;                  /* prevent copy paste, to allow, change 'none' to 'text' */

font-family: "Lato-Lig" !important;
font-weight: normal !important;

 } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-02-03T16:15:40.360

在这里您可以找到 .ttf 的 google 字体：[https ://github.com/w0ng/googlefontdirectory](https://github.com/w0ng/googlefontdirectory)

![这个屏幕截图应该有帮助](../Images/9c78804336e076b709e9402add174198.png)

在您的 .css 文件中

```
@font-face {
 font-family: 'Open Sans';
 src: url('../font/OpenSans-Regular.ttf') format('truetype');
 font-weight: 400;
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-02-25T08:33:11.833

我面临着一个类似的问题。问题在于通过外部 css 文件提供字体时所采用的路径。为了解决这个问题，我在 index.html 的正文中声明了字体 URL 内联

```
<div>
      <style scoped>
        @font-face {
          font-family: Monotype Corsiva;
          src: url('fonts/Monotype_Corsiva.ttf') format('truetype');
        }
      </style>
</div> 
```

它在以这种方式声明字体 URL 后起作用。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-09-18T22:21:04.157

```
<style type="text/css" media="screen">
    @font-face {
        font-family: 'centurySchoolbook';
        src: url('fonts/arial.ttf');
    }
   body {
       font-family: centurySchoolbook;
       font-size:30px;
   }
</style> 
```

在字体系列和 url 上加上引号对我有用，在 html 文件内和 Android 上。

它适用于物理设备，但不适用于模拟器。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-12-02T11:25:48.567

可能的问题在于cordova 中的默认index.css。检查 body 元素是否具有为“ ***text-transform:uppercase*** ”定义的样式。

至少这对我来说是个问题，如果您在应用程序中使用，从默认 index.css 中的 body 元素中删除它之后，也可能对您有所帮助。

对我来说，我使用的是 gurmukhi/punjabi 字体，并且在从 index.css 中删除上述行之后，它就像只有以下 css 定义的魅力一样

例子 ：

```
.demo {
   font-family: anmol
}
@font-face {
   font-family: anmol;
   src: url(../fonts/anmol.ttf);
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-04-09T09:46:14.157

我刚刚将我的 ttf-fonts 复制到目录 [app-name]/css 中，并在那里的 index.css 中声明了字体系列。见附图： [我编辑的 index.css](https://i.stack.imgur.com/h5vvQ.png)（检查附图中的绿色标记区域）。在那里我还更改了样式“背景附件：固定；” “Helvetica, Arial, no-serif…” 到 “Open Sans, Open Sans Condensed, no-serif”，我还删除了“text-transform:uppercase”这一行。之后，我的字体“Open Sans”一切正常。当然，我还包括我自己的样式表以及我项目的其他样式和字体系列的声明。

我也在那个项目中使用 jQuery 和 jQueryMobile。他们使用相同的字体（Open Sans），但我添加了其他也可以使用的字体！

快乐编码！

# ruby-on-rails - Facebook喜欢按钮以随机方式出现

> ID：12454683
> 
> 赞同：0
> 
> 时间：2012-09-17T07:18:06.870
> 
> 标签：ruby-on-rails, facebook-like

我在我的网站上为活动实体添加了 XFBML facebook 之类的按钮插件，但按钮仅以随机顺序显示其中一个。代码如下：

```
<body>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>
...
<fb:like href="<%=activiy1_url%>" send="false" layout="button_count" width="100" show_faces="false" font="verdana"></fb:like>
...
<fb:like href="<%=activiy2_url%>" send="false" layout="button_count" width="100" show_faces="false" font="verdana"></fb:like>
...
<fb:like href="<%=activiy3_url%>" send="false" layout="button_count" width="100" show_faces="false" font="verdana"></fb:like>
...
</body> 
```

页面上存在 Open Graph 标签。iFrame 按钮也有同样的问题。可能是什么原因？

# python - 将一行 Matlab (bsxfun, rdivide) 翻译成 Python

> ID：12454685
> 
> 赞同：0
> 
> 时间：2012-09-17T07:18:17.617
> 
> 标签：python, matlab, numpy, bsxfun

我正在将一个 Matlab 函数翻译成 Python。不幸的是，我不是 Matlab 专家，我很难理解一些行，例如这一行：

```
a = [[0, 1]; [2, 3]]
bsxfun(@rdivide, sqrt(a), a) 
```

我还没有真正理解它，但我认为这条线确实

```
r / a 
```

对于 sqrt(a) 的每一行 r （或者是每一列？）并且 r / sqrt(a) 通常可以转换为 numpy 为

```
numpy.linalg.solve(sqrt(a).T, r.T).T 
```

问题是：Matlab 说结果是

```
 NaN   1.00000
   0.70711   0.57735 
```

numpy 说是

```
[ 1\.  0.]
[ 0.55051026  1.41421356] 
```

这是由

```
for i in range(2): print linalg.solve(sqrt(a).T, a[i, :].T).T 
```

错误在哪里？矩阵 sqrt(a) 和 a 只是示例。您可以用任何其他矩阵替换它们。我只是想了解 bsxfun 对 rdivide 的作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T09:38:09.520

```
>>> import numpy as np
>>> a = np.array([[0,1],[2,3]])
>>> a
array([[0, 1],
       [2, 3]])
>>> b = np.sqrt(a)
>>> b/a
Warning: invalid value encountered in divide
array([[        nan,  1\.        ],
       [ 0.70710678,  0.57735027]])
>>> 
```

由于您需要[逐元素除法](http://www.mathworks.co.uk/help/matlab/ref/bsxfun.html)，而不是逆矩阵乘法，这`numpy.linalg`不是您想要的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-03T13:56:50.173

一楼给你python代码的改造。

但如果你想知道为什么代码：

```
for i in range(2): print linalg.solve(sqrt(a).T, a[i, :].T).T 
```

给出结果

```
[ 1\.  0.]
[ 0.55051026  1.41421356] 
```

因为`linalg.solve()`求解线性矩阵方程或线性标量方程组。

所以代码`for i in range(2): print linalg.solve(sqrt(a).T, a[i, :].T).T` 将求解线性矩阵方程

```
0 * x0 + sqrt(2) * x1 = 0
1 * x0 + sqrt(3) * x1 = 1
0 * x0 + sqrt(2) * x1 = 2
1 * x0 + sqrt(3) * x1 = 3 
```

所以你会得到结果

```
[ 1, 0].T
[ 3 - sqrt(6) , sqrt(2)].T 
```

并且在 numpy 形状`(2L,).T`中是一样的，`(2L,)`所以你会得到答案。

# extjs - 使用沙盒在同一页面上运行 Ext 4.0 和 4.1

> ID：12454686
> 
> 赞同：1
> 
> 时间：2012-09-17T07:18:17.870
> 
> 标签：extjs, extjs4, sandbox, extjs4.1

我知道使用 Sencha 的沙盒可以让 Ext 4 和 3 在没有 iframe 的情况下在同一页面上运行。但是是否可以对 Ext 4.1 和 4.0 做同样的事情？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-12T01:03:29.757

加载 ext-all + ext-all-sandbox 将给出 Ext 和 Ext4 命名空间

# c# - ASP.NET MVC 中表单输入到动作链接的绑定值

> ID：12454688
> 
> 赞同：1
> 
> 时间：2012-09-17T07:18:21.123
> 
> 标签：c#, asp.net-mvc, razor

我的剃刀视图中有以下片段。

```
@Html.ActionLink("US", "List", "Campaigns", new { country = "US", vertical = "Insurance" }, null)
<input id="verticals" /> 
```

如何`vertical = "Insurance"`用 的值代替`<input id="verticals" />`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:32:31.307

这取决于 id="verticals" 的输入中的值的来源。如果该值来自服务器，那么您将使用它。如果您想应用例如在输入中键入的值（如果输入类型=“文本”），那么您必须使用一些 JQuery 来使用键入的变量更新链接。本例中的示例：

```
$('#verticals').change(function(){
    $('#IdOfTheLinkTag').attr('vertical',$(this).val());
}); 
```

代码没有经过测试，但你明白了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:31:17.940

我不认为这是可能的。如果你想用 JS 做它并自己构建链接。

```
<a href="#" onclick="javascript:ClickMe();">Click me!</a>
<input type="text" id="verticals">

<script>
var vert = $('#verticals').val;
$.post() //bla bla
</script> 
```

这只是一些伪代码，但你明白了。我希望 ：）

*注意：如果垂直是控制器/模型的隐藏字段，当然更容易

```
@Html.ActionLink("US", "List", "Campaigns", new { country = "US", vertical = Model.HiddenProperty}, null) 
```

# android - startActivity 首先调用，在 startActivityForResult 调用之后调用

> ID：12454689
> 
> 赞同：0
> 
> 时间：2012-09-17T07:18:31.247
> 
> 标签：android, android-activity

这是我第一个没想到的奇怪结果。这可能是该领域缺乏技能。

好吧，我有一个按钮，我需要通过它从手机图库中选择一张图片（可能来自 sdcard）。我使用隐式意图调用电话图库并获得了绝对图像路径`startActivityForResult()`。立即调用另一个活动，将该路径与`startActivity()`.

根据我的情况，我在`onClick()`of 按钮中编写了以下代码。

```
@Override
public void onClick(View v) {
        upLoadPhoto();
}

protected void upLoadPhoto() {

    Intent intent = new Intent(Intent.ACTION_GET_CONTENT, null);
    intent.setType("image/*");
    intent.putExtra("return-data", true);
    System.out.println("select image");
    startActivityForResult(intent, 1);
    startActivity(next);
    finish();
}

    public void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
            if(requestCode == 1 && data != null && data.getData() != null){
                Uri uri = data.getData();
                if (uri != null) {
                    Cursor cursor = getContentResolver().query(uri, new String[] { android.provider.MediaStore.Images.ImageColumns.DATA }, null, null, null);
                    cursor.moveToFirst();
                    final String imageFilePath = cursor.getString(0);
                    System.out.println("Background : "+imageFilePath);
                    next.putExtra("backImagePath", imageFilePath);
                    cursor.close();
            super.onActivityResult(requestCode, resultCode, data);
        }
    }
} 
```

当我单击按钮时，`startActivity(next)`首先调用，然后`startActivityForResult(intent,1)`调用。当我试图通过捆绑对象获取第二个活动中的图像路径时，我得到`NullPointerException`的是因为`startActivity(next)`首先被调用。

当我看到我的调试点不符合预期时，我惊掉了下巴。希望我得到这个问题的确切原因。

谢谢阿斯
温

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T07:20:38.630

`startActivity(next);`将呼叫移至...怎么样`onActivityResult()`？这样您将在获取路径后导航到其他活动

```
protected void upLoadPhoto() {

Intent intent = new Intent(Intent.ACTION_GET_CONTENT, null);
intent.setType("image/*");
intent.putExtra("return-data", true);
System.out.println("select image");
startActivityForResult(intent, 1);

finish(); 
```

}

```
public void onActivityResult(int requestCode, int resultCode, Intent data) {
super.onActivityResult(requestCode, resultCode, data);
        if(requestCode == 1 && data != null && data.getData() != null){
            Uri uri = data.getData();
            if (uri != null) {
                Cursor cursor = getContentResolver().query(uri, new String[] { android.provider.MediaStore.Images.ImageColumns.DATA }, null, null, null);
                cursor.moveToFirst();
                final String imageFilePath = cursor.getString(0);
                System.out.println("Background : "+imageFilePath);
                next.putExtra("backImagePath", imageFilePath);
                cursor.close();

            startActivity(next);

        super.onActivityResult(requestCode, resultCode, data);
    }
} 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:21:32.270

`startActivity(next)`从该功能中删除它并`onActivityResult`在您检索数据后将其放入

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T07:21:32.247

当您的图像从图库中成功选择时，您已调用`startActivity()`内部。`onActivityResult()`因为当`startActivityForResult()`它去画廊拾取图像时，直到那时`startActivity()`被解雇，你移动到下一个活动。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-17T07:35:16.427

从该函数中删除 startActivity(next) 并将其放在 onActivityResult 上 get 1 add Your Next Intent

# java - 更改 JButton 的大小和焦点上的标签文本 JButton 的增益和丢失事件

> ID：12454696
> 
> 赞同：0
> 
> 时间：2012-09-17T07:19:05.270
> 
> 标签：java, swing, focus, jbutton, jlabel

我想增加和减少`JButton`其焦点增益和丢失事件的大小。同时我想`JLabel`用 focussed 的文本来改变`JButton`。

如果我不更改`JLabel`文本，我可以更改按钮的大小，但是当我同时更改标签时，大小`JButton`不会改变。

这是代码：

```
public class Main extends JFrame implements FocusListener {

    JButton b1, b2;
    JLabel lbl;
    private static final long serialVersionUID = 1L;

    public Main() {

        setSize(600, 600);//Size of JFrame
        setDefaultCloseOperation(EXIT_ON_CLOSE);
        setVisible(true);//Sets if its visible.

        JPanel panel = new JPanel();

        b1 = new JButton("Start");//The JButton name.
        b1.setRequestFocusEnabled(false);
        b1.addFocusListener(this);
        panel.add(b1);

        b2 = new JButton("End");//The JButton name.
        b2.setRequestFocusEnabled(false);
        b2.addFocusListener(this);

        panel.add(b2);

        add(panel, BorderLayout.CENTER);
        lbl = new JLabel("       ");
        add(lbl, BorderLayout.SOUTH);
    }

    public static void main(String[] args) {
        new Main();//Reads method main()
    }

    /*
    * What the button does.
    */
    @Override
    public void focusLost(FocusEvent ae) {

        if (ae.getSource() == b2) {
            b2.setSize(55, 26);
        } else if (ae.getSource() == b1) {
            b1.setSize(55, 26);
        }
    }

    @Override
    public void focusGained(FocusEvent ae) {

        if (ae.getSource() == b2) {
            lbl.setText("End");
            b2.setSize(55, 40);
        } else if (ae.getSource() == b1) {
            lbl.setText("Start");
            b1.setSize(55, 40);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T08:02:58.363

问题是您将绝对布局（或空布局）与隐式 LayoutManager 混合（JPanel 默认带有 FlowLayout）。

当您在 JLabel 上调用 setText（并且该文本发生更改）时，它会自动调用 revalidate，这最终会触发 LayoutManager 来布置组件。

要么使用 LayoutManager，可选地设置一些约束和 pref/min/max 大小（但不推荐后者）（并且你永远不会调用 setLocation/setSize/setBounds），或者使用 null-layout 并设置自己的位置和大小组件（在这种情况下，您必须称自己为 setSize/setLocation/setBounds）。

认真考虑阅读[LayoutManager 教程](http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)。有一个专门的章节“*没有布局管理器（绝对定位）* ”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T08:36:27.490

我认为这就是您要实现的目标。

```
public class Main extends JFrame implements FocusListener {

JButton b1, b2;
JLabel lbl;
private static final long serialVersionUID = 1L;

public Main() {

    setSize(600, 600);// Size of JFrame
    setDefaultCloseOperation(EXIT_ON_CLOSE);
    setVisible(true);// Sets if its visible.

    JPanel panel = new JPanel();
    panel.setLayout(null);
    panel.setSize(this.getSize());
    b1 = new JButton("Start");// The JButton name.
    b1.setRequestFocusEnabled(false);
    b1.addFocusListener(this);
    b1.setLocation(10, 12);
    panel.add(b1);

    b2 = new JButton("End");// The JButton name.
    b2.setRequestFocusEnabled(false);
    b2.addFocusListener(this);
    b2.setLocation(70, 12);
    panel.add(b2);

    add(panel, BorderLayout.CENTER);
    lbl = new JLabel("       ");
    add(lbl, BorderLayout.SOUTH);
}

public static void main(String[] args) {
    new Main();// Reads method main()
}

/*
 * What the button does.
 */
@Override
public void focusLost(FocusEvent ae) {

    if (ae.getSource() == b2) {
        b2.setSize(55, 26);
    } else if (ae.getSource() == b1) {
        b1.setSize(55, 26);
    }

}

@Override
public void focusGained(FocusEvent ae) {

    if (ae.getSource() == b2) {
        lbl.setText("End");
        b2.setSize(55, 40);
    } else if (ae.getSource() == b1) {
        lbl.setText("Start");
        b1.setSize(55, 40);
    }

}
} 
```

# c# - 无法创建对类库的有效引用

> ID：12454697
> 
> 赞同：0
> 
> 时间：2012-09-17T07:19:05.577
> 
> 标签：c#, .net, reflection, reference, assemblies

**重要的！我很困惑自己，在另一个项目/装配中比我预期的要多。当我在正确的地方时，一切正常。无论如何，感谢所有帮助，不要再花时间在这个上了！**

我有一个 MVC3 项目，它使用 ClassLibrary-assembly。我想通过控制台应用程序（在同一解决方案中）从该类库中的类型创建实例。

我已确保使用完全限定名称，因为它是与控制台应用程序不同的程序集。就我而言，类型名称是：

```
KIBS.DykrapportDomain.Model.DykRapport_Utrustning, DykrapportDomain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
```

我已经从控制台项目中添加了对类库项目的引用，当我在对象浏览器中打开它时似乎很好，我可以看到里面的所有内容。我还确保两个项目的目标框架是 .NET 4（不是客户端配置文件）。

不过，当我添加以下语句时：

```
using KIBS.DykrapportDomain.Model; 
```

我得到一个**找不到类型或命名空间名称“KIBS”（您是否缺少 using 指令或程序集引用？）**

我错过了什么！？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:22:40.030

检查您的控制台应用程序并确保它针对完整的 .Net 框架而不是客户端配置文件版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:29:24.947

检查要在控制台应用程序内部创建的类的名称空间，如果 KIBS.DykrapportDomain.Model 则它应该工作，否则使用类内部的命名空间

# javascript - 在 Rails 应用程序中从哪里将华氏温度转换为摄氏温度？

> ID：12454702
> 
> 赞同：0
> 
> 时间：2012-09-17T07:19:34.210
> 
> 标签：javascript, ruby-on-rails, weather, temperature

我对 Rails 比较陌生，我正在构建一个处理天气数据的应用程序。我的主要用途将在美国境内，因此向用户展示的内容大概是华氏度。我使用的数据馈送以摄氏度为单位。

我解决这个问题的正常方法是`celsius`在模型中有一个列，然后是一个`fahrenheit`从 F 转换为 C 的自定义模型方法。但是，由于各种设计决策，我没有特定的温度字段。（tl;博士我正在跟踪许多不同的环境条件，而不仅仅是天气，所以我有一个通用`value`专栏和一个`type`专栏。）

我看到了一些选择：

1.  在内部存储 F。仅在我使用天气数据馈送时转换为 C。假设我从来没有在一个地区拥有健全的测量系统的用户。
2.  在内部存储 C。在视图中转换为 F（如果用户的偏好是查看 F）。这会很棘手`value`，因为据我所知，需要在 Rails 视图和 JS 中实现转换公式。
3.  在内部存储 C。根据上下文转换为 F，即当创建一个`type`温度为温度且用户偏好华氏温度的记录时，运行一个`before_save`执行转换的回调。不知道读什么...

构建这个的正确方法是什么？谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-17T07:30:09.487

内部存放*一张*表格，应该是国际标准的摄氏度。

其他任何事情都是演示问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T07:32:34.973

我会说将它存储在数据库中的一个演示文稿（C 或 F）中，并在 JS 中将其转换为客户端。这也将使功能编码变得微不足道，因此用户可以决定他/她自己在 C 和 F 之间切换，而无需往返服务器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-11-04T17:58:24.680

这是我所做的：

1.  决定将温度存储在摄​​氏度
2.  在我的天气报告模型上创建了一个名为 :air_temp_imperial 的虚拟属性
3.  使用了一个名为 air_temp_imperial 的设置器，它完成了从英制到摄氏度的转换，然后将值保存到 :air_temp
4.  使用吸气剂 air_temp_imperial 将转换后的摄氏度返回为英制值

然后在我看来，我检查了 current_user 首选项帝国？修改我的演示文稿和表格的价值。

我不确定这是否是正确的方法，但它似乎有效。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-20T04:49:06.880

我沉思了一下@Alnitak 给出的非常普遍的回应，并弄清楚了我需要做什么。我有一个`temperature`类型。所以我不理会那种类型，让它成为摄氏温度。然后我添加一个新类型`temperature_fahrenheit`。然后我的模型中有一个 :before_save 回调，它执行 F 到 C 的转换。这样，我将内部数据始终保留为摄氏温度，但仍然可以轻松地以华氏温度提交表单。

现在看起来很明显，但它已经逃离了我一段时间。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-03-25T15:24:49.597

这是一个老问题......但是，......

我的用户输入 temp 作为浮点数。我有一个“温度刻度”（摄氏度或华氏度）的枚举。对于转换，我创建了一个初始化程序“extend_float.rb”，其中包含以下内容：

```
class Float

  def to_celcius
   ((self - 32) * 5/9).round(1)
  end

  def to_fahrenheit
    ((self * 9/5) + 32).round(1)
  end

end 
```

然后你可以这样做：

```
thing = Thing.find(1)
return thing.celsius? ? thing.temperature.to_fahrenheit : thing.temperature 
```

# java - 我的 GWT 应用程序仍然使用旧的 .jasper （编译模板）而不是使用新的的原因是什么

> ID：12454704
> 
> 赞同：1
> 
> 时间：2012-09-17T07:19:40.967
> 
> 标签：java, gwt, jasper-reports, ireport

我使用*iReport*创建了一个报告。然后我使用*iReport*编译按钮对其进行编译以生成*.jasper*文件。为了在 GWT 应用程序中使用它，我在*GWT**应用*程序的 war 文件夹下添加了*.jasper*文件。第一次它工作正常，但是当我在*iReport*中编辑报告并重新编译它时，它用新的编译版本替换了旧版本的*.jasper*文件。老版本还能用，新版本不行，这是什么原因？

 **** * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:31:53.013

检查文件权限。有时您会在 iReport 中看到更改，但如果您没有 jrxml 的写入权限，则不会保存更改。如果您正在使用某些版本控制，请签出该文件，然后尝试对其进行编辑。***

# python - 使用 django 限制表单集选择

> ID：12454705
> 
> 赞同：0
> 
> 时间：2012-09-17T07:19:41.660
> 
> 标签：python, django, formset

我如何将 django formset 中的选择限制为最大 5 个。我的观点是：

```
file_attachment_formset = get_audioattachment_formset(FileAttachmentForm, extra=1, can_delete=True) 
```

我的表格为：

```
class FileAttachmentForm(forms.ModelForm):
    class Meta:
        model = FileAttachment

    def __init__(self, *args, **kw):
        super(forms.ModelForm, self).__init__(*args, **kw)
        self.fields['audio_video'].widget.attrs['class'] = 'form-text'

def get_audioattachment_formset(form, formset = models.BaseInlineFormSet, **kwargs):
    return models.inlineformset_factory(Post, FileAttachment, form, formset, **kwargs) 
```

模型.py：

```
class FileAttachment(models.Model):
    post          = models.ForeignKey(Post, related_name = 'file_attachments')
    picture       = models.ImageField(upload_to = 'uploads/picture/', null = True, blank = True)
    audio_video   = models.URLField(null = True, blank = True, verbose_name = "Audio/Video URL", verify_exists = True) 
```

视图.py：

```
file_attachment_formset = get_audioattachment_formset(FileAttachmentForm, extra=1, can_delete=True, max_num=3)
if request.method == 'POST':
   postForm = MyPostForm(request.POST, instance = post)
   formset = file_attachment_formset(request.POST, request.FILES, instance = post)
   if formset.is_valid():
                #FileAttachment.objects.filter(post = newpost).delete()
                formset = file_attachment_formset(request.POST, request.FILES, instance = newpost)
                formset.save()
   else:
       formset = file_attachment_formset(instance = post) 
```

帮助我如何将图片的选择限制为最多 5 个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T07:38:09.940

通过`max_num`formset 函数，

```
file_attachment_formset = get_audioattachment_formset(FileAttachmentForm, extra=1, can_delete=True, max_num=5) 
```

这是我的猜测，通常`max_num`表单集作为一个 kwarg。试试看！

# java - Active Directory 中出现搜索过滤器异常

> ID：12454710
> 
> 赞同：2
> 
> 时间：2012-09-17T07:20:26.743
> 
> 标签：java, exception, active-directory

我在 jsp/servlet 中为 Active Directory 创建了一个搜索过滤器。实际上我想从我的 Active Directory 中搜索用户配置文件：

这是我的 Servlet 代码（在 Servlet 的 dopost 中并使用 netscape api）：

```
 int port=0;
        String hostname=request.getParameter("hostname");

        String authenticationId = request.getParameter("authId");
        String authenticationPassword = request.getParameter("authPass");
        String distinguishedName = request.getParameter("dn");

        String searchFilter = request.getParameter("searchFilter");
        String[] attributes = request.getParameterValues("attribute");
        String sn = null,cn=null,mail=null,telephone=null;

        LDAPConnection ldi=new LDAPConnection();

        try {
//          scopeOfSearch = Integer.parseInt(request.getParameter("scope"));
            port = Integer.parseInt(request.getParameter("port"));
            System.out.println("Wait... Identifying the Active Directory / LDAP server.");
            ldi.connect(hostname,port,authenticationId,authenticationPassword);
            System.out.println("LDAP Server "+ hostname +" is connected on port " +port);
            LDAPConnectionInfo.ldapSearchResults = ldi.search(distinguishedName, LDAPConnectionInfo.MY_SCOPE, searchFilter, attributes, false);
            System.out.println("LDAP Search function working.......");

            while (LDAPConnectionInfo.ldapSearchResults.hasMoreElements()) {
                LDAPConnectionInfo.ldapEntry = (LDAPEntry) LDAPConnectionInfo.ldapSearchResults.nextElement();

                try {

                    LDAPConnectionInfo.ldapEntry= LDAPConnectionInfo.ldapSearchResults.next();
                    } 
                catch (LDAPReferralException e) {
                    // TODO: handle exception
                        System.out.println("Search reference: ");
                        LDAPUrl refUrls[]=e.getURLs();
                        for(int i=0;i < refUrls.length; i++){
                            System.out.println("\t" +refUrls[i].getUrl());
                        }
                        continue;
                }
                catch (LDAPException e) {
                    System.out.println("Error: " + e.toString());
                    continue;

            }
                LDAPConnectionInfo.ldapAttributeSet = LDAPConnectionInfo.ldapEntry.getAttributeSet();
                LDAPConnectionInfo.enumAttribute = LDAPConnectionInfo.ldapAttributeSet.getAttributes();

                /* While loop starts get Attribute of Entry */
                while (LDAPConnectionInfo.enumAttribute.hasMoreElements()) {
                    LDAPConnectionInfo.ldapAttribute = (LDAPAttribute) LDAPConnectionInfo.enumAttribute.nextElement();

                    String attributeName = LDAPConnectionInfo.ldapAttribute.getName();
                    if(attributeName.equals("cn")){
                        System.out.println("Full Name : "+cn);
                        request.setAttribute(cn, attributeName.getBytes(cn));
                    }
                    else if (attributeName.equals("sn")) {
                    System.out.println("Surname : ");
                    request.setAttribute(sn, attributeName.getBytes("sn"));
                    }
                    else if (attributeName.equals("mail")) {
                    System.out.println("Email : "); 
                    request.setAttribute(mail, attributeName.getBytes("mail"));
                    }
                    else if (attributeName.equals("telephoneNumber : ")) {
                    System.out.println("Telephone Number : ");  
                    request.setAttribute(telephone, attributeName.getBytes("telephoneNumber"));
                    }

                    Enumeration enumvalues= LDAPConnectionInfo.ldapAttribute.getStringValues();
                    if(enumvalues!=null){
                        while (enumvalues.hasMoreElements()) {
                            String aVal = (String) enumvalues.nextElement();
                            System.out.println("\t" +aVal);

                        }
                    }

                }

            }
            ldi.disconnect();
        }

            catch (NumberFormatException e) {
                // TODO: handle exception
                System.out.println("Error is : "+e.toString());
            }
            catch (LDAPException e) {
                // TODO: handle exception
                System.out.println("Error : "+e.toString());
            }

        getServletContext().getRequestDispatcher("/jsp/searchLDAPResult.jsp").forward(request , response);
        } 
```

而且我遇到了一个***例外***，例如：*`Error : netscape.ldap.LDAPException: error result (1); 000004DC: LdapErr: DSID-0C0906DD, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v1771`*

对我`Search Filter`从 simsys.com 域中搜索任何对象的任何建议。

# c# - 调用 Read 方法的 NAudio 和 DirectSound 问题

> ID：12454715
> 
> 赞同：0
> 
> 时间：2012-09-17T07:20:57.067
> 
> 标签：c#, naudio

我有一个`MoveTo`方法可以在我自己的`WaveProvider`类中移动光标。我在这个类中实现了一个相位声码器，所以当我移动光标时，我需要重新创建一些具有新值的对象。没有问题`WaveOut`，但是我使用时`DirectSound`，它会抛出`ArgumentNullException`。
问题是，当程序在`MoveTo`方法中并且正在更改对象内部的某些值时，`DirectSound`在 Read 方法中并且它会导致崩溃。我尝试`WaveProvider`在更改位置期间锁定，但`DirectSound`仍然可以进入读取方法。
如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T15:18:54.893

你在锁定什么？您需要在 WaveProvider 中创建一个锁定对象，并在 MoveTo 和 Read 方法期间锁定该对象：

```
class MyWaveProvider : IWaveProvider
{
    private object lockObject = new Object();

    public void MoveTo(int pos)
    {
        lock(lockObject)
        {
            // perform the move
        }
    }

    public int Read(byte[] buffer, int offset, int count)
    {
        lock(lockObject)
        {
            // perform the read
        }
    }
} 
```

# php - 如何在我的 PHP 网页中获取登录 Web 应用程序的会话 ID？

> ID：12454717
> 
> 赞同：0
> 
> 时间：2012-09-17T07:21:02.690
> 
> 标签：php, jsp

![在此处输入图像描述](../Images/282c593541468d45ad9b80f1ab3df65a.png)**Tamper Data**提供了我希望自动化的所有 cookie 上下文。`Session-Id`和`Login Credentials`。 `WGET`或`Wapiti`有点东西..但这些都是基于命令行的..我希望有一个基于网络的！我需要传递的篡改数据值位于屏幕截图的红框下方。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-21T09:11:15.490

依赖`request-header`'s 的值是冒险的，而且它是有缺陷的，因为这些`request-header`值很容易被操纵（一个例子是你自己展示的）。

如果您想使用您在其他 Web 应用程序中提供的凭据自动登录到另一个 Web 应用程序，那么您可以使用单点登录 (SSO)。更多信息可以在这个[答案](https://stackoverflow.com/a/12454848/468763 "StackOverflow 回答")中找到。

如果您有其他要求，则可以将其包含在问题中，以便相应地查看和回答。

以下是在 JSP 中获取请求标头的方法：

1.  `request.getHeader("cookie")`或`request.getHeader("user-agent")`。
2.  或者可以使用：`request.getHeaderNames()`获取所有标题，然后遍历名称并使用 point#1 获取每个标题值，如下所示：

    ```
    Enumeration hNames = request.getHeaderNames();
    while(hNames.hasMoreElements()) {
        String hName = (String) hNames.nextElement();      
        System.out.println(hName + " = " + request.getHeader(hName);
    } 
    ```

3.  此链接可能会有所帮助：[阅读 HTTP 请求标头](http://www.apl.jhu.edu/~hall/java/Servlet-Tutorial/Servlet-Tutorial-Request-Headers.html "有关使用 servlet 示例读取 HTTP 请求标头的页面")

以下是在 PHP 中获取请求标头的方法：

1.  这个问题的好答案：[如何在 PHP 中读取任何请求标头](https://stackoverflow.com/q/541430/468763 "堆栈溢出答案")，

# ios - 如何绕过 iOS 5 的 xcode 4.4 中的代码签名？

> ID：12454725
> 
> 赞同：1
> 
> 时间：2012-09-17T07:21:24.007
> 
> 标签：ios, xcode, ios5

如何规避 iOS 5 的 xcode 4.4 中的代码签名？

试图在董事会会议上进行演示，但没有时间等待它清除应用商店流程。稍后我将通过常规渠道提交。这是时间问题，不是金钱问题。有什么想法吗？

找到了很多 4.2 及更低版本的演示，但没有找到 4.4 的演示。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:58:08.047

您可以使用[Testflight](http://testflightapp.com)临时分发应用程序。只需使用分发配置文件对其进行签名，不要忘记包含 Entitlements.plist（`Can be debugged`设置为 NO）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T07:58:31.370

查看您的评论，看看[TestFlight](http://testflightapp.com/)。您可以让他们轻松安装您的应用程序，并且可以在几秒钟内完成设置。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-17T07:59:44.317

您正在寻找的是 Ad Hoc Distribution：您使用包含允许在其上运行的任何设备的 UDID 的配置文件构建您的应用程序，然后用户可以通过 iTunes 或直接通过网络安装它。

我强烈建议使用像[TestFlight](http://testflightapp.com)这样的服务来处理分发。如果用户通过该站点注册，它还可以为您收集设备 UDID。

除非 iOS 设备被越狱，否则它将拒绝运行任何未签名的应用程序。如果不是这种情况，完全绕过 App Store 将是微不足道的，这是 Apple 不希望允许的。Ad Hoc Distribution 流程允许您在应用商店之外进行分发，但仅限于有限数量的设备 (100)。Apple 控制这一点，因为您必须通过其网站生成配置文件（基本上是设备 UDID 列表）。

# regex - shell脚本中“=~”运算符的含义

> ID：12454731
> 
> 赞同：68
> 
> 时间：2012-09-17T07:21:45.190
> 
> 标签：regex, linux, bash, shell

我遇到了代码所在的shell脚本

```
for line in $LIST_ARRAY;do
if [[ $LIST_ARRAY =~ $line ]]
then
echo "true"
....
...
. 
```

`=~`在这种情况下有什么用？

* * *

## 回答 #1

> 赞同：80
> 
> 时间：2012-09-17T07:25:55.167

它是允许在 if 语句中使用正则表达式的 Equal Tilde 运算符。

> 额外的二元运算符 =~ 可用，其优先级与 == 和 != 相同。使用时，运算符右侧的字符串被视为扩展正则表达式并进行相应匹配（如在 regex(3) 中）。如果字符串与模式匹配，则返回值为 0，否则为 1。如果正则表达式在语法上不正确，则条件表达式的返回值为 2。如果启用了 shell 选项 nocasematch，则不考虑字母字符的大小写进行匹配。可以引用模式的任何部分以强制将其作为字符串匹配。

[http://linux.die.net/man/1/bash](http://linux.die.net/man/1/bash)

# delphi - 从外部应用程序将数据写入 Delphi TStringGrid

> ID：12454732
> 
> 赞同：4
> 
> 时间：2012-09-17T07:22:02.013
> 
> 标签：delphi, delphi-2009, dll-injection, tstringgrid

我有一个用 Delphi 编写的遗留应用程序，需要建立一个机制

1.  阅读和
2.  写作

来自/到 TStringGrid 的数据。

我没有应用程序的源代码，没有自动化接口，供应商不太可能提供。

因此我创建了

1.  一个 C++ DLL，它注入
2.  一个 Delphi DLL（由我编写）到
3.  遗留应用程序的地址空间。

DLL 2 可以访问遗留应用程序内的 TStringGrid 实例，读取单元格值并将它们写入调试日志。

阅读效果很好。但是，当我尝试使用类似的调用将数据写入网格单元格时

```
realGrid.Cells[1,1] := 'Test'; 
```

发生访问冲突。

这是代码：

```
procedure DllMain(reason: integer) ;
type
  PForm = ^TForm;
  PClass = ^TClass;
  PStringGrid = ^TStringGrid;
var
[...]
begin
  if reason = DLL_PROCESS_ATTACH then
  begin
    handle := FindWindow('TForm1', 'FORMSSSSS');

    formPtr := PForm(GetVCLObjectAddr(handle) + 4);

    if (not Assigned(formPtr)) then
    begin
      OutputDebugString(PChar('Not assigned'));
      Exit;
    end;

    form := formPtr^;

    // Find the grid component and assign it to variable realGrid
    [...]

    // Iterate over all cells of the grid and write their values into the debug log
    for I := 0 to realGrid.RowCount - 1 do
      begin
        for J := 0 to realGrid.ColCount - 1 do
          begin
            OutputDebugString(PChar('Grid[' + IntToStr(I) + '][' + IntToStr(J) + ']=' + realGrid.Cells[J,I]));
            // This works fine
          end;
      end;

    // Now we'll try to write data into the grid
    realGrid.Cells[1,1] := 'Test'; // Crash - access violation
  end;
end; (*DllMain*) 
```

如何在不出现访问冲突问题的情况下将数据写入 TStringGrid？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T11:22:21.953

Everything related to Heap usage is under very heavy risk there. You can try Jedi CodeLib to merge object trees and ensure same single heap in EXE and DLL, but that would be utterly fragile solution.

Hoping the VMT calls are more or less safe and paranoically trying to prevent compiler from freeing string, the sketch to be like that:

```
type TSGCracker = class(Grids.TStringGrid); // access to protected functions.
....
var s: string;
function dummy(s: string);  // not-inline! pretend we need and use the value!
   begin Result := s + '2'; end; 
begin
   ...
   s := 'Test';   
   TSGCracker(realGrid).SetEditText(1,1, s);
   dummy( s+'1');
   ...
end; 
```

But that might call TStringGrid.OnSetEditText, if host EXE uses it.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T09:54:58.813

这种方法根本行不通。目标可执行文件中有两个 VCL 实例。一个由目标应用程序拥有，一个由 DLL 拥有。一个 VCL 实例太多了。如果使用完全相同版本的 Delphi 来构建目标应用程序和您的 DLL，您也许可以摆脱这种情况。

但是，您仍然有两个堆管理器在使用。并且您的代码在不同的 VCL 实例之间传递堆分配的内存。您将在一个堆中分配并在另一个堆中释放。这不起作用，并且会导致访问冲突。

您将在 DLL 堆中分配的字符串传递给使用目标应用程序堆的字符串网格对象。那是行不通的。

我认为访问冲突将发生在 DLL 代码尝试释放`Cells[i,j]`目标应用程序的堆管理器分配的先前值的点。

基本上你正在尝试的东西是行不通的。您可以找到目标应用程序实现的地址`TStringGrid.SetCell`并伪造对它的调用。但是您还需要找到目标应用程序的实现`GetMem`等`FreeMem`，并确保从您的 DLL 跨到目标应用程序的所有动态内存都由目标应用程序的堆分配和释放。你将有一份工作完成这项工作。当然，如果目标应用程序和 DLL 都使用共享内存管理器，那么您也许可以使这种方法可行。

更简单的是伪造键盘输入。我个人会确定使用 AutoHotKey 的可行性。

# php - 呼叫管理系统

> ID：12454734
> 
> 赞同：0
> 
> 时间：2012-09-17T07:22:04.967
> 
> 标签：php, mysql, phone-call

我正在使用 PHP 和 MySQL 开发呼叫管理系统。

我的数据库中有两张表，一张称为students，它存储有关需要拨打电话的人的信息，另一张称为Calls，它只记录拨打这些电话的时间。

![学生表](../Images/cbfb2f6b393aa8f7d45339ae95f8428e.png)

![来电表](../Images/0bf0950e9bfb498b1aaee8d964e64f76.png)

现在，假设我有两个呼叫者登录，他们应该拨打电话。我需要向他们展示不同的呼叫者集，以确保没有两个登录的呼叫者看到相同的呼叫“学生”。由于我将使用学生表来填充我的呼叫者，如何实现？我是否应该重组我的数据库以允许这样的事情。

显示今天需要拨打的呼叫的标准将是“未呼叫用户”、“在最后一次呼叫中给出特定呼叫时间的用户”。

呼叫者也可以被冻结，以防被呼叫的人只想与呼叫他的人交谈。如果这很难理解，我可以再详细一点。做这样的事情的最好方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-03T17:54:19.427

这是两种解决方案，后者的实现要复杂得多。让我知道是否应该详细说明任一解决方案。

1.  登录后，将调用者的子集分配给登录的用户。当他完成调用者并执行“完成”该调用者的操作时，将新调用者分配给用户。这样，他将始终有 X 个呼叫者分配给他。
2.  使用“长轮询”来持续查看哪些调用可用。因此，如果用户 A 点击呼叫者 1，则用户 B 将无法点击呼叫者 1，直到用户 A 停止使用呼叫者 1，或者用户 A 的会话超时。

如果我走在正确的轨道上，请告诉我，我会看看如何改进我的答案。

# grails - Grails：如果会话有时空闲，则触发任何操作

> ID：12454740
> 
> 赞同：2
> 
> 时间：2012-09-17T07:22:27.333
> 
> 标签：grails

^(当会话[ **1** ])空闲特定时间（例如：10 分钟）时，如何触发任何操作。

我正在使用 Grails 做一个 Web 应用程序。如果系统空闲了一段时间，我需要持有一些特定的任务。系统空闲时是否可以触发任何操作？

**注意：**我不是在询问会话超时。默认情况下，如果会话空闲 30 分钟，它应该注销。

^([ **1** ]) : 这里是感觉系统中的会话。我的 Web 应用程序托管在一台服务器上，许多用户可以访问该应用程序。如果某个用户的系统空闲了一段时间，那么我需要保留该特定用户的任务。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:47:00.993

根据 HTTP 请求-响应模式的性质，您无法根据用户（非）交互触发任何服务器端任务。

您可以使用 JavaScript 在客户端“观看”用户会话，并在客户端和/或服务器端触发任何任务。我使用[jQuery idleTimer](http://paulirish.com/2009/jquery-idletimer-plugin/)来检测用户是否处于活动状态。

使用此插件，您可以绑定到多个事件以检测用户的空闲和重新激活。如果触发了空闲事件，您可以执行 AJAX 调用来触发任何服务器端任务，如下所示：

```
$.idleTimer(10000);

$(document).bind("idle.idleTimer", function(){
    // function you want to fire when the user goes idle (e.g. do an AJAX call)

    $.post('${yourActionURL}', function(data) {
        // handle response
    });
}); 
```

希望有帮助！

# android - 如何在 Android 中获取当前 GPS 坐标的高程详细信息

> ID：12454741
> 
> 赞同：2
> 
> 时间：2012-09-17T07:22:30.550
> 
> 标签：android

在我的 android 应用程序中，我通过使用 LocationManager 类完美地获取了当前的 GPS 经度和纬度详细信息

我观察到我们也可以轻松获取海拔细节，但在我的应用程序中，我想要当前 GPS 位置的**海拔**细节。

谁能告诉我如何获取当前 gps 位置的**高程详细信息。**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-17T07:40:25.833

您可以尝试使用谷歌地图[海拔 API](https://developers.google.com/maps/documentation/elevation/)。您可以使用它来获取任何坐标对的高程信息。另请查看[Gmaps Android API](https://developers.google.com/maps/documentation/android/)文档。

# java - 如何使用 Apache Commmons 上传 word、excel、jpg 和 zip 文件？

> ID：12454742
> 
> 赞同：1
> 
> 时间：2012-09-17T07:22:35.200
> 
> 标签：java, file-upload, apache-commons

我正在使用**Apache Commons**使用方法将本地文件上传到 FTP `storeFile()`。它仅适用于 .txt 文件，但不适用于任何其他文件，如 MS-word、excel、图像、zip 文件等。文件正在上传，但该文件中没有内容。

### 代码

```
 FileInputStream fis = null;
   fis = new FileInputStream(localFile);
   boolean res = jBakFTPsyncUtility.client.storeFile(localFileName, fis);
   fis.close(); 
```

有人可以在这方面帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T07:45:24.817

您好，您应该在表单页面中有**enctype="multipart/form-data** ，如下所示。

上传表单 HTML：

```
<html>
<head><title>Upload page</title></head></p> <p><body>
<form action="./index.jsp" method="post" enctype="multipart/form-data" name="form1" id="form1">
    <center>
        <table border="2">
            <tr>
                <td align="center"><b>Multipale file Uploade</td>
            </tr>
            <tr>
                <td>
                    Specify file: <input name="file" type="file" id="file">
                <td>
            </tr>
            <tr>
                <td>
                    Specify file:<input name="file" type="file" id="file">
                </td>
                </tr>

            <tr>
                <td align="center">
                    <input type="submit" name="Submit" value="Submit files"/>
                </td>
            </tr>
        </table>
        <center>
     </form>
    </body>
</html> 
```

上传 JSP：

```
 <%@ page import="java.util.List" %>
   <%@ page import="java.util.Iterator" %>
   <%@ page import="java.io.File" %>
   <%@ page import="org.apache.commons.fileupload.servlet.ServletFileUpload"%>
   <%@ page import="org.apache.commons.fileupload.disk.DiskFileItemFactory"%>
   <%@ page import="org.apache.commons.fileupload.*"%>
   <%@ page contentType="text/html;charset=UTF-8" language="java" %>
   <center><table border="2">
        <tr><td><h1>Your files  uploaded </h1></td></tr>
   <%
 boolean isMultipart = ServletFileUpload.isMultipartContent(request);
 if (!isMultipart) {
 } else {
       FileItemFactory factory = new DiskFileItemFactory();
       ServletFileUpload upload = new ServletFileUpload(factory);
       List items = null;
       try {
           items = upload.parseRequest(request);
       } catch (FileUploadException e) {
           e.printStackTrace();
       }
       Iterator itr = items.iterator();
       while (itr.hasNext()) {
       FileItem item = (FileItem) itr.next();
       if (item.isFormField()) {
       } else {
           try {
               String itemName = item.getName();
               File savedFile = new File("C:\\ealvin@hp.com\\upload\\"+itemName);
               item.write(savedFile);  

               out.println("<tr><td><b>Your file has been saved at the loaction:</b></td></tr><tr><td><b>"+config.getServletContext().getRealPath("/")+"uploadedFiles"+"\\"+itemName+"</td></tr>");
           } catch (Exception e) {
               e.printStackTrace();
           }
       }
       }
   }
   %>
    </table>
   </center> 
```

* * *

# php - 如何在moodle中添加搜索表单？

> ID：12454747
> 
> 赞同：1
> 
> 时间：2012-09-17T07:23:02.073
> 
> 标签：php, moodle

我正在moodle框架中制作一个自定义主题。我想在标题中添加搜索表单。我怎样才能？

像`<?php get_search_form(); ?>`在wordpress中的东西。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T09:08:19.663

据我所知，moodle中的搜索表单在一个块中可用：
[Moodle Docs - Global_Search_set-up](http://docs.moodle.org/21/en/Global_Search_set-up)

您还应该观看：
[如何在 Moodle 中启用全局搜索](http://www.youtube.com/watch?v=VMyXdvBRuho)

如果您真的想在标题中添加表单，作为一种解决方法，您可以在主题中的任意位置添加此代码（可能更好地实现在主题中显示此代码的渲染器）：

```
 echo '<form id="searchquery" method="get" action="'. $CFG->wwwroot .'/search/query.php"><div>';
  echo '<label for="block_search_q">' . get_string('searchmoodle', 'block_search') . '</label>';
  echo '<input id="block_search_q" type="text" name="query_string" />';
  echo '<input type="submit" value="' . s(get_string('go', 'block_search')) . '" />';
  echo '</div></form>'; 
```

您应该查看搜索块代码以获取更多信息：

```
/Moodle/www/blocks/search/block_search.php 
```

# c# - 我不能在不失败的情况下使用角色。“发生与网络相关或特定于实例的错误”

> ID：12454749
> 
> 赞同：1
> 
> 时间：2012-09-17T07:23:16.713
> 
> 标签：c#, asp.net, authentication, web-config, authorization

嗨，我第一次尝试使用和理解角色。我该如何解决这个问题？我需要添加一些东西`WebConfig`吗？

```
private static void CreateRoleIfNotExists(string role)
{
    if (!Roles.RoleExists(role)) // this line throws the error.
    {
        Roles.CreateRole(role);
    }  
} 
```

更新，插入下面的完整堆栈跟踪：

`[SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SQL Network Interfaces, error: 26 - Error Locating Server/Instance Specified)] System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection) +4856727 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj) +194 System.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, SqlConnection owningObject) +4867325 System.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnection owningObject) +90 System.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(String host, String newPassword, Boolean redirectedUserInstance, SqlConnection owningObject, SqlConnectionString connectionOptions, Int64 timerStart) +374 System.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(SqlConnection owningObject, SqlConnectionString connectionOptions, String newPassword, Boolean redirectedUserInstance) +225 System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, String newPassword, SqlConnection owningObject, Boolean redirectedUserInstance) +189 System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection) +4868451 System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnection owningConnection, DbConnectionPool pool, DbConnectionOptions options) +31 System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject) +431 System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject) +66 System.Data.ProviderBase.DbConnectionPool.GetConnection(DbConnection owningObject) +499 System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection) +65 System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory) +117 System.Data.SqlClient.SqlConnection.Open() +122 System.Web.DataAccess.SqlConnectionHolder.Open(HttpContext context, Boolean revertImpersonate) +87 System.Web.DataAccess.SqlConnectionHelper.GetConnection(String connectionString, Boolean revertImpersonation) +221 System.Web.Security.SqlRoleProvider.RoleExists(String roleName) +478 System.Web.Security.Roles.RoleExists(String roleName) +73 dk.certifikat.Global.CreateRoleIfNotExists(String role)`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:42:15.070

如果您使用标准的 .net 会员提供程序和角色提供程序，则需要设置 aspnetdb

这可以通过命令提示符中的命令来完成

> aspnet_regsql

这可以在您的 .net 框架目录中找到。如果你这样做了。您需要为应用程序提供到运行 aspnetdb 的数据库的连接字符串。

更多相关信息可以在[这里](http://msdn.microsoft.com/en-us/library/ff649314.aspx)找到。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-12T15:57:35.940

我也遇到了这个错误。我在[http://www.asp.net/web-forms/tutorials/aspnet-45/getting-started-with-aspnet-45-web-forms/introduction-and-overview](http://www.asp.net/web-forms/tutorials/aspnet-45/getting-started-with-aspnet-45-web-forms/introduction-and-overview)上关注了他们也使用的示例Roles.RoleExists 在某个时刻。当我使用 Visual Studio Express 在本地运行应用程序时，一切正常。但是当我尝试通过网络访问应用程序时，我得到了同样的连接错误。

原来我不得不更改 web.config 文件。我更改了 DefaultProfileProvider、DefaultMembershipProvider 和 DefaultRoleProvider。我将 connectionStringName 属性更改为我添加到 connectionStrings 中的属性，即：

```
<add name="WingtipToys" providerName="System.Data.SqlClient" connectionString="Server=.\SQLEXPRESS;Database=wingtiptoys;Integrated Security=False;User Id=wingtiptoys;Password=wingtiptoys;AttachDbFileName=|DataDirectory|wingtiptoys.mdf;Persist Security Info=False" /> 
```

例如，DefaultMembershipProvider 现在看起来像：

```
<add name="DefaultMembershipProvider" type="System.Web.Providers.DefaultMembershipProvider, System.Web.Providers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" connectionStringName="WingtipToys" enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="false" maxInvalidPasswordAttempts="5" minRequiredPasswordLength="6" minRequiredNonalphanumericCharacters="0" passwordAttemptWindow="10" applicationName="/" /> 
```

使用*connectionStringName="WingtipToys"*而不是*connectionStringName="DefaultConnection"*

然后一切正常。这可能不是最好的解决方案，但我希望这个答案可以帮助某人。

# iphone - 在ios中使用div id从html布局文本中获取div格式

> ID：12454758
> 
> 赞同：1
> 
> 时间：2012-09-17T07:24:11.940
> 
> 标签：iphone, html, objective-c, ios

例子：

```
 <html>
        <body>

         <div id="content" style="background-color:#EEEEEE;height:200px;width:400px;float:left;">
        Content goes here</div>

        </body>
        </html> 
```

我在 nsstring 中有 html 文本（上图），

我需要使用 div id 获取 html 标签/ div；例子：

```
<div id="content" style="background-color:#EEEEEE;height:200px;width:400px;float:left;">
    Content goes here
    </div> 
```

nsstring *strDiveFormat = "需要代码";

nsslog(@"Div 格式：%@",strDiveFormat);

这应该打印：

```
<div id="content" style="background-color:#EEEEEE;height:200px;width:400px;float:left;">
    Content goes here
</div> 
```

# jquery - jQuery 调用 val()、text() 或 html() 是否会将焦点设置到该元素？

> ID：12454759
> 
> 赞同：0
> 
> 时间：2012-09-17T07:24:16.293
> 
> 标签：jquery, events, focus

如果我调用`$('#txt1').val()`or `$('#txt1').text()`or `$('#txt1').html()`，这是否会将 the`focus`设置为该元素？因为，我有这个`focusout`处理程序，它被称为`n`时间（`n`网格中的行数），即使我只在 txtbox 中单击一次，输入一个值，按下选项卡，从而确保只`focusout`发生一次（至少从什么我是手动做的）。但是`n`有时，有一个功能正在阅读`$('#txt1').val()`，所以我猜这就是必须将焦点设置在文本框上并导致失去焦点的原因。

所以，简而言之，*即使*没有明确声明/聚焦，调用是否`val(), text() or html()`会将焦点设置为元素？

 *ps：我什至可以发布代码，但相信我，这真的太长了，不能在这里发布，但是，如果有人需要，请评论！

** 编辑 ** 发布最少可能的代码....

```
var txtDiscountFocusOutHandler = function (event) {
            if ($(this).val() == '') {
                $(this).val('0');
            }
                recomputeAllGrid(1, ($('#grdEntry > tbody > tr').size()), false, true);
            }

        };

        // Step 20.D don't add the handler in the body,
        // add on keydown, that means user has explicitly changed the discount
        var txtDiscountKeyDownHandler = function (event) {
            // attach the handler here
            $('body').on("focusout.AttachedEvent", '#txtDiscount', txtDiscountFocusOutHandler);
        };

        // step 21\. this will recalculate all the data of lower grid
        // argStart = the starting number to being counting from
        // argEnd = the row to stop count at
        // argCallEachRowAsUpdate = call row as updadte or not
        // argAddDisAndTax = should dis and tax be added or subtracted?
        function recomputeAllGrid(argStartRow, argEndRow, argCallEachRowAsUpdate, argAddDisAndTax) {
            var _iCounter;
            // remove the event handler
            $('body').off("focusout.AttachedEvent", '#txtDiscount', txtDiscountFocusOutHandler);
            // set the lblDiscount = 0;
            $('#lblDisAmt').text('0');
            // set the tax = 0
            $('#txtSrTax').val('0');
            // set the total to 0
            $('#txtTotal').val('0');
            // don't change the value of advance
            // change the value of balance
            $('#txtBalance').val('0');
            // clear the alltax, and alldiscount
            $('#hdnAllTax').val('');
            $('#hdnAllDiscount').val('');
            //$('#hdnAllDiscountFocusOut').val('0');
            // for the given number of rows
            var _reCompProcessArray, _reCompQty;
            var _reCompPrc, _reCompRate, _reCompPrc1, _reCompRate1, _reCompPrc2, _reCompRate2;
            var _reCompAllSplittedPrcRate;

            for (_iCounter = argStartRow; _iCounter < argEndRow; _iCounter++) {
                // find qty
                _reCompQty = $('body').find('#grdEntry > tbody').find('#Qty_' + _iCounter + '').text() + '';
                // find the process array for each
                var _reCompProcessArray = $('body').find('#grdEntry > tbody').find('#Prc_' + _iCounter + '').text() + '';
                _reCompAllSplittedPrcRate = splitPrcRateFromArray(_reCompProcessArray);
                // set the variables
                _reCompPrc = _reCompAllSplittedPrcRate.prc;
                _reCompPrc1 = _reCompAllSplittedPrcRate.prc1;
                _reCompPrc2 = _reCompAllSplittedPrcRate.prc2;
                _reCompRate = _reCompAllSplittedPrcRate.rate;
                _reCompRate1 = _reCompAllSplittedPrcRate.rate1;
                _reCompRate2 = _reCompAllSplittedPrcRate.rate2;
                // find the disAndTax
                ComputeRowDisTaxAmt(_reCompPrc, _reCompRate, _reCompPrc1, _reCompRate1, _reCompPrc2, _reCompRate2, _reCompQty, false, -1, true);
            }
            // reset all values
            setTheDefaults();
            $('#grdEntry_ctl01_lblHAmount').text($('#txtCurrentDue').val());

        };

        // Step 6.B this function splits the array passed of rate and prc into individuals
        // the format of ary is : (prc@rate),(prc1@rate1), and so on
        function splitPrcRateFromArray(argPrcRateArray) {
            var firstPrc, firstRate, SecondPrc, SecondRate, ThirdPrc, ThirdRate;

            if (argPrcRateArray.indexOf(',') > 0) {
                // there is more than 1 process
                var PrcNameAndRateArray = argPrcRateArray.split(',');

                // split 3 times
                // first rate and prc
                firstPrc = PrcNameAndRateArray[0].split("@")[0].substring(1) + '';
                firstRate = PrcNameAndRateArray[0].split("@")[1] + '';
                firstRate = firstRate.substring(0, firstRate.length - 1);

                // second rate and prc
                SecondPrc = PrcNameAndRateArray[1].split("@")[0].substring(1);
                SecondRate = PrcNameAndRateArray[1].split("@")[1];
                SecondRate = SecondRate.substring(0, SecondRate.length - 1);

                // third rate and prc
                ThirdPrc = PrcNameAndRateArray[2].split("@")[0].substring(1);
                ThirdRate = PrcNameAndRateArray[2].split("@")[1];
                ThirdRate = ThirdRate.substring(0, ThirdRate.length - 1);

                // check for null
                if (firstPrc == '') { firstPrc = '' };
                if (SecondPrc == '') { SecondPrc = '' };
                if (ThirdPrc == '') { ThirdPrc = '' };
                if (firstRate == '') { firstRate = '0' };
                if (SecondRate == '') { SecondRate = '0' };
                if (ThirdRate == '') { ThirdRate = '0' };
            }
            else {
                // there is just one item
                firstPrc = argPrcRateArray.split("@")[0].substring(1) + '';
                firstRate = argPrcRateArray.split("@")[1] + '';
                firstRate = firstRate.substring(0, firstRate.length - 1);
                SecondPrc = '';
                SecondRate = '0';
                ThirdPrc = '';
                ThirdRate = '0';
            }
            // json object returned
            var _returnValue =
             { 'prc': firstPrc,
                 'prc1': SecondPrc,
                 'prc2': ThirdPrc,
                 'rate': firstRate,
                 'rate1': SecondRate,
                 'rate2': ThirdRate
             };
            return _returnValue;
        }

 function ComputeRowDisTaxAmt(argPrc, argRate, argPrc1, argRate1, argPrc2, argRate2, argQty, argIsUpdating, argRowNumber, argIsRecomputing) {
            var _curPrcDis = 0;
            var _curPrcTax = 0;
            var _curPrcAmount = 0;
            var _curPrcDis1 = 0;
            var _curPrcTax1 = 0;
            var _curPrcAmount1 = 0;
            var _curPrcDis2 = 0;
            var _curPrcTax2 = 0;
            var _curPrcAmount2 = 0;
            var _curDisStr = '';
            var _curTaxStr = '';
            var _iCounter;
            var _totalDiscOfRow = 0;
            var _totalTaxOfRow = 0;

            // First time
            _curPrcDis = findDiscountForProcess(argPrc, argRate, true);
            _curPrcAmount = findAmountForProcess(argRate, argQty, true);
            _curPrcTax = findTaxForProcess(argPrc, _curPrcAmount, _curPrcDis);
            _curDisStr = _curPrcDis + '';
            _curTaxStr = _curPrcTax + '';
            // two more times
            // other checks irrelevant to this question
            }

         /********************************************************/
        // now the function that _I think_ is causing this trouble
        // the reason I think so, is because it is calling _val()_
        // and I think that might be setting focus to discount box
        // and so its being called _n_ times

        // Step 3.D Find row discount
        // It caculates the discount of current row/process
        // argPrc : The process
        // argPrcRate : Rate of the Process
        // bApplyQty : Indicates weather to take qty into accout, that would be the case in for first process
        function findDiscountForProcess(argPrc, argPrcRate, bApplyQty) {
            // if prc is null, just return 0
            if (argPrc == '') { return 0; };
            // find the rate in discount percentage
            var _discountPerc = $('#txtDiscount').val();
            //alert($(document.activeElement).attr('id'));
            var _qty = parseFloat($('#txtQty').val());
            var _amtToCalcDisOn;
            _amtToCalcDisOn = findAmountForProcess(argPrcRate, _qty, bApplyQty);
            return parseFloat(_amtToCalcDisOn) * _discountPerc / 100;
        }; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T06:11:52.117

好的！我找到了罪魁祸首。这是执行`n`时间（网格中的行数）的原因是因为我在事件中绑定了它（`focusout`事件）`keydown`。我仍然无法弄清楚它发生的原因。但是，一旦我将其从`keydown`of 中删除`txtDiscount`，并将其放入（在它之前所在位置`$('body').on("focusout.AttachedEvent", '#txtDiscount', txtDiscountFocusOutHandler);`的`body`外部`keydown`，一切都完美无缺，它只被调用一次！但不知道为什么！*

# iphone - 如何检查应用程序是否已注册远程通知？

> ID：12454760
> 
> 赞同：1
> 
> 时间：2012-09-17T07:24:20.753
> 
> 标签：iphone, ios, xcode, push-notification, apple-push-notifications

我尝试在方法中注册远程通知

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions 
```

因此，每当启动该应用程序时，它都会每次都要求进行远程注册。在我看来，它不应该是这样的。如果应用程序已经注册了它，它应该。

但我没有找到任何方法来检查这个想法。

我想对了还是有其他出路？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-01-12T11:22:37.930

试试这个：

```
+(BOOL)isHaveRegistrationForNotification{

//For ios >= 8.0
if  ([[[UIDevice currentDevice] systemVersion] floatValue] >= 8.0)
    return [[UIApplication sharedApplication] isRegisteredForRemoteNotifications];

//For ios < 8
else{ 
    UIRemoteNotificationType types = [[UIApplication sharedApplication] enabledRemoteNotificationTypes];
    BOOL deviceEnabled = !(types == UIRemoteNotificationTypeNone);
    return deviceEnabled;
    }
} 
```

# ios - 在 iOS 中发送通知有哪些可能性

> ID：12454764
> 
> 赞同：0
> 
> 时间：2012-09-17T07:24:40.643
> 
> 标签：ios, uiviewcontroller, nsuserdefaults, apple-push-notifications, nsnotificationcenter

我想知道发送通知的可能性。可以发一个`NSUserDefaults`吗？

我知道你可以再发一个`viewcontroller`。

像这样：

`NSUserDefaultsDidChangeNotification`只是在更改默认值时发出的通知。要听它，您需要以下代码：

```
NSNotificationCenter *center = [NSNotificationCenter defaultCenter];
[center addObserver:self
           selector:@selector(defaultsChanged:)  
               name:NSUserDefaultsDidChangeNotification
             object:nil]; 
```

`defaultsChanged:`这将在触发通知时调用该方法。您需要像这样实现此方法：

```
- (void)defaultsChanged:(NSNotification *)notification {
 // Get the user defaults
NSUserDefaults *defaults = (NSUserDefaults *)[notification object];

// Do something with it
NSLog(@"%@", [defaults objectForKey:@"nameOfThingIAmInterestedIn"]);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:45:44.223

好，

`NSNotificationCenter`这是通过使用发送字典的可能性

```
- (void)postNotificationName:(NSString *)notificationName object:(id)notificationSender userInfo:(NSDictionary *)userInfo 
```

在您发布它的课程中：

```
NSDictionary *dict;

dict = [NSDictionary dictionaryWithObjectsAndKeys: yourStuff, nil];
[[NSNotificationCenter defaultCenter] postNotificationName:@”someString” object:nil userInfo:dict]; 
```

在课堂上做听力：

```
[[NSNotificationCenter deHaultCenter] addObserver:self selector:@selector(someMethod: ) name:@”someString” object:nil];
…
- (void)someMethod:(NSNotification *)notification {
NSDictionary *tmp = notification.userInfo;
//You could access notification.object here too
} 
```

**编辑：** 但通常在从服务器接收推送通知时，您有一个名为：

```
 - (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo 
{
for (id key in userInfo) {
        NSLog(@"key: %@, value: %@", key, [userInfo objectForKey:key]);
    }
} 
```

`Dictionary`在这种方法中，您也可以获得有效负载

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:51:26.683

您不能发送`NSUserDefault`，但您可以发送以 base64 转换的整个类（归档器/取消归档器）数据。接下来创建您的`NSUserDefault`from `NSData`。

我写了一篇文章来与应用程序交换数据`base64`并使用它。

[http://www.albertopasca.it/whiletrue/2012/04/objective-c-share-classes-objects-apps/](http://www.albertopasca.it/whiletrue/2012/04/objective-c-share-classes-objects-apps/)

希望这可以帮助。

# delphi - 如何在 FM2 中更改 StringGrid 的字体大小

> ID：12454765
> 
> 赞同：3
> 
> 时间：2012-09-17T07:24:41.533
> 
> 标签：delphi, firemonkey

如何在 rad studio XE3 中的 StringGrid 中更改字体大小 - FM2 Firemonkey 2 not firemonkey 1

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T11:07:46.177

我搜索了互联网，似乎没有办法将文本调整为**StringGrid**。

您可以使用**FindStyleResource('header')**调整标题的大小：

[更改 Firemonkey StringGrid 中的文本大小](https://stackoverflow.com/questions/11433934/change-text-size-in-firemonkey-stringgrid)

但尚不清楚使用什么（如果有）代替“***标题***”，因此您可以更改行中的文本。Delphi 帮助文件根本没有用，因为我找不到可以在**FindStyleResource**函数中使用的所有可用参数。

至于下面的答案：

**字符串网格1**。*单元格*[X,Y] 没有**StyleLookup**属性。

此外，有些人建议使用**OnDrawCell**过程，但看起来**StringGrid**缺少这个（至少在*Delphi XE3 Firemonkey 中*）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T22:08:11.473

他们似乎仍然没有让这件事变得容易。

这些单元基本上是 TEdit，因此它们使用 EditStyle 进行样式设置。但是如果你改变它，你会改变所有的 TEdits。不是你想要的。

理想情况下会有一个“CellStyleLookup”属性。设置好，修改样式，然后就可以了。但是没有。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-21T08:36:29.633

```
StringGrid1.StyledSettings.Size := False;
StringGrid1.TextSettings.Font.Size := 18; 
```

这在 FireMonkey XE6 上运行良好，但是您报告的关于 theader 的脚本在 XE6 上不起作用

# mysql - MySQL“高级位置”查询

> ID：12454767
> 
> 赞同：0
> 
> 时间：2012-09-17T07:24:56.013
> 
> 标签：mysql, sql, advanced-search

我想知道是否有任何可能的方法，MySQL 查询可以动态搜索`WHERE`子句中的任何内容。

例如，如果查询是

```
Select * 
from table 
where item = 'Dell Optiplex 390' 
```

它应该搜索具有以下内容的行：

```
Dell Optiplex 390

Dell Desktop Optiplex 390

Dell Laptop Optiplex 390

Optiplex dual core 390

etc., etc. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:33:46.710

对于这些类型的搜索功能，我认为您正在寻找匹配算法。您可以使用[Levenshtein 距离算法](http://en.wikipedia.org/wiki/Levenshtein_distance)，如果您使用 php，则有一个实现此算法的 php 函数[`levenshtein`](http://php.net/manual/en/function.levenshtein.php)来获取匹配数据，还有[Needleman–Wunsch 算法](http://en.wikipedia.org/wiki/Needleman%E2%80%93Wunsch_algorithm)，如果您的数据只有英文和一个单词列，您可以使用[Soundex 算法](http://en.wikipedia.org/wiki/Soundex)。

这是一个开始，你会在 Mysql 中找到很多这些算法的实现。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T07:34:20.633

如果您需要知道该字段包含您中的任何一个单词。

```
Select *  
from table  
where item like '%Dell%' OR item like '%Optiplex%' or item like '%390%' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T07:31:05.757

这里有一个很好的答案已被删除，我会将答案修改为：

```
Select * from table where 
lower(item) like '%dell%optiplex%390%' or
lower(item) like '%optiplex%390%' or
lower(item) like '%dell%laptop%390%' or ... 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-17T07:36:03.807

`LIKE`使用带有通配符的 SQL子句：

```
SELECT * 
FROM table 
WHERE item LIKE '%Dell%Optiplex390%'; 
```

这是一个很好的参考指南：

*   [MySQL 通配符过滤使用 LIKE](http://www.techotopia.com/index.php/MySQL_Wildcard_Filtering_using_LIKE)。

# objective-c - Objective-C：分别缩放不同的 UIScrollView

> ID：12454768
> 
> 赞同：1
> 
> 时间：2012-09-17T07:25:07.603
> 
> 标签：objective-c, ios, uiscrollview, uiimageview

我正在制作一个应用程序，它使用相机/照片库将图像`UImageView`放在`UIScrollView`.

我正在制作一个框架应用程序，可以在不同的盒子上发布图像。例如，在一个视图中，用户可以在某个区域放置 3 张图像，一旦发布，他们就可以缩放/编辑图像。我用来`UIScrollView`缩放图像，但我无法缩放每张图像。

当我只有一张图像时，我没有问题，我已经设法正确缩放它。

这是我知道的唯一缩放代码：

```
- (UIView *)viewForZoomingInScrollView:(UIScrollView *)scrollView
{
    return insertPhoto1;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T10:40:07.663

```
- (void)scrollViewDidEndZooming:(UIScrollView *)scrollView withView:(UIView *)view atScale:  (float)scale
{

   scrollView.minimumZoomScale = scale;

} 
```

# css - 光标 URL 是相对于 css 文件的吗？

> ID：12454770
> 
> 赞同：9
> 
> 时间：2012-09-17T07:25:12.510
> 
> 标签：css

我知道路径应该是相对于 css 文件的，但对于我试图用作光标的图像来说似乎并非如此。

文件结构为：

```
Content/Site.css
Content/images/butteryfly.ani
Content/images/user.png 
```

网站.css：

```
.butterfly
{       
cursor: url('images/butterfly.ani'), pointer;    
}

/*this works*/
.ui-icon-user
{
    background-image: url(images/user.png) !important;
    background-position: 0 0;
} 
```

如果我将其更改为：

```
.butterfly
{       
cursor: url('Content/images/butterfly.ani'), pointer;    
} 
```

为什么相对 URL 不适用于光标？

**编辑：**在 Chrome、Firefox 或 IE9 中不起作用。在所有浏览器中，它都显示手形光标而不是自定义光标。

**Edit2：**跟进：由于 html 页面位于不同的级别，我如何真正让它在我的网站上工作？有没有办法以某种方式在 css 中指定相对 URL，或者我应该将光标的副本放在与每个页面相同的级别（这很糟糕！）？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-05T22:39:28.340

您应该使用 .cur 扩展名使其在 IE 和 FF 中都可以工作。在 IE11 及更早版本中，光标文件的 URL 是相对于页面而不是 css 文件的。

```
cursor: url('http://example.com/Content/images/butteryfly.cur'), default; 
```

尽量避免使用两个 url 值，因为这会导致 IE 对服务器造成不必要的访问。相反，使用在 IE、FF 和 Chrome 中可以正常工作的绝对 URL。Opera 将使用默认值。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-17T07:37:23.487

我只知道 Internet Explorer 将相对 URL 解释为相对于 HTML 文档，但现代浏览器（Mozilla Firefox、Google Chrome）将相对 URL 解释为相对于“.css”。

```
/*
 The CUR and CSS files are in the same folder, the HTML is in a directory above this CSS     file
*/

#example {
  cursor: url('arrow.cur'),            /* Modern browsers    */
          url('style/arrow.cur'),      /* Internet Explorer  */
          default;
 } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-16T11:02:17.340

我建议你阅读这篇短文。 [http://blog.stchur.com/2006/11/02/ie-bug-dealing-with-css-custom-cusors/](http://blog.stchur.com/2006/11/02/ie-bug-dealing-with-css-custom-cusors/)

IE 错误有 3 种解决方法 - IE 不会将自定义光标 URL 解释为相对。其他类型的 URL 在 IE 中被正确解释

1.  使用绝对路径
2.  在标签之间移动 html 页面中的光标样式
3.  使用 IE 条件注释，类似于 John C.

# iphone - iPhone App：uiwebview中的选定文本替换为一些特殊字符

> ID：12454773
> 
> 赞同：1
> 
> 时间：2012-09-17T07:25:21.810
> 
> 标签：iphone, objective-c, ios, encoding

在我的 iPhone 应用程序中，当我在文本下方突出显示时，我在 uiwebview 中加载了 .html 文件

![在此处输入图像描述](../Images/f3151c30dd5978c10a5d69b7044323d4.png)

```
1\.   The income statement. 
```

带代码

> NSString *selection = [self.wvNotes stringByEvaluatingJavaScriptFromString:@"window.getSelection().toString()"];

在日志中，它给了我文本

![在此处输入图像描述](../Images/2d33e55e00c88a6b989cd165fde19907.png)

1.\u00a0\u00a0\u00a0\u00a0\u00a0 损益表。

它正在用一些替换空间`\u00a0`。有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T10:24:06.160

```
NSString *selection = [self.wvNotes stringByEvaluatingJavaScriptFromString:@"window.getSelection().toString()"]; 
```

给你一个用 unicode 编码的字符串。正如您所看到的，如果您对此字符串执行 NSLog，它将打印不间断空格（`.`对于 unicode 字符串`\u00a0`）。如果你不想要那些你可以用空格字符串替换 unicode 字符串`" "`

```
 NSString* stringToConvert = @"1.\u00a0\u00a0\u00a0\u00a0\u00a0 Test";
 stringToConvert = [stringToConvert stringByReplacingOccurrencesOfString:@"\u00a0" withString:@" "];
 // This will print "1\.     Test"
 NSLog(stringToConvert); 
```

# java - 在JPA实体中存储不存在列作为SQL中的别名

> ID：12454774
> 
> 赞同：2
> 
> 时间：2012-09-17T07:25:22.407
> 
> 标签：java, sql, hibernate, jpa

我编写了查询来计算指定企业下可用的位置数。SQL 查询是这样的

```
SELECT 
e.enterprise_id,
e.ent_name,
(
    SELECT count(l.location_id)
    FROM rfx_ent_locations l
    WHERE l.loc_type_id <> 1001
        AND e.enterprise_id = l.enterprise_id
) AS locCount
FROM rfx_enterprises e
WHERE  e.partner_type = 102; 
```

如果在 entity 中作为列引入，我会收到一条错误消息，提示找不到列。要检索作为包括用作别名的 locCount 的实体，使用 JPA 我应该如何进行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T07:53:39.383

不要用那个做你的计数查询。像这样单独做

```
Query query = session.createQuery("SELECT count(l.location_id)
    FROM rfx_ent_locations l
    WHERE l.loc_type_id <> 1001
        AND e.enterprise_id = l.enterprise_id");// do as you please with the query result

    /**
     * instead of doing a second query to get the count.  Just do a quick count using Iterator
     */

    for (Iterator iterator = query.iterate(); iterator.hasNext();) {
        iterator.next();
        count++;
    }

    Integer queryCount = count; 
```

将此 queryCount 设置为您的类中的**@transient**变量设置方法。这样您就可以进行计数

**或**
尝试这样

```
Integer count = (Integer) session.CreateQuery("SELECT count(l.location_id)
FROM rfx_ent_locations l
WHERE l.loc_type_id <> 1001
    AND e.enterprise_id = l.enterprise_id").UniqueResult(); 
```

干杯！！！

# mysql - 我如何在条件下指定 cakephp save()？

> ID：12454778
> 
> 赞同：1
> 
> 时间：2012-09-17T07:25:53.103
> 
> 标签：mysql, cakephp-2.0

> **可能重复：**
> [cakephp 中的“ON DUPLICATE KEY UPDATE”](https://stackoverflow.com/questions/12455847/on-duplicate-key-update-in-cakephp)

> > INSERT INTO table1 ('field1','field2','field1') 值 ('5','RENJITH','5','2012-08-04 15:07:38') ON DUPLICATE KEY UPDATE 'field4' ='5'

我怎样才能在蛋糕PHP中做到这一点？

# drupal-6 - 一次登录drupal后如何将用户重定向到个人资料页面

> ID：12454783
> 
> 赞同：0
> 
> 时间：2012-09-17T07:26:15.757
> 
> 标签：drupal-6

**在他通过密码更改到达一次登录页面后，我必须将用户重定向到用户/个人资料页面。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T14:52:42.310

尝试登录目标模块：[http ://drupal.org/project/login_destination](http://drupal.org/project/login_destination)

# android - 在 Android 应用中使用 Scringo

> ID：12454785
> 
> 赞同：3
> 
> 时间：2012-09-17T07:26:23.807
> 
> 标签：android, scringo

我`Scringo`在我的 Android 应用程序中使用，因为我想启用用户之间的聊天，但我想禁用邀请用户发送短信的选项以及每次打开应用程序时显示的弹出窗口。

另外，我现在想知道如何从我的应用程序中删除那些测试示例，例如`imaginary`Radar 上那些仅用于测试但每次用户访问 Radar 时都会显示的人。

我在网上搜索了一些关于如何在我的应用程序中自定义 Scringo 的说明，但我没有找到任何关于它的信息，也无法向他们发送消息，因为网站上的那个部分正在建设中。

而且网上关于 Scringo 的帖子并不多。

有一些关于使用它的方法`IOS`，就是这样。

**已解决：**好吧，我向 Scringo 开发人员发送了消息，目前无法禁用“邀请”功能，所以我在 ScringoResources 上禁用了它，找到`scringo_panel.xml`并查找`android:id="@+id/scringoPanelInvite"`并设置了它的`android:visibility="gone"`. 我禁用了在 Scringo 面板中显示的邀请功能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T22:03:45.433

正如您在 Scringo 的开发区 (dev.scringo.com) 上看到的那样，目前无法禁用“邀请”功能。向 support@scringo.com 发送功能请求，我相信他们会在下一个版本中尝试支持它......

您看到的测试/调试/“虚构”用户在那里，因为您调用了“Scringo.setDebugMode(true);”，如果您删除该行，您将看不到它们。

# sql - 我应该使用分区还是有更好的方法？

> ID：12454786
> 
> 赞同：1
> 
> 时间：2012-09-17T07:26:25.213
> 
> 标签：sql, sql-server-2008, tsql

我有一个表结构，简化如下：

```
period_id int
suite_id varchar(20)
suite_status varchar(50) 
```

每个月都分配给一个期间 ID。每个套件都有每个月的记录 (period_id)。套房状态可以是“空置”或“有效租约”。我正在尝试编写一个查询，显示自 2011 年 7 月 1 日以来已租用的前五项交易，这些交易在成为有效租约之前空置时间最长，但我不知道如何处理这个问题。

我最初的方法是按每个租约的空置期数对每个租约进行排名，如下所示：

```
;WITH cte_vacancy_periods AS
(
        SELECT  lp.suite_id ,
                count(lp.period_id) AS 'Periods Vacant'
        FROM    property.lease_period lp
        WHERE   lp.suite_status = 'Vacant'
                        OR
                        (       isnull(lp.suite_status, '') = ''
                                AND     lp.lease_id = 'No Lease'        )
        GROUP BY
                lp.suite_id
        ORDER BY count(lp.period_id) desc
) 
```

然后，我计划将其与自 258 年（2011 年 7 月 1 日）以来生效的租约进行交叉引用。

不幸的是，这不适用于租约空置两个月，然后租用一个月，然后再空置两个月的情况（显示总共空置四个月，而实际上应该是两个月）。

我敢肯定这可以通过分区来完成，但我试图做到这一点并不太了解它们。我在解决这个问题时缺少什么知识？如果我对数据的解释很差，所以很难理解我在做什么，请告诉我，我会在可能的地方详细说明。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:57:12.010

希望这样的方法会有所帮助。

我不得不承认，我不是 100% 清楚您要寻找的最终结果，但这应该可以为您提供一个可以回答许多与您类似的问题的数据集。

```
WITH
  reformatted_data
AS
(
  SELECT
    suite_id,
    period_id,
    CASE
      WHEN suite_status = 'Vacant'                                 THEN 0
      WHEN lease_id = 'No Lease' AND isnull(suite_status, '') = '' THEN 0
                                                                   ELSE 1
    END as suite_status
  FROM
    properties.lease_period
)
,
  gaps_and_islands
AS
(
  SELECT
    suite_id,
    period_id,
    suit_status,
    ROW_NUMBER() OVER (PARTITION BY suite_id               ORDER BY period_id) AS seq,
    ROW_NUMBER() OVER (PARTITION BY suite_id, suite_status ORDER BY period_id) AS seq_status
  FROM
    reformatted_data
)

SELECT
  suite_id,
  suit_status,
  MIN(period_id)       AS first_period_id,
  MAX(period_id)       AS last_period_id,
  MAX(seq) - MIN(seq)  AS consecutive_periods
FROM
  gaps_and_islands
GROUP BY
  suite_id,
  suite_status,
  seq - seq_status 
```

# python - 如何创建与调用的类不同的类？

> ID：12454787
> 
> 赞同：0
> 
> 时间：2012-09-17T07:26:42.960
> 
> 标签：python, class, warnings

好的。我一直在努力表达这个问题。我有一个子类。如果某些事情在调用时为真，我希望它创建其基类的实例。我会用 __ new __ 做这个吗？如果是这样，我会怎么做？

这是我的意思的一个例子：

```
import warnings
class A:
    def __init__(self, *args):
        self.val = list(args)
    def __str__(self):
        return "A"

class B(A):
    def __init__(self, *args):
        if len(args)==3:
           A.__init__(self, *args)
           return
        else:
            warnings.warn("Making an A object!")
            return A(*args)

    def __str__(self):
        return "B"
    def extramethod1(self):
        print "This method is only in a B object"

x = B(1, 2, 3)
Warning (from warnings module)
  File '/test.py', line 14
UserWarning: Making an A object!
y = B(1, 2)
print x, y
'A B'
y.extramethod1()
'This method is only in a B object' 
```

另外，当它这样做时，我如何让 B 发出警告？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:48:02.427

请参阅[上一个问题](https://stackoverflow.com/questions/12433584/should-a-class-constructor-return-a-subclass/12433588#12433588)。那是在反方向问这个问题：超类是否应该返回子类实例。不过答案是一样的：改用工厂函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:46:50.543

__init__ 应该返回无！不是对象！

您可以尝试不同的方法：

```
def f(*largs,**kwargs):
    if (...):
        return A(*largs,**kwargs)
    return B(*largs,**kwargs)

x = f(1,2,3) 
y = f(1,2) 
```

您最终可以制作 B 的 fa staticmethod 以便将其绑定到类

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T15:19:39.540

不管你这样做的动机是什么，在 Python 中，每当你调用创建类实例时，调用的是这样的：

`__call__`类的元类上的方法。这通常是“ `type.__call__` - 很少使用自定义元类来覆盖它。

反过来，该函数调用该类的`__new__`对象。`__new__`返回一个对象，它是创建的实例——它可以来自被调用的类、它的超类、子类或任何其他 Python 对象。（包括`None`当人们忘记`return`在方法中包含适当的语句时有时会发生这种情况`__new__`。元类的`__call__`它们调用`__init__`新对象上的方法。

出于您的目的，最简单的方法就是编写您的`__new__`方法，并在您发现更合适的时候让它返回。请注意，返回值`__init__`总是被忽略（因此应该是隐含的，`None`不会误导任何阅读代码的人）。

# jquery - jQuery 可水平和垂直排序

> ID：12454792
> 
> 赞同：0
> 
> 时间：2012-09-17T07:26:57.023
> 
> 标签：jquery, jquery-ui-sortable

我有一个关于 jQuery 排序的问题。

我有两列，在主列中，第一个 div 全宽 ( `class=firstitem`)，然后是四个水平 ( `class=middleitems`)，然后是四个全宽 (class=bottomites)。所以一共有九个元素。像这样在主列中：

```
[ f i r s t ]
[2][3][4][5]
[  s  i  x  ]
[ s e v e n ]
[ e i g h t ]
[ n i n e   ] 
```

然后是垂直的 10 个项目的右列。

如果我将项目 nr 2-5 垂直而不是水平放置，一切正常。但是当您将新项目拖入其中时，我希望布局保持这种状态。因此，例如，如果我在中间项中拖动某些东西，我希望其中的最后一项“移动”到底部项。如果我将某些东西拖到 topitem 中，我希望当前的 topitem 向下移动以成为第一个中间项，依此类推，如果你理解的话。我已经设法在“receive:”中将丢弃项目的 cssclass 更改为正确的，但我不知道如何从那里获取它。
我需要以某种方式找到下一个项目并将其“复制”和“粘贴”到下一个 div，依此类推。
这就是我在自动取款机的地方。

关于如何使这项工作的任何想法？如果它不起作用，它不是世界末日，但如果它起作用会很好:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T07:46:29.840

在您的“drop”事件处理程序中...取决于“this”和“event.target”指向的内容...

您应该查看 jQuery 文档中的“操作”和“遍历”部分。

看着

*   “之前”[在这里](http://api.jquery.com/before/)
*   “之后”[在这里](http://api.jquery.com/after/)
*   “附加到”[这里](http://api.jquery.com/appendTo/)
*   “prependTo”[在这里](http://api.jquery.com/prependTo/)

例子：

```
<div id="parent"> 
    <div id="one"></div>
    <div id="two"></div>
    <div id="three"></div>
</div> 
```

-

```
$('#three').after($('#one')); // push first div (id="one") at the bottom
$('#one').appendTo($('#parent')); // push first div (id="one") at the bottom 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T13:59:18.603

我知道我的回答迟了，但这是你想要达到的目标吗？

HTML：

```
<ul>
    <li>1</li>
    <li>2</li>
    <li>3</li>
    <li>4</li>
    <li>5</li>
    <li>6</li>
    <li>7</li>
    <li>8</li>
    <li>9</li>    
</ul> 
```

CSS：

```
ul {
    margin: 0;
    padding: 0;
    display: block;
    list-style-type:none;
    clear: both;
}
ul li {
    display: block;
    width: 100px;
    margin: 0 5px 5px 0;
    padding: 0;
    float: left;
    list-style-type:none;
    background: #dadada;
    clear: left;
}

ul li:nth-child(2) {
    width: 21px;
}
ul li:nth-child(3),
ul li:nth-child(4),
ul li:nth-child(5)
{
    clear: none;
    width: 21px;
} 
```

测试：http: [//jsfiddle.net/zcj5S/](http://jsfiddle.net/zcj5S/)

# blackberry - 如何在使用 eclipse 开发的设备上安装 balckberry 应用程序

> ID：12454793
> 
> 赞同：0
> 
> 时间：2012-09-17T07:27:07.990
> 
> 标签：blackberry, blackberry-simulator, blackberry-eclipse-plugin, blackberry-jde

您好我正在尝试安装使用 Eclipse 开发的黑莓应用程序，但它没有部署，而是显示错误。我不知道在代码签名过程中是否做错了一些机构可以发送一些好的链接或一些程序来遵循部署过程。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T12:30:20.613

首先从这个链接安装设备管理器：http: [//in.blackberry.com/services/desktop/](http://in.blackberry.com/services/desktop/)

其次，当您插入设备时，该黑莓桌面软件（设备管理器）将打开。

第三，在左侧有应用程序选项卡选择它并在其中添加将安装在您的设备上的“.cod”文件

尝试使用这段代码，希望你想要什么

# c# - 为什么协变和逆变不支持值类型

> ID：12454794
> 
> 赞同：158
> 
> 时间：2012-09-17T07:27:13.873
> 
> 标签：c#, .net, c#-4.0, covariance, contravariance

`IEnumerable<T>`是*协变的*，但它不支持值类型，只支持引用类型。下面的简单代码编译成功：

```
IEnumerable<string> strList = new List<string>();
IEnumerable<object> objList = strList; 
```

但是从`string`to更改`int`会得到编译错误：

```
IEnumerable<int> intList = new List<int>();
IEnumerable<object> objList = intList; 
```

原因在[MSDN](http://msdn.microsoft.com/en-us/library/dd799517.aspx#InterfaceCovariantTypeParameters)中有解释：

> 差异仅适用于引用类型；如果为变体类型参数指定值类型，则该类型参数对于生成的构造类型是不变的。

我搜索了一下，发现有些问题提到的原因是*value type 和 reference type 之间的装箱*。但是我还是不太清楚为什么拳击是这个原因？

有人可以简单详细地解释为什么协变和逆变不支持值类型以及*装箱*如何影响这一点？

* * *

## 回答 #1

> 赞同：130
> 
> 时间：2012-09-17T07:37:48.147

基本上，当 CLR 可以确保它不需要对值进行任何*表示性更改*时，就会应用差异。引用看起来都一样——所以你可以使用`IEnumerable<string>`as an`IEnumerable<object>`而不会改变表示形式；本机代码本身根本不需要知道你对这些值做了什么，只要基础设施保证它肯定是有效的。

对于值类型，这是行不通的——要将 an`IEnumerable<int>`视为 an `IEnumerable<object>`，使用序列的代码必须知道是否执行装箱转换。

您可能想阅读 Eric Lippert 的[关于表示和身份的博客文章，](http://blogs.msdn.com/b/ericlippert/archive/2009/03/19/representation-and-identity.aspx)以了解有关此主题的更多信息。

编辑：我自己重读了 Eric 的博客文章后，它至少与代表一样多的*身份*，尽管两者是联系在一起的。尤其：

> 这就是为什么接口和委托类型的协变和逆变转换要求所有不同类型的参数都是引用类型。为确保变体引用转换始终保持身份，所有涉及类型参数的转换也必须保持身份。确保类型参数上的所有重要转换都保持身份的最简单方法是将它们限制为引用转换。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-09-17T07:51:17.017

如果您考虑底层表示，可能更容易理解（即使这确实是一个实现细节）。这是字符串的集合：

```
IEnumerable<string> strings = new[] { "A", "B", "C" }; 
```

您可以将`strings`视为具有以下表示：

```
[0] : 字符串引用 -> "A"
[1] : 字符串引用 -> "B"
[2] : 字符串引用 -> "C"

```

它是三个元素的集合，每个元素都是对字符串的引用。您可以将其转换为对象集合：

```
IEnumerable<object> objects = (IEnumerable<object>) strings; 
```

基本上它是相同的表示，除了现在引用是对象引用：

```
[0]：对象引用->“A”
[1]：对象引用->“B”
[2]：对象引用->“C”

```

表示是一样的。引用的处理方式不同；您无法再访问该`string.Length`属性，但您仍然可以调用`object.GetHashCode()`. 将此与整数集合进行比较：

```
IEnumerable<int> ints = new[] { 1, 2, 3 }; 
```

```
[0] : 整数 = 1
[1] : 整数 = 2
[2] : 整数 = 3

```

要将其转换为`IEnumerable<object>`数据，必须通过对整数进行装箱来转换：

```
[0] : 对象引用 -> 1
[1] : 对象引用 -> 2
[2] : 对象引用 -> 3

```

这种转换需要的不仅仅是演员。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-09-17T07:40:25.183

我认为一切都始于`LSP`（Liskov Substitution Principle）的定义，其中包括：

> 如果 q(x) 是关于 T 类型的对象 x 的可证明属性，那么 q(y) 应该对 S 类型的对象 y 为真，其中 S 是 T 的子类型。

但是值类型，例如`int`不能替代`object`in `C#`。证明很简单：

```
int myInt = new int();
object obj1 = myInt ;
object obj2 = myInt ;
return ReferenceEquals(obj1, obj2); 
```

`false`即使我们为对象分配了*相同*的“引用”，它也会返回。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-09-17T10:02:42.220

它确实归结为实现细节：值类型的实现方式与引用类型不同。

如果您强制将值类型视为引用类型（即将它们装箱，例如通过接口引用它们），您可以获得差异。

查看差异的最简单方法是简单地考虑一个`Array`：Value 类型数组连续（直接）放在内存中，而 Reference 类型数组只有在内存中连续引用（指针）；指向的对象是单独分配的。

另一个（相关）问题（*）是（几乎）所有引用类型出于方差目的都具有相同的表示形式，并且很多代码不需要知道类型之间的差异，因此协方差和反方差是可能的（并且很容易实现——通常只是省略了额外的类型检查）。

(*) 这可能被视为同一个问题...

# service - NServicebus 和服务实现的竞争条件

> ID：12454808
> 
> 赞同：1
> 
> 时间：2012-09-17T07:28:15.713
> 
> 标签：service, nservicebus, race-condition, saga

我有一个 saga-service ProcessCatalog 负责产品目录发布过程。

客户端应用程序向其发送 PublishCatalog 消息；每条消息都包含 catalogid 和项目列表。

我选择 catalogid 作为 SagaId。

ProcessCatalog 服务是一个长期运行的业务流程，它以适当的顺序排列其他业务服务。

我需要 ProcessCatalog 记住当前目录项的组成来推动发布过程。

如果同一个用户第一次点击 UI 按钮发送 PublishCatalog(catalogId=1, Itemlist={A,B,C} ) 然后更改目录组成 (itemList ={A,D,E}) 会发生什么在 UI 按钮上再次单击以发送相同 CatalogId 的另一个 PublishCatalog ？

如果我的 ProcessCatalog 端点配置了一个工作线程，那么一切正常（我认为）。但是如果工作线程大于 1 并且 2 条消息同时处理会发生什么？如果第二个线程在第一个线程之前完成执行会发生什么？

我问我这是业务设计错误还是正常的技术问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T13:33:35.787

由于 Saga 正在管理状态，因此这两条消息应该与同一个 Saga 相关联。在您的 Saga 中，您必须处理每条消息并解决任何冲突。业务规则必须定义如果在目录发布过程中更改目录会发生什么。

可能的情况是允许 Saga 完成，然后另一个 Saga 来修改目录。通常，对于产品目录，消费者只关心最新的内容，并且能够在初始发布后吸收更改。如果有大量工作要发布，那么您可能需要取消 Saga 并重新启动它。如果是这种情况，那么 UI 可能需要更多地变成一个建模工具，用户可以在其中使用目录，然后在他们完全满意时提交。

# documentation - iOS 6：提交到 App Store/UX 指南更改

> ID：12454811
> 
> 赞同：2
> 
> 时间：2012-09-17T07:28:30.877
> 
> 标签：documentation, app-store, ios6

我们已经根据 iOS 5 Appstore 和 UX 指南构建了我们的通用应用程序，我想知道 iOS 6 的指南是否有任何变化。是否有任何参考资料可以检查 iOS6 的 App Store 指南变化？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T11:28:10.360

答案如下：[新的 Apple App Store 指南中有哪些新内容？- 扭曲的博客](http://blog.twistedhq.com/post/31539631405/whats-new-in-the-new-apple-app-store-guidelines)

# mysql - MySQL 服务器访问

> ID：12454812
> 
> 赞同：0
> 
> 时间：2012-09-17T07:28:34.980
> 
> 标签：mysql

假设 API 服务器从请求访问 SQL 服务器，MySQL 服务器的连接是这样的。

```
 @mysql_connect(HOSTNAME,DATABASE_USER, DATABASE_PASSWORD) or die('Could not connect to : ' . mysql_error());

    @mysql_select_db(DATABASE_NAME) or die( "<-----------------------Unable to select database------------------>"); 
```

有没有办法检测连接是否已经打开？如果它已打开，则进行 sql 事务。

假设在访问表 A 时，来自外部的另一个 API 请求调用进来并想要访问表 B。

是否可以在表 A 操作仍在进行时启动对表 B 的访问。

换句话说，不要等待访问表 A 完成。一旦访问表 B 进入，然后启动它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T09:50:31.450

@jasonwhite 我相信并发是在 DBMS 级别处理的，根据所讨论的操作，它已经支持同时运行两个操作的可能性。例如，如果操作一是*SELECT 操作*，操作二是*INSERT 操作*，则两者都可以同时执行。事实上，无论操作类型如何，这都是可能的，除非表是通过外键约束相关的。这是因为 MySQL 在操作期间实现了表锁定，其中它在对表执行操作时锁定表，然后在操作完成后释放表。

关于检查连接是否已经存在，您需要实现一个**单例**方法来检查连接是否已经存在。如果没有，则创建并返回它；如果是，则返回现有连接。这看起来像这样：

```
function getConnection() {
    global $conn; //I do not recommend using globals, rather create a class for this
    if(is_null($conn)) {
         $conn = mysql_connect(HOSTNAME,DATABASE_USER, DATABASE_PASSWORD) or die('Could not connect to : ' . mysql_error());    
         mysql_select_db(DATABASE_NAME) or die( "<-----------------------Unable to select database------------------>");
    }
    return $conn;        
} 
```

AFAIK，您无法进一步控制一个操作是否会在执行期间等待另一个操作。我的 0.02 美元。

# android - 我想要像 skout 应用程序这样的活动之间的动画

> ID：12454813
> 
> 赞同：0
> 
> 时间：2012-09-17T07:28:35.600
> 
> 标签：android, android-activity, android-animation

我正在创建一个具有左右手势的应用程序。如果我滑动屏幕左侧打开一个新的半屏，如果我向右滑动相同的场景。无论屏幕向用户显示什么，这种情况都会一直发生。像 skout 应用程序一样提前感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:35:07.767

我认为您要实现的是滑动菜单。
由于它是一种新的设计模式，还没有官方类来生成它（但由于 Google 也在推动这种设计模式，例如使用自己的 Google+ 应用程序，他们可能会在未来版本的 SDK 中添加它）。虽然有处理它的库:-)。[比如这个。](https://github.com/jfeinstein10/SlidingMenu)

# java - Java 类定义：“<>”是什么意思？

> ID：12454821
> 
> 赞同：0
> 
> 时间：2012-09-17T07:29:18.407
> 
> 标签：java

这是java代码中的类定义：

```
public class WordCount {

 public static class Map extends Mapper<LongWritable, Text, Text, IntWritable> {
    private final static IntWritable one = new IntWritable(1);
    private Text word = new Text();

    public void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException {
        String line = value.toString();
        StringTokenizer tokenizer = new StringTokenizer(line);
        while (tokenizer.hasMoreTokens()) {
            word.set(tokenizer.nextToken());
            context.write(word, one);
        }
    }
 } 
```

那么这是什么意思？

```
public static class Map extends Mapper<LongWritable, Text, Text, IntWritable> 
```

为什么我们需要一个“<>”？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:31:15.423

这称为“泛型”。它允许您添加类型参数。

在这种特殊情况下，这意味着它`Map`是`Mapper`(LongWritable,Text,Text,IntWritable) 的元组。

一个更简单的例子：假设你有一个 Set。它可以是一组整数、一组字符串、一组 MyClass 实例……这就是你使用泛型的地方。
通过声明变量的类型为`Set<Integer>`，您可以指定它是一组整数。如果您只是将其声明为 Set，则必须自己检查它是否仅包含整数。通过添加类型参数`<Integer>`，编译器现在可以进行类型检查。

泛型在 Java 语言规范中[定义](http://docs.oracle.com/javase/specs/jls/se5.0/html/classes.html#8.1.2)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:33:04.620

看看你的`Mapper`班级的声明。它可能类似于`class Mapper<E, T, T, K>`声明 3 种不同**泛型类型**的东西。

# javascript - 使用内部 HTML 添加输入字段

> ID：12454823
> 
> 赞同：0
> 
> 时间：2012-09-17T07:29:19.683
> 
> 标签：javascript, html, css

我正在使用 HTML 调用服务并检索到响应。我想将使用内部 HTML 的输入字段添加到客户端生成的响应中。你能告诉我我该怎么做吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T13:28:20.903

你为什么要使用`innerHtml`？您正在搜索的是[`appendChild`](https://developer.mozilla.org/en-US/docs/DOM/Node.appendChild)或[`insertBefore`](https://developer.mozilla.org/en-US/docs/DOM/Node.insertBefore)。

# javascript - 将 jquery 线索提示定位到目标的左侧

> ID：12454828
> 
> 赞同：0
> 
> 时间：2012-09-17T07:29:31.950
> 
> 标签：javascript, jquery, cluetip

我已经与 jquery 线索提示插件交朋友并挖掘它。

[线索提示首页](http://plugins.learningjquery.com/cluetip/)

但是，我想将提示提示弹出到目标 div 的左侧。目前它会计算目标右侧是否有足够的空间，如果没有，则会显示在左侧。

这是一些示例代码。

```
$('.myTip').cluetip( { hoverIntent: {
    sensitivity:  1,
    interval:     100,
    timeout:      750
    },
    cluetipClass: 'rounded',
    width: 300,  ajaxCache: false, cursor: 'pointer', sticky: true,  arrows: false,  mouseOutClose: true,
  closePosition: 'title', closeText: '<img class="iconFade2" src="${pageContext.request.contextPath}/images/cancel.png" alt="" />' }); 
```

有接盘侠吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T07:41:19.360

> 位置：
> 
> 可用选项有“自动”、“鼠标”、“底部顶部”、“固定”。如果要覆盖按元素定位并根据鼠标位置定位线索提示，请更改为“鼠标”。如果您希望在有空间时从鼠标下方开始定位，则更改为“bottomTop”，如果没有，则从鼠标上方开始 - 而不是元素的右侧或左侧并与元素的顶部齐平**如果您希望提示提示出现在中，请更改为“固定”相对于链接元素的位置完全相同，无论它出现在页面上的什么位置。使用“固定”需要您自担风险。**

[http://plugins.learningjquery.com/cluetip/#options](http://plugins.learningjquery.com/cluetip/#options)

`positionBy`因此，您可以使用with`leftOffset`和来操作提示提示的默认位置`topOffset`，例如：-

```
$('.myTip').cluetip({
  positionBy: 'fixed',
  leftOffset: '-340',
  topOffset: '0'
}); 
```

显然，您必须自己处理这些值，直到获得所需的结果，但这应该为您指明正确的方向。

# mysql - django：自动将行插入数据库

> ID：12454829
> 
> 赞同：1
> 
> 时间：2012-09-17T07:29:37.457
> 
> 标签：mysql, sql, django

我有一个 CUSTOMER 表和一个 CUSTOMER_PAYMENT 表（带有属性客户、金额、到期日期和付款）。我希望当我在 CUSTOMER 中插入一个值时，会自动生成 CUSTOMER_PAYMENT 中的值。这就像每月的账单信息

在 CUSTOMER 中插入客户 A

```
CUSTOMER_PAYMENT
____________________________________
|CUSTOMER|AMOUNT|     DUE   | PAID  |
|  A     | 100  | 2011-01-15| False |
|  A     | 100  | 2011-02-15| False |
|  A     | 100  | 2011-03-15| False | 
```

这是怎么做的？

Django 中没有触发器。我试图谷歌，但我找不到如何。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:44:17.593

有**两种方法**：

*   在 post_save 信号中编写代码
*   覆盖 save() 方法

**信号**：

```
post_save.connect(CUSTOMER_post_save, sender = CUSTOMER , 
                 instance = instance, create = create) 

def CUSTOMER_post_save(sender, instance, **kwargs):
        if create:
            cd = CUSTOMER_PAYMENT()
            cd.amount = ....
            cd.save() 
```

**覆盖**：

```
class CUSTOMER(model.Model):
    ...    
    def save(self, *args, **kwargs):
        is_new = self.pk is None
        super(yourModel, self).save(*args, **kwargs)
        if is_new:
            cd = CUSTOMER_PAYMENT()
            cd.amount = ....
            cd.save() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:37:37.647

[发布保存信号](https://docs.djangoproject.com/en/dev/ref/signals/#post-save)可能是您正在寻找的东西

# heroku - 在不使用 Heroku 客户端的情况下使用 Heroku

> ID：12454830
> 
> 赞同：0
> 
> 时间：2012-09-17T07:29:41.810
> 
> 标签：heroku, client

是否可以在不使用 heroku 客户端的情况下使用 heroku。具体来说，我想`heroku create`只是上传我的 ssh 密钥并添加一个 git 遥控器。我想手动完成。不确定是否有一种简单的方法可以做到这一点，有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T19:01:25.580

运行`heroku create`不会上传您的 SSH 密钥。但`heroku keys:add`确实如此。您还可以通过网络添加 SSH 密钥：[https ://api.heroku.com/account/ssh](https://api.heroku.com/account/ssh)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:33:16.837

有可能：Heroku 命令在[https://api.heroku.com](https://api.heroku.com)访问 API 后端。

但是......我所知道的任何地方都没有很好地记录 API。因此，您可能能够对 Heroku gem 进行逆向工程，但您可能无法保持最新​​状态。

编辑：在 Windows 上，Heroku gem 位于 C:\Program Files\Heroku\lib\heroku。如果您真的感兴趣，可以浏览其中的 Ruby 代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T09:56:51.417

我倾向于避免这样做，因为您没有真正的方法来保持最新状态。请注意，尽管 Heroku 确实提供了可用于与其 API 交互的库，例如[heroku.rb](https://github.com/heroku/heroku.rb)

# asp.net-mvc - ASP.NET MVC 在开发和生产中的请求等待时间很长

> ID：12454831
> 
> 赞同：3
> 
> 时间：2012-09-17T07:29:46.303
> 
> 标签：asp.net-mvc, azure, get

我正在 ASP.NET MVC 中开发一个 Web 应用程序，对于静态和动态内容，GET 请求的等待时间都很长。

我使用 Windows Azure 共享网站进行生产，使用我的本地主机进行开发。

在这两种情况下，几乎所有的 GET 请求都有过长的等待时间。例如，等待需要 1 秒，接收内容需要 4 毫秒。而且在服务器端完成的工作并不花哨，它只是返回带有 4 个输入的视图。

正如我所提到的，这个问题发生在我的本地主机和 Azure 中。可能是什么原因？或者有没有办法学习导致这个等待时间的实际操作？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T07:39:52.967

看起来有一些服务器端处理程序为静态和动态内容执行耗时太长。我建议您[了解](http://getglimpse.com/)一下（`Glimpse.Mvc3`NuGet），它可以让您查看有关在服务器上执行的详细信息。您将能够看到正在执行的所有方法以及所花费的时间，这可能有助于您查明问题。

作为替代方案，您可以通过删除功能开始缩小应用程序的范围，直到您能够隔离问题。

# php - 根据国家/地区显示网页

> ID：12454834
> 
> 赞同：1
> 
> 时间：2012-09-17T07:30:09.893
> 
> 标签：php, geolocation

> **可能重复：**
> [在 PHP 中检测客户端语言环境的最简单方法](https://stackoverflow.com/questions/297542/simplest-way-to-detect-client-locale-in-php)

我`PHP`在我的代码中使用。我想知道是否有任何方法可以根据特定国家/地区显示内容。

例如 - 网页显示一个国家的人的平均身高。

所以我希望如果美国的任何人连接到该网站，他们会得到如下结果：

> 美国人民的平均身高是 6.5 英尺。

假设一个来自中国的人连接，那么他应该得到：

> 中国人民的平均身高是5,4英尺。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T07:37:12.650

您可以查看 HTML5 地理定位 api，获取从这些呼叫中获得的数据线，然后查看它们所属的国家/地区，例如 geonames api。不过，还有其他位置 api 可能更适合。

一个更短但不太精确的解决方案是查看浏览器接受语言信息。它有一个包含此浏览器首选语言的语言代码数组，从左侧排序。据我所知，如果浏览器设置未被篡改，Accept-Language 也会受到操作系统语言的影响。

获取信息的确切语法因语言而异，对于 PHP，它是：

```
$_SERVER['HTTP_ACCEPT_LANGUAGE']; 
```

然后由您来解析字符串/数组并使用该信息显示正确的页面。

# iphone - 在滑块的值上显示数组中的自定义对象

> ID：12454836
> 
> 赞同：0
> 
> 时间：2012-09-17T07:30:13.573
> 
> 标签：iphone

我正在开发一个天气应用程序……其基本思想是从服务中获取预报……我做到了……将自定义天气对象添加到数组中……我做到了……`FYI the weather objects contains about 12 poperties....`

现在我有一个滑块，我想显示`mean or average of two temperature properties from weather objects that i get from an array on the value of slider...` ，我应该告诉你该数组包含大约 40 个对象，滑块的最大值为 1440 分钟......这大约需要 12 小时

现在的主要问题是我如何在循环中执行此操作并动态地从数组中获取对象`i dont want to hardcode the indexes of the array`

我可以得到像这样的对象，也想要这样的东西......

```
if(sliderValue<180)
weather = [array objectAtIndex:0];

if(sliderValue<360)
weather = [array objectAtIndex:1];

if(sliderValue<540)
weather = [array objectAtIndex:2];

if(sliderValue<720)
weather = [array objectAtIndex:3];

if(sliderValue<810)
weather = [array objectAtIndex:4];

and so on up to slidervalue == 1440 
```

我已经为每个条件都做了所有的 if else，这使得 144 if else（从 value == 10 到 value == 1440）所以我认为这不是有效的......

简单的是我有一个`UISlider and whose max value is 1440`和每 10 个间隔意味着`after every 10 points i want to display average of two values`....这些值存储在自定义对象中，这些对象存储在一个`NSArray`. 并且自定义对象是`XML`使用 Web 服务 api 创建的，所以我不知道 XML 将返回多少对象，因此为此我不想硬编码数组的索引并从数组中动态获取对象，因为有时数组可能不包含索引上的对象，应用程序会崩溃......这就是整个故事......希望你明白我......

```
main point is displaying and calculating average of two values after every 10 points of the slider value... and as i mentioned the conditions earlier if the value increases by 180 the index increases and next object is fetched from the array.... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T08:15:27.183

您的问题似乎没有足够的信息。您能否更准确地解释您的问题，或者举个例子。我建议你使用 Switch Case 而不是使用这么多的“if-else”。这将提高您的应用程序性能，因为 Switch 在条件匹配的地方中断，因此执行的比较更少。

# java - Java .War 文件删除

> ID：12454840
> 
> 赞同：0
> 
> 时间：2012-09-17T07:30:22.607
> 
> 标签：java

我的文件系统中有一个 .war 文件。我尝试按如下方式删除，

```
private void deleteWar(File warFile){       
 if(warFile.list().length != 0){
    String files[] = warFile.list();
    for (String temp : files) {                 
            File fileDelete = new File(warFile, temp);                  
            deleteWar(fileDelete);
    }               
    if(warFile.list().length==0){
        warFile.delete();
        System.out.println("Directory is deleted : " + warFile.getAbsolutePath));        
         }
     }              
 } 
```

但我无法将 .war 文件删除为 java.io.File.So 有什么方法可以删除 .war 文件。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:51:33.783

您需要的唯一代码是`warFile.delete()`.

试图列出 .war 文件的内容就像它是一个目录一样是没有意义的。它不是。

只需删除文件。如果它是打开或锁定的，或者您没有权限，它可能会失败，所以请调查一下。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:57:27.017

删除war文件有很多问题。

我假设您正在运行像 tomcat 或 jetty 这样的 Web 应用程序容器。如果你在 windows 机器上运行这个容器，war 文件可能会被 windows 锁定，并且你无法在容器运行时删除文件。

尝试在 tomcat 容器中锁定反战文件：http: [//tomcat.apache.org/tomcat-6.0-doc/config/context.html](http://tomcat.apache.org/tomcat-6.0-doc/config/context.html)

搜索资源锁定。

正如@EJP 提到的： file.delete() 是您所需要的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T07:34:42.480

为什么不直接打开`het parent directory`War 文件并删除该文件？在上面的代码中展开后，您似乎正试图删除 war 目录。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-17T07:42:42.877

指定文件的*绝对路径*。

例子：

> C:/Users/Ryan/Downloads/someWarFile.war

我重新创建了问题，此代码删除了 .war 文件。

代码：

```
 String file = "C:/Users/Ryan/Downloads/someWarFile.war";
        File f = new File(file);

        if( f.exists() )
            System.out.println(file + " exists.");
        else
            System.out.println(file + " not exists.");

        if( f.delete() ) 
            System.out.println(file + " has been deleted");
        else
            System.out.println(file + " could not be deleted"); 
```

希望这可以帮助！

# windows - 不使用 tzutil 更改时区 - Windows Web Server 2008

> ID：12454843
> 
> 赞同：0
> 
> 时间：2012-09-17T07:30:33.433
> 
> 标签：windows

出于某种原因，Web 不包含 tzutil。您必须拥有 R2 才能访问此实用程序。

这很令人沮丧，因为我需要根据不同的时区更改时间。

如何使用“时间”命令根据输入时区（如 GMT-6 或可能的“中央标准时间”）更改时间？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T06:23:29.880

Windows Vista 和 Server 2008 RTM 没有提供通过脚本更改时区的方法。微软通过发布 KB2556308 解决了这个问题。此修补程序将为您提供 TZUtil 命令行工具。

[https://serverfault.com/questions/429011/change-timezone-without-tzutil-windows-web-server-2008](https://serverfault.com/questions/429011/change-timezone-without-tzutil-windows-web-server-2008)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:45:41.803

如果您可以选择 PowerShell，则可以使用`Set-Time`CmdLet，它允许您使用时区信息指定时间。

您可以在此处找到有关 CmdLet 的更多信息：[使用 Set-Date Cmdlet](http://technet.microsoft.com/en-us/library/ee176960.aspx)

以及作为新时间传递的可能值：[DateTime.Parse Method (String) (System)](http://technet.microsoft.com/en-us/library/1k1skd40.aspx)

从 Microsoft 下载中心安装最新的 PowerShell 版本，假设您已安装 SP2 并愿意安装 .NET Framework 4.0：[下载：WMF 3.0 - Microsoft 下载中心 - 下载详细信息](http://www.microsoft.com/en-us/download/details.aspx?id=34595)

我可以通过调用来设置我的时间：

```
Set-Date -Date "Tue, 18 Sep 2012 09:44:00+1" 
```

这可能是您的选择吗？

# erlang - ets match_object 与匹配规范

> ID：12454849
> 
> 赞同：0
> 
> 时间：2012-09-17T07:31:04.647
> 
> 标签：erlang, ets

```
 -record(rule, {id, low, high}).

 test_ets() ->
    ets:new(rule_table,[named_table,public,bag]),
    ets:insert(rule_table, #rule{id=1, low=2, high=5}),
    ets:match_object(rule_table, [{'$1',[{'>=', {element, #rule.low, '$1'}, 2}, 
            {'=<', {element, #rule.high, '$1'}, 5} 
            ], ['$_']}]). 
```

这个函数只得到一个空列表，而我想用低 =< X =< 高选择这条记录。

请帮我。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T07:47:36.483

我错了，请改用 ets:select 。

但是使用 matchSpec 的性能如何？都是表扫描吗？

# java - 在 Java 中模拟 DTO 的最佳方法是什么？

> ID：12454855
> 
> 赞同：9
> 
> 时间：2012-09-17T07:31:26.817
> 
> 标签：java, unit-testing, mocking, dto

在编写单元测试时，我需要一些带有示例数据的对象。例如，假设我有一个 Order 对象。需要编写这样的代码 -

```
Order o = new Order();
o.setId(3);
o.setAmount(2830.9);

List<Item> items = new ArrayList<Item>();
Item i = new Item();
i.setId(3);
i.setCost(34);
items.add(i);

o.setItems(items); 
```

它比这里看起来更令人沮丧和多余，因为一个真实的对象可能有更多的属性和嵌套的对象。

如果一个人需要多个订单...

为测试创建模拟数据对象的最佳方法是什么？

在我的脑海中，我正在考虑从 Json 反序列化我的对象。有没有标准、有效的方法来做到这一点？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-17T07:35:24.257

通常 DTO 只包含字段，没有需要模拟的逻辑。

我会使用 DTO 作为自己的模拟。如果 DTO 中包含您可能想模拟的逻辑，我会将逻辑移出 DTO。

要创建 DTO，我会从文本中执行此操作，无论是在测试本身中，还是从外部文件中。您可以使用 JSON，但如果您不使用它，我将使用 XMLEncoder/XMLDecoder。它不是漂亮的 XML，但它是内置的，因此您不需要额外的库。

如果可以的话，您也许可以从应用程序的日志中创建 DTO，这样您就可以重新创建一个真实的场景。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-17T08:09:55.520

另一种方法可能是为属性生成随机值。

像[PODAM](https://github.com/mtedone/podam)或[openpojo](http://code.google.com/p/openpojo/)这样的实用程序可以提供帮助。

我将尝试适当地混合这两种方法。例如 - 使用 PODAM 生成对象，然后手动设置不能随机的值。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-07-27T16:31:38.850

模拟框架通常不鼓励模拟数据对象。

但是每次在测试中需要它时填充数据对象可能很不方便。

一种常见的方法是使用*测试生成器*。就像是：

```
public class MyDtoBuilder {

   private Foo foo;
   private Bar bar;

   public static MyDtoBuilder aMyDto() {
       return new MyDtoBuilder();
   }

   public MyDtoBuilder withFoo(Foo foo) {
       this.foo = foo;
       return this;
   }

   public MyDtoBuilder withBar(Bar bar) {
       this.bar = bar;
       return this;
   }

   public MyDtoBuilder withDefaults() {
       return this.withFoo(new Foo(...)).withBar(new Bar(...));
   }

   public MyDto build() {
       return new MyDto(foo,bar);
   }
} 
```

现在您可以方便地使用默认值构建 DTO，然后根据需要覆盖它们。如果`Foo`并且`Bar`很复杂，您也可以为这些测试构建器，因此您可以执行类似的操作

```
 MyDto expectedDto = aMyDto()
      .withDefaults()
      .withFoo(aFoo()
          .withName("testFoo"))
      .build(); 
```

这在Freeman 和 Pryce的《 *Growing Object-Oriented Software*》一书中详细介绍了测试指导。

您应该注意区分*测试构建器*和用于非测试代码的构建器（这是实例化不可变对象的常见模式）。不要跨越这些流——不要在非测试代码中使用您的测试构建器。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-17T08:11:01.073

对于具有不同值的多个对象，我会采用 Peter Lawreys 的建议，但对于始终具有相同值的单个 DTO，我将创建一个始终返回相同值的模拟。

# xcode - 如何知道文本何时粘贴到 UITextView

> ID：12454857
> 
> 赞同：26
> 
> 时间：2012-09-17T07:31:36.380
> 
> 标签：xcode, uitextview

将文本块粘贴到 UITextView 时会触发什么事件？粘贴文本时，我需要修改 textView 的框架。

谢谢阅读。

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2016-01-20T07:00:45.663

这是我用来检测 UITextView 中的粘贴事件的方法：

```
 // Set this class to be the delegate of the UITextView. Now when a user will paste a text in that textview, this delegate will be called.
-(BOOL)textView:(UITextView *)textView shouldChangeTextInRange:(NSRange)range replacementText:(NSString *)text {

    // Here we check if the replacement text is equal to the string we are currently holding in the paste board
    if ([text isEqualToString:[UIPasteboard generalPasteboard].string]) {

        // code to execute in case user is using paste

    } else {

        // code to execute other wise
    }

    return YES;
} 
```

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2017-08-30T12:08:53.930

如果粘贴板上的句子很长，则检查粘贴板的字符串`if string == UIPasteboard.general.string`需要几秒钟。用户在此检查时看到键盘被冻结。我的解决方案是检查新字符的长度是否长于 1。如果长于 1，则字符串来自粘贴板。

```
func textField(_ textField: UITextField, shouldChangeCharactersIn range: NSRange, replacementString string: String) -> Bool {
        if string.characters.count > 1{
            //User did copy & paste

        }else{
            //User did input by keypad
        }            
         return true
 } 
```

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2012-09-19T02:30:55.923

你的 UITextView 将调用它的 UITextViewDelegate 方法

```
 - (BOOL)textView:(UITextView *)textView shouldChangeTextInRange:(NSRange)range replacementText:(NSString *)text 
```

如果已设置委托。当在键盘上键入字符以及将文本粘贴到文本视图中时，都会调用此方法。粘贴的文本是 replacementText 参数。

请参阅[http://developer.apple.com/library/ios/#documentation/uikit/reference/UITextViewDelegate_Protocol/Reference/UITextViewDelegate.html#//apple_ref/occ/intf/UITextViewDelegate](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITextViewDelegate_Protocol/Reference/UITextViewDelegate.html#//apple_ref/occ/intf/UITextViewDelegate)

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2018-06-26T12:06:22.580

这是完美的

> Xcode 11x 斯威夫特 5x

```
 func textView(_ textView: UITextView, shouldChangeTextIn range: NSRange, replacementText text: String) -> Bool {
    if text.contains(UIPasteboard.general.string ?? "") {
        return false
    }
    return true
} 
```

当用户尝试**粘贴**到文本字段时，if条件将执行
此代码将停止粘贴

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2017-11-10T12:40:20.773

尝试子类 UITextview，并覆盖此功能。

```
public override func paste(_ sender: Any?) 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2019-10-30T08:30:28.903

它适用于 Swift5.1

```
func textView(_ textView: UITextView, shouldChangeTextIn range: NSRange, replacementText text: String) -> Bool {
    if let paste = UIPasteboard.general.string, text == paste {
       print("paste")
    } else {
       print("normal typing")
    }
    return true
} 
```

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2021-02-18T17:36:16.437

在 iOS 14 中，每次应用程序从中获取值时都会触发通知，`UIPasteboard.general.string`
因此检测用户是否粘贴某些内容的正确方法是覆盖`paste(_)`功能：

```
var isPastingContent = false

open override func paste(_ sender: Any?) {
    isPastingContent = true
    super.paste(sender)
}

func textView(_ textView: UITextView, shouldChangeTextIn range: NSRange, replacementText text: String) -> Bool {
    if isPastingContent {
         // do something
    }
    isPastingContent = false
} 
```

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2016-04-13T08:21:00.627

carlos16196 是一个很好的方法，但我也会通过更改`[text isEqualToString:[UIPasteboard generalPasteboard].string]`为`[text containsString:[UIPasteboard generalPasteboard].string]`

通过这样做，您将检测到用户何时在文本视图中粘贴不在 UIPasteboard 中的其他键入文本之后。

这是代码：

```
-(BOOL)textView:(UITextView *)textView shouldChangeTextInRange:(NSRange)range replacementText:(NSString *)text {

// Here we check if the replacement text is equal to the string we are currently holding in the paste board
if ([text containsString:[UIPasteboard generalPasteboard].string]) {

    // code to execute in case user is using paste

} else {

    // code to execute other wise
}

return YES;
} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-12-13T19:39:25.550

这是我能够让它工作的唯一方法。我使用了 textField，但同样的概念仍然适用于 textView。

在下面的`shouldChangeCharactersIn`委托方法中，我将`string`参数转换为 NSString，然后再转换回 String。然后我将它与粘贴的任何内容进行比较。其他所有内容都在代码上方的注释中。

```
// 1\. class property for anything that was copied and will be pasted
var pasted: String?

// 2\. When the user first taps the textfield set the above class property to the copied text (if there is any)
func textFieldDidBeginEditing(_ textField: UITextField) {

    // 3\. set it here
    pasted = UIPasteboard.general.string // this is what was copied and will be pasted
}

func textField(_ textField: UITextField, shouldChangeCharactersIn range: NSRange, replacementString string: String) -> Bool {

    guard let safeText = textField.text else { return true }

    let currentString: NSString = safeText as NSString
    let newString: NSString = currentString.replacingCharacters(in: range, with: string) as NSString

    let str = newString as String

    // 4\. compare the above str constant to the pasted variable
    if str == self.pasted {
        print("pasted")

    } else {

        print("typed")
    }

    return true
}

func textFieldDidEndEditing(_ textField: UITextField) {

    // 5\. when the user is finished with the textField set the pasted property to nil
    pasted = nil
} 
```

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2019-04-11T12:49:47.203

这是我用来检测粘贴图像的方法：

```
- (BOOL)textView:(UITextView *)textView shouldChangeTextInRange:(NSRange)range replacementText:(NSString *)text
{
    if (UIPasteboard.generalPasteboard.image &&
        [UIPasteboard.generalPasteboard.string.lowercaseString isEqualToString:text.lowercaseString]) {

       //Pasted image

        return NO;
    }

    return YES;
} 
```

* * *

## 回答 #11

> 赞同：-2
> 
> 时间：2017-12-12T04:52:39.690

在 SWIFT 4 中：

```
func textViewDidChange(_ textView: UITextView) {

    if(textView.text == UIPasteboard.general.string)
    {
        //Text pasted
    }
} 
```

# jquery - 单击图像时显示更大版本的图像

> ID：12454858
> 
> 赞同：0
> 
> 时间：2012-09-17T07:31:38.497
> 
> 标签：jquery

我想知道如何实现这一点，因为我想要一些非常精简的东西并且不想使用灯箱。到目前为止，这是我的代码。它会自动为每张图片添加一个点击事件，并调用一个函数来显示大图所在的路径。现在我只需要在屏幕中央显示像模态窗口一样的大图像。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="Scripts/jquery-1.6.2.min.js" type="text/javascript"></script>

    <script type="text/javascript">

        $(document).ready(function () {
            $('#imageContainer img').each(function (index) {
                if ($(this).attr('onclick') != null) {                    
                    if ($(this).attr('onclick').indexOf("runThis()") == -1) {                        
                        $(this).click(function () {
                            $(this).attr('onclick');
                            var src = $(this).attr("src");
                            ShowLargeImage(src);
                        });
                    }
                }
                else {                    
                    $(this).click(function () {                        
                        var src = $(this).attr("src");
                        ShowLargeImage(src);
                    });
                }
            });
        });

        function ShowLargeImage(imagePath) {
            alert(imagePath.replace("small","large"));
        }

    </script>

</head>
<body>
    <div id="imageContainer">        
        <br />
        <br />        
        <img src="/img/small/image3.jpg" />
        <br />
        <br />
        <img src="/img/small/image2.jpg" />
    </div>
    <br />
    <img src="/img/small/image3.jpg" />
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:51:53.080

你可以试试这个[小提琴](http://jsfiddle.net/Zrhhx/1/)

```
$('#imageContainer img').each(function (index) {
    if ($(this).attr('onclick') != null) {                    
        if ($(this).attr('onclick').indexOf("runThis()") == -1) {                        
            $(this).click(function () {
                $(this).attr('onclick');
                var src = $(this).attr("src");
                ShowLargeImage(src);
            });
        }
    }
    else {                    
        $(this).click(function () {                        
            var src = $(this).attr("src");
            ShowLargeImage(src);
        });
    }
});

$('body').on('click', '.modal-overlay', function () {
    $('.modal-overlay, .modal-img').remove();
});

function ShowLargeImage(imagePath) {
    $('body').append('<div class="modal-overlay"></div><div class="modal-img"><img src="' + imagePath.replace("small","large") + '" /></div>');
}
​ 
```

您可以修改 css 以使图像正确对齐，添加关闭按钮等。但基本思想就在那里；）

**编辑：**

这是一个图像居中的[例子](http://jsfiddle.net/Vandeplas/Zrhhx/5/)，一个额外的淡入淡出效果给它更多的shablam！

# ruby-on-rails - Ror: ics 文件的导入

> ID：12454860
> 
> 赞同：2
> 
> 时间：2012-09-17T07:32:10.943
> 
> 标签：ruby-on-rails, ruby, icalendar

我在我的项目中添加了导入日历（ics 文件）的功能。代码是这样的：

```
 events = ICS::Event.file(File.open(ics_temp_file))
  events.each do |event|
    if event.summary and event.started_on and event.description
      Event.create(:description => event.description == '\n' ? nil : event.description,
                   :organization_id => @organization.id,
                   :user_id => current_user.id,
                   :event_type => Event::OTHER,
                   :date_time => event.started_on,
                   :title => event.summary,
                   :active => true)
    else
      logger.warn("***Error*** Importing ics (bad event)")
    end
  end 
```

正如我们所看到的，我正在使用 gem ics。几个月前我进行了研究，它看起来是解析 ics 文件的最佳选择，即提取 ics 文件的事件。这个 gem 可以提取这样的事件：

```
BEGIN:VEVENT
something here
END:VEVENT. 
```

问题如下；一些用户尝试导入日历（我不知道他们使用什么工具来创建日历），但事件是这样的：

```
BEGIN:VFREEBUSY
something here
END:VFREEBUSY. 
```

所以问题是，你知道解析 ics 文件的更好选择吗？也许可以提取所有类型的事件，您可以执行 events.map(&:vevents) 或 events.map(&:vfreebusy) 之类的操作。你有什么想法来处理这个吗？谢谢！

编辑：对不起，我忘了提到这个宝石的已知属性列表是这样的

```
 TRANSP
    DTEND
    UID
    DTSTAMP
    LOCATION
    DESCRIPTION
    URL
    STATUS
    SEQUENCE
    SUMMARY
    DTSTART
    CREATED
# For the alarm…
    # BEGIN:VALARM (ignored)
    X-WR-ALARMUID
    TRIGGER
    ATTACH
    ACTION
    # END:VALARM (ignored) 
```

因此很容易看出为什么这个 gem 没有提取所有类型的事件。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-17T09:19:42.570

您应该尝试 iCalendar：[https](https://github.com/sdague/icalendar) ://github.com/sdague/icalendar 。它解析 ics 文件并支持您提到的事件类型：[https](https://github.com/sdague/icalendar/blob/master/lib/icalendar/parser.rb#L139) ://github.com/sdague/icalendar/blob/master/lib/icalendar/parser.rb#L139 。

# c# - 从方法中提供进度信息的首选方式？

> ID：12454861
> 
> 赞同：0
> 
> 时间：2012-09-17T07:32:12.840
> 
> 标签：c#

一个类中有几个方法可以执行一些冗长的操作，并且应该定期向调用者报告进度，例如在表示层上显示、登录文件等。

我过去使用过以下解决方案，但我担心这是否是首选方法：

我有这样定义的回调委托：

```
public delegate bool ProgressCallback(double percentCompleted, object arg); 
```

然后我的“工人”方法是这样的：

```
public bool DoSomething(bool firstArg, int anotherArg, ProgressCallback progressCallback, object callbackArg); 
```

我在一个长过程的每次迭代之后调用`progressCallback`，如果它返回 false，则意味着应该中止操作。

请注意，该过程必须是同步的，不需要异步实现。

我只是看到在我的代码中一遍又一遍地重复这种技术，所以我担心这是否是推荐的模式。这是你将如何实现这样的事情吗？我应该改用事件，还是这样简单的实现对你来说似乎没问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:35:21.857

这才是正确的做法！

但是为了节省您一些时间（和代码），请查看[`BackgroundWorker`](http://msdn.microsoft.com/en-us/library/cc221403%28v=vs.95%29.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:36:43.980

我会在事件参数中使用带有布尔标志的事件。这个 bool 标志可以由消费者设置并用作您的中止信号。

# java - 在 Tomcat 中检索文件的问题

> ID：12454864
> 
> 赞同：1
> 
> 时间：2012-09-17T07:32:31.093
> 
> 标签：java, servlets, tomcat6

我在网络应用程序中工作。`http://localhost:8080/examples/README.txt`使用的服务器是 Apache Tomcat 6。我在运行服务器后尝试从 mylocalhost 访问资源。但我无法访问显示在 Eclipse 中找不到错误消息文件的资源。但是如果我在链接上按 ctrl+左键单击，资源就会在 Eclipse 工作区中打开。我无需通过服务器即可访问的相同资源，即转到路径`C:\Program Files (x86)\apache-tomcat-6.0.35\bin`并单击`Startup.bat`。通过这种方式，我可以打开文件。我可以知道不通过 Eclipse 访问这些资源的原因是什么吗？

```
url = new URL("http://localhost:8080/examples/README.txt");
con = url.openConnection(); // open the url connection.
dis = new DataInputStream(con.getInputStream()); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T11:12:16.457

这是我从前面提到的博客中引用的内容

> Tomcat 实际上由两个方面组成：可共享代码库（CATALINA_HOME）和每个实例部分（CATALINA_BASE）。这允许使用一个代码库在单个服务器上运行多个 Tomcat 副本。大多数时候，CATALINA_HOME 和 CATALINA_BASE 是相同的值，因为通常只使用给定版本的 Tomcat 的一个副本——至少在开发人员的机器上是这样。
> 
> 但是，当您使用 Eclipse Servers 工具创建 Tomcat 服务器时，它会秘密地创建自己的 CATALINA_BASE，复制选定的文件——并且仅将这些文件复制到插件拥有的目录中。
> 
> 我被烫伤了。我在 CATALINA_HOME 中保留了自己的文件，并在 server.xml 中使用了对它的相对引用。该文件没有复制，Tomcat 没有启动干净。
> 
> 最简单的解决方案是编辑 server.xml 并将相对路径替换为绝对路径，以便复制的配置能够找到我的文件的原始（在这种情况下是唯一的）副本。
> 
> 然而，显然 CATALINA_BASE 数据的复制仅在您创建新的服务器定义时发生。我不得不从 Eclipse 中删除旧的服务器定义并创建一个新的来进行更改。

我从这篇文章中相信 eclipse 服务器只复制选定的文件，并且您的文件没有被复制。看看这篇文章，想想这对你的问题是否有意义。本

# algorithm - 如何优化快速排序

> ID：12454866
> 
> 赞同：23
> 
> 时间：2012-09-17T07:32:34.633
> 
> 标签：algorithm, recursion, quicksort, insertion-sort

我正在尝试制定一个有效的`quicksort`算法。它可以正常工作，但是当元素数量很大并且数组的某些部分是预先排序的时需要很长时间才能运行。我正在查找 Wikipedia 上的文章`quicksort`，我发现它是这样写的：

> 为了确保最多使用 O(log N) 空间，首先递归到数组的较小一半，然后使用尾调用递归到另一个。
> 
> 使用插入排序，它具有较小的常数因子，因此在小数组上速度更快，用于对这种小数组的调用（即长度小于实验确定的阈值 t）。这可以通过使此类数组不排序并在最后运行单个插入排序过程来实现，因为插入排序可以有效地处理几乎已排序的数组。每个小段的单独插入排序会增加启动和停止许多小排序的开销，但避免浪费精力比较多个段边界的键，由于快速排序过程的工作，哪些键将是有序的。它还改进了缓存的使用。

我目前正在对两个分区进行递归。知道如何实施第一个技巧吗？**首先递归到数组的较小一半，然后使用尾调用递归到另一个**是什么意思？其次，如何实现`insertion-sort`内部快速排序？它会始终提高效率，还是仅在数组的某些部分被预先排序时？如果是第二种情况，那我当然不知道什么时候会发生。那么我什么时候应该包括`insertion-sort`？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-17T07:48:39.340

在 Quick-sort 中，您选择一个将数组分隔为两半的随机枢轴，大多数情况下一个可能更小，

例如，数组大小为 100，pivot 将数组分隔为 40 / 60，40 是较小的大小。

让我们假设您决定使用插入排序为 10 的阈值大小，您需要继续通过 pivot 递归拆分数组，每当一半的一个变得小于或等于 10 时，您可以使用行为类似的插入排序O(n) 在小尺寸数组上。

考虑到如果您的数组被反向排序（最坏的情况），插入排序将表现不佳。

至于递归的东西，您只需要修改快速排序递归的停止情况 -> 数组大小 <= 10 停止递归并使用插入排序对所有数组（在此递归步骤中要小得多）进行排序。

通过尾递归，它们的意思是对前半部分做所有你需要的事情，然后对较小的一半调用插入排序作为最后一个方法，它用于节省空间。

```
 Quick-sort()
      choose a pivot
      move the smaller elements from left
      move the bigger elements from right
      quick-sort on the bigger half of the array

      if half is less then X
         only then do an insertion sort on the other half <- this is a tail recursion insertion sort 
      else
         quick sort on this half also 
```

据我所知，第二个优化建议不要对每个递归步骤使用插入排序，但要记住对其进行约束的索引，然后在一批中调用插入排序，将所有切片中的项目连接起来，这将确保提高缓存的使用，但实现起来稍微困难一些，

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-09-17T08:32:34.300

有多种方法可以使标准快速排序更有效。要实现您帖子中的第一个提示，您应该编写如下内容：

```
void quicksort(int * tab, int l, int r)
{
   int q;
   while(l < r)
   {
      q = partition(tab, l, r);
      if(q - l < r - q) //recurse into the smaller half
      {
         quicksort(tab, l, q - 1);
         l = q + 1;
      } else
      {
         quicksort(tab, q + 1, r);
         r = q - 1;
      }
   }
} 
```

希望这足够清楚。下一步将是实现**您自己的堆栈**（或使用您正在使用的任何语言的一些内置），而不是使用递归调用。示例（伪）代码：

```
void quicksort2(int * tab, int l, int r)
{
    int le, ri, q;
    init stack;
    push(l, r, stack);
    while(!empty(stack))
    {
        //take the top pair of values from the stack and set them to le and ri
        pop(le, ri, stack);
        if(le >= ri)
            continue;
        q = partition(tab, le, ri);
        if(q - le < ri - q) //smaller half goes first
        {
            push(le, q - 1, stack);
            push(q + 1, ri, stack);
        } else
        {
            push(q + 1, ri, stack);
            push(le, q - 1, stack);
        }
    }
    delete stack;
} 
```

然后，您可以继续实施您帖子中的其他提示。为此，您应该设置一些任意常量，我们将其称为 CUT_OFF，大约为 20。这将告诉您的算法何时应该切换到插入排序。更改前面的示例应该相当容易（添加一个 if 语句），以便在到达 CUT_OFF 点后切换到插入排序，所以我将留给您。

至于分区方法，我建议使用 Lomuto 分区而不是 Hoare。

但是，如果您的数据已经预先排序，那么您可以考虑完全使用不同的算法。根据我的经验，如果您的数据是预先排序的，那么在链表上实现的**自然系列合并排序是一个非常好的选择。**

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-09-17T11:03:56.050

我前段时间写了一个基于快速排序的算法，你可以在那里找到（实际上它是一种选择算法，但也可以用作排序算法）：

*   [http://processors.wiki.ti.com/index.php/Top_K_Elements_Sort_For_DSP_With_Index_Ordering](http://processors.wiki.ti.com/index.php/Top_K_Elements_Sort_For_DSP_With_Index_Ordering)

我从这次经历中学到的教训如下：

1.  **仔细调整算法的分区循环**。这通常被低估了，但是如果您注意编写编译器/CPU 将能够进行软件流水线的循环，您确实会获得显着的性能提升。仅此一项就在 CPU 周期中赢得了约 50% 的胜利。
2.  **手工编码小类给你一个主要的性能胜利**。当分区中要排序的元素数量低于 8 个元素时，不要费心尝试递归，而是仅使用 ifs 和 swaps 实现硬编码排序（查看此代码中的 fast_small_sort 函数） . 这可以在 CPU 周期中获得大约 50% 的优势，从而使快速排序具有与编写良好的“合并排序”相同的实际性能。
3.  **当检测到“差”的枢轴选择时，花时间选择更好的枢轴值**。我的实现开始使用“中位数”算法进行枢轴选择，只要枢轴选择导致一侧低于要排序的剩余元素的 16%。**这是一种针对快速排序最坏情况性能的缓解策略**，有助于确保在实践中上限也是 O(n*log(n)) 而不是 O(n^2)。
4.  **优化具有许多相等值的数组（需要时）**。如果要排序的数组有很多相等的值，则值得优化，因为它会导致糟糕的枢轴选择。在我的代码中，我通过计算所有等于枢轴值的数组条目来做到这一点。这使我能够以更快的方式处理数组中的枢轴和所有相等的值，并且在不适用时不会降低性能。**这是针对最坏情况性能的另一种缓解策略，它通过大幅降低最大递归级别来帮助减少最坏情况下的堆栈使用**。

我希望这会有所帮助，劳伦特。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-10-16T06:41:52.963

I've recently have found [this optimization](http://algs4.cs.princeton.edu/23quicksort/QuickX.java.html). It works faster than std::sort. It uses selection sort on small arrays and median-of-3 as partitioning element.

This is my C++ implementation:

```
const int CUTOFF = 8;

template<typename T>
bool less (T &v, T &w)
{
    return (v < w);
}

template<typename T>
bool eq (T &v, T &w)
{
    return w == v;
}

template <typename T>
void swap (T *a, T *b)
{
    T t = *a;
    *a = *b;
    *b = t;
}

template<typename T>
void insertionSort (vector<T>& input, int lo, int hi) 
{
    for (int i = lo; i <= hi; ++i)
    {
        for (int j = i; j > lo && less(input[j], input[j-1]); --j)
        {
            swap(&input[j], &input[j-1]);
        }
    }
}

template<typename T>
int median3 (vector<T>& input, int indI, int indJ, int indK)
{
    return (less(input[indI], input[indJ]) ?
            (less(input[indJ], input[indK]) ? indJ : less(input[indI], input[indK]) ? indK : indI) :
            (less(input[indK], input[indJ]) ? indJ : less(input[indK], input[indI]) ? indK : indI));
}

template <typename T>
void sort(vector<T>& input, int lo, int hi) 
{ 
    int lenN = hi - lo + 1;

    // cutoff to insertion sort
    if (lenN <= CUTOFF) 
    {
        insertionSort(input, lo, hi);
        return;
    }

    // use median-of-3 as partitioning element
    else if (lenN <= 40) 
    {
        int median = median3(input, lo, lo + lenN / 2, hi);
        swap(&input[median], &input[lo]);
    }

    // use Tukey ninther as partitioning element
    else  
    {
        int eps = lenN / 8;
        int mid = lo + lenN / 2;
        int mFirst = median3(input, lo, lo + eps, lo + eps + eps);
        int mMid = median3(input, mid - eps, mid, mid + eps);
        int mLast = median3(input, hi - eps - eps, hi - eps, hi); 
        int ninther = median3(input, mFirst, mMid, mLast);
        swap(&input[ninther], &input[lo]);
    }

    // Bentley-McIlroy 3-way partitioning
    int iterI = lo, iterJ = hi + 1;
    int iterP = lo, iterQ = hi + 1;

    for (;; ) 
    {
        T v = input[lo];
        while (less(input[++iterI], v))
        {
            if (iterI == hi) 
                break;
        }
        while (less(v, input[--iterJ]))
        {
            if (iterJ == lo)    
                break;
        }
        if (iterI >= iterJ) 
            break;
        swap(&input[iterI], &input[iterJ]);
        if (eq(input[iterI], v)) 
            swap(&input[++iterP], &input[iterI]);
        if (eq(input[iterJ], v)) 
            swap(&input[--iterQ], &input[iterJ]);
    }
    swap(&input[lo], &input[iterJ]);

    iterI = iterJ + 1;
    iterJ = iterJ - 1;
    for (int k = lo + 1; k <= iterP; ++k) 
    {
        swap(&input[k], &input[iterJ--]);
    }
    for (int k = hi  ; k >= iterQ; --k)
    {
        swap(&input[k], &input[iterI++]);
    }

    sort(input, lo, iterJ);
    sort(input, iterI, hi);
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-03-05T13:40:26.507

尾递归就是把一个递归调用变成一个循环。对于 QuickSort，它类似于：

```
QuickSort(SortVar)                                                                     
   Granularity = 10                                                            
   SortMax = Max(SortVar)
   /* Put an element after the last with a higher key than all other elements 
      to avoid that the inner loop goes on forever */
   SetMaxKey(SortVar, SortMax+1)

   /* Push the whole interval to sort on stack */               
   Push 1 SortMax                                                              
   while StackSize() > 0                                                       
      /* Pop an interval to sort from stack */
      Pop SortFrom SortTo                                                     

      /* Tail recursion loop */                           
      while SortTo - SortFrom >= Granularity                                

         /* Find the pivot element using median of 3 */                            
         Pivot = Median(SortVar, SortFrom, (SortFrom + SortTo) / 2, SortTo)             
         /* Put the pivot element in front */                                     
         if Pivot > SortFrom then Swap(SortVar, SortFrom, Pivot)

         /* Place elements <=Key to the left and elements >Key to the right */           
         Key = GetKey(SortVar, SortFrom)                                                
         i = SortFrom + 1                                                      
         j = SortTo                                                            
         while i < j                                                        
            while GetKey(SortVar, i) <= Key; i = i + 1; end                          
            while GetKey(SortVar, j) > Key; j = j - 1; end                           
            if i < j then Swap(SortVar, i, j)                                       
         end                                                                   

         /* Put the pivot element back */                            
         if GetKey(SortVar, j) < Key then Swap(SortVar, SortFrom, j)                                         

         if j - SortFrom < SortTo - j then                                  
            /* The left part is smallest - put it on stack */                     
            if j - SortFrom > Granularity then Push SortFrom j-1               
            /* and do tail recursion on the right part */                           
            SortFrom = j + 1                                                   
         end                                                                   
         else
            /* The right part is smallest - put it on stack */                       
            if SortTo - j > Granularity then Push j+1 SortTo                   
            /* and do tail recursion on the left part */                         
            SortTo = j - 1                                                     
         end                                                                   
      end                                                                      
   end                                                                         

   /* Run insertionsort on the whole array to sort the small intervals */    
   InsertionSort(SortVar)                                                          
return 
```

此外，没有理由在小间隔上调用 InsertionSort，因为当 QuickSort 完成时，数组被粗略排序，因此只剩下小间隔需要排序。而这正是 InsertionSort 的完美案例。

如果您没有堆栈，则可以改用递归 - 但保留尾递归：

```
QuickSort(SortVar, SortFrom, SortTo)                                                                     
   Granularity = 10                                                            

   /* Tail recursion loop */                           
   while SortTo - SortFrom >= Granularity                                

      /* Find the pivot element using median of 3 */                            
      Pivot = Median(SortVar, SortFrom, (SortFrom + SortTo) / 2, SortTo)             
      /* Put the pivot element in front */                                     
      if Pivot > SortFrom then Swap(SortVar, SortFrom, Pivot)

      /* Place elements <=Key to the left and elements >Key to the right */           
      Key = GetKey(SortVar, SortFrom)                                                
      i = SortFrom + 1                                                      
      j = SortTo                                                            
      while i < j                                                        
         while GetKey(SortVar, i) <= Key; i = i + 1; end                          
         while GetKey(SortVar, j) > Key; j = j - 1; end                           
         if i < j then Swap(SortVar, i, j)                                       
      end                                                                   

      /* Put the pivot element back */                            
      if GetKey(j) < Key then Swap(SortVar, SortFrom, j)                                         

      if j - SortFrom < SortTo - j then                                  
         /* The left part is smallest - recursive call */                     
         if j - SortFrom > Granularity then QuickSort(SortVar, SortFrom, j-1)           
         /* and do tail recursion on the right part */                           
         SortFrom = j + 1                                                   
      end                                                                   
      else
         /* The right part is smallest - recursive call */                       
         if SortTo - j > Granularity then QuickSort(SortVar, j+1, SortTo)                   
         /* and do tail recursion on the left part */                         
         SortTo = j - 1                                                     
      end                                                                   
   end                                                                         

   /* Run insertionsort on the whole array to sort the small intervals */    
   InsertionSort(SortVar)                                                          
return 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-09-17T08:52:20.087

您可以看一下 TimSort，对于非完全随机数据，它比快速排序表现更好（它们具有相同的渐近复杂度，但 TimSort 具有较低的常数）

# java - 使用哪种设计模式？（根据不同的图形api在客户端显示不同的图形）

> ID：12454870
> 
> 赞同：0
> 
> 时间：2012-09-17T07:32:58.657
> 
> 标签：java, design-patterns

我的应用程序中有一个数据库层。在我的前面，我有图形向用户展示。我从数据库中获取必要的数据并在网站上显示该数据。当我从数据库中获取原始数据时，我会处理我使用的 API 的数据（highcharts 等）。我设计了这样的东西：

```
ChartDTO 
```

所有图表实现的主界面。有如下方法：

```
public Object getTotalUsersPieChart(DatabaseData databaseData); 
```

和

```
HighChartsDTOImpl 
```

ChartDTO 的实现。它的所有方法都返回 Object 类型的变量。

在客户端，我直接将来自服务器端的数据提供给我的图形，而无需在客户端进行任何预处理。

**我的问题是：** 我知道这里有一个设计错误，也许它不是 DTO 设计（至少我的架构是这样说的）

我怎么能设计那个场景？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:46:55.610

我建议你使用某种[工厂](http://en.wikipedia.org/wiki/Factory_pattern)模式。
您应该向客户端传递有关您要创建的图表类型的“提示”，
并让 ChartFactory 为您创建它。
这是一个代码片段：

```
public class ChartFactory {

    public Chart createChart(ChartType, ChartParameters params) {
       Chart chart = ... //Creates a chart object based on type and ChartParameters
       return chart;
    }
} 
```

你可以让这个工厂成为一个单例，
所以如果你需要做一些工厂初始化，你只会做一次。ChartParameters 应该保存用于创建特定图表类型对象的参数。
它可以是键和值的简单映射，即看起来像：

```
public class ChartParameters {
    private Map<String,Object> params = new HashMap<String,Object>();

    public Object getParam(String paramName) {
        return params.get(paramName);
    }

    //Add here more methods... maybe a CTOR that takes a map of params,
    //And a method to add a parameter
} 
```

或者这可以有另一个实现。您还可以决定为 Chart 的每个子类设置参数类（所有这些参数类都将扩展 ChartParameters），
但这可能会导致您在继承树上出现某种重复。

总而言之，
通过这种方式，您需要发送给客户端的只是图表类型和参数，它将实例化正确的图表对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:47:10.743

听起来你是一个因素模式，甚至是一个抽象的工厂模式。使用这个工厂，您可以生成为您想要的外观配置的适当组件。

# iphone - IOS6 界面生成器自动布局：CRASH 无法在视图上安装约束

> ID：12454875
> 
> 赞同：3
> 
> 时间：2012-09-17T07:33:23.150
> 
> 标签：iphone, sdk, ios6

当我尝试通过自动布局添加所有视图时，会出现以下消息：

```
CRASH Unable to install constraint on view. 
Does the constraint reference something from outside the subtree of the view?  
That's illegal. 
constraint:<NSLayoutConstraint:0x756b510 UIPickerView:0x756f220.top == 
LoginView:0x75e9d30.top + 106> view:<LoginView: 0x75e9d30; 
frame = (0 15; 320 430); autoresize = RM+BM; layer = <CALayer: 0x75e9dc0>> 
```

有人有想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-22T08:12:23.847

我在选择器视图上确实有同样的问题。点击输入字段打开选择器视图，然后我在选择器视图上选择了一些内容并将其关闭。当转到另一个视图然后再返回到 pickerview 时，我得到了提到的错误。我通过关闭自动布局解决了这个问题。这可以在文件检查器上完成，只需取消选中自动布局。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-14T05:45:22.750

快速提示：您必须为一个视图控制器创建 3 个 XIB

1.  YourViewController.xib,
2.  YourViewController-568.xib,
3.  YourViewController~ipad.xib

并在每个 YourViewController.m 中添加以下代码，然后它将为不同的用户设备加载不同的视图

```
- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
   // if(nibNameOrNil == nil){
        nibNameOrNil = @"YourViewController";

        if( [[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone){
            if([UIScreen mainScreen].bounds.size.height > 480){

                nibNameOrNil = @"YourViewController-568";
                // iphone5+
            }else{
                // older than iphone5
            }
        }
   // }

    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self){

    }
    return self;
} 
```

# objective-c - 如何在构造函数中初始化 Objective-C 结构？

> ID：12454881
> 
> 赞同：12
> 
> 时间：2012-09-17T07:33:48.537
> 
> 标签：objective-c, struct, constructor, initialization

我在 Objective-C 上使用结构来存储一些数据，如下所示：

```
@interface Interface : NSObject
{
    // my Data
    struct Data
    {
        __unsafe_unretained BOOL isInit;
        __unsafe_unretained BOOL isRegister;
        __unsafe_unretained NSString* myValue;

       // Data() : isInit(false), isRegister(false), myValue(@"mYv4lue") {} // Constructor doesnt work
    };

    struct Data myData;  // Create Struct
} 
```

但我不能用构造函数编译。我希望在创建结构时这些值采用一些默认值。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-09-17T07:43:57.260

结构没有初始化器，如果你想创建一个具有一组特定值的结构，你可以编写一个返回创建并为你初始化它的函数：

例如

```
struct Data {
        BOOL isInit;
        BOOL isRegister;
        NSString* myValue;
};

Data MakeInitialData () {
    data Data;
    data.isInit = NO;
    data.isRegister = NO;
    data.myValue = @"mYv4lue";

    return data;
} 
```

现在您可以通过以下方式获得正确设置的结构：

```
Data newData = MakeInitialData(); 
```

不过，请注意；您似乎正在使用 ARC，它不适用于其中包含对象指针的结构。在这种情况下，建议只使用类而不是结构。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2016-09-21T19:36:29.290

您可以使用静态对象进行默认设置，如下所示初始化结构。

```
typedef struct
{
    BOOL isInit;
    BOOL isRegister;
    __unsafe_unretained NSString* myValue;

} Data;
static Data dataInit = { .isInit = NO, .isRegister = NO, .myValue = @"mYv4lue"};

Data myCopyOfDataInitialized = dataInit; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-17T07:43:44.897

您正在执行此操作的空间（在类块开头的大括号之间）`@interface`不允许运行代码。它仅用于 ivars 的声明。你真的不应该`struct`在那里声明 s （我很惊讶编译）。

将构造函数调用移至类的`init`方法。这就是 ivars 的初始化应该在 ObjC 中发生的地方。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2014-04-24T06:36:36.103

你也可以这样做：

```
@interface Interface : NSObject
{

   typedef struct tagData

    {
        __unsafe_unretained BOOL isInit;
        __unsafe_unretained BOOL isRegister;
        __unsafe_unretained NSString* myValue;

        tagData(){
           isInit = NO;
           isRegister = NO;
           myValue = NULL;
        }
    } myData;

} 
```

# java - Java中有一些开源CAD库吗？

> ID：12454882
> 
> 赞同：6
> 
> 时间：2012-09-17T07:33:53.840
> 
> 标签：java, cad

我需要一个 CAD 建模库。我找到了这样的库，例如 OPEN CASCADE，但它们不是用 Java 编写的。要使用这些库，我需要很长时间来学习一门新的编程语言。

现在我熟悉Java。有没有人知道一些 Java 中的开源 CAD 建模库？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-17T07:37:16.020

> Ycad 是 Java 中的 CAD 函数库。目前仅支持 DXF 进行读取、查看和写入。可以将 DXF 绘图渲染到 Graphics 对象以进行打印或成像。 [http://sourceforge.net/projects/ycad/](http://sourceforge.net/projects/ycad/)

也许这有帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-17T07:37:38.737

可能是[http://jcae.sourceforge.net/architecture.html](http://jcae.sourceforge.net/architecture.html)可以为您提供有关如何实现类似目标的更多信息。如果您对 java 有强烈的偏见，它会尝试使用带有 OPEN CASCADE 的“JNA”。

# android - Http Get 和 Post（名称值对）

> ID：12454883
> 
> 赞同：0
> 
> 时间：2012-09-17T07:33:54.910
> 
> 标签：android, client-server

我正在创建一个应用程序，用于将一些信息存储到服务器中并从服务器中检索相同的信息。

例如，*应用程序 1*`POST`将使用方法存储到服务器中，*应用程序 2*将从使用`Get`方法的服务器中检索相同的内容。

存储在服务器上的信息具有如下结构：`(lat, lon, address)`.

*是否可以为使用应用程序 2*的所有用户生成单独的用户 ID，以便只显示所需的位置信息而不显示所有信息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T08:06:00.127

如果您的设备是电话，那么您可以使用 TelephonyManager.getDeviceId() 这对于任何电话都是唯一的。

对于任何设备，您都可以使用[Settings.Secure.ANDROID_ID](http://developer.android.com/reference/android/provider/Settings.Secure.html)作为解释，例如，[here](http://android-er.blogspot.com/2011/03/get-android-device-id.html)但是他们说它可能不是唯一的。

[您还可以使用Build.MODEL、Build.ID](http://developer.android.com/reference/android/os/Build.html)和其他此类常量自己生成伪 ID 。

# android - lgpl 许可或付费的 android pdf 库

> ID：12454885
> 
> 赞同：0
> 
> 时间：2012-09-17T07:34:12.097
> 
> 标签：android

你能告诉我哪个pdf库最适合android。我想知道哪个好，因为我想创建 pdf 阅读器。我在 lgpl 许可证或付费库上搜索库。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-30T13:02:53.453

[https://github.com/Birdbrain2/PdfBox-Android](https://github.com/Birdbrain2/PdfBox-Android)

如果它适合您，它是一个 Apache 2.0 许可证库。

# php - Htaccess：空 $_GET

> ID：12454886
> 
> 赞同：1
> 
> 时间：2012-09-17T07:34:13.660
> 
> 标签：php, .htaccess, get

目前我有一个 PHP 页面，并且使用 htaccess 我正在更改页面 URL。这是我的 Htaccess：

```
RewriteEngine On
RewriteRule ^customer/edit/(.*)/deletefrom/(.*)/ index.php?page=customer&edit=$1&deletefrom&=$2 [QSA,L] 
```

当我试图从中获取价值时，`$_GET['deletefrom']`我得到的是一个空值。但是`$_GET['edit']`正在工作并给出一个值，所以这很奇怪。我希望有人能帮助我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T07:39:23.010

```
RewriteEngine On
RewriteRule ^customer/edit/(.*)/deletefrom/(.*)/ index.php?page=customer&edit=$1&deletefrom&=$2 [QSA,L] 
```

`&`用作 GET 参数中的分隔符，在`deletefrom`它找到之后`&`你得到空值。而不是上面的代码使用以下

```
RewriteEngine On
RewriteRule ^customer/edit/(.*)/deletefrom/(.*)/ index.php?page=customer&edit=$1&deletefrom=$2& [QSA,L] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-17T07:38:15.303

你有一个`&`正确的`deletefrom`变量。

# function - Mathematica 清除函数的导数定义

> ID：12454887
> 
> 赞同：5
> 
> 时间：2012-09-17T07:34:15.493
> 
> 标签：function, wolfram-mathematica, derivative

我在 Mathematica 中定义了函数的导数，但没有定义函数本身，即我有一个函数定义，如下所示：

```
y'[x_] := constant * f'[x]. 
```

我不知道如何清除它。如果我使用`Clear[y']`或 `ClearAll[y']，我会收到一条错误消息：

> `ClearAll::ssym: y'`不是符号或字符串。

`Clear[y]`并且`ClearAll[y]`不做任何事情来删除 的定义`y'`。

关于如何删除定义的任何想法`y'`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T15:36:52.980

这应该做你想要的：

```
y'[x_] =. 
```

见[`Unset`](http://reference.wolfram.com/mathematica/ref/Unset.html)。另请参阅[此问题](https://mathematica.stackexchange.com/q/373/121)以获取相关信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T08:27:30.160

您可以使用`Remove[y]`. 对于函数名称`f'`是不寻常的语法，但它确实出现在派生文档中：[http ://reference.wolfram.com/mathematica/ref/Derivative.html](http://reference.wolfram.com/mathematica/ref/Derivative.html)

派生名称形式似乎给 带来了一些问题`Information (??)`，它通常会显示属性信息。

```
y'[x_] := constant*f'[x]
y'[4]
??y 
```

常数 f'[4]

全球`y

```
Remove[y]
??y 
```

Information::notfound : 未找到符号 y。>>

```
y'[4] 
```

你'[4]

但奇怪的是，（与派生名称形式无关）：

```
Information[y] 
```

全球`y

这里有一些更深入的信息`Remove`：[https ://mathematica.stackexchange.com/questions/4921/what-is-the-story-with-removed-symbols](https://mathematica.stackexchange.com/questions/4921/what-is-the-story-with-removed-symbols)

# iphone - Barcode readerview 在 iphone 中扫描了这么多次后出现了两次？

> ID：12454892
> 
> 赞同：1
> 
> 时间：2012-09-17T07:34:33.663
> 
> 标签：iphone, ios, ipad, barcode-scanner

我有一个使用条形码扫描的 iPad 应用程序。我正在使用 ZBarSDK 扫描条形码。像这样我正在呈现扫描视图。`

```
// ADD: present a barcode reader that scans from the camera feed
        ZBarReaderViewController *reader = [ZBarReaderViewController new];
        reader.readerDelegate = self;

        reader.supportedOrientationsMask = ZBarOrientationMaskAll;

        reader.sourceType=UIImagePickerControllerSourceTypeCamera;
        //reader.cameraDevice = UIImagePickerControllerCameraDeviceFront;

        reader.cameraOverlayView=cameraOverlay;

        if( [UIImagePickerController isCameraDeviceAvailable:                         UIImagePickerControllerCameraDeviceFront ])
        {
            reader.cameraDevice = UIImagePickerControllerCameraDeviceFront;
        }
        ZBarImageScanner *scanner = reader.scanner;

        reader.wantsFullScreenLayout = YES;
        // TODO: (optional) additional reader configuration here

        // EXAMPLE: disable rarely used I2/5 to improve performance

        [scanner setSymbology: ZBAR_I25
                       config: ZBAR_CFG_ENABLE
                           to: 0];
        reader.showsZBarControls = NO; 
        // present and release the controller
        [self temporarilyHideStatusBar];  
        if(fromscan==YES)
        {
            [self presentModalViewController:reader animated:NO];
        }
        else
        {
            [self presentModalViewController:reader animated:YES];
        }

        [reader.view addSubview:back];
        [back addTarget:self action:@selector(backpressed:) forControlEvents:UIControlEventTouchUpInside];

        [reader release]; 
```

其次是

```
 - (void) imagePickerController: (UIImagePickerController*) reader
 didFinishPickingMediaWithInfo: (NSDictionary*) info
{
    // ADD: get the decode results
    id<NSFastEnumeration> results =
    [info objectForKey: ZBarReaderControllerResults];
    ZBarSymbol *symbol = nil;
    for(symbol in results)
        // EXAMPLE: just grab the first barcode
        break;

  //commented blues  
    NSLog(@"%@",symbol.data);

     [self sdsdsd:symbol.data];

     [reader dismissModalViewControllerAnimated:YES];

} 
```

sdssd 是我获取该数据的功能。所有 r 工作正常。但我的问题是在扫描了一段时间后，按下用于扫描覆盖的按钮即将到来但不允许扫描，该覆盖内有一个不同的绿色边框。当我们取消显示，就像扫描已经完成一样。这就是我要从扫描开始的下一页。任何人都可以知道为什么会这样吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-09-17T07:43:20.200

尝试这个

```
- (IBAction) scanButtonTapped
{
    // ADD: present a barcode reader that scans from the camera feed
    ZBarReaderViewController *reader = [ZBarReaderViewController new];
    reader.readerDelegate = self;
    reader.supportedOrientationsMask = ZBarOrientationMaskAll;

    ZBarImageScanner *scanner = reader.scanner;
    // TODO: (optional) additional reader configuration here

    // EXAMPLE: disable rarely used I2/5 to improve performance
    [scanner setSymbology: ZBAR_I25
                   config: ZBAR_CFG_ENABLE
                       to: 0];

    // present and release the controller
    [self presentModalViewController: reader
                            animated: YES];

}

- (void) imagePickerController: (UIImagePickerController*) reader didFinishPickingMediaWithInfo: (NSDictionary*) info
{
    // ADD: get the decode results
    id<NSFastEnumeration> results =
    [info objectForKey: ZBarReaderControllerResults];
    ZBarSymbol *symbol = nil;

    for(symbol in results)
        // EXAMPLE: just grab the first barcode
        break;

    // EXAMPLE: do something useful with the barcode data
    resultText.text = symbol.data;

    // EXAMPLE: do something useful with the barcode image
    resultImage.image = [info objectForKey: UIImagePickerControllerOriginalImage];

    // ADD: dismiss the controller (NB dismiss from the *reader*!)
    [reader dismissModalViewControllerAnimated: YES];
} 
```

# asp.net - 使用 VB.NET 读取 XML 文件

> ID：12454894
> 
> 赞同：3
> 
> 时间：2012-09-17T07:34:38.737
> 
> 标签：asp.net, xml, vb.net, web

我正在构建这个基于 Web 的应用程序，它将显示未来 24 小时的天气预报，我正在读取一个包含我需要的所有数据的 XML 文件。然而，该文件包含类似标签中的所有数据，如下所示：

```
<response>
 <hourly_forecast>
  <forecast>
   <temp>
    <metric>DATA!</metric>
   </temp>
  </forecast>
  <forecast>
   <temp>
    <metric>MORE DATA!</metric>
   ... 
```

正如你所看到的，我必须输入一个预测，遍历它的子节点，找到数据，然后以某种方式回到我可以读取下一个预测及其数据的点，等等。我目前正在使用 XMLTextReader 能够阅读，并使用 ReadStartElement 和 ReadToNextSibling 方法来浏览文件，但是使用这些方法你无法在文件中备份，你只能下车进入，所以为了阅读下一个温度我不得不使用 For 循环，使程序“成功”进入下一个预测，但它变得非常耗费资源，对天气 API 的调用太多，甚至发出超时错误。如果我将网站上的 XML 文件保存到计算机上的项目目录中，它确实可以工作，这样它就可以正常运行并快速获取所有数据，但是，

所以我的问题是，我怎样才能从这个在线天气 XML 文件中提取我需要的数据，然后轻松快速地显示或保存到数据库中？

我在 .NET Framework 3.5 上使用 ASP 和 VB。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-17T13:17:46.833

有几种方法可以做到这一点。最简单的方法是使用 XMLTextReader 继续以现有方式加载 XML，但不是一次只加载一个，而是一次将所有这些加载到内存中。例如，如果您创建了这样的类：

```
Public Class Forecast
    Public Property Temperature() As Integer
        Get
            Return _temperature
        End Get
        Set(ByVal value As Integer)
            _temperature = value
        End Set
    End Property
    Private _temperature As Integer

    ' ... Other properties    
End Class 
```

然后，在加载预测的代码中，加载所有预测，而不是仅加载一个，并将它们存储在如下列表中：

```
Dim forecasts As New List(Of Forecast)()
' Loop through XML, and then for each forecast in XML:
    Dim f As New Forecast()
    f.Temperature = ' Set value based on current forecast data
    forecasts.Add(f)
' End loop 
```

然后，稍后，当您需要特定的预测时，您可以从内存中已加载的列表中检索它：

```
' Get the first forecast
Dim f As Forecast = forecasts(0)

' Get the second forecast
f = forecasts(1)

' Etc. 
```

但是，我认为使用您所描述的 XMLTextReader 可能是错误的。`XDocument`使用,`XmlDocument`或会更容易`XmlSerializer`。例如，您可以轻松地将所有预测加载到一个列表中，正如我刚刚描述的那样，使用如下`XmlDocument`类：

```
Dim forecasts As New List(Of Forecast)()
Dim doc As New XmlDocument()
doc.Load(xmlFilePath)
For Each forecastNode As XmlNode In doc.SelectNodes("/response/hourly_forecast/forecast")
    Dim f As New Forecast()
    f.Temperature = Integer.Parse(forecastNode.SelectSingleNode("temp/metric").InnerText)
Next 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:38:11.200

对于此类任务，请使用 LINQ 风格从 XML 中读取、更新、保存和删除数据。

即利用 LINQ to XML 来帮助你实现你想要的。

有源代码：

但看看那里的msdn：[.NET Language-Integrated Query for XML Data](http://msdn.microsoft.com/en-us/library/bb308960.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T07:42:23.547

```
XDocument xmlDoc= XDocument.Load(@"c:sites.xml");
var q = from c in xmlDoc.Descendants("site")
select (string)c.Element("name") + " -- " +(string)c.Element("url");
foreach (string name in q) {
Console.WriteLine("Site: " + name);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-17T12:08:02.020

您是否尝试过使用 dataset.ReadXml 方法。如果您熟悉数据集结构，这将使读取数据变得非常容易。它会将您的数据放入数据表中，以便您能够循环访问。

```
Dim ds As New DataSet
ds.ReadXml("File Text as String")
For Each row as DataRow in ds.Tables("Forecast").Rows
  'Store your data'
Next 
```

希望这可以帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-17T15:08:44.697

使用 XML Literals 在 VB 中重写@Pushpendra 的示例：

```
Dim xmlDoc= XDocument.Load(@"c:sites.xml")
Dim query = From c in xmlDoc...<site>
            Select c.<name>.Value & " -- " & c.<url>.Value

For Each name In query
     Console.WriteLine("Site: " + name)
Next 
```

# ruby-on-rails - Rails Asset Paths 在不同的机器上是不同的

> ID：12454897
> 
> 赞同：0
> 
> 时间：2012-09-17T07:34:56.240
> 
> 标签：ruby-on-rails, asset-pipeline

我正在开发一个 rals 3.2.8 应用程序。我在我的 Mac 上启动它并将其复制到一台 linux 机器上。linux机器给出以下错误行。

```
couldn't find file 'jquery.ui.all' 
```

我检查了 Rails.application.config.assets.paths 并意识到它在我的 Mac 和 Linux 上是不同的。我错过了什么？

谢谢。

===========更新=============

我发现了一件奇怪的事情。即使我的开发环境和设计环境（我从 config/environments/development.rb 复制）是相同的，Rails.application.config.assets.paths 也是不同的。

这是从我的控制台捕获的。

```
[ssk-MBP]~/dev/test$ r c
Loading development environment (Rails 3.2.8)
1.8.7 :001 > Rails.application.config.assets.paths
 => ["/Users/ssk/dev/dentisusa/app/assets/images", "/Users/ssk/dev/dentisusa/app/assets/javascripts", "/Users/ssk/dev/dentisusa/app/assets/stylesheets", "/Users/ssk/dev/dentisusa/vendor/assets/javascripts", "/Users/ssk/dev/dentisusa/vendor/assets/stylesheets", "/Users/ssk/.rvm/gems/ree-1.8.7-2011.03@dentisusa/gems/jquery-rails-2.1.2/vendor/assets/javascripts", "/Users/ssk/.rvm/gems/ree-1.8.7-2011.03@dentisusa/gems/underscore-rails-1.3.1/vendor/assets/javascripts", "/Users/ssk/.rvm/gems/ree-1.8.7-2011.03@dentisusa/gems/bootstrap-sass-2.1.0.0/vendor/assets/images", "/Users/ssk/.rvm/gems/ree-1.8.7-2011.03@dentisusa/gems/bootstrap-sass-2.1.0.0/vendor/assets/javascripts", "/Users/ssk/.rvm/gems/ree-1.8.7-2011.03@dentisusa/gems/bootstrap-sass-2.1.0.0/vendor/assets/stylesheets", "/Users/ssk/.rvm/gems/ree-1.8.7-2011.03@dentisusa/gems/coffee-rails-3.2.2/lib/assets/javascripts", #<Pathname:/Users/ssk/dev/dentisusa/vendor/bundle/ruby/1.8/gems/jquery-ui-rails-2.0.0/vendor/assets/stylesheets>] 
1.8.7 :002 > exit
[ssk-MBP]~/dev/test$ r c design
Loading design environment (Rails 3.2.8)
1.8.7 :001 > Rails.application.config.assets.paths
 => ["/Users/ssk/dev/dentisusa/app/assets/images", "/Users/ssk/dev/dentisusa/app/assets/javascripts", "/Users/ssk/dev/dentisusa/app/assets/stylesheets", "/Users/ssk/dev/dentisusa/vendor/assets/javascripts", "/Users/ssk/dev/dentisusa/vendor/assets/stylesheets", "/Users/ssk/.rvm/gems/ree-1.8.7-2011.03@dentisusa/gems/jquery-rails-2.1.2/vendor/assets/javascripts", #<Pathname:/Users/ssk/dev/dentisusa/vendor/bundle/ruby/1.8/gems/jquery-ui-rails-2.0.0/vendor/assets/stylesheets>] 
1.8.7 :002 > 
```

我做错了什么？

山姆

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T10:49:11.153

由于资产路径是由应用程序定义的，我无法想象为什么机器的操作系统会对应用程序配置产生任何影响。

为明显的问题道歉，但您在两台机器上使用相同的环境？（即，一个不是生产，另一个是开发？）这是我想到的唯一可能性。您也可以尝试使用 grep 查找配置目录中的不同路径。（例如 grep 奇怪的资产路径 -r 配置）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T00:29:54.413

我找到了解决方法。

配置/应用程序.rb

```
if defined?(Bundler)
  # If you precompile assets before deploying to production, use this line
  Bundler.require(*Rails.groups(:assets => %w(development test design)))
  # If you want your assets lazily compiled in production, use this line
  # Bundler.require(:default, :assets, Rails.env)
end 
```

我在其中添加了“设计”。

我几乎花了一整天的时间。

山姆

# google-maps-api-3 - 街景预加载

> ID：12454909
> 
> 赞同：5
> 
> 时间：2012-09-17T07:36:11.263
> 
> 标签：google-maps-api-3, google-earth-plugin, google-street-view

我们在使用 Google 街景时遇到问题。我们想使用 API 移动到那里。所以，比方说，最初我们加载某个全景视图。然后，我们向前移动几米，并希望使用新坐标再次加载所有内容。我们观察到有几张图片加载速度非常慢，结果是一幅零散的全景图——一些图片是新的，一些是旧的，还有一些正在加载中。

有没有办法优化这个过程？例如，我们可以在街景中预加载图像吗？或者，我们能否实现与谷歌街景应用程序相同的技术——当我们移动时整个全景图模糊，然后将所有内容加载在一起？

这是我们使用的功能：

```
panorama.setPano(markerPanoID);
    panorama.setPov({
    heading: me.heading,
    zoom:1,
    pitch:0
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-11T23:10:03.563

我找到了解决方法。

如果您已经定义了动作，您可以将 map-canvas 设置为`display:none`，执行您的动画并重置您的变量，然后您设置为`display:block`返回并再次执行您的动画。

Google Maps API 存在问题和请求，让我们在那里请求此功能！

[https://code.google.com/p/gmaps-api-issues/issues/list](https://code.google.com/p/gmaps-api-issues/issues/list)

# ssis - 批处理文件通过 SQL Server 代理失败

> ID：12454910
> 
> 赞同：1
> 
> 时间：2012-09-17T07:36:28.000
> 
> 标签：ssis, batch-file, sql-agent-job

全部。

我编写了一个 SSIS 包，它从定义的数据库中查询数据并将它们放入特定位置的 CSV 文件中。然后，在 SSIS 包中，我调用了一个预先编写的批处理文件，它在指定目录中创建一个文件夹，将文件夹重命名为“yyyy-mm-dd”格式的日期，然后将创建的 CSV 文件移动到新的创建的文件夹。

批处理文件代码如下：

```
@echo off
FOR /F "TOKENS=1* DELIMS= " %%A IN ('DATE/T') DO SET CDATE=%%B
FOR /F "TOKENS=1,2 eol=/ DELIMS=/ " %%A IN ('DATE/T') DO SET mm=%%B
FOR /F "TOKENS=1,2 DELIMS=/ eol=/" %%A IN ('echo %CDATE%') DO SET dd=%%B
FOR /F "TOKENS=2,3 DELIMS=/ " %%A IN ('echo %CDATE%') DO SET yyyy=%%B
SET date=%date:~6,6%-%date:~3,2%-%date:~0,2%
md \\remote_folder\%date%
move /Y \\remote_folder\*.csv \\remote_folder\%date%
exit 
```

从我的 SSIS 包运行它时，一切正常。

触发代理作业的服务帐户具有完全的管理控制权。使用 SQL Server 代理将其安排为自动作业时，该文件夹未正确创建。我的想法是 SQL 代理要么无法触发批处理文件，要么它们不兼容。

有没有其他人遇到过这个或知道解决方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T19:42:35.663

使用文件系统任务：

创建一个名为 RmtArchPath 的变量（字符串）

使用表达式设置其值：

> "\\\\Remote_folder\\" + (DT_WSTR,4)YEAR(GETDATE()) + "-" + RIGHT("0" + (DT_WSTR,2)MONTH(GETDATE()), 2) + "-" + RIGHT("0" + (DT_WSTR,2)DAY(GETDATE()), 2) + "\\"

创建文件系统任务。对于操作，选择创建目录。对于 UseDirectoryIfExists，选择 True。对于 IsSourcePathVariable，选择 RmtArchPath。

创建第二个名为 SrcFileName 的变量（字符串）

创建一个 ForEachLoop 容器。对于 Collection，选择枚举器“Foreach File Enumerator”，设置文件夹 = \\Remote_Folder，设置文件 = *.csv。对于变量映射，设置变量 = User::SrcFileName。

将文件系统任务连接到循环。（从 FS 任务到流向的循环）。

在循环内创建第二个文件系统任务。

选择移动文件进行操作。将 IsDestinationPathVariable 设置为 True，设置 DestinationVariable = RmtArchPath。设置 IsSourcePathVariable = True，设置 SourceVariable = SrcFileName。

# python-3.x - Python3 Interactive Shell（Debian）中没有历史，左右？

> ID：12454913
> 
> 赞同：0
> 
> 时间：2012-09-17T07:36:43.470
> 
> 标签：python-3.x, debian

您好，我在我的 Debian Squeeze 6 中使用 Python3。但是，我无法访问历史记录并利用左右箭头。当我上下按左右时，我会看到这些字符。[[A^[[B^[[B^[[C^[[D. 我在默认的 Python2.6 解释器中没有问题。我该如何解决？PS我打开解释器为python3。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T10:22:37.400

在编译 Python 之前，您需要安装 readline 库。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-03-30T22:32:56.380

在 Python 3.4 上：

```
sudo python -m pip install readline 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T10:38:18.553

我可以建议你安装 Ipython 吗？它有相当多的python历史和交互式工具。[http://ipython.org/](http://ipython.org/)

# windows - 如何刷新 Windows 资源管理器的任何缓存？

> ID：12454918
> 
> 赞同：1
> 
> 时间：2012-09-17T07:36:54.373
> 
> 标签：windows, winapi, explorer

我想通过直接修改特定的注册表值来对 Windows 资源管理器进行更改。但是，资源管理器已更改，因为我仅重新启动它。

我想重新加载资源管理器设置的缓存是一个合适的解决方案。但是，我不知道如何以编程方式重新加载缓存。

有没有人知道解决方案？

**更新：**
我认为我的问题没有给你足够的信息。当我更改注册表上的任何 Internet 设置策略时，我希望更改会立即影响 Windows 资源管理器。但它没有这样做。因此，我尝试使用 sysinternals 制作的 ProcessMonitor 来监控资源管理器的行为。通过监控，我发现资源管理器每次都没有从注册表中获取值。

因此，我很想知道如何让资源管理器获得价值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-24T09:49:57.413

**我自己的答案**

我不确定以下解决方案是否最好。我尝试使用`IInternetZoneManager`和`IInternetSecurityManager`修改互联网设置。这是一种间接的方式。这个 COM 模块帮助我立即影响了资源管理器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-04-26T12:24:43.157

据我所知，Windows GUI 的嵌入式文件浏览器 Windows Explorer（不是 Internet Explorer）在重新启动组件之前不会加载注册表值。您可以尝试做的一件事是通过任务管理器重新启动资源管理器（而不是 iexplore）。它应该重新加载并再次读取注册表设置。

# cewolf - struts2 和 cewolf

> ID：12454923
> 
> 赞同：0
> 
> 时间：2012-09-17T07:37:16.927
> 
> 标签：cewolf

我收到错误，因为在将 struts2 与 cewolf 集成时**没有为 cewolf 映射任何操作。而且我的图表没有显示**

任何人都可以帮助我提供有关 struts2 和 cewolf 的示例程序吗？请帮助我

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T21:05:29.513

为了将 cewolf 与 struts 一起使用，您不一定需要向 struts-config.xml 添加任何内容。它只是一个标签库，可让您在 JSP 中使用 cewolf 标签。

# servlets - ViewExpiredException 创建新会话

> ID：12454930
> 
> 赞同：1
> 
> 时间：2012-09-17T07:37:40.700
> 
> 标签：servlets, jsf-2, jboss

我有一个监听器记录 sessionCreated 和 sessionDestroyed。

日志表明，每次会话超时，首先创建一个新会话，然后抛出 viewExpired-Exception，然后再次创建一个新会话！

这意味着浏览器与两个会话相关联，但应该只存在一个！

**正常的行为是：**

抛出异常，然后创建一个新会话（反之亦然）。

您如何看待默认行为？这可能是一个错误吗？

**这是日志：**

```
09:22:52,640 INFO  [com.MyListener] (http--0.0.0.0-8080-1) HttpSessionEvent: session created
09:22:52,641 INFO  [com.MyListener] (http--0.0.0.0-8080-1) session org.apache.catalina.session.StandardSessionFacade@61a19e4e
09:22:52,642 INFO  [com.MyListener] (http--0.0.0.0-8080-1) session.getMaxInactiveInterval 60 sec.
09:22:52,643 INFO  [com.MyListener] (http--0.0.0.0-8080-1) session.getLastAccessedTime: 09:22:52
09:22:52,643 INFO  [com.MyListener] (http--0.0.0.0-8080-1) session.isNew true
09:22:52,644 INFO  [com.MyListener] (http--0.0.0.0-8080-1) session.getCreationTime(): 09:22:52
09:22:52,645 INFO  [com.MyAdmin] (http--0.0.0.0-8080-1) number of sessions: 1
09:22:52,645 INFO  [com.MyAdmin] (http--0.0.0.0-8080-1) session org.apache.catalina.session.StandardSessionFacade@61a19e4e
09:22:52,663 ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[default-host].[/serview].[Faces Servlet]] (http--0.0.0.0-8080-1) Servlet.service() for servlet Faces Servlet threw exception: javax.faces.application.ViewExpiredException: viewId:/login.html ..
at com.sun.faces.lifecycle.RestoreViewPhase.execute(RestoreViewPhase.java:205) [jsf-impl-2.1.7-jbossorg-2.jar:]
at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101) [jsf-impl-2.1.7-jbossorg-2.jar:]
at com.sun.faces.lifecycle.RestoreViewPhase.doPhase(RestoreViewPhase.java:116) [jsf-impl-2.1.7-jbossorg-2.jar:]
at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118) [jsf-impl-2.1.7-jbossorg-2.jar:]
at javax.faces.webapp.FacesServlet.service(FacesServlet.java:593) [jboss-jsf-api_2.1_spec-2.0.1.Final.jar:2.0.1.Final]
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]
at org.jboss.weld.servlet.ConversationPropagationFilter.doFilter(ConversationPropagationFilter.java:62) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280) [jbossweb-7.0.13.Final.jar:]
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [jbossweb-7.0.13.Final.jar:]
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [jbossweb-7.0.13.Final.jar:]
at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:489) [jbossweb-7.0.13.Final.jar:]
at org.jboss.as.jpa.interceptor.WebNonTxEmCloserValve.invoke(WebNonTxEmCloserValve.java:50) [jboss-as-jpa-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final]
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) [jbossweb-7.0.13.Final.jar:]
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [jbossweb-7.0.13.Final.jar:]
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [jbossweb-7.0.13.Final.jar:]
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368) [jbossweb-7.0.13.Final.jar:]
at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [jbossweb-7.0.13.Final.jar:]
at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671) [jbossweb-7.0.13.Final.jar:]
at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930) [jbossweb-7.0.13.Final.jar:]
at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_01]

09:22:58,053 INFO  [com.MyListener] (http--0.0.0.0-8080-1) HttpSessionEvent: session created
09:22:58,053 INFO  [com.MyListener] (http--0.0.0.0-8080-1) session org.apache.catalina.session.StandardSessionFacade@423bd361
09:22:58,054 INFO  [com.MyListener] (http--0.0.0.0-8080-1) session.getMaxInactiveInterval 60 sec.
09:22:58,055 INFO  [com.MyListener] (http--0.0.0.0-8080-1) session.getLastAccessedTime: 09:22:58
09:22:58,055 INFO  [com.MyListener] (http--0.0.0.0-8080-1) session.isNew true
09:22:58,056 INFO  [com.MyListener] (http--0.0.0.0-8080-1) session.getCreationTime(): 09:22:58
09:22:58,056 INFO  [com.MyAdmin] (http--0.0.0.0-8080-1) number of sessions: 2
09:22:58,057 INFO  [com.MyAdmin] (http--0.0.0.0-8080-1) session org.apache.catalina.session.StandardSessionFacade@423bd361
09:22:58,058 INFO  [com.MyAdmin] (http--0.0.0.0-8080-1) session org.apache.catalina.session.StandardSessionFacade@61a19e4e 
```

你看，会话**org.apache.catalina.session.StandardSessionFacade@61a19e4e**是无用的创建。我怎样才能避免这种情况？

顺便说一句，我已经相应地捕获了异常：

```
<error-page>
<exception-type>javax.faces.application.ViewExpiredException</exception-type>
<location>/error_expired.html</location>
</error-page> 
```

# javascript - 垂直菜单在悬停时保持打开，然后在另一个悬停时关闭

> ID：12454931
> 
> 赞同：0
> 
> 时间：2012-09-17T07:37:43.873
> 
> 标签：javascript, jquery, html, css

我有一个垂直轮播菜单，其中两个项目打开以显示子菜单。当您将鼠标悬停在菜单外时，它们会再次关闭并返回正常菜单状态。

我正在寻找的是一种让它悬停并保持打开状态的方法，然后当另一个菜单悬停时，它们关闭并且悬停激活......

因为我正在使用 Joomla！同样，显示网站等可能会很棘手，但这里是 JavaScript，希望如果需要更多信息，我可以发布它。谢谢！

```
<script type="text/javascript">
$(function(){
  $("ul li.parent").hover(function(){
     $(this).children("ul").slideDown(300);
     $(".contact-details-container p").fadeOut(200);
  },function(){
     $(this).children("ul").stop(true, true).slideUp(300); 
     $(".contact-details-container p").stop(true, true).fadeIn(2000);
  });
});
</script> 
```

HTML

```
<nav>

<ul class="menu-main">
<li class="item-108"><a href="#">Home</a></li>
<li class="item-111 deeper parent"><a href="#">History and Restoration</a>
<ul>
<li class="item-125"><a href="#">History</a></li>
<li class="item-126"><a href="#">The Kennaway Connection</a></li>
<li class="item-127"><a href="#">Previous Residents</a></li>
<li class="item-128"><a href="#">Restoration</a></li>
<li class="item-129"><a href="#">Sidmouth / Heritage Coast</a></li>
</ul>
</li>
<li class="item-112"><a href="#">Wedding Venue</a></li>
<li class="item-113"><a href="#">Hiring Rooms</a>       </li>
<li class="item-114 current active"><a href="#">Virtual Tour</a></li>
<li class="item-115"><a href="#">Art and Exhibitions</a></li>
<li class="item-116"><a href="#">Learning</a></li>
<li class="item-117 deeper parent"><a href="#">How Can I help</a>
<ul>
<li class="item-130"><a href="#">Friends of Kennaway House</a></li>
<li class="item-131"><a href="#">Volunteer Opportunities</a></li></ul></li>
<li class="item-118"><a href="#">Gallery</a></li>
<li class="item-119"><a href="#">Contact</a></li>
</ul>

</nav><!-- #nav -->

nav {
position:absolute;
top:190px;
left:0;
width:200px;
min-width:200px;
height:900px;
background:transparent;
z-index:9999;
}

#nav-bg {
position:absolute;
top:200px;
left:0;
width:200px;
height:80%;
background:<?php echo $contactscheme ?>;
}

nav:before {
content:'';
position:absolute;
top:-10px;
right:0;
width:0;
border-top:10px solid transparent; /* height of right point */
border-right:200px solid #570C2A;
z-index:2;
}

nav:after {
content:'';
position:absolute;
top:0;
left:135px;
width:50px;
height:500px;
background:transparent;
-webkit-transform:rotate(2deg);
-moz-transform:rotate(2deg);
-ms-transform:rotate(2deg);
transform:rotate(2deg);
-webkit-box-shadow:<?php echo $boxshadownav ?>;
-moz-box-shadow:<?php echo $boxshadownav ?>;
box-shadow:<?php echo $boxshadownav ?>;
z-index:-1;
}

.menu-main,
.menu-main ul {
max-height:900px;
margin:0;
padding:0;
list-style:none;
text-align:center;
font-size:1.2em;
background:#570C2A;
}

.menu-main li {
line-height:70px;
margin:0;
padding:0;
}

.menu-main a {
display:block;
color:beige;
text-decoration:none;
}

.menu-main a:hover, a:focus {
color:darkslategray;
text-decoration:none;
text-shadow:none;
outline:0 none;
-webkit-transition:250ms linear 0s;
-moz-transition:250ms linear 0s;
-o-transition:250ms linear 0s;
transition:250ms linear 0s;
}

.menu-main a:hover, a:focus {
color:beige;
text-shadow:1px -1px 14px beige;
}

.menu-main ul {
height:auto;
display:none;
}

.menu-main ul li {
font-size:0.6em;
line-height:30px;
}

.menu-main ul a {
background:transparent;
}

li.item-111.parent {
background:#486060;
line-height:22px;
padding:12px 3%;
}

/* -- sub menu styles for History and Restoration  -- */
.item-125, .item-126, .item-127, .item-128, .item-129 {
    background:#486060;
}

.item-125 {
    border-top:2px dotted <?php echo $listborders ?>;
}

.item-129 {
    border-bottom:2px dotted <?php echo $listborders ?>;
}

/* -- ===end=== -- */

.item-112 {
background:#557171;
}

.item-113 {
background:#663366;
}

.item-114 {
background:#86ACA8;
}

.item-115 {
background:#CD7F72;
}

.item-116 {
background:#BD8A16;
}

li.item-117.parent {
background:#C59F92;
line-height:50px;
padding:12px 3%;
}

/* -- sub menu styles for How Can I Help -- */
.item-130, .item-131 {
    background:#C59F92;
}

.item-130 {
    border-top:2px dotted <?php echo $listborders ?>;
}

.item-131 {
    border-bottom:2px dotted <?php echo $listborders ?>;
}

/* -- ===end=== -- */

.item-118 {
background:#869175;
}

.item-119 {
background:<?php echo $contactscheme ?>;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T08:03:57.873

在悬停功能中，为什么不添加一个具有属性的新类`display:block`。在设置此之前，请为已具有所选类的任何打开的子菜单调用关闭函数。

它可能看起来像这样：

```
$(function () {
     $("ul.menu-main > li").hover(function () {
        //Don't do this again if the same menu is hovered
        if (!$(this).hasClass('selected')) {
            //Ensure any open sub-menu is closed.
            $("li.selected").children("ul").stop(true, true).slideUp(300);
            $(".contact-details-container p").stop(true, true).fadeIn(2000);
            $("li.selected").removeClass('selected');

            //Open sub-menu
            $(this).addClass('selected');
            $(this).children("ul").slideDown(300);
            $(".contact-details-container p").fadeOut(200);
        }
    });
}); 
```

编辑：由于（我认为）您的菜单的工作方式，您实际上不需要该`display:block`属性，但您仍然需要该类来识别打开的子菜单，以便您可以应用您的效果。

# perl - 基于 Twiggy 的 PSGI 应用程序的初始化脚本

> ID：12454938
> 
> 赞同：2
> 
> 时间：2012-09-17T07:38:04.100
> 
> 标签：perl, init.d, psgi

我正在寻找一种方法来通过一个简单的配置文件和一个标准接口来管理多个监听不同端口的 Twiggy 实例。

例如，我想要一个看起来像

```
dog 5000 /www/psgi/dog.pl
cow 5001 /www/psgi/holycow.pl
# ... 
```

以及 /etc/init.d 中的一个脚本，其使用如下

```
sudo service twiggy start
# start all services
sudo service twiggy restart dog
# cow remains intact
# ... 
```

我的一些同事建议[使用 runit](http://smarden.org/runit/)，它看起来很有希望，但是我对它还不够熟悉。

在开始编写自己的脚本之前，我敢于问：是否已经存在？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T13:01:17.657

查看[Daemon::Control](http://search.cpan.org/dist/Daemon-Control)来管理你的守护进程并自动编写初始化脚本

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-09-05T08:48:26.167

我[为 Twiggy::Prefork 编写了 Server::Starter 初始化脚本](https://github.com/scripter-v/server_starter_init)。但它适用于一个 psgi 应用程序。也许它对你有用。

这是为 Twiggy 修改的脚本：

```
#!/bin/sh

PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin
DAEMON=/usr/local/bin/start_server
NAME=start_server
DESC=start_server
RUNDIR=/var/run/start_server

PIDFILE=$RUNDIR/start_server.pid
STATUSFILE=$RUNDIR/start_server.status

PSGI_APP='/path_to_psgi_app/app.pl'

HTTP_SERVER="plackup --no-default-middleware -s Twiggy -a $PSGI_APP"
LOGGER="2>&1 | logger -p daemon.notice -t $DESC"
DAEMON_ARGS="--port=6000 -- $HTTP_SERVER $LOGGER"

if [ ! -e $PSGI_APP ]; then
  echo "'$PSGI_APP' does not exist"
  exit 1
fi

case "$1" in
  start)
    echo -n "Starting $DESC: "

    mkdir -p $RUNDIR
    chown www-data:www-data $RUNDIR
    chmod 755 $RUNDIR

    if start-stop-daemon --start --name $NAME --pidfile $PIDFILE \
        --chuid www-data:www-data --exec /usr/bin/perl --startas \
        /bin/bash -- -c "$DAEMON --pid-file $PIDFILE --status-file $STATUSFILE $DAEMON_ARGS &"
    then
      echo "$NAME."
    else
      echo "failed"
    fi
    ;;

  stop)
    echo -n "Stopping $DESC: "
    if start-stop-daemon --stop --retry forever/TERM/10 --quiet --oknodo \
        --name $NAME --pidfile $PIDFILE
    then
      echo "$NAME."
    else
      echo "failed"
    fi
    sleep 1
    ;;

  reload)
    echo -n "Reloading $DESC: "
    if $DAEMON --pid-file $PIDFILE --status-file $STATUSFILE --restart
    then
      echo "$NAME."
    else
      echo "failed"
    fi
    ;;

  restart)
    ${0} stop
    ${0} start
    ;;

  status)
    echo -n "$DESC is "
    if start-stop-daemon --stop --quiet --signal 0 --name ${NAME} --pidfile ${PIDFILE}
    then
      echo "running"
    else
      echo "not running"
      exit 1
    fi
    ;;
esac

exit 0 
```

# android - 如何仅指定一次 LinearLayout 元素之间的间距？

> ID：12454940
> 
> 赞同：21
> 
> 时间：2012-09-17T07:38:06.613
> 
> 标签：android, android-layout, android-widget, android-linearlayout

我最近又遇到了一个问题，过去几年我已经遇到过好几次了。

`LinearLayout`是一个很方便的`layout manager`。但我完全想念的是在单个 XML 标记中的元素（如填充）之间添加一定空间的可能性。

我所说的一个标签的意思是，我可以在 LinearLayout 的声明中定义元素之间的间距（例如，在垂直 LinearLayout 中，此布局中两个元素之间的垂直间距）。

我知道我可以通过添加 XML 标记`android:layout_marginTop`或类似于 LinearLayout 中的每个元素的东西来做到这一点。

但我希望能够只在一点上定义它，因为所有元素的间距都是相同的。

有谁知道这样做的简单方法（不实现自定义 LinearLayout 或类似的东西）？我更喜欢直接在 XML 中工作而无需编码的解决方案。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-09-18T00:07:16.357

推荐的方式是将样式应用于线性布局中的所有元素

```
android:style="@style/mystyle"

<style name="mystyle">
      <item name="android:layout_marginTop">10dp</item>
      ... other things that your elements have in common
</style> 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2017-07-26T13:17:31.990

将自定义透明可绘制对象设置为布局的分隔线：

```
<LinearLayout
  android:showDividers="middle"
  android:divider="@drawable/divider"> 
```

可绘制文件夹（divider.xml）中的新可绘制资源：

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android = "http://schemas.android.com/apk/res/android">
  <size
    android:width = "0dp"
    android:height = "16dp"/>
</shape> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-06-10T03:48:22.683

@Chris-Tulip 的回答真的帮助了我——也有很好的实践。

对于那些可能会遇到 Eclipse 错误的人，因为在包 android 中缺少“样式”的资源标识符，就像我一样，你不需要添加 android 命名空间。

所以， android:style="xx" 提出了错误，而 style="xx" 是正确的。时髦，但对于任何有这个错误的人来说，这可能会有所帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-17T07:49:19.307

您可以在一个单独的 xml 文件中定义您的单个项目“原型”，然后在代码中动态地扩充该文件中的项目并将它们插入到您的线性布局中。

然后，您将在实际项目上定义间距，而不是在父 LinearLayout 上定义间距（`android:layout_marginTop`例如），并且当您膨胀它们时，该间距将应用于您的所有项目。

***编辑：***

*容器.xml：*

```
<LinearLayout
    android:id="@+id/parent"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <!-- Your items will be added here -->

</LinearLayout> 
```

*项目.xml：*

```
<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_marginTop="4dp">

    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="This is my child" />

</LinearLayout> 
```

*我的活动.java：*

```
// Put this in a suitable place in your Java code, perhaps
// in "onCreate" or "onResume" depending on where and how
// you initialize your view. You can, of course inflate
// any number of instances of the item and add them to
// your parent LinearLayout.
LayoutInflater inflater = LayoutInflater.from(context);
View item = inflater.inflate(R.layout.item, null, false);

LinearLayout container = findViewById(R.id.parent);
container.addView(view); 
```

我没有努力测试代码，但它“应该”按原样工作:-)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-03-23T09:05:15.720

您应该向必须缩进的元素添加`android:layout_marginTop`或。`android:layout_marginLeft`取决于`android:orientation`你的`LinearLayout`.

# php - XML Resonspe 需要使用 php 以表格格式显示

> ID：12454941
> 
> 赞同：0
> 
> 时间：2012-09-17T07:38:07.690
> 
> 标签：php, xml, soap

```
$response = $client->ApiCallDeatilDataFeed($params);
print_r($response); 
```

这是输出：

```
stdClass Object
(
    [ApiCallDeatilDataFeedResult] => <ApidsfsdfCustomerReport>
  <status>Success</status>
  <report_creation_time>9/23/2022 11:27:40 PM</report_creation_time>
  <tru_id>234244234</tru_id>
  <report_date startdate="9/13/2012" enddate="9/14/2012" />
  <call_data row="1">
    <call_tracking_number>2324234324234</call_tracking_number>
    <call_time>9/13/2012 3:33:46 PM</call_time>
    <call_duration>128</call_duration>
    <call_status>Answered</call_status>
    <caller_number>43434543242</caller_number>
    <caller_name></caller_name>
    <caller_address>SAN JOSE CA 95117</caller_address>
    <caller_city>SAN JOSE</caller_city>
    <caller_state>CA</caller_state>
    <caller_zip>95117</caller_zip>
    <call_record_url></call_record_url>
  </call_data>

</ApiCustomerReport>
) 
```

在使用soap方法时收到上面的输出，我需要将此格式显示为html表格格式

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T08:01:34.747

试试这个：

`$response`是您在问题中转储的 php 对象。

```
<html>
    <head>
        <title></title>
    </head>
    <body>
        <table border="0" cellpadding="2" cellspacing="3" width="100%">
            <tr>
                <th>Call Tracking Number</th>
                <th>Call Time</th>
                <th>Call Duration</th>
                <th>Call Status</th>
                <th>Caller Number</th>
                <th>Caller Name</th>
                <th>Caller Address</th>
                <th>Caller City</th>
                <th>Caller State</th>
                <th>Caller Zip</th>
                <th>Call Record Url</th>
            </tr>
            <?php
            $xml = simplexml_load_string( $response->ApiCallDeatilDataFeedResult );
            foreach ( $xml->call_data as $data )
            {
            ?>
            <tr>
                <td><?php echo $data->call_tracking_number;?></td>
                <td><?php echo $data->call_time;?></td>
                <td><?php echo $data->call_duration;?></td>
                <td><?php echo $data->call_status;?></td>
                <td><?php echo $data->caller_number;?></td>
                <td><?php echo $data->caller_name;?></td>
                <td><?php echo $data->caller_address;?></td>
                <td><?php echo $data->caller_city;?></td>
                <td><?php echo $data->caller_state;?></td>
                <td><?php echo $data->caller_zip;?></td>
                <td><?php echo $data->call_record_url;?></td>
            </tr>
            <?php
            }
            ?>
        </table>
    </body>
</html> 
```

希望这可以帮助。

# outlook - 我可以生成类似 vCalendar 文件的内容，将任务而不是日历项添加到 Outlook (2010) 吗？

> ID：12454944
> 
> 赞同：3
> 
> 时间：2012-09-17T07:38:10.067
> 
> 标签：outlook, vcalendar

在我们公司，我们使用自己使用 ASP.NET 构建的 CRM 系统。其中一项功能是它允许用户下载他们在 CRM 系统中进行的约会的 vCalendar (.vcs) 文件，以便他们可以轻松地将这些相同的约会添加到他们的 Outlook 2010 日历中。

这样的 .vcs 文件将如下所示：

```
BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//hacksw/handcal//NONSGML v1.0//EN
BEGIN:VEVENT
UID:uid1@example.com
DTSTAMP:19970714T170000Z
ORGANIZER;CN=John Doe:MAILTO:john.doe@example.com
DTSTART:19970714T170000Z
DTEND:19970715T035959Z
SUMMARY:Bastille Day Party
END:VEVENT
END:VCALENDAR 
```

注意第`VEVENT`4 行。

根据[官方 ICM 规范](http://www.imc.org/pdi/vcal-10.txt)，vCalendar 还支持`VTODO`可用于描述任务或待办事项的一个。不幸的是，Outlook 不支持`VTODO`.

我在研究此问题时发现的所有解决方案都使用某种形式的互操作以及与 Exchange 和/或 Outlook API 的直接通信。第一个需要从 CRM 应用程序访问我们的 Exchange 服务器。这对我们来说是不可能的。第二个要求我们（如果我没记错的话）在我们的网络服务器上安装 Outlook。这也是不可能的。现在我想了想，我猜选项二也需要连接到我们的 Exchange 服务器。

有谁知道允许用户向 Outlook 2010 添加任务的类似 vCalender 的方法？

# mysql - Mysql LEFT JOIN 在 25.000 行以上变得非常慢

> ID：12454947
> 
> 赞同：2
> 
> 时间：2012-09-17T07:38:21.230
> 
> 标签：mysql, performance, left-join

以下查询突然变得异常缓慢（似乎根本没有完成），表 a 中有超过**25.000**行（尝试在查询中添加限制 x）：

```
select a.*, b.column 
  from table_a a
left join table_b b 
  on (a.message_id = b.message_id) 
where date_sub(curdate(), interval 30 day) < a.date 
  and ( 
        b.message_id is NULL or 
        ( 
          b.message_id is not NULL 
          and a.message_id = b.message_id 
          and b.redeemed > 0 
        )
      )
order by a.id DESC 
```

`a.message_id`和都有一个索引`b.message_id`。table_a 的行数将比`table_b`

我知道左连接与**is NULL**组合会导致 mysql 服务器达到其限制，但我不知道如何重写查询以避免左连接。

基本上我想查询表a并检查表b中是否有匹配的条目。如果是这种情况，我想将表 b 中的日期合并到结果中。

非常感谢任何帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T08:11:06.473

首先，我将最后一个条件简化为

```
AND ( b.message_id IS NULL OR b.redeemed > 0 ) 
```

现在您的查询具有以下基本结构：

```
a LEFT JOIN b
WHERE b IS NULL
   OR b.x > 0   /* MySQL may or may not be able to optimize LEFT JOIN + OR*/ 
```

我将其重写为 UNION：

```
a LEFT JOIN b
WHERE b IS NULL

UNION ALL

a INNER JOIN b /* LEFT -> INNER */
WHERE b.x > 0 
```

所以这是您的复杂查询：

```
(   SELECT
      a.*,
      NULL AS column  /* help MySQL a bit :) */
    FROM      table_a a
    LEFT JOIN table_b b ON a.message_id = b.message_id

    WHERE DATE_SUB(CURDATE(), INTERVAL 30 DAY) < a.date
      AND b.message_id IS NULL

) UNION ALL (

    SELECT
      a.*,
      b.column
    FROM       table_a a
    INNER JOIN table_b b ON a.message_id = b.message_id

    WHERE DATE_SUB(CURDATE(), INTERVAL 30 DAY) < a.date
      AND b.redeemed > 0
)

ORDER BY a.id DESC 
```

您可以使用 LEFT JOIN 更改第一个子选择以使用 NOT EXISTS，但我不知道它是否有帮助：

```
SELECT
  a.*,
  NULL AS column /* b's column(s) -> aliased NULL*/

FROM      table_a a

WHERE DATE_SUB(CURDATE(), INTERVAL 30 DAY) < a.date
  AND NOT EXISTS (
        SELECT 1
        FROM b
        WHERE a.message_id = b.message_id
      ) 
```

# string - 如何从php中的字符串中去除用户定义的标签？

> ID：12454948
> 
> 赞同：1
> 
> 时间：2012-09-17T07:38:26.630
> 
> 标签：string, strip-tags

例如：

```
$str="<name>ABCDE<age>45"; 
```

我知道`strip_tags`函数的使用，它删除了 sring 中的所有标签。但我只想剥离一个特定的标签来获得输出 `"ABCDE<age>45";`

可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T14:01:28.790

我已经解决了如下任务。感谢您提供所有有用的答案。

```
$str_arr==preg_split("/<[^>]+>/", $str, 0, PREG_SPLIT_NO_EMPTY); 
```

输出：

```
$str_arr[0]=ABCDE
$str_arr[1]=45 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T07:41:30.483

您也可以通过[`strip_tags()`](http://php.net/manual/en/function.strip-tags.php)它从字符串中剥离 HTML 和 PHP 标记

```
 // Allow <p> and <a>
      echo strip_tags($str, '<p><a>');

  $str="<name>ABCDE<age>45"; 
```

从您的评论 **中是否有可能以“ABCDE”的形式出现？**，是的，有可能这可以通过`substr`或`preg_match`

```
 echo substr($str,6,8); to get only ABCDE 
```

或者

你可以这样做[`preg_match`](http://php.net/manual/en/function.preg-match.php)

```
$pattern = '/^ABCDE/';
preg_match($pattern, $str, $matches, PREG_OFFSET_CAPTURE, 5);
print_r($matches); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T07:42:48.410

使用：`strip_tags()`_`allowable_tags`

```
$str="<name>ABCDE<age>45";
echo strip_tags($str, '<age>'); 
```

[键盘示例](http://codepad.org/q0jIPtgK)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-17T07:42:58.153

您可以在数组中设置要删除的标签，然后将其删除。例如：

```
$string = "<name>ABCDE<age>45";
$custom_tags = array('name');
$tags_length = sizeof($custom_tags);
for ($i = 0; $i < $tags_length; $i++) {
    $string = str_replace("<" . $custom_tags[$i] . ">", "", $string);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-17T07:44:04.537

阅读**[strip_tags的文档](http://php.net/manual/en/function.strip-tags.php)**

字符串 strip_tags ( 字符串 $str **[, 字符串 $allowable_tags ]** )

如果你愿意，你可以允许一些标签：http: [//php.net/manual/en/function.strip-tags.php](http://php.net/manual/en/function.strip-tags.php)。
可选参数**[, string $allowable_tags ]**可以解决您的问题吗？！

# iphone - 如何设置兼容的 iOS

> ID：12454950
> 
> 赞同：0
> 
> 时间：2012-09-17T07:38:43.553
> 
> 标签：iphone

**我们发现您的应用在运行 iOS 6 的 iPhone 4 上崩溃，这不符合 App Store 审查指南。** 应用程序在启动时崩溃。解决此问题的解决方案是什么...？我可以在 iTunesConnect 上部署应用程序时设置 iOS 兼容性吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T09:03:05.573

这是我的应用程序的 .plist 文件设置

![在此处输入图像描述](../Images/c901348ca4667da3e6c851f56d0dfcde.png)

# java - 可以从 android 其他然后轴 2 调用 java 方法的 Web 服务建议？

> ID：12454951
> 
> 赞同：0
> 
> 时间：2012-09-17T07:38:43.990
> 
> 标签：java, android, web-services, axis2

我曾经使用一个`axis2`来创建`java web service`从android调用我的java应用程序方法的方法，

它适用于简单的方法，它`external jar`在 java 程序中不使用任何方法，但是当我想从 android 调用 java 程序的方法时出现问题，该方法使用一些外部 jar 和一些运行时的资源文件。

这给出了 的错误`resources can't locate`。我已经发布了一个关于这个问题的问题

```
http://stackoverflow.com/questions/12436173/webservice-giving-error-like-cant-locate-resources-when-using-another-file-with 
```

所以我现在想做的是有没有像axis2这样我可以实现的其他设施。

我看过一些参考资料，但它并不清楚这些东西，而且非常乱序，所以任何带有axis2工具的教程来创建Web服务？

# tridion - Tridion 2011 FxCop 间接引用程序集

> ID：12454952
> 
> 赞同：2
> 
> 时间：2012-09-17T07:38:46.080
> 
> 标签：tridion, tridion-2011

我在使用 FxCop 分析我的事件系统代码时遇到问题。当我对我的程序集运行 FxCop 时，我有两条消息

一读

> 找不到以下间接引用的程序集。分析不需要此组件，但是，如果没有它，分析结果可能不完整。Tridion.ContentManager.dll 引用了此程序集。
> 
> **Tridion.ContentManager.Data，版本=6.1.0.996，文化=中性，PublicKeyToken=ddfc895746e5ee6b**

另一个读

> 找不到以下间接引用的程序集。分析不需要此组件，但是，如果没有它，分析结果可能不完整。Tridion.ContentManager.dll 引用了此程序集。
> 
> **Tridion.ContentManager.Interop.cm_sys，版本=2.0.0.0，文化=中性，PublicKeyToken=360aac4d3354074b**

对于每条消息，我都被要求以粗体提供程序集的位置。

我已经查找了 Tridion.ContentManager.Data 程序集，我在其中检索了所有其他 Tridion 程序集，但它不存在。

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-17T08:08:43.977

您将在 windows gac（全局程序集缓存）中找到这两个程序集。%WINDIR%\程序集\GAC_MSIL\

# objective-c - 从应用程序控制引导式访问

> ID：12454953
> 
> 赞同：4
> 
> 时间：2012-09-17T07:38:54.833
> 
> 标签：objective-c

我们有一个带有评估模块的应用程序，我们在其中进行客观类型测试。我们不希望该用户在应用程序之间切换以作弊。目前我们拒绝测试，以防应用程序进入后台。

**在 iOS 6 中，Apple 引入了一个名为 Guided Access 的新功能，如果我们可以通过 Objective C 代码片段来控制它，我会很伤心。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T12:11:40.360

我最近遇到了完全相同的情况。似乎没有任何方法可以启用或触发来自目标 c 代码的引导式访问。但是，您可以在目标 c 中使用 UIAccessibilityIsGuidedAccessEnabled() 检查是否启用了引导访问

如果启用了引导访问，则返回 YES。**因此，您可以仅**在启用引导访问时允许用户进行测试。

如果您想知道何时启用或禁用引导访问，您必须设置如下内容：

```
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(guidedAccessChanged) name:UIAccessibilityGuidedAccessStatusDidChangeNotification object:nil]; 
```

你可以在这里读更多关于它的内容：

[UIAccessibilityIsGuidedAccessEnabled](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIKitFunctionReference/Reference/reference.html#//apple_ref/c/func/UIAccessibilityIsGuidedAccessEnabled)

[UIAccessibilityGuidedAccessStatusDidChangeNotification](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIAccessibility_Protocol/Introduction/Introduction.html#//apple_ref/doc/uid/TP40008786-CH1-SW50)

# asp.net - 从服务返回饼图

> ID：12454954
> 
> 赞同：0
> 
> 时间：2012-09-17T07:39:07.790
> 
> 标签：asp.net, wcf

我想创建一个用于生成饼图的 WCF Web 服务。例如，我将两个数组传递给 WCF Web 服务，它会返回一个与传递的数组相对应的饼图。

像这样的东西：

```
getPieChart(double[] yAxix, string[] xAxix ){
  return Chart1.Series["Default"].Points.DataBindXY(xAxix, yAxix);
} 
```

这可以实现吗？如果是，请帮助我提供实现此目标的代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:57:54.077

它可以实现，但前提是您从服务返回的类型是可[序列化](http://msdn.microsoft.com/en-us/library/ms233843.aspx)的。就您而言，我不确定，因为不确定您要返回的类型。

**但是**，我同意 Alex 在评论中的观点 - 您应该在 ASP.NET 组件的 Web 服务器上生成图表，或者让客户端浏览器使用某种图表组件生成它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T08:11:52.703

虽然不推荐，但如果您坚持这样做（即从 WCF 服务返回 UI 元素），我可能会通过 WCF 发送渲染图像。假设您正在使用`System.Web.DataVisualization`命名空间中的图表，您可以使用该[`SaveImage`](http://msdn.microsoft.com/en-us/library/dd488558%28v=vs.100%29.aspx)方法并通过 WCF 发送结果。客户端可以显示该图像。

根据您的绑定，您可能希望使用适合发送图像等内容的技术。对于 HTTP 绑定，您可能需要考虑使用[MTOM 编码](http://msdn.microsoft.com/en-us/library/aa395209.aspx)：

> MTOM 是一种将带有 SOAP 消息的大型二进制附件作为原始字节传输的机制，允许使用更小的消息。

您的操作可能如下所示：

```
public bool GetChart(object series, out byte[] chartBytes)
{
    var chart = CreateCoolChart(series);
    MemoryStream ms = new MemoryStream();
    chart.SaveImage(ms);
    chartBytes = ms.ToArray();
    return true; // Success!
} 
```

客户端将有一些这样的代码（伪代码）：

```
object series = GetSeriesFromSomeLocation();
byte[] chartBytes;
proxy.GetChart(series, out chartBytes);
// Construct an Image object based on the chartBytes, using a stream
// Show the image in your UI control 
```

不确定上面代码中的细节是否完全正确，但它应该给你一个想法。

# sugarcrm - SugarCRM：为sugarc CE 6.5.2创建自定义模块

> ID：12454955
> 
> 赞同：0
> 
> 时间：2012-09-17T07:39:08.157
> 
> 标签：sugarcrm

我正在使用**sugar6.5.2**想开发**User Hierarchy**模块。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T22:07:29.803

使用 SugarCRM，您几乎可以构建任何您想要的东西。最大的问题始终是时间/成本与收益之间的平衡。我不确定你的问题是什么，但绝对有可能。其他人已经构建了用户层次结构类型的模块。你可能想先看看那些。例如：[http](http://www.sugarforge.org/projects/zuckerh/) ://www.sugarforge.org/projects/zuckerh/和[http://www.sugarforge.org/projects/useraccess/](http://www.sugarforge.org/projects/useraccess/)

祝你好运！

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-18T06:37:50.063

SugarCRM 6.5.* 的用户层次结构模块解决方案请访问此站点并按照以下步骤进行操作[http://amolbansode.wordpress.com/2012/10/17/user-hierarchy-module-for-sugar-crm-6-5/](http://amolbansode.wordpress.com/2012/10/17/user-hierarchy-module-for-sugar-crm-6-5/)

我已经成功实施了用户层次结构模块可能对其他一些人也有帮助..

# javascript - 用于拆分“VS Teamnames”字符串的正则表达式

> ID：12454956
> 
> 赞同：1
> 
> 时间：2012-09-17T07:39:13.653
> 
> 标签：javascript, regex

[我已经从YouTube](http://www.youtube.com)视频中抓取了标题。我已将其简化为类似于以下的字符串：

```
string1 = "Red~VS~Blue";
string2 = "oRange v wHite";
string3 = "black knights verses purple people"; 
```

* * *

```
team0 = string.split(regexp)[0];
team1 = string.split(regexp)[1]; 
```

我正在尝试使用 Javascript 的`string.split`方法将每个字符串分解为两个团队名称的数组。空格或分隔符是否通过并不重要，因为它们可以在以后轻松清理。我还希望正则表达式具有一些基本的拼写错误捕获功能。

常用表达：

```
regexp = /\Wv(s|\W)/i; \\Should match " v " or " vs", gives 3 results instead of 2
regexp = /\Wv[s\W]/i; \\Works as I thought the above should 
regexp = /\W(vs|v\W|vers[eu]s)/i \\attempt at dealing with typos, doesn't work 
```

当我添加更多括号`()`而不是包含我写的任何内容时，它往往会在拆分中添加额外的结果。我已经在[这里](http://www.zytrax.com/tech/web/regex.htm)和[这里阅读了这些关于正则表达式的教程以及关于](http://www.w3schools.com/jsref/jsref_obj_regexp.asp)[stackoverflow](http://www.stackoverflow.com)的一些答案，但我找不到任何相关的内容来帮助我。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T07:43:08.640

```
result = subject.split(/\W+v(?:ers[ue])?s?\W+/i); 
```

正确拆分所有示例字符串。

**解释：**

```
\W+        # Match one or more non-word characters
v          # Match v
(?:        # followed by
 ers[ue]   # ersu or erse
)?         # (optionally)
s?         # followed by s (optionally)
\W+        # Match one or more non-word characters 
```

不过，这也匹配`versu`or `verse`。

# c++ - 地图的二维数组交替

> ID：12454958
> 
> 赞同：1
> 
> 时间：2012-09-17T07:39:17.220
> 
> 标签：c++

下面是我的代码....

我在这里使用了地图..而不是地图我想使用二维数组。用户将输入命令代码说 50 并且将调用注册的相应函数

```
to_do_commands.registerCommand(50,get_status); 
```

完整代码如下

```
#include "stdafx.h"
#include <assert.h> 
#include <iostream> 
#include <map> 
#include <string> 
 using namespace std;

void ping(void) 
{ 
  cout << "ping command executed\n"; 
} 

void get_status()
{

cout<<"get status executed";
}

class ToDoCommands 
{ 
  public: 
    typedef void (*FunctionPtr)(); 
    typedef int Code; 

    void registerCommand(Code code,FunctionPtr); 
    void callFunction(Code); 

  private: 
    map<Code,FunctionPtr> func_map; 
}; 

void ToDoCommands::registerCommand(Code code,FunctionPtr func_ptr) 
{ 
  func_map[code] = func_ptr; 
} 

void ToDoCommands::callFunction(Code code) 
{ 
  assert(func_map.find(code)!=func_map.end()); 
  func_map[code](); 
} 

int main(int argc,char **argv) 
{ 
  ToDoCommands to_do_commands; 

 // to_do_commands.registerFunction(50,ping);
  to_do_commands.registerCommand(10,ping);
  to_do_commands.registerCommand(50,get_status);
  to_do_commands.callFunction(50); 

  return 0; 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T08:08:14.820

如果你想在你的头文件中避免任何 STL 依赖，你可以使用[PIMPL 成语](http://en.wikipedia.org/wiki/Opaque_pointer)并在你的实现文件中使用任何你想要的东西（例如 std::map）。

它可能看起来像这样：

```
// ToDoCommands.h

class ToDoCommands
{
public:
  typedef void(*FunctionPtr)();
  typedef int Code;

  ToDoCommands();
  ~ToDoCommands();

  void registerCommand(Code code, FunctionPtr fptr);
  void callFunction(Code code) const;
protected:
private:
  ToDoCommands(ToDoCommands const &); // do not copy
  ToDoCommands & operator=(ToDoCommands const &); // do not assign

  class ToDoCommandsImpl;
  ToDoCommandsImpl * m_pimpl;
};

// ToDoCommands.cpp

#include "ToDoCommands.h"

#include <map>

class ToDoCommands::ToDoCommandsImpl
{
public:
  void registerCommand(Code code, FunctionPtr fptr)
  {
    m_map[code] = fptr;
  }

  void callFunction(Code code) const
  {
    std::map<Code, FunctionPtr>::const_iterator iter = m_map.find(code);
    iter->second();
  }

protected:
private:
  std::map<Code, FunctionPtr> m_map;
};

ToDoCommands::ToDoCommands()
: m_pimpl(new ToDoCommandsImpl())
{ }

ToDoCommands::~ToDoCommands()
{
  delete m_pimpl;
}

void ToDoCommands::registerCommand(Code code, FunctionPtr fptr)
{
  m_pimpl->registerCommand(code, fptr);
}

void ToDoCommands::callFunction(Code code) const
{
  m_pimpl->callFunction(code);
} 
```

为了简单起见，我不允许复制和分配类，如果你真的需要它们，你可以添加这些方法。

# c++ - 由于“不允许类型名称”而使代码在 MSVC++ 2010 中工作的解决方法

> ID：12454961
> 
> 赞同：1
> 
> 时间：2012-09-17T07:39:41.120
> 
> 标签：c++, visual-studio-2010, unsigned, short, openni

我正在尝试实现手指检测，[此处](http://dl.dropbox.com/u/5505209/FingertipTuio3d.zip)给出了链接。我是否正在浏览 MSVC2010 中的代码，它给我的错误如下图所示。有人能告诉我为什么以下代码给我错误吗？这与以下这些问题有关吗？[1、2、3](https://stackoverflow.com/questions/9610747/which-c99-features-are-available-in-the-ms-visual-studio-compiler) ? _ [_](https://stackoverflow.com/questions/146381/visual-studio-support-for-new-c-c-standards/146419#146419) _ [_](https://stackoverflow.com/questions/7054704/error-type-name-is-not-allowed-in-c) 有可能的解决方法吗？我已经包括：

```
#include <cstdint> 
#include <stdint.h> 
```

我也试过：

```
unsigned short depth = (unsigned short) (v[2] * 1000.0f); // hand depth
unsigned short near = (unsigned short) (depth - 100); // near clipping plane
unsigned short far = (unsigned short) (depth + 100); // far clipping plane 
```

但没有用。

![图1。 错误：不允许使用类型名称](../Images/4fb98e947146e7929618ba893d09a1d7.png)

谢谢，

伊克尔

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T07:52:55.293

原因是`near`and`far`已经`#define`在别处被 d 当作别的东西。如果您已经包含`windows.h`，这是典型的，其中包括`windef.h`以下宏：

```
#define far
#define near
#if (!defined(_MAC)) && ((_MSC_VER >= 800) || defined(_STDCALL_SUPPORTED))
#define pascal __stdcall
#else
#define pascal
#endif 
```

尝试将名称更改为类似的名称`plane_near`，`plane_far`它会起作用。

# solr - 建议不是来自 solr 中的主索引

> ID：12454968
> 
> 赞同：0
> 
> 时间：2012-09-17T07:40:23.950
> 
> 标签：solr

我指的是[http://wiki.apache.org/solr/Suggester](http://wiki.apache.org/solr/Suggester)。有一句话

“sourceLocation - 字典文件的位置。如果不为空，则这是字典文件的路径（见下文）。如果此值为空，则主索引将用作术语和权重的来源。“
在 SpellCheckComponent 配置中.

当我 sourceLocation 留空时，我没有得到任何建议，否则我将外部字典路径声明为 sourceLocation 它工作正常......

可能是什么原因？？？

我的搜索组件是：

```
<searchComponent name="spellcheck" class="solr.SpellCheckComponent">

    <str name="queryAnalyzerFieldType">string</str>
<lst name="spellchecker"> 
      <str name="name">default</str>
      <str name="classname">org.apache.solr.spelling.suggest.Suggester</str>
      <str name="lookupImpl">org.apache.solr.spelling.suggest.tst.TSTLookup</str>
      <str name="spellcheckIndexDir">f:/spellchecker</str>
      <str name="field">Name</str>
      <str name="sourceLocation"></str>
      <float name="threshold">0.005</float>
      <str name="buildOnCommit">true</str>
</lst>
</searchComponent> 
```

请求网址：

```
http://localhost:8983/solr/core-live/select/?spellcheck=true&spellcheck.q=dell&spellcheck.dictionary=default&spellcheck.count=10&spellcheck.onlyMorePopular=false 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T13:43:15.550

基于Solr 3.6.1 发行版附带的[示例 solrconfig.xml](http://svn.apache.org/viewvc/lucene/dev/branches/lucene_solr_3_6/solr/example/solr/conf/solrconfig.xml?view=markup)`spellcheck`中的组件设置；如果您想从索引中获取术语来源，我会完全删除配置。作为基本示例，仅当想要从外部文件读取建议列表时才显示该设置的使用。也许此设置的行为已更改，并且 Solr Wiki 上的文档需要更新。`<sourceLocation>``<sourceLocation>`

# ios - 在 Xcode 4.x 中编译大型源文件（10k+ 行）

> ID：12454971
> 
> 赞同：3
> 
> 时间：2012-09-17T07:40:55.257
> 
> 标签：ios, xcode, macos, compilation, clang

我有一些源文件，每个源文件从 20,000 行到 120,000 行不等。它们由简单的（非常长的）函数组成，只是对 C 方法的一长串调用（在 Apple 的 API 中 - 例如 Quartz），并且应该易于编译。

但是，Xcode 需要数小时来编译它们，并且每次 xcodeproj 文件更改时（xcode 错误？）似乎都会强制重新编译。此外，执行存档（用于上传到 App Store）无论如何都会导致完全重新编译。

这些文件太长了——它们是代码生成工具的输出——我*最终*可能会让它们更小——但肯定有办法让 clang 在这种长度的文件上正常工作吗？

我尝试过的事情：

1.  在 32 位模式下运行 - 不可能：Apple 现在已删除此功能[https://stackoverflow.com/a/9791396/153422](https://stackoverflow.com/a/9791396/153422)
2.  添加更多 CPU / 内核 - 可忽略的影响：clang 在大多数操作中是单线程的
3.  添加更多 RAM - 影响可忽略：8 GB RAM 并不明显优于 2 GB RAM（不足为奇：它只是一个文件 - 不太可能会用完大量内存！）
4.  添加 SSD 驱动器 - 小影响：CPU + SSD 稍慢的笔记本电脑的编译速度比 CPU + 普通 HD 稍快的台式机稍快（10%？）
5.  禁用 SVG/GIT 集成 - 没有效果：Apple 的 SVN 实现非常有问题，我们已经将其关闭 - 对于所有项目。
6.  禁用 OS X 索引 - 小影响：Apple 的 Spotlight / 背景索引在很多方面都被破坏了。关闭它会使构建时间更快一些 - 但可能是因为它通常会使 Xcode 更快。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T08:02:57.827

可能的方法：

*   [使用pbxbuild](https://github.com/gnustep/gnustep-pbxbuild)将项目转换为使用 makefile
*   `gmake`使用选项调用`-j [n]`（尝试一个好的 n）

优点：

*   没有 xcodeproj 文件更改
*   并行编译的使用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T07:43:53.107

如果您要生成非常长的函数（数千行），您可能需要考虑将它们拆分为多个较小的函数。

您也可以尝试将优化级别设置为 -O0 或 -O1。

[另外，请在http://bugreporter.apple.com](http://bugreporter.apple.com)提交报告。

# c# - 如果使用 Gmail，OpenPop.Net 会收到错误的消息计数

> ID：12454973
> 
> 赞同：0
> 
> 时间：2012-09-17T07:41:00.340
> 
> 标签：c#, .net, pop3, openpop

*如果使用 OpenPop.Net 访问 gmail，我无法获得正确的消息计数。它与 hotmail 完美配合，提供我收件箱中的正确电子邮件数量*

```
pop3Client.Connect(popServerTextBox.Text, int.Parse(portTextBox.Text), useSslCheckBox.Checked);
pop3Client.Authenticate(loginTextBox.Text, passwordTextBox.Text,OpenPop.Pop3.AuthenticationMethod.UsernameAndPassword);
int count = pop3Client.GetMessageCount(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:44:27.190

邮箱是不同的。他们有一个有趣的 POP3 服务器实现。基本上，他们试图只向您显示您以前从未见过的消息。

看看[当 Gmail 以编程方式用作 POP3 服务器时，它表现出哪些非标准行为特性？](https://stackoverflow.com/questions/4530781/what-non-standard-behaviour-features-does-gmail-exhibit-when-it-is-programmatic)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T08:47:14.233

这是 gmail pop3 服务器的一个功能。默认情况下，您只能接收未读消息。这意味着，如果您或其他人已经下载过某条消息，将无法再通过 pop3 协议接收该消息。

为避免这种情况，您必须配置您的 gmail 帐户。在 gmail 设置的“转发和 POP/IMAP”部分中选中“为所有邮件（已下载的事件邮件）启用 POP”。

截图：http: [//i.stack.imgur.com/UE7ip.png](https://i.stack.imgur.com/UE7ip.png)

来源：[GetMessageCount() 返回 0（零）](https://stackoverflow.com/questions/11284946/openpop-gmail-getmessagecount-returns-0-zero-mvc3-asp-net)

# c - 无法理解 C 中 asprintf() 函数的参数之一

> ID：12454975
> 
> 赞同：0
> 
> 时间：2012-09-17T07:41:03.820
> 
> 标签：c, function

我实际上是在破解一部分代码以使其对我的目的有用，但我无法得到这个语句的确切作用：

```
 asprintf(&buffr, "%.*s", packet_length, in + 8); 
```

“%.*s”具体是什么意思？？使用 asprintf() 函数是否安全？或者出于相同目的使用 snprintf() 函数会更好更可靠？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T07:42:39.407

格式说明符`"%.*s"`用于从参数打印特定数量的字符`char*`（避免空终止的要求）。在这种情况下，`packet_length`字符将从 打印`in + 8`。

来自[man asprintf()](http://linux.die.net/man/3/asprintf)：

> 函数 asprintf() 和 vasprintf() 是 sprintf(3) 和 vsprintf(3) 的类似物，不同之**处在于它们分配了一个足够大的字符串来保存包括终止空字节在内的输出**，并通过第一个参数返回指向它的指针. 这个指针应该被传递给 free(3) 以在不再需要时释放分配的存储空间。

它在缓冲区溢出的意义上是安全的，但它是一个非标准函数（从链接的页面来看，它是一个 GNU 扩展）。`asprintf()`在已发布代码的上下文中，在调用之前已知缓冲区的大小，这`asprintf()`为程序员提供了便利，因为它避免了 a `malloc()`（这是避免猜测要填充的缓冲区的最大大小所必需的） .

如果便携性不是必需的，那么就`snprintf()`没有什么额外的了`asprintf()`，而且`asprintf()`使用起来更方便。

~~由于这是标记为 C++，您可以使用 a[`std::string`](http://en.cppreference.com/w/cpp/string/basic_string)代替：~~

 ~~```
#include <string>

std::string s(in + 8, packet_length); 
```~~ 

~~并`std::string::c_str()`在确实需要时使用。这避免了必须手动`free()`生成由`asprintf()`.~~

# javascript - 使用 AjaxUpload 创建的上传按钮行为奇怪

> ID：12454978
> 
> 赞同：0
> 
> 时间：2012-09-17T07:41:29.020
> 
> 标签：javascript, jquery, ajax-upload

这个问题与其他问题有点不同。我遇到了与[jQuery AjaxUpload 类似的问题，必须单击两次按钮吗？](https://stackoverflow.com/questions/2134762/jquery-ajaxupload-have-to-click-button-twice)但我设法用我的解决方法解决了这个问题。按钮来得很完美。但现在的问题是，当我从按钮的顶部或左侧拖动鼠标后单击该按钮时，它不起作用，但如果我从另一侧拖动鼠标，它工作正常。简而言之，当从顶部到达该按钮时，按钮会悬停，而不是 ajax 上传创建的隐藏文件选择器。

![而不是从顶部将鼠标放在该按钮上](../Images/08da52cacdc61fcbdfcc74528ad9aa53.png)

![从顶部或左侧移动该按钮时](../Images/13a9a037cf7869ea0876ad19790bc6ed.png)

在第一张图片中，我从按钮的一侧拿了鼠标指针，然后我可以选择文件。但如其他图像所示，我从按钮顶部取出鼠标指针，按钮悬停。

这是我的按钮代码：

```
<input type="button" value="Upload Image" class="imgUploadBtn" /> 
```

我的 JS 片段：

```
function uploadAndGetImgUrl(tsource,status) {
    new AjaxUpload(tsource,{
        action: 'imageUpload.php',
        name: 'uploadfile',
        data: {},
        onSubmit: function(file, ext){
                if (! (ext && /^(jpg|png|jpeg|gif)$/.test(ext))){
                    // extension is not allowed
                    status.text('Only Images are Allowed');
                    return false;
                }
                status.text('Uploading...');
        },
        onComplete: function(file, response){
            //On completion clear the status
            status.text('');
            $('#idSpclImgLink').val(response);
            $('#idImgLink').val(response);
        }
    });
}

$(document).live("imgAttach",function() {
    alert("Want something Added");
    uploadAndGetImgUrl($('.imgUploadBtn'),$('#idStatus'));
}); 
```

我检查了 ajaxupload.3.5.js，但发现它在悬停时做了一些处理，并使用左和上偏移来保持悬停效果。但我还不能解决这个问题。知道为什么会这样吗？

PS：我用铬。我还检查了 Firefox 和相同的行为。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T08:34:58.037

打开ajaxupload的插件文件..

在定义 mousemove 事件处理程序的函数中，找到注释： // mouse left the button

将下一行更新为 over = true;

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:21:52.203

不完全是一般问题的解决方案，但就我而言，我只是更改了 2 行并适用于我的场景。

将行号 368 和 369 更改为

```
if ((c.x >= box.left-5) && (c.x <= box.right) && 
        (c.y >= box.top-10) && (c.y <= box.bottom)){ 
```

它显然会起作用。

# django - 免费django应用部署

> ID：12454980
> 
> 赞同：0
> 
> 时间：2012-09-17T07:41:36.207
> 
> 标签：django, deployment

是否有 python/django 应用程序的免费部署主机。我有一些个人和圈子相关的应用程序，我想免费部署该应用程序并将其与我们的圈子一起使用。这可能吗？

请任何人就此提出建议。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-17T07:49:55.767

您可以在[沙盒模式下使用](https://www.dotcloud.com/pricing.html)[dotcloud](https://www.dotcloud.com/)或[heroku](http://www.heroku.com/)（在免费配额中您将被限制为 10,000 个数据库行）

# jsf - 使用 POST 将用户重定向到 Instagram 登录

> ID：12454981
> 
> 赞同：0
> 
> 时间：2012-09-17T07:41:37.110
> 
> 标签：jsf, post, jsf-2, primefaces, instagram

我正在一个处理 Instagram 图片的网站上工作。

我必须将用户引导到 Instagram 登录页面进行验证。这个过程需要我的网站在 URL 中发送几个参数，用于授权。格式如下。

**来自 instagram 文档 -**

```
https://api.instagram.com/oauth/authorize/?client_id=CLIENT-ID&redirect_uri=REDIRECT-URI&response_type=code 
```

当我使用 GET 请求访问 Instagram URL 时，它工作正常。但现在我想从 URL 中隐藏这些值，并对用户隐藏它。

所以我决定编写一个 JSF 页面，在 windows.onload 上将表单参数提交为隐藏并点击 Instagram URL。这样我可以隐藏参数。

**JSF 页面**

```
<h:body>

        <h:form  prependId="false">
            <h:inputHidden id="client_id" value="#{applicationBean.instagramClientID}" /><br/>
            <h:inputHidden id="redirect_uri" value="#{applicationBean.instagramRedirectUrl}" /><br/>
            <h:inputHidden id="response_type" value="code" />
        </h:form>

        <script type="text/javascript">
            window.onload = function submitPage() {
                document.forms[0].action="#{applicationBean.instagramAuthUrl}";
                document.forms[0].submit();
            }
        </script>
    </h:body> 
```

但这从 instagram 方面失败，给出代码错误 400。

```
{"code": 400, "error_type": "OAuthException", "error_message": "You must include a valid client_id, response_type, and redirect_uri parameters"} 
```

我检查了这些值，它们似乎都很好。我唯一注意到的是一个“form-id”也被传递了。我认为这会导致授权失败，因为我只需要发送特定的参数。如果为真，我该如何使用 POST 请求来克服这个问题？

或者我在我的 POST 请求中做错了什么？

提前致谢。

*环境：Java 1.6，JSF 2*

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-27T15:34:48.780

尝试传递这些硬编码的值并发布结果。

# mysql - 建立基于 SUM 的每日记录

> ID：12454983
> 
> 赞同：1
> 
> 时间：2012-09-17T07:41:56.583
> 
> 标签：mysql

我在构建聚合函数时遇到问题。这是我的问题：

我有一张这样的桌子

```
 id action day         isSum difference
 1  ping   2012-01-01  1     500         (this is the sum of the differences from last year)
 2  ping   2012-01-01  0     -2
 3  ping   2012-01-02  0      1
 4  ping   2012-01-03  0     -4
 5  ping   2012-01-04  0     -2
 6  ping   2012-01-05  0      3
 7  ping   2012-01-06  0      2
 8  ping   2012-01-01  1      0         (this is the sum of the differences from last year, now for pong)
 9  pong   2012-01-01  0     -5
 10  pong   2012-01-02  0      2
 11  pong   2012-01-03  0     -2
 12  pong   2012-01-04  0     -8
 13  pong   2012-01-05  0      3
 14  pong   2012-01-06  0      4 
```

我现在需要为每一天选择动作、日期和自 01-01 以来的汇总差异，以便我的结果如下所示

```
action day        total      
ping   2012-01-01 498
ping   2012-01-02 499
ping   2012-01-03 495
ping   2012-01-04 493
ping   2012-01-05 496
ping   2012-01-06 498
pong   2012-01-01 - 5
pong   2012-01-02 - 3
pong   2012-01-03 - 5
pong   2012-01-04 -13
pong   2012-01-05 -10
pong   2012-01-06 - 6 
```

我怎样才能做到这一点？

有很多数据集（**~100 万**），所以查询需要非常便宜。我不知道如何根据操作列使用 sum 来获取每日记录的每日总和。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T08:45:10.607

您需要使用[SUBQUERY](http://dev.mysql.com/doc/refman/5.0/en/subqueries.html)来获取总字段。

```
select action, day, 
 (select sum(difference) from x 
   where action = t2.action and day <= t2.day 
   group by action) as total
from x t2 group by action ,day 
```

在[SQLFIDDLE上查看](http://sqlfiddle.com/#!2/b56d0/42)

# gwt - gwt modal popuppanel 阻止 iframe 事件

> ID：12454986
> 
> 赞同：0
> 
> 时间：2012-09-17T07:42:01.987
> 
> 标签：gwt

我有一个带有简单“请稍候”机制的 GWT 应用程序。当我按下按钮发送 RPC 调用时，我会在屏幕上显示一个模式弹出对话框，该对话框会阻止用户交互，直到 RPC 返回。像这样，我防止用户多次单击按钮并发送多个 RPC。这非常有效，除非在加载 IFrame 时。在这种情况下，我安装在 iframe 上的 loadhandler 永远不会被调用。

```
/**
 * Test class
 */
public class Test implements EntryPoint {

    /**
     * This is the entry point method.
     */
    @Override
    public void onModuleLoad() {
        final PopupPanel popup = new PopupPanel(false, true);
        popup.add(new Label("Please wait"));
        popup.center();

        final Frame frame = new Frame("http://www.google.com");
        frame.addLoadHandler(new LoadHandler() {
            @Override
            public void onLoad(LoadEvent event) {
                Window.alert("Event received");
                popup.hide();
            }
        });

        RootPanel.get().add(frame);
    }
} 
```

但是，如果我构造一个 PopupPanel(false, false)，则会触发 LoadEvent。注意：这只发生在编译模式下，不会出现在 GWT 开发模式下。

有人有线索吗？

先感谢您，

麦克风

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T08:14:45.193

不要使用`modal`弹出窗口，它有[各种各样的问题](http://code.google.com/p/google-web-toolkit/issues/detail?id=6455)。更喜欢显示玻璃面板 ( `setGlassEnabled`)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T13:53:58.547

模态窗口防止各种事件以确保模态。在这种情况下，您需要找到解决方法。

我建议禁用单击按钮并在 rpc 成功或失败时启用它。

如果您需要一次全部禁用它们，那么您很可能需要实现自己的事件，在事件总线中注册它们并根据您的需要处理它们。

# c# - 我想使用 oleDB 选择命令从具有多字列名称的 Excel 工作表中选择列？

> ID：12454987
> 
> 赞同：0
> 
> 时间：2012-09-17T07:42:04.153
> 
> 标签：c#, oledb, oledbdataadapter

这是我的代码

```
OleDbCommand cmdExcel = new OleDbCommand();
OleDbDataAdapter oda = new OleDbDataAdapter();
DataTable dtable = new DataTable();
cmdExcel.CommandText = SELECT Name,EmailID,PhoneNumber  From [Sheet1$]
oda.SelectCommand = cmdExcel;
oda.Fill(dtable); 
```

这个工作正常但是

SELECT Name,EmailID,Phone Number From [Sheet1$] ... 不工作

我正在尝试使用 [Sheet1$] 中的 SELECT "Name","EmailID","Phone Number" 但无法正常工作...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T07:47:16.280

尝试这个

```
 cmdExcel.CommandText = "SELECT Name,EmailID,PhoneNumber AS [Phone Number]  
  FROM [Sheet1$]"; 
```

或者

```
 cmdExcel.CommandText = "SELECT Name,EmailID,[Phone Number] AS PhoneNumber  
   FROM [Sheet1$]"; 
```

# php - 包装 mongoDB 和 mysql

> ID：12454991
> 
> 赞同：1
> 
> 时间：2012-09-17T07:42:26.470
> 
> 标签：php, mysql, mongodb, architecture, uml

是否可以使用一个抽象类来使用我的 mongoDB 类和 mysql 类。因为，在 mysql 中，我们可以在一个函数中执行插入、更新和删除语句，但 mongodb 我们不能。

或者他们应该有单独的数据库抽象层

```
 // I can pass INSERT,UPDATE and DELETE query to this function but for monbodb I cannot 
mysql 
public function doNonQuery($sql){
        mysql_query($sql);
}

mongoDB
public function insert($tableName,$query){
    $collection = new MongoCollection($db,$tableName);
    $a  = $query
    $collection->insert($a);
}

public function update($tableName,$query){
    $collection = new MongoCollection($db,$tableName);
    $a  = $query
    $collection->update($a);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T16:58:23.267

您没有在正确的抽象级别上思考。与其尝试抽象插入、更新和删除*操作*（这是您的代码示例所做的），不如考虑*抽象您的域*。这将让您想出一个界面，您可以在其中插入、更新和删除对象。例如：

```
interface IDatabaseCollection<T> where T : IDatabaseEntity
{
    void Insert(T item);
    void Update(T item);
    void Delete(T item);
} 
```

现在您可以实现一个 SQLDatabaseCollection 和一个 MongoDatabaseCollection，它们都实现了 IDatabaseCollection。

上面是一个基本的例子，当然还有很多其他的方法可以做到。但这是您在处理抽象时需要开始思考的方向。

简而言之，您的抽象太低级，您需要**提升**它以使其成为更高级别的抽象。

# python - Django 在多个 OR 查询中查找匹配的字段

> ID：12454997
> 
> 赞同：2
> 
> 时间：2012-09-17T07:42:49.823
> 
> 标签：python, django, model, foreign-keys

我有几个模型设置如下：

```
class Bar(models.Model):
  baz = models.CharField()

class Foo(models.Model):
  bar1 = models.ForeignKey(Bar)
  bar2 = models.ForeignKey(Bar)
  bar3 = models.ForeignKey(Bar) 
```

在代码的其他地方，我最终得到了一个 Bar 的实例，并且需要找到它以某种能力附加到的 Foo。现在我想出了使用 Q 进行多重 OR 查询，如下所示：

```
foo_inst = Foo.objects.get(Q(bar1=bar_inst) | Q(bar2=bar_inst) | Q(bar3=bar_inst)) 
```

我需要弄清楚的是，这 3 个案例中的哪一个实际命中，至少是成员的名称（bar1、bar2 或 bar3）。有没有好的方法来做到这一点？有没有更好的方法来构建查询以收集该信息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T08:08:54.430

```
try:
    Foo.objects.get(bar1=bar_inst)
    print 'bar1'
except Foo.DoesNotExist:
    try:
        Foo.objects.get(bar2=bar_inst)
        print 'bar2'
    except Foo.DoesNotExist:
        try:
           Foo.objects.get(bar3=bar_inst)
           print 'bar3'
        except Foo.DoesNotExist:
           print 'nothing found' 
```

还可以考虑将[related_name](https://docs.djangoproject.com/en/dev/ref/models/fields/#django.db.models.ForeignKey.related_name)添加到模型的所有条形字段中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T08:10:39.233

您可以进行更改并使用`ChoiceField`?

```
BAR_VERSIONS = (
    ('Bar 1', 'bar1'),
    ('Bar 2', 'bar2'),
    ('Bar 3', 'bar3'),
)

class Bar(models.Model):
  baz = models.CharField()

class Foo(models.Model):
  bar = models.ForeignKey(Bar)
  bar_version = models.ChoiceField(choices=BAR_VERSIONS) 
```

然后：

```
try:
    foo_instance = Foo.objects.get(bar=bar_instance)
except Foo.DoesNotExist:
    # Handle Exception
    pass
else:
    print(foo_instance.bar_version) 
```

**更新：** 根据您的评论，由于想法是设置 none 或 all `bar`s ，您仍然可以使用这种方法，但使用`ManyToManyField`带有`through`参数的 a 。`bar4`如果您想添加-`barn`而不是扩展您的 try-except 瀑布，这将使它在未来变得更好和可扩展。

[https://docs.djangoproject.com/en/dev/topics/db/models/#intermediary-manytomany](https://docs.djangoproject.com/en/dev/topics/db/models/#intermediary-manytomany)

```
class Bar(models.Model):
  baz = models.CharField()

class Foo(models.Model):
  bars = models.ManyToManyField(bar, through='FooBars')

class FooBars(models.Model):
  foor = models.ForeignKey(Foo)
  bar = models.ForeignKey(Bar)
  bar_version = models.ChoiceField(choices=BAR_VERSIONS) 
```