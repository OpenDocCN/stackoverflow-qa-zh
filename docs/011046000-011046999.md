# StackOverflow 问答 11046000-11046999

# unix - UNIX2DOS 功能

> ID：11046000
> 
> 赞同：0
> 
> 时间：2012-06-15T06:59:07.723
> 
> 标签：unix

> /bin/ksh -c "cat $PMSourceFileDir/RT/TgtFiles/$OutputFileStrPerfHdr $PMSourceFileDir/RT/TgtFiles/$OutputFileStrPerfCSV | unix2dos -437 > $PMRootDir/RT/Temp/$OutputFileStrPerfCSV"

我在 IBM 企业服务器中工作，找不到 unix2dos 命令。您能否提供 unix2dos 功能的替代方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T07:04:18.520

你应该能够使用 awk 或 perl 来做类似的事情：

```
awk 'sub("$", "\r")' 
```

或者

```
perl -p -e 's/\n/\r\n/' 
```

哦，如果你需要的话，还有这个：

```
recode latin1..ibmpc 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-05-11T20:58:42.087

或者，作为纯 shell 方法：

```
while IFS= read -r line; do printf '%s\r\n' "$line"; done <in >out 
```

# python - 有什么方法可以解决 pydev 的 PEP-8 问题？

> ID：11046001
> 
> 赞同：5
> 
> 时间：2012-06-15T06:59:10.377
> 
> 标签：python, pydev

我想知道是否有任何方法可以使用 eclipse-pydev 中的键盘快捷键自动修复所有 PEP-8 问题。谷歌搜索没有让我到任何地方。

既然 Pydev 可以检测到 PEP-8 问题，难道不能自动修复它们吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-25T15:20:44.530

`Ctrl`您可以使用++手动激活 PyDev 代码格式化程序（首选项位于： Window `Shift`> *Preferences > PyDev > Editor > Code Style > Code Formatter* - 请注意，您可以将其配置为在*Window > Preferences > PyDev > Editor > Save下自动运行**行动*）。`F`

 **请注意，内部 PyDev 代码格式化程序非常保守，不会执行 100% 兼容的 PEP8 代码所需的所有转换（尽管它处理更常见的情况），因此，如果它不足以满足您的需求，您有一些选择：

1.  您可以使用`autopep8.py`or`black`在最新版本中默认集成到 PyDev 中（通过*Window > Preferences > PyDev > Editor > Code Style > Code Formatter > Formatter Style? 启用？*然后选择 `autopep8`or `black`）。

2.  您可以查看 PythonTidy（外部工具）...可以按照以下定义使用它：http: [//bear330.wordpress.com/2007/10/30/using-pythontidy-in-pydev-as-code -格式化程序/](http://bear330.wordpress.com/2007/10/30/using-pythontidy-in-pydev-as-code-formatter/)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-09-26T13:57:31.573

我制作了一个脚本，可以在 pydev 中使用 autopep8 作为代码格式化程序，并且可以对其进行自定义以满足您团队的编码标准。

如果您想使用它，请将此代码保存为 pyedit_autopep8.py（需要 pyedit_XXXX.py）。您还必须安装 python 包 pep8 和 autopep8。

接下来，转到 eclipse pydev 首选项页面（位于：window > preferences > pydev > scripting pydev）以指定脚本位置：

现在，为了调用 autopep8，您只需在 eclipse 中编辑 python 代码时按 Ctrl+Shift+F。还支持格式化所选文本！

```
"""
By Per A. Brodtkorb
based on pyedit_pythontidy.py by Bear Huang (http://bear330.wordpress.com/).

This code is public domain.
"""

import tempfile
import os

if False:
    from org.python.pydev.editor import PyEdit  # @UnresolvedImport
    cmd = 'command string'
    editor = PyEdit

assert cmd is not None
assert editor is not None

if cmd == 'onCreateActions':
    from org.python.pydev.editor.actions import PyAction
    from org.python.pydev.core.docutils import PySelection
    from java.lang import Runnable
    from org.eclipse.swt.widgets import Display
    from java.io import FileWriter
    import java.lang.Exception

    FORMAT_ACTION_DEFINITION_ID = "org.python.pydev.editor.actions.pyFormatStd"
    FORMAT_ACTION_ID = "org.python.pydev.editor.actions.navigation.pyFormatStd"

    class Autopep8Action(PyAction):
        def _autopep8(self, text):
            tmp_full_file_name = tempfile.mktemp()
            f1 = FileWriter(tmp_full_file_name)
            f1.write(text)
            f1.close()
            os.system('autopep8-script.py -i "%s"' % (tmp_full_file_name))
            f2 = open(tmp_full_file_name, "r")
            tidy_text = f2.read()
            f2.close()
            os.remove(tmp_full_file_name)
            return tidy_text

        def _get_text(self, selection):
            text = selection.getSelectedText()
            format_all = len(text) == 0
            if format_all:
                print "Autopep8: format all."
                text = selection.getDoc().get()
                text_offset = 0
            else:
                print "Autopep8: Format selected."
                text_offset = selection.getAbsoluteCursorOffset()
            return text, text_offset

        def run(self):
            try:
                selection = PySelection(editor)

                text, text_offset = self._get_text(selection)
                tidy_text = self._autopep8(text)

                if len(text)==len(tidy_text):
                    print "Autopep8: Nothing todo!"
                else:
                    doc = selection.getDoc()
                    doc.replace(text_offset, len(text), tidy_text)

            except java.lang.Exception, e:
                self.beep(e)

    def bindInInterface():
        act = Autopep8Action()
        act.setActionDefinitionId(FORMAT_ACTION_DEFINITION_ID)
        act.setId(FORMAT_ACTION_ID)
        try:
            editor.setAction(FORMAT_ACTION_ID, act)
        except:
            pass

    class RunInUi(Runnable):

        '''Helper class that implements a Runnable (just so that we
        can pass it to the Java side). It simply calls some callable.
        '''

        def __init__(self, c):
            self.callable = c

        def run(self):
            self.callable()

    def runInUi(callable):
        '''
        @param callable: the callable that will be run in the UI
        '''
        Display.getDefault().asyncExec(RunInUi(callable))

    runInUi(bindInInterface) 
```**

# oracle - 休眠限制 API to_char() 函数

> ID：11046004
> 
> 赞同：0
> 
> 时间：2012-06-15T06:59:19.753
> 
> 标签：oracle, hibernate

大家好，我有一个这样的 SQL 查询：

```
SELECT * FROM PEOPLE P WHERE to_char(P.BIRTH_DATE,'DD/MM/YYYY') = '01/06/2012' 
```

我想通过 Hibernate Restrictions API 运行这个查询。我认为以下内容不会做同样的工作：

```
Restrictions.eq(People.PROP_BIRTH_DATE, Calendar.getInstance()) 
```

如何创建这样的限制？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:20:01.247

```
java.sql.Date date = java.sql.Date.valueOf("2012-06-01");
criteria.add(Restrictions.eq(People.PROP_BIRTH_DATE, date)); 
```

或者

```
DateFormat df = new SimpleDateFormat("dd/MM/yyyy");
Date date = df.parse("01/06/2012");
criteria.add(Restrictions.eq(People.PROP_BIRTH_DATE, date)); 
```

以上假设出生日期存储为数据库中的日期，而不是时间戳。如果数据库中的出生日期是时间戳，因此具有时间部分，那么可移植的方法是：

```
DateFormat df = new SimpleDateFormat("dd/MM/yyyy");
Date begin = df.parse("01/06/2012");
Calendar endCalendar = Calendar.getInstance();
endCalendar.setTime(date);
endCalendar.add(Calendar.DATE, 1);
criteria.add(Restrictions.ge(People.PROP_BIRTH_DATE, begin));
criteria.add(Restrictions.lt(People.PROP_BIRTH_DATE, endCalendar.getTime())); 
```

# ruby-on-rails - 如何创建没有关联视图的路由？

> ID：11046009
> 
> 赞同：0
> 
> 时间：2012-06-15T06:59:50.393
> 
> 标签：ruby-on-rails, rest, ruby-on-rails-3.2, rails-routing

我想创建一条路线，例如

```
get '/referrals/send_invite/:email_address' 
```

我将通过`remote: true`和调用这条路线`GET`。但是，如果我在浏览器中发出 GET 请求，路由仍会尝试查找视图，从而导致我：

```
Template is missing 
```

有没有一种方法可以告诉 rails 中的`send_invite`方法`Referrals Controller`没有关联的视图？

我希望这可以通过使用 rails 路线来完成。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T07:33:58.703

不完全确定，但我猜你想开始行动`send_invite`，所以你对实际结果不感兴趣，对吗？

你可以做类似的事情

```
def send_invite
  SomeMailer.mail(:email => params[:email_address])
  # or queue it or whatever
  head :ok
end 
```

请注意，这不是唯一的选择，您还可以执行类似的操作

```
render :text => "The mail has been sent to #{params[:email_address]}" 
```

或者

```
render :json => {:result => 'ok', :email_adress => params[:email_address]} 
```

还要注意这应该是一个 POST，因为这个动作不是幂等的（GET 不应该有副作用）。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:26:46.877

您的模板丢失很可能是由于没有`sendinvite.js.erb`. 试着在你的里面放一个空白的`view folder`，看看能解决什么问题。

# javascript - 用 Javascript 打开网络摄像头

> ID：11046013
> 
> 赞同：2
> 
> 时间：2012-06-15T07:00:01.207
> 
> 标签：javascript, jquery, webcam

我只想知道如何在 Js 中打开 webCam，但**我不想要任何指向 API 或其他库的链接，**因为我总是自己编写代码但找不到路。我只想要一两行代码关于如何使用 js 打开网络摄像头并希望对其工作方式、在哪个浏览器中工作进行一些描述。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-07-02T18:32:57.967

[我推荐你使用像ScriptCam](http://www.scriptcam.com/)这样的第三方库，但是由于你声明你想编写你自己的代码，我将解释如何使用新的用户媒体 API。

它是与 W3C 工作草案[HTML 媒体捕获](http://www.w3.org/TR/2010/WD-html-media-capture-20100928/)一起引入的，带有`getUserMedia()`. 以下浏览器实验性地支持它：

*   铬合金
*   歌剧

在 Chrome 18 或更高版本中，可以启用 API 访问该`about:flags`站点。

![在 Chrome 的 about:flags 页面中启用 getUserMedia()。](../Images/676da2b7f5ec79caa29d758cedcae1f7.png)

在 Opera 中，您必须下载一个实验性的[Android 或桌面版本](http://dev.opera.com/articles/view/labs-more-fun-using-the-web-with-getusermedia-and-native-pages/)。

* * *

在 HTML 中，您将需要使用`video`Element

```
<video id="basic-stream" class="videostream" autoplay=""></video> 
```

首先需要设置权限：

```
navigator.getUserMedia({video: true, audio: true}, function(localMediaStream) {
  var video = document.querySelector('video');
  video.src = window.URL.createObjectURL(localMediaStream);

  // Note: onloadedmetadata doesn't fire in Chrome when using it with getUserMedia.
  // See crbug.com/110938.
  video.onloadedmetadata = function(e) {
  // Ready to go. Do some stuff.
  };
}, onFailSoHard); 
```

如果您想要在 Chrome 和 Opera 中运行的代码，以下代码示例应该可以完成工作：

```
navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia;

var video = document.querySelector('video');

if (navigator.getUserMedia) {
  navigator.getUserMedia({audio: true, video: true}, function(stream) {
    if (navigator.webkitGetUserMedia) {
      video.src = window.webkitURL.createObjectURL(stream);
    } else {
      video.src = stream; // Opera
    }
  }, onFailSoHard);
} else {
  video.src = 'somevideo.webm'; // fallback.
} 
```

可以通过以下方式检查 API 是否可用：

```
function hasGetUserMedia() {
   // Note: Opera builds are unprefixed.
   return !!(navigator.getUserMedia || navigator.webkitGetUserMedia ||
        navigator.mozGetUserMedia || navigator.msGetUserMedia);
} 
```

更多信息可以在教程[Capturing Audio & Video in HTML中找到](http://www.html5rocks.com/en/tutorials/getusermedia/intro/)

供应商前缀可能会引起语法问题，因此请注意它们。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-02T12:12:23.013

它很新，但它的工作原理：

[http://www.scriptcam.com/](http://www.scriptcam.com/)

[https://stackoverflow.com/questions/3922723/using-a-webcam-with-javascript](https://stackoverflow.com/questions/3922723/using-a-webcam-with-javascript)

[http://chemicaloliver.net/internet/getusermedia-the-new-api-webcam-in-browser-using-javascript-and-html5-video/](http://chemicaloliver.net/internet/getusermedia-the-new-api-webcam-in-browser-using-javascript-and-html5-video/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-02T12:14:56.180

需要 Opera Mobile 12。如果添加 webkit 前缀，它应该也可以在 Chrome 21 中使用。

```
if(navigator.getUserMedia) {
  navigator.getUserMedia('video', successCallback, errorCallback);
} 
```

请参阅[文档](http://my.opera.com/core/blog/2011/03/23/webcam-orientation-preview)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-02T12:18:56.630

这就是所谓的[HTML5 Media Capture API](http://www.w3.org/TR/2010/WD-html-media-capture-20100928/)。您将[在此处](http://www.html5rocks.com/en/tutorials/getusermedia/intro/)找到一些移动浏览器的示例代码。

# objective-c - 最后带有奇怪的不显示字符的钥匙串 kSecValueData

> ID：11046014
> 
> 赞同：0
> 
> 时间：2012-06-15T07:00:10.393
> 
> 标签：objective-c, ios, passwords, character, keychain

我一直在寻找解决此问题的方法，但似乎我是互联网上唯一遇到此类问题的人。

我正在使用 Apple 提供的钥匙串包装类来存储用户和密码，因为它应该被存储。当我想恢复用户价值时，就像这样做一样简单：

```
NSString *user = [keychain objectForKey:(id)kSecAttrAccount]; 
```

找回密码应该和用户名一样简单：

```
NSString *pass = [keychain objectForKey:(id)kSecValueData]; 
```

但在那之后，尝试使用 NSLog 打印它们，通过后控制台上没有显示任何内容。例如：

```
NSLog(@"user: <%@>, pass: <%@>, something after the pass", user, pass); 
```

这个 NSLog 的输出是：

```
user: <123456>, pass: <5433 
```

调用 [pass length] 总是给我一个大于 pass 实际长度的数字（在这个例子中，10，当我说它的长度实际上是 4）。

我不知道发生了什么。当我试图找到一个合适的解决方案时，我做了一个解决方法来解决这个问题（查看每个字符的整数值并只允许那些是数字、字母和一些符号的值）。

先感谢您！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-22T18:41:49.427

这里的问题是您试图将 CFDataRef 对象存储为 NSString 对象，然后使用 %@ 将其打印为字符串。它是一个数据对象，而不是一个字符串。如果您想将其视为字符串，则必须先将其转换为字符串。在尝试记录之前，请尝试以下代码将其转换为字符串：

```
NSData *passData = [keychain objectForKey:(id)kSecValueData];
NSString *pass = [[NSString alloc] initWithBytes:[passData bytes] length:[passData length] encoding:NSUTF8StringEncoding]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T08:14:27.377

kSecValueData 的类型为： typedef const void * CFTypeRef;

您不应该将其类型转换为 NSString。尝试像这样直接将其发布到 NSLog 中。

```
NSLog(@"user <%@> pass <%@>", [keychain objectForKey:(id)kSecAttrAccount], [keychain objectForKey:(id)kSecValueData]); 
```

祝你好运！

# android - Android：在活动之间传递值

> ID：11046015
> 
> 赞同：4
> 
> 时间：2012-06-15T07:00:16.527
> 
> 标签：android

在我的 Android 应用程序中，我必须对所有活动使用通用字符串值。“commonValue”是我想在所有活动中使用的通用字符串值。主要活动的相关代码如下：

```
public class TestActivity extends Activity {

 public String commonValue;//THE COMMON STRING FOR ALL ACTIVITIES

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    commonValue = "DemoValue";
  }
} 
```

在我的下一个活动中，我创建了一个“TestActivity”类的对象并尝试将“testValue”字符串分配给另一个名为“str”的字符串

```
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.testlist);

    TestActivity obj = new TestActivity();//OBJECT OF MAIN ACTIVITY
    String str = obj.commonValue;
 } 
```

但是第二个活动中的“str”值不等于我第一个活动中分配的值。为什么会这样？我该怎么做？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-15T07:06:22.590

把你的价值放在`string.xml`

```
 <string name="common_value">DemoValue</string> 
```

并在这样的任何活动中使用..

```
String common_value = getApplicationContext().getString(R.string.common_value); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-15T07:03:03.113

开始在您的应用中使用[SharedPreferences 。](http://developer.android.com/guide/topics/data/data-storage.html#pref)

在你的第一个活动中，你会做

```
SharedPreferences settings = getSharedPreferences(PREFS_NAME, 0);
SharedPreferences.Editor editor = settings.edit();
editor.putString("commonValue", "DemoValue");
editor.commit(); 
```

在你的第二个活动中

```
SharedPreferences settings = getSharedPreferences(PREFS_NAME, 0);
String str = settings.getString("commonValue", null); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-15T07:05:40.157

如果值始终相同，您可以创建一个`public static final`变量并通过 TestActivity.COMMON_VALUE 访问它。

如果你想在活动之间传递一个值，你应该使用[Intents](http://developer.android.com/reference/android/content/Intent.html)并添加一个带有你想要传递的值的额外值。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-15T07:07:21.187

尝试这个 -

**测试活动.java**

```
public class TestActivity extends Activity {

 public static String commonValue;//THE COMMON STRING FOR ALL ACTIVITIES

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    commonValue = "DemoValue";
  }
} 
```

另一项活动

```
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.testlist);

    String str = TestActivity.commonValue;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-15T07:06:16.770

正如 Sana 所建议的，使用 SharedPreferences。

或者，使用全局常量类。如果你想坚持你所拥有的，那么你可以尝试： `String str = TestActivity.this.commonValue;`

您现有的代码正在创建活动的新实例，因此它不会具有您设置的值。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-15T07:06:24.703

要在活动之间传递数据，请使用 Bundle。和方法，

```
intent.putExtra() 
```

如果您想将数据设置为应用程序的全局数据，请创建一个应用程序类，并将数据保存在那里。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-15T07:06:27.613

我们为每个应用程序都有一个应用程序文件，您可以在那里声明变量，因为应用程序文件可以从任何活动中获取，因此使用公共 getter 设置器并可以获取/设置它

[您可以在developer.android](http://developer.android.com/resources/faq/framework.html) [http://developer.android.com/resources/faq/framework.html](http://developer.android.com/resources/faq/framework.html)上提起诉讼

```
Singleton class
A public static field/method
A HashMap of WeakReferences to Objects (almost same as my above solution )
Persistent Objects 
```

也看看他们

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-06-15T07:06:51.390

commonValue 不等于您在 TestActivity onCreate 方法中设置的原因是因为尚未调用该函数。

其他人已经提到了解决方案。就像将价值放在捆绑中一样。

# java - 带别名的 HQL 查询

> ID：11046021
> 
> 赞同：1
> 
> 时间：2012-06-15T07:00:49.470
> 
> 标签：java, database, hql, aliases

我正在尝试使用别名执行 hql 查询

```
select **clbs.id as id**  
  from ClaimDO cl, ClaimBillSummaryDO clbs, HospitalDO h 
  where clbs.parentGuidObj.id=cl.id and h.id=cl.hospitalSeq and cl.id= '10721' 
```

我收到以下错误

```
org.hibernate.QueryException: , expected in SELECT 
```

但是，如果我删除别名，查询运行不会出错

```
select **clbs.id** 
  from ClaimDO cl, ClaimBillSummaryDO clbs, HospitalDO h
 where clbs.parentGuidObj.id=cl.id and h.id=cl.hospitalSeq and cl.id= '10721' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-16T01:06:19.343

你为什么不使用映射来加入你的实体？您不妨使用本机查询来执行此操作。HQL 看起来更像以下内容。我省略了 HospitalDO 加入，因为它看起来没有意义。

```
 select clbs.id from ClaimDO cl join cl.parentGuidObj clbs where cl.id = :id 
```

# javascript - 以编程方式（不是由用户）更改选择选项时，jQuery 脚本不起作用

> ID：11046023
> 
> 赞同：1
> 
> 时间：2012-06-15T07:00:54.183
> 
> 标签：javascript, jquery, triggers

我有这个工作正常的 jQuery 脚本：

```
$("select").change(function () {
          var finalPrice = 0;
          $("select option:selected").each(function () {
                if ($.cookie('descuentoGen') != null){  
                    finalPrice = Math.floor(precios[$(this).index()]*$.cookie('descuentoGen'));
                } else{
                    finalPrice = precios[$(this).index()];
                }
              });
          $("#precioFinal").text(finalPrice);
        })
        .trigger('change'); 
```

如您所见，当用户在`select`.

现在，在一个不同的脚本中，我称之为：

```
document.getElementById('selectFoods').selectedIndex = t; 
```

这可以正常工作，因为它实际上更改了选定的选项，问题是，为什么我以这种方式更改选定的选项，初始 jQuery 脚本中的操作没有执行。

有什么办法可以解决这个问题，还是我必须在另一个脚本中复制 jQuery 脚本行为？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-15T07:03:42.217

试试这个

```
$('#selectFoods').prop('selectedIndex', t).change(); 
```

**[演示](http://jsfiddle.net/QStkd/250/)**

使用`selectedIndex`不会触发更改事件。你必须自己触发它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-15T07:11:08.083

我认为您必须自己触发事件，因为我知道没有监听器可以跟踪每个选择框的 selectedIndex ，因此当 selectedIndex 更改时，js 引擎可以触发事件。也就是说，改变selectedIndex的是默认的**change()**行为，而不是相反。

# java - Jaxb Arraylist 输出流

> ID：11046025
> 
> 赞同：1
> 
> 时间：2012-06-15T07:01:30.610
> 
> 标签：java, jaxb

我的 Xml 应该如下所示：

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<results>
<version>1.0</version>
<status>ok</status>
<lastUpdate>2011-11-21 09:23:59.0</lastUpdate>
<total>2</total>
<row>
<areaId></areaId>
<nameEng></nameEng>
<nameGer></nameGer>
</row>
 … more <row></row> blocks …
</results> 
```

我怎样才能做到这一点..？目前我有以下内容..但我不知道如何将专辑2作为字符串返回到输出流...

```
List<Row> rows = new ArrayList<Row>();

        while(rs.next()){
            int albumId = rs.getInt(1);
            int bookDocId = rs.getInt(2);
            String picUrl = rs.getString(3);
            String descEng = rs.getString(4);
            String descGer = rs.getString(5);

            Row row = new Row();
            row.setAlbumId(albumId);
            row.setBookDocId(bookDocId);
            row.setPicUrl(picUrl);
            row.setDescEng(descEng);
            row.setDescGer(descGer);

            rows.add(row);
        }

        Album album = new Album();
        album.setRows(rows);

        File file = new File("album.xml");
        JAXB.marshal(album, file);

        Album album2 = JAXB.unmarshal(file, Album.class);

        file.deleteOnExit(); 
```

编辑：

```
@XmlRootElement
public class Album {

    private List<Row> rows = new ArrayList<Row>();

    @XmlElement(name="row")
    public List<Row> getRows(){
        return this.rows;
    }

    public void setRows(List<Row> rows){
        this.rows = rows;
    } 
```

行类：

```
public class Row {
    private int albumId;
    private int bookDocId;
    private String picUrl;
    private String descEng;
    private String descGer; 

    public int getAlbumId() {
        return albumId;
    }
    public int getBookDocId() {
        return bookDocId;
    }
    public String getPicUrl() {
        return picUrl;
    }
    public String getDescEng() {
        return descEng;
    }
    public String getDescGer() {
        return descGer;
    }
    public void setAlbumId(int albumId) {
        this.albumId = albumId;
    }
    public void setBookDocId(int bookDocId) {
        this.bookDocId = bookDocId;
    }
    public void setPicUrl(String picUrl) {
        this.picUrl = picUrl;
    }
    public void setDescEng(String descEng) {
        this.descEng = descEng;
    }
    public void setDescGer(String descGer) {
        this.descGer = descGer;
    }
}
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T07:42:28.237

这是我的代码，效果很好

```
@javax.xml.bind.annotation.XmlType
@javax.xml.bind.annotation.XmlAccessorType(javax.xml.bind.annotation.XmlAccessType.FIELD)
public class Album 
{
   long version;

   String status;

   java.util.List<Row> rows;

}  

@javax.xml.bind.annotation.XmlType
@javax.xml.bind.annotation.XmlAccessorType(javax.xml.bind.annotation.XmlAccessType.FIELD)
public class Row 
{
   String areaId;

   String nameEng;

   String nameGer;
} 
```

测试

```
public static void main(final String[] args) throws IOException
   {
      Album al = new Album();
      List<Row> rows = new ArrayList<Row>();
      final Row row1 = new Row();
      row1.areaId = "area1";
      row1.nameEng = "eng1";
      row1.nameGer = "ger1";
      final Row row2 = new Row();
      row2.areaId = "area2";
      row2.nameEng = "eng2";
      row2.nameGer = "ger2";
      rows.add(row2);
      rows.add(row1);
      al.status = "stat";
      al.rows = rows;
      final File file = new File("D:/test.xml");
      final FileOutputStream out = new FileOutputStream(file);

      JAXB.marshal(al, out);  

      final Album after = JAXB.unmarshal(file, Album.class);
      assert after.status.equals(al.status);
      assert after.rows.size() == al.rows.size();
   } 
```

您可以更改访问权限`private`并添加 getter、setter

返回喜欢`String`使用

```
 ByteArrayOutputStream output = new ByteArrayOutputStream();
  JAXB.marshal(al, output); 
  output.toString(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T07:30:51.170

如果您询问如何将专辑写入输出流而不是将其写入文件，那么答案很简单：[JAXB.marshal(Object, OutputStream)](http://docs.oracle.com/javase/6/docs/api/javax/xml/bind/JAXB.html#marshal%28java.lang.Object,%20java.io.OutputStream%29)。

如果您要问如何将专辑转换为 XML 字符串，那么答案也很简单：[JAXB.marshal(Object, String)](http://docs.oracle.com/javase/6/docs/api/javax/xml/bind/JAXB.html#marshal%28java.lang.Object,%20java.lang.String%29)。

如果您要问其他问题，请澄清您的问题。

# unit-testing - 使用团队构建和 psexec 进行部署 -> 集成测试错误

> ID：11046027
> 
> 赞同：0
> 
> 时间：2012-06-15T07:01:35.527
> 
> 标签：unit-testing, msbuild, exec, psexec

我有一个团队构建（升级模板、tfs2010、msbuild）编译和测试 WCF 服务。在针对它运行集成测试套件之前，我们使用 psexec 和 exec 任务在 Web 服务器上远程安装服务（wix 安装程序）。然而，有时我们的夜间构建会因编译错误而失败 - 只能看到前 1024 个字节，其中大部分是 css 样式。我试图用睡眠来延迟测试，认为这可能是由于长时间的 JIT。然而，所有 600 多个集成测试都失败了。在构建日志中，似乎带有 psexec 的 exec 任务按预期同步执行，并返回退出 0。有人能想出为什么不时发生这种情况的原因吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T23:41:31.790

这听起来不像是特定于 TFS、msbuild 或 psexec 的任何东西——听起来可能存在临时安装、配置或服务编码问题。CI 和集成测试的目的是获得有关您的流程的早期反馈，显然有些地方是错误的。诀窍是深入研究问题并排除问题所在。

Psexec 声称 WiX 部署进行得很顺利，但确实如此吗？所有文件都存在吗？以前的安装版本是否被正确删除，或者它们是否被正确升级？

所有 600 个测试都失败了，但测试不包含正确的堆栈跟踪 - 你能在测试之外重现问题吗？例如，当测试失败时，您是否可以手动模拟测试或运行现有测试之一并附加调试器以查看相同的堆栈跟踪？一种策略可能是确定一两个准确验证部署的特定测试——在部署后只运行这些测试，如果这些测试失败，您应该中止构建，然后让服务器处于失败状态以进行更深入的分析。这可能需要自定义构建模板，但值得付出努力。

您可以将日志记录添加到 WCF 服务吗？更好地记录测试？

最后，前面提到的 CI 是关于早期反馈的。一般规则是，“如果某件事很痛苦，那么你应该更频繁地这样做。” 关注痛点，隔离它们并迭代改进它们。当疼痛减轻时，专注于其他痛点。在您的情况下，考虑以滚动方式运行您的“夜间”构建 - 您会在运行几次而不是几周后发现间歇性问题。

# css - 使用 CSS 显示两个不同的渐变作为背景？

> ID：11046033
> 
> 赞同：1
> 
> 时间：2012-06-15T07:02:16.303
> 
> 标签：css, gradient

我想在我的网站背景中有 2 个不同的渐变 - 我正在使用以下调用一个渐变 - 我如何声明多个（即在左侧显示不同的渐变，在右侧显示不同的渐变）

```
body
{

    background: -webkit-gradient(linear, left top, left bottom, from(#E0E0E0), to(#fff));
    background: -moz-linear-gradient(top,  #E0E0E0,  #fff);
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#E0E0E0', endColorstr='#ffffff');

} 
```

所以我希望背景的左侧是右侧不同的颜色渐变。

有任何想法吗？

干杯!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:08:39.673

```
<void after update of your question>
You should use a [multi-background](http://www.w3.org/TR/css3-background/#layering) 
declaration where the first and second values are separated by a comma like 
`background: value1, value2;`.

Also the background on top (here a gradient) should whether not recover entirely the
first one or have some transparency, obviously.
</void> 
```

`:before`这是一个使用伪的小提琴来创建*一些东西来粘贴背景，*而无需在 HTML 代码中创建额外的元素。如果`linear-gradient`浏览器支持，那么`:before`AFAIK也支持，所以这里没问题。

[http://jsfiddle.net/URWD8/](http://jsfiddle.net/URWD8/)

主要技巧是创建一个半尺寸且定位良好的盒子（然后在这个绝对定位的盒子上方使用z-index ......通过反复试验，我承认）。

并且还使用带有其他供应商前缀的声明：`-o-`这里缺少`linear-gradient`，IE10 和其他浏览器的未来版本也没有前缀。见[http://caniuse.com/#feat=css-gradients](http://caniuse.com/#feat=css-gradients)

OT：使用[http://css-tricks.com/examples/ShapesOfCSS/](http://css-tricks.com/examples/ShapesOfCSS/)和[http://ie7nomore.com/#CSS2](http://ie7nomore.com/#CSS2)
玩弄 和/或滥用`:before`and : )（在两个页面中搜索那些伪代码）`:after`

# c# - c# 上的打印输出数据库，其类型为“TIMESTAMP”

> ID：11046034
> 
> 赞同：0
> 
> 时间：2012-06-15T07:02:21.567
> 
> 标签：c#

我在 C# 中使用查询。我正在从数据库中打印数据。

它的列数约为 200，第一列的类型是`TIMESTAMP`.

其他类型打印出来没有问题。只有 TIMESTAMP 可以。

有人说我可以用`TIMESTAMP`得到`TO_CHAR(COLUMN_NAME, 'YYYYHHDD')`

我想显示所有数据库。但如果我愿意，我应该输入所有列。这样就不会显示新创建的列。

我想使用这样的查询，但它不起作用：

```
SELECT TO_CHAR(TIME, 'HHMMSS'), * FROM DATAS 
```

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:33:43.697

假设您使用的是 SQL Server，您必须将时间戳值读取为字节数组并将其转换为字符串。MSDN 上的[SQL Server 数据类型映射](http://msdn.microsoft.com/en-us/library/cc716729.aspx)显示 Timestamp 映射到 Byte[] 并且可以通过 GetSqlBinary 或 GetBytes 方法访问。

该映射还显示[时间戳](http://msdn.microsoft.com/en-us/library/ms182776%28v=sql.90%29.aspx)实际上是一个行版本号，每次修改行时都会自动更改。它与时间无关。它只是一个递增的 8 字节数。这个数字对最终用户没有任何意义，在任何地方都可能没有任何意义。

如果您仍想显示它，您可以使用[BitConverter.ToInt64](http://msdn.microsoft.com/en-us/library/system.bitconverter.toint64.aspx)方法将时间戳字节转换为 Int64 类型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:31:55.817

以下对我有用：

SELECT CONVERT(numeric(20,0), stamp + 0) FROM ...

这是“stamp”是时间戳列的地方。

# javascript - 将元素从一个 UIWebView 传递到另一个

> ID：11046038
> 
> 赞同：-1
> 
> 时间：2012-06-15T07:02:31.703
> 
> 标签：javascript, iphone, ios, uiwebview

我正在制作一个使用两个 UIWebViews 的应用程序。在其中一个上，我将网页剥离为 javascript 并加载它（以使页面显示得更快）。另一个在后台使用 javascript 加载整个页面，并在完成后替换另一个 UIWebView。带有 javascript 的页面将添加一些横幅和使其更大的东西。

我试图让 UIWebView 自动滚动到用户在另一个 WebView 上的相同位置（元素）。我一直在尝试通过javascript（使用document.elementFromPoint）来做到这一点，但我找不到将元素传递给另一个UIWebView的方法（不知道它是否可能）。我也无法通过 Id 定位元素，因为它们没有 Id 属性。

有没有办法将元素作为变量从一个 UIWebView 传递到另一个？还是有其他方法可以做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:14:46.380

您可以`- (NSString *)stringByEvaluatingJavaScriptFromString:(NSString *)script`用于传递参数。

javascript方法可以返回字符串，然后由上述方法返回。它可以以 JSON 的形式返回多个值的数据，您可以使用 JSON 解析器对其进行解析。或者它可以简单地返回一个字符串。您可以进一步使用该字符串/JSON 数据。

要传递值，请参见以下代码：

```
NSString *jsPrintBodyOfTable=[[NSString alloc]initWithFormat:@”printBodyOfTable((\”%@\”))”, content.at_content];

 [self.webView stringByEvaluatingJavaScriptFromString:jsPrintHeadOfTable]; 
```

[http://howtomakeitinamsterdam.wordpress.com/2011/12/17/uiwebview-calling-javascript-from-ios-with-passing-parameters-tutorial/](http://howtomakeitinamsterdam.wordpress.com/2011/12/17/uiwebview-calling-javascript-from-ios-with-passing-parameters-tutorial/)的简单教程

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:21:23.633

有一个 DOM 属性是您正在寻找的：`scrollY`，因此您可以在您的第一个 Web 视图中检索它：

```
NSString* scrollPosition = [webView1 stringByEvaluatingJavaScriptFromString: @"scrollY"]; 
```

然后进行第二次滚动：

```
[webView2 stringByEvaluatingJavaScriptFromString:
     [NSString stringWithFormat: @"window.scrollTo(0, %d);", scrollPosition]]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T07:18:24.473

不可能将它从一个 UIWebView 清楚地传递到另一个。

但是，如果您定义自己的协议并将数据作为 URL 传递，则可以将数据传递到本机环境，然后您可以在另一个 Web 视图上提取并执行 Javascript 以注入数据。

捕获 URL 可以`webView:shouldStartLoadWithRequest:navigationType:`在实现 UIWebViewDelegate 协议的类中完成，并且可以`stringByEvaluatingJavaScriptFromString:`在 UIWebView 实例上执行 Javascript。

如果您查看源代码，这就是在 PhoneGap/Cordova 中所做的。

# python - SQLAlchemy 导入具有关系的表

> ID：11046039
> 
> 赞同：15
> 
> 时间：2012-06-15T07:02:34.730
> 
> 标签：python, sqlalchemy, relationship

我在将表与不同文件中的关系分开时遇到问题。我希望下面的表格位于三个单独的文件中并在第三方页面中导入**TableA ，但我无法管理加载顺序。**

在大多数情况下，我都会收到以下错误。

**sqlalchemy.exc。** *InvalidRequestError：初始化映射器 Mapper|TableA|tablea 时，表达式 'TableB' 未能找到名称（“名称 'TableB' 未定义”）。如果这是一个类名，请考虑在定义了两个依赖类之后将此 relationship() 添加到该类中。*

```
class TableA(Base):
    __tablename__ = "tablea"
   id = Column(Integer, primary_key=True)
   name = Column(String)

   tableB = relationship("TableB", secondary = TableC.__table__)

class TableB(Base):
   __tablename__ = "tableb"
   id = Column(Integer, primary_key=True)
  name = Column(String)

class TableC(Base):
   __tablename__ = "tableab"
   tableAId = Column("table_a_id", Integer, ForeignKey("TableA.id"), primary_key=True)
   tableBId = Column("table_b_id", Integer, ForeignKey("TableB.id"), primary_key=True) 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-15T14:18:46.797

这应该可以工作（注意 TableC.**表**被替换为表名以避免循环模块加载）：

```
### base.py
engine = create_engine('sqlite:///:memory:', echo=True)
Session = sessionmaker(bind=engine)
Base = declarative_base(bind=engine)

### classA.py
from base import Base
from classB import TableB

class TableA(Base):
    __tablename__ = 'tablea'
    id = Column(Integer, primary_key=True)
    name = Column(String(50))
    tableBs = relationship("TableB", secondary="tableab")
    #tableBs = relationship("TableB", secondary=TableC.__table__)

### classB.py
from base import Base

class TableB(Base):
    __tablename__ = 'tableb'
    id = Column(Integer, primary_key=True)
    name = Column(String(50))

### classC.py
from base import Base
from classA import TableA
from classB import TableB

class TableC(Base):
    __tablename__ = 'tableac'
    tableAId = Column(Integer, ForeignKey("tablea.id"), primary_key=True, )
    tableBId = Column(Integer, ForeignKey("tableb.id"), primary_key=True, )

### main.py
from base import Base, Session, engine
from classA import TableA
from classB import TableB
from classC import TableC
Base.metadata.create_all(engine) 
```

*此外，我相信 ForeignKey 参数区分大小写，因此您的代码可能无法正常工作，因为“TableA.id”在区分大小写时与“tablea”名称不匹配。*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-01-01T10:19:53.307

```
from sqlalchemy import Column, String, Integer
from sqlalchemy.ext.declarative import declarative_base
Base = declarative_base()

class Parent(Base):
    __tablename__ = 'Parent'
    ParentID = Column(Integer, primary_key=True)
    Description = Column(String)

    def __init__(self, ParentID, Description):
        self.ParentID = ParentID
        self.Description = Description
----------------------------------------------------------------------

from sqlalchemy import Column, String, Integer, ForeignKey
import Parent
from sqlalchemy.ext.declarative import declarative_base
Base = declarative_base()

class Child(Base):
    __tablename__ = "Child"
    ChildID = Column(Integer, primary_key=True)
    Description = Column(String)
    ParentID = Column('CompanyID', Integer, ForeignKey(Parent.ParentID))

    def __init__(self, ChildID, Description,ParentID):
        self.ChildID = ChildID
        self.Description = Description
        self.ParentID=ParentID 
```

# windows - 我如何在电脑中识别哪个域名应该链接到哪个文件夹

> ID：11046040
> 
> 赞同：0
> 
> 时间：2012-06-15T07:02:41.803
> 
> 标签：windows, apache

我想将不同的域名转发到单个 IP 地址（本地用于测试），但是我如何在 pc 中识别哪个域名应该链接到哪个文件夹？

例如，在 Windows 主机文件中，我写了

```
127.0.0.1       abc.com
127.0.0.1       test.abc.com
127.0.0.1       test1.abc.com 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:06:38.940

在同一部分中找到将and指令`VirtualHost`绑定在一起。`ServerName``DocumentRoot`

```
<VirtualHost *:80>
  ServerName www1.example.com
  DocumentRoot /srv/web/www1
</VirtuaHost>

<VirtualHost *:80>
  ServerName www2.example.com
  DocumentRoot /srv/web/www2
</VirtuaHost> 
```

# jquery - nl2br jQuery 函数从每一行中删除字符

> ID：11046047
> 
> 赞同：3
> 
> 时间：2012-06-15T07:03:10.570
> 
> 标签：jquery, html, javascript, nl2br

我有一个非常简单的 br2nl 函数，用于获取字符串并将其粘贴到 textarea 中。出于某种原因，它从某些行的末端裁剪了一些字符。这是我的例子：http: [//jsfiddle.net/byZnE/](http://jsfiddle.net/byZnE/)

在此示例中，您将看到“。” （句点）正在从 textarea 中的句子中删除（“Test about information can go here.”）。为什么会发生这种情况，我可以改变我的功能来阻止它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:12:12.677

您的代码中的这一行是有问题的：

```
return (str + '').replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g, breakTag); 
```

您在这里所做的是替换行终止符之前的符号（如果它不是“>”）和行终止符本身*。*

不过，这真的很容易修复：只需将其更改为...

```
return (str + '').replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g, '$1' + breakTag); 
```

而且，在我看来，`str + ''`这里是多余的。

# c# - SQL 数据库日期格式

> ID：11046051
> 
> 赞同：0
> 
> 时间：2012-06-15T07:03:31.560
> 
> 标签：c#, asp.net, sql

我有一个gridview 和sqldatasource。在 tabledefinition 中，日期的默认格式是 mm:dd:yyyy ，有没有办法从 sql 设置或类似的东西将格式更改为 dd:mm:yyyy 。

我在表单加载中有全球化（对于 dd/mm/.yyyy），但是当我从数据源中选择某些日期之间的一些值时：

```
 string d1 = Convert.ToDateTime(date1.Text).ToString("dd.MM.yyyy");
 string d2 = Convert.ToDateTime(date2.Text).ToString("dd.MM.yyyy");
 SqlDataSource1.SelectCommand = "Select * FROM test WHERE Name = '"+name.Text+"' AND Date between '"+d1+"' AND '"+d2+"'"; 
```

它仅适用于`mm/dd/yyyy`.

有没有办法改变它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-15T07:13:59.830

避免不必要的转换回字符串并使用参数：

```
DateTime d1 = Convert.ToDateTime(date1.Text);
DateTime d2 = Convert.ToDateTime(date2.Text);
SqlDataSource1.SelectCommand = "Select * FROM test WHERE Name = @name AND Date between @d1 AND @d2";
SqlDataSource1.SelectCommand.Parameters.AddParameterWithValue("@name", name.Text);
SqlDataSource1.SelectCommand.Parameters.AddParameterWithValue("@d1", d1);
SqlDataSource1.SelectCommand.Parameters.AddParameterWithValue("@d2", d2); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-15T07:16:40.120

如果您可以在查询中使用[参数，那就更好了。](http://msdn.microsoft.com/en-us/library/xt50s8kz.aspx)此外，如果您的列类型是日期，那么最好不要将它们转换为字符串进行比较。尝试以下

```
SqlDataSource1.SelectParameters.Add("@d1", date1);
SqlDataSource1.SelectParameters.Add("@d2", date2);
SqlDataSource1.SelectCommand = "Select * FROM test WHERE Name = '"+name.Text+"' AND Date between @d1 AND @d2"; 
```

还使用名称参数

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-15T07:17:44.663

尝试使用参数：

```
SqlDataSource1.SelectCommand = "SELECT * FROM test WHERE Name = @Name AND Date between @DateLow AND @DateHigh";
SqlDataSource1.SelectParameters.Add("Name", name.Text);
SqlDataSource1.SelectParameters.Add("DateLow", DbType.DateTime, d1);
SqlDataSource1.SelectParameters.Add("DateHigh", DbType.DateTime, d2); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-15T07:12:36.930

使用参数化查询，所有问题都会消失。:)

```
SqlDataSource1.SelectCommand = "Select * FROM test WHERE Name = @p_Name AND Date between @p_from AND @p_to";
SqlDataSource1.SelectCommand.Parameters.Add ("@p_Name", SqlDbType.String).Value = name.Text;
SqlDataSource1.SelectCommand.Parameters.Add ("@p_from", SqlDbType.DateTime).Value = d1;
SqlDataSource1.SelectCommand.Parameters.Add ("@p_to", SqlDbType.DateTime).Value = d2; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-15T07:09:28.143

```
SqlDataSource1.SelectCommand= " SELECT [columns] FROM [table] WHERE Name =   
'"+name.Text+"' AND Date BETWEEN  
CONVERT(Date,'"+d1+"' , 105)  AND CONVERT(Date,'"+d2+"', 105)" 
```

尝试这个....

# java - 如何在java中格式化日期字符串？

> ID：11046053
> 
> 赞同：38
> 
> 时间：2012-06-15T07:03:37.917
> 
> 标签：java, date, datetime, simpledateformat

嗨，我有以下字符串：2012-05-20T09:00:00.000Z 我想将其格式化为 20/05/2012, 9am

如何在java中做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：84
> 
> 时间：2012-06-15T07:15:15.850

如果您正在为您的特定情况寻找解决方案，它将是：

```
Date date = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'").parse("2012-05-20T09:00:00.000Z");
String formattedDate = new SimpleDateFormat("dd/MM/yyyy, Ka").format(date); 
```

* * *

## 回答 #2

> 赞同：35
> 
> 时间：2012-06-15T07:04:28.270

使用to[`SimpleDateFormat`](http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html)先到然后到`parse()` `String``Date``format()` `Date``String`

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-06-15T07:19:30.593

```
package newpckg;

import java.util.Date;
import java.text.ParseException;
import java.text.SimpleDateFormat;

public class StrangeDate {

    public static void main(String[] args) {

        // string containing date in one format
        // String strDate = "2012-05-20T09:00:00.000Z";
        String strDate = "2012-05-20T09:00:00.000Z";

        try {
            // create SimpleDateFormat object with source string date format
            SimpleDateFormat sdfSource = new SimpleDateFormat(
                    "yyyy-MM-dd'T'hh:mm:ss'.000Z'");

            // parse the string into Date object
            Date date = sdfSource.parse(strDate);

            // create SimpleDateFormat object with desired date format
            SimpleDateFormat sdfDestination = new SimpleDateFormat(
                    "dd/MM/yyyy, ha");

            // parse the date into another format
            strDate = sdfDestination.format(date);

            System.out
                    .println("Date is converted from yyyy-MM-dd'T'hh:mm:ss'.000Z' format to dd/MM/yyyy, ha");
            System.out.println("Converted date is : " + strDate.toLowerCase());

        } catch (ParseException pe) {
            System.out.println("Parse Exception : " + pe);
        }
    }
} 
```

# reporting-services - 跨多个图表的跨度图表系列。SSRS 报表生成器

> ID：11046056
> 
> 赞同：0
> 
> 时间：2012-06-15T07:03:49.893
> 
> 标签：reporting-services, charts, reportbuilder

我有一个包含输入参数“服务器组”和“服务器”的报告 该报告显示了许多性能指标（以图表形式）。每个指标都有自己的图表，数据通过 SCOM 数据库获得。

我遇到的问题是某些服务器组包含许多服务器，通常超过 10 个，这使得在图表（+10 系列）上绘制数据非常混乱且难以阅读。

Report Builder 3.0 中是否有一个功能可以生成第二个图表并绘制系列#6-10 以及系列#11-15 的第三个图表等等？

我已经研究过将图表放在矩阵中并使用多个图表区域，但无法找到解决方案。

任何人都可以提出一个解决方案，也许我可以使用一个表达方式？

谢谢

==================================

好的，我已经把这个问题搁置了一段时间，但现在我不得不重新审视它。它仍然没有解决，但我想我越来越接近了。

我可以将图表放在表格中，然后按系列数据（服务器）对表格进行分组。这将为每个图表提供一个系列（服务器）。我也可以使用这个表达式... =Ceiling(RowNumber(Nothing)/10) 如果我想为从数据库中检索到的每 X 行生成一个新图表，这将起作用。问题是每个系列有许多多行数据，因为检索到的数据有一个日期组件。

任何人都可以提出一个可能符合我要求的表达方式吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T14:37:46.997

一种想法是将图表放入列表中。然后，您需要在结果中添加一列来分配该组。我不确定为您的数据集执行此操作的最佳方法，但如果您能找到一种方法来将您的服务器从 1 到 n 进行排名，然后使用 case 语句将服务器 1-5 分配给组1、6-10到组2等。然后你的列表就可以使用这个服务器分组了。呈现的报告将显示一个图表，其中包含每个服务器分组的数据。

# php - Preg_match：在一个表达式中从 url 获取最后两个域段

> ID：11046066
> 
> 赞同：0
> 
> 时间：2012-06-15T07:04:43.917
> 
> 标签：php, regex, url, dns, preg-match

php.net 上有一个示例如何分两步获取最后两个域段：

```
 <?php 
 //get host name from URL
preg_match("/^(http:\/\/)?([^\/]+)/i",
    "http://www.php.net/index.html", $matches);
$host = $matches[2];

// get last two segments of host name
preg_match("/[^\.\/]+\.[^\.\/]+$/", $host, $matches);
echo "domain name is: {$matches[0]}\n";

/* Output is php.net */

?> 
```

但是我怎样才能一步完成，只使用一个 preg_match 表达式呢？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-15T07:08:38.330

这段代码：

```
$domain = 'http://www.php.net/index.html';
$url    = parse_url($domain);
$tokens = explode('.', $url['host']);

print_r($tokens); 
```

会给你这个数据：

```
Array
(
    [0] => www
    [1] => php
    [2] => net
) 
```

我相信不需要正则表达式，因为很难用它们正确解析 URL。从生成的 $tokens 数组中，您可以轻松提取主机名的任何部分。

更新：

```
print_r($url); 
```

$url 数组包含所有必要的细节：

```
Array
(
    [scheme] => http
    [host] => www.php.net
    [path] => /index.html
) 
```

# c - 建议改进 murmurhash3

> ID：11046067
> 
> 赞同：0
> 
> 时间：2012-06-15T07:04:52.467
> 
> 标签：c, hash, murmurhash

我只想散列 64 位整数。我正在使用[此处](http://code.google.com/p/smhasher/source/browse/branches/chandlerc_dev/MurmurHash3.cpp)给出的 murmurhash3 的实现。鉴于此约束，代码是否可以进行一些改进。我无法完全弄清楚，但我认为第 171 行的 for 循环可能是目标。请就此提出一些建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T07:16:26.470

如果您只需要散列 64 位数字，则使用 numbers 值，因为所有 murmur3 都会浪费 CPU 周期将相同的输入数字混合到相同的输出数字，唯一的例外是如果您正在更改种子。

如果您真的想针对固定大小进行优化，您可以复制该函数，然后稍微改变它（允许编译器不断传播和不断折叠来完成繁重的工作）：

```
void MurmurHash3_x86_128_uint64 ( const void * key, uint32_t seed, void * out)
{
  const int len = sizeof(uint64_t); 
  //now len is a compile time constant, and can be folded when this
  //function is not inlined (else it would just be a constant input,
  //which could only be folded when the function is inlined)
  const uint8_t * data = (const uint8_t*)key;
  const int nblocks = len / 16; 
```

如果您在以后的任何阶段使用 C++，将其转换为以下模板是有意义的：

```
template<const size_t len>
void MurmurHash3_x86_128_uint64 ( const void * key, uint32_t seed, void * out)
{
  const uint8_t * data = (const uint8_t*)key;
  const int nblocks = len / 16; 
```

另请注意，一些更智能的编译器（ICC、MSVC、GCC）将检测函数是否仅使用相同的常量参数（包括部分常量参数列表）调用并将这些常量折叠到函数中（这需要“整个程序优化" 选项被启用)

# android - 在 DialogFragment 中，onCreate 应该做什么？

> ID：11046075
> 
> 赞同：1
> 
> 时间：2012-06-15T07:05:28.127
> 
> 标签：android, android-dialogfragment

我目前正在使用 DialogFragment 来学习使用它。我假设与 相比`onCreateView()`，`onCreate()`可以这样做：

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    testTextView.setText("SUCCESS!"); //ERROR HERE
} 
```

但我错了。不知道为什么它不工作。当我注释掉`testTextView.setText("Success!");` 错误是 NullPointerException 时，错误消失了，然后它只是标记第 39 行，这是有问题的代码行所在的位置。任何澄清都非常感谢。

编辑：

```
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState){
    View testView = (View)inflater.inflate(R.layout.test_dialog_file, container, false);
    //instantiated testTextView globally
    testTextView = (TextView)testView.findViewById(R.id.set_text);
    testTextView.setText("SUCCESS!");
    return testView;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T07:15:33.580

你还没有使用`setContentView`，所以你得到了 TextView 的 NPE。

`onCreate`发生在之前`onCreateView`。如果你想从那里的布局中访问某些东西，你需要`setContentView`......这对于 DialogFragment 来说不是一个好主意。

将那段代码移到`onCreateView`你之后`setContentView`，你会没事的。

供您参考，这是片段生命周期：

![在此处输入图像描述](../Images/504379d70c1855c37513f807b994ab82.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-15T07:08:20.833

testTextView 没有指向任何对象，所以尝试类似

```
testTextView = (TextView) findViewById(R.id.testTextView); 
```

**编辑：**

如果您看到[一个片段的生命周期](http://developer.android.com/reference/android/app/Fragment.html#Lifecycle)，它表示它是*在之后*`onCreateView`调用的，因此您没有对您的对象的任何引用，即布局中的 textview *`onCreate``onCreate`*

 ** * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T07:08:52.777

您是否在 onCreateView 中初始化了 testTextView？您必须在 onCreateView 中使用[LayoutInflater](http://developer.android.com/reference/android/view/LayoutInflater.html)来获取布局，然后您必须通过 findViewById 访问 TextView。*

# wcf - 部署 Silverlight5 应用程序时出错：查询的加载操作失败

> ID：11046079
> 
> 赞同：0
> 
> 时间：2012-06-15T07:05:44.353
> 
> 标签：wcf, silverlight, deploying

我在部署 Silverlight5 应用程序时遇到问题。我正在发布到运行 IIS6 的 Windows 服务器 2003 R2。这是我得到的错误：

**加载错误**-

```
System.ServiceModel.DomainServices.Client.DomainOperationException: 
Load operation failed for query 'GetvSiteSetupStatus'. 
[HttpWebRequest_WebException_RemoteServer]

Arguments: NotFound

Debugging resource strings are unavailable. Often the key and arguments provide 
sufficient information to diagnose the problem. See http://go.microsoft.com/fwlink/?linkid=106663&Version=5.1.10411.0&File=System.Windows.dll&Key=HttpWebRequest_WebException_RemoteServer 
---> System.ServiceModel.CommunicationException: [HttpWebRequest_WebException_RemoteServer] 
```

从我可以看到的控制负载，但没有显示数据。在服务器上运行 Profiler 表明查询根本没有在数据库上运行。我怀疑这是 WCF 问题，但不知道从哪里开始寻找。错误不是很清楚。

任何帮助将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T11:48:18.580

我发现了我的错误。我正在使用 .html 而不是 .aspx 测试我的页面。

# javascript - 将表单发布到弹出窗口而不是父级

> ID：11046088
> 
> 赞同：0
> 
> 时间：2012-06-15T07:06:35.510
> 
> 标签：javascript, html, popup

我想发布一个表单弹出窗口。问题是，表单成功发布，但它也在父窗口上发布。我只想在弹出窗口中提交表单

```
'<input type= button value ="Submit Form" onclick="adNetworkForm()" >
<script>
function adNetworkForm(){ 
targetUrl = "http://somesite.com"    
    var myForm = document.createElement('form');
    myForm.method = 'post';
    //myForm.action = targetUrl;        

    var inpt1 = document.createElement('input');
    inpt1.setAttribute('name','a');
    inpt1.setAttribute('type', 'hidden')
    inpt1.value = "1"; 

    var inpt2 = document.createElement('input');
    inpt2.setAttribute('name','b');
    inpt2.setAttribute('type', 'hidden')
    inpt2.value = 2; 
    myForm.appendChild(inpt1);
    myForm.appendChild(inpt2);
    document.body.appendChild(myForm);
    myForm.submit(popitup(targetUrl));
    document.body.removeChild(myForm);
}

 function popitup(url) {
newwindow=window.open(url,'name','height=600,width=500');
if (window.focus) {newwindow.focus()}
return false;
}

</script>​' 
```

[JS小提琴](http://jsfiddle.net/7Eusb/)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-15T07:52:31.183

您可以为表单分配一个 onsubmit 事件处理程序以调用一个函数，该函数在提交表单时弹出一个新窗口并将表单定位到该窗口，例如：

```
<form action="..." method="post" onsubmit="some_popup_post(this);">
<!-- form fields etc here -->
</form> 
```

js代码将是：

```
function some_popup_post(form) {
    window.open('', 'formpopup', 'width=400,height=400,resizeable,scrollbars');
    form.target = 'formpopup';
} 
```

你的意思是这样的吗。。

# php - Joomla tmp文件夹不可写？还是 open_basedir 的麻烦？

> ID：11046095
> 
> 赞同：4
> 
> 时间：2012-06-15T07:06:55.130
> 
> 标签：php, joomla, file-permissions, joomla2.5, open-basedir

我正在这个 joomla 网站上工作，我无法上传任何扩展名。如果我使用正常的上传方法，我会得到`JFolder::create: Could not create directory Unable to create destination` 如果我使用从目录上传，我得到`Copy failed JInstaller: :Install: Failed to copy file` 我已经尝试了很多在 joomla 支持论坛中找到的解决方案，但没有一个对我有用。在绝望中，我什至将 tmp ermissions 更改为 777，现在目录权限（我知道它不好）列表显示 tmp 是可写的，但`The PHP temporary directory is not writeable by the Joomla! instance, which may cause issues when attempting to upload extensions to Joomla!. If you are having issues uploading extensions, check the '/tmp' and set it to be writeable and see if this fixes the issue.`在扩展管理器-> 警告中显示警告

我想知道是否`open_basedir`有缺陷。在我的 php 信息文件中，我有 `/srv/www/vhosts/domain/httpdocs/:/tmp/`- `no value`。我怎么知道`open_basedir`有缺陷？我该如何解决这个扩展问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-17T02:08:25.293

问题可能是因为 upload_tmp_dir 未在 php.ini 中设置。

查看`SITE > SYSTEM INFORMATION > PHP INFORMATION`并检查是否`upload_tmp_dir`已设置。如果没有，则需要编辑 php.ini

在我们的服务器（使用开放基础目录）上，设置为：

`upload_tmp_dir=/tmp`

根据您的服务器配置，此值可能会有所不同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T13:33:59.027

在 Joomla 后端，转到：

*站点 >> 系统信息 >> 目录权限*

并查看“tmp”文件夹是否显示“Writable”

我的一位共享主机遇到了同样的问题。问题是，即使我将所有内容都设置为 777（纯粹出于测试目的），我也没有文件所有权。如果您也是这种情况，那么您将不得不与您的托管服务提供商交谈。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-11-19T09:03:36.483

1.  将权限设置为 777

2.  使用日志和 tmp 的**完整路径**，例如：/var/www/vhosts/mydomain/httpdocs/tmp

# android - 安装apk文件时解析错误

> ID：11046098
> 
> 赞同：1
> 
> 时间：2012-06-15T07:07:07.193
> 
> 标签：android, parsing

我在 Eclipse 中制作了一个针对 API 级别 2.3.3 的计算器应用程序。我已将它邮寄到我的邮寄地址并尝试通过下载来安装它。它给了我以下错误

“解析包时出现问题。”

我是android编程的新手。我正在使用 HTC 感觉，它的 android 版本是 2.3.4。我不明白问题是什么。请帮我..

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:11:13.160

您正在使用 gmail 作为邮寄地址或任何其他地址。从 Gmail 它将允许下载该文件。此外，该应用程序不在 android 市场上，因此在下载该文件之前，您需要选中 `settings ==>Applications==> Unknown Sources`复选框，然后再下载 apk 文件。

# java - Windows下从原生代码构建JNI共享库

> ID：11046102
> 
> 赞同：0
> 
> 时间：2012-06-15T07:07:24.603
> 
> 标签：java, android, java-native-interface

我可以在 Windows（XP 或 7）下从本机代码（.so 文件，用于 JNI）构建共享库吗？如果是怎么办？如果是 Android 的 NDK 怎么办？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-06-15T07:24:28.877

可以参考本书：http: [//java.sun.com/docs/books/jni/html/jniTOC.html](http://java.sun.com/docs/books/jni/html/jniTOC.html)

在 Windows 上编译 JNI 共享库的说明：http: [//java.sun.com/docs/books/jni/html/start.html#27008](http://java.sun.com/docs/books/jni/html/start.html#27008)（在 Windows 上，它们使用扩展名 .dll，而不是 .so）

**更新：** Oracle 已取消上述链接，但可以在[http://web.archive.org/web/20110623094757/http://java.sun.com/docs/books/jni/html/start 上查看。 html#27008](http://web.archive.org/web/20110623094757/http://java.sun.com/docs/books/jni/html/start.html#27008)

这些说明适用于 Visual C++ 编译器；如果您使用其他编译器，请在其手册中查找如何编译共享库。

# java - 通过 spring-data 迭代 MongoDB 中的大型集合

> ID：11046105
> 
> 赞同：31
> 
> 时间：2012-06-15T07:07:31.247
> 
> 标签：java, spring, mongodb

朋友们！

我通过spring-data在java项目中使用MongoDB。我使用 Repository 接口来访问集合中的数据。对于某些处理，我需要遍历集合的所有元素。我可以使用存储库的 fetchAll 方法，但它总是返回 ArrayList。

但是，假设其中一个集合会很大 - 多达 100 万条记录，每个记录至少有几千字节。我想我不应该在这种情况下使用 fetchAll ，但是我找不到返回一些迭代器的方便方法（这可能允许部分获取集合），也找不到带有回调的方便方法。

我只看到支持在页面中检索此类集合。我想知道这是否是处理此类收藏的唯一方法？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-08-30T16:58:47.000

迟到的回应，但也许会在未来帮助某人。Spring data 不提供任何 API 来包装**Mongo DB Cursor**功能。它在`find`方法中使用它，但总是返回完整的对象列表。选项是直接使用 Mongo API 或使用**Spring Data Paging API**，如下所示：

```
 final int pageLimit = 300;
        int pageNumber = 0;
        Page<T> page = repository.findAll(new PageRequest(pageNumber, pageLimit));
        while (page.hasNextPage()) {
            processPageContent(page.getContent());
            page = repository.findAll(new PageRequest(++pageNumber, pageLimit));
        }
        // process last page
        processPageContent(page.getContent()); 
```

**UPD (!)**对于大型数据集，这种方法是**不够**的（见@Shawn Bush 评论）请直接使用 Mongo API 处理这种情况。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2017-08-03T20:29:12.203

*由于这个问题最近遇到了问题，所以这个答案需要更多的爱！*

如果您使用 Spring Data Repository 接口，您可以声明一个返回 Stream 的自定义方法，它将由 Spring Data 使用游标实现：

```
import java.util.Stream;

public interface AlarmRepository extends CrudRepository<Alarm, String> {

    Stream<Alarm> findAllBy();

} 
```

因此，对于大量数据，您可以流式传输它们并逐行处理，而不受内存限制。

请参阅[https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries](https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries)

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2016-05-01T13:55:27.747

您仍然可以使用 mongoTemplate 访问 Collection 并简单地使用 DBCursor：

```
 DBCollection collection = mongoTemplate.getCollection("boundary");
     DBCursor cursor = collection.find();        
     while(cursor.hasNext()){
         DBObject obj = cursor.next();
         Object object =  obj.get("polygons");
         ..
      ...
     } 
```

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2015-09-03T16:13:23.610

使用 MongoTemplate::stream() 作为 DBCursor 最合适的 Java 包装器

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2014-03-28T11:34:07.407

另一种方式：

```
do{
  page = repository.findAll(new PageRequest(pageNumber, pageLimit));
  pageNumber++;

}while (!page.isLastPage()); 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2014-10-07T08:58:25.097

检查新方法以处理每个文档的结果。

[http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoTemplate.html#executeQuery-org.springframework.data.mongodb.core.query。 Query-java.lang.String-org.springframework.data.mongodb.core.DocumentCallbackHandler-](http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoTemplate.html#executeQuery-org.springframework.data.mongodb.core.query.Query-java.lang.String-org.springframework.data.mongodb.core.DocumentCallbackHandler-)

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2017-02-15T07:54:20.153

您可能想尝试这样的 DBCursor 方式：

```
 DBObject query = new BasicDBObject(); //setup the query criteria
    query.put("method", method);
    query.put("ctime", (new BasicDBObject("$gte", bTime)).append("$lt", eTime));

    logger.debug("query: {}", query);

    DBObject fields = new BasicDBObject(); //only get the needed fields.
    fields.put("_id", 0);
    fields.put("uId", 1);
    fields.put("ctime", 1);

    DBCursor dbCursor = mongoTemplate.getCollection("collectionName").find(query, fields);

    while (dbCursor.hasNext()){
        DBObject object = dbCursor.next();
        logger.debug("object: {}", object);
        //do something.
    } 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-12-16T14:25:21.953

这个答案基于：[https ://stackoverflow.com/a/22711715/5622596](https://stackoverflow.com/a/22711715/5622596)

这个答案需要一些更新，因为`PageRequest`它改变了它的构建方式。

话虽如此，这是我修改后的回复：

```
int pageNumber = 1;

//Change value to whatever size you want the page to have
int pageLimit = 100;

Page<SomeClass> page;
List<SomeClass> compondList= new LinkedList<>();

do{
    PageRequest pageRequest = PageRequest.of(pageNumber, pageLimit);

    page = repository.findAll(pageRequest);

    List<SomeClass> listFromPage = page.getContent();

    //Do something with this list example below
    compondList.addAll(listFromPage);

    pageNumber++;

  }while (!page.isLast());

//Do something with the compondList: example below
return compondList; 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-06-07T19:48:44.973

对大型集合进行迭代的最佳方法是直接使用 Mongo API。我使用了下面的代码，它对我的​​用例来说就像一个魅力。
我必须迭代超过 15M 的记录，其中一些记录的文档大小很大。
以下代码在 Kotlin Spring Boot App（Spring Boot 版本：2.4.5）中

```
fun getAbcCursor(batchSize: Int, from: Long?, to: Long?): MongoCursor<Document> {

    val collection = xyzMongoTemplate.getCollection("abc")
    val query = Document("field1", "value1")
    if (from != null) {
        val fromDate = Date(from)
        val toDate = if (to != null) { Date(to) } else { Date() }
        query.append(
            "createTime",
            Document(
                "\$gte", fromDate
            ).append(
                "\$lte", toDate
            )
        )
    }
    return collection.find(query).batchSize(batchSize).iterator()
} 
```

然后，从服务层方法中，您可以在返回的光标上继续调用 MongoCursor.next() 直到 MongoCursor.hasNext() 返回 true。

**一个重要的观察**：请不要错过在“FindIterable”（MongoCollection.find() 的返回类型）上添加 batchSize。如果您不提供批量大小，则游标将获取初始 101 条记录并在此之后挂起（它会尝试一次获取所有剩余的记录）。
对于我的场景，我使用了 2000 的批量大小，因为它在测试期间给出了最好的结果。这种优化的批量大小将受到记录的平均大小的影响。

这是 Java 中的等效代码（从查询中删除 createTime，因为它特定于我的数据模型）。

```
 MongoCursor<Document> getAbcCursor(Int batchSize) {
        MongoCollection<Document> collection = xyzMongoTemplate.getCollection("your_collection_name");
        Document query = new Document("field1", "value1");// query --> {"field1": "value1"}
        return collection.find(query).batchSize(batchSize).iterator();
    } 
```

# crystal-reports-xi - 由于无法登录到水晶报表对象存储库，加载报表失败

> ID：11046109
> 
> 赞同：0
> 
> 时间：2012-06-15T07:07:38.020
> 
> 标签：crystal-reports-xi

我们正在使用 SAP Integration KIT 和 Crystal Reports 2008。Crystal Reports 显示在 Winform（VB.net Windows 应用程序）（带有 net fx 2.0 的 VS 2005）上。

开发环境是32位的，一切正常。报表正在使用本地 BI 服务器。问题出在生产服务器中。生产服务器是 64 位的。

1.  Windows exe 可以安装在任何配置上。

2.  “SAP Integration KIT and Crystal Reports 2008”安装的是32位版本。

3.  在打开水晶报告时，出现以下异常：

> 错误：“尝试加载 Crystal Reports 运行时发生错误。Crystal Reports 注册表项权限不足，或者 Crystal Reports 运行时未正确安装。请安装适当的 Crystal Reports 可再发行组件 (CRRedist*.msi)，其中包含需要正确版本的 Crystal Reports 运行时（x86、x64 或 Itanium）。

为此，我们使用 corflag.exe 工具将 exe 的 32 位标志更改为 32 位+。上述错误已被删除，并出现以下新错误。我们已经检查了临时文件夹/报告文件夹等的权限，一切都很好。我们被困在这里。一点帮助/指导可以节省我们的周末:)。

> 类型：CrystalDecisions.Shared.CrystalReportsException，CrystalDecisions.Shared，版本=12.0.2000.0，文化=中性，PublicKeyToken=692fbea5521e1304 消息：加载报告失败。来源：CrystalDecisions.CrystalReports.Engine 帮助链接：数据：System.Collections.ListDictionaryInternal TargetSite：Void EnsureDocumentIsOpened() 堆栈跟踪：CrystalDecisions.ReportAppServer.ReportClientDocumentWrapper.EnsureDocumentIsOpened() at CrystalDecisions.CrystalReports.Engine.ReportDocument.Load(String filename, OpenReportMethod openMethod, Int16 parentJob) at CrystalDecisions.CrystalReports.Engine.ReportDocument.Load(String filename) at BizzCare.frmReportViewer.frmReportViewer_Load(Object sender, EventArgs e)

附加信息：

> 机器名称：xxx
> 
> 时间戳：2012 年 6 月 14 日上午 7:50:15
> 
> 全名：Microsoft.PracticesEnterpriseLibrary.ExceptionHandling，版本=3.1.0.0，文化=中性，PublicKeyToken=null
> 
> 应用域名：abc.exe
> 
> 线程身份：管理员
> 
> WindowsIdentity：comp\user 内部异常 --------------- 类型：System.Runtime.InteropServices.COMException，mscorlib，Version=2.0.0.0，Culture=neutral，PublicKeyToken=b77a5c561934e089 消息：错误在文件 Last12MonthsSales{9D0A761A-8021-42E6-8ECF-CE2C0167F5B0}.rpt 中：无法登录到 Crystal Report 对象存储库。来源：分析服务器帮助链接：错误代码：-2147217397 数据：System.Collections.ListDictionaryInternal TargetSite：无效打开（System.Object ByRef，Int32）堆栈跟踪：在 CrystalDecisions.ReportAppServer.ClientDoc.ReportClientDocumentClass.Open（Object& DocumentPath，Int32 选项）在 CrystalDecisions.ReportAppServer.ReportClientDocumentWrapper.Open(Object& DocumentPath, Int32 Options) 在 CrystalDecisions.ReportAppServer。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-27T15:35:31.223

此问题是由于开发环境中使用的运行时版本与生产环境中安装的运行时版本不同所致。

混淆是因为默认安装的“Crystal Report 2008 SP1”与“SAP Integration Kit”必须手动删除/卸载”（因为这提供了旧版本的DLL），然后必须在手动下载后安装正确的运行时微软网站。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T11:39:58.753

我们已经解决了这个问题。

存在运行时版本差异，报表是使用 12.1.xxx 版本的水晶报表设计的（因为 SAP 为 dev env 提供了最新版本），Visual Studio 2008 提供了 10.x.xx

作为设置的一部分部署的版本。我们已经下载了 12.1.xxx 版本 cr120_redist_install.zip 并将其安装在部署服务器上并且可以工作..

# marklogic - 创建一个提供签入、签出、取消签出、搜索的应用程序

> ID：11046111
> 
> 赞同：-1
> 
> 时间：2012-06-15T07:07:53.960
> 
> 标签：marklogic

如何使用应用程序生成器创建提供签入、签出、取消检查、搜索的应用程序

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T16:33:50.133

看看[图书馆服务 API](http://developer.marklogic.com:8040/5.0doc/docapp.xqy#display.xqy?fname=http://pubs/5.0doc/xml/dev_guide/dls.xml)。没有与 Application Builder 的内置集成，但添加一些自定义代码将非常简单。

# paypal - 除了 paypal，Web 应用还应该支持哪些其他支付服务？

> ID：11046112
> 
> 赞同：0
> 
> 时间：2012-06-15T07:07:54.167
> 
> 标签：paypal, payment-gateway, payment, payment-processing

这里的目标是最大限度地将用户转换为应用程序。我试图研究贝宝的市场份额，看看其他服务涵盖了其余部分。剩余的市场份额是否足够大到值得覆盖其他服务？目前哪些服务是贝宝的第二和第三？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:10:52.947

这因国家而异。在荷兰理想是必须的，谷歌钱包会很好。每个国家/地区都有自己的 EFT 网上银行系统，可以选择在网上商店付款。只需在目标群体所在国家/地区的银行中搜索他们最常使用的银行，并实施他们的支付 API。

# php - 错误：firefox 在元素列表后给我“缺少]”

> ID：11046113
> 
> 赞同：2
> 
> 时间：2012-06-15T07:07:59.490
> 
> 标签：php, javascript, jquery, ajax

我想要做的是使用 ajax 从另一个 php 文件中获取时间。

所以javascript代码看起来像这样：

```
var timeNow = setInterval(
    $.ajax({
        url: "process/time.php",
        success: function(msg) {
            $('#time').text(msg);
        }
    }), 1000); 
```

这是它发布到的 php 代码。

```
<?php echo gmdate('h:i:s A', time() + 8 * 3600);?> 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-15T07:11:35.227

[`setInterval`](https://developer.mozilla.org/en/window.setInterval)可以使用 Function 对象以及要执行的代码字符串调用。[`$.ajax`](http://api.jquery.com/jQuery.ajax/)返回一个`jqXHR`对象，该对象被强制转换为 string `"[object Object]"`。该字符串随后作为代码执行，并引发错误。

您想将`$.ajax`调用包装在一个函数中：

```
var timeNow = setInterval(function() {
    $.ajax({
        url:"process/time.php",
        success: function(msg) {$('#time').text(msg);}
    });
}, 1000); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-15T07:18:35.913

```
<?php 
if(isset($_SERVER['HTTP_X_REQUESTED_WITH']) && 
   strtolower($_SERVER['HTTP_X_REQUESTED_WITH']) === 'xmlhttprequest'){

    header('Content-Type: application/json');
    echo json_encode(array('server_time'=>gmdate('h:i:s A', time() + 8 * 3600)));
    die;    
}
?>

<script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
<script>
function polltime(){
    setTimeout(function(){
        $.ajax({ url: "./get_time.php", cache: false,
        success: function(data){
            $("#time").replaceWith("<p id=\"time\">"+data.server_time+"</p>");
            polltime();
        }, dataType: "json"});
    }, 1000);
}
$(document).ready(function(){
    polltime();
});
</script>

<p id="time"><?php echo gmdate('h:i:s A', time() + 8 * 3600);?></p> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-15T07:12:22.170

```
var timeNow = setInterval(
    function() {  // you missed function within setInterval()
    $.ajax({
        url: "process/time.php",
        success: function(msg) {
            $('#time').text(msg);
        }
    }, 1000); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-15T07:14:32.710

一个更简单的解决方案如下：

```
var timeNow = setInterval(
    function() {
    $("#time").load("process/time.php");
    }, 1000); 
```

参见 jQuery[`load()`](http://api.jquery.com/load/)方法；它是为这类事情而设计的。

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-06-15T07:32:48.807

```
var timeNow = setInterval(
    $.ajax({
        url: "process/time.php",
        success: function(msg) {
            $('#time').html(msg); //you have to use html instead
        }
    }), 1000); 
```

制作一个函数并将您的代码放在上面并调用它`<body onload"function_name();">`

# openmp - 如何使用 OpenMP 加速递归代码？

> ID：11046119
> 
> 赞同：0
> 
> 时间：2012-06-15T07:08:28.253
> 
> 标签：openmp

如何使用 OpenMP 加速递归代码？基本上，我这里要加快程序中的S函数。代码如下。

```
void S(Oct* oct, unsigned int l) {
    S(oct, l+1);
    A(oct, l);
    S(oct, l+1);
    AR(oct,l);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T14:43:34.423

查看您的代码，我会说代码不可并行化。由于 S() 是一个递归函数，因此在函数内部添加 openmp pragma 会导致创建线程的开销。它不会真正提高性能。此外，您也不应该并行化那些其他函数，A() 和 AR()。它还将产生相同的开销性能问题。

我建议要么首先并行化调用 S() 的源代码，要么分解代码以消除递归（然后你可能有可能使用 openmp 并行化）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-27T21:11:34.873

我想推荐英特尔的 Cilk Plus。Intel icpc 编译器支持 cilk，它有利于递归函数并行化。 [https://www.cilkplus.org/tutorial-cilk-plus-keywords](https://www.cilkplus.org/tutorial-cilk-plus-keywords)

# android - 如何在android中实现片段

> ID：11046120
> 
> 赞同：2
> 
> 时间：2012-06-15T07:08:32.110
> 
> 标签：android

我目前正在使用 DialogFragment 来学习使用它。我假设与 相比`onCreateView()`，`onCreate()`可以这样做：

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    testTextView.setText("SUCCESS!"); //ERROR HERE
} 
```

但我错了。不知道为什么它不工作。当我注释掉`testTextView.setText("Success!");`The error is a时，错误消失了`NullPointerException`，然后它只是标记第 39 行，这是有问题的代码行所在的位置。任何澄清都非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:39:22.400

试试这个 ：

```
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)
{
    if (container == null) {
        return null;
    }
    return (LinearLayout)inflater.inflate(R.layout.your_fragmentlayout_file, container, false);
}

@Override
public void onActivityCreated(Bundle savedInstance)
{
    super.onActivityCreated(savedInstance);
    TextView testTextView = (TextView)getActivity().findViewById(R.id.your_textview_id);
    testTextView.setText("SUCCESS!");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:12:34.007

你在哪里初始化了 testTextView。? 你应该这样做…………

以及根据片段生命周期

```
onAttach(Activity)-->onCreate(Bundle) -->onCreateView(LayoutInflater, ViewGroup, Bundle)->onActivityCreated(Bundle)-->onStart() 
```

所以你应该在 onCreateView 或之后处理这项工作......

[http://android-developers.blogspot.in/2012/05/using-dialogfragments.html](http://android-developers.blogspot.in/2012/05/using-dialogfragments.html)

# iphone - 每次应用程序恢复时如何启动第一个视图？

> ID：11046123
> 
> 赞同：-1
> 
> 时间：2012-06-15T07:08:47.723
> 
> 标签：iphone, ios5, uiviewcontroller, uinavigationcontroller, xcode4.2

我正在使用`xcode4.2`并且在内部我正在使用我的第一个视图进行`appDidFinishLaunching`初始化并将应用程序的设置为。我想在每次应用程序恢复时显示第一个视图。我该怎么做？`navigationController``rootViewController``navigationController`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:12:18.973

我能想到的最简单的方法是不使用背景。如果您`UIApplicationExitsOnSuspend`在 Info.plist 中设置密钥，当用户按下主页按钮时，您的应用程序将退出，下次启动时它将重新开始，而不是从原来的位置恢复。

否则，您可以定义`– applicationWillEnterForeground:`并`– applicationDidBecomeActive:`在应用程序恢复时返回到您的第一个视图。查看[UIApplicationDelegate](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIApplicationDelegate_Protocol/Reference/Reference.html)参考和[多任务状态](http://developer.apple.com/library/ios/#DOCUMENTATION/iPhone/Conceptual/iPhoneOSProgrammingGuide/ManagingYourApplicationsFlow/ManagingYourApplicationsFlow.html)。

# entity-framework-4 - 如何删除所有多对多关系而不在实体框架中加载相关实体？

> ID：11046124
> 
> 赞同：2
> 
> 时间：2012-06-15T07:08:49.053
> 
> 标签：entity-framework-4, ef-code-first, many-to-many

我有数据库方案，其中产品表与颜色表有多对多的关系。我正在使用 EF 并创建 POCO 对象：

```
public class Product
{ 
    public Guid Id {get;set;}
    public ICollection<Color> Colors {get;set;}
}

public class Color
{
    public Guid Id {get;set;}
    public ICollection<Product> Products {get;set;}
} 
```

在许多情况下，有必要删除与产品相关的所有颜色并设置新颜色。所以我想删除所有多对多关系，但不知道相关颜色的 id。是否可以在不对 db 进行额外查询的情况下删除它们？我知道我可以编写存储过程来删除指定产品与颜色的所有关系，但最好通过实体框架找到通用方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T07:34:44.180

如果您不知道颜色键，则必须先加载它们才能删除它们 - EF 会逐条删除记录，因此它需要知道要删除哪条记录。

直接的选项是直接执行 SQL `DELETE`：

```
dbContext.Database
         .ExecuteSqlCommand("DELETE FROM dbo.ProductColors WHERE ProductId = @Id", product.Id); 
```

# php - 我不能在一页中显示两条会话消息吗

> ID：11046128
> 
> 赞同：2
> 
> 时间：2012-06-15T07:09:05.910
> 
> 标签：php, session

我一直在一页中显示两条会话消息，评级。每次刷新都会显示一条消息，显示好恶。提交评分表后显示的另一条消息，问题是一旦我提交评分表，显示评分的消息就不会显示。为什么会这样？？？我不能在一个页面中使用两个会话吗？谢谢

编码

```
<?php
if(!empty($_SESSION['error_msg'])){?>
    <div style="text-align: center"><?php echo $_SESSION['error_msg'];?></div>

    <?
    session_unset($_SESSION['error_msg']);
}
?>

if(!empty($_SESSION['rate_msg'])){
            echo $_SESSION['rate_msg'];
            session_unset($_SESSION['rate_msg']);
        }
  ?>
  <form name="rating_form" action="" method="post">
      <input type="hidden" name="g_id" value="<?php echo $ratings['gallery_id'];?>"/>
      <input type="hidden" name="g_image" value="<?php echo $ratings['gallery_image'];?>"/>
      <div style="text-align: center">
          <input type="radio" name="rating" value="Hot" onclick="document.rating_form.submit();">Hot</input>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          <input type="radio" name="rating" value="Not" onclick="document.rating_form.submit();">Not</input>
      </div>
  </form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:38:49.520

抱歉，我认为我的代码有点混乱我的实际代码看起来像这样

```
<div class="top_model">
                    <h1>Model Ratings</h1>
                        <?php
                           if(!empty($_SESSION['error_msg'])){?>
                                <div style="text-align: center"><?php echo $_SESSION['error_msg'];?></div>

                                <?
                                session_unset($_SESSION['error_msg']);
                            }
                        ?>
                      <ul class="homemodel_thumbs">
                          <div style="text-align: right">

                              </div> 

                          <?php
                            if(!empty($ratingArr)){
                                foreach($ratingArr as $ratings){

?>

                          <li><img src="<?php echo base_url();?>images/gallery/large/<?php echo $ratings['gallery_image'];?>" alt="<?php echo $ratings['gallery_image'];?>" class="center_image"/>
                              <p>&nbsp;&nbsp;</p>
                              <?php
                              if(!empty($_SESSION['rate_msg'])){
                                        echo $_SESSION['rate_msg'];
                                        //session_unset($_SESSION['rate_msg']);
                                    }
                              ?>
                              <form name="rating_form" action="" method="post">
                                  <input type="hidden" name="g_id" value="<?php echo $ratings['gallery_id'];?>"/>
                                  <input type="hidden" name="g_image" value="<?php echo $ratings['gallery_image'];?>"/>
                                  <div style="text-align: center">
                                      <input type="radio" name="rating" value="Hot" onclick="document.rating_form.submit();">Hot</input>
                                      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                      <input type="radio" name="rating" value="Not" onclick="document.rating_form.submit();">Not</input>
                                  </div>
                              </form>

                          </li>    

                             <?php    
                                }
                            }
                            ?>
                       </ul> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T04:50:15.033

这个问题就解决了。在两个会话消息中，一个我使用了 php 会话，而另一个我使用了代码点火器会话。抱歉，如果我没有提到我正在使用 ci。无论如何感谢大家的帮助:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T07:11:43.100

您在显示后取消设置您的评级消息：

```
session_unset($_SESSION['rate_msg']); 
```

这意味着在您发回表单后它不可用，除非您再次重新填充它。

删除它，我怀疑它会起作用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-15T07:18:46.797

你有多余的`?>`：

```
<?php
     if(!empty($_SESSION['error_msg'])){?>
        <div style="text-align: center"><?php echo $_SESSION['error_msg'];?></div>
<?
     session_unset($_SESSION['error_msg']);
     }

    if(!empty($_SESSION['rate_msg']))
    {
        echo $_SESSION['rate_msg'];
        session_unset($_SESSION['rate_msg']);
    }
?> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-15T07:21:53.533

您没有为最后一条语句打开 php 标记，（或不必要地关闭它）它被视为 html

```
<?php
if(!empty($_SESSION['error_msg'])){?>
    <div style="text-align: center"><?php echo $_SESSION['error_msg'];?></div>

    <?php
    session_unset($_SESSION['error_msg']);
} 
```

~~?>~~

```
if(!empty($_SESSION['rate_msg'])){
            echo $_SESSION['rate_msg'];
            session_unset($_SESSION['rate_msg']);
        }
  ?> 
```

**编辑**

```
<?php
// < HERE IS PHP >
if(!empty($_SESSION['error_msg'])){?>
    <div style="text-align: center"><?php echo $_SESSION['error_msg'];?></div>
    <!-- HERE IS HTML -->
    <?
    // < HERE IS PHP >
    session_unset($_SESSION['error_msg']);
}
?> <!-- CLOSED PHP - NOW IT'S HTML - YOU SHOULD REMOVE IT -->

<!-- THIS IS NOT EXECUTED - BECAUSE IT'S HTML NOW -->
if(!empty($_SESSION['rate_msg'])){
            echo $_SESSION['rate_msg'];
            session_unset($_SESSION['rate_msg']);
        }
  ?> <!-- THIS IS NOT PHP TAG BECASUE THERE IS NOT OPEN TAG -->
  <form name="rating_form" action="" method="post">
      <input type="hidden" name="g_id" value="<?php echo $ratings['gallery_id'];?>"/>
      <input type="hidden" name="g_image" value="<?php echo $ratings['gallery_image'];?>"/>
      <div style="text-align: center">
          <input type="radio" name="rating" value="Hot" onclick="document.rating_form.submit();">Hot</input>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          <input type="radio" name="rating" value="Not" onclick="document.rating_form.submit();">Not</input>
      </div>
  </form> 
```

# email - 如何通过 Gmail 使用简单的 SMTP 命令发送电子邮件？

> ID：11046135
> 
> 赞同：70
> 
> 时间：2012-06-15T07:10:11.387
> 
> 标签：email, smtp, gmail, smtpclient, smtp-auth

出于教育目的，我需要使用 SMTP 的基本和简单规则通过 SMTP 服务器发送电子邮件。

我能够使用[smtp4dev](http://smtp4dev.codeplex.com/)做到这一点。我`telnet localhost 25`和和命令是：

![在此处输入图像描述](../Images/41b6b53293725a50a2aded6301a3dafe.png)

我想做同样的事情，使用 Gmail SMTP 服务器。但是，它需要身份验证和 TLS。我不知道如何为 Gmail 做到这一点。这是一个截图`telnet smtp.gmail.com 587`：

![在此处输入图像描述](../Images/da5700a4f44f9ff257f208e333baf586.png)

我搜索并找到了许多链接，包括[维基百科](http://en.wikipedia.org/wiki/STARTTLS)关于`STARTTLS`命令的文章。但我无法使用 TLS 并使用命令行（或自己用编程语言发送命令）对 Gmail 的 SMTP 服务器进行身份验证。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：117
> 
> 时间：2012-06-15T11:05:40.557

要通过 gmail 发送，您需要使用加密连接。单独使用 telnet 是不可能的，但您可以使用[openssl 之类的工具](http://slproweb.com/products/Win32OpenSSL.html)

*使用*openssl 中的 starttls 选项进行连接，将普通连接转换为加密连接...

**openssl s_client -starttls smtp -connect smtp.gmail.com:587 -crlf -ign_eof**

*或*直接连接到 ssl 套接字...

**openssl s_client -connect smtp.gmail.com:465 -crlf -ign_eof**

**EHLO 本地主机**

之后，使用 base64 编码的用户名/密码对服务器进行身份验证

**AUTH 普通 AG15ZW1haWxAZ21haWwuY29tAG15cGFzc3dvcmQ=**

从命令行获取：

```
echo -ne '\00user@gmail.com\00password' | base64
AHVzZXJAZ21haWwuY29tAHBhc3N3b3Jk 
```

然后继续“来自：”的邮件，就像你的例子一样

示例会话：

```
openssl s_client -connect smtp.gmail.com:465 -crlf -ign_eof
[... lots of openssl output ...]
220 mx.google.com ESMTP m46sm11546481eeh.9
EHLO localhost
250-mx.google.com at your service, [1.2.3.4]
250-SIZE 35882577
250-8BITMIME
250-AUTH LOGIN PLAIN XOAUTH
250 ENHANCEDSTATUSCODES
AUTH PLAIN AG5pY2UudHJ5QGdtYWlsLmNvbQBub2l0c25vdG15cGFzc3dvcmQ=
235 2.7.0 Accepted
MAIL FROM: <gryphius-demo@gmail.com>
250 2.1.0 OK m46sm11546481eeh.9
rcpt to: <somepoorguy@example.com>
250 2.1.5 OK m46sm11546481eeh.9
DATA
354  Go ahead m46sm11546481eeh.9
Subject: it works

yay!
.
250 2.0.0 OK 1339757532 m46sm11546481eeh.9
quit
221 2.0.0 closing connection m46sm11546481eeh.9
read:errno=0 
```

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2013-08-15T15:11:33.500

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2016-02-17T10:30:05.603

正如没有人提到的那样-我建议为此目的使用出色的工具**-swaks**

```
# yum info swaks
Installed Packages
Name        : swaks
Arch        : noarch
Version     : 20130209.0
Release     : 3.el6
Size        : 287 k
Repo        : installed
From repo   : epel
Summary     : Command-line SMTP transaction tester
URL         : http://www.jetmore.org/john/code/swaks
License     : GPLv2+
Description : Swiss Army Knife SMTP: A command line SMTP tester. Swaks can test
            : various aspects of your SMTP server, including TLS and AUTH. 
```

它有很多选择，几乎可以做任何你想做的事情。

**GMAIL：STARTTLS、SSLv3**（是的，在 2016 年 gmail 仍然支持 sslv3）

```
$ echo "Hello world" | swaks -4 --server smtp.gmail.com:587 --from user@gmail.com --to user@example.net -tls --tls-protocol sslv3 --auth PLAIN --auth-user user@gmail.com --auth-password 7654321 --h-Subject "Test message" --body -
=== Trying smtp.gmail.com:587...
=== Connected to smtp.gmail.com.
<-  220 smtp.gmail.com ESMTP h8sm76342lbd.48 - gsmtp
 -> EHLO www.example.net
<-  250-smtp.gmail.com at your service, [193.243.156.26]
<-  250-SIZE 35882577
<-  250-8BITMIME
<-  250-STARTTLS
<-  250-ENHANCEDSTATUSCODES
<-  250-PIPELINING
<-  250-CHUNKING
<-  250 SMTPUTF8
 -> STARTTLS
<-  220 2.0.0 Ready to start TLS
=== TLS started with cipher SSLv3:RC4-SHA:128
=== TLS no local certificate set
=== TLS peer DN="/C=US/ST=California/L=Mountain View/O=Google Inc/CN=smtp.gmail.com"
 ~> EHLO www.example.net
<~  250-smtp.gmail.com at your service, [193.243.156.26]
<~  250-SIZE 35882577
<~  250-8BITMIME
<~  250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH
<~  250-ENHANCEDSTATUSCODES
<~  250-PIPELINING
<~  250-CHUNKING
<~  250 SMTPUTF8
 ~> AUTH PLAIN AGFhQxsZXguaGhMGdATGV4X2hoYtYWlsLmNvbQBS9TU1MjQ=
<~  235 2.7.0 Accepted
 ~> MAIL FROM:<user@gmail.com>
<~  250 2.1.0 OK h8sm76342lbd.48 - gsmtp
 ~> RCPT TO:<user@example.net>
<~  250 2.1.5 OK h8sm76342lbd.48 - gsmtp
 ~> DATA
<~  354  Go ahead h8sm76342lbd.48 - gsmtp
 ~> Date: Wed, 17 Feb 2016 09:49:03 +0000
 ~> To: user@example.net
 ~> From: user@gmail.com
 ~> Subject: Test message
 ~> X-Mailer: swaks v20130209.0 jetmore.org/john/code/swaks/
 ~>
 ~> Hello world
 ~>
 ~>
 ~> .
<~  250 2.0.0 OK 1455702544 h8sm76342lbd.48 - gsmtp
 ~> QUIT
<~  221 2.0.0 closing connection h8sm76342lbd.48 - gsmtp
=== Connection closed with remote host. 
```

**雅虎：TLS 又名 SMTPS，tlsv1.2**

```
$ echo "Hello world" | swaks -4 --server smtp.mail.yahoo.com:465 --from user@yahoo.com --to user@gmail.com --tlsc --tls-protocol tlsv1_2 --auth PLAIN --auth-user user@yahoo.com --auth-password 7654321 --h-Subject "Test message" --body -
=== Trying smtp.mail.yahoo.com:465...
=== Connected to smtp.mail.yahoo.com.
=== TLS started with cipher TLSv1.2:ECDHE-RSA-AES128-GCM-SHA256:128
=== TLS no local certificate set
=== TLS peer DN="/C=US/ST=California/L=Sunnyvale/O=Yahoo Inc./OU=Information Technology/CN=smtp.mail.yahoo.com"
<~  220 smtp.mail.yahoo.com ESMTP ready
 ~> EHLO www.example.net
<~  250-smtp.mail.yahoo.com
<~  250-PIPELINING
<~  250-SIZE 41697280
<~  250-8 BITMIME
<~  250 AUTH PLAIN LOGIN XOAUTH2 XYMCOOKIE
 ~> AUTH PLAIN AGFhQxsZXguaGhMGdATGV4X2hoYtYWlsLmNvbQBS9TU1MjQ=
<~  235 2.0.0 OK
 ~> MAIL FROM:<user@yahoo.com>
<~  250 OK , completed
 ~> RCPT TO:<user@gmail.com>
<~  250 OK , completed
 ~> DATA
<~  354 Start Mail. End with CRLF.CRLF
 ~> Date: Wed, 17 Feb 2016 10:08:28 +0000
 ~> To: user@gmail.com
 ~> From: user@yahoo.com
 ~> Subject: Test message
 ~> X-Mailer: swaks v20130209.0 jetmore.org/john/code/swaks/
 ~>
 ~> Hello world
 ~>
 ~>
 ~> .
<~  250 OK , completed
 ~> QUIT
<~  221 Service Closing transmission
=== Connection closed with remote host. 
```

在过去的 5 年里，我一直在使用 swaks 通过 gmail 从 nagios 发送电子邮件通知，没有任何问题。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-03-29T23:21:43.297

根据现有的答案，这里有一个分步指南，通过 SMTP 发送自动电子邮件，使用 GMail 帐户，从命令行，不透露密码。

# 要求

首先，安装以下软件包：

*   [预计](http://www.nist.gov/el/msid/expect.cfm)
*   [OpenSSL](https://www.openssl.org/source/)
*   [核心实用程序](http://www.gnu.org/software/coreutils/coreutils.html)（base64）

这些说明假定为 Linux 操作系统，但应该很容易移植到 Windows（通过 Cygwin 或本机等效程序）或其他操作系统。

# 验证

将以下 shell 脚本另存为`authentication.sh`：

```
#!/bin/bash

# Asks for a username and password, then spits out the encoded value for
# use with authentication against SMTP servers.

echo -n "Email (shown): "
read email
echo -n "Password (hidden): "
read -s password
echo

TEXT="\0$email\0$password"

echo -ne $TEXT | base64 
```

使其可执行并按如下方式运行：

```
chmod +x authentication.sh
./authentication.sh 
```

出现提示时，提供您的电子邮件地址和密码。这看起来像：

```
Email (shown): bob@gmail.com
Password (hidden): 
AGJvYkBnbWFpbC5jb20AYm9iaXN0aGViZXN0cGVyc29uZXZlcg== 
```

复制最后一行 ( `AGJ...==`)，因为这将用于身份验证。

# 通知

将以下期望脚本另存为`notify.sh`（注意第一行指的是期望程序）：

```
#!/usr/bin/expect

set address "[lindex $argv 0]"
set subject "[lindex $argv 1]"
set ts_date "[lindex $argv 2]"
set ts_time "[lindex $argv 3]"

set timeout 10
spawn openssl s_client -connect smtp.gmail.com:465 -crlf -ign_eof 

expect "220" {
  send "EHLO localhost\n"

  expect "250" {
    send "AUTH PLAIN YOUR_AUTHENTICATION_CODE\n"

    expect "235" {
      send "MAIL FROM: <YOUR_EMAIL_ADDRESS>\n"

      expect "250" {
        send "RCPT TO: <$address>\n"

        expect "250" {
          send "DATA\n"

          expect "354" {
            send "Subject: $subject\n\n"
            send "Email sent on $ts_date at $ts_time.\n"
            send "\n.\n"

            expect "250" {
                send "quit\n"
            }
          }
        }
      }
    }
  }
} 
```

进行以下更改：

1.  粘贴`YOUR_AUTHENTICATION_CODE`身份验证脚本生成的身份验证代码。
2.  更改`YOUR_EMAIL_ADDRESS`用于生成验证码的电子邮件地址。
3.  保存文件。

例如（注意电子邮件地址保留了尖括号）：

```
send "AUTH PLAIN AGJvYkBnbWFpbC5jb20AYm9iaXN0aGViZXN0cGVyc29uZXZlcg==\n"
send "MAIL FROM: <bob@gmail.com>\n" 
```

最后，使通知脚​​本可执行如下：

```
chmod +x notify.sh 
```

# 发送电子邮件

从命令行发送电子邮件，如下所示：

```
./notify.sh recipient@domain.com "Command Line" "March 14" "15:52" 
```

# java - 使用 GSON 转 JSON > POJO

> ID：11046145
> 
> 赞同：1
> 
> 时间：2012-06-15T07:11:11.610
> 
> 标签：java, json, gson

> **可能重复：**
> [使用 GSON 将 JSON 解析为 Java POJO](https://stackoverflow.com/questions/3949986/parsing-json-to-java-pojos-using-gson)

我正在尝试使用 GSON 将此 JSON 映射到 POJO：

```
{
"get_lists": [
    {
        "Solution": [
            {
                "A05": "Herhalingsbezoek vereist"
            },
            {
                "A03": "Melding met oh verholpen"
            }
        ]
    },
    {
        "Problem": [
            {
                "R07B": "Aandrijving"
            },
            {
                "R07C": "Coating"
            }
        ]
    }
]
} 
```

但是，解决方案和问题中的键和值都可能会有所不同，而我以前不必处理这个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T07:14:00.843

如果您的键没有太大变化，您可以创建一个具有所有所需字段的类？

如果没有，您有这些解决方案：

*   使用[自定义 Deserializer](https://sites.google.com/site/gson/gson-user-guide#TOC-Custom-Serialization-and-Deserialization)。

*   解码为原始集合：这是[一个与您的问题非常相似的示例](http://code.google.com/p/google-gson/source/browse/trunk/extras/src/main/java/com/google/gson/extras/examples/rawcollections/RawCollectionsExample.java)。

*   使用以下方法反序列化您的解决方案`HashMap<String, String>[]`：

    ```
    public class ListItem {
        public HashMap<String, String>[] Solution;
        public HashMap<String, String>[] Problem;
    }

    public class Message {
        public ListItem[] get_lists;
    } 
    ```

这有点重，但它避免了使用自定义反序列化器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T11:45:34.050

据我所知，给定结构代表以下 POJO

```
class OuterObject
{
private List<MyObject> getLists;
 }

private class MyObject
{
private List<MyKeyValuePair> myList;
}

private class MyKeyValuePair
{
private String key;
private String value;
} 
```

愿这有帮助

# postgresql - 在 postgresql 中使用模式

> ID：11046152
> 
> 赞同：9
> 
> 时间：2012-06-15T07:11:42.713
> 
> 标签：postgresql, database-schema

我已经使用 postgresql 开发了一个应用程序，它运行良好。

现在我需要为同一个应用程序创建多个实例，但我只有一个数据库。所以我正在考虑使用模式，以便我可以将每个实例表分组到不同的模式中。

现在，我不想重写我所有的函数和脚本，因此我想知道是否可以使用一些指令来指示数据库在特定模式上操作。只是为了让它更清楚，你知道你什么时候在 c++

```
using namespace std; 
```

这样您就可以使用`cout`而不是`std::cout`? 如果可能的话，我想使用类似的东西。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-15T07:40:41.353

您要查找的参数是`search_path`- 列出查询将查找的模式。因此，您可以执行以下操作：

```
CREATE TABLE schema1.tt ...
CREATE TABLE schema2.tt ...
CREATE FUNCTION schema1.foo() ...
CREATE FUNCTION schema2.foo() ...
SET search_path = schema1, something_else;
SELECT * FROM tt;        -- schema1.tt
SELECT * FROM schema2.tt -- schema2.tt
SELECT foo();            -- calls schema1.foo
SELECT schema2.foo();    -- calls schema2.foo 
```

请注意，如果查询的计划保存在 foo() 的主体中，那么您可能会得到意想不到的结果。如果您使用重复表，我建议您始终明确列出 plpgsql 函数中引用表的模式。如果没有，请确保您已进行适当的测试以检查更改 search_path 的行为。

哦 - 你也可以为函数的主体显式设置 search_path - 有关详细信息，请参阅手册的 CREATE FUNCTION 参考。

# google-app-engine - 无法从 blobstore 下载文件

> ID：11046156
> 
> 赞同：0
> 
> 时间：2012-06-15T07:12:00.343
> 
> 标签：google-app-engine, python-2.7, blobstore

[我已使用此](https://developers.google.com/appengine/docs/python/blobstore/overview#Writing_Files_to_the_Blobstore)代码 成功将文件上传到 blobstore 。

但我**无法下载它**。
我正在做的是：

```
`class PartnerFileDownloadHandler(blobstore_handlers.BlobstoreDownloadHandler):
    def get(self, blob_key):
    resource = str(urllib.unquote(blob_key))
    logging.info('I am here.')  //This gets printed successfully.
    blob_info = blobstore.BlobInfo.get(blob_key)
    logging.info(blob_info)   //This gets logged too. 
    self.send_blob(blob_info)` 
```

我也试过：

```
blobstore.BlobReader(blob_key).read() 
```

我以字符串形式获取文件数据，但我无法将其写入文件，因为我猜无法从处理程序中访问本地文件系统。

我上传文件的方式是我项目中唯一的方式，所以我不能使用谷歌官方教程中指定的常用方式。此外**，我上传到 blobstore 的文件不存在于我的本地文件系统中，我从 URL 中选择它**，也许这就是我无法下载文件的问题。
有什么建议么？
谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T10:18:27.747

也许您应该使用代码示例中的**资源**而不是**blob_key ？**

```
class PartnerFileDownloadHandler(blobstore_handlers.BlobstoreDownloadHandler):
def get(self, blob_key):
resource = str(urllib.unquote(blob_key))
self.send_blob(resource) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-16T21:15:04.697

你可以这样使用 DownloadHandler：
from mimetypes import guess_type

```
 def mime_type(filename):
        return guess_type(filename)[0]
    class Thumbnailer(blobstore_handlers.BlobstoreDownloadHandler):
        def get(self , blob_key):

            if blob_key:
                blob_info = blobstore.get(blob_key)

                if blob_info:
                    save_as1 =  blob_info.filename
                    mime_type=mime_type(blob_info.filename)
                    self.send_blob(blob_info,content_type=mime_type,save_as=save_as1) 
```

# eclipse-rcp - 在我的 Eclipse RCP 中不会调用实现 AbstractPreferenceInitializer

> ID：11046158
> 
> 赞同：3
> 
> 时间：2012-06-15T07:12:09.077
> 
> 标签：eclipse-rcp, preferences

我想使用 Eclipse 机制在我的 RCP 应用程序中设置默认首选项。因此，我扩展了该类`AbstractPreferenceInitializer`以设置我的默认首选项：

```
public class PreferenceInitializer extends AbstractPreferenceInitializer {
  @Override
  public void initializeDefaultPreferences() {
    IPreferenceStore preferenceStore = PlatformUI.getPreferenceStore();
    preferenceStore.setDefault("xyz",  xyz);
    preferenceStore.setDefault("abc", false);
  }
} 
```

然后我定义了扩展点：

```
<extension point="org.eclipse.core.runtime.preferences">
  <initializer class="com.abc.PreferenceInitializer">
  </initializer>
</extension> 
```

但不幸的是，初始化程序不会在启动期间被调用（而 Eclipse`WorkbenchPreferenceInitializer`会被调用）。

有人可以给我一个提示，该怎么做才能运行吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-15T15:40:08.443

在需要这些默认值之前（而不是在应用程序启动时，我猜这是您的期望），您的首选项初始化程序代码不会被调用。

如果您有一个包含一些使用您的首选项名称的 FieldEditor 的首选项页面，则*当您转到“首选项”对话框并选择该首选项页面时，将调用您的首选项初始化程序。*

类似于以下内容：

```
public class MyPreferencePage extends FieldEditorPreferencePage implements IWorkbenchPreferencePage {

    public void createFieldEditors() {
        Composite parent = getFieldEditorParent();
        addField(new StringFieldEditor(Constants.PREFERENCES.FILE_COMPARE_TOOL_LOCATION, "File compare tool location", parent));
        addField(new StringFieldEditor("xyz", "XYZ Value", parent));
        addField(new BooleanFieldEditor("abc", "Enable the ABC widget", parent));
    }

} 
```

当然，页面的扩展点：

```
<extension point="org.eclipse.ui.preferencePages">
  <page
        class="whatever.package.MyPreferencePage"
        id="whatever.package.MyPreferencePage"
        name="MyPrefs">
  </page>
</extension> 
```

# mysql - 如何安全地加密数据库中的信用卡信息

> ID：11046167
> 
> 赞同：8
> 
> 时间：2012-06-15T07:12:35.470
> 
> 标签：mysql, database, encryption, credit-card

我已经阅读了[在 MySQL 数据库中保存信用卡信息？](https://stackoverflow.com/questions/3328922/saving-credit-card-information-in-mysql-database)和[存储信用卡信息](https://stackoverflow.com/questions/633384/storing-credit-card-information)。

我知道存储信用卡信息需要 PCI 合规性，这不是一件容易的事。

这不是这个问题的目的。我的问题如下：

加密用户信用卡的安全方法是什么？想到的最简单和最简单的方法是使用私钥并用它加密 CC。这似乎不太安全，因为密钥必须存储在服务器上，如果攻击者可以获取我的数据库，他们可能也可以获得密钥。

我希望能够做的是使用该用户密码加密每个 CC 作为加密过程的一部分。如果有人获得数据库，他们将无法解密任何内容，因为密码存储为加盐哈希。这对于交易购买非常有用——用户点击“购买”，输入他们的密码作为确认，我解密他们的 CC 并进行收费。他们的密码仅在请求期间在内存中，并且永远不会写入磁盘。

不幸的是，这不适用于我正在尝试构建的内容 - 一项收取经常性费用（例如，每月一次）的服务，无论用户是否在我需要收费时登录。

鉴于这种情况，是否有一种安全的方式来存储用户 CC？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-15T07:26:28.277

由于您需要能够解密，因此加密密钥总是有可能泄漏，您将失去一切。因此，您永远无法获得*绝对*的安全性，但您可以让攻击者更难获取数据。

除了您之外，没有人可以真正判断您应该拥有什么级别的安全性（或默默无闻）。这很可能是数据库大小、可见性等的函数。

对于泄漏，不幸的是，您将不得不假设所有内容都会泄漏，并且迟早（例如，对弱密码进行暴力攻击）当它们泄漏时您并没有获得太多收益。

鉴于上一次信用卡泄露丑闻 - 最糟糕的是 3 位数 (CVV) 号码与常规信用卡号码一起保存，信用卡公司明确禁止这种情况（这就是为什么即使有人有，你也必须再次提供您的信用卡信息存档）

如果您不想承担保存和处理此类数据的责任，一个好方法是使用外部支付服务 - 让他们进行处理，然后向您断言付款已处理。您必须为他们的服务付费，但您还必须为实施自己的解决方案和承担风险付费。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-05-25T02:47:49.517

如果您使用密码作为 CC 加密的盐，这将是保护信息的一种非常有效的方法，但是，他们将永远无法更改他们的密码......如果更改了，那么加密的数据就会丢失. 保护加密密钥的底线是使其尽可能难以找到......基本上你隐藏密钥的步骤越多，他们就越难找到它......这意味着它更难您可以使用它并为其编程。此时没有灵丹妙药可以保护一切。（发明一种安全的方式来保存密钥，你就会变得富有）

至于CVV号，不能如前所述存储。对于每笔交易，抄送处理公司都会给商家一个参考号，然后在每次重复付款中使用该参考号。这意味着，如果原始交易需要 CVV 编号，那么逻辑将规定定期付款也将由在第一笔交易中输入的同一用户授权。因此，重复付款将不需要 CVV 来保持相同的安全级别。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-06-27T16:59:48.380

当用户进行购买时，使用 php 的私有/公共 openssl 函数，您使用内存中的数据进行购买，然后使用公钥存储信息以对其进行加密。

要按月处理帐单，您可以使用可以手动插入或存储在代码中的私钥解密数据。如果您想将 ssl 密钥存储在代码中，而不必每次都记住或获取它。我将使用存储在配置变量中的盐加密密钥 + 购买一个 yubi 密钥并在其上生成一个 32 个字符的密码 + 我自己的密码。将 yubikey 存放在安全的地方（安全的哈哈）。当您需要处理信用卡时，请使用在后台运行并一次运行所有计费的脚本来完成。要更改密码，您需要解密所有卡并使用新的私钥/公钥重新加密它们，或者您可以只解密并重新加密私钥 ssl。

魔法 ：）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-03-25T21:06:02.413

您基本上可以使用多个服务器。使用密钥加密 cc，但将该密钥保存在单独的加密服务器上，只能通过 Windows 或您正在使用的任何操作系统的主用户名和密码访问。通过这种方式，您可以保护您的密钥，在加密服务上设置服务以通过加密运行卡，然后将其提交到数据库。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-15T07:21:56.023

您需要对卡信息进行可逆加密。解密信息必须来自某个地方。您已经说过数据不能来自用户，并且您不希望将其存储在服务器上，因此它必须位于可能更安全的单独设备上。如果您有能力回忆起这些信息，那么入侵您系统的攻击者也有能力回忆起这些信息。因此，在解密过程中，可能不会在易受攻击的主机上检索到解密信息。

也许考虑一个可以加密并向其发送信息的第三方服务，也许是专门从事 PCI 合规性的服务。当您第二次发送信用卡信息并收取费用时，它可能能够解密信用卡信息，或者它可能实际存储信用卡信息以供以后使用。它甚至可以为您执行经常性交易。

[http://www.authorize.net/solutions/merchantsolutions/merchantservices/automatedrecurringbilling/](http://www.authorize.net/solutions/merchantsolutions/merchantservices/automatedrecurringbilling/)

我只是在谷歌上搜索过，我不推荐他们。但这是一个例子。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2015-10-05T07:29:46.290

对抄送信息进行两次加密。首先，根据用户密码（+ salt）加密信用卡数据。然后用服务器的密钥加密它的输出。

要访问这些信息，您需要用户的密码（即使用服务器的密钥解密，然后根据密码解密）。如果数据库和服务器密钥被泄露，在不首先攻击用户密码的情况下，信息仍然不会暴露。

用户的密码用于内部加密很重要 - 这允许您在更改服务器加密密钥时重新加密。

当用户更改密码时，您还需要重新加密数据。如果用户重新设置了密码，那么 CC 信息应该被删除（无论如何都会丢失，因为它不能被解密）。

# java - 我可以阅读链接键表吗？

> ID：11046169
> 
> 赞同：0
> 
> 时间：2012-06-15T07:12:37.490
> 
> 标签：java, android, c, bluetooth

我想保存我的蓝牙链接密钥表。（存储有关配对设备的数据的位置）

有没有办法以编程/物理方式读取这些数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T17:25:45.017

我有点困惑，你有 Android/Java 和“C”的标签，但我假设你在谈论 Android。

Android 蓝牙 API 相当有限（即使使用 NDK）——您甚至无法接近链接密钥。

想一想，如果他们让您访问整个链接密钥表，我认为这将违反安全规定。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T19:56:54.803

该线程上的一个答案提到了一种使用 ADB 在 android 上获取链接密钥的方法： [https ://superuser.com/questions/229930/finding-bluetooth-link-key-in-windows-7-to-double-pair -a-device-on-dualboot-com](https://superuser.com/questions/229930/finding-bluetooth-link-key-in-windows-7-to-double-pair-a-device-on-dualboot-com)

# algorithm - 具有重载/阶梯函数的神经网络学习算法

> ID：11046173
> 
> 赞同：4
> 
> 时间：2012-06-15T07:13:30.360
> 
> 标签：algorithm, neural-network

前馈神经网络的训练算法是否有任何实现（或直接描述），它不使用 sigmoid 或线性 squash 函数，而是使用不可微分的函数，例如 heaviside 函数？

我已经找到了[一篇关于这种算法](http://ieeexplore.ieee.org/iel3/1059/7404/00298832.pdf?arnumber=298832)的论文，但没有相应的实现，这让我感到困惑，在我看来，应该有一些东西出来。

有什么提示吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-15T12:48:17.153

反向传播不适用于重边函数，因为它的导数在所有域中都是零，除了点零，它是无限的。也就是说，重边函数的导数是[狄拉克三角洲](http://en.wikipedia.org/wiki/Dirac_delta_function)。

这样做的结果是除了零之外的任何值都没有变化，并且无法取得进展。在零点，导数是无限的，因此该步也不可控。

你可以在网上找到[这个函数的 Java 实现](http://franck.fleurey.free.fr/NeuralNetwork/javadoc/NeuralNetwork/HeavisideActivationFunction.html)，但我仍然认为使用它不是一个好主意。如果你增加 sigmoid 函数中的 gama 功率，它就变成了一个非常好的近似重边函数，并增加了可微性的好处。

查看[这篇论文](http://www.ntu.edu.sg/home/egbhuang/TCASII-ELM-Threshold-Network.pdf)，看看它是否有任何可能对您有帮助的信息。

# c# - 配置 WCF 依赖项

> ID：11046175
> 
> 赞同：3
> 
> 时间：2012-06-15T07:13:37.567
> 
> 标签：c#, wcf, castle-windsor

我正在尝试在 Windows 服务主机中托管我的 WCF 服务。为了管理依赖项，我使用 Castle WCF 工具。

这就是我的 ContainerConfiguration(BootStrapper) 的样子：

```
 public class ConfigureContainer : IConfigureContainer
        {
            private const string ServiceOne= "ServiceOne";
            private const string ServiceTwo      = "ServiceTwo";
            private const string ServiceThree = "ServiceThree";
            private const string CurrentAssembly      = "MyAssembly";

            private readonly IWindsorContainer container;

            public ConfigureContainer(IWindsorContainer container)
            {
                this.container = container;
            }

            public IWindsorContainer WindsorContainer { get { return container; } }

            public void AndRegisterComponents()
            {
                container.Register(AllTypes.FromAssemblyNamed(CurrentAssembly)
                       .Pick().If(type => type.GetInterfaces().Any(i => i.IsDefined(typeof(ServiceContractAttribute), true)))
                       .Configure(configurer => configurer
                                                    .Named(configurer.Implementation.Name)
                                                    .AsWcfService(
                                                        new DefaultServiceModel()
                                                            .AddEndpoints(
                                                                WcfEndpoint.FromConfiguration(ServiceOne),
                                                                WcfEndpoint.FromConfiguration(ServiceTwo),
                                                                WcfEndpoint.FromConfiguration(ServiceThree))
                                                                .PublishMetadata()))
                       .WithService.Select((type, baseTypes) => type.GetInterfaces()
                           .Where(i => i.IsDefined(typeof(ServiceContractAttribute), true))));

            }
        } 
```

这就是我在服务主机内进行托管的方式：

```
partial class DataServicesHost : ServiceBase
    {
        private IWindsorContainer windsorContainer;
        public DataServicesHost()
        {
            InitializeComponent();
        }

        protected override void OnStart(string[] args)
        {
            var configure = new ConfigureContainer();
            windsorContainer = configure.WindsorContainer;
        }

        protected override void OnStop()
        {
           if(windsorContainer != null)
           {
             windsorContainer.Dispose();
             windsorContainer = null;
           }
        }
    } 
```

我的 ServiceOne 实现如下：

```
[ServiceContract]
    internal interface IServiceOne
    {
        [OperationContract]
        void DoSomething();
    }

    public class ServiceOne : IServiceOne
    {
        private readonly IDependency dependency;

        public ServiceOne(IDependency dependency)
        {
            this.dependency = dependency;
        }

        public void DoSomething()
        {
            dependency.GetSomething();
            //do something
        }
    }

    public interface IDependency
    {
        void GetSomething();
    }

    public class Dependency : IDependency
    {
        public void GetSomething()
        {
            //GetSomeThing
        }
} 
```

现在我的问题是：如何将 IDependency 传递给容器？我将如何配置它，以便在托管它时，它不会抱怨不让主机知道依赖关系并继续查找和故障转移默认构造函数实现？

谢谢，-迈克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T12:53:54.790

您需要在**WCF ServiceHost**而不是 Windows 服务代码中为 WCF 服务启动 Windsor 容器。查看有关[Castle WCF 设施](http://www.codewrecks.com/blog/index.php/2009/04/27/castle-wcf-facility-integration-on-windows-service-or-console/)和 [Windows 服务中的](http://csharperimage.jeremylikness.com/2009/12/host-wcf-as-windows-service-without.html)WCF 的这两篇博客文章，了解您需要做什么。基本上，Windows 服务代码只是启动您从 Castle WCF 工具获得的 WCF ServiceHostFactory，而该工厂是实际配置 Castle 容器的内容。

# java - 休眠：@OrderBy

> ID：11046176
> 
> 赞同：0
> 
> 时间：2012-06-15T07:13:38.183
> 
> 标签：java, hibernate

我必须按日期订购子实体列表。现在我正在这样做：

```
@OrderBy(clause = "arrivalDate ASC, arrivalTime ASC, departureDate ASC, departureTime ASC") 
```

其中到达日期和出发日期包含日期，到达时间和出发时间包含时间，但它们都是日期类型。

一切都很好，直到我将新项目添加到列表中 - 它始终出现在列表的末尾。我该如何解决？谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-15T07:26:40.903

OrderBy 子句仅在 Hibernate 从数据库中选择实体时使用。一旦列表在内存中，它就可以像 Java 中的任何其他列表一样工作。如果您向列表中添加某些内容，则该`List.add()`方法的工作方式就像它在其 javadoc 中记录的那样，并且该元素将添加到列表的末尾。

如果您希望将新项目插入到列表中的适当索引处，您必须自己找到此索引，或者将其添加到列表中并使用比较器对列表进行排序，该比较器根据项目的到达日期对项目进行排序, 到达时间等

当然，请注意，如果您更改列表中已存在的项目中的其中一个字段，则列表将不再具有正确的顺序。

也许您应该完全避免使用 @OrderBy 注释，而只需`getSortedItems()`在您的实体中添加一个方法，该方法将返回项目列表的排序副本。

# cocoa - 如何将带注释的 PDF 转换为图像？

> ID：11046180
> 
> 赞同：1
> 
> 时间：2012-06-15T07:13:48.380
> 
> 标签：cocoa

我有一个带注释的 PDF 并想将其转换为图像。pdf 已成功转换为图像，但转换中缺少注释。

这是代码：

```
NSPDFImageRep *img = [NSPDFImageRep imageRepWithContentsOfFile:PdfFilePath];
NSFileManager *fileManager = [NSFileManager defaultManager];

[img setCurrentPage:0];

NSImage *temp = [[NSImage alloc] init]; 
[temp addRepresentation:img]; 
NSBitmapImageRep *rep = [NSBitmapImageRep imageRepWithData:[temp TIFFRepresentation]]; 
NSData *finalData = [rep representationUsingType:NSJPEGFileType properties:nil]; 
NSString *pageName = [NSString stringWithFormat:@"Page1_%d.jpeg", 0]; 
NSString *imgFilePath = [NSString stringWithFormat:@"%@/%@",@"/Users/Desktop/PDFImages", pageName];
[fileManager createFileAtPath:imgFilePath contents:finalData attributes:nil]; 
```

是否有不同的方法将带注释的 pdf 存储到图像？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T05:18:28.023

使用图像锁定和解锁功能解决了该问题。

```
 NSSize     pageBounds1;
    pageBounds1 = [page1 boundsForBox: [_pdfView displayBox]].size;
    NSImage *temp = [[NSImage alloc] initWithSize:pageBounds1];

    [temp lockFocus];
    [page1 drawWithBox:kPDFDisplayBoxMediaBox];
    [temp unlockFocus];

    NSBitmapImageRep *rep = [NSBitmapImageRep imageRepWithData:[temp TIFFRepresentation]]; 
    NSData *finalData = [rep representationUsingType:NSJPEGFileType properties:nil]; 
    NSString *pageName = [NSString stringWithFormat:@"Page1_%d.jpg", pageIndex]; 
    NSString *imgFilePath = [NSString stringWithFormat:@"%@/%@",pathForImages, pageName];
    [fileManager createFileAtPath:imgFilePath contents:finalData attributes:nil]; 
```

# javascript - 通过 PHP 从 mp3 文件中获取封面并显示

> ID：11046182
> 
> 赞同：6
> 
> 时间：2012-06-15T07:13:56.847
> 
> 标签：javascript, jquery, mp3

所以我正在建立一个播客网站，我希望能够上传歌曲并让封面艺术出现在播放按钮旁边。我已经设置了 jPlayer 并且音乐部分已经完成，但是我如何使用 - 最好是 PHP，但如果不是，则使用 javascript 或 jQuery - 来抓取嵌入 mp3 文件的封面并显示它？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T07:34:48.257

专辑封面是由于 ID3v2 规范而被标识为“附加图片”的数据帧，而 getID3() 现在只是使用纯 PHP 在 ID3v2 中写入所有可能的数据帧的一种方法。

看看这个来源： http: [//getid3.sourceforge.net/source/write.id3v2.phps](http://getid3.sourceforge.net/source/write.id3v2.phps)

在源代码中搜索此文本：

```
// 4.14  APIC Attached picture 
```

有一段代码负责编写专辑封面。

另一种似乎不像纯PHP那么慢的方法是使用一些外部应用程序，该应用程序将由PHP脚本启动。如果您的服务设计为在高负载下工作，二进制编译工具将是一个更好的解决方案。

**更好（更快）的方法是通过外部应用程序和 PHP exec() 函数来执行命令。我会推荐[eyeD3](http://eyed3.nicfit.net/)。**

# python - python和基于决策树验证业务规则

> ID：11046187
> 
> 赞同：7
> 
> 时间：2012-06-15T07:14:14.930
> 
> 标签：python, decision-tree

假设您在管理系统中有一组要检查的确定性业务规则。规则可以基于数值、布尔值、分类等值，例如：

```
if product in ['x','y','z']:
    if age > 30:
        if amount < 100000:
            rule = 'A'
elif product == 'a':
    rule = 'B'
elif .... 
```

可能的检查可以基于具有可能值的文件或将决策树作为一个整体进行比较的检查，前提是您具有某种格式的分析。

您可以编写此类测试，但在从头开始之前，我正在搜索是否有一些 python 包可以帮助完成此类工作或解决此类问题的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T08:25:24.630

[DecisionTree](http://pypi.python.org/pypi/DecisionTree/1.5) 是一个纯 Python 实现，用于从多维训练数据构建决策树，然后使用决策树对未来数据进行分类。

# foursquare - 应用程序展示从foursquare网站消失

> ID：11046190
> 
> 赞同：0
> 
> 时间：2012-06-15T07:14:29.860
> 
> 标签：foursquare

最近，foursquare.com 网站上有一个部分列出了所有应用程序。但是现在由于某种原因无法访问。我什至将链接存储在 Google 搜索结果中，并带有foursquare“找不到页面”错误的指南：

[https://foursquare.com/app/jet_lovers__your_flight_club](https://foursquare.com/app/jet_lovers__your_flight_club)

有谁知道发生了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T18:36:14.343

我们把它拿下来做一些改进——最终会推出一个新版本。

# html - 内容 背景颜色不正确

> ID：11046193
> 
> 赞同：0
> 
> 时间：2012-06-15T07:14:39.177
> 
> 标签：html, css

我有以下 HTML 页面，内容的背景颜色与主体背景颜色没有区别。我已经盯着这个看了一个多小时，找不到错误。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Untitled Document</title>
<link href="twoColLiqLtHdr.css" rel="stylesheet" type="text/css" /><!--[if lte IE 7]>
<style>
.content { margin-right: -1px; } /* this 1px negative margin can be placed on any of the columns in this layout with the same corrective effect. */
ul.nav a { zoom: 1; }  /* the zoom property gives IE the hasLayout trigger it needs to correct extra whiltespace between the links */
</style>
<![endif]-->
</head>

<body>

<div class="container">
  <div class="header"><img src="logo.png" width="35%" height="90" style="background: #A9B92E; display:block;" /> 
    <!-- end .header --></div>

  <div class="sidebar1">
    <ul class="nav">
      <li><a href="home.php">Home</a></li>
      <li><a href="search.php">Search</a></li>
      <li><a href="codebook.php">Tag Codebook</a></li>
      <li><a href="articleadmin.php">Article Admin.</a></li>
    </ul>
    <p>&nbsp;</p>
    <!-- end .sidebar1 --></div>

  <div class="content">
      <form id="form" name="form" action="" method="post">
      <input type="hidden" name="id" value="<?php echo $id; ?>"/>
        <h1>Edit Details for &nbsp; &nbsp;<?php echo $articletitle; ?></h1>
        <table width="100%" border="0" cellpadding="6">
          <tr align="center" valign="middle">
            <td colspan="2"><legend>Article details</legend></td>
          </tr>
          <tr>
            <td width="26%" align="right"><span class="field">Article Title</span></td>
            <td width="74%" align="left"><span class="field">
              <input name="articletitle" type="text" value="<?php echo $articletitle; ?>" size="50"/>
            </span></td>
          </tr>
          <tr>
            <td align="right"><span class="field">Article Author</span></td>
            <td align="left"><span class="field">
              <input name="articleorganization" type="text" value="<?php echo $articleorganization; ?>" size="50"/>
            </span></td>
          </tr>
          <tr>
            <td align="right"><span class="field">Article Date</span></td>
            <td align="left"><span class="field">
              <input name="articledate" type="text" value="<?php echo $articledate; ?>" size="50"/>
            </span></td>
          </tr>
          <tr>
            <td align="right"><span class="field">Article Url:</span></td>
            <td align="left"><span class="field">
              <input name="articleurl" type="text" value="<?php echo $articleurl; ?>" size="50"/>
            </span></td>
          </tr>
          <tr>
            <td align="right"><span class="field">Article Tags:</span></td>
            <td align="left"><span class="field">
              <input name="articletags" type="text" value="<?php echo $articletags; ?>" size="50"/>
            </span></td>
          </tr>
          <tr align="center" valign="middle">
            <td colspan="2"><input type="submit" name="submit" value="Submit" /></td>
          </tr>
        </table>
          </div>
       </form>
    </div>
  </div>
  <div class="footer">
    <p>My Footer</p>
    <!-- end .footer --></div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:02:19.053

查看您的 CSS 后，您还没有为您的内容类定义背景颜色

```
 .content {
    padding: 10px 0;
    width: 80%;
    float: left;
   } 
```

我建议您使用**ID**而不是**Class**，因为您的内容 div 是唯一的。

**编辑**

我认为你的意思是为什么 div 类容器没有显示它 background-color = #FFF; ? 抱歉弄错了您的问题，您应该添加 .container css。

```
overflow: hidden; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:27:51.150

此时您需要清除浮动 - 添加`<div style="clear:both;"></div>`我放置的代码。

```
 </form>
    <div style="clear:both;"></div>
    </div>      
  </div>
  <div class="footer"> 
```

演示：http: [//jsfiddle.net/UAbe9/1/](http://jsfiddle.net/UAbe9/1/)

# encryption - PowerBuilder 标准脚本加密

> ID：11046195
> 
> 赞同：0
> 
> 时间：2012-06-15T07:14:47.020
> 
> 标签：encryption, powerbuilder

所以就是这种情况。我们公司有自己的标准代码和窗口（用于常用例程和继承），用于开发应用程序。这些“标准代码和窗口”保存在它自己的库（pbl）中。通常，当我们将软件部署到客户端时，我们只是将其编译为 pbd 和 exe，但这次我们的客户端也需要软件的源代码。问题是当我们将源代码提供给客户端时，我们不希望我们的标准代码和窗口可见。那么有没有办法加密（屏蔽，隐藏等......）代码。

我希望有人能指出我应该从哪里开始研究。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T11:27:32.610

.pbls 包含源、资源和二进制文件，而 .pbd 不包含源。

如果您不想泄露任何源代码，只需提供 .pbd 和 .exe 文件即可。

如果您确实想给出应用程序的源代码减去标准库的源代码，请给出除标准库之外的所有 .pbl 文件，并给出标准库的 .pbd。因此，您的客户端甚至可以重新编译应用程序（假设标准库对象被调用，但不要从应用程序调用其他 pbject）。

请注意，与 Java 一样，PowerBuilder 对象*可以*使用正确的工具从二进制文件中反编译。

我不知道加密 PB 源代码的方法，但有可能通过[PB-Protect](http://www.pb-protect.com/)混淆对象。我从来没有使用过它，我不能告诉更多关于它的信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-26T17:56:53.827

如果他们真的在寻找你消失的保险，也许代码托管服务可能是可以接受的？我的公司应客户要求将我们的资源作为付费合同行项目托管，我认为是 Iron Mountain。

# sql - 查询形成问题

> ID：11046197
> 
> 赞同：0
> 
> 时间：2012-06-15T07:15:02.790
> 
> 标签：sql, oracle

我正在尝试在 oracle 中执行以下查询，但无法在此处形成
`user_id = 561 in x1_table`。查询看起来像

```
delete from x1_table where id in (select id from y1_table where actual_id=123 )
and user_id of x1_table should not be a part of select owner_id from y1_table 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:24:15.553

```
 delete x from x1_table x 
    where x.user_id = 123 and
    x.id in (select id from y1_table where actual_id = 123 ) and 
    x.user_id not in ( select owner_id from y1_table ); 
```

由于我们在两个表中都有共同的列“id”，我们可以使用连接来构建查询

```
 delete x from x1_table x join y1_table y
    on x.id = y.id
    where x.user_id = 789 and
    y.actual_id = 123 and
    x.user_id != y.owner_id; 
```

# java - 无法从线程启动活动

> ID：11046200
> 
> 赞同：1
> 
> 时间：2012-06-15T07:15:28.020
> 
> 标签：java, android

我无法从线程开始活动。我想在 2 秒后开始一项活动。但它给出了错误 - 应用程序意外停止。

这是我要从中运行线程的活动的代码。

```
package com.pack.prog;

import android.app.Activity;
import android.content.Intent;
import android.media.MediaPlayer;
import android.os.Bundle;
import android.view.Window;
import android.view.WindowManager.LayoutParams;
import android.widget.Toast;

public class Splash extends Activity {

    MediaPlayer mPlayer;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        try {
            super.onCreate(savedInstanceState);
            requestWindowFeature(Window.FEATURE_NO_TITLE);
            getWindow().setFlags(LayoutParams.FLAG_FULLSCREEN,
                    LayoutParams.FLAG_FULLSCREEN);

            setContentView(R.layout.splash);

            mPlayer = MediaPlayer.create(Splash.this, R.raw.happy_moments);
            mPlayer.start();

            Thread thread = new Thread() {
                public void run() {

                    try {
                        sleep(2000);
                    } catch (Exception e) {
                        // TODO Auto-generated catch block
                        Toast.makeText(Splash.this, e.toString(),
                                Toast.LENGTH_LONG).show();
                    } finally {
                        Intent i = new Intent("com.pack.prog.StartingMenu");
                        startActivity(i);
                    }

                };
            };
            thread.start();

        } catch (Exception e) {
            Toast.makeText(this, e.toString(), Toast.LENGTH_LONG).show();
        }
    }

    @Override
    protected void onPause() {

        try {
            super.onPause();
            if (mPlayer.isPlaying()) {
                mPlayer.release();
            }
        } catch (Exception e) {
            // TODO Auto-generated catch block
            Toast.makeText(this, e.toString(), Toast.LENGTH_LONG).show();
        }
    }

    @Override
    public void onBackPressed() {
        try {
            super.onBackPressed();
            if (mPlayer.isPlaying()) {
                mPlayer.release();
            }
        } catch (Exception w) {
            Toast.makeText(this, w.toString(), Toast.LENGTH_LONG).show();
        } finally {
            finish();
        }
    }

} 
```

这是清单文件。

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.pack.prog"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk android:minSdkVersion="10" />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
        <activity
            android:name=".Splash"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <activity
            android:name=".StartingMenu"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="com.pack.prog.STARTINGMENU" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>

    </application>

</manifest> 
```

我认为只有清单存在一些问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T07:20:51.147

我认为动作名称不同`"com.pack.prog.StartingMenu"`并且在清单中 `"com.pack.prog.STARTINGMENU"`

并在 UI 线程中执行此操作.....

```
 mPlayer = MediaPlayer.create(Splash.this, R.raw.happy_moments);
  mPlayer.start();
new Handler().postDelayed(new Runnable() {

                public void run() {

                    Intent i = new Intent("com.pack.prog.STARTINGMENU"); //<--- what ever which is right
                    startActivity(i); 
                }
            }, 2000); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-15T09:58:16.490

试试这个

```
 mediaplayer = MediaPlayer.create(getBaseContext(), R.raw.happy_moments);
    mediaplayer.start();                                                       
        MyThread myThread=new MyThread();
        myThread.start();

}                
class MyThread extends Thread
{
    public void run(){
        try{                                      
            Thread.sleep(2000);                
        }                              
        catch(Exception ex){

            Log.e("Welcome Exception :",ex.toString());
        }                      
        mHandler.sendEmptyMessage(0);     
    }                   
}
Handler mHandler=new Handler(){
    public void handleMessage(Message msg){
        super.handleMessage(msg);                

        if ( )
        {    
            MyThread myThread=new MyThread();
            myThread.start();
        }
        else
        {
     Intent i=new Intent(firstactivity.this,secondactivity.class);
            startActivity(i);
            finish();
        }
    }
}; 
```

}

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-15T07:21:39.370

**首先**，您的操作不匹配 `Intent i = new Intent("com.pack.prog.StartingMenu");` ，并且在清单中是`<action android:name="com.pack.prog.STARTINGMENU" />`

**第二个** 严重问题

您可以在线程中触摸 UI 部分，您可以通过将它们封闭在线程内与 UI 进行交互`runOnUiThread`。

所以把你的代码改成这个。

```
Thread thread = new Thread() {
            public void run() {

                try {
                    sleep(2000);
                } catch (Exception e) {
                    runOnUiThread(new Runnable() {

                        @Override
                        public void run() {
                            Toast.makeText(Splash.this, e.toString(),
                                    Toast.LENGTH_LONG).show();

                        }
                    });

                } finally {
                    runOnUiThread(new Runnable() {

                        @Override
                        public void run() {
                            Intent i = new Intent("com.pack.prog.StartingMenu");
                            startActivity(i);

                        }
                    });

                }

            };
        };
        thread.start(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-15T07:19:39.603

应该使用

```
runOnUiThread(new Runnable() {
    public void run() {
                    try {
                        sleep(2000);
                    } catch (Exception e) {
                        // TODO Auto-generated catch block
                        Toast.makeText(Splash.this, e.toString(),
                                Toast.LENGTH_LONG).show();
                    } finally {
                        Intent i = new Intent("com.pack.prog.StartingMenu");
                        startActivity(i);
                    }
    }
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-15T07:20:41.747

你不能从工作线程执行与 UI 相关的东西

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-15T07:25:21.543

我更喜欢使用`Timer`. 检查以下实现：

```
Timer t =new Timer();
t.schedule(new TimerTask() {

    @Override
    public void run() {
        Intent i = new Intent("com.pack.prog.StartingMenu");
        startActivity(i);
    }
}, 2000); 
```

# c++ - C ++中的继承单例

> ID：11046201
> 
> 赞同：0
> 
> 时间：2012-06-15T07:15:29.470
> 
> 标签：c++, inheritance, singleton

你能看看这段代码吗：

```
#include <vector>
class A
{
public:
    A(int a, int b);
};

class C :public A
{
public:
    C(int a, int b):A(a,b){}
    static C instances;
};

C C::instances;

int main()
{
    return 1;
} 
```

编译给我的错误是：

```
$ c++继承.cpp
继承.cpp:16:6：错误：没有匹配的函数调用'C::C()'
继承.cpp:16:6：注意：候选人是：
继承.cpp:12:2：注意：C::C(int, int)
继承.cpp:12:2：注意：候选人需要 2 个参数，提供 0
继承.cpp:8:7: 注意：C::C(const C&)
继承.cpp:8:7: 注意：候选人需要 1 个参数，0 提供

```

我需要 C 从 A 继承，我需要 A 在其构造函数中有参数。最后，我需要声明和定义不带参数的实例的静态变量。那么有没有解决办法呢？我重视你的善意评论。

还有一点需要注意：如果静态变量是一个容器，比如：

> 静态 std::vector 实例；

代码可以编译得很好。为什么？

**编辑：**

感谢所有的答案，但是，如果我修改`C C::instances;`为`C C::instances(0,0);`我会得到另一个错误： $ c++ inherit.cpp /tmp/cctw6l67.o: In function `C::C(int, int)': inheritance.cpp:(.text._ZN1CC2Eii[_ZN1CC5Eii]+0x1b): undefined reference to`A::A(int, int)' collect2: ld returned 1 exit status

知道为什么吗？以及如何解决？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-15T07:19:57.983

如果您定义了构造函数，编译器将不再为您生成默认构造函数，而您尝试使用`C C::instances;`. 您可以通过调用可用的构造函数来绕过它：

```
C C::instances(0,0); 
```

或为`C`.

和

```
static std::vector<C> instances; 
```

它编译是因为没有创建任何元素，并且`std::vector`有一个默认构造函数初始化一个空向量。但

```
C::instances.push_back(C()); 
```

不会编译。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T07:20:51.857

`C C::instances;`你正在构造一个对象，因此调用它的构造函数。

由于您提供了带有两个参数`C(int a, int b)`的构造函数，因此不再为您自动生成默认构造函数（不需要）。因此，您必须使用 2 个参数创建实例，或者`C C::instances(0, 0)`为 C 提供额外的默认构造函数：

```
C() : A(0, 0)
{
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-15T07:21:43.253

关于你的第一个问题：你收到这个错误，因为这条线

```
C C::instances; 
```

尝试调用`C`不带参数的构造函数（即`C::C()`）。您可以通过引入使用两个默认值`C::C()`调用的构造函数来解决此问题`A::A(int, int)`，或者为现有构造函数指定默认值，例如

```
C::C(int a = 0, int b = 0) : A(a, b) {} 
```

关于第二个问题： a`std::vector`有一个默认构造函数。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-15T07:28:27.643

`C C::instances;`

这将尝试调用默认构造函数，并且编译器不会提供一个，因为您提供了一个构造函数。

将默认构造函数添加到`class A`和`class C`

```
class A
{
public:
   A(int a, int b);
   A() {}  // implement default constructor
 };

//class C
 class C :public A
 {
 public :

    C(int a, int b):A(a,b){}
     C() {} // default constructor
     static C instances;
  }; 
```

`static std::vector instances;`

这将起作用，因为`std::vector`有一个默认构造函数。

# c# - 如何在 WPF 中获取打印机名称和端口名称？

> ID：11046205
> 
> 赞同：1
> 
> 时间：2012-06-15T07:15:58.780
> 
> 标签：c#, wpf

我是 WPF 的新手。我想将打印机名称和端口（当前连接到我的系统）添加到组合框中。

有人可以告诉我一个简单的解决方案吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T07:40:38.727

您可以使用 .net 中的 System.Management dll。

```
using System.Management;

ManagementObjectSearcher printers= new ManagementObjectSearcher("Select Name from Win32_Printer");

foreach (ManagementObject printer in printers.Get())
    Console.WriteLine("Name: {0}", printer.GetPropertyValue("Name")); 
```

如果您需要更多信息而不仅仅是名称，可以使用以下信息（取自[此处](http://msdn.microsoft.com/en-us/library/windows/desktop/aa394363%28v=vs.85%29.aspx)。）

```
class Win32_Printer : CIM_Printer
{
  uint32   Attributes;
  uint16   Availability;
  string   AvailableJobSheets[];
  uint32   AveragePagesPerMinute;
  uint16   Capabilities[];
  string   CapabilityDescriptions[];
  string   Caption;
  string   CharSetsSupported[];
  string   Comment;
  uint32   ConfigManagerErrorCode;
  boolean  ConfigManagerUserConfig;
  string   CreationClassName;
  uint16   CurrentCapabilities[];
  string   CurrentCharSet;
  uint16   CurrentLanguage;
  string   CurrentMimeType;
  string   CurrentNaturalLanguage;
  string   CurrentPaperType;
  boolean  Default;
  uint16   DefaultCapabilities[];
  uint32   DefaultCopies;
  uint16   DefaultLanguage;
  string   DefaultMimeType;
  uint32   DefaultNumberUp;
  string   DefaultPaperType;
  uint32   DefaultPriority;
  string   Description;
  uint16   DetectedErrorState;
  string   DeviceID;
  boolean  Direct;
  boolean  DoCompleteFirst;
  string   DriverName;
  boolean  EnableBIDI;
  boolean  EnableDevQueryPrint;
  boolean  ErrorCleared;
  string   ErrorDescription;
  string   ErrorInformation[];
  uint16   ExtendedDetectedErrorState;
  uint16   ExtendedPrinterStatus;
  boolean  Hidden;
  uint32   HorizontalResolution;
  datetime InstallDate;
  uint32   JobCountSinceLastReset;
  boolean  KeepPrintedJobs;
  uint16   LanguagesSupported[];
  uint32   LastErrorCode;
  boolean  Local;
  string   Location;
  uint16   MarkingTechnology;
  uint32   MaxCopies;
  uint32   MaxNumberUp;
  uint32   MaxSizeSupported;
  string   MimeTypesSupported[];
  string   Name;
  string   NaturalLanguagesSupported[];
  boolean  Network;
  uint16   PaperSizesSupported[];
  string   PaperTypesAvailable[];
  string   Parameters;
  string   PNPDeviceID;
  string   PortName;
  uint16   PowerManagementCapabilities[];
  boolean  PowerManagementSupported;
  string   PrinterPaperNames[];
  uint32   PrinterState;
  uint16   PrinterStatus;
  string   PrintJobDataType;
  string   PrintProcessor;
  uint32   Priority;
  boolean  Published;
  boolean  Queued;
  boolean  RawOnly;
  string   SeparatorFile;
  string   ServerName;
  boolean  Shared;
  string   ShareName;
  boolean  SpoolEnabled;
  datetime StartTime;
  string   Status;
  uint16   StatusInfo;
  string   SystemCreationClassName;
  string   SystemName;
  datetime TimeOfLastReset;
  datetime UntilTime;
  uint32   VerticalResolution;
  boolean  WorkOffline;
}; 
```

编辑：为了帮助理解这个答案，我会一步一步来。（创建一个新的 WPF 应用程序，确保它名为 PrinterDisplay，我将从空白开始）

1：右键单击SolutionExplorer窗口中的References项，选择“Add reference”

2：选择 .NET 选项卡并搜索库 System.Magement 并选择它（按确定！）

3：将此代码粘贴到 MainWindow.cs

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Data;
using System.Windows.Documents;
using System.Windows.Input;
using System.Windows.Media;
using System.Windows.Media.Imaging;
using System.Windows.Navigation;
using System.Windows.Shapes;
using System.Management;
using System.Collections.ObjectModel;

namespace PrinterDisplay
{
    /// <summary>
    /// Interaction logic for MainWindow.xaml
    /// </summary>
    public partial class MainWindow : Window
    {

        public ObservableCollection<SystemPrinter> Printers
        {
            get { return (ObservableCollection<SystemPrinter>)GetValue(PrintersProperty); }
            set { SetValue(PrintersProperty, value); }
        }
        public static readonly DependencyProperty PrintersProperty = DependencyProperty.Register("Printers", typeof(ObservableCollection<SystemPrinter>), typeof(MainWindow), new UIPropertyMetadata(null));

        public MainWindow()
        {
            InitializeComponent();

            Printers = new ObservableCollection<SystemPrinter>();
            ManagementObjectSearcher printers = new ManagementObjectSearcher("Select Name, PortName from Win32_Printer");
            foreach (ManagementObject printer in printers.Get())
                this.Printers.Add(new SystemPrinter()
                {
                    Name = (string)printer.GetPropertyValue("Name"),
                    Port = (string)printer.GetPropertyValue("PortName"),
                });
        }
    }

    public class SystemPrinter
    {
        public string Name { get; set; }
        public string Port { get; set; }
    }
} 
```

4：将此代码粘贴到 MainWindow.xam

```
<Window x:Class="PrinterDisplay.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        DataContext="{Binding RelativeSource={RelativeSource Self}}"
        Title="MainWindow" Height="350" Width="525">    
    <Grid>
        <ListView ItemsSource="{Binding Printers}">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding Name}"/>
                        <TextBlock Text="{Binding Port}" Margin="5,0,0,0"/>
                    </StackPanel>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
    </Grid>
</Window> 
```

5：按F5，惊叹于打印机和端口列表。

# php - smarty 包含文件包含动态内容的页面

> ID：11046207
> 
> 赞同：1
> 
> 时间：2012-06-15T07:16:34.883
> 
> 标签：php, smarty

index.php 包含一些模块页面，_head.tpl，_foot.tpl

**索引.php：**

```
<{include file="_head.tpl"}>
....
<php?
  ....
?>
<{include file="_footer.tpl"}> 
```

**_head.tpl**

```
<html>
<head></head>
<body>
<{include file="$baseUrl/menu/index"}>
..... 
```

打开网址时：www.test.com/index 显示“http 500 错误”

打开网址：**www.test.com/menu/index**可以获得动态内容。将列表的内容复制到“_head.tpl”而不是聪明的句子（**<{include file="$baseUrl/menu/index"}>**），“ **www.test.com/index** ”显示得很好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-17T17:18:41.943

你不能像这样直接具体。您必须使用 php file_get_contents 或 Curl 获取内容。

参考这里：[http ://www.smarty.net/forums/viewtopic.php?p=78900](http://www.smarty.net/forums/viewtopic.php?p=78900)

# sharepoint - 端口 80 上的 SharePoint 2010 表面内容

> ID：11046209
> 
> 赞同：0
> 
> 时间：2012-06-15T07:16:43.557
> 
> 标签：sharepoint, sharepoint-2010

SharePoint 新手问题，我已经安装了 SharePoint 2010，并且希望能够在端口 80 上浏览某些内容。当 SP 配置它自己时，它只创建了 'http://spimage:32001/' 32001，所以我在端口 80 上手动创建了一个（ SharePoint - 80 'http://spimage/' 80) 来自 Central Admin，但是当我浏览到这个时，我只得到 404。

我创建了一个网站集，认为它将驻留在端口 80 下以在其上放置一些东西。(http://spimage/sites/SPFWebApp/Pages/default.aspx)，我可以很好地浏览这个网站。

我的最终目标是能够浏览端口 80 并在 SharePoint 上显示一些东西（Hello World 需要一个更好的词），有谁知道我是如何完成如此简单的任务的 :)

我希望能够显示我的网站集，但不一定是这样。

干杯

ps 如果我去 IIS 并浏览 SharePoint - 80 我什么也得不到。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:54:24.800

当您尝试为网站集创建另一个 URL/端口时，这里有些事情是不可能的。

SharePoint 基于 Web 应用程序 - 一个 SharePoint WebApp 可以是多个 IIS Web 应用程序。当您通过管理中心 > 应用程序管理 > 新建创建新的 Web 应用程序时，您可以指定站点应侦听的端口和主机标头。

![在此处输入图像描述](../Images/332cc8c186ef3a1145158f0a7253673a.png)

在这种情况下，SharePoint 还会为您创建名为“SharePoint - 80”的“IIS 网站”或 IIS Web 应用程序。 ![在此处输入图像描述](../Images/d4f6463436e3d40c4a38d686cc08549b.png)

但是当我现在尝试浏览这个新页面时，我得到了这个： ![在此处输入图像描述](../Images/a3833f2982ad920f1ef68ec3c77c0f5a.png)

**这是为什么？**. 现在我的服务器不知道如何处理“mynewsharepoint.local”。所以要么为此添加一个 DNS 条目，要么我走简单的路线并将一个条目添加到主机文件 (C:\Windows\system32\drivers\etc)：

```
127.0.0.1 mynewsharepoint.local 
```

我现在得到一个 404： ![在此处输入图像描述](../Images/78a3a912e05fe93d01c0a8d07816d5eb.png)

**为什么？**我新创建的 Web 应用程序中没有网站集。所以我继续在[http://mynewsharepoint.local/](http://mynewsharepoint.local/)创建一个网站集： ![在此处输入图像描述](../Images/3fa5446dd55a84a24b403610a1220ab4.png)

瞧，它起作用了： ![在此处输入图像描述](../Images/18300402020c0e2ac634024a5786c38b.png)

* * *

概括：

*   检查您的自定义主机标头是否已在主机文件中路由
*   确保您的 Web 应用程序中有一个网站集
*   在 IIS 中检查端口 80 上的“默认网站”是否已停止

# ruby - 如何用 C 编写机架适配器

> ID：11046210
> 
> 赞同：1
> 
> 时间：2012-06-15T07:16:44.947
> 
> 标签：ruby, rack, g-wan

我想看看是否可以在 g-wan 服务器和 ruby​​ 之间交换数据，但我需要实现一个 Rack 适配器。我可以用 Ruby 编写一个，但我需要使用 C，因为 g-wan API 是用 C（或 Java）编写的。有没有文件可以做到这一点？Rack 有 C API 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T08:33:48.947

1.  您可以从 ruby​​ 打开 OS 管道并将一些数据写入其中，然后从您的 C 程序中接收它。
2.  可以用 C 编写对 Ruby 的扩展。只需在 Internet 上搜索有关此主题的资源即可。
3.  使用 JRuby，它在 JVM 上运行并允许您使用任意 jar。此外，它是非常好的 Ruby VM，并且拥有强大的社区。

# jquery - 为什么 :target 伪类在 IE 中不起作用？

> ID：11046211
> 
> 赞同：1
> 
> 时间：2012-06-15T07:16:56.040
> 
> 标签：jquery, internet-explorer, target

我正在使用 :target 伪类，但它在 IE 浏览器（7 和 8）中不起作用。

我使用了 selectivizr javascript，但它仍然无法正常工作。

那么有没有其他方法可以让它工作呢？可以通过 jQuery 实现吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-15T07:23:26.467

`:target`伪类仅在 IE9 中受支持。参考[这里](https://developer.mozilla.org/En/CSS/:target)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-17T21:05:01.637

使用 jQuery 时`:target`，您可以只使用jQuery 而不是`$(location.hash)`，如果它存在，那将是您的`:target`元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-17T20:59:14.120

我认为即使是*Modernizr*也不会帮助你。`:target`解决方法很难检测到伪类。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-12T15:51:54.653

刚刚尝试过[Selectivizr](http://selectivizr.com/) - 为我工作`IE8`！`IE7`虽然不在。试试边缘释放：

```
<!--[if (gte IE 6)&(lte IE 8)]>
  <script type="text/javascript" src="https://raw.github.com/keithclark/selectivizr/master/selectivizr.js"></script>
  <noscript><link rel="stylesheet" href="[fallback css]" /></noscript>
<![endif]--> 
```

# javascript - jquery调用buttonset阻止其他一切

> ID：11046218
> 
> 赞同：1
> 
> 时间：2012-06-15T07:18:21.440
> 
> 标签：javascript, jquery

我的页面上有几个'checkboxViewset'类的div（大约100个左右）。我尝试使用类名选择器对 div 进行按钮集调用，如下所示：

```
$('.checkboxViewset').buttonset(); 
```

这最终会阻止整个页面。因此，我尝试通过使用选择器来执行此操作，方法是使用每个循环来定位 id，如下所示：

```
$('[id^=viewBoxlatest_]').each(
     function (index)
     {
        $(this).buttonset();
     }
); 
```

这仍然最终将其他所有内容都保留在页面上。是否有任何解决方案可以使这些调用异步而不是阻止页面中的所有其他活动？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T09:16:37.040

冒着不给你太多希望的风险......

可以说，任何 javascript 语句都“阻止”了同一事件线程中（按时间顺序）在它之后出现的所有其他语句，并且可能（因为 javascript 是单线程的）未来线程的整体。

考虑到这一点，我认为这里的重点不是`.buttonset()`支撑一切，而是它很慢（当应用于 100 个容器时）并且它固有的缓慢是无法克服的，除非你能够找到/编写一个替代插件跑得更快。

对于更好的表观性能，您最现实的希望是更改执行顺序，以便您的`$('.checkboxViewset').buttonset();`语句在它当前持有的代码之后执行。

尝试以下操作：

*   将语句移动到它所在的事件处理程序的底部。
*   将语句放在它自己的延迟触发 $(function(){...}) 处理程序中。
*   将 jQuery 的其余部分放在 $(function(){...}) 处理程序中，将语句放在它自己的`window.onload = function(){...}`处理程序中。这里的惩罚是，在应用样式之前，用户很可能会得到一个 Flash of Unstyled Content (FOUC) `buttonset()`。

编辑：

完全在另一条思路上，您可以尝试提供单个 div 的按钮价值，对其进行样式设置，`.buttonset()`然后将其克隆 99 次以达到 100。这种方法的可行性当然取决于您的 div 在结构上相同并且不需要它们拥有唯一的 ID/值/数据。

# cakephp - cakephp：包含所有相关 habtm 数据的索引站点

> ID：11046220
> 
> 赞同：0
> 
> 时间：2012-06-15T07:18:26.537
> 
> 标签：cakephp

自从 3 天以来，我一直在尝试解决这个问题，但我需要帮助。主要是我做了尝试和错误。如果有人可以给我一个解决方案，我可以对其进行逆向工程并更好地理解 cakephp。

我想要的是这样的索引视图（制作图形）： [http ://www.bilder-upload.eu/show.php?file=fd8e93-1340110385.png](http://www.bilder-upload.eu/show.php?file=fd8e93-1340110385.png)

门和钥匙有一个 habtm 关系，我想列出属于 1 把钥匙的所有门

我有 3 张桌子：

门（id，标题，txt） 键（id，编号，描述） door_keys（door_id，key_id）

这是我的**key.php**

```
<?php

class Key extends AppModel {
    public $hasAndBelongsToMany = array ('Door');
    public $displayField = 'description';
    // containable
    var $actsAs = array('Containable');
} 
```

**门.php**

```
<?php

class Door extends AppModel {
    public $name = 'Door';
    public $belongsTo = array('Building');
    //public $actsAs = array('Containable');
    public $hasAndBelongsToMany = array('Key');
    // validation array wird aufgemacht
    public $validate = array(
    // validation wird für das Datenbankfeld title definiert
        'title' => array(
        // Feld darf nicht leer sein
            'rule' => 'notEmpty' ,
            // Eintrag muss ausgewählt werden
            'required' => true
        ),
        // validation für das DB Feld building_id
        'building_id' => array(
            'rule' => 'notEmpty' ,
            'required' => true
        ),
    );
    // viele türen sind in einem Gebäude-> n:1->$belongsTo
    // in der tabelle doors muss ein fremdschluessel auf die andere datenbank angelegt sein

} 
```

**键控制器.php**（不工作）

```
class KeysController extends AppController {

public function index() {
    $this->paginate = array(
      'contain' => array(
        // we want to get the key
        'Door' => array(
       // the info i wanna know is in the field txt
          'fields' => array('txt')

        ),

          ),
        );
        $keys = $this->paginate('Key');
    debug($this->set(compact('keys')));
} 
```

**来自键的 index.ctp**

```
<h2>Schluessel selbstgemacht</h2>

<table>
<!-- tr definiert eine Tabellenzeile -->
    <tr>
        <!-- th Überschriften in der Zeile -->
        <th>ID</th>
        <th>Description</th>
        <th>number</th>
    </tr>

<?php foreach($keys as $key): ?>
    <tr>
        <td><?php echo $key['Key']['id'] ?></td>
        <td><?php echo $key['Key']['description'] ?></td>
        <td><?php echo $key['Key']['number'] ?></td>
        <td><?php echo $key['Door']['txt'] ?></td>

        <td>
            <?php echo $this->Html->link('Details', '/keys/view/' . $key['Key']['id']) ?>
            <?php echo $this->Html->link('bearbeiten', '/keys/edit/' . $key['Key']['id']) ?>
            <?php echo $this->Html->link('loeschen', '/keys/delete/' . $key['Key']['id']) ?>
        </td>
    </tr>
<?php endforeach; ?>
</table> 
```

我想这是一个基本问题，但我找不到解决方案。所以我需要一些帮助。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T09:28:16.427

添加`'recursive' => 1`到您的 Door->find() 以获取相关键的数据：

```
class KeysController extends AppController {
    public function index() {

    $doors = $this->Door->find(
        'recursive' => 1
    );
    $this->set('doors', $doors);

    // Look at the result
    debug($doors);
} 
```

但是，`recursive`如果您的模型关系很复杂，使用会变得非常混乱。建议在您的模型上使用[ContainableBehavior](http://book.cakephp.org/2.0/en/core-libraries/behaviors/containable.html)。

# python - httplib.BadStatusLine 错误（与 Dropbox Python SDK 一起使用）

> ID：11046225
> 
> 赞同：1
> 
> 时间：2012-06-15T07:18:39.760
> 
> 标签：python, http, dropbox-api

我在尝试使用 put_file 上传文件时得到了这个回溯（来自示例[https://www.dropbox.com/developers/start/files#python](https://www.dropbox.com/developers/start/files#python)的源代码）。这个错误是什么意思？处理它的合适方法是什么？

```
Traceback (most recent call last):
  File "testDRBX.py", line 30, in <module>
    response = client.put_file('magnum-opus.txt', f)
  File "C:\Users\hicom\AppData\Roaming\Python\Python27\site-packages\dropbox\cli
ent.py", line 149, in put_file
    return RESTClient.PUT(url, file_obj, headers)
  File "C:\Users\hicom\AppData\Roaming\Python\Python27\site-packages\dropbox\res
t.py", line 146, in PUT
    return cls.request("PUT", url, body=body, headers=headers, raw_response=raw_
response)
  File "C:\Users\hicom\AppData\Roaming\Python\Python27\site-packages\dropbox\res
t.py", line 111, in request
    r = conn.getresponse()
  File "C:\Python27\lib\httplib.py", line 1027, in getresponse
    response.begin()
  File "C:\Python27\lib\httplib.py", line 407, in begin
    version, status, reason = self._read_status()
  File "C:\Python27\lib\httplib.py", line 371, in _read_status
    raise BadStatusLine(line)
httplib.BadStatusLine: '' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-21T08:08:05.353

问题出在 HTTP 标头的 USER-AGENT 中。默认为“OfficialDropboxPythonSDK/1.4”。我在 rest.py（第 55 行）中将其更改为任何其他内容，例如 'Mozilla/5.0 (Windows; U; Windows NT 5.1; it; rv:1.8.1.11) Gecko/20071127 Firefox/2.0.0.11'。问题解决了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T08:34:34.290

BadStatusLine 表示您的脚本和 Dropbox 服务器之间的连接丢失，可能是由于超时。我认为你需要更快地完成整个过程。

[https://forums.dropbox.com/topic.php?id=34037#post-297553](https://forums.dropbox.com/topic.php?id=34037#post-297553)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T05:55:29.953

如果您运行请求太快并且 Dropbox 的服务器速率限制您，Dropbox API 也会导致 BadStatusLine。

我的开发机器速度不够快，无法触发此情况，但 Amazon EC2 实例在快速连续运行 140 个请求时能够触发此情况（列表理解）。

我不认为这是您的情况，但我想为遇到此问题的其他人注意这一点。

# iphone - [SBJsonParser scanRestOfDictionary:] 中的大量泄漏

> ID：11046226
> 
> 赞同：0
> 
> 时间：2012-06-15T07:18:46.790
> 
> 标签：iphone, ios, xcode, instruments

我在 [SBJsonParser scanRestOfDictionary:] (# > 2000) 中有大量泄漏。我不知道在哪里查看代码。任何建议都会非常受欢迎！

谢谢

编辑：

我更新到 JSONKit。仍然得到泄漏：

![在此处输入图像描述](../Images/3965c58f1c50cf299571155f5af76f3a.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T07:26:55.663

前段时间我遇到了同样的问题，我找到的唯一解决方案是切换到另一个 JSON 库。现在我使用 JSONKit，它具有更好的性能，并且没有泄漏（或者，我没有看到任何泄漏......）。这里是[图书馆](https://github.com/johnezang/JSONKit)。

# iphone - 在特定路径中使用 UIScrollview 滚动？

> ID：11046228
> 
> 赞同：-2
> 
> 时间：2012-06-15T07:18:48.237
> 
> 标签：iphone, objective-c, uiscrollview, core-animation

我需要像[http://joelb.me/scrollpath/](http://joelb.me/scrollpath/)那样实现滚动是否可以像在链接中那样自定义 UIScrollView 或任何其他方式来实现？
编辑：这不是在滚动时线性移动滚动视图，而是希望滚动视图在滚动时沿着特定路径（如 Bazier 曲线）移动

谢谢，
钱丹

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T12:31:36.983

我已经在 scrollViewDidScroll 中完成了自定义滚动，也就是说，我没有线性地改变 y，而是使用方程改变了 y，比如更复杂的路径。

[http://chandanshetty01.blogspot.in/2012/07/uiscrollview-scrolling-in-non-linear.html](http://chandanshetty01.blogspot.in/2012/07/uiscrollview-scrolling-in-non-linear.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:49:58.640

您可以使用 CAKeyframeAnimation 并在固定关键时间为特定关键路径设置滚动视图偏移量（在大型滚动视图画布上）动画。

您可能想深入了解 CAKeyframeAnimation 类参考。

这是一个关于如何在动画中实现自定义键路径的小教程。 [http://bit.ly/L05Xsg](http://bit.ly/L05Xsg) 您可以通过为大型 UIScrollView 的 contentOffset 属性设置动画来执行类似的操作。

# jquery - jquery ajaxSubmit() 不更新母版页

> ID：11046231
> 
> 赞同：1
> 
> 时间：2012-06-15T07:19:09.247
> 
> 标签：jquery, asp.net

我使用 jQuery 表单`ajaxSubmit()`函数来异步发布母版页。

什么情况是我的应用程序中有母版页，其中购物车面板在那里，其中的中继器显示用户添加到购物车中的项目。

要将商品添加到购物车中，内容页面中会出现一个弹出窗口，因此一旦用户单击“添加到购物车”按钮，弹出窗口就会显示添加到购物车中的商品，但是当我关闭弹出窗口并转到母版页上的面板购物车时，它不会显示数据。所以我决定在鼠标悬停时发回母版页。因此，当我将鼠标光标移到购物车面板时，它会异步发回页面并将转发器绑定到列表中。从服务器端一切正常，但仍然没有在客户端显示中继器。

任何帮助，将不胜感激。

这是我的javascript函数

```
 function setCart()     
        {   
            document.imgpicmycart.src = 'images/btn-mycart-orange-ovr.png'
            jQuery('#aspnetForm').ajaxSubmit();
        } 
```

仅供参考，我的母版页上有脚本管理器和更新面板。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T09:57:42.537

你已经完全混淆了一切，这是行不通的。

ajaxSubmit 跟UpdatePanel 一起，跟asp.net - 简单的不能一起工作 -

asp.net 页面包含一些额外的信息行视图状态、控件验证和其他认为当您制作自定义 ajaxSubmit 时这不能像您想象的那样工作，除非您非常专业并且对替换进行了非常好的更新内容......这一切都是用UpdatePanel准备好的。

因此，删除 ajaxSubmit 并仅保留 UpdatePanel 来完成您的工作并使其正常工作。

ajaxSubmit 插件可以在其他情况下工作，没有 UpdatePanel，没有控件验证和视图状态，并且在非常具体的输入下，输出你确切知道你在做什么以及为什么。

（可以说ajaxSubmit是针对php的，UpdatePanel是针对asp.net的）

# php - 从视图调用模型（Codeigniter）

> ID：11046233
> 
> 赞同：4
> 
> 时间：2012-06-15T07:19:26.873
> 
> 标签：php, codeigniter

我是 Codeingiter 的新手，我正在构建一个简单的博客。

在 Post 表中，我有“id，cat_id，title，content”......在类别平板电脑中，我有“id，name”......

要显示帖子，

我使用以下函数从模型内部的 POST 中获取内容...

```
function get_posts(){
        $query = $this->db->get('post');
        return $query->result();
} 
```

然后我加载视图文件以显示帖子...上面的函数只获取类别 ID，但我需要类别名称...所以我需要从视图文件中调用模型...我认为调用模型是不合逻辑的从视图...有什么解决办法？？？

请帮我...

谢谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-03-12T06:33:26.593

你可以使用这个：

```
 $ci =&get_instance();
   $ci->load->model(your model);
   $ci->(your model)->(your function);     
   Note: You have to call your model in your controller.Its working fine 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-15T07:24:43.907

您可以像这样在控制器中调用模型时简单地调用模型

```
$this->load->model('Model_name');

$this->Model_name->function(); 
```

或者如果您不想直接在视图中调用，您可以通过控制器获取数据：

```
$categoryID =  $this->Model_name->function();
$categoryDetails =  $this->Model_name->function($categoryID);
$data = [
    'categoryID'      => $categoryID,
    'categoryDetails' => $categoryDetails
]; 
```

进而

```
$this->load->view('view name',$data); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-15T08:07:05.343

试试这个作为你的模型：

```
function get_posts(){         
    $this->db->get('post');         
    $this->db->join('category', 'posts.category_id = category.id');
    $query = $this->db->get();
    return $query->result(); 
} 
```

请检查连接部分中的表名和列名是否正确。'category' 是您的类别表的名称，posts.category_id 是您的帖子表中引用类别 id 的列，category.id 是类别表中的 id 列。

您现在应该可以访问类别名称了。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-15T07:26:32.887

从控制器调用模型并将数据传递给视图：

控制器：

```
$data['posts'] = $this->my_model->get_posts();
$this->load->view('my_view', $data); 
```

看法：

```
foreach ($posts as $post) {
   //do something
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-15T10:42:54.147

这是有效的代码...

```
 function get_posts(){
        $this->db->select('*');
        $this->db->from('post');
        $this->db->join('category','post.cat_id=category.id');
        $query = $this->db->get();
        return $query->result();
    } 
```

# php - 将引号添加到 .ini 文件值 PHP

> ID：11046234
> 
> 赞同：0
> 
> 时间：2012-06-15T07:19:29.813
> 
> 标签：php, quotes, ini

我有一个 .ini 文件，如下所示：

```
[playlist]
numberofentries=2
File1=http://87.230.82.17:80
Title1=(#1 - 365/1400) Example Title
Length1=-1
File2=http://87.230.56.25:80
Title2=(#2 - 370/1400) Example Title
Length1=-1
Version=2 
```

我想知道如何以编程方式读取此文件，在文件和标题值周围添加引号，然后在 PHP 中再次保存此文件。

我将不胜感激任何帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-15T07:41:51.393

`"`写入文件时需要使用转义，使用`'\"`就足够了。对于[写入](https://stackoverflow.com/a/1268642/1428773)和[读取](http://php.net/manual/en/function.parse-ini-file.php) *.ini*文件，我建议您查看两个链接资源。

# php - 在 php.ini 中减去时间。奇怪的结果

> ID：11046235
> 
> 赞同：0
> 
> 时间：2012-06-15T07:19:29.797
> 
> 标签：php, time

```
echo date('H:i', time()); // 10:15    
echo date('H:i', strtotime($this->deadline)); // 10:05
$delay = time() - strtotime($this->deadline);
echo date('H:i', $delay); // 02:10 
```

为什么`delay`2 小时 10 分钟而不是 10 分钟？

我认为它与时区有关。现在是欧洲/赫尔辛基。但是我怎样才能得到两个时间戳之间的绝对差异呢？

**编辑**

```
echo time(); // 1339745334
echo strtotime($this->deadline); // 1339657500 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:25:15.347

$delay 实际上不是一个正确的时间戳。这只是两个时间戳之间的差异，可能低至 1。 mktime() 函数在这里可能很有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T08:16:07.717

如果要显示实时时间，则需要根据差异格式化时间。这里有一个示例函数，您可以根据需要扩展它：

```
function time_diff($format,$seperator,$delay){

    $days = floor($delay/86400);
    $hours = floor(($delay%86400)/3600);
    $mins = floor(($delay%3600)/60);
    $secs = floor(($delay%60));

    $format = explode($seperator,$format);
    $return = "";

    foreach($format as $value){

        if(strlen($return) > 0){
            $return .= $seperator;
        }

        switch($value){
            case 'H':{
                $return .= $hours;
                break;
            }
            case 'i':{
                $return .= $mins;
                break;
            }
            case 'z':{
                $return .= $days;
                break;
            }
            case 's':{
                $return .= $secs;
                break;
            }
        }

        return $return;                    
    } 
```

用法：`function_time_diff("H:i",':',$delay)`=>您的延迟已格式化。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T07:32:18.127

试试这个代码

```
date_diff($time_start, $time_ends);

function date_diff($d1, $d2){
        $d1 = (is_string($d1) ? strtotime($d1) : $d1);
        $d2 = (is_string($d2) ? strtotime($d2) : $d2);
        $diff_secs = abs($d1 - $d2);
        $base_year = min(date("Y", $d1), date("Y", $d2));
        $diff = mktime(0, 0, $diff_secs, 1, 1, $base_year);
        return array(
            "years" => date("Y", $diff) - $base_year,
            "months_total" => (date("Y", $diff) - $base_year) * 12 + date("n", $diff) - 1,
            "months" => date("n", $diff) - 1,
            "days_total" => floor($diff_secs / (3600 * 24)),
            "days" => date("j", $diff) - 1,
            "hours_total" => floor($diff_secs / 3600),
            "hours" => date("G", $diff),
            "minutes_total" => floor($diff_secs / 60),
            "minutes" => (int) date("i", $diff),
            "seconds_total" => $diff_secs,
            "seconds" => (int) date("s", $diff)
        );
    } 
```

# java - JSF Composite 组件在 Mojarra 2.1.9 上不起作用

> ID：11046238
> 
> 赞同：2
> 
> 时间：2012-06-15T07:19:35.917
> 
> 标签：java, jsf, primefaces, websphere, mojarra

论坛里的各位大神，我真的需要你们的帮助..

我的问题：我的基于 JSF Mojara 的应用程序有复合组件，并且生活很好，直到我们升级到最新版本的 Mojarra2.1.9。升级后我的应用程序上的 JSF 复合组件停止工作......当请求页面时，崩溃发生符合我的组件未定义...没有对应用程序进行任何代码更改。任何线索为什么 JSF 复合组件会停止使用最新的 Mojarra 2.1.9 ...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T04:18:11.577

我发现了我真正的问题是什么以及问题的正确解决方案：

**问题：** 我使用的是 Webspehere 7 服务器，它仅支持“Java Servlet 2.5”。从 2.1.1 开始的所有 JSF Mojarra 版本都需要“Java Servlet 3.0”才能工作。

当我调试时，不知道是什么导致了复合组件崩溃。因此，我尝试了不同版本的 Mojarra，看看是否能解决问题。当我使用 Mojarra 2.1.7 时，系统停止给我复合组件异常，因此我误解了 Mojarra 2.1.7 是没有任何问题的稳定版本。但很快我意识到应用程序中还引入了其他新问题（例如，Ajax 停止工作等）

**问题解决方案：** Mojarra 2.0.9 是支持“Java Servlet 2.5”的最新稳定版本。当我使用 Mojarra 2.0.9 时，一切正常。

谢谢， AJ

# javascript - 发送多个具有相同 id 的复选框的值

> ID：11046241
> 
> 赞同：0
> 
> 时间：2012-06-15T07:19:48.513
> 
> 标签：javascript, jquery, ajax, forms, checkbox

我在表格中有一张桌子。它有两列，第一列是复选框，第二列是输入。

这里它的结构：

```
<table>
<tr>
<td>
<input type="checkbox" name="choose" id="choose" class="choose">
</td>
<td>
<input type="text" name="item" id="item" class="item" >
</td>
</tr>
</table> 
```

它充满了我数据库中的信息，因此它可能有几行。

表单通过 javascript 函数提交到 js 文件，然后，由于 jQuery 的 ajax，所有参数都转到我的控制器 php 文件。

因为我想将文本输入中的所有值发送到我的 php，所以在我的 js 文件中我这样做：

```
 var arrayItem= [];
        $(".item").each(function(){
            arrayItem.push($(this).val());
        })
    params += '&items='+ arrayItem;
.
.
    //So I can do: 
        $.ajax ({
            url: myPHPUrl,
            data: params,
            type: "POST",
            async:false,
            success: function (data, textStatus)
            {   
            }
        }); 
```

现在我需要对复选框做同样的事情，但我不知道如何继续。

任何人都可以帮我吗？

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:26:36.317

你可以试试这个：

```
 var arrayItem= [];
    $(".choose:checked").each(function(index, elem){
        //you could store them like a key-valuepair so you no where the value belongs to.
        //you can take the ID of the elem parm inside the for each and store it with the control id.
        arrayItem.push(elem.val());
    })
params += '&items='+ arrayItem; 
```

# javascript - 当我尝试合并多个 javascript 文件时出现网站问题

> ID：11046244
> 
> 赞同：-1
> 
> 时间：2012-06-15T07:20:06.413
> 
> 标签：javascript, smarty, minify

我正在尝试将我的所有 js 文件合并到一个外部文件中，但是当我这样做时，我网站的一些 js 功能停止正常运行。我不确定是什么导致了问题......也许是因为我正在使用 smarty？任何朝着正确方向的轻推将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:37:00.380

*   检查您在[jslint上使用的文件](http://www.jslint.com/)
*   检查所有文件是否在文件末尾都有新行
*   如果您在文件中有未关闭的注释块，则可以使用单独的文件，但会破坏连接的代码

# clojure - Clojure 中对线程局部绑定的更新使用 set! 没有发生？

> ID：11046246
> 
> 赞同：2
> 
> 时间：2012-06-15T07:20:23.637
> 
> 标签：clojure

我正在尝试使用`set!`来修改 var 的线程本地绑定——但这些更改似乎没有生效。考虑以下：

```
(def ^:dynamic *foo* :root)
(binding [*foo* :thread-local]
  (let [val (doto :new
               #(set! *foo* %))]
    [val *foo*])) 
```

我希望结果是`[:new :new]`；相反，这评估为`[:new :thread-local]`。我在这里有什么误解？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T07:37:27.490

你的`doto`语法是错误的。

```
(binding [*foo* :thread-local]
  (let [val (doto :new (#(set! *foo* %)))]
    [val *foo*])) 
```

注意额外的括号。

# html - 居中对齐 div

> ID：11046248
> 
> 赞同：0
> 
> 时间：2012-06-15T07:20:27.497
> 
> 标签：html, css

这是我的 html [http://jsfiddle.net/9rprY/18/的链接](http://jsfiddle.net/9rprY/18/)

在此，我需要中间的浅绿色 div (#events) 恰好位于包装器的中心。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:41:31.433

这是你想要的吗。[这是 jsfiddle](http://jsfiddle.net/9rprY/44/)。

将#events css更改为

```
#events {
   margin: 10px 85px 14px 80px;
z-index: 100;
position: relative;
height: auto;
float: left;
width: 320px;
background-color: cyan;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:24:36.003

在您的 CSS 代码中将边距添加到 0 和自动，如下所示

```
#events {
margin: 0px auto; 
padding: 48px 0px 10px 10px; 
position:relative; 
height:auto; 
width:320px;
background-color:aqua
} 
```

向左飘浮; 应该删除，我以前没有注意到它因此编辑了答案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T07:25:19.233

更改 CSS：

```
#events {
    margin: 0px auto; 
    padding: 48px 0px 10px 10px; 
    position:relative; 
    height:auto;
    width:320px;
    background-color:aqua;
   overflow:hidden;
} 
```

小提琴演示：http: [//jsfiddle.net/9rprY/22/](http://jsfiddle.net/9rprY/22/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-15T08:54:41.737

试试这个。。

更改事件 div css

```
#events {
margin: auto; 
padding: 48px 0px 10px 10px; 
position:relative;
min-height:40px;
height:auto;  
width:320px;
background-color:aqua
} 
```

你可以检查 jsFiddle [http://jsfiddle.net/9rprY/54/](http://jsfiddle.net/9rprY/54/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-15T07:27:14.633

尝试：

```
#wrapper{
    width:600px; /* set width of wrapper div */
    display:block;
}
#event{
    margin:0 auto;
    width:320px;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-15T07:31:02.160

只需删除该行：

```
float: left; 
```

并*编辑* `margin`为`height`：

```
margin: 0 auto;
height: 25px; 
```

[这是你的小提琴](http://jsfiddle.net/9rprY/37/)

# php - 在codeigniter中形成POST数组问题

> ID：11046249
> 
> 赞同：1
> 
> 时间：2012-06-15T07:20:28.097
> 
> 标签：php, forms, codeigniter

我在 codeigniter 中发布了一个简单的表格。当我提交表单并回显 $_POST 数组时，它会显示以下内容：

```
Array
(
    [first_name] => First Name
    [last_name] => Last Name
    [zip] => Zip Code
    [phone] => Phone
    [email] => e-mail
    [area_interest] => 
    [terms] => terms
    [x] => 14
    [y] => 8
) 
```

最后两个字段真的很神秘。我不知道他们从哪里来。有任何想法吗？

这是我的表单代码：

```
<?PHP 
$attributes=array('method'=>'post');
echo form_open('request-information',$attributes);?>
<table height="180" width="220">
<tr>
    <td>
        <input type="text" name="first_name" id="first_name" class="form-text1 inputfieldform1" value="First Name" onBlur="if(this.value=='') this.value='First Name'" onFocus="if(this.value =='First Name' ) this.value=''" style="width:95px;" />
    </td>
    <td>
        <input type="text" name="last_name" id="last_name" class="form-text1 inputfieldform1" value="Last Name" onBlur="if(this.value=='') this.value='Last Name'" onFocus="if(this.value =='Last Name' ) this.value=''" style="width:95px;" />
    </td>
    </tr>
 <tr>
     <td>
       <input type="text" id="zip_code" name="zip" class="form-text1 inputfieldform1" value="Zip Code" onBlur="if(this.value=='') this.value='Zip Code'" onFocus="if(this.value =='Zip Code' ) this.value=''" style="width:95px;"/>
      </td>
     <td>
       <input type="text" id="phone_number" class="form-text1 inputfieldform1" value="Phone" onBlur="if(this.value=='') this.value='Phone'" onFocus="if(this.value =='Phone' ) this.value=''" style="width:95px;" name="phone"/>
      </td>
 </tr>
   <tr>
      <td colspan="2">
      <input type="text" name="email" id="email" class="form-text1 inputfieldform1" value="e-mail" onBlur="if(this.value=='') this.value='e-mail'" onFocus="if(this.value =='e-mail' ) this.value=''" style="width:205px"/>
      </td>
      </tr>
      <tr>
    <td colspan="2">
         <select style="width:208px; height:20px;" id="interest_area" name="area_interest" class="top2select" >
          <option value="" selected="">Select Area of Interest</option>
          <option value="Arts/Design/Fashion">Arts/Design/Fashion</option>
          <option value="aviation">Aviation</option>
          <option value="Beauty/Cosmetology">Beauty/Cosmetology</option>
          <option value="Business">Business</option>
          <option value="Communication & Mass media ">Communication & Mass media </option>
          <option value="Criminal Justice">Criminal Justice</option>
          <option value="Culinary Arts">Culinary Arts</option>
          <option value="Education">Education</option>
          <option value="Engineering">Engineering</option>
          <option value="Funeral & Mortuary Sciences">Funeral & Mortuary Sciences</option>
          <option value="Health Care">Health Care/Human Services</option>
          <option value="Hospitality">Hospitality</option>
          <option value="Interdisciplinary Studies">Interdisciplinary Studies</option>
          <option value="Legal & Paralegal ">Legal & Paralegal </option>
          <option value="Liberal Arts">Liberal Arts</option>
          <option value="Massage/ Wellness">Massage/ Wellness</option>
          <option value="Trade/Vocational">MBA</option>
          <option value="Nursing">Nursing</option>
          <option value="Sciences">Sciences</option>
          <option value="Social Sciences">Social Sciences</option>
          <option value="Technology/Computer/IT">Technology/Computer/IT</option>          
          <option value="Trade/Vocational">Trade/Vocational</option>
          <option value="undecided">Undecided</option>
           </select>
    </td>
</tr>
<tr>
<td colspan="2">
<input type="checkbox" checked="true" value="terms" name="terms">&nbsp;&nbsp;I accept <a href="#" style="text-decoration:underline">terms & conditions</a>
</td>
</td>
</tr>
<tr>

<td colspan="2" style="text-align:center">
<input type="image" src="<?PHP echo base_url();?>images/frontend/bg/search_button1.png">

</td>
</tr> 
```

问候， Mrinal

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T07:34:12.557

X 和 Y 变量来自图像输入。

这些是用户点击的坐标。

[在这里](https://stackoverflow.com/questions/6283042/html-sends-x-y-post-data-with-no-inputs-how-is-this-possible)阅读。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T12:16:13.023

通过放置'/'来编辑它

```
 <input type="image" src="<?PHP echo base_url();?>/images/frontend/bg/search_button1.png"> 
```

我认为x，y是@Yan所说的图像的坐标

# netbeans - 在 Netbeans 中构建和运行单独的项目

> ID：11046252
> 
> 赞同：0
> 
> 时间：2012-06-15T07:20:45.680
> 
> 标签：netbeans

简短而简单，我们的项目有一个 Launcher 组件和一个 Application 组件，我们想“清理和构建”应用程序，但 Run 应该运行 Launcher 组件。

那可能吗？我一直在研究编辑，`build.xml`但可能有更好的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-16T18:47:11.083

我想你说的是顶部工具栏上的快捷方式。它们适用于主项目，即“项目”窗格中以粗体显示的项目。

您可以在“项目”窗格中单独**清理和构建**或**运行**每个项目。打开项目窗格，选择一个项目，右键单击它，在菜单中您将找到所需的操作。

您还可以更改主项目：右键单击项目 -> 设置为主项目。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-30T08:07:11.893

Netbeans 7.2 有一个变化：当没有设置主项目时，项目特定的操作（构建、清理 - 构建等）在“活动项目”上运行。

请参阅[http://wiki.netbeans.org/NetBeans_72_NewAndNoteworthy#Main_Project](http://wiki.netbeans.org/NetBeans_72_NewAndNoteworthy#Main_Project)

这在处理多个项目时特别方便，您不必一直切换“主项目”......

# c++ - C++ HTTP：过滤响应标头

> ID：11046254
> 
> 赞同：2
> 
> 时间：2012-06-15T07:20:47.037
> 
> 标签：c++, sql, http, sockets

我正在编写一个需要访问 Web 服务器中的数据的程序。我对 Linux 环境中的网络编程有相当的了解，但我对原始 HTTP 有点陌生。

我在 Web 服务器上的 MySQL 数据库中有数据，可以使用读取和输出数据的 PHP 代码访问该数据库，并且 PHP 代码通过原始 HTTP 的 in-url 变量系统调用。第一个问题：这是一种安全的方式吗？有没有更好的办法？（我可以分支到不同的数据库类型等。安全是我的首要任务）。

我的另一个问题是如何从原始套接字响应中删除 HTTP 响应数据，以便我可以读取我想要的 PHP 函数的实际数据？（我也倾向于在网络代码之前和之后收到一两个随机字符，我不确定那是什么（不是空终止问题 - 它位于有效数据的中间。）

谢谢，科林·比登卡普

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T08:18:17.187

HTTP 安全性通常通过加密来处理。因此，只要您使用基于 SSL 的 HTTP (HTTPS)，那么您就是安全的。如果不是，无论参数如何传递（在 URL 中或在实体中），传输都是不安全的。

您在解码 HTTP 响应时看到的额外字符很可能是分块编码。分块编码在数据块之前带有一个十六进制代码，用于指定块中有多少字节。这一直持续到块十六进制值为`0`。更多关于它[的信息](http://en.wikipedia.org/wiki/Chunked_transfer_encoding)，但这也在[标准](http://www.ietf.org/rfc/rfc2616.txt)中有所描述，如果你要自己实现 HTTP 的一部分，你将不得不熟悉它。

存在许多 HTTP 库。我相信[`curl`](http://curl.haxx.se/)是最受欢迎的之一。

# android - 什么是 android 的 coredata 等价物

> ID：11046258
> 
> 赞同：39
> 
> 时间：2012-06-15T07:20:59.140
> 
> 标签：android, core-data

我曾经为 iPhone 编程。

但后来我想在 Android 中制作另一个类似的程序。

好吧，我应该使用类似框架的 coredata 吗？

android有类似的东西吗？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-06-15T07:34:30.627

实际上，您需要检查适用于 Android 的 ORM 工具的持久性。并确定最适合您的工具。

以下是您的首选：

OrmLite：[http ://ormlite.com/sqlite_java_android_orm.shtml](http://ormlite.com/sqlite_java_android_orm.shtml)

[绿道： http](http://greendao-orm.com/) ://greendao-orm.com/

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2018-11-27T05:55:52.293

`Room`数据存储是一种在 Android 中存储应用程序数据的新方法。它由 google 提供，是 Android Architecture 组件的一部分。是作为、和许多其他`Room`方法的高级第一方替代方案提供的。`Realm``ORMLite``GreenDao`

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-04-08T06:57:33.800

我最近发布了一个开源版本的 Android 核心数据，称为 NexusData。你可以在这里找到它：[https ://github.com/dkharrat/NexusData](https://github.com/dkharrat/NexusData)

它仍处于开发初期，但希望会随着时间的推移而成熟。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2015-03-06T04:05:55.490

试试安卓领域。它看起来直截了当且易于使用

[https://github.com/realm/realm-java](https://github.com/realm/realm-java)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-15T07:29:21.057

实际上，我认为您有两种解决方案可以在不直接使用 SQLite 的情况下保存数据。

您可以使用共享首选项将值保存到键。它允许快速保存信息，但它非常有限。另外，我听说过**greenDAO**（阅读[“入门” ），不幸的是它比](http://greendao-orm.com/documentation/how-to-get-started/)**Core Data**更难使用，因为你找不到任何用户界面。

# javascript - 如何在按键事件的警报框后防止页面重新加载？

> ID：11046259
> 
> 赞同：1
> 
> 时间：2012-06-15T07:21:00.227
> 
> 标签：javascript, jquery

在警报框上单击“确定”后，我想防止页面重新加载。点击搜索按钮就可以了。但是现在我在输入按键事件中遇到了问题。请有人帮助我。

这是我的html

```
<div id="email">
 <input type="text" id="txtSearchEmail" name="email" onkeydown="Javascript: if (event.keyCode==13) {JS_Search(); event.preventDefault();}" style="width: 161px; height: 16px; padding: 2px; border: 1px solid #a8a8a8; font-size: 13px; color: #434343" />
</div>
<div id="search">
<a class="gai-button" style="width: 96px; height: 25px;" onclick="JS_Search();"><img  src="images/findamessage_search.jpg" alt="" /></a>
</div> 
```

这是我的 javascript

```
if() {
//some coding
}
else {
alert ("Not found!");
return false;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:34:45.117

也许这就是你想要的，也许不是，在这个例子中我使用 jQuery：

```
$(function() {

    $("#search a.gai-button").click(function(ev) {

          if() {
               //some coding
          }
          else {
               alert ("Not found!");
               //This prevents the a tag from 
               ev.preventDefault();
               return false;
          }
    })

};

}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:31:51.803

从您的 onkeydown 处理程序中删除“Javascript：”，此属性中的文本已经是 Javascript。如果 <form> 标记中的此按钮 - 在 <form> 标记中使用“onsubmit”属性/事件。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-15T07:29:55.987

添加*中断；*在事件结束时修改*ifthenelse块以在**true*时重新加载窗口。

# jquery - jQuery：桌上足球的总和

> ID：11046260
> 
> 赞同：0
> 
> 时间：2012-06-15T07:21:01.467
> 
> 标签：jquery, jquery-selectors

我英语不好。我的文字有什么问题^^抱歉:)

我的桌上足球中有数据。 [jsfiddle](http://jsfiddle.net/ctheidea/7x7MZ/)

我无法构建一个函数来计算表中的所有行。当页面完成加载或单击行以编辑文本文件中的值。jQuery 将自动计算。

GP = 玩过的游戏 = HOME(W+D+L) + AWAY(W+D+L)

概括

W = HOME_W + AWAY_W

D = HOME_D +​​ AWAY_D

L = HOME_L + AWAY_L

F = HOME_F + AWAY_F

A = HOME_A + AWAY_A

GD = 摘要(F) - 摘要(A)

HTML

```
<table id="table-pts">
<thead>
    <tr>
        <th colspan="3">&nbsp;</th>
        <th colspan="5">HOME</th>
        <th colspan="5">AWAY</th>
        <th colspan="5">SUMMARY</th>
        <th colspan="2">&nbsp;</th>
    </tr>
    <tr>
        <th>Pos</th>
        <th class="team">Team</th>
        <th>GP</th>
        <th>W</th>
        <th>D</th>
        <th>L</th>
        <th>F</th>
        <th>A</th>
        <th>W</th>
        <th>D</th>
        <th>L</th>
        <th>F</th>
        <th>A</th>
        <th>W</th>
        <th>D</th>
        <th>L</th>
        <th>F</th>
        <th>A</th>
        <th>GD</th>
        <th>Pts</th>
    </tr>
</thead>
<tbody>
        <tr id="1" class="edit_tr">
            <td></td>
            <td class="team">
            &nbsp;
            </td>
            <td><span id="summary_GP_1"></span></td>
            <td>
                <span id="home_w_1" class="text">1</span>
                <input type="text" value="1" class="editbox" id="home_w_input_1"/>
            </td>
            <td>
                <span id="home_d_1" class="text">3</span>
                <input type="text" value="3" class="editbox" id="home_d_input_1"/>
            </td>
            <td>
                <span id="home_l_1" class="text">2</span>
                <input type="text" value="2" class="editbox" id="home_l_input_1"/>
            </td>
            <td>
                <span id="home_f_1" class="text">4</span>
                <input type="text" value="4" class="editbox" id="home_f_input_1"/>
            </td>
            <td>
                <span id="home_a_1" class="text">76</span>
                <input type="text" value="76" class="editbox" id="home_a_input_1"/>
            </td>
            <td>
                <span id="away_w_1" class="text">8</span>
                <input type="text" value="8" class="editbox" id="away_w_input_1"/>
            </td>
            <td>
                <span id="away_d_1" class="text">9</span>
                <input type="text" value="9" class="editbox" id="away_d_input_1"/>
            </td>
            <td>
                <span id="away_l_1" class="text">10</span>
                <input type="text" value="10" class="editbox" id="away_l_input_1"/>
            </td>
            <td>
                <span id="away_f_1" class="text">11</span>
                <input type="text" value="11" class="editbox" id="away_f_input_1"/>
            </td>
            <td>
                <span id="away_a_1" class="text">12</span>
                <input type="text" value="12" class="editbox" id="away_a_input_1"/>
            </td>
            <td><span id="summary_w_1" ></span></td>
            <td><span id="summary_d_1" class="text"></span></td>
            <td><span id="summary_l_1" class="text"></span></td>
            <td><span id="summary_f_1" class="text"></span></td>
            <td><span id="summary_a_1" class="text"></span></td>
            <td><span id="summary_GD_1" class="text"></span></td>
            <td><span id="summary_Pts_1" class="text"></span></td>
        </tr>
        <tr id="2" class="edit_tr">
            <td></td>
            <td class="team">
            &nbsp;
            </td>
            <td><span id="summary_GP_2"></span></td>
            <td>
                <span id="home_w_2" class="text">1</span>
                <input type="text" value="1" class="editbox" id="home_w_input_2"/>
            </td>
            <td>
                <span id="home_d_2" class="text">3</span>
                <input type="text" value="3" class="editbox" id="home_d_input_2"/>
            </td>
            <td>
                <span id="home_l_2" class="text">2</span>
                <input type="text" value="2" class="editbox" id="home_l_input_2"/>
            </td>
            <td>
                <span id="home_f_2" class="text">4</span>
                <input type="text" value="4" class="editbox" id="home_f_input_2"/>
            </td>
            <td>
                <span id="home_a_2" class="text">76</span>
                <input type="text" value="76" class="editbox" id="home_a_input_2"/>
            </td>
            <td>
                <span id="away_w_2" class="text">8</span>
                <input type="text" value="8" class="editbox" id="away_w_input_2"/>
            </td>
            <td>
                <span id="away_d_2" class="text">9</span>
                <input type="text" value="9" class="editbox" id="away_d_input_2"/>
            </td>
            <td>
                <span id="away_l_2" class="text">10</span>
                <input type="text" value="10" class="editbox" id="away_l_input_2"/>
            </td>
            <td>
                <span id="away_f_2" class="text">11</span>
                <input type="text" value="11" class="editbox" id="away_f_input_2"/>
            </td>
            <td>
                <span id="away_a_2" class="text">12</span>
                <input type="text" value="12" class="editbox" id="away_a_input_2"/>
            </td>
            <td><span id="summary_w_2" ></span></td>
            <td><span id="summary_d_2" class="text"></span></td>
            <td><span id="summary_l_2" class="text"></span></td>
            <td><span id="summary_f_2" class="text"></span></td>
            <td><span id="summary_a_2" class="text"></span></td>
            <td><span id="summary_GD_2" class="text"></span></td>
            <td><span id="summary_Pts_2" class="text"></span></td>
        </tr>    
</tbody> 
```

查询

```
 $(document).ready(function(){
    $(".edit_tr").click(function(){
        var ID = $(this).attr('id');
        $("#home_w_"+ID).hide();
        $("#home_d_"+ID).hide();
        $("#home_l_"+ID).hide();
        $("#home_f_"+ID).hide();
        $("#home_a_"+ID).hide();
        $("#away_w_"+ID).hide();
        $("#away_d_"+ID).hide();
        $("#away_l_"+ID).hide();
        $("#away_f_"+ID).hide();
        $("#away_a_"+ID).hide();

        $("#home_w_input_"+ID).show();
        $("#home_d_input_"+ID).show();
        $("#home_l_input_"+ID).show();
        $("#home_f_input_"+ID).show();
        $("#home_a_input_"+ID).show();
        $("#away_w_input_"+ID).show();
        $("#away_d_input_"+ID).show();
        $("#away_l_input_"+ID).show();
        $("#away_f_input_"+ID).show();
        $("#away_a_input_"+ID).show();
    }).change(function(){

        // calculate point in table football
        var ID = $(this).attr('id');
        var home_w = parseInt($("#home_w_input_"+ID).val());
        var home_d = parseInt($("#home_d_input_"+ID).val());
        var home_l = parseInt($("#home_l_input_"+ID).val());
        var home_f = parseInt($("#home_f_input_"+ID).val());
        var home_a = parseInt($("#home_a_input_"+ID).val());
        var away_w = parseInt($("#away_w_input_"+ID).val());
        var away_d = parseInt($("#away_d_input_"+ID).val());
        var away_l = parseInt($("#away_l_input_"+ID).val());
        var away_f = parseInt($("#away_f_input_"+ID).val());
        var away_a = parseInt($("#away_a_input_"+ID).val());

        var summaryW = home_w + away_w;
        var summaryD = home_d + away_d;
        var summaryL = home_l + away_l;
        var summaryF = home_f + away_f;
        var summaryA = home_a + away_a;
        var summaryGD = summaryF + summaryA;
        var summaryPts = summaryW * 3 +summaryD * 1;
        var summaryGP = summaryW + summaryD + summaryL;

       /* var dataString = 'id='+ ID + '&home_w='+ home_w + '&home_d='+ home_d + '&home_l='+ home_l + '&home_f='+ home_f + '&home_a='+ home_a + '&away_w='+ away_w + '&away_d='+ away_d + '&away_l='+ away_l + '&away_f='+ away_f + '&away_a='+ away_a + '&action=edit_pts';
        $("#home_w_"+ID).html('<img src="load.gif"/>');

        $.ajax({
            type: "POST",
            url: "table_pts_action_ajax.php",
            data: dataString,
            cache: false,
            success: function(html)
            {*/

        // live update in my table football
                $("#home_w_"+ID).html(home_w);
                $("#home_d_"+ID).html(home_d);
                $("#home_l_"+ID).html(home_l);   
                $("#home_f_"+ID).html(home_f);
                $("#home_a_"+ID).html(home_a);
                $("#away_w_"+ID).html(away_w);
                $("#away_d_"+ID).html(away_d);
                $("#away_l_"+ID).html(away_l);
                $("#away_f_"+ID).html(away_f);
                $("#away_a_"+ID).html(away_a);

                $("#summary_w_"+ID).html(summaryW);
                $("#summary_d_"+ID).html(summaryD);
                $("#summary_l_"+ID).html(summaryL);
                $("#summary_f_"+ID).html(summaryF);
                $("#summary_a_"+ID).html(summaryA);
                $("#summary_GD_"+ID).html(summaryGD);
                $("#summary_Pts_"+ID).html(summaryPts);
                $("#summary_GP_"+ID).html(summaryGP);

         //   }
      //  });  
    });

    $("#table-pts tbody tr").each(function(){

        // page is load finish.. calculate point in table football
        var ID = $(this).attr('id');
        var txtHomeW = parseInt($("#home_w_"+ID).text());
        var txtHomeD = parseInt($("#home_d_"+ID).text());
        var txtHomeL = parseInt($("#home_l_"+ID).text());
        var txtHomeF = parseInt($("#home_f_"+ID).text());
        var txtHomeA = parseInt($("#home_a_"+ID).text());
        var txtAwayW = parseInt($("#away_w_"+ID).text());
        var txtAwayD = parseInt($("#away_d_"+ID).text());
        var txtAwayL = parseInt($("#away_l_"+ID).text());
        var txtAwayF = parseInt($("#away_f_"+ID).text());
        var txtAwayA = parseInt($("#away_a_"+ID).text()); 

        var summaryW = parseInt(txtHomeW+txtAwayW);
        var summaryD = parseInt(txtHomeD+txtAwayD);
        var summaryL = parseInt(txtHomeL+txtAwayL);
        var summaryF = parseInt(txtHomeF+txtAwayF);
        var summaryA = parseInt(txtHomeA+txtAwayA);
        var summaryGD = parseInt(summaryF-+summaryA);
        var summaryPts = parseInt(summaryW * 3 + summaryD * 1);
        var summaryGP = parseInt(summaryW + summaryD + summaryL);

        $(this).find("#summary_w_"+ID).text(summaryW);
        $(this).find("#summary_d_"+ID).text(summaryD);
        $(this).find("#summary_l_"+ID).text(summaryL);
        $(this).find("#summary_f_"+ID).text(summaryF);
        $(this).find("#summary_a_"+ID).text(summaryA);
        $(this).find("#summary_GD_"+ID).text(summaryGD);
        $(this).find("#summary_Pts_"+ID).text(summaryPts);
        $(this).find("#summary_GP_"+ID).text(summaryGP);

    });

    // Edit input box click action
    $(".editbox").mouseup(function(){
        return false
    });

    // Outside click action
    $(document).mouseup(function(){
        $(".editbox").hide();
        $(".text").show();
    });
});​ 
```

CSS

```
 #table-pts{
    color: #333;
    text-align: center;
    font-size: 12px;
    width: 100%;
}
#table-pts tbody tr{
    border-bottom: 1px solid #dddcdc;
    padding: 10px;
    line-height: 30px;
}
#table-pts tbody td{
    vertical-align: middle;
    padding: 5px 0;
}

#table-pts thead tr th{
    text-align: center;
    line-height: 30px;
    background: #233825;
    color: #FFF;
    border-left: 1px solid #CCC;

    width: 30px;
}
#table-pts .table-team{
    width: 10px;
    text-align: left;
    padding: 3px 7px 3px 7px;
}
#table-pts .editbox{
    display: none;
    border: 1px solid #CCC;
    text-align: center;
}

#table-pts .odd{background: #fafafa;}
.table-hl
{
    width: 70px;
}
#table-pts input{
    width: 20px;
}​ 
```

​</p>

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:33:23.773

虽然我不能准确地得到你的问题陈述，但是你可以像这样得到列的总和。

```
 $(document).ready(function(){

        var sum = 0;
           jQuery('.text').each(function(){
              sum += parseInt(jQuery(this).text());   
            });
           console.log(sum);

  }); 
```

如果您想在一个 var 中获取两行的总和，请使用上面的代码。
否则，如果您想为两行单独求和，请为第二行元素分配不同的类，因为您现在已经在两行中分配了“测试”类。
更改类名后，对该类使用相同的代码。
您也可以在编辑单击或更改事件上使用该代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:58:50.013

只是另一个解决方案：

```
var tot = 0;       
 $('tbody tr').each(function() {
    $(this).find('.text').each(function(){
        tot += parseInt($(this).text());   
    });
    alert(tot);
    tot = 0;
}); 
```

总盐元素：

```
var sum, i, k;       
 $('tbody tr').each(function() {

     k = ($(this).find('.text').length / 2);

     for(i = 0; i < ($(this).find('.text').length / 2); i++){

         sum = parseInt($(this).find('.text').eq(i).text()) + parseInt($(this).find('.text').eq(k).text());                    
         k++;
         alert(sum);       
     }

}); 
```

# c# - 微软团队基础服务器 2010

> ID：11046261
> 
> 赞同：0
> 
> 时间：2012-06-15T07:21:08.393
> 
> 标签：c#, tfs, asp.net-mvc-4

我的服务器上有 IIS 目录中的 asp.net mvc 4 Web 应用程序项目。

我创建了集合并添加了我的项目。

但是 mtf 将我的项目复制到另一个目录中是否可以添加我的应用程序而不复制它并使用同一目录工作 tfs

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:42:58.580

不太确定我明白你在这里问什么 - 但看起来你需要做的就是转到团队资源管理器选项卡并更改项目的本地路径映射。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-16T18:29:20.607

是的，如上所述，您可以更改本地工作区映射以匹配您机器上的文件夹结构。您转到源代码管理资源管理器 > 工作区 > 工作区 > 编辑。然后将源位置映射到本地路径，它将同步。

如果您将此服务器用作开发人员 PC，我建议将所有源代码控制保存在单个文件夹（如 c:\tfs）下，然后使用虚拟目录或 IIS Express 来托管站点。

麦克风

# java - IOException：无法初始化 SSL 上下文 - Apache Commons Net - Android

> ID：11046265
> 
> 赞同：0
> 
> 时间：2012-06-15T07:21:21.257
> 
> 标签：java, android, apache, ftp

我正在尝试使用 Apaches FTPSClient 连接到 FTP，但我不断收到此错误：

06-15 09:15:14.749: W/System.err(29451): java.io.IOException: 无法初始化 SSL 上下文

以下代码会发生这种情况，错误出现在第二行（连接）。

```
ftpsClient = new FTPSClient("SSL");
ftpsClient.connect(host);
int reply = ftpsClient.getReplyCode();
if(!FTPReply.isPositiveCompletion(reply)) {
    ftpsClient.disconnect();
}
ftpsClient.login(user, password + nl);
ftpsClient.setFileType(FTP.BINARY_FILE_TYPE);
ftpsClient.enterLocalPassiveMode(); 
```

关于我可能做错了什么的任何建议？

编辑：

完整的堆栈跟踪

```
06-15 09:15:14.749: W/System.err(29451): java.io.IOException: Could not initialize SSL context
06-15 09:15:14.749: W/System.err(29451):    at org.apache.commons.net.ftp.FTPSClient.initSslContext(FTPSClient.java:228)
06-15 09:15:14.749: W/System.err(29451):    at org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:246)
06-15 09:15:14.749: W/System.err(29451):    at org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:197)
06-15 09:15:14.757: W/System.err(29451):    at org.apache.commons.net.SocketClient.connect(SocketClient.java:164)
06-15 09:15:14.757: W/System.err(29451):    at org.apache.commons.net.SocketClient.connect(SocketClient.java:184)
06-15 09:15:14.757: W/System.err(29451):    at org.apache.commons.net.SocketClient.connect(SocketClient.java:273)
06-15 09:15:14.757: W/System.err(29451):    at com.test.FTPClient$getFileListTask.doWhat(FTPClient.java:546)
06-15 09:15:14.757: W/System.err(29451):    at com.test.FTPClient$getFileListTask.doInBackground(FTPClient.java:201)
06-15 09:15:14.757: W/System.err(29451):    at com.test.FTPClient$getFileListTask.doInBackground(FTPClient.java:1)
06-15 09:15:14.757: W/System.err(29451):    at android.os.AsyncTask$2.call(AsyncTask.java:264)
06-15 09:15:14.757: W/System.err(29451):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
06-15 09:15:14.765: W/System.err(29451):    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
06-15 09:15:14.765: W/System.err(29451):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
06-15 09:15:14.765: W/System.err(29451):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
06-15 09:15:14.765: W/System.err(29451):    at java.lang.Thread.run(Thread.java:856)
06-15 09:15:14.765: W/System.err(29451): Caused by: java.security.KeyManagementException: No X509KeyManager found
06-15 09:15:14.765: W/System.err(29451):    at org.apache.harmony.xnet.provider.jsse.SSLParametersImpl.<init>(SSLParametersImpl.java:116)
06-15 09:15:14.765: W/System.err(29451):    at org.apache.harmony.xnet.provider.jsse.SSLContextImpl.engineInit(SSLContextImpl.java:92)
06-15 09:15:14.765: W/System.err(29451):    at javax.net.ssl.SSLContext.init(SSLContext.java:219)
06-15 09:15:14.765: W/System.err(29451):    at org.apache.commons.net.ftp.FTPSClient.initSslContext(FTPSClient.java:226)
06-15 09:15:14.765: W/System.err(29451):    ... 14 more 
```

EDIT2：keymanager 异常

```
06-15 10:45:14.886: W/System.err(32467): javax.net.ssl.SSLException: Connection closed by peer
06-15 10:45:14.886: W/System.err(32467):    at org.apache.harmony.xnet.provider.jsse.NativeCrypto.SSL_do_handshake(Native Method)
06-15 10:45:14.886: W/System.err(32467):    at org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:410)
06-15 10:45:14.886: W/System.err(32467):    at org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:257)
06-15 10:45:14.886: W/System.err(32467):    at org.apache.commons.net.ftp.FTPSClient.sslNegotiation(FTPSClient.java:263)
06-15 10:45:14.886: W/System.err(32467):    at org.apache.commons.net.ftp.FTPSClient._connectAction_(FTPSClient.java:197)
06-15 10:45:14.886: W/System.err(32467):    at org.apache.commons.net.SocketClient.connect(SocketClient.java:164)
06-15 10:45:14.886: W/System.err(32467):    at org.apache.commons.net.SocketClient.connect(SocketClient.java:184)
06-15 10:45:14.886: W/System.err(32467):    at org.apache.commons.net.SocketClient.connect(SocketClient.java:273)
06-15 10:45:14.886: W/System.err(32467):    at com.test.FTPClient$getFileListTask.doWhat(FTPClient.java:552)
06-15 10:45:14.886: W/System.err(32467):    at com.test.FTPClient$getFileListTask.doInBackground(FTPClient.java:203)
06-15 10:45:14.886: W/System.err(32467):    at com.test.FTPClient$getFileListTask.doInBackground(FTPClient.java:1)
06-15 10:45:14.886: W/System.err(32467):    at android.os.AsyncTask$2.call(AsyncTask.java:264)
06-15 10:45:14.894: W/System.err(32467):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
06-15 10:45:14.894: W/System.err(32467):    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
06-15 10:45:14.901: W/System.err(32467):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
06-15 10:45:14.901: W/System.err(32467):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
06-15 10:45:14.901: W/System.err(32467):    at java.lang.Thread.run(Thread.java:856)
06-15 10:45:14.901: W/System.err(32467): java.net.SocketException: Socket closed
06-15 10:45:14.909: W/System.err(32467):    at libcore.io.Posix.sendtoBytes(Native Method)
06-15 10:45:14.909: W/System.err(32467):    at libcore.io.Posix.sendto(Posix.java:146)
06-15 10:45:14.909: W/System.err(32467):    at libcore.io.BlockGuardOs.sendto(BlockGuardOs.java:177)
06-15 10:45:14.909: W/System.err(32467):    at libcore.io.IoBridge.sendto(IoBridge.java:463)
06-15 10:45:14.909: W/System.err(32467):    at java.net.PlainSocketImpl.write(PlainSocketImpl.java:507)
06-15 10:45:14.917: W/System.err(32467):    at java.net.PlainSocketImpl.access$100(PlainSocketImpl.java:46)
06-15 10:45:14.925: W/System.err(32467):    at java.net.PlainSocketImpl$PlainSocketOutputStream.write(PlainSocketImpl.java:269)
06-15 10:45:14.925: W/System.err(32467):    at java.io.OutputStreamWriter.flushBytes(OutputStreamWriter.java:167)
06-15 10:45:14.925: W/System.err(32467):    at java.io.OutputStreamWriter.flush(OutputStreamWriter.java:158)
06-15 10:45:14.925: W/System.err(32467):    at java.io.BufferedWriter.flush(BufferedWriter.java:124)
06-15 10:45:14.925: W/System.err(32467):    at org.apache.commons.net.ftp.FTP.sendCommand(FTP.java:477)
06-15 10:45:14.925: W/System.err(32467):    at org.apache.commons.net.ftp.FTPSClient.sendCommand(FTPSClient.java:486)
06-15 10:45:14.925: W/System.err(32467):    at org.apache.commons.net.ftp.FTP.sendCommand(FTP.java:537)
06-15 10:45:14.925: W/System.err(32467):    at org.apache.commons.net.ftp.FTP.sendCommand(FTP.java:586)
06-15 10:45:14.925: W/System.err(32467):    at org.apache.commons.net.ftp.FTP.syst(FTP.java:1504)
06-15 10:45:14.933: W/System.err(32467):    at org.apache.commons.net.ftp.FTPClient.getSystemType(FTPClient.java:2074)
06-15 10:45:14.933: W/System.err(32467):    at org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPClient.java:2511)
06-15 10:45:14.933: W/System.err(32467):    at org.apache.commons.net.ftp.FTPClient.listFiles(FTPClient.java:2275)
06-15 10:45:14.933: W/System.err(32467):    at com.test.FTPClient$getFileListTask.doWhat(FTPClient.java:298)
06-15 10:45:14.933: W/System.err(32467):    at com.test.FTPClient$getFileListTask.doInBackground(FTPClient.java:205)
06-15 10:45:14.933: W/System.err(32467):    at com.test.FTPClient$getFileListTask.doInBackground(FTPClient.java:1)
06-15 10:45:14.933: W/System.err(32467):    at android.os.AsyncTask$2.call(AsyncTask.java:264)
06-15 10:45:14.933: W/System.err(32467):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
06-15 10:45:14.933: W/System.err(32467):    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
06-15 10:45:14.933: W/System.err(32467):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
06-15 10:45:14.933: W/System.err(32467):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
06-15 10:45:14.933: W/System.err(32467):    at java.lang.Thread.run(Thread.java:856) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T08:17:47.950

由于某种原因，它无法创建默认值`KeyManager`，这就是初始化 SSL 上下文失败的原因。尝试手动安装默认的。就像是：

```
KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());
kmf.init(null, null);
KeyManager km = kmf.getKeyManagers()[0];

ftpsClient = new FTPSClient("SSL");
ftpsClient.setKeyManager(km); 
```

# c++ - 1.exe 中 0x77e4bef7 处未处理的异常：Microsoft C++ 异常：内存位置 0x0012fb8c 处的 std:out_of_range

> ID：11046271
> 
> 赞同：-2
> 
> 时间：2012-06-15T07:21:43.863
> 
> 标签：c++, memory, error-handling, outofrangeexception

第 25-30 行有问题。我请求了现有索引，但出现错误。我不明白这个问题，怎么了？

```
 string *shells_host = new string[cnt];
    for(int i=0;i<cnt;i++)
    {
        shells_host[i] = LinkToHost(shells[i]);
        shells[i] = LinkToReq(shells[i],shells_host[i].size()+7);
    } 
```

所有代码：[http ://codepaste.ru/10939/](http://codepaste.ru/10939/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T08:31:46.883

您将一个空字符串传递给 LinkToHost() 并且对 url.substr(7) 的调用会导致异常。

不用说，在调试器下运行代码需要几分钟才能弄清楚这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:43:45.947

要么使用调试器深入研究，要么分解问题并添加一些调试打印语句：

```
for(int i=0;i<cnt;i++)
{
    printf("i=%d, shells=%d", i, shells[i]);
    shells_host[i] = LinkToHost(shells[i]);

    int secondArg = shells_host[i].size()+7;
    printf("shells_host=%d, secondArg", shells_host[i], secondArg);
    shells[i] = LinkToReq(shells[i], secondArg);
}//to here 
```

# android - 如何做与 android 市场 UI 相同的返回选择器？

> ID：11046273
> 
> 赞同：0
> 
> 时间：2012-06-15T07:21:49.323
> 
> 标签：android, android-layout

如何进行此类活动

当我按下首选项按钮时，我只需要更改箭头的背景颜色。

![在此处输入图像描述](../Images/dee3950c6166cc2b5cc3100ffbad476f.png)

我所做的是当我放置 `android:background="@null"`TextView 时无法显示蓝色背景的整个视图。

```
<LinearLayout
                android:layout_width="wrap_content"
                android:layout_height="match_parent"
                android:layout_centerVertical="true"
                android:background="@drawable/btn_selector"
                android:clickable="true" >

                <ImageView
                    android:id="@+id/back_arrow"
                    android:layout_width="wrap_content"
                    android:layout_height="match_parent"
                    android:src="@drawable/ic_ab_back_holo_dark" />

                <TextView
                    android:id="@+id/settings_title"
                    android:layout_width="wrap_content"
                    android:layout_height="match_parent"
                    android:layout_marginLeft="10dp"
                    android:background="@null" 
                    android:layout_toRightOf="@id/back_arrow"
                    android:gravity="center_vertical"
                    android:text="@string/settings_title"
                    android:textColor="@color/white"
                    android:textSize="22sp" />
            </LinearLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:34:02.017

使用可绘制的状态列表作为 ImageView 的背景（如果您愿意，也可以更改为按钮）。然后您可以将按钮的背景设置为不同的状态（例如，按下时）。

[参考](http://developer.android.com/guide/topics/resources/drawable-resource.html#StateList)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:35:56.160

只需正常设置 textview，黑色背景 (#000000) 并让 imageButton 将 src 设置为可绘制选择器：

```
 <ImageButton android:id="@+id/imageButton" android:layout_width="fill_parent"
         android:layout_height="wrap_content" android:background="@null" android:gravity="center_horizontal" 
         android:paddingLeft="50dp" android:paddingTop="25dp" android:src="@drawable/button_selector"/> 
```

选择器：

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:state_pressed="true"
        android:drawable="@drawable/button_pressed"/>
    <item android:state_pressed="false"
            android:drawable="@drawable/button_rested"/>
    <item android:state_enabled="false"
            android:drawable="@drawable/button_disabled"/>
</selector> 
```

# javascript - '#' + div_id 有替代方案吗？

> ID：11046278
> 
> 赞同：6
> 
> 时间：2012-06-15T07:22:05.210
> 
> 标签：javascript, jquery, coding-style

有没有更好的方法来编写以下函数？

对我来说，`'#' + div_id`只是看起来不对。

```
function hide_div(div_id) {
    $('#' + div_id).hide();
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-15T07:28:49.340

如果您以某种方式反对字符串连接，那么您可以这样做：

```
$(document.getElementById(div_id)).hide(); 
```

您还可以传入完全限定的选择器，如下所示：

```
hide_div("#divId"); 
```

如果你想用 vanilla Javascript 来做，你可以这样做：

```
document.getElementById(div_id).style.display = "none"; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-15T07:31:46.480

简短的回答：没有。稍微长一点的答案：创建一个带有一个字母长名称的函数，该函数采用元素的 ID 并在其上返回一个 getElementById，然后将其包装在您的 jQuery`$()`中，如下所示：

```
function i(id) {
    if (document.getElementById(id)) return document.getElementById(id);
    else return "";
} 
```

然后：

```
$(i(id)).doWhatever(); 
```

但老实说，想想看：

```
$("#" + id)
  12345678

$(i(id))
  12345 
```

那是三个字符。这值得么？这三个角色对你来说真的那么重要吗？通过不使用 document.getElementById(id)（27 个字符），您已经节省了很多。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-15T07:30:48.973

几种替代方式：

```
$(['#', div_id].join('')).hide();

$('#'.concat(div_id)).hide(); 
```

此外，@Thomas 启发了我这个替代解决方案：

当你调用你的函数时，使用：

```
$.proxy( hide_div, $('#' + div_id) );

// Then, you can do this:
function hide_div() {
    this.hide();
} 
```

它可以让您更好地重用。或不。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-15T07:28:18.407

```
function hide_div(div_id) {
    $(div_id).hide();
} 
```

...在哪里...

```
div_id = '#someId';
hide_div(div_id); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-15T07:40:28.057

根据用例，您可以传递对象而不是 id：

```
$('#someobject').click(function(){
    hideDiv(this);
}); 
```

* * *

## 回答 #6

> 赞同：-5
> 
> 时间：2012-06-15T07:34:09.080

不，你不能把它缩短得更多。# + div_id 的替代方法是：

```
$('[id="'+div_id+'"]') 
```

此查询与 [] 属性选择器一起使用。**不是更短，不是更干净，真的很慢，但无论如何都是一种选择**

# php - 使用 json 和 XMLHttpRequest javascript 的 Web 服务

> ID：11046281
> 
> 赞同：0
> 
> 时间：2012-06-15T07:22:14.940
> 
> 标签：php, javascript, json

我正在开发一个 chrome 扩展，我希望能够使用密钥身份验证来控制它的功能。每个键将调度 json 以使用 JavaScript 发送到浏览器。由于相同的原产地政策，我被困住了。能够从 chrome 扩展解析此 json 数据并仍保持安全性的最佳选择是什么？

json数据

```
{"valid":"true","info":{"id":"15","username":"johndoe","expire":"1340470800"}} 
```

使用 javascript 的浏览器请求

```
var xmlhttp;
function loadXMLDoc(url, cfunc) {
    if (window.XMLHttpRequest) {
        // code for IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp = new XMLHttpRequest();
    } else {
        // code for IE6, IE5
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
    }
    xmlhttp.onreadystatechange = cfunc;
    xmlhttp.open("GET", url, true);
    xmlhttp.send();
}

loadXMLDoc("http://website.com/user_data.php?key=3455-2534-7765-2335&username=johndoe", function() {
  if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
      var json = xmlhttp.responseText;
      alert(json);
  }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:54:36.577

我认为 Chrome 和 Firefox 支持[Cross-Origin Resource Sharing](http://dvcs.w3.org/hg/cors/raw-file/tip/Overview.html)。

阅读[MDN](https://developer.mozilla.org/en/http_access_control)和[W3C](http://dvcs.w3.org/hg/cors/raw-file/tip/Overview.html#access-control-allow-origin-response-header)`Access-Control-Allow-Origin`上的 HTTP 标头。

由于您正在开发浏览器扩展，您可能需要设置：`Access-Control-Allow-Origin: *`

使用 PHP 发送标头是通过标头函数完成的。

# python - 设计替代在 WxPython 中每次单击时弹出新框架

> ID：11046283
> 
> 赞同：0
> 
> 时间：2012-06-15T07:22:22.053
> 
> 标签：python, wxpython

我的应用程序包括查看来自光谱仪（光学仪器）的实时信息并从中提取帧。单击提要中的一个点会启动一个分析图像的**新框架。**每个框架处理一个**面板**。

创建一个新框架的动作对程序员来说非常容易（立即显示和焦点捕获，离散对象，没有复杂的布局管理，关闭按钮的简单含义）。

我现在想要一个在单个窗口中工作的设计。**替代**创建新框架的做法的最简单的设计模式是什么？它应尽可能提供相同的优势（参见上一段）。我正在考虑使用选项卡来管理面板，因为它们可以捕获焦点、隐藏/显示面板、优雅地销毁自己等。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T13:57:21.220

创建一个包含两个主要元素的框架：

1.  您当前的供稿
2.  一个导航控件，例如 wx.ListBox、wx.ListCtrl 或 wx.TreeCtrl，允许您滚动并单击要在元素 (1) 中显示的提要。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:32:57.357

我会把你的提要放在一个有两个元素空间的sizer中。除非 sizer 中的第二个空间可用，否则让 feed 扩展以填满您的窗口。然后，当您单击提要时，将包含详细信息的面板添加到 sizer 的空白部分。

您可以添加一个关闭按钮，该按钮会以与当前相同的方式简单地关闭和删除面板。

# c# - 可比实现

> ID：11046285
> 
> 赞同：0
> 
> 时间：2012-06-15T07:22:39.560
> 
> 标签：c#

我写了以下代码

```
 class Program
{
    static void Main(string[] args)
    {
        Circle c1 = new Circle(5);
        Circle c2 = new Circle(10);
        Console.WriteLine(c1.Area().ToString());
        if (c1>c2)
        {
        }
    }
}
public class Circle:System.IComparable<Circle>,IComparable
{
    public int radius { get;private set; }
    public double Area()
    {
        return Math.PI * radius * radius;
    }
    public Circle(int radius)
    {
        this.radius = radius;
    }
    public int CompareTo(Circle c)
    {
        if (c.Area() == this.Area())
            return 0;
        if (c.Area() > this.Area())
            return 1;
        return -1;
    }
    public int CompareTo(Object c)
    {
        if (((Circle)c).Area() == this.Area())
            return 0;
        if (((Circle)c).Area() > this.Area())
            return 1;
        return -1;
    }
} 
```

但是，错误 Error 1 Operator '>' 不能应用于“ConsoleApplication1.Circle”和“ConsoleApplication1.Circle”类型的操作数

我已经实现了这两种方法，但无法弄清楚错误

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-15T07:24:50.140

您需要重载 > 运算符才能执行您正在尝试的操作：

```
 public static bool operator > (Circle c1, Circle c2)
  {
     return (c1.CompareTo(C2) > 0);
  } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-15T08:13:47.633

实现`IComparable`or`IComparable<T>`不会自动启用比较运算符的使用。您必须专门提供它们的实现。大多数其他答案（在此答案时）提供了不正确或不完整的运算符实现。

您需要首先修复您的`CompareTo`实现。第一个解决办法是确保您处理`null`案件。一个对象的比较总是大于`null`每个规范（[请参阅](http://msdn.microsoft.com/en-us/library/system.icomparable.compareto.aspx) [文档](http://msdn.microsoft.com/en-us/library/43hc6wht)）：

```
public int CompareTo(Circle c)
{
    return c == null ? 1 : CompareAreas(this.Area(), c.Area());
}
public int CompareAreas(double a, double b)
{
    return a > b ? 1 : a == b ? 0 : -1;
} 
```

的非泛型版本`CompareTo`还需要处理与对象的比较，`null`并以其他方式确保它确实与`Circle`对象进行比较：

```
public int CompareTo(Object obj)
{
    if (obj == null) return 1;
    var c = obj as Circle;
    if (c == null) throw new ArgumentException(null, "obj");
    return CompareTo(c); // delegate to CompareTo(Circle)
} 
```

最后，`>`and`<`运算符的实现需要考虑其中一方或双方`null`：

```
public static bool operator >(Circle a, Circle b)
{
    return Compare(a, b) > 0;
}
public static bool operator <(Circle a, Circle b)
{
    return Compare(a, b) < 0;
}
public static int Compare(Circle a, Circle b)
{
    return a == null && b == null ? 0 : a == null ? 1 : a.CompareTo(b);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-15T07:31:36.520

```
public static bool operator < (Circle c1, Circle c2)
{
    return compare(c1, c2) < 0;
}

public static bool operator > (Circle c1, Circle c2)
{
    return compare(c1, c2) > 0;
}

public static bool operator == (Circle c1, Circle c2)
{
    return compare(c1, c2) == 0;
}

public static int compare(Circle c1, Circle c2)
{
    return c1.radius.CompareTo(c2.radius);
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-15T07:40:15.700

实现 IComparable 本身不会为该类创建 >、>=、<、<= 运算符。如果您希望这些运算符可用于您的类，则必须实现它们：

```
public static bool operator > (Circle x, Circle y) {
   return x.CompareTo(y) > 0;
}

// and so on for the other operators 
```

如果您决定创建这些运算符，您可能还希望重载 .Equals 方法和 == 运算符，以便您的 Circle 对象在实际比较操作下表现出值类型行为。

此外，由于面积与半径成正比，因此您最好比较半径（？拼写）而不是面积。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-15T07:27:57.323

另一种解决方案也可以实现`IComparable`类型`Circle`。在这种情况下，您可以这样做，例如：

```
.....

if (c.Area().CompareTo(this.Area()) == 0)
     return 0;

..... 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-15T07:39:33.340

代码中的问题：
（1）您应该覆盖运算符`>`以将其与 2 个 Circle 对象一起使用。
(2) 在 compare 方法中，您应该返回一个值，指示与 Circle 对象之间的距离，而不仅仅是 1 或 -1 或 0 。
(3) 你应该调用一次Area()方法并保存它的值，然后在需要的时候使用这个值，而不是每次你需要的时候都使用这个方法。

```
public class Circle : System.IComparable<Circle>
{
    public int radius { get; private set; }
    public double Area()
    {
        return Math.PI * radius * radius;
    }
    public Circle(int radius)
    {
        this.radius = radius;
    }
    public int CompareTo(Circle c)
    {
        //you should not just return 1 or -1, you should return a value indicating their "distance"
        return (int)(this.Area() - c.Area());
    }
    public static bool operator >(Circle a, Circle b)
    {
        return a.CompareTo(b) > 0;
    }
} 
```

# .net - VB.Net 编码指南

> ID：11046292
> 
> 赞同：3
> 
> 时间：2012-06-15T07:23:12.107
> 
> 标签：.net, vb.net, coding-style, compiler-warnings

我们为各种客户开发小型应用程序。我现在的任务是为内部和外部程序员设置一些编码指南。

（管理层对开发一无所知，只看到将项目从一个开发人员转移到另一个开发人员的问题。客户按小时付费，开发只是整个项目的一小部分，因此代码质量不是问题）

我的第一步是为 C# 和 VB.Net 设置指导方针（SQL 可能稍后会出现）。

（这里的大多数代码 都是`CTRL-C``CTRL-V`用`F5`.

我最熟悉 C#/C++（但有时使用现有的 VB6/VBA/VB.Net 代码），因此设置 C# 指南非常简单：

*   警告级别 4
*   风格警察
*   FxCop
*   代码度量（例如圈复杂度 < 15，可维护性 > 50）

对于 VB.Net，我需要用一些书面指南替换 StyleCop，但是如何设置 VB.Net 编译器。`Option Explicit`就我个人而言，我从来没有在没有/等的情况下进行编码，`Option Strict`但如果我在我们的 VB.Net 项目中这样做，我会收到数百个警告/错误（隐式转换、默认返回类型/值等）。

如果没有编译器警告的帮助，VB 开发人员似乎不会遇到问题。我不认为他们的生产力通常与 C# 开发人员不同（这更多是个人的事情）。

我不想强制执行我自己对静态检查的偏好，所以我的问题是：
**对于 VB.Net 开发来说，哪些警告级别是合理/最佳实践？**

（英语不是我的第一语言，所以我希望这听起来不像我认为 VB.Net 或 VB 开发人员在任何方面都不如 C#。我只是在 VB.Net 项目中没有太多经验）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T08:34:04.887

VB.net 就相当于 C#。如果有人对此有疑问，他可以查看 Internet 上的各种 C# 到 VB.Net 的翻译器。选择 C# 还是 VB.net 只是习惯、可读性和感觉的问题。不是技术或性能问题。

从这里开始，您为 C# 声明的几乎相同的准则可用于 VB.net。所以设置相同的警告级别应该没问题......（VB.net也有可能吗？我记得你有一组选项编译器会警告你......）

问题可能是您将没有像 StyleCop 这样的免费工具（但有商业工具，如[What StyleCop like tools are there for VB.NET 中](https://stackoverflow.com/questions/2131350/what-stylecop-like-tools-are-there-for-vb-net)所述）。

您还可以考虑购买 Visual Studio 的 Ultimate 或 Premium 版本（它们具有集成的静态分析工具）。

是的，强制使用 Option Explicit / Option Strict（至少对于新代码或正在审查的代码！）

# ios - 播放器 contentURL 更改时 MPMoviePlayerViewController 消失

> ID：11046295
> 
> 赞同：0
> 
> 时间：2012-06-15T07:23:37.207
> 
> 标签：ios, cocoa, mpmediaplayercontroller

我知道，有几十个类似的问题。我全部阅读了它们，但仍然找不到答案。`presentModalViewController`我通过方法显示视频视图。当用户滑动时，我希望下一个视频在同一个播放器中开始。但是当我尝试更改`contentURL`视频播放器时，视图消失了 - 就像`dismissModalViewControllerAnimated`调用了方法一样（但没有调用）。

```
@implementation ViewController

-(void)viewDidAppear:(BOOL)animated
{
    [super viewDidAppear:animated];

    if(!moviePlayerViewController)
    {
        NSURL *url = [NSURL URLWithString:@"http://devimages.apple.com/iphone/samples/bipbop/gear1/prog_index.m3u8"];

        moviePlayerViewController = [[MPMoviePlayerViewController alloc] initWithContentURL:url];       

        UISwipeGestureRecognizer *leftSwipeRecognizer = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(leftSwipe:)];
        leftSwipeRecognizer.direction = UISwipeGestureRecognizerDirectionLeft;
        [moviePlayerViewController.view addGestureRecognizer:leftSwipeRecognizer];

        [self presentModalViewController:moviePlayerViewController animated:YES];
    }
}

-(void)leftSwipe:(id)sender
{
    moviePlayerViewController.moviePlayer.contentURL = 
        moviePlayerViewController.moviePlayer.contentURL; // no matter what exactly URL here.
    [moviePlayerViewController.moviePlayer play]; // view disappears even before this line is reached
}

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:33:37.027

奇怪的事情：我整个昨天都在徒劳地寻找答案，我在这里发布问题后一分钟找到了答案。

[http://josebolanos.wordpress.com/2011/09/28/dismissing-mpmovieplayerviewcontroller-the-right-way/](http://josebolanos.wordpress.com/2011/09/28/dismissing-mpmovieplayerviewcontroller-the-right-way/)

# google-visualization - 流星和谷歌图表

> ID：11046297
> 
> 赞同：1
> 
> 时间：2012-06-15T07:23:44.693
> 
> 标签：google-visualization, meteor

我正在尝试使用流星来使用谷歌图表系统获取图表更新。所以我要做的是创建一个集合，然后将其提供给谷歌图表的“数据”（例如饼图）。问题是 google 图表的 javascript 代码只在标签中工作，因此我不能使用 Meteor 的简单诱惑，它只在 . 所以我所做的就是将以下代码放入我的 html 的 head 部分：

```
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">

      // Load the Visualization API and the piechart package.
      google.load('visualization', '1.0', {'packages':['corechart']});
    </script>
and then in Meteor.startup in Meteor.is_client i call :
google.setOnLoadCallback(drawChart);
 in drawChart the data is defined as follow:

var data = new google.visualization.DataTable();
        data.addColumn('string', 'Topping');
        data.addColumn('number', 'Slices');
        data.addRows([
          ['Mushrooms', 3],
          ['Onions', 1],
          ['Olives', 1],
          ['Zucchini', 1],
          ['Pepperoni', 2]
        ]); 
```

我用从我的集合中获得的数据提供数据的 addRows。但是当我尝试使用客户端 mongo 向它添加数据时，它不会自动更新。它只是在我刷新页面时出现。你知道我如何知道我的收藏中的变化，然后根据我的 Mongo 收藏中的变化实时重新渲染我的图表吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T15:16:37.523

我建议您手动订阅该集合并在更改时将数据提供给谷歌图表。

请参阅：[Meteor.subscribe()](http://docs.meteor.com/#meteor_subscribe)。然后我认为您可以通过第三个参数检测更改，即您自己定义的 onComplete 回调函数。我相信在服务器上更改数据时传递给此函数的数据表明数据是否已添加、删除、移动或更改。在这个 onComplete 函数中，您将更新谷歌图表。

祝你好运。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-16T10:52:00.523

好的。我找到了解决方案。Spilaris，您所说的仅在订阅完成时调用一次。我需要观察数据库的变化。

# android - 如果两个手势笔划相交，如何识别点

> ID：11046303
> 
> 赞同：1
> 
> 时间：2012-06-15T07:24:23.227
> 
> 标签：android, android-gesture, line-intersection

我正在开发一个游戏。在我的游戏中，当两条手势线相交时，游戏就结束了。如何识别两条手势线的交点？

我的代码如下

```
public class GameActivity extends Activity implements OnTouchListener 
{
    float temp=0,temp1=0;
    GestureOverlayView gstr;
    ArrayList<String> arr,prmt;
    View view;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.gestureoverlay);

        prmt=new ArrayList<String>();
        arr=new ArrayList<String>();
        gstr=(GestureOverlayView) findViewById(R.id.GestureView);

        gstr.setOnTouchListener(this);

    }

    @Override
    public boolean onTouch(View v, MotionEvent event) {

        if(MotionEvent.ACTION_MOVE==event.getAction())
        {
        Log.i(" "+event.getX()+""+event.getY(),"state");
        if(temp!=0 && temp1!=0)
        {
            if(temp<event.getX() && temp1<event.getY())
            {
                if(event.getX()>=event.getY())
                {
                    for(float i=temp;i<=event.getX();i++)
                    {
                        if(temp1<=event.getY())
                        {
                            temp1++;
                        }
                        if(!arr.contains(i+"  "+temp1))
                        {
                            arr.add(i+"  "+temp1);
                        }
                    }
                }
                else
                {
                    for(float i=temp1;i<event.getY();i++)
                    {
                        if(temp<=event.getX())
                        {
                            temp++;
                        }
                    if(!arr.contains(temp+"  "+i))
                    {
                            arr.add(temp+"  "+i);
                        }
                        Toast.makeText(getApplicationContext(), "y is high",50).show(); 
                    }               }
            }
            else if(temp>event.getX() && temp1>event.getY())
            {
                if(event.getX()<=event.getY())
                {
                    for(float i=temp;i>=event.getX();i--)
                    {
                        if(temp1>=event.getY())
                        {
                            temp1--;
                        }
                        if(!arr.contains(i+"  "+temp1))
                        {
                            arr.add(i+"  "+temp1);
                        }
                    }
                }
                else
                {
                    for(float i=temp1;i>event.getY();i--)
                    {
                        if(temp>=event.getX())
                        {
                            temp--;
                        }
                        if(!arr.contains(temp+"  "+i))
                        {
                            arr.add(temp+"  "+i);
                        }
                        Toast.makeText(getApplicationContext(), "y is high",50).show(); 
                    }
                }
            }

            else
            {
                if(!arr.contains(event.getX()+"  "+event.getY()))
                {
                        arr.add(event.getX()+"  "+event.getY());
                    if(!arr.contains((event.getX()-1)+"  "+event.getY()))
                        arr.add((event.getX()-1)+"  "+(event.getY()));              
                    if(!arr.contains((event.getX()+1)+"  "+(event.getY())))
                        arr.add(((event.getX()+1))+"  "+(event.getY()));
                }
            }
        }

        temp=event.getX();
        temp1=event.getY();
        tv.setText("x="+event.getX()+"  "+event.getY()+"\n");
        Log.i("x and y="+event.getX()+"  "+event.getY()+" "+arr, " ");
        //Toast.makeText(getApplicationContext(),event.getX()+"  "+(event.getX()+1), 40).show();
        }
        if(MotionEvent.ACTION_UP==event.getAction())
        {

            for(int i=0;i<arr.size();i++)
            {
                if(!prmt.contains(arr.get(i)))
                {
                    prmt.add(arr.get(i));
                    //arr.remove(i);
                }
                else
                {
                    Toast.makeText(getApplicationContext(), "Game over",30).show();
                    Log.i("x and y=", "else");
                    Intent in=new Intent(getApplicationContext(),mainmenu.class);
                    startActivity(in);
                    finish();
                }
            }
            arr.clear();
            //Toast.makeText(getApplicationContext(), "action up",50).show();   
        }
        return false;
    }

} 
```

但我无法获得所有像素（xy 坐标）。这样当两条手势线相互交叉时，我就无法识别交点。
请给我任何解决方案或任何其他方式来识别两条画线的共同点

# java - Instrumentation API 是否允许完全重新定义类，包括其结构？

> ID：11046305
> 
> 赞同：2
> 
> 时间：2012-06-15T07:24:26.357
> 
> 标签：java, instrumentation

我正在阅读 Instrumentation API 文档和在 web.xml 中找到的大量示例。但是我仍然不明白我可以对使用 Instrumentation API 的类做什么样的事情？我是否认为在加载类之前我可以进行任何我想要的转换（添加新字段、删除、添加方法），但是一旦加载，我只能更改方法主体？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:30:25.747

允许哪些更改取决于 JVM。通常，您需要保持公共 API 和所有字段相同。您可以更改代码。

来自[http://docs.oracle.com/javase/7/docs/api/java/lang/instrument/Instrumentation.html#retransformClasses%28java.lang.Class...%29](http://docs.oracle.com/javase/7/docs/api/java/lang/instrument/Instrumentation.html#retransformClasses%28java.lang.Class...%29)

> 重新转换可能会改变方法体、常量池和属性。重新转换不得添加、删除或重命名字段或方法，更改方法的签名或更改继承。这些限制可能会在未来的版本中取消。在应用转换之前，不会检查、验证和安装类文件字节，如果结果字节有误，此方法将引发异常。

# android - 如何获取WebView中突然出现的弹窗内容？

> ID：11046309
> 
> 赞同：0
> 
> 时间：2012-06-15T07:24:34.180
> 
> 标签：android, android-emulator, android-webview

我总是在 stackoverflow 找到答案，但这个我还没有找到。我的问题是如何获取加载页面时突然出现的弹出窗口的内容。

我的想法是在 WebView 中加载 url 并获取出现的弹出窗口的内容。但是，我找不到与之相关的任何内容。

请帮忙。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T08:15:03.587

您可以使用覆盖的 onJsAlert 方法为您的 WebView 设置 WebChromeClient

[http://developer.android.com/reference/android/webkit/WebChromeClient.html](http://developer.android.com/reference/android/webkit/WebChromeClient.html)

# xpages - 如果我已经有 UP1，如何安装最新的扩展库？

> ID：11046315
> 
> 赞同：1
> 
> 时间：2012-06-15T07:24:49.757
> 
> 标签：xpages, xpages-extlib

我需要最新的扩展库......但现在我的服务器 Domino (Linux) 和 Designer 上安装了 UP1。

删除 UP1 并安装最后一个扩展库的正确程序是什么？

肿瘤坏死因子

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-15T07:33:41.770

**服务器**

要在 Linux 上卸载 UP1，`./uninstall`请从包含安装文件的目录执行。

这记录在[http://www-10.lotus.com/ldd/ddwiki.nsf/dx/Installing_the_upgrade_pack_on_a_Domino_server_ddxl853](http://www-10.lotus.com/ldd/ddwiki.nsf/dx/Installing_the_upgrade_pack_on_a_Domino_server_ddxl853)。

然后，您可以使用此处记录的更新站点方法在服务器上安装扩展库： [http ://www-10.lotus.com/ldd/ddwiki.nsf/dx/XPages_Extension_Library_Deployment](http://www-10.lotus.com/ldd/ddwiki.nsf/dx/XPages_Extension_Library_Deployment)

* * *

**客户**

您可以使用控制面板中的标准 Windows 添加/删除程序选项（查找“Lotus Notes 8.5.3 Upgrade Pack 1”）从 Domino Designer 中卸载 UP1，然后按照以下步骤在客户端中安装扩展库： [http:// www-10.lotus.com/ldd/ddwiki.nsf/dx/Installing_the_OpenNTF_update_site_in_Domino_Designer_ddxl853](http://www-10.lotus.com/ldd/ddwiki.nsf/dx/Installing_the_OpenNTF_update_site_in_Domino_Designer_ddxl853)

# php - 如何在 php 中读取多重成员身份的 cookie

> ID：11046316
> 
> 赞同：0
> 
> 时间：2012-06-15T07:24:54.600
> 
> 标签：php, cookies

**你好，**

如果用户在我的网站上有多个帐户，我如何设置像“last_visit”这样的 cookie 我尝试了一些方法但我失败了。

这是用户注销时的代码

```
setcookie('last_visit',time(),time()+60*60*24*30*12); 
```

但是当用户使用另一个帐户重新登录时，页面会使用此代码读取他第一个帐户的最后一次访问

```
 $lastvisit = $_COOKIE['last_visit']; 
```

我可以在一个 cookie 中将上次访问 cookie 与用户 id cookie 链接起来吗

**请帮助我正确的方法**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:37:36.427

在编写新的 cookie 时尝试删除现有的或旧的 cookie。进行互斥登录，当人们登录到一个帐户时，他们会从其他帐户中注销。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:38:28.530

两种选择：一种是创建用户 ID 和上次访问的关联数组，并将其存储为 cookie 的内容。第二个选项是为每个用户创建一个名为“last_visit_[user_id]”的 cookie。第一个可能更友好，它需要更少的用户 cookie。

* * *

编辑 - 这是一个未经测试的示例。抱歉有任何错误，但这应该给你要点。

关键数据存储在 $aLastLogged[UserID] = TimeLastLogged; 的关联数组中。

```
// This will be the user id of hte current user as set somewhere else.
$userID = 123;

// This will store the time the user last logged on. 0 = not logged on
$LastLoggedOn = 0;

// Read the cookie - allow for errors!
$aLastLogged = false;  // Start with "false" and we'll correct later if is works
// Check if cookie exists
if (isset($_COOKIE['last_logged'])) {
    // Read the cookie contents. The @ hides the errors in case the cookie is corrupted
    $aLastLogged = @unserialize($_COOKIE['last_logged']);
}

// At this point, aLastLogged will be an array, or false if it was not set or failed

if ($aLastLogged) {
    // See if this user has been here before by checking if there is an element in the array
    if (isset($aLastLogged[$userID])) {
        $LastLoggedOn = (int)$aLastLogged[$userID];
        // Note - I cast as "int" to check it's a valid number. You could alos check hte range is valid - just in case someone's been fiddlign with the cookie. Trust no input, ever, including cookies
    }
} else {
    // Create a blank array for the cookie
    $aLastLogged = array();
}

// At this point, you have the time in $LastLoggedOn

// Now update the cookie by creating / updating hte associative element
$aLastLogged[$user_ID] = time();
// Set the cookie; set the time and path and domain as required - the following is for 1 day - you'll want longer.
setcookie('last_logged', serialize($aLastLogged), time() + 86400, '/'); 
```

# java - Tomcat 中的上下文路径路由（服务交换）

> ID：11046320
> 
> 赞同：1
> 
> 时间：2012-06-15T07:25:14.880
> 
> 标签：java, tomcat, deployment

这是我想要实现的目标：

我有一个 Web 服务 A，我希望它能够与 A 类型的其他 Web 服务（不同版本）并排部署。现在我假设 2 个实例并排。我需要它，因为该服务有一个预热阶段，这需要一些时间来从数据库构建东西，只有在它准备好之后它才能开始服务请求......

我正在考虑部署到Tomcat6上下文路径，例如：*“/ServiceA-1.0”*， “/ServiceA *-2.0”* ，然后有一个“虚拟”上下文，如*“/ServiceA”*，它将指向所需的物理服务，例如*“/ServiceA- 1.0"* . 所以外部世界会知道 ServiceA，但在内部，我的 ServiceA 相关堆栈会知道版本化的 ServiceA url（涉及更多组件，但只有 ServiceA 服务于外部世界）。当新服务准备就绪时，我只需重新配置“虚拟”上下文以指向新服务。

到目前为止，我无法找到如何使用 Tomcat 执行此操作，并且开始 tkink 这是不可能的。我找到了将 Apache Server 放在 Tomcat 前面并在那里进行路由的建议，但除非必要，否则我不想注册另一个软件。

我的问题是：
- 这种“虚拟”上下文和路由是否可以与 Tomcat6 一起使用？
- 任何其他选择、智慧和经验教训如何实现这种服务交换场景？

最好的，
约瑟夫

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T07:33:32.327

鉴于您提到的热身期，我假设您在切换实现时或多或少想要不间断的服务。这真的很容易用前面的 Apache 处理。

我通常喜欢从这个额外的层中获得的灵活性。Apache 对您的系统没有太大的侵入性。另外 - 如果你在 unix 上运行 - 让 Apache 在端口 80 上侦听是微不足道的（阅读：默认），而你必须加倍努力才能让 tomcat 在端口 80 上侦听*而不是以 root 身份运行*。

如果您从未接触过 Apache，请放心，它很容易在短时间内学会。特别是当您不需要它带来的全部功能时。配置反向代理（或 mod_jk）随处可见。您提到的功能是反向代理和负载均衡器的混合体 - 即使您只有一台服务器来平衡“之间”的负载，您也会有两个不同的上下文/版本。

不要害怕 Apache，你在正确的道路上 :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T15:26:29.577

我不记得 Tomcat 是否具有执行此操作的本机能力，但是您应该能够使用简单的 Web 应用程序 servlet 相当容易地完成您正在寻找的东西。基本上创建一个监听“/ServiceA”并将所有内容重定向到您需要的 URL 的 servlet。您可以创建一个简单的管理页面（使用阀门来控制对它的访问？）或一个 JMX 服务来控制您想要重定向的端点。

不像在前面使用[Apache HTTPD](http://httpd.apache.org/)或[Lighttpd](http://www.lighttpd.net/)这样简单，但可能同样有效，并且允许您将所有内容保留在 Tomcat 中（如果您确实想要的话）。

[Pound](http://www.apsis.ch/pound)也是一个非常快速/轻量级的负载均衡器，你可以在你的服务之前运行它，但是如果有内存，它就不能动态地改变配置；它必须停止并重新启动。但是，停止和启动或发送 SIGHUP 是闪电般的快，所以应该不会太痛苦。当然，这确实意味着除了 Tomcat 之外，您还必须运行/配置/支持一个单独的二进制文件。

我只是在重读您最初的问题，并意识到没有人回答您关于切换服务警告的问题。您没有说明您的服务是否是无状态的，但您需要担心/考虑在两种服务之间切换时丢失会话/状态的影响。除此之外，我预计影响很小。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T15:23:34.613

Tomcat 7 支持开箱即用的版本控制。您只需部署例如 Service##1.war、Service##2.war 等，它们都显示为 /Service，并且存在的最新版本是默认版本，或者您可以与特定版本交谈。使用运行 mod_proxy 的 Apache HTTPD 将其作为前端，您就完成了。我会推荐 mod_proxy_ajp 而不是 mod_proxy_jk，因为它更容易配置并且对我来说似乎没有任何功能。

# ios - MKMapView 之上的透明 UIView

> ID：11046322
> 
> 赞同：1
> 
> 时间：2012-06-15T07:25:19.123
> 
> 标签：ios, uiview, mkmapview

单击 MKMapView 标注气泡时，我触发了一个

```
DetailsViewController *details = [[DetailsViewController alloc] initWithNibName:@"DetailsViewController" bundle:nil];
[self presentModalViewController:details animated:YES];
[details release]; 
```

在 DetailsViewController 中，我将背景设置为透明：

```
self.view.backgroundColor = [UIColor colorWithHue:0.0 saturation:0.0 brightness:1.0 alpha:0.2]; 
```

当我单击标注时，我看到动画开始（出现 DetailsView 并且是透明的），但是当动画完成后，它不再透明。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T07:31:43.957

问题是当你呈现一个新视图时，它会控制屏幕，所以你的背景视图消失了。

这种行为是正确的，因为假设您一直打开新视图并堆叠它们，操作系统无法在后台保存您的所有视图！它只是简单地使然后消失。

你可以让你的视图出现在第一个视图之上，而不是让一个新的视图控制器出现并控制屏幕。

尝试这样的事情，让我知道它是如何进行的（我只是在这里编写了代码，所以我不能向你保证它的工作，但你肯定明白这个想法）：

```
 DetailsViewController *details = [[DetailsViewController alloc] initWithNibName:@"DetailsViewController" bundle:nil];
    details.view.frame = self.view.frame;
    details.view.backgroundColor = [UIColor colorWithHue:0.0 saturation:0.0 brightness:1.0 alpha:0.2];
    [self.view addSubview:details.view];
    [details release]; 
```

我以前做过，而且可能，但我不能向您保证您的应用程序的稳定性。

其他“更清洁”的解决方案是让您的新视图成为旧视图的一部分。您可以将它设置在底部（隐藏），这样用户就看不到它，并且当您需要它时，您可以使用动画将其放在主屏幕中。问题是您将把 2 个控制器合并为一个。

# java - 尝试使用 RXTXcomm jar 加载小程序时出现 java.lang.ExceptionInInitializerError

> ID：11046324
> 
> 赞同：2
> 
> 时间：2012-06-15T07:25:20.100
> 
> 标签：java, jar, applet, serial-port, rxtx

我创建了一个小程序，`RXTXComm.jar`用于从 COM 端口读取值。当我在 Eclipse IDE 中将小程序作为小程序运行时，它正在工作。但是当我通过我的应用程序运行它时，它在小程序控制台中给出了这个错误：

```
java.lang.ExceptionInInitializerError thrown while loading gnu.io.RXTXCommDriver
Exception in thread "Thread-17" java.lang.ExceptionInInitializerError
at comPortListen.run(comPortListen.java:65)
at java.lang.Thread.run(Unknown Source)
Caused by: java.security.AccessControlException: access denied                                                                             (java.lang.RuntimePermission loadLibrary.rxtxSerial)
at java.security.AccessControlContext.checkPermission(Unknown Source)
at java.security.AccessController.checkPermission(Unknown Source)
at java.lang.SecurityManager.checkPermission(Unknown Source)
at java.lang.SecurityManager.checkLink(Unknown Source)
at java.lang.Runtime.loadLibrary0(Unknown Source)
at java.lang.System.loadLibrary(Unknown Source)
at gnu.io.CommPortIdentifier.<clinit>(CommPortIdentifier.java:83) 
```

可能是什么问题呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T13:39:54.593

我很确定你会被沙盒装箱

[安全和权限](http://java.sun.com/developer/onlineTraining/Programming/JDCBook/appA.html)

可能的重复线程：[带有 RXTX 的 Java Applet](https://stackoverflow.com/questions/5504390/java-applet-with-rxtx-components-for-serial-communication)

# javascript - 我想创建一个 chrome 扩展来获取页面中的所有链接并显示它们。

> ID：11046326
> 
> 赞同：0
> 
> 时间：2012-06-15T07:25:27.983
> 
> 标签：javascript, ajax, dom, google-chrome

我想创建一个 chrome 扩展来获取页面中的所有链接并显示它们。我可以在 javascript 中使用 DOM 模型吗？还是我必须使用 xmlHttpRequest(AJAX)？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T18:30:24.623

尝试这个：

```
chrome.tabs.executeScript({code: 'console.log(document.getElementsByTagName("a"));'}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T07:31:47.850

Chrome 扩展可以完全访问 DOM，所以只需使用 Javascript 获取它们就可以了。我可以建议使用 TamperMonkey 扩展对其进行试验，这将在测试内容时缩短您的往返行程。

# jakarta-ee - 在不同域上共享 HttpSession 或 Cookie 对象

> ID：11046327
> 
> 赞同：1
> 
> 时间：2012-06-15T07:25:31.870
> 
> 标签：jakarta-ee, cookies, cross-domain, tomcat6, httpsession

我在访问同一应用程序中不同域之间的`HttpSession`/对象时遇到问题。`Cookie`该站点在 Tomcat 的域`http://`和`https://`同一应用程序（上下文）中提供服务。问题是在域或域上创建的`HttpSession`/`Cookie`对象无法访问，反之亦然。当 url在同一上下文中重定向时，域 url 将发生变化。Tomcat中同一个Context应用的不同url可以共享不同域的对象吗？`http://``https://``http://``https://`

# php - PHP文件上传错误

> ID：11046329
> 
> 赞同：2
> 
> 时间：2012-06-15T07:25:49.797
> 
> 标签：php, file, input, upload, xampp

**HTML**

```
<form enctype="multipart/form-data" id="SubmitForm" method="post" action="serv.php">
  <input type="file" name="IMG" size="chars">
  <input type="Submit" value="SAVE">
</form> 
```

**PHP**

```
$target = 'upload/';
$target = $target . basename($_FILES['IMG']['name']);
if (move_uploaded_file($_FILES['IMG']['tmp_name'], $target)) {           //line 66
    echo 'File uploaded successfully';
} else {
    echo 'Sorry, there was a problem uploading file'
} 
```

**问题**

> **警告：** move_uploaded_file(upload/image.jpg) **[function.move-uploaded-file]**：无法打开流：**C:\xampp\htdocs\test\include\pages\editor\ged.php**中没有这样的文件或目录第**66**行
> 
>  ****警告：** move_uploaded_file() **[function.move-uploaded-file]**：无法在**C:\xampp\htdocs\test\include\中将 'C:\xampp\tmp\php5E.tmp' 移动到 'upload/image.jpg' pages\editor\ged.php**在第**66行**
> 
> 抱歉，上传文件时出现问题**

 **我添加了一个文件存在检查，它通过了，证明文件存在。我相信问题出在我在这里指定的 PHP 代码中。

此外，我在早期的脚本中使用了类似的代码并且它有效。我预计这不会有什么不同。我开始认为问题与临时文件的处理方式有关？我不知道，这就是我在这里的原因。

抱歉，如果此线程是克隆，但所有或任何以前具有相似名称的线程提供的解决方案并未证明对我有用（在我的场景中）。

非常感谢任何帮助或建议。我哪里错了？如何纠正这种情况？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T07:36:46.693

显然，我们有两个 PHP 文件，`serv.php`和`ged.php`，听起来它们位于不同的目录中。如果您在此类布局中使用相对路径，则默认情况下该路径被解释为相对于主脚本位置，即`serv.php`. 所以你想要这个：

```
C:\xampp\htdocs\test\include\pages\editor\upload 
```

...但是 PHP 可能正在寻找例如这个：

```
C:\xampp\htdocs\test\upload 
```

最简单的解决方法是使用绝对路径。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T07:42:13.163

对不起我的英语；o) 包含文件中的错误。但如果您在 serv.php 中包含 ged.php，则“upload”目录必须与文件 serv.php 位于同一目录中。

```
htdocs/.../ -
   upload - dir
   serv.php - file
   ... other files and directories 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-15T07:31:13.217

`$target`上传指的是`C:\xampp\htdocs\test\include\pages\editor\upload\`。听起来这个文件夹不存在或没有写权限。**

# android - 自定义相机返回 null

> ID：11046336
> 
> 赞同：0
> 
> 时间：2012-06-15T07:26:32.800
> 
> 标签：android, camera

我正在我的应用程序中创建一个自定义相机来拍摄一个返回 null 到我的背部活动的图像......

这是我的自定义相机代码.....

```
public class CustomCameraActivity extends Activity implements SurfaceHolder.Callback {

    public Camera mCamera;
    public SurfaceView mSurfaceView;
    public SurfaceHolder mSurfaceHolder;
    public boolean previewing = false;
    public LayoutInflater mLayoutInflater;
    public Button btn_Capture;
    public byte[] mPictureBytes;

    public Intent mIntent;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.cameraview);
        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);

        getWindow().setFormat(PixelFormat.UNKNOWN);

        mIntent = getIntent();

        mSurfaceView = (SurfaceView) findViewById(R.id.cameraView);
        mSurfaceHolder = mSurfaceView.getHolder();
        mSurfaceHolder.addCallback(this);
        mSurfaceHolder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);

        mLayoutInflater = LayoutInflater.from(getBaseContext());
        View viewControl = mLayoutInflater
                .inflate(R.layout.controlbutton, null);
        LayoutParams layoutParamsControl = new LayoutParams(
                LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT);
        this.addContentView(viewControl, layoutParamsControl);

        btn_Capture = (Button) findViewById(R.id.btn_capture);
        btn_Capture.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                try {
                    mCamera.takePicture(myShutterCallBack, myPictureCallback_RAW, myPictureCallback_JPEG);
                    mIntent.putExtra("mPictureBytes", mPictureBytes);
                    Log.d("mPictureBytes", String.valueOf(mPictureBytes));
                    setResult(007, mIntent);
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        });

    }

    ShutterCallback myShutterCallBack = new ShutterCallback() {
        @Override
        public void onShutter() {
        }
    };

    PictureCallback myPictureCallback_RAW = new PictureCallback() {
        @Override
        public void onPictureTaken(byte[] data, Camera camera) {
        }
    };

    PictureCallback myPictureCallback_JPEG = new PictureCallback() {
        @Override
        public void onPictureTaken(byte[] data, Camera camera) {
            try {
            } catch (Exception e) {
                e.printStackTrace();
            } finally {
                mPictureBytes = data;
            }
        }
    };
    @Override
    public void surfaceChanged(SurfaceHolder holder, int format, int width,
            int height) {
        try {
            if (previewing) {
                mCamera.stopPreview();
                previewing = false;
            }
            if (mCamera != null) {
                mCamera.setPreviewDisplay(mSurfaceHolder);
                mCamera.startPreview();
                previewing = true;
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
    @Override
    public void surfaceCreated(SurfaceHolder holder) {
        mCamera = Camera.open();
    }
    @Override
    public void surfaceDestroyed(SurfaceHolder holder) {
        mCamera.stopPreview();
        mCamera.release();
        mCamera = null;
        previewing = false;
    }
} 
```

如果我在 finally 块应用程序中分配数据（字节 []），如果我把它放在 try catch 块中，它会返回 null ......

**我想将此图像或字节 [] 发送到我的背部活动.....**

# javascript - GetElementByClassName 与 IE 7 一起使用

> ID：11046338
> 
> 赞同：0
> 
> 时间：2012-06-15T07:26:37.020
> 
> 标签：javascript, html

抱歉关注这个话题

```
http://stackoverflow.com/questions/11044825/javascript-run-on-ie-7 
```

我想在 INTERNET EXPLORE 7 上使用 document.GetElementByClassName

在我下载下面的 js 文件并将其粘贴到我的代码之后

```
http://robertnyman.com/2008/05/27/the-ultimate-getelementsbyclassname-anno-2008/ 
```

这是我的代码

```
<script>
var getElementsByClassName = function (className, tag, elm){
    if (document.getElementsByClassName) {
        getElementsByClassName = function (className, tag, elm) {
            elm = elm || document;
            var elements = elm.getElementsByClassName(className),
                nodeName = (tag)? new RegExp("\\b" + tag + "\\b", "i") : null,
                returnElements = [],
                current;
            for(var i=0, il=elements.length; i<il; i+=1){
                current = elements[i];
                if(!nodeName || nodeName.test(current.nodeName)) {
                    returnElements.push(current);
                }
            }
            return returnElements;
        };
    }
    else if (document.evaluate) {
        getElementsByClassName = function (className, tag, elm) {
            tag = tag || "*";
            elm = elm || document;
            var classes = className.split(" "),
                classesToCheck = "",
                xhtmlNamespace = "http://www.w3.org/1999/xhtml",
                namespaceResolver = (document.documentElement.namespaceURI === xhtmlNamespace)? xhtmlNamespace : null,
                returnElements = [],
                elements,
                node;
            for(var j=0, jl=classes.length; j<jl; j+=1){
                classesToCheck += "[contains(concat(' ', @class, ' '), ' " + classes[j] + " ')]";
            }
            try {
                elements = document.evaluate(".//" + tag + classesToCheck, elm, namespaceResolver, 0, null);
            }
            catch (e) {
                elements = document.evaluate(".//" + tag + classesToCheck, elm, null, 0, null);
            }
            while ((node = elements.iterateNext())) {
                returnElements.push(node);
            }
            return returnElements;
        };
    }
    else {
        getElementsByClassName = function (className, tag, elm) {
            tag = tag || "*";
            elm = elm || document;
            var classes = className.split(" "),
                classesToCheck = [],
                elements = (tag === "*" && elm.all)? elm.all : elm.getElementsByTagName(tag),
                current,
                returnElements = [],
                match;
            for(var k=0, kl=classes.length; k<kl; k+=1){
                classesToCheck.push(new RegExp("(^|\\s)" + classes[k] + "(\\s|$)"));
            }
            for(var l=0, ll=elements.length; l<ll; l+=1){
                current = elements[l];
                match = false;
                for(var m=0, ml=classesToCheck.length; m<ml; m+=1){
                    match = classesToCheck[m].test(current.className);
                    if (!match) {
                        break;
                    }
                }
                if (match) {
                    returnElements.push(current);
                }
            }
            return returnElements;
        };
    }
    return getElementsByClassName(className, tag, elm);
}; 
```

并调用 getElemententsByClassName 函数

```
 var list = document.getElementsByClassName("count_regulation");
for (var i = 1; i <= list.length; i++) {
    list[i].innerHTML = i;
} 
```

仍然对 IE 7 没有影响——。请解释当我使用 js 时我错了哪一部分，因为我是 Javascripts 的新手。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:38:12.340

尝试不使用`document`：

```
var list = /*no document here*/getElementsByClassName("count_regulation");
for (var i = 1; i <= list.length; i++) {
   list[i].innerHTML = i;
} 
```

# java - 将消息 JavaFX gui 交换到同一台机器上的 C++ 应用程序

> ID：11046342
> 
> 赞同：0
> 
> 时间：2012-06-15T07:26:53.430
> 
> 标签：java, c++, javafx

我想知道我必须在 JavaFX 中的 gui 和另一个用 C++ 编写的程序之间进行通信的解决方案。两个程序都在同一台机器上运行。要交换的数据不大。两者都在 Windows 上运行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T09:27:38.960

我会推荐你​​ Apache Thrift。我实际上将它用于您在此处描述的目的。它适用于许多平台，如 Java、Ruby、C++、C#、Pascal、Python 等。它非常易于使用。

检查这个[Apache 节俭主页](http://thrift.apache.org/)。

这是一个包含一些示例源的教程：

[教程 1](http://chamibuddhika.wordpress.com/2011/10/02/apache-thrift-quickstart-tutorial/)

本教程展示了与 C# 的互连：

[Java 和 C# 互连](http://1b1t.wordpress.com/2011/08/01/thriftpart-six-implementing-c-client/)

以下是一些示例源代码：

[样本来源](https://skydrive.live.com/?cid=8d3e091cc94025b2&resid=8D3E091CC94025B2!616&id=8D3E091CC94025B2!616)

# javascript - 动态 CRM 2011 FetchXml 结果与架构名称连接

> ID：11046349
> 
> 赞同：-1
> 
> 时间：2012-06-15T07:27:17.733
> 
> 标签：javascript, dynamics-crm-2011, crm, fetchxml

我的 Fetch xml 如下，我使用 fetchUtil 来获取结果。但在结果链接实体结果中始终与模式名称连接。如何获取没有模式名称的字符串值？

```
 <fetch version="1.0" output-format="xml-platform" mapping="logical" distinct="false">
   <entity name="xxx_opportunityresource">
   <attribute name="xxx_opportunityresourceid" />
<attribute name="xxx_name" />
<order attribute="xxx_name" descending="false" />
<filter type="and">
  <condition attribute="xxx_opportunity" operator="eq" uiname="First Opp" uitype="opportunity" value="{7904E53C-A7AB-E111-8DF0-00155D01AB06}" />
  <condition attribute="xxx_opportunityresourcestatus" operator="eq" value="5" />
</filter>
<link-entity name="xxx_consultant" from="xxx_consultantid" to="xxx_resource" visible="false" link-type="outer" alias="a_7cb2d7e74eabe1118df000155d01ab06">
  <attribute name="xxx_fullname" />
</link-entity> 
```

结果采用以下格式

stex_fullnamestex_consultantJohn Mark John"

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T11:44:02.917

[我想你指的是这里](http://blog.customereffective.com/blog/2011/05/execute-fetch-from-javascript-in-crm-2011.html)引用的图书馆？

听起来您只是使用错误的属性来访问该值。发布实际生成您在下面提到的输出的行，我可以向您展示如何更正它。

> 结果采用以下格式
> 
> stex_fullnamestex_consultantJohn Mark John

# c# - 使用 StructureMap 在 Timer_Elapsed 中处理 Datacontext 操作

> ID：11046352
> 
> 赞同：0
> 
> 时间：2012-06-15T07:27:32.137
> 
> 标签：c#, asp.net-mvc-3, structuremap, datacontext

请在 timer_elapsed 事件中连接/使用 datacontext 对象的最佳方法是什么。我在 timer_elapsed 中有一个 datacontext 对象，它第一次运行完美，但在随后调用 timer_elapsed 事件时什么也不做。我知道每次调用线程池线程上的 elapsed 事件都会创建一个新实例。我如何控制这种行为或至少让我的代码始终如一地运行。谢谢。

这是我的结构图配置

```
ForRequestedType<BulkSMSDataContext>()
            .TheDefaultIs(() => new BulkSMSDataContext())
            .CacheBy(InstanceScope.Hybrid); 
```

这是我的计时器实现

```
void _timerSendScheduledMessages_Elapsed(object sender, ElapsedEventArgs e)
    {
        DateTime currentUTC = DateTime.UtcNow.AddSeconds(-DateTime.UtcNow.Second).AddMilliseconds(-DateTime.UtcNow.Millisecond);

        var msgToSend = from c in _messageRepository.GetMessages(MessageTypes.Scheduled)
                        where c.Time == currentUTC
                        select c;

        foreach (var msg in msgToSend)
        {
            int scheduledMsgID = msg.MessageID;
            Response res = _messageService.Send(msg);
            _messageRepository.DeleteScheduledMessage(scheduledMsgID);
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:10:53.927

为了更好地控制范围，我会在每次调用时更改 elapsed 事件以创建一个新的 _messageRepository，假设您将 datacontext 传递给 _messageRepository。然后让结构映射将您的数据上下文注入其中。

否则，你最终会得到一个定义不明确的工作单元，这往往会引发像你所遇到的那样的范围界定问题。

虽然没有看到你的实现，但很难准确地说出来。

# php - Wordpress 中的国家/地区动态下拉列表

> ID：11046354
> 
> 赞同：3
> 
> 时间：2012-06-15T07:27:48.820
> 
> 标签：php, javascript, ajax, wordpress

> 我的 Wordpress 注册页面需要一个城市/州/国家动态下拉列表。
> 
> 我已经手动输入了一些条目。

[这是我的注册页面链接](http://izisstechnology.com/dashboard/wp-login.php?action=register&redirect_to=/dashboard/dash-board)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T07:49:55.790

您要求插件，所以我在几个月前使用了一个：-

试试这个：-

[http://www.dagondesign.com/articles/drop-down-post-list-plugin-for-wordpress/](http://www.dagondesign.com/articles/drop-down-post-list-plugin-for-wordpress/)

WordPress的下拉帖子列表插件

# jquery - jQuery UI 嵌套可排序

> ID：11046356
> 
> 赞同：1
> 
> 时间：2012-06-15T07:27:54.733
> 
> 标签：jquery, jquery-ui, jquery-ui-sortable

我无法在 jQuery UI 中使嵌套元素可排序。我在按钮的单击功能上创建元素并附加它。在附加的元素中，我无法进行嵌套排序。请帮助我使嵌套元素可排序，这些元素是通过单击按钮动态创建的。

代码如下。

 ````
<!DOCTYPE html>
<html>
<head>
<link href="jquery-ui.css" rel="stylesheet" type="text/css"/>
<script src="jquery-latest.pack.js"></script>
<script src="jquery-ui.min.js"></script>
<div class="container" style="width:960px; margin:auto;">
  <div style="width:200px; float: left;">
    <input type="button" id="singleText" value="Add Single Text Question" style= " " />
    <input type="button" id="optionsQuestions" value="Add Option Question " style= " " />
  </div>
  <div class="test"> </div>
  <div class="outer" style="width: 750px; float: left;">
    <div class="sortable-outer">
      <div class="inner"> </div>
    </div>
  </div>
</div>
<script type="text/javascript">
    $(function () {
        $('.inner').sortable({
            items: ".sortable-inner"
        });
        $('.outer').sortable({
            items: ".sortable-outer"
        });
    });

    (function () {
        var i = 0;
        $("#singleText").live('click', function () {

            var $ctrl = $('<div class="sortable-outer"><input type="text" name="question' + i + '" placeholder="Enter Your Questions Here..."> <br /> <input type="text" name="question' + i + 'Notes" placeholder="Enter Notes Here..."> <br /> <input type="text" name="question' + i + 'SortTitle" placeholder="Enter Short Title Here..."> <br /><label>Required.? </label> <input type="checkbox" value="question' + i + 'Required"> <br /><label>Is Mandatory? </label> <input type="checkbox" value="question' + i + 'Mandatory"> <br /><span class="removeQuestion" id="' + i + '"> remove </span></div>');
            $(".outer").append($ctrl).addClass("questionInContailer");

        });

        $("#optionsQuestions").live('click', function () {

            var $ctrl = $('<div class="outer"><div class="sortable-outer"><p>Outer Item 1</p><div class="inner"><div class="sortable-inner">Inner Item 1</div><div class="sortable-inner">Inner Item 2</div><div class="sortable-inner">Inner Item 3</div></div></div><div class="sortable-outer"><p>Outer Item 2</p><div class="inner"><div class="sortable-inner">Inner Item 1</div><div class="sortable-inner">Inner Item 2</div><div class="sortable-inner">Inner Item 3</div></div></div></div>');
            $(".outer").append($ctrl).addClass("questionInContailer");

        });

    })();
</script>
</body> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T07:33:50.677

```
 <script type="text/javascript">
function sorting(){
 $('.inner').sortable({
                items: ".sortable-inner"
            });
            $('.outer').sortable({
                items: ".sortable-outer"
            });
}
        $(document).ready(function(){
           sorting();
        });

      $(document).ready(function(){
            var i = 0;
            $("body").delegate('#singleText','click', function () {

                var $ctrl = $('<div class="sortable-outer"><input type="text" name="question' + i + '" placeholder="Enter Your Questions Here..."> <br /> <input type="text" name="question' + i + 'Notes" placeholder="Enter Notes Here..."> <br /> <input type="text" name="question' + i + 'SortTitle" placeholder="Enter Short Title Here..."> <br /><label>Required.? </label> <input type="checkbox" value="question' + i + 'Required"> <br /><label>Is Mandatory? </label> <input type="checkbox" value="question' + i + 'Mandatory"> <br /><span class="removeQuestion" id="' + i + '"> remove </span></div>');
                $(".outer").append($ctrl).addClass("questionInContailer");
                   sorting(); //calling sorting again
            });

            $("body").delegate('#optionsQuestions','click', function () {

                var $ctrl = $('<div class="outer"><div class="sortable-outer"><p>Outer Item 1</p><div class="inner"><div class="sortable-inner">Inner Item 1</div><div class="sortable-inner">Inner Item 2</div><div class="sortable-inner">Inner Item 3</div></div></div><div class="sortable-outer"><p>Outer Item 2</p><div class="inner"><div class="sortable-inner">Inner Item 1</div><div class="sortable-inner">Inner Item 2</div><div class="sortable-inner">Inner Item 3</div></div></div></div>');
                $(".outer").append($ctrl).addClass("questionInContailer");    
                sorting(); //calling sorting again
            });

        })
    </script> 
````

# ubuntu - 哪个邮件服务器在 ubuntu 上是更好的 heirloom-mailx 或 mailutils

> ID：11046358
> 
> 赞同：1
> 
> 时间：2012-06-15T07:28:01.683
> 
> 标签：ubuntu, amazon-ec2, sendmail

我正在使用 AWS EC2 实例。我需要在我的 EC2 实例上安装一个邮件程序。默认情况下，AWS 给了我两个选项：

```
heirloom-mailx
mailutils 
```

哪个更好用，为什么？我将在这个 ec2 上运行 tomcat，它将发送电子邮件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T11:19:26.613

我强烈建议您考虑两次通过 EC2 发送邮件。在大多数情况下，使用外部服务并不便宜，而且您还有很多工作要做。维护一个邮件服务器并不好玩……</p>

*如果您开始将 EC2 实例用作邮件服务器，需要考虑的事项：*

1.) 通过填写此表格向 AWS 注册一个或多个弹性 IP 地址，以便 AWS 可以将其列入 spamhaus.org 等反垃圾邮件机构的白名单：[https ://aws-portal.amazon.com/ gp/aws/html-forms-controller/contactus/ec2-email-limit-rdns-request](https://aws-portal.amazon.com/gp/aws/html-forms-controller/contactus/ec2-email-limit-rdns-request)。

2.) 自己完成本教程： http: [//flurdy.com/docs/postfix/](http://flurdy.com/docs/postfix/)。它将帮助您设置 Postfix，这是邮件服务器的不错选择。

3.) 正确设置您的 DNS MX 记录。

# android - 由于您的清单设置，设备不受支持

> ID：11046359
> 
> 赞同：1
> 
> 时间：2012-06-15T07:28:07.377
> 
> 标签：android

由于您的清单设置不支持的设备
此声明出现在市场的开发人员页面上，其中列出了少数 android 设备。为此该怎么办？

```
<?xml version="1.0" encoding="utf-8"?>  
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.my.app" 
    android:versionCode="6"
    android:versionName="6.0">
    <application android:icon="@drawable/apple"
        android:label="myapp"
        android:debuggable="false">
        <activity android:name="com.myapp" 
            android:label="@string/app_name"
            android:configChanges="keyboardHidden">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
                </intent-filter>
    </activity>
    </application>
    <uses-permission android:name="android.permission.INTERNET"></uses-permission>
    <uses-sdk android:minSdkVersion="3"/>
    <supports-screens android:normalScreens="true"/>
    <supports-screens  android:smallScreens="true"/>
</manifest> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T07:42:48.237

我想你需要添加`uses_feature`

例如

```
<uses-feature android:name="android.hardware.telephony" android:required="false" /> 
```

这为您的应用程序使用的每个 API 功能指定一个 uses-feature 节点。这让 Market 在任何不支持您的应用所需硬件功能的设备上隐藏您的应用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:47:04.677

1-如果您还想在 talbet 上运行它，请参考此链接

[屏幕兼容模式](http://developer.android.com/guide/practices/screen-compat-mode.html)

2-

[http://developer.android.com/guide/topics/manifest/supports-screens-element.html](http://developer.android.com/guide/topics/manifest/supports-screens-element.html)

# perl - 在 AnyEvent 下编写好的面向对象代码

> ID：11046361
> 
> 赞同：8
> 
> 时间：2012-06-15T07:28:17.203
> 
> 标签：perl, asynchronous, anyevent

我们正在构建一个由模块组成的具有复杂逻辑的大型应用程序。我曾经用更简单的方法构建更大规模的方法，例如，

```
# fig. 1   
package Foo;
sub highlevel {
    my ($self, $user, $event) = @_;
    my $session = $self->get_session($user);
    my $result = $self->do_stuff($session, $event);
    $self->save_session($session);
    return $result;
}; 
```

（这当然是简化的）。返回结果，抛出异常，每个人都很高兴。

现在，我们正在转向 AnyEvent。我的模块不是最上层，所以我不能只做

```
# fig. 2
my $cv = AnyEvent->condvar;
# do stuff
return $cv->recv; 
```

到目前为止，我见过的大多数 AE 模块都是这样工作的：

```
# fig. 3
$module->do_stuff( $input, 
    on_success => sub { ... }, 
    on_error => sub { ... }
); 
```

所以我已经重写了较低级别的方法并尝试继续使用 highlevel() 和......

```
# fig. 4
package Foo;
sub highlevel {
    my ($self, $user, $event, %callbacks) = @_;
    my $done = $callbacks{on_success};
    my $error = $callbacks{on_error};
    $self->get_session( $user,
        on_error => $error,
        on_success => sub {
             my $session = shift;
             $self->do_stuff( $session, $event,
                  on_error => $error,
                  on_success => sub { 
                       my $result = shift;
                       $self->save_session( $session,
                            or_error => $error,
                            on_success => sub { $done->($result); }
                       );
                  }
              );
          }
     );
 }; 
```

不完全漂亮。我称之为“无限阶梯”。

现在我能想出的下一件事是一个临时状态机，其中 highlevel() 被分解为 _highlevel_stage1()、_highlevel_stage2() 等。但这也不能让我满意（它是不可维护的，并且认为很好名字而不是 stageXX 让我头疼）。

我们已经在研究一个成熟的状态机来驱动整个应用程序，但是必须为*每个*交互添加一个转换对我来说有点过于慷慨了。

所以问题是：编写实现业务逻辑（图 1）以在 AnyEvent 应用程序（图 3）中运行的模块的最佳实践是什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-15T20:35:07.220

执行摘要：您要么想要控制反转（带有 Coro 块的线程），要么想要状态机。

您可以使用 Coro，它可以将无限梯形图转换为线性代码（通过控制反转），例如使用 Coro::rouse_cb/rouse_wait 或一些 Coro::AnyEvent 函数：

```
 do_sth cb => sub { ... 
```

变成（如果回调只被调用一次）：

```
 do_sth cb => Coro::rouse_cb;
   my @res = Coro::rouse_wait; 
```

您唯一的其他选择是使用状态机，例如使用对象（有很多方法可以实现状态机，尤其是在 Perl 中）：

```
my $state = new MyObject;

do_something callback => sub { $state->first_step_done }; 
```

在 first_step done 中，您为 $self->next_state_done 等注册一个回调。

您还可以查看一些 cpan 模块，例如 AnyEvent::Blackboard 或 AnyEvent::Tools - 我自己没有使用过它们，但也许它们可以帮助您。

至于 condvars，我个人不太热衷于将它们用作 API 的唯一手段——我更喜欢回调（因为 condvars 是有效的回调，这两者都允许），但 condvars 确实允许您在消费者中引发异常（通过 croak方法）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-15T13:04:03.670

好吧，我能想到的一件事是使用稍微修改的责任链模式：

```
my $params = {
  user => $user,
  event => $event,
  session => undef
};

my @chain = ('get_session', 'do_stuff', 'save_session', 'emit');

for my $index (0..$#chain) {
  my $current = $chain[$index];
  my $next    = $chain[$index + 1] || undef;
  $self->{$current}($params, 
    on_error => sub { $self->error($params) },
    on_success => sub { $self->{$next}($params) },
  );
} 
```

这有点粗糙，但我希望它能说明这一点。)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-11-28T12:00:13.247

您可能希望使用该[`Future`](https://metacpan.org/release/Future)模块将其封装在 Future 对象中。这增加了语法糖以使这个更清洁。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-08-11T13:42:24.433

7 年后访问这个问题，我似乎知道正确的答案：[monad](https://en.wikipedia.org/wiki/Monad_(functional_programming))。协程、Future、Promise、async/await 和（一个理智的实现）有限状态机都是它的子类型。

当然，[monad 的诅咒使](https://stackoverflow.com/questions/19544794/what-is-crockfords-law)我无法向其他人解释它。

如果我今天必须再做一次，我会带着某种承诺对象离开。

# java - java国际化规则

> ID：11046363
> 
> 赞同：1
> 
> 时间：2012-06-15T07:28:18.497
> 
> 标签：java, localization, internationalization, compare, string-comparison

[Java 国际化规则](http://www.appperfect.com/support/java-coding-rules/internationalization.html#rule33)。说要换

```
s1.compareTo(s)==0 
```

和

```
Collator.compare(s1,s2)<0 
```

为什么`<0`？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-15T07:30:54.420

基于[Javadoc](http://docs.oracle.com/javase/7/docs/api/java/text/Collator.html#compare%28java.lang.String,%20java.lang.String%29)，这是一个错字 - 应该是`==`：

> 返回一个整数值。如果源小于目标，则值小于零，如果源和目标相等，则值为零，如果源大于目标，则值大于零。

这是为了`String`重载`Collator.compare`（因为链接的示例比较了`String`s），但[该方法的一般版本的](http://docs.oracle.com/javase/7/docs/api/java/text/Collator.html#compare%28java.lang.Object,%20java.lang.Object%29)行为方式相同。

您引用的文章间接链接到[Java 教程的相应页面，该页面](http://docs.oracle.com/javase/tutorial/i18n/text/locale.html)描述的行为与上述一致。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:33:27.040

当我看到下一点时，我不确定您是否应该依赖此站点...它创建了一个始终返回 0 的整理器。

```
package com.rule;
public class Do_not_use_String_compareToIgnoreCase_correction
{
    public void method()
    {
        new MyCollator().compare("String", "String"); // CORRECTION
    }

    class MyCollator extends java.text.Collator
    {
        public int compare(String source, String target)
        {
            return 0;
        }
        public java.text.CollationKey getCollationKey(String source)
        {
            return null;
        }
        public int hashCode()
        {
            return 0;
        }
    }
} 
```

# facebook-graph-api - 网站可以在本地存储 facebook 用户 ID 吗？

> ID：11046371
> 
> 赞同：0
> 
> 时间：2012-06-15T07:28:51.713
> 
> 标签：facebook-graph-api, web

我想在我的网站中保留 Facebook 用户的用户 ID 并使用它而不是用户每次都对其进行身份验证。

这样做是否可能或是否存在任何版权问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:33:19.567

如果您不希望您的用户记住另一个用户名和密码，您可以而且应该这样做。

这样做没有版权问题。

# javascript - 将焦点设置在第一个带有错误消息的输入元素上，并将包含它的 TabStrip 的选项卡设置为活动

> ID：11046373
> 
> 赞同：1
> 
> 时间：2012-06-15T07:28:55.237
> 
> 标签：javascript, jquery, kendo-ui

我有一个带有一些输入字段的表单。我正在使用 tabStrip KendoUI 小部件对输入字段进行分组。我正在使用 Kendo 验证器，提交表单时会触发一些错误消息。问题是，如果带有错误消息的输入字段位于不同的选项卡上，那么当前选择的用户将看不到它。我想要完成的是当表单被验证时，包含第一个输入字段的选项卡，其中包含要选择的错误消息，并且焦点位于该输入字段上。这是一些示例代码：

```
<script type="text/javascript">
    $("#tabStrip").kendoTabStrip();
</script>

<div id="tabStrip">
    <ul>
        <li class="k-state-active">Master Info</li>
        <li>Developer Info</li>
    </ul>
     <div id="tabStrip-1">
         <div>
            <label for="folderName" class="required">Folder Name:</label>
            <input type="text" id="folderName" name="folderName"  required />
            <span class="k-invalid-msg" data-for="folderName"></span>
        </div>
        <div>
            <label for="afk">Afk:</label>
            <input type="text" id="afk" name="afk" data-bind = "value: Afk" />
        </div>
     </div>
     <div id="tabStrip-2">
         <div>
            <label for="updateFolder" class="required">Update Folder:</label>
            <input type="text" id="Text1" name="updateFolder" class="k-input k-invalid" required />
            <span class="k-invalid-msg" data-for="updateFolder"></span>
        </div>
        <div>
            <label for="age">Age:</label>
            <input type="text" id="age" name="age" class="k-input k-invalid" data-bind = "value: Age" />
        </div>
     </div>
</div> 
```

我的想法是使用 id="tabStrip-1" 获取 div 中的所有输入字段，并检查它们是否包含`class="k-input k-invalid"`据我所知在出现验证错误时应用于输入字段。如果输入字段包含类，我会将选项卡的 id 更改为这个并将焦点设置在该元素上。如果所有字段都有效，我将对下一个选项卡执行相同的操作，我尝试使用 Jquery 来获取输入元素并获取它们，但我在 Web 开发方面的技能非常差，我没有成功。我认为我的方法会奏效。任何有关工作示例的帮助或更好方法的建议将不胜感激。谢谢你！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:35:48.823

`input`具有所需类的第一个字段的选择器将是：

```
$('input.k-input.k-invalid:first').focus(); 
```

但是，我不确定“如果输入字段包含类，我会将选项卡的 id 更改为这个”是什么意思。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T08:06:15.720

我不知道 kendoTabStrip，但这段代码将为您提供包含错误的第一个标签条的 id。

```
​
//Select all the tab strips
tabs = $("#tabStrip").find('div[id^=tabStrip]');
first_error_id = "";
//Loop through the tab strips looking for an input containing the error class
for(var i = 0; i < tabs.length; i+=1){
    if ($(tabs[i]).find('input.k-input.k-invalid').length > 0) {
        first_error_id = tabs[i].id;
        break;
    }
} 
```

# cache-manifest - 应用程序缓存清单 - 删除“清单”后仍将文件保留在缓存中？

> ID：11046374
> 
> 赞同：0
> 
> 时间：2012-06-15T07:29:01.540
> 
> 标签：cache-manifest

每次客户端访问站点时，应用程序缓存都会自动检查和更新文件。假设缓存仅在单击按钮时更新。单击将“清单”添加到标签中，仅针对该请求。在下一个请求中，“清单”被删除。

文件是否仍然在缓存中，还是被浏览器删除？

清单中未定义清单时是否仍会使用清单缓存文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:33:54.937

文件将仍在缓存中！这里的问题是：appcache 文件将一直被使用。缓存中的页面仍然保存清单条目。因此，您首先必须删除服务器端的条目，然后更新清单内容本身，以便代理将再次更新 a​​ppcache 中的页面，现在没有该清单条目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-11T07:54:13.447

我知道这是一个老问题，但令人惊讶的是关于这个问题的信息很少。

结合 Marvin 的回答，您可以利用清单的一个鲜为人知的功能来清除缓存：

> *如果无法检索缓存部分中提到的任何文件，则将忽略整个缓存。*

[http://appcachefacts.info/](http://appcachefacts.info/)

因此，在更新清单后，您需要做的就是让使用它的文件指向一个不存在的清单文件，然后一切都应该被转储。

你可以使用一点 PHP 让事情变得更干净：

```
<?php
$CACHE = false;
?><!DOCTYPE html>

<html manifest="<?php if(!$CACHE){echo "BREAK";} ?>manifest.php"> 
```

# spring-mvc - 如果字段上的验证失败，则生成 json 错误消息

> ID：11046379
> 
> 赞同：0
> 
> 时间：2012-06-15T07:29:32.477
> 
> 标签：spring-mvc

我有一个表单，我正在使用 ajax 调用提交它。我正在使用 jsr 303 bean 验证来验证表单字段。现在我可以验证字段但是当出现任何验证错误时，它应该以其他方式给出 json 错误消息它将生成相应类型的报告。我的大问题是如果验证失败如何生成 json 错误消息。我在控制器类中的代码如下。

```
@RequestMapping(value = "pdf", method = { RequestMethod.POST, RequestMethod.GET })

    public ModelAndView generatePdfReport(@ModelAttribute("reports") @Valid ReportsCommand model, BindingResult result, ModelAndView modelAndView,
            HttpServletRequest request, HttpServletResponse response) throws Exception {

        if (result.hasErrors()) {
            System.out.println("Error in call type value123");

           // return new ModelAndView(new RedirectView("../pages/report/main.jsp?module=report&page=fluctuations"));
            throw new BindException(result);
        } 
        else {
          .....
           return modelAndView;
           }
          } 
```

在我的模型类中，我正在验证以下字段

```
@Size(min = 2, max = 3, message = "calltype must between 2 to 3 Characters.")
    private String callType; 
```

如果 result.hasErrors 为真，那么我想生成 json 错误消息。我该怎么做...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T13:32:06.640

我从来没有用 JSON 尝试过这样的事情。我不知道那么多。但是您需要对控制器方法进行一些修改。喜欢，

将返回类型更改为`void`而不是`ModelAndView`. 在方法签名中再添加一个参数作为 `HttpServletResponse response`. 然后您需要使用`response.getWriter().write(//something here);`.

在 ajax 响应中，您可以获得从控制器传递的字符串错误消息。

希望这对您有所帮助。干杯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T13:37:27.450

你的情况不简单。控制器中定义的每个方法只能返回一种类型的视图。

例如，如果要返回 json 响应，控制器的方法需要有 @ResponseBody 注解。

```
 public @ResponseBody Report generatePdfReport(@ModelAttribute("reports") @Valid ReportsCommand model, BindingResult result, ModelAndView modelAndView, HttpServletRequest request, HttpServletResponse response) throws Exception { 
    return new Report();
  } 
```

如果要将响应转发到将显示验证结果的视图，则必须像以前一样使用 ModelAndView 返回类型。

您将无法对同一个控制器方法使用两种不同的响应类型。我建议在两个不同的步骤中分解验证和报告生成。

祝你好运 ！

# asp.net-mvc-3 - 在节点定义中的操作、控制器...中使用 MVSiteMapProvider 中的资源

> ID：11046381
> 
> 赞同：1
> 
> 时间：2012-06-15T07:29:41.320
> 
> 标签：asp.net-mvc-3, mvcsitemapprovider

我想使用资源中的字符串来定义我的 MVC.sitemap 文件中的控制器和操作，当涉及到为标题使用资源时没有问题：

```
 <mvcSiteMapNode title="$resources:ResourcesTest,Testimonios" controller="Testimonios"  action="Index" /> 
```

但是当我尝试使用资源作为动作和控制器的名称时，它不起作用：

```
 <mvcSiteMapNode title="$resources:ResourcesTest,Testimonios" controller="$resources:ControllersTests,Controller1Test"  action="Index" /> 
```

这是正常行为吗？我做错了什么？我使用资源在站点地图文件中定义操作和控制器名称的目标有什么解决方案吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-09T05:44:09.463

Controller 属性不可本地化。

只有 Title、Description、ImageUrl 和[自定义属性](https://github.com/maartenba/MvcSiteMapProvider/wiki/Using-Custom-Attributes-on-a-Node)是可本地化的属性。

# c# - 覆盖和隐藏之间的确切区别

> ID：11046387
> 
> 赞同：17
> 
> 时间：2012-06-15T07:30:27.570
> 
> 标签：c#, oop, overriding, member-hiding

任何人都可以根据内存和引用来告诉覆盖和隐藏的工作。

```
class A
{
    public virtual void Test1() { //Impl 1}
    public virtual void Test2() { //Impl 2}
}
class B  : A
{
    public override void Test1() { //Impl 3}
    public new void Test2() { Impl 4}
}

static Main()
{
    A aa=new B() //This will give memory to B
    aa.Test1(); //What happens in terms of memory when this executes
    aa.Test2(); //-----------------------SAME------------------------
} 
```

这里的内存是 B 类，但在第二个语句**aa.Test2**中将调用 A 类的方法。为什么？如果 B 有内存，那么应该调用 B 的方法（在我看来）。

任何非常深入和完整地描述这个基本原理的链接/练习都会有很大的帮助。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-06-15T07:57:19.633

看看Eric Lippert[对另一个问题的回答。](https://stackoverflow.com/questions/1508350/why-does-this-polymorphic-c-sharp-code-print-what-it-does/1510702#1510702)

套用（在我的理解范围内），这些方法进入“槽”。`A`有两个插槽：一个 for`Test1`和一个 for `Test2`。

由于`A.Test1`被标记为`virtual`和`B.Test1`被标记为`override`，`B`的实现`Test1`不会创建自己的插槽，而是覆盖`A`的实现。无论您将 的实例`B`视为 a`B`还是将其强制转换为`A`，相同的实现都在该插槽中，因此您总是得到`B.Test1`.

相比之下，由于`B.Test2`是被标记`new`的，它会创建自己的*新*槽。（就像它没有被标记`new`但被赋予了不同的名称一样`A`。`Test2`）它被隐藏而不是被覆盖。如果将 的实例`B`视为 a `B`，则会得到`B.Test2`; 如果将其转换为`A`，则*看不到*新插槽，`A.Test2`并被调用。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-15T08:42:19.610

要添加到[@Rawling 的答案](https://stackoverflow.com/a/11046733/69809)，可以使用以下示例显示实际示例：

```
class Base
{
    // base property
    public virtual string Name
    {
        get { return "Base"; }
    }
}

class Overriden : Base
{
    // overriden property
    public override string Name
    {
        get { return "Overriden"; }
    }
}

class New : Base
{
    // new property, hides the base property
    public new string Name
    {
        get { return "New"; }
    }
} 
```

**1\. 压倒一切**

在**覆盖**属性的情况下，基类的虚拟方法的插槽被不同的实现**替换。**编译器将该方法视为**virtual**，并且必须在运行时使用对象的虚拟表解析其实现。

```
{
    Base b = new Base();
    Console.WriteLine(b.Name); // prints "Base"

    b = new Overriden();
    // Base.Name is virtual, so the vtable determines its implementation
    Console.WriteLine(b.Name); // prints "Overriden"

    Overriden o = new Overriden();
    // Overriden.Name is virtual, so the vtable determines its implementation
    Console.WriteLine(o.Name); // prints "Overriden"
} 
```

**2.隐藏**

当使用关键字**隐藏**`new`方法或属性时，编译器仅为派生类创建新的**非虚拟**方法；基类的方法保持不变。

如果变量的类型是`Base`（即只包含虚方法），它的实现会通过vtable来解析。如果变量的类型是`New`，则将调用非虚拟方法或属性。

```
{
    Base b = new Base();
    Console.WriteLine(b.Name); // prints "Base"

    b = new New();
    // type of `b` variable is `Base`, and `Base.Name` is virtual,
    // so compiler resolves its implementation through the virtual table
    Console.WriteLine(b.Name); // prints "Base"

    New n = new New();
    // type of `n` variable is `New`, and `New.Name` is not virtual,
    // so compiler sees `n.Name` as a completely different property
    Console.WriteLine(n.Name); // prints "New"
} 
```

**三、总结**

如果您的代码的一部分接受基本类型，它将在运行时**始终**使用虚拟表。对于大多数 OOP 场景，这意味着将方法标记为`new`与给它一个完全不同的名称非常相似。

**4\. 实例化后的对象大小**

请注意，**实例化**任何这些类型都不会创建虚拟表的副本。每个 .NET 对象都有几个字节的标头和一个指向其类型表的虚拟表的指针 ( `class`)。

关于`new`属性（不是虚拟的），它基本上被编译为具有 thiscall 语义的静态方法，这意味着它也不会增加内存中实例的大小。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-15T07:39:41.170

[已经在这里](https://stackoverflow.com/a/856473/1004522)回答了

**覆盖**是同一方法签名的多个可能实现的定义，这样实现由第零个参数的运行时类型确定（在 C# 中通常由名称 this 标识）。

**隐藏**是派生类型中方法的定义，其签名与其基类型之一中的签名相同，但没有覆盖。

覆盖和隐藏之间的**实际区别**如下：

隐藏适用于所有其他成员（静态方法、实例成员、静态成员）。它基于早期绑定。更清楚地说，要调用或使用的方法或成员是在编译时决定的。

• 如果方法被覆盖，调用的实现基于参数this 的运行时类型。• 如果一个方法被简单地隐藏，调用的实现是基于参数this 的编译时类型。

下面是一些示例：[示例#1](http://www.coderanch.com/t/268376/java-programmer-SCJP/certification/difference-between-overriding-hiding-member)。和[示例＃2](http://blogs.msdn.com/b/csharpfaq/archive/2004/03/12/what-s-the-difference-between-code-override-code-and-code-new-code.aspx)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-07-11T09:48:05.657

A 类中的 Test1() 方法和 B 类中的 test1() 方法将根据**MethdOverriding**执行。

A 类中的 Test2() 方法和 B 类中的 test2() 方法将根据**Method Hiding**执行。

在方法**覆盖**中，子类成员将执行，在**方法隐藏**中，父类成员将执行。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-15T07:33:32.030

从提供的代码中扣除您应该拥有的`B:A`.

您可以隐藏一个方法，以防您想创建自己的基类（比如说）方法的实现，该方法*不能*被覆盖，因为，比如说，它不是`virtual`.

在我的经验中，我使用*隐藏* 主要是为了`debug`目的。

例如，当我不知道谁设置了某些 3rd prt 的属性时，`component`我无法使用谁的代码。所以我要做的是：

*   从组件创建一个子类
*   `new`用关键字隐藏感兴趣的属性
*   将断点放入`set`
*   并等待它何时被击中。

有时，非常有用，可以帮助我快速获取信息，尤其是在您学习新知识的第一阶段`components`，`frameworks`...`libraries`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-15T07:36:38.297

简单地说，在覆盖方法或属性时，覆盖方法必须与基方法具有相同的签名。当不需要隐藏它时，新对象可以采用如下所示的任何形式

```
// base
    public int GrossAmount { get; set; }

    // hiding base
    public new string GrossAmount
    {
        get;
        set;             
    } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-15T07:47:13.367

通过隐藏方法或属性，您只是在声明当您拥有该类型的对象时，您希望停止此类方法是多态的。此外，隐藏方法以非多态方式调用，因此必须在编译时知道调用这些方法类型，因为它是一个简单的非虚拟方法。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-05-07T08:05:37.700

```
 public class BaseClass
    {
      public void PrintMethod()
      {
       Console.WriteLine("Calling base class method");
      }
     }
     public class ChildClass
     {
      public new void PrintMethod()
      {
       Console.WriteLine("Calling the child or derived class method");
       }
      }
      class Program
      {
       static void Main()
       {
        BaseClass bc = new ChildClass();
        bc.PrintMethod();
        }
       } 
```

Method Hiding 就是当基类引用变量指向子类对象时。它将调用基类中的隐藏方法。

其中，当我们在基类中声明虚方法时。我们在派生类或子类中覆盖该方法。然后基类引用变量将调用派生类方法。这称为方法覆盖。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-07-28T07:41:18.003

```
class Base {
    int a;
    public void Addition() {
        Console.WriteLine("Addition Base");
    }
    public virtual void Multiply()
    {
        Console.WriteLine("Multiply Base");
    }
    public void Divide() {
        Console.WriteLine("Divide Base");
    }
}

class Child : Base
{
    new public void Addition()
    {
        Console.WriteLine("Addition Child");
    }
    public override void Multiply()
    {
        Console.WriteLine("Multiply Child");
    }
    new public void Divide()
    {
        Console.WriteLine("Divide Child");
    }
}
class Program
{        
    static void Main(string[] args)
    {
        Child c = new Child();
        c.Addition();
        c.Multiply();
        c.Divide();

        Base b = new Child();
        b.Addition();
        b.Multiply();
        b.Divide();

        b = new Base();
        b.Addition();
        b.Multiply();
        b.Divide();
    }
} 
```

输出 ： -

加法子

乘子

分孩子

加法基础

乘子

划分基地

加法基础

乘基础

划分基地

在覆盖编译器时检查类的对象，但在隐藏编译器只检查类的引用

# jquery - 带有覆盖文本标题的jQuery循环插件？

> ID：11046395
> 
> 赞同：0
> 
> 时间：2012-06-15T07:30:57.877
> 
> 标签：jquery, wordpress

我有兴趣在 wordpress 的“滑块循环”插件中覆盖一个大的“文本标题”（透明黑色）。

在functions.php中，

```
function slideshow_featured_posts() {
    wp_reset_query();
    $featured = 1; // Assuming that the name of the category ID number 1 is "Featured".
    $count = 3; // How many post to be shown as slides. Ideally, it should be more than 3 posts.
    add_filter('excerpt_length', 'hook_excerpt_featured_length');
?>

<div class="list">
    <?php while (have_posts()) : the_post(); ?>
    <div class="item">
        <a class="image" href="<?php the_permalink(); ?>" title="Permanent Link to <?php the_title_attribute(); ?>">
        <?php the_post_thumbnail('slideshow'); ?>
        </a>
        <div class="meta">
            <h3><a href="<?php the_permalink(); ?>" title="Permanent Link to <?php the_title_attribute(); ?>"><?php the_title(); ?></a></h3>
            <?php the_excerpt(); ?>
        </div>
        <div style="clear: both"></div>
    </div>
    <?php endwhile; ?>
</div>

<?php
    wp_reset_query();
    remove_filter('excerpt_length','hook_excerpt_featured_length');
} 
```

索引.php

```
<div id="slideshow-wrapper">
<?php slideshow_featured_posts(); ?>
</div> 
```

CSS，

```
div#slideshow { position: relative; width: 780px; height: 300px; padding: 0 0 40px; margin: 0 auto; }
div#slideshow .list { position: absolute; width: 780px; height: 300px; z-index: 1; overflow: hidden; }

div#slideshow .button {
    width: 64px; height: 64px; position: absolute; top: 118px;
    outline: 0; cursor: hand; border: 0 none; color: #333; font-size: 45px; line-height: 45px; font-weight: bold;
}
div#slideshow #jqc-prev {
    border-bottom: 0 none;
    left: -74px;
}
div#slideshow #jqc-next {
    border-bottom: 0 none;
    right: -74px;
}

div#slideshow .item { width: 780px; margin: 0; }
div#slideshow .item .image { display: block; float: right; padding: 0; }
div#slideshow .item .meta  { width: 280px; padding: 0; float: left; }
div#slideshow h3 {
    font: bold 28px/32px Helvetica, Arial, sans-serif;
    display: block; padding: 0; margin: 0 0 20px 0;
}
div#slideshow h3 a:hover, div#slideshow h3 a:active {
    border: 0 none;
    text-decoration: underline;
}
div#slideshow p { display: block; padding: 0; margin: 0 0 20px 0; } 
```

我应该把覆盖的透明黑色标题 div 放在哪里？z 指数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:50:44.353

你试过什么？结果如何？

如果是我，我会尝试使用 Chrome 的网站管理员工具或 FireBug 或其他可以即时更改 CSS 的工具

# django-paypal - 用于定期付款的 Django Paypal IPN 信号

> ID：11046396
> 
> 赞同：1
> 
> 时间：2012-06-15T07:30:58.137
> 
> 标签：django-paypal

我们的网站使用 Django Paypal 插件进行预付款。

我们使用贝宝进行注册和一次性费用。这工作得很好。现在我们已经开始实施订阅模式。一切正常，但经常性付款信号未能通过。

注册 IPN URL 后，支付信号就会通过。但是重复出现的信号失败了。

[http://www.company.com/notify/](http://www.company.com/notify/)

Paypal IPN 历史页面显示重复付款重试并发送成功付款。日志文件没有显示任何错误并且 apache access.log 显示

"POST //notify/ HTTP/1.0" 200 4 "-" "-" - 用于 payment_was_successful 信号

"POST //notify/ HTTP/1.0" 500 35434 "-" "-" 用于定期付款

确实向 PAYPAL MTS 发布了一个问题，但没有听到任何有用的反馈 尝试创建一个表单并将内容发布到相同的 URL，这也很有效。

paypal->ipn->views 中的 IPN 方法返回 OKAY。这也是订阅调用的方法吗？

急切地寻求一些帮助或反馈...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T07:06:52.813

[通过从github-dcramer](https://github.com/dcramer/django-paypal)下载最新代码部分解决了该问题。更新的一个具有订阅信号处理。

# python - Django sweetpie 发布请求得到 401

> ID：11046400
> 
> 赞同：0
> 
> 时间：2012-06-15T07:31:08.283
> 
> 标签：python, rest

我正在尝试在 django 中使用 sweetpie 进行 POST 请求。

我的资源如下所示：

```
class TestResource(ModelResource):
    class Meta:
        queryset = Test.objects.all()
        resource_name = 'test'
        serializer = Serializer(formats=['json','xml'])
        always_return_data = True
        detail_allowed_methods = ['get', 'post', 'put', 'delete'] 
```

我正在发布如下数据：

```
import sys
import requests

DATA = {'field1':'posting data', 'field2':'123', 'field3':330303,}

def post(data):
    url = 'http://127.0.0.1:8000/api/test/'
    logging = {'verbose':sys.stderr}
    response = requests.post(url,data=data,config=logging)
    print "RESPONSE STATUS", response.status_code
    print "RESPONSE HEADERS", response.headers

if __name__=='__main__':
    post(DATA) 
```

我总是得到401，知道吗？我做错了什么？

提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-24T05:10:39.347

您将需要设置

```
Authorization=Authorization() 
```

sweetpie 实现的默认授权是

```
ReadOnlyAuthorization() 
```

您猜对了，这会导致只读结果，因此会导致错误。

[http://django-tastypie.readthedocs.org/en/latest/tutorial.html](http://django-tastypie.readthedocs.org/en/latest/tutorial.html)

请注意，这样做并不是最好的做法。还有其他可以使用的授权方法。

# tridion - 从 CMS 发布到不同 CMS 的 CDS

> ID：11046402
> 
> 赞同：2
> 
> 时间：2012-06-15T07:31:13.727
> 
> 标签：tridion, tridion-2011

我有两对不同的 CMS 和 CDS。一个在本地网络上，一个在公共域上。我正在向本地网络上的 CMS 添加一个新的目标类型。这种新目标类型的属性包含位于公共域中 CDS 的 IIS 上的 httpuploadwebsite。

现在，当我发布时，我得到了成功的结果，但文件没有到达公共域上的 CDS。Tridion Incoming Zip 文件夹也是空的。笔记：

1.  两种 CDS 的 CMS 都不同。
2.  一对 CMS/CDS 在本地网络上，另一对在公共域上。

提出一些解决方案。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-15T08:51:15.273

所以总而言之，你是：

*   从本地 CMS 从本地发布到公共 CDS 堆栈
*   不知情地接收公共 CDS 上的已发布内容

因此，为了解决您的问题，您很可能需要查看公共 CDS 上部署程序的配置。如果本地 CMS 在包含公共 CDS 目标时成功发布，那么公共 CDS 认为这是成功的，因此很可能是配置。

检查配置的最佳方法是首先查看似乎没有部署的部署程序的日志。日志将向您显示正在读取的配置，您应该从那里仔细检查配置的所有路径和设置，并解决日志中引发的任何问题。

您必须注意，由于您的问题没有明确说明，您不能从两个不同的 Tridion CMS 系统发布到完全相同的 CDS 设置。我的意思是，如果两个 CMS 系统将内容发布到同一个文档根目录，则内容将被覆盖，因为内容 ID 很可能是相同的。因此，您必须拥有完全独立的部署程序、配置和文档根/数据库模式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T07:33:11.067

要解决[HTTPUpload 站点](http://sdllivecontent.sdl.com/LiveContent/content/en-US/SDL_Tridion_2011_SPONE/task_663JDNNNDHDH889595JDJDJD)（或[应用程序](http://sdllivecontent.sdl.com/LiveContent/content/en-US/SDL_Tridion_2011_SPONE/task_3E3A2FB1B4E34C20934B5A841C2E0930)）的传输问题，我们可以：

*   **尝试从浏览器访问 /HTTPUpload.aspx 页面**。
    *   连接成功会显示`SDL Tridion ASPX HTTP Upload`。
    *   .NET 错误可能暗示 CD 端 dll 问题。
    *   超时、404 或其他网络错误可能表明存在连接或防火墙问题。
*   **确认默认应用程序池标识**具有[适当的权限](http://sdllivecontent.sdl.com/LiveContent/content/en-US/SDL_Tridion_2011_SPONE/concept_BE12DD5458854D87825159BA866299EE)（可能`Network Service`，但在 IIS 中确认您的环境）。
*   **检查配置、日志和传入文件夹**。
*   **联系支持人员**，最好使用以下方式：
    *   此设置在之前和在什么条件下有效
    *   配置文件
    *   任何错误，堆栈跟踪
    *   运输包性质的详细信息（大小、最近的扩展更改）

小心误导性提示——仅仅因为传入是空的并不意味着某些东西没有部署或没有部署在其他地方。

虽然`publish`和`transport`故障排除可能相似，但请记住这`Storage`是可配置的——文件、多媒体（二进制文件）和动态内容可以*`deployed`*到不同的位置/媒体。

# python - Tornado：仅使用 template.Loader 的复杂模板渲染

> ID：11046403
> 
> 赞同：1
> 
> 时间：2012-06-15T07:31:24.410
> 
> 标签：python, tornado

我有以下代码来测试模板渲染：

```
import os

from tornado.template import Loader

class A:
    def __init__(self):
        self.loader = Loader(os.path.join(os.path.dirname(__file__), "templates"))

    def simple_template(self):
        tmpl = self.loader.load("utf8.html")
        result = tmpl.generate()
        print result

    def complex_template(self, message):
        tmpl = self.loader.load("message.html")
        result = tmpl.generate(message = message)
        print result

a = A()
a.simple_template()
a.complex_template({"id" : 'asdsadfasd', "from": 'sdfsafd', "body": 'sdfdasfd'}) 
```

这些是我的模板：

模板/utf8.html

```
Héllo 
```

模板/message.html

```
<div class="message" id="m{{ message["id"] }}"><b>{{ message["from"] }}: </b>{% module linkify(message["body"]) %}</div> 
```

这是输出：

```
Héllo

ERROR:root:message.html code:
 1  def _execute():  # message.html:0
 2      _buffer = []  # message.html:0
 3      _append = _buffer.append  # message.html:0
 4      _append('<div class="message" id="m')  # message.html:1
 5      _tmp = message["id"]  # message.html:1
 6      if isinstance(_tmp, _string_types): _tmp = _utf8(_tmp)  # message.html:1
 7      else: _tmp = _utf8(str(_tmp))  # message.html:1
 8      _tmp = _utf8(xhtml_escape(_tmp))  # message.html:1
 9      _append(_tmp)  # message.html:1
10      _append('"><b>')  # message.html:1
11      _tmp = message["from"]  # message.html:1
12      if isinstance(_tmp, _string_types): _tmp = _utf8(_tmp)  # message.html:1
13      else: _tmp = _utf8(str(_tmp))  # message.html:1
14      _tmp = _utf8(xhtml_escape(_tmp))  # message.html:1
15      _append(_tmp)  # message.html:1
16      _append(': </b>')  # message.html:1
17      _tmp = _modules.linkify(message["body"])  # message.html:1
18      if isinstance(_tmp, _string_types): _tmp = _utf8(_tmp)  # message.html:1
19      else: _tmp = _utf8(str(_tmp))  # message.html:1
20      _append(_tmp)  # message.html:1
21      _append('</div>\n')  # message.html:2
22      return _utf8('').join(_buffer)  # message.html:0
Traceback (most recent call last):
  File "template_test2.py", line 21, in <module>
    a.complex_template({"id" : 'asdsadfasd', "from": 'sdfsafd', "body": 'sdfdasfd'})
  File "template_test2.py", line 16, in complex_template
    result = tmpl.generate(message = message)
  File "/home/gonvaled/.virtualenvs/python2.7.2-wavilon1/lib/python2.7/site-packages/tornado/template.py", line 254, in generate
    return execute()
  File "message_html.generated.py", line 17, in _execute
NameError: global name '_modules' is not defined 
```

如您所见，简单模板按预期呈现，但复杂模板失败。如何在*不*定义应用程序的情况下呈现复杂的模板？在这种情况下，我只想使用 tornado 的模板渲染工具。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-14T04:12:30.993

我认为你应该使用： `self.render_string("message.html", message=message)`

# c# - 卡住了，试图使用 GridView 选择按钮来获取“SKU”的值并回发到新页面

> ID：11046405
> 
> 赞同：0
> 
> 时间：2012-06-15T07:31:38.080
> 
> 标签：c#, asp.net, .net, gridview, postback

我已经坚持了几个小时，第一次发帖。我不知道如何获取值并将所选行回发到新页面。我将自己在新页面中显示信息（如果您愿意，可以查看详细视图）

```
<asp:GridView ID="GameSearchGrid" runat="server"
AllowPaging = "True" AllowSorting = "True" 
    DataSourceID="EntityDataSource1" Width="502px" AutoGenerateColumns="False" >
    <Columns>
        <asp:CommandField ShowSelectButton="True" />
        <asp:BoundField DataField="SKU" HeaderText="SKU" ReadOnly="True" 
            SortExpression="SKU" Visible="false" />
        <asp:BoundField DataField="Name" HeaderText="Name" ReadOnly="True" 
            SortExpression="Name" />
        <asp:BoundField DataField="GSystem" HeaderText="GSystem" ReadOnly="True" 
            SortExpression="GSystem" />
        <asp:BoundField DataField="Rating" HeaderText="Rating" ReadOnly="True" 
            SortExpression="Rating" />
        <asp:ButtonField ButtonType="Button" HeaderText = "select" Text="Select" 
        />
    </Columns>
</asp:GridView>

<asp:EntityDataSource ID="EntityDataSource1" runat="server" 
    ConnectionString="name=GameExpressEntities" 
    DefaultContainerName="GameExpressEntities" EnableFlattening="False" 
    EntitySetName="Games" 
    Select="it.[SKU], it.[Name], it.[GSystem], it.[Rating]" OrderBy="it.[Name]">
</asp:EntityDataSource>
//------------------------------------------------

void GameSearchGrid_SelectedIndexChanged(object sender, EventArgs e)
{
    GridViewRow row = GameSearchGrid.SelectedRow;
    Response.Redirect("~/GameDetailView.aspx");
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T10:21:58.580

`Cells`您可以使用行上的属性访问绑定字段。Cells 属性只能通过数字索引访问单元格，因此您需要知道要访问的列的索引。例如：

```
string skuCellValue = row.Cells[0].Text; 
```

如果您不想对索引进行硬编码，可以从 GridView 的 Columns 属性中查找它，例如，匹配 HeaderText：

```
GridViewRow row = GameSearchGrid.SelectedRow;
GridView gv = (GridView)row.Parent.Parent;

int colIndex = -1;
for (int i = 0; i < gv.Columns.Count; i++)
{
    if (gv.Columns[i].HeaderText == "SKU")
    {
        colIndex = i;
        break;
    }
}

// handle case when correct column was not found

string skuCellValue = row.Cells[colIndex].Text; 
```

之后，您可以继续并重定向到新页面。您可能希望在查询字符串中提供找到的 SKU 值：

```
Response.Redirect("~/GameDetailView.aspx?SKU=" + skuCellValue); 
```

请注意，重定向会导致浏览器发出新请求（GET 请求），因此您要重定向到的页面将无法访问之前页面中的发布数据或任何其他数据（除了显式传递的查询字符串）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T09:46:39.393

使用[ButtonField CommandName](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.buttonfield.commandname.aspx)来识别您在单击（选择）时所做的事情。然后在您的 Gridview RowCommand 事件中，捕获按钮的名称并执行您需要的操作。

我提供的链接中有示例代码。

# xpath - 如何为注销编写xpath？

> ID：11046406
> 
> 赞同：0
> 
> 时间：2012-06-15T07:31:38.137
> 
> 标签：xpath, selenium

这是文本“注销”的代码：

```
tr>
<td valign="middle" align="center">
<a href="logout">
<p class="iconLabel">Logout</p>
</a>
</td>
</tr> 
```

我试过了`//a[text()='logout']/@href`，但说没有找到。我怎样才能写出实际的路径？

这是符号“注销”的代码：

```
<td width="60px" valign="middle" align="center">
<table width="100%" height="100%" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td valign="middle" align="center">
<img width="40px" height="40px" align="absmiddle" src="open/css/images/app/logout.png">
</td>
</tr>
<tr>
</tbody>
</table>
</td> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:38:23.017

使用这个 XPATH

```
//a[//text()='Logout']/@href 
```

## 结果：

```
logout 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T09:58:09.793

XPath 查询区分大小写。因此，如果链接的标题为“注销”，则查找“注销”的 XPath 查询将找不到它。

由于您似乎正在使用 Selenium，因此您可以使用此 CSS 选择器获取注销图像本身：

```
img[src*='logout.png'] 
```

或者这个 XPath：

```
//img[contains(@src, 'logout.png')] 
```

# matlab - 如何为这个例子重塑 matlab 矩阵？

> ID：11046415
> 
> 赞同：2
> 
> 时间：2012-06-15T07:32:28.833
> 
> 标签：matlab, matrix, reshape

我有一个 40x16 矩阵或 8 个 5x16 一个在另一个下方，即垂直对齐。我想从中得到一个 5x128 矩阵，以便水平对齐 8 个 5x16 矩阵。有没有一种高效/更快（而不是硬编码的 for 循环）的方法来做到这一点？

我希望单个 5x16 矩阵完好无损。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T20:33:11.307

这应该有效。假设您的矩阵是`A`(40x16)。

这是一种使用方法`reshape`：

```
m = 5; n = 8; p = 16;
B = reshape(permute(reshape(A', p, m, n), [2 1 3]), m, n*p); 
```

B 将使您的八个 5x16 矩阵彼此相邻，完好无损。

这是一种没有的方法`reshape`：

```
m = 5; n = 8;
B = cell2mat(arrayfun(@(i) A(m*(i-1)+1:m*i, :), 1:n, 'UniformOutput', false)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:52:19.463

考虑使用`reshape`函数：[doc@mathworks](http://www.mathworks.fr/help/techdoc/ref/reshape.html)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-17T17:00:16.550

您可以使用 MAT2CELL 将大矩阵划分为较小的矩阵，然后沿着您想要的维度组合：

```
A = rand(8*5,16);
blkSz = 5;

C = mat2cell(A, blkSz*ones(1,size(A,1)/blkSz), size(A,2));
C = cat(2,C{:}) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-22T06:56:57.990

将 3×4 矩阵重塑为 2×6 矩阵。A = 1 4 7 10 2 5 8 11 3 6 9 12

B = 重塑（A,2,6）

B = 1 3 5 7 9 11 2 4 6 8 10 12 B = 重塑(A,2,[])

B = 1 3 5 7 9 11 2 4 6 8 10 12

# android - 以编程方式下载第一帧视频android

> ID：11046422
> 
> 赞同：2
> 
> 时间：2012-06-15T07:33:00.473
> 
> 标签：android, video, download, frame

我想从我的 android 应用程序的服务器下载视频文件的单帧。我不想在前面下载完整的视频。使用该框架作为缩略图显示给用户，以便用户选择它可以下载。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T07:51:11.197

`ffmpeg`可以使用以下命令从视频流创建缩略图：

```
ffmpeg -itsoffset -4  -i http://somevideosite/test.avi -vcodec mjpeg -vframes 1\
       -an -f rawvideo -s 320x240 thumb.jpg 
```

*进入`ffmpeg`安卓似乎是[可行](https://stackoverflow.com/questions/2645041/ffmpeg-for-a-android-using-tutorial-ffmpeg-and-android-mk)的。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:34:47.430

如果您的服务器像 youtube/dailymotion 那样为每个视频提供缩略图，那将会更容易。当视频添加到服务器时，您可以创建此缩略图。

例如：http : [//img.youtube.com/vi//.jpg](http://img.youtube.com/vi/)`<VIDEO_ID>``<1,2,3>`

# ant - 在 ant build.xml 中动态传递多个值

> ID：11046433
> 
> 赞同：0
> 
> 时间：2012-06-15T07:33:36.093
> 
> 标签：ant

我正在尝试做类似下面的事情..

```
 <property name="INSTANCE_NAME" value="${PRODUCT5_JBOSS_INSTANCE}" /> 
```

`PRODUCT5_JBOSS_INSTANCE`-从属性文件中获取该键名的值所以当我像上面那样给出我的值时`INSTANCE_NAME = product5-jboss`。

但是对于不同的产品，上述行重复多次，例如

```
 <property name="INSTANCE_NAME" value="${PRODUCT6_JBOSS_INSTANCE}" />
   <property name="INSTANCE_NAME" value="${PRODUCT7_JBOSS_INSTANCE}" /> 
```

所以在里面`value="${PRODUCT7_JBOSS_INSTANCE}"`我想像下面一样动态传递product7..

`value="${${PRODUCT_NUMBER}_JBOSS_INSTANCE}"`--但这不起作用。因为两个 $ 符号不起作用。我现在的目标是`PRODUCT_NUMBER`应该获取值`PRODUCT7`，然后 `PRODUCT7_JBOSS_INSTANCE`应该从文件中获取值`product7-jboss`

你能帮我解决这个问题吗

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T09:24:25.650

您可以使用[宏定义来解决此问题，如](http://ant.apache.org/manual/Tasks/macrodef.html)[对 Ant 中属性文件中的变量](https://stackoverflow.com/q/10747065/127035)问题的答案所示。

这是您的案例的相同示例。

```
<project default="test">

    <!-- override on command line -->
    <property name="PRODUCT_NAME" value="PRODUCT5"/>

    <property file="test.properties"/>

    <macrodef name="property-read">
        <attribute name="name"/>
        <attribute name="from"/>
        <sequential>
            <property name="@{name}" value="${@{from}_JBOSS_INSTANCE}"/>
        </sequential>
    </macrodef>

    <target name="test">
        <echo>PRODUCT_NAME: ${PRODUCT_NAME}</echo>
        <property-read name="instance" from="${PRODUCT_NAME}"/>
        <echo>DYNAMIC PROPERTY VALUE: ${instance}</echo>
    </target>

</project> 
```

属性定义：

```
$ cat test.properties
PRODUCT5_JBOSS_INSTANCE=product5.jboss.instance
PRODUCT7_JBOSS_INSTANCE=product7.jboss.instance 
```

输出：

```
$ ant -DPRODUCT_NAME=PRODUCT7
Buildfile: C:\Users\sudocode\tmp\ant\build.xml

test:
     [echo] PRODUCT_NAME: PRODUCT7
     [echo] DYNAMIC PROPERTY VALUE: product7.jboss.instance

BUILD SUCCESSFUL
Total time: 0 seconds
$
$
$ ant -DPRODUCT_NAME=PRODUCT5
Buildfile: C:\Users\sudocode\tmp\ant\build.xml

test:
     [echo] PRODUCT_NAME: PRODUCT5
     [echo] DYNAMIC PROPERTY VALUE: product5.jboss.instance

BUILD SUCCESSFUL
Total time: 0 seconds 
```

# java - 从照片的 EXIF 数据中读取地理坐标

> ID：11046435
> 
> 赞同：3
> 
> 时间：2012-06-15T07:33:40.177
> 
> 标签：java, android, gps, exif, android-location

我是一名尝试学习 Android 的 .net 开发人员。我正在尝试使用 Windows 桌面上的任何 Android 模拟器开发移动应用程序。

1.  您能否推荐一款适用于 Windows 7 桌面的 Android 模拟器？

2.  是否可以从网络摄像头读取**EXIF**数据？或者在拍摄照片时用于捕捉坐标的设备应该是什么？

3.  我们可以将照片与地理坐标一起发送到同一系统中的服务器应用程序吗？

4.  服务器应用程序的特征应该是什么？Web 服务对于服务器应用程序来说是一个不错的选择吗？

5.  有没有一本书详细展示了这种方法？

注意：请将此视为编程问题，因为我正在尝试使用 Android 进行编程以读取 EXIF 数据。

阅读：

1.  [在 C# 中从 JPEG、XMP 或 EXIF 读取数据元数据](https://stackoverflow.com/questions/2280948/reading-data-metadata-from-jpeg-xmp-or-exif-in-c-sharp?rq=1)

2.  [如何在 Android 上的 exif 数据中保存 GPS 坐标？](https://stackoverflow.com/questions/5280479/how-to-save-gps-coordinates-in-exif-data-on-android)

3.  [如何从我自己的 Android 应用程序中调用内置相机应用程序？](https://stackoverflow.com/questions/1536802/how-to-call-built-in-camera-app-from-my-own-application-in-android?rq=1)

4.  [如何使用 Android 使用 WCF 服务](https://stackoverflow.com/questions/669764/how-to-consume-wcf-service-with-android)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T11:11:17.013

1.  安卓模拟器：http: [//developer.android.com/guide/index.html](http://developer.android.com/guide/index.html)

您可以在拍照时嵌入 EXIF 数据/设置它，然后再将其发送到远程服务器进行处理。将数据发布/发送到远程系统时，您可以单独发送位置数据，或将其作为属性保留为 EXIF 数据的一部分。

[在 Android 中写入/地理标记 JPEG（EXIF 数据）](https://stackoverflow.com/questions/10531544/write-geotag-jpegs-exif-data-in-android)

通过阅读以上内容，我的假设是以下内容会起作用：

```
 ExifInterface exif;
 exif = new ExifInterface("/sdcard/DCIM/"+filename+".jpeg");
 double exifLatitude = exif.getAttribute(ExifInterface.TAG_GPS_LATITUDE);
 double exifLongitude = exif.getAttribute(ExifInterface.TAG_GPS_LONGITUDE); 
```

更多特定于 Android 的信息： [如何在 Android 上的 exif 数据中保存 GPS 坐标？](https://stackoverflow.com/questions/5280479/how-to-save-gps-coordinates-in-exif-data-on-android)

最后： [读取 JPEG 文件中的 EXIF 信息，ExifInterface](http://x-tutorials.blogspot.ch/2009/12/read-exif-information-in-jpeg-file.html)有示例

# .net - 在 NHibernate 中使用 ISet 的 MaxResults

> ID：11046442
> 
> 赞同：0
> 
> 时间：2012-06-15T07:34:03.460
> 
> 标签：.net, nhibernate, pagination, icriteria

我有一个 ICriteria，由于一些别名和急切的获取，我正在做返回重复的结果 - 没问题，将它们添加到 HashedSet 并删除重复项。

我的问题是我使用 SetMaxResults 方法将结果分页到每页 10 个结果，这意味着我从查询中返回 10 个结果。一旦导入到 ISet 中，这将变成两个或三个......

有没有一种方法可以使用 ICriteria 机制来运行查询，在删除重复项后返回 10 个结果？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T10:37:44.390

修复您的查询以删除笛卡尔积（重复项）。

# android - 启动活动方法

> ID：11046448
> 
> 赞同：-3
> 
> 时间：2012-06-15T07:34:40.067
> 
> 标签：android, android-intent, android-activity

```
Intent intent=new Intent(this,Game.class);
intent.putExtra("razmer", level);
startActivity(intent); 
```

方法 startActivity() 调用构造函数类。此方法创建对象此类？请向我发送有关此方法的更多详细信息

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T07:46:34.113

是的，伙计，方法startActivity（）用于启动另一个活动，无论您在意图中调用哪个类。理解但它不会调用构造函数类。此外，活动管理器将实例化一个活动对象。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T07:40:06.293

StartActivity方法通知android系统启动一个新的Activity，ActivityManager实例化一个Activity对象，然后启动该Activity。

# sql - Oracle 子查询

> ID：11046455
> 
> 赞同：2
> 
> 时间：2012-06-15T07:35:15.210
> 
> 标签：sql, oracle, subquery

我需要设计一个子查询来选择列中具有匹配值的行。

例子

```
Select * 
from person 
where first_name in ('Java','SQL','Oracle'); 
```

然而，括号内的这个列表可能很大，最多 30,000 个值。我将从文件中读取值并将其传递到括号中。但是我认为我可以在括号内提供的值的数量可能会受到限制。是否有解决这种情况的最佳解决方案，而无需创建和加载包含数据的新表？

编辑：感谢您的回复。以下查询是要考虑的选项吗 -

```
Select * 
from person 
where first_name like 'Java' 
   or first_name like 'SQL' 
   or first_name like 'Oracle'; 
```

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-15T08:19:08.740

我同意乔纳森的观点，合并 30000 个值不是这里的方法，他的解决方案是一个好方法。但这里有另一个想法，Oracle 有一个很好的特性，叫做外部表。

使用外部表，您可以将文件视为表。如果您的文件结构良好（如 CSV），您可以轻松使用此功能。

谷歌“Oracle 外部表”，您会发现很多信息和示例，但对于初学者来说，请阅读[以下](http://docs.oracle.com/cd/B19306_01/server.102/b14215/et_concepts.htm)内容：

基本上，您需要一个目录对象来告诉 Oracle 您的文件所在的位置，然后您将创建外部表，可能如下所示：

```
create directory DIR_MYFILE as '/my_source_dir/';

create table EXT_MY_FILE
    ( 
      some_id    number(8),
      some_value varchar2(100)
    )
   organization external
   ( default directory DIR_MYFILE 
     access parameters
     ( records delimited by newline
       fields terminated by ','
     )
     location ('my_file.csv')  
 ); 
```

在查询中使用此表：

```
select * from person where first_name in (select some_value from EXT_MY_FILE); 
```

**编辑：**见 APC 的评论，他有一个很好的观点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T08:27:42.183

如果您可以在 PL/SQL 中处理文件，那么流水线函数可能是另一种选择。

# javascript - 在Jquery中完成for循环后如何触发回调函数？

> ID：11046456
> 
> 赞同：2
> 
> 时间：2012-06-15T07:35:21.910
> 
> 标签：javascript, jquery, for-loop, callback

我有两个函数可以计算和调整屏幕上元素的高度和宽度。

**panelHeight**将目标元素的高度设置为可用的屏幕高度，而**panelWidth**调整元素的宽度。

**我的问题：**
我无法确保在第一个函数（ *panelHeight* ）完成后触发第二个函数（ *panelWidth* ） 。如果目标元素很长并且有滚动条，它会被*panelHeight*移除，但如果在*panelWidth*触发之前没有这样做，设置的宽度将被滚动条占用的空间关闭（17px - 当宽度为计算）。

 *****因此，我正在寻找一种仅在完成另一个功能后才触发功能的方法。**有点像回调，但我不确定谁在下面的 for 循环中摆弄这个：

```
panelHeight: function (from) {
    var self = this,
        o = self.options,
        wrap = $('div:jqmData(wrapper="true").ui-page-active').last(),
        overthrow = wrap.jqmData("scrollmode") == "overthrow" && $('html').hasClass('ui-splitview-mode'),
        blacklist = $('html').hasClass('blacklist'),

        // calculationg toolbars
        // elements
        contents = TARGET_ELEMENT;

    if (overthrow) {
        for ( var i = 0; i < contents.length; i++){
            // calculate values 
            ...
            contents.eq(i).css({    
                        "max-height": setH, 
                        "margin-top": blacklist == true ? glbH + lclH : 0, 
                        "margin-bottom": blacklist == true ? glbF + lclF  : 0
                    })
            }

        } else {

            for ( var i = 0; i < contents.length; i++){
                // calculate values
                ...
                contents.eq(i).css({    
                            "max-height" : "", 
                            "height": o._iPadFixHeight, 
                            "margin-top": blacklist == true ? 
                                parseFloat( lclH.outerHeight() ) : 0, 
                            "margin-bottom": blacklist == true ? 
                                parseFloat( lclF.outerHeight() ) : 0
                        })
                }

            }   
            // USING THIS NOW, WHICH IS NOT NICE                
    window.setTimeout(function(){ self.panelWidth(false ); },65)
    }, 
```

所以我要么循环通过 overthrow-if-or-else 循环，只需要触发**panelWidth** * *AFTER* * 循环完成。

**问题：**
知道如何摆脱超时并将*panelWidth*函数调用添加到循环的末尾吗？我尝试使用*queue*，但这也需要*delay(xxx)*。我也不能在 for 循环内触发 panelWidth 。我只需要在高度功能完成后触发一次

**编辑**：
这可能吗：

```
// calling my panelHeight function like this: 
self.panelHeight("source").done(function() {
   // call panelWidth:
   self.panelWidth();
   }); 
```

如果是这样，我必须把*var deferred = Deferred();* ?

**解决方案**：
让它工作。谢谢大家！这是我的解决方案：

**调用 panelHeight 时**，添加 done() 处理程序

```
$(document).on('pagechange.fixedHeight', function() {
    self.panelHeight("pagechange").done( function() {
        self.panelWidth( false ) 
        });
    }); 
```

在**panelHeight**中，声明 defer 并返回 resolved();

```
panelHeight: function (from) {  
    var deferred = $.Deferred();

    ... run function

    return deferred.resolve();
    } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-15T07:37:43.823

这就是 JQuery [Deferred](http://api.jquery.com/category/deferred-object/)的目的......

```
var deferred = $.Deferred();

somethingAsync(function() {
    // callback stuff here

    // now tell the deferred task it's ok to proceed
    deferred.resolve();
}

deferred.done(function() {
    // your finalize code here
}); 
```

~~**编辑** 由于*resolve*事件需要与 dom 调整大小相关联，因此 Javascript [resize](http://api.jquery.com/resize/)事件处理程序可能会起作用。~~***

# objective-c - 静态库（ARC）在非 ARC 应用程序上工作，遇到错误：dyld：惰性符号绑定失败：未找到符号：_objc_retainAutoreleasedReturnValue

> ID：11046459
> 
> 赞同：2
> 
> 时间：2012-06-15T07:35:35.177
> 
> 标签：objective-c, ios, xcode

Xcode 4.3.2 我写了一个静态库，使用 ARC。

当我把它放到一个项目中，并在 iOS 4.3 模拟器上测试。（基于iOS 5.1，部署目标4.3）

如果项目使用 ARC，它工作正常。

如果项目没有使用ARC，会遇到错误，比如：

> dyld：惰性符号绑定失败：找不到符号：_objc_retainAutoreleasedReturnValue 引用自：/Users/cnzzmobile/Library/Application Support/iPhone Simulator/4.3.2/Applications/A4EEB0A0-AC16-402C-B426-46667225F66D/test.app/test 预期在：/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator4.3.sdk/System/Library/Frameworks/Foundation.framework/Foundation
> 
> dyld：找不到符号：_objc_retainAutoreleasedReturnValue 引用自：/Users/cnzzmobile/Library/Application Support/iPhone Simulator/4.3.2/Applications/A4EEB0A0-AC16-402C-B426-46667225F66D/test.app/test 预期在：/Applications/ Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator4.3.sdk/System/Library/Frameworks/Foundation.framework/Foundation

我搜索了很多，但找不到可以解决这个问题的答案。

我删除了仅iOS5支持的jsonobjcet，-fobjc-arc也不起作用。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T15:11:49.633

我发现在“其他链接器标志”处添加“-fobjc-arc”可以在基于 iOS 5.1 的 Xcode 4.3.2 上解决这个问题。因为 xcode 找不到支持 ARC 链接的库。

请注意：在“其他链接器标志”而不是“编译源”中添加“-fobjc-arc”。

但这仍然不适用于基于 iOS 4.3 的旧版本 Xcode 4（雪豹）。

我发现一些库可以在 ARC 和非 ARC 项目上工作，而无需添加任何特殊设置。我仍在等待答案如何做到这一点。使用纯 C 编写代码？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T08:41:17.853

`_objc_retainAutoreleasedReturnValue`是 iOS 5.x 版本 arc 的一个功能。您正在尝试构建此框架并在 iOS 4.3 上运行它，这需要您为运行“ArcLite”框架的 iOS 4.x 指定和部署它。

# jquery - 带 HTML5 或不带 HTML5 的 Qt

> ID：11046460
> 
> 赞同：6
> 
> 时间：2012-06-15T07:35:45.910
> 
> 标签：jquery, html, qt, css

我已经用 Qt 库编程 3 年了。到目前为止，所有程序都是由传统的小部件设计的。但现在我注意到您可以使用 HTML5+CSS+jQuery 设计您的用户界面。现在这些是我的问题：

1.  我们什么时候应该用 HTML5 设计我们的界面，用 Qt 库设计核心？
2.  如果我们使用 HTML5 来设计用户界面而不是传统的小部件，会有什么优势？
3.  如果我们甚至用 HTML5 来设计我们普通的桌面应用程序用户界面，这是否合理？

谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-15T07:41:56.080

1.  没有关于“何时应该”的规则。但是，在某些情况下，“我们会”使用它。例如，如果我们想让 C++ 开发人员专注于核心功能而不是 gui，我们会使用它。我们可以使用一些网页设计师然后创建界面
2.  主要优点是 C++ 开发人员根本不必专注于 UI（嗯，HTML ui 和 C++ 核心之间需要一些轻微的“集成”）
3.  一切都取决于你想给用户的体验。如果你想给“native look'n'feel” Qt 用小部件为你完成大部分工作。如果你想给出“花哨的外观”，那么你可以使用 HTML。在提供用户界面的两种方式中，我都没有看到任何“不合理”的东西。

# jsp - JSP 导入在 Tomcat 5.5.27 中无法解决

> ID：11046467
> 
> 赞同：1
> 
> 时间：2012-06-15T07:36:11.703
> 
> 标签：jsp, tomcat, import, compilation

在我们的 Tomcat Web 应用程序中导航到某个页面时，我收到以下错误：

```
ERROR [org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/ecrs].[jsp]] -     <Servlet.service() for servlet jsp threw exception>
org.apache.jasper.JasperException: Unable to compile class for JSP: 
An error occurred at line: 17 in the generated java file
The import com.nag.ecrs.domain.model cannot be resolved 
```

导入语句如下所示：

```
<%@ page import="com.nag.ecrs.domain.model.ModelHelper"%> 
```

根据[Failing import in on-the-fly JSP compilation](https://stackoverflow.com/questions/2412906/failing-import-in-on-the-fly-jsp-compilation)，编译器似乎出错了，因为我们有一个名为：

```
com.nag.ecrs.domain.model 
```

和一个名为：

```
com.nag.ecrs.domain.Model 
```

我们确实有带有大写“M”的类 com.nag.ecrs.domain.Model。如果我要删除导入并使用完全限定的类名 com.nag.ecrs.domain.model.ModelHelper，它可以工作。但是，这不是一个简洁的解决方案。上面链接中的解决方案是重命名包，我们也不想这样做。

这只会影响我，该页面在我的其他 2 位同事的环境中显示得很好。

所以我的问题是，当使用一个包名也作为类存在的包时，是什么导致 JSP 编译器失败？如何解决这个问题？

我试过了：

*   清洁/重建网络应用程序
*   安装新的 Tomcat
*   将 Tomcat 中的 allowLinking 上下文切换设置为 false

这是完整的堆栈跟踪：

```
Stacktrace:
at org.apache.jasper.compiler.DefaultErrorHandler.javacError(DefaultErrorHandler.java:93)
at org.apache.jasper.compiler.ErrorDispatcher.javacError(ErrorDispatcher.java:330)
at org.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:435)
at org.apache.jasper.compiler.Compiler.compile(Compiler.java:298)
at org.apache.jasper.compiler.Compiler.compile(Compiler.java:277)
at org.apache.jasper.compiler.Compiler.compile(Compiler.java:265)
at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:564)
at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:302)
at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)
at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:679)
at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:584)
at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:497)
at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:965)
at org.apache.jasper.runtime.PageContextImpl.include(PageContextImpl.java:600)
at org.apache.struts.tiles.TilesUtilImpl.doInclude(TilesUtilImpl.java:99)
at org.apache.struts.tiles.TilesUtil.doInclude(TilesUtil.java:135)
at org.apache.struts.taglib.tiles.InsertTag.doInclude(InsertTag.java:760)
at org.apache.struts.taglib.tiles.InsertTag$InsertHandler.doEndTag(InsertTag.java:892)
at org.apache.struts.taglib.tiles.InsertTag.doEndTag(InsertTag.java:462)
at org.apache.jsp.WEB_002dINF.jsp.pages.rating.specialisedLending_jsp._jspService(specialisedLending_jsp.java:2989)
at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:98)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:331)
at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)
at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:679)
at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:584)
at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:497)
at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:965)
at org.apache.jasper.runtime.PageContextImpl.include(PageContextImpl.java:600)
at org.apache.struts.tiles.TilesUtilImpl.doInclude(TilesUtilImpl.java:99)
at org.apache.struts.tiles.TilesUtil.doInclude(TilesUtil.java:135)
at org.apache.struts.taglib.tiles.InsertTag.doInclude(InsertTag.java:760)
at org.apache.struts.taglib.tiles.InsertTag$InsertHandler.doEndTag(InsertTag.java:892)
at org.apache.struts.taglib.tiles.InsertTag.doEndTag(InsertTag.java:462)
at org.apache.jsp.WEB_002dINF.jsp.layouts.ecrsMain_jsp._jspx_meth_tiles_005finsert_005f10(ecrsMain_jsp.java:695)
at org.apache.jsp.WEB_002dINF.jsp.layouts.ecrsMain_jsp._jspService(ecrsMain_jsp.java:276)
at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:98)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:331)
at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)
at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:679)
at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:399)
at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:301)
at org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1063)
at org.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestProcessor.java:263)
at org.apache.struts.tiles.TilesRequestProcessor.processTilesDefinition(TilesRequestProcessor.java:239)
at org.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(TilesRequestProcessor.java:302)
at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:229)
at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1194)
at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:432)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:709)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
at com.nag.ecrs.authentication.PostLoginFilter.doFilter(PostLoginFilter.java:66)
at net.sf.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:125)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
at com.nag.ecrs.authentication.CreateUserFilter.doFilter(CreateUserFilter.java:65)
at net.sf.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:125)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174)
at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:875)
at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)
at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)
at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)
at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)
at java.lang.Thread.run(Thread.java:595) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-16T14:58:01.163

我强烈建议您升级到 Tomcat 的更新版本：5.5.x 计划于 2012 年 9 月 30 日终止使用 ( [http://tomcat.apache.org/tomcat-55-eol.html](http://tomcat.apache.org/tomcat-55-eol.html) )这并不遥远。

较新版本的 Tomcat 使用较新版本的 Eclipse Java 编译器，它可能不会遇到此特定问题。我建议一直升级到 Tomcat 7，因为从 5.5 升级到 7.0 的痛苦不亚于从 5.5 升级到 6.0。此外，与 Tomcat 6 相比，Tomcat 7.0 有一些非常大的改进，这些改进不太可能被向后移植。

# javascript - 选择列表上的选择菜单插件

> ID：11046468
> 
> 赞同：0
> 
> 时间：2012-06-15T07:36:12.153
> 
> 标签：javascript, jquery

我`selectmenu() plugin`在选择列表中使用

```
 <select id="main" size="1"><option ..</select>
          $("#main").selectmenu(); 
```

现在应用这个插件后，选择列表事件'onchange `is not working on the`select#main`。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:41:21.283

试试这个：

```
 <select id="main" size="1"><option ..</select>
      $("#main").selectmenu({
        select: function(evt){ 
         // your code here on select

        }
      }); 
```

当使用这样的插件时，HTML 中的原始处理方式很可能会被禁用，并且必须在插件中应用，因此它可以正常使用它的所有其他功能。除了我的评论之外，您可能还想阅读文档以更熟悉使用它。

# linux - 在没有图形环境的 Linux 中运行 Matlab？

> ID：11046470
> 
> 赞同：16
> 
> 时间：2012-06-15T07:36:23.510
> 
> 标签：linux, matlab, command-line, ssh

我将使用 SSH 在远程 Linux 服务器上运行 Matlab 程序。我想知道如何只用命令行在 Linux 中运行 Matlab，这意味着没有图形环境？

谢谢。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-06-15T07:57:40.337

使用以下标志启动 MatLab

```
matlab -nodesktop -nojvm -nosplash 
```

*   `-nodesktop`防止桌面

*   `-nojvm`阻止启动 java 虚拟机

*   `-nosplash`防止启动闪屏。

请注意，正如 Li-aung Yip 在评论中指出的那样，Mathworks 不建议使用该`-nojvm`标志。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-15T07:58:45.300

命令是`matlab -nodesktop`。

[http://www.mathworks.de/help/techdoc/ref/matlabunix.html](http://www.mathworks.de/help/techdoc/ref/matlabunix.html)

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2016-07-21T10:30:57.577

```
matlab -nodisplay 
```

请参阅[此处`-nodisplay`](http://au.mathworks.com/help/matlab/ref/matlablinux.html)。

然后`-nodesktop`和`-nosplash`是不必要的。它们在文本模式下没有意义。

`-nojvm`除非您有单独的充分理由，否则添加可能不是一个好主意。如果没有 JVM，您将失去一些功能，这些功能的缺失可能会在以后导致混乱。来源：[与上述相同的链接](http://au.mathworks.com/help/matlab/ref/matlablinux.html)。最重要的是`-nodisplay`，它不会使您的非图形化 Matlab 会话的图形化程度降低。

* * *

这里有几种非交互方式运行命令的方法。

方式一：

```
matlab -nodisplay < myScript.m 
```

`exit`例如，将最后一个命令放入`myScript.m`.

方式二：

```
matlab -nodisplay -r "try, myFunction(); catch e, disp(getReport(e)), exit(7), end, exit()" 
```

第二种方式更可取，因为例如，如果代码中间有错误，那么第二种方式将打印错误消息并以非零代码退出。而第一种方法相当于直接输入命令，不管 Matlab 说什么（可能是错误消息）。

如果下一个问题是“如何在文本模式 Matlab 中抑制*欢迎消息？”，*[似乎没有很好的方法来摆脱它](https://stackoverflow.com/q/1518072/1143274)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-07-02T10:27:20.500

将其他答案放在一起加上更多错误处理，将以下内容另存为可执行文件`matlab-headless`：

```
#/usr/bin/env bash

# restore the "sane" state of the terminal at the end
# otherwise interrupting the process may leave the terminal messed up
trap 'stty sane' EXIT
command="try, $1;, catch e, stack=getReport(e); fprintf(1, '%s\n', stack);, end, exit;"

# tail gets rid of the welcome message banner
matlab -nodisplay -nodesktop -nosplash -r "$command" | tail -n +11 
```

现在您可以运行 Matlab 命令：

```
matlab-headless "somecommand('bla', 42)" 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-01-08T19:34:23.130

根据您的需要，另一种方法是：

```
matlab -nosplash -nodesktop -wait -log -r "Matlab Script Line 1;Matlab Script Line 2;exit;" 
```

这与 Azure DevOps Pipeline 用于将所有 Matlab 作业输出记录到其在线 CLI 窗口的方法相同。

参考：自托管 Windows 代理

位置：C:\agent\_work\_tasks\RunMATLABCommand_28fdff80-51b4-4b6e-83e1-cfcf3f3b25a6\0.2.15\bin\run_matlab_command.bat

# c# - 将用户控件添加到项目时出错

> ID：11046473
> 
> 赞同：1
> 
> 时间：2012-06-15T07:36:39.373
> 
> 标签：c#, winforms, user-controls, combobox, visual-studio-2005

我在我的项目中创建了一个 UserControl。之后，我将其更改为从组合框而不是 UserControl 继承-

```
public partial class EprComboBoxControl : System.Windows.Forms.ComboBox 
```

**然后我构建项目，该控件出现在工具箱中**。然后我创建了一个新窗口并从工具箱中添加项目。当我添加控件时，它会显示如下错误。

> 未能加载工具箱项“EprComboBoxControl”。它将从工具箱中删除。

我正在使用 VS 2005

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:51:39.093

尝试在工具箱项中添加应用程序 exe。

或者

创建控制和使用实例。

请遵循[此](http://social.msdn.microsoft.com/Forums/en/windowsmobiledev/thread/9df6e5b1-e814-4344-aafc-02327718d6d9)以获取更多参考。

# vim - 如何在 Vim 的 diff 模式下显示更改的总数？

> ID：11046475
> 
> 赞同：18
> 
> 时间：2012-06-15T07:36:41.537
> 
> 标签：vim, diff

在 Vim 中比较两个文件时，是否可以显示更改的总数？我想，这相当于计算折叠次数，但我也不知道该怎么做。

理想情况下，我想要一条消息，上面写着“<em>Change 1 of 12”，当我使用 `]c`.

我在将我办公室的一些成员转变为使用 Vim 的奇迹方面取得了巨大成功，但 Vimdiff 始终是个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T14:04:19.380

好的，这是我能想到的最好的自己。此函数从当前缓冲区的顶部开始，并使用`]c`它在更改中移动的动作，直到`]c`不再有效果。它返回更改的数量（或者`0`如果光标不是差异缓冲区，则返回）。

```
function! CountDiffs()
    let winview = winsaveview() 
    let num_diffs = 0
    if &diff
        let pos = getpos(".")
        keepj sil exe 'normal! G'
        let lnum = 1
        let moved = 1
        while moved
            let startl = line(".")
            keepj sil exe 'normal! [c'
            let moved = line(".") - startl
            if moved
                let num_diffs+=1
            endif
        endwhile
        call winrestview(winview)
        call setpos(".",pos)
    endif
    return num_diffs
endfunction 
```

它似乎工作正常，并且当包含在我的状态行中时不会对性能造成明显影响。

至于查找当前变化的“数量”，这里有一个函数，它使用向后`[c`运动来计算光标位置之前的变化数量。返回的值不太正确......我认为如果光标在更改的文本“内”而不是在更改的第一行之后，它应该只返回一个数字。

```
function! CurrentDiff()
    if &diff
        let num_diff = 0
        let winview = winsaveview() 
        let pos = getpos(".")
        let moved = 1
        while moved
            let startl = line(".")
            keepj sil exe 'normal! [c'
            let moved = line(".") - startl
            if moved
                let num_diff+=1
            endif
        endwhile
        call winrestview(winview)
        call setpos(".",pos)
        return num_diff
    endif
endfunction 
```

同样，它似乎在我的状态行中表现自己并且不影响光标的移动。当更改也/从缓冲区复制时，数字会正确更新。

一旦问题得到解决，我可能会考虑将其作为插件上传到 Vim 网站上。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-18T11:14:20.000

这是一个稍微更精致的解决方案。它使用与我之前的答案相同的技术来计算差异，但它将每个大块的第一行存储在分配给全局变量的列表中`g:diff_hunks`。然后可以通过查找行号在列表中的位置来找到光标下方的hunk个数。另请注意，我在最后设置`nocursorbind`和`noscrollbind`重置它们以确保我们不会破坏差异窗口中的鼠标滚动。

```
function! UpdateDiffHunks()
    setlocal nocursorbind
    setlocal noscrollbind
    let winview = winsaveview() 
    let pos = getpos(".")
    sil exe 'normal! gg'
    let moved = 1
    let hunks = []
    while moved
        let startl = line(".")
        keepjumps sil exe 'normal! ]c'
        let moved = line(".") - startl
        if moved
            call add(hunks,line("."))
        endif
    endwhile
    call winrestview(winview)
    call setpos(".",pos)
    setlocal cursorbind
    setlocal scrollbind
    let g:diff_hunks = hunks
endfunction 
```

`UpdateDiffHunks()`每当修改差异缓冲区时，都应该更新该函数，但我发现将其映射到`CursorMoved`and就足够了`BufEnter`。

```
function! DiffCount()
    if !exists("g:diff_hunks") 
        call UpdateDiffHunks()
    endif
    let n_hunks = 0
    let curline = line(".")
    for hunkline in g:diff_hunks
        if curline < hunkline
            break
        endif
        let n_hunks += 1
    endfor
    return n_hunks . '/' . len(g:diff_hunks)
endfunction 
```

的输出`DiffCount()`可以在状态行中使用，或者与命令相关联。

# c# - SQL查询比较2行并将差异存储在变量C#中？

> ID：11046477
> 
> 赞同：1
> 
> 时间：2012-06-15T07:36:46.510
> 
> 标签：c#, sql, variables, compare

我目前正在研究一个项目，该项目正在考虑拥有一个仅在其中存储 2 行数据的数据库。该数据库将一直添加新行，并且在输入新行时将删除顶行，以确保始终有 2 行。

我要做的是比较顶行数据和底行数据，然后将不同的数据存储在变量中。我只想存储与底行不同的数据，因为顶行将始终是最旧的数据集，我不再需要处理它。

我可以在 C# 端完成这一切，但我想知道是否有办法在 SQL 端完成大部分工作？谢谢您的帮助 ：-）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:29:17.430

感谢您的澄清，让我们假设这张表：

```
create table temp_monitor(id int, stamp datetime, @newTemp1 float, @newTemp2 float) 
```

那么这个存储过程应该可以解决问题

```
create proc updateTempMonitor(temp_oven_1 float, temp_oven_2 float)
as

-- save the values where about to replace
declare @id int, @t1 float, @t2 float
select top 1 @id = id, @t1 = temp_oven_1, @t2 = temp_oven_2 from temp_monitor order by stamp

-- update the oldest
update updateTempMonitor set temp_oven_1 = @newTemp1, temp_oven_2 = @newTemp2 where id = @id

-- return data to caller (c#)
select @t1, @t2 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T08:45:53.207

在 C# 和 SQL 中都是可能的，

SQL 方面，您需要编写 SP 或其他东西，它将以列名和更改的列的形式返回您的差异。

在这里寻找更多。[SQL 行到列](https://stackoverflow.com/questions/1187460/sql-rows-to-columns)

# unix - 在 Debian 6.0.4 上使用 /etc/crontab 启动 X 程序

> ID：11046482
> 
> 赞同：1
> 
> 时间：2012-06-15T07:36:57.057
> 
> 标签：unix, debian, crontab, xserver, xauth

我正在尝试使用 crontab 启动 X-Programm（例如 gedit 或 Firefox）。我已经搜索了很长时间，论坛上到处都是帮助，不幸的是，没有什么对我有用。

我正在尝试的是，通过 Crontab 启动 X-Programm。出于测试目的，我做了以下工作：

我的“/etc/crontab”中的条目（我的用户帐户是 mrs，我已登录）：

```
* * * * * mrs /bin/bash /tmp/test.sh 
```

猫/tmp/test.sh：

```
#!/bin/bash
DISPLAY=":0.0"
gedit 1> /tmp/out 2>/tmp/err 
```

猫/tmp/错误：

```
No protocol specified
(gedit:3456): Gtk-WARNING **: cannot open display: :0.0 
```

/tmp/out 是空的！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T07:20:25.003

我找到了解决方案！问题是，我没有 XAUTHORITY。所以我必须得到一个有效的 XAUTHENTICATION。我用 xhost 和 xauth 尝试了很多，但没有帮助。现在我发现了另一种与 gnome/gdm3 一起使用的简单方法，如果您可以访问根 Crontab：

```
export DISPLAY=":0.0"
[ -z $USER ] && USER=$( who | awk '{ print $1 }' | sort | uniq >/tmp/test )
for I in /var/run/gdm3/*; do
    AUTHUSER="`echo $I | awk -F '-' '{ print $3 }'`"
    for J in $USER; do
        [ "${AUTHUSER}" = "${J}" ] || continue
        USER="$J"
        export XAUTHORITY="${I}/database" && break
    done
done
sudo -u ${USER} /Pfad/zum/xProgramm 
```

模具变量 $USER kann man vorher belegen, andernfalls wird sie mit mindestens einem bereits eingeloggten 用户 beschrieben。Vorraussetzung ist allerdings, dass ein User am System auch angelmeldet ist.

Ich habe dies getestet, und es klappt problemlos！

# sql-server - 获取table1中但不在table2中的行

> ID：11046484
> 
> 赞同：0
> 
> 时间：2012-06-15T07:37:20.003
> 
> 标签：sql-server

我有两张桌子，

```
CREATE TABLE [dbo].[entry]
(
   [id] [int] NULL,
   [service] [int] NULL,
   [sub] [int] NULL
) 
```

这些值是，

```
id     service  sub
1        1       0
2        1       1 
3        1       2 
```

第二张表是：

```
CREATE TABLE [dbo].[service]
(
   [service] [int] NULL,
   [sub] [int] NULL
) 
```

其值为：

```
service   sub
1          0
1          1 
```

`entry`表中有 3 行，表`service`中有 2 行。我想要不在`service`表中但在`entry`表中的行

谢谢

文卡特

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:46:31.743

尝试这个：

```
Select entry.id, temp.service, temp.sub from entry INNER JOIN 
(Select service, sub from entry 
Except
Select service, sub from service) as temp ON entry.service = temp.service AND entry.sub = temp.sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T08:21:12.683

解决问题的另一种方法

```
 Select a.id,a.service,a.sub from @entry as a where not EXISTS 
 (select b.* from @service as b where a.sub = b.sub and a.service=b.service) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T13:22:49.727

使用 except 的代码的另一个变体。

```
select id, service, sub
from entry
except
select e.id, e.service, e.sub
from service as s left join entry as e
on s.service = e.service
and s.sub = e.sub 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-15T14:14:55.277

```
SELECT
    entry.id
  , entry.service
  , entry.sub
FROM
    entry
LEFT JOIN SERVICE ON entry.service = service.service AND entry.sub = service.sub
WHERE
    entry.service IS NULL
    AND entry.sub IS NULL 
```

# joomla - 防止 Joomla 编辑器剥离换行符/回车符

> ID：11046485
> 
> 赞同：0
> 
> 时间：2012-06-15T07:37:20.183
> 
> 标签：joomla

我正在使用 Joomla 2.5 并将文本编辑器添加到管理组件中。当我从编辑器中保存文本时，所有换行符/回车都会从文本中删除。

我正在使用类似的 SQL 调用，如下所示：

```
"UPDATE....... SET body=" .$db->quote(JRequest::getVar('body')) 
```

我还尝试在没有 $db->quote() 调用的情况下保存文本，但没有成功。

保重，李

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T10:11:57.783

好的。问题不在于编辑器，而在于我如何使用 JRequest::getVar() 调用提取文本。我将 JREQUEST_ALLOWRAW 添加到参数中，问题已解决。

# forms - 如何在 IE 8 或 9 中获取 TinyMce 内容

> ID：11046496
> 
> 赞同：0
> 
> 时间：2012-06-15T07:38:32.557
> 
> 标签：forms, post, tinymce, submit

我的表单中有一个 tinyMce 框，并使用 jquery ajax 提交此表单。

```
 var myDecription=tinyMCE.get('myDescription').getContent();
var descriptionOptions ={beforeSubmit: showDescRequest,success:  
        showDescResponse}; 
    $('#myForm').ajaxForm(descriptionOptions); 
```

当我在除 IE 8 或 9 之外的所有其他浏览器中使用上述代码提交此表单时，数据已成功保存在 db 中，但在 IE 中数据未成功保存。我正在使用 post 方法保存数据，但使用 post 方法在 Internet Explorer 中没有获得 tinyMce 内容。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T08:04:39.900

您可以尝试在提交之前致电`tinymce.triggerSave()`。这也适用于 IE8 和 IE9。

# javascript - capybara-webkit 中未定义的方法“invalid_element_errors”

> ID：11046497
> 
> 赞同：3
> 
> 时间：2012-06-15T07:38:40.267
> 
> 标签：javascript, cucumber, capybara, capybara-webkit

首先，我想指出我对此有点陌生，因此希望这篇文章可以理解。

```
Gems:
  rails (2.3.11
  nokogiri (1.5.4)
  cucumber (1.1.9)
  capybara (1.1.2)
  copybara-webkit (0.12.1) 
```

现在我正在做一个项目，我正在尝试使用 cucumber 对 Rails Web 应用程序进行集成测试。由于 Web 应用程序严重依赖 javascript 和 ajax，我想使用可以处理此问题的 capybara 驱动程序。（我刚刚意识到 :rake_test 没有）但是我不想一直弹出浏览器窗口，因为这需要时间。所以我选择了 capybara-webkit。但是现在我更改了驱动程序，通过在我的 env.rb 中设置水豚的 javascript 驱动程序，我一直收到一个烦人的错误：

```
 undefined method `invalid_element_errors' for #<Capybara::Driver::Webkit:0x9c50bf8> (NoMethodError)
  ./features/step_definitions/some_steps.rb:37 
```

我在那一行的代码：

```
 >> 35  select("something", :from => find("select[class='class_name']")[:id])
    >> 36  click_link('javascript_link')
    >> 37  click_link('another_javascript_link') 
```

因为 id 是动态的，所以我在第 35 行使用了 find 。现在看来问题实际上是 find 方法，因为如果我在这一点之上添加另一个具有已知 id 的 find ，我会在该行上收到相同的错误。

如何摆脱这个问题，以便我可以使用 capybara-webkit？我在某处听说这是实际驱动程序中的一个问题，并且 github masterbranch 提供了一个修复程序，并且您可以以某种方式将您的 gem 链接到那里？如果是这样，任何人都可以解释如何做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T10:50:39.543

我也遇到过这个问题。这是一个 capybara-webkit 错误：0.12.1 版本没有 invalid_element_errors 方法。

几个月前有一个修复请求，但它没有被合并（https://github.com/thoughtbot/capybara-webkit/pull/288）。现在他们已经在 master 分支中添加了方法，所以你必须使用 git 存储库：

```
gem 'capybara-webkit', :git => 'git://github.com/thoughtbot/capybara-webkit' 
```

试试看它是否适合你:)。

# java - 在 jar 中运行服务器类时安装 DBpedia Spotlight 时出错

> ID：11046498
> 
> 赞同：0
> 
> 时间：2012-06-15T07:38:45.743
> 
> 标签：java, dbpedia, spotlight-dbpedia

我收到以下错误：

```
org.dbpedia.spotlight.exceptions.ConfigurationException: Cannot find spotter file ../dist/src/deb/control/data/usr/share/dbpedia-spotlight/spotter.dict
    at org.dbpedia.spotlight.model.SpotterConfiguration.<init>(SpotterConfiguration.java:54)
    at org.dbpedia.spotlight.model.SpotlightConfiguration.<init>(SpotlightConfiguration.java:143)
    at org.dbpedia.spotlight.web.rest.Server.main(Server.java:70) 
```

用法：

```
java -jar dbpedia-spotlight.jar org.dbpedia.spotlight.web.rest.Server [config file] 
```

或者：

```
mvn scala:run "-DaddArgs=[config file]" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T08:39:56.570

**快速解决方案**：

```
wget http://spotlight.dbpedia.org/download/release-0.5/dbpedia-spotlight-quickstart.zip
unzip dbpedia-spotlight-quickstart.zip
cd dbpedia-spotlight-quickstart/
./run.sh 
```

**说明**：

DBpedia Spotlight 在文本中查找约 320 种类型的约 3.5M 事物，并尝试将它们与 DBpedia 中的全局唯一标识符消除歧义。因此它需要数据文件伴随它的 jar。一个很小的示例与源一起分发，但对于实际用例，您可能需要更大的文件。下载文件后，您需要使用正确的文件路径修改 server.properties 中的配置。您收到的错误消息告诉您，在您在 server.properties 中指定的路径中找不到必要的文件之一 (spotter.dict)。

此处提供更多信息： [https ://github.com/dbpedia-spotlight/dbpedia-spotlight/wiki/Run-from-a-JAR](https://github.com/dbpedia-spotlight/dbpedia-spotlight/wiki/Run-from-a-JAR)

# java - Class.forName() 重载版本的 Java 用例

> ID：11046500
> 
> 赞同：0
> 
> 时间：2012-06-15T07:38:49.453
> 
> 标签：java, reflection, overloading

重载版本有什么用`Class.forName()`？

```
public static Class<?> forName(String name,
                       boolean initialize,
                       ClassLoader loader)
                throws ClassNotFoundException 
```

任何人都可以举一个首选使用的例子。

**编辑：**

参考下面的代码。

```
Class  clz=(Class)Class.forName("com.test.classloader.MyClass", false, Thread.currentThread().getContextClassLoader());

        MyClass mc=(MyClass) clz.newInstance();
        System.out.println(mc.TEST);
        System.out.println(mc.i); 
```

**我的课：**

```
public class MyClass {

static String TEST="MYCLASS";
static int  i;
static{
    i=20;
}

} 
```

为什么会打印

`MYCLASS`

`20`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:43:41.293

如果您想使用通过参数传递`Class`的特定加载 ，您将使用此方法。`ClassLoader``loader`

此外，`initialize`布尔值将说明您是否希望初始化该类。

很简单。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T08:59:26.287

初始化是是否在该点调用静态块。

如果您使用任何静态字段或方法，则必须调用静态块，这样您就看不到行为。

您可以做的是在静态块和您的示例中添加调试输出以查看它们被调用的顺序。（或者给静态块加个异常）

# session - 在 JSF 中设置/获取会话属性

> ID：11046501
> 
> 赞同：2
> 
> 时间：2012-06-15T07:38:57.677
> 
> 标签：session, jsf, authentication, servlet-filters

我正在尝试在 JSF 应用程序中实现简单的登录功能。按照这个[答案](https://stackoverflow.com/a/8480241/945945)，我实现了一个 AuthenticationFilter。我试图在我的托管 bean 中设置一个对象：

```
FacesContext facesContext = FacesContext.getCurrentInstance();
HttpSession session = (HttpSession) facesContext.getExternalContext().getSession(true);
session.setAttribute("user", user); 
```

AuthenticationFilter 的 doFilter 方法如下所示：

```
 public void doFilter(ServletRequest req, ServletResponse resp, FilterChain chain) throws IOException, ServletException {

       if (((HttpServletRequest) req).getSession().getAttribute("user") == null){   
            ((HttpServletResponse) resp).sendRedirect("../login.jsf");

       } else {
         chain.doFilter(req, resp);
       }
   } 
```

我总是得到`((HttpServletRequest) req).getSession().getAttribute("user") == null`（真的）。我已经搜索并应用了许多**替代方案**，例如（在我的 bean 中）：

```
facesContext.getExternalContext().getSessionMap().put("user", user);
request.getSession().setAttribute("user", user);
session.getServletContext().setAttribute("user", user); // DISASTER 
```

我不知道如何管理这件事。看似[重复的问题](https://stackoverflow.com/questions/9815964/object-is-null-in-the-session-attribute-map-when-accessed-from-servlet-filter)也没有帮助。我究竟做错了什么？我怎样才能让它工作？有没有一种使用 JSF 功能的好方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T19:10:21.740

我建议您使用像上一个答案一样的安全库。有太多方法可以错误地做到这一点......

但是，如果您一心想自己做，请不要在 Session 中设置它。声明一个 ManagedBean 并将其限定为会话级别。让 bean 的属性成为用户名。

# java - 如何检查数据库用户的存在？（数据库独立）

> ID：11046507
> 
> 赞同：0
> 
> 时间：2012-06-15T07:39:27.737
> 
> 标签：java, database

有谁知道一种方法（在java中）检查特定用户是否存在于数据库中？它必须在大多数数据库上工作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T08:09:13.817

可以看到数据库的系统表（Oracle、MySql等）

例如，在 MySQL 中，您可以尝试以下操作：

```
select * from mysql.user; 
```

问候

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T09:40:57.647

它不能独立于数据库，但可以在某个视图中。我的意思是你可以向其他人公开一个接口，并在你的实现中实现依赖于 db 的逻辑。所以它现在对其他人来说是独立于数据库的。

这是一个例子（java）：

```
public boolean exists(name, password) 
```

并且实现应该是这样的：

```
if (Oracle) {check with Oracle rules}
if (MySQL) {check with MySQL rules}
... 
```

所以其他人/您可以调用`exists`方法来检查用户是否存在，而无需关心数据库。^-^

如果有这样的工具，那一定是和上面一样。

# facebook - Facebook 图形 API 中的 GET 方法

> ID：11046508
> 
> 赞同：-2
> 
> 时间：2012-06-15T07:39:32.543
> 
> 标签：facebook, facebook-graph-api

据我在 Graph API 中看到的，有一个单独的方法来获取用户、获取 ID、获取电子邮件等详细信息。Graph API 或其他一些 API 中是否有任何通用的 get 或 update 或 upsert 或搜索方法来从 facebook 个人资料中获取信息？

是否有像其他 API 一样的文档来查看 GRAPH API 中可用的方法？

在我的 java 代码中使用 GRAPH API 的 jar 名称是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T09:49:47.603

一个问题太多了。

1.  特定字段查询：为此，您应该查看 FQL。它返回特定的结果，很像一个 sql 查询。

2.  文档：Facebook 有关于图形和其他有用 API 的优秀文档，请查看 developer.facebook.com。

3.  jar 名称：我无法命名特定的 jar，但您可以找到任何语言的完整 facebook 客户端库。也可在 Java 中使用。

# c# - if else 语句和 while 循环

> ID：11046510
> 
> 赞同：2
> 
> 时间：2012-06-15T07:39:34.913
> 
> 标签：c#, .net, if-statement, c#-3.0, while-loop

请看下面的代码

```
namespace Funny
{
    class QuesionsAndAnswers
    {
        private double firstNumber;
        private double secondNumber;
        private double userAnswer;
        private double computerAnswer;

        private string operators;

        private bool answerCorrect;
        private bool enableDouble;

        private double[] listOfNumbers;
        private string[] listOfOperators;

        private Random randomizer;

        private static QuesionsAndAnswers qa;

        private QuesionsAndAnswers()
        {
            randomizer = new Random();

            listOfNumbers = new double[] { 1,2,3,4,5,6,7,8,9 };
            listOfOperators = new string[] { "+", "-", "*", "/" };
        }

        public static QuesionsAndAnswers getQuesionsandAnswersInstance()
        {
            if (qa == null)
                qa = new QuesionsAndAnswers();
             return qa;
        }

        public string generateQuestions()
        {
            string result = "";

            operators = listOfOperators[randomizer.Next(listOfOperators.Length)];
            firstNumber = listOfNumbers[randomizer.Next(listOfNumbers.Length)];
            secondNumber = listOfNumbers[randomizer.Next(listOfNumbers.Length)];

            if ((operators.Equals("/")) && (enableDouble == false))
            {
                while (firstNumber % secondNumber == 0)
                {
                    firstNumber = listOfNumbers[randomizer.Next(listOfNumbers.Length)];
                }
                result = firstNumber + operators + secondNumber;
            }
            else if (operators.Equals("-") && (firstNumber<secondNumber))
            {
                while (firstNumber > secondNumber)
                {
                    firstNumber = listOfNumbers[randomizer.Next(listOfNumbers.Length)];
                    secondNumber = listOfNumbers[randomizer.Next(listOfNumbers.Length)];
                }
                result = firstNumber + operators + secondNumber;
            }
            return result;
        }

        public void setDoubleAnswers(bool check)
        {
            enableDouble = check;
        }
    }
} 
```

在这里，在 generateQuestions() 方法中，我试图生成一些数学问题。

如果运算符在“-”中并且如果 firstNumber < secondNumber，则应重新生成数字（第一个数字和第二个数字）以确保答案不是负值。

并且，如果运算符是“/”并且布尔值为 false，它应该再次重新生成数字以确保答案（这意味着计算，例如 2/1 = 2）不包含任何浮点（这意味着它不应该产生像 2/3 这样的问题，因为答案包含浮点数）。

在我的尝试中，以上都没有发生。它仍然会产生意想不到的答案，或者有时什么也不会。这是为什么？请帮忙

请注意，我是一名 Java 开发人员，这是我的第一个主要 C# 项目。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-15T07:45:57.953

好吧，它有时什么也不返回，因为除了你正在捕捉的边缘情况之外，你*从来没有*设置`result`过`""`.

而且你的两个`while`陈述都是错误的。它应该是：

```
while ((firstNumber % secondNumber) != 0)
:
while (firstNumber < secondNumber) 
```

但是，为了提高效率，我不会这样做，`while`因为您*可能会*得到长期持有该属性的对。如果数字是错误的方式，只需交换它们。

在极少数情况下，您的号码选择中的余数为零（`9/3`, `8/4`, `8/2`, `6/3`, `6/2`, `4/2`,`M/M`并且`N/1`（我认为）是详尽的列表）。如果您想要一组更扩展的方程式，我会选择另一种方式并选择两个数字来*相乘*，然后将第一个与结果交换。

例如，给定两个数字`a = 3`和`b = 7`，只需执行以下操作：

```
a = a * b; 
```

并且您可以`a = 21, b = 7`保证给出一个积分乘数并提供方程`"21 / 7"`。

* * *

所以这个（伪代码）是我要开始的：

```
# Get the random values.

op = random_from ("+-/*")
n1 = random_from ("123456789")
n2 = random_from ("123456789")

# For subtraction, make sure n1 >= n2.

if op = "-" and n1 < n2:
    tmp = n1;
    n1 = n2;
    n2 = tmp;

# For division, make sure n1 is integral multiplier of n2.

if op = "/":
    n1 = n1 * n2

# Return expression in ALL cases.

return n1 + op + n2 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-15T07:44:29.817

你的`while`陈述中有错误的条件，你应该有完全相反的情况。如果您的条件都不匹配，您也不会为结果赋值，因此`result = firstNumber + operators + secondNumber;`应该将该行移出条件语句（或仅用简单的返回替换）：

```
...
        if ((operators.Equals("/")) && (enableDouble == false))
        {
            while (firstNumber % secondNumber != 0) // <-- change here
            {
                firstNumber = listOfNumbers[randomizer.Next(listOfNumbers.Length)];
            }
        }
        // second condition was repearing while condition and that was redundant.
        else if (operators.Equals("-")) 
        {
            while (firstNumber < secondNumber) // <-- change here
            {
                firstNumber = listOfNumbers[randomizer.Next(listOfNumbers.Length)];
                secondNumber = listOfNumbers[randomizer.Next(listOfNumbers.Length)];
            }
        }
        return firstNumber + operators + secondNumber; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-15T07:45:05.863

```
while (firstNumber % secondNumber == 0) 
```

应该

```
while (firstNumber % secondNumber != 0) 
```

`while`只要您提供的条件是 ，循环就会继续执行`true`。由于您*希望*firstNumber % secondNumber 等于 0；您应该循环并生成新值，只要`firstNumber % secondNumber != 0`.

我相信减法循环也有同样的问题。

最后（与您的问题无关）您可以`==`用来比较 C# 中的字符串。

```
if ((operators == "/") && (enableDouble == false)) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-15T07:49:18.017

在这两种情况下，您的 while 条件都是错误的，您需要将其更改为

```
while (firstNumber % secondNumber != 0) 
```

和

```
while (firstNumber < secondNumber) 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-15T07:57:24.207

这是我从您的问题中理解的解决方案。

```
if ((operators.Equals("/")) && (enableDouble == false))
    {
        while (firstNumber % secondNumber != 0)
        {
            firstNumber = listOfNumbers[randomizer.Next(listOfNumbers.Length)];
        }

        result = firstNumber + operators + secondNumber;

   }
            else if (operators.Equals("-") && (firstNumber<secondNumber))
            {
                while (firstNumber < secondNumber)
                {
                    firstNumber = listOfNumbers[randomizer.Next(listOfNumbers.Length)];
                    secondNumber = listOfNumbers[randomizer.Next(listOfNumbers.Length)];
                }

                result = firstNumber + operators + secondNumber;
            } 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2017-12-13T14:11:07.707

1.  通过制作两个不同的测试项目来实施测试用例
2.  使用包含这些测试用例的 MSVS 单元测试项目报告
3.  报告测试覆盖率在第一种情况下考虑**MCDC**，在第二种情况下考虑整体覆盖率，并评论发现不同覆盖率指标的原因

对于下面的代码

```
 namespace Funny
    {
    class QuesionsAndAnswers
    {
        private double firstNumber;
        private double secondNumber;
        private double userAnswer;
        private double computerAnswer;

        private string operators;

        private bool answerCorrect;
        private bool enableDouble;

        private double[] listOfNumbers;
        private string[] listOfOperators;

        private Random randomizer;

        private static QuesionsAndAnswers qa;

        private QuesionsAndAnswers()
        {
            randomizer = new Random();

            listOfNumbers = new double[] { 1,2,3,4,5,6,7,8,9 };
            listOfOperators = new string[] { "+", "-", "*", "/" };
        }

        public static QuesionsAndAnswers getQuesionsandAnswersInstance()
        {
            if (qa == null)
                qa = new QuesionsAndAnswers();
             return qa;
        }

        public string generateQuestions()
        {
            string result = "";

            operators = listOfOperators[randomizer.Next(listOfOperators.Length)];
            firstNumber = listOfNumbers[randomizer.Next(listOfNumbers.Length)];
            secondNumber = listOfNumbers[randomizer.Next(listOfNumbers.Length)];

            if ((operators.Equals("/")) && (enableDouble == false))
            {
                while (firstNumber % secondNumber == 0)
                {
                    firstNumber = listOfNumbers[randomizer.Next(listOfNumbers.Length)];
                }
                result = firstNumber + operators + secondNumber;
            }
            else if (operators.Equals("-") && (firstNumber<secondNumber))
            {
                while (firstNumber > secondNumber)
                {
                    firstNumber = listOfNumbers[randomizer.Next(listOfNumbers.Length)];
                    secondNumber = listOfNumbers[randomizer.Next(listOfNumbers.Length)];
                }
                result = firstNumber + operators + secondNumber;
            }
            return result;
        }

        public void setDoubleAnswers(bool check)
        {
            enableDouble = check;
        }
    }
    } 
```

# android - 应用程序屏幕上的烟花动画

> ID：11046512
> 
> 赞同：2
> 
> 时间：2012-06-15T07:39:43.813
> 
> 标签：android, android-animation

在动画中，我试图在屏幕上实现烟花动画，也就是 Tango Android 应用程序。如何在屏幕上实现这一点？

1.  我是否必须通过运行具有透明背景的短片烟花来开始透明活动？
2.  还有什么？

我正在添加一些来自 Tango 应用程序的图像，其中烟花在屏幕上动画。

[图像 1 图像](http://i.stack.imgur.com/rblgZ.jpg) [2](http://i.stack.imgur.com/H7pYk.png)

# c - RSA_private_encrypt 总是失败

> ID：11046513
> 
> 赞同：2
> 
> 时间：2012-06-15T07:39:53.400
> 
> 标签：c, openssl, rsa

我正在学习在我的程序中使用 OpenSSL 库。在代码中，我生成了一个私钥，并立即使用该密钥对消息进行加密。但总是失败。请帮助我。

```
private_key = RSA_generate_key(RSA_KEY_LENGTH, RSA_3, NULL, NULL);
if (RSA_check_key(private_key) < 1) {
    printf("generate_key: key generation failed\n");
    exit(-1);
}

unsigned char msg[25];
unsigned char cipher[128];
strcpy((char*)msg, "hello");
int ret = RSA_private_encrypt(25, msg, cipher, private_key,
                              RSA_PKCS1_OAEP_PADDING);
if (ret < 0) {
    printf("encryption in key generation failed\n");
    printf ("%s\n", ERR_error_string (ERR_get_error (), (char *) cipher));
    exit (-1);
} 
```

这总是失败，这是我在使用 ERR_error_string 时遇到的错误。

```
error:04066076:lib(4):func(102):reason(118) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-05-09T14:53:24.777

请参阅文档：

人 RSA_private_encrypt

```
RSA_private_encrypt() signs the flen bytes at from (usually a message digest with an algorithm identifier) using the private key rsa and stores the signature in to. to must point to RSA_size(rsa) bytes of memory.

padding denotes one of the following modes:
RSA_PKCS1_PADDING
PKCS #1 v1.5 padding. This function does not handle the algorithmIdentifier specified in PKCS #1\. When generating or verifying PKCS #1 signatures, RSA_sign(3) and RSA_verify(3) should be used.

RSA_NO_PADDING
Raw RSA signature. This mode should only be used to implement cryptographically sound padding modes in the application code.  Signing user data directly with RSA is insecure. 
```

我不知道你从哪里得到 RSA_PKCS1_OAEP_PADDING，但上面列出了唯一支持的填充。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-05-11T11:03:20.150

> 错误：04066076:lib(4):func(102):reason(118)

您可以使用 OpenSSL`errstr`为您提供有意义的错误消息（在大多数情况下）：

```
$ openssl errstr 0x04066076
error:04066076:rsa routines:RSA_EAY_PRIVATE_ENCRYPT:unknown padding type 
```

即使您将其范围缩小到`RSA_PKCS1_OAEP_PADDING`/ `RSA_PKCS1_PADDING`，您仍应使用`RSA_PKCS1_OAEP_PADDING`RSA 加密。所以你的下一个任务是找出你的代码还有什么问题。

这是一篇很好的博客文章，介绍了为什么应该避免使用 PKCS 1.5 填充 RSA 加密：[加密令牌行业糟糕的几年](http://blog.cryptographyengineering.com/2012/06/bad-couple-of-years-for-cryptographic.html)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T05:19:46.530

我已经找到了这个问题的原因。实际上，填充方法 RSA_PKCS1_OAEP_PADDING 在我的 centos 和 ubuntu 机器上都不适用于我。一旦我将它更改为 RSA_PKCS1_PADDING，它就开始正常工作了。但我不确定为什么会这样。

# sql-server-2008 - 在 SQL 中进行透视

> ID：11046517
> 
> 赞同：0
> 
> 时间：2012-06-15T07:40:07.223
> 
> 标签：sql-server-2008

我有

```
SalesOrderId    Partners    PartnerType
1                   A            1
1                   B            2
2                   X            1
2                   Y            2 
```

我需要

```
SalesOrdeId Reseller    Distrubutor ResellerType    DistributorType
1              A              B           1                2
2              X              Y           1                2 
```

NB~ 经销商类型 = 1，分销商类型 = 2

是否可以使用旋转来实现这一点？

**DDL**

```
declare @t table(SalesOrderId int,Partners Varchar(10),PartnerType int)
Insert into @t values(1,'A',1),(1,'B',2),(2,'X',1),(2,'Y',2)
select *
From @t 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:14:13.400

```
select SalesOrderId,
       max(case PartnerType when 1 then Partners end) as Reseller,
       max(case PartnerType when 2 then Partners end) as Distributor,
       1 as ResellerType,
       2 as DistributorType
from @t
group by SalesOrderId 
```

# oracle - 使用 Oracle Apex 存储日期时间

> ID：11046520
> 
> 赞同：6
> 
> 时间：2012-06-15T07:40:11.637
> 
> 标签：oracle, datetime, oracle11g, oracle-apex

我的 Oracle Apex 申请表中有一个隐藏字段`last_updated_date`。我已设置`SYSDATE`为该字段的默认值。添加数据后，我检查了数据库表，`last_updated_date`列中的数据显示为`15-JUN-12 00:00:00`. 没有节省时间。

如何保存日期和时间？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-15T09:49:42.230

在隐藏项的属性集中：

*   源格式掩码`DD-MON-YYYY HH24:MI:SS`
*   默认值为`TO_CHAR(SYSDATE,'DD-MON-YYYY HH24:MI:SS')`
*   默认值类型为`PL/SQL Expression`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-08T12:44:33.800

在 4.2.6 中不起作用。它仅适用于格式 dd-mon-yyyy 或您的标准数据库格式 (NLS_FORMAT)。您可以做的另一件事是尝试在应用程序级别为您的应用程序设置默认格式。那可能行得通。似乎对于隐藏字段，默认值的格式不会得到尊重，因此您会遇到诸如“ORA-01830：日期格式图片在转换整个输入字符串之前结束”之类的错误

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-10T17:41:06.110

以上答案无效。在 Apex 4.2（或可能更高）中试试这个：

显示为：文本字段（尚未尝试隐藏）
使用的源：“始终，替换会话状态中的任何现有值”
源类型：“数据库列”
源值或表达式：'COLUMN_NAME' 区分大小写
计算后计算：to_char( sysdate,'mm/dd/yyyy hh24:mi') 格式掩码：“mm/dd/yyyy hh24:mi”（无引号）
默认值：sysdate
默认值类型：PL/SQL 表达式

在“进程”中 - 提交后
类型：PL/SQL 匿名块
提交 - 计算和验证
声明后

开始
更新 table_name
设置 column_name = sysdate
where trunc(sysdate) = column_name;

犯罪;

结尾;

# jquery - 隐藏后重新显示时更改div的位置

> ID：11046526
> 
> 赞同：0
> 
> 时间：2012-06-15T07:40:28.453
> 
> 标签：jquery, css

我正在创建一个 Facebook 之类的聊天应用程序。（例如，我正在与 4 个用户聊天）登录用户：我 chattinguser-1:radmin chattinguser-2:admin chattinguser-3:orderingfacility chattinguser-4:Ref.Provider

如果我关闭与 radmin 的聊天，则相邻的聊天 div 将在关闭的 div 旁边移动。

# 问题

用户关闭聊天时不会处理 div。只需隐藏该 div。以便在重新打开之前的对话保留在其中。我的问题是，如果我通过 $(div).show() 方法重新打开关闭的 div，它会在首先创建它的位置打开。我需要在所有 div 出现后重新打开该 div 我附加了一张图片描述以上![在此处输入图像描述](../Images/bac437d81f5e7c899226f1084a47f4da.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:47:23.543

也许您可以使用 jquery 函数分离[http://api.jquery.com/detach/](http://api.jquery.com/detach/)而不仅仅是隐藏它。Detach 将从 DOM 中删除 div，但如果您想重用它，您可以再次重新附加 div 容器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T07:48:57.017

假设 div 共享一个共同的父级，您可以尝试这样的事情：

```
$(div).show().appendTo($(div).parent()); 
```

我在这里包含了一些示例代码：http: [//jsfiddle.net/ujdRF/7/](http://jsfiddle.net/ujdRF/7/)

# uinavigationcontroller - uibarbutton 项目未显示 uibutton

> ID：11046531
> 
> 赞同：0
> 
> 时间：2012-06-15T07:40:42.073
> 
> 标签：uinavigationcontroller, uibutton, uibarbuttonitem, uinavigationitem

我在导航控制器中的 uibutton 和 uibutton 上看到了很多帖子，但我的问题是 uibutton 出现在导航控制器的视图中，这是我的代码

```
showMeButton = [UIButton buttonWithType:UIButtonTypeRoundedRect];
showMeButton.frame = CGRectMake(0, 50, 100, 40);
[showMeButton setTitle:@"User Avtar" 
              forState:UIControlStateNormal];
[showMeButton setTitleColor:[UIColor blackColor] forState:UIControlStateNormal];
self.navigationItem.leftBarButtonItem = [[UIBarButtonItem alloc]initWithCustomView:showMeButton];
[showMeButton addTarget:self action:@selector(showMeButtonClicked:) forControlEvents:UIControlEventTouchUpInside]; 
```

为什么这行代码不起作用`self.navigationItem.leftBarButtonItem = [[UIBarButtonItem alloc]initWithCustomView:showMeButton];`

请帮帮我...提前谢谢:):)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:06:47.110

```
 UIButton *button1 = [UIButton buttonWithType:UIButtonTypeRoundedRect];
    [button1 setFrame:CGRectMake(00,15,50,26)];
    [button1 setTitle:@"User Avtar" forState:UIControlStateNormal];
    button1.autoresizingMask = UIViewAutoresizingFlexibleLeftMargin;
    [self.navigationController.navigationBar addSubview:button1]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-12T09:44:39.780

尝试这个

```
UINavigationBar *navigationBar = [[UINavigationBar alloc] initWithFrame:CGRectMake(0.0, 0.0, 320.0, 44.0)];
UINavigationItem *item = [navigationBar.items lastObject]; 
```

现在将您创建的 barbuttonItem 设置为项目的 rightBarButtonItem，

```
item.rightBarButtonItem = button; 
```

它对我有用。

# c# - 将 MSMQ 与 Jquery 一起使用

> ID：11046532
> 
> 赞同：0
> 
> 时间：2012-06-15T07:40:53.150
> 
> 标签：c#, jquery, asp.net, asmx, msmq

每当使用 ASP.Net、Web 服务、Jquery 和 MSMQ 进行更改时，我想实现某种类似于 Facebook 警报的实时警报。

这是实现这一目标的最佳方式吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:43:19.380

我个人使用长轮询。

但这里是[WebSockets 与服务器发送事件与长轮询的比较](http://dsheiko.com/weblog/websockets-vs-sse-vs-long-polling)的比较。

它使用php，但原理解释得很好。

# c# - 在执行之前更改 javascript

> ID：11046535
> 
> 赞同：0
> 
> 时间：2012-06-15T07:41:13.803
> 
> 标签：c#, javascript, vb.net, firefox

我想打开一个网站，更改其 javascript，然后显示该网站 + 执行我更改的 js。

1）这可能吗？

2）这怎么可能？（VB.net、C#、FF + 插件）

提前谢谢

编辑：为了您更好地理解，我只想为我的浏览器输出更改 js！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:55:29.960

您可以使用[提琴手](http://www.fiddler2.com/fiddler2/)。这个不错的软件充当了一个 http 代理，并提供了一个可以拦截和转换请求和响应的脚本引擎。在您的情况下，您可以动态替换目标 javascript 内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:52:32.080

1）是的，这是可能的。

2) 我不知道如何通过任何列出的方法进行操作，但一种可行的方法是下载网站的 HTML 和 JavaScript，在您的计算机上对其进行修改，设置本地网络服务器以提供修改后的 HTML 和 JavaScript ，并且（可选）更改您的主机文件以指示您尝试欺骗的任何域都位于本地主机。如果您有时还想与远程服务器交互，您可以在您的网络服务器上设置一个程序，通过从远程服务器（通过 IP 地址）请求页面来响应 404。但是，我目前只知道如何在 PHP 中执行此操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T08:01:00.697

您可能想看看[Opera 的用户脚本](http://www.opera.com/docs/userjs/examples/#loadingscripts)。你可以执行类似的东西

```
window.opera.addEventListener("BeforeScript", function onchange(e){
    if(! myURIregexp.test(e.element.src))
        return;
    var script = e.element.text;
    /* do something with the script text, for example replacing */
    ev.element.text = script;
}, false); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-15T08:01:59.917

您可以使用 Fiddler2。[您可以使用 Fidder AutoResponder](http://www.fiddler2.com/Fiddler2/help/AutoResponder.asp)将您想要的任何内容更改为本地文件

# android - Android自定义按钮灵敏度

> ID：11046537
> 
> 赞同：0
> 
> 时间：2012-06-15T07:41:15.210
> 
> 标签：android, android-layout, android-widget, android-ui

我创建了一个这样的自定义按钮：

```
<?xml version="1.0" encoding="utf-8"?>
<selector
    xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:state_focused="false" android:state_pressed="false">        
        <shape>
            <gradient
                android:endColor="@color/title_dark_red" 
                android:startColor="@color/title_red"
                android:angle="270" />
            <stroke
                android:width="1dp"
                android:color="@color/red_stroke" />
            <corners
                android:radius="3dp" />
            <padding
                android:left="10dp"
                android:top="10dp"
                android:right="10dp"
                android:bottom="10dp" />
        </shape>
    </item>

    <item android:state_focused="true" android:state_pressed="true">        
        <shape>
            <gradient
                android:endColor="@color/title_pressed_red" 
                android:startColor="@color/title_pressed_red"
                android:angle="270" />
            <stroke
                android:width="1dp"
                android:color="@color/red_stroke" />
            <corners
                android:radius="3dp" />
            <padding
                android:left="10dp"
                android:top="10dp"
                android:right="10dp"
                android:bottom="10dp" />
        </shape>
    </item>   
    <item android:state_focused="false" android:state_pressed="true">        
        <shape>
            <gradient
                android:endColor="@color/title_pressed_red" 
                android:startColor="@color/title_pressed_red"
                android:angle="270" />
            <stroke
                android:width="1dp"
                android:color="@color/red_stroke" />
            <corners
                android:radius="3dp" />
            <padding
                android:left="10dp"
                android:top="10dp"
                android:right="10dp"
                android:bottom="10dp" />
        </shape>
    </item>
</selector> 
```

问题是按钮的灵敏度很差，不像普通的按钮。屏幕上的按钮并不算小，所以很容易触摸。

可能是什么问题？

PS 我正在使用 Button.OnClickListener() 来设置点击处理程序。

按钮是相对布局结构：

```
android:focusable="true"
android:focusableInTouchMode="true"
android:orientation="vertical"
> 
```

```
 <TextView
        android:id="@+id/titlePlace"
        android:layout_width="wrap_content"
        android:layout_height="40dp"
        android:layout_alignParentTop="true"
        android:layout_centerHorizontal="true"
        android:background="@drawable/expand_bg"
        android:gravity="center_vertical"
        android:text=""
        android:textColor="@color/titletextcolor"
        android:textSize="18sp"
        android:textStyle="bold" />

    <Button
        android:id="@+id/backButton"
        android:layout_width="wrap_content"
        android:layout_height="30dp"
        android:layout_alignBaseline="@+id/showButton"
        android:layout_alignBottom="@+id/showButton"
        android:layout_alignParentLeft="true"
        android:background="@drawable/custom_button_back"
        android:layout_marginLeft="5dip"
        android:paddingBottom="5dp"
        android:paddingTop="5dp"
        android:text="Places"
        android:textColor="@color/white"
        android:textSize="12sp"
        android:textStyle="bold" />

</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:16:52.383

这是一个与硬件相关的问题。软件只接受硬件发送的点击事件并检查它是否在视图的范围内。

其他潜在问题：

*   触摸屏不准确
*   视图被动画化并移动到不同的位置
*   视图太小或手指太大；）

# powershell - 将具有特定模式的所有事件复制到不同文件的列表中

> ID：11046538
> 
> 赞同：1
> 
> 时间：2012-06-15T07:41:15.397
> 
> 标签：powershell

我有一个 json 格式的文件，其中包含许多以*“url”开头的行：“someValue”，*之前有空格，如下所示：

```
 "url": "http://www.mydomain.som/assets/js/lib/less-1.2.1.min.js", 
```

有人可以回答我如何提取所有这些行并将其复制到另一个文件并使用 Powershell 命令按字母顺序对该列表进行排序？我刚刚开始使用 Powershell，不知道如何做到这一点，如果有人能回答这个问题，我将不胜感激。

/基督教

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:48:05.213

不是 Powershell，但可能只需要以下命令。

```
type YourFile | find "url" | sort > YourNewfile 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:50:19.530

```
(Get-Content "c:\MyFilePath.txt") |
    foreach { $_ -match '"url":/s*"http:(.*?)"," } |
    Set-Content "c:\MyFilteredList.txt" 
```

您可能需要调整正则表达式（未经测试）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T09:54:49.800

```
Get-Content .\json.txt | 
Where-Object {$_ -match '"url": "http://www.mydomain.som/.+",'} |
Set-Content .\URLs.txt 
```

# jquery - onclick addClass，如何再次删除类

> ID：11046543
> 
> 赞同：2
> 
> 时间：2012-06-15T07:41:45.333
> 
> 标签：jquery, toggle

我有这段代码来切换侧面板：

```
$(".example_wrapper_panel_link").click(function() { 
$(".example_wrapper").addClass('example_wrapper_active'); 
$(".example_wrapper_panel").animate({width: "toggle"}, 400); 
```

addClass 工作正常，但是现在当我再次单击以隐藏 div 时，我想再次删除添加的类。

似乎找不到这种情况的解决方案。

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-15T07:43:16.160

你应该使用`.toggleClass()`方法。

```
$(".example_wrapper_panel_link").click(function() { 
   // instead of addClass() just use toggleClass()
   $(".example_wrapper").toggleClass('example_wrapper_active'); 
   $(".example_wrapper_panel").animate({width: "toggle"}, 400);
}); 
```

**[`.toggleClass()`](http://api.jquery.com/toggleClass)**如果不存在则将类添加到目标，如果存在则再次删除它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-15T07:44:03.210

`.removeClass()`删除给定的类。

`.toggleClass()`切换给定的类，这意味着如果缺少该类，它将添加该类，否则它将删除它。

因此，您的处理程序可能变得如此简单：

```
$(".example_wrapper").toggleClass('example_wrapper_active'); 
```

[`removeClass()`](http://api.jquery.com/removeClass/)用于和用于的文档[`toggleClass()`](http://api.jquery.com/toggleClass/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-15T07:44:25.253

`.removeClass('class');`应该这样做，[请参阅此处的 jQuery API](http://api.jquery.com/removeClass/)。如果你对交替感兴趣，`.toggleClass('class');`可能更合适。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-15T07:44:28.030

尝试使用 .toggleClass。

```
$(".example_wrapper").toggleClass('example_wrapper_active'); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-15T07:46:52.073

你应该去`.toggleClass()`代替`.addClass()`and `.removeClass()`。

# ruby - 具有“本机”ntlm 代理支持的 Ruby http 客户端

> ID：11046546
> 
> 赞同：2
> 
> 时间：2012-06-15T07:42:08.937
> 
> 标签：ruby, http, ntlm

我正在寻找一个“本机”支持 NTLM 代理身份验证的 ruby​​ HTTP 客户端 gem，而不是通过 cntlm 或类似的本地代理。

任何提示表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T09:25:16.677

一点挖掘出土的台风：

```
require 'typhoeus'
e=Typhoeus::Easy.new
e.url="http://www.google.com/"
e.proxy = {:server => "1.2.3.4:80"}
e.proxy_auth={:username => "user", :password => 'password'}
e.perform 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-25T22:33:54.653

You can do ntlm with Typhoeus and Ethon - depending how many features you need. Typhoeus has more than Ethon, but Ethon is more powerful as it is more low level.

```
require 'ethon'
easy = Ethon::Easy.new(
  url: "http://www.google.com/", 
  proxy: "1.2.3.4:80", 
  proxyuserpwd: "user:password", 
  proxyauth: "ntlm"
)
easy.perform 
```

Typhoeus accepts the same options:

```
require 'typhoeus'
request = Typhoeus::Request.new(
  "http://www.google.com/", 
  proxy: "1.2.3.4:80", 
  proxyuserpwd: "user:password", 
  proxyauth: "ntlm"
)
request.run 
```

I wrote both code examples without testing them b/c I lack a proxy and with the latest Typhoeus/Ethon versions (which you don't have already according to your example).

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-10T14:52:31.180

Typhoeus 似乎已被重新利用。libcurl 包装器现在是 Ethon ( [https://github.com/typhoeus/ethon](https://github.com/typhoeus/ethon) )。

我已经使用另一个 libcurl 包装器 Curb ( [https://github.com/taf2/curb](https://github.com/taf2/curb) ) 成功地通过 NTLM 代理进行了身份验证：

```
require 'spec_helper'
require 'curl'

describe Curl do
  it 'should connect via an ISA proxy' do
    c = Curl::Easy.new('http://example.com/') do |curl|  
      curl.proxy_url = 'http://username:password@localhost:8080'
      curl.proxy_auth_types = Curl::CURLAUTH_NTLM
    end

    c.perform

    headers = c.header_str.split("\r\n")
    #puts headers.inspect

    headers.should include 'X-Powered-By: Phusion Passenger (mod_rails/mod_rack) 3.0.19'
  end

end 
```

根据需要更改您的设置和断言。

# android - 如何包含和使用stariosdk进行android蓝牙打印

> ID：11046547
> 
> 赞同：2
> 
> 时间：2012-06-15T07:42:10.123
> 
> 标签：android, printing, bluetooth, stario-sdk

我在 android 应用程序中，我想使用 stariosdk 从我的应用程序打印收据。

这是明星 SDK 的链接：http: [//www.starmicronics.com/support/SDKDocumentation.aspx](http://www.starmicronics.com/support/SDKDocumentation.aspx)

我正在尝试遵循 sdk 的指南：

所有功能都位于 com.StarMicronics.StarIOSDK 包的 src 文件夹中。

通过选择 StarIOSDKActivity.java 运行程序；此源代码是 POS 和移动打印机的起点。

通过单击其他源文件查看特定功能的工作原理。例如，“code128Activity.java”对应GUI中的一维条码Code128。

请务必注意，并非所有功能都适用于两种打印机类型。每个 SDK 手册的第一页显示了支持的功能。为方便起见，此处再次列出它们：

便携式打印机

• 无现金抽屉支持

• 无切割模式支持

POS 打印机

• 不支持磁条阅读器

此外，包含“Mini”的源文件仅适用于便携式打印机型号。

StarBitmap.java 适用于两种打印机类型。

还有这些：

StarIO.jar 文件是一个库，您可以将其包含到您的 Java 项目中以公开 StarIO 方法。将此库包含到您的项目中：

1.  将 StarIOPort.jar 从 SDK 包中拖入 Project Explorer

2.  右键单击项目文件夹并选择属性

3.  单击 Java 构建路径

4.  单击库和添加 JAR 按钮

5.  在主代码的顶部添加：

    导入 com.starmicronics.stario.StarIOPort；

    进口 com.starmicronics.stario.StarIOPortException;

    导入 com.starmicronics.stario.StarPrinterStatus；

6.  现在您可以访问 StarIO 的所有方法了！

我需要帮助来了解 StarIOPort.jar 和 StarIOSDKActivity.java 之间的区别以及如何使用它。

我只想将 MiniPrinterFunctions.java 用于移动打印机...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T01:37:27.790

StarIOPort.jar 是负责打开/关闭打印机端口、获取状态以及将打印作业发送到打印机的库文件。

StarIOSDKActivity.java 是一个演示打印机功能的示例应用程序。根据您使用的打印机，命令会有所不同。

SDK 应用程序本身有一个用于移动打印机的复选框。只要勾选它，您就可以使用 MiniPrinterFunctions.java 中的功能。如果你不勾选它，你正在使用 PrinterFunctions.java。

如果您只包含移动打印机支持，请使用 MiniPrinterFunctions.java 中的示例代码。

# android - 在android中将日期设置为日期选择器

> ID：11046549
> 
> 赞同：-1
> 
> 时间：2012-06-15T07:42:14.337
> 
> 标签：android, facebook

我已将 Facebook 用户详细信息检索到 android 应用程序，如[如何在 android 应用程序中使用 facebook 登录？](https://stackoverflow.com/questions/9565255/how-to-log-in-using-facebook-in-android-app)“。现在我需要的是，必须将检索到的用户生日设置为我在 android 应用程序中的日期选择器。我在 Google 上搜索了很多。但到处都提到了设置当前日期。我是 android 开发的新手。请帮我解决这个问题。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:54:02.813

[这](https://stackoverflow.com/questions/3299392/date-picker-in-android)是链接。我认为它会对您有所帮助。检索到的日期将在以下链接的日期选择器中设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:48:46.927

看看 init() ；方法 - [http://developer.android.com/reference/android/widget/DatePicker.html#init(int](http://developer.android.com/reference/android/widget/DatePicker.html#init(int) , int, int, android.widget.DatePicker.OnDateChangedListener)

# c# - EventLog - 写入期间的错误

> ID：11046556
> 
> 赞同：1
> 
> 时间：2012-06-15T07:42:52.073
> 
> 标签：c#, event-log

我使用这样的事件日志：

```
if(!EventLog.SourceExists("Service"))
                EventLog.CreateEventSource("Service","Sending notification email error");
                EventLog.WriteEntry("Service",
                                    System.String.Format("Sending notification email error {0} \n {1} \n From {2} \n To {3} ",
                                    Error.Message,Error.StackTrace,From!=null?From.Address:"",
                                    To!=null?string.Join(",",To.ToList()):""),
                                    EventLogEntryType.Warning,2); 
```

我在相同解决方案的两个项目中有该代码。但是当我尝试记录生产信息时 - 一个代码成功记录，当另一个给我错误

> 未找到源，但无法搜索部分或全部事件日志。无法访问的日志：安全性

我找不到其他不工作的区别：/

我确实喜欢这个[博客](http://blogs.msdn.com/b/uksharepoint/archive/2009/10/19/using-custom-event-log-sources-on-least-privilege-sharepoint-servers.aspx)，但我指的是 .net 4.0 文件夹，因为我的应用程序使用 .net4。

任何的想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T07:46:24.600

您必须是管理员才能创建事件日志源。你有正确的权利吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:50:30.433

[MSDN](http://msdn.microsoft.com/en-us/library/2awhba7a.aspx)说该`CreateEventSource`方法可能需要一些时间来创建事件源 - 这就是为什么您应该在安装期间执行此操作，以便给操作系统一些时间来设置事件源。也许这就是你问题的根源。

# magento - Magento 从自定义控制器上的购物车重定向中删除项目

> ID：11046558
> 
> 赞同：0
> 
> 时间：2012-06-15T07:42:59.997
> 
> 标签：magento, module

在自定义控制器上从购物车中移除商品时出现重定向问题。我正在编写一个使用它自己的路线的模块。当我删除产品页面、目录等 magento 页面上的项目时，重定向工作正常，它给了我相同的页面。但是当我删除自定义模块路由上的项目时，它会将我重定向到主页。我在 CartController.php 中找到了重定向功能

```
$this->_redirectReferer(Mage::getUrl('*/*')); 
```

Magentowiki 说 '*' 将使用当前模块、控制器或正在使用的操作。我应该在其他地方注册我的路线（除了我的模块的 config.xml），以便重定向功能可以理解吗？或者也许我必须使用一些事件观察器，检查当前页面是否是我的模块，然后使用我自己的重定向？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T02:24:20.223

尝试这个：

```
$this->getResponse()->setRedirect(Mage::getUrl('*/*/*',array('_current'=>true))); 
```

# css - 滚动条从父 div 底部出来

> ID：11046567
> 
> 赞同：0
> 
> 时间：2012-06-15T07:43:56.503
> 
> 标签：css

当我将 padding:10px 应用于高度为 100% 且父高度为 200px 的子 div 时，当内容超过高度的 200px 时，滚动条底部将向外移动。如果我删除填充它会很好。我们如何在不删除填充和添加 div 的情况下解决问题？

[http://jsfiddle.net/H2d77/](http://jsfiddle.net/H2d77/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T07:50:40.127

给`overflow:auto;`_`.wrapper`

```
.wrapper{height:200px;width:300px; overflow:auto; border:1px solid red;margin:10px}

.innerDiv{height:100%;padding:10px} 
```

演示：http: [//jsfiddle.net/H2d77/4/](http://jsfiddle.net/H2d77/4/)

# android - 移动网页上的多个内容滑块

> ID：11046569
> 
> 赞同：0
> 
> 时间：2012-06-15T07:44:05.660
> 
> 标签：android, iphone, mobile, webpage

我的网站分为许多类别，如旅行、生活方式等。

我想为垂直列出所有类别的网站创建一个移动网页。在每个类别下，都有一个内容滑块来显示最新帖子，这些都是可点击的。

网站将仅适用于 android 和 iPhone 设备。

您可以在这里查看基本 UI：

[http://floost.com/mob/mob1/explore.html](http://floost.com/mob/mob1/explore.html)

关于如何实现这一目标的任何想法？或示例，看看它们是否已经实现？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:57:52.167

@Akshat Goel 不知道您到底在寻找什么，但是如果您想要一个带有幻灯片动画的 div，即在按钮上单击它，它会随着幻灯片动画来来去去

那么您可以使用以下内容

```
$('#YOUR_DIV').show("slow")

$('#YOUR_DIV').hide("slow") 
```

# sqlite - SQLite 从列中提取月份

> ID：11046570
> 
> 赞同：2
> 
> 时间：2012-06-15T07:44:16.877
> 
> 标签：sqlite, date, trim, substr

我有一列具有这种日期格式的数据`mm/dd/yyyy`。我想将此转换`yyyy-mm-dd`为（SQLite 使用）的格式。我怎么能做到这一点？

```
UPDATE Table_Name 
SET Column_Name = 'yyyy-mm-dd' format 
```

我已经尝试过 substr、ltrim、rtrim（这些都不适用于我的情况）。

我的数据是动态的。

**样本**

```
Column_Name
6/1/2004
06/25/2004
7/1/2003
6/1/2004
6/1/2004
09/19/2003
09/30/2003
09/30/2003
09/30/2003
09/30/2003 
```

目标：仅从该列中提取月份（不显示不必要的内容）

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-08-15T08:51:13.733

从日期字段中提取特定日期元素的语法是使用 strftime。 `SELECT strftime('%m', Column_Name) AS month`这是你的第二个问题。为了重构日期数据，您可以使用（至少在 JavaScript 中）substr 来拆分日期，然后根据需要对其进行格式化。另请参阅此帖子：[从 SQLite 中的 DATETIME 获取月份](https://stackoverflow.com/questions/650480/get-month-from-datetime-in-sqlite)

# matlab - matlab确定单元格数组是否为一行

> ID：11046571
> 
> 赞同：1
> 
> 时间：2012-06-15T07:44:18.173
> 
> 标签：matlab, cell-array

我有一个数据：

```
data = 

{1x6 cell}    {1x6 cell} 
```

我想知道 data{2:end} 是否是一行，所以我使用了：

```
stop = 0;
for (k=2:length(data))
    if isrow(data{k})
         stop = 1;
    end
end 
```

但是，函数“isrow”不适用于“cell”类型的参数。

我读过它，并且有一个函数：'cell2struct'：

```
structArray = cell2struct(cellArray, fields, dim); 
```

但我认为我不能使用它，因为我必须为这个函数提供“字段”和“暗淡”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:50:12.403

尝试以另一种方式检查它：

```
 function bIsRow = isrow(x)
      bIsRow = (size(x,2) == numel(x));
  end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T07:55:30.127

我真的不明白这里有什么问题。这是我在 R2010b 上得到的：

```
>> data = {cell(1,6) cell(1,6) cell(3,6)}
data = 
    {1x6 cell}    {1x6 cell}    {3x6 cell}

>> isrow(data{2})
ans =
     1

>> isrow(data{3})
ans =
     0 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T07:51:17.853

尝试

```
if isrow(cell2mat(data{k})) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-08-07T15:48:32.807

您可以使用以下代码`isrow()`

```
function Y = isrow(X)
%
% ISROW    True for row vectors.
%
%   Y = ISROW(X) returns logical 1 if X is a row vector, 0 otherwise.
%   ISROW returns 1 for scalars also.
%
%    See also: ISCOL.
%

if ndims(X)==2 & size(X,1)==1 & size(X,2)>=1
   Y = logical(1);
else
   Y = logical(0);
end 
```

[通过 MATLAB Central 获取源代码](http://www.mathworks.com/matlabcentral/fileexchange/1309-general-extra-toolbox/content/isrow.m)

# javascript - 制作 javascript 警报 Yes/No 而不是 Ok/Cancel

> ID：11046572
> 
> 赞同：38
> 
> 时间：2012-06-15T07:44:19.593
> 
> 标签：javascript

```
function btnSelete_Click() {
    var strconfirm = confirm("Are you sure you want to delete?");
    if (strconfirm == true) {
        return true;
    }
}

<asp:Button ID="btnSelect" runat="server" Text="Select" Onclientclick="return btnSelete_Click();" CssClass="cssbutton" /> 
```

如何在Javascript中创建一个是/否/取消警报框而不是确定/取消警报框？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2015-12-31T10:03:24.540

为了解决类似的情况，我遇到了[这个](http://jsfiddle.net/taditdash/vvjj8/)例子并对其进行了[调整](http://jsfiddle.net/FredWFourie/ocyxhva0/1/)。它使用Nikhil D 建议的[JQUERY UI 对话框。](http://jqueryui.com/dialog/)下面看一下代码：

HTML：

```
<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/themes/smoothness/jquery-ui.css" rel="stylesheet"/>
<input type="button" id="box" value="Confirm the thing?" />
<div id="dialog-confirm"></div> 
```

JavaScript：

```
$('#box').click(function buttonAction() {
  $("#dialog-confirm").html("Do you want to do the thing?");

  // Define the Dialog and its properties.
  $("#dialog-confirm").dialog({
    resizable: false,
    modal: true,
    title: "Do the thing?",
    height: 250,
    width: 400,
    buttons: {
      "Yes": function() {
        $(this).dialog('close');
        alert("Yes, do the thing");
      },
      "No": function() {
        $(this).dialog('close');
        alert("Nope, don't do the thing");
      }
    }
  });
});

$('#box').click(buttonAction); 
```

为了使这个示例适用于我的应用程序，我还需要做一些调整。如果我认为它适合答案，将更新它。希望这可以帮助某人。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-15T07:46:33.007

您不能使用本机执行此操作，`confirm()`因为它是浏览器的方法。

您必须为确认框创建一个插件（或尝试其他人创建的插件）。而且它们通常看起来也更好。

**附加提示**：将您的英语句子更改为类似

> 真的，删除这个东西？

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-06-15T07:49:45.580

您可以使用[jQuery UI 对话框](http://jqueryui.com/demos/dialog/)。

这些库创建的 HTML 元素的外观和行为类似于对话框，允许您在对话框中放置任何您想要的内容（包括表单元素或视频）。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2020-08-20T22:34:54.903

构建了一个微小的、类似确认的 vanilla js 是/否对话框。
[https://www.npmjs.com/package/yesno-dialog](https://www.npmjs.com/package/yesno-dialog)

[![在此处输入图像描述](../Images/15edb90af31a87e71c0efb7f84ef63d6.png)](https://i.stack.imgur.com/93gqM.png)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-12-22T20:15:19.547

我将尝试使用 jQuery 的解决方案，它肯定会给出一个不错的结果。当然，你必须加载 jQuery ...... 弹出这样的东西怎么样？当然，这取决于用户授权弹出窗口。

```
<html>
    <head>
    <script language="javascript">
    var ret;
    function returnfunction()
    {
        alert(ret);
    }
    </script>
</head>
    <body>
        <form>
            <label id="QuestionToAsk" name="QuestionToAsk">Here is talked.</label><br />
            <input type="button" value="Yes" name="yes" onClick="ret=true;returnfunction()" />
            <input type="button" value="No" onClick="ret=false;returnfunction()" />
        </form>
    </body>
</html> 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2018-03-01T13:13:58.573

Javascript 中的“确认”会停止整个过程，直到它的按钮得到鼠标响应。如果这是您正在寻找的，您可以参考 jquery-ui 但如果您在接收响应时没有在您的进程后面运行任何东西并且您以编程方式控制流程，请看一下这个。您必须自己对所有内容进行硬编码，但您可以完全控制自定义。[https://www.w3schools.com/howto/howto_css_modals.asp](https://www.w3schools.com/howto/howto_css_modals.asp)

# regex - 为什么我的正则表达式与我的字符串不匹配？

> ID：11046575
> 
> 赞同：0
> 
> 时间：2012-06-15T07:44:25.083
> 
> 标签：regex, tcl

我想`D11-RONPLAYER_DEF_15_PO`使用这个正则表达式进行匹配：

```
"D\[0-9]+-\[A-Z]*PLAYER_(DEF\[0-9]*)_(\[^_]+)_" 
```

但它不匹配。我怎样才能让它工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T08:10:37.843

这适用于您的示例输入：

```
regexp {D\d+-[A-Z]*PLAYER_(DEF_\d*)_([^_]+)} $str match sub1 sub2 
```

打印匹配组产生：

```
% puts "$sub1\n$sub2"
DEF_15
PO 
```

# python - Python 将二进制数据写入 MIME 信息集

> ID：11046578
> 
> 赞同：2
> 
> 时间：2012-06-15T07:44:46.440
> 
> 标签：python, binary, httplib2

我正在尝试使用 httplib2 发布一个 HTTP 请求，该请求包含一些 xml 和一些使用此信息集的二进制数据：

```
MIME-Version: 1.0
Content-Type: Multipart/Related;boundary=MIME_boundary;
...
--MIME_boundary
Content-Type: application/xop+xml; 

// [the xml string goes here...]

--MIME_boundary
Content-Type: image/png
Content-Transfer-Encoding: binary
Content-ID: <http://example.org/me.png>

// [the binary octets for png goes here...] 
```

我的做法是生成一个txt文件，然后填写xml和二进制数据。

我在将二进制数据写入从 png 读取的文件时遇到问题：

```
pngfile = open(pngfile, "rb")
bindata = pngfile.read() 
```

最好的方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-06T10:38:04.663

我的建议是在[这些示例](http://docs.python.org/library/email-examples.html)中使用 Python 的标准 mime 库。试试这个：

```
from email.mime.image import MIMEImage
from email.mime.base import MIMEBase
from email.mime.multipart import MIMEMultipart

msg = MIMEMultipart()
# Attach XML
xml = MIMEBase('application','xop+xml')
xml.set_payload(<xml data here>)
msg.attach(xml)

# Attach image
img = MIMEImage(<image data here>, _subtype='png')
msg.attach(img)

# Export the infoset
print msg.as_string() 
```

# haskell - seq 函数和严格性

> ID：11046590
> 
> 赞同：45
> 
> 时间：2012-06-15T07:45:36.067
> 
> 标签：haskell, strict

我一直想知道这个很多，但我一直无法找到任何关于它的东西。

使用该`seq`功能时，它是如何*真正*起作用的？到处都只是解释说`seq a b`评估`a`，丢弃结果并返回`b`。

但这究竟*意味着*什么？以下是否会导致严格的评估：

```
foo s t = seq q (bar q t) where
      q = s*t 
```

我的意思是，`q`在使用之前经过严格评估`bar`？并且以下内容是否等效：

```
foo s t = seq (s*t) (bar (s*t) t) 
```

我发现很难获得有关此功能的功能的详细信息。

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2012-06-15T09:27:38.113

你不是一个人。 `seq`由于几个不同的原因，它可能是最难正确使用的 Haskell 函数之一。在您的第一个示例中：

```
foo s t = seq q (bar q t) where
      q = s*t 
```

`q`在被评估之前`bar q t`被评估。如果`bar q t`从不评估，`q`也不会。所以如果你有

```
main = do
    let val = foo 10 20
    return () 
```

因为`val`从未使用过，所以不会被评估。所以`q`也不评价。如果你有

```
main = print (foo 10 20) 
```

的结果`foo 10 20`被评估（由`print`），因此在`foo` `q`的结果之前被评估`bar`。

这也是为什么这不起作用：

```
myseq x = seq x x 
```

从语义上讲，这意味着`x`将在评估第二个之前`x`评估第一个。但如果第二个`x`从未被评估过，那么第一个也不需要。所以`seq x x`完全等价于`x`。

你的第二个例子可能是也可能不是同一件事。在这里，表达式`s*t`将在`bar`的输出之前进行计算，但它可能与`s*t`的第一个参数不同`bar`。如果编译器执行公共子表达式消除，它可能会公共化两个相同的表达式。不过，GHC 对于 CSE 的执行位置可能相当保守，因此您不能依赖这一点。如果我定义`bar q t = q*t`它确实执行 CSE 并`s*t`在 bar 中使用该值之前进行评估。对于更复杂的表达式，它可能不会这样做。

您可能还想知道*严格评估*的含义。 `seq`计算弱头范式 (WHNF) 的第一个参数，这对于数据类型意味着解包最外层的构造函数。考虑一下：

```
baz xs y = seq xs (map (*y) xs) 
```

`xs`必须是一个列表，因为`map`. 当`seq`评估它时，它本质上会将代码转换为

```
case xs of
  [] -> map (*y) xs
  (_:_) -> map (*y) xs 
```

这意味着它将确定列表是否为空，然后返回第二个参数。请注意，*没有评估任何列表值*。所以你可以这样做：

```
Prelude> seq [undefined] 4
4 
```

但不是这个

```
Prelude> seq undefined 5
*** Exception: Prelude.undefined 
```

无论您对`seq`第一个参数使用什么数据类型，对 WHNF 求值都足以找出构造函数，而无需进一步。除非该数据类型具有用 bang 模式标记为严格的组件。然后所有严格的字段也将被评估为 WHNF。

编辑：（感谢丹尼尔瓦格纳在评论中的建议）

对于函数，`seq`将评估表达式，直到函数“显示 lambda”，这意味着它已准备好应用。这里有一些例子可以说明这意味着什么：

```
-- ok, lambda is outermost
Prelude> seq (\x -> undefined) 'a'
'a'

-- not ok.  Because of the inner seq, `undefined` must be evaluated before
-- the lambda is showing
Prelude> seq (seq undefined (\x -> x)) 'b'
*** Exception: Prelude.undefined 
```

如果您将 lambda 绑定视为（内置）数据构造函数，`seq`那么在函数上使用它与在数据上使用它是完全一致的。

此外，“lambda 绑定”包含所有类型的函数定义，无论是由 lambda 表示法定义还是作为普通函数定义。

HaskellWiki 的 seq 页面的[争议](http://www.haskell.org/haskellwiki/Seq)部分有一些关于`seq`函数的一些后果。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-15T12:05:17.880

你可以认为`seq`是：

```
seq a b = case a of
            _ -> b 
```

这将评估`a`为 head-normal form (WHNF)，然后继续评估`b`。

*在 augustss 评论后编辑：*这`case ... of`是[严格的 GHC Core one](http://hackage.haskell.org/trac/ghc/wiki/Commentary/Compiler/CoreSynType)，它总是强制它的论点。

# java - JLine 库回显

> ID：11046593
> 
> 赞同：0
> 
> 时间：2012-06-15T06:26:21.350
> 
> 标签：java, command-line-interface, jline

我使用 JLine 库来处理控制台输入和输出。

```
Terminal terminal = TerminalFactory.getFlavor(TerminalFactory.Flavor.valueOf("UNIX"));
terminal.init();
terminal.setEchoEnabled(true);
ConsoleReader console = new ConsoleReader(System.in,System.out);
int key = console.readCharacter(); 
```

我使用 JLine v2.6。回声不起作用。上面的代码有什么问题？有人可以帮忙吗？

厌倦了搜索 JLine 等其他库。是否有任何其他 Java 库来处理控制台输入？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T19:48:54.373

JLine在您运行它的每个平台上都使用**本机代码。**某些平台上的某些终端没有正确的设置以使其开箱即用。

由于平台上的本机终端，默认行为因平台而异，但一旦正确设置和配置，它就可以很好地工作。您的问题很可能是您的终端仿真设置，与 JLine 无关。

也就是说，我在 OSX ( bash )、Windows 和 RHEL/Centos ( bash ) 上取得了巨大的成功。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-02T20:58:11.200

似乎`ConsoleReader`'s`readCharacter();`没有回声，而是`readLine()`做`readLine(String prompt)`。

查看它显式调用（私有）clearEcho() 的（容易获得的）方法源，`console.readCharacter()`该方法通过向后移动指针来清除回声。

虽然文档有点薄，但由于 jLine 被设计为与 GNU *readLine*和 BSD *editLine*兼容，因此重点似乎是为*行*处理提供控制台支持。

我假设提供了字符处理，但您将负责回显字符。

# java - 在 Timer.Schedule() 中抛出空指针异常；

> ID：11046594
> 
> 赞同：5
> 
> 时间：2012-06-15T07:45:55.723
> 
> 标签：java, android, multithreading, timer, timertask

在下面的代码
**中 t.schedule(timertask, d.getDate(), 1000);** 正在抛出 **NullPointer 异常** 帮助我

**目标：**
我的基本目标是**运行**一个方法（**每次在固定间隔后**），它将一些数据**从我的 android 设备****发送到 web 服务**

 **```
Date d = new Date();
    d.getDate();
    timertask = new TimerTask() {
        @Override
        public void run() {
            new Thread() {

                public void run() {
                    try {
                        ProDialog = ProgressDialog.show(Home.this,
                                "Sending Data",
                                "Please wait while sending data...");
                        Looper.prepare();
                        sendLocation();
                        handler.sendEmptyMessage(0);
                        quit();
                        Looper.loop();
                    } catch (Exception e) {
                        ProDialog.dismiss();
                    }
                }

                public void quit() {
                    ProDialog.dismiss();
                    Looper.myLooper().quit();
                }
            }.start();
        }
    };
try {
    t.schedule(timertask, d.getDate(), 1000);
} catch (Exception e) {
        e.printStackTrace();
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-15T07:53:24.033

你需要初始化你的

> 吨

第一的。

改变

```
try {
        t.schedule(timertask, d.getDate(), 1000);
    } catch (Exception e) {
        e.printStackTrace();
    } 
```

到

```
try 
 {
    Timer t=new Timer();
    t.schedule(timertask, d.getDate(), 1000);
 } 
catch (Exception e) 
 {
   e.printStackTrace();
 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T07:57:40.887

基本上`NullPointerException`抛出所需对象所在的位置`null`。

原因`NullPointerException`

*   调用空对象的实例方法。
*   访问或修改空对象的字段。
*   将 null 的长度视为一个数组。
*   访问或修改 null 的槽，就像它是一个数组一样。
*   把 null 当作一个 Throwable 值来抛出。
*   应用程序应抛出此类的实例以指示空对象的其他非法使用。

在此链接中更详细地解释了[什么是 NullPointerException，我该如何解决？](https://stackoverflow.com/questions/218384/what-is-a-null-pointer-exception)**

# css - 在`上折叠`margin` `标签

> ID：11046596
> 
> 赞同：1
> 
> 时间：2012-06-15T07:46:01.853
> 
> 标签：css

有人能看出为什么`margin-bottom`图例标签上的标签会崩溃吗？谢谢。我通常不会发布像这样愚蠢的 CSS 错误，但这是一个例外：P

[http://jsfiddle.net/pickledegg/XtR53/2/](http://jsfiddle.net/pickledegg/XtR53/2/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-15T08:06:53.310

```
legend+label {
    margin-top:50px;
    -webkit-margin-top-collapse: separate;
} 
```

你需要`margin-bottom`从`legend`.

我认为这是一个已知的 WebKit 错误。

这是一个修改过的小提琴：http: [//jsfiddle.net/yRQDW/1/](http://jsfiddle.net/yRQDW/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:51:28.270

`margin-bottom:50px;`在`legend`CSS 中删除。

# c - 卷曲内存缓冲区大小太小

> ID：11046599
> 
> 赞同：0
> 
> 时间：2012-06-15T07:46:10.657
> 
> 标签：c, curl, libcurl

`libcurl`我正在尝试使用c api从某个基于 web 的 api 获取一些数据。Curl 调用 api 很好。但是，`size_t nmemb`太小而无法容纳响应。不知何故，它在 1280 处被“切断”了。有谁知道如何解决这个问题？也是`size_t size`1..

这些是我使用的功能：

```
int http_call(char *url) {

    CURL *curl;
    FILE *curlfile;
    CURLcode res;

    char outfilename[FILENAME_MAX] = "/usr/local/var/log/ndcurl";
    curl = curl_easy_init();
    if (curl) {

        curlfile = fopen(outfilename,"w");
        curl_easy_setopt(curl, CURLOPT_URL, url);

        curl_easy_setopt(curl, CURLOPT_WRITEFUNCTION, write_release_data);

        curl_easy_setopt(curl, CURLOPT_VERBOSE, 1L);
        curl_easy_setopt(curl, CURLOPT_WRITEDATA, fp);

        res = curl_easy_perform(curl);

        curl_easy_cleanup(curl);
        fclose(curlfile);

    }

    return 0;

} 
```

和回调：

```
static size_t write_release_data(void *buffer, size_t size, size_t nmemb, void *userp) {

    char **response_ptr =  (char**)userp;
    *response_ptr = strndup(buffer, (size_t)(size *nmemb));
    printf("The Response: %s", *response_ptr);

    return 0;

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:04:51.737

您需要修复回调以返回实际写入的字节数。从[文档](http://curl.haxx.se/libcurl/c/curl_easy_setopt.html)

> 将指针传递给与以下原型匹配的函数： `size_t function( char *ptr, size_t size, size_t nmemb, void *userdata);`一旦收到需要保存的数据，libcurl 就会调用此函数。所指向的数据`ptr`大小乘`size`以`nmemb`，不会以零结尾。 **返回实际处理的字节数。**如果该数量与传递给您的函数的数量不同，它将向库发出错误信号。这将中止传输并返回 `CURLE_WRITE_ERROR`。

如果你 return `size * nmemb`，libcurl 应该再次调用你的函数和其余的响应。

# blackberry-webworks - 我想在 webworks 应用程序中使用 BBM 共享链接，他们有什么办法吗？

> ID：11046601
> 
> 赞同：1
> 
> 时间：2012-06-15T07:46:20.683
> 
> 标签：blackberry-webworks

我想在 webworks 应用程序中使用 BBM 共享链接是他们在 os 7 中的任何方式

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T22:41:59.913

是的！您需要使用 BBM 社交平台 API 和 BBM SDK。在这里查看：[https ://developer.blackberry.com/html5/apis/blackberry.bbm.platform.html](https://developer.blackberry.com/html5/apis/blackberry.bbm.platform.html)

# php - PHP函数返回/打印速度

> ID：11046608
> 
> 赞同：0
> 
> 时间：2012-06-15T07:46:45.253
> 
> 标签：php, performance, optimization

我在服务器上有我的应用程序的一部分，它必须尽可能快地返回，现在需要 0.5 秒到 1.8 秒之间，这甚至不是计算的一部分。我的意思是（使用微时间）我已经对进程的每个部分进行了计时，mysql 调用和计算每次花费的时间不到 0.2 秒，但返回和打印会增加额外的秒数。我能做些什么来尽可能快地做到这一点，因为现在这速度慢得让人无法接受？

我可以想到两种可能的事情：数据构建在函数内部，并且返回一个大数组作为值，因此简单地打印而不是返回可能会更快。第二件事是我认为 php 打印缓冲区存在问题。当我将我打印的文本分解成更小的块时，我看到每个块都会立即打印（~0.00002 秒），除了一个会花费大约 0.5-1.5 秒的所有额外时间，我认为打印缓冲区已经填满并且必须做一堆额外的工作。有没有什么办法解决这一问题？

一些细节：正在打印的文本大小约为 150Kb，我没有使用 flush 或 ob_ 函数，但我对它们进行了实验，似乎没有什么不同，而且我没有使用 memcached。我知道 echo 比 print 快，因为它是一个语句而不是函数调用，但这会有多大的不同？由于 print 将返回它打印的文本，因此较大的文本会在打印中花费更长的时间吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T09:49:53.790

> 但是返回和打印会增加额外的第二个

根据评论，这似乎很奇怪。鉴于应用程序的性质，我的想法是：

> 数据构建在函数内部，并返回一个大数组作为值

你为什么要像这样推迟输出？大型数组是 PHP 中的一个大性能问题（NB Dan Lee：数值以及关联）。但关键在于添加元素/引用单个元素 - 移动数组不是问题。

为什么不早点将数据发送到输出缓冲区呢？

> 我认为打印缓冲区已满

似乎不太可能。

> 我不使用 ob_start 和 flush

然后这样做 - 优先使用 gz 处理程序。

# c# - 以另一种格式插入数据库日期

> ID：11046614
> 
> 赞同：0
> 
> 时间：2012-06-15T07:48:00.323
> 
> 标签：c#, asp.net, sql

我有一个gridview 和sqldatasource。

我正在尝试在数据库中插入新记录，并且 Date 列类型是 Date 并且默认格式是 US ， mm/dd/yyyy 并且我正在尝试使用另一种格式插入日期。

```
 SqlDataSource2.InsertCommand = "Insert into test (Name,Date) VALUES (@Name,@CONVERT(Date,'@Date',104))";
        SqlDataSource2.InsertParameters.Add("Name", nameText);
        SqlDataSource2.InsertParameters.Add("Date", DbType.DateTime, date.Text); 
```

我得到：字符串未被识别为有效的日期时间。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-15T07:51:21.883

数据库中格式不可知的日期类型（除非您将其存储为字符串）。

您可以先尝试使用or获取有效`System.DateTime`对象。`DateTime.ParseExact``DateTime.Parse`

然后，使用此值设置 SqlParameter。

```
DateTime dateValue = DateTime.Parse(date.Text); // try to make this working first.
SqlDataSource2.InsertCommand= "Insert into test (Name,Date) VALUES (@Name,@Date)";
    SqlDataSource2.InsertParameters.Add("Name", nameText);
    SqlDataSource2.InsertParameters.Add("Date", DbType.DateTime, dateValue); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-15T07:49:54.100

首先你应该使用`DateTime`object 而不是`Date.Text`，首先将你的文本转换成`DateTime`

其次，如果数据类型是 SQLServer 表中的数据时间，则在插入时不需要格式化日期时间，只需使用。

```
"Insert into test (Name,Date) VALUES (@Name, @Date)"; 
```

您应该在检索数据时格式化日期时间`select`

# c# - 如何获取 XAML 中定义的 CollectionView

> ID：11046618
> 
> 赞同：8
> 
> 时间：2012-06-15T07:48:18.310
> 
> 标签：c#, wpf, xaml, code-behind, collectionviewsource

我想绑定到`ObservableCollection`XAML 中的一个并在那里应用分组。原则上，这工作得很好。

```
<UserControl.Resources>
    <CollectionViewSource x:Key="cvs" Source="{Binding Path=TestTemplates}">
        <CollectionViewSource.SortDescriptions>
            <scm:SortDescription PropertyName="Title"/>
        </CollectionViewSource.SortDescriptions>
        <CollectionViewSource.GroupDescriptions>
            <PropertyGroupDescription PropertyName="TestCategory"/>
        </CollectionViewSource.GroupDescriptions>
    </CollectionViewSource>
</UserControl.Resources> 
```

然后数据绑定表达式变成`ItemsSource="{Binding Source={StaticResource ResourceKey=cvs}}"`了`ItemsSource="{Binding Path=TestTemplates}"`.

起初，一切看起来都很酷，直到我想从视图模型中刷新 UI。问题是，它`CollectionViewSource.GetDefaultView(TestTemplates)`返回的视图与应用分组的 XAML 中的视图不同。因此，我无法设置选择或用它做任何有用的事情。

我可以通过将列表再次直接绑定到视图模型的属性并在代码隐藏中设置分组来修复它。但我对这个解决方案并不满意。

```
private void UserControlLoaded(object sender, RoutedEventArgs e)
{
    IEnumerable source = TemplateList.ItemsSource;
    var cvs = (CollectionView)CollectionViewSource.GetDefaultView(source);
    if (cvs != null)
    {
        cvs.SortDescriptions.Add(new SortDescription("Title", ListSortDirection.Ascending));
        cvs.GroupDescriptions.Add(new PropertyGroupDescription("TestCategory"));
    }
} 
```

[我想， John Skeet 在这里已经给出](https://stackoverflow.com/questions/5489004/ "为什么 CollectionViewSource.GetDefaultView() 从任务线程中返回错误的 CurrentItem？")了原因。

尽管如此，我希望应该有一种方法来获得正确的观点。我错了吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-26T15:15:50.247

你不能那样做吗？

```
var _viewSource = this.FindResource("cvs") as CollectionViewSource; 
```

如果数据已连接，我假设将有一个更新的视图。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-15T08:01:46.687

我倾向于只从 VM 公开集合视图，而不是让视图定义它：

```
public ICollection<Employee> Employees
{
    get { ... }
}

public ICollectionView EmployeesView
{
    get { ... }
} 
```

这样，您的 VM 就可以完全控制向视图公开的内容。例如，它可以更改排序顺序以响应某些用户操作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-27T06:07:33.867

根据[J. Lennon 的](https://stackoverflow.com/users/1128106/j-lennon)回答找到了一种方法。如果我通过我的命令传递了可以访问资源的东西，那么我可以在那里查找`CollectionViewSource`。

在 XAML 中（`CollectionViewResource`如上）：

```
<Button Command="{Binding Command}" CommandParameter="{Binding RelativeSource={RelativeSource Self}}">Do it!</Button> 
```

在虚拟机代码中：

```
private void Execute(object parm)
{
    var fe = (FrameworkElement)parm;
    var cvs = (CollectionViewSource)fe.FindResource("cvs");
    cvs.View.Refresh();
} 
```

这`Execute`是给[RelayCommand](http://msdn.microsoft.com/en-us/magazine/dd419663.aspx)的那个。

这将回答这个问题，但我不太喜欢它。意见？

# java - Hadoop Map Reduce: MapOutputValueClass : Map ?

> ID：11046619
> 
> 赞同：0
> 
> 时间：2012-06-15T07:48:20.447
> 
> 标签：java, performance, hadoop, mapreduce

我有一个 Java MR 程序。我的 Map 方法的输出是各种字符串/数字，我现在将它们放入字符串中。然后在 Reduce 中拆分字符串并使用参数。现在我想知道这是否更容易完成。

我正在考虑一个地图，我将我的字符串/数字存储为值，并带有一个描述每个值的命名键。这个地图将是我的“价值输出”（MapOutputValueClass）。

这可能吗？当我在文档中读到这个时，我想我的想法是不可实现的：

`The key and value classes have to be serializable by the framework and hence need to implement the Writable interface. Additionally, the key classes have to implement the WritableComparable interface to facilitate sorting by the framework.`

那么你会建议我为我的 MapOutputValueClass 选择什么？:-) 也许拿一张地图并将其转换为 ImmutableBytesWritable？我也不想放慢我的程序...

感谢您的回答！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T19:22:21.407

您可以使用各种字符串/数字编写自己的类。例如，将其作为 mapper 的输出值类和 reducer 的输入值类传递。

```
Class Foo{
     String A;
     String B;
     int c, d;

      ....
} 
```

在您的映射器中：

```
public class MyMapper extends Mapper<Text, Text, Text, Foo>{
      ....
} 
```

在你的减速机中：

```
public class MyReducer extends Reducer<Text, Foo, Text, LongWritable>{
       ...
} 
```

在您的驱动程序中：

设置映射器输出值类：

```
job.setMapOutputValueClass(Foo.class); 
```

记住当你`extends` `Mapper`，你需要填写的类是这样的顺序：`<KEYIN_CLASS, VALUEIN_CLASS, KEYOUT_CLASS, VALUEOUT_CLASS>`，同样的事情`Reducer`

# c# - C#中的变体类型

> ID：11046622
> 
> 赞同：8
> 
> 时间：2012-06-15T07:48:30.307
> 
> 标签：c#, types

VBA（我假设是 VB）有一个 Variant 类型，我相信它会占用更多内存，但涵盖了各种数据类型。

c# 中是否有等价物？

在 Windows 窗体中说我有以下内容，我将如何修改 z 的类型以使其运行正常

```
 private void uxConvertButton_Click(object sender, EventArgs e)
    {
        int x = 10;

        byte j = (byte)x;
        upDateRTB(j);

        long q = (long)x;
        upDateRTB(q);

        string m = x.ToString();
        upDateRTB(m);
    }

    void upDateRTB(long z) {
        MessageBox.Show(this,"amount; "+z);
    } 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-15T07:49:50.183

```
void upDateRTB(object z) {
    MessageBox.Show(this, "amount; " + Convert.ToString(z));
} 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-15T07:56:41.327

对象参数将接受所有参数，但如果您想保持变量的强类型（并避免在此过程中装箱），您可以使用泛型：

```
void upDateRTB<T>(T z) {
    MessageBox.Show(this,"amount; "+ Convert.ToString(z)); 
} 
```

方法调用可以保持完全相同，因为编译器可以根据给定参数解析泛型类型。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-06-15T07:51:33.067

如果您在谈论c# 中的*“变体”*类型，请查看`dynamic`.net 4.0 中的类型

`z.ToString()`但是为了解决你的任务，在你的使用中就足够了`MessageBox.Show`

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-06-15T07:51:17.207

动态关键字或对象类型可以为您提供所需的变体行为，但是：

在这种情况下，我会将函数更改为：

```
void upDateRTB(string z) {
    MessageBox.Show(this,"amount; " + z);
} 
```

因为这就是方法所需要的全部。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-06-15T07:52:22.990

`"amount; "+z`隐式调用 上的 ToString 方法`z`。所以你可以使用类型`object`：

```
void upDateRTB(object z) {
    MessageBox.Show(this,"amount; "+z);
} 
```

您也可以使用动态，但我不明白这一点：

```
void upDateRTB(dynamic z) {
    MessageBox.Show(this,"amount; "+z);
} 
```

# javascript - 跨浏览器：如何根据视口高度调整元素的垂直位置？

> ID：11046625
> 
> 赞同：0
> 
> 时间：2012-06-15T07:48:52.900
> 
> 标签：javascript, jquery, alignment

我有一堆我想要垂直居中的图标。这当然会有所不同，具体取决于屏幕分辨率等。我目前所做的是获得父 DIV 的高度，其大小为视口的 100%：

```
 var pageHeight = $('#sidebar').height(); 
```

然后，我得到图标容器的高度，因为这在 CSS 中没有预先确定：

```
 var socialDockHeight = (document.getElementById('social_dock_container').offsetHeight * numberOfIcons); 
```

注意：这仅检索一个图标的高度，出于某种原因，可能是因为它们被编码在一个数组中？然后我计算新位置，并通过 jQuery 将其分配给元素：

```
 var y = (pageHeight / 2) - (socialDockHeight / 2);
    $("#social_dock_container").css({ 
            top: y + "px"
    }).show(); 
```

这适用于 Chrome，但不适用于 IE、FF 或 Safari。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:55:50.383

您想让您的图标始终位于屏幕中间吗？如果您的图标不是那么大，为什么不这样做：

```
#social_dock_container
{
    position: absolute;
    top: 50%;
} 
```

**编辑**

正如 Zee Tee 提到的，您当然需要设置 margin-top 如下：

```
$("#social_dock_container").css('margin-top', '-' + socialDockHeight / 2 + 'px' ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:58:21.870

如果您不打算使用`$(window).height()`，请使用`$('#sidebar').outerHeight();`，因此您可以获得所有其他好东西，例如元素上的填充和边距。

也不要忘记用户何时调整其窗口大小。为此使用`.resize();`。

# asp.net - 超链接的 NavigateUrl 属性

> ID：11046627
> 
> 赞同：1
> 
> 时间：2012-06-15T07:49:00.307
> 
> 标签：asp.net, visual-studio-2008

请告知如何使 NavigateUrl 在 ASP.NET 中以当前 URL 开头。

当前 URL 类似于：

```
http://localhost:145/Catalog.aspx?FID=2 
```

我试过“~/”但它只显示这个：`http://localhost:145/`

```
NavigateUrl='<%# String.Format("~/") %>' 
```

有没有办法`Request.QueryString["FID"]`像我们在代码隐藏文件中那样使用这里？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T07:52:18.013

```
NavigateUrl='<%# Request.RawUrl %>' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T07:59:34.427

```
'<%# Request.Url.AbsoluteUri %>' 
```

如果你想看看你还能从 Request.Url 对象中得到什么：

1.  在 Page_Load 中放置一个断点
2.  用 VS 调试
3.  在立即窗口中键入 Request.Url

# c# - 将 C++ i_pwCalculateCRC16 移植到 C#

> ID：11046638
> 
> 赞同：0
> 
> 时间：2012-06-15T07:50:01.570
> 
> 标签：c#, c++

如何正确地将以下 C++ 转换为 C#？

```
//--------------------------------------------------------------------
// Calculate a 16-bit Cycle Redundency Check (CRC) value on a block of //data.
//
// Params:
// pData : Pointer to data to calculate CRC.
// dwSize : Size of data in bytes.
//
// Return:
// 16-bit CRC value.
//
// Notes:
//--------------------------------------------------------------------
private WORD i_pwCalculateCRC16Continuation(PBYTE pData, WORD dwSize, WORD wCRC)
{
    // high byte of CRC initialized
    BYTE cCRCHi = (BYTE) ((wCRC >> 8) & 0xFF);
    // low byte of CRC initialized
    BYTE cCRCLo = (BYTE) (wCRC & 0xFF);
    // will index into CRC lookup table
    BYTE cIndex;    
    while (dwSize--) // step through each byte of data
    {
        cIndex = cCRCHi ^ *pData++; // calculate the CRC
        cCRCHi = cCRCLo ^ m_cCRCHiArray[cIndex];
        cCRCLo = m_cCRCLoArray[cIndex];
    }
    return (cCRCHi << 8) + cCRCLo;
} 
```

我找到了一个转换它的工具，但它并不完美，而且它不理解上下文。

```
private ushort i_pwCalculateCRC16Continuation(ref byte pData, ushort dwSize, ushort wCRC)
{
    byte cCRCHi = (byte) ((wCRC >> 8) & 0xFF);
    byte cCRCLo = (byte) (wCRC & 0xFF);
    byte cIndex;

    while (dwSize-- > 0)
    {
        // Cannot convert source type 'int' to target type 'byte'
        cIndex = cCRCHi ^ pData++;
        // Cannot apply indexing to an expression of type 'byte'
        cCRCHi = cCRCLo ^ m_cCRCHiArray[cIndex];
        // Cannot apply indexing to an expression of type 'byte'
        cCRCLo = m_cCRCLoArray[cIndex];
    }
    // Cannot convert expression type 'int' to return type 'ushort'
    return (cCRCHi << 8) + cCRCLo;
} 
```

CRC 的概念和按位运算对我来说有点陌生，我不太了解上面的代码。因此，我不知道如何“修复”它。

谢谢

**编辑：** 错过了以下变量。

```
private static byte[] m_cCRCHiArray = {
    0x00, 0xC1, 0x81, 0x40, 0x01, 0xC0, 0x80, 0x41,  0x81, 0x40
};

private static byte[] m_cCRCLoArray = {
    0x00, 0xC0, 0xC1, 0x01, 0xC3, 0x03, 0x02, 0xC2, 0x80, 0x40
}; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:33:46.343

试试这个：

```
private static byte[] m_cCRCHiArray = { 
    0x00, 0xC1, 0x81, 0x40, 0x01, 0xC0, 0x80, 0x41,  0x81, 0x40 
};

private static byte[] m_cCRCLoArray = { 
    0x00, 0xC0, 0xC1, 0x01, 0xC3, 0x03, 0x02, 0xC2, 0x80, 0x40 
};

private ushort i_pwCalculateCRC16Continuation(byte[] data, ushort wCRC)
{
    byte cCRCHi = (byte)((wCRC >> 8) & 0xFF);
    byte cCRCLo = (byte)(wCRC & 0xFF);

    byte cIndex;

    for (int i=0; i < data.Length; i++)
    {
        cIndex = (byte)(cCRCHi ^ data[i]);
        cCRCHi = (byte)(cCRCLo ^ m_cCRCHiArray[cIndex]);
        cCRCLo = m_cCRCLoArray[cIndex];
    }

    return (byte)((cCRCHi << 8) + cCRCLo);
} 
```

乍一看，这显然不是错误的;-)

我没有更改任何匈牙利符号，除了更改`pData`为`data`

# mysql - 在 MySQL DB 中再次创建存储过程

> ID：11046643
> 
> 赞同：1
> 
> 时间：2012-06-15T07:50:23.353
> 
> 标签：mysql, stored-procedures

我在 MySQL 数据库中创建了一个存储过程“myProc”。然后我放弃了这个程序。我想再次创建一个与之前同名的过程。我再次创建该过程并将其命名为“myProc”。

```
CALL myProc(); 
```

但是，当我执行这个过程时，它是一个这样的错误`"PROCEDURE myProc does not exit"`。代码也与前一个相同。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T09:28:36.350

> 无法在 MySQL 中调用存储过程

您已在 MySQL 5 中创建了一个过程。您已将 EXECUTE 权限授予应用程序的用户帐户。但是，当您的应用程序准备一条语句来调用该过程时，就会引发异常。也许它是ConnectorJ 深处的NullPointerException。也许例外声称该程序不存在。或者，也许您已经足够幸运地获得了引导您走上正确道路的异常（驱动程序需要声明过程以包含 ''\nbegin'' 或 ''\n'' 以遵循参数声明，或 SELECT 特权在 mysql.proc 上解析列类型）。以下是我从数小时搜索 MySQL 论坛中收集到的故障排除步骤。

首先，打开两个控制台窗口。一方面，以应用程序用户身份登录 MySQL。另一方面，以 root 身份登录。在您的应用程序窗口中，列出数据库。

```
SHOW DATABASES; 
```

如果您的应用程序的数据库没有出现，那么您应该转到您的根窗口并授予数据库权限。

```
USE mydatabase;
GRANT ALL ON mydatabase TO appuser; 
```

现在回到应用程序窗口。再次列出数据库以确保它出现。既然如此，那就进去吧。

```
USE mydatabase; 
```

进入后，尝试查看程序。

```
SHOW CREATE PROCEDURE myproc /G 
```

三件事中的一件将会发生。如果您收到一条消息说“PROCEDURE myproc 不存在”，则应用用户没有权限。返回根窗口并授予它们。

```
GRANT EXECUTE ON PROCEDURE myproc TO appuser; 
```

可能发生的第二件事是程序将被找到，但主体不会被列出。相反，它会说“创建过程：NULL”。如果是这样，请返回根窗口并处理它。

```
GRANT SELECT ON mysql.proc TO appuser; 
```

可能发生的第三件事是你想要发生的事情；程序的主体将被列出。现在您应该能够从您的应用程序中调用该过程。

> 警告

您可能想采取一些捷径来解决此类问题。请不要。捷径可能会导致更大的问题。

您可能会尝试的第一件事是在您的应用程序中使用 root 帐户。这是极其危险的。安全性是分层的。虽然您应该使用存储过程和准备好的语句来避免 SQL 注入攻击，但您还应该应用最小特权原则，以防万一它们发生。允许您的应用程序以 root 身份连接，攻击者可以访问您最宝贵的资源：您的数据。但是为应用程序的每个部分提供一个单独的帐户，该帐户仅具有它所需的特权来隔离坏人。

经过数小时的研究后，您可能会尝试的第二件事是在 ConnectorJ 连接字符串中设置“noAccessToProcedureBodies”标志。请避免使用此标志，因为它会绕过 JDBC 驱动程序为您提供的参数类型检查。此标志使 ConnectorJ 将所有参数转换为字符串，然后 MySQL 将其转换回所需的类型。

但是通过逐步解决问题，这些捷径应该是不必要的。

> 参考

[http://adventuresinsoftware.com/blog/?p=74](http://adventuresinsoftware.com/blog/?p=74)

# c++ - 应该如何设置一个 char* 类的成员？使用 strcat 或其他东西？

> ID：11046646
> 
> 赞同：0
> 
> 时间：2012-06-15T07:50:33.397
> 
> 标签：c++, string

我有一个非常简单的类，有一些 char* 成员。设置它们的值的最佳方法是 strcat 吗？

```
class CImage {
public:
    CImage() {};

    char* Name;
};

void AddImage(const char* Name)
{
    CImage* img = new CImage();

    strcpy(img->Name, Name); // Is this correct or the best way?
} 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-15T07:52:45.157

强烈建议你放弃`char *`并使用`std::string`.

作为`char *`成员，您需要自己为指针分配（*在构造函数中*）和释放内存（*在析构函数中）。*此外，您需要管理异常并在每次访问时手动管理底层数据。
此外，您还必须确保您的班级 遵循**[三原则。](https://stackoverflow.com/questions/4172722/what-is-the-rule-of-three)**

简而言之，有太多地方可以很容易地射中自己的脚（或头），所以最安全和最好的方法是使用`std::string`会员并为自己省去所有麻烦。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-15T07:53:23.260

您必须首先动态分配足够的内存来存储这样的字符串

```
img->Name = new char[strlen(Name) + 1];
strcpy(img->Name, Name); 
```

如果你这样做，你应该使用释放内存`delete[]`

此外，您应该考虑在构造函数中封装您的字符串及其初始化。

然而，存储字符串的最佳方式是`std::string`

# php - Zend 框架 Firebird 示例

> ID：11046649
> 
> 赞同：2
> 
> 时间：2012-06-15T07:50:49.620
> 
> 标签：php, zend-framework, firebird

我是 Zend 的新手。我正在使用 Zend 1.11 并尝试成功连接到 Firebird 数据库。据我所知，我启用了所有 php_interbase 的东西。我看到 ZendX firebird 适配器，但我仍然收到此消息

> 警告：include_once(Zend\Db\Adapter\Php\Firebird.php) [function.include-once]：无法打开流：C:\wamp\bin\php\Zend_Framework\library\Zend\ 中没有这样的文件或目录第 146 行的 Loader.php

好像它不知道我在说什么适配器。

我在我的引导带中使用它

```
 protected function _initDb()
{
    $this->bootstrap('config');
    $config = $this->getResource('config');

    $db = Zend_Db::factory('Php_Firebird', array(
        'host'     => $config->Database->Server,
        'username' => $config->Database->Username,
        'password' => $config->Database->Password,
        'dbname'   => $config->Database->DBName
    ));

    return $db;
} 
```

我假设这与这是 ZendX 的东西而不是 Zend\db 的东西有关，但我找不到它的例子。或者从使用 ZendX 适配器的工厂函数。我尝试使用“Php_Interbase”，但也没有找到（而且我在文件夹中也看不到它）。而且我也尝试了 Pdo_Firebird ，这当然没有用。

有没有人这样做可以指出我做错了什么？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-15T11:27:09.947

您只需要添加`adapterNamespace`到您传递给工厂的配置数组。[请参阅此处的第三个示例](http://framework.zend.com/manual/en/zend.db.adapter.html#zend.db.adapter.connecting.factory)，也`'PHP_'`从适配器名称中删除，因此您对工厂的调用应如下所示：-

```
$db = Zend_Db::factory('Firebird', array(
        'host' => $config->Database->Server,
        'username' => $config->Database->Username,
        'password' => $config->Database->Password,
        'dbname' => $config->Database->DBName,
        'adapterNamespace' => 'ZendX_Db_Adapter'
    )); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T09:41:32.020

尝试类似的东西

```
$db = new ZendX_Db_Adapter_Firebird(array(
    //config part
)); 
```

# distance - A* 曼哈顿距离

> ID：11046651
> 
> 赞同：6
> 
> 时间：2012-06-15T07:51:07.267
> 
> 标签：distance, path-finding, shortest-path, a-star, heuristics

我搜索了 A* 的算法/伪代码，我按照它进行了编码。我使用曼哈顿距离作为 h(n)。( f(n) = g(n) + h(n) ) 这就是结果，

![](../Images/947f59bc64defb9b6c959d47a2a58a65.png)

当没有墙壁挡路时，总是会发生这种情况，但是当我放置很多墙壁时，它似乎走的是最短路径。这是最短路径吗？我的意思是为什么它不像下面这个？ ![](../Images/d19da2167a6a527874a52eb80b9433aa.png)

这个也是 A* 曼哈顿，它们的尺寸相同（19x19）。这是来自[http://qiao.github.com/PathFinding.js/visual/](http://qiao.github.com/PathFinding.js/visual/)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-15T07:57:29.140

两条路径具有相同的曼哈顿距离。因此，选择哪条路径取决于实现。要说明为什么选择这个特定部分，我们必须查看这个特定 A* 实现的代码。

提示：从源到目标单元的每条路径仅使用[冯诺依曼邻域](http://en.wikipedia.org/wiki/Von_Neumann_neighborhood "冯诺依曼街区")（即不沿对角线行走）并且不向“错误”方向迈出一步（即，在您的示例中从不向上或离开）同样的曼哈顿距离。所以，如果你在纽约，无论你走哪个十字路口到达曼哈顿的某个地方：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T08:05:03.303

With the manhattan distance the first one is a shortest path. It simply counts the number of horizontal and vertical steps taken. If you want something that looks more like a shortest path in the euclidian distance you can try changing your algorithm so that when it has the choice to move horizontally or vertically at one point it chooses the horizontal one if the horizontal distance is bigger than the vertical one and vice versa.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-17T16:03:26.687

您需要从起点到每个点（曼哈顿/A* 结果）投射一条视线（毕达哥拉斯/欧几里得），直到完成。如果将一条线投射到某个点被障碍物阻挡/隐藏，则使用前一个投射点并从该阻挡点开始投射另一条线，然后向前直到完成。阻塞点是指点被线段/线的初始点的视线隐藏。所以它就像：

第一行：开始--------->S+N(阻塞点前)

第二条/中线/s：阻塞点---------->S+N（在另一个阻塞点之前）再次重复（新线/段），直到它建立到目标的视线。

最后一行：Blocked Point------------->Goal

连接所有线路，您将获得更短的最短路径。您可以再次执行，但反向执行以增加另一个准确性，因此视线将从目标开始直到开始。

# templates - 在 Play 中渲染 JSON 模板时检查数据是否存在！框架/Groovy？

> ID：11046652
> 
> 赞同：0
> 
> 时间：2012-06-15T07:51:10.260
> 
> 标签：templates, groovy, playframework

我将一个大的 JSON 作为输入，并呈现一个较小的 JSON 输出。问题是 JSON 输入不一致，有时会丢失某些字段。

现在我必须检查 null 和空列表以避免渲染过程中的错误，并且检查变得重复且冗长：

```
#{if _.metadata && _.metadata.genres && _.metadata.genres.size() > 0}
 "genre": ${_.metadata.genres.get(0)},
#{/if} 
```

有没有更聪明的方法来检查一个项目是否存在？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T08:21:26.123

```
"genre": ${_?.metadata?.genres?.get(0)}, 
```

# css - jQuery Mobile - 更大的标题按钮

> ID：11046653
> 
> 赞同：3
> 
> 时间：2012-06-15T07:51:10.517
> 
> 标签：css, jquery-mobile

我正在将 jQuery Mobile 用于 iPhone 应用程序。我不太喜欢页眉中按钮的大小/形状。我认为它们太小而且太圆。我只在按钮上使用了一个图标，它们很小，很难在设备上点击。我想要更多方形和更大的按钮，比如 Facebook 应用程序中的按钮。有没有办法通过css来归档这个？如果是这样，我该怎么做？顺便说一句，我不想​​更改所有按钮，只是标题按钮！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-15T11:40:07.923

只需指定 JQM 提供的按钮属性，您就可以拥有方形按钮。

```
<a data-icon="arrow-l" data-inline="true" data-iconpos="notext" data-corners="false">A Button</a> 
```

用于增加尺寸；您需要覆盖以下样式：

```
.ui-header .ui-btn, .ui-header .ui-icon, .ui-header .ui-btn-inner {
    width: 45px;
    height: 45px;
}
.ui-header .ui-btn-inner .ui-icon{
    margin: 0px;
    border-radius: 0;
}
.ui-header {
    height: 60px;
}
​ 
```

检查这个：http: [//jsfiddle.net/nirmaljpatel/qU5q4/](http://jsfiddle.net/nirmaljpatel/qU5q4/)

请注意，`top`一旦您增加标题的高度，您必须自己通过指定它们的位置来将其余的东西放在标题中。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-15T07:54:12.150

试试这个。它只会改变标题中的按钮给定标题ID是标题

```
#header button{height:50px;width:200px;} 
```

# c# - 使用 StreamSocket 升级到 SSL

> ID：11046655
> 
> 赞同：1
> 
> 时间：2012-06-15T07:51:12.430
> 
> 标签：c#, ssl, xmpp, windows-runtime, microsoft-metro

我正在开发 WinRT（Windows8 Release Preview）。我有一个 Web 应用程序（实际上是一个更简单的 XMPP 客户端）。

我主要使用 StreamSocket 类来连接 Jabber Server。它给了我一个好的开始。但是当我尝试升级已经连接的套接字以使用 SSL 时遇到了一个问题。

我使用[StreamSocket.UpgradeToSslAsync](http://msdn.microsoft.com/query/dev11.query?appId=Dev11IDEF1&l=EN-US&k=k%28Windows.Networking.Sockets.StreamSocket.UpgradeToSslAsync%29;k%28TargetFrameworkMoniker-.NETCore,Version%3Dv4.5%29;k%28DevLang-csharp%29&rd=true)来实现它。它抛出这样的异常

> 在意外的时间调用了一个方法。（来自 HRESULT 的异常：0x8000000E）

我不知道为什么会这样。我已经完成了上面链接的所有事情。我已经创建成功连接的套接字。我可以从 Jabber 服务器接收一些 xml 节。这是运行时的图片。！[在此处输入图片描述][1]

[您可以在新选项卡](http://i.stack.imgur.com/dofSC.jpg)中看到图片。

当我单击 UpToSSL 按钮时，它会崩溃并抛出上述异常。

这是更简单的版本代码：

```
 // xmpp is my  CXMPP  client class
 private void StartTlsBtn_Click(object sender, RoutedEventArgs e)
 {
   xmpp.SendXml("<starttls xmlns='urn:ietf:params:xml:ns:xmpp-tls' />");            
 } 
 // it works fine, and i have got the reponse from server:
 //     <proceed xmlns='urn:ietf:params:xml:ns:xmpp-tls'/>
 // next step i should upgrade my sockey connection to ssl

    private void UpSslBtn_Click(object sender, RoutedEventArgs e)
    {
      xmpp.UpToSsl();         
    }

    async public void UpToSsl()
    {
        SendEvent.WaitOne();
        SendEvent.Reset();

        // private StreamSocket ClientSock;
        await ClientSock.UpgradeToSslAsync(SocketProtectionLevel.Ssl, ClientSock.Information.RemoteHostName);
        isSsl = true;
        SendEvent.Set();
    } 
```

请给我一些提示。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-17T17:46:09.623

我也在为 Metro 开发 XMPP 应用程序，服务器连接和协议解析器已准备好。

我正在使用三个 ManualResetEvents，因此 Send、Receive 和 Elevate 不会发生冲突。还要小心，因为 UpgradeToSslAsync 不接受自签名证书，在这种情况下会抛出异常。

我真的很想进一步帮助你，但我试着用这个来资助自己，XMPP 库将在应用程序在商店发布后发布

# javascript - 单击内部锚点/哈希时自动更新 javascript 元素

> ID：11046663
> 
> 赞同：1
> 
> 时间：2012-06-15T07:51:38.913
> 
> 标签：javascript, anchor

我想在`id="demo"`单击链接时显示更新的锚点/哈希。文档的布局如下。

```
<html>
<head>

<script type="text/javascript">
function myfunction()
{
document.getElementById("demo").innerHTML=location.hash;
}
</script>

</head>
<body>

<h1>Javascript</h1>
<p id="demo">This is a paragraph.</p>

<a href="#example" onclick="myfunction()">here</a>
</body>
</html> 
```

唯一的问题是，当点击链接时，javascript 不会获得更新的锚/哈希，直到第二次按下链接。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T07:57:58.587

这是因为此时位置没有改变。这是您可以使用的一种方法：

```
function myfunction() {
    // Sets the event handler once you click, so it will execute when
    // the hash will change.
    window.onhashchange = function() {
        document.getElementById("demo").innerHTML=location.hash;
    };
} 
```

一种现代方式是：

```
var hashchange;
function myfunction() {
    if ( !hashchange ) {
        hashchange = addEventListener( 'change', function() {
            document.getElementById("demo").textContent = location.hash;

            // If you want to remove the event listener right after,
            // you can do this:
            removeEventListener( hashchange );
        }, false );
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T07:57:43.440

试试这个 JQuery 插件来检测哈希变化：

[http://benalman.com/code/projects/jquery-hashchange/examples/hashchange/](http://benalman.com/code/projects/jquery-hashchange/examples/hashchange/)

它是开源的，所以请查看[代码](https://github.com/cowboy/jquery-hashchange/)，它非常复杂——300 多行（带注释，但仍然如此）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T07:58:03.267

尝试这个：

```
function myfunction() {
  setTimeout(function() {
    document.getElementById("demo").innerHTML=location.hash;
  }, 1);
} 
```

因为当您单击链接时，哈希仍然是您以前的哈希，因此您需要延迟。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-15T07:56:21.197

这是因为“位置”指的是页面内的锚点。

第一次点击，你在页面内没有位置，但是锚点会带你到#example，但这一切都是在onclick完成它的业务之后发生的。第二次点击我们有一个#example的位置。

请参阅[此处的 W3 Schools 文档](http://www.w3schools.com/jsref/prop_loc_hash.asp)。

onclick 事件在锚有机会完成其工作之前被触发。这对于能够取消事件的传播并防止重定向等至关重要，但遗憾的是会弄乱您的代码。

# silverlight - Windows Phone 7 ProgressBar 不完整部分的颜色

> ID：11046667
> 
> 赞同：1
> 
> 时间：2012-06-15T07:51:52.117
> 
> 标签：silverlight, windows-phone-7, progress-bar

我正在使用确定的 ProgressBar 控件来指示 ListView 中块的完整性（例如，与最大值相比，在一个级别中得分的点数。

我可以更改进度条的 Foreground 属性以更改进度条“已完成”部分的颜色，但我不能更改进度条不完整部分的颜色。

例如，如果 Value 是 5，Maximum 是 20，Width 是 100 px，那么从 0 到 25 的线的颜色是红色，而从 25 到 100 的线的颜色是我想要改变的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T08:16:20.243

您可以通过设置 ProgressBar 控件的 Background 属性来稍微检查颜色。如果您这样做，您将看到不完整部分的颜色是您定义的颜色的阴影，因为在不完整部分上设置了一些不透明度。如果您想要纯色而不是设置不透明度的颜色，那么您将不得不考虑改变控件本身的样式。

如果您在 Expression Blend 中打开页面，然后右键单击 ProgressBar 控件并选择编辑模板 > 编辑副本...，则将创建一个新样式。您要编辑的样式部分如下：-

```
<Rectangle x:Name="ProgressBarTrack" Fill="{TemplateBinding Background}" Height="4" Opacity="0.1"/> 
```

如果您更改不透明度值或将其全部删除，则允许使用纯色。

# java - Twitter4j，我如何注销？

> ID：11046669
> 
> 赞同：2
> 
> 时间：2012-06-15T07:52:18.917
> 
> 标签：java, android, twitter, logout, twitter4j

我可以用这个推特登录和发帖，但我不知道如何注销。

我只是假装我已经通过添加退出

```
CookieManager cookieManager = CookieManager.getInstance();
    cookieManager.removeSessionCookie();

private boolean mCanTweet = false; 
```

我尝试使用教程中的这个 url 注销，但它不起作用。

```
public static final String TWITTER_LOGOUT_URL = "https://api.twitter.com/logout"; 
```

有谁知道如何使用 Twitter4j 进行“实际”注销？

这是我的项目

[http://dl.dropbox.com/u/12439052/stackoverflow/TwitterCon2.zip](http://dl.dropbox.com/u/12439052/stackoverflow/TwitterCon2.zip)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-05T12:32:11.590

我的 twitter4j 项目也遇到了同样的问题。我通过使用此代码解决了这个问题

```
CookieSyncManager.createInstance(this);
CookieManager cookieManager = CookieManager.getInstance();
cookieManager.removeSessionCookie();

mTwitter.setOAuthAccessToken(null);
mTwitter.shutdown(); 
```

在注销方法中，在重新加载身份验证活动之前。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-06T12:14:02.320

来自 Twitter4J 的作者 Yusuke Yamamoto：*“Twitter4J 由 API 使用 Basic auth 标头以无状态方式进行身份验证。它完全是无状态的，不需要注销。”*

[https://groups.google.com/forum/?fromgroups=#!topic/twitter4j/WVdyLVluJpw](https://groups.google.com/forum/?fromgroups=#!topic/twitter4j/WVdyLVluJpw)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-25T17:45:05.213

从 twitter 注销的概念只是删除登录信息，然后您就退出了。因为当你在你的应用中发推或用推特做某事时，它需要令牌等，所以你只需要删除它们。我的android应用程序遇到了同样的问题，所以在谷歌搜索后，我找到了简单的解决方案。即删除信息。所以我清除了我的

```
SharedPrefferences 
```

并做了。！

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-10-14T05:55:27.630

最简单的方法是清除 cookie。

在 webview 类的 onCreate 中编写以下一行代码。

android.webkit.CookieManager.getInstance().removeAllCookie();

希望能帮助到你。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-15T12:04:33.187

Twitter4J 根本不需要登录，它对 Twitter API 执行无状态请求。所以你也不需要注销。
参考：[https ://groups.google.com/forum/?fromgroups#!topic/twitter4j/WVdyLVluJpw](https://groups.google.com/forum/?fromgroups#!topic/twitter4j/WVdyLVluJpw)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-09-04T05:50:44.880

```
CookieManager cookieManager = CookieManager.getInstance();
cookieManager.removeSessionCookie();
TwitterSession.resetAccessToken();
Twitter_Handler.twitterObj.shutdown(); 
```

这里将公共静态变量设置为处理程序中的 twitterObj 和 TwitterSession 文件中的 resetAccessToken。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-29T16:54:42.403

即使 twitter4j 是无状态的 api，也可以使用以下方法清除凭证

```
 private void clearCredentials() {
    final Editor edit = prefs.edit();
    edit.remove(OAuth.OAUTH_TOKEN);
    edit.remove(OAuth.OAUTH_TOKEN_SECRET);
    edit.commit();
    TwitterFactory().getInstance().shutdown();
} 
```

# php - 在 C2DM 中跟踪用户响应

> ID：11046677
> 
> 赞同：0
> 
> 时间：2012-06-15T07:52:41.587
> 
> 标签：php, android, android-c2dm

我正在使用 C2DM 为 android 做推送通知。它运作良好。但是在手机中接收消息时，用户只能查看消息。

如果我们以 iphone 的 APNS 为例，用户可以通过单击“查看”按钮或“关闭”按钮来响应通知。通过使用它，我可以跟踪响应。 [Apple Push Notification Service 用户响应](https://stackoverflow.com/questions/4655053/apple-push-notification-service-on-user-response)

可以在android C2DM中做到这一点吗？我想跟踪用户对 apns 等通知的响应。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:01:56.797

当您收到您的消息时，您`Receiver`可以实施以启动一个新活动，该活动看起来像一个具有查看和关闭按钮的对话框，并且在`onClickListeners`每个按钮中都有一些自定义功能。

让我解释一下，你`IntentService`必须有一个从 C2DM 接收响应的方法，它`onMessage`有参数`Context`，`Intent`你可以使用`Context`变量来启动一个新的活动（或一个`AlertDialog`），它有一个主题对话框并有两个按钮并按照我在上一段中所说的去做。

# twitter-bootstrap - 避免在提交表单上出现模态关闭

> ID：11046680
> 
> 赞同：1
> 
> 时间：2012-06-15T07:52:50.287
> 
> 标签：twitter-bootstrap, modal-dialog

我正在尝试制作一个表单，以允许用户通过在引导程序中使用模式内的表单来更改密码。因此，如果出现任何问题，可以显示警报，但模式总是在按下发送按钮或按下 Enter 键后关闭（如this [stackoverflow question](https://stackoverflow.com/questions/10400149/avoid-modal-dismiss-on-enter-keypress)所示。再次打开显示警报的模式，所以我认为我必须找到在提交表单后不关闭模式的方法。我尝试在提交表单后重新编写 div 容器但它不起作用。关于如何做的任何想法？

# php - 使用 jquery post 上传 PHP 文件

> ID：11046684
> 
> 赞同：16
> 
> 时间：2012-06-15T07:53:10.340
> 
> 标签：php, jquery, file-upload

如果有人知道此代码有什么问题，请告诉我。

基本上我想使用 jQuery 上传文件

```
<html>
<head>
  <script src="http://code.jquery.com/jquery-latest.js"></script>

  <script type="text/javascript">
    $(document).ready(function(event) {
      $('#form1').submit(function(event) {
        event.preventDefault();
        $.post('post.php',function(data){
           $('#result').html(data);
        });
      });
    });
  </script>  
</head>
<body>
<form id="form1">
  <h3>Please input the XML:</h3>
  <input id="file" type="file" name="file" /><br/>
  <input id="submit" type="submit" value="Upload File"/>
</form>

<div id="result">call back result will appear here</div>

</body>
</html> 
```

和我的 php 'post.php'

```
<?php
  echo $file['tmp_name'];
?> 
```

不返回上传的文件名。问题是我无法访问上传的文件。

提前致谢！希夫

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-06-15T07:56:28.900

> 基本上我想使用 jQuery 上传文件

您不能使用 AJAX 上传文件。您可以使用使用隐藏 iframe的[jquery.form插件：](http://jquery.malsup.com/form/)

```
<html>
<head>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="http://malsup.github.com/jquery.form.js"></script>
    <script type="text/javascript">
        $(document).ready(function(event) {
            $('#form1').ajaxForm(function(data) {
                $('#result').html(data);
            });
        });
  </script>  
</head>
<body>
<form id="form1" action="post.php" method="post" enctype="multipart/form-data">
    <h3>Please input the XML:</h3>
    <input id="file" type="file" name="file" /><br/>
    <input id="submit" type="submit" value="Upload File"/>
</form>

<div id="result">call back result will appear here</div>

</body>
</html> 
```

还要注意`enctype="multipart/form-data"`表格上的。

另一种可能性是使用[HTML5 File API](https://developer.mozilla.org/en/Using_files_from_web_applications)，它允许您在客户端浏览器支持的情况下实现这一目标。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-05-01T21:16:15.610

用 jQuery $.post 上传文件是不可能的，但是用文件 API 和 XMLHttpRequest 完全可以用 AJAX 上传文件，你甚至可以知道已经上传了多少数据......

```
$('input').change(function() 
{
    var fileInput = document.querySelector('#file');

    var xhr = new XMLHttpRequest();
    xhr.open('POST', '/upload/');

    xhr.upload.onprogress = function(e) 
    {
        /* 
        * values that indicate the progression
        * e.loaded
        * e.total
        */
    };

    xhr.onload = function()
    {
        alert('upload complete');
    };

    // upload success
    if (xhr.readyState == 4 && (xhr.status == 200 || xhr.status == 0))
    {
        // if your server sends a message on upload sucess, 
        // get it with xhr.responseText
        alert(xhr.responseText);
    }

    var form = new FormData();
    form.append('title', this.files[0].name);
    form.append('pict', fileInput.files[0]);

    xhr.send(form);
} 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-06-15T07:54:58.507

不不不，您应该使用 jQuery 表单插件来异步上传文件。您不能使用 jQuery $.post 方法上传文件。该文件将使用隐藏的 iframe 上传

另一种方法是通过 FileAPI/BlobApi 使用 HTML5 上传

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-10-14T11:02:59.307

您的 upload.php 有一些错误。

你应该改变你的这部分。

```
echo $file['tmp_name']; 
```

到：-

```
echo $_FILES['file']['tmp_name']; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-15T07:56:57.877

尝试使用 iframe 上传，因为您无法使用 $.post 方法发送文件。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-16T11:37:43.830

您也可以尝试 jquery uploadify - [http://www.uploadify.com/](http://www.uploadify.com/)

# sql - 如何使用 SQL Server 中的存储过程合并第三个表中的两个数据表？

> ID：11046686
> 
> 赞同：0
> 
> 时间：2012-06-15T07:53:14.877
> 
> 标签：sql, sql-server, algorithm, stored-procedures

**表格1**

```
-----------------------------
Id      | Batch    |   Qty
-----------------------------
   1       A1         5     
   2       A2         5      
   3       A3         5    
   4       A4         5 
```

**表2**

```
-----------------------------
Id     | Batch  | Qty
------------------- ----------
1         A1        6    
2         A2        6    
3         A3        6     
5         A5       10 
```

**预期结果**

```
-----------------------------
Id     | Batch  | Qty
-----------------------------    
1         A1       6 (Qty updated)    
2         A2       6 (Qty updated)    
3         A3       6 (Qty updated)    
4         A4       5 (remains as same)    
5         A5       10 (row in table 2) 
```

如何在 SQL Server 中实现这一点？如果有人知道这个数据表操作，请分享..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:04:59.723

You can use the [MERGE](http://technet.microsoft.com/en-us/library/bb510625.aspx) query to update Table1 based on Table2:

```
MERGE INTO Table1 as target
USING Table2 as source
ON (target.id = source.id)
WHEN MATCHED THEN 
    UPDATE SET target.Batch = source.Batch, 
               target.Qty = source.Qty
WHEN NOT MATCHED THEN   
    INSERT (Id, Batch, Qty)
    VALUES (source.Id, source.Batch, source.Qty) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T08:06:27.780

```
insert into table3
(
 select * from table1 t1 full outer join table2 t2 on t1.id = t2.id
) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T08:37:38.760

既然您已经`DataTables`明确提到，我将向您展示一个`LINQ-To-DataSet`使用 using[`Enumerable.Union`](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.union.aspx)和 custom的内存解决方案`IEqualityComparer`：

```
DataTable tblMerged = Table2.AsEnumerable()
             .Union(Table1.AsEnumerable(), new RowIdComparer())
             .CopyToDataTable(); 
```

这是自定义`DataRow`比较器，以确保将 ID 用作区分：

```
class RowIdComparer : IEqualityComparer<DataRow>
{
    public bool Equals(DataRow r1, DataRow r2)
    {
        return r1.Field<int>("Id") == r2.Field<int>("Id");
    }

    public int GetHashCode(DataRow row)
    {
        return row.Field<int>("Id").GetHashCode();
    }
} 
```

结果：

```
Id      Batch   Qty
1         A1    6
2         A2    6
3         A3    6
5         A5    10
4         A4    5 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-15T07:57:46.283

尝试这个：

```
Insert Into Table3
Select * From
((Select * from Table1
Except
Select * from Table2) as temp
UNION
(Select * from Table2)) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-15T08:09:21.290

假设`id`和`batch`总是相关的，我们可以有：

```
SELECT
    COALESCE(t2.id,t1.id) as id,
    COALESCE(t2.batch,t1.batch) as batch,
    COALESCE(t2.qty,t1.qty) as qty
FROM
     Table2 t2
         full outer join
     Table1 t1
         on
             t2.id = t1.id --Or on batch, or both? 
```

# javascript - 有没有办法在旧的 html 中实现拖放功能

> ID：11046687
> 
> 赞同：0
> 
> 时间：2012-06-15T07:53:18.950
> 
> 标签：javascript, html, drag-and-drop

我对这个问题感到困惑。我想相信通过一些 Javascript hack 或其他标准手段，HTML5 中引入的酷 DnD [拖放] 功能可以在旧版本中实现。

有没有人试图实现这一目标，结果是什么，他们是如何做到的？

我正在创建一个可以处理大量文件上传的网络应用程序，并且我正在寻找为我的客户简化上传过程的方法。

任何形式的帮助将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T07:54:20.523

您可以使用 Flash.... 或其他浏览器插件，否则不行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T07:58:57.143

您可以使用 jquery 插件进行拖放。

[http://jqueryui.com/demos/draggable/](http://jqueryui.com/demos/draggable/)

[http://jqueryui.com/demos/droppable/](http://jqueryui.com/demos/droppable/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T07:59:53.037

也许您正在寻找类似于 WordPress 在其媒体库中提供的内置功能的东西。历史上，IE6 有一些拖放事件，例如 ondragstart 和其他类似事件。不幸的是，其他浏览器不支持 IE 的专有事件。为了实现您的需要，您应该考虑使用 jQuery UI 可拖放对象。在 Google 上搜索：

jquery拖放文件上传

WordPress 也使用 jQuery UI。

示例：[JQuery 文件上传插件](http://www.webresourcesdepot.com/jquery-file-upload-plugin-with-drag-n-drop-support/)

我认为他想要跨浏览器的东西。

# php - php preg_match 或 preg_replace 进行验证

> ID：11046694
> 
> 赞同：1
> 
> 时间：2012-06-15T07:54:03.287
> 
> 标签：php, preg-replace, preg-match

我想检查一个字符串是否只允许`a-z A-Z 0-9 . / ? &`，但我不确定如何准确地使用 preg_match()。

如果您还可以解释代码的每个部分是什么，我将不胜感激！（即为什么要添加`/^`以及如何添加`/`）

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-15T07:56:37.857

这里是：

```
$input = 'Hello...?World';
$regex = '~^[a-z0-9&./?]+$~i';

if (preg_match($regex, $input)) {
  echo "yeah!";
} 
```

您可以通过这种方式构建自己的字符类并验证字符串。

解释：

```
~
^                        # string start
[                        # start character class 
  a-z                    # letters from a to z
  0-9                    # digits from 0 to 9
  &./?                   # &,.,/ and ? chars
]                        # end character class
+                        # repeat one or more time
$                        # string end
~ix 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-15T08:23:01.787

```
if ( preg_match('[^a-zA-Z0-9./?&]', 'azAZ09./?&') ) {
     //found a character that does not match!
 } else //regex failed, meaning all characters actually match 
```

与 ioseb 非常相似，但您需要包含 AZ，因为大写字母与小写字母不同。他已经为这些角色写了一个很棒的指南，所以我只提供一个替代的正则表达式。

我改用否定（开头的 ^，当包含在字符类 '[]' 的开头时，它具有不同的含义），然后是“允许的字符”字符串。

这样，如果正则表达式发现任何不是允许的字符（[] 表示一个字符），它将停止解析并返回 true，这意味着找到了一个无效的字符串。

# jsf - JSF RichCalendar 在弹出窗口上显示清理按钮

> ID：11046700
> 
> 赞同：1
> 
> 时间：2012-06-15T07:54:34.183
> 
> 标签：jsf, richfaces, facet

嗨，我配置了这样的日历：

```
<rich:calendar id="captureDateAssociatedWithDateAndTime" value="#{CaseController.caseContainer.captureDate}" datePattern="dd.MM.yyyy HH:mm" enableManualInput="true" direction="auto">
<f:facet name="footer">
    <h:panelGrid columns="3" width="100%" columnClasses="fake, width100 talign">
    <h:outputText value="{selectedDateControl}" style="font-weight:bold;" />
    <h:outputText value="{timeControl}" style="font-weight:bold;" />
    <h:outputText value="{todayControl}" style="font-weight:bold;" />
</h:panelGrid>
</f:facet>
</rich:calendar> 
```

现在，如何将 todayControl 更改为 cleanControl。如果我键入 cleanControl，则大部分时间都会显示 clean Button，但有时不会显示日历页脚。提前致谢。

# web-crawler - 另一个 url 上的 PHP 调用按钮（数据抓取）

> ID：11046703
> 
> 赞同：0
> 
> 时间：2012-06-15T07:54:40.263
> 
> 标签：web-crawler, data-scrubbing

我在谷歌上搜索了一下，但找不到任何有用的东西。

假设我有一个远程页面，假设是 google.com，我想在该页面上输入表单，从下拉菜单中选择特定项目，单击按钮，然后从提供的页面中提取数据。

我想自动化这个任务。

在 c# 中，我知道我可以创建一个浏览器对象并使用它来调用特定页面上的按钮，甚至从下拉菜单中选择数据、填写表格等。

可以使用 php 完成类似的任务吗？如何完成？

感谢您的时间。

安德烈

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T07:59:44.753

尝试PHP包[的 WWW::Mechanize 。](http://www.compasswebpublisher.com/php/www-mechanize-for-php)更好的是，如果您想知道它是如何工作的，请阅读 HTTP 协议，特别是 GET 和 POST 方法的详细信息。

第一部分，关于下拉和单击，必须在 JavaScript 中使用 AJAX 完成。如果您只有一个输入内容并提交的表单，那么 PHP 就足够了。

# iphone - 线程在对象被释放后开始

> ID：11046707
> 
> 赞同：0
> 
> 时间：2012-06-15T07:54:55.333
> 
> 标签：iphone, ios, multithreading

我的 iOS 应用程序出现了问题。

我正在向 Web api 发出请求，并且在后台线程中这样做。我有一个名为 Service 的类，它有这个方法：

```
- (void)searchForRoutesFrom:(NSNumber *)startStationId
                         to:(NSNumber *)endStationId
                   delegate:(id<WAMSServiceDelegate>)delegateOrNil
{
    RouteSearchRequest *request = [[RouteSearchRequest alloc] init];
    ...request populate ...
    [NSThread detachNewThreadSelector:@selector(searchForRoutesInTheBackground:) 
                             toTarget:self withObject:request];
}

- (void)searchForRoutesInTheBackground:(RouteSearchRequest *)request
{
    NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];
    ...make the request and call back...
} 
```

这工作得很好，但是如果用户决定离开视图（使用这个服务），就在线程启动之前，服务对象被释放。当线程启动时，它将尝试调用 searchForRoutesInTheBackground 方法，我的应用程序将崩溃。

我可以使用哪些其他方法来运行此线程并处理正在释放的调用对象。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T23:53:38.427

> 但是如果用户决定离开视图（使用这个服务），就在线程启动之前，服务对象被释放。当线程启动时，它将尝试调用 searchForRoutesInTheBackground 方法，我的应用程序将崩溃。

这是不可能的。请参阅[+detachNewThreadSelector:toTarget:withObject: 的文档](https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/nsthread_Class/Reference/Reference.html#//apple_ref/doc/uid/20000311-CHDEBGEC)。它说

> 对象 aTarget 和 anArgument 在分离线程执行期间被保留，然后被释放。

这意味着它在您调用时被保留`detachNewThreadSelector:toTarget:withObject:`。所以如果对象在那个时候是有效的，它将一直有效，直到新线程完成执行。

如果发生了不好的事情，那么您一定是在其他地方做错了内存管理。例如 1) 对象在`detachNewThreadSelector:toTarget:withObject:`被调用时已经被释放，或者 2) 您在其他不应该的地方过度释放对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T08:09:46.903

您可以`retain`在启动线程之前调用对象，并在其处理结束时释放它（就在返回之前）。

```
 - (void)searchForRoutesFrom:(NSNumber *)startStationId
                     to:(NSNumber *)endStationId
               delegate:(id<WAMSServiceDelegate>)delegateOrNil
{
RouteSearchRequest *request = [[RouteSearchRequest alloc] init];
...request populate ...

[self retain];
[NSThread detachNewThreadSelector:@selector(searchForRoutesInTheBackground:) 
                         toTarget:self withObject:request];
}

- (void)searchForRoutesInTheBackground:(RouteSearchRequest *)request
{
NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];
...make the request and call back...

[self release];
} 
```

如果您使用了块，这将自动为您完成，但保留/释放很容易管理这种情况。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T08:12:37.950

由于您的逻辑信息不足，我不确定我是否会根据您的情况正确回答您，但是我以不同的方式处理这些情况。我所做的是创建单独的类（MVC 的模型），用于使用启动请求和处理回调的方法与 Web 服务进行通信。当回调执行时，有不同的场景 - （要么使用 CoreData 持久化结果并且我的 UI 捕获此事件并更新（如果可见），要么将块作为参数传递给发出请求的方法并在回调中被调用并执行该块，通常该块以`if(!self.view.window) return;`这意味着如果当前视图不可见，则不会发生任何事情）。但是在这两种情况下，我的请求和回调都完全独立于 UI，因此不会出现像你这样的问题。

# iphone - 在 iOS 应用程序中删除 cookie

> ID：11046709
> 
> 赞同：0
> 
> 时间：2012-06-15T07:55:04.810
> 
> 标签：iphone, objective-c, ios

我是否阅读了[NSHTTPCookieStorage 文档](http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSHTTPCookieStorage_Class/Reference/Reference.html#//apple_ref/occ/instm/NSHTTPCookieStorage/deleteCookie%3a)，您不能删除除了属于您自己的应用程序的 cookie 之外的其他 cookie？因此，如果您遍历从该对象获得的所有 cookie，您只会获得与您的应用程序相关联的那些 cookie，例如在 web 视图中检索到的那些 cookie？

> iOS 注意： Cookie 不会在 iOS 中的应用程序之间共享。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:26:09.957

是的，你没看错。doc ( ) 中的前一行`These cookies are shared among all applications and are kept in sync cross-process`适用于 OS X。应用程序之间的 Cookie 共享将是一个巨大的安全违规行为。虽然我还没有尝试过，但我相信是的，在 iOS 上枚举 cookie 只会为您提供为您的应用程序存储的那些。

# java - Spring-Test-MVC / MockServletContext - 测试中的内容为空，但在 Tomcat 上工作

> ID：11046710
> 
> 赞同：8
> 
> 时间：2012-06-15T07:55:08.200
> 
> 标签：java, testing, servlets, spring-mvc, mocking

我们正在尝试为我们的 Spring-MVC Web 应用程序设置 Spring-Test-MVC。我们开始使用freemarker，一切都很好。我们决定反对它，现在正尝试用 JSP 来设置它。当测试应用程序部署在 Tomcat 上时，它正在工作。当我们运行简单的测试时：

```
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(loader = WebContextLoader.class, locations = { "file:src/main/webapp/WEB-INF/servlet-context.xml" })
public class SkelletonTest {

    @Inject
    private MockMvc mockMvc;

    @Test
    public void homeTest() throws Exception {
        mockMvc.perform(get("/")).andExpect(status().isOk())
                .andExpect(content().type("text/html;charset=ISO-8859-1"))
                .andExpect(content().string(containsString("Hello World!")));
    } 
```

它说：`content type not set`或者如果将其删除，则内容将为空。但是，控制器将被调用，因此映射必须有效。

所以这强烈表明我们的测试没有渲染视图，但我不知道我可能缺少什么设置。

这是我们的 servlet-context.xml：

```
<context:component-scan base-package="package.to.controllers" />
<mvc:annotation-driven />

<bean id="viewResolver"
    class="org.springframework.web.servlet.view.InternalResourceViewResolver">
    <property name="viewClass"
        value="org.springframework.web.servlet.view.JstlView" />
    <property name="exposeContextBeansAsAttributes" value="true" />
    <property name="prefix" value="/views/" />
    <property name="suffix" value=".jsp" />
</bean> 
```

WebContextLoader：

```
public class WebContextLoader extends GenericWebContextLoader {
    public WebContextLoader() {
        super("src/main/webapp", false);
    }
} 
```

[GenericWebContextLoader](https://github.com/SpringSource/spring-test-mvc/blob/master/src/test/java/org/springframework/test/web/server/samples/context/GenericWebContextLoader.java)是 spring-test-mvc 的原创。

MockMvc 像这样设置为 Bean：

```
@Configuration
public class TestConfig {

    @Inject
    private WebApplicationContext wac;

    @Bean   
    public MockMvc create(){
        return (MockMvcBuilders.webApplicationContextSetup(this.wac).build());
    }
} 
```

这就是设置。web.xml 不被测试框架使用，并且应该没有关系，因为它以前工作过。

我认为在 servlet-context 中必须有一个额外的设置。它已加载，我检查过，但对于 Tomcat 部署的应用程序来说很重要，我为前缀和后缀设置的内容只会被测试忽略。

不确定错误跟踪有多大帮助，但它是：

```
java.lang.AssertionError: Content type not set
    at org.springframework.test.web.AssertionErrors.fail(AssertionErrors.java:35)
    at org.springframework.test.web.AssertionErrors.assertTrue(AssertionErrors.java:57)
    at org.springframework.test.web.server.result.ContentResultMatchers$1.match(ContentResultMatchers.java:59)
    at org.springframework.test.web.server.MockMvc$1.andExpect(MockMvc.java:84)
    at our.package.SkelletonTest.homeTest(SkelletonTest.java:30)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)
    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197) 
```

和测试输出：

```
2012-06-15 10:41:04 TestContextManager [INFO] @TestExecutionListeners is not present for class [class package.to.test.SkelletonTest]: using defaults.
2012-06-15 10:41:05 XmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:src/main/webapp/WEB-INF/servlet-context.xml]
2012-06-15 10:41:05 ClassPathBeanDefinitionScanner [INFO] JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2012-06-15 10:41:05 GenericWebApplicationContext [INFO] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@158539f: startup date [Fri Jun 15 10:41:05 CEST 2012]; root of context hierarchy
2012-06-15 10:41:05 AutowiredAnnotationBeanPostProcessor [INFO] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2012-06-15 10:41:05 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@c64bc2: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,testConfig,freemarkerController,homeController,tableService,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,viewResolver,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0,create]; root of factory hierarchy
2012-06-15 10:41:05 RequestMappingHandlerMapping [INFO] Mapped "{[/],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public org.springframework.web.servlet.ModelAndView package.to.controller.HomeController.index()
2012-06-15 10:41:05 RequestMappingHandlerMapping [INFO] Mapped "{[/test],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String package.to.controller.HomeController.test(org.springframework.ui.Model)
2012-06-15 10:41:06 GenericWebContextLoader$1 [INFO] Initializing Spring FrameworkServlet ''
2012-06-15 10:41:06 TestDispatcherServlet [INFO] FrameworkServlet '': initialization started
2012-06-15 10:41:06 TestDispatcherServlet [INFO] FrameworkServlet '': initialization completed in 32 ms
2012-06-15 10:41:06 GenericWebApplicationContext [INFO] Closing org.springframework.web.context.support.GenericWebApplicationContext@158539f: startup date [Fri Jun 15 10:41:05 CEST 2012]; root of context hierarchy
2012-06-15 10:41:06 DefaultListableBeanFactory [INFO] Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@c64bc2: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,testConfig,freemarkerController,homeController,tableService,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,viewResolver,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0,create]; root of factory hierarchy 
```

所以感谢任何帮助我找到问题的建议！

顺便说一句：不想再这样了，所以我跳过了 pom。我们正在使用 Spring 3.1、spring-test-mvc 1.0.0..BUILD-SNAPSHOT、jsp-ap 2.2、jstl 1.2，...如果您需要了解更多信息，我会尝试将其上传到某个地方...

* * *

**编辑**

如果您需要更多信息或为什么无法回答我的问题，请告诉我。真的需要弄清楚，我不知道从哪里开始。因此，也欢迎任何想法或评论。

* * *

**编辑2**

使用具有以下输出的 print 方法：

```
MockHttpServletRequest:
         HTTP Method = GET
         Request URI = /
          Parameters = {}
             Headers = {}

             Handler:
                Type = package.to.controller.HomeController
              Method = public org.springframework.web.servlet.ModelAndView package.to.controller.HomeController.index()

  Resolved Exception:
                Type = null

        ModelAndView:
           View name = index
                View = null
           Attribute = welcome
               value = Hello World!

            FlashMap:

MockHttpServletResponse:
              Status = 200
       Error message = null
             Headers = {}
        Content type = null
                Body = 
       Forwarded URL = /views/index.jsp
      Redirected URL = null
             Cookies = [] 
```

这只是更好地显示了问题，但不是解决方案......

* * *

**编辑3**

刚刚发现以下内容：

JSP 需要一个servlet 容器。所以看来我无法以这种方式测试我的页面......如果有人知道如何解决这个问题，请告诉我......

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-01-20T18:40:57.673

@Biju - 我很欣赏这个答案，它为我节省了一次旅行，我并不是想在这里拍摄信使，但我必须说，为了 Spring 团队中任何可能有动力构建更好的东西的人的利益，我我发现 MockMVC 几乎是一种琐碎和徒劳的练习。首先，不直接支持 Spring 认证。好吧，如果您侦察 StackOverflow，您可以找到解决方法。然后我自己发现，如果你有你的spring上下文配置，你可以组成的每条路径都会返回为“OK”，即使它应该返回“notFound”。好吧，无论如何，把它拿出来，让我们再也不提它了。:) 现在来发现 MockMVC 真的只是 MockMC —— 没有视图处理发生。

这不是一个真正的答案，而是一个咆哮，这意味着现在 MockMVC 也会让我失去 StackOverflow 的声誉！：） 绿巨人粉碎！

[编辑]——好吧，除了咆哮之外，看起来确实有办法解决这个问题。[稍后编辑] 不幸的是，我发现的解决方法不再可用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T12:43:07.890

添加到您的edit3上，本质上是为了JSP渲染，最终调用是

```
RequestDispatcher requestDispatcher = httpRequest.getRequestDispacher(jspPath)
requestDispatcher.forward(httpRequest,httpResponse) 
```

并且`RequestDispatcher`实现由容器提供（因为它取决于需要如何编译jsp，将编译的jsp放在哪里等）。RequestDispatcher 的 Mock 实现只是简单地捕获转发的 JSP 页面，您**只能验证 JSP 的路径是否符合您的预期。**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-17T10:25:35.850

我创建了 MockRequestDispatcher 的修改版本，它构建与 MockMvc 相同的链并将请求传递到该链以进行转发请求。这为我解决了这个问题。如果视图是在调度程序 servlet 之外呈现的（例如，通过 jsp），则需要做更多的工作。

代码在那里：[https ://gist.github.com/micw/a8b20720db900762a29d](https://gist.github.com/micw/a8b20720db900762a29d)

大多数工作是将其注入正确的位置。我这样做是为 MockMvc 创建了一个 RequestPostProcessor 和一些拦截 MockHttpServletRequest.getRequestDispatcher 调用的 mockito-magic。

要使用它，请将其添加到您的测试类路径并在创建 MockMvc 实例后直接调用它：

```
 mvc = MockMvcBuilders.webAppContextSetup(webApplicationContext)
            [...]
            .build();
    WebMvcRequestDispatcherForwardFix.apply(mvc); 
```

# c# - Accpac API 文档

> ID：11046711
> 
> 赞同：1
> 
> 时间：2012-06-15T07:55:14.970
> 
> 标签：c#, .net, accpac

我正在开发一个需要集成到 Accpac 5.6 的 C# .NET 应用程序。我无法在 Accpac API 上找到任何有用的文档。我在哪里可以找到 Accpac API 文档？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-01-30T10:37:55.130

我知道这篇文章很旧，但希望这个答案对可能仍然有同样问题的开发人员有用。

ACCPAC 捆绑了两种类型的 API，COM​​ API (AccpacCOMAPI) 和 .NET API (ACCPAC.Advantage)。

在我的研究中，我在 Stephen Smith 的博客上找到了一些 Accpac COM API 文档，您可以[在此处](https://docs.google.com/file/d/0B3d1md_6mdBRU3NoaWcyWDlIRkk/edit?pli=1)下载。Smith 还用 VB 编写了一个[教程](https://smist08.wordpress.com/2012/12/15/opening-sage-300-erp-sessions/)来解释 API 的一些工作原理（与 Accpac 的简单连接），他有[几篇](https://smist08.wordpress.com/sage-300-erp-articles/)讨论 API 的文章，主要是 .NET API 等。Ken's Programming 的教程很好地介绍了 COM API，它们是用 C#（您的首选语言）编写的。[在这里](http://startingdotneprogramming.blogspot.com/2013/12/getting-started-with-accpac-programming.html)和[这里](http://startingdotneprogramming.blogspot.com/2014/01/working-with-views-in-sage-300-erp.html)找到它们。

此外，ACCPAC“系统管理器用户指南”中探讨了 COM API，因为它是用于编写宏的 API。该文档可在[此处](https://partners.sagenorthamerica.com/irj/go/km/docs/sageKM/Sage%20Accpac%20ERP/Ungated%20Customers/Browsable/Product%20Documentation/Sage%20Accpac%20ERP%205.5%20Documentation/System_Manager_55/Sage%20Accpac%20SM%20User%20Guide.pdf)下载ACCPAC 6.0A，解释了不同对象如何相互关联、它们的用途、属性和方法。阅读第 13 和 14 章。

希望这对正在阅读的人有所帮助。

健康长寿·繁荣昌盛。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T19:48:47.590

除非您注册 Sage 的开发合作伙伴计划，否则没有大量的文档。通常，您可以记录您想要通过集成执行的流程的宏（例如创建发票），然后将生成的 VBA 代码翻译成您正在使用的语言。

加入开发合作伙伴计划对于您所需要的东西来说可能是多余的。通常，您会向经销商（您是客户）索取文档。周围还有一些其他网站提供一些信息，例如 Tek-Tips.com。如果您有具体问题，那么我们可以尝试在 SO 上回答这些问题。

# iphone - AppStore 版 GameCenter 出现问题

> ID：11046715
> 
> 赞同：0
> 
> 时间：2012-06-15T07:55:33.960
> 
> 标签：iphone, objective-c, ios, xcode, game-center

祝大家有美好的一天。

我对 iOS GameCenter 有一个恼人的问题。在开发人员和 AdHoc 版本中一切正常。但是在 AppStore 版本中（我已经从 AppStore 将它下载到我自己的设备上），该应用程序似乎无法与 GameCenter 同步数据（我在应用程序启动时同步用户成就）。

非常感谢有关此类行为原因的任何建议。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T15:05:50.623

如果您使用的是用于在开发者模式下进行测试的同一设备，请确保在运行 App Store 应用程序之前*使用 Game Center 应用程序退出 Game Center。*然后，当您的应用启动时，它会检测到您未登录并要求您登录 Game Center。此时，您应该连接到生产游戏中心。

当然，也许您已经这样做了，在这种情况下，我不知道还有什么建议。

# servlets - 为什么使用 ServletContext.setAttribute()？

> ID：11046717
> 
> 赞同：6
> 
> 时间：2012-06-15T07:55:40.683
> 
> 标签：servlets, setattribute

为什么我们要使用该`setAttribute()`方法设置 ServletContext 参数，因为我们可以通过设置参数`web.xml`并使用 获取它们来完成同样的事情`getInitParameter()`？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-15T08:01:13.553

它`servletContext.setAttribute()`是动态的，可以在运行时设置和重置。

其中`init-parameter`指定的`web.xml`是静态的，在应用程序的生命周期内不会改变。

**例子：**

*   数据库属性，如数据库名称配置属性。它将主要配置为上下文`init-param`
*   如果您想设置基于运行时更改派生的属性值，例如“最后一个用户登录”或“失败次数”应该是上下文属性。

# c - 我可以使用 pthread_kill 停止（暂停）pthread 执行吗

> ID：11046720
> 
> 赞同：5
> 
> 时间：2012-06-15T07:55:59.323
> 
> 标签：c, pthreads, sigkill

如果我发送 SIGTSTP 信号，线程会停止吗？或者换句话说，它会像 SIGTSTP 和 SIGCONT 上的进程一样吗？

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-15T08:16:07.750

来自`man 3p pthread_kill：

> 请注意， pthread_kill() 仅导致在给定线程的上下文中处理信号；**信号动作（终止或停止）会影响整个过程**。

所以我会说你将停止整个过程，而不仅仅是线程。

# iphone - 如何将指南针指向目的地？

> ID：11046723
> 
> 赞同：3
> 
> 时间：2012-06-15T07:56:24.017
> 
> 标签：iphone, objective-c, xcode, gps, cllocation

我正在创建一个应用程序，它将指向我绘制的 GPS 坐标方向的简单箭头。所以我说的是我当前的位置lat和long，所以lat1，lon1是当前位置......然后将它们与lat和long的静态坐标进行比较，称为lat2，lon2。

我花了几个小时研究和测试，但我一直遇到同样的问题。这是非常恶化的。当我开始向目的地行驶时，使用 iPhone 内置的 GPS/指南针时，箭头完全失灵。它有时会将箭头显示在它需要的位置的完全相反的一侧，挂在右边……几乎没有什么是实心的。

这是我正在运行的当前代码

cpLocLat = 43.026629;

cpLocLon = -78.867188;

这些是浮点值和我想开车去的坐标。

```
float lat1 = self.locManager.location.coordinate.latitude;
float lat2 = cpLocLat;
float lon1 = self.locManager.location.coordinate.longitude;
float lon2 = cpLocLon;

float heading = atan2(sin(lon2 - lon1) * cos(lat2), cos(lat1) * sin(lat2) - sin(lat1) * cos(lat2) * cos(lon2 - lon1));

heading = RADIANS_TO_DEGREES(heading);

if (heading < 0) {
    heading = heading + 360;
} 
```

每次调用 locationManager didUpdateToLocation delagate 时，我都会使用此函数。一旦我有了这些信息，它就会在 locationManager didUpdateHeading delagte 中使用，如下所示：

```
CGAffineTransform where  = CGAffineTransformMakeRotation(degreesToRadians((degrees - newHeading.magneticHeading)));

[self.compassContainer2 setTransform:where]; 
```

这是 degressToRadians 宏

```
#define degreesToRadians(x) (M_PI * x / 180.0) 
```

所以每当我运行这段代码时，它都会严重失败，让我发疯！

顺便说一句 - 我已使用以下 URL 作为参考

[http://www.shawngrimes.me/2011/07/calculating-heading-with-corelocation/](http://www.shawngrimes.me/2011/07/calculating-heading-with-corelocation/)

[使用指南针指向实际坐标位置，而不仅仅是北](https://stackoverflow.com/questions/5145465/using-compass-to-point-to-actual-coordinate-location-instead-of-just-north)

[使用指南针指向位置](https://stackoverflow.com/questions/5092845/point-to-location-using-compass)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:50:29.160

据我所知，根据 Haversine 公式计算初始方位的公式是：

> θ = atan2( sin(Δlong).cos(lat2), cos(lat1).sin(lat2) - sin(lat1).cos(lat2).cos(Δlong)

这似乎正是您使用的。根据`man`条目，您可能必须使用两个参数的相反顺序来`atan2`：

```
ATAN2(3)                 BSD Library Functions Manual                 ATAN2(3)

NAME
     atan2 -- arc tangent function of two variables

SYNOPSIS
     ....
     float
     atan2f(float y, float x); 
```

所以`y`来之前`x`。也许这就是错误。
此外，请确保坐标增量（lat2-lat1 等）以*弧度表示*。

# php - 将 Google Doc 列表嵌入网页

> ID：11046725
> 
> 赞同：2
> 
> 时间：2012-06-15T07:56:29.780
> 
> 标签：php, html, embed, google-docs

我尝试在网上搜索，但找不到答案。有什么方法可以向我的网页添加一些代码以显示我的 Google doc 文件夹中的文档内容/列表，并使其可供下载？我知道目前我们可以共享文件的特定链接，或者添加文件夹的链接，但我需要如何将列表直接放在我的页面上。例如：谷歌地图或谷歌日历。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T10:21:50.220

也许这对你有用：

[http://wp-wizzard.com/external-data/get-a-list-of-public-spreadsheets-from-google-docs](http://wp-wizzard.com/external-data/get-a-list-of-public-spreadsheets-from-google-docs)

类似的问题： [php zend gdata - Get list of google docs using oauth](https://stackoverflow.com/questions/10253490/php-zend-gdata-get-list-of-google-docs-using-oauth)

# perl - 使用 Perl DBI 模块的语法错误

> ID：11046728
> 
> 赞同：0
> 
> 时间：2012-06-15T07:56:39.120
> 
> 标签：perl, dbi

我正在编写 Perl 代码并[`DBI`](https://metacpan.org/module/DBI)在文件中使用扩展名为`.pm`.

导入`DBI`模块时，出现如下错误

```
syntax error at /etc/perl/Foo.pm line 13, near "DBI:"
Compilation failed in require at join.pl 
```

在`join.pl`文件中，我们将模块`Foo.pm`称为

```
use Foo;
Foo::dbconnect(); 
```

里面的代码`Foo.pm`是这样的

```
#!/usr/bin/perl

package Foo;

use DBI;

sub dbconnect {
  my $database = "DB_NAME";
  my $user ="user_name";
  my $password = "password";
  my $dsn = "dbi:mysql:$database:localhost:3306";
  my $connect = DBI:connect->($dsn, $user, $password)
      or die "can't connect to the db   $DBI::errstr\n";
  return $connect;
}

1; 
```

我在行中收到错误

```
my $connect = DBI:connect->($dsn, $user, $password)
    or die "can't connect to the db   $DBI::errstr\n"; 
```

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T08:01:40.057

欢迎来到 SO。

首先，您应该始终`use strict`帮助`use warnings`您发现代码中的问题。

[`connect`](http://search.cpan.org/~timb/DBI/DBI.pm#connect)您的行中有语法错误。尝试这个：

```
my $connect = DBI->connect($dsn, $user, $password) 
    or die "can't connect to the db $DBI::errstr\n"; 
```

* * *

忠告：以变量代表的内容命名变量是个好主意。我建议`$dbh`使用*数据库句柄*而不是`$connect`，但这当然取决于偏好。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-15T08:03:26.230

您用于该`connect`方法的语法`DBI:connect->(...)`是错误的。

如果您使用*两个*冒号而不是一个冒号并删除了箭头，这将是有效的语法，但它仍然不起作用。

你需要的是一个类方法调用，像这样

```
my $connect = DBI->connect($dsn, $user, $password)
    or die "can't connect to the db: $DBI::errstr\n"; 
```

# localization - 在运行时更改 NSIS 语言

> ID：11046730
> 
> 赞同：0
> 
> 时间：2012-06-15T07:56:53.347
> 
> 标签：localization, nsis

我的 NSIS 安装程序有特定的设计，语言选择应该在第一页中执行。但是，当我将 $LANGUAGE 更改为现有语言之一时，语言不会改变。你能帮我看看是否可以用 NSIS 执行这样的任务吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T11:17:35.597

当使用多种语言时，LangStrings 在`.onInit`函数之后由 LangDll 初始化，具体取决于`$LANGUAGE`值。

我不确定以后是否可以更新 LangStrings。

安装程序启动期间的标准语言选择不适合您的需要？

# javascript - 如何动态创建自定义图形以在 Google Maps v3 标记上使用？

> ID：11046737
> 
> 赞同：0
> 
> 时间：2012-06-15T07:57:28.213
> 
> 标签：javascript, html, google-maps, google-maps-api-3, svg

我正在制作一个应该支持高度自定义显示数据的谷歌地图应用程序。我想让用户（除其他外）为这些形状选择各种各样的形状和颜色。目前我已经创建了这些形状的 PNG，每个都有 8 种不同的颜色变化。

添加其他形状不仅需要大量工作，而且颜色设置也受到严重限制。我想让用户调整一些设置并用它们创建一个全新的图标。为了在纯 JavaScript 中实现这一点，谷歌地图标记必须能够显示 Canvas 数据，根据我发现的（相对较旧的）博客文章，它不能。

我能想到的另一个选择是创建 SVG 图像，但是如果我只有 JavaScript 字符串中的 SVG 数据，如何将 SVG 应用到 Google 地图标记？

无论如何，总结问题；**如何即时创建自定义图形并将它们用于 Google 地图标记？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:00:50.100

使用[Canvas2Image](http://www.nihilogic.dk/labs/canvas2image/)将您的画布保存为图像，然后将它们应用到 Google 地图。

# linux - 套接字发送失败，错误代码 99，无法分配请求的地址

> ID：11046740
> 
> 赞同：0
> 
> 时间：2012-06-15T07:57:32.257
> 
> 标签：linux, network-programming, linux-kernel

我正在尝试使用原始套接字将路由器广告数据包发送到多播地址 ff02::1。原始套接字已与 rndis0 网络接口成功绑定

当我使用 send() 调用发送 RA 消息头时，发送消息失败，错误代码为 99，无法分配请求的地址。我以 in6_Addr 格式分配了 msghdr.msg_name = ff02::11 地址

此发送失败 99 的可能原因是什么？谢谢

# java - 如何配置 Eclipse 以格式化 drools 文件 *.drl？

> ID：11046745
> 
> 赞同：1
> 
> 时间：2012-06-15T07:57:50.357
> 
> 标签：java, eclipse, eclipse-plugin, drools

我有一个需要正确格式的 drl 文件，包括缩进。有插件吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T08:32:31.157

您可以将[drools 插件用于 Eclipse](http://www.jboss.org/drools/downloads)或[JBoss 工具](http://www.jboss.org/tools)（包括 drools 插件）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-03T11:20:19.203

See [How to automatically format drools files with Eclipse?](https://stackoverflow.com/questions/7723078/how-to-automatically-format-drools-files-with-eclipse)

Currently the drools plugin does not support formatting. (Which is a shame)

# c# - cSharp代码中的错误

> ID：11046751
> 
> 赞同：-5
> 
> 时间：2012-06-15T07:58:08.557
> 
> 标签：c#, .net

> **可能重复：**
> [使用 switch case 语句的问题](https://stackoverflow.com/questions/11047403/issue-using-switch-case-statement)

我目前有这样的代码

```
 using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using System.Data;
using System.Drawing;
using System.ComponentModel;
using Excel = Microsoft.Office.Interop.Excel;
using Microsoft.Office.Interop.Excel;
namespace Excel1
{
    class Program
    {
        static void Main(string[] args)
        //public void ExcelOps()
        {
            //string str;
            Excel.Application xlApp = new Excel.Application();
            Excel.Workbook xlWorkbook = xlApp.Workbooks.Open(@"D:/WebServiceTemplate.xlsx");
            Excel._Worksheet xlWorksheet = xlWorkbook.Sheets[1];
            Excel.Range xlRange = xlWorksheet.UsedRange;
            int rowCount = xlRange.Rows.Count;
            int colCount = xlRange.Columns.Count;
            int numSheets = xlWorkbook.Sheets.Count;
            //
            // Iterate through the sheets. They are indexed starting at 1.
            //
            for (int sheetNum = 1; sheetNum <=1; sheetNum++)
            {
                Worksheet sheet = (Worksheet)xlWorkbook.Sheets[sheetNum];
                //
                // Take the used range of the sheet. Finally, get an object array of all
                // of the cells in the sheet (their values). 
                //
                object[,] valueArray = (object[,])xlRange.get_Value(XlRangeValueDataType.xlRangeValueDefault);
                //
                // Do something with the data in the array with a custom method.
                //                
                ProcessInput(valueArray);
            }
        }
        public static void ProcessInput()
        {
        }
    }
} 
```

我正在尝试使用自定义方法对数组中的数据做一些事情。当我运行它时，我得到一个错误“方法'ProcessInput'的错误没有重载需要1个参数”

怎么了？我该如何继续并纠正这个问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-15T07:59:40.037

**如果**这是一个**完整**的代码，编译器是绝对正确的。

您在此代码中没有**任何** `ProcessInput(..);`函数定义。

**编辑**

查看已*编辑*的帖子会说您错过的是声明您的`ProcessInput`功能，例如`static`

```
 public static void ProcessInput()
    {
       ....
    } 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-15T08:04:12.797

现在（在对您的问题进行编辑之后）问题是您正在调用实例方法（`ProcessInput`）而没有类的实例`Program`（`Main`是静态方法）。

也标记`ProcessInput`为*static*以解决问题：

```
public static void ProcessInput()
{
} 
```

或者，创建你的`Program`类的一个实例并调用它的方法：

```
Program prg = new Program();
prg.ProcessInput(); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-15T08:04:29.183

尝试更改为

```
public static void ProcessInput()
{
} 
```

# vb.net - VB.NET 输入法编辑器

> ID：11046753
> 
> 赞同：-1
> 
> 时间：2012-06-15T07:58:10.673
> 
> 标签：vb.net, vb.net-2010, ime

我认为这是一个难题，但是如何制作像 Google IME 这样的自定义 IME，它可以在输入任何软件时编辑输入法？我需要一个开始的方式来做到这一点......

请帮忙。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T09:43:42.263

您可能需要使用 Windows API，请参阅[此处](http://support.microsoft.com/kb/190000/en-us)以将其与 VB 一起使用（您应该使用 Visual Studios 代码分析，因为此示例的风格非常“老派”），[此处](http://msdn.microsoft.com/en-us/library/ms645530%28v=vs.85%29.aspx)了解一些特定于键盘的 API 内容。

接下来就是进入windows消息循环，[这里](http://www.techrepublic.com/article/get-in-the-loop-control-your-vb-apps-window-messages-with-subclassing/1055957)有另一篇文章。

# playframework - PlayFramework 2.0.1 资产版本控制

> ID：11046755
> 
> 赞同：1
> 
> 时间：2012-06-15T07:58:20.547
> 
> 标签：playframework

我喜欢对 Play 2 的 LESS css 和 Google Closure 编译器的支持。有没有办法添加对自动版本控制的支持，这样我就不必担心每次进行更改时重命名文件。社区中的其他人如何处理这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T12:25:10.353

我认为这是您正在谈论的缓存问题。如果这是您正在谈论的版本控制问题，那么这是git 或 mercurial 等[版本控制系统的工作。](http://en.wikipedia.org/wiki/Revision_control)

每个静态资源都会遇到这个缓存问题。

**问题**

为了在客户端快速显示网页（并且为了在服务器端没有太多对静态内容的请求），您将在 HTTP 响应中添加 Cache-Control 和 Etag 指令。然后浏览器将从其缓存中获取这些静态资源。

但是，如果您更改 logo.png（例如更改您的公司徽标），由于此图像存储在浏览器缓存中，用户将不会看到您的新徽标。

**解决方案**

我看到了两种解决方案：

*   使用 Etag 和 Cache-control 指令让用户每 X 天请求一次新的静态资源。我使用前端服务器（例如[Nginx](http://wiki.nginx.org/Main)）执行此操作，但您也可以为此使用播放支持（在此处详细[说明](http://www.playframework.org/documentation/2.0/Assets)）
*   创建一个包含资源版本的假[查询参数。](http://en.wikipedia.org/wiki/Uniform_Resource_Locator)例如，您可以拥有`http://www.mydomain.com/public/images/logo.png?v=1.2`. 如果更改`v`参数，浏览器将不会从缓存中检索它。在服务器端，查询参数不会改变任何东西，服务的资源将再次被缓存。

我使用第二个解决方案，在我的 application.conf 中附加一个配置参数，附加到所有静态资源。这假设当您更新单个资源时，所有资源都会再次重新加载（通常，当您更改图像时，您也会更改您的 css，为什么不更改您的 js 文件......）

# javascript - 在 HTML 表中动态添加行的问题

> ID：11046758
> 
> 赞同：2
> 
> 时间：2012-06-15T07:58:26.847
> 
> 标签：javascript, jquery

我试图将行动态添加到 HTML 表中。Html 表格有一个自动完成的文本框。加载页面时，自动完成工作正常，我捕获 INSERT 键以插入新行。它的工作也很好。添加行没有任何问题。

我面临的问题是，自动完成功能仅在第一行有效，而在动态添加的行中无效，keydown 事件在新添加的行中也无效。

我认为问题出在文本框中的 id/name 上。非常感谢您的帮助。

我的脚本

```
 <script>

$(function() {
   var availableTags = new Array();
  <?php
     if($g_sql)
     {
         $i = 0;
         while ($result = mysql_fetch_array($g_sql))
         {
             ?>
             availableTags[<?php echo $i;?>] = "<?php echo $result['GroupName'];?>";
             <?php
             $i++;
         }
     }
 ?> 
     $( "#txtmatg" ).autocomplete({
       source: availableTags
     });
 });
 $("#txtsn").keydown(function(e) {
    if(e.which == 45)
    {
        addRow('mattable');
    }
 }); 
</script>
<SCRIPT language="javascript">
function addRow(tableID)
{
    var table = document.getElementById(tableID);
    var rowCount = table.rows.length;
    var row = table.insertRow(rowCount);
    var colCount = table.rows[0].cells.length;
    for(var i=0; i<colCount; i++) {
       var newcell = row.insertCell(i);
       newcell.innerHTML = table.rows[0].cells[i].innerHTML;
       switch(newcell.childNodes[0].type) {
       case "text":
           newcell.childNodes[0].value = "";
           break;
       }
     }
 }
     </SCRIPT> 
```

我的 HTML 代码是

```
 <div class="ui-widget">
      <table id="mattable">
           <tr>
              <td><input type="text" name="txtmatg[]" id="txtmatg" class="input"></td>
              <td><input type="text" name="txtmat[]" id="txtmat" class="input"></td>
              <td><input type="text" name="txtsn[]" id="txtsn" class="input"></td>
          </tr>
      </table>
   </div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T08:00:56.423

当您`input`动态附加时，您需要委托事件处理程序（又名实时事件）。所以你应该尝试如下：

```
$('#mattable').on("keydown.autocomplete","#txtmatg", function() {
    source: availableTags
}); 
```

并且还应该使用委托进行`#txtsn`如下操作：

```
 $('#mattable').on("keyup","#txtsn", function(e) {
       if(e.which == 45) {
          addRow('mattable');
       }
    }); 
```

### 注意：你不应该`id`对所有`input`s 使用相同的。

* * *

而不是`#txtmatg`您可以使用`name`属性作为选择器定义，如下所示：

```
$('#mattable').on("keydown.autocomplete","[name^=txtmatg]", function() {
    source: availableTags
}); 
```

并用于如下`#txtsn`用途`name`：

```
 $('#mattable').on("keyup","[name^=txtsn]", function(e) {
       if(e.which == 45) {
          addRow('mattable');
       }
    }); 
```

* * *

在这里，`[name^=tstmatg]`将针对所有输入，`name`以此类推`tstmatg`。

阅读有关**[jQuery 开始选择器的更多信息](http://api.jquery.com/attribute-starts-with-selector/)**

# emacs - 如何在dired模式下获取文件夹路径？

> ID：11046759
> 
> 赞同：5
> 
> 时间：2012-06-15T07:58:27.643
> 
> 标签：emacs, lisp, elisp

我可以通过以下方式获取文件路径：

```
(message (file-name-directory (or buffer-file-name load-file-name))) 
```

但如果缓冲区处于 dired 模式，则上述代码的计算结果为 nil。

如何使用elisp以dired模式获取文件夹路径？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-15T08:17:50.110

有`dired-directory`，但是[这个 Q&A](https://stackoverflow.com/questions/10772821/value-of-the-dired-directory)表明它在某些情况下是不可靠的，这`default-directory`是一个更好的选择。

*   `C-h``v` `default-directory` `RET`
*   `C-h``v` `dired-directory` `RET`

# regex - aix 上的 sed 正则表达式问题

> ID：11046760
> 
> 赞同：2
> 
> 时间：2012-06-15T07:58:30.247
> 
> 标签：regex, sed, aix

可以帮助翻译以下 sed 命令，以便在 aix 上执行相同的操作吗？

```
sed -e '/\([a-zA-Z0-9]\{1,10\}\s\{1,5\}\"\)/!d' 
```

在 linux 上运行良好，但在 AIX 上似乎什么也没做

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T11:11:42.847

所以原来问题与空格字符“\s”有关

我用转义空格“\”替换了“\s”，它可以工作

```
sed -e '/\([a-zA-Z0-9]\{1,10\}\ \{1,5\}\"\)/!d' 
```

# oracle - 具有 2 个不同访问方的 oracle 数据库

> ID：11046763
> 
> 赞同：0
> 
> 时间：2012-06-15T07:58:38.180
> 
> 标签：oracle, jpa, jboss

我们有以下设置：
有一个以 jboss 6 作为后端的 Web 应用程序。
有一个 oracle 数据库（11 g）。
有一张名为“changes”的表。
jboss 中的无状态会话 bean 只能通过 JPA（eclipselink，实体管理器）从此“更改”表中读取。
更改表的数据来自不同的来源：
不同服务器上的 AC 程序通过 OCI 接口（没有 jboss！）连接到上述 oracle 11g 数据库，并在“更改”数据库中创建新行或更新行。
有人经历过这种事情吗？
当 jboss/jpa 使用数据库时，通常不鼓励从其他来源采取行动。
非常感谢您提供的信息
Wolfgang

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T08:27:40.487

就数据库而言，这应该没问题，实际上这正是 RDBMS 的用途。检查[酸](http://en.wikipedia.org/wiki/ACID)。

作为性能说明，由于 Oracle 读取不等待写入，因此插入和更新（如果没有设计问题）不会显着影响您的 Web 应用程序。查看[多版本](http://en.wikipedia.org/wiki/Multiversion_concurrency_control)的概念。

# ckeditor - ckeditor 添加文本按钮

> ID：11046765
> 
> 赞同：0
> 
> 时间：2012-06-15T07:58:44.967
> 
> 标签：ckeditor

我正在尝试使用一些按钮向编辑器添加文本，

所以实际上我已经这样做了：

问题是我已经尝试了许多脚本以显示要在文本区域中显示的链接内容，如下所示：

```
<a href="javascript:CKEDITOR.editor1.insertText( ' [CADRCOM2]' );" style="color:green;" title="Adresse Client 2e ligne">[CADRCOM]</a> 
```

但没有任何效果。

到编辑器的显示效果很好，但在添加文本时不起作用。

任何人都可以帮助我吗？

亲切的问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T13:50:53.003

您是否检查过 CKEditor 提供的示例页面？ckeditor/_samples/api.html 有一些示例文本插入。

# android - 如何创建具有类似 GMail 布局的应用程序？

> ID：11046770
> 
> 赞同：2
> 
> 时间：2012-06-15T07:59:14.297
> 
> 标签：android, android-layout, user-interface

是否可以扩展这种布局，以便我可以在屏幕左侧有一个声音列表，在右侧我有一个随我选择的声音而变化的表格？例如，如果我按下“用户数据”，它将显示一个包含姓名、姓氏、要更改的按钮等的表单，而如果我按下“作品”，它将显示所有与工作相关的按钮和数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T08:15:46.373

我猜你可能正在寻找这样的东西。

[http://www.linuxforu.com/2011/05/android-fragments-api/](http://www.linuxforu.com/2011/05/android-fragments-api/)

# wso2 - DSS 中的事务

> ID：11046771
> 
> 赞同：0
> 
> 时间：2012-06-15T07:59:19.107
> 
> 标签：wso2, wso2dss

我想了解更多有关 DSS 事务处理的信息。我一直在阅读有关 boxcarring 和分布式交易的信息，但这不是我想要的。Boxcarring 是有状态的（客户端需要维护一个会话），我的事务在同一个数据库中，而不是分布式的。

我正在寻找以下问题/挑战的解决方案： - 我有一组相关表。它们通过主键/外键关系相关联。我需要在相关表中更新/插入对象。我可以在一组嵌套更新查询中执行此操作吗？如果是这样，当其中一个更新失败时会发生什么？所有插入/更新的对象都会回滚吗？（我正在使用 MySQL XA 驱动程序）

谢谢，

丹尼

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:03:25.173

恐怕，只是嵌套查询机制行不通。由于在正常模式下，每个嵌套查询都会提交请求。所以我能看到的唯一方法是使用带有 JMS 的 XA 事务。基本上，当使用 JMS 并打开分布式事务时，它将创建一个全局事务，并且数据服务中的所有其他请求（包括嵌套查询）将加入该事务，并且所有查询都将以事务方式执行。希望这可以帮助。

干杯，安佳娜。

# java - 如何检查给定路径列表是否存在文件？

> ID：11046772
> 
> 赞同：5
> 
> 时间：2012-06-15T07:59:22.727
> 
> 标签：java, file, file-io, guava

我有一个包含 50,000 个路径的列表，我需要检查每个路径是否存在文件。现在，我正在像这样独立验证每条路径：

```
public static List<String> filesExist(String baseDirectory, Iterable<String> paths) throws FileNotFoundException{
        File directory = new File(baseDirectory);
        if(!directory.exists()){
            throw new FileNotFoundException("No Directory found: " + baseDirectory );
        }else{
            if(!directory.isDirectory())
                throw new FileNotFoundException(baseDirectory + " is not a directory!");
        }

        List<String> filesNotFound = new ArrayList<String>();

        for (String path : paths) {
            if(!new File(baseDirectory + path).isFile())
                filesNotFound.add(path);
        }
        return filesNotFound;
    } 
```

有没有办法改进它，这样我就不会创建 50,000 个文件对象？我也在用番石榴。那里有什么实用程序可以帮助我使用批量`exists()`方法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-15T08:02:57.307

创建 50,000 个`File`对象几乎肯定不是瓶颈。实际的文件系统操作可能是让它变慢的原因。

我有两个建议：

1.  在检查之前，按照路径的位置对路径进行排序，以充分利用文件系统缓存。
2.  如果子目录不存在，您可以自动假设其中的所有文件和子目录也不存在。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T13:46:58.513

我会为此使用特殊的数据结构。

[特里](http://en.wikipedia.org/wiki/Trie)

![在此处输入图像描述](../Images/e97c865f142002e2e26a5518ef9fa20f.png)

将您的终端节点视为包含文件夹的文件和父节点。您可以检查您的文件夹中的终端节点。如果某些文件共享相同的父文件，它将大大减少查找操作的数量。

你的总操作数将是

总运营 = 总节点 - 终端节点

简单的遍历算法你的特殊树就足够了。抱歉，但坚信此解决方案不是基于 Guava，但更适合。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T08:29:19.117

我同意aix 的上一个回答，但我想补充一点。假设文件系统访问是瓶颈，并且**如果**baseDirectory 下的文件数量大致已知并且不太大（无论这意味着什么），那么可能值得尝试`FileUtils.iterateFiles`or `FileUtils.listFiles`，然后检查每个返回的路径是否存在于路径中。这背后的想法是，这些方法执行的目录列表可能比许多单独的访问更有效。

同样，这种方法取决于对您的环境的许多假设，但总是值得考虑并尝试一下。

（想将此作为评论添加到 aix 的回复中，但不能...）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-15T09:15:07.463

恕我直言，一个非常有效的解决方案（受先前两个答案的启发）如下：

*   对路径进行排序
*   将它们中的每一个都视为树
*   另一棵树是目录树
*   访问目录树时读取整个目录，以防另一棵树中有“许多”子级，否则使用单独检查“少数”子级
*   对两棵树进行并行遍历，跳过其中一棵树中缺少的部分

示例（作为预购列表给出的树）：

```
tree1: / /a /a/a /d /d/a /d/a/b /e
tree2: / /a /b /d /d/a /e 
```

加工：

*   从...开始`/`
*   下降到`/a`因为存在于两者中
*   跳过`/a/a`tree2中的缺失
*   跳过`/b`tree1 中的缺失
*   下降到`/d`因为存在于两者中
*   ...

您的`filesNotFound`列表包含与输入列表对应的树中跳过的所有文件。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-15T13:15:09.733

由于某些原因，我现在无法启动我的开发环境，所以这可能有点不正确。Go-go 小工具函数式编程！

```
public static List<String> filesExist(String baseDirectory, Iterable<String> paths) throws FileNotFoundException{
    final File base = new File(baseDirectory);
    if (base.exists()) {
        return FluentIterable.from(paths).filter(new Predicate<String>() {
            public boolean apply(String in) {
                return new File(in,base).exists();
            }
        }).toImmutableList();
    }
    throw new FileNotFoundException("Base doesn't exist!");
} 
```

如上所述，您的主要问题仍然是 I/O。

# cakephp - CakePHP MVC 控制器可以返回图像吗？

> ID：11046774
> 
> 赞同：2
> 
> 时间：2012-06-15T07:59:31.873
> 
> 标签：cakephp

cakephp 控制器是否有可能返回一个图像，基本上需要这个来生成验证码图像。我尝试从 /webroot/files/captcha_gen.php 执行它并使用.. $_SESSION [“rand_code”]将代码保存在会话中，但由于某种原因，控制器没有在会话变量列表中显示它..

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-15T08:05:57.617

yes it is, of course

you need to set the right headers (using cake2's response class) [http://book.cakephp.org/2.0/en/controllers/request-response.html#cakeresponse](http://book.cakephp.org/2.0/en/controllers/request-response.html#cakeresponse)

then you can just print out the image and it will just be a normal image for the browser:

```
$this->autoRender = false;
$this->response->type('jpg');
$this->response->body($imageContent); 
```

# php - SSH登录到Netbeans for PHP中的远程服务器

> ID：11046780
> 
> 赞同：1
> 
> 时间：2012-06-15T07:59:48.673
> 
> 标签：php, netbeans, ssh, remote-server

我是 Netbeans IDE 的新手。我必须连接到远程服务器，但连接到服务器时遇到问题。1）我去了远程服务器上的文件-->新项目--> PHP-->应用程序。2）我输入了正确的用户名和密码 3）测试连接 --> 连接失败

我的系统管理员回复我的查询的唯一内容是“它是 linux 登录，您需要 SSH”。

这是什么意思？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T08:16:01.520

SFTP[实际上使用 SSH](http://en.wikipedia.org/wiki/SSH_File_Transfer_Protocol)，因此选择 SFTP 作为您的连接类型。您的系统管理员似乎没有太大帮助，但是如果您可以访问 Linux 机器或 Linux shell 环境，请尝试使用连接到您的服务器

> ssh 用户名@主机名

这将提示您输入密码，或提供有关无法登录的错误消息。

确保您的登录详细信息正确，并且您拥有正确的远程路径。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T08:08:47.857

你试过命令`ssh yourusername@yourhost`吗？

如果可行，您可以在“Remont 配置”中，管理“远程连接”，“连接类型”选择“SFTP”，输入您的主机名、密码并重试。

参考[SSH](http://en.wikipedia.org/wiki/Secure_Shell)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T08:02:27.213

默认情况下，Netbeans 仅支持远程服务器配置的 FTP 和 SFTP。

# openssl - 从公钥openssl中提取私钥

> ID：11046783
> 
> 赞同：0
> 
> 时间：2012-06-15T07:59:58.393
> 
> 标签：openssl

有什么方法可以使用openssl从公钥中提取私钥？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-15T08:02:01.650

不，这是不可能的，设计使然。

如果可以从公钥中恢复私钥，那么任何人都可以解密使用任一密钥签名的数据，从而完全违背了公钥加密的目的。

如果你丢失了你的私钥，很遗憾你需要生成一个新的和新的公钥来使用它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-15T08:03:56.587

公钥的全部意义在于成为您的密钥的令牌表示，仅可用于前向加密和签名验证。如果公钥有任何方法可以解密一组加密的字节或创建数字签名，那么拥有公钥/私钥系统就没有意义了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T08:01:56.343

不，没有。除了蛮力。

发明了非对称密码学来防止这种情况 - 从公共密钥中“提取”私钥。

# java - 我有一个 JFrame GUI（使用 GUI 构建器），带有来自 swing 控件的 List [JList]，但无法调用 setListData(Object[]) 而不会出现错误

> ID：11046787
> 
> 赞同：1
> 
> 时间：2012-06-15T08:00:29.667
> 
> 标签：java, swing, jlist

当我在 netbeans 中运行程序时，一切正常。但是，当我尝试构建项目以创建它的 Jar 文件时，调用 setListData(Object[]) 的每一行都会导致以下错误：

```
警告：[unchecked] 作为原始成员对 setListData(E[]) 的未经检查的调用
  键入 JList jList1.setListData(people.allStudentsAttendance());
  其中 E 是一个类型变量： E 扩展在类 JList 中声明的 Object

```

我故意取消选中 -Xlint 因为我收到以下错误：

```
注意：L:\Attendance\src\Attendance\AttendGUI.java 使用或覆盖已弃用的 API。
注意：使用 -Xlint:deprecation 重新编译以获取详细信息。
注意：L:\Attendance\src\Attendance\AttendGUI.java 使用未经检查或不安全的操作。
注意：使用 -Xlint:unchecked 重新编译以获取详细信息。

```

在我取消选中它并开始尝试调试错误之前。Jar 文件不起作用，经过几天的搜索，我无法弄清楚如何解决此问题。先感谢您

这是我的GUI代码~~

~~~~~~~~~~~~~~~~~~~~~~~~

```
package Attendance;

public class AttendGUI extends javax.swing.JFrame {

private Model people = new Model();

private int toggleChecker = 0;

    /** Creates new form AttendGUI */
    public AttendGUI() {
        initComponents();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */

    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">
    private void initComponents() {

        jButton1 = new javax.swing.JButton();
        jTextField1 = new javax.swing.JTextField();
        jButton2 = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();
        jTextField2 = new javax.swing.JTextField();
        jButton4 = new javax.swing.JButton();
        jButton5 = new javax.swing.JButton();
        jButton7 = new javax.swing.JButton();
        jScrollPane1 = new javax.swing.JScrollPane();
        jList1 = new javax.swing.JList();
        jLabel1 = new javax.swing.JLabel();
        jPasswordField1 = new javax.swing.JPasswordField();
        jScrollPane2 = new javax.swing.JScrollPane();
        jList2 = new javax.swing.JList();
        jButton6 = new javax.swing.JButton();
        jToggleButton1 = new javax.swing.JToggleButton();
        jCheckBox1 = new javax.swing.JCheckBox();
        jButton8 = new javax.swing.JButton();
        jTextField3 = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        jButton1.setText("Add Student");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        jTextField1.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        jTextField1.setText("Enter Full Name");
        jTextField1.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                jTextField1FocusGained(evt);
            }
        });

        jButton2.setText("Remove Student");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });

        jButton3.setText("Sign In");
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });

        jTextField2.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        jTextField2.setText(people.getDate());

        jButton4.setText("Remove Time");
        jButton4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4ActionPerformed(evt);
            }
        });

        jButton5.setText("Display All Students");
        jButton5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton5ActionPerformed(evt);
            }
        });

        jButton7.setText("Display Attendence of:");
        jButton7.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton7ActionPerformed(evt);
            }
        });

        jScrollPane1.setViewportView(jList1);

        jLabel1.setForeground(new java.awt.Color(51, 51, 255));
        jLabel1.setText("A password is required to remove information:");

        jList2.setBorder(javax.swing.BorderFactory.createTitledBorder("Currently Selected"));
        jList2.setModel(new javax.swing.AbstractListModel() {
            String[] strings = { "none" };
            public int getSize() { return strings.length; }
            public Object getElementAt(int i) { return strings[i]; }
        });
        jScrollPane2.setViewportView(jList2);

        jButton6.setText("Display Tech Work of:");
        jButton6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton6ActionPerformed(evt);
            }
        });

        jToggleButton1.setText("Adding Drama Club Attendance");
        jToggleButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jToggleButton1ActionPerformed(evt);
            }
        });

        jCheckBox1.setText("Add Different Date");

        jButton8.setText("Select Student:");
        jButton8.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton8ActionPerformed(evt);
            }
        });

        jTextField3.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        jTextField3.setText("Enter Full Name");
        jTextField3.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                jTextField3FocusGained(evt);
            }
        });

        jLabel2.setFont(new java.awt.Font("Tahoma", 1, 12));
        jLabel2.setForeground(new java.awt.Color(51, 51, 255));
        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel2.setText("Select Yourself Here");

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jTextField1, javax.swing.GroupLayout.DEFAULT_SIZE, 111, Short.MAX_VALUE)
                            .addComponent(jButton2, javax.swing.GroupLayout.DEFAULT_SIZE, 183, Short.MAX_VALUE)
                            .addComponent(jButton1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addGap(11, 11, 11)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jButton3, javax.swing.GroupLayout.DEFAULT_SIZE, 167, Short.MAX_VALUE)
                            .addComponent(jTextField2, javax.swing.GroupLayout.DEFAULT_SIZE, 167, Short.MAX_VALUE)
                            .addComponent(jButton4, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 167, Short.MAX_VALUE)))
                    .addComponent(jButton5, javax.swing.GroupLayout.DEFAULT_SIZE, 361, Short.MAX_VALUE)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jToggleButton1, javax.swing.GroupLayout.DEFAULT_SIZE, 226, Short.MAX_VALUE)
                            .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, 226, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jCheckBox1)
                            .addComponent(jPasswordField1, javax.swing.GroupLayout.PREFERRED_SIZE, 129, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jButton8, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 166, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jButton7, javax.swing.GroupLayout.DEFAULT_SIZE, 177, Short.MAX_VALUE)
                            .addComponent(jButton6, javax.swing.GroupLayout.DEFAULT_SIZE, 177, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jTextField3, javax.swing.GroupLayout.PREFERRED_SIZE, 158, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 174, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                        .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(110, 110, 110)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 233, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jButton1)
                            .addComponent(jButton3))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jButton2)
                            .addComponent(jButton4))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jToggleButton1)
                            .addComponent(jCheckBox1))
                        .addGap(6, 6, 6)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel1)
                            .addComponent(jPasswordField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButton5, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(4, 4, 4)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jButton8, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jTextField3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 12, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(jButton7, javax.swing.GroupLayout.PREFERRED_SIZE, 33, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(jButton6, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                .addContainerGap(15, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>

private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         

    people.addStudent(jTextField1.getText());
    jList1.setListData(people.allStudentsAttendance());
    String[] sel = {people.getSelected()};
    jList2.setListData(sel);
}                                        

private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         

    if (true){
        people.removeStudent(jTextField1.getText());
        jList1.setListData(people.allStudentsAttendance());
        String[] sel = {"none"};
        jList2.setListData(sel);
    }
}                                        

private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {                                         

    String time;
    if (toggleChecker % 2 == 1){
        time = people.getDateTime();
        if (jCheckBox1.isSelected()){
            people.checkIn(jTextField2.getText());
        } else {
            people.checkIn(time);
        }
    } else {
        time = people.getDate();
        if (jCheckBox1.isSelected()){
            people.addAttend(jTextField2.getText());
        } else {
            people.addAttend(time);
        }
    }
    jTextField2.setText(time);
    if (toggleChecker % 2 == 1){
        jList1.setListData(people.viewTechHours());
    } else {
        jList1.setListData(people.viewAttendance());
    }
}                                        

private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {                                         

    if (jPasswordField1.getText().equals("hello")){
        if (toggleChecker % 2 == 1){
            people.removeHours(jTextField2.getText());
        } else {
            people.removeAttend(jTextField2.getText());
        }
        jList1.setListData(people.viewAttendance());
    }
}                                        

private void jButton5ActionPerformed(java.awt.event.ActionEvent evt) {                                         

    jList1.setListData(people.allStudentsAttendance());
}                                        

private void jButton7ActionPerformed(java.awt.event.ActionEvent evt) {                                         

    jList1.setListData(people.viewAttendance());
}                                        

private void jTextField1FocusGained(java.awt.event.FocusEvent evt) {                                        

    jTextField1.setText("");
}                                       

private void jButton6ActionPerformed(java.awt.event.ActionEvent evt) {                                         

    jList1.setListData(people.viewTechHours());
}                                        

private void jToggleButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                               

    toggleChecker++;
    if (toggleChecker % 2 == 1){
        jToggleButton1.setText("Adding Tech Hours");
        jTextField2.setText(people.getDateTime());
        jButton3.setText("Check In");
    } else{
        jToggleButton1.setText("Adding Drama Club Attendance");
        jTextField2.setText(people.getDate());
        jButton3.setText("Sign In");
        toggleChecker = 0;
    }
}                                              

private void jTextField3FocusGained(java.awt.event.FocusEvent evt) {                                        

    jTextField3.setText("");
}                                       

private void jButton8ActionPerformed(java.awt.event.ActionEvent evt) {                                         

    people.selectStudent(jTextField3.getText());
    jList1.setListData(people.viewAttendance());
    String[] sel = {people.getSelected()};
    jList2.setListData(sel);
}                                        

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(AttendGUI.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(AttendGUI.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(AttendGUI.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(AttendGUI.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {

            @Override
            public void run() {
                new AttendGUI().setVisible(true);
            }
        });
    }
    // Variables declaration - do not modify
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton4;
    private javax.swing.JButton jButton5;
    private javax.swing.JButton jButton6;
    private javax.swing.JButton jButton7;
    private javax.swing.JButton jButton8;
    private javax.swing.JCheckBox jCheckBox1;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JList jList1;
    private javax.swing.JList jList2;
    private javax.swing.JPasswordField jPasswordField1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JTextField jTextField1;
    private javax.swing.JTextField jTextField2;
    private javax.swing.JTextField jTextField3;
    private javax.swing.JToggleButton jToggleButton1;
    // End of variables declaration
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T10:12:54.423

[`JList`](http://docs.oracle.com/javase/7/docs/api/javax/swing/JList.html)它在 Java 7 中[`DefaultListModel`](http://docs.oracle.com/javase/7/docs/api/javax/swing/DefaultListModel.html)变得[通用](http://docs.oracle.com/javase/tutorial/java/generics/index.html)。NetBeans 抑制了它生成的代码中的相应警告，但您的代码仍然未经检查。你可以

*   根据需要添加`@SuppressWarnings("unchecked")`注释，
*   [按照本例](https://stackoverflow.com/a/9441109/230513)中的建议，修改代码以确保类型安全。

# php - php中的数据表标题列问题

> ID：11046788
> 
> 赞同：0
> 
> 时间：2012-06-15T08:00:30.107
> 
> 标签：php, sorting, datatables

我正在为我的 php 脚本使用数据表插件。我有一个有 8 列的表。通过使用数据表，我可以通过单击表列的标题对记录进行排序。现在我想将此排序功能限制为仅 6 列，因为其中一列显示复选框，另一列显示图像。所以不需要对这两列进行排序。我如何限制这两列？我的代码是这样的：

```
<script type="text/javascript">
$(document).ready(function(){
  $('#example').dataTable( {
    "bProcessing": true,
    "sAjaxSource": "datatable-managedealdb.php",
    "bJQueryUI": true,
    "sPaginationType": "full_numbers",
    "oLanguage": {
      "sSearch": "Search :"
    }

  } );} );

</script>
<table class="form_table display dataTable" id="example" cellpadding="0" cellspacing="0">
  <thead>
  <?php $i = 1; ?>
  <tr >
    <th id="blankSpace">&nbsp;</th>
    <th class="sorting_asc">Deal No.</th>
    <th >Name</th>
    <th >Deals Description</th>
    <th >Start Date</th>
    <th >End Date</th>
    <th align="left">No. of Clicks</th>
    <th >Image</th>
    <th >Status</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td colspan="9" class="dataTables_empty">Loading data from server</td>
  </tr>
  </tbody>
</table> 
```

在 datatable-managedealdb.php 文件中：

```
...
while ( $aRow = mysql_fetch_array( $rResult ) )
{
  $deal_img = ($aRow['deal_thumb_img'] == '')?'no-pic.jpg':$_SESSION['busername'].'/'.$aRow['deal_thumb_img'];
  $row = array();
  $row[] = "<input type='radio' name='deal_check' id='smallBtn' value='".$aRow['deal_id']."' />";
  if($aRow['deal_no'] != ''){

    $row[] =$aRow['deal_no'];
  }
  if($aRow['deal_name'] != ''){
    $row[] = $aRow['deal_name'];
  }

  if($aRow['deal_desc'] != ''){
    $row[] = (strlen($aRow['deal_desc'])>100)?substr(wordwrap($aRow['deal_desc'],80,"<br />\n",TRUE),0,100)."...":wordwrap($aRow['deal_desc'],80,"<br />\n",TRUE);
  }
  if($aRow['start_deal_date'] != ''){
    $row[] = format_date(substr($aRow['start_deal_date'],0,10));
  }
  if($aRow['end_deal_date'] != ''){
    $row[] = format_date(substr($aRow['end_deal_date'],0,10));
  }
  if($aRow['deal_no_of_clicks'] != ''){
    $row[] = $aRow['deal_no_of_clicks'];
  }
  if($aRow['deal_thumb_img'] != ''){
    //$row[] = ($aRow['payment_status'] == 1)?"Paid":"Due";
    $row[] = "<img src='".DEAL_UPLOADING_PATH.$_SESSION['busername'].'/'.$aRow['deal_thumb_img']."' width='25' height='25' border='0' />";
  }
  else if($aRow['deal_thumb_img'] == ''){
    $row[] = "<img src='".DEAL_UPLOADING_PATH."no-pic.jpg' width='25' height='25' border='0' />";
  }

  if($aRow['deal_status'] == '0'){
    $row[] = '<img src="img/flag1.png" border="0" title="Disable"/>';
  }
  else if($aRow['deal_status'] == '1'){
    $row[] = '<img src="img/flag.png" border="0" title="Enable"/>';
  }

  $output['aaData'][] = $row;
}
... 
```

请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T09:00:44.817

有一个名为[**bSortable**](http://datatables.net/usage/columns#bSortable)的设置。
所以你可以试试：

```
$('#example').dataTable({
  "bProcessing": true,
  "sAjaxSource": "datatable-managedealdb.php",
  "bJQueryUI": true,
  "sPaginationType": "full_numbers",
  "oLanguage": {
    "sSearch": "Search :"
  },
  "aoColumnDefs": [{ "bSortable": false, "aTargets": [7, 8] }]
  /*
  alternatively null for all first 6 columns, the other 2 are set to disabled:

  "aoColumns": [
    null, null, null, null, null, null,
    { "bSortable": false },
    { "bSortable": false },
  ]
  */
}); 
```

# java - 获取重载方法的方法句柄

> ID：11046790
> 
> 赞同：0
> 
> 时间：2012-06-15T08:00:43.687
> 
> 标签：java, java-7, methodhandle

是否可以在 Java 7 中查找重载方法的方法句柄？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-15T08:03:50.353

你可以得到[`MethodHandle`](http://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandle.html)任何你能得到一个[`Method`](http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Method.html)使用的东西[`MethodHandles.Lookup.unreflect()`](http://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandles.Lookup.html#unreflect%28java.lang.reflect.Method%29)。

# hibernate - Hibernate HQL 和继承

> ID：11046794
> 
> 赞同：1
> 
> 时间：2012-06-15T08:00:53.570
> 
> 标签：hibernate, inheritance, hql

这是我的问题-

有两个类`Order`和`PaymentType`。一个订单会有一个`PaymentType`。现在`PaymentType`是一个抽象类，还有另外两个类被称为扩展`CreditCardPaymentType`类。在休眠中，它们被建模为 Single_Table 策略。包含一个名为. 我正在按照 HQL 编写，我的目的是急切地加载实体。`PaypalPaymentType``PaymentType``CreditCardPaymentType``CreditCardNumber``CreditCardNumber`

```
session.createQuery("select order from Order as order " +
                "inner join fetch order.paymentType.Unknown"); 
```

应该用什么来代替“未知”？由于`PaymentType`类对类一无所知`CrediCardNumber`，我可以在上面的查询中放入什么来热切地加载`CreditCardNumber`。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T12:25:56.177

如果我错了，请纠正我。检查下面的代码

```
session.createQuery("from Order as order " +
"inner join fetch order.paymentType.class = CreditCardPaymentType"); 
```

根据[网址](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html)，

在多态持久性的情况下，特殊属性类访问实例的鉴别器值。嵌入在 where 子句中的 Java 类名将被转换为它的鉴别器值。来自猫猫哪里`cat.class = DomesticCat`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-15T08:50:28.350

无论如何，您想做的事情都行不通。

在订单中，您不能创建 PaymentType 类型的实体并使用休眠加载它。PaymentType 是抽象的，因此无法实例化。从 so 数据库加载实体时，Hibernate 需要一个构造函数。所以你不能映射抽象类，你只能映射至少有一个无参数构造函数的实现类。

=> 在映射中`Order`你必须指定 if `order.paymentType`is`CreditCardPaymentType`或`PaypalPaymentType`。这解决了你的问题，因为你知道什么是`unknown`真正的。

解决您的任务：在数据库端，您可以在一个表中继续处理所有付款类型。在 Java 方面，您有两种可能性（都是一种想法）：

1.  您使 PaymentType 不是抽象的，有两个方法`boolean isCreditCardPayment()`和`boolean isPaypalCardPayment()`，并且 PaymentType 包含数据库表的所有列。你只使用这个类，你忘记了类`PaypalPaymentType`和`CreditCardPaymentType`.

或者

1.  在两者的映射中`PaypalPaymentType`，`CreditCardPaymentType`您放置一个 where 条件，确保仅加载正确支付类型的行。在 Order 中删除属性 paymentType 并添加两个属性 paypalPaymentType 和 creditcardPaymentType 作为替代，它们引用了两个 Java 类。加载 时`Order`，两个属性之一将为空。为方便起见，您可以创建一个方法`PaymentType getPaymentType()`，它返回非空支付类型，但您不能在 HQL 查询中使用这种便捷方法。

# javascript - 如何使用 JavaScript 检查字符串长度

> ID：11046797
> 
> 赞同：43
> 
> 时间：2012-06-15T08:00:58.710
> 
> 标签：javascript, forms

我想在像 StackOverflow 一样按下一个键时获取字符串长度。

![显示长度的 StackOverflow 示例](../Images/11b58c4284213c80e876e6ae7f65ac85.png)

我试图用 来做到这一点`onblur`，但它不起作用。我该怎么做呢？

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-06-15T08:05:48.530

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-06-15T08:07:00.637

**UPDATE:** Since I wrote this, the input event has gotten a decent level of support. It is still not 100% in IE9, so you will have to wait a bit until IE9 is fully phased out. In light of my answer to this question, however, input is more than a decent replacement for the method I've presented, so I recommend switching.

Use `keyup` event

```
var inp = document.getElementById('myinput');
var chars = document.getElementById('chars');
inp.onkeyup = function() {
  chars.innerHTML = inp.value.length;
}
```

```
<input id="myinput"><span id="chars">0</span>
```

## EDIT:

Just a note for those that suggest keydown. That won't work. The keydown fires *before* character is added to the input box or textarea, so the length of the value would be wrong (one step behind). Therefore, the only solution that works is keyup, which fires *after* the character is added.

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-06-15T08:04:57.687

You should bind a function to keyup event

```
textarea.keyup = function(){
   textarea.value.length....
} 
```

with jquery

```
$('textarea').keyup(function(){
   var length = $(this).val().length;
}); 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-06-15T08:10:32.627

快速而肮脏的方法是简单地绑定到`keyup`事件。

```
$('#mytxt').keyup(function(){
    $('#divlen').text('you typed ' + this.value.length + ' characters');
});
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

<input type=text id=mytxt >
<div id=divlen></div>
```

但更好的做法是将可重用函数绑定到多个事件。例如还可以更改（），因此您还可以预期文本更改，例如粘贴（使用上下文菜单，快捷方式也将被 捕获`keyup`）

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-06-15T08:07:15.417

```
 var myString = 'sample String';   var length = myString.length ; 
```

first you need to defined a keypressed handler or some kind of a event trigger to listen , btw , getting the length is really simple like mentioned above

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2012-06-15T08:02:32.353

```
function cool(d)
{
    alert(d.value.length);
}
```

```
<input type="text" value="" onblur="cool(this)">
```

它将返回字符串的长度

而不是`blur`使用`keydown`事件。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2012-06-15T08:16:33.867

基本上：为元素分配一个`keyup`处理程序，在其中计算 的长度，如果其长度小于最小值，则将计数写入单独的值。`<textarea>``<textarea>``<div>`

这是一个例子-

```
var min = 15;
document.querySelector('#tst').onkeyup = function(e){
 document.querySelector('#counter').innerHTML = 
               this.value.length < min 
               ? (min - this.value.length)+' to go...'
               : '';
} 
```

```
body {font: normal 0.8em verdana, arial;}
#counter {color: grey}
```

```
<textarea id="tst" cols="60" rows="10"></textarea>
<div id="counter"></div>
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2012-06-15T08:03:17.633

我不确定您尝试过 onblur 是什么意思，但是要获取任何字符串的长度，请使用其 .length 属性，因此对于文本框或文本区域：

```
document.getElementById("textarea").value.length 
```

当然，将该 ID 更改为实际 ID。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2018-09-04T18:03:40.980

```
<html>
<head></head>
<title></title>
<script src="/js/jquery-3.2.1.min.js" type="text/javascript"></script>
<body>
Type here:<input type="text" id="inputbox" value="type here"/>
<br>
Length:<input type="text" id="length"/>
<script type='text/javascript'>
    $(window).keydown(function (e) {
    //use e.which
    var length = 0;
    if($('#inputbox').val().toString().trim().length > 0)
    {
        length = $('#inputbox').val().toString().trim().length;
    }

    $('#length').val(length.toString());
  })
</script>
</body>
</html> 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2016-07-01T17:31:27.750

留下答复（以及问题标题的**答案**），对于未来的谷歌人......

您可以使用[`.length`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/length)来获取字符串的长度。

> var x = 'Mozilla'; var 空 = '';
> 
> console.log('Mozilla 是 ' + x.length + ' 代码单元长');
> 
> /*"Mozilla 有 7 个代码单元" */
> 
> console.log('空字符串的长度为' + empty.length);
> 
> /*"空字符串的长度为0" */

如果您打算获得发言的长度，`textarea` *那么* `id="txtarea"`您可以使用以下代码。

```
txtarea = document.getElementById('txtarea');
console.log(txtarea.value.length); 
```

您应该能够将其与 BMP Unicode 符号一起使用。如果你想支持像 () 这样的“非 BMP 符号”，那么它是一个边缘情况，你需要找到一些解决方法。

# 

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2020-12-22T10:40:14.607

这就是我编写的用于获取 Unicode 字符中的字符串的函数：

```
function nbUnicodeLength(string){
    var stringIndex = 0;
    var unicodeIndex = 0;
    var length = string.length;
    var second;
    var first;
    while (stringIndex < length) {

        first = string.charCodeAt(stringIndex);  // returns an integer between 0 and 65535 representing the UTF-16 code unit at the given index.
        if (first >= 0xD800 && first <= 0xDBFF && string.length > stringIndex + 1) {
            second = string.charCodeAt(stringIndex + 1);
            if (second >= 0xDC00 && second <= 0xDFFF) {
                stringIndex += 2;
            } else {
                stringIndex += 1;
            }
        } else {
            stringIndex += 1;
        }

        unicodeIndex += 1;
    }
    return unicodeIndex;
} 
```

# c - 如何在 ubuntu 中使用 C 语言在 .dat 文件中追加数据？

> ID：11046799
> 
> 赞同：-5
> 
> 时间：2012-06-15T08:01:04.300
> 
> 标签：c

这是我遇到错误的代码....

```
for (i=0; i<portcount; i++)
{   
    printf("%f ", ccds[i]/100000);
    fp=fopen("/administrator/IDS/et.dat", "a");
    //fprintf(fp, "er");        
    fprintf(fp, "%d ", (int)ccds[i]/100000);
    fclose(fp); 
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-15T08:06:26.790

You should check that the file actually opens successfully, and probably also put the file open/close *outside* the loop:

```
fp = fopen("/administrator/IDS/et.dat", "a");
if (fp == NULL)             // always check for success when opening a file
{
    perror("fopen failed");
}
else
{
    for (i = 0; i < portcount; i++)
    {   
        fprintf(fp, "%d ", (int)ccds[i]/100000);
    }
    fclose(fp); 
} 
```

# logging - 在具有异步请求的基于类的 sinatra 应用程序中使用机架中间件

> ID：11046806
> 
> 赞同：1
> 
> 时间：2012-06-15T08:01:52.023
> 
> 标签：logging, sinatra, rack, eventmachine

我正在尝试将异步请求记录到我的 sinatra 应用程序。我正在使用运行良好的 sinatra 同步，但我没有看到我的任何请求信息。[这篇文章](https://stackoverflow.com/questions/6427033/how-do-i-log-asynchronous-thinsinatrarack-requests)显示了一个解决方案，但我很抱歉新手自己无法让它工作！

应用程序.rb

```
require_relative 'logger' # middleware

class MyApp < Sinatra::Base
  register Sinatra::Synchrony # async http requests up in this!
  use Logger::Middleware
  ...
end 
```

在机架上我得到：

```
/Users/nflacco/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/logger.rb:197:in `<top (required)>': Logger is not a class (TypeError) 
```

我环顾四周，但没有看到关于将中间件与基于类的 sinatra 应用程序一起使用的快速答案。谢谢！

* * *

更新：我对 Rack:CommonLogger 进行了一些处理，并让它向服务器显示我的请求（即使使用 sinatra-synchrony），但没有任何内容被写入文件。嗯。

应用程序.rb

```
 configure do
    Dir.mkdir('log') unless File.exists?('log')
    use Rack::CommonLogger, Logger.new('log/elphi-api.log')
  end 
```

# java - android：使活动A等待活动B完成并返回一些值

> ID：11046810
> 
> 赞同：12
> 
> 时间：2012-06-15T08:01:59.137
> 
> 标签：java, android, android-activity

我有一个程序需要...

1.  在`Activity A`，做一些工作
2.  启动`Activity B`（a `WebView`），让用户填写一些信息，然后收集结果
3.  然后最后处理数据

目前我是这样设置的：

在`Activity A`：

```
... 
startActivityForResult(this, new Intent(ActivityB.class)); 
...

protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    ...
    //get result from data, do something with it
    ...
} 
```

这似乎是一种尴尬的方法，因为我需要将任务分成许多不同的部分。我需要处理所有部分抛出的异常，这样做很不方便。有没有更好的方法？

另外，在上面的步骤 (3) 之后，我将多次重复此步骤，每次都将最终结果发布到 textview。我认为这意味着我需要将它们放入 中`AsyncTask`，但这使它变得更加困难（应该`onActivityResult`放在哪里？）。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-06-15T08:10:13.693

简单的答案是没有其他办法。这就是在 Android 中的意义所在。我相信，您唯一缺少的是将请求代码传递给活动 B。没有它，您将无法区分哪些其他活动将结果返回给活动 A。

如果您从 A 调用不同的活动，请`requestCode`在启动活动时使用不同的参数。`Intent`此外，您可以使用相同的方法（好吧，几乎任何方法）将任何数据传回活动 B ：

```
public final static int REQUEST_CODE_B = 1;
public final static int REQUEST_CODE_C = 2;
...

Intent i = new Intent(this, ActivityB.class);
i.putExtra(...);    //if you need to pass parameters
startActivityForResult(i, REQUEST_CODE_B);

...

//and in another place:
Intent i = new Intent(this, ActivityC.class);
i.putExtra(...);    //if you need to pass parameters
startActivityForResult(i, REQUEST_CODE_C); 
```

然后在你的`on ActivityResult`：

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    switch(requestCode) {
        case REQUEST_CODE_B:
            //you just got back from activity B - deal with resultCode
            //use data.getExtra(...) to retrieve the returned data
            break;
        case REQUEST_CODE_C:
            //you just got back from activity C - deal with resultCode
            break;
    }
} 
```

`OnActivityResult`在 GUI 线程上执行，因此您可以直接在此处进行任何更新。

最后，在活动 B 中，您将拥有：

```
Intent resultIntent = new Intent();
resultIntent.putExtra(...);  // put data that you want returned to activity A
setResult(Activity.RESULT_OK, resultIntent);
finish(); 
```

我不确定你为什么需要`AsyncTask`处理结果。

# excel - 替换excel字段中的文本

> ID：11046814
> 
> 赞同：0
> 
> 时间：2012-06-15T08:02:17.967
> 
> 标签：excel, replace, worksheet-function

我正在尝试将几个国家的首字母缩写词更改为全名。我要替换的两个字母首字母缩写词的列如下所示：

```
HU
DE
DE
HU
PL
UA
CZ
SK
BY
EE
MD
SP 
```

在单独的表格中，我列出了与首字母缩略词相关的国家/地区列表，我想将其用作参考，以加快将首字母缩略词替换为全名的过程，如下所示：

```
A   Austria
BY  Belarus
BG  Bulgaria
HR  Croatia
CZ  Czech
DK  Denmark
EE  Estonia
GR  Greece
HU  Hungary
IE  Ireland
IT  Italy
LV  Latvia
LT  Lithuania
LX  Luxemburg
NL  Nederlands
PL  Poland
RO  Romania
RU  Russia
CS  Serbia
SK  Slovakia
UA  Ukraine
UK  United Kingdom 
```

使用 IF 和 REPLACE 公式，我想用匈牙利替换首字母缩略词，例如 HU。我试图用一个看起来像这样的公式来做到这一点：

```
=IF(FR_HU_Consolidation!C2= B21, REPLACE(B22,1,100,D22), nothing) 
```

其中，FR_UH...C2 是第一张表中的第一个单元格，我想在其中替换表 1 中的 HU 首字母缩写词。

我的任务是使这个过程自动化，以获取 100 个国家/地区的首字母缩略词列表。

我的想法是使用 IF 语句来查看是否（表 1 首字母缩略词）==（表 2（参考）首字母缩略词），然后如果为真，则将首字母缩略词替换为相应的国家/地区，否则什么也不做。

我不确定这个任务对于excel来说是否太复杂，但如果可能的话，它会为我节省很多时间。

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T09:21:13.560

一种简单的方法是使用`VLOOKUP`. 假设我在 A 列中有一个首字母`Sheet1`缩写词列表，`Sheet2`在 A 和 B 列中有一个首字母缩写词列表：

```
 Sheet 1                 Sheet 2
     A    B                 A     B
1    HU   =VLOOKUP(...      A     Austria
2    DE                     BY    Belarus
3    DE                     BG    Bulgaria
4    HU                     HR    Croatia
5    etc. 
```

在`Sheet1`I 的 B 列中，将有以下公式：

```
=VLOOKUP(A1, $Sheet2!$A$1:$B$4, 2, 0) //change range references as appropriate 
```

然后你需要做的就是将forma从首字母缩略词列表中拖下来，`Sheet1`然后将B列中的结果复制并粘贴到A列中`Sheet1`。

希望这有助于您入门。

# twitter4j - Twitter 通过 Android 应用发送直接消息

> ID：11046817
> 
> 赞同：4
> 
> 时间：2012-06-15T08:02:27.297
> 
> 标签：twitter4j

我正在尝试通过我的 Android 应用程序发送直接消息

但我在 LogCat 收到以下错误：

> java.lang.IllegalStateException：缺少身份验证凭据。有关详细信息，请参阅[http://twitter4j.org/configuration.html](http://twitter4j.org/configuration.html)。

我提到了[http://twitter4j.org/en/code-examples.html](http://twitter4j.org/en/code-examples.html)

```
//instance is re-useable and thread safe.

Twitter sender = new TwitterFactory().getInstance();
DirectMessage message = sender.sendDirectMessage(recipientId, message);
System.out.println("Sent: " message.getText() + " to @" + message.getRecipientScreenName()); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T23:19:04.460

正如错误消息所说：

> 缺少身份验证凭据。

从 Twitter4J[代码示例](http://twitter4j.org/en/code-examples.html)页面：

> 要运行示例代码，您需要在 twitter4j.properties 中配置 OAuth 凭据。有关详细信息，请参阅[Twitter4J - 配置](http://twitter4j.org/en/configuration.html)。

您必须登录才能在 Twitter 上发送直接消息。您需要通过 Twitter4J 配置页面上提供的三种方法之一来配置您的身份验证凭据，然后代码示例才能运行。

1.  通过 twitter4j.properties
2.  通过 ConfigurationBuilder
3.  通过系统属性

# c# - WCF 调用 - 最佳实践

> ID：11046821
> 
> 赞同：2
> 
> 时间：2012-06-15T08:02:35.823
> 
> 标签：c#, wcf, using

这个问题的两个小部分，希望能为我消除一些歧义。

首先，哪个更适合调用 WCF 服务？

```
using (var myService = new ServiceClient("httpBinding")){
     try{         
          var customerDetails = GetCustomerDetails();
          var results = myService.GetCustomerPurchases(customerDetails);
     }catch(Exception e){
          ......
     }
} 
```

或者

```
var myService = new ServiceClient("httpBinding");
try{
     var customerDetails = GetCustomerDetails();
     var results = myService.GetCustomerPurchases(customerDetails);
}catch(Exception e){
     .......
} 
```

我想知道的是，我是否应该始终将服务调用包装在 using 块中？如果服务引发异常，是否会调用 IDisposable.Dispose()？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-15T08:29:30.523

看看[这个](https://stackoverflow.com/questions/573872/what-is-the-best-workaround-for-the-wcf-client-using-block-issue)问题。

您还可以创建几个类，例如

```
public class ClientService<TProxy>
{
    private static ChannelFactory<TProxy> channelFactory = new ChannelFactory<TProxy>("*");

    public static void SendData(Action<TProxy> codeBlock)
    {
        var proxy = (IClientChannel) channelFactory.CreateChannel();
        bool success = false;

        try
        {
            codeBlock((TProxy)proxy);
            proxy.Close();
            success = true;
        }
        finally
        {
            if (!success)
            {
                proxy.Abort();
            }
        }
    }

    public static TResult GetData<TResult>(Func<TProxy, TResult> codeBlock)
    {
        var proxy = (IClientChannel) channelFactory.CreateChannel();
        bool success = false;

        TResult result;
        try
        {
            result = codeBlock((TProxy)proxy);
            proxy.Close();
            success = true;
        }
        finally
        {
            if (!success)
            {
                proxy.Abort();
            }
        }

        return result;
    }
}

public class SomeAnotherService<TProxy>
{
    public static bool SendData(Action<TProxy> codeBlock)
    {
        try
        {
            ClientService<TProxy>.SendData(codeBlock);
            return true;
        }
        catch(Exception ex)
        {
            //...
        }
        return false;
    }

    public static TResult GetData<TResult>(Func<TProxy, TResult> codeBlock)
    {
        TResult result = default(TResult);
        try
        {
            result = ClientService<TProxy>.GetData(codeBlock);
        }
        catch (Exception ex)
        {
            //...
        }

        return result;
    }
} 
```

有时很方便。这是调用某些服务方法的示例。

```
var someObj = SomeAnotherService<IMyService>.GetData(x => x.SomeMethod()); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-15T08:26:39.400

`using`处理 WCF 代理时不要使用。原因之一是`Dispose()`will call如果代理处于状态`Close()`，它将引发异常。`Faulted`所以最好的用途是这样的：

```
var myService = new ServiceClient("httpBinding");

try
{
    myService.SomeMethod();
}
catch
{
    // in case of exception, always call Abort*(
    myService.Abort();

    // handle the exception
    MessageBox.Show("error..");
}
finally
{
    myService.Close();
} 
```

# html - 使用ajax调用文件时Html文件中不显示数据

> ID：11046825
> 
> 赞同：0
> 
> 时间：2012-06-15T08:03:10.137
> 
> 标签：html, ajax

我的问题是我从 ajax (jQuery) 调用一个 dummy.php 文件；这个 dummy.php 将调用我的 Oracle 服务器文件的 url，它返回字符串数据。我的 dummy.php 将调用 url 并从 url 返回数据。

测试.html

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
<script type="text/javascript"> 
     alert('hiheloo');
              $.ajax({
                type:"POST",
                url:"oracletest/dummy.php",
                success: function(data)
                {
                    alert(data);
                }
            )};

</script>
<body>
<p id="content"> </p>
</body> 
```

假人.php

```
$url = "http://..my ipaddress:8082/oracle/test.php?data=2";
        $a = file_get_contents($url);
        echo ($a); 
```

我的 dummy.php 工作正常，只是我没有在 html 中获取数据。谁能帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T09:18:15.247

尝试将 ajax 类型更改为“获取”。

# sql - 在 postgresql 中，是否可以使用 CREATE TABLE 上的触发器为表创建触发器？

> ID：11046833
> 
> 赞同：1
> 
> 时间：2012-06-15T08:03:33.927
> 
> 标签：sql, postgresql, triggers, ddl, ddl-trigger

在 postgres 中是否有可能在 CREATE TABLE 上有一个触发器，它将为新创建的表创建触发器？

例如，

```
CREATE TABLE base_abc(
   ...
) inherits( base ); 
```

我想自动将触发器添加到新创建的表`base_abc`中，例如，它将根据列名计算列值。

同样，是否可以在 ALTER TABLE 上触发，以便可以删除和重新创建触发器？

对于上下文，请参阅[将 postgresql 扩展到索引 json 对象的最佳方法是什么？](https://stackoverflow.com/questions/11045906/what-is-best-way-to-extend-postgresql-to-index-json-objects)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2020-11-10T15:29:59.553

谷歌搜索时发现了这个问题，由于事情发生了变化，决定添加当代答案。从[9.3 开始，我们有事件触发器](https://www.postgresql.org/docs/release/9.3.0/)。阅读[在线文档](https://www.postgresql.org/docs/current/event-triggers.html)以获取更多信息。

你问的可以类似于：

```
event_tg_example=# CREATE OR REPLACE FUNCTION add_tg_fn()
        RETURNS event_trigger LANGUAGE plpgsql AS $f$
DECLARE
    obj record;
BEGIN
  FOR obj IN SELECT * FROM pg_event_trigger_ddl_commands()
  LOOP
  execute format('create function %I() returns trigger as $tgf$ begin raise info %L, $i$here$i$; return old; end $tgf$ language $l$plpgsql$l$', 'blah_'||obj.objid::regclass,'%');
  execute format ('CREATE TRIGGER tg_blah BEFORE DELETE ON %I FOR EACH ROW EXECUTE PROCEDURE %I();', obj.objid::regclass, 'blah_'||obj.objid::regclass);

  END LOOP;
END
$f$
;
CREATE FUNCTION
event_tg_example=# CREATE EVENT TRIGGER add_tg_tg
   ON ddl_command_end
WHEN TAG IN ('CREATE TABLE')
   EXECUTE PROCEDURE add_tg_fn()
;
CREATE EVENT TRIGGER
event_tg_example=# create table t(i int);
CREATE TABLE
event_tg_example=# insert into t values (1);
INSERT 0 1
event_tg_example=# delete from t where i = 1;
INFO:  here
DELETE 1
event_tg_example=# 
```

请注意，这只是一个工作示例，请勿盲目复制/粘贴

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T08:06:43.817

不要认为有一种方法可以使用 PostgreSQL 内置函数来实现这样的“触发器”，但您绝对可以编写一个存储函数来执行您想要的操作 - 即创建一个派生表，然后在该表上创建一个触发器。

您也可以为 ALTERing 表编写一个。

# python - Python：Tkinter 中的 after() 是否具有多线程方法？

> ID：11046836
> 
> 赞同：1
> 
> 时间：2012-06-15T08:03:51.487
> 
> 标签：python, tkinter, python-multithreading

我正在编写一个物理模拟程序，发现`after()`很有用。

我曾经想为物理计算和模拟创建一个线程。但是当我终于注意到这个功能时，我改用了它。

所以，我很好奇 Tkinter 是如何实现这个功能的。是多线程吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-15T11:09:26.833

它不是多线程的。

Tkinter 通过从队列中拉出对象并处理它们来工作。通常，此队列中的内容是用户生成的事件（鼠标移动、按钮单击等）。

此队列可以包含其他内容，例如使用创建的作业`after`。因此，对于 Tkinter 而言，提交的`after`内容只是在特定时间点要处理的另一个事件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T08:23:48.027

以下脚本将冻结 GUI 5 秒钟，因此它不是多线程的：

```
from Tkinter import Tk, Label
from time import sleep
root = Tk()
w = Label(root, text="Hello, world!")
w.pack()
w.after(100, lambda: sleep(5))
root.mainloop() 
```

# c# - nhibernate 实例化从其他项目继承的项目

> ID：11046847
> 
> 赞同：0
> 
> 时间：2012-06-15T08:04:48.543
> 
> 标签：c#, nhibernate, fluent-nhibernate

我有两个班，`Item`和`SoldItem`。`SoldItem`通过`Item`添加一些属性（例如 Prize、solddate 等）继承。

首先我创建一个`Item`，当我卖掉它时我想创建`solditem`。这个设计正确吗？如果是，我如何从项目开始创建已售商品？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T08:13:29.237

我会说这是对继承的不当使用。如果您需要`Item`通过与是否已售出正交的某些功能将其多样化为子类怎么办？例如，如果您销售软件，一个项目可以通过物理媒体运送，它可以是可下载的，也可以是订阅；如果您决定也使用继承对它们进行建模，那么您已经有了六个类。您添加的每个正交特征都会成为您需要的类数量的乘数。

一个更好的设计，包括组合，将有单独的`Item`和`Sale`类，以及两者之间的链接；然后您可以向`Item`该类添加功能以获取相关的`Sale`（如果有）和 vv.，获取`Item`of `Sale`（应始终为非空）。在这种情况下，考虑关系而不是面向对象可能是一种更好的方法。

如果您只对已售商品感兴趣，则可以`Sale`直接查看对象，通过相关的`Item`. 如果您对任何项目感兴趣，请获取一个`Item`实例，并在需要时查询它以获取`Sale`.

# css - 歌剧中忽略的CSS填充

> ID：11046850
> 
> 赞同：0
> 
> 时间：2012-06-15T08:04:51.847
> 
> 标签：css, html-lists, opera, padding

我在页面 index.html 中有表格

```
<div class = "bottom_r">
    <h1>Get in Touch</h1>
    <form action="index.html" method="post">
      <ul>
        <li><input class = "input" type="text" name="fname" value = "Name:" /></li>
        <li><input class = "input" type="text" name="lname" value = "Email:" /></li>
        <li><textarea class = "textarea" >Message:</textarea></li>
        <li><input class="text_button" type="submit" value="Submit" /></li>
      </ul>
    </form>
</div> 
```

和 style.css 中的 css 样式

```
.bottom_r {
    float: left;
    width: 262px;
    height: 215px;
    margin: 0;
}

.bottom_r ul {
    list-style: none;
    padding-left: 0;
}

.bottom_r li {      
    margin: 0;    
    padding-left: 50px;           
} 
```

但是填充：`padding-left: 20px;`仅适用于 first `<li>`，此问题仅在opera中，在所有浏览器中都可以正常工作，我找不到问题，请帮助:)

在线代码：[http ://cssdesk.com/8xrgD](http://cssdesk.com/8xrgD)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T09:45:41.957

顺便说一句...你的问题是你的

```
.main li {
    display: inline;
} 
```

只需在您需要的地方定义 ist，而不是在整个 .main 中定义

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T10:07:44.040

更改第 62 行：

```
.main > ul li 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T08:53:53.840

我不知道这是什么原因，我可以重现它但看不出有什么问题，但是如果将 50px 填充从`<li>`移到它们的`<ul>`，它工作正常：

```
.bottom_r ul {
    padding: 50px;
} 
```

见[http://cssdesk.com/WERUf](http://cssdesk.com/WERUf)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-15T09:00:33.377

在最后一种情况下，如果没有其他方法，请使用：

```
@media all and (-webkit-min-device-pixel-ratio:10000), not all and (-webkit-min-device-pixel-ratio:0) {
      .class {proprieties}
 } 
```

仅适用于歌剧。

# typo3 - tt_news in Menu with category

> ID：11046855
> 
> 赞同：0
> 
> 时间：2012-06-15T08:05:04.443
> 
> 标签：typo3, typoscript, tt-news

I must display the news in Level 2 according to parent page news category. So for this I should extract the news category id of the parent page and pass it to the `lib.var1` variable. This script works just for one item when I was in this page(item):

```
lib.var1 < plugin.tt_news
lib.var1 {    
       code >
       code = LATEST

       templateFile= fileadmin/news_template.tmpl

       categorySelection = {field:uid}
       categorySelection.insertData = 1

       pid_list >
       pid_list = 19
       catImageMode = 1
       catTextMode = 0

       latestLimit = 1    
}

### secondary Level ###
2 = TMENU
2 {
    noBlur = 1    
    stdWrap.wrap = <ul style=""><li> | </li></ul> 
    stdWrap.innerWrap = <div><ul>|</ul></div>

    stdWrap.preCObject = COA
        stdWrap.preCObject {
            10 = CONTENT
            10 {
                table = tt_news_cat
                select.selectFields = tt_news_cat.uid 
                select.where.dataWrap  = tt_news_cat.pid = {field:pid}
                select.max = 1

                renderObj = COA 
                renderObj {
                        #Test the render is OK
                        10 = TEXT 
                        10.value = {field:uid}
                        10.insertData = 1
                        20 =< lib.var1
                }
            }
        }
    NO = 1
    NO {
        linkWrap= <li class="">|</li>
        ATagTitle.field = title
       }
   }
} 
```

# jquery - 单击此元素选中复选框时，如何使元素中的链接可用？

> ID：11046857
> 
> 赞同：0
> 
> 时间：2012-06-15T08:05:06.843
> 
> 标签：jquery

我在文章元素中有链接。单击元素时，复选框会实现选中属性。但是这个元素内的链接是不活动的。

我如何改进此脚本以使链接可用？

[http://jsfiddle.net/57GsC/](http://jsfiddle.net/57GsC/)

```
<article class="post short-post">
   <header><h3 class="post_title"><a href="/posts/2">Yo</a></h3></header>
    <input type="checkbox" value="" name="post_check" class="post-check center-align">
    <div class="post-body">Mauris nec nisl justo. Suspendisse quis metus venenatis turpis feugiat euismod ac semper arcu. Vestibulum </div>
    <footer>
        <div class="links">
         <a class="edit button" href="/posts/2/edit">Edit Post</a>
         <a rel="nofollow" data-method="delete" class="delete button" href="/posts/2">Delete a Post</a>
         <a class="view button" href="/posts/2">View</a>
        </div>
    </footer>
</article>

$(".short-post").click(function(evt) {
  var $checkbox;
  if (evt.target.type !== "checkbox") {
    $checkbox = $(":checkbox", this);
    $checkbox.attr("checked", !$checkbox.attr("checked"));
    evt.stopPropagation();
    return false;
  }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:14:28.003

您的链接被禁用，因为您最后返回 false。在链接标记上捕获单击事件后返回 false 会停止执行链接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T08:12:32.680

在[这个小提琴](http://jsfiddle.net/dystroy/EgLmG/)中，我刚刚删除了 jquery 代码并使用了标准`label`元素，该元素似乎可以执行您打算执行的操作（以及您的用户可能期望执行的操作）。

```
<input id=someId type="checkbox" value="" name="post_check" class="post-check center-align">
<label for=someId>Mauris nec nisl justo. Suspendisse quis metus venenatis turpis feugiat euismod ac semper arcu. Vestibulum </label> 
```

我在这里假设您不想通过简单的单击执行 2 个操作（更改复选框并点击链接）。我你真的想要你当然可以简单地不返回 false 但这对用户来说太糟糕了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T08:18:25.653

删除`return false;`语句

# heroku - Heroku 无法连接到服务器：在 cedar 堆栈上部署 Rails 3.2.3 应用程序时出现“连接被拒绝”

> ID：11046870
> 
> 赞同：4
> 
> 时间：2012-06-15T08:06:51.103
> 
> 标签：heroku, ruby-on-rails-3.2, cedar

从昨天开始就可以了，但是今天早上，我不知道为什么，我在 heroku 上的应用程序无法连接到共享数据库。我什至不能做一个简单的：

```
$ heroku run rake db:reset 
```

（我在雪松堆栈上）。这是控制台跟踪转储：

```
** Invoke db:reset (first_time)
** Invoke environment (first_time)
** Execute environment
rake aborted!
could not connect to server: Connection refused
    Is the server running on host "ec2-107-22-222-231.compute-1.amazonaws.com" and accepting
    TCP/IP connections on port 5432?
/app/vendor/bundle/ruby/1.9.1/gems/activerecord-3.2.3/lib/active_record/connection_adapters/postgresql_adapter.rb:1194:in `initialize'
/app/vendor/bundle/ruby/1.9.1/gems/activerecord-3.2.3/lib/active_record/connection_adapters/postgresql_adapter.rb:1194:in `new'
/app/vendor/bundle/ruby/1.9.1/gems/activerecord-3.2.3/lib/active_record/connection_adapters/postgresql_adapter.rb:1194:in `connect'
/app/vendor/bundle/ruby/1.9.1/gems/activerecord-3.2.3/lib/active_record/connection_adapters/postgresql_adapter.rb:329:in `initialize'
...
Tasks: TOP => db:reset => environment 
```

请问有什么想法吗？

--**更新**---

他们刚刚在[https://status.heroku.com/](https://status.heroku.com/)更新了他们的状态，事件 375：[https ://status.heroku.com/incidents/375](https://status.heroku.com/incidents/375)

...我想我只需要等待。

--**更新**---

3小时后，错误消息变为：

```
could not translate host name "ec2-107-22-222-231.compute-1.amazonaws.com" to address: Name or service not known (PG::Error) 
```

至少现在我确定 Heroku 的人正在工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-30T14:47:38.280

这里同样的问题。它一直工作到昨天。

> 专用的生产数据库应该是可操作的。**我们正在继续恢复共享开发数据库以及 Crane 和 Kappa beta 数据库。**Varnish 在 Bamboo HTTP 堆栈上仍然暂时禁用。

是的，显然只是等待就是这里的答案。

# php - 在 PHP 中生成随机激活码

> ID：11046874
> 
> 赞同：-1
> 
> 时间：2012-06-15T08:07:09.573
> 
> 标签：php, cakephp-2.0

我有激活码功能

```
function active($activationcode)
{
    $sql = "SELECT * FROM users WHERE activationcode = '$activationcode';";
    $obj_db = new DB();
    $obj_db->query($sql);
    $row = $obj_db->rsset();
    $id = $row[id];
    $obj_db->db_close();
    return $id; 
} 
```

现在我在另一个页面中调用它...我要做的就是生成随机数并通过电子邮件将链接发送给用户。我的功能是正确的。现在我想让这段代码工作。请帮帮我

```
if(isset($_GET['action']) == "Update")
{
    $userActive = $Users->active($Users->_activationcode());
    $Users->active($_GET['id']);
    $_POST['activationcode'];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:08:49.217

改变：

```
if(isset($_GET['action']) == "Update") 
```

到：

```
if($_GET['action'] == "Update") 
```

或更好：

```
if(isset($_GET['action']) && $_GET['action'] == "Update") 
```

您正在将`isset()`(boolean) 的结果与`update`永远不会变为`true`.

# php - 将项目 ID 存储到 HTML

> ID：11046877
> 
> 赞同：1
> 
> 时间：2012-06-15T08:07:19.253
> 
> 标签：php, database, security, checksum

在处理数据库记录时，将它们显示在 HTML 上并将它们的 ID 存储到隐藏字段中，以获取要更新的记录是不安全的，我尝试了其他方法，但我不确定这是否足够安全。

目前我将 ID 和 ID + Somekey 的 md5 校验和存储在另一个隐藏字段中。

```
<input type="hidden" name="ID" value="1"/>
<input type="hidden" name="Hash" value="<?php echo md5($ID."MYKEY"); ?>"/> 
```

在 PHP 的后端我做同样的事情并测试他们是否相等。

```
<?php
  $ID = $_GET['ID'];
  $Checksum = $_GET['Hash'];

  if(md5($ID."MYKEY") == $Checksum)
  //Proceed Delete or update
?> 
```

我这样做是因为有人可以更改记录的 ID 并与其他记录交互。

第二种解决方案是检查该记录是否与用户相关，方法是从数据库中选择它并测试该记录是否存在于该特定用户，但使用校验和我认为这可能是一种优化！

那么使用这种方式是否足够安全，使用校验和并为每个新会话生成动态密钥。

最好的

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T08:17:41.390

您应该在服务器端检查用户权限。
校验和的问题在于用户可以更改校验和以及 ID - 并且可以尝试猜测您用于生成校验和的内容。所以从会话中获取当前用户，获取是否允许用户更改数据库中的记录，如果不是则拒绝。

就优化而言 - 您应该只在结果很慢的情况下进行优化。

或者引用有关此事的专家的话：

> 在 DonaldKnuth 的论文“StructuredProgrammingWithGoToStatements”中，他写道：“程序员浪费了大量时间来思考或担心程序中非关键部分的速度，而在考虑调试和维护时，这些效率上的尝试实际上会产生强烈的负面影响. 我们应该忘记小的效率，比如大约 97% 的时间：过早的优化是万恶之源。但我们不应该放弃关键的 3% 的机会。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T08:16:32.260

我认为它类似于反 CSRF 机制。可能你需要简单的 CSRF 保护，非自己编写的？

# c# - Open data stream (FTP AUTH TLS)

> ID：11046881
> 
> 赞同：0
> 
> 时间：2012-06-15T08:07:38.450
> 
> 标签：c#, ssl, channel

I communicate with a FTP server that requires `AUTH TLS`.
So I created a `NetworkStream` and sent `AUTH TLS`. After this I created a `SslStream` with the `NetworkStream` as `InnerStream` and sent `USER user` and `PASS pass`.

After this, I can use `PWD`, etc., but when I want to download a file with `RETR`, the server want a new channel.

How can I open this channel to receive the file data?

# google-maps - 谷歌静态地图可以发回 3d 地图/图像吗

> ID：11046883
> 
> 赞同：1
> 
> 时间：2012-06-15T08:07:40.487
> 
> 标签：google-maps, google-static-maps

我知道当我发出特定的 HTTP 请求时，[Google 静态地图可以发回指定位置的 .png 地图。](https://developers.google.com/maps/documentation/staticmaps/#StyledMaps)

**但是当我发出 HTTP 请求时，它可以发回 3d/照片地图吗？**

3d 我的意思是像[谷歌地球这样的图像](https://developers.google.com/earth/documentation/reference/)

例如，在以下 HTTP 请求中，是否有一个查询字符串键我应该/可以用来指定我想要返回 3d 地图？

> [http://maps.googleapis.com/maps/api/staticmap?center=Brooklyn+Bridge,New+York,NY&zoom=13&size=600x300&maptype=3d](http://maps.googleapis.com/maps/api/staticmap?center=Brooklyn+Bridge,New+York,NY&zoom=13&size=600x300&maptype=3d)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T14:49:06.700

答案是否定的，Google 不为 3D Google Earth 图像提供静态 API。

# qt - QML listview: Flickable as delegate cannot be scrollable

> ID：11046885
> 
> 赞同：5
> 
> 时间：2012-06-15T08:08:07.460
> 
> 标签：qt, listview, delegates, qml, flickable

To make a Android ViewPager-like for Qt, I use a listview like this:

```
ListView {
        id: myListViewArticle
        anchors.fill: parent

        focus: true
        highlightRangeMode: ListView.StrictlyEnforceRange
        orientation: ListView.Horizontal
        snapMode: ListView.SnapOneItem
        model: modelArticles
        delegate: articleDelegate
    } 
```

And a Flickable as its delegate:

```
Component {
        id: articleDelegate
        Item {
            id: item
            width: 480; height: 800

            Flickable {
                id: mainScrollView
                contentHeight: 1500
                contentWidth: parent.width
                anchors.fill: parent
                clip: true

                Text {
                    id: idArticleContent
                    text: articleContent
                    width: parent.width
                    font.pixelSize: 20
                    font.bold: true; color: "black"
                    wrapMode: Text.Wrap
                }
            }

            ScrollDecorator {
                flickableItem: mainScrollView
            }
        }
    } 
```

But after populate data for listview, I see the Flickable cannot be scrollable (in verticle).

Can anyone tell me how to make Flickable item scrollable inside a listview. Thanks so much for your help.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-11-25T11:03:51.550

我知道这个问题有点过时了，解决方案可能只是更新到更新的 QtQuick 2.5。但我已尝试达到您所描述的内容——[您可以查看 GitHub 上的代码](https://github.com/troyane/StackOverflow-pro/tree/master/flickable)。你也可以看看它是如何在[这里](https://raw.githubusercontent.com/troyane/StackOverflow-pro/master/flickable/flickable_example.gif)工作的。

# apache - “在哪里”保护 JBoss7 + Apache2 Web 应用程序

> ID：11046887
> 
> 赞同：0
> 
> 时间：2012-06-15T08:08:26.227
> 
> 标签：apache, ssl, https, jboss

我有一个关于在**通过 AJP (tomcat) 连接器**与 Apache2 Web 服务器公开的 JBossAS7 Web 应用程序（“通用”购物车系统）中使用 HTTPS 的问题。

我阅读了一些关于如何在 JBossAS 中配置 SSL-HTTPS 的文档以及许多解释使用 Apache2 的 SSL 的教程，但是......

我必须选择哪种方式？在 Apache2 中为我的网站/应用程序配置 SSL-HTTPS 是否足够？

还是我也必须为 SSL 配置 JBoss？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T13:47:05.800

我认为在 JBoss 和 Apache 上配置 SSL 有点过头了。我建议你只在 Apache 上实现 SSL。您可以通过添加防火墙规则来增加额外的安全层，以仅允许 Apache Web 服务器访问 JBoss 应用程序服务器。

# javascript - How to stop iframes blocking my JS?

> ID：11046892
> 
> 赞同：4
> 
> 时间：2012-06-15T08:08:42.243
> 
> 标签：javascript, html, iframe, pageload

I've got a page which uses both the [unofficial github buttons](http://markdotto.github.com/github-buttons/), and code which I highlight using this [syntax highlighter](http://alexgorbatchev.com/SyntaxHighlighter/).

The problem is, the two github buttons are iframes which both make requests to `api.github.com`, and it can sometimes take a while for them to load.

While the buttons are loading (and chrome says "waiting for api.github.com"), the syntax highlighter's javascript can't execute. It doesn't execute until the iframes are fully loaded, which sometimes can take quite a while.

I'd much prefer to have no github buttons and have my code highlighted faster than have the github buttons load first. How can I achieve this?

I've tried loading the buttons asynchronously with javascript, but they don't load properly because the javascript in the iframes doesn't execute for some reason.

Here's how I load up the SyntaxHighlighter (in the `<head>`)

```
<script type="text/javascript" src="js/shCore.min.js"></script>
<script type="text/javascript" src="js/brushes.min.js"></script>
<script type="text/javascript">
SyntaxHighlighter.defaults['gutter'] = false;
SyntaxHighlighter.defaults['toolbar'] = false;
SyntaxHighlighter.all();
</script> 
```

And the iframe HTML looks like this:

```
<iframe src="http://markdotto.github.com/github-buttons/github-btn.html?user=user&amp;repo=repo&amp;type=watch&amp;count=true&amp;size=large" allowtransparency="true" frameborder="0" scrolling="0" width="165px" height="30px"></iframe>
<iframe src="http://markdotto.github.com/github-buttons/github-btn.html?user=user&amp;repo=repo&amp;type=fork&amp;count=true&amp;size=large" allowtransparency="true" frameborder="0" scrolling="0" width="165px" height="30px"></iframe> 
```

How can I stop the buttons from blocking my JS?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T08:20:53.477

您是否尝试过使用 jquery deferred。[您可以在http://www.erichynds.com/jquery/using-deferreds-in-jquery/](http://www.erichynds.com/jquery/using-deferreds-in-jquery/)找到一个示例

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T08:53:31.720

您可以在使用 javascript 加载文档后分配 iframe src。这样，您的页面将仅加载查找，然后这些可能会花费他们想要的所有时间。

一些喜欢：

```
<script>
function showbuttons()
{
  var path1 = "http://markdotto.github.com/github-buttons/github-btn.html?user=user&amp;repo=repo&amp;type=watch&amp;count=true&amp;size=large";
  var path2 = "http://markdotto.github.com/github-buttons/github-btn.html?user=user&amp;repo=repo&amp;type=fork&amp;count=true&amp;size=large";
  document.getElementById('frame1').src = path1;
    document.getElementById('frame2').src = path2;
}
</script> 
```

html:

```
<body onload="showbuttons()">
<iframe id="frame1" allowtransparency="true" frameborder="0" scrolling="0" width="165px" height="30px"></iframe>
<iframe id="frame2" allowtransparency="true" frameborder="0" scrolling="0" width="165px" height="30px"></iframe> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-06-26T16:37:52.487

要阻止 iframe 出现在其他人的网站上，您可以使用此脚本

```
if(document.querySelector('html').ownerDocument.location.ancestorOrigins[0]==undefined==false){
    document.querySelector('html').innerHTML='hello plagiat web.....visit official web... visit here : '+document.querySelector('html').ownerDocument.URL;} 
```

# c# - 与母版页相关的 PostbackUrl

> ID：11046893
> 
> 赞同：0
> 
> 时间：2012-06-15T08:08:46.487
> 
> 标签：c#, asp.net, master-pages, postback, navigateurl

假设我们有两个页面： **pageX.aspx**和**pageY.aspx**。这些页面利用浏览器顶部的母版页，用户可以在其中选择更改网站的语言。这些语言选择采用图像按钮（国家标志）的形式，但它们不使用 PostbackUrl 属性。相反，他们只使用事件处理程序。一种这样的图像处理程序：

```
protected void imgbtnEnglish_Click(object sender, ImageClickEventArgs e)
{
    HttpCookie aCookie = new HttpCookie("language");
    aCookie.Value = "en-US";
    aCookie.Expires = DateTime.Now.AddDays(365);
    Response.Cookies.Add(aCookie);

    Response.Redirect(Request.RawUrl);
} 
```

**pageX.aspx**包含一个具有属性的图像按钮`PostbackUrl="pageY.aspx"`。这个图像按钮的唯一目的是把我们带到**pageY.aspx**。

当按下该图像按钮时，正如预期的那样，我们被带到**pageY.aspx**。

现在这对我来说是个谜：当我在浏览器中按 BACK （不是控件或任何东西，只是好的旧后退按钮）时，我回到**pageX.aspx**，这很棒！......除了，似乎是主人顶部的页面认为我仍在**pageY.aspx**！因为即使我现在回到屏幕上的**pageX.aspx**，单击顶部的任何标志都会将我带回**pageY.aspx**！

我唯一能从逻辑上推断的是，由于某种原因，由于它是一个 PostbackUrl，并且它将表单提交到服务器，“返回”只能在本地识别为发送的表单，而不是整个页面（包括母版页）。因此，通过“返回”，我实际上只是在表单中“返回”，而不是表单和母版页。

我为解决我的问题所做的就是使将我带到**pageY.aspx**的图像按钮不使用 PostbackUrl，而是使用带有一行的 Click 事件处理程序：*Response.Redirect("pageY.aspx");* 当我这样做时，它工作正常。

我想了解为什么会发生这种情况，以及 Click 事件处理程序解决方案是否是最佳实践/正确解决方案，而不是使用 PostbackUrl 属性。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T14:37:14.370

当按下后退按钮时，浏览器从缓存中恢复页面以及最新的表单数据，例如文本框保留其输入的值。但是，Opera 尝试变得更智能一些，并且也恢复了 JavaScript 的最新状态。

设置 PostBackUrl 意味着，当单击按钮时，使用 JavaScript 更改表单操作并将表单发布到此新 URL。因此，当您在 Opera 中按下返回时，它会恢复页面以及对表单操作的 JavaScript 更改，这意味着所有后续提交都将转到这个新 URL。

我不喜欢使用 PostBackUrl，因为它只适用于启用 JavaScript。使用 Response.Redirect 服务器端和 Hyperlinks 客户端是更好的解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T08:29:47.223

[PostbackUrl 与 NavigateUrl](https://stackoverflow.com/questions/254735/postbackurl-vs-navigateurl)

基本上使用 NavigateURL，您正在执行 POST。Response.Redirect 会做一个 GET。我不完全确定您为什么会看到这种特殊行为，但它很可能是您的浏览器。你使用的是什么浏览器？您尝试过哪些其他浏览器？

至于最好的方法是什么，我认为你最好忘记 ASP.NET 控件并这样做：

```
<a href="pageY.aspx"><img src="foo.png" /></a> 
```

# java - 如何将符号字体（由 adobe 引入）中的私有字符映射到标准 unicode 符号？

> ID：11046897
> 
> 赞同：0
> 
> 时间：2012-06-15T08:08:50.060
> 
> 标签：java, unicode

我创建了一个函数，它获取一个编码字符串（可能是 UTF-16 不确定），它在数学中表示“属于”，这个符号由两个 unicde 字符 u+f0ce 和 u+f020 组成。但是当向用户显示字符串时，我得到：“”，这只是 unicode 的第一部分。程序如下：

```
String s = StringEscapeUtils.unescapeJava("\\uF0CE\\uF020"); 
```

上面的代码仅适用于像 \uF0CE 这样的单个 unicode，但不能组合使用。你能帮忙找出我在这里做错了什么吗？谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-15T08:14:57.273

U+F0CE 和 U+F020 是两个私有字符。在 Unicode 中它们没有标准含义，但无论它们是什么意思，它们都是独立的。您需要修复您的数据，或者至少找出这些字符的来源意味着什么。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-15T08:20:21.760

根据此页面[http://www.alanwood.net/unicode/private_use_area.html](http://www.alanwood.net/unicode/private_use_area.html)，这些代码点是私有的，并且仅定义了 Microsoft 的 Symbol 字体：

 61646 F0CE 符号

（看起来像 ∈）

因此，您得到的数据不可靠，可能来自最初使用 Symbol 字体生成的数据。您可能应该从这里将代码点映射到现代 unicode 等效项[http://www.fileformat.info/info/unicode/block/mathematical_operators/list.htm](http://www.fileformat.info/info/unicode/block/mathematical_operators/list.htm) （例如 F0CE -> U+2208）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T11:31:32.833

感谢大家的帮助。我找到了解决问题的方法。私人使用字符是 adobe 的 Symbol 字体的一部分。要将这些符号映射到 unicode，请使用此[unicode](ftp://ftp.unicode.org/Public/MAPPINGS/VENDORS/ADOBE/symbol.txt)页面中给出的表格。希望这可以帮助。任何高级成员（有足够的声誉来编辑讨论的主题）可以将帖子的标题更改为“如何将符号字体（由 adobe 引入）中的私人使用字符映射到标准 unicode 符号”之类的内容？它可能会帮助其他人。谢谢

# jquery - jquery的wordpress版本

> ID：11046898
> 
> 赞同：0
> 
> 时间：2012-06-15T08:09:01.713
> 
> 标签：jquery, wordpress

嗨，我是 wordpress 的新手，我有一个可能很愚蠢的问题：

我在我的functions.php中有一个这样的jquery版本：

```
 wp_register_script('jquery2', get_template_directory_uri() . '/js/jquery-1.2.6.min.js', false,  '1.2.6');
 //Begin enqueuing
  wp_enqueue_script('jquery2'); 
```

这意味着我对我的 wordpress 网站中的所有内容和更新版本都使用 1.2.6 版，我认为 wordpress 附带的 1.8 版没有激活？

我必须对所有内容使用 1.2.6 版本的代码还是只对需要它的插件使用，其余的我可以使用 1.8 标记？

我希望有人能用简单的英语深入地解释我，我是西班牙人。非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T08:15:57.230

`wp_enqueue_script()`如果脚本尚未包含，函数将包含该脚本，并安全地处理依赖项。

# html - 首次访问的 wordpress 介绍页面，带有 htaccess

> ID：11046899
> 
> 赞同：1
> 
> 时间：2012-06-15T08:09:04.770
> 
> 标签：html, wordpress, .htaccess

我正在尝试为网站做一个介绍页面。诀窍是，我只希望用户在第一次访问时被重定向到这里。例如，如果他还没有会话。（虽然我不熟悉还能使用什么。）有人告诉我 .htaccess 可以解决问题。我使用wordpress引擎。

介绍页面：[http](http://www.example.com/?page_id=5) ://www.example.com/?page_id=5 （第一个访问者应该被重定向到这里。）索引页面位于：[http](http://www.example.com/) ://www.example.com/ （不应该针对引擎的机制进行更改。事实上，这也是一个自定义页面[http://www.example.com/?page_id=1](http://www.example.com/?page_id=1)，但在 wordpress 选项中被选为主页。）

你能帮助我吗？你能告诉我具体的htaccess代码吗？

谢谢，西罗

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T08:51:28.863

你能编辑你的php文件吗？php 比 .htaccess 更灵活地处理会话。

基本上可以将一些简单的东西放在 header.php 的顶部（在执行其他任何操作之前）。

```
<?php
    $redirect_url = home_url('/?page_id=5');
    if ( !isset($_SESSION['blablabla']) ) {
        $_SESSION['blablabla'] = "blablabla";
        wp_redirect($redirect_url);
    }
?> 
```

这样，每当访问任何页面时（因为 wordpress 在请求的页面中包含标题），php 会检查会话（特别是 $_SESSION['blablabla']）是否已设置，如果没有则重定向到主页。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-04-14T23:11:21.270

在某些情况下，Cookie 可能比会话变量更可靠：

```
<?php
$redirect_url = home_url('/welcomepageurlhere');
    if ($_COOKIE['returningUser'] == '') {
        setcookie('returningUser','1');
        wp_redirect($redirect_url);
    }
?> 
```

将该代码段`<?php get_header(); ?>`放在 page.php 模板中的行上方。

# linux - 记录使用 nfq_set_verdict2(NF_DROP) 丢弃的数据包

> ID：11046901
> 
> 赞同：1
> 
> 时间：2012-06-15T08:09:17.483
> 
> 标签：linux, kernel, iptables, netfilter

在我的应用程序中，我使用 NFQUEU 将数据包从 netfilter 带到用户空间，然后将其与我的标准进行比较，并通过 nfq_set_verdict2 函数中的 NF_DROP 或 NF_ACCEPT 丢弃或接受数据包。我想以常规 iptables 日志格​​式记录丢弃的数据包。如何我能做到这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-31T12:22:38.507

为了记录丢弃的数据包，创建一个新链，该链将丢弃它收到的每个数据包。将所有要丢弃的数据包重定向到新链并在声明新链时使用日志记录语法

```
iptables -N LOGGING
iptables -A INPUT -j LOGGING
iptables -A LOGGING -m limit --limit 2/min -j LOG --log-prefix "IPTables-Dropped: " --log-level 4
iptables -A LOGGING -j DROP 
```

第 3 行：-m 限制：这使用限制匹配模块。使用它，您可以使用 –limit 选项限制日志记录。

`–limit 2/min`：这表示日志记录的最大平均匹配率。在此示例中，对于类似的数据包，它将记录限制为每分钟 2 个。您还可以指定`2/second, 2/minute, 2/hour, 2/day`. 当您不想将日志消息与相同丢弃数据包的重复消息混淆时，这很有帮助。

`-j LOG`: 这表示这个包的目标是LOG。即写入日志文件。

`–log-prefix “IPTables-Dropped`: ” 您可以指定任何日志前缀，它将附加到将写入 /var/log/messages 文件的日志消息中

`–log-level 4`这是标准的系统日志级别。四是警告。您可以使用 0 到 7 范围内的数字。0 是紧急情况，7 是调试。

`iptables -A LOGGING -j DROP`: 最后，丢弃所有到达 LOGGING 链的数据包。即现在它真的丢弃了传入的数据包。

# asp.net - JQuery UI 内联 DatePicker 在 ASP.NET 回发后丢失日期

> ID：11046902
> 
> 赞同：1
> 
> 时间：2012-06-15T08:09:19.267
> 
> 标签：asp.net, jquery-ui, jquery-ui-datepicker

我有一个按如下方式初始化的内联 DatePicker (Week-Picker)，它在 Select 上触发一个 ASP.NET 点击事件。它运行良好，我的 ASP 代码确实是它的一部分，但是如果我选择一个日期作为 ex：在通过 DatePicker 的下一个/上一个按钮推进月份之后，当回发后页面刷新时，DatePicker 返回到当前月份......还有它在此处的 selectCurrentWeek() 方法中丢失了选定的 startDate / endDate 范围。

```
 var startDate;
    var endDate;
    var selectCurrentWeek = function () {
        window.setTimeout(function () {
            $('.week-picker').find('.ui-datepicker-current-day a').addClass('ui-state-active')
        }, 1);
    }

$('.week-picker').datepicker({
        showOtherMonths: true,
        selectOtherMonths: true,
        firstDay: 1,
        onSelect: function (dateText, inst) {
            var date = $(this).datepicker('getDate');
            startDate = new Date(date.getFullYear(), date.getMonth(), date.getDate() - date.getDay() + 1);
            endDate = new Date(date.getFullYear(), date.getMonth(), date.getDate() - date.getDay() + 6);
            var dateFormat = inst.settings.dateFormat || $.datepicker._defaults.dateFormat;
            $('#txtDP1').val($.datepicker.formatDate(dateFormat, date, inst.settings));
            selectCurrentWeek();
            DP1_Submit();
        },
        beforeShowDay: function (date) {
            var cssClass = '';
            if (date >= startDate && date <= endDate)
                cssClass = 'ui-datepicker-current-day';
            return [true, cssClass];
        },
        onChangeMonthYear: function (year, month, inst) {
            selectCurrentWeek();
        }
    });

        $('.week-picker .ui-datepicker-calendar tr').live('mousemove', function () { $(this).find('td a').addClass('ui-state-hover'); });
    $('.week-picker .ui-datepicker-calendar tr').live('mouseleave', function () { $(this).find('td a').removeClass('ui-state-hover'); }); 
```

隐藏的字段/按钮是：

```
<asp:TextBox ID="txtDP1" runat="server" style="display:none;" />
<asp:Button ID="btnDP1" runat="server" Text="Go" style="display:none;"  /> 
```

我尝试使用 setDate() 方法和 defaultDate 属性但没有成功。帮助？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-26T10:21:36.597

**使用隐藏文件而不是文本框。由于 style="display:none;" 而失去的价值 在文本框中。**

```
<asp:HiddenField id="txtDP1" value="" runat="server"/> 
```

# web - 如何为网页设置此图标？

> ID：11046904
> 
> 赞同：31
> 
> 时间：2012-06-15T08:09:26.417
> 
> 标签：web, icons

我想知道这个小图标叫什么？以及如何为此设置图标？谢谢。![在此处输入图像描述](../Images/031eb6f31495654ecffd95b61fbb736c.png)

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-06-15T08:15:27.117

查看 SO 上的源代码，您将看到以下`link`元素：

```
<link rel="shortcut icon" href="http://cdn.sstatic.net/stackoverflow/img/favicon.ico"> 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-06-15T08:14:53.663

它被称为您的网页的图标。将其包含在页面使用中

```
<link rel="shortcut icon" href="favicon.ico" /> 
```

你用 in 标签插入这个标签`head`，可以很容易地使用 `ms paint`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-07-27T15:11:26.973

不止一次更改网站图标后，您可能会感到痛苦，请记住这一点；在 ico 文件每次更改后更改`href="favicon.ico?v=#`-# 表示更改计数-。

# asp.net - 在 Web 服务器 (ASP.NET) 上更改图像时，图像必须在浏览器上连续自动更改

> ID：11046905
> 
> 赞同：0
> 
> 时间：2012-06-15T08:09:36.973
> 
> 标签：asp.net

我创建了一个桌面应用程序，它不断更改固定路径和固定文件名 00.jpg 上的图像。该图像位于我的网站文件夹的路径中。该图像由 浏览器查看。但是图像在浏览器上并没有不断变化。

我尝试同时使用客户端（javascript）和服务器（asp.net）计时器，但没有结果。这是我的 ASP.net AJAX 计时器代码和标记：

```
<form id="form1" runat="server">
    <div>
        <asp:ScriptManager runat="server"></asp:ScriptManager>
        <asp:UpdatePanel ID="up1" UpdateMode="Conditional" runat="server">
        <ContentTemplate>
            <asp:Image ImageUrl="00.jpg" ID="img1" runat="server" />
            <asp:Timer ID="Timer1" runat="server" Interval="100" ontick="Timer1_Tick"></asp:Timer>
        </ContentTemplate>
        <Triggers>
        <asp:AsyncPostBackTrigger ControlID="Timer1" EventName="Tick" />
        </Triggers>
        </asp:UpdatePanel>            
    </div>
</form>

protected void Timer1_Tick(object sender, EventArgs e)
{
    string xx = Request.Url.AbsoluteUri;
    xx = xx.Replace ("Default.aspx","00.jpg");
    img1.ImageUrl = xx; up1.Update();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:12:31.927

我怀疑图像上的缓存问题。也许尝试禁用此图像上的缓存，或使用以下命令构建唯一的 url：

```
protected void Timer1_Tick(object sender, EventArgs e)
{
    img1.ImageUrl = Page.ResolveUrl("~/00.jpg?x=" + DateTime.Now.Ticks.ToString()); 
    up1.Update();
} 
```

但实际上，您应该考虑使用纯 javascript（如果需要，可以使用 jQuery 或类似的）解决方案。这将避免服务器往返。

这篇[文章](https://stackoverflow.com/a/1077051/588868)通过解决方案准确解释了您的需求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T08:18:17.267

UpdatePanel 在与服务器通信时使用大量开销；因此，如果可能，请摆脱 ScriptManager 和 UpdatePanel 并改用 JQuery。您可以有一个简单的 <img> 标记并让 JQuery 更新图像。

如果您能够以某种方式更改图像的文件名（例如，在文件名的末尾添加日期+时间），那么您不必做任何特殊的事情来克服缓存问题，您可以简单地更新 src图片。

例如。[http://www.phpfreaks.com/forums/index.php?topic=253852.0](http://www.phpfreaks.com/forums/index.php?topic=253852.0)或[https://www.google.com/search?btnG=1&pws=0&q=jquery+img](https://www.google.com/search?btnG=1&pws=0&q=jquery+img)

# php - 最短的哈希值

> ID：11046906
> 
> 赞同：3
> 
> 时间：2012-06-15T08:09:43.387
> 
> 标签：php

我已经浏览了这个页面...

[http://www.php.net/manual/en/function.hash.php](http://www.php.net/manual/en/function.hash.php)

MD5 为 32 个字符，而 sha1 为 40。例如

```
$str = 'apple';

sha1 string d0be2dc421be4fcd0172e5afceea3970e2f3d940
md5 string 1f3870be274f6c49b3e31a0c6728957f 
```

即使可选的 raw_output 设置为 TRUE，md5 摘要也会以长度为 16 的原始二进制格式返回。

我正在寻找一个将创建等于或小于 8 个字符的哈希的函数。

更新：我需要更小的字符串有 3 个原因：

1) MySQL Archive 表类型似乎不允许在超过 8 个字符的列上建立索引

2）我打算使用像redis这样喜欢较小键的键值实用程序

3) 安全性在这里不是问题。我正在散列“国家+电信+运营商”之类的列

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-15T08:19:07.523

您可以使用该`crc32`方法创建散列，它创建一个 8 字符长的散列。

```
$hash = hash('crc32', $input, FALSE); 
```

使用这种方法要**格外**小心，因为它完全暴露在密码攻击之下。**不要*将*其用于任何类型的安全检查。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T08:26:19.683

留给我，我建议您创建自己的自定义“加密”算法，为您生成 8 个字符。例如，您甚至可以决定执行 md5、SHA1 和 SHA512，并以 2:3:3 的比例组合以获得您自己的自定义代码。

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2012-06-15T08:12:33.570

```
function short_hash($value, $length=8) {
    return substr(md5($value), 0, $length);
} 
```

# ios - AVUrlAsset 全解析问题

> ID：11046908
> 
> 赞同：1
> 
> 时间：2012-06-15T08:10:00.183
> 
> 标签：ios, resolution, movie, avurlasset

我有一个奇怪的（对我来说）问题。我用我的 iphone 3gs 录制了两个 .mov 文件。当我在 mac 上打开它们时，它们是 640x480。当我在我的应用程序中打开时，使用 AVURLAsset、AVAssetReader 等的标准调用......我仍然得到 480x360。

你们中有人可以帮助（澄清）这个吗？正常吗？当我从相机捕捉时，我可以以 640x480 运行，即 CMSampleBuffer 具有正确的宽度和高度，因此我创建的 UIImage 更远。

```
AVURLAsset* asset;
NSString* fileBundle;
NSURL* url;
NSError* error;
NSArray* videoTracks;
AVAssetTrack* track;
NSMutableDictionary* dictionary;

fileBundle = [[NSBundle mainBundle] pathForResource:@"TestMovies/movie1" ofType:@"mov"];
url = [NSURL fileURLWithPath:fileBundle];

asset = [[AVURLAsset alloc] initWithURL:url options:nil];
movieAsset = [[AVAssetReader alloc] initWithAsset:asset error:&error];
videoTracks = [asset tracksWithMediaType:AVMediaTypeVideo];
track = [videoTracks objectAtIndex:0];
dictionary = [[NSMutableDictionary alloc] init];
[dictionary setObject:[NSNumber numberWithInt:kCVPixelFormatType_32BGRA] forKey:(id)kCVPixelBufferPixelFormatTypeKey];
movieOutput = [[AVAssetReaderTrackOutput alloc] initWithTrack:track outputSettings:dictionary];
[movieAsset addOutput:movieOutput];
[movieAsset startReading]; 
```

然后，在一个定时成员中：

```
if( [movieAsset status] == AVAssetReaderStatusReading ) {
    CMSampleBufferRef buf;
    UIImage* img = [[UIImage alloc] initWithCMSampleBufferRef:buf]; 
```

显然 UIImage 的扩展包含在项目中......

# facebook - 验证对话框预览用户看不到页面选项卡

> ID：11046913
> 
> 赞同：0
> 
> 时间：2012-06-15T08:10:34.863
> 
> 标签：facebook, facebook-page, facebook-test-users

我以我的应用程序的测试用户身份登录，身份**验证对话框预览用户**从那里查看某个页面的选项卡。但是它们没有显示，而是页面显示了它的时间线。有任何想法吗？

# android - 动态更改来电铃声

> ID：11046915
> 
> 赞同：0
> 
> 时间：2012-06-15T08:10:50.867
> 
> 标签：android, android-mediaplayer, ringtone, android-audiomanager

我正在尝试用来自文本的合成语音动态替换我的铃声。但是一旦我接到来电，我的应用程序似乎失去了音频焦点，我无法动态更改我的铃声。

有没有办法做到这一点？

谢谢

~索拉巴

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-17T02:05:18.267

终于在我的代码中发现了这个错误。

我正在为我的来电呼叫接收器。我在我的函数中创建`texttospeech`对象，`onReceive()`而不是我的 Receive 类构造函数。

我不知道为什么，但是当我进行此更改时，它会起作用。

# redmine - 如何在修复提交消息问题时链接 SVN 用户名和 Redmine 用户名？

> ID：11046916
> 
> 赞同：0
> 
> 时间：2012-06-15T08:11:08.447
> 
> 标签：redmine

我正在使用 Redmine 跟踪我的项目中的问题。我正在使用[引用和关闭提交消息问题](https://stackoverflow.com/questions/3607590/best-way-to-link-redmine-issue-to-svn-revision)的功能，除了 Redmine 无法链接我的 SVN 用户名（这是我在服务器上的 linux 帐户）和我的 redmine 用户名之外，它运行良好。

我的 SVN 存储库是通过`bicou`使用该`svn+ssh://`方案的登录名修改的，而我的 Redmine 登录名是`benoit`. 有没有办法将两者联系起来？

问题是，如果我用提交消息关闭问题，Redmine 表明该问题已由`Anonymous`...关闭

*我想这不是 Stack Overflow 的问题......如果不是，我很抱歉。*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T12:46:27.267

Redmine 允许将 redmine 用户登录映射到 cvs 用户名，如手册中所述：[**Repository user-mapping**](http://www.redmine.org/projects/redmine/wiki/RedmineRepositories#Repository-user-mapping)

当然，从一开始就使用相同的用户名让 redmine 自动映射它更容易......

# java - 抽象：从相同的来源创建不同的版本

> ID：11046917
> 
> 赞同：1
> 
> 时间：2012-06-15T08:11:16.220
> 
> 标签：java, ant, build

我目前正在使用 GPS 接收器和将 GPS 位置发送到服务器的调制解调器进行跟踪项目。自今年以来，有一个带有升级固件库的新调制解调器可用。我公司的硬件设计团队使用新调制解调器开发了一种新硬件。

我现在的问题是：如何从相同的来源为两种调制解调器类型构建我的应用程序？

我的意思是：在新的固件库中，有一些可用的类和方法不能用于旧调制解调器和旧固件库。我使用 NetBeans 作为我的 IDE，因此我可以轻松地创建不同的 ant 配置来为两种调制解调器类型构建应用程序，但是我如何在我的代码中实现它。我的代码中不能包含部分新固件库，因为它甚至无法编译，我必须以某种方式“动态”链接正确的固件库。这是如何在 Java 中完成的？此外，生产调制解调器的公司已更改其公司名称，我导入的所有软件包现在都不`com.new_name.bla;`是 `com.old_name.bla;`

这主要在我所有的源文件中。我确信有一种方法可以在 Java 中解决这个问题。有人可能有一个很好的例子来解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T08:32:16.103

您可以创建一个单独的接口来封装这两个库的行为。在您的代码中，您只会使用该接口。您只需要编写一些将每个库转换为该接口的实现的东西。

我相信这是[桥设计模式](http://en.wikipedia.org/wiki/Bridge_pattern "桥梁设计模式")

# javascript - 如何将本地磁盘上的文本文件读入 javascript 中的变量

> ID：11046919
> 
> 赞同：11
> 
> 时间：2012-06-15T08:11:39.423
> 
> 标签：javascript, jquery, json

您好我正在尝试从本地机器读取 .json 文件。它不会在我使用的代码中读取它是：

```
jQuery.getJSON('../json/test.json') 
    .done(function(data) {
        var test = data;
        alert("sucsess");
    })
    .fail(function(data){
    alert("failed");

}); 
```

我从中得到的只是失败了我做错了什么。我不会通过这个服务器。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-15T08:21:35.257

使用文件 API。这是包含示例代码和演示的指南：

*   [使用文件 API 在 JavaScript 中读取文件](http://www.html5rocks.com/en/tutorials/file/dndfiles/)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-09-18T12:58:18.183

检查这个[小提琴](http://jsfiddle.net/mDNFX/1/)

```
<title>reading Text files</title> 
<body>
    <input type="file" id="files" name="files[]" multiple />
    <output id="list"></output>
    <script>
      function handleFileSelect(evt) {
        var files = evt.target.files; // FileList object

        // Loop through the FileList
        for (var i = 0, f; f = files[i]; i++) {

        var reader = new FileReader();

        // Closure to capture the file information.
        reader.onload = (function(theFile) {
            return function(e) {
                // Print the contents of the file
                var span = document.createElement('span');                    
                span.innerHTML = ['<p>',e.target.result,'</p>'].join('');
                document.getElementById('list').insertBefore(span, null);
            };
        })(f);

        // Read in the file
        //reader.readAsDataText(f,UTF-8);
        //reader.readAsDataURL(f);

        reader.readAsText(f);
        }
    }
    document.getElementById('files').addEventListener('change', handleFileSelect, false);
    </script>
</body> 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-06-15T08:16:46.717

抱歉，如果您从本地驱动器运行页面（地址栏的格式为 file:///path 到您的页面），那么您可以从磁盘读取文件，但如果您从网络服务器（[http://. ....](http://.....) .) 您无法从本地驱动器读取文件。它可以保护您免于从用户驱动器中窃取信息。您可能需要上传文件才能阅读

编辑：我必须把它拿回来。新浏览器将允许您根据用户事件读取文件。如果用户单击文件输入并打开一个文件，那么您可以阅读它

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-15T08:16:11.930

由于安全原因等，您无法通过 JavaScript 访问本地计算机上的文件......

> JavaScript 和 DOM 为恶意作者提供了通过 Web 传递脚本以在客户端计算机上运行的可能性。浏览器作者使用两个限制来控制这种风险。首先，脚本在沙箱中运行，它们只能执行与 Web 相关的操作，而不是创建文件等通用编程任务。

但我找到了这个网站，但从未尝试过，也许对你有帮助： [Reading local files in JavaScript](http://www.html5rocks.com/en/tutorials/file/dndfiles/)

**编辑：**如果你永远不会在网络服务器上运行你的代码并且只在你的本地系统上执行它（在浏览器中调用 index.html，比如：C:/Users/user/index.html 你可以访问它，但是如果这个网站应该永远都会上网，我想，那是行不通的

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-15T08:17:51.097

如果您谈论的是本地（客户端）系统上的文件而不是服务器上的文件，那么使用简单的 javascript 是不可能的。您无法访问本地文件系统资源。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-15T08:19:41.830

jQuery.getJSON 调用是异步的，因此您只能在 function(data){...} 中看到您的测试变量

# iphone - NSLog 会导致应用程序崩溃吗？

> ID：11046921
> 
> 赞同：1
> 
> 时间：2012-06-15T08:11:46.920
> 
> 标签：iphone

我是 iPhone SDK 的新手。我正在控制台中打印每个数组。无论消耗多少数据。我注意到有时我的应用程序崩溃了。它给了我 BAD_ACCESS 和指针显示在我的 NSLog 行上。我很困惑NSLog 会使应用程序崩溃吗？这是我的代码：

```
for (int i = 0; i < [UserNeedListArray count]; i++) {
    EndUserNeed* aEndUser = [UserNeedListArray objectAtIndex:i];
    if ([appData.CurrentUser.userId isEqualToString:aEndUser.UserId]) {
        NSMutableArray* temp = [[NSMutableArray alloc]init];
        [temp addObject:aEndUser];
        NSLog(@"%@",temp);
        [arr_ShowMyOnly addObject:[temp objectAtIndex:0]];
        NSLog(@"%@",arr_ShowMyOnly);
        [temp removeAllObjects];
        [temp release];
        temp = nil;
    }
} 
```

请帮帮我。谢谢...

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-15T08:28:06.210

更多`NSLog()`示例：

```
NSString *format = @"%s %d";    
NSLog(format, __FUNCTION__); 
```

会在设备上崩溃并且不会在模拟器上崩溃

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T08:21:04.007

正如里卡德所说，你的`arr_ShowMyOnly`变量有问题，而不是 NSLog。检查您保留并释放它的位置。例如，检查它是否在创建后保留<。顺便说一句，您可以添加`arr_ShowMyOnly`初始化代码

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T08:28:31.570

我假设分配了 arr_ShowMyOnly，所以这样做：

```
 for (int i = 0; i < [UserNeedListArray count]; i++) 
  {
    EndUserNeed* aEndUser = [UserNeedListArray objectAtIndex:i];
    if ([appData.CurrentUser.userId isEqualToString:aEndUser.UserId]) 
    {
      [arr_ShowMyOnly addObject:aEndUser];
      NSLog(@"%@",arr_ShowMyOnly);
    }
  } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-15T08:59:46.207

试试这个我会帮助你。

```
for (int i = 0; i < [UserNeedListArray count]; i++) {
        EndUserNeed* aEndUser = [UserNeedListArray objectAtIndex:i];
        if ([appData.CurrentUser.userId isEqualToString:aEndUser.UserId]) {
            NSMutableArray* temp = [[NSMutableArray alloc]init];
            [temp addObject:aEndUser];

            NSLog(@"%@",temp);
            if([temp count] >0)
            {
               [arr_ShowMyOnly addObject:[temp objectAtIndex:0]];
            }
            if([arr_ShowMyOnly count] >0)
            {
               NSLog(@"%@",arr_ShowMyOnly);
            }
            [temp removeAllObjects];
            [temp release];
            temp = nil;
        }
    } 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-06-15T08:21:25.500

是的，它可以。当你这样做时，`NSLog(@"%@",temp);`它期望这`temp`是一种 NSString 类。

在您的情况下，您应该这样做 `NSLog(@"%@",[temp description]);`几乎所有的类都有一个描述方法，它将返回一个 NSString 对象。

# codeigniter - 通过 Codeigniter 使用 Paypal Express Checkout 数字商品

> ID：11046923
> 
> 赞同：5
> 
> 时间：2012-06-15T08:12:06.470
> 
> 标签：codeigniter, paypal, express-checkout

我正在尝试在 Codeigniter 网站上实施 Paypal 的数字商品快速结账。

我正在使用 mod rewrite 将 index.php 从 Codeigniter URL 中取出，因此当 Paypal 在末尾附加 ?token=xxxx 回调我的网站时，我收到 404 错误。

当 Paypal 向网站执行此回调时，事件流会卡住。弹出窗口出现，但只是停留在“正在加载...”。

任何帮助将不胜感激。

编辑：我刚刚将配置文件中的 uri_protocol 更改为：

```
$config['uri_protocol'] = "PATH_INFO"; 
```

现在我可以访问 $_GET 变量，但弹出的窗口仍然不会超过“正在加载...”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-17T17:45:32.690

使用由 Adrian Macneil [http://ci-merchant.org/编写的 CI Merchant 库](http://ci-merchant.org/)

它不仅支持 Paypal Express，还支持许多其他支付服务。

在随库提供的测试代码中，它为您提供了如何使用 PayPal 的示例。

# jquery - 如何在项目被删除之前获取原始元素在jquery可排序中的位置？

> ID：11046934
> 
> 赞同：0
> 
> 时间：2012-06-15T08:13:23.440
> 
> 标签：jquery, jquery-ui, jquery-ui-sortable

例如，我想切换元素位置。 [http://jsfiddle.net/dado_eyad/mKaFe/3/](http://jsfiddle.net/dado_eyad/mKaFe/3/)

如果我搬到`Second row: 1`的地方，`First row: 2`我希望后者取代第一个。

如何访问`First row: 2`将其移动到`Second row: 1`原始位置？

# c - 在 C 程序中使用 tcl 和 tk 存根

> ID：11046935
> 
> 赞同：3
> 
> 时间：2012-06-15T08:13:24.630
> 
> 标签：c, tcl

我需要一个简单的 C 程序来创建 tcl 解释器，初始化 tcl 和 tk，然后加载给定的 tcl/tk 脚本。我想使用 tcl 和 tk 存根（以确保程序将在具有不同版本 tcl/tk 的计算机上运行）。我将使用这个程序而不是运行 wish（因为我有可移植性问题）。

```
#include <stdio.h>
#include <stdlib.h>
#include <tcl.h>
#include <tk.h>

int AppInit(Tcl_Interp *interp) {
  if(Tcl_Init(interp) == TCL_ERROR) return TCL_ERROR;
  if(Tk_Init(interp) == TCL_ERROR) return TCL_ERROR;
  Tcl_EvalFile(interp,"myscript.tcl");
  return TCL_OK;
}

int main(int argc, char *argv[]) {
  Tk_Main(argc, argv, AppInit);
  return 0;
} 
```

我尝试使用以下命令编译（在 GNU/Linux 上）。程序编译没有错误，但随后因分段错误而停止。

```
gcc -I/usr/include/tcl8.5 -DUSE_TCL_STUBS -DUSE_TK_STUBS -o main.exe ../main.c /usr/lib/libtclstub.a /usr/lib/libtkstub.a 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-15T08:51:32.467

## tl;博士

使用 编译程序时`main`，*不应*使用存根。相反，构建没有`USE_TCL_STUBS`and`USE_TK_STUBS`定义并链接到`libtcl.so`and `libtk.so`（好吧，无论版本号附加到它们）。由于 Unix 链接器的特殊性，您应该将 Tk 库放在 Tcl 库之前（您可能还需要手动链接其他库，例如 X 库；链接有时是一种魔法）。

## 背景说明

存根机制旨在允许 Tcl 扩展库使用 Tcl（和 Tk）的 C API，而不必与 Tcl 库本身链接。这意味着该库与加载它的过程中存在的 Tcl 的确切版本无关，而是仅取决于特定版本的 Tcl API（Tcl 非常擅长管理长期 API 和 ABI 兼容性）。然而，这一切都取决于使用一种非常特殊的指针调用库初始化函数，该指针允许查找所有其他 API 函数。（一旦 Tcl 以这种方式引导，查找所有其他 API 就变得容易得多。）像您一样创建应用程序时，您会遇到一个问题，即没有现有的引导 Tcl 库实例供您的代码链接;`Tcl_Main`并且`Tk_Main`由于这个确切的原因是非存根函数）。

那些在家里阅读的人可能会认为这是 Tcl 重复了系统动态链接器所做的很多事情。你是对的。然而，系统动态链接器有许多方法可以做一些不太正确的事情（例如，当一个库有多个版本时，它会变得*非常混乱），并且它在平台之间的功能略有不同。*Tcl 使用它自己的机制，因为这使得它在任何地方都能精确地工作（对于 Tcl），让我们更好地控制长期 ABI 兼容性。

上面关于存根的规则有一个例外，那就是[tclkit](http://equi4.com/tclkit/)，它是单个文件中的完整 Tcl 和 Tk 运行时（加上一个小型 NoSQL DB）。不过，tclkit 的引导代码非常复杂。你不想处理那些你不需要的事情！如果你想要一个单文件的 Tcl 运行时，你可以使用 tclkit（或者其他几个可以做几乎相同事情的系统之一）。

# objective-c - theos，如何使用自定义类导入来调整.xm

> ID：11046936
> 
> 赞同：0
> 
> 时间：2012-06-15T08:13:24.813
> 
> 标签：objective-c, class

当我导入自定义类时，它可以在没有警告或错误的情况下进行编译。但是......你知道，它只是不起作用。知道吗？

```
#import "./myclass/MyClass.h"

static MyClass* myClass=[%c(MyClass) withState:0];

[myClass getDataFromServer]; 
```

乐趣

```
- (id)initWithState:(NSUInteger)state
{
  if ((self = [super init])) {
    _stateNow=state;
    _stateToSet=state;
  }
 return self;
}

+ (id)withState:(NSUInteger)state
{
  return [[[self alloc] initWithState:state] autorelease];
}
- (void)getDataFromServer{
UIAlertView* av = [[UIAlertView alloc] initWithTitle:NSLocalizedString(@"", nil)
                              message:@"Connection fail"
                              delegate:self
                              cancelButtonTitle:@"ok"
                              otherButtonTitles:nil,
                              nil] ;
av.frame = CGRectMake( 0, 0, 330, 480 );
av.tag=kScreenTag;
    [av show];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:57:36.177

我得到它的照顾。

静态 MyClass* myClass=[MyClass withState:0];

并且makefile应该被改变。

# jakarta-ee - Java EE 应用程序设计建议

> ID：11046952
> 
> 赞同：0
> 
> 时间：2012-06-15T08:14:33.863
> 
> 标签：jakarta-ee, java-ee-6

我正在使用 Java EE 应用程序。目前要求很少，只有一种观点。但在未来的需求可能会添加，我必须添加更多的视图。我不想使用任何框架。需要知道我应该遵循哪种模式，以便添加新视图所需的更改最少。是否可以为每个不同的操作使用单独的 servlet，或者我应该遵循前端控制器以便我可以插入操作和视图。我将使用的主要技术堆栈是 AJAX、webservice、jsp、servlet（显然）就是这样我还需要创建一个我想在服务器启动或尽快加载的服务。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:20:48.397

您可以坚持使用 JEE6 堆栈本身，您可以使用 JSF 2.0 开发基于 AJAX 的应用程序。JSF 2.0 无论如何都将前端控制器作为其架构的一部分。因此，您无需任何额外的框架即可构建应用程序。

# c# - 在一行中创建并将 IEnumerable 传递给方法

> ID：11046953
> 
> 赞同：2
> 
> 时间：2012-06-15T08:14:38.247
> 
> 标签：c#, ienumerable

我有这几行代码

```
FilterCondition CustomerID = new FilterCondition("Customer_ID",cust.Customer_ID,FilterCondition.FilterOperator.Equals);
        List<FilterCondition> conditions = new List<FilterCondition>();
        conditions.Add(CustomerID);
        conditions.Add(Location_is_last_used);
        Location loct = Store.Select<Location>(conditions).First(); 
```

我试图让它像这样工作

```
Store.Count<Customer>(new List<FilterCondition>().Add(new FilterCondition("Customer_name",name,FilterCondition.FilterOperator.Equals)) 
```

但这不会起作用，因为 Add 返回 void 并且它让我发疯，有没有其他方法可以在一行中解决这个问题？我真的不想为我需要的一切写条件。

求救！问候，卢卡

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:20:34.243

你可以写一个扩展方法：

```
public static class MyExtensions
{
    public static ICollection<T> AddChainable<T>(this ICollection<T> collection, T newItem)
    {
        collection.Add(newItem);
        return collection;
    }
} 
```

然后，您可以按如下方式调用它：

```
Store.Count<Customer>(new List<FilterCondition>().AddChainable(new FilterCondition("Customer_name",name,FilterCondition.FilterOperator.Equals)); 
```

（假设`Store.Count<T>`适用于`ICollection<T>`，它引入了`Count`属性，否则适当地调整集合类型。

与列表初始化语法相比，优势在于您也可以将其用于已创建的列表对象（例如，如果您从工厂方法获取列表对象）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T08:17:29.393

```
Store.Count<Customer>(new FilterCondition[]{new FilterCondition("Customer_name",name,FilterCondition.FilterOperator.Equals)}.ToList()) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-15T08:17:53.360

您可以使用

```
new List<FilterConditions>() { new FilterCondition("Customer_name",name,FilterCondition.FilterOperator.Equals) } 
```

作为列表初始化器

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-15T08:18:07.657

首先，我不会这样做，因为代码已经很好了，但如果你**真的**想这样做，可能的**伪代码**之一 可能是：

```
Location loct = Store.Select<Location>(new List<FilterCondition>{
           new FilterCondition{value = CustomerID}, 
            new FilterCondition{value = Location_is_last_used}
}).First(); 
```

*应该*为你工作。

重复一遍，在我看来，你的代码*更好*。它更容易阅读。

# php - 重定向时提供成功消息的最佳方式？

> ID：11046954
> 
> 赞同：3
> 
> 时间：2012-06-15T08:14:42.883
> 
> 标签：php, http, redirect

我正在寻找在重定向成功消息后提供页面的最佳方式。我认为提交表单后重定向是防止表单多次提交的最佳方法。

以下是我想到的一些可能性。你认为其中最好的是什么，为什么或者你有其他的可能性？

*   将消息保存在会话中并在目标页面上从那里读取
*   为新页面提供一些 GET 参数，例如`header('Location: index.php?success='.urlencode($message));`
*   提供比`Location`标题更多的内容并像这样在目标页面上阅读它们

    ```
    header('Location: index.php');
    header('X-Success-Message: ' . urlencode($message)); 
    ```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:45:51.957

这是我的意见：

**会议。**

您在会话中存储的所有数据都将存储在服务器上。默认位置是磁盘。IO - 是一种非常有限的资源。不要在不需要时开始会话。不要在不需要时将数据存储在会话中。

**为新页面提供一些 GET 参数。**

这是一种很好的做法，但有一个不足之处。如果客户将链接存储在他的收藏夹中（等等......）将其提供给另一个用户并且稍后他打开此链接，那么他将看到成功消息。

**提供比 Location 标题更多的内容并在目标页面上阅读它们。**

这是一个很好的方法，但它取决于应用程序和客户端中间的服务器配置和代理。有时服务器配置（代理）会杀死非标准标头。但通常这不是问题。

**将此数据存储在 cookie 中。**

缺乏：

*   不要忘记删除 cookie。
*   存储在 cookie 中的所有数据都将从您的服务器传输到客户端并返回。

**将此数据存储在服务器上。**

存储在数据库、内存缓存、NoSQL 等中。如果这不会在服务器上产生额外的负载并且非常适合您的应用程序，为什么不呢？而且您不一定需要存储消息本身，而只需要存储状态标志。

在实践中，我使用所有这些方法。目前应该使用哪种方法 - 查看应用程序的要求及其未来使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-16T12:23:12.047

将您的消息存储在数组或配置文件中。

如果您更喜欢使用会话（或框架的闪存数据），只需存储要显示的消息的键。

如果您更喜欢 GET 解决方案，请使用您要显示的消息的键传递一个参数。

如果您使用 GET 并希望避免用户为带有消息的页面添加书签，则可以在会话中使用布尔变量，以便仅在此变量设置为 1 时显示消息。

# yii - 使用 yii 框架如何遍历一个二维数组 foreach 使用

> ID：11046955
> 
> 赞同：0
> 
> 时间：2012-06-15T08:14:45.933
> 
> 标签：yii

我想得到结果：

```
parent1 : child1 child1 child1 
parent2 : child2 child2 child2 
parent3 : child3 child3 child3 
parent4 : child4 child4 child4 
```

表名是“类别”，`parent_id=0`是父类，我想得到每个父亲的孩子。我使用 yii 框架下面是我的代码：

```
class CtcategoryController extends GtController

{

    public function actionIndex()
    {

        $criteria = new CDbCriteria;
        $criteria -> select = 'id,name';
        $criteria -> limit = 15; 
        $criteria -> condition = 'parent_id = 0';
        $categorys = CtCategory::model()->findAll($criteria);

        foreach($categorys as $category_child){
            $criteria -> condition = 'parent_id = '.$category_child->id;
            $category_child = CtCategory::model()->findAll($criteria);
        }
             //print_r($category_child);==>Aarray()  is null;

        $this->render('index', array(
            'categorys' => $categorys,
        array('category_child' => $category_child)
        ));
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T08:26:25.847

您需要为第二个查询创建一个新的 CDBCriteria 并将结果保存在一个数组中。

```
class CtcategoryController extends GtController
{
    public function actionIndex()
    {
        $criteria = new CDbCriteria;
        $criteria->select = 'id,name';
        $criteria->limit = 15; 
        $criteria >condition = 'parent_id = 0';
        $categories = CtCategory::model()->findAll($criteria);

        $category_child = array();
        foreach($categories as $key => $category_parent){
            $criteria2 = new CDbCriteria;
            $criteria2->condition = 'parent_id = '.$category_parent->id;
            $category_child[$key] = CtCategory::model()->findAll($criteria2);
        }

        $this->render('index', array(
            'categories' => $categories,
            'category_child' => $category_child,
       ));
    }
} 
```

索引.php

```
foreach ($categories as $i => $category) :
    echo $category->id;
    foreach (category_child[$i] as $child) :
        echo $child->id;
    endforeach;
endforeach; 
```

# asp.net - 在两个站点之间共享身份验证 cookie/成员资格提供程序 - 第二个站点从不进行身份验证

> ID：11046961
> 
> 赞同：3
> 
> 时间：2012-06-15T08:15:17.983
> 
> 标签：asp.net, single-sign-on

我在 Win2008R2 IIS7 上有两个 ASP.NET 4.0 站点，例如 demo1.site.domain.com 和 demo2.site.domain.com，我想要单点登录。我已经四处搜索并像这样配置了两个站点的 web.config

```
<machineKey validationKey="ABCDEFG" decryptionKey="HIJKLMN" validation="SHA1" />

<roleManager defaultProvider="RoleName">
  <providers>
    <add name="RoleName" type="Assembly.RoleProvider, Assembly, Version=1.0.0.0, Culture=neutral, PublicKeyToken=a1b2c3d4e5f6g7h8i9" />
  </providers>
</roleManager>

<membership defaultProvider="MembershipName">
  <providers>
    <add name="MembershipName" type="Assembly.MembershipProvider, Assembly, Version=1.0.0.0, Culture=neutral, PublicKeyToken=a1b2c3d4e5f6g7h8i9" />
  </providers>
</membership>
<authentication mode="Forms">
  <forms 
    loginUrl="http://demo1.site.domain.com/login.aspx" 
    name=".ASPXAUTH"
    domain="domain.com"
    protection="All"  
    path="/"        
  />
</authentication>

<authorization>
  <deny users="?" />
</authorization> 
```

换句话说，机器密钥在两个网站上是相同的，并且成员资格/角色提供者存在于第一个站点的集合中并由第二个站点使用。

我遇到的问题是它不起作用。我使用 fiddler 来查看发生了什么，并且 auth cookie 永远不会发送到第二个站点，因此它总是重定向到登录页面。

我错过了一些明显的东西吗？

谢谢，尼克

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T08:19:40.270

我认为您在身份验证配置中设置了错误的域 - 它应该是“domain.com”（这可能是一个错字，但值得检查）。

您可能想查看以下有关跨子域共享 cookie 的博客：

[http://www.codeguru.com/csharp/csharp/cs_internet/article.php/c19417/Sharing-Cookies-Across-Domains.htm](http://www.codeguru.com/csharp/csharp/cs_internet/article.php/c19417/Sharing-Cookies-Across-Domains.htm)

# asp.net - 表格格式化 ASP.NET

> ID：11046962
> 
> 赞同：0
> 
> 时间：2012-06-15T08:15:22.623
> 
> 标签：asp.net, visual-studio-2008

快速 ASP.NET 问题：我可以更改此行的宽度：（`<table class="style1" width="100%" >`实际上，我在输入宽度时获得了自动完成功能）。但是，当我尝试设置列的宽度时：`<td width="10%">`我没有自动完成宽度；运行项目时，设置“td”的宽度根本不会反映出来。为什么？

它是这样开始的：

```
<table class="style1" width="100%" >
<tr>
<td width="33%">
... 
```

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T08:19:57.437

尝试 ：

```
<td style="width:10%" ></td> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T08:18:22.907

TD 不是列，而是单元格，请尝试 col 和 colgroup（[请参阅此处的文档](http://www.w3schools.com/tags/tag_col.asp)）。然而……这种布局风格现在是不受欢迎的。尝试使用基于 CSS 的布局，它会让你的生活更快乐。

# c++ - 在远程服务器上创建新存储库

> ID：11046963
> 
> 赞同：1
> 
> 时间：2012-06-15T08:15:26.973
> 
> 标签：c++, svn, tortoisesvn, commit, remote-server

我是 SVN 新手，我知道以下内容

```
checkout and commit 
```

但是，由于我的电脑上有重要数据，我想在远程服务器上创建一个文件夹。我有访问权限和服务器的 url。同时，我做了一些关于创建一个新文件夹并在那里提交我所有文件的搜索。我所得到的只是如何在本地机器上进行操作，但是我想将重要数据保存在那里，希望有人能提供帮助。

乌龟客户端是 TORTOISESVN 1.7.7。

如果我可以将我的 PC 作为远程服务器，请告诉我，我仍然没有静态 IP。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T08:22:22.910

我相信您需要使用服务器上的 svnadmin（通过 ssh 或类似方式）来创建存储库。

`svnadmin create /path/to/svn/repos/repo_name`

您可以从中导入和提交代码。我导入一个“骨架目录”（由主干、分支和标签目录组成），然后签出到我的工作副本中。

从技术上讲，任何机器都可以安装 Subversion 服务器。是否可以从“外部”访问您是另一回事。如果没有静态 IP，您将需要某种动态命名服务，例如 DynDNS。

# sql-server - SQL Server 到 MVC4 Web API？

> ID：11046974
> 
> 赞同：0
> 
> 时间：2012-06-15T08:16:12.663
> 
> 标签：sql-server, asp.net-mvc-4, asp.net-web-api

我在 ASP.Net Web API 中创建了一个新项目，但无法将数据从模型拉到控制器。到目前为止，我已经尝试了一些方法并阅读了来自[http://www.asp.net/web-api](http://www.asp.net/web-api)的教程，但是通过精细拉到模型的表数据并没有到达控制器以进行端点访问. 这些操作是否需要特定的方法，因为教程中使用的模拟数据在相同的结构下可以正常工作？

界面：

```
public interface ISkillRepository
{
    IEnumerable<Skill> GetAll();
    Skill Get(int id);
    Skill Add(Skill item);
    void Remove(int id);
    bool Update(Skill item);
} 
```

模型：

```
public IEnumerable<Skill> GetAll()
    {
        using (var db = new XXXEntities())
        {
            var skills = db.Skill.ToList();
            return skills;
        }
    } 
```

控制器：

```
static readonly ISkillRepository repository = new SkillsRepository();

    public IEnumerable<Skill> GetAllSkill()
    {
        return repository.GetAll();
    } 
```

该模型成功调用数据库并检索信息，但是它没有成功传递给作为端点访问的控制器。将模型代码拉入控制器也可以成功执行，但在请求时仍会抛出 500。没有关于不正确的返回类型等的错误。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T01:13:13.340

根据[EF 4.1 - Code First - JSON Circular Reference Serialization Error](https://stackoverflow.com/questions/5588143/ef-4-1-code-first-json-circular-reference-serialization-error)的解决方案是从关系中删除“虚拟”类型：

```
public /*virtual*/ ICollection<Skill> Skill { get; set; } 
```

或者

```
return accessibility + (accessibility != "private" ? "" : ""); 
```

而不是：

```
return accessibility + (accessibility != "private" ? " virtual " : ""); 
```

如果使用模型生成器。

# c# - 是否可以在 Word 中检索所有可用的图表模板

> ID：11046983
> 
> 赞同：2
> 
> 时间：2012-06-15T08:16:54.663
> 
> 标签：c#, ms-word, vsto

我目前正在使用 VSTO 开发 Word 加载项，并具有用于图表插入的自定义逻辑。我想向用户显示一个对话框，其中包含所有可用的图表模板和 Word 一样的预览。Word 在哪里存储图表模板，我如何才能全部检索到它们？是否可以预览所有这些图表？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T16:44:07.590

AddChart 方法采用 Microsoft.Office.Core.XlChartType 类型的枚举。您可以使用 Enum.GetNames 方法获取枚举的值。然后，您可以解析用户选择的值以使用 AddChart 方法使用它。

```
 private void Form1_Load(object sender, EventArgs e)
    { 
     listBox1.Items.AddRange(Enum.GetNames(typeof(Microsoft.Office.Core.XlChartType)));
    }

    private void listBox1_DoubleClick(object sender, EventArgs e)
    {
        if (listBox1.SelectedIndex >= 0)
        {
            Microsoft.Office.Core.XlChartType enumVal = (Microsoft.Office.Core.XlChartType)Enum.Parse(typeof(Microsoft.Office.Core.XlChartType), listBox1.SelectedItem.ToString());
            Globals.ThisAddIn.Application.Selection.InlineShapes.AddChart(enumVal);
        }
    } 
```

获得预览可能有点棘手。

# perl - 如何在 Perl 中提取没有中间变量的拆分数组的元素？

> ID：11046985
> 
> 赞同：2
> 
> 时间：2012-06-15T08:17:17.057
> 
> 标签：perl

给定字符串`Wibble eq wobble myhost.example.com`，我希望能够提取最后一个元素。

我目前的努力是：

```
my @parts = split( /\s+/, "Wibble eq wobble myhost.example.com");
my $host = $parts[-1];
print "$host\n"; 
```

我如何在没有中间`@parts`数组的情况下做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-15T08:24:11.867

试试这个：

```
my $host = (split( /\s+/, "Wibble eq wobble myhost.example.com"))[-1]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T17:20:40.067

或者（对于[已经给出的答案](https://stackoverflow.com/a/11047075/170194)），尝试：

```
my $host = pop [split /\s+/, "Wibble eq wobble myhost.example.com"]; 
```

或者，如果您不喜欢拆分：

```
my $host = pop [qw "Wibble eq wobble myhost.example.com"]; 
```

或者，更失败：

```
my $host = (qw "Wibble eq wobble myhost.example.com")[-1]; 
```

rbo

# c# - 带反射的异步编程

> ID：11046986
> 
> 赞同：4
> 
> 时间：2012-06-15T08:17:20.850
> 
> 标签：c#, silverlight, asynchronous, reflection.emit, async-await

如何使用反射创建异步方法？

基本上我需要这样的东西：

```
async public Task asyncmethod()
{
   await something();
} 
```

但我需要通过反思来做到这一点。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-15T09:17:14.140

方法的翻译`async`工作在 C#（或 VB.NET）编译器级别，CIL 不支持它。编译器在最简单的情况下所做的就是翻译如下代码：

```
async public Task asyncmethod()
{
    // some code
    var x = await something();
    // more code
} 
```

变成基本上等同于以下内容的代码：

```
public Task asyncmethod()
{
   // some code
   return something().ContinueWith(
       t =>
       {
           var x = t.Result;
           // more code
       });
} 
```

真正的代码要复杂得多（它使用`SynchronizationContext`，如果`something()`返回已经完成`Task`，它实际上不是异步的，它支持`await`其他谢谢`Task`），对于更复杂的 C# 代码来说它会更加复杂。

但是，如果您真的想`async`使用 Reflection.Emit 创建方法，那么您实际上必须手动执行此转换。

但要注意的一点是，如果您的方法`await`在它之前只使用一次`return`，您可以将其重写为（假设`something()`返回 a`Task`而不是其他`await`可以的东西）：

```
public Task asyncmethod()
{
    // some code
    return something();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T09:43:28.340

解析您的问题的另一种方法是您需要在方法中使用反射（例如，访问私有方法），但仍想使用 await。

如果是这种情况，您可以像往常一样使用反射，取回任务（或任何可等待的东西），然后单独等待它。

就像是：

```
public async Task asyncmethod()
{
    Task t = ... // code that fetches the Task via reflection
    await t;
} 
```

虽然，正如 svick 所提到的，如果唯一的等待是在最后，只需返回任务而不是将方法标记为异步并使用等待。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-11-12T09:23:19.177

async/await 是编译器结构。它们在 CIL/ILGenerator/DynamicMethod 世界中不以这种形式存在。async 关键字和 await 运算符是更高级的语法糖果。async 的存在是为了标记一个允许您等待等待类型的方法。它们是实现 GetAwaiter() 的类型——一种返回实现 INotifyCompletion 接口的类型的方法——例如 Task/Task{T}——可以排队到 TaskScheduler。完成后将调用 INotifyCompletion.OnCompleted 延续。

如果您想通过 Reflection.Emit 动态生成“异步”方法，“所有”您所要做的就是将您想要在其中等待的任务返回到调用 DynamicMethod 的 C# 世界。然后，您可以通过 async/await 等待它。事情是这样的，你只能返回一个等待，所以当涉及到序列化等待时，例如：

```
await firstTask;
await secondTask;
await thirdTask;
// ...
await nTask; 
```

除非可以为元组返回类型将多个等待对象推送到堆栈上（我不知道如何为元组值设置调用堆栈），然后调用 await result.Item1; 等待结果.Item2; ... await result.ItemN，或推送一个 List{Task/Task{T}}，您必须通过 ContinueWith 将每个连续的可等待对象嵌套在每个先前的可等待对象延续中。我更喜欢返回 List{Task/Task{T}} 所涉及的所有分配，而不是简单地将 Task 引用推入堆栈。当谈到并行任务执行时，我不相信您可以避免 List{Task/Task{T}} 示例：

```
Task DynamicQuoteAsyncUnquoteMethod()
{
    return firstAwaitedAsyncMethod()
        .ContinueWith(
            task =>
            {
                secondAwaitedAsyncMethod()
                    .ContinueWith(
                        task =>
                        {
                            thirdAwaitedAsyncMethod()
                                .ContinueWith(
                                task =>
                                {
                                    // yatta yatta
                                }
                        }
            }
        );
} 
```

这意味着您必须通过 TypeBuilder 为每个 Task/Task{T}.ContinueWith 调用构建 lambda，使用 TypeBuilder.GetILGenerator() 动态生成它，然后继续将它们填充在父延续中，直到达到最顶层 ContinueWith - - 它返回一个您可以等待的任务 - 这就是您返回调用动态创建的“异步”方法的代码所需的全部内容。一旦先前的任务完成，这将导致每个任务连续运行。

# c# - NSeviceBus - 端点断开连接时的性能下降

> ID：11046999
> 
> 赞同：0
> 
> 时间：2012-06-15T08:18:22.587
> 
> 标签：c#, nservicebus, nservicebus3

我正在研究使用 NServiceBus 在中央服务器和许多远程 PC 之间进行容错通信。

我在最新 (3.2) 版本中运行 GateWay 示例，一切正常 - 使用试用商业许可证，性能似乎很棒，发送到 3 台远程 PC。但是 - 为了测试容错能力，如果我断开其中一台 PC，我注意到虽然其他站点继续从服务器接收消息，但性能受到很大影响 - 站点可能等待长达 30 秒才能收到消息 -大概是因为服务器正忙于处理断开连接的站点的重试。

对此有简单的配置类型答案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:21:03.960

我认为这里的问题是我没有指定服务器上的工作线程数。我将其更改为 5 个工作线程，现在问题已经消失了。