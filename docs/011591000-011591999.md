# StackOverflow 问答 11591000-11591999

# java - System.currenTimeInMillis() 与 System.nanoTime()

> ID：11591000
> 
> 赞同：23
> 
> 时间：2012-07-21T09:22:41.803
> 
> 标签：java

我知道这`System.nanoTime()`是现在测量时间的首选方法`System.currentTimeInMillis()` 。第一个明显的原因是 nanoTime() 提供了更精确的计时，另一个原因是我读到后者受系统实时时钟调整的影响。“受到系统实时时钟的影响”是什么意思？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-07-21T09:28:21.160

在这种情况下，我发现以下博客文章摘录很有用：

> 如果您对**测量绝对时间**感兴趣，请始终使用 `System.currentTimeMillis()`. 请注意，它的分辨率可能非常粗糙（尽管这在绝对时代很少成为问题。）
> 
> 如果您对**测量/计算经过的时间**感兴趣，请始终使用`System.nanoTime()`. 在大多数系统上，它会给出微秒级的分辨率。但请注意，此调用在某些平台上也可能需要几微秒才能执行。

时钟和计时器 - David Holmes[概述](https://blogs.oracle.com/dholmes/entry/inside_the_hotspot_vm_clocks)

由于`System.currentTimeMillis()`依赖于系统时钟，因此对*时间*的调整是合法的，以保持准时。

这里的调整是什么意思？例如看一下`CLOCK_REALTIME`来自 Linux 的描述：

> 测量实际（即挂钟）时间的系统范围的时钟。设置此时钟需要适当的权限。此时钟 **受系统时间的不连续跳跃**（例如，**如果系统管理员手动更改时钟**）以及 adjtime(3) 和 NTP 执行的增量调整的影响。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-07-21T09:34:47.820

只需检查方法的 JavaDoc：

`System.nanoTime()`

“......这种方法只能用于测量经过的时间，与任何其他系统或挂钟时间的概念无关......”

`System.currentTimeMillis()`

“...以毫秒为单位返回当前时间。...”

因此，您可以使用 来查看系统时间是否在测量期间发生变化`System.currentTimeMillis()`，您测量的时间间隔也会发生变化。`System.nanoTime()`但是，使用该方法测量间隔时，它不会改变。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-21T09:37:54.493

这意味着`System.currentTimeMillis()`返回的值是从机器的内部时钟中获取的。如果系统管理员（或 NTP）更改时间，例如，如果发现时钟快了 5 分钟并且系统管理员去纠正它，`System.currentTimeMillis()`将会受到影响。这意味着您甚至可以看到该值减少，如果您使用它来测量间隔，则计时可能会关闭。你甚至可以测量*负*时间。

`System.nanoTime()` on the other hand returns a value that is derived from some internal CPU counter/clock. The time measured by this clock cannot be changed by any user or program. This means that it will be more reliable for timing. But the CPU clock is reset on poweroff so it's not useful for finding the current "wall-clock" time.

# php - 将值插入mysql

> ID：11591001
> 
> 赞同：0
> 
> 时间：2012-07-21T09:23:24.470
> 
> 标签：php, mysql

我有用户个人资料更新页面并有一些表格要更新，这里是

```
NAME
SURNAME
password
phone 
```

而且我正在尝试在没有大脚本的情况下进行此更新，我的意思是我不想定义例如 NAME 是否存在等等。我希望如果存在任何标记的表单值，它会在 mysql 中更改。我怎么知道这可以通过 mysqli_prepare 语句实现。我写过这样的sql

```
$stmt = "UPDATE table SET NAME=?,SURNAME=?,PASSWORD=?,PHONE=? WHERE email='" . $email . "'"; 
```

但是出了点问题，有什么想法吗？还请告知为什么使用 mysqli_prepare 是更好的方法，为什么它也很安全？PS。我不写 php 脚本，因为我没有任何问题

**更新**

我已经在 php 中标记了 sql 语句和上面的这个脚本我正在写这个 =>

```
if (isset($_POST['name']){
    $name = $_POST['name'];
} else {
    $name = null;
} 
```

等等 ...

但它没有执行，没有显示任何错误消息，因为我认为 sql 语句有问题

只是想如果一些细节被填充它更新并且如果所有字段都被填充全部更新，如何用脚本编写？

我无法理解 sql 语句中的这个问号，这是否意味着如果例如 NAME 不存在它会被忽略？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:27:54.000

SQL 字符串中的问号不是 SQL 语法的一部分，它们是实际参数的占位符。如果你想这样做，你应该先做一个SQL语句，然后设置参数。

就像是

```
$con = new mysqli($hostname,$username,$password,$database);
$statement = $con->prepare( "UPDATE table SET NAME=?,SURNAME=?,".
                            "`PASSWORD`=?,PHONE=? ".
                            " WHERE email=?");
$statement->bind_param("sssss",$name,$surname,$pass,$phone,$email); 
```

源自[http://www.xphp.info/security/getting-started-with-mysqli/的示例](http://www.xphp.info/security/getting-started-with-mysqli/)

还要注意 ThiefMaster 的注释：`password`是 MySQL 中的保留字，所以你需要把它放在反引号 ( ````)

或者，您可以直接将值插入到 mysql 字符串中，就像您最初使用电子邮件地址所做的那样。**在这种情况下，您需要转义值**，方法是使用`mysql_real_escape_string()`

请注意，在这两种情况下，您都将所有值替换为设置的值，无论是它`NULL`还是一个字符串，或者其他什么。

# php - 在两列中显示多列标题和数据

> ID：11591006
> 
> 赞同：0
> 
> 时间：2012-07-21T09:24:17.950
> 
> 标签：php

我需要从一个表中选择多列信息并将其显示在另一个只有两列的表中。场景是这样的：第一个表（多列）：

```
 MATH111  MATH112  MATH113 MATH114
      67          89      54      23 
```

我想在这个（两列表）中显示它：

```
 Course      Score
       MATH111      67
       MATH112      89
       MATH113      54
       MATH114      23 
```

我精通 php，可以从多列表中获取和显示信息：

```
 "select * from xx where id=''";
      echo "<table border='1'>
   <tr>
<th>MATH111</th>
  <th>MATH112</th>
 <th>MATH113</th>
<th>MATH114</th>
  </tr>";
while($row=(mysqli_fetch_assoc($result))
 {
echo "<tr>";
 echo "<td>" . $row['MATH111'] . "</td>";
 echo "<td>" . $row['MATH112'] . "</td>";
  echo "<td>" . $row['MATH113'] . "</td>";
 echo "<td>" . $row['MATH114'] . "</td>";
echo "</tr>";
 }    
   echo "</table>"; 
```

我要在其中显示的表格将是：

```
 echo '<table><tr><th>Course</th><th>Score</th></tr>'; 
```

我需要的是代码帮助以显示它，正如我上面概述的那样，它是这种格式：

```
 Course      Score
       MATH111      67
       MATH112      89
       MATH113      54
       MATH114      23 
```

请让我补充一点，“课程”列的值是基于选择的表。所以我不能硬编码它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T09:31:00.737

将您的 SQL 查询重写为这样的内容

```
select 'MATH111' Course, MATH111 Score from xx where id=something
union
select 'MATH112' Course, MATH112 Score from xx where id=something
union
select 'MATH113' Course, MATH113 Score from xx where id=something
union
select 'MATH114' Course, MATH114 Score from xx where id=something 
```

那应该照顾其余的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T09:32:58.637

为什么不只是：

```
echo '<tr><td>MATH111</td><td>', $row['MATH111'], '</td></tr>',
     '<tr><td>MATH112</td><td>', $row['MATH112'], '</td></tr>' [ ... ]; 
```

# jquery - 当我只知道名称的起始字符时，如何使用 jQuery 替换类名？

> ID：11591007
> 
> 赞同：1
> 
> 时间：2012-07-21T09:24:35.967
> 
> 标签：jquery

我有：

```
<tr id='id1' class='X-** other-class a-class'> 
```

其中 * 可以是任意数字。

如果我想替换以 X-99 开头的类名，我该怎么做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T09:28:34.037

试试这个：

```
if ($('#id1').get().className) {
    $('#id1').get().className = $('#id1').get().className.replace(/\bX\-.*?\b/g, 'X-99');
}  else {
    $('#id1').addClass('X-99')
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T09:27:30.333

试试这些选择器：

```
// all trs with X-* class (that is: classes which starts with X-)
$("tr[class^='X-']") 

// all trs with X-99 class
$("tr.X-99") 
```

然后您可以使用`addClass`or`removeClass`来设置或取消设置类。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T09:30:03.673

```
jQuery(".X-99").removeClass(".X-99"); //class level
jQuery("#id1").removeClass(".X-99"); //id level 
```

你到底想做什么？

# javascript - 检查是否可以在不添加事件侦听器的情况下添加事件侦听器

> ID：11591016
> 
> 赞同：1
> 
> 时间：2012-07-21T09:25:40.473
> 
> 标签：javascript, event-listener

我想添加滚动事件侦听器或 touchstart 事件侦听器。最初我使用触摸事件来停用滚动事件侦听器，如下面的代码所示：

```
window.addEventListener('scroll', scrollStart, false);
window.addEventListener('touchstart', touchStart, false);

function scrollMenu() {
    // do something
}

function touchStart(e) {
    window.removeEventListener('scroll', scrollStart);
    // do something
} 
```

但我意识到在某些情况下，滚动事件会在页面加载后立即触发。因此，我不能使用上述方法。是否有另一种方法来检查浏览器是否支持触摸事件侦听器而不添加事件？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T09:28:44.777

Modernizr 能解决您的问题吗？有关检测触摸事件和每个浏览器兼容性的各种方法，请参见此处的示例：

[http://modernizr.github.com/Modernizr/touch.html](http://modernizr.github.com/Modernizr/touch.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-21T09:28:57.137

您*应该*能够检查该`ontouchstart`属性是否存在于`window`：

```
if ("ontouchstart" in window) {
    window.addEventListener('touchstart', touchStart, false);
} else {
    window.addEventListener('scroll', scrollStart, false);
} 
```

...虽然我无法确认 x-browser-ness。

# c# - @Url.RouteUrl 返回空字符串

> ID：11591021
> 
> 赞同：0
> 
> 时间：2012-07-21T09:26:57.760
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3, model-view-controller, routing

请问有人对此有什么建议吗？Mvc3 不会从以下返回我的路由 url。我做了一些非常相似的事情并且它有效。这两条路线都不会因任何可选参数或任何东西而变得复杂，它真的非常简单。到底是怎么回事？

这是在我的 global.asax.cs 中...

```
routes.Add("StateProductRoute", 
    new Route("{state}"+locationUrlLiteralPart+"/{productName}-{productType}", 
        new CustomUrlRouteHandler(CustomUrlRouteHandlerUsageType.Product))
        {
            Constraints = new RouteValueDictionary
            {
                { "constraint1", new ProductConstraint() }
            } 
        }); 
```

……这在我看来……

```
<a href="@Url.RouteUrl("StateProductRoute", 
    new { state="archer", productName="hello", productType="goodbye"})" 
    class="media"> 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-24T05:40:55.927

是否缺少破折号？

```
new Route("{state}**-**"+locationUrlLiteralPart+"/{productName}-{productType}", 
```

# c# - 是否存在阻止未处理异常对话框显示在我编译的应用程序中的设置？

> ID：11591023
> 
> 赞同：8
> 
> 时间：2012-07-21T09:27:16.660
> 
> 标签：c#, .net, visual-studio-2010

我不确定这是否是正确的地方，但无论如何我会的。

我有 2 个 .NET 应用程序；一个是我自己编译的，另一个不是。两者都使用 .NET Framework 4.5。但是他们处理异常的方式不同。

在我没有编译的应用程序中；它显示了未处理的异常对话框（我想要并期望）

![来自我没有编译的应用程序的未处理异常](../Images/6ac96ffab3a4e08b00740221b73f08aa.png)

但是在我编译的应用程序中；它只是显示应用程序已崩溃；

![我编译的应用程序中未处理的异常](../Images/2b42d6ce4b439735f48367c0728b2866.png)

因此，VS 配置或项目配置中必须有一个设置阻止未处理的异常对话框显示在我编译的应用程序中？...

我尝试重新安装 VS，更改 Debug->Exceptions 菜单中的设置，但都没有工作...

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-21T09:59:29.947

上面的屏幕截图是一个 ThreadExceptionDialog。它显示在非常特殊的情况下，即 Winforms 应用程序在消息循环 (Application.Run) 触发的事件处理程序中爆炸，并且应用程序没有重新分配 Application.ThreadException 事件处理程序。使用它不是一个很好的做法，用户没有合理的方法可以知道是单击继续还是退出按钮。请务必调用 Application.SetUnhandledExceptionMode() 来禁用它。

底部的屏幕截图是默认的 Windows 错误报告对话框，当程序因未处理的异常而被轰炸时，Windows 会显示该对话框。你不应该*让它*达到这一点，对话框没有显示足够的信息来帮助任何人诊断和解决问题。始终为 AppDomain.CurrentDomain.UnhandledException 事件编写事件处理程序。显示和/或记录 e.ExceptionObject.ToString() 并调用 Environment.Exit() 以终止应用程序。

使您的 Program.cs 源代码看起来与此类似：

```
 [STAThread]
    static void Main() {
        Application.EnableVisualStyles();
        Application.SetCompatibleTextRenderingDefault(false);
        Application.SetUnhandledExceptionMode(UnhandledExceptionMode.ThrowException);
        AppDomain.CurrentDomain.UnhandledException += CurrentDomain_UnhandledException;
        Application.Run(new Form1());
    }

    static void CurrentDomain_UnhandledException(object sender, UnhandledExceptionEventArgs e) {
        // TODO: improve logging and reporting
        MessageBox.Show(e.ExceptionObject.ToString());
        Environment.Exit(-1);
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-09-17T20:05:33.453

Hans Passant 提出的解决方案将终止应用程序。这也意味着`finally`不再执行剩余的块。

您还可以使用 PInvoke 通过调用该[`SetErrorMode()`](https://msdn.microsoft.com/en-us/library/windows/desktop/ms680621(v=vs.85).aspx)方法来更改行为。

```
public enum ErrorModes : uint
{
    SYSTEM_DEFAULT = 0x0,
    SEM_FAILCRITICALERRORS = 0x0001,
    SEM_NOALIGNMENTFAULTEXCEPT = 0x0004,
    SEM_NOGPFAULTERRORBOX = 0x0002,
    SEM_NOOPENFILEERRORBOX = 0x8000,
    SEM_NONE = SEM_FAILCRITICALERRORS | SEM_NOALIGNMENTFAULTEXCEPT | SEM_NOGPFAULTERRORBOX | SEM_NOOPENFILEERRORBOX
}

[DllImport("kernel32.dll")]
static extern ErrorModes SetErrorMode(ErrorModes uMode); 
```

然后打电话

```
SetErrorMode(ErrorModes.SEM_NONE); 
```

这样做会给`finally`积木运行的机会。

# c# - 在开头拒绝模式并选择字符串中的其余文本

> ID：11591026
> 
> 赞同：0
> 
> 时间：2012-07-21T09:27:49.677
> 
> 标签：c#, regex

如何拒绝出现在字符串开头的模式并在之后选择休息。

说我的字符串是“模式怎么样？” 不管它是什么，都需要拒绝这种模式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T16:52:06.047

使用 string.Replace 并将被拒绝的模式替换为空（即“”）您也可以使用正则表达式来获取其余文本，但主要解决方案应该没问题。最良好的问候

# c++ - 对 CryptoPP::AlignedAllocate(unsigned int) 的未定义引用

> ID：11591030
> 
> 赞同：9
> 
> 时间：2012-07-21T09:28:38.290
> 
> 标签：c++, undefined-reference, crypto++

我在 c++ linux 中使用 crypto++。这是我的简单代码：

```
#include <iostream>
#include <fstream>
#include <string.h>

#include "crypto++/cryptlib.h"
#include "crypto++/modes.h"
#include "crypto++/filters.h"
#include "crypto++/aes.h"
#include "crypto++/osrng.h"
#include "crypto++/strciphr.h"

using namespace std;
using namespace CryptoPP;

ifstream::pos_type size;
char * memblock;
int length;
char * _iv[AES::BLOCKSIZE];
char * keys[AES::MAX_KEYLENGTH];

void encriptCTR(byte * outbyte, const byte * inbyte, const byte * key, const byte * iv);

void encriptCTR(byte * outbyte, const byte * inbyte, const byte * key, const byte * iv)
{
    size_t inbyte_len = strlen((const char *)inbyte);
    CTR_Mode<AES>::Encryption ctr_encription(key, strlen((const char*)key), iv);
    ctr_encription.ProcessData(outbyte, inbyte, inbyte_len);
}

int main()
{
    ifstream file;
    file.open("testaja", ios::binary);
    if (file.is_open())
    {
        file.seekg (0, ios::end);
        length = file.tellg();
        memblock = new char [length];
        file.seekg (0, ios::beg);
        file.read (memblock, length);

        if (!file)
        {
            int a;
            a = (int)file.gcount();
            file.clear();
        }
        else
        {
            file.close();

            for (int i = 0; i < length; ++i)
            {
                cout << hex << (int)memblock[i] << " ";
            }

        }
    }
} 
```

当我运行它时，发生了一些错误：

```
 undefined reference to `CryptoPP::AlignedAllocate(unsigned int)'
 undefined reference to `CryptoPP::UnalignedAllocate(unsigned int)'
 undefined reference to `CryptoPP::AlignedDeallocate(unsigned int)'
 undefined reference to `CryptoPP::UnalignedDeallocate(unsigned int)' 
```

然后，我使用命令

```
gcc -o test test.cpp -L/usr/lib/crypto++ -lcrypto++ 
```

但是这个错误仍然存​​在：

```
undefined reference to `CryptoPP::AlignedAllocate(unsigned int)'
undefined reference to `CryptoPP::UnalignedAllocate(unsigned int)'
undefined reference to `CryptoPP::AlignedDeallocate(unsigned int)'
undefined reference to `CryptoPP::UnalignedDeallocate(unsigned int)' 
```

我该如何解决这个错误？我的代码有问题吗？

我正在为这个包使用突触包管理器安装crypto++：

```
libcrypto++-utils
libcrypto++8
libcrypto++8-dbg
libcrypto++-dev
libcrypto++-doc 
```

libcrypto++.a 和 libcrypto++.so 可以在 /usr/lib/ 中找到

提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-22T02:17:00.547

这个命令看起来不对：

```
gcc -o test test.cpp -L/usr/lib/crypto++ -lcrypto++ 
```

如果（如您所说）库在其中，`/usr/lib`那么您不应该说`-L/usr/lib/crypto++`

我认为该`libcrypto++8`软件包将其库安装在`-L/usr/lib/crypto++`目录中，并且可能它们不兼容并且不提供您的程序需要的未定义符号。

您应该简单地编译：

```
gcc -o test test.cpp -lcrypto++ 
```

（没有必要说`-L/usr/lib`，因为它是图书馆的默认位置）

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-22T02:27:49.100

它解决了！我改变我的命令：

```
g++ -o test test.cpp -L/usr/lib/crypto++ -lcrypto++ 
```

到这个命令：

```
g++ -o test test.cpp -L/usr/lib/ -lcryptopp -lpthread 
```

我添加 -lpthread 因为在我使用此命令后：

```
g++ -o test test.cpp -L/usr/lib/ -lcryptopp 
```

我收到这些错误：

```
./libcryptopp.so: undefined reference to `pthread_getspecific'
./libcryptopp.so: undefined reference to `pthread_key_delete'
./libcryptopp.so: undefined reference to `pthread_key_create'
./libcryptopp.so: undefined reference to `pthread_setspecific' 
```

我误解了 -L/usr/lib/crypto++ arg，我认为编译器会在 /usr/lib/ 目录中搜索 crypto++，结果编译器会在 -L/usr/lib/crypto++ 目录中搜索 crypto++，而软件包安装在 -L/usr/lib/ 目录中。

感谢@jonathan wakely。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-04-17T10:20:19.387

我也遇到了这个问题。您的编译器需要将库文件绑定到您的程序，因为它找不到您的 decleration 的任何实现！

我仍然没有解决我的问题。但你有别的办法！！！您可以`.cpp`用库文件代替原始文件。

您可以`Cryptopp`从以下链接下载原始文件：

[https://www.cryptopp.com/cryptopp563.zip](https://www.cryptopp.com/cryptopp563.zip)

# java-me - 创建 J2me 启动器

> ID：11591037
> 
> 赞同：1
> 
> 时间：2012-07-21T09:29:30.293
> 
> 标签：java-me, launcher

嗨，我必须创建 J2me 启动器，当我运行模拟器时，当我单击它时会显示图标，然后它会将我重定向到我提供的网站。我已经在互联网上对其进行了研究，但找不到任何解决方案如果有人可以帮助我，请帮助我，如果有任何建议，请给我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-22T06:58:39.230

你为什么不使用这样的东西：

```
platformRequest("http://ololo.com"); 
```

它将调用默认浏览器来打开链接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T11:41:06.913

```
 public void openBrowser(String URL) {
        try {
            mainMIDlet.platformRequest(URL);
        } catch (ConnectionNotFoundException e) {
            // error
        }
    } 
```

# javascript - 使用 JS 库显示徽标

> ID：11591039
> 
> 赞同：0
> 
> 时间：2012-07-21T09:30:12.173
> 
> 标签：javascript, image

我想为我的 JS 库提供*版权*，或者更多“表明是我做的”，比如[这里](https://stackoverflow.com/q/11587119/1344937)。

预期的结果是，如果你写

```
<script src="myLib.js" ></script> 
```

这是一个完全可用的库。

如果你写

```
<img src="myLib.js" /> 
```

它将显示我的徽标。

我想要一步一步地解释如何做到这一点。

PS：[这是网页还是图片？](https://stackoverflow.com/q/11587119/1344937)正在解释它是如何工作的；但我想知道对任何文件的任何图像执行的过程。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T09:40:09.143

使用 javascript 是不可能的，因为有了这个技巧，您的文件必须从头开始，`0xFF 0xD8 0xFF 0xE0...`并且没有办法让 javascript 忽略它。由于语法错误，它会立即放弃。

任何其他二进制格式也可能有同样的问题。他们需要从`0x2F 0x2A`( `/*`) 开始甚至考虑它。

和html不一样，因为html不怕看到`0xFF 0xD8 0xFF 0xE0...`

# java - 从 apk 文件中读取 Strings.xml 文件

> ID：11591044
> 
> 赞同：21
> 
> 时间：2012-07-21T09:31:27.077
> 
> 标签：java, android, eclipse

有什么办法可以`strings.xml`从`apk file`.
我对库或类/代码文件不感兴趣，只是定义在`strings.xml`

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2012-07-21T09:42:29.190

是的，您可以使用提取所有资源文件[`apktool`](http://ibotpeaches.github.io/Apktool/)

脚步 -

```
1.) Download files from above links and extract them in a folder.
2.) Open cmd -> run 
3.) Run command as 
    apktool.bat d source.apk destination_path 
```

或者

```
1.) Put apktool.jar and test.apk in same folder 
2.) Go to the jar and .apk path by command line
3.) And fire the command java -jar apktool.jar d test.apk
4.) It will generate a folder with the name "test" in the same folder. 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-07-21T09:42:16.600

下载[android-apktool](http://code.google.com/p/android-apktool/)（如果需要，也可以下载依赖项），解压到同一目录并运行`apktool d application.apk`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-02-06T18:08:56.087

下载[apktool](http://ibotpeaches.github.io/Apktool/install/)

1.  将 apk 文件（假设 test.apk）放在您下载它的目录中。
2.  现在输入命令'apktool d test.apk'
3.  现在浏览到“test\res\values”

您将在那里获得您的 strings.XML 文件。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-02-10T22:15:08.860

另一个选项`apktool`是`aapt`，但它不会以原始 XML 形式重现字符串。

```
$ aapt dump --values resources app.apk |
  grep '^ *resource.*:string/' --after-context=1

  resource 0x7f04011a com.example:string/hello: t=0x03 d=0x0000039e (s=0x0008 r=0x00)
    (string8) "Hello"
  ... 
```

# android - 如何从网络获取更新的图像？

> ID：11591050
> 
> 赞同：0
> 
> 时间：2012-07-21T09:33:08.380
> 
> 标签：android, imageview, web-storage

我正在构建一个应用程序，该应用程序从网络中提取图像以显示在 imageView 中。这将是一个时尚商店目录，因此产品会经常更新。

如何使应用程序在线查找新产品 - 显然，我不会每周使用硬编码 URL 将更新推送到 Play 商店。那么你们是怎么做到的呢？

PS我指的是存储和获取更新的方式，而不是如何执行此操作的代码。更像是，您将它们存储在哪里？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T09:43:17.360

好吧，我在谷歌应用引擎上创建了一个网站，您可以在其中上传照片并存储它。需要一种服务来接受来自 android -ex 的请求。android可以告诉服务器他最近下载的照片编号为6445，服务器可以检查数据库是否存储了更新的照片，并回复要下载的最新照片列表。

在客户端，创建一个每隔 X 小时左右检查一次新照片的服务。您也可以使用[GCM](http://developer.android.com/guide/google/gcm/demo.html)，这是非常好的机制！并且您可以“实时”获取更新，这将使您免于拉动电池消耗

编辑 1：尝试[Picasa 网络相册 API](https://developers.google.com/picasa-web/) - 创建相册，只允许应用程序下载。允许同步，你就完成了。

# asp.net - 如何将带有 EF4 的 MVC3 应用程序迁移到 EF4.5

> ID：11591052
> 
> 赞同：-3
> 
> 时间：2012-07-21T09:34:17.697
> 
> 标签：asp.net, .net, asp.net-mvc, entity-framework-4.1, entity-framework-5

谁能帮助我如何将 EF4 迁移到 EF4.5 或 5？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T09:37:36.520

简单的答案是：

1.  删除对旧 EF 版本的引用。
2.  添加对新 EF 版本的引用（nuget 是理想的来源）。
3.  编译。
4.  修复编译错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T09:47:30.387

Julie Lerman[在她的博客上有一个小截屏视频](http://thedatafarm.com/blog/data-access/video-entity-framework-5-enums-and-moving-solution-from-ef-4-3/)，展示了如何将带有 EF 4.3 的 .NET 4 应用程序迁移到带有 EF 5 的 .NET 4.5 应用程序。

要记住的重要一点是，首先将您的项目从 .NET 4 更新到 .NET 4.5，然后再更新 EF。

# iphone - 使用核心数据中的数组填充表视图

> ID：11591053
> 
> 赞同：0
> 
> 时间：2012-07-21T09:34:19.863
> 
> 标签：iphone, objective-c, ios5, core-data

我尝试从核心数据中填充我的表，但在这一行出现错误

```
Tips *tipy = [arr objectAtIndex:indexPath.row]; 
```

这是我的 .m 文件

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{

    return 1;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{

    return [arr count];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

    static NSString *CellIdentifier = @"Cell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[ UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier];
    }
    Tips *tipy = [arr objectAtIndex:indexPath.row]; 
    cell.textLabel.text = [tipy tipdescription];
    cell.detailTextLabel.text = [tipy.tipnumber stringValue];

    return cell;
} 
```

app 和 arr 在 .h 文件中声明为 as 并且也在 .m 文件中合成

```
@property (nonatomic, retain) AppDelegate *app;
@property(nonatomic, assign) NSArray *arr; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-21T10:05:01.580

正如moxy所说，你应该写`self.arr`而不是`arr`. 你已经设置`@property(nonatomic, assaign) NSArray *arr;`了你合成了那些属性吗？一定要这样做。并尝试`@property(nonatomic, retain) NSArray *arr;`而不是`@property(nonatomic, assaign) NSArray *arr;`. 分配不会增加保留计数，因此该值有可能被自动释放。不要忘记释放 dealloc 中的 arr 以避免内存泄漏。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:01:07.180

只是猜测，因为没有足够的代码来检查，但是`NSManagedObjectContext`'s`executeFetchRequest:error:`确实返回 autoreleased`NSArray`并且您的属性`arr`被定义为`assign`，而不是`strong`/ `retain`=> 您`NSArray`已释放并`arr`指向垃圾箱。也许这就是原因，但正如我所说，没有足够的代码可以确定。

# python - python - select.select() 如何工作？

> ID：11591054
> 
> 赞同：29
> 
> 时间：2012-07-21T09:34:20.390
> 
> 标签：python, select

## 背景：

我熟悉C的`select()`功能。我一直在将此功能用于许多目的。它们中的大多数（如果不是全部）用于读取和写入管道、文件等。我必须说我从未使用过错误列表，但这不涉及关键问题。

## 问题：

Python 的`select()`行为是否如下？

在我看来，尽管与C 的接口很[*简单*](http://docs.python.org/library/select.html#module-select)`select()`，但 Python 的行为方式却有所不同。似乎在文件第一次准备好读取时返回。如果您在读取文件的同时保留一些要读取的字节，则调用将阻塞。但是，如果您在先前的调用返回后再次调用，而这两个调用之间没有任何读取调用，则将按预期返回。例如：[](http://docs.python.org/library/select.html#module-select)*`select()``select()``select()``select()``select()``select()`*

 *```
import select
# Open the file (yes, playing around with joysticks)
file = open('/dev/input/js0', 'r') 
# Hold on the select() function waiting
select.select([file], [], [])
# Say 16 bytes are sent to the file, select() will return.
([<open file '/dev/input/js0', mode 'r' at 0x7ff2949c96f0>], [], [])
# Call select() again, and select() will indeed return.
select.select([file], [], [])
([<open file '/dev/input/js0', mode 'r' at 0x7ff2949c96f0>], [], [])
# read 8 bytes. There are 8 bytes left for sure. Calling again file.read(8) will empty the queue and would be pointless for this example
file.read(8)
'<\t\x06\x01\x00\x00\x81\x01'
# call select() again, and select() will block
select.select([file], [], [])
# Should it block? there are 8 bytes on the file to be read. 
```

如果这是`select()`Python 中的行为，我可以接受，我可以处理它。虽然不是我所期望的，但还好。我知道我能用它做什么。

但如果这不是我的行为，`select()`我会很感激有人告诉我我做错了什么。我读到`select()`的是 Python 文档所说的：“如果读|写|错误列表中的任何文件准备好读|写|错误，则 select() 返回。”。没关系，那里没有谎言。也许问题应该是：

*   当一个文件被认为可以在 python 中读取时？
*   这是否意味着从未读取过的文件？
*   这是否意味着要读取字节的文件？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-07-21T10:44:18.090

正如您所期望的那样， Python`select()`作为系统调用通过`select()`，但是您遇到的阻塞问题是另一个问题，可能与缓冲有关。只是为了满足自己`select()`做正确的事情，尝试在文件系统上读取/写入文件，而不是使用特殊设备，如操纵杆。

你可能想改变你的`open()`电话。默认情况下， Python[`open`](http://docs.python.org/library/functions.html#open)调用将使用缓冲读取，因此即使您这样做，`read(8)`它也可能会从输入文件中读取更多数据并缓冲结果。您需要将该`buffering`选项设置为，`open`以便无缓冲地打开操纵杆设备。

供您尝试的建议：

*   Python 默认以文本模式打开文件。在处理诸如操纵杆之类的特殊设备时，您`mode`可能希望打开。`rb`
*   以无缓冲模式打开文件。
*   `select`如果您要进行基于呼叫，请将设备设置为非阻塞模式。尝试`os.open()`与`os.O_RDONLY|os.O_NONBLOCK`标志一起使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:52:25.003

我可以问一个愚蠢的问题 - 你确定真的还剩下 8 个字节吗？

设备节点的行为不一定像普通文件。可能您必须在单个 read() 系统调用中读取整个 struct input_event。（如果你读得不够，剩下的就会被扔掉）。有点像数据报套接字上的 recvmsg()。*

# javascript - 从 Javascript 读取 Django 会话密钥 cookie

> ID：11591056
> 
> 赞同：1
> 
> 时间：2012-07-21T09:34:47.670
> 
> 标签：javascript, django, session-cookies

我正在使用 Django，我需要能够通过 javascript 脚本检查客户端是否在服务器上具有活动会话。有没有办法检查客户端是否有来自 javascript 的有效 django 会话密钥 cookie？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T18:53:16.780

第一次从 Django 站点请求页面时，它应该向您发送一个 cookie，如果 Django 设置正确，该 cookie 应该启动一个会话。cookie 的名称将是`sessionid`.

要查看此 cookie 是否存在，您可以执行`if (document.cookie.indexOf("sessionid") >= 0)`

如果您想查看/确认更多详细信息，则必须使用 Ajax 请求到服务器。

# php - 如何实现谷歌地图按街道名称搜索？

> ID：11591058
> 
> 赞同：0
> 
> 时间：2012-07-21T09:34:57.733
> 
> 标签：php, google-maps

我想知道是否可以在您自己的网站上制作一个谷歌地图搜索引擎，仅通过街道进行搜索（访问者输入街道名称然后点击搜索），搜索引擎会自动添加我添加的城市名称和州名称?

所以搜索实际上只适用于一个城市。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:57:01.713

您需要使用 api 中的地理编码功能，请看这里：[https ://developers.google.com/maps/documentation/geocoding/](https://developers.google.com/maps/documentation/geocoding/)

# jquery - jPlayer - 简化多个实例的功能

> ID：11591061
> 
> 赞同：2
> 
> 时间：2012-07-21T09:35:42.067
> 
> 标签：jquery, html, jplayer

我正在一个音乐竞赛网站上工作，该网站在同一页面上有很多 jPlayer 实例（90）。播放器可以工作，但不幸的是我必须等待 5 到 30 秒才能加载和播放歌曲。

这是每个玩家的 jQuery 代码：

```
$("#jquery_jplayer_2").jPlayer({
    ready: function () {
        $(this).jPlayer("setMedia", {
            m4a: "url/contest/sounds/radioacoustik-rita.m4a",
            ogg: "url/contest/sounds/radioacoustik-rita.ogg"
        });
    },
    play: function() { // To avoid both jPlayers playing together.
        $(this).jPlayer("pauseOthers");
    },

    swfPath: "url/contest/js/Jplayer.swf",
    supplied: "m4a, ogg",
    solution: "html, flash",
            preload: 'metadata',
    cssSelectorAncestor: "#jp_container_2",  
    wmode: "window"
}); 
```

有没有办法让我简化这段代码并让我更快地加载所有歌曲？

**编辑**

好的，所以我尝试通过将一些参数传递给变量来简化代码：

```
 $(document).ready(function(){   

 $(".lecteur").each(function(i){
            var lecteurNum = $(this).addClass("" + (i+1));
  }); //loop through audio and assign a unique class for each

var wrapPlayer = $(".wrap-player"); 
    var classLecteur = wrapPlayer.parent().attr('class').split(' ')[1];
var newPlayerId = "jquery_jplayer_" + classLecteur; // create id jquery_player
var jpContainerId = "#jp_container_" + classLecteur; // create id for jp-container
var songPath = wrapPlayer.attr("rel"); // get url of current sound 

$("#" +  newPlayerId).jPlayer({
            ready: function () {
                    $(this).jPlayer("setMedia", {
            m4a: "http://www.url.com/" + songPath + ".m4a",
                    oga: "http://www.url.com/" + songPath  + ".ogg",
                    });
            },
            play: function() { // To avoid both jPlayers playing together.
    $(this).jPlayer("pauseOthers");
},

          swfPath: "http://www.url.com/contest/js/Jplayer.swf",
    solution: "html, flash",
    supplied: "m4a, oga",
    cssSelectorAncestor: "",
    wmode: "window"

}); 
```

});

它似乎有效，但所有实例一起播放相同的曲目（第一首）..有什么解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T15:44:21.457

好的，我解决了这个问题，这个功能有效：

HTML /

```
<div class="lecteur">
    <!--PLAYER #1-->
    <div class="wrap-player" rel="contest/sounds/lord-fauttafer">
           <div id="jquery_jplayer_<?php echo $player_id1; ?>" class="jp-jplayer"></div>
                <div id="jp_container_<?php echo $player_id1; ?>" class="jp-audio">
                    <div class="jp-type-single">
                        <div class="jp-gui jp-interface">
                            <!--section title - volume bar -->
                                <div class="wrap-volume-bar-title">
                                    <div class="jp-title">
                                        <ul>
                                            <li><?php echo $title_sound_1; ?></li>
                                        </ul>
                                    </div>
                                    <div class="wrap-volume-bar">
                                        <div class="jp-volume-bar">
                                            <div class="jp-volume-bar-value"></div>
                                        </div>
                                    </div>
                                </div>
                                <!--section controllers -->
                                <ul class="jp-controls">
                                    <li><a href="javascript:;" class="jp-play" tabindex="1">play</a></li>
                                    <li><a href="javascript:;" class="jp-pause" tabindex="1">pause</a></li>
                                    <li><a href="javascript:;" class="jp-stop" tabindex="1">stop</a></li>
                                    <li><a href="javascript:;" class="jp-mute" tabindex="1" title="mute">mute</a></li>
                                    <li><a href="javascript:;" class="jp-unmute" tabindex="1" title="unmute">unmute</a></li>
                                    <li style="display:none"><a href="javascript:;" class="jp-volume-max" tabindex="1" title="max volume">max volume</a></li>
                                </ul>
                                <!--section ptogress bar -->
                                <div class="jp-progress">
                                    <div class="jp-seek-bar">
                                        <div class="jp-play-bar"> </div>
                                    </div>
                                    <div class="jp-current-time"></div>
                                    <div class="jp-duration"></div>
                                </div>
                               <div class="wrap-time-duration"></div>
                       </div>
                       <!-- end jp-UI--> 
                       <div class="jp-no-solution">
                           <span>Mise à jour requise</span>
                          Vous devez mettre à jour votre navigateur en téléchargeant la dernière version de falsh player <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.
                       </div>
                   </div>
               </div>
               <!-- end player1-->  
      </div>
      </div> 
```

和 javascript ：

```
$(document).ready(function(){

$(".lecteur").each(function(i){
            var vidNum = $(this).addClass("" + (i+1));
}); //loop and assign a unique class for each

$(".lecteur").each(function(){
    var wrapPlayer = $(".wrap-player"); 
    var classLecteur = $(this).attr('class').split(' ')[1]; //get the class number of current lecteur
    var newPlayerId = "jquery_jplayer_" + classLecteur; // create id jquery_player
    var songPath = $(this).find(".wrap-player").attr("rel"); // get url of current sound 

    $("#" +  newPlayerId).jPlayer({
            ready: function () {
                    $(this).jPlayer("setMedia", {
                            m4a: "http://url/" + songPath + ".m4a",
                            oga: "http://url/" + songPath  + ".ogg",
                    });
            },
            play: function() { // To avoid both jPlayers playing together.
    $(this).jPlayer("pauseOthers");
},

    swfPath: "http://url/contest/js/Jplayer.swf",
    solution: "html, flash",
    supplied: "m4a, oga",
    cssSelectorAncestor: "#jp_container_" + classLecteur,
    wmode: "window"

}); 

}); 

}); 
```

# c# - WPF & 表达工作室

> ID：11591062
> 
> 赞同：0
> 
> 时间：2012-07-21T09:35:48.507
> 
> 标签：c#, wpf, dll, expression-blend

我创建了一个 WPF 应用程序，之后我使用表达式混合添加了一些效果。

现在，当我尝试运行应用程序时，它不会在没有“Microsoft.Expression.Effects.dll”的情况下运行

我真的很想将应用程序保存在一个 EXE 文件中。有什么办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:29:11.283

[您可以使用Costura](https://github.com/SimonCropp/Costura)将 DLL 嵌入到 EXE 中。它还提供了一个 VS 插件，它允许您自动执行嵌入 DLL 的进度。

# google-maps-markers - 带复选框的开/关自定义标记

> ID：11591066
> 
> 赞同：0
> 
> 时间：2012-07-21T09:36:32.913
> 
> 标签：google-maps-markers, checkbox, google-fusion-tables

我修改了编码（见下文）来定制我自己的标记。但是复选框不再起作用。谁能帮我找出问题所在？我已经尝试过多次重新编码，但我仍然无法使复选框工作..

```
<body>
<div id="map-canvas"></div>
                <img src='https://lh6.googleusercontent.com/-rk8_2yBXUUg/T-FbxjCq4WI/AAAAAAAAAGo/UIMF525RtLY/s37/ramp.png'/><input type="checkbox" value="4596492" id="markers_ramp" onclick="changeLayer(this.value);"/> Ramps<br/>
                <img src='https://lh6.googleusercontent.com/-iiPL-RHuq-I/T-FeawdppiI/AAAAAAAAAHY/G--PHmgTbQs/s37/stair.png'/><input type="checkbox" value="4597805" id="markers_stairway" onclick="changeLayer(this.value);"/> Stairways<br/> 
```

```
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>    
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type="text/javascript">

    google.load('visualization', '1');

    function initialize() 
    {
        var infoWindow = new google.maps.InfoWindow();
        var map = new google.maps.Map(document.getElementById('map-canvas'), {
            center: new google.maps.LatLng(1.36940, 103.84856),
            zoom: 14,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        });

        // RAMP markers query 
        var ramp_query = "SELECT 'Type', Coordinates, Waypoints FROM 4597805";
        ramp_query = encodeURIComponent(ramp_query);

        var gvizQuery_ramp = new google.visualization.Query(
            'http://www.google.com/fusiontables/gvizdata?tq=' + ramp_query);

        var create_rampMarker = function(ramp_coordinate, type) 
        {
            var marker = new google.maps.Marker({
                map: map,
                position: ramp_coordinate,
                icon: new google.maps.MarkerImage('https://lh6.googleusercontent.com/-rk8_2yBXUUg/T-FbxjCq4WI/AAAAAAAAAGo/UIMF525RtLY/s37/ramp.png')
            });
            google.maps.event.addListener(marker, 'click', function(event) {
            infoWindow.setPosition(ramp_coordinate);
            infoWindow.setContent('<b>Type: </b>'+ type);
            infoWindow.open(map);
            });
        };        

        gvizQuery_ramp.send(function(response) 
        {
            var numRows = response.getDataTable().getNumberOfRows();

            // For each row in the table, create a marker
            for (var i = 0; i < numRows; i++) {
                var stringCoordinates = response.getDataTable().getValue(i, 1);
                var splitCoordinates = stringCoordinates.split(',');
                var lat = splitCoordinates[0];
                var lng = splitCoordinates[1];
                var ramp_coordinate = new google.maps.LatLng(lat, lng);
                var type = response.getDataTable().getValue(i, 0);

                create_rampMarker(ramp_coordinate, type);
            }
        });

        // STAIRWAY markers query 
        var stairway_query = "SELECT 'Type', Coordinates FROM 4596492";
        stairway_query = encodeURIComponent(stairway_query);

        var gvizQuery_stairway = new google.visualization.Query(
            'http://www.google.com/fusiontables/gvizdata?tq=' + stairway_query);

        var create_stairwayMarker = function(stairway_coordinate, type) 
        {
            var marker = new google.maps.Marker({
                map: map,
                position: stairway_coordinate,
                icon: new google.maps.MarkerImage('https://lh6.googleusercontent.com/-iiPL-RHuq-I/T-FeawdppiI/AAAAAAAAAHY/G--PHmgTbQs/s37/stair.png')
            });
            google.maps.event.addListener(marker, 'click', function(event) {
                infoWindow.setPosition(stairway_coordinate);
                infoWindow.setContent('<b>Type: </b>'+ type);
                infoWindow.open(map);
            });
        };        

        gvizQuery_stairway.send(function(response) 
        {
            var numRows = response.getDataTable().getNumberOfRows();

            // For each row in the table, create a marker
            for (var i = 0; i < numRows; i++) {
                var stringCoordinates = response.getDataTable().getValue(i, 1);
                var splitCoordinates = stringCoordinates.split(',');
                var lat = splitCoordinates[0];
                var lng = splitCoordinates[1];
                var stairway_coordinate = new google.maps.LatLng(lat, lng);
                var type = response.getDataTable().getValue(i, 0);

                create_stairwayMarker(stairway_coordinate, type);
            }
        });

    }   // function initialize

    google.maps.event.addDomListener(window, 'load', initialize);

    function changeLayer(tableidselections) 
    {
        if (tableidselections == 4596492) {
            if (document.getElementById("markers_ramp").checked == true) {
                stairway_query.setMap(map);
            }
            if (document.getElementById("markers_ramp").checked == false) {
                stairway_query.setMap(null); /*layersetoff*/
            }
        }

        if (tableidselections == 4597805) {
            if (document.getElementById("markers_stairway").checked == true) {
                stairway_query.setMap(map);
            }
            if (document.getElementById("markers_stairway").checked == false) {
                stairway_query.setMap(null); /*layersetoff*/
            }
        }

    }   // function changelayer

</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T09:02:13.050

解决问题的一种方法是使用查询创建标记数组，然后使用 setMap 隐藏和显示它们

[工作示例](http://www.geocodezip.com/v3_FusionTables_GViz_Query_markers_checkboxesB.html)

# python - wxPython：ProgressDialog 崩溃

> ID：11591067
> 
> 赞同：2
> 
> 时间：2012-07-21T09:36:52.393
> 
> 标签：python, wxpython

我有这个建立连接的程序。当它尝试连接时，它会创建一个 ProgressDialog。当连接失败时，它应该干净地关闭 ProgressDialog，但它没有，它会出现段错误。

这是相关代码的简化示例。您可以通过运行此脚本并多次按 Enter 键来复制此行为，这将单击应用程序中的唯一按钮并触发代码尝试连接。

到目前为止，我只能弄清楚应用程序只有在第 53 行：'print('after_pulse')' 没有运行时才会崩溃，这表明'Pulse' 调用有问题，但我想不通出什么。

有谁知道是什么导致这段代码崩溃？

如果没有，您至少可以复制这种行为吗？

眼镜：

Ubuntu 12.04

Python 2.7.3

wxPython 2.8.12.1

编辑：没有扭曲代码的小得多的示例程序。

```
#!/usr/bin/env python

'''test2'''

import wx   # Must be imported before any other wx modules

class TestFrame(wx.Frame):
    def __init__(self):
        wx.Frame.__init__(self, None, title='TestFrame')
        self.button = wx.Button(self, label='test')
        self.button.Bind(wx.EVT_BUTTON, self.button_handler)
        self.button.SetFocus()

    def button_handler(self, event):
        pd_style = wx.PD_APP_MODAL|wx.PD_CAN_ABORT|wx.PD_SMOOTH
        self.pd = wx.ProgressDialog('test_title', 'test_msg', parent=self,  
                                    style=pd_style)
        self.pd.SetFocus()

        self.timer = wx.Timer(self)
        self.Bind(wx.EVT_TIMER, self.on_timer, self.timer)
        self.timer.Start(1000/60, False)

        wx.CallAfter(self.err_connection)

    def on_timer(self, event):
        print('before_pulse')
        cont, _skip = self.pd.Pulse()
        print('after_pulse')
        if not cont:
            self.err_connection()

    def err_connection(self):
        print('err_connection')
        self.timer.Stop()
        self.pd.Destroy()
        self.button.SetFocus()

def main():
    app = wx.App()
    frame = TestFrame()
    frame.Show()
    app.MainLoop()

if __name__ == '__main__':
    main() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T18:52:26.177

我怀疑您正在破坏进度对话框，而它仍在执行最后一个 Pulse() 的过程中。有时，某些平台会将特定 API 的部分处理推迟到稍后，在第一部分完成或其他任何事情之后。如果你延迟调用 Destroy，你可能会得到更好的结果。尝试：

```
wx.CallAfter(self.pd.Destroy) 
```

此外，对于更新 UI 元素之类的事情，每秒 60 次非常快。这比肉眼能看到的要快得多，并且可能导致某些事件堆积起来，并且以意外的顺序调用处理程序，例如获取计时器事件并在对话框被销毁后尝试执行 Pulse()。改为每秒尝试 10 或 20 次。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-05-25T07:12:46.913

我发现 ShowModal() 是必需的，例如

```
dlg = wx.ProgressDialog(title, msg, maximum=100)
dlg.ShowModal()
dlg.Update(0, "Please Wait...")
...
dlg.Destroy() 
```

如果没有 ShowModal()，应用程序将在下次尝试显示另一个进度对话框时崩溃。

# javascript - 在线 YUI 编译器：如何解释错误？

> ID：11591070
> 
> 赞同：0
> 
> 时间：2012-07-21T09:37:24.987
> 
> 标签：javascript, yui

[为了缩小脚本，我使用了这里](http://refresh-sf.com/yui/)提供的在线 YUI 压缩器。不幸的是，压缩器有时会抛出我无法理解的错误，特别是因为脚本在运行时不会崩溃。

例如：

```
[ERROR] 27:39:missing formal parameter    
[ERROR] 27:39:missing } after function body    
[ERROR] 31:13:identifier is a reserved word    
[ERROR] 32:8:syntax error 
```

顺便说一句，我只是想缩小的脚本是在[http://picselbocs.com/plugins/digitize/digitize.js](http://picselbocs.com/plugins/digitize/digitize.js)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T09:44:53.137

我刚刚发现在上述脚本的情况下，我在整个脚本中广泛使用了“char”保留字，这导致缩小中断。无论如何，为了更好地理解压缩 javascript 代码中的错误，您应该使用[http://closure-compiler.appspot.com/home](http://closure-compiler.appspot.com/home)，它提供了更详细的解释。

# c++ - 哪个参数应该首先是 `old` 或 `new`？

> ID：11591073
> 
> 赞同：0
> 
> 时间：2012-07-21T09:37:54.540
> 
> 标签：c++, naming-conventions

我创建了函数`replaceElement`。我不确定`old`参数应该是第一个还是第二个。在这种情况下，参数顺序的常用方法是什么？

```
void replaceElement(Element *old, Element *n); 
```

或者

```
void replaceElement(Element *n, Element *old); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T09:43:17.653

我会选`void replaceElement(Element *old, Element *n);`

这对我来说听起来更好，而且您可能希望稍后再设置一个默认参数。在您的情况下，默认值为`new`.

也是这样`std::replace`形成的：

```
template< class ForwardIterator, class T >
void replace( ForwardIterator first, ForwardIterator last,
              const T& old_value, const T& new_value ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T09:42:15.413

在 C++ 中，它通常是第一个目的地，然后是源
，所以我说目的地 = 旧和源 = 新

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T09:46:17.660

先旧，后新。你命名函数`replaceElement`。所以你读到：

```
void replaceElement(Element* old, Element* n); 
```

作为：

> 将元素替换`old`为`n`

# go - 你如何让 gccgo 编译 pig.go？

> ID：11591080
> 
> 赞同：2
> 
> 时间：2012-07-21T09:39:56.980
> 
> 标签：go

golang.org 网站上有一个文件 pig.go：

```
 http://golang.org/doc/codewalk/functions/ 
    in a box labeled doc/codewalk/pig.go 
```

使用 gccgo 版本 (Ubuntu/Linaro 4.6.1-9ubuntu3) 4.6.1 编译

```
 gccgo pig.go 
```

给出关于找不到 math/rand 的错误消息

```
 pig.go:9:11: error: import file ‘math/rand’ not found 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-21T10:00:29.547

您的 gccgo 版本实现了该语言的旧版本。要编译 Go 1 代码，您需要 gccgo 4.7.1 或更高版本。

如果您不能或不想升级，您可能只需将导入从更改`math/rand`为`rand`，它将与 gccgo 4.6.1 一起编译。并非所有程序都那么容易向后移植，但这个恰好是。

# php - 如何使用 LIKE 运算符修复 SQL 错误？

> ID：11591082
> 
> 赞同：0
> 
> 时间：2012-07-21T09:40:12.723
> 
> 标签：php, sql, where, sql-like

我正在尝试构建一个小型搜索引擎，可以浏览我网站上的文章。到目前为止，我已经编写了 PHP 代码，我的服务器对此没有任何问题。服务器确实有问题的是我的 SQL 代码，据我所知，它是正确的，但它说它“不是正确的语法”。

我正在尝试将 PHP 变量添加到语句中，以使其搜索该变量的内容，因为内容中包含表单输入。变量（如您所见）称为 $search_input 我的代码在这里：

```
$sql_code = "SELECT * FROM 'articles' WHERE 'tags' LIKE ‘%{$search_input}%’"; 
```

我确定我的语法有问题，但我看不到在哪里。我回顾了 W3schools 的 WHERE 子句和 LIKE 运算符指南 - 找不到任何东西。我将不胜感激任何帮助 - 谢谢。

*   感谢所有帮助人员 - 我尝试了 Des 的第一篇文章，它适用于不同的文章。但是如果我想写：在 PHP 中找到了以下结果。然后在数据库中的每个搜索结果之后重复它。

它在浏览器中显示：

发现以下结果：

HelloWorldPrimaryTest 看看这个文档有以下标签：hello world primary

发现以下结果：

主页 看看 这个文档有以下标签： 主页

我不希望它重复“找到以下结果：”有人可以帮忙吗？非常感谢您迄今为止的所有帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T09:41:42.863

引用错误，试试这个：

```
$sql_code = "SELECT * FROM articles WHERE tags LIKE '%{$search_input}%'"; 
```

最好使用[准备好的语句](http://php.net/manual/en/pdo.prepared-statements.php)（PDO）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T09:42:38.097

试一试

```
$sql_code = "SELECT * FROM 'articles' WHERE 'tags' LIKE '%".$search_input."%'"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-22T14:42:43.273

$sql_code = "SELECT * FROM `articles`WHERE `tags`LIKE '%$search_input%'";

您不应该为表名或行名使用引号，您可以将其留空或使用记号 ( `table_name`)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T09:42:57.907

删除大括号并尝试

```
$sql_code = "SELECT * FROM 'articles' WHERE 'tags' LIKE '%$search_input%'"; 
```

# python - 编写一个简单的 Mac App 来启动一个 python 文档

> ID：11591087
> 
> 赞同：0
> 
> 时间：2012-07-21T09:41:02.737
> 
> 标签：python, macos, terminal

我正在用 python 编写一个将在终端中运行的 Mac 程序，并有一个 start.command 文件来启动它：

#!/bin/bash cd "$(dirname "$0")" exec python "$(dirname "$0")/xavier_root/xavier_I-nil-nil.py"

不过我想知道，是否有办法创建一个 .app 来启动这个程序，这样我就可以把它放在我的码头上。有什么方法可以做一个简单的应用程序来启动我的 start.command 文件，或者执行我的 start.command 文件正在执行的操作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T20:42:39.177

Automator 非常适合这一点。

您的单行命令，作为一种自动化服务，可以通过按键运行。

您还可以创建一个终端配置文件，该配置文件在启动配置文件时运行该命令。

您还可以使用 applescript 编辑器并制作一个（相对简单的）applescript 来执行“do script”命令，以运行您的命令。这将为您提供一个 .app。（一个可点击的启动器）

# openssl - Openssl PKCS#5/PKCS#7 填充

> ID：11591089
> 
> 赞同：2
> 
> 时间：2012-07-21T09:41:20.950
> 
> 标签：openssl, padding, pkcs#7, pkcs#5

我想知道 openssl 在使用 AES-128-CBC 时如何处理可被 8 个字节整除的消息。openssl 如何检测到没有要删除的填充（PKCS#5/PKCS#7）？尤其是当消息以 ASCII 码小于或等于 8 的字符结尾时。

我希望我的问题很清楚。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-30T16:32:15.997

答案是总是添加填充，即使数据可以除以块大小。因此，一个 8 字节的字符串将被填充 8 个字节（ASCII 码为 8）。

# solr - 如何在 SolrNet 3.6 中检索动态字段？

> ID：11591101
> 
> 赞同：2
> 
> 时间：2012-07-21T09:43:10.013
> 
> 标签：solr, solrnet

我们正在使用 SolrNet 3.6 开发 ASP.NET MVC3 C#。我们使用了动态字段。Solr 索引已使用适当的数据成功创建，并且它在 Solr Admin 以及我们的应用程序中完美运行，也没有动态字段。
我们已经使用 QueryOption 检索了所有静态字段，如 Id、Name 等。

但是我们不知道如何检索动态字段？

那么请建议我们如何检索它？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-22T02:19:45.283

使用 SolrNet 访问动态字段非常简单。下面是映射一组动态字符串字段的示例：

以下字段在 schema.xml 中定义

```
 <field name="dynamicFields_*" fieldType="string" stored="true" indexed="true" /> 
```

然后让我们假设您已经索引了具有以下字段的文档：

```
dynamicFields_item1
dynamicFields_item2 
```

然后，您将以下属性添加到您的 C# 类：

```
 public class IndexItem
 {
    ...

    [SolrField("dynamicFields_")]
    Dictionary<string, string> DynamicFields { get; set;}

    ....
 } 
```

然后，一旦您查询了 Solr 并拥有一个 IndexItem 类，您就可以像这样访问动态数据字段：

```
//already have gotten the indexItem before here

 var item1Value = indexItem.DynamicFields["item1"];
 var item2Value = indexItem.DynamicFields["item2"]; 
```

希望这将帮助您使动态字段在您的代码中工作......

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-22T02:19:25.097

您可以使用[Luke Handler](http://wiki.apache.org/solr/LukeRequestHandler)检索所有索引字段（以及更多） - 静态和动态。例如。 `http://localhost:8983/solr/admin/luke`.

# php - preg_replace 删除文本和标签

> ID：11591105
> 
> 赞同：0
> 
> 时间：2012-07-21T09:43:59.297
> 
> 标签：php, regex

```
preg_replace('|[[\/\!]*?[^\[\]]*?]|si', '', $text); 
```

这会从文本中删除所有 bb 标签。我也希望删除这些人的签名。这必须在标签替换之前完成，我想用一个正则表达式来完成。

这应该完全删除：

```
[b][color=red]This is my signature[/color][/b] 
```

一直在玩它一段时间，无处可去。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T09:49:59.387

只需将您要查找的内容写为模式：

```
$pattern = '(\[b]\[color=red](?:\w|\s)*\[/color]\[/b])'; 
```

转义那些具有特殊含义的字符（例如左方括号`[`）。

那应该这样做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T09:47:51.600

例如这样的事情应该工作：

```
/((\s?\w)+|[[\/\!]*?[^\[\]]*?])/ 
```

# c# - 在 T4 模板中使用 Unicode

> ID：11591109
> 
> 赞同：0
> 
> 时间：2012-07-21T09:44:18.447
> 
> 标签：c#, visual-studio-2010, templates, unicode, t4

我在 T4 模板中有一些波斯字符，但它们都显示为`?`. 我使用模板 - 生成器，这是我使用生成器的脚本：

```
<#@ template language="C#v4" hostspecific="True" debug="True" #>
<#@ assembly name="System.Core" #>
<#@ output extension=".cs" encoding="UTF8" #>
<#@ include file="T4Toolbox.tt" #>
<#@ include file="AllGenerator.tt" #>
<#
    AllGenerator generator = new AllGenerator();
    generator.DatabaseName = "MyDatabase";
    generator.Run();
#> 
```

根据[这个问题](https://stackoverflow.com/questions/9008611/is-it-possible-to-use-latin-character-in-comments-of-t4-template)，我必须用 Unicode 保存，但我做不到。当我选择`Save as`时，`Save Type as`选项只是`T4 Editor (*.tbx)`，没有选项可以使用 Unicode 保存。像这样：

![在此处输入图像描述](../Images/4ea2925304e816acdf5eb518477d8767.png)

那么如何在 T4 中使用波斯字符呢？我这边有问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T10:05:33.117

这看起来像是您正在使用的 T4 编辑器插件中的一个错误。您可以尝试暂时卸载它。

# c# - 如何检测音频设备何时插入和拔出？

> ID：11591110
> 
> 赞同：0
> 
> 时间：2012-07-21T09:44:24.087
> 
> 标签：c#, audio, plug-and-play

如何使用 C# 检测音频设备何时插入和拔出？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:27:29.490

您最好的方法可能是 WMI。您可以订阅反映大多数 WMI 类实例的创建/销毁的 WMI 事件。[`Win32_SoundDevice`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa394463%28v=vs.85%29.aspx)每个音频设备都有一个 的实例。

如果您想要特定设备状态的详细信息（在扬声器上、静音等），那么 WMI 似乎不包括这一点。

您可能需要使用 COM 互操作来访问[MMDevice API](http://msdn.microsoft.com/en-us/library/dd316556%28VS.85%29.aspx)，其中包括枚举“[端点](http://msdn.microsoft.com/en-us/library/dd370793%28VS.85%29.aspx)”设备的能力。这将是一项艰巨的工作，因为似乎没有可以导入的类型库，而是需要编写一些 C/C++ 来提供代理或在 .NET 中手动重新创建必要的 COM 接口等。

# zend-framework - Zend Framework - 控制对控制器的访问

> ID：11591117
> 
> 赞同：1
> 
> 时间：2012-07-21T09:45:58.223
> 
> 标签：zend-framework

我有一个具有 3 个不同用户角色的网站：访客（未注册）、会员和管理员。

我想限制对控制器的访问，如下所示。

> AuthController -> 访客、成员、管理员
> 
> AdminController -> 管理员
> 
> 成员控制器 -> 成员

有没有不使用 Zend_Acl 的简单方法？我真的不明白如何实际使用 Zend_Acl。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:29:43.920

我发现[本教程](http://www.ens.ro/2012/03/20/zend-authentication-and-authorization-tutorial-with-zend_auth-and-zend_acl/)对于实现简单的 Auth & ACL 方案非常有用。

它涉及创建前端控制器插件和自定义 Zend_ACL 类。

编辑：回答您评论中的问题

您可以在没有操作部分的情况下定义资源

```
 // Add some resources in the form controller
    $this->add(new Zend_Acl_Resource('error'));
    $this->add(new Zend_Acl_Resource('auth'));

    // Allow guests to see the error, login and index pages
    $this->allow('guest', 'error');
    $this->allow('guest', 'auth'); 
```

并且不要检查前面插件中的操作

```
if(!$acl->isAllowed($user->role, $request->getControllerName())) { 
```

我没有测试它，但它应该可以工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:18:09.387

曾经有过一个官方前端控制器插件的[提议](http://framework.zend.com/wiki/pages/viewpage.action?pageId=39025)，但遗憾的是没有太多结果。不过代码仍然可用，[Zend DevZone 博客上有一个教程。](http://devzone.zend.com/1258/zend_acl-and-mvc-integration-part-i-basic-use/)

查看 ZF 2.0 即将发生的更改可能是值得的，他们根据对提案的一些回复更改了 Access 部分。

# php - 像blobby volley这样的游戏服务器

> ID：11591118
> 
> 赞同：0
> 
> 时间：2012-07-21T09:46:05.840
> 
> 标签：php, javascript, html, websocket

我制作了一个在线 HTML5 游戏，比如 blobby volley（两个果冻正在打排球）。我在 php 上有一个 websocket 服务器。游戏以 50 fps 运行。这是它如何工作的示例：我按下右箭头按钮，我的客户端设置`moveForward`标志`true`并将消息发送到服务器。服务器将消息传输到另一个客户端，这个客户端处理它。当客户端处理`keyup`它时，它会做同样的事情，但将`moveForward`flag 设置为`false`. 问题是服务器将消息传输到客户端需要一些时间，因此当 keyup 事件触发时，果冻立即在一个客户端上停止，但仍在另一个客户端上移动，并在一秒钟内停止。有什么办法让它更同步？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:25:13.937

您可能想尝试在游戏中省略服务器并使其成为浏览器之间的点对点通信。

我对此没有个人经验，所以我能给你的最好的就是[这个问题](https://stackoverflow.com/questions/6993042/is-webrtc-implemented-in-any-browsers-yet)的链接。似乎大多数浏览器最近都添加了对 WebRTC 的支持。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-21T14:19:53.193

而不是传输动作，你可以只传输位置，会更准确，但我猜仍然会有一点延迟。

# python - pygtk 居中对话框按钮

> ID：11591119
> 
> 赞同：2
> 
> 时间：2012-07-21T09:46:08.653
> 
> 标签：python, dialog, pygtk

我正在使用 pygtk 对话框，我添加了一个按钮，现在我想控制按钮的位置。例如居中。

这是我的代码：

```
import pygtk
pygtk.require('2.0')
import gtk

dlg = gtk.Dialog('Marker Label')
dlg.set_size_request(350, 300)
dlg.show()

entry = gtk.Entry()
entry.show()
entry.set_activates_default(gtk.TRUE)
dlg.vbox.pack_start(entry)

# Create a centering alignment object
align = gtk.Alignment(0.5, 0.5, 0, 0)

button = dlg.add_button(gtk.STOCK_OK, gtk.RESPONSE_OK)

align.add(button)
dlg.vbox.pack_start(align, False, False, 5)
dlg.set_default_response(gtk.RESPONSE_OK)
response = dlg.run()

if response == gtk.RESPONSE_OK:
    label = entry.get_text()
    print label
dlg.destroy() 
```

我收到这条消息：

> test.py:19: GtkWarning: 试图将 GtkButton 类型的小部件添加到 GtkAli gnment 类型的容器中，但该小部件已经在 GtkHButtonBox 类型的容器中，GTK+ FAQ 位于[http://library.gnome.org/ devel/gtk-faq/stable/](http://library.gnome.org/devel/gtk-faq/stable/)解释了如何重新设置小部件。align.add（按钮）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:33:44.343

正如它所说，问题在于 dlg.add_button() 返回的按钮已经有一个父级 - 这是对话框底部的水平按钮框。

您可以按照常见问题解答 - 在尝试将其添加到您的 vbox 之前从 HButtonBox 中删除该按钮。（提示：无论哪种方式，我真的认为您想在将对话框设置为可见之前完成所有这些操作）。看起来 hbox 被称为“action_area”。也许 dlg.action_area.remove(button)

或者您可以自己创建按钮。不要使用 dlg.add_button()，而是使用 gtk.button_new_from_stock(gtk.STOCK_OK)。

[但我不是 Gtk 程序员，我不知道这两种情况下的事件处理是如何工作的。即我不知道当您按下按钮时，这些中的任何一个是否仍会关闭对话框，或者您是否必须添加更多内容才能做到这一点。Gtk 文档确实给了我这样的印象...]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-08T00:07:33.633

你走在正确的轨道上；只需在 gtk.Alignment 中移动按钮框 (action_area)。

像往常一样构建你的对话框，然后添加：

```
align_action_area = gtk.Alignment(xalign=0.5, yalign=0.0, xscale=0.0, yscale=0.0)
dialog.vbox.pack_end(child=align_action_area)
dialog.action_area.reparent(new_parent=align_action_area)
dialog.set_default_response(gtk.RESPONSE_OK)
dialog.show_all() 
```

注意： set_default_response() 必须在 reparent() 之后调用，否则默认激活功能将不起作用。

在您的代码中，替换：

```
align.add(button)
dlg.vbox.pack_start(align, False, False, 5) 
```

和：

```
dlg.vbox.pack_end(child=align, expand=False, fill=False, padding=5)
dlg.action_area.reparent(new_parent=align)
dlg.show_all() 
```

# python - 为什么字典编码会打乱我的查询集的顺序

> ID：11591120
> 
> 赞同：0
> 
> 时间：2012-07-21T09:46:10.437
> 
> 标签：python, django, dictionary

我有这个“观点”（django）：

```
def preview(request,war_id):
    set = stats.objects.filter(warval=get_object_or_404(war,pk=war_id)).order_by('date')
    for each in set:
        print(each.date)
    f={}
    for each in set:
        date = each.date.strftime('%d %b %Y')
        f[date] = each.views
    print(f)
    return render_to_response('statistics/preview.html',RequestContext(request,{"data":dumps(f)})) 
```

它在命令提示符下显示的输出如下：

```
2012-07-01
2012-07-11
2012-07-14
2012-07-19
2012-07-21

{'01 Jul 2012': 34, '11 Jul 2012': 1, '14 Jul 2012': 20, '21 Jul 2012': 6, '19 Jul 2012': 23} 
```

正如您从上面的输出中看到的那样，字典编码“2012 年 7 月 19 日”在“2012 年 7 月 21 日”之后。为什么会这样？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T09:47:07.920

字典是无序的。如果您关心其内容的顺序，请不要使用它们。[collections.OrderedDict](http://docs.python.org/library/collections.html#collections.OrderedDict)类提供了一个有序的等价物，但请注意，这是基于插入顺序，而不是键的排序顺序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T11:32:03.393

@BrenBarn 关于 OrderedDict 的建议通常很好，但在这种情况下可能不正确。这取决于您在模板中执行的操作。看起来`dumps`这里是`json.dumps`，在这种情况下，您可能会将 JSON 字符串写入 HTML。在这种情况下，OrderedDict 可能没有帮助，因为 JSON 将被排序，但随后您将在 Javascript 中使用 JSON，这可能会再次以任意顺序生成值。

如果您关心顺序，则应该生成列表列表而不是字典，以便在每个阶段将其视为有序序列：

```
f = []
for each in set:
    date = each.date.strftime('%d %b %Y')
    f.append([date, each.views])
print(f) 
```

# joomla - 制作一个自定义开发的组件 Fiendly 搜索引擎

> ID：11591123
> 
> 赞同：0
> 
> 时间：2012-07-21T09:46:20.837
> 
> 标签：joomla, joomla-extensions, joomla2.5, joomla-sef-urls, joomla-component

在开始在 JOOMLA 中编码之前，我正在等待获得有关如何为我的自定义组件制作 SEF（搜索引擎友好）URL 的足够知识

我知道如何从这里[http://docs.joomla.org/Supporting_SEF_URLs_in_your_component](http://docs.joomla.org/Supporting_SEF_URLs_in_your_component)

但没有一个清晰的想法

如果我的组件类似于“com_exams”和网址 [http://www.example.com/index.php?option=com_exams](http://www.example.com/index.php?option=com_exams)

如果我有一个页面，我想通过这个“JRoute”进行路由 - 如下 [http://www.example.com/index.php?option=com_exams&examid=psc&status=1](http://www.example.com/index.php?option=com_exams&examid=psc&status=1) 到 [http://www.example.com/考试/psc/1](http://www.example.com/exams/psc/1)

我应该怎么做，我应该把代码放在哪里来完成这个

请告诉我，提前谢谢

-拉胡尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-29T06:32:49.503

处理 URL 的代码位于组件的 router.php 中。您链接的页面包含您需要的一切，特别是在这里 - [http://docs.joomla.org/Supporting_SEF_URLs_in_your_component#The_Component_Router](http://docs.joomla.org/Supporting_SEF_URLs_in_your_component#The_Component_Router)

# mysql - JDBCExceptionReporter [错误] 字段 'id' 没有默认值

> ID：11591125
> 
> 赞同：2
> 
> 时间：2012-07-21T09:46:35.473
> 
> 标签：mysql, hibernate, persistence, entity

在尝试了不同的建议解决方案后，我还没有设法弄清楚这一点。

我正在使用 hibernate 3.6 和 mysql 5.x 并尝试保留我的实体（我排除了 getter 和 setter）：

```
@Entity
@Table(name = "brand_managers")
public class BrandManager implements Serializable {

    /** Serial version unique id */
    private static final long serialVersionUID = -7992146584570782015L;

    /*--- Members ---*/

    /** The unique, internal ID of the entity. */
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "id")
    private long id;

    /**
     * The creation time of this user
     */
    @Temporal(TemporalType.DATE)
    @Column(name = "creation_time")
    protected Calendar creationTime;

    /**
     * The hashed password
     */
    @Column(name = "password")
    protected String password;

    @Column(name = "first_name")
    protected String firstName;

    @Column(name = "last_name")
    protected String lastName;

    @Column(name = "email")
    protected String eMail;

    @Column(name = "address1")
    protected String address1;

    @Column(name = "address2", nullable = true)
    protected String address2;

    @Column(name = "city")
    protected String city;

    @Column(name = "state")
    protected String state;

    @Column(name = "zip", nullable = true)
    protected String zip;

    @Column(name = "country")
    protected String country;

    @Column(name = "phone")
    protected String phone;

    @Column(name = "brand_id")
    protected int brandId;

    /*--- Constructors ---*/

    /**
     * default
     */
    public BrandManager() {
    setCreationTime(Calendar.getInstance());
    }

    /**
     * @param password
     *            The hashed user password
     * @param firstName
     *            The first name
     * @param lastName
     *            The last name
     * @param eMail
     *            User eMail
     * @param address1
     *            User address
     * @param address2
     *            Another user address
     * @param city
     *            City of residence
     * @param state
     *            User state
     * @param country
     *            Country of of residence
     * @param phone
     *            User phone number
     * @param The
     *            id of the brand, managed by this brand manager
     */
    public BrandManager(String password, String firstName, String lastName, String eMail, String address1, String address2, String city,
        String state, String zip, String country, String phone, int brandId) {
    this();
    this.password = password;
    this.firstName = firstName;
    this.lastName = lastName;
    this.eMail = eMail;
    this.address1 = address1;
    this.address2 = address2;
    this.city = city;
    this.state = state;
    this.zip = zip;
    this.country = country;
    this.phone = phone;
    this.brandId = brandId;
    }

    /*--- Overridden Methods ---*/

    /**
     * Equality is based on the e-mail of this brand manager
     */
    @Override
    public boolean equals(Object obj) {

    if ((obj == null) || !(obj instanceof BrandManager)) {
        return false;
    }

    // reference comparison
    if (obj == this) {
        return true;
    }

    final BrandManager other = (BrandManager) obj;

    return new EqualsBuilder().append(geteMail(), other.geteMail()).isEquals();
    }

    /**
     * The unique hash code based on the e-mail of this brand manager
     */
    @Override
    public int hashCode() {
    return new HashCodeBuilder().append(this.geteMail()).toHashCode();
    }

    /**
     * Returning first name, last name and email.
     */
    @Override
    public String toString() {
    return ("First name: " + getFirstName() + ", Last name: " + getLastName() + ", E-Mail: " + geteMail());
    } 
```

我在我的数据库中创建了一个相应的表：

```
CREATE TABLE `brand_managers` (
  `id` bigint(20) NOT NULL,
  `creation_time` datetime NOT NULL,
  `password` varchar(45) NOT NULL,
  `first_name` varchar(45) NOT NULL,
  `last_name` varchar(45) NOT NULL,
  `email` varchar(45) NOT NULL,
  `address1` varchar(45) NOT NULL,
  `address2` varchar(45) DEFAULT NULL,
  `city` varchar(45) NOT NULL,
  `state` varchar(45) NOT NULL,
  `zip` varchar(45) DEFAULT NULL,
  `country` varchar(45) NOT NULL,
  `phone` varchar(45) NOT NULL,
  `brand_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`),
  UNIQUE KEY `email_UNIQUE` (`email`) 
```

当试图持久化这个实体的一个新实例时，我得到：

```
2012-07-21 12:24:03 JDBCExceptionReporter [WARN] SQL Error: 1364, SQLState: HY000
2012-07-21 12:24:03 JDBCExceptionReporter [ERROR] Field 'id' doesn't have a default value
2012-07-21 12:24:03 HibernateTask [ERROR] Hibernate exception caught in me.comocomo.server.dao.objectModel.club.register.BrandManager - could not insert: [me.comocomo.server.dao.objectModel.club.register.BrandManager]
2012-07-21 12:24:03 AssertionFailure [ERROR] an assertion failure occured (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session)
org.hibernate.AssertionFailure: null id in me.comocomo.server.dao.objectModel.club.register.BrandManager entry (don't flush the Session after an exception occurs)
    at org.hibernate.event.def.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:82)
    at org.hibernate.event.def.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:190)
    at org.hibernate.event.def.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:147)
    at org.hibernate.event.def.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:219)
    at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:99)
    at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)
    at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)
    at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:383)
    at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:133) 
```

现在，我已经设法通过使用自动增量来解决它，这意味着当我更改 id 列（即 PK）时，如下所示：

```
ALTER TABLE `MYDB`.`brand_managers` CHANGE COLUMN `id` `id` BIGINT(20) NOT NULL AUTO_INCREMENT  ; 
```

它工作得很好！

我不介意以这种方式实际工作（使用自动递增的 id），但我根本不明白为什么这是唯一真正有效的星座。为什么我不能使用“IDENTITY”生成器生成长类型唯一 ID？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-21T10:01:06.003

这就是 IDENTITY 生成器：一个依赖于自动增量字段来生成唯一 ID 的生成器，并在保存记录后向数据库询问生成的 ID。

如果您希望在内存中生成 ID，您可以使用 UUID 生成器。

大多数生成器要求数据库生成 ID，因为它是架构中唯一可靠和共享的组件。如果你有几个应用程序，每个应用程序都将记录保存在同一个表中，并且每个应用程序都使用自己的生成器，那么显然会导致冲突。询问数据库解决了这个问题：每个应用程序都同意使用自增字段、序列或表，一切都很好。

# r - 如何将数字转换为R中的日期？

> ID：11591129
> 
> 赞同：1
> 
> 时间：2012-07-21T09:47:21.027
> 
> 标签：r

我有以下数据框：

```
id<-c(1,2,3,4)
date<-c(19970807,19970902,19971010,19970715)
df<-data.frame(id,date) 
```

其中日期列中值的类型为“num”。现在我需要将日期列中的值转换为“日期”类型为“yyyy-mm-dd”。我在加载 'zoo' 库后尝试了 as.date，但它导致了一些不可接受的结果。如果有人可以帮助我，将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T10:03:54.443

你可以这样做：

```
library(lubridate)
df <- data.frame(id, ymd(date)) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-21T10:57:59.560

为了完整起见，还有第三种可能性`strptime`：

```
strptime(date,format="%Y%m%d")
[1] "1997-08-07" "1997-09-02" "1997-10-10" "1997-07-15" 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-21T10:03:33.443

可能你错过了`as.character()`。在基础 R 中：

```
as.Date(as.character(date), format = "%Y%m%d")
[1] "1997-08-07" "1997-09-02" "1997-10-10" "1997-07-15" 
```

# ruby-on-rails - mongoid where 与 has_many 关系

> ID：11591130
> 
> 赞同：2
> 
> 时间：2012-07-21T09:47:25.813
> 
> 标签：ruby-on-rails, ruby-on-rails-3, mongoid, mongoid3

我有 3 个模型

# 城市.rb

```
has_many :places 
```

# 地点.rb

```
has_many :reviews, as: :reviewable 
```

以及具有我希望能够检查的属性状态的评论。

# 评论.rb

```
 belongs_to :reviewable, polymorphic: true
  state_machine :initial => :draft do #etc. 
```

我希望能够调用 City.find("somecity").places

并且不显示所有地点，而是替换默认范围以仅查找具有“已发布”状态的评论的地点

在活动记录中，类似...

```
City.find("somecity").places.where('reviews.state' => 'published') 
```

有没有办法在 mongoid 中做到这一点，或者我的第二个选择是将一个新属性合并到每当发表评论时设置为活动的位置。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-28T18:02:28.747

如果您发现自己在连接方面遇到问题，您可能应该考虑对数据进行反规范化。基本上只是在两个地方复制数据，这在 SQL 世界中被认为不是很好，但使用 No-SQL 它可以处理通常执行连接的情况。提高速度，但使用更多空间。

为此，您在 mongoid 中有两个很棒的宝石：

[https://github.com/dzello/mongoid_alize](https://github.com/dzello/mongoid_alize)

请参阅博客文章以获取有关 demormalizing 的信息：http: [//blog.joshdzielak.com/blog/2012/05/03/releasing-mongoid-alize-comprehensive-field-denormalization-for-mongoid/](http://blog.joshdzielak.com/blog/2012/05/03/releasing-mongoid-alize-comprehensive-field-denormalization-for-mongoid/)

或[https://github.com/logandk/mongoid_denormalize](https://github.com/logandk/mongoid_denormalize)

虽然我更喜欢前者。

# android - alert.show() 在警报对话框中不起作用

> ID：11591131
> 
> 赞同：0
> 
> 时间：2012-07-21T09:47:25.737
> 
> 标签：android

我正在制作网格布局并希望将其放入警报对话框中，但是当我尝试使用 显示警报对话框`show()`时，应用程序显示异常。

这是代码：

```
public class GridViewActivity extends Activity {

    GridView gridView;
    Context context;

    static final String[] MOBILE_OS = new String[] { "timer", "about"};

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        gridView = (GridView) findViewById(R.id.gridView1);
        gridView.setAdapter(new ImageAdapter(this, MOBILE_OS));
        gridView.setOnItemClickListener(new OnItemClickListener() {
            public void onItemClick(AdapterView<?> parent, View v,
                    int position, long id) {
                //              Toast.makeText(
                //                      getApplicationContext(),
                //                      ((TextView) v.findViewById(R.id.grid_item_label))
                //                              .getText(), Toast.LENGTH_SHORT).show();
                if(position == 0){
                    Toast.makeText(GridViewActivity.this, "first icon is pressed", Toast.LENGTH_SHORT).show();
                }
                else if(position == 1){
                    Toast.makeText(GridViewActivity.this, "second icon is pressed", Toast.LENGTH_SHORT).show();
                }
            }});
        Dialog();
    }   
    private void Dialog(){
        AlertDialog alertDialog;
        Context mContext = getApplicationContext();
        AlertDialog.Builder builder = new AlertDialog.Builder(mContext);
        LayoutInflater inflater = (LayoutInflater) mContext.getSystemService(LAYOUT_INFLATER_SERVICE);
        View layout = inflater.inflate(R.layout.main,null);
        builder.setView(layout);
        alertDialog = builder.create();
        alertDialog.show();
      }

} 
```

这是一个例外：

```
07-21 14:59:51.832: E/AndroidRuntime(1683): FATAL EXCEPTION: main
07-21 14:59:51.832: E/AndroidRuntime(1683): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.velosys.main/com.velosys.main.GridViewActivity}: android.view.WindowManager$BadTokenException: Unable to add window -- token null is not for an application
07-21 14:59:51.832: E/AndroidRuntime(1683):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)
07-21 14:59:51.832: E/AndroidRuntime(1683):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
07-21 14:59:51.832: E/AndroidRuntime(1683):     at android.app.ActivityThread.access$1500(ActivityThread.java:117)
07-21 14:59:51.832: E/AndroidRuntime(1683):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
07-21 14:59:51.832: E/AndroidRuntime(1683):     at android.os.Handler.dispatchMessage(Handler.java:99)
07-21 14:59:51.832: E/AndroidRuntime(1683):     at android.os.Looper.loop(Looper.java:123)
07-21 14:59:51.832: E/AndroidRuntime(1683):     at android.app.ActivityThread.main(ActivityThread.java:3683)
07-21 14:59:51.832: E/AndroidRuntime(1683):     at java.lang.reflect.Method.invokeNative(Native Method)
07-21 14:59:51.832: E/AndroidRuntime(1683):     at java.lang.reflect.Method.invoke(Method.java:507)
07-21 14:59:51.832: E/AndroidRuntime(1683):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
07-21 14:59:51.832: E/AndroidRuntime(1683):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
07-21 14:59:51.832: E/AndroidRuntime(1683):     at dalvik.system.NativeStart.main(Native Method)
07-21 14:59:51.832: E/AndroidRuntime(1683): Caused by: android.view.WindowManager$BadTokenException: Unable to add window -- token null is not for an application
07-21 14:59:51.832: E/AndroidRuntime(1683):     at android.view.ViewRoot.setView(ViewRoot.java:531)
07-21 14:59:51.832: E/AndroidRuntime(1683):     at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:177)
07-21 14:59:51.832: E/AndroidRuntime(1683):     at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:91)
07-21 14:59:51.832: E/AndroidRuntime(1683):     at android.app.Dialog.show(Dialog.java:241)
07-21 14:59:51.832: E/AndroidRuntime(1683):     at com.velosys.main.GridViewActivity.Dialog(GridViewActivity.java:58)
07-21 14:59:51.832: E/AndroidRuntime(1683):     at com.velosys.main.GridViewActivity.onCreate(GridViewActivity.java:48)
07-21 14:59:51.832: E/AndroidRuntime(1683):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
07-21 14:59:51.832: E/AndroidRuntime(1683):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
07-21 14:59:51.832: E/AndroidRuntime(1683):     ... 11 more 
```

我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-21T09:49:18.983

使用当前活动上下文而不是应用程序上下文作为

```
Context mContext = GridViewActivity.this; 
```

代替

```
Context mContext = getApplicationContext(); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-21T09:52:55.293

**更改此行**

```
AlertDialog.Builder builder = new AlertDialog.Builder(mContext); 
```

**至**

```
AlertDialog.Builder builder = new AlertDialog.Builder(GridViewActivity.this); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-21T09:49:06.157

使用`context`Activity 而不是使用 Application 的上下文，`getApplicationContext()`所以使用`Activity_Name.this`.

# c - 我希望它崩溃，但它没有

> ID：11591132
> 
> 赞同：0
> 
> 时间：2012-07-21T09:47:27.150
> 
> 标签：c, arrays, string

说真的..我是 80 年代的老黑客，手头有一些空闲时间，我想我会'C'大惊小怪

（我的背景是 Forth，它从头到尾做事，所以我学到了很多关于强制错误的知识）

在这种情况下，我设置了一个小数组，我认为它的大小为 3 个元素（ 0,1,2 ）

如果我运行编译，我会认为我会遇到越界错误，但不，它编译正常并且运行良好

这个不急，但它对那个小秃头不好，所有的东西都在抓挠。

* * *

```
int main()
{
    char members[3][16];  // 3 elements, each 15 char long plus null

    printf("\n enter something..  ");
    scanf( "%s", members[4]);

    printf("\n and something else..  ");
    scanf( "%s", members[5]);

    printf(" %s  ", members[4]);
    printf(" %s\n", members[5]);

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-21T09:50:06.327

越界访问数组会调用**未定义的行为**。这意味着任何事情都可能发生，包括在没有任何明显错误的情况下运行。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-21T09:51:57.323

C 不做任何边界检查。（Forth 也没有，所以我不确定期望从何而来。）

数组溢出是*未定义的行为*：允许但不是必需的崩溃。在这种情况下，字节恰好与放置局部变量的堆栈帧位于同一虚拟内存页面中。如果帧接近页面的末尾，CPU 会识别出错误的地址并抱怨溢出。

如果您输出几千字节或几兆字节，您可能会看到您所期望的内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T09:51:30.440

通常，内存分配在 4 kB 页面中。因此，在最后一个变量之后有一些额外的空间，并且您的缓冲区溢出未被检测到。但是，如果在您的`members`数组之后还有另一个变量并且您写入`members[4]`，则另一个变量将被损坏。

valgrind 和 dmalloc 等工具通常用于检测缓冲区溢出。它们通过在变量周围分配特殊的保护区域并检查没有人在那里写入来工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T10:08:12.747

您错过了堆栈上的主返回地址，并且可能覆盖了主调用者的一些非关键数据，因此您的程序不会崩溃。此外，在某些平台（例如 powerpc）上，堆栈不用于函数调用，返回地址存储在特殊寄存器中（它在需要时被推入堆栈）。所以这个错误的程序不会崩溃是正常的。

更新：此外，在某些系统堆栈上长大（到更高的地址）。至少在 ARM 堆栈增长是可选择的。

# php - PHP 无法调用会话

> ID：11591135
> 
> 赞同：0
> 
> 时间：2012-07-21T09:47:57.150
> 
> 标签：php, session, login

最近我尝试为我的项目创建一个登录网页。所以有 index.html，这个人必须登录的登录页面。它将查询发送到 checklogin.php，它是这样的：

```
<?php
ob_start();
$host="localhost"; // Host name 
$username=""; // Mysql username 
$password=""; // Mysql password 
$db_name="test"; // Database name 
$tbl_name="members"; // Table name 

// Connect to server and select databse.
mysql_connect("wordshare.zxq.net", "754319_guest", "guest")or die("cannot connect"); 
mysql_select_db("wordshare_zxq_users")or die("cannot select DB");

// Define $myusername and $mypassword 
$myusername=$_POST['myusername']; 
$mypassword=$_POST['mypassword']; 

// To protect MySQL injection (more detail about MySQL injection)
$myusername = stripslashes($myusername);
$mypassword = stripslashes($mypassword);
$myusername = mysql_real_escape_string($myusername);
$mypassword = mysql_real_escape_string($mypassword);
$sql="SELECT * FROM members WHERE username='$myusername' and password='$mypassword'";
$result=mysql_query($sql);

// Mysql_num_row is counting table row
$count=mysql_num_rows($result);

// If result matched $myusername and $mypassword, table row must be 1 row
if($count==1){

// Register $myusername, $mypassword and redirect to file "login_success.php"
session_start();
session_register("myusername");
session_register("mypassword"); 
header("location:main.php");
}
else {
    header("location:index.html");
}
ob_end_flush();
?> 
```

然后主页面检查会话，如果您没有登录，它会将您重定向到 index.html，代码如下：

```
<?php
// Connects to your Database
mysql_connect("wordshare.zxq.net", "754319_guest", "guest")or die("cannot connect");
mysql_select_db("wordshare_zxq_users")or die("cannot select DB");
//checks cookies to make sure they are logged in
session_start();
session_start();
if(!session_is_registered(myusername)){
header("location:index.html");
}
?> 
```

问题是如果我直接转到 main.html，我不会被重定向回主页。我尝试使用 echo 来确定会话是否被记录，并且它返回未定义。真正让我感到困惑的是，即使我尝试打印出诸如单词之类的其他内容，它也会返回“未定义”。谁能帮我？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T10:30:03.797

您的代码有很多问题。无论你把它复制到哪里，这都是一个非常糟糕的例子。我有一些空闲时间，所以我强调一下我能看到的，最严重的首先：

*   **您将纯文本密码存储在数据库中。**这是非常严重的，因为万一有人入侵了你的数据库，用户名和密码信息很容易被找回。这是一个非常常见但非常糟糕的错误。而是散列您的密码，例如使用[phpass 库](http://www.openwall.com/phpass/)。该网站很好地解释了这是关于什么的。因此，如果您想学习，该站点不仅有代码，而且还提供了非常好的通用描述。

*   **代码期望`get_magic_quotes_gpc`启用。**相反，如果启用，它应该拒绝工作。假设启用了魔术引号是一个安全问题，因为它会阻止您编写安全代码

    *您的代码：*

    ```
    $mypassword=$_POST['mypassword'];

    // To protect MySQL injection (more detail about MySQL injection)
    $myusername = stripslashes($myusername); 
    ```

    *建议：*

    ```
    if (get_magic_quotes_gpc()) {
        throw new UnexpectedValueException('get_magic_quotes_gpc must be off.');
    }
    $mypassword = $_POST['mypassword']; 
    ```

    （无需再做`stripslashes`）

*   **您使用其他过时的语言功能。**这只是一个症状，无论您从哪里复制该代码，您都没有获取最先进的代码。你有几个问题：

    *   `mysql_*`职能。请改用 PDO。它使用起来更简单，功能也更强大。它通过提供所谓的准备好的语句（也称为参数化查询）来帮助您主动防止 SQL 注入。了解它，使用它。
    *   `session_register`和`session_is_registered`功能。这些用于在会话中注册全局变量。它们不安全且已弃用。而是使用`$_SESSION`超全局，就像您`$_POST`已经使用超全局一样。
*   **一长串代码。**您不使用子例程。尽管它们可能对您很有帮助。了解如何编写[自己的函数](http://www.php.net/manual/en/functions.user-defined.php)，因为您可以像编写文本一样进行编程。

例子：

```
<?php
require('my-functions.php');

$location = 'index.html';

if ($user = user_form_submitted() && user_is_valid($user)) {
    user_login_into_session_($user);
    $location = 'main.php';       
}

redirect($location);
?> 
```

如您所见，这很容易阅读。然后定义完成这项工作的函数，例如：

```
/**
 * redirect request
 *
 * @param string $location
 */
function redirect($location) {
    if (!headers_sent()) {
        header("Location: " . $location);
    }
    printf('Moved <a href="%1$s">here</a>.', htmlspecialchars($location));
} 
```

这只是一个例子。因此，您可以开始编程，甚至无需考虑所有荣耀不同的细节将如何工作。

有关使用和提取函数以及使用 PDO 的相关答案：

*   [创建动态 .htaccess 禁令的问题](https://stackoverflow.com/a/11591060/367456)
*   [PHP 文件无法输入部分代码](https://stackoverflow.com/a/11580420/367456)
*   [如何使用已弃用的 mysql_* 函数成功重写旧的 mysql-php 代码？](https://stackoverflow.com/a/10920267/367456)
*   [带有超链接的 PHP/MySQL 表](https://stackoverflow.com/a/10622205/367456)
*   ... 并在网站上查看有关您的各种问题的更多信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T09:56:25.980

我想你错过了这一行的一句话：`if (!session_is_registered(myusername)) {`

它应该是：`if( !session_is_registered("myusername")) {`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T10:24:56.493

您有两个会话（同名），这意味着第二个会话会覆盖第一个会话。

`session_register`手册上说你为什么要使用

> 自 PHP 5.3.0 起，该函数已被弃用，自 PHP 5.4.0 起已移除。

**反而：**

键入`$_SESSION['myusername'] = $usr;`和`$_SESSION['mypassword'] = $pswd;`。

删除*main.php*`session_start()`中的第二个。

 *键入`if (isset($_SESSION['myusername'])`而不是`session_is_registered()`.*

# c - 如何比较收到的答案？

> ID：11591137
> 
> 赞同：0
> 
> 时间：2012-07-21T09:48:15.560
> 
> 标签：c, comparison

`quit`我有一个用 C 编写的简单回显服务器，如果它收到这个词，我想停止服务器

```
 int n;
    char buffer[256];
    while(strcmp(buffer,"quit") != 0)
    {
        n = read(sock,buffer,255);
        if (n < 0)
        {
        perror("ERROR reading from socket");
        exit(1);
        }

        printf("Here is the message: %s\n",buffer);
        printf("%d-%d\n", sizeof(buffer), strcmp(buffer,"quit"));

        n = write(sock,"I got your message",18);
        if (n < 0) 
        {
        perror("ERROR writing to socket");
        exit(1);
        }
  } 
```

如何将接收到的缓冲区与字符串进行比较？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T09:53:42.143

缓冲区可能不是以 0 结尾的，因此使用“字符串”比较函数是错误的。您应该尝试`strncmp`或`memcmp`代替。

此外，在这种`while`情况下，您在实际读入`buffer`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T09:59:53.920

除了其他人所说的之外，您的程序的行为是未定义的：进入循环时，您正在从`buffer`初始化之前读取。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T11:00:31.653

我想到了

```
void strip(char *s) {
    char *p2 = s;
    while(*s != '\0') {
        if(*s != '\t' && *s != '\n' && *s != '\r') {
                *p2++ = *s++;
        } else {
                ++s;
        }
    }
    *p2 = '\0';
} 
```

[如何从 C 中的给定字符串中删除 \n 或 \t？](https://stackoverflow.com/questions/1515195/how-to-remove-n-or-t-from-a-given-string-in-c)

# c# - C# WindowsForms RichTextBox Textformatting with Select in large texts

> ID：11591138
> 
> 赞同：1
> 
> 时间：2012-07-21T09:48:18.693
> 
> 标签：c#, richtextbox, syntax-highlighting

一点前言：我是 C# 和一般应用程序编程的新手。

所以我不想写代码编辑器，虽然没什么特别的。我正在尝试通过 RichTextBox.SelectionColor 实现语法突出显示，正如这里所建议的那样，但是我发现人们实际上可以看到文本在文本框中是如何被选择的并且文本框的屏幕跟随选择（将文本滚动到当前选择）。该项目是通过 WindowsForms 完成的，我尝试过：http: [//blogs.microsoft.co.il/blogs/tamir/archive/2006/12/14/RichTextBox-syntax-highlighting.aspx](http://blogs.microsoft.co.il/blogs/tamir/archive/2006/12/14/RichTextBox-syntax-highlighting.aspx)这显然是使用 WPF，但是这方面的表现很差。我也不想重写我为 WPF 所拥有的东西。

信不信由你，但我搜索它，我找不到任何东西。

所以我问：是否有一些命令或设置来禁用这种行为？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T12:00:00.787

创建一个性能良好的代码编辑器非常具有挑战性。获得最佳结果通常涉及从头开始编写新控件。如果可以的话，我建议 SharpDevelop 团队使用此控件。

[http://www.codeproject.com/Articles/30936/Using-ICSharpCode-TextEditor](http://www.codeproject.com/Articles/30936/Using-ICSharpCode-TextEditor)

在您的情况下，有一种方法可以在您使用 windows api 函数 LockWindowUpdate 更改文本的颜色时冻结文本框的更新。

# php - php zip 无限循环

> ID：11591140
> 
> 赞同：2
> 
> 时间：2012-07-21T09:48:47.747
> 
> 标签：php, zip

当使用 php zip 类提取 zip 文件时（实际上它很糟糕，但谁知道呢？），

```
 $ unzip -t 1.zip 
    file #47:  bad zipfile offset (local header sig):  574665
    ...
    At least one error was detected in 1.zip.

    <?php
    function unzip($apkpath, $dirname) { //
        $zip = new ZipArchive;
        $res = $zip->open($apkpath);
        if ($res === TRUE) {
            $zip->extractTo($dirname);
            $zip->close();
            return true;
        } else {
            return false;
        }
    }
    unzip('com.nd.sms.zip', '2');  // It's ok
    //unzip('1.zip', '2');            //this line go into infinite loop and very heigh cpu
    unzip('com.nd.sms.zip', '2');
    ?> 
```

**任何人都知道如何安全地使用 ZipArchive，或其他扩展替换，或某种方式来检查 zip 文件是否有效？** 另外，我用的是php5.3.14+ubuntu。
我知道， [https](https://bugs.php.net/bug.php?id=53230) ://bugs.php.net/bug.php?id=53230 https://bugs.php.net/bug.php?id=57905

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T10:14:07.757

```
function zipValid($path) {
  $zip = zip_open($path);
  if (is_resource($zip)) {
    // valid zip
    zip_close($zip);
    return true;
  }
else 
return false; 
```

**其他方式**：

1.  您可以检查 zip 文件的长度与其标题中的长度，但这可能无助于检测损坏的文件。您需要计算 zip 的 CRC 并将其与原始 CRC 进行比较才能确定。但是，您可能无法使用原始 CRC。

2.  如果它是您正在执行此操作的本地系统，则可以使用 PHP [exec](http://php.net/manual/en/function.exec.php)函数并传递参数以直接使用 unzip 可执行文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-22T13:57:25.487

```
function unzip($apkpath, $dirname) {
    exec('unzip -t '.$apkpath.'>/dev/null 2>&1', $out, $return);
    if($return === 0)
    {
        $zip = new ZipArchive;
        $res = $zip->open($apkpath);
        if ($res === TRUE) {
            $zip->extractTo($dirname);
            $zip->close();
            return true;
        } else {
            return false;
        }
    }
    return false;
} 
```

好吧，它可以工作。但我不认为它是提取 zip 的好解决方案，无论文件数据验证如何。

# php - 使用 img src 调用 php 文件

> ID：11591144
> 
> 赞同：-1
> 
> 时间：2012-07-21T09:49:29.867
> 
> 标签：php, css

我正在尝试使用 img src 调用 php 文件，并且该 php 文件涉及 3-4 个 div。但是当我调用这个 php 文件时，我看不到结果。

实际上 php 文件更像是一个 html，但我将扩展名更改为 php。我在我的 php 文件中使用的代码是：-

```
<div class="onlineWidget">
<div class="count"></div>
<div class="label">online</div>
<div class="arrow"></div>
</div> 
```

并且有一个与此文件关联的 Css 文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T09:53:40.347

无法在通过 img-tags 包含的图像中显示 HTML 代码。永远不可能只输出 html 代码并将其用作图像。您可能希望内联或使用 Ajax 包含 PHP 文件，或使用[PHP 图像函数](http://www.php.net/manual/en/intro.image.php)创建可通过 img-tag 嵌入的图像。

# jquery - 如何使用 jQuery 隐藏和显示表格中的行？

> ID：11591152
> 
> 赞同：2
> 
> 时间：2012-07-21T09:50:58.403
> 
> 标签：jquery

我有一个表，其中我的行有类：

```
<table id="abc">
<tr class="level-0">
<tr class="level-1">
<tr class="level-2">
</table> 
```

我需要创建两个按钮。

*   [隐藏 1 级和 2 级] - 单击此按钮时隐藏或显示所有 2 级行。
*   [隐藏级别 2] - 单击此按钮时隐藏或显示级别 1 和级别 2 行。

有人能告诉我如何用 jQuery 实现它吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-21T09:55:03.577

使用`click`事件处理程序和`toggle`函数（用于描述检查[jquery API](http://api.jquery.com)）：

```
$('#button1').click(function() {
    // all trs with level-1 class inside abc table
    $('#abc tr.level-1').toggle();
});

$('#button1and2').click(function() {
    // all trs with level-1 or level-2 class inside abc table
    $('#abc tr.level-1, #abc tr.level-2').toggle();
}); 
```

[http://jsfiddle.net/73JAV/](http://jsfiddle.net/73JAV/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T09:57:15.003

使用点击`next()`功能：

[http://jsfiddle.net/Ah7Dm/](http://jsfiddle.net/Ah7Dm/)

```
$('.level-1').click(function(){
  $(this).next('.level-2').toggle();
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T10:01:45.940

```
$(function(){
    $('#button1').click(function(){
        $('#level0').hide('slow');  
        $('#level0').hide('slow');  
        ...
    });

    $('#button2').click(function(){
        $('#level0').show('slow');  
        $('#level0').show('slow');  
        ...
    });         
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T10:27:41.550

检查这个

```
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" >
    </script>
    <script type="text/javascript">
        $(function(){
            $('#level_1_2').click(function(){
                $('.level-2').toggle();
            });
            $('#level_2').click(function(){
                if(jQuery('.level-1').is(':visible')){
                    $('.level-2').show();
                }else{
                    $('.level-2').hide();
                }
                $('.level-2 , .level-1').toggle();
            });
        });
    </script>
</head>
<body>
    <input type="button" id="level_1_2" value="Hide level 1 and 2">
    <input type="button" id="level_2" value="Hide level 2">
    <table id="abc">
    <tr class="level-0"><td>0</td></tr>
    <tr class="level-1"><td>1</td></tr>
    <tr class="level-2"><td>2</td></tr>
    </table> 
</body>
</html> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-07-07T21:08:30.537

我有同样的问题，下一级是前一个 tr 的子级。

```
`<table>
<tbody>
 <tr class="level-1"></tr>
 <tr class="level-2"></tr> 
 <tr class="level-3"></tr>
 <tr class="level-4"></tr>
 <tr class="level-4"></tr>
 <tr class="level-2"></tr>
 <tr class="level-2"></tr>
</tbody>
</table> 
```

到目前为止我有

```
$('table tbody .level-1').click(function(event) {
        event.preventDefault();

        var current_tr_class = $(this).parent().attr('class');
        next_tr_class = parseInt(current_tr_class.replace ( /[^\d.]/g, '' ))+1; // get last increase by 1 it is 1 make it 2

        $('tr.level-'+next_tr_class).toggle({ opacity: "toggle" }); // Open toggle2
        }); 
```

我希望这可以解决您的问题，但不是我的问题，我都是动态生成的。如果您单击级别 1，它将取消切换级别 2 的所有元素，即使它在级别 4 之后也是如此。但 4 级仍将隐藏，它会像循环。

# c++ - 将 C 函数数组转换为 C++ 函数指针数组？

> ID：11591165
> 
> 赞同：1
> 
> 时间：2012-07-21T09:54:03.937
> 
> 标签：c++, c

我正在将 C 代码转换为 c++ ，在代码的一部分中，我有类似 C 中的函数数组的东西，如下所示：

这就是 C 的样子：

```
void func1(bool a)
{
..
}

void func2(bool a)
{
..
}

void func3(bool a)
{
..
}

struct func
{
    void (*f)(incoming *);
    int arg_length;
};
typedef struct func func;

func funcs[] = {
        { func1, 4 }, 
        { func2, 10 }, 
        { func3, 4 }  
    }; 
```

它如何转换为 C++？
更新：
问题：这是非静态函数指针的有效答案吗？
[http://www.newty.de/fpt/fpt.html#chapter2](http://www.newty.de/fpt/fpt.html#chapter2)

我也可以定义不同类型的成员函数指针的数组吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-21T10:10:24.290

在您的情况下，您可以定义一个类，并插入一个“[]”运算符来获取指向函数的指针。

# android - Android 服务在应用程序运行一段时间后停止

> ID：11591166
> 
> 赞同：0
> 
> 时间：2012-07-21T09:54:22.663
> 
> 标签：android, android-service

我正在创建一个必须连续运行的应用程序，直到用户单击停止按钮。该服务所做的是，如果通过使用 GPS 获取当前的纬度和经度并上传到服务器。但是当我让应用程序长时间运行时，服务会停止上传数据。谁能告诉我如何保持服务持续运行，直到用户按下停止按钮？请给我一个解决这个问题的方法。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T10:09:45.400

我有同样的要求，这是我正在使用的解决方案，

类：`AlarmManager`&`TimerTask`

逻辑，

1.  创建一个 TimerTask 类，它会定期在服务器上上传您的 GPS 坐标。
2.  创建一个以特定间隔（在我的例子中为 30 分钟）停止和启动 GPS 和 TimerTask 的 AlarmManager 类。

这就像魅力一样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:01:16.673

您有兴趣使您的服务具有粘性。

当 Android 内存不足时，它将停止您的服务，以便它可以继续工作。如果您为您的服务设置了粘性标志，那么一旦有足够的资源可用，就会重新创建该服务。

您可以像这样使服务具有粘性：

```
public class YourService extends Service {

    @Override
    public int onStartCommand(Intent intent, int flags, int startId) {
        // We want this service to continue running until it is explicitly
        // stopped, so return sticky.
        return START_STICKY;
    }
...
} 
```

# c++ - 生成项目和使用 srand

> ID：11591168
> 
> 赞同：0
> 
> 时间：2012-07-21T09:54:54.777
> 
> 标签：c++, random

我正在创建一个游戏，我目前正在研究随机掉落系统。

我计划创建一个随机 ID，这反过来又是项目的设计。如果我将相同的 ID 两次传递给 createItem 函数，它应该创建完全相同的项目。

反正。当我创建 ID 时，我计划使用输入来让一些敌人更频繁地掉落某个物品。因此，假设该函数如下所示：

```
void randID(int level, int diff, float wepChance, float armChance); 
```

如果我在调用函数时将 wepChance 设置为 10% (0.1)，我真的希望它有 10% 的几率掉落武器。如何将此输入与 a`rand()`和一起使用`srand()`？srand 是如何真正起作用的（除了创建种子之外，还没有发现其他任何东西）。

我想我可以编写自己的代码以使其真正成为 10% 的机会，但我可以使用 srand 来达到相同的结果吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T09:58:10.627

`srand`不会帮助你。

如果您希望有 10% 的机会发生某事，请使用以下内容：

```
int x = rand();

bool hasOccurred = (x < (RAND_MAX * 0.1)); 
```

这不会*正好是*10%，因为`RAND_MAX`可能不会完全除以 10，但我想它对于您的应用程序来说已经足够接近了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:03:00.940

srand 和 rand 是“伪随机数生成器”。srand 表示“随机种子”，通常与“时间（NULL）；”一起使用

```
srand(time(NULL)); //Guarantees, that you won't get the exact same row of numbers twice.
rand()%100;        //For example. 
```

关于你的那个输入问题：这就像掷骰子。假设您假设数字从 0 到 99 (%100)，您说结果 < 10 时为“ItemID 1”。在这种情况下，这意味着 10 % 的机会。

rand 不是最可靠的随机数生成器，不应该用于加密问题（因为行在数学上是可预测的），但对于游戏来说它应该可以正常工作。

这有帮助吗？

啊，是的，用代码说话。

```
srand(time(NULL));         //Initializes the random number generator. (Call once)
randID(1, 5, 0.1, 0.2);    //Assuming some parameters here

void randID(int level, int diff, float wepChance, float armChance) {        
    int Rand = rand()%100;
    wepChance *= 100;    //Maximum dice roll for a weapon
    armChance = wepChance + (armChance * 100); //Maximum dice roll for an arm.
    if(Rand <= wepChance) //doWeapon
    else if(Rand > WepChance && Rand < armChance) //doArm
} 
```

这是未经测试且相当粗糙的代码，但我想你知道我在做什么。毕竟，我不太清楚你的意思。

# haskell - Haskell中花括号的用途是什么？

> ID：11591170
> 
> 赞同：8
> 
> 时间：2012-07-21T09:55:30.807
> 
> 标签：haskell, curly-braces

下面的代码

```
getSpareBuffer :: Handle__ -> IO (BufferMode, CharBuffer)
getSpareBuffer Handle__{haCharBuffer=ref, 
                    haBuffers=spare_ref,
                    haBufferMode=mode}
 = do
   case mode of
     NoBuffering -> return (mode, error "no buffer!")
     _ -> do
          bufs <- readIORef spare_ref
          buf  <- readIORef ref
          case bufs of
            BufferListCons b rest -> do
                writeIORef spare_ref rest
                return ( mode, emptyBuffer b (bufSize buf) WriteBuffer)
            BufferListNil -> do
                new_buf <- newCharBuffer (bufSize buf) WriteBuffer
                return (mode, new_buf) 
```

来自 GHC 源代码（[ghc-7.4.1\libraries\base\GHC\IO\Handle\Text.hs](https://gitlab.haskell.org/ghc/ghc/-/blob/7627eab5dd882eb6f1567e3ae95c6c770830a5eb/libraries/base/GHC/IO/Handle/Text.hs#L647)）。我想知道为什么代码使用大括号代替参数。以及变量如何`haCharBuffer, haBuffers, haBufferMode`从`ref, spare_ref`和中获取值`mode`。这些值尚未定义。

GHC 中另一个需要澄清的代码片段是：

```
flushByteWriteBuffer :: Handle__ -> IO ()
flushByteWriteBuffer h_@Handle__{..} = do
  bbuf <- readIORef haByteBuffer
  when (not (isEmptyBuffer bbuf)) $ do
    bbuf' <- Buffered.flushWriteBuffer haDevice bbuf
    writeIORef haByteBuffer bbuf' 
```

在代码文件中`ghc-7.4.1\libraries\base\GHC\IO\Handle\Internals.hs` 大括号`{..}`（

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-07-21T10:00:55.840

`Handle__`数据类型可能是使用记录语法定义的，如下所示：

```
data Handle__ =
  Handle__
  { haCharBuffer :: IORef (...something...)
  , haBuffers :: IORef (...something...)
  , haBufferMode :: BufferMode
  } 
```

花括号用于匹配记录类型的字段。因此，声明说：“检查参数是否属于`Handle__`构造函数；在这种情况下，存储in 的值、 `haCharBuffer`in`ref`的值和`haBuffers`in的`spare_ref`值”`haBufferMode``mode`

当你写`Handle__ {..}`它和说一样的东西`Handle__ { haCharBuffer = haCharBuffer, haBuffers = haBuffers, haBufferMode = haBufferMode }`; 数据结构中的所有字段都绑定到它们的字段名称。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-21T10:03:31.377

花括号用于记录类型的语法中。在此代码中，模式匹配用于将记录类型参数解构为其组件字段。

# jquery - 针对所有旧浏览器（不仅仅是 IE）

> ID：11591172
> 
> 赞同：0
> 
> 时间：2012-07-21T09:56:04.313
> 
> 标签：jquery, cross-browser, browser, browser-detection

我见过一些网站只是阻止用户并要求他们更新浏览器。我只想为所有旧浏览器提供一个单独的、精简的样式表（嗯，至少是流行的浏览器，如 FF、Opera、Webkit 和 IE。）如果我不打算支持旧版本的 IE，我不也不想打扰其他人的旧版本。尽管 FF3.6 比 IE6 好几个联盟，但它落后于我们今天所拥有的。

我不想阻止，但我也不想再不必要地实施变通办法、hacks 和 shims。如果您不更新浏览器，您可以查看平淡无奇的互联网。我只想能够定位 >FF12 或 >Safari 5.1 等。我可以使用 jQuery 来做到这一点。所以有人有这样的东西吗？

注意：我不喜欢使用 Modernizr 之类的东西。我已经使用了它，这个问题的重点是*停止*使用它并为所有浏览器提供统一的样式表，而不仅仅是 IE。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-27T18:24:49.480

也许您可能希望定位浏览器支持的功能，而不是针对浏览器。伟大的工具是[Modernizr](http://modernizr.com/)

# javascript - 使用 jQuery.attr() 转义属性值

> ID：11591174
> 
> 赞同：11
> 
> 时间：2012-07-21T09:56:07.437
> 
> 标签：javascript, jquery, html

在使用 jQuery 更新`title`元素的属性时，我发现实体（特别是`&#10;`，这是目前推荐的在属性中添加换行符的方式`title`）无法正确显示（实体显示为文本，并且未解析... ）。

例如：

```
<!-- This works fine -->
<div title="foo&#10;bar">baz</div> 
```

但是这个：

```
<div>baz</div>
<script>
$("div").attr('title', 'foo&#10;bar'); // Escapes the &
</script> 
```

有没有办法让 jQuery 不转义值？`unescape()`我之前试过用`.attr()`，但是没用……</p>

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-07-21T10:01:57.543

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-07-21T10:08:58.237

You are right; `unescape()` will not work in this case. What you can do is something similar to what is mentioned in the answer [here](https://stackoverflow.com/questions/4480757/how-do-i-unescape-html-entities-in-js-change-lt-to).

Basically, create an empty element using jQuery, set it's HTML to the text you want in the title (`'foo&#10;bar'` in this case) and then get back the element's text.

Sounds a little complicated? It is, but this will work for any HTML entity and it's really just a one-liner. Here's the code:

```
<div>baz</div>
<script>
    var title = $('<div/>').html('foo&#10;bar').text();
    $("div").attr('title', title);
</script> 
```

Or on one line:

```
$('div').attr('title', $('<div/>').html('foo&#10;bar').text()); 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-07-21T10:14:59.720

### This function will save you time, if you'll be doing this a lot:

```
function unescp(x){
 return $('<div/>').html(x).text();
}
$("div").attr('title',unescp('foo&#10;bar')); 
```

See it here: [http://jsfiddle.net/9Lnru/](http://jsfiddle.net/9Lnru/) ​</p>

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T10:00:21.107

您可以尝试将值放在隐藏元素中。并让 jquery 将该值复制到 div。我不确定它是否会通过 jQuery 被忽视，但值得一试......

# twitter-bootstrap - 如何使用 16 或 24 列的引导程序

> ID：11591185
> 
> 赞同：23
> 
> 时间：2012-07-21T09:56:51.693
> 
> 标签：twitter-bootstrap, customization, less

我需要一些帮助，将 bootstrap 2.0.4 设置为 16 或 24 列，而不是默认的 12 列.less 文件并使用 Crunch 重新编译 bootstrap.less 但对于这两个试验我仍然有相同的结果。它仍然是 12 列！当我尝试将 div 设置为 span12 时，它仍然需要整个屏幕吗？

谁能指导我做错了什么，或者如果有人可以生成 16 和 24 列版本并将它们发送给我，那将是完美的

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-03-02T10:06:40.047

此方法适用于旧版本的 Bootstrap - 版本 2.3.1

单击此链接自定义引导程序：http: [//twitter.github.com/bootstrap/customize.html](http://twitter.github.com/bootstrap/customize.html)

你会发现这样的例子。更改参数以满足您的需求。

```
16 Grid system with Gutter
@gridColumns: 16
@gridColumnWidth: 45px
@gridGutterWidth: 15px
@gridColumnWidth1200: 52.5px
@gridGutterWidth1200: 22.5px
@gridColumnWidth768: 31.5px
@gridGutterWidth768: 15px

16 Grid system without Gutter
@gridColumns: 16
@gridColumnWidth: 60px
@gridGutterWidth: 0px
@gridColumnWidth1200: 75px
@gridGutterWidth1200: 0px
@gridColumnWidth768: 46.5px
@gridGutterWidth768: 0px 
```

* * *

```
24 Grid system with Gutter
@gridColumns: 24
@gridColumnWidth: 30px
@gridGutterWidth: 1px
@gridColumnWidth1200: 35px
@gridGutterWidth1200: 15px
@gridColumnWidth768: 21px
@gridGutterWidth768: 10px

24 Grid system without Gutter
@gridColumns: 24
@gridColumnWidth: 40px
@gridGutterWidth: 0px
@gridColumnWidth1200: 50px
@gridGutterWidth1200: 0px
@gridColumnWidth768: 31px
@gridGutterWidth768: 0px 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2015-02-20T07:10:53.840

对于 24 列，您可以拆分主 div

```
<div class="col-md-12">

    <div class="col-md-6">
        <div class="col-md-1">nothing</div>
        <div class="col-md-1">nothing</div>
        <div class="col-md-1">nothing</div>
        <div class="col-md-1">nothing</div>
        <div class="col-md-1">nothing</div>
        <div class="col-md-1">nothing</div>
        <div class="col-md-1">nothing</div>
        <div class="col-md-1">nothing</div>
        <div class="col-md-1">nothing</div>
        <div class="col-md-1">nothing</div>
        <div class="col-md-1">nothing</div>
        <div class="col-md-1">nothing</div>
    </div>

    <div class="col-md-6">12 here</div>

</div> 
```

[代码笔演示](http://codepen.io/airsakarya/pen/MyeYvj "代码笔演示")

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2012-07-22T00:54:47.533

足够简单，可以减少 - [http://twitter.github.com/bootstrap/scaffolding.html#gridCustomization](http://twitter.github.com/bootstrap/scaffolding.html#gridCustomization)

您需要将那里的变量更改为您想要的 -

例如

```
@gridColumns: 24
@gridColumnWidth: 30px
@gridGutterWidth: 10px 
```

如果使用流体网格，您也需要按比例更改这些变量，否则 span12 仍将占据 100% 的宽度，而 span24 将占据 200%

```
@fluidGridColumnWidth
@fluidGridGutterWidth 
```

就像声明的那样：

> 如何定制
> 
> 修改网格意味着更改三个 @grid* 变量并重新编译 Bootstrap。更改 variables.less 中的网格变量并使用记录的四种方法之一重新编译。如果要添加更多列，请务必在 grid.less 中添加 CSS。

您可以在此处更改变量并下载新的 css：http: [//twitter.github.com/bootstrap/download.html#variables](http://twitter.github.com/bootstrap/download.html#variables)

这是一个编译的示例，应该适用于 16 列（尚未测试，请告诉我它是如何工作的）：[https ://s3.amazonaws.com/intenex/bootstrap16columns.zip](https://s3.amazonaws.com/intenex/bootstrap16columns.zip)

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-10-22T09:55:01.363

**Edit: Creating grids with custom number of columns has been restored, and can be done on Bootstrap's [customization page](https://getbootstrap.com/docs/3.4/customize/#grid-system).**

For reasons unknown to me, the latest version of Bootstrap (3.0.0/1) doesn't allow you to create grid different than 12 columns, which is a big shame.

What we can do currently, and which will in turn allow for creating more customized bootstrap packages, is to set up your own Bootstrap customizer.

Edit: I just tried it. Installing all the dependencies went quite smooth while sticking to guidelines on their Docs GitHub page.

Sample generated [24 column grid](https://jsfiddle.net/3cLve/)

```
Editor required inserting some code along with jsfiddle link. There's no point in pasting anything though. 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-06-15T06:59:02.583

**16列**

960像素

45px *16 =720 列

15px *16 =240 间距

1200像素

53px *16 =848 列

22px *16 =352 间距

768像素

33px *16 =528 列

15px *16 =240 间距

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2016-07-03T09:13:10.553

这是我发现使用嵌套做 16 列的一种快速简便的方法...

```
.no-padding {
  padding-left: 0 !important;
  padding-right: 0 !important;
}
```

```
<div class="row">
  <div class="col-md-3 no-padding">
    <div class="col-md-3">
      col
    </div>
    <div class="col-md-3">
      col
    </div>
    <div class="col-md-3">
      col
    </div>
    <div class="col-md-3">
      col
    </div>
  </div>
  <div class="col-md-3 no-padding">
    <div class="col-md-3">
      col
    </div>
    <div class="col-md-3">
      col
    </div>
    <div class="col-md-3">
      col
    </div>
    <div class="col-md-3">
      col
    </div>
  </div>
  <div class="col-md-3 no-padding">
    <div class="col-md-3">
      col
    </div>
    <div class="col-md-3">
      col
    </div>
    <div class="col-md-3">
      col
    </div>
    <div class="col-md-3">
      col
    </div>
  </div>
  <div class="col-md-3 no-padding">
    <div class="col-md-3">
      col
    </div>
    <div class="col-md-3">
      col
    </div>
    <div class="col-md-3">
      col
    </div>
    <div class="col-md-3">
      col
    </div>
  </div>
</div>
<!-- row -->
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2018-03-22T15:53:58.657

***2018 年更新***

为最新的 Bootstrap 4 重新审视这个问题。现在 Bootstrap 4 是 flexbox，并且包括[自动布局列](http://getbootstrap.com/docs/4.0/layout/grid/#auto-layout-columns)，很容易**创建具有任意数量*n*列**的布局......

**16列**

```
<div class="row">
            <div class="col">
                1
            </div>
            <div class="col">
                2
            </div>
            <div class="col">
                ... to 16
            </div>
</div> 
```

**24列**

```
<div class="row">
            <div class="col">
                1
            </div>
            <div class="col">
                2
            </div>
            <div class="col">
                ... to 24
            </div>
</div> 
```

演示：[https ://www.codeply.com/go/4sQGt2qKyr](https://www.codeply.com/go/4sQGt2qKyr)

* * *

另请参阅： [Bootstrap 4 中的 N 列数](https://stackoverflow.com/questions/49414441/n-number-of-columns-in-bootstrap/49415036)

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2016-07-09T05:17:47.863

我为我的项目使用 Grid 30 列（Grid 24 和 100 也可用）

[https://github.com/zirafa/bootstrap-grid-only](https://github.com/zirafa/bootstrap-grid-only)

根据您的要求，可能需要一些定制

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2013-06-15T21:57:40.260

**设置 24 列：**

*960*
35px 列
5px 装订线

*1200*
40px 列
10px 装订线

*768*
29px 列
3px装订线

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2018-02-22T03:14:03.203

您可以使用百分比覆盖宽度属性，如下所示：

```
 <div class="col-md-1" style="width: 6.25%">nothing</div>
    <div class="col-md-1" style="width: 6.25%">nothing</div>
    <div class="col-md-1" style="width: 6.25%">nothing</div>
    <div class="col-md-1" style="width: 6.25%">nothing</div>
    <div class="col-md-1" style="width: 6.25%">nothing</div>
    <div class="col-md-1" style="width: 6.25%">nothing</div>
    <div class="col-md-1" style="width: 6.25%">nothing</div>
    <div class="col-md-1" style="width: 6.25%">nothing</div>
    <div class="col-md-1" style="width: 6.25%">nothing</div>
    <div class="col-md-1" style="width: 6.25%">nothing</div>
    <div class="col-md-1" style="width: 6.25%">nothing</div>
    <div class="col-md-1" style="width: 6.25%">nothing</div>
    <div class="col-md-1" style="width: 6.25%">nothing</div>
    <div class="col-md-1" style="width: 6.25%">nothing</div>
    <div class="col-md-1" style="width: 6.25%">nothing</div>
    <div class="col-md-1" style="width: 6.25%">nothing</div>
    <div class="col-md-1" style="width: 6.25%">nothing</div> 
```

它甚至会保持响应能力。

# android - 服务 getExtra 从 BroadcastReceiver 返回 null

> ID：11591187
> 
> 赞同：1
> 
> 时间：2012-07-21T09:57:22.990
> 
> 标签：android, service, broadcastreceiver, android-service

我有一个远程服务，我传递了一些额外的东西和。服务可以从活动或广播接收器启动。从活动开始时，我传入附加内容和操作，我可以在服务中检索它们。但是当我从广播接收器做同样的事情时，调用`getExtra()`或`getAction`两者都返回null。

这是从广播接收器开始的方式

```
public void onReceive(Context context, Intent intent) {
    ...
    Intent service = new Intent(context, MyService.class);
    intent.setAction("receieverAction");
    intent.putExtra("some_extra", "extra_value");
    context.startService(service);
} 
```

然后在服务中我调用 getExtras 和 getAction() 两者都是空的

```
 public int onStartCommand(Intent intent, int flags, int startId) {

        String action = intent.getAction(); // This is null when started from broadcast receiver
        String extra = intent.getStringExtra("some_extra"); // and so is this
        ...

        return START_NOT_STICKY;
    } 
```

这是否与广播接收器有关，或者在接收器调用时服务已经启动`startService()`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:23:10.767

文档说：

> 特别是，您可能不会在 BroadcastReceiver 中显示对话框或绑定到服务。

我想这个问题大约`starting service`来自`broadcastreceiver`.

# c++ - 如何判断是否删除从函数返回的指针

> ID：11591193
> 
> 赞同：2
> 
> 时间：2012-07-21T09:58:12.890
> 
> 标签：c++, memory-leaks

考虑一个返回 a 的函数，`Type*`因此它看起来可以`Type`在其定义中分配 a ，但您无法确定（有很多函数，您没有时间阅读它们的定义）。

你怎么知道你是否应该删除返回的指针？例如，这是类型：

```
struct MyStruct
{
    MyStruct(void) { cout << "Created.\n"; }
    ~MyStruct(void) { cout << "Deleted.\n"; }
}; 
```

这是功能：

```
MyStruct* Func1(void)
{
    return (new MyStruct());
} 
```

Func1 分配了一个指针，您应该稍后取消分配它。但也许定义是别的东西，指针不应该是`delete`d。

我的问题是：你怎么知道是否删除指针？例如：也许指针是静态的？

```
MyStruct* Func2(void)
{
    static MyStruct* ms = &MyStruct();
    return ms;
} 
```

取消分配这个指针会使整个程序崩溃。

提前致谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-21T09:59:16.210

无法以编程方式对此进行检查。¹ 作为程序员，您需要了解哪些需要删除，哪些不需要。

更一般地说，这是在 C++ 中传递原始指针经常不受欢迎的原因之一。 [*智能指针*](http://en.wikipedia.org/wiki/Smart_pointer)通常用于管理动态分配的内存。

* * *

[1\. 至少，不是以一种强大的平台独立方式。]

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-07-21T10:09:00.893

> 你怎么知道你是否应该删除返回的指针？

你不能，这就是为什么使用原始指针来管理内存是一个非常糟糕的主意的原因之一。如果一个对象需要删除，那么应该总是使用智能指针自动完成。

这还有一个好处是，一旦你完成了动态对象，它就会被删除，即使抛出异常也是如此。

```
std::unique_ptr<MyStruct> Func1()
{
    return std::unique_ptr<MyStruct>(new MyStruct);
}

void do_something()
{
    auto thing = Func1();
    do_something_with(thing);

    // The object is automatically deleted here
    // even if the function threw an exception.
} 
```

如果您被迫使用设计不佳的库，其函数返回的指针可能需要删除，也可能不需要删除，那么您唯一的选择就是阅读文档或找到更好的库。立即将任何需要删除的指针分配给智能指针是一个好主意，因此您至少具有异常安全性。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T10:32:29.190

事实：如果您没有时间阅读 API 文档，那么您将遇到错误。

归结为**函数总是做出很多假设**的原则，所有假设都由不同的机制强制执行：

1.  有些是**由编译器自动执行的**，通常是通过类型。例如，如果函数必须假设它可以写入某个参数，那么它的类型将是非常量的，并且传递一个 const 参数将导致编译器错误。这是防止错误的最佳方法。返回智能指针是一种为指针所有权提供编译器强制执行的方法，因此不需要文档。这就是为什么我们更喜欢模板或基类而不是`void*`.
2.  有些是通过**惯例或惯例**暗示的。这再次意味着您不需要阅读文档来遵守函数的假设，因为这对于任何有能力的程序员来说都应该是显而易见的。例如，如果 C++ 函数请求网格的行或列，您可以期望它是从 0 开始的。这是约定。或者对于您的情况，如果函数返回*引用*，则按照惯例，调用者不应删除该对象。
3.  **除了通过文档**之外，还有许多假设根本无法执行。例如，您无法知道函数是否会进行边界检查或接受 NULL 指针。作为 API 开发人员，您应该尽可能避免这种情况，但在面对它时，您不能忽略文档。

作为 C++ 开发人员，我们尽可能多地使用 #1，但不能完全避免其他的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T10:22:31.323

我完全同意 Mike 和 Oli 的观点，只补充一点：如果库写得很好，那么可能有一些标准用来指出你何时是函数返回的指针的所有者（意味着你必须删除它） . 这可以通过命名来完成，或者该函数属于某个类/命名空间。在这种情况下，您可以避免阅读每个函数的定义。

# sitecore - 站点安全 - 没有字段？

> ID：11591195
> 
> 赞同：1
> 
> 时间：2012-07-21T09:58:33.703
> 
> 标签：sitecore

我已经为 Sitecore 域设置了一个新用户和角色。用户应该只能访问内容树下的许多分支之一。

当我使用用户登录时，它可以工作 - 这意味着我只能看到我指定的分支，我可以创建新项目，删除等。但是 - 我看不到当前项目/模板上的任何字段。Sitecore 只显示“当前项目不包含任何字段。”。这显然不是真的，因为所有项目/模板上都有很多字段。

首先，虽然我还必须提供对模板树的显式读取访问权限，但这什么也没做。我尝试添加所有标准的 Sitecore 角色，但这里也没有任何帮助。我还尝试将用户标记为管理员，只是为了测试，当我这样做时，一切都会显示出来。所以我必须给我一些缺少的安全设置，但我一辈子都无法弄清楚它可能是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T17:50:18.403

事实证明，由于某种奇怪的原因，sitecore\everyone 角色已读取拒绝访问所有模板字段。不是模板本身，而是字段。奇怪。通过运行脚本并将字段的安全性重置为标准值来修复，我现在可以工作了。

# c# - 在 UI 线程中的任务完成时显示表单

> ID：11591197
> 
> 赞同：2
> 
> 时间：2012-07-21T09:59:00.413
> 
> 标签：c#, .net, scheduled-tasks, task-parallel-library, continuations

我有一个任务，完成后应该继续执行另一个显示 winform 的任务（winform 之前已在 UI 线程上初始化，因此它确实有一个句柄）。

```
 private static Task RunningTask
    {
        get;
        set;
    }
    public static UpdaterTool.Forms.UpdateResult UpdateResultForm;

    private void DoWork()
    {
        UpdateResultForm = new Forms.UpdateResult(); 
        //the next line forces the creation of the handle - 
        //otherwise InvokeRequired will later on return false.
        var hackHandle = UpdateResultForm.Handle; 

        var ctx = TaskScheduler.FromCurrentSynchronizationContext();

        RunningTask = Task.Factory.StartNew(() => DownloadAndInstallFiles(), CancelTokenSource.Token)
            .ContinueWith(_ => WorkComplete(), CancelTokenSource.Token, TaskContinuationOptions.NotOnFaulted, ctx);
    }

    private void WorkComplete()
    {
       ShowResultForm();
    }

    private void ShowResultForm()
    {
        if (UpdateResultForm.InvokeRequired)
        {
            try
            {
                UpdateResultForm.Invoke(new MethodInvoker(ShowResultForm));
            }
            catch { }
            return;
         }
         UpdateResultForm.Show();

     } 
```

问题是，无论我使用哪种 ContinueWith() 重载组合，UpdateResultForm 要么根本不显示（这意味着继续没有发生，工作人员在“运行”时挂起），或者当它是时，它挂起UI，就像它期望工作线程完成或其他东西一样。我不明白为什么当我尝试使用 FromCurrentSynchronizationContext() 在 UI 线程上显示它时会发生这种情况。

据我了解，在 DoWork 方法中，我从 UI 线程开始（这就是我在那里初始化表单的原因）。当代码进入 Task.Factory.StartNew 时，它切换到工作线程。完成后，它会继续 WorkComplete，它只在 UI 线程上显示先前初始化的表单。

我错过了什么？谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T15:09:30.210

使用 InvokeRequired 是一种强大的反模式。不知道方法运行的线程并不常见。这里的情况也是如此，您已经使用了 TaskScheduler.FromCurrentSynchronizationContext()，因此您*知道*任务在 UI 线程上运行。再检查也没有意义。这也消除了早期创建表单句柄的需要。

您遇到的这种问题可能是由于从工作线程运行 DoWork() 引起的。也许您也从任务中调用它。这使得 FromCurrentSynchronizationContext() 返回错误的上下文。并将在不发送消息循环的线程上显示表单，它将像门钉一样死掉。或者通过阻塞 UI 线程，等待任务完成。这总是会导致死锁，除非 UI 线程空闲并且可以执行 ShowResultForm() 方法，否则任务无法完成。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T13:21:37.350

我认为解决方案是：`DoWork()`在 UI 线程以外的任何线程上调用？

如果**是**，则考虑在 UI 线程上实例化`UpdateResultForm`somwhere，或者如果这不可能，则在您的`ContinueWith`操作中实例化 somwhere。

如果**没有**，那么应该没有问题。这`UpdateResultForm.Handle`可能会造成一些麻烦。但是，在这种情况下不再需要此句柄，因为您已经在 UI 线程上，因此不必检查是否需要 Invoke。

在这两种情况下，您都可以尝试`DoWork`像这样重写您的方法：

```
 private void DoWork()
            {
                var ctx = TaskScheduler.FromCurrentSynchronizationContext();

                RunningTask = Task.Factory
                    .StartNew(DownloadAndInstallFiles, CancelTokenSource.Token)
                    .ContinueWith(_ => ShowResultForm(), CancelTokenSource.Token, TaskContinuationOptions.NotOnFaulted, ctx);
            }

            private void ShowResultForm()
            {
                UpdateResultForm = new Forms.UpdateResult();
                // Some other code
                UpdateResultForm.Show();
            } 
```

Even`WorkComplete`不再需要，因为它只是通过调用。希望这会帮助你。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T16:00:41.747

如果您使用的是 SynchronizationContext，则不需要 InvokeRequired/Invoke。遇到问题的唯一方法是在 UI 线程以外的线程上调用 DoWork。

例如，如果我采用您提供的代码，创建我自己的 UpdateResult 表单，添加一个 CancelTokenSource 成员并在构造函数中对其进行初始化，然后从 UI 线程运行 DoWork，它工作正常。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-22T12:24:00.813

我解决了。这个线程上的答案都是正确的，这里的问题是，就像 Hans 建议的那样，FromCurrentSynchronizationContext() 返回了错误的上下文而不是预期的 UI 上下文。这是因为 DoWork 是从工作线程调用的，而不是从 UI 调用的。

在我的特殊情况下，这里的解决方案是从 UI 上下文调用 DoWork，这意味着我必须制作一个 WindowsFormsSynchronizationContext 对象，就像[这篇博文解释的](http://blogs.msdn.com/b/mattdotson/archive/2006/02/13/531315.aspx)那样。

# iphone - 访问应用程序 visibleViewController？

> ID：11591199
> 
> 赞同：0
> 
> 时间：2012-07-21T09:59:19.657
> 
> 标签：iphone, objective-c, ios, uinavigationcontroller

我想知道如何访问 UIApplication 的 visibleViewController？

我已经尝试过这样的事情，但它们不起作用：

```
[[[[UIApplication sharedApplication] delegate] navigationController] visibleViewController]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:35:30.973

您可以像这样访问：

```
YourAppDelegate *appDelegate = (YourAppDelegate *)[[UIApplication sharedApplication]delegate];
UIViewController *visibleViewController =  [[appDelegate.yourNavigationController viewControllers]lastObject]; 
```

# java - 如何在智能 gwt 中隐藏 LinkItem 标题

> ID：11591201
> 
> 赞同：1
> 
> 时间：2012-07-21T09:59:41.467
> 
> 标签：java, javascript, gwt, smartgwt

我是 smart gwt 的新手，我对出现在 LinkItem 旁边的标题感到有些困惑。这是它的屏幕截图

![在此处输入图像描述](../Images/654ab2163aa82bd6e8a16976ea39104c.png)

如您所见，“下载模板”是让我头疼的那个。请告诉如何删除这个东西。我尝试删除标题，但它在下载模板的地方航行 isc_ListItem_0。我也尝试提供 null 作为 setTitle 的参数，但无济于事。请帮我！！！先感谢您...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T10:47:47.353

我自己得到了答案！您需要做的就是设置`setShowTitle(false)`

# asp.net - 古老的ASP.NET结构，告诉我怎么做才对

> ID：11591202
> 
> 赞同：-1
> 
> 时间：2012-07-21T09:59:48.170
> 
> 标签：asp.net, linq, code-structure

我对 ASP.NET 还是很陌生，我认为我并没有以他们的方式使用它，因为它应该与最新的 .NET 框架中包含的所有功能一起使用。我目前正在使用 .NET 框架 4,0。代码中有一些错误，不要介意他们介意我似乎在使用古老的技术。

我已经把所有的东西都组织成这样了。

我的文件名为 webservice.cs，该文件包含这样的 webmethods：

```
[WebMethod]
public string laggtillprodukt(string pro1, int pro2)
{
    int sqlstatus;
    string sqlinsertstringfull = "INSERT INTO t_produkter (produkt_namn) VALUES ('" + pro1 + "');" +
                                 "SELECT produkt_id FROM t_produkter WHERE (produkt_id = SCOPE_IDENTITY()); " +
                                 "INSERT INTO t_produktegenskaper (produkt_id, egenskaps_id) " +
                                 "SELECT SCOPE_IDENTITY(), egen.egenskap_id " +
                                 "FROM t_kopplingmallegenskaper as egen " +
                                 "WHERE egen.mall_id = " + pro2 + ";";

   sqlstatus = executeWriteSqlQuery(sqlinsertstringfull);

   return "These values has been added to the db" + pro1 + " and " + pro2 + " SQL STATUS:" + sqlstatus;
} 
```

在我后面的代码中，我这样做是为了调用正确的函数（下面的那个与 webmethod 无关，之前它只是为了说明许多 SQL QUERIES 之一。

```
 protected void laggtillnymallbutton_Click(object sender, EventArgs e)
{
    WebService globalwebservice = new WebService();

    if (string.IsNullOrWhiteSpace(laggtillnymall.Text))
    {
        Label1.Text = "String cannot be empty or just whitespaces!";
    }
    else
    {
        globalwebservice.laggtillmall(laggtillnymall.Text.Trim());
        Label1.Text = "Template added";
    } 
```

我不能以更有效的方式做到这一点。我已经构建了一个通用方法，所有 webmethod 都使用它来插入数据或读取数据，为我节省了一些代码，但我见过像 LINQ 这样的东西。那代码比我少得多。请帮助我或指出一种不那么古老的编码方式；）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T14:10:31.587

嗯，让我看看……

*   您无法将业务逻辑与 DAL 分离，这是一种非常糟糕的方法。数据访问应该在一个完全独立的层，它不属于 web 服务。

*   您的代码非常容易受到 SQL 注入[https://www.owasp.org/index.php/SQL_Injection](https://www.owasp.org/index.php/SQL_Injection)的攻击。相反，您应该根据需要使用参数化查询 [http://www.techrepublic.com/article/shorten-development-time-by-using-parameterized-queries-in-adonet/6093390](http://www.techrepublic.com/article/shorten-development-time-by-using-parameterized-queries-in-adonet/6093390) 或存储过程。

*   你的命名约定也不是很好......在.NET中，我们通常更喜欢使用camelCase，而不是“thisismysuppaduppamethod”，并且你的变量名不是很清楚。请记住，您不是在为机器编写代码，而是为人们阅读。代码应该易于阅读，任何查看您的代码的人都必须立即理解其目的是什么。我非常怀疑，如果您将来需要修改代码，比如说在 2-3 年后，您会立即看到 string pro1, int pro2 的实际含义，而无需深入研究代码。

*   我建议使用英语而不是您的母语。如果您需要有关代码的帮助（或向您的团队介绍一位新同事），这通常被认为是一种优越的做法，因为您不必解释“这代表什么？？”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T13:51:32.627

我认为您要问的是访问数据库的更好方法。对于初学者，您应该研究[Linq-To-SQL](http://msdn.microsoft.com/en-us/library/bb386976.aspx)和[实体框架。](http://msdn.microsoft.com/en-us/data/ef.aspx)这些技术提供了一种更现代且更易于使用的方法来处理您的数据存储。

# iphone - 以编程方式选择 UIView

> ID：11591204
> 
> 赞同：0
> 
> 时间：2012-07-21T09:59:52.173
> 
> 标签：iphone, ios, uiview, uigesturerecognizer, uitapgesturerecognizer

在我的应用程序中，我想以`UIView`编程方式进行选择。如何以`UIView`编程方式选择？

```
If(UIView is selected programmatically || UIView is tapped){

          invoke tapGesture Action
} 
```

是否可以？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T10:28:21.723

UIView 本身不支持选择，尽管一些子类支持。例如， UITableViewCell 有一个`selected`属性可以修改单元格如何绘制自身。

如果您想模仿用户点击视图时发生的情况，您将做两件事：

*   提供与用户点击该视图时相同的反馈。这可能意味着重绘视图、执行动画、播放声音或这些的组合。

*   执行与用户点击视图相同的操作。

因此，如果视图是一个按钮，您可以将其`highlighted`状态设置为 YES，等待 0.2 秒，然后将其设置回之前的状态。接下来，在按钮的目标上调用按钮的操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T10:04:46.687

在视图中添加一个`UITapGestureRecognizer`：

```
UITapGestureRecognizer *tapGR = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(aMethodToBeCalled)];
[yourView addGestureRecognizer:tapGR]; 
```

实现该`aMethodToBeCalled`方法并在此处执行任何需要调用的操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T10:28:34.363

我想你想选择子视图。

您可以使用以下方法标记初始化视图：

```
UIView *exampleView = [UIView alloc] init];
[exampleView setTag:1]; 
```

添加视图：

```
[self.view addSubView:exampleView]; 
```

当您想调用视图时，只需使用：

```
[self.view viewWithTag:1]; 
```

# javascript - Javascript 代码中的触发事件

> ID：11591207
> 
> 赞同：2
> 
> 时间：2012-07-21T09:59:59.830
> 
> 标签：javascript, asp.net

如果用户尝试离开页面，我有以下 javascript 来提示用户。将出现一个对话框，其中包含 2 个按钮“离开此页面”和“留在此页面上”。我想引起一个回发，它会触发一个 C# 事件。

我希望在按下“离开此页面”按钮时发生此回发。

我怎样才能做到这一点？请原谅我对 Javascript 很陌生。

```
<script type="text/javascript" language="JavaScript">
var needToConfirm = true;

window.onbeforeunload = confirmExit;
function confirmExit() {
    if (needToConfirm)
        return "You have attempted to leave this page. This will CANCEL your current order selection.";
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T12:54:58.367

这里的主要挑战是在用户真正离开页面之前执行 JavaScript 函数，问题是处理`onbeforeunload`事件，你无法对用户的选择做出反应，因为为了让这个事件**在多浏览器**场景中工作，你必须返回将用作消息的字符串，每个浏览器将创建一个自定义对话框，该对话框将显示给用户。我还没有找到更好的方法来做你需要的。基本上你不能覆盖浏览器的默认行为，你不能返回一个布尔值来指示页面是否应该被卸载。

欲了解更多信息：

*   [如何覆盖 OnBeforeUnload 对话框并将其替换为我自己的？](https://stackoverflow.com/q/276660/1268570)

*   [jQuery UI 对话框 OnBeforeUnload](https://stackoverflow.com/q/1889404/1268570)

[来自 MSDN](http://msdn.microsoft.com/en-us/library/ms536907%28VS.85%29.aspx)

> 将字符串分配给 window.event 的 returnValue 属性时，会出现一个对话框，让用户可以选择留在当前页面并保留分配给它的字符串。对话框中显示的默认语句“您确定要离开此页面吗？...按 OK 继续，或按 Cancel 留在当前页面。”**无法删除或更改。**

所以在这个例子中，我提出了一个解决方法，我不确定这是否是最好的方法，但我在几家在线银行和微软本身在他们的网站注销时看到了这样的行为。

例子：

### ASPX

```
<script type="text/javascript" src="Scripts/jquery-1.7.2.min.js"></script>
<script type="text/javascript">
    function showConfirmOnLeave() {
        return $("#showConfirm").prop("checked");
    }
    function onLeavePage() {
        if (showConfirmOnLeave()) {
            return "Don't goo";
        }
        else {
            return undefined;
        }
    }
    $(function () {
        if ($("body").attr('onbeforeunload') == null) {
            $("body").attr('onbeforeunload', 'return onLeavePage(event)');
        }
        $(window).unload(function (event) {
            if (showConfirmOnLeave()) {
                window.open(
                    '<%: this.ResolveClientUrl("~/CallOnLeave.aspx") %>',
                    "_blank",
                    "height=100, location=no, menubar=no, resizable=no, scrollbars=no, status=no, titlebar=no, toolbar=no, width=100, left=1, top=1",
                    false
                );
            }
        });
    });
</script>

<input type="checkbox" id="showConfirm" />  Show confirm on exit? 
```

### CallOnLeave.ASPX 代码后面

```
 protected void Page_Load(object sender, EventArgs e)
    {
        // add here your custom code, ideally fire a new async thread to execute your commands on the background
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:10:14.480

`window.confirm()`与_`__doPostBack`

**像这样的东西**

```
window.onbeforeunload = confirmExit;
function confirmExit() {
    if (confirm("Want to exit ??"))
          __doPostBack('btnSave ', "exit confirmed");

} 
```

更多关于`__doPostBack` [去这里](https://stackoverflow.com/questions/3591634/how-to-use-dopostback)

注意：`window.onbeforeunload`当用户单击关闭并且窗口即将关闭时会引发事件，因此在我测试它时它肯定会转到服务器端，但请求会在客户端关闭时崩溃，并且您的服务器端代码执行将停止。因此，这不是做事的更好方法。

# sql - 获取用户在表中所有用户中的排名

> ID：11591209
> 
> 赞同：0
> 
> 时间：2012-07-21T10:00:19.413
> 
> 标签：sql, database, rank

我有一张这样的桌子

```
userEmail | views

  A          8
  B          3
  C          4
  A          2
  B          5 
```

我想获得特定用户的排名，比如 B ..

我正在做的是：

```
SET @rank=0;
select @rank:=@rank+1 AS rank , userEmail,sum(views) as views from mtable where userEmail != 'null' Group By userEmail Order By views DESC 
```

这将输出如下内容：

```
rank  | userEmail | views

  1        A          10
  2        B           8
  3        C           4 
```

我可以获得所有用户的排名，但如果我只想查看一个用户的排名怎么办？

如果我`where userEmail = 'B'`输入上述查询

我会得到这个：

```
rank  | userEmail | views

  1        B           8 
```

但它应该是这样的：

```
 rank  | userEmail | views

  2          B           8 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:29:59.767

正如 Gordan 指出的那样，我的第一个答案不是很标准。这是做同样事情的标准方法。

```
SELECT T.userEmail, T.views, RANK() OVER (ORDER BY T.views DESC) AS viewRank
FROM (
  select userEmail,sum(views) as views 
  from mtable 
  where userEmail != 'null' 
  Group By userEmail) AS T
Order By T.views DESC 
```

在 sql server 2005+ 和 Oracle（使用子句）中有一种特殊的方法可以做到这一点，`OVER`但一般的答案（你必须与 mysql 一起使用）是使用 where 子句。像这样：

```
SET @rank=0;

SELECT T.rank, T.userEmail, T.views 
FROM (
  select @rank:=@rank+1 AS rank , userEmail,sum(views) as views 
  from mtable 
  where userEmail != 'null' 
  Group By userEmail Order By views DESC ) AS T
WHERE T.userEmail='somename@somewhere.com' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:33:10.953

在 SQL 中，可以使用临时表的用户检查下面的查询是否相同。

```
create table #tmp (randomno int,email varchar(10),viewsum int)
insert into #tmp select  ROW_NUMBER() over (order by sum(vi) desc) as 'rank', email,SUM(vi) 
from test
 group by email

select * from #tmp where email = 'B'
 drop table #tmp 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T12:46:27.833

我正在回答这个问题，因为@Hogan 声称有一个通用的方法。有一种适用于所有 SQL 数据库的通用方法，但事实并非如此。

一般方法需要自联接：

```
select t.useremail, t.views, count(*) as rownumber
from t left join
     t tless
     on t.useremail = tless.useremail and
        t.views >= tless.views
group by t.useremail, t.views 
```

如果视图上有重复，则以下相当于密集排名：

```
select t.useremail, t.views, count(distinct tless.views) as denserank
from t left join
     t tless
     on t.useremail = tless.useremail and
        t.views >= tless.views
group by t.useremail, t.views 
```

而且，由于查询没有明确提及数据库，因此在大多数数据库中，您可以简单地使用：

```
select t.usermail, t.views, row_number() over (partition by usermail order by views)
from t 
```

# .net - WSDL 中的哪个元素标识服务在服务器端是否是异步的？

> ID：11591214
> 
> 赞同：0
> 
> 时间：2012-07-21T10:01:04.227
> 
> 标签：.net, wcf, web-services, asynchronous, wsdl

WSDL 中的哪个元素标识服务在服务器端是否是异步的？我正在使用 WCF 编写异步 Web 服务。尽管我通过 Begin 和 End 方法以及 AsyncPattern=true 属性遵循了 WCF 中用于异步服务的常用模式，但它的 wsdl 文件没有指示服务在服务器端是异步的元素。消费客户端不必知道服务在服务器端是否是异步的吗？因此，wsdl 中不应该有一个元素来告诉客户同样的事情吗？

# java - 将对象列表从 Android 传递到 RESTful Web 服务

> ID：11591217
> 
> 赞同：1
> 
> 时间：2012-07-21T10:01:12.417
> 
> 标签：java, android, rest

使用 Luke 的[RestClient](http://lukencode.com/2010/04/27/calling-web-services-in-android-using-httpclient/) for Android 并像这样调用它：

```
 String baseurlString = "http://10.0.2.2:8080/WebTest/jaxrs/ws/testlist";
    RestClient client = new RestClient(baseurlString);

    String list = "<?xml version='1.0' encoding='UTF-8' standalone='yes'?><pairs><pair><_id>1</_id><_version>12</_version></pair></pairs>";
    client.AddParam("list", list);
    client.AddHeader(ContentType, MediaType.UrlEncoded);

    try
    {
        client.Execute(RequestMethod.POST);

    }
    catch (Exception e)
    {
        e.printStackTrace();
    }

    String responseString = client.getResponse(); 
```

像这样休息方法：

```
@POST
@Path("testlist")
@Consumes("application/x-www-form-urlencoded")
@Produces("application/xml")
public List<Pair> insertList(@FormParam("list") List<Pair> pairs)
{
    return pairs;
} 
```

由于没有 List 按预期工作：

```
@POST
@Consumes("application/x-www-form-urlencoded")
@Produces("application/xml")
public Pair insertValue(@FormParam("pair") Pair pair)
{
    return pair;
} 
```

我究竟做错了什么？

# android - 如何设置 EditText 以在最后一行显示暂停点而不将文本剪切出边界

> ID：11591219
> 
> 赞同：0
> 
> 时间：2012-07-21T10:01:31.747
> 
> 标签：android, android-edittext

我有一个`EditText`大小为 300dp * 300dp 的视图。

此 EditText 用于显示从服务器接收到的一些描述的预览，因此如果文本太长，则在最后一行显示剪切。我希望在文本太长的情况下，在最后一个完全可见的行的末尾显示悬挂点以避免截断错误

例子

如果对于文本

```
Lorem ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. 
```

如果最大可见文本仅为

```
Lorem ipsum dolor sit amet, consectetur adipisici elit, 
```

EditText 应该显示

```
Lorem ipsum dolor sit amet, consectetur adipisici... 
```

有什么解决办法吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-21T10:18:33.917

如果您的消息是从服务器获得的描述，并且用户编辑它是没有用的，为什么不使用它`TextView`呢？

```
 <TextView
        ...
        android:ellipsize="end"
        android:singleLine="true" /> 
```

同样你可以实现`EditText`，但你也必须设置`android:editable="false"`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:40:39.220

您可以使用 Paint 类中的 measureText 测量文本[的](http://developer.android.com/reference/android/graphics/Paint.html)宽度[。](http://developer.android.com/reference/android/graphics/Paint.html#measureText%28java.lang.String%29)如果文本对于视图来说太长，只需搜索适合该宽度的子字符串。

例如，如果`view`是`EditText`：

```
String text = "Lorem ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua.";
String subtext = text;
Paint paint = view.getPaint();

while( paint.measureText(subtext) > view.getWidth() ) {
    subtext = subtext.substring(0, subtext.lastIndexOf(' '));
}

view.setText(subtext + "..."); 
```

# c++ - 静态变量的初始化：位置相关？

> ID：11591221
> 
> 赞同：1
> 
> 时间：2012-07-21T10:01:45.320
> 
> 标签：c++, oop

我有以下文件：

H文件

```
class myclass
{
   static int variable;

   // constructor
   myclass();
} 
```

cp文件

```
// initialize this variable
int myclass::variable = 0;

myclass::myclass()
{
   // I use here the static variable
} 
```

我的问题是：什么时候初始化静态变量？首先还是在构造函数之后？

如果我把

```
int myclass::variable = 0; 
```

类构造函数定义之后的行？在类的对象被实例化之前它还会被初始化吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T10:03:06.970

像这样的静态将在应用程序启动时初始化，我假设这将在您实例化“myclass”之前进行。

基本上，由于这个原因，你在哪里定义它并不重要。

但是，如果您创建“myclass”的全局副本，那么我相信您会遇到问题。将定义放在变量初始化之前是完全合法的，例如

```
myclass globalInstance;
int myclass::variable = 0; 
```

在上述情况下，我很确定 myclass 的构造函数将在变量初始化之前被调用。在这种情况下，最好在变量之后定义 myclass。

编辑：见[http://www.parashift.com/c++-faq/static-init-order.html](http://www.parashift.com/c++-faq/static-init-order.html)

# django - Django Session 不够用

> ID：11591224
> 
> 赞同：-2
> 
> 时间：2012-07-21T10:01:48.367
> 
> 标签：django, session, localhost

当我在 django 1.4 中打开会话时，一切都很好。如果我使用一些表单流程重定向我的页面，我可以阅读我的会话

*例子 ：*

```
<form id="processForm" action="http://localhost:8000" method="post">{% csrf_token %} 
   <input type="submit" value="Search"></input>
</form> 
```

我在 localhost:8000 和 memcached 工作。问题是当我打开会话后，如果我在浏览器上搜索 localhost:8000，我无法读取会话，就像它永远不会退出一样。

代码：

**视图.py**

```
def search(request):     
    c = {}
    c.update(csrf(request))
    if request.session.get('name'):
        c.update({ 'hellomsg' : 'Hello:' + request.session["name"] })
    else:
        c.update({ 'hellomsg' : 'Hello: Guest' })        
    if request.method == 'POST':
        if request.POST['q']:
            if not request.POST['q'] == "false":                
                c.update({ 'output' : request.POST['q'] })
    return render_to_response("form.html", c, context_instance= RequestContext(request))

def open_session(request):
    c = {}    
    c.update(csrf(request))
    if not request.session.get('name'):
        if request.POST['nametxt']:
            request.session['name'] = request.POST['nametxt']
            c.update({ 'hellomsg' : 'Hello:' + request.POST['nametxt'] })
        else:
            c.update({ 'hellomsg' : 'Error...'})
    else:
        c.update({ 'hellomsg' : 'You're already logged in...'})
    return render_to_response("form.html", c, context_instance= RequestContext(request))

def close_session(request):
    c = {}
    c.update(csrf(request))
    if request.session.get('name'):
        try:
            del request.session['name']
            c.update({ 'hellomsg' : 'logged out...'})
        except KeyError:
            pass
    else:
        c.update({ 'hellomsg' : 'Error'})        
    return render_to_response("form.html", c, context_instance= RequestContext(request)) 
```

**网址.py**

```
urlpatterns = patterns('',
    ('^$', search),
    ('^session/$', open_session),
    ('^csession/$', close_session),
) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T18:40:19.097

会话是在 Django 中自动创建的。请参阅[此](https://docs.djangoproject.com/en/1.4/topics/http/sessions/)页面。

要读取或写入会话，您可以执行`request.session['someting']`

# mysql - 主键 id 达到 bigint 数据类型的限制

> ID：11591228
> 
> 赞同：7
> 
> 时间：2012-07-21T10:02:27.163
> 
> 标签：mysql, int, primary-key, auto-increment, bigint

我有一个表定期暴露于大型插入和删除（因此在主 id 列的数字序列中有很大的差距）。它有一个“int”类型的主 id 列，该列已更改为“bigint”。尽管发生了这种变化，这种数据类型的限制也将不可避免地在未来的某个时候被超过（目前的使用情况表明明年左右会出现这种情况）。

您如何处理这种情况？我想知道（震惊）我是否甚至需要主键列，因为它没有在任何查询中以任何明显的方式使用或被其他表等引用。删除该列是一个解决方案吗？或者这种行为会让你厌恶地被 mysql 社区开除？！

我们的自动增量 ID 已经接近 5 亿大关。该表将与文件数据关联的关键字保存在单独的表中。每个文件数据行在关键字表中可能有多达 30 个与之关联的关键字，因此在您不断插入和删除数以万计的文件之后，它们才真正开始堆积起来。目前，关键字表包含关键字和与之关联的文件的 id，所以如果我去掉当前的主 id 列，除了关键字 (varchar) 和文件 id (int) 字段组合之外，将没有唯一标识符，这将是一个糟糕的主键。

非常感谢所有想法/答案/经验/解决方案。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-06-05T09:47:24.617

我知道它已经在一年前得到了回答，但只是为了继续 Luc Franken 的回答，

如果每秒插入 5 亿行，大约需要 1173 年才能达到 BIG INT 的极限。所以是的，我想不用担心

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-07-21T10:08:40.930

如果您不需要该列，因为您有另一个唯一的记录标识符。就像提供的 measure_id 或其他任何内容，甚至是组合键：measurement_id + location_id 一样，不需要使用自动增量键。如果有任何机会，您将不会拥有唯一的密钥，而不是确定一个。

[如果我需要一个非常大的自动增量 ID 怎么办？](https://stackoverflow.com/questions/5762327/mysql-what-if-i-need-a-very-very-big-autoincrement-id)

你真的确定你有这么多的插入和删除，你会达到极限吗？

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2016-12-28T00:33:53.367

如果我们每秒向表中插入 10 万（100,000）条记录，则需要 2,924,712 年

如果我们每秒向表中插入 100 万（1,000,000）条记录，则需要 292,471 年

如果我们每秒向表中插入 1000 万（10,000,000）条记录，则需要 29,247 年

如果我们每秒向表中插入 1 亿条记录，则需要 2,925 年

如果我们每秒向表中插入 10 亿条记录，则需要 292 年

**所以不用担心**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-03-06T01:50:16.130

也许为时已晚，但您可以在 DELETE 中添加触发器，

这是 SQL SERVER 中的示例代码

```
CREATE TRIGGER resetidentity
    ON dbo.[table_name]
    FOR DELETE
AS
    DECLARE @MaxID INT
    SELECT @MaxID = ISNULL(MAX(ID),0)
    FROM dbo.[table_name]
    DBCC CHECKIDENT('table_name', RESEED, @MaxID)
GO 
```

简而言之，这将重置您的 ID（如果它是自动增量和主要的）。例如：如果您有 800 行并删除了其中的最后 400 行，则下次插入时，它将从 401 而不是 801 开始。

但缺点是如果你在中间记录上删除它不会重新排列你的 ID。EX 如果你有 800 行并删除了 ID 200-400，下次你写新行时 ID 仍然计数为 801

# delphi - 滚动时的 TcxGrid 奇怪行为

> ID：11591229
> 
> 赞同：0
> 
> 时间：2012-07-21T10:02:29.513
> 
> 标签：delphi, user-interface, devexpress, tcxgrid

我们在 Delphi XE 上有 ExpressQuantumGrid 6.53，从中我们使用`TcxGrid`带有`TcxGridDBBandedTableView`类的组件作为视图。

最烦人的问题之一是网格滚动的方式。IOW，而不是在屏幕上移动光标/当前记录，网格将光标保持在原位并滚动它的缓冲区。

举个例子：

我们在数据集中间有以下记录：

```
...
100
101 
102---------------< Let's say that this is the current record
103
104
105
106
107
108
... 
```

当单击记录`106`时，它期望有这样的屏幕（光标会移动）：

```
...
100
101 
102
103
104
105
106---------------< This is the current record
107
108
... 
```

...但它看起来像这样（记录移动 - 非常烦人）：

```
...
104
105
106---------------< This is the current record
107
108
109
110
111
112
113
114
... 
```

我们如何才能实现期望的行为？

PS：*grid.view*的一些道具可能会有所帮助：

`DataController.DataModeController.GridMode := True` `DataController.Options.dcoFocusTopRowAfterSorting := False` `OptionsSelection.MultiSelect := True`

有什么线索吗？

# c# - WPF中的MediaElement从流中播放视频？

> ID：11591231
> 
> 赞同：9
> 
> 时间：2012-07-21T10:02:51.980
> 
> 标签：c#, wpf, video

我有一个元素：

```
<MediaElement x:Name="bgvideo" Width="800" Height="600" /> 
```

我有一个流视频：

```
Stream stream = obj.GetFileStream(); 
```

我想将流对象用于源`MediaElement`，但默认`MediaElement` 使用`source`属性。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2020-08-28T11:32:02.267

目前 Vlc.Dotnet 对 libvlc 4 的支持没有计划[（参考）](https://github.com/ZeBobo5/Vlc.DotNet)。您可以使用此[nuget.org](https://www.nuget.org/profiles/videolan)库或其[代码存储库中的 Videolan.LibVLC 库](https://code.videolan.org/videolan/libvlc-nuget)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-08-16T05:08:20.647

出色的 Vlc.DotNet 库有助于解决此问题 - 更多开销，但将 VLC 流功能与 WPF 集成以实现您的目标。对于大多数项目类型，还有其他选项。

[在这里查看](https://www.nuget.org/packages/Vlc.DotNet.Wpf/)

# google-analytics - 谷歌分析[[GANTracker sharedTracker] stopTracker]；

> ID：11591241
> 
> 赞同：5
> 
> 时间：2012-07-21T10:04:05.137
> 
> 标签：google-analytics, google-analytics-api

现在，我在我的 Ipad 应用程序中使用 Google Analytic 来跟踪浏览量和事件，我在下面为我的所有 viewController 和按钮单击事件实现了代码，但是当我的视图消失时，我的应用程序停止/崩溃。我已将 stopTracker 代码`[[GANTracker sharedTracker] stopTracker];`放入 viewWillDisappear 方法中。

```
[[GANTracker sharedTracker] startTrackerWithAccountID:@"UA-12345678-1"
                                       dispatchPeriod:kGANDispatchPeriodSec
                                             delegate:nil];

NSError *error;
if (![[GANTracker sharedTracker] setCustomVariableAtIndex:1
                                                     name:@"iPad3"
                                                    value:@"iv1"
                                                withError:&error]) {
    // Handle error here
}

if (![[GANTracker sharedTracker] trackEvent:@"my_category"
                                     action:@"my_action"
                                      label:@"my_label"
                                      value:-1
                                  withError:&error]) {
    // Handle error here
}

if (![[GANTracker sharedTracker] trackPageview:@"/app_entry_point_prashant"
                                     withError:&error]) {
    // Handle error here
}
[[GANTracker sharedTracker] stopTracker]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T06:16:40.993

尝试将对 stopTracker 的调用移至 AppDelegate 的 dealloc 方法。使其成为该方法中的第一行。

您应该只调用一次 stopTracker 并且应该在我上面提到的地方。您还应该将共享跟踪器的初始化移出 viewControllers 并移入 appDelegate 的 appDidFinishLaunching 方法，这应该只发生一次。

应该只有一个共享跟踪器在应用程序启动时初始化，并在应用程序终止时最终“停止”。

# android - 使用 ACTION_IMAGE_CAPTURE 访问相机

> ID：11591243
> 
> 赞同：2
> 
> 时间：2012-07-21T10:04:13.687
> 
> 标签：android, android-intent, android-camera

我要做的是创建一个新文件夹并将相机捕获的图像保存在该文件夹中。我正在尝试使用以下片段来实现它：

```
public class DocsAdd extends Activity
{   
    private static int TAKE_PICTURE = 1;
    private Uri outputFileUri;
    Bitmap thumbnail;
    @Override
    public void onCreate(Bundle savedInstanceState) 
    {
        super.onCreate(savedInstanceState);
        Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);        
        intent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);
        File filename;
        try 
        {
            long currentTime = System.currentTimeMillis();
            String fileName = "img" + currentTime+".jpg";
            String path = Environment.getExternalStorageDirectory().toString();             
            filename = new File(path + "/AutoistDiary/"+ fileName);
            FileOutputStream out = new FileOutputStream(filename);            
            out.flush();
            out.close();     
            MediaStore.Images.Media.insertImage(getContentResolver(),filename.getAbsolutePath(), filename.getName(), filename.getName());

          outputFileUri = Uri.fromFile(filename);
        } 
        catch (Exception e) 
        {
            e.printStackTrace();
        }
        intent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);
        startActivityForResult(intent, TAKE_PICTURE);
    }
    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) 
    {
        if (requestCode == TAKE_PICTURE)
        {
            Uri imageUri = null;            
            if (data!=null) 
            {
                if (data.hasExtra("data")) 
                {
                    thumbnail = data.getParcelableExtra("data");
                    Intent docsShow_intent=new Intent(this,DocsShow.class);
                    startActivity(docsShow_intent);
                }
            } 
            else 
            {
            }

        }  
    }
} 
```

但是当我在 Optimus1 上运行它时，它没有向我的活动返回任何结果，遇到了一个链接[Camera on Android Example](https://stackoverflow.com/questions/8449414/camera-on-android-example)，它说明了我目前面临的相同问题，因此可以帮助我解决这个问题。?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T10:16:52.650

不幸的是，当您在相机的意图中使用标志时，某些设备上存在一个错误，导致`Intend data`参数 in`onActivityResult`为空。`MediaStore.EXTRA_OUTPUT`一种解决方法是保持`outputFileUri`变量全局，以便您可以在您的`onActivityResult`方法中再次访问它。像这样的东西：

```
Uri outputFileUri; //global variable

Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
File photo= new File(Environment.getExternalStorageDirectory(), "Autoist Diary"); 

if (! photo.exists())  
{  
    photo.mkdirs();  
    if (! photo.mkdirs())  
    {  
        Log.i("MyCameraApp", "failed to create directory");  
    }  
}  
puc_img=new File(photo,"Puc_Img.jpg");  
outputFileUri = Uri.fromFile(photo);  
intent.putExtra(MediaStore.EXTRA_OUTPUT,outputFileUri);  
StartActivityForResult(intent, TAKE_PICTURE);  

public void onActivityResult(int requestCode, int resultCode, Intent data)  
{  
    super.onActivityResult(requestCode, resultCode, data);  
    switch (requestCode)   
    {  
       case TAKE_PICTURE:  
           if (resultCode == Activity.RESULT_OK)   
           {                   
               if(data != null) { //if the intent data is not null, use it
                  puc_image = getImagePath(Uri.parse(data.toURI())); //update the image path accordingly
                  StoreImage(this,Uri.parse(data.toURI()),puc_img);
               }
               else { //Use the outputFileUri global variable
                  StoreImage(this,outputFileUri,puc_img);
               }
           }   
       break;
    }  
}  
public static void StoreImage(Context mContext, Uri imageLoc, File imageDir)  
{  
    Bitmap bm = null;  
    try   
    {  
        bm = Media.getBitmap(mContext.getContentResolver(), imageLoc);  
        FileOutputStream out = new FileOutputStream(imageDir);  
        bm.compress(Bitmap.CompressFormat.JPEG, 100, out);  
        bm.recycle();  
    }  
    catch (FileNotFoundException e)   
    {  
        e.printStackTrace();  
    }  
    catch (IOException e)   
    {  
       e.printStackTrace();  
    }  
    catch (Exception e)   
    {  
        e.printStackTrace();  
    }  
}
public String getImagePath(Uri uri) {
    String selectedImagePath;
    // 1:MEDIA GALLERY --- query from MediaStore.Images.Media.DATA
    String[] projection = { MediaStore.Images.Media.DATA };
    Cursor cursor = managedQuery(uri, projection, null, null, null);
    if (cursor != null) {
        int column_index = cursor
                .getColumnIndexOrThrow(MediaStore.Images.Media.DATA);
        cursor.moveToFirst();
        selectedImagePath = cursor.getString(column_index);
    } else {
        selectedImagePath = null;
    }

    if (selectedImagePath == null) {
        // 2:OI FILE Manager --- call method: uri.getPath()
        selectedImagePath = uri.getPath();
    }
    return selectedImagePath;
} 
```

这种解决方法对我有用。希望有帮助。

# jsp - 获取我正在回复的“评论”的 ID（JSP）

> ID：11591246
> 
> 赞同：0
> 
> 时间：2012-07-21T10:04:18.113
> 
> 标签：jsp, servlets

我创建了一个 for 循环来显示来自数据库、文本字段和按钮的所有值。因此，对于显示的每个值，都会有一个文本字段和“回复”按钮。因此，当我单击“回复”按钮时，文本字段中的文本以及我正在“回复”的值的 id 将被存储到数据库中。但是我想如何获得我正在“回复”的特定值的 id 呢？下面是jsp页面中的代码

```
 <%  
    ConnectionDB uDB = new ConnectionDB();
    Comment[] comment = uDB.getComment();
        %> 
    <%
     for (int i = 0; i < comment.length; i++) {
    %> 
             <%=uDB.getMemberName(comment[i].getMemberId()).getFirstName()%>
             <%=uDB.getMemberName(comment[i].getMemberId()).getLastName()%>
             <%=comment[i].getCommentDesc() %>
          <br><input type="text" name="replycommenttxt" size="20"> 
              <input type="submit" name="replycommentbutton" value="reply"  >
    <% } %> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T10:09:53.063

将其存储在表单的隐藏字段中：

```
<input type="hidden" name"parentCommentId" value="<%= comment[i].getId() %>" /> 
```

您应该真正了解 JSP EL、JSTL 和 MVC 模式。从 JSP 中的数据库读取数据并使用 scriptlet 是非常糟糕的做法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-18T00:21:38.440

您必须使用带有“for”子句的“ParameterValues”来获取您想要的其他 ID。

```
Member m = (Member)session.getAttribute("memberinfo");
String[] parentCommentId=request.getParameter("parentCommentId"));
replycomment.setMemberId(m.getMemberId()); replycomment.setCommentdId(i);
replycomment.setReplyDesc(request.getParameter("replycommenttxt")); 
```

# iphone - 关于在应用购买中实现自动更新的问题

> ID：11591247
> 
> 赞同：0
> 
> 时间：2012-07-21T10:04:27.297
> 
> 标签：iphone, ios, ios4, in-app-purchase

我的应用程序将有非消耗性和自动更新订阅。我正在通过应用程序中的非消耗品购买个人歌曲。并计划通过订阅销售歌曲（歌曲组）。

我在我的应用程序中实现了应用程序购买中的非消耗品。我做的方式如下

```
1) Stored product identifiers from my web server.

2) fetched and displayed the products.

3) when the user taps "buy" for single song, the payment will be done and i will check the 
transaction receipt with apple server using my webserver.

4) if the receipt status is 0, i will make entry into my webserver database as that particular user has purchased that particular song.( by sending user id and product identifer)

5) then i deliver the content. 
```

这就是我的做法。现在我开始实施自动更新订阅。生成共享密钥并存储在 iPhone 应用程序中。

根据文档，在与苹果服务器验证交易收据时，还需要发送共享密钥。现在我想知道以下内容

```
1) does my non consumable in app purchase makes sense? or am i left anything?

2) for the auto renewable subscription, once the transaction receipt is valid, what are the information i need to store in my web server.i mean, how can i know when the subscription going to expire, expire date, etc ?

3) how to check whether the subscription is valid before delivering the content?

4) if my steps to do are wrong pls suggest me how can i proceed? please share your opinion
sorry to be dumb 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-23T07:20:54.287

1.  是的，我认为对于非消耗品，这是有道理的。由于您只购买一次，将信息输入您的网络服务器数据库应该没问题。

2.  交易收据正是您的信息来源：它不是“一次有效”，但要查明订阅是否已过期，您应该存储收据。在您的应用程序每次启动时（因为这会消耗资源），然后您可以再次将收据发送给 Apple“进行验证” - 实际上，这会检查 Appe 的订阅是否仍然有效（即已在适当的时候更新）。从 Apple 返回的答案包含（在 JSON 字典中）有关到期日期等的信息（请参阅此处[https://developer.apple.com/library/mac/#documentation/NetworkingInternet/Conceptual/StoreKitGuide/RenewableSubscriptions/RenewableSubscriptions .html#//apple_ref/doc/uid/TP40008267-CH4-SW2](https://developer.apple.com/library/mac/#documentation/NetworkingInternet/Conceptual/StoreKitGuide/RenewableSubscriptions/RenewableSubscriptions.html#//apple_ref/doc/uid/TP40008267-CH4-SW2) )

3.  然后，您可以存储订阅是否在您的应用程序中某处处于活动状态（非永久）的信息，以便您知道是否在实际运行期间交付内容。

# javascript - d3js - 柱形图 - 数据点对齐

> ID：11591248
> 
> 赞同：0
> 
> 时间：2012-07-21T10:04:32.887
> 
> 标签：javascript, graph, d3.js

![垂直/柱状条形图](../Images/4d2bed7919626adb9fd70dd292309add.png)
这是我使用 d3.js 制作的图表。我希望我的条以刻度值为中心 - 因为每组（3 个条）的中间条应与月份名称重合。有什么方法可以优雅地做到这一点吗？如果您需要有关数据集或图表功能的更多信息，请告诉我。

一些有用的代码

```
this.container.selectAll('g.container')
    .data(this.data)
  .enter().append('g')
    .attr('class', 'container')
    .attr('transform', function(d, i){
        console.log(d.dimension, this)
        var x = self.margin.left + self.xScale(d.dimension.value);
        var y = self.margin.top;
        return 'translate('+ x + ',' + y +')'
});

this.bars = this.container.selectAll('g.container')
    .selectAll('rect.bar')
    .data(function(d){ return d; })
  .enter()
    .append('rect')
    .attr('class', 'bar')
    .attr('width', 3)
    .attr('height', function(d){
        console.log(d.y, d.key, this);
        return availableHeight - self.yScale(d.y);
    })
    .attr('y', function(d){ return self.yScale(d.y); })
    .attr('x', function(d, i){ return i * 5 }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T10:48:55.063

您可以通过调整附加矩形`transform`的`g.container`或`x`属性来实现这一点。我会调整变换，即改变

```
.attr('transform', function(d, i){
  console.log(d.dimension, this)
  return 'translate('+ 
          (self.margin.left + self.xScale(d.dimension.value)) + ',' 
          + self.margin.top +')'
}); 
```

包括一些额外的空间（s之间的差异的一半`dimension.value`）。

# asp.net - 回发时是否可以操纵页面的静态内容

> ID：11591255
> 
> 赞同：0
> 
> 时间：2012-07-21T10:05:39.247
> 
> 标签：asp.net, validation

我正在使用标签来存储正在编辑的当前项目的 Id。然后用它来更新项目的数据。用户是否可以更改内容，例如标签控件的内容？我应该像文本框控件的输入一样对待这些控件吗？

如何阻止这种可能性？

编辑：我的意思是我应该像输入控件一样验证标签的内容吗？发回页面时，黑客是否可以更改标签内容？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:16:52.663

除了基于正常`input`的控件（例如`<asp:TextBox>`or `<input type="checkbox">`），在客户端动态更改的控件**不会**在回发时自动更新回服务器上......这将是`<asp:Label>`控件的情况。

因此，您需要使用客户端脚本将这些更改存储在`input`基于控件（可能像 a `<asp:HiddenField>`）中，然后在服务器上处理它们。

**更新**基于对问题的更新。

控件的内容`<asp:Label>`不会以与普通输入控件相同的方式回传到服务器。

内容是通过视图状态传递的，因此即使有人在浏览器中更改标签的值，它也不会反映在您的回发代码中。

# django - heroku 没有名为 _sqlite3 的模块

> ID：11591257
> 
> 赞同：2
> 
> 时间：2012-07-21T10:06:04.917
> 
> 标签：django, heroku, sqlite, pinax

尝试在 heroku 上部署 django 应用程序时，出现以下错误。我可以在本地测试。它工作正常。但是“heroku run python manage.py syncdb”会导致以下错误。我浏览了其他一些相关的帖子，但找不到满意的答案。

我有 python 2.7 和 django 1.3 并使用 sqlite3 作为数据库。我正在尝试在 heroku 上部署以下内容 - [https://github.com/Stackato-Apps/pinax-social](https://github.com/Stackato-Apps/pinax-social)。如果您需要更多信息，请告诉我。

```
Traceback (most recent call last):
  File "manage.py", line 31, in <module>
    execute_from_command_line()
  File "/app/.heroku/venv/lib/python2.7/site-packages/django/core/management/__init__.py", line 429, in execute_from_command_line
    utility.execute()
  File "/app/.heroku/venv/lib/python2.7/site-packages/django/core/management/__init__.py", line 379, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/app/.heroku/venv/lib/python2.7/site-packages/django/core/management/__init__.py", line 257, in fetch_command
    klass = load_command_class(app_name, subcommand)
  File "/app/.heroku/venv/lib/python2.7/site-packages/django/core/management/__init__.py", line 67, in load_command_class
    module = import_module('%s.management.commands.%s' % (app_name, name))
  File "/app/.heroku/venv/lib/python2.7/site-packages/django/utils/importlib.py", line 35, in import_module
    __import__(name)
  File "/app/.heroku/venv/lib/python2.7/site-packages/django/core/management/commands/syncdb.py", line 7, in <module>
    from django.core.management.sql import custom_sql_for_model, emit_post_sync_signal
  File "/app/.heroku/venv/lib/python2.7/site-packages/django/core/management/sql.py", line 5, in <module>
    from django.contrib.contenttypes import generic
  File "/app/.heroku/venv/lib/python2.7/site-packages/django/contrib/contenttypes/generic.py", line 6, in <module>
    from django.db import connection
  File "/app/.heroku/venv/lib/python2.7/site-packages/django/db/__init__.py", line 75, in <module>
    connection = connections[DEFAULT_DB_ALIAS]
  File "/app/.heroku/venv/lib/python2.7/site-packages/django/db/utils.py", line 91, in __getitem__
    backend = load_backend(db['ENGINE'])
  File "/app/.heroku/venv/lib/python2.7/site-packages/django/db/utils.py", line 32, in load_backend
    return import_module('.base', backend_name)
  File "/app/.heroku/venv/lib/python2.7/site-packages/django/utils/importlib.py", line 35, in import_module
    __import__(name)
  File "/app/.heroku/venv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py", line 34, in <module>
    raise ImproperlyConfigured("Error loading %s: %s" % (module, exc))
django.core.exceptions.ImproperlyConfigured: Error loading either pysqlite2 or sqlite3 modules (tried in that order): No module named _sqlite3 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-02T10:19:33.073

Heroku 不支持 SQLite3，您应该使用 Postgres 配置您的应用程序，如此处所述[https://devcenter.heroku.com/articles/django#database-settings](https://devcenter.heroku.com/articles/django#database-settings)

# sql - SQL选择随机行，但下次不重新选择它们

> ID：11591258
> 
> 赞同：0
> 
> 时间：2012-07-21T10:06:18.113
> 
> 标签：sql, random

我正在随机选择 50 个项目，但是当另一个电话被打时，我想选择另一个不包括之前选择的任何内容的随机 50 个。如何最好地做到这一点？是否有处理此问题的 SQL 语句？

```
// Collect 50 random entries
$stmt = $db->query('
SELECT * FROM db
ORDER BY RAND() 
LIMIT 50    
'); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T10:27:47.100

你的问题清楚地表明你没有做足够的研究，因为我刚刚发现了[这个](https://stackoverflow.com/questions/848872/select-n-random-rows-from-sql-server-table)

[从 SQL Server 表中选择 n 个随机行](https://stackoverflow.com/questions/848872/select-n-random-rows-from-sql-server-table)

# c#-4.0 - 如何在 C# 的 datareader 中使用 getstring？

> ID：11591262
> 
> 赞同：1
> 
> 时间：2012-07-21T10:07:01.837
> 
> 标签：c#-4.0

我想选择第一个 5 字符并在 stringarray 中分配，我尝试了以下代码，但它显示错误。我想选择每行的前 5 个字符并分配给 str。请给我一些想法。

```
public string[] str;
OleDbDataReader dr = cmd.ExecuteReader();
while (dr.Read())
{
    str = dr[0].GetString(4).tostring();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T10:07:47.710

只需使用将为您完成该任务的 SubString 函数

完整代码

```
List<string> strlst = new List<string>();
OleDbDataReader dr = cmd.ExecuteReader();

while (dr.Read())
{
    strlst.Add( Convert.ToString(dr[0]).Substring(0, 5)) ;
}
string[] strarray = strlst.ToArray(); 
```

# button - 在 j2me 中单击按钮打开网站？

> ID：11591265
> 
> 赞同：2
> 
> 时间：2012-07-21T10:07:56.500
> 
> 标签：button, java-me, web, launcher

您好我正在尝试在模拟器中打开一个网站作为点击按钮。请给我建议我该怎么做？我想在模拟器而不是浏览器中打开网站。请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T06:42:32.947

制作一个 MIDlet 对象并实现以下代码。

`private MIDlet m;`

`String url = "http://www.google.com";`

`MyMidlet.m = this;`

`m.platformRequest(url);`

此代码在我的应用程序中工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T20:44:39.950

Midlet.platformRequest() 可能是您正在寻找的。有关详细信息，请参阅[本文。](http://www.developer.nokia.com/Resources/Library/Java/#!developers-guides/invoking-applications/invoking-applications-in-java-me.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-22T16:57:08.397

如果您可以使用 LWUIT，请尝试[HTMLComponent](http://docs.oracle.com/javame/dev-tools/lwuit-1.4/LWUIT_Developer_Guide_HTML/bbjidhgf.html)

# jsp - 如果用户未登录，如何实现 java 安全性，如重定向..？

> ID：11591266
> 
> 赞同：1
> 
> 时间：2012-07-21T10:08:00.967
> 
> 标签：jsp, jakarta-ee

在 ASP.net 中，我们有一个功能，如果我们将一些网页放在一个文件夹中，并放置一些配置，即如果用户未登录则不允许进入该文件夹。如果他仍然尝试这样做，他将重定向到登录页面。

它在 Java EE 中的替代方案是什么？

我对 Java EE 很陌生，所以这方面的任何帮助对我来说都是很好的帮助。建议一些保护jsp页面的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:55:49.017

通过在 web.xml 文件中声明登录配置和安全约束，Java EE webapp 中存在相同的选项。阅读[教程](http://docs.oracle.com/javaee/5/tutorial/doc/bncbe.html#bncbn)以获取更多详细信息。

# javascript - 链接母版页时文件上传器插件不起作用？

> ID：11591268
> 
> 赞同：1
> 
> 时间：2012-07-21T10:08:06.783
> 
> 标签：javascript, jquery, asp.net

嗨，我有 jquery 文件上传插件，它工作正常，但是当我链接母版页时它不工作。下面是代码，请帮助我 ma aspx 页面

```
<asp:Content ID="Content1" ContentPlaceHolderID="ContentPlaceHolderForMainInfo" runat="server">
    <script type="text/javascript" src="../Scripts/jquery-ui-1.8.21.custom.min.js"></script>
    <script type="text/javascript" src="../Scripts/jquery.iframe-transport.js"></script>
    <script type="text/javascript" src="../Scripts/jquery.fileupload.js"></script>
     <script type="text/javascript">
         $(document).ready(function () {
             $('#fileupload').fileupload({
                 url: '<%=ResolveUrl("AjaxFileHandler.ashx")%>',
                 replaceFileInput: false,
                 dataType: 'json'
             });
         });
     </script>

        <input id="fileupload" runat="server" type="file" name="file"/>

</asp:Content> 
```

没有母版页意味着它是引人注目的文件处理程序文件，但是当我使用母版页时它不会请帮我解决这个问题

# php - 'where 子句'中的未知列，而列存在

> ID：11591271
> 
> 赞同：0
> 
> 时间：2012-07-21T10:08:22.113
> 
> 标签：php, mysql

我正在尝试更新 value = 0 的列排序，但它向我显示了这个错误

> 'where 子句'中的未知列'sort'

我正在使用以下查询

```
mysql_query("UPDATE `category` SET `sort`='1' WHERE `sort`='0'") 
```

排序列存在于数据库中，但我不知道它没有更新

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T10:12:36.887

查询是正确的。这意味着您的观察 -*当前选定数据库*的表中`sort`存在该列- 是不正确的。`category`

# .htaccess - 如何使用 htaccess 保持 js 和 css 文件的安全性

> ID：11591275
> 
> 赞同：0
> 
> 时间：2012-07-21T10:08:46.980
> 
> 标签：.htaccess

当访问者尝试从网页源代码访问 js 和 css 文件时，有什么方法可以隐藏或显示错误页面？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:14:39.080

不，因为浏览器需要能够加载它们才能使用它们。当浏览器将 JS/CSS 文件作为页面的一部分加载时，请求完全相同，而当用户尝试直接访问该文件时，您无法在服务器上进行任何区分。此外，用户可以在浏览器中检查已经加载的 JS/CSS 文件，而无需对资源进行任何额外的请求。

# android - 意向服务及其优势

> ID：11591280
> 
> 赞同：2
> 
> 时间：2012-07-21T10:09:22.067
> 
> 标签：android

任何人都可以分享使用`IntentService`而不是`AsycTask`线程甚至服务和线程的真正优势是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T10:43:07.177

**意图服务** 没有与主线程通信。在工作线程上运行。没有并行任务。所有请求都在单个工作线程上处理。

**线程** 自行运行。用于并行处理的多线程。

**服务** 在没有 UI 的主线程中运行。长时间运行的进程阻塞主线程。使用服务内的线程进行长时间运行的进程。

**AsyncTask** 长时间运行的进程与主线程通信。在工作线程中运行。

在决定在您的实现中使用哪一个之前，您必须知道每个的确切目的。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-21T11:23:14.967

使用 IntentService 有几个主要优点。

*   易于实施。它只有一种方法需要覆盖
*   易于传递数据。您只需使用意图附加机制
*   在您的应用中随处可用。它在 manifest.xml 中注册
*   处理多个意图。这些被排队并按顺序执行。
*   自终止。当队列中的意图被处理后，服务停止。

综合起来，这些优势使得 IntentService 机制既方便又强大。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-21T10:12:18.757

服务是一个应用程序组件，代表应用程序希望在不与用户交互的情况下执行更长时间运行的操作，或提供功能供其他应用程序使用。每个服务类必须在其包的 AndroidManifest.xml 中有相应的声明。可以使用 Context.startService() 和 Context.bindService() 启动服务。

请注意，服务与其他应用程序对象一样，在其托管进程的主线程中运行。这意味着，如果您的服务要执行任何 CPU 密集型（例如 MP3 播放）或阻塞（例如网络）操作，它应该生成自己的线程来完成这项工作。更多信息可以在进程和线程中找到。IntentService 类可作为 Service 的标准实现使用，它有自己的线程来安排要完成的工作。

AsyncTask 允许正确和轻松地使用 UI 线程。此类允许在 UI 线程上执行后台操作并发布结果，而无需操作线程和/或处理程序。

AsyncTask 被设计为围绕 Thread 和 Handler 的辅助类，并不构成通用线程框架。AsyncTasks 最好用于短时间的操作（最多几秒钟）。如果您需要保持线程长时间运行，强烈建议您使用 java.util.concurrent 包提供的各种 API，例如Executor、ThreadPoolExecutor 和 FutureTask。

异步任务由在后台线程上运行的计算定义，其结果在 UI 线程上发布。异步任务由 3 个通用类型定义，称为 Params、Progress 和 Result，以及 4 个步骤，称为 onPreExecute、doInBackground、onProgressUpdate 和 onPostExecute。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T10:50:09.457

`Service`即使用户没有与您的应用程序交互，也可以在后台运行。如果这是您的情况，请使用服务。如果`Thread`您需要不在主线程中执行某些工作，而仅在用户与您的应用程序交互时使用。典型的例子是在你的活动运行时播放音乐，而不是你创建线程。`AsyncTask`只是线程的辅助类。

服务在应用程序的主线程中运行，因此如果您正在执行一些阻塞操作，您仍然必须在服务中创建一个新线程，或者您使用`IntentService`已经为您完成的线程。`IntentService`只是一个带有工作线程的服务。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-03T02:43:44.073

我看到很多关于常规服务而不是 IntentServices 的讨论。我现在正在研究差异，主要是归结为您是要并行运行一堆事情（AsyncTask）还是要产生一个具有队列的工作线程。AsyncTask 似乎与 Activity 相关联，而 IntentService 似乎独立于它运行。

如果您曾经在活动之间进行过捆绑并处理过回调系统，那么 IntentService 就会变得非常简单。随意谈论 AsyncTask

我的大多数设计都倾向于 IntentServices 的排队方面。如果您使用的资源主要与 UI 线程分开运行，并且希望避免像单线程 CPU 这样对资源造成冲击，这将特别好。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-12-08T20:08:25.127

使用意图，您可以调整应用的用户体验或要求其他应用执行常见操作：拍照、发送电子邮件和 SMS 消息，甚至在地图上显示位置和播放媒体。本课程将教您利用 Android 的这一核心功能所需了解的所有知识。

# jasper-reports - 如果我的数据超过 100，如何将参数转换或替换为描述

> ID：11591291
> 
> 赞同：0
> 
> 时间：2012-07-21T10:10:43.633
> 
> 标签：jasper-reports, ireport

我在报告中声明参数描述时遇到问题。如果我的 id 有超过 100 个描述。如何在报表中显示数据？

例如，我有公司名单。我想在标题中显示公司名称。我的参数是 $P{companyid}。每个 id 都有一个描述。那是公司的名字。但数据有一百多个。如何在标签参数中显示名称。

怎么做？。

请帮我。：（

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-15T20:49:25.863

我认为最好的方法是在您的 SQL 语句中加入公司表并将描述字段添加到您的选择语句中。然后在报告的文本框中显示描述字段。

# android - 如果小部件不适合 LinearLayout，则缩小它们

> ID：11591292
> 
> 赞同：0
> 
> 时间：2012-07-21T10:11:24.403
> 
> 标签：android, android-layout, android-linearlayout

假设我有一个垂直的`LinearLayout`和几个`TextView`s`layout_height`设置为`wrap_content`。这样最后一个 TextView 在底部被剪裁： ![最后一个视图被剪裁](../Images/910a1485a0ee392c405a84b06e0c3f26.png)

设置`layout_height="match_parent"`和`layout_weight="1"`为每个`TextView`“解决”这个问题：![是否适合屏幕](../Images/cc76e8c02ee64283768391b15e008957.png)

不幸的是，这导致视图之间的间隔非常大`portrait layout`：![TextView 之间的间隔较大](../Images/b298f6b3b3a169b908353eeb7b634352.png)

那么，有没有办法在屏幕上排列项目，以便：

1.  它们都适合屏幕
2.  如果屏幕很大，它们应该一个一个放置，它们之间没有巨大的空间，但是底部有空闲空间？

提前非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T13:48:38.533

这是您应该为不同配置使用不同布局资源的情况之一。例如，根据您的示例，您可以有一个`layout-land`文件夹，用于当手机处于横向状态时，并且在该布局中使用 xml 布局，其中`TextViews`所有`layout_weight="1"`. 对于纵向（和默认布局），您可以在`layout`文件夹中有一个布局文件，例如`layout-land`您将在以下位置添加此元素的布局文件`TextViews`：

```
 <View        
        android:layout_width="wrap_content"
        android:layout_weight="3"
        android:layout_height="0dp" /> 
```

这个空`View`将“吸收”一些空白空间，因此您之间不会有太大的差距`TextViews`。

不同屏幕的不同布局文件可以通过对不同尺寸（正常、大、非常大）的屏幕结合不同的方向（纵向与横向）使用进一步细化的布局来改进。

当然，您可以编写自己的布局管理器来定位孩子`TextViews`，但这并不容易。

# asp.net - 来自库的 ASP.NET 中的嵌入式资源

> ID：11591294
> 
> 赞同：0
> 
> 时间：2012-07-21T10:11:46.897
> 
> 标签：asp.net

再会！我对 ASP.NET 有问题，我为它创建了库和嵌入式资源。当我在控制台应用程序中使用此库或在 Visual Studio 2010 中调试 ASP.Net 解决方案时，一切正常。这个资源找到了。但是当我尝试在 IIS 中发布这个 ASP.NET 解决方案时。IIS 得到我 System.IO.FileNotFoundException：找不到文件“test.txt”。at x28925c9b27b37a46.x220f433da4115056.xde6236852622c268(String x1c1fc72fe1a3b4ea, Assembly x39e0a96279c40baa) at x28925c9b27b37a46.x220f433da4115056.x7d0214bf69711dd9(String x1c1fc72fe1a3b4ea, Assembly x5807f920b6fc67c4) at AsposeLicenseTest._Default.Page_Load(Object sender, EventArgs e) in C:\test\TestCase\AsposeLicenseTest\Default .aspx.vb:line 9 我该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-20T04:00:05.547

听起来你遇到了这里描述的问题

[http://www.aspose.com/community/forums/thread/313503/setlicense-system.nullreferenceexception.aspx](http://www.aspose.com/community/forums/thread/313503/setlicense-system.nullreferenceexception.aspx)

# android - 无法使用 Fragment.setRetainInstance() 替代 Activity.onRetainNonConfigurationInstance()

> ID：11591302
> 
> 赞同：13
> 
> 时间：2012-07-21T10:13:23.510
> 
> 标签：android, android-fragments

根据 Android API 文档，[Activity.onRetainNonConfigurationInstance()](http://developer.android.com/reference/android/app/Activity.html#onRetainNonConfigurationInstance%28%29)已被弃用，取而代之的是[Fragment.setRetainInstance()](http://developer.android.com/reference/android/app/Fragment.html#setRetainInstance%28boolean%29)。

但是，我遇到了两种不同的情况，其中 Fragment.setRetainInstance() 似乎不可行。

1.  如果 Fragment 包含 WebView。根据[Diane Hackborne](https://groups.google.com/d/msg/android-developers/cWnxkQ8RLeY/RA1n77EDeR8J)的说法，您不能在配置更改时重复使用 WebView。我猜这意味着您需要允许 Fragment 在屏幕旋转时拆除并重新创建 WebView，并使用[WebView.saveState()](http://developer.android.com/reference/android/webkit/WebView.html#saveState(android.os.Bundle))和[WebView.restoreState()](http://developer.android.com/reference/android/webkit/WebView.html#restoreState(android.os.Bundle))来恢复 Web 视图状态。

2.  如果 Fragment 属于配置更改后不再存在的布局，当 FragmentManager 尝试恢复 Fragment 时，会抛出：

    ```
    java.lang.IllegalArgumentException: No view found for id 0x7f060091 for fragment 
    ```

    这可能会发生（例如），如果您在横向模式下有两个片段布局，但在纵向模式下有一个片段布局。从横向旋转到纵向时，如果 setRetainInstance() 设置为 true，则两个 Fragment 都不会被破坏，但一个 Fragment 不再具有要重新附加的有效视图，因此会出现异常。

因此，如果您正在构建基于 Fragment 的应用程序，并且您需要在配置更改之间保留数据（例如对运行 AsyncTasks 的引用），并且您不能使用[Fragment.setRetainInstance()](http://developer.android.com/reference/android/app/Fragment.html#setRetainInstance%28boolean%29)，并且没有 Fragment.onRetainNonConfigurationInstance ()，最好的方法是什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-04T02:18:50.310

即使您使用`Fragment.setRetainInstance()`，Fragment 仍然会在配置更改后拆除其视图并重新创建它。也就是说，`onDestroyView()`并将`onCreateView()`按该顺序调用。确保在`onDestroyView()`. 您不必担心重新使用 WebView - 将使用正确的`Activity`上下文重新创建新的 WebView。这有点无关紧要，因为要保存 WebView 状态，您仍然需要调用`WebView.saveState(Bundle)`in`Fragment.onSaveInstanceState(Bundle)`和`WebView.restoreState(Bundle)`in `Fragment.onViewCreated(Bundle)`。这只是意味着它`Fragment.setRetainInstance()`仍然与 WebViews 的使用兼容。

您给出的关于不再存在于另一个方向的视图容器的示例意味着您不需要保留任何数据 - 屏幕旋转后根本不会使用该片段。

在任何情况下，您都可以将它们分成两个 Fragment，而不是让一个 Fragment 同时处理 UI 和 AsyncTask 加载——具有 AsyncTask 的一个根本不需要附加到视图层次结构中，并且可以设置为保留的实例。这简化了您的顾虑，并使架构更加简洁。当 AsyncTask 完成时，您需要回调 UI 片段以传递结果（例如 findFragmentById/Tag、setTargetFragment、自定义侦听器...）。管理 AsyncTask 的片段需要能够在旋转后检索对 UI 片段新实例的引用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T05:48:04.337

看起来我的问题没有答案，但这是我最终做的：

1.  对于包含需要恢复的*WebView的**Fragment ，覆盖*[Fragment.onSaveInstanceState(Bundle state)](http://developer.android.com/reference/android/app/Fragment.html#onSaveInstanceState%28android.os.Bundle%29)并调用[WebView.saveState(bundle)](http://developer.android.com/reference/android/webkit/WebView.html#saveState%28android.os.Bundle%29)。然后在[Fragment.onViewCreated(View view, Bundle savedInstanceState)](http://developer.android.com/reference/android/app/Fragment.html#onViewCreated%28android.view.View,%20android.os.Bundle%29)中，如果*savedInstanceState*不为 null ，则调用[webView.restoreState(savedInstanceState) 。](http://developer.android.com/reference/android/webkit/WebView.html#restoreState%28android.os.Bundle%29)

***   对于包含需要保留的实时*AsyncTasks的片段，覆盖**Fragment.onDestroy* [()](http://developer.android.com/reference/android/app/Fragment.html#onDestroy%28%29)并将这些任务保存在我的应用程序对象中。（或者，也建议将它们存储在[静态变量中）。](http://www.stackoverflow.com/a/8550351/188197)然后在[Fragment.onCreate(Bundle savedInstanceState)](http://developer.android.com/reference/android/app/Fragment.html#onCreate%28android.os.Bundle%29)中，检查这些任务是否不为空，如果是，则恢复它们。（这意味着依赖于应用程序，但在我的情况下，我会在*AsyncTask*完成时恢复要在*Fragment上调用的回调）。*** 

 ***我不确定这是否是最好的解决方案，但它似乎解决了我遇到的问题。

尽管如此，我发现整个情况相当混乱（区分*onSaveInstanceState()*、*onRetainNonConfigurationInstance()*和*onDestroy()*，并决定在每种情况下需要保存什么）。***

# iphone - 关于如何实现新的 VerificationController 和 KNOWN_TRANSACTIONS_KEY 常量的任何示例？

> ID：11591304
> 
> 赞同：5
> 
> 时间：2012-07-21T10:13:43.293
> 
> 标签：iphone, objective-c, ios, in-app-purchase

我一直在考虑实施新的 VerificationController 来验证应用内购买：http: [//developer.apple.com/library/ios/#releasenotes/StoreKit/IAP_ReceiptValidation/_index.html](http://developer.apple.com/library/ios/#releasenotes/StoreKit/IAP_ReceiptValidation/_index.html)

而且我想知道如何验证交易是否有任何示例，因为这似乎`- (BOOL)verifyPurchase:(SKPaymentTransaction *)transaction;`还不够，它必须在内部实现以在接收到服务器数据时验证购买。

另一个问题是，如果有人知道 KNOWN_TRANSACTIONS_KEY 是什么以及如何填写它，是否只是购买的产品 ID？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-24T02:34:04.840

在文件“VerificationController.m”中，检查这个函数：

```
- (void)saveTransactionId:(NSString *)transactionId 
```

我们可以看到，KNOWN_TRANSACTIONS_KEY 是一个要写入 NSUserDefaults 的键。所以我们不需要触摸它。

登录**iTunes Connect** >**管理您的应用程序**>（单击您的应用程序）>**管理应用程序内购买**> 单击链接**查看或生成共享密钥**（在页面的左下角）它将向我们显示：

> 共享密钥是您在调用我们的服务器以获取应用内购买收据时应使用的唯一代码。

只需单击生成。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-25T14:41:25.683

你可以在这里找到一个完整的实现：[https ://github.com/evands/iap_validation](https://github.com/evands/iap_validation)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-06-03T03:23:22.980

# RayWenderlich.com 教程

*RayWenderlich.com*网站上的这篇文章，[iOS 6 中的应用内购买教程：消耗品和收据验证](http://www.raywenderlich.com/23266/in-app-purchases-in-ios-6-tutorial-consumables-and-receipt-validation)，提供了 Apple 代码的下载，但充实（包括 Base64 方法）和调整。

 ** * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-23T16:11:15.030

当事务更改为完成状态之一时，您需要对事务执行验证：

```
SKPaymentTransactionStatePurchased 
SKPaymentTransactionStateRestored 
```

调用函数：

```
[[VerificationController sharedInstance] verifyPurchase:transaction]; 
```

正如您所说，仅查看返回值是不够的。该函数是异步的。您需要向 VerificationController.m 添加一些代码，其中显示：

```
#warning Validation succeeded. Unlock content here. 
```

VerificationController.m 中还有几行带有#warning 的其他行需要处理错误。

至于 base64，您可能希望使用的另一个库是：

[http://www.imthi.com/blog/programming/iphone-sdk-base64-encode-decode.php](http://www.imthi.com/blog/programming/iphone-sdk-base64-encode-decode.php)

到那个时刻

```
 KNOWN_TRANSACTIONS_KEY 
```

和

```
ITC_CONTENT_PROVIDER_SHARED_SECRET 
```

我也想知道它们的用途以及需要它们的原因和时间。*

# php - 如何让fancybox打开一个php

> ID：11591309
> 
> 赞同：0
> 
> 时间：2012-07-21T10:15:20.673
> 
> 标签：php, fancybox

我正在尝试让 fancybox 打开一个 php 文件；该文件包含此代码`<?php echo "hi"; ?>`。现在，当我将图像 href 属性设置为 jpeg 文件时，它可以正常加载。但是当我将它设置为一个 php 文件时，它不会加载。我可以帮助尝试让它加载一个 php 文件吗？

`<a class= "fancyimg" href="http://mydomain.com/jquery.fancybox-1.3.4/count.php" ><img src="http://mydomain.com/jquery.fancybox-1.3.4/fancyimg2.jpg">`

这是我的代码的一部分

```
 <script type="text/javascript">
    $(document).ready(function() {

        $(".fancyimg").fancybox({
            'overlayShow'   : false,
            'transitionIn'  : 'elastic',
            'transitionOut' : 'elastic'
        });
    });
</script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T10:23:59.090

使用下面的 fancybox 的 type 属性打开 php 文件。

```
$(".fancyimg").fancybox({
 'width'        : '75%',
 'height'       : '75%',
 'autoScale'        : false, 
 'type'         : 'iframe',
 'overlayShow'   : false,
 'transitionIn'  : 'elastic',
 'transitionOut' : 'elastic'
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T10:27:21.440

你可以使用这样的东西：

```
$(".fancyimg").click(function() {
    $.fancybox.open({
        href : $(this).attr("data-id"),
        type : 'iframe',
        padding : 5
    });
}); 
```

而不是 href="http://mydomain.com/jquery.fancybox-1.3.4/count.php" 将您的链接放在一个名为 data-id 的自定义属性中，如下所示：

```
<a class= "fancyimg" href="#" data-id="http://mydomain.com/jquery.fancybox-1.3.4/count.php" ><img src="http://mydomain.com/jquery.fancybox-1.3.4/fancyimg2.jpg"></a> 
```

# php - 在 Zend 框架中呈现视图后运行代码

> ID：11591310
> 
> 赞同：1
> 
> 时间：2012-07-21T10:15:31.650
> 
> 标签：php, zend-framework

我有一行代码希望在视图脚本呈现后运行，但我希望将此代码放置在操作中。

这是特定于操作的，仅更新数据库中的标志，因此为此使用插件似乎有点过头了。

我还有什么其他选择？我可以注册一个抽象插件，我可以扩展并挂接到我所在的特定操作中`dispatchLoopShutdown()`或`routeShutdown()`从我所在的特定操作中挂钩吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:07:16.790

默认情况下，“视图”是指针将通过的最后一件事。你可以：

```
$this->_helper->removeHelper('viewRenderer'); 
```

全局删除视图，然后执行其余操作。

实际上，在我的许多代码中，我以块的形式加载视图，并且在之前渲染它们时没有遇到任何问题。例如，如果我这样做：

```
$this->view->shouldGoinHeader;
// some actions here
$this->view->someHere;
// some more action thing 
```

有用！因此，如果您正在检查视图是否已呈现，您可以使用 try catch 更新数据库上的标志。

如果某些事情正在执行，您可能想发布您的代码？

# c# - 为什么 C# 中的内置类型是语言关键字？

> ID：11591314
> 
> 赞同：12
> 
> 时间：2012-07-21T10:16:02.060
> 
> 标签：c#, language-design, keyword

在 C# 中，诸如`int`or之`string`类的标识符实际上是语言级别的关键字。
这是什么原因？

^(请注意，如果作者想要禁止使用这些名称的用户类型，那可能会导致语义错误，而不是语法错误。)

基于答案的一些澄清：

1.  *它们是关键字，因为它使解析成为可能/更容易*
    我不明白为什么，因为我正在开发一个解析器，并且`Type.Rule = Identifier`比`Type.Rule = Identifier | "int" | "string" | ...`.

2.  *它们是关键字，因为它们是特殊的别名*
    `var`并且`dynamic`也是特殊的东西，但不是关键字（出于兼容性原因，但它表明作为关键字不一定是特殊的）。在另一个示例中，应用于`[Serializable]`类型会生成魔术 IL 元数据修饰符`serializable`，而不是标准自定义属性。但它仍然不是关键字。

3.  *它们是关键字，因为它们是其他语言的关键字*
    很好的答案，但是，为什么它们是其他语言的关键字？此外，当然可以在不作为关键字的情况下用蓝色突出显示它们，那么为什么要从其他语言中引入呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T11:01:50.523

几乎我学过的语言是这样的：C、C++、Java、Pascal、C#。我不太确定，但是根据`Compiler Design`我在大学学习的课程（在本课程中，我们将学习人们如何编写编译器，一步一步，并实现自己的编译器），您提出问题的主要原因是：为了更容易在**词法分析**短语

当您编写代码时，所有代码都只是**一个**简单的字符串。并且编译器在真正编译之前必须做很多短语。

例如，当您键入：

`int a = 5;`

第一个短语是 Lexical Analysis 必须给出如下字典并发送到**Parser pharse**：

```
 int ---> identifiers
    a   ---> Variable
    =   ---> Operator(=)
    5   ---> Integer
    ;   ---> ; 
```

以及如何`Lexical Analysis`知道这一点：首先，它将建立一个字典表并搜索您输入的字符串。当第**一个**分词器相遇时，它将**停止**并采用该分词器。（这一点很重要 ！ ）

像这样的字典：

```
if   ---> if
then ---> then
int  ---> int
.... // all keywords here
[a-z][a-z0-9_]* ---> variable  // example of regular expression :  I don't sure it's true, just something like this :D 
```

因此，如果语言允许您将 int 命名为变量。如 ：

`int int = 5;`

上面的 for 方法`lexical analysis`被**破坏了**，当它读取到 second 时`int`，它不知道它是一个变量还是关键字，并且必须有更复杂的步骤来确定它。

我不是说它不能，但是编译时它更复杂，更慢，不需要。对程序员简单地说：“嘿，不要那样做，否则我不会编译你的程序 :))”

希望这有帮助:)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-21T10:28:07.493

据我所知，C# 设计者希望允许使用典型的类型名称，因为它们在 C 风格的语言中很常见，即`string`,`int`等等。同时，这些类型中的每一个都必须具有完全限定的类型名称，例如`System.String`和`System.Int32`。因此，决定为这些常用类型提供别名。

*如果我再次找到此声明的来源，我将添加链接。*

在其他基于 CLI 的语言中，相同的完全限定类型标识符是有效的。但是，在此类语言中，诸如`int`or之类的类型名称`string`可能不常见，因此可能会在此处提供其他别名。

使用类型别名的一个可能优点是提高了可读性，这就是为什么有一个[StyleCop 规则](http://stylecop.soyuz5.com/SA1121.html)强制使用别名而不是常规类型名称的原因。在同一主题的[这个线程](http://social.msdn.microsoft.com/Forums/da/csharplanguage/thread/3e412aa4-1ec4-4b96-abd9-5c3d31e59e92)中也提到了关于简洁的观点。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T10:24:53.567

这是因为`int`C# 语言中内置的其他特殊值类型根本不是真正的类型，而是[.NET Framework 系统类型的别名](http://msdn.microsoft.com/en-us/library/s1ax56ch.aspx)。

这是语法错误而不是语义错误的原因仅仅是因为在语法错误检测阶段检测到错误，该阶段发生在语义错误之前。语法错误检测具有确定`int`是用作类型还是用作其他内容所需的所有信息。假设我们有以下规则：

`declaration = type identifier ;`

语法阶段检查标识符是否为 [aZ]([aZ]+ | [0-9]+)+ 并且不是保留关键字或别名，在您描述的情况下是。因此，将其命名为语法错误是完全有道理的。

# javascript - 行数据未定义

> ID：11591315
> 
> 赞同：0
> 
> 时间：2012-07-21T10:16:49.173
> 
> 标签：javascript, jquery, jqxgrid

我正在努力查看我在哪里得到“行数据未定义”的错误？当我运行我的脚本并按下删除按钮时。我正在使用 jqxwidgets 网格：

[http://www.jqwidgets.com/jquery-widgets-demo/demos/jqxgrid/index.htm](http://www.jqwidgets.com/jquery-widgets-demo/demos/jqxgrid/index.htm)

如果有人可以帮助新用户或我如何在 firebug 1.9 中进行故障排除，我将不胜感激。我已包含我的代码供您检查。谢谢你。

```
<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="../../jqwidgets/styles/jqx.base.css" type="text/css" />
    <link rel="stylesheet" href="../../jqwidgets/styles/jqx.classic.css" type="text/css" />
    <script type="text/javascript" src="../../scripts/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="../../jqwidgets/jqx-all.js"></script>
    <script type="text/javascript" src="../../scripts/gettheme.js"></script>
    <script type="text/javascript" src="../../jqwidgets/jqxcore.js"></script>
    <script type="text/javascript" src="../../jqwidgets/jqxdatetimeinput.js"></script>
    <script type="text/javascript" src="../../jqwidgets/jqxbuttons.js"></script>
    <script type="text/javascript" src="../../jqwidgets/jqxcalendar.js"></script>
    <script type="text/javascript" src="../../jqwidgets/jqxtooltip.js"></script>
    <script type="text/javascript" src="../../jqwidgets/globalization/jquery.global.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            // prepare the data
            var source =
            {
                datatype: "json",
                datafields: [
            { name: 'id'},
                    { name: 'type'},
                    { name: 'service'},
                    { name: 'quantity'},
                    { name: 'department'},
                    { name: 'date', type: 'date', format: 'yyyy-MM-dd HH:mm:ss'},
                ],
                url: 'data.php',
        updaterow: function (rowid, rowdata) {
            // synchronize with the server - send update command
                    var data = "update=true&type=" + rowdata.type + "&service=" + rowdata.service + "&quantity=" + rowdata.quantity;
            data = data + "&department=" + rowdata.department + "&date=" + rowdata.date;
            data = data + "&id=" + rowdata.id;

            $.ajax({
                dataType: 'json',
                url: 'data.php',
                data: data,
                success: function (data, status, xhr) {
                // update command is executed.
                //alert(rowdata);
                }
            });     
                },
        deleterow: function (rowid, rowdata) {
            // synchronize with the server - send update command
                    var data = "delete=true&type=" + rowdata.type + "&service=" + rowdata.service + "&quantity=" + rowdata.quantity;
            data = data + "&department=" + rowdata.department + "&date=" + rowdata.date;
            data = data + "&id=" + rowdata.id;

            $.ajax({
                dataType: 'json',
                url: 'data.php',
                data: data,
                success: function (data, status, xhr) {
                // update command is executed.
                //alert(rowid);
                console.log(rowid);
                }
            });     
                }
            };

            var dataAdapter = new $.jqx.dataAdapter(source);

            $("#jqxgrid").jqxGrid(
            {
                source: source,
                theme: 'classic',
        width: 900,
        altrows: true,
        pageable: true,
        sortable: true,
        filterable: true,
        autoheight: true,
        pagesizeoptions: ['10', '20', '30', '40'],
        editable: true,
        ready: function () {
            var button = $("<input type='button' value='Add' id='myButton'/>");
            button.jqxButton({ height: 20 });
            button.click(function () {
            $("#jqxgrid").jqxGrid('addrow', null, []);

            });
            $(".jqx-grid-pager > div:first").append(button);

            },
        ready: function () {
        //var value = $('#jqxrid').jqxGrid('deleterow', rowid);
            var delbutton = $("<input type='button' value='Delete' id='DelButton'/>");
            delbutton.jqxButton({ height: 20 });
            delbutton.click(function () {
            $('#jqxgrid').jqxGrid('deleterow', id);

            });
            $(".jqx-grid-pager > div:first").append(delbutton);
        },
                columns: [
          { text: 'id', editable: false, datafield: 'id', width: 100 },
                  { text: 'Type', datafield: 'type', width: 150},
                  { text: 'Service', datafield: 'service', width: 150 },
                  { text: 'Quantity', datafield: 'quantity', width: 180 },
                  { text: 'Department', datafield: 'department', width: 90 },
                  { text: 'Date', datafield: 'date', columntype: 'datetimeinput', cellsformat: 'dd/MM/yyyy HH:mm:ss', width: 230, showCalendarButton: false }
              ]
            });        
        });
    </script>
</head>
<body class='default'>
    <div id='content'>
        <script type="text/javascript">
            $(document).ready(function () {
                var theme = 'classic';
                // Create a jqxDateTimeInput
                $("#jqxWidget").jqxDateTimeInput({ width: '250px', height: '25px', theme: theme, formatString: 'dd/MM/yyyy HH:mm:ss'  });
            });
        </script>
        <div id='jqxWidget'>
        </div>
    </div>

   <div id="jqxgrid"></div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T13:19:22.123

您在没有正确参数的情况下调用 deleterow() :)

签名：

```
deleterow: function (rowid, rowdata) {} 
```

调用：

```
delbutton.click(function () {
    $('#jqxgrid').jqxGrid('deleterow', id /* Missing argument */ );
}); 
```

您应该将 rowdata 添加为参数。我不认为这段代码被认为是非常安全的..（无论如何都可以重写，跳过“data = data +”，见下文）。

```
var data = "delete=true&type=" + rowdata.type + "&service=" + rowdata.service + "&quantity=" + rowdata.quantity;
    data = data + "&department=" + rowdata.department + "&date=" + rowdata.date;
    data = data + "&id=" + rowdata.id; 
```

您可以按如下方式获取行（ **您应该首先要求确认！**）：

```
delbutton.click(function () {

    var rows = $('#grid').jqxGrid('getrows'),
        selectedRowIndex = $('#grid').jqxGrid('getselectedrowindex'),
        selectedRow = rows[ selectedRowIndex ];

    if( confirm("Are you sure you wish to delete the row with index '" + selectedRowIndex + "'?") {

        $('#jqxgrid').jqxGrid('deleterow', selectedRowIndex, selectedRow );
    }
}); 
```

这将更具可读性和可用性：

```
var data = [
    "delete=",      "true",
    "&type=",       rowdata.type,
    "&service=",    rowdata.service,
    "&quantity=",   rowdata.quantity,
    "&department=", rowdata.department,
    "&date=",       rowdata.date,
    "&id=",         rowdata.id
].join(""); 
```

实际上，我认为以下内容可能会使它更复杂，更不容易出错，但更易于使用：

```
// Another solution
var customDataProperties = {
    "delete": "true"
    // ,"another": 2
}

var rowdataProperties = [
    "type",
    "service",
    "quantity",
    "department",
    "date",
    "id"
];

function getData( rowdataObject ) {
    // Add additional 
    var data = [];

    function createParameterSetString( property, value ) {

        return [ "&", property, "=", value ].join("");
    }

    for( var propertyName in customDataProperties ) {
        data.push( createParameterSetString( propertyName, customDataProperties[ propertyName ] ) );
    }

    for( var i = 0, ln = rowdataProperties.length; i < ln; i++ ) {
        var property = rowdataProperties[i];
        data.push( createParameterSetString( property, rowdataObject[ property ] ) );
    }

    if( data.length != 0 ) { data.pop( 0 ); }

    return data.join("");
} 
```

如您所见，您可以通过这种方式轻松扩展参数。

# java - Firefox webdriver 工作太慢，无法找到元素（硒）

> ID：11591319
> 
> 赞同：0
> 
> 时间：2012-07-21T10:17:27.397
> 
> 标签：java, selenium, webdriver

我正在使用 selenium firefox WebDriver 检索许多使用 javascript 从 Web 下载的文件。

该过程正常运行，但有时 firefox webdriver 运行速度太慢。

例如：

```
FirefoxProfile firefoxProfile = new FirefoxProfile();
String path = destDir;
firefoxProfile.setPreference("browser.download.folderList",2);
firefoxProfile.setPreference("browser.download.manager.showWhenStarting",false);        
firefoxProfile.setPreference("browser.download.dir",path);
firefoxProfile.setPreference("browser.helperApps.neverAsk.saveToDisk","text/plain;text/csv");

WebDriver driver = new FirefoxDriver(firefoxProfile);
//step 1
driver.navigate().to(url);
//step 2
WebElement element = driver.findElement(new By.ByXPath(...));
//step 3
element.click();                   
//step 4
element = driver.findElement(By.name("saveToFile"));
element.click(); 
```

第 1 步进行得很快，它加载了 firefox，然后快速导航到 URL（我可以看到它加载了，我可以看到网页是如何在浏览器中加载的）。但有时要完成第 2 步，需要花费太多时间。我不知道为什么，因为页面加载速度很快。第 2 步可能需要 10 秒到 10 分钟！

我不明白这种行为。为什么会这样？我怎样才能改变这个？

# iphone - 检查当前正在运行的进程，iphone

> ID：11591320
> 
> 赞同：1
> 
> 时间：2012-07-21T10:17:46.817
> 
> 标签：iphone, ipad, jailbreak

我们能否以编程方式找出当前在 iOS 中运行的进程列表？

![在此处输入图像描述](../Images/9eade48c167f94bdd21436828fdef21e.png)

有点类似于这里显示的

[http://www.techet.net/sysstat/](http://www.techet.net/sysstat/) 显示在进程选项卡上

建议总是受欢迎的。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T12:11:54.887

请参阅[我刚刚发布的其他答案](https://stackoverflow.com/a/11574932/119114)。

看看我发布的修改后的 Darwin C 代码：

[达尔文.c](http://pastebin.com/EDWtGrhc)

[达尔文.h](http://pastebin.com/kiNEU669)

如果你在里面看`OS_get_table()`，你会发现一堆被注释掉的`printf`语句。如果您取消注释并更改它们，将数据存储在某种可用的数据结构中，您可以收集所有此类信息。

**请注意**，不要只是取消注释所有`printf`语句并期望该代码能够正常工作。iOS 对应用程序写入标准输出的速率有限制，因此如果您`printf`在短时间内有大量 s，您将受到限制。

# javascript - 如何让 div scroll overflow-x 在移动浏览器上工作？

> ID：11591321
> 
> 赞同：5
> 
> 时间：2012-07-21T10:18:01.477
> 
> 标签：javascript, jquery, html, css

我有在桌面浏览器上工作的代码。如何在移动浏览器上实现此行为？基本上我想创建一个可以滚动到两侧的菜单。

```
<style type="text/css">
    #navBar {
        height: 55px;
        width: 80px;
        overflow-x: scroll;
        overflow-y:hidden;
        white-space: nowrap;
    }

    #navBar div {
        display: inline-block;
    }
    </style>

    <div id="navBar">
            akdhbaIDBhbfbhwhfbaibf
            <div style="width: 100px; text-align: center; background-color: red;">
                <img src="" alt="Nav1" />
                <br />
                <span style="font-size: 80%">Nav1</span>
            </div>
            <div style=" width: 100px; text-align: center;">
                <img src="" alt="Nav2" />
                <br />
                <span style="font-size: 80%">Nav2</span>
            </div>
            <div style=" width: 100px; text-align: center; background-color: red;">
                <img src="" alt="Nav3" />
                <br />
                <span style="font-size: 80%">Nav3</span>
            </div>
    </div> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-22T01:36:25.293

您可以使用 -webkit-overflow-scrolling 启用本机滚动： touch;

```
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <style>
    div {
      overflow-y: hidden;
      overflow-x: scroll;
      -webkit-overflow-scrolling: touch;
      width: 150px;
      border: 1px solid grey;
    }

    h1 {
      width: 400px;
    }
    </style>
  </head>
  <body>
    <div>
      <h1>some content here</h1>
    </div>
  </body>
</html> 
```

# iphone - 在 iPhone 应用程序中生成暂停/不连续的哔声

> ID：11591326
> 
> 赞同：4
> 
> 时间：2012-07-21T10:18:32.343
> 
> 标签：iphone, ios, ipad, audio

我正在创建一个基于声音的应用程序，我需要在其中为声波生成不同的振荡。在这方面我需要实现的一个部分是不连续或暂停的哔声。我正在尝试使用 Core Audio 对正弦波进行变化来执行此操作，但我没有得到所需的输出。

基本上我需要生成可变的声音振荡模式，比如 Dog Whistler 应用程序。

谁能帮助我正确的方向

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-25T11:23:15.477

看看[我的其他答案](https://stackoverflow.com/a/4570522/207616)如何循环播放背景音乐。您可以创建一个 0.5 秒哔​​声和 1 秒静音的音频文件，并通过`AVAudioPlayer`. 以及通过以下方式暂停哔声序列`[player pause];`

如果您有一些预定义的蜂鸣间隔/振荡，这将起作用，但如果您需要 100% 的用户自定义，则不会。您还可以寻找音效来调整音高和频率。

# iphone - iPhone 调用另一个类的选择器

> ID：11591330
> 
> 赞同：0
> 
> 时间：2012-07-21T10:19:05.147
> 
> 标签：iphone, objective-c

我是 Objective c 的新手（从 .NET 开发到 iPhone）。好吧，现在我有一个简单的问题要问有 iPhone 开发经验的人。我正在编写一个静态库，它使用 audiotoolbox 对一些音频事件做出反应。我的标题看起来像：

```
@interface ccreaderlib : NSObject {
    id __unsafe_unretained delegate;
    SEL _DevicePluggedEvent;
    SEL _DeviceUnpluggedEvent;

}

@property (nonatomic, assign) id delegate;
@property (nonatomic, assign) SEL onDevicePlugged;
@property (nonatomic, assign) SEL onDeviceUnplugged;

- (id)init;
- (void)startMonitor;
- (void)stopMonitor;

@end 
```

现在在 UIViewController 我这样做：

```
_lib = [[ccreaderlib alloc] init];
    _lib.delegate = self;
    _lib.onDevicePlugged = @selector(OnDevicePluggedIn);
    _lib.onDeviceUnplugged = @selector(OnDeviceUnplugged);
[_lib startMonitor]; 
```

我的想法是从我的静态库中调用 UIViewController 的选择器。我怎样才能做到这一点。目前我正在尝试以这种方式执行此操作：

```
void audioRouteChangeListenerCallback (
                                       void                      *inUserData,
                                       AudioSessionPropertyID    inPropertyID,
                                       UInt32                    inPropertyValueSize,
                                       const void                *inPropertyValue) 
{
    if (inPropertyID != kAudioSessionProperty_AudioRouteChange) return;

CFDictionaryRef routeChangeDictionary = inPropertyValue;
CFNumberRef routeChangeReasonRef =
CFDictionaryGetValue ( routeChangeDictionary, CFSTR (kAudioSession_AudioRouteChangeKey_Reason));
SInt32 routeChangeReason;
CFNumberGetValue (
                  routeChangeReasonRef,
                  kCFNumberSInt32Type,
                  &routeChangeReason);

CFStringRef oldRouteRef =
CFDictionaryGetValue (
                      routeChangeDictionary,
                      CFSTR (kAudioSession_AudioRouteChangeKey_OldRoute));
NSString *oldRouteString = (__bridge NSString *)oldRouteRef;
ccreaderlib *self = (__bridge id)inUserData;
id reactClass = [self delegate];
if (routeChangeReason == kAudioSessionRouteChangeReason_NewDeviceAvailable)
{
    if ([oldRouteString isEqualToString:@"Speaker"])
    {
        [reactClass performSelector:@selector(onDevicePlugged)];
        self.bIsReaderPlugged = YES;
    }

}
if (routeChangeReason == kAudioSessionRouteChangeReason_OldDeviceUnavailable) {
    if ([oldRouteString isEqualToString:@"Headphone"]){
        [reactClass performSelector:@selector(onDeviceUnplugged)];
        self.bIsReaderPlugged = NO;
    }
} 
```

}

但通过这种方式，我得到了 SIGABRT。请帮助我，已经花了 3 天时间试图解决这个问题。

***更新：自己找到答案。将我的 c 回调函数更改为这样：

```
if (routeChangeReason == kAudioSessionRouteChangeReason_NewDeviceAvailable)
{
    if ([oldRouteString isEqualToString:@"Speaker"])
    {
        if([self.delegate respondsToSelector:self.onDevicePlugged])
            [self.delegate performSelector:self.onDevicePlugged];
        self.bIsReaderPlugged = YES;
    }

}
if (routeChangeReason == kAudioSessionRouteChangeReason_OldDeviceUnavailable) {
    if ([oldRouteString isEqualToString:@"Headphone"]){
        if([self.delegate respondsToSelector:self.onDeviceUnplugged])
            [self.delegate performSelector:self.onDeviceUnplugged];
        self.bIsReaderPlugged = NO;
    }
} 
```

感谢[http://brandontreb.com/objective-c-programming-tutorial-creating-a-twitter-client-part-1/](http://brandontreb.com/objective-c-programming-tutorial-creating-a-twitter-client-part-1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T12:32:09.583

您确定拼写正确吗？在一种情况下，它在另一种情况下显示为大写（第一个“o”）。

一开始你应该在课堂上做的是验证委托确实响应了选择器：

```
BOOL [delegate repondsToSelector:your_selector_variable];
BOOL [delegate respondsToSelector:@selector(TheActualSelector)]; // don't forget trailing ':' if it takes an arg 
```

我会在开发过程中断言这些，因为如果你没有得到这个正确的，没有理由继续，

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T18:21:33.203

这是一种非常非典型的委派模式。通常，您会声明一个协议：

```
@protocol(DevicePlugDelegateP)
- (void)pluggedInDevice:(Device*)aDevice;
- (void)unpluggedDevice:(Device*)aDevice;
@end 
```

然后像这样声明你的代表：

```
__weak NSObject<DevicePlugDelegateP>* delegate; 
```

然后检查选择器响应并调用它（如果存在）：

```
if ([delegate respondsToSelector:@selector(pluggedInDevice:)])
    [delegate pluggedInDevice:aDevice]; 
```

... ETC ...

并不是说您所做的事情是错误的，只是不典型。上述模式非常清楚哪些类可以充当该特定委托，并且稍后通过方法实现搜索揭示谁实现了哪些方法。

# git - 带有多个子项目的 Git 远程

> ID：11591331
> 
> 赞同：2
> 
> 时间：2012-07-21T10:19:09.953
> 
> 标签：git

我有一组足够相关的项目/模块，我希望它们在同一个存储库中，但它们存在于我机器上本地的多个目录中。有没有办法可以将它们添加为远程存储库中的子目录？

这就是我通常添加遥控器的方式

```
git remote add origin ssh://git@example.com:2227/usr/local/git_root/foo_project.git 
```

像这样的工作吗

```
git remote add origin ssh://git@example.com:2227/usr/local/git_root/foo_project.git/A 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T12:12:38.763

使用子模块：

*   为每个模块/项目创建一个存储库
*   为将包含它们的主项目创建一个存储库
*   将模块/项目作为子模块添加到主存储库：
    `git submodule add ssh://git@example.com:2227/module1 module1/`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T12:11:57.303

# authentication - Joomla 登录简单脚本

> ID：11591332
> 
> 赞同：1
> 
> 时间：2012-07-21T10:19:11.717
> 
> 标签：authentication, joomla

我创建了一个简单的登录表单，将数据发布到 _self，然后我尝试检查凭据以使用户登录。

身份验证脚本如下所示：

```
if ($_POST['username'] && $_POST['password'] )

{
      $db =& JFactory::getDBO();

      $query = 'SELECT `id`'
            . ' FROM #__users'
            . ' WHERE username='.$_POST['username'];
      $db->setQuery( $query );
      $result = $db->loadResult();

        if (!$result) {
            echo 'User does not exist';
        }

        if($result && (USERNAME & PASS MATCH))
        {
           << LOGIN AND REDIRECT TO CERTAIN PAGE >>
        }
        else
        {
            echo 'Invalid username or password';
        }   

} 
```

在我的简单 php 脚本中，我曾经在用户名和密码匹配时将 SESSION 变量设置为 true，这就是我认为用户登录的方式。

在这里，我应该做什么？用户登录时是否设置了数据库中的字段？换句话说，我想让用户登录，然后重定向到另一个页面。

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:27:15.587

用户登录后，您可以执行以下操作：

```
 if($result && (USERNAME & PASS MATCH))
    {
       $_SESSION['logged_in_user'] = $user;
       header("location: /loggedin.php");
    } 
```

然后在`loggedin.php`设置身份验证检查的顶部：

```
session_start(); // If 
if (!isset($_SESSION['logged_in_user'])) {
    // User is not logged in, so send user away.
    header("Location:/login");
    die();
}
// User is logged in; private code goes here. 
```

这是一个很棒的用户登录系统教程：[http ://en.wikibooks.org/wiki/PHP_Programming/User_login_systems](http://en.wikibooks.org/wiki/PHP_Programming/User_login_systems)

它涉及高级用户身份验证，并显示了比我在这里更多的示例。

# android - 将带有 DDMS 模拟器控制的恶搞位置发送到平板电脑 android 设备

> ID：11591333
> 
> 赞同：1
> 
> 时间：2012-07-21T10:19:19.673
> 
> 标签：android, android-emulator, gps, ddms

我想测试我在我的 android 平板电脑上开发的 GPS 应用程序，所以我需要从使用 DDMS 加载它的 KML 文件中向它发送欺骗位置。我想使用物理设备，而不是模拟器。

问题是当我在设备视图中选择我的外部设备（正在运行的应用程序进程）时，DDMS 中的 Emulator Control 部分被禁用（灰显）。如果我选择模拟器，那么模拟器控件显示为已启用，但物理设备未启用。

我的应用程序有

```
<uses-permission android:name="android.permission.ACCESS_MOCK_LOCATION" /> 
```

我的物理平板电脑配置有：

*   USB调试。
*   允许模拟地点

我正在使用 SDK r20，我的平板电脑有 android 4.0.3。

有任何想法吗？

非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T11:37:28.527

我已经拼凑了一个解决这个问题的方法。

*   转到**设置->应用程序->开发**并选择“**允许模拟位置**”。

*   将**ACCESS_MOCK_LOCATION**权限添加到 AndroidManifest.xml：

    ```
    <?xml version="1.0" encoding="utf-8"?>
    <manifest xmlns:android="http://schemas.android.com/apk/res/android">

    <uses-permission android:name="android.permission.ACCESS_MOCK_LOCATION"> 
    ```

*   实现一个使用[LocationManager](http://developer.android.com/reference/android/location/LocationManager.html) .addTestProvider() 函数的类。这将向应用程序指示它应该使用文件中的数据来构造新的 Location 对象。

*   然后可以使用 LocationManager.setTestProviderLocation() 函数创建新位置。

    ```
    // start using mock locations
    try {
       mockLocationCreator = new MockLocationCreator(this.getApplicationContext());
       try {
           mockLocationCreator.openLocationList();

           mockLocationThread = new Thread(mockLocationCreator);
           mockLocationThread.start();

           Toast.makeText(this.getApplicationContext(), 
                          "Mock locations are in use", 
                          Toast.LENGTH_LONG)
                .show();

       } catch (IOException e) {
           Toast.makeText(this.getApplicationContext(), 
                          "Error: Unable to open / read data file", 
                          Toast.LENGTH_LONG)
                .show();
           mockLocationCreator = null;
       }
    } catch(SecurityException e) {
       Toast.makeText(this.getApplicationContext(), 
                      "Error: Insufficient Privileges", 
                       Toast.LENGTH_LONG)
            .show();
       Log.e(TAG, "unable to use mock locations, insufficient privileges", e);
    } 
    ```

**注意：**无论设备或清单权限如何，都无法从 DDMS->Emulator Control->Location Controls 将模拟位置发送到真实设备，正如[此处](https://stackoverflow.com/questions/3794950/fake-location-using-gps-in-android#3798060)错误建议的那样。

* * *

资料来源：

[设备上的Android模拟位置？](https://stackoverflow.com/questions/2531317/android-mock-location-on-device)- 有关清单权限和使用 telnet 命令行、链接和代码片段的替代解决方案的信息。

[在 Android 中使用模拟位置](http://techxplorer.com/2011/07/01/using-mock-locations-in-android/)- 更详细，包含一些死链接。

[LocationManager 文档](http://developer.android.com/reference/android/location/LocationManager.html)- Android 官方文档

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:34:19.190

为简单起见`spoofing`，您可以使用[此免费版本](https://play.google.com/store/apps/details?id=org.ajeje.fakelocation)，但正如您在问题中所说，您需要文件中的`spoof`位置`KML`，您必须购买[专业版](https://play.google.com/store/apps/details?id=org.ajeje.locationspooferpro)

# javascript - 获取之前选中的单选按钮

> ID：11591335
> 
> 赞同：1
> 
> 时间：2012-07-21T10:19:35.287
> 
> 标签：javascript, jquery, jquery-ui, radio-button

给定一组单选按钮，例如：

```
<input id="B_1" type="radio" name="radioName" value="1">
<input id="B_2" type="radio" name="radioName" value="2">
<input id="B_3" type="radio" name="radioName" value="3">
<input id="B_4" type="radio" name="radioName" value="4"> 
```

**​当其中一个被检查时，是否有可能知道哪个先前处于活动状态（如果有的话）？**

我尝试将以下函数附加到`onclick`事件中，但它不起作用，因为它返回当前选择的单选按钮，而不是之前选择的单选按钮：

```
my_func = function() {
    var checkedValue = $('input[type=radio]:checked').val();
    return alert("The previously selected was: " + checkedValue);
  }; 
```

我不知道是否有任何帮助，无论如何这里是完整的尝试：http: [//jsfiddle.net/H6h4R/](http://jsfiddle.net/H6h4R/)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T10:30:01.613

试试这个 - [http://jsfiddle.net/H6h4R/1/](http://jsfiddle.net/H6h4R/1/)

```
$(":radio").on("mousedown", function() {
    $("p").text( $('input[type=radio]:checked').val() );
}).on("mouseup", function() {
    $('input[type=radio]').prop('checked', false);
    $(this).prop('checked', true);
}); 
```

该`click`事件仅在这一系列事件之后触发：

*   当指针位于元素内部时，按下鼠标按钮。
*   当指针位于元素内部时，鼠标按钮被释放。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-23T20:06:27.687

如果他使用键盘键，这可以提供帮助

[http://jsfiddle.net/DYrW3/73/](http://jsfiddle.net/DYrW3/73/)

```
$('input[name=radios]').keydown(function(){
        alert("Before change "+$('input[name=radios]:checked').val());
}) 
```

# c# - 点击button1后应该打开和关闭checkBox的时间间隔

> ID：11591337
> 
> 赞同：-1
> 
> 时间：2012-07-21T10:19:50.983
> 
> 标签：c#, checkbox

你能帮我吗？在 C# 中，单击 button1 后，应打开和关闭 checkBoxWMVFile（时间间隔）。

```
private void button1_Click(object sender, EventArgs e)
{

    if (timercheckbox.Enabled == true)
    {
        timercheckbox = new Timer();
        timercheckbox.Start();
        timercheckbox.Interval = 10000; // 10 second

        if(timercheckbox.Enabled)
        {
            timercheckbox.Start();
            checkBoxWMVFile.Checked = true;
        }
        else
        {
            timercheckbox.Stop();
            checkBoxWMVFile.Checked = false;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T07:16:46.603

此代码正常工作：

```
// InitializeComponent        
this.timercheckbox.Interval = 5000;
this.timercheckbox.Tick += new System.EventHandler(this.timercheckbox_Tick);

private void timercheckbox_Tick(object sender, EventArgs e)
{
    checkBoxWMVFile.Checked = false;
    checkBoxWMVFile.Checked = true;
}

private void button1_Click(object sender, EventArgs e)
{
    if( timercheckbox.Enabled == true )
    {            
        timercheckbox.Enabled = false;
        button1.Text = "Start Auto save";
    }
    else
    {
        timercheckbox.Interval = (int)numericChnageTime.Value;
        timercheckbox.Enabled = true;
        checkBoxWMVFile.Checked = true;
        button1.Text = "Stop Auto save";
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:57:26.050

据我了解，您需要这样的东西

```
private Timer _timer = new Timer();

    public Form1()
    {
        InitializeComponent();
        _timer.Interval = 10000;
        _timer.Tick += new EventHandler(_timer_Tick);
    }

    private void button1_Click(object sender, EventArgs e)
    {
        if (checkBox1.Checked)
        {
            checkBox1.Checked = false;
            if(_timer.Enabled)
                _timer.Stop();
        }
        else
        {
            checkBox1.Checked = true;
            if (!_timer.Enabled)
                _timer.Start();
        }
    }

    void _timer_Tick(object sender, EventArgs e)
    {
        //do something here
        throw new NotImplementedException();
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T11:28:53.283

为了使您的代码正常工作，您必须反转逻辑，即

```
private void button1_Click(object sender, EventArgs e)
{
    if(checkBoxWMVFile.Checked == false)//if the textbox is not checked
    {
        if (timercheckbox == null)//If this is the first time
        {
            timercheckbox = new Timer();//Create a timer
            timercheckbox.Interval = 10000; // Set the interval, before starting it.
            timercheckbox.Start();//Start it
        }
        else timercheckbox.Start();//If it is not the first time, just start it
        checkBoxWMVFile.Checked = true;//Check the checkbox
    }
    else//the checkbox is checked
    {
       timercheckbox.Stop();//Stop the timer
       checkBoxWMVFile.Checked = false;//Uncheck the checkbox
    }
} 
```

# c++ - 在 C/C++ 中通过数组的动态声明将数组传递给函数

> ID：11591338
> 
> 赞同：1
> 
> 时间：2012-07-21T10:19:57.080
> 
> 标签：c++, arrays, turbo-c++

我想将数组传递给 C/C++ 中的函数，而无需事先声明和分配它。在 C# 中，我们可以：

```
fun(new int[] {1, 1}); //this is a function call for void fun(int[]) type function 
```

我不太确定上述代码的正确性。但我在 C# 中做过类似的事情。

我们如何使用动态声明（现场声明）将数组传递给函数？

我用下面的方法试过了。但没有运气

```
fun(int {1,1});
fun(int[] {1,1});
fun((int[]) {1,1}); 
```

我们不能这样做..??

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T10:24:29.403

在 C99 及更高版本中，这是：

```
foo((int[]){2,4,6,8}); 
```

与此大致相同：

```
int x[] = {2,4,6,8};
foo(x); 
```

在 C99 之前，这是不可能的。C++ 也不支持这种语法。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-21T11:28:38.580

在 C++11 中，您可以使用初始化列表：

```
#include <initializer_list>
#include <iostream>

void fun(std::initializer_list<int> numbers)
{
    for (int x : numbers)
        std::cout << x << ' ';
    std::cout << '\n';
}

int main()
{
    fun( {2, 3, 5, 7, 11, 13, 17, 19} );
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-21T10:29:53.720

这在 ANSI C99 和 C11 中是可能的，但在 C89 中是不可能的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-21T10:30:18.180

我可以建议使用可变参数列表吗？

声明语法如下：

```
void Function(int Count, ...) {
     va_list va;
     va_start(va, Count);
     for(int i = 0; i < Count; ++i) {
         int nextVar = va_arg(va, int);
         //Do some stuff with the array element
     }
     va_end(va);
} 
```

这个函数被调用：

```
Function(4, 2, 3, 1, 5); 
```

2、3、1 和 5 是“数组元素”。

或者，如果您在该函数中“需要”一个数组，则可以通过使用 new 和 delete 轻松地将变量列表移动到适当的（动态）数组。

在 va 函数内：

```
 int *Array = new int[Count];
 for(int i = 0; i < Count; ++i) {
      Array[i] = va_arg(va, int);
 }
 //Do Stuff with Array
 delete[] Array; 
```

# c++ - 错误 C3892: 'std::_Tree_unchecked_const_iterator

> ID：11591339
> 
> 赞同：0
> 
> 时间：2012-07-21T10:19:58.877
> 
> 标签：c++, iterator, constants

请帮助我解决这个错误并......（visual studio 2010）

```
void file_remove(u32 id, int action) {
    file f;
    f.id = id;

    **file_set::iterator i = fs.find(f);**

    if(i == fs.end()) return;

    // move cursor away
    if(conf.expose.cursor == id) cursor_down();
    if(conf.expose.cursor == id) cursor_up();
    if(conf.expose.cursor == id) conf.expose.cursor = 0;

    if(action != 1 && i->size >= conf.files.incomp_min_size &&
        (u64)segment_summ(i->seg) * 100 / i->size >= conf.files.incomp_percent)
    {   action = 2;     }

    char n1[0x100];
    char n2[0x100];

    if(!i->deleted){
        cache_close(i->h);

        snprintf(n1, sizeof(n1), "%s/%s", conf.fnames.dir_temp, i->name.c_str());

        if(action == 0)
        {   // just close
        }
        else if(action == 1)
        {
            snprintf(n2, sizeof(n2), "%s/%s", conf.fnames.dir_ok, i->name.c_str());         seg(*i, conf.fnames.dir_temp, false);
        cache_move(n1, n2);
        }
        else if(action == 2)
        {
            snprintf(n2, sizeof(n2), "%s/%s", conf.fnames.dir_incomplete, i->name.c_str());
        seg(*i, conf.fnames.dir_incomplete, true, true);
        seg(*i, conf.fnames.dir_temp, false);
        cache_move(n1, n2);
        }
        else if(action == -1)
        {
            seg(*i, conf.fnames.dir_temp, false);
        cache_move(n1, ""); // unlink
        }
    } else {
        ffs_remove(i->size, i->tag);
        fs.erase(i);
        sort_files();
        return;
    }

    if(!i->tmp){
        ffs_remove(i->size, i->tag);
        fs.erase(i);
    } else {
        **i->deleted = true;**
    }
    sort_files();
} 
```

用这个元素编译它并出错：i->deleted = true; + 查看此结果

> 1>main.cpp(478): error C3892: 'std::_Tree_unchecked_const_iterator<_Mytree,_Base>::operator ->' : 你不能用 1>
> [ 1>
> _Mytree=std 赋值给 const 1> 的变量： :_Tree_val,std::allocator,false>>, 1> _Base=std::_Iterator_base 1> ]

[http://up.vbiran.ir/images/w21nnbxc7tf5okzk0lr.png](http://up.vbiran.ir/images/w21nnbxc7tf5okzk0lr.png)

[http://up.vbiran.ir/images/x0coajrixr764g49ibeh.png](http://up.vbiran.ir/images/x0coajrixr764g49ibeh.png)

请帮我解决这个错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:33:13.023

是的，这就是问题所在

```
i->deleted = true; 
```

在 a`std::set`所有元素都是 const （因为更改值可能会使集合的顺序无效）。

# c# - 就像 MS 绘图 (WPF) 一样，使用鼠标光标在画布上绘制简单的线条

> ID：11591340
> 
> 赞同：1
> 
> 时间：2012-07-21T10:20:12.357
> 
> 标签：c#, wpf

谁能帮我在画布上画线，实现鼠标光标移动和点击事件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T10:23:55.213

请查看[InkCanvas 控件](http://msdn.microsoft.com/en-us/library/system.windows.controls.inkcanvas.aspx)。

# cuda - 驱动程序找不到兼容的图形硬件

> ID：11591345
> 
> 赞同：4
> 
> 时间：2012-07-21T10:21:10.217
> 
> 标签：cuda, gpu

我在笔记本电脑（Dell - Vostro 3500）上安装了[CUDA](https://en.wikipedia.org/wiki/CUDA) 4 并开始编写 CUDA 程序。但我得到一个错误：驱动程序与这个版本的 CUDA 不兼容。

所以我决定更新我的 GPU 驱动程序（GPU：Nvidia GeForce 310M）并从 Nvidia 的网站下载驱动程序。但是当我想安装驱动程序时，看到这个错误：

```
NVIDIA Intaller cannot continue
This graphics driver could not find compatible graphics hardware. 
```

我尝试了`301.42`、`301.32`和Nvidia GPU 驱动程序`275.33`的`270.81`版本。

我的朋友在[华硕](http://en.wikipedia.org/wiki/Asus)设备`275.33`上安装了 GeForce 310M 的笔记本电脑。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-26T16:30:06.167

我最近在[iMac](https://en.wikipedia.org/wiki/IMac)上运行 Windows 7 时遇到了同样的问题，并设法破解了版本 301.42 上的 nv_disp.inf 文件以使其正常安装。基本上，您需要将图形卡中的标识符添加到 inf 文件中，然后她就走了。不难。

这就是我的做法。

首先，我们需要您显卡的标识符。在 中打开`Device Manager`并调出显卡的属性框`Display adapters`。在`"Details"`选项卡中，您会找到一个下拉框，打开它并选择`"Device Instance Path"`；您应该能够右键单击下面字段中的值并复制它。

然后找到之前运行驱动程序设置时提取到的临时文件夹。对我来说是`"C:\NVIDIA\DisplayDriver\301.42\WinVista_Win7_64"`——如果你找不到它，只需再次运行安装程序并记下安装程序提取自身的位置。我们需要编辑的文件位于`Display.Driver`目录中，名为`nv_disp.inf`. [在记事本](http://en.wikipedia.org/wiki/Notepad_%28software%29)或您喜欢的文本编辑器中打开它。

现在我们需要修改您复制的字符串并将其添加到此文件中。

如果您向下滚动大约 15%，您会发现一个类似于 的标题`[NVIDIA_SetB_Devices.NTamd64.6.0]`。这是 Nvidia 支持设备列表的开始。

如果您在此处粘贴设备实例路径，您可能会注意到设备路径的前 21 个左右字符与前面几百行中的最后 21 个字符相似。类似的东西`PCI\VEN_10DE&DEV_0240`。您可以删除已复制的其余文本。

这些设备被组织成组，因此最好在最后四个数字中搜索与您的相似的行并将其用作创建条目的模板。

您希望使用此信息来创建一个看起来与其他已存在的条目相似的条目。

我修改了这一行：

```
 %NVIDIA_DEV.0868%           = Section005, PCI\VEN_10DE&DEV_0868 
```

标识符`PCI\VEN_10DE&DEV_0869`为：

```
 %NVIDIA_DEV.0869%           = Section005, PCI\VEN_10DE&DEV_0869 
```

请注意，靠近行首的四位数字与末尾的数字相匹配。

将文档保存在原始 nv_disp.inf 上，然后`setup.exe`从已提取的文件夹中运行。如果您再次运行下载的文件，它将再次提取并覆盖您的更改。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-22T00:50:29.437

最后我在 Ben Stewart 的帮助下找到了答案。

我以这种方式破解了 INF 文件：

1.  去[这里](http://forums.laptopvideo2go.com/)。
2.  在第二部分（NVIDIA 视频驱动程序和工具）选择合适的部分。例如，为 296.10 选择 29X。
3.  为您下载的驱动程序和 Windows 版本选择适当的部分。
4.  在此页面下载 INF 文件。
5.  *将驱动程序解压缩位置的Display.Driver*文件夹中的 INF 文件替换为 INF （例如，`C:\NVIDIA\DisplayDriver\296.10\WinVista_Win7_64\International\Display.Driver`）
6.  设置驱动！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T12:55:59.507

[您是否从http://nvidia.com/drivers](http://nvidia.com/drivers)下载笔记本驱动程序？

如果您使用的是笔记本驱动程序，那么 NVIDIA 很可能没有在最新驱动程序的 INF 文件中包含您的 GeForce 310M。您可以自己破解 INF 文件来解决此问题。这并不简单，但可以通过谷歌搜索并仔细阅读某些论坛来完成，其中其他人自己入侵了 INF 文件。没有什么好玩的。

# php - 从列表创建 3D 数组

> ID：11591346
> 
> 赞同：1
> 
> 时间：2012-07-21T10:21:33.207
> 
> 标签：php

我有以下列表：

> 1945/01/05 BA 87 34 1 59 50
> 1945/01/05 CA 18 17 45 49 82
> 1945/01/13 BA 6 66 1 16 48
> 1945/01/13 CA 40 60 32 50 80

等等....

我想将它们排列成一个数组，如下所示：

```
$array['BA'][0][0] = 87;
$array['BA'][0][1] = 34;
$array['BA'][0][2] = 1;
$array['BA'][0][3] = 59;
$array['BA'][0][4] = 50;

$array['CA'][0][0] = 18;
$array['CA'][0][1] = 17;
$array['CA'][0][2] = 45;
$array['CA'][0][3] = 49;
$array['CA'][0][4] = 82;

$array['BA'][1][0] = 6;
$array['BA'][1][1] = 66;
$array['BA'][1][2] = 1;
$array['BA'][1][3] = 16;
$array['BA'][1][4] = 48;

$array['CA'][1][0] = 48;
$array['CA'][1][1] = 60;
$array['CA'][1][2] = 32;
$array['CA'][1][3] = 50;
$array['CA'][1][4] = 80; 
```

我知道我可以使用 preg_split('/\s+/', $list); 创建一个数组，但是如何从这个列表中创建一个 3D 数组？

谢谢您的帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T10:33:22.123

尝试这样的事情：

更新了代码，因此您也可以加载文件，因为您有内存问题。考虑：如果加载数据量已经造成内存问题，那么您的最终结果（数组）也可能会产生内存问题！因为那是更多的数据！

所以这将按行读取，因此它不会直接将整个文件加载到内存中。但是，由于您有内存问题，您可能不应该写入数组，而是写入数据库。否则内存问题将不断出现。

```
<?PHP

/*
 * Example when small amount of data is in a string
 */

/*
//your input
$str='1945/01/05 BA 87 34 1 59 50
1945/01/05 CA 18 17 45 49 82
1945/01/13 BA 6 66 1 16 48
1945/01/13 CA 40 60 32 50 80';

//we work per line
$lines=explode("\n", $str);

//loop each line
foreach($lines AS $line) {

*/

/*
 * Example when big amount of data is in a file
 */
//this will contain the end result
$result=array();

$filename='lines.txt'; //contains the data like in your question

$fp = fopen($filename,'r');
while($line=fgets($fp)) {
    //explode each line on space so we get the different fields
    $fields=explode(' ', $line);

    //we remove the date, not needed
    unset($fields[0]);

    //we get the key (BA/CA/etc) and remove it also
    $key=$fields[1];
    unset($fields[1]);

    //we write the result to the array
    //using array_values so the indexes are from 0-4 again
    //because we removed items
    $result[$key][]=array_values($fields);

}

fclose($fp);

//show the result in html
echo '<pre>';
print_r($result); 
```

问题改变了

这确实回答了评论中提出的问题，而不是实际问题。

```
<?PHP

/*
 * Example when big amount of data is in a file
 */
//this will contain the end result
$result=array();

$filename='lines.txt'; //contains the data like in your question

$fp = fopen($filename,'r');
while($line=fgets($fp)) {
    //explode each line on space so we get the different fields
    $fields=explode(' ', $line);

    //we remove the date, not needed
    unset($fields[0]);

    //we get the key (BA/CA/etc) and remove it also
    $key=$fields[1];
    unset($fields[1]);

    //We start counting the numbers
    foreach($fields AS $nr) {
        $nr=trim($nr);
        if(empty($result[$key][$nr])) {
            $result[$key][$nr]=1;
        }else{
            $result[$key][$nr]++;
        }
    }

}

fclose($fp);

//show the result in html
echo '<pre>';
print_r($result); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:53:00.247

```
<?php
$a = '1945/01/05 BA 87 34 1 59 50
1945/01/05 CA 18 17 45 49 82
1945/01/13 BA 6 66 1 16 48
1945/01/13 CA 40 60 32 50 80';

$array = array();
$list = explode("\n", $a);
echo '<pre>';
print_r($list);
echo '</pre>';
$first_index = 0;
$counter = 0;
foreach($list as $key=>$value) {
    if($counter >=2) {
        $first_index++;
        $counter= 0;
    }
    $row = explode(" ",$value);
    $k = $row[1];

    for($i=2; $i< count($row); $i++) {      
        $array[$k][$first_index][] = $row[$i];          
    }
    $counter++;
}
echo '<pre>';
print_r($array);
echo '</pre>';
?> 
```

# python - 当密钥明显存在时，为什么我会收到 KeyError？

> ID：11591348
> 
> 赞同：3
> 
> 时间：2012-07-21T10:21:46.067
> 
> 标签：python, dictionary, python-3.x

我有一堂课`Commit`。

```
class Commit:
    def __init__(self, uid, message):
        self.uid = uid
        self.message = message

    def __str__(self):
        print(self.__dict__)
        return textwrap.dedent('''\
        Commit: {uid}

        {message}
        ''').format(self.__dict__) 
```

这对我来说似乎是正确的；从调用`None`的输出中可以看出，两个键都存在且非：`print`

```
{'message': 'Hello, world!', 'uid': 1} 
```

但是，`str.format()`对列表行的调用会引发`KeyError`.

> ```
> 回溯（最近一次通话最后）：
>   文件“../Pynewood/pnw”，第 7 行，在
>     cli(sys.argv)
>   文件“/Users/daknok/Desktop/Pynewood/pynewood/cli.py”，第 11 行，在 cli
>     打印（提交）
>   文件“/Users/daknok/Desktop/Pynewood/pynewood/commit.py”，第 14 行，在 __str__
>     ''').format(self.__dict__)
> 键错误：'uid'
> 
> ```

为什么我会收到此错误，而字典中显然存在键？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-21T10:25:29.573

[`str.format()`](http://docs.python.org/py3k/library/stdtypes.html?highlight=format#str.format)需要 kwargs，因此您需要使用`**`.

```
def __str__(self):
    return textwrap.dedent('''\
    Commit: {uid}

    {message}
    ''').format(**self.__dict__) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-21T15:37:09.157

*Radek Slupik*是对的，它`str.format`需要单独的关键字参数，并且在问题的代码中，`dict`它只是作为第一个位置参数传递`format`，它将`{0}`在格式字符串中扩展。所以应该使用。`str.format(***mapping*)`

但是从 Python 3.2 开始，您可以改用它。它的工作原理类似于，但它不会将*映射*转换为. 这允许我们为 提供自定义映射类，就像文档中的示例一样：`str.[**format_map**](http://docs.python.org/py3k/library/stdtypes.html#str.format_map)(*mapping*)``str.format(***mapping*)`*`dict``format`*

 *```
>>> class Default(dict):
...     def __missing__(self, key):
...         return key
...
>>> '{name} was born in {country}'.format_map(Default(name='Guido'))
'Guido was born in country' 
```

它看起来也更好，并且可能会带来微小的性能提升。*

# php - 将数组的每个结果插入单独的 SQL 行？

> ID：11591352
> 
> 赞同：-2
> 
> 时间：2012-07-21T10:23:02.663
> 
> 标签：php, mysql

`user_id`我有一个查询，每次运行时都会返回不同数量的'（基于 的数量`subscribers`）。

我需要做的是将这些`user_id`结果中的每一个插入到表中的单独行中，同时在单独的列中插入一条简单的“新警报”消息。

我怎么可能这样做呢？在这种情况下，for each 循环会起作用吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T10:26:56.233

试试这个：

```
INSERT INTO alert_table SELECT user_id, 'new alert' FROM ... WHERE ... 
```

使用您自己的查询，只需在`INSERT INTO alert_table`子句前面加上它。

# java - JMS Exception 这是什么类型的异常？

> ID：11591354
> 
> 赞同：1
> 
> 时间：2012-07-21T10:23:18.090
> 
> 标签：java, jms

在生产中运行我的代码时出现以下错误。但是在 qa 环境或 dev 环境中不会发生同样的情况。我认为这可能是 jndi 名称中的问题。但我不是百分百确定。谁能告诉我什么会导致这个异常？

```
 org.omg.CORBA.COMM_FAILURE:   vmcid: SUN  minor code: 203  completed: No
    at com.sun.corba.se.impl.logging.ORBUtilSystemException.writeErrorSend(Unknown Source)
        at com.sun.corba.se.impl.logging.ORBUtilSystemException.writeErrorSend(Unknown Source)
        at com.sun.corba.se.impl.transport.SocketOrChannelConnectionImpl.writeLock(Unknown Source)
        at com.sun.corba.se.impl.encoding.BufferManagerWriteStream.sendFragment(Unknown Source)
        at com.sun.corba.se.impl.encoding.BufferManagerWriteStream.sendMessage(Unknown Source)
        at com.sun.corba.se.impl.encoding.CDROutputObject.finishSendingMessage(Unknown Source)
        at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.finishSendingRequest(Unknown Source)
        at com.sun.corba.se.impl.protocol.CorbaClientRequestDispatcherImpl.marshalingComplete1(Unknown Source)
        at com.sun.corba.se.impl.protocol.CorbaClientRequestDispatcherImpl.marshalingComplete(Unknown Source)
        at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.invoke(Unknown Source)
        at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.is_a(Unknown Source)
        at org.omg.CORBA.portable.ObjectImpl._is_a(Unknown Source)
        at weblogic.corba.j2ee.naming.Utils.narrowContext(Utils.java:126)
        at weblogic.corba.j2ee.naming.InitialContextFactoryImpl.getInitialContext(InitialContextFactoryImpl.java:94)
        at weblogic.corba.j2ee.naming.InitialContextFactoryImpl.getInitialContext(InitialContextFactoryImpl.java:31)
        at weblogic.jndi.WLInitialContextFactory.getInitialContext(WLInitialContextFactory.java:41)
        at javax.naming.spi.NamingManager.getInitialContext(Unknown Source)
        at javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)
        at javax.naming.InitialContext.init(Unknown Source)
        at javax.naming.InitialContext.<init>(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:43:45.813

这看起来像这个 Java 错误的症状 - [http://bugs.sun.com/view_bug.do?bug_id=6553303](http://bugs.sun.com/view_bug.do?bug_id=6553303)

如果这是问题所在，那么解决方法是将生产机器上的 JVM 升级到更新的版本。错误报告的关闭细节告诉您修复所需的最低补丁级别（Java 5 和 Java 6）。

# machine-learning - 文档聚类的对数似然相似度

> ID：11591355
> 
> 赞同：1
> 
> 时间：2012-07-21T10:23:21.787
> 
> 标签：machine-learning, cluster-analysis, similarity, text-mining

我正在使用以下对数似然公式来比较文档和集群之间的相似性： log p(d|c) = sum (c(w,d) * log p(w|c)); c(w,d) 是一个词在文档中出现的频率，p(w|c) 是词 w 由集群 c 生成的可能性。

问题是基于这种相似性，文档经常被分配到错误的集群中。如果我将文档分配给具有最高 log p(d|c) 的集群（因为它通常是负值，我取 –log p(d|c)），那么它将是包含来自 a 的大量单词的集群文档，但这些单词在集群中的概率很低。如果我将文档分配给具有最低日志 p(d|c) 的集群，那么它将是仅在一个单词中与文档有交集的集群。有人可以解释一下如何正确使用对数似然吗？我尝试在java中实现这个功能。我已经看过谷歌学者，但没有找到文本挖掘中对数似然的合适解释。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T17:10:56.470

您的对数似然公式对于使用多项模型描述文档是正确的（每个文档中的单词都是独立于多项分布生成的）。

要获得最大似然聚类分配，您应该采用使 log p(d|c) 最大化的聚类分配 c。log p(d|c) 应该是一个负数 - 最大值是最接近零的数字。

如果您得到没有意义的集群分配，这可能是因为多项式模型不能很好地描述您的数据。因此，您的问题的答案很可能是您应该选择不同的统计模型或使用不同的聚类方法。

# java - Delete 和 SearchByEmail 方法不起作用

> ID：11591357
> 
> 赞同：0
> 
> 时间：2012-07-21T10:23:30.640
> 
> 标签：java, hashmap

嘿，我的 Delete 和 SearchByEmail 方法不起作用。删除基本上会问所有正确的问题，但不会删除用户选择的员工。SearchByEmail 返回所有员工，而不是用户要求的员工。

这是我的代码：MainApp

```
//Imports.
import java.util.Scanner;
//********************************************************************  
public class MainApp
{
    //The Scanner is declared here for use throughout the whole MainApp.
    private static Scanner keyboard = new Scanner(System.in);

    public static void main(String[] args)
    {
        new MainApp().start();

    }
    public void start()
    {
//Create a Store named Store and add Employee's to the Store.
        EmployeeStore Store = new EmployeeStore();
        Store.add(new Employee ("James O' Carroll", 18,"hotmail.com"));

        Store.add(new Employee ("Andy Carroll", 1171,"yahoo.com"));

        Store.add(new Employee ("Luis Suarez", 7,"gmail.com"));
//******************************************************************** 
```

.........................................

```
 case 3:
             System.out.println("Delete");
              Employee employeeDelete = MenuMethods.userInputByName();
              Store.searchByName(employeeDelete.getEmployeeName());
             Store.remove(employeeDelete);

                break;

        case 4:
                System.out.println("Delete All");
                Store.clear();

                break;
        case 5:
           System.out.println("Edit");
           Employee employeeEdit = MenuMethods.userInputByName();
           Store.searchByName(employeeEdit.getEmployeeName());
         if (employeeEdit != null)
        {
            employeeEdit.setEmployeeName("Joe");
            employeeEdit.setEmployeeId(1);
            employeeEdit.setEmployeeEmail("webmail.com");
           Store.edit(employeeEdit);
        }

            break;
        case 6:
            int searchChoice; 
            searchChoice =MenuMethods.getMenuChoice("1.Search by Name.\n2.Search by Email.", 2, "Please enter your choice:", "Error [1,2] Only");
            String temp = keyboard.nextLine();
            System.out.println("Search");
           switch (searchChoice) {
               case 1:
                   System.out.println("Search by Name.");
                   Employee employeeSearchName = MenuMethods.userInputByName();
                 Store.searchByName(employeeSearchName.getEmployeeName());

           break;

           case 2:
               System.out.println("Search by Email.");
               Employee employeeSearchEmail = MenuMethods.userInputByEmail();
               Store.searchByEmail(employeeSearchEmail.getEmployeeEmail());
           break;

             //Test Code.
            /*System.out.println("Search");
                Employee employee1 = MenuMethods.userInputByName();
                Employee foundEmployee = Store.searchByName(employee1.getEmployeeName());

                if (foundEmployee != null) {
                    System.out.println("Found employee!");
                } else {
                    System.out.println("Not Found!");
                }*/
           }

            break;
        case 7:
             System.out.println("Print");
            Store.print();

            break;
        case 8:
             System.out.println("Exit");

            break;
        }

        } while (choice != 8);

     }
} 
```

菜单方法

```
//Imports
import java.util.Scanner;
//********************************************************************

public class MenuMethods 
{
    private static Scanner keyboard = new Scanner(System.in);

..............................
    public static Employee userInput()
    {
         String temp = keyboard.nextLine();
         Employee e = null;
         System.out.println("Please enter the Employee Name:");
         String employeeName = keyboard.nextLine();
         System.out.println("Please enter the Employee ID:");
         int employeeId = keyboard.nextInt();
         temp = keyboard.nextLine();
         System.out.println("Please enter the Employee E-mail address:");
         String employeeEmail  = keyboard.nextLine();
         return e = new Employee(employeeName , employeeId, employeeEmail);

    }
    //********************************************************************
    public static Employee userInputByName()
    {
        //String temp is for some reason needed.  If it is not included
        //The code will not execute properly.
         String temp = keyboard.nextLine();
         Employee e = null;
         System.out.println("Please enter the Employee Name:");
         String employeeName = keyboard.nextLine();

         return e = new Employee(employeeName);

    }
    //********************************************************************
    public static Employee userInputByEmail()
    {
        //String temp is for some reason needed.  If it is not included
        //The code will not execute properly.
         String temp = keyboard.nextLine();
         Employee e = null;
         System.out.println("Please enter the Employee Email:");
         String employeeEmail = keyboard.nextLine();
        //This can use the employeeName's constructor because java accepts the parameters instead
         //of the name's.
         return e = new Employee(employeeEmail);

    }
    //********************************************************************

} 
```

员工商店

```
//Imports.
import java.io.Serializable;
import java.util.HashMap;
import java.util.Map;
import java.util.Scanner;
//********************************************************************
public class EmployeeStore implements Serializable
{
    HashMap<String, Employee> map;
    private static Scanner keyboard = new Scanner(System.in);

//Constructor.  
    public EmployeeStore()
    {
        map = new HashMap<String,Employee>();
    }
//********************************************************************
//Hashmap Methods.
//Add to the Hashmap : Employee.
    public void add(Employee employee)
    {

        map.put(employee.getEmployeeName(), employee);
    }
//********************************************************************
//Remove from the Hashmap : Employee.
    public Employee remove(Employee key)
    {
      //Remove the Employee by name.
        if(map.containsKey(key))
            return map.remove(key); //if its there remove and return
        else
            return null; //if its not there return 0x00000000 address
    }
//********************************************************************
//Clear the Hashmap : Employee.
    public void clear()
    {
        map.clear();
    }
    //********************************************************************
//Print the Hashmap : Employee. 
    public void print()
    {
        System.out.println("\n********Employee's in the Company.********");
        for (Employee employee : map.values())
        {
            //System.out.println(employee); to print the toString of Employee class
            //or:
            System.out.println("Employee Name:\t" + employee.getEmployeeName());
            System.out.println("Employee Id:\t" + employee.getEmployeeId());
            System.out.println("E-mail:\t"+ employee.getEmployeeEmail());
        }

    }
    public Employee get(String name){
        return map.get(name);
    }
    /*public void searchByName ()
    {
        //(for(Employee e : map.values()) {...}) 
        //and check for each employee if his/her email matches the searched value
        for(Employee e : map.values())
        {
            System.out.println(e);
            map.equals(getClass());

        }
    }*/
//********************************************************************
    public Employee searchByName(String employeeName) 
    {
        Employee employee = map.get(employeeName);    
        System.out.println(employee);
        return employee;
    }
//********************************************************************
    Employee findByEmail(String email) {
        for (Employee employee : map.values())
            if (employee.getEmployeeEmail().equals(email))
                return employee;

        // Not found.
        return null;
    }

    public boolean searchByEmail(String employeeEmail) {
        boolean employee = findByEmail(employeeEmail) != null;
        System.out.println(employee);
        return employee;
    }

    /*public void searchByName ()
    {
        //(for(Employee e : map.values()) {...}) 
        //and check for each employee if his/her email matches the searched value
        for(Employee e : map.values())
        {
            System.out.println(e);
            map.equals(getClass());
            System.out.println(e);
                map.equals(employee.getEmployeeEmail());

        }
    }*/
//********************************************************************
    public void edit(Employee employee)
    {
        map.put(employee.getEmployeeName(), employee);
    }

//********************************************************************
    public EmployeeStore copy()
    {
        //instanciate the destination copy and give same name
        EmployeeStore Copy = new EmployeeStore();

        //by specifying the type of the entry in the for loop i.e. <>
        // we don't have to typecast the getKey() and getValue() methods
        //as shown in the commented out line inside the for loop
        for(Map.Entry<String, Employee> entry : map.entrySet())
        {
            //getting each key-value and putting into the copy
            //theCopy.add((MovieKey)entry.getKey(), (Movie)entry.getValue());
            Copy.add(entry.getValue());
        }
        //return address of the new MovieStore object
        return Copy;
    }
//********************************************************************

//********************************************************************  
//********************************************************************

} 
```

员工

```
//Imports:

//********************************************************************
//Employee Class.
public class Employee
{
//Variables.
    private String employeeName;
    private int employeeId;
    private String employeeEmail;
//********************************************************************  
//Constructors.
    public Employee(String employeeName, int employeeId, String employeeEmail) 
    {
        this.employeeName = employeeName;
        this.employeeId = employeeId;
        this.employeeEmail = employeeEmail;
    }
//Overloading the constructor for the use with userInputByName method.
    public Employee(String employeeName) 
    {
        this.employeeName = employeeName;
    }

//********************************************************************
//Getters.
    public String getEmployeeEmail() 
    {
        return employeeEmail;
    }

    public String getEmployeeName() 
    {
        return employeeName;
    }
    public int getEmployeeId() 
    {
        return employeeId;
    }
//********************************************************************
//Setters.
    public void setEmployeeEmail(String employeeEmail) 
    {
        this.employeeEmail = employeeEmail;
    }
    public void setEmployeeName(String employeeName) 
    {
        this.employeeName = employeeName;
    }
    public void setEmployeeId(int employeeId)
    {
        this.employeeId = employeeId;
    }

//********************************************************************
//toString method.
    public String toString() 
    {
        return "\t\t\tEmployee\n" +
                "********************************************************************\n"+
                "Employee Name: "+ employeeName +"\n"+ 
                "Employee Id: " + employeeId +"\n"+  
                "Employee Email: " + employeeEmail;
    }
//********************************************************************
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T10:51:43.537

如果你提供了你的 Employee 类，它应该更清楚，无论如何。

问题必须如下：

```
return e = new Employee(employeeEmail); 
```

所以它是关于您的员工构造函数，它是为员工名称定义的，但您使用员工电子邮件初始化员工对象。因此，它将电子邮件分配为名称..

只需将搜索短语作为字符串返回，不要为搜索或其他操作创建新的 Employee 对象。

在不破坏您的结构的情况下，我建议您向 Employee 类添加另一个构造函数

```
public Employee(String employeeName,String employeeEmail) 
{
    this.employeeName = employeeName;
    this.employeeEmail = employeeEmail;
} 
```

和

```
public static Employee userInputByEmail()
{
     ...
     ...
     return e = new Employee(null,employeeEmail);

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T10:47:53.493

你似乎在使用

```
 Employee(String employeeName) 
```

以两种不同的方式：

```
 return e = new Employee(employeeName); 
```

和

```
 return e = new Employee(employeeEmail); 
```

该字段应该是一个或另一个。也许只是创建 Employee() 并使用 setEmployeeEmail。

# android - Android Preference - 替换偏好功能

> ID：11591361
> 
> 赞同：0
> 
> 时间：2012-07-21T10:24:37.677
> 
> 标签：android, android-preferences

我有一个`EditPreference`in a `PreferenceActivity`，我有一个变量告诉我是否应该允许用户访问此首选项或显示一些警报。

我的问题是我找不到如何在显示之前取消首选项对话框并显示我的警报（根据变量）。

我试图在首选项`onClick`或中返回真/假，`onTreeClick`但没有做任何事情，对话框仍然弹出。

在安卓 2.1+ 上。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T15:37:37.690

[`DialogPreference.onClick()`](http://developer.android.com/reference/android/preference/DialogPreference.html#onClick%28%29)处理对首选项本身的点击的 是，`protected`因此您不能在自己的`PreferenceActivity`类成员中覆盖它。

但是，您可以扩展该类来实现您所需要的。下面是一个非常简约的例子：

```
package com.example.test;

import android.content.Context;
import android.preference.EditTextPreference;
import android.util.AttributeSet;

public class MyEditTextPreference extends EditTextPreference {

    private Runnable alternative = null;

    public MyDatePickerDialog(Context context, 
            AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
    }

    public MyDatePickerDialog(Context context, AttributeSet attrs) {
        super(context, attrs);
    }

    public MyDatePickerDialog(Context context) {
        super(context);
    }

    public void setAlternativeRunnable(Runnable runnable) {
        alternative = runnable;
    }

    // this will probably handle your needs
    @Override
    protected void onClick() {
        if (alternative == null) super.onClick();
        else alternative.run();
    }

} 
```

在您的 XML 文件中：

```
<com.example.test.MyEditTextPreference
        android:key="myCustom"
        android:title="Click me!" /> 
```

在你的`PreferenceActivity`：

```
MyEditTextPreference pref = (MyEditTextPreference) this.findPreference("myCustom");
pref.setAlternativeRunnable(new Runnable() {
    @Override
    public void run() {
        Toast.makeText(getApplication(), "Canceled!", Toast.LENGTH_SHORT)
                .show();
    }
}); 
```

**作为最后一点**，让我说，当你找不到一种方法来做你想做的事时，考虑看看 Android 类本身是如何工作的。大多数时候，他们会给你很好的见解来实现你想要的。

在这种情况下，就是[`DialogInterface.onClick()`](http://developer.android.com/reference/android/preference/DialogPreference.html#onClick%28%29)方法，如上所述。所以你知道你需要以某种方式覆盖它来实现这一点。在这种情况下，解决方案是扩展`EditTextPreference`类本身。

# algorithm - 在链表中找到循环的开始节点？

> ID：11591362
> 
> 赞同：3
> 
> 时间：2012-07-21T10:24:38.973
> 
> 标签：algorithm, data-structures, linked-list

如何在给定的链表中找到循环的开始节点？让我们称之为**循环点**

到目前为止，我已经了解以下内容（使用慢/快指针）：

1.  假设列表具有大小的非循环部分`k`
2.  慢动作 k 步
3.  快速移动 2k 步
4.  快速是(2k - k)=`k`慢步`ahead`
5.  慢是在循环的开始；也被称为`Cycle point`
6.  快速是此时的`(LOOP_LENGTH - k)`步数或慢速指针`behind``Cycle point`
7.  每走 1 步慢动作，快走 2 步，慢走 1 步。
8.  `(LOOP_LENGTH - k)`因此，遇到慢速和碰撞需要快速的步骤
9.  这是我不明白的步骤： **在这个碰撞点，两个节点都`k`将从循环的前面开始。**
10.  一旦找到碰撞点，将一个指针移动到列表的头部。
11.  现在以 1 步/转的速度移动两个指针直到发生碰撞。它们相遇的节点是循环的开始，因此`Cycle point`

有人可以解释一下第 9 步和之后的步骤吗？

谢谢

**编辑**：

我想指出的一件事是，一旦进入循环，快指针永远不会超过慢指针。他们会发生碰撞。原因如下：slow 在 i 处，fast 在 i-1 处假设。当它们移动时，slow=> i+1 和 fast 也将在 i+1，因此会发生碰撞。或者，慢在 i 处，快在 i-2 处。下一步，slow-> i+1；快：我。下一步，慢-> i+2，快：i+2，因此再次碰撞。这么快永远追不上慢，只能在循环内碰撞一次！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T11:18:49.283

你的6.错了，快指针离当时在循环点的慢指针还有k步；但最好使用***before***或***behind***而不是*away*。另外，`k`可能更小、更大或等于`loop_length`.

因此，`k`当到达循环点时，快速指针比慢速指针领先一步，在您的假设下，循环点`k`在开始后几步。现在，在循环上测量，快速指针`k % loop_length`比循环点提前几步。正确的？如果`k = some_n * loop_length + r`，则快速指针`r`比循环点超前一步，即`r := k % loop_length`超前一步。

但这意味着慢速指针在`loop_length - r`循环中***领先于快速***指针。毕竟这是一个*循环。*因此，在`loop_length - r`额外的步骤之后，快速指针将赶上慢速指针。对于每一步，慢速指针移开，快速指针靠近*两步*。

所以我们不知道`k`，我们不知道，`loop_length`或者`r`，我们只知道`m = k + loop_length - r = some_n * loop_length + r + loop_length - r = (some_n+1) * loop_length`。直到两个指针相遇点的总步数`m`是循环长度的倍数。

所以现在我们重新开始，在开始时有一个新的指针，在它遇到快的地方，慢，`m`领先于新的。我们以相同的速度移动新的和慢的，每次移动 1 步，并且在循环点它们会相遇 - 因为当新指针到达循环点时，第二个仍然`m`领先一步，也就是说，`m % loop_length == 0`沿着环路向前迈进。这样我们就可以知道什么`k`是（我们一直计算我们的步数）和循环点。

我们`loop_length`通过再循环一次来找到，直到两者再相遇一次。

*   另见：[http ://en.wikipedia.org/wiki/Cycle_detection#Algorithms](http://en.wikipedia.org/wiki/Cycle_detection#Algorithms)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:59:14.270

嗯..除非您面对面交谈，否则这种问题很难解释。我会试一试。

首先在第6步：我认为快速指针应该`k`远离圆点。

但是留下这一切。我们现在有两辆车。快车的速度是慢车的两倍。

假设快车在`k`远离圆点的圆轨道上开始。

慢车从圆点开始。

现在我说两辆车将在`k`圆点之前的距离处相遇。

为什么？因为最初快车`k`距离圆点有一定距离。`n`第一次完成循环时，快车将覆盖距离。现在快车又在距离圆点 k 处。但慢车`n/2`距离圆点有一定距离。

现在，快车必须`n-2k`行驶更多`k`距离才能到达圆点之前的距离。慢车必须经过`n/2 - k = (n-2k) / 2`一段距离才能到达`k`起点之前的距离。`Which is exactly half the distance of the path to be covered by the fast car`. 快车的速度是慢车的两倍。

所以很明显他们会在`k`距离圆点之前的距离相遇。

# html - Internet Explorer 9 和边界半径

> ID：11591371
> 
> 赞同：0
> 
> 时间：2012-07-21T10:26:24.457
> 
> 标签：html, css, internet-explorer

> **可能重复：**
> [在 IE 中支持“border-radius”](https://stackoverflow.com/questions/635851/support-for-border-radius-in-ie)

在我的项目中，我无法让边框半径在 IE 中工作，所以我创建了这个简单的 html 文件，看看我是否遗漏了一些东西。

```
<html>
<head>
<title>border test</title>
<style type="text/css">
body{background-color: #009de8;}
div{border: 2px solid red;border-radius: 5px;}
</style>
</head>
<body>
    <div>
        <h1>Hello world!</h1>
    </div>
</body>
</html> 
```

尽管如此，边框绝不是圆形，尽管 IE9 应该支持边框半径属性。

知道我错过了什么吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T11:11:04.823

一般来说，如果不包含标签，Internet Explorer 会进入 quirks-mode `DOCTYPE`，这会以某种出乎意料的方式呈现页面。

在 html 文档的开头（第一行）添加这个 html5 doctype 标签，它将起作用：

`<!DOCTYPE html>`

它应该可以工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T10:32:01.610

检查[IE 中对“border-radius”的支持](https://stackoverflow.com/questions/635851/support-for-border-radius-in-ie)

你需要这个：

```
<meta http-equiv="X-UA-Compatible" content="IE=9" /> 
```

# php - 您在 php 5.1.0 中使用什么 apache 版本？对于沼泽

> ID：11591373
> 
> 赞同：0
> 
> 时间：2012-07-21T10:26:26.350
> 
> 标签：php, apache, wamp

好的，我有一个很酷的脚本，我想将其变为现实，它被称为“Dboorx”，它是一款多人策略游戏。我想在我的电脑上吃午饭。

使用最新的 php 和 apache 运行它时，它只会使所有页面变为空白。

哪些 apache 版本适用于 php 版本 5.1.0？

注意：游戏有特定的指令，专门在 php 5.1.0 中运行 最新的 apache 无法使用该 php 版本运行

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T10:32:39.813

我建议你将 apache 和 php 更新到最新版本（所以下载最后一个 wamp），如果游戏没有运行，那么尝试更正和调整最新版本 php 的 php 错误。

# macos - 不能使用超过 1.5 GB 的 4 GB RAM 进行简单排序

> ID：11591379
> 
> 赞同：0
> 
> 时间：2012-07-21T10:27:21.117
> 
> 标签：macos, sorting, performance-testing, virtual-memory, swapfile

我使用的是大约 2007 年夏季推出的 MacBook Pro (x86-64)，配备 32KB L1（我认为）、4MB L2 和 4GB RAM；我正在运行 OS X 10.6.8。

我正在用 C++ 编写标准的基数排序：它在排序时从一个数组复制到另一个数组并再次返回（因此使用的内存是数组大小的两倍）。我通过打印一个“。”来观看它。每百万个条目移动。

如果数组最多为 750 MB，那么这些点通常移动得很快；但是，如果数组更大，那么整个过程就会停止。如果我以块为单位对 512 MB 进行基数排序，然后尝试对这些块进行合并排序，则第一个块运行得很快，然后进程再次爬入停止。也就是说，我的进程似乎只能使用 1.5 GB 的 RAM 进行排序。奇怪的是我有 4 GB 的物理 RAM。

我尝试分配一个 8 GB 数组并遍历它写入每个字节并打印一个“。” 每百万字节；当我知道它必须进入磁盘时，似乎一切都开始减慢 1.5 GB 并保持在该速度甚至超过 4 GB；因此操作系统开始将页面写入大约 1.5 GB 的磁盘。

我想用我的机器对大数组进行排序。我如何告诉我的操作系统至少给我的进程提供 3.5 GB 的 RAM ？我尝试使用 mlock()，但这似乎让事情变得更加缓慢。想法？

# webserver - “中间件”和“应用服务器”有什么区别？

> ID：11591382
> 
> 赞同：8
> 
> 时间：2012-07-21T10:27:43.450
> 
> 标签：webserver, middleware

Weblogic 和 WebSphere 等应用程序服务器都像中间件一样使用。这两个概念有什么区别？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T11:54:04.320

中间件是不属于操作系统的任何东西，也不是一个软件应用程序的一部分，而是位于它们之间。因此，Application Server 是一种中间件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T10:32:37.993

[中间件](http://en.wikipedia.org/wiki/Middleware#Middleware_in_distributed_applications)比 Application Server 更通用。

应用服务器是一种中间件。

事实是，当应用于分布式计算时，中间件这个术语相当模糊，可以应用于服务器和客户端之间存在的任何软件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T10:45:42.910

应用服务器还可能包含 Web/Servlet 容器等组件。中间件是能够实现系统间通信/数据交换的东西。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-09-27T15:00:40.040

据我了解

> **应用服务器**- 中间件 + 你的应用
> 
> **中间件**- 它充当您的请求和应用程序之间的桥梁。他们处理请求并以有效的方式提供响应。

更清楚地说，WebSphere 是一个用 Java 编写的应用程序服务器，并且可以将中间件注入其中以使您的请求和响应高效。您的请求首先与中间件通信，然后再与服务器中的应用程序通信。

如果我错了，请纠正我

# c# - 如何从程序的其他部分访问表单中动态生成的文本框？

> ID：11591389
> 
> 赞同：0
> 
> 时间：2012-07-21T10:28:23.170
> 
> 标签：c#, winforms, scope

我目前有一个表单，我动态创建了一个文本框、按钮等的二维数组。我刚刚发现程序的其他部分无法访问我创建的文本框？有什么办法可以做到吗？

我的代码类似于：

```
 public Form1()
    {
        int column = 4;

        System.Windows.Forms.TextBox[,] textbox = new System.Windows.Forms.TextBox[column, row];

        for (int i = 0; i < column; i++)
        {
            for (int j = 0; j < row; j++)
            {
                textbox[i, j] = new System.Windows.Forms.TextBox();
                textbox[i, j].Size = new Size(80, 20);
                textbox[i, j].Name = "textbox_" + i + "_" + j;
                textbox[i, j].Location = new System.Drawing.Point((i * 80) + 20, (j * 20) + 30);
                textbox[i, j].Visible = true;
                Controls.Add(textbox[i, j]);

            }
        }

        /////fill the textboxes with data//////
    } 
```

我无法访问方法之外的文本框，我该怎么做？你能提供一些工作编码吗？我对c#还是比较陌生，非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T10:33:42.423

您可以添加一个类级别的属性，就像

```
public class Form1
{
    public System.Windows.Forms.TextBox[,] textbox { get; set; }

    public Form1()
    {
        int column = 4;

        textbox = new System.Windows.Forms.TextBox[column, row];

        for (int i = 0; i < column; i++)
        {
            for (int j = 0; j < row; j++)
            {
                textbox[i, j] = new System.Windows.Forms.TextBox();
                textbox[i, j].Size = new Size(80, 20);
                textbox[i, j].Name = "textbox_" + i + "_" + j;
                textbox[i, j].Location = new System.Drawing.Point((i * 80) + 20, (j * 20) + 30);
                textbox[i, j].Visible = true;
                Controls.Add(textbox[i, j]);

            }
        }
    }
} 
```

然后你可以简单地做

```
Form1 myForm = GetMyForm();
System.Windows.Forms.TextBox[,] theTextboxArray = myForm.textbox; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:35:49.193

当然，您无法使用`textbox_i_j`其中 i 和 j 是带有智能感知的数字来访问它们，因为它不受支持，但您可以像这样获得它们

```
TextBox GetTB(string name)
{
 return ( Controls.FindControl(name) as TextBox );
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T10:36:35.990

```
Declare int column = 4;
System.Windows.Forms.TextBox[,] textbox = new System.Windows.Forms.TextBox[column, row]; 
```

在 Form1 构造函数之外。您的代码应如下所示：

```
int column = 4;
System.Windows.Forms.TextBox[,] textbox;
public Form1()
{

    textbox = new System.Windows.Forms.TextBox[column, row];

    for (int i = 0; i < column; i++)
    {
        for (int j = 0; j < row; j++)
        {
            textbox[i, j] = new System.Windows.Forms.TextBox();
            textbox[i, j].Size = new Size(80, 20);
            textbox[i, j].Name = "textbox_" + i + "_" + j;
            textbox[i, j].Location = new System.Drawing.Point((i * 80) + 20, (j * 20) + 30);
            textbox[i, j].Visible = true;
            Controls.Add(textbox[i, j]);

        }
    }

    /////fill the textboxes with data//////
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T11:15:15.727

我在网上搜索答案，等待一些聪明人回答我的问题。我使用字典来检索文本框，如下所示：

[在 C# 中按名称获取 Windows 窗体控件](https://stackoverflow.com/questions/1536739/c-sharp-get-control-by-name)

//宣言

```
 Dictionary <String, System.Windows.Forms.TextBox> dictionaryTextBox = new Dictionary<string, System.Windows.Forms.TextBox>(); 
```

// 创建数组

```
 System.Windows.Forms.TextBox[,] textbox = new System.Windows.Forms.TextBox[column, row];

        for (int i = 0; i < column; i++)
        {
            for (int j = 0; j < row; j++)
            {
                textbox[i, j] = new System.Windows.Forms.TextBox();
                textbox[i, j].Size = new Size(80, 20);
                textbox[i, j].Name = "textbox_" + i + "_" + j;
                textbox[i, j].Location = new System.Drawing.Point((i * 80) + 20, (j * 20) + 30);
                textbox[i, j].Visible = true;
                Controls.Add(textbox[i, j]);

                  //new added
                dictionaryTextBox.Add (textbox[i, j].Name, textbox[i, j]);

            }
        } 
```

// 恢复

```
 System.Windows.Forms.TextBox retrieve = dictionaryTextBox["textbox_3_3"];

        retrieve.Text = "apple"; 
```

# php - 将图片链接到 Facebook 状态（使用图形 API）

> ID：11591391
> 
> 赞同：0
> 
> 时间：2012-07-21T10:28:32.327
> 
> 标签：php, facebook, facebook-graph-api

我已经尝试了几乎所有方法来将图片链接到通过 Facebook Graph API 从其他 Web 应用程序创建的 Facebook 状态。

我正在使用以下字段向[https://graph.facebook.com/me/feed发送 POST 请求：](https://graph.facebook.com/me/feed)

```
message = text that is correctly displayed
link = link to page that also works well
picture = link to picture that I want to display in status (not working)
type = picture 
```

我尝试使用源字段而不是图片字段，尝试省略类型字段，我也尝试直接使用图片作为链接字段。

我还尝试使用图片（或源）字段直接指向带有图片数据的 URL，或指向包含 og:image 元标记中提到的该图像的页面。

没有提到的工作。我只能发布带有文本和正确链接的状态，从不包括图片。另一方面，我已经意识到，我的图片的链接包含在一些 Facebook 链接中（这在 Facebook 墙上状态的一个 div 元素中的元素检查器中可见），但是这个链接不起作用 - 它显示灰色 gif图片大 1px x 1px。我试图从链接中删除所有特殊字符，现在它是简单的形式，例如。foo.bar/some/path/picture12.

没有任何效果

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:40:13.223

确保在帖子中包含指向的链接： `link=http://url.to.your.canvas.app/another.link`

作为登录页面提供的链接需要与您在 developers.facebook.com 上的应用程序设置中指定的链接位于同一域中

另外，`me`您应该使用您的`Facebook ID`（作为一种好习惯）`

# jquery - 单击链接不会触发我在 jQuery 中的脚本

> ID：11591393
> 
> 赞同：1
> 
> 时间：2012-07-21T10:28:35.077
> 
> 标签：jquery

我有以下内容：

```
 <div class="controls-buttons">
            <a id="level-1" href="#">1</a>
            <a id="level-12"href="#">12</a>
        </div> 
```

和：

```
$('a#level-1').click(function () {
    alert("level-1");
    // all trs with level-1 class inside abc table
    $('tr.level-1').toggle();
});

$('a#level-12').click(function () {
    alert("level 12");
    // all trs with level-1 or level-2 class inside abc table
    $('tr.level-1, tr.level-2').toggle();
}); 
```

但是，当我单击链接时，没有警报显示。我设置的方式有问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:32:11.117

如果锚点是动态生成的，您应该委托点击事件，请尝试以下操作：

```
$(document).ready(function() {
    $('body').on('click', 'a#level-1', function () {
        alert("level-1");
        $('tr.level-1').toggle();
    });
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:33:10.253

您应该将代码放在[$(document).ready(handler)](http://api.jquery.com/ready/)中，以便在 DOM 完全加载时附加事件。

```
$(document).ready(function() {
  $('a#level-1').click(function () {
      alert("level-1");
      // all trs with level-1 class inside abc table
      $('tr.level-1').toggle();
  });

  $('a#level-12').click(function () {
      alert("level 12");
      // all trs with level-1 or level-2 class inside abc table
      $('tr.level-1, tr.level-2').toggle();
  });
}); 
```

[演示](http://jsfiddle.net/rbgt3/)

# php - 登录会话 PHP 后输出用户名和用户类型

> ID：11591394
> 
> 赞同：0
> 
> 时间：2012-07-21T10:28:36.043
> 
> 标签：php, mysql

好的，我坚持这一点。我尝试了isset功能，但没有任何反应......

登录后，用户将被重定向到特定页面。

如果主持人是她的 user_type，那么她将被重定向到 moderator.php 页面如果代理是她的 user_type，她将被重定向到 agent.php

我在这里有包含登录表单的 index.php

```
<form action="index.php" method=get>
    <?php
    session_start();
    if ($_SESSION["logging"] && $_SESSION["logged"]) {
        printme();
    }
    else {
        if (!$_SESSION["logging"]) {
            $_SESSION["logging"] = true;
            loginform();
        }
        else if ($_SESSION["logging"]) {
            $number_of_rows = checkpass();
            if ($number_of_rows == 1) {
                $_SESSION[user]   = $_GET[userlogin];
                $_SESSION[logged] = true;
                echo "<h1>You have logged in successfully</h1><br/>";
                echo "<a href='logout.php'>Logout</a> | <a href='users.php'>Click to proceed</a>";
            }
            else {
                loginform();
            }
        }
    }

    function loginform() {
        print ("<center><div id='login_header'><b><font face='Arial Black' color='black' size='4px'>Sign in to Minquep!</font></b></div></cen                   ter>");
        print("<br/><br/>");
        print ("<center><label>Username:</label><input type='text' name='userlogin' size='20'><br/><label>Password:</label><input type='                password' name='password' size='20'></center>");
        print "<br/><input type='submit' value='Submit' name='submit' class='submit'>";
    }

    function checkpass() {
        $dbHost = 'localhost';
        $dbUser = 'root';
        $dbPass = '';
        $dbname = 'minquep_test';
        $conn   = mysql_connect($dbHost, $dbUser, $dbPass); // Connection Code        mysql_select_db($dbname, $conn); // Connects to database      
        $sql    = "select * from users where login='$_GET[userlogin]' and password='$_GET[password]'";
        $result = mysql_query($sql, $conn) or die(mysql_error());
        $fetched = mysql_fetch_array($result);
        if ($fetched['user_type'] == "moderator") {
            echo '<script type="text/javascript">window.alert("You have logged in successfully!\n")</script>';
            print("<b><h1>hi mr.$_SESSION[user]</h1>");
            echo "<meta http-equiv=\"refresh\" content=\"0;URL=pages/moderator.php\">";
        }
        else if ($fetched['user_type'] == "agent") {
            echo '<script type="text/javascript">window.alert("You have logged in successfully!\n")</script>';
            echo "<meta http-equiv=\"refresh\" content=\"0;URL=pages/agent.php\">";
        }
    }

    function content() {
        print("<b><h1>hi mr.$_SESSION[user]</h1>");
        print "<br><h2>only a logged in user can see this</h2>";
    }

    function printme() {
        echo '<script type="text/javascript">window.alert("You have logged in successfully!\n")</script>';
    }

    ?>

</form> 
```

从上面的代码中，这就是我如何根据用户类型将用户重定向到他们的特定页面。

```
if ($fetched['user_type'] == "moderator") {
    echo '<script type="text/javascript">window.alert("You have logged in successfully!\n")</script>';
    print("<b><h1>hi mr.$_SESSION[user]</h1>");
    echo "<meta http-equiv=\"refresh\" content=\"0;URL=pages/moderator.php\">";
}
else if ($fetched['user_type'] == "agent") {
    echo '<script type="text/javascript">window.alert("You have logged in successfully!\n")</script>';
    echo "<meta http-equiv=\"refresh\" content=\"0;URL=pages/agent.php\">";
} 
```

现在在我的 moderator.php 中，我只调用了 moderator_include.php，我应该在其中打印登录用户的用户名和 user_type。

版主.php

```
<div id="wrapper">
    <div id="container">

        <div id="header">

            <?php include "moderator_header.php"; ?>

        </div> 
```

它包括 moderator_header.php 是

```
<div class="logo">
    <a href="moderator.php"><img class="logo_img" src="../images/minquepLOGO.png"/></a>
</div>

<div id="title">
    <img src="../images/title.gif"/>

</div>
<br/>

<?php
    session_start();
    if ($_SESSION["logged"] = true) {

        print("<b><h1>hi mr. $_SESSION[user] . You are logged in as /*THE USER_TYPE GOES HERE */ </h1>");
    }
?> 
```

我试图将用户名输出为

```
if (isset($_SESSION['logged'])){
    print("<b><h1>hi mr. $_SESSION[user] . You are logged in as /*THE USER_TYPE GOES HERE */ </h1>"); } 
```

但是什么也没有发生...

关于如何输出用户的 user_type ......我不知道怎么做，因为它不是 index.php 中发生的会话的一部分

顺便说一句，我的 logout.php 是这样的

```
<?php
    session_start();
    if (session_destroy()) {
        print"<h2><B><blink>you have logged out successfully</B></blink></h2>";
        print "<h3><a href='index.php'>back to main page</a></h3>";
    }
?> 
```

请帮助我...谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T10:32:52.997

```
print("<b><h1>hi mr " . $_SESSION['user'] . "You are logged in as" . $userType . "</h1>"); } 
```

试试看 ：）

**编辑**

将变量 $userType 编辑为它应该是什么...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:35:29.803

有时 php 会变得有点棘手......要记住的一些事情

1）始终在任何输出之前启动会话，这意味着在您的代码顶部，在启动会话之前，甚至不应该有一个空格或空行。

2）当您有一个启动会话的文件并包含另一个文件时，您不必在包含的文件中再次启动它。

为了跟踪您的会话，在您想要的任何页面中添加以下代码：

```
<pre><?php print_r($_SESSION); ?></pre> 
```

看看结果如何。

# javascript - 拖放侧边栏

> ID：11591404
> 
> 赞同：1
> 
> 时间：2012-07-21T10:30:11.143
> 
> 标签：javascript, jquery, html

我正在开发一个新项目，并且我有侧边栏，我希望用户可以随意移动和订购它们。

就像单击框的标题并将其移至顶部一样，将导致框位于顶部。

我怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:36:30.173

## *[jsBin 演示](http://jsbin.com/ohekoy/4/edit)*

```
$('.sidebar').draggable(); 
```

[http://jqueryui.com/demos/draggable/](http://jqueryui.com/demos/draggable/)
看看**jQuery UI**的可拖动功能。

# - 日蚀朱诺

> ID：11591407
> 
> 赞同：0
> 
> 时间：2012-07-21T10:30:41.670
> 
> 标签：

Juno 是 2012 年 6 月 27 日发布的 Eclipse 版本 3.8 和 4.2 的代号。使用这个标签来回答特定于这个 Eclipse 版本的问题，在大多数情况下，您还应该指定 eclipse 标签。

# iphone-developer-program - 无法续订 iOS 开发者大学计划

> ID：11591410
> 
> 赞同：0
> 
> 时间：2012-07-21T10:31:08.957
> 
> 标签：iphone-developer-program

当我尝试使用“开发人员程序 ios”注册时出现此错误。我将不得不重新创建苹果ID？ ![错误](../Images/ddd9b5b2389b4d31a0aeb392fbc8615c.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:54:42.090

取自[https://developer.apple.com/support/ios/university.html](https://developer.apple.com/support/ios/university.html)

![在此处输入图像描述](../Images/d4a19a6c7a10eef316bfa8bff1f6e8f0.png)

如果您被授权代表您的大学续订该计划，听起来您必须直接联系 Apple 支持才能续订您的计划。

# javascript - 如何在 Windows 8 html5 Metro 应用程序中显示图像及其下方的 2 个按钮？

> ID：11591416
> 
> 赞同：0
> 
> 时间：2012-07-21T10:32:05.933
> 
> 标签：javascript, html, windows-8, microsoft-metro, windows-runtime

在我的地铁应用程序中，我正在尝试使用图像（第一行）和图像下方的 2 个按钮（表示下一行）创建主页。第一个按钮“更多”应该在屏幕的左侧，“播放”应该在第二行的屏幕右侧。

我希望屏幕的顶部 90%（高度）应该被图像覆盖（宽度应该是从左到右的整个屏幕），其余 10%（位于屏幕底部）应该只有这两个按钮。

任何人都可以帮助我使用 HTML 代码吗？

我试图使用两个部门，一个用于显示图像，另一个用于按钮。但目前它只显示整个页面的图像，而且也只显示了一半的图像。

```
<div style="height:60%;" >
    <img src="images/games.jpg" style="width:100%;" />
</div> 

<div style="vertical-align:bottom;background-color:orange;grid-cell-stacking:columns;margin:4px;padding-bottom:2px;padding-top:40%;padding-left:60%">
    <input type="button" id="btnMore" name="Mute" value="More"  />
    <input type="button" id="btnPlay" name="Play" value="Play" />
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T17:12:15.940

这听起来像是您需要的新的 -ms-grid 布局类型。

```
<div class="mainGrid">
  <img class="mainimage" src="yourImage.jpg"/>
  <div class="button1">Your Button 1</div>
  <div class="button2">Your button 2</div>
</div> 
```

和CSS：

```
.mainGrid {
  display: -ms-grid;
  -ms-grid-columns: 1fr 1fr;
  -ms-grid-rows: 90fr 10fr;
 }
 .mainImage {
   -ms-grid-row: 1;
   -ms-grid-column: 1;
   -ms-grid-column-span: 2;
   width: 100%;
   height: 100%;
 }
 .button1 {
     -ms-grid-row: 2;
     -ms-grid-column: 1;
     -ms-grid-column-align: start;
 }
 .button2 {
     -ms-grid-row: 2;
     -ms-grid-column: 1;
     -ms-grid-column-align: end;
 } 
```

有关 CSS 网格支持的完整详细信息：http: [//msdn.microsoft.com/en-us/library/ie/hh673533 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/ie/hh673533(v=vs.85).aspx)

这是正在进行的标准（我相信 webkit 目前正在实施它）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T12:35:22.067

这对你来说怎么样？

[http://jsfiddle.net/nT3eB/](http://jsfiddle.net/nT3eB/)

我可以想象你想要拉伸图片，或者这样。

HTML：

```
<html><head><title>Title</title></head>
<body>
    <div id="container">
        <div id="imageSection"></div>
        <div id="buttonSection">
            <input type="button" id="btnMore" name="Mute" value="More" />
            <input type="button" id="btnPlay" name="Play" value="Play" />    
        </div>
    </div>
</body>
</html>​ 
```

和 CSS：

```
html, body, #container {
    width: 100%;
    height: 100%;
}

#imageSection {
    height: 90%;
    background-image: url(../images/games.jpg);
}

#buttonSection {
    height: 10%;
    width: 100%;
    background-color:orange;
}

#btnMore,
#btnPlay {
    height: 100%;
    width: 50%;
    float: left;
}
​ 
```

# crystal-reports - SQL Profiler - Crystal Report 上没有主机名

> ID：11591417
> 
> 赞同：0
> 
> 时间：2012-07-21T10:32:07.613
> 
> 标签：crystal-reports, hostname, sql-server-profiler

我目前使用的是 SQL Server 2008 和 Crystal Report 8.0。有时我需要知道运行水晶报表的计算机是什么，但不幸的是，我似乎在 SQL Profiler 中看不到它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T21:00:46.690

我假设您已经在 SQL Profiler 中看到了 Host Name 列。

然后让您的计算机使用 OLE DB (ADO) 进行连接。配置数据源时，您可以配置高级属性。在那里添加一个名为：***Workstation ID***的属性作为值设置计算机的名称或您需要的任何名称。然后您将在 SQL Profiler 中看到主机名。

这是您可以另外设置的列表：http: [//msdn.microsoft.com/en-us/library/ms130822.aspx](http://msdn.microsoft.com/en-us/library/ms130822.aspx)

![Crystal Reports OLE DB ADO 高级连接属性](../Images/df041d41f617b636bdc52457d8d4dedb.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T16:16:09.737

SQL Profiler 中有一个`HostName`列，它确实显示了运行它的计算机名称，对于水晶报告也是如此。最能捕捉完整 Crystal 报表的事件是`TSQL -> SQL:Batch Completed`。

或者，每个用户都可以使用自己的用户名登录到水晶报表的数据库（我们使用 Active Directory），用户名显示在`LoginName`列下方。让每个人都知道管理员级别甚至`sa`密码通常是不好的做法。

# c# - Process.Start() 无法打开 exe

> ID：11591429
> 
> 赞同：1
> 
> 时间：2012-07-21T10:33:10.003
> 
> 标签：c#, .net

我正在尝试从 c# 代码启动应用程序。下面是代码..但是exe给出错误“应用程序遇到问题需要关闭。很抱歉给您带来不便”。

我将命令值传递为

```
command = "\"C:\\Program Files\\Nimbuzz\\Nimbuzz.exe\""; 
```

代码：

```
private int ExecuteSystemCommand(string command)
{
   procStartInfo = new System.Diagnostics.ProcessStartInfo("cmd", "/c " + command);
   procStartInfo.RedirectStandardOutput = true;
   procStartInfo.UseShellExecute = false;
   procStartInfo.CreateNoWindow = false;
   proc = new System.Diagnostics.Process();
   proc.StartInfo = procStartInfo;
   proc.Start();

   return proc.Id;
} 
```

但是从桌面快捷方式打开时，exe正常打开。我不知道怎么了。请建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T10:38:33.727

您必须指定要执行的 EXE。

```
Process.Start("cmd.exe", ...) 
```

这些文章似乎回答了这个问题：

*   [ProcessStartInfo.UseShellExecute](http://msdn.microsoft.com/en-us/library/system.diagnostics.processstartinfo.useshellexecute.aspx)

*   [ProcessStartInfo.FileName](http://msdn.microsoft.com/en-us/library/system.diagnostics.processstartinfo.filename.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T14:54:30.527

好吧，我刚刚发现，我需要先设置工作目录，然后再调用 Process.Start()

```
Directory.SetCurrentDirectory("C:\\Program Files\\Nimbuzz\\"); 
```

# asp.net - 如何在没有 Request.QueryString[" "] 的情况下显示登录用户的详细信息；asp.net 中的方法？

> ID：11591435
> 
> 赞同：1
> 
> 时间：2012-07-21T10:34:10.580
> 
> 标签：asp.net, logged

我已经尝试了太多，但我没有得到它:(

我需要做的就是：每个用户在登录时都可以看到他的详细信息。为此，我创建了一个名为 Shiko.asp 的表单。这种形式背后的代码是这样的：

`公共部分类Shiko：System.Web.UI.Page

```
{
    protected void Page_Load(object sender, EventArgs e)
    {
        if (!Page.IsPostBack)
        {
            string idCard = Request.QueryString["id"];
            if (!String.IsNullOrEmpty(idCard))
            {
                Employee.DetailsDataTable table = Matrix.GetEmployeeById(idCard);
                if (table.Rows.Count > 0)
                {
                    System.Data.DataRow row = table.Rows[0];`

                    lblIdCard.Text = row["IdCard"].ToString();
                    lblPassword.Text = row["Password"].ToString();
                    lblEmri.Text = row["Firstname"].ToString();
                    lblMbiemri.Text = row["Lastname"].ToString();
                    lblGjinia.Text = row["Gender"].ToString();
                    lblDitelindja.Text = row["Birthday"].ToString();
                    lblPaga.Text = row["Salary"].ToString();
                    lblTelefoni.Text = row["Phone"].ToString();
                    lblQyteti.Text = row["City"].ToString();

                }

                else
                {
                    // HERE IS THE PART OF THE CODE I NEED TO ADD

                }
            }
        }
    } 
```

问题是，当管理员登录并单击其面板上的详细信息链接时，使用 QueryString 它可以让他查看该雇主的详细信息，但是如果他单击 NavigationMenu“详细信息”而不使用查询字符串，则仅显示一个包含每行名称的空表单（我在表单中使用了标签），但它不会使用登录用户的详细信息填充表单。

我的问题是，如何做到这一点？

# delphi - intraweb XII+isapi+iis7 cookie 未保存？

> ID：11591436
> 
> 赞同：0
> 
> 时间：2012-07-21T10:34:16.950
> 
> 标签：delphi, cookies, intraweb

我开发了一个保存 cookie 的 intraweb XII 小应用程序：

```
 ck:=THTTPCookie.Create('coo1','valcoo1','',now+7);
 WebApplication.Response.Cookies.Add(ck); 
```

在我重新打开应用程序的地方，我使用：

```
WebApplication.Request.CookieFields.Values['coo1'] 
```

如果我在我的电脑上调试，应用程序一切正常。当我将 isapi dll 部署到 IIS7 服务器时，不会重新加载 cookie。

有人可以帮助我吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-02T01:33:55.790

您可能需要更新到更新的版本，因为我们遇到了一些已修复的 cookie 问题。

# php - 一个头文件有不同的页面标题？

> ID：11591441
> 
> 赞同：0
> 
> 时间：2012-07-21T10:35:24.763
> 
> 标签：php

你如何在头文件上做多个页面标题？不过有一件事。对于索引页，我有

```
error_reporting(0);
if ($_GET["error"]=="404") { 
    include("forum/styles/art_air/web_template/overall_header.php");
    include("include/404"); 
    include("include/index");
    include("forum/styles/art_air/web_template/overall_footer.php");
} else { 
    include("forum/styles/art_air/web_template/overall_header.php");
    include("include/index");
    include("forum/styles/art_air/web_template/overall_footer.php");
} 
```

所以我会先有标题。那么我将如何做到

`index?error=404`和索引有不同的标题？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T10:40:25.737

在`overall_header.php`

```
<?php
$title = "Hello, wolrd!";
if ( $_GET["error"] == "404" ) {
    $title = "Error";
}
?>

<title><?php echo $title; ?></title> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:38:15.260

使用 JavaScript 和`document.title`.

例子：

```
<script language="javascript">document.title = "My Title"</script> 
```

JS可以在body中使用。

* * *

另一种方法是在包含所有内容之前设置一个`$GLOBAL`变量。

例子：

```
error_reporting(0);
$GLOBALS['404'] = 0;
if ($_GET["error"]=="404") { 
    $GLOBALS['404'] = 1;
    include("forum/styles/art_air/web_template/overall_header.php");
    include("include/404"); 
    include("include/index");
    include("forum/styles/art_air/web_template/overall_footer.php");
} else { 
    $GLOBALS['404'] = 0;
    include("forum/styles/art_air/web_template/overall_header.php");
    include("include/index");
    include("forum/styles/art_air/web_template/overall_footer.php");
} 
```

在你的`overall_header.php`：

```
if($GLOBALS['404'] == 1) echo '<title>404: Not Found</title>';
else echo '<title>My Title</title>'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T10:43:04.603

你可以试试开关

```
<?php
$page = $_SERVER['PHP_SELF'];
switch($page) {
    case "index.php":
        echo "<title>My Homepage</title>";
        break;
    case "apples.php":
        echo "<title>The Best Apples!</title>";
        break;
    case "bananas.php":
        echo "<title>We Sell Bananas</title>";
        break;
}
?> 
```

# r - R 将 table() 的输出保存到数据框中

> ID：11591445
> 
> 赞同：17
> 
> 时间：2012-07-21T10:35:38.393
> 
> 标签：r

我有以下数据框：

```
id<-c(1,2,3,4,1,1,2,3,4,4,2,2)
period<-c("first","calib","valid","valid","calib","first","valid","valid","calib","first","calib","valid")
df<-data.frame(id,period) 
```

打字

```
table(df) 
```

结果是

```
period
id  calib first valid
1     1     2     0
2     2     0     2
3     0     0     2
4     1     1     1 
```

但是，如果我将其保存为数据框“df”

```
 df<-data.frame(table(df)) 
```

'df' 的格式就像

```
id period Freq
1   1  calib    2
2   2  calib    1
3   3  calib    1
4   4  calib    0
5   1  first    1
6   2  first    2
7   3  first    0
8   4  first    0
9   1  valid    0
10  2  valid    0
11  3  valid    2
12  4  valid    3 
```

如何避免这种情况以及如何将第一个输出按原样保存到数据框中？

更重要的是，有什么方法可以使用“dcast”获得相同的结果？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-07-21T10:42:12.507

这会有帮助吗？

```
> data.frame(unclass(table(df)))
  calib first valid
1     1     2     0
2     2     0     2
3     0     0     2
4     1     1     1 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-06-29T14:59:52.673

稍微详细说明一下。我已经更改了示例 data.frame 中的 id，使您的 id 不是 1:4，以证明 id 被带到表中并且不是行数序列。

```
id <- c(10,20,30,40,10,10,20,30,40,40,20,20)    
period <- c("first","calib","valid","valid","calib","first","valid","valid","calib","first","calib","valid")
df <- data.frame(id,period) 
```

创建新的 data.frame 两种方式之一。 [rengis](https://stackoverflow.com/users/603625/rengis)的答案适用于首先具有 id 列的 2 列数据帧。如果您的数据框有超过 2 列，或者列的顺序不同，它就不会很好地工作。

替代方法是为您的表指定列和列顺序：

```
df3 <- data.frame(unclass(table(df$id, df$period))) 
```

该`id`列包含在新的 data.frame 中`row.names(df3)`。要将其添加为新列：

```
df3$id <- row.names(df3)
df3
   calib first valid id
10     1     2     0 10
20     2     0     2 20
30     0     0     2 30
40     1     1     1 40 
```

# android - 向 Android 游戏添加背景音乐的首选方式？

> ID：11591447
> 
> 赞同：1
> 
> 时间：2012-07-21T10:36:00.093
> 
> 标签：android, background-music

我想为我的 Android 游戏添加背景音乐，这需要能够暂停、恢复等。

我找到了这个例子： http: [//www.codeproject.com/Articles/258176/Adding-Background-Music-to-Android-App](http://www.codeproject.com/Articles/258176/Adding-Background-Music-to-Android-App)

然而线

```
mServ = ((MusicService.ServiceBinderbinder).getService(); 
```

似乎引发了非常奇怪的错误，我不知道这是要做什么..

如果有人可以看到如何让这种方式工作，或者是否有另一种更好的方式来做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-09T14:39:50.213

试试这个

```
mServ = ((MusicService.ServiceBinder)binder).getService(); 
```

它为我工作。还将 MusicService 类中的 getService() 方法更改为公共方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-22T11:27:23.330

经过广泛查看，我发现了另一个问题：[Playing BG Music Across Activities in Android](https://stackoverflow.com/questions/2097909/playing-bg-music-across-activities-in-android)

指向此代码：[http ://www.rbgrn.net/content/307-light-racer-20-days-61-64-completion](http://www.rbgrn.net/content/307-light-racer-20-days-61-64-completion)

这似乎工作正常。不知道这是否是最好的方法..

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-11-12T21:12:15.553

***尝试使用***

```
mServ = ((MusicService.ServiceBinder) binder).getService(); 
```

使 getService() 公开

```
public class ServiceBinder extends Binder {
    public MusicService getService() {
        return MusicService.this;
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-18T15:15:05.813

```
mServ = ((MusicService.ServiceBinder)binder).getService(); 
```

# python - 带有交换对象的 LDAP 查询

> ID：11591452
> 
> 赞同：0
> 
> 时间：2012-07-21T10:36:40.030
> 
> 标签：python, active-directory, ldap, exchange-server

我正在尝试通过 ldap 查询获取一些属性，如下所示：

```
import win32com.client
ldap="SELECT cn, displayName From 'LDAP://DC=abc,DC=com' WHERE legacyExchangeDN = '{}'"
c = win32com.client.Dispatch('ADODB.Connection')
c.Open('Provider=ADsDSOObject')
rs,rc = c.Execute(ldap.format(dn))
while not rs.EOF:
    for e in rs.fields:
        print('{}: {}'.format(e.Name, e.Value))
    print()
    rs.MoveNext() 
```

但是如果 dn 是以下两个值，它就不起作用。

```
/o=sinotrans/ou=First Administrative Group/cn=Configuration/cn=Servers/cn=myserver/cn=Microsoft Public MDB
/o=sinotrans/ou=first administrative group/cn=configuration/cn=servers/cn=myserver/cn=microsoft system attendant 
```

我认为交换对象与活动目录用户不同。但是如何更改 ldap 查询表达式呢？任何建议表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-24T03:32:50.940

我发现交换对象存储在`CN=Configuration,DC=intranet,DC=sinotrans`，并且有必要将 DC 服务器与管理员凭据绑定。以下代码适用于合适的用户名、密码和 LDAP 路径。

```
import win32com.client

adoConnection = win32com.client.Dispatch('ADODB.Connection')
adoCommand = win32com.client.Dispatch('ADODB.Command')
adoRecordset = win32com.client.Dispatch('ADODB.Recordset')

adoConnection.Provider = 'ADSDSOObject'
adoConnection.Properties('User ID').Value = 'user'
adoConnection.Properties('Password').Value = 'password'
adoConnection.Properties('Encrypt Password').Value = True
adoConnection.Properties('ADSI Flag').Value = 1 
adoConnection.Open('Active Directory Provider')

adoCommand.ActiveConnection = adoConnection
adoCommand.Properties('Page Size').Value = 1000

ldap = '''\
SELECT cn, mail
From 'LDAP://CN=Configuration,DC=abc,DC=com'
WHERE legacyExchangeDN = '/o=abc/ou=first administrative group/cn=configuration/cn=servers/cn=myserver/cn=microsoft public mdb'
'''

adoCommand.CommandText = ldap
adoRecordset.Open(adoCommand)
while not adoRecordset.EOF:
    print('{} {}'.format(adoRecordset('cn'), adoRecordset('mail')))
    adoRecordset.MoveNext()
adoRecordset.Close()

adoConnection.Close() 
```

# android - 当我接到电话时，Android 服务会停止吗？

> ID：11591453
> 
> 赞同：1
> 
> 时间：2012-07-21T10:36:44.407
> 
> 标签：android, android-service

我对 Android 服务有疑问。我编写了一个简单的应用程序，该应用程序具有连续运行并将数据上传到服务器的服务。我怀疑当我接到电话时服务会停止吗？当我打电话时它会在后台运行还是会停止。请给我一个答案。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:38:28.837

活动停止，但服务不会。 [http://developer.android.com/guide/components/services.html](http://developer.android.com/guide/components/services.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T10:40:36.980

无论屏幕上发生什么，服务都会在后台运行。仅当您使用其主应用程序的停止或退出功能停止它或您在“设置”中停止服务时，它才会停止。干杯，

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T11:09:57.053

最简洁的答案是不。除非一开始可用的手机内存已经很低，因为你有很多应用程序在后台运行，否则Android*可能会*强制关闭服务以容纳电话。

# php - PHP - 使用单选按钮对记录进行排序？

> ID：11591455
> 
> 赞同：0
> 
> 时间：2012-07-21T10:37:00.077
> 
> 标签：php, mysql

我正在建立一个根据酒店类型、关键字、位置和价格搜索酒店的网站。除了排序，一切都很好。我可以在显示结果之前对结果进行排序；但是，在它们显示后，我无法对它们进行重新排序。

注意：我正在使用来自 TEMPLATIC 的房地产 WORDPRESS 主题。

这是从 db 中检索记录并根据 $sort 类型值按价格或日期对它们进行排序的 php 代码。

```
<?php   
$sort type=0; //0-sort by price ... 1-sort by date
...
if ($sort_type == 0) {
$srch_sql .= "  order by abs(o.meta_value) asc limit $startlimit , $posts_per_page";
}
elseif ($sort_type == 1){
$srch_sql .= "  order by p.id desc limit $startlimit , $posts_per_page";
}
?> 
```

我知道至少应该有一个解决方案。我现在正在考虑的一个是有两个单选按钮。一种用于按日期排序，另一种用于按价格排序。

```
<input type="radio" name="sort_type" value="Price">Price</input>
<input type="radio" name="sort_type" value="Date">Date</input> 
```

但是，这个问题是我不知道如何在选择从一个单选按钮更改为另一个单选按钮并重新加载页面而不将变量 $sort_type 重置为时将值（1 和 0）分配给变量 $sort_type重新加载页面时为 0。

有什么建议！？

下面的整个代码

```
<?php get_header(); ?>
<?php if (is_paged()) $is_paged = true; ?>

<div class="wrapper" >
    <div class="clearfix container_border">
           <div class="breadcrumbs">
            <p><?php if ( get_option( 'ptthemes_breadcrumbs' )) { yoast_breadcrumb('',''); } ?></p>
                <span class="findproperties" onclick="show_hide_propertysearchoptions();"><a href="javascript:void(0);"><?php _e(FIND_PROPERTIES_TEXT);?></a></span>
            </div>
        </div>

<?php require_once (TEMPLATEPATH . '/library/includes/search.php');  ?>

 <?php  
    //sort_type = 0 order by price
    //sort_type = 1 order by date
    $sort_type = 0; ?>

     // this part of the code retrieves data from db
 <?php  
    $is_search = 0;
    global $wpdb;
    $totalpost_count = 0;
    $propertycategory = get_cat_id_from_name(get_option('ptthemes_propertycategory'));
    $propertycategorys = get_sub_categories($propertycategory,'string');
    $all_pids_arr = $wpdb->get_var("SELECT group_concat(ID) FROM $wpdb->posts where post_status='publish'");
    $all_pids_arr = $wpdb->get_col("SELECT tr.object_id FROM $wpdb->term_taxonomy tt join $wpdb->term_relationships tr on tr.term_taxonomy_id=tt.term_taxonomy_id where tt.term_id in ($propertycategorys)");
    if($_REQUEST['srch_location'])
    {
        $is_search = 1;
        $srch_location = $_REQUEST['srch_location'];
        $location_pids_arr = $wpdb->get_col("select post_id from $wpdb->postmeta where meta_key like 'add_location' and meta_value like \"$srch_location\"");
        $all_pids_arr = array_intersect($all_pids_arr,$location_pids_arr);
    }
    if($_REQUEST['srch_price'])
    {
        $is_search = 1;
        $srch_price = $_REQUEST['srch_price'];
        if(strstr($srch_price,'-'))
        {
            $srch_price_str = str_replace('-',' and ',$srch_price);
            $srch_price_arr = $wpdb->get_col("select post_id from $wpdb->postmeta where meta_key like 'price' and meta_value between $srch_price_str");
        }
        elseif(strstr($srch_price,'+'))
        {
            $srch_price_str = str_replace('+','',$srch_price);
            $srch_price_arr = $wpdb->get_col("select post_id from $wpdb->postmeta where meta_key like 'price' and meta_value >= $srch_price_str");
        }           
        $all_pids_arr = array_intersect($all_pids_arr,$srch_price_arr);
    }

    if($_REQUEST['srch_type'])
    {
        $is_search = 1;
        $srch_type = $_REQUEST['srch_type'];
        $type_pids_arr = $wpdb->get_col("select post_id from $wpdb->postmeta where meta_key like 'property_type' and meta_value = \"$srch_type\"");
        $all_pids_arr = array_intersect($all_pids_arr,$type_pids_arr);
    }

    if($_REQUEST['srch_keyword'] && $_REQUEST['srch_keyword']!=CITY_STATE_ZIP_SRCH_TEXT)
    {
        $is_search = 1;
        $srch_keyword = $_REQUEST['srch_keyword'];

        $kw_pids_arr = $wpdb->get_col("select id from $wpdb->posts where post_title like \"%$srch_keyword%\"");

        $all_pids_arr = array_intersect($all_pids_arr,$kw_pids_arr);
    }

    if($is_search && !$all_pids_arr)
    {
        $all_pids_arr[0] = 'nopost';
    }
    if($_REQUEST['srch_property_id'])
    {
        $post_ids_str = $_REQUEST['srch_property_id'];
        $sub_cat_sql .= " and p.ID in ($post_ids_str) ";
    }else
    {
        if($all_pids_arr)
        {
            $post_ids_str = implode(',',$all_pids_arr);
            if($post_ids_str)
            {
                $sub_cat_sql .= " and p.ID in ($post_ids_str) ";
            }
        }   
    }
    $featurecat = get_cat_id_from_name(get_option('ptthemes_featuredcategory'));
    if($featurecat)
    {
        $srch_feature_pids = $wpdb->get_var("SELECT group_concat(tr.object_id) FROM $wpdb->term_taxonomy tt join $wpdb->term_relationships tr on tr.term_taxonomy_id=tt.term_taxonomy_id where tt.term_id in ($featurecat)");
        $srch_feature_pids = '';
    }
    $blogcat = get_cat_id_from_name(get_option('ptthemes_blogcategory'));
    $blogcatcatids = get_sub_categories($blogcat,'string');
    if($blogcatcatids)
    {
        $srch_blog_pids = $wpdb->get_var("SELECT group_concat(tr.object_id) FROM $wpdb->term_taxonomy tt join $wpdb->term_relationships tr on tr.term_taxonomy_id=tt.term_taxonomy_id where tt.term_id in ($blogcatcatids)");
    }
    if($srch_blog_pids && $srch_feature_pids)
    {
        $sub_cat_sql .= " and p.ID not in ($srch_blog_pids,$srch_feature_pids) ";
    }elseif($srch_blog_pids && $srch_feature_pids=='')
    {
        $sub_cat_sql .= " and p.ID not in ($srch_blog_pids) ";
    }elseif($srch_blog_pids=='' && $srch_feature_pids)
    {
        $sub_cat_sql .= " and p.ID not in ($srch_feature_pids) ";
    }

    $srch_sql = "select p.* from $wpdb->posts p join $wpdb->postmeta o on p.ID=o.post_id $post_meta_join where p.post_status='publish' and p.post_type='post' and o.meta_key='price'  $sub_cat_sql";
    if($srch_feature_pids)
    {
        $feature_srch_sql = "select p.* from $wpdb->posts p join $wpdb->postmeta o on p.ID=o.post_id $post_meta_join where p.post_status='publish' and p.post_type='post' and o.meta_key='price' and p.ID in ($srch_feature_pids)";
        $srch_sql = " select * from (($feature_srch_sql) union ($srch_sql))";
    }

    $totalpost_count = $wpdb->get_var("select count(p.ID) from $wpdb->posts p join $wpdb->postmeta o on p.ID=o.post_id $post_meta_join where p.post_status='publish' and p.post_type='post' and o.meta_key='price'  $sub_cat_sql");
    global $posts_per_page,$paged;
    if($paged==''){$paged=1;}
    $startlimit = $posts_per_page*($paged-1);

    if ($sort_type == 0) {
    $srch_sql .= "  order by abs(o.meta_value) asc limit $startlimit , $posts_per_page";
    }
    elseif ($sort_type == 1){
    $srch_sql .= "  order by p.id desc limit $startlimit , $posts_per_page";
    }

    $post_info = $wpdb->get_results($srch_sql);

    ?><!-- contentarea #end --> 

<script type="text/javascript" src="<?php bloginfo('template_directory'); ?>/library/js/jquery.js"></script>
<script type="text/javascript" src="<?php bloginfo('template_directory'); ?>/library/js/functions.js"></script>

<div class="contentarea">
<div class="content" >
<div class="latestproperties latestproperties_<?php echo stripslashes(get_option('ptthemes_sidebar_left'));  ?>">

<p align="right">Order by:
<input type="radio" name="order" value="Price" />Price</input>
<input type="radio" name="order" value="Date" />Date</input></p>

    <h5><span><a href="#" class="switch_thumb"><?php _e(SWITCH_THUMB_TEXT);?></a></span>

    <?php
    if($_REQUEST['s'] == 'shfleto te gjitha')
    {
        _e(LATEST_PROPERTIES_BYPRICE_TEXT);
    }
    elseif(is_category() && $_REQUEST['search']=='')
    {
        echo single_cat_title();
    }else
    {
        echo get_search_param();
    }   
    ?></h5>     

    <?php if($post_info) { ?>               
    <ul class="display ">
    <?php
    $count=0;
    foreach($post_info as $post_info_obj)
    {
        $count++;
        $post = $post_info_obj;
        get_property_info_li($post);
        if($count%3==0)
        {
        ?>
        <li class="blank"></li>
        <?php   
        }
    }
    ?>
    </ul>
    <?php
        }else
        {
            _e(NO_PROPERTY_AVAILABLE_MSG);
            if($_POST['search']=='search')
            {
                echo get_search_param();
            }
        }
        ?>
    <?php if($post_info) { ?>
    <div class="pagination">
<?php if (function_exists('wp_pagenavi')) { ?><?php wp_pagenavi(); ?><?php } ?>
     </div>
    <?php }?>
</div>

<?php get_sidebar(); ?>  <!-- sidebar #end -->
</div>

<?php get_footer(); ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T19:50:19.603

我会使用 jquery 在单击单选按钮时将数据加载到页面上的 div 中。像这样的东西：

```
<input type='radio' onselect='showResults("date")'/><br/>
<input type='radio' onselect='showResults("price")'/><br/>

<script type='text/javascript'>
    function showResults(sortField){
        $('#results_container').load('results_page.php?sort='+sortField);

    }
</script>

<div id='results_container'></div> 
```

# php - 实体/存储库中的 Class_parents 错误

> ID：11591457
> 
> 赞同：1
> 
> 时间：2012-07-21T10:37:27.800
> 
> 标签：php, doctrine-orm, symfony-2.1

在我正在开发并且工作正常的捆绑包中，我添加了一个新功能，其中涉及向实体添加存储库。现在，当我执行新添加的方法时，出现以下错误：

> 警告：class_parents() [function.class-parents]：类 CmsPages 不存在，无法在 /Applications/MAMP/htdocs/symfony-standard-2.1/vendor/doctrine/common/lib/Doctrine/Common/Persistence 中加载/Mapping/RuntimeReflectionService.php 第 40 行

新添加的代码是：

控制器：

```
/**
 * Returns an json formated tree
 * 
 * @Route("/getTree", name="admin_cmsPages_getTree", options={"expose"=true})
 */
public function getTreeAction()
{

    $em = $this->getDoctrine()->getManager();
    $tree = $em->getRepository('CmsPages')->loadTree();

    $response = new Response(json_encode( $tree ));
    $response->headers->set('Content-Type', 'application/json');

    return $response;
} 
```

存储库：

```
namespace Yanic\CmsBundle\Entity;

use Doctrine\ORM\EntityRepository;
use Doctrine\ORM\NoResultException;

class CmsPagesRepository extends EntityRepository
{
    public function loadTree()
    {
        $q = $this
            ->createQueryBuilder('p')
            ->select('p')
            ->orderBy( 'p.lft' )
            ->getQuery()
            ;

        return $q->getArrayResult();
    }
} 
```

这就是改变的一切......如果需要更多代码进行澄清，我会发布它。

那么有人可以告诉我我做错了什么吗？我在 SO 和 Google 上都找不到任何东西。

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T10:52:09.377

我自己发现了错误......这条线

```
$tree = $em->getRepository('CmsPages')->loadTree(); 
```

必须

```
$tree = $em->getRepository('CmsBundle:CmsPages')->loadTree(); 
```

# mysql - 使用关系表从其他表中获取数据

> ID：11591458
> 
> 赞同：0
> 
> 时间：2012-07-21T10:37:37.597
> 
> 标签：mysql

我想使用表 z 的行 id 从表 x 中获取列的值，其中表 y 维护 x 和 y 的关系

```
**table: x**
sid  |  name

**table: z**
gid  |  name

**table: y**
id   |  sid  |  gid 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T10:43:09.720

```
SELECT x.* FROM x, y, z WHERE z.name LIKE 'Some text' AND z.gid = y.gid AND y.sid = x.sid; 
```

这个 SQL 查询应该为您解决问题。代码虽然未经测试。

# c# - 在 aspnet_Membership 表中找不到新列

> ID：11591459
> 
> 赞同：0
> 
> 时间：2012-07-21T10:37:44.447
> 
> 标签：c#, asp.net

我在 aspnet_Membership 表中添加了一个名为“ForgotPasswordDate”的新列。当用户点击密码恢复控件中的提交按钮时，它将使用 getDate() 方法将用户点击按钮的时间存储到“ForgotPasswordDate”列中。

之后，用户将收到一封电子邮件，其中包含将他们定向到 ChangePassword.apsx 的 URL。

我想让 ChangePassword.aspx 页面在用户请求新密码 1 天后过期。这将通过使用“ForgotPasswordDate”列中的时间并使用 AddDay() 方法来完成。

但是，代码给了我一个问题。我认为他们无法识别 Membership 表中的“ForgotPasswordDate”列。

这是有错误的代码：

```
if (DateTime.Now < user.ForgotPasswordDate.AddMinutes(3)) 
```

出于测试目的，目前我只是将逻辑设置为 3 分钟。

错误信息是：

```
System.Web.Security.MembershipUser' does not contain a definition for 'ForgotPasswordDate' and no extension method 'ForgotPasswordDate' accepting a first argument of type 'System.Web.Security.MembershipUser' could be found (are you missing a using directive or an assembly reference? 
```

这是整个代码：

```
 protected void Page_Load(object sender, EventArgs e)
    {
        //if the id is in the query string
    if (!string.IsNullOrEmpty(Request.QueryString["ID"]))
    {
        //store the user id
        Guid userId = new Guid(Request.QueryString["ID"]);

        //attempt to get the user's information
        MembershipUser user = Membership.GetUser(userId);

        if (DateTime.Now < user.ForgotPasswordDate.AddMinutes(3)) //here is the part 
        {   
            //Page not expire yet. 
            hidden.Text = user.ProviderUserKey.ToString();
            Server.Transfer("~/ChangePassword.aspx");
        }

        else
        {   
            //Expired; direct to Page Expired Page
            Server.Transfer("~/PageExpired.aspx");
        } 

    } 
} 
```

无论如何，系统可以识别 aspnet_membership 表中的新列吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:03:14.783

我会找出成员使用的存储过程，修改并包含新列。然后，您可能必须覆盖当前的成员资格类以包含新属性。

# c# - DotNetOpenAuth 和 C# 桌面应用程序

> ID：11591460
> 
> 赞同：4
> 
> 时间：2012-07-21T10:38:06.533
> 
> 标签：c#, .net-4.0, dotnetopenauth

我正在使用`DotNetOpenAuth`（[http://dotnetopenauth.net/](http://dotnetopenauth.net/)）库在[linkedIn.com](http://linkedIn.com)进行身份验证。我开发了一个桌面应用程序，现在我有点困惑。我不知道是否可以使用桌面应用程序进行身份验证。

有人知道吗？如果可能的话，请告诉我如何做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T15:48:45.963

是的，这取决于您要如何处理它，但也许查看 API 中的 DesktopConsumer 类可能会为您指明正确的方向：[http ://docs.dotnetopenauth.net/v3.4/html/T_DotNetOpenAuth_OAuth_DesktopConsumer.htm](http://docs.dotnetopenauth.net/v3.4/html/T_DotNetOpenAuth_OAuth_DesktopConsumer.htm)

此处详细介绍了作为桌面应用程序的一个示例用法：http: [//developer.yahoo.com/forum/Fantasy-Sports-API/Authenticating-with-NET-using-DotNetOpenAuth/1279209867000-4eee22f1-25fd-3589-9115-1a835add3212](http://developer.yahoo.com/forum/Fantasy-Sports-API/Authenticating-with-NET-using-DotNetOpenAuth/1279209867000-4eee22f1-25fd-3589-9115-1a835add3212)

# opencv - 从位图转换为 MIplImage 或 IplImage c#

> ID：11591463
> 
> 赞同：1
> 
> 时间：2012-07-21T10:38:18.923
> 
> 标签：opencv, bitmap, emgucv, iplimage

我在 c++ 中创建了一个算法来进行背景减法，我想从 c# 中调用它，并使用 dll(extern) 使用参数“IplImage”。我在 c# 中获取相机流并且我将帧作为图像（位图）的问题。

我如何将位图转换为 IplImage 以在 C++ 中发送它，反之亦然以检索处理过的帧？

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T09:10:33.680

使用Emgucv，你可以试试

```
Bitmap bitmap = ....
Emgu.CV.Image<Bgr, Byte> img = new Image<Bgr, byte>(bitmap);
Emgu.CV.Structure.MIplImage = img.MIplImage; 
```

要以 C++ 方法发送它，您可以将它作为[`IntPtr`](http://msdn.microsoft.com/en-us/library/system.intptr%28v=vs.71%29.aspx)对象传递

```
IntPtr r = IntPtr.Zero;
System.Runtime.InteropServices.Marshal.StructureToPtr(img, r, false);

// call your c++ method 
... 
```

另请参阅有关的详细信息[`Marshal`](http://msdn.microsoft.com/en-us/library/system.runtime.interopservices.marshal.aspx)

# c++ - 从应用程序外部访问类和函数

> ID：11591466
> 
> 赞同：0
> 
> 时间：2012-07-21T10:39:24.303
> 
> 标签：c++

考虑我们有一个程序可以管理 100 个矩形（矩形）之间的碰撞检测。我们有一个类或函数用于两个矩形之间的碰撞检测（例如 CCollisionCheck 或 CollidsTo ...）。并考虑一些矩形，我们有一些影响碰撞检测的条件。例如我们想排除 RED rects。或仅针对绿色检查 BLUE rects。任意条件。

我想编写必要的代码来管理条件，使用我的 exe 类（CCollisionCheck）或函数（CollidsTo ...），在 exe 之外。

有人能帮帮我吗？如何从应用程序外部访问我的类和函数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T10:43:38.060

既然你说`exe`，我会假设你在 Windows 上。

您可以像使用 dll 一样在 exe 中导出和导入类和方法。

您需要一个`DLLIMPEXP`扩展为的宏

```
declspec(dllexport) 
```

在编译 exe 和

```
declspec(dllimport) 
```

当您在不同的项目中包含标题时。查这些。使用它们，您可以指定要导出的符号。

将其他项目链接到`lib`编译 exe 时生成的项目，并包含声明函数和类的标头。

# c# - 触发事件和休眠线程

> ID：11591468
> 
> 赞同：0
> 
> 时间：2012-07-21T10:39:36.007
> 
> 标签：c#, multithreading, events

线程的阻塞是否也会阻塞从它触发的事件的触发和/或传播？

澄清：

在一个线程上，我正在触发一个事件，下一步我让线程进入睡眠状态。问题是触发 - 如果在声明进入睡眠状态之前立即声明 - 是否也会由于调度问题而被阻止触发（即事件已被安排触发但实际触发将发生在 100 毫秒和这 100 毫秒之前ms 已通过，线程已入睡）。

```
// Pseudo-Code

event MyHandler TheEvent;

// ...

TheEvent();
threadWaitingSignal.Wait(); // block the thread 
```

在上述情况下，我可以对事件的触发和向其订阅者的传递做出哪些假设？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T10:44:48.480

所有侦听器都将在线程休眠*之前接收到该事件。*事件是同步触发的。

# grails - 用于 Web 服务的 Grails groovy 应用程序

> ID：11591469
> 
> 赞同：2
> 
> 时间：2012-07-21T10:39:37.153
> 
> 标签：grails, groovy

我托管了一个员工服务，客户端 jar 在我的库中可用，我需要点击员工服务方法。

我需要使用 grails 和 groovy 开发一个 Web 应用程序。

我已经在 grails 中完成了一些网络应用程序，但我无法弄清楚如何使用网络服务调用。

我应该把这个服务调用相关代码放在哪里：在控制器中，服务？

得到响应后，我需要在 UI 中显示它们，并通过 hiberante 向 db 插入一些内容。

请给我建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T15:56:33.790

作为一般规则，您应该尽量让控制器保持纤薄。您可能应该将该代码放在服务类中。

简单的服务类示例：

```
class WebServiceService {
    def getEmployeeData(id) {
        // Read record and/or update domain objects
    }
} 
```

简单控制器示例：

```
class EmployeeController {
    def webServiceService

    def view = {
        def employee = webServiceService.getEmployeeData(params.id)
        [employee: employee]
    }
} 
```

# c# - 使用 Google GDATA API 批量添加用户到群组

> ID：11591470
> 
> 赞同：0
> 
> 时间：2012-07-21T10:39:40.533
> 
> 标签：c#, api, gdata

我正在尝试使用 GDATA API 将用户批量添加到 C# 中的 Google 组。使用 Groups.AddMemberToGroup 一次添加一个用户需要一段时间才能运行。

有一个 Groups.Batch 方法，但我找不到任何示例。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T21:12:55.213

Provisioning API 没有 C# 批处理示例，但电子表格 API 文档包含一个可能对入门有用的示例：

[https://developers.google.com/google-apps/spreadsheets/#updating_multiple_cells_with_a_batch_request](https://developers.google.com/google-apps/spreadsheets/#updating_multiple_cells_with_a_batch_request)

# jquery - jquery加载了html div元素选择器

> ID：11591472
> 
> 赞同：0
> 
> 时间：2012-07-21T10:39:58.753
> 
> 标签：jquery, codeigniter

首先抱歉，如果这是一个愚蠢的问题，但我遇到了一个我无法真正解决的问题。我正在使用该`load`函数加载一个 html 文件，我的问题是如果我使用该`load`函数加载 html 文件，那么带有 jquery 的选择器实际上并不能正常工作，只能使用 css。

（我使用codeigniter）

例子

加载html

```
$('.get_posts').hide().load('stream/load_posts').fadeIn(800); 
```

所以这个html（视图）文件包含以下内容

```
<?php if(isset($stream_posts)): ?>
<?php foreach($stream_posts as $sp): ?>
<div id="sp_<?php echo $sp->sid; ?>" class="row stream-posts">
    <div class="span1 stream-thumb">
        <ul class="stream-thumbnails unstyled">
          <li>
            <a href="#" class="stream-thumbnail">
              <img src="http://placehold.it/60x60" alt="">
            </a>
          </li>
        </ul>
    </div>  
    <div class="span5 stream-content">
        <a href="#" class="author"><?php echo $sp->first_name ." ". $sp->last_name; ?></a>
        <p id="stream-text"> 
            <?php echo nl2br(auto_link($sp->text)); ?>
        </p>
    </div>
</div>
<?php endforeach; ?>
<?php endif; ?> 
```

我使用codeigniter，所以在这一行`<?php echo nl2br(auto_link($sp->text)); ?>`自动将字符串中包含的URL和电子邮件地址转换为链接，所以当我有一个自动链接时，我想向它添加一个oembed类，所以我尝试了以下

```
$("p.stream-content a").addClass('oembed'); 
```

它不起作用，尝试使用具有相同选择器的css，通过将锚标记着色为红色，在css中它可以工作，而不是我发现，jquery选择器部分它不起作用，因为我使用加载，如果我取消注释加载并显示结果通过 php 它也用 jquery 添加了类。

请有人给我一个提示吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T10:47:46.323

您是否尝试在 的回调中添加类`load()`？

```
$('.get_posts').hide().load('stream/load_posts', function() {
  $("#stream-text a").addClass('oembed');
}).fadeIn(800); 
```

请注意，我已经改变了你的`$('p.stream-content...`因为没有`<p>`元素`class="stream-content"`

# c# - 使 XML 中的数据无法通过文本编辑器进行编辑

> ID：11591477
> 
> 赞同：-2
> 
> 时间：2012-07-21T10:40:39.183
> 
> 标签：c#, xml, encoding, xna

我目前正在关注 Tile Engine 的教程系列，它使用 XML 文件来存储 NPC 之间的对话。它似乎没有涵盖的一个主题（我只是快速浏览了后续视频）是如何通过使用通用文本轻松打开 XML 文件来防止用户更改或提前知道 NPC 将要说什么编辑。

能够阅读未来对话的第二点不是一个真正的问题，而是我想考虑的事情，所以如果这很难实现，我现在不会太在意。

我将如何使 XML 不可编辑？我对可以检查文件完整性的 CRC32 有模糊的了解，这可能很有用，我也认为*可能*有更好的方法来解决这个问题（即不使用 CRC32）。

我能想到的最极端的做法是为对话数据创建我自己的任意编码，但 XML 文件的实用性让我有点害怕，而且我正在学习的教程教了我很多我不知道的东西知道，我宁愿不要离他们太远！

真的只是在寻找方向，谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:57:30.793

Xml 本质上是一种开放格式，所以我的意思是没有办法使 xml 不可编辑。

但是您可以在您的服务器（或 NPC 对话的端点）上拥有 xml 文档的副本（或 xml 的某些指纹），然后您可以比较 xml 文档是否被编辑。

如果文档被编辑，您可以用备份版本替换它或告诉端点，该 xml 文档已损坏......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T11:05:07.173

从历史上看，许多游戏将多个资源包装到一个二进制文件中。

您可以将其放在 ZIP 文件中（并且可能更改文件扩展名）。这将允许您避免使用具有明显名称的 XML 文件来诱惑您的用户:)。

最终，您提出的问题类似于 DRM 问题。我不知道您的平台是否对此有答案。（例如，“使用 RSA 加密”本身并不*安全*；您的程序仍然必须在某些时候使用适当的密钥解密数据等）。

# iphone - 使用 prepareforsegue 从按钮的 IBOutletCollection 传递图像

> ID：11591479
> 
> 赞同：0
> 
> 时间：2012-07-21T10:40:57.000
> 
> 标签：iphone, xcode, iboutletcollection

我有两个视图控制器： 1\. 有两个带有不同图像的按钮。2\. 使用 UIImageView。

我正在尝试将 VC1 上选定按钮的图像传递到 VC2 上的图像视图，其中包含一个插座集合，而无需为每个按钮声明一个 IBoutlet。

我正在使用以下代码：

```
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{   
    if ([[segue identifier] isEqualToString:@"pushGuessLogo"])
    {
        GeneralGuess *vc = [segue destinationViewController];
        NSInteger buttonId = [[sender title] intValue];      
        [self setLogoImageView:[[buttons objectAtIndex:buttonId] imageView]];     
        [vc setTransferedImage:self.logoImageView.image];       
    }       
} 
```

按钮的标题是 0 和 1。结果是，当我按下按钮 0 时，正在传递 1 的图像，当我按下按钮 1 时，没有传递图像

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T15:56:56.680

你为什么要为按钮标题而烦恼？直接从发件人那里获取图像视图，在这种情况下是一个 UIButton。

您将使用以下代码：

```
[(UIButton*)sender imageView] 
```

获取发送者的图像视图属性。

# java - Android 自定义视图：带有 OnDaw 的 MATCH_PARENT 不起作用

> ID：11591482
> 
> 赞同：2
> 
> 时间：2012-07-21T10:41:25.167
> 
> 标签：java, android, layout, layoutparams

我是 Android 新手，但我有一个简单的问题。我有一个垂直线性布局，如果我在这里放置一个普通按钮，并为它提供宽度和高度的 MATCH_PARENT 标志，该按钮将填满所有空间。一切都好。

现在我有一个简单的自定义视图（一个扩展 View 的类），并且我重写了 OnDraw 方法以在视图中间绘制一个十字。为了绘制十字架，我需要获取控件的宽度和高度，如果在 Eclipse 的 UI Layout 编辑器中我设置了固定的宽度和高度，它可以正常工作（我直接在 Eclipse 中看到了十字架的预览）但是如果我将视图扩展到边框我只有 WARP_CONTENT（使用按钮我得到 MATCH_PARENT），没问题，我在 XML 中更改它，但 LayoutParams 的宽度和高度将返回 0！（我直接在eclipse的预览中看到了错误！）为什么？

我试图在 OnWindowFocusChanged 方法中手动设置宽度和高度以等待，但它总是给我 0。

问题是视图实际上具有正确的尺寸，但是当我调用 getLayoutParams().width 它给我 0，所以我在正确的位置（视图的白色背景）看到一个白色矩形，但是画了十字左上角！

对不起，我的英语不好。谢谢你。毛罗。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:38:42.520

我认为您需要为您的视图设置此参数。

```
android:layout_alignTop 
```

或与此有关的东西。我猜

# php - Bootstrap 应该处理脚本和样式而不是视图吗？

> ID：11591483
> 
> 赞同：0
> 
> 时间：2012-07-21T10:41:50.433
> 
> 标签：php, zend-framework, pear, semantic-web, bootstrapping

我正在开发一个分布式项目，在该项目中我看到了在 Bootstrap.php 中添加的 headLink 上的各种“appendStylesheet”和“appendScripts”。

老实说，我对 ZF 的经验并不多（考虑几个月 ~ 2 个项目），我个人认为，这不是“语义”。您始终可以通过布局附加脚本，或者如果您希望根据不同的视图具有灵活性，则可以按照每个视图的需要（如果未在布局中编码）将它们调用到 appendStyles。

我的问题是关于“协作”工作。

是否应该在引导程序上添加“视图”相关脚本，或者让它完成路由和实现模块等功能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T12:37:58.273

样式和脚本应该从布局或视图脚本中添加。这样，您只需替换视图和公用文件夹即可轻松地将应用程序的“设计”从一个切换到另一个。

# mysql - 如果存在这样的行，mysql返回null，否则返回数据

> ID：11591490
> 
> 赞同：0
> 
> 时间：2012-07-21T10:43:43.777
> 
> 标签：mysql, hibernate

您好 mysql 查询中是否有返回 NULL 的选项是数据库中不存在这样的行，否则返回行数据。这是我的查询

```
SELECT DISTINCT estimateResourceMthObj
       FROM EstimateResourceMth estimateResourceMthObj 
       WHERE estimateResourceMthObj.estimateResource.id IN 
            (
                    SELECT estimateResourceObj.id 
                    FROM EstimateResource estimateResourceObj
                    WHERE estimateResourceObj.estimateSub.id = 7 
            ) 
       AND estimateResourceMthObj.monthOrder >= 0 
       AND estimateResourceMthObj.monthOrder <  7; 
```

如果不存在这样的行，我需要返回此查询的结果 null 否则我需要选择该行。是否可以在单个查询中检索它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T12:32:00.363

作为一个棘手的解决方案，`UNION SELECT NULL LIMIT 0,1`如果您希望只有一行，您可以添加到最后，如您指定的那样。所以结果总是有一个值 -`NULL`如果表中没有匹配项，`estimateResourceMthObj`如果有。

```
 SELECT DISTINCT estimateResourceMthObj
       FROM EstimateResourceMth estimateResourceMthObj 
       WHERE estimateResourceMthObj.estimateResource.id IN 
            (
                    SELECT estimateResourceObj.id 
                    FROM EstimateResource estimateResourceObj
                    WHERE estimateResourceObj.estimateSub.id = 7 
            ) 
       AND estimateResourceMthObj.monthOrder >= 0 
       AND estimateResourceMthObj.monthOrder <  7
UNION
 SELECT NULL
LIMIT 0,1; 
```

# ruby-on-rails - Thinking-Sphinx 分组错误

> ID：11591491
> 
> 赞同：0
> 
> 时间：2012-07-21T10:44:15.993
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, thinking-sphinx

我有属于该项目的会议模型：

```
class Project < ActiveRecord::Base
  has_many :meetings
end

class Meeting < ActiveRecord::Base
  belongs_to :project

  define_index do
    join project

    indexes agenda
    indexes project.name. :as => :project_name
  end 
end 
```

我尝试使用分组进行搜索：

```
Meeting.search("stuff", :group_by => 'project_id', :group_function => :attr) 
```

我收到以下错误：

```
group-by attribute 'project_id' not found 
```

有什么建议么？

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:25:13.047

这只是基于 ThinkingSphinx 文档 (http://freelancing-god.github.com/ts/en/searching.html#grouping) 中的示例的疯狂猜测，但也许您需要包含要分组的属性在索引中。

尝试添加`has project_id`到您的`define_index`.

# javascript - 什么是 javascript 的变量“名称”？

> ID：11591494
> 
> 赞同：1
> 
> 时间：2012-07-21T10:44:31.497
> 
> 标签：javascript

例如，

```
var name = [1,2,3]  // name === "1,2,3"
name = {"a":"b"}  // name === "[object Object]" 
```

我不明白这种情况。

javascript 上“name”或“window.name”的标识是什么？

添加：

我使用了 Chrome 的开发工具

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T10:51:20.760

当你声明

```
name = {"a":"b"} 
```

您正在创建一个对象，并且对象的字符串表示形式是`[object Object]`，也就是说，当您尝试将对象转换为字符串时（这里可能就是这种情况），您会得到该结果。

请注意，这*不是*`name === "[object Object]"`真的。

 *```
alert( name === "[object Object]" );             // alerts "false"
alert( name.toString() === "[object Object]" );  // alerts "true" 
```

数组也是如此。`1,2,3`只是 array 的字符串表示形式`[1,2,3]`。

* * *

至于`window.name`，它具有当前窗口的名称，因此将其更改为非字符串可能会导致意外行为：[https ://developer.mozilla.org/en/DOM/window.name](https://developer.mozilla.org/en/DOM/window.name)*

# javascript - 尝试在 jquery 中组合两个数组时出错

> ID：11591497
> 
> 赞同：0
> 
> 时间：2012-07-21T10:44:55.707
> 
> 标签：javascript, jquery, html, cross-browser

我使用这个函数来组合两个长度相等的数组的结果

例如：如果我结合两个数组说，`Array A`和`Array B`

输出将是格式`array[Value of Array A]=value of Array B`

```
combined = fields.reduce(function(obj, val, i) {
    obj[val] = edit_opt[i];
    return obj;
}, {}); 
```

在 chrome 和 firefox 中测试时，这个函数可以满足我的要求，但是当我在 IE 8,9 中测试我的代码时，我得到了一个错误。我已经在下面发布了消息。

网页错误详情

> ```
> > User Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.2;
> > Trident/4.0; .NET CLR 1.1.4322; .NET CLR 2.0.50727; .NET CLR
> > 3.0.04506.648; .NET CLR 3.5.21022; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729) Timestamp: Sat, 21 Jul 2012 10:29:23 UTC
> 
> Message: Object doesn't support this property or method
> Line: 94
> Char: 5
> Code: 0
> URI: http://x.x.x.x/grid_test/
> 
> note: line 94 is the beginning of my combine function. 
> ```

如何解决这个错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:56:33.103

> **Array.prototype.reduce**是 ECMAScript 5 的补充；因此，它可能不会出现在该标准的其他实现中。

您*可以通过在脚本开头插入以下代码来解决*此问题，从而允许在本机不支持它的实现中使用 reduce。

```
if (!Array.prototype.reduce) {  
        Array.prototype.reduce = function reduce(accumulator){  
        if (this===null || this===undefined) throw new TypeError("Object is null or undefined");  
        var i = 0, l = this.length >> 0, curr;  

        if(typeof accumulator !== "function") // ES5 : "If IsCallable(callbackfn) is false, throw a TypeError exception."  
          throw new TypeError("First argument is not callable");  

        if(arguments.length < 2) {  
          if (l === 0) throw new TypeError("Array length is 0 and no second argument");  
          curr = this[0];  
          i = 1; // start accumulating at the second element  
        }  
        else  
          curr = arguments[1];  

        while (i < l) {  
          if(i in this) curr = accumulator.call(undefined, curr, this[i], i, this);  
          ++i;  
        }  

        return curr;  
      };    
 } 
```

[[资源](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/Reduce#Compatibility)]

# android - 如何在 ListView 上使用 Button 的 onClickListener 方法

> ID：11591501
> 
> 赞同：5
> 
> 时间：2012-07-21T10:45:37.077
> 
> 标签：android, button, android-listview, onclicklistener

我有一个`ListView`包含`Button`. 该按钮的功能是删除按钮。每当用户单击此按钮时，当前行将被删除。

*   我该怎么做？
*   我该如何设置`onClickListener`这个按钮？
*   如何捕获此按钮所在的行 ID？

提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-21T10:48:20.550

在您的**自定义适配器**类的`getView()`

```
buttonDelete.setOnClickListener(new OnClickListener()
{
  @Override
  public void onClick(View v)
   {
     //  Use position parameter of your getView() in this method it will current position of Clicked row button
    // code for current Row deleted...              
   }
}); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-22T00:14:52.380

首先，您可以很容易地处理对该项目的点击。你只需要添加一个监听器：`myButton.setOnClickListener(mBuyButtonClickListener)`。此操作通常在`getView(...)`您的`ListView`.

您的听众可以通过使用 了解按钮的项目位置`myListView.getPositionForView(myButton)`。看看这个监听器样本：

```
private OnClickListener mBuyButtonClickListener = new OnClickListener() {
    @Override
    public void onClick(View v) {
        final int position = getListView().getPositionForView(v);
        if (position != ListView.INVALID_POSITION) {
            //DO THE STUFF YOU WANT TO DO WITH THE position
        }
    }
}; 
```

完成此操作后，您应该无法处理对项目本身的点击和其他一些触摸事件传播。

因此，您应该阅读[这篇](http://android.cyrilmottier.com/?p=525)完整描述在`ListView`. 这将非常有帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T11:11:27.517

在适配器类的 getView 方法中使用它。

```
holder.button.setOnClickListener(new OnClickListener()
{
  @Override
  public void onClick(View v)
   {

   }
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-08-21T23:42:04.117

我到处看了看，没有一个答案对我有帮助，直到有一个答案。

我所做的是创建一个 HolderView 并将我所有的 textviews 和其他小部件包装在 adpater 的 getView 方法中：

把这个类放在：

```
 static class ViewHolder
{
    TextView text1;
    TextView text2;
    TextView text3;
} 
```

而且我通常也标定了相同的，因为它们现在是分开的：

```
TextView text1;
TextView text2;
TextView text3; 
```

然后在 getView 中填充布局后声明所有视图和小部件：

```
holder = new ViewHolder(); 
holder.text1 = (TextView) vi.findViewById(R.id.textView2single);
holder.text2 = (TextView) vi.findViewById(R.id.textView3single);
holder.text3 = (TextView) vi.findViewById(R.id.textView4single); 
```

在 onClick 方法中，我使用了：

```
View parentView = (View) v.getParent(); 
```

然后使用此父视图再次声明我的所有小部件：

```
text1 = (TextView) parentView.findViewById(R.id.textView2single);
text2 = (TextView) parentView.findViewById(R.id.textView3single);
text3 = (TextView) parentView.findViewById(R.id.textView4single); 
```

这样做会强制我的 onClick 获取列表视图项的父位置，因此可以轻松调用该父项中的所有小部件，然后您可以使用它做您喜欢的事情。这是我发现的唯一可行的方法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-04-06T05:35:05.843

> 创建一个新的 View 类型变量并将其分配给 currenView（检查 iit 是否为 null）。定义变量（此处采用 ImageButton）并按下面提到的方式设置 viewId。

```
 public View getView(int position, View convertView, ViewGroup parent) {
        View itemview=convertView;
        if (itemview==null)
        {
            itemview=getLayoutInflater().inflate(R.layout.group_list,parent,false);

        }
        final group_contacts currentcontact=g_contact.get(position);
        ImageButton delete=(ImageButton) itemview.findViewById(R.id.imgbtn_delete);
        delete.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                //Add your code here to run on tapping button
            }
        });
        return itemview;

    } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-04-19T12:23:41.500

要在 a的 a上使用`onClickListener()`方法，您必须在的Methode 中的按钮上应用。`Button``ListView``onClickListener()``Adapter``getView`

但问题是，您将无法从 的`position`参数中获取值`getView`。

要获取`position`您已触摸的按钮，您必须调用`getPositionForView()`您的`ListView`.

让我们用一个例子来讨论，以便更好地理解，

*   考虑你有一个`ListView`名为`ExampleListview`

*   上面有一个`Button`名字`ExampleButton`，你想`onClickListener()`在它上面使用。

    ```
    Examplebutton.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
            final int position= ExampleListview..getPositionForView(v);
       /*Where 'v' is actually the 'View' object Which you are clicking.*/ 

    /*you can now right your code her & determine the your desired button by
      using the position parameter */
    } 
    ```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-07-25T17:21:21.333

创建自定义列表视图适配器，扩展 BaseAdapter 并实现 OnClickListener

```
public class ListAdapter extends BaseAdapter implements OnClickListener {} 
```

覆盖 getView 方法

```
@Override
public View getView(int
        position, View convertView, ViewGroup parent) {
    // TODO Auto-generated method stub
    View row = convertView;
    ViewHolder holder = null;

    if (row == null) {
        LayoutInflater inflater = (LayoutInflater) mContext
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        row = inflater.inflate(R.layout.list_item, parent, false);
        holder = new ViewHolder();
        holder.b1= (Button) row.findViewById(R.id.b1);
        b1.setOnClickListener(this);
    else {

        holder = (ViewHolder) row.getTag();

    }
} 
```

现在覆盖 onclick 方法

```
@Override
public void onClick(View v) {
    // TODO Auto-generated method stub
    switch (v.getId()) {
        case R.id.b1:
            //button b1 click event 
            break;
    }
}

public class ViewHolder {
    Button b1;
} 
```

# jquery - Wordpress Fotomoto [图库] 灯箱 jquery 插件？有谁知道一个有效的吗？

> ID：11591503
> 
> 赞同：-1
> 
> 时间：2012-07-21T10:45:49.963
> 
> 标签：jquery, wordpress, plugins, gallery, photo

不确定这是否是正确的地方，但我想你可能知道。我在我的网站上使用 Fotomoto 插件来销售艺术版画，但我在找到一个有效的插件时遇到了问题。我想使用 [gallery] wordpress 短代码。

我尝试过的每个 wordpress 插件要么根本不起作用，要么使按钮全部消失。唯一显示按钮的是简单的 Galleria，但这已经损坏，因为单击时它不会直接进入照片。 [http://artygirl.co.uk/prints/](http://artygirl.co.uk/prints/)

我试过所有推荐的插件都没有运气 [http://support.fotomoto.com/customer/portal/articles/7452-what-scripts-and-libraries-does-fotomoto-support-](http://support.fotomoto.com/customer/portal/articles/7452-what-scripts-and-libraries-does-fotomoto-support-)

shadowbox lightbox 画廊 dm 相册 Fancybox Galleria Galleria LightBox Plus Slimbox Thickbox prettyPhoto

任何人都知道一个好的 wordpress 插件可以工作或可以修复“Simple Galleria”吗？如果你能解决这个问题，我会写一篇关于它的博客文章，并在我的网站上给出信用和链接回到你的网站。

感谢您的所有帮助朱迪思

[http://wordpress.org/extend/plugins/simple-galleria-for-wordpress/](http://wordpress.org/extend/plugins/simple-galleria-for-wordpress/) http://wordpress.org/extend/plugins/fotomoto/

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T07:27:44.103

[此页面](http://support.fotomoto.com/customer/portal/articles/7452-what-scripts-libraries-and-plugins-does-fotomoto-support)上列出的所有插件 都应该可以正常工作。我建议您从列表中选择您最喜欢的插件，如果您遇到无法正常工作的问题，[请通过 Fotomoto Support 联系我们](http://support.fotomoto.com/customer/portal/emails/new)。

我希望有帮助和亲切的问候，

照片中的德里克

# objective-c - 如何在 objC 中存储一个 nil 指针数组？

> ID：11591504
> 
> 赞同：3
> 
> 时间：2012-07-21T10:46:02.653
> 
> 标签：objective-c, nsmutablearray

我想使用指向对象实例的指针数组，但只想在需要时（即懒惰地）创建这些对象的实例。数组对应 UI 中的一个表格，因此每个数组索引对应一个表格行。

我想使用 NSMutableArray 在创建对象实例时保存指向对象实例的指针（当用户在 UI 中选择相应行时会发生这种情况）。

如果选择了表中的一行，则检查相应的数组条目。如果指针值为 nil，则该实例尚未创建，因此在该点创建，并且对象指针存储在相应的索引数组条目中。

显然，这要求我最初从一个 nil 指针数组开始，但是 objC 不会让我在 NSArray 中放置一个 nil 指针。

我不能在创建对象时将对象添加到数组中，因为数组索引不会对应于表行。

这里最好的 objC 解决方案是什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-21T11:00:33.927

Objective C 中的惯用解决方案是使用[`NSNull`](https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSNull_Class/Reference/Reference.html)：

> NSNull 类定义了一个单例对象，用于表示集合对象中的空值（不允许空值）。

创建你的`NSMutableArray`，并用`[NSNull null]`对象填充它：

```
NSMutableArray *array = [NSMutableArray arrayWithCapacity:N];
for (int i = 0 ; i != 10 ; [a addObject:[NSNull null]], i++); 
```

当您检查 中是否存在对象时`NSMutableArray`，将索引处的对象与`[NSNull null]`: 如果它们相同，则替换为真实对象；否则，真实的对象已经在那里。

```
if ([array objectAtIndex:index] == [NSNull null]) {
    MyRealObject realObject = [[MyRealObject alloc] init];
    [array replaceObjectAtIndex:index withObject:realObject];
} 
```

** 编辑摘要 ** 编辑以使用循环初始化数组（感谢[bbum](https://stackoverflow.com/users/25646/bbum)）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-21T18:17:34.283

NSMutableArray 不支持稀疏数组。因此，您可以使用 NSNull 实例（或其他一些“无对象”标记）预先播种数组。就像是：

```
a = [NSMutableArray array];
for(int i = 0; i<numberNeeded; i++) [a addObject:[NSNull null]]; 
```

或者，如果您的数组真的很稀疏，请考虑使用某种映射。NSMutableDictionary 可以工作，但需要对象作为键，并且在某些情况下，所有装箱/取消装箱都是痛苦的。或者，可以轻松地将 CFDictionary 配置为使用带有对象值的整数键。

*虽然字典对于按索引查找显然较慢，但在大多数情况下*（但不是全部），这种性能差异不太可能导致问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T10:49:12.140

怎么样`[NSMutableArray arrayWithCapacity:numberOfRows]`？

[https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/Reference/Reference.html](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/Reference/Reference.html)

# python - 根据条件合并 2 个查询集

> ID：11591505
> 
> 赞同：0
> 
> 时间：2012-07-21T10:46:15.150
> 
> 标签：python, django-queryset

背景：-我正在尝试合并来自同一模型的 2 个查询集。像这样的东西。即每第三个计数器它们应该被合并。

```
queryset = get_foo(person)  #First queryset
promoted_foo = get_promoted_foo()  #Second queryset
for (counter,(s,p)) in enumerate(itertools.izip(queryset,promoted_foo)):
    if counter%3==0:
        queryset.insert(counter,promoted_foo.pop())
if promoted_foo:
   queryset.extend(promoted_foo) 
```

最Pythonic的方法是什么？我知道我可以在 quersets 上使用 list() 然后合并它们。但这会消耗大量内存。那么有什么可以替代呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T13:27:07.787

如果您不打算使用返回的值，则无需遍历 queryset 或promotion_foo。您也不应该在循环中修改您正在迭代的容器。

另一种方法是：

```
# For a range with step size 3, from 0 until the length of the shortest container.
for idx in xrange(0, min(len(queryset), len(promoted_foo), 3):
   queryset.insert(idx, promoted_foo.pop())
if promoted_foo:
    queryset.extend(promoted_foo) 
```

PS。您在查询集上使用 insert() 意味着它已经是一个列表。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T12:17:03.967

您可以定义自己的生成器，从查询集中延迟加载项目。

我没有对此进行测试，但类似：

```
def everythird():
    queryset = get_foo(person)  #First queryset
    promoted_foo = get_promoted_foo()  #Second queryset
    for (counter,(s,p)) in enumerate(itertools.izip(queryset,promoted_foo)):
    if counter%3==0 and promoted_foo:
        yield promoted_foo
    elif queryset:
        yield queryset 
```

# android - android中的会话管理使用sharedpreferences

> ID：11591507
> 
> 赞同：1
> 
> 时间：2012-07-21T10:47:24.563
> 
> 标签：android, sharedpreferences, session-management

嗨，我通过soap webservices成功开发了一个带有mysql数据库的登录表单。在这里我希望进行会话管理。但我无法开发。所以请帮助我。当我填写用户名和密码时，成功意味着它可以了到下一个活动。下一个活动必须显示用户名。如果我单击注销按钮意味着它移动到登录表单。现在我将返回意味着它仅重定向到登录页面...没有转到显示的用户名活动。请引导我。

我的代码是：

```
package com.androidlogin.ws;
import org.ksoap2.SoapEnvelope;
import org.ksoap2.serialization.PropertyInfo;
import org.ksoap2.serialization.SoapObject;
import org.ksoap2.serialization.SoapPrimitive;
import org.ksoap2.serialization.SoapSerializationEnvelope;
import org.ksoap2.transport.HttpTransportSE;
import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.TextView;

 public class AndroidLoginExampleActivity extends Activity {
 private final String NAMESPACE = "http://ws.userlogin.com";
 private final String URL = "http://111.223.128.10:8085/AndroidLogin/services/Login?wsdl";
 private final String SOAP_ACTION = "http://ws.userlogin.com/authentication";
 private final String METHOD_NAME = "authentication";
 /** Called when the activity is first created. */
 @Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    Button login = (Button) findViewById(R.id.btn_login);
    login.setOnClickListener(new View.OnClickListener() {

 public void onClick(View arg0) {
loginAction();

}
});
}

private void loginAction(){
 SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);

    EditText userName = (EditText) findViewById(R.id.tf_userName);
    String user_Name = userName.getText().toString();
    EditText userPassword = (EditText) findViewById(R.id.tf_password);
    String user_Password = userPassword.getText().toString();

  //Pass value for userName variable of the web service
    PropertyInfo unameProp =new PropertyInfo();
    unameProp.setName("userName");//Define the variable name in the web service method
    unameProp.setValue(user_Name);//set value for userName variable
    unameProp.setType(String.class);//Define the type of the variable
    request.addProperty(unameProp);//Pass properties to the variable

  //Pass value for Password variable of the web service
    PropertyInfo passwordProp =new PropertyInfo();
    passwordProp.setName("password");
    passwordProp.setValue(user_Password);
    passwordProp.setType(String.class);
    request.addProperty(passwordProp);

    SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
    envelope.setOutputSoapObject(request);
    HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);

    try{
        androidHttpTransport.call(SOAP_ACTION, envelope);
           SoapPrimitive response = (SoapPrimitive)envelope.getResponse();

           TextView result = (TextView) findViewById(R.id.tv_status);
           result.setText(response.toString());
       if(status.equals("Success!"))
               {

                   //   ADD  to save  and  read next time
                       String strUserName = userName.getText().toString().trim();
                       String strPassword = userPassword.getText().toString().trim();
                       if (null == strUserName || strUserName.length() == 0)
                                   {
                           //  showToast("Enter Your Name");
                         userName.setError( "username is required!" );
isUserValidated = false;
                       }
 if (null == strPassword || strPassword.length() == 0)
                                   {
                               //      showToast("Enter Your Password");
 isPasswordValidated = false;
                         userPassword.setError( "password is required!" );
                       } 
 if(isUserValidated = true && isPasswordValidated == true)
                                   {

                           if (chkRememberMe.isChecked())
                                           {
                               SharedPreferences loginPreferences = getSharedPreferences(SPF_NAME, Context.MODE_PRIVATE);
                               loginPreferences.edit().putString(USERNAME, strUserName).putString(PASSWORD, strPassword).commit();
                           } else
                                           {
                               SharedPreferences loginPreferences = getSharedPreferences(SPF_NAME, Context.MODE_PRIVATE);
                               loginPreferences.edit().clear().commit();
                                           }
        }

        if(isUserValidated && isPasswordValidated)
     {
               Intent intent = new Intent(Login.this,HomePage.class);
                  **intent.putExtra("username",userName.getText().toString());**
                  startActivity(intent);
         }
      else
       {
     // what ever you want to do if the data in the EditText is not validated.
    //Maybe restart the same intent ?    
      // Intent i = new Intent(getApplicationContext(), Login.class);    startActivity(i);

         }

                                   }

                       else
                          {
                           Intent i = new Intent(getApplicationContext(), Login.class);
                             startActivity(i);
                          }
                         }

    catch(Exception e){

    }
   }

  } 
```

如何在 dis android 登录表单应用程序中使用共享首选项制作会话概念。

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:42:18.227

如果您使用 SharedPreferences 和活动生命周期，您可以轻松实现这一点。

假设您有`Activity A`- 显示日志记录活动，以及`Activity B`- 注销活动 + 显示用户名活动。

在`Activity A`您的`loginAction()`方法中，放置一个布尔标志来跟踪用户是否已登录。如果用户有效，则执行登录操作，将该标志设置为 TRUE，然后启动您的`Activity B`.

在方法`Activity B`中`onResume()`，每次检查标志是TRUE还是FALSE。如果标志为 TRUE，则不执行任何操作，如果标志为 FALSE，则开始`Activity A`（返回登录屏幕）。就像是：

```
@Override
protected void onResume() {
    super.onResume();

    boolean isLogged = <yourSharedPrefs>.getBoolean(IS_LOGGED, Boolean.FALSE);

    if (!isLogged) {
                    //here start your login Activity
        startActivity(new Intent(this, ActivityA.class));
    }

} 
```

中的注销按钮`Activity B`，应将标志设置为 FALSE，然后开始`Activity A`。

这样，当您单击返回按钮时，您的应用程序将加载`Activity B`，但签`onResume()`入会检测到用户未登录，并将`Activity A`启动。

# css - css中的django变量-我可以使用模板吗

> ID：11591508
> 
> 赞同：2
> 
> 时间：2012-07-21T10:47:33.917
> 
> 标签：css, django, django-templates

在我对 django 很陌生之前写了很多 python，并且到目前为止很喜欢它。

我以前的 Web 经验是使用 PHP，为了使我的 CSS 易于维护，我使用一个 php 文件作为我的 CSS 并将其作为 CSS 内容类型提供。因此，我可以制作可以轻松更改的变量，以使站点中的所有内容都发生变化。

例如styles.php：

```
<?php header('Content-type: text/css');

$pink = '#91305f';
$green = '#a4ce39';
$black = '#000000';
$white = '#ffffff';
$std_font = "'Ruda', sans-serif";
$std_shadow = "text-shadow: 1px 1px 1px #000;";
$big_shadow = "text-shadow: 2px 2px 2px #000;";
$h_space = '10px';
?> 
```

和...

```
html {
    background-color:<?= $pink ?>;
    color: <?= $green ?>;
    font-family: <?= $std_font ?>;
} 
```

因此，如果我想更改整个站点中黑色的含义，我只需更改顶部的 $black = 以及我的 CSS 中所有我说过 color: 的地方。将遵循。

我想在 django 中实现相同类型的东西，但不知道该怎么做。我在想我可以使用视图在 css 中呈现模板，但不确定如何去做。是否像在我的视图中创建一个 dict 并将其传递给 render_to_response 然后在我的模板文件中引用它一样简单？

例如views.py：

```
def style(request):
    colours = {'pink' : '#91305f', 'green' : '#a4ce39'}
    return render_to_response('styles.css', {'styles': colours},
                              context_instance=RequestContext(request)) 
```

然后，在模板/styles.css 中：

```
html {
        background-color:{{ styles.pink }};
        color: {{ styles.green }};
    } 
```

这是一个可行的解决方案吗？如果是这样，似乎我将视图耦合到模板，但我无法弄清楚我将在哪里存储实现这一目标所需的数据。

谢谢亚伦

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:15:42.697

你可以完全按照你说的去做，所以从不在静态根目录中的某个地方提供 css，通过 URL 系统传递请求并将文件呈现为页面。但是，对于所有帐户来说，这都是一种非常低效的方法，尤其是当您在每次页面加载时提供多个 CSS 文件时。在这种情况下，您可以做的是设置 Web 服务器以无限期缓存 CSS 文件，并且只根据您的命令进行更新，在这种情况下，您将拥有静态 CSS 文件的所有速度优势和动态 CSS 文件的所有可维护性那些。如果您想为每个用户提供自定义 CSS，那么这种方法将不起作用。您可以做的最后一件事是自己编写一个小解析器，它可以解析您创建的“meta-css”文件，您可以在其中定义大量变量，例如 django 模板，然后它用您指定的变量替换那些变量，并将生成的 CSS 上传为静态文件。您当然可以使用 django 引擎来执行此操作，只需请求页面并将生成的文件复制到静态目录，此时它就成为 apache 缓存的手动版本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T11:33:57.453

如果我正确理解您的问题，您希望能够轻松更改整个站点的布局，而无需编辑所有样式表。对我来说，听起来您不想使用内联样式和生成的 css，而是使用 SASS 或 LESS 并使用变量来设计颜色：

*   [http://sass-lang.com/](http://sass-lang.com/)
*   [http://lesscss.org/](http://lesscss.org/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T11:02:53.570

我不确定这是不是好方法。可能您可以添加`class`到要应用特定样式的元素。

无论如何，如果你想继续这个方法，你可以实现你的上下文处理器，默认情况下会添加这些变量。请参阅[编写上下文处理器](https://docs.djangoproject.com/en/dev/ref/templates/api/#writing-your-own-context-processors)

# c# - C# 无法访问类元素

> ID：11591512
> 
> 赞同：-1
> 
> 时间：2012-07-21T10:48:08.003
> 
> 标签：c#, class

这似乎是一个非常简单的错误，但我无法解决它。我在 User.cs 中创建了一个名为 User 的类，当我在另一个 .cs 文件中实例化它时，它会执行此操作，但我无法更改其属性或访问其属性。

```
User user = new User(); 
```

我像这样创建了一个新实例，但后来我无法访问。例如：

```
user.name 
```

User类的内容如下：

```
public class User
{
    public static string name;
    public static int age;
    public static int height;
    public static int weight;
} 
```

是什么原因，我该如何解决？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T10:54:07.530

您已经创建了一个静态对象，不要实例化类来使用它，只需执行

```
User.name 
```

或者删除 static 关键字。

静态这个词意味着你不需要创建一个新的类来访问一些东西，所以对于一个类来说

```
public Class { 
    public static object myAttribute;
}

Class.myAttribute 
```

但是如果你不使用静态关键字

```
public Class { 
    public object myAttribute;
}

Class myClass = new Class();
myClass.myAttribute; 
```

当您的值不依赖于同一类中的任何其他变量时，您希望使用静态值。当它们确实依赖于同一类中的变量（或变量操作）时，请使用非静态。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T10:54:19.377

`static`从字段中删除关键字

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T10:50:46.633

是`name`公众会员吗？将其设置为公共或创建公共属性以访问它...

```
public string Name { get { return name; } } 
```

**编辑：**作为`name`一个静态成员，你不能写`myUser.name`. 是`User.name`。我认为你应该删除`static`（并学习一些基础......）。

构建期间出现的错误消息是什么？应该足够清楚。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T10:50:51.170

您必须在用户类中将 name 声明为 public。例如：

```
public string name { get; set; } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-21T10:57:34.287

您不能从类的实例访问静态字段。您可以不将字段声明为静态：

```
public class User
{
    public string name;
    public int age;
    public int height;
    public int weight; 
... 
```

或者您可以静态访问该类：

```
User.name 
```

# php - PHP默认文本输入字段的值

> ID：11591523
> 
> 赞同：1
> 
> 时间：2012-07-21T10:51:08.537
> 
> 标签：php, default

在这段代码中，它应该改变数量，但它没有改变。它总是设置值'1'。

```
<?php
if(isset($_POST["quantity"]))
  $quantity = settype($_POST["quantity"], "integer");
else
  $quantity = 1;

$item_price = 5.99;
printf("%d x item = $%.2f", 
        $quantity, $quantity * $item_price);
?>
<FORM ACTION="buy.php" METHOD=POST>
Update quantity:
<INPUT NAME="quantity" SIZE=2 
 VALUE="<?php echo $quantity;?>">
<INPUT TYPE=SUBMIT VALUE="Change quantity">
</FORM>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T10:53:20.360

`settype`用于设置变量的类型，返回`bool`值表示成功或失败。您需要为（使用类型转换）分配`$_POST`值`$quantity`，试试这个：

```
if(isset($_POST["quantity"])) {
  $quantity = (int)$_POST["quantity"];
} else {
  $quantity = 1;
}

// or
$quantity = isset($_POST["quantity"]) ? (int)$_POST["quantity"] : 1; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T10:53:37.390

尝试

```
 if(isset($_POST["quantity"]))
      $quantity = intval($_POST["quantity"]); 
```

# python - 如何使用 PyYAML 从 Web 解析 YAML 文件？

> ID：11591524
> 
> 赞同：0
> 
> 时间：2012-07-21T10:51:12.213
> 
> 标签：python, yaml, pyyaml

我需要从网上获取一个 YAML 文件并使用 PyYAMl 对其进行解析，但我似乎找不到解决方法。

```
import urllib
import yaml
fileToBeParsed = urllib.urlopen("http://website.com/file.yml")
pythonObject = yaml.open(fileToBeParsed)
print pythonObject 
```

运行时产生的错误是：AttributeError: 'module' object has no attribute 'open'

如果有帮助，我正在使用 python 2。对不起，如果这是一个愚蠢的问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T10:55:21.997

我相信您想要，如果不是模块`yaml.load(fileToBeParsed)`，我建议您查看。`urllib2.urlopen``requests`

# ios - 是否可以在 iOS 中实现此蓝牙功能

> ID：11591525
> 
> 赞同：2
> 
> 时间：2012-07-21T10:51:19.640
> 
> 标签：ios, bluetooth, bluetooth-lowenergy

我正在考虑在应用程序中实现蓝牙功能，以读取和显示连接的蓝牙外围设备（即键盘、耳机......）的电池寿命

是否有 API 或对象可以在 iOS SDK 中实现这一点，或者有人可以告诉我如何做到这一点，如果可以的话？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-22T05:15:52.080

是的，但您很可能需要成为 Made for iOS 计划的成员。您可以在不参与 MFi 计划的情况下连接到[低功耗蓝牙](http://mobworld.wordpress.com/tag/mfi-corebluetooth/)设备，但它仅适用于支持的外围设备，并且 iOS 设备必须是 iPhone 4S 或新 iPad。另请参考[此](https://stackoverflow.com/questions/9775645/list-and-connect-to-bluetooth-devices-from-within-ios-app)stackoverflow 问题。

# c# - 使用 .Net（C# 或 VB.NET）在 Exchange 2010 中创建用户

> ID：11591527
> 
> 赞同：0
> 
> 时间：2012-07-21T10:51:20.720
> 
> 标签：c#, vb.net, exchange-server, exchange-server-2010

我想创建一个 .Net 应用程序，它将在 Exchange 2010 中创建用户和邮箱。我已经看到了 PowerShell 方法，但我想在没有它的情况下工作。

任何人任何想法。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:01:06.733

事实上，据我所知，Exchange 从活动目录中获取它的用户。这意味着您可以检查此链接： [通过 C# 管理 Active Directory](http://www.codeproject.com/Articles/18102/Howto-Almost-Everything-In-Active-Directory-via-C)

# php - 如何以编程方式检查 svn 可写访问权限？

> ID：11591528
> 
> 赞同：1
> 
> 时间：2012-07-21T10:51:27.297
> 
> 标签：php, svn, pear

我正在使用[`PEAR/VersionControl_SVN`](http://pear.php.net/package/VersionControl_SVN/)库使用颠覆。这个库的优点是它是 subversion 命令行客户端的包装器。因此，我不需要安装任何绑定/模块/扩展（例如[svn extension](http://php.net/manual/en/book.svn.php)）就可以直接使用嵌入式函数（例如[`svn_ls`](http://www.php.net/manual/en/function.svn-ls.php)or [`svn_commit`](http://www.php.net/manual/en/function.svn-commit.php)）使用 subversion。我所有的应用程序都需要安装 subversion 命令行客户端。不好的是，如果使用 subversion 命令行客户端无法完成某些事情，那么使用这个库是不可能的。

`/test`例如，除了尝试创建和删除目录然后分析输出之外，我找不到任何其他方法来检查用户是否对存储库具有可写访问权限：

```
require_once 'VersionControl/SVN.php';

class SvnException extends Exception {};

function checkCredentials($url, $user, $password) {
    $switches = array(
        'username' => $user, 
        'password' => $password, 
        'message' => 'check whether user '.$user.' has repository writable access'
    );
    $svnerror = &PEAR_ErrorStack::singleton('VersionControl_SVN');
    $svnoptions = array('fetchmode' => VERSIONCONTROL_SVN_FETCHMODE_ARRAY);
    $action = VersionControl_SVN::factory('mkdir', $svnoptions);
    $url = rtrim($url, '/\ ');
    $action->run(array($url.'/test'), $switches);
    $action = VersionControl_SVN::factory('delete', $svnoptions);
    $action->run(array($url.'/test'), $switches);
    if($errors = $svnerror->getErrors()) {
        $all_errors = '';
        foreach ($errors as $err) {
            $all_errors .= $err['message']."\n";
        }
        throw new SvnException($all_errors);
    }
    return true;
}

$url = 'svn://localhost:3129';
$user = 'username';
$password = 'password';
try {
    if(checkCredentials($url, $user, $password)) {
        print "User $user has writable access to subversion repository $url\n";
    }
} catch (SvnException $e) {
    print "User $user does not have writable access to subversion repository $url\n";
    print $e->getMessage();
} 
```

输出如下：

```
> php checksvnaccess.php

User username does not have writable access to subversion repository svn://localhost:3129

svn: E160013: URL 'svn://localhost:3129/test' does not exist (cmd: "C:\Program F
iles\Subversion Client\svn.EXE" delete --username username --password password -
-message "check whether user username has repository writable access" "svn://loc
alhost:3129/test")

svn: E170001: SASL authentication error: SASL(-1): generic failure: Unable to fi
nd a callback: 2 (cmd: "C:\Program Files\Subversion Client\svn.EXE" mkdir --user
name username --password password --message "check whether user username has rep
ository writable access" "svn://localhost:3129/test")

Username: Password for '': (cmd: "C:\Program Files\Subversion Client\svn.EXE" mk
dir --username username --password password --message "check whether user userna
me has repository writable access" "svn://localhost:3129/test")

Authentication realm: <svn://localhost:3129> 76572ec9-2173-de46-8e99-8db01e97341
a (cmd: "C:\Program Files\Subversion Client\svn.EXE" mkdir --username username -
-password password --message "check whether user username has repository writabl
e access" "svn://localhost:3129/test") 
```

执行此代码示例与运行以下命令相同：

```
svn mkdir --username username --password password --message "check whether user username has repository writable access" "svn://localhost:3129/test"
svn delete --username username --password password --message "check whether user username has repository writable access" "svn://localhost:3129/test" 
```

有没有办法使用这个库检查存储库访问权限而不尝试在存储库中创建一些对象？如果有一种方法可以使用命令行检查访问，那就太好了。例如，`svn checkaccess --username username --password password svn://localhost:3129/test`。有什么解决方法吗？

# java - Java HTTPSession——将用户电子邮件存储为字符串与存储用户对象

> ID：11591529
> 
> 赞同：1
> 
> 时间：2012-07-21T10:51:33.400
> 
> 标签：java, jsp, object, jstl, httpsession

我有一个 HTTPSession 对象，我想在其中存储用户信息。

我有两个选择

*   将用户电子邮件存储为字符串并将用户从数据库中取出并每次使用这些字段。
*   将 User 对象存储在会话中并获得 JSTL 支持，例如我可以做 ${User.firstName}

哪一个是更好的解决方案？最佳实践？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-23T09:41:25.250

我认为作为对象存储会更好......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T11:00:27.187

这完全取决于您是否希望用户信息在会话的生命周期内发生变化。

如果它没有改变，或者您不在乎显示陈旧的值，那么将用户存储在会话中就可以了。否则，每次都需要从数据库中获取最新的用户信息。

不过，我会避免通过他的电子邮件地址来识别用户，因为它可能会过期和更改。使用技术用户 ID，并将他的电子邮件存储为用户的任何其他信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T09:46:58.363

我会小心在会话中存储大对象，因为它可能成为性能瓶颈。完整对象可能是更舒适的解决方案，但如果您存储的对象很大，您可能会遇到内存和性能问题，因为该对象是序列化和反序列化的。这也意味着您只能在会话中存储可序列化的对象（意味着它们需要实现 Serializable 接口）。

我总是尝试在会话中尽可能少地存储。在您的情况下，只需存储标识符并稍后查找用户对象，例如使用一些实用方法。

# notepad++ - Notepad++ 6.1.x 和 HTMLTidy

> ID：11591532
> 
> 赞同：10
> 
> 时间：2012-07-21T10:51:55.487
> 
> 标签：notepad++, htmltidy

有人让记事本 6.1.x 和 HTMLTidy 工作，可以告诉我，在哪里下载 dll / config。使用：记事本++ 6.1.4 Win 7 x86

是的，这个 Notepad++ / TidyHTML 问题已经被问过了，但它要么指的是过时的 URL，要么不适用于**较新的 Notepad++ 6.1。版本**，或者根本不起作用。

所以参考：

1.  [格式化 HTML 文档](https://stackoverflow.com/questions/1820811/format-html-document)
2.  [记事本++ HTML整洁](https://stackoverflow.com/questions/809636/notepad-html-tidy)
3.  [Notepad++ HTML Tidy Unknown Exception Windows 7 x64](https://stackoverflow.com/questions/7587372/notepad-html-tidy-unknown-exception-windows-7-x64)

这是我所做的：

1.  已安装`TextFx`插件`Plugins / PluginManager`：OK
2.  从这里创建默认值：http `tidycfg.ini`: [//sourceforge.net/apps/mediawiki/notepad-plus/index.php ?title=HTML_Tidy](http://sourceforge.net/apps/mediawiki/notepad-plus/index.php?title=HTML_Tidy)
3.  `libtidy.dll`从这里下载：http: [//www.paehl.com/open_source/](http://www.paehl.com/open_source/?HTML_Tidy_for_Windows) ?HTML_Tidy_for_Windows（一些cr...广告弹出）

现在我有一个 HTMLTidy 菜单，但是当我运行它时，它崩溃了。所以我需要一个不同的dll或其他设置。

![菜单还可以](../Images/99366e8c534c1413708efa8aa391629d.png) ![碰撞](../Images/ca3fbc429de7420140a4ed573cf09c56.png)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-21T14:04:29.553

最终我在这里找到了解决方案：[https ://stackoverflow.com/a/7935797/356726](https://stackoverflow.com/a/7935797/356726)

5.9 插件适用于 Notepad++ 6.1.x 版本，但即使是 unicode 版本，我也必须使用 ANSI 插件。Unicode 插件崩溃了。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-04-10T20:54:01.363

以 zip 格式下载旧版本的 notepad++。

从 zip \unicode\plugins\Config\tidy 复制到 C:\Program Files (x86)\Notepad++\plugins\Config\tidy

重启记事本++，现在你可以使用插件了

菜单 -> TextFX -> TextFX HTML Tidy –> Tidy: Reindent XML

使用插件下载旧版本的链接 [http://notepad-plus-plus.org/download/v5.6.8.html](http://notepad-plus-plus.org/download/v5.6.8.html)

# xml - 用于模型交换的内容 MathML 与 OpenMath

> ID：11591533
> 
> 赞同：8
> 
> 时间：2012-07-21T10:52:07.377
> 
> 标签：xml, mathml, symbolic-math, sympy, computer-algebra-systems

在我的研究小组中，我们有不同的人在不同的符号工具中进行代数建模，例如 Matlab 中的 Symbolic Toolbox 和 Python 中的 Sympy。然后，这些模型通常会导出为 C 代码，并复制粘贴到我们自己的基于 C++ 的符号工具中，以进行进一步的符号操作。

在寻找这种难以维护的方法的替代方案时，我发现了两种看起来或多或少标准化的格式：OpenMath 和“Content MathML”。请注意，我们只对语义感兴趣，而不是漂亮的打印。

这两种格式有什么关系？两者都可以用来存储和交换工具之间的数学表达式吗？

数学表达式是否还有其他或多或少标准化的交换格式？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-22T01:05:33.073

这些格式密切相关（并且由一组重叠的人大致同时定义）（例如，我是 MathML 和 OpenMath 规范的编辑）。在当前版本的 Content MathML (MathML 3) 中，它的形式化程度远远超过早期版本，并且所有 MathML 内容元素都根据 openmath 符号给出了语义。所以形式上唯一的区别是语法，Content MathML 有一个“严格”子集，它是 OpenMath 的正式编码，加上一组便利元素，这些元素被赋予了 OpenMath 等效子集的正式重写规则。

除了表达式本身的语法之外，如果您偏离了 MathML 中预定义的固定运算符集，您需要一些记录定义的方式，这里 OpenMath 和 MathML 都使用相同的 OpenMath“内容字典”格式。

# linux - Google Cloud Storage - GSUtil - 复制文件，跳过现有文件，不要覆盖

> ID：11591536
> 
> 赞同：25
> 
> 时间：2012-07-21T10:52:26.360
> 
> 标签：linux, copy, sync, google-cloud-storage

我想将本地目录同步到 Google Cloud Storage 中的存储桶。我想复制远程不存在的本地文件，跳过远程和本地已经存在的文件。这可以用 GSUtil 做到这一点吗？我似乎找不到 GSUtil 的“同步”选项或“不覆盖”。是否可以编写脚本？

我在 Linux (Ubuntu 12.04) 上？

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-12-16T09:38:12.333

gsutil 现在支持 cp 命令上的 noclobber 标志 (-n)。将您的 gsutil 更新到最新版本（使用 gsutil update），然后在执行复制时使用 -n 标志。

此标志将跳过目的地已存在的文件。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2015-06-24T07:05:20.997

您需要在命令中添加 (-n)，在[Google Cloud Platform](https://cloud.google.com/storage/docs/gsutil/commands/cp)上正式提到：

> **-n**：没有破坏。指定后，目标位置的现有文件或对象将不会被覆盖。任何被此选项跳过的项目都将被报告为被跳过。此选项将在尝试上传数据之前执行额外的 GET 请求以检查项目是否存在。这将节省重传数据，但额外的 HTTP 请求可能会使小对象传输更慢且更昂贵。

示例（使用多线程）：

```
gsutil -m cp -n -a public-read -R large_folder gs://bucket_name 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2017-11-28T04:44:10.250

使用[rsync](https://cloud.google.com/storage/docs/gsutil/commands/rsync)，您可以复制丢失/修改的文件/对象：

```
gsutil -m rsync -r <local_folderpath> gs://<bucket_id>/<cloud_folderpath> 
```

此外，如果您使用该`-d`选项，您还将删除存储桶中不再存在于本地的文件/对象。

另一种选择可能是使用[Object Versioning](https://cloud.google.com/storage/docs/object-versioning)，因此您将使用本地数据替换存储桶中的文件/对象，但您始终可以返回到以前的版本。

# windows-phone-7 - Windows Phone 自定义动态磁贴未按预期工作

> ID：11591538
> 
> 赞同：2
> 
> 时间：2012-07-21T10:52:41.917
> 
> 标签：windows-phone-7, windows-phone-7.1, live-tile

我创建了一个 Windows Phone 应用程序，我需要创建自定义磁贴并从程序更新它

我创建了一个用户控件，

```
 <TextBlock x:Name="Count" Foreground="White" FontFamily="Segoe WP Bold" FontSize="80" Text="{Binding Count}" HorizontalAlignment="Right" Margin="0,0,10,0"/>
 <TextBlock HorizontalAlignment="Left" VerticalAlignment="Bottom" Margin="0,0,0,0" Grid.Row="1" Text="Tile Demo" Foreground="White" FontFamily="Segoe WP Semibold" FontSize="35" /> 
```

从我的 MainPage.xaml.cs 文件中，我绑定了计数，然后我将用户控件转换为 .jpg 文件并存储在 ISO 存储中。像下面

```
 public void CreateOrUpdateTile(int count) 
 {
 CustomNotificationTile frontTile = new CustomNotificationTile();
 TileData tileData = new TileData() { Count = count };
 frontTile.DataContext = tileData;

 //frontTile.Count.Text = count.ToString();

 frontTile.Measure(new Size(173, 173));
 frontTile.Arrange(new Rect(0, 0, 173, 173));
 var bmp = new WriteableBitmap(173, 173);
 bmp.Render(frontTile, null);
 bmp.Invalidate();

 var isf = IsolatedStorageFile.GetUserStoreForApplication();
 var filename = "/Shared/ShellContent/Tile.jpg";

 if (!isf.DirectoryExists("/Shared/ShellContent"))
 {
        isf.CreateDirectory("/Shared/ShellContent");
 }

 using (var stream = isf.OpenFile(filename, System.IO.FileMode.OpenOrCreate))
 {
 bmp.SaveJpeg(stream, 173, 173, 0, 100);
 }

 ShellTile TileToFind = ShellTile.ActiveTiles.FirstOrDefault(x => x.NavigationUri.ToString().Contains("TileID=2"));

 //test if Tile was created
 if (TileToFind == null)
 {
       StandardTileData NewTileData = new StandardTileData
       {
             BackgroundImage = new Uri("isostore:" + filename, UriKind.Absolute),
             BackBackgroundImage = new Uri("Application_TileImage_173x173.png", UriKind.Relative)
       };

       ShellTile.Create(new Uri("/MainPage.xaml?TileID=2", UriKind.Relative), NewTileData);
       }

 #region Update the Tile Not Working as expected

        else
        {
            StandardTileData NewTileData = new StandardTileData
            {
                BackgroundImage = new Uri("isostore:" + filename, UriKind.Absolute)
            };
            TileToFind.Update(NewTileData);
        }

        #endregion
  } 
```

**问题：**

我的问题是首先我从构造函数调用以创建带有一些虚拟数据的图块，它按预期工作

但是当我尝试从其他方法更新 Tile 它不起作用时，我从 page_load 事件调用的那些方法

这些方法将从 WCF 服务中获取数据，我正在从 WCF 服务方法的完成事件中更新 Tile，如下所示

```
Service.getProductsCountAsync();

Service.getProductsCountCompleted += (o,e) => { 
int count = e.Result;
Dispatcher.BeginInvoke(() =>
        {
            CreateOrUpdateTile(count);
        });
}; 
```

当控制器点击上面的代码时，我只看到黑色背景的数字，Tile count 正在更新但背景颜色和 logo 正在改变，我不知道为什么会这样，但需要尽早解决。

**我认为问题可能是从后台线程更新 UI，但我不知道如何克服**

以下是在方法调用之前和方法调用之后拍摄的图像

## 前

![更新前](../Images/8b076acd2f6dfc9b3d3a9bd334567e5c.png)

## 后

![服务电话后](../Images/d6d7bcba95a215d71be69cccf23ff5b3.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T06:01:38.670

它的工作

我们必须绑定背景颜色，Logo 也像计数一样动态，即使它们是静态的

**之后它按预期工作**

# kernel - yum 无法更新 Centos 6 内核，uname -r 仍然显示旧版本

> ID：11591551
> 
> 赞同：1
> 
> 时间：2012-07-21T10:54:37.003
> 
> 标签：kernel, centos, rpm, yum, centos6

我发送了这些命令：

```
# yum install kernel
Loaded plugins: fastestmirror, security
Loading mirror speeds from cached hostfile
 * base: centosr3.centos.org
 * extras: centosg4.centos.org
 * updates: centosg4.centos.org
Setting up Install Process
Package kernel-2.6.32-279.2.1.el6.i686 already installed and latest version
Nothing to do 
```

* * *

```
# yum install kernel-devel
Loaded plugins: fastestmirror, security
Loading mirror speeds from cached hostfile
 * base: centosr3.centos.org
 * extras: centosg4.centos.org
 * updates: centosg4.centos.org
Setting up Install Process
Package kernel-devel-2.6.32-279.2.1.el6.i686 already installed and latest version
Nothing to do 
```

* * *

```
#uname -r
2.6.32-042stab057.1
#uname -a
Linux asteriskserver 2.6.32-042stab057.1 #1 SMP Fri Jun 22 02:17:07 MSD 2012 i686 i686 i386 GNU/Linux 
```

如您所见，它仍在运行 2.6.32 内核的旧版本，而 yum 说我安装了另一个版本。我重新启动了系统，它是一个vps。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-21T11:06:55.123

在服务器虚拟化中使用的大多数 VPS 环境中，如 openvz，虚拟服务器可以直接访问主机内核以获得性能，因此您无法更新内核版本，因为您与主机上的所有其他虚拟机共享主机内核。

如果您的情况不是这样，并且您的 Hoster 没有这样做，那么您的引导加载程序可能有问题。在大多数情况下，安装的引导加载程序是 GRUB。请查看[CentOS 指南中的 GRUB 章节](http://www.centos.org/docs/5/html/Installation_Guide-en-US/ch-grub.html)。

# java - Android Layout 内容显示问题

> ID：11591554
> 
> 赞同：0
> 
> 时间：2012-07-21T10:54:51.370
> 
> 标签：java, android, xml

我正在尝试在布局中显示两个文本，以便它们一个接一个地显示，但以下代码将字符串粘贴在彼此的正上方。我该怎么办。我试图在两个文本视图之间交换 fill_parent 和 wrap_content 但它毫无价值

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="fill_parent"
android:layout_height="fill_parent" >

<TextView
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_centerHorizontal="false"
    android:layout_centerVertical="false"
    android:text="@string/hello_world"
    tools:context=".StartingPoint" />
 <TextView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="false"
    android:layout_centerVertical="false"
    android:text="@string/testing"
    tools:context=".StartingPoint" /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T10:56:18.560

您必须将**下面**的属性放在第二个 TextView 中，并在**下面**的属性上设置第一个 TextView的**id**

通过这两个更改您的两个 TextView：

```
<TextView
android:id="@+id/TextView1"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:layout_centerHorizontal="false"
android:layout_centerVertical="false"
android:text="@string/hello_world"
tools:context=".StartingPoint" />

<TextView
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_below="@+id/TextView1"
android:layout_centerHorizontal="false"
android:layout_centerVertical="false"
android:text="@string/testing"
tools:context=".StartingPoint" /> 
```

但是你需要先阅读android开发者的文档，因为那是非常基础的。

希望有所帮助:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T10:58:41.587

用作`LinearLayout`父布局并将其设置`orientation`为`horizontal`. 这将起作用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T10:59:22.090

You have to tell the RelativeLayout how it has to place the different views.

Documentation: [http://developer.android.com/guide/topics/ui/layout/relative.html](http://developer.android.com/guide/topics/ui/layout/relative.html)

It could be simpler to use a [LinearLayout](http://developer.android.com/guide/topics/ui/layout/linear.html).

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T11:10:29.097

If you need RelativeLayout menas,

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_centerHorizontal="true"
        android:text="FirstText"
        android:textAppearance="?android:attr/textAppearanceLarge" />

    <TextView
        android:id="@+id/textView2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/textView1"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="30dp"
        android:text="secondText"
        android:textAppearance="?android:attr/textAppearanceLarge" />

</RelativeLayout> 
```

Else you need LinearLayout means,

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="FirstText"
        android:textAppearance="?android:attr/textAppearanceLarge" />

    <TextView
        android:id="@+id/textView2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="30dp"
        android:text="secondText"
        android:textAppearance="?android:attr/textAppearanceLarge" />

</LinearLayout> 
```

In the Case of Relative layout you need the textview is one by one means use this parameter, `android:layout_below="@+id/textView1"` else you are using LinearLayout means use this parameter `android:orientation="vertical"`

# c# - 从 sqldatasource where 条件中的身份验证票中获取用户名

> ID：11591559
> 
> 赞同：0
> 
> 时间：2012-07-21T10:55:58.187
> 
> 标签：c#, asp.net

我在登录时有以下 cookie： if (Membership.ValidateUser(UserName.Text, Password.Text)) { string userData = "ApplicationSpecific data for this user.";

```
 FormsAuthenticationTicket ticket = new FormsAuthenticationTicket(1,
              UserName.Text,
              DateTime.Now,
              DateTime.Now.AddMinutes(30),
              isPersistent,
              userData,
              FormsAuthentication.FormsCookiePath);

            // Encrypt the ticket.
            string encTicket = FormsAuthentication.Encrypt(ticket);

            // Create the cookie.
            Response.Cookies.Add(new HttpCookie(FormsAuthentication.FormsCookieName, encTicket));
            FormsAuthentication.RedirectFromLoginPage(UserName.Text, isPersistent);
        } 
```

在受保护的页面中，我将其解密：

```
 HttpCookie authCookie = Request.Cookies[FormsAuthentication.FormsCookieName];
FormsAuthenticationTicket ticket = FormsAuthentication.Decrypt(authCookie.Value); 
```

并且在受保护的页面中有一个gridview 控件。

*   当我选择从 sqldatasource 绑定 gridview 时，我需要选择 The database 并且可以使用“Where”子句。

例如：

```
Column : Username
Operator : =
Source : control/cookie/form/profile/queryString/session/route. 
```

我选择 COOKIE 是因为

```
forms auth ticket. and the cookie name from web.config:

     <forms name=".TEST" 
```

但不工作我得到这个错误：

```
Server Error in '/' Application.
Runtime Error
Description: An application error occurred on the server. The current custom error settings for this application prevent the details of the application error from being viewed remotely (for security reasons). It could, however, be viewed by browsers running on the local server machine.

Details: To enable the details of this specific error message to be viewable on remote machines, please create a <customErrors> tag within a "web.config" configuration file located in the root directory of the current web application. This <customErrors> tag should then have its "mode" attribute set to "Off".

<!-- Web.Config Configuration File -->

<configuration>
    <system.web>
        <customErrors mode="Off"/>
    </system.web>
</configuration>

Notes: The current error page you are seeing can be replaced by a custom error page by modifying the "defaultRedirect" attribute of the application's <customErrors> configuration tag to point to a custom error page URL.

<!-- Web.Config Configuration File -->

<configuration>
    <system.web>
        <customErrors mode="RemoteOnly" defaultRedirect="mycustompage.htm"/>
    </system.web> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:00:15.810

您可以将以下内容添加到 web.config

```
<configuration>
    <system.web>
        <customErrors mode="Off"/>
    </system.web>
</configuration> 
```

因为这向您显示了被隐藏的错误消息。我们目前看到的通用“错误消息被拒绝”。

或者，您可能希望查看一个更好的错误处理系统，例如[ELMAH](http://code.google.com/p/elmah/)，其中将错误记录到数据库中，您仍然可以遇到限制性错误，但作为开发人员仍然能够看到它们是什么。

# python - HowTo：生产服务器中的 Redis

> ID：11591560
> 
> 赞同：1
> 
> 时间：2012-07-21T10:56:15.567
> 
> 标签：python, django, nginx, redis

我是设置缓存系统和生产服务器的新手。在这个社区和我朋友的帮助下，我已经在我的生产服务器（Django + Nginx + UWSGI + Supervisor + Ubuntu 12.04）中设置了我以前的 Django 脚本。

现在，我正在使用 Redis 为我的社交流提供新的动力。我不知道如何使用 Django 和 Nginx 将其安装在生产服务器中。

实在看不懂这里的代码[http://wiki.nginx.org/HttpRedis](http://wiki.nginx.org/HttpRedis)说明这段代码

```
server {
  location / {
    set $redis_key $uri;

    redis_pass     name:6379;
    default_type   text/html;
    error_page     404 = /fallback;
  }

  location = /fallback {
    proxy_pass backend;
 }
} 
```

只是为了简单的缓存。Redis 中的简单缓存是什么？我正在使用来自 redis 的**set、get、list 和 hash 命令。**该代码足以满足我正在做的事情吗？

如果没有，谁能给我带有 Redis 的 Django 的 nginx 设置。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:13:24.583

从这个开始： [https ://github.com/andymccurdy/redis-py](https://github.com/andymccurdy/redis-py)

```
$ sudo pip install redis 
```

或者这个： [https ://github.com/sebleier/django-redis-cache](https://github.com/sebleier/django-redis-cache)

Redis 使用键值模型存储和检索数据。

设置密钥时，您还将为密钥设置 TTL。 [http://redis.io/commands/ttl](http://redis.io/commands/ttl)

```
redis> SET mykey "Hello"
OK
redis> EXPIRE mykey 10
(integer) 1
redis> TTL mykey
(integer) 10
redis> 
```

# php - 为什么静态方法不可测试？

> ID：11591564
> 
> 赞同：16
> 
> 时间：2012-07-21T10:56:41.637
> 
> 标签：php, unit-testing, static-methods

为什么静态方法不可测试？请举例说明（如果可能，在 PHP 中）。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-07-21T11:02:04.457

静态方法本身不是不可测试的，但是如果被测试的对象调用静态方法，那么测试就不能“介于两者之间”并使其调用存根方法。如果被测试的对象改为调用常规方法，则测试可以为其提供具有该方法的存根实现的替代对象。

通常，刚性依赖项的可测试性较差，而*依赖项注入*（google it）使代码更具可测试性。

例如，假设我们有一个`getCurrentUser()`由我们正在测试的类使用的静态方法，如下所示

```
class PostModel {
    //...
    public function getRecentPosts() {
        return $this->database->from('posts')
                ->where(array('user' => UserModel::getCurrentUser()))
                ->limit(10);
    }
} 
```

现在`UserModel::getCurrentUser()`不能用存根方法替换。如果我们让它成为我们通过对象引用调用的常规方法，我们可以在我们的测试中传入一个替代存根对象。

```
class PostModel {
    private $userModel;
    public function __construct($userModel) { 
        $this->userModel = $userModel;
    }
    //...
    public function getRecentPosts() {
        return $this->database->from('posts')
                ->where(array('user' => $this->userModel->getCurrentUser()))
                ->limit(10);
    }
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-21T11:03:02.680

静态方法是可测试的：[http](http://sebastian-bergmann.de/archives/883-Stubbing-and-Mocking-Static-Methods.html) ://sebastian-bergmann.de/archives/883-Stubbing-and-Mocking-Static-Methods.html （它在 php 中），但如果你想测试类之间的交互作用（即使用模拟和假对象）你可能不喜欢使用它。话虽如此，phpunit 3.5 允许您存根这些。

您可能还想看看[我什么时候在 php 中使用静态变量/函数？](https://stackoverflow.com/questions/1257371/when-do-i-use-static-variables-functions-in-php)或搜索有关何时使用静态方法的一些信息。

我在类中使用静态方法（即标记为私有或受保护），因为它们在我使用的语言中更快。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-21T11:18:50.013

定义明确的 `Static`方法是完全可测试的。你看，问题不在于方法本身，而在于方法的依赖关系。如果方法及其依赖项（以及依赖项的依赖项）是[幂等](https://en.wikipedia.org/wiki/Idempotence)的，那么就没有问题。当您的`Static`方法调用其他方法（例如，依赖于`global`.

# javascript - 如何简化这个 javascript？

> ID：11591574
> 
> 赞同：-3
> 
> 时间：2012-07-21T10:58:31.933
> 
> 标签：javascript, jquery, methods, attributes

这是相同的效果，但有 4 个不同的缩放元素。如何简化此代码？

```
<script>
        $(document).ready(function(){
            $('.etalage').etalage({
                show_hint: false,
                thumb_image_width: 470,
                thumb_image_height: 470,
                source_image_width: 1000,
                source_image_height: 1000,
                zoom_element: '#custom_zoom_element',
                //source_image_height: 480,
                //source_image_width: 480,
                zoom_area_width: 470,
                zoom_area_height: 470
            });
        }); 
```

这是相同的效果，但有 4 个不同的缩放元素。如何简化此代码？

```
 $(document).ready(function(){
            $('.etalage2').etalage({
                show_hint: false,
                    thumb_image_width: 470,
                thumb_image_height: 470,
                source_image_width: 1000,
                source_image_height: 1000,
                zoom_element: '#custom_zoom_element2',
                //source_image_height: 480,
                //source_image_width: 480,
                zoom_area_width: 470,
                zoom_area_height: 470
            });
        }); 
```

这是相同的效果，但有 4 个不同的缩放元素。如何简化此代码？

```
 $(document).ready(function(){
            $('.etalage3').etalage({
                show_hint: false,
                    thumb_image_width: 470,
                thumb_image_height: 470,
                source_image_width: 1000,
                source_image_height: 1000,
                zoom_element: '#custom_zoom_element3',
                //source_image_height: 480,
                //source_image_width: 480,
                zoom_area_width: 470,
                zoom_area_height: 470
            });
        });    

    $(document).ready(function(){
            $('.etalage4').etalage({
                show_hint: false,
                    thumb_image_width: 470,
                thumb_image_height: 470,
                source_image_width: 1000,
                source_image_height: 1000,
                zoom_element: '#custom_zoom_element4',
                //source_image_height: 480,
                //source_image_width: 480,
                zoom_area_width: 470,
                zoom_area_height: 470
            });
        });

    </script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T11:02:21.413

简单`for`就可以了：

```
 $(document).ready(function(){
     for(var i=1; i <= 4; ++i){
        $('.etalage'+(i===1 ? '':i)).etalage({
            show_hint: false,
            thumb_image_width: 470,
            thumb_image_height: 470,
            source_image_width: 1000,
            source_image_height: 1000,
            zoom_element: '#custom_zoom_element'+(i===1 ? '':i),
            //source_image_height: 480,
            //source_image_width: 480,
            zoom_area_width: 470,
            zoom_area_height: 470
        });
     }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T11:09:41.877

再给`foo`所有`etalage`元素一个班级发言权

```
$(document).ready(function(){

        $('.foo').etalage({
                thumb_image_width: 470,
                thumb_image_height: 470,
                source_image_width: 1000,
                source_image_height: 1000,

    if($(this).hasClass('.etalage')){
               zoom_element: '#custom_zoom_element',
    }else if($(this).hasClass('.etalage2')){
              zoom_element: '#custom_zoom_element2',

    }
    }else if($(this).hasClass('.etalage3')){
              zoom_element: '#custom_zoom_element3',

    }
    }else if($(this).hasClass('.etalage4')){
           zoom_element: '#custom_zoom_element4',

    }
         zoom_area_width: 470,
         zoom_area_height: 470
});
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T11:12:46.070

您可以使用 $.extend 函数来简化如下..

```
$(document).ready(function(){
    var defaultOpts = {
        show_hint: false,
        thumb_image_width: 470,
        thumb_image_height: 470,
        source_image_width: 1000,
        source_image_height: 1000,
        zoom_element: '#xyz',
        zoom_area_width: 470,
        zoom_area_height: 470
    };
    $(".id1").etalage(defaultOpts);
    $(".id2").etalage($.extend({},defaultOpts,{zoom_element:"#abc"}));
    $(".id3").etalage($.extend({},defaultOpts,{zoom_element:"#def"}));
}); 
```

使用上述方法，只需更改扩展函数的第三个参数即可覆盖任何属性。

# linux - Linux进程性能监控代理

> ID：11591582
> 
> 赞同：0
> 
> 时间：2012-07-21T11:00:18.217
> 
> 标签：linux, performance, process, monitoring

嗨 Stackoverflow 社区，

对于我们的工具，我们正在尝试构建一个代理来远程监控 linux 进程、它们使用的资源、i/o 信息和 tcp/ip 连接。[这是收集这些指标并使用log4](http://logging.apache.org)将它们发送到服务器。我们在 windows 中使用 wmi 和 log4net 这样做，并希望在 linux 中做同样的事情。

本质上，执行 top、lsof -i 和 iostat 的操作，然后将其发送到中央服务器。

在以下位置看到了一些倡议：

*   昙花一现
*   穆宁监测
*   系统点击
*   开放式
*   godrb.com
*   集体
*   [http://bitbucket.org/chrismiles/psi/wiki/Home](http://bitbucket.org/chrismiles/psi/wiki/Home)

看top的源码，直接查询/proc，而lttng需要安装内核模块。请记住，最终用途是用于企业系统，我们希望使其尽可能接近内核，而无需添加新模块。

我们的目标是监控盒子上的每个进程使用什么（cpu/mem/io 等）、任何进程信息（例如版本）以及它连接 tcp 源和目标的位置，并使用 log4 将其发送到服务器。很高兴它可以使用任何语言 C/php/python/ruby 等

你有什么建议吗？

账单

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-15T22:38:33.717

对于真正的企业监控，我会看看 Megamon ( [http://www.megamon.com](http://www.megamon.com) )

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-13T09:50:07.653

“本质上，做 top、lsof -i 和 iostat 所做的事情，然后将其发送到中央服务器”

试试**[海狮](http://sealion.com)**。它正是你想要的。当您的监控需求发生变化或增加时，它还可以让您灵活地添加更多命令。您不必寻找其他工具。它鲜为人知，但很容易工作；简单的设置和一个很好的时间表来查看过去的数据。

# sql - 如何加入 Sql 查询？

> ID：11591583
> 
> 赞同：0
> 
> 时间：2012-07-21T11:00:25.487
> 
> 标签：sql

我有这些数据：-

----------------------- 1 -------------- -------------------------------------------

```
select Com.CountryName+', '+Cm.CityName+', '+Fac.FacilityName+', '+FM.FloorCode as Details

from MC_MeetingRoom_Master MR join MC_Floor_Master FM on MR.FloorID=FM.FloorID AND FM.IsActive=1

JOIN MC_Building_Master BM on BM.BuildingID=FM.BuildingID AND BM.IsActive=1

JOIN MC_Facility_Master Fac on BM.FacilityID=Fac.FacilityID and Fac.IsActive=1

join MC_City_Master Cm on Fac.CityID = Cm.CityID and Cm.IsActive=1

join MC_Country_Master Com on Cm.CountryID=Com.CountryID and Com.IsActive=1

WHERE MeetingRoomID=1000 
```

上面的查询显示：-

```
India, Chennai, CHN - DLF Infocity - SEZ, 3rd Floor 
```

-------------------------- 2 ----------- --------------------------------------

另一张桌子

```
select [MeetingRoomID],[Capacity],[MeetingRoomVNET], 
CASE WHEN [HasProjector] =0 then 'No' 
ELSE 'Yes' 
END [HasProjector],
CASE WHEN [HasLan]=0 
then 'No' 
ELSE 'Yes' 
END [HasLan],
CASE WHEN [HasComputer]=0 
then 'No' 
ELSE 'Yes' 
END [HasComputer],
CASE WHEN [HasWhiteBoard]=0 
then 'No' 
ELSE 'Yes' 
END [HasWhiteBoard],
[MeetingRoomAdminMail]
from MC_MeetingRoom_Master 
where [MeetingRoomID]=1023 
```

上面的查询显示列：-

```
1023 25 0 No No No No Admin.Helpdesk@cognizant.com 
```

* * *

但我想加入这两个查询......？？

我需要创建存储过程..？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:10:17.307

第二个查询从第一个查询（在第一个连接中）中使用的同一个表（MuC_MeetingRoom_Master）中提取一些额外的列。

通过连接这两个查询，我假设您希望保留第一个查询中存在的连接条件。**在这种情况下，您所要做的就是将第二个查询中选择的列列表添加到第一个查询中选择的列列表中。**

# java - Android 应用 TCP/IP 命令问题

> ID：11591588
> 
> 赞同：0
> 
> 时间：2012-07-21T11:00:37.153
> 
> 标签：java, android, eclipse, tcp

我正在尝试制作一个应用程序来控制一些高保真音响，`TCP`并且到目前为止已经获得了以下代码。但是它出现了在线错误`<dataOutputStream>.write(BUFFER);`

错误是（每个错误由于某种原因出现两次）：

```
"BUFFER cannot be resolved to a variable"
"Syntax error on token">", delete this token"
"Syntax error on token(s), misplaced construct(s) 
```

**代码：**

```
package button.test; 

import java.io.IOException;`
import java.net.Socket;`
import android.app.Activity;`
import android.os.Bundle;`
import android.view.View;`

public class ButtonActivity extends Activity {`

    /** Called when the activity is first created. */
    @Override`
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
    }
    public void onClick(View view)
    {
        Socket socket = new Socket("192.168.2.92", 60128);
        try{
            <dataOutputStream>.write(BUFFER);
        } catch(IOException e)
        {
            //error code
        }
    }
} 
```

我希望它如何工作是，当我单击一个按钮时，它会发送一个特定的命令。我要发送的命令是`"ISCP000000100000000701000000!1PWR010D"`打开设备电源。但是我不确定如何将其包含在代码中。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:03:52.407

从Android的基础开始，如何为对象编写代码语法并调用它的方法。

代码行，

```
<dataOutputStream>.write(BUFFER); 
```

显示错误，因为没有类似 . 的语法`<dataOutputStream>`。您必须创建一个**dataOutputStream**对象，然后编写一个方法`write(BUFFER)`，也没有声明变量`BUFFER`。根据您的编码实践，我建议您阅读一些有关 Android 的基本教程。

看[Simple connection example - TCP 通信](http://www.helloandroid.com/tutorials/simple-connection-example-part-ii-tcp-communication)

和[Android TCP 客户端和服务器通信编程——举例说明](http://www.roman10.net/android-tcp-client-and-server-communication-programmingillustrated-with-example/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T12:47:26.407

你可能最终会做这样的事情：

```
String buffer="ISCP000000100000000701000000!1PWR010D";
OutputStream os=socket.getOutputStream();
os.write(buffer.getBytes()); 
```

不要忘记，通常你不应该`UI-Thread`在 Android 上进行网络连接。

# iphone - 如何将专为 iPad 设计的游戏扩展到 iPhone？

> ID：11591591
> 
> 赞同：0
> 
> 时间：2012-07-21T11:01:40.073
> 
> 标签：iphone, ios, cocos2d-iphone

我为 iPad 使用 cocos2d 制作了一个游戏。现在我必须为 iPhone 缩放它。我尝试为我的 GameScene 使用 scaleX 和 ScaleY 参数。它缩放了精灵，但是我的对象有很多硬编码的边界，这些边界没有被缩放。我怎样才能完全缩放我的游戏？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:41:32.850

您必须执行以下操作

```
 if (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad)
    [yourview setFrame:CGRectMake(400, 208, viewrect.size.width, viewrect.size.height)];
 else 
    [yourview setFrame:CGRectMake(190, 96, viewrect.size.width, viewrect.size.height)]; 
```

您已经为 iPad 完成了，所以现在您需要更改 else 部分，根据设备方向设置您的视图框架。

# objective-c - 在墙上发帖的自定义控件（如 Facebook 应用程序中）

> ID：11591593
> 
> 赞同：1
> 
> 时间：2012-07-21T11:01:54.600
> 
> 标签：objective-c, ios, xcode, facebook, custom-controls

我正在寻找自定义控件，它将提供 ViewController 用于在墙上发布状态，就像在 iOS 的 Facebook 应用程序中一样。像这样： ![在此处输入图像描述](../Images/059d388829e4dab9c47f569d352bc98a.png)

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T12:29:26.517

试试这个：

[http://www.cocoacontrols.com/platforms/ios/controls/bcdsharesheet](http://www.cocoacontrols.com/platforms/ios/controls/bcdsharesheet)

或用于发布照片

[http://www.cocoacontrols.com/platforms/ios/controls/asfbpostcontroller](http://www.cocoacontrols.com/platforms/ios/controls/asfbpostcontroller)

# php - 如何从 PHP 中的字符串中获取大写序列？

> ID：11591596
> 
> 赞同：0
> 
> 时间：2012-07-21T11:02:18.070
> 
> 标签：php, regex, string

在**PHP**中，如何从字符串中仅获取大写字母序列？

例如，我怎样才能得到：

```
abcDEF GHi jklm 
```

只要：

```
DEF GH 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T11:04:55.163

要查找匹配项：

```
preg_match('/[A-Z]+/', $input, $matches); 
```

要删除所有*“错误”*的东西：

```
$output = preg_replace('/[^A-Z ]/', '', $input); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-21T11:03:51.757

使用这个正则表达式`[A-Z]+`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T11:06:46.100

一串大写字母可以匹配`[A-Z]+`

但是，如果您特别想要仅大写的单词，则需要在表达式的每一端添加一个单词边界标记。这是`\b`.

所以你的表达应该是这样的：

```
/\b[A-Z]+\b/ 
```

希望有帮助。

# c++ - STL列表迭代问题

> ID：11591599
> 
> 赞同：0
> 
> 时间：2012-07-21T11:02:52.893
> 
> 标签：c++, list, stl

我正在使用 STL 列表，并在尝试检索最后一个元素时不断出错。我有一堂课

```
class Buffer {
private:
  list<Flit*> fifo;
  ...

public:
  ...
Flit *peek_last_flit(void) const;

  ...
}; 
```

和实施

```
Flit *Buffer::peek_last_flit(void) const {
   if (fifo.empty())
       return 0;

   Flit *f = *(fifo.begin());
   return f;
} 
```

我有一个类似的实现，它返回列表的头部。

```
Flit *Buffer::peek_flit(void) const {
    if (fifo.empty())
        return 0;

    Flit *f = *(fifo.begin());
    return f;
} 
```

我该如何解决这个问题（我同时调用了这两个过程，但是当我调用 Peek_last_flit 时，我收到一条调试断言失败消息：Expression: list iterator not dereferencable。

如何保留迭代器？任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T11:04:53.907

```
Flit *Buffer::peek_last_flit(void) const {
   if (fifo.empty())
       return 0;

   return fifo.back();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T11:06:58.447

`container.end()`永远不可取消引用。

您需要`--container.end()`获取最后一个元素。

# vba - 我们是否需要在 Excel .xlam 插件中处理对象？

> ID：11591601
> 
> 赞同：1
> 
> 时间：2012-07-21T11:02:54.720
> 
> 标签：vba, excel

假设我们有如下代码

```
'Call service
Set xmlhttp_ = CreateObject("MSXML2.xmlhttp")
xmlhttp_.Open "GET", url, False
xmlhttp_.send
result = (xmlhttp_.responseText)

sendRequest = result 
```

使用后需要丢弃`xmlhttp_`吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T19:33:46.110

一旦超出范围，它应该被自动处理。在此处查看 Matthew Curland 的回复：

[https://groups.google.com/forum/?hl=en&fromgroups#!topic/microsoft.public.dotnet.languages.vb/3pw-TGc9PSo](https://groups.google.com/forum/?hl=en&fromgroups#!topic/microsoft.public.dotnet.languages.vb/3pw-TGc9PSo)

# python - Python——动态多重继承

> ID：11591605
> 
> 赞同：9
> 
> 时间：2012-07-21T11:03:22.423
> 
> 标签：python, oop, multiple-inheritance

我正在寻求有关我的代码设计的建议。

# 介绍

我有几个类，每个类代表一种文件类型，例如：MediaImageFile、MediaAudioFile 和通用（也是基类）MediaGenericFile。

每个文件都有两个变体：Master 和 Version，所以我创建了这些类来定义它们的特定行为。**编辑：**版本代表主文件的调整大小/裁剪/修剪/等变体。它主要用于预览。

**编辑：** *为什么我想动态地做它的原因是这个应用程序应该是可重用的（它是 Django 应用程序），因此它应该很容易实现其他 MediaGenericFile 子类而无需修改原始代码。*

# 我想做的事

1.  首先，用户应该能够在不影响原始代码的情况下注册自己的 MediaGenericFile 子类。

2.  文件是版本还是主文件很容易（一个正则表达式）从文件名中识别出来。

    ```
    /path/to/master.jpg                   -- master
    /path/to/.versions/master_version.jpg -- version 
    ```

3.  Master/Version 类使用 MediaGenericFile 的一些方法/属性，例如文件名（您需要知道文件名才能生成新版本）。

4.  MediaGenericFile 扩展了 LazyFile，它只是一个惰性 File 对象。

现在我需要把它放在一起……</p>

# 二手设计

在开始编写“版本”功能之前，我有工厂类 MediaFile，它根据扩展名返回适当的文件类型类：

```
>>> MediaFile('path/to/image.jpg')
<<< <MediaImageFile 'path/to/image.jpg'> 
```

Master 和 Version 类定义了使用 MediaGenericFile 等的方法和属性的新方法。

## 方法一

一种方法是动态创建新类型，它继承 Master（或 Version）和 MediaGenericFile（或子类）。

```
class MediaFile(object):
    def __new__(cls, *args, **kwargs):
        ...  # decision about klass
        if version:
            bases = (Version, klass)
            class_name = '{0}Version'.format(klass.__name__)
        else:
            bases = (Master, klass)
            class_name = '{0}Master'.format(klass.__name__)

        new_class = type(class_name, bases, {})
        ...
        return new_class(*args, **kwargs) 
```

## 方法二

第二种方法是在 Master/Version 中创建方法“contribute_to_instance”并在创建 new_class 后调用它，但这比我想象的要棘手：

```
classs Master(object):
    @classmethod
    def contribute_to_instance(cls, instance):
        methods = (...)
        for m in methods:
            setattr(instance, m, types.MethodType(getattr(cls, m), instance))

class MediaFile(object):
    def __new__(*args, **kwargs):
        ...  # decision about new_class
        obj = new_class(*args, **kwargs)
        if version:
            version_class = Version
        else:
            version_class = Master

        version_class.contribute_to_instance(obj)
        ...
        return obj 
```

但是，这不起作用。调用 Master/Version 的方法仍然存在问题。

## 问题

实现这种多重继承的好方法是什么？

这个问题怎么称呼？:) 我试图找到一些解决方案，但我根本不知道如何命名这个问题。

提前致谢！

## 答案注释

### 拉尔斯曼斯

对于我的情况，比较和实例检查不会有问题，因为：

1.  无论如何都要重新定义比较

    ```
    class MediaGenericFile(object):
        def __eq__(self, other):
            return self.name == other.name 
    ```

2.  我从不需要检查 isinstance(MediaGenericFileVersion, instance)。我正在使用 isinstance(MediaGenericFile, instance) 和 isinstance(Version, instance) 两者都按预期工作。

然而，在我看来，为每个实例创建新类型听起来是相当大的缺陷。

好吧，我可以在元类中动态创建这两种变体，然后使用它们，例如：

```
>>> MediaGenericFile.version_class
<<< <class MediaGenericFileVersion>
>>> MediaGenericFile.master_class
<<< <class MediaGenericFileMaster> 
```

进而：

```
class MediaFile(object):
    def __new__(cls, *args, **kwargs):
        ...  # decision about klass
        if version:
            attr_name = 'version_class'
        else:
            attr_name = 'master_class'

    new_class = getattr(klass, attr_name)
    ...
    return new_class(*args, **kwargs) 
```

# 最终解决方案

最后设计模式是工厂类。MediaGenericFile 子类是静态类型的，用户可以自己实现和注册。Master/Version 变体在元类中动态创建（从几个 mixin 粘合在一起）并存储在“缓存”中，以避免 *larsmans*提到的危险。

感谢大家的建议。最后我理解了元类的概念。好吧，至少我认为我理解它。推送源主...</p>

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T11:16:23.490

我当然建议不要在`__new__`. 它的问题是您为*每个实例*创建一个新类型，这会导致开销，更糟糕的是，会导致类型比较失败：

```
>>> Ham1 = type("Ham", (object,), {})
>>> Ham2 = type("Ham", (object,), {})
>>> Ham1 == Ham2
False
>>> isinstance(Ham1(), Ham2)
False
>>> isinstance(Ham2(), Ham1)
False 
```

这违反了最小意外原则，因为这些类可能看起来完全相同：

```
>>> Ham1
<class '__main__.Ham'>
>>> Ham2
<class '__main__.Ham'> 
```

但是，如果您在模块级别构建类，则可以让方法 1 正常工作`MediaFile`：

```
classes = {}
for klass in [MediaImageFile, MediaAudioFile]:
    for variant in [Master, Version]:
        # I'd actually do this the other way around,
        # making Master and Version mixins
        bases = (variant, klass)
        name = klass.__name__ + variant.__name__
        classes[name] = type(name, bases, {}) 
```

然后，在 中`MediaFile.__new__`，按名称查找所需的类`classes`。（或者，将新构造的类设置在模块上而不是 a 中`dict`。）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-21T11:48:37.770

我不确定您希望它有多*动态*，但是使用“工厂模式”（这里使用类工厂）是相当可读和可以理解的，并且可以做您想做的事情。这可以作为一个基础......`MediaFactory`可以更聪明，你可以注册多个其他类，而不是硬编码`MediaFactoryMaster`等......

```
class MediaFactory(object):

    __items = {}

    @classmethod
    def make(cls, item):
        return cls.__items[item]

    @classmethod
    def register(cls, item):
        def func(kls):
            cls.__items[item] = kls
            return kls
        return func

class MediaFactoryMaster(MediaFactory, Master): pass
class MediaFactoryVersion(MediaFactory, Version): pass

class MediaFile(object):
    pass

@MediaFactoryMaster.register('jpg') # adapt to take ['jpg', 'gif', 'png'] ?
class MediaFileImage(MediaFile):
    pass

@MediaFactoryVersion.register('mp3') # adapt to take ['mp3', 'ogg', 'm4a'] ?
class MediaFileAudio(MediaFile):
    pass 
```

**其他可能的 MediaFactory.make**

```
@classmethod
def make(cls, fname):
    name, ext = somefunc(fname)
    kls = cls.__items[ext]
    other = Version if Version else Master
    return type('{}{}'.format(kls.__name__,other.__name__), (kls, other), {}) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-21T11:42:15.467

你怎么不使用继承而是玩弄`__new__`？

```
class GenericFile(File):
    """Base class"""

class Master(object):
    """Master Mixin"""

class Versioned(object):
    """Versioning mixin"""

class ImageFile(GenericFile):
    """Image Files"""

class MasterImage(ImageFile, Master):
    """Whatever"""

class VersionedImage(ImageFile, Versioned):
    """Blah blah blah"""

... 
```

目前尚不清楚您为什么要这样做。我认为这里有一种奇怪的代码气味。我建议使用更少的具有一致接口（[duck-typing](http://docs.python.org/glossary.html#term-duck-typing)）的类，而不是十几个类，并`isinstance`检查整个代码以使其全部工作。

也许你可以用你想在你的代码中做的事情来更新你的问题，人们可以帮助识别真正的模式或建议一个更惯用的解决方案。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-21T13:50:50.730

您不必为每个实例创建一个新类。不要在创建新类中`__new__`创建它们`__metaclass__`。在 base 或 base_module 中定义一个元类。这两个“变体”子类很容易保存为其通用父类的类属性，然后`__new__`根据自己的规则查看文件名并决定返回哪个子类。

注意`__new__`在构造函数调用期间返回的类不是“指定”的类。 [您可能需要采取措施`__init__`从 withing中调用`__new__`](https://stackoverflow.com/questions/9367126/why-is-init-not-called-after-new-sometimes)

子类要么必须：

1.  向工厂或父母“注册”自己
2.  被`import`编辑，然后让父或工厂通过递归搜索找到它们`cls.__subclasses`（每次创建可能必须发生一次，但这可能不是文件处理的问题）
3.  通过使用[“setuptools”`entry_points`](http://aroberge.blogspot.com/2008/12/plugins-part-6-setuptools-based.html)类型的工具找到，但这需要用户付出更多的努力和协调

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-21T11:42:53.517

您应该问的 OOD 问题是“我提议的继承的各个类是否共享任何属性*？* ”

继承的目的是共享实例自然共有的公共数据或方法。除了都是文件之外，图像文件和音频文件有什么共同点？如果你真的想扩展你的隐喻，你可以想象`AudioFile.view()`它可以呈现 - 例如 - 音频数据的功率谱的可视化，但`ImageFile.listen()`更没有意义。

我认为您的问题避开了这个与语言无关的概念问题，有利于对象工厂的依赖于 Python 的机制。我认为您在这里没有适当的继承案例，或者您未能解释您的 Media 对象需要共享哪些常见功能。

# ios - 将音频和视频流式传输到 IOS 应用程序

> ID：11591620
> 
> 赞同：0
> 
> 时间：2012-07-21T11:05:25.293
> 
> 标签：ios, xcode, audio, video, stream

我正在 Xcode 上创建一个内置视频和音乐的 iPhone 应用程序，问题是我想让整个应用程序保持在 20MB 以下

我已将视频压缩到正常标准，但仍然超过 20MB

有没有一种方法可以让我从服务器流式传输视频，所以当我点击应用程序中的视频/音频按钮时，它会像保存在应用程序中一样播放。

非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T11:47:43.120

尝试这个：

```
MPMoviePlayerViewController *movieView = [[MPMoviePlayerViewController alloc] initWithContentURL:[NSURL URLWithString:@"http://movieurl"]];

[self presentMoviePlayerViewControllerAnimated:movieView]; 
```

不要忘记导入 MediaPlayerFramework

如果您需要对流式传输、播放或视图本身进行更多控制，请参阅[MPMoviePlayerController 类参考](http://developer.apple.com/library/ios/#documentation/mediaplayer/reference/MPMoviePlayerController_Class/Reference/Reference.html)

# c# - 将带有查询字符串的图像 url 映射到 MVC3 操作

> ID：11591621
> 
> 赞同：0
> 
> 时间：2012-07-21T11:05:30.970
> 
> 标签：c#, .net, asp.net-mvc-3

我环顾四周，对我认为如此简单的问题感到有些茫然。

我正在使用 MV3/IIS7，我正在尝试映射 url：

```
/SomeFolder/SomeImage.gif?param1=x&param2=y&param3=z 
```

到行动：

```
/SomeController/SomeAction?param1=x&param2=y&param3=z 
```

但我不太明白。有小费吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T12:44:05.523

你可以像这样在 Global.asax.cs 中创建一个路由，

```
 routes.MapRoute(
    "",
    "SomeFolder/SomeImage.gif",
    new { controller = "SomeController", Action = "SomeAction" }
  ); 
```

# mysql - 为什么这个 SQL 查询对我不起作用？

> ID：11591622
> 
> 赞同：1
> 
> 时间：2012-07-21T11:05:33.640
> 
> 标签：mysql

我对（My）SQL 查询有一些问题。在我的数据库中，我有两个表。一个叫kfz_typen，另一个叫kfz_temp2。我需要获取 kfz_temp2 表的所有条目，其中 ktyp（只是一个整数字段）不在 kfz_typen 表中。

```
 SELECT * FROM kfz_temp2
 WHERE kfz_temp2.KType NOT IN (SELECT DISTINCT kfz_typen.ktyp FROM kfz_typen) 
```

在我看来，上面的这个查询应该完全符合我的要求。但事实并非如此！我只是从我的 MySQL 服务器得到一个空的结果。

如果查询中没有“NOT”，我会得到两个表中的条目，因此匹配确实有效。

那么上面的查询有什么问题呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T15:40:21.927

这行得通吗？

```
SELECT t2.* FROM kfz_temp2 t2
 LEFT JOIN kfz_typen tn ON t2.KType = tn.ktyp
WHERE tn.ktyp IS NULL 
```

您可能需要对结果进行分组。

我不确定为什么第一个查询不起作用，但我相信这会做同样的事情。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-07-21T11:13:37.383

删除 distinct 然后我希望它对你有帮助。

# jquery - 通过 API 将颜色样式设置为 tinyMCE 文本选择

> ID：11591623
> 
> 赞同：3
> 
> 时间：2012-07-21T11:05:59.670
> 
> 标签：jquery, tinymce

我正在尝试使用 tinyMCE api（jQuery 版本）将特定颜色应用于编辑器中的选定文本

到目前为止，这就是我正在做的事情：

```
var node = tinyMCE.activeEditor.selection.getNode();
tinyMCE.DOM.setStyle(node, 'color', '#FFF'); 
```

问题是这将改变整个节点的颜色，而不仅仅是标记的文本。有没有办法通过 tinyMCE API 仅将颜色应用于标记的文本？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T11:25:56.157

我找到了答案。万一其他人被困在这里，我会发布解决方案。

```
// Registering the special format with a variable
tinymce.activeEditor.formatter.register('custom_format', {inline : 'span', styles : {color : '%value'}});

// Applying the specified format with the variable specified
tinymce.activeEditor.formatter.apply('custom_format', {value : 'red'}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T04:28:13.653

我找到了这个简单的解决方案。设置选择背景/前景色

```
tinyMCE.init({
    ...
    theme_advanced_text_colors : "FF00FF,FFFF00,000000",
    ...
}); 
```

# c# - FastZip 文件名更改

> ID：11591626
> 
> 赞同：0
> 
> 时间：2012-07-21T11:06:37.150
> 
> 标签：c#, fastzip

有没有办法重命名使用 FastZip 提取的文件？

还是我必须使用手动重命名它`File`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:11:03.230

解压缩操作完成后，您必须重命名它。但是 - 为什么不给 FastZip`ExtractZip()`方法写一个扩展方法呢？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T11:09:18.893

我不这么认为，我认为你必须用文件（或文件信息）重命名它。如果您经常以特定方式进行重命名，您可能希望包装 FastZip 以包含重命名操作。您可能想要包装 File 以便在不使用文件系统的情况下编写单元测试。

# oracle11g - 比较（< 或 >）一列的结果与两个 select 语句的另一列的结果？- 甲骨文

> ID：11591631
> 
> 赞同：0
> 
> 时间：2012-07-21T11:08:04.507
> 
> 标签：oracle11g

## 问题：

您如何比较（< 或 >）一列的结果与两个 select 语句的另一列的结果？

## 更多细节：

我只需要获取已售罄电影的列表。为此，我需要检查第一个 select 语句上的rented_movie_count 上的数字是否等于或大于第二个 select 语句上的 available_movie_count 上的数字。

**第一个声明**

```
result of the 
select MOVIE_ID, count(MOVIE_ID) as rented_movies_count
from MOVIE_QUEUE
WHERE STATUS_ID=2
group by MOVIE_ID; 
```

**第二个声明**

```
select MOVIE_ID, count(MOVIE_ID) as available_movie_count
from dvd
group by MOVIE_ID; 
```

我对此仍然很陌生，我正在努力学习，即使是关于我应该使用什么样的语法（运算符、表达式等）的建议也至少会帮助我指出做更多研究的方向。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T16:18:09.153

鉴于您的数据库结构，一个可能的解决方案是

```
SELECT rented.MOVIE_ID
      ,rented_movies_count
      ,available_movie_count
  FROM (
        SELECT MOVIE_ID, count(MOVIE_ID) AS rented_movies_count
          FROM MOVIE_QUEUE
         WHERE STATUS_ID=2
        GROUP BY MOVIE_ID
       ) rented
     ,(SELECT MOVIE_ID, count(MOVIE_ID) AS available_movie_count
         FROM dvd
       GROUP BY MOVIE_ID
      ) available
 WHERE rented.movie_id = available.movie_id
   AND rented_movies_count >= available_movie_count 
; 
```

我在[http://www.sqlfiddle.com/#!4/3fc59/11](http://www.sqlfiddle.com/#!4/3fc59/11)上设置了一个示例进行测试。但我想这或多或少是你想出的。

但我有点怀疑你的数据库结构真的是最优的！？`movie_id`你真的在表中存储了多个记录`dvd`吗？

将每张唱片与一些电影属性一起保存并将 DVD 的出租状态存储在`movie_id`其中不是更有用吗？`dvd``movie_queue.status_id`

如果`movie_queue.status_id`定义为说

1.  ...可用的
2.  ...租用

那么你的查询会容易得多：

```
SELECT MOVIE_ID
      ,count(case when status_id = 1 then 1 end) AS available_movie_count
      ,count(case when status_id = 2 then 1 end) AS rented_movies_count
  FROM MOVIE_QUEUE
 GROUP BY MOVIE_ID
HAVING count(case when status_id = 2 then 1 end) >= count(case when status_id = 1 then 1 end)
; 
```

参见例如[http://www.sqlfiddle.com/#!4/13739/1](http://www.sqlfiddle.com/#!4/13739/1)

# arrays - 给定一个数组 A[1..n] 作为输入，填写第二个数组 B[1..n] 使得 B[i] = A[1] + ... + A[i]

> ID：11591632
> 
> 赞同：2
> 
> 时间：2012-07-21T11:08:19.680
> 
> 标签：arrays, sum, pseudocode

运行时间应该是O(n)，这是我想出来的，对吗？谢谢

```
for (i = 1 ; i < A[n]; i++)
  A[i] = 0

B[i] = 0;
for i in A[1..n]
  B[i] = B[i] + A[i] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:16:59.497

是的，这是正确的。您的解决方案是最简单的[*动态编程*](http://en.wikipedia.org/wiki/Dynamic_programming)案例，这是一种可以大大加快解决方案算法的技术，该解决方案可以从较小的子问题的解决方案中构建。

您手头的问题恰好具有此属性：如果您得到 的解决方案，`B[n]`则可以构造的解决方案，这就是您的算法所做的，运行时间为。`O(1)``B[n-1]``O(N)`

这样的解决方案在实践中非常有帮助：我曾经使用像你这样的算法来将我的程序中的一段启动代码从几分钟加速到几秒钟（它是添加向量，所以它从`O(3)`到`O(2)`）。

# javascript - 计算图像的点击偏移量

> ID：11591634
> 
> 赞同：0
> 
> 时间：2012-07-21T11:08:42.747
> 
> 标签：javascript, css, image, offset

> **可能重复：**
> [使用 jQuery 获取鼠标单击图像的 X/Y 坐标](https://stackoverflow.com/questions/2159044/getting-the-x-y-coordinates-of-a-mouse-click-on-an-image-with-jquery)

我想计算图像的点击位置，可以说这将是一个例子：

![在此处输入图像描述](../Images/6f5fd9ac4f26dd8056fd1855419b97f3.png)

如果我在某处单击它，我想在图像上显示单击区域的 X/Y 位置的警报，图像上有像素，所以它应该显示 x 像素偏移和 y 像素偏移。

这可能与Javascript有关吗？任何示例将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:16:05.223

使用 JQuery，使用事件的 pageX 和 pageY 值减去元素的偏移量。

[http://jsfiddle.net/BramVanroy/D63KS/1/](http://jsfiddle.net/BramVanroy/D63KS/1/)

```
$(document).ready(function(){
    $('img').mousedown(function(e){
        var offset = {
            x: e.pageX - $(this).offset().left,
            y: e.pageY - $(this).offset().top
        }
            $('#info').html('{'+offset.x+'; '+offset.y+'}');
    });
});​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T11:18:14.387

你可以做这样的事情来获取 x 和 y，其中 'theimage' 是你的图像的 id

```
$("#theimage").live("click",function(e){
e.preventDefault();
    var x = e.pageX - $(this).offset().left;
    var y = e.pageY - $(this).offset().top;

}); 
```

# php - 输出缓冲 - 动态回显值？

> ID：11591635
> 
> 赞同：1
> 
> 时间：2012-07-21T11:08:42.920
> 
> 标签：php

我想动态地回显字符串，而不是在脚本完成运行时一次全部回显。试过这个，但是当脚本完成运行时它会回显所有这些。如何动态回显值？

```
<?php
ob_start();

echo "Line #1...<br>";
ob_flush();
flush();
sleep(2);

echo "Line #2...<br>";
ob_flush();
flush();
sleep(2);

echo "Line #4...<br>";

?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T11:21:39.450

尝试发送类似 \n 的行尾或在每个回显后附加至少 256 个空格以触发浏览器。

一些浏览器会在渲染前等待至少 256 字节，而另一些则需要换行符。每次冲水前试试这个组合：

```
echo str_repeat(" ", 256) . "\n"; 
```

其他原因可能是缓存响应的网络服务器。

# iphone - Facebook ios sdk 3.0 活动会话 FBiOSSDK 错误2

> ID：11591637
> 
> 赞同：11
> 
> 时间：2012-07-21T11:08:58.177
> 
> 标签：iphone, ios, facebook, fbconnect, facebook-login

尝试使用设备登录我的应用程序时出现“com.facebook.FBiOSSK 错误 2”错误。但它在模拟器上运行良好。

我正在使用 iOS SDK 3.0 Beta。任何解决方案？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-22T07:11:16.203

我在使用“com.facebook.sdk error 2”进行身份验证时遇到了同样的问题。我认为解决了我的问题。只需确保在“IOS Bundle ID”部分的“https://developers.facebook.com/apps/..”上的应用程序定义中，您将应用程序 ID设置为**com.domainname.appName** 而不是**X792739.com .domainname.appName**

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-10-09T18:44:13.440

是的，在您看到此错误后，如果您转到“设置”，您会看到此应用的设置已“关闭”。但是在这种情况下的问题是用户从未被提示允许访问——即在第一次访问时设置被自动关闭。如果询问用户，那当然可以理解，但事实并非如此（就好像 SDK 默默地自动为用户按下了不允许）。这就是为什么这是一个问题。

在您进一步阅读之前，我想指出，一旦设置好，您不能简单地重复该过程来测试它，因为一旦设置好，它就永远不会询问用户（即使删除并重新安装应用程序也无济于事） ）。要测试此问题，您需要通过转到设置 -> 常规 -> 重置 -> 重置位置和隐私来重置权限，然后才能尝试再次复制。

通过测试，我发现如果你有`offline_access`你第一次请求的权限，那么它会给出这个登录错误（并且不会提示用户并将权限设置为OFF）。SDK不检查并告诉你这个权限是不允许的；它只是无法登录。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-12-20T02:34:47.820

我们只看到某些人的**com.facebook.sdk 错误 2错误。**问题最终是我们的 Facebook 应用程序仍处于**沙盒模式**。**在developers.facebook.com/apps/{ourfacebookid}**禁用它立即解决了问题。

事实证明，它适用于我们这些被设置为 FB 应用程序管理员的人，但不适用于其他任何人。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-10-08T20:31:21.133

当用户在要求授予应用程序权限时选择“不允许”时，会收到此错误。

我建议您将默认错误消息（从 Facebook SDK 示例代码复制）替换为用户友好的消息，告诉他确保他授予您的应用所需的权限。

要在 iOS 6 上解决此问题，请转到设置 -> Facebook 并打开应用程序的开关。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-25T07:21:06.927

当我尝试按照教程进行操作时遇到了同样的问题（[http://developers.facebook.com/docs/tutorials/ios-sdk-tutorial/authenticate/](http://developers.facebook.com/docs/tutorials/ios-sdk-tutorial/authenticate/)）

当我按照“howto”部分中的说明进行操作时，它似乎工作正常，而且有点不同：[https ://developers.facebook.com/docs/howtos/login-with-facebook-using-ios-sdk/](https://developers.facebook.com/docs/howtos/login-with-facebook-using-ios-sdk/)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-05-29T20:47:19.457

我遇到了同样的问题。事实证明，如果启用沙盒，则用户应该是管理员。如果它被禁用，那么适用于所有人。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-08T20:01:02.887

在我的情况下，此错误是在身份验证时要求“publish_actions”权限的结果。必须单独获得写入权限：[https ://developers.facebook.com/docs/tutorial/iossdk/upgrading-from-3.0-to-3.1/](https://developers.facebook.com/docs/tutorial/iossdk/upgrading-from-3.0-to-3.1/)

# android - 如何在首选项中引用 Android 主题？

> ID：11591640
> 
> 赞同：0
> 
> 时间：2012-07-21T11:09:36.253
> 
> 标签：android, android-theme, android-resources, android-styles

如何在不为每个主题定义常量的情况下将主题保存在首选项中？

样式资源 ID 很容易获取和保存，但也可能在更新中更改。

样式名称似乎是更好的选择。如果这是这样做的方法，你如何获得给定资源 ID 的主题名称，以及如何获得给定主题名称的资源 ID？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T12:32:51.737

我设法通过使用主题名称和[getResourceEntryName](http://developer.android.com/reference/android/content/res/Resources.html#getResourceEntryName%28int%29)来解决这个问题。完整代码：

```
public static final String PREFERENCE_THEME = "theme";
public static final int[] THEMES = {R.style.Theme_Blue, R.style.Theme_Green, R.style.Theme_Orange, R.style.Theme_Purple, R.style.Theme_Red};
private static final int DEFAULT_THEME = R.style.Theme_Green;

public int getTheme() {
    final String themeName = preferences.getString(PREFERENCE_THEME, getThemeName(DEFAULT_THEME));
    for (int i = 0; i < THEMES.length; i++) {
        int resId = THEMES[i];
        String candidateThemeName = this.getThemeName(resId);
        if (themeName.equals(candidateThemeName)) {
            return resId;
        }
    }
    // The theme in preferences doesn't exist anymore
    this.setTheme(DEFAULT_THEME);
    return DEFAULT_THEME;
}

public void setTheme(int resId) {
    final String themeName = getThemeName(resId);
    Editor editor = preferences.edit();
    editor.putString(PREFERENCE_THEME, themeName);
    editor.commit();
}

private String getThemeName(int resId) {
    return context.getResources().getResourceEntryName(resId);
} 
```

# python - 无法连接到 OpenOffice 无头模式

> ID：11591643
> 
> 赞同：0
> 
> 时间：2012-07-21T11:10:11.530
> 
> 标签：python, openoffice.org, uno

我正在尝试使用 PyODConverter(DocumentConverter.py) 将一种文件格式转换为另一种格式

我已经安装了 OpenOffice headless as a service 。

当我尝试这样做时：`python DocumentConverter.py test.ppt test.odf`

它显示一个错误：

```
ERROR! failed to connect to OpenOffice.org on port 8100 
```

帮助！我在 Ubuntu 中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T11:48:20.670

*   您/您是否指定了带有端口号的主机名？
*   如果使用过 localhost 则尝试将其更改为 127.0.0.1
*   网络使用代理还是有防火墙阻止它？

您可以手动启动 openOffice 并使用 'ps auxw | 从控制台检查 OpenOffice 进程信息吗？格雷格办公室

它应该包含有关主机和端口的信息。最后一个问题是，您在服务器模式下开始使用 OpenOffice 是什么样的？

$OOFFICE "-accept=socket,host=localhost,port=8100;urp;StarOffice.ServiceManager" -norestore -nofirststartwizard -nologo -headless &

当您说...我已将 OpenOffice 无头安装为服务。..你的意思是你已经安装了oo并配置了setup.xcu ..或安装了一个扩展以在服务器模式下启动..你正在通过consol或带有启动字符串的bash脚本启动oo

此外，如果使用 oo 版本 <2.0，您必须运行 x11 或运行 xvfb。

# html - 如何使用此代码从表单字段中去除 html 标签？

> ID：11591645
> 
> 赞同：0
> 
> 时间：2012-07-21T11:10:16.680
> 
> 标签：html, tags, strip, formfield

我正在使用一些基本脚本来去除 HTML 标签。这是我正在使用的代码。我怎样才能让它`['msge']`在发布时命名为文本字段？

```
function transform_HTML($string, $len = null) {     
    $string == ($_POST['msge']);
    $string = trim($string);
    $string = utf8_decode($string);
    $string = htmlentities($string, ENT_NOQUOTES);
    $string = str_replace("#", "&#35;", $string);
    $string = str_replace("%", "&#37;", $string);
    $len = intval($len);
    if ($len > 0) {$string = substr($string, 0,$len);}
    return $string;
} 
```

# r - 如何使用 R 在绘图上画一条直线？

> ID：11591646
> 
> 赞同：5
> 
> 时间：2012-07-21T11:10:19.363
> 
> 标签：r, scatter-plot

我想使用以下线性方程在绘图上画一条直线。

```
y = 2.522x-1.331 
```

我使用以下代码获取散点图。

```
data=read.csv("C://book.csv")
plot(data$x,data$y) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T11:13:36.330

您需要使用功能`abline`：

```
abline(a=-1.331, b=2.522) 
```

参数`a`是截距，参数`b`是斜率。有关`?abline`更多详细信息，请参阅。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T11:13:27.380

使用`abline`，例如

```
abline(-1.331, 2.522) 
```

# java - 无法在两个实体之间创建多对多关系

> ID：11591656
> 
> 赞同：0
> 
> 时间：2012-07-21T11:11:37.957
> 
> 标签：java, google-app-engine, gwt, entity-relationship

正如我在标题中提到的，我在谷歌应用引擎项目中有两个实体。第一个是“商店”，另一个是“产品”。在添加 ManyToMany 注释之前，实体会定期存储，但在添加关系之后，即使返回成功消息，实体也无法存储！

以下是实体：

**存储.java**

```
package com.cheapchase.server;

import java.util.Date;
import java.util.Set;

import javax.persistence.CascadeType;
import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.FetchType;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;
import javax.persistence.ManyToMany;
import javax.persistence.Table;
import javax.persistence.JoinTable;
import javax.persistence.JoinColumn;
import javax.persistence.UniqueConstraint;

@Entity
@Table(name="store", catalog="content", uniqueConstraints={
    @UniqueConstraint(columnNames = "STORE_NAME"),
    @UniqueConstraint(columnNames = "STORE_CODE")})
public class Store{

    private int storeCode;
    private Date dueDate;
    private String emailAddress;
    private String storeName;
    private String storeAddress;
    private String storeDescription;
    private String userId;
    private Long id;
    private Set<Product> product;

    public Store(){

    }

    public Store(String storeName, int storeCode){
        this.storeName = storeName;
        this.setStoreCode(storeCode);
    }

    public Store(String storeName, int storeCode, Set<Product> product){
        this.storeName = storeName;
        this.storeCode = storeCode;
        this.product = product;
    }

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "STORE_ID", unique = true, nullable = false)
    public Long getId() {
        return this.id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    @Column(name="STORE_NAME", nullable=false)
    public String getStoreName() {
        return this.storeName;
    }

    public void setStoreName(String storeName) {
        this.storeName = storeName;
    }

    /*
     * Define the Many To Many relationship with product
     */
    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)
    @JoinTable(name = "storae_product", catalog = "content", joinColumns = {
            @JoinColumn(name = "STORE_ID", nullable = false)},
            inverseJoinColumns = {@JoinColumn(name = "PRODUCT_ID", nullable = false)})
    public Set<Product> getProduct(){
        return this.product;
    }
    public void setProduct(Set<Product> product){
        this.product = product;
    }

    /*
     * Define the rest getters and setters
     */
    public Date getDueDate() {
        return dueDate;
    }

    public void setDueDate(Date dueDate) {
        this.dueDate = dueDate;
    }

    public String getEmailAddress() {
        return this.emailAddress;
    }

    public void setEmailAddress(String emailAddress) {
        this.emailAddress = emailAddress;
    }

    public String getStoreDescription() {
        return storeDescription;
    }

    public void setStoreDescription(String storeDescription) {
        this.storeDescription = storeDescription;
    }

    public String getStoreAddress() {
        return storeAddress;
    }

    public void setStoreAddress(String storeAddress) {
        this.storeAddress = storeAddress;
    }

    public String getUserId() {
        return userId;
    }

    public void setUserId(String userId) {
        this.userId = userId;
    }

    public int getStoreCode() {
        return storeCode;
    }

    public void setStoreCode(int storeCode) {
        this.storeCode = storeCode;
    }

    public String toString(){
        StringBuilder builder = new StringBuilder();
        builder.append("Store [dueDate=");
        builder.append(dueDate);
        builder.append(", name=");
        builder.append(storeName);
        builder.append(", description=");
        builder.append(storeDescription);
        builder.append("]");
        return builder.toString();

    }

} 
```

**产品.java**

```
package com.cheapchase.server;

import java.util.Set;
import java.util.HashSet;

import javax.persistence.Entity;
import javax.persistence.FetchType;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;
import javax.persistence.ManyToMany;
import javax.persistence.Table;
import javax.persistence.Column;

import com.google.appengine.api.datastore.Blob;

@Entity
@Table(name = "product", catalog = "content")
public class Product {

    private Long productId;
    private String name;
    private String description;
    private int barCode;
    Blob image;
    private Set<Store> stores = new HashSet<Store>(0);

    public Product(){

    }
    public Product(String name, String description){
        this.name = name;
        this.description = description;
    }
    public Product(String name, String description, Set<Store> stores){
        this.name = name;
        this.description = description;
        this.stores = stores;
    }

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "PRODUCT_ID", unique = true, nullable = false)
    public Long getProductId(){
        return this.productId;
    }

    public void setProductId(Long productId){
        this.productId = productId;
    }

    @Column(name = "NAME", nullable = false)
    public String getName() {
        return this.name;
    }

    public void setName(String name) {
        this.name = name;
    }

    @Column(name = "DESCRIPTION")
    public String getDescription() {
        return this.description;
    }

    public void setDescription(String description) {
        this.description = description;
    }

    @ManyToMany(fetch = FetchType.LAZY, mappedBy = "product")
    public Set<Store> getStore(){
        return this.stores;
    }

    public void setStore(Set<Store> store){
        this.stores = store;
    }

    public int getBarCode() {
        return barCode;
    }

    public void setBarCode(int barCode) {
        this.barCode = barCode;
    }

} 
```

# java - 当我加载我的 java 服务器时，Memcached 退出

> ID：11591659
> 
> 赞同：0
> 
> 时间：2012-07-21T11:12:49.690
> 
> 标签：java, ubuntu, memcached

奇怪的问题，当我加载基于 java 的服务器时，memcached 退出。我首先使用加载 memcached

`sudo /usr/bin/memcached -m 128 -p 11211 -U 11211 > memcached.log 2>&1 &`

我加载我的 java 服务器 `sudo nohup java -classpath /home/ubuntu/mCruiseOnServer_lib/ -jar /home/ubuntu/mCruiseOnServer.jar 10.112.75.51 > mCruiseOn.log 2>&1`

memcached 在我的 java 服务器加载后立即终止。我想知道为什么。Java 服务器使用套接字和多线程，以及 memcached。它使用自己的端口，不会尝试使用 11211。

编辑：我使用了 -d 选项和 nohup 命令。这有助于不间断地运行 memcached。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T19:09:33.663

您是否尝试将 memcached 作为守护进程运行？

```
sudo /usr/bin/memcached -d -m 128 -p 11211 -U 11211 
```

# java - 无法在 Intellij IDEA 中设置 Java 断点

> ID：11591662
> 
> 赞同：66
> 
> 时间：2012-07-21T11:13:08.210
> 
> 标签：java, debugging, google-app-engine, intellij-idea

我正在尝试将断点放入 GoogleAppEngine 源（SDK 1.7.0），但 IDEA Ultimate（11.0.2）只是一直告诉我`Warning: No executable code found at line 482 in class com.google.appengine.api.memcache.AsyncMemcacheServiceImpl`。

当我从单元测试运行代码并启动开发服务器时，我都会收到此错误消息。

这很烦人。无论如何，我的源代码位于外部（相对于 IDEA 主目录和项目主目录）目录中，并且我的 jar 文件位于 Appengine SDK lib 目录下。

我的 jar 文件作为项目库添加​​到模块中，并且我的源代码附加到该库。我也在玩模块依赖项，但没有任何运气。最后我决定把这个库放到 Compile 范围内，但这是个坏主意，因为 SDK 在运行时提供了这些 jar，所以我决定退回到 Provided 范围内。

我还使用了模块依赖项选项卡上的导出复选框，但我认为这无关紧要，根据[网络帮助](http://www.jetbrains.com/idea/webhelp/dependencies-tab.html)，导出仅在您有依赖模块并且您希望使您的库在这些模块中可用时才重要。

无论如何，这个问题也出现在[4 年前](http://devnet.jetbrains.net/thread/276796)。所以我现在想知道解决这个问题是否真的那么难？

我现在非常失望。到目前为止，我对 IDEA 没有任何问题......我看到[其他人](https://stackoverflow.com/questions/11199282/set-a-breakpoint-inside-a-library-jar-in-intellij)也出现了这个问题，所以我猜这不是唯一的。

任何帮助表示赞赏。

* * *

由于下面的实验，我编辑了我的问题`javap`： 类和源似乎**没有不**同步。我从 SVN 中检查了 1.7.0 相关的修订，并且我使用的是 1.7.0 SDK，所以这些根本不应该不同步。

* * *

## 回答 #1

> 赞同：85
> 
> 时间：2014-04-23T18:39:00.563

我遇到了类似的问题，并且已经进行了各种尝试。以下是我通常的步骤：

1.  如果您正在使用 Maven 依赖项，请转到 Maven 项目 -> 刷新
2.  如果这不起作用，请尝试顶部菜单 --> 构建 --> 重建项目
3.  如果仍然不起作用，请尝试顶部菜单 --> 文件 --> 使缓存无效/重新启动
4.  如果仍然不起作用，则 $CATALINA_BASE/bin/catalina.sh 停止，然后启动

在此之后，通常它涵盖了 99% 的问题。否则，可能您将不得不检查其他一些可能性。

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2014-11-10T16:55:42.597

我在 intellij 中调试时遇到了类似的问题。我无法在其中一个代码片段处放置断点，然后我更改了代码的行号，之后我能够放置断点。看起来像 intellij 中的错误或一些缓存问题。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-07-21T11:25:58.337

我发现了一些其他情况，人们报告说 IDEA 说“找不到可执行代码”。一个常见的模式是他们试图调试在没有调试信息的情况下构建的代码。检查您是否使用“-g”标志（或等效标志）集进行编译。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2017-02-10T11:05:17.867

我能够通过重新编译有问题的类来解决这个问题：Build - > Recompile (filename.java)

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2019-03-28T17:19:00.657

我有同样的问题。我不知道为什么，但对我来说帮助在代码中添加任何修改，例如添加或删除注释。奇怪，但它解决了我的问题

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2016-03-04T13:20:48.513

这个问题相当古老，但我认为我的经验可能会在未来对某人有所帮助。就我而言，我试图调试未使用调试信息编译的代码。我正在使用 maven，其中修改前的原始父 pom 文件在构建部分看起来如下所示。

```
<build>
    <pluginManagement>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-compiler-plugin</artifactId>
            <version>2.1</version>
            <configuration>
              <target>${javaCompilerVersion}</target>
              <source>${javaCompilerVersion}</source>
              <encoding>UTF-8</encoding>
            </configuration>
        </plugin>
        <!--More plugins...-->
     </pluginManagement>
</build> 
```

我更改了上面的部分，使其如下所示。

```
<build>
    <pluginManagement>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-compiler-plugin</artifactId>
            <version>2.1</version>
            <configuration>
              <target>${javaCompilerVersion}</target>
              <source>${javaCompilerVersion}</source>
              <encoding>UTF-8</encoding>
              <debug>true</debug>
              <debuglevel>lines,vars,source</debuglevel>
            </configuration>
        </plugin>
        <!--More plugins...-->
     </pluginManagement>
</build> 
```

注意添加的`<debug>`和`<debuglevel>`元素。debuglevel 元素可以采用逗号分隔的三个参数的任意组合。

在编译完这个更改后，我终于设法在 IDEA 中设置了断点。

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2016-06-30T13:10:29.593

问题的本质是 JVM 执行的类文件（简单类或从类路径从 jar 加载的类）与调试器使用的源不匹配。一旦理解了这一点，解决方案就很简单：确保源代表正在执行的类。因此，要解决此问题，您可以将源刷新同步到类等。

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2015-04-13T06:29:06.807

菜单 --> 文件 --> 使缓存无效/重新启动

这在 IntelliJ 13.0.2 下对我有用

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2013-07-31T20:34:39.257

我有一个类似的问题，它是由我的 Tomcat 配置中的错误引起的，在“部署”选项卡下，“在服务器启动时部署”。我不小心把它改成了一个非常相似的项目，“:war exploded”。当我把它改回来时，它工作得很好。

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2015-07-07T01:08:19.790

有同样的问题，发现服务器上的代码版本和我正在调试的代码版本不同。同步代码后，问题得到解决。

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2019-12-24T14:15:00.127

在我的情况下，我正在**远程调试**，发现远程服务器和**Intellij**上的代码版本不同步。我在本地重新构建了最新的代码，将相同的更改放在远程服务器上，它对我有用。
您可以尝试更多可能针对**JetBrains**建议的问题的解决方案。 [无法调试“警告：在线上找不到可执行代码”。](https://intellij-support.jetbrains.com/hc/en-us/community/posts/206159549-Impossible-to-debug-Warning-no-executable-code-found-at-line-)

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2014-10-28T13:45:39.973

请确保您没有运行 Proguard。它帮助了我。

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2015-06-03T11:53:33.227

如果您使用某些服务器，它们将进入“低内存模式”，这意味着无论您使哪些选项或缓存无效，它们都不会为您调试。

您应该停止服务器，增加传递给 java 的选项的内存设置，然后重新启动服务器。检查日志以确保您没有收到诸如“以低内存模式运行”之类的报告。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2018-10-02T12:48:54.773

我正在开发一个 Intellij 插件，当 Intellij 沙箱弹出时，最终解决了我的问题是，一旦沙箱 intellij 弹出，我就从那里重建。

之后，我构建了我的 Intellij 和沙盒 Intellij，它们最终同步了。

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2021-08-28T04:02:56.080

只需停止调试过程并重新启动它。就我而言，就这么简单。

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2016-07-12T12:02:39.377

在我的案例 Tomcat 中使用调试配置时我遇到了同样的问题。我尝试了以上所有，但没有。当我刚刚重新配置Tomcat（调试>编辑配置>删除tomcat>从头开始重新添加它）它终于工作了:)

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2017-06-13T18:30:28.890

检查您的磁盘空间并释放一些内存。如果您的磁盘空间不足，即使您的服务器未处于“低内存模式”，intelliJ 也不会分配空间来缓存调试所需的类。因此，它不允许您设置断点。

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2015-09-03T09:27:32.360

就我而言，我杀死了设备上所有正在运行的进程并断开连接并重新连接。

# java - 数据库在导出的 apk 中不起作用？

> ID：11591663
> 
> 赞同：1
> 
> 时间：2012-07-21T11:13:11.343
> 
> 标签：java, android

我将我的应用程序导出到 .apk 文件，对其进行签名然后安装。但是当我运行我的应用程序时，它会显示一个错误，因为我的数据库中没有数据。当我安装应用程序时，数据库是作为新数据库创建的，所以所有数据都丢失了！导出 Android 应用程序时如何包含数据库数据？我检查了一个 Eclipse DDMS 文件资源管理器。数据库没有任何表。它在我的资产文件夹中部分复制数据库。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:14:35.150

为此，您必须将数据库的副本保存在文件夹中，并在**首次**`asset`安装应用程序时复制数据库

 **请参阅[此](https://stackoverflow.com/a/10419043/1289716)代码以了解如何复制数据库

希望对你有帮助...**

# android - 在android中不通过admob的广告横幅显示广告

> ID：11591664
> 
> 赞同：0
> 
> 时间：2012-07-21T11:13:12.780
> 
> 标签：android, admob

我想在我的 android 应用程序中显示来自 admob 的广告横幅：

**我有什么**：

1.  在清单中添加一个活动 -

```
 <activity android:name=".AdMobActivity"
              android:label="@string/app_name">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>

    <activity android:name="com.google.ads.AdActivity"
      android:configChanges="keyboard|keyboardHidden|orientation"/>

</application> 
```

2\. 在我的应用程序布局中 -

```
<com.google.ads.AdView android:id="@+id/adView" 
    android:layout_width="wrap_content" android:layout_height="wrap_content" 
    ads:adSize="BANNER" ads:adUnitId="a150095f0ed0554" 
    ads:loadAdOnCreate="true" > </com.google.ads.AdView> 
```

3\. 添加 jar 文件 GoogleAdMobAdsSdk-6.1.0.jar 。

**有什么问题**：

显示带有红色消息的添加横幅 -

“您必须使用 configChanges 在 AndroidManifest.xml 中声明 AdActivity。”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T17:35:14.180

在[官方文档](https://developers.google.com/mobile-ads-sdk/docs/android/fundamentals#adactivity)中，您需要使用此活动定义更新清单：

```
<activity android:name="com.google.ads.AdActivity"
          android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"/> 
```

和必要的权限：

```
<uses-permission android:name="android.permission.INTERNET"/>
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/> 
```

您需要设置`target=13`或更高，`project.properties`以便项目编译。

# php - 如何制作文件上传细节

> ID：11591670
> 
> 赞同：3
> 
> 时间：2012-07-21T11:13:39.187
> 
> 标签：php, jquery

我正在我的网站中实现一个上传框，文件已成功上传，但我想制作一个框或加载栏，向我显示上传的详细信息，例如上传了多少文件或传输速度是多少，我有点困惑这个，我想知道这背后的逻辑是什么，任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T11:15:51.750

使用[jQuery 表单插件](http://jquery.malsup.com/form/)。在现代浏览器中，它支持`progress`事件：

```
$(...).ajaxForm({
    ...,
    uploadProgress: function(event, position, total, percentComplete) {
       ...
    }
}); 
```

虽然有*一些*方法可以使用服务器端代码来实现，但它们通常需要网络服务器插件，并且非常混乱，因为它们需要不断轮询上传进度，而这些信息已经在本地可用。因此，只需为使用现代浏览器的人提供进度显示。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T11:39:59.117

您可以使用[Jquery uploadify 插件](http://www.uploadify.com/demos/)。它具有许多功能，例如实时指标，拖放等。

请检查一下，希望这会对您有所帮助。

# git - 在 Netbeans 的 GIT/SVN 混合项目中优先考虑 GIT？

> ID：11591675
> 
> 赞同：4
> 
> 时间：2012-07-21T11:15:06.940
> 
> 标签：git, svn, netbeans

知道如何向 Netbeans 表明我希望 GIT 成为选择的代码版本系统吗？

目前它坚持使用我用作外部项目回购的SVN。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-10T11:43:52.477

我有同样的问题。我在单个 NetBeans 项目下同时拥有`.svn`和目录。`.git`在这种情况下，NetBeans 始终使用 SVN 存储库作为主要（也是唯一的）存储库。

我的解决方案是简单地禁用 NetBeans ( `Tools > Plugins > Installed > Subversion > Deactivate`) 中的 SVN 支持。这样我就可以使用我的控制台来管理 SVN 并在 NetBeans 中拥有 Git 存储库。如果需要，还可以快速再次启用 SVN 支持。

也许不是最优雅的解决方案，但它有效:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T16:30:13.977

（解决方法，不是实际解决方案）

最简单的方法是克隆 git 存储库，将您的 NetBeans 实例指向该文件集（克隆的 git 存储库）。

当您想返回 SVN/Git 存储库时，在命令行会话中返回第一个混合存储库，从第二个存储库 git pull（以获取所有更改），然后在 NetBeans 中继续，设置为阅读第一个混合存储库，主要使用 SVN。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-16T02:26:23.907

我还必须使用“显示详细信息”复选框（从另一篇文章中得到，在这篇文章给了我方法之后！）

> Tools-Plugins 并在 Installed 选项卡中标记“Show details”复选框，选择 Subversion 并点击 Deactivate

# c# - 这仍然是工厂方法吗？

> ID：11591686
> 
> 赞同：0
> 
> 时间：2012-07-21T11:16:29.857
> 
> 标签：c#, factory-method

如果我不需要一个特殊的工厂类并且我想要一个具体的客户端来实例化正确的部分怎么办。客户端需要从该部分调用 Hello() 。其他地方的重点是使工厂方法成为特殊创建者类的方法。但在这里，它立即出现在客户端中。这仍然是工厂方法模式吗？如下所示使用它是否正确？

```
using System;

namespace ConsoleApplication1
{
    class Program
    {
        static void Main(string[] args)
        {
            AClient c1 = new ClientUsingPart1();
            c1.Foo();
            AClient c2 = new ClientUsingPart2();
            c2.Foo();
            Console.ReadKey();
        }
    }

    abstract class AClient
    {
        public AClient() { this.ipart = Create(); }

        public void Foo() { ipart.Hello(); }
        // many other methods
        // ...
        public abstract IPart Create();  // factory method
        IPart ipart;
    }

    class ClientUsingPart1 : AClient
    {
        public override IPart Create() { return new Part1(); }
    }

    class ClientUsingPart2 : AClient
    {
        public override IPart Create() { return new Part2(); }
    }

    interface IPart
    {
        void Hello();
    }

    class Part1 : IPart
    {
        public void Hello() { Console.WriteLine("hello from part1"); }
    }
    class Part2 : IPart
    {
        public void Hello() { Console.WriteLine("hello from part2"); }
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:28:19.207

根据您需要实现的具体目标，您可能应该使用一些 for 依赖注入和您选择的 IoC 容器；StructureMap、Autofac、Unit、Ninject、Castle Windsor 都非常受欢迎。一旦你的 IoC 容器构建了具体的类，它应该支持这样的语法

```
foreach (var client in Container.Resolve<IEnumerable<AClient>>())
{
    client.Create();
} 
```

您可以在此处阅读有关如何使用 StructureMap 实现此目的的更多信息：[抽象类是否像接口一样与 StructureMap 一起使用？](https://stackoverflow.com/questions/1500632/does-an-abstract-class-work-with-structuremap-like-an-interface-does)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-22T20:55:45.600

据此： [抽象工厂模式和工厂方法之间的差异](https://stackoverflow.com/questions/5739611/differences-between-abstract-factory-pattern-and-factory-method?rq=1) 似乎我在原始帖子中发布的代码显示了工厂方法模式的有效使用。关键是——工厂方法**只是**类的一个方法——它也可能是创建对象的唯一客户端。

或者换一种说法：工厂方法不需要公开，不需要**对外**提供创建的对象。在我的示例中，应保护 Create() 方法。

# php - 如何安装ioncube loader？

> ID：11591692
> 
> 赞同：2
> 
> 时间：2012-07-21T11:17:38.203
> 
> 标签：php, ioncube

我收到了这个错误：

> 站点错误：文件 C:\wamp\www\html\news.php 需要站点管理员安装 ionCube PHP Loader ioncube_loader_win_5.1.dll。

然后我获得了正确的文件并将其粘贴到 HTML 文件夹中。什么也没有变。

我应该怎么办？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T11:21:53.913

您需要从 ioncube 站点下载 DLL 并将路径设置为`php.ini`：

```
zend_extension = "C:\wamp\bin\apache\Apache2.2.17\bin\ioncube\i_win_5.3.dll" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T11:19:03.057

看看[IonCode 加载器](http://www.ioncube.com/loaders.php)

[然而，谷歌](https://www.google.co.uk/search?q=ioncube+loader&ie=utf-8&oe=utf-8&aq=t&rls=org.mozilla%3aen-GB%3aofficial&client=firefox-beta)是这类问题的朋友，只需谷歌 IonCude 加载程序，你就会得到很多结果，第一个是指向他们网站的链接......

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2017-11-07T08:48:26.857

如果要运行由 IonCube 加密的 PHP 文件，则需要在服务器上安装 IonCube Loader。IonCube Loader 是一个 PHP 扩展，用于运行/执行由 IonCube Encoder 编码的 PHP 文件。有关安装 IoCube 的更多信息，这里有一篇关于[如何在本地安装 ioncube的详细文章](https://www.myprogrammingtutorials.com/install-ioncube-loader-localhost.html)

# silverlight - 使用 WP7 在 Silverlight 中使用 ScrollViewer 控件检测滚动结束

> ID：11591694
> 
> 赞同：1
> 
> 时间：2012-07-21T11:18:03.650
> 
> 标签：silverlight, windows-phone-7, scrollviewer

我有一个带有 ScrollViewer 控件的页面。我正在尝试实现一种无限滚动方法，当用户向下滚动到内容的末尾时，该方法会延迟从 web 服务加载内容。

这似乎是一项微不足道的任务，但要处理的最明显的事件 (ManipulationCompleted) 无法正常工作以满足我的要求。当用户停止触摸屏幕时，该事件似乎会触发。但通常滚动查看器会在此之后继续滚动，因为它使用动态滚动。结果，我无法准确检测滚动查看器何时到达内容的末尾。

[MSDN 博客](http://blogs.msdn.com/b/slmperf/archive/2011/06/30/windows-phone-mango-change-listbox-how-to-detect-compression-end-of-scroll-states.aspx)上描述了此问题的解决方案。但是，这不适用于我的情况。本文介绍了使用嵌入的 ScrollViewer 的 ListBox。但我没有使用 ListBox，我使用的是 ScrollViewer，里面有一些其他控件。

当我尝试使用博客中的代码时，此代码失败：

```
ScrollViewer sv = this.myScrollViewer;
FrameworkElement element = VisualTreeHelper.GetChild(sv, 0) as FrameworkElement; 
```

除了这个例外：

> System.ArgumentOutOfRangeException 未处理 Message=指定的参数超出有效值的范围。参数名称：childIndex

我相信我完成了博客建议的每一步，并将建议的 Style 元素添加到我的 App.xaml

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T08:44:06.980

```
if (ScrollViewer != null)
{
  if ((ScrollViewer.ScrollableHeight != 0 && ScrollViewer.VerticalOffset != 0 &&
  ScrollViewer.ScrollableHeight - ScrollViewer.VerticalOffset) <= 10) || ScrollViewer.ScrollableHeight == 0)
  {
    //do work here
  }    
} 
```

我希望这有帮助

# javascript - 使用 iframe 时的 Jquery 冲突

> ID：11591702
> 
> 赞同：1
> 
> 时间：2012-07-21T11:19:19.177
> 
> 标签：javascript, jquery, iframe, slider, accordion

我有一个父 html 页面，其中包含用于我的垂直菜单的手风琴 JS 文件。我还想在其中包含一个简单的图像幻灯片放映、JS 文件。通过包含两个 JS 文件来避免 jQuery 冲突。我用过 I`<frame>`标签。它在所有现代浏览器中都能完美运行。但在 Internet Explorer 6 中。我的图像幻灯片放映根本不起作用。这是我的代码。

```
<link type="text/css" rel="stylesheet" href="css/template.css">
<script type="text/javascript" language="javascript" src="js/jquery.js"></script>

<script type="text/javascript">
$(document).ready(function()
{
    //slides the element with class "menu_body" when paragraph with class "menu_head" is clicked 
    $("#firstpane p.menu_head").click(function()
    {
        $(this).css({backgroundImage:"url()"}).next("div.menu_body").slideToggle(300).siblings("div.menu_body").slideUp("slow");
        $(this).siblings().css({backgroundImage:"url()"});
    });

});
</script>

<style type="text/css">

}
.menu_list {    
    width:100%
}
.menu_head {
    padding: 0px 10px;
    cursor: pointer;
    position: relative;
    margin:1px;
    font-weight:bold;
    background: #fff url(left.png) center right no-repeat;
}
.menu_body {
    display:none;

}
.menu_body p{
  display:block;
  background-color:#fff;
  margin-top:0px;
  padding-left:10px;
  text-decoration:none;
}
.menu_body a:hover{
  color: #000000;
  text-decoration:underline;
  }
</style>
</head>
<body>
<table border="1" width="100%" cellspacing="0" cellpadding="0">
               <tr >
                    <td ><iframe src="simple_gallery.html" width="300px" height="250px" marginwidth="0" marginheight="0" hspace="0" vspace="0" frameborder="0" scrolling="No"></iframe></td>
              </tr>
              </table>
               <div id="firstpane" class="menu_list"> <!--Code for menu starts here-->
        <p class="menu_head">Header-1</p>
        <div class="menu_body">
        <a href="#">Link-1</a>
         <a href="#">Link-2</a>
         <a href="#">Link-3</a> 
        </div>
        <p class="menu_head">Header-2</p>
        <div class="menu_body">
            <a href="#">Link-1</a>
         <a href="#">Link-2</a>
         <a href="#">Link-3</a> 
        </div>
        <p class="menu_head">Header-3</p>
        <div class="menu_body">
          <a href="#">Link-1</a>
         <a href="#">Link-2</a>
         <a href="#">Link-3</a>         
       </div>
  </div> 
```

iframe 链接页面内容：

```
<link rel="stylesheet" type="text/css" href="css/simple_slider.css" />
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js"></script>
<script type="text/javascript" src="JS/simplegallery.js"></script>
<script type="text/javascript">
var mygallery=new simpleGallery({
    wrapperid: "simplegallery1", //ID of main gallery container,
    dimensions: [300,250], //width/height of gallery in pixels. Should reflect dimensions of the images exactly
    imagearray: [
        ["images/img-2.jpg", "#", "_new", "There's nothing like a nice swim in the Summer."],
        ["images/img-1.jpg", "#", "", ""],
        ["images/r-tata.jpg", "", "", "Eat your fruits, it's good for you!"],
        ["images/inside-image1.jpg", "", "", ""]
    ],
    autoplay: [true, 2500, 5], //[auto_play_boolean, delay_btw_slide_millisec, cycles_before_stopping_int]
    persist: false, //remember last viewed slide and recall within same session?
    fadeduration: 500, //transition duration (milliseconds)
    oninit:function(){ //event that fires when gallery has initialized/ ready to run
        //Keyword "this": references current gallery instance (ie: try this.navigate("play/pause"))
    },
    onslide:function(curslide, i){ //event that fires after each slide is shown
        //Keyword "this": references current gallery instance
        //curslide: returns DOM reference to current slide's DIV (ie: try alert(curslide.innerHTML)
        //i: integer reflecting current image within collection being shown (0=1st image, 1=2nd etc)
    }
})
</script>
<style type="text/css">

}
.menu_list {    
    width:100%
}
.menu_head {
    padding: 0px 10px;
    cursor: pointer;
    position: relative;
    margin:1px;
    font-weight:bold;
    background: #fff url(left.png) center right no-repeat;
}
.menu_body {
    display:none;

}
.menu_body p{
  display:block;
  background-color:#fff;
  margin-top:0px;
  padding-left:10px;
  text-decoration:none;
}
.menu_body a:hover{
  color: #000000;
  text-decoration:underline;
  }
</style>
<div id="simplegallery1"></div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T11:24:00.323

除了使用 iFrame 来停止 jQuery 冲突，你不能只使用[`noConflict`](http://api.jquery.com/jQuery.noConflict/)jquery 吗？看看[文档](http://api.jquery.com/jQuery.noConflict/)

# php - 分离php和html，卡在加载图片和css

> ID：11591704
> 
> 赞同：-1
> 
> 时间：2012-07-21T11:19:25.437
> 
> 标签：php, html, templates, web, directory

我是 php 新手。我有一个关于分离 php 和 html 的问题。这是我网站的根目录

```
Root
  template 
      html
         image  
         script
         css
         main.html
   main.php
  template.php 
```

当我使用 template.php 和 main.html 加载 main.php 时，不显示图像。我知道原因是错误的目录（当前目录是根目录，而不是模板/html）。那么我该如何解决这个问题呢？如何导入到 main.php？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:30:31.810

如果您使用的是 Apache 并且可以使用`.htaccess`添加重写规则，您可以使用这个：

```
RewriteEngine On
RewriteBase /
RewriteRule image/(.*) template/html/image/$1
RewriteRule script/(.*) template/html/script/$1
RewriteRule css/(.*) template/html/css/$1 
```

或者另一种解决方案是手动为所有图像/脚本/css URL 添加`template/html/`前缀。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-07-21T11:28:49.030

当您从 HTML 文件中包含 PHP 文件时，您需要使用 script 标签。在您的情况下，您需要执行以下操作：

```
<script src="template/main.php"></script> 
```

当你从另一个 PHP 文件导入一个 PHP 文件时，你需要使用包含的东西。

# java - @Override 注释在 Eclipse Juno 中出现错误，但在 Eclipse Indigo 中没有

> ID：11591705
> 
> 赞同：1
> 
> 时间：2012-07-21T11:19:32.290
> 
> 标签：java, eclipse, overriding, eclipse-indigo, eclipse-juno

我正在尝试使用最新版本的 Eclipse（Juno 4.2），但我在使用`@Override`注释的项目中遇到错误。同一个项目不会在 Eclipse Indigo 中引发任何错误。

过去我也遇到过类似的问题，但我通过更改构建路径上的 JRE 克服了这些问题。该项目的设置似乎与我在 Indigo 和 Juno 中的设置相同。我该如何解决这个问题？

> ![在此处输入图像描述](../Images/2a90edb4ff1edffbe7f5260559940034.png)

...

> ![在此处输入图像描述](../Images/307c9bbde086c5b41edc9d7c37ff3102.png)

编译器设置也相同

> ![在此处输入图像描述](../Images/5e50c3e0c2f479085b5d59ee3f3b7cde.png)

...

> ![在此处输入图像描述](../Images/d1a2b88a93a5ceb094255fa7c29a6a7b.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T11:31:29.907

我怀疑这两个项目有不同的“JDK 合规性”设置。

请参阅[这个问题](https://stackoverflow.com/questions/2335655/why-is-javac-failing-on-override-annotation)，它解释了 Java 1.5 和 1.6 之间的 @Override 变化。

# php - ab*a 的正则表达式问题

> ID：11591706
> 
> 赞同：2
> 
> 时间：2012-07-21T11:19:35.360
> 
> 标签：php, regex

a* 表示零个或多个 a。

在字符串 'abbabba' 中，出现了两次 abba。(abba)bba 和 abb(abba)。preg_match_all 只匹配第一次出现。

我是否缺少任何基本的正则表达式基础？

```
$string = 'abbabba';

preg_match_all("/ab*a/", $string, $matches);

print_r($matches);

Array ( [0] => Array ( [0] => abba ) ) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-21T11:21:12.520

> 搜索主题以查找与模式中给定的正则表达式的所有匹配项，并按照标志指定的顺序将它们放入匹配项中。
> 
> 找到第一个匹配后，从最后一个匹配的末尾继续进行后续搜索。

[来源](http://ru2.php.net/preg_match_all)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-21T11:23:30.450

因为`ab*a`消耗文本。这意味着解析器匹配第一次出现`abba`并从 重新开始`bba`，与您的模式不匹配。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-21T11:28:14.193

解决方案：将[前瞻断言](http://www.regular-expressions.info/lookaround.html)与捕获组一起使用：

```
preg_match_all('/(?=(ab*a))/', $subject, $result, PREG_PATTERN_ORDER);
$result = $result[1]; 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-21T11:28:49.397

`*`表示贪婪搜索。当引擎看到`b*`它将一直匹配到字符串的末尾并向后移动直到到达 a`b`时，它将检查匹配到该点的字符串是否与您的模式匹配。

首先，它看起来与 匹配`a`，它马上就完成了。然后它看到`b*`它一直匹配字符串，直到`b`第一个 a 之后的字符串中最后一次出现 （因为`*`表示 b 应该匹配“贪婪”），`abb`此时基本上匹配。然后它看到它需要匹配另一个`a`才能成功匹配，所以它抓取下一个字符，即 an `a`，然后完成，留下`bba`剩余的，这与您的模式不匹配。希望这可以帮助。

如果你按照欧米茄所说的去做，你将获得史诗般的胜利。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-07-21T11:42:41.540

要查找出现次数，请使用：

```
preg_match_all('/(?=ab*a)/', $input, $result); 
print(count($result[0])); 
```

要查找匹配项，请使用：

```
preg_match_all('/(?=(ab*a))/', $input, $result); 
print_r($result[1]); 
```

# java - 在 RESTful Web 服务中将对象作为参数传递

> ID：11591707
> 
> 赞同：1
> 
> 时间：2012-07-21T11:19:57.017
> 
> 标签：java, web-services, rest, jaxb, restful-authentication

我正在成功地创建一个简单类型的简单 RESTful Web 服务。现在我想传递一个对象作为 Web 服务的参数并获取该对象作为响应。我的场景是，使用 Jaxb 将 XML 消息解析为对象，并将对象作为 Web 服务请求发送。之后在服务器端处理请求的对象并生成响应 xml 文件并将其作为对象发送回。

在我给出的 URL 路径中

```
 "http://localhost:8080/SampleWS/rest/checkXML/username=visolve&password=visolve" 
```

对于简单类型。但在对象中，我不知道如何在 URL 中给出对象引用。请帮助我如何解决我的问题..

```
Regards 
```

巴塔卡拉伊

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T13:19:10.663

只需定义一个非常好看的域对象。JAXB 和 JAX-RS 将完成其余的工作。

JAXB。

```
@XmlRootElement
class Regards {

    @XmlElement
    private long sincerely;
} 
```

JAX-RS。

```
@Consumes({MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON})
@POST
@Path("/sincerely")
@Produces({MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON})
public Response sincerely(final Regards regards) {

    regards.setSincerely(System.currentTimeMillis());

    return Response.ok(regards).build();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T15:13:00.863

虽然您当然可以在您的 URL 中包含整个 XML 内容，但我可能会回避它。

可以这样想：如果您在 URL 中编码 XML，您可能会在两端添加更多工作。现在服务器和客户端都需要知道如何正确构建 URL，并检查以确保所有内容都正确排列。如果将来您需要提供相同内容的 JSON 或 YAML 视图怎么办？现在您的 URL 可能还需要包含内容类型。字符编码呢？

综上所述，HTTP 提供了一种极好的传输机制，已经解决了这些问题。将 XML 包含为**HTTP 消息的实体主体**，并使用 HTTP 标头来识别您要发送的内容类型、字符编码等。这将双向工作（服务器和客户端都可以将 XML 发送回/forth)，并更好地利用 HTTP。

[这是](https://stackoverflow.com/questions/2735839/posting-xml-request-in-java)一个相关链接，可能有助于了解一些细节。还有[一个](https://stackoverflow.com/questions/7737610/how-to-attach-xml-file-in-message-body-of-http-post-request)。

顺便说一句，拜托，拜托，*请*告诉我您不打算通过未加密的链接以**纯文本形式发送用户凭据。**

# c - 计算数组中元素的数量 - C

> ID：11591714
> 
> 赞同：-1
> 
> 时间：2012-07-21T11:21:40.760
> 
> 标签：c, arrays

我正在尝试使用 C 计算数组中元素的数量。我尝试了以下代码。但每次我运行程序时它只会返回 83 。我所说的计算元素数量的意思是我需要知道我们输入的元素数量，而不是数组的大小。

```
 #include<stdio.h>
#include<stdlib.h>
main(){

int a[100], j = 0, i;

a[0] = '0';
a[1] = '1';
a[2] = '2';
a[3] = '3';
a[4] = '4';
a[5] = '5';

for(i=0; i<100; i++){

       if(a[i] == '\0'){

       }        
        else
            j = j + 1;          
}

printf("%d", j);

system("pause");
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T11:24:38.727

C 中的数组是**固定大小**的。它们不会扩展。你`array`有两个条目；写入`array[2]`,`array[3]`等会调用**未定义的行为**。换句话说，它是无效代码。

如果您希望能够插入任意数量的元素，则需要使用动态分配的内存，手动跟踪已插入的元素数量，并`realloc`在需要调整大小时使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T11:25:49.933

由于 OP 修改了他的代码，这里有一个更正确的回复：此代码“偶然”工作，因为您之前没有初始化数组。这只是“运气”，在那里的某个地方出现了值 0。

数组的声明不会将其归零。采用：

```
memset(a, 0, 100); 
```

为了那个原因。这样，第一个“未覆盖”字节将返回“0”。参考：[http ://www.cplusplus.com/reference/clibrary/cstring/memset/](http://www.cplusplus.com/reference/clibrary/cstring/memset/)

或者，您必须通过添加 a[x] = 0; 手动设置“分隔”；

现在，我知道您特别要求使用“C”解决方案，但如果您想考虑使用 C++ 编译器，我建议您查看 C++ 的 stl。这是一个帮助您入门的链接：[http ://www.cplusplus.com/reference/stl/list/](http://www.cplusplus.com/reference/stl/list/)

它被初始化为：

```
list<char>List;
List.push_back(1);
List.push_back(2);
List.push_back('a');

int j = List.size();   //Returns '3' 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T16:50:57.790

改为这样做：

```
main(){

  int a[100] = {0};
  int j = 0;
  int i = 0;

  // other stuff 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-21T11:24:25.177

**基于新代码的更新：**

通常，您需要一种方法来识别数组的末尾以便进行正确的计数。对于字符串，`'\0'`通常使用。对于其他数据类型，您必须提出自己的值来检查。

对于上面的特定代码示例：

您需要将`\0`自己插入数组的最后一个位置，以便您的计数起作用。（当你创建一个像“hello”这样的字符串时，它`'\0'`会自动为你放在字符串的末尾，但如果你逐个字符地创建一个字符串，则不会）。

或者，检查字符`'5'`以查找当前字符数组的结尾。

`break`此外，一旦找到最后一个字符，您就应该退出循环，否则您将越过数组的末尾并且很可能会崩溃（同样，如果您不这样做，那是纯粹的运气）。即，类似：

```
 if(a[i] == '\0'){
      break;
   } 
```

如果你这样做会起作用：

```
 a[6] = '\0'; 
```

前。

由于 C 不检查数组边界，因此使用您当前的代码*似乎*可以摆脱这种情况，但程序没有崩溃并且可能会在运行之间发生变化，这完全是*幸运的。*换句话说，这是**未定义**的行为。

`strlen()`最后，如果您正在处理字符串，您当然也可以使用。

# sql - 从sql中的表中获取单个数据？

> ID：11591715
> 
> 赞同：3
> 
> 时间：2012-07-21T11:21:40.833
> 
> 标签：sql, sql-server

我的 SQL Server 中有三个表

1.）注册它的列

```
 Reg_Id     bigint, primary key and auto increment
   Name       nvarchar(50),
   Tranx_id   nvarchar(30),
   Email      nvarchar(30),
   Username   nvarchar(30),
   Password   nvarchar(30),
   Edition_Id nvarchar(50),
   Default_Id nvarchar(50),
   Reg_Date   datetime,
   usertype   nvarchar(50), 
```

2.) AllEditionPages 它的列

```
Page_id       bigint, primary key and auto increment
edition_date  datetime,
noofpages     int,
Page_no     int,
image_path  nvarchar(50),
Active   int,
type_of_page  varchar(50),
Image_Width  int,
Image_Height int, 
```

3.) 版本

```
id  int, primary key and auto increment
edition_date  datetime,
noofpages  int,
XMLFile  nvarchar(50),
PDFFile  nvarchar(50),
PDFPrefix nvarchar(50),
type   nvarchar(50),
price  nvarchar(50),
reg_req nvarchar(50) 
```

根据上表，我尝试下面的 sql 查询

```
 SELECT edi.*, aep.*, reg.*
    FROM Edition as edi INNER JOIN Registration as reg 
    ON edi.id = reg.Edition_Id INNER JOIN AllEditionPages as aep
    ON edi.edition_date = aep.edition_date
    where reg.Edition_Id= edi.id
    and reg.Reg_ID = 14 
```

从这个查询我得到这个输出：

```
id    edition_date              type    price  page-id

96    2012-07-18 00:00:00.000   free    null    2503
96    2012-07-18 00:00:00.000   free    null    2503 
```

我得到两行输出，但只想要单行输出

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:26:07.887

您可以通过`common table expression`以下方式在此场景中使用：

```
 WITH cteTable AS
    (
        SELECT edi.*, aep.*, reg.*
        FROM Edition as edi INNER JOIN Registration as reg 
        ON edi.id = reg.Edition_Id INNER JOIN AllEditionPages as aep
        ON edi.edition_date = aep.edition_date
        where reg.Edition_Id= edi.id
        and reg.Reg_ID = 14
    )
    select top 1 * from cteTable 
```

由于您的两个表包含 edition_date，您需要指定列名，而不是使用以下方式使用“*”：

```
WITH cteTable AS
    (
        SELECT edi.id,edi.edition_date,edi.noofpagez,edi.XMLFile,edi.PDFFile ,edi.PDFPrefix,edi.type,edi.price,edi.reg_req ,
        aep.Page_id, aep.edition_date,aep.noofpages,aep.Page_no,aep.image_path,aep.Active,aep.type_of_page,aep.Image_Width,aep.Image_Height,
        reg.Reg_Id,reg.Name,reg.Tranx_id,reg.Email,reg.Username,reg.Password,reg.Edition_Id,reg.Default_Id,reg.Reg_Date,reg.usertype
        FROM Edition as edi INNER JOIN Registration as reg 
        ON edi.id = reg.Edition_Id INNER JOIN AllEditionPages as aep
        ON edi.edition_date = aep.edition_date
        where reg.Edition_Id= edi.id
        and reg.Reg_ID = 14
    )
    select top 1 * from cteTable 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T12:15:27.370

您必须指定一行。从您的 putput 看来，您有重复的数据，如果这是问题，您应该使用 distinct 来获取不同的行。否则，请指定您真正需要的内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T11:37:48.527

如果 2 行具有相同的值，您可以使用 select distinct，或者您可以`LIMIT 0,1`在查询后面简单使用。

# sql - 灵活的选择查询

> ID：11591719
> 
> 赞同：3
> 
> 时间：2012-07-21T11:22:18.393
> 
> 标签：sql

我知道比较运算符不适`null`用于 SQL 中的值，因此我们使用`isnull`，现在我遇到了这样一个表的情况，

```
ID      Name        Order
3   KnowledgeBase1  NULL
4   KnowledgeBase2  NULL
5   KnowledgeBase3  NULL
6   KnowledgeBase4  NULL
7   Child of first  1 
```

现在在这里你可以看到`Order`可以是`null`或任何数值，

现在这里是选择查询

```
declare @order int = null

select 
        ID,
        Name,
        Order
from tbl
where Order = @order 
```

`@order`当有任何查询时这个查询很好，`numerals`但是当它有时`null`它当然不起作用，因为 where 子句应该`Order is null`适用于这种情况，

所以问题是有没有办法`exec() with a string of query`在我的查询中不使用或条件语句来做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T11:25:57.557

`@order`与where 子句中的比较`NULL`，如果是，则使用`order IS NULL`and `OR`that 与您现有的条件一起使用，如果它有一个值：

```
select 
        ID,
        Name,
        Order
from tbl
where 
  Order = @order
  OR (@order IS NULL AND order IS NULL) 
```

您尚未指定您的 RDBMS，但快速测试表明这与 MySQL 一起使用...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T11:36:48.200

如果您将 isnull 与列名一起使用，则可以使用

> 声明@order int = ''
> 
> 从 tbl 中选择 ID、名称、订单，其中 isnull(Order,'') = @order

# jquery - 选择或取消选择父 div 中的复选框

> ID：11591721
> 
> 赞同：3
> 
> 时间：2012-07-21T11:22:34.230
> 
> 标签：jquery, html

我正在使用 jQuery 手风琴，每个手风琴容器都有一组复选框。在每一个中，我有 2 个按钮（选择和取消选择），点击时，我希望它们只选择/取消选择该特定手风琴容器中的所有复选框。这非常令人沮丧，因为我确信代码是正确的，所以希望有人能发现我的愚蠢并帮助兄弟：

### jQuery：

```
 // Select all for groups:
   $(".group_buttons").on("click",function() {
       var btn_request = $(this).attr("rel");
       var group = $(this);
       if(btn_request == "add") {
           $(this).parent(".controller_box").find('input:checkbox')
                .attr('checked',true);
       } else {
           $(this).parent(".controller_box").find('input:checkbox')
                .attr('checked', false);
       }
       return false;
   }); 
```

### 示例 HTML：

```
 <div class='controller_box'>
       <a href='' rel='add' class='group_buttons'>Select all</a>
       <a href='' rel='rem' class='group_buttons'>Select all</a>
       <input type='checkbox' name='sample1' value=1 />
       <input type='checkbox' name='sample2' value=1 />
  </div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T11:28:53.913

你可以使用`prop()`方法：

> 属性和属性之间的区别在特定情况下可能很重要。在 jQuery 1.6 之前，.attr() 方法在检索某些属性时有时会考虑属性值，这可能会导致行为不一致。从 jQuery 1.6 开始，.prop() 方法提供了一种显式检索属性值的方法，而 .attr() 检索属性。

```
$(".group_buttons").on("click",function() {
   var btn_request = $(this).attr("rel");
   if(btn_request == "add") {
       $(this).parent().find('input[type="checkbox"]').prop('checked', true);
   } else {
       $(this).parent().find('input[type="checkbox"]').prop('checked', false);
   }
   return false;
}); 
```

*请注意`:checkbox`选择器是[`deprecated`](http://api.jquery.com/category/deprecated/).*

* * *

如果`.group_buttons`是动态生成的，您应该委托`click`事件：

```
$("body").on('click', '.group_buttons', function() {
   var btn_request = $(this).attr("rel");
   if(btn_request == "add") {
       $(this).parent().find('input[type="checkbox"]').prop('checked', true);
   } else {
       $(this).parent().find('input[type="checkbox"]').prop('checked', false);
   }
   return false;
}); 
```

# c++ - 如何使用 malloc 正确引用结构内的双指针

> ID：11591728
> 
> 赞同：1
> 
> 时间：2012-07-21T11:23:42.270
> 
> 标签：c++, pointers, struct, malloc

我编写了一个函数来解析一个 url 并将其拆分为它的组件。为了存储 URL 的组成部分，我将一个指针（指向函数）传递给名为 urlinfo 的以下结构：

```
typedef struct urlstruct {
    char** protocol;
    char** address;
    char** port;
    char** page;
} urlstruct; 
```

它包含双指针的原因是因为我不知道 URL 的每个组件将有多长。在函数内部，我计算出存储每个组件所需的大小，并尝试使用以下行将内存分配给 urlstruct 的组件：

```
*(urlinfo->protocol) = (char*)malloc(i * sizeof(char)); 
```

`(i * sizeof(char))`所需的尺寸在哪里。此行导致访问冲突。有谁知道如何正确分配内存？

提前致谢 ：）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T11:37:00.057

假设你真的在使用 C++，你应该只拥有：

```
struct urlstruct {
    std::string protocol;
    std::string address;
    std::string port;
    std::string page;
}; 
```

然后填充它变得容易：

```
url.protocol = "http://"; 
```

而且您不必担心其他任何事情。

但是，如果您的标签是错误的，并且出于某种原因您确实需要 cstrings：

```
typedef struct {
    char* protocol;
    char* address;
    char* port;
    char* page;
} urlstruct; 
```

您只需要单个指针。然后，您可以以非常接近与您已经相同的方式为它们分配内存：

```
char* proto = "http://" //Assuming you get this from somewhere
int len = strlen(proto) + 1;
urlstruct url;
url.protocol = malloc(len * sizeof(char)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T11:37:06.760

您不需要指向指针的指针。像这样声明你的结构：

```
typedef struct urlstruct {
    char* protocol;
    char* address;
    char* port;
    char* page;
} urlstruct; 
```

然后像这样分配它们：

```
urlinfo->protocol = (char*)malloc((i+1) * sizeof(char)); 
```

您指向指针的指针是不必要的复杂性，这意味着您必须分配两个项目。您正在跳过其中一个分配，这就是您存在访问冲突的原因。

# android - 如何从另一个活动调用 ListView 适配器进行刷新 - notifyDataSetChanged()

> ID：11591729
> 
> 赞同：1
> 
> 时间：2012-07-21T11:23:54.060
> 
> 标签：android, sqlite, listview, call, adapter

在将记录插入 sqllite db 后，我想从另一个活动中调用 listview 适配器。

我不能调用 adapter.notifyDataSetChanged() 方法。最好的方法是什么。

```
public void onClick(View v) {
    TextView item_name;
    item_name=(TextView) findViewById(R.id.eItemName);         
    Log.d("Insert: ", "Inserting ..");
    db.add_item(new Item(item_name.getText().toString()), getApplicationContext());

    // I want to call the method HERE!!!! 

    finish();   
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:34:15.643

只是

在当前活动之后，从上一个活动`finish()`中调用（正如我在上一个活动中假设您的列表视图）。`adapter.notifyDataSetChanged()``onActivityResult()`

还使用从以前的活动开始您的当前活动`startActivityForResult();`

或者，如果您在此 Activity 中引用了 List Adapter，则使用该引用调用`adapter.notifyDataSetChanged()`。（但我认为这不是一个好习惯）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T11:42:41.893

更好的选择是在拥有 ListView 的 Activity 中重新加载`ListView`新数据。`onResume()`无需`notifyDataSetChanged()`从另一个班级打电话，因为您的列表在另一个活动中不可见。

```
@Override
protected void onResume() {
    super.onResume();

    //fill your Collection with new data
    // setAdapter or notify your adapter
} 
```

# android - 警报对话框不起作用

> ID：11591731
> 
> 赞同：-1
> 
> 时间：2012-07-21T11:24:11.243
> 
> 标签：android

我正在制作网格布局并希望将其放入警报对话框中。但是当我尝试使用 show() 显示警报对话框时，但警报对话框没有显示。`GridView`相反，它在前面显示对话框，并且在`GridView`网格项目不可点击的背景中。这是编码：

```
public class GridViewActivity extends Activity {

Context context;
View layout;
static final String[] MOBILE_OS = new String[] { "timer", "about"};

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    GridView gridView = (GridView)findViewById(R.id.gridView1);
    gridView.setAdapter(new ImageAdapter(this, MOBILE_OS));
    gridView.setOnItemClickListener(new OnItemClickListener() {
        public void onItemClick(AdapterView<?> parent, View v,
                int position, long id) {

            if(position == 0){
                Toast.makeText(GridViewActivity.this, "first icon is pressed", Toast.LENGTH_SHORT).show();
            }
            else if(position == 1){
                Toast.makeText(GridViewActivity.this, "second icon is pressed", Toast.LENGTH_SHORT).show();
            }
        }});
    Dialog();
}   
public void Dialog(){

    AlertDialog alertDialog;
    Context mContext = GridViewActivity.this;

    AlertDialog.Builder builder = new AlertDialog.Builder(GridViewActivity.this);
    LayoutInflater inflater = (LayoutInflater) mContext.getSystemService(LAYOUT_INFLATER_SERVICE);

    View layout = inflater.inflate(R.layout.main,null);

    builder.setView(layout);
    alertDialog = builder.create();
 alertDialog.show();
  }

} 
```

请告诉我如何解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:32:49.353

只需编辑为：

```
gridView.setOnItemClickListener(new OnItemClickListener() {
    public void onItemClick(AdapterView<?> parent, View v,
            int position, long id) {

        if(position == 0){
            Toast.makeText(GridViewActivity.this, "first icon is pressed", Toast.LENGTH_SHORT).show();
        }
        else if(position == 1){
            Toast.makeText(GridViewActivity.this, "second icon is pressed", Toast.LENGTH_SHORT).show();
        }
        ...............
        Dialog();  //  You Have called this method OUT-SIDE the click event
        .......................
    }}); 
```

# c++ - 如何开始使用 twitCurl？

> ID：11591733
> 
> 赞同：0
> 
> 时间：2012-07-21T11:24:23.420
> 
> 标签：c++, twitter

我正在尝试使用 twitCurl 并且我正在按照上给出的说明进行操作

[1]：[http](http://code.google.com/p/twitcurl/wiki/WikiHowToUseTwitcurlLibrary) ://code.google.com/p/twitcurl/wiki/WikiHowToUseTwitcurlLibrary在 Unix/Linux 部分下。

做的时候卡住了

```
g++ twitterClient.cpp -ltwitcurl 
```

它给出了一条错误消息

```
 In file included from twitterClient.h:4:0,
                     from twitterClient.cpp:1:
    includes/twitcurl.h:8:23: fatal error: curl/curl.h: No such file or directory
    compilation terminated. 
```

文件 curl.h 在 curl/ 中，但它仍然给出错误。为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T21:10:00.893

添加`-I<path to curl/curl.h>`到您的构建命令。

# ios - 如何识别iOS设备（而不是imei）

> ID：11591738
> 
> 赞同：0
> 
> 时间：2012-07-21T11:24:57.330
> 
> 标签：ios, uikit

我想唯一标识我的应用用户的设备。既然我不能拥有imei，还有什么其他选择？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T18:35:52.957

我们根据设备 MAC 地址和捆绑标识符的散列创建自己的 UDID。这确保了我们可以在特定设备上唯一标识我们的应用程序。

如果您需要跨多个应用程序的唯一 ID，您也可以仅基于 MAC 地址创建哈希。

我实际上已经写了一篇关于如何做到这一点的博客文章，并在此处提供了一些示例代码：

[https://radeeccles.com/blog/create-your-own-unique-device-identifier-udid](https://radeeccles.com/blog/create-your-own-unique-device-identifier-udid)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T11:27:44.480

您可以尝试使用 OpenUDID。

# javascript - 将 CSS 样式分配给 Slickgrid 单元格

> ID：11591745
> 
> 赞同：2
> 
> 时间：2012-07-21T11:25:55.363
> 
> 标签：javascript, css, class, slickgrid

Slickgrid 不断发展，因此对类似问题的一些答案不适用（例如，他们提到不可能将 CSS 分配给特定单元格）。[显然现在这是支持的，如果有人可以在https://github.com/mleibman/SlickGrid/wiki/API-Reference](https://github.com/mleibman/SlickGrid/wiki/API-Reference)上提供使用 CSS API 的示例，我们将不胜感激：

```
grid.setCellCssStyles("birthday_highlight", {
   0: {
        birthday: "highlight", 
        age: "highlight" 
       },

   9: {
         birthday: "highlight",
         age: "highlight"
       }
}) 
```

我有一个非常简单的网格，包含 AZ 列和 1-100 行：如果单元格的内容是数字，如何分配黄色背景？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-26T19:12:43.773

这可以通过实现来完成`getItemMetadata(row)`（参见[https://github.com/mleibman/SlickGrid/wiki/Providing-data-to-the-grid](https://github.com/mleibman/SlickGrid/wiki/Providing-data-to-the-grid)），但是您必须遍历所有单元格，所以这不是很有效. 也许查看实际值的自定义格式化程序更合适。这样，您将无法为单元格本身指定 CSS 类，但您可以随意设置单元格内容的样式，因此从技术上讲，您可以制作一个填充整个单元格并设置背景的 DIV那。

# sql - 在相关子查询上使用运算符 EXISTS 的说明

> ID：11591753
> 
> 赞同：2
> 
> 时间：2012-07-21T11:27:08.713
> 
> 标签：sql, sql-server, exists

以下查询背后的机制是什么？

它看起来像是对表进行动态过滤的强大方法。

```
CREATE TABLE tbl (ID INT, amt INT)
INSERT tbl VALUES
(1,1),  
(1,1),  
(1,2),
(1,3),
(2,3),  
(2,400),
(3,400),
(3,400)

SELECT *
FROM tbl T1
WHERE EXISTS
  (
    SELECT *
    FROM tbl T2
    WHERE 
       T1.ID = T2.ID AND
       T1.amt < T2.amt
  ) 
```

[在 SQL Fiddle 上对其进行现场测试](http://sqlfiddle.com/#!3/330c7b/4)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T12:41:34.390

您通常可以使用显式连接将相关子查询转换为等效表达式。这是一种方法：

```
SELECT distinct t1.*
FROM tbl T1 left outer join
     tbl t2
     on t1.id = t2.id and
        t1.amt < t2.amt
where t2.id is null 
```

马丁史密斯展示了另一种方式。

它们是否是“进行动态过滤的强大方法”的问题是正确的，但（通常）并不重要。您可以使用其他 SQL 结构进行相同的过滤。

为什么要使用相关子查询？有几个正面和几个负面，一个重要的原因是两者兼而有之。从积极的方面来说，您不必担心行的“乘法”，就像在上面的查询中发生的那样。此外，当您有其他过滤条件时，相关子查询通常更有效。而且，有时使用删除或更新，这似乎是表达查询的唯一方法。

阿喀琉斯之踵是许多 SQL 优化器将相关子查询实现为嵌套循环连接（即使不是必须）。因此，它们有时效率极低。但是，您拥有的特定“存在”构造通常非常有效。

此外，表之间连接的性质可能会在嵌套子查询中丢失，这会使 where 子句中的条件复杂化。在更复杂的情况下，很难理解发生了什么。

我的建议。如果要在大型表上使用它们，请了解数据库中的 SQL 执行计划。相关子查询可以带来最好或最差的 SQL 性能。

可能的编辑。这更等同于 OP 中的脚本：

```
SELECT distinct t1.*
FROM tbl T1 inner join
     tbl t2
     on t1.id = t2.id and
        t1.amt < t2.amt 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T11:34:17.157

让我们把它翻译成英文：

“Select rows from `tbl`where `tbl`has a row of the same `ID`and greater `amt`.”

这样做是选择*除*最大值为的行`amt`之外的所有内容`ID`。

请注意，最后一行`SELECT * FROM tbl`是一个单独的查询，可能与手头的问题无关。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T13:44:10.390

正如其他人已经指出的那样，在相关子查询中使用 EXISTS 本质上是告诉数据库引擎“返回所有记录，其中有符合子查询中指定条件的相应记录。” 但还有更多。

EXISTS 关键字代表一个布尔值。它也可以被理解为“至少存在一条与 WHERE 语句中的条件匹配的记录”。换句话说，如果找到一条记录，“我已经完成了，我不需要进一步搜索”。

CAN 在相关子查询中使用 EXISTS 所带来的效率增益来自这样一个事实，即只要 EXISTS 返回 TRUE，子查询就会停止扫描记录并返回结果。类似地，只要任何记录与子查询的 WHERE 语句中的条件匹配，使用 NOT EXISTS 的子查询就会返回。

我相信这个想法是使用 EXISTS 的子查询应该避免使用嵌套循环搜索。正如上面的@Gordon Linoff 所说，查询优化器可能会也可能不会按预期执行。我相信 MS SQL Server 通常会充分利用 EXISTS。

我的理解是，并非所有查询都能从 EXISTS 中受益，但它们通常会受益，尤其是在您的示例中的简单结构的情况下。

我可能已经扼杀了其中的一些，但从概念上讲，我相信它在正确的轨道上。

需要注意的是，如果您有一个性能关键的查询，最好使用 EXISTS 评估一个版本的执行，正如 Linoff 先生所说的那样，使用简单的 JOINS。根据您的数据库引擎、表结构、一天中的时间以及月亮和星星的对齐方式，它不是一刀切的，它会更快。

最后一点 - 我同意 lc。当您在子查询中使用 SELECT * 时，您很可能会否定部分或全部性能提升。仅选择 PK 字段。

# ios - 在 iphone 中使用 .svc 扩展名访问 WSDL Web 服务

> ID：11591756
> 
> 赞同：2
> 
> 时间：2012-07-21T11:27:31.813
> 
> 标签：ios

Hiii .. 我正在创建一个应用程序，其中我使用名为 "http://192.168.0.51/iPadDataCollection/Service.svc?wsdl" 的 Web 服务。我已经从这个 Web 服务中解析了类，并且我已经编写了代码来访问一个名为 TestConnection 的方法，但是我收到了错误 400（错误请求）。谁能帮我解决这个问题？？提前谢谢。

```
BasicHttpBinding_IServiceBinding *binding=[[Service  BasicHttpBinding_IServiceBinding]initWithAddress:@"http://192.168.0.51/iPadDataCollection/Service.svc?wsdl"];
binding.logXMLInOut = YES;

Service_TestConnection *request = [[Service_TestConnection alloc] init];
request.Unique_Id =txtID.text;

[binding TestConnectionAsyncUsingParameters:request delegate:self];

[spinner startAnimating];
[request release]; 
```

# php - 在 MySQL 中存储 html 的 100% 安全方式

> ID：11591757
> 
> 赞同：5
> 
> 时间：2012-07-21T11:27:41.197
> 
> 标签：php, mysql, html, code-injection

我正在开发一个项目，允许公众（所以每个人）通过 TinyMCE 为他们自己的项目页面插入 HTML。由于每个人都可以使用此功能，因此我需要一种 100% 安全的方式将 TinyMCE 输出插入到我的数据库中，并在用户插入时将其显示在另一个页面上。

XSS、SQL 注入和所有其他垃圾都不是我想要的新网站！我可以做 htmlentities -> htmlspecialchars，然后再使用 htmlentities_decode，但这 100% 安全吗？这是最好的方法吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-21T11:38:18.997

在大多数情况下，使用准备好的语句很容易避免 SQL 注入。

如果您打算允许用户发布 HTML 标记，则 XSS 会更加困难。您需要删除所有`<script>`标签、标签中的所有`on*`属性、所有`javascript:`url，即使这样也不能完全保证输入 HTML 安全。有诸如[HTMLPurifier](http://htmlpurifier.org/)之类的库可以提供帮助，但只要您允许 HTML，您就有可能让恶意软件通过。

您可以使用实现诸如降价或 wikitext 之类的库。这严重限制了用户可以输入的内容，同时仍然让他们在一定程度上标记内容。它不是万无一失的（人们仍然可以发布指向恶意网站的链接并希望用户点击它们，有些人会天真地实际这样做），如果没有某种类型，您将无法使用诸如 TinyMCE 之类的富编辑器插件，但是清理markdown比清理HTML要简单得多。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-21T11:35:06.563

这是不可行的。您认为过滤是一个好点，但如果您接受 html，最终将无法完全锁定它。查看 bbcode、markdown 等内容以查看一些替代方案。

如果您决定接受 HTML 代码，它不仅会过滤需要完成的工作，甚至编码也会产生严重的安全问题。以搜索 UTF-7 为例，看看有什么问题。在此处查看一些示例：[http ://www.webappsec.org/projects/articles/091007.txt](http://www.webappsec.org/projects/articles/091007.txt)

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2012-07-21T11:31:20.367

存储和显示 HTML 是两件不同的事情。

**将 HTML 存储**在 MySQL 中就`mysql_real_escape_string()`足够了，并且可以保护您免受 SQL 注入。

对于**显示**，这取决于。您希望用户能够编写 HTML，但又希望免受 XSS 攻击等攻击，因此您应该使用 HTMLPurifier 之类的过滤器（这就是 Stackoverflow 所做的）。您只需在从数据库中检索 HTML 后执行此操作。

你永远不需要使用`htmlentities()`or `htmlentities_decode()`。

# asp.net - url 重写后，相对 url 将不起作用

> ID：11591768
> 
> 赞同：1
> 
> 时间：2012-07-21T11:28:59.783
> 
> 标签：asp.net, url-rewriting, relative-path

在我使用 url 重写后，我遇到了相对 url 的问题。

**问题**

我在一个 asp.net 页面中有一个图像，其 NavigateURL 是 ~/Images/profile.jpg 之前（在 urlrewriting 之前）曾经正确指向图像文件夹，但现在被附加到链接中。例如，如果链接是

`localhost/products/shoes/black`, 图片的 url 现在是

```
localhost/products/shoes/black/~/Images/profile.jpg 
```

任何想法我该如何解决？

**更新**我的网址重写规则：

```
routes.MapPageRoute(
                "Products",
                "products/shoes/{color}",
                "~/produts.aspx"
                ); 
```

# html - 使用选取框标签滚动

> ID：11591775
> 
> 赞同：1
> 
> 时间：2012-07-21T11:30:46.237
> 
> 标签：html, css, marquee

我在使用 marquee 标签时遇到问题，在 chrome 浏览器中打开时看起来很完美，但是当我们在 Firefox 中打开时，显示完全是黑色的。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T11:41:04.533

不使用`<marquee>`

根据[维基百科](http://en.wikipedia.org/wiki/Marquee_element)

> marquee 标签是一种非标准的 HTML 元素，它可以使文本自动向上、向下、向左或向右滚动。该标签最初是在 Microsoft 的 Internet Explorer 的早期版本中引入的，并且与 Netscape 的 blink 元素进行了比较，作为 HTML 标准的专有非标准扩展，存在可用性问题。W3C 已弃用它，并且他们不建议在任何 HTML 文档中使用它。

如果您仍然希望选框按预期工作，请参阅此 [http://remysharp.com/demo/marquee.html](http://remysharp.com/demo/marquee.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T13:59:53.107

正如您的标签所说，仅使用 CSS，解决方案是使用[**关键帧动画**](https://developer.mozilla.org/en/CSS/animation)。但是，**IE9 或更早版本不支持关键帧动画**（IE10 支持它们，所有当前版本的 Chrome、Firefox、Safari 和 Opera 也支持）。

使用关键帧动画的示例：http: [//dabblet.com/gist/3155878](http://dabblet.com/gist/3155878)

HTML

```
<div class="carousel-wrapper">
    <ul class="logo-list">
        <li><a href="#"><img src="logo-img1.jpg"></a>
        </li><li><a href="#"><img src="logo-img2.jpg"></a>
        </li><!--many more list items just like this-->
        </ul>
</div> 
```

基本 CSS

```
.carousel-wrapper {
    width: 32em;
    height: 9em;
    margin: 10em auto;
    padding: 0;
    border: solid 1px #ccc;
    overflow: hidden;
}
.logo-list {
    margin: 0 0 0 16em;
    padding: .5em 0;
    white-space: nowrap;
    animation: scrollme 35s infinite linear alternate;
}
.logo-list li {
    padding: .25em;
    display: inline-block;
}
.logo-list a {
    width: 10em;
    height: 7.5em;
    border: solid 1px #ccc;
    display: block;
}
@keyframes scrollme {
    to {margin-left: -173em;}
    /* 173em = 18 list items * 10.5em - 16em
    (10.5em = 10em width + 2*.25em paddings left and right)
    (16em = half the width of the wrapper) */
} 
```

* * *

* * *

**IE9 及更早版本的解决方案**：

**1.**使用 JavaScript。使用 jQuery，这很简单：

```
$('.logo-list').animate({ marginLeft: '-173em'}, 35000, 'linear');​ 
```

在这里演示[http://jsfiddle.net/thebabydino/gTRXQ/1/](http://jsfiddle.net/thebabydino/gTRXQ/1/)

然而，*如果 JavaScript 被禁用，用户将只能看到第一个图像*（除非他选择并拖动......大多数用户不会）。

* * *

**2.**只是 CSS。好吧，无法实现完全相同的效果（自动滚动），但有几个选项。

首先，在元素上添加`.lt-ie9`和`.ie9`类：`<html>`

```
<!--[if lt IE 9]><html class="lt-ie9"><![endif]-->
<!--[if IE 9]><html class="ie9"><![endif]-->
<!--[if gt IE 9]><!--><html><!--<![endif]--> 
```

这样你就可以做一些不同的事情。

**a)**第一个选项：丑陋的选项。没有自动滚动，只需在包装上留下一个水平滚动条（当然增加它的高度），以便用户可以滚动查看所有图像。

```
.ie9 .carousel-wrapper, .lt-ie9 .carousel-wrapper {
    height: 10em;
    overflow-x: scroll;
} 
```

**b）**第二个选项：仅在没有那么多图像时才有效。将它们堆叠起来并展示它们`hover`- 就像我在这个画廊中所做的那样：http: [//jsfiddle.net/thebabydino/F7MKy/6/](http://jsfiddle.net/thebabydino/F7MKy/6/)

**c)**仅适用于 IE9 的选项，但您可以使用选项 a) 或 b) 作为旧版本的后备选项。添加某种导航，例如[http://dabblet.com/gist/3156683](http://dabblet.com/gist/3156683)（在 IE9 中查看）。

**d)**丑陋的选项#2。只为 IE9 和更早版本返回选取框（使用条件注释）。

* * *

我会做什么：

首先，将一个类添加`.no-js`到`<html>`

如果 JavaScript 未被禁用，请使用[**Modernizr将其删除。**](http://modernizr.com/)在这种情况下，请使用 JavaScript 版本的自动滚动。

如果禁用 JavaScript，但支持动画，请使用关键帧动画。在这种情况下，`.no-js`类没有被删除，所以：

```
.no-js .logo-list { animation: scrollme 35s infinite linear alternate; } 
```

如果既不支持 JavaScript 也不支持动画，请尝试我在第**2**点列出的另一个选项。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T14:12:18.087

您应该更正网站中的结构性错误。

例如，选取框在`<ul>`元素内部，但在任何`<li>`元素之外。我相信浏览器会遇到这个问题！因此，在继续之前，
请确保该站点在[http://validator.w3.org/上进行了验证。](http://validator.w3.org/)

# asp.net - iPad 上的 Chrome 不适用于 ASP.NET 4

> ID：11591776
> 
> 赞同：11
> 
> 时间：2012-07-21T11:30:52.137
> 
> 标签：asp.net, ipad, google-chrome

我刚刚下载**了适用于 iPad 的 Google Chrome**，我注意到它不适用于 ASP.NET 4 网站！

例如，创建一个简单的页面：

```
<%@ Page Language="VB" %>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<script runat="server">

Protected Sub LinkButton1_Click(sender As Object, e As System.EventArgs)
    Response.Write("Link button was clicked")
End Sub

</script>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
</head>
<body>
    <form id="form1" runat="server">
    <div>
        <asp:LinkButton ID="LinkButton1" runat="server" OnClick="LinkButton1_Click">LinkButton</asp:LinkButton>
    </div>
    </form>
</body>
</html> 
```

现在尝试单击链接按钮，但它不会触发回发事件。

我似乎无法调试，因为没有 javascript 控制台可以找出发生了什么。

**！！更新 ！！**

我发现您需要从 Chrome 的设置下拉菜单中选择***请求桌面站点才能使其正常工作。***

**！！更新 ！！**

ASP.NET 无法识别某些浏览器的最新版本，因此会将它们视为低级浏览器。（基本上：没有 JavaScript。）修复是获取更新的浏览器定义文件。

**我们在哪里可以获得更新的 Chrome 浏览器定义文件？**

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-01T14:49:07.763

我遇到了同样的问题。大多数东西在我的页面上都可以正常工作，只是在客户端修改的一些项目显示不正确。

我检查了 ipad 上每个浏览器返回的头文件，发现在桌面模式下的 Chrome 中，它只是假装是一个 Mac Box，在头中发送以下内容： *Mozilla/5.0+(Macintosh; +Intel+Mac+OS+X+10_7_3)+AppleWebKit/534.53.11+(KHTML,+like+Gecko)+版本/5.1.3+Safari/534.53.10*

当它处于标准模式时，它会在标题中感知以下内容： *Mozilla/5.0+(iPad;+CPU+OS+6_0+like+Mac+OS+X)+AppleWebKit/534.46.0+(KHTML,+like+壁虎）+CriOS/21.0.1180.82+手机/10A403+Safari/7534.48.3*

我试图在我的“app_browsers”目录中添加一个新浏览器，复制“chrome”并将其重新命名为“chromeios”，并将其中的“chrome”用户代理替换为 CriOS。这什么也没做，我什至不确定“app_Browsers”目录中的文件是否在做任何事情。

那是我遇到这个问题的时候。用户 **vamshik**和**Jay Douglass**提出的答案放在一起对我有用。

然而，Jay 的错误在于它有错误的用户代理（它应该是“crios”）。

然而，用户 geo1701 抱怨将此添加到每个页面。这可以通过创建一个继承 System.Web.UI.Page 的类轻松完成，然后使用“protected void Page_PreInit”事件添加上述代码，然后用新类替换每个网页上的继承。然后，如果您需要在每个页面中添加所需的内容，您也可以使用该类来添加它。

我还想知道是否有办法将它添加到 global.asax 类中？但我猜不是...

仍在寻找更好的解决方案。如果我找到一个，我会更新。

找到以下相关帖子：

[iPad 上的 Chrome for iOS 用户代理](https://stackoverflow.com/questions/11295189/chrome-for-ios-user-agent-on-ipad)

[ASP.NET Webforms 不为 Chrome/iOS 呈现回发 JavaScript 函数](https://stackoverflow.com/questions/12326736/asp-net-webforms-doesnt-render-postback-javascript-function-for-chrome-ios)

**更新** 我由 Scott Hanselman找到[了这个。](http://www.hanselman.com/blog/FormsAuthenticationOnASPNETSitesWithTheGoogleChromeBrowserOnIOS.aspx)当他谈论 cookie 时，我认为他的建议可能会让我们朝着正确的方向前进。

**好的！最后更新！！！**

安装 .NET Framework 4.5 并从我的 app_browsers 目录中删除文件后，我 iPad 上的 Chrome 正在运行。我查看了 .net 4.5 提供的新*.Browser*文件中的条目，并没有什么特别之处，所以我猜测还有更多内容，然后是对*.browser*文件的一些更新。

.Net framework 4.5 可以在[这里下载](http://www.microsoft.com/en-us/download/details.aspx?id=30653)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-04T08:21:40.087

ASP.NET 可能错误地将 iPad 上的 Chrome 检测为不支持 JavaScript 的“低级”浏览器。ASP.NET 使用用户代理字符串来检测下层浏览器。要强制将 Chrome 检测为“高级”浏览器，您可以执行以下操作：

```
protected void Page_PreInit(object sender, EventArgs e)
{
    if (Request.UserAgent != null && Request.UserAgent.IndexOf("chrome", StringComparison.OrdinalIgnoreCase) > -1)
    {
        this.ClientTarget = "uplevel";
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-01T18:57:12.810

下面为我​​工作...

```
if (Request.UserAgent != null && Request.UserAgent.IndexOf("crios", StringComparison.OrdinalIgnoreCase) > -1)
{
    this.ClientTarget = "uplevel";
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-12T03:07:46.420

很可能 ASP.NET 生成无效页面。

我不了解 iPhone，但 Android 版本有[Remote Debugging](https://developers.google.com/chrome/mobile/docs/debugging)。您可以尝试在那里检查页面。

# django - 将具有外键的对象序列化为json

> ID：11591780
> 
> 赞同：0
> 
> 时间：2012-07-21T11:31:15.233
> 
> 标签：django

这是在 Django 中：

```
data = []
data += serializers.serialize("json", conversation_deal)
data += serializers.serialize("json", deal_statuses)
dat = serializers.serialize("json", data)
return HttpResponse(dat) 
```

我想节省一次到 Web 服务的往返行程，并将两个 json 合二为一。我试图做的是将每个对象序列化为 json 并将它们添加到一个数组中并再次将它们序列化为 json。但它会引发异常。

我也尝试将两个python对象放入数组中，全部序列化成json，同样失败。

这通常是怎么做的？

**更新：**

例外：

```
str: 'str' object has no attribute '_meta' 
```

**更新 2：**

我有更多信息，似乎 Django 以某种方式与它序列化对象的方式相关。

以下工作非常好：

```
deal_statuses = DealStatus.objects.all()        
data = serializers.serialize("json", deal_statuses)
return HttpResponse(data) 
```

但这失败了..

```
conversation_deal = Conversation_Deal.objects.filter(conversation_id__in=call_id)
data = serializers.serialize("json", conversation_deal)
return HttpResponse(data) 
```

这就是 Conversation_Deal 的建模方式：

```
class Conversation_Deal(models.Model):
    conversation        = models.ForeignKey('Conversation')
    deal                = models.ForeignKey('Deal')
    status              = models.ForeignKey(DealStatus, null=True, blank=True) 
```

我发现了一些与继承类[文档](https://docs.djangoproject.com/en/dev/topics/serialization/)相关的东西，指出了为什么......即使我没有继承，但同样的过程在我的情况下也有效。希望这对其他人有帮助。我会尽快将其发布为答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-22T09:04:57.500

我找到了解决方案。

从字面上看，因为 Conversation_Deal 具有 DealStatus 类的外键。它需要在序列化过程中了解它。

```
all = list(Conversation_Deal.objects.filter(conversation_id__in=call_id)) + list(DealStatus.objects.all())
return HttpResponse(simplejson.dumps(to_json), mimetype='application/json') 
```

希望这对其他人有帮助。

# javascript - 解析包含换行符的 JSON

> ID：11591784
> 
> 赞同：31
> 
> 时间：2012-07-21T11:31:29.183
> 
> 标签：javascript, json

在我的网站中，我尝试将字符串转换为包含换行符的 JSON。

```
JSON.parse('{"hallo":"line1\r\nline2","a":[5.5,5.6,5.7]}'); 
```

这会产生“意外令牌”错误。我需要以某种方式逃避吗？

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-07-21T11:32:56.130

是的，您应该同时转义它们`\n`，`\r`因为它们属于控制字符列表。[可以在此处](https://stackoverflow.com/a/1021976/822789)找到需要转义的字符的完整列表。你的代码是

```
obj = JSON.parse('{"hallo":"line1\\r\\nline2","a":[5.5,5.6,5.7]}'); 
```

JSFiddle：[链接](http://jsfiddle.net/fFcxf/1/)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-21T11:33:25.810

尝试：

```
JSON.parse('{"hallo":"line1\\r\\nline2","a":[5.5,5.6,5.7]}'); 
```

# html - 输入CSS不起作用

> ID：11591787
> 
> 赞同：2
> 
> 时间：2012-07-21T11:31:54.483
> 
> 标签：html, css, jsf, jsf-2, fonts

我使用 JSF 2.0 创建了一个页面。以下是我所拥有的

```
<h:dataTable id="patentDetailsList" value="#{PersonalInformationDataBean.getAllPatentInfo()}"
             var="patentInfo" bgcolor="#F1F1F1" border="8" cellpadding="5"
             cellspacing="3" width="100%">
    <f:facet name="header">
        <h:outputText value="Patent Information" />
    </f:facet>

    <h:column>
        <f:facet name="header">
            <h:outputText value="ID" />
        </f:facet>
        <h:outputText value="#{patentInfo.personalInfoId}"/>
    </h:column>

    <h:column>
        <f:facet name="header">
            <h:outputText value="Name" />
        </f:facet>
        <h:commandLink value="#{patentInfo.fullName}" action="#{PersonalInformationDataBean.takeMeToAnotherPage('patentss')}">
            <f:setPropertyActionListener target="#{PersonalInformationDataBean.personalInfoId}" value="#{patentInfo.personalInfoId}" />
        </h:commandLink>
    </h:column>

    <h:column>
        <f:facet name="header">
            <h:outputText value="Email ID" />
        </f:facet>
        <h:outputText value="#{patentInfo.emailID}"/>
    </h:column>

    <h:column>
        <f:facet name="header">
            <h:outputText value="Mobile Number" />
        </f:facet>
        <h:outputText value="#{patentInfo.mobileNumber}"/>
    </h:column>

    <h:column>
        <f:facet name="header">
            <h:outputText value="Action" />
        </f:facet>
        <h:commandButton value="Edit" action="#{PersonalInformationDataBean.setEditPersonalInfo()}" onclick="return confirm('Are you sure you want to edit?')">
            <f:setPropertyActionListener target="#{PersonalInformationDataBean.personalInfoId}" value="#{patentInfo.personalInfoId}" />
        </h:commandButton>
        <h:commandButton value="Delete" action="#{PersonalInformationDataBean.deletePersonalInfo()}" onclick="return confirm('Are you sure you want to delete?')">
            <f:setPropertyActionListener target="#{PersonalInformationDataBean.personalInfoId}" value="#{patentInfo.personalInfoId}" />
        </h:commandButton>
    </h:column>
</dataTable> 
```

在CSS中，我有

```
body {
    font-family: verdana, 'Times New Roman';
    font-size: 15px;
}

a {
    font-family: verdana, 'Times New Roman';
    font-size: 15px;
}

input {
    font-family: verdana, 'Times New Roman';
    font-size: 15px;
} 
```

让 MAD 变得疯狂的是，字体和大小被应用于所有文本和链接，**除了按钮**。编辑和删除按钮不会像其他按钮一样出现。

知道我做错了什么吗？

***我知道***使用`styleClass`我可以做到这一点，但是如果我使用它，`styleClass`我将不得不写每个地方，这是更多的工作。

## 更新 1

生成的 HTML 是

```
<table id="patentDetailsList" bgcolor="#F1F1F1" border="8" cellpadding="5" cellspacing="3" width="100%">
    <thead>
    <tr><th colspan="5" scope="colgroup">Patent Information</th></tr>
    <tr>
        <th scope="col">ID</th>
        <th scope="col">Name</th>
        <th scope="col">Email ID</th>
        <th scope="col">Mobile Number</th>
        <th scope="col">Action</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>1</td>
        <td><a href="#" onclick="mojarra.jsfcljs(document.getElementById('j_idt65'),{'patentDetailsList:0:j_idt71':'patentDetailsList:0:j_idt71'},'');return false">Fahim Parkar</a></td>
        <td>parkarfahim22@yahoo.co.in</td>
        <td>66991234</td>
        <td><input type="submit" name="patentDetailsList:0:j_idt75" value="Edit" onclick="return confirm('Are you sure you want to edit?')" /><input type="submit" name="patentDetailsList:0:j_idt76" value="Delete" onclick="return confirm('Are you sure you want to delete?')" /></td>
    </tr>
    <tr>
        <td>2</td>
        <td><a href="#" onclick="mojarra.jsfcljs(document.getElementById('j_idt65'),{'patentDetailsList:1:j_idt71':'patentDetailsList:1:j_idt71'},'');return false">Fahad Parkar</a></td>
        <td>parkarfahad7@gmail.com</td>
        <td>88888888</td>
        <td><input type="submit" name="patentDetailsList:1:j_idt75" value="Edit" onclick="return confirm('Are you sure you want to edit?')" /><input type="submit" name="patentDetailsList:1:j_idt76" value="Delete" onclick="return confirm('Are you sure you want to delete?')" /></td>
    </tr>
    <tr>
        <td>3</td>
        <td><a href="#" onclick="mojarra.jsfcljs(document.getElementById('j_idt65'),{'patentDetailsList:2:j_idt71':'patentDetailsList:2:j_idt71'},'');return false">Patent First</a></td>
        <td>patent@yahoo.com</td>
        <td>66991234</td>
        <td><input type="submit" name="patentDetailsList:2:j_idt75" value="Edit" onclick="return confirm('Are you sure you want to edit?')" /><input type="submit" name="patentDetailsList:2:j_idt76" value="Delete" onclick="return confirm('Are you sure you want to delete?')" /></td>
    </tr>
    </tbody>
</table> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T12:02:14.830

试试这个

```
input[type=submit] {
/*Your CSS Goes Here*/
}

/*For text+submit*/
input[type=submit], input[type=text] {
/*Your CSS Goes Here*/
}

/*For Textarea*/

textarea {  /*For All Text Area*/
/* CSS Goes Here */
}

textarea.only_one_textarea {  /*This will apply to thextarea with class .only_one_textarea. See ref 1*/
/* CSS Goes Here */
}

<!--Ref 1-->
<textarea class="only_one_textarea"></textarea> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T11:59:15.427

您的代码应该可以工作，但似乎有一个 CSS 规则在起作用，它比您的定义更具体。这是一个有点老套的解决方案，但可能会奏效。

```
#patentDetailsList input[type="submit"],
#patentDetailsList input[type="text"],
#patentDetailsList textarea{
    font-family: verdana, 'Times New Roman';
    font-size: 15px;
} 
```

重要的部分是过于具体的选择器。您还可以尝试以下选择器：

```
form input
#patentDetailsList input[type="submit"]
#patentDetailsList input
form table#patentDetailsList input[type="submit"] 
```

这不是一个确定的解决方案，但可能有效，如果没有，您可以发布为页面生成的其他 css，和/或该表的整个 dom 树。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-02T07:38:36.363

```
<div style="position: absolute; left: 0px; top: 0px; width: 247px; height: 88px; overflow: hidden; -webkit-user-select: none; background-color: white; border: 1px solid rgb(171, 171, 171); "></div> 
```

# algorithm - 算法实现的测试规则，它们是什么？

> ID：11591789
> 
> 赞同：1
> 
> 时间：2012-07-21T11:32:15.403
> 
> 标签：algorithm, testing, implementation, fsm, decomposition

我想知道，我如何测试任何给定算法的实现？

测试方法有哪些不同的选项？

1.  是否需要在确定/非确定最终状态机上进行算法分解？
2.  单元测试？
3.  还有什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T14:44:18.330

在实践中，要执行的第一个测试通常是针对（足够大的）一组已知测试向量来验证实现。这或多或少是单元测试。

如果实现不太复杂，也可以构造数学证明，证明该实现将给定的已知前置条件集转换为给定的已知后置条件集。这是确保算法/实现正确的最完整方法，尽管对于相当复杂的实现来说可能是最难做到的。

# c# - C# - 这段代码在做什么，它叫什么？

> ID：11591792
> 
> 赞同：2
> 
> 时间：2012-07-21T11:32:51.197
> 
> 标签：c#

我遇到了这段源代码，以前从未见过这样的 C# 代码。

有人可以告诉我它在做什么以及我可以在哪里阅读有关该技术的更多信息吗？

```
<%= Foo.Bar()
        .DoSomething(1)
        .DoSomething(2)
        .DoSomething(3)
        .DoSomethingElse("Apples")
%> 
```

（编辑：正如一些答案所提到的那样：我对报价代码的尖括号百分比部分的重要性不感兴趣，我只是将它们留在里面以表明我已经在内容中看到了代码ASP.Net 页面。如果这导致了任何混淆，我们深表歉意）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T11:34:42.160

这就是所谓的“流利”API。每个 API 返回一个对象（通常`this`），您可以在该对象上调用更多方法。

当不使用理解表达式时，这是 LINQ 的基础。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-21T11:38:18.747

[这是方法链](http://www.factorypattern.com/method-chaining/)的一个例子

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T11:35:53.707

这种语法在 asp.net 中用于直接在标记中做一些事情。

通常，您使用它来格式化字符串或类似的东西以将它们呈现到页面。

代码必须返回一个将放在 html 标记中的字符串！

**编辑**

抱歉，以为您在询问括号语法：P

# java - Facebook 的 Spring Social - 获取用户位置

> ID：11591797
> 
> 赞同：0
> 
> 时间：2012-07-21T11:33:18.450
> 
> 标签：java, spring, facebook, spring-social

我正在使用 spring social Facebook 连接到 facebook。连接效果很好。我正在尝试使用以下代码获取用户的位置：

```
FacebookProfile profile = facebook.userOperations().getUserProfile();
Reference rLocation = profile.getLocation();
Location location= facebook.fetchObject(rLocation.getId(), Location.class); 
```

但我得到的是一个空的位置对象（它没有任何细节）。我可以看到 rLocation 确实有一个名称（洛杉矶），但我还需要该国家/地区。

知道如何获取实际的 Location 对象吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T16:02:46.673

您只能获取作为参考对象一部分的位置详细信息，即此处的 rLocation。您可以获得位置城市和位置状态，但位置国家不是参考对象的一部分。

```
 Reference rLocation = profile.getLocation();
    String locationName = rLocation.getName(); 
    String[] cityAndState = locationName.split(",");
    String city = cityAndState[0].trim();
    String state = cityAndState[1].trim(); 
```

Location 对象基本上有助于获取用户在 facebook 中签入位置的详细信息。详情请参阅 spring social facebook API。

[http://static.springsource.org/spring-social-facebook/docs/1.0.x/api/org/springframework/social/facebook/api/Location.html](http://static.springsource.org/spring-social-facebook/docs/1.0.x/api/org/springframework/social/facebook/api/Location.html)

# ruby - ruby net/sftp 在将文件上传到远程时出现写入错误

> ID：11591801
> 
> 赞同：0
> 
> 时间：2012-07-21T11:33:26.860
> 
> 标签：ruby, linux

我正在尝试将文件从一台 pc 复制到本地 nas 服务器。以下内容有效，因此连接没有错误

```
 @connection = Net::SFTP.start(host, username, :password => serverpassword)
 @connection.dir.foreach("/media/MediaShare") do |entry|
    puts entry.longname
 end 
```

另一方面，这不起作用：

```
 local = '/home/ubuntu64/Videos/myfile.avi'
       remote = '/media/MediaShare/myfile.avi'

       @connection.upload!(local, remote)

    upload.rb:331:in `on_write': Net::SFTP::StatusException
    write/media/MediaShare/myfile.avi (4, "failure") (Net::SFTP::StatusException) 
```

现在，如果我创建并使用 1kb 大小的文件执行相同操作，它可以毫无问题地移动，这让我想到是否有文件限制？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:53:35.130

`Net::SFTP`据我所知，对文件大小没有任何限制。但是，如果您的服务器使用的是 nginx 或 apache，则可能会有限制（对于 nginx 默认为 50 MB），或者远程计算机上的 sftp 用户可能会有限制。

# xcode - Xcode - 从另一个的半视图

> ID：11591805
> 
> 赞同：0
> 
> 时间：2012-07-21T11:34:10.373
> 
> 标签：xcode, cocoa, view, uiview, storyboard

是否有一个与主视图重叠的视图，但不是全部？只有大约 80/90%？我这么问是因为设计师设计了这样的东西：

![在此处输入图像描述](../Images/8c797d80d217fbc2ecb0afe0d6e4782d.png)

如您所见，我有一个视图和后面的主视图。我该如何实施？什么是创建未来可重复使用的服装视图的最佳方式？

谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:40:33.753

您可以像这样更改`UIView`' 原点 x ：（例如左起 100px 空间）

```
view.frame = CGRectMake( 100, 0, view.frame.size.width, view.frame.size.height ); 
```

不要忘记 x 和 y 从左下角开始。

```
view.frame = CGRectMake( x, y, width, height); 
```

* * *

> 创建自定义视图的最佳方法是什么，将来可以重用？

从对象库添加`UIView`，然后将其子类化。

* * *

**更新**（做动画）：

```
[UIView animateWithDuration:0.5f animations:^{
        [viewOutlet setFrame:CGRectMake( 100, viewOutlet.frame.origin.y, viewOutlet.frame.size.width, viewOutlet.frame.size.height)];
    }]; 
```

# c# - 线程本地 和静态方法？

> ID：11591808
> 
> 赞同：13
> 
> 时间：2012-07-21T11:34:30.010
> 
> 标签：c#, .net, multithreading, .net-4.0, clr

使用类名访问静态字段，如下所示：

```
public class Me()
{ 
  public static int a=5;
} 
```

我可以使用 访问它`Me.a`，因此它附加到*类*。

但是当我看：

```
static ThreadLocal<int> _x = new ThreadLocal<int> (() => 3); 
```

它保证每个线程看到不同的`_x`.

我们不是只看到`static`每个*类*而不是每个*线程*吗？如何`ThreadLocal`设法给每个线程一个不同的副本`_x`？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-21T11:44:37.100

> 我们不是刚刚看到静态是每个类而不是每个线程吗？

是的。所以想象一个`ThreadLocal<T>`实例持有一个`static Dictionary<Thread, T>`查找当前线程的值的实例。

这可能不是它实际工作的方式，但它是对它如何可能的简单解释。你可以自己写。

所以你仍然只有 1 个 static `_x`。但`_x.Value`可以绑定到任何东西，比如当前线程。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-07-21T11:42:39.570

根据其说明符，该引用`_x`确实是每个类一个`static`。但是，只有引用将在所有线程之间共享，而不是其对象内的值。当您访问 时`_x.Value`，`ThreadLocal<T>`调用在当前线程上提供存储的系统特定代码，并读取或写入该线程特定存储。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-21T11:45:14.590

我的 C# 不是那么好，所以这里有一个相同效果的 C++ 答案：想象一个包含一个大数组的假设类：

```
class Foo
{
    int array[HUGE];
    int & get() { return array[this_thread_id()]; }
}: 
```

现在您可以拥有一个单一的全局（或类静态）对象：

```
Foo tlstorage; 
```

从您所说的任何地方访问它`tlstorage.get() = 12;`。但是，数据存储在“属于”当前线程的插槽中。整个存储是全局的，但每个线程只暴露一个切片*。*

其他语言（如 C 和 C++）对这个概念有本机支持，当您将全局或静态变量装饰为“线程局部”时，编译器会自动构建相当于相同效果的东西。也许在 C# 中，这是一个库功能，尽管它也可能映射到一些内在的东西。

# java - 安全地和区域敏感地解析数字

> ID：11591810
> 
> 赞同：7
> 
> 时间：2012-07-21T11:34:36.767
> 
> 标签：java, parsing, guava, apache-commons, apache-commons-lang

Java`NumberFormat`是 1) 非线程安全的（可以使用 a 来解决`ThreadLocal`）；2)当我知道字符串是否应该包含 int、long 或 double 并且想要如下 API 时，[不方便正确使用最简单的用例：](http://www.ibm.com/developerworks/java/library/j-numberformat/index.html)

```
int parseInt(String str, Locale locale) throws ParseException; 
int parseInt(String str, int defaultValue, Locale locale);
long parseLong(String str, Locale locale) throws ParseException;
long parseLong(String str, long defaultValue, Locale locale);
double parseDouble(String str, Locale locale) throws ParseException;
double parseDouble(String str, double defaultValue, Locale locale); 
```

当字符串未完全解析时引发异常。显然，这样的包装器很容易编写，但我在 Guava 或 Apache Commons Lang 中找不到。我只是错过了吗？还是有另一种或多或少的标准解决方案？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T13:15:40.813

我发现的一个选项是[Apache Commons Validator](http://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/AbstractNumberValidator.html)（仍然是非线程安全的）。

# javascript - jQuery这个连接

> ID：11591816
> 
> 赞同：0
> 
> 时间：2012-07-21T11:35:55.113
> 
> 标签：javascript, jquery, this, concatenation

首先，我是编码的初学者，所以请多多包涵。我在一个页面上有几个图像，形成一个导航栏，该导航栏将被动画化。我正在尝试根据鼠标悬停的元素移动元素。所有图像都有唯一的 id 并共享通用名称，即主页图标的名称是“home”和“homeShad”。这个想法是当你将鼠标悬停在家里时，homeShad 会移动，因为我有几个链接试图精简我的代码。这导致我来到这里以及我想要做什么

```
$.reset = function()  {
$(this + 'Shad').animate({
    left: '+=100'}, 300)

$('#home').mouseenter(function() {
    $.reset
    }) 
```

这不起作用所以我尝试了这个

```
$.reset = function()  {
$('#'+ $(this).attr("id")+" shad").animate({
    left: '+=100'}, 300) 
```

仍然没有喜悦。

```
('#home').click(function() {
    alert('#'+ this.id + 'shad')
}) 
```

这设法让警报显示“#homeShad”正是我试图为它制作动画时我正在寻找的东西，没有快乐

希望有人能提供帮助，如果我在这里发帖时犯了任何错误，我很抱歉

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:50:39.810

看看这个小提琴：http: [//jsfiddle.net/eVDe3/](http://jsfiddle.net/eVDe3/)

希望这能回答你的问题！您的代码应该是：

```
$('#home').click(function() {
    $('#'+this.id+'Shad').animate({
        left: '+=100'
    },300);
}); 
```

**编辑：**如果你想通过函数调用它，你必须通过`$(this).id`. 在此处检查此更新的小提琴：http: [//jsfiddle.net/eVDe3/1/](http://jsfiddle.net/eVDe3/1/) 这是相应的代码：

```
function reset(id) {
    $('#'+id+'Shad').animate({
        left: '+=100'
    },300);
}
$('#home').click(function() {
    reset($(this).attr('id'));
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T11:45:56.110

我看到您已经为图标设置了“homeShad”ID，但是您在提到的点使用了“shad”。我不知道你是否意识到这一点，但 id 和类是区分大小写的，所以你应该像下面这样写：

```
$.reset = function()  {
$('#'+ $(this).attr("id")+" Shad").animate({
    left: '+=100'}, 300)
}; 
```

# jquery - 设置高度：fancybox 中的“自动”

> ID：11591820
> 
> 赞同：0
> 
> 时间：2012-07-21T11:36:49.770
> 
> 标签：jquery, fancybox

我正在寻找一种方法来自动设置图像的高度，但是当我第一次单击图像时关闭自动缩放，它显示一半，但是当关闭并再次单击它时，它会真正显示图像。有什么办法可以自动设置高度吗？这是代码。

```
$("a#example2").fancybox({
                    'autoDimensions': false,
                    'autoScale': false,
                    'width': 650,
                    'height': 650,
                    'overlayShow': true,
                    'transitionIn': 'elastic',
                    'transitionOut': 'elastic'
                }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T18:53:21.330

对于图像，`width`并`height`没有效果（也没有`autoDimensions`）。图像显示为“自动缩放”以适合视口（`autoScale`设置为时`true`）或原始大小（`autoScale`设置为时`false`）。

如果图像的高度高于视口并`autoScale`设置为`false`，您可以向下滚动页面以查看完整图像。

在您的情况下，请确保将您的 fancybox 脚本包装在`ready()`方法中。

```
$(document).ready(function(){
 $("a#example2").fancybox({
  'autoScale': false,
  'overlayShow': true,
  'transitionIn': 'elastic',
  'transitionOut': 'elastic'
 });
}); 
```

`"type": "image"`如果您的链接看起来像`href="domain.com/path/image/?=4635"`或没有图像扩展名（jpg、png、gif），您也可以尝试添加选项

# android - 如何获取刚刚从相机捕获的图像路径

> ID：11591825
> 
> 赞同：7
> 
> 时间：2012-07-21T11:37:31.163
> 
> 标签：android, android-camera-intent

下面是我的代码，但在 onActivity 结果中没有给我图像路径

```
Uri selectedImageUri = data.getData();
                selectedImagePath = getPath(selectedImageUri);
                Log.w("jay", "Camera Image Path :" + selectedImagePath);

                Toast.makeText(MiscansOther_pannel.this, selectedImagePath,
                        Toast.LENGTH_LONG).show(); 
```

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-07-21T11:39:51.787

这对我有用...

**代码：**

```
Uri selectedImageUri = data.getData();
selectedImagePath = getRealPathFromURI(selectedImageUri); 
```

方法：`getRealPathFromURI()`

```
//----------------------------------------
    /**
     * This method is used to get real path of file from from uri
     * 
     * @param contentUri
     * @return String
     */
    //----------------------------------------
    public String getRealPathFromURI(Uri contentUri)
    {
        try
        {
            String[] proj = {MediaStore.Images.Media.DATA};
            Cursor cursor = managedQuery(contentUri, proj, null, null, null);
            int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);
            cursor.moveToFirst();
            return cursor.getString(column_index);
        }
        catch (Exception e)
        {
            return contentUri.getPath();
        }
    } 
```

**编辑：**

正如我在捕获图像后在某些设备中注意到的那样，其中的数据`onActivityResult()`为**null**，

因此，另一种方法是将特定图像文件名作为参数传递给您的 Intent 以捕获图像作为`putExtra`参数。

然后还将此图像 Uri 插入媒体存储中，现在使用此 Uri 供您进一步使用，

您可以通过以下方式检查图像是否被捕获`File.exist()`，

代码看起来像，

```
ContentValues values = new ContentValues();
values.put(MediaStore.Images.Media.TITLE, "Image File name");
Uri mCapturedImageURI = getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);
Intent intentPicture = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
intentPicture.putExtra(MediaStore.EXTRA_OUTPUT, mCapturedImageURI);
startActivityForResult(intentPicture,ACTION_TAKE_PICTURE); 
```

现在，您可以使用相同的方法从 Uri 获取文件路径，

`onActivityResult()`在这种情况下，它将在

```
selectedImagePath = getRealPathFromURI(mCapturedImageURI); // don't use data.getData() as it return null in some device instead  use mCapturedImageUR uri variable statically in your code, 
```

# android - 如何在android的xml文件中使用自定义视图

> ID：11591827
> 
> 赞同：0
> 
> 时间：2012-07-21T11:37:47.513
> 
> 标签：android, xml

这是我在其中使用自定义视图的 xml。该视图位于另一个名为 com.soft.MyView 的包中，扩展视图的类也被命名为 MyView 现在 m 正在强制关闭，logcat 中的错误是 07-21 16:26:29.936: ERROR/AndroidRuntime(19854)：引起：android.view.InflateException：二进制 XML 文件第 12 行：膨胀类 com.soft.MyView.MyView 时出错 ..请告诉我我错在哪里？

```
 <?xml version="1.0" encoding="utf-8"?>
<RelativeLayout android:id="@+id/RelativeLayout1" xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    >
<TextView android:id="@+id/TextView1" android:layout_alignParentLeft="true" android:layout_alignParentTop="true"  
    android:layout_width="fill_parent" 
    android:layout_height="wrap_content" 
    android:text="@string/hello"
    />
<com.soft.MyView.MyView android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_below="@+id/TextView1" android:layout_centerHorizontal="true" android:layout_marginTop="187dp" android:id="@+id/drawingImageView"/>
</RelativeLayout> 
```

这是我的班级 MyView

```
 public class MyView extends View{

class Pt{

    float x, y;

    Pt(float _x, float _y){

        x = _x;

        y = _y;

    }

}

Pt[] myPath = { new Pt(100, 100),

                new Pt(200, 200),

                new Pt(200, 500),

                new Pt(400, 500),

                new Pt(400, 200)

                };

    public MyView(Context context) {

        super(context);

        // TODO Auto-generated constructor stub

    }

    @Override

    protected void onDraw(Canvas canvas) {

        // TODO Auto-generated method stub

        super.onDraw(canvas);

        Paint paint = new Paint();

        paint.setColor(Color.WHITE);

        paint.setStrokeWidth(3);

        paint.setStyle(Paint.Style.STROKE);

        Path path = new Path();

        path.moveTo(myPath[0].x, myPath[0].y);

        for (int i = 1; i < myPath.length; i++){

            path.lineTo(myPath[i].x, myPath[i].y);

        }

        canvas.drawPath(path, paint);

    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:42:48.023

句法 `<yourcompletepackagename.YourCustomClassName ..../>`

```
<com.soft.MyView 
          ^^^^^^
android:layout_width="wrap_content" 
android:layout_height="wrap_content" 
android:layout_below="@+id/TextView1" 
android:layout_centerHorizontal="true" 
android:layout_marginTop="187dp" 
android:id="@+id/drawingImageView"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T12:21:00.753

*   您的问题的原因是您只使用了代码版本 CTOR：

    [公共视图（上下文上下文）](http://developer.android.com/reference/android/view/View.html#View%28android.content.Context,%20android.util.AttributeSet%29)

    来自android开发者指南的引用：

    > 从代码创建视图时使用的简单构造函数。

*   解决方案是添加自定义视图在布局膨胀过程中所需的所有可能的 CTOR，或者至少添加这个：

    [公共视图（上下文上下文，AttributeSet attrs）](http://developer.android.com/reference/android/view/View.html#View%28android.content.Context,%20android.util.AttributeSet%29)

    来自android开发者指南的引用：

    > 从 XML 扩充视图时调用的构造函数。这在从 XML 文件构建视图时调用，提供在 XML 文件中指定的属性。此版本使用默认样式 0，因此应用的唯一属性值是上下文主题和给定 AttributeSet 中的属性值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T12:24:46.853

您需要在 MyView 中覆盖不同的构造函数。而不是只有这个构造函数：

```
public MyView(Context context) {
   super(context);
} 
```

当你创建一个自定义视图时，你至少也需要覆盖这个：

```
public MyView(Context context, AttributeSet attrs) {
   super(context, attrs);
} 
```

# asp.net - XSLT 将一个 XML 文件转换为另一个并显示为 HTML

> ID：11591829
> 
> 赞同：0
> 
> 时间：2012-07-21T11:38:15.730
> 
> 标签：asp.net, html, xml, asp.net-mvc, xslt

我有以下两个 xml 文件：

```
<questionnaire>
<questionnaireid>1</questionnaire>
<questionnairename>sample questionnaire</questionnairename>
<questions>
    <question qid="1" >
        <qid>1</qid>
        <questiondesc>Q1) Enter some free text</questiondesc>
        <typeid>2</typeid>
        <required>1</required>
        <parentquestion></parentquestion>
    </question>             
    <question qid="2" >
        <qid>2</qid>    
        <questiondesc>Q2) Select any of the choices</questiondesc>  
        <typeid>6</typeid>
        <required>1</required>
        <parentquestion></parentquestion>
        <choices>
            <choice>Choice1</choice>
            <choice>Choice2</choice>
            <choice>Choice3</choice>
        </choices>
    </question>
</questions> 
```

```
<questionnaireresponse>
  <questionnaireid>1</questionnaire>
  <userid>1234</userid>
     <responses>
        <response qid="1">
          <answers>
            <answer>This is some text</answer>
          </answers>
        </response>
        <response qid="2">
          <answers>
             <answer>Choice 2</answer>
          </answers>
       </response>
    </responses>
 </questionnaireresponse> 
```

您如何使用 xslt 将此用户的响应添加到问题文件并显示为 HTML 表单，因此在上面的示例中，文本框将填充“这是一些文本”并且下拉菜单将选择“选择 2”？

一些实现上述内容的示例 xslt 对入门非常有帮助。理想情况下，我想在 asp.net 中执行此操作

# php - 从 JavaScript 调用 php 脚本

> ID：11591834
> 
> 赞同：1
> 
> 时间：2012-07-21T11:38:50.397
> 
> 标签：php, javascript, jquery, ajax

我整个上午都在试图弄清楚如何从我的 JavaScript 函数调用 PHP 脚本，然后返回一个值到输出。我不确定我是否可以只使用 JavaScript 或者是否还必须包含一些 Ajax？

这是主页

```
<script>
    $("document").ready(function (){       
        $("select").change(function(){
            var currentValue = parseInt($(this).find("option:selected").val());
            //Call Script script.php here
            $("#output").html(result);
        })
    }); 
</script>   
</head>
<body>
    <select name="select">
        <option value='1' >1</option>
        <option value='2'>2</option>
        <option value='3'>3</option>
    </select>
    <div id="output"><!---OUTPUT HERE----></div> 
```

这是我要调用的脚本（我已将其全部简化以使其更易于理解）

```
<?php
    $result = $currentValue + 1;
?> 
```

基本上我希望它读入`currentValue`变量并将结果变量输出回网页，再次输出。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-21T11:53:14.770

```
// Javascript:
$.ajax({
            type: "GET",
            url: "example.com/script.php?currentValue="+currentValue ,
            dataType: "json",
            statusCode: {
                200: function (result)
                {
                    $("#output").html(result.value);
                }
            }
        });

// PHP 
<?php 
$result = $_GET["currentValue"] + 1;
echo json_encode(array("value" => $result));

 ?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T11:52:22.573

```
$.post('<url>', {currentValue : currentValue}, function(){}, 'json'); 
```

**<url>**示例 ajax/phpScript

这里**ajax**是控制器，**phpScript**是该控制器中的方法

```
public function phpScript()
{
 $phpScript = $_POST['phpScript'];

//add your code 

} 
```

# gwt - 如何使用 Showcase 示例运行 GWT 的 Super Dev + 源地图

> ID：11591836
> 
> 赞同：0
> 
> 时间：2012-07-21T11:39:08.993
> 
> 标签：gwt, source-maps, gwt-super-dev-mode

我正在寻找一种使用 GWT 的 2.5 Showcase 项目运行 superdev 模式 + 源映射的方法。

我已按照以下说明操作： [https ://developers.google.com/web-toolkit/articles/superdevmode](https://developers.google.com/web-toolkit/articles/superdevmode) [http://blog.daniel-kurka.de/2012/07/mgwt-super-dev-mode.html](http://blog.daniel-kurka.de/2012/07/mgwt-super-dev-mode.html)

我在 Eclipse 上创建了一个使用 gwt-2.5.0.rc1 的新 Web 应用程序项目，并生成了一些示例代码（Hello server）。

我能够在端口 9876 上运行代码服务器并将他定向到我的 src 文件夹。导航到我的应用程序，按下“开发模式开启”小书签。重新编译测试项目，重新编译成功，但在eclipse中失败，出现以下异常：

```
JavaScriptHost.invokeNativeObject(String, Object, Class<?>[], Object[]) line: 91    
        Exception in thread "Thread-4" java.lang.NullPointerException 
```

深入研究异常，我得到

```
__gwt_getProperty([string: 'user.agent']): Property 'user.agent' of object  is not a function 
```

和

```
[ERROR] [test] Failed to load module 'test' from user agent 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_4) AppleWebKit/536.11 (KHTML, like Gecko) Chrome/20.0.1132.57 Safari/536.11' at localhost:50072 
```

我正在寻找有关如何在 Gwt 的 2.5 Showcase 示例上运行它的详细示例。

**更新**：当我在 Mail 示例上尝试过它时，我注意到我的代码服务器没有输出**Mail.html**文件。相反，这是代码服务器的输出：

```
mail (GWT Code Server)

Messages from the last time this module was compiled.

Output Files

(From the last successful compile.)

3FB1F1BBB0C7AED7089C2E77BAB03277.cache.js
clear.cache.gif
compilation-mappings.txt
mail.devmode.js
mail.nocache.js 
```

没有 Mail.html 文件。这可能有助于诊断。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T14:25:34.440

缺少的链接是在 *.gwt.xml 文件中添加用户代理。

```
<set-property name="user.agent" value="safari" /> 
```

# c# - c# 将图片从 URL 加载到图片框中

> ID：11591837
> 
> 赞同：1
> 
> 时间：2012-07-21T11:39:33.783
> 
> 标签：c#

我再次寻求您的帮助！我是 C# 的新手，所以请不要想知道我为什么要问这些问题。:)

我现在正面临一个奇怪的问题。我有这个代码：

```
private void pictureBox1_Click(object sender, EventArgs e)
    {
        pictureBox1.ImageLocation = "http://www.jmorganmarketing.com/wp-content/uploads/2010/11/image4.jpg";
    } 
```

**问题是只有**当我在图片框内单击时，图像才会显示（加载） 。

有人可以给我一个关于如何在不点击的情况下加载图像的例子吗？

提前感谢任何重播！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T11:53:38.777

将代码放在 page_load 事件中，而不是 picturebox1_click 事件中。

```
protected void Page_Load(object sender, EventArgs e) {
    pictureBox1.ImageLocation = "http://www.jmorganmarketing.com/wp-content/uploads/2010/11/image4.jpg"
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T11:55:36.333

`Click`您在图片框的事件内编写了代码。这意味着当它点击时做这项工作。您应该`pictureBox1.ImageLocation = "http://www.jmorganmarketing.com/wp-content/uploads/2010/11/image4.jpg";`在想要设置图像时放置。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T11:56:31.087

只需注册一个 Load EventHandler 并在那里设置图片框的 URL。

# android - 无法从安卓模拟器卸载应用程序

> ID：11591839
> 
> 赞同：1
> 
> 时间：2012-07-21T11:39:38.357
> 
> 标签：android, emulation, uninstallation

我无法从 android 模拟器卸载应用程序。(Windows xp - 操作系统)

我知道这个过程`(settings->applications->manage applications)`。但是，在我的 android 模拟器中，当我单击应用程序时，它不会进入我应该选择管理应用程序的下一个窗口。

我也尝试从 cmd 行作为 ->

```
adb uninstall app.apk 
```

我不确定 cmd 行命令是否正确。

谢谢，

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T11:42:00.130

您的卸载应用程序命令错误**您必须将**应用程序的包名称**而不是 apk 名称**作为`adb uninstall`命令中的参数传递

代替

```
adb uninstall app.apk 
```

尝试命令，

```
adb uninstall <package_name_of_your_application> 
```

**亚行指令：**

`adb uninstall [-k] <package>`-**从设备中删除此应用程序包**

**（'-k' 表示保留数据和缓存目录）**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-12T20:15:26.057

1.  转到模拟器并左键单击应用程序图标并按住几秒钟，直到出现一个带有应用程序图标的新屏幕。

2.  将其拖到“删除应用程序”垃圾桶图标上。

3.  等到屏幕显示“应用已卸载”。

4.  返回应用程序屏幕并检查它是否真的消失了。

# jquery - 检查 div 点击单选按钮

> ID：11591843
> 
> 赞同：14
> 
> 时间：2012-07-21T11:40:09.350
> 
> 标签：jquery, html, css

我希望单选按钮在我单击它的父 div 时选中/取消选中。单选按钮最初是隐藏的。

我试图通过环绕`<label>`div 来实现这一点。它工作，但`jQ.toggleClass`停止工作。

**HTML**

```
<div class="big">
This is a div 1
<input id="chb" type="radio" />
</div>

<br/>

<div class="big">
This is a div 2
<input id="chb" type="radio" />
</div> 
```

**CSS**

```
.big {

    width:100px;
    height:100px;
    background-color:red;
    cursor:pointer;

}

.hli {

    border:2px solid blue;

}

/*.chb{display:none;}*/ 
```

**江青**

```
$('.big').click(function() {
$('.hli').toggleClass('hli');   
$(this).toggleClass('hli');
}); 
```

> **JSFIDDLE：http: [//jsfiddle.net/QqVCu/2/](http://jsfiddle.net/QqVCu/2/)**

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-07-21T12:05:18.260

怎么样：http: [//jsfiddle.net/sgospodarets/QqVCu/5/](http://jsfiddle.net/sgospodarets/QqVCu/5/)？所有必要的 - 将输入包装在标签中。然后不需要JavaScipt。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-07-21T11:57:16.357

使用纯 HTML/CSS 解决方案：

```
.isHidden {
  display: none; /* hide radio buttons */
}

.label {
  display: inline-block;
  background-color: red;
  width: 120px;
  height: 120px;
  padding: 5px 10px;
}

.radio:checked + .label {   /* target next sibling (+) label */
  background-color: blue;
}
```

```
<input id="radio_1" class="radio isHidden" name="radio_a" type="radio">
<label for="radio_1" class="label">1</label>

<input id="radio_2" class="radio isHidden" name="radio_a" type="radio">
<label for="radio_2" class="label">2</label>
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-21T11:49:19.417

告诉我，如果你想要这个：http: [//jsfiddle.net/QqVCu/6/](http://jsfiddle.net/QqVCu/6/)

**jQuery**（更新）

```
$('.big').click(function() {
    if($(this).find('input[type="radio"]').is(':checked')){
       $(this).find('input[type="radio"]').prop('checked', false);
    }
    else{
       $(this).find('input[type="radio"]').prop('checked', true);
    }
    $('.hli').toggleClass('hli');    
    $(this).toggleClass('hli');
}); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-07-21T11:55:30.497

您可以使用`prop()`方法，尝试以下方法：

```
$('.big').click(function() {
  $('.hli').removeClass('hli');
  $(this).addClass('hli').find('input').prop('checked', true)    
}); 
```

[演示](http://jsfiddle.net/QqVCu/4/)

*请注意，ID 必须是唯一的，并且为了正常工作，单选按钮应具有名称属性：*

```
<input id="chb1" type="radio" name="radioGroup"/>
<input id="chb2" type="radio" name="radioGroup"/> 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-07-21T11:53:23.320

试试这个：http: [//jsfiddle.net/ZuXvM/](http://jsfiddle.net/ZuXvM/)

要选中单个单选按钮，您应该按名称对它们进行分组（为属于该组的所有按钮提供相同的名称）

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-05T22:22:46.570

试试这个：

[http://jsfiddle.net/QqVCu/50/](http://jsfiddle.net/QqVCu/50/)

为了绕过 jQuery 事件冒泡，我使用常规 JS 来触发 click()。

```
$('.big').click(function () {
    $('.hli').toggleClass('hli');
    $(this).toggleClass('hli');
    var Id = $(this).find('input[type=radio]').attr('id');
    document.getElementById(Id).click();
}); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-04-03T10:50:57.987

如果你想使用 JQuery，你应该这样做

```
$('.big').on({
    click: function () {

      $('.hli').toggleClass('hli');
      $(this).toggleClass('hli');

    }
}, 'input[name="chb"]'); 
```

# css - 菜单 CSS3 中的过渡

> ID：11591847
> 
> 赞同：4
> 
> 时间：2012-07-21T11:40:34.910
> 
> 标签：css, web, css-transitions

我想为我的网站做一个这样的菜单，每个部分都有过渡。我希望红色条沿着我单击其他部分移动。

[http://piccsy.com/investors/](http://piccsy.com/investors/)

最好的方法是什么？

我也尝试过自己做，但它不起作用。

[http://alpha.venasanxenxo.com/piccsy](http://alpha.venasanxenxo.com/piccsy)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T13:04:22.530

你想**只**用CSS3 来达到同样的效果吗？该菜单使用 JavaScript。没有 CSS 方法（但......它[应该带有 CSS4](http://dev.w3.org/csswg/selectors4/)）通过单击不是其兄弟元素或父元素的元素来更改元素的 CSS。

但是，可以*为栏*实现相同的效果（为了平滑滚动，您需要使用 JavaScript）。但不是那种 HTML 结构。

我尝试了几件事：

**1.**这个[http://dabblet.com/gist/3155730](http://dabblet.com/gist/3155730)是用链接做的，但是*当你点击页面上的其他地方（不是链接上）时，效果就会消失*。

在这种情况下，想法是在下面的那个元素上有一个渐变，并在单击链接时改变它的大小。请注意 HTML 是不同的，因此下面的元素可以是链接的兄弟。

```
<div class="ui-menu">
    <a class="goto-frame" href="#" tabindex="1">Welcome
        </a><a class="goto-frame" href="#" tabindex="1">Problem
        </a><a class="goto-frame" href="#solution" tabindex="1">Solution
        </a><a class="goto-frame" href="#team" tabindex="1">Team
        </a><a class="goto-frame" href="#traction" tabindex="1">Traction
    </a><a class="goto-frame" href="#product" tabindex="1">Product
        </a><a class="goto-frame" href="#contact" tabindex="1">Contact</a>
    <div class="ui-menu-bottom-line"></div>
</div> 
```

HTML 的格式确实有一个目的：我已经创建了链接，因此在结束标记和下一个开始标记`inline-block`之间不能有任何类型的空白。`</a>``<a class="goto-frame">`

CSS：

```
.ui-menu {
    width: 37em;
    padding: 0;
    text-align: center;
}
.ui-menu a {
    width: 4em;
    margin: 0;
    padding: .1em .5em;
    display: inline-block;
    font: 17px "Arial Narrow", sans-serif;
    text-align: center;
    text-decoration: none;
}
.ui-menu a:focus {
    outline: none;
}
.ui-menu-bottom-line {
    width: 35em;
    height: 1px;
    margin: 1em auto;
    background: #d7d7d7
        linear-gradient(left, #d82126 50%, transparent 50%) no-repeat;
    background-size: 5em;
    transition: 1s; 
}
.ui-menu a:nth-child(2):focus ~ .ui-menu-bottom-line,
.ui-menu a:nth-child(2):active ~ .ui-menu-bottom-line {
    background-size: 15em;
}
.ui-menu a:nth-child(3):focus ~ .ui-menu-bottom-line,
.ui-menu a:nth-child(3):active ~ .ui-menu-bottom-line {
    background-size: 25em;
}
/* and so on, I keep adding 10em with every new menu item */ 
```

在 Chrome、Firefox、Safari、Opera、IE10 中工作，因为渐变在 IE9 和更早版本中不起作用（转换也不行）。

可以通过在 IE9 和 8 及更早版本中使用伪元素`.ui-menu-bottom-line`，设置其`background`深红色，然后`width`在单击时更改其（而不是更改背景渐变大小）。

* * *

**2.**这个[http://dabblet.com/gist/3155740](http://dabblet.com/gist/3155740)即使在释放鼠标按钮后也能按要求工作，但它*不使用链接*。

HTML

```
<div class="ui-menu">
    <input type="radio" name="mi" id="welcome">
    <label class="goto-frame" for="welcome">Welcome</label>
    <input type="radio" name="mi" id="problem">
    <label class="goto-frame" for="problem">Problem</label>
    <input type="radio" name="mi" id="solution">
    <label class="goto-frame" for="solution">Solution</label>
    <input type="radio" name="mi" id="team">
    <label class="goto-frame" for="team">Team</label>
    <input type="radio" name="mi" id="traction">
    <label class="goto-frame" for="traction">Traction</label>
    <input type="radio" name="mi" id="product">
    <label class="goto-frame" for="product">Product</label>
    <input type="radio" name="mi" id="contact">
    <label class="goto-frame" for="contact">Contact</label>
    <div class="ui-menu-bottom-line"></div>
</div> 
```

CSS - 同样的想法，只是这次我没有点击链接 - 我正在检查单选按钮

```
.ui-menu {
    width: 37em;
    padding: 0;
    font: 17px "Arial Narrow", sans-serif;
    text-align: center;
}
.ui-menu input[type=radio] { display: none; }
.ui-menu label {
    width: 4em;
    margin: 0;
    padding: .1em .5em;
    display: inline-block;
    text-align: center;
}
.ui-menu-bottom-line {
    width: 35em;
    height: 1px;
    margin: 1em auto;
    background: #d7d7d7
        linear-gradient(left, #d82126 50%, transparent 50%) no-repeat;
    background-size: 5em;
    transition: 1s;
}
.ui-menu #welcome:checked ~ .ui-menu-bottom-line {
    background-size: 5em;
}
.ui-menu #problem:checked ~ .ui-menu-bottom-line {
    background-size: 15em;
}
/* and so on, add 10em to the bg size for each new menu item */ 
```

# jquery - jQuery 以编程方式影响 Div

> ID：11591848
> 
> 赞同：-1
> 
> 时间：2012-07-21T11:40:36.447
> 
> 标签：jquery, variables, html, show

我正在为客户制作购物车。我们在产品图片旁边有向上和向下箭头来选择您要购买的商品数量。我也试图让它自动更新购物车。因此，任何价值超过 1 的商品都会自动出现在购物车中。

我有适用于每个产品的向上和向下按钮，但是当我为 If 语句添加代码时，它会破坏一切。我也不确定我是否正确执行此操作，因为我需要为每个产品提供一个 If 语句，并且商店中可能有 70 种产品。

有没有办法在 If 语句中使用变量来获取匹配的购物车 div 并使其显示？

这是一个 jsfiddle [http://jsfiddle.net/richcoy/7XnXF/](http://jsfiddle.net/richcoy/7XnXF/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T13:09:43.427

I think this is what you're looking for. You can use [eq()](http://api.jquery.com/eq/) to get a certain index and [index](http://api.jquery.com/index/) to get the current index. Since you structured your `.cart_product` div according to your other `div` you can just get the current index of the clicked `div` and use that to show/hide the corresponding `div`

```
$(document).ready(function() {
    var num;
    $('.up').click(function() {
        num = parseInt($(this).siblings('.product').text());
        $(this).prevAll('.product').text(num + 1);        
        $('.cart_product').eq($(this).closest('.product_box').index()).show();// <-- on up click you will only ever show a product

    });

    $('.down').click(function() {
        num = parseInt($(this).siblings('.product').text());
        if (num > 0) {
        $(this).siblings('.product').text(num - 1);
        }

        if (parseInt($(this).siblings('.product').text()) == 0) { <-- check if current val in div is == 0
            $('.cart_product').eq($(this).closest('.product_box').index()).hide(); <-- if it is the hide the .cart_product div with the same index as the current "div"
        } else {
            $('.cart_product').eq($(this).closest('.product_box').index()).show();
        }
    });
});​ 
```

[http://jsfiddle.net/7XnXF/12/](http://jsfiddle.net/7XnXF/12/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T11:44:51.553

试试这个代码：

```
 $(document).ready(function() {
    var num;
    $('.up').click(function() {
          num = parseInt($(this).prevAll('.product').text());
          $(this).prevAll('.product').text(num+1);
        });

    $('.down').click(function() {
          num = parseInt($(this).prevAll('.product').text());
          if(num>0){
          $(this).prevAll('.product').text(num-1);
          };
        });

        // Uncommenting these breaks everything
        if ($('#product_item_one').nextAll('.product').text(num > 0)){
            $('#cart_item_one').show();
        };

        if ($('#product_item_two').nextAll('.product').text(num > 0)){
            $('#cart_item_two').show();
        };

        if ($('#product_item_one').nextAll('.product').text(num <= 0)){
            $('#cart_item_one').hide();
        };

        if ($('#product_item_two').nextAll('.product').text(num <= 0)){
            $('#cart_item_two').hide();
        };

});​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T13:00:16.347

试试这个代码；

```
 $(document).ready(function() {
    var num;
     var $flag = 0;
     $('#cart_container').hide();
    $('.up').click(function() {
        $flag++;
          num = parseInt($(this).prevAll('.product').text());
          $(this).prevAll('.product').text(num+1);
          $('#cart_container').show();
        });

    $('.down').click(function() {
        $flag--;
          num = parseInt($(this).prevAll('.product').text());
          if(num>0){
          $(this).prevAll('.product').text(num-1);
          };
        if($flag < 1){
        $('#cart_container').hide();
        }
        });

        // Uncommenting these breaks everything
        if ($('#product_item_one').nextAll('.product').text(num > 0)){
            $('#cart_item_one').show();
        };

        if ($('#product_item_two').nextAll('.product').text(num > 0)){
            $('#cart_item_two').show();
        };

}); 
```

**[这](http://jsfiddle.net/7XnXF/10/)**是小提琴。

希望这可以帮助...`:)`

# image - 非平面投影软件二维码

> ID：11591850
> 
> 赞同：1
> 
> 时间：2012-07-21T11:40:49.740
> 
> 标签：image, image-processing

我需要在一瓶酒上投影一个二维码，所以我需要对打印的二维码进行变形失真，以便从相机中看到二维码完全正方形。有没有软件可以做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-22T01:10:19.170

问题是模棱两可的：您是否需要 (a) 沿水平方向扩展 QR 码，以便从相机中看到它看起来是方形的，或者 (b) 挤压它，使其看起来好像粘在瓶子上?

(b) 最简单的方法可能是使用任何 3D 建模包（例如 Blender、3D Studio Max、Maya 等），构建圆柱体并将 QR 码的图像纹理映射到其上。

或者您可以在 Matlab 中同时执行 (a) 和 (b)，这允许您通过 2d->2d 函数任意重新映射任何矩阵（在这种情况下，它实际上是 1d，因为沿垂直方向没有失真）。二维码上的畸变坐标 s 与其正交投影 x 相关为 (x/R) = sin(s/R)，其中 R 为圆柱体的半径。

# php - PHP & HTML：如何循环浏览带有图像的目录？

> ID：11591851
> 
> 赞同：6
> 
> 时间：2012-07-21T11:40:50.587
> 
> 标签：php, html, directory

像这样非常简单的文件夹结构……</p>

*   索引.php
*   图像
    *   一些图像1.jpg
    *   一些图像2.png
    *   一些图像3.jpg

我想知道使用 php 读取这个 img 文件夹并创建一个微型站点有多困难，该微型站点通过“prev”和“next”链接循环浏览这些图像。

所以我不想手动指定图像的文件名是什么。我只想将图像添加到文件夹中，然后运行一个 php 脚本并创建这样的导航

```
<a href="nextimage-link" class="next">Next Image</a>
<a href="previmage-link" class="prev">Previous Image</a> 
```

因此，每当我单击“下一张图片”链接时，它都会更新网站并显示下一张图片。

建起来那么复杂吗？有什么想法吗？提前感谢您的提示和帮助。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-21T11:56:26.170

考虑以下内容，我假设**img**文件夹位于**/var/www**文件夹中：

```
$dir = "/var/www/img/*.jpg";
//get the list of all files with .jpg extension in the directory and safe it in an array named $images
$images = glob( $dir );

//extract only the name of the file without the extension and save in an array named $find
foreach( $images as $image ):
    echo "<img src='" . $image . "' />";
endforeach; 
```

为了获得更好的 UI，您可以创建图像路径数组并将它们存储在 JavaScript 数组中。然后使用 Previous 和 Next 按钮更改图像数组的索引并在单个**img**标签中显示当前。

# java - 向小程序添加主类

> ID：11591852
> 
> 赞同：1
> 
> 时间：2012-07-21T11:40:59.963
> 
> 标签：java, swing, user-interface, applet, awt

我向 Java 小程序添加了一个 main 方法，以便将其作为应用程序运行，但它需要我初始化包含 main 的类中的所有方法。我设法初始化了该`init`方法，但未能初始化所有带有参数的方法。

有人知道如何进行吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T11:50:39.243

这是来自工作应用程序的代码。注意小程序方法是如何被调用的：

```
 JFrame frame = new JFrame();
    frame.setSize(400, 300);

    final Applet applet = new MyCustomApplet();

    frame.getContentPane().add(applet);
    frame.addWindowListener(new WindowAdapter() {
        public void windowClosing(WindowEvent we) {
            applet.stop();
            applet.destroy();
            System.exit(0);
        }
    });

    frame.setVisible(true);
    applet.init();
    applet.start(); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-21T12:36:27.593

启动一些小程序不仅仅是调用`start()`and`init()`方法。许多小程序需要有效的`AppletContext`和`AppletStub`才能正常工作。

最好的策略是将 GUI 分解为一个单独的类，根据需要添加到小程序或框架中。这称为“混合应用程序/小程序”。 [Subway](https://sites.google.com/site/drjohnbmatthews/subway)是混合的一个很好的例子，尽管它不接受参数。对于参数，在 GUI 类的构造函数中接受它们，或者为它们包含 get/set 方法。小程序将用于`getParam(String)`确定要使用的值，而应用程序将从 from 获取`String[]`参数`main(String[] args)`。

# javascript - 在 JavaScript 中将日期格式化为 MM/dd/yyyy

> ID：11591854
> 
> 赞同：174
> 
> 时间：2012-07-21T11:41:07.247
> 
> 标签：javascript, jquery

我有这样的日期格式`'2010-10-11T00:00:00+05:30'`。我必须格式化为`MM/dd/yyyy`使用 JavaScript 或 jQuery 。任何人都可以帮助我做同样的事情。

* * *

## 回答 #1

> 赞同：295
> 
> 时间：2012-07-21T11:48:02.560

尝试这个; 请记住，JavaScript 月份是 0 索引的，而天是 1 索引的。

```
var date = new Date('2010-10-11T00:00:00+05:30');
    alert(((date.getMonth() > 8) ? (date.getMonth() + 1) : ('0' + (date.getMonth() + 1))) + '/' + ((date.getDate() > 9) ? date.getDate() : ('0' + date.getDate())) + '/' + date.getFullYear());
```

* * *

## 回答 #2

> 赞同：182
> 
> 时间：2013-04-02T12:59:18.703

所有其他答案都不能完全解决问题。他们打印格式为 mm/dd/yyyy 的日期，但问题是关于 MM/dd/yyyy。注意到细微的差别了吗？MM 表示如果月份是一位数，则前导零必须填充月份，因此它始终是两位数。

即 mm/dd 是 3/31，而 MM/dd 是 03/31。

我创建了一个简单的函数来实现这一点。请注意，相同的填充不仅适用于月份，还适用于月份中的某一天，这实际上使得这个 MM/DD/yyyy：

```
function getFormattedDate(date) {
  var year = date.getFullYear();

  var month = (1 + date.getMonth()).toString();
  month = month.length > 1 ? month : '0' + month;

  var day = date.getDate().toString();
  day = day.length > 1 ? day : '0' + day;

  return month + '/' + day + '/' + year;
}
```

* * *

*使用 String.padStart() 对 ES2017 进行更新，除 IE 外，所有主流浏览器都支持。*

```
function getFormattedDate(date) {
    let year = date.getFullYear();
    let month = (1 + date.getMonth()).toString().padStart(2, '0');
    let day = date.getDate().toString().padStart(2, '0');

    return month + '/' + day + '/' + year;
}
```

* * *

## 回答 #3

> 赞同：52
> 
> 时间：2012-07-21T12:15:38.010

## 符合 ISO 标准*的日期字符串*

如果***dateString***[符合 RFC282](https://www.rfc-editor.org/rfc/rfc2822#page-14)和ISO8601 [：](https://www.ecma-international.org/ecma-262/11.0/#sec-date.parse)将
字符串传递给[Date Constructor](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/Date)：

```
const dateString = "2020-10-30T12:52:27+05:30"; // ISO8601 compliant dateString
const D = new Date(dateString);                 // {object Date} 
```

从这里我们可以使用[Date Getters](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)提取所需的值：

```
D.getMonth() + 1  // 10 (PS: +1 since Month is 0-based)
D.getDate()       // 30
D.getFullYear()   // 2020 
```

* * *

## 非标准日期字符串

如果是非标准日期字符串：
将字符串解构为已知部分，然后将变量传递给[日期构造函数](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/Date)：

> **新日期**（*年，月索引[，日[，小时[，分钟[，秒[，毫秒]]]]]*）

```
const dateString = "30/10/2020 12:52:27";
const [d, M, y, h, m, s] = dateString.match(/\d+/g);

// PS: M-1 since Month is 0-based
const D = new Date(y, M-1, d, h, m, s);  // {object Date}

D.getMonth() + 1  // 10 (PS: +1 since Month is 0-based)
D.getDate()       // 30
D.getFullYear()   // 2020 
```

# php - 如何在 drupal 模块中创建表单？

> ID：11591857
> 
> 赞同：5
> 
> 时间：2012-07-21T11:41:49.770
> 
> 标签：php, drupal, drupal-7, drupal-modules, drupal-fapi

我在网上搜索一个教程来创建一个显示在页面上的表单，当我们使用模块和块显示内容时，我们是否应该在模块内显示一个表单？由于我是drupal的新手，所以我对drupal形式一无所知。我下载并安装了示例表单模块。但我不知道这个表格会在哪里显示。我从这里下载了它 [http://drupal.org/node/1121110](http://drupal.org/node/1121110)

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-22T08:13:51.327

即使您是 drupal 的新手，也没有那么复杂。在这个例子中我所要做的就是使用[hook_menu () 并从](http://api.drupal.org/api/drupal/modules!system!system.api.php/function/hook_menu/7)[drupal 表单 api 参考](http://api.drupal.org/api/drupal/developer!topics!forms_api_reference.html/7)中了解可用的表单项。

下面是您尝试执行的操作的示例。

```
/**
 * Implementation of hook_menu()
 */
function mymodule_menu()
{
    $items = array();

    $items['my-custom-page-path'] = array(
        'title'             => 'My Page Title',
        'description'       => t(''),
        'access callback'   => 'user_access',
        'access arguments'  => array('access content'),
        'page callback'     => 'drupal_get_form',
        'page arguments'    => array('mymodule_form_id'),
    );

    return $items;
}

function mymodule_form_id($form, &$form_state)
{
    $form = array();

    $form['my_textfield'] = array(
        '#type'         => 'textfield',
        '#title'        => t('Text Field'),
        '#description'  => t(''),
        '#weight'       => 20,
        '#required'     => TRUE,
        '#size'         => 5,
        '#maxlength'    => 5,
    );

    $form['submit'] = array(
        '#type'         => 'submit',
        '#value'        => t('Save settings'),
        '#weight'       => 10000,
    );

    return $form;
}

/**
* Form validation callback
*/
function mymodule_form_id_validate($form, &$form_state)
{
    // notice adding "_validate" to the form id
}

/**
* Form submission callback
*/
function mymodule_form_id_submit($form, &$form_state)
{
    // notice adding "_submit" to the form id
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-06-26T06:12:23.367

```
#Here is the simple code for creating form in module#

===============================================================

/*..firstly create a menu in module by copying this code..*/
function form_test_menu() {
    $items['formtest'] = array(
                        'title' => 'Form Test',
                        'page callback' => 'drupal_get_form',
                        'page arguments' => array('form_test_form'),
                        'access callback' => TRUE,
                        );
    return $items;
}

/*...Now create fields like below...*/
function form_test_form($form,&$form_submit) {
    $form['firstname'] = array(
                            '#title' => t('Firstname'),
                            '#type' => 'textfield',
                            '#required' => TRUE,
                            );
    $form['lastname'] = array(
                            '#title' => t('Lastname'),
                            '#type' => 'textfield',
                            );
    $form['submit'] = array(
                        '#value' => 'Submit',
                        '#type' => 'submit',
                        );
    return $form;
} 
```

# python - TypeError：对象不可调用

> ID：11591858
> 
> 赞同：0
> 
> 时间：2012-07-21T11:41:52.660
> 
> 标签：python, object, closures

我有一些处理参数的函数，例如：

```
def createDataModel(objectModel):
    ......
def createLayoutModel(objectModel):
    ......
def createWidgetModel(objectModel):
    ...... 
```

我有一些 xml 作为输入文件，具有特定的根标记名称，例如（dataModel、layout、page），然后我将它们转换为对象模型。我有一张地图，它决定了哪个函数应该处理对象模型

```
xsdPathsMap = {
    "dataModel": createDataModelFromXml,
    "layout": createLayoutModel,
    "page": createWidgetModelFromXml
} 
```

然后我从 xml 创建对象模型并为它们分配应该处理它们的函数，

```
result = xsdPathsMap[xmlRootName]
# a is objectified xml
a.modelerFunction = result 
```

当我想将对象传递给它的闭包方法时，我得到了这个异常：

```
a.modelerFunction(a)

TypeError: object is not callable 
```

问题是什么？

这是我的追溯：

```
Traceback (most recent call last):
  File "model/xmlTranporter.py", line 204, in <module>
    a = main("main/schema")
  File "model/xmlTranporter.py", line 200, in main
    a(obj)
TypeError: 'lxml.objectify.StringElement' object is not callable 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T12:01:13.147

我不确定你为什么要做这个任务：

```
result = xsdPathsMap[xmlRootName]
a.modelerFunction = result # this is just kind of weird 
```

要么将建模器函数添加到类中，`a`然后将其作为方法调用：

```
a.createModel() 
```

或者只是将 a 传递给建模函数：

```
result(a) 
```

但是，这假设您从地图中检索的建模函数实际上是函数而不是类。

如果你想定义可调用的类当然没问题，但你需要定义 `__call__`协议方法：

```
class MyModelingFunction(object):
    ...

    def __call__(self, *args, **kwargs):
        """do something when I'm called""" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T11:45:22.183

您收到的错误消息意味着在 中`a.modelerFunction(a)`，您认为您有一个功能，但您没有。 `a.modelerFunction`是用户定义的对象，而不是函数。如果您发布更多代码，我们可以找出原因。

# php - PHP中rtrim函数的意外返回

> ID：11591860
> 
> 赞同：1
> 
> 时间：2012-07-21T11:42:12.110
> 
> 标签：php, return

当我使用：

```
rtrim('HeaderController', 'Controller'); 
```

我期望这将返回 Header 因为 HeaderController - Controller = Header 但这会返回 'Head'，为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T11:44:37.647

`rtrim`期望删除一个字符列表，而不是子字符串。所以`rtrim`删除了`er`in `Header`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T11:58:03.737

如果要删除“控制器”子字符串，可以这样做：

```
$name = 'HeaderController';
$shortName = str_replace('Controller', '', $name); 
```

确保只替换字符串末尾的“Controller”，您需要一个正则表达式（这有点慢）

```
$name = 'HeaderController';
$shortName = preg_replace('/Controller$/', '', $name); 
```

$-sign 标记字符串的结尾

# java - 无法通过 java 清空 linux 缓存

> ID：11591866
> 
> 赞同：3
> 
> 时间：2012-07-21T11:42:45.470
> 
> 标签：java, cache-control

好的，这是我的代码：

```
String[] commands = {"sync && echo 3 > /proc/sys/vm/drop_caches"};

Process pr = Runtime.getRuntime().exec(commands);
pr.waitFor(); 
```

我得到：

```
Exception in thread "main" java.io.IOException: Cannot run program "sync && echo 3 > /proc/sys/vm/drop_caches": error=2, No such file or directory
    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)
    at java.lang.Runtime.exec(Runtime.java:615)
    at java.lang.Runtime.exec(Runtime.java:483)
    at MyTest.main(MyTest.java:896)
Caused by: java.io.IOException: error=2, No such file or directory
    at java.lang.UNIXProcess.forkAndExec(Native Method)
    at java.lang.UNIXProcess.<init>(UNIXProcess.java:135)
    at java.lang.ProcessImpl.start(ProcessImpl.java:130)
    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1021) 
```

我在命令行复制粘贴相同的字符串，我认为工作正常。

问题是什么？我正在使用 Ubuntu 11.10。谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T11:48:56.037

好吧，您的命令正在使用 shell 的功能（&& 和 > 重定向），因此您需要在 shell 中运行该命令。即你需要运行

```
/bin/sh -c "sync && echo 3 > /proc/sys/vm/drop_caches" 
```

您可以通过将其用作命令来执行此操作

```
String[] commands = {"/bin/sh", "-c" , "sync && echo 3 > /proc/sys/vm/drop_caches"}; 
```

# javascript - 注入函数中的 Javascript 范围

> ID：11591872
> 
> 赞同：6
> 
> 时间：2012-07-21T11:43:12.413
> 
> 标签：javascript, scope

```
(function(){
    var privateSomething = "Boom!";
    var fn = function(){}
    fn.addFunc = function(obj) {
        alert('Yeah i can do this: '+privateSomething);
        for(var i in obj) fn[i] = obj[i];
    }
    window.fn=fn;
})();

fn.addFunc({
    whereAmI:function()
    {
        alert('Nope I\'ll get an error here: '+privateSomething);
    }
});

fn.whereAmI(); 
```

为什么 whereAmI() 不能访问 privateSomething？以及如何将 whereAmI() 放置在与 addFunc() 相同的上下文中？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T11:47:00.220

Javascript 是词法范围的：名称指的是基于名称定义位置的变量，而不是使用名称的位置。`privateSomething`在 中作为本地查找`whereAmI`，然后在全局范围内查找。在这两个地方都找不到。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T11:48:09.770

JavaScript 有词法作用域，而不是动态作用域（除了`this`）。请参阅[http://en.wikipedia.org/wiki/Scope_(computer_science)#Lexical_scoping_and_dynamic_scoping](http://en.wikipedia.org/wiki/Scope_(computer_science)#Lexical_scoping_and_dynamic_scoping)

# performance - Lisp：测量函数的性能

> ID：11591875
> 
> 赞同：3
> 
> 时间：2012-07-21T11:43:43.857
> 
> 标签：performance, lisp, common-lisp, sbcl, factorial

到目前为止，在测试编写相同函数的不同方法的速度时，我一直在使用该`time`函数，通常它可以很好地指示不同函数的相对速度（因为它们通常相差大约 100k 个周期）。

然而，在试图为一个`factorial`函数找到最快的方法时，`time`一直缺乏。这些方法不仅看起来只相差 10k-30k 周期，而且它们的总时间也相差了大约一半（我猜这是预期的）。

三个`factorial`功能：

```
(defun factorial-recusion (n)   ; 1st      
  (if (equal n 1) 
      1
      (* n (factorial (- n 1)))))

(defun factorial-loop (n)   ; 2nd
  (let ((solution 1))
    (loop for x from n downto 2
       do (setf solution (* solution x))
       finally (return solution))))

(defun factorial-do (n)     ; 3rd
  (let ((solution 1))
    (do ((x n (1- x)))
    ((< x 2) (return solution))
      (setf solution (* solution x))))) 
```

所以，我想我有两个问题：

1.) 哪种方法`factorial`应该是最快的（如果有的话），为什么？

2.）如果我要通过一般方法为自己找出更快的功能，那么最好的方法是什么（出于某种原因，我认为 LOC 是一个不好的速度指标）？或许有办法查看 Lisp 字节码的反汇编？或者也许有更好、更严格的方法？

我目前在 Ubuntu 12.04 x86-64 上运行 Linux 3.2.0-26、SBCL。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-21T12:26:12.727

SBCL 不会编译为“字节码”。它编译为本机机器码。

您可以使用`DISASSEMBLE`.

一旦数字进入 bignum 范围，阶乘函数的速度将由 bignum 算术乘法决定。

为了更清楚：您使用哪种迭代构造，DO 或 LOOP，并不重要。大部分时间都花在乘以 bignums 上。递归版本也没有太大区别。

这是一个典型的基准问题：许多简单的数值基准由一些算术运算的运行时间（如 bignums 的乘法）支配。它们不会测量通用语言操作（如各种类型的控制流）的速度差异。

带有快速 bignum 库的慢速 Lisp 可能比使用 Lisp 编写的 Bignum 代码的优化 Lisp 编译器更快。

# php - 用于 php 内容管理的文本编辑器

> ID：11591881
> 
> 赞同：-1
> 
> 时间：2012-07-21T11:45:10.423
> 
> 标签：php, text, editor, format

我需要使用编辑器在管理面板中编辑我的网站内容。我可以通过简单地使用 textfields 和 textarea 来做到这一点，但我需要以文本格式保存我的内容，例如，我必须能够更改颜色、文本大小等。最好的方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:49:45.490

有许多免费的编辑器。我用的是[CK](http://ckeditor.com/download)编辑器。可以在[这里找到演示](http://ckeditor.com/demo)

# php - 页面被请求两次

> ID：11591885
> 
> 赞同：0
> 
> 时间：2012-07-21T11:45:30.737
> 
> 标签：php, javascript, html, codeigniter

我的 CodeIgniter 网站有问题。我注意到每次访问页面时，浏览器都会请求该页面两次（也在 Firefox 和 Chrome 以及不同的计算机上尝试过）。这是 Firebug 的屏幕截图：![在此处输入图像描述](../Images/692ab52a12a78fbf5d847cea2b015876.png)

正如您在图像中看到的，该页面`invite`被请求了两次。我查看了 Chrome 开发人员工具，它说第二个请求是从文件的第 4 行发起的`jquery-1.7.1.min.js`。此外，在 Chrome 开发者工具中，第二个请求的大小与第一个请求相同。然而，响应实际上是空的（与 Firebug 相同）。不过，一个简单的 Hello World PHP 页面仍然可以正常工作。

这个问题的原因可能是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T11:48:18.080

您可能在页面加载期间请求了一个资源，该资源错误地具有几乎为空的 URL。例如，在您的 CSS 中，您可能有`background-image: url(#)`. 或 ajax 调用`"#"`。请注意，第二个 URL 是`invite#`，不是`invite`。这是一个线索。

# maple - 如何在 Maple 中转换回传递函数？

> ID：11591889
> 
> 赞同：0
> 
> 时间：2012-07-21T11:45:57.787
> 
> 标签：maple

使用 DiffEquation 可以转换为 diff sys，但是如果转换回传递函数，它是怎么回事？

```
with(DynamicSystems):
sys2 := DiffEquation(sqrt(1-a^2)/(1-a/s));
PrintSystem(sys2);

de := [Diff(x1(t),t) = a*x1(t)+a*u1(t), y1(t) = sqrt(1-a^2)*x1(t)+sqrt(1-a^2)*u1(t)]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-22T03:33:14.313

我不确定我是否理解你的问题的措辞。这是你想要的吗？

```
with(DynamicSystems):

sys2 := DiffEquation(sqrt(1-a^2)/(1-a/s)):

sys2:-de;

        [                               
        [ d                             
        [--- x1(t) = a x1(t) + a u1(t), 
        [ dt                            

                          (1/2)                 (1/2)      ]
                  /     2\              /     2\           ]
          y1(t) = \1 - a /      x1(t) + \1 - a /      u1(t)]
                                                           ]

K:=TransferFunction(sys2):

K:-tf;

                  [         (1/2)         (1/2)  ]
                  [  (a + 1)      (-a + 1)      s]
                  [- ----------------------------]
                  [             -s + a           ]

expand(combine(K:-tf[1,1])) assuming a>0;

                                    (1/2)  
                            /     2\       
                            \1 - a /      s
                          - ---------------
                                -s + a 
```

# linux - 盲目重命名文件 - linux

> ID：11591890
> 
> 赞同：2
> 
> 时间：2012-07-21T11:46:05.203
> 
> 标签：linux, bash, rename

我有相当多的文件具有长文件名、符号、空格等。我想随机和盲目地一次重命名所有文件，同时给它们一个随机文件名`1-9a-Z`。我不想操纵每个文件名，因为有时它会由于符号、空格、长度等而抛出错误。

非常感谢任何形式的帮助。先感谢您。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T12:09:13.523

也许是一个简单的 bash 脚本，就像 Oli 建议的那样：

```
#!/bin/bash
counter=1
for i in *; do
   mv "$i" "$counter";
   ((counter++))
done 
```

高温高压

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T12:16:56.030

带有临时文件名的 Oneliner（更改您自己的目录）：

```
for f in *; do mv "$f" `mktemp -p /home/user/temp`; done 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T11:48:54.913

1.  创建临时目录
2.  对于每个文件，`mv filename tmp/$i`，其中`$i`是一个递增的数字。
3.  `mv tmp/* .`.

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-21T12:12:08.537

您可以使用 inodenumber 作为文件名。保证在文件系统中是唯一的。

```
#!/bin/sh
                                        # inodenumber+name
find . -name \*tmp -type f -ls | awk '{print $1," ",$11}' | (
        while read i p; do
        # UPDATE: extract the basename and suffix
        b=`basename $p`
        s="${b##*\.}"
        echo "b=$b"
        echo "s=$s"

        # remove the echo after testing ...
        echo mv -i $p $i.$s
        done
        )
#eof 
```

注意：如果文件名中有空格或制表符，这将不起作用。

# visual-studio-2010 - 在 Parallels 中调试 asp.net 站点 - 安全异常

> ID：11591893
> 
> 赞同：0
> 
> 时间：2012-07-21T11:46:44.190
> 
> 标签：visual-studio-2010, macos, parallels

我的主机上的文件夹中有一个解决方案。（此文件夹可用于 vm）

在 VS 中打开 sln 后，当我按 F5 时，浏览器会加载，但出现安全异常：

> 异常详细信息：System.Security.SecurityException：请求“System.Web.AspNetHostingPermission，System，Version=2.0.0.0，Culture=neutral，PublicKeyToken=b77a5c561934e089”类型的权限失败。

有什么想法可以解决这个问题，以便我可以在我的虚拟机上调试/运行 casini 中的应用程序吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:51:14.193

将解决方案复制到您的 VM 本地硬盘驱动器。

事实上，您正在尝试从网络共享运行解决方案（至少 Windows 将文件夹视为此）。.Net 具有代码访问安全功能 (CAS)，默认情况下，该功能禁止网络文件夹中的程序执行很多操作。

另一种解决方案是更改 CAS 策略，但这可能会有点痛苦。

# android - 安卓蓝牙权限问题

> ID：11591895
> 
> 赞同：8
> 
> 时间：2012-07-21T11:47:07.847
> 
> 标签：android, exception, permissions, crash, bluetooth

首先，对不起我的英语不好，我是西班牙人（并且是 android 开发的新手）。我正在开发一个简单的蓝牙文件发送器，我是基于 BluetoothChat android 示例一步一步来的。

现在我向用户发出蓝牙激活请求，并选择是或否选项应用程序崩溃。

我拥有清单中声明的​​权限。

问题是，如果用户选择是来激活蓝牙，蓝牙实际上会激活，但之后应用程序仍然崩溃。

我不知道ACRA是否与此冲突，我正在使用它，因为mi设备是华为u8650并且我没有找到直接在eclipse中运行应用程序的usb驱动程序，所以我每次移动.apk文件时间到SD卡。

这是清单：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.BTSender"
    android:versionCode="1"
    android:versionName="1.0" >
    <uses-sdk android:minSdkVersion="10" />    
    <uses-permission android:name="android.permission.BLUETOOTH"/>
    <uses-permission android:name="android.permission.INTERNET"/>
    <uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/>
    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" android:name="MyApplication">
        <activity
            android:name=".BluetoothSenderActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>
</manifest> 
```

这是主要的（也是唯一的）活动：

```
package com.BTSender;

import android.app.Activity;
import android.bluetooth.BluetoothAdapter;
import android.content.Intent;
import android.os.Bundle;
import android.util.Log;
import android.widget.Toast;

public class BluetoothSenderActivity extends Activity {

    private BluetoothAdapter BTAdapter;
    private String TAG = "BTSender";
    private final int REQUEST_ENABLE_BT = 2;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        // Creating window layout
        Log.v(TAG, "**Creating window**");
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        Log.v(TAG, "**Window created");
        // Get the bluetooth adapter
        BTAdapter = BluetoothAdapter.getDefaultAdapter();
        // If null, that means bluetooth is not supported on the device
        if (BTAdapter == null) {
            Toast.makeText(this, R.string.BluetoothNotSupported,
                Toast.LENGTH_LONG).show();
            finish();
            return;
        }
    }

    @Override
    public void onStart() {
        // Check if Bluetooth is enabled, otherwise request user to enable it
        if (!BTAdapter.isEnabled()) {
            // IT NEEDS BLUETOOTH PERMISSION
            // Intent to enable bluetooth, it will show the enable bluetooth
            // dialog
            Intent enableIntent = new Intent(
                    BluetoothAdapter.ACTION_REQUEST_ENABLE);
            // this is to get a result if bluetooth was enabled or not
            startActivityForResult(enableIntent, REQUEST_ENABLE_BT);
            // It will call onActivityResult method to determine if Bluetooth
            // was enabled or not
        } else {
            // Bluetooth is enabled
        }
    }

    // this will be called when in onStart method startActivityForResult is
    // executed
    public void onActivityResult(int requestCode, int resultCode, Intent data) {
        Log.v(TAG, "** onActivityResult **");
        // determine from which activity
        switch (requestCode) {
        // if it was the request to enable Bluetooth:
        case REQUEST_ENABLE_BT:
            if (resultCode == Activity.RESULT_OK) {
                // Bluetooth is enabled now
                Log.v(TAG, "** Bluetooth is now enabled**");
            } else {
                // user decided not to enable Bluetooth so exit application
                Log.v(TAG, "** Bluetooth is NOT enabled**");
                Toast.makeText(this, R.string.BluetoothNotEnabled,
                    Toast.LENGTH_LONG).show();
                finish();
            }
        }
    }
} 
```

我最近在 Stackoverflow 上阅读了答案，这是我的第一个问题。我会很感激任何答案。还有关于改进我的开发的提示。提前致谢！

```
java.lang.RuntimeException: Unable to start activity      
ComponentInfo{com.BTSender/com.BTSender.BluetoothSenderActivity}:  
java.lang.SecurityException: Need BLUETOOTH permission: Neither user 10076 nor current 
process has android.permission.BLUETOOTH.
    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1654)
    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1670)
    at android.app.ActivityThread.access$1500(ActivityThread.java:117)
    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:123)
    at android.app.ActivityThread.main(ActivityThread.java:3695)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:507)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:842)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)
    at dalvik.system.NativeStart.main(Native Method)
Caused by: java.lang.SecurityException: Need BLUETOOTH permission: Neither user 10076    
nor current process has android.permission.BLUETOOTH.
    at android.os.Parcel.readException(Parcel.java:1322)
    at android.os.Parcel.readException(Parcel.java:1276)
    at android.bluetooth.IBluetooth$Stub$Proxy.isEnabled(IBluetooth.java:496)
    at android.bluetooth.BluetoothAdapter.isEnabled(BluetoothAdapter.java:351)
    at com.BTSender.BluetoothSenderActivity.onStart(BluetoothSenderActivity.java:51)
    at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1129)
    at android.app.Activity.performStart(Activity.java:3791)
    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1627)
    ... 11 more
java.lang.SecurityException: Need BLUETOOTH permission: Neither user 10076 nor current   
process has android.permission.BLUETOOTH.
    at android.os.Parcel.readException(Parcel.java:1322)
    at android.os.Parcel.readException(Parcel.java:1276)
    at android.bluetooth.IBluetooth$Stub$Proxy.isEnabled(IBluetooth.java:496)
    at android.bluetooth.BluetoothAdapter.isEnabled(BluetoothAdapter.java:351)
    at com.BTSender.BluetoothSenderActivity.onStart(BluetoothSenderActivity.java:51)
    at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1129)
    at android.app.Activity.performStart(Activity.java:3791)
    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1627)
    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1670)
    at android.app.ActivityThread.access$1500(ActivityThread.java:117)
    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:123)
    at android.app.ActivityThread.main(ActivityThread.java:3695)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:507)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:842)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)
    at dalvik.system.NativeStart.main(Native Method) 
```

如果有帮助。安装应用程序时，它会显示三个权限：internet、bluetooth 和 bluetooth_admin，然后运行 ​​BluetoothAdapter.getDefaultAdapter()；没有问题，即使它运行蓝牙请求的意图，但是当应用程序崩溃时 onActivityResult 开始发挥作用，就像应用程序失去了蓝牙权限一样，但这很奇怪。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-08-19T20:49:26.073

你两个都需要

```
 <uses-permission android:name="android.permission.BLUETOOTH" />
 <uses-permission android:name="android.permission.BLUETOOTH_ADMIN" /> 
```

和

```
<permission android:name="android.permission.BLUETOOTH" android:label="BLUETOOTH" />
<permission android:name="android.permission.BLUETOOTH_ADMIN" /> 
```

中的声明`AndroidManifest.xml`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-11T12:48:33.560

好的，我找到了问题，我不知道为什么，但是 ACRA 给出了错误消息，因为它说应用程序没有蓝牙权限，而应用程序确实有它们。

我创建一个新项目并复制文件，然后 ACRA 说在 onStart 方法中我没有 super.onStart();

我添加了它并解决了问题！

# css - 在容器 div 中浮动 div

> ID：11591897
> 
> 赞同：1
> 
> 时间：2012-07-21T11:47:24.637
> 
> 标签：css, css-float

我想浮动“三”，以便在调整浏览器窗口大小时出现在“二”下方。目前“三”出现在“一”之下

```
<style type="text/css">
#container  {width:700px;}
.col        { float: left; margin: 0px 16px 0px 0px; padding: 0px; height: auto;}
.two        { width: 192px; background-color:ccc; }
.four       { width: 400px; background-color:ccc; }
</style>

<div id="container" >
    <div class="col two" style="background-color:green;" >
    one
    </div>

    <div  class="col">

        <div class="col four" style="background-color:blue;" >
        two
        </div>
        <div class="col two" style="background-color:red;"> 
        three
        </div>

    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:51:30.563

您可以通过对父容器应用 margin-left 来做到这一点。'col' 包裹着两个和三个

更新：确保边距至少是第一列的宽度，否则它仍然不起作用

# facebook - 如何使用带有回调函数的 Facebook 分享按钮？

> ID：11591899
> 
> 赞同：2
> 
> 时间：2012-07-21T11:48:00.713
> 
> 标签：facebook, fbml, facebook-sharer

直到昨天，我才使用没有 xfbml 的 facebook 分享按钮。昨天我看到那个分享按钮不起作用。

直到昨天我才添加一个名为 fb_share 的锚元素，facebook js-sdk 将元素转换为分享按钮。

```
<div class="fb-share-con">
    <a type="button" name="fb_share">Share</a>
</div> 
```

当我想捕获共享事件时，我正在分配一个函数来单击“fb-share-con”div 元素的事件，并且这一直在正常工作（这个回调方法不太好，但我足够了）

现在我不知道为什么，但我不能像上面那样使用分享按钮。js-sdk 没有将锚转换为分享按钮。我在 facebook 开发者页面上寻找 fb 分享按钮的使用，但我找不到任何关于上面工作的分享按钮的信息。

我发现了两种有效的方法：

1\. 使用 fbml 添加共享按钮：我使用 fbml 语法将共享按钮添加到页面，共享按钮工作正常，但这次我无法分配回调函数（至少我不知道）。

```
<fb:share-button type="button"></fb:share-button> 
```

2\. 使用 FB.ui：我为我创建的一个 html 元素分配了一个点击事件，我为 FB.ui() 提供了一个回调函数。我作为提要共享，但这并不重要。这个方法很好，但是我写了更多的代码，Facebook 本身不会创建分享按钮，所以如果我想使用分享按钮，我应该自己用 css 制作分享按钮。

```
FB.ui({
  method: 'feed'
  ,link: window.location.href
  ,picture: Page.get("image")
  ,name: Page.get("title")
  ,caption: '...'
  ,description: Page.get("description")
  },function(r){
    console.log("page shared",r);
}); 
```

问题：

*   为什么我的旧方法不再起作用，这种用法已被弃用？
*   我可以为 fbml 分享按钮分配一个回调函数吗？
*   哪种方法最好？

我不懂英文，所以如果你用简单的语言写，我会很高兴。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T13:06:34.567

### 为什么我的旧方法不再起作用，这种用法已被弃用？

Facebook 弃用了分享按钮和功能，取而代之的是点赞和发送按钮。

### 我可以为 fbml 分享按钮分配一个回调函数吗？

您不能，而且由于不推荐使用共享功能，您应该避免使用它。

### 哪种方法最好？

根据 facebook，您应该使用喜欢/发送按钮。

# broadcast - AngularJS 可以为单个 $broadcast 多次调用 $on 方法吗？

> ID：11591902
> 
> 赞同：12
> 
> 时间：2012-07-21T11:48:12.500
> 
> 标签：broadcast, angularjs

我在我的 AngularJS 应用程序中看到了一些非常奇怪的行为。

制作单个 $broadcast 时，（唯一的）接收器会被触发两次。

对整个应用程序的影响就好像接收器只被触发了*一次*。（即只有一件物品被添加到购物篮中）。

如果您触发 $broadcast 两次（即在触发 $broadcast 的按钮上单击两次），您将执行四次接收器，但有两个项目被正确添加到篮子中。

这里有一些类似电子表格的重新计算吗？$scope 函数不需要影响“普通”javascript 变量吗？

我的问题是我添加了一个`alert`并且它被显示了两次。

* * *

我在调试这个方面做了更多的工作：

我添加了一个计数器来计算接收到广播的次数。

如果范围（没有美元）是全球性的，我会得到加倍的结果。如果它的作用域是 Ctlr 函数的本地范围，我会得到一个非加倍的结果。

我能以某种方式创建我的控制器的两个实例吗？

我可以从萤火虫看到，从控制器完成的 $http ajax 请求只发生一次，所以我很困惑。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-07-25T05:08:44.027

我将首先在控制器的主体中添加一个 console.log 语句，以查看它被初始化了多少次。控制器的生命周期可能很短，因为它们与可以频繁创建和销毁的 DOM 元素相关联。

如果您使用 $routeProvider，您是否为“控制器”属性指定了一个值？如果是这样，您是否还使用“ng-controller”属性在部分中指定相同的控制器？你真的想选择一个或另一个，而不是两者，否则每次导航到该路线时都会创建两个控制器实例。

# c# - aforge.net 是否支持 OCR？

> ID：11591909
> 
> 赞同：0
> 
> 时间：2012-07-21T11:48:43.200
> 
> 标签：c#, image-processing, ocr, aforge, anpr

我正在开发一个车牌识别应用程序。我已经完成了车牌提取部分，现在是识别。到目前为止，我使用过 Aforge.Net，它是否也支持 OCR？

如果没有，是否有可以与 C# 一起使用的特定 OCR 引擎？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T11:42:57.043

AForge.net 不直接支持 OCR，但您可以编写代码使其使用前向训练的神经网络进行 ocr，或者您可以使用 AForge.net 中的模板匹配来做到这一点

# android - facebook apprequests 在 iphone 和 android 上重定向

> ID：11591913
> 
> 赞同：0
> 
> 时间：2012-07-21T11:49:04.287
> 
> 标签：android, iphone, facebook, apprequests

我们在 android 和 iphone 上有一个移动应用程序（没有画布）。我们可以向用户的朋友发送 apprequest，请求会出现在他们的 iphone/android 手机上。我们希望将 iphone 用户重定向到 appstore，并将 android 用户重定向到 google 市场。我们该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T11:59:35.060

# java - GWT/GAE - 不包括 .symbolMap 资源文件

> ID：11591915
> 
> 赞同：1
> 
> 时间：2012-07-21T11:49:19.453
> 
> 标签：java, google-app-engine, gwt

我在java中使用GWT + AppEngine，我试图让部署过程从上传到服务器的文件中排除一些文件。特别是 GWT 生成的 .symbolMap 文件（因为占用的空间量太大）。我找到了这篇文章： [https](https://groups.google.com/forum/?fromgroups#!topic/google-web-toolkit/Py-D0oV68fg) ://groups.google.com/forum/?fromgroups#!topic/ google-web-toolkit/Py-D0oV68fg 解释了如何排除它们，但它不起作用（部署的版本占用相同的空间）。我在 appengine-web.xml 文件中尝试了所有这些行：

```
<exclude path="WEB-INF/deploy/ebas/symbolMaps/**.symbolMap" />
<exclude path="/WEB-INF/deploy/ebas/symbolMaps/**.symbolMap" />
<exclude path="WEB-INF/deploy/ebas/symbolMaps/**.*" />
<exclude path="/WEB-INF/deploy/ebas/symbolMaps/**.*" />
<exclude path="WEB-INF/deploy/ebas/symbolMaps/**.symbolMap" />
<exclude path="/WEB-INF/deploy/ebas/symbolMaps/*" /> 
```

但这似乎不是解决方案。是否有（另一种）方法来告诉应用引擎部署脚本排除这些文件？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-24T13:50:31.443

.symbolMap 文件仅在添加 -extra 编译器参数时创建，因此您可以在编译部署时将其删除。

[如果您想了解更多信息，请查看此处的官方文档。](http://code.google.com/p/google-web-toolkit/wiki/WebModeExceptions#Resymbolization_/_Deobfuscation)

# embed - VLC 播放器嵌入代码在 ie 中不起作用。

> ID：11591918
> 
> 赞同：4
> 
> 时间：2012-07-21T11:50:06.217
> 
> 标签：embed, vlc

我在 html 文件中实现了以下代码，用于在我的网站中嵌入 vlc 播放器，但在 ie8+ 中不起作用。

```
<OBJECT classid="clsid:9BE31822-FDAD-461B-AD51-BE1D1C159921"
codebase="http://downloads.videolan.org/pub/videolan/vlc/latest/win32/axvlc.cab"
width="640" height="480" id="vlc" events="True">
    <param name="Src" value="test.3gp" />
    <param name="ShowDisplay" value="True" />
    <param name="AutoLoop" value="False" />
    <param name="AutoPlay" value="False" />
 </OBJECT> 
```

我从[http://wiki.videolan.org/ActiveX/HTML找到的这段代码](http://wiki.videolan.org/ActiveX/HTML)

请帮忙。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-04T00:45:33.873

这是因为

[http://downloads.videolan.org/pub/videolan/vlc/latest/win32/axvlc.cab](http://downloads.videolan.org/pub/videolan/vlc/latest/win32/axvlc.cab)

不存在

# php - symfony2 表单验证

> ID：11591921
> 
> 赞同：0
> 
> 时间：2012-07-21T11:50:35.557
> 
> 标签：php, symfony

下面是我的表格代码

```
class PracticeType extends AbstractType {
    /**
     * Returns the name of this type.
     *
     * @return string The name of this type
     */
    function getName()
    {
        return "practice";
    }

    public function getDefaultOptions(array $options)
    {
        return array(
            'data_class' => 'Shwetanka\SampleBundle\Entity\Practice',
            'csrf_protection' => true,
            'csrf_field_name' => '_token',
            'intention' => 'practice_item'
        );
    }

    public function buildForm(FormBuilder $builder, array $options)
    {
        $builder->add('name', 'text', array(
            'required' => true,
            'label' => 'Clinic Name'
        ));
    }
} 
```

我的实体

```
/**
 * Shwetanka\SampleBundle\Entity\Practice
 *
 * @ORM\Table(name="practice")
 * @ORM\Entity
 */
class Practice
{
    /**
     * @var integer $id
     *
     * @ORM\Column(name="practiceId", type="integer")
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    private $id;

    /**
     * @var string $name
     *
     * @ORM\Column(name="name", type="string", length=255)
     * @Assert\NotBlank()
     */
    private $name;
    //getters and setters
} 
```

我的控制器 -

```
...
$form = $this->createForm(new PracticeType());
if($request->getMethod() == 'POST'){
    $form->bindRequest($request);
    if($form->isValid()){
        $practice = EntityHelper::preparePracticeForSave($form);
        return array('hello' => 'world');
    }else {
        $view = View::create();
        $view->setTemplate('ShwetankaSampleBundle:Practice:new_practice.html.twig');
        $view->setFormat('html');
        $view->setData(array('form' => $form->createView(), 'logout' => true));
        return $this->get('fos_rest.view_handler')->handle($view);
    }
}
... 
```

当我提交表单时，我收到验证错误`($form.isValid() is false)`，但是当我检查时，`$form['name']`我得到了我在表单中输入的值。我无法理解为什么验证失败。需要帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T12:13:42.923

你有什么错误吗？

在模板中呈现错误消息：

```
{{ form_errors(form) }} 
```

或访问控制器中的错误数组：

```
$form->getErrors() 
```

我想它会给你一些提示

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T15:21:39.517

您可能忘记了渲染 csrf 表单标签吗？你可以用`form_rest(form)`这个。

# r - 什么是向量？

> ID：11591924
> 
> 赞同：1
> 
> 时间：2012-07-21T11:50:54.213
> 
> 标签：r

有一个data.frame

```
> x

        date  open  high   low close   volume adjusted  
1 2010-01-04 24.52 24.58 23.68 23.71 24192200    23.71  
2 2010-01-05 23.75 23.90 22.75 23.30 55649900    23.30  
3 2010-01-06 23.25 23.25 22.72 22.90 41214300    22.90  
4 2010-01-07 22.90 23.05 22.40 22.65 35533600    22.65  
5 2010-01-08 22.50 22.75 22.35 22.60 28854300    22.60  
6 2010-01-11 23.50 23.68 22.28 22.60 44284600    22.60

> is.vector(x[,1])
[1] FALSE  
> is.vector(x[,2])
[1] TRUE  
> is.vector(x[,1])
[1] FALSE 
> is.vector(x[,3])
[1] TRUE  
> is.vector(x[,4])
[1] TRUE  
> is.vector(x[,5])  
[1] TRUE  
> is.vector(x[,6])
[1] TRUE  
> is.vector(x[,7])
[1] TRUE 
```

我想知道为什么`is.vector(x[,1])`不是TRUE？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-21T12:12:28.213

来自`?is.vector`：

> 如果 x 是指定模式的向量，除了名称之外没有其他属性，is.vector 返回 TRUE。否则返回 FALSE。

您的第一列可能存储为日期类。因此，如果您获得它的属性（使用`str()`），您将看到它具有一些属性，而不仅仅是名称。

# c# - 控件“dgDisplay”从使用 Parallel.for 创建的线程以外的线程访问

> ID：11591926
> 
> 赞同：0
> 
> 时间：2012-07-21T11:51:06.097
> 
> 标签：c#

尝试使用 Parallel.For 时出现错误

```
for (int i = 0; i <= count; i++)
{
  DataGridViewTextBoxColumn columnDataGridTextBox = new DataGridViewTextBoxColumn();
  columnDataGridTextBox.Name = fileDataField[i];
  columnDataGridTextBox.HeaderText = fileDataField[i];
  columnDataGridTextBox.Width = 120;
  dgDisplay.Columns.Add(columnDataGridTextBox);
} 
```

我的 paraller.for 代码

```
Parallel.For(0, count, i =>
{
  DataGridViewTextBoxColumn columnDataGridTextBox = new DataGridViewTextBoxColumn();
  columnDataGridTextBox.Name = fileDataField[i];
  columnDataGridTextBox.HeaderText = fileDataField[i];
  columnDataGridTextBox.Width = 120;
  dgDisplay.Columns.Add(columnDataGridTextBox); <<< this error add colums
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T15:49:17.970

控件只能在创建它们的线程中访问（并且只有一个 UI 线程）。如果您的调用来自另一个线程（因为您在 a 中，它确实如此`Parallel.For`），您必须将该`Invoke`方法与实际方法的委托一起使用。要测试您是否在“错误”线程中，您可以使用该`InvokeRequired`属性。

```
if (dgDisplay.InvokeRequired)
{
    dgDisplay.Invoke(addColumnDelegate, columnDataGridTextBox);
}
else
{
    dgDisplay.Columns.Add(columnDataGridTextBox);
} 
```

当您从表单的事件处理程序内部调用此代码时，它将阻塞，因为该`Invoke`方法将同步执行。您必须使用`BeginInvoke`而不是`Invoke`异步执行它。

除此之外，我不会`Parallel.For`在这里使用，原因有两个：

1.  `Parallel.For`您无法预测计算元素的顺序。
2.  由于所有调用都将在同一个线程中结束，因此并行执行不会带来任何好处。

如果列顺序无关紧要，并且您认为 Columns 的创建应该并行执行，我建议在 中构建一个`DataGridViewColumn`对象数组，`Parallel.For`然后使用`dgDisplay.Columns.AddRange(columns)`.

# ios - 如何在 iOS 5 中禁用某些部分以显示为 TVOut？

> ID：11591928
> 
> 赞同：4
> 
> 时间：2012-07-21T11:51:12.353
> 
> 标签：ios, ios5, video-capture, screen-capture, mirroring

众所周知，在 iOS 5 中，我们不需要添加单独的 TVOut 功能代码行。他们已将该功能集成为内置功能。

我的问题是：如果在我的应用程序中有一些我的自定义视图可用，我不想将其展示为 TVOut 演示文稿。它应该只在设备上显示，而不是在投影板上。

我已经检查了我们用于 iOS 版本 <5.0 的 TVOut 代码，但是他们正在捕获窗口图像并传递它。一些自定义小视图如何禁止通过尖叫。

任何建议/解决方案都非常受欢迎。

观看此视频：[http ://www.youtube.com/watch?gl=US&v=GysMfb4_79A](http://www.youtube.com/watch?gl=US&v=GysMfb4_79A)

如何实现这样的事情？

**编辑**：我使用了 Apple 提供的 ExternalDisplay 代码。但我面临一个问题。

*   该代码适用于单视图控制器，我们将所有视图添加到新窗口。
*   如果我的应用程序包含这么多视图控制器，并且在某些视图控制器中我为用户提供了 textViews，该怎么办。
*   如何避免在外部窗口上显示这些文本视图作为 TVOut，应该显示没有该 textView 的视图。

请给我建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-25T19:02:44.507

从iOS 开发人员库中的[ExternalDisplay示例代码：](http://developer.apple.com/library/ios/#samplecode/ExternalDisplay/Listings/Classes_ExternalDisplayViewController_m.html#//apple_ref/doc/uid/DTS40010724-Classes_ExternalDisplayViewController_m-DontLinkElementID_6)

> 要在外部显示器上显示内容，请执行以下操作：
> 
> 1.  使用 UIScreen 类的屏幕类方法来确定外部显示器是否可用。
>     
>     
> 2.  如果外部屏幕可用，则获取屏幕对象并查看其 availableModes 属性中的值。此属性包含屏幕支持的配置。
>     
>     
> 3.  选择与所需分辨率对应的 UIScreenMode 对象，并将其分配给屏幕对象的 currentMode 属性。
>     
>     
> 4.  创建一个新的窗口对象 (UIWindow) 来显示您的内容。
>     
>     
> 5.  将屏幕对象分配给新窗口的屏幕属性。
>     
>     
> 6.  配置窗口（通过添加视图或设置 OpenGL ES 渲染上下文）。
>     
>     
> 7.  显示窗口。

查看示例代码，您将有两个`UIWindow`对象，每个对象都显示希望在该给定显示器上显示的视图。所以你可以有一个`UIViewController`带有标志的标志`isExternalScreen`，当它为真时，它不会显示某些视图。

# android - 如何为 Android 应用程序加密 SQlite 数据库？

> ID：11591931
> 
> 赞同：1
> 
> 时间：2012-07-21T11:51:26.550
> 
> 标签：android, sqlite, encryption

> **可能重复：**
> [android 的 sqlite 加密](https://stackoverflow.com/questions/6043984/sqlite-encryption-for-android)

我如何为我的 android 应用程序加密 sqlite 数据库？我的应用程序使用 sqlite 数据库来存储各种在线帐户的用户名和密码。请帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-31T13:59:15.637

尝试

[http://sqlcipher.net/sqlcipher-for-android/](http://sqlcipher.net/sqlcipher-for-android/)

但请注意，您需要使用 proguard 来[混淆](http://developer.android.com/tools/help/proguard.html)您的解密代码和密码。否则，对您的应用程序进行逆向工程并解密数据库将是一件容易的事。

最好的解决方案是，如果用户每次都需要向您的数据库输入密码，这样您就不必将其存储在逆向工程师可以找到的代码中。

# ios - IOS - 移动到单独的班级时播放 mp3 失败

> ID：11591936
> 
> 赞同：0
> 
> 时间：2012-07-21T11:52:14.690
> 
> 标签：ios, audio, refactoring, mp3

我成功地在一个类的正文中播放了一个 mp3 文件。但是，当我将功能移到单独的类时，它会失败。

这是工作代码：

标题：

```
#import <AVFoundation/AVFoundation.h>

@interface QuestionController : UIViewController 
<UITableViewDataSource, UITableViewDelegate, UISplitViewControllerDelegate>
{
    AVAudioPlayer *audioPlayer;

} 
```

工作代码：

```
NSURL *url = [NSURL fileURLWithPath:[NSString stringWithFormat:@"%@/A.mp3", [[NSBundle mainBundle] resourcePath]]];

    NSError *error;
    audioPlayer = [[AVAudioPlayer alloc] initWithContentsOfURL:url error:&error];
    audioPlayer.numberOfLoops = 0;

    if (audioPlayer == nil)
        NSLog(@"audio errror: %@",[error description]);             
    else 
        [audioPlayer play]; 
```

这是新课程：

标题：

```
#import <Foundation/Foundation.h>
#import <AVFoundation/AVFoundation.h>

    @interface AudioPlayer : NSObject {

    }

    - (void *) playAudioFile:(NSString *) mp3File;

    @end 
```

执行：

```
 #import "AudioPlayer.h"

    @implementation AudioPlayer

    - (void *) playAudioFile:(NSString *) mp3File {

        NSLog(@"mp3file to play: %@", mp3File ); 

        NSURL *url = [NSURL fileURLWithPath:[NSString stringWithFormat:@"%@", mp3File, [[NSBundle mainBundle] resourcePath]]];

        NSError *error;

        AVAudioPlayer *audioPlayer;
        audioPlayer = [[AVAudioPlayer alloc] initWithContentsOfURL:url error:&error];
        audioPlayer.numberOfLoops = 0;

        if (audioPlayer == nil) {
            NSLog(@"audio errror: %@",[error description]);
        }
        else {
            [audioPlayer play];
        }
        [audioPlayer release];

        return 0; 
    }   

    @end 
```

这是调用代码：

```
 AudioPlayer *audioPlayer = [[AudioPlayer alloc] init];

   [audioPlayer playAudioFile:@"/A.mp3"]; 
```

但是，当它在单独的类中运行时，它没有成功创建播放器并转到“audio player == nil”分支

这是输出：

```
012-07-21 07:14:54.480 MyQuiz[6655:207] mp3file to play: /A.mp3
2012-07-21 07:15:40.827 MyQuiz[6655:207] audio errror: Error Domain=NSOSStatusErrorDomain Code=-43 "The operation couldn’t be completed. (OSStatus error -43.)" 
```

网址是“file://localhost/A.mp3”

任何想法我做错了什么？当我重构为单独的方法时，我总是遇到麻烦。这令人沮丧。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T11:57:26.387

弹出的第一件事是您在调用 play 后立即释放音频播放器，而在“工作”类中不会发生这种情况。

解决此问题的一个好设计是在 Singleton 类中实例化音频播放器一次。这个类应该负责在整个应用程序中播放音频，并且应该管理来自所有类的任何请求。这样您就知道您正在正确地管理内存并且 AVFoundation 框架仅在一个地方使用。

此外，要获得所需的路径，请使用：

```
NSURL *url = [NSURL fileURLWithPath:[[NSString stringWithFormat:@"%@", mp3File] stringByAppendingPathComponent:[[NSBundle mainBundle] resourcePath]]]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-21T12:03:53.747

您的 URL 有错误，请更改此行

```
NSURL *url = [NSURL fileURLWithPath:[NSString stringWithFormat:@"%@", mp3File, [[NSBundle mainBundle] resourcePath]]]; 
```

对此：

```
NSURL *url = [NSURL fileURLWithPath:[NSString stringWithFormat:@"%@%@", [[NSBundle mainBundle] resourcePath], mp3File]]; 
```

# java - 在 Wireshark 中解密 Java HttpsURLConnection 生成的客户端 SSL 流量

> ID：11591940
> 
> 赞同：6
> 
> 时间：2012-07-21T11:52:29.947
> 
> 标签：java, ssl, wireshark, httpsurlconnection

我正在尝试使用由其他人编写的 GUI Java 程序，该程序的行为与我预期的不同。在程序运行的过程中，它会联系服务器来拉取数据，但它没有显示正确的数据。我正在尝试确定我遇到的问题是否与网络相关——即正确的位永远不会到达客户端。

查看 Java 程序的源代码，它似乎使用[HttpsURLConnection](http://docs.oracle.com/javase/1.4.2/docs/api/javax/net/ssl/HttpsURLConnection.html)类通过 SSL 从服务器中提取数据。我想做的是使用 Wireshark 检查电线上发生的事情。我的理解是，如果你有相关的密钥，Wireshark 支持解密一些 SSL 流量。我不控制服务器，因此无法访问其私钥。但是，我确实控制了程序正在运行的客户端。我的问题是，在实践中我将如何配置wireshark 来解密我刚刚描述的场景的SSL 流量？是否有可以添加到 Wireshark 的特定键 HttpsURLConnection 使用？还有别的吗？

我应该注意，我已经考虑过简单地将日志记录添加到 Java 代码库中，但最终会更喜欢数据包捕获的基本事实而不是日志记录，因为我可能会错过/省略一些重要的代码库日志记录我不完全理解。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-21T13:57:15.400

由于您无权访问服务器私钥 Wireshark 不能直接用于解密。

即使使用私钥 Wireshark 也无法解密流量，以防使用具有完美前向保密 (PFS) 的密码。

您需要的是一个中间人代理，从您的应用程序的角度来看，它就像一个 SSL 服务器，从服务器的角度来看，它就像客户端一样工作。

有很多可以作为代理运行的程序，例如.Net/Windows 上的[Fiddler 、](http://www.fiddler2.com/fiddler2/) [Webscarab](https://www.owasp.org/index.php/WebScarab_Getting_Started)或[BurpSuite](http://portswigger.net/burp/) (Java)。对于所有这些程序，您需要导出它们使用的服务器证书并将其作为受信任的证书添加到您的程序中，例如通过在启动您的应用程序的命令行上指定合适的信任库（参见 Java 属性`javax.net.ssl.trustStrore`）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-12-13T19:01:25.033

[您可以使用extract-ssl-secrets](https://github.com/neykov/extract-ssl-secrets)工具从任何 Java 应用程序中提取 Wireshark 所需的密钥。

*   [从https://repo1.maven.org/maven2/name/neykov/extract-ssl-secrets/1.0.0/extract-ssl-secrets-1.0.0.jar](https://repo1.maven.org/maven2/name/neykov/extract-ssl-secrets/1.0.0/extract-ssl-secrets-1.0.0.jar)在本地下载 jar 。确保保持文件名相同 - extract-ssl-secrets-1.0.0.jar。
*   添加`-javaagent:<absolute path to>/extract-ssl-secrets-1.0.0.jar=/tmp/secrets.log"`到应用程序的 VM 选项。
*   启动 Wireshark`wireshark -o ssl.keylog_file:/tmp/secrets.log`
*   开始捕获流量 - 它应该被即时解密

如果开箱后无法正常工作，请参阅[故障排除部分。](https://github.com/neykov/extract-ssl-secrets#troubleshooting)

# node.js - 连接到 node-http-proxy 的所有后端服务器上的心跳

> ID：11591943
> 
> 赞同：1
> 
> 时间：2012-07-21T11:52:48.857
> 
> 标签：node.js, reverse-proxy, heartbeat, node-http-proxy

node-http-proxy 是否提供了一种向连接到它的所有后端服务器发送心跳的方法。

如果我使用 examples/simpler-balancer.js 服务器并指定 2 个后端服务器，其中 1 个基本上已关闭并且负载平衡设置为循环模式，则不会处理每个备用请求。

我是否错过了某个设置，或者此功能不是模块的一部分。

# android - 安卓sdk更新

> ID：11591944
> 
> 赞同：0
> 
> 时间：2012-07-21T11:52:56.173
> 
> 标签：android, eclipse

我刚刚更新了 android-sdk 但它开始给我的 sdk 版本 18 低于 20 的错误。但实际上我的 android-sdk 版本是 20。我不想重新安装 sdk。我应该怎么办 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T12:05:49.430

转到菜单**帮助下的 Eclipse** **>** **检查更新** 并更新您的 ADT

# internet-explorer-9 - 网页不在 IE9 中居中

> ID：11591954
> 
> 赞同：0
> 
> 时间：2012-07-21T11:54:12.900
> 
> 标签：internet-explorer-9, centering

我有一个网页： [http](http://www.lvdmonline.com) ://www.lvdmonline.com 它看起来很好并且在本地居中，但是一旦发布它就被证明是合理的。我需要将其更新为居中。

帮助...提前谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T12:08:23.073

我在 FireFox 和 IE9 中试过这个。看来您没有 DOCTYPE 标记，这使 IE 以怪癖模式呈现它。在此处阅读有关 doctype 标签的更多信息：http: [//www.w3schools.com/tags/tag_doctype.asp](http://www.w3schools.com/tags/tag_doctype.asp)

要在 IE9 中调试页面，请在页面加载时按 F12。您应该会看到 IE 开发人员工具栏出现在页面底部。在栏的顶部，在右手边，您应该看到“浏览器模式：”和“文档模式”...您希望文档模式显示 IE9 标准，而不是 Quirks 模式

祝你好运

# grails - grails动态脚手架 - 跳过字段以在视图中呈现

> ID：11591955
> 
> 赞同：2
> 
> 时间：2012-07-21T11:54:28.000
> 
> 标签：grails, scaffolding

有什么方法可以使域的某些字段在动态脚手架视图中不可见？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-21T12:03:17.340

我自己找到了：

我们可以使用`display`约束来实现这一点。

来源： http: [//grails.org/doc/latest/ref/Constraints/Usage.html](http://grails.org/doc/latest/ref/Constraints/Usage.html)

```
class {
    String notToDisplay
    ...

    static constraints = {
        ...
        notToDisplay(display:false)
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T14:18:51.257

另一种选择是使用 Fields 插件并`notToDisplay`使用空模板覆盖该字段，以便它不会被显示。这有点清洁，因为它不会用特定于视图的东西污染您的域层。

# c# - 如何循环遍历 i 数量的文本框？

> ID：11591956
> 
> 赞同：0
> 
> 时间：2012-07-21T11:54:30.213
> 
> 标签：c#, wpf, loops, textbox

我需要检查无限数量的文本框的文本和各种属性。我虽然我可以使用 {i} 以下面的方式做到这一点（所以它会检查 tbEavelength1,tbEavelength2, tbEavelength3 等）这不起作用想知道是否有人有任何想法？

```
for (int i = 1; i <= comboBox1.SelectedIndex + 1; i++)
{
    if (tbEaveLength{i}.IsEnabled == false)
    {
        eaveLength{i} = 0;
    }
    else if (tbEaveLength{i}.Text == "")
    {
        throw new Exception("EaveLength {i} must have a value");
    }
    else if (!double.TryParse(tbEaveLength{i}.Text, out eaveLength{i}))
    {
       throw new Exception("EaveLength {i} must be numerical");
    }
} 
```

提前感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T12:54:56.727

如何创建 a`List<TextBox>`然后使用索引获取文本框并使用 lenght 执行相同的操作 a `List<double>`？

```
//List<TextBox> listTextBoxes = new List<TextBox>();
//populate the list of textboxes

//List<double> listEaveLength = new List<double>();

for (int i = 1; i <= comboBox1.SelectedIndex + 1; i++)
{
    if (listTextBoxes[i].IsEnabled == false)
    {
        listEaveLength[i] = 0;
    }
    else if (listTextBoxes[i].Text == "")
    {
        throw new Exception(listTextBoxes[i].Name +  " must have a value");
    }
    else if (!double.TryParse(listTextBoxes[i].Text, out listEaveLength[i]))
    {
        throw new Exception(listTextBoxes[i].Name + " must be numerical");
    }
} 
```

* * *

如前所述*，毫驼*管理并行阵列可能很困难，而不是更好的解决方案。所以你可以像这样创建一个类：

```
class DataStructure
{
   public TextBox Textbox
   {
      get;
      set;
   }

   public double Lenght
   {
      get;
      set;    
   }

   public DataStructure(TextBox Textbox)
   {
      this.Textbox = Textbox;
   }
} 
```

然后总是使用`List<DataStructure>`：

```
//List<DataStructure> myList = new LList<DataStructure>();
//myList.Add(new DataStructure(myTextBox));
//... populate your list

for (int i = 1; i <= comboBox1.SelectedIndex + 1; i++)
{
    if (myList[i].Textbox.IsEnabled == false)
    {
        myList[i].Lenght = 0;
    }
    else if (myList[i].Textbox.Text == "")
    {
        throw new Exception(myList[i].Textbox.Name +  " must have a value");
    }
    else if (!double.TryParse(myList[i].Textbox.Text, out myList[i].Lenght))
    {
        throw new Exception(myList[i].Textbox.Name + " must be numerical");
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T20:40:58.930

如果您在文件后面的代码中，那么您可以使用方法`FindName`通过传递其名称来获取文本框的实例，然后可以像这样对该特定文本框执行操作 -

```
for (int i = 1; i <= comboBox1.SelectedIndex + 1; i++)
{
    TextBox textBox = (TextBox)FindName("tbEaveLength" + i);
    if (textBox.IsEnabled == false)
    {
        eaveLength{i} = 0;
    }
    else if (textBox.Text == "")
    {
        throw new Exception("EaveLength {i} must have a value");
    }
    else if (!double.TryParse(textBox.Text, out eaveLength{i}))
    {
       throw new Exception("EaveLength {i} must be numerical");
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-21T11:58:15.563

您好，您可以尝试使用 FindControl() 方法查找文本框。我假设您正在处理 Asp.net 页面。

例如。

```
for (int i = 1; i <= comboBox1.SelectedIndex + 1; i++)
{
    var tbEaveLength = FindControl("tbEaveLength" + i);
    if (tbEaveLength.IsEnabled == false)
    {
        eaveLength = 0;
    }
    else if (tbEaveLength.Text == "")
    {
        throw new Exception("EaveLength {i} must have a value");
    }
    else if (!double.TryParse(tbEaveLength{i}.Text, out eaveLength{i}))
    {
        throw new Exception("EaveLength {i} must be numerical");
    }
 } 
```

# python - 为什么 Python 的队列在 qsize() 中返回一个近似大小？

> ID：11591957
> 
> 赞同：14
> 
> 时间：2012-07-21T11:54:37.857
> 
> 标签：python, multithreading

在qsize() 的[文档](http://docs.python.org/library/queue.html#queue-objects)中它说：返回队列的近似大小。

为什么它不能只返回这个队列的确切大小？我知道队列可能被多个线程访问，但是在我调用该函数的那一刻，我认为仍然可以返回那个时刻的确切大小。

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-07-21T11:58:52.490

正是因为有其他线程在访问它。当您尝试使用从 qsize() 返回的大小时，队列可能已经改变。如果文档阅读如下内容会更好：

> 返回队列的大小。请注意，在多线程环境中，大小可以随时更改，这只是实际大小的近似值。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-21T12:33:33.617

我同意“近似”不是最清晰的单词选择，但正如 Ned 提到的，他们试图指出，仅仅因为当时队列的大小`t1`是 7 并不意味着当你推送时它仍然是 7或稍后弹出值。

问题是，假设您从 qsize 返回的大小在您从该队列中推送/弹出一个值时仍然是正确的，这可能会在多线程环境中出现意外行为。

例如：

```
q = Queue()
if q.qsize > 0: # size is 1 here
    # another thread runs here and gets an item from your queue
    # this get fails and throws an exception in your thread:
    item = q.get(False)
    # do whatever processing with item you need to do 
```

这是一个 LBYL“在你跳跃之前先看”的例子，它很危险，因为当多个线程正在访问队列时，这里可能会出现竞争条件。

在这种情况下，您应该支持 EAFP 或“更容易请求宽恕而不是许可”并执行以下操作：

```
from Queue import Queue, Empty
import time
q = Queue()
try:
    item = q.get(False)
    # do whatever processing with item you need to do 
except Empty:
    time.sleep(1) 
```

# c# - 如何将 Tap 效果添加到堆栈面板？

> ID：11591958
> 
> 赞同：0
> 
> 时间：2012-07-21T11:55:22.147
> 
> 标签：c#, xaml, windows-8

是否可以将点击效果添加到堆栈面板或其他控件？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T12:16:34.077

本文介绍如何添加倾斜行为

[CodeProject 上的行为和触发器，带有倾斜示例](http://www.codeproject.com/Articles/57664/Silverlight-and-WPF-Behaviours-and-Triggers-Unders)

# asp.net-membership - 为什么 Membership.GetUser() 试图创建表应用程序？

> ID：11591965
> 
> 赞同：4
> 
> 时间：2012-07-21T11:56:56.410
> 
> 标签：asp.net-membership, asp.net-mvc-4

正如我在 VS2012 调试器中看到的，方法 Membership.GetUser() 首先尝试创建表“应用程序”（使用 CREATE TABLE NonQuery），获取表已经存在的异常，然后为我返回正确的 MembershipUser。我不明白，为什么它试图创建现有的表？每次调用 GetUser 或 GetAllUsers 都会导致尝试创建现有表......它会消耗性能，我想摆脱它。

我为用户和角色使用 .NET Framework 4.5、MVC4、新的数据库方案（无 aspnet_ 前缀）。

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T23:56:56.323

在尝试初始化数据库时，每个应用程序域应该只执行一次此操作。即使没有在每个页面请求上重置服务器，您是否也会遇到这些异常？

# css - css右侧边栏高度100%

> ID：11591969
> 
> 赞同：2
> 
> 时间：2012-07-21T11:57:10.280
> 
> 标签：css, height, footer, sidebar

我发现很少有关于 100% 高度和粘性页脚的教程。但是，我无法实现 100% 高度的右侧边栏。我的侧边栏的高度似乎与侧边栏中的内容相关，即使它设置为 100%。有任何想法吗？

这是我的html

```
 <body>
    <div id="container">
<div id="header">
</div>
   <div id="wrap">
        <div id="sidebar-right">
            <div id="menu">
                  lorem ipsum
              </div>
        </div>
        <div id="content">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus adipiscing, nunc quis vehicula vehicula, mi nunc tempor lorem, nec congue augue neque vitae augue. 
   </div>
<div class="push"></div>
</div>
<div class="footer">
</div>
</body> 
```

和 CSS

```
html, body{margin: 0; padding: 0; height: 100%;}
#sidebar-right{
    background: #ccc;
    float: right;
    height: 100%;
    width: 300px;
    border-left: 2px #fff solid;
}
#container{
height: auto !important;
    margin: 0 auto -142px;
    min-height: 100%;
}

#wrap {
    height: 100%;
    overflow: hidden;
    }

#menu {margin: 150px 0 0 50px;} 

.footer {
    background: none repeat scroll 0 0 #BA6F19;
    clear: both;
    height: 100px;
    position: relative;
}   

#header {
    background: none repeat scroll 0 0 #BA6F19;
    height: 50px;
    padding: 20px;
}
#content {
    float: right;
    margin-top: 100px;
    width: 400px;
    height: 100%
    }
.footer, .push {
    height: 142px;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T12:00:21.470

```
#sidebar-right{
    background: #ccc;
    float: right;
    height: 100% !important;
    width: 300px;
    border-left: 2px #fff solid;
} 
```

尝试这个？

# php - 如何使用 html meta 来验证用户站点？

> ID：11591985
> 
> 赞同：0
> 
> 时间：2012-07-21T11:59:35.427
> 
> 标签：php, html, wordpress

我正在尝试创建一个 wordpress 插件，用户可以在其中提交他们的网站并通过 html 元标记验证所有权。我不知道 html 元是如何工作的，也不知道如何通过 php 验证它们。我擅长 php，我只需要一些提示如何做到这一点，我会想办法的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T12:02:03.273

使用 html dom 抓取他们的网页，然后检查他们是否添加了特定的元标记。

你可以使用这个-> [http://simplehtmldom.sourceforge.net/](http://simplehtmldom.sourceforge.net/)

# java - 将 servlet-api.jar 添加到我的项目时，portlet 不可用

> ID：11591989
> 
> 赞同：0
> 
> 时间：2012-07-21T12:00:13.807
> 
> 标签：java, servlets, websphere, portlet, ibm-rad

我继承了部署在 websphere 上的遗留应用程序。我的部分任务是创建一个 servlet。但是，在从 SVN 签出项目并创建我的 servlet 后，我​​收到**Portlet Unavailable**错误。

当我删除 servlet-api.jar 时，portlet 再次正常工作。但是，我的 servlet 将不再运行，因为该项目没有 servlet jar 文件。自然，所有对上述 jar 文件的引用现在都会生成**无法解析**的错误。

然后我检查了前一个程序员创建的现有 servlet，发现它们没有上述错误。我能看到的唯一区别是 IDE，IBM RAD，除了这些代码行之外还有**黄色箭头：**

![工作小服务程序](../Images/2e3f37125a57ea8acc8f7a1fa825beb0.png)

而我的有这些：

![在此处输入图像描述](../Images/0c1f8cec4ca325f3b6603f1efa4e1786.png)

你有没有遇到过这种情况？

# android - 将类的 Arraylist 放入 ListView (android)

> ID：11591997
> 
> 赞同：0
> 
> 时间：2012-07-21T12:01:24.903
> 
> 标签：android, arraylist, nullpointerexception

我在将`ArrayList`我`OverlayItems`在`CustomPinpoint`课堂上创建的 链接到`Listview`. 基本上我试图在一个小列表中显示我在地图上添加的标记。但是使用下面的代码，我得到一个`NullPointerException`错误。我明白为什么（我认为这是因为我创建了 2 个不相互引用的单独的“自定义”实例），但我不明白我该如何解决它......

先感谢您。

```
package com.lars.pinpoint;

import java.io.IOException;

import java.util.List;
import java.util.Locale;

import com.google.android.maps.GeoPoint;
import com.google.android.maps.MapActivity;
import com.google.android.maps.MapController;
import com.google.android.maps.MapView;
import com.google.android.maps.MyLocationOverlay;
import com.google.android.maps.Overlay;
import com.google.android.maps.OverlayItem;
import com.lars.pinpoint.R;
import android.app.AlertDialog;
import android.content.DialogInterface;
import android.graphics.drawable.Drawable;
import android.location.Address;
import android.location.Geocoder;
import android.os.Bundle;
import android.view.MotionEvent;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ArrayAdapter;
import android.widget.ListView;
import android.widget.TabHost;
import android.widget.TextView;
import android.widget.Toast;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.View;
import android.widget.TabHost.OnTabChangeListener;
import android.widget.TabHost.TabContentFactory;

public class Main extends MapActivity implements OnTabChangeListener{
    /** Called when the activity is first created. */
    private static final String LIST_TAB_TAG = "List";
    private static final String MAP_TAB_TAG = "Map";

MapView map;
ListView listView;

TabHost tabHost;

long start;
long stop;
int x, y;

MyLocationOverlay compass;
MyLocationOverlay MyLoc;
MapController controller;

GeoPoint touchedPoint;
Drawable d;
List<Overlay> overlayList;
CustomPinpoint custom;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    tabHost = (TabHost) findViewById(android.R.id.tabhost);
    tabHost.setup();

    listView = (ListView) findViewById(R.id.list);
    listView.setEmptyView((TextView) findViewById(R.id.empty));
    d = getResources().getDrawable(R.drawable.ic_launcher);
    CustomPinpoint custom = new CustomPinpoint(d,Main.this);
    listView.setAdapter(new ArrayAdapter<OverlayItem>(this, android.R.layout.simple_list_item_1, custom.pinpoints));
    listView.setOnItemClickListener(new OnItemClickListener() {
        public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
            GeoPoint geoPoint = ((OverlayItem) listView.getAdapter().getItem(position)).getPoint();
            if(geoPoint != null) {

                map.getController().animateTo(geoPoint);

                tabHost.setCurrentTab(1);

        }

        }
    });

    map = (MapView) findViewById(R.id.mapview);
    map.setBuiltInZoomControls(true);
    map.postInvalidate();

    Touch t = new Touch();
    overlayList = map.getOverlays();
    overlayList.add(t);
    compass = new MyLocationOverlay(Main.this, map);
    overlayList.add(compass);
    controller = map.getController();

    MyLoc = new MyLocationOverlay(Main.this, map);
    overlayList.add(MyLoc);
    map.postInvalidate();
    MyLoc.runOnFirstFix(new Runnable() {
        public void run() {
            map.getController().animateTo(MyLoc.getMyLocation());
            }
    }); 

    tabHost.addTab(tabHost.newTabSpec(LIST_TAB_TAG).setIndicator("List").setContent(new TabContentFactory() {
        public View createTabContent(String arg0) {
            return listView;
        }
    }));
    tabHost.addTab(tabHost.newTabSpec(MAP_TAB_TAG).setIndicator("Map").setContent(new TabContentFactory() {
        public View createTabContent(String arg0) {
            return map;
        }
    }));

    //HACK to get the list view to show up first,
    // otherwise the mapview would be bleeding through and visible
    tabHost.setCurrentTab(1);
    tabHost.setCurrentTab(0);

}

@Override
protected void onPause() {
    // TODO Auto-generated method stub
    compass.disableCompass();
    super.onPause();
    MyLoc.disableMyLocation();
    finish();
}

@Override
protected void onResume() {
    // TODO Auto-generated method stub
    compass.enableCompass();
    super.onResume();
    MyLoc.enableMyLocation();

}

@Override
protected boolean isRouteDisplayed() {
    // TODO Auto-generated method stub
    return false;
}

class Touch extends Overlay {
    public boolean onTouchEvent(MotionEvent e, MapView m) {
        if (e.getAction() == MotionEvent.ACTION_DOWN) {
            start = e.getEventTime();
            x = (int) e.getX();
            y = (int) e.getY();
            touchedPoint = map.getProjection().fromPixels(x, y);

        }
        if (e.getAction() == MotionEvent.ACTION_UP) {
            stop = e.getEventTime();
        }
        if (stop - start > 1500) {
            AlertDialog alert = new AlertDialog.Builder(Main.this).create();
            alert.setTitle("Pick an option.");

            alert.setButton(DialogInterface.BUTTON_POSITIVE,"Place a pinpoint.",
                    new DialogInterface.OnClickListener() {

                        public void onClick(DialogInterface dialog,
                                int which) {
                            // TODO Auto-generated method stub

                            OverlayItem overlayItem = new OverlayItem(touchedPoint, "Pinpoint", "2nd String");
                            custom.insertPinpoint(overlayItem);
                            overlayList.add(custom);

                        }
                    });
            alert.setButton(DialogInterface.BUTTON_NEUTRAL,"Get address.",
                    new DialogInterface.OnClickListener() {

                        public void onClick(DialogInterface dialog,
                                int which) {
                            // TODO Auto-generated method stub

                        Geocoder geocoder = new Geocoder(getBaseContext(), Locale.getDefault());
                            try{

                                List<Address> address = geocoder.getFromLocation(touchedPoint.getLatitudeE6() /1E6, touchedPoint.getLongitudeE6()/1E6, 1);                          

                                if (address.size() > 0){
                                    String display = "";                                                
                                    for (int i = 0; i < address.get(0).getMaxAddressLineIndex(); i++){

                                        display += address.get(0).getAddressLine(i) + "\n";
                                    }
                                    Toast t3 = Toast.makeText(getBaseContext(), display, Toast.LENGTH_LONG);
                                    t3.show();
                                }

                            } catch (IOException e) {
                                // TODO Auto-generated catch block
                                e.printStackTrace();
                            }finally{

                            }

                        }
                    });
            alert.setButton(DialogInterface.BUTTON_NEGATIVE,"Toggle View", new DialogInterface.OnClickListener() {

                public void onClick(DialogInterface dialog, int which) {
                    // TODO Auto-generated method stub

                    if (map.isSatellite()){
                        map.setSatellite(false);

                    }else{

                        map.setSatellite(true);
                    }

                }
            });
            alert.show();
            return true;
        }

        return false;
    }
}

 public void gpsCurrentLocation()
 {

     tabHost.setCurrentTab(1);
     GeoPoint p = MyLoc.getMyLocation();
     map.getController().animateTo(p);

 }

// Menu XML file (menu.xml)
 @Override
 public boolean onCreateOptionsMenu(Menu menu)
 {
 MenuInflater menuInflater = getMenuInflater();
 menuInflater.inflate(R.menu.activity_main, menu);
 return true;
 }

 /**
 * Event Handling for Individual menu item selected
 * Identify single menu item by it's id
 * */

 @Override
 public boolean onOptionsItemSelected(MenuItem item)
 {

 switch (item.getItemId())
 {
 case R.id.my_location:
 Toast.makeText(Main.this, "Moving To Current location", Toast.LENGTH_SHORT).show();
 gpsCurrentLocation();

 return true;

 default:
 return super.onOptionsItemSelected(item);
 }
 }

public void onTabChanged(String tabId) {
    // TODO Auto-generated method stub

} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T12:03:13.583

采用 `custom = new CustomPinpoint(d,Main.this);`

**代替**

```
 CustomPinpoint custom = new CustomPinpoint(d,Main.this); 
```

# javascript - Highcharts ajax实现未成功加载对象

> ID：11591999
> 
> 赞同：0
> 
> 时间：2012-07-21T12:01:37.470
> 
> 标签：javascript, jquery, highcharts

我刚开始使用 Highcharts 并试图从我拥有的 API 数据中加载类别，但我似乎无法调用我在请求之前设置的选项对象

```
 var categories = [];
        $.ajax({
            url: url,
            data: '',
            type: "GET",
            contentType: "application/json; charset=utf-8",
            dataType: "jsonp",
            success: function (result) {
                $.each(result, function () {
                    $.each(this.Values, function (i) {
                        var date = this.Date.substr(0, 4);
                        //console.log(date);
                        //console.log(this.Value);
                        categories[i] = this.Value
                        //console.log(categories);
                        //options.xAxis.categories.push(this.Value);
                    });
                });
                console.log(options.xAxis.categories);
            }
        }); 
```

这是对象

```
 var url = sApiURL + '/api/';

    $(document).ready(function () {
        //testing for Housing_Prices
        var chart;
        var options = {
            chart: {
                renderTo: 'Housing_Prices',
                type: 'column'
            },
            title: {
                text: 'Mean/Median prices for homes over the years'
            },
            xAxis: {
                categories: []
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Price'
                }
            },
            legend: {
                layout: 'vertical',
                backgroundColor: '#FFFFFF',
                align: 'left',
                verticalAlign: 'top',
                x: 80,
                y: 70,
                floating: true,
                shadow: true
            },
            tooltip: {
                formatter: function () {
                    return "$600,000 in " + this.key;
                }
            },
            plotOptions: {
                column: {
                    pointPadding: 0.2,
                    borderWidth: 0
                }
            },
            series: [{
                name: 'Existing Home Median Price',
                data: [49.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]

            }, {
                name: 'Existing Condo Median Price',
                data: [83.6, 78.8, 98.5, 93.4, 106.0, 84.5, 105.0, 104.3, 91.2, 83.5, 106.6, 92.3]

            }, {
                name: 'Existing Single Family Median Price',
                data: [48.9, 38.8, 39.3, 41.4, 47.0, 48.3, 59.0, 59.6, 52.4, 65.2, 59.3, 51.2]

            }, {
                name: 'Starter Home Median Price',
                data: [42.4, 33.2, 34.5, 39.7, 52.6, 75.5, 57.4, 60.4, 47.6, 39.1, 46.8, 51.1]

            },
            {
                name: 'Existing Home Mean Price',
                data: [48.9, 38.8, 39.3, 41.4, 47.0, 48.3, 59.0, 59.6, 52.4, 65.2, 59.3, 51.2]
            },
            {
                name: 'Existing Condo Mean Price',
                data: [48.9, 38.8, 39.3, 41.4, 47.0, 48.3, 59.0, 59.6, 52.4, 65.2, 400.3, 51.2]
            },
            {
                name: 'Existing Single Family Mean Price',
                data: [48.9, 38.8, 39.3, 41.4, 47.0, 48.3, 59.0, 59.6, 52.4, 65.2, 59.3, 200.2]
            }]
        }; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T12:27:46.230

您的`url`变量在 DOM-ready 范围之外，但`options`并非如此，因此在调用 XHR 的任何范围内都不可见。

```
var url = sApiURL + '/api/', options;

$(document).ready(function () {
    //testing for Housing_Prices
    var chart;
    options = { 
```