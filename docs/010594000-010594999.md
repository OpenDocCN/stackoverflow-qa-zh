# StackOverflow 问答 10594000-10594999

# java - 当我尝试使用证书转换字符串时，引发异常

> ID：10594000
> 
> 赞同：2
> 
> 时间：2012-05-15T04:03:15.827
> 
> 标签：java, security, applet, certificate, x509certificate

我有一个签署文档的小程序，并将文档、签名和证书发送到服务器端。在服务器端 portlet 接收这 3 个文件，所有文件都以 base64 格式存储，但是当我尝试获取证书时会引发异常

```
java.security.cert.CertificateException: Could not parse certificate: java.io.IOException: Empty input
at sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:104) 
```

小程序端代码：

```
public static byte[] certificate;

public static String getCertificateString() {
        String str = "";
        byte[] result = null;
        result = Base64.encode(certificate);
        for (int i = 0; i < result.length; i++) {
            str += (char) (result[i]);
        }
        return str;
    }

    //initialization of certificate from the store
    Certificate cert = store.getCertificate(aliasKey);
    certificate = cert.toString().getBytes(); 
```

在此之后，我将证书发送到需要验证签名的 portlet。但是证书转换失败。

门户代码：

```
String certificate = request.getParameter("cert");
byte[] cert_array = Base64.decode(certificate.getBytes());
try {
    cert = CertificateFactory.getInstance("X509").generateCertificate(new ByteArrayInputStream(cert_array));
}catch(Exception e){
    e.printStackTrace();
} 
```

而此时，在 try 块中，引发了 Exception

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-10-01T17:18:57.547

永远不要相信所有证书。那是非常危险的。如果你这样做，你也可以不使用 HTTPS 而只使用 HTTP

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T05:14:15.217

好的，@test1604 你尝试这样的事情，是实现 X509TrustManager 类，好的，我们开始：

```
import java.security.cert.CertificateException;
import java.security.cert.X509Certificate;

public class YouNameClass implements X509TrustManager {... 
   public YouNameClass() {
      super();
   }
} 
```

并添加此方法，

```
private static void trustAllHttpsCertificates() throws Exception {
//  Create a trust manager that does not validate certificate chains:
    javax.net.ssl.TrustManager[] trustAllCerts = new javax.net.ssl.TrustManager[1];
    javax.net.ssl.TrustManager tm = new YouNameClass();
    trustAllCerts[0] = tm; 
    javax.net.ssl.SSLContext sc = javax.net.ssl.SSLContext.getInstance("SSL");
    sc.init(null, trustAllCerts, null);
    javax.net.ssl.HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());
} 
```

和方法覆盖：

```
 @Override
     public void checkClientTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {
       return;
}

    @Override
    public void checkServerTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {
       return;
}

    @Override
    public X509Certificate[] getAcceptedIssuers() {
       return null;
} 
```

就是这样。:)

# twitter-bootstrap - 在 twitter bootstrap 中编辑导航栏文本颜色

> ID：10594006
> 
> 赞同：1
> 
> 时间：2012-05-15T04:04:18.493
> 
> 标签：twitter-bootstrap, textcolor

我正在尝试编辑导航栏中元素的字体颜色。我不想直接编辑 html 字体颜色。我想在css中做到这一点。这可能吗？我可以扩展引导类以覆盖他们自己使用的字体颜色吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T06:58:28.953

是的，您可以更改颜色。尝试使用 @less 或 $sass 变量来执行此操作：

**使用较少变量的示例：**

```
/
/ Navbar
// -------------------------

@navbarText: #7490BC;
@navbarLinkColor: #FFFFFF;
@navbarLinkColorHover: @white;
@navbarLinkColorActive: @navbarLinkColorHover;
@navbarLinkBackgroundHover: transparent;
@navbarLinkBackgroundActive: @navbarBackground;

@navbarSearchPlaceholderColor: #ccc;
@navbarBrandColor: @navbarLinkColor; 
```

# raphael - 我可以用javascript连接对象吗？

> ID：10594009
> 
> 赞同：0
> 
> 时间：2012-05-15T04:05:00.100
> 
> 标签：raphael, jsplumb, paperjs

我想做一个看起来像这样的界面

![在此处输入图像描述](../Images/e9cf1b17d8b178e4a20cf943d481002a.png)

所以这是用户可以做的

1- 将人们彼此联系起来 2- 查看有关每个人的一些信息（气球） 3- 移动这些对象而不会失去联系

然后我想用ajax保存这些连接信息，这样我就可以看到谁和谁连接了，我还需要在用户下次看到页面的时候重新绘制这些图。

似乎 jsPlumb、paperjs 和 raphael 都可以做到这一点以及更多，我的问题是哪一个适合这种需求。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T08:08:11.370

检查基于拉斐尔的石墨。

[http://www.draw2d.org/graphiti/jsdoc/#!/example](http://www.draw2d.org/graphiti/jsdoc/#!/example)

问候

安德烈亚斯

# ruby-on-rails - 我如何获取所有文章并按评论数量排序？

> ID：10594010
> 
> 赞同：1
> 
> 时间：2012-05-15T04:05:08.003
> 
> 标签：ruby-on-rails, ruby-on-rails-3, mongodb, mongoid

> **可能重复：**
> [我如何只抓取 20 分钟前创建的评论文章？](https://stackoverflow.com/questions/10594249/how-would-i-grab-only-articles-with-comments-that-were-created-20-minutes-ago)

使用 mongodb 和 mongoid。如何获取所有文章并按评论数量排序？

```
class Article
  include Mongoid::Document

  has_many :comments
end

class Comment
  include Mongoid::Document

  belongs_to :article
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T00:29:43.500

我不确定您打算排序的方向，所以我包括了两者的索引 - 如果您不打算使用它，您应该删除一个，但这应该对您有用：

```
class Article
  include Mongoid::Document

  field :comments_count, :type => Integer, :default => 0
  index [[ :comments_count, Mongo::ASCENDING ]]
  index [[ :comments_count, Mongo::DESCENDING ]]
  has_many :comments

  before_save :update_comments_count

  protected
  def update_comments_count
    self.comments_count = self.comments.count
  end
end 
```

# asp.net-mvc - MVC3 使用路由还是使用控制器逻辑？

> ID：10594013
> 
> 赞同：1
> 
> 时间：2012-05-15T04:06:06.370
> 
> 标签：asp.net-mvc, entity-framework, routing, controller, asp.net-membership

我对 MVC3 比较陌生，但我正在使用它、C# 和 EF4 来创建应用程序网站。我使用的路由与我选择 MVC3 模式时创建的默认 Microsoft 项目中的路由相同，没什么特别的：

```
 public static void RegisterRoutes(RouteCollection routes)
    {
        routes.IgnoreRoute("{resource}.axd/{*pathInfo}");

        routes.MapRoute(
            "Default", // Route name
            "{controller}/{action}/{id}", // URL with parameters
            new { controller = "Home", action = "Index", id = UrlParameter.Optional }, // Parameter defaults
            new[] { "MySite.Controllers" }
        );
    } 
```

那里一切正常。我们使用默认的 Membership Provider，用户还获得一个 INT 值来标识他们的帐户。这使他们可以通过简单的路由轻松查看他们的个人资料，例如：

www.mysite.com/profile/4

...例如。但是，客户要求预先生成大量帐户并将其分发给选定的用户。我已经想出了一种通过 SQL Server 运行它的方法，它工作正常，所有帐户都已创建（大约一千个）。此外，我添加了一个位字段（“已声明”），可以帮助确定这些预先生成的帐户是否已被这些用户“激活”。

我的问题是，当用户获得访问其（未激活的）帐户的链接时，我是否应该在该页面上进行初始**路由**时使用测试将其帐户标识为无人认领并将其发送到其他地方以完成在他们的帐户中输入详细信息？或者我应该让他们和其他人一样进入同一个页面，并在**控制器**逻辑中有一些东西将该记录标识为无人认领，然后将他们发送到另一个页面以完成输入详细信息等？有充分的理由做一个而不是另一个吗？

那些在他们的 Id 值中编造（或有印刷错误）的人呢，比如：

www.mysite.com/profile/40000000000

（并且该站点到目前为止只有一千个用户），应该以类似的方式处理，还是完全通过不同的方式处理？（即，在一种情况下，我们正在识别尚未声明的现有帐户，而在另一种情况下，我们必须确定该帐户甚至不存在。）

任何帮助将不胜感激。

**编辑：**

我正在尝试实施 Soliah 建议的解决方案，并且对 if (id != 0) 不喜欢 id 可能不在 INT 中这一事实感到困惑。我现在已经过去了，并试图找出一种方法来检查是否有效部分，但可能我还没有解决 id 不被视为 INT 的问题？有些东西肯定是不对的，即使我在我的数据库测试期间尝试再次转换它的有效性。关于为什么我收到以下错误的任何想法？我错过了什么？

```
 public class ValidProfileIdAttribute : ActionFilterAttribute
    {
        public override void OnActionExecuting(ActionExecutingContext filterContext)
        {
            var id = (Convert.ToInt32(filterContext.ActionParameters["Id"]));
            if (id != 0)
            {
                // Check if valid and behave accordingly here.
                Profile profile = db.Profiles.Where(q => q.ProfileId == (Convert.ToInt32(id))).FirstOrDefault();
            }
            base.OnActionExecuting(filterContext);
        }
    }

    Cannot implicitly convert type 'System.Linq.IQueryable<Mysite.Models.Profile>' to 'Mysite.Models.Profile'. An explicit conversion exists (are you missing a cast?) 
```

**编辑＃2：**

我正在研究罗伯特的建议，并取得了部分进展。我的代码目前如下所示：

```
 public class UserAccountActivatedAttribute : ActionMethodSelectorAttribute
    {
        public override bool IsValidForRequest(ControllerContext controllerContext, System.Reflection.MethodInfo methodInfo)
        {
            if (controllerContext == null)
            {
                throw new ArgumentNullException("controllerContext");
            }
            bool isActivated = // some code to get this state 
            return isActivated;
        }
    } 
```

在阅读了博客条目后，我得到了这篇文章，并且（信不信由你）这篇文章： http: [//pastebin.com/Ea09Gf4B](http://pastebin.com/Ea09Gf4B)

我需要将 ActionSelectorAttribute 更改为 ActionMethodSelectorAttribute 才能让事情再次发生。

但是，我不知道该怎么做是将 Id 值放入 bool isActivated 测试中。我的数据库有一个视图（'Claimed'），它可以返回一个真/假值，具体取决于它所传递的用户配置文件 ID，但我看不到在哪里添加 ID。像索利亚编辑的东西会起作用吗？

```
if (int.TryParse(filterContext.ActionParameters["Id"], id) && id != 0) {

    bool isActivated = db.Claimed.Where(c => c.ProfileId == id).FirstOrDefault(); 
```

**编辑#3：**

这是我当前的代码状态：

```
 public class UserAccountActivatedAttribute : ActionMethodSelectorAttribute
    {
        public override bool IsValidForRequest(ControllerContext controllerContext, System.Reflection.MethodInfo methodInfo)
        {
            if (controllerContext == null)
            {
                throw new ArgumentNullException("controllerContext");
            }
            // get profile id first
            int id = int.Parse((string)controllerContext.RouteData.Values["id"]);
            var profile = db.Profiles.Where(q => q.ProfileId == id).FirstOrDefault();
            bool isActivated = profile;// some code to get this state 
            return isActivated;
        }
    } 
```

对我来说，我必须将内容更改为 int.Parse((string)controllerContext.RouteData.Values 才能让它们工作，他们似乎这样做了（到那时）。我在这里发现了格式：[Bind a routevalue to a property作为视图模型一部分的对象](https://stackoverflow.com/questions/1075129/bind-a-routevalue-to-a-property-of-an-object-that-is-part-of-viewmodel)

线

```
var profile = db.Profiles.Where(q => q.ProfileId == id).FirstOrDefault(); 
```

数据库上的错误。部分，错误消息如下：

> 无法通过嵌套类型“MySite.Controllers.HomeController.UserAccountActivatedAttribute”访问外部类型“MySite.Controllers.HomeController”的非静态成员

...这是我努力尝试用 MSDN 和 Stack 来解决的问题，但结果却是空的。这会敲响警钟吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T07:21:10.120

其他人已经提出了很多建议，但让我在这里提出一些其他的建议。

## 动作方法选择器

为了保持你的控制器动作干净，你可以编写一个动作方法选择器属性来创建两个简单的动作：

```
[ActionName("Index")]
public ActionResult IndexNonActivated(int id)
{
    ...
}

[ActionName("Index")]
[UserAccountActivated]
public ActionResult IndexActivated(int id)
{
    ...
} 
```

这样，您就不必在操作中检查代码，从而使它们非常薄。选择器过滤器将确保执行与用户帐户激活状态相关的正确操作。

[您可以在我的博客文章](http://erraticdev.blogspot.com/2010/12/using-custom-action-method-selector.html)中阅读有关操作选择器属性的更多信息，但基本上您必须编写类似于以下内容的内容：

```
public class UserAccountActivatedAttribute : ActionMethodSelectorAttribute
{
    public override bool IsValidForRequest(ControllerContext controllerContext, MethodInfo methodInfo)
    {
        if (controllerContext == null)
        {
            throw new ArgumentNullException("controllerContext");
        }

        // get profile id first
        int id = int.Parse(controllerContext.RouteData.Values["id"] ?? -1);

        bool isActivated = // some code to get this state 

        return isActivated;
    }
} 
```

基本上就是这样。

这将使用户可以访问他们的个人资料，无论他们的帐户是否已被激活。或者甚至可能在稍后的某个时间停用......它会在后台无缝运行。

## 一项重要优势

如果您有两个名称不同的操作（如 Juraj 建议的那样），一个用于活动配置文件，另一个用于激活，您必须同时签入，因为即使是活动用户也可以访问激活操作：

```
profile/4 > for active profiles
profile/activate/4 > for inactive profiles 
```

两个动作都应该检查状态并相互重定向，以防状态不“适合”。这也意味着每次发生重定向时，都会检查配置文件两次。在每一个动作中。

操作方法选择器将**只检查一次**配置文件。无论用户配置文件处于什么状态。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T05:41:56.133

我宁愿保持我的控制器很薄，并将其放在一个动作过滤器中，您可以`Index`在控制器的动作上进行注释`Profile`。

```
public class ValidProfileIdAttribute : ActionFilterAttribute {
  public override void OnActionExecuting(ActinExecutingContext filterContext) {
    int id;

    if (int.TryParse(filterContext.ActionParameters["Id"], id) && id != 0) {
        // Check if valid and behave accordingly here.
        var profile = db.Profiles.Where(q => q.ProfileId == id).FirstOrDefault();
    }
    base.OnActionExecuting(filterContext);
  }
} 
```

该`OnActionExecuting`方法将在您的控制器操作之前调用。

在您的控制器中：

```
[ValidProfileId]
public ActionResult Index(int id) {
  ...  
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T04:18:06.633

我建议在控制器中使用该逻辑，因为一旦他/她被激活，他们就可以使用相同的链接访问他们的个人资料。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-15T10:30:15.420

检查帐户是否被激活是应用程序逻辑的一部分，应该在控制器内部（或更深层次）实现。在控制器中，您可以将未激活的用户重定向到任何其他控制器/操作以完成激活。URL 路由机制应该简单地根据传入 URL 的形状进行路由，并且不应该联系数据库。

# java - wait-notify 和 CountDownLatch 的区别

> ID：10594014
> 
> 赞同：7
> 
> 时间：2012-05-15T04:06:17.647
> 
> 标签：java, concurrency, synchronization

我需要一些帮助来了解使用 CountDownLatch 相对于传统等待通知的优势。我认为 notifyAll() 确实做同样的事情，而且似乎更容易使用（可能是因为熟悉）。

另外， CountDownLatch 的 wait() 和 await() 有什么区别？

谢谢 ！

编辑：我想我需要改写我的查询：

Await() 根据文档说：

> 使当前线程**等待**直到锁存器倒计时到零，除非线程被中断。

对我来说，很难看出 wait() 和 await() 之间的区别 - await() 确实在掩护下使用了 wait() ，并且当计数达到零时似乎有一个隐式 notifyAll() 。

我的意思是，为什么我不应该简单地使用 wait-notifyAll() 机制（使用我自己的计数器变量处理），而不是使用 CountDownLatch ？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-15T04:17:45.450

他们当然不会做同样的事情：`CountDownLatch`仅在事件计数达到 0 时发出信号并且它会自动执行此操作，`wait-notify`如果您想实现相同的行为，则需要您保持自己的计数。实现相同的行为通常容易出错，最好避免它（特别是如果您不熟悉并发编程）。比较`CountDownLatch`甚至`wait-notify`几乎不是苹果和橘子的比较，它更像是比较自动钻和内六角扳手。

我不知道您是否使用过`notifyAll()`and `CountDownLatch`，但`notifyAll()`除非您一直计算发生了多少事件，否则单独使用不会给您相同的行为。`CountDownLatch`可能最适合执行固定数量的任务并等待这些任务完成，然后再继续执行程序的其余部分。当您有固定数量的线程（例如`ThreadPool`）执行固定数量的任务时，它特别有用，但是您的线程比任务少得多并且您必须重用它们。使用 a`CountDownLatch`您可以轻松地等待所有任务完成。我不知道你是如何使用`notifyAll()`来实现相同的行为的，`waitNotify()`更合适）。

关于 和 之间的区别`wait()`，`await()`我对你有些失望！查找文档是任何问题的第一步：

[http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html)

`await()`是 while 的实际函数，`CountDownLatch`继承`wait()`自`Object`. 我建议您检查文档以了解他们的工作。

# objective-c - 由于未捕获的异常“NSInvalidArgumentException”而终止应用程序，原因：“*** -[NSURL initFileURLWithPath:]: nil string parameter”

> ID：10594019
> 
> 赞同：0
> 
> 时间：2012-05-15T04:07:30.677
> 
> 标签：objective-c, crash, nsurl

我试图在调用它们时随机播放 4 个音频文件。这是代码

```
 // randomize the playback on the setShot files
   int randomNumber = arc4random() % 4 + 1;
   NSString *tmpFileName = [[NSString alloc] initWithFormat:@"SetShot%d", randomNumber];
   NSString *fileName = [[NSBundle mainBundle] pathForResource:tmpFileName ofType:@"aif"];
   SystemSoundID soundID;
   AudioServicesCreateSystemSoundID((__bridge CFURLRef)[NSURL fileURLWithPath:fileName], &soundID);
   AudioServicesPlaySystemSound (soundID); 
```

我在我的设备上而不是在模拟器中遇到上述崩溃。我对编码相当陌生。感谢你的帮助。

声音文件是 SetShot01 到 SetShot04

ARC-armv6,armv7 xcode 4.3.2 在带有 5.1.1 的设备上

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T04:17:03.850

您的`tmpFileName`文件可能不存在于主包中。这将导致一个零 URL。这是因为您说您的文件名是 SetShot0[1-4]，而您正在创建的字符串是 SetShot[1-4]。改变

```
NSString *tmpFileName = [[NSString alloc] initWithFormat:@"SetShot%d", randomNumber]; 
```

读作

```
 NSString *tmpFileName = [[NSString alloc] initWithFormat:@"SetShot0%d", randomNumber]; 
```

# r - 以年和月为单位计算年龄并融化数据

> ID：10594027
> 
> 赞同：4
> 
> 时间：2012-05-15T04:08:32.953
> 
> 标签：r, time

我正在处理一些时间数据，但在将时差转换为年和月时遇到问题。

我的数据看起来或多或少是这样的，

```
dfn <- data.frame(
Today  = Sys.time(),
DOB  = seq(as.POSIXct('2007-03-27 00:00:01'), len= 26, by="3 day"),
Patient  = factor(1:26, labels = LETTERS)) 
```

`DOB`首先，我从今天的数据 ( )中减去出生数据 ( `Today`)。

```
dfn$ageToday <-  dfn$Today - dfn$DOB 
```

这给了我`Time difference in days`.

```
dfn$ageToday
 Time differences in days
  [1] 1875.866 1872.866 1869.866 1866.866 1863.866
  [6] 1860.866 1857.866 1854.866 1851.866 1848.866
 [11] 1845.866 1842.866 1839.866 1836.866 1833.866
 [16] 1830.866 1827.866 1824.866 1821.866 1818.866
 [21] 1815.866 1812.866 1809.866 1806.866 1803.866
 [26] 1800.866
 attr(,"tzone")
 [1] "" 
```

这就是我的问题的第一部分；**如何将此差异转换为年和月（四舍五入为月）？**（即 4.7、4.11 等）

我阅读了`?difftime`手册页和`?format`，但我没有弄明白。

任何帮助，将不胜感激。

此外，我想融化我的最终对象，如果我尝试使用这个命令在上面的数据框上使用融化，

```
require(plyr)
require(reshape)
mdfn <- melt(dfn, id=c('Patient')) 
```

我收到了我从未见过的奇怪警告

```
Error in as.POSIXct.default(value) : 
  do not know how to convert 'value' to class "POSIXct" 
```

所以，我的第二个问题是；**如何在变量`melt`旁边创建时间差异`POSIXct`？**`dfn$ageToday`如果我没有一切就融化，就像魅力一样。

谢谢，埃里克

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-15T05:37:20.853

该`lubridate`软件包使处理日期和时间（包括查找时差）变得非常容易。

```
library("lubridate")
library("reshape2")

dfn <- data.frame(
    Today  = Sys.time(),
    DOB  = seq(as.POSIXct('2007-03-27 00:00:01'), len= 26, by="3 day"),
    Patient  = factor(1:26, labels = LETTERS))

dfn$diff <- new_interval(dfn$DOB, dfn$Today) / duration(num = 1, units = "years")

mdfn <- melt(dfn, id=c('Patient'))
class(mdfn$value) # all values are coerced into numeric 
```

该`new_interval()`函数计算两个日期之间的时间差。请注意，有一个功能`today()`可以替代您对`Sys.time`. 最后请注意`duration()`创建标准 ehm 持续时间的函数，您可以使用该函数将间隔除以标准单位的长度，在本例中为一年的单位。

如果您想保留 and 的内容`Today`，`DOB`那么您可能需要`character`先将所有内容转换为，然后再重新转换...

```
library("lubridate")
library("reshape2")

dfn <- data.frame(
  Today  = Sys.time(),
  DOB  = seq(as.POSIXct('2007-03-27 00:00:01'), len= 26, by="3 day"),
  Patient  = factor(1:26, labels = LETTERS))

# Create standard durations for a year and a month
one.year <- duration(num = 1, units = "years")
one.month <- duration(num = 1, units = "months")

# Calculate the difference in years as float and integer
dfn$diff.years <- new_interval(dfn$DOB, dfn$Today) / one.year
dfn$years <- floor( new_interval(dfn$DOB, dfn$Today) / one.year )

# Calculate the modulo for number of months
dfn$diff.months <- round( new_interval(dfn$DOB, dfn$Today) / one.month )
dfn$months <- dfn$diff.months %% 12

# Paste the years and months together
# I am not using the decimal point so as not to imply this is
# a numeric representation of the diference
dfn$y.m <- paste(dfn$years, dfn$months, sep = '|')

# convert Today and DOB to character so as to preserve them in melting
dfn$Today <- as.character(dfn$Today)
dfn$DOB <- as.character(dfn$DOB)

# melt using string representation of difference between the two dates
dfn2 <- dfn[,c("Today", "DOB", "Patient", "y.m")]
mdfn2 <- melt(dfn2, id=c('Patient'))

# alternative melt using numeric representation of difference in years
dfn3 <- dfn[,c("Today", "DOB", "Patient", "diff.years")]
mdfn3 <- melt(dfn3, id=c('Patient')) 
```

# ruby-on-rails - User.destroy_all 或 User.delete_all 做什么？

> ID：10594028
> 
> 赞同：4
> 
> 时间：2012-05-15T04:08:38.283
> 
> 标签：ruby-on-rails

我正在开发一个具有以下黄瓜步骤的项目：

```
Given /^no registered users$/ do
  User.delete_all
end 
```

作为一个新的 RoR 用户，这看起来有点危险，即使我要在我们的开发数据库上进行测试，因为我们的`User`表有实际数据。这行代码在做什么？

谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-15T13:10:23.830

delete_all 来自 activerecord 库而不是来自 FactoryGirl。

这两者之间的区别是：

## **delete_all(条件 = nil)**公共

*   在不先实例化记录的情况下删除匹配条件的记录，因此不调用destroy方法也不调用回调。
*   这是一条直接进入数据库的 SQL DELETE 语句，比 destroy_all 高效得多。
*   但是要小心关系，特别是：不遵守在关联上定义的依赖规则。
*   返回受影响的行数。

## **destroy_all（条件 = nil）**公开

*   通过实例化每条记录并调用其destroy方法来销毁匹配条件的记录。
*   执行每个对象的回调（包括：依赖关联选项和 before_destroy/after_destroy Observer 方法）。
*   返回被销毁的对象的集合；每个都将被冻结，以反映不应进行任何更改（因为它们无法持久化）。

## **笔记**

当您一次删除多条记录时，每条记录的实例化、回调执行和删除可能会很耗时。它为每条记录生成至少一个 SQL DELETE 查询。如果您想快速删除许多行，而不关心它们的关联或回调，请改用 delete_all。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T04:17:48.890

`delete_all`不是来自 FactoryGirl，它是一个活动记录命令，它会从您的数据库中删除用户。如果您从 cucumber 运行它，那么它应该针对您的测试数据库运行，而不是开发。

更好的选择是`destroy_all`因为该版本将运行任何关联的回调。例如，如果用户有帖子，并且`before_destroy`如果用户被删除，您有一个回调来删除帖子。

这是有关更多信息的[链接](http://apidock.com/rails/ActiveRecord/Relation/delete_all)`delete_all`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-15T13:00:11.737

`delete_all`将在不激活任何 Rails 回调的情况下强制从相应表中删除记录。

`destroy_all`将删除记录但也会调用模型回调

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-15T04:33:38.090

根据您的示例，它可能会删除所有用户以允许下一个 Cucumber 步骤注册新用户。[ActiveRecord::Base#delete_all 方法](http://apidock.com/rails/ActiveRecord/Base/delete_all/class)部分说：

> 在不先实例化记录的情况下删除匹配条件的记录，因此不调用destroy方法也不调用回调。这是一条直接进入数据库的 SQL DELETE 语句，比 destroy_all 高效得多。

编写该测试可能有更好的方法，但其*目的*显然是尽可能有效地删除用户记录。

至于它是否危险，您的测试应该针对测试数据库而不是开发或生产数据库运行。由于可能会错误地配置您的测试框架以使用错误的数据库，因此您当然可以添加一个步骤或条件来测试是否`Rails.env.test?`为真。这是为了让内心平静而付出的相当小的代价。

# django - 防止在测试之间在 Django 中删除 Selenium 测试数据库

> ID：10594029
> 
> 赞同：0
> 
> 时间：2012-05-15T04:09:11.007
> 
> 标签：django, selenium

在 Django 中使用 Selenium 我试图在我的 django 应用程序上运行 2 个验收测试。第一个测试注册了我的应用程序的新用户，第二个测试将该用户登录到系统并尝试执行操作。但是，在运行测试时，在第一次和第二次测试之间，用户将从数据库中删除。似乎数据库在每次测试之间都被擦除了。我看到的所有文档都表明这不应该发生。我怎样才能防止这种情况发生？

注意：我的测试类的 setUpClass 和 tearDownClass 方法都有 @classmethod 装饰器。此外，浏览器不会在运行的两个测试之间关闭。

# jquery - (jQuery Highchart) 有没有办法将额外的自定义数据放入工具提示框？

> ID：10594031
> 
> 赞同：4
> 
> 时间：2012-05-15T04:09:30.320
> 
> 标签：jquery, tooltip, highcharts

我想在工具提示框中添加额外的**自定义**统计数据行，它出现在鼠标悬停上。据我所知，它仅显示名为`series:`and的对象数组中的数据`tooltip:`。

我只想为每个工具提示（不常见）放入更多**带有单独值的自定义数据（进入工具提示框）。**

例如：
栏 1 ============================= 41%`Tooltip: Water: 7.86%`
栏 2 ============== === 33%`Tooltip: Salt: 5.2%, Water: 80%`
酒吧 3 ======================= 35%`Tooltip: Caffeine: 51%, Alcohol: 31%, Water: 4%`

**每个栏的工具提示项和值都不同**。我怎样才能？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-05-15T04:30:40.463

您可以使用 存储此信息，`series`如下所示。

```
{
    type: 'bar',
    name: 'Bar3',
    composition: {
        'Caffeine': '51%',
        'Alcohol': '31%',
        'Water': '4%'
    },
    data: [35]
} 
```

然后您可以通过工具提示格式化程序获取它。用于`this`引用系列。

```
tooltip: {
    formatter: function() {
        console.log(this.series.options.composition);
    }
} 
```

然后你只需要根据你想要的格式化文本。

[**演示**](http://jsfiddle.net/YXetx/)

参考：

*   [工具提示格式化程序](http://www.highcharts.com/stock/ref/#tooltip--formatter)

# c++ - 函数对象方法对函数指针安全吗？

> ID：10594035
> 
> 赞同：4
> 
> 时间：2012-05-15T04:10:02.847
> 
> 标签：c++, templates, c++11, template-meta-programming

我正在编写一个大量使用咖喱对象和模板的项目。c++11的新`decltype`特性意味着我可以开始接受没有明确定义返回类型的函数对象作为我的函数对象的 curry。相反，可以使用元函数提取返回类型，例如：

```
template<typename func_T, typename arg1_T>
struct unary_result {
  typedef typename std::remove_reference<typename std::remove_cv<decltype(func_T()(arg1_T()))>::type>::type type;
}; 
```

给定一个函数对象：

```
struct foo {
  int operator()(double) const;
}; 
```

（它不继承`std::unary_function<double, int>`或定义它`result_type`），我可以将它作为`unary_result<foo, double>::type`，这在我当前的代码中运行良好（一方面，它允许相同的函数对象对不同的参数具有不同的行为）。

*我的问题是：这将如何与函数指针交互？*

我知道 STL 能够互换使用函数对象和函数指针，但从未真正使用过函数指针，所以我的直觉在这方面没有得到很好的发展。我也知道这可能已经埋藏在 Boost 的某个地方（如果是这种情况，我相信有人会很快指出这一点）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T07:15:38.893

你`unary_result`应该可以很好地使用函数指针，尽管你需要一个额外的`typename`before `std::remove_cv`。

例子：

```
#include <type_traits>

template<typename func_T, typename arg1_T>
struct unary_result {
  typedef typename std::remove_reference<typename std::remove_cv<decltype(func_T()(arg1_T()))>::type>::type type;
};

struct foo {
    int operator()(double d) const
    {
        return d;
    }

};

int bar(int i){
    return i;
}

template<typename Func,typename Arg>
typename unary_result<Func,Arg>::type do_stuff(Func f,Arg a){
    return f(a);
}

int main(){
    int i=do_stuff(bar,42);
    int d=do_stuff(foo(),3.1);
} 
```

# ms-access - 错误 3031 - 密码无效

> ID：10594046
> 
> 赞同：0
> 
> 时间：2012-05-15T04:12:05.460
> 
> 标签：ms-access, vb6

我正在尝试通过 VB6 访问 MDB 文件并接收：

```
Error 3031 - not a valid password 
```

可能的原因是什么？我相信我正在发送文件的正确密码，但它会产生此错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T09:53:49.177

**原因：** 当您手动将数据库密码设置为 14 个字符的密码（限制）时，您无法使用相同的密码以编程方式打开数据库

**解决方案：**

**1：** 如果您需要以编程方式打开数据库，请不要选择长度超过 13 个字符的密码。

**2：** 以编程方式打开数据库时，只需要包含数据库密码的前13个字符。

要使“重现问题的步骤”部分中的示例正常工作，请更改以下代码行

```
Set db = ws.OpenDatabase _
("C:\Program Files\Microsoft Office\Office\Samples\Northwind.mdb", _
False, False, "MS Access;PWD=FourteenCharac") 
```

如下：

```
Set db = ws.OpenDatabase _
("C:\Program Files\Microsoft Office\Office\Samples\Northwind.mdb", _
False, False, "MS Access;PWD=FourteenChara") 
```

`Northwind.mdb`注意：即使密码不正确，这也会以编程方式打开数据库。

# javascript - ModalDailog 调整大小

> ID：10594048
> 
> 赞同：0
> 
> 时间：2012-05-15T04:12:27.553
> 
> 标签：javascript

我将 ModalDialog 的功能更改为

```
features = "scroll: no;\
            status: yes;\
            help: no;\
            center: yes;\
            dialogWidth: 1032px;\
            dialogHeight: 750px;\
            resizable: yes;" 
```

但是对话框宽度和对话框高度仅对桌面显示大小有效。
如果桌面显示大小为 1024 x 768 ，则模式对话框无法调整大小

```
"dialogWidth : 1024px; dialogHeight : 737px;" 
```

那么我该怎么做呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T04:21:22.560

您可以获得 screen.availHeight -（您的浏览器标题的高度包含位置栏和标签）作为最大高度和 screen.availWidth -（默认滚动条的宽度）

在我的电脑上，我可以得到 1905 X 1004，而我的 MAC 的原始分辨率是 1920 X 1054

宽度为 15 的滚动条的宽度消失了，高度为 50 的位置栏和标签的高度消失了

# javascript - 快速替换图像 src 时 Firefox 中的内存使用情况

> ID：10594049
> 
> 赞同：1
> 
> 时间：2012-05-15T04:12:29.457
> 
> 标签：javascript, firefox

我正在尝试通过每 100 毫秒替换一次图像的 src 来使用 Javascript 实现动画 PNG。它显示得很好，但我发现它在 Firefox 上运行时会逐渐消耗越来越多的内存。

这是我用来播放动画的循环，虽然我不认为它有什么特别之处——

```
self.next = function() {
    if(self.doPlay == true) {
        self.currentFrame++;
        if(self.currentFrame >= self.numFrames) {
            self.currentFrame = 0;
            self.doPlay = self.doLoop;
        }
    }
    if(self.doPlay == true) {
        image.src = self.frames[self.currentFrame].src;
        setTimeout( self.next, self.frameDelays[self.currentFrame]);
    }
} 
```

（其中 frames 是一组预加载的 Image 对象）

如果我注释掉 src 中的更改，则内存使用情况很好。否则，内存使用量会无限上升，直到浏览器最终崩溃。

我尝试从 DOM 中删除和替换图像，而不是更改 src（在香草和 jQuery 中），但它似乎没有帮助。

有人知道更好的方法吗？

谢谢你的时间 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T04:40:41.987

你有没有想过只使用图像并在背景中更改滚动？真的很快，推荐

看看这个

[http://willian.nerdti.com.br/botaoImagem.html](http://willian.nerdti.com.br/botaoImagem.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-10T17:30:39.030

这不是对这个问题的回答，而是另一个评论（我不能离开，因为我的 StackOverflow 声誉目前不是 50）。无论如何，我注意到上面有人（在评论部分）说这是一个非常糟糕的主意。对于这种特殊情况，他可能是对的，但是这种内存泄漏在我们的应用程序中以一种完全出乎意料的方式引起了人们的注意（并导致我们完全放弃了 FireFox）。

基本上，我们的应用程序有一个左侧导航栏，其中包含我们组织中各种人员的小头像。这个左侧的导航栏可以被过滤、排序、更新等。这个栏（有时）可以包含数百个图像，并且随着这个栏的每次随机播放，FireFox 会丢失 500K 到 1MB 的剪辑，而 IE9/10、Chrome 和Safari不会丢失任何东西。

因此，在修复此错误之前，FireFox（用于我们的内部应用程序）不再是可行的选择。

# java - 覆盖与隐藏 Java - 困惑

> ID：10594052
> 
> 赞同：97
> 
> 时间：2012-05-15T04:12:53.390
> 
> 标签：java, inheritance, methods, overriding, method-hiding

我对覆盖与隐藏在 Java 中的区别感到困惑。任何人都可以提供有关这些差异的更多详细信息吗？我阅读了[Java 教程](http://docs.oracle.com/javase/tutorial/java/IandI/override.html)，但示例代码仍然让我感到困惑。

更清楚地说，我理解压倒一切。我的问题是我看不出隐藏有什么不同，除了一个在实例级别而另一个在类级别。

查看Java教程代码：

```
public class Animal {
    public static void testClassMethod() {
        System.out.println("Class" + " method in Animal.");
    }
    public void testInstanceMethod() {
        System.out.println("Instance " + " method in Animal.");
    }
} 
```

然后我们有一个子类`Cat`：

```
public class Cat extends Animal {
    public static void testClassMethod() {
        System.out.println("The class method" + " in Cat.");
    }
    public void testInstanceMethod() {
        System.out.println("The instance method" + " in Cat.");
    }

    public static void main(String[] args) {
        Cat myCat = new Cat();
        Animal myAnimal = myCat;
        Animal.testClassMethod();
        myAnimal.testInstanceMethod();
    }
} 
```

然后他们说：

> 该程序的输出如下：
> 
> Animal 中的类方法。
> 
> Cat 中的实例方法。

`testClassMethod()`对我来说，直接从`Animal`类调用类方法执行类中的方法这一事实`Animal`非常明显，没有什么特别之处。然后他们`testInstanceMethod()`从对 的引用中调用`myCat`，因此很明显，当时执行的方法是 的实例中的方法`Cat`。

据我所知，调用隐藏的行为就像覆盖一样，那么为什么要区分呢？如果我使用上面的类运行此代码：

```
Cat.testClassMethod(); 
```

我会得到： *Cat 中的类方法。* 但是如果我`testClassMethod()`从 Cat 中删除，那么我会得到： *Animal 中的类方法。*

这告诉我，在子类中编写一个与父类具有相同签名的静态方法几乎可以实现覆盖。

希望我能弄清楚我在哪里感到困惑，并且有人可以解释一下。首先十分感谢！

* * *

## 回答 #1

> 赞同：112
> 
> 时间：2012-05-15T04:21:58.947

覆盖基本上支持后期绑定。因此，在运行时决定调用哪个方法。它适用于非静态方法。

隐藏适用于所有其他成员（静态方法、实例成员、静态成员）。它基于早期绑定。更清楚地说，要调用或使用的方法或成员是在编译时决定的。

在您的示例中，第一次调用`Animal.testClassMethod()`是对`static`方法的调用，因此很确定将调用哪个方法。

在第二次调用中`myAnimal.testInstanceMethod()`，您调用了一个非静态方法。这就是你所说的运行时多态性。直到运行时才决定调用哪个方法。

如需进一步说明，请阅读[Overriding Vs Hiding](http://www.coderanch.com/how-to/java/OverridingVsHiding)。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-05-15T04:28:22.533

静态方法被隐藏，非静态方法被覆盖。当调用不是限定“something()”与“this.something()”时，差异是显着的。

我似乎真的不能把它放在文字上，所以这里举个例子：

```
public class Animal {

    public static void something() {
        System.out.println("animal.something");
    }

    public void eat() {
        System.out.println("animal.eat");
    }

    public Animal() {
        // This will always call Animal.something(), since it can't be overriden, because it is static.
        something();
        // This will call the eat() defined in overriding classes.
        eat();
    }

}

public class Dog extends Animal {

    public static void something() {
        // This method merely hides Animal.something(), making it uncallable, but does not override it, or alter calls to it in any way.
        System.out.println("dog.something");
    }

    public void eat() {
        // This method overrides eat(), and will affect calls to eat()
        System.out.println("dog.eat");
    }

    public Dog() {
        super();
    }

    public static void main(String[] args) {
        new Dog();
    }

} 
```

输出：

```
animal.something
dog.eat 
```

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2012-05-15T04:25:32.727

这是覆盖和隐藏之间的区别，

1.  如果父类和子类中的方法都是实例方法，则称为覆盖。
2.  如果父类和子类中的方法都是静态方法，则称为隐藏。
3.  一种方法在父级中不能是静态的，在子级中不能作为实例。反之亦然。

![在此处输入图像描述](../Images/4e872dba50b5a71d00bc08b00ede2fdc.png)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-05-15T04:17:51.360

如果我正确理解您的问题，那么答案是“您已经在压倒一切”。

“这向我展示了在子类中编写一个与父类同名的静态方法几乎可以实现覆盖。”

如果您在子类中编写的方法与超类中的方法名称完全相同，它将覆盖超类的方法。@Override 注解不需要覆盖方法。但是，它确实使您的代码更具可读性，并强制编译器检查您是否实际上覆盖了一个方法（例如，没有拼错子类方法）。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-05-15T04:28:53.890

覆盖仅发生在实例方法中。当引用变量的类型是 Animal 并且对象是 Cat 时，从 Cat 调用实例方法（这是覆盖）。对于同一个 acat 对象，使用 Animal 的类方法。

```
public static void main(String[] args) {
    Animal acat = new Cat();
    acat.testInstanceMethod();
    acat.testClassMethod();

} 
```

输出是：

```
The instance method in Cat.
Class method in Animal. 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-05-09T21:08:35.480

```
public class First {

    public void Overriding(int i) {  /* will be overridden in class Second */ }

    public static void Hiding(int i) {  /* will be hidden in class Second
                                           because it's static */ }
}

public class Second extends First {

    public void Overriding(int i) {  /* overridden here */  }

    public static void Hiding(int i) {  /* hides method in class First
                                           because it's static */ } 
} 
```

记忆的规则很简单：扩展类中的方法不能将 static 更改为 void，也不能将 void 更改为 static。这将导致编译错误。

但是如果`void Name`更改为`void Name`它的覆盖。

如果`static Name`更改为`static Name`隐藏。（子类的静态方法和超类的静态方法都可以被调用，这取决于用于调用该方法的引用的类型。）

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2015-11-16T14:17:18.093

在此代码片段中，我使用“私有”访问修饰符而不是“静态”来向您展示隐藏方法和覆盖方法之间的区别。

```
class Animal {
// Use 'static' or 'private' access modifiers to see how method hiding work.
private void testInstancePrivateMethod(String source) {
    System.out.println("\tAnimal: instance Private method calling from "+source);
}
public void testInstanceMethodUsingPrivateMethodInside() {
    System.out.println("\tAnimal: instance Public method with using of Private method.");
    testInstancePrivateMethod( Animal.class.getSimpleName() );
}

// Use default, 'protected' or 'public' access modifiers to see  how method overriding work.
protected void testInstanceProtectedMethod(String source) {
    System.out.println("\tAnimal: instance Protected method calling from "+source);
}
public void testInstanceMethodUsingProtectedMethodInside() {
    System.out.println("\tAnimal: instance Public method with using of Protected method.");
    testInstanceProtectedMethod( Animal.class.getSimpleName() );
  } 
}  

public class Cat extends Animal {
private void testInstancePrivateMethod(String source) {
    System.out.println("Cat: instance Private method calling from " + source );
}
public void testInstanceMethodUsingPrivateMethodInside() {
    System.out.println("Cat: instance Public method with using of Private method.");
    testInstancePrivateMethod( Cat.class.getSimpleName());
    System.out.println("Cat: and calling parent after:");
    super.testInstanceMethodUsingPrivateMethodInside();
}

protected void testInstanceProtectedMethod(String source) {
    System.out.println("Cat: instance Protected method calling from "+ source );
}
public void testInstanceMethodUsingProtectedMethodInside() {
    System.out.println("Cat: instance Public method with using of Protected method.");
    testInstanceProtectedMethod(Cat.class.getSimpleName());
    System.out.println("Cat: and calling parent after:");
    super.testInstanceMethodUsingProtectedMethodInside();
}

public static void main(String[] args) {
    Cat myCat = new Cat();
    System.out.println("----- Method hiding -------");
    myCat.testInstanceMethodUsingPrivateMethodInside();
    System.out.println("\n----- Method overriding -------");
    myCat.testInstanceMethodUsingProtectedMethodInside();
}
} 
```

输出：

```
----- Method hiding -------
Cat: instance Public method with using of Private method.
Cat: instance Private method calling from Cat
Cat: and calling parent after:
   Animal: instance Public method with using of Private method.
   Animal: instance Private method calling from Animal

----- Method overriding -------
Cat: instance Public method with using of Protected method.
Cat: instance Protected method calling from Cat
Cat: and calling parent after:
   Animal: instance Public method with using of Protected method.
Cat: instance Protected method calling from Animal 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2020-12-03T11:19:34.747

我认为这还没有完全解释清楚。请看下面的例子。

```
class Animal {
    public static void testClassMethod() {
        System.out.println("The static method in Animal");
    }
    public void testInstanceMethod() {
        System.out.println("The instance method in Animal");
    }
}

public class Cat extends Animal {
    public static void testClassMethod() {
        System.out.println("The static method in Cat");
    }
    public void testInstanceMethod() {
        System.out.println("The instance method in Cat");
    }

    public static void main(String[] args) {
        Animal myCat = new Cat();
        Cat myCat2 = new Cat();
        myCat.testClassMethod();
        myCat2.testClassMethod();

        myCat.testInstanceMethod();
        myCat2.testInstanceMethod();
    }
} 
```

输出将如下所示。

```
The static method in Animal
The static method in Cat
The instance method in Cat
The instance method in Cat 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2015-09-10T09:16:59.343

基于我最近的 Java 研究

*   方法**覆盖**，当子类在子类中具有具有相同签名的相同方法时。
*   方法**隐藏**，当子类具有相同的方法名称，但不同的参数。在这种情况下，您不是覆盖父方法，而是隐藏它。

示例来自 OCP Java 7 书，第 70-71 页：

```
public class Point {
  private int xPos, yPos;
  public Point(int x, int y) {
        xPos = x;
        yPos = y;
  }

  public boolean equals(Point other){
  .... sexy code here ...... 
  }

  public static void main(String []args) {
   Point p1 = new Point(10, 20);
   Point p2 = new Point(50, 100);
   Point p3 = new Point(10, 20);
   System.out.println("p1 equals p2 is " + p1.equals(p2));
   System.out.println("p1 equals p3 is " + p1.equals(p3));
   //point's class equals method get invoked
  }
} 
```

但是如果我们编写以下主要内容：

```
 public static void main(String []args) {
   Object p1 = new Point(10, 20);
   Object p2 = new Point(50, 100);
   Object p3 = new Point(10, 20);
   System.out.println("p1 equals p2 is " + p1.equals(p2));
   System.out.println("p1 equals p3 is " + p1.equals(p3));
   //Object's class equals method get invoked
  } 
```

在第二个主要中，我们使用 Object 类作为静态类型，所以当我们在 Point 对象中调用 equal 方法时，它正在等待 Point 类作为参数到达，但 Object 来了。所以 Object 类的 equals 方法开始运行，因为我们有一个 equals(Object o) 。在这种情况下，Point 的 equals 类**不会覆盖，而是隐藏了 Object 类的 equals 方法**。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2016-04-23T10:10:38.523

```
public class Parent {

  public static void show(){
    System.out.println("Parent");
  }
}

public class Child extends Parent{

  public static void show(){
    System.out.println("Child");
  }
}

public class Main {

public static void main(String[] args) {
    Parent parent=new Child();
    parent.show(); // it will call parent show method
  }
}

// We can call static method by reference ( as shown above) or by using class name (Parent.show()) 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2016-09-26T14:38:45.773

链接的 java 教程页面解释了覆盖和隐藏的概念

> 子类中具有相同签名（名称，加上其参数的编号和类型）和返回类型作为超类中的实例方法的实例方法会覆盖超类的方法。
> 
> 如果子类定义了与超类中的静态方法具有相同签名的静态方法，则子类中的方法会隐藏超类中的方法。

隐藏静态方法和覆盖实例方法之间的区别具有重要意义：

1.  被调用的重写实例方法的版本是子类中的版本。
2.  被调用的隐藏静态方法的版本***取决于它是从超类调用还是从子类调用。***

回到你的例子：

```
Animal myAnimal = myCat;

 /* invokes static method on Animal, expected. */
 Animal.testClassMethod(); 

 /* invokes child class instance method (non-static - it's overriding) */
 myAnimal.testInstanceMethod(); 
```

上面的语句还没有显示隐藏。

现在更改如下代码以获得不同的输出：

```
 Animal myAnimal = myCat;

  /* Even though myAnimal is Cat, Animal class method is invoked instead of Cat method*/
  myAnimal.testClassMethod();

  /* invokes child class instance method (non-static - it's overriding) */
  myAnimal.testInstanceMethod(); 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2017-09-16T12:34:45.530

除了上面列出的示例之外，这里还有一个小示例代码来阐明隐藏和覆盖之间的区别：

```
public class Parent {

    // to be hidden (static)
    public static String toBeHidden() {
        return "Parent";
    }

    // to be overridden (non-static)
    public String toBeOverridden() {
        return "Parent";
    }

    public void printParent() {
        System.out.println("to be hidden: " + toBeHidden());
        System.out.println("to be overridden: " + toBeOverridden());
    }
}

public class Child extends Parent {

    public static String toBeHidden() {
        return "Child";
    }

    public String toBeOverridden() {
        return "Child";
    }

    public void printChild() {
        System.out.println("to be hidden: " + toBeHidden());
        System.out.println("to be overridden: " + toBeOverridden());
    }
}

public class Main {

    public static void main(String[] args) {
        Child child = new Child();
        child.printParent();
        child.printChild();
    }
} 
```

`child.printParent()`输出的调用：
要隐藏： 要覆盖的**父级：子级**

`child.printChild()`输出的调用：
要隐藏： 要覆盖的子项：子**项**

从上面的输出（尤其是粗体标记的输出）可以看出，方法隐藏的行为与覆盖不同。

Java 只允许隐藏和覆盖方法。同样的规则不适用于变量。不允许覆盖变量，因此只能隐藏变量（静态变量和非静态变量之间没有区别）。下面的示例显示了如何覆盖方法和隐藏`getName()`变量：`name`

```
public class Main {

    public static void main(String[] args) {
        Parent p = new Child();
        System.out.println(p.name); // prints Parent (since hiding)
        System.out.println(p.getName()); // prints Child (since overriding)
    }
}

class Parent {
    String name = "Parent";

    String getName() {
        return name;
    }
}

class Child extends Parent {
    String name = "Child";

    String getName() {
        return name;
    }
} 
```

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2018-07-27T13:39:50.650

在运行时，无论方法调用是在父类方法还是子类方法中定义，始终为实例执行被覆盖方法的子版本。以这种方式，除非使用语法 ParentClassName.method() 显式调用父方法，否则永远不会使用父方法。或者，如果在父类中定义了对该方法的调用，则在运行时始终执行隐藏方法的父版本。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2019-04-07T11:27:55.643

在方法**覆盖**中，方法解析是由 JVM 基于运行时对象完成的。而在方法隐藏中，方法解析是由编译器在引用的基础上完成的。因此，

如果代码可以写成，

```
public static void main(String[] args) {
        Animal myCat = new Cat();        
        myCat.testClassMethod();        
    } 
```

输出如下：
Animal 中的类方法。

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2019-09-03T22:44:30.963

之所以称为隐藏，是因为当子类具有相同的静态方法时，编译器会隐藏超类方法的实现。

编译器对重写的方法没有受限的可见性，只有在运行时才决定使用哪一个。

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2020-07-16T12:00:30.560

这是覆盖和隐藏之间的区别：

动物 a = new Cat();

a.testClassMethod() 将调用父类中的方法，因为它是方法隐藏的示例。要调用的方法由引用变量的类型决定，并在编译时决定。

a.testInstanceMethod() 将调用子类中的方法，因为它是方法覆盖的示例。要调用的方法由运行时调用该方法的对象决定。

* * *

## 回答 #17

> 赞同：-1
> 
> 时间：2015-07-09T04:00:22.017

java中的静态方法隐藏是如何发生的？Cat 类正在扩展 Animal 类。所以在 Cat 类中会有两个静态方法（我的意思是 Child 类的静态方法和 Parent 类的静态方法）但是 JVM 如何隐藏 Parent 静态方法？它是如何处理堆和堆栈的？

# javascript - jQuery动态创建的日期选择器不起作用

> ID：10594056
> 
> 赞同：0
> 
> 时间：2012-05-15T04:13:21.020
> 
> 标签：javascript, jquery, datepicker

我已经做了我看到的大多数解决方案，但它不适用于我的。

这是我的代码：

```
function regenerateDatePickers()
{
  var length = $( ".forduplication" ).length;
  alert( length );
  for ( var i = 1 ; i <= length ; i++ ) {
    $( "#endDate" + i ).removeClass( "hasDatepicker" );
    $( "#endDate" + i ).datepicker();
  }
} 
```

只有原始日期选择器字段有效。克隆的不是。奇怪的是，我动态创建的“选择”* 字段正在工作。

*选择[http://harvesthq.github.com/chosen/](http://harvesthq.github.com/chosen/)

编辑 - 添加 HTML 代码

```
<tr class="forduplication">
  <td>
    ...
    ...<!--lots of other HTML codes-->
    ...
  </td>
  <td><input id="endDate1" name="endDatefield1" size="10"></td>
  ...
</tr> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-15T04:25:30.543

# 2015 年 6 月 1 日更新

.live() 不再受支持。使用[.on()](http://api.jquery.com/on/)可以解决这个问题。

```
$('body')
        .on('click', '.datePick', function() {
            $(this).datepicker();
        })
        .on('focus', '.datePick', function() {
            $(this).datepicker();
        }); 
```

* * *

你可以使用[live](http://jqapi.com/#p=live)和[focusin](http://jqapi.com/#p=focusin)

为所有输入字段设置一个类，在这种情况下我用作`datePick`类

```
$('input.datePick').live('focusin', function() {
    $(this).datepicker();
});​ 
```

希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T04:37:19.087

一种方法是在每次点击时销毁并重新分配日期选择器，但它存在性能问题

```
$('input[id^="endDate"]').live('click', function() {
    $(this).datepicker('destroy').datepicker({showOn:'focus'}).focus();
}); 
```

it works but remove and add datepicker every time you click on a input. So it's bettter if you can do this just after cloning the input like

```
....clone().datepicker('destroy').datepicker({showOn:'focus'}); 
```

and then add that element to where you want it to be.

# firefox - 有没有办法更改 about:config DOM 值仅适用于 Firefox 中的一个网站

> ID：10594061
> 
> 赞同：2
> 
> 时间：2012-05-15T04:14:08.507
> 
> 标签：firefox, dom

我想允许一个网站使用 window.resizeTo(); 功能但不允许所有其他网站这样做......我想知道是否有任何方法可以做到这一点，即使它很困难。

即使它不在Firefox的原始设置中，也许有一个插件可以允许它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T04:17:39.130

偏好似乎没有`about:config`那么精细。您可以`true`为整个浏览器或整个浏览器设置首选项值`false`。但是您不能逐个定义值。

来源： http: [//kb.mozillazine.org/Firefox...config_Entries#DOM。](http://kb.mozillazine.org/Firefox_:_FAQs_:_About:config_Entries#DOM.)

这种限制也通过浏览器的选项（全部或无）来说明：

![在此处输入图像描述](../Images/9485dabb0a84a5032d14de28d883fb2d.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T04:31:21.260

您可以在配置文件目录中创建一个名为`user.js`的文件。大多数 Firefox 首选项保存在一个名为`prefs.js`- 但浏览器可以写入该文件，并经常覆盖任何更改。

*如果*user.js 可以接受`if-else`逻辑并访问当前 URL，您可以非常轻松地建立逻辑来根据 URL 打开和关闭首选项。

[我在这里找到了这些信息](http://www.patheticcockroach.com/mpam4/?p=55)。

### 更新

据我所见，`user.js`仅在浏览器加载时读取-因此上述方法不起作用:(实现所需功能的最佳方法是使用/编写/发明*Firefox 插件*。

# python - MySQLdb中执行参数类型的问题

> ID：10594063
> 
> 赞同：3
> 
> 时间：2012-05-15T04:14:44.647
> 
> 标签：python, string, execute, mysql-python

```
c.execute("UPDATE Players SET %s = %d WHERE nick=%s",
          (parts[1], int(parts[2]), parts[0])) 
```

给了我错误

```
TypeError: %d format: a number is required, not str 
```

我知道`execute`应该只取`%s`，但`parts[2]`应该转换为 int，因为它将是一个 int（作为字符串输入）。

所以，如果我只放`%s`'s，当然会出现这个错误：

```
mysql_exceptions.ProgrammingError: (1064,
"You have an error in your SQL syntax; "
"check the manual that corresponds to your MySQL server version "
"for the right syntax to use near "
"''wins' = '450' WHERE nick='xan'' at line 1") 
```

因为`wins`是整数。解决方案是什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-15T04:25:56.840

我看到了几个问题。
可能还有更多。

1.  您不能参数化表名或列名。但是，您可以进行字符串替换，然后调用`.execute()`.
    如果您的程序接受用户输入，您需要警惕潜在的[SQL 注入](http://en.wikipedia.org/wiki/SQL_injection)攻击。

2.  `%s`无论参数的类型如何，始终使用。
    MySQLdb 处理任何需要完成的引用。

例子：

```
sql_stmt = "UPDATE Players SET {} = %s WHERE nick=%s;".format(parts[1])
c.execute(sql_stmt, (int(parts[2]), parts[0])) 
```

# email - 如何修复经典 .asp 页面中发送电子邮件的错误？

> ID：10594064
> 
> 赞同：0
> 
> 时间：2012-05-15T04:14:59.567
> 
> 标签：email, asp-classic, cdonts

从inquiry.html调用Inquiry.asp页面，method="post"
**Inquiry.asp页面代码**

```
 <%
        message=""
        message=message & "Name : " & Request.Form("txtName") & vbcrlf
        message=message & "Designation : " & Request.Form("txtDesignation") & vbcrlf
        message=message & "Organization : " & Request.Form("txtOrganization") & vbcrlf
        message=message & "Address : " & Request.Form("txtAddress") & vbcrlf
        message=message & "City : " & Request.Form("txtCity") & vbcrlf 
        message=message & "State : " & Request.Form("txtState") & vbcrlf
        message=message & "Country : " & Request.Form("cmbCountry") & vbcrlf
        message=message & "Phone : " & Request.Form("txtPhone") & vbcrlf
        message=message & "Email : " & Request.Form("txtEmail") & vbcrlf
        message=message & "Fax : " & Request.Form("txtFax") & vbcrlf
        message=message & "Category : " & Request.Form("cmbCategory") & vbcrlf
        message=message & "Query : " & Request.Form("txtQuery") & vbcrlf
        message=message & "Product of Interest : " & Request.Form("txtgpo") & vbcrlf
        message=message & "Product of Interest : " & Request.Form("txtgta") & vbcrlf
        message=message & "Product of Interest : " & Request.Form("txtgpu") & vbcrlf
        message=message & "Product of Interest : " & Request.Form("txtsw") & vbcrlf
        message=message '& "**********************************************************"

         set objmail=server.createobject("CDONTS.NewMail")

         objmail.bodyformat = 0
         objmail.to = "info@ankurscientific.com"

        objmail.To = "abc@gmail.com"
        'objmail.From = Request.Form("txtemail")  
        objmail.From = "info@domain.com"
         objmail.Subject="Enquiry"
         objmail.BodyFormat = 1
         objmail.Body=message
         objmail.Send
         set objmail=nothing

      %> 
```

我收到错误：'80070003'/sendmail.asp，行号：xx

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T06:05:50.623

这是对您的问题的解释和解决方案：http: [//support.microsoft.com/kb/238956](http://support.microsoft.com/kb/238956)

# java - Android+Ant 外部jar库

> ID：10594066
> 
> 赞同：1
> 
> 时间：2012-05-15T04:15:27.177
> 
> 标签：java, android, ant, classpath, apache-stringutils

我想在我的 Android 项目中尝试 org.apache.commons.lang.StringUtils。我已经下载了 commons-lang3-3.1.jar 并将它放在我项目的 libs 目录中。但是，由于找不到库，导入它会失败。我使用了很多变体

```
import org.apache.commons.lang.StringUtils; 
```

没有成功。我的环境是linux控制台，我用ant编译，没有Eclipse。我的理解是，Ant 会选择项目 libs 目录中的任何库。

请帮忙。Android/java 编码菜鸟。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T20:01:30.433

Lang 3.0（及后续版本）使用与之前版本（org.apache.commons.lang）不同的包（org.apache.commons.lang3），允许它与早期版本同时使用。参考：[http ://commons.apache.org/lang/](http://commons.apache.org/lang/)

```
import org.apache.commons.lang3.StringUtils; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T18:01:59.400

只需将罐子放在 libs/ 目录中即可。愚蠢的我，我将它们放在 lib/ 目录中，直到遇到同样的问题并在这里找到答案： [如何使用 ant 构建具有外部库的 android 应用程序？](https://stackoverflow.com/questions/2465285/how-to-build-an-android-app-with-external-libraries-using-ant)

# matlab - 将元胞数组中的矩阵相乘

> ID：10594070
> 
> 赞同：0
> 
> 时间：2012-05-15T04:16:51.700
> 
> 标签：matlab

假设您有一个 N x 1 元胞数组，其中每个构成元胞都是一个 mxm 矩阵。我想要这些矩阵的矩阵乘积（即不是逐项乘法），所以如果 E_i 是元胞数组中的第 i 个矩阵。我想计算 E_1 * E_2 * ... * E_N。对矢量化方法有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T04:19:26.007

最直接的方法是这样做（`p`你的答案在哪里，`cellarray`你的单元格数组在哪里）。`*`是矩阵乘法，而`.*`是您希望避免的逐元素乘法。

```
p = 1;    
for i = 1:N,
   p = p*cellarray{i};
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T05:09:26.997

我不认为这可以向量化，因为迭代不是相互独立的。某个步骤的乘法取决于它之前的所有乘法。

# android - Android，wifi信号的电平和RSSI之间的区别？

> ID：10594074
> 
> 赞同：3
> 
> 时间：2012-05-15T04:17:16.540
> 
> 标签：android, wifi

我对无线电/WiFi信号不太了解，所以我对[WifiManager.ScanResult](http://developer.android.com/reference/android/net/wifi/ScanResult.html#level)的 level 字段和wifi 扫描的[RSSI之间的区别感到困惑？](http://developer.android.com/reference/android/net/wifi/WifiManager.html#EXTRA_NEW_RSSI)它们是完全不同的概念吗？两者似乎都没有在 Android Docs 中得到很好的解释。

如果这意味着什么，它们似乎都以 dBm 为单位。

编辑

更清楚地说，我说的是通过查找键 WifiManager.EXTRA_NEW_RSSI 返回的值。这在文档中进行了解释： `WifiManager.EXTRA_NEW_RSSI: The lookup key for an int giving the new RSSI in dBm.`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T23:09:02.177

在 802.11（wifi 标准）中，rssi 没有任何单位，因此很难用于比较目的。

Android 提供了一个函数 - WifiManager.calculateSignalLevel() - 我最初认为它是为了解决这个问题：将 RSSI 转换为可比较的客观度量。

但是，正如 OP 所提到的，文档确实指定 Android 提供的 RSSI 是 dBm。

所以，我猜 calculateSignalLevel 函数的目的，以及拥有“电平”概念以及 RSSI 的原因，只是将对数的 dBM 转换为线性刻度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-09-23T13:53:52.613

在我的理解中，它们是相同的。在 android 的 ScanResult.java 文件中，您可以看到 level: /** Detected signal level in dBm (也称为 RSSI) 在此无线电链上的定义。*/. 当然，它们都以 dBm 为单位。

# php - 无法在 PHP 中验证 openssl 签名

> ID：10594080
> 
> 赞同：2
> 
> 时间：2012-05-15T04:17:53.293
> 
> 标签：php, openssl, digital-signature, public-key

如果我使用 openssl 创建一个新的密钥对，使用私钥对一些数据进行签名，并使用公钥验证签名......它可以工作。

```
$ openssl genrsa -out mykey.pem 1024
$ openssl rsa -in mykey.pem -pubout > mypubkey.pem
$ echo 'It could be bunnies' > file.txt
$ openssl rsautl -sign -in file.txt -inkey mykey.pem -out sig.txt
$ openssl rsautl -verify -in sig.txt -inkey mypubkey.pem -pubin
It could be bunnies 
```

但是，如果我尝试使用 php 中的 openssl 库验证签名，则会失败。

```
$pubkey = openssl_pkey_get_public(file_get_contents('/var/key/mypubkey.pem')); 
$sig = file_get_contents('/var/key/sig.txt');
$data = file_get_contents('/var/key/file.txt');
$verifyResult = (openssl_verify($data, $sig, $pubkey) == 1); 
```

与 Crypt_RSA 类似的故事

```
$pubkey = file_get_contents('/var/test/mypubkey.pem');
$sig = file_get_contents('/var/test/sig.txt');
$data = file_get_contents('/var/test/file.txt');
$rsa = new Crypt_RSA();
$rsa->loadKey($pubkey);
$rsa->verify($data, $sig);
$verifyResult = $rsa->verify($data, $sig); 
```

如何让 php 玩得很好？这些示例经过简化，但符合我的需要。在现实世界中，我将只有数据、签名和公钥......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T15:53:32.800

我真的希望有人能对公钥问题给出明确的答案。似乎它应该工作。但是，与此同时，我已从公钥切换到自签名证书。PHP 中的 openssl 库似乎很乐意从中提取可接受的公钥。这意味着我解决了真正的问题（验证签名数据）。服务器客户端现在将拥有数据、签名和 x.509 证书。

这是代码片段。

```
$ openssl genrsa -out server.key 4096
$ openssl req -new -key server.key -out server.csr
$ openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt
$ openssl dgst -sha1 -sign server.key -out file.sha1 file.txt 
```

...

```
$pubkey = openssl_pkey_get_public(file_get_contents('/var/key/server.crt')); 
$sig = file_get_contents('/var/key/file.sha1');
$data = file_get_contents('/var/key/file.txt');
$verifyResult = (openssl_verify($data, $sig, $pubkey) == 1); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T16:04:27.713

对于 phpseclib，在调用 $rsa->verify() 之前尝试 $rsa->setSignatureMode(CRYPT_RSA_SIGNATURE_PKCS1)。

# mod-rewrite - 使用 Zeus 重写规则将所有内容重写到单个“站点关闭”页面

> ID：10594085
> 
> 赞同：0
> 
> 时间：2012-05-15T04:18:50.330
> 
> 标签：mod-rewrite, url-rewriting, zeus

我想这样做，以便对我网站上任何文件或页面的任何请求都被定向到一个文件：site_down.php

我知道如何通过 apache 重写来做到这一点，但找不到 Zeus 的具体示例

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T06:50:52.823

```
match URL into $ with ^
if matched then
    set URL = /site_down.php
endif 
```

# html - 退出网络应用程序后，链接在新选项卡而不是框架中打开

> ID：10594092
> 
> 赞同：1
> 
> 时间：2012-05-15T04:20:08.967
> 
> 标签：html, frames

我是一个业余爱好者，对 html 有很好的理解，但我对 php、cgi、asp、java 等知之甚少。这就是我为我的网站选择 html/frames 模板的原因。我读过文章“framesareevil”，但我不知道任何其他首选语言。

情况是这样的：我有一个简单的网站，上面有 3 个框架、菜单和内容。我有菜单中的所有链接以在内容中打开。这在一定程度上可以正常工作。其中一个链接是指向 Web 应用程序（提交 crm Web 界面）的链接在框架中打开就好了，我可以完成所有工作等。问题出现在我退出 Web 应用程序后。注销后，菜单中的所有链接都会在新选项卡中打开。这适用于 Windows、Linux 和 android 上的所有浏览器。我必须重新加载网站才能让框架表现得像我想要的那样。

我将该注销页面设置为自动重定向到内容默认页面（content.html），我认为可能是网络应用程序搞砸了框架或其他什么，但这没有任何区别。

使用网络应用程序后，我不明白链接何时在新选项卡中打开，并且内容框架已重定向到 content.html

有什么想法吗？

# ruby-on-rails - rails_admin 如何排除模型中的操作

> ID：10594096
> 
> 赞同：0
> 
> 时间：2012-05-15T04:21:03.407
> 
> 标签：ruby-on-rails, rails-admin

我第一次使用 rails_admin，需要为我的一个模型创建一个新操作。这是我添加到 initializer.rails_admin.rb 的内容：

```
config.model Movie do
   ...
   ....    
   config.actions do
     collection :top_five do
        action_name :top_five
    end
  end
end 
```

我认为这会为我的电影模型创建一个新动作，但它作为所有模型的选项（选项卡）存在。我怎样才能让它只出现在一个模型中？

谢谢！费尔南达

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T22:37:46.307

我知道目前唯一允许这样做的干净方法是使用 CanCan 进行授权，在[此处](https://github.com/sferik/rails_admin/wiki/CanCan)的 RailsAdmin 文档中进行了描述。

您也可以覆盖 rails_admin 视图以仅显示特定模型的选项卡，但这并不那么干净。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-08-12T20:16:20.137

我知道这是一个老问题，但对于其他登陆这里的人来说，这是我的解决方案：

```
config.actions do
  ...
  show_in_app
  collection :top_five do
    only ['Movie']
    i18n_key :top_five
  end
  ...
end 
```

这已添加到[文档中](https://github.com/sferik/rails_admin/wiki/Actions#per-model-basis)

# zend-framework - Zend_Translate 大型网站的翻译策略

> ID：10594098
> 
> 赞同：2
> 
> 时间：2012-05-15T04:21:17.703
> 
> 标签：zend-framework, scalability, zend-translate

因为我正在考虑以一种很好的方式来处理翻译，所以我做了部分实现，并朝着一个仍然不知道它是否好的概念前进，我想与有想法的人分享它并了解它的优缺点这是一个很好的探索点。

该架构旨在在组件化站点中工作，其翻译来自 Actions、Forms、Views、View_Helpers 甚至 Action_Helpers。

想法很简单：

Zend_Translate 将从每个组件的注册表中获取，并将`__FILE__`作为参数接收。由于它是在引导程序上使用“清除”初始化的，因此可以仅加载与此调用组件相对应的数组文件。当缺少翻译时，它们将被记录到数据库中（以避免日志重复）和/或被添加到剩余未翻译语言中的相应数组文件中（以及创建数组文件），其中它的值为空尚未设置。

我的猜测是，使用缓存和专门翻译我可以忽略设置为 null 的翻译（通过之前添加的内容）而不再次记录它（仅显示键）它会在首次调用大型未翻译页面时产生一点开销然后通过希望为用户提供的翻译过程的自动化获得性能以及可维护性和工作能力。

但在那之后，我发现我可以构建一个数组，其中包含每个组件中缺少的翻译，以便在请求端保存，这就是我的问题。

你们有没有这方面的经验可以帮助确定什么是最好的策略？

引导程序

```
protected function _initLocale() {
    $translateSession = new Zend_Session_Namespace('translate');
    $locale = isset($translateSession->locale) ? $translateSession->locale : 'auto';
    try {
        $zendLocale  = new Zend_Locale($locale);
    } catch (Zend_Locale_Exception $e) {
        $zendLocale = new Zend_Locale('en_US');
    }   
    Zend_Registry::set('Zend_Locale', $zendLocale);
    $translate = new Engine_Translate('customarray', array('clear'));
    $logger = Engine_Logger::getLogger();
    $translate->setOptions( array('log2db' => $logger ,'log' => $logger,  'logPriority' => Zend_Log::ALERT, 'logUntranslated' => true));
    Zend_Registry::set('Zend_Translate', $translate);
} 
```

简单的图书馆

```
function getAvailableTranslationLanguages() {
    return array("pt_BR"=>"Português","en_US"=>"Inglês");
}

function setTranslationLanguage($code) {
    $translateSession = new Zend_Session_Namespace('translate');
    $translateSession->locale = $code;
}

function getTranslator($file) {
    $relative = str_replace(APPLICATION_PATH, '', $file);
    $code = Zend_Registry::get('Zend_Locale');
    $path = APPLICATION_PATH . '\\lang\\' . $code . $relative;
    $translator = Zend_Registry::get('Zend_Translate');
    try {
        $translator->addTranslation($path, $code);
    } catch (Exception $e) {
        createTranslationFile($path);
    }
    return $translator;
}

function createTranslationFile($path) {
    if(!file_exists(dirname($path)))
        mkdir(dirname($path), 0777, true);
    $file = fopen($path, 'w');
    if($file) {
        $stringData = "<?php\n  return array(\n );";
        fwrite($file, $stringData);
        fclose($file);
    } else {
        $logger = Engine_Logger::getLogger();
        $logger->info(Engine_Logger::get_string('ERRO ao abrir arquivo de tradução: ' . $path));
    }   
} 
```

使用

```
class App_Views_Helpers_Loginbox extends Zend_View_Helper_Abstract
{
    public function loginbox() {
        $translate = getTranslator(__FILE__); 
```

翻译资源

![在此处输入图像描述](../Images/820672bf152c5db5e4033cc0d08897f3.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T21:24:07.080

如果我理解正确，您想为每个动作助手/视图助手/等创建新的适配器。这是 IMO 错误的并且非常无效。我会将翻译粘贴到 URL 上。为到处使用的翻译制作一个 common.php，为特定于模块的翻译制作一个 module.php，为特定于页面的翻译制作一个 page-name.php。然后`array_merge`他们一起在 Bootstrap 中创建一个适配器。然后在某处缓存它（使用 URL 作为缓存键） - 最好在内存中（=memcached，apc）。这样你就可以非常有效地从缓存中创建翻译适配器——只加载+反序列化。许多翻译（对于每个助手）意味着许多磁盘访问，意味着较低的速度和可扩展性，因为磁盘很快就会成为瓶颈。

# ios - 如何设置 UIButton 以转到上一个屏幕？

> ID：10594101
> 
> 赞同：0
> 
> 时间：2012-05-15T04:21:32.743
> 
> 标签：ios, xcode, uibutton

我有一个可以从任何其他屏幕访问的帮助屏幕。唯一的按钮是一个“返回”箭头。现在它总是回到主屏幕。但是，我需要它返回之前的屏幕。我已经通过 stackoverflow 和谷歌搜索但没有运气。

**编辑** 我现在使用的代码片段：

```
appViewController *homeView = [[appViewController alloc] initWithNibName:nil bundle:nil];
homeView.modalTransitionStyle = UIModalTransitionStyleCrossDissolve;
[self presentModalViewController:homeView animated:YES]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T04:45:02.923

从现在呈现的模态视图控制器中，使其在单击主页按钮时自行关闭：

```
- (void)buttonClicked
{
    [self dismissModalViewControllerAnimated:YES];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T04:48:09.420

在按钮单击您可以使用。

```
[self.navigationController popViewControllerAnimated:YES]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T04:24:20.757

也许这个链接会帮助你：[如何从 iPhone 的相机视图中导航上一个屏幕？](https://stackoverflow.com/questions/8151026/how-to-navigate-previous-screen-from-camera-view-in-iphone) 它关于导航以及如何删除最后一个屏幕。

或者在按钮的点击事件中使用这个。创建要打开的视图控制器的实例

```
 EnterNameController *newEnterNameController = [[EnterNameController alloc]   initWithNibName:@"EnterName" bundle:[NSBundle mainBundle]];
          [[self navigationController] pushViewController:newEnterNameController animated:YES]; 
```

# html - jQuery按钮点击问题

> ID：10594107
> 
> 赞同：0
> 
> 时间：2012-05-15T04:21:50.070
> 
> 标签：html, jquery

我面临关于 jquery 按钮单击的问题，

在这里，我要实现的链接[http://jsfiddle.net/Xzy9T/19/](http://jsfiddle.net/Xzy9T/19/)

凸轮你帮助调试这个。谢谢，当我点击提交按钮时，似乎点击按钮没有运行，谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T04:25:01.163

你需要改变：

```
$(".sendbutton_form1").click(function() {... 
```

为了

```
 $("#sendbutton_form1").click(function() {... 
```

因为按钮上的选择器是 id，而不是类。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T04:24:03.760

更改`$(".sendbutton_form1").click(function() { ...`为`$("#sendbutton_form1").click(function() {`，它的工作原理。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T04:23:56.723

改变：

`$(".sendbutton_form1").click(function() {`

至

> $("#sendbutton_form1").click(function() {

您在前者中指的是类名“sendbutton_form1”，它应该指的是一个ID。

# java - java HttpUrlConnection POST：需要请求响应才能提交 POST 吗？

> ID：10594109
> 
> 赞同：0
> 
> 时间：2012-05-15T04:22:04.820
> 
> 标签：java, http, post, httpurlconnection

我正在尝试使用 java HttpUrlConnection 类在服务器上发布数据。似乎如果我以某种方式阅读服务器的响应，则帖子工作正常，但如果我不这样做，则永远不会发布信息。

HttpUrlConnection 文档中没有提到这种行为，我看到的所有 HttUrlConnection 示例都要求服务器做出响应。

我想知道我的代码中是否有错误，或者这是否是 HttpUrlConnection 的正常行为，如果是这种情况，那么对这个类的工作原理有更好理解的人可以向我解释为什么会这样吗？

非常感谢！

这是代码，注释行是使 POST 工作或失败的代码：

```
URL url=new URL("myUrl");
HttpURLConnection connection = (HttpURLConnection) url.openConnection();
connection.setRequestMethod("POST");
connection.setRequestProperty("Content-Type", "application/x-www-form-urlencoded;charset=utf-8");
connection.setRequestProperty("Host", "myHost");
connection.setDoOutput(true);
os.write(staffToPost.getBytes("utf-8"));
os.flush();
os.close();
//System.out.println(connection.getResponseCode()+" "+connection.getResponseMessage()); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T05:04:27.327

该类`URLCOnnection`需要一个完整的握手才能发生 POST。这意味着，一旦您打开连接，您必须回读响应以使 POST 实际发生。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T04:39:27.047

您可以显式调用[URLConnection.connect()](http://docs.oracle.com/javase/6/docs/api/java/net/URLConnection.html#connect%28%29)或获取有关 HTTP 响应的任何信息，例如[HttpURLConnection.getResponseCode](http://docs.oracle.com/javase/1.4.2/docs/api/java/net/HttpURLConnection.html#getResponseCode%28%29)等来触发 HTTP 请求。

您应该阅读这篇关于[如何使用 java.net.URLConnection 触发和处理 HTTP 请求](https://stackoverflow.com/a/2793153/945945)的综合文章，以便更好地理解。

# python - 在 Python 中捕获所有异常的坏主意

> ID：10594113
> 
> 赞同：13
> 
> 时间：2012-05-15T04:23:40.443
> 
> 标签：python, exception, exception-handling

为什么在 Python 中捕获所有异常是个坏主意？

我知道使用该`except:`子句捕获所有异常甚至会捕获“特殊”python 异常：`SystemExit`、`KeyboardInterrupt`和`GeneratorExit`. 那么为什么不只使用一个`except Exception:`子句来捕获所有异常呢？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-05-15T04:27:33.983

因为它非常不具体，除了例外，它不能让你做任何有趣的事情。此外，如果您正在捕获每个异常，则可能会发生大量您甚至不知道正在发生的异常（这可能会导致您的应用程序在您不知道原因的情况下失败）。您应该能够预测（通过阅读文档或实验）具体需要处理哪些异常以及如何处理它们，但是如果您从一开始就盲目地抑制所有异常，您将永远不会知道。

因此，根据普遍的要求，这里有一个例子。一位程序员正在编写 Python 代码，她得到了一个`IOError`. 她没有进一步调查，而是决定捕获所有异常：

```
def foo():
    try:
        f = open("file.txt")
        lines = f.readlines()
        return lines[0]
    except:
        return None 
```

她没有以他的方式意识到问题：如果文件存在并且可以访问，但它是空的怎么办？然后此代码将引发一个`IndexError`（因为列表`lines`为空）。所以她会花几个小时想知道为什么`None`当文件存在并且没有被锁定时她会从这个函数中返回，却没有意识到如果她更具体地捕捉错误会很明显，那就是她正在访问可能不存在的数据.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-15T06:58:36.363

因为您可能希望以不同的方式处理每个异常。拥有 KeyInterrupt 与出现编码问题或 OS 问题并不是一回事……您可以一个接一个地捕获特定的异常。

```
try:
    XXX
except TYPE:
    YYY
except TYPE:
    ZZZ 
```

# android - 在 Android 中创建菜单的正确方法是什么？

> ID：10594125
> 
> 赞同：3
> 
> 时间：2012-05-15T04:25:20.880
> 
> 标签：android, android-activity, android-menu

我正在学习一个教程，它显示了这个示例代码来制作一个菜单：

```
public void onCreateOptionsMenu(Menu m) {
        super.onCreateOptionsMenu(m);
        MenuInflater menuInflater = getMenuInflater();
        menuInflater.inflate(R.menu.time_list_menu, m);
    } 
```

我遇到了一个错误，所以我把它改成了布尔值，这就是现在的样子，所以我这样做了，它的工作原理：

```
public boolean onCreateOptionsMenu(Menu m) {
      super.onCreateOptionsMenu(m);
      MenuInflater menuInflater = getMenuInflater();
      menuInflater.inflate(R.menu.time_list_menu, m);
      return true;
  } 
```

但是我也有类似的东西来自另一个关于堆栈溢出的问题

[了解为什么 onCreateOptionsMenu 不显示菜单](https://stackoverflow.com/questions/6640693/understanding-why-oncreateoptionsmenu-is-not-displaying-a-menu)

Android 文档也有这个：

```
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    MenuInflater inflater = getMenuInflater();
    inflater.inflate(R.menu.game_menu, menu);
    return true;
  } 
```

对 super 的调用在哪里？为什么没有必要？如果我做错了，制作菜单的正确方法是什么？

当我谈到这个主题时，Doc 也显示了@Override，但我没有它，它的工作原理。如果这些方法被显式覆盖，我只是对这是否有必要感到困惑。我很感激帮助。如果需要任何澄清，请告诉我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T05:13:59.700

要解决您的两个具体问题：

1.  `super.onCreateOptionsMenu`：一般来说，当您打算改进它们的操作时，以这种方式调用基类函数是一个好主意。在这种情况下，它没有区别（据你所知），但文档推荐它，所以你应该执行它以确保未来的 android 版本兼容性。
2.  `@Override`：这个注解是自愿的，但非常有用，它确保方法签名与底层基类的签名匹配。这意味着，如果您声明的方法稍有错误（与它所覆盖的方法不同），编译器将发现差异（而不是仅仅将其视为新方法而不是在上下文中调用它）

因此，如果不是严格需要，两者都是有用且正确的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T04:34:57.303

您必须调用 super，javadoc 说这会影响菜单订购过程。我认为跟注位置没有特别的意义。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T04:59:45.290

要创建 android`Menu`选项，请使用以下代码。

```
@Override
public boolean onCreateOptionsMenu(Menu menu) 
{
    MenuInflater inflater = getMenuInflater();
    inflater.inflate(R.menu.menu, menu);
    return true;
}

@Override
public boolean onOptionsItemSelected(MenuItem item) 
{
    switch (item.getItemId()) 
    {
    case R.id.yourItemID:
        //do whatever you want here
        break;
    case R.id.yourItemID:
        //do whatever you want here
        break;
    }
    return true;
} 
```

上面的代码对我来说很好。试试这个[教程](http://www.itcsolutions.eu/2011/09/26/android-tutorial-how-to-add-a-menu-programmatic-vs-declarative-solution/)它会清楚地解释你。

# php - 当 db2_exec() 返回 false 时如何获取错误的详细信息？

> ID：10594129
> 
> 赞同：1
> 
> 时间：2012-05-15T04:25:29.500
> 
> 标签：php, db2

我正在将应用程序从 MySQL 转换为 DB2 - 所以我只是第一次使用 ibm_db2 php 扩展。

如果与数据库的连接失败，错误的详细信息将填充到：

```
db2_conn_error()
db2_conn_errormsg() 
```

但是，如果 SQL 查询失败，似乎没有一个函数可以捕获错误的详细信息。在 MySQL 中，mysql_error() 将捕获最近的错误，无论它与连接本身有关，还是与特定查询有关。

当 DB2 查询 (db2_exec) 失败时，有没有办法捕获错误的详细信息？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T04:28:52.803

答案是：

db2_stmt_error(); db2_stmt_errormsg();

# ruby-on-rails - 路由错误没有路由匹配 [POST] "/movies/9/edit"

> ID：10594135
> 
> 赞同：2
> 
> 时间：2012-05-15T04:26:17.173
> 
> 标签：ruby-on-rails

您好，我正在关注 rails 教程，我使用的是 rails 3.2.3，并且出现此错误 Routing Error

没有路线匹配 [POST] "/movies/9/edit"

这是我的haml页面：

%h2 编辑电影

= form_tag edit_movie_path(@movie), :method => :put do

= 标签：电影，：标题，'标题' = text_field：电影，'标题'

= 标签 :movie, :rating, 'Rating' = 选择 :movie, :rating, ['G','PG','PG-13','R','NC-17']

= 标签 :movie, :release_date, '发布日期' = date_select :movie, :release_date

= submit_tag '保存更改'

这是我的控制器：

定义编辑

```
@movie = Movie.find params[:id] 
```

结尾

定义更新

```
@movie = Movie.find params[:id]
@movie.update_attributes!(params[:movie])
flash[:notice] = "#{@movie.title} was successfully updated."
redirect_to movie_path(@movie) 
```

结尾

和我的路线：

电影 GET /movies(.:format) 电影#index

```
 POST   /movies(.:format)          movies#create 
```

new_movie GET /movies/new(.:format) 电影#new edit_movie GET /movies/:id/edit(.:format) 电影#edit

```
 movie GET    /movies/:id(.:format)      movies#show

       PUT    /movies/:id(.:format)      movies#update

       DELETE /movies/:id(.:format)      movies#destroy 
```

谢谢您的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T04:33:34.993

本教程可能会让您误入歧途。

它告诉您将表单`PUT`放入编辑路径。

你真的很想走`PUT`正常的电影路径。动词`update`暗含an 。`PUT`

代替：

```
= form_tag edit_movie_path(@movie), :method => :put do 
```

尝试：

```
= form_tag movie_path(@movie), :method => :put do 
```

事实上，您可能想找到一个不同的教程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T04:41:39.023

好吧，您正在尝试发布（放置）在您的路线文件中使用 get 定义的编辑操作（正是它应该是的编辑操作方式）

以标准方式，您希望发布到您的创建或更新路径，但如果您想发送表单进行编辑，请使用方法 get 或更改您的编辑操作路线以接受 put

# mysql - 将 mssql 转换为 mysql 时出错

> ID：10594136
> 
> 赞同：4
> 
> 时间：2012-05-15T04:26:18.963
> 
> 标签：mysql, mysql-error-1064

我正在创建一个使用 mssql 计算问题集的过程。我在下面发布了该查询。现在我想将下面的查询转换为 mysql 但它返回错误。请帮我解决这个错误..

我的部分查询在这里...

```
 select trainPrecent1 = (select distinct(fldprecentage) from precentage  where    fldgroup='Training' and fldset='First'),
     trainPrecent2 = (select distinct(fldprecentage) from precentage where fldgroup='Training' and fldset='Second'),
     agentPrecent1 = (select distinct(fldprecentage) from precentage where fldgroup='Agent on floor' and fldset='First'),
     agentPrecent2 = (select distinct(fldprecentage) from precentage where fldgroup='Agent on floor' and fldset='Second'), 
     superPrecent1 = (select distinct(fldprecentage) from precentage where fldgroup='Supervisor on floor' and fldset='First'), 
     superPrecent2 = (select distinct(fldprecentage) from precentage where fldgroup='Supervisor on floor' and fldset='Second') 
```

现在收到以下错误...

```
 "unknown column name "trainPrecent1" in fielelist... 
```

请帮我解决这个错误....

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-15T04:29:26.620

尝试使用**AS**代替**=**：

```
select (select distinct(fldprecentage) from precentage  where    
fldgroup='Training' and fldset='First') AS trainPrecent1,
...... 
```

# lua - 为什么这个使用自我“：”的Lua函数不能被标记为“本地”而不得到“'（'预期在'：'附近”

> ID：10594139
> 
> 赞同：5
> 
> 时间：2012-05-15T04:26:33.503
> 
> 标签：lua, coronasdk

为什么这个使用自我“：”的Lua函数不能被标记为“本地”而不得到：

> '(' 预计在 ':' 附近

也就是说，在下面的代码中一切正常。但是为什么我不能将“scene:createScene”函数设为本地（因为我在尝试时遇到了上述错误）。

我注意到侦听器功能需要本地化，否则我有时会在情节提要中遇到跨场景问题。这些可以标记为本地并且可以正常工作。

```
SceneBase = {}
function SceneBase:new()
  local scene = Storyboard.newScene()

  local function returnButtonTouch_Listener (event)
    -- code here
  end

  function scene:createScene( event )   -- WHY CAN'T THIS BE LOCAL???
    -- code here
  end

  return scene
end
return SceneBase 
```

这就是为什么函数行不能读取：

```
 local function scene:createScene( event ) 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-05-15T04:31:03.990

```
function scene:createScene(event) ... end 
```

是语法糖：

```
scene.createScene = function(self, event) ... end 
```

这是语法糖：

```
scene["createScene"] = function(self, event) ... end 
```

你想做：

```
local scene["createScene"] = function(self, event) ... end 
```

这没有任何意义。

* * *

另一种说法：`local`是变量的限定符，使其成为局部变量而不是全局变量。您将获得什么变量`local function scene:createScene( event )`？

`createScene`不是变量，它是表中的键`scene`。

* * *

实际上，这有点误导。当你说：

```
foo = 10 
```

没有限定，`foo`就变成了全局的，也就是说它存储在全局状态中是这样的：

```
_G.foo = 10; 
```

这当然意味着与此相同：

```
_G["foo"] = 10; 
```

当您使用关键字`local`时，它不会存储在表中，而是存储在 VM 寄存器中，这既更快又具有更严格的范围限制。

当您编写其中任何一个时：

```
function foo.bar() end
function foo:bar() end 
```

您*将函数值显式存储在表*( `foo`) 中。这些语句分别与这些语句完全相同：

```
foo["bar"] = function() end
foo["bar"] = function(self) end 
```

* * *

> 我注意到侦听器功能需要本地化

你是什​​么意思？在 Lua 中，函数是函数是函数。它只是另一个值，例如字符串或数字。无论是存储在全局、表、本地还是根本不存储都无关紧要。

```
local foo = print
_G["zap"] = foo
doh = zap
t = { zip = doh }
t.zip("Hello, World") -- Hello, World

assert(print == foo
    and zap == foo
    and zap == doh
    and t.zip == doh) 
```

这里我们传递`print`函数。都是同一个函数，只要我们有对它的引用，我们就可以调用它。

我不知道 Corona，但我猜事件处理程序不是由当地人的命名约定指定的。您需要将其注册为事件处理程序。例如，根据[此视频](http://www.youtube.com/watch?v=Y5Oz72MO4JI)，Button 对象有一个`onEvent`字段，该字段设置为该按钮的处理程序。

# mysql - 从基于同一相关表的行中选择多个列

> ID：10594140
> 
> 赞同：0
> 
> 时间：2012-05-15T04:26:45.130
> 
> 标签：mysql, select

给定以下示例：

```
fav_colors
-----------------------
id   col1   col2   col3
-----------------------
01    01     03     03
02    04     02     01
03    01     03     02

colors
-----------
id   colors
-----------
01   green
02   red
03   blue
04   orange 
```

`colors`什么样的 SELECT 语句可以从表中特定 ID 的所有 3 种颜色中提取字符串值`fav_colors`？

就像是：

```
SELECT col1, col2, col3
FROM fav_colors
INNER JOIN ?
WHERE fc.id = 03; 
```

我猜 fav_color 数组会使这更容易，但我依赖于这些值是单独的列。如何将同一个表连接到另一个表中的多个列？

**编辑：**以下所有答案在技术上都有效。同意，如果严重依赖多种颜色信息，最好将每种颜色记录为`fav_colors`. 谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-15T04:32:20.297

三个连接到不同的列可以解决问题：

```
SELECT c1.colors AS c1, c2.colors AS c2, c3.colors AS c3
FROM fav_colors AS fc
INNER JOIN colors AS c1 on c1.id = fc.col1
INNER JOIN colors AS c2 on c2.id = fc.col2
INNER JOIN colors AS c3 on c3.id = fc.col3
WHERE fc.id = 03; 
```

请记住，这是非常糟糕的表设计（根本不可扩展）。

SQLFiddle：[http ://sqlfiddle.com/#!2/5b01b/6](http://sqlfiddle.com/#!2/5b01b/6)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T04:31:48.133

表别名...

```
SELECT fc.id, fc.col1, c1.colors, fc.col2, c2.colors, fc.col3, c3.colors
  FROM fav_colors AS fc
  JOIN colors AS c1 ON fc.col1 = c1.id
  JOIN colors AS c2 ON fc.col2 = c2.id
  JOIN colors AS c3 ON fc.col3 = c3.id
 WHERE fc.id = 03; 
```

理想情况下，您的`fav_colors`表格更像：

```
CREATE TABLE fav_colors
(
    id    INTEGER NOT NULL REFERENCES Users, -- Hypothetical table defining id values
    seq   INTEGER NOT NULL CHECK(seq BETWEEN 1 AND 3),
    color INTEGER NOT NULL REFERENCES Colors
    PRIMARY KEY(id, seq)
); 
```

您可能需要为您的特定 DBMS 调整其中的一些语法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-15T04:46:59.333

```
SELECT (SELECT color FROM colors WHERE id = col1) AS color1,
(SELECT color FROM colors WHERE id = col2) AS color2,
(SELECT color FROM colors WHERE id = col3) AS color3
FROM fav_colors WHERE id = 03; 
```

**我在颜色表中将列名更改为颜色**

# hadoop - 像袋子一样展平元组

> ID：10594144
> 
> 赞同：6
> 
> 时间：2012-05-15T04:28:11.917
> 
> 标签：hadoop, apache-pig, flatten

我的数据集如下所示：

```
( A, (1,2) )
( B, (2,9) ) 
```

我想“展平” Pig 中的元组，基本上为内部元组中找到的每个值重复每个记录，这样预期的输出是：

```
( A, 1 )
( A, 2 )
( B, 2 ) 
( B, 9 ) 
```

我知道当元组 (1,2) 和 (2,9) 是袋子时，这是可能的。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-24T14:43:10.093

你的洞察力很好；通过在包中转换元组是可能的。我们要针对的模式是：{a: chararray,{(chararray)}} 例如：(A,{(1),(2)})

这是您的问题的解决方案：

```
A = LOAD 'data.txt' AS (a:chararray,b:(b1:chararray,b2:chararray));
B = FOREACH A GENERATE a, TOBAG(b.b1,b.b2);
C = FOREACH B GENERATE a, FLATTEN($1); 
```

神奇的部分是 TOBAG 运算符。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-05-15T09:05:25.793

您可以使用 DataFu 的 UDF TransposeTupleToBag ( [http://datafu.incubator.apache.org/docs/datafu/1.1.0/datafu/pig/util/TransposeTupleToBag.html](http://datafu.incubator.apache.org/docs/datafu/1.1.0/datafu/pig/util/TransposeTupleToBag.html) )，然后将包展平以在包。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-31T23:25:49.773

我知道这是一个旧线程，但我无法使用上述方法。以为我会分享我的发现。

```
input: (1-2-3, abc)
       (4-5-6, xyz)
desired output:
       (1, abc)
       (2, abc)
       (3, abc)
       (4, xyz)
       (5, xyz)
       (6, xyz) 
```

最初，我使用 STRSPLIT 生成一个元组，导致与上述类似的输入，但没有成功。

```
output = FOREACH input GENERATE FLATTEN(TOBAG(STRSPLIT($0, '-'))), $1 
```

这导致输出为：

```
 (1,2,3,abc)
 (4,5,6,xyz) 
```

但是，当我使用标记化和替换功能时，我得到了所需的输出。

```
output = FOREACH input GENERATE FLATTEN(TOKENIZE(REPLACE($0,'-', ' '))), $1; 
```

# android - 为多项活动运行 Android MonkeyRunner

> ID：10594147
> 
> 赞同：0
> 
> 时间：2012-05-15T04:28:42.923
> 
> 标签：android, testing, monkeyrunner

我正在尝试对一个复杂的 Android 应用程序进行一些自动化测试，我想知道 MonkeyRunner 是否是正确的工具。我一直看到您需要加载要测试的活动，但是如果您想测试多个活动怎么办？假设你从 main 开始，然后想测试一个搜索功能？MonkeyRunner 可以在单个测试中跨多个活动进行测试吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T04:31:28.653

`Activity`如果可以通过 UI 移动到其他活动，MonkeyRunner 从特定活动开始并继续（通过模拟按下）到其​​他活动。它不会停留在一个上`Activity`。

查看[文档](http://developer.android.com/guide/developing/tools/monkeyrunner_concepts.html)以了解如何使用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T21:13:59.207

下面的代码将起作用。

```
import os
from com.android.monkeyrunner import MonkeyRunner, MonkeyDevice

devices = os.popen('adb devices').read().strip().split('\n')[1:];
deviceid1 = devices[0].split('\t')[0];
deviceid2 = devices[1].split('\t')[0];
dev1 = MonkeyRunner.waitForConnection('',deviceid1)
dev2 = MonkeyRunner.waitForConnection('',deviceid2) 
```

现在您可以通过`dev1`或来在 2 台设备上启动 Activity `dev2`。

# ruby-on-rails - Rails：重定向到当前路径但不同的子域

> ID：10594155
> 
> 赞同：19
> 
> 时间：2012-05-15T04:29:34.703
> 
> 标签：ruby-on-rails, routing

我认为这应该相当容易，但我不熟悉它是如何完成的......

您如何编写一个 before 过滤器来检查当前请求是否针对某些子域，如果是，则将其重定向到相同的 url 但在不同的子域上？

即：`blog.myapp.com/posts/1`很好，但`blog.myapp.com/products/123`重定向到`www.myapp.com/products/123`.

我在想类似...

```
class ApplicationController < ActionController::Base
  before_filter :ensure_domain

  protected
  def ensure_domain
    if request.subdomain == 'blog' && controller_name != 'posts'
      redirect_to # the same url but at the 'www' subdomain...
    end
  end
end 
```

你怎么写那个重定向？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-05-15T04:50:59.033

[ActionController::Redirecting#redirect_to](http://apidock.com/rails/v3.2.3/ActionController/Redirecting/redirect_to)允许你传递一个绝对 URL，所以最简单的方法是传递一个类似的东西：

```
redirect_to request.url.sub('blog', 'www') 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-10-19T02:55:05.823

从子域重定向到子域的简单选择如下

```
redirect_to subdomain: 'www', :controller => 'www', :action => "index" 
```

这将在域名上调用，例如 foo.apple.com 然后会转到 www.apple.com

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-03-31T15:52:36.867

无需执行字符串 sub 或指定控制器或操作的更简单的选项是使用

```
redirect_to url_for(subdomain: 'www', only_path: false) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2021-01-05T14:00:07.743

一个简单的解决方案是

```
redirect_to dummy_rul(subdomain: 'subdomain') 
```

例子：

```
redirect_to projects_url(subdomain: 'edv') it will redirect on below url

"http://edv.maindomain.com/projects" 
```

“edv”是我的子域

# php - jQuery Countdown serverSync 15 小时差

> ID：10594161
> 
> 赞同：0
> 
> 时间：2012-05-15T04:30:53.317
> 
> 标签：php, jquery

我正在使用带有 serverSync 功能的 Keith Woods 倒数计时器 (http://keith-wood.name/countdown.html)。这似乎在一个国家/地区效果很好，但是当我检查来自不同国家/地区的倒计时时，似乎有 15 小时的差异。

因此，在澳大利亚，倒计时显示 1 天，但在美国，倒计时显示 1 天 15 小时。我已经完全按照网站上的说明实现了服务器端代码，但仍然存在时间差异。如果我更改本地时钟，它会更改倒计时时间，但是当点击刷新时，倒计时显示正确的时间量，所以我知道它正在获取服务器时间。但是在美国还是有时差的。

如果它读取服务器时间，任何想法为什么会这样？

```
function serverTime() { 
  var time = null; 
  $.ajax({url: 'server-time.php?random=' + Math.floor(Math.random() * 1000000), 
       async: false,
       dataType: 'text', 
       success: function(text) { 
          time = new Date(text); 
       }, error: function(http, message, exc) { 
          time = new Date(); 
       }}); 
       return time; 
    }

    var launchDate = "";

    $(function () {
       launchDate = new Date(
           2012,
           5-1,
           22,
           11
       );
       $('#launchCountdown').countdown('destroy')
       $('#launchCountdown').countdown({
                until: launchDate,
                serverSync: serverTime,
                format: 'DHMS', 
                expiryText: '<p>It\'s all over</p>'
                //onTick: highlightLast5
            });
        }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T05:59:41.720

您必须自己处理时区问题。[Countdown 将根据文档](http://keith-wood.name/countdownRef.html#serverSync)自动应用这些设置：

> 此日期和时间应考虑服务器的时区，并且该时间与客户端时间之间的任何差异都将应用于倒计时启动或更改。

因此会考虑客户端的时区，因为脚本是根据客户端的设置加载的。

编辑更多：

在不知道您的确切代码的情况下我无法确定，但是您应该将其设置为 GMT，然后偏移到您的服务器时间一次，而不是将其设置为您的服务器时间，这解决了自动偏移到每个时区的问题，您不想要。所以使用*直到*：

```
$(selector).countdown({ 
    until: new Date(2012, 8 - 1, 8)}); // add a date object with a timezone
$(selector).countdown({ 
    // create the offset based on your server timezone (e.g Sydney)
    // this overrides servertime with a static value that you want
    until: $.countdown.UTCDate(+10, 2012, 1 - 1, 26),  timezone: +10}); 
$(selector).countdown({until: '+1m -1d'}); // set it to one one day from now 
```

# plone - 如何在 Plone 的文件夹内容页面（一个文件夹下的内容选项卡）中显示作者列？

> ID：10594169
> 
> 赞同：1
> 
> 时间：2012-05-15T04:31:41.943
> 
> 标签：plone

克隆版本：4.1.4 我有一个包含 50 个文件的文件夹。作者信息可以通过查看--显示选项卡显示。现在我希望在 Plone 的 folder_contents 页面（文件夹下的 Contents 选项卡）中显示作者列。我怎么能得到那个？

最好的祝福。

雨果

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T13:59:28.553

folder_contents 视图并非旨在通过 Web (TTW) 进行修改。但是，您可以在文件系统上修改它（最简单的方法可能是用 z3c.jbot 覆盖它）。

或者，您可以简单地创建一个可以显示不同字段的集合，并将其用作文件夹的默认视图。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-29T03:25:18.613

您可以使用插件[collective.listingviews](https://pypi.python.org/pypi/collective.listingviews)，它可以让您创建一个新的folder_listing 视图TTW。

# javascript - 对如何使用 960 网格添加左边距感到困惑

> ID：10594170
> 
> 赞同：0
> 
> 时间：2012-05-15T04:31:42.210
> 
> 标签：javascript, css, html, 960.gs

我有以下 HTML：

```
<ul class="container_12">
  <li class="Home current" title="">
  <a title="">Home</a>
  <ul>
     ... 
```

我想做的是让顶部 ul 中的 li 元素不直接从左侧开始。我想将它们移动一两个网格位置。

使用 960 网格最好的方法是什么？我很困惑是否应该更改顶部 ul 的类，或者是否应该将顶部 ul 包含在另一个 container_12 中，然后为该 ul 设置不同的类。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T08:44:51.523

您需要使用`push_1`或`push_2`移动某个或两个定义的网格位置。显然，如果两个 ul 都在同一个网格块中，那么它们都会移动。您需要将需要推入另一个容器的任何东西分开。

当您正确了解网格系统的工作原理时，网格系统非常有用，我认为您应该对引擎盖下发生的事情有一个很好的基础，最好的教程之一是 -[掌握 960 网格系统](http://net.tutsplus.com/tutorials/html-css-techniques/mastering-the-960-grid-system/)

顺便说一句，我还强烈推荐这个在线工具来帮助您创建自定义网格 -[在线网格生成器](http://grids.heroku.com/)

# opengl - 如何使用 opengl 和 cg 进行多通道渲染

> ID：10594181
> 
> 赞同：1
> 
> 时间：2012-05-15T04:34:17.467
> 
> 标签：opengl, graphics, cg

我想实现一个关于铅笔渲染的算法。现在我有 32 种不同笔触强度的纹理和一些模型。过程是这样的。首先，我应该使用 Phong 着色来确定强度。然后我应该将纹理映射到渲染结果。

纹理应存储在 3d 纹理空间中。问题是我不知道如何使用 opengl 和着色器进行多通道渲染。而且我不知道如何访问具有正确坐标的纹理。如果网格的面小于纹理怎么办？任何人都可以告诉我一些这样做的例子吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:52:46.087

您需要渲染到某种屏幕外缓冲区才能进行多通道渲染。`Framebuffers`是当前在 OpenGL 中进行离屏渲染的方法。[Apple 有一个很好的页面来描述如何使用它们](https://developer.apple.com/library/mac/#documentation/graphicsimaging/Conceptual/OpenGL-MacProgGuide/opengl_offscreen/opengl_offscreen.html)。（它不是特定于 Mac 的。）

我不确定我是否理解你关于纹理的问题，所以无法回答那部分。

# iphone - iAd 不工作，在下一个版本中

> ID：10594186
> 
> 赞同：0
> 
> 时间：2012-05-15T04:35:44.003
> 
> 标签：iphone, ipad, iad

我只是想知道，我当前的应用程序已上线并与 iAds 集成。iAd 运行良好。

现在我正在开发同一应用程序的下一个版本，并尝试在其他屏幕上实现 iAds，但 iAds（测试广告）没有出现。

是不是，如果应用程序是实时的并与 iAds 集成，那么测试广告（也是实时广告）就不会出现？

非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T04:42:28.377

您只能`iAd`在应用程序中创建一个对象。如果要在多个屏幕上显示广告，则必须将单个 iAd 引用到所有屏幕。

# ruby-on-rails - 如何在 before_filter 中运行两个方法？

> ID：10594187
> 
> 赞同：0
> 
> 时间：2012-05-15T04:35:44.610
> 
> 标签：ruby-on-rails, before-filter

我的后控制器代码如下。我想要做的是用户应该能够删除他自己的帖子，而 admin_user 可以删除任何帖子。以下代码使admin_user可以删除帖子，但是对于普通用户，当尝试删除自己的帖子时，它会重定向到root_path

似乎 do_authentication 无法正常工作，普通用户正在尝试以管理员身份而不是“correct_user”身份进行身份验证

有什么问题？

谢谢！

```
class PostsController < ApplicationController
  before_filter :signed_in_user, only: [:index, :create, :destroy]
  before_filter :do_authentication,  only: :destroy
  .
  .
  .
def destroy
  @post.destroy
  flash[:success] = "Post deleted!"
  redirect_back_or user_path(current_user)
end

private
  def do_authentication
    correct_user || admin_user
  end

  def correct_user
    @post = current_user.posts.find_by_id(params[:id])
    redirect_to user_path(current_user) if @post.nil?
  end

  def admin_user
    @post = Post.find_by_id(params[:id])
    redirect_to(root_path) unless current_user.admin?
  end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:19:03.373

首先，我建议使用 cancan 进行授权。我认为您的问题是正确用户的返回值。你控制不了那个。如果该方法返回的结果为 false，则 do_authentication 方法也将调用 admin_user。还要查看您的代码，似乎管理员授权也不起作用...

试试这个：

```
def do_authentication
  @post = Post.find_by_id(params[:id])
  redirect_to redirect_location unless current_user.admin? or @post.user == current_user
end

def redirect_location
  return "redirect_location_for_admin" if current_user.admin?
  return "redirect_location_for_non_admins"
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T05:36:38.233

无论用户的角色如何，都会为所有用户执行方法correct_user，admin_user，因为您在调用方法时没有检查任何条件。需要改进代码以解决您的问题。

```
def do_authentication
  if current_user.admin?
    @post = Post.find_by_id(params[:id])
  else
    @post = current_user.posts.find_by_id(params[:id])
    redirect_to user_path(current_user), :notice => "Access denied" unless @post
  end
end 
```

# java - 检查特定的 JSON 对象是否可用

> ID：10594188
> 
> 赞同：15
> 
> 时间：2012-05-15T04:35:45.083
> 
> 标签：java, android, json, object

我有如下 JSON 文件，必须将其转储到 ArrayList 中：

```
{
 "main1" : [
  {
     "child1" : valueA,
     "child2" : valueB,
     "child3" : valueC,
  },
  {
     "child1" : value1,
     "child3" : value3,
  },
 ],
 "main2" : "valueMain2"
} 
```

必须检查元素`child2`是否存在，然后取值。您可以看到它没有出现在第二个数组中。

我正在使用本机 JSON (org.JSON) Java 代码如下：

```
ArrayList<HashMap<String,String>> myList = new ArrayList<HashMap<String,String>>();
JSONObject json = <my_json_object>;

JSONObject getchild2;

JSONArray jArray = <my_json_object>.getJSONArray("main1");
for(int j = 0; j < jArray.length(), j++){
  HashMap<String,String> map = new HashMap<String,String>();

  map.put("First Value", jArray.getJSONObject(j).getString("child1"));
  map.put("Third Value", jArray.getJSONObject(j).getString("child3"));

  getchild2 = jArray.getJSONObject(j).getJSONObject("child2");
  if(getchild2 == null){
    map.put("Second Value", "Some Dummy Value");
  } else {
    map.put("Second Value", jArray.getJSONObject(j).getString("child2"));
  }
 myList.add(map);
} 
```

我怎样才能做到这一点？

`<my_json_object>`使用本机 URL 解析，因为我在这里找到了 URL 请求的 HTTP 响应：http: [//mobisys.in/blog/2012/01/parsing-json-from-url-in-android/](http://mobisys.in/blog/2012/01/parsing-json-from-url-in-android/)

它不起作用，因为错误如下：

```
E/AndroidRuntime(664): Caused by: java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0 
```

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-05-16T11:59:34.040

无论如何，我通过谷歌搜索得到了解决方案：我将其重新定义为，

```
 if (!jArray.getJSONObject(j).has("child2")) {
  map.put("Second Value", "N.A");
 } else {
  map.put("Second Value", jArray.getJSONObject(j).getString("child2"));
 } 
```

创建 JSONObject getchild2 = jArray.getJSONObject(j).getJSONObject("child2"); 而是，不必要的。

这很有效，相当完美！有关更多详细信息，请参阅此内容：[检查 JSON 中是否存在子对象](https://stackoverflow.com/questions/10063866/checking-if-exists-subobject-in-json)

感谢大家的帮助！

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-05-15T05:16:55.150

```
getJSONObject("child2"); 
```

如果 child2 不存在，将抛出异常。试试这个：

```
getchild2 = jArray.getJSONObject(j).optJSONObject("child2"); 
```

这样，如果 child2 不存在，您就不必捕获异常，而是可以检查 null。

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2012-05-15T04:54:05.943

试试这个：

```
{"main1" : [{
             "id":"1"
               "child1" : "valueA",
               "child2" : "valueB",
               "child3" : "valueC",
            }, {
                "id":"2"
                  "child1" : "value1",
                 "child3"  : "value3",
           }]
} 
```

# c# - 使用查询字符串在 MVC C# 上使用操作过滤器

> ID：10594189
> 
> 赞同：17
> 
> 时间：2012-05-15T04:35:51.397
> 
> 标签：c#, asp.net-mvc, action-filter, actionfilterattribute

我使用类名 RightCheckerAttribute 来检查 MVC3 应用程序中的用户权限......所以 RightCheckerAttribute 类是这样的......

```
 public bool isAdmin { get; set; }

    public override void OnActionExecuting(ActionExecutingContext filterContext)
    {
        HttpContextBase context = filterContext.HttpContext;

        bool result = Convert.ToBoolean(context.Request.QueryString["isAdmin"].ToString());

        if (isAdmin != result) 
        {
            RouteValueDictionary redirecttargetDictionary = new RouteValueDictionary();
            redirecttargetDictionary.Add("action", "NoPermission");
            redirecttargetDictionary.Add("controller","Singer");
            filterContext.Result = new RedirectToRouteResult(redirecttargetDictionary);

        }

        //base.OnActionExecuting(filterContext);
    } 
```

所以在我应用这个的方法中，头是..

`[RightChecker (isAdmin=true)]`

我正在执行这个方法。

`http://localhost:5576/Singer/DeleteSinger?isAdmin=true`

问题是我传递的是真还是假......我得到的结果变量为假......而且我得到：

> 异常[空对象引用]...

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-05-15T05:16:43.580

看来您没有在查询字符串中传递`isAdmin=false`or `isAdmin=true`。这个对我有用。但是，您需要处理未传递查询字符串参数的情况。检查我的实施。正如问题的评论部分所提到的，通过查询字符串传递它的安全性不够。

```
 public class RightChecker : ActionFilterAttribute
        {
            public bool IsAdmin;            

            public override void OnActionExecuting(ActionExecutingContext filterContext)
            {

               bool result = false;
               if (filterContext.HttpContext.Request.QueryString["isAdmin"] != null)
               {
                       bool.TryParse(filterContext.HttpContext.Request.QueryString["isAdmin"].ToString(), out result);
               }

               if (IsAdmin != result) 
               {
                   //your implementation
               }
            }
        } 
```

你的行动方法

```
 [RightChecker(IsAdmin=true)]
    public ActionResult AttCheck()
    {
        return View();
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T05:51:04.060

从查询字符串检查权限并不是很安全。你可以试试这个：[链接] [“安全意识”操作链接？](https://stackoverflow.com/questions/2721869/security-aware-action-link)

但由于 mvc 3 api 更改，ActionIsAuthorized Method 中的一些代码已过时，您可以自己修复它，请参阅我在这里提出的问题 [链接] [https://stackoverflow.com/questions/10545018/how-to-get-authorizationfilters-from -filterproviders](https://stackoverflow.com/questions/10545018/how-to-get-authorizationfilters-from-filterproviders)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T04:49:47.693

似乎可能`context.Request.QueryString["isAdmin"].ToString()`导致`NullReferenceException`.

尝试

```
var param = context.Request.QueryString["isAdmin"] as string ?? "false";
var result = param == "true"; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-15T07:15:55.673

将其传递到您的 ViewData 中，如下所示：

```
public ActionResult Test(bool testParam)
{
   ViewData["isAdmin"] = testParam;
   return View();
} 
```

# unit-testing - 如何为 Visual Studio 包编写单元测试

> ID：10594191
> 
> 赞同：1
> 
> 时间：2012-05-15T04:36:01.180
> 
> 标签：unit-testing, vsx, vspackage

我现在正在做一个 Visual Studio 包项目，目前我们所有的测试只是模拟我们与 Visual Studio 交互的方式，包括窗口打开和关闭、菜单选择、按钮点击等。我认为这些测试可以归类为集成测试和它们高度依赖于 devenv.exe 进程。对于纯单元测试，我只想测试我的一个业务逻辑并模拟其他依赖项。虽然 Visual Studio SDK 在 SDK 文件夹中的路径 VisualStudioIntegration\Common\Source\CSharp\UnitTest 下包含一个测试库，但我发现它太简单了项目，太年轻了，无法在我的项目中使用。当我尝试从头开始编写单元测试时，我遇到了很多关于模拟 VSX 接口的问题。关于 VSX 单元测试的资源也很少，任何人都可以给我一些提示或链接吗？任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-17T20:03:05.250

就我而言，我需要从控制程序启动和控制 Visual Studio 以运行一些开发人员研究。

基本上，为什么不让您的测试在程序实例上的实验性配置单元中运行您的插件呢？

这是通过 COM 启动 Visual Studio 实例的有用资源：http: [//blogs.msdn.com/b/kirillosenkov/archive/2009/03/03/how-to-start-visual-studio-programmatically.aspx](http://blogs.msdn.com/b/kirillosenkov/archive/2009/03/03/how-to-start-visual-studio-programmatically.aspx)

# mysql - Cygwin mysqldump 完整插入

> ID：10594192
> 
> 赞同：0
> 
> 时间：2012-05-15T04:36:17.250
> 
> 标签：mysql, cygwin, mysqldump

我正在使用实际的 cygwin 版本并安装了 mysql 包 5.5.21。使用 mysqldump 时，我遇到插入语句在一行中的问题。我已经尝试过以下语句，但似乎它们对输出没有任何影响。

```
mysqldump --opt --extended-insert --complete-insert ....
mysqldump -c ... 
```

有谁知道我如何强制 mysqldump 为每个数据行创建一个插入？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T15:37:12.533

`--extended-insert`是导致每行多行的原因。它也是`--opt`.

尝试添加`--skip-extended-insert`.

# c++ - C ++附加随机序数导致未解析的外部符号

> ID：10594195
> 
> 赞同：2
> 
> 时间：2012-05-15T04:37:00.413
> 
> 标签：c++, visual-studio-2010, dll, unresolved-external, ordinal

我只是无法弄清楚**Visual C++ 2010**在做什么，我已经用谷歌搜索了好几个小时，但我仍然不知道发生了什么。我真的非常感谢我能得到的任何帮助。

我有一个要从中**导入函数**的 DLL ，并且我已经完成了所有通常的动作。我从**DLL创建了一个****.lib 文件**，并创建了一个头文件，其中包含和**`extern "C"``__stdcall`。**

 **然而，尽管我付出了所有努力，编译器*仍然*抱怨：

```
unresolved external symbol _Connected@4 referenced in function _main 
```

这是**真正的踢球者**，你看到那里的**序数**吗？`@4`<-- 我没有在我的代码中指定任何地方，VC++ 只是决定它显然喜欢数字 4。在 DLL 中，函数 Connected 实际上被列为序数 11，而不是 4。

如果我在 .lib 文件中将函数更改为序数 4，**则项目编译**，但 DLL 会抱怨，因为它已连接列为 11。

用于 NtDirect.dll 的**BinDump：**

```
File Type: DLL

Section contains the following exports for NtDirect.dll

00000000 characteristics
4F58E306 time date stamp Thu Mar 08 09:49:10 2012
    0.00 version
       1 ordinal base
      32 number of functions
      32 number of names

ordinal hint RVA      name

      1    0 000011F0 Ask
     ...
     10    9 000016A0 ConfirmOrders
     11    A 000016E0 Connected
     12    B 00001750 Filled
     ...
     32   1F 00002070 UnsubscribeMarketData

Summary

   13000 .data
    3000 .rdata
    2000 .reloc
    1000 .rsrc
    F000 .text 
```

**main.cpp**的代码：

 **```
#include <iostream>
#include "ninja.h"

int main()
{
    std::cout << Connected(1);
    std::cin.get();

    return 0;
} 
```

**ninja.h**中的声明：（仅显示连接以节省空间）

```
extern "C" __declspec(dllexport) int __stdcall Connected(int showMessage); 
```

在**NtDirect.def**中导出：（我已经用 AND 尝试过这个，但没有指定序数。）

```
LIBRARY NtDirect

EXPORTS
...
ConfirmOrders@10
Connected@11
Filled@12
... 
```

**已经尝试过：**

从包含`Connected@11`AND的 .def 文件构建 .lib `Connected`。我也尝试过使用除了 Connected 之外的其他功能，它们也不起作用。我尝试过使用我的导入声明（添加和删除`extern "C"`）。

我还确保 DLL 与我的可执行文件位于同一文件夹中，并且我已将 NtDirect.dll 添加到链接器中，以便它可以访问。

**我正在运行 Windows 7 64 位。******

# grails - Grails 检查唯一约束

> ID：10594196
> 
> 赞同：0
> 
> 时间：2012-05-15T04:37:07.917
> 
> 标签：grails, groovy

我有一个域类供应商：-

```
class Supplier {

    static embedded=['address']
    static constraints = {
        vendorName(blank:false,nullable:false,maxSize:50)
        address(blank:false,nullable:false,unique:true)
        contactPerson(blank:false,nullable:false,maxSize:50)

    }
    String vendorName
    Address address
    String contactPerson
} 
```

和地址类：-

```
class Address {
    String street
    String area

    static constraints = {
        street(blank:false,nullable:false)
        area(blank:false,nullable:false)
    }

} 
```

我的要求是检查供应商街道的唯一性。当用户从供应商视图输入街道和区域时，我必须检查该街道对于供应商来说应该是唯一的。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T09:39:48.240

如果只有街道应该是唯一的，那将是这样

```
class Address {
    String street
    String area

    static constraints = {
        street(blank:false,nullable:false)
        area(blank:false,nullable:false)
    }
    static mapping = {
        street(index: true, indexAttributes: [unique: true])
    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T05:44:07.413

由于每个供应商只有一个地址，因此每个供应商街道已经是唯一的。如果您不能有超过 1 个地址，则不能有重复的街道。

# css - 将“内容”区域分成两列？

> ID：10594197
> 
> 赞同：11
> 
> 时间：2012-05-15T04:37:08.380
> 
> 标签：css, layout, html

我正在考虑从 HTML 表格过渡到纯 CSS 布局。到目前为止，让我难以理解的一件事是如何正确布局页面。

我可以：

*   标题
*   左侧导航
*   内容
*   页脚

所以像这样：

```
________________________ 
|      Header           |
|_______________________|
| Left |     Content    |
| Nav  |                |
|      |                |
|      |                |
|      |                |
|      |                |
|      |                |
|      |                |
|      |                |
|      |                |
|      |                |
|______|________________|
|     Footer            |
|_______________________| 
```

但是，在某些页面上，我希望能够将“内容”区域划分为以下内容：

```
________________________ 
|      Header           |
|_______________________|
| Left | info | info    |
| Nav  |      |         |
|      |      |         |
|      |      |         |
|      |      |         |
|      |______|_________|
|      | Other info     |
|      |                |
|      |                |
|      |                |
|      |                |
|______|________________|
|     Footer            |
|_______________________| 
```

有谁知道这样的事情会怎么做？或者甚至是一个很好的网站来帮助解决这种事情？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-05-15T11:38:30.323

### 第一个布局预览（[在线演示](http://dabblet.com/gist/2700941)）：

![在此处输入图像描述](../Images/6ed6724a39ed8e6a0a5951063ca5c6ba.png)

**html:**

```
<div id="header">Header</div>
<div id="main-wrap">
    <div id="sidebar">Left Nav</div>
    <div id="content-wrap">Content</div>
</div>
<div id="footer">Footer</div> 
```

**CSS：**

```
/* sizes */
#main-wrap > div { min-height: 450px; }

#header,
#footer {
    min-height: 40px;
}

/* layout */
#main-wrap {
    /* overflow to handle inner floating block */
    overflow: hidden;
}

#sidebar {
    float: left;
    width: 30%;
}

#content-wrap {
    float: right;
    width: 70%;
} 
```

### 第二版布局预览（[在线演示](http://dabblet.com/gist/2700950)）：

![在此处输入图像描述](../Images/5c0acf271b23cb5c2d0fa3974634bb87.png)

**html**与第一个布局非常相似，但我们包含一个包装器`#content-wrap`：

```
<div id="header">Header</div>
<div id="main-wrap">
    <div id="sidebar">Left Nav</div>
    <div id="content-wrap">
        <div id="info-wrap">
            <div class="info">small info </div>
            <div class="info">small info</div>
        </div>
        Content
    </div>
</div>
<div id="footer">Footer</div> 
```

**css**也类似，顺便说一下，我们添加了一些`css`规则来定位新的 div：

```
/* sizes */
#main-wrap > div { min-height: 450px; }

#header,
#footer {
    min-height: 40px;
}

.info { min-height: 80px; }

/* layout */
#main-wrap {
    /* overflow to handle inner floating block */
    overflow: hidden;
}

#sidebar {
    float: left;
    width: 30%;
}

#content-wrap {
    float: right;
    width: 70%;
}

#info-wrap {
    /* overflow to handle inner floating block */
    overflow: hidden;
}

.info {
    width: 50%;
    float: left;
} 
```

**更新：**改进的样式

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T04:41:23.763

试试其中一个 CSS 网格系统。这个网站列出了一些：[10 个非常出色和有用的 CSS 网格系统](http://spyrestudios.com/css-grid-systems/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-15T04:43:26.370

[http://grids.heroku.com/fluid_grid?column_amount=3](http://grids.heroku.com/fluid_grid?column_amount=3)

您可以添加和删除这些网格。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-05-15T08:09:18.980

为您的内容 div 设置一个宽度，然后为信息部分创建三个 div。

前两个给出一个宽度并确保它们不超过容器内容的总和。一左一右浮动。

在 div 下方添加：

```
<div class="clear"></div> 
```

的CSS是：

```
.clear {clear:both;} 
```

在 clear 下将是您的第三个 div，它将为您提供所需的布局。

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-05-15T05:14:56.713

在内容列中添加另一个内表。将此表设为服务器 (runat="server)。在文件后面的代码中指定条件并使表可见为 false 或 true。这里我的示例包含一个嵌套表。当我通过代码后面有特定条件时将其隐藏关于特定事件的文件。

**例如：**

```
<body>
    <form id="form1" runat="server">
    <div>

        <table >
            <tr>
                <td colspan="2">
                    header</td>
            </tr>
            <tr>
                <td style="height:50px;">
                    left nav
                </td>
                <td>
                    content

                    <table class="style1" id="innertab" runat="server">
                        <tr>
                            <td>
                                info</td>
                            <td>
                                info</td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                other info</td>
                        </tr>
                    </table>

                </td>
            </tr>
            <tr>
                <td colspan="2">
                    footer</td>
            </tr>
        </table>

    </div>
    </form>
</body> 
```

**文件后面的代码：**

```
protected void Page_Load(object sender, EventArgs e)
        {
            if (Session["value"].ToString == ValueType)
            {
                innertab.Visible = false;
            }
        } 
```

# objective-c - 将 UIImage 缓存为 NSData 并将其取回

> ID：10594200
> 
> 赞同：1
> 
> 时间：2012-05-15T04:37:49.133
> 
> 标签：objective-c, ios5, uiimage, nsdata

我正在尝试缓存从 Flickr 加载的图像。如果我加载相同的图像，我希望使用缓存版本。出于某种原因，当我从 Internet 下载图像时，它可以工作，但是如果我从缓存中加载它，它会显示一个空白图像。我检查了cacheData，它的位数与我输入的图像相同，因此加载文件似乎正在工作。

这是我缓存图像的方式：

```
+ (void)cachePhoto:(NSData *)photo withKey:(NSString *)key {
    if (photo) {
        NSArray * urlArray = [fileManager URLsForDirectory:NSCachesDirectory inDomains:NSUserDomainMask];
        NSURL * targetDirectory = (NSURL *)[urlArray objectAtIndex:0];
        targetDirectory = [targetDirectory URLByAppendingPathComponent:key];
        [photo writeToURL:targetDirectory atomically:YES];
        [cachedPhotos addObject:key];
        NSLog(@"target url %@", targetDirectory);
    }
}

+ (NSData *)photoInCache:(NSString *)key {
    if ([cachedPhotos containsObject:key]) {
        NSString * path = [[cacheDirectory URLByAppendingPathComponent:key] path];
        NSLog(@"path: %@", path);
        return [fileManager contentsAtPath:path];
    } else {
        return nil;
    }
} 
```

我的代码将其取回：

```
NSData * cacheData = [PhotoCache photoInCache:key];

if (cacheData) {
    self.imageView.image = [UIImage imageWithData:cacheData];
    [spinner stopAnimating];
    NSLog(@"used cached image");
} else {
    dispatch_queue_t downloadQueue = dispatch_queue_create("get photo from flickr", NULL);
    dispatch_async(downloadQueue, ^{

        NSData * imageData = [[NSData alloc] initWithContentsOfURL:url];
        dispatch_async(dispatch_get_main_queue(), ^{
            [spinner stopAnimating];
            self.imageView.image = [UIImage imageWithData:imageData];
            [PhotoCache cachePhoto:imageData 
                           withKey:key];
        });
    });
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T18:25:30.673

我想通了 - 我正在将图像加载到我的 prepareForSegue 中的 imageView 中，而 ImageView 尚未加载。我在 viewDidLoad 中加载了图像并且它起作用了。我还必须使用 UIImagePNGRepresentation，就像评论中建议的那样。

# android - 如何获取 android:apikey

> ID：10594206
> 
> 赞同：-1
> 
> 时间：2012-05-15T04:39:40.720
> 
> 标签：android, android-maps

如何获取 googlemap com.google.android.maps.MapView 的 android:apikey。我搜索了它，但无法理解任何文章。有人可以解释一下如何获得该密钥。谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T04:43:59.857

在命令提示符中设置您的 jdk 路径...

像，

> C:/程序文件/java/jdk6/bin>

类型

> keytool -v -list -alias androiddebugkey -keystore "C:\Documents and Settings\Gaurang.android\debug.keystore"

并检查您的 debug.keystore 路径并按如下方式点击...

> C:/program files/java/jdk6/bin >keytool -v -list -alias androiddebugkey -keystore "C:\Documents and Settings\Samir\ .android\debug.keystore"

`and android as a password`

然后复制`MD5 Figerprint`并添加到下面的链接...

[https://developers.google.com/android/maps-api-signup](https://developers.google.com/android/maps-api-signup)

[获取地图 Apikey](http://samir-mangroliya.blogspot.in/p/android-map-api-key.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T04:46:27.397

使用命令提示符转到 jdk 路径：

```
cd java\jdk1.6.0.21\bin 
```

然后使用以下命令执行 keytool 命令：

```
keytool.exe -list -keystore "c:\Documents and Settings\admin\.android\debug.keystore" 
```

然后 android 作为密码：然后按 enter ，你会得到你的 api 密钥

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-15T04:44:12.963

基本要求是有 android-sdk 和 java。您将需要 debug.keystore。

现在以下是一个网站，它将为您提供 A 到 Z 信息。

[http://mobiforge.com/developing/story/using-google-maps-android](http://mobiforge.com/developing/story/using-google-maps-android)。

> 您通常可以从“C:\Program Files\Java\YOUR VERSION\bin”文件夹中找到 Keytool.exe

Keytool.exe 将帮助您生成 MD5 指纹。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-17T12:06:52.957

android 地图 api 密钥“https://developers.google.com/android/maps-api-signup”的注册链接不起作用。

在页面底部上方的 iframe 中显示“无法连接到远程服务器”。最近有人处理过吗？

# emacs - 如何在 Emacs Lisp 中以编程方式获取区域（选择）？

> ID：10594208
> 
> 赞同：22
> 
> 时间：2012-05-15T04:39:52.453
> 
> 标签：emacs, elisp

我需要访问 Emacs 缓冲区中的选择。我找到了这篇文章[如何在 Emacs Lisp 中访问当前区域的内容？](https://stackoverflow.com/questions/605846/how-do-i-access-the-contents-of-the-current-region-in-emacs-lisp) 它对我有很大帮助。

但有一个问题。第一次选择（突出显示）一个区域时，它可以正常工作，但是当我按 Cg 并将光标正常移动到另一个地方而不突出显示任何字符时，我得到了一个从最后一个标记到当前点的字符串，而我期望一个空的.

实际上我需要实现一个函数，它将当前选择（突出显示）作为字符串返回，如果没有突出显示，则返回空字符串。下面的代码可能会更清楚地表达我。

```
 (defun get-search-term ()
  (interactive)
  (let (
        (selection (buffer-substring-no-properties (region-beginning) (region-end))))
    (if (= (length selection) 0)
        (message "empty string")
      (message selection)))) 
```

有什么建议么？非常感谢！

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-05-15T06:21:25.423

交互的“r”规范是愚蠢的。你明白为什么了。

```
(defun get-search-term (beg end)
  "message region or \"empty string\" if none highlighted"
  (interactive (if (use-region-p)
                   (list (region-beginning) (region-end))
                 (list (point-min) (point-min))))
  (let ((selection (buffer-substring-no-properties beg end)))
    (if (= (length selection) 0)
        (message "empty string")
      (message selection)))) 
```

我的意思不是愚蠢和无用的“愚蠢”；只是它不关心标记是否处于活动状态。我认为它早于瞬态标记模式。

**编辑**：在上面使用`(point-min)`两次会使代码在重新阅读时更难理解。这是一个更好的实现：

```
(defun get-search-term (beg end)
  "message region or \"empty string\" if none highlighted"
  (interactive (if (use-region-p)
                   (list (region-beginning) (region-end))
                 (list nil nil)))
  (message "%s" (if (and beg end)
                    (buffer-substring-no-properties beg end)
                  "empty string"))) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T16:22:27.003

检查变量标记激活，例如。Ch v 标记激活

==> mark-active 是在“C 源代码”中定义的变量。它的值是 nil Local in buffer *Apropos*；全局值为零

以任何方式设置时自动变为缓冲区本地。

文档：非零表示标记和区域当前在此缓冲区中处于活动状态。

```
(defun get-search-term ()
  (interactive)
  (if mark-active
      (let (
        (selection (buffer-substring-no-properties (region-beginning) (region-end))))
    (if (= (length selection) 0)
        (message "empty string")
      (message selection))
    )
    (error "mark not active"))
  ) 
```

# jsp - 如何在本地磁盘文件系统中显示 index.html 文件 ?

> ID：10594212
> 
> 赞同：0
> 
> 时间：2012-05-15T04:40:27.350
> 
> 标签：jsp, servlets, struts2

I have an `index.html` file in my local disk file system on `c:\report\index.html`. I need to display this file in web application's JSP page in an `<iframe>`.

How can I achieve this?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:17:04.717

Isn't it simple ?

```
<IFRAME SRC="D:\\lib\\hello.html" width="400" height="200">
<!-- Alternate content for non-supporting browsers -->
</IFRAME> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T05:26:23.073

Create a [servlet](https://stackoverflow.com/tags/servlets/info) which gets an `InputStream` of it with help of `FileInputStream` and writes it to the `OutputStream` of the response after having set the proper content type header (so that the browser understands how to deal with it). Finally just specify the URL of the servlet in the `<iframe src>`.

E.g.

```
@WebServlet("/reportServlet")
public class ReportServlet extends HttpServlet {

    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        response.setContentType("text/html");
        Inputstream input = new FileInputStream("c:/report/index.html");
        OutputStream output = response.getOutputStream();
        // Write input to output the usual way.
    }

} 
```

with

```
<iframe src="${pageContext.request.contextPath}/reportServlet" ...></iframe> 
```

An alternative is to map `c:/report` as a new webapp context in your server configuration so that you can just access it directly by [http://example.com/report/index.html](http://example.com/report/index.html).

```
<iframe src="/report/index.html" ...></iframe> 
```

# ruby-on-rails - 在多个 Rails 应用程序中使用 API 中的模型

> ID：10594215
> 
> 赞同：2
> 
> 时间：2012-05-15T04:40:36.513
> 
> 标签：ruby-on-rails, api, cas, activeresource, rails-roar

我正在为一系列应用程序设置集中式数据管理系统 + CAS，这些应用程序当前在许多数据库中存在重复数据，这对管理来说是一场噩梦。

我已经用 ruby​​cas-server 和 ruby​​cas-client 很好地实现了 CAS 系统，但是在客户端应用程序之间实际共享用户数据和其他模型时遇到了问题。例如：

*   CAS/中央系统（共享数据库）将基本用户公开为 JSON
*   App1 向用户扩展了有关最喜欢的颜色的信息
*   App2 只关心拥有一个用户

我希望能够让 App1 添加它关心从 API 返回的对象的数据，而不会给 App2 带来这些信息的负担。

我目前正在为可以使用 JSON 的客户端应用程序编写一个 gem（使用 ActiveResource 或 ROAR，还不确定是哪个），但是客户端应用程序需要使用当前管理的附加数据来装饰/扩展其模型活动记录。所以我不确定扩展这些 gem 提供的实例的最佳方法是什么。

到目前为止，我已经尝试过让 gem 包含一堆模块，然后 ActiveRecord 模型可以包含这些模块，但这在需要处理类方法时会出现问题（不是不可克服的，而是任何方法）。在这种情况下，我尝试四处寻找最佳实践的资源/指南，但一无所获。

tl;dr 摘要：多个客户端应用程序需要使用和扩展 JSON api 提供的数据。这样做的推荐做法是什么？

# javascript - 使用 CSS 缩放 HTML 中的图像

> ID：10594224
> 
> 赞同：0
> 
> 时间：2012-05-15T04:41:42.750
> 
> 标签：javascript, html, css, image

我正在尝试创建一个可以调整为大多数现代分辨率大小的 HTML 页面，我对我的所有 div 容器使用 % 并且它们很好地缩放，但是我在这些容器中有图像并且它们保持相同的大小。

我不希望图像失去它们的纵横比，但我需要它们重新调整大小以适合容器。我的示例在 4:3 比例的屏幕上运行良好，但在宽屏上图像被截断。我使用的图像是 213px 宽 x 300px 高。如果我必须使用js来解决那没关系。

```
<div style="position:fixed;top:2%;left:2%;overflow:hidden;height:38%;width:12%;text-align:center;border:.15em solid #000;">
   <div style="padding:1% 1% 5% 1%;font-size:90%;font-family:'trebuchet MS', verdana, arial, sans-serif;color:#000;"><b>TEST</b></div>

   <div style="padding:1%;width:44%;display:inline-block;">
      <img src="black_card.jpg" style="max-width:100%;" alt="Black" />
   </div>
   <div style="padding:1%;width:44%;display:inline-block;">
      <img src="black_card.jpg" style="max-width:100%;" alt="Black" />
   </div>
   <div style="padding:1%;width:44%;display:inline-block;">
      <img src="black_card.jpg" style="max-width:100%;" alt="Black" />
   </div>
   <div style="padding:1%;width:44%;display:inline-block;">
      <img src="black_card.jpg" style="max-width:100%;" alt="Black" />
   </div>
   <div style="padding:1%;width:44%;display:inline-block;">
      <img src="black_card.jpg" style="max-width:100%;" alt="Black" />
   </div>
   <div style="padding:1%;width:44%;display:inline-block;">
      <img src="black_card.jpg" style="max-width:100%;" alt="Black" />
   </div>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T04:48:42.953

我想我有[一篇](http://scratchpaper.tk/blog/preserve-an-html-elements-aspect-ratio/)关于保留 HTML 纵横比的帖子，[试试看](http://jsfiddle.net/QmCkY/)：

HTML：

```
<div id="container">                      <!--base wrapper-->
    <div id="vertical"></div>             <!--flexible vertical component-->
    <div id="ratioElement">content</div>  <!--fit to wrapper element-->
</div> 
```

CSS：

```
#container{
    position:relative;
    width:100%;
    float:left;
}

#vertical{
    margin-top:50%;     /* 2:1 ratio (#container width : #vertical height) */
}

#ratioElement{          
    position:absolute;  /*this would be the <img>*/
    top:0;
    bottom:0;
    left:0;
    right:0;
    background:#069;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T04:51:32.107

如果您想连续使用 1 个图像，那么您应该编写如下代码。

```
<div style="position:fixed;top:2%;left:2%;overflow:hidden;height:38%;width:12%;text-align:center;border:.15em solid #000;">
  <div style="padding:1% 1% 5% 1%;font-size:90%;font-family:'trebuchet MS', verdana, arial, sans-serif;color:#000;"><b>TEST</b></div>
  <div style="padding:1%;width:44%;display:inline-block; float:left; clear:left""> <img src="black_card.jpg" style="max-width:100%; alt="Black" /> </div>
  <div style="padding:1%;width:44%;display:inline-block; float:left; clear:left""> <img src="black_card.jpg" style="max-width:100%; alt="Black" /> </div>
  <div style="padding:1%;width:44%;display:inline-block; float:left; clear:left""> <img src="black_card.jpg" style="max-width:100%; alt="Black" /> </div>
  <div style="padding:1%;width:44%;display:inline-block; float:left; clear:left""> <img src="black_card.jpg" style="max-width:100%; alt="Black" /> </div>
  <div style="padding:1%;width:44%;display:inline-block; float:left; clear:left""> <img src="black_card.jpg" style="max-width:100%; alt="Black" /> </div>
  <div style="padding:1%;width:44%;display:inline-block; float:left; clear:left""> <img src="black_card.jpg" style="max-width:100%; alt="Black" /> </div>
</div> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T05:26:52.043

您可以使用 JQuery Resiable： [JQuery UI Resizable](http://docs.jquery.com/UI/Resizable)

$(选择器).resizable(...);

有多个例子。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-15T07:17:41.380

检查这个

```
<div style="position:fixed;top:2%;left:2%;overflow:hidden;height:38%;width:12%;text-align:center;border:.15em solid #000;">
  <div style="padding:1% 1% 5% 1%;font-size:90%;font-family:'trebuchet MS', verdana, arial, sans-serif;color:#000;"><b>TEST</b></div>
  <div style="padding:1%;width:30%;display:inline-block; float:left;"> <img src="black_card.jpg" style="max-width:100%; alt="Black" /> </div>
  <div style="padding:1%;width:30%;display:inline-block; float:left;"> <img src="black_card.jpg" style="max-width:100%; alt="Black" /> </div>
  <div style="padding:1%;width:30%;display:inline-block; float:left;"> <img src="black_card.jpg" style="max-width:100%; alt="Black" /> </div>
  <div style="padding:1%;width:30%;display:inline-block; float:left;"> <img src="black_card.jpg" style="max-width:100%; alt="Black" /> </div>
  <div style="padding:1%;width:30%;display:inline-block; float:left;"> <img src="black_card.jpg" style="max-width:100%; alt="Black" /> </div>
  <div style="padding:1%;width:30%;display:inline-block; float:left;"> <img src="black_card.jpg" style="max-width:100%; alt="Black" /> </div>
</div> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-15T07:43:49.217

从第一行删除高度....

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-05-16T04:44:42.473

我自己解决了这个问题，我给容器 div 一个高度和宽度，然后下面的所有其他 div 和图像只得到一个高度，这使得屏幕尺寸动态，我不得不使用 display:-moz-inline-block 来获得在容器 div 中居中的图像。查看[http://jsfiddle.net/mb5T4/2/](http://jsfiddle.net/mb5T4/2/)将结果屏幕的大小调整为典型比例（4:3、5:4、16:9），并且所有图像都在 div 中调整大小。

# php - 防止 IIS 在存在 Location 标头时更改响应

> ID：10594225
> 
> 赞同：4
> 
> 时间：2012-05-15T04:41:46.537
> 
> 标签：php, iis, rest, iis-7

我有一个 RESTful Web 服务，它是在 IIS 上运行的基于 PHP 的框架中编写的，它使用类似的东西响应 POST 请求

```
Status: 201 Created
Location: [url of created object]
Content-length: [correct]

{ my: "created object" } 
```

似乎是因为 Location 标头 IIS 正在向响应中添加文本，所以它变成了（为了清楚起见，删除了 HTML）：

```
Status: 201 Created
Location: [url of created object]
Content-length: [incorrect!]

Document Moved
Object Moved This document may be found here
{ my: "created object" } 
```

我不太介意添加文本，但 IIS 似乎在更改内容时保持原始内容长度，创建无效响应，从而导致 Web 服务的使用者给我一个协议冲突错误。

有没有办法防止 IIS 破坏我的响应？

**编辑：**从来没有找到答案 - 我最终切换到 Apache

# c# - 如何使用带有 C# 的 Open XML SDK 将图像从一个 Excel 工作簿复制到另一个？

> ID：10594227
> 
> 赞同：0
> 
> 时间：2012-05-15T04:41:50.303
> 
> 标签：c#, c#-4.0, openxml, openxml-sdk

我们正在开发 C#(4.0) windows 窗体应用程序，我们正在使用 open xml sdk 来访问 excel 文件。现在我想使用这个打开的 xml sdk 将一个 excel 工作中的所有图像复制到另一个 Excel 工作簿。我可以创建新的 Excel 工作簿并将图像放入工作中。但我无法将图像从一个工作簿复制到另一个工作簿。

请指导我摆脱这个问题？

# android - 如何获取应用程序的当地时间。正在运行，与设备时间无关？

> ID：10594228
> 
> 赞同：2
> 
> 时间：2012-05-15T04:42:00.817
> 
> 标签：android, time, calendar

我在这个仍然不成功的情况下搜索了很多，我想获得我的应用程序运行的本地时间。我可以使用**calender**来获得它，但我的问题是，当用户登录到应用程序时，我想读取正确的时间。这意味着实际上用户必须在 9:30 登录，但如果他迟到了 30 分钟。即使他将设备中的当地时间改回 9:30，他也会登录应用程序。（可能性）我想读取正确的时间（即 10:00）。由于这个问题，我想获得全球时间，而不考虑设备时间。我也可以为此使用服务器，但有时是应用程序。将没有互联网设施。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T05:00:34.800

如果您的设备配备 GPS，您可以从 GPS 获取正确的当地时间。用户不能更改 GPS 时间。;)

您可以强制您的用户打开其 GPS，否则关闭您的应用程序。

```
location.getTime()

public long getTime () 
Since: API Level 1 
Returns the UTC time of this fix, in milliseconds since January 1, 1970. 
```

* * *

**更新：**

在您的活动中：

```
protected void btnGetPoint_onClick() {
        try {
            Intent intentToFire = new Intent(
                    ReceiverPositioningAlarm.ACTION_REFRESH_SCHEDULE_ALARM);
            intentToFire.putExtra(ReceiverPositioningAlarm.COMMAND,
                    ReceiverPositioningAlarm.SENDER_ACT_DOCUMENT);

            sendBroadcast(intentToFire);

            OnNewLocationListener onNewLocationListener = new OnNewLocationListener() {
                @Override
                public void onNewLocationReceived(Location location) {
                    try {
// do what you want

                    } catch (Exception e) {
                        MessageBox.showException(ActDocument.this, e);
                    }
                }
            };

            // start listening for new location
            ReceiverPositioningAlarm.setOnNewLocationListener(
                    onNewLocationListener);
        } catch (Exception e) {
//...
        }
    } 
```

它的界面：

```
import android.location.Location;

public interface OnNewLocationListener {
    public abstract void onNewLocationReceived(Location location);
} 
```

GPS接收器：

```
package org.mabna.order.receivers;

import java.util.ArrayList;

import org.mabna.order.utils.Farsi;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.location.GpsStatus;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Bundle;
import android.view.Gravity;
import android.widget.Toast;

public class ReceiverPositioningAlarm extends BroadcastReceiver {

    public static final String COMMAND = "SENDER";
    public static final int SENDER_ACT_DOCUMENT = 0;
    public static final int SENDER_SRV_POSITIONING = 1;
    public static final int MIN_TIME_REQUEST = 5 * 1000;
    public static final int MIN_DISTANCE = 10;// in meters

    public static final String ACTION_REFRESH_SCHEDULE_ALARM =
            "org.mabna.order.ACTION_REFRESH_SCHEDULE_ALARM";

    private static Location currentLocation;
    private static Location prevLocation;
    private static Context _context;
    private String provider = LocationManager.GPS_PROVIDER;
    private static LocationManager locationManager;
    private static LocationListener locationListener = new LocationListener() {

        @Override
        public void onStatusChanged(String provider, int status, Bundle extras) {
            try {
                String strStatus = "";
                switch (status) {
                case GpsStatus.GPS_EVENT_FIRST_FIX:
                    strStatus = "GPS_EVENT_FIRST_FIX";
                    break;
                case GpsStatus.GPS_EVENT_SATELLITE_STATUS:
                    strStatus = "GPS_EVENT_SATELLITE_STATUS";
                    break;
                case GpsStatus.GPS_EVENT_STARTED:
                    strStatus = "GPS_EVENT_STARTED";
                    break;
                case GpsStatus.GPS_EVENT_STOPPED:
                    strStatus = "GPS_EVENT_STOPPED";
                    break;

                default:
                    strStatus = String.valueOf(status);
                    break;
                }
            } catch (Exception e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
        }

        @Override
        public void onProviderEnabled(String provider) {
        }

        @Override
        public void onProviderDisabled(String provider) {
        }

        @Override
        public void onLocationChanged(Location location) {
            try {
                gotLocation(location);
            } catch (Exception e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
        }
    };

    @Override
    public void onReceive(final Context context, Intent intent) {

        _context = context;

        locationManager = (LocationManager) context
                .getSystemService(Context.LOCATION_SERVICE);

        if (locationManager.isProviderEnabled(provider)) {
            locationManager.requestLocationUpdates(provider, MIN_TIME_REQUEST,
                    MIN_DISTANCE, locationListener);

            Location gotLoc = locationManager.getLastKnownLocation(provider);
            gotLocation(gotLoc);
        } else {
            Toast t = Toast.makeText(context,
                    Farsi.Convert("please turn the GPS on"),
                    Toast.LENGTH_LONG);
            t.setGravity(Gravity.CENTER, 0, 0);
            t.show();

            Intent settinsIntent = new Intent(
                    android.provider.Settings.ACTION_LOCATION_SOURCE_SETTINGS);
            settinsIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
            _context.startActivity(settinsIntent);
        }
    }

    private static void gotLocation(Location location) {
        try {
            prevLocation = currentLocation == null ?
                    null : new Location(currentLocation);
            currentLocation = location;

            if (isLocationNew()) {
                // saveLocation(location);

                // informing the classes outside of this class that e new point
                // received
                OnNewLocationReceived(location);

                stopLocationListener();
            }
        } catch (Exception e) {
            Toast.makeText(_context,
                    "error" + e.getMessage(),
                    Toast.LENGTH_SHORT).show();
        }
    }

    private static boolean isLocationNew() {
        if (currentLocation == null) {
            return false;
        } else if (prevLocation == null) {
            return true;
        } else if (currentLocation.getTime() == prevLocation.getTime()) {
            return false;
        } else {
            return true;
        }
    }

    public static void stopLocationListener() {
        if (locationManager != null)
        {
            locationManager.removeUpdates(locationListener);
        }
    }

    // listener ----------------------------------------------------

    static ArrayList<OnNewLocationListener> arrOnNewLocationListener =
            new ArrayList<OnNewLocationListener>();

    // Allows the user to set a OnNewLocationListener outside of this class and
    // react to the event.
    // A sample is provided in ActDocument.java in method: startStopTryGetPoint
    public static void setOnNewLocationListener(
            OnNewLocationListener listener) {
        arrOnNewLocationListener.add(listener);
    }

    public static void clearOnNewLocationListener(
            OnNewLocationListener listener) {
        arrOnNewLocationListener.remove(listener);
    }

    // This function is called after the new point received
    private static void OnNewLocationReceived(Location location) {
        // Check if the Listener was set, otherwise we'll get an Exception when
        // we try to call it
        if (arrOnNewLocationListener != null) {
            // Only trigger the event, when we have any listener

            for (int i = arrOnNewLocationListener.size() - 1; i >= 0; i--) {
                arrOnNewLocationListener.get(i).onNewLocationReceived(
                        location);
            }
        }
    }
} 
```

在清单中：

```
<receiver android:name=".ReceiverPositioningAlarm" >

            <!-- this Broadcast Receiver only listens to the following intent -->
            <intent-filter >
                <action android:name="org.mabna.order.ACTION_REFRESH_SCHEDULE_ALARM" />
            </intent-filter>
        </receiver> 
```

# php - PHP/MySQL - 将日期时间显示为日期

> ID：10594233
> 
> 赞同：1
> 
> 时间：2012-05-15T04:42:52.183
> 
> 标签：php, mysql, datetime, date, time

我对 SQL 和 PHP 知之甚少，并被赋予了从数据库中显示一些信息的任务。我知道如何查询我的数据库并使用 PHP 等将信息显示到屏幕上的表格中；然而这一次我得到了一个稍微不同的挑战。

我在 SQL 数据库中以 DateTime 格式存储了信息，在检索它时，我需要去除时间并仅显示日期。我已经阅读了许多 SQL 的日期/时间函数，但由于某种原因，这似乎几乎让我头疼。我浏览了一些网站，包括下面的两个链接，但我很难理解如何在 PHP 等中做这些事情。如果有人能引导我朝着正确的方向前进，那就太好了！

我浏览过 2 个相关的主题： [http](http://www.gfxvoid.com/forums/showthread.php?28576-PHP-Time-Date-Display) ://www.gfxvoid.com/forums/showthread.php? 28576-PHP-Time-Date-Display http://blogs.x2line.com/al/archive/2006/ 02/17/1458.aspx

从逻辑上讲，我是否应该查询 DateTime 然后使用 PHP 以我希望显示的方式重新格式化它？还是我应该使用 SQL 查询来格式化日期时间？

非常感谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T04:50:55.007

只需在日期时间附近使用 DATE 函数。

SQL 列：created_at

```
2012-05-09 13:46:25 
```

`SELECT DATE_FORMAT(DATE(created_at), '%D %M %Y') FROM Table`

回报：

`9th May 2012`

**根据评论**编辑：****

 **要在 PHP 中使用它，您可以执行以下操作：

查询：（注意 AS clean_date）

```
SELECT DATE_FORMAT(DATE(created_at), '%D %M %Y') AS clean_date FROM Table 
```

然后在php中：

```
<?php
echo "<tr><td>{$row['clean_date']}</td>";
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T04:51:40.073

当显示来自 Mysql 的日期时，你能在 PHP 中检查这个吗

```
date('Y/m/d', strtotime($datetodisplay)); 
```

有时当您从 mysql 获取日期时，我们使用 strtotime() 函数将其更改为时间**

# java - 无边距打印

> ID：10594242
> 
> 赞同：3
> 
> 时间：2012-05-15T04:43:26.603
> 
> 标签：java, printing

我正在尝试编写一个照相亭程序，但我很难进行无边界打印。我非常接近，但图像无法填充 4" x 6" 打印。我将不胜感激有关实现无边界打印的任何提示。

干杯!

```
 final BufferedImage img = ImageIO.read(new File(image));

    // Assuming that images are going to be 300 DPI
    PrinterResolution pr = new PrinterResolution(300, 300,
        PrinterResolution.DPI);

    PrintRequestAttributeSet pras = new HashPrintRequestAttributeSet();
    pras.add(pr);

    // Set print job so the image name shows (in the print queue)
    this.pj.setJobName(new File(image).getName());

    PageFormat pf = this.pj.getPageFormat(null);
    Paper paper = pf.getPaper();
    paper.setSize(4 * 72, 6 * 72);
    paper.setImageableArea(
        0.0, 0.0,
        paper.getWidth(), paper.getHeight()
    );

    if(img.getWidth(null) > img.getHeight(null))
        pf.setOrientation(PageFormat.LANDSCAPE);
    else
        pf.setOrientation(PageFormat.PORTRAIT);

    pf.setPaper(paper);

    // Create the page
    this.pj.setPrintable(new Printable() {
        public int print(Graphics g, PageFormat pf, int i) throws 
            PrinterException {
            if (i != 0)
                return NO_SUCH_PAGE;

            double width = img.getWidth(null);
            double height = img.getHeight(null);

            double w = Math.floor(pf.getImageableWidth() - 
                pf.getImageableX()) / (width * 1.0);

            double h = Math.floor(pf.getImageableHeight() - 
                pf.getImageableY()) / (height * 1.0);

            double scale = Math.min(w, h);

            Graphics2D g2 = (Graphics2D) g;
            g2.translate(0, 0);
            g2.scale(scale, scale);
            g2.drawImage(img, 0, 0, (int)width, (int)height, null);

            return PAGE_EXISTS;
        }
    }, this.pj.validatePage(pf));

    // Get number of copies
    int nCopies = SetPrintQuantity.getPrintQuantity(new File(image));

    // Print
    if(nCopies != 0)
        for(int i = 0; i < nCopies; i++)
            this.pj.print(pras);

    System.out.println(nCopies + ((nCopies == 1) ? " copy" : " copies")); 
```

this.pj = 打印机作业

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-09-05T02:57:59.707

一段时间以来，我一直在与同样的问题作斗争。这是我的解决方案：

确定打印机的实际页面大小：

```
final PrinterJob printJob = PrinterJob.getPrinterJob();
printJob.setPrintService(ps);
final PageFormat pf = printJob.defaultPage();
System.out.println("Printer Page width=" + pf.getWidth() + " height=" + pf.getHeight()); 
```

对于我的带有 4"x6" 纸张的 HiTi P720L 照片打印机，它实际上是 4.133"x6.147"。

创建并设置一个具有完整页面大小和完整可成像区域的新 Paper 对象：

```
final Paper paper = new Paper();
paper.setSize(pageWidth * 72.0f, pageHeight * 72.0f);
paper.setImageableArea(0.0, 0.0, paper.getWidth(), paper.getHeight());
pf.setPaper(paper); 
```

然后是最后一招，绘制到范围外的 x/y 坐标。在我的情况下，我必须将 x 坐标缩放 10% 并将 x 坐标平移 -55（将其放入负 x 值）。

```
printJob.setPrintable(new Printable() {
public int print(Graphics graphics, PageFormat pageFormat, int pageIndex) throws PrinterException {
    Graphics2D g2 = (Graphics2D) graphics;
    final double xScale = 1.1;
    final double xTranslate = -55;
    final double yScale = 1;
    final double yTranslate = 0;
    final double widthScale = (pageFormat.getWidth() / image.getWidth()) * xScale;
    final double heightScale = (pageFormat.getHeight() / image.getHeight()) * yScale;
    System.out.println("Setting scale to " + widthScale + "x" + heightScale);
    final AffineTransform at = AffineTransform.getScaleInstance(widthScale, heightScale);
    System.out.println("Setting translate to " + xTranslate + "x" + yTranslate);
    at.translate(xTranslate, yTranslate);
    if (pageIndex != 0) {
        return NO_SUCH_PAGE;
    }
    g2.drawRenderedImage(image, at);
    return PAGE_EXISTS;
}
}, pf); 
```

# actionscript-3 - AS3：从舞台上的影片剪辑访问我的 Main.as

> ID：10594247
> 
> 赞同：0
> 
> 时间：2012-05-15T04:44:05.427
> 
> 标签：actionscript-3, flash, menu, navigation, movieclip

*使用 Adob​​e Flash Professional CS6、AS3*
如果我需要提供更多信息，请告诉我
我正在尝试设置导航菜单，而我的问题是，“如何让 MovieClip 调用 Main.as 文件中的函数舞台上的？” 只有一帧（我不想要更多），不同的菜单屏幕，只是电影剪辑，在需要时用 AS 添加到舞台上。我在 Main.as 文件中有一个名为 _About **()**的公共函数，我的电影剪辑“MenuScreen”无法访问。我可以使用 eventListeners 成功让 _Menu() 将 MovieClip 添加到舞台，但是当 mc 进行回调以更改屏幕时，我收到此错误：

*TypeError：错误 #1034：类型强制失败：无法将 flash.display::Stage@51ca0d1 转换为 flash.display.MovieClip。在 MenuScreen/clickAbout()[MenuScreen::frame1:32]*

Frame1:32 的代码是：

```
MovieClip(parent)._About(); 
```

我的 Main.as 中的第 51 行是：

```
public function _About():void
{
trace("The About Function");
} 
```

下面我详细介绍了**Main.as**的大部分脂肪修剪。

```
package 
{
import stuff

public class Main extends MovieClip
{
    //Load the screen MCs onto the stage
    public var _menu:MenuScreen = new MenuScreen();
    public var _about:AboutScreen = new AboutScreen();
    public var isMenu:Boolean = true;
    public var isAbout:Boolean = false;

    public function Main()
    {
        _Menu();            
    }

    public function _Menu():void
    {
        isMenu = true;
        stage.addChild(_menu);
    }

    public function _About():void
    {
        trace("The About Function");
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T06:27:56.987

解决您的问题的一个简单方法是将菜单项添加到舞台上！而是将它们添加到您的主类中。这样，您的项目的父项改为 main.as

但是你需要将父级强制转换为 Main

```
Main(parent)._About(); 
```

也不是很好。这些项目现在不应该是它们背后的东西。

最好的方法是从不同的屏幕分派事件。意思是：你创建你的屏幕对象，当屏幕发生变化时有调度自定义事件。

```
dispatchEvent(new Event("showAbout")); 
```

在您的主要课程中，您处理以下事件：

```
public function Main()
{
    _Menu(); 
    _menu = new MenuScreen();
    _menu.addEventHandler("showAbout", showAboutHandler);
}

public function showAboutHanlder(e:Event):void
{
     _About();
} 
```

更好的是带有屏幕标识符作为参数的自定义事件。这样，您只需添加一个处理程序并在处理程序代码中决定要显示哪个屏幕。

事件处理到位后，您的菜单项与主菜单项没有直接连接。此外，主要不需要有关屏幕类的更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T05:25:06.113

查看完整的课程会有所帮助`MenuScreen`，但可能会发生以下情况：

您正在实例化，当发生这种情况时，它可能会在您添加到阶段之前`public var _menu:MenuScreen = new MenuScreen();`进行调用- 当这种情况发生并且发生错误时，它还没有父级。`MovieClip(parent)._About()``MenuScreen``stage.addChild(_menu);`

解决此问题的两种方法：

*   `MenuScreen`在引用您的`Main`类的构造函数中添加必需的参数。您的构造函数`MenuScreen`将从开始，当您从类`public function MenuScreen($main:Main){`实例化时，您现在可以编写 $main._About() in的构造函数。`MenuScreen``Main``public var _menu:MenuScreen = new MenuScreen(this);``MenuScreen`
*   在`MenuScreen`的构造函数中添加一个侦听器，用于检查何时将其添加到舞台： `addEventListener(Event.ADDED_TO_STAGE, addedStage)`。在该函数`addedStage`中，您可以正确调用父级或舞台，并且`MovieClip(parent)._About()`可能会在这里工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T05:39:11.750

设置静态属性：

```
public static var instance:Main;
public function Main(){
        instance = this;
        _Menu();            
    } 
```

然后从任何地方你可以使用代码：

```
Main.instance._About(); 
```

# ruby-on-rails - 我如何只抓取 20 分钟前创建的评论文章？

> ID：10594249
> 
> 赞同：1
> 
> 时间：2012-05-15T04:44:09.187
> 
> 标签：ruby-on-rails, ruby-on-rails-3, mongodb, mongoid

使用 mongodb 和 mongoid。一个人怎么会抓住所有的文章。只有 20 分钟前创建评论的文章？

```
class Article
  include Mongoid::Document

  has_many :comments
end

class Comment
  include Mongoid::Document

  belongs_to :article
end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T04:56:49.983

```
articles = Article.where(:_id.in => Comment.where(:created_at => 20.minutes.ago).map(&:article_id)) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T06:02:20.887

您也可以这样做，这应该更有效：

```
articles = Article.where(:"comments.created_at".gt => 20.minutes.ago) 
```

# c# - 使用 XNA 绘制球飞行

> ID：10594254
> 
> 赞同：0
> 
> 时间：2012-05-15T04:44:35.693
> 
> 标签：c#, path, xna, trail

我目前正在使用 C# 和 XNA 制作高尔夫球游戏。到目前为止，我已经能够让球飞行、弹跳和滚动，同时显示位置和速度。现在我希望能够看到球的路径（类似于下图），以便检查整个球的运动。

[http://www.golf-simulators.com/images/ms4.jpg](http://www.golf-simulators.com/images/ms4.jpg)

我的代码以固定的时间间隔更新球的位置。我正在考虑：1）使用这些位置，2）将它们插入到 VertexPositionColor[] 的数组中，3）并使用 GraphicsDevice.DrawUserPrimitives() 方法绘制它们

但到目前为止我还没有运气， VertexPositionColor 是静态数组，而位置数据量一直在增加。

我正在考虑使用 List，但 GraphicsDevice.DrawUserPrimitives() 方法拒绝将其作为输入

```
 protected override void Draw(GameTime gameTime)
    {

    trail_vertice = new VertexPositionColor;
    trail_vertice.Position = Position;
    trail_vertice.Color = Color.Black;
    trail_amount += 1;
    trailList.Add(trail_vertice);

    basicEffect.CurrentTechnique.Passes[0].Apply();
    graphics.GraphicsDevice.DrawUserPrimitives<VertexPositionColor>(PrimitiveType.LineStrip, trailList, 0, trail_amount);

    } 
```

我不需要像使用粒子引擎这样的高级效果。只需一行就足够了。有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T07:57:40.723

C# List<> 类上有一个方便的 .ToArray() 函数，您可以在每次要绘制图元时调用该函数。希望有帮助！

```
graphics.GraphicsDevice.DrawUserPrimitives<VertexPositionColor>(PrimitiveType.LineStrip, trailList.ToArray(), 0, trail_amount); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T10:26:00.807

您可以计算显示轨迹所需的估计顶点数，而不是每帧将列表转换为数组，这在我看来效率很低，创建该大小的数组并在每帧中填充更多值。（您传递给 DrawUserPrimitives 的参数之一是从数组中绘制的基元数）

如果您无法计算，您还可以尝试设置路径可以达到的最大长度，这样当它达到该长度时，它就会开始覆盖旧值。如果相机跟随球，这应该无关紧要。如果这些解决方案都不符合您的需求，请继续使用 ToArray 函数。

# playn - 在 PlayN 中，是否有用于格式化小数的跨平台方法？

> ID：10594260
> 
> 赞同：0
> 
> 时间：2012-05-15T04:45:28.053
> 
> 标签：playn

如何格式化十进制值（例如 1.29854），以便生成四舍五入到小数点后 2 位的字符串（1.30）？

我迷路了，因为[GWT 不支持本机 Java 数字格式化类](https://developers.google.com/web-toolkit/doc/latest/DevGuideCodingBasicsFormatting)，而且我找不到任何 PlayN 对数字格式化的支持。

我已经确认，虽然以下在 Java 版本中有效，但 HTML 版本无法编译：

```
 DecimalFormat df = new DecimalFormat("0.00");
    String formattedValue = df.format(1.29854); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T02:14:04.530

这主要适用于我的情况（对于 0 到 10 之间的一位数）：

```
 String formatted = ((Double) (Math.round(doubleValue * 100.0) / 100.0)).toString();
        formatted = (formatted + "00").substring(0,4); 
```

已在 Java 和 HTML 版本中验证。这是一个单元测试：

```
@Test
public void testNumberFormatting() {
    ArrayList<Double> testCases = Lists.newArrayList(
        0.0, 0.986, 1.0, 1.2, 1.29, 1.295);
    ArrayList<String> expectResults = Lists.newArrayList(
        "0.00", "0.99", "1.00", "1.20", "1.29", "1.30");

    for (int n=0; n<testCases.size(); n++) {
        Double testCase = testCases.get(n);
        String formatted = ((Double) (Math.round(testCase * 100.0) / 100.0)).toString();
        formatted = (formatted + "00").substring(0,4);
        assertEquals(expectResults.get(n), formatted);
        System.out.println(formatted);
    }
} 
```

# linux - 运行此处编译的 C 程序会导致在另一台服务器上找不到 GLIBC 库错误 - 是我的错还是他们的错？

> ID：10594262
> 
> 赞同：5
> 
> 时间：2012-05-15T04:45:43.640
> 
> 标签：linux, ubuntu, glibc

此处编译的 AC 程序在我们的 Ubuntu 服务器上运行良好。但是当其他人试图在他们的特定 Linux 服务器上运行它时，他们会收到以下错误：

```
./myprog-install: /lib/tls/libc.so.6: version `GLIBC_2.4' not found (required by ./myprog-install)
./myprog-install: /lib/tls/libc.so.6: version `GLIBC_2.7' not found (required by ./myprog-install) 
```

我需要升级我们的 glibc 库并重新编译吗？或者他们在他们的服务器上遗漏了什么？

如果我运行 apt-cache show libc6 我的 Ubuntu 会告诉我版本是：

```
Package: libc6
Priority: required
Section: libs
Installed-Size: 9368
Maintainer: Ubuntu Core developers <ubuntu-devel-discuss@lists.ubuntu.com>
Original-Maintainer: GNU Libc Maintainers <debian-glibc@lists.debian.org>
Architecture: i386
Source: eglibc
Version: 2.11.1-0ubuntu7.10 
```

如果我查看[http://packages.ubuntu.com/hardy/libc6](http://packages.ubuntu.com/hardy/libc6)，当前版本似乎是 2.7-10ubuntu8.1。

我对数字感到困惑。一方面，2.11-1-0 比 2.7-11 高。另一方面，7.10 比 8.1 低。

你认为这只是我升级 C 库包并重新编译的问题吗？或者其他人的服务器是否缺少一些需要的库以实现兼容性？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-15T05:18:46.827

你已经建立在 glibc-2.11 系统上。您正在尝试在具有 glibc-2.3 或更早版本的系统上运行。那是行不通的。

> 是否只是我升级 C 库包的问题

不：升级你的 glibc 只会让事情*变得更糟*。

您可能想尝试[此处](https://stackoverflow.com/a/8846364/50617)列出的解决方案。

> 这是我们可以合理地要求对方升级他们的系统来支持的东西，而不是降级我们的编译器吗？

通常客户端会强烈拒绝升级他们的系统的请求：它对他们来说工作正常*，*任何升级都可能破坏其他现有的应用程序。

如果您打算在 Linux 上分发二进制文件（而不是在目标系统上构建它们），那么您需要学习如何制作可以在*任何地方*运行的二进制文件，或者您需要说明您的要求（最低内核和 libc 版本等） .) 并将无法满足这些要求的客户拒之门外。

更新：

> 为什么他们得到两个错误。为什么他们不只为 GLIBC_2.11.1 买一个，这显然是我构建的？

符号版本控制不是这样工作的。

当引入一个新符号时，它会被标记为*当前*的libc 版本，例如`readdir64@@GLIBC_2.2`,`posix_spawn@@GLIBC_2.15`等。

当您链接使用上述两种符号的程序并尝试在例如 glibc-2.1 系统上运行它时，您会得到两个错误。

但是，如果您链​​接的程序*不*使用上述任何符号，例如

```
int main() { return 0; } 
```

那么您的程序将正常运行而不会出现任何错误。

更新 2：

> 他们不必将 GLIBC_2.4 和 GLIBC2.7 都添加到他们的 Linux 系统中，是吗？

不，他们没有。将`GLIBC_2.11`包含所有以前的符号。事实上，即使他们想安装 glibc-2.4 和 2.7，他们也无法同时安装：*同时安装多个版本非常困难，并且**不可能*在默认位置安装多个版本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T05:13:59.290

您已经针对*太新*的 glibc 版本构建了它。针对旧版本的 glibc 构建它，最好是他们正在使用的那个。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-11-25T21:31:50.357

您需要在使用与您相同的库版本的系统上进行构建。这是 docker 和 VM 非常方便的地方。客户拥有的任何版本都可能有一个预制的 docker 映像。

# python - 如何处理 Python 中不完整的 html 标签？

> ID：10594264
> 
> 赞同：1
> 
> 时间：2012-05-15T04:45:50.670
> 
> 标签：python, html-parsing, wysiwyg

**背景：-** 我在我的网站上使用 JS 编辑器。现在，当我在其上复制粘贴外部文本内容时，会粘贴一些无效/不完整的 html 标签。（但它在编辑器上不可见） ![JS编辑器](../Images/e4726d46978841301e73d39e2cbe7052.png)

**问题：-** 现在，当发布此数据时，整个页面的对齐方式被搞砸了。如果有的话，我如何检测和更改不完整的 html 标签。我应该为此目的使用 html 解析器吗？ ![问题](../Images/822e0aa907ea9fdb387716745c7b9b17.png)

如您所见，编辑和删除按钮已从 div 中出来。（描述或数据已被复制粘贴）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-15T04:56:14.757

您可以尝试使用美妙的[Beautiful Soup](http://www.crummy.com/software/BeautifulSoup/)库来满足您的所有解析需求。立即购买！

# xcode4.3 - Xcode4.3.2 AVFoundation.framework 没找到？

> ID：10594266
> 
> 赞同：0
> 
> 时间：2012-05-15T04:46:24.617
> 
> 标签：xcode4.3

Xcode4.3.2 AVFoundation.framework 未找到

我缺少以下框架：/System/Frameworks/AVFoundation.framework。所以不能为 iPhone 模拟器或设备使用 AVFoundation 框架。有没有办法只下载这个基础？

谁能帮帮我

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T05:43:14.670

你可以在这里看到 System/Library/Frameworks/AVFoundation.framework 也参考这个链接 [How add Framework to project on Xcode 4.3.2](https://stackoverflow.com/questions/10546374/how-add-framework-to-project-on-xcode-4-3-2)

# python - Django：RadioSelect 更精细的控制

> ID：10594276
> 
> 赞同：0
> 
> 时间：2012-05-15T04:47:15.213
> 
> 标签：python, django, templates, radio-button

我有一个表格

```
class DialogForm(forms.ModelForm):
    LISTING_CHOICES = ((1, _('Public')), (0, _('Unlisted')))

    first_question = forms.TextInput(attrs={'class': 'span4'})
    listing = forms.ChoiceField(widget=forms.RadioSelect, choices=LISTING_CHOICES) 
```

我正在尝试将列表字段与模板分开

```
{% for radio in dialog_form.listing %}
  {{ radio }}
{% endfor %} 
```

但我有例外`Exception Value: 'BoundField' object is not iterable`

**Django 版本**：**1.3.1**

如何使用`RadioSelect`小部件访问其呈现的子元素？

苏丹，

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T05:13:16.993

我相信这在 Django 1.3.1 中是不可能的，很确定你需要 1.4 版才能做到这一点。

# c# - 如何将文件自动加载到 SharePoint

> ID：10594277
> 
> 赞同：0
> 
> 时间：2012-05-15T04:47:21.877
> 
> 标签：c#, .net, sharepoint

我们让某人手动将每周生成的 Excel 电子表格加载到 SharePoint 中。我确信有一种方法可以自动执行此操作。我对 SharePoint 了解不多，也许它真的很简单，只需知道 SharePoint 将文件移动到的文件夹并直接将它们复制到那里。或者，它可能需要一些编程才能使其自动将放置在给定目录中的新文件加载到 SharePoint 中。

无论哪种方式，我都希望有人在这里为我指明正确的方向。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T07:03:21.593

您可以编写一个 PowerShell 脚本，通过 WebDav 将文档复制到文档库中：

假设您的文档库位于*http://server/SomeWeb/DocumentLibrary/Folder*：

```
copy-item somesheet.xlsx \\server\SomeWeb\DocumentLibrary\Folder 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T07:05:44.633

您将需要使用 SharePoint 中的复制 Web 服务上传文件。我不确定您运行的是什么版本的 SharePoint，但我假设是 2007 年。这是一个示例[项目](http://oricode.wordpress.com/2008/07/03/upload-a-file-to-sharepoint-2007-using-webservices-with-a-specific-content-type/)。

```
public void UploadFile(string destinationFolderPath,
                      byte[] fileBytes,
                      string fileName,
                      bool overwrite,
                      string sourceFileUrl,
                      string lastVersionUrl)
{

List<Sharepoint.FieldInformation> fields = new List<Sharepoint.FieldInformation>();
Sharepoint.FieldInformation fieldInfo;

fieldInfo = new Sharepoint.FieldInformation();
fieldInfo.Id = Microsoft.SharePoint.SPBuiltInFieldId.Title;
fieldInfo.Value = "New title";
fieldInfo.DisplayName = "Title";
fieldInfo.Type = YetAnotherMigrationTool.Library.SP2007.Sharepoint.FieldType.Text;
fieldInfo.InternalName = "Title";
fields.Add(fieldInfo);

string[] url;
if (string.IsNullOrEmpty(destinationFolderPath))
    url = new string[] { string.Format("{0}/{1}/{2}", _siteUrl, _name, fileName) };
else
    url = new string[] { string.Format("{0}/{1}/{2}{3}", _siteUrl, _name,    destinationFolderPath, fileName) };
Sharepoint.CopyResult[] result;

Sharepoint.Copy service = new Sharepoint.Copy();
service.Url = _siteUrl + "/_vti_bin/Copy.asmx";
service.Credentials = new NetworkCredential(Settings.Instance.User, Settings.Instance.Password);
service.Timeout = 600000;

uint documentId = service.CopyIntoItems(sourceFileUrl, url, fields.ToArray(), fileBytes, out result);
}

public void SetContentType(List<string> ids, string contentType)
{
ListsService.Lists service = new YetAnotherMigrationTool.Library.SP2007.ListsService.Lists();
service.Url = _siteUrl + "/_vti_bin/Lists.asmx";
service.Credentials = new NetworkCredential(Settings.Instance.User, Settings.Instance.Password);

string strBatch = "";
for (int i = 1; i <= ids.Count; i++)
{
    strBatch += @"<Method ID='"+i.ToString()+@"' Cmd='Update'><Field Name='ID'>" + ids[i-1] + "</Field><Field Name='ContentType'>"+contentType+"</Field></Method>";
}
XmlDocument xmlDoc = new XmlDocument();
XmlElement elBatch = xmlDoc.CreateElement("Batch");
elBatch.SetAttribute("OnError", "Continue");
elBatch.SetAttribute("ListVersion", "10");
elBatch.SetAttribute("ViewName", "");
elBatch.InnerXml = strBatch;

result = service.UpdateListItems(_name, elBatch);
} 
```

# php - Jquery 或 javascript 调用具有组间间隔的相同函数组

> ID：10594279
> 
> 赞同：0
> 
> 时间：2012-05-15T04:47:48.803
> 
> 标签：php, javascript, jquery

我正在使用 php 生成创建和播放声音的 javascript：

```
$playsound .= "var $sound = new Audio('http://$siteurl/sounds/$sound.ogg'); soundplayer($sound $whentostart, $whentostop);   "; 
```

soundplayer 是一个 javascript 函数，它接受声音名称，以及何时开始和停止的持续时间作为参数。

我遇到的问题是我有一组声音播放器（带有参数），我想一起玩......即某些组同时播放声音。然后是我需要在一段时间后开始的其他组。

例如： 本组播放：soundplayer(with params) soundplayer(with params)

介于 1 到 4 秒之间的某个时间

然后这个组播放：soundplayer(with params) soundplayer(with params)

然后重复尽可能多的组

我可以在 jquery 或 javascript 中做什么来包装对 soundplayer() 组的每个函数调用，以使每个组以特定的间隔播放？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T04:55:44.477

您可以使用[`setTimeout`](https://developer.mozilla.org/en/DOM/window.setTimeout)(chaining) 或[`setInterval`](https://developer.mozilla.org/en/DOM/window.setInterval)(重复直到您停止它) 来做到这一点。

在 JavaScript 中，从概念上讲，为了简单起见：

```
// Put the things you want to do in a function
function doThingsInOrder() {
    doOneThing('someArgument');
    doAnotherThing();
    doAThirdThing('someArgument');
    // Maybe one of them should be delayed a bit
    setTimeout(doADelayedThing, 200); // 200 = 200ms = 1/5th second
}

// Call the function every four seconds, forever
setInterval(doThingsInOrder, 4000); 
```

就是那个`setInterval`版本。该`setTimeout`版本只涉及在最后`doThingsInOrder`通过调用自身：`setTimeout`

```
// Put the things you want to do in a function
function doThingsInOrder() {
    doOneThing('someArgument');
    doAnotherThing();
    doAThirdThing('someArgument');
    // Maybe one of them should be delayed a bit
    setTimeout(doADelayedThing, 200); // 200 = 200ms = 1/5th second

    // Set up next call
    setTimeout(doThingsInOrder, 4000);
}

// Start the process off
setTimeout(doThingsInOrder, 4000); 
```

# java - 如何屏蔽Android 4.0 HOME键

> ID：10594285
> 
> 赞同：0
> 
> 时间：2012-05-15T04:48:20.467
> 
> 标签：java, android

有人知道如何在 Android 4.0 中屏蔽 HOME 键吗？

下面的代码仅适用于 2.2 和 2.3，那么我将如何更改它以便它可以在 4.0 中运行？

```
/* FIXME:  How does it works within Android 4.0? */
@Override
public void onAttachedToWindow() {
    this.getWindow().setType(WindowManager.LayoutParams.TYPE_KEYGUARD);
    super.onAttachedToWindow();
} 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-05-15T05:32:34.193

尝试这个：

```
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if ((keyCode == KeyEvent.KEYCODE_HOME)) {
        //do nothing  
        return true;
    }
    return super.onKeyDown(keyCode, event);
} 
```

这不是对您的代码的编辑，而是出于相同目的的替代工作。

# maven-2 - 使用 Maven 创建 ZIP 存档

> ID：10594291
> 
> 赞同：12
> 
> 时间：2012-05-15T04:49:34.693
> 
> 标签：maven-2, zip

我在这里按照如何在 Maven 中创建 ZIP 存档的答案：[https](https://stackoverflow.com/a/2514677/1395165) ://stackoverflow.com/a/2514677/1395165 并有几个后续问题：

**要排除目录的 ZIP 内容：**

如示例中所示：

```
<fileSet>
    <directory>${project.basedir}/src/export</directory>
    <useDefaultExcludes>true</useDefaultExcludes>
</fileSet> 
```

在我得到的 ZIP 中

```
src
  export
     Dir1
     Dir2 
```

但我只想拥有

```
Dir1
Dir2 
```

在邮编。那可能吗？

**输出文件名**

输出文件名使用 .zip 扩展名创建。是否可以在 Maven 中覆盖其他扩展名（比如 .abc）？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-06T01:37:59.367

outputDirectory 选项可用于更改程序集中将文件输出到的目录 - 这应该可以满足您的需要：

```
<assembly
xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd">
<id>bin</id>
<formats>
    <format>zip</format>
</formats>
<fileSets>
    <fileSet>
        <directory>${project.basedir}/ScriptedBuild/rConnect/extract/</directory>
        <useDefaultExcludes>true</useDefaultExcludes>
        <outputDirectory>/</outputDirectory>
    </fileSet>
</fileSets>
</assembly> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T05:14:14.960

将 includeBaseDirectory 设置为 false - 请参阅[http://maven.apache.org/plugins/maven-assembly-plugin/assembly.html](http://maven.apache.org/plugins/maven-assembly-plugin/assembly.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-11-15T00:40:58.997

利用

```
<assembly ...
  <baseDirectory>/</baseDirectory> 
```

和

```
<fileSet>
  <outputDirectory>/</outputDirectory> 
```

这会将所有文件放在 zip 文件的根目录中。

BaseDirectory 将 zip 中的目录设置为用于所有文件，就像将其添加到所有路径一样。这样，当您在不先创建目录的情况下对其进行压缩时，它不会污染您当前的工作目录。

OutputDirectory 设置 zip 文件中的目录。BaseDirectory 仍然“附加”于此。所以 BaseDirectory =`/project-1.2.3`和 OutputDirectory`/src`将`project-1.2.3/src/`在 zip 中创建。

[http://maven.apache.org/plugins/maven-assembly-plugin/assembly.html](http://maven.apache.org/plugins/maven-assembly-plugin/assembly.html)

> **baseDirectory** String 设置生成的程序集存档的基本目录。如果未设置且 includeBaseDirectory == true，则将使用 ${project.build.finalName}。（从 2.2-beta-1 开始）
> 
> **outputDirectory** String 设置相对于程序集根目录的根目录的输出目录。例如，“log”会将指定的文件放在日志目录中。

# urlrewriter.net - Intelligencia UrlRewriter 错误“已添加项目”

> ID：10594292
> 
> 赞同：2
> 
> 时间：2012-05-15T04:49:47.677
> 
> 标签：urlrewriter.net

我收到错误“已添加项目。在字典中键入：'RewritingXtoY' 正在添加键：'RewritingXtoY'”。

这是一个堆栈跟踪：

> 在 System.Collections.Hashtable.Insert(Object key, Object nvalue, Boolean add) 在 Intelligencia.UrlRewriter.Utilities.MessageProvider.FormatString(Message message, Object[] args) 在 Intelligencia.UrlRewriter.RewriterEngine.Rewrite() 在 System。 Web.HttpApplication.SyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() 在 System.Web.HttpApplication.ExecuteStep(IExecutionStep 步骤，布尔值&完成同步)

它在本地主机上运行良好，但在生产中发现错误。web.config 文件中没有重复的 url 规则。

有什么帮助吗？

# html - 在不使用 JavaScript 的情况下使图像链接出现在悬停时

> ID：10594296
> 
> 赞同：0
> 
> 时间：2012-05-15T04:50:18.973
> 
> 标签：html, css

我有一个包含在锚标记中的 DIV；所有的 DIV 都是可点击的，即使是不包含任何文本的空格（出于我的目的，这是需要的）。

我有另一个锚标签，它绝对定位在这个 DIV 上，具有更高的 z-index。此锚标记包含图像（“关闭”图标）。

这一切正常，除了我只希望关闭图标出现在悬停时。按照目前的实现，关闭图标始终可见。我不确定我是否以正确的方式解决这个问题。更进一步的问题是，我需要在不使用 JavaScript 的情况下实现它，因为我在嵌入式系统上运行，并且无法调用 JavaScript 引擎。

这只需要与 WebKit 一起使用（更具体地说，它只需要与 Chrome 一起使用）。

有人可以在正确的方向上轻推我吗？

这是我正在使用的 CSS：

```
.content {
    border-top: 1px solid #eff1f2;
    border-bottom: 1px solid #c5c5c5;
    padding: 8px 11px;
    border-left: 1px solid #c5c5c5;
}

div.content:hover {
    background-color: #d1d6de;
}

.close {
    position: absolute;
    right: 100px;
    top: 10px;
    z-index: 0;
} 
```

这是我的 HTML：

```
<div>
    <a href="native://action1/">
        <div class="content">
            <p>This is my content</p>
        </div>
    </a>
        <a href="native://action2/">
            <img class="close" src="images/close.png"/>
        </a>
</div> 
```

[这是一个包含我的源代码的 jsFiddle](http://jsfiddle.net/C5Y36/4/)。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-15T05:01:54.893

鉴于您当前的 HTML，您所需要的只是对 CSS 的简单修改：

```
.close {
    display: none; /* Added this to hide the element */
    /* other CSS */
}

​div:hover a .close { /* to make the element visible while hovering the parent div */
    display: block;
} 
```

[JS 小提琴演示](http://jsfiddle.net/C5Y36/8/)。

通过使用 CSS 过渡属性，您还可以使用淡入/淡出：

```
.close {
    opacity: 0; /* to hide the element */
    -webkit-transition: opacity 0.5s linear;
    -moz-transition: opacity 0.5s linear;
    -ms-transition: opacity 0.5s linear;
    -o-transition: opacity 0.5s linear;
    transition: opacity 0.5s linear;
    /* other CSS */
}

div:hover a .close {
    opacity: 1; /* to reveal the element */
    -webkit-transition: opacity 0.5s linear;
    -moz-transition: opacity 0.5s linear;
    -ms-transition: opacity 0.5s linear;
    -o-transition: opacity 0.5s linear;
    transition: opacity 0.5s linear;
} 
```

[JS 小提琴演示](http://jsfiddle.net/C5Y36/10/)。

* * *

还值得注意的是，在 HTML 5 之前，将块级元素包装在内联级 , 元素内是无效的`a`。不过，在 HTML 5 中，这似乎是有效的（尽管我还没有找到 W3 文档来支持这一点）。

# jquery - getJSON 方法不适用于 PhoneGap

> ID：10594297
> 
> 赞同：0
> 
> 时间：2012-05-15T04:50:29.347
> 
> 标签：jquery, ios, cordova, getjson

我正在尝试使用 PhoneGap 从我的 web 应用程序构建一个移动应用程序。在桌面浏览器上一切正常，但是当我将文件移动到 PhoneGap 时，getJSON 方法似乎不起作用。可能是什么原因？

这是我使用的代码：

```
$('#employeeListPage').bind('pageinit', function(event) {
    getEmployeeList();
});

setInterval ( "getEmployeeList()", 10000 );
var vanhadata = "";

 function getEmployeeList() {
    $.getJSON(serviceURL + 'getemployees.php?autonumero=' + autonumero, function(data) {
       if(JSON.stringify(data) != JSON.stringify(vanhadata)){ 
            $('#employeeList li').remove();
            employees = data.key;
            $.each(employees, function(index, employee) {
                $('#employeeList').append('<li><a href="keikka.html?id=' + employee.IND + '">' +
                    '<h4>' + employee.OSO + '</h4>' +
                    '<img src="pics/' + employee.TILA + '.png"/>' +
                    '<p>' + employee.AIKA + '</p>' +'</a></li>');
        });
            $('#employeeList').listview('refresh');

            if(vanhadata != "")
               alert("Uusia keikkoja!");       
            vanhadata = data;
        }
    });
} 
```

因为是跨域请求，我也尝试过使用 callback=? 但这也不起作用。我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T04:47:04.863

我找到了原因。Phonegap 具有白名单功能，因此如果您引用外部主机，则必须在“ExternalHosts”键下的 PhoneGap.plist 中添加主机。例如，如果我想连接到 google 需要将“google.com”添加到 externalHosts 列表

# image - 如果使用 mod_rewrite 的图像文件不存在，如何运行脚本

> ID：10594308
> 
> 赞同：0
> 
> 时间：2012-05-15T04:51:36.533
> 
> 标签：image, apache, caching, mod-rewrite

我把头撞在键盘上试图弄清楚这一点。我正在运行一个图像非常密集的站点，我在显示图像之前对图像进行预处理（重新调整大小/标记/保存）。

这是我的问题，如何使用 mod_rewrite 检查处理后的图像是否已存在于目录（/cache/photos/600x500/xxx.jpg 或 /cache/photos/200x400/xxx.jpg）中，如果不存在，我该如何重新映射请求图像处理脚本，该脚本将从原始图像创建图像并将其显示给用户。

谢谢你的帮助。我一直在试图找到一个类似的问题，但这让我难以置信:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T05:19:24.717

```
#First check if the request is for a JPG:
RewriteCond %{REQUEST_URI} (.*).jpg$

#If so, see if it exists in /cache/photos/600x500/xxx.jpg
RewriteCond %{DOCUMENT_ROOT}/cache/photos/600x500/%1.jpg -f [NC]

#If so, serve that:
RewriteRule .* cache/photos/600x500/%1.jpg [L]

# Similar set of rules for other cache:
RewriteCond %{REQUEST_URI} (.*).jpg$
RewriteCond %{DOCUMENT_ROOT}/cache/photos/200x400/%1.jpg -f [NC]
RewriteRule .* cache/photos/200x400/%1.jpg [L]

# Final rewrite for jpg files:
RewriteCond %{REQUEST_URI} (.*).jpg$
RewriteRule (.*) createimage.php?image=$1 [L] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T04:59:28.100

你需要这样的东西

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule    ^(expression$)   /path/to/script?file=$1 [L] 
```

并且您的脚本需要生成文件并打印/提供图像

# javascript - 谁能解释这个 ajax .each 函数中的 item 来自哪里？

> ID：10594311
> 
> 赞同：0
> 
> 时间：2012-05-15T04:51:55.350
> 
> 标签：javascript, jquery, ajax

所以我使用 etsy api 和 javascript 调用这个 ajax 代码

```
$.ajax({ url: etsyURL, dataType: 'jsonp', success: function(data) { 
```

我猜它返回一个对象数组？

并进入这个 .each 函数

```
 if (data.ok) {          
        gallerySize=data.count;
        $.each(data.results, function(i,item) {  //assign array variables
           shopName=item.Shop.shop_name; 
```

我试图弄清楚 - 每个函数到底在做什么 - 我不明白“项目”对象来自哪里，并且试图访问 .each 函数之外的信息

例如-现在是-shop_name 只需要声明一次，在每个方法中每次都包含此代码是没有意义的。肯定有一种方法可以访问 ajax 函数调用的任何对象数组吗？

我确定这是一件相当简单的事情 - 我只是不明白它设置的 .each 语句的方式以及它引用的项目来自哪里

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-15T04:53:33.887

在您的代码中，`$.each()`遍历`data.results`.

如果它是一个数组，`i`是索引，并且`item`是该索引处的值。

```
data.results = [
    'foo',          // i = 0, item = 'foo'
    'bar',          // i = 1, item = 'bar'
    'baz'           // i = 2, item = 'baz'
] 
```

如果它是一个对象，`i`是键，并且`item`是该键下的值。

```
data.results = {
    'thefoo' : 'fooness',       // i = 'thefoo', item = 'fooness'
    'thebar' : 'barness',       // i = 'thebar', item = 'barness'
    'thebaz' : 'bazness'        // i = 'thebaz', item = 'bazness'
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T05:03:01.363

让我们看一下[jQuery的代码](http://code.jquery.com/jquery-1.7.2.js)：

```
each: function( object, callback, args ) {
    var name, i = 0,
        length = object.length,
        isObj = length === undefined || jQuery.isFunction( object );

    if ( args ) {
        if ( isObj ) {
            for ( name in object ) {
                if ( callback.apply( object[ name ], args ) === false ) {
                    break;
                }
            }
        } else {
            for ( ; i < length; ) {
                if ( callback.apply( object[ i++ ], args ) === false ) {
                    break;
                }
            }
        }

    // A special, fast, case for the most common use of each
    } else {
        if ( isObj ) {
            for ( name in object ) {
                if ( callback.call( object[ name ], name, object[ name ] ) === false ) {
                    break;
                }
            }
        } else {
            for ( ; i < length; ) {
                if ( callback.call( object[ i ], i, object[ i++ ] ) === false ) {
                    break;
                }
            }
        }
    }

    return object;
}, 
```

看到`for ( name in object ) {`和`for ( ; i < length; ) {`？
那就是你的论点的循环。
*（非常聪明，jQuery，从未见过有人`for`这样使用）*

现在，看到`callback.apply( object[ name ], args )`?
那是你的`i`和`item`。

# datetime - 无法在 django 中减去日期时间和时间戳？

> ID：10594314
> 
> 赞同：11
> 
> 时间：2012-05-15T04:52:06.957
> 
> 标签：datetime, django-models, timestamp

我在数据库中有一个字段 timestamp = models.DateTimeField(auto_now_add=True)。我想找出那个时间戳和 datetime.now() 之间的区别。

当我尝试 datetime.now() - 时间戳时，我得到了错误：

```
can't subtract offset-naive and offset-aware datetimes 
```

我该如何解决？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-05-15T05:16:40.723

此错误是指 python 存储时间的方式。根据python[文档](http://docs.python.org/library/datetime.html)：

> 有两种日期和时间对象：“naive”和“aware”。这种区别是指对象是否具有任何时区、夏令时或其他类型的算法或政治时间调整的概念。

django[文档](https://docs.djangoproject.com/en/dev/topics/i18n/timezones/#naive-and-aware-datetime-objects)还指出：

> 当禁用时区支持时，Django 在本地时间使用天真的日期时间对象。这对于许多用例来说既简单又足够。在这种模式下，要获取当前时间，您可以编写：

```
import datetime
now = datetime.datetime.now() 
```

> 当启用时区支持时，Django 使用时区感知的日期时间对象。如果您的代码创建了日期时间对象，他们也应该知道。在这种模式下，上面的例子变成：

```
import datetime
from django.utils.timezone import utc
now = datetime.datetime.utcnow().replace(tzinfo=utc) 
```

您应该确定是否要在您的站点中了解时区，然后相应地调整您存储的时间。要将有意识的 dt 转换为 naive，您可以使用[pytz 模块](http://pytz.sourceforge.net/)并执行以下操作：

```
naive_dt = aware_dt.replace(tzinfo=None) 
```

这是有效的，因为所有 python 日期时间都有一个可选的时区属性，`tzinfo`可用于存储 dt 与 UTC 时间的偏移量的信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-03T19:03:18.420

Holá
简短的回答是：

```
tz_info = your_timezone_aware_variable.tzinfo

diff = datetime.datetime.now(tz_info) - your_timezone_aware_variable: 
```

您必须将时区信息添加到您的 now() 时间。
但是您必须添加变量的相**同时**区，这就是我首先阅读 tzinfo 属性的原因。

# wpf - 增加 StrokeThickness 但保持路径的尺寸

> ID：10594315
> 
> 赞同：8
> 
> 时间：2012-05-15T04:52:09.560
> 
> 标签：wpf, silverlight, xaml, geometry

我有一个`Path`通常的 StrokeThickness 为 1。在某些情况下，它需要 StrokeThickness 为 10。当我增加描边厚度时，我不希望路径占用任何额外的空间。

默认情况下，仅增加 StrokeThickness 会增加路径的渲染大小。所以你会得到这样的东西（蓝色轮廓延伸到黑色边界之外）：

![笔划超出路径的原始边界](../Images/a1405d3c8c4a0e05366c759ac6b565a8.png)

这就是我想要实现的（蓝色轮廓保持在黑色边界内）：

![笔划完全在路径的原始边界内](../Images/69716ba68915d5680411a31eb92de3d0.png)

我可以想到两种数学方法来补偿增加的 StrokeWidth：

1.  手动向内调整三角形的点。
2.  对路径的几何图形使用 ScaleTransform。

这两者都会有些问题/复杂。有没有更简单的方法？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-05-15T05:27:28.987

你可以像这样通过它自己的几何来剪辑路径：

```
<Path ... Clip="{Binding Data, RelativeSource={RelativeSource Self}}"/> 
```

但是你需要将 StrokeThickness 加倍，因为只有一半的笔划是可见的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-30T18:14:28.103

一时兴起，我在我的 Rectangle 上设置了**StrokeThickness = -1**，它完全按照我想要的方式进行：笔划位于 Rectangle 的*内部*而不是外部。

# java - 如何使用 Java 在多个平台上正确加载文件？

> ID：10594316
> 
> 赞同：4
> 
> 时间：2012-05-15T04:52:25.813
> 
> 标签：java, path, filepath

我有一个需要在 Windows 和 Linux 上运行的 java swing 数据库应用程序。我的数据库连接详细信息存储在一个 XML 文件中，我会加载它们。

此应用程序可以在 Linux 上正确加载此属性，但不能在 Windows 上运行。

如何使用 Java 在多个平台上正确加载文件？

* * *

这是代码：

```
PropertyHandler propertyWriter = new PropertyHandler();

List keys = new ArrayList();
keys.add("ip");
keys.add("database");
Map localProps = propertyWriter.read(keys, "conf" + File.separatorChar + "properties.xml", true);//if false load from the local properties

//get properties from the xml in the internal package
List seKeys = new ArrayList();
seKeys.add("driver");
seKeys.add("username");
seKeys.add("password");

Map seProps = propertyWriter.read(seKeys, "conf" + File.separatorChar + "properties.xml", true);

String dsn = "jdbc:mysql://" + (String) localProps.get("ip") + ":3306/" + (String) localProps.get("database");
jDBCConnectionPool = new JDBCConnectionPool((String) seProps.get("driver"), dsn, (String) seProps.get("username"), (String) seProps.get("password")); 
```

文件阅读器方法：

```
public Map read(List properties, String path, boolean isConfFromClassPath)
{
    Properties prop = new Properties();
    Map props = new HashMap();
    try {

        if (isConfFromClassPath) {
            InputStream in = this.getClass().getClassLoader().getResourceAsStream(path);
            prop.loadFromXML(in);

            for (Iterator i = properties.iterator(); i.hasNext();) {
                String key = (String) i.next();
                props.put(key, prop.getProperty(key));
            }
            in.close();

        } else {
            FileInputStream in = new FileInputStream(path);
            prop.loadFromXML(in);

            for (Iterator i = properties.iterator(); i.hasNext();) {
                String key = (String) i.next();
                props.put(key, prop.getProperty(key));
            }
            in.close();
        }

    } catch (Exception ex) {
        ex.printStackTrace();
    }
    return props;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-15T05:06:17.850

如果文件在 jar 文件中并由类路径访问，那么您应该始终使用`/`.

JavaDocs`ClassLoader.getResource`说“资源的名称是一个 '/' 分隔的路径名，用于标识资源。”

[http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/ClassLoader.html#getResource(java.lang.String](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/ClassLoader.html#getResource(java.lang.String) )

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T05:07:32.647

我不确定是否有*正确*的方法，但一种方法是：

```
File confDir = new File("conf");
File propFile = new File(confDir, "properties.xml"); 
```

但是在像你这样简单的场景中，我会使用`/`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T05:05:30.260

如果它是位于类路径中的资源，我们可以使用以下代码段加载它：

```
getClass().getClassLoader().getResourceAsStream(
    "/META-INF/SqlQueryFile.sql"))); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-03-13T17:59:38.503

您可以毫无问题地在多个平台上加载所有文件。

请使用 Matcher.quoteReplacement(File.separator) 替换斜线。

它适用于每个平台。

```
String fileLocation = "/src/service/files";

fileLocation  = fileLocation.replaceAll("/",Matcher.quoteReplacement(File.separator)); 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-05-15T04:58:10.897

假设您的文件在 Linux 上的 conf/properties.xml 和 Windows 上的 conf\properties.xml 中，请使用 File.pathSeparator 而不是 File.separator

# oracle - 如何将存储过程的动态sql查询更改为oracle中的静态sql查询

> ID：10594318
> 
> 赞同：-1
> 
> 时间：2012-05-15T04:52:43.933
> 
> 标签：oracle, plsqldeveloper

```
EXECUTE IMMEDIATE
  'Create Table '||vCUPRSBaseTableName
  ||' As Select * From '||vCUPRSTableName
  ||' where C_DESTINATION_ENTITY='''||l_bc_a(i)
  ||''' and LATEST=1' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T06:12:18.917

您不能将静态 sql 的表名绑定到变量。唯一的方法是使用动态 sql

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-20T14:13:45.747

无法在存储过程中执行 DDL。再加上您希望灵活地命名目标表和源表这一事实，动态 SQL 是您唯一的选择。

然而，正如 David A 所观察到的，实际上很少需要以这种方式创建表。如果您要解释您的用例，我们应该能够提出更好的方法。如果我是一个赌徒，我会把钱放在临时桌子上，作为你真正想要的解决方案。 [了解更多](http://docs.oracle.com/cd/E11882_01/server.112/e25789/tablecls.htm#sthref183)。

# cakephp - CakePHP 主题插件视图

> ID：10594319
> 
> 赞同：4
> 
> 时间：2012-05-15T04:52:48.427
> 
> 标签：cakephp, cakephp-1.3

是否可以为插件的视图设置主题？我有一个用于移动设备的移动主题，并且也想为插件应用程序/视图使用不同的视图文件。我已经尝试过 app/views/themed/THEME/plugin/... 和 /app/plugins/PLUGIN/views/themed/THEME/...none 似乎不起作用。提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-15T05:05:02.423

将主题的内容复制到： **app/views/themed/THEMENAME/plugins/PLUGINNAME/在****app/libs/view/theme_plugins.php**上 创建一个**ThemePluginsView**类

 **```
// app/libs/view/theme_plugins.php
if (!class_exists('ThemeView'))
    App::import('Core', 'view/theme');

class ThemePluginsView extends ThemeView {

    function __construct(&$controller, $register = true) {
        parent::__construct($controller, $register);
    }

    function _paths($plugin = null, $cached = true) {
        $paths = parent::_paths($plugin, $cached);
        if (!is_string($plugin) || empty($plugin) || empty($this->theme))
            return $paths;
        // add app/plugins/PLUGIN/views/themed/THEME path 
        $dirPath = APP . 'plugins' . DS . $plugin . DS . 'views' . DS . 'themed' . DS . $this->theme . DS;
        if (is_dir($dirPath))
            $paths = array_merge(array($dirPath), $paths);
        return $paths;
    }
} 
```

然后在 beforeFilter() 上的 app_controller 或 beforeFilter() 上的常用控制器上调用它，例如：

```
function beforeFilter() {
  if (!class_exists('ThemePluginsView'))
    App::import('Core', 'view/theme_plugins');
  $this->view = 'ThemePlugins';
  $this->theme = 'THEME_NAME';
} 
```

希望能帮助到你

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-06-22T09:27:03.280

Cakephp 2.x 支持这一点，无需进行任何代码更改：

如果您（可以）转换为使用 cakephp 2.x，那么可以（自动）。主题“mytheme”和插件“权限”的视图路径为：

```
Array
(
    [0] => /var/vhosts/Project/htdocs/app/View/Themed/Mytheme/Plugin/Permissions/
    [1] => /var/vhosts/Project/htdocs/app/View/Themed/Mytheme/
    [2] => /var/vhosts/Project/htdocs/app/View/Plugin/Permissions/
    [3] => /var/vhosts/Project/htdocs/app/Plugin/Permissions/View/
    [4] => /var/vhosts/Project/htdocs/app/View/
    [5] => /var/vhosts/Project/htdocs/lib/Cake/View/
    [6] => /var/vhosts/Project/htdocs/lib/Cake/Console/Templates/skel/View/
) 
```

因此，如果您在插件中有 Users/index.ctp 并想要覆盖它，您将编辑：

```
/var/vhosts/Project/htdocs/app/View/Themed/Mytheme/Plugin/Permissions/Users/index.ctp 
```

对于主题版本或：

```
/var/vhosts/Project/htdocs/app/View/Plugin/Permissions/Users/index.ctp 
```

对于非主题版本**

# iphone - 是否可以在 xcode 中同时在 *iphone 设备 * 和 *iphone 模拟器 * 中运行应用程序？

> ID：10594322
> 
> 赞同：0
> 
> 时间：2012-05-15T04:53:13.370
> 
> 标签：iphone, ios, xcode, synchronization, ios-simulator

我希望能够将模拟器与我的 iphone 设备同步，这样如果我在模拟器运行时在模拟器上做某事，它会在连接到我的 mac 的设备上执行相同的操作。

这可能吗？先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T04:58:31.443

你可以做相反的事情：

[http://www.vimov.com/isimulate/](http://www.vimov.com/isimulate/)

也许你可以联系他们，了解如何做相反的事情。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T05:13:59.227

是的。有可能的。首先，您将项目安装在模拟器和另一台设备上，无论它是 iPad、iPod。之后，您通过蓝牙、wifi 和互联网连接进行连接。请参阅此
[witap 示例代码](http://developer.apple.com/library/ios/#samplecode/WiTap/Introduction/Intro.html)。

# iphone - 是否可以在按钮单击时调用并显示我们自己的视图而不是默认视图？

> ID：10594326
> 
> 赞同：0
> 
> 时间：2012-05-15T04:53:41.540
> 
> 标签：iphone, ios

我想在按钮单击时拨打一个号码，不想显示 iphone 默认提供的六个选项（声音、静音..等），但我想在通话时显示我自己的视图或选项。是否可以？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T05:12:21.443

如果您正在讲话以修改电话呼叫屏幕，那么您不能....

# jquery - $.getJSON 调用错误的 URL

> ID：10594328
> 
> 赞同：0
> 
> 时间：2012-05-15T04:53:51.187
> 
> 标签：jquery, getjson

我正在构建或多或少是一个谷歌日历，但具有更具体的功能/特性。与 Google 日历一样，当用户点击某个事件时，我会使用 ajax 获取请求填充一个“弹出式”div。填充该 div 的 html 包含特定于正在查看的事件的 javascript 函数。当用户完成使用弹出窗口时，无论是关闭它还是保存更改，我都会在隐藏它之前擦除其中的 html。

现在问题来了：对于某个事件有一个两步创建过程 1) 用户单击日历以创建一个临时的、可移动的、可调整大小的事件，将其移动到位，单击它以查看确认弹出窗口，确认后，调用服务器在数据库中创建事件。

```
//(start) and (end) are unix timestamps for the beginning and end of the new event
$.getJSON("/events/add/(start)/(end)", function(data) {
    //server returns whether or not the add was successful...
}); 
```

现在，一旦确认并且服务器在保存新事件时没有任何问题，弹出窗口的 html 将被删除，弹出窗口被隐藏，并且日历从服务器重新获取事件。就像它应该的那样，新事件现在正从数据库馈送到日历中。

当用户点击数据库版本时，我使用 view.ctp 填充弹出窗口（我使用的是 cakephp），其中包括一个取消按钮和一个 javascript 函数“cancel()”

这是我不知所措的地方：我知道按钮正确地调用了函数，我已经测试了几种不同的方法。函数内是另一个 getJSON 请求......

```
$.getJSON("/events/cancel/(eventId)", function(data) {
    //server returns whether or not cancellation was successful
}); 
```

如果我刷新了页面，取消会按预期工作，但如果我在创建事件后立即取消事件（没有先刷新页面），而不是调用“/events/cancel/(eventId)”url， "/events/add/(start)/(end)" 再次被调用。

获取 JSON 数据没有问题（当调用正确的 url 时）。事实上，如果您尝试添加与现有事件重叠的事件，它返回的错误消息就是您所期望的。

同样，我知道正在调用正确的 JavaScript 函数，并且我知道每个服务器端函数都在正常工作。只是，出于我不明白的原因，调用了错误的 URL。

我很抱歉用这个来编造这样的故事，我希望我已经包含了足够的信息。我不认为这是我的代码中的问题 - 就像我提到的那样，页面刷新可以防止这个问题。

我尝试将 jquery 的缓存设置为 false。我尝试重命名和重新定位我的 JavaScript 函数，以防止任何潜在的重叠。我尝试将 $.getJSON 更改为简单的 $.get，但问题每次都是一样的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T08:05:52.047

```
$.getJSON('/events/add/'+ start +'/'+ end, function(data) {

});   

$.getJSON('/events/cancel/'+eventId, function(data) {

}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T05:03:33.053

调试步骤是将其更改为

```
var url = "/events/cancel/(eventId)";
alert(url);
$.getJSON(url, function(data) {
    //server returns whether or not cancellation was successful
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T05:31:32.133

> `again, i know the right js function is being called`

你是如何验证这一点的？

这可能是由多种原因造成的。大多数情况下，这要归功于一些杂散的点击处理程序，您通常可以通过执行

```
$('.cancel').unbind('click').click() 
```

或生/死等价物。

一旦你过去了，console.log 该函数中的每个步骤，以确定 URL 被更改的位置。`$.getJSON`在请求之前开始。如果它是一个不正确的 url，向上移动直到你到达 url 被切换的位置。

您不能仅仅因为代码在刷新时就可以免除代码，特别是因为当您添加事件时可能会发生各种事情。

更多代码会有所帮助。

# jquery - 颜色框内联 HTML 未正确加载

> ID：10594330
> 
> 赞同：0
> 
> 时间：2012-05-15T04:53:57.397
> 
> 标签：jquery, colorbox

我有一个非常简单的问题（我认为）。我在这里的“关于”链接上使用了 Colorbox： [http](http://www.zsigmonda.com) ://www.zsigmonda.com 如您所见，内联框的大小不正确 - 过渡不平滑。它从一个大盒子跳到一个小盒子，没有弹性过渡。有人可以帮我弄清楚我做错了什么吗？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T05:03:26.810

**演示：** [http ://so.devilmaycode.it/jquery-colorbox-background-transition-effect](http://so.devilmaycode.it/jquery-colorbox-background-transition-effect)

您可以使用颜色框提供的`transition`和`speed`选项来创建更平滑的过渡效果。检查他们主页上的设置部分[http://www.jacklmoore.com/colorbox](http://www.jacklmoore.com/colorbox)像这样

```
$(".inline").colorbox({inline:true, width:"50%",transition:'elastic',speed:600}); 
```

`speed`上下更改参数以使过渡更好。

# iphone - 当应用程序进入 bkgr 时 uialertview 会发生什么

> ID：10594332
> 
> 赞同：0
> 
> 时间：2012-05-15T04:54:06.937
> 
> 标签：iphone, ios, xcode, uialertview

在我的应用程序中，我需要创建一堆`UIAlertView`弹出窗口，期望用户在某个时刻对它们中的每一个做出响应。根据定义`UIAlertView`是非模态的，即我的应用程序的逻辑在制作后继续执行。当应用程序进入后台时，弹出窗口会自动保存吗？看起来当用户通过单击按钮进行响应时，即使在应用程序进入 bkgr 并返回后，正确的弹出窗口也会响应。这是否意味着`UIAlertView`弹出ptrs在保存/恢复期间被保留，即可以在恢复后重用，或者，为了支持clickedButtonByIndex：alert引用正确的弹出窗口做了一些修改？谢谢。胜利者

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T23:34:45.100

仅供参考，这种行为在 iOS 4 中发生了变化（万一您尝试支持 iOS 4 之前的版本）：请参阅[UIAlertView 文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIAlertView_Class/UIAlertView/UIAlertView.html)的“概述”部分中的“重要”说明。

但是，是的，您的应用程序会被保留，除非 iOS 必须将其关闭，在这种情况下，所有赌注都已关闭。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T05:09:08.847

UIAlertView 继承自 UIView，就像滚动视图一样。当您的应用程序进入后台时，这些用户界面元素都被“保存”，并且不会以某种方式被破坏。当您的应用程序重新回到前台时，您的所有 UI 元素都会以相同的方式工作。

# java - Java 类方法不会在 Jython 中使用 Eclipse Pydev 自动完成

> ID：10594333
> 
> 赞同：3
> 
> 时间：2012-05-15T04:54:10.087
> 
> 标签：java, eclipse, jar, jython, pydev

我将 PyDev 2.5 与 Eclipse Indigo 和 Jython 2.5.3b1 一起使用。我有一个 JAR 文件，其中包含我要导入到 PyDev (Jython) 项目的某些类。除了自动完成之外，它们似乎可以无缝工作。Java 类的成员函数不会自动完成，例如按点“。” 运算符不会显示类成员函数的列表。jar 文件被添加到 PyDev 项目的 PyDev-PYTHONPATH 外部库中。

[PYTHONPATH 外部库的屏幕截图](http://dl.dropbox.com/u/23776836/classpath.jpg)

自动完成不适用于下面的代码，但它编译并运行得非常好。

```
from my.testpackage import MyClass

myVar = MyClass("Monkey")

print myVar.getName() 
```

键入“myVar”。不会自动完成

值得注意的是，如果我导入了非自定义 jar，则自动完成工作

例如

```
from java.lang import Math

print Math.max(3,5) 
```

键入“数学”。将自动完成

我不确定当前版本的 PyDev 是否​​支持此功能。有没有人真的在他们的 PyDev 和 Eclipse 设置中有这个工作？

任何建议将不胜感激。

谢谢，

DM

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-17T22:14:13.560

这可能是您的 PYTHONPATH 配置中的一些问题。您是否阅读过：http: [//pydev.org/manual_101_project_conf2.html](http://pydev.org/manual_101_project_conf2.html)（尤其是页面末尾：“Jython 用户的项目参考”）。

如果这对您没有帮助，您能解释一下您是如何引用事物的吗？（配置截图会很好）

# c - 客户端/服务器 C 连接

> ID：10594339
> 
> 赞同：0
> 
> 时间：2012-05-15T04:55:18.573
> 
> 标签：c, client-server

我目前正在用 C 语言做一个客户端/服务器应用程序，该应用程序通过 Internet 进行。服务器将继续侦听来自客户端的新连接。目前我正在监听客户端，但是一旦客户端连接，服务器将不会继续监听更多客户端。下面描述了与客户端连接的服务器端代码：

```
int sockfd = socket(AF_INET, SOCK_STREAM, 0);

struct sockaddr_in sockaddr, cliaddr;
bzero(&sockaddr, sizeof(struct sockaddr_in));
bzero(&cliaddr, sizeof(struct sockaddr_in));

    sockaddr.sin_family = AF_INET;
    sockaddr.sin_addr.s_addr = INADDR_ANY;
    sockaddr.sin_port = ntohs(atoi(argv[1]));

if(bind(sockfd, (struct sockaddr *) &sockaddr, sizeof(sockaddr)) <0) {
    printf("error binding socket: %d\n", errno);
    exit(1);
}

printf("binded to %d : %d\n", sockaddr.sin_addr.s_addr, htons(sockaddr.sin_port));

listen(sockfd,5);
socklen_t clilen = sizeof(cliaddr);
int newsockfd = accept(sockfd, (struct sockaddr *) &cliaddr, &clilen);
    if (newsockfd < 0) 
        error("ERROR on accept");

printf("server connected to %d:%d\n", cliaddr.sin_addr.s_addr, htons(cliaddr.sin_port)); 
```

我假设我必须创建某种形式的线程，一旦建立连接就会分叉。但我不知道如何实现它..

任何帮助是极大的赞赏

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T04:59:22.963

以下几点可能会有所帮助：

1.  您应该让您的接受呼叫循环，以便在接受一个连接后，它可以再次返回以接受更多连接。
2.  要分别处理每个连接，您可以使用[pthread_create 或一些类似的线程创建 API](https://computing.llnl.gov/tutorials/pthreads/)创建线程。
3.  您可以选择使用[非阻塞套接字](http://rhoden.id.au/doc/sockets.html)，您可以使用它轻松地在同一线程中处理多个连接。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T05:54:01.360

您可以收集以下书籍来学习和了解如何用 C 开发并发服务器。答案中很难用示例来解释编写并发服务器的各种方法。书中示例的源代码是可下载的，因此即使没有这本书，您也可以尝试它们（您可以在相同的 URL 中找到）。研究代码，你会看到事情是如何工作的。

[UNIX 网络编程，第 1 卷，第二版：网络 API：套接字和 XTI](http://www.kohala.com/start/unpv12e.html)

这本书几乎涵盖了您想了解的有关套接字编程的所有内容。

# ruby - 运行 Ruby 程序直到出错

> ID：10594340
> 
> 赞同：0
> 
> 时间：2012-05-15T04:55:38.423
> 
> 标签：ruby

有没有办法让 Ruby 程序一直执行直到程序出错？当程序返回错误时，我希望我的循环停止。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T05:02:24.840

无限循环可以提供帮助吗？

```
while true do
    your code
end 
```

如果您的代码抛出错误，则循环停止。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T05:13:05.030

这是另一个例子。将运行无限次，直到异常出现并处理您的异常，然后退出表单代码。

```
inc = 5
while true do
  begin
puts 4/inc
inc-=1
  rescue Exception=> e
    puts e
    exit
  end
end 
```

# ios - 我们可以延长配置文件的到期日期吗？

> ID：10594344
> 
> 赞同：0
> 
> 时间：2012-05-15T04:56:13.460
> 
> 标签：ios, ios-provisioning

在我的 iPhone 应用程序中，我具有检查提醒和验证未来日期的功能。

在将日期（未来日期，如 2013 年）更改为 iPhone 的设置时，应用程序向我显示一条错误消息，表明您的此应用程序的配置文件已过期。

因此，无法检查更多日期。那么，如何修改我的配置文件以延长配置文件的到期日期。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:07:11.503

从记忆中，我相信您必须向苹果索要新的配置文件，但我不确定

# google-maps - Google-Maps JSF 支持和其他支持

> ID：10594348
> 
> 赞同：2
> 
> 时间：2012-05-15T04:56:39.437
> 
> 标签：google-maps

我们一直在使用 JBOSS EPP 5.1 上的 JSF 在我们的应用程序中使用 GMaps4JSF 1.1.4。它似乎工作正常，但在一些测试中我们发现：

1.  如果我们在谷歌地图中搜索“al raha beach”，它会返回正确的地址。
2.  但是如果我们在我们的应用程序中搜索相同的东西（使用 gmaps4jsf），什么都不会出现；显示空白地图。
3.  当我们在 gmaps4jsf 演示（即[http://www.mashups4jsf.com/gmaps4jsf-examples/pages/getMyLocation.jsf](http://www.mashups4jsf.com/gmaps4jsf-examples/pages/getMyLocation.jsf)上）搜索“al raha beach”时会看到相同的行为。

我们发现了一些与上述问题类似的其他问题。

我在 gmaps4jsf 问题列表上发布了问题，但没有人在那里回复。我们正在寻找以下问题的答案：

1.  gmaps4jsf 是 Google 官方支持在 JSF 中使用地图还是一种社区版本？
2.  是否有团队积极支持 gmaps4jsf 中发现的问题？
3.  我们要升级到谷歌地图 3.0 版——即 GMaps4JSF 3.0.0；我们什么时候可以得到这个升级的 gmaps4jsf？
4.  谷歌地图（maps.google.com）在内部使用什么？是否可以为用户提供与在 maps.google.com 上获得的相同用户体验 - 如果是，那么使用哪些 API？

如果您能回答以上任何问题，请。非常感谢您的回复。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T16:23:30.060

[GMaps4JSF](http://www.mashups4jsf.com/gmaps4jsf-examples/home.jsf)不是 Google 库。这是一个由社区成员提供支持的开源项目。为了确保您的问题得到解答，您需要将问题发布到邮件列表：
gmaps4jsf-dev@googlegroups.com。

关于GMaps4JSF 3.0.0，我们有望在今年年底前发布。

Hazem Saleh
GMaps4JSF 创始人

# eclipse - GAE Tutorial Exercise 1: Working With Entities - unknown error

> ID：10594351
> 
> 赞同：0
> 
> 时间：2012-05-15T04:57:36.077
> 
> 标签：eclipse, google-app-engine

I'm attempting to do this tutorial: [GAE Tutorial 1](http://googcloudlabs.appspot.com/codelabexercise1.html).

When I try and deploy locally a window pops up telling me there are errors in my project, although it allows me to proceed anyway. If I do proceed the application uploads, however, it doesn't perform correctly.

I get this error in the console twice: May 15, 2012 2:55:00 PM com.google.appengine.tools.development.LocalResourceFileServlet doGet WARNING: No file found for: /favicon.ico

The app seems to work as normal though, however, when I try and click the 'add' button on the second tab this message appears in the console, and nothing else happens:

May 15, 2012 2:55:05 PM com.google.appengine.tools.development.LocalResourceFileServlet doGet WARNING: No file found for: /order

I could not find the errors, or find anything which told me where to find the errors.

Google allows you to download the completed code [here](http://googcloudlabs.appspot.com/download.jsp). When I ran that, I got the same error.

I am pretty sure I set everything (Eclipse, GAE Plugin, and this particular tutorial) up correctly - I followed the online tutorials exactly. I'm completely stumped.

Post Edit:

I have found a list of 21 Errors which all seem to relate to the WEB-INF/lib directory being empty. They are all in the form:

The App Engine SDK JAR < appengine-api-1.0-skd-1.6.4.jar > is missing in the WEB-INF/lib directory

with the part in the <> a bunch of different things which seem to be libraries(?).

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T11:36:54.800

1) Have you defined/added a "User Library" in your project build path, that points to your App Engine SDK libraries?![enter image description here](../Images/8c13b52da3981b07b7e940bfbf8a0860.png)

2) Also, go to your Project -> Google -> App Engine Settings; there you can see if you have set the right App Engine SDKs ; appengine-api-1.0-skd-1.6.4.jar

3) Some projects also need ; gdata core and any other libraries such as Calendar or datanucleus...... If you are using any of those API

# c# - 将上下文菜单项插入资源管理器并在单击上下文菜单项时传递完整文件名

> ID：10594353
> 
> 赞同：1
> 
> 时间：2012-05-15T04:57:50.173
> 
> 标签：c#, .net, windows, shell, contextmenu

我想为所有“jpg”文件在 Windows 资源管理器上下文菜单中添加一个上下文菜单项。当用户单击它时，上下文菜单项的名称将是“处理 JPEG”，将调用一个主可执行文件。问题是我已经创建了主 c# 可执行文件，它不能仅通过上下文菜单运行，它可以独立运行。我想将用户选择并单击上下文菜单命令的文件名或文件名传递给主可执行文件，所以主可执行文件将能够使用某种方法获取文件并处理这些文件。我已完成以下操作以集成上下文菜单-请帮帮我

```
public static void Register(
            string fileType, string shellKeyName, 
            string menuText, string menuCommand)
        {
            Debug.Assert(!string.IsNullOrEmpty(fileType) &&
                !string.IsNullOrEmpty(shellKeyName) &&
                !string.IsNullOrEmpty(menuText) && 
                !string.IsNullOrEmpty(menuCommand));

            // create full path to registry location
            string regPath = string.Format(@"{0}\shell\{1}", fileType, shellKeyName);

            // add context menu to the registry
            using (RegistryKey key = Registry.ClassesRoot.CreateSubKey(regPath))
            {
                key.SetValue(null, menuText);
            }

            // add command that is invoked to the registry
            using (RegistryKey key = Registry.ClassesRoot.CreateSubKey(
                string.Format(@"{0}\command", regPath)))
            {               
                key.SetValue(null, menuCommand);
            }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:26:28.893

要在旧版本的 Windows 上为[文件类型](http://msdn.microsoft.com/en-us/library/bb776870%28v=vs.85%29.aspx)注册动词，您可以：

1.  获取[ProgID](http://msdn.microsoft.com/en-us/library/bb776872%28v=vs.85%29.aspx)。在你的情况下，阅读下面的默认值`HKCR\.jpg`（这通常会给你类似的东西`jpgfile`）
2.  在下面写下你的动词命令`HKCR\%ProgId%\shell\%YourVerb%\command`

从 XP 开始，您可以在 SystemFileAssociations 下注册补充动词，而无需控制 ProgID：

1.  在下面写下你的动词命令`HKCR\SystemFileAssociations\.jpg\shell\%YourVerb%\command`

动词命令通常是`"c:\full\path\to\yourapp.exe" "%1"`和 %1 被 windows 替换为文件名。您的应用程序必须解析命令行。

要正确支持同时打开多个文件，最好使用[DDE 或 IDropTarget](http://msdn.microsoft.com/en-us/library/bb776883%28v=vs.85%29.aspx#invoking_verbs)（或Win7+ 上的[IExecuteCommand ）](http://blogs.msdn.com/b/oldnewthing/archive/2010/03/12/9977246.aspx)

# android - 什么是 RECEIVE_SECURITY_SMS 权限？

> ID：10594360
> 
> 赞同：1
> 
> 时间：2012-05-15T04:58:56.753
> 
> 标签：android, permissions, android-manifest

我正在我的 Android 设备中运行 ManifestExplorer（[下载链接](http://www.isecpartners.com/storage/tools/mobile-security/ManifestExplorer.zip)）工具。它返回已安装应用程序所需的权限列表。安装的应用程序之一需要

> “android.permission.RECEIVE_SECURITY_SMS”

我试过谷歌，但找不到这个许可的意义。

任何人都可以帮助我。

# iphone - 如何通过单击iphone sdk标签栏中的标签打开相机？

> ID：10594361
> 
> 赞同：1
> 
> 时间：2012-05-15T04:59:02.777
> 
> 标签：iphone, camera, uitabbarcontroller, uiimagepickercontroller

如何通过单击标签栏应用程序中的标签打开相机，我还想自定义该相机控制器？我见过很多这样的应用程序，它们也有额外的功能，比如[instagram](http://itunes.apple.com/in/app/instagram/id389801252?mt=8)这也像这个[pinterest](http://itunes.apple.com/us/app/pinterest/id429047995?mt=8)一样使用这是另一个[picplz](http://itunes.apple.com/in/app/picplz/id382339383?mt=8)我用谷歌搜索了一些链接，但我没有得到完美的结果我试图通过打开相机`- (void)viewWillAppear:(BOOL)animated`但它并不完美，任何人都可以指导我创建像上面一些应用程序一样的相机视图吗？

我看过这个苹果的[例子。](https://developer.apple.com/library/ios/#samplecode/AVCam/Listings/Classes_AVCamUtilities_m.html#//apple_ref/doc/uid/DTS40010112-Classes_AVCamUtilities_m-DontLinkElementID_8)对于相机的自定义视图，我已经看到[了。](https://stackoverflow.com/questions/7639188/ios-camera-with-custom-view)

嘿，有人有答案吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-05-15T05:36:47.993

试试这个代码片段。

```
UIImagePickerController *picker = [[UIImagePickerController alloc] init]; 
picker.delegate = self; 
picker.allowsEditing = YES;
if (([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera])) 
{
    picker.sourceType = UIImagePickerControllerSourceTypeCamera;
    [self presentModalViewController: picker animated:YES]; 
}
else
{
        // Put alert no camer found
}
[picker release]; 
```

* * *

## 回答 #2

> 赞同：-5
> 
> 时间：2012-05-15T05:39:14.933

```
- (IBAction)buttonTap:(id)sender
{
    UIActionSheet * theActionSheet;

    if(![UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera])
    {
        theActionSheet = [[UIActionSheet alloc] initWithTitle:nil delegate:self cancelButtonTitle:NSLocalizedString(@"Cancel", nil) destructiveButtonTitle:NSLocalizedString(@"Choose existing photo", nil) otherButtonTitles:nil, nil, nil];
        self.actionSheet = theActionSheet;
    }
    else
     {
         theActionSheet = [[UIActionSheet alloc] initWithTitle:nil delegate:self cancelButtonTitle:NSLocalizedString(@"Cancel", nil) destructiveButtonTitle:NSLocalizedString(@"Take photo", nil) otherButtonTitles:NSLocalizedString(@"Choose existing photo", nil), nil, nil];
         self.actionSheet = theActionSheet;
     }
     self.actionSheet.tag = 100;
     self.actionSheet.actionSheetStyle = UIActionSheetStyleDefault;
     [self.actionSheet showInView:self.view.window];    // show from our table view (pops up in the middle of the table)
     [theActionSheet release];      
} 
```

# google-app-engine - Google App Engine 中的 JPA 一对多关系

> ID：10594367
> 
> 赞同：0
> 
> 时间：2012-05-15T04:59:32.477
> 
> 标签：google-app-engine, jpa

我有一对多的关系（个人资料到消息）。我试图保存某个用户/个人资料拥有的消息。下面的代码有什么问题？

```
public Message createMessage(Message msg, String recepient) {
    EntityManager em = EMF.get().createEntityManager();
    UserAccess access = new UserAccess();
    Profile user = access.searchUser(recepient);
    msg.setUser(user);

    em.getTransaction().begin();

    em.persist(msg);

    em.getTransaction().commit();
    em.close();
    return msg;
} 
```

搜索用户方法

```
public Profile searchUser(String displayName){
    EntityManager em = EMF.get().createEntityManager();
    Profile user;
    try{
        Query q = em.createNamedQuery("Profile.searchByDisplayName");
        q.setParameter("displayName", displayName);
        user = (Profile) q.getSingleResult();
    } catch(javax.persistence.NoResultException e){
        user = null;
    }
    em.close();
    return user;
} 
```

我遇到了以下错误：

```
java.lang.IllegalStateException: Primary key for object of type Profile is null. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T11:04:56.703

可能是因为您的配置文件实体中没有定义“Id”，即主键吗？还是在创建特定配置文件时未设置为任何值？

此外，检查 Profile 和 Message 实体之间的关系是否定义正确。

[jpa 一对多和多对一](https://stackoverflow.com/questions/10491532/jpa-onetomany-manytoone/10497312#10497312)

# c# - 在 C# 中的窗体上绘制一个矩形

> ID：10594370
> 
> 赞同：0
> 
> 时间：2012-05-15T05:00:02.410
> 
> 标签：c#, graphics

如何在 C# 中的表单上绘制一个矩形，当我处理表单时，我可以看到该矩形，即在表单上放置按钮或文本框。我正在使用以下方式在表单上创建一个矩形，但它仅在我运行表单时可见，而我希望它在设计时可见。

我的代码如下：

```
protected override void OnPaint(PaintEventArgs e)
{    
    Graphics g = e.Graphics;
    g.PageUnit = GraphicsUnit.Inch;
    Pen red1 = new Pen(Color.Green, 0.03f);
    g.DrawLine(blackpen, 1, 2, 1, 3);
    g.DrawLine(red1, 1,2, 3,2 );
    g.DrawLine(red1, 1, 3, 3, 3);
    g.DrawLine(red1, 3, 2, 3, 3);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:02:51.587

您需要将`Paint`事件附加到表单。

只需在构造函数中添加以下语句。

```
this.Paint += new PaintEventHandler(OnPaint); 
```

并将方法签名更改为

```
void OnPaint(object sender, PaintEventArgs e) 
```

# c# - 使用 Stream CopyTo 时跳过字节顺序标记 (BOM)

> ID：10594371
> 
> 赞同：3
> 
> 时间：2012-05-15T05:00:14.947
> 
> 标签：c#, file, byte-order-mark

我正在尝试将文件合并到一个输出文件中，并且我的各个文件上有 BOM，如何在使用 Stream.CopyTo 方法时摆脱它。

我的代码如下所示：

```
using (var output = File.Open(outputFile,FileMode.Append,FileAccess.Write))
      {
         foreach (var inputFile in inputFiles)
         {
           using (var input = File.OpenRead(inputFile))
           {
              input.CopyTo(output);
           }
         }
      } 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-15T05:48:59.830

使用以下方法..

```
using (var output = File.Open(outputFile,FileMode.Append,FileAccess.Write))
      {
         foreach (var inputFile in inputFiles)
         {
           using (var input = File.OpenRead(inputFile))
           {
               input.Position = Encoding.Unicode.GetPreamble().Length;  //The encoding might be any type.
              input.CopyTo(output);
           }
         }
      } 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-15T05:43:13.527

不要使用流来复制文本。请改用 StreamReader/StreamWriter：

```
 using (var output = File.AppendText(outputFile))
        {
            foreach (var inputFile in inputFiles)
            {
                using (var input = File.OpenText(inputFile))
                {
                    while (!input.EndOfStream)
                    {
                        output.WriteLine(input.ReadLine());
                    }
                }
            }
        } 
```

任何流实例都在字节级别工作，它对“字符编码”和“BOM”一无所知。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T05:48:24.593

您不能对任意文件执行此操作。BOM 是几个字节，可能是完全有效的编码。在下面的示例中，代码碰巧编写了一个文件，该文件与以 UTF-16、little-endian 编码的文本“ABC”具有相同的字节，并带有一个 BOM，但这并不意味着前两个字节代表一个 BOM （甚至该文件代表“ABC”）。

```
public class StackOverflow_10594371
{
    public static void Test()
    {
        using (FileStream fs = File.Create("a.bin"))
        {
            fs.WriteByte(0xFF);
            fs.WriteByte(0xFE);
            fs.WriteByte(0x41);
            fs.WriteByte(0x00);
            fs.WriteByte(0x42);
            fs.WriteByte(0x00);
            fs.WriteByte(0x43);
            fs.WriteByte(0x00);
        }

        Console.WriteLine(File.ReadAllText("a.bin"));
    }
} 
```

# javascript - 理解 Javascript 中的类和继承——新模式

> ID：10594376
> 
> 赞同：3
> 
> 时间：2012-05-15T05:00:47.230
> 
> 标签：javascript, oop, inheritance, object

我正在为我正在构建的许多应用程序设计一个 OOP 继承模式。Javascript 有很多方法可以做到这一点，但我偶然发现了一种我非常喜欢的模式。但是现在我正在为分离类和实例的需要而苦苦挣扎。

我有一个名为 Root 的基础对象。它有一个称为继承的主要方法。要创建您使用的新对象

```
var Person = Root.inherit({
    name : "",
    height : 0,
    walk : function() {},
    talk : function() {}
}); 
```

然后创建一个“实例”，你会

```
var sally = Person.inherit({
    name : "sally",
    height : "5'6"
}); 
```

sally 可以 .talk() 并且可以 walk() 并且她有一个 .name 和一个 .height 你可以用同样的方法让更多的人。

如果你想要一个构造函数，你可以使用

```
var Person = Root.inherit({
    _construct : function() {
        // do things when this object is inherited from
    },
    name : "",
    height : 0,
    walk : function() {},
    talk : function() {}
}); 
```

当对象第一次在代码中定义时，它也有初始化的能力（单例使用这个）

```
var Person = Root.inherit({
    _init : function() {
        // called at runtime, NOT called if an object is inherited from me
    },
    name : "",
    height : 0,
    walk : function() {},
    talk : function() {}
}); 
```

如您所见，一切都使用.inhert()。实际上没有类，也没有实例。一切都是某事的一个实例。到目前为止，我发现的唯一真正的问题是没有“类型”的概念，但是如果需要，您始终可以检查方法。此外，您不能保护“类”，因为如果开发人员意外更改或打算更改它，则可以在执行期间更改“类”。

所以我的问题是：在 javascript 中是否需要对类结构和类实例进行明确且受控的分离？将每个对象都视为实例有什么问题吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-15T05:15:36.870

不，没有必要，因为 Javascript 是一种基于原型的语言，这意味着不涉及类。您只是在创建对象的克隆。

[http://en.wikipedia.org/wiki/Prototype-based_programming](http://en.wikipedia.org/wiki/Prototype-based_programming)

就类型的概念而言，类型就是对象。

有关这方面的更多信息的好读物是 Stoyan Stefanov 的 Javascript 模式，他有几种不同的创建模式可以解决您的问题，包括从四人组设计模式中实现设计模式的示例。 [http://www.amazon.com/JavaScript-Patterns-Stoyan-Stefanov/dp/0596806752](https://rads.stackoverflow.com/amzn/click/com/0596806752)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T05:11:51.190

> 所以我的问题是：在 javascript 中是否需要对类结构和类实例进行明确且受控的分离？将每个对象都视为实例有什么问题吗？

不是真的，如果你对它感到满意，那很好。

更正常的 JavaScript 继承形式也做同样的事情。你会经常看到这样的结构*（为简洁起见**严重**削减）*：

```
function Base() {
}
Base.prototype.foo = function() {
};

function Derived() {
}
Derived.prototype = new Base(); 
```

...当然，这`new Base()`也是您*创建*. `Base`所以你的系统非常相似。

同样，上面是一个*草图*，而不是一个完整的例子。一方面，通常你会看到构造和初始化是分开的，所以你不会真正看到用's`Derived.prototype = new Base()`创建对象但没有实际调用的东西（稍后会这样做），但你明白了。诚然，该声明在某种程度上削弱了与您的系统的相似性，但我认为它根本不会破坏它。`Base``prototype``Base``Derived`

归根结底，这都是关于对象（实例）的，它们要么直接使用（你的），要么通过克隆或将它们设置为另一个对象的原型来`sally`间接地通过向其他对象提供特性（`Person`、 ）来使用。`Root`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-15T05:11:44.453

Javascript 的继承是原型的，这意味着所有对象都是实例。您实际上必须做额外的工作才能获得经典继承。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-15T05:44:10.063

这就是我在 javascript 中的工作方式

```
// this is class
function person(){

    // data is member variable 
     this.name = null;
     this.id = null;

    //member functions 
     this.set_name = _set_name;
     this.get_name = _get_name;
     this.set_id = _set_id;
     this.get_id = _get_id;

 function _set_name(name){
    this.name = name;
 } 

 function _get_name(name){
    return this.name;
 }

     function _set_id(id){
    this.id = id;
 } 

 function _get_id(id){
    return this.id;
 }
}

// this is instance
var yogs = new person();

    yogs.set_id(13);
    yogs.set_name("yogs"); 
```

希望它可以帮助

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-02T05:41:52.243

从一些基本对象开始......

```
// javascript prototypes - callback example - javascript objects

function myDummyObject () {
    that = this;
} // end function myDummyObject ()

// begin dummy object's prototype
myDummyObject.prototype = {
    that : this,

    // add a simple command to our dummy object and load it with a callback entry
    say : function () {
        var that = this;

        console.log('speaking:');
        that.cb.run("doSay");
    }
} // end myDummyObject proto 
```

用子原型扩展..

```
// here we addon the callback handler... universally self sufficient object
var cb = {
    that : this, // come to papa ( a link to parent object [ myDummyObject ] )

    jCallback : new Array(new Array()),     // initialize a javascript 2d array 
    jCallbackID : -1,                       // stores the last callback id

    add: function(targetFnc, newFunc) {
        var that = this;
        var whichID = that.jCallbackID++;

        // target, addon, active
        that.jCallback[that.jCallback.length] =  { 'targetFunc' : targetFnc,  'newFunc' : newFunc,  'active' : true, 'id': whichID };

        return whichID; // if we want to delete this later...      
    }, // end add

    run: function(targetFnc) {
        var that = this;

        for(i=0;i <= that.jCallback.length - 1;i++) // go through callback list
            if( that.jCallback[i]['targetFunc'] == targetFnc  && that.jCallback[i]['active'] == true )
                that.jCallback[i]['newFunc'](); // run callback.
    }, // end run

    remove: function (whichID) {
        var that = this;
        console.log('removing:' + whichID); 

        for(i=0;i <= that.jCallback.length - 1;i++) // go through callback list
            if( that.jCallback[i]['id'] == whichID  )
                that.jCallback[i]['newFunc'](); // run callback.
    } // end remove
}                                                               

// add the object to the dummy object...
myDummyObject.prototype.cb = cb; 
```

例子：

```
var testing = new myDummyObject();

testing.cb.add('doSay', function () { console.log('test: 213123123'); } );

// test remove...
var testid = testing.cb.add('doSay', function () { console.log('test: 12sad31'); } );
testing.cb.remove(testid);

testing.cb.add('doSay', function () { console.log('test: asdascccc'); } );
testing.cb.add('doSay', function () { console.log('test: qweqwe'); } );
testing.cb.add('doSay', function () { console.log('test: d121d21'); } );
testing.cb.add('doSay', function () { console.log('test: wwww'); } );

testing.say(); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-07-22T19:06:47.140

这对我来说似乎总是最容易理解的......只需创建一个继承类的新实例，然后遍历它的变量和方法并将它们添加到主类中。

```
var myPerson = new Person()

var myPerson.firstName = 'john';
var myPerson.lastName = 'smith';
var myPerson.jobTitle = 'Programmer';    

var Person = function(){

    //Use this to inherit classes 
    this._extendedClass = new Person_Job();
    for(var i in this._extendedClass){
        this[i] = this._extendedClass[i];
    }
    delete this._extendedClass;

    this.firstName = '';
    this.lastName = '';
}

var Person_Job = function() {

    this.jobTitle = '';

} 
```

# jquery - 如何将 Jquery 对象转换为字符串？

> ID：10594378
> 
> 赞同：0
> 
> 时间：2012-05-15T05:00:51.837
> 
> 标签：jquery

我正在使用标签创建一个表。我能够捕获元素，但无法将其转换为字符串并执行条件检查。请帮忙！！

```
$(document).ready(function(){
    $('#user tr').each( function(){
           //add item to array
        var value = $(this).find(".user1").html();

        /********* want to do something like 

     if (value == "Y") {
       //apply a class
     }
     *************/

        }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T05:03:35.860

```
if (value === "Y") {
    $(this).find(".user1").addClass("a-class");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T05:06:05.853

如果您需要 html，则 find 返回结果集合，尝试生成非常具体的查找查询并选择第一个

```
var html = $(this).find(".user1").first().html(); 
```

但是在这种情况下可以使用 addClass，效果会好很多。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-15T05:09:41.693

使用 jquery 的 .get() 方法。

```
var value = $(this).find(".user1").get(0); 
```

现在您可以执行任何条件检查。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-15T05:34:52.050

jquery 的 html() 方法只抓取元素的内部 html。获取元素的实际 html 的最佳方法是使用

```
element.outerHTML; 
```

要做到这一点，尽管您实际上必须操作 dom 元素而不是 jquery 对象。

例如你会做这样的事情

```
var html = $(this).find(".user1").get(0).outerHTML; 
```

不过，这会将*所有*html 作为字符串返回，包括其内容，而不仅仅是标签的 HTML。因此，如果您只想要元素 HTML，我将克隆该元素并清空其 HTML 内容。

```
var tag = $(this).find(".user1").clone().html('').get(0).outerHTML; 
```

# c++ - Strange boost::this_thread::sleep behavior

> ID：10594386
> 
> 赞同：0
> 
> 时间：2012-05-15T05:02:49.787
> 
> 标签：c++, multithreading, boost

I was trying to implement small time delays in multithreading code using boost::this_thread::sleep. Here is code example:

```
{
    boost::timer::auto_cpu_timer t;//just to check sleep interval
    boost::this_thread::sleep(boost::posix_time::milliseconds(25));
} 
```

Output generated by auto_cpu_timer confused me little bit:

```
0.025242s wall, 0.010000s user + 0.020000s system = 0.030000s CPU (118.9%) 
```

Why it **0.025242s** but not 0.0025242s ?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T05:05:13.187

Because 25 milliseconds is 0.025 seconds; 0.0025 seconds would be 2.5 milliseconds.

# python - 未使用 Python 2.7 将数据插入 Sqlite3 数据库

> ID：10594395
> 
> 赞同：1
> 
> 时间：2012-05-15T05:03:41.127
> 
> 标签：python, sqlite, python-2.7

我无法将数据插入到我的表中。我有一个传递给函数 getStockData 的股票列表。

我使用 for 循环遍历列表并获取每个股票代码的数据。最后，我将所有信息放入字典中。我的最后一步是将数据插入到表中。我未能将字典中的数据插入到我的表中。

```
def getStockData(x):

   nowdate = raw_input("What Is Todays Date?: ")
   print "Todays list has %d stocks on it\n" % len(x)

   for stock in x:

        stockPrice = ystockquote.get_price(stock)

        stockPriceChange = ystockquote.get_change(stock)

        originalPrice = float(stockPrice) + (float(stockPriceChange) * -1)

        changePercentage = (float(stockPriceChange) / originalPrice) * 100

        stockDict = {'Date': nowdate, 'Ticker Symbol': stock, 'Closing Price': stockPrice, 
                 'Price Change': stockPriceChange, 'Percentage Changed': changePercentage} 

        conn = db.connect('stocks.db')
        cursor = conn.cursor()
        cursor.execute('insert into losers values (?, ?, ?, ?, ?)', (stockDict['Date'], stockDict['Ticker Symbol'], stockDict['Price Change'],
                                 stockDict['Percentage Changed'], stockDict['Closing Price']) )

        conn.close() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T05:59:52.140

我认为您忘记在关闭之前将数据提交到数据库。

尝试

```
conn.commit() 
```

# java - 是否可以使用 SAX Parser 解析大小为 800 MB 的大型 xml 文件

> ID：10594398
> 
> 赞同：0
> 
> 时间：2012-05-15T05:03:59.817
> 
> 标签：java, xml, saxparser

我正在解析`transxchange`数据，其中包含一些非常大的文件，接近**800 MB**。当我尝试解析这些文件时，出现以下错误。

```
Exception in thread "main" java.lang.OutOfMemoryError: Java heap space
=======================================================================
    at java.util.ArrayList.<init>(Unknown Source)
    at java.util.ArrayList.<init>(Unknown Source)
    at JourneyPatternSections.<init>(JourneyPatternSections.java:21)
    at ReadBusData.startElement(ReadBusData.java:131)
    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(Unknown Source)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(Unknown Source)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)
    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)
    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)
    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
    at javax.xml.parsers.SAXParser.parse(Unknown Source)
    at javax.xml.parsers.SAXParser.parse(Unknown Source)
    at ReadBusData.parseDocument(ReadBusData.java:51)
    at ReadBusData.<init>(ReadBusData.java:41)
    at ReadBusData.main(ReadBusData.java:218). 
```

我正在关注[本](http://www.javacodegeeks.com/2012/01/xml-parsing-using-saxparser-with.html)教程。
有谁能够帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T05:17:09.110

> 问：是否可以使用 SAX Parser 解析大小为 800 MB 的大型 xml 文件？

答：是的，当然！

问题不在于 SAX。SAX 实际上是处理大文件的*理想*选择。

问题显然发生在您的数组列表中。

它有多大？

其他结构有多大？

你真的*需要*存储你分配空间的所有数据吗？

您是否使用任何 VM 标志运行程序以分配更多内存？

*   [http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html](http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html)

你的电脑有多少内存？您可以在支持更多内存的 PC 上运行它吗？64位电脑？

您使用的是 64 位 JVM 吗？

建议：下载并试用 Visual VM 以在您的代码级别解决问题：

*   [http://visualvm.java.net/](http://visualvm.java.net/)

您可能会发现您分配的数据比您预期的要多得多。

恕我直言...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T05:14:48.103

增加堆大小，例如，使用`-Xmx1g`.

[请参阅此博客。](http://javahowto.blogspot.de/2006/06/6-common-errors-in-setting-java-heap.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-15T05:16:31.303

SAX 将成为解析大文件的最佳机制。DOM 解析会将整个文档加载到内存中，您会遇到问题。您可能会遇到问题，因为您试图将所有内容存储在某种集合中。SAX 非常适合解析 xml、处理它并继续前进。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-15T06:06:47.050

*创建您*正在创建的数据结构时发生错误。您需要减少正在使用的内存量或增加程序的内存量。

现在不是 1 GB。如果你可以给它 4 到 16 GB 这将使处理文件更简单。

# facebook-javascript-sdk - facebook发送对话框返回

> ID：10594403
> 
> 赞同：0
> 
> 时间：2012-05-15T05:04:28.133
> 
> 标签：facebook-javascript-sdk

有什么方法可以捕获发送对话框上的活动？

1.  正在发送什么消息？
2.  给谁？
3.  用户点击了“发送”或“取消”

我正在检查 facebook 发送对话框的返回参数，但找不到它。

谢谢你的建议。

拉克西特

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-26T21:57:51.210

Facebook 发送对话框非常有限。根据：[https](https://developers.facebook.com/docs/reference/dialogs/send/) ://developers.facebook.com/docs/reference/dialogs/send/ 您看不到发送了什么消息或发送给谁。回调参数中唯一的值可以是 null（取消命中）或空数组（在 Chrome 和 Firefox 中），表示发送了某些内容。

# django - 任何工具或插件可以使 Django 模板代码智能缩进和语法高亮成为可能？

> ID：10594406
> 
> 赞同：2
> 
> 时间：2012-05-15T05:05:07.540
> 
> 标签：django, templates, ide, syntax-highlighting, indentation

我是 django 的新手，我正在开发我的第一个 google appengine 应用程序。我使用 Pycharm 作为我的 IDE。在我的 HTML 文件中，**模板代码**没有**smart-indent 和 syntax-highlighting**，看起来很糟糕！是否有任何工具或插件来处理这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T06:30:21.280

你应该试试pycharm

[http://www.jetbrains.com/pycharm/](http://www.jetbrains.com/pycharm/)

# mysql - 在不更新所有记录位置字段的情况下将记录插入具有位置的表中

> ID：10594408
> 
> 赞同：2
> 
> 时间：2012-05-15T05:05:13.973
> 
> 标签：mysql, algorithm

我正在使用 MySQL，我没有很好的方法来做到这一点。

我有一个带有 position 的表`field`，我需要跟踪它的值从 1 到 10,000。

假设我在中间第 5000 个位置插入一条记录。所以位置5000到10000需要更新到新位置；老5000变成5001，5002变成5003……

当添加 1 个单一位置时，有没有一种很好的方法可以在不影响这么多记录的情况下实现这一点？

从第一个位置添加是最糟糕的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-15T05:07:39.853

我会重新考虑数据库设计。如果您将被限制在 10K 记录的数量级上，那还不错，但如果这将无限增加，那么您将想做其他事情。我不确定你在做什么，但如果你想要一个简单的排序（假设你没有做很多遍历），那么你可以有一个`prev_id`and`next_id`列来指示兄弟关系。不过，这是您的问题的答案：

```
update some_table 
set some_position = some_position + 1
where some_position > 5000 and some_position < 10000 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-17T09:54:52.937

```
You can try the below approach :

USE tempdb;
GO

CREATE TABLE dbo.Test
(
ID int primary key clustered identity(1,1) ,
OrderNo int, 
CreatedDate datetime
);

--Insert values for testing the approach
INSERT INTO dbo.Test 
VALUES
(1, GETUTCDATE()),
(2, GETUTCDATE()),
(3, GETUTCDATE()),
(4, GETUTCDATE()),
(5, GETUTCDATE()),
(6, GETUTCDATE());

SELECT * 
FROM dbo.Test;

INSERT INTO dbo.Test 
VALUES
(3, GETUTCDATE()),
(3, GETUTCDATE());

SELECT * 
FROM dbo.Test;

--To accomplish correct order using ROW_NUMBER()
  SELECT ID, 
  OrderNo, 
  CreatedDate, 
  ROW_NUMBER() OVER(ORDER BY OrderNo, ID) AS Rno
  FROM dbo.Test;

--Again ordering change
  INSERT INTO dbo.Test 
VALUES
(3, GETUTCDATE()),
(4, GETUTCDATE());

  SELECT ID, 
  OrderNo, 
  CreatedDate, 
  ROW_NUMBER() OVER(ORDER BY OrderNo, ID) AS Rno
  FROM dbo.Test

   DROP TABLE dbo.Test; 
```

# php - 使用 MVC 方法的 PHP 的 BDD

> ID：10594410
> 
> 赞同：0
> 
> 时间：2012-05-15T05:05:30.293
> 
> 标签：php, ajax, testing, tdd, bdd

有人可以解释一下如何使用 BDD 构建基于 MVC 模式的应用程序吗？

我看到了足够多的例子，但那时太愚蠢了（比如计算器）。

例如，我想构建（在我的情况下为 PHP）应用程序，它将通过 JSON 与客户端（浏览器 javascript）交互。我应该如何编写测试？我应该写什么？模型？控制器？意见？

在 TDD 中，很明显我必须测试某个类的特定方法（它可以是模型、控制器或视图）。但是对于 BDD，我必须从上层思考，并且应该测试功能，对吗？

还有一个问题：在我所看到的所有例子中，只有情景才是积极的。糟糕的情况呢？据我了解，这完全取决于我？我想写多少就写多少，对吧？而且，我将拥有更多，然后我的应用程序将更安全，对吧？

谢谢。

PS 和 PHP 我将使用 Behat。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:09:40.490

编写有意义的测试。

例如，在 MVC 应用程序中，业务逻辑位于模型中，因此您可以在单元测试中测试模型。您还可以在需要时使用真实模型和模拟/存根测试控制器。您可以编写使用视图的测试。您可以通过多种组合测试所有内容。

尝试从模型层中的测试开始，并测量测试的覆盖率。尝试非常务实:)

# http - 如何通过http请求获取RETS数据

> ID：10594415
> 
> 赞同：0
> 
> 时间：2012-05-15T05:06:08.763
> 
> 标签：http, rets

任何人都可以告诉我如何从 RETS 获取数据并存储在 Salesforce 对象中。RETS 2 为 SOAP 1.2 提供 WSDL，salesforce 无法将其转换为适当的类和函数。所以我一直在尝试使用来自 Salesforce 的 HTTP 请求。但是我没有得到任何关于使用 http 访问 RETS 数据的好文档。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-10T00:47:19.140

您无法通过 http 轻松访问 RETS 数据。

我建议使用您选择的语言使用 RETS 客户端，生成数据库，然后创建可以执行您想要的操作的 API。

[http://wiki.rets.org/wiki/Opensource#Clients](http://wiki.rets.org/wiki/Opensource#Clients)

# youtube - Bootstrap Modal vs Youtube Video z-index 问题

> ID：10594416
> 
> 赞同：4
> 
> 时间：2012-05-15T05:06:13.560
> 
> 标签：youtube, twitter-bootstrap, z-index

我在同一页面上使用 Twitter 引导模式和 Youtube 视频。我正面临 Z-Index 问题，其中视频显示在 Chrome 浏览器的模式窗口上方。

我该如何解决这个问题？

> [http://mink7.com/projects/cmrc/home.html](http://mink7.com/projects/cmrc/home.html)

![在此处输入图像描述](../Images/8242dda73976304e39753dbbbece268a.png)

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-12-25T15:13:27.973

您应该使用带有 ?wmode=transparent 参数的 YouTube 网址。

```
<iframe src="http://www.youtube.com/embed/EBSnWlpTPSk?wmode=transparent"></iframe> 
```

如果您包含您的对象/嵌入标签，那么您应该添加`<param name="wmode" value="opaque" />`对象标签，`wmode=transparent`嵌入标签。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-15T05:10:37.043

您放在页面上的 YouTube 视频是基于 Flash 的。Flash 对象在窗口顶部单独呈现，因为它们不是 HTML5 堆栈的一部分。Z-index 对这些没有影响。

参见例如[http://www.google.com/search?q=flash+z-index](http://www.google.com/search?q=flash+z-index)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-10T06:49:06.350

正如 Fatih 所建议的，解决方案是通过`wmode=transparent`. 对于 IFrame API，我使用了以下内容：

```
var player = new YT.Player(pContainer, {
            height: 300,
            width: 400,
            videoId: contentID,
            playerVars : {wmode: "transparent"},
            events: {
                ...
                }
            }
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-04-22T10:29:19.400

你可以很容易地解决这个问题。

采用：

```
 <param name="wmode" value="opaque" /> 
```

内部对象标签。

```
<object title="YouTube video player" width="480" height="390"   
data="http://www.youtube.com/embed/EBSnWlpTPSk"  
frameborder="0" wmode="Opaque">  
<param name="wmode" value="opaque" />
</object> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-07-01T10:10:29.093

现在不推荐使用 OBJECT 方法：

[https://developers.google.com/youtube/player_parameters](https://developers.google.com/youtube/player_parameters)

# php - 在 ImageMagick 中删除颜色

> ID：10594419
> 
> 赞同：1
> 
> 时间：2012-05-15T05:06:34.933
> 
> 标签：php, imagemagick

这可能是一个简单的问题，我使用 ImageMagick 和 php 代码。下面的命令工作正常。

exec("convert audi_png.png -bordercolor white -border 1x1 -alpha set -channel RGBA -fuzz 20% -fill none -floodfill +0+0 white -shave 1x1 piechart-logo.png");

但我只有十六进制颜色代码“#A52A2A”。我如何使用此代码并删除该图像中的颜色。请帮我。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T07:02:45.173

```
exec("convert audi_png.png -bordercolor \"#A52A2A\" -border 1x1 -alpha set -channel RGBA -fuzz 20% -fill none -floodfill +0+0 \"#A52A2A\" -shave 1x1 piechart-logo.png"); 
```

# c++ - 是否可以将花括号的文字数组作为构造函数中的参数发送？

> ID：10594424
> 
> 赞同：0
> 
> 时间：2012-05-15T05:07:33.053
> 
> 标签：c++

我不明白为什么可以这样做：

```
int numbers[] = {-4,3,0,100,2000};
Set d(5,numbers); 
```

但是尝试执行此操作时出现以下错误：

```
Set d(5,{-4,3,0,100,2000}); 
```

```
Error:
warning: extended initializer lists only available with -std=c++0x
         or -std=gnu++0x|
error: no matching function for call to
         'Set::Set(int, <brace-enclosed initializer list>)' 
```

构造函数：

```
Set::Set(int size, const int constSet[]) 
```

谢谢你的帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T05:10:54.237

这在 C++03 中是不允许的，但最新的标准 C++11 允许这样做。

请参阅：[https](https://en.wikipedia.org/wiki/C%2B%2B11#Initializer_lists) ://en.wikipedia.org/wiki/C%2B%2B11#Initializer_lists或此： [https ://www2.research.att.com/~bs/C++0xFAQ.html#init-list](https://www2.research.att.com/~bs/C++0xFAQ.html#init-list)

顺便说一句，您的构造函数实际上是在使用指针，而不是数组。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T05:25:33.443

由于您使用的是较新版本的 C++，因此在编译此代码时，请确保执行以下操作： `g++ -std=c++0x sample.cpp -o sample`

`-std=c++0x`当您使用较新版本的 c++ 时，这一点很重要

# multithreading - 忙等待和轮询有什么区别？

> ID：10594426
> 
> 赞同：13
> 
> 时间：2012-05-15T05:07:38.833
> 
> 标签：multithreading, polling, condition-variable, busy-waiting

来自维基百科关于[投票的文章](http://en.wikipedia.org/wiki/Polling_(computer_science))

> 轮询，或轮询操作，在计算机科学中，是指客户端程序主动采样外部设备的状态作为同步活动。轮询最常用于输入/输出 (I/O)，也称为轮询 I/O 或软件驱动 I/O。
> 
> 轮询有时与忙等待轮询（忙等待）同义使用。在这种情况下，当需要 I/O 操作时，计算机只会检查 I/O 设备的状态，直到它准备好，此时设备被访问。换句话说，计算机一直等到设备准备好。
> 轮询还指反复检查设备是否准备就绪，如果不是，则计算机返回其他任务的情况。尽管不像忙等待那样浪费 CPU 周期，但这通常不如轮询、中断驱动的 I/O 的替代方案那么有效。

那么，当一个线程不使用“条件变量”时，是否会因为数据变化而被称为“轮询”或“忙于等待”呢？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-05-15T05:19:00.393

两者之间的区别在于应用程序在轮询之间执行的操作。

如果一个程序每秒轮询一个设备，并且在没有数据可用的情况下同时执行其他操作（包括可能只是休眠，将 CPU 留给其他人使用），它就是轮询。
如果程序*连续*轮询设备（或资源或其他）而在两次检查之间没有做任何事情，则称为忙等待。

这与同步没有直接关系。阻塞条件变量（应在设备或资源可用时发出信号）的程序既不是轮询也不是忙等待。这更像是事件驱动/中断驱动的 I/O。
（但例如，围绕 a 循环的线程`try_lock`是一种轮询形式，如果循环很紧，可能会忙于等待。）

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-05-15T05:20:53.497

假设有一个微处理器或微控制器，当它注意到按钮被按下时，它应该执行一些操作。

第一种方法是让程序进入一个循环，该循环除了查看按钮是否已更改外，什么都不做，一旦更改，就执行所需的操作。

在某些情况下，第二种方法是对硬件进行编程以在按下按钮时触发中断，假设按钮已连接到已连接的输入，因此它可能会导致中断。

第三种方法是配置一个计时器以某种速率（例如，1000x/秒）中断处理器，并让该中断的处理程序检查按钮的状态并对其采取行动。

第一种方法使用忙等待。它可以为一种特定的刺激提供非常好的响应时间，但代价是完全忽略其他一切。第二种方法使用事件触发中断。它通常会提供比忙等待稍慢的响应时间，但允许 CPU 在等待 I/O 时做其他事情。它还可能允许 CPU 进入低功耗睡眠模式，直到按下按钮。第三种方法提供的响应时间远低于其他两种方法，但即使硬件不允许按钮按下触发中断，也可以使用。

在需要快速响应的情况下，通常需要使用事件触发中断或忙等待。然而，在许多情况下，轮询方法可能是最实用的。可能不存在支持人们可能感兴趣的所有事件的硬件，或者人们感兴趣的事件的数量可能大大超过可用中断的数量。此外，某些条件可能需要生成延迟响应。例如，假设一个人希望计算开关被激活的次数，符合以下标准：

1.  每个合法的开关事件都包含一个从 0 到 900us（微秒）的时间间隔，在此期间开关可以任意关闭和重新打开，然后是至少 1.1ms 的时间间隔，在此期间开关将保持关闭状态，然后是从 0 到900us，在此期间开关可以任意分闸和重合闸，随后有至少1.1ms的间隔，在此期间开关将分闸。
2.  在任何未忽略的开关打开或关闭后，软件必须忽略开关的状态达 950us。
3.  允许软件任意计数或忽略在上述要求的消隐间隔之外发生但持续时间小于 1.1ms 的开关事件。
4.  软件上报的计数必须在开关稳定“闭合”后的 1.99ms 内有效。

执行此要求的最简单方法是以 1,000x/秒的速度观察交换机的状态；如果在前一个状态为“打开”时看到“关闭”，则增加计数器。非常简单易行；即使开关以各种奇怪的方式打开和关闭，在真实事件之前和之后的 900us 期间，软件也不会在意。

可以使用开关输入触发的中断和定时器来对开关输入产生更快的响应，同时满足所需的消隐要求。最初，输入将在下次开关闭合时触发。一旦中断被触发，软件会禁用它，但会设置一个定时器以在 950us 后触发中断。一旦该计时器到期，它将触发一个中断，该中断将在下次开关“打开”时触发中断。该中断将依次禁用开关中断并再次将定时器设置为 950us，因此定时器中断将再次重新启用开关中断。有时这种方法很有用，但软件比简单的轮询方法复杂得多。当基于计时器的方法足够时，

在使用多任务操作系统而不是直接中断的系统中，许多相同的原则都适用。与在某些事件发生之前操作系统不会运行的代码相比，定期 I/O 轮询会浪费一些 CPU 时间，但在许多情况下，事件响应时间和没有事件发生时浪费的时间量在使用时都是可以接受的定期轮询。实际上，在某些缓冲 I/O 情况下，定期轮询可能会非常有效。例如，假设一个人正在通过串口从远程机器接收大量数据，每秒最多会到达 11,520 个字节，设备将在最后一个确认的数据包之前发送最多 2K 的数据，并且串口有4K 输入缓冲区。虽然可以使用“数据接收”事件处理数据，简单地检查端口 100x/秒并处理到目前为止收到的所有数据包可能同样有效。当远程设备不发送数据时，这种轮询会浪费时间，但如果预期传入数据，则以大约 1.15K 的块处理它可能比处理每一小块传入数据更有效它进来了。

# ruby - 设计模式/关于构建规则引擎的建议

> ID：10594428
> 
> 赞同：2
> 
> 时间：2012-05-15T05:07:58.833
> 
> 标签：ruby, dsl, rules, business-rules, rule-engine

我需要构建一个应用程序（Ruby），允许用户选择一个或多个模式，以防这些模式匹配以继续并完成一组操作。在进行研究时，我发现了基于规则的系统的新（对我而言）领域，并花了一些时间阅读它，它似乎正是我需要的那种功能。

该应用程序将与不同的 Web 服务集成，并允许以下规则：

添加 Highrise 联系人并创建 Zendesk 票证后，请添加电子邮件到数据库

我有两个想法来构建它。第一个是构建某种 os DSL，以便能够指定规则条件并在用户输入的情况下即时构建它们。

第二个是构建一些规则类，每个类都有一个模式/匹配器和操作方法。该模式将评估表达式并返回真或假，如果匹配为正则将执行操作。

然后需要保留规则，然后定期评估。

任何人都可以对这个设计有所了解或指出我可以获得更多信息的地方吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-24T11:13:50.303

在诸如 Drools、FlexRule 等商业规则引擎中，模式匹配由 RETE 算法处理。而且，它们中的一些为不同的逻辑提供多个不同的引擎，例如程序、验证、推理、流程、工作流……它们还提供 DSL 定制……规则排序和执行是基于议程和激活来处理的在引擎上定义。冲突解决策略将帮助您找到适当的触发方式。

我建议您使用托管在主机/服务上的商业产品。并使用简单的 Json/Xml 格式与规则服务器通信并执行您的规则。这可能会比创建自己的结果更好。但是，如果您有兴趣创建自己的模式匹配引擎，请考虑 RETE 算法、议程和复杂生产系统的激活机制。

在 RETE 算法中，您至少可以考虑实现正面和负面条件。在实现 RETE 时，您需要实现 beta 和 alpha 内存以及支持左右激活的 ad join 节点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T00:26:24.550

你认为你可以用基于图形的表示来表示你的问题吗？我很确定您的问题可以被视为基于图形的问题

如果是，您为什么不使用图形转换系统来定义和应用您的规则。我推荐的是 GrGen.NET。GrGen.NET 的使用建立在五个步骤之上

1.  **元模型的定义：**在这里，您定义构建块，即图节点和图边的类型。
2.  **规则集的定义：**这是您可以放置​​模式检测规则的地方。此外，您可以创建规则封装程序来操作基于图形的数据结构。
3.  **编译：**基于前面两个步骤，创建了一个 C# 程序集（DLL）。应该有一种方法可以从 Ruby 访问这样的 DLL。
4.  **规则序列的定义：**规则序列包含执行各个规则的结构。通常，它是一种逻辑结构，其中规则连接在一起。
5.  **图转换：**在 DLL 上应用规则序列会导致图的转换，随后可以导出、保存或进一步操作。

你可以在这里找到一本非常好的 GrGen.NET 手册：http: [//www.info.uni-karlsruhe.de/software/grgen/GrGenNET-Manual.pdf](http://www.info.uni-karlsruhe.de/software/grgen/GrGenNET-Manual.pdf)

# iphone - iphone - 没有视图控制器的应用程序中的后退按钮

> ID：10594430
> 
> 赞同：0
> 
> 时间：2012-05-15T05:08:04.940
> 
> 标签：iphone, navigation

我对 iPhone 应用程序完全陌生。我正在创建一个 iphone 应用程序，它是用 HTML 和 jquery 设计的，带有 phonegap。我想在顶部包含一个后退按钮，就像 iphone 中的默认按钮一样。我在网上搜索，但我发现所有需要的视图控制器。我没有多个视图，所以我如何在我的应用程序中包含一个后退按钮。逐步解释将非常有帮助。

提前致谢..：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:56:25.877

UINavigationController 是 iOS 框架中的原生控件。当您使用 HTML、jQueryMobile 和 phonegap 时，您不应该查看这些控件。为此，您应该完全使用 HTML 页面和 CSS。

下面的页面包含 jquery mobile 中的后退按钮。你应该在你的 html 页面中实现它。

[http://jquerymobile.com/test/docs/toolbars/docs-headers.html](http://jquerymobile.com/test/docs/toolbars/docs-headers.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T05:18:57.170

如果您没有多个视图，为什么要包含“后退”按钮？您究竟将导航“返回”到什么位置？

“网络”是正确的，你需要一个`UINavigationController`“后退”按钮，它会弹出一个视图到前一个视图。

除了 UINavigationController，您还可以使用 UIToolbar 并在左上角设置一个按钮，并将其命名为“Back”以模拟原生外观——但这会产生误导且毫无意义。

我不使用PhoneGap，但我确信有一种方法可以模拟NavigationController 并在那里手动放置一个按钮。我也确信它的形状也不会像后退按钮（尖端）。

> `javascript:history.go(-1)`

# php - 在 PHP 中将 FTP 文件从源复制到目标

> ID：10594433
> 
> 赞同：0
> 
> 时间：2012-05-15T05:09:03.440
> 
> 标签：php, apache, ftp, fopen, fwrite

我有一个脚本，它连接我的源 FTP 和目标 FTP，并将所有文件从源复制到目标现在我已经更改了我的服务器，它返回给我这些错误 ftp 连接悬念但没有复制文件只是创建文件。我的代码写在下面。

```
$ftp1 = new ClsFTP("$user1","$pass1", "$site1");
if(!$ftp1)
{
    echo "could not connect";
    exit;
}

$ftp2 = new ClsFTP("$user2","$pass2", "$site2");

$mod = "0755";

$dir_list[] = "httpdocs";

for($i=0;$i<count($dir_list); $i++)
    {
        echo "<br>Copying Directory: " . $dir_list[$i];
        if(!$ftp1->cd($dir_list[$i]))
        {
            echo "1::$site1 could not open directory: $dir_list[$i]. skipping<br>\n";
            continue;
        }
        if(!$ftp2->cd($dir_list[$i]))
        {
            echo "2::$site2 could not open directory: $dir_list[$i]. Trying to create it<br>\n";
            if(!$ftp2->mkdir($dir_list[$i]))
            {
                echo "2::$site2 could not create directory: $dir_list[$i]. skipping<br>\n";             
                continue;
            }
            if(!$ftp2->cd($dir_list[$i]))
            {
                echo "2::$site2 could not open directory: $dir_list[$i]. skipping<br>\n";
                continue;
            }
        }

        if($dir_list[$i]=="httpdocs/tmpupload"){

        }else{
        $dir_rawlist = $ftp1->rawlist();
        $dir_nlist = $ftp1->nlist();
        $ftp1->p($dir_rawlist);
        #$ftp1->p($dir_nlist);      
        for($k = 0; $k<count($dir_nlist); $k++)
        {   
            if($dir_list[$i]=="httpdocs/includes" && $dir_nlist[$k]=="cert_key_pem.txt"){
                continue;
            }
            if($dir_list[$i]=="httpdocs" && $dir_nlist[$k]=="PayPal.class.php"){
                continue;
            }

            $size = $ftp1->check_file($dir_nlist[$k]);
            if($size >0)//substr($dir_rawlist[$k], 0, 1)=='-')//its a file
            {
                $ftp1->get("tmp/".$dir_nlist[$k], $dir_nlist[$k]);
                $handle = fopen("tmp/".$dir_nlist[$k], 'r');
                $contents = fread($handle, filesize("tmp/".$dir_nlist[$k]));
                fclose($handle);
                $contents = str_replace($search_for, $replace_with, $contents);
                $handle = fopen("tmp/".$dir_nlist[$k], 'w');
                fwrite($handle, $contents);
                fclose($handle);
                $ftp2->put($dir_nlist[$k], "tmp/".$dir_nlist[$k]);

                $ftp2->chmod($dir_nlist[$k], $mod);
            }
        }

    }

        $ftp1->cd("/");
        $ftp2->cd("/");

    } 
```

这些由脚本引发的警告。

```
Warning: ftp_get(): Error opening tmp/InviteFriend2.php in /var/www/vhosts/virtualphoneline.com/httpdocs/includes/ftp.class.php on line 120

Warning: fopen(tmp/InviteFriend2.php): failed to open stream: Permission denied in /var/www/vhosts/virtualphoneline.com/httpdocs/includes/clone.php on line 228

Warning: fwrite() expects parameter 1 to be resource, boolean given in /var/www/vhosts/virtualphoneline.com/httpdocs/includes/clone.php on line 229

Warning: fclose() expects parameter 1 to be resource, boolean given in /var/www/vhosts/virtualphoneline.com/httpdocs/includes/clone.php on line 230 
```

# objective-c - Objective C, Cocoa, 参数引用 - ITK #Cocoa

> ID：10594437
> 
> 赞同：0
> 
> 时间：2012-05-15T05:09:19.993
> 
> 标签：objective-c, xcode, cocoa, itk

我是 Cocoa 和 XCode 的新手，我想得到你的帮助。我制作了 XIB 窗口的控制器，并启动了我的窗口，我有一个我希望我的控制器需要的参数，你设置了参数，但是当我单击一个按钮并且我需要恢复参数时，该值是 nill 或空的。

例如...

我有

```
#import <Cocoa/Cocoa.h>
#import "ITKExample1Filter.h"
#import "Helper.h"

@interface VentanaGraficaController1 : NSWindowController {
    ViewerController* _viewerController;
    IBOutlet NSComboBox *combo;
    IBOutlet NSTextField *windowLevelTextField;
    IBOutlet NSTextField *windowWidhTextField;
    NSString *cad_;
}

@property NSString *cad;
@property ViewerController* viewerController;
//Metodos
- (IBAction) converToRGB: (id)sender;
- (IBAction) initAux: (id)sender; 
- (void) initController : (ViewerController*) vc: (int) n;

@end 
```

* * *

```
@implementation VentanaGraficaController1

//Parametros que sintetizaremos para manejar los valores por referencia
@synthesize viewerController = _viewerController;
@synthesize cad = cad_;

// .....

- (IBAction) converToRGB: (id)sender {
    NSAlert *a = [NSAlert alertWithMessageText:cad_   
                                 defaultButton:@"OK"
                               alternateButton:@"Cancel"
                                   otherButton:nil
                     informativeTextWithFormat:@"Cadena por syntetise"];
    [a runModal];
}
// ..... The rest 
```

我使用我的控制器如下：

```
VentanaGraficaController1 *controller = [[VentanaGraficaController1 alloc] initWithWindowNibName:@"VentanaGraficaController1"];

[controller setViewerController:viewerController];
[controller setViewerController:(viewerController)];
[controller setCad:@"works??"];
controller.viewerController = viewerController;

controller.cad = @"works??";
[controller showWindow:nil]; 
```

当我显示 NSSAlert 时，它总是将我显示`cad_`为空白或空字符串，我尝试了很多方法，但我不知道为什么我失去了价值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T06:05:48.803

看起来你没有告诉你的控制器保留你的属性。

你有

```
@property NSString *cad;
@property ViewerController* viewerController; 
```

默认为分配值，这意味着它们可能会在您身上消失。

尝试将这些行更改为：

```
@property (strong) NSString *cad;
@property (strong) ViewerController* viewerController; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T03:40:08.157

我正在尝试在我的 XIB 控制器中通过引用设置 NSString 的值

```
@interface VentanaGraficaController1 : NSWindowController {
    ViewerController* _viewerController;
    IBOutlet NSComboBox *combo;
    IBOutlet NSTextField *windowLevelTextField;
    IBOutlet NSTextField *windowWidhTextField;
    NSString *cad_;
}

@property(strong) NSString *cad;

@end

And In my .m file I have the Action of the Button With this Code....

@implementation VentanaGraficaController1

//Parametros que sintetizaremos para manejar los valores por referencia
@synthesize viewerController = _viewerController;
@synthesize cad = cad_;

- (id)initWithWindow:(NSWindow *)window 
{
    self = [super initWithWindow:window];

    if (self) {
        // Initialization code here.

    }

    return self;
}

- (IBAction) converToRGB: (id)sender {
    NSAlert *a = [NSAlert alertWithMessageText: 
                                 cad_
                                 defaultButton:@"OK" alternateButton:@"Cancel"

                                   otherButton:nil informativeTextWithFormat:

                  @"Just a Test"];
    [a runModal];
} 
```

在我的代码中......

```
 VentanaGraficaController1 *controller = [[VentanaGraficaController1 alloc] initWithWindowNibName:@"VentanaGraficaController1"]; 
   controller.cad = @"My striiiiing"; 
   [controller showWindow:nil]; 
   return 0; 
```

就是这样，我的意思是我有其他对象是我真正需要发送的对象，但是如果我不能发送 NSString 出于同样的原因，我有将近 2 天的时间。

我也使用了setter，但是我得到了相同的结果，当我打印带有NSSAlert的NSString时，它将字符串打印为Empty或Nill

# java - wicket LoadableDetachable 模型的工作原理

> ID：10594439
> 
> 赞同：2
> 
> 时间：2012-05-15T05:09:32.763
> 
> 标签：java, wicket

我试图了解 Wicket LoadableDetachable 模型是如何工作的。我从 Wicket 文档中了解到的情况是在正常情况下，当请求完成处理时，wicket 将自动序列化具有关联模型值的所有组件。这会消耗更多的内存。如果我们在序列化时使用 LoadableDetachable 模型，则模型值将不会被序列化。这是正确的吗？. 所以它会自动分离模型对象。那么对于下一个请求，模型值会自动重新加载吗？请参阅我的以下代码。

```
public class ProductListPanel extends Column<Product> {

    @SpringBean
    private ProductService productService;
    private List productList;

    public ProductListPanel(String id) {
        super(id);
        class ProductModel extends LoadableDetachableModel {

            @Override
            public void detach() {
                // TODO Auto-generated method stub
                productList = null;
                System.out.print("Called Detach Object\n");
            }

            @Override
            protected Object load() {
                // TODO Auto-generated method stub
                productList = productService.findAll();
                System.out.print("Called Get Object\n");
                return productList;
            }

        }
        System.out.print("Before creating also calling\n");
        final ProductModel productModel = new ProductModel();

        ListView view = new ListView("list", productModel) {

            protected void populateItem(ListItem item) {
                System.out.print("\nBefore start also calling\n");
                System.out.print("Before this one is callling \n");
                Product result = (Product) item.getModelObject();
                item.add(new Label("code", result.getCode()));
                item.add(new Label("name", result.getName()));
                final Link deleteLink = new Link("remove", item.getModel()) {

                    @Override
                    public void onClick() {
                        Product product = (Product) getModelObject();
                        productService.delete(product);

                    }

                };
                item.add(deleteLink);

            }
        };

        add(view);
        Link addProductLink = new Link("addProduct") {

            @Override
            public void onClick() {
                // TODO Auto-generated method stub
                setResponsePage(new AddProduct());
            }

        };
        add(addProductLink);
        productModel.detach();
    }
} 
```

在上面的代码中，我列出了数据库中的所有产品。我有每个产品的删除链接，当我们单击该链接时，我正在从数据库中删除产品。单击删除链接后，页面未刷新意味着它仍然显示已删除的产品。如果我添加这一行 productModel.detach(); 然后它工作正常。我的问题是为什么我必须调用 productModel.detach(); 手动？LoadableDetachableModel 假设自动做对吗？

请帮我

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-05-15T06:25:18.203

`LoadableDetachableModel`在附加的持续时间内缓存检索到的对象。当您`load`从数据库中获取数据时，所有项目都在那里。然后执行查询以删除记录，但不更新列表。因此，您要么必须更改`onClick`处理程序以**更新**检索到的列表，要么只需分离模型。

LoadableDetachableModel 没有魔法。看看下面的代码：

```
List<Person> people = dao.getListOfPeopleAttendingParty();

// assume that the number of people attending the party is 4
assert people.size() == 4;

Person guest = people.get(0);
dao.delete(guest);

// what is the number of people attending the party now?
assert people.size() == ?; 
```

你认为`people.size()`现在是什么？

LoadableDetachableModel 的执行与上面的代码片段没有任何不同：

```
List<Person> people = peopleModel.getObject(); // is called by ListView

// assume that the number of people attending the party is 4
assert people.size() == 4;

Person guest = people.get(0);
dao.delete(guest);

// what is the number of people attending the party now?
assert people.size() == ?; 
```

所以：不涉及魔法，只是简单的 Java 和普通逻辑。

PS。*这两个问题的答案都是**4**，即使数据库不再持有客人*

# plugins - PhoneGap Build & NativeControls & Local Notification 插件

> ID：10594443
> 
> 赞同：0
> 
> 时间：2012-05-15T05:09:41.880
> 
> 标签：plugins, cordova, phonegap-plugins

我使用 NativeControls 插件（用于 Tab Bar）以及使用 XCode 的本地通知插件创建了一个 phonegap 应用程序。它适用于 iphone 模拟器。但就 phonegap 构建而言，设备中既没有看到标签栏，也没有触发本地通知。我按照[https://build.phonegap.com/docs/plugins](https://build.phonegap.com/docs/plugins)的说明，将这两个插件都包含在 config.xml 的功能标签中，但徒劳无功。请帮助一些教程或文档。我搜索了很多，但到处都找到了 Childbrowser 插件的说明。是不是 nativecontrols 或本地通知与 phonegap 构建不兼容而 childbrowser 兼容？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T06:23:06.290

在同一个 URL 上，有一个部分显示“支持的插件”。现在唯一的一个是子浏览器。所以 PhoneGap Build 不支持 NativeControls 和 LocalNotification。

# ruby - Ruby 中的类变量

> ID：10594444
> 
> 赞同：1
> 
> 时间：2012-05-15T05:09:58.947
> 
> 标签：ruby, class-variables

我从[本教程](http://www.ruby-doc.org/docs/ProgrammingRuby/html/tut_classes.html)中遇到了以下示例：

```
class Song
  @@plays = 0

  def initialize(name, artist, duration)
    @name = name
    @artist = artist
    @duration = duration
    @plays = 0
  end

  def play
    @plays += 1
    @@plays += 1
    "This song: #@plays plays. Total #@@plays plays."
  end
end

s1 = Song.new("Song1", "Artist1", 234)    # test songs
s2 = Song.new("Song2", "Artist2", 345)   

puts s1.play
puts s2.play
puts s1.play
puts s1.play 
```

@@plays 是否只能在 Song 类中礼貌地访问？[该评论](http://www.oreillynet.com/ruby/blog/2007/01/nubygems_dont_use_class_variab_1.html)提出了不建议使用类变量的观点。是 b/c 它们在日常使用中通常不需要，并且在使用时会产生很多调试问题？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-05-16T08:02:45.200

类变量从来都不是真正需要的。但原因不是它们是共享状态。我的意思是，尽可能避免共享状态是件好事，但这并不是真正的问题。

不推荐它们的原因是，如那篇文章所示，它们**确实令人困惑**。特别是，一个类的类变量由它的子类和它的子类的实例共享。例如：

```
class Parent
end

class Child1 < Parent
  @@class_var = "Child1's"
end

class Child2 < Parent
  @@class_var = "Child2's"
end 
```

使用此代码， Child1 及其实例都将看到一个`@@class_var`以 value命名的类变量，`"Child1's"`而 Child2 及其实例都将看到一个以`@@class_var`value命名的类变量`"Child2's"`。但假设稍后我们重新打开 Parent 并写下：

```
class Parent
  @@class_var = "Parent's"
end 
```

现在 Parent 和它创建的实例都将看到一个名为`@@class_var`value的类变量`"Parent's"`。**但这还不是全部**。现在父类有了这个变量， Child1 和 Child2 突然共享这个变量，所以所有的`@@class_var`s 都有 value `"Parent's"`。如果您重新分配 Child1 中的变量，它仍然是共享的，因此所有类都会更新。多么混乱！

除了类变量，您可以只使用类的实例变量，如下所示：

```
class Parent
  @class_var = "Parent's"
  def self.class_var
    @class_var
  end
end

class Child1 < Parent
  @class_var = "Child1's"
end

class Child2 < Parent
  @class_var = "Child2's"
end 
```

现在，`Parent.class_var`将返回“Parent's”，`Child1.class_var`将返回“Child1's”并`Child2.class_var`返回“Child2's”——正如您所期望的那样。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T05:52:56.550

类变量是在类的所有实例之间共享的变量。这意味着从此类实例化的所有对象仅存在一个变量值。这意味着，如果一个对象实例更改了变量的值，那么对于所有其他对象实例，该新值本质上也会发生变化。考虑类变量的另一种思维方式是在单个类的上下文中作为全局变量。

```
@@plays #is a class variable
@plays  #is an instance variable
$plays  #is a global variable accessed outside a class 
```

因此，在您的示例中，您创建了一个类变量 @@plays 来计算所有歌曲播放的歌曲总数。由于它是类变量，因此不能单独在类外访问。如果您想访问总播放次数，可以使用全局变量。它们以美元符号 $plays 开头（在您的情况下）。我警告你，你应该远离使用全局变量，因为它们有很多问题。您可能会考虑的一件事是创建一个将所有歌曲实例推送到数组中的方法。然后，您可以通过迭代器对所有歌曲的所有播放进行求和。更安全，更不容易出现程序员错误。

编辑：这就是全局变量不好的原因

[全局变量不好吗？](https://stackoverflow.com/questions/484635/are-global-variables-bad)

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2012-05-15T05:39:29.583

@@ 变量将是一个类变量。这通常是不好的做法。在您的代码中它是多余的，因为 @plays == @@plays （除非您在代码中的其他位置设置 @@plays （不好的做法））

事实上，现在我看它，它们并不完全一样。@plays 会记录一首歌曲的播放次数，@@plays 会记录所有歌曲的数量。尽管如此，使用@@plays 可能是不好的做法。通常，你会有一个像“Player”这样的父类来管理所有的歌曲。在“Player”类中应该有一个名为@total_plays 的实例变量。

# google-chrome - 带有 webGL drawElements 的 INVALID_ENUM

> ID：10594446
> 
> 赞同：3
> 
> 时间：2012-05-15T05:10:12.737
> 
> 标签：google-chrome, webgl, inspector

我正在编写自己的**webGL 引擎/框架**，但发生了一些奇怪的事情：我正在
绘制一个简单的平面（2 个三角形，仅用于测试）几何

`gl.drawElements( drawMode , geometry.numItems , gl.UNSIGNED_SHORT , 0 ) ;`
其中drawmode是一个`gl.TRIANGLES`存储变量，
是`geometry.numItems`索引数组的长度。
所有其他缓冲区和东西都已正确设置。事实上，对象渲染OK...

但是在chrome中使用webGL检查器检查调试跟踪我总是看到错误
**“drawElements（TRIANGLES，6，UNSIGNED_SHORT，0）”为INVALID_ENUM。**
使用这种几何图形和任何其他几何图形。

[来自 webGL 检查器的屏幕截图显示了问题](http://i.stack.imgur.com/2TdhR.jpg)
所以我不明白这里出了什么问题，以及为什么如果出现问题那么对象渲染正常。
任何想法 ？

# css - 如何恢复本地服务器中损坏的 css 文件的数据？

> ID：10594447
> 
> 赞同：0
> 
> 时间：2012-05-15T05:10:14.700
> 
> 标签：css, data-recovery

当我正在编辑我的一个 css 文件时，电源意外断电。电源恢复后，我检查了文件是否正常，但不是......它已损坏，在记事本中打开时显示空字符但文件大小不为零。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T05:20:35.293

如果您使用 chrome 或其他浏览器，只需在电源关闭后第一次打开时询问您时提供恢复选项。恢复过程后转到“显示代码”选项，复制并粘贴代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-08-03T13:47:41.587

我最近遇到了同样的问题，我找到了解决方案。有一个带有扩展名的损坏文件`.TMP`。要修复它，请下载`Notepad++`然后转到该`.TMP`文件并使用`Notepad++`. 您可以`css`在其中找到所有代码。只需复制并粘贴到另一个空白`css`文件中，然后将该文件包含在您的`html`文件中即可。就这样。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-07-21T14:35:14.973

我刚才遇到了同样的问题……我已经找到了解决方案……而且很简单。

安装这个软件叫做：[Mini Tool Power Data Recovery](https://www.powerdatarecovery.com/)

它是免费的，安装后，从第一个屏幕中选择“**损坏的分区恢复**”并导航到损坏的文件的位置，然后通过复选框选择每个损坏的文件或整个文件夹。

然后单击“保存”并选择保存恢复文件的位置。就是这样，您现在应该在那里看到原始未损坏的文件。

感谢**Mini Tool Power Data Recovery**。

***有用的链接：***

*[https://www.powerdatarecovery.com/data-recovery-resources/corrupt-files.html](https://www.powerdatarecovery.com/data-recovery-resources/corrupt-files.html) [https://www.powerdatarecovery.com/free-file-recovery-software/how-to-recover-data-after-hard -drive-crash.html](https://www.powerdatarecovery.com/free-file-recovery-software/how-to-recover-data-after-hard-drive-crash.html)*

# python - 带包的 Zipimport

> ID：10594448
> 
> 赞同：5
> 
> 时间：2012-05-15T05:10:24.227
> 
> 标签：python, import, importerror

我正在尝试将[pychess](http://code.google.com/p/pychess/source/browse/#hg/lib/pychess)包打包成一个 zip 文件并使用 zipimport 将其导入，但遇到了一些问题。

我已经使用以下脚本将其打包成一个 zipfile，该脚本有效：

```
#!/usr/bin/env python
import zipfile
zf = zipfile.PyZipFile('../pychess.zip.mod', mode='w')
try:
    zf.writepy('.')
finally:
    zf.close()
for name in zf.namelist():
    print name 
```

但是，我无法在我的代码中进行复杂的导入：

```
z = zipimport.zipimporter('./pychess.zip.mod')
#z.load_module('pychess') # zipimport.ZipImportError: can't find module 'pychess'
#z.load_module('Utils.lutils') # zipimport.ZipImportError: can't find module 'Utils.lutils'
Utils = z.load_module('Utils') # seems to work, but...
from Utils import lutils
#from Utils.lutils import LBoard  # ImportError: No module named pychess.Utils.const 
```

如何从 zip 文件中导入，例如 pychess.Utils.lutils.LBoard？

这是我需要导入的模块的完整列表：

```
import pychess
from pychess.Utils.lutils import LBoard
from pychess.Utils.const import *
from pychess.Utils.lutils import lmovegen
from pychess.Utils.lutils import lmove 
```

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-17T06:30:40.177

假设您有一个解压的 pychess，导致当前目录中有一个 pychess-0.10.1 目录并且 pychess-0.10.1/lib/pychess 存在（我从解压 pychess-0.10.1.tar.gz 中获得了该目录）。

首轮：

```
#!/usr/bin/env python

import os
import zipfile

os.chdir('pychess-0.10.1/lib')
zf = zipfile.PyZipFile('../../pychess.zip', mode='w')
try:
    zf.writepy('pychess')
finally:
    zf.close()
for name in zf.namelist():
    print name 
```

之后，这有效：

```
#!/usr/bin/env python

import sys
sys.path.insert(0, 'pychess.zip')

from pychess.Utils.lutils import LBoard 
```

# javascript - 我正在尝试在这个基本的 xhtml 页面上使用 JavaScript 和 XPath……但我没有得到任何结果？

> ID：10594449
> 
> 赞同：1
> 
> 时间：2012-05-15T05:10:25.060
> 
> 标签：javascript, xpath, xhtml

如标题所述，这是我的基本 xhtml 页面：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>An XHTML 1.0 Strict standard template</title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <script type="text/javascript">
        var headings = document.evaluate('//h2', document, null, XPathResult.ANY_TYPE, null );
        var thisHeading = headings.iterateNext();  

        var alertText = 'Level 2 headings in this document are:\n'  

        while (thisHeading) {  
            alertText += thisHeading.textContent + '\n';  
            thisHeading = headings.iterateNext();  
        } 

        console.log(alertText);
    </script>

</head>

<body>

 <h2>… Your HTML content here …&lt;/h2>

</body>
</html> 
```

输出是：

`Level 2 headings in this document are:`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T05:15:47.353

Web 浏览器从上到下处理 html。您的脚本在页面的其余部分存在之前运行。将其向下移动，或在窗口 onload 事件上执行代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T08:01:38.677

第 1 个 XPath 错误：您的内容在命名空间中，但您在非命名空间中搜索它。您需要 //x:h2，前缀 x 绑定到 XHTML 命名空间。

# javascript - 菜单“登录”的 jquery 悬停或 Javascript mouseout 事件

> ID：10594456
> 
> 赞同：0
> 
> 时间：2012-05-15T05:11:15.043
> 
> 标签：javascript, jquery, html, jquery-ui, javascript-events

我有站点[http://change.is](http://change.is)，我有一个 jQuery 或 javascript 问题的菜单项“登录”。

当用户悬停“登录”时，会调用一个 jQuery 函数来显示上部标题 div。但是现在我在上标题 div“login-header”的 mouseout 中遇到了问题，以隐藏上标题 div“login-header”。它不工作。

由于这个上部 div “login-header”包含另外 2 个 div “welcome-div”和“sing-in-all-forms”，因此调用了主“login-header”的 mouseout 事件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:24:55.023

使“login-header” div 足够大，以便在单击“登录”时容纳栏和放置在其上方的内容，因此在输入这些内容时不会“鼠标移出”。

# ruby-on-rails - 强制路由退出 Rails 3.2 中的子域

> ID：10594457
> 
> 赞同：0
> 
> 时间：2012-05-15T05:11:29.477
> 
> 标签：ruby-on-rails, routes

我正在努力退出子域备份到 Rails 3.2 中的根域。

假设我有一个带有仪表板的博客。每个用户都有一个子域`username.blog.com`。每个用户也有一个仪表板在`blog.com/dashboard`。

如果用户手动输入`username.blog.com/dashboard`，我希望他们被重定向到`blog.com/dashboard`.

我已经尝试`subdomain => false`在我的路线中使用，但它似乎没有用。我还在域范围下尝试了一个匹配器，但这也没有用。任何帮助将不胜感激！

相关 routes.rb 如下。

```
resource :dashboard, :controller => 'dashboard', :subdomain => false
scope '/', constraints: lambda { |r| r.subdomain.present? && r.subdomain != 'www' } do
    get '/' => 'feed#show'
  end

root :to => 'dashboard#show', :subdomain => false 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T05:26:50.937

我会将这个逻辑保留在路由之外。我会在我的视图/控制器中使用dashboard_url 而不是dashboard_path。我会把这样的东西放在我的 ApplicationController

```
def dashboard_url(options={})
  options[:subdomain] = false
  super(options)
end 
```

# linux - 页面未使用 IP 地址加载

> ID：10594458
> 
> 赞同：0
> 
> 时间：2012-05-15T05:11:33.347
> 
> 标签：linux, apache, tomcat, webserver

我有一个`webserver`正在运行的`apache and tomcat as apache as front end`. 问题是当我给出页面正在加载的域的 url 时。但是当我在地址栏中提供 ip 时，它没有加载。以下是我在 apache 中的配置。

```
<VirtualHost 192.168.1.98:80>
   JkWorkersFile /etc/httpd/conf.d/workers.properties
   JkLogFile /var/log/httpd/mod_jk.log
   JkLogLevel info
   JkLogStampFormat "[%a %b %d %H:%M:%S %Y] "
   JkOptions +ForwardKeySize +ForwardURICompat -ForwardDirectories
   JkRequestLogFormat "%w %V %T"
   JkMount /* worker1
</VirtualHost> 
```

为什么当我放弃浏览器时它没有加载`192.168.1.98`？
它给出了一个空白页。帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:15:10.740

如果您更改某些域的 ip 并将此域的此 ip 放在 /etc/hosts 中，问题仍然是一样的吗？我从不使用 ip 创建虚拟主机，只使用一些域名。可能您在配置文件的不同位置为您的服务器设置了一些默认规则。

# jquery - 在 fnDraw() 上保持分页状态

> ID：10594466
> 
> 赞同：13
> 
> 时间：2012-05-15T05:12:10.337
> 
> 标签：jquery, datatables

我`jquery`在我的应用程序中使用数据表。我的有问题，`pagination`使用时正在重置 `this.table.dataTable().fnDraw()`。

`fnDraw()`每 5 秒我的数据表在更新表时调用一次。何时`this.table.dataTable().fnDraw()`显示第一页，即使用户在第 2 页或其他页面上。

有没有办法在`this.table.dataTable().fnDraw()`.

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-05-15T06:37:23.440

在[http://datatables.net/ref](http://datatables.net/ref)上，解释`fnDraw`说：

```
Parameter:  fnDraw
Type:       function
Inputs:     {bool} [default=true]: Re-filter and resort 
            (if enabled) the table before the draw. 
```

所以，只是尝试过`this.table.dataTable().fnDraw(false)`，它奏效了。留在同一页面上，排序也保持不变。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-15T09:02:09.927

看看这个插件，它可以满足您的需求：[http ://datatables.net/plug-ins/api#fnStandingRedraw](http://datatables.net/plug-ins/api#fnStandingRedraw)

# iphone - iphone应用测试工具

> ID：10594467
> 
> 赞同：0
> 
> 时间：2012-05-15T05:12:20.863
> 
> 标签：iphone

目前我正在测试 iphone 应用程序并需要一些有关 iphone 测试工具的信息。有谁知道 iphone 应用程序测试工具。如果是，请告诉我。提前致谢。我找到了大猩猩逻辑应用程序，但发现它很难使用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:24:18.490

`Gorilla Logic`现在提供两种自动化工具——

1.  `Fone Monkey`
2.  `Monkey Talk`

并且`Monkey Talk`非常易于使用，它给了我们足够的灵活性，不像`Fone Monkey`我们不需要编写任何脚本。

在这个线程中有关于各种可用测试工具的详细讨论 -[如何测试我的 iOS 应用程序](https://stackoverflow.com/questions/3801344/how-do-i-test-my-ios-apps)

# java - android测试HttpPost字符串以进行调试

> ID：10594470
> 
> 赞同：0
> 
> 时间：2012-05-15T05:12:47.637
> 
> 标签：java, android, debugging, httpclient, http-post

我正在尝试使用 HttpPost 将数据从我的手机发送到 mysql，但我没有设置任何服务器，所以我想知道我是否可以看到我正在发送的确切内容以及它的外观。我对 JSON 以及它们的外观有点熟悉。所以我很好奇为了调试目的我将发送到 mysql 的内容。

```
public void sendDataDetail(View v){
    String name = nameText.getText().toString();

    if(name.length()>0){
        Log.w(TAG, name);
        HttpClient httpclient = new DefaultHttpClient();
        HttpPost httppost = new HttpPost("http://site/post.php");
        Log.w(TAG, "After HttpPost");
        try{
            List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(2);
            Log.w(TAG, "After list");
            nameValuePairs.add(new BasicNameValuePair("location","Los Angeles"));
            Log.w(TAG, "After location");
            nameValuePairs.add(new BasicNameValuePair("item_name",name));
            Log.w(TAG, "After item");
            httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
            Log.w(TAG, "After nameValuePairs");
            httpclient.execute(httppost);
            nameText.setText(""); // clear text box, but this should be back to front page
        }catch(ClientProtocolException e){
            Log.w(TAG, e.getMessage());
        }catch(IOException e ){
            Log.w(TAG, e.getMessage());

        }
    }
} 
```

正如你所看到的，我有一堆日志来测试它是否通过每一行（不确定这是否有必要 =\ ）。我想知道我是否能看到它的`httppost`样子，但如果我做这样的事情似乎它不起作用

```
Log.w(TAG, httppost); 
```

我对此有错误。

关于如何测试我发送到 mysql 进行调试的任何建议？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-17T17:45:40.643

根据您使用的 httpclient 版本，将有多种方法可以打开 2 个关键记录器：

httpclient.wire.header httpclient.wire

在一种类型的客户端中，您可以使用 java 系统属性来激活相应记录器上的 DEBUG 级别日志记录，这些记录器几乎总是由 HttpClient (headers & wire) 使用...

```
 System.setProperty("org.apache.commons.logging.simplelog.log.httpclient.wire.header", "debug");          System.setProperty("org.apache.commons.logging.simplelog.log.httpclient.wire", "debug"); 
```

以上不适用于所有情况。例如在 android 上，我使用[客户端](http://code.google.com/p/httpclientandroidlib/) ，为了激活 WIRE 和 HEADERS 的日志记录，我必须重新编译第 3 方包，更改 class= ch.boye.httpclientandroidlib.androidextra.HttpClientAndroidLog （Log DEBUG ON | OFF）

两个记录器都打开的 logcat 示例块可以完整地查看 http...

```
I/PicasaAlbumService( 2218): Starting PHOTOService.onHandleIntent com.b2bpo.media.action.ALBUMLIST
I/ActivityManager(  163): Displayed com.b2bpo.media/.ApplyGeoActivity: +1s349ms (total +5s944ms)
D/dalvikvm( 2218): GC_CONCURRENT freed 292K, 44% free 3625K/6407K, external 387K/519K, paused 2ms+3ms
D/class ch.boye.httpclientandroidlib.impl.client.DefaultHttpClient( 2218): Attempt 1 to execute request
D/class ch.boye.httpclientandroidlib.impl.conn.DefaultClientConnection( 2218): Sending request: GET /data/feed/api/user/default?fields=entry%2Ftitle%2Centry%2Fl
ink%5B%40rel%3D%22http%3A%2F%2Fschemas.google.com%2Fg%2F2005%23feed%22%5D&start-index=1&max-results=10&alt=json HTTP/1.1
D/ch.boye.httpclientandroidlib.wire( 2218): >> "GET /data/feed/api/user/default?fields=entry%2Ftitle%2Centry%2Flink%5B%40rel%3D%22http%3A%2F%2Fschemas.google.co
m%2Fg%2F2005%23feed%22%5D&start-index=1&max-results=10&alt=json HTTP/1.1[\r][\n]"
D/ch.boye.httpclientandroidlib.wire( 2218): >> "GData-Version: 2[\r][\n]"
D/ch.boye.httpclientandroidlib.wire( 2218): >> "Host: picasaweb.google.com[\r][\n]"
D/ch.boye.httpclientandroidlib.wire( 2218): >> "Connection: Keep-Alive[\r][\n]"
D/ch.boye.httpclientandroidlib.wire( 2218): >> "Authorization: OAuth null[\r][\n]"
D/ch.boye.httpclientandroidlib.wire( 2218): >> "[\r][\n]"
D/ch.boye.httpclientandroidlib.headers( 2218): >> GET /data/feed/api/user/default?fields=entry%2Ftitle%2Centry%2Flink%5B%40rel%3D%22http%3A%2F%2Fschemas.google.
com%2Fg%2F2005%23feed%22%5D&start-index=1&max-results=10&alt=json HTTP/1.1
D/ch.boye.httpclientandroidlib.headers( 2218): >> GData-Version: 2
D/ch.boye.httpclientandroidlib.headers( 2218): >> Host: picasaweb.google.com
D/ch.boye.httpclientandroidlib.headers( 2218): >> Connection: Keep-Alive
D/ch.boye.httpclientandroidlib.headers( 2218): >> Authorization: OAuth null
D/ch.boye.httpclientandroidlib.wire( 2218): << "HTTP/1.1 403 Forbidden[\r][\n]"
D/ch.boye.httpclientandroidlib.wire( 2218): << "Expires: Fri, 17 Feb 2012 18:07:42 GMT[\r][\n]"
D/ch.boye.httpclientandroidlib.wire( 2218): << "Date: Fri, 17 Feb 2012 18:07:42 GMT[\r][\n]"
D/ch.boye.httpclientandroidlib.wire( 2218): << "Cache-Control: private, max-age=0, must-revalidate[\r][\n]"
D/ch.boye.httpclientandroidlib.wire( 2218): << "Content-Type: text/plain[\r][\n]"
D/ch.boye.httpclientandroidlib.wire( 2218): << "X-Content-Type-Options: nosniff[\r][\n]"
D/ch.boye.httpclientandroidlib.wire( 2218): << "X-Frame-Options: SAMEORIGIN[\r][\n]"
D/ch.boye.httpclientandroidlib.wire( 2218): << "X-XSS-Protection: 1; mode=block[\r][\n]"
D/ch.boye.httpclientandroidlib.wire( 2218): << "Set-Cookie: S=photos_html=UJsnbriEAQZm6J0wEJjfgA; Domain=.google.com; Path=/; Secure; HttpOnly[\r][\n]"
D/ch.boye.httpclientandroidlib.wire( 2218): << "Server: GSE[\r][\n]"
D/ch.boye.httpclientandroidlib.wire( 2218): << "Transfer-Encoding: chunked[\r][\n]"
D/ch.boye.httpclientandroidlib.wire( 2218): << "[\r][\n]"
D/class ch.boye.httpclientandroidlib.impl.conn.DefaultClientConnection( 2218): Receiving response: HTTP/1.1 403 Forbidden
D/ch.boye.httpclientandroidlib.headers( 2218): << HTTP/1.1 403 Forbidden
D/ch.boye.httpclientandroidlib.headers( 2218): << Expires: Fri, 17 Feb 2012 18:07:42 GMT
D/ch.boye.httpclientandroidlib.headers( 2218): << Date: Fri, 17 Feb 2012 18:07:42 GMT
D/ch.boye.httpclientandroidlib.headers( 2218): << Cache-Control: private, max-age=0, must-revalidate
D/ch.boye.httpclientandroidlib.headers( 2218): << Content-Type: text/plain
D/ch.boye.httpclientandroidlib.headers( 2218): << X-Content-Type-Options: nosniff
D/ch.boye.httpclientandroidlib.headers( 2218): << X-Frame-Options: SAMEORIGIN
D/ch.boye.httpclientandroidlib.headers( 2218): << X-XSS-Protection: 1; mode=block
D/ch.boye.httpclientandroidlib.headers( 2218): << Set-Cookie: S=photos_html=UJsnbriEAQZm6J0wEJjfgA; Domain=.google.com; Path=/; Secure; HttpOnly
D/ch.boye.httpclientandroidlib.headers( 2218): << Server: GSE
D/ch.boye.httpclientandroidlib.headers( 2218): << Transfer-Encoding: chunked
D/class ch.boye.httpclientandroidlib.impl.client.DefaultHttpClient( 2218): Connection can be kept alive indefinitely 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-17T17:47:57.510

在您的 IDE（例如 Eclipse）中，在`httpclient.execute(httppost);`

然后在“表达式”窗口中，添加`httppost`变量，以查看值是什么。

现在你可以摆脱所有的日志记录了

# c# - 什么是过时的 XmlValidatingReader 类的良好替代品？

> ID：10594476
> 
> 赞同：4
> 
> 时间：2012-05-15T05:13:20.880
> 
> 标签：c#, validation

当我尝试使用 C# 创建应用程序时，这些方法向我发出警告

```
 //get validator
        XmlValidatingReader xmlValidator = new XmlValidatingReader(new FileStream(xmlfile,FileMode.Open), XmlNodeType.Document,psContext); 
```

和

```
 //compile to load schema elements
        schema.Compile(new ValidationEventHandler(ValidationCallback)); 
```

我使用 VS 2008 和 .NET Framework 3.5 来实现这一点。

请给我正确的方法来做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T05:27:19.717

要根据 XSD 架构验证您的 XML 文档，请使用[System.Xml.Schema.XmlSchemaSet](http://msdn.microsoft.com/en-us/library/system.xml.schema.xmlschemaset.aspx)

# c# - 在 Janus GridEX 上选择多行

> ID：10594478
> 
> 赞同：4
> 
> 时间：2012-05-15T05:13:39.103
> 
> 标签：c#, winforms, janus, gridex

我想在 Janus GridEX 上选择多行，但无法分配 selectedItems 属性并且它是只读的。但是我可以通过 GridEX.Row 选择特定行并设置当前选定的行，但我不能添加一行或任何类似的东西来选择多行！

谁能帮我

非常感谢， 沙欣

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-05-17T18:13:27.387

首先确保您的网格允许选择多行。这可以在设计器或代码中设置。

```
gridEX1.SelectionMode = SelectionMode.MultipleSelection; 
```

现在选择行，使用 SelectedItems.Add(position) 其中位置是网格中行的索引。

```
GridEXRow row1 = ...;
GridEXRow row2 = ...;
gridEX1.SelectedItems.Add(row1.Position);
gridEX1.SelectedItems.Add(row2.Position); 
```

# c# - 如何在 c# 的 OPENGL 窗口中写入文本

> ID：10594482
> 
> 赞同：-1
> 
> 时间：2012-05-15T05:13:52.190
> 
> 标签：c#, opengl, opentk

我想知道，如何使用 C# 在 opengl 窗口中编写文本？我使用 opentk 工具进行绘图，我很高兴有人告诉我必须在 C# 中使用什么代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:46:48.930

当您想使用 opentk 呈现文本时，您应该考虑很多事情。你可以去[OpenTK Docs](http://www.opentk.com/doc)查找。但我建议您改用[QuickFont](http://www.opentk.com/node/2823)，而不涉及复杂的细节。

祝你好运

# android - 如何使 Android 中的 Bitmap gamma 函数运行得更快？

> ID：10594483
> 
> 赞同：0
> 
> 时间：2012-05-15T05:13:57.063
> 
> 标签：android, optimization, image-processing, bitmap, gamma

我编写了以下函数来更改位图的 gamma，但它有点慢，即使在小型（300 x 300）位图上也是如此。我怎样才能让这个功能运行得更快？例如，是否有更好的方法（即更快的方法）从位图中访问单个像素值？

```
public Bitmap apply(Bitmap bmp, float gamma) {
    if (bmp == null)
        return null;

    int width = bmp.getWidth();
    int height = bmp.getHeight();

    int[] pixels = new int[width * height];
    bmp.getPixels(pixels, 0, width, 0, 0, width, height);

    int[] powers = new int[256];
    for (int i = 0; i < powers.length; i++)
        powers[i] = (int)(Math.pow(i / 255.0f, 1.0f / gamma) * 255);

    for (int p = 0; p < pixels.length; p++) {
        int r = Color.red(pixels[p]);
        int g = Color.green(pixels[p]);
        int b = Color.blue(pixels[p]);
        int newR = powers[r];
        int newG = powers[g];
        int newB = powers[b];
        pixels[p] = Color.rgb(newR, newG, newB);
    }

    Bitmap newBmp = Bitmap.createBitmap(pixels, 0, width, width, height, Config.ARGB_8888);
    return newBmp;
} 
```

作为优化，我提前计算所有可能像素值（0 到 255）的功率，这有帮助，但这还不够。此外，在第二个 for 循环之外声明所有 int 并没有多大帮助，所以我把它们留在里面。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T05:25:31.070

如果您真的希望它更快，我会考虑使用 OpenGL 或 RenderScript。两者在 Android 上都有很好的集成。

# c# - 识别连续的字符和数字

> ID：10594487
> 
> 赞同：0
> 
> 时间：2012-05-15T05:14:09.123
> 
> 标签：c#, regex

*（非常新的正则表达式）* 我有一个输入字符串，它是数字（0-9）、字母（AZ、az）和特殊字符的组合。如何使用正则表达式识别以下示例？示例：123a、abc2、12ab、ab12、1@3a、@a13、%1a3、a$13。

有效示例： `123 + 456`或者，使用任何其他运算符/大括号，例如

```
*, - , /, ), ( 
```

`abc * efg`或者，使用任何其他运算符/大括号，例如

```
*, - , /, ), ( 
```

无效示例：

```
(123a + abc2 * 12ab / ab12 ) + (1@3a + @a13 - %1a3 * a$13)

123a + abc2 

abc2 * 12ab 
```

或者，使用任何其他运算符/大括号，例如 `*, +, - , /, ), (`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T05:18:13.503

我认为对于小例子，可以生成一个正则表达式，但会非常大且难以理解。对于这个问题，您可以使用排序。对字符串进行排序并与原始字符串进行比较，如果相等，则字符串具有连续的字符（但是要找到整个字符串的一小部分，您需要更智能的东西）。

# codeigniter - 自定义表单验证在 codeigniter 中出错

> ID：10594494
> 
> 赞同：0
> 
> 时间：2012-05-15T05:14:58.253
> 
> 标签：codeigniter, validation

我的自定义功能不起作用。我正在检查数据库中是否不存在传递的值，它会返回错误消息。我做错了什么？
**控制器功能**

```
function sp_exists($str)
        {
            $this->user_model->sp_exists($str);
            $this->form_validation->set_message('sp_exists', 'The %s field does not exists');
        } 
```

**模型功能**

```
function sp_exists($str)
    {
        $this->db->where('member_id',$str);
        $query = $this->db->get('user');
        if ($query->num_rows() > 0)
        {
            return false;
        }
        else
        {
            return true;
        }
    } 
```

**回调函数**

```
$this->form_validation->set_rules('sponsor_id', 'Sponsor ID', 'trim|required|xss_clean|callback_sp_exists'); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-15T05:24:50.047

你看过[用户指南](http://codeigniter.com/user_guide/libraries/form_validation.html#callbacks)吗？它清楚地解释了如何做到这一点。

首先，我认为您应该将模型功能更改为：

```
function sp_exists($str)
{
  $this->db->where('member_id',$str);
  $query = $this->db->get('user');
  return $query->num_rows() > 0;
} 
```

控制器应如下所示：

```
function sp_exists($str)
{
  if(!$this->user_model->sp_exists($str))
  {
    $this->form_validation->set_message('sp_exists', 'The %s field does not exists');
    return FALSE;
  }
  else
  {
    return TRUE;
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T06:50:02.223

改变

```
function sp_exists($str)
    {
        $this->user_model->sp_exists($str);
        $this->form_validation->set_message('sp_exists', 'The %s field does not exists');
    } 
```

至

```
function sp_exists($str)
    {
        $this->form_validation->set_message('sp_exists', 'The %s field does not exists');
        return $this->user_model->sp_exists($str);
    } 
```

# google-drive-api - 通过 Chrome 打包应用与 Google Drive 集成

> ID：10594499
> 
> 赞同：2
> 
> 时间：2012-05-15T05:15:37.917
> 
> 标签：google-drive-api

有没有办法让 Chrome 打包的应用程序与 Google Drive 集成？具体来说，我正在寻找一个应用程序，它将用户的文件同步到 Google Drive，被打包（非托管），并且不必依赖辅助附加应用程序。

但是，当用户从 Google Drive 界面打开文件时，我无法让 Google Drive 重定向到我打包的应用程序，可以吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T05:57:30.770

不，目前这是不可能的。您需要一个托管应用程序来接收来自 Google Drive 用户界面的重定向。

如果您不需要处理来自 Drive 用户界面的重定向，您可以创建一个 Google Documents List API 应用程序来管理用户在其 Drive 中的文件。这可以是非托管的打包应用程序。

# android - 更改选项卡时取消活动组中的子活动

> ID：10594507
> 
> 赞同：1
> 
> 时间：2012-05-15T05:16:47.273
> 
> 标签：android, android-intent, tabactivity, activitygroup

（我知道活动组和选项卡已被弃用。我目前无法重新设计我的应用程序，所以如果可能的话，我想用当前的设计完成它。）

我有一个带有三个选项卡 A、B 和 C 的 TabActivity。Tab C 是一个带有两个子活动 C1 和 C2 的 ActivityGroup。C2 总是从 C1 调用并通过设置 C1 视图并重新启动 C1 意图来解除。这一切都很好。我的问题是，如果用户在 C2 活动中选择 A 或 B 选项卡，我希望 C2 活动取消。下次选择 C ​​选项卡时，应显示 C1 活动。如果用户退出应用程序并重新进入它，同样的事情。

我已经实现了 OnTabChangeListener()，所以我知道何时选择了新选项卡，我什至可以判断 C2 选项卡是否处于活动状态（或者在选项卡更改之前）。我的问题是如何取消 C2 活动，以便在选择 C ​​选项卡时，启动默认 C1 活动，而不是返回到先前活动的 C2 选项卡。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T05:36:47.483

我认为您可以为此目的使用广播发送方和接收方。在 onpause 创建一个广播接收器。我建议这样做是因为如果您也想从任何其他地方完成 c2，那么您可以通过发送广播轻松完成。使用此代码：

```
BroadcastReceiver broadcast_receiver = null; // DECLARE IT IN YOUR CLASS.

// WRITE BELOW CODE IN onPause OF C2 ACTIVITY.
broadcast_receiver = new BroadcastReceiver() {
    @Override
    public void onReceive(Context context, Intent intent) {
        if (intent.getAction().equals("finish_c2")) {
            unregisterReceiver(broadcast_receiver);
            finish();
        }
    }
};
    registerReceiver(broadcast_receiver, new IntentFilter("finish_c2")); 
```

要完成您的活动，只需从任何地方发送广播。

```
//WRITE THE BELOW CODE WHERE YOU WANT TO FINISH C2 ACTIVITY.
Intent intent = new Intent("finish_c2");
sendBroadcast(intent); 
```

希望它会帮助您询问是否出现任何问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T05:25:00.870

只需在 Tab C 中使用 onPause() 并使用与从 c2 回到 c1 相同的代码覆盖它。由于`onPause()`只会在您退出该特定选项卡时调用，因此您的活动组将在后台恢复，当您返回该选项卡 C 时，您可以首先看到您的 C1。

# apex-code - 如何在没有来自 apex:outputPanel 的空 span 标签的情况下实现嵌套条件渲染？

> ID：10594513
> 
> 赞同：8
> 
> 时间：2012-05-15T05:17:32.033
> 
> 标签：apex-code, visualforce

我正在尝试从 VisualForce 页面生成干净的 XSL-FO。但是由于嵌套的 apex:outputPanel 标记（外部渲染=true，内部渲染=false）生成的空跨度标记，来自 VisualForce 页面的 xml 无效。这是一个说明问题的重点页面：

```
<apex:page contentType="text/xml" cache="false" showHeader="false" sidebar="false">
    <root>
        There is no reason for a nested apex:outputpanel to generate a span tag like this:  

        <apex:outputPanel layout="none" rendered="true">
            <apex:outputPanel layout="none" rendered="false" />
        </apex:outputPanel>

        This breaks strict xml documents like XSL-FO.
    </root>        
</apex:page> 
```

该页面给出了这个 xml 输出：

```
<root>
    There is no reason for a nested apex:outputpanel to generate a span tag like this:

    <span id="j_id0:j_id3" style="display: none;"></span>

    This breaks strict xml documents like XSL-FO.
</root> 
```

实际上，我确实在[文档](http://www.salesforce.com/us/developer/docs/pages/Content/pages_compref_outputPanel.htm)中找到了一个晦涩的原因：

> apex:outputPanel 布局属性 - 面板的布局样式。可能的值包括“block”（生成 HTML div 标签）、“inline”（生成 HTML span 标签）和“none”（不生成 HTML 标签）。如果未指定，此值默认为“无”。但是，如果 layout 设置为“none”，**对于每个 render 属性设置为“false”的子元素，outputPanel 生成一个 span 标签**，每个子元素的 ID 和 style 属性设置为“display:none” . 因此，虽然内容不可见，但 JavaScript 仍然可以通过 DOM ID 访问元素。

如果我的内容类型是 html 或 javascript，这听起来很有用，但它打破了我严格的 xml。那么问题来了：如何在避免span标签的同时实现嵌套条件渲染？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-16T04:08:09.323

将两者或仅将外部切换到顶点：变量，如下所示：

```
<apex:variable rendered="true" value="" var="tempOuter">
    <apex:outputPanel layout="none" rendered="false" />
</apex:variable> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-11-19T15:39:28.800

尝试使用`<apex:outputText>`而不是`<apex:outputPanel>`. 在我的例子中，我将一个表格渲染成 pdf 文档，并`<apex:outputPanel>`打破了表格布局，同时`<apex:outputText>`完美地工作，并支持这样的条件渲染：

```
<apex:outputText rendered="{!IF(Sum != 0.00, true, false)}"> 
```

# jquery - 卡在编码上

> ID：10594514
> 
> 赞同：0
> 
> 时间：2012-05-15T05:17:36.730
> 
> 标签：jquery, jquery-ui

我目前正在做一个网络项目。我必须使用轮播 Jquery，发现这看起来最容易配置：[http](http://ryrych.github.com/rcarousel/) ://ryrych.github.com/rcarousel/ 。

我正在处理的网站：[http ://ripsraps.com/auzomapps/](http://ripsraps.com/auzomapps/)

问题：当您按下应用程序图标时，我希望轮播移动到该页面。所以基本上我在问什么；有没有办法让链接触发旋转，而不是那些点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:37:28.493

我猜你的意思是类似于 goToPage 命令：

`$( "#carousel" ).rcarousel( "goToPage", 3 );`

因此，在您的应用程序图标上尝试以下操作：

```
<a href="page.html" onclick="$('#carousel').rcarousel('goToPage', 3 ); return false;">
<img src="img/App-Random.png" width="65" height="88" border="0">
</a> 
```

例如，其中**3**是您要为相应应用程序图标转到的幻灯片编号。

注意：**page.html**应该是一些带有适当信息的页面（可能将其链接到幻灯片中的同一图像），以防万一 JavaScript 不可用，这也是搜索引擎优化的更好做法。如有必要，您可以选择将“page.html”替换为“#”。

他们的在线文档中的更多信息：

[http://ryrych.github.com/rcarousel/#api](http://ryrych.github.com/rcarousel/#api)

# pandas - 为什么 read_fwf() 不能输出正确的文件内容？

> ID：10594515
> 
> 赞同：0
> 
> 时间：2012-05-15T05:17:50.613
> 
> 标签：pandas

这是文件内容（名为 sample.txt）

```
gvkeyx        from        thru    conm                gvkey     co_conm                      co_tic
123453    19661214    19890426    S&P 500 Comp-Ltd    010490    TEXAS EASTERN CORP           PEL4    
123453    19670101           .    S&P 500 Comp-Ltd    001078    ABBOTT LABORATORIES          ABT     
123453    19670101           .    S&P 500 Comp-Ltd    001300    HONEYWELL INTERNATIONAL INC  HON     
123453    19670101           .    S&P 500 Comp-Ltd    001356    ALCOA INC                    AA      
123453    19670101           .    S&P 500 Comp-Ltd    001408    FORTUNE BRANDS INC           FO 
```

我输入阅读它的代码：

```
In [16]: colspecs = [(0, 9), (10, 21), (22, 33), (34, 53), (54, 63), (64, 92), (93, 99)]

In [17]: df = read_fwf('sample.txt', colspecs = colspecs, header=None, index_col=None)

In [18]: df[:2]

Out[19]:      
<class 'pandas.core.frame.DataFrame'>
Int64Index: 2 entries, 0 to 1
Data Columns:
X.1    2    non-null values
X.2    2    non-null values
X.3    2    non-null values
X.4    2    non-null values
X.5    2    non-null values
X.6    2    non-null values
X.7    2    non-null values
dtypes: object(7) 
```

我无法理解这个输出，因为它与文件完全不同。任何意见和建议都会有所帮助。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T18:42:10.230

见： http: [//pandas.pydata.org/pandas-docs/stable/dsintro.html#console-display](http://pandas.pydata.org/pandas-docs/stable/dsintro.html#console-display)

它会打印一个摘要，因为数据对于您的终端来说太宽了。这可以配置为`pandas.set_printoptions`. 您几乎肯定需要指定`header=0`（我相信这是默认设置），所以`df = read_fwf('sample.txt', colspecs=colspecs)`应该足够了。

# c++ - 安装 msi 后无法显示 png 并在我的应用程序的某些部分代码中发出警告

> ID：10594516
> 
> 赞同：0
> 
> 时间：2012-05-15T05:18:05.583
> 
> 标签：c++, mfc, windows-installer, visual-c++-2008, vc90

我想知道完整的方法，`msi installation`因为安装时创建的msi文件没有显示`.png`类型的图片为什么会发生这种情况以及如何解决这个问题？

`vc++2008`在创建 msi 之前，当我在它显示图片时执行程序。为什么我无法查看 png 图片，当我创建相同的程序时 msi 和其他图片`bitmap type`可以查看。

我已将 png 图片放在 res 文件夹中，并按照以下步骤操作
**`solution explorer->ResourceFiles->right click mouse->add existing item->(added png files of res folder)`**

安装 msi 后，我还应该怎么做才能让我的 png 图片出现。
我用过`picture ctrl to display png`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-17T07:05:09.983

msi 安装程序 ( `msiexec`) 不适用于`png`图像。您只能使用`bmp`和`jpg`图像。

请参阅有关图像属性的文档：

[http://msdn.microsoft.com/en-us/library/3kbk77sf.aspx](http://msdn.microsoft.com/en-us/library/3kbk77sf.aspx)

[http://msdn.microsoft.com/en-us/library/8s4dddtk.aspx](http://msdn.microsoft.com/en-us/library/8s4dddtk.aspx)

# python - 将 Python 程序与本机二进制文件捆绑在一起

> ID：10594517
> 
> 赞同：2
> 
> 时间：2012-05-15T05:18:08.097
> 
> 标签：python

简单的问题：我有一个启动可执行文件的 python 程序。启动器使用`optparse`模块来设置运行并通过 shell 启动二进制文件。

是否可以将 laucher 和二进制文件捆绑到一个包中？感兴趣的平台是 Linux。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T07:12:54.797

使用 pyinstaller 例如，您可以将可执行文件添加为资源文件，它将资源提取到临时文件夹，从那里您可以根据需要访问资源文件

# php - Yii 两个 MANY_MANY 关系与限制

> ID：10594518
> 
> 赞同：0
> 
> 时间：2012-05-15T05:18:10.710
> 
> 标签：php, yii

我正在尝试获取具有两个关系条件的模型行。所以，我有一个模型 $model 和两个关系：

$model 与 $relation1 有 MANY_MANY 关系，$relation1 与 $relations2 有 MANY_MANY 关系。

我试图在 $relations2 为 '1' 的地方获取 $model。

所以我尝试了：

```
$model->with('relation1.relations2'=>array('alias'=>'v'))->findAll('v.id=1'); 
```

这行得通。

但是当我尝试向 findAll 添加限制和偏移量时：

```
$model->with('relation1.relations2'=>array('alias'=>'v'))->findAll('condition'=>'v.id=1', 'offset'=>0, 'limit'=>10); 
```

它说它找不到 v 别名（因为他试图通过两个查询来解决这个问题，否则由于 MANY_MANY 关系而无法应用限制）。

所以，实际上我看到了问题......但是我该如何解决呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T17:32:42.893

您需要[`together`CDbCriteria 的属性](http://www.yiiframework.com/doc/api/1.1/CDbCriteria#together-detail "http://www.yiiframework.com/doc/api/1.1/CDbCriteria#together-detail")

```
$model->with(array('relation1.relations2'=>array('alias'=>'v')))->findAll('condition'=>'v.id=1', 'offset'=>0, 'limit'=>10,
'together'=>true); 
```

您已经提到了原因，即形成了两个查询，而您需要一个用于限制，这可以通过`together`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T06:18:26.063

尝试这个

```
$model->with('relation1'=>array('with'=>'relations2','alias'=>'v'))->findAll(array('condition'=>'v.id=1', 'offset'=>0, 'limit'=>10)); 
```

# jboss - Intellij Idea 上的 EJB 3x 项目示例？

> ID：10594521
> 
> 赞同：2
> 
> 时间：2012-05-15T05:18:23.950
> 
> 标签：jboss, intellij-idea, ejb-3.0

我是最近迁移到 IntelliJ Idea 的 Java 用户，而且我是 EJB 的新手，我想知道是否有 IntelliJ Idea 和 JBoss 6 的 EJB 3.x 示例？我自己没有找到太多材料。

非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T18:43:42.420

这里有各种 EJB 示例：

*   [http://openejb.apache.org/examples-trunk/](http://openejb.apache.org/examples-trunk/)

它们都具有单元测试，并且可以通过以下任一方式在 Intellij（我目前首选的 IDE）中运行：

*   将 Maven pom.xml 作为新模块或项目导入
*   使用 Maven`mvn idea:idea`生成 Intellij 项目

这是一个示例，附带的视频显示它在 Intellij 中运行。

*   [http://openejb.apache.org/examples-trunk/simple-stateless](http://openejb.apache.org/examples-trunk/simple-stateless)
*   [http://www.youtube.com/watch?v=aLx2jta96xU](http://www.youtube.com/watch?v=aLx2jta96xU)

视频中没有音频，重点是显示它工作正常。正如他们所说，眼见为实：）

它不是 JBoss，但会教你 EJB，并且知识是可以转移的。

# php - 将句子拆分为单词时出错，不推荐使用 split()

> ID：10594522
> 
> 赞同：0
> 
> 时间：2012-05-15T05:18:44.450
> 
> 标签：php, deprecated

我正在尝试解析句子并将其拆分为单词

> $allwords=split(" ",$mybigsentence);

我在上面的行中遇到了这个错误

> 已弃用：函数 split() 在 C:\xampp\htdocs\projecte\src\admin\botloaderfuncs.php 中已弃用

出了什么问题。使用 php 5.0.3

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-15T05:21:02.493

> 自 PHP 5.3.0 起，该函数已被弃用。强烈建议不要依赖此功能。

来自：[http ://us3.php.net/split](http://us3.php.net/split)

DEPRECATED 意味着它将在未来的 PHP 版本中很快被删除。

看看这个解决方案：[Split text into words problem PHP, complex problem](https://stackoverflow.com/questions/1600649/split-text-into-words-problem-php-complicated-problem)

绝对应该以正确的方式给出您需要的代码。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-15T05:22:59.500

`split`被指定为通过正则表达式进行拆分。在您的情况下，您将字符串拆分为子字符串，因此[`explode`](http://php.net/explode)对您有用（并且使用它也更有效）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-15T05:35:30.150

我认为你应该使用`explode`你的问题。它会起作用的；）

# pug - 没有客户端 Javascript 的 Jade 中的数据绑定

> ID：10594524
> 
> 赞同：4
> 
> 时间：2012-05-15T05:18:50.133
> 
> 标签：pug

我用`name`,`value`属性绑定字段。但它不舒服。

```
input(name='user[name]', value='#{user.name}') 
```

我想要类似于[knockout.js](http://www.knockoutjs.com)的数据绑定，但不在客户端（传统移动设备）中加载 javascript。类似于以下代码：

```
 input(databind='username[value]') 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-15T09:50:32.247

knockout.js 的很大一部分功能是“双向绑定”，检测 DOM 元素上的更改和事件并将它们反映在模型中。如果不加载 javascript，这部分是不可能的。

因此，我假设您在生成要发送给客户端的 html 时询问某种形式的单向绑定。

这让我想知道你寻求什么好处。这仅仅是对不同编码风格的偏好吗？

Knockout.js 的数据绑定呈现为一组可扩展的“绑定”，每个绑定都针对特定目的量身定制，以方便特定范围的使用场景。例如，淘汰赛的 foreach 或重复绑定可以方便地生成列表或表格。对我来说，淘汰赛的最大优势是可以轻松创建新的绑定以满足您的特定需求。

对于这里的价值是一些想法......没有特定的顺序。

1.  您也许可以使用jade mixin 和块来定义一些适合常见使用场景的简单可重用绑定。
2.  看看其他适合你服务器端环境的模板库，看看有没有比jade更喜欢的。
3.  具有扩展机制（EJS 过滤器、Mustache lambda、JSP 自定义标签）的模板库将允许您为您的使用场景创建一些常用绑定并重用它们。

最好的办法可能是更具体地说明您想要的好处。这可能会激发一些更好的反应。

# eclipse - 为什么 Eclipse 的 GWT 设计器不能使用 GXT 3 小部件？

> ID：10594525
> 
> 赞同：3
> 
> 时间：2012-05-15T05:18:53.197
> 
> 标签：eclipse, gxt, gwt-designer

我正在尝试在 GWT 设计器中使用 GXT 3 小部件，但没有成功。

我成功地与设计师一起使用了 GXT 2.2，但是当切换到 GXT 3 时，似乎缺少资源和图像。这看起来很奇怪，因为 GXT 3 中没有资源和图像文件夹。这是怎么回事？

我正在使用 GXT 3.0 GPL 和 Eclipse Indigo 3.7

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T22:57:42.310

检查此相关论坛问题：[GWT Designer 是否支持 GXT 3.0？](http://www.sencha.com/forum/showthread.php?170585-GWT-Designer-suport-for-GXT-3.0)

恕我直言 - Sencha 很容易通过稍微调整代码来生产下一个版本并向用户收取升级费用。为 Ecliple / netbeans 创建复杂的 UI 设计器插件并非易事。

总体而言：他们贪婪且目光短浅。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T14:06:32.747

不幸的是，GXT 团队不考虑为 GXT 3.0 支持 GWT 设计器。Google GWT Designer 团队也无意支持 GXT 3.0 .. WYSWYG 编辑器只是 GXT 3.0 的错觉 .. [http://www.sencha.com/forum/showthread.php?170585-GWT-Designer-suport-适用于-GXT-3.0](http://www.sencha.com/forum/showthread.php?170585-GWT-Designer-suport-for-GXT-3.0)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-15T11:15:05.170

GXT 3 与 Google 插件 For Eclipse 不兼容，因此您将无法使用 GWT Designer 来操作 GXT 3 小部件。

Google 插件和 GWT Designer 仅与 GXT 2.2 兼容，并且由于 GPE 成为开源项目，目前没有指定为 GXT3 提供支持的活动项目。在我看来，这是煎茶社区的工作。

# android - 如何从 Web 服务获取图像到 android 应用程序？

> ID：10594534
> 
> 赞同：4
> 
> 时间：2012-05-15T05:19:36.133
> 
> 标签：android, web-services, android-imageview, android-image, webservice-client

我正在尝试根据它们的 ID 号从服务器加载图像。哪个是从网络服务中检索它的最佳方法？

```
package com.crispsys;

import java.io.IOException;
import java.net.MalformedURLException;
import java.net.URL;

import android.app.Activity;
import android.app.ProgressDialog;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.os.Bundle;
import android.os.Handler;
import android.view.View;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.TextView;
import android.widget.Toast;

public class imageviewer extends Activity {
    /** Called when the activity is first created. */

    Bitmap image; 
    private TextView ordernumber;
     ImageView imageView;
     private Button butt;
     String Str="image",ordno;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.imageviewerr);

         this.butt = (Button) this.findViewById(R.id.getbutt);
          this.imageView =(ImageView) findViewById(R.id.blodig);
          this.ordernumber=(TextView)this.findViewById(R.id.ordernotext);

          final Bundle getdata = getIntent().getExtras();

          if (getdata != null)    
          {
              ordno=getdata.getString("orono");
              ordernumber.setText(ordno);
          }

        this.butt.setOnClickListener(new View.OnClickListener() {

            public void onClick(View v) {
                // TODO Auto-generated method stub

                Toast.makeText(getApplicationContext(),"loading" , Toast.LENGTH_LONG).show();

                      URL url = null;

                      try 
                      {

                          url = new URL("http://www.cyberstudents.in/aaa/car.jpg");

                      }
                      catch (MalformedURLException e) 
                      {
                          e.printStackTrace();
                      }
                      try {
                          image = BitmapFactory.decodeStream(url.openStream());

                      } 
                      catch (IOException e) 
                      {
                          e.printStackTrace();
                      }

                imageView.setImageBitmap(image);
            }
        });

    }
} 
```

XML 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:background="@drawable/cr_isp"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <TableRow
        android:id="@+id/tableRow1"
        android:layout_width="match_parent"
        android:gravity="center"
        android:paddingTop="20dp"
        android:layout_height="wrap_content" >

        <TextView
            android:id="@+id/ordernotext"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:textColor="#8B8682"
            android:text="" />

    </TableRow> 

    <TableRow
        android:id="@+id/tableRow1"
        android:layout_width="match_parent"
        android:gravity="center"
        android:paddingTop="20dp"
        android:layout_height="wrap_content" >

        <Button
            android:id="@+id/getbutt"
            android:layout_width="210dp"
            android:layout_height="40dp"
            android:background="@drawable/bcbut"
            android:textColor="#8B8682"
            android:text="Get Block Dig" />

    </TableRow>

    <TableRow
        android:id="@+id/tableRow2"
        android:layout_width="match_parent"
        android:gravity="center"
        android:paddingTop="20dp"
        android:layout_height="wrap_content" >

        <ImageView
            android:id="@+id/blodig"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:src="@drawable/ic_launcher" />

    </TableRow>

</LinearLayout> 
```

尝试使用此代码，但我只能使用小尺寸图像。当我去一个大尺寸的图像时，它不起作用。它保持不变，我找不到任何错误。它显示相同的屏幕。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-15T05:36:30.013

您可以使用异步图像加载器异步加载图像。检查下面的代码。

```
private class FetchImageTask extends AsyncTask<String, Integer, Bitmap> {
    @Override
    protected Bitmap doInBackground(String... arg0) {
        Bitmap b = null;
        try {
            b = BitmapFactory.decodeStream((InputStream) new URL(arg0[0]).getContent());
        }
        catch (MalformedURLException e) {
            e.printStackTrace();
        }
        catch (IOException e) {
            e.printStackTrace();
        }
        return b;
    }
} 
```

要实现使用此代码。

```
new FetchImageTask() {
        @Override
        protected void onPostExecute(Bitmap result) {
            if (result != null) {
                image.setImageBitmap(result);
            }
        }
    }.execute("IMAGE_URL"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T05:30:45.957

这取决于服务器的响应，即它以何种形式提供图像。它可以是**base 64 字符串或 URL**的形式。

如果它是一个 base 64 字符串，那么您可以使用 java 中的 base64 类对其进行编码，如果它是 url，那么您只需通过将图像从 url 转换为位图来使用位图设置图像。您需要通过以下方式使用 httpGet 向服务器发出 get 请求。

```
public static String connect(String url) throws IOException {
    HttpClient httpclient = new DefaultHttpClient();
    HttpGet httpget = new HttpGet(url);
    HttpResponse response;
    try {
        response = httpclient.execute(httpget);
        HttpEntity entity = response.getEntity();
        if (entity != null) {
            InputStream instream = entity.getContent();
            result = convertStreamToString(instream);
            instream.close();
        }
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
    return result;
}

private static String convertStreamToString(InputStream input) {
    /*
     * To convert the InputStream to String we use the
     * BufferedReader.readLine() method. We iterate until the BufferedReader
     * return null which means there's no more data to read. Each line will
     * appended to a StringBuilder and returned as String.
     */
    BufferedReader reader = new BufferedReader(new InputStreamReader(input));
    StringBuilder buffer = new StringBuilder();
    String line = null;
    try {
        while ((line = reader.readLine()) != null) {
            buffer.append(line + "\n");
        }
    } catch (IOException e) {
        e.printStackTrace();
    } finally {
        try {
            input.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
    return buffer.toString();
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-15T05:21:08.943

使用该 ID 号向 Web 服务发出 Get 请求，该服务将使用所需的图像进行响应。

# oracle - 如何在Oracle中一个接一个地运行多个脚本？

> ID：10594535
> 
> 赞同：4
> 
> 时间：2012-05-15T05:19:36.433
> 
> 标签：oracle, sql-scripts

我有以下脚本：

```
ALTER TABLE ODANBIRM 
ADD (OBID NUMBER(10, 0) );
----------------------------------------------------------------------------
CREATE OR REPLACE TRIGGER TR_OB_INC 
BEFORE INSERT ON ODANBIRM
FOR EACH ROW 
BEGIN
  SELECT SEQ_OB.NEXTVAL INTO :NEW.OBID FROM DUAL;
END;

-----------------------------------------------------------------------------

DECLARE
CURSOR CUR IS
SELECT ROWID AS RID FROM ODANBIRM;

  RC CUR%ROWTYPE;
BEGIN
  OPEN CUR;

 LOOP
  FETCH CUR INTO RC;

    EXIT WHEN CUR%NOTFOUND;

  UPDATE ODANBIRM SET OBID=SEQ_OB.NEXTVAL WHERE ROWID=RC.RID;
   END LOOP;

 CLOSE CUR;
  COMMIT;
 END; 
```

如您所见，我有三个不同的脚本（我用虚线分隔它们。）如果我运行第一个脚本，但第二个脚本（我想在其中创建触发器）失败说“遇到符号“DECLARE””。如果我把触发器创建脚本拿走，我不会出错，第一个和最后一个脚本运行没有问题。我该怎么做才能在不出错的情况下运行它们？

编辑：然后我意识到第二个脚本应该是这样的：

```
UPDATE ODANBIRM SET OBID=SEQ_OB.NEXTVAL; 
```

所以在循环中做这个简单的事情是浪费时间和低效的。我曾经听说应该使用尽可能多的 SQL 和尽可能少的 PL SQL 以提高效率。我认为这是个好主意。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-15T05:23:19.127

我认为它是 / 在脚本结束后立即上线。PL 块的所有脚本行都需要它，包括最后一个。所以...

但是，不要放在 SQL 语句上；因为它将运行两次（正如 Benoit 在下面的评论中指出的那样！）

```
ALTER TABLE ODANBIRM 
ADD (OBID NUMBER(10, 0) );
/

CREATE OR REPLACE TRIGGER TR_OB_INC 
BEFORE INSERT ON ODANBIRM
FOR EACH ROW 
BEGIN
  SELECT SEQ_OB.NEXTVAL INTO :NEW.OBID FROM DUAL;
END;
/

DECLARE
CURSOR CUR IS
SELECT ROWID AS RID FROM ODANBIRM;

  RC CUR%ROWTYPE;
BEGIN
  OPEN CUR;

 LOOP
  FETCH CUR INTO RC;

    EXIT WHEN CUR%NOTFOUND;

  UPDATE ODANBIRM SET OBID=SEQ_OB.NEXTVAL WHERE ROWID=RC.RID;
   END LOOP;

 CLOSE CUR;
  COMMIT;
 END;
 / 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T07:44:39.893

您的匿名块不应该是：

```
UPDATE ODANBIRM
SET    OBID=SEQ_OB.NEXTVAL; 
```

# html - 下拉菜单列表在 IE9 中失去焦点

> ID：10594538
> 
> 赞同：4
> 
> 时间：2012-05-15T05:19:58.287
> 
> 标签：html, internet-explorer, html-select

当我们单击选择元素以获取选项列表并向下选择一个时，选择失去焦点。它只发生在 ie (ie9) 中。

我遇到了@jeffsebring [http://jeffsebring.com/drop-down-menus-losing-focus-in-internet-explorer/](http://jeffsebring.com/drop-down-menus-losing-focus-in-internet-explorer/)的博客文章，但他没有提供他的解决方案的详细信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-25T03:45:25.093

对不起，我的帖子不够清楚，我会审查它。

我遇到的问题是下拉菜单根本没有背景。我的解决方案是给它一个透明的背景。我不知道为什么，但在 IE 中你需要某种背景来保持焦点。

也就是说，如果你现在使用下拉菜单，它不应该依赖悬停状态，因为触摸设备没有悬停。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-11T11:27:34.670

@Jeff Sebring 的回答帮助了我，但这不仅仅是拥有背景的问题，而是在悬停状态下没有这种背景变化的问题

```
 .ie div select { background:/* whatever */} 

 .ie div:hover select {/* paste same bg for ie */}

 .ie div:hover option {/* here you can change background for ie */} 
```

# c# - C# 存储输入文件中的字符串以供操作和使用的最佳方式？

> ID：10594539
> 
> 赞同：3
> 
> 时间：2012-05-15T05:20:06.270
> 
> 标签：c#, string, file, filereader

我有一个字符串块文件，每个都以某个关键字结尾。我目前有一个流阅读器设置，它将文件的每一行添加到列表中，直到当前块的末尾（行包含指示块结束的关键字）。

```
listName.Add(lineFromFile); 
```

每个块都包含信息，例如 Book BookName、Author AuthorName、Journal JournalName 等。所以每个块假设是一个单独的项目（书籍、期刊、会议等）。

现在有大约 50 个左右的信息块（项目），我需要一些方法来存储信息，以便我可以操纵它并存储每个作者、标题、页面等，并知道哪些信息与哪些项目等有关。

在键入此内容时，我想出了可能将每个项目存储为名为“项目”的类的对象的想法，但是可能有几个作者，我不确定如何实现这一点，因为我在想可能使用命名变量的计数器，例如

```
int i = 0;
String Author[i] = "blahblah";
i++; 
```

但据我所知，这是不允许的？所以我的问题基本上是存储每个项目的最简单/最简单的方法是什么，以便我可以操纵字符串来存储每个项目以供以后使用。

@yamen 这是该文件的一个示例：

```
Author Bond, james
Author Smith John A
Year 1994
Title For beginners
Book Accounting
Editor Smith Joe
Editor Doe John
Publisher The University of Chicago Press
City Florida, USA
Pages 15-23
End

Author Faux, M
Author Sedge, M
Author McDreamy, L
Author Simbha, D
Year 2000
Title Medical advances in the modern world
Journal Canadian Journal of medicine
Volume 25
Pages 1-26
Issue 2
End

Author McFadden, B
Author Goodrem, G
Title Shape shifting dinosaurs
Conference Ted Vancouver
City Vancouver, Canada
Year 2012
Pages 2-6
End 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-15T05:32:28.997

*更新代替您的样品*

如何解析字符串超出了这个答案的范围 - 你可能想自己尝试一下，然后问另一个 SO（我建议阅读 SO 的黄金法则：[https ://meta.stackexchange.com/questions /128548/what-stack-overflow-is-not](https://meta.stackexchange.com/questions/128548/what-stack-overflow-is-not)）。

因此，我将提出解决方案，假设您有一个字符串表示完整的书籍/期刊信息块（此数据看起来像引文）。我原来的答案的主要变化是你有多个作者。此外，您可能需要考虑是否要将作者的姓名转换回`[first name/initial] [middle names] [surname]`.

我提出了两种解决方案——一种是 using `Dictionary`，一种是 using `Linq`。Linq 解决方案是单线的。

定义一个`Info`类来存储项目：

```
public class Info
{
   public string Title { get; private set; }
   public string BookOrJournal { get; private set; }
   public IEnumerable<string> Authors { get; private set; }
   //more members of pages, year etc.
   public Info(string stringFromFile)
   {
     Title = /*read book name from stringFromFile */;
     BookOrJournalName = /*read journal name from stringFromFile */;
     Authors = /*read authors from stringFromFile */;
   }
} 
```

请注意，`stringFromFile`引用信息应该是一个块，包括换行符。

现在一个字典来按作者存储每个信息：

```
Dictionary<string, List<Info>> infoByAuthor = 
  new Dictionary<string, List<Info>>(StringComparer.OrdinalIrgnoreCase); 
```

注意`OrdinalIgnoreCase`比较器 - 处理作者姓名以不同大小写打印的情况。

给定`List<string>`您要添加的a `listName.Add`，这个简单的循环就可以解决问题：

```
List<Info> tempList;
Info tempInfo;
foreach(var line in listName)
{
  if(string.IsNullOrWhiteSpace(line))
    continue;
  tempInfo = new Info(line);
  foreach(var author in info.Authors)
  {
    if(!infoByAuthor.TryGetValue(author, out tempList))
      tempInfo[author] = tempList = new List<Info>();
    tempList.Add(tempInfo);
  }
} 
```

现在您可以遍历字典，每个都`KeyValuePair<string, List<Info>>`将具有`Key`与作者姓名相同的值，并且将是具有该作者的对象`Value`列表。`Info`请注意，`AuthorName`即使您在不区分大小写的情况下分组，也会从文件中保留 的大小写，这样带有`"jon skeet"`和的两个项目`"Jon Skeet"`将被分组到同一个列表中，但它们的原始大小写将保留在`Info`.

此外，编写代码以确保`Info`每次引用只创建一个实例，出于多种原因（内存、集中更新等），这是更可取的。

或者，使用 Linq，您可以简单地执行以下操作：

```
var grouped = listName.Where(s => !string.IsNullOrWhiteSpace(s))
  .Select(s => new Info(s))
  .SelectMany(i => 
    s.Authors.Select(ia => new KeyValuePair<string, Info>(ia, i))
  .GroupBy(kvp => kvp.Key, kvp => kvp.Value, StringComparer.OrdinalIgnoreCase); 
```

现在您有了可枚举的组，其中`Key`是作者姓名，而内部可枚举是`Info`具有该作者姓名的所有对象。在这里也将观察到关于“两个飞碟”的相同的保留案例的行为。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T05:49:25.200

您正在顺利地发明关系数据库。方便的是，这些已经可用。除了解决实体之间存储关系的问题外，它们还处理并发问题，并得到基于可证明数学的建模技术的支持。

* * *

解析器是他们自己的主题。由于 SQL 是不可能的，这是一个人为的大学作业，我确实有一些观察。

*   *简单*的方法是使用正则表达式。然而，对于大型输入文件，这是非常低效的和糟糕的解决方案。
*   在没有正则表达式的情况下，String.IndexOf() 和 String.Split() 是你的朋友。
*   如果您的评估员无法处理 SQL，那么 LINQ 将会非常令人震惊，但我真的很喜欢 Zoltan 的 LINQ 解决方案，它非常优雅。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-15T05:35:56.560

我会为此使用多值字典：

```
public struct BookInfo
    {
        public string Title;
        public string Journal;
    } 
```

然后创建一个字典对象：

```
var dict = new Dictionary<Author, BookInfo>(); 
```

这样，如果您遇到多个作者，数据将按作者排序，这使得编写未来的代码来处理这些数据变得容易。打印出某个*作者*所有书籍的列表将非常容易，并且不需要繁琐的搜索过程。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-05-17T06:16:23.777

这是此问题的完整代码。它是用一种简单、直接的方法编写的。它可以优化，没有错误检查，并且`AddData`可以通过使用反射以更有效的方式编写方法。但它以一种优雅的方式完成了这项工作。

```
using System;
using System.Collections.Generic;
using System.IO;

namespace MutiItemDict
{
    class MultiDict<TKey, TValue>  // no (collection) base class
    {
        private Dictionary<TKey, List<TValue>> _data = new Dictionary<TKey, List<TValue>>();

        public void Add(TKey k, TValue v)
        {
            // can be a optimized a little with TryGetValue, this is for clarity
            if (_data.ContainsKey(k))
                _data[k].Add(v);
            else
                _data.Add(k, new List<TValue>() { v });
        }

        public List<TValue> GetValues(TKey key)
        {
            if (_data.ContainsKey(key))
                return _data[key];
            else
                return new List<TValue>();
        }
    }

    class BookItem
    {
        public BookItem()
        {
            Authors = new List<string>();
            Editors = new List<string>();
        }

        public int? Year { get; set; }
        public string Title { get; set; }
        public string Book { get; set; }
        public List<string> Authors { get; private set; }
        public List<string> Editors { get; private set; }
        public string Publisher { get; set; }
        public string City { get; set; }
        public int? StartPage { get; set; }
        public int? EndPage { get; set; }
        public int? Issue { get; set; }
        public string Conference { get; set; }
        public string Journal { get; set; }
        public int? Volume { get; set; }

        internal void AddPropertyByText(string line)
        {
            string keyword = GetKeyWord(line);
            string data = GetData(line);
            AddData(keyword, data);
        }

        private void AddData(string keyword, string data)
        {
            if (keyword == null)
                return;

            // Map the Keywords to the properties (can be done in a more generic way by reflection)
            switch (keyword)
            {
                case "Year":
                    this.Year = int.Parse(data);
                    break;
                case "Title":
                    this.Title = data;
                    break;
                case "Book":
                    this.Book = data;
                    break;
                case "Author":
                    this.Authors.Add(data);
                    break;
                case "Editor":
                    this.Editors.Add(data);
                    break;
                case "Publisher":
                    this.Publisher = data;
                    break;
                case "City":
                    this.City = data;
                    break;
                case "Journal":
                    this.Journal = data;
                    break;
                case "Volume":
                    this.Volume = int.Parse(data);
                    break;
                case "Pages":
                    this.StartPage = GetStartPage(data);
                    this.EndPage = GetEndPage(data);
                    break;
                case "Issue":
                    this.Issue = int.Parse(data);
                    break;
                case "Conference":
                    this.Conference = data;
                    break;
            }
        }

        private int GetStartPage(string data)
        {
            string[] pages = data.Split('-');
            return int.Parse(pages[0]);
        }

        private int GetEndPage(string data)
        {
            string[] pages = data.Split('-');
            return int.Parse(pages[1]);
        }

        private string GetKeyWord(string line)
        {
            string[] words = line.Split(' ');
            if (words.Length == 0)
                return null;
            else
                return words[0];
        }

        private string GetData(string line)
        {
            string[] words = line.Split(' ');
            if (words.Length < 2)
                return null;
            else
                return line.Substring(words[0].Length+1);
        }
    }

    class Program
    {
        public static BookItem ReadBookItem(StreamReader streamReader)
        {
            string line = streamReader.ReadLine();
            if (line == null)
                return null;

            BookItem book = new BookItem();
            while (line != "End")
            {
                book.AddPropertyByText(line);
                line = streamReader.ReadLine();
            }
            return book;
        }

        public static List<BookItem> ReadBooks(string fileName)
        {
            List<BookItem> books = new List<BookItem>();
            using (StreamReader streamReader = new StreamReader(fileName))
            {
                BookItem book;
                while ((book = ReadBookItem(streamReader)) != null)
                {
                    books.Add(book);
                }
            }
            return books;
        }

        static void Main(string[] args)
        {
            string fileName = "../../Data.txt";
            List<BookItem> bookList = ReadBooks(fileName);

            MultiDict<string, BookItem> booksByAutor = new MultiDict<string, BookItem>();
            bookList.ForEach(bk =>
                    bk.Authors.ForEach(autor => booksByAutor.Add(autor, bk))
                );

            string author = "Bond, james";
            Console.WriteLine("Books by: " + author);
            foreach (BookItem book in booksByAutor.GetValues(author))
            {
                Console.WriteLine("    Title : " + book.Title);
            }

            Console.WriteLine("");
            Console.WriteLine("Click to continue");
            Console.ReadKey();
        }
    }
} 
```

而且我还想提一下，如果您用 XML 表示数据，则可以避免所有的解析工作。然后数据看起来像：

```
<?xml version="1.0" encoding="utf-8"?>
<ArrayOfBookItem >
  <BookItem>
    <Year>1994</Year>
    <Title>For beginners</Title>
    <Book>Accounting</Book>
    <Authors>
      <string>Bond, james</string>
      <string>Smith John A</string>
    </Authors>
    <Editors>
      <string>Smith Joe</string>
      <string>Doe John</string>
    </Editors>
    <Publisher>The University of Chicago Press</Publisher>
    <City>Florida, USA</City>
    <StartPage>15</StartPage>
    <EndPage>23</EndPage>
  </BookItem>
  <BookItem>
    <Year>2000</Year>
    <Title>Medical advances in the modern world</Title>
    <Authors>
      <string>Faux, M</string>
      <string>Sedge, M</string>
      <string>McDreamy, L</string>
      <string>Simbha, D</string>
    </Authors>
    <StartPage>1</StartPage>
    <EndPage>26</EndPage>
    <Issue>2</Issue>
    <Journal>Canadian Journal of medicine</Journal>
    <Volume>25</Volume>
  </BookItem>
  <BookItem>
    <Year>2012</Year>
    <Title>Shape shifting dinosaurs</Title>
    <Authors>
      <string>McFadden, B</string>
      <string>Goodrem, G</string>
    </Authors>
    <City>Vancouver, Canada</City>
    <StartPage>2</StartPage>
    <EndPage>6</EndPage>
    <Conference>Ted Vancouver</Conference>
  </BookItem>
</ArrayOfBookItem> 
```

以及阅读它的代码：

```
using (FileStream stream =
    new FileStream(@"../../Data.xml", FileMode.Open,
        FileAccess.Read, FileShare.Read))
        {
            List<BookItem> books1 = (List<BookItem>)serializer.Deserialize(stream);
        } 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-05-15T05:23:32.563

您可以使用具有以下简单属性的类：

```
class Book {
    string Title;
    int PageCount;
} 
```

您可以初始化`Book[] lines = Book[myFile.LineCount];`或维护 a `List<Book>`，但 string[] 更容易访问单个行号（`lines[34]`表示第 34 本书和第 34 行）。

但基本上 System.Data.DataTable 可能更适合，因为您的行包含多列。使用 DataTable，您可以访问各个行并按名称访问它们的列。

例子：

```
DataTable dt = new DataTable();
DataTable.Columns.Add("bookName");

DataRow dr = dt.NewRow();
dr["bookName"] = "The Lost Island";
dt.Rows.Add(dr);

//You can access last row this way: 
dt.Rows[dt.Rows.Count-1]["bookName"]. 
```

DataTable 的另一个好处是您可以像在普通 SQL 表上一样对其行使用分组和求和。

*编辑：*最初我的回答使用了结构，但正如@AndrasZoltan 指出的那样，当您不确定应用程序将演变成什么时，使用类可能会更好。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-05-15T05:26:06.240

你应该创建一个类`Book`

```
public class Book
 {
    public string Name { get; set; }
    public string Author { get; set; }
    public string Journal { get; set; }

 } 
```

并保持一个`List<Book>`

```
var books = new List<Book>();
books.Add(new Book { Name = "BookName", Author = "Some Auther", Journal = "Journal" }); 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-05-15T06:13:51.070

您可以为每个项目创建一个类：

```
class BookItem
        {
            public string Name { get; set; }
            public string Author { get; set; }
        } 
```

将每一行的数据读入此类的一个实例，并将它们存储在一个临时列表中：

```
var books = new List<BookItem>();
while (NotEndOfFile())
{
    BookItem book= ReadBookItem(...)
    books.Add(book);
} 
```

拥有此列表后，您可以创建多值字典并通过任何键快速访问任何项目。例如，按作者查找一本书：

```
var booksByAuthor = new MultiDict<string, BookItem>(); 
```

将项目添加到字典：

```
books.ForEach(bk => booksByAuthor.Add(bk.Author, bk)); 
```

然后你可以迭代它：

```
string autorName = "autor1";
Console.WriteLine("Books by: " + autorName);
            foreach (BookItem bk1 in booksByAutor)
            {
                Console.WriteLine("Book: " + bk1.Name);
            } 
```

我从这里得到了基本的多项目词典：

[多值字典？](https://stackoverflow.com/questions/3850930/multi-value-dictionary)

这是我的实现：

```
class MultiDict<TKey, TValue>  // no (collection) base class
        {
            private Dictionary<TKey, List<TValue>> _data = new Dictionary<TKey, List<TValue>>();

            public void Add(TKey k, TValue v)
            {
                // can be a optimized a little with TryGetValue, this is for clarity
                if (_data.ContainsKey(k))
                    _data[k].Add(v);
                else
                    _data.Add(k, new List<TValue>() { v });
            }

            // more members

            public List<TValue> GetValues(TKey key)
            {
                if (_data.ContainsKey(key))
                    return _data[key];
                else
                    return new List<TValue>();
            }

        } 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2012-05-15T05:37:50.477

如果没有更好的文件示例或您希望如何使用数据，您还不清楚您需要什么，但听起来您需要解析字符串并将其放入实体中。以下是使用您上面提到的字段的示例。

```
public IList<Entry> ParseEntryFile(string fileName)
{
    ...
    var entries = new List<Entry>();

    foreach(var line in file)
    {
        var entry = new Entry();
        ...
        entries.Add(entry);
    }
    return entries;
}

public class Entry
{
    public Book BookEntry { get; set; }
    public Author AuthorEntry { get; set; }
    public Journal JournalEntry { get; set; }
}

public class Book
{
    public string Name{ get; set; }
    ...
}

public class Author
{
    public string FirstName { get; set; }
    public string LastName { get; set; }
}

... 
```

# wcf - WCF 服务可以将代理对象返回给客户端吗？

> ID：10594540
> 
> 赞同：4
> 
> 时间：2012-05-15T05:20:24.143
> 
> 标签：wcf, remoting

我是.net 分布式应用程序世界的新手。我知道在 WCF 中，客户端创建了一个可以与服务通信的代理对象。客户端连接后，服务是否可以返回服务中其他对象的代理，而不是客户端创建代理。让我用例子问同样的事情。我的计算机与四个灯相连，我可以通过编程方式打开和关闭它们。我想将这些灯暴露给远程机器。我想创建一个具有四个灯对象实例的 WCF 服务。是否可以通过 WCF 服务公开它们，其中客户端连接到服务并获取代理对象到远程机器中的灯对象之一，然后它直接通过灯对象的代理控制灯。

所以客户端代码将是这样的。

```
ILamp lamp = serviceProxy.GetLampProxy();

lamp.On(); // dispatch the call to remote object in service. 
```

我想知道.net中的远程处理是否可以做到这一点？也欢迎其他方式这样做。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T05:27:52.183

不，代理对象只是反序列化的数据对象。不支持函数和方法。

但是，您可以将它们用作状态对象，并可能创建某种程度的自动化，通过您自己的编码传输任何属性更改，但 WCF 本身除了传输对象包含的数据之外不处理任何事情。

# facebook - 如何将 Facebook 单点登录集成到现有用户/密码登录方案

> ID：10594542
> 
> 赞同：4
> 
> 时间：2012-05-15T05:20:33.957
> 
> 标签：facebook, authentication

我正在使用 Facebook 身份验证来证明我的客户端软件（iOS 原生）代表某个 FB 用户行事。但是，我的客户如何向我的服务器证明这一点，它有自己的登录方案。我想它需要将 FB access_token 传递给我的服务器，以便我的服务器可以查询 Facebook 以获取用户身份？

或者，有没有办法让 Facebook 存储我自己的访问凭据（我现有注册系统的用户名 + 密码）？那么，在 Facebook 登录后，我的客户会从 Facebook 获取它的用户名和密码并使用它来登录我的系统吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T22:52:34.593

好的，这是我对同一问题的务实解决方案。

您[使用 facebook 验证您的 iOSApp](http://developers.facebook.com/docs/tutorials/ios-sdk-tutorial/)。这为您提供了一个**access_token**，然后您可以从 facebook[获取用户的 facebook id ( **fb_id** )](https://developers.facebook.com/docs/reference/api/)。

您现在想要使用此身份验证来验证对与 iOSApp (yourService) 相关的某些服务的请求。

将**fb_id**和**access_token**与您的请求一起安全地发送到 yourService（例如使用 https）。

yourService 然后使用**fb_id**和**access_token**进行任意社交图调用，例如：

[https://graph.facebook.com/fb_id ?field=name&](https://graph.facebook.com/) **access_token** = **access_token**

**如果access_token无效或与****fb_id**不匹配，此调用将返回适当的错误，因此 yourService 现在可以根据返回值完成或拒绝请求。

yourService 和 iOSApp 可以根据 access_token 的权限和状态读取或修改 FB 图，但如果您只是想在用户已经通过您的 iOSApp 进行身份验证时使用 yourService 对用户进行身份验证，那么以上就是您所需要的。

关于 access_token 转移的 FB 政策可能存在一些问题，但只要您使用 https 进行转移，它就与 iOSApp 和 Facebook 之间的交换一样安全。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T00:31:06.043

我最终做的是让我的服务器通过 Facebook 应用程序请求向客户端发送一个随机登录密码。即，iOS 客户端将 fb_id 发送到我的服务器，我的服务器生成随机密码并将其发布为 Facebook app_request。客户端从 Facebook 获取 app_request 并使用密码向我的服务器进行身份验证。

# ruby-on-rails - 轻松查询：如何在 Rails 中精确调度作业？

> ID：10594544
> 
> 赞同：0
> 
> 时间：2012-05-15T05:20:39.040
> 
> 标签：ruby-on-rails, delayed-job

我想在一个非常精确的时间运行一个进程。现在我正在使用延迟工作：

```
handle_asynchronously :make_live, :run_at => (exact_time_down_to_the_second) 
```

但它根本不精确。例如，当我这样做时：

```
handle_asynchronously :make_live, :run_at => (Time.now + 30.seconds) 
```

...它在 30 秒 +/- 15 秒内执行。随后的尝试发生在 6 秒`Time.now`左右，有时几乎是立即发生。

有没有一种精确的方法来做到这一点？没有卡在延迟的工作上。

# 编辑

当我做：

```
handle_asynchronously :make_live, :run_at => Proc.new {|event| event.occurs_at } 
```

...它运作良好（似乎将队列轮询到第二个）。即使使用短间隔（30 秒）。

看起来只是控制台测试效果不佳。

所以这解决了我现在的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:52:57.623

好的。您的工作包装对您来说不够精确。我看到 2 个选项：

1.  替换或修改作业包装以更精确。Resque 可能会有所帮助，或者您可以查看 Delayed::Job 内部以更频繁地轮询工作。可行，但我更喜欢这个技巧：
2.  在需要运行之前将作业安排 60 秒。作为参数传递您需要执行作业的确切时间。然后，运行`sleep until Time.now == exact_time_down_to_the_second`

繁荣！精确执行，精确到秒。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T05:33:36.313

延迟可能是由两个因素造成的：延迟作业定期检查作业。延迟的作业也按顺序执行作业，所以如果队列中已经有一些作业，它就会被延迟。

如果您知道并且可以提前定义任务（即与当前时间无关），请使用作为[cronjobs](https://github.com/javan/whenever)的包装器的 When gem。

为 Delayedjobs 创建单独的队列也可以减少长队列造成的延迟。

您还可以切换到[Resque](https://github.com/defunkt/resque)，它类似于内存队列，它可能会以较短的间隔检查队列。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-29T18:33:44.933

默认情况下，延迟作业设置为每 5 秒轮询一次数据库。您可以调整它，使其每秒轮询一次。我很好奇需要这种精度水平的用例。也许有更好的解决方案？

# c++ - visual c++：如何将指向数组的指针作为参数传递？

> ID：10594548
> 
> 赞同：1
> 
> 时间：2012-05-15T05:20:59.197
> 
> 标签：c++, visual-c++, c++-cli

下面显示的代码是 Visual C++

```
array<Byte>^ b = gcnew array <Byte> (filesize);
fs->Read(b,0,b->Length);
unsigned char *pb;
pb=(byte*)malloc(b->Length);    //pb is unmanaged here.

for(int i=0;i<b->Length;i++)
{
     *(pb+i)=InverseByte(b+i);
} 
```

我想调用下面的函数来反转每个字节。我怎样才能做到这一点？我想对托管数组b的每个字节进行逆运算，并将其放入非托管数组b中。

```
unsigned char InverseByte(unsigned char* PbByte)
{
    //something;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T05:30:04.010

修复 InverseByte 的声明：

```
unsigned char InverseByte(unsigned char value) 
```

所以你可以像这样使用它：

```
for (int i=0; i < b->Length; i++)
{
    pb[i] = InverseByte(b[i]);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T06:16:37.340

我认为你的意思是按位否定。

```
unsigned char InverseByte(unsigned char c)
{
    return ~c;
} 
```

请注意，我将参数更改为按值传递，而不是传递指向该值的指针。

我也看不出你为什么使用指针算法而不是索引。这只会让你的代码更难阅读。循环应该这样写：

```
for(int i=0;i<b->Length;i++)
{      
    pb[i] = InverseByte(b[i]);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-15T09:12:32.513

```
unsigned char InverseByte(unsigned char c)
{
    return (c>>7)|((c&64)>>5)|((c&32)>>3)|((c&16)>>1)|((c&8)<<1)|((c&4)<<3)|((c&2)<<5)|((c&1)<<7);
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-15T16:05:39.720

从评论中可以清楚地看出，您正在**反转**字节（即从前到后重新排序）而不是**反转**（即从最大值中减去变量）或**取反**（即翻转 1 和 0），因此应该相应地命名函数。

这是Seander 的 bithacks 中的一个[简洁的小片段：](http://graphics.stanford.edu/~seander/bithacks.html#BitReverseObvious)

```
 unsigned int v;     // input bits to be reversed
   unsigned int r = v; // r will be reversed bits of v; first get LSB of v
   int s = sizeof(v) * CHAR_BIT - 1; // extra shift needed at end

   for (v >>= 1; v; v >>= 1)
   {   
       r <<= 1;
       r |= v & 1;
       s--;
   }

   r <<= s; // shift when v's highest bits are zero
   return r; 
```

如果您将 Hans Passant 的答案与此结合起来，您应该拥有所有功能来组合您的功能。

# winapi - 在 win32 HRGN 对象内绘制

> ID：10594555
> 
> 赞同：0
> 
> 时间：2012-05-15T05:21:51.313
> 
> 标签：winapi

我在win32中实现了一个边框控制，我已经为那个边框实现了各种样式。我正在使用简单的 MoveTo() 和 LineTo() 命令来绘制边框。我的问题是，当我为我的边框选择一些新样式时，它开始在当前绘制的边框上绘画。我知道我需要刷新/重新粉刷我的窗口才能获得新的画布。我现在使用 InvalidateRect() 来实现这个目的。但我担心，如果我有其他窗口与我的边框控制窗口（作为子窗口）相关联，这将如何影响子窗口？我需要重新绘制此窗口上的所有内容，对吗？

其次，无论如何我可以在 GDI 区域 (HRGN) 内画线吗？到目前为止，我所遇到的只是如何用一些填充颜色填充 HRGN。无论如何我可以检索与该特定 HRGN 对象关联的 HDC 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:49:14.733

这不是问题，您绘制的任何内容都会被子窗口矩形自动裁剪。不需要额外的代码。底层窗口样式标志是 WS_CLIPCHILDREN。

您不能在区域中绘制线，它们也不与设备上下文相关联。除了绘制区域然后在绘制消息处理程序中绘制线条之外。您可能对路径感兴趣。MSDN 文档[从这里开始](http://msdn.microsoft.com/en-us/library/dd183316%28v=vs.85%29)。

# javascript - 使用 jquery 选择器将选定的值传递给函数

> ID：10594557
> 
> 赞同：4
> 
> 时间：2012-05-15T05:22:12.347
> 
> 标签：javascript, jquery, select, menu

我是一个新的 jquery/js 用户，试图将参数从选择器传递给函数。这是一些代码：

```
// function to select data
var data = [
    {val: 10, year: 1990}, {val: 20, year: 1991}
]
var year_data = []
function select_year_data(y) {
    year_data = data.filter(function(d) {return d.year==y})
} 
```

// 选择器

```
<select name="Year" id = "year_menu" style="width: 230px; position: absolute; left: 400px; top: 50px">
<option value=1990>1990</option>
<option value=1991>1991</option>
</select> 
```

我想做的是这样的：

```
<onchange>select_year_data($('#year_menu.val()') 
```

但我知道这不太对。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-15T05:27:21.257

这里可以使用jquery change方法[Change()](http://api.jquery.com/change)

```
$(function()
{
  $('#year_menu').change(function(){
      select_year_data($(this).val())
  });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T05:23:48.543

像这样？

```
function select_year_data() {
    var y = $('#year_menu.val()';
    year_data = data.filter(function(d) {return d.year==y})
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-15T05:28:55.303

如果您将函数用作 [$.onchange](http://api.jquery.com/onchange)的回调，那么您将始终根据用户对变量的选择来选择数据`year_data`

```
function select_year_data() {
    var y = $(this).val();
    year_data = data.filter(function(d) {return d.year==y});
}
// call that func on change event
$('#year_menu').change(select_year_data);

// or straight forward one without another function
$('#year_menu').change(function(){
  var y = $(this).val();
  year_data = data.filter(function(d) {return d.year==y});
});
// assuming year_data and data is declared in global scope. 
```

# jquery - 使用 jquery 从 HTML 页面中提取名称

> ID：10594558
> 
> 赞同：2
> 
> 时间：2012-05-15T05:22:33.810
> 
> 标签：jquery, asp.net, regex, post, jquery-selectors

我的大学提供成绩卡，这真的很混乱，计算最终结果真的很困难。因为所有科目的期末考试权重不同。

我正在开发一个 BCA 结果计算器。这是这个[https://www.bobdn.com/IGNOU_BCA_Result.aspx](https://www.bobdn.com/IGNOU_BCA_Result.aspx)

我在 div 中有以下代码（我无法更改它，因为它是从大学网站返回的）

```
<HTML>
<HEAD>
<META NAME="GENERATOR" Content="Microsoft Visual Studio 6.0">
<TITLE>Grade Card</TITLE>
<h1> Grade Card </h1>
<h1>&nbsp;</h1>
(All programs Except for BIT/ADIT)

</HEAD>
<BODY  bgcolor=Lavender>

<form name=FRMResult method=post action=Result.asp>
<center> <font size=+2> Indira Gandhi National Open University </font>
 <br> Grade Card Status as on May 09, 2012<br> (For information only)</center>
 Enrolment Number: 092853268<br> Name: SHASHWAT TRIPATHI<br> Program: BCA<p><font size=-1> The Status is indicative only & cannot be used as a substitute for the final grade card which is sent by SRE at the end of a semester.</font><br><table border=1 width='80%' background='ignou.gif'><tr><td width='10%'>  Course Code </td><td width='10%' align=center>  Asgn1 </td><td width='10%' align=center>  Asgn2 </td><td  width='10%' align=center>  Asgn3 </td><td  width='10%' align=center>  Asgn4 </td><td  width='10%'>  Term End Theory </td><td  width='10%'>  Term End Practical</td><td width='10%'>  Status </td></tr><tr><td width='5%' >BCS61</td><td width='10%' >80</td><td width='10%' >73</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >40</td><td width='10%' >67</td><td width='20%' >Completed</td></tr><tr><td width='5%' >BSHF1</td><td width='10%' >35</td><td width='10%' >35</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >41</td><td width='10%'>-</td><td width='20%' >Completed</td></tr><tr><td width='5%' >CS5</td><td width='10%' >80</td><td width='10%' >87</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >48</td><td width='10%'>-</td><td width='20%' >Completed</td></tr><tr><td width='5%' >CS6</td><td width='10%' >70</td><td width='10%' >67</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >59</td><td width='10%'>-</td><td width='20%' >Completed</td></tr><tr><td width='5%' >CS60</td><td width='10%' >90</td><td width='10%' >87</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >53</td><td width='10%'>-</td><td width='20%' >Completed</td></tr><tr><td width='5%' >CS610</td><td width='10%' >60</td><td width='10%' >60</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >48</td><td width='10%'>-</td><td width='20%' >Completed</td></tr><tr><td width='5%' >CS611</td><td width='10%' >80</td><td width='10%' >80</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >52</td><td width='10%' >88</td><td width='20%' >Completed</td></tr><tr><td width='5%' >CS612</td><td width='10%' >70</td><td width='10%' >67</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >70</td><td width='10%'>-</td><td width='20%' >Completed</td></tr><tr><td width='5%' >CS62</td><td width='10%' >80</td><td width='10%' >80</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >40</td><td width='10%' >91</td><td width='20%' >Completed</td></tr><tr><td width='5%' >CS63</td><td width='10%' >90</td><td width='10%' >93</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >48</td><td width='10%' >85</td><td width='20%' >Completed</td></tr><tr><td width='5%' >CS64</td><td width='10%' >59</td><td width='10%' >59</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >40</td><td width='10%'>-</td><td width='20%' >Completed</td></tr><tr><td width='5%' >CS65</td><td width='10%' >50</td><td width='10%' >53</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >97</td><td width='20%' >Completed</td></tr><tr><td width='5%' >CS66</td><td width='10%' >80</td><td width='10%' >80</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >57</td><td width='10%'>-</td><td width='20%' >Completed</td></tr><tr><td width='5%' >CS67</td><td width='10%' >83</td><td width='10%' >83</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >93</td><td width='20%' >Completed</td></tr><tr><td width='5%' >CS68</td><td width='10%' >63</td><td width='10%' >63</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >62</td><td width='10%' >77</td><td width='20%' >Completed</td></tr><tr><td width='5%' >CS70</td><td width='10%' >70</td><td width='10%' >67</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >45</td><td width='10%'>-</td><td width='20%' >Completed</td></tr><tr><td width='5%' >CS71</td><td width='10%' >90</td><td width='10%' >87</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%'>-</td><td width='20%' >Not Completed</td></tr><tr><td width='5%' >FST1</td><td width='10%' >66</td><td width='10%' >66</td><td width='10%' >-</td><td width='10%' >-</td><td width='10%' >73</td><td width='10%'>-</td><td width='20%' >Completed</td></tr></table><br/><font size=-1 >Not with standing the result published/declared, any case of UFM(Unfairmeans) if found will make such result null and void.</font><p>&nbsp;</p><u>Note:- Assignment 4 and TE Practical do not apply to all the courses.</u><font size=-1 color=blue><center>Disclaimer: This electronically generated information does not have any legal validity</font></center>
<P>&nbsp;</P>

<a href="javascript:history.back()">Back </a>

<!--#'include file=scroll.js-->

</BODY>
</HTML> 
```

假设我把这段代码放在一个带有 ID 的 div 中，`tempDiv` **现在我如何从`tempDiv`**

此外，这里是一个[jsFiddle](http://jsfiddle.net/bsBCR/4/)，它显示了来自大学的 HTML 的相关部分。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T07:03:54.983

假设您的 html 将保持不变...您可以使用以下代码

```
var z = $('form').html();    //grab the html
var za = z.split('<br>',4);  //split using <br> tags
var name = za[3];            //the element which has the name

var purename = name.replace('Name: ','');  //replace 'Name: ' with space to get pure name
alert(purename);​ //alert it 
```

如果 IGNOU 更改了 html，你将不得不再次编辑它。

[JSFiddle 示例](http://jsfiddle.net/lonewolfs/bsBCR/5/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T06:27:29.800

这可能有效：

```
function getNameProgram(){

   var strTotal=document.getElementById('tempDiv').innerHTML;
   var ind1=strTotal.indexOf('Name');
   var ind2=strTotal.indexOf('Program');
   var ind3=strTotal.indexOf('<P><FONT size=-1>');
   var strName=strTotal.substring(ind1,ind2);
   var strProgram=strTotal.substring(ind2,ind3);
   strName=$.trim(strName.replace('Name:','').replace('<BR>',''));
   strProgram=$.trim(strProgram.replace('Program:',''));

   alert('MYNAME:'+ strName + '\n' + 'MYPROGRAM:' + strProgram  );

} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-15T06:32:41.823

此答案假定您已经从远程服务器检索了 HTML 并将其加载到您的 HTML 页面上。一旦进入您的页面并在 DOM 的上下文中，以下代码将从 HTML 中检索名称：

```
var form = $('form').text();
var nameIndex = form.indexOf("Name: ");
//alert(i);
alert(form.substring(134 + 5));   // prints the name 
```

有关演示，请参见[http://jsfiddle.net/bsBCR/2/ 。](http://jsfiddle.net/bsBCR/2/)

需要注意的是，许多系统都有 API，您可以使用这些 API 更轻松地从系统中检索数据。API 就像您的应用程序和第三方应用程序之间的合同，如果第三方承诺不更改该 URL 的“方法签名”，您将使用相同的 URL 来检索数据。

在检索和解析 RAW HTML 时，没有契约。用简单的英语来说，如果大学改变了那个 HTML 的结构，你的申请就会崩溃。准备好将其添加为风险，并在未来有必要时制定解决该问题的策略。

# facebook-fql - 如何使用 FQL 将顶部签入位置？

> ID：10594561
> 
> 赞同：0
> 
> 时间：2012-05-15T05:22:59.380
> 
> 标签：facebook-fql, facebook-opengraph

有没有办法把使用 FQL 检查的前 10 个地方拉起来？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T06:05:09.250

这是不可能的。您只能通过索引字段查询 FQL - 例如通过用户 ID 和页面 ID。不通过其他属性查询。

# parameters - Jenkins触发时间参数插件

> ID：10594568
> 
> 赞同：4
> 
> 时间：2012-05-15T05:23:41.203
> 
> 标签：parameters, jenkins, jenkins-plugins

我们有很多 jenkins 任务来处理一些与日期相关的数据，例如，每小时、每天的聚合。

所有这些都配置为定期运行，但原生 jenkins 无法使用动态参数自动触发定期作业，我们必须在执行时计算脚本内部所需的参数，例如在 bash 脚本代码中：

```
PREVHOUR=$(date --date="-1 hour" "+%Y-%m-%d %H") 
```

我们还可以使用**$BUILD_ID**环境变量来获取构建开始时间。

**问题是：** 当所有的槽（工人）都忙时，詹金斯把这个工作放到 **队列**中。并且在触发后的下一个小时执行这样的任务时，参数计算会出错。

因此，我们找不到获取**TRIGGER time**的方法，*而不是构建 start time*。

当然，也有一些不方便的解决方案，例如：

*   在保留的机器上运行简单的定期作业，该作业通过带有参数的 url 触发其他作业
*   跟踪脚本上次运行时间的文件

我们试图找到适合我们需求的插件，并找到 [了这个插件](https://wiki.jenkins-ci.org/display/JENKINS/Jenkins+Dynamic+Parameter+Plug-in)，但它只能在手动（UI“立即构建”点击）模式下工作。

Jenkins是否有任何插件可以在周期性触发时计算动态参数？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-15T10:35:27.847

您可以使用[ScriptTrigger](https://wiki.jenkins-ci.org/display/JENKINS/ScriptTrigger+Plugin)插件。它定期评估 Groovy 脚本并支持参数化构建。

1.  向项目添加`TRIGGER_TIME`参数。
2.  使用 Groovy 脚本：

    ```
    now = new Date();
    param = new File("trigger.time");
    param.write("TRIGGER_TIME="+now.toString());
    return true; 
    ```

    它会在每次轮询时将触发时间写入属性文件“ `trigger.time`”并触发新的构建。

3.  设置`Properties File Path`（在高级设置中）为“ `trigger.time`”，每个计划的构建都将获得`TRIGGER_TIME`指定时间的参数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T05:56:18.723

两个建议：

1.  恕我直言，触发工作是一个完全合理的解决方案。您可以使用更方便的方法来触发作业 -[参数化触发器插件](https://wiki.jenkins-ci.org/display/JENKINS/Parameterized+Trigger+Plugin)。

2.  另一种方法是使用[EnvInject Plugin](https://wiki.jenkins-ci.org/display/JENKINS/EnvInject+Plugin)。例如，您可以在脚本中计算参数，将它们保存到属性文件中，然后使用插件从文件中注入环境变量。[看到这个答案](https://stackoverflow.com/a/10430129/1178189)。

# function - Powershell Out-Host -paging -or- more 来限制函数的输出

> ID：10594571
> 
> 赞同：2
> 
> 时间：2012-05-15T05:23:55.437
> 
> 标签：function, powershell, paging

我制作了一个功能，为用户提供说明。当我调用它时，我希望一次只显示一页（屏幕）信息。

我试过使用

```
function1 | Out-Host -paging 
```

和

```
function1 | more 
```

但它们都不起作用。函数是一堆`Write-Host`s。我需要在函数中定义一些东西吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T06:24:12.220

Out-Host 需要一个对象流，而 write-host 不这样做。它只是写入控制台。相反，请使用 Write-Output，然后尝试 Out-Host -Paging。

# c# - 在 Windows 窗体中的按钮单击事件中播放 mp3 文件

> ID：10594574
> 
> 赞同：5
> 
> 时间：2012-05-15T05:24:17.053
> 
> 标签：c#, winforms, mp3, audio-player

如何在 Windows 窗体中的按钮单击事件期间播放 .mp3 文件？

我是 C# 的新手，任何指向此的指针都会非常有帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-15T05:37:47.357

您可以使用 WindowsMediaPlayer COM 控件播放 mp3。

这是来自 msdn的[指南。](http://msdn.microsoft.com/en-us/library/windows/desktop/dd564585%28v=vs.85%29.aspx)

```
WMPLib.WindowsMediaPlayer player = new WMPLib.WindowsMediaPlayer();
player.URL = @"track.mp3";
player.controls.play(); 
```

您也可以使用[SoundPlayer](http://msdn.microsoft.com/en-us/library/System.Media.SoundPlayer.aspx)播放 wav 文件。还有几个第三方 .net mp3 库。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-15T06:45:35.733

我想知道您是否可以“窃取” WPF 的 MediaPlayer，它就像提到的 SoundPlayer，但也能够播放 MP3。

```
var player = new System.Windows.Media.MediaPlayer();
player.Open(new System.Uri("myfile.mp3"));
player.Play(); 
```

还没有尝试过，但它可以工作，这样你就不需要使用外部库。有关 MSDN 的更多信息：http: [//msdn.microsoft.com/en-us/library/system.windows.media.mediaplayer](http://msdn.microsoft.com/en-us/library/system.windows.media.mediaplayer)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-23T12:09:37.137

您必须使用 .wav 声音文件，这是播放声音剪辑的最简单和最好的方式

```
System.Media.SoundPlayer s = new System.Media.SoundPlayer();
              s.SoundLocation = "C:\\mps.wav" ; 
              s.Load() ; 
              s.Play(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-15T05:26:49.590

您可以添加类似 SoundManager 2 的内容，并在 onClick 事件中调用方法 play()

[http://www.schillmania.com/projects/soundmanager2/doc/getstarted/](http://www.schillmania.com/projects/soundmanager2/doc/getstarted/)

我不知道 C# 是否已经做了一些事情来做到这一点。

# python - Django NoArgsCommand 给出 NameError: name ' ' is not defined

> ID：10594587
> 
> 赞同：0
> 
> 时间：2012-05-15T05:25:23.433
> 
> 标签：python, django, redis, crontab, django-celery

我正在尝试制作一个自定义命令以在我的 celery crontabs 上运行，该命令从我的数据库中提取数据，创建一个列表，然后将该信息作为列表转储到 redis 中。然后，其他工作人员将使用此列表。

但是，我收到了一个 NameError，尽管阅读了相关的堆栈和 Google 帖子，我仍然无法解决这个问题。

我的代码如下：

```
from django.core.management.base import NoArgsCommand, CommandError
from detail.models import SD
import redis

class Command(NoArgsCommand):

    help = 'Gathers the symbols from the database and generates a list for crontabs, saving to redis.'

    def handle_noargs(self, **options):

        all = SD.objects.all()

        data = []

        for info in all:
            data.append(info.symb)  

        r = redis.Redis()

        try:
            r.delete('allsymbols')
        except:
            pass

        for xyz in data: **<---- the NameError refers to this line**
            r.rpush('allsymbols', xyz) 
```

**追溯**

```
File "C:\.....command.py", line 5, in <module>
class Command(NoArgsCommand):
File "C:\.....command.py", line 26, in Command
for xyz in data: 
```

NameError：名称“数据”未定义

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T12:10:28.267

脚本包含混合制表符和空格。

[根据pep8](http://www.python.org/dev/peps/pep-0008/) ，您应该只使用空格，但只要您在所有脚本中使用相同的空格，您就可以选择。

# matlab - matlab在mathematica中subs()的等效函数

> ID：10594590
> 
> 赞同：2
> 
> 时间：2012-05-15T05:25:38.177
> 
> 标签：matlab, wolfram-mathematica

我有一个 matlab m 文件，以便绘制如下所示的积分。我想用mathematica重写这段代码，但我不知道subs（）的任何等效函数！有没有身体帮助我？

```
syms x y w;
fun = (-1/(4.*pi)).*log(x.^2+(y-w).^2);
integral = int(fun, w); 
res_l = subs(integral, w, -0.5);
res_u = subs(integral, w, 0.5);
res = res_u - res_l;
ezsurf(res, [-1,1]); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-15T07:22:02.300

等效的 Mathematica 操作是使用函数实现的，该`ReplaceAll`函数可以编写如下。

```
Integrate[Sin[x], x] /. x -> 3
(*Out:  -Cos[3] *) 
```

如果要替换多个值，可以这样实现：

```
Integrate[Sin[x], x] /. x -> # & /@ { 7, 5, 8, 11, 13}
(* Out: {-Cos[7], -Cos[5], -Cos[8], -Cos[11], -Cos[13]} *) 
```

或者如 Mr.Wizard 所建议的更紧凑和有效的方法：

```
Integrate[Sin[x], x] /. x -> {7, 5, 8, 11, 13} 
```

# android - 如何在android网络视图中隐藏查找结果

> ID：10594592
> 
> 赞同：2
> 
> 时间：2012-05-15T05:25:49.657
> 
> 标签：android, webview

我是 android 新手，我尝试创建 Epub 阅读器。

我已经阅读了 Android Webview 中的 Epub 文件，现在我正在创建查找功能

我使用此代码在 webview 中查找任何文本，它工作正常，但我将转到我的应用程序中的下一页 stile 我的 webview 显示查找项目。

代码 ：

```
 int i = webViewRead.findAll(text);
 Method m = WebView.class.getMethod("setFindIsUp", Boolean.TYPE);
 m.invoke(webViewRead, true); 
```

所以，我的问题是如何隐藏结果。我已经尝试创建我的 Webview 的新实例（和 Relode Webview Like webViewRead.reload(); ）但它对我不起作用。

有什么办法吗？？（我在 webview 中显示的内容是 xhtml 页面）。

使用这种方法查找文本的另一件事是用绿色突出显示
是他们以红色显示查找文本的任何方式。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-09-28T11:13:54.897

为什么不使用：

```
webViewRead.clearMatches(); 
```

?

格雷格

# facebook - facebook喜欢和分享计数显示相同的数字

> ID：10594599
> 
> 赞同：2
> 
> 时间：2012-05-15T05:26:26.117
> 
> 标签：facebook, facebook-graph-api

我的页面上有 fb-like 和 fb-share 按钮，但是当我点击喜欢或分享按钮时，喜欢和分享的计数同时增加。

例如 喜欢我的网页后喜欢**计数 = 4 和分享计数 = 3****喜欢计数 = 5 和分享计数 = 5**

这就是问题

![在此处输入图像描述](../Images/871d8e433339a9a3029a41e60095713a.png)

**类似FB的按钮代码**

```
<iframe src="http://www.facebook.com/plugins/like.php?href=<%=ShareURL.ToString() %>&layout=button_count&show_faces=false&width=100&action=like&font=lucida+grande&colorscheme=light&height=21" scrolling="no" frameborder="0" style="border: none; overflow: hidden; width: 85px;height: 21px;" allowtransparency="true"> 
```

**FB分享按钮代码**

```
 <div style="display: inline; float: right; margin-removed 80px;">
   <a href="http://www.facebook.com/sharer.php" name="fb_share">
      share_url="<%=ShareURL.ToString() %>" type="button_count">Share</a>
   <script src="http://static.ak.fbcdn.net/connect.php/js/FB.Share">
          type="text/javascript"></script> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-09-01T15:03:04.997

Facebook Like 和 Share 的计数器必须显示相同的数字。见官方说明： [https ://developers.facebook.com/docs/plugins/share-button#faqlikecount](https://developers.facebook.com/docs/plugins/share-button#faqlikecount)

> **我的分享按钮旁边显示的数字是由什么组成的？**
> 
> 显示的数字是以下各项的总和：
> 
> *   您的网址的点赞数
> *   您的 URL 的共享数量（这包括将链接复制/粘贴回 Facebook）
> *   Facebook 上有关您的 URL 的故事的点赞数和评论数

可以在 Like 按钮常见问题解答中找到相同的规则：[https ://developers.facebook.com/docs/plugins/like-button#faq](https://developers.facebook.com/docs/plugins/like-button#faq)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T05:33:59.527

让您使用相同的应用程序变量来进行喜欢和分享计数。因此，当您增加分享数时，您的点赞数会继续增加。

为每个使用不同的变量。

# android - 使用服务和广播接收器锁定相机

> ID：10594607
> 
> 赞同：0
> 
> 时间：2012-05-15T05:26:59.237
> 
> 标签：android, service, android-camera

我的应用程序运行服务并锁定相机以拍照或录像，但一段时间后相机会自动解锁。尝试使用警报管理器，但它不适用于相机锁定功能。给出无法打开相机服务的错误。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T10:17:04.050

好的，一开始你的相机可以正常打开。如果是，那么我认为您的相机已打开但未锁定。所以你需要再次锁定它。每当您想再次锁定它时。

```
if (mCamera != null)
{
      mCamera.lock();
} 
```

如果你想重新打开你的相机，然后在你的警报管理器中使用它，它不会给你运行时错误。或者您只能再次锁定相机。您可以在 10 或 15 分钟内重复此过程。

```
if (mCamera != null) {
      mCamera.release();
      mCamera = null;
}
mCamera = Camera.open(); 
```

# ruby - 这个单例示例在 Ruby 中是否合法？

> ID：10594608
> 
> 赞同：0
> 
> 时间：2012-05-15T05:27:14.727
> 
> 标签：ruby, class, instantiation

改编自此[链接](http://www.ruby-doc.org/docs/ProgrammingRuby/html/tut_classes.html)的示例。不知道调用有什么问题`Logger.create.id`，还是我应该`l = Logger.new`先调用？

```
class Logger
  private_class_method :new
  @@logger = nil

  def Logger.create
    @@logger = new unless @@logger
    @@logger
  end
end

Logger.create.id 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T05:31:19.030

您的代码很好，除了最后一行。也许你的意思是：

```
p Logger.create.object_id 
```

# jquery - 用于拦截表单提交的 Ajax 代码不适用于 Twitter

> ID：10594613
> 
> 赞同：0
> 
> 时间：2012-05-15T05:27:30.960
> 
> 标签：jquery, ajax, twitter, google-chrome-extension, form-submit

我正在开发一个 chrome 扩展，它拦截网页的表单提交事件并检查标题。我正在使用 jquery 表单拦截。它适用于大多数网站，但我发现它不适用于 Twitter。有没有人有同样的经历？我不确定是否是 API 的任何更改或我的代码中的一些错误。附上我的表单拦截代码。

```
$("form").submit(function(e) {
  var $this = $(this);
  e.preventDefault();
  process(function() {
  $this.unbind('submit');
  $this.submit();
  });
}); 

process = function(callback) {
  alert("inside process");
  alert("location.href");
}; 
```

谢谢，尚卡尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T09:12:11.267

只是一个更新。它实际上适用于侧边栏登录（在下面的屏幕截图中提供）。但仅在常规登录时，它不起作用。可能是一项安全功能。但我发现所有密码管理器实用程序都可以拦截提交。如果我找到原因会更新。

谢谢，尚卡尔

![登录页面](../Images/7395b73ee245f315deea72603e00fcae.png)

# javascript - 将无数个复选框值发送到文本

> ID：10594614
> 
> 赞同：0
> 
> 时间：2012-05-15T05:27:33.473
> 
> 标签：javascript, text, checkbox

我有一个带有 n 行带有复选框的表格，我想要做的是如果我选择一个复选框，值应该转到文本区域，所以我首先将所有元素存储在一个数组中，但它没有发生，因为你可以看到我也添加了警报以进行检查。请帮忙。

```
window.onload = function () { 
    var oRows = document.getElementById('rnatable').getElementsByTagName('tr');
    var iRowCount = oRows.length;
    alert('Your table has ' + iRowCount + ' rows.');

    var i = 0;
    cb = new Array(iRowCount);
    while (i <= iRowCount) {
        var id = 'check'+ i;
        cb[i] = document.getElementById(id);
        i++;
    }
    //alert('Your table has ' + cb[i].value + ' rows.');
    for(var a=0; a < iRowCount; a++) {
        var fasta = document.getElementById('fasta');
        if(cb[a].checked) {
            fasta.value = cb.value + ","; 
        };
    };
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T05:33:16.113

您是否在控制台中看到错误？我怀疑当`while (i <= iRowCount)`运行时`i === iRowCount`没有`document.getElementById(id)`产生结果，然后当你使用该值时，会发生不好的事情。

此外，循环中的每一圈都会`fasta`覆盖之前的值。你可能想要类似的东西`fasta.value += cb.value + ",";`。

# javascript - Crypto Js 和 Rails 中的 AES 加密给出不同的结果

> ID：10594616
> 
> 赞同：5
> 
> 时间：2012-05-15T05:28:04.057
> 
> 标签：javascript, ruby-on-rails-3, encryption, aes

我正在尝试使用带有 Crypto Js（在客户端）和 Rails 中的 OpenSSL（在服务器端）的 AES-256-CBC 加密文本，它们给了我不同的结果。这解释了为什么我无法在服务器端解码加密文本，反之亦然。

这是我的做法：

# 客户端（加密 JS） - 已编辑

```
iv = CryptoJS.enc.Base64.parse("kT+uMuPwUk2LH4cFbK0GiA==")

key = CryptoJS.enc.Hex.parse("6476b3f5ec6dcaddb637e9c9654aa687")

encrypted_text = CryptoJS.AES.encrypt("test", key, {mode: CryptoJS.mode.CBC, formatter : Base64Formatter, iv : iv})

encrypted_text => "7Qu7/V7yXHt67wMOV0/1Tg==" 
```

# 服务器端 (Rails OpenSSL) - 已编辑

```
iv = Base64.decode64("kT+uMuPwUk2LH4cFbK0GiA==")

key = "6476b3f5ec6dcaddb637e9c9654aa687"

cipher = OpenSSL::Cipher::Cipher.new('aes-256-cbc')

cipher.encrypt

cipher.key = key

cipher.iv = iv

text = cipher.update("test") + cipher.final

encrypted_text = Base64.strict_encode64(text)

encrypted_text => "fHhNBuopuuthdq2SFvvgDw==" 
```

有谁知道我做错了什么？我只是在这一点上难住了。

非常感谢您的帮助..谢谢！

保罗

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-27T14:51:27.947

根据文档 CryptoJS 似乎根据密钥大小选择 128/192/256。该密钥从十六进制解析回二进制时为 16 个字节，这意味着它将使用 AES-128-CBC 进行编码。因此，在 Ruby 端选择 AES-256-CBC 是不正确的。

此外，密钥没有在 ruby​​ 端进行十六进制解码。通过这些更改，代码如下所示：

```
iv = Base64.decode64("kT+uMuPwUk2LH4cFbK0GiA==")

key = ["6476b3f5ec6dcaddb637e9c9654aa687"].pack("H*")

cipher = OpenSSL::Cipher::Cipher.new('aes-128-cbc')

cipher.encrypt

cipher.key = key

cipher.iv = iv

text = cipher.update("test") + cipher.final

encrypted_text = Base64.strict_encode64(text) 
```

输出是`=> "7Qu7/V7yXHt67wMOV0/1Tg=="`. 正是我们所期望的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T05:51:32.467

在行中：

```
key = CryptoJS.enc.Hex.parse("abcdefghijklmnopqrstuvwxyz012345") 
```

字符串“abcdefghijklmnopqrstuvwxyz012345”不是十六进制表示法。我会从那开始。

# facebook - Facebook 注销按钮未显示

> ID：10594617
> 
> 赞同：1
> 
> 时间：2012-05-15T05:28:08.533
> 
> 标签：facebook

我在我的一个网站上使用 Facebook Javascript API，并使用以下代码显示登录按钮：

```
<div class = 'connect_fb'>
        <fb:login-button autologoutlink="true" perms="email,user_birthday,status_update,publish_stream"></fb:login-button>
 </div> 
```

直到今天它工作正常。但现在我观察到了一些变化。

1.  与旧的相比，登录按钮变小了。

2.  它显示的登录框不同。

3.  使用 Facebook 登录后没有注销选项。

4.  注销后立即不再显示登录按钮，Facebook 会话仍然存在。直到今天，它会从 Facebook 系统中注销用户并显示登录按钮。

任何人都遇到这样的问题..？我使用的 XFBML 是否有可能已被弃用..？

你可以在我的网站上看到这个问题。

[http://bit.ly/H1hAZE](http://bit.ly/H1hAZE)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T07:51:43.893

据我所知，他们不推荐使用 xFBML 标签进行登录和注销，看看这里

[https://developers.facebook.com/docs/reference/javascript/](https://developers.facebook.com/docs/reference/javascript/)

# django - 如何查看在 Django 中生成的 HTML Sphinx？

> ID：10594618
> 
> 赞同：8
> 
> 时间：2012-05-15T05:28:09.673
> 
> 标签：django, python-sphinx

好的——我有一个想要记录的 Django 项目——所以我安装了 Sphinx。安装很顺利，我可以将所有 HTML 输出到一个`_build`文件夹中。但...

问题是：我如何在浏览器中实际查看我的文档？

是否假定文档不会在 Django 项目中而是在其自己的网站中查看？如果在 Django 项目中查看，是否需要设置一个`url`模式来处理文档？

我有点困惑如何在 Django 项目中的浏览器中实际查看这些信息。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-29T08:43:44.360

```
url(r'^docs/(?P<path>.*)$', 'django.views.static.serve', {'document_root': settings.DOCS_ROOT}),
url(r'^docs/', 'django.views.static.serve', {'document_root': settings.DOCS_ROOT, 'path': 'index.html'}), 
```

其中 settings.DOCS_ROOT 是 Sphinx 生成的 docs/_build/html 目录的绝对路径。

为此目的，有一个可重用的应用程序：[django-docs](http://django-docs.readthedocs.org/en/latest/) ;)

# class - 在扩展基类的 Flex SDK 中编译 .as 文件

> ID：10594620
> 
> 赞同：0
> 
> 时间：2012-05-15T05:28:22.273
> 
> 标签：class, actionscript, compiler-construction, base

我只是想编译一个扩展另一个 .as 文件的 .as 文件，如下所示：

公共类 BigSquare 扩展 Square{ ... }

我转到命令行并输入：

mxmlc BigSquare.as

我得到的错误是“找不到基类 Square 的定义”。

我需要在哪里放置基类 Square.as 以便 BigSquare.as 编译？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T13:18:32.423

您应该在命令行参数中添加“-source-path”以及您在编译时使用的其他文件（即 Square.as）的路径。更多信息在这里：[http](http://livedocs.adobe.com/flex/3/html/help.html?content=compilers_13.html) ://livedocs.adobe.com/flex/3/html/help.html?content=compilers_13.html 。你打电话应该是这样的

```
mxmlxc -source-path "path/to/Square.as" BigSquare.as 
```

希望能帮助到你。

# c# - Windows服务中的log4net在计时器过去时创建空白条目

> ID：10594622
> 
> 赞同：0
> 
> 时间：2012-05-15T05:28:27.653
> 
> 标签：c#, windows-services, log4net

我目前正在开发一个使用 log4net 的 Windows 服务。该服务包含一个计时器，它以指定的时间间隔处理作业。Log4net 工作正常，服务本身也工作正常，但是，每次计时器经过时，log4net 都会写入一个空白的“log.Info”条目。

空白条目如下所示：

**2012-05-15 14:58:34,141 [9] 信息 ServiceHelper.JobOperations [(null)] -**

请在下面找到 Windows 服务的基本结构。有没有其他人遇到过这个奇怪的问题？

服务控制器类

```
public partial class JobProcessor : ServiceBase
{
    private JobOperations _operations;

    public JobProcessor()
    {
        XmlConfigurator.Configure(); //init log4net here

        InitializeComponent();
    }

    protected override void OnStart(string[] args)
    {
        _operations = new JobOperations();
        _operations.Start();
    }

    protected override void OnStop()
    {
        _operations.Stop();
    }
} 
```

服务主类：

```
public class JobOperations
{
    // Logging...
    private static readonly log4net.ILog log = log4net.LogManager.GetLogger(System.Reflection.MethodBase.GetCurrentMethod().DeclaringType);

    protected Timer Tmr;

    public JobOperations()
    {
        var interval = 3000;

        Tmr = new Timer(interval);

        Tmr.Elapsed += tmr_Elapsed;
    }

    public void Start()
    {
        Tmr.Start();
        log.Info("Job Processor: STARTED.");
    }

    public void Stop()
    {
        Tmr.Stop();
        log.Info("Job Processor: STOPPED.");
    }

    //
    // Main operation for Windows Service
    public static void CheckJobQueue()
    {
        // Do stuff in here...
    }

    //
    // Timer Elapsed Method Call..
    protected void tmr_Elapsed(object sender, ElapsedEventArgs e)
    {
        //
        // Halt timer...
        Tmr.Stop();

        CheckJobQueue();

        //
        // Start timer...
        Tmr.Start();
    }
} 
```

*** 更新 *** : 感谢下面评论的人，首先，我在下面附加了我的 log4net 配置。其次，除了当前正在记录的空白消息之外，还记录了实际消息。

log4net 配置文件

```
<?xml version="1.0"?>
<log4net>
  <root>
    <level value="ALL"/>
    <appender-ref ref="SmtpAppender"/>
    <appender-ref ref="RollingLogFileAppender"/>
  </root>
  <appender name="RollingLogFileAppender" type="log4net.Appender.RollingFileAppender">
    <file value="G:\pathToLogFiles\"/>
    <datePattern value="'Application_'yyyyMMdd'.log'"/>
    <appendToFile value="true"/>
    <maximumFileSize value="1024KB"/>
    <maxSizeRollBackups value="5"/>
    <rollingStyle value="Date"/>
    <staticLogFileName value="false"/>
    <lockingModel type="log4net.Appender.FileAppender+MinimalLock"/>
    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="%date [%thread] %-5level %logger [%property{NDC}] - %message%newline"/>
    </layout>
  </appender><!--LocalFile logging (Daily)-->
  <appender name="SmtpAppender" type="log4net.Appender.SmtpAppender">
    <to value="something@someone.com"/>
    <from value="someone@something.com"/>
    <subject value="*** SERVER ERROR ***"/>
    <smtpHost value="smtp.gmail.com"/>
    <authentication value="Basic"/>
    <port value="587"/>
    <username value="something@someone.com"/>
    <password value="mysupersecretusername"/>
    <EnableSsl value="true"/>
    <bufferSize value="1"/>
    <lossy value="true"/>
    <evaluator type="log4net.Core.LevelEvaluator">
      <threshold value="ERROR"/>
    </evaluator>
    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="%newline%date [%thread] %-5level %logger [%property{NDC}] - %message%newline%newline%newline"/>
    </layout>
  </appender><!--SMTP Logging (Critical Errors)-->
</log4net> 
```

# ruby - 修复 Ruby 代码中带有“非法引用”错误的无效 CSV 行

> ID：10594626
> 
> 赞同：4
> 
> 时间：2012-05-15T05:29:10.170
> 
> 标签：ruby, csv

出于某种原因，csv 文件中有一些带有“非法引用”错误的行，例如：

1336481227,178.108.171.183,3.2.0,9700132ccc02e12a,c083b5d2-ec92-486f-a5b3-512dba1ce4ae,invoke_action,"{""timestamp"":""2012-05-08 13:47:26""}"

1336481227,178.108.171.183,3.2.0,9700132ccc02e12a,c083b5d2-ec92-486f-a5b3-512dba1ce4ae,invoke_action,{""timestamp"":""2012-05-08 13:47:27""}

第一行是正确的。但是第二行的最后一个字段 {""timestamp"":""2012-05-08 13:47:27""} 缺少大括号外的双引号，所以当我尝试

```
CSV.foreach(csv_file_path) do |row|
    puts "======================="
    puts row
    puts "======================="
end 
```

我有错误

```
=======================
1336481227
178.108.171.183
3.2.0
9700132ccc02e12a
c083b5d2-ec92-486f-a5b3-512dba1ce4ae
invoke_action
{"timestamp":"2012-05-08 13:47:26","a":"b"}
=======================
#<CSV::MalformedCSVError: Illegal quoting in line 2.> 
```

无论如何我可以用这样的问题修复这一行，或者在发生错误时跳过它？

编辑：如果我尝试

```
CSV.foreach(csv_file_path, :quote_char => "\'") do |row|
    puts "======================="
    puts row
    puts "======================="
end 
```

第一行的 JSON 格式值被破坏了：

```
=======================
1336481227
178.108.171.183
3.2.0
9700132ccc02e12a
c083b5d2-ec92-486f-a5b3-512dba1ce4ae
invoke_action
"{""timestamp"":""2012-05-08 13:47:26""
""a"":""b""}"
=======================
=======================
1336481227
178.108.171.183
3.2.0
9700132ccc02e12a
c083b5d2-ec92-486f-a5b3-512dba1ce4ae
invoke_action
{""timestamp"":""2012-05-08 13:47:27""}
======================= 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T05:47:27.150

尝试

```
CSV.foreach(csv_file_path, :quote_char => "\'") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T08:14:55.053

我认为最简单的方法是使用双 gsub

```
require 'csv'
line = "1336481227,178.108.171.183,3.2.0,9700132ccc02e12a,c083b5d2-ec92-486f-a5b3-512dba1ce4ae,invoke_action,\"{\"\"timestamp\"\":\"\"2012-05-08 13:47:26\"\",\"\"a\"\":\"\"b\"\"}\""
line.gsub!('""', '%tmp%')
csv = CSV.new(line).each.map do |line|
  line.map do |value|
    value.gsub!('%tmp%', '""')
    value
  end
end

puts csv.inspect
# => [["1336481227", "178.108.171.183", "3.2.0", "9700132ccc02e12a", "c083b5d2-ec92-486f-a5b3-512dba1ce4ae", "invoke_action", "{\"\"timestamp\"\":\"\"2012-05-08 13:47:26\"\",\"\"a\"\":\"\"b\"\"}"]] 
```

# javascript - "in" 语句中使用的 document.documentElement

> ID：10594627
> 
> 赞同：1
> 
> 时间：2012-05-15T05:29:18.603
> 
> 标签：javascript, jquery

我在 jQuery 的源代码中看到了这段代码。我是 javascript 的新手，我想知道它是如何工作的。

```
if ( "getBoundingClientRect" in document.documentElement ) {
// do something...
} 
```

它与

```
if(document.documentElement.getBoundingClientRect) {
// do something...
} 
```

...？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-15T05:30:59.437

这是一个使用[`in`operator](http://es5.github.com/#x11.8.7)的表达式。`in`操作员检查目标对象是否具有给定名称的属性（直接或通过对象的原型）。

它所做的是查看是否`document.documentElement`有一个带有名称的属性`getBoundingClientRect`（如果浏览器提供了它，这是一个方便的函数 jQuery 想要使用）。

> 它与`if(document.documentElement.getBoundingClientRect) { // do something... }`

`in`不需要获取属性的*值*，只需检查它是否存在。另请注意，您列出的第二种形式将测试属性*值的真实性。*在这样的函数的情况下`getBoundingClientRect`会很好，但如果你想测试一些可能返回错误值的东西（`0`,`""`等），即使该属性存在，它也会失败。

在进行特征检测时，你会经常看到这种事情。例如，如果您想知道浏览器是否支持 HTML5`placeholder`属性：

```
if ('placeholder' in document.createElement('input')) {
    // Yes, it does
} 
```

这是一个我们无法使用表单的示例，`if (document.createElement('input').placeholder)`因为如果条件为假，我们将不知道它是假的，因为属性不存在，还是假的，因为属性存在但有一个假值（以及`placeholder`is 的默认值`""`，这确实是错误的）。

[特征检测列表的无偿链接。](https://github.com/kangax/cft)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-15T05:33:35.700

来自[MDN](https://developer.mozilla.org/en/JavaScript/Reference/Operators/in) 如果指定属性在指定对象中，则 in 运算符返回 true。

句法 ：

```
prop in objectName 
```

prop 表示属性名称或数组索引的字符串或数值表达式。

objectName ：对象的名称。

`document.documentElement`对象和`"getBoundingClientRect"`属性也是如此。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-15T05:37:09.587

与if`'a' in obj`不同。`obj.a``a == false`

```
obj = {a: false};
'a' in obj;
> true
obj.a
> false 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-15T05:38:08.953

操作员检查给`in`定属性是否存在或存在于指定对象中。*所以，*

```
if ( "getBoundingClientRect" in document.documentElement ) {
// do something...
} 
```

将检查对象`getBoudingClientRect`中的属性是否可用`document.documentElement`。

此外，您可能想阅读 John Resig 本人的[文章](http://ejohn.org/blog/getboundingclientrect-is-awesome/)，他已经很好地解释了为什么使用它。

# jsf - primefaces uiViewRoot 在里面找到组件

> ID：10594628
> 
> 赞同：2
> 
> 时间：2012-05-15T05:29:26.130
> 
> 标签：jsf, datatable, primefaces, components

我正在使用primefaces 3.2。

我有以下情况：

```
<h:form id="someForm">
  ..
  <p:dataTable id="someDataTable" value="#{BackingBean.list}" var="element" ..>
    <p:column>
      <p:calendar id="someCalendar" value=#{element.date} ../>
      <p:message id="someCalendarMessage" for=":someForm:someDataTable:someCalendar"/>
    <p:column>
  </p:dataTable>    
  ..
</h:form> 
```

“someDataTable”动态更新，然后将所有数据提交到服务器端。如果输入的日期不满足某些条件，我想在支持 bean 中发送日历“someCalendar”的消息。我尝试使用以下代码查找组件：

```
FacesContext facesContext = FacesContext.getCurrentInstance();
facesContext.addMessage(facesContext.getViewRoot().findComponent(":someForm:someDataTable:" + "i" + ":someCalendar").getClientId(), new FacesMessage(FacesMessage.SEVERITY_ERROR, Utils.getResourceBundleString("dictionary", "error") + ":", Utils.getResourceBundleString("dictionary", "some_message")));
return; 
```

其中 i 是数据表中“元素”的索引，与位于 BackingBean 中的列表中的索引相同。

问题是我得到 NullPointerException 因为 facesContext.getViewRoot().findComponent(..) 方法找不到组件，尽管我在视图中检查了生成的日历 ID，它是 :someForm:someDataTable:0:someCalendar第一个元素，它应该是 :someForm:someDataTable:1:someCalendar 用于下一个元素等。

为什么 facesContext.getViewRoot().findComponent(..) 方法找不到里面的组件？是动态更新的，也许服务器端在提交完成后没有得到更新的组件树？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T06:11:15.063

这是因为它`p:dataTable`是一个重复的组件，并且在视图构建期间，视图根中只有一个日历。它有 id `someForm:someDataTable:someCalendar`。

只有在视图渲染期间，才会创建表行并生成与行相关的 id。

您应该使用 JSF 内置验证工具来检查您的日期：

在视图中：

```
<p:calendar id="someCalendar" value=#{element.date} 
            validator="#{BackinBean.validateDate}"/>
<p:message id="someCalendarMessage" for="someCalendar"/> 
```

（`someCalendar`在`for`属性中就足够了）

在支持 bean 中：

```
public void validateDate(
               FacesContext context, 
               UIComponent component, 
               Object value) throws ValidatorException {

        if (/* date is not valid */) {
            throw new ValidatorException(
               new FacesMessage("Date is not valid"));
        }

} 
```

验证方法中的 FacesMessage 将自动显示在正确的表格行中。

# c - 具有相同变量的两个结构

> ID：10594630
> 
> 赞同：-4
> 
> 时间：2012-05-15T05:29:38.670
> 
> 标签：c

我必须编写 2 个结构，如下所示：

```
typedef struct { 
    const char max ; 
    char *val ; 
    const char *charray ; 
    const char *entstate ; 
    const char *entindex ; 
    const char escstate ; 
    const char escindex ; 
} choice ;

typedef struct { 
    const int min ; 
    const int max ; 
    int *val ; 
    const char entstate ; 
    const char entindex ; 
    const char escstate ; 
    const char escindex ; 
} remote ; 
```

但这显示了一个错误，即一些变量，如`escstate`,`escindex`等。这些标识符已在此代码中使用。显示此错误是因为`enstate`已在 structure 中定义`choice`，并且在 structure 中再次定义`remote`。但我需要结构中的所有这些变量`remote`。它的解决方案是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T05:33:11.730

> 这些标识符已在 dis 代码中使用

结构字段位于不同的名称空间中 - 这不是问题。您甚至可以拥有与字段同名的全局变量。我发现[C FAQ](http://c-faq.com/decl/namespace.html)在这个主题上非常清楚：

> 有四种不同类型的命名空间，用于：
> 
> *   标签（即转到目标）；
> *   标签（结构、联合和枚举的名称；这三个不是分开的，即使它们理论上可以分开）；
> *   结构/联合成员（**每个结构或联合一个命名空间**）；
> *   其他一切（函数、变量、typedef 名称、枚举常量），被标准称为“普通标识符”

# android - 想改eclipse的adt插件版本

> ID：10594631
> 
> 赞同：0
> 
> 时间：2012-05-15T05:29:39.920
> 
> 标签：android, eclipse, java, adt

我在 Eclipse 中安装了 Adt 插件。当我打开 Eclipse 时，我收到一条消息“此版本 Adt 需要 17 或更高版本的 android sdk 工具。当前版本为 8。我该如何解决这个问题。我想在 android 2.3 中工作.谁能帮我这个

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:36:46.810

Window--> android SDK Manager-->选择 tools 文件夹并点击 install 1 package。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T05:32:41.213

只需转到 Eclipse 中的 AVD 管理器：并将您的 sdk 更新到修订版 17 或更高版本。

检查此链接：

[http://developer.android.com/sdk/index.html](http://developer.android.com/sdk/index.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T05:33:26.200

Help > About Eclipse > Installation Details > select 4 adt plugins > update

# delphi - GetTitleBarInfo 函数不返回值

> ID：10594636
> 
> 赞同：1
> 
> 时间：2012-05-15T05:30:20.197
> 
> 标签：delphi, winapi

我正在`GetTitleBarInfo`以这种方式使用该功能

```
procedure TForm1.Button1Click(Sender: TObject);
var
  TitleInfo       : TTitleBarInfo;
begin
  ZeroMemory(@TitleInfo, SizeOf(TitleInfo));
  GetTitleBarInfo(Handle, TitleInfo);
  ShowMessage(IntToStr(TitleInfo.rcTitleBar.Left));
end; 
```

但是没有一个 GetTitleBarInfo 返回值（所有值都为零），我错过了什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-15T05:32:01.447

该[`GetTitleBarInfo`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms633513%28v=vs.85%29.aspx)函数的文档指出，您必须在调用此函数之前将 cbSize 成员设置为 sizeof(TTitleBarInfo)，还必须检查该函数返回的布尔结果。

```
procedure TForm1.Button1Click(Sender: TObject);
var
  TitleInfo       : TTitleBarInfo;
begin
  ZeroMemory(@TitleInfo, SizeOf(TitleInfo));
  TitleInfo.cbSize:=SizeOf(TitleInfo);
  if GetTitleBarInfo(Handle, TitleInfo) then
   ShowMessage(IntToStr(TitleInfo.rcTitleBar.Left));
end; 
```

# html - 我无法在 iPhone/IPAD 中缩放我的响应式站点

> ID：10594638
> 
> 赞同：0
> 
> 时间：2012-05-15T05:30:28.483
> 
> 标签：html, css, responsive-design

我无法在 iPhone 和 IPAD 中缩放我的响应式站点。但同时我对 Android 手机没有任何问题。它完美地放大和缩小。我有这样的元标记

`<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0" />`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-27T14:14:51.240

您还需要将“minimum-scale=1.0”设置为您希望用户能够缩放到的任何值（以及将“用户可缩放”设置为 1），例如：2.0 将 100% 缩放。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-26T17:43:31.347

我认为你应该删除最后 3 个属性，

```
, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0 
```

完全。

这应该允许 Mobile Safari 用户根据需要进行扩展。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T05:33:34.600

几乎所有这一切都靠自己说：

```
user-scalable=0 
```

Safari Web Content Guide 告诉我们当我们想要“设置初始比例并关闭用户缩放”时使用它。这就是阻止您放大和缩小的原因。

# xml - 模式中的内容模型歧义

> ID：10594643
> 
> 赞同：2
> 
> 时间：2012-05-15T05:30:54.360
> 
> 标签：xml, xsd, ambiguity

也许是我盯着这个问题太久了，也许没有答案；不管怎样，我现在在这里。

我试图在 XSD 中允许一组可能的组合，但我似乎无法找到一种不会导致歧义的方法。

**快速正则表达式表示：**

```
foo+ ( bar baz* | bar? baz+ qux* ) 
```

*   `foo`是必需的（*一个或多个*）
*   如果`bar`存在，`baz`是可选的（*零个或多个*）
*   如果`baz`存在，`bar`是可选的（*零或一*）并且`qux`是可选的（*零或更多*）
*   `qux`不存在`baz`就不能存在

歧义出现给定`foo bar baz`。

**模棱两可的 XSD 文档：**

```
<xs:element name="parent">
    <xs:complexType>
        <xs:sequence>
            <xs:element name="foo" minOccurs="1" maxOccurs="unbounded" />
            <xs:choice>
                <xs:sequence>
                    <xs:element name="bar" minOccurs="1" maxOccurs="1" />
                    <xs:element name="baz" minOccurs="0" maxOccurs="unbounded" />
                </xs:sequence>
                <xs:sequence>
                    <xs:element name="bar" minOccurs="0" maxOccurs="1" />
                    <xs:element name="baz" minOccurs="1" maxOccurs="unbounded" />
                    <xs:element name="qux" minOccurs="0" maxOccurs="unbounded" />
                </xs:sequence>
            </xs:choice>
        </xs:sequence>
    </xs:complexType>
</xs:element> 
```

**良好措施的屏幕截图：**

![不明确的 XSD 树](../Images/0c2e32791ec83344360896593e07ea22.png)

* * *

现在，我开始意识到这可能只是 XSD 内容模型的一个约束。模棱两可的原因很明显；解决方案不是这样。

任何人都可以看到我可以允许这样做的方法吗？通过重新排序元素，通过使用一些模式设计模式来缓解这样的模棱两可的场景？

`bar`and的条件依赖性`baz`显然是问题所在，但我想不出任何其他方法来做到这一点。

非常感谢各位。

* * *

**编辑：**目前正在阅读“ [Schema Component Constraint: Unique Particle Attribution](http://www.w3.org/TR/2001/REC-xmlschema-1-20010502/#cos-nonambig) ”，试图找到一个漏洞。欢迎任何其他建议阅读。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-15T07:59:23.607

IIRC 计算机科学中有一个定理说每个歧义语法都可以重写为明确的语法，所以从它是可能的假设开始。然而，明确的语法有时可能非常复杂。

我认为处理这个问题的一个好方法是绘制语法的“铁路图”，即有限状态机及其转换。然后，当您在这台机器中发现一个状态具有两个标记为相同符号的转换时，您需要构建一个接受这两个转换的新状态，依此类推。在 CS 文献中，这种算法被称为“确定”。

另一种在没有白板的情况下可能更容易解释的方法是首先考虑您选择的两个分支之间的共同点。当您点击内容中的第一个元素时，它必须是 bar 或 baz。所以写两个选项，一个以 bar 开头，一个以 baz 开头。

据我所知，您的内容模型与明确模型相同

```
(bar, (baz+, qux*)?) | (baz+, qux*) 
```

但我会仔细检查...

# hibernate - 如何恢复对 Hibernate 中实体拥有的集合的更改？

> ID：10594646
> 
> 赞同：1
> 
> 时间：2012-05-15T05:31:02.677
> 
> 标签：hibernate, entity, second-level-cache, revert

这应该是一项非常简单的任务，但我无法让它发挥作用。

我希望能够将更改还原到一个延迟加载的集合（我们称之为小猫），它挂在一个单一的 Hibernate 会话中维护的主要实体（我们称之为猫）上。

集合是这样定义的（用猫和小猫代替我的呆板实体）：

```
@Entity
@Table(name="CAT")
public class Cat {

    private Map<Long, Kitten> kittens;

    @OneToMany(fetch=FetchType.LAZY, mappedBy="mother", cascade={CascadeType.ALL})
    @MapKey(name="id")
    public Map<Long, Kitten> getKittens() {
        return kittens;
    }

    ...
}

@Entity
@Table(name="KITTEN")
public class Kitten {

   private Cat mother;

    @ManyToOne(fetch=FetchType.LAZY, cascade={CascadeType.PERSIST, CadcadeType.MERGE)
    @JoinColumn(name="MOTHER_CAT_ID", nullable=false)
    public Cat getMother {
        return mother;
    }

    ...
} 
```

用户可以在 kittens 集合中添加和删除他们心中的内容，而无需持久保存，直到他们明确保存并执行会话刷新。

但是如果用户选择恢复原始的小猫列表，则应该再次从数据库中检索。

我试图通过从二级缓存中逐出小猫集合然后使用以下模式从数据库中重新获取 Cat 实体来实现集合的完全还原：

```
public class CatDao {

    public Cat reset(Cat cat) {

        SessionFactory sessionFactory = Util.getSessionFactory();
        sessionFactory.evictCollection(Cat.class.getName() + ".kittens", cat.getId());

        Cat original = (Cat)this.session.get(Cat.class, cat.getId());
        Hibernate.initialize(original.getKittens());

        return original;
    }

    ...
} 
```

它不会从数据库中重新检索小猫（如日志所示）。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T09:51:19.807

只要小猫还在一级缓存中，从二级缓存中驱逐小猫就没有任何效果。那是加载对象的地方。而在一级缓存中只有引用，即当你修改一个实例并从一级缓存重新加载实体时，你又得到了修改后的实例。

第一级缓存在会话对象内。您必须使用 将小猫从会话中逐出`Session.evict()`。（`Session.clear()`或创建一个新会话具有相同的效果，但会强制重新加载存储在会话的第一级缓存中的所有对象。这取决于您的应用程序是否是更好的解决方案。）

我认为经过此修改后，您无需随时致电`SessionFactory.evictCollection()`。顺便说一句，`SessionFactory.evictCollection()`被标记为已弃用。

# python - 简约的python服务层

> ID：10594651
> 
> 赞同：1
> 
> 时间：2012-05-15T05:31:54.797
> 
> 标签：python, mysql, json, rest

我计划拥有一个 mysql/postgres 数据库以及一个瘦服务层，我基本上希望我们接收宁静的请求并以 json 格式返回结果。我想为后者使用python。由于我是 python 框架的新手，如果我将任何用于这个薄层，那会是哪一个？当然越简约（越薄）越好。

感谢您分享您的体验。

于尔根

PS：如果它处理身份验证/授权，那将是一个奖励。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T05:56:03.420

Flask 是 python 微框架之一。它支持会话。非常精简且易于构建新东西。

[http://flask.pocoo.org/](http://flask.pocoo.org/)

Pyramid（以前的名称是 Pylons）也是使用 RESTful 构建简单 Web 服务的理想选择。

金字塔的好处是您可以轻松地将其从非常小的规模扩展到大规模。金字塔还支持身份验证和会话以及一堆模板引擎或 ORM。

[http://www.pylonsproject.org/](http://www.pylonsproject.org/)

如果您考虑稍后扩展您的项目，我建议使用 Pyramid。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T06:52:31.263

对于非常简单的事情，我总是使用瓶子。但是如果你需要更多一点（比如 auth），可以考虑使用[web2py](http://www.web2py.com)。它只需很少的编码即可满足您的所有需求。

# eclipse - 有没有办法像 netbeans 一样自定义 eclipse diff 查看器？

> ID：10594653
> 
> 赞同：0
> 
> 时间：2012-05-15T05:32:11.353
> 
> 标签：eclipse, eclipse-plugin

![我如何像这样自定义我的 Eclipse 差异查看器或任何其他可用于 netbeans 的插件](../Images/5aac06403ddfc69b981abca1dcee5b29.png)

图 1：Netbeans。图 2：日食。

![我](../Images/c29e3746aabc544c6626e4aec234ab27.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T14:11:36.910

这个*动态*差异可以在 Eclipse 上配置，只需按照下图进行操作，我同意它不如 Netbeans 好，但非常相似 ![快速差异配置](../Images/d1041278daca17d9213bb7afd17a9d54.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T05:35:38.390

查看 Preferences -> General -> Compare/Patch，该页面上还有一个指向颜色和字体的链接。因此，可以进行很多自定义，但我不确定它会让您与 Netbeans 有多接近。

# c# - 处理数据库数据的良好 OOP 设计原则

> ID：10594654
> 
> 赞同：5
> 
> 时间：2012-05-15T05:32:21.370
> 
> 标签：c#, vb.net, oop, database-design

我觉得我在问一个非常基本的问题，我想我应该能够在互联网上的某个地方找到一个好的答案。但是我已经筋疲力尽了，只找到了几根枯骨。最重要的是，我现在害怕这个问题可能太主观了:)

不管怎样，问题来了。在面向对象程序中访问、处理和操作来自关系数据库的数据的良好实践是什么？到目前为止，在我的编程中，我一直在以一种程序化的方式处理数据库数据。我目前正在积极尝试改善我的 OOP 习惯，但我不确定如何处理这个问题。

这是我正在使用的场景之一。我有一张桌子，里面有许多制造工作条目。我正在编写（改进）的应用程序对每个作业执行大量处理。例如，我遍历表中的每一行并执行以下操作：

*   将截止日期发布到 Google 日历
*   在给定目录中创建作业唯一的文件夹
*   为作业创建工作订单
*   为工作创建一份合同简介
*   管理旅行证件
*   通过电子邮件将信息发送给几个人
*   等等，名单还在继续

你明白了。每项工作都会进行大量处理。目前，我拥有大多数优秀程序员所说的一堆意大利面条式代码。也许它不是那么糟糕，但几乎。我使用 for each 循环遍历表中的每一行，并按顺序对每一行执行每个操作。我不喜欢目前的设计方式，但我不知道如何做得更好。

我希望我可以拥有一个名为“Jobs”的简洁对象，它可以实现作业的所有属性并提供执行每个操作的方法。然后我什至可以制作一个定制系列来处理我的工作，整个世界都会变得更加光明。整个解决方案将更具可读性，更易于维护，更容易添加对每个作业执行的操作（经常发生）等。

但我的问题是我不知道如何在花哨的对象和数据库之间建立连接。我应该使用某种对象关系映射（我阅读了各种关于此的混合意见）吗？我是否只是遍历所有行并将它们转换为在集合中累积的对象？还是以程序方式继续进行此类项目的最佳选择？我会喜欢你的回答和意见。

我以抽象的方式对有关此主题的信息感兴趣。换句话说，我想知道如何处理这种情况。不仅仅针对我给出的示例。但当然，细节也很棒。我使用 VS 2010 使用 Visual Basic 和 C# 进行大部分编程。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-15T05:38:19.980

查看存储库模式。这是一种以有意义的方式将数据访问与业务处理分开的好方法。应用这种模式，我有几个项目：

*   实体 - 存储东西的对象
*   DataAccess - ORM DbContext 和 ADO.NET 包装器
*   Repository - 包装查询以向应用程序的其余部分呈现强类型函数
*   TheRest - 其他项目/层：业务、GUI 等

请参阅[如何将实体框架上下文与依赖注入一起使用？](https://stackoverflow.com/questions/10464388/how-to-use-entity-framework-context-with-dependency-injection/10464479#10464479)以获得对每种项目类型的良好描述

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T05:38:58.997

> 但我的问题是我不知道如何在花哨的对象和数据库之间建立连接。我应该使用某种对象关系映射（我阅读了各种关于此的混合意见）吗？

是的。

至于处理。使用访问者模式，让所有想要处理数据的不同代码将自己注册为访问者。您还可以使用控制反转容器来管理它（`IHandlerOf<Job>`或`IHandlerOf<TravelerDocument>`）。

它为您提供了更松散耦合的数据处理方式。

# vim - 将 false 转换为 FALSE 以及同时将 12:48:03 AM 转换为 12:48 的正常模式 vim 命令是什么？

> ID：10594655
> 
> 赞同：3
> 
> 时间：2012-05-15T05:32:28.030
> 
> 标签：vim, vi

我不小心在 vim 的普通模式下对 TSV 文件执行了一个命令，它将所有的 false 转换为 FALSE，将所有的 true 转换为 TRUE，并且从 12:48:03 AM 格式到 12:48 的所有时间。

我相信这是一个命令，因为我可以使用“u”和“Ctrl-R”撤消和重做它，但我不知道它是什么。有人知道吗？

如果有等效的命令模式，我也有兴趣了解它，但我正在尝试找到正常模式版本。

我已经尝试过 q: 并且知道这不是我不小心击中的命令模式命令。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T01:29:08.217

用于更改您在正常模式下使用`"gu"`的单词的大小写。`"gU"`两者都需要一个范围，所以他是一些例子：

```
guu - make whole line lowercase
gUU - make whole line UPPERCASE
guw - make word lowercase
gUw - make word UPPERCASE
guj - make this and next line lowercase
gUk - make this line and previous line UPPERCASE 
```

它也适用于当前选择并且完全`"."`可重复。更多内容可以在 vim 文档的[更改中找到。](http://vimdoc.sourceforge.net/htmldoc/change.html#simple-change)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-02T12:51:34.450

你知道 vim 有这样的魔力。尝试这个：

```
:%s/\(\d\d\:\d\d\)\:\d\d\ [A-P]M\|\(true\)\|\(false\)/\1\U\2\U\3/g 
```

如果您需要解释，请回复帖子，我会解释。谢谢！！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-16T13:52:03.863

`~`命令执行以下操作： 更改字符的大小写。这适用于视觉和命令模式。在可视模式下，更改突出显示字符的大小写。在命令模式下，更改光标下字符的大小写。此信息取自[tuxfiles](http://www.tuxfiles.org/linuxhelp/vimcheat.html)

编辑：我想我的回复并不能完全回答你的问题，但可能会对你有所帮助

另外，您如何将其与`computer forensics`?

# php - 涉及检测正弦模式的复杂数学

> ID：10594659
> 
> 赞同：0
> 
> 时间：2012-05-15T05:33:11.540
> 
> 标签：php, design-patterns, math, trigonometry

希望找到一个数学+PHP的天才来解决这个问题。我的一个客户（一位外科医生）想要一个与他的病人的脑电图机器相连的网络应用程序来跟踪心跳。数据是表格格式的实时提要（已经完成）......但我需要不断地将患者的心跳与静息心率基线进行比较。如果患者的心跳超过或低于某个阈值，则会通过推送向医生的 iPhone/Android 发送警报和通知。

这是我们正在构建和测试的整体软件的一部分……这将是一个了不起的功能。具有挑战性的部分是比较所有实时数据所需的数学运算，并基本上通知数据曲线何时是或不是一定幅度和频率的正弦波。样品数据可以缓冲 20 分钟或更长时间，以进行长期、持续的分析。

PHP 是一种语言，数据存储在 MySQL 数据库中。很想雇用某人来外包这个问题，所以如果您有解决方案或需要更多详细信息，请回复！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T09:28:59.840

试图将像心跳这样的复杂信号与正弦波进行比较听起来注定要失败。看一眼典型的 EKG 轨迹和一些 FFT 知识就可以告诉您这一点。

复杂的瞬态将是许多正弦和余弦项的叠加，每个项都具有不同的幅度和频率。可以选择单个术语，但我不确定它会有多大意义。

浮点数比较是另一个问题。如果参考波的幅度和频率分别为 10.0 和 60.0 会怎样。振幅和频率为 10.25 和 62.1 的波“相同”吗？您发出警报和通知的标准是什么？误报的可能性有多大？如果你的设计让工作人员经常跑来检查误报，你的设计就不会受欢迎。

# javascript - 在mvc3中单击按钮上锁定多个文本框

> ID：10594661
> 
> 赞同：0
> 
> 时间：2012-05-15T05:33:11.947
> 
> 标签：javascript, jquery, asp.net-mvc-3

我制作了一个带有多个文本框的表单。单击提交按钮时，我希望锁定表单中的文本框，以防止对显示的数据进行任何编辑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T07:16:32.450

使用 JQuery：

```
<script>
  $(document).ready(function(){
    $("form").submit(function(){
      $("input").attr("disabled", true);
      return true;
    });
  });
</script> 
```

# testing - 用于测试 Windows 应用程序 - 是否有任何用 Java 开发的工具？

> ID：10594665
> 
> 赞同：0
> 
> 时间：2012-05-15T05:33:35.237
> 
> 标签：testing, automation

我熟悉用于 Windows 应用程序的 jwinauto，但是我正在寻找一种更好的工具来自动测试用 Java、JRuby 或 Jython 开发的 Windows 应用程序。

我已经看到白色用于通过访问控件并自动化它们来自动化 Web 应用程序和 Windows 应用程序的测试。但是，我想为 Windows 应用程序（用 Java 编写）找到一个白色的等价物，最好是开源的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T07:26:30.203

[FEST](http://fest.easytesting.org/) is a nice tool to test Java UIs.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T11:21:01.293

您可以使用[机器人框架](http://www.robotframework.org)。它是用python编写的，可以用jython运行。

机器人框架是一个关键字驱动的测试框架。关键字可以用 python 编写，但如果您使用 jython 运行，您也可以从 POJO（普通的 java 对象）中创建关键字。

# matlab - 如何在二进制图像中应用 RLE？

> ID：10594669
> 
> 赞同：0
> 
> 时间：2012-05-15T05:33:44.427
> 
> 标签：matlab, compression

这里我有二进制图像，我需要使用运行长度编码[RLE](http://en.wikipedia.org/wiki/Run-length_encoding)对其进行压缩。我使用常规 RLE 算法，使用最大计数为 16。

它不是减小文件大小，而是增加它。例如 5*5 矩阵，10 个值重复计数为 1，即使文件变大。

如何避免这种故障？有没有更好的方法可以将 RLE 部分应用于矩阵？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T11:25:11.857

如果仅供您自己使用，您可以创建自定义图像文件格式，并在标题中标记是否使用 RLE，以及 X 和 Y 的坐标范围以及可能使用的位平面。但是，如果您想生成遵循某些使用 RLE 的已定义图像文件格式的图像文件（`.pcx`我想到了），则必须遵循文件格式规范。如果我没记错的话，`.pcx`没有任何选项可以部分禁用 RLE。

如果您不需要使用 RLE 并且您只是在寻找一种易于实现的压缩方法，那么在使用任何压缩之前，我建议您首先检查您的 5x5 二进制矩阵文件需要多少字节。如果文件大小为 25 字节或更多，那么您将使用每个元素至少一个字节（8 位）来保存它（或者您有很多不是矩阵内容的数据）。如果不需要存储大小，5x5 二进制矩阵需要 25 位，即 4 字节和 1 位，因此实际上是 5 字节。我很确定没有通常对 5 字节大小的文件有用的压缩方法。如果你有不同大小的矩阵，你可以使用例如。

例如 100x100 二进制矩阵需要 10000 位，即 1250 字节。为 16 位大小的字段添加 2 x 2 = 4 个字节，或为 32 位大小的字段添加 2 x 4 = 8 个字节。在此之后，您可以计划最好的压缩方法。

# mysql - 在 phpmyadmin 中从 mysql 命令行调用 mysql 存储过程

> ID：10594677
> 
> 赞同：0
> 
> 时间：2012-05-15T05:34:57.587
> 
> 标签：mysql, stored-procedures, phpmyadmin

我想从 phpmyadmin 中的 mysql 命令提示符执行 mysql 存储过程。存储过程写在文件**sample.sql 中**。sample.sql 的内容是：

```
DELIMITER //
create procedure sampleproc()
begin
declare x int;
set x=1;
while x<=1000 do
insert into dictionary (word,mean) values('a','a mean');
set x=x+1;
end while

end //

call sampleproc(); 
```

我如何使用命令行运行它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T05:46:16.630

## 使用 PHPMYADMIN

要创建存储过程，您可以使用以下内容：

```
 DELIMITER //
    create procedure sampleproc()
    begin
    declare x int;
    set x=1;
    while x<=1000 do
    insert into dictionary (word,mean) values('a','a mean');
    set x=x+1;
    end while
    end// 
```

并确保将 SQL 选项卡上的“分隔符”字段设置为 //。

## 使用命令行

```
mysql --user=user_name --password=your_password db_name < sample.sql 
```

# php - 检查日期是否在 sql 中的日期范围之间（检查没有年份）

> ID：10594680
> 
> 赞同：1
> 
> 时间：2012-05-15T05:35:29.740
> 
> 标签：php, sql, date, date-range

我正在开发一个假期指南网站！我正在使用 MySQL 数据库，其中存储有关酒店的信息。我有 4 个日期字段来存储每个酒店工作的 2 个可能的季节（date_from、date_to、date_from_extra、date_to_extra）。我以如下格式存储日期：DD/MM，例如：25/12。

我正在尝试检查站点的第一个 datepicker 的 date1 和第二个 datepicker 的 date2 是否在数据库中的第一个范围（date_from，date_to）或第二个范围（date_from_extra，date_to_extra）之间。

问题是我不在数据库日期字段中使用年份，并且很难比较日期，特别是当数据库中的第一季或第二季没有在年底完成但持续时间更长时，例如（14/11 - 25/02）。

有什么帮助吗？非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:48:29.583

尝试这个

```
$todayDate = date("Y-m-d");
$check_date= strtotime($todayDate); 
```

使用这个变量来检查

```
SELECT table_fiels FROM table_namE WHERE month(check_date)  BETWEEN month($your_db_start_date) AND  month($your_db_end_date) AND day(check_date)  BETWEEN day($your_db_start_date) AND  day($your_db_end_date) 
```

# asp.net - 我有一个发送到我的电子邮件的联系表格。我可以把它放在 MS Excel 格式吗？

> ID：10594682
> 
> 赞同：0
> 
> 时间：2012-05-15T05:35:32.397
> 
> 标签：asp.net, vb.net, visual-studio, visual-studio-2010

我有一个联系表格（VS 2010 / VB / .net4），当客户填写表格时，我会收到一封电子邮件——我喜欢，但是....

例如，这是我收到的一封电子邮件：

> 电子邮件：ivy_league_alum@yahoo.com
> 
> 主题：你们会整合PPT吗？
> 
> 留言：我正在寻找密歇根地区的PPT集成商。
> 
> 名字：蒂姆
> 
> 姓氏：杜瓦
> 
> 组织：美国车桥
> 
> 浏览器：Mozilla/5.0 (Windows NT 5.1) AppleWebKit/535.7 (KHTML, like Gecko) Chrome/16.0.912.75 Safari/535.7
> 
> IP地址：184.60.79.96
> 
> 服务器日期和时间：2012 年 1 月 13 日上午 11:28:59

但我预计收到的电子邮件比我最初预期的要多得多。有人对我能做什么有任何建议吗？是否可以将响应上传到 Excel 文件或其他文件中？或者如果我收到比预期更多的电子邮件，是否有人对如何组织这个有更好的建议？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T06:28:16.780

为什么要停留在 Excel 文件上？你很快就会发现这就像被电子邮件轰炸一样笨拙。将响应数据库化。使用 asp.net 有很多方法可以做到这一点。微软数据库是最合适的：[SQL Server](http://www.microsoft.com/sqlserver/en/us/editions/2012-editions/express.aspx)和[SQL Server express](http://www.microsoft.com/sqlserver/en/us/editions/2012-editions/express.aspx)。这些将与 Visual Studio 很好地结合。

您也不限于 MS 数据库。这是一个[MYSQL - ASP.net 教程](http://asp.net-tutorials.com/mysql/getting-started/)

这样做可能会有点痛苦，因为您随后会想要构建一种方法来查看已进入数据库的内容，但从长远来看，它将为您提供更好的服务。

可以[写入 excel 文件](http://support.microsoft.com/kb/316934)或 CSV 或 XML 文件或任何平面文件格式。但是，在我看来，它的价值更麻烦。您必须考虑并发读/写、访问权限、事务控制等。这都是可能的，但这不是这些文件的设计目的。然而，这**正是**数据库的设计目的。

为工作使用正确的工具，在我看来，它是一个数据库。

# android - 处理 ICS 最近应用列表的“滑动退出”功能

> ID：10594683
> 
> 赞同：5
> 
> 时间：2012-05-15T05:35:35.597
> 
> 标签：android, service

我正在开发一个还包含服务的 Android 应用程序。ICS 最近应用程序列表的“滑动退出”功能按预期关闭应用程序，但服务只是随它一起退出并且没有收到 onTaskRemoved() 回调来告诉它清理（或 onDestroy() 就此而言） ):

[http://developer.android.com/reference/android/app/Service.html#onTaskRemoved(android.content.Intent](http://developer.android.com/reference/android/app/Service.html#onTaskRemoved(android.content.Intent) )

这会在状态栏中留下通知图标，我需要确保在应用退出时将其删除。

我尝试在 Manifest.xml 中将 android:stopWithTask 设置为 false（和 true），它似乎没有任何区别。

```
 <service 
        android:name="com.test.TestService"
        android:stopWithTask="false" 
    /> 
```

为什么没有收到 onTaskRemoved() 回调的任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-11-21T11:30:30.320

当应用程序通过滑动从最近的应用程序列表中删除时`Service`开始`startService()`并被调用。`onTaskRemoved()`

但如果以`Service`开头`bindService()`，则`onTaskRemoved()`永远不会被调用。[请在此处](https://stackoverflow.com/questions/24127923/service-ontaskremoved-not-called-if-started-with-bindservice)查看参考资料，看看它是否能解决您的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-25T08:30:54.103

如果您`Service`在用户滑动时正在运行，则将调用此方法。

确保你`Service`在那一刻正在运行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-29T08:38:08.017

我所做的是每个活动在 onCreate() 处使用 startService() 启动指定的服务，并在 onDestroy() 处使用 stopService() 停止它，在生命周期中，当滑动发生并且活动处于任务顶部时，onTaskMoved将被调用，然后我们可以监控滑动行为。缺点是每个活动都必须配备配对服务，当您的应用程序中有各种活动时，这很丑陋。

# c++ - Boggle - 实现递归

> ID：10594686
> 
> 赞同：0
> 
> 时间：2012-05-15T05:35:43.470
> 
> 标签：c++, recursion, boggle

所以，我试图弄清楚如何实现对 Boggle 模拟的递归调用。有两个参与者：人类和计算机。当人走时，他/她在棋盘上找到一个单词（随机洗牌），递归调用应该检查有效性。基本上，我必须遍历从单词输入的索引 0 开始的相邻字母，然后以这种方式爬行，每次检查以确保单词存在与否。问题是我不完全知道如何做到这一点。到目前为止，这是我的代码，我提供了一些伪代码来进一步解释我的意图。任何人都可以帮忙吗？

```
#include <iostream>
#include <cctype>
#include <cmath>
#include "strlib.h"
#include "gboggle.h"
#include "graphics.h"
#include "grid.h"
#include "lexicon.h"
#include "random.h"
#include "simpio.h"
#include "Board.h"

using namespace std;

/* Constants */
const int MIN_WORD_COUNT = 4;
const int boardSize = 16;

const int BOGGLE_WINDOW_WIDTH = 650;
const int BOGGLE_WINDOW_HEIGHT = 350;

const string STANDARD_CUBES[16]  = {
   "AAEEGN", "ABBJOO", "ACHOPS", "AFFKPS",
   "AOOTTW", "CIMOTU", "DEILRX", "DELRVY",
   "DISTTY", "EEGHNW", "EEINSU", "EHRTVW",
   "EIOSST", "ELRTTY", "HIMNQU", "HLNNRZ"
};

const string BIG_BOGGLE_CUBES[25]  = {
   "AAAFRS", "AAEEEE", "AAFIRS", "ADENNN", "AEEEEM",
   "AEEGMU", "AEGMNN", "AFIRSY", "BJKQXZ", "CCNSTW",
   "CEIILT", "CEILPT", "CEIPST", "DDLNOR", "DDHNOT",
   "DHHLOR", "DHLNOR", "EIIITT", "EMOTTT", "ENSSSU",
   "FIPRSY", "GORRVW", "HIPRRY", "NOOTUW", "OOOTTU"
};

/* Function prototypes */

void welcome();
void giveInstructions();

void checkBoard( Vector<string> );
void shakeCubes( int, int, Vector<string> &, Grid<char> & );
void checkBoardLetters( Grid<char> );
void checkHumanWords( Set<string> );
void findHumanWordsOnBoard( Set<string> &, Grid<char> );
bool boardContainsHumanWord( Grid<char>, string );

void toupper(string& word);
bool askQuestion(string question);
void customConfiguration(int boardSize);
void shuffleBoard(int boardSize, const string cubes[]);
void humanTurn(Grid<char>& cubeLetters, Set<string> &alreadyUsedWords, Lexicon &dictionary);

/* Main program */

int main() {

    initGraphics(BOGGLE_WINDOW_WIDTH, BOGGLE_WINDOW_HEIGHT);
    welcome();
    giveInstructions();

    int rows = 4;
    int cols = 4;
    int boardSize = rows*cols;
    Vector<string> vec;
    Set<string> humanWords;
    Grid<char> cubeLetters( rows, cols );
    Lexicon dictionary("EnglishWords.dat");

    // Task 1: Copy constant array into a vector vec
    for( int i = 0; i < rows * cols; i++ )
    {
        vec.add( STANDARD_CUBES[ i ] );
    }

    string instructions = "Do you need instructions?";
    if (askQuestion(instructions))
        giveInstructions();

    string customConfig = "Do you want a custom configuration?";
    drawBoard( rows, cols );
    if (askQuestion(customConfig)){
        customConfiguration(boardSize);
    }
    else {
        shakeCubes( rows, cols, vec, cubeLetters );
    }
    // Task 2
    humanTurn( cubeLetters, humanWords, dictionary );

    // debug
    //checkHumanWords( humanWords );

    // Task 3
    findHumanWordsOnBoard( humanWords, cubeLetters );

    // debug
    //checkHumanWords( humanWords );

   //else {
      // shuffleBoard(boardSize,STANDARD_CUBES);
   //}
   return 0;
}

/*
 * Function: shakeCubes
 * Usage: shakeCubes( int, int, Vector<string> & );
 * -----------------
 * Randomize cubes and their sides.
 */

void shakeCubes( int rows, int cols, Vector<string> &vec, Grid<char> &cubeLetters )
{
    // Shuffle cubes
    srand ( time(NULL) );
    random_shuffle( vec.begin(), vec.end() );

    char c;
    int i = 0, j = 0;

    // Shuffle cube sides
    foreach( string s in vec )
    {
        c = s[ rand() % 6 ];
        labelCube( i, j, c );
        cubeLetters[ i ][ j ] = c;

        if( j == 3 )
        {
            i++;
            j = 0;
        }
        else
            j++;
    }
}

void humanTurn(Grid<char>& cubeLetters, Set<string> &alreadyUsedWords, Lexicon &dictionary) {
    cout << endl << "Find all the words you can."
    << endl << "Signal that you're finished by entering an empty line." << endl << endl;
    do {
        cout << "Enter a word: ";
        string word = getLine();

        if(word.empty())
            break; // the only way out of the do-while loop

        toupper(word);

        if(word.length() < MIN_WORD_COUNT) // word < min word length
        {
            cout << "I'm sorry, but we have our standards." << endl
            << "That word doesn't meet the minimum word length." << endl;
        } 
        else if(alreadyUsedWords.contains(word)) // word has already been entered
        {
            cout << "You've already found that word!" << endl;
        } 
        else if( dictionary.contains( word ) ) // word not in lexicon
        {
            alreadyUsedWords.add(word);
            recordWordForPlayer( word, HUMAN );
        }
        else
        {
            cout << "You can't make that word!" << endl;
        }
    } while(true);
}

/*
 * Function: checkBoard
 * Usage: checkBoard( Vector<string> );
 * -----------------
 * Print out current state of Boggle board.
 */

void checkBoard( Vector<string> vec )
{
    cout << endl;

    foreach(string s in vec)
    {
        cout << s << endl;
    }
}

void checkBoardLetters( Grid<char> cubeLetters )
{
    cout << endl;
    for( int i = 0; i < 4; i ++ )
    {
        for( int j = 0; j < 4; j++ )
        {
            cout << cubeLetters[i][j] << endl;
        }
    }
}

void checkHumanWords( Set<string> humanWords )
{
    cout << endl;
    foreach( string s in humanWords )
    {
        cout << s << endl;
    }

    if( humanWords.isEmpty() )
        cout << "human word set is empty" << endl;
}

// Does board contain word? RECURSIVE
bool boardContainsWord( Grid<char> cubeLetters, string word )
{

    foreach( char c in cubeLetters )
    for( int i = 0; i < cubeLetters.numRows(); i++ )
    {
        for( int j = 0; j < cubeLetters.numCols(); j++ )
        {
            if( cubeLetters[i][j] == word[0] )
            {
                if( word.length() == 1 )
                    return true;
                else
                    return boardContainsWord( cubeLetters, word.substr(1) );
            }
        }
    }

    return false;
}
/*
bool boardContainsLetter( Grid<char> cubeLetters, char letter )
{
    return false;
}

// Task 3: Reduce set of HumanWords to those that exist on board
void findHumanWordsOnBoard( Set<string> &humanWords, Grid<char> cubeLetters )
{
    foreach( string word in humanWords )
    {
        if( !boardContainsWord( cubeLetters, word ) )
           humanWords.remove( word );
    }
}
*/

/* *** Brainstorming and Under Construction ***
I need to save (x,y) coordinates and store in a Set collection class to describe path.

I need a recursive, boolean function that takes in string word, Grid board, and Set path to check valid words.
This recursion will check each adjacent letter (and can start from top left [row-1][col-1], and move around the chosen letter);
It also has to check whether it's inBounds before proceeding.

/*
 * Function: welcome
 * Usage: welcome();
 * -----------------
 * Print out a cheery welcome message.
 */

void welcome() {
   cout << "Welcome!  You're about to play an intense game ";
   cout << "of mind-numbing Boggle.  The good news is that ";
   cout << "you might improve your vocabulary a bit.  The ";
   cout << "bad news is that you're probably going to lose ";
   cout << "miserably to this little dictionary-toting hunk ";
   cout << "of silicon.  If only YOU had a gig of RAM..." << endl << endl;
}

/*
 * Function: giveInstructions
 * Usage: giveInstructions();
 * --------------------------
 * Print out the instructions for the user.
 */

void giveInstructions() {
   cout << endl;
   cout << endl << "The boggle board is a grid onto which I will randomly distribute" << endl
        << "dice.  These 6-sided dice have letters rather than numbers on the faces, " << endl
        << "creating a grid of letters on which you try to form words.  You go first, " << endl
        << "entering the words you find that are formed by tracing adjoining " << endl
        << "letters.  Two letters adjoin if they are next to each other horizontally, " << endl
        << "vertically, or diagonally. A letter can only be used once in the word. Words" << endl
        << "must be at least 4 letters long and can only be counted once.  You score points" << endl
        << "based on word length, a 4-letter word is worth one, 5-letters two, etc.  After your " << endl
        << "tiny brain is exhausted, I, the brilliant computer, will find all the remaining " << endl
        << "words in the puzzle and double or triple your paltry score." << endl << endl;
   cout << "Hit return when you're ready...";
   getLine();
}

//Function call to capitalize every letter in a string
void toupper(string& word) {
    for(int i = 0; i < word.size(); i++) {
       word[i] = toupper(word[i]);
    }
}

// A do-while loop to keep asking for a YES/NO answer to a given question
bool askQuestion(string question) {
    do {
        cout << question << " ";
        string answer = getLine();
        if(toupper(answer[0]) == 'N') return false;
        else if(toupper(answer[0]) == 'Y') return true;
    } while (cout << "Please answer yes or no." << endl);

    return 1;
}

// Requests user for a board configuration input for the given size board
// and labels the cubes with the corresponding input string
void customConfiguration(int boardSize) {
    cout << endl << "Enter a " << boardSize
         << "-character string to identify which letters you want on the cubes."
         << endl << "The first " << sqrt(double(boardSize))
         << " letters are the cubes on the top row from left to right "
         << endl << "next " << sqrt(double(boardSize))
         << " letters are the second row, etc."
         << endl << "Enter the string: ";
    string answer;
    do {
        answer = getLine();
        if(answer.size() >= double(boardSize)) break;
    } while (cout << "String must include " << boardSize
        << " characters! Try again: ");
    toupper(answer);
    int strIndex = 0;
    for (int row = 0; row < sqrt(double(boardSize)); row++){
        for (int col = 0; col < sqrt(double(boardSize)); col++){
            char answerSubStr = answer[strIndex];
            labelCube(row, col, answerSubStr);
            strIndex++;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T05:45:01.577

除非您需要（例如，家庭作业），否则不要为此使用递归。

相反，将您的单词列表预处理为对字母进行排序的等价物。从排序的字母到您可以用一组字母表示的单词构建一个多重映射。

当玩家挑选出一个建议的单词时，对该单词中的字母进行排序，在地图中查找它，并查看其中一个结果是否与他们输入的匹配。这基本上总是如此少量的条目，您可以对每个条目进行简单的字符串比较。

另一种可能性是将您的单词列表构建成一个 trie。这肯定会做更多的工作。它几乎肯定会节省内存，并且可能还会使查找速度更快——但除非您要运行一个令人难以置信的网站，以便计算机同时与数千人对战，否则这不太重要。

# linq-to-xml - 如何在 LINQ to XML 中指定顶部行数？

> ID：10594692
> 
> 赞同：0
> 
> 时间：2012-05-15T05:36:14.283
> 
> 标签：linq-to-xml

在 LINQ to SQL 中，我可以说 var ......Take(50); 现在我有了这个 LINQ2XML 代码：

```
 XElement xml = new XElement("Materials",
                    from material in _db.MTIs
                    where material.MTName.ToString().Contains(comparer)
                    select new XElement("Material",
                              new XElement("MTID", material.MTID),
                              new XElement("MTName", material.MTName),
                              new XElement("ComputerNO", material.ComputerNO),
                              new XElement("ModelNO", material.ModelNO),
                              new XElement("Whole", material.Whole))); 
```

我只想获得前 50 行匹配结果，我怎么能执行这样的事情？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T11:22:40.040

```
 XElement xml = new XElement("Materials",
                _db.MTIs.Where(material => material.MTName.ToString().Contains(comparer))
                .Take(50)
                .Select(material =>
                    new XElement("Material",
                          new XElement("MTID", material.MTID),
                          new XElement("MTName", material.MTName),
                          new XElement("ComputerNO", material.ComputerNO),
                          new XElement("ModelNO", material.ModelNO),
                          new XElement("Whole", material.Whole)))); 
```

# c++ - opencv六通道矩阵乘法

> ID：10594697
> 
> 赞同：0
> 
> 时间：2012-05-15T05:36:38.293
> 
> 标签：c++, performance, opencv

我正在研究光谱相机，并正在使用 opencv 进行处理。我刚开始使用opencv，所以这可能不是最好的方法。

基本上，这段代码从两个视频流中抓取帧，然后进行矩阵乘法。captureF 和 captureM 都是视频流，eigen 是一个 6x7 矩阵，其中最后一行是需要从图像中减去的偏移量。

我不知道如何将两个帧组合成一个六通道图像II查看了合并和混合通道但无法工作），所以我最终手动进行矩阵乘法并将数据保存到两个三通道图像，但理想情况下，这将是一个 6 通道矩阵。我的问题是这段代码目前运行速度非常慢（每帧 20 秒），我想知道是否有一种方法可以运行得更快，或者使用 6 通道图像来执行此操作？

```
 IplImage imgF = cvQueryFrame(captureF);
        IplImage dst2 = cvQueryFrame(captureM);

        IplImage *OutImg1 = cvCreateImage(cvSize(imgF->width, imgF->height), IPL_DEPTH_32F, 3);
        IplImage *OutImg2 = cvCreateImage(cvSize(imgF->width, imgF->height), IPL_DEPTH_32F, 3);

        // iterates through each frame in the image.
        for(int i=0; i<(imgF->imageSize)/3;i+=3){
                ((float*)OutImg1->imageData)[i] =   cvmGet(eigen,0,2)*(imgF->imageData[i]-cvmGet(eigen,6,2)) + cvmGet(eigen,0,1)*(imgF->imageData[i+1]-cvmGet(eigen,6,1)) + cvmGet(eigen,0,0)*(imgF->imageData[i+2]-cvmGet(eigen,6,0)) + cvmGet(eigen,0,5)*(dst2->imageData[i]-cvmGet(eigen,6,5)) + cvmGet(eigen,0,4)*(dst2->imageData[i+1]-cvmGet(eigen,6,4)) + cvmGet(eigen,0,3)*(dst2->imageData[i+2]-cvmGet(eigen,6,3));
                ((float*)OutImg1->imageData)[i+1] = cvmGet(eigen,1,2)*(imgF->imageData[i]-cvmGet(eigen,6,2)) + cvmGet(eigen,1,1)*(imgF->imageData[i+1]-cvmGet(eigen,6,1)) + cvmGet(eigen,1,0)*(imgF->imageData[i+2]-cvmGet(eigen,6,0)) + cvmGet(eigen,1,5)*(dst2->imageData[i]-cvmGet(eigen,6,5)) + cvmGet(eigen,1,4)*(dst2->imageData[i+1]-cvmGet(eigen,0,4)) + cvmGet(eigen,1,3)*(dst2->imageData[i+2]-cvmGet(eigen,6,3));
                ((float*)OutImg1->imageData)[i+2] = cvmGet(eigen,2,2)*(imgF->imageData[i]-cvmGet(eigen,6,2)) + cvmGet(eigen,2,1)*(imgF->imageData[i+1]-cvmGet(eigen,6,1)) + cvmGet(eigen,2,0)*(imgF->imageData[i+2]-cvmGet(eigen,6,0)) + cvmGet(eigen,2,5)*(dst2->imageData[i]-cvmGet(eigen,6,5)) + cvmGet(eigen,2,4)*(dst2->imageData[i+1]-cvmGet(eigen,0,4)) + cvmGet(eigen,2,3)*(dst2->imageData[i+2]-cvmGet(eigen,6,3));

                ((float*)OutImg2->imageData)[i] =   cvmGet(eigen,3,2)*(imgF->imageData[i]-cvmGet(eigen,6,2)) + cvmGet(eigen,3,1)*(imgF->imageData[i+1]-cvmGet(eigen,6,1)) + cvmGet(eigen,3,0)*(imgF->imageData[i+2]-cvmGet(eigen,6,0)) + cvmGet(eigen,3,5)*(dst2->imageData[i]-cvmGet(eigen,6,5)) + cvmGet(eigen,3,4)*(dst2->imageData[i+1]-cvmGet(eigen,0,4)) + cvmGet(eigen,3,3)*(dst2->imageData[i+2]-cvmGet(eigen,6,3));
                ((float*)OutImg2->imageData)[i+1] = cvmGet(eigen,4,2)*(imgF->imageData[i]-cvmGet(eigen,6,2)) + cvmGet(eigen,4,1)*(imgF->imageData[i+1]-cvmGet(eigen,6,1)) + cvmGet(eigen,4,0)*(imgF->imageData[i+2]-cvmGet(eigen,6,0)) + cvmGet(eigen,4,5)*(dst2->imageData[i]-cvmGet(eigen,6,5)) + cvmGet(eigen,4,4)*(dst2->imageData[i+1]-cvmGet(eigen,0,4)) + cvmGet(eigen,4,3)*(dst2->imageData[i+2]-cvmGet(eigen,6,3));
                ((float*)OutImg2->imageData)[i+2] = cvmGet(eigen,5,2)*(imgF->imageData[i]-cvmGet(eigen,6,2)) + cvmGet(eigen,5,1)*(imgF->imageData[i+1]-cvmGet(eigen,6,1)) + cvmGet(eigen,5,0)*(imgF->imageData[i+2]-cvmGet(eigen,6,0)) + cvmGet(eigen,5,5)*(dst2->imageData[i]-cvmGet(eigen,6,5)) + cvmGet(eigen,5,4)*(dst2->imageData[i+1]-cvmGet(eigen,0,4)) + cvmGet(eigen,5,3)*(dst2->imageData[i+2]-cvmGet(eigen,6,3));
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T16:02:06.197

我使用opencv2，并且是新手，所以也许有更好的方法。我想如果你也需要的话，你可以转置到旧的简历。首先，它看起来很烦人，好像没有 6 个通道标量。因此，将您的数据转换为 NX6 数组（N = rows*cols），并使用矩阵乘法。

```
Mat twoIm[2];
Mat eigen(6,6,CV_32F);
Mat bigGuy,newGuy;

merge(twoIm,2,bigGuy);            // load your two images into twoIm[0] & twoIm[1]
bigGuy.convertTo(bigGuy, CV_32F); // mat multiply wants everything the same type

Mat bigGal = bigGuy.reshape(1, 6); // this makes 6 channels into 6 rows

newGuy = bigGal.t() * eigen;       // and voila! 
```

# visual-studio-2010 - 如何在 Visual Studio 2010 中更改 SourceGear Vault 服务器地址

> ID：10594698
> 
> 赞同：0
> 
> 时间：2012-05-15T05:36:46.657
> 
> 标签：visual-studio-2010, sourcegear-vault

我有一个仅在本地工作的项目，并且我已经设置了 Source Gear Vault 以使用本地 url 访问服务器。我现在要在家里做这个项目，需要更改服务器地址以使用不同的 url 远程访问服务器。我知道如何在独立客户端中执行此操作，但在 Visual Studio 中找不到执行此操作的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T15:38:34.617

您正在处理的是进入您的 .sln 和项目文件并指向您的源代码控制产品的绑定。如果您取消绑定解决方案并将其重新绑定到新的服务器位置，您应该能够使用不同的服务器 URL。

有关绑定的更多详细信息，请参阅 SourceGear 网站上的此知识库文章：http: [//support.sourcegear.com/viewtopic.php](http://support.sourcegear.com/viewtopic.php?f=13&t=18956) ?f=13&t=18956 。

实际上，该文章中有用的特定条目是重新绑定到不同的服务器： http: [//support.sourcegear.com/viewtopic.php](http://support.sourcegear.com/viewtopic.php?f=13&t=18956&p=68403#p68403) ?f=13&t=18956&p=68403#p68403 。

请随时致电 (217) 356-0105 x700，或发送电子邮件以支持 @sourcegear.com。

# java - 如何在android画布中使用双击事件来保存当前图像

> ID：10594702
> 
> 赞同：0
> 
> 时间：2012-05-15T05:37:07.190
> 
> 标签：java, android

**我有扩展视图的类我可以将一个图像移到另一个上为此我使用两个位图图像一个在另一个上现在我想使用双击事件保存图像但我不知道如何做到这一点....任何人都可以对此有一些想法或代码......**

`公共类 ShowCanvas 扩展视图 {

```
Bitmap CanvasBitmap;
Bitmap ScaledBitmap;
Bitmap smallbitmap;
private static final int INVALID_POINTER_ID = -1;

private Drawable mImage;
private float mPosX;
private float mPosY;

private float mLastTouchX;
private float mLastTouchY;
private int mActivePointerId = INVALID_POINTER_ID;

private ScaleGestureDetector mScaleDetector;
private float mScaleFactor = 1.f;

public ShowCanvas(Context context) { 
```

这（上下文，空，0）；// TODO 自动生成的构造函数存根

```
 ScaledBitmap = DrawView.scaled;

    mImage = new BitmapDrawable(getResources(), Dress.bitmap);

    System.out.println("MImage" +mImage);

    mImage.setBounds(0, 0, mImage.getIntrinsicWidth(),
            mImage.getIntrinsicHeight());

}

public ShowCanvas(Context context, AttributeSet attrs) {
    this(context, attrs, 0);
}

public ShowCanvas(Context context, AttributeSet attrs, int defStyle) {
    super(context, attrs, defStyle);
    mScaleDetector = new ScaleGestureDetector(context, new ScaleListener());
}

public void setBitmap(Bitmap bitmap) {
    // TODO Auto-generated method stub
    CanvasBitmap = bitmap;

    System.out.println("CanvasBitmap" + CanvasBitmap);

    int X = CanvasBitmap.getHeight();
    int Y = CanvasBitmap.getWidth();

    System.out.println("CanvasBitmap " + X + "\t" + Y);

}

@Override
public boolean isLongClickable() {
    // TODO Auto-generated method stub

    System.out.println("ISLongClickable");
    return super.isLongClickable();
}

@Override
public boolean onTouchEvent(MotionEvent ev) {
    // Let the ScaleGestureDetector inspect all events.
    mScaleDetector.onTouchEvent(ev);

    final int action = ev.getAction();

    switch (action & MotionEvent.ACTION_MASK) {

    case MotionEvent.ACTION_DOWN: {
        final float x = ev.getX();
        final float y = ev.getY();

        mLastTouchX = x;
        mLastTouchY = y;
        mActivePointerId = ev.getPointerId(0);

        break;
    }

    case MotionEvent.ACTION_MOVE: {
        final int pointerIndex = ev.findPointerIndex(mActivePointerId);
        final float x = ev.getX(pointerIndex);
        final float y = ev.getY(pointerIndex);

        // Only move if the ScaleGestureDetector isn't processing a
        // gesture.
        if (!mScaleDetector.isInProgress()) {
            final float dx = x - mLastTouchX;
            final float dy = y - mLastTouchY;

            mPosX += dx;
            mPosY += dy;

            invalidate();
        }

        mLastTouchX = x;
        mLastTouchY = y;

        break;
    }

    case MotionEvent.ACTION_UP: {
        mActivePointerId = INVALID_POINTER_ID;
        break;
    }

    case MotionEvent.ACTION_CANCEL: {
        mActivePointerId = INVALID_POINTER_ID;
        break;
    }

    case MotionEvent.ACTION_POINTER_UP: {
        final int pointerIndex = (ev.getAction() & MotionEvent.ACTION_POINTER_INDEX_MASK) >> MotionEvent.ACTION_POINTER_INDEX_SHIFT;
        final int pointerId = ev.getPointerId(pointerIndex);
        if (pointerId == mActivePointerId) {
            // This was our active pointer going up. Choose a new
            // active pointer and adjust accordingly.
            final int newPointerIndex = pointerIndex == 0 ? 1 : 0;
            mLastTouchX = ev.getX(newPointerIndex);
            mLastTouchY = ev.getY(newPointerIndex);
            mActivePointerId = ev.getPointerId(newPointerIndex);
        }
        break;
    }
    }

    return true;
}

@Override
protected void onDraw(Canvas canvas) {
    // TODO Auto-generated method stub
    Paint mpaint = new Paint();

    canvas.save();
    canvas.drawBitmap(ScaledBitmap, 0, 0, mpaint);
    Log.d("DEBUG", "X: " + mPosX + " Y: " + mPosY);
    canvas.translate(mPosX, mPosY);
    canvas.scale(mScaleFactor, mScaleFactor);
    mImage.draw(canvas);

    canvas.restore();

}

private class ScaleListener extends
        ScaleGestureDetector.SimpleOnScaleGestureListener {
    @Override
    public boolean onScale(ScaleGestureDetector detector) {
        mScaleFactor *= detector.getScaleFactor();

        // Don't let the object get too small or too large.
        mScaleFactor = Math.max(0.1f, Math.min(mScaleFactor, 10.0f));

        invalidate();
        return true;
    }
} 
```

}`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T05:45:54.920

如果您的意思是双击，则必须使用 GestureDetector.OnDoubleTapListener。检查这个[链接](http://developer.android.com/reference/android/view/GestureDetector.OnDoubleTapListener.html)

试试这个

```
public class MyView extends View {

GestureDetector gestureDetector;

public MyView(Context context, AttributeSet attrs) {
    super(context, attrs);
            // creating new gesture detector
    gestureDetector = new GestureDetector(context, new GestureListener());
}

// skipping measure calculation and drawing

    // delegate the event to the gesture detector
@Override
public boolean onTouchEvent(MotionEvent e) {
    return gestureDetector.onTouchEvent(e);
}

private class GestureListener extends GestureDetector.SimpleOnGestureListener {

    @Override
    public boolean onDown(MotionEvent e) {
        return true;
    }
    // event when double tap occurs
    @Override
    public boolean onDoubleTap(MotionEvent e) {
        float x = e.getX();
        float y = e.getY();

        Log.d("Double Tap", "Tapped at: (" + x + "," + y + ")");

        return true;
    }
}
} 
```

# c++ - STL 嵌套容器取消引用错误

> ID：10594705
> 
> 赞同：3
> 
> 时间：2012-05-15T05:37:14.267
> 
> 标签：c++, stl, compiler-errors

我对我的 C++ 和我曾经拥有的一点 STL 知识非常生疏。我特别难以阅读生成的大量错误消息。

鉴于：

```
typedef map<string,int>layerType;
typedef vector<layerType> aggregateLayersType; 
```

有什么问题：

```
bool LayerManager::use_layers(aggregateLayersType& layers)
{
  int layerVal = layers[0]["ts"];
} 
```

错误是：

```
> No viable overloaded operator[] for type
> 'std::__debug::map<std::basic_string<char, std::char_traits<char>,
> std::allocator<char> >, int, std::less<std::basic_string<char,
> std::char_traits<char>, std::allocator<char> > >,
> std::allocator<std::pair<const std::basic_string<char,
> std::char_traits<char>, std::allocator<char> >, int> > >' 
```

我敢肯定，一旦有人指出显而易见的事情，事情就会变得简单。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-15T05:59:22.303

看起来您正在使用 std::map 类的调试版本（std::__debug::map）：http: [//gcc.gnu.org/onlinedocs/gcc-4.6.3/libstdc++/api/a00298 .html](http://gcc.gnu.org/onlinedocs/gcc-4.6.3/libstdc++/api/a00298.html)

`operator[]`根据文档，它缺少重载。

而它存在于发布版本中：http: [//gcc.gnu.org/onlinedocs/gcc-4.6.3/libstdc++/api/a00601.html](http://gcc.gnu.org/onlinedocs/gcc-4.6.3/libstdc++/api/a00601.html)

尝试在你的地图 typedef 前加上 std::

`typedef std::map<string,int> layerType;`

我怀疑它们可能是您代码中 std::__debug 泄漏的其他地方的一些命名空间泄漏......

# javascript - 创建自定义 jQuery 类

> ID：10594706
> 
> 赞同：2
> 
> 时间：2012-05-15T05:37:15.797
> 
> 标签：javascript, jquery

我正在为我的网站创建一个照片库。我想要页面加载时显示的照片网格。然后当用户将鼠标悬停在每张照片上时，照片会放大一点。

我为悬停创建了 javascript，但我不知道如何正确地将其打包到一个类中。

基本上，我只想创建一个这样的列表

```
<ul>
 <li><img src="img1.jpg" /></li>
 <li><img src="img2.jpg" /></li>
</ul> 
```

然后它会自动创建每个图像，我的悬停机制已经到位。到目前为止，这是我的代码。

```
<!DOCTYPE HTML>
<html>
<head>
<script src="jquery.js"></script>
<style text="text/css">
.hoverImage {
    position: absolute;
    width: 200px;
    left: 500px;
    top: 200px;
}
</style>
</head>
<body>
<script>
var originalWidth;
var originalHeight;

function onHover() {
    originalWidth = $(this).width();
    originalHeight = $(this).height();

    $(this).stop(false, true).animate({
            left: $(this).offset().left-(Math.floor(originalWidth/4)),
            top: $(this).offset().top-(Math.floor(originalHeight/4)),
            width: 300,
    },200);
}

function offHover() {
    $(this).stop(false, true).animate({
            left: $(this).offset().left+(Math.floor(originalWidth/4)),
            top: $(this).offset().top+(Math.floor(originalHeight/4)),
            width: 200,
    },200);
}

$(document).ready(function() {
    $("img").hover(onHover, offHover);
});

</script>
<img class="hoverImage" src="Test.jpg"/>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T05:47:39.127

如果你想将你的功能包装成可重用的东西，考虑编写一个 jQuery 扩展。这并不难。

这是指南：[http ://docs.jquery.com/Plugins/Authoring](http://docs.jquery.com/Plugins/Authoring)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T05:47:42.550

如果你想用你自己的方法扩展 jQuery DOM 对象，这应该是这样做的方法

```
$.fn.extend({
    relyntsHoverPlugin : function() {}
}); 
```

这将允许像这样的语法

```
$('ul').relyntsHoverPlugin(); 
```

不要与使用新函数扩展 jQuery 对象相混淆，即。**$** .relyntsMethod();

希望这会有所帮助，并且我并没有完全脱离基地！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T05:55:52.887

您可以使用模板在 grid/div/table... 中创建图像，并为图像添加 onHover() 和 offHover()。希望它可以帮助你。

```
 <script type="text/javascript">
    $(document).ready(function() {
    var data = [
    { name: "Astor", product: "astor", stocklevel: "10"},
    { name: "Daffodil", product: "daffodil", stocklevel: "12"},
    { name: "Rose", product: "rose", stocklevel: "2"},
    { name: "Peony", product: "peony", stocklevel: "0"},
    ];
    $('#flowerTmpl').tmpl(data).appendTo('#row1');
    });
    </script>

    <script id="flowerTmpl" type="text/x-jquery-tmpl">
    <div class="dcell">
    <img src="${product}.png"/>
    <label for="${product}">${name}:</label>
    </div>
    </script> 
```

# c# - 我们可以在循环中使用异步方法调用吗

> ID：10594707
> 
> 赞同：0
> 
> 时间：2012-05-15T05:37:17.137
> 
> 标签：c#, asp.net, multithreading, .net-4.0

我想通过使用线程来优化性能。

```
public delegate int DelegateGetMarkOfSubject(int subjectid, int studentid);

int TotalMark = 0;

public void GetTotalMark(int StudentId)    
{
    TotalMark = 0;

    List<Subjects> lstSubj = GetSubjectList(StudentId);
    Waithandle[] waitHandler = new waitHandler[10];

    DelegateGetMarkOfSubject delmarkOfSubj = new DelegateGetMarkOfSubject(GetMark);

    foreach(var subject in lstSubj)
    {
        IAsync result_subject.id = delmarkOfSubj.BeginInvoke(subject.id, StudentId, new AsyncCallBack(GetMarkComplete), null);
        waitHandler.add(result_subject.id.AsyncHandle);
    }

    WaitHandle.WaitAll(waitHandler);
    return TotalMark;
}

GetMarkComplete(Iasynch argument)
{
    DelegateGetMarkOfSubject  del = (DelegateGetMarkOfSubject )((Asynchresult ar)).AsynDelegate;

    newMark = del.EndInvoke(argument)

    if(LockingCondition)
    {
        //PutLock

        TotalMark += newMark;

        //Release Lock
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T06:38:09.803

为什么不使用 PLINQ？

```
class Subject
{
    public Int32 Mark { get; set; }
}

        var subjects = new List<Subject>
        {
            new Subject { Mark = 50 },
            new Subject { Mark = 75 },
            new Subject { Mark = 81 },
        };

        Console.WriteLine(subjects.AsParallel().Sum(subject => subject.Mark)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T07:23:42.520

这是您的代码的反应式框架 (Rx) 版本：

```
var totalMarks = (
    from subject in lstSubj.ToObservable()
    from mark in Observable.Start(() => GetMark(subject.id, StudentId))
    select mark).Sum().Last(); 
```

这也会产生并行的结果。

# selenium - selenium 服务器看起来从 http 请求中截断了一部分

> ID：10594708
> 
> 赞同：0
> 
> 时间：2012-05-15T05:37:19.197
> 
> 标签：selenium

我正在练习 Selenium，我遇到了一个奇怪的问题，一时间找不到原因。

在我的 Mac 中，我启动了一个 Selenium 独立服务器和一个 selenium Web 驱动程序。

在 Elciplse 中，我编写了 Selenium 脚本，创建了一个 Selenium 实例，如下所示：

```
selenium = new DefaultSelenium("localhost", 4444,
    "*chrome", "http://sydney.mycompany.net.au/GBT"); 
```

[http://sydney.mycompany.net.au/](http://sydney.mycompany.net.au/) ”是我们公司的内部网站。

当我启动 JUnit 时，看起来我的 selenium 服务器没有发送`GET /GBT`到我们的 Web 服务器（我检查了 wireshark 跟踪），只计算了第一部分（http://sysney.mycompany.net.au），但`/GBT`被切断了.

如果我将 url 更改为`www.google.com.au`，一切都很好。

我尝试了一些公共网页，例如`www.dailytelegraph.com.au/lifestyle`，我遇到了同样的问题：`lifestyle`也被切断了。

我需要在 seleniume 服务器或驱动程序端进行任何设置吗？很感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T11:41:27.720

初始化 selenium 时，会指定基本 url（即域名）。指定基本网址后，您可以通过以下方式导航到内部网页`selenium.open("/GBT")`

# msmq - 本地查询队列抛出异常

> ID：10594712
> 
> 赞同：1
> 
> 时间：2012-05-15T05:37:46.547
> 
> 标签：msmq

我正在尝试使用以下代码查询我机器上的本地队列：

```
var c = new MessageQueueCriteria();
c.MachineName = Environment.MachineName;
var queues = MessageQueue.GetMessageQueueEnumerator(c); 
```

但代码在第二行抛出异常，抱怨：

工作组安装计算机不支持该操作。

堆栈跟踪：在 System.Messaging.MessageQueue.GetMachineId(String machineName) 在 System.Messaging.MessageQueueCriteria.set_MachineName(String value)

并且 MessageQueueErrorCode 枚举设置为 System.Messaging.MessageQueueErrorCode.UnsupportedOperation。

奇怪的是我在域而不是工作组！和其他应用程序（QueueExplorer）似乎工作文件。有什么想法可以绕过它吗？

更新：似乎错误来自运行属性设置器中的这段代码，但不知道如何修复它。

```
new MessageQueuePermission(MessageQueuePermissionAccess.Browse, "*").Demand(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T09:23:13.853

**MessageQueueCriteria**类用于在使用**GetPublicQueues**方法时过滤**PUBLIC**消息队列。为了能够浏览公共队列，您必须启用**MSMQ Active Directory 服务集成**功能。如果您的计算机加入域是不够的。

 ****如果您想浏览本地**PRIVATE**队列，您应该使用：

```
MessageQueue[] queues = MessageQueue.GetPrivateQueuesByMachine(Environment.MachineName); 
```****

# java - 我可以创建多个 STATIC 嵌套对象吗？

> ID：10594714
> 
> 赞同：1
> 
> 时间：2012-05-15T05:37:49.717
> 
> 标签：java

在死锁部分，Java SE 7 教程中，有一个示例，如下所示。我不明白为什么 main 方法可以创建 2 个 STATIC 嵌套对象（实际上它被定义为静态嵌套类）。据说没有任何静态类的实例，对吧？谁能帮我吗？谢谢。

==================================================== ========================================== 阿尔方斯和加斯顿是朋友，也是伟大的信徒礼貌地。一个严格的礼貌规则是，当你向朋友鞠躬时，你必须保持鞠躬，直到你的朋友有机会还鞠躬。不幸的是，这条规则没有考虑到两个朋友可能同时互相鞠躬的可能性。这个示例应用程序 Deadlock 模拟了这种可能性：

```
public class Deadlock {
    static class Friend {
        private final String name;
        public Friend(String name) {
            this.name = name;
        }
        public String getName() {
            return this.name;
        }
        public synchronized void bow(Friend bower) {
            System.out.format("%s: %s"
                + "  has bowed to me!%n", 
                this.name, bower.getName());
            bower.bowBack(this);
        }
        public synchronized void bowBack(Friend bower) {
            System.out.format("%s: %s"
                + " has bowed back to me!%n",
                this.name, bower.getName());
        }
    }

    public static void main(String[] args) {
        final Friend alphonse =
            new Friend("Alphonse");
        final Friend gaston =
            new Friend("Gaston");
        new Thread(new Runnable() {
            public void run() { alphonse.bow(gaston); }
        }).start();
        new Thread(new Runnable() {
            public void run() { gaston.bow(alphonse); }
        }).start();
    }
} 
```

当 Deadlock 运行时，极有可能两个线程在尝试调用 bowBack 时都会阻塞。这两个块都不会结束，因为每个线程都在等待另一个退出弓。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T06:02:30.270

来自 Java 教程：实际上，静态嵌套类在行为上是一个顶级类，它已嵌套在另一个顶级类中以方便打包。

您可以从内部 Deadlock 中删除 Friend 并将其作为外部类，而不会改变行为。

“静态”是指访问外部类中的变量和方法。与静态（类）方法一样，静态嵌套类不能直接引用在其封闭类中定义的实例变量或方法——它只能通过对象引用来使用它们。

我不认为它在任何地方都说“没有任何静态类的实例”。外部类不能是静态的，嵌套类实际上是外部类。

不过，这是个好问题——我最近浏览了这个例子，并没有考虑到这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T05:59:51.907

编辑：即使创建线程比调用方法慢得多，但第一次加载它们需要更长的时间。

正如代码所示，这确实会发生死锁，因为加载方法所需的时间有效地对齐了两个线程，因为在加载方法之前无法调用这些方法。

如果在线程启动之间添加以下行，则不会出现死锁。

```
Thread.sleep(50); 
```

同样，如果您在创建线程之前调用方法以确保加载方法，您也不会遇到死锁，因为时间现在取决于线程的启动。

```
alphonse.bow(gaston); 
```

* * *

以前的答案。

恕我直言，您极不可能陷入僵局。

如果你反复执行这些任务，它们最终会死锁。您只在不同时间执行一次这些操作。这是因为启动一个新线程所花费的时间比获得两个锁之间的时间要长得多。（100 倍或更多差异。）

我希望这可能会在一百次运行中陷入僵局，但它可能会更少。

> 据说没有任何静态类的实例，对吧？

不知道这意味着什么，因为有两个`Friend`实例`Deadlock`

# streaming - 如何下载 jwplayer 流媒体视频？

> ID：10594721
> 
> 赞同：7
> 
> 时间：2012-05-15T05:38:25.703
> 
> 标签：streaming, video-streaming, jwplayer

我订阅了[drupalize.me。](http://drupalize.me)但由于我的互联网连接速度较慢，我无法正确查看视频教程。我认为该网站使用 jwplayer，并且该网站不提供视频下载选项。谁能告诉如何找到流媒体的直接下载链接视频？如果有人提供 drupalize.me[免费示例视频](http://drupalize.me/videos/fantasy-site-stack-overflow-diwd-09)的直接下载链接，那就太好了。请帮助我

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-07-06T17:42:34.307

有一种[方法](http://nickolaszev.blogspot.com/2011/12/download-streamedflash-videos-from-jw.html)对我有用。此外，我删除了`-a vod`选项，因为它导致了错误。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-06-11T11:01:04.727

真正的播放器有一个浏览器插件可以做到这一点，（只在 IE 中运行良好）IDM（互联网下载管理器）也有同样的功能（再次仅限 IE）我在 chrome 上遇到问题后禁用了这两个插件。 [http://www.internetdownloadmanager.com/](http://www.internetdownloadmanager.com/)

[https://www.youtube.com/watch?v=xY_7HRgsw8g](https://www.youtube.com/watch?v=xY_7HRgsw8g)

Real Player 是免费的 IDM 不是（torrent 上的破解版除外；））

IDM 允许选择要下载的视频流（如果您在 youtube 上更改分辨率，您将看到 2 个文件可供下载，每个分辨率 1 个）

# vb.net - VB.net 初学者，迷失在 DLL、DirectShow、AVIcap32.dll 等图像处理中

> ID：10594722
> 
> 赞同：2
> 
> 时间：2012-05-15T05:38:48.730
> 
> 标签：vb.net, api, image-processing

最终目标是使用 VB.net 与网络摄像头交互并进行图像处理。

目前我只是在使用 Matlab，但速度非常慢。既然我要进入图像处理领域，再加上物体识别，我应该走哪条路？这意味着它是GDI +吗？直连？或其他一些API？支持操作和分析图形输入数据的 API 是什么？通过它我可以更深入地研究，并为我自己的兴趣/项目创建一个独立的软件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T05:51:37.237

在深入使用 VB.Net 进行数字图像处理之前，我**强烈**建议您先花时间学习基础知识，然后继续下一步，即处理您提到的 API。

但是，要回答您的问题，API（应用程序编程接口）是一组编程指令和标准，可以将您的应用程序与其他应用程序进行通信。

这基本上允许两个不同的软件通过一个通用界面相互交谈。

至于DLL（动态链接库）文件，它们是一组可供Windows应用程序使用的可执行函数或数据。

或者正如我从[维基百科](http://en.wikipedia.org/wiki/Dynamic-link_library)中引用的：

> 动态链接库（也写为无连字符）或 DLL，是 Microsoft 在 Microsoft Windows 和 OS/2 操作系统中实现的共享库概念。这些库通常具有文件扩展名 DLL、OCX（用于包含 ActiveX 控件的库）或 DRV（用于旧系统驱动程序）。DLL 的文件格式与 Windows EXE 文件的格式相同，即 32 位和 64 位 Windows 的可移植可执行文件 (PE) 和 16 位 Windows 的新可执行文件 (NE)。与 EXE 一样，DLL 可以包含任意组合的代码、数据和资源。

基本上，刚开始的时候你不应该太深入，我强烈建议你从那时开始学习语言本身，一步一步地学习，直到你掌握了语言。

我想对你说几句话 IvanWong....**欢迎来到编程、乐趣和挑战的世界！**

# r - 删除矩阵中的列值

> ID：10594729
> 
> 赞同：0
> 
> 时间：2012-05-15T05:39:39.510
> 
> 标签：r

我已经用这个有一段时间了。我希望你们中的一个可以帮助我。我有一个大矩阵：122 行和 6005 列。一栏 [,1] 列出项目代码。在这个专栏中有 25 个我想摆脱的练习试验。我尝试使用此代码：

```
 x1=nw[,1][-c(1:25), 1:6005] 
```

但它会产生不正确的尺寸错误。如果我隔离此列，我会得到我想要的结果。为什么这不能推广到整个矩阵？任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T06:59:06.520

这解决了你的问题，

```
m <- matrix(1:732610, 122 , 6005)
z <- m[-c(1:25),-1] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T06:51:20.113

您不能只从矩阵中删除值，因为它具有固定的维度（行数 x 列数）。相反，请尝试用缺失值 (NA) 替换这些值。

```
nw <- matrix(rnorm(122*6005, 5, 1), nrow = 122, ncol = 6005)
nw[,1][1:25] <- NA
nw[,1:4] 
```

然后您可以使用 na.omit/na.rm 函数处理 NA。例如

```
mean(nw[,1], na.rm = T) 
```

# android - Android SQLite DatabaseObjectNotClosedException

> ID：10594730
> 
> 赞同：0
> 
> 时间：2012-05-15T05:39:40.207
> 
> 标签：android, sqlite, sqliteopenhelper

`android.database.sqlite.DatabaseObjectNotClosedException`在我正在构建的 PoC Android 应用程序中，当应用程序关闭时调用垃圾收集器时 ，我得到了一个消息。即使我在我正在使用`SQLiteDatabase`的`SQLiteOpenHelper`对象上调用 close 方法，也会发生这种情况。

我正在使用包含用于在构造函数中打开数据库的代码的 DAO（从 an`AsyncTask.doInBackground`中调用`Activity`）访问数据库，并且此构造函数是从`onCreate()`活动的方法中调用的。

```
//Code in my DAO class
public MyDataSource(Context context) {
    dbHelper = new MyOpenHelper(context);
    dbHelper.createDatabase();
}

//Calling Activity
MyDataSource myDs;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    this.setContentView(R.layout.create);

    myDs= new MyDataSource (MyActivity.this);
}

@Override
public void onPause() {
    investmentDs.close();
    if(ConstantValues.DebugModeManager.DEBUG_CREATE || ConstantValues.DebugModeManager.DEBUG_MODE) {
        Log.d(LOG_TAG, "Create screen paused...");
    }
    super.onPause();
} 
```

我还有一个关闭`SQLiteDatabase`对象的方法，该方法是从同一活动的方法中`SQLiteOpenHelper`调用的。`onPause()`数据库读/写是在`doInBackground`AsyncTask 的方法中执行的。

我已经覆盖了以下`close()`方法`SQLiteOpenHelper`：

```
@Override
public synchronized void close() {
        if(database != null)
            database.close();
        super.close(); 
} 
```

我从`close()`我的 DAO 类中的一个方法中调用它。

如果需要进一步澄清，请告诉我。
谢谢，
德博吉特

**编辑 1：**
这是从 db 获取的代码。

```
 cursor = db.query("EMPLOYEES", null, whereClause, null, null, null, "EMPLOYEE_ID");
    cursor.moveToFirst();

    List<MyBean> beans = new ArrayList<MyBean>();
    while(!cursor.isAfterLast()) {
        beans.add(cursorToObject(cursor)); //this fetches data from the cursor's current row            
        cursor.moveToNext(); // and inserts into a POJO of type MyBean

    }
    cursor.close(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:47:23.947

您的光标对象未关闭。每当您完成 Cursor 对象调用**cursor.close();**

# memory - 资源需求语法错误

> ID：10594731
> 
> 赞同：0
> 
> 时间：2012-05-15T05:39:44.567
> 
> 标签：memory, resources, csh, lsf

我正在尝试使用 LSF 中可用的内存资源分配命令。命令的正常格式是：

> bsub -R "rusage [mem=1000]" 睡眠 100 秒

当我直接从终端启动此命令时，它可以工作。当我从脚本中执行此命令时，它失败了。

这是我的脚本：

```
#! /bin/csh -f

set cktsim_memory = $1
set tmp = "|rusage [mem = $cktsim_memory]|" #method2
set tmp = `echo $tmp | sed 's/ =/=/g'` #method2
set tmp = `echo $tmp | sed 's/|/"/g' `
set bsub_option = ""
set bsub_option = ( "$bsub_option" "-R" "$tmp") #method2
set cmd = "bsub $bsub_option sleep 100s"
echo $cmd
$cmd 
```

它的运行输出是：

```
>./cktsim_memory_test 100
bsub -R "rusage [mem= 100]" sleep 100s
Bad resource requirement syntax. Job not submitted.
>bsub -R "rusage [mem= 100]" sleep 100s
Job <99775> is submitted to default queue <medium>. 
```

正如您在上面的终端输出中看到的那样 - 当从脚本启动 bsub 命令时，它会失败，当从终端运行相同的命令时，它是好的......

请帮我调试问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T06:30:21.090

```
 set cktsim_memory = $1
set temp = "'rusage [mem = $cktsim_memory]'" #method2
set temp = `echo $temp | sed 's/ =/=/g'` #method2
set bsub_option = ( "$bsub_option" "-R" "$temp") 
```

# android - 如何确定我的 Android 应用程序停止运行的原因？

> ID：10594732
> 
> 赞同：2
> 
> 时间：2012-05-15T05:39:44.613
> 
> 标签：android, debugging

我编写了一个简单的 Android 应用程序，用作数字标牌——它所做的只是下载并显示一个（简单的、静态的）网页，它每四个小时自动刷新一次网页，无需用户交互。

它通常一次可以运行几天或几周，但每隔一段时间（似乎是随机间隔），当我下到部署其中一个单元的位置时，我发现应用程序已经神秘地停止运行 - 即设备已经返回到安卓桌面。

我检测了我的应用程序以发出日志消息（通过调用 Log.i 和将文本写入单独的日志文件），但我没有看到任何证据表明应用程序崩溃或故意退出；似乎有一次它在刷新网页后（像往常一样）进入了睡眠状态，并且再也没有收到任何消息。故障发生后，我还做了一个“adb shell logcat”来检查设备的系统日志，我没有看到任何堆栈跟踪；但我不确定该日志可以追溯到多远。

有谁知道为什么一个应用程序可能会神秘地消失？或者，是否有推荐的方法来调试此问题？由于它每隔几周才会发生一次，因此很难重现故障。特别是，有没有比“adb shell logcat”更好的方法来查看过去几天或几周内可能发生的任何崩溃？

# jsf-2 - 未在托管 Bean 中获取文本框值

> ID：10594733
> 
> 赞同：0
> 
> 时间：2012-05-15T05:39:51.550
> 
> 标签：jsf-2, myfaces

我无法获取我在 ManagedBean 的 xhtml 页面上输入的用户名和密码值。

这就是为什么我在检查用户名和密码时在 goodBye 方法中得到 NullPointerException

**登录.xhtml**

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui" xmlns:lang="en">
<f:view>
    <head>
<title>Test Client Login</title>
    </head>
    <h:form id="loginForm">
        <table align="center" border="1" style="padding-top: 100px">
            <tr>
                <td><h:outputLabel for="username2">
                        <h:outputText id="usernameLabel" value="Enter Username:" />
                    </h:outputLabel>
                </td>
                <td><h:inputText id="username" value="#{loginBean.username}"
                        required="true">
                        <f:validateLongRange minimum="1" maximum="500" />
                    </h:inputText>
                </td>
            </tr>
            <tr>
            <td>
                <h:outputLabel for="password2">
                    <h:outputText id="passwordLabel" value="Enter Password:" />
                </h:outputLabel></td>
                <td><h:inputText id="password" value="#{loginBean.password}"
                    required="true">
                    <f:validateLongRange minimum="1" maximum="500" />
                </h:inputText></td>
            </tr>
            <tr>
            <td colspan="2">
                <h:commandButton id="goodbyeCommand" type="submit" value="submit"
                    action="#{loginBean.goodbye}" immediate="true" />
            </td>
            </tr>
        </table>
    </h:form>
</f:view>

</html> 
```

**登录Bean.java**

```
package com.example.ws.ui;

import org.apache.log4j.Logger;

/**
 * Managed Bean for Login
 * 
 */
public class LoginBean { 

    private static final Logger logger = Logger.getLogger(LoginBean.class); 

    //EbzWS userManager;

    private String username;
    private String password;  
    public String getUsername() {
        return username;
    }
    public void setUsername(String username) {
        this.username = username;
    }
    public String getPassword() {
        return password;
    }
    public void setPassword(String password) {
        this.password = password;
    }
    public String goodbye() {
    /*  try {

            userManager.getEbzById("asdad", "asdad");
            logger.info("method called");
        } catch (ServiceException e) {
            System.out.println(e);
        }*/
        String dest = "failure";
        if(username.equals("sunny") && password.equals("sunny")){
            dest = "success";
        }
        return dest;
    }
    /*public EbzWS getUserManager() {
        return userManager;
    }
    public void setUserManager(EbzWS userManager) {
        this.userManager = userManager;
    }*/

} 
```

**面孔-config.xml**

```
<?xml version="1.0"?>
<faces-config xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee 
      http://java.sun.com/xml/ns/javaee/web-facesconfig_1_2.xsd"
    version="1.2">
    <managed-bean>
        <description>Login Bean</description>
        <managed-bean-name>loginBean</managed-bean-name>
        <managed-bean-class>com.example.ws.ui.LoginBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>
    <managed-bean>
        <description>EBZ Bean</description>
        <managed-bean-name>getEbzByIdBean</managed-bean-name>
        <managed-bean-class>com.example.ws.ui.GetEbzByIdBean</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
    </managed-bean>
    <managed-bean>
        <description>WsListing Bean</description>
        <managed-bean-name>wsListingBean</managed-bean-name>
        <managed-bean-class>com.example.ws.ui.WsListingBean</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
    </managed-bean>
    <navigation-rule>
        <description>Navigation from the hello page.</description>
        <from-view-id>/login.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>success</from-outcome>
            <to-view-id>/wsListing.xhtml</to-view-id>
            <redirect />
        </navigation-case>
        <navigation-case>
            <from-outcome>failure</from-outcome>
            <to-view-id>/failure.xhtml</to-view-id>
            <redirect />
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <description>Navigation from the hello page.</description>
        <from-view-id>/wsListing.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>ebzService</from-outcome>
            <to-view-id>/ebzinput.xhtml</to-view-id>
            <redirect />
        </navigation-case>
        <navigation-case>
            <from-outcome>filterEbz</from-outcome>
            <to-view-id>/filterebzinput.xhtml</to-view-id>
            <redirect />
        </navigation-case>
    </navigation-rule>

    <navigation-rule>
        <description>Navigation from the hello page.</description>
        <from-view-id>/ebzinput.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>success</from-outcome>
            <to-view-id>/ebzoutput.xhtml</to-view-id>
            <redirect />
        </navigation-case>
    </navigation-rule>
    <application>
        <variable-resolver>org.springframework.web.jsf.DelegatingVariableResolver</variable-resolver>
        <locale-config>
            <default-locale>en</default-locale>
            <supported-locale>en</supported-locale>
            <supported-locale>es</supported-locale>
        </locale-config>
        <message-bundle>messages</message-bundle>
    </application>
</faces-config> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T06:05:33.337

命令按钮上的`immediate="true"`使 JSF 跳过所有生命周期阶段，直到 INVOKE APPLICATION。所以你的价值观没有设定。删除此属性，它应该可以按预期工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T06:32:31.107

您的托管 bean 应采用以下方式

```
<managed-bean>
    <managed-bean-name>loginBean</managed-bean-name>
    <managed-bean-class>com.example.ws.ui.LoginBean</managed-bean-class>
    <managed-bean-scope>view</managed-bean-scope>       
</managed-bean> 
```

也在您的 xhtml 页面中：

```
<td><h:outputLabel for="username">     
 <h:outputText id="usernameLabel" value="Enter Username:" />                           </h:outputLabel>                       </td> 
```

作为 id`><h:inputText id="username" value="#{loginBean.username}" required="true">`是“用户名”

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-08-11T17:45:00.863

在 validateLongRange 验证器中发现的问题。您输入了一个字符串，并且必须使用 validateLength。validateLongRange 用于双精度值

希望这个答案是写

# javascript - Google Map Bug：当您将鼠标悬停在缩放面板、平移面板、图像面板等上时，将触发 map mouseout 事件。有什么解决方法吗？

> ID：10594737
> 
> 赞同：0
> 
> 时间：2012-05-15T05:40:20.373
> 
> 标签：javascript, jquery, google-maps, google-maps-api-3

当您将鼠标悬停在缩放面板、平移面板等上时，Google Map API v3 会触发 mouseout 事件。我认为这些是地图的一部分。因此，悬停在那里不应触发 mouseout 事件。在这里你可以看到这个在行动，

[http://jsfiddle.net/5Zq3T/1/](http://jsfiddle.net/5Zq3T/1/)

任何纯 javascript 或 jquery 的解决方法将不胜感激？[在这里](http://code.google.com/p/gmaps-api-issues/issues/detail?id=4146&thanks=4146&ts=1337060244)提交的错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T10:27:53.017

改用 mouseleave：

```
$(map.getDiv()).mouseleave(function(){alert('Mouse Out')}); 
```

[http://jsfiddle.net/5Zq3T/2/](http://jsfiddle.net/5Zq3T/2/)

# clojure - 步行/步行后使用

> ID：10594738
> 
> 赞同：4
> 
> 时间：2012-05-15T05:40:23.120
> 
> 标签：clojure

我正在阅读[这篇关于 Clojure 中树访问者的文章，](http://www.ibm.com/developerworks/java/library/j-treevisit/index.html?ca=drs-)并遇到了以下示例：

```
(def data [[1 :foo] [2 [3 [4 "abc"]] 5]])

(walk/postwalk #(do (println "visiting:" %) %) data) 
```

postwalk的外在形式是做什么的？我无法理解它的用途。如何以及为什么使用 postwalk？任何解释将不胜感激。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-15T08:52:34.110

我不确定您是在问 #() 是什么意思，还是 do(form1 form2) 的目的是什么，所以我都会回答这两个问题。

`#()`是声明匿名函数的简写。当您将某个函数传递给另一个函数时，匿名函数很有用。

为了说明，请看 repl 中的这个

```
; define an anonymous function
user=> #(+ %1 %2)
#<user$eval68$fn__69 user$eval68$fn__69@9fe84e>

; is equivalent to 
user => (fn [a b] (+ a b))
#<user$eval1951$fn__1952 user$eval1951$fn__1952@118bd3c>

; furthermore, you could then assign your anonymous function to a var
(def f #(+ %1 %2))

; is equivalent to 
(defn f [a b] (+ a b))

user=> (#(+ %1 %2) 1 2)
3

user=> (f 1 2)
3 
```

The`%n`指的是函数的位置参数的参数，其中`n`表示`nth`参数，从 1 开始作为进一步的简写，您可以使用 % 来引用第一个参数，该参数适用于单 arg 匿名函数。这就是您在示例中所拥有的。

所以你的例子相当于

```
(def data [[1 :foo] [2 [3 [4 "abc"]] 5]])

(defn f [x] (do (println "visiting:" x) x))

(walk/postwalk f data) 
```

这`do`是一种特殊的形式，来自文档：

> (do exprs*) 按顺序计算表达式并返回最后一个的值。如果没有提供表达式，则返回 nil。

事实上`defn`已经有一个隐含的do，所以我上面的例子实际上并不需要do ...

```
; your example is equivalent to:

(def data [[1 :foo] [2 [3 [4 "abc"]] 5]])

(defn f [x] (println "visiting:" x) x)

(walk/postwalk f data) 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-06-02T01:59:12.490

我今天有同样的问题，找到了这个 necrotopik。也许越晚越好。[在clojure api 参考](http://richhickey.github.io/clojure/clojure.walk-api.html)上找到这个：

> postwalk 函数用法：（postwalk f 形式）执行深度优先、后序遍历形式。在每个子表单上调用 f，使用 f 的返回值代替原始值。识别除 sorted-map-by 之外的所有 Clojure 数据结构。与 doall 一样使用 seq。

[来自 clojuredocs 的](http://clojuredocs.org/clojure_core/clojure.walk/postwalk)这个例子也让事情变得更清楚：

```
(use 'clojure.walk)
(let [counter (atom -1)]
(postwalk (fn [x]
            [(swap! counter inc) x])
              {:a 1 :b 2}))

  => [6 {2 [[0 :a] [1 1]], 5 [[3 :b] [4 2]]}] 
```

因此， postwalk 用函数的结果替换每个子表单。它用于使用新值更新嵌套结构。这就是结果函数最后包含 x 或 % 的原因。向结果添加输入会导致更多的嵌套结构。

在上面的示例中，它被视为穿过嵌套地图结构的深处。它首先在地图的最深元素上前进，然后上升到更高的级别，然后潜伏到下一个形式，然后再次上升并完成整个形式的最后一步。

# facebook - Open Graph 数字聚合不显示浮点数的小数位

> ID：10594742
> 
> 赞同：4
> 
> 时间：2012-05-15T05:40:52.043
> 
> 标签：facebook, social-networking, facebook-opengraph

我正在尝试使用数字布局为我的打开图形操作创建聚合。它需要有两位小数。我的对象“位置”具有浮点类型的属性“rtw”。

在我拥有的数字字段的创建聚合屏幕中，`{location.rtw | currency}`根据本文档将浮点数格式化为小数点后 2 位：[https ://developers.facebook.com/docs/opengraph/template/](https://developers.facebook.com/docs/opengraph/template/)

然而，它似乎将它舍入而不是显示小数位，所以我的 1.54 浮点数变为 2。

我在这里做错了吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-18T01:33:12.967

Open Graph 为聚合提供了多种布局样式：

![在此处输入图像描述](../Images/6f53b4391dcf6ecd3d55d1573b3fc1ad.png)

名为“数字”的开放式图形布局样式 - 您选择的布局 - 始终在其标题中将聚合显示为整数。这是默认设置，无法更改。这似乎是 Facebook 基于美学的选择。

标题聚合可以是总和、最小值或最大值，但即使单个值是浮点类型，聚合也将是整数类型。

请参阅此屏幕截图示例，取自Facebook Developer 上[定义聚合页面的布局样式部分。](https://developers.facebook.com/docs/opengraph/define-units/)可以作为聚合的一部分显示的子项显示浮点值，但标题数字显示一个整数：

![在此处输入图像描述](../Images/4a9b579114ee40d361e11281b98c2079.png)

在这里，总距离 82.42 (45.06 + 25.56 + 11.8) 被转换为标题总和中的整数 82，尽管每个单独的距离都是一个浮点数。

Net，如果开发人员选择数字布局样式，他必须确保聚合以整数形式有意义。

可以选择将标题行添加到可以包含浮点数的聚合中，例如“在 10 小时内跑了 82.42 英里”。

您使用应用发布的各个帖子可以在其标题中显示浮动。例如“仅在 3 小时内跑了 25.56 英里”。

如果在标题中显示浮点数对您很重要，您可以探索其他 Open Graph Aggregation 布局样式。例如，地图布局应该支持在其标题中显示浮点数（此处显示最大值）：

![在此处输入图像描述](../Images/593d75582760362974e0f576a31894e1.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T06:44:16.607

如果属性名称是**rtw**你应该只写：

```
{rtw|currency} 
```

不过，如果有更多的数字格式，那就太好了。几周前浮动的默认显示也发生了变化。它曾经自动舍入，但现在显示 2 位小数。
我的电影评分应用程序曾经显示**3/5 星**或**2.5/5 星**，但现在显示**3.00/5 星**或**2.50/5 星**。

# c# - LinqToXml：解析到字典

> ID：10594743
> 
> 赞同：0
> 
> 时间：2012-05-15T05:41:03.860
> 
> 标签：c#, linq

我有以下xml：

```
<Places Count='50'>
<Place ID='1' Row='1' Place='1' Type='1' Fragment='0'></Place>
<Place ID='2' Row='1' Place='2' Type='1' Fragment='0'></Place>
<Place ID='3' Row='1' Place='3' Type='2' Fragment='0'></Place>
<Place ID='4' Row='1' Place='4' Type='2' Fragment='0'></Place>
<Place ID='5' Row='1' Place='5' Type='2' Fragment='0'></Place>
//other tags
</Places> 
```

我想获得`Dictionary<int, int>`以下内容：

```
1,2  // 0 element in the Dictionary (type =1; count = 2)
2,3; // 1 element in the Dictionary (type =2; count = 3) 
```

第一个参数是`Type`xml，第二个参数是这个类型的count。

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-15T05:50:14.417

LINQ to XML 与 LINQ to Objects 相结合使这变得非常简单：

```
var dictionary = doc.Descendants("Place")
                    .GroupBy(x => (int) x.Attribute("Type"))
                    .ToDictionary(g => g.Key, g => g.Count()); 
```

它的效率并不高，但我会坚持使用这种实现，直到我发现它成为一个问题。

请注意，在字典中谈论“0 元素”是一种误导——字典没有可靠的顺序：你不应该假设如果你遍历键/值对，你会以任何特定的顺序看到它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T05:59:07.613

查询语法

```
 var dict = (from place in root.Descendants("Place")
       group place by (int)place.Attribute("Type") into g
        select g).ToDictionary(g=>g.Key, g=>g.Count()); 
```

# c# - 正则表达式 C# 中的空字符串

> ID：10594745
> 
> 赞同：4
> 
> 时间：2012-05-15T05:41:43.217
> 
> 标签：c#, regex

我有以下正则表达式模式：`"[A-TVWZ]"`. 我需要它也接受 Empty strings `""`，我怎样才能在我的模式中插入它？我的 DataGridView 需要它，因为当用户离开单元格而不写任何东西时，它会在验证时出错...

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-15T05:43:11.527

也许这太简单了；我会检查*没有*正则表达式的空字符串。

例如：

```
if ( string.IsNullOrEmpty( myString ) || Regex.IsMatch( "[A-TVWZ]", myString )
{
    ....
} 
```

看：

*   [`String.IsNullOrEmpty`方法](http://msdn.microsoft.com/en-us/library/system.string.isnullorempty.aspx)。
*   [`Regex.IsMatch`方法](http://msdn.microsoft.com/en-us/library/sdx2bds0.aspx)。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-15T05:46:15.960

试试这个`"[A-TVWZ]?"`或`"^[A-TVWZ]?$"`

问号 ( `?`) 将确保模式匹配零次或 1 次。因此，零次表示空字符串。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-05-15T06:14:51.503

这样做的纯正则表达式方式是

```
[A-TVWZ]|^$ 
```

这将匹配上述字母之一或空字符串。您的评论表明用户无论如何只能输入一个字符，因此另一种选择是

```
^[A-TVWZ]?$ 
```

这类似于 Waqas 的回答。*但是*，这个不会因为锚点而引入其他可能匹配的字符串。

# wpf - WPF 绑定到外部样式

> ID：10594746
> 
> 赞同：0
> 
> 时间：2012-05-15T05:41:49.937
> 
> 标签：wpf, styles

我找到了一个名为 VIBlend [http://viblend.com/products/net/wpf/controls/free-wpf-controls.aspx](http://viblend.com/products/net/wpf/controls/free-wpf-controls.aspx)的框架。我已经下载了它，并且有一个包含样式的 dll 文件。它包含一个包含样式的 dll。其中一种样式包含在名为 ListBox.xaml 的文件中（在 dll 中编译）。

它包含一些样式。其中一个是这样声明的：

现在我想知道如何使用这种风格。如果创建了对该 dll 的引用，但现在呢？我试过这个，但它不起作用......

```
<UserControl.Resources>
<ResourceDictionary x:Key="listBoxStyle" Source="Office2010SilverListBoxStyle"/>
</UserControl.Resources>
<ListBox x:Name="listBox" Style="{StaticResource listBoxStyle}"> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T06:57:28.070

尝试这个：

```
<Application.Resources>
    <ResourceDictionary
        Source="/PutDllNameHere;component/ListBox.xaml" />
</Application.Resources> 
```

# yii - YII中的关系问题

> ID：10594748
> 
> 赞同：2
> 
> 时间：2012-05-15T05:42:27.830
> 
> 标签：yii

我在代理模型中有一个 GetStudents 函数。我在那里获取与代理有关的学生。

但我想从另一个表中显示更多的学生领域，例如

```
**Agent table**  (agent has students)
agent_id

**student table**
STUDENTID  pkey
agent_id

**relation table** (this table creates relation between student and household)
StudentID  HOUSEHOLDID

**HOUSEHOLD TABLE** 
HouseHOLDID   Householdname 
```

当我获取所有学生详细信息时，我想获取户名。

因为我是 YII 的新手，所以对我来说真的很有趣

我在代理模型中的功能。

```
public static function getStudents($id) {
        $relationships = Relationship::model()->findAll('type = :type AND source = :agent_id', array(':type' => 2, ':agent_id' => $id));
        //$relationships=sort($relationships);
        // Generate relationship array

        //print_r($relationships);
        foreach ($relationships as $relationship) {
            $in[] = $relationship->destination;
        }

        // Generate db condition
        $criteria = new CDbCriteria;
        if (! isset($in) || ! is_array($in) || sizeOf($in) == 0) {
            $in[] = -999;
        }
        $criteria->addInCondition('StudentID', $in, 'OR');

        return new CActiveDataProvider('Student', array(
            'criteria' => $criteria,
            'sort'=>array('defaultOrder'=>array(
    'StudentID'=>CSort::SORT_DESC,
)),
        ));
    } 
```

我的代码通过将 ID 传递给它来获取数据

```
<?php $this->widget('zii.widgets.CDetailView', array(
    'data' => $model,
    'attributes' => array(
array(
    'label' => 'Agent Details',
    'type' => 'raw',
    'value' => '',
    'cssClass' => 'heading',
),
'agent_id',
'user.email',
'first_name',
'last_name',
'company',
'phone',
    ),
)); ?> 
```

任何帮助将不胜感激。

谢谢抗体

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T06:01:27.913

首先，您应该像这样与学生建立关系到`relations`数组中的关系表`relation model`..

```
'student'=>array(self::BELONGS_TO, 'Student', 'StudentID'), //after belongs to student is model class name

'household'=>array(self::BELONGS_TO, 'HOUSEHOLD', 'HOUSEHOLDID'),//after belongs to HOUSEHOLD is model class name 
```

然后你可以像这样获取所有具有活动记录的记录......

```
 $relationships = Relationship::model()->with('student','household')->findAll('type = :type AND source = :agent_id', array(':type' => 2, ':agent_id' => $id)); 
```

# node.js - Node.js 拦截 process.exit

> ID：10594751
> 
> 赞同：10
> 
> 时间：2012-05-15T05:43:01.850
> 
> 标签：node.js, process, exec, exit

所以我想在我的 node.js 程序结束时运行一个 shell 命令，并在退出之前等待输出/打印它。我尝试`process.on('exit',function(){})`在那里运行 child exec 命令，但程序在回调之前退出。因此，我在 process.exit 上使用了一个闭包，但我得到了一些奇怪的结果。代码的基础是：

```
 process.exit = (function(old_exit){
   return function(code){
     var exec = require('child_process').exec;
     var child;
     child = exec("my shell command", function (error, stdout, stderr) {
       if (error !== null) {
         console.log('exec error: ' + error);
       }
       console.log(stdout);
       //I first had this as the concluding line:
       old_exit.apply(process,arguments);
       //and I also tried
       old_exit.apply(process,[]);
       //and even (which I know is not in the right scope)
       old_exit(code);
       //and also
       process.exit = old_exit;
       process.exit(code);
     });
   }
 }(process.exit)); 
```

上述每一个结果都执行了我的 shell 命令两次，然后退出。我也尝试在最后不调用任何东西，虽然它保留它以便我的命令只执行一次，但进程挂起而不是最后退出。除非我只是缺少某些东西，否则我觉得我的第一次尝试`old_exit.apply(process,arguments);`将是正确的方法，不应该再次调用我自己的代码，它确实如此。我还尝试了无效的使用过的承诺（它甚至没有因为被多次解决而引发错误），并且我尝试使用布尔值来判断它是否已设置，但这也不起作用。我最后什至尝试在回调完成后抛出一个错误，但这迫使 process.exit 在错误后再次被调用。有任何想法吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-15T14:00:27.310

到 process.exit 时间，你做任何异步的事情都来不及了。我认为您无法绕过异步部分，因为您显然需要执行 shell 命令。您可以侦听各种退出信号，执行异步操作，然后在准备好时自己调用 process.exit。请注意，在进程存在之前，您将收到所有信号，因此您需要跟踪状态以确保您的 shell 命令只运行一次。以下将适用于 ctrl-c 信号：

```
process.on('SIGINT', function() {
    console.log('Received Signal');
    setTimeout(function() {
        console.log('Exit');
        process.exit(1);
    }, 10000);
}); 
```

# java - 字符串匹配中的计算前缀函数

> ID：10594757
> 
> 赞同：1
> 
> 时间：2012-05-15T05:43:18.370
> 
> 标签：java, string, prefix

我在这里做错了什么？

用于计算前缀函数的 Java 代码。两个输入是正确的，但最后一个是错误的。

这是伪代码：

![伪代码](../Images/03d3fd70771e4c168d296fda24fdce4f.png)

Java代码：

```
class Main {
// compute prefix function
    public static void main(String[] args) {
        String p = "422213422153342";
        String x = "ababbabbabbababbabb";
        String y = "ababaca";

        printOutput(p);

        printOutput(y);

        System.out.println();System.out.println();
        System.out.println("the prefix func below is wrong. I am not sure why.");
        System.out.print("answer should be: 0 0 1 2 0 1 2 0 1 2 0 1 2 3 4 5 6 7 8");

        printOutput(x);
    }

    static void printOutput(String P){
        System.out.println();System.out.println();
        System.out.print("p[i]: ");
        for(int i = 0; i < P.length(); i++)System.out.print(P.charAt(i) + " ");
        System.out.println();
        System.out.print("Pi[i]: ");
        compute_prefix_func(P);
    }
    public static void compute_prefix_func(String P){
        int m = P.length();
        int pi[] = new int[m];

        for(int i = 0; i < pi.length; i++){
            pi[i] = 0;
        }

        pi[0] = 0;

        int k = 0;

        for(int q = 2; q < m; q++){
            while(k > 0 && ( ((P.charAt(k) + "").equals(P.charAt(q) + "")) == false)){
                k = pi[k];
            }
            if ((P.charAt(k) + "").equals(P.charAt(q) + "")){
                k = k + 1;
            }
            pi[q] = k;
        }

        for(int i = 0; i < pi.length; i++){
        System.out.print(pi[i] + " ");
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-15T06:17:17.840

好的，让我们从使代码*更*易于阅读开始。这：

```
if ((P.charAt(k) + "").equals(P.charAt(q) + "")) 
```

可以简化为：

```
if (P.charAt(k) == P.charAt(q)) 
```

...而且您已经在多个地方做到了这一点。

同样在这里：

```
int pi[] = new int[m];

for(int i = 0; i < pi.length; i++){
    pi[i] = 0;
}

pi[0] = 0; 
```

...您不需要显式初始化。默认情况下，变量初始化为 0。（目前还不清楚为什么要再次设置`pi[0]` *，*尽管我注意到如果`P.length()`为 0，这将引发异常。）

接下来是删除与 的显式比较`false`，而不是仅使用`!`我们有：

```
while(k > 0 && P.charAt(k) != P.charAt(q)) 
```

最后，让我们稍微重构一下代码，使其更易于理解，使用更传统的名称，并改用`int pi[]`更惯用的名称`int[] pi`：

```
class Main {
    public static void main(String[] args) {
        String x = "ababbabbabbababbabb";

        int[] prefix = computePrefix(x);

        System.out.println("Prefix series for " + x);
        for (int p : prefix) {
            System.out.print(p + " ");
        }
        System.out.println();
    }

    public static int[] computePrefix(String input) {
        int[] pi = new int[input.length()];

        int k = 0;
        for(int q = 2; q < input.length(); q++) {            
            while (k > 0 && input.charAt(k) != input.charAt(q)) {
                k = pi[k];
            }
            if (input.charAt(k) == input.charAt(q)) {
                k = k + 1;
            }
            pi[q] = k;
        }
        return pi;
    }
} 
```

现在更容易理解了，IMO。

我们现在可以回顾一下伪代码，发现它似乎对数组和字符串都使用了从 1 开始的索引。这让生活有点棘手。我们*可以*在整个代码中模仿这一点，将*每个*数组访问和`charAt`调用更改为仅减 1。

（我已经将公共子表达式提取到循环内的`P[q]`一个变量中。）`target`

```
public static int[] computePrefix(String input) {
    int[] pi = new int[input.length()];
    int k = 0;
    for (int q = 2; q <= input.length(); q++) {
        char target = input.charAt(q - 1);
        while (k > 0 && input.charAt(k + 1 - 1) != target) {
            k = pi[k - 1];
        }
        if (input.charAt(k + 1 - 1) == target) {
            k++;
        }
        pi[q - 1] = k;
    }
    return pi;
} 
```

这现在给出了你想要的结果，但它真的很难看。我们可以`q`很容易地移动，并移除`+ 1 - 1`部件：

```
public static int[] computePrefix(String input) {
    int[] pi = new int[input.length()];
    int k = 0;
    for (int q = 1; q < input.length(); q++) {
        char target = input.charAt(q);
        while (k > 0 && input.charAt(k) != target) {
            k = pi[k - 1];
        }
        if (input.charAt(k) == target) {
            k++;
        }
        pi[q] = k;
    }
    return pi;
} 
```

它仍然不完全令人愉快，但我认为这是你想要的。确保你明白*为什么*我必须做出我所做的改变。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-11-05T03:18:45.947

```
public static int[] computePrefix(String input) {
    int[] pi = new int[input.length()];
    pi[0] = -1;
    int k = -1;
    for (int q = 1; q < input.length(); q++) {
        char target = input.charAt(q);
        while (k > 0 && input.charAt(k + 1) != target) {
            k = pi[k];
        }
        if (input.charAt(k + 1) == target) {
            k++;
        }
        pi[q] = k;
    }
    return pi;
} 
```

# android - Android应用程序中的活动未启动错误

> ID：10594759
> 
> 赞同：1
> 
> 时间：2012-05-15T05:43:24.547
> 
> 标签：android, android-activity

我正在创建一个抛出错误的应用程序，活动未启动。我的活动课是：

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.videos_layout);
    i = new FirstImage(this);
    c = (ViewFlipper) findViewById(R.id.viewFlipper3);
    back = (Button) findViewById(R.id.button1);
    next = (Button) findViewById(R.id.button2);
    t = (TextView) findViewById(R.id.textView1);
    if(count == 0)
        i.changeImage(R.drawable.human); 
    c.addView(i);
    c.setOnTouchListener(this);
    c.onTouchEvent(event);
    addListenerOnButton();
    }

    private void addListenerOnButton() {
        if (count == 0)
            back.setEnabled(false);
        next.setOnClickListener( new OnClickListener() {

            public void onClick(View arg0) {
                if(count==0){
                i.changeImage(R.drawable.hand);
                back.setEnabled(true);
                count++;

                addListenerOnButton();

                }
                else if (count==1){
                    i.changeImage(R.drawable.tissue);
                    count++;

                    addListenerOnButton();

                }

                else if (count==2){
                    image.setImageResource(R.drawable.cellconstfinal1);
                    count++;

                    addListenerOnButton();

                }
                else if (count==3){
                    //nucleus
                    image.setImageResource(R.drawable.cellconstfinal1);
                    count++;

                    addListenerOnButton();

                }
                else if (count==4){
                    //nchromosome
                    image.setImageResource(R.drawable.hand);
                    count++;

                    addListenerOnButton();

                }
                else
                {   //double helix
                    count++;
                    image.setImageResource(R.drawable.handash1);
                    next.setEnabled(false);

                    addListenerOnButton();

                }

            }
        });

        back.setOnClickListener(new OnClickListener() {

            public void onClick(View arg0) {
                if(count==1){
                    image.setImageResource(R.drawable.human);
                    back.setEnabled(false);
                    count--;

                    addListenerOnButton();

                    }
                    else if (count==2){
                        image.setImageResource(R.drawable.hand);
                        count--;

                        addListenerOnButton();

                    }

                    else if (count==3){
                        image.setImageResource(R.drawable.tissue);
                        count--;

                        addListenerOnButton();

                    }
                    else if (count==4){
                        image.setImageResource(R.drawable.cellconstfinal1);
                        count--;

                        addListenerOnButton();

                    }
                    else if (count==5){
                        //nucleus
                        image.setImageResource(R.drawable.tissue);
                        count--;

                        addListenerOnButton();

                    }
                    else {
                        //chromosome
                        //count==6
                        image.setImageResource(R.drawable.cellconstfinal1);
                        count--;

                        addListenerOnButton();
                        next.setEnabled(true);

                    }
                }
            });
    }

public void pageinfo(float a,float b){

        t.setText(Float.toString(a)+"x"+Float.toString(b)+"y");

    }

public boolean onTouch(View v, MotionEvent me) {
    // TODO Auto-generated method stub
    switch(me.getAction()){
    case MotionEvent.ACTION_DOWN:
        a=me.getX();
        b= me.getY();
        pageinfo(a,b);
        break;
    case MotionEvent.ACTION_MOVE:
        a=me.getX();
        b= me.getY();
        pageinfo(a,b);
        break;
    case MotionEvent.ACTION_UP:
        a=me.getX();
        b= me.getY();
        pageinfo(a,b);
        break;
    case MotionEvent.ACTION_OUTSIDE:
        a=me.getX();
        b= me.getY();
        pageinfo(a,b);
        break;
    default: return false;
    }
    return true;

}
} 
```

我的`FirstImage`班级代码：

```
public class FirstImage extends ImageView {

    float a=0; 
    float b=0;
    TextView t;
    ImageView i;

    public FirstImage(Context context) { 
        super(context); 
        t= (TextView) findViewById(R.id.textView1); 
        i= new ImageView (context); 
    } 

    public FirstImage(Context context, AttributeSet attrs) { 
        super(context, attrs);
   } 

    protected void changeImage(int id){ 
        i.setImageResource(id); 
    } 
```

堆栈跟踪异常：

```
 05-11 00:21:41.197: E/AndroidRuntime(1142): FATAL EXCEPTION: main
05-11 00:21:41.197: E/AndroidRuntime(1142): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.androidtablayout/com.example.androidtablayout.VideosActivity}: java.lang.NullPointerException
05-11 00:21:41.197: E/AndroidRuntime(1142):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at android.app.ActivityThread.startActivityNow(ActivityThread.java:2503)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at android.app.LocalActivityManager.moveToState(LocalActivityManager.java:127)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at android.app.LocalActivityManager.startActivity(LocalActivityManager.java:339)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at android.widget.TabHost$IntentContentStrategy.getContentView(TabHost.java:651)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at android.widget.TabHost.setCurrentTab(TabHost.java:323)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at android.widget.TabHost$2.onTabSelectionChanged(TabHost.java:129)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at android.widget.TabWidget$TabClickListener.onClick(TabWidget.java:453)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at android.view.View.performClick(View.java:2408)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at android.view.View$PerformClick.run(View.java:8816)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at android.os.Handler.handleCallback(Handler.java:587)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at android.os.Handler.dispatchMessage(Handler.java:92)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at android.os.Looper.loop(Looper.java:123)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at android.app.ActivityThread.main(ActivityThread.java:4627)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at java.lang.reflect.Method.invokeNative(Native Method)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at java.lang.reflect.Method.invoke(Method.java:521)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at dalvik.system.NativeStart.main(Native Method)
05-11 00:21:41.197: E/AndroidRuntime(1142): Caused by: java.lang.NullPointerException
05-11 00:21:41.197: E/AndroidRuntime(1142):     at com.example.androidtablayout.VideosActivity.onCreate(VideosActivity.java:45)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
05-11 00:21:41.197: E/AndroidRuntime(1142):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
05-11 00:21:41.197: E/AndroidRuntime(1142):     ... 18 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T05:45:43.737

它在 FirstImage 类第 22 行给出 nullpointer 异常。只是因为未启动活动。首先解决 nullpointer 异常

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T05:49:48.427

您应该始终在方法中初始化视图`onCreate`：

```
//...
FirstImage i;
//...

    @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
             setContentView(R.layout.videos_layout);
             i = new FirstImage(this);
    //... 
```

同样在`FirstImage`类中初始化`Views`构造函数中的那些：

```
public FirstImage(Context context) {
    super(context);
   TextView t= (TextView) findViewById(R.id.textView1); // WHERE do you expect to find this view, in which layout?
   ImageView i= new ImageView (context); //NEVER pass a null Context
} 
```

编辑：

我的建议是遵循一些自定义教程`Views`。你不能将其他添加`Views`到`ImageView`子类中（你不应该）。即使您`ImageView`在`FirstImage`该`changeImage`方法中构建，也会抛出`NullPointerException`您的代码当前构建的方式。

一个简单的自定义视图：

```
 public class FirstImage extends LinearLayout {
    float a=0; 
    float b=0;

    TextView t;
    ImageView i;

    public FirstImage(Context context) { 
        super(context); 
        t = (TextView) findViewById(R.id.textView1); // What is with this TextView?!?
        i = new ImageView (context); 
        LinearLayout.LayoutParams lp = LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT);
        addView(i, lp);   
    } 

protected void changeImage(int id){ 
    i.setImageResource(id); 
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-15T06:03:29.247

首先你应该像这样膨胀你的布局：

```
TextView t;
ImageView i;
LayoutInflater inflater; 
public FirstImage(Context context) {
super(context);
inflater = LayoutInflater.from(context);
View v=inflater.inflate(R.layout.yourlayout, null);
t= (TextView)v.findViewById(R.id.textView1);
i= new ImageView (context);

 } 
```

# django-models - 没有 ForeignKey 异常 Django

> ID：10594762
> 
> 赞同：0
> 
> 时间：2012-05-15T05:43:36.320
> 
> 标签：django-models, django-admin, django-admin-filters

我们有这个模型，它对用户有一个外键：

```
class Medic(models.Model):
    user = models.ForeignKey(User)
    first_name = models.CharField(max_length=100, blank=True)
    middle_name = models.CharField(max_length=100, blank=True)
    last_name = models.CharField(max_length=100, blank=True) 
```

在 admin.py 中，我们尝试将 Medic 页面上显示的已注册用户过滤为仅属于名为“staff”的组的用户：

```
from django.contrib import admin
from django.contrib.auth.models import User
from profiles.models import Medic

class StaffMed(admin.StackedInline):
    model = User
    def queryset(self, request):
        qs = super(StaffMed, self).queryset(request).filter(group__name='staff')
        return qs

class MedicAdmin(admin.ModelAdmin):
    inlines = [StaffMed]
    #model = Medic

admin.site.register(Medic, MedicAdmin) 
```

然后我们得到这个异常：

```
class 'django.contrib.auth.models.User' has no foreignKey to class 'staff.models.Medic' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T01:19:37.740

您必须指定具有外键的模型：

```
class StaffMed(admin.StackedInline):
    model = MedicAdmin 
```

然后你需要像这样过滤：

```
 def queryset(self, request):
         qs = super(StaffMed, self).queryset(request).filter(user.group__name='staff')
         return qs 
```

# java - Java 异常处理框架

> ID：10594764
> 
> 赞同：0
> 
> 时间：2012-05-15T05:43:44.960
> 
> 标签：java, jakarta-ee, exception-handling

我想为我的应用程序创建一个异常处理框架，以便我可以处理整个应用程序中的错误和异常，形成一个公共/中心点。我正在使用 Java EE 应用程序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T06:02:02.993

请务必了解已检查异常和未检查异常之间的区别。不仅是技术差异，还有最佳实践。我建议阅读这样一篇文章： http: [//tutorials.jenkov.com/java-exception-handling/checked-or-unchecked-exceptions.html](http://tutorials.jenkov.com/java-exception-handling/checked-or-unchecked-exceptions.html)

从我个人中型项目的经验来看，我建议只使用未经检查的异常（其他人可能有其他意见）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T05:58:50.713

您可以通过扩展 java 中的 Exception 类来创建`custom/user defined`异常。如果这就是您的意思，[请查看这个简单的示例](http://www.javatutorialhub.com/java-user-defined-exception.html)。

您可以类似地从先前创建的异常中创建不同的用户定义异常，并根据需要创建框架。

[Java Exception 框架的设计如下所示。](http://www.google.co.in/imgres?um=1&hl=en&sa=N&biw=1280&bih=909&tbm=isch&tbnid=5L4T2NS6C98pAM%3a&imgrefurl=http://www.artima.com/javaseminars/modules/Exceptions/&docid=Y5FxSA8TFfoJMM&imgurl=http://www.artima.com/javaseminars/modules/Exceptions/images/BWThrowableFamily.gif&w=550&h=287&ei=g_CxT76MOrHKmAXR6-2pCQ&zoom=1)

# jquery - iframe 和 validate.js

> ID：10594766
> 
> 赞同：0
> 
> 时间：2012-05-15T05:43:49.283
> 
> 标签：jquery, jquery-validate

我的页面中有 iframe 用于将数据保存在数据库中。我`validate.js`用来验证 iframe 内的字段。如果我验证 iframe 外的字段意味着在同一页面中它的工作。如果我在 iframe 中做同样的事情它不起作用。我想知道`validate.js`在 iframe 中不起作用吗？
我尝试：

```
var v = $("#form1").validate({
                    ignore: ':hidden',
                    rules: {
                        txtTitle: { required: true },
                        txtPost: { required: true },
                        txtSummary: { required: true }
                    },
                    messages: {
                        txtTitle: "Please enter a Post Title",
                        txtPost: "Please enter a Post description",
                        txtSummary: "Please enter a Post Summary"
                    }
                }); 
```

在按钮单击中，我像这样使用。

```
 $("#btnPost").live("click", function() {
                    if (v.form()) {
                     alert("Success");
                    }
                    else {
                    alert("fail");
                        return false;
                    }
                }); 
```

`note:txtTitle,txtPost,txtSummary,btnPost all are iframe controls.`谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T06:09:01.167

您很可能在不同的域上使用 iFrame。jQuery 不会遍历 iFrame，因为它违反了浏览器的跨站点策略。如果是这种情况，您将无法触摸内部 DOM。

一个解决方案是绑定到 DOM 事件，但在不知道您的表单代码的情况下，我将无法为您的问题提供准确的解决方案。大概会是这样的：

```
$("#form1").contents().onclick = function() { // validate here }; 
```

# hadoop - 在 hadoop 中运行数独求解器示例

> ID：10594767
> 
> 赞同：0
> 
> 时间：2012-05-15T05:43:50.110
> 
> 标签：hadoop, mapreduce

我正在尝试运行随 hadoop 示例 jar 文件提供的数独求解器。我不确定应该给出输入的格式。有人可以指导吗？

谢谢， 塔潘

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T06:15:52.643

从[文档](http://hadoop.apache.org/common/docs/r0.20.1/api/org/apache/hadoop/examples/dancing/package-summary.html)中：

> 数独求解器非常快，我没有费心制作分布式版本。（我尝试过的所有谜题，包括 42x42 的谜题都需要大约一秒钟的时间来解决。）在命令行上，为求解器提供要解决的谜题文件列表。**拼图文件每行有一行，列用空格分隔。正方形有数字或“？” 表示未知。**

# javascript - 如何使用 javascript 增长树的 ul 和 ol 列表元素

> ID：10594770
> 
> 赞同：0
> 
> 时间：2012-05-15T05:44:02.940
> 
> 标签：javascript, dynamic, tree, html-lists

我必须制作一棵树，以便它允许通过单击它来动态生成列表。例如

```
o 1
o 2
o 3 
```

如果在这里，我点击 1 ，应该创建一个子节点可能是 11。再次点击 1 将创建可能是 22。

```
o 1
  o 11
  o 22
o 2
o 3 
```

这个过程将重复多少次我会点击元素。一种情况可能是这样的。

```
o 1
  o 11
     o 111
     o 222
     o 333
  o 22
  o 33
     o 111
     o 222
     o 333 
```

我完全不知道 jquery 框架，因为我从来没有研究过这种语法，我对 javascript 的了解也太少了。你能指导我朝这个方向发展吗，以便我可以融入这样的项目中。

我必须生成基于知识的帮助模块，其中包含几个文件夹列表，这些文件夹列表本身包含文件夹，每个文件夹都有要显示给代理的数据。

例如

```
folder1
      folder1.1
      folder1.2
      folder1.3
      folder1.4
               folder1.4.1
               folder1.4.2
               folder1.4.3
      folder1.5 
```

此结构将使用树数据结构显示，每个文件夹都包含数据。这个文件夹结构会增长/可以动态增长。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T10:13:27.337

不知道这对任何人有什么用，但这里有一个注释的分步版本：

```
function foo(e) {

  // Create a new LI
  var newLi = document.createElement('li');

  // Get the element that the click came from
  var el = e.target || e.srcElement;

  // Get it's parent LI if there is one
  var p = getParent(el);
  if (!p) return;

  // Get child ULs if there are any
  var ul = p.getElementsByTagName('ul')[0];

  // If there's a child UL, add the LI with updated text
  if (ul) {

    // Get the li children ** Original commented line was buggy 
//    var lis = ul.getElementsByTagName('li');
    var lis = ul.childNodes;

    // Get the text of the last li
    var text = getText(lis[lis.length - 1]);

    // Update the innerText of the new LI and add it
    setText(newLi, text.replace(/\.\d+$/,'.' + lis.length));
    ul.appendChild(newLi);

  // Otherwise, add a UL and LI  
  } else {
    // Create a UL
    ul = document.createElement('ul');

    // Add text to the new LI
    setText(newLi, getText(p) + '.0');

    // Append the new LI to the new UL
    ul.appendChild(newLi);

    // Add the UL
    p.appendChild(ul);

  }

  function getParent(el) {
    var tagName;

    while (el) {
      tagName = el.tagName.toLowerCase()
      if (tagName == 'li') {
        return el;
      } else if (tagName == 'ul') {
        return;
      }
      el = el.parentNode;
    }
  }

  function getText(el) {
    return el.textContent || el.innerText;
  }

  function setText(el, text) {
    if (typeof el.textContent == 'string') {
      el.textContent = text;
    } else if (typeof el.innerText == 'string') {
      el.innerText = text;
    } else {
      el.innerHTML = '';
      el.appendChild(document.createTextNode(text));
    }
  }
} 
```

一些 HTML 使其工作：

```
<ul onclick="foo(event)">
  <li>0</li>
  <li>1</li>
  <li>2</li>
</ul> 
```

在 Safari 5.1.5、Firefox 3.5.6、IE 6 中测试，所以应该可以在任何地方工作。

# java - 在 Swing 事件中启动线程

> ID：10594772
> 
> 赞同：1
> 
> 时间：2012-05-15T05:44:08.757
> 
> 标签：java, multithreading, swing, sockets, client-server

我正在开发用于学习经验的客户端/服务器聊天的客户端应用程序。我的问题是我似乎无法获得插座和摆动，两者同时运行。

我想要的是，当用户打开 JopionsPane 并输入主机名和端口号时，单击确定，然后它们已连接。当套接字信息被硬编码时，它工作得很好，但现在我正试图让用户输入它。

应该发生的是，动作侦听器应该创建处理通信的新 SocketManager 对象。事件虽然它说它已连接，但它没有运行。当我创建新的 SocketManager 对象并在新线程上运行它时，它会连接并恢复来自服务器的消息，但随后摆动冻结，我必须结束进程才能将其关闭。

我应该在新的工作线程上启动它吗？也许只是因为我累了，但我没有想法。

**编辑** 我更新了我的 ActLis.class 和 SocketManager.class，建议为我的 SocketManager 对象“网络”添加一个新线程。当我尝试使用“网络”时，尽管由于某种原因它返回 null。

***ActLiss.clss***

```
package com.client.core;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JComponent;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JTextField;

public class ActLis implements ActionListener {

private Main main = new Main();;
private JTextField ipadress = new JTextField(),
        portnumber = new JTextField(),
        actionField;

private String username;

final JComponent[] ipinp = new JComponent[]{new JLabel("Enter Hostname (IP Adress): "),
        ipadress,
        new JLabel("Enter Port number: "), portnumber};
private SocketManager network;
private Window win;

public ActLis(){

}

public ActLis(JTextField t, Window w){
    actionField = t;
    win = w;

}

@Override
public void actionPerformed(ActionEvent e) {
String cmd = e.getActionCommand();

if(cmd == "Exit"){
    System.exit(0);
} else if(cmd == "Connect to IP"){
    try{
        JOptionPane.showMessageDialog(null, ipinp, "Connect to IP", JOptionPane.PLAIN_MESSAGE);
        if(network != null){
            network.close();
        }
        network = new SocketManager(ipadress.getText(),Integer.parseInt(portnumber.getText()));
        network.setGUI(win);
        Thread t = new Thread(network);
        t.start();
        JOptionPane.showMessageDialog(null, "Connected to chat host successfully!","Connected", JOptionPane.INFORMATION_MESSAGE);
    }catch(Exception ee){
        JOptionPane.showMessageDialog(null, "Could not connect. Check IP adress or internet connection","Error - Could not connect", JOptionPane.ERROR_MESSAGE);
        ee.printStackTrace();
    }

} else if (cmd == "chatWriter"){

    if( actionField.getText() != ""){   
        try{
            network.send(actionField.getText());
            win.updateChat(actionField.getText());
            actionField.setText("");
            actionField.requestFocus();
        }catch(Exception ex){
            JOptionPane.showMessageDialog(null, "You are not connected to a host. (File -> Connect to IP)","Error - Not Connected", JOptionPane.ERROR_MESSAGE);
            ex.printStackTrace();
        }

    }

} else if (cmd == "setUsername"){
    username = actionField.getText();
    network.send("USERNAME:" + username);

}

}
} 
```

***主类***

```
package com.client.core;

import javax.swing.JFrame;

public class Main extends JFrame{

private SocketManager network;

public static void main(String[] args){     
    Main main = new Main();
    main.run();

}

private void run(){
    Window win = new Window();
    win.setVisible(true);
}
} 
```

***SocketManager.class***

```
package com.client.core;

import java.io.*;
import java.net.*;

public class SocketManager implements Runnable {

private Socket sock;
private PrintWriter output;
private BufferedReader input;
private String hostname;
private int portnumber;
private String message;
private Window gui;

public SocketManager(String ip, int port){
    try{
        hostname = ip;
        portnumber = port;
    }catch(Exception e){
        System.out.println("Client: Socket failed to connect.");
    }
}

public synchronized void send(String data){
    try{
        //System.out.println("Attempting to send: " + data);
        output.println(data);
        output.flush();
        //System.out.println("Message sent.");
    }catch(Exception e){
        System.out.println("Message could not send.");
    }
}

public synchronized void setGUI(Window w){
    gui = w;
}

public synchronized void connect(){
    try{
        sock = new Socket(hostname,portnumber);
    }catch(Exception e){

    }
}

public synchronized Socket getSocket(){
    return sock;
}

public synchronized void setSocket(SocketManager s){
    sock = s.getSocket();
}

public synchronized void close(){
    try{
        sock.close();
    }catch(Exception e){
        System.out.println("Could not close connection.");
    }
    output = null;
    input = null;
    System.gc();
}

public synchronized boolean isConnected(){
    return (sock == null) ? false : (sock.isConnected() && !sock.isClosed());
}

public synchronized void listenStream(){
    try {
        while((message = input.readLine()) != null){        
            System.out.println("Server: " + message);
            gui.updateChat(message);
        }
    } catch (Exception e) {

    }
}

@Override
public void run() {
    try {
        sock = new Socket(hostname,portnumber);
        output = new PrintWriter(sock.getOutputStream(),true);
        input = new BufferedReader(
                new InputStreamReader(sock.getInputStream()));
        while(true){
            listenStream();
        }
    } catch (Exception e) {
        System.out.println("Run method fail. -> SocketManager.run()");
    }finally{
        try {
            sock.close();
        } catch (Exception e) {

        }
    }

}

} 
```

***窗口类***

```
package com.client.core;

import java.awt.*;
import javax.swing.*;

public class Window extends JFrame{

private int screenWidth = 800;
private int screenHeight = 600;

private SocketManager network;

private JPanel window = new JPanel(new BorderLayout()),
        center = new JPanel(new BorderLayout()),
        right = new JPanel(new BorderLayout()),
        display = new JPanel( new BorderLayout()),
        chat = new JPanel(),
        users = new JPanel(new BorderLayout());

private JTextArea chatBox = new JTextArea("Welcome to the chat!", 7,50),
        listOfUsers = new JTextArea("None Online");

private JTextField chatWrite = new JTextField(),
        userSearch = new JTextField(10),
        username = new JTextField();

private JScrollPane userList = new JScrollPane(listOfUsers),
        currentChat = new JScrollPane(chatBox);

private JMenuBar menu = new JMenuBar();

private JMenu file = new JMenu("File");

private JMenuItem exit = new JMenuItem("Exit"),
        ipconnect = new JMenuItem("Connect to IP");
private JComponent[] login = new JComponent[]{new JLabel("Username:"), username};

public Window(){

    //Initial Setup
    super("NAMEHERE - Chat Client Alpha v0.0.1");
    setResizable(true);
    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    setSize(screenWidth,screenHeight);

    //Panels
    listOfUsers.setLineWrap(true);
    listOfUsers.setEditable(false);
    display.setBackground(Color.black);
    chat.setLayout(new BoxLayout(chat, BoxLayout.Y_AXIS));
    chat.setBackground(Color.blue);
    users.setBackground(Color.green);       

    //TextFields
    addChatArea();

    //Menu bar
    addMenuBar();   

    //Adding the main panels. 
    addPanels();

    //Listeners
    addListeners();

    for(int x = 0; x < 1; x++){
        login();
    }
}

private void login(){
    JOptionPane.showMessageDialog(null, login, "Log in", JOptionPane.PLAIN_MESSAGE);
}

private void addChatArea(){
    chatBox.setEditable(false);     
    userList.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);
    currentChat.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);
    users.add(userList);
    users.add(userSearch, BorderLayout.NORTH);
    chat.add(currentChat);
    chat.add(chatWrite);
    chat.setBorder(BorderFactory.createEmptyBorder(1, 1, 1, 1));
}

private void addMenuBar(){
    file.add(ipconnect);
    file.add(exit);
    menu.add(file); 
}

private void addPanels(){
    right.add(users);
    center.add(display, BorderLayout.CENTER);
    center.add(chat, BorderLayout.SOUTH);
    window.add(center, BorderLayout.CENTER);
    window.add(right, BorderLayout.EAST);
    window.add(menu, BorderLayout.NORTH);
    add(window);
}

private void addListeners(){
    username.addActionListener(new ActLis(username, this));
    chatWrite.addActionListener(new ActLis(chatWrite, this));
    username.setActionCommand("setUsername");
    chatWrite.setActionCommand("chatWriter");
    ipconnect.addActionListener(new ActLis());
    exit.addActionListener(new ActLis());
}

public void setNetwork(SocketManager n){
    network = n;
}

public void updateChat(String s){
    chatBox.setText(chatBox.getText() + "\n" + s);
}

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T06:01:22.837

好的@Zexanima，您已经为套接字管理器创建了一个 Socket 类。像这样的东西：

```
public class YouSocketClass {
   static public Socket socket = null;
   static public InputStream in = null;
   static public OutputStream out = null;

   public YouSocketClass() {
     super();
   }
   public static final Socket getConnection(final String ip, final int port, final int timeout) {
    try {
        socket = new Socket(ip, port);
        try {
            socket.setSoTimeout(timeout);
        } catch(SocketException se) {
            log("Server Timeout");
        }
        in = socket.getInputStream();
        out = socket.getOutputStream();
    } catch(ConnectException e) {
        log("Server name or server ip is failed. " + e.getMessage());
        e.printStackTrace();
    } catch(Exception e) {
        log("ERROR Socket: " + e.getMessage() + " " + e.getCause());
        e.printStackTrace();
    }
    return socket;
}

public static void closeConnection() {
    try {
        if(socket != null) {
            if(in != null) {
                if(out != null) {
                    socket.close();
                    in.close();
                    out.close();
                }
            }
        }
    } catch(Exception e2) {
        e2.printStackTrace();
    }
}

private static Object log(Object sms) {
    System.out.println("Test Socket1.0: " + sms);
    return sms;
}
} 
```

我希望服务。:)

# android - 如何按顺序获取json响应

> ID：10594773
> 
> 赞同：-3
> 
> 时间：2012-05-15T05:44:09.983
> 
> 标签：android, json

我需要按照浏览器中显示的正确顺序获取 json 对象响应，但它是随机的。这是我的 Post 函数，用于获取客户端的响应。我也想通过迭代器而不是字符串来获取所有 Array 字段

jsonserch2.getString("@id");

我使用 Iterator myVeryOwnIterator=jsonserch2.keys() 填充迭代器

```
String response = postData("http://url",generateRequestJson(this));

public static String postData(String url, String json) {
    final HttpClient httpclient = new DefaultHttpClient();
    final HttpPost httppost = new HttpPost(url);
    httppost.setHeader("Content-type", "application/x-www-form-urlencoded");

    final ArrayList<NameValuePair> values = new ArrayList<NameValuePair>();
    values.add(new BasicNameValuePair("data", json));
    String response = "";
    try {
        httppost.setEntity(new UrlEncodedFormEntity(values));
        final HttpResponse httpResponse = httpclient.execute(httppost);
        response = convertInputStreamToString(httpResponse);
    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
    return response;
}

private static String convertInputStreamToString(HttpResponse response) {
    BufferedReader bufferedReader = null;
    try {
        bufferedReader = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));
        // JsonReader reader = new JsonReader(new
        // InputStreamReader(response.getEntity().getContent()));
        // Log.e("",""+reader);
        final StringBuffer stringBuffer = new StringBuffer("");
        String line = "";
        final String LineSeparator = System.getProperty("line.separator");
        //

        //
        while ((line = bufferedReader.readLine()) != null) {
            stringBuffer.append(line + LineSeparator);
        }
        return stringBuffer.toString();
    } catch (IllegalStateException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    } finally {
        if (bufferedReader != null) {
            try {
                bufferedReader.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
    }
    return "";
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T06:59:50.800

试试这个

```
 public void getJsonData() {
      InputStream source = retrieveStream(url);     
      Gson gson = new Gson();      
      Reader reader = new InputStreamReader(source);      
      jsonPlots response = gson.fromJson(reader, jsonPlots.class);
      Toast.makeText(this, response.mFieldId, Toast.LENGTH_SHORT).show();  // this works
    ArrayList<Plants> results = response.PlantArray;

} 
```

# c# - 无法加载类型“Castle.Core.Internal.SlimReaderWriterLock”

> ID：10594775
> 
> 赞同：0
> 
> 时间：2012-05-15T05:44:11.077
> 
> 标签：c#, nhibernate, castle-windsor

我在我的项目中使用 Castle 2.5.1，我在其中引用了使用 NHibernate 的第三方程序集，该程序集似乎使用了不兼容版本的 NHibernate.ByteCode.Castle (2.1.0.4000)。

现在我收到以下异常：

`The type initializer for 'NHibernate.ByteCode.Castle.ProxyFactory' threw an exception.`

内部例外：

`Could not load type 'Castle.Core.Internal.SlimReaderWriterLock' from assembly 'Castle.Core, Version=2.5.1.0, Culture=neutral, PublicKeyToken=407dd0808d44fbdc'.`

据我所知，似乎`SlimReaderWriterLock`已重命名。

我从来没有使用过 NHibernate，所以任何解决这个问题的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T09:19:20.787

我下载了 NH 2.1.0GA 并提取了 ByteCode 项目。

然后引用新的 Castle 2.5.1 程序集并进行必要的命名空间更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T11:48:12.453

我使用 Nuget 包安装了 Castle.Core 3.2 版。它解决了我的问题。

# android - Android 中的本地化值

> ID：10594778
> 
> 赞同：2
> 
> 时间：2012-05-15T05:44:43.283
> 
> 标签：android, localization

谁能告诉我我们在android中为西班牙语写的价值是什么。比如我们写英文的值为'en'中文'zh'。那么西班牙语的价值是什么......？？？

提前谢谢...!!!

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T05:59:13.433

感谢所有人，

现在我找到了答案。该值仅是“es”。我遵循[这些](http://developer.vodafone.com/how-support-multiple-languages-android/)文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T05:51:06.893

它是，

*   es - 西班牙语

*   es_US - 西班牙语，美国

看看这个链接，

[Android 支持的语言和区域设置](http://colincooper.net/?p=238)

和

[http://download1.parallels.com/SiteBuilder/Windows/docs/3.2/en_US/sitebulder-3.2-win-sdk-localization-pack-creation-guide/30801.htm](http://download1.parallels.com/SiteBuilder/Windows/docs/3.2/en_US/sitebulder-3.2-win-sdk-localization-pack-creation-guide/30801.htm)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T05:51:20.653

```
Its Spanish (es_ES) . `Its supported from android version 1.5` 
```

**看看[这个](http://colincooper.net/?p=238)链接可能对你有很大帮助。**

您可以使用以下功能找到设备的所有可用区域设置。

```
Locale loc = new Locale("en");
Log.i("-------------",Arrays.toString(loc.getAvailableLocales())); 
```

**输出**

```
I/-------------( 4390): [ar, ar_EG, bg, bg_BG, ca, ca_ES, cs, cs_CZ, da, da_DK, de, de_AT, de_BE, de_CH, de_DE, de_LI, de_LU, el, el_CY, el_GR, en, en
_AU, en_BE, en_BW, en_BZ, en_CA, en_GB, en_HK, en_IE, en_IN, en_JM, en_MH, en_MT, en_NA, en_NZ, en_PH, en_PK, en_RH, en_SG, en_TT, en_US, en_US_POSIX,
 en_VI, en_ZA, en_ZW, es, es_AR, es_BO, es_CL, es_CO, es_CR, es_DO, es_EC, es_ES, es_GT, es_HN, es_MX, es_NI, es_PA, es_PE, es_PR, es_PY, es_SV, es_US
, es_UY, es_VE, et, et_EE, eu, eu_ES, fa, fa_IR, fi, fi_FI, fr, fr_BE, fr_CA, fr_CH, fr_FR, fr_LU, fr_MC, gl, gl_ES, hr, hr_HR, hu, hu_HU, in, in_ID,
is, is_IS, it, it_CH, it_IT, iw, iw_IL, ja, ja_JP, kk, kk_KZ, ko, ko_KR, lt, lt_LT, lv, lv_LV, mk, mk_MK, ms, ms_BN, ms_MY, nl, nl_BE, nl_NL, no, no_N
O, no_NO_NY, pl, pl_PL, pt, pt_BR, pt_PT, ro, ro_RO, ru, ru_RU, ru_UA, sh, sh_BA, sh_CS, sh_YU, sk, sk_SK, sl, sl_SI, sq, sq_AL, sr, sr_BA, sr_ME, sr_
RS, sv, sv_FI, sv_SE, th, th_TH, tr, tr_TR, uk, uk_UA, vi, vi_VN, zh, zh_CN, zh_HK, zh_HANS_SG, zh_HANT_MO, zh_MO, zh_TW] 
```

# html - 使用dojo css布局HTML元素

> ID：10594781
> 
> 赞同：0
> 
> 时间：2012-05-15T05:44:57.557
> 
> 标签：html, css, dojo

我正在开发一个基于 dojo 1.7 的项目，在项目的一部分中，我必须在浏览器中显示 HTML 页面，如下图所示：![在此处输入图像描述](../Images/28b0f07bfd138906ba38dc987f3dcb1d.png)

但我对 CSS 没有任何了解，也不知道如何像上图那样格式化页面。dojo 中是否有任何现有的 CSS 文件可以帮助我为页面提供所需的格式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T09:29:13.213

看看我为你制作的[这个 JsFiddle 。](http://jsfiddle.net/SnfMd/)

以及此代码在 Firefox 中的结果（快照） ![图片](../Images/c74e17276d95ed7066223243e318b696.png)

**让我知道它是否能解决您的问题**

**注意：这不完全是您的解决方案，但您可以根据需要对其进行修改。**

虽然你必须为自己而奋斗，对吧？干杯！

# jquery - Sharepoint 列表、图片库和 jQuery 幻灯片

> ID：10594783
> 
> 赞同：0
> 
> 时间：2012-05-15T05:45:06.380
> 
> 标签：jquery, sharepoint-2010

我的主页上有一个公告列表，我有 3 个成员，他们具有贡献权限级别。

我希望他们中的每个成员都能够添加公告，以便如果成员一添加公告，他可以编辑自己的公告，但成员二不能编辑它。同时，如果成员二可以添加公告并编辑自己的公告，成员一不能编辑它，如何设置才能做到这一点？

在图片库中也是如此：我希望每个成员都添加自己的图片，而任何人都无法编辑其他成员添加的内容。

我尝试为每个成员创建一个文件夹并为其设置权限，但它不起作用，如果我停止在该文件夹中继承，匿名者无法查看添加到这些文件夹中的任何内容以及图片库中的相同内容：添加到这些文件夹不显示。

我是否应该能够以某种方式创建 Image Jquery 幻灯片，以便每个成员只能添加、编辑和删除他将添加的内容，并且只能查看其他人添加的内容？

欢迎任何其他建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T15:41:35.613

如果您正在创建自定义列表模板，请将[ListTemplate](http://msdn.microsoft.com/en-us/library/ms462947)`SecurityBits`元素的 设置为12（用户可以阅读所有项目，但只能编辑自己的项目）。

> SecurityBits：为有足够权限读取或编辑列表项的用户定义列表中的项级权限。SecurityBits 属性包含一个 2 位字符串。字符串中的第一个数字控制读取访问；字符串中的第二个数字控制编辑访问。

如果您使用的是现成列表模板，则可以通过将[WriteSecurity](http://msdn.microsoft.com/en-us/library/microsoft.sharepoint.splist.writesecurity%28v=office.14%29.aspx)属性设置为 2 来更改单个列表实例。

您可以通过转到“列表设置”>“高级设置”并在“项目级权限”部分中选择“创建项目并编辑用户创建的项目”来手动设置此属性。

# parsing - 谁在 yacc 语法中修改了 $$ 的类型

> ID：10594784
> 
> 赞同：0
> 
> 时间：2012-05-15T05:45:08.120
> 
> 标签：parsing, yacc, lex

我想将定义 $$ 更改为以下语法中的结构我已将 yylval 声明为 str，但是在使用 gcc 编译 .c 文件时出现错误

```
gcc *.c -ly 
tp.l: In function ‘yylex’:
tp.l:12: error: request for member ‘sum’ in something not a structure or union
y.tab.c:1035: error: conflicting types for ‘yylval’
tp.y:11: note: previous declaration of ‘yylval’ was here 
```

yacc 文件：

```
 %{
        #include <ctype.h>
        #include <stdio.h>
        #include <stdlib.h>

        typedef struct {
            int val;
            int cpt;
        } str;

        str yylval;

%}
        %start  start 
        %token  number

%%
    start : number'+'number'\n'
    ;

%%

int main(void)
{
        yyparse();
        return 0;
} 
```

lex文件：

```
%option noyywrap

%{
    #include<stdio.h>
    #include<stdlib.h>
    #include<ctype.h>
    #include"y.tab.h"
%}

%%
[0-9]+  {
            yylval = atoi(yytext); 
            return number;
        }

"+"     return '+';
\n      return '\n';
" " ;

%% 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-17T16:11:45.670

您无法定义自己的`yylval`. 生成的代码已经定义了这一点。使用`%union`指令间接定义类型。如果这不合适，那么您可以做的是重新定义`YYSTYPE`扩展为任意类型说明符的宏。例如：

```
struct my_semantic_attributes {
  int foo;
  /* ... */
};

#define YYSTYPE struct my_semantic_attributes 
```

# bash - Bash提示历史问题

> ID：10594786
> 
> 赞同：15
> 
> 时间：2012-05-15T05:45:35.727
> 
> 标签：bash, command-prompt, .bash-profile

这是一个奇怪的问题，我无法通过 Google 找到一个好的答案（当然，我总是有可能失败）。在我的 bash 提示符上，如果我为提示的一部分着色，当我点击“向上”转到上一个命令时，在超过一定数量的字符（特别是 31）后，我无法转到行首.

我当前的 bash 提示是这样的：（颜色在我的 .bashrc 前面定义）

```
PS1="[\u@$cyan\h$NC \w] " 
```

但是，如果我将其更改为：

```
PS1="[\u@\h \w] " 
```

它不再阻止我走到行首。

奇怪的部分是，在视觉上，当我回家去到行首（或使用箭头键）时，它会在字符串中停止 11 个字符，但如果我从那里编辑它，它会从头开始编辑的线。

有谁知道为什么会发生这种情况？当我进行服务器管理时，我想在提示符中使用颜色，而颜色是我一目了然区分我的盒子的方式。

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-05-15T06:02:38.287

非打印序列（如颜色代码）必须被包围`\[`，`\]`因此它们的长度不计入提示长度的一部分。

# iphone - 将光标放在 MFMailComposeViewController 正文部分的两行之后

> ID：10594792
> 
> 赞同：0
> 
> 时间：2012-05-15T05:46:07.503
> 
> 标签：iphone, objective-c, ios, ipad, mfmailcomposeviewcontroller

我在我的`MFMailComposeViewController`身体部位使用光标

```
- (BOOL) setMFMailFieldAsFirstResponder:(UIView*)view mfMailField:(NSString*)field{

for (UIView *subview in view.subviews) {

    NSString *className = [NSString stringWithFormat:@"%@", [subview class]];
    NSLog(@"SubView -- %@ --- %@",className,field);

    if ([className isEqualToString:field])

    {

        //Found the sub view we need to set as first responder

        [subview becomeFirstResponder];

        return YES;

    }

    if ([subview.subviews count] > 0) {

        if ([self setMFMailFieldAsFirstResponder:subview mfMailField:field]){

            //Field was found and made first responder in a subview

           return YES;

        }

    }

}

//field not found in this view.

return NO; 
```

}

但它在身体部位的第一个字符上显示光标。如果想要光标在两行之后，比如

***这是邮件的正文部分***，我希望将光标放在此消息的两行之后。

我正在使用 `[picker setMessageBody:emailBody isHTML:YES];`set body part ，我需要`isHTML`YES。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T08:26:03.090

试试这个，

```
NSString *emailBody=[NSString stringWithFormat:@"%@<br>Hooray, This is my 2 lines before curser:<br><br>"];
emailbody = [emailBody stringByAppendingString:@"Whatever string or curser you want"];

[picker setMessageBody:emailBody isHTML:YES]; 
```

# android - 从另一个 Activity 访问用户定义的自定义方法

> ID：10594793
> 
> 赞同：1
> 
> 时间：2012-05-15T05:46:07.723
> 
> 标签：android, methods, android-activity

我有`MyClass1 extends Activity {` ....

```
public void myMethod(String url){...//mystuffs..}  

} 
```

和

```
MyClass2 extends MyClass1 {

....

//here call myMethod..

} 
```

但我无法调用 myMethod。在构建项目之前说“创建方法 myMethod”，它给了我错误。

super.myMethod 给了我以下异常：

```
 W/dalvikvm(3211): threadid=1: thread exiting with uncaught exception (group=0x400207d8)  
FATAL EXCEPTION: main  
java.lang.StackOverflowError   
Activity.loadUrl(MyClass1.java:119)  
MyClass2.onCreate(MyClass2.java:92) 
```

有什么解决办法？？

谢谢斯内哈
_

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-19T12:44:04.073

这样做：

```
public class A extends Activity{

public void myMethod(String url){...//mystuffs..

}  

}

public class B extends A {

public void myMethod(String url){
super.myMethod(url);

}  

} 
```

# android - 更改模式时关闭应用程序

> ID：10594801
> 
> 赞同：-2
> 
> 时间：2012-05-15T05:46:38.417
> 
> 标签：android

我创建了一个必须在两种模式下运行的应用程序。但是在改变应用模式的同时，应用是关闭的。我怎么解决这个问题

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T06:23:07.370

在您想要的活动清单文件中使用它 -

```
< android:configChanges="orientation|keyboardHidden" /> 
```

这永远不会让您的应用程序崩溃或关闭。

希望对你有帮助。。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T07:14:32.397

在你的 android 清单中使用这个

```
android:configChanges="orientation" 
```

并将这条线放在你的活动中

```
setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T05:54:59.253

```
getActivity().setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE); 
```

这条线用于横向。

```
getActivity().setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED); 
```

当您想在两个方向上运行您的应用程序时，而不是在两个方向上都使用它。

# ruby-on-rails-3 - 单个模型上的多个 Carrierwave mount_uploader

> ID：10594802
> 
> 赞同：4
> 
> 时间：2012-05-15T05:46:39.423
> 
> 标签：ruby-on-rails-3, json, image, carrierwave, uploader

我有一个名为 Recipe 的模型，它有 2 个使用载波的图像，所以在这个模型中我有这个来设置载波

```
mount_uploader :author_photo, AuthorUploader
mount_uploader :photo, PhotoUploader 
```

我还为我的图像添加了多个版本，例如拇指、小、中、大

问题是。说我有 2 张图片

```
Chocolate_Cake.jpg as the photo
My_Photo.jpg as author_photo 
```

当我进入控制台并加载我的食谱并加载到 recipe.to_json 时，我从carrierwave 中获取了我的两张图片，但它们都显示了食谱的照片，而不是作者的照片。

```
 "recipe": [
    {
        "author_photo": {
            "url": "/uploads/recipe/photo/8/Chocolate_Cake.jpg",
            "thumb": {
                "url": "/uploads/recipe/photo/8/thumb_Chocolate_Cake.jpg"
            },
            "small": {
                "url": "/uploads/recipe/photo/8/small_Chocolate_Cake.jpg"
            },
            "medium": {
                "url": "/uploads/recipe/photo/8/medium_Chocolate_Cake.jpg"
            },
            "large": {
                "url": "/uploads/recipe/photo/8/large_Chocolate_Cake.jpg"
            }
        },
        "id": 8,
        "photo": {
            "url": "/uploads/recipe/photo/8/Chocolate_Cake.jpg",
            "thumb": {
                "url": "/uploads/recipe/photo/8/thumb_Chocolate_Cake.jpg"
            },
            "small": {
                "url": "/uploads/recipe/photo/8/small_Chocolate_Cake.jpg"
            },
            "medium": {
                "url": "/uploads/recipe/photo/8/medium_Chocolate_Cake.jpg"
            },
            "large": {
                "url": "/uploads/recipe/photo/8/large_Chocolate_Cake.jpg"
            }
        }, 
```

所以由于某种原因，我的 json 响应没有正确显示我的上传者。

如果我要在控制台中输入这个，

```
 recipe.photo
 recipe.author_photo 
```

他们想出了不同的图片网址

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-16T04:38:20.047

经过一些研究和朋友的帮助，我发现我可以覆盖配方模型的 as_json 方法来修复我得到的响应。

```
 def as_json(options = {})
     super.merge('photo' => photo.as_json[:photo], 'author_photo' => author_photo.as_json[:author_photo])
   end 
```

这个解决方案奏效了。

# joomla - 如何在 joomla 中查找数据库主机 url

> ID：10594808
> 
> 赞同：0
> 
> 时间：2012-05-15T05:46:55.873
> 
> 标签：joomla, joomla2.5

我有一个带有 Joomla 2.5.4 的网站，在配置文件中，数据库主机被编码为 localhost。我知道数据库名称、用户名、访问密码。但不是访问主机的 URL。是不是可以在不登录C PANEL等的情况下获取信息。

在某些情况下，我的客户端无法给我访问数据库的 url，如果我打开配置文件，它会显示 LOCALHOST。

有没有其他方法可以查到？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T22:29:46.377

如果`configuration.php`有`localhost`那么它应该与网站/网站的IP地址相同。记住['localhost' 只是](http://en.wikipedia.org/wiki/Localhost)*当前计算机*的同义词。

我不确定你为什么想要这个 URL。

如果您正在为 Joomla! 编写软件扩展！您不需要数据库详细信息，您可以从框架中获取数据库对象，例如。`$db = JFactory::getDBO();`

如果您在 Joomla 之外编写 PHP 脚本！你可以`localhost`在你的连接代码中使用，例如。

```
$mysqli_connection = new MySQLi('localhost', 'user', 'pass', 'db'); 
```

要检查连接中的错误，您将检查值`$mysqli_connection->[connect_error][2]`

如果您想进行远程连接，则网站地址通常会在配置状态为 localhost 时执行（*显然，如果它没有本地主机或等效主机，则该值将是数据库服务器地址*），但您还需要[通过 cPanel 设置远程访问](http://docs.cpanel.net/twiki/bin/view/11_30/WHMDocs/SetupRemoteMySQL)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-29T13:36:24.887

我也面临同样的问题。当文件在文件服务器中时，我将主机名保留为“localhost”。然后它对我来说很好。如果它不适合您，只需输入您的域名而不是 localhost（或）否则文件托管服务提供商需要在您注册时提供主机名的详细信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T08:52:59.693

我相信除了通过您的虚拟主机之外，您无法通过其他方式找到此信息，至少据我所知不是。

localhost 是最常用的方式，但很可能还有其他主机地址，例如：mysql.yourhost.com 或通过 ip：123.456.456.7

# php - 从 Twitter XML 中提取信息到 Wordpress

> ID：10594812
> 
> 赞同：1
> 
> 时间：2012-05-15T05:47:37.270
> 
> 标签：php, xml, twitter

我想在我的网站上使用来自 Facebook 和 Twitter 的原始数据。我已经解决了从 Facebook XML 中提取数据的工作（在一位好人的帮助下），并且我安装了一个不错的滑块。这是那个的细节...

```
$url = "http://api.facebook.com/restserver.php?method=links.getStats&urls=www.dori.co.nz".urlencode($source_url);

$xml = file_get_contents($url);
$xml = simplexml_load_string($xml);
$shares =  $xml->link_stat->share_count;
$likes =  $xml->link_stat->like_count;
$comments = $xml->link_stat->comment_count;
$total = $xml->link_stat->total_count;
$max = max($shares,$likes,$comments); 
```

现在我想为 Twitter 做同样的事情。[这](http://api.tweetmeme.com/url_info?url=http://dori.co.nz/)是 Twitter 的 XML 页面，但无论我做什么，我似乎都无法让它工作。有小费吗？从一个 .php 文件中的两个不同 XML 页面/文件中提取详细信息是否存在问题？

谢谢！！

# .net - vb.net 中的可变大小按钮

> ID：10594815
> 
> 赞同：0
> 
> 时间：2012-05-15T05:48:21.020
> 
> 标签：.net, vb.net, visual-studio-2010, keyboard

我正在创建一个类似于屏幕键盘上的窗口的虚拟屏幕键盘。我不知道如何制作随窗口大小改变其大小的按钮，因为它在屏幕键盘（osk.exe）上的窗口中出现。

我还想知道是否有一种方法可以放大鼠标光标附近的按钮并后退和缩小远离鼠标的按钮的大小。

以及如何像在 Windows 屏幕键盘中一样使用它附加字典，就像它显示我们可以输入的可能单词一样。

以及如何在表单上动态创建这些按钮？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T02:26:01.997

要使按钮自动调整大小，您需要使用某种容器来保存所有按钮。我会推荐 TableLayoutPanel 或 FlowLayoutPanel。

您首先要在表单上放置容器，然后将其停靠在您想要的任何位置（例如，在表单的底部）。在使用 TableLayoutPanel 的情况下，您将为每个按钮创建一个单独的表格单元格，然后将每个按钮停靠在单元格中。这样，如果您将容器和按钮都正确停靠，它们将自动随窗口调整大小。

我要指出的另一件事是，您可以将多个容器相互嵌套多次，从而为您的布局提供更大的灵活性。

您可以在此处阅读有关容器的更多信息：

[http://msdn.microsoft.com/en-us/library/ms171689.aspx](http://msdn.microsoft.com/en-us/library/ms171689.aspx)

[http://msdn.microsoft.com/en-us/library/ms171691.aspx](http://msdn.microsoft.com/en-us/library/ms171691.aspx)

[http://www.vb-helper.com/howto_net_use_tablelayoutpanel.html](http://www.vb-helper.com/howto_net_use_tablelayoutpanel.html)

# android - Android：应用程序在后台还是前台运行？:S

> ID：10594818
> 
> 赞同：0
> 
> 时间：2012-05-15T05:48:35.963
> 
> 标签：android, background-process, android-3.0-honeycomb, background-foreground

我已经编写了一个应用程序，除了在已安装设备上的应用程序之外，我不想做任何事情。但在 Android 3.x 版本中，我无法以编程方式禁用状态栏。然后我必须检查应用程序，它何时被 BACKed 并返回到设备桌面，以及它何时被返回并在我的应用程序上工作。有没有办法检查应用程序在前台是否处于活动状态或不可见但在后台运行？

谢谢大家。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:56:51.583

在您的 Activity 中，当它变得可见时将调用 onResume，当它不再可见时将调用 onPause。

有关更多详细信息，请参见此处：http: [//developer.android.com/reference/android/app/Activity.html](http://developer.android.com/reference/android/app/Activity.html)

# grails - Grails .xls 文件下载

> ID：10594819
> 
> 赞同：0
> 
> 时间：2012-05-15T05:48:51.223
> 
> 标签：grails

我想在我的视图页面上有一个链接，它应该使用 .xls 文件扩展。当我单击该链接时，我应该能够看到下载的文件。该文件应仅在 .xls 中。我该怎么做呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T09:39:34.120

您应该使用指向控制器操作的[g:link](http://grails.org/doc/latest/ref/Tags/link.html)，然后将 .xls 数据写入响应。它看起来像这样......

视图.gsp

```
<g:link controller="foo" action="download" >Download</g:link> 
```

那么你需要一个控制器动作......

```
class FooController{

    def download = {
        def file = new File("/path/to/file/somefile.xls"); //<-- you'll probably want to pass in the file name dynamically with the 'params' map    
        response.setContentType("application/excel")
        response.setHeader("Content-disposition", "attachment;filename=${file.getName()}")

        response.outputStream << file.newInputStream()

    }

} 
```

享受！

# facebook - Facebook，未捕获的 OAuthException：必须使用活动访问令牌来查询有关当前用户的信息

> ID：10594823
> 
> 赞同：1
> 
> 时间：2012-05-15T05:49:41.297
> 
> 标签：facebook

我使用 codeigniter 平台来构建一个带有 facebook 登录 api 的网站。

当我第一次尝试使用 facebook 帐户登录时，它运行良好。

但是，如果我第二天再次使用 facebook 登录，我会收到此错误消息。

```
Fatal error: Uncaught OAuthException: An active access token must be used to query information about the current user. 
```

看起来我没有进行重定向或没有获得新令牌。

这是 facebook 登录脚本。

```
function fblogin()
{

    // Get User Details
    $fb_id = $this->facebook->getUser();

    // User is found
    if( isset($fb_id) )
    {
        // Get Facebook User profile
        $user_profile = $this->facebook->api('/me');

        // User already has an account log them in
        if( $this->join->chk_user_facebook_id($fb_id) == USER_ID_EXIST) 
        {
            $u_data = $this->user->get_facebook_user_info($fb_id);

            //update facebook token
            $facebook_token = $this->input->get('code');
            $query = 'UPDATE '.T_USER_ACCOUNT.' SET u_facebook_token = "'.$facebook_token.'" WHERE u_facebook_id = "'.$fb_id.'" ';
            $this->db->query($query);

            //save session
            $l_data = array(
                SESSION_USERID      => $u_data[0]['u_id'],
                SESSION_USERNAME    => $u_data[0]['u_name'],
                SESSION_USEREMAIL   => $u_data[0]['u_email'],
                SESSION_USERAUTH    => $u_data[0]['u_auth']
            );
            $this->session->set_userdata($l_data);

            redirect('/home');
        }

        // This is a new user add them to users table and login
        else 
        {

            $facebook_id = $user_profile['id'];

            $j_data = array(
            'u_id' => $facebook_id,
            'u_facebook_id' => $facebook_id,
            'u_name' => $user_profile['name'],
            'u_first_name' => $user_profile['first_name'],
            'u_last_name' => $user_profile['last_name'],
            'u_facebook_token' => $this->input->get('code'),
            );

            $this->join->facebook_join($j_data);

            // Check if offline access
                $offline = $this->config->item('facebook_offline', 'tank_auth_social');

            // follow admin account
                $this->load->model('follow/following_model', 'following');
                $this->following->exec($facebook_id, GPON_DEFAULT_ID);

            // Get user information
                $data = $this->user->get_facebook_user_info($fb_id);

                $l_data = array(
                SESSION_USERID      => $data[0]['u_id'],
                SESSION_USERNAME    => $data[0]['u_name'],
                SESSION_USEREMAIL   => $data[0]['u_email'],
                SESSION_USERAUTH    => $data[0]['u_auth']
                );
                $this->session->set_userdata($l_data);

            // Find facebook friends in the service and follow them.
                $this->chk_facebook_friend();

            redirect('/account/welcome');
        }
    }
    else
    {
        redirect('/auth/login');
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T06:37:19.763

您应该替换`if( isset($fb_id) )`为，`if( $fb_id) )`因为该函数`$this->facebook->getUser()`在没有用户时返回 0。

# http - post/redirect/get 直接传递表单数据来获取

> ID：10594826
> 
> 赞同：0
> 
> 时间：2012-05-15T05:49:56.023
> 
> 标签：http, nosql, load-balancing, forms, post-redirect-get

从 POST 查询生成 REST 页面时使用[Post/Redirect/Get](http://en.wikipedia.org/wiki/Post/Redirect/Get)习惯用法。POST 将数据放入数据库，GET 检索它并生成页面。

这样的实现如何避免到数据库的往返？在性能方面，最好减少查询次数。一些 NoSQL 系统不会立即在查询结果中显示提交内容，但更喜欢在检索数据之前让数据在数据库中渗透几秒钟。

潜在的问题是 Post/Redirect/Get 需要来自客户端的两个查询，这些查询可以分发到不同的服务器。该成语引入了真正的物理问题。

仅仅为了避免“您想重新提交表单”消息而要求修改数据库似乎是非常不合适的。我能做些什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T13:14:02.323

好吧，现在我已经赢得了我的第一个 Tumbleweed 徽章……我计划使用 AJAX 来解决这个问题，以便在不重新加载的情况下动态更改与数据库相关的内容。这样，我就可以向服务器发布我心中的内容，而不会让用户收到警告。

# jsp - 具有属性值的 Jsp 自定义标记作为另一个自定义标记

> ID：10594827
> 
> 赞同：2
> 
> 时间：2012-05-15T05:50:06.603
> 
> 标签：jsp, jsp-tags, custom-tags

我正在创建一些 jsp 自定义标签。现在我有如下要求：

```
<bb:custom1 id="id1" attr1="<bb:custom2 attr2='attr2val'></bb:custom2>"></bb:custom1> 
```

即属性的值应该是另一个自定义标签，将由相应的标签处理程序解析。我可以看到这适用于所有 html 标签。但是当我尝试使用我的自定义标签时它不起作用。有人可以告诉我如何实现这一点。

我正在使用标签处理程序创建自定义标签。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-04-28T14:10:10.087

我通过使用临时变量解决了这个问题：

```
<c:set name="val_attr">
    <bb:custom2 attr2='attr2val' />
</c:set>

<bb:custom1 id="id1" attr1="${val_attr}"></bb:custom1> 
```

它适用于任何标签库（例如 custom2 可以来自 cc:custom2）。

另一个优点是您不需要知道函数语法（例如，如果需要许多参数，则放置哪个顺序）：

```
<c:set name="val_attr">
    <cc:custom2 param2='myparam2' param1='myparam1' />
</c:set>

<bb:custom1 id="id1" attr1="${val_attr}"></bb:custom1> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T06:54:22.983

您需要定义自定义 EL 函数，而不是自定义标签 bb:custom2。你可以这么称呼它：

```
<bb:custom1 id="id1" attr1="${bb:custom2(attr2val)}"></bb:custom1> 
```

[您可以在此处](http://blog.idleworx.com/2010/04/custom-tags-and-custom-el-functions-in.html)阅读有关 EL 函数的信息。

# asp.net - 如何在按钮单击事件上调用 vb 脚本？

> ID：10594831
> 
> 赞同：0
> 
> 时间：2012-05-15T05:50:35.287
> 
> 标签：asp.net

我正在尝试在按钮单击事件上从 C#.net 调用 vb 脚本。但是当我使用 asp:button contol 但使用输入类型 = 按钮正常工作时它不起作用。为什么会这样？听说vb脚本只能在IE下运行，其他浏览器不行。是吗？

# jakarta-ee - 如何处理 java.net.SocketException：打开的文件太多

> ID：10594834
> 
> 赞同：3
> 
> 时间：2012-05-15T05:50:55.777
> 
> 标签：jakarta-ee, struts2, socketexception

我们的是一个 Struts2 java webapplication，使用 hibernate 3.5 ORM。当我们在应用程序上执行一些并行操作时，我们会遇到以下异常，并且 java 进程 cpu 利用率处于最大值。

```
May 15, 2012 12:39:59 AM org.apache.catalina.core.ApplicationDispatcher invoke
SEVERE: Servlet.service() for servlet jsp threw exception
java.net.SocketException: Too many open files
at java.net.PlainSocketImpl.socketAccept(Native Method)
    at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
    at java.net.ServerSocket.implAccept(ServerSocket.java:462)
    at java.net.ServerSocket.accept(ServerSocket.java:430)
    at org.apache.tomcat.util.net.DefaultServerSocketFactory.acceptSocket(DefaultServerSocketFactory.java:59)
    at org.apache.tomcat.util.net.JIoEndpoint$Acceptor.run(JIoEndpoint.java:210)
    at java.lang.Thread.run(Thread.java:662) 
```

请相应地建议我们。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-15T10:01:48.750

我猜你是在一个基于linux的操作系统上？看来您需要增加最大数量。每个进程的文件句柄。

看看这里：[http ://ehaselwanter.com/en/blog/2009/03/13/tomcat-too-many-open-files/](http://ehaselwanter.com/en/blog/2009/03/13/tomcat-too-many-open-files/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-13T07:31:01.553

它超出了打开文件描述的数量限制。解决方案：增加打开文件数量的硬限制和软限制。

soft nofile 999999 hard nofile 999999 在 /etc/security/limits.conf 文件中

# iphone - 在 ios 键盘上方显示建议工具栏

> ID：10594836
> 
> 赞同：4
> 
> 时间：2012-05-15T05:51:02.943
> 
> 标签：iphone, objective-c, ios, cocoa-touch

我是iOS开发的新手。我正在尝试在 ios 5.1 中创建一个具有 textView 的拼写建议类型应用程序，这样如果用户点击键盘的某个键，则建议工具栏会出现在键盘顶部，其中包含所有建议，并且如果用户点击其中一个建议它将显示在 textView 上。

如图所示。

![在此处输入图像描述](../Images/92b978267d8ee9efc13c25bd65abf5af.png)

我已经处理了键盘按下事件并处理了那里的所有处理。现在我想做的是我有一个 NSArray 的建议，我想创建一个建议工具栏并将所有这些建议从 NSArray 分配到该工具栏，如果用户点击任何这些建议，它应该放在 textView 上。

我无法理解我应该如何进行，以及我应该使用哪个组件在键盘上方创建该工具栏。

使用 IOS SDK 5.1 和 xcode 4.3

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T05:57:57.443

`inputAccessoryView`您可以通过将视图设置为您希望与它一起出现的任何文本编辑控件（`UITextField`、`UITextView`等），使视图粘在键盘的顶部。有关详细信息，请参阅[UITextInputTraits](https://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UITextInputTraits_Protocol/Reference/UITextInputTraits.html)协议文档。

如果你不确定从哪里开始制作一个显示可以点击的单词的视图，你可能想看看[View Programming Guide](https://developer.apple.com/library/ios/#documentation/WindowsViews/Conceptual/ViewPG_iPhoneOS/Introduction/Introduction.html)或一本好的 iOS 编程入门书。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T05:56:19.003

您可以使用键盘的附件视图来实现这一点，查看这个开发人员相同的代码 - [http://developer.apple.com/library/ios/#samplecode/KeyboardAccessory/Introduction/Intro.html](http://developer.apple.com/library/ios/#samplecode/KeyboardAccessory/Introduction/Intro.html)

# r - 如何在不使用循环的情况下粘贴 2 个列表（长度相等）来形成新列表

> ID：10594841
> 
> 赞同：0
> 
> 时间：2012-05-15T05:51:35.573
> 
> 标签：r, list, paste

假设我有两个列表：

```
 a = list(1,2)
  b = list("x","y")
        #a
        #[[1]]
        #[1] 1

        #[[2]]
        #[1] 2

        #b
        #[[1]]
        #[1] "x"

        #[[2]]
        #[1] "y" 
```

我想要以下结果：

```
 #[[1]]
        #[1] "1x"

        #[[2]]
        #[1] "2y" 
```

我尝试了以下方法：

```
 lapply(a, paste, b) 
```

但结果不是我所期望的：

```
 #[[1]]
        #[1] "1 x" "1 y"

        #[[2]]
        #[1] "2 x" "2 y" 
```

我想知道是否有任何方法可以获得所需的结果 - 无需借助任何添加的包或循环。

先感谢您！！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T05:59:11.627

这里有一个建议：

```
as.list(paste(a,b, sep=""))
[[1]]
[1] "1x"

[[2]]
[1] "2y" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T14:00:22.900

jigr 的回答是正确的，但我想解决您尝试的解决方案。你在 1 码线，跑进去触地得分。您没有为 lapply 提供分隔符，因此 paste 使用默认值`" "`。提供该分隔符 ( `sep=""`) 或更好地使用`paste0`（适用于 R 版本 <= 2.15），默认为`""`分隔符。

```
a = list(1,2)
b = list("x","y")

lapply(a, paste, b, sep="")
lapply(a, paste0, b) 
```

# windows-phone-7 - 在 WP7 中拖动图像

> ID：10594846
> 
> 赞同：0
> 
> 时间：2012-05-15T05:52:27.000
> 
> 标签：windows-phone-7, xaml, listbox

我正在使用列表框使用代码绑定图像列表：

```
 <ListBox Name="lstBoxImages"  Height="645" VerticalAlignment="Top" Width="480">
            <ListBox.ItemsPanel>
                <ItemsPanelTemplate>
                    <toolkit:WrapPanel Height="Auto" Width="480" ItemHeight="120" ItemWidth="120"></toolkit:WrapPanel>
                </ItemsPanelTemplate>
            </ListBox.ItemsPanel>
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Border Width="120"  BorderThickness="2">
                        <StackPanel Orientation="Vertical" Width="110" >
                            <Image  Height="110" Width="110" Source="{Binding imageName}" Stretch="Uniform"/>
                        </StackPanel>
                    </Border>

                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox> 
```

现在我想拖动图像并移动图像的位置。谁能帮我解决这个问题？一个例子将是可观的。谢谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T06:03:56.143

你可以在这里找到一个示例项目

[http://www.codeproject.com/KB/silverlight/SL4DragDropListBox.aspx?pageflow=Fluid&fid=1572066&df=90&mpp=25&noise=3&sort=Position&view=Quick](http://www.codeproject.com/KB/silverlight/SL4DragDropListBox.aspx?pageflow=Fluid&fid=1572066&df=90&mpp=25&noise=3&sort=Position&view=Quick)

[http://www.kunal-chowdhury.com/2009/12/silverlight-drag-and-drop-listboxitem.html](http://www.kunal-chowdhury.com/2009/12/silverlight-drag-and-drop-listboxitem.html)

# css - CSS菜单下拉和Z-Index

> ID：10594847
> 
> 赞同：0
> 
> 时间：2012-05-15T05:52:28.320
> 
> 标签：css, internet-explorer, z-index, drop-down-menu

好的，我有两个问题。

注意：CSS 将发布在我遇到的两个问题下方。

问题 #1 - 我有一个由 CSS 组成的下拉菜单，但我不知道如何向它们添加项目符号。当我在 Internet Explorer 中出于某种原因制作 #nav .li {list-style:disc;list-style-position:inside;} 时，光盘出现在列表上方，而在 Chrome 中它们出现在左侧文字*叹息*IE

问题 #2 - 好的，由于某种原因，在 Internet Explorer 中（再次）当 Z-index 与border-radius 配对时，它们不想工作。有什么有效的解决方法吗？我已经尝试过搜索所有内容，IE 9 应该可以解决这个问题，但众所周知，在尝试制作包含任何类型的 CSS3 的网站时，IE 总是让人头疼。

导航菜单的 CSS 代码

```
/* THE CSS MENU * KEEP COLORS:#1B1B1B, #808080, #282828, #FFD100*/

#nav {float:left;margin:0;padding:0;}
#nav li .sub {list-style-image:disc;list-style-position:inside;}
#nav li a, #nav li {float:left;/*border-radius: 40px 0 / 40px 0;*/}
#nav li {list-style:none;position:relative;z-index:100;}
#nav li a {padding: 8px 1.5em;text-decoration:none;color:white;border-right:1px solid #808080;border-left:1px solid #404040;border-top:1px solid #404040;
   background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#808080), to(#1B1B1B));
   background: -webkit-linear-gradient(top, #808080, #1B1B1B); 
   background: -moz-linear-gradient(top, #808080, #1B1B1B);
   background: -ms-linear-gradient(top, #808080, #1B1B1B);
   background: -o-linear-gradient(top, #808080, #1B1B1B);
   filter:  progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='#808080', endColorstr='#1B1B1B'); /* IE6 & IE7 */
   -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='#808080', endColorstr='#1B1B1B')"; /* IE8 */
   box-shadow: inset 3px 3px 15px #404040;
}
#nav li a:hover {background:#282828;color:#FFD100;
   background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#808080), to(#000));
   background: -webkit-linear-gradient(top, #808080, #000); 
   background: -moz-linear-gradient(top, #808080, #000);
   background: -ms-linear-gradient(top, #808080, #000);
   background: -o-linear-gradient(top, #808080, #000);
   filter:  progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='#808080', endColorstr='#000000'); /* IE6 & IE7 */
   -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='#808080', endColorstr='#000000')"; /* IE8 */
   box-shadow: inset 3px 3px 15px #000;
}
/* SUBMENU */
#nav li ul {display:none;position:absolute;left:0;top:100%;padding:0;margin:0;}
#nav li:hover > ul {display:block;z-index:100;}
#nav li ul li, #nav li ul li a {float:none;}
#nav li ul li a {width:150px;display:block;}

/* SUB SUB MENU */

#nav li ul li ul {display:none;}
#nav li ul li:hover ul {left:100%;top:0;} 
```

这是两个应该有圆形边框但在 IE 中没有的图像的 CSS 代码

```
#main-bottom {width:1030px;height:40px;margin:0 auto;position:absolute;z-index:2;left:-20px;bottom:-15px;box-shadow: 0 3px 10px #000;border-top-left-radius:60px;border-top-right-radius:60px;
   background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#1B1B1B), to(#808080));
   background: -webkit-linear-gradient(top, #1B1B1B, #808080); 
   background: -moz-linear-gradient(top, #1B1B1B, #808080);
   background: -ms-linear-gradient(top, #1B1B1B, #808080);
   background: -o-linear-gradient(top, #1B1B1B, #808080);
   filter:  progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='#1B1B1B', endColorstr='#808080'); /* IE6 & IE7 */
   -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='#1B1B1B', endColorstr='#808080')"; /* IE8 */
}
#post-footer-bottom {width:1030px;height:40px;margin:0 auto;position:relative;z-index:2;top:80px;box-shadow: 0 -3px 10px #000;border-bottom-left-radius:60px;border-bottom-right-radius:60px;
   background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#808080), to(#1B1B1B));
   background: -webkit-linear-gradient(top, #808080, #1B1B1B); 
   background: -moz-linear-gradient(top, #808080, #1B1B1B);
   background: -ms-linear-gradient(top, #808080, #1B1B1B);
   background: -o-linear-gradient(top, #808080, #1B1B1B);
   filter:  progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='#808080', endColorstr='#1B1B1B'); /* IE6 & IE7 */
   -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='#808080', endColorstr='#1B1B1B')"; /* IE8 */
} 
```

# android - 适用于 Android 的 Mono：模拟器磁盘大小

> ID：10594854
> 
> 赞同：0
> 
> 时间：2012-05-15T05:53:23.810
> 
> 标签：android, mono, xamarin.android

当我为 Mono for Android 创建一个模拟器时，它太小而无法为新的 Mono for Android 4.2 安装运行时。

如何使用 AVD 创建足够大的模拟器来支持它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T06:15:56.870

如果要更改系统/数据分区大小，可以使用`-partition-size`模拟器的选项。要启动 512MB 大小的模拟器，请使用：

`emulator -partition-size 512 -avd <your-avd-name>`

`eg: emulator -partition-size 512 -avd MonoForAndroid_API_14_2 -no-snapshot-load`

您可以从 AVD 管理器更改 AVD 的 SD 卡大小。从 AVD 管理器中，选择您的 AVD -> 编辑 -> SD 卡 -> 大小（输入新大小）

# ruby-on-rails - 您将路径放在 Cucumber 1.1+ for Ruby on Rails 的什么位置？

> ID：10594855
> 
> 赞同：1
> 
> 时间：2012-05-15T05:53:25.597
> 
> 标签：ruby-on-rails, cucumber

由于路径.env 文件不是为 Cucumber 1.1+ 生成的，例如，如果我`visit login_path`经常在测试步骤中使用，我应该为它创建一个单独的步骤还是应该在`visit login_path`任何地方使用？如果它发生变化，我可以轻松地在 features 目录下进行字符串替换。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T06:44:24.973

如果这真的只是把你的电话弄干的问题，`visit login_path`我会留下它们，因为它们清晰简洁，而且你（*可能*）不需要更改登录路径帮助程序。

但是，如果您开始看到像这样稍微复杂的步骤，

```
# in features/step_definitions/profile_steps.rb

When /^I go to my profile$/ do
  visit user_path(@current_user)
end 
```

考虑使用`paths.rb`模型：

```
# in features/step_definitions/common_steps.rb

Given /^I go to (.+)$/ do |page_name|
  visit path_to(page_name)
end

# in features/support/paths.rb

module NavigationHelpers
  def path_to(page_name)
    when /my profile/
      user_path(@current_user)
    ...
  end
end
World(NavigationHelpers) 
```

That's right, I like `paths.rb` and `selectors.rb` and copy them to new projects :) I am glad to see the "kitchen sink" `web_steps.rb` go though. For examples of how I use the support files: [https://github.com/coshx/green-eggs/blob/master/features/support](https://github.com/coshx/green-eggs/blob/master/features/support)

# python - Python 最大收益

> ID：10594856
> 
> 赞同：-5
> 
> 时间：2012-05-15T05:53:29.100
> 
> 标签：python

我必须编写一个函数来计算并返回我们可以从知识库中获得的最大收益，该知识库按级别存储在列表列表中。

要测试此功能，主要是：

```
if __name__ == "__main__":
  l0 = [[7], [3,8], [8,1,0], [2,7,4,4], [4,5,2,6,5]]
  l1 = [[11], [7,32], [14,14,14], [0,1,2,3], [5,99,1,2,7],
       [0,25,9,45, 54,1], [99,88,77,66,55,44,33]]
>>>30
>>>270 
```

我试着从下往上开始，有没有其他的解决办法？

你可以把列表想象成一棵树

```
 [7]
  [3,8]
 [8,1,0]
[2,7,4,4] 
```

依此类推...我想达到最大收益的步行，选择的权重由列表中的数字给出，我必须最大化我的路径

我已经写了这个解决方案

```
def maxpath(listN):
  liv = len(listN) -1
  return calcl(listN,liv)

def calcl(listN,liv):
  if liv == 0:
    return listN[0]
  listN[liv-1] = [(listN[liv-1][i]+listN[liv][i+1],listN[liv-1][i]+listN[liv][i]) \
                [ listN[liv][i] > listN[liv][i+1] ] for i in range(0,liv)]
  return calcl(listN,liv-1)

print(maxpath(l0))
print(maxpath(l1))

#output
[30]
[270] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T08:22:06.680

通过一棵树的可能路径数为`2**rows`。到给定节点的可能路径数由二项式展开给出。您可以非常简单地从树的头部开始增长可能的路线，在每个节点上只有两个可能的下一步移动，它们在列表中的索引要么与当前位置相同，要么多一个。

解决该问题的一种简单方法是为给定的行数生成所有可能的路径。`create_paths()`这样做，通过树返回所有可能的路线。函数`max_cost()`使用它来根据成本树评估所有路由，返回最昂贵路由的值。我把它留给你来获得实际的路线（不是很难..）:)

```
L_0 = [[7], [3,8], [8,1,0], [2,7,4,4], [4,5,2,6,5]]
L_1 = [[11], [7,32], [14,14,14], [0,1,2,3], [5,99,1,2,7],
       [0,25,9,45, 54,1], [99,88,77,66,55,44,33]]

def create_paths(rows):
    new_paths = []
    paths = [[0]]
    for row in xrange(rows):
        for path in paths:
            new_paths.append(path+[path[-1]])
            new_paths.append(path+[path[-1]+1])
        paths = new_paths
        new_paths = []
    return paths

def max_cost(tree):
    costs = []
    paths = create_paths(len(tree)-1)
    for path in paths:
        costs.append(sum([tree[i][j] for i, j in enumerate(path)]))
    return max(costs)

print max_cost(L_0)
print max_cost(L_1)

#output:
30
270 
```

# javascript - 如何检测鼠标的下一个悬停？

> ID：10594857
> 
> 赞同：2
> 
> 时间：2012-05-15T05:53:40.917
> 
> 标签：javascript, jquery, html, css

嗨，我正在构建一个菜单，我需要检测鼠标的下一步动作。目前我正在使用`event.relatedTarget`并获取`event.relatedTarget.id`下一个元素。它一直有效，直到我不得不在我的菜单上对我的 css 进行一些修改，所以我不得不摆脱`overflow: hidden;`和使用`display: inline-block;`. 现在发生的事情是`event.relatedTarget`是一个空字符串，除非我将鼠标快速拉到我的菜单项。生病发布部分代码，并在 jsfiddle 上完整地发布。有什么想法吗？

[项目链接](http://jsfiddle.net/LyVaj/1/)

```
Navigation.top_links.on('mouseleave', function (event) {
                var sub_wrapper = $('.sub-wrapper'),
                        target_id = event.relatedTarget.id;

                console.log(event.relatedTarget.id);

                console.log(event.relatedTarget.id);
                if (target_id == 'got_me_sections' || target_id == 'got_me_products' || target_id == 'ind_sections' || target_id == 'ind_products') {                    
                    console.log('mouse down to items');
                    return false;
                }

                sub_wrapper.removeClass('sections').removeClass('products');
                sub_wrapper.hide();
            }); 
```

它的html太多了，所以有点乱，抱歉。

```
<ul id="top_nav">
                <li class="first"><a href="#" id="sections" class="nav-link">sections</a></li>
                <li><a href="#" id="products" class="nav-link">products</a></li>              
                <li>
                    <div id="nav_cart">
                        <div class="gfx-div-cart"></div>
                    </div>  
                </li>                
            </ul>         

        <div id="sub_nav">

            <div id="sub_sections" class="sub-wrapper">
                <div id="got_me_sections" class="top-space">
                    <div id="ind_sections" class="indicator"></div>
                </div>
                <div class="nav-items-wrapper">
                    <div class="nav-items-breadcrumb">
                        <ul class="breadcrumb">
                            <li class="bc first">sections</li>
                            <li class="bc last">&nbsp;</li>
                        </ul>
                    </div>
                    <div class="nav-items">
                        <ul class="nav-items-list">

                                   <li><a href="#" class="nav-item">item.Name</a></li>

                        </ul>
                    </div>
                </div>
            </div>
            </div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T06:42:34.577

我通过将 css 添加到`<div id="sub_nav">...</div>`

我用负数将容器向上移动了一点`margin-top: -4px;`

# ios - 如何从选项卡控制器中访问视图？

> ID：10594858
> 
> 赞同：0
> 
> 时间：2012-05-15T05:53:48.873
> 
> 标签：ios, ios5, delegates, uinavigationcontroller, uitabbarcontroller

```
if([[segue identifier] isEqualToString:@"dischargeSegue"])
{
    UITabBarController *dc = [segue destinationViewController];

    dischargeView *discharge = (dischargeView *)[[dc.viewControllers objectAtIndex:0] objectAtIndex:0];
    discharge.delegate = self;
} 
```

我正在尝试为选项卡视图控制器的初始视图设置委托。这是我正在尝试的，但收到以下错误：无法识别的选择器已发送到实例

![在此处输入图像描述](../Images/efb3b00bcc575e8f21911990d8732d9f.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T06:32:03.137

采用 -

```
dischargeView *discharge =  (dischargeView *)[[[dc.viewControllers objectAtIndex:0] viewControllers] objectAtIndex:0]; 
```

# regex - 在Shell中匹配模式后提取字符串

> ID：10594860
> 
> 赞同：2
> 
> 时间：2012-05-15T05:54:14.293
> 
> 标签：regex, shell

如何提取 Shell 脚本中匹配模式之后的任何字符串。我知道 Perl 脚本中的这个功能，但我不知道在 Shell 脚本中。

以下是示例，

> Subject_01：这是一个示例主题，可能会有所不同

我必须提取“Subject_01：”之后的任何字符串

请提供任何帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T06:17:29.377

这取决于你的外壳。

如果您使用的是[bourne](/questions/tagged/bourne "显示标记为“伯恩”的问题") shell 或[bash](/questions/tagged/bash "显示标记为“bash”的问题")或（我相信）[pdksh](/questions/tagged/pdksh "显示标记为“pdksh”的问题")，那么您可以做这样的花哨的事情：

```
$ string="Subject_01: This is a sample subject and this may vary"
$ output="${string#*: }"
$ echo $output
This is a sample subject and this may vary
$ 
```

请注意，这在格式方面非常有限。上面的行要求您在冒号后有一个空格。如果你有更多，它将填充`$output`.

如果您使用的是其他 shell，则可能必须使用以下`cut`命令执行以下操作：

```
> setenv string "Subject_01: This is a sample subject and this may vary"
> setenv output "`echo '$string' | cut -d: -f2`"
> echo $output
This is a sample subject and this may vary
> setenv output "`echo '$string' | sed 's/^[^:]*: *//'`"
> echo $output
This is a sample subject and this may vary
> 
```

第一个示例使用`cut`，它非常小且简单。第二个示例使用`sed`，它可以做得更多，但在 CPU 方面（非常）重一点。

YMMV。在 csh 中可能有更好的方法来处理这个问题（我的第二个示例使用 tcsh），但我的大部分 shell 编程都是在 Bourne 中完成的。

# iphone - 如何在核心数据中一次插入多行

> ID：10594862
> 
> 赞同：3
> 
> 时间：2012-05-15T05:54:20.283
> 
> 标签：iphone, objective-c, ios, core-data, ios5

如何通过单个操作插入多行？我不想使用循环插入数据。我会用一个查询插入数据。Core Data 中有什么方法可以将多行插入在一起吗？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T06:04:30.707

在 Core Data 中，一个`NSManagedObject`可以被认为具有与一行相关的信息，对于多行，您需要创建那么多`NSManagedObject`. 因此，如果没有循环，您将无法实现插入多行。

# javascript - Javascript附加对象语法糖？

> ID：10594863
> 
> 赞同：1
> 
> 时间：2012-05-15T05:54:55.077
> 
> 标签：javascript, syntactic-sugar

我的课堂上有一个对象，如下所示：

```
this.options = {
     a: 1,
     b: 2,
     ...
}; 
```

我只是想知道是否有一种方法可以将选项对象“附加”到 Javascript 中的当前范围，这样我就可以直接引用`a`and `b`（而不是`this.options.a`and `this.options.b`）。就像是：

```
attach(this.options);
var myVariable = a + 3; // 4
detach(this.options); 
```

或者

```
with( this.options, {
   // code here
 var myVariable = a + 3; // 4
}); 
```

在上面，`attach`and`with`具有获取所有子级`this.options`并将它们附加到当前范围的效果，因此它们可以通过`a`而不是`this.options.a`. （一旦完成，该`with`版本就会简单地分离`this.options`，将可能损坏的附件包含在该范围内）。

只要它在 Spidermonkey/Mozilla 引擎中工作，我不介意它是否不可移植。

我只是出于好奇和懒惰才提到这一点：所有嵌套的名称都变得烦人，而且我知道在 R 语言中这是可能的（事实上，上面片段中的语法几乎就是你要写的在R中实现这一点）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T06:07:18.063

JavaScript 有一个与您描述的类似的[`with`语句：](https://developer.mozilla.org/en/JavaScript/Reference/Statements/with)

```
with (this.options) {
    var myVariable = a + 3;  // here a is actually this.options.a
} 
```

但是，正如您在我链接到的 MDN 文章中看到的那样，使用它有一些缺点，例如，潜在的歧义。在上面的示例中，`a`可能是 的属性`this.options`，也可能是在别处定义的变量，仅查看该块无法判断。

`with`不推荐（[严格模式下](https://developer.mozilla.org/en/JavaScript/Strict_mode)禁止）。

但是有一个安全的替代方法：创建一个引用的变量（再次在您的示例中）`this.options`：

```
var o = this.options;

var myVariable = o.a + 3; 
```

它不像`a`自己打字那么短，但比`this.options`到处重复要短。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T06:01:30.420

您可以将对象包装在另一个对象中，使用`attach`和`detach`方法以及内部缓存来存储实际数据对象。然后让`attach`and`detach`方法在回调中`data`提供：`this`

```
function TheObject(data){
    var that = this;

    this.data = data;

    this.attach = function(callback){
        callback.apply(that.data);
    }

}

//wrap the object
var myobj = new TheObject({
    a: 1,
    b: 2
});

myobj.attach(function(){
    //"this" in here is the "data" in the object.
    //this.a
    //this.b
}); 
```

# jquery - 如何使用条件语句设置变量？

> ID：10594866
> 
> 赞同：0
> 
> 时间：2012-05-15T05:55:07.257
> 
> 标签：jquery, variables, var, conditional-statements

我有一系列函数，我将相同的变量传递给，但是我希望这个变量的值根据窗口高度而改变。设置 var X 可以正常工作，但是当我将其删除并尝试通过条件语句指定其值时，它不会读取：

```
<script>

var viewportHeight = $(window).height();

$(function() {
  $(window).resize(function() {
    if (viewportHeight >= 600) {
         var X = 100;
       }
    if (viewportHeight < 600) {
         var X = 50;
       }
   });
});
</script> 
```

这当然会被放置在与我影响的脚本相同的脚本标签中，因为我不相信以这种方式设置全局变量是可能的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T05:57:21.510

将 x 变量更改为全局变量，试试这样

```
 var x; // global vairable 
$(function() {

  $(window).resize(function() {
    if (viewportHeight >= 600) {
        x=100;
       }
    if (viewportHeight < 600) {
         X = 50;
       }
   });
}); 
```

# asp.net - 如何在asp.net中限制对公共用户的Web服务访问

> ID：10594868
> 
> 赞同：1
> 
> 时间：2012-05-15T05:55:27.470
> 
> 标签：asp.net, asmx

我有 web 服务页面 ( `webservice.asmx`) 正在使用 javascript 调用，并且我想
限制对这个 web 服务的公共请求，而不是来自本地页面（aspx 或
javscript）的请求。Web 服务在执行之前会检查表单身份验证，但可以查看服务列表并且可以在page
中访问参数。`.asmx`用户可以
键入`www.site.com/webservice1.asmx`访问我的网络服务。所以我需要限制该
选项。我们如何保护`asmx`文件不被公共用户访问。？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T06:57:32.830

我认为您想限制对 Web 服务的 HTTP GET 访问，请修改`webServices`Web.config 部分：

```
<webServices>
     <protocols>
       <add name="HttpPost" />
       <remove name="HttpGet" />
       <remove name="Documentation"/>
     </protocols>
</webServices> 
```

**编辑**- 其他禁用 HTTP GET 的方法

1.  在您的 Web 方法上方添加此属性：

    ```
    [ScriptMethod(UseHttpGet = false)] 
    ```

2.  在每个 Web 方法中添加此检查：

    ```
    if (HttpContext.Current.Request.HttpMethod == HttpMethod.POST)
        // Do your work 
    ```

# qt-creator - 在 Qt-Creator 中使用 openFrameworks

> ID：10594870
> 
> 赞同：3
> 
> 时间：2012-05-15T05:55:38.740
> 
> 标签：qt-creator, openframeworks

如何在 Qt Creator 环境中使用 OF？事实上，我应该如何构建 lib 并将其添加到我的 .pro 文件中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-29T14:01:17.470

查看这个 github 存储库：[https](https://github.com/procedural/ofqmake) ://github.com/procedural/ofqmake如果您想使用 qtcreator 构建 openFrameworks，则有一个 qmake 项目文件 (.pro)，如果您想的话，还有一个 qmake 包含文件 (.pri)在您自己的项目中使用 oF。

这正是您想要做的。获取[openFrameworks.pri](https://github.com/procedural/ofqmake/blob/master/linux/openFrameworks.pri)文件并将其包含在您的 .pro 文件中，方法是添加`include(openFrameworks.pri)`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-03-21T13:11:38.613

我已经成功地在创建者加载普通 Makefile 项目中完成了开放框架项目的移植。

您可以在文件中添加包含目录`projectName.includes`以进行自动完成和文件导航（只需使用`find`shell 命令对执行此操作`OF_PATH/libs`），它非常方便。

此外 config.make 和 addons.make 让您可以使用官方社区项目管理系统提供的内置项目创建工具和工作流程，还可以使用标准 gcc 命令（`-I`例如）添加外部二进制/库/共享组件。

通过这种方式，您可以使用 QtCreator 而无需关心 .pro/.pri 文件并使用 makefile 项目（我已经在 linux 和 mac/osx 上测试过），我认为 arch 编译也不会有问题。

C++11 也没有问题（即使我没有测试该语言的所有新特性）。

在[官方论坛看到这个帖子。](http://forum.openframeworks.cc/t/openframeworks-project-files-for-qtcreator-qmake/14106/3)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-15T13:28:58.250

Qt 本身提供了一个名为[Qt-Complex](http://qt-project.org/wiki/Category%3aTools%3a%3aQtComplex)的开放框架。通过它，您可以找到如何将框架添加到您的项目中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-12-02T13:16:30.643

再次更新这个话题，从OF9.0开始，现在正式支持QT Creator *（甚至是默认推荐的IDE！）*。
请参阅此设置指南： http: [//openframeworks.cc/setup/qtcreator/](http://openframeworks.cc/setup/qtcreator/)

# objective-c - 如何保留在 AppController.m 中所做的更改

> ID：10594876
> 
> 赞同：1
> 
> 时间：2012-05-15T05:56:19.817
> 
> 标签：objective-c, unity3d

Unity3d 在为 Xcode 构建时会生成一个文件 Appcontroller.mm。在这个文件中我们可以进行更改，例如添加`CLLocationmanager`回调。但是，如果我们想保留这些更改，以便当我们从统一重新构建我们的项目并生成这些文件时，这些更改将包含在其中。有没有办法做到这一点 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T09:08:50.527

转到 File / Build Settings (CMD+SHIFT+B) 并点击*Build*或*Build And Run*。选择一个已经存在的目录后，Unity3D 会询问您是否要替换现有文件或追加。追加意味着您所做的更改被保留。按 CMD+B 进行构建会自动追加。[您可以在Publishing Builds](http://unity3d.com/support/documentation/Manual/Publishing%20Builds)下的 Unity3D 手册中找到更多信息，查找 iOS。

无论如何，使用源代码控制系统是个好主意，因为在 Unity3D 的主要版本更新后，您需要再次进行更改。

# vba - 如何检测当前打开的 swf 文件名

> ID：10594877
> 
> 赞同：3
> 
> 时间：2012-05-15T05:56:21.937
> 
> 标签：vba, vb6, vbscript

我想检测当前打开的 swf 文件名。这是我的代码：

```
Private Const GW_HWNDNEXT = 2
Private Declare Function GetWindow Lib "user32" (ByVal hWnd As Long, ByVal wCmd As Long) As Long
Private Declare Function FindWindow Lib "user32" Alias "FindWindowA" (ByVal lpClassName As String, ByVal lpWindowName As String) As Long
Private Declare Function GetClassName Lib "user32" Alias "GetClassNameA" (ByVal hWnd As Long, ByVal lpClassName As String, ByVal nMaxCount As Long) As Long
Private Declare Function GetWindowText Lib "user32" Alias "GetWindowTextA" (ByVal hWnd As Long, ByVal lpString As String, ByVal cch As Long) As Long

Private Sub Form_Load()
  ListWins "*.swf*"
End Sub

Sub ListWins(Optional Title = "*", Optional Class = "*")
  Dim hWndThis As Long

  hWndThis = FindWindow(vbNullString, vbNullString)

  While hWndThis
    Dim sTitle As String, sClass As String
    sTitle = Space$(255)
    sTitle = Left$(sTitle, GetWindowText(hWndThis, sTitle, Len(sTitle)))

    sClass = Space$(255)
    sClass = Left$(sClass, GetClassName(hWndThis, sClass, Len(sClass)))

    If sTitle Like Title And sClass Like Class Then
      Debug.Print sTitle, sClass
      List1.AddItem (sTitle)
    End If

    hWndThis = GetWindow(hWndThis, GW_HWNDNEXT)
  Wend
End Sub 
```

此代码可以正常检测文件名`*.doc`，`*.xls`但不适用于`*.swf`文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T11:28:14.777

**笔记**

我已经在 VBA 中对其进行了测试。我相信它也可以在 VB6 中工作。

试试这个（**将此代码粘贴到模块中并运行子示例**）

```
Private Declare Function GetWindowTextLength Lib "user32" Alias _
"GetWindowTextLengthA" (ByVal HWnd As Long) As Long

Private Declare Function GetWindowText Lib "user32" Alias _
"GetWindowTextA" (ByVal HWnd As Long, ByVal lpString As String, ByVal cch As Long) As Long

Private Declare Function GetDesktopWindow Lib "user32" () As Long

Public Declare Function EnumChildWindows Lib "user32" _
(ByVal hWndParent As Long, ByVal lpEnumFunc As Long, ByVal lParam As Long) As Long

Public Function APIWindowCaption(ByVal HWnd As Long, ByVal lParam As Long) As Long
    Static winnum As Integer
    Dim MyStr As String

    winnum = winnum + 1

    MyStr = String(GetWindowTextLength(HWnd) + 1, Chr$(0))

    GetWindowText HWnd, MyStr, Len(MyStr)

    '~~> This will give you the caption of the window
    If InStr(1, MyStr, ".swf", vbTextCompare) Then Debug.Print MyStr

    APIWindowCaption = 1
End Function

Sub Sample()
    Dim retval As Long, DesktophWnd As Long

    DesktophWnd = GetDesktopWindow

    retval = EnumChildWindows(DesktophWnd, AddressOf APIWindowCaption, ByVal 0&)
End Sub 
```

**快照**

![在此处输入图像描述](../Images/d8d04b260197a17c518109474a04d9e2.png)

# java - 关于@Override 注解的使用

> ID：10594880
> 
> 赞同：0
> 
> 时间：2012-05-15T05:56:38.897
> 
> 标签：java, spring, dependency-injection, annotations, overriding

我正在使用 Spring DI 开发 Web 服务。我正在使用 Eclipse IDE 并编写了一个验证器。我正在 SoapUI 中测试代码。问题是我有一个验证器类`UpdateRequestValidator`，它扩展了另一个`IValidator`具有方法的接口，`validate()`因此`UpdateRequestValidator`该类正在实现该`validate()`方法。正在从端点适配器类调用此方法。我在课堂上的方法`@Override`之前使用注释。无论有没有注释，验证器都可以正常工作。`validate()``UpdateRequestValidator``@Override`

现在的问题是这个注释在这里扮演什么角色，如果我删除它是否有任何副作用，因为代码和验证器在删除它后工作得很好。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T06:06:14.717

@Override 只是一个“标签”，告诉编译器该metode 覆盖了另一个方法。删除 @Override 不会改变任何东西，但是如果你删除父类中的 validate() 方法并且仍然有覆盖符号，你会得到一个编译时错误

# facebook - 制作社交阅读器应用程序

> ID：10594888
> 
> 赞同：0
> 
> 时间：2012-05-15T05:57:42.263
> 
> 标签：facebook, api

如何制作一个类似于 Social Reader App 的应用程序？

Social Reader 应用程序访问用户信息并将其发布到他们的 Facebook 新闻源和墙上。

这是关于增加我的博客的受欢迎程度。我想制作这样一个应用程序，它可以访问用户信息并将其发布到他们的墙上，并在有人阅读我的博客时自动发布到新闻源。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T07:44:24.440

您必须在您的博客上添加 FB 连接功能，或者当您在 FB 墙上发布文章时，您可以将其指向第二个域，该域将安装 fb iframe 应用程序并负责用户身份验证，然后它会将用户重定向到您的博客。

# textbox - 是否可以将简单的 radtextbox 转换为 radnumeric-textbox

> ID：10594892
> 
> 赞同：0
> 
> 时间：2012-05-15T05:58:02.047
> 
> 标签：textbox, telerik, servercontrols

是否可以从代码隐藏或 javascript 将简单的 radtextbox 转换为 radnumeric-textbox？我有一个下拉列表，我可以在其中决定文本框是只允许数字还是任何字符。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-17T10:32:07.350

您可以为此目的使用 RadMasked 文本框。只需使用 RadMaskedTextbox 并根据您在代码后面或 javascript 中的要求操作掩码。

# jquery - 如何在刷新时更改背景？

> ID：10594894
> 
> 赞同：2
> 
> 时间：2012-05-15T05:58:08.783
> 
> 标签：jquery, css, background

嗨，我想知道是否有代码或查询允许我的背景在每次刷新时更改，以及背景颜色与背景一样

看看这个网站[http://www.youngblackstarz.org](http://www.youngblackstarz.org)

请注意，每次刷新时，背景都会发生变化，并且背景颜色也会与之协调。

这是如何完成的，任何人都可以帮我解决这个问题吗？

先感谢您。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T06:07:15.590

演示：[http ://demos.9lessons.info/bgchange/index.html](http://demos.9lessons.info/bgchange/index.html)

bgimages -- 1.jpg -- 2.jpg -- 3.jpg

```
<script type="text/javascript">
var totalCount = 8;
function ChangeIt()
{
var num = Math.ceil( Math.random() * totalCount );
document.body.background = 'bgimages/'+num+'.jpg';
document.body.style.backgroundRepeat = "repeat";// Background repeat
}
</script>
</head>
<body>
// Page Design
</body>
<script type="text/javascript">
ChangeIt();
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T06:05:39.927

这里的信息可以帮助你。

[http://www.markinns.com/articles/full/simple_two_line_image_randomiser_script_with_jquery](http://www.markinns.com/articles/full/simple_two_line_image_randomiser_script_with_jquery)

[JQuery 随机背景颜色和颜色，在 2 个 div 上](https://stackoverflow.com/questions/5897573/jquery-random-background-color-and-color-on-2-divs)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-25T14:32:02.200

也许这会有所帮助：

```
 $(document).ready(function() {

var totalCount = 2;

    var num =  Math.ceil( Math.random() * totalCount );
    document.body.background = 'assets/background-'+num+'.jpg'; 
    }); 
```

我已经整理了一下代码。每分钟计数为 2。

文件将进入[http://www.yoursite.com/assets/background-1.jpg](http://www.yoursite.com/assets/background-1.jpg)

上传每张图片并根据需要增加 number 和 totalCount。

对于 Wordpress，将“资产”更改为“wp-content/uploads/yy/mm/filename-NUMBER.jpg”

希望这可以帮助

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-15T06:15:55.310

你可以使用 Javascript 做这样的事情

```
 <script type="text/javascript">

   function changeBackground() {

    var new_date = new Date();
    var no_of_imgs = 7;
    var no_of_second = new_date.getSeconds();
    var bal_no = no_of_second % no_of_imgs;
var bg_img ="";

    if (bal_no == 0)
{

    bg_img ='<div class="template_row bg_img_a" id="main_content_pane">'; 
    }
    if (bal_no == 01)
{

    bg_img ='<div class="template_row bg_img_e" id="main_content_pane">';       

    }
    if (bal_no == 02)
{       

    bg_img ='<div class="template_row bg_img_g" id="main_content_pane">';
    }    

 if (bal_no == 03)
{

    bg_img ='<div class="template_row bg_img_d" id="main_content_pane">';

    } 

 if (bal_no == 04)
{       

    bg_img ='<div class="template_row bg_img_b" id="main_content_pane">';

    } 

 if (bal_no == 05)
{       
    bg_img ='<div class="template_row bg_img_f" id="main_content_pane">';

    } 

 if (bal_no == 06)
{

    bg_img ='<div class="template_row bg_img_c" id="main_content_pane">';       

    } 

//Print the relevant Div here   
document.write(bg_img);
    }

    $(document).ready(function()
    {
      changeBackground();
    });

   </script> 
```

# javascript - 为什么闭包不能通过异步获得正确的外部值？

> ID：10594897
> 
> 赞同：2
> 
> 时间：2012-05-15T05:58:34.543
> 
> 标签：javascript, node.js, asynchronous

请参阅以下带有[async](https://github.com/caolan/async)的 nodejs 代码：

```
var async = require('async');

function inc(n, cb) {
    setTimeout(function() {
        cb(null, n+1);
    },1000);
};

var calls = [];

for(i=0;i<3;i++) {
    calls.push(function(cb){
        inc(i, cb);
    });
}

async.parallel(calls, function(err, results) {
    console.log(results);
}); 
```

它打印：

```
[4, 4, 4] 
```

我不明白为什么结果不是`[1, 2, 3]`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T06:00:33.180

```
for(i=0;i<3;i++) {
    calls.push(function(cb){
        inc(i, cb);
    });
} 
```

`for`函数在循环结束后执行；当时，`i`等于`3`。

你应该在这里使用另一个闭包。例如：

```
for(i=0;i<3;i++) {
    calls.push(function (i) {
        return function (cb) {
            inc(i, cb);
        }
    }(i));
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T06:02:10.937

因为数组中的每个**调用**都`calls`引用相同的`i`变量，所以请考虑以下代码：

```
function fn() {
    var i = 1;
    setTimeout(function() { alert(i); }, 500);
    i++;
    i++;
}
fn(); 
```

这当然会输出**3**而不是**1**，这是您的代码的同一个问题，变量在**调用**执行`i`之前发生了变化；

 **为避免此问题，请使用**立即调用函数表达式包装****for**循环以创建一个新范围来存储**`i`**

 **```
for (var i = 0; i < 3; i++) {
    (function(i) {
        calls.push(function(cb) { inc(i, cb); });
    }(i));
} 
```****

# java - 我可以在 java SSLSocket 类中提取对称密钥吗？

> ID：10594898
> 
> 赞同：1
> 
> 时间：2012-05-15T05:58:40.000
> 
> 标签：java, ssl, encryption, symmetric-key

如何在 Java 中获取会话对称密钥？它是隐藏的吗？（寻找方法，但没有）这有道理，但是，我仍然需要它。有没有办法检索对称密钥？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-15T06:06:17.763

不，SSL 层实现应该是透明的，并且在内部负责加密应用层以下的数据，而不受应用层的任何干扰。对称密钥是每个会话生成的，并且仅与相关方共享（在您的情况下，是套接字连接两端的 SSL 层），其他任何人都不能共享。应用层没有理由需要访问会话密钥。

# php - 普通 API 和 REST API 的输出之间的区别

> ID：10594900
> 
> 赞同：21
> 
> 时间：2012-05-15T05:58:40.613
> 
> 标签：php, api, zend-framework, rest

REST API 和普通 API（打印 JSON 响应）有什么区别？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-05-15T07:32:01.763

完全没有区别。REST 描述了一种与 HTTP 服务器交互的方式，而不是服务器应返回的响应。大多数 Web 应用程序通过 POST 或 GET 请求与服务器端交互，其中包含满足 POST 表单提交或 GET 查询字符串中的请求所需的任何附加信息。因此，如果您想从服务器中删除某些内容，他们通常会使用包含指定资源的数据以及删除它的指令的表单进行 POST。

但是，HTTP 实现了 GET 或 POST 以外的方法（也称为动词）。除其他外，它还实现了 HEAD（返回与 GET 相同的标头，但没有响应正文）、PUT（获取请求正文并将其内容存储在发出 PUT 请求的任何 URL 中）和DELETE（删除指定 URL 中存在的任何资源）。REST 接口简单地利用这些附加动词将请求的含义传达给服务器。

浏览器通常只支持“正常”（非 XHR）请求的 GET 和 POST，但像 Curl 这样的工具可以发出全套 HTTP 动词。您还可以通过基于 XHR 的技术（例如 AJAX）使用附加动词。

您仍然需要为浏览器提供传统的非 REST API 以供使用，除非您使 javascript 和 XHR 支持成为使用您的应用程序的要求。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-05-15T06:05:47.627

REST 主要是指按照预期的方式使用 HTTP 协议。使用`GET`URL 上的 HTTP 方法来检索信息，可能基于 HTTP`Accept`标头采用不同的格式。使用`POST`HTTP 方法在服务器上创建新项目、`PUT`编辑现有项目、`DELETE`删除它们。使 API 具有幂等性，即使用相同的信息重复相同的查询应该产生相同的结果。以分层方式构建您的 URL 等。

REST 只是如何使用 URL 和 HTTP 协议来构建 API 的指导原则。它没有说明返回格式，也可能是 JSON。

这与将二进制或 XML 消息发送到指定端口的 API 完全相反，根本不使用 HTTP 方法或 URL 的差异。

# sql - 当数据库名称以数字开头时，使用 SQLCMD 无法创建数据库

> ID：10594905
> 
> 赞同：0
> 
> 时间：2012-05-15T05:59:09.767
> 
> 标签：sql, sql-server-2008

我正在使用 SQLserver 2008 R2 版本。我正在尝试使用 SQL CMD 创建数据库。

当我尝试运行以下命令时

```
Sqlcmd -S 10.2.202.213 -U sa -P 123@123 -Q "create database 125Build5" 
```

我收到以下错误：

> 消息 102，级别 15，状态 1，服务器 WS-INBLR567，第 1 行“125”附近的语法不正确。

如果我使用不以数字开头的数据库名称，例如“Build5125”，那么它可以工作。但是我可以毫无问题地从 SSMS 创建数据库。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-15T06:00:35.823

尝试：

```
create database [125Build5] 
```

标识符的[规则规定](http://msdn.microsoft.com/en-us/library/ms175874.aspx)它们必须以字母开头。您可以通过将它们括在括号或双引号中来解决这个问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T06:04:45.170

我真的鼓励你重新考虑创建一个以数字开头的数据库，因为它总是需要一个限定符，从而使跨数据库选择变得痛苦。

但是，也就是说，只需将数据库的名称括在括号中，例如`[123Whatever]`. 方括号告诉 SQL 将名称作为文字，因此您可以打破您想要的任何标准正常命名规则，包括空格或其他特殊字符。SSMS 允许您以数字开头的原因是因为它在后台执行的 SQL 语句使用了这些括号。

# javascript - 视频加载条在阵列上工作

> ID：10594907
> 
> 赞同：2
> 
> 时间：2012-05-15T05:59:13.223
> 
> 标签：javascript, jquery, html, progress-bar, html5-video

我有一系列视频，每个视频都有自己的拇指来激活它们，所有这些都在一个数组中。我还有一个视频进度条，显示他们玩了多远（状态，我猜），我已经设法在每个拇指上放了一个。我的问题是如何做到这一点，以便每个拇指只获得其视频的进度条，并且所有六个不会同时消失。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T23:26:34.483

一种简单的方法是使用顺序编号的 id 设置每个进度条，并将当前播放视频的索引存储在变量中，以便您可以使用该值来使用 jQuery 定位适当的进度元素：

HTML：

```
 <div id="progress_1"><!-- any markup required for my progress bar --></div>
 <div id="progress_2"><!-- any markup required for my progress bar --></div>
 <div id="progress_3"><!-- any markup required for my progress bar --></div> 
```

jQuery

```
// Update this with the index of the currently 
// playing video when the user clicks a thumb
var currentVideoIndex = 0;

// Use the currentVideoIndex to target the progress bar related to 
// the currently playing video
$('#progress_' + currentVideoIndex).css('width', percent); 
```

# c# - 在 ASP.NET MVC 中持久化用户数据

> ID：10594910
> 
> 赞同：4
> 
> 时间：2012-05-15T05:59:23.590
> 
> 标签：c#, asp.net-mvc, session-state

以前也有人问过类似的问题，但我仍然没有答案，并且花了相当多的时间试图找到一个。

场景是这样的。我们有一个使用表单身份验证/LINQ-to-SQL 数据模型的 ASP.NET MVC 应用程序。

每个用户可以与 1 个或多个**Accounts**关联。登录后，应用程序会检查它们关联的帐户数量。

**0** = 转到错误页面并让他们知道他们无权访问
**1** = 设置*用户数据*以使用该帐户
**2 或更多**= 转到允许他们选择他们想要使用的帐户的页面（能够更改在他们访问期间）

**您将如何存储这些信息？**

此外，我想将此帐户用作我的控制器操作的基础。即他们访问的后续页面上的数据将与他们选择的帐户相关。

想到单例***咳嗽，但不确定如何实现。***

我目前正在研究的一种方法是一个基本控制器，所有控制器都将从该控制器继承

1.  检查用户是否登录。
2.  如果是，请检查他们是否选择了帐户
    *   否 - 将他们重定向到帐户选择页面
    *   是 - 继续原始请求

这样做的推荐/最佳实践方式是什么？

谢谢马尔科

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T07:17:31.200

不要使用基本控制器。您可以使用操作过滤器完成此操作。这将为您提供拦截点，以检查他们是否已登录，是否选择了帐户，甚至将他们重定向到错误或帐户选择页面。您所要做的就是`filterContext.Result`在操作过滤器的`OnActionExecuting`方法中进行设置，以防止请求通过。在操作期间，您可以完全访问会话、临时数据、cookie 和整个 HttpContext，就像在控制器中一样。您还可以使用过滤器属性过滤器提供程序属性注入依赖项，这样就可以为您提供所需的任何数据访问权限。

就数据建模而言，我对 Linq to SQL 不太熟悉，但我认为正常的一对多应该可以解决问题：

```
User (1) <-------> (0..*) Account

public class User
{
    public virtual ICollection<Account> Accounts { get; protected internal set; }
}

public class Account
{
    public int UserId { get; protected internal set; }
    public virtual User User { get; protected internal set; }
} 
```

**更新：**对不起，我误解了你所说的“商店”的意思。在 MVC 中，只有几种方法可以存储它 - Session、Cookie 和 Cache（以及 TempData，它只是短期会话）是最流行的选择。我的选择将取决于。Session 可能是最简单的，但是如果你部署到带有负载均衡器的服务器场，你需要考虑如果用户的 session 跳过物理机会发生什么。会话会保持不变吗？

正如杰里米所说，还有饼干。这里不用担心负载平衡，但语义比会话更难处理。例如，您必须先发送重定向以写入 cookie，然后才能读取它，而且我从不喜欢您必须添加过期 cookie 才能删除它的事实。由于此数据是您安全的一部分，您可能还想加密 cookie 值。

如果您使用缓存，则数据很可能最终仍会存在于内存中的某个位置，例如会话（除非您使用的是 SQL 会话提供程序）。缓存可能是我最后的选择，因为我们使用 Azure，而且它们的缓存不支持很多出色的 MVC 功能。您也有同样的问题，负载均衡器将用户移动到集群中的另一台机器，数据可能需要重新缓存。

无论哪种方式，您仍然应该为此使用操作过滤器，而不是基本的 Controller 类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T15:21:54.173

你在说什么类型的秤？我们是在谈论一百万用户还是几千？

我的第一个想法是创建一个字典，键是登录用户名（假设它是唯一的），值是关联帐户的数组（键或所有数据）。然后我会将字典放入缓存中。每当创建新关联时，它就会过期。

这种方法有几个问题。首先，新协会的创建速度有多快？如果它们不断被创建，那么缓存是一个有争议的问题。你总是要去数据库。其次，如果您有数百万用户/关联，将它们全部放入缓存可能不切实际。

另一种可能性是会话状态服务器，它专门用于存储关系。

还有一种可能性是每次都查询数据库，这取决于数据集的大小。当数据集增长到无法每次提取实时数据的规模时，您可以构建适合您需求的解决方案。

至于在请求之间持久化选定的帐户，选项是 cookie、url 或数据库（可以是用户上的一个字段，即 CurrentAccount，这种方法有点笨拙）。

由于您使用的是 MVC，因此我将使用 URL、路由和自定义路由约束，您可以创建一个包含帐户的 url。由于用户必须登录，因此您已经知道用户身份。

示例：[http ://www.acme.com/{account}/edit/](http://www.acme.com/%7Baccount%7D/edit/)

检查用户是否登录可以在 Global.asax 中的操作过滤器或 Application_AuthenticateRequest 中处理。身份验证在 ASP.NET 中实现得相当好。哎呀，很多都是由 web.config 中的配置值驱动的。

确认身份验证后，可以以相同的方法进行帐户重定向。或者您可以等待并签入操作过滤器。

# logging - eclipselink.logging.file 不适合我

> ID：10594918
> 
> 赞同：0
> 
> 时间：2012-05-15T05:59:59.880
> 
> 标签：logging, eclipselink

我在一个新项目中使用 Eclipselink 2.3.0，该项目部署在 EAR 文件中的 Glassfish 3.1.2 中。

这些是我的 persistence.xml 中定义的所有属性：

```
<property name="eclipselink.target-database" value="MySQL"/>
<property name="eclipselink.logging.logger" value="DefaultLogger"/>
<property name="eclipselink.logging.file" value="\logs\eclipselink.log"/>
<property name="eclipselink.logging.level" value="FINEST"/>
<property name="eclipselink.logging.parameters" value="true"/>
<property name="eclipselink.logging.timestamp" value="true"/>
<property name="eclipselink.logging.thread" value="true"/>
<property name="eclipselink.logging.session" value="true"/>
<property name="eclipselink.logging.exceptions" value="true"/> 
```

除了 eclipselink.logging.file 之外，所有属性都按预期工作。它会创建文件“\logs\eclipselink.log”，但它始终是空的，并且日志记录输出到标准输出。

我尝试从 DefaultLogger 更改为 JavaLogger，并将文件名更改为其他方向的斜线等。我尝试的所有操作都会导致一个空的日志文件，并且日志记录输出会转到 stdout。

关于为什么会发生这种情况的任何想法？在我看来，EclipseLink 正在正确读取属性并创建文件，但在某处输出被重定向到标准输出。

PS EAR项目中只有一个persistence.xml，并且这是Glassfish实例中部署的唯一项目。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T13:20:00.050

从处理属性的代码来看，它似乎可能是一个错误。您是否使用托管或应用程序托管的持久性单元？

我的猜测是，如果您创建自己的 DefaultSessionLog 子类，则将应用文件属性。您也可以尝试在 SessionCustomizer 中设置日志文件。

请记录一个错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-12T01:43:46.190

对以下内容持怀疑态度，我偷看了一下来源，但没有花时间完全“了解”它。我遇到了同样的问题，这就是我发现的（这是没有运行 GlassFish 的单元测试，所以在这种情况下是 Java SE）。

似乎 DefaultLogger 似乎只是记录到标准输出。我认为代码只能处理一个作家，也许标准输出总是最后一个作家集？

使用 JavaLogger，我一开始也发现它会创建 eclipselink.logging.file 文件，但不会在其中记录任何内容。我认为这是因为创建了文件流并将其提供给 JavaLogger，但它忽略了它。我认为它确实只是将所有内容传递给 java.util.logging 系统。所以我需要做的是使用 java.util.logging 属性来控制输出文件名（通过 java.util.logging.FileHandler）和日志量：

这是我的日志记录属性的子集（要传递到 JVM 或使用 LogManager.getLogManager().readConfiguration 手动加载）：

```
handlers= java.util.logging.FileHandler, java.util.logging.ConsoleHandler
java.util.logging.FileHandler.level = FINEST
java.util.logging.FileHandler.pattern = mylogfile%u.%g.log
java.util.logging.ConsoleHandler.level = FINEST
org.eclipse.persistence.default.level = FINE
org.eclipse.persistence.session.level = FINE 
```

同样在我的 persistence.xml 文件中，我不再设置 eclipselink.logging.file。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-02-25T11:26:13.443

> 此属性在 Java SE 环境中使用时适用。

来源：[https ://www.eclipse.org/eclipselink/documentation/2.5/jpa/extensions/p_logging_file.htm](https://www.eclipse.org/eclipselink/documentation/2.5/jpa/extensions/p_logging_file.htm)

对于 Java EE 应用程序，有“ServerLogger”。

[https://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging#Server_Logging](https://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging#Server_Logging)

# java - 将值从 servlet 传递到 html

> ID：10594919
> 
> 赞同：3
> 
> 时间：2012-05-15T06:00:01.313
> 
> 标签：java, html, jakarta-ee, servlets

我有一个 servlet，它处理来自网络的一些内容并生成一个字符串值。我需要在表格标记内的 html 页面中显示此字符串值。

如何使用 setAttribute 方法和 getrequestdispatcher 方法从 servlet 传递此字符串值？

谢谢阿布舍克 S

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-05-15T06:19:04.667

在您的`Servlet`，将数据设置为属性`request`：

```
RequestDispatcher dispatcher = request.getRequestDispatcher("yourJspPage.jsp");
request.setAttribute("Name", "Temp"); // set your String value in the attribute
dispatcher.forward( request, response ); 
```

在您的`jsp`页面中，访问如下`request`属性：

```
<table>
    <tr>
        <td><%=request.getAttribute("Name")%></td>
    </tr>
</table> 
```

希望这可以帮助！

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-15T06:03:08.710

您可以使用请求转发并将数据设置为请求中的属性，然后在 JSP 上呈现这些数据以生成 HTML，您可以将数据从 servlet 传递到 JSP（不是 HTML）

* * *

**看**

*   [小服务程序](https://stackoverflow.com/tags/servlets/info)
*   [JSP](https://stackoverflow.com/tags/jsp/info)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T06:26:05.910

首先创建一个`PrintWriter`对象，它将在 HTML 页面上产生输出。
这`response`是`HttpServletResponse`来自`doGet`或`doPost`方法的对象。

```
response.setContentType("text/html");  
PrintWriter out = response.getWriter();  
out.println("<html-code>") 
```

如果你想使用表格标签，那么你可以这样做

```
out.println("<html><body><table>...your code...</table></body></html>"); 
```

结果将显示在 HTML 页面上。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-14T15:02:27.790

假设您使用 jquery 从 html 发送 ajax get 请求。这是在 html 脚本中

```
$.get('HelloServlet', {a:'abc',b:'abc'}, function (data) {  
   alert(data);  
}); 
```

Servlet 中的这段代码

```
String str = "abc";
PrintWriter out = response.getWriter();  
out.write(str); 
```

当您的 servlet 成功执行时，您会在警报“数据”变量中获得“str”变量值。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-05-28T02:29:57.420

您可以通过将 servlet 值作为 HTML-JavaScript-content 传递，然后在 script 标记中访问该内容来做到这一点。

你可以试试这个：**在 Servlet 方法中**

PrintWriter out = response.getWriter(); out.print("var xyz = 20;");

**在 HTML 页面** 里面的脚本标签中：

var abc = xyz;

但是您必须在 HTML 页面中执行 servlet。在 tomcat 中，如果您有 servlet 映射，只需键入：

"<\script src="/servlet-name"></script>

# java - 如果与真实的 html 文件冲突，如何设置 spring 映射？

> ID：10594920
> 
> 赞同：0
> 
> 时间：2012-05-15T06:00:07.237
> 
> 标签：java, spring

我配置 spring 并将其映射到 *.htm，但它也适用于真正的 .htm 文件。所以我无法在我的 Web 应用程序中访问真正的静态 *.htm。我应该配置什么来解决这个问题？谢谢！

```
<servlet-mapping>
  <servlet-name>systemdispatcher</servlet-name>
  <url-pattern>*.htm</url-pattern>
</servlet-mapping> 
```

如果我尝试访问 index.htm 之类的静态 htm 文件，它将显示 404 错误。如何配置弹簧来解决问题？谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T06:04:54.093

你不能直接解决它，因为你有冲突的映射。但是您可以让 spring 读取 html 文件并将其输出给用户。

但是，一个建议是`.html`用于静态文件，因此不会有任何冲突。

除此之外，您还需要放置资源处理程序，以便从调度程序 servlet 中跳过静态内容。

```
<mvc:resources location="/resources/" mapping="/resources/**" /> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T06:25:30.423

我同意@Bozho 给出的解决方案。

但是还有另一种方法可以做到这一点。您可以指定可以从应用程序的特定路径提供静态内容的 ResourceHandler，而无需将请求传输到调度程序 servlet。

尝试在您的 servlet xml 文件中进行以下配置。

```
<mvc:resources location="/resources/" mapping="/resources/**" /> 
```

在这里，您可以替换静态 .htm 文件所在的路径。

希望这对您有所帮助。干杯。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T06:23:23.203

你有没有像这样在你的 spring 配置文件中设置视图解析器？

```
<!-- View Resolver -->
<bean id="viewResolver"
    class="org.springframework.web.servlet.view.UrlBasedViewResolver">
    <property name="viewClass"
        value="org.springframework.web.servlet.view.JstlView" />
    <property name="prefix">
        <value>/WEB-INF/pages/</value>
    </property>
    <property name="suffix">
        <value>.jsp</value>
    </property>
</bean> 
```

在上面的示例中，将 .jsp 更改为 .htm。之后，您可以在 web.xml 中使用您已经使用的任何 url 映射。

```
<servlet-mapping>
  <servlet-name>systemdispatcher</servlet-name>
  <url-pattern>*.htm</url-pattern>
  <url-pattern>*.do</url-pattern>
</servlet-mapping> 
```

它会起作用，因为您只会在控制器中给出视图名称，其余的由 Spring mvc 完成。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-15T07:12:31.133

您可以在 xml 文件中尝试以下架构定义。

```
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd
       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd
       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd 
       http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd"> 
```

可能存在您的 spring 版本冲突然后用您的版本替换版本的情况。

# mysql - 数据库已经填充运行后可以完成分片解决方案吗

> ID：10594921
> 
> 赞同：1
> 
> 时间：2012-05-15T06:00:32.350
> 
> 标签：mysql, database, scalability, sharding

我想知道是否有 MySQL 的分片解决方案可以应用于已经在云中运行的大型数据库。例如，我在 Amazon RDS 上有一个 500GB 的数据库，但现在我想使用一个分片解决方案（你会告诉我我希望哪一个），它可以使用分片来扩展我的数据库。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-09T06:11:41.790

你不能直接把它分成碎片。因为分片需要数据在物理上是分开的。在测试最适合您的解决方案后，您必须计划停机时间。

我推荐 scalebase。参考[http://www.scalebase.com/tag/mysql-sharding/](http://www.scalebase.com/tag/mysql-sharding/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-03T19:50:45.423

免责声明：我在[Clustrix工作](http://www.clustrix.com/)

ClustrixDB 专为您描述的用例而设计——随着数据库的增长，实时扩展您的数据库。ClustrixDB 是从头开始构建的（它不是 MySQL 附加解决方案），并且与 MySQL 兼容并且可在 AWS 上使用。由于您的数据集 ClustrixDB 在后台自动分发数据并在多个服务器之间分发查询，同时提供简单的 SQL 接口。

# javascript - 在javascript中循环一系列图像

> ID：10594925
> 
> 赞同：6
> 
> 时间：2012-05-15T06:00:52.677
> 
> 标签：javascript, loops

我想在 javascript 中循环一系列图像。下面是我到目前为止的代码

```
<html>
<head>
</head>

<body>
<img src="images/image1.jpg" alt="rotating image" width="600" height="500" id="rotator">

<script type="text/javascript">
(function() {
var rotator = document.getElementById('rotator');  // change to match image ID
//var imageDir = 'images/';                          // change to match images folder
var delayInSeconds = 1;                            // set number of seconds delay
// list image names
var images = ['1.jpg','2.jpg', '3.jpg', '4.jpg'];

// don't change below this line
var num = 0;
var changeImage = function() {
    var len = images.length;
    rotator.src = images[num++];
    if (num == len) {
        num = 0;
    }
};
setInterval(changeImage, delayInSeconds * 50);
})();
</script>
</body>
</html> 
```

它只能显示我在“var image”中声明的图像。如果我有 10000 张图片，该怎么做。我试过使用'for'循环，但失败了..有什么建议吗？？提前致谢

==================================================== =============

Joseph 推荐的更新版本：

```
<html>
<head>
</head>

<body>
<img src="images/1.jpg" alt="rotating image" width="600" height="500" id="rotator">

<script type="text/javascript">
(function() {
var rotator = document.getElementById('rotator'), //get the element
   var delayInSeconds = 1,                           //delay in seconds
   var num = 0,                                      //start number
   var len = 9999;                                      //limit
setInterval(function(){                           //interval changer
    num = (num === len) ? 0 : num;                //reset if limit reached
    rotator.src = num + '.jpg';                     //change picture
    num++;                                        //increment counter
}, delayInSeconds * 1000);
}());
</script>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-15T06:09:01.430

假设图像具有相同的顺序文件名，最好在循环其中很多时这样做：

```
(function() {
    var rotator = document.getElementById('rotator'), //get the element
        dir = 'images/',                              //images folder
        delayInSeconds = 1,                           //delay in seconds
        num = 0,                                      //start number
        len = N;                                      //limit
    setInterval(function(){                           //interval changer
        rotator.src = dir + num+'.jpg';               //change picture
        num = (num === len) ? 0 : ++num;              //reset if last image reached
    }, delayInSeconds * 50);
}()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T06:15:07.183

AFAIK，您可以使用相同的逻辑以小块显示图像，因为如果您尝试同时显示所有 10000 张图像，您的浏览器将崩溃。因此，使用当前逻辑在页面上显示 5-10 张图像并询问用户检索下一组。您可以在许多图像共享应用程序中看到这种实现。希望这对您有所帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-10-24T17:08:03.147

```
(function () {
var rotator = document.getElementById('rotator');  // change to match image ID
var imgDir = 'images/';          // change to match images folder
var delayInSeconds = 1;                         // set number of seconds delay    

// Yes I made changes below this line
var num = 0;
var changeImage = function () {
    rotator.src = imgDir + num++ + ".jpg";
    //var len = rotator.src.length;
    if (num == 5) {
        num = 0;
    }
};
setInterval(changeImage, delayInSeconds * 1000); 
```

})();

# android - 我怎样才能管理我的活动并正确完成它们？

> ID：10594927
> 
> 赞同：2
> 
> 时间：2012-05-15T06:01:05.603
> 
> 标签：android, android-activity

我是 android 新手，我的应用程序中总共有 6-7 个活动。我想知道当我像这样移动到 A->B->C->D 时，如何正确管理我的活动。那么我该如何移动未创建的这些活动的堆栈。

从一项活动转移到另一项活动时，我使用以下代码：

```
Intent intent=new Intent(current.this,next.class);
                startActivityForResult(intent, 0); 
```

现在，如果我想回到之前的活动，我使用的代码如下：

```
Intent start = new Intent(current.this,next.class);
                    startActivity(start);
                    finishActivity(0); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T06:12:43.863

是否有特殊原因不想使用活动堆栈并让活动自行处理？

Android 系统在 Activity 生命周期方面做得非常好。它允许您从不同的位置启动一个 Activity 而不会混淆用户，因为后退按钮会将用户带回到不同的 Activity。

如果您没有很好的理由不使用 Android 指南，请尝试坚持系统的运行方式。其他一切只会给你带来问题。

你开始活动是为了一个结果，但我如何理解你，你永远不会回到他们身上。

您可以启动一个 Activity，然后完成当前的 Activity。这样，活动就不会被放在后台堆栈上。现在您需要监听返回按钮的按下并创建您希望将用户带到的活动。

如果您想从 Activity A 移动到 D，例如进入应用程序的开始/主屏幕，请执行以下操作：

```
 Intent goBackToA = new Intent(context, StdActivity.class);
  goBackToA.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
  startActivity(goBackToA); 
```

标志 FLAG_ACTIVITY_CLEAR_TOP 将告诉系统，如果 backstack 包含 Activity 的实例，则将显示此活动，并且从 backstack 中删除当前活动和目标活动之间的所有活动。这使您可以返回家庭活动，而不会创建用户可以使用后退按钮移动的巨大循环。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T06:03:44.680

要回到上一个活动，您不必创建新的意图，您只需在应该消失的那个上调用 this.finish() 即可。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-15T06:06:33.547

要回到上一个活动，您不必创建新的意图，您可以简单地调用 this.finish() 在应该消失的那个上，或者您可以按 Back 按钮来查看上一个 Activity 。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-15T06:10:02.180

每当您想从一个班级导航到另一个班级时，请使用此代码，这可能会帮助您导航活动，

```
 Intent nextpage = new Intent(CurrentActivity.this,NextActivity.class);
    startActivity(nextpage);
    this.finish(); 
```

# php - 在 ruby 中使用 php 特定的存储时区

> ID：10594929
> 
> 赞同：1
> 
> 时间：2012-05-15T06:01:08.337
> 
> 标签：php, ruby

我们有一个基于 PHP 构建的应用程序。在应用程序中，我们提供了选择适当时区的选项，并且对于每个时区，我们在数据库中存储了相关的 php 时区标识符（如此[处](http://www.php.net/manual/en/timezones.others.php)指定）。

现在我们正在将与该应用程序相关的所有后端进程迁移到 Ruby，但我们现在面临的问题是如何处理时区，因为它们以 php 格式存储。如何在红宝石中使用它们？是否有库/宝石可以将 php 时区格式转换为 ruby​​ ？有没有类似 php 的 date_default_timezone_set 方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T06:47:10.790

正如 Andrew 建议的那样，最好的选择是尽可能完全摆脱 PHP 时区。下一个最好的事情是创建一个从 PHP 区域到类似`ActiveSupport`区域名称的映射。

您可以使用它来帮助您进行映射：
[http ://api.rubyonrails.org/classes/ActiveSupport/TimeZone.html](http://api.rubyonrails.org/classes/ActiveSupport/TimeZone.html)

对于那些在 PHP 之间不直接匹配的映射，`ActiveSupport::TimeZone`您必须手动创建映射。然而，PHP 规范中的区域并不多，因此正确的映射不应该是太多的工作。

**编辑**

您可以`ActiveSupport`单独包含到任何 Ruby 应用程序中。您甚至可以单独安装 gem ( `gem install activesupport`)。您不需要 Rails 应用程序就可以使用它。

但是，如果您想使用类似但与 Rails 无关的东西，您可以查看该`TZInfo`库：

[http://tzinfo.rubyforge.org/](http://tzinfo.rubyforge.org/)
[http://tzinfo.rubyforge.org/doc/](http://tzinfo.rubyforge.org/doc/)

没有标准的解决方案可以在 PHP 时区和 Ruby 时区之间进行转换。如果您正在迁移到 Ruby，那么开始将所有内容转换为`TZInfo`-type 数据。

# php - PHP strcmp 没有给出正确的输出

> ID：10594935
> 
> 赞同：1
> 
> 时间：2012-05-15T06:01:24.943
> 
> 标签：php, strcmp

> 我正在比较两个字符串，`strcmp(1,2)`我得到“-1” 1 我的代码在下面

```
 <?php
    echo strcmp(1,2);
   ?> 
```

输出：-1

![在此处输入图像描述](../Images/fea9a1687bb1f398e0a8b41670944644.png)

请让我知道为什么我会因为错误而得到 -1 以及如何处理它？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-15T06:02:47.467

1小于2，strcmp定义为返回：

> 如果 str1 小于 str2，则返回 < 0；> 0 如果 str1 大于 str2，如果它们相等则为 0。

因此，该行为是预期的。

* * *

请注意以下警告：

> 如果您依赖 strcmp 进行安全的字符串比较，则两个参数都必须是字符串，否则结果非常不可预测。例如，您可能会得到一个意外的 0，或者返回值为 NULL、-2、2、3 和 -3。

来自文档页面上的评论[`strcmp`](http://www.php.net/manual/en/function.strcmp.php#108563)。

* * *

PHP 充满了这种意想不到的行为。在您的情况下，我会确保将两个参数都转换为字符串以避免任何混淆：

```
$first = 1;
$second = 2;
echo strcmp((string)$first, (string)$second); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-15T06:06:33.540

当你传入一个 int 时，它会被转换为一个字符串，如下所示：

```
var_dump(strcmp('1', 2)); //-1 
```

它是 -1 的原因是因为使用最广泛的 strcmp 实现会找到第一个不相等的字符并返回差值。

换句话说，它本质上是 '1' - '2'，即 49 - 50（'1' 和 '2' 的 ASCII 码）。

49-50 为 -1。

编辑：不严格相关，但出于好奇，做了一些挖掘。这绝不是保证将来的行为，而是从 PHP 5.4 开始：

```
ZEND_FUNCTION(strcmp)
{
    char *s1, *s2;
    int s1_len, s2_len;

    if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "ss", &s1, &s1_len, &s2, &s2_len) == FAILURE) {
        return;
    }

    RETURN_LONG(zend_binary_strcmp(s1, s1_len, s2, s2_len));
}

ZEND_API int zend_binary_strcmp(const char *s1, uint len1, const char *s2, uint len2) /* {{{ */
{
    int retval;

    if (s1 == s2) {
        return 0;
    }
    retval = memcmp(s1, s2, MIN(len1, len2));
    if (!retval) {
        return (len1 - len2);
    } else {
        return retval;
    }
} 
```

它确实转换为字符串。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-15T06:04:08.620

你不会得到`false`。

从[手册](http://php.net/manual/en/function.strcmp.php)。

> 返回值
> 
> 如果 str1 小于 str2，则返回 < 0；> 0 如果 str1 大于 str2，如果它们相等则为 0。

# c++ - 类型类的向量（AddressBook 程序）

> ID：10594948
> 
> 赞同：0
> 
> 时间：2012-05-15T06:02:35.897
> 
> 标签：c++, class, vector

我正在开发一个地址簿程序，它从以下格式的 csv 文件中读取数据

“姓氏”、“名字”、“昵称”、“email1”、“email2”、“phone1”、“phone2”、“地址”、“网站”、“生日”、“便笺”

我已通过以下方式使用 getline 读取文件：

```
 if(!input.fail())
     { 
       cout<<"File opened"<<endl;
       while(!input.eof())
       {

     getline(input,list) ; 
     contactlist.push_back(list);
     token=con.tokenize(list);  // NOT SURE IF I'm doing this right..am I?

        }
    } 
```

我正在使用我的一个类联系人的 tokenize 成员函数，它看起来像这样

```
// member function reads in a string and tokenizes it
vector<string>Contact::tokenize(string line)
{
    int x = 0, y = 0,i=0;

string token;
vector<string>tokens;
while(x < line.length() && y < line.length())
{

    x = line.find_first_not_of(",", y);
    if(x >=0 && x < line.length())
    {

        y = line.find_first_of(",", x);
        token = line.substr(x, y-x);
        tokens.push_back(token);
        i++;
    }
}

} 
```

我现在需要将标记化的向量读入另一个类的私有向量成员变量，还需要将它们读入名字、姓氏的单个私有变量……Contact类的注释。如何将它们读入私有向量成员变量一个类类型，我将如何在成员函数中调用它们，这些函数将进行评估，例如使用向量添加联系人。

我总共有 2 个头文件 Contact 和 addressbook 以及它们各自的实现文件和一个 main.h 文件。

另外，如果您碰巧有一个清晰的概念，可以访问向量中的向量/向量的向量，例如我在 main 中有联系人列表和令牌

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T06:58:18.977

首先，您应该将 tokenize 函数与联系人类分开。读取 csv 行不是联系人的责任。所以将此方法提取到一个新的分词器类中，只需编写一个免费的分词器函数或使用类似[boost tokenizer](http://www.boost.org/doc/libs/1_49_0/libs/tokenizer/escaped_list_separator.htm)的解决方案。

使用生成的令牌，您可以创建联系人实例或将其传递给另一个类。

```
struct Contact
{
  std::string firstName, lastName, email;

  /// Constructor.
  Contact(const std::string& firstName, 
      const std::string& lastName, 
      const std::string& email);
};

struct AnotherClass
{
  /// Constructor.
  AnotherClass(const std::vector<std::string>& tokens) :
     privateVector(tokens)  {}

  /// Construction with input iterators
  template<typename Iter>
  AnotherClass(Iter firstToken, Iter lastToken) :
    privateVector(firstToken, lastToken) {}

private:
  std::vector<std::string> privateVector;
};

int main()
{
  std::string line = ReadLine();
  std::vector<std::string> tokens = tokenize(line);

  Contact newContact(tokens[0], tokens[1], tokens[2]);

  AnotherClass wathever(begin(tokens), end(tokens));
} 
```

# json - 如何在 ActionScript3 中解析 node.js REST api 对象

> ID：10594952
> 
> 赞同：0
> 
> 时间：2012-05-15T06:02:45.983
> 
> 标签：json, actionscript-3, node.js

我有 node.js REST api，它返回以下对象

```
[
       {
           "word": "word"
       },
       {
           "word": "ability"
       },
       {
           "word": "about"
       }
] 
```

有人可以让我如何在 ActionScript3 SDK4.6 中解析这个对象

提前致谢！！！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-15T06:25:57.063

JSON 解析包含在默认包中。

```
var json:Object = JSON.parse("[{\"word\": \"word\"},{\"word\": \"ability\"},{\"word\": \"about\"}]"); 
```

![json](../Images/c90f8926ee7ea95fc9db0c6f26e64c74.png)

默认的 JSON 解析比 as3corelib 实现的性能要高得多。

# javascript - JavaScript 中的绑定/应用构造函数

> ID：10594957
> 
> 赞同：12
> 
> 时间：2012-05-15T06:03:08.347
> 
> 标签：javascript, constructor, variadic-functions

我一直在寻找使用任意数量的参数调用 Javascript 构造函数的解决方案，并找到了一些不错的 SO 帖子，这让我相信这三个调用应该是一样的。但是，至少在 rhino 和 node.js 中，它们不会：

```
1\. f = Date.bind(Date, 2000,0,1)
2\. g = Date.bind.call(Date, 2000, 0, 1)
3\. h = Date.bind.apply(Date, [2000, 0, 1]) 
```

第一个具有预期的结果：

```
print(new f()) //=> Sat Jan 01 2000 00:00:00 GMT-0500 (EST) 
```

但其他两个没有：

```
print(new g()) //=> Thu Feb 01 1900 00:00:00 GMT-0500 (EST)
print(new h()) //=> Wed Jun 01 1904 00:00:00 GMT-0400 (EST) 
```

所以有些地方出了问题。想什么？`apply`将,`bind`和/或`call`与混合在一起是不是一个坏主意`new`？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2014-04-21T04:24:49.630

[先前接受](https://stackoverflow.com/a/10595069/227299)的答案不正确。您可以使用 bind、call 和 apply 构造函数来创建新的构造函数——测试中唯一的问题是您忘记了 bind.apply 和 bind.call 正在应用和调用*bind*，而不是构造函数本身，所以你给出了错误的论点。

```
f = Date.bind(null, 2000,0,1)
g = Function.bind.call(Date, null, 2000, 0, 1)
h = Function.bind.apply(Date, [ null, 2000, 0, 1 ])

new f() //=> Sat Jan 01 2000 00:00:00 GMT-0500 (EST)
new g() //=> Sat Jan 01 2000 00:00:00 GMT-0500 (EST)
new h() //=> Sat Jan 01 2000 00:00:00 GMT-0500 (EST) 
```

这三个都是`instanceof`日期。

调用的参数是执行上下文，后跟要应用的参数。Apply 的参数是执行上下文和参数数组。Bind 的参数是执行上下文，后跟要绑定的参数。

例如，要应用的参数是*应用* *绑定*的上下文（日期），后跟一个数组，该数组是绑定的参数*（*因此第一个数组成员是绑定的上下文参数）。这就是调用或应用绑定令人困惑的原因；为两者提供上下文参数感觉很奇怪。

请注意，当使用带有构造函数的绑定时，上下文参数总是被忽略，因为“new”显式地创建了一个新上下文。当上下文参数与保持清晰无关时，我使用 null ，但它可以是任何东西。

同时，这些示例中的 apply 和 call 确实需要知道它们要应用/调用绑定的上下文是 Date 函数。我在可能的情况下将“日期”切换为“功能”，以帮助阐明实际在哪里提供上下文。当我们在 Date.bind 上调用 apply 或调用时，我们实际上是在调用 apply 或调用未附加到 Date 对象的 bind 方法。这种情况下的 bind 方法可能来自任何函数。它可能是 Number.bind.call(Date, null, 2000, 0, 1) 并且结果将完全相同。

如果原因不明显，请考虑以下示例之间的区别：

```
context.method(); 
```

和

```
var noLongerAMethod = context.method;
noLongerAMethod(); 
```

在第二种情况下，该方法已经脱离了它的原始上下文（......除非它以前被绑定）并且如果它在内部依赖“this”将表现不同。*当我们将任何给定函数作为属性*拉出绑定时，而不是直接执行它，它只是另一个指向 Function.prototype 上的通用绑定方法的指针。

就我个人而言，我认为我从来不需要调用或应用 bind，而且很难想象它会成为一个好的解决方案的情况，但是绑定构造函数以创建新的构造函数是我发现有时非常有用的东西. 无论如何，这是一个有趣的谜题。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-15T06:15:06.547

`bind`and `apply`/`call`仅对**function 起作用**，但对**constructor**不起作用，因此基本上使用本机方法您不能这样做，一种方法是编写`bindConstruct`方法，但它可能涉及额外的复杂性：

```
function bindConstruct(fn) {
    // since constructor always accepts a static this value
    // so bindConstruct cannot specify this
    var extraArgs = [].slice.call(arguments, 1);

    // create a 'subclass' of fn
    function sub() {
        var args = extraArgs.concat([].slice.call(arguments));
        fn.apply(this, args);
    }
    sub.prototype = fn.prototype;
    sub.prototype.constructor = sub;

    return sub;
} 
```

实际上，这为您的构造函数创建了一个**子类。**

然后你的代码：

```
var MyClass = function(x, y) {
    console.log(arguments);
    console.log(x + y);
}
var BindedMyClass = bindConstruct(MyClass, 1, 2, 3);
var c = new BindedMyClass(4, 5);
console.log(c instanceof MyClass);
console.log(c instanceof BindedMyClass); 
```

您也可以将此函数写入本机函数`Function.prototype`或作为本机`bind`函数的扩展。

# extjs - 与 Sencha Architect 的预期协作工作流程是什么？

> ID：10594961
> 
> 赞同：11
> 
> 时间：2012-05-15T06:03:41.067
> 
> 标签：extjs, sencha-touch, sencha-touch-2, sencha-architect

我开始试用 Sencha Architect，我使用它的次数越多，我想到的关于它在开发环境中的实际可行性使用的问题就越多，我遇到的一个更大的问题是

在您无法在不同编辑器中编辑单个文件的环境中，多人如何协作开发网站的不同部分，例如

```
app/models|components|views/Model1.js  <- In charge of developer one
app/models|components|views/Model2.js  <- In charge of developer two. 
```

例如，在常规环境中，您可以使用 git 分发每个文件，但在架构师中，您不需要手动编辑文件（这很糟糕，因为架构师中没有公开配置文件等功能）。如果您手动编辑它们，它会导致问题，或者它可能会将您的代码覆盖回项目文件中的任何数据，所以我想知道与 Sencha 的正确或预期的协作工作流程是什么。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-12-21T09:24:52.610

阅读了上述帖子后，我仍然无法相信将 Sencha 元数据文件保存在代码存储库中并从元数据生成所有 JavaScript 适合大型项目。

Sencha Architect 的想法是让代码不保存在 javascript 文件中，而是保存在 JSON 元数据中，每当您需要编辑 JavaScript 代码时，您都必须使用 IDE 并编辑元数据。Phil Strong 说：“我们要求您继续使用 Architect 作为您的编辑器，并且使用 Git 或 SVN 与 20 名工程师一起这样做是完全安全的。”。当然，这个工作流程对 Sencha 来说是非常有利可图的，它迫使 20 个人使用授权的 Sencha Architect，因为要更改一行 JavaScript 代码，开发人员必须使用 Sencha Architect。

当两个人编辑同一个文件时，IDE 会更新元数据。然后他们将文件签入代码存储库，其中一个必须解决冲突，因此开发人员必须合并两个元数据文件，而不是 JavaScript 文件。

除非开发人员使用 Sencha Architect，否则不允许开发人员编辑 JavaScript 的整个想法适得其反，因为同一个人可以使用他最喜欢的 IDE 同时进行 Java 和 JavaScript 开发，或者 Python 和 JavaScript。在同一个 IDE 中进行客户端和服务器编程比在两个 IDE 之间切换要快。一个大项目的现实是，您在全球有多个团队使用不同的 IDE，您也可能有一个由承包商实施的短期项目，他也拥有他最喜欢的 IDE。

ExtJS 是一个设计良好的框架，你不需要 SenchaArchitect 来修改一行 JavaScript 代码。

使用 JavaScript 编码时，我保存我的 JavaScript 文件并刷新浏览器，然后立即查看更改。Sencha Archtect 增加了一个额外的步骤，它需要你发布 javascript（从元数据生成 JavaScript），并且项目越大，延迟越长。通常我必须在生产中修改 JavaScript 文件，有时更改一行可以解决问题，再次，我必须使用 Sencha Architect 从元数据重新生成这一行。

我只使用 Sencha Architect 进行快速原型设计，然后将生成的文件签入代码存储库并继续手动编辑 JavaScript。通过这种方法，我可以使用版本控制系统来查看 JavaScript 的历史。如果我将 JSON 元数据签入到 VCS 中，那么我将没有 JavaScript 的历史记录，我将拥有违反直觉的 JSON 元数据的历史记录。

我认为拥有 GUI 表单的元数据是可以的，但是 MVC 控制器级别也必须从元数据生成的限制是不行的。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-05-15T12:46:14.470

虽然我非常感谢 Sencha 在创建有用且功能齐全的开发环境方面所做的努力，但我认为 Sencha Architect 还没有为相对较大的项目和开发团队做好准备。

我最初的 Architect 软件对于快速原型设计和设计复杂的 UI 结构非常有用，但话又说回来 - 在你弄清楚你的 UI 元素将在 JS 文件中放置的方式之后 - 通常复制粘贴现有的 JS 代码会更容易和更快。

我认为这不是您要寻找的答案，我只是想分享我的想法。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-05-16T23:27:09.543

当我搜索相同的主题时，我发现`metadata/`目录是项目的重要内容，并且所有组件都被分离到它们自己的元数据文件中。这与根级项目文件一起，可能是版本控制的重要部分。保存时会`app/`重新生成，并且可能会从版本控制中排除。

主要的 xds 项目文件包含更通用的引用，并且可能比元数据组件更改的频率更低。但是当创建新组件或修改项目/应用程序级别设置时，它会发生变化。

理想情况下，如果您只签入根文件和元数据文件夹，它应该可以正常工作。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-05-24T14:12:27.890

使用 Sencha Architect 在具有源代码/版本控制的团队中工作非常容易。一个 Architect 项目都包含在一个项目目录中。里面由n个部分组成

1.  项目文件 - 由 Architect 用于打开和维护您的项目的少量数据组成。这是单个文件，您可以双击打开它

2.  元数据目录 - 由描述项目所有部分的文件组成。每个类（控制器、视图、模型、存储、资源）都将其信息存储在自己的文件中。 ![元数据](../Images/8d115d631eb589ff953d9dcfefe740dc.png)

3.  app 目录 - 包含您创建的项目的 src。每个类都有一个 javascript 文件。 ![应用程序](../Images/7c1dec3536f1ecc66e23fe12dc1d0cbc.png)

4.  其他根文件 - app.html 和 app.js，它们是应用程序的启动板，以及预览应用程序时运行的内容。这也是您的 packager.json、app.json 所在的位置。

我描述所有这些的目的是向您展示 Architect 生成的文件与您在最喜欢的编辑器中手动创建的文件几乎相同。唯一的附加信息是元数据和项目文件。元数据都是 JSON。

目前！！我们要求您继续使用 Architect 作为您的编辑器，并且使用 Git 或 SVN 与 20 名工程师一起这样做是非常安全的。当开发人员进行更改时，它会更改这些文件的元数据和应用程序。

![在此处输入图像描述](../Images/6df874742dedd1b87680c0b28481db7c.png) ![在此处输入图像描述](../Images/d860619a5409f8b9e8a6d4c38f7fa605.png)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-05-16T20:50:49.980

我在私信中向 Sencha 的 Aaron 提出了同样的问题。他建议检查整个项目结构，包括应用程序和元数据。它有效，我们在团队中做了一个流程。

# android - 如何在电子邮件活动中的“收件人”文本区域上设置文本

> ID：10594962
> 
> 赞同：1
> 
> 时间：2012-05-15T06:03:41.917
> 
> 标签：android

我做了一个活动![在此处输入图像描述](../Images/9cecec68f10db0b7209e594336445985.png)

在订阅按钮处，我必须将电子邮件发送到我的代码为的一些默认电子邮件：package sditm.app；

```
import android.R.string;
import android.app.Activity;
import android.content.ContentValues;
import android.content.Intent;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.os.Bundle;
import android.text.Html;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;
import android.widget.Toast;

public class subscribeActivity extends Activity {
/** Called when the activity is first created. */
EditText name,age,address;
databaseforsubscribe addressBook;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.subscribe);

    Button store = (Button)findViewById(R.id.button1);

    name=(EditText)findViewById(R.id.editText1);
    age=(EditText)findViewById(R.id.editText2);
    address=(EditText)findViewById(R.id.editText3);

    addressBook = new databaseforsubscribe(this,"addressDB",null,2);

    store.setOnClickListener(new OnClickListener() {
        public void onClick(View v) {
            // TODO Auto-generated method stub
            String s=new String();
            String m=new String();
            String n=new String();
            s=name.getText().toString();
            m=age.getText().toString();
            n=address.getText().toString();
            Intent i = new Intent(Intent.ACTION_SEND);
            i.setType("text/plain");

            i.putExtra(Intent.EXTRA_EMAIL, "aman4251@gmail.com");
        //  i.putExtra(Intent.EXTRA_EMAIL  , new String[]{"aman4251@gmail.com"});
            i.putExtra(Intent.EXTRA_SUBJECT, "subject of email");
            i.putExtra(Intent.EXTRA_TEXT   ,"NAME: "+s+" ; MOBILE: "+m+" ; EMAIL: "+n);
            try {
                startActivity(Intent.createChooser(i, "Send mail..."));
            } catch (android.content.ActivityNotFoundException ex) {
                Toast.makeText(subscribeActivity.this, "There are no email clients installed.", Toast.LENGTH_SHORT).show();
            }
        }
    });
}

} 
```

打开这样的意图![在此处输入图像描述](../Images/82daa12551465059e269b92f9f7edd77.png)

现在要么我必须将电子邮件 ID 设置为“收件人”文本框（并使其不可编辑”），或者自动单击该“发送”按钮，以便用户看不到此意图并且电子邮件在后台发送..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T06:26:45.963

嗨试试这段代码

```
 Intent sendIntent = new Intent(Intent.ACTION_SEND);
    // Add attributes to the intent
    sendIntent.putExtra(Intent.EXTRA_EMAIL, "");
    sendIntent.putExtra(Intent.EXTRA_CC, "");
    sendIntent.putExtra(Intent.EXTRA_SUBJECT, "");
    sendIntent.putExtra(Intent.EXTRA_TEXT, "");
    sendIntent.setType("text/plain");

    PackageManager pm = getPackageManager();
    List<ResolveInfo> activityList = pm
            .queryIntentActivities(sendIntent, 0);
    Iterator<ResolveInfo> it = activityList.iterator();
    boolean isEmailSetUp = false;
    while (it.hasNext()) {
        ResolveInfo info = it.next();
        if ("com.android.email.activity.MessageCompose"
                .equalsIgnoreCase(info.activityInfo.name)) {
            isEmailSetUp = true;
            sendIntent.setClassName(info.activityInfo.packageName,
                    info.activityInfo.name);
        }
    }
    if (isEmailSetUp) {
        startActivity(sendIntent);
    } else {
        AlertDialog.Builder dlgAlert = new AlertDialog.Builder(this);
        dlgAlert.setMessage("No Mail Accounts");
        dlgAlert.setTitle("Please set up a Mail account in order to send email");
        dlgAlert.setPositiveButton(getResources().getString(R.string.ok),
                null);
        dlgAlert.setCancelable(true);
        dlgAlert.create().show();
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T06:08:12.407

试试这个代码：

```
Intent i = new Intent(Intent.ACTION_SEND);
i.setType("text/plain");
i.putExtra(Intent.EXTRA_EMAIL  , new String[]{"recipient@example.com"});
i.putExtra(Intent.EXTRA_SUBJECT, "subject of email");
i.putExtra(Intent.EXTRA_TEXT   , "body of email");
try {
         startActivity(Intent.createChooser(i, "Send mail..."));
    } catch (android.content.ActivityNotFoundException ex) {
    Toast.makeText(MyActivity.this, "There are no email clients installed.",Toast.LENGTH_SHORT).show();
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T06:38:43.977

我不知道是否可以使电子邮件 ID 编辑文本不可编辑

但是您可以通过单击按钮在后台发送邮件

为此，请参阅此[链接](https://stackoverflow.com/a/2033124/1021695 "关联")

# cgi - 在 Unix 中调试 CGI 二进制文件的高效开源

> ID：10594967
> 
> 赞同：1
> 
> 时间：2012-05-15T06:03:56.603
> 
> 标签：cgi

我们的代码和二进制文件在 Unix 盒子里。很少有二进制文件用于 CGI 加载的 web 包。我在远程调试模式下使用 gdb 来调试普通二进制文件，但 web 二进制文件很难调试，因为每次二进制文件都会更改进程 ID加载和gdb分离。我听说在Visual Studio中有一个添加任务管理器和调试它的选项。但我担心如果我安装Visual Studio我的系统会变慢。任何其他可用于有效远程调试的开源工具的建议网络二进制文件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-13T19:59:47.967

你能做的最好的事情是对代码进行重构，这样你就可以在 CGI 上下文之外使用一些单元测试系统或类似的东西来测试它的大部分内容。

第二步是手动重放 CGI 通信。这并不复杂 - 设置所需的环境变量并最终在 gdb 下运行时通过管道将 POST 数据输入。

如果这对您没有帮助，您必须调试 Web 服务器并要求您的调试器跟踪子进程。最好的办法是使用该`-X`选项启动 httpd，以便它使用单个进程本身运行。然后附加gdb并设置`set follow-fork-mode child`命令。[请参阅http://sourceware.org/gdb/onlinedocs/gdb/Forks.html](http://sourceware.org/gdb/onlinedocs/gdb/Forks.html)上的 gdb 手册

# php - 使用 data:image/jpeg;base64 有什么风险？

> ID：10594968
> 
> 赞同：6
> 
> 时间：2012-05-15T06:04:03.003
> 
> 标签：php, base64, jpeg

我在自定义 CMS 中使用 TinyMCE 文本编辑器，我将图像拖到文本区域中，然后对齐它们。它们被赋予一个 data:image/jpeg;base64 值，它们在用户区域中完美显示。但是这样做有什么风险呢？这些图像是否在所有浏览器中呈现？我想有一些 SEO 问题需要考虑，但将它们存储在数据库中而不是文件夹中似乎是一个更好的系统。

你怎么看？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-15T06:14:52.970

*   IE7 及更早版本根本不支持`data:`URL。

*   IE8 不支持`data:`超过 32 KB 的 URL。（你感觉到这里的趋势了吗？）

*   Base64 编码的图像比原始存储时大 30%。

*   如果您在多个文档中重复使用图像，您最终会得到多个副本。如果将它们存储为文件，则可以在每个位置引用相同的文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T06:17:39.597

我相信这是最糟糕的主意。图像的大小不同，有些较小，有些很大。图像越大，浏览器就越难渲染它。HTML 代码越长，浏览器就越难以呈现。浏览器可能会冻结很长时间，这很烦人。

最好将图像保存为文件。

# jquery - 如果元素具有确切的文本，如何在单击时刷新页面？

> ID：10594969
> 
> 赞同：0
> 
> 时间：2012-05-15T06:04:07.207
> 
> 标签：jquery

我有一个链接，上面写着“添加到收藏夹”。默认情况下，当您单击此链接并登录时，您会转到确认页面，说明您的收藏夹已添加。如果您没有登录，它会将您带到登录屏幕。

如果您已经将该项目添加到您的收藏夹，则文本会显示“从收藏夹中删除”，并带有更新的链接以包含“？A=删除”。如果单击它，您将被重定向到确认删除收藏夹的页面。

现在我想做的是：

如果您未登录，则会收到警报消息。

如果您已登录 - 刷新页面（理想情况下，我想将“添加到收藏夹”更改为“收藏夹已成功添加”而不是刷新页面 - 但我不知道如何）。

如果您已经添加到收藏夹 - 刷新页面（理想情况下，我想将“从收藏夹中删除”更改为“收藏夹已成功删除”，而不是刷新页面 - 但我不知道如何）。

{module_isloggedin} 标签由我使用的系统生成。如果登录则生成“1”，如果未登录则生成“0”。

到目前为止，发生的只是错误消息-也许是因为我的 :contains 不起作用？

整个代码似乎太长太草率了。我还在学习 ：）

到目前为止，这是我的 jQuery，我还没有为“从收藏夹中删除”进行页面刷新。

/** 更新的代码有效，只是有点难看:) **/

```
jQuery('.add-favourites a').live('click', function(e){   
                    e.preventDefault();

        var loggedin = "{module_isloggedin}";

        if  (loggedin == 1) {
            var stringtocheckon = jQuery('.add-favourites a').html();

            if(stringtocheckon.indexOf('Add to Favorites')>=0) {
                $.ajax({
                        url: $(this).attr('href'),
                        data: { 'A': 'Add' },
                        cache: false,
                        success: function (data) {
                            document.location.reload(true);
                        }
                    });

            }else{
                if(jQuery(this).attr('href').indexOf("A=Remove") != -1){
                    jQuery.ajax({
                        url: jQuery(this).attr('href'),
                        cache: false,
                        success: function (data) {
                            document.location.reload(true);
                        }
                    });
                }else{
                    jQuery.ajax({
                        url: jQuery(this).attr('href')+"&A=Remove",
                        cache: false,
                        success: function (data) {
                            document.location.reload(true);
                        }
                    });
                }
    }
    }else{
        alert('You must be logged in to add favourites.');
    }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T07:17:42.033

使用 Jquery 库，要从元素内部获取值（字符串、文本或其他 html），我们可以使用 .html() 或 .text()；

```
var stringtocheckon = $('.box-content ul li').html(); 
```

然后检查

```
if(stringtocheckon.indexOf('Add to Favorites')>=0) { } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-15T06:35:38.580

```
 $('.add-favourites a').on('click', function (e) {
                e.preventDefault();
                var obj = $(this);

                //var loggedin = "{module_isloggedin}";
                var loggedin = "1";

                if (loggedin == 1) {
                    if ($(this).hasClass('AddToFavourites')) {
                        $.ajax({
                            url: $(this).attr('href'),
                            data: { 'A': 'Add' },
                            cache: false,
                            success: function (data) {
                                obj.removeClass('AddToFavourites').addClass('RemoveFromFavourites').text('Favorite added successfully');
                            }
                        });
                    } else {
                        $.ajax({
                            url: $(this).attr('href'),
                            data: { 'A': 'Remove' },
                            cache: false,
                            success: function (data) {
                                obj.removeClass('RemoveFromFavourites').addClass('AddToFavourites').text('Add to favorites');
                            }
                        });
                    }
                } else {
                    alert('You must be logged in to add favorites.');
                }
            });

<a href="Your Url" class="AddToFavourites">Add to favorites</a>
<a href="Your Url" class="RemoveFromFavourites">Favorite added successfully</a> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-15T18:32:34.523

不客气，贾斯汀，

你说代码有点难看 - 整理一下，自己创建一个函数来做 ajax 位......

```
function getmypageandreload(url,senddata) {
  $.ajax({
    url: url,
    data: { 'A': senddata },
    cache: false,
    success: function (data) {
    document.location.reload(true);
  }
}

 $(".yourelementclass").click(function() {

  var loggedin = "{module_isloggedin}";
  var url=$(this).attr('href');
  var senddata="";

   if (loggedin == 1) {
var stringtocheckon = $('.add-favourites a').html();
      if(stringtocheckon.indexOf('Add to Favorites')>=0) {
         senddata="Add";
      } else if($(this).attr('href').indexOf("A=Remove") != -1){    
         senddata = "Remove"; 
      }

    getmypageandreload(url,senddata);

    } else { alert('You must be logged in to add favourites.');  }
  });

 }); 
```

看起来您可以进一步减少“if else”；通过在这里设置默认的 senddata = "remove" 。看起来它只会添加或删除您正在使用的内容。

我没有运行上面的代码，但希望你能明白要点

抢

# wpf-controls - 哪种控件适合我的要求？

> ID：10594978
> 
> 赞同：0
> 
> 时间：2012-05-15T06:05:04.767
> 
> 标签：wpf-controls

在我的 WPF 应用程序中，我要求我有这样的窗口

实验室登录 ID： 实验室： 日期时间：

TestName----Result-----Units-----Flag---Ref. 范围----规格。来源-----每。地点

Lab AccessionID 与 Lab Order Table 绑定 Lab 与 LabPanel Table TestName 绑定，等绑定 Lab Result Table 中具有 Lab AccessionID 的所有行。

对于每个 Lab AccessionID，这种格式都是重复和绑定数据。

我必须使用什么数据控制？任何人都可以指导我吗？怎么做？

谢谢，拉姆基

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-17T11:25:35.487

如果你想重复显示绑定数据的格式，你应该使用 ItemsControl。

# cuda - 使用 CUDA 的矩阵乘法——错误的结果

> ID：10594980
> 
> 赞同：1
> 
> 时间：2012-05-15T06:05:11.433
> 
> 标签：cuda

我有以下用于矩阵操作的内核代码。矩阵 A = 1*3 和矩阵 B = 3*3 结果矩阵 C 将是 1*3。在下面的代码中，宽度为 3。

```
__global__void MatrixMulKernel(float* d_M,float* d_N,float* d_P,int Width) {
   int row = blockIdx.y * blockDim.y + threadIdx.y;
   int col = blockIdx.x * blockDim.x + threadIdx.x;
    if(row>=Width || col>=Width){  // matrix range
      return;
    }
   float P_val = 0.0f;
   for (int k = 0; k < Width; ++k) {
   float M_elem = d_M[row * Width + k];
   float N_elem = d_N[k * Width + col];
   P_val += M_elem * N_elem;
  }
 d_p[row*Width+col] = P_val;
} 
```

我内核代码调用如下

```
int block_size = 32;
dim3 dimGrid(Width/block_size, Width/block_size);
dim3 dimBlock(block_size, block size);
MatrixMulKernel<<<dimGrid, dimBlock>>>(d_M, d_N, d_P,3); 
```

但我得到了错误的结果。我的结果总是为零。谁能帮助我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-15T06:46:50.507

该代码看起来像它用于乘以相同大小的 2 个方阵。

宽度是第一个矩阵的列数。

您必须将此作为参数提供给函数。

# ssis - 如何从 ssis 中的查找转换中获取输入数据集

> ID：10594985
> 
> 赞同：0
> 
> 时间：2012-05-15T06:05:46.720
> 
> 标签：ssis

我有一个平面文件输入数据集，我需要使用查找转换将 3 列与查找转换中使用的参考数据集的输入进行比较。

执行查找操作操作后，我还需要获取输入列以及参考数据集列。

我用谷歌搜索，但我找不到任何从查找中获取输入数据集的方法。剩下的唯一解决方案是合并连接。我不想使用合并加入

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-15T13:35:27.100

输入列会自动添加到查找转换的输出管道中。您将能够在后续转换中引用它们。

# salesforce - 在 Salesforce 的 Visual Force 页面上嵌入 Scontrol

> ID：10594990
> 
> 赞同：0
> 
> 时间：2012-05-15T06:05:52.417
> 
> 标签：salesforce

我正在尝试通过标签将 scontrol 嵌入到 VF 页面中，但它给出了一个错误，即 scontrol 名称无效。我已经检查并确认我为 scontrol 提供了一个有效的 API 名称。请帮忙。我使用的顶点标签如下：

```
<apex:page>
    <apex:scontrol controlName="my_scontrol_API_name"/>
</apex:page> 
```

我得到的错误是 scontrol 名称无效。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T06:51:36.300

S-Controls 已弃用。我希望[这个链接](http://wiki.developerforce.com/page/S-Control_Deprecation)对你有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-15T14:19:22.320

这对我有用：

```
<apex:page>
    <apex:scontrol controlName="My_S_Control" />
</apex:page> 
```

您确定您使用的是*确切的*S-Control 名称吗？检查以确保在 Setup > Develop > S-Controls > [Your S-Control] 中。

# javascript - 使用 javascript 在 iPad Safari 上打开新标签页

> ID：10594991
> 
> 赞同：3
> 
> 时间：2012-05-15T06:05:57.900
> 
> 标签：javascript, ipad

我需要使用 javaScript 在 iPad Safari 上打开一个新的浏览器选项卡，我尝试了 window.open() 但它不起作用，我正在使用 iPad 2 和 iOS 5.1，任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T08:16:05.093

我认为您不能仅使用该`window.open`方法直接控制在新选项卡中打开新窗口；但是，您可以有一个带有属性的隐藏链接`target="_blank"`，然后在该锚点上使用 JavaScript 模拟单击​​事件。

# android - 未调用 Android DialogFragment onViewCreated

> ID：10594992
> 
> 赞同：46
> 
> 时间：2012-05-15T06:05:59.040
> 
> 标签：android, android-support-library, android-dialogfragment

我正在使用 android 兼容性库（v4 修订版 8）。在自定义 DialogFragment 中，未调用覆盖的方法 onViewCreated。例如。

```
public class MyDialogFragment extends DialogFragment{
    private String mMessage;
    public MyDialogFragment(String message) {
        mMessage = message;
    }

    @Override
    public Dialog onCreateDialog( Bundle savedInstanceState){
        super.onCreateDialog(savedInstanceState);
        Log.d("TAG", "onCreateDialog");
        setRetainInstance(true); 
        //....do something
    }

    @Override
    public void onViewCreated(View view, Bundle savedInstanceState) {
        Log.d("TAG", "onViewCreated");
        //...do something
    }
} 
```

onViewCreated 没有被记录。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-05-15T06:20:03.953

好吧，onViewCreated 状态的文档“在 onCreateView(LayoutInflater, ViewGroup, Bundle) 返回后立即调用”。

DialogFragment 使用 onCreateDialog 而不是 onCreateView，因此不会触发 onViewCreated。（这将是我的工作理论，我还没有深入到 android 源来确认）。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2019-09-05T03:18:51.900

这就是我确保在 kotlin 中调用 onViewCreated 的方式：

```
class MyDialog: DialogFragment() {

    private lateinit var dialogView: View

    override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {
        dialogView = LayoutInflater.from(context).inflate(R.layout.dialog, null)
        val dialog = MaterialAlertDialogBuilder(context!!)
                .setView(dialogView)
                .create()

        return dialog
    }

    // Need to return the view here or onViewCreated won't be called by DialogFragment, sigh
    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {
        return dialogView
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        // Yay it's now called!
    }

    override fun onDestroyView() {
        dialogView = null
        super.onDestroyView()
    }
} 
```

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2014-02-24T17:49:39.717

根据我的测试，`onViewCreated`如果 onCreateView 返回 null 则不会调用，这是默认行为，因此如果您不使用 onCreateView 而是手动调用`setContentView`in `onCreateDialog`，则可以手动调用`onViewCreated`from `onCreateDialog`：

```
@Override public Dialog onCreateDialog(Bundle savedInstanceState) {
    final Dialog d = super.onCreateDialog(savedInstanceState);
    d.setContentView(R.layout.my_dialog);
    // ... do stuff....
    onViewCreated(d.findViewById(R.id.dialog_content), savedInstanceState);
    return d;
} 
```

在这种情况下，请确保其中的根元素`my_dialog.xml`有`android:id="@+id/dialog_content"`

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2015-11-24T18:15:29.050

您可以从源代码中看到发生了什么：

首先，因为你不覆盖`onCreateView()`你的片段的视图将是空的。这可以从——默认返回的[源码`Fragment`](https://github.com/android/platform_frameworks_support/blob/master/v4/java/android/support/v4/app/Fragment.java)`null`中看出：

```
// android.support.v4.app.Fragment.java
@Nullable
public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container,
        @Nullable Bundle savedInstanceState) {
    return null;
} 
```

其次，由于您的 view 为 null ，`FragmentManager`因此不会调用`onViewCreated()`. 从[源代码`FragmentManager`](https://github.com/android/platform_frameworks_support/blob/master/v4/java/android/support/v4/app/FragmentManager.java)：

```
// android.support.v4.app.FragmentManager.java
if (f.mView != null) {
    f.mInnerView = f.mView;
    // ... 

    // only called if the fragments view is not null!
    f.onViewCreated(f.mView, f.mSavedFragmentState);
} else {
    f.mInnerView = null;
} 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2014-06-03T07:27:09.407

根据文档（[Selecting Between Dialog or Embedding](http://developer.android.com/reference/android/app/DialogFragment.html#Lifecycle)）并由我自己测试，您可以覆盖 OnCreateView，使用您的自定义布局对其进行膨胀并返回它。OnViewCreated 将启动

```
 @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState) {
           View view = inflater.inflate(R.layout.custom_layout, null);
           //do whatever        
           return view; 
    } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-11-03T10:57:36.140

该文档指出 onCreateDialog 将在 onCreateView （DialogFragment 文档）之前调用，onCreateView 将在 onActivityCreated （片段文档）之前调用。因此这将是调用流程：

```
onCreate
onCreateDialog
onCreateView
onActivityCreated 
```

因此，请在 onActivityCreated 中执行您在 OnViewCreated 中执行的操作，您应该已设置好。