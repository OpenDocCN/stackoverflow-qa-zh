# StackOverflow 问答 11304000-11304999

# c# - 将c#代码转换为Powershell是否容易（大约15行代码）

> ID：11304002
> 
> 赞同：1
> 
> 时间：2012-07-03T03:16:01.087
> 
> 标签：c#, powershell, sharepoint-2010, content-type, document-library

我在网上找到[了这段代码](http://blogs.msdn.com/b/cliffgreen/archive/2008/06/23/creating-a-link-to-a-document-item-in-a-sharepoint-document-library-programmatically.aspx)，想知道转换为 Powershell 是否容易。我收到此错误

```
Missing expression after ','.
At C:\AddaItem.ps1:60 char:73
+         $newFile = $docLibrary.RootFolder.Files.Add($newDestinationFolderPath, <<<<
UTF8Encoding.UTF8.GetBytes(builder.ToString()), $true)
    + CategoryInfo          : ParserError: (,:String) [], ParseException
    + FullyQualifiedErrorId : MissingExpressionAfterToken 
```

它似乎在抱怨这条线：

```
$newFile = $docLibrary.RootFolder.Files.Add($newDestinationFolderPath,UTF8Encoding.UTF8.GetBytes(build
er.ToString()), $true) 
```

这是整个代码：

```
if((Get-PSSnapin | Where {$_.Name -eq "Microsoft.SharePoint.PowerShell"}) -eq $null)
{
    Add-PSSnapin Microsoft.SharePoint.PowerShell
}
$SiteUrl = "http://portal.memorial.hermann/patient"
$web = Get-SPWeb $SiteUrl
$Library = "Unpaid Billing Records"
$docLibrary = $web.Lists[$Library]
$rootFolder = $docLibrary.RootFolder
$csvFile = "C:\\PowerShell\insurancefile.csv"
# $fileURL

foreach($i in Import-CSV $csvFile)
{
    $sourceFile = Get-ChildItem $i.DocLink
    $destinationFolderPath = $rootFolder.Url
    if($i.DestinationFolder -ne ""){
        $destinationFolderPath += "/" + $i.DestinationFolder.replace("\","/")

        $folders = $i.DestinationFolder.Split("\")

        $subFolder = $rootFolder
        foreach($f in $folders)
        {
            $testFolder = $subFolder.SubFolders[$f];
            if($testFolder -eq $null)
            {
                $subFolder = $subFolder.SubFolders.Add($f)
                "created new folder " + $f
            }
            else
            {
                $subFolder = $testFolder
            }
        }
    }
    $destinationFolderPath += "/" + $sourceFile.Name

    "copying " + $destinationFolderPath
    if($i.ContentType = "MasterDocument")
    {
        $itemType = $docLibrary.ContentTypes[$i.ContentType]
        $newFile = $docLibrary.RootFolder.Files.Add($destinationFolderPath,$sourceFile.OpenRead(), $true)
        $theItem = $newFile.Item
        $theItem["ContentTypeId"] = $itemType.Id
        # $fileURL = $theItem.Url
    }
    elseif($i.ContentType = "Link2Document")
    {
        $itemType = $docLibrary.ContentTypes[$i.ContentType]
        $newDestinationFolderPath = "/" + $i.fileNameASPX
        $newFile = $docLibrary.RootFolder.Files.Add($newDestinationFolderPath,UTF8Encoding.UTF8.GetBytes(builder.ToString()), $true)    
        $theItem = $newFile.Item
        $theItem["ContentTypeId"] = $itemType.Id
        $itemUrl = New-object Microsoft.SharePoint.SPFieldUrlValue      
        $itemUrl.Url = $i.fileLinkUrl
        $itemUrl.Descrition = $i.URLDESC
        $theItem["URL"] = $itemUrl      
    }

    # UPDATING METADATA 
    # $theItem["Name"] = $i.newfilename #Rename file name
    $theItem["Status"] = $i.Status
    $theItem["Title"] = $i.Title
    $theItem["Grantor"] = $i.Grantor

    $theItem.Update()
}

$web.Dispose() 
```

作为参考，这是我要转换的 C# 代码：

```
using ( SPSite siteCollection = new SPSite( "http://moss.litwareinc.com" ) ) {
    using ( SPWeb web = siteCollection.OpenWeb( "docs" ) ) {
        SPList list = web.Lists["Sample"];

        //link to the file
        string fileLinkUrl = "http://moss.litwareinc.com/docs/Shared%20Documents/ConfigureIRMinWSS30.doc";

        StringBuilder builder = new StringBuilder();

        using ( TextReader reader = new StreamReader( @"C:\linktodocumenttemplate.txt" ) ) {
            builder.Append( reader.ReadToEnd() );
        }

        //replace string template with values
        builder.Replace( "{0}", fileLinkUrl );

        //should change the name of the .aspx file per item
        SPFile file = list.RootFolder.Files.Add( "link_title.aspx", UTF8Encoding.UTF8.GetBytes(builder.ToString()));

        //set list item properties
        SPListItem item = file.Item;
        item["Content Type"] = "Link to a Document";
        SPFieldUrlValue itemUrl = new SPFieldUrlValue();
        itemUrl.Description = "From sample code";
        itemUrl.Url = fileLinkUrl;
        item["URL"] = itemUrl;
        //persist changes
        item.Update();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T13:11:31.553

这应该可以解决您遇到的错误：

```
$content = get-content "C:\linktodocumenttemplate.txt"
$utf = new-object System.Text.UTF8Encoding
$newFile = $docLibrary.RootFolder.Files.Add($newDestinationFolderPath, $utf.GetBytes($content.ToString()), $true) 
```

# objective-c - 禁止来自 iOS SDK 的 Valgrind 警告

> ID：11304003
> 
> 赞同：20
> 
> 时间：2012-07-03T03:16:01.977
> 
> 标签：objective-c, ios, macos, valgrind, suppress-warnings

我按照[这种方法](http://landonf.bikemonkey.org/code/iphone/iPhone_Simulator_Valgrind.20081224.html)在 iOS 应用程序上运行 Valgrind。不幸的是，与 iOS SDK 有关的警告几乎不可能找到与我的应用程序相关的任何警告。是否有针对 Valgrind 的 iOS 抑制列表，所以我不必自己生成它们？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-17T14:35:29.070

看起来您可能可以修改您的代码，`main()`以便它将正确的选项传递给 Valgrind。（请注意，这假设您正在运行 memcheck，这是默认选项，并且您似乎正在从您的 pastebin 运行）。

Valgrind/Memcheck 预计会报告您已有的库的错误，包括 Obj-C/iOS SDK。要禁止 Memcheck 报告错误，请使用以下命令：

这会自动生成抑制：`--gen-suppressions=yes`

* * *

您还可以/可能想要更深入地了解您不想看到的内容：

添加要考虑的抑制文件： `--suppressions=/path/to/file.supp.`

> 抑制类型（第二）行应具有以下形式：
> 
> `Memcheck:suppression_type`
> 
> Memcheck 抑制类型如下：
> 
> `Value1, Value2, Value4, Value8, Value16`，表示使用 1、2、4、8 或 16 字节的值时出现未初始化值错误。
> 
> `Cond (or its old name, Value0)`，表示使用未初始化的 CPU 条件代码。
> 
> `Addr1, Addr2, Addr4, Addr8, Addr16`，表示分别在 1、2、4、8 或 16 个字节的内存访问期间的无效地址。
> 
> `Jump`，表示跳转到无法寻址的位置错误。
> 
> `Param`，表示无效的系统调用参数错误。
> 
> `Free`，表示无效或不匹配的免费。
> 
> `Overlap`, 表示 memcpy 或类似函数中的 src / dst 重叠。
> 
> `Leak`，表示内存泄漏。

还要检查[Valgrind 文档中的抑制错误以](http://valgrind.org/docs/manual/manual-core.html#manual-core.suppress)获取更多信息。请注意，您可以拥有多个抑制文件，因此我只会编写您自己的文件，您以后可以随时删除。

* * *

但是，您可能想查看出现这些错误的*原因。*看起来它们中的很多都是 SDK，您可能想忽略它们 - 但可能在打开轨道来源（您已经完成）并检查您自己的代码以防万一之后。

未初始化值错误是您被警告未初始化值的地方（duh） - 但是，它仅在您有一个将产生影响的未初始化值时才会这样做，因为未初始化值还有其他用途。

通常，这些是允许传播的，直到您在“不应该”的地方使用它们。然后，只要您实际尝试使用它们，它就会报告这些值。

您已经知道可以打开`--track-origins=<yes|no>` （默认为 no）以找出它们来自哪里，并且看起来它们确实来自 SDK。对于那些不知道的人来说，`--track-origins`这真的很有帮助，因为当它关闭时，您只知道未初始化的值正在以“危险”的方式使用，但您不知道未初始化的值来自哪里。

请记住，如果`--undef-value-errors=no` 也在使用 Memcheck 将拒绝将此设置为 yes。

# python - 在 Python 2.3 中按最后 N 个字符对字符串列表进行排序

> ID：11304005
> 
> 赞同：7
> 
> 时间：2012-07-03T03:16:30.387
> 
> 标签：python, string, sorting, python-2.3

在较新的 Python 中，我可以使用该`sorted`函数并根据字符串的最后几个字符轻松地整理出字符串列表：

```
lots_list = ['anything']

print sorted(lots_list, key=returnlastchar)

def returnlastchar(s):     
    return s[10:] 
```

如何`lots_list.sort()`在较旧的 Python (2.3) 中实现上述功能？

“错误：当我尝试使用`sorted()`时，`the global name sorted is not defined`。”

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-03T03:27:20.157

[Schwartzian 变换](http://en.wikipedia.org/wiki/Schwartzian_transform)通常比使用参数更有效（`cmp`这是较新版本的 Python 在使用`key`参数时所做的）

```
lots_list=['anything']

def returnlastchar(s):     
    return s[10:] 

decorated = [(returnlastchar(s), s) for s in lots_list]
decorated.sort()
lots_list = [x[1] for x in decorated] 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-03T03:23:30.947

但是，我手头没有 python 2.3，根据这篇文章 [Sorting a list of lists by item frequency in Python 2.3](https://stackoverflow.com/questions/11084015/sorting-a-list-of-lists-by-item-frequency-in-python-2-3) [http://docs.python.org/release/2.3/lib/typesseq-mutable.html](http://docs.python.org/release/2.3/lib/typesseq-mutable.html) 这个方法应该也适合你。

```
def mycmp(a, b):
    return cmp(a[10:], b[10:])

lots_list.sort(mycmp) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-03T04:49:16.347

编写您自己的*sorted*版本并不难。这是一个插入式替换（不包括*cmp*参数）：

```
def _count():
    i = 0
    while 1:
        yield i
        i += 1

def sorted(iterable, key=None, reverse=False):
    'Drop-in replacement for the sorted() built-in function (excluding cmp())'
    seq = list(iterable)
    if reverse:
        seq.reverse()
    if key is not None:
        seq = zip(map(key, seq), _count(), seq)
    seq.sort()
    if key is not None:
        seq = map(lambda decorated: decorated[2], seq)
    if reverse:
        seq.reverse()
    return seq 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-03T03:41:59.840

您可以像这样编写自己的`sorted()`：

```
try:
    sorted
except NameError:
    def sorted(seq, key=None):
        lst = list(seq)  # get copy of list
        if key is not None:
            def my_cmp(a, b):
                return cmp(key(a), key(b))
        else:
            my_cmp = cmp
        lst.sort(my_cmp)
        return lst 
```

`sorted()`如果没有内置的，这只会定义你的 new `sorted()`。首先，我们尝试评估名称`sorted`，如果我们得到 a`NameError`我们定义自己的名称。我正在使用`map(None, seq)`一种快速的方法来从`seq`.

或者，如果我们想按照@gnibbler 的建议使用 Schwartzian 变换以获得最大效率：

```
try:
    sorted
except NameError:
    import operator as op
    def sorted(seq, key=None):
        if key is not None:
            lst = [(key(x), x) for x in seq]
            lst.sort()
            return map(lambda x: x[1], lst)
        else:
            lst = list(seq) # get list from sequence
            lst.sort()
            return lst 
```

# android - Android：如何制作自己的 EventListener？

> ID：11304008
> 
> 赞同：1
> 
> 时间：2012-07-03T03:17:33.833
> 
> 标签：android, event-listener

今天有人告诉我，我们可以在我们的 Android 项目中引入 MVC（或准 MVC）架构。我有一些类包含主要由用户输入的信息，我希望我的视图（假设它是`TextView`，为了讨论）显示它。我最初的想法是，每次我更新包含数据的类时，我都会调用一个方法来将其反映在我的`TextView`.

```
Data d = new Data();
TextView t = (TextView) findViewById(R.id.IamTextView);

// ....

d.setS("Foo");           //  <--- Data updated!
t.setText(d.getS());   //  <--- View updated, too! 
```

这无疑是蹩脚的，尽管只要数据更新的情况非常有限并且我们知道它们都在哪里就可以了，但我想尝试一些更酷更聪明的东西。所以我正在定义一个自定义`EventListener`...

```
public class Data {
    protected int i;
    protected double d;
    protected String s; 
    //Setter & Getter omitted!
}

public interface Data.onUpdatedListener {
    public void onUpdated (Data d);
}

public class TestActivitiy extends Activity implements Data.onUpdatedListener {

        Date[] d;

        //onCreate() omitted!

        @Override public void onUpdated (Data d) {
            // I want to reflect this change on my Views, like below.
            TextView t = (TextView) findViewById(R.id.IamTextView);
            t.setText(d.getS());
        }
} 
```

我知道我必须创建一个用作 Controller 的专用类，其作用是通知 Activity 发生了更新以及它是哪个对象（如果我将每个成员变量都设置`Data`为`onUpdated()`我只能将“差异”发送给 Activity，而不是整个对象）。

**我的问题 01：** 我不确定如何通知我的更新活动（换句话说，如何触发`onUpdated()`方法）。

**我的问题 02：** 我不确定如何确定对象已更新。如果有任何成员不同，我想通知它，但如何？我们是否应该始终保留对象的最新状态，并将其所有成员变量与当前变量的成员变量进行比较？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T03:28:16.943

在您要更新的类中`Data`，定义监听器并为监听器提供一个 setter 方法。

```
class Data {
    A a;
    B b;
    C c;

    //...constructor, setter, getter, etc
}

class A {
    Listener listener;

    interface Listener {
        void onUpdate(Data data);
        // another abstract method accepting A, B and C as parameters,
        // just an example and can be omitted if onUpdate(Data) is sufficient
        void onUpdate(A a, B b, C c);
    }

    public void setListener(Listener listener) {
        this.listener = listener;
    }

    public void update(Data data) { // the method that is to update the Data
        if (listener != null) {
            listener.onUpdate(data);
            listener.onUpdate(data.a, data.b, data.c);
        }
    }

    public void update(A a, B b, C c) { // another method to update the Data
        if (listener != null) {
            // Assume you have this constructor for Data,
            // just for the ease of understanding.
            listener.onUpdate(new Data(a, b, c));
            listener.onUpdate(a, b, c);
        }
    }
}

class B implements A.listener {
    // In somewhere
    setListner(this);

    @Override
    void onUpdate(Data data) {
       // your implementation
    }

    @Override
    void onUpdate(A a, B b, C c) {
       // your implementation
    }
} 
```

**EDITED** 在监听器中添加了另一个回调方法，用于演示监听器的使用。

# algorithm - 更好地设计我当前的算法

> ID：11304012
> 
> 赞同：4
> 
> 时间：2012-07-03T03:18:02.470
> 
> 标签：algorithm, math, statistics, compare, computer-science

我正在设计一个算法来比较两个对象，我有一个公式，但我不知道它是否尽可能好。

本质上，我正在比较两个游戏之间的比喻来说明它们有多相似：

```
$divisor = ((count($similar_concepts) - $iterator) + ($total - $iterator) + ($iterator));
echo "<BR> Value: ".($iterator / $divisor); 
```

但是，这不可读，所以这里是：

```
 SimilarTropes/( (OriginalTropes - SimilarTropes) + (NewTropes - SimilarTropes) + (SimilarTropes) ) 
```

我只是对结果并不完全满意，这里有一个例子：

```
Similarities: 47
NewTropes: 107
OriginalTropes: 156
Answer: 0.21759259259259 
```

我不喜欢这些结果，因为我觉得这些数字应该产生更高百分比的相似性。

我很想在这里提供一些意见，如果我在错误的地方，至少有一些关于我应该去哪里的指导。

非常感谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-03T03:44:21.473

# 数学翻译

让我（尝试）将你所拥有的东西翻译成一个更数学的公式。从那里应该更容易。

`OriginalTropes`是某个游戏的转义数，称之为`A`。然后`NewTropes`是其他游戏的比喻，称之为`B`。然后`Similarities`就是`A`和的交集`B`。你的公式是：

```
|Intersect(A, B)| / ((|A| - |Intersect(A, B)|) + (|B| - |Intersect(A, B)|) + |Intersect(A, B)|) 
```

简化，我们有：

```
|Intersect(A, B)| / (|A| + |B| - |Intersect(A, B)|) 
```

换句话说，您说的相似度是共同项目数除以项目总数减去共同项目数的比率。

现在让我们来看几个特殊情况。拿`A = B`。然后我们有：

`|Intersect(A, B)| = |A| = |B|`. 你的公式是：

```
|A| / (|A| + |A| - |A|) = 1 
```

# 限制

现在让我们说集合`A`和`B`大小相等。但是，他们只有一半的共同点。换句话说，

```
|A| = |B| = 2 |Intersect(A, B)| 
```

你的相似度得分是：

```
1/2 |A| / (2|A| - 1/2|A|) = 1/3 
```

理想情况下，这应该是`1/2`，而不是`1/3`。如果您考虑任何集合 where`|A| = |B| = n`和 where `|Intersect(A, B)| = n * p`for ，您会得到类似的结果`0 <= p <= 1`。

一般来说，对于上述形式的集合，您的相似性算法最终会低估两组之间的相似性。这看起来像下图中的紫色曲线。蓝色曲线是余弦相似度所给出的。因此，如果 50% 是常见的并且它们的大小相同，则这两个集合的相似性为`0.5`. 同样，如果它们有 90% 的共同点，那么它的相似性为`0.9`。

![在此处输入图像描述](../Images/d055eee47c4dd3507b03e8645f05f371.png)

# 余弦相似度

您可能希望的是类似于两组之间的角度。考虑整个元素集，`Intersect(A, B)`并定义`N = |Intersect(A, B)|`。让`a`和`b`是 和 的`N`维度表示`A`，`B`其中每个元素`1`如果存在于原始集合中或`0`不存在，则具有值。

然后你使用角度的余弦为：

`Cos(theta) = Dot(a, b) / (||a|| * ||b||)`

请注意，符号`||a||`指的是欧几里得长度，而不是集合的大小。这可能比您以前使用的具有更好的属性。

# 例子

这是一个例子。比方说：

```
 A = { "Big Swords", "Male Hero", "No Cars" }
 B = { "Male Hero", "Trains", "No Dragons" } 
```

然后完整的*不同*集`Union(A, B)`被给出为：

```
Union(A, B) = { "Big Swords", "Male Hero", "No Cars", "Trains", "No Dragons" } 
```

这意味着`N = |Union(A, B) = 5`. 棘手的一方变成了如何适当地索引这些中的每一个。您实际上可以使用字典和计数器来索引元素。我会把这个留给你试试。现在，我们将使用`Union(A, B)`. 然后`a`和`b`给出为：

```
a = { 1, 1, 1, 0, 0 }
b = { 0, 1, 0, 1, 1 ] 
```

在这一点上，它变成了标准数学：

```
Dot(a, b) = 1
|a| = sqrt(3)
|b| = sqrt(3)
Similarity = 1 / 3 
```

# 示例实现

```
public double Compare(IEnumerable<String> A, IEnumerable<String> B)
{
    // Form the intersection between A and B
    var C = A.Intersect(B);

    // a and b are N (C.Length) dimensional bi-valued (0 or 1) vectors
    var a = new List<int>(C.Length);
    var b = new List<int>(C.Length);

    var map = new Dictionary<String, int>();

    // Map from the original key to an index in the intersection
    for (int i = 0; i < C.Length; i++)
    {
        var key = C[i];
        map[key] = i;
    }

    // Set the 1's in the N-dimensional representation of A
    foreach (var element in A)
    {
        var i = map[element];
        a[i] = 1;
    }

    // And do the same for B
    foreach (var element in B)
    {
        var i = map[element];
        b[i] = 1;
    }

    int dot = 0;

    // Easy part :) Standard vector dot product
    for (int i = 0; i < C.Length; i++)
        dot += a[i] * b[i];

    // It suffices to take the length because the euclidean norm
    // of a and b are, respectively, the length of A and B
    return dot / Math.Sqrt((double) A.Length * B.Length);
} 
```

# knockout.js - 在 Knockout 中使用带有布尔值的 attr 绑定

> ID：11304013
> 
> 赞同：10
> 
> 时间：2012-07-03T03:18:30.090
> 
> 标签：knockout.js, knockout-2.0

我正在尝试从我的 viewModel 中的布尔值创建一个隐藏的表单字段。

```
 <tbody  data-bind="foreach: MediaFiles">
        <tr>
            <td>
                <input type="hidden" 
                        data-bind="attr: { value: MyBool }" />
            </td>
        </tr>
    </tbody> 
```

根据视图模型中的内容，我需要输入的值是“真”或“假”。为清楚起见，省略了其他属性。

使用淘汰赛的绑定功能完成此任务的最佳方法是什么？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-07-03T03:24:37.850

```
data-bind="attr: { value: MyBool ? 'true' : 'false' }" 
```

或者如果 MyBool 是可观察的：

```
data-bind="attr: { value: MyBool() ? 'true' : 'false' }" 
```

或者您可以使用[计算出的 observable](http://knockoutjs.com/documentation/computedObservables.html)：

```
MyBool = ko.computed(function(){

   return this.someValue() ? 'true' : 'false';

}, this); 
```

# javascript - setTimeout 可以使我的循环功能免于被视为无响应吗？

> ID：11304014
> 
> 赞同：1
> 
> 时间：2012-07-03T03:18:59.480
> 
> 标签：javascript, for-loop, settimeout, nested-loops

我有一些非常密集的 Javascript 代码，它触发了“无响应脚本”警告。每个编码步骤都必须按照它们编码的顺序发生。我想我已经找到了有问题的功能，但我不明白如何在不触发警告的情况下使其工作。

我在这里发现了一些可能有帮助的迹象 (setTimeout) [Javascript: Unresponsive script error](https://stackoverflow.com/questions/2686118/javascript-unresponsive-script-error) 但这真的很模糊，所以我一直在寻找。这是一个更好的例子，但我看不到在我的代码中实现这一点的方法。 [在密集的 JavaScript 处理过程中，如何将控制权（简单地）交还给浏览器？](https://stackoverflow.com/questions/210821/how-can-i-give-control-back-briefly-to-the-browser-during-intensive-javascript#210994) 原始文章 [http://www.julienlecomte.net/blog/2007/10/28/](http://www.julienlecomte.net/blog/2007/10/28/) 是所有帐户的天才，但我似乎无法在这里实施。

这是我认为导致拟合的代码。

```
// -----------------------------------
//  Output stats for all nations
//  by continent in a colon delimited
//  list further delimited by a ~
//  ( ContinentName:NationPower:NationHTML )
//  expects the output from the 
//  continent_stats function
// -----------------------------------

function Nations(ContinentData) {

    document.write("<tr><th>Nation Stats</th></tr><tr>"); // setup progress bar
    var NationString = ""; // init the string
    var Carray = ContinentData.split("*"); //continents
    for (cit = 0; cit < Carray.length; cit++) { // go through the continents
        var Cstat = Carray[cit].split(":"); // make an array of the individual continent stats
        var NumberOfNations = Cstat[4]; // nation #
        var ContinentName1 = Cstat[0]; // Continent Name
        document.write("<td class='ProgressBarText'>" + ContinentName1 + "</td><td class='ProgressBars'>"); // Format loader screen text
        for (nnum = 0; nnum < NumberOfNations; nnum++) { // go through the number of nations on the continent
            var nat1 = BuildCulture(); // build the nation
            var Natname= "Nation"+padLeft(nnum,2,"0"); // name the nation
            NationString = NationString + ContinentName1 + ":" + Natname + ":" + nat1 + "~"; // build the string
            document.write("█"); // add to progress bar
        }
        document.write("</td><td>"+NumberOfNations+ " Nations</td></tr>"); // progress bar complete
    }
    document.write("</table>"); // end the loader screen table
    // send the nation string back
    return NationString;
} 
```

所以你可以看到它在大陆之间循环并为每个大陆创建国家。BuildCulture() 函数是罪魁祸首。它本身工作得很好，但在大约 4 个大陆的过程中将 8 或 9 串在一起，警告就会消失。

我试过使用

```
setTimeout( function() { BuildCulture(); }, 1000); 
```

到处都是，在主代码部分，在 BuildCulture() 函数开始和结束，在 Nations(ContinentData) 函数中进出循环。它永远不会起作用。

我显然循环太多，但我需要每个循环。SetTimeout 会完全帮助我还是我在追逐错误的陈述？

如果 SetTimeout 是我的解决方案目标，我该如何在这段代码中实现它？

非常感谢。

*PS 我的目标只是让它在 Firefox 中工作，因此不需要与 IE 核心浏览器兼容。*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T06:03:23.113

好的，因为我无法在任何地方运行它，可能会有一些错误 - 但如果你需要使用超时，这是你想要的模式。

但是，鉴于您的代码的结构和风格，我的印象是您可能以错误的方式处理此问题。

例如，您的数据来自哪里？为什么你的结构化数据用字符串表示？您是否在客户端进行所有这些计算？是游戏吗？`buildCulture()`干啥这么久？无论如何，您或许应该研究一下 JSON 和异步加载（又名 AJAX）。

```
function Nation(continentData, renderNationComplete) {
  // begin our table
  var str = '<table>',
      continents = continentData.split('*');

  // use the `+=` operator to add string together
  str += '<tr><th>Nation Stats</th></tr><tr>';

  // This will act like a `for` loop - 
  // the difference is that we can control the iterations
  var continentsCount = 0;
  function renderContinents(){
    if(continentsCount < continents.length) {
      var stats = continent[continentsCount].split(':'),
          nNations = stats[4],
          cName = stats[0];

      str += '<td class="ProgressBarText">' + cName + '</td><td class="ProgressBars">';

      var nationCount = 0;
      function renderNation(){
        if(nationCount < nNations) {
          var culture = BuildCulture(),
              nName = "Nation" + padLeft(nationCount, 2, "0");

          str += cName + ':' + nName + ':' + culture + '~';
          str += '█'; // not precisely sure what this is for.

          nationCount++;
          // renderContinents won't proceed till we're done with all the 
          // renderNations for this particular continent.
          setTimeout(function(){ renderNation(); }, 1000);
        } else {
          // close up the rows
          str += '</td><td>' + nNations + ' Nations</td></tr>';
          nationCount++;
          // this timeout may not be necessary, you'll have to tweak the value.
          setTimeout(function(){ renderContinents(); }, 1000);
        }
      } renderNation();
    } else {
      str += '</table>';

      // everything is done, send it back.
      // note: this function does not return anything,
      // instead, it keeps on running asynchronously till
      // it's done, at which point it call the callback
      // that you pass in when it is instantiated.
      renderNationComplete(str);
    }
  } renderContinents();
}

// here we call the Nation function, and pass in another function
// that we want to be called when everything is done.
// in this case that function returns a string of html, that we can
// then add to the DOM.
Nation(data, function(html){
  var el = document.getElementById('tableArea');
  el.innerHtml(html);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T03:57:31.570

首先，浏览器是单线程应用程序。所有的事件、定时器和交互都是线性的，一步一步的。所以你不能产生新线程或进行并行计算。

`function Nations`从这个意义上说，如果您可以在 setTimeout 中剪切并调用它并为其提供先前的结果，那么 setTimeout 可能会有所帮助。但这不是最佳选择；）

* * *

第二，**不要碰DOM！！！**
JS 可能很快，但接触 DOM（getElements、document.write、innerHTML...）却很**慢**！

在您的情况下，重写`function Nations(ContinentData)`以输出一个字符串，您将 innerHTML 到某个 dom 元素。
关键是所有的计算和准备都将在（相对）快速的 JS 引擎中完成，结果将应用于非常慢的 DOM 或 innerHTML-ed。

或者您可以使用 DOM 对象来使用 createElem 和 addChild。没关系。两种方式都有优点和缺点，但都做同样的事情。

* * *

第三：尝试使用网络工作者。他们在模拟“线程”方面做得很好：http:
[//ejohn.org/blog/web-workers/](http://ejohn.org/blog/web-workers/)
[http://www.sitepoint.com/javascript-threading-html5-web-workers/](http://www.sitepoint.com/javascript-threading-html5-web-workers/)
[http://www .w3schools.com/html5/html5_webworkers.asp](http://www.w3schools.com/html5/html5_webworkers.asp)

# authentication - 私钥类型之间的区别？

> ID：11304017
> 
> 赞同：2
> 
> 时间：2012-07-03T03:19:21.993
> 
> 标签：authentication, key

我一直在对加密密钥/秘密的类型进行一些研究，但在理解上遇到了一些小问题。我一直无法区分可用的私钥类型。

如下所示：

*   私人签名密钥
*   私人认证密钥
*   私钥传输
*   私有静态密钥
*   私人授权密钥

在几个站点上，我已经看到了这些键的列表，但描述对我来说似乎都是一样的。如果有人对我有任何可用的阅读材料，将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-03T08:34:38.363

一组快速的描述，来自维基百科上非常有用的[Cryptographic Key Types](http://en.wikipedia.org/wiki/Cryptographic_key_types)页面（*斜体*是我的简单解释）：

**私钥签名密钥**是非对称（公钥）密钥对的私钥，公钥算法使用这些私钥生成数字签名以供长期使用……可用于提供身份验证、完整性和不可否认性。

*这可能是您的密钥，用于对您发送的数据进行签名，以证明是您发送了它并且数据没有被篡改。*

**私有身份验证密钥**是非对称（公共）密钥对的私有密钥，它与公共密钥算法一起使用，以确保信息的完整性，以及发起实体的身份或消息来源、通信会话、或存储的数据。

*这与第一个略有不同，因为没有不可否认的期望*

**私钥传输密钥**是非对称（公钥）密钥对的私钥，用于解密已使用公钥算法使用相关公钥加密的密钥。密钥传输密钥通常用于建立密钥（例如，密钥包装密钥、数据加密密钥或 MAC 密钥）以及可选的其他密钥材料（例如，初始化向量）。

*此类型和以下类型用于建立和解密用于加密数据的短期密钥*

**私有静态密钥协商密钥**是非对称（公共）密钥对的私有密钥，用于建立密钥（例如，密钥包装密钥、数据加密密钥或 MAC 密钥）以及可选的其他密钥材料（例如，初始化向量） .

*这种类型和前一种类型用于建立和解密用于加密数据的短期密钥*

**私有授权密钥**是用于向实体提供特权的非对称（公共）密钥对的私有密钥。

*用作令牌 - 即拥有此密钥的人可以访问这些文件/区域*

我希望这会有所帮助。

# mysql-python - 在雪豹上设置 mysql-python

> ID：11304019
> 
> 赞同：0
> 
> 时间：2012-07-03T03:19:32.453
> 
> 标签：mysql-python

我已经从 MacPorts 和 MySQL-python-1.2.3c1 在运行 Snow Leopard 的机器上成功安装了 py27-mysql。因为我在一个奇怪的位置（/usr/local/mysql/bin/mysql/）有 MySQL 5.1.48，所以我在安装 mysql-python 时必须编辑 setup.cfg 文件。但是，现在它已安装，当我在 python 中运行“import MySQLdb”时，我仍然收到错误“ImportError: No module named MySQLdb”。还剩下什么要安装？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-21T18:15:22.607

MacPorts 的 py27-mysql、MySQL-python 和 MySQLdb 都是同一事物的同义词。如果你成功安装了 py27-mysql，你应该不需要其他任何东西，而且你可能已经搞砸了你的 python 站点包。此外，请确保您调用的是正确的 python 二进制文件，即 MacPorts 的 python27，而不是 Mac OS X 附带的那个。

# excel - Excel 日期格式问题 (00/01/1990)

> ID：11304023
> 
> 赞同：0
> 
> 时间：2012-07-03T03:20:00.090
> 
> 标签：excel, vba, date

我只是想将 0（实际上是日期格式 = 00/01/1990）替换为 NA

所以我已经录制了宏。我在不同的文件中检查了该宏，但它无法正常工作。如果我单击`F2`每个单元格，然后我尝试重新运行宏，那么它工作正常。任何其他跳过`F2`每个范围的方法（有数千个范围）.. 例如，如果 A1、B1、A2 和 B2 有 00/01/1900 当我运行下面的宏时它不能正常工作.. 然后我试过了再次按下`F2`每个单元格重新运行宏..然后它运行良好

代码 ：

```
Range("A1").Select

Range(Selection, Selection.End(xlDown)).Select

Range(Selection, Selection.End(xlToRight)).Select
Selection.Replace What:="00/01/1900", Replacement:="N/A", LookAt:=xlPart _
    , SearchOrder:=xlByRows, MatchCase:=False, SearchFormat:=False, _
    ReplaceFormat:=False
Range("AW1").Select 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-03T07:40:20.220

如果您尝试在整个工作表中替换，那么您可以使用它而不是每次都定义您的范围

```
Sub Sample()
    With Sheets("Sheet1")
        .Cells.Replace What:="00/01/1900", Replacement:="N/A", LookAt:=xlPart, _
        SearchOrder:=xlByRows, MatchCase:=False, SearchFormat:=False, _
        ReplaceFormat:=False
    End With
End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T12:27:20.533

首先，我认为 Siddharth Rout 的答案可能是您正在寻找的，但也许这也可能有帮助？

您正在查看的日期确实为零，对吗？您可以在单独的列中的公式中测试和处理这些单元格（也就是说，如果您不希望自动执行此解决方案）。

例如，如果您的日期在 A 列中，而这也是您看到“00/01/1900”的地方，就像在 B 列中添加一个公式一样。类似于：

```
=IF(A1=0, "N/A", A1) 
```

然后，您可以复制 B 列中的结果并将它们的特殊值粘贴到 A 列 - 有效地将您的 0 转换为 N/A。

# android - 发送电子邮件不会自动填充主题

> ID：11304027
> 
> 赞同：0
> 
> 时间：2012-07-03T03:20:33.550
> 
> 标签：android, email

我有点困惑为什么这不起作用。

```
Submit.setOnClickListener(new View.OnClickListener() {
            public void onClick(View v) {
                Intent emailIntent = new Intent(android.content.Intent.ACTION_SEND);

                emailIntent.putExtra(android.content.Intent.EXTRA_EMAIL, new String[]{ "RJRandolph16@gmail.com" } );

                emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, new String[]{"Rob Won"} );
                //emailIntent.putExtra(android.content.Intent.EXTRA_TEXT, new String[]{"Testing 1 2 3" +
                //      "                                                               Testing 1 2 3"} );
                emailIntent.setType("text/plain");

                Activity.this.startActivity(emailIntent);
                }               }
        }); 
```

我正在使用我的设备作为我的模拟器，使用版本 2.2。每次我输入“电子邮件”客户端或“Gmail”客户端时，都不会填充电子邮件的主题行。如果这可行，我希望同样的逻辑也适用于自动填充消息，对吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T03:27:50.113

您可能不需要将主题设置为字符串数组，这对我有用，看看它是否适合您：

```
 emailIntent.putExtra(Intent.EXTRA_TEXT, "Content of the email body");
 emailIntent.putExtra(Intent.EXTRA_SUBJECT, "Email Subject");
 emailIntent.setType("message/rfc822"); 
```

# php - 如何为 HTML 表单构建器创建逻辑语法

> ID：11304029
> 
> 赞同：2
> 
> 时间：2012-07-03T03:20:56.793
> 
> 标签：php, html, forms

如果您知道任何类似的开源项目，我很乐意查看源代码。我正在寻找的示例。您自定义构建一个看起来类似于

姓名：
地址：
邮政编码：
性别：男/女
（现在在这个字段中，我希望管理员能够定义一个逻辑标准，如果性别是女性，那么应该提出一些问题，如果是男性，则会出现其他问题）。这将动态完成，因为我不知道客户构建了什么。

女性问题一：（客户提出的逻辑语法是`[gender] = 'female'`）

那么我将如何实施这样的事情。如果它是在 PHP 中，我会更喜欢，但其他语言会很好。

这是一张图片，这将由用户输入，我必须对其进行解析。 ![在此处输入图像描述](../Images/e8e932badb8fd25ffcf7b63cdedc97b1.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-06T09:48:37.097

```
$string = "[var_1] = '1' or [var_2] = '2' or [var_3] = '3'";

$pattern = "([\[]+[a-z0-9_]+[\]]+[ ]?+[=]+[ ]?+[\']+[0-9]+[\'])";
preg_match_all($pattern, $string, $string);
var_dump($string); 
```

`var_dump()`将打印以下内容：

```
array (size=1)
  0 => 
     array (size=3)
       0 => string '[var_1] = '1'' (length=13)
       1 => string '[var_2] = '2'' (length=13)
       2 => string '[var_3] = '3'' (length=13) 
```

模式将匹配`[var_1] = '1'` **和** `[var_1]='1'`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T02:31:24.670

听起来您想构建一个调查类型的工具，人们可以在其中创建自定义表单。如果我理解它，您需要构建几块来获得您想要的东西：

1.  一种让人们指定在什么条件下出现字段的方法（您提供了屏幕截图 - 我假设这是一个示例/模型）。

2.  人们可以用来指定他们的条件的标准化语言。

3.  一个解析器，它将解释用户输入的内容，并将其转换为一些标准表示

4.  一个编译器，它将将该标准表示转换为显示/隐藏问题的代码。

您还必须做出一些设计决策，它们将决定您可以使用哪些语言。例如，如果仅在单击“下一步”按钮时显示/隐藏问题就足够了，那么您可以单独在 PHP 中执行此操作。如果您需要在单击下一步之前在同一网页上动态隐藏问题，则需要使用 javascript 或类似的。

[对于第 3 部分和第 4 部分，用 Javascript 编写的 Lexer 中](https://stackoverflow.com/q/1823612/43452)有一些有用的答案吗？(javascript)[什么是好的 php 解析器生成器？](https://stackoverflow.com/q/3720362/43452)(php) 这可能会为您指明正确的方向。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T16:31:09.017

```
<form>
    <!-- some input fields here -->
    <select id="gender" name="gender">
        <option selected="selected" disabled="disabled">Gender?</option>
        <option>Male</option>
        <option>Female</option>
    </select>
</form>

<script language="javascript">
$("#gender").change(function() {
    if($("#gender").val() == "Male")
    {
        // display MALE questions
    }
    else
    {
        // display FEMALE questions
    }
});
</script> 
```

现在您可以使用 AJAX 调用 PHP 文件，从数据库中选择问题，然后使用 JavaScript ( [element.innerHTML](http://www.tizag.com/javascriptT/javascript-innerHTML.php/) ) 显示它或手动显示它，而无需调用另一个文件并使用数据库。

这是它的样子：[jsFiddle](http://jsfiddle.net/AW9kB/)。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-07-05T16:21:48.617

[这是我过去使用的一个 jQuery 插件。](http://www.appelsiini.net/2010/jquery-chained-selects) 根据我的经验，效果很好！该技术称为“表单链接”，如果此解决方案不起作用，我相信您可以在 Google 上找到有关它的更多信息。

# objective-c - 如何从objective-c登录到电子邮件提供商？

> ID：11304033
> 
> 赞同：1
> 
> 时间：2012-07-03T03:21:21.883
> 
> 标签：objective-c, cocoa, email, email-client

我正在开发一个在应用程序中使用电子邮件登录表单的应用程序。

我的目标是让应用程序从文本字段中获取字符串（非常简单），然后以某种方式将其发布到电子邮件提供商网站的登录表单中，有人知道我该怎么做吗？如果没有，有没有人有任何我觉得有用的链接？

PS 我正在为 Mac OSX 而不是 iPhone 编写这个电子邮件客户端。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T03:44:31.297

这通常不是您想要的方式。

电子邮件客户端使用[SMTP](http://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol)、[POP3](http://en.wikipedia.org/wiki/Post_Office_Protocol)或[IMAP](http://en.wikipedia.org/wiki/Internet_Message_Access_Protocol)等协议访问/发送用户的电子邮件，而不是通过与电子邮件提供商的 Web 界面交互。

您可以尝试使用像[VMime](http://www.vmime.org/)这样的库，它应该可以让您使用上述协议连接到用户的邮箱。

# excel - 使用设置工厂自动安装和启用 Excel 加载项

> ID：11304034
> 
> 赞同：3
> 
> 时间：2012-07-03T03:21:29.540
> 
> 标签：excel, installation, add-in, vba

我有一些 VBA 代码并将其保存为 Excel 插件。我需要一种自动安装此 Excel 插件的方法。我想创建一个安装程序，以便我的用户可以运行安装程序来安装加载项。

我正在按照[本指南](http://www.jkp-ads.com/articles/AddinsAndSetupFactory.asp)自动安装加载项。

但我不明白如何使用 Setup Factory 作为指南添加脚本。例如，如何使用 Setup Factory 插入此脚本？

```
--Check whether Excel is opened.
sValues = Window.EnumerateTitles(true);

--Next line has SetupFactory 8 code
--for iCount, sValue in sValues do

for iCount, sValue in pairs(sValues) do
    if String.Find(sValue, "Microsoft Excel", 1, true)>0 then                   
        Dialog.Message("Error", "First close Microsoft Excel."..
                        String.Char(10)..String.Char(10)..
                        "Uninstaller will now abort.",
                        MB_OK, MB_ICONINFORMATION);
        -- Make sure the process ends with a value other than 0
        -- so the uninstall can be performed again.
        Application.Exit(EXIT_REASON_USER_ABORTED);
    end;    
end; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T07:16:10.133

在“任务”窗口中，选择“操作”->“启动时”并插入脚本。其他脚本组件需要插入到其他操作窗口中。

# java - 无法启动活动 - NullPointerException

> ID：11304035
> 
> 赞同：1
> 
> 时间：2012-07-03T03:21:52.390
> 
> 标签：java, android, nullpointerexception

我似乎无法追踪这个错误的罪魁祸首。这是我的整个活动：

```
public class CalendarActivity extends Activity implements OnClickListener {

private GestureDetector mGestureDetector;
private ProgressDialog mProgressDialog;
private int mGridWidth, mGridHeight;
private MonthlyCalendarWidget mMonthlyCalendar;
private Button mNext;
private Button mPrev;
private CalendarGridAdapter mDayGridAdapter;
private CalendarEventsListAdapter mEventsListAdapter;
private CalendarAssignmentsListAdapter mAssignmentsListAdapter;
private Calendar mCalendarSource;
private String mMonthId;
private int mMonth, mYear;
private CalendarDbAdapter mCalendarDb;
private CalendarSQLiteAdapter mCalendarSQL;
private CalendarEventData mCalendarEvent;
private ArrayList<CalendarEventData> mEventsList;
private CalendarAssignmentData mCalendarAssignment;
private ArrayList<CalendarAssignmentData> mAssignmentsList;

public ArrayList<CalendarEventData> getCalendarEventData() throws Exception {
    ArrayList<CalendarEventData> eventsList = CalendarDbAdapter
            .getCalendarEvent("2011", 9, 36, "ParentAndroidSerpong");
    return eventsList;

}

public void cacheCalendarEventData(ArrayList<CalendarEventData> data) {
    for (int i = 0; i < data.size(); i++) {
        mCalendarSQL.addEvents(data.get(i));
    }
}

private SimpleCursorAdapter fillEventData() {

    Cursor c = mCalendarSQL.fetchAllEvents();
    startManagingCursor(c);

    String[] from = new String[] { CalendarSQLiteAdapter.KEY_EVENTS_NAME, CalendarSQLiteAdapter.KEY_EVENTS_START_DATE };
    int[] to = new int[] { R.id.monthlylistchip_texttop, R.id.monthlylistchip_textbottom };

    return new SimpleCursorAdapter(this, R.layout.monthly_listchip, c, from, to);

}

public ArrayList<CalendarAssignmentData> getCalendarAssignmentData()
        throws Exception {
    ArrayList<CalendarAssignmentData> assignmentList = CalendarDbAdapter
            .getCalendarAssignment("0970001931", "2011", "4", 36,
                    "ParentAndroidSerpong");
    return assignmentList;

}

public void cacheCalendarAssignmentData(
        ArrayList<CalendarAssignmentData> data) {
    for (int i = 0; i < data.size(); i++) {
        mCalendarSQL.addAssignments(data.get(i));
    }
}

private void updateView(int month, int year) {
    mDayGridAdapter = new CalendarGridAdapter(this,
            R.id.monthly_gridchip_date, mGridWidth, mGridHeight, month,
            year);

    mEventsListAdapter = new CalendarEventsListAdapter(this,
            R.layout.monthly_listchip, mEventsList);

    mAssignmentsListAdapter = new CalendarAssignmentsListAdapter(this,
            R.layout.monthly_listchip, mAssignmentsList);

    mCalendarSource.set(year, month - 1,
            mCalendarSource.get(Calendar.DAY_OF_MONTH));

    mMonthId = (String) DateUtils.getFormattedDateString(
            mCalendarSource.getTime(), DateUtils.MONTH_AND_YEAR);

    mMonthlyCalendar.instantiate(this, mMonthId, mDayGridAdapter,
            fillEventData(), mAssignmentsListAdapter);
}

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.main);

    mGridHeight = ScreenUtils.getDisplayHeight(this) / 10;
    mGridWidth = ScreenUtils.getDisplayWidth(this) / 7;

    mNext = (Button) findViewById(R.id.monthlyview_header_monthnext);
    mNext.setOnClickListener(this);
    mPrev = (Button) findViewById(R.id.monthlyview_header_monthprev);
    mPrev.setOnClickListener(this);

    mCalendarSQL = new CalendarSQLiteAdapter(this);
    mCalendarSQL.open();

    try {
        cacheCalendarEventData(getCalendarEventData());
    } catch (Exception e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

    mCalendarSource = Calendar.getInstance(Locale.getDefault());
    mMonth = mCalendarSource.get(Calendar.MONTH) + 1;
    mYear = mCalendarSource.get(Calendar.YEAR);

    updateView(mMonth, mYear);

}

@Override
public void onClick(View v) {
    if (v == mPrev) {
        if (mMonth <= 1) {
            mMonth = 12;
            mYear--;
        } else {
            mMonth--;
        }
        updateView(mMonth, mYear);
    } else if (v == mNext) {
        if (mMonth > 11) {
            mMonth = 1;
            mYear++;
        } else {
            mMonth++;
        }
        updateView(mMonth, mYear);
    }

}

} 
```

这是错误的 LogCat 条目：

```
07-03 09:58:29.112: E/AndroidRuntime(5185): FATAL EXCEPTION: main
07-03 09:58:29.112: E/AndroidRuntime(5185): java.lang.RuntimeException: Unable to start activity ComponentInfo{stub.binusitdirectorate.calendar/stub.binusitdirectorate.calendar.controller.CalendarActivity}: java.lang.NullPointerException
07-03 09:58:29.112: E/AndroidRuntime(5185):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
07-03 09:58:29.112: E/AndroidRuntime(5185):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
07-03 09:58:29.112: E/AndroidRuntime(5185):     at android.app.ActivityThread.access$2300(ActivityThread.java:125)
07-03 09:58:29.112: E/AndroidRuntime(5185):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
07-03 09:58:29.112: E/AndroidRuntime(5185):     at android.os.Handler.dispatchMessage(Handler.java:99)
07-03 09:58:29.112: E/AndroidRuntime(5185):     at android.os.Looper.loop(Looper.java:123)
07-03 09:58:29.112: E/AndroidRuntime(5185):     at android.app.ActivityThread.main(ActivityThread.java:4627)
07-03 09:58:29.112: E/AndroidRuntime(5185):     at java.lang.reflect.Method.invokeNative(Native Method)
07-03 09:58:29.112: E/AndroidRuntime(5185):     at java.lang.reflect.Method.invoke(Method.java:521)
07-03 09:58:29.112: E/AndroidRuntime(5185):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
07-03 09:58:29.112: E/AndroidRuntime(5185):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
07-03 09:58:29.112: E/AndroidRuntime(5185):     at dalvik.system.NativeStart.main(Native Method)
07-03 09:58:29.112: E/AndroidRuntime(5185): Caused by: java.lang.NullPointerException
07-03 09:58:29.112: E/AndroidRuntime(5185):     at stub.binusitdirectorate.calendar.controller.CalendarActivity.updateView(CalendarActivity.java:117)
07-03 09:58:29.112: E/AndroidRuntime(5185):     at stub.binusitdirectorate.calendar.controller.CalendarActivity.onCreate(CalendarActivity.java:151)
07-03 09:58:29.112: E/AndroidRuntime(5185):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
07-03 09:58:29.112: E/AndroidRuntime(5185):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
07-03 09:58:29.112: E/AndroidRuntime(5185):     ... 11 more 
```

我所知道的是，当我调用它时代码会中断：

```
mMonthlyCalendar.instantiate(this, mMonthId, mDayGridAdapter,
            mEventsListAdapter, mAssignmentsListAdapter); 
```

该方法应该将适配器绑定到我的自定义视图。

提供了所有必需的变量，那么为什么系统给了我一个`NullPointerException`？

# javascript - jQuery：在序列化之前持久化表单值？

> ID：11304036
> 
> 赞同：0
> 
> 时间：2012-07-03T03:21:52.623
> 
> 标签：javascript, jquery, serialization

我正在使用 jQuery serialize() 函数在表单中收集数据并使用 jQuery Ajax“post”方法提交到服务器，如下所示：`var params = jQuery('#mainContent form').serialize();`.
我看到的奇怪的事情是我表单中的序列化数据包含旧数据。这意味着，我对表单的所有更改（输入到文本字段，在组合框上选择）都不会存储到 DOM，所以当 jQuery 调用时`serialize()`，它会收集在我更改表单之前出现的旧数据。我试图检查该表单中的每个元素并调用`.val()`它，它仍然显示旧值。
那么如何将我的所有更改保存到表单中，该`serialize()`方法可以使用我输入的最新数据构建字符串？
这是我的代码段，我`serialize()`在提交处理程序中调用

```
jQuery('.myFormDiv input.submit').click(function() {  
    // Do something  
    // Collect data in form  
    var params = jQuery('#mainContent form').serialize();  
    // Submit to server  
    jQuery.post(url, params, successHandler);  
} 
```

太感谢了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T03:36:08.267

你什么时候调用序列化？它应该是 $('form').submit( [这里] ); 听起来它在页面加载时被调用，在您将值输入字段之前，然后在之后使用。

编辑：

使用[提交事件](http://api.jquery.com/submit/)而不是点击会捕捉到有人在文本字段中输入。

```
jQuery('#mainContent form').submit(function() {  
  // Collect data in form  
  var params = jQuery(this).serialize();  
  // Submit to server  
  jQuery.post(url, params, successHandler);  
} 
```

*上面的代码假设 url 是定义的，successHandler 是一个函数。

# objective-c - 使用 x 和 y 坐标在地图上绘制路线

> ID：11304040
> 
> 赞同：1
> 
> 时间：2012-07-03T03:22:23.173
> 
> 标签：objective-c, ios, xcode, mkmapview, arcgis

新目标 c. 我正在尝试使用我在“路径”下方获得的坐标并将其绘制在地图上。我该怎么办它似乎无法弄清楚？地图在 AGSMapView 上。这是我如何获得“路径”的代码

```
NSString *paths = [geometry objectForKey:@"paths"];
NSLog(@"paths:%@",paths); 
```

这是我得到的坐标的一部分

```
paths:(
    (
            (
        "18301.4400192143",
        "36146.920029251"
    ),
            (
        "18885.8300193054",
        "35820.7600307186"
    ),
            (
        "19550.6400166137",
        "35448.3800265175"
    ),
            (
        "19679.1600169367",
        "35397.5700324551"
    ),
            (
        "19731.7000154429",
        "35383.8700317275"
    ),
            (
        "19799.2400170102",
        "35381.1700292081"
    ),
            (
        "19812.3800146386",
        "35385.4900271837"
    ),
            (
        "19828.5700186147",
        "35394.3100268357"
    ),
            (
        "19856.8600198637",
        "35412.300029967"
    ),
            (
        "19875.230014829",
        "35468.1300296654"
    ),
            (
        "19885.4200190927",
        "35519.1300309952"
    ),
            (
        "19887.8400200627",
        "35531.2600314078"
    ),
            (
        "19924.030018031",
        "35530.2000314836"
    ),
            (
        "20053.9000158305",
        "35572.8800299838"
    ),
            (
        "20071.600021412",
        "35586.4600257241"
    ),
            (
        "20078.7800184669",
        "35595.3100285139"
    ) 
```

MapKit 是否仅适用于谷歌地图？

-*edit- 我认为应该如何将带有坐标的地图绘制到地图的图形层中。

请帮忙！谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-12-25T22:28:42.347

用户提到了 AGSMapView，这表明他使用的是 ArcGis Runtime，而不是 MapKit。解决方案是构建一个[AGSMutablePolygon](https://developers.arcgis.com/ios/api-reference/interface_a_g_s_mutable_polygon.html)，然后将其添加到 AGSGraphicsLayer。

# pdf - 关于字形大小的问题

> ID：11304043
> 
> 赞同：1
> 
> 时间：2012-07-03T03:23:04.513
> 
> 标签：pdf

我在[PDF 规范](http://wwwimages.adobe.com/www.adobe.com/content/dam/Adobe/en/devnet/pdf/pdfs/PDF32000_2008.pdf)中读到，字形的实际大小取决于`Tm`、`CTM`和其他 Text 状态运算符。谁能解释为什么？

假设我有 、 和其他文本状态运算符的值`Tm`（`CTM`如果它们适用），我将如何使用它们来获取字形的大小和位置？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T07:39:21.297

CTM 和 TRM 一起定义了一个显示 glyf 的框。但是您还需要考虑诸如 Gylf 和 FontBox 上的边界框之类的东西。

# php - 通过 URL 确定 Vimeo 源（正则表达式）

> ID：11304044
> 
> 赞同：1
> 
> 时间：2012-07-03T03:23:04.810
> 
> 标签：php, regex, vimeo

好的，这是一个有趣的。

在将复制和粘贴的 Vimeo URL 输入到输入框中时，我需要弄清楚用户引用的是什么来源。对于那些不熟悉的人，Vimeo 目前有 4 个不同的来源，可通过其简单的 API 访问：

## 属于用户的视频

**有效的 URL 结构：http:** [//vimeo.com/user3825208](http://vimeo.com/user3825208)或[https://vimeo.com/davekiss](https://vimeo.com/davekiss)

## 属于某个组的视频

**有效的 URL 结构：http:** [//vimeo.com/groups/eos550d](http://vimeo.com/groups/eos550d)或[https://vimeo.com/groups/162](https://vimeo.com/groups/162)

## 属于某个频道的视频

**有效的 URL 结构：http:** [//vimeo.com/channels/hd](http://vimeo.com/channels/hd)或[https://vimeo.com/channels/201](https://vimeo.com/channels/201)

## 属于相册的视频

**有效的 URL 结构：http:** [//vimeo.com/album/1919683](http://vimeo.com/album/1919683)或[https://vimeo.com/album/mycustomname](https://vimeo.com/album/mycustomname)

所以基本上，我希望能够将 URL 运行到一个函数中，该函数将告诉我 URL 属于哪个源。

我一直将它用于属于用户的视频，但现在我需要扩展到所有来源。

`sscanf(parse_url($url, PHP_URL_PATH), '/%d', $video_id);`

也许我应该这样做四次？`preg_match('???', $url);`

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T03:43:17.910

您不需要正则表达式：

```
function discoverVimeo($url)
{
    if ((($url = parse_url($url)) !== false) && (preg_match('~vimeo[.]com$~', $url['host']) > 0))
    {
        $url = array_filter(explode('/', $url['path']), 'strlen');

        if (in_array($url[0], array('album', 'channels', 'groups')) !== true)
        {
            array_unshift($url, 'users');
        }

        return array('type' => rtrim(array_shift($url), 's'), 'id' => array_shift($url));
    }

    return false;
} 
```

以下将返回一个数组，带有一个 index`id`和另一个 index `type`，它将是以下之一：

*   `user`
*   `album`
*   `channel`
*   `group`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T03:33:22.123

我会 preg_match() 以下正则表达式模式（按此顺序）：

```
$channel_regex = '%vimeo\.com/channels/([a-zA-Z0-9]+)%/i';
$group_regex = '%vimeo\.com/groups/([a-zA-Z0-9]+)%/i';
$album_regex = '%vimeo\.com/album/([a-zA-Z0-9]+)%/i';
$user_regex = '%vimeo\.com/([a-zA-Z0-9]+)%/i'; 
```

这将正则表达式匹配：

```
vimeo.com/channels/...grab_this_data...
vimeo.com/groups/...grab_this_data...
vimeo.com/albums/...grab_this_data... 
```

如果所有这些 preg_matches 都失败了（因此是用户 URL），它将抓取 url 中的任何内容：

```
vimeo.com/...grab_this_data... 
```

祝你好运。

# jquery - ASP.NET Web API 错误“Uncaught SyntaxError: Unexpected token :”

> ID：11304045
> 
> 赞同：1
> 
> 时间：2012-07-03T03:23:10.087
> 
> 标签：jquery, asp.net-web-api

我对 asp.net web api 很陌生。我正在用 jquery 进行一个简单的跨域调用。一切似乎都正常工作，当我检查返回的结果时，我看到它会将 json 发送回给我，但调用失败并出现“Uncaught SyntaxError: Unexpected token :”错误。我不确定它为什么失败，感谢您的帮助。

```
$.ajax({
    url: 'http://webapidomain.domain.com/api/Register?firstName=' + firstName + '&lastName=' + lastName + '&' + 'email=' + email + '&password=' + password,
    type: 'GET',
    dataType: 'jsonp',
    contentType: 'application/json',
    success: function (result) {
        alert(result);
    },
    complete: function () {
        $.mobile.hidePageLoadingMsg();
    }
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T05:29:33.927

Web API 不支持开箱即用的 JSONP。您将需要一个 JSONP 媒体类型格式化程序。（媒体类型格式化程序是将数据序列化为特定格式的对象，例如 JSON 或 XML。）

Rick Strahl 在这里有一些代码可能会有所帮助：[http](http://www.west-wind.com/weblog/posts/2012/Apr/02/Creating-a-JSONP-Formatter-for-ASPNET-Web-API) ://www.west-wind.com/weblog/posts/2012/Apr/02/Creating-a-JSONP-Formatter-for-ASPNET-Web-API （我没有没试过。）

当您请求 JSONP 时返回 JSON 的原因是，当 Web API 无法匹配您请求的类型时，它会返回其列表中的第一种格式，默认情况下为 JSON。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T03:29:12.047

如果您进行跨域调用，则默认情况下，许多浏览器会被[SAME-ORGIN Policy](http://en.wikipedia.org/wiki/Same_origin_policy)阻止。如果您需要解决这个问题，您需要使用 JSONP（如果您可以修改您调用的端点产生的输出，即您拥有该域），否则您需要使用您的 Web 服务器作为代理并连接到该端指向并查询您的 Web 端点以获取相应的数据。

还有一些网站会为您执行此操作（充当生成 JSONP 结果的代理）并生成 jsonp 结果。

# c# - 一次只有一个程序

> ID：11304052
> 
> 赞同：0
> 
> 时间：2012-07-03T03:24:19.493
> 
> 标签：c#, concurrency, semaphore

我有一种情况，我需要同时运行一个程序的一个实例。

这将是微不足道的：

```
class OneAtATimePlease
{
  static void Main()
  {
    // Naming a Mutex makes it available computer-wide. Use a name that's
    // unique to your company and application (e.g., include your URL).

    using (var mutex = new Mutex (false, "oreilly.com OneAtATimeDemo"))
    {
      // Wait a few seconds if contended, in case another instance
      // of the program is still in the process of shutting down.

      if (!mutex.WaitOne (TimeSpan.FromSeconds (3), false))
      {
        Console.WriteLine ("Another app instance is running. Bye!");
        return;
      }
      RunProgram();
    }
  }

  static void RunProgram()
  {
    Console.WriteLine ("Running. Press Enter to exit");
    Console.ReadLine();
  }
} 
```

除了小细节，我需要终止现有进程，而不是新进程。

我尝试制作一个信号量，在获取上述互斥锁后，现有进程可以收听，但是因为我希望它等待信号量，所以我最终可能会遇到信号量总是发出信号的情况，因此它不起作用。

任何人都知道如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T03:29:04.307

您需要进程间通信，以向现有应用程序发送信号。对于 C#，请参阅 C# 中的[IPC 机制 - 用法和最佳实践](https://stackoverflow.com/questions/56121/ipc-mechanisms-in-c-sharp-usage-and-best-practices)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T05:46:29.457

电影，我写了一个两个互斥逻辑。第一个是“执行锁”，第二个是“监控锁”。当第一个进程无法获得*监控锁*时，它将退出并释放新进程的*执行锁*。

我不确定这是否是最佳解决方案，欢迎提供任何反馈。

C＃：

```
class Program
    {
        private static string processName = DateTime.Now.ToString("hh.mm.ss");
        private static bool exitProcess;

        private static Mutex firstLock
        {
            get
            {
                return new Mutex(false, "stackoverflow.com/questions/11304052/");
            }
        }

        private static Mutex secondLock
        {
            get
            {
                return new Mutex(false, "stackoverflow.com/questions/11304052/ #2");
            }
        }

        static void Main(string[] args)
        {
            Console.WriteLine(string.Format("Process {0} starting", processName));

            exitProcess = false;

            while (true)
            {
                using (firstLock)
                {
                    Console.WriteLine(string.Format("Process {0} trying to get #1 mutex", processName));

                    if (!firstLock.WaitOne(TimeSpan.FromSeconds(1), false))
                    {
                        Console.WriteLine(string.Format("Process {0} #1 mutex in use, waiting for release", processName));

                        bool killFirstApp = false;

                        while (!killFirstApp)
                        {
                            killFirstApp = LockSecondMutex();
                        }

                        continue;
                    }

                    new Thread(MonitorSecondMutex).Start();

                    RunProgram();

                    firstLock.ReleaseMutex();

                    break;
                }
            }
        }

        static void RunProgram()
        {
            while (!exitProcess)
            {
                Console.WriteLine(string.Format("Process {0} running", processName));

                Thread.Sleep(1000);
            }
        }

        static void MonitorSecondMutex()
        {
            while (true)
            {
                using (secondLock)
                {
                    if (!secondLock.WaitOne(TimeSpan.FromSeconds(2), false))
                    {
                        Console.WriteLine(string.Format("Process {0} lost second mutex. Will now exit.", processName));

                        exitProcess = true;

                        break;
                    }

                    secondLock.ReleaseMutex();
                }

                Thread.Sleep(500);
            }
        }

        static bool LockSecondMutex()
        {
            while (true)
            {
                using (secondLock)
                {
                    if (!secondLock.WaitOne(TimeSpan.FromSeconds(2), false))
                    {
                        continue;
                    }

                    Thread.Sleep(5000);

                    secondLock.ReleaseMutex();
                }

                return true;
            }
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T03:29:47.740

您可以通过请求访问某些有限的系统范围资源（例如端口）来完成此操作。您的应用程序可以在启动时将套接字绑定到特定端口。如果绑定失败，则向正在运行的实例发送终止信号，然后重试。

# amazon-web-services - 我们如何为我们的 AWS 应用程序提供对客户资源的访问权限，而不需要他们的密钥？

> ID：11304055
> 
> 赞同：4
> 
> 时间：2012-07-03T03:25:33.403
> 
> 标签：amazon-web-services

我正处于为我们的用户编写[AWS](http://aws.amazon.com/)应用程序的早期阶段，该应用程序将使用他们的 AWS 资源运行我们的研究算法。例如，我们的代码需要启动运行我们的“worker”应用程序的[EC2实例，访问](http://aws.amazon.com/ec2/)[RDS](http://aws.amazon.com/rds/)数据库，并创建访问[SQS](http://aws.amazon.com/sqs/)队列。[AWS Java SDK](http://aws.amazon.com/sdkforjava/)示例（我们用Java 编写）使用 AwsCredentials.properties 文件来存储访问密钥 ID 和秘密访问密钥，这对于示例来说很好，但对于我们的用户来说显然是不可接受的，他们本质上是让我们可以访问他们的所有资源。代表他们运行我们的系统的干净方法是什么？我发现了[AWS Identity and Access Management (IAM)](http://aws.amazon.com/iam/)这似乎是为了这个目的（我还没有弄清楚），尤其是。[AWS 账户之间的跨账户访问](http://docs.amazonwebservices.com/IAM/latest/UserGuide/Delegation.html)。[这篇文章](https://stackoverflow.com/questions/9926825/how-can-i-protect-my-aws-access-id-and-secret-key-in-my-python-application)听起来很简单：

> 使用 amazon IAM 服务创建一组仅有权执行脚本所需任务的密钥。 [http://aws.amazon.com/iam/](http://aws.amazon.com/iam/)

但是，其他帖子（例如，[在 IAM 中，我可以限制一组用户仅访问/启动/终止某些 EC2 AMI 或实例吗？](https://stackoverflow.com/questions/9829506/within-amazon-aws-iam-can-i-restrict-a-group-of-users-to-access-launch-terminat)）建议将 IAM 与 EC2 一起使用是有限制的。

任何建议都会非常有帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T21:01:44.723

关于 RDS 和 EC2 的关键限制是，虽然您可以限制对某些 API 操作的访问，但没有资源级别的限制。例如，使用 IAM S3 策略，您可以限制用户只能对某些存储桶执行某些操作。您可以为 EC2 编写一个策略，说明允许用户停止实例，但不能说明您只能停止某些实例。

[另一种选择是让他们通过Security Token Service](http://docs.amazonwebservices.com/STS/latest/APIReference/Welcome.html?r=8064)为您提供临时凭证。另一个变体是使用新的 IAM 角色服务。有了这个，一个实例就有了一组与之关联的策略。您无需提供 AwsCredentials.proprties 文件，因为 SDK 可以从元数据服务获取凭证。

最后一个选项可能是合并计费。如果您使用他们的 AWS 资源的原因仅仅是因为计费，那么设置一个从他们的账户计费的新账户。这些帐户彼此隔离，因此您不能例如意外删除它们的实例。同样，您无法访问他们的 RDS 快照之类的东西（通过 mysql（而不是 AWS api）访问 RDS 实例将取决于实例的安全组）。您当然可以将其与之前的选项结合使用——它们可以为您提供仅允许您在该隔离帐户中执行某些操作的凭据。

# android - 如何在android中使用正则表达式

> ID：11304058
> 
> 赞同：0
> 
> 时间：2012-07-03T03:26:07.630
> 
> 标签：android, regex

我需要帮助将字符串与正则表达式匹配。字符串的一个例子是

```
"Longitude: 34.847368\nLatitude: 30.435345\nAltitiude: 130.34554" 
```

所以在这个字符串中，数字可以改变，并且可能没有十进制值。

当我尝试这段代码时，

```
Pattern pattern = Pattern.compile("Longitude: -?\\d+(\\.\\d+)?\nLatitude: -?\\d+(\\.\\d+)?\nAltitude: -?\\d+(\\.\\d+)?"); 
```

我收到一条错误消息，说`\.`是无效的转义序列，有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T03:35:28.753

您必须使用双斜杠，否则 Java 将其视为字符串转义序列，而不是正则表达式转义序列。尝试这个：

```
Pattern pattern = Pattern.compile("Longitude: \\d+(\\.\\d+)?\nLatitude: \\d+(\\.\\d+)?\nAltitude: \\d+(\\.\\d+)?"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T05:06:16.827

Soxxeh 和 aroth 几乎肯定是正确的，但在未来，也许这会有所帮助：

[http://gskinner.com/RegExr/](http://gskinner.com/RegExr/)

我一直在使用它：D

# xml - 来自kml的geoxml3多边形不可点击

> ID：11304062
> 
> 赞同：1
> 
> 时间：2012-07-03T03:26:34.327
> 
> 标签：xml, google-maps, google-maps-api-3, kml, polygon

我只想将这些多边形的边界用于许多计算。但是，当单击信息窗口时，会显示我需要的所有属性，并且无法从 kml 中删除它们。我怎么能删除这个可点击的功能？

//希望这不是反流..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T03:44:40.270

在 google maps v3 API group 中查看[这个答案](https://groups.google.com/group/google-maps-js-api-v3/browse_frm/thread/5280524a73a27f33#)

它们是本机 google maps API v3 多边形，因此您可以在选项中将其传递给 geoxml3 解析器：

```
polygonOptions: { clickable: false} 
```

[见文档](https://developers.google.com/maps/documentation/javascript/reference%23PolygonOptions)

（未测试，但您没有提供任何测试信息）

# css - 我做错了什么：悬停？

> ID：11304068
> 
> 赞同：-3
> 
> 时间：2012-07-03T03:27:36.133
> 
> 标签：css

这是我的 CSS 代码不起作用：

```
h2 a:link, h2 a:visited {
text-decoration: none;
font-size:14pt;
font-weight:100;
color:#000;
}

h2 a:hover; {
text-decoration: none;
font-size:14pt;
font-weight:100;
color:#909090;
} 
```

为什么悬停部分不起作用？我究竟做错了什么？我是 CSS 新手。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-03T03:28:58.337

更改 CSS 规则“a:hover;” 到“a：悬停”

即：删除 ;

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T03:30:04.757

在左大括号之前有一个分号`a:hover`，因此将其更改为：

```
h2 a:hover {
  text-decoration: none;
  font-size:14pt;
  font-weight:100;
  color:#909090;
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-03T04:09:45.927

当你在做的时候，结合共同的规则。

```
h2 a:link, 
h2 a:visited,
h2 a:hover {
    text-decoration: none;
    font-size:14pt;
    font-weight:100;
}

h2 a:link, 
h2 a:visited {
    color:#000;
}

h2 a:hover; {
    color:#909090;
} 
```

# c# - 来自本地 C++ 加载的 DLL 的 C# 表单

> ID：11304072
> 
> 赞同：5
> 
> 时间：2012-07-03T03:28:01.957
> 
> 标签：c#, c++, winapi, dll

这是来自该线程的一个问题：[Native C++ use C# dll via proxy C++ managed dll](https://stackoverflow.com/questions/11287767/native-c-use-c-sharp-dll-via-proxy-c-managed-dll)

简而言之，我正在通过 DLL 将（我的）C# 扩展加载到本机进程中。扩展需要显示一个表单，以便用户可以控制它。我使用的是标准的 .NET 表单，没有第 3 方库或任何东西，而且我的表单没有显示出来。更糟糕的是，它会挂起目标进程。它没有使用任何 CPU，所以我感觉它在等待某个函数返回，但从来没有。

同样有趣的是弹出“初始化方法”消息框，但没有弹出“测试”消息框。我已经测试了所有我能想到的东西（STAthread、线程、DisableThreadLibraryCalls，以及不同的代码位置），一直到周日。我倾向于认为这是 Win32 互操作的一些模糊细节，但我找不到任何似乎会导致这些症状的东西。

你们中的一位专家可以看看我的代码并指出问题所在吗？

```
/// <summary>
/// Provides entry points for native code
/// </summary>
internal static class UnmanagedExports
{
   [UnmanagedFunctionPointer(System.Runtime.InteropServices.CallingConvention.StdCall)]
   public delegate int SendRecv([MarshalAs(UnmanagedType.SafeArray)]byte[] ByteArray, UInt64 Len);

   [STAThread]
   [DllExport("Initialize", CallingConvention.StdCall)]
   public static int Initialize(IntPtr hInstance, SendRecv Send, SendRecv Recv)
   {
       return DLLinterface.Initialize(hInstance, Send, Recv);
   }

   [DllExport("Terminate", CallingConvention.StdCall)]
   public static void Terminate()
   {
       DLLinterface.Terminate();
   }
}

internal class DLLinterface
{
   static System.Threading.Thread uiThread;

   [STAThread]
   internal static int Initialize(IntPtr hInstance, UnmanagedExports.SendRecv Send, UnmanagedExports.SendRecv Recv)
   {
       MessageBox.Show("Initialize method");
       try
       {
           uiThread = new System.Threading.Thread(Run);
           uiThread.Start();
       }
       catch (Exception ex)
       {
           MessageBox.Show("Failed to load: " + ex.Message, "Infralissa error", MessageBoxButtons.OK, MessageBoxIcon.Error);
       }
       return 1;
   }

   [STAThread]
   private static void Run()
   {
       MessageBox.Show("Test");

       Application.EnableVisualStyles();
       Application.SetCompatibleTextRenderingDefault(false);
       Application.Run(new Form1());
   }

   internal static void Terminate()
   {
       MessageBox.Show("Terminating.");
       if (uiThread.IsAlive)
           uiThread.Abort();
   }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T04:17:58.597

似乎目标本身有问题。它不是直接加载扩展，而是加载本机“exensionManager.dll”，幸运的是，他们正在使用 DllMain 加载我的扩展。换句话说，我试图在 loaderlock 下加载一个表单并遇到了死锁。NET 尝试加载其他程序集。

答案很简单，我必须在新线程上显示表格。但是，.NET 的线程也挂起，因为它也需要一个死锁的库加载。

最后，我不得不直接使用普通的 P/Invoke 来 CreateThread()，但表单终于出现了。

# java - 在 Java 中创建网格

> ID：11304073
> 
> 赞同：5
> 
> 时间：2012-07-03T03:28:08.923
> 
> 标签：java, swing, user-interface, jtable, jlabel

作为学习 Java 的一种方式，我正在编写这个小应用程序，供小学生练习基础数学。这个想法是孩子做任何数量的数学问题，只要他们在应用程序中，它就会继续向他们抛出问题，直到他们点击“完成”按钮。当他们决定完成时，我想要一个新的 JFrame 来向他们展示他们尝试过的所有问题，以及他们的答案，以及他们的问题是对还是错。

我正在寻找的建议是对我来说呈现这些结果的最佳方式。我查看了 GridLayout 和 GroupLayout，但我认为这些都不完全正确。我在 VBA for Excel 中做了类似的事情，我只是运行了一个 for 循环，对他们尝试的每个问题进行一次迭代。每次迭代都会向框架添加一行标签，其中问题的元素显示在各种标签中。我在 Java 中试过这个，但我什至无法让标签显示。

因此，在我了解所有具体内容并开始发布我的代码之前，我想问一个更大的问题，即“创建这样的视图的最佳方法是什么？” 通常，我朝一个方向走，只是为了在有人提出完全不同（更好）的方法之前浪费时间。

谢谢！

（编辑：这是我在 Excel 中如何做到这一点的图像。我试图在 Java 中重复基本相同的事情）

![在此处输入图像描述](../Images/458b63e869237746651905f2ee5b5c57.png)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-03T03:54:55.210

进行该设计的一种简单方法是使用混合组件。您可以将一堆`JLabel`s 和`JPanel`s 堆叠在一个垂直的`FlowLayout`. 您描述的网格最好在 a 中设计`JTable`，如下所示：

![色彩艳丽的组件分解示例](../Images/55096f6b02b7715dcd668e6a9eacdba9.png)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-07-03T03:31:58.523

如果您喜欢 Excel 之`JTable`类的表格，那么如果您愿意，Java 会提供创建表格的类。

教程：[http ://docs.oracle.com/javase/tutorial/uiswing/components/table.html](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html)

# asp.net-mvc-3 - 是否可以使用 AJAX POST 设置依赖于 Knockout 的 observable

> ID：11304078
> 
> 赞同：0
> 
> 时间：2012-07-03T03:28:53.933
> 
> 标签：asp.net-mvc-3, knockout.js

使用 Knockout 2.0 和 MVC3 Razor 表单，当我引入 ajax 方法时，我无法进行依赖的可观察工作。我已经设置了一组作为计算一部分的 observables，当我返回这些 observables 的乘积时，我能够设置一个具有正确结果的 SPAN 标签。但是，当我尝试使用 ajax 方法来处理这些可观察对象并返回结果时，我会得到不可预测的行为。首先，当 INPUT 字段更新时，ajax POST 似乎没有拾取其中一个 observables（var b POST 到 action 方法为 0，但最终被更新），然后似乎我无法设置即使它正确评估的结果。似乎 observables 或 ajax 调用都存在时间问题。虽然简单地继续在 javascript 中执行计算工作正常，我的意图是为更复杂的逻辑调用 ajax 方法。我已经从 doc.ready() 中删除了对 ko.applybindings 的调用，并且还将 SCRIPT 方法移到了页面底部——这是我发现使其部分起作用的唯一方法。我的 viewModel 设置如下：

```
var viewModel = {
    a: ko.observable(0),
    b: ko.observable(1),
    c: ko.observable(2),
    // commented this out, since
    // the dependent observable will handle this
    // d: ko.observable(0)
}; 
```

在我的依赖观察中：

```
viewModel.d = ko.dependentObservable(function () {
    var theResult = 0;
    $('.theLabel').css("visibility", "visible");
    theResult=viewModel.a() * viewModel.b() * viewModel.c();
    // if we return here we get a valid result 
    return (theResult);

    // prefer to call ajax method
    // first check to ensure one variable is set
    if (viewModel.a() > 0) {
            $.ajax("/myCalculation/getResult", {
                data: ko.toJSON(viewModel),
                type: "post",
                context: viewModel,
                contentType: "application/json",
                success: function (result) {
                    // can't set visibility here
                    $('.theLabel').css("visibility", "visible");
                    // the POST does not pick up some observables, or
                    // does not the set dependent observable at all
                    return result;
                }
            });

        }
    }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T03:50:39.023

您设置的功能有很多错误。

1.) 在进行 AJAX 调用之前，您正在从函数返回。您的 return 语句之后的代码将永远不会执行。

2.) 即使您省略了第一个 return 语句，您的 AJAX 调用也是异步的……这意味着它将在后台执行并立即将控制权返回给外部范围。由于您没有返回语句，因此您将返回未定义。

3.) 成功回调中的注释表明您期望 return 语句一直传播到您计算的 observable。**该return**语句仅适用于回调，而不是外部 observable。jQuery 将使用返回值，并且您的 observable 早就返回了。

如果你想要一个 observable 调用一个 AJAX 函数，你需要一个单独的值来存储异步调用的结果。

这是一个简化的示例：

```
var viewModel = function(){
   var $this = this;

   $this.a = ko.observable();
   $this.b = ko.observable();
   $this.results = ko.observable();

   //No need to assign this computed observable to a variable
   // because the results will be stored in '$this.results'
   // we just need this to handle the automatic updates
   ko.computed(function(){
      var data = {
         a: $this.a(),
         b: $this.b()
      };

      $.post("/do/some/stuff", data, function(results){
         $this.results(results);
      });
   });
}; 
```

# javascript - 如何从文本字段自动计算表达式

> ID：11304090
> 
> 赞同：1
> 
> 时间：2012-07-03T03:30:37.570
> 
> 标签：javascript, html

我怎样才能从文本字段中自动计算表达式.. 有没有任何函数或类似的东西..

```
 <input type="text" value="3+4" id="Txt">

    var Result = Function_in_javascript(document.getElementById("Txt").value)

    alert(Result )// 7 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T03:32:36.227

尝试这个`eval(document.getElementById("Txt").value)`

**编辑：**这是为了什么？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:12:21.340

这是一个简单的正则表达式示例来解析加法：

```
function parseAdditionString(s) {
  var arr = s.match(/(\d+)\+(\d+)/);
  if (arr && arr.length === 3) {
    alert("Sum = " + (Number(arr[1]) + Number(arr[2])));
  } else { alert("Invalid input"); }
}​ 
```

### [见 JSFiddle](http://jsfiddle.net/9AmuE/)

它仍然会让很多废话通过，但它比替代方案更好。

**不要使用邪恶。**

# c# - listbox.sort 和字符串比较函数的小问题

> ID：11304091
> 
> 赞同：2
> 
> 时间：2012-07-03T03:30:39.110
> 
> 标签：c#, sorting, listbox, compareto

我在列表框对其元素的排序方式和 CompareTo 函数方面存在差异。

问题是，我正在使用两个列表框，并试图使两个元素列表仅出现在其中一个中。两个列表框都使用 sorted 属性进行排序。

我的程序通过列表框运行，并使用 CompareTo 函数一一比较元素：

```
if (listBox1.Items[x].ToString().CompareTo(listBox2.Items[y].ToString())) > 0 etc. 
```

现在，一切正常，除了包含撇号 (') 的项目 - 就像在“Donald's Pizza”中一样：

在排序的列表框中，“Donald's Pizza”排在“Donald Duck”之前。撇号小于空格。但是使用 CompareTo 函数， "Donald's Pizza" 大于 "Donald Duck" 。“CompareTo”说，撇号*大于*空格！

这弄乱了我的系统。

如果我知道这只是导致问题的撇号，我可以轻松解决问题，但现在如果它也适用于其他字符，我不安全。

作为一种解决方案，我必须对列表框进行自己的排序过程，但我只是忽略了一些明显的东西吗？

编辑：感谢您的回答。

我最终根据 CompareTo 函数制作了自己的排序程序。这样我可以确定列表框的类型 100% 等于我稍后使用的 CompareTo 函数。

```
 public ListBox fn_sort_listbox(ListBox par_listbox)
    {
        ListBox lb_work = new ListBox();
        int in_index;
        int in_compare;

        if (par_listbox.Items.Count == 0) return lb_work;

        foreach (object i in par_listbox.Items)
        {
            in_index = 0;
            while (in_index < lb_work.Items.Count)
            {
                in_compare = lb_work.Items[in_index].ToString().CompareTo(i.ToString());
                if (in_compare > 0)
                {
                    break;
                }
                in_index++;
            }
            lb_work.Items.Insert(in_index, i.ToString());
        }

        return lb_work;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T04:53:32.083

# asp.net-mvc-3 - 如何在网格中的命令列中使用不同的操作来进行 Telerik MVC 扩展

> ID：11304097
> 
> 赞同：0
> 
> 时间：2012-07-03T03:31:53.183
> 
> 标签：asp.net-mvc-3, c#-4.0, telerik-grid

我正在使用 Telerik MVC 扩展版本 2012.1.419.340。我在网格中的命令列有问题。我将使用 Telerik 网站上的示例代码来解释我的问题。

我有这样的看法：

```
@model IEnumerable<Order>
@(Html.Telerik().Grid(Model)
.Name("Grid")
.Columns(columns =>
{
    columns.Bound(o => o.OrderID).Width(100);
    columns.Bound(o => o.ShipAddress);
    columns.Command(commands => commands
                .Custom("viewDetails")
                .Text("View Details")
                .DataRouteValues(route => route.Add(o => o.OrderID).RouteKey("orderID"))
                .Ajax(true)
                .Action("ViewDetails", "Grid"))
            .HtmlAttributes(new { style = "text-align: center" })
            .Width(150);
})
.ClientEvents(events => events.OnComplete("onComplete"))
.DataBinding(dataBinding => dataBinding.Ajax().Select("_CustomCommand", "Grid"))
.Pageable()
.Sortable()
.Filterable() 
```

)

和我的订单模型

```
public class Order{
  public int OrderID {get;set;}

  public string ShipAddress {get ; set; }

  public bool CanEdit {get; set;}
} 
```

我希望我的命令列根据 CanEdit 值使用不同的操作。例如，如果 CanEdit 为 false，则使用 action

```
columns.Command(commands => commands
                .Custom("viewDetails")
                .Text("View Details")
                .DataRouteValues(route => route.Add(o => o.OrderID).RouteKey("orderID"))
                .Ajax(true)
                .Action("ViewDetails", "Grid"))
            .HtmlAttributes(new { style = "text-align: center" }) 
```

如果 CanEdit 为真，则使用操作

```
columns.Command(commands => commands
                .Custom("editDetails")
                .Text("Edit Details")
                .DataRouteValues(route => route.Add(o => o.OrderID).RouteKey("orderID"))
                .Ajax(true)
                .Action("EditDetails", "Grid"))
            .HtmlAttributes(new { style = "text-align: center" }) 
```

你能给我一些想法如何实现它吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-08T21:46:19.863

最后我通过使用网格中的模板列解决了这个问题。我发现无法按需更改命令列的文本。谢谢

# java - 如何删除 HttpServletRequest 参数（在 JSP 中）？

> ID：11304100
> 
> 赞同：0
> 
> 时间：2012-07-03T03:32:17.893
> 
> 标签：java, jsp

如何`HttpServletRequest`取消设置或删除参数（尤其是在 JSP 中）（例如在 PHP 中使用该`unset($_POST['index'])`函数）？我尝试了以下方法。

```
Map requestMap=request.getParameterMap();
requestMap.remove("index"); 
```

但它说

> 不允许对锁定的 ParameterMap 进行修改

有没有办法取消设置请求参数？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T03:45:44.393

> 有没有办法取消设置请求参数？

AFAIK，不在 JSP 本身（或任何 Servlet 中）。

但是您可以编写一个过滤器，以替换参数映射的方式包装当前请求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T06:22:02.320

你要做的就是写一个`HttpFilter`，写一个`HttpRequestWrapper`你的（`MyRequestWrapper`）。覆盖你的方法`getParameter`，这样你就不会返回参数（可能总是返回 null）。`HttpRequestWrapper``MyRequestWrapper`

在过滤器代码中，您应该覆盖该方法并从Object`doFilter`创建一个新方法，然后执行`MyRequestWrapper``ServletRequest``chanin.doFilter(myRequestWrapper, response)`

# java - 简单的 XML 解析 XML 到 List

> ID：11304105
> 
> 赞同：7
> 
> 时间：2012-07-03T03:33:16.213
> 
> 标签：java, android, simple-framework

我使用简单 XML (simple-xml-2.6.2.jar) 来解析 xml 文件，例如：

```
<?xml version="1.0" encoding="UTF-8" ?> 
<orderList> 
    <order id="1"> 
        <name>NAME1</name> 
    </order> 
    <order id="2"> 
        <name>NAME2</name> 
    </order> 
</orderList> 
```

根元素包含子元素。我想要它是 ArrayList，怎么做？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-29T18:07:49.467

这是一个可能的解决方案，希望对您有所帮助：

**类注释`Order`：**

```
@Root(name="order")
public class Order
{
    @Attribute(name="id", required=true)
    private int id;
    @Element(name="name", required=true)
    private String name;

    public Order(int id, String name)
    {
        this.id = id;
        this.name = name;
    }

    public Order() { }

    // Getter / Setter
} 
```

**`Example`类，包含列表：**

```
@Root(name="elementList")
public class Example
{
    @ElementList(required=true, inline=true)
    private List<Order> list = new ArrayList<>();

    // ...
} 
```

**这是一些用于阅读您的代码的代码：**

```
Serializer ser = new Persister();
Example example = ser.read(Example.class, file); // file = your xml file
// 'list' now contains all your Orders 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T10:22:51.103

List 是一个接口，ArrayList 是它的实现之一，比如：

```
List<Order> l = new ArrayList<Order>() 
```

所以如果你有一个 List ，你基本上就拥有了你想要的东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-19T13:37:21.903

如果我正确解释了您的问题，您需要一份订单列表。我尚未针对您的设置对此进行测试，但这对我来说适用于类似的 xml 结构（假设您有一个名为 Order 的自定义类）：

```
List<Order> orders = new ArrayList<Order>();
XMLDOMParser parser = new XMLDOMParser();
AssetManager manager = context.getAssets();
InputStream stream;
try {       
    stream = manager.open("test.xml"); //need full path to your file here - mine is stored in assets folder
    Document doc = parser.getDocument(stream);
}catch(IOException ex){
    System.out.printf("Error reading xml file %s\n", ex.getMessage());
}
NodeList nodeList = doc.getElementsByTagName("order");
for (int i = 0; i < nodeList.getLength(); i++) {
    Element e = (Element) nodeList.item(i); //each order item
    Node order=nodeList.item(i);
    subList = order.getFirstChild(); //get the name child node
    orders.add(order);
 }

//XMLDOMParser Class
public class XMLDOMParser {
    //Returns the entire XML document 
    public Document getDocument(InputStream inputStream) {
        Document document = null;
        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
        try {
            DocumentBuilder db = factory.newDocumentBuilder();
            InputSource inputSource = new InputSource(inputStream);
            document = db.parse(inputSource);
        } catch (ParserConfigurationException e) {
            Log.e("Error: ", e.getMessage());
            return null;
        } catch (SAXException e) {
            Log.e("Error: ", e.getMessage());
            return null;
        } catch (IOException e) {
            Log.e("Error: ", e.getMessage());
            return null;
        }
        return document;
    }

    /*
     * I take a XML element and the tag name, look for the tag and get
     * the text content i.e for <employee><name>Kumar</name></employee>
     * XML snippet if the Element points to employee node and tagName 
     * is name I will return Kumar. Calls the private method 
     * getTextNodeValue(node) which returns the text value, say in our 
     * example Kumar. */
    public String getValue(Element item, String name) {
        NodeList nodes = item.getElementsByTagName(name);
        return this.getTextNodeValue(nodes.item(0));
    }

    private final String getTextNodeValue(Node node) {
        Node child;
        if (node != null) {
            if (node.hasChildNodes()) {
                child = node.getFirstChild();
                while(child != null) {
                    if (child.getNodeType() == Node.TEXT_NODE) {
                        return child.getNodeValue();
                    }
                    child = child.getNextSibling();
                }
            }
        }
        return "";
    }
} 
```

# events - 模板变量中的 Twig 事件侦听器（挂钩）

> ID：11304109
> 
> 赞同：1
> 
> 时间：2012-07-03T03:33:22.563
> 
> 标签：events, variables, hook, listener, twig

我有一些想法需要在当前项目中实施。我将在下面用一个例子来解释：

我将在许多模板中使用以下变量结构：

```
{% if article.tags is iterable %}
    {% for tag in article.tags %}
        {{ tag.title }}
    {% endfor %}
{% endif %} 
```

正如您在上面的#1 行中所看到的，然后我会将具有来自 PHP 的“标签”数据列表的“文章”变量数据分配给 Twig 模板加载器，这是常用的。但是，我不想从数据库加载“标签”数据并分配给模板，因为我认为它会使用我的服务器连接和资源，甚至使用或不使用“标签”数据。

所以我认为最好的方法是使用事件监听器（钩子）概念，在 Twig 内部实现，下面是过程：

1) 在加载模板之前，我正在我的 PHP 文件中的某个位置准备一个侦听器： $this->twig->addListenerMethod($this, 'tags');

2) 当 Twig 解析“tags”变量时，它会检查是否有一个具有相同方法名称的侦听器附加到该变量。

3) 当找到监听器时，Twig 将调用通过传递父对象（文章）作为其第一个参数指定的方法。

4）当方法调用时，它会按原样处理并返回所需的“标签”数据列表。

**我的问题是：**

1）我可以在哪个 Twig 源文件中开始查看和实现 Twig 中的事件侦听器（挂钩）概念？

2) 是否有人已经使用我上面描述的 Twig 进行了相同的实现？

3）或有人有一些建议？

我希望我能对此有很多建议，同时我也在研究 Twig 的源代码。

谢谢。

亲切的问候。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T03:30:20.430

我找到了解决我自己问题的方法：

我只需要为模板分配一个“**文章”对象：**

```
$template->render(array(
  'article' => new Article()
); 
```

下面是对象“**文章**”的样子：

```
class Article
{
  public function tags($args)
  {
    return array(
      array(
        'title' => 'oke',
        'desc' => 'lorem ipsum'
      ),
      array(
        'title' => 'oke 1',
        'desc' => 'lorem ipsum 1'
      )
    );
  }
} 
```

如果您想将参数传递给方法“ **tags** ”，只需使用以下示例：

```
{% if article.tags('param_1', 'param_n') is iterable %}
  {% for tag in article.tags('param_1', 'param_n') %}
    {{ tag.title }}
  {% endfor %}
{% endif %} 
```

# jquery - Chrome 扩展重用页面的脚本

> ID：11304110
> 
> 赞同：0
> 
> 时间：2012-07-03T03:33:35.960
> 
> 标签：jquery, google-chrome-extension

我有一个使用 jQuery 绑定事件的页面：

```
$('#element').click(function() { /* do something */ }); 
```

我已经编写了一个扩展来访问和修改页面中的 DOM。我创建元素#newelement。我现在需要将上面提到的相同事件附加到#newelement，但是我需要重用嵌入在页面中的代码。我不能只是复制 javascript 并将其放入扩展代码中，因为这将是一团糟。

这可以做到吗？如何？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T03:38:05.663

您可以将事件绑定到多个元素：

```
$('#element, #newelemnt').on('click', function() { /* do something */ }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T03:38:20.353

您正在寻找的 Api 称为`.on`：[http ://api.jquery.com/on/](http://api.jquery.com/on/)

因此，现在当您添加一个新元素时，该`.on`事件将绑定该元素。

**用于手术**

如果元素不是动态添加的，您可以组合元素：

很好的讨论：http: [//forum.jquery.com/topic/jquery-combining-selectors](http://forum.jquery.com/topic/jquery-combining-selectors)

像这样：

```
$('#ele_id, #ele_idfoo, #ele_new_id').click(function() { /* do something shared here*/ }); 
```

# sql-server - SSRS 2008 R2 - 如何更改 ReportServer 中的一份报告，但将其更改为使用不同的数据源

> ID：11304112
> 
> 赞同：0
> 
> 时间：2012-07-03T03:34:14.633
> 
> 标签：sql-server, ssrs-2008, reporting-services

我将一份 SSRS 2008 R2 报告部署到 ReportServer。

我希望能够针对不同的数据库运行相同的报告，而不必拥有报告的多个副本或编辑数据源。我尝试使用链接报告，但这不允许更改报告的数据源。

做这个的最好方式是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T08:00:32.543

我们这样做是为了对以前的财政年度进行分析。答案在于 Reporting Services 中的所有内容都是一个表达式，包括 SQL 语句。

我们在一个中心位置有一个数据库表，该表填充友好名称和数据库名称的下拉组合框，例如：

```
Current Accounts                 ACCOUNTS_LIVE
Financial Year End 2012          ACCOUNTS_FY2012
Financial Year End 2011          ACCOUNTS_FY2011 
```

然后我们将其链接到一个名为 Database 的参数，以便用户可以选择他们想要的数据库（默认值为当前数据库）。

然后在你的 SQL 语句中你有类似的东西：

```
="SELECT LedgerCode, Amount "
&"FROM " & Parameters!Database.Value & ".dbo.Ledgers " 
```

这将构建 SQL 语句并将其指向用户选择的数据库。无需更改数据源。

# ruby-on-rails - Rails 的哪个部分应该负责更新链式模型状态？

> ID：11304113
> 
> 赞同：0
> 
> 时间：2012-07-03T03:34:19.283
> 
> 标签：ruby-on-rails, ruby-on-rails-3, state-machine

我有 2 个模型

1.  ShippingClass，定义运费和运费适用的目的地
2.  商店，它有一个状态机来确定是否允许一些操作

一家商店有_many shipping_classes。用户可以添加或删除运输类别，除其他因素外，至少存在或不存在一个运输类别这一事实对商店状态有影响。

最重要的是，每当添加/删除/修改运输类时，我都会在商店模型上运行 update_state 方法以使状态保持最新。这个方法所做的基本上是检查有多少 shipping_classes 与商店相关联并相应地调整商店状态（例如，为了简化商店状态，如果分配了至少 1 个 shipping_class，则为活动状态，否则为非活动状态）

我想知道从控制器更新商店状态是否是一种好习惯。事实上，我正在评估让 ShippingClass 在保存和销毁时更新商店的机会。虽然这可能更加防错，因为我不需要记住每次保存 ShippingClass 时都更新 Shop 模型，但是它增加了模型的耦合。

使用回调来执行此操作似乎不是一种选择。这些被包装到事务中。因此，在事务完成之前，父模型（Shop）并不能确切地看到关联模型（ShippingClasses）的状态。

编辑另一个选项，如下所述，是将模型更新放入观察者。这样做的好处是它没有被包装到事务中，因此 Shop 模型应该能够检查关联的 ShippingClasses。缺点是没有包装到事务中，因此更新 Shop 模型失败会使 Shop 状态不同步。然而，这比将更新放入控制器要好，因为它将永远完成一次。

另一个选项可以覆盖 ShippingClass 的 save 和 destroy 方法并从那里更新 Shop 模型。

最佳做法是什么，为什么？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T12:39:59.787

正如您所指出的，将逻辑保留在模型中是最好的，因为它会在控制器尝试修改/删除/添加 ShippingClass 的任何时候应用。在模型中，我希望在 ShippingClass 上使用回调 - 让 ShippingClass 更新由于修改/删除/添加操作而受影响的任何商店的状态。

# xml - 如何确定 Web 服务是否返回 XML 或 JSON 格式的数据？

> ID：11304115
> 
> 赞同：0
> 
> 时间：2012-07-03T03:34:44.403
> 
> 标签：xml, json, web-services

如果它是第三方 Web 服务，我怎么知道它返回的是 XML 还是 JSON 格式的数据？我猜如果它是在 .NET 中创建的，那么我只看为 Web 服务提供的 WSDL？

那是对的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T07:37:12.447

您始终可以查看响应中的 HTTP 标头，尤其是内容类型。不能保证它们是正确的，但是“application/json”或“application/xml”的存在应该会给你一个线索。

但是，知道响应是 XML 或 JSON 对您没有多大帮助。如果您不知道 Web 服务返回什么，并且它返回`<akhegc snt="jsg"/>`，那么知道这是 XML 实际上并不能帮助您理解它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T03:44:21.967

如果它有 wsdl 并且符合标准 ( [http://www.w3.org/TR/wsdl](http://www.w3.org/TR/wsdl) )，它将发出 XML。

# c# - C# 应用程序发送电子邮件。错误 [发送邮件失败。]

> ID：11304116
> 
> 赞同：1
> 
> 时间：2012-07-03T03:34:46.413
> 
> 标签：c#, email, smtp, gmail, hotmail

我正在使用 Visual Studio 2012 RC 中的 .net 框架 4.5 在 C# 中构建应用程序。

为了申请反馈和问题，我正在向我的帐户发送电子邮件。这是一个小应用程序。

几天前，我的应用程序运行良好。我正在接收电子邮件。

现在我收到异常弹出“发送邮件失败”。

我尝试了很多调整，但没有效果。我的帐户没有要求重新激活。我也关闭了我的防火墙.. 没有任何工作同样的例外。我附上了一个例外细节。也。请看一下。

请帮我。我做了太多的谷歌。

**我的代码是**

```
MailMessage message = new MailMessage();
try
{
    message.To.Add(new MailAddress(mailTo));
    message.From = new MailAddress(mailFrom);

    //Attachment attachment = new Attachment(FileUpload1.PostedFile.FileName);
    message.Subject = "McFarlane Industries Product's Registration Request";
    message.Body = packageRequestContent();
    message.BodyEncoding = System.Text.Encoding.UTF8;
    message.SubjectEncoding = System.Text.Encoding.UTF8;
    //message.Attachments.Add(attachment);

    SmtpClient client = new SmtpClient();
    client.Port = 587; // Gmail works on this port
    client.Host = "smtp.gmail.com";
    System.Net.NetworkCredential nc = new System.Net.NetworkCredential(mailFrom, mailFromPass);
    client.EnableSsl = true;
    client.UseDefaultCredentials = false;
    client.Credentials = nc;
    client.Send(message);
    MessageBox.Show("Thank you for Registring...!", "Register Notification!", MessageBoxButtons.OK, MessageBoxIcon.Information);

}
catch (Exception ex)
{
    MessageBox.Show("Request not submitted. " + ex.Message);
} 
```

**异常详情如下：**

```
System.Net.Mail.SmtpException was unhandled
  HResult=-2146233088
  Message=Failure sending mail.
  Source=System
  StackTrace:
       at System.Net.Mail.SmtpClient.Send(MailMessage message)
       at McFarlaneIndustriesPOSnamespace.Registration.sendMailUsingHotmail(String mailFrom, String mailFromPass, String mailTo) in e:\Works\McFarlane Industries\McFarlane Industries Point of Sale Source Code\McFarlaneIndustries\Registration.cs:line 73
       at McFarlaneIndustriesPOSnamespace.Registration.buttonSendRegistrationRequest_Click(Object sender, EventArgs e) in e:\Works\McFarlane Industries\McFarlane Industries Point of Sale Source Code\McFarlaneIndustries\Registration.cs:line 47
       at System.Windows.Forms.Control.OnClick(EventArgs e)
       at System.Windows.Forms.Button.OnClick(EventArgs e)
       at System.Windows.Forms.Button.OnMouseUp(MouseEventArgs mevent)
       at System.Windows.Forms.Control.WmMouseUp(Message& m, MouseButtons button, Int32 clicks)
       at System.Windows.Forms.Control.WndProc(Message& m)
       at System.Windows.Forms.ButtonBase.WndProc(Message& m)
       at System.Windows.Forms.Button.WndProc(Message& m)
       at System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message& m)
       at System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message& m)
       at System.Windows.Forms.NativeWindow.DebuggableCallback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)
       at System.Windows.Forms.UnsafeNativeMethods.DispatchMessageW(MSG& msg)
       at System.Windows.Forms.Application.ComponentManager.System.Windows.Forms.UnsafeNativeMethods.IMsoComponentManager.FPushMessageLoop(IntPtr dwComponentID, Int32 reason, Int32 pvLoopData)
       at System.Windows.Forms.Application.ThreadContext.RunMessageLoopInner(Int32 reason, ApplicationContext context)
       at System.Windows.Forms.Application.ThreadContext.RunMessageLoop(Int32 reason, ApplicationContext context)
       at System.Windows.Forms.Application.Run(Form mainForm)
       at McFarlaneIndustriesPOSnamespace.Program.Main() in e:\Works\McFarlane Industries\McFarlane Industries Point of Sale Source Code\McFarlaneIndustries\Program.cs:line 20
       at System.AppDomain._nExecuteAssembly(RuntimeAssembly assembly, String[] args)
       at System.AppDomain.nExecuteAssembly(RuntimeAssembly assembly, String[] args)
       at System.Runtime.Hosting.ManifestRunner.Run(Boolean checkAptModel)
       at System.Runtime.Hosting.ManifestRunner.ExecuteAsAssembly()
       at System.Runtime.Hosting.ApplicationActivator.CreateInstance(ActivationContext activationContext, String[] activationCustomData)
       at System.Runtime.Hosting.ApplicationActivator.CreateInstance(ActivationContext activationContext)
       at System.Activator.CreateInstance(ActivationContext activationContext)
       at Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssemblyDebugInZone()
       at System.Threading.ThreadHelper.ThreadStart_Context(Object state)
       at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
       at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
       at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
       at System.Threading.ThreadHelper.ThreadStart()
  InnerException: System.IO.IOException
       HResult=-2146232800
       Message=Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host.
       Source=System
       StackTrace:
            at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
            at System.Net.DelegatedStream.Read(Byte[] buffer, Int32 offset, Int32 count)
            at System.Net.BufferedReadStream.Read(Byte[] buffer, Int32 offset, Int32 count)
            at System.Net.Mail.SmtpReplyReaderFactory.ReadLines(SmtpReplyReader caller, Boolean oneLine)
            at System.Net.Mail.SmtpReplyReaderFactory.ReadLine(SmtpReplyReader caller)
            at System.Net.Mail.CheckCommand.Send(SmtpConnection conn, String& response)
            at System.Net.Mail.StartTlsCommand.Send(SmtpConnection conn)
            at System.Net.Mail.SmtpConnection.GetConnection(ServicePoint servicePoint)
            at System.Net.Mail.SmtpTransport.GetConnection(ServicePoint servicePoint)
            at System.Net.Mail.SmtpClient.GetConnection()
            at System.Net.Mail.SmtpClient.Send(MailMessage message)
       InnerException: System.Net.Sockets.SocketException
            HResult=-2147467259
            Message=An existing connection was forcibly closed by the remote host
            Source=System
            ErrorCode=10054
            NativeErrorCode=10054
            StackTrace:
                 at System.Net.Sockets.Socket.Receive(Byte[] buffer, Int32 offset, Int32 size, SocketFlags socketFlags)
                 at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
            InnerException: 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T03:38:04.677

我会尝试使用网络界面登录 Hotmail/Gmail 帐户。有时Hotmail会随机锁定你的账户，让你重设密码；特别是如果您使用该帐户发送批量电子邮件。

# java - 如何防止外部 XMPP 组件的大小写折叠？

> ID：11304119
> 
> 赞同：1
> 
> 时间：2012-07-03T03:35:20.627
> 
> 标签：java, xmpp

我们正在开发 Tinder/Whack 提供的 XMPP 外部组件，并希望保留此案例。例如，如果 JID 是 Bob@myhost.com，我们不想翻译为 bob@myhost.com。我们看到外部组件作为 Bob@myhost.com 的 jid，但是当它们到达我们的特定代码时，它们被折叠到 bob@myhost.com。我们需要保存这个案子。

保存 JID 案例的最佳方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T21:32:45.103

JID 的“localpart”目前在[RFC 6122 的第 2.3 节](https://www.rfc-editor.org/rfc/rfc6122#section-2.3)中定义，参考附录 A，其中[说](https://www.rfc-editor.org/rfc/rfc6122#appendix-A.3)：

> A.3。映射
> 
> [此配置文件使用来自STRINGPREP](https://www.rfc-editor.org/rfc/rfc3454#appendix-B.2)的下表指定映射：
> 
> ```
> Table B.1
> Table B.2 
> ```

请注意，STRINGPREP 的表 B.2 是丑陋的硬编码大小写折叠。所以不，你不能关闭大小写折叠来比较 JID，许多服务器和库会修改它们处理的 JID，以避免不得不多次执行代价高昂的规范化。

如果您希望对此进行更改，我们正在 IETF 的[précis 工作组](http://datatracker.ietf.org/wg/precis/charter/)中开发一个新的字符串比较框架，欢迎提出意见 - 但向后兼容性要求将使您的立场难以争论。

# graphicsmagick - 如何使用 GraphicsMagick CLI 创建透明图像？

> ID：11304124
> 
> 赞同：1
> 
> 时间：2012-07-03T03:36:14.900
> 
> 标签：graphicsmagick

我试图找出如何使用 GraphicsMagick CLI 修改图像的不透明度时空手而归。我只是想输入一个标准图像并将其转换为具有降低不透明度的相应图像。我正在运行 GraphicsMagick 1.3.14。使用 ImageMagick，我可以发出命令：

```
convert input.png -alpha set -channel a -evaluate set 50% +channel output.png 
```

但是，该`-alpha`选项（除其他外）未被识别为有效的 GM 转换选项（[此处的转换选项参考](http://www.graphicsmagick.org/convert.html#conv-opti)）。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-06T13:10:14.293

这个问题是[在 SuperUser 上交叉发布的](https://superuser.com/questions/444585/how-to-create-a-transparent-image-with-graphicsmagick-cli)，因为我后来认为 SuperUser 可能是更合适的出口。引用[Bob Friesenhahn 的](https://superuser.com/users/144078/bob-friesenhahn)话：

> GraphicsMagick 中的等价物是
> 
> `gm convert input.png -operator Opacity Multiply 0.5 output.png`
> 
> 或者
> 
> `gm convert input.png -operator Opacity Assign 50% output.png`
> 
> 取决于您真正想做的事情（调制或分配）。
> 
> 如果您不知道图像是否已经有一个活动的不透明度通道，您应该在`-matte`之前添加。`-operator`
> 
> 鲍勃

# jquery - jQuery中的ViewModel数据

> ID：11304127
> 
> 赞同：0
> 
> 时间：2012-07-03T03:36:53.497
> 
> 标签：jquery, asp.net-mvc-3

我一直在像这样在jquery中使用ViewModel的属性。虽然效果很好，但我只是在读取属性的值。为了使用 jquery 设置属性，我使用隐藏变量。请告诉我这是一个好习惯吗？

```
 if ("@Model.IsTemplate" == "@bool.FalseString") {
        $("#someButton").show();
        if ("@Model.Active" == "@bool.TrueString") {
            $("#activeschedulespan").show();
            $("#inactiveschedulespan").hide();
        } 
```

请不要说这很好用，但想知道它是好还是坏。如果不好，那么欢迎替代品。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T06:31:00.777

这是非常糟糕的做法。我不会像这样将服务器端 Razor 代码与 javascript 混合使用。我会简单地 JSON 序列化模型（或仅我需要的属性），然后直接操作它：

```
<script type="text/javascript">
    // we serialize the IsTemplate and Active properties of the model because we
    // only need them in javascript, but if we needed other properties we could have
    // included them as well or serialize the entire model
    var model = @Html.Raw(Json.Encode(Model.Select(x => new { x.IsTemplate, x.Active })));

    // now that we have the model javascript variable, let's manipulate it:
    if (!model.IsTemplate) {
        $('#someButton').show();
        if (model.Active) {
            $('#activeschedulespan').show();
            $('#inactiveschedulespan').hide();
        }
    }
</script> 
```

但是，嘿，为什么我觉得您使用 javascript 来完成应该直接在服务器端完成的事情呢？在这个特定示例中，您使用 javascript 根据您在服务器上知道的值（您的模型）显示/隐藏 DOM 中的内容。因此，您可以完全摆脱这个 javascript，并根据模型的属性决定是否将这些部分包含在 DOM 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:02:49.880

我不认为这是一个问题。因为 C# 代码在浏览器中呈现时会编译为文本。如果您在浏览器中看到您的脚本，您将看到类似这样的内容。

```
 if ("True" == "True") {
    $("#someButton").show();
    if ("False" == "True") {
        $("#activeschedulespan").show();
        $("#inactiveschedulespan").hide();
    } 
```

考虑`@Model.IsTemplate`= 真和`@Model.Active = false`

您可以使用浏览器开发人员工具查看脚本。或者只是查看页面的来源并找到脚本。

# sql - 如何在具有复合外键的数据库上创建代理键？

> ID：11304128
> 
> 赞同：0
> 
> 时间：2012-07-03T03:36:56.260
> 
> 标签：sql, sqlite

我正在研究最初使用复合外键/主键设计的 SQLite 数据库模式，我正在尝试将其更改为使用代理键。为代理键创建一个新列很容易，但现在我需要将代理键链接回父表 - 最好的方法是什么？

旧架构摘录：

```
CREATE TABLE "parent" (
    "caseid"  TEXT NOT NULL,
    "issueid" INTEGER NOT NULL,
    "data"    TEXT,
    PRIMARY KEY("caseid", "issueid")
)

CREATE TABLE "child" (
    "caseid"    TEXT NOT NULL,
    "issueid"   INTEGER NOT NULL,
    "childdata" TEXT,
    FOREIGN KEY("caseid", "issueid") REFERENCES parent("caseid", "issueid")
) 
```

新架构摘录：

```
CREATE TABLE "parent" (
    "id"      INTEGER PRIMARY KEY,
    "caseid"  TEXT NOT NULL,
    "issueid" INTEGER NOT NULL,
    "data"    TEXT
)

CREATE TABLE "child" (
    "id"        INTEGER PRIMARY KEY,
    "childdata" TEXT,
    "parent_id" INTEGER REFERENCES parent("id")
) 
```

我的问题是，在用原始子表中的数据填充新子表后，如何填充“parent_id”字段，该字段现在是代理键而不是复合外键？有没有一种简单的方法可以作为 SQL 命令执行此操作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T06:31:40.167

`child`首先通过附加新列来更改表`id`，但不（尚未）删除旧的`caseid`+`issueid`列：

```
CREATE TABLE "parent" (
    "id"      INTEGER PRIMARY KEY,
    "caseid"  TEXT NOT NULL,
    "issueid" INTEGER NOT NULL,
    "data"    TEXT
);

CREATE TABLE "child" (
    "id"        INTEGER PRIMARY KEY,
    "caseid"    TEXT NOT NULL,
    "issueid"   INTEGER NOT NULL,
    "childdata" TEXT,
    "parent_id" INTEGER REFERENCES parent("id")
); 
```

更新`child.parent_id`一些有意义的值：

```
UPDATE child
SET parent_id = (
  SELECT parent.id
  FROM   parent
  WHERE  parent.caseid  = child.caseid
    AND  parent.issueid = child.issueid
); 
```

现在您可以安全地删除`child`'s `caseid`/`issueid`列。

# sql - Ruby ActiveRecord 通过关联进行多个连接

> ID：11304130
> 
> 赞同：2
> 
> 时间：2012-07-03T03:37:24.480
> 
> 标签：sql, ruby-on-rails, activerecord, join, associations

我想转换

```
SELECT `users`.* FROM `users`
INNER JOIN `memberships`
    ON `memberships`.`user_id` = `users`.`id`
INNER JOIN `roles`
    ON `roles`.`id` = `memberships`.`role_id`
WHERE `memberships`.`group_id` = 'NUCC' AND (expiration > '2012-07-02')
ORDER BY `roles`.`rank` DESC 
```

进入 ActiveRecord 关联。

组通过成员资格有许多成员（用户类）。每个成员都有一个角色 (role_id)，该角色映射到另一个表 (roles)，然后是一个 AR 模型 (Role)。每个角色都有一个与之关联的等级（整数）。

我想简单地按会员角色等级对组的成员进行排序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T04:01:27.260

未经测试，可能有错别字，但是...

```
class User < ActiveRecord::Base
  has_many :memberships
  has_many :roles, :through => :memberships, :uniq => true
end

class Membership < ActiveRecord::Base
  belongs_to :user
  belongs_to :role
end

class Role < ActiveRecord::Base
  has_many :memberships
  has_many :users, :through => :memberships, :uniq => true
end 
```

然后，按 role.rank 对用户进行排序：

```
q = User.joins(:memberships => :users)
q = q.where(:memberships.group_id => 'NUCC')
q = q.where("expressionn > '2012-07-02'")
q = q.order("roles.rank DESC")
puts q.to_sql 
```

AREL 让你可以很容易地加入这样的事情。例如，您可以`INNER JOINS`使用类似于以下的语法进一步保持这种状态：

```
User.joins(:memberships => { :users => :someothermodel }) 
```

只要记住在需要通过 JOIN 引用某些内容时复制该结构，或者只是编写自己的 SQL 片段。

# android - 获取简单列表项单选 - 获取选定项

> ID：11304143
> 
> 赞同：2
> 
> 时间：2012-07-03T03:40:05.767
> 
> 标签：android, listview, android-arrayadapter

所以，这可能是一个简单的问题，或者我可能完全在这里做事，但这就是我所拥有的：

```
public class SetPrefsActivity extends ListActivity{
@Override
public void onCreate(Bundle savedInstanceState){
    super.onCreate(savedInstanceState);
    setContentView(R.layout.radiolist);
    ArrayList<Hall> listItems = new ArrayList<Hall>();
    ArrayAdapter<Hall> ar = new ArrayAdapter<Hall>(this, android.R.layout.simple_list_item_single_choice, listItems);
    setListAdapter(ar);
    ListView lv = getListView();
    lv.setTextFilterEnabled(true);

    lv.setOnItemClickListener(new OnItemClickListener()
    {
    boolean somethingChecked = false;
    int lastChecked;
       public void onItemClick(AdapterView arg0, View arg1, int arg2,
         long arg3) {
           if(somethingChecked){
               ListView lv = (ListView) arg0;
               TextView tv = (TextView) lv.getChildAt(lastChecked);
               CheckedTextView cv = (CheckedTextView) tv;
               cv.setChecked(false);
           }
           ListView lv = (ListView) arg0;
           TextView tv = (TextView) lv.getChildAt(arg2);
           CheckedTextView cv = (CheckedTextView) tv;
           if(!cv.isChecked())
           cv.setChecked(true);
           lastChecked = arg2;
           somethingChecked=true;
       }
    });
    new LoadListTask().execute(); //This loads Items into the List

    Button b = (Button) findViewById(R.id.savePrefBtn);
    b.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {

            //IF SOMETHING IS SELECTED,
            //THEN UPDATE SHARED PREFERENCES

            Intent i = new Intent(SetPrefsActivity.this, SomeOtherActivity.class);
            startActivity(i);
            }

        }
    });
}
//other stuff to fill the arrayAdapter
} 
```

我想做的是：当有人单击按钮时，它会从列表视图中获取信息并根据选择的单选选项更新共享首选项。

我遇到的问题是获取当前选定项目的索引。检索该信息的最佳方法是什么？我执行单选列表完全错误吗？

谢谢你！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T04:25:37.300

`arg2`是您列表中的位置。

看起来您正在做一些额外的（不必要的）处理。 `arg1`是您的行视图，并且由于`android.R.layout.simple_list_item_single_choice`布局仅包含 a `CheckedTextView`，因此您可以直接使用它而无需查找它。

```
CheckedTextView cv = (CheckedTextView) arg1; 
```

# android - 我如何知道服务器是否收到聊天消息？

> ID：11304147
> 
> 赞同：4
> 
> 时间：2012-07-03T03:40:22.997
> 
> 标签：android, xmpp, asmack

我正在使用 XMPP 为 Android 创建一个 Instant Messenger 应用程序。如何确定我发送的消息是否被服务器接收？或者我如何确定消息是否已发送？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-03T13:19:52.447

您需要支持称为[Stream Management](http://xmpp.org/extensions/xep-0198.html)的东西，它允许您确认服务器已收到您发送的节。 [Smack 尚不支持此功能](http://issues.igniterealtime.org/browse/SMACK-333)。

另一种选择是[端到端收据](http://xmpp.org/extensions/xep-0184.html)，但这[也不支持](http://issues.igniterealtime.org/browse/SMACK-331)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-15T00:07:45.563

xmpp 协议不使用消息节的确认，仅对于 IQ 节，它将获得返回消息以进行确认。您可以使用 ping 消息检查与 te 服务器的连接是否仍然正常。如果不支持 ping，服务器应该通过返回 ping 或错误来响应。你知道你的连接仍在工作的以太网方式，你可以假设你的消息正在被接收。

# sql - SQL查询构造：检查查询结果是否是另一个的子集

> ID：11304154
> 
> 赞同：1
> 
> 时间：2012-07-03T03:41:25.970
> 
> 标签：sql, sql-server-2008

嗨，伙计们，我有一个像这样工作的表关系（旧版）

A有很多B，B有很多C；A 也有很多 C

现在我很难想出一个 SQL，它可以帮助我将所有 B（B 的 ID 使其简单化）映射到某个 A（按 Id）和任何具有 C 集合的 B 集合，该集合是 Cs 的子集那个A。

我没有专门为第二部分想出一个像样的 sql，我想知道我是否可以得到任何提示/建议我如何做到这一点。

谢谢

编辑：

```
Table A

Id     |..
------------
 1     |..

Table B

Id     |..
--------------
2      |..

Table A_B_rel 

A_id  |    B_id
-----------------
1     |     2 
```

C是一张奇怪的桌子。C（单列）的数据实际上只是在 A 和 B 的 2 个 rel 表中复制。所以它是这样的

```
Table B_C_Table

B_Id| C_Value
-----------------
2   | 'Somevalue' 

Table A_C_Table

A_Id| C_Value
-------------
1   |    'SomeValue' 
```

所以我正在寻找 Bs，其 C_Values 是某些 A_C_Values 的子集。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T07:53:53.310

是的，你的问题的第二部分有点棘手。`B_C_Table`一方面，我们有`A_C_Table`一个`A_ID`特定 ID 的子集。

现在，如果我们使用外连接，我们将能够看到 in 中的哪些行与 in`B_C_Table`不匹配`A_C_Table`：

```
SELECT *
FROM B_C_Table bc
  LEFT JOIN A_C_Table ac ON bc.C_Value = ac.C_Value AND ac.A_ID = @A_ID 
```

请注意，将in`ac.A_ID = @A_ID`放入`ON`子句而不是 into很重要`WHERE`，因为在后一种情况下，我们将过滤掉 的不匹配行`@A_ID`，这不是我们想要的。

下一步（实现最终查询）是对行进行分组并对行进行`B`计数。现在，我们将计算总行数和*匹配*行数。

```
SELECT
  bc.B_ID,
  COUNT(*)       AS TotalCount,
  COUNT(ac.A_ID) AS MatchCount
FROM B_C_Table bc
  LEFT JOIN A_C_Table ac ON bc.C_Value = ac.C_Value AND ac.A_ID = @A_ID
GROUP BY bc.B_ID 
```

如您所见，要计算匹配项，我们只需计算`ac.A_ID`值：如果不匹配，则相应的列将被`NULL`计算在内，因此不会被计算在内。如果确实某些行`B_C_Table`与 的子集中的任何行都不匹配`A_C_Table`，我们将看到和的*不同*值。`TotalCount``MatchCount`

从逻辑上讲，这将我们引向最后一步：*比较*这些计数。（因为，很明显，如果我们可以获得值，我们也可以比较它们。）但`WHERE`当然不能在子句中，因为`WHERE`. 它`HAVING`是用于比较*分组*行的值的子句，也包括聚合值。所以...

```
SELECT
  bc.B_ID,
  COUNT(*)       AS TotalCount,
  COUNT(ac.A_ID) AS MatchCount
FROM B_C_Table bc
  LEFT JOIN A_C_Table ac ON bc.C_Value = ac.C_Value AND ac.A_ID = @A_ID
GROUP BY bc.B_ID
HAVING COUNT(*) = COUNT(ac.A_ID) 
```

当然，计数值并不是真正需要的，当您删除它们时，您将能够将上述查询与从以下选择的查询进行`B_ID`联合`A_B_rel`：

```
SELECT B_ID
FROM A_B_rel
WHERE A_ID = @A_ID

UNION

SELECT bc.B_ID
FROM B_C_Table bc
  LEFT JOIN A_C_Table ac ON bc.C_Value = ac.C_Value AND ac.A_ID = @A_ID
GROUP BY bc.B_ID
HAVING COUNT(*) = COUNT(ac.A_ID) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T16:23:16.017

听起来您需要考虑双重否定，即不应该存在任何没有匹配 A_C 的 B_C（我猜应该至少有一个 B_C）。

所以，尝试类似的东西

```
select B.B_id
from Table_B B 
where exists (select 1 from B_C_Table BC
                  where BC.B_id = B.B_id)
  and not exists (select 1 from B_C_Table BC
                  where BC.B_id = B.B_id
                    and not exists(select 1 from B_C_Table AC
                                   join A_B_Rel ABR on AC.A_id = ABR.A_id
                                   where ABR.B_id = B.B_id
                                     and BC.C_Value = AC.C_Value)) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-03T04:21:48.283

也许这就是您正在寻找的：

```
SELECT B_id
FROM A_B_rel
WHERE A_id = <A ID>

UNION

SELECT a.B_Id
FROM B_C_Table a
LEFT JOIN A_C_Table b ON a.C_Value = b.C_Value AND b.A_Id = <A ID>
GROUP BY a.B_Id
HAVING COUNT(CASE WHEN b.A_Id IS NULL THEN 1 END) = 0 
```

第一个`SELECT`获取`B`映射到特定的所有 ' `A`（`<A ID>`作为 A ID 的输入参数），然后我们在该结果集上附加任何其他`B`'，其*整个*`C_Value`'集都**在**`C_Value`特别`A`（再次，`<A ID>`作为输入参数）。

# iphone - UISlider 拇指停止拖动

> ID：11304155
> 
> 赞同：0
> 
> 时间：2012-07-03T03:41:34.793
> 
> 标签：iphone, objective-c, ios, cocoa-touch

我在一个视图中有一个 UISlider，在一个典型的细节视图控制器中。当我触摸滑块的拇指时，我可以很好地将它向左拖动，一旦我将它向左拖动，我可以继续将它拖动到任何我想要的地方，但是当我向右拖动它时，它会移动几个像素然后拖动停止。

我在[UISlider 上读到的只是滑动了一小段距离](https://stackoverflow.com/questions/11104549/uislider-only-slide-a-small-distance)，它可能与手势识别器有关，但我在这个视图中没有任何识别器处于活动状态。我尝试暂时删除任何可能干扰的识别器，但这没有帮助。

我没有任何示例代码要包含，因为在我遇到问题的情况下实际上涉及的代码并不多。我有一个 UIViewController 子类，它上面有一个 UISlider，并且我有一个 IB 为“Value Changed”事件生成的操作。这会触发，正如我所说，我可以向左拖动滑块，但不能向右拖动。

我尝试更改操作，所以它所做的只是 NSLog 滑块的值，但这无济于事。

我预计问题是与我正在开发的应用程序中的其他内容进行了一些交互，但我不确定在哪里看。我正在寻找可能导致这种情况的一些想法。

**更新**

所以我发现了问题。这是 iOS 5.1 中的一个错误，在[iOS 5.1 滑动手势被 UISplitViewController 劫持中描述 - 如何避免？](https://stackoverflow.com/questions/9691523/ios-5-1-swipe-gesture-hijacked-by-uisplitviewcontroller-how-to-avoid).

我通过枚举所有手势识别器（通过从 self.view.window 遍历视图层次结构并转储它们）然后有选择地删除它们，然后谷歌搜索最终导致问题的那个来跟踪它。屁股疼。把这个留给下一个受害者。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-07T19:04:18.283

我将答案作为问题的更新发布，但简而言之，这是一个 iOS 5.1 错误。拆分视图控制器的平移手势识别器干扰了滑块。我的解决方法是禁用该识别器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T05:34:15.667

您可能正在尝试将滑块的值增加到大于 1 的值。您需要输入一个介于 0 和 1 之间的浮点数，例如 0.46。

查看更新值的代码部分并进行检查。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-09T07:57:24.687

简短的回答：

尝试将滑块的属性设置`continuous`为`NO`.

长答案：

我遇到了类似的问题：滑块的拇指不会在 iPad 5.1 模拟器上移动。不过在 iOS 6 上没有问题。就我而言，我在代码中设置滑块`minimumValue`和`maximumValue`其他一些值。在我将`continuous`属性设置为`NO`. 相关代码片段：

```
 self.precisionSlider.minimumValue = 0;
            self.precisionSlider.maximumValue = 15;
            self.precisionSlider.continuous = NO; 
```

# java - 为什么 HttpPost 出现异常？

> ID：11304157
> 
> 赞同：0
> 
> 时间：2012-07-03T03:41:50.343
> 
> 标签：java, android

我通过使用 HTTP-post 发送值，但发生异常我的代码如下：-

```
public static InputStream SendDetails(String senderEmail,String senderName,String senderPhone,String comment )
{
     if(item != null)
        {
            url = constants.STATEURL + item.getListingid().toString()+"/contact";//?access_token=0|V1CALGARY|e98984a4c954fa1d78e3be626ad81a1d&mode=map";
        }
        else if(itemsavedfromdb != null)
        {
            url = constants.STATEURL + itemsavedfromdb.getListingid().toString()+"/contact";//?access_token=0|V1CALGARY|e98984a4c954fa1d78e3be626ad81a1d&mode=map";
        }
        else if(itemrecentfromdb != null)
        {
            url = constants.STATEURL + itemrecentfromdb.getListingid().toString()+"/contact";//?access_token=0|V1CALGARY|e98984a4c954fa1d78e3be626ad81a1d&mode=map";
        }

        List<BasicNameValuePair> nameValuePairs = new ArrayList<BasicNameValuePair>();
        nameValuePairs.add(new BasicNameValuePair("access_token",constants.accesstokenstate));

        nameValuePairs.add(new BasicNameValuePair("mode","map"));

        nameValuePairs.add(new BasicNameValuePair("senderEmail",senderEmail));

        nameValuePairs.add(new BasicNameValuePair("senderName",senderName));

        nameValuePairs.add(new BasicNameValuePair("senderPhone",senderPhone));

        nameValuePairs.add(new BasicNameValuePair("comment",comment));  

        HttpPost request = new HttpPost(url);
        request.setEntity(new UrlEncodedFormEntity(nameValuePairs));
        HttpClient client = new DefaultHttpClient();
        HttpResponse response = client.execute(request);

        return response.getEntity().getContent(); 
```

这个方法被称为：-

```
 SAXParserFactory spf = SAXParserFactory.newInstance();
            SAXParser sp = spf.newSAXParser();
            XMLReader xr = sp.getXMLReader();
            mailHandler myhandler = new mailHandler();
            xr.setContentHandler(myhandler);
            String mailID = youremail.getText().toString();

            if(mailID != null && !mailID.equalsIgnoreCase("") )
             {
               System.out.println("1");
               ios = SendDetails(mailID,yourName.getText().toString(),yourPhoneNo.getText().toString(),yourMessage.getText().toString());   
               System.out.println("ios-----"+ios);
               String strResponse = convertStreamToString(ios);
                   System.out.println("response"+strResponse);                 
               xr.parse(new InputSource(ios));

                resultmail = myhandler.emailresultdata();

                customizeDialog = new CustomizeDialog(PropertyDetail.this);  
                customizeDialog.setTitle("Success");  
                customizeDialog.setMessage("Email send successfully");  
                customizeDialog.show(); 
```

由于数据未成功发送，上述代码发生异常

以下是堆栈跟踪：-

```
07-03 09:02:15.264: WARN/System.err(491): java.io.IOException: Attempted read on closed stream.
07-03 09:02:15.275: WARN/System.err(491):     at org.apache.http.conn.EofSensorInputStream.isReadAllowed(EofSensorInputStream.java:127)
   07-03 09:02:15.275: WARN/System.err(491):     at org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:176)
   07-03 09:02:15.275: WARN/System.err(491):     at org.apache.harmony.xml.ExpatParser.parseFragment(ExpatParser.java:516)
   07-03 09:02:15.275: WARN/System.err(491):     at org.apache.harmony.xml.ExpatParser.parseDocument(ExpatParser.java:479)
   07-03 09:02:15.275: WARN/System.err(491):     at org.apache.harmony.xml.ExpatReader.parse(ExpatReader.java:318)
   07-03 09:02:15.275: WARN/System.err(491):     at org.apache.harmony.xml.ExpatReader.parse(ExpatReader.java:275)
   07-03 09:02:15.275: WARN/System.err(491):     at com.rentfaster.home.PropertyDetail.onClick(PropertyDetail.java:1623)
   07-03 09:02:15.275: WARN/System.err(491):     at java.lang.reflect.Method.invokeNative(Native  Method)
   07-03 09:02:15.275: WARN/System.err(491):     at java.lang.reflect.Method.invoke(Method.java:507)
    07-03 09:02:15.275: WARN/System.err(491):     at android.view.View$1.onClick(View.java:2139)
    07-03 09:02:15.284: WARN/System.err(491):     at android.view.View.performClick(View.java:2485)
    07-03 09:02:15.284: WARN/System.err(491):     at android.view.View$PerformClick.run(View.java:9080)
    07-03 09:02:15.284: WARN/System.err(491):     at android.os.Handler.handleCallback(Handler.java:587)
    07-03 09:02:15.284: WARN/System.err(491):     at android.os.Handler.dispatchMessage(Handler.java:92)
    07-03 09:02:15.284: WARN/System.err(491):     at android.os.Looper.loop(Looper.java:130)
     07-03 09:02:15.284: WARN/System.err(491):     at android.app.ActivityThread.main(ActivityThread.java:3683)
   07-03 09:02:15.284: WARN/System.err(491):     at java.lang.reflect.Method.invokeNative(Native Method)
   07-03 09:02:15.284: WARN/System.err(491):     at java.lang.reflect.Method.invoke(Method.java:507)
   07-03 09:02:15.284: WARN/System.err(491):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
   07-03 09:02:15.294: WARN/System.err(491):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
   07-03 09:02:15.294: WARN/System.err(491):     at dalvik.system.NativeStart.main(Native Method) 
```

我的 convertStreamToString 方法是：-

```
private static String convertStreamToString(InputStream is) {

    BufferedReader reader = new BufferedReader(new InputStreamReader(is));
    StringBuilder sb = new StringBuilder();

    String line = null;
    try {
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
    } catch (IOException e) {
        e.printStackTrace();
    } finally {
        try {
            is.close();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
    return sb.toString();
} 
```

任何人都建议我我错在哪里以及正确的方法是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T03:47:40.663

好的，将您的代码从

```
xr.parse(new InputSource(ios)); 
```

至

```
InputStream input = new ByteArrayInputStream(strResponse.getBytes());
xr.parse(new InputSource(input)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:01:09.033

阅读我关于在单独线程上执行网络连接的博客文章。将请求包装在 an`AsyncTask`或 a中`Thread`通常可以解决问题。它还使您的应用程序响应速度更快，更不容易出现 ANR 强制关闭对话框。

### [为什么冰淇淋三明治会使您的应用程序崩溃](http://www.androiddesignpatterns.com/2012/06/app-force-close-honeycomb-ics.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T03:57:37.593

您正在将输入流传递给 convertStreamToString 方法，并且您正在关闭该方法中输入流的相同实例。在该方法之后，您仍然使用相同的流实例。这就是你得到这个例外的原因。

在您的 convertStreamToString 方法中创建一个输入流的局部变量，如下所示。

```
private static String convertStreamToString(InputStream is) {

    InputStream inputStream = is;
    BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));
    StringBuilder sb = new StringBuilder();

    String line = null;
    try {
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
    } catch (IOException e) {
        e.printStackTrace();
    } finally {
        try {
            inputStream.close();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
    return sb.toString();
} 
```

尝试这个。

# facebook - 如何为 Facebook 图形 API 创建自定义登录 URL？

> ID：11304159
> 
> 赞同：-1
> 
> 时间：2012-07-03T03:42:25.023
> 
> 标签：facebook, facebook-graph-api

我想从 Facebook 用户那里获取用户名和凭据，以便他可以针对我的应用程序作为用户进行身份验证。现在，getLoginUrl 返回一个在 Facebook 上的网站，它可以工作。如何避免用户从我的网站跳转到 Facebook？我可以显示一个自定义表单来获取用户名和密码并直接发送到 FB 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T05:30:55.393

为此，您必须使用`FB.login`Javascript API 中的函数，

```
function fbAuth() {
    FB.login(function(response) {
      if (response.authResponse) {
        alert('User fully authorize the app.');
      } else {
        alert('User canceled login or did not fully authorize the app.');
      }
    }, { scope: 'email,friend_likes' });
} 
```

然后您可以使用 onclick 事件或您想要的任何其他方法调用它：

```
<a href="#" onclick="return fbAuth();">Login</a> 
```

文档：[https ://developers.facebook.com/docs/reference/javascript/FB.login/](https://developers.facebook.com/docs/reference/javascript/FB.login/)

# javascript - CSS3翻转（旋转）效果在翻转倒计时插件中显示它的背面

> ID：11304160
> 
> 赞同：0
> 
> 时间：2012-07-03T03:42:49.367
> 
> 标签：javascript, css, webkit, effects

尝试实现[翻转倒计时库时](http://cnanney.com/journal/demo/css-flip-counter/)

当前数字的下部显示在当前下降的瓷砖中，这是错误的。正如您在此演示中看到的：http: [//jsfiddle.net/mBFLA/1/](http://jsfiddle.net/mBFLA/1/)

绘图是在这部分代码中制作的：

```
ch += '<li class="digit"><div id="digit-a' + i + '" class="digit-wrap"><div class="shadow"></div>' + '<div class="top-new"><span>' + dNew + '</span></div>' + '<div class="digit-hinge"><div class="top-old"><span>' + dOld + '</span></div>' + '<div class="bottom-new"><span>' + dNew + '</span></div></div>' + '<div class="bottom-old"><span>' + dOld + '</span></div></div></li>'; 
```

可能猜测是该属性在css 类`-webkit-backface-visibility: hidden;`中被忽略。`.top-old`

注意：我现在的目标是 WebKit。

任何提示表示赞赏:)

# ibm-mq - 什么时候在 MQ 中使用客户端连接通道？

> ID：11304163
> 
> 赞同：5
> 
> 时间：2012-07-03T03:43:28.540
> 
> 标签：ibm-mq, mq

我有点不明白何时使用 MQ 客户端连接通道。据我了解，当客户端尝试连接MQ服务器时，可以通过`server connection channel`在应用程序代码中直接定义带有值的通道对象来完成。因此，如果是这样，那我们为什么需要使用这样的客户端连接通道呢？

请帮忙给我详细解释一下。非常感谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-03T11:19:58.977

客户端使用服务器连接通道连接到队列管理器。

您并没有真正使用客户端连接通道来连接到队列管理器。客户端连接通道定义连接到队列管理器所需的连接参数，例如队列管理器名称、连接名称、SSL 等。这些通道定义存储在通道定义表 (CCDT) 文件中。客户端应用程序通过 MQCHLLIB 和 MQCHLTAB 环境变量使用 CCDT 文件。

这个[链接](http://publib.boulder.ibm.com/infocenter/wmqv7/v7r0/topic/com.ibm.mq.csqzaf.doc/cs12080_.htm)和[另一个](http://www.ibm.com/developerworks/websphere/library/techarticles/0704_xu/0704_xu.html)有更多的细节。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-03T21:00:44.190

在较早版本的 WebSphere MQ 中，客户端通道定义表用于指定 SSL 参数和故障转移，因此应用程序可以在连接时从多个等效队列管理器中进行选择。CCDT 文件是已编译的工件，而`DEFINE CHL(channel name) CHLTYPE(CLNTCONN)`命令是在 CCDT 文件中生成条目的内容。`CLNTCONN`因此，如果您想创建 CCDT 文件，您只能使用通道类型。

较新版本的 WebSphere MQ 在`MQCONNX`API 中公开 CCDT 字段，并且重新连接参数位于`CONNAME`参数和`client.ini`文件中。尽管这些已使 CCDT 文件对于较新的应用程序来说已经过时，但商业和传统应用程序仍然需要该功能。IBM 尚未宣布弃用 CCDT 功能，它位于刚刚发布的 V7.5 中，因此该功能将在可预见的未来保留。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-12-17T15:03:48.330

**[什么是渠道？](http://www-01.ibm.com/support/knowledgecenter/SSFKSJ_7.0.1/com.ibm.mq.csqzaf.doc/cs11930_.htm)**

通道是 WebSphere® MQ 客户端和 WebSphere MQ 服务器之间或两个 WebSphere MQ 服务器之间的逻辑通信链接。一个通道有两个定义：一个在连接的每一端。连接的每一端必须使用相同的通道名称，并且使用的通道类型必须兼容。

**WebSphere® MQ 使用两种不同类型的通道：**

1.  留言频道
2.  MQI 频道

**消息通道**，它是两个队列管理器之间的单向通信链路。WebSphere MQ 使用消息通道在队列管理器之间传输消息。要双向发送消息，您必须为每个方向定义一个通道。

**消息通道**是一种单向链接。它使用消息通道代理 (MCA) 连接两个队列管理器。其目的是将消息从一个队列管理器传输到另一个队列管理器。客户端服务器环境不需要消息通道。
[![在此处输入图像描述](../Images/e3e104e0114fb87018ffb2d5ae58d46d.png)](https://i.stack.imgur.com/dbvPl.jpg)

**MQI 通道**，它是双向的，将应用程序（MQI 客户端）连接到服务器机器上的队列管理器。WebSphere MQ 使用 MQI 通道在 MQI 客户端和队列管理器之间传输 MQI 调用和响应

[![在此处输入图像描述](../Images/1879ea20456d83cad2199d841949def4.png)](https://i.stack.imgur.com/4UCDs.jpg)

[资源](https://www-01.ibm.com/support/knowledgecenter/SSFKSJ_7.1.0/com.ibm.mq.explorer.doc/e_channels.htm)

# android - 处理事件按下硬件按钮 Next 和 Pre？

> ID：11304165
> 
> 赞同：-1
> 
> 时间：2012-07-03T03:44:06.963
> 
> 标签：android

我想按下硬件按钮 Next 将显示 Next Screen 并按下硬件按钮 Pre 将显示 Pre Screen (ViewFliper) 你知道在 Android 中按下硬件按钮 Next 和 Pre 的事件吗？如何在 Android 中捕获事件按下硬件按钮 Next 和 Pre？您可以在此处观看图片：在此处[输入链接描述](https://www.dropbox.com/s/89pjr15kpxxk1lc/android.jpg) 谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T05:37:21.907

```
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if (keyCode == KeyEvent.KEYCODE_BACK) {
        mViewFliper.showPrevious();
        return true;
    }
    if (keyCode == KeyEvent.KEYCODE_MENU) {
        mViewFliper.showNext();
        return true;
    }
    return super.onKeyDown(keyCode, event);
} 
```

虽然我无法充分表达一个应用程序做这样的事情是多么可怕。

# ios - iOS：CGPDFContextAddDocumentMetadata 的示例代码或示例

> ID：11304166
> 
> 赞同：2
> 
> 时间：2012-07-03T03:44:19.203
> 
> 标签：ios, xcode, pdf, metadata

我需要使用 Apple 的 Objective C SDK 将一些自定义元数据嵌入到 PDF 文件中。是否有任何可用的工作示例代码可以做到这一点？

我需要的是非常基本的。打开现有的 pdf 并添加一些元数据，然后保存。

存储的信息示例如下：客户姓名、联系电话、订购的物品。

我看到这个“CGPDFContextAddDocumentMetadata”支持元数据，但我不知道元数据是什么样的，以及它是如何传递给这个函数的。

任何帮助将不胜感激...：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T03:48:27.153

元数据是元数据（当然，Adobe 建议您使用 XMP XML）。只要您创建一个有效的 CFDataRef 并将其传递给 arg 2，您就可以很好地处理任何事情。例如，下面是如何将字符串“Hello World”传递到 PDF 的元数据中：

```
void MakeAPDF()
{

    CGRect mediaRect = CGRectMake(0, 0, 400, 600);
    // use your own rect instead

    CFMutableDataRef result = CFDataCreateMutable(kCFAllocatorDefault, 0);
    CGDataConsumerRef PDFDataConsumer = CGDataConsumerCreateWithCFData(result);

    // mark the PDF as coming from your program
    CFMutableDictionaryRef auxInfo = CFDictionaryCreateMutable(kCFAllocatorDefault, 1, NULL, NULL);
    CFDictionaryAddValue(auxInfo, kCGPDFContextCreator, CFSTR("Your Programs Name"));
    CFDictionaryRef auxillaryInformation = CFDictionaryCreateCopy(kCFAllocatorDefault, auxInfo);
    CFRelease(auxInfo);

    // create a context to draw into
    CGContextRef graphicContext = CGPDFContextCreate(PDFDataConsumer, &mediaRect, auxillaryInformation);
    CFRelease(auxillaryInformation);
    CGDataConsumerRelease(PDFDataConsumer);

    // actually make the call to embed your String
    NSString* str= @"Hello World";
    NSData* data=[str dataUsingEncoding:NSUTF8StringEncoding];
    CFDataRef cfdata = CFDataCreate(NULL, [data bytes], [data length]);

    CGPDFContextAddDocumentMetadata(graphicContext, cfdata);

    CGContextBeginPage(graphicContext, &mediaRect);
    // do your drawing, like this grey rectangle
    CGContextSetGrayFillColor(graphicContext, 0.5, 0.5);
    CGContextAddRect(graphicContext, mediaRect);
    CGContextFillPath(graphicContext);
    // end your drawing

    CGContextEndPage(graphicContext);
    CGContextFlush(graphicContext);
    CGPDFContextClose(graphicContext);    
} 
```

XMP 文件可能如下所示：

```
<?xpacket begin="" id="W5M0MpCehiHzreSzNTczkc9d"?>
<x:xmpmeta xmlns:x="adobe:ns:meta/" x:xmptk="Adobe XMP Core 4.2.1-c041">
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" >
<rdf:Description rdf:about="" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <dc:format>application/pdf</dc:format>
  <dc:title>
    <rdf:Alt>
      <rdf:li />
    </rdf:Alt>
  </dc:title>
  <dc:description>
    <rdf:Alt>
      <rdf:li />
    </rdf:Alt>
  </dc:description>
  <dc:creator>
    <rdf:Seq>
      <rdf:li />
    </rdf:Seq>
  </dc:creator>
</rdf:Description>
<rdf:Description rdf:about="" xmlns:pdf="http://ns.adobe.com/pdf/1.3/">
  <pdf:Keywords />
  <pdf:Producer />
</rdf:Description>
<rdf:Description rdf:about="" xmlns:xmp="http://ns.adobe.com/xap/1.0/">
  <xmp:CreatorTool />
  <xmp:CreateDate>2011-02-10T11:41:05+02:00</xmp:CreateDate>
  <xmp:ModifyDate>2011-02-10T11:41:06+02:00</xmp:ModifyDate>
</rdf:Description></rdf:RDF>
</x:xmpmeta>
<?xpacket end="w"?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-28T14:43:25.807

UIKit 有一些方法可以让这更简单：

```
// use your own rect instead
CGRect pageRect = CGRectMake(0, 0, 400, 600);

// mark the PDF as coming from your program
NSDictionary *auxillaryInformation = @{(NSString *)kCGPDFContextCreator: @"Koedal, Inc."};
UIGraphicsBeginPDFContextToFile([[self URLOfPDF] path], pageRect, auxillaryInformation);

// Embed metadata into PDF, I'm pulling it from a textView
NSString *PDFMetadata = self.metadataTextView.text;
NSData *data = [PDFMetadata  dataUsingEncoding:NSUTF8StringEncoding];

CGContextRef PDFContext = UIGraphicsGetCurrentContext();
CGPDFContextAddDocumentMetadata(PDFContext, (CFDataRef)data);

NSDictionary *textAttributes = @{ NSFontAttributeName : [UIFont boldSystemFontOfSize:20],
                                  NSForegroundColorAttributeName : [UIColor blackColor]
                                  };

// do your drawing, like drawing this string
UIGraphicsBeginPDFPage();
NSString *content = self.contentTextField.text;
[content drawAtPoint:CGPointMake(150, 280) withAttributes:textAttributes];

// end your drawing
UIGraphicsEndPDFContext(); 
```

# arrays - 如何从 jQuery 对象数组创建 jQuery 对象？

> ID：11304173
> 
> 赞同：32
> 
> 时间：2012-07-03T03:44:46.447
> 
> 标签：arrays, jquery

假设我有一组 jQuery 对象，并希望有一个复合 jQuery 对象。

除了手动遍历数组并将元素附加到刚刚创建的 jquery 对象之外，还有什么解决方案`.add()`？

这不符合我的要求：

```
var a = $('#a'),
    b = $('#b'),
    c = [a, b];

// the lines above is the set up, they cannot be changed
var d = $(c);
d.hide();​ 
```

[http://jsfiddle.net/zerkms/896eN/1/](http://jsfiddle.net/zerkms/896eN/1/)

预期的结果是两个 div 都被隐藏了。

有任何想法吗？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-07-03T04:01:52.753

尝试

```
var d = $($.map(c, function(el){return $.makeArray(el)})); 
```

或者

```
var d = $($.map(c, function(el){return el.get();})); 
```

[***演示。***](http://jsfiddle.net/896eN/3/)

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2016-12-04T00:48:06.847

我来这里是为了寻找比我已经拥有的更清晰的答案，但没有找到。为了下一个出现的人，我想我会发布我的解决方案：

```
var a = $('#a'),
    b = $('#b'),
    c = [a, b];

var d = c.reduce($.merge);
d.hide();​ 
```

我有点惊讶没有一些`jQuery`特定的方法可以使这个更干净，但`Array.reduce`如果没有更具体的存在，它绝对是这项工作的正确工具`jQuery`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-03T03:54:40.463

你能[试试吗](http://jsfiddle.net/arunpjohny/896eN/4/)

```
var a = $('#a'),
b = $('#b'),
c = [a, b];
d = [];
$.each(c, function(i, v){
    if(v.length>0){
        d.push(v[0]);
    }
});

e = $(d);
e.hide(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-03T04:14:30.007

试试这个：

```
var a = $('#a'),
    b = $('#b'),
    c = [a, b],
    d = $();
$.each(c, function(i, jqObj) {
    $.merge(d, jqObj);
});
d.hide(); 
```

或者：

```
var a = $('#a'),
    b = $('#b'),
    c = [a, b],
    d = $();
$.each(c, function(i, jqObj) {
    d = d.add(jqObj);
});
d.hide(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-03T03:51:59.733

```
var els = ['#a', '#b', '#c']
var $els = $(els.join(', ')) 
```

**编辑：**这会做，丑陋的寿：

```
var d = $(function(){
    var els = []
    for (var i = 0, l = c.length; i < l; i++)
        els.push(c[i][0])
    return els
}()) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-03T03:59:30.187

假设您知道您有一个 jQuery 对象数组，您可以使用`$.each`它们来循环它们（或者只是将它们视为普通数组来循环它们）。如果您愿意，可以使用它来创建组合选择器，或者只是在迭代器中对它们进行操作。

# c++ - C/C++ 删除与删除[]

> ID：11304174
> 
> 赞同：3
> 
> 时间：2012-07-03T03:45:08.987
> 
> 标签：c++, delete-operator

> **可能重复：**
> [将 new[] 与 delete 配对如何可能仅导致内存泄漏？](https://stackoverflow.com/questions/1913343/how-could-pairing-new-with-delete-possibly-lead-to-memory-leak-only)
> [删除与删除[]](https://stackoverflow.com/questions/4255598/delete-vs-delete)

我刚开始学习 C/C++，有人告诉我使用 delete 删除单个对象并将 delete [] 用于数组。

然后我发现[这个网站](http://www.devbistro.com/tech-interview-questions/Cplusplus.jsp)问这个问题

> 这段代码有什么问题吗？
> 
> ```
> T *p = new T[10];
> delete p; 
> ```
> 
> 注意：不正确的回复：“不，一切都正确”、“只会删除数组的第一个元素”、“将删除整个数组，但只会调用第一个元素的析构函数”。

这就提出了一个问题，该代码块中发生了什么？从逻辑上讲，我会认为这是“仅删除数组的第一个元素”，但似乎不是。有人可以对此有所了解吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-03T03:55:49.463

*   delete：这将释放当前由执行删除的指针分配的内存。它只删除第*一个*变量指向的内存。

*   delete []：这会释放为整个数组分配的内存。一个数组由几个变量组成 - delete 释放*仅*分配给第一个变量的内存，而 delete [] 完成整个事情。

考虑它的一个好方法是将 delete 视为指令，而将 delete [] 视为循环；其中数组循环并在数组中的每个变量上单独调用删除。这不是它在现实中的工作方式（实际工作方式要复杂一些），但这是理解差异的好方法。

对所有对象调用析构函数，因为在某些情况下，例如在包含指针的对象数组的情况下，仅对第一个元素调用析构函数不会释放所有内存。

# linux - 无法访问远程 tomcat webapps

> ID：11304175
> 
> 赞同：0
> 
> 时间：2012-07-03T03:45:18.723
> 
> 标签：linux, tomcat

我在远程 Linux 机器上运行了 tomcat。我们有一个 Web 应用程序在其上运行 `/project1`（不是 root），并自动部署了“project1.war”。我现在已经上传了“project2.war”，我可以看到它已经被提取等等，但是当我去的时候，`mysite/project2`我得到一个“找不到”的错误。

我一生都无法在 server.xml、context.xml、web.xml 中看到 project1 映射其 URL 的任何引用，所以我真的不知道应该如何让 /project2 可见. 我对Linux非常陌生，正在寻找一些建议。这是我的 server.xml 条目：

```
<Host name="mysite.co.nz"  appBase="webapps"
            unpackWARs="true" autoDeploy="true"
            xmlValidation="false" xmlNamespaceAware="false">
</Host> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T05:12:46.687

必须将其添加到 apache 2 站点可用列表

# mysql - MySQL：使用 InnoDB 分组主键

> ID：11304176
> 
> 赞同：1
> 
> 时间：2012-07-03T03:45:23.633
> 
> 标签：mysql

是否有等效于使用 InnoDB MySQL 数据库并允许在第二个键上自动递增的分组主键？

我要实现的是一个基于父对象 ID 存储图像 URL 的表，例如：

```
CREATE TABLE images (
   parent_id INT(11) NOT NULL,
   image_id INT(11) AUTO_INCREMENT, //will this work with a grouped primary key?
   source_url VARCHAR(255) NOT NULL,
   caption VARCHAR(255) NOT NULL,
) ENGINE = InnoDB; 
```

因此，对于 MyISAM，我可以执行以下操作：

```
PRIMARY KEY(parent_id, image_id) 
```

[编辑] 使用触发器会是这样的：（对不起，我的 SQL 不是很强大）

```
delimiter //
DROP TRIGGER IF EXISTS test_img_trigger;
CREATE TRIGGER test_img_trigger BEFORE INSERT ON venue_images
FOR EACH ROW
BEGIN
DECLARE img_id INT UNSIGNED DEFAULT 0;

SELECT image_id + 1 INTO img_id FROM venue_images WHERE venue_id = NEW.venue_id;
UPDATE venue_images SET image_id = img_id WHERE venue_id = NEW.venue_id;

END IF;
END;//
delimiter; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T01:05:05.903

如果这可以帮助其他人，这是我的解决方案。

我不能简单地使用触发器，因为 MySQL（或者至少我的版本 5.1.53）还不支持使用触发器来更新调用触发器的表的能力。所以我创建了一个序列表：

```
CREATE TABLE image_seq (
    parent_id INT(11) NOT NULL,
    catagory INT(11) NOT NULL,
    next_seq_id INT(11) NOT NULL,
    KEY(catagory),
    PRIMARY KEY(parent_id, catagory);
); 
```

然后在 images 表上创建了一个触发器：

```
CREATE TRIGGER bi_image_trig
BEFORE INSERT ON images
FOR EACH ROW
BEGIN

DECLARE id INT UNSIGNED DEFAULT 1;
 SELECT next_seq_id + 1 INTO id FROM image_seq WHERE parent_id=NEW.parent_id AND       catagory=NEW.catagory;
SET NEW.image_id = id;
UPDATE image_seq SET next_seq_id=id WHERE parent_id=NEW.parent_id AND catagory=NEW.catagory;

END; 
```

不确定它是否是最佳解决方案，但它可以工作，并允许我跟踪每个父对象的类别中的图像编号。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:26:14.940

只能有一个 auto 列，并且必须定义为`key`. 检查这个

```
 CREATE TABLE images (
   parent_id INT(11) NOT NULL,
   image_id INT(11) Not Null  AUTO_INCREMENT, 
   source_url VARCHAR(255) NOT NULL,
   caption VARCHAR(255) NOT NULL,

   key(image_id),                          -- add as a key       
   PRIMARY KEY(parent_id, image_id)
) ENGINE = InnoDB; 
```

# php - 选择Mysql逆序

> ID：11304177
> 
> 赞同：1
> 
> 时间：2012-07-03T03:45:27.007
> 
> 标签：php, mysql

我有一个 MySql 表，它包含两个基本的东西：id 和一个值。为了在我的页面上显示，我需要选择，例如，倒序的最后 100 行。所以想象一下有人在上面放数据：

```
Id, value
1, 10
2, 9
3, 21
4, 15 
```

我需要选择最后的“3”行（LIMIT + ORDER 子句），但不是这样：4,3,2，而是这样：2,3,4。

我知道如何在代码上做到这一点，但也许在 Mysql 上有一个简单的解决方案，我不知道。谢谢

我的 SQL 查询现在是这样的：

```
SELECT `Data`.`id`, `Data`.`log_id`, `Data`.`value`, `Data`.`created` FROM `control_panel`.`datas` AS `Data` WHERE `Data`.`id` > 1000 AND `Data`.`log_id` = (2) ORDER BY `Data`.`id` DESC LIMIT 100 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-03T03:55:31.407

您需要将第一个包装`ORDER BY`在一个子选择中，这将返回一个按降序排列的有限选择，然后您可以按升序对该结果进行排序：

```
SELECT
    a.*
FROM
    (
        SELECT id, value
        FROM tbl
        ORDER BY id DESC
        LIMIT 3
    ) a
ORDER BY
   a.id 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-03T03:49:23.430

一种方法是使用子选择。

```
SELECT *
FROM (SELECT * FROM table_name ORDER BY id DESC LIMIT 3) tmp
ORDER BY id ASC 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T05:05:13.953

简单地

```
 SELECT t.*
 (SELECT * FROM table_name 
      ORDER BY column_name DESC 
      LIMIT 0,3) t
 ORDER BY t.column_name ASC 
```

使用`DESC`降序，`ASC`升序

# javascript - 有没有办法在对象的属性上挂钩“删除”？

> ID：11304181
> 
> 赞同：1
> 
> 时间：2012-07-03T03:46:01.407
> 
> 标签：javascript

在 Javascript 中，我们可以使用 'set' 和 'get' 来定义属性，但是有什么方法可以定义 'delete' 或在属性上调用 delete 语句时挂钩它？

我的 Javascript 应用程序是为 Chrome 指定的，因此欢迎任何 Chrome 指定的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T04:13:25.300

如果`delete`是一个你可以覆盖的函数，但不幸的是它是一个运算符，所以没有运气挂钩。您最好的选择是连接到与 JS 对象一起使用的“onchange”并运行您自己的代码：

前任：

```
$x.onchange = function() {
    if(typeof this.param === "undefined")
    {
        //do somthing
    }
} 
```

# windows - 数据库连接失败 SQL Server 2012 Express + node.js

> ID：11304183
> 
> 赞同：0
> 
> 时间：2012-07-03T03:46:13.753
> 
> 标签：windows, node.js, sql-server-2012-express

我正在尝试使用 SQL 的 Node.JS 驱动程序和示例中的“数据库连接失败”：http: [//blogs.msdn.com/b/sqlphp/archive/2012/06/08/introducing-the- microsoft-driver-for-node-js-for-sql-server.aspx](http://blogs.msdn.com/b/sqlphp/archive/2012/06/08/introducing-the-microsoft-driver-for-node-js-for-sql-server.aspx)

我对 SQL Server Express 11.0 64 位本地使用的字符串

```
var conn_str = "Driver={SQL Server Native Client 11.0};Server=(local);Database=MyDB;Trusted_Connection={Yes}"; 
```

我还尝试了“sa”和另一个本地用户与 Windows 身份验证 - 都没有运气。

运行节点 0.6.10（SQL 驱动支持的版本），SQL Server Config 显示 SQL Native Client 11，所以版本匹配。

有什么方法可以解决吗？？我的堆栈连接成功的任何指南/教程？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T14:33:39.373

解决：

我一直试图错误地访问 SQL Express 的命名实例。应该是`.\\SQLEXPRESS`，不是（本地）或`.\SQLEXPRESS`。

正确的字符串：

```
 var conn_str = "Driver={SQL Server Native Client 11.0};Server=.\\SQLEXPRESS;Database=NPv1;Trusted_Connection=Yes"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:05:38.080

受信任的连接告诉连接使用进程的 Windows ID。如果您在 IIS 中托管此 ID，则此 ID 将是应用程序池正在使用的 ID。确保此 id 可以访问数据库服务器和数据库。除非您告诉它不要使用受信任的连接，然后在连接字符串中指定用户 ID 和密码，否则使用 sa 和其他本地用户不会解决问题（顺便说一句，不建议使用这种方法；如果您坚持使用受信任的连接能够）。

# css - CSS: How can I center a horizontal list? Display:Inline not working

> ID：11304186
> 
> 赞同：15
> 
> 时间：2012-07-03T03:47:08.813
> 
> 标签：css, menu, menuitem, centering, alignment

I am having major trouble getting the simplest of codes to work. I want my css horizontal list to be centered, that's all.

Link here: [http://bit.ly/LtIBai](http://bit.ly/LtIBai)

I have this code:

```
#megaMenu.megaMenuHorizontal ul.megaMenu {
text-align: center;
 }

#megaMenu.megaMenuHorizontal ul.megaMenu > li {
display: inline;
} 
```

Yet it will not center?

NOTE: The window must be at "tablet portrait" size to see the code I'm referring to. Approximately 800px wide, when the logo is centered and the menu falls to the next line, but before the mobile menu appears.

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-07-03T03:52:55.363

The reason they refuse to center is because they are also floated to the left. Change `dislay: inline` to `display: inline-block; float: none` and they appear centered.

Edit: There's *a lot* of (mostly unnecessary) CSS code in there so you'll probably need to tweak a few other things before it looks right, but the floating is what's causing the non-centering at least.

# node.js - NodeJS、baseE91 和小端

> ID：11304190
> 
> 赞同：4
> 
> 时间：2012-07-03T03:47:52.580
> 
> 标签：node.js, endianness, base91

我将如何使用 NodeJS 将下面的字符串从 baseE91 解码为可读文本？

```
8D7Hh-9D*.n-!DZrG-#DE-$DD-%DC-sl-tl-BEp2m-CE^Ul-DE}CH-EEE-FED-GEC-<l-=l-hE(.K-iEvqS-jEB-kEB-lEB-mEB-Rm-Sm-%E!{Q-&EDgN-(EG:K-)EE-*EE-+EB-xm-ym-GF{}U-HF()Q-IFt%D-JFE-KFB-LFD-[m-]m-mF;JG-nF7]Q-oF2-pFB-qFC-rFB-Wn-Xn-+FD-,FE-.FB- FE-:FD-;FC-2n-3n- 
```

*** 编辑 ***

使用 baseE91 表，我设法将上面的字符串转换为十六进制字符串

十六进制字符串

```
5668557210457684246110336890114713568693668683768671151081161086669112501096769948510868691567726969697069687169676010861108104694046751056911811383106696610769661086966109696682109810937693312381386968103784069715875416969426969436966120109121109717012312585727040418173701637687470697570667670689110993109109705974711107055938111170501127066113706711470668711088104370684470694670664770695870685970675011051110 
```

然后我把它喂进缓冲区

```
var buf = new Buffer(hex, 'hex');
console.log(buf.toString('utf8')); 
```

这给了我：

```
VhUr►Ev?$a►3h?◄G‼V??f??v?q§►?▬►?f?↕P►?v?Hhi↕Vw&???♠??▬?va►?♦i@Fu►V?↑◄81♠if►v?if►??h!    ?►??1#?8ih►7?♠?§?T▬??&??6?a ►?!►?↨☺#↕XW'♦♦↑↨7☺▬7htpiupfvph?►?1 ►?♣?G◄►p    U??◄↨♣☺↕pf◄7♠q¶pf??►CphDpiFpfGpiXphYpgP◄♣◄► 
```

我怎样才能把它变成我可以使用的东西？我怀疑它是一个 JSON 对象......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-14T05:23:50.923

你有两个非常独立的问题，在这个讨论中被混为一谈。

### 如何使用 Javascript/NodeJS/CommnJS 解码 baseE91？

这就是你的问题一目了然，你已经[得到](https://stackoverflow.com/questions/11304190/nodejs-base91-little-endian#comment14874405_11304190) [了各种不同的](https://stackoverflow.com/a/11403549/85950) [回应](https://stackoverflow.com/a/11403376/85950)。答案似乎是：没有现成的解决方案，但是 basE91 足够小且足够简单，您应该能够将其移植到 JS 中而不会遇到太多麻烦。

您的第二个不太明确的问题似乎是：

### 如何对《创世纪之王》的游戏服务器通信协议进行逆向工程？

您提到您的“basE91 LE”字符串来自一个 MMO 游戏服务器，而[这个论坛发布的有关 Ultima 之王的帖子](http://www.lordofultima.com/en/forum/showthread.php?pid=454905)几乎是“basE91 little endian”的唯一其他热门。 ^(（而且看起来你[几天前在那里发布过](http://www.lordofultima.com/en/forum/showthread.php?tid=55625&page=3)。）) 正如多方[指出](https://stackoverflow.com/questions/11304190/nodejs-base91-little-endian#comment15129920_11304190)的那样，你发布的数据*不是*普通的 basE91 [。](https://stackoverflow.com/questions/11304190/nodejs-base91-little-endian#comment15040191_11304190) BaseE91 使用了一组明确定义的字符，' ' 和 ' '（空格）不在其中，但都出现在您的数据中。您在评论中提到您认为 ' ' 被用作分隔符，如果预先提供更多类似的信息，回答第二个问题会更容易。*`-```-``*

 *`关于这个问题的一些注释：

*   BaseE91 使用标准编码表。如果您正在制作一款在线游戏，并且想稍微混淆一下您的流量，那么使用不同的或打乱的桌子将是微不足道的。这将解释出现在您的数据中的不合法的 baseE91 字符。另外，来自那个论坛[的这篇文章](http://www.lordofultima.com/en/forum/showthread.php?tid=55625&pid=454866#pid454866)看起来就是这样：一个不同的解码/编码表。您是否尝试过使用该表手动解码部分数据并查看它是否有意义？

*   您请求转换为“可读文本”，但 baseE91 用于传输二进制数据，因此不清楚为什么将其用于纯文本。即使假设它正在编码文本，也有各种常见的方法来编码纯文本[，而解码的数据似乎没有这样做](https://stackoverflow.com/questions/11304190/nodejs-base91-little-endian#comment15129920_11304190)。更有可能的是，数据是实际的二进制数据，并且在非常真实的意义上，baseE91*是*文本表示。如果没有有关您期望的输出的更多信息，就很难知道您希望它如何翻译成文本。这是 1 像素透明 gif 的 baseE91 编码：

    ```
    JaQGWo*HBtAARDBtB"B"B"S|QtAAAA$M)Bc4v(#AsAAABtAACABtlBLHBtd 
    ```

    可以将其转换为可读文本吗？你提到你认为它是 JSON，你能给我们一些关于你为什么这么认为的提示吗？（同样，为什么要使用二进制编码器来处理纯文本？）

*   从同一个论坛帖子中工作，听起来您正在使用一系列 5 位坐标，所以也许这些数字就是您正在寻找的？然而，还有更多的难题，因为这些 baseE91 组编码不同的大小数字。机智（难以理解的文字警告墙）：

    ```
    echo '8D7Hh-9D*.n-!DZrG-#DE-$DD-%DC-sl-tl-BEp2m-CE^Ul-DE}CH-EEE-FED-GEC-<l-=l-hE(.K-iEvqS-jEB-kEB-lEB-mEB-Rm-Sm-%E!{Q-&EDgN-(EG:K-)EE-*EE-+EB-xm-ym-GF{}U-HF()Q-IFt%D-JFE-KFB-LFD-[m-]m-mF;JG-nF7]Q-oF2-pFB-qFC-rFB-Wn-Xn-+FD-,FE-.FB- FE-:FD-;FC-2n-3n-' \
    | while IFS='' read -d - a; do echo -n "'$a' => "; echo -n "$a" \
    | ./base91 -d | hexdump | head -1 | cut -d ' ' -f 2-; done
    # head and cut are easier that understanding hexdump's formatting system
    '8D7Hh' => 4d 01 57 84                                    
    '9D*.n' => 4e a1 3b 9f                                    
    '!DZrG' => 4f 41 ec 19                                    
    '#DE' => 50 81                                          
    '$DD' => 51 61                                          
    '%DC' => 52 41                                          
    'sl' => 53                                             
    'tl' => 54                                             
    'BEp2m' => 6d 61 6b 9a                                    
    'CE^Ul' => 6e e1 ed 94                                    
    'DE}CH' => 6f c1 21 1c                                    
    'EEE' => 70 81                                          
    'FED' => 71 61                                          
    'GEC' => 72 41                                          
    '<l' => 73                                             
    '=l' => 74                                             
    'hE(.K' => 8d 61 3b 2b                                    
    'iEvqS' => 8e a1 e3 49                                    
    'jEB' => 8f 21                                          
    'kEB' => 90 21                                          
    'lEB' => 91 21                                          
    'mEB' => 92 21                                          
    'Rm' => 93                                             
    'Sm' => 94                                             
    '%E!{Q' => ad 01 da 43                                    
    '&EDgN' => ae 61 6c 35                                    
    '(EG:K' => af 81 4a 2b                                    
    ')EE' => b0 81                                          
    '*EE' => b1 81                                          
    '+EB' => b2 21                                          
    'xm' => b3                                             
    'ym' => b4                                             
    'GF{}U' => cd c1 f3 53                                    
    'HF()Q' => ce e1 0d 43                                    
    'IFt%D' => cf 01 e9 0e                                    
    'JFE' => d0 81                                          
    'KFB' => d1 21                                          
    'LFD' => d2 61                                          
    '[m' => d3                                             
    ']m' => d4                                             
    'mF;JG' => ed c1 6f 18                                    
    'nF7]Q' => ee 21 ac 43                                    
    'oF2' => ef c1                                          
    'pFB' => f0 21                                          
    'qFC' => f1 41                                          
    'rFB' => f2 21                                          
    'Wn' => f3                                             
    'Xn' => f4                                             
    '+FD' => 0d 62                                          
    ',FE' => 0e 82                                          
    '.FB' => 0f 22                                          
    ' FE' => 71                                             
    ':FD' => 11 62                                          
    ';FC' => 12 42                                          
    '2n' => 13                                             
    '3n' => 14 
    ```

    那里肯定有一个模式，如果你眯着眼睛看的话，甚至看起来像小端。但它们对我来说没有任何意义，它们在你看来是明智的吗？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-09T21:34:49.453

[github 上](https://github.com/bwaldvogel/base91)有相当紧凑[的编码器/解码器 Java 实现`basE91`](https://github.com/bwaldvogel/base91)。我认为这应该很容易翻译成 JS。

[直接链接到源文件](https://github.com/bwaldvogel/base91/blob/master/src/main/java/de/bwaldvogel/base91/Base91.java)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T21:23:22.527

简短的回答是在 node.js 中没有简单/快速的方法来做到这一点（显然目前也没有模块。）

添加到@bryanmac 的评论中，使用 base91 作为起点（主要源文件只有 160 行，包括版权！），您可以将数据存储在 node.js 缓冲区中，一旦从 base91 转换为字节，使用内置 node.js 方法来转换为字符串。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2017-05-28T07:41:59.200

## 对于“如何使用 Javascript/NodeJS/CommnJS 解码 baseE91？”

我将[原来的 baseE91](http://base91.sourceforge.net/)迁移到 JavaScript 中，目前`String`支持. 你可以试试： [Equim-chan/base91](https://github.com/Equim-chan/base91)`Buffer``Stream`

首先我们需要一个表：

```
const table = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!#$%&()*+,./:;<=>?@[]^_`{|}~"'; 
```

的核心部分`encode`：

```
// `raw` is the input, asserted as `Buffer`
const len = raw.length;
let ret = '';
let n = 0;
let b = 0;

for (let i = 0; i < len; i++) {
  b |= raw[i] << n;
  n += 8;

  if (n > 13) {
    let v = b & 8191;
    if (v > 88) {
      b >>= 13;
      n -= 13;
    } else {
      v = b & 16383;
      b >>= 14;
      n -= 14;
    }
    ret += table[v % 91] + table[v / 91 | 0];
  }
}

if (n) {
  ret += table[b % 91];
  if (n > 7 || b > 90) ret += table[b / 91 | 0];
}

return ret;  // basE91 encoded string 
```

的核心部分`decode`：

```
// `raw` is the input, asserted as `String`
const len = raw.length;
const ret = [];
let b = 0;
let n = 0;
let v = -1;

for (let i = 0; i < len; i++) {
  const p = table.indexOf(raw[i]);
  if (p === -1) continue;
  if (v < 0) {
    v = p;
  } else {
    v += p * 91;
    b |= v << n;
    n += (v & 8191) > 88 ? 13 : 14;
    do {
      ret.push(b & 0xff);
      b >>= 8;
      n -= 8;
    } while (n > 7);
    v = -1;
  }
}

if (v > -1) {
  ret.push((b | v << n) & 0xff);
}

return Buffer.from(ret);  // basE91 decoded Buffer 
```

以上是标准的 basE91 编码/解码，但正如@blahdiblah 所提到的，显然您从服务器收到了一个非标准的 basE91 编码字符串（标准表中没有`*`也没有`）。``*

# java - 在 Java Swing 中添加定时器

> ID：11304194
> 
> 赞同：1
> 
> 时间：2012-07-03T03:48:37.163
> 
> 标签：java, swing, user-interface, timer

好吧，我很抱歉在短时间内发布了多个问题，但我正试图让这个时间从 3 倒数到 0……这是我的代码

```
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

public class ClickingGame extends JPanel implements ActionListener {

    private static final long serialVersionUID = 1L;
    static JFrame frame;
    static JButton startbutton, clickingbutton, timerstop;
    static JLabel timelabel, scorelabel;
    static int time = 3;
    static JTextField entertime;
    static Timer clock;
    static Timer countdown;
    static int score = 0;

    public ClickingGame() {
        setLayout(new GridLayout(3, 2, 5, 5));
        startbutton = new JButton("Start CountDown");
        timelabel = new JLabel("Time Left = NULL", SwingConstants.CENTER);
        entertime = new JTextField();
        clickingbutton = new JButton("Click Here!");
        scorelabel = new JLabel("Score = NULL", SwingConstants.CENTER);
        timerstop = new JButton("Stop Timer!");
        clock = new Timer(1000, this);
        countdown = new Timer(1000, this);

        add(entertime);
        add(startbutton);
        add(timelabel);
        add(scorelabel);
        add(clickingbutton);
        add(timerstop);
        clickingbutton.setEnabled(false);
        timerstop.setEnabled(false);
        startbutton.addActionListener(this);
        clickingbutton.addActionListener(this);
    }

    public static void openGUI() {
        frame = new JFrame("Clicking Game");
        ClickingGame contentpane = new ClickingGame();
        frame.setContentPane(contentpane);
        frame.pack();
        frame.setVisible(true);
    }

    public void actionPerformed(ActionEvent e) {

        if (e.getSource() == startbutton) {
            startbutton.setEnabled(false);
            clickingbutton.setEnabled(true);
            time--;
            if (time > 0) {
                countdown.start();
                timelabel.setText("Starting In: " + time);
            } else {
                countdown.stop();
                time = 3;
            }
        }

        if (e.getSource() == clickingbutton) {
            score++;
            scorelabel.setText("Score = " + score);
        }
    }
} 
```

如您所见，我的计时器“倒计时”设置正确，它只倒计时一次……我正试图让它倒计时到 3……

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T03:58:01.857

您需要在您的对象中添加一个案例`actionPerformed`作为`countdown`源。

编辑：

你可以尝试这样的事情：

```
 if (e.getSource() == startbutton) {
        startbutton.setEnabled(false);
        clickingbutton.setEnabled(true);
        if (time > 0) {
            countdown.start();
            timelabel.setText("Starting In: " + time);
       }
    }
    if (e.getSource() == countdown){
        timelabel.setText("Starting In: " + time);

        if (time == 0) {
            countdown.stop();
            time = 3;
        } else {
            time--;
        }

    } 
```

# azure - 如果我的 Windows Azure 网站没有获得任何点击量，我是否仍需要为网站使用付费？

> ID：11304195
> 
> 赞同：3
> 
> 时间：2012-07-03T03:48:44.617
> 
> 标签：azure, azure-web-app-service

我不确定 Windows Azure 网站的定价如何运作。假设我创建了一个网站，但没有人访问它。我是不是按时收费。

然后假设服务器在一个月内花费计算页面等的总时间是 30 分钟。我是只支付 30 分钟的费用，还是支付网站在其服务器上可用的整个月的费用？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-03T04:30:10.747

Windows Azure 计算一直基于小时计费（类似于酒店房间：即使您不在房间内，您也需要支付住宿费用，使用 0% 的费用）。

对于 Windows Azure 网站，*共享实例*目前在预览版中是免费的。如果这是您当前使用的，则不必担心被收费。除了 90 天的免费试用期外，您还将获得额外 12 个月的共享实例网站使用时间。

使用*预留实例*后，您将按小时为这些预留资源付费。定价类似于 Windows Azure Web 和 Worker Roles（您的应用程序被推送到 Windows 2008 Server 虚拟机），除了在预览期间，每小时定价折扣 33%。详细的定价明细在[这里](http://www.windowsazure.com/en-us/pricing/details/#web-sites)。

正如其他人所提到的，还有其他需要收费的服务（例如数据库、Windows Azure blob/表/队列存储、服务总线、带宽等）。除了 10 个免费的共享实例网站外，免费试用还包括一些免费的带宽、数据库和存储空间。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-03T03:55:00.237

在预览期间，他们可以选择“在多租户环境中免费运行多达 10 个网站”，因此如果您使用该选项，您将无需为网站本身付费。如果您使用虚拟机，您将按小时付费，无论如何。

还有其他基于时间的组件，例如存储，以及其他按事务或请求计数收费的可选组件（CDN、Active Directory 等）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-03T03:51:24.140

是的，定价取决于您的网站（即角色）运行了多少小时，而不是*使用*了多少小时。

您可以尝试他们的[免费试用](http://www.windowsazure.com/en-us/pricing/free-trial/)，看看他们如何在计费部分计算“计算时间”。

最好还是联系 Azure 支持，因为只有他们才能提供权威的答案。

# google-apps-script - 如何在 Google Apps 脚本中创建动态下拉列表

> ID：11304197
> 
> 赞同：2
> 
> 时间：2012-07-03T03:49:19.483
> 
> 标签：google-apps-script, google-sheets

我想使用 Google Apps 脚本动态更改 Google 电子表格的单元格验证功能中候选列表的值。

我未能使用 Google 公式功能在 Google 电子表格中创建动态下拉列表。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T05:52:15.337

您现在可以使用[newDataValidation()](https://developers.google.com/apps-script/reference/spreadsheet/spreadsheet-app#newDataValidation())来构建数据验证规则。

例子：

```
// Set the data-validation rule for cell A1 to require a value from B1:B10.
var cell = SpreadsheetApp.getActive().getRange('A1');
var range = SpreadsheetApp.getActive().getRange('B1:B10');
var rule = SpreadsheetApp.newDataValidation().requireValueInRange(range)
    .build();
cell.setDataValidation(rule); 
```

来源：[https ://gsuite-developers.googleblog.com/2013/08/answering-another-top-request-data.html](https://gsuite-developers.googleblog.com/2013/08/answering-another-top-request-data.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-25T06:35:21.837

[时代变了，看这篇博文](http://googleappsdeveloper.blogspot.com/2013/08/answering-another-top-request-data.html)

[我的电子表格示例可以使用一些改进](https://docs.google.com/a/crandell.ws/spreadsheet/ccc?key=0Ahr3cY1BYCLidHJJeWtLekxRZmxZTHFNNDlwLVZIVFE#gid=0)

博客文章提供了一种简单的方法。我的代码启动器是

```
function loadMenu() {
  var ga = SpreadsheetApp.getActive();

  var firstMenu = 'B3:B4';
  var firstValues = 'E3:F3';
  var staticValue1 = 'E3';
  var staticValue2 = 'F3';

  var secondMenu = 'C';
  var secondMenuRow = 3;
  var secondMenu1 = 'E4:E';
  var secondMenu2 = 'F4:F';

  dynamicDrop(ga, firstMenu, firstValues, staticValue1, staticValue2, secondMenu, secondMenuRow, secondMenu1, secondMenu2);

}

function dynamicDrop(ga, fm, fv, sv1, sv2, sm, smr, sm1, sm2) {

  //first drop choices
  var cells = ga.getRange(fm);
  var range = ga.getRange(fv);
  var rule = SpreadsheetApp.newDataValidation().requireValueInRange(range).build();
  cells.setDataValidation(rule);

  // set as static value
  var staticVar1 = ga.getRange(sv1).getValue();

  // set as static value
  var staticVar2 = ga.getRange(sv2).getValue();

  // set to chosen value of fm
  var chosenVar1 = ga.getRange(fm).getValues();

  for (var row in chosenVar1) {

    for (var col in chosenVar1[row]) {

      if (chosenVar1[row][col] == staticVar1) {

        num = parseInt(row) + smr;
        var cells = ga.getRange(sm+num);
        var range = ga.getRange(sm1);
        var rule = SpreadsheetApp.newDataValidation().requireValueInRange(range).build();
        cells.setDataValidation(rule);

      } else if (chosenVar1[row][col] == staticVar2) {

        num = parseInt(row) + smr;
        var cells = ga.getRange(sm+num);
        //range is Static values
        var range = ga.getRange(sm2);
        var rule = SpreadsheetApp.newDataValidation().requireValueInRange(range).build();
        cells.setDataValidation(rule);

      }
    }
  }
} 
```

# php - 关于限制 RSS 提要内容

> ID：11304198
> 
> 赞同：0
> 
> 时间：2012-07-03T03:49:20.853
> 
> 标签：php, jquery, html

我在我的网站上显示博客 RSS 提要，我的一个博客非常大，但我的网站上应该只显示 2-3 行该描述，我该怎么做？请帮助我提前致谢

我正在使用 magpierss-0.72 来获取 rss 我的代码是

```
require_once('rss_fetch.inc');

$url = 'http://rajs-creativeguys.blogspot.com/feeds/posts/default?alt=rss';

$rss = fetch_rss($url);

foreach ($rss->items as $i => $item ) { 
    $title = strtoupper ($item['title']);
    $url   = $item['link'];
    $desc = $item['description'];
    $date = $item['pubdate'];

    echo "<div class=\"blog\"><a target=\"_blank\" href=$url><h1>$title</h1>$desc<br/><br/><em>DATED : $date <br/><br/></em></a></div> ";
} 
```

并且博客地址是[http://rajs-creativeguys.blogspot.in/](http://rajs-creativeguys.blogspot.in/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T06:44:44.930

```
 $desc = substr(0,150,$item['description']); 
```

获取前 150 个字符。

如果你想要 150 个单词，你可以使用

```
$desc = '';
$max = 150;
$arr = explode(' ', strip_tags($item['description']));
$l = count($arr);
if($l < $max) $max = $l;
for($i=0;$i<$max;++$i)
    {
    $desc .= $arr[$i] . ' ';
    } 
```

# java - 试图在java中扩展Abstractsequentiallist

> ID：11304200
> 
> 赞同：0
> 
> 时间：2012-07-03T03:49:31.540
> 
> 标签：java

我正在尝试在 Java 中扩展 AbstractSequentialList 类。该类实现了一个需要创建 ListIterator 方法的接口。我创建了下面的方法来简单地开始，但我收到警告消息说：

```
ListIterator is a raw type. References to generic type ListIterator<E> should be parameterized. 
```

这是什么意思？我有点不知所措，为什么在我运行这段代码时这给了我一个错误..

```
public ListIterator listIterator(int i){

        ListIterator listiterator = this.listIterator();

        return listiterator;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T04:06:03.467

`AbstractSequentialList`是通用的，它返回的 ListIterator 也应该是通用的。这将确保使用该迭代器完成的操作的类型安全。确保您的子类是通用的（`MyAbstractSequentialList<T>`），并将您的代码更改为：

```
public ListIterator<E> listIterator(int i){

        ListIterator<E> listiterator = this.listIterator();

        return listiterator;
} 
```

你可以看看 Java 的`LinkedList`源代码，它扩展了`AbstractSequentialList`.

你也可以让你的类是非泛型的，但是你必须扩展一个具体的类型`AbstractSequentialList`（即使用一个指定的类型参数）。在这种情况下，也将`E`上面代码中的 s 替换为该类型。

# javascript - JQUERY图片上传表单和css问题

> ID：11304201
> 
> 赞同：2
> 
> 时间：2012-07-03T03:49:33.543
> 
> 标签：javascript, jquery, css

我目前正在使用图像上传器。我在使用 jquery/css 时遇到困难。我需要帮助以使删除按钮出现在已渲染的拇指图像旁边。另外，有没有办法可以用著名的 [x] 替换它也表示删除？我正在使用此[SITE中的示例](http://dondedeportes.es/uploader-previewer/)

图片： ![在此处输入图像描述](../Images/876a2438eb70b5ed57dcf705c0e1ce47.png)

**jQuery**

```
<script>
    function createImageForm(index) {

        var form = '';

        form += '<div><table cellspacing="0">';
        form += '<tr><td class="label">'
              + '<label for="imageToUpload' + index + '">'
              + $.uploaderPreviewer.messages.imageLabel + ' ' + index + ':</label></td>';
        form += '<td class="removeImageButton">'
              + '<button class="small removeImage" /></td>';
        form += '<td class="imageFormFileField">'
              // BUG: If the "enctype" attribute is assigned with jQuery, IE crashes
              + '<form enctype="multipart/form-data">'
              + '<input id="imageToUpload' + index + '" type="file" />'
              + '<input type="hidden" name="currentUploadedFilename"'
              + ' class="currentUploadedFilename" /></form>'
              + '</td></tr>';
        form += '<tr><td></td><td></td><td>'
              + '<div class="previewImage"><img /></div>'
              + '</td></tr></table></div>';

        return form;
    };
</script> 
```

**CSS**

```
button.small {
    font-size: 10px;
    width: 50px;
}

.imageForms td.removeImageButton {
    text-align: center;
    vertical-align: middle;
    width: 70px;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:53:46.397

你可以试试下面的代码。

函数createImageForm（索引）{

```
 var form = '';

    form += '<div><table cellspacing="0">';
    form += '<tr><td class="label">'
          + '<label for="imageToUpload' + index + '">'
          + $.uploaderPreviewer.messages.imageLabel + ' ' + index + ':</label></td>';
    form += '<td class="removeImageButton">'
          + '</td>';
    form += '<td class="imageFormFileField">'
          // BUG: If the "enctype" attribute is assigned with jQuery, IE crashes
          + '<form enctype="multipart/form-data">'
          + '<input id="imageToUpload' + index + '" type="file" />'
          + '<input type="hidden" name="currentUploadedFilename"'
          + ' class="currentUploadedFilename" /></form>'
          + '</td></tr>';
    form += '<tr><td></td><td></td><td>'
          + '<div class="previewImage" style="float:left; margin:0 10px 0 0"><img /></div>'
          + '<button class="small removeImage" /></td></tr></table></div>';

    return form;
}; 
```

# javascript - 在 Vim 中，如何防止 HTML 标签的自动缩进，但保留 Javascript 的部分？

> ID：11304202
> 
> 赞同：2
> 
> 时间：2012-07-03T03:49:37.423
> 
> 标签：javascript, html, vim

基本上，当我编辑 .HTML 文件时，我不希望 Vim 缩进 HTML 标记，但我确实希望它缩进 Javascript 代码。

我想阻止这个：

```
<table>
    <tr>
        <td> 
```

当我按下回车键时，我希望 HTML 只是进入下一行的开头：

```
<table>
<tr>
<td> 
```

但我希望 Vim 继续为 Javascript 这样做：

```
function fooBar() {
    var myVar = 10;    
} 
```

我目前在我的 .gvimrc 中有这一行：

```
filetype plugin indent on 
```

我可以选择性地禁用 Vim 的仅为 HTML 标记的缩进吗？当我对此进行谷歌研究时，我最终得到了关于禁用粘贴代码缩进的教程。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:26:55.017

我认为只要做`set filetype=javascript`就足够了。但是你应该把你的 JavaScript 放在单独的 *.js 文件中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T09:22:46.440

尝试这个：

```
set indentexpr=|set cindent 
```

我相信它应该具有您正在寻找的效果，它不会基于 html 标签缩进，但它仍会在打开花括号之类的内容后缩进，并且保留 html 语法突出显示。要使其永久化，您可以在 vimrc 中使用自动命令，例如`au BufEnter *.html set indentexpr=|set cindent`.

有 4 级缩进。它们按优先级从低到高的顺序依次是`autoindent`、`smartindent`、`cindent`和`indentexpr`。因此，您需要做的就是确保`indentexpr`未设置，然后您可以设置`cindent`。 `cindent`默认情况下使用字符`{,},),:,#`进行缩进，因此它会缩进花括号等内容而不缩进 html。

# android - 使用 layout_weights 时图像视图不居中

> ID：11304203
> 
> 赞同：1
> 
> 时间：2012-07-03T03:50:10.090
> 
> 标签：android, android-layout, android-linearlayout, android-imageview

我正在尝试制作一个水平菜单栏，但是由于某种原因，当我使用权重时，它们不会水平对齐，有什么建议吗？

```
<LinearLayout
    android:id="@+id/bottombuttonslayout"
    android:layout_width="match_parent"
    android:layout_height="58dp"
    android:layout_alignParentBottom="true"
    android:weightSum="1.0" >

<LinearLayout
    android:id="@+id/listSlotBox"
    android:layout_width="0dp"
    android:layout_height="wrap_content"
    android:layout_weight=".20"
    android:gravity="center" >

    <ImageView
        android:id="@+id/listSlot"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:adjustViewBounds="false"
        android:background="@drawable/list" />
</LinearLayout>

<LinearLayout
    android:id="@+id/leftArrorSlotBox"
    android:layout_width="0dp"
    android:layout_height="wrap_content"
    android:layout_gravity="center"
    android:layout_weight=".20" >

    <ImageView
        android:id="@+id/leftArrowSlot"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:adjustViewBounds="false"
        android:background="@drawable/left_arrow" />
</LinearLayout>

<LinearLayout
    android:id="@+id/playSlotBox"
    android:layout_width="0dp"
    android:layout_height="wrap_content"
    android:layout_gravity="center"
    android:layout_weight=".20" >

    <ImageView
        android:id="@+id/playSlot"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:adjustViewBounds="false"
        android:background="@drawable/playing" />
</LinearLayout>

<LinearLayout
    android:id="@+id/rightArrowSlotBox"
    android:layout_width="0dp"
    android:layout_height="wrap_content"
    android:layout_gravity="center"
    android:layout_weight=".20" >

    <ImageView
        android:id="@+id/rightArrowSlot"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:adjustViewBounds="false"
        android:background="@drawable/right_arrow" />
</LinearLayout> 
```

这就是它的样子，它们垂直对齐。不是水平的：

![在此处输入图像描述](../Images/76a49dfeac1649acf3e5f3abd830298d.png)

**编辑**

这是遵循第一个建议：

![在此处输入图像描述](../Images/fa14e6283e587b8d5c5ab24a01930acf.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T04:00:11.377

每个图像视图都需要`android:gravity="center"`.

您正在将包含的线性布局居中...我不明白您为什么要使用所有这些...您应该使用一个，如下所示：

```
<LinearLayout 
    android:orientation="horizontal"
    android:id="@+id/bottombuttonslayout" 
    android:layout_width="match_parent" 
    android:layout_height="58dp" 
    android:layout_alignParentBottom="true" > 
    <ImageView 
        android:id="@+id/listSlot" 
        android:layout_width="0dp" 
        android:layout_height="wrap_content" 
        android:adjustViewBounds="false" 
        android:background="@drawable/list"
        android:gravity="center"/>
    <ImageView 
        android:id="@+id/leftArrowSlot" 
        android:layout_width="0dp" 
        android:layout_height="wrap_content" 
        android:adjustViewBounds="false" 
        android:background="@drawable/left_arrow"
        android:gravity="center" 
        android:layout_weight="1" /> 
    <ImageView 
        android:id="@+id/playSlot" 
        android:layout_width="0dp" 
        android:layout_height="wrap_content" 
        android:adjustViewBounds="false" 
        android:background="@drawable/playing"
        android:gravity="center" 
        android:layout_weight="1" /> 
    <ImageView 
        android:id="@+id/rightArrowSlot" 
        android:layout_width="0dp" 
        android:layout_height="wrap_content" 
        android:adjustViewBounds="false" 
        android:background="@drawable/right_arrow"
        android:gravity="center" 
        android:layout_weight="1" /> 
</LinearLayout> 
```

# twitter-bootstrap - 页面与屏幕宽度不匹配（twitter bootsrap）

> ID：11304205
> 
> 赞同：1
> 
> 时间：2012-07-03T03:50:23.193
> 
> 标签：twitter-bootstrap

使用引导行流体网格系统，我无法使我的网页适合我的屏幕的确切宽度。现在，我看到出现了一个水平滚动条，但我认为它应该适合我的屏幕宽度！我究竟做错了什么？

这是我的代码：

```
@gridColumns: 24;
@fluidGridColumnWidth: 3.2%;
@fluidGridGutterWidth: 1.0086956%;

<body>
    <div class='row-fluid'>
        <div id='leftbar' class='span3'>
        </div>
        <div id='content-wrapper' class='span17'>
            <div class='row-fluid'>
                <div id='header' class='span24'>
                    <div class='row-fluid'>
                        <div class='span8 header'>
                        </div>
                        <div class='span8 header'>
                        </div>
                        <div class='span8 header'>
                        </div>
                    </div>
                </div>
                <div id='flash-message' class='span24 center'>
                </div>
                <div id = 'content' class='span24'>
                   <div class='row-fluid'>
                        <div id = 'content-left' class='span10 center'>
                        </div>
                        <div id = 'content-right' class='span14 center'>
                        </div>
                   </div>
                </div>
            </div>
        </div>
        <div id='rightbar' class='span4'>
        </div>
        <div id = 'footer' class='span24'>
        </div>
    </div>
</body> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T10:33:31.020

您是否尝试将代码包含在“容器”类中？来自[Bootstrap 的文档](http://twitter.github.com/bootstrap/scaffolding.html#layouts)：。

而且，至少在您的示例代码中，您的行与正确的跨度数不匹配。最上面的行具有以下跨度：3 + 17 + 4 + 24（页脚）= 48。同样的问题在内部行中再次出现。

要修复它，只需为每组 24 个（或更少）跨度声明一个新行。

# javascript - Ooyala 播放器事件 - 当播放器到达视频的某个点时发出通知

> ID：11304206
> 
> 赞同：1
> 
> 时间：2012-07-03T03:50:26.990
> 
> 标签：javascript, api, ooyala

我深入研究了 Ooyala Player JS API，搜索当当前正在播放的视频达到其长度的 75% 时将触发的事件。

Ooyala 提供了一种方法来查询某个视频有多少 0%、25%、50%、75% 和 100% 的观看次数，但我找不到做我想做的事的方法。

我已经在[http://support.ooyala.com/developers/documentation/concepts/book_api_player.html检查了所有内容](http://support.ooyala.com/developers/documentation/concepts/book_api_player.html)

以前有人经历过吗？您知道其他可以提供帮助的信息来源吗？

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-02T22:43:02.243

```
var videoPlayer = OO.Player.create('Player', embedcode, {
    autoplay: true,
    onCreate: function (player) {
        mesb = player.mb;
    }    
});

mesb.subscribe(OO.EVENTS.PLAYBACK_READY, 'example', _.bind(this.videoPlaying, this));
mesb.subscribe(OO.EVENTS.PLAYHEAD_TIME_CHANGED, 'example', _.bind(this.playheadTime, this));
function videoPlaying() {
    var title, desc, embed, dur;
    var vData = videoPlayer.getItem();
    dur = vData.time;

}

function playheadTime() {
    phPos = videoPlayer.getPlayheadTime();
    if (phPos > 90) {
        alert('you are 90 seconds in to the video!');
    } 
```

**dur**会给你视频的总时间。 **phPos**会给你当前的播放头时间。

您应该能够进行数学运算，并在达到一定百分比后让视频触发动作。在我的示例中，当视频达到 90 秒时，我设置了一个警报。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-05-21T06:27:15.630

```
I think this will work
var videoPlayer = OO.Player.create('Player', embedcode, {
    autoplay: true,
    onCreate: function (player) {
        mesb = player.mb;
    }    
});

mesb.subscribe(OO.EVENTS.PLAYBACK_READY, 'example', _.bind(this.videoPlaying, this));
mesb.subscribe(OO.EVENTS.PLAYHEAD_TIME_CHANGED, 'example', _.bind(this.playheadTime, this));
function videoPlaying() {
    var title, desc, embed, dur;
    var vData = videoPlayer.getItem();
    dur = vData.time;

}

function playheadTime() {
    if((videoPlayer.getPlayheadTime())>= (videoPlayer.getDuration()*0.25)){ 
      alert('play 25%') 
    }
    if((videoPlayer.getPlayheadTime())>= (videoPlayer.getDuration()*0.50)){ 
      alert('play 50%') 
    }
    if((videoPlayer.getPlayheadTime())>= (videoPlayer.getDuration()*0.75)){ 
      alert('play 75%') 
    }
    if((videoPlayer.getPlayheadTime())>= (videoPlayer.getDuration()*1.00)){ 
      alert('play 100%') 
    }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-09-11T08:26:01.510

早期答案中提供的代码对我有帮助，但需要一些修改。需要将其包装在 中`OO.ready`，并进行修改以使代码准确调用 4 次：完成 25%、50%、75% 和 100%。

```
var mplayer, mesb, dur, title;
OO.ready(function() {
  var lastTriggerPos;
  mplayer = OO.Player.create('ooyalaplayer', embedcode);
  mplayer.mb.subscribe(OO.EVENTS.PLAYBACK_READY, 'example', function(eventName) {
    title = mplayer.getCurrentItemTitle();
    var vData = mplayer.getItem();
    dur = parseInt(vData.time);
  });
  mplayer.mb.subscribe(OO.EVENTS.PLAYHEAD_TIME_CHANGED, 'example', function(eventName) {
    phPos = parseInt(mplayer.getPlayheadTime());
    if ((phPos == parseInt(dur * 0.25)) && phPos != lastTriggerPos) {
      lastTriggerPos = phPos;
      alert('25%');
    }
    if ((phPos == parseInt(dur * 0.50)) && phPos != lastTriggerPos) {
      lastTriggerPos = phPos;
      alert('50%');
    }
    if ((phPos == parseInt(dur * 0.75)) && phPos != lastTriggerPos) {
      lastTriggerPos = phPos;
      alert('75%');
    }
    if ((phPos == parseInt(dur * 1)) && phPos != lastTriggerPos) {
      lastTriggerPos = phPos;
      alert('100%');
    }
  });
}); 
```

# java - BufferedImage 不显示（全黑）但可以显示图像

> ID：11304208
> 
> 赞同：5
> 
> 时间：2012-07-03T03:50:34.103
> 
> 标签：java, bufferedimage, graphics2d

我是 Java 图形（一般是计算机图形）和 Stack Overflow 的新手，所以请帮助我并帮助我更好地表达我的问题。

目前，我正在尝试在 Java GUI 中与原始图像一起显示 BufferedImage。这是我的代码：

```
Image oriImage = robot.getQwerkController().getVideoStreamService().getFrame(); //load the original image
Graphics2D hi = bufferedImage.createGraphics();
hi.drawImage(oriImage, 0,0, null); //draw the original image into the BufferedImage
hi.dispose();
images[0].put(oriImage, 1); //draws the original image in the first frame
images[1].put(bufferedImage, 2); //draws the BufferedImage in the second frame 
```

而“put”函数如下：

```
public synchronized void put(Image image, int frameNumber) {
    icon.setImage(image); //sets the image displayed by this icon
    display.paintImageIcon(icon, frameNumber); //paint the image onto the gui
    imageSet = true;
    notifyAll();
} 
```

但是，生成的 GUI 如下

![在此处输入图像描述](../Images/7010a8a41c3c3762cdf5be3b25917894.png)

所以 Image 有效，但 BufferedImage 无效。我认为它可以工作，因为 BufferedImage 是 Image 的子类......知道吗？如果需要额外的代码，请告诉我~提前谢谢:)

编辑1：

我做了一些测试，我没有使用原始图像，而是创建了一个全新的 bufferedImage，并使用 Graphics2D 画了一条线，然后尝试显示它。结果如下：

[http://i.imgur.com/rJAdp.jpg](https://i.imgur.com/rJAdp.jpg)

所以它有效。因此，原始图像（或发生的转换）一定有问题

编辑2：我用bufferedImage做了类似的事情并画了一条线。结果与 EDIT 1 相同，因此我认为 drawImage 函数存在一些问题。

编辑3：我通过在drawImage周围放置一个while循环来解决问题，让它完成图像绘制（因为如果它还没有完成绘制图像，它会返回false）并且它有效！:D

```
boolean x = false;
while (!x) {
    x = hi.drawImage(oriImage, 0,0, null); //draw the original image into the BufferedImage
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T23:06:04.960

如果您只是将`ImageObserver`（`JFrame`或`JPanel`您正在绘制的实例）传递给`drawImage`方法而不是`null`. 然后，这将为您处理异步图像加载。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T22:51:29.103

*对不起，但我猜你正在使用即时绘画（推）。一般来说，java会反过来（拉）。*

Java swing/awt 绘制事件驱动：不会立即绘制图像，但可以通过无效或重绘来触发它。你可以用你的帧速率启动一个摇摆定时器并在那里调用 repaint()。

一般来说，JPanel 子级可能会覆盖`paintComponent(Graphics g)`并绘制`g`.

尽管如此，还是很奇怪。您可以尝试记录`oriImage.getHeight(null)`，以查看（不太可能）图像是否是异步生成的（开始时的高度为 -1）。

# sql-server-2008 - 带有固定轴的 SSRS 2008R2/BIDS 中的迷你图

> ID：11304214
> 
> 赞同：1
> 
> 时间：2012-07-03T03:51:59.403
> 
> 标签：sql-server-2008, reporting-services, sparklines

我在正确显示迷你图时遇到了一些困难，并且 Microsoft 文档专注于 Report Builder。

我有一组可以放在多个垃圾箱之一中的物品。我试图显示每个项目/箱号组合的出现频率。虽然我*可以*在 SQL 中按 bin 编号对项目求和，但我现在让 SSRS 来做。

出于解释的目的，假设数据集如下所示：

```
Item,Bin
-----------
A,1
A,2
A,5
A,2
B,1
B,5 
```

我已经把项目搞定了——包含迷你图的表有一个按适当变量（项目）分组的行组。对于水平轴，我选择 bin # 作为要绘制的属性。我不确定用什么来获得垂直轴。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T17:26:55.790

您是否为迷你图设置了值？您的解释不清楚您是否已完成此步骤。如果没有，只需单击迷你图以显示图表日期窗格。单击值部分中的加号，然后选择表达式。听起来您想按 bin 计算项目数，因此您使用以下表达式：

```
=Count(Fields!Item.Value) 
```

因为您有顺序箱，您可能会考虑将水平轴属性设置为标量轴类型，以便在特定项目缺少箱号（例如 3 和 4您的示例中的项目 A）。还将 Align Axes 属性设置为 tablix，以便所有 bin 编号在每行的迷你图中对齐。否则，项目 A 的 1 和 2 将高于项目 B 的 1 和 5。使用 Align Axes 属性，A 的 5 和 B 的 5 将正确排列。

# visual-studio-lightswitch - 如何更改 Visual Studio 2011 RC Lightswitch 详细信息屏幕的默认选项卡标题？

> ID：11304218
> 
> 赞同：0
> 
> 时间：2012-07-03T03:53:06.017
> 
> 标签：visual-studio-lightswitch

我有一个简单的 Lightswitch 应用程序，我正在构建它以用于我的业务并作为 Lightswitch 的测试。Ap 使用包含许多字段的单个表，因此我使用列表详细信息屏幕，其中显示所选项目的基本信息以及打开专业详细信息屏幕的 3 个按钮。我遇到的问题是每个详细信息屏幕都在一个选项卡中打开，该选项卡与表中第一个字段的标题相同 - 表名称（即“HP - 设备”）。我能找到的所有状态都是您应该在该屏幕的 InitializeDataWorkspace() 方法中覆盖 DisplayName，但我只是看到我的标题短暂闪烁，因为创建的屏幕只是默认情况下被覆盖。

没有太多代码可以显示...

```
partial void FinancialDetail_InitializeDataWorkspace(List<IDataService> saveChangesTo)
{
    // Write your code here.
    this.DisplayName = "Financial Detail";
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-24T23:29:27.300

我终于找到了正确的答案。这在 VS11 中发生了变化，所以搜索总是得到错误的答案。

如果您查看屏幕代码，每个屏幕现在都有默认方法。默认代码显示为注释。您必须在所有 3 个地方设置名称。

```
 partial void Equipment_Loaded(bool succeeded)
    {
        //this.SetDisplayNameFromEntity(this.Equipment);
        this.DisplayName = this.Equipment.UnitID + " - Financials";
    }

    partial void Equipment_Changed()
    {
        //this.SetDisplayNameFromEntity(this.Equipment);
        this.DisplayName = this.Equipment.UnitID + " - Financials";
    }

    partial void FinancialDetail_Saved()
    {
        //this.SetDisplayNameFromEntity(this.Equipment);
        this.DisplayName = this.Equipment.UnitID + " - Financials";
    } 
```

# tsql - tsql 在每 10 分钟的时间间隔内返回最后一个价格

> ID：11304220
> 
> 赞同：2
> 
> 时间：2012-07-03T03:54:24.737
> 
> 标签：tsql, select, time, sql-server-2008-r2, sql-server-express

我有一个包含三列的表：日期、时间和价格。“时间”列大约是分钟间隔，但不是每分钟间隔都表示。我希望创建一个包含 Date、FlooredTime、LastPriceInInterval 的新表，其中 FlooredTime = 每 10 分钟间隔开始时的时间，LastPriceInInterval 是每个间隔内最大可用时间的价格。

```
Old Table:                          New Table:

Date    Time            Price       Date        FlooredTime LastPriceInInterval
2012-05-10  02:50:00    1352.7      2012-05-10  02:40:00    1353.0
2012-05-10  02:46:00    1353.0      2012-05-10  02:30:00    1353.5
2012-05-10  02:45:00    1352.8              
2012-05-10  02:44:00    1353.2              
2012-05-10  02:43:00    1353.1              
2012-05-10  02:42:00    1353.2              
2012-05-10  02:40:00    1353.4              
2012-05-10  02:39:00    1353.5              
2012-05-10  02:38:00    1354.6              
2012-05-11  03:31:00    1355.0              
2012-05-11  03:29:00    1354.0 
```

这是我到目前为止所拥有的，但现在我被卡住了。似乎内部 select 语句不喜欢在 where 子句中使用 Max；最大（日期部分（分钟，m1.时间）%10）。非常感谢知道如何使用允许的语法达到预期的结果。

```
SELECT TOP 1000 Date
   ,DATEADD(minute,-DATEPART(minute,Time)%10 ,Time) as FlooredTime
   ,(Select Price from dbo.MyData
         where m3.Date = m1.Date
         and DATEPART(hour, m3.Time) = DATEPART(hour, m1.Time)
         and datepart(minute,m3.Time)/10 = Floor(datepart(minute,m1.Time)/10)
         and datepart(minute,m3.Time)%10 = Max(datepart(minute,m1.Time)%10)
         ) as LastPriceInInterval
FROM dbo.MyData
where DATEPART(minute,Time)%10 = 0
order by Date Desc, Time Desc 
```

谢谢！

后期编辑 - 我稍后会将结果用作合并表达式中的源表。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T04:58:58.840

您能否先确定区间，获取每个区间的最长时间，然后加入表格以获取价格？使用 a`CTE`您可以轻松实现此目的：

```
;WITH intervals(Date, T1, MaxTime) AS (
SELECT
    Date
    , DATEADD(minute, -DATEPART(minute, Time)%10, Time)
    , MAX(Time) AS MaxTime
FROM dbo.MyData
GROUP BY Date
    , DATEADD(minute, -DATEPART(minute, Time)%10, Time)
)
SELECT t.Date AS Date, i.T1 AS Time, t.Price
FROM dbo.MyData t
INNER JOIN intervals i ON t.Date = i.Date AND t.Time = i.MaxTime
ORDER BY Date DESC, Time DESC 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T06:37:57.200

`Time`您可以在各自的 10 分钟间隔内以相反的顺序对行进行排名，然后选择排名靠前的行：

```
WITH ranked AS (
  SELECT
    *,
    FlooredTime = DATEADD(MINUTE, -DATEDIFF(MINUTE, 0, Time) % 10, Time),
    TimeRank    = ROW_NUMBER() OVER (
      PARTITION BY DATEDIFF(MINUTE, 0, Time) / 10
      ORDER BY Time DESC
    )
  FROM MyData
)
SELECT
  Date,
  FlooredTime,
  LastPriceInInterval = Price
FROM ranked
WHERE TimeRank = 1
ORDER BY
  Date DESC,
  FlooredTime DESC
; 
```

[这是查询的 SQL Fiddle 演示](http://sqlfiddle.com/#!3/46678/1)。

# jasmine - Sinon JS 假服务器自动回复用法

> ID：11304225
> 
> 赞同：1
> 
> 时间：2012-07-03T03:54:50.430
> 
> 标签：jasmine, sinon

我将 sinon js 的假服务器与 Jasmine 一起用于 UT/IT。我已经设置了 server.autorespond = true。（即使在减少 server.autoRespondAfter 中的 ms 后也进行检查）

问题：服务器响应请求后不会触发回调（我可以检查服务器请求的日志和服务器对象本身以查看响应文本）。Jasmine 检查成功或失败 callback.CalledOnce 失败。

在以下情况下不会发生此问题：我在设置 server.respondWith(..) 后使用 server.respond() 并且在服务器响应后正确触发了我的回调。Jasmine 通过了成功或失败回调的检查。CalledOnce。

我的理解是自动响应使服务器在收到异步请求时自动响应，包括调用适当的回调？我还需要使用 server.respond 吗？

谢谢。

代码片段：读取所需的 json 文件并将其作为服务器响应发送。读取的json文件是同步调用（async false）。

```
this.server = sinon.fakeServer.create();
this.server.autoRespond = true;
sinon.FakeXMLHttpRequest.useFilters = true;

sinon.FakeXMLHttpRequest.addFilter(function (method, url, async, username, password) {
  // Don't fake json file read requests
  if (url == inputUrl) {
    return true;
  }
});

this.resultfile = this.readJsonFile(inputUrl);

this.server.respondWith("GET", endUrl,
  [200, { "Content-Type": "application/json" }, this.resultfile]);

console.log (this.server.requests); // Logs all requests so far 
```

在我的茉莉花规格中，我有

```
var callbacks = [sinon.spy(),sinon.spy()];

// call the above sinon code and then make the test call below

jQuery.ajax({
     url: '/abc',
     success: callbacks[0]
});

// this fails, though I can see the server responded to the request.
expect(callbacks[0].calledOnce).toBeTruthy(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-04-01T01:06:44.830

我知道这是一个旧线程，但我想我会为 googlers 更新：

Sinon 文档指出`autoRespond`不适合测试，因为它将异步执行。这默认为 10 毫秒后，这足以碰撞到下一个执行帧，可能会导致测试出现一些竞争条件。我发现这一点是因为我有类似的与 AJAX 相关的失败测试用例。

我最终`respondImmediately`在 fakeServer 上实现了一个属性，它将同步响应任何请求。几周前它刚刚合并到项目中（v1.14.0），但如果你更新到最新版本，你应该能够得到它。[在这里查看文档。](http://sinonjs.org/docs/#fakeServer)

不要将`this.server.autoRespond`属性设置为 true，而是将属性设置`this.server.respondImmediately`为 true。此时，不需要任何`this.server.respond()`调用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:44:15.197

jQuery.ajax 是异步的...除非您在调用 expect() 之前等待足够长的时间，否则您的测试用例将失败。或者，您可以通过设置使 .ajax 同步，`jQuery.ajax({ url: '/abc', async: false, success: callbacks[0] });`尽管这不适用于某些类型的请求（如跨域）...有关详细信息，请参阅 jquery API 文档

# javascript - 两个相邻的 Div，其中 ID 包含图像

> ID：11304228
> 
> 赞同：0
> 
> 时间：2012-07-03T03:55:16.003
> 
> 标签：javascript, html, css, google-visualization

通常，浮动对我有用，我可以向左或向右浮动。但是，这一次我正在使用 Google Charts，并且此代码使用 getElementByID。然后每个 div ID 包含一个图表的图像。我的目标是将两张图表并排放置，但最终发生的情况是，应该在左侧的图表消失了。

到目前为止，我已经尝试在 div 的样式和类中使用浮点数。两者似乎都不起作用。我不确定我是否做得正确，但是我之前在其他文档中已经浮动工作了，所以我假设我需要针对这种情况使用不同的方法。

如果需要，我可以粘贴代码。当两个 ID 都包含 Google Chart 时，将两个 div 并排放置的解决方案是什么？

编辑：这是我的代码[http://pastebin.com/frhhEDYt的粘贴](http://pastebin.com/frhhEDYt)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T07:35:03.000

尝试在其中放置一个包含两个图表的父容器，在**JS**和**CSS**中指定每个图表的`width`and ，将每个图表设置为（以确保跨浏览器），清除下一行。不要忘记为容器设置一个足以包含图表的指定值。如果它是**100%**，它将遵循窗口/父宽度，或者如果该值低于图表的总宽度，则一个图表将低于。`height`****`block``float``width`****

 ******这是我的 jsfiddle：http: [//jsfiddle.net/JSwth/](http://jsfiddle.net/JSwth/)

希望能帮助到你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:10:22.400

如果花车不工作，也许先用一张桌子把它们摆好？这至少可以确保它是导致第二个图表消失的样式，而不是 Google Charts API。

该线程也可能有所帮助（这直接解决了使用两个图表的 Google 图表使用情况）：[如何在一个页面上添加两个 Google 图表？](https://stackoverflow.com/questions/9888920/how-to-add-two-google-charts-on-the-one-page)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T05:28:44.873

```
#chart_div{
  width:250px;
  float:left;
}  
#chart_div2{
  width:250px;
  float:left;
} 

<script type="text/javascript" src="https://www.google.com/jsapi">
</script>

<div id="chart_div">
</div>
<div id="chart_div2">
</div>
<div id="chart_div3">
</div>

// Load the Visualization API and the piechart package.
google.load('visualization', '1.0', {
    'packages': ['corechart']
});

// Set a callback to run when the Google Visualization API is loaded.
google.setOnLoadCallback(drawChart);

// Callback that creates and populates a data table,
// instantiates the pie chart, passes in the data and
// draws it.
function drawChart() {

    // Create the data table.
    var data = new google.visualization.DataTable();
    data.addColumn('string', 'Topping');
    data.addColumn('number', 'Slices');
    data.addRows([
        ['Mushrooms', 3],
        ['Onions', 1],
        ['Olives', 1],
        ['Zucchini', 1],
        ['Pepperoni', 2]
    ]);
    // Create the data table.
    var data2 = new google.visualization.DataTable();
    data2.addColumn('string', 'Topping');
    data2.addColumn('number', 'Slices');
    data2.addRows([
        ['Mushrooms', 3],
        ['Onions', 1],
        ['Olives', 15],
        ['Zucchini', 1],
        ['Pepperoni', 2]
    ]);

    var data3 = new google.visualization.DataTable();
    data3.addColumn('string', 'Year');
    data3.addColumn('number', 'Sales');
    data3.addColumn('number', 'Expenses');
    data3.addRows([
        ['2004', 1000, 400],
        ['2005', 1170, 460],
        ['2006', 860, 580],
        ['2007', 1030, 540]
    ]);

    // Set chart options
    var options = {
        'title': 'How Much Pizza I Ate Last Night',
        'width': 250,
        'height': 200
    };
    // Set chart options
    var options2 = {
        'title': 'How Much Pizza You Ate Last Night',
        'width': 250,
        'height': 200
    };
    // Set chart options
    var options3 = {
        'title': 'Line chart',
        'width': 250,
        'height': 200
    };

    // Instantiate and draw our chart, passing in some options.
    var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
    chart.draw(data, options);
    var chart2 = new google.visualization.PieChart(document.getElementById('chart_div2'));
    chart2.draw(data2, options2);
    var chart3 = new google.visualization.LineChart(document.getElementById('chart_div3'));
    chart3.draw(data3, options3);

} 
```

我为您创建了一个垃圾箱，请使用此链接 [http://codebins.com/codes/home/4ldqpc5检查](http://codebins.com/codes/home/4ldqpc5)******

# c - 修改后的linux内核编译慢

> ID：11304229
> 
> 赞同：0
> 
> 时间：2012-07-03T03:55:20.743
> 
> 标签：c, compilation, linux-kernel, virtualbox, kernel-module

我目前在最新的 virtualbox 中使用 CENTOS 6.1 来构建我的 C 代码库。

完成编译几乎不需要 15 分钟。

我在内核网络子系统中做了几行更改，将数据包发送到我的内核模块而不是 ip-stack。我已经重建了内核并成功启动了它。

现在，如果我尝试在修改后的内核上构建相同的代码库，完成它需要超过 1 小时 30 分钟。内核版本为 2.6.32.58

谁能帮我调试一下为什么只在内核中进行一行修改就需要这么多时间？我知道这可能是因为我的修改，但想知道调试性能问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T08:01:38.890

您修改后的内核可能使用了过多的 CPU（例如，由于 [near] 无限循环）导致用户级进程变慢。您可以通过将 printk 消息放入修改后的内核中找到这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:04:34.500

编译的时间取决于您修改的文件和制作工具。

您可以制作您将独立修改的模块或使用多线程制作 -jN 内核

# python - 需要获取IP地址才能加入GAE黑名单

> ID：11304235
> 
> 赞同：0
> 
> 时间：2012-07-03T03:56:13.473
> 
> 标签：python, google-app-engine, ip, blacklist, denial-of-service

我从恶意用户那里收到了很多对我的 appengine 应用程序的请求，我怀疑这可能是对 DOS 攻击的尝试。我需要将他们的 IP 地址添加到 GAE 的黑名单中。然而当我看 `self.request.remote_addr`

我得到的只是我自己的IP地址。如何获取实际向我发送这些请求的客户端的远程 IP？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T04:02:21.500

您可以在管理面板的日志页面上看到 IP。单击日志项旁边的“加号”图标以展开它并查看请求数据。

# jquery - 使用 jQuery fadeToggle 作为导航栏，如何一次显示/隐藏内容？

> ID：11304237
> 
> 赞同：0
> 
> 时间：2012-07-03T03:56:23.807
> 
> 标签：jquery, navigation, toggle

我对 CSS/Jquery*很*陌生，所以请原谅这个问题的假设简单性。

我有一个导航链接到：关于和联系。我已经想出了如何淡化他们的内容。但是，如果您单击一个链接，然后单击另一个链接，则它们的内容会依次淡入/淡出并相互堆叠。如果单击不同的链接，我希望每个链接的内容自动淡出。例如，如果用户点击“CONTACT”，联系信息将淡入。然后，如果用户点击“ABOUT”，我希望联系信息淡出，关于信息淡入。任何人都可以帮忙语言？

到目前为止我在**HTML** /CSS/JS 中的内容：

```
<body>

<div id="navbar">    
<ul>
<li><a href="#" id="about">ABOUT</a></li>
<li><a href="#" id="contact">CONTACT</a></li>
</ul>    
</div>

<div id="aboutcontent" class="hidden">
 <p> ABOUT ME </p>
</div>

<div id="contactcontent" class="hidden">
<p>NAME, CITY, EMAIL, PHONE NUMBER</p>
</div>

</body>
</html> 
```

**CSS：**

```
.hidden {display:none}          
#navbar ul li { display: inline;} 
```

**JS**

```
$(document).ready(function(){
$('a#contact').click(function() {
$('div#contactcontent').fadeToggle();
return false;
});

$('a#about').click(function() {
$('div#aboutcontent').fadeToggle();
return false;  

});   
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T04:05:35.480

试试这个代码：

```
$(document).ready(function(){

  $('a#contact').click(function(e) {
    e.preventDefault();
    $('div#aboutcontent').hide();      
    $('div#contactcontent').fadeIn(); 
  });

  $('a#about').click(function(e) {
    e.preventDefault();
    $('div#contactcontent').hide();  
    $('div#aboutcontent').fadeIn();  
  });   

}); 
```

您可以在这里看到一个工作示例：http: [//jsfiddle.net/ECBhr/1/](http://jsfiddle.net/ECBhr/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:06:57.723

**像这样你的意思是**演示：http: [//jsfiddle.net/hgVLH/3/](http://jsfiddle.net/hgVLH/3/)

希望这可以帮助，

API：[http ://api.jquery.com/fadeOut/](http://api.jquery.com/fadeOut/)

或者您可以使用`.hide()`= [http://api.jquery.com/hide/](http://api.jquery.com/hide/) http://jsfiddle.net/hgVLH/4/ 或[http://jsfiddle.net/hgVLH/5/](http://jsfiddle.net/hgVLH/5/)

**代码**

```
$(document).ready(function() {
    $('a#contact').click(function() {
        $('div#aboutcontent').fadeOut();
        $('div#contactcontent').fadeToggle();
        return false;
    });

    $('a#about').click(function() {
        $('div#contactcontent').fadeOut();
        $('div#aboutcontent').fadeToggle();
        return false;

    });
}); 
```

# sql - Wordpress：如何通过 SQL 将 post_author 更改为多个 wp_post ID？

> ID：11304239
> 
> 赞同：0
> 
> 时间：2012-07-03T03:56:50.117
> 
> 标签：sql, wordpress

我正在尝试更改 Wordpress 中多个帖子的作者姓名。我更喜欢使用 SQL 查询而不是 Wordpress 插件。有没有办法在 SQL 中选择多个 ID 并更新？我想获取我想更改的所有帖子 ID 的列表并批量编辑作者姓名。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T04:33:48.820

如果您愿意，可以从后端无需插件即可执行此操作。

只需选择您要更改作者的帖子，然后单击“批量编辑”，您就会看到该选项（您也可以同时查看任意数量的帖子；您不限于您最初看到的 25 多个帖子）。

不知道如何在 SQL 中做到这一点，但这就是我的做法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T04:46:06.913

// 从 wp_users 表中选择正确的 post_author ID

```
UPDATE wp_posts
SET post_author=1
WHERE ID IN (ID1,ID2,...) 
```

# list - 如何在 gsp 页面中显示此内容 ${list.find{it.code==$otherlist.code}.Desc}

> ID：11304242
> 
> 赞同：0
> 
> 时间：2012-07-03T03:57:06.220
> 
> 标签：list, grails, gsp

如何在 gsp 页面中显示类似的内容

${list.find{it.code==$otherlist.code}.Desc}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T04:09:45.727

你试过了吗？

```
${list.find{it.code==otherlist.code}.Desc} 
```

# android - 如何从单个主页打开多个 xml 表单

> ID：11304243
> 
> 赞同：0
> 
> 时间：2012-07-03T03:57:07.280
> 
> 标签：android, android-intent

我是android plz的初学者，请帮助我有一个主页，我想在每个按钮上打开一个表单......但它只打开一个页面，其余页面给出错误......这是我的主要xml代码页

```
<?xml version="1.0" encoding="utf-8"?>

    <SlidingDrawer xmlns:android="http://schemas.android.com/apk/res/android"
        android:background="@drawable/stars"
        android:id="@+id/slidingDrawer1"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:content="@+id/content"
        android:handle="@+id/handle" >
        <ImageView
            android:id="@+id/handle"
            android:layout_width="70dp"
            android:layout_height="70dp"
            android:src="@drawable/arrowup" />
        <LinearLayout
            android:id="@+id/content"
            android:layout_width="match_parent"
            android:layout_height="332dp"
            android:orientation="vertical" >
            <Button
                android:id="@+id/btnlenght"
                android:layout_width="192dp"
                android:layout_height="36dp"
                android:layout_marginLeft="66dp"
                android:layout_marginTop="22dp"
                android:background="#3366cc"
                android:textColor="#ffffff"
                android:text="@string/btnlenght" />

            <Button
                android:id="@+id/btnweight"
                android:layout_width="192dp"
                android:layout_height="36dp"
                android:layout_marginLeft="66dp"
                android:layout_marginTop="22dp"
                android:layout_weight="0.00"
                android:textColor="#ffffff"
                android:background="#3366cc"
                android:text="@string/btnweight" />

            <Button
                android:id="@+id/btnarea"
                android:layout_width="197dp"
                android:layout_height="36dp"
                android:layout_marginLeft="66dp"
                android:layout_marginTop="22dp"
                android:background="#3366cc"
                android:textColor="#ffffff"
                android:text="@string/btnarea" />

         <Button
         android:id="@+id/btntemperature"
         android:layout_width="197dp"
         android:layout_height="36dp"
         android:layout_marginLeft="66dp"
         android:layout_marginTop="22dp"
         android:textColor="#ffffff"
         android:background="#3366cc"
         android:text="@string/btntemperature" />
        <ImageView
        android:id="@+id/back"
        android:layout_width="74dp"
        android:layout_height="88dp"
        android:layout_marginLeft="0dp"
        android:layout_marginTop="0dp"
        android:layout_weight="0.24"
        android:src="@drawable/back" />

        </LinearLayout>

    </SlidingDrawer> 
```

和这里的主页编码......

```
public class firstpage extends Activity {
/** Called when the activity is first created. */
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.firstpage);

     Button btnlenght=(Button)findViewById(R.id.btnlenght);
     Button btnweight=(Button)findViewById(R.id.btnweight);
     Button btnarea=(Button)findViewById(R.id.btnarea);
     Button btntemperature=(Button)findViewById(R.id.btntemperature);
     final ImageView handle=(ImageView)findViewById(R.id.handle);
     ImageView back=(ImageView)findViewById(R.id.back);
     SlidingDrawer slidingDrawer1=(SlidingDrawer)findViewById(R.id.slidingDrawer1);
     slidingDrawer1.setOnDrawerOpenListener(new OnDrawerOpenListener() {

        @Override
        public void onDrawerOpened() {
            // TODO Auto-generated method stub
            handle.setImageResource(R.drawable.downarrow1);

        }
    });
     slidingDrawer1.setOnDrawerCloseListener(new OnDrawerCloseListener() {

        @Override
        public void onDrawerClosed() {
            // TODO Auto-generated method stub
            handle.setImageResource(R.drawable.arrowup);
        }
    });
     btnlenght.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
        Intent n = new Intent(v.getContext(),lenght.class);
           startActivity(n);
       }

    });
     btnweight.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
            Intent a = new Intent(v.getContext(),weight.class);
               startActivity(a);
           }

        });
     btnarea.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
            Intent n = new Intent(v.getContext(),Area.class);
               startActivity(n);
           }

        });
     btntemperature.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
            Intent n = new Intent(v.getContext(),temperature.class);
               startActivity(n);
           }

        });
     back.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                Intent n = new Intent(v.getContext(),A2ZunitconverterActivity.class);
                startActivity(n);
                finish();
                System.exit(0);

            }
        });

    } 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T04:35:56.293

将您在标签内的清单文件中调用的所有活动声明为

```
<activity android:name=".temperature"/>
<activity android:name=".weight"/> 
```

或者如果您在不同的包中使用这些类，那么您必须将包声明为

```
<activity android:name="com.org.xxx.temperature">
<activity android:name="com.org.xxx.weight"> 
```

检查您的清单文件..它可能对您有帮助...

# api - 在没有登录名/密码的情况下“保护”API 的最佳实践

> ID：11304248
> 
> 赞同：21
> 
> 时间：2012-07-03T03:57:56.180
> 
> 标签：api, rest, mobile, backend

我有一个可以用一些 UID 识别的客户端应用程序。我有一个后端服务，客户端应用程序需要调用它来检索一些列表。保护此后端服务的最佳做法是什么？我不想通过登录名/密码进行保护（因为不应要求客户端“登录”来检索列表），但是，我不希望任何人轻松调用此后端 API 并为自己的目的检索这些列表. 将客户端视为自定义 Flash 客户端或移动客户端等。通信是通过 HTTP REST 进行的。有任何想法吗？

谢谢

**更新：对不起，忘了提——没有使用 SSL。基本上我在这里寻找一些算法/策略的想法。感谢您的建议！**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-03T04:05:40.347

这里的一般想法是，您将使用 HTTPS，客户端配置为使用 API 提供者通过其他一些安全方法颁发给他们的 X.509 证书来签署他们的请求。服务器也将拥有此证书（或者更好的是客户端证书是其子证书的证书），并且可以验证传入请求是否已使用它进行签名。这是服务器到服务器通信的标准。如果您正在构建一个供最终用户在本地运行的应用程序，则它不起作用，因为坏人可以轻松地从客户端应用程序中提取此证书并破坏整个方案

有很多关于如何配置它的技术特定文章，你还没有指定你正在使用什么堆栈，但这里有一篇通用文章只是为了证明我没有编造这些东西 :) [http://www。 ibm.com/developerworks/lotus/library/ls-SSL_client_authentication/](http://www.ibm.com/developerworks/lotus/library/ls-SSL_client_authentication/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-02-06T05:47:25.697

嗨，我想你可以看看这篇文章，它使用 hmac 身份验证。[http://bitoftech.net/2014/12/15/secure-asp-net-web-api-using-api-key-authentication-hmac-authentication/](http://bitoftech.net/2014/12/15/secure-asp-net-web-api-using-api-key-authentication-hmac-authentication/)

您还记得哈希可以用来保证完整性吗？例如，如果您对请求进行哈希处理，并且服务器接收到请求并提取哈希，服务器将对请求进行哈希处理并比较请求，服务器和客户端。如果它们匹配，您可以确定请求在转换中没有被修改。如果您有一个私有值（没有人应该知道它！），比如说“hiworld”（这些值实际上是 guid 或随机值）并且您使用该值作为散列参数，您将获得一个特殊的散列值。如果您使用哈希特殊值发送请求，并且服务器（知道私有值）使用该特殊值对请求进行哈希处理，并且两个哈希都匹配，则服务器可以确定请求没有被篡改，并且您是谁送的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T04:02:43.480

您应该查看 OAuth 的授权，并且连接应该始终是 HTTPS，这样数据包就不会被轻易嗅探。

在没有身份验证的情况下使用它是非常不安全的，因为任何人都可以尝试冒充有效的客户端。使用 HTTPS 连接只会减慢黑客的速度。

看：

[http://oauth.net](http://oauth.net)

[http://en.wikipedia.org/wiki/OAuth](http://en.wikipedia.org/wiki/OAuth)

[http://library.edgecase.com/securing-apis-using-rack-middleware](http://library.edgecase.com/securing-apis-using-rack-middleware) （用于 Rails / Rack）

[http://developers.sun.com/identity/reference/techart/restwebservices.html](http://developers.sun.com/identity/reference/techart/restwebservices.html)

[http://www.slideshare.net/mohangk/securing-your-web-api-with-oauth](http://www.slideshare.net/mohangk/securing-your-web-api-with-oauth)

[这](https://web.archive.org/web/20150207070814/http://www.thebuzzmedia.com/designing-a-secure-rest-api-without-oauth-authentication/)也可能很有趣：（没有 OAuth）。

# scala - 用 Scala 解释这些代码行

> ID：11304251
> 
> 赞同：0
> 
> 时间：2012-07-03T03:58:04.713
> 
> 标签：scala

我试图准确理解以下代码片段的工作原理，特别是第 2`Seq(JsString(bar), _*)`行和第 3 行`must_`，语法让我感到困惑

```
val foo = (Json.parse(contentAsString(result)    
val Seq(JsString(bar), _*) = (foo \\ "bar")
bar must_== "crazy" 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-03T04:39:31.550

第 2 行是模式匹配，但使用`val`语法。 `foo \\ "bar"`返回 a `Seq`，您可以匹配它；

```
Seq(JsString(bar), _*) 
```

表示该项必须与 a 匹配，`Seq`并且第一项必须是`JsString`我们将调用其内容的 a `bar`，而我们不关心其余的 ( `_*`)。通常你会看到这样的：

```
(foo \\ "bar") match {
  case Seq(JsString(bar), _*) =>  // do something with bar
  ...
} 
```

但事实证明，您也可以`val`通过这种方式初始化 s。

此外，`must_==`是某些测试框架的方法名称（方法可以是字母数字后跟下划线后跟符号）。我忘了哪个。但几乎可以肯定的是，存在从任何东西到经过测试的任何东西的隐式转换，以及经过测试的任何东西有`must_==`方法。

# mercurial - Mercurial 中维护开发/发布分支 的最佳实践？

> ID：11304252
> 
> 赞同：1
> 
> 时间：2012-07-03T03:58:21.450
> 
> 标签：mercurial, branch, tortoisehg

在我的办公室，我们正在从 Visual Source Safe（6.0！）过渡到 Mercurial，我正在尝试找出处理我们情况的最佳“Mercurial”方式。目前，在任何给定的项目存储库中，我们维护它的多个版本：即对于项目 A，我们有一个用于 ProjA-Dev、ProjA-Rel1 和 ProjA-Rel2 的 VSS 存储库（一个开发存储库和一个用于过去两个发布）。

就目前而言，（几乎）所有新工作都在开发存储库中执行，然后手动完成被认为有必要回滚到 Rel1 或 Rel2 的更改（文件从 VSS 签出到它们自己的工作目录，然后使用一些差异工具仅复制适当的更改）。到了某个时候，就认为有新版本出来了，所以克隆了dev repo，变成了Proj*-Rev1，之前的Proj*-Rev1变成了Proj*-Rev2，Proj*-Dev就这样继续下去好像什么都没发生一样。在我看来，必须有更好的方法在更现代的工具（如 Mercurial）中实现这一点。

我目前的想法是每个项目都应该有自己的存储库，并且 Dev/Rel1/Rel2 的区别最好由不同的命名分支处理。但是，我无法弄清楚/看到/环绕的是如何在这样的环境下完成我们当前的工作流程。如果我们遵循我们当前的工作流程，那么 dev-branch 中的工作将继续有增无减，并且某些更改（不是全部！）将回滚/回滚到 Rel 分支。我知道这可以通过 Mercurial 的移植/移植功能来实现，而 TortoiseHg 似乎还没有很好地支持它。而且，更重要的是，过去的答案似乎表明，最好的解决方案是不允许事情以[1](https://stackoverflow.com/questions/1405604/managing-release-branches-in-mercurial "在 Mercurial 中管理发布分支")开始进入这种状态。

问题是，鉴于当前的工作流程，避免这种状态的最佳方法是什么？我已经阅读了很多关于 Mercurial 和分支的指南（包括在这里找到的很多很多回复），但还没有看到这个问题的明确答案。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-28T13:55:53.213

我不知道这是否完全适合您，但我可以为您提供一些有关[Mozilla 如何使用 Mercurial](http://mozilla.github.com/process-releases/draft/development_overview/)的信息。我们每六周发布一次 Firefox，我们有几个并行运行的不同分支：“夜间”从[mozilla-central](http://hg.mozilla.org/mozilla-central/)存储库构建，所有活跃的开发都在这里进行，“aurora”从[mozilla-aurora](http://hg.mozilla.org/releases/mozilla-aurora/)存储库构建，我们尝试在其中构建稳定发布代码，“beta”从我们执行最终验证的[mozilla-beta存储库构建，并从](http://hg.mozilla.org/releases/mozilla-beta/)[mozilla-release](http://hg.mozilla.org/releases/mozilla-release/)存储库发布构建。这些存储库中的每一个都作为单独的克隆进行维护。

[从一个分支移动到另一个分支的实际分支机制](http://mozilla.github.com/process-releases/draft/development_specifics/)有些复杂。这些分支都有共同的历史，但由于 aurora 和 beta 分支在发布前夕移植了选定的安全性和稳定性修复程序，因此它们的历史不同。确切的过程记录在本段开头的链接中，但归结为：“标记 mozilla-central 存储库；标记并关闭 mozilla-aurora 的当前头；将 mozilla-central 推送到 mozilla-aurora 作为新头”。对 aurora->beta 重复相同的过程。

将开发中的修复程序向后移植到 aurora 或 beta 分支只是移植变更集的问题。`hg transplant`如果你愿意，你可以使用这个命令，我[在我的博客上](https://blog.mozilla.org/ted/2009/12/02/easy-branch-landing-of-patches/)记录了我是如何做到的。

话虽如此，这对于大多数项目来说可能是矫枉过正。我们使用单独的存储库克隆而不是命名分支，因为我们的命名分支工具不是很好，而且我们实际上更喜欢它给我们的隔离。您可以在此处将命名分支用于更轻量级的流程，只需在准备好时从默认分支创建一个新的命名分支，并在默认情况下继续开发时根据需要进行反向移植。

# hibernate - 如何使用 Hibernate Annotations、Struts 2 和 JSP 获取外键

> ID：11304255
> 
> 赞同：0
> 
> 时间：2012-07-03T03:59:03.953
> 
> 标签：hibernate, jsp, struts2, annotations, pojo

我已经设法在 MVC 模式中使用 Hibernate (Annotations) 和 Struts 2 构建了一个 Web 应用程序。我已经设置了用户填写表单的 JSP 页面，然后在我的 Action 类中对其进行处理，该类将调用 DAO，并为`user`表传递一个 POJO。我还有一个表`states`，我需要`ID`在`user`表中将其设置为外键。我通过创建一个新`state`POJO 变量并`state`在查询中使用来自我的 jsp 表单的名称来从`state`数据库中获取信息来完成它。问题是我了解到我不能在操作类中使用查询语言 (HQL)，因为我会破坏 MVC 和 Struts 2 结构，对吗？如果是这样，我该如何发送`state`如果 DAO 期望接收`state`POJO，则通过操作类命名，而不仅仅是`state`名称；

这是jsp表单：

```
 <s:form action="cadVoluntario" method="post">
        <s:textfield name="dtCadastro" label="Data de Cadastro"/>
        <s:textfield name="nomeCivil" label="Nome Civil"/>
        <s:textfield name="nomeSocial" label="Nome Social"/>
        <s:textfield name="cpf" label="CPF"/>
        <s:textfield name="rg" label="RG"/>
        <s:textfield name="orgExp" label="Órgão Expedidor"/>
        <s:textfield name="dtNascimento" label="Data de Nascimento"/>
        <s:textfield name="celular" label="Celular"/>
        <s:textfield name="telComercial" label="Telefone Comercial"/>
        <s:textfield name="telResidencial" label="Telefone Residencial"/>
        <s:textfield name="endereco" label="Endereço"/>
        <s:textfield name="bairro" label="Bairro"/>
        <s:textfield name="cidade" label="Cidade"/>
        <s:textfield name="estado" label="Estado"/>
        <s:submit/>
    </s:form> 
```

这是我的动作类，遵循 struts 2 配置：

```
public class CadVoluntarioAction {

private String dtCadastro;
private String nomeCivil;
private String nomeSocial;
private String cpf;
private String rg;
private String orgExp;
private String dtNascimento;
private String celular;
private String telComercial;
private String telResidencial;
private String endereco;
private String bairro;
private String cidade;
private String estado;

    public String add() throws Exception {

        VoluntarioPojo pojoVol = new VoluntarioPojo();
        CadVoluntarioDAO daoVol = new CadVoluntarioDAO();

        pojoVol.setDtCadastro(getDtCadastro());
        pojoVol.setNomeCivil(getNomeCivil());
        pojoVol.setNomeSocial(getNomeSocial());
        pojoVol.setCpf(getCpf());
        pojoVol.setRg(getRg());
        pojoVol.setOrgExp(getOrgExp());
        pojoVol.setDtNascimento(getDtNascimento());
        pojoVol.setCelular(getCelular());
        pojoVol.setTelComercial(getTelComercial());
        pojoVol.setTelResidencial(getTelResidencial());
        pojoVol.setEndereco(getEndereco());
        pojoVol.setBairro(getBairro());
        pojoVol.setCidade(getCidade());
        pojoVol.setEstadoPojo(getEstado());

        try {
            daoVol.salvarVoluntario(pojoVol);
        } catch (Exception e) {
            e.printStackTrace();
        }
        return "sucesso";
    } 
```

//GET 和 SET

这是我给用户的 POJO：

```
@Entity
@Table (name="voluntario")
@Inheritance(strategy = InheritanceType.JOINED)

public class VoluntarioPojo implements Serializable{   
    private Long idVoluntario;
    private String dtCadastro;
    private String cpf;
    private String rg;
    private String orgExp;
    private String nomeCivil;
    private String nomeSocial;
    private String dtNascimento;
    private String areaAtuacao;
    private String celular;
    private String telResidencial;
    private String telComercial;
    private String endereco;
    private String cidade;
    private String bairro;
    private String cep;
    private String email;
    private String senha;
    private String perfil;
    private EstadoPojo estadoPojo;
    private IdentidadeGeneroPojo identidadeGeneroPojo;
    private OrientacaoSexualPojo orientacaoSexualPojo;

    public VoluntarioPojo () 
    {
    }

    @Id
    @SequenceGenerator(name="vol_seq", sequenceName="voluntario_volid_seq")
    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = "vol_seq")
    @Column(updatable = true, name = "volid", nullable = false)
    public Long getIdVoluntario() {
        return idVoluntario;
    }
    public void setIdVoluntario(Long idVoluntario) {

        this.idVoluntario = idVoluntario;
    }

    @ManyToOne 
    @JoinColumn(name = "estadosestid")
    public EstadoPojo getEstadoPojo ()
    {   
        return this.estadoPojo;
    }
    public void setEstadoPojo (EstadoPojo estadoPojo)
    {
        this.estadoPojo = estadoPojo;
    }

    @ManyToOne 
    @JoinColumn(name ="orisexualoriid")
    public OrientacaoSexualPojo getOrientacaoSexualPojo()
    {   
        return this.orientacaoSexualPojo;
    }
    public void setOrientacaoSexualPojo(OrientacaoSexualPojo orientacaoSexualPojo)
    {
        this.orientacaoSexualPojo = orientacaoSexualPojo;
    }

    @ManyToOne
    @JoinColumn(name ="idegeneroideid")
    public IdentidadeGeneroPojo getIdentidadeGeneroPojo()
    {   
        return this.identidadeGeneroPojo;
    }
    public void setIdentidadeGeneroPojo (IdentidadeGeneroPojo identidadeGeneroPojo)
    {
        this.identidadeGeneroPojo = identidadeGeneroPojo;
    }

    @Column(updatable = true, name = "volcpf", nullable = false, length = 11)
    public String getCpf() {
        return this.cpf;
    }
    public void setCpf(String cpf) {
        this.cpf = cpf;
    }

//All the other required Colunms... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T10:10:49.743

你需要的是一个转换器。一个xwork转换器。这就是你如何去做的。假设您的状态对象是这个

```
public class State implements Serializable
{
     private String stateName;
     private Long stateId;
     //getters and setters
} 
```

现在这样做。在您的操作类中，将状态添加为属性

```
public class CadVoluntarioAction extends ActionSupport{
     private State myState;
     //getters and setters
} 
```

在你的jsp中添加`myState`你通常会做的

现在，创建一个名为`xwork-conversion.properties`. 将此文件放在 WEB-INF 下的 classes 目录中。此类将负责将您的`state`字符串转换为`State`Object

接下来，创建一个转换器类。这个类将负责进行转换。

```
public abstract class MyStrutsTypeConverter extends StrutsTypeConverter
{
    public Object convertFromString(Map map, String strings[], Class type)
    {
        String value = strings[0];
        if(value != null && value.equals("state_string_from_jsp"))
        {
          //Use your dao to retrieve your state object and return the state object
        }
        return null;
    }

public String convertToString(Map map, Object o)
{
        if(o instanceof State)
        {
            State data = (State)o;
            //return the  state string
        }
        return "";
}
} 
```

一旦你完成了这个。接下来要做的是编辑之前创建的 xwork-conversion.properties。格式是键值，即 class_name_to_convert=converter_class

```
full_package_name_of_your_state_class.State=full_package_name_of_your_converter_class.MyStrutsTypeConverter 
```

之后部署您的应用程序。

如果您有任何问题，请告诉我

# python - python - cProfile没有运行

> ID：11304257
> 
> 赞同：6
> 
> 时间：2012-07-03T03:59:16.543
> 
> 标签：python, cprofile

我试图使用 cProfile 对我的代码进行性能测试，但遗憾的是，无论我如何尝试 cProfile 都拒绝正常运行。这是我所做的：

```
import cProfile
cProfile.run('addNum()')  # addNum() is a very simple function that adds a bunch of 
                          # numbers into a dictionary 
```

这就是我得到的：

```
Traceback (most recent call last):
File "C:\Program Files\Wing IDE 101 4.1\src\debug\tserver\_sandbox.py", line 1, in <module>
# Used internally for debug sandbox under external interpreter
File "C:\Python27\Lib\cProfile.py", line 36, in run
result = prof.print_stats(sort)
File "C:\Python27\Lib\cProfile.py", line 81, in print_stats
pstats.Stats(self).strip_dirs().sort_stats(sort).print_stats()
File "C:\Python27\Lib\pstats.py", line 81, in __init__
self.init(arg)
File "C:\Python27\Lib\pstats.py", line 95, in init
self.load_stats(arg)
File "C:\Python27\Lib\pstats.py", line 124, in load_stats
self.__class__, arg)
TypeError: Cannot create or construct a <class pstats.Stats at 0x01AE9CA8> object from '<cProfile.Profile object at 0x01ACC470>'' 
```

有人可以帮我调试一下，并希望提供解决方案吗？

我在 Wing IDE 101 ver4.1 上运行 Python 2.7.3。

谢谢！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T06:35:13.920

这似乎是 pStats 模块而不是 cProfile 的问题。

你能试试吗

```
import pstats 
```

如果这说无法导入 pstats，请尝试再次安装 python-profiler。它带有 python 本身，但如果 pstats 不存在，在你的情况下可能会搞砸。

这是 linux 上的一个简单的 apt-get，所以我假设 windows 也会有一个单独的用于 python-profiler 的二进制文件。

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-02-21T10:10:53.217

我今天在 Python 3.5.2 上遇到了同样的问题：

最终的工作是替换我想像这样分析的调用，然后运行整个程序：

```
import cProfile
# myObject.myFunc()
cProfile.runctx('myObject.myFunc()', globals(), locals(), 'myFunc.stat') 
```

最后，在单独运行的交互式中`python3`，我做了：

```
>>> import pstats
>>> p = pstats.Stats('myFunc.stat')
>>> p.strip_dirs().sort_stats(-1).print_stats()
Wed Feb 20 17:10:05 2019    myFunc.stat

         10218759 function calls (3916491 primitive calls) in 16.519 seconds

   Ordered by: standard name

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        1    0.000    0.000   16.519   16.519 <string>:1(<module>)
   ... the really useful stats followed here ... 
```

, `cProfile.runctx(...)`,是解决我遇到`globals()`的问题所必需的；你问的问题是通过指定一个文件名来存储统计数据的，这也可以通过普通的`locals()``NameError``TypeError``cProfile.run(...)`

# user-interface - Apatana 中 HTML/JS 组件的可视化工具栏

> ID：11304259
> 
> 赞同：0
> 
> 时间：2012-07-03T03:59:43.970
> 
> 标签：user-interface, aptana

我正在 Aptana 中寻找类似于 Visual Studio 中的 Visual GUI 设计器。但我找不到一个。如果没有可视化工具栏（我可以在其中拖放组件），我将如何有效地开发网页。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T20:08:34.227

Aptana Studio is designed for users who like to code their HTML and CSS directly. As such, there is content assist that can help you compose your tags and styles, but there is currently no GUI editor. You may find that for HTML-5 based pages, GUI editors don't help substantially for more modern layouts.

# java - 使用 jgit 获取 Git 失败：远程没有 可用于获取

> ID：11304261
> 
> 赞同：5
> 
> 时间：2012-07-03T03:59:48.853
> 
> 标签：java, git, version-control, jgit, git-fetch

我有一个裸仓库位于`main.git`并试图`foo`在另一个仓库中获取一个分支（比方说），该仓库`test`刚刚被`git init`'d：

```
fetchtest/
  |- main.git/
  |- test/
       |- .git/ 
```

使用常规 git 命令，我可以执行 a `git fetch ../main.git foo:foo`，这将创建一个新分支`foo`并`test/`获取分支所需的对象。**然后我想做同样的事情，但以编程方式使用 JGit，即不使用 git CLI，而只使用 Java 代码。我无法使用 git CLI：**

```
Git git = Git.init().setDirectory(new File("fetchtest/test/")).call();

git.fetch().setRemote(new File("../main.git"))
           .setRefSpecs(new RefSpec("foo:foo"))
           .call(); 
```

但它只是错误：

```
org.eclipse.jgit.api.errors.TransportException: Remote does not have foo available for fetch.
    at org.eclipse.jgit.api.FetchCommand.call(FetchCommand.java:137)
    // ......
Caused by: org.eclipse.jgit.errors.TransportException: Remote does not have foo available for fetch.
    at org.eclipse.jgit.transport.FetchProcess.expandSingle(FetchProcess.java:349)
    at org.eclipse.jgit.transport.FetchProcess.executeImp(FetchProcess.java:139)
    at org.eclipse.jgit.transport.FetchProcess.execute(FetchProcess.java:113)
    at org.eclipse.jgit.transport.Transport.fetch(Transport.java:1069)
    at org.eclipse.jgit.api.FetchCommand.call(FetchCommand.java:128) 
```

我怎样才能让它工作？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-03T06:06:15.853

什么应该起作用：

```
Git git = Git.init().setDirectory(new File("fetchtest/test/")).call();

git.fetch().setRemote(new File("../main.git"))
           .setRefSpecs(new RefSpec("refs/heads/foo:refs/heads/foo"))
           .call(); 
```

注意`RefSpec`定义。
至少，试试你的例子：

```
new RefSpec("refs/heads/foo:refs/heads/foo") 
```

[`RefSpec`课堂](https://github.com/eclipse/jgit/blob/master/org.eclipse.jgit/src/org/eclipse/jgit/transport/RefSpec.java#L104-L122)上提到：

```
/**
 * Parse a ref specification for use during transport operations.
 * <p>
 * Specifications are typically one of the following forms:
 * <ul>
 * <li><code>refs/head/master</code></li>
 * <li><code>refs/head/master:refs/remotes/origin/master</code></li>
 * <li><code>refs/head/*:refs/remotes/origin/*</code></li>
 * <li><code>+refs/head/master</code></li>
 * <li><code>+refs/head/master:refs/remotes/origin/master</code></li>
 * <li><code>+refs/head/*:refs/remotes/origin/*</code></li>
 * <li><code>:refs/head/master</code></li>
 * </ul>
 *
 * @param spec
 * string describing the specification.
 * @throws IllegalArgumentException
 * the specification is invalid.
*/ 
```

所以“ `refs/head/`”似乎是强制性的。

* * *

原答案：

[`setRemote()`on 函数`api.FetchCommand`](https://github.com/eclipse/jgit/blob/master/org.eclipse.jgit/src/org/eclipse/jgit/api/FetchCommand.java#L150-L163)采用名称或 URI。

查看[`FetchCommandTest`](https://github.com/eclipse/jgit/blob/master/org.eclipse.jgit.test/tst/org/eclipse/jgit/api/FetchCommandTest.java#L72-L78)URI 定义，我更喜欢使远程更可见：
我宁愿`test`为您的第二个 repo（参考您的第一个 repo）定义一个命名远程（在下面：“”），然后获取。

```
// setup the first repository to fetch from the second repository
final StoredConfig config = db.getConfig();
RemoteConfig remoteConfig = new RemoteConfig(config, "test");
URIish uri = new URIish(db2.getDirectory().toURI().toURL());
remoteConfig.addURI(uri);
remoteConfig.update(config);
config.save();

// create some refs via commits and tag
RevCommit commit = git2.commit().setMessage("initial commit").call();
Ref tagRef = git2.tag().setName("tag").call();

Git git1 = new Git(db);

RefSpec spec = new RefSpec("refs/heads/master:refs/heads/x");
git1.fetch().setRemote("test").setRefSpecs(spec)
.call(); 
```

# bash - Bash：使用 screen 和 exec 进行进程编号

> ID：11304262
> 
> 赞同：1
> 
> 时间：2012-07-03T04:00:06.763
> 
> 标签：bash

如果我使用 启动屏幕`screen -dmS screenname java -jar jarfile.jar`，该进程`java jar jarfile.jar`是否总是具有比屏幕高一个值的 PID？

至于 exec - 如果我这样做`exec java -jar jarfile.jar`了，这个 Java 进程的进程 ID 会比 shell 的 PID 值高一个吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T04:14:23.770

不，PID 不是那么可预测的。当两个进程非常接近同时启动时，它们的 PID 通常很接近，但总是有可能同时启动另一个进程（另一个用户、一个 cron 作业、一个生成子进程以响应某些事件的守护进程）网络流量...），并将在它们之间传递。

此外，顺序 PID 分配从最大值到低值。一些系统有 32 位 PID，但我认为 16 位更常见，因此环绕非常频繁，最大值为 32767，最小值约为 700。

一些系统将随机 PID 作为安全功能。

# php - php mail() 函数更改字符并删除返回中断

> ID：11304266
> 
> 赞同：5
> 
> 时间：2012-07-03T04:00:32.870
> 
> 标签：php, email

这就是我所拥有的：

```
$msg = "1'2 ’3"4 “5”6 7~8!9@10#11$12%13^14&15*16(17)18}19{20"21:22?23>24<25 ";
mail("myemail@example.com","My subject",$msg); 
```

当我收到电子邮件时，我得到了这个：

```
1&#039;2 ’3&quot;4 “5”6 7~8!9@10#11$12%13^14&amp;15*16(17)18}19{20&quot;21:22?23&gt;24&lt;25 
```

所以我猜它会将字符更改为html？有任何想法吗？我需要收到的电子邮件准确包含我在 $msg 中存储的内容。谢谢

它还删除了我的返回休息时间。在数据库中，该字段具有返回中断，它的存储方式如下：

```
Hello $name

welcome to $websitename 

thank you, management 
```

这是一个蹩脚的例子，但你可以看到有 2 个空行。当电子邮件发送出去时，这些返回中断被忽略并且所有这些都符合任何想法请

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-03T04:05:30.093

尝试添加标题，例如：

```
$headers = "MIME-Version: 1.0\r\n";
$headers .= "Content-Type: text/html; charset=ISO-8859-1\r\n";
mail($to, $subject, $message, $headers); 
```

见这里：[PHP 邮件（）](http://www.php.net/manual/en/function.mail.php)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-03T04:05:12.043

您必须将消息封装在`base64`编码格式中以防止内容损坏：

```
$msg = "1'2 ’3\"4 “5”6 7~8!9@10#11$12%13^14&15*16(17)18}19{20\"21:22?23>24<25";

$body = chunk_split(base64_encode($msg));

mail("myemail@example.com", "My subject", $body, "Content-Transfer-Encoding: base64"); 
```

不同的邮件客户端处理换行的方式不同；例如，众所周知，Outlook 会压缩换行符，但也提供了一种恢复它们的方法。

为了完全控制，您应该转而使用 HTML 电子邮件，可选择使用文本模式回退。

# android - 在 Android 框架中显示 Toast 通知

> ID：11304267
> 
> 赞同：0
> 
> 时间：2012-07-03T04:00:48.283
> 
> 标签：android, toast

我正在尝试通过在密码验证完成后在 PasswordUnlockScreen.java 文件中显示 Toast 通知来修改 Android 框架。我在 verifyPasswordAndUnlock() 中添加了以下代码行

```
Toast.makeText(getApplicationContext(), "Verifying password", Toast.LENGTH_LONG).show(); 
```

但是，我收到构建错误：

```
frameworks/base/policy/src/com/android/internal/policy/impl/PasswordUnlockScreen.java:166: cannot find symbol symbol  : method getApplicationContext()
location: class com.android.internal.policy.impl.PasswordUnlockScreen
Toast.makeText(getApplicationContext(), "Verifying password", Toast.LENGTH_LONG).show(); 
```

我应该使用什么作为上下文而不是 getApplicationContext()？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T05:09:56.427

试试这个：

```
Toast.makeText(PasswordUnlockScreen.this, "Verifying password", Toast.LENGTH_LONG).show(); 
```

# cuda - Nvidia 和 AMD 硬件上的 OpenCL FFT？

> ID：11304268
> 
> 赞同：9
> 
> 时间：2012-07-03T04:01:08.570
> 
> 标签：cuda, opencl, gpgpu, nvidia

我正在做一个需要在 Nvidia 和 AMD 显卡上使用 FFT 的项目。我最初寻找一个可以同时在两者上工作的库（认为这将是 OpenCL 方式），但我没有任何运气。

有人向我建议，我必须使用每个供应商的 FFT 实现并编写一个包装器，根据平台选择要做什么。我很容易发现 AMD 的实现，但与此同时我实际上正在使用 Nvidia 卡（这对于我的特定应用程序来说是更重要的）。

我能找到的唯一 Nvidia 实现是 CUFFT 一个。有谁知道我如何实际使用 OpenCL 的 CUFFT 库？我能想到的唯一方法是在我的 OpenCL 代码旁边添加一些 CUDA 代码。我读过我不能只使用 OpenCL 缓冲区作为 CUDA 指针（[尝试在 NVIDIA 的 SDK 模板中将 OpenCL 与 CUDA 混合](https://stackoverflow.com/questions/3873049/trying-to-mix-in-opencl-with-cuda-in-nvidias-sdk-template)）。相反，我是否必须在运行 OpenCL 内核后将缓冲区复制回主机，然后使用 CUDA 内存传输例程将它们复制回 GPU？我不太喜欢这种方法，因为它似乎涉及毫无意义的内存传输，如果我可以使用 OpenCL 的 CUFFT，我会更喜欢它。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-03T14:50:59.770

NVIDIA 没有做任何工作来支持 OpenCL 库，比如 FFT。它也没有为其 CUDA 库提供源代码，因此无法使用 OpenCL 运行这些库。

AMD 的 FFT 库是您最好的选择，它可以在任何其他兼容 OpenCL 的设备上运行，包括 NVIDIA 的 GPU。 [ArrayFire OpenCL](http://www.accelereyes.com/arrayfire/opencl/c/)利用 AMD 的 FFT 库，我已经在我们实验室的 Intel、NVIDIA 和 AMD 设备上运行了它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T11:41:59.753

除了 Ben 的 AMD 建议之外，您还可以研究[Apple FFT](http://developer.apple.com/library/mac/#samplecode/OpenCL_FFT/Introduction/Intro.html)示例代码。但是，他们的代码仅在 GPU 设备上运行，因为它检查所提供的命令队列是为哪些设备类型创建的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-15T21:04:01.987

the [SHOC benchmark on github](https://github.com/vetter/shoc) also includes code that I have tested on nvidia GPU 650M, intel gpu, and intel CPU for FFT. on windows it takes a few minutes to create a project and set your include and link path but it was straightforward. running on the intel gpu requires setting the command line options or a small code modification since the intel gpu is device 1 not device 0 which is the default in the shoc benchmark suite.

i did not verify correctness of the output, only that it compiled and ran to completion.

# c# - 如何将 var 变量绑定到 SqlDataSource？

> ID：11304270
> 
> 赞同：0
> 
> 时间：2012-07-03T04:01:21.130
> 
> 标签：c#, asp.net, linq-to-entities

我有这个代码：

```
var First_res = from r in reserve
                    join c in clerk on r.ClerkID equals c.ClerkID
                    select new { c.Name, c.Family, r.FoodID, r.Meal, r.Day };

    var Second_res = from fr in First_res
                     join f in food on fr.FoodID equals f.FoodID
                     select new { fr.Name, fr.Family, fr.Meal, fr.Day, food = f.Name }; 
```

现在我想将 Second_res 绑定到 SqlDataSource，但是当我写下面的代码时，我有错误：

```
SqlDataSource1.DataSourceMode = Second_res; 
```

我该怎么做？这是我的错误：无法将类型“System.Linq.Iqueryable”隐式转换为“System.Web.UI.WebControls.SqlDataSourceMode”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T04:31:50.803

SqlDataSource 没有/没有数据源。相反，它是一个数据源。

您是否有要显示数据的 GridView、Listview 或类似的数据绑定控件？

而是将数据分配给该控件上的数据源属性，然后对其调用 databind。

# html - 布局右侧的空白区域

> ID：11304272
> 
> 赞同：1
> 
> 时间：2012-07-03T04:01:38.567
> 
> 标签：html, css, firefox, fancybox, 960.gs

刚刚在[http://awesome.redfishbluefishmedia.com](http://awesome.redfishbluefishmedia.com)为我的公司建立了一个站点，我注意到一个奇怪的问题。

只有当您的浏览器开始宽度约为 1000 像素时，我才会在页面右侧看到空白区域（这是一个问题，因为 iPhone 以大约该大小显示它，并且在 iPhone 上加载主页时非常明显第一次，因为主页上会出现一个 Fancybox 弹出窗口）。您可以滚动得比您应该能够滚动的更远。

它是侧面的一条带，在搜索了元素后，我找不到任何似乎将它推过去的东西（可能除了主页上的滑块，但这个问题也出现在其他页面上）。

任何人都可以帮忙吗？无法弄清楚，我觉得这必须是显而易见的。

使用 960.gs 网格来标准化我的布局。

更新：我添加了这个......

```
body, html {
     overflow-x: hidden;
} 
```

我认为这解决了我的问题，但我仍然不知道为什么我会看到那个滚动问题；如果有人可以启发，你仍然会非常感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T04:14:00.983

嗨，现在只需像这样删除`overflow-x: hidden`并添加`min-width`您的`body`和标签`html`

```
body, html {
    min-width: 1207px; // add this line 
    overflow-x: hidden; // remove this line 
} 
```

# objective-c - sqlite ios线程访问

> ID：11304275
> 
> 赞同：1
> 
> 时间：2012-07-03T04:01:59.290
> 
> 标签：objective-c, ios, sqlite

我正在尝试编写一个多线程（使用 NSOperationQueues 进行写入并在主线程上执行读取）应用程序来访问 sqlite 数据库数据。我知道 sqlite 默认不是线程安全的，但是我们添加了多线程预处理器宏并将我们的日志模式设置为 wal。

根据这个 sqlite 文档：[http](http://www.sqlite.org/faq.html#q6) ://www.sqlite.org/faq.html#q6似乎我们需要在编写任何内容之前完成所有准备好的语句。这是真的？有没有办法避免这种情况？如果我们对同一个数据库有两个句柄怎么办？

基本上，我们希望一次进行多次读取和一次写入，但正在尝试找出最佳方法。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T04:13:24.117

线程模式由编译时间、启动或运行时选项决定。更多细节在这里：

[http://www.sqlite.org/threadsafe.html](http://www.sqlite.org/threadsafe.html)

文档说序列化是默认设置，这意味着您可以从多个线程中使用 - 它会保护您所有访问都被序列化。如果您想要更多的并行性，您可以使用具有多个连接对象的多线程模式。

如果您使用多线程，请确保同一数据库连接对象在任何一个时间点不被多个线程使用：

> 多线程。在这种模式下，SQLite 可以被多个线程安全地使用，前提是没有在两个或多个线程中同时使用单个数据库连接。

但是，请确保复杂性是合理的。与所有性能问题一样，在之前和之后进行测量。

编辑：确保这一点的一种方法是创建自己的池机制。创建一个包含 n 个连接句柄的池，每个并行任务获取并释放到池中。文档说多线程模式在连接之间是完全安全的。这样，您就不必担心所有其他交易或报表都已完成。单独的读取线程/连接和写入线程/连接实际上是一个非常简单的硬编码池。

# html - 如何在网站中超链接名称为（sc + ab）的word文档？

> ID：11304276
> 
> 赞同：0
> 
> 时间：2012-07-03T04:02:10.897
> 
> 标签：html, hyperlink

我在服务器中有一个名为 (sc + ab) 的 Word 文档，我想在我的网站中放置一个指向它的链接。链接是正确的，但出现错误的原因是文档名称。当我改变它时，它运作良好。但是，我想保持名称不变，那么如何超链接此文档？

我的代码就是：

```
<li><span style="font-family: arial; color: #0000ff; font-size: 13px;"><a href="http://pmv/PM/PS&CD/cpod/bp/sccm/sc + ab.doc"><span style="text-decoration: underline;">Scope Control Introduction</span></a></span> </li> 
```

**更新：**

抱歉，我打错了文件的名称。它是 (SC+CM 320 702.ppt) 那么如何解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T04:12:11.733

[urlencode](http://en.wikipedia.org/wiki/Percent-encoding)特殊字符（空格和+）：`sc%20%2B%20ab.doc`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T04:23:45.050

进入 Chrome 并输入服务器上文件的确切物理路径。例如

```
C:\PM\PS&CD\cpod\bp\sccm\sc + ab.doc 
```

它应该将其转换为您需要的格式。IE

> ```
> ../sc%20+%20ab.doc 
> ```

`+`只是查询字符串中的一个特殊字符。

编辑：与 IE 相同。在浏览器中输入物理地址，然后右键单击页面并转到属性。您将看到应有的地址。

# solr - 如何使用 Solr 的索引文件

> ID：11304277
> 
> 赞同：0
> 
> 时间：2012-07-03T04:02:13.260
> 
> 标签：solr, sunspot

我正在使用 Solr 和 Sunspot 进行全文搜索的 Ruby on Rails 应用程序上编写自定义算法。我想利用 Solr 生成的索引文件，尤其是索引词的 TF*IDF 值。有没有一种简单的方法可以访问这些索引信息？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T13:09:53.837

你看过[tf](http://wiki.apache.org/solr/FunctionQuery/#tf)和[idf](http://wiki.apache.org/solr/FunctionQuery/#tf)的 Solr 函数查询吗？如果您使用的是更高版本的 Solr，您可以按函数查询响应排序。

# android - 为什么模拟器给IMEI号码000000000000000

> ID：11304278
> 
> 赞同：9
> 
> 时间：2012-07-03T04:02:15.293
> 
> 标签：android, android-emulator, imei

我发现了很多关于此的帖子，但没有正确给出答案。我的应用程序需要 IMEI 号码，我这样做了，但它显示 000000000000000（15 个零）。它在设备上运行良好，但我希望它在我的模拟器上正常运行。我想要一些唯一的数字，除了这些零。如果这里有任何编程解决方案。发布您的答案。我必须设置这个数字而不是（15 个零）“352373051009616”

> TelephonyManager telephonyManager =(TelephonyManager)getSystemService(Context.TELEPHONY_SERVICE);
> 
> 字符串 imei = telephonyManager.getDeviceId();
> 
> textDeviceID2.setText("设备id:-" +imei);

任何可能的解决方案（以编程方式和硬编码方式）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T04:31:42.473

希望[这](https://stackoverflow.com/questions/4402262/device-identifier-of-android-emulator)对您有所帮助。您可以编辑您的模拟器 IMEI 号码，那里的说明非常清楚。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T04:28:33.380

这就是模拟器用作 IMEI 的内容。如果您真的需要或想要更改它，您可以使用十六进制编辑器打开模拟器可执行文件并按照[http://codepainters.wordpress.com/2009/12/11/android-imei-number-and-进行修改模拟器/](http://codepainters.wordpress.com/2009/12/11/android-imei-number-and-the-emulator/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-05-16T07:27:25.797

从 27.2.9 版本开始，android 模拟器有一些 IMEI 号码。（不过好像还是不是唯一的）

这可能解决了你的问题。

# scala - Scala 代码不在 Eclipse Juno 中运行

> ID：11304285
> 
> 赞同：1
> 
> 时间：2012-07-03T04:02:53.063
> 
> 标签：scala, eclipse-juno

我一直在用 java 和 scala 编程。正在尝试一些基本的 scala 教程。我使用 eclipse Juno 4.2 和 scala 语言插件。机器上安装的JDK是1.7。

下面的代码用于计算低于 400 万的偶数斐波那契数列的总和。当我运行代码时，eclipse没有显示任何结果，我被迫终止进程

```
var (a,b) = (1,2)
var sum = 0
while(a < 4000000)
{
if(a % 2 == 0)         
{ sum += a
val swap = a
a = b
b= swap + b}                            
}
println(sum) 
```

另一方面，当我将变量 a 的默认值更改为 2 时

```
var (a,b) = (2,2) 
```

系统编译并运行给出这个答案 1383447424

不知道为什么eclipse Juno不编译scala代码，当变量a使用默认值1。机器上安装的JDK是JDK 1.7。

很高兴有解释

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-03T04:09:58.597

它确实可以编译，而且不是 Eclipse 问题。

代码有一个无限循环`a=1`。如果你格式化你的代码，你会注意到它看起来像这样：

```
var (a, b) = (1, 2)
var sum = 0
while (a < 4000000) {
  if (a % 2 == 0) {     <-- This scopes over everything in the loop!
    sum += a
    val swap = a
    a = b
    b = swap + b
  }
}
println(sum) 
```

所以块中唯一的东西`while`是有条件的`if(a%2==0)`。因为`a=1`，它不是 2 的倍数，因此`if`永远不会执行中的代码，所以它只是循环而不做任何事情。

如果您从 then 开始，`a=2`则`a%2==0`该块将执行，并且您不会获得无限循环。但它实际上并没有像你想要的那样给你甚至斐波那契数的总和。

问题是 if 语句应该只作用于`sum += a`行。

```
var (a, b) = (1, 2)
var sum = 0
while (a < 4000000) {
  if (a % 2 == 0)
    sum += a
  val swap = a
  a = b
  b = swap + b
}
println(sum) 
```

# python - 让 tesseract 只识别数字

> ID：11304286
> 
> 赞同：9
> 
> 时间：2012-07-03T04:02:58.957
> 
> 标签：python, ocr, tesseract

我正在尝试改进我制作的 OCR 程序，以读取我正在使用的某个图像的布局。现在，我希望我的 OCR 程序只识别数字 0-9。

我试图按照问题的解决方案：

[限制字符 tesseract 正在寻找](https://stackoverflow.com/questions/2363490/limit-characters-tesseract-is-looking-for)

但是我陷入了必须将 tesseract 称为：

```
tesseract input.tif output nobatch letters 
```

这是哪里？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2016-11-14T01:27:47.190

我在使用 python 时遇到了同样的问题，机智 tesseract 3 假设更多的读者可能会这样做。

从这里：[https ://github.com/tesseract-ocr/tesseract/wiki/FAQ#how-do-i-recognize-only-digits](https://github.com/tesseract-ocr/tesseract/wiki/FAQ#how-do-i-recognize-only-digits)

在这里： [https ://github.com/madmaze/pytesseract/blob/27fed535bf1eb665ec991313841b177336b50f61/src/pytesseract.py#L91](https://github.com/madmaze/pytesseract/blob/27fed535bf1eb665ec991313841b177336b50f61/src/pytesseract.py#L91)

我成功使用：

> pytesseract.image_to_string(someimage, config='outputbase digits')

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-03T07:55:24.153

我前段时间在 SO 中发布了一些关于 tesseract 的内容：请参阅[Tesseract OCR Library - Learning Font](https://stackoverflow.com/questions/4908919/tesseract-ocr-library-learning-font/4931336#4931336)。值得注意的是一个[tesseract 训练的链接](http://code.google.com/p/tesseract-ocr/wiki/TrainingTesseract3)，它将告诉你如何限制你的字符集并描述你的歧义。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-11-05T10:55:42.530

这个问题在[Tesseract FAQ上得到了回答](http://code.google.com/p/tesseract-ocr/wiki/FAQ#How_do_I_recognize_only_digits?)

以下是如何让 tesseract 仅识别数字：

Tesseract 2 - 在调用 Init 函数之前或将其放入名为 tessdata/configs/digits 的文本文件中：

```
tessedit_char_whitelist 0123456789 
```

然后你的命令行变成：

```
tesseract image.tif outputbase nobatch digits 
```

Tesseract 3 - 已经创建了一个数字配置文件，所以只需运行一个 tesseract 命令，如下所示：

```
tesseract imagename outputbase digits 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-08T17:11:27.613

它是您用来在命令行上运行 tesseract 的命令。

为了获得更好的答案，我们需要知道您是在命令行上运行 tesseract 还是作为库运行。

# jsp - 带有显示标签的复选框

> ID：11304287
> 
> 赞同：2
> 
> 时间：2012-07-03T04:03:27.087
> 
> 标签：jsp, struts2, displaytag

我想保留以前在第一页**上选中的复选框值，然后用户在下一页上移动并进行其他选择。**

由于我当前的代码，每当用户单击`Next`或`Previous`链接`display`标签时，先前选择的复选框的轨迹都会丢失。

我检查了这个[演示](http://demo.displaytag.org/displaytag-examples-1.2/example-checkboxes.jsp?d-148916-s=&d-148916-o=&d-148916-p=1&_chk=95173)，但我不清楚这个想法。其实我想得到那个例子的功能。

```
<display:table class="displayTable" id="allUserList"
        name="allUserList" requestURI="viewList.action?" pagesize="15"
        defaultsort="2" defaultorder="ascending" sort="list">
        <display:column class="colID" paramId="sid" paramProperty="userId" >
            <input type="checkbox" name="sid" id="sid" value="${allUserList.userId}" class="checkSID">
        </display:column>
        <display:column class="colUserName" property="fullname" 
            title="User Name" sortable="true" headerClass="sortable" maxLength="50" />
</display:table> 
```

现在我可以在点击按钮时获取复选框的数据。**我想让用户在点击按钮之前做出他喜欢的选择。所以他可以浏览任意多的页面并进行选择**。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-16T04:18:23.320

您是否使用过`org.displaytag.decorator.CheckboxTableDecorator`，它将复选框添加到您的分页列表中。它需要两个字段，Id 和 FieldName。Id 应该是相应 bean 类的类成员之一，您可以将任何 FieldName 赋予该字段。您必须将其包含在表单元素中。并且必须在 DisplayTag 的表单属性中给出相同的表单名称。

# jquery - jQueryMobile：用跨度包装与条件匹配的所有单词？

> ID：11304288
> 
> 赞同：0
> 
> 时间：2012-07-03T04:03:32.377
> 
> 标签：jquery, jquery-mobile

我有一个 jQuery Mobile 页面，元素下有文本（简单页面）：

```
<div data-role='content' > 
```

使用 jQuery，我如何`Canada`用这样的跨度来包装每个出现的单词：

```
<span class='query'>Canada</span> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T04:05:47.960

```
$('div[data-role="content"]').html(function(i, v) {
    return v.replace(/(Canada)/gi, '<span class="query">$1</span>');
}); 
```

这是小提琴：http: [//jsfiddle.net/9CXFR/](http://jsfiddle.net/9CXFR/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:25:18.740

像这样： http: [//jsfiddle.net/QeZxn/7/](http://jsfiddle.net/QeZxn/7/)或[http://jsfiddle.net/QeZxn/6/](http://jsfiddle.net/QeZxn/6/)

g = /g 修饰符确保所有出现的“替换”

好读：[http ://www.regular-expressions.info/javascript.html](http://www.regular-expressions.info/javascript.html)

**代码**

```
$(document).ready(function() {
    var $foo = $('div[data-role="content"]');

    $foo.html($foo.text().replace(/Canada/g,'<span class="query">Canada</span>'));

}); 
```

# xml - Xml - 试图获取非对象的属性

> ID：11304289
> 
> 赞同：0
> 
> 时间：2012-07-03T04:03:39.443
> 
> 标签：xml

当我的 XML 文件与普通文件有点不同时，我该如何解决 XML……这是我正在使用的 XML 文件……

```
<?xml version="1.0" encoding="utf-8"?>

<pma_xml_export version="1.0" xmlns:pma="http://www.phpmyadmin.net/some_doc_url/">
    <!--
    - Structure schemas
    -->
    <pma:structure_schemas>
        <pma:database name="pet shop" collation="utf8_general_ci" charset="utf8">
            <pma:table name="markers">
                CREATE TABLE `markers` (
                  `id` int(11) NOT NULL AUTO_INCREMENT,
                  `name` varchar(60) NOT NULL,
                  `address` varchar(80) NOT NULL,
                  `lat` float(10,6) NOT NULL,
                  `lng` float(10,6) NOT NULL,
                  `type` varchar(30) NOT NULL,
                  PRIMARY KEY (`id`)
                ) ENGINE=MyISAM AUTO_INCREMENT=19 DEFAULT CHARSET=utf8;
            </pma:table>
        </pma:database>
    </pma:structure_schemas>

    <!--
    - Database: 'pet shop'
    -->
    <database name="pet shop">
        <!-- Table markers -->
        <table name="markers">
            <column name="id">1</column>
            <column name="name">Pan Africa Market</column>
            <column name="address">1521 1st Ave, Seattle, WA</column>
            <column name="lat">47.608940</column>
            <column name="lng">-122.340141</column>
            <column name="type">restaurant</column>
        </table>
        <table name="markers">
            <column name="id">2</column>
            <column name="name">Buddha Thai &amp; Bar</column>
            <column name="address">2222 2nd Ave, Seattle, WA</column>
            <column name="lat">47.613590</column>
            <column name="lng">-122.344391</column>
            <column name="type">bar</column>
        </table>
        <table name="markers">
            <column name="id">3</column>
            <column name="name">The Melting Pot</column>
            <column name="address">14 Mercer St, Seattle, WA</column>
            <column name="lat">47.624561</column>
            <column name="lng">-122.356445</column>
            <column name="type">restaurant</column>
        </table>
        <table name="markers">
            <column name="id">4</column>
            <column name="name">Ipanema Grill</column>
            <column name="address">1225 1st Ave, Seattle, WA</column>
            <column name="lat">47.606365</column>
            <column name="lng">-122.337654</column>
            <column name="type">restaurant</column>
        </table>
        <table name="markers">
            <column name="id">5</column>
            <column name="name">Sake House</column>
            <column name="address">2230 1st Ave, Seattle, WA</column>
            <column name="lat">47.612823</column>
            <column name="lng">-122.345673</column>
            <column name="type">bar</column>
        </table>
        <table name="markers">
            <column name="id">6</column>
            <column name="name">Crab Pot</column>
            <column name="address">1301 Alaskan Way, Seattle, WA</column>
            <column name="lat">47.605961</column>
            <column name="lng">-122.340363</column>
            <column name="type">restaurant</column>
        </table>
        <table name="markers">
            <column name="id">7</column>
            <column name="name">Mama's Mexican Kitchen</column>
            <column name="address">2234 2nd Ave, Seattle, WA</column>
            <column name="lat">47.613976</column>
            <column name="lng">-122.345467</column>
            <column name="type">bar</column>
        </table>
        <table name="markers">
            <column name="id">8</column>
            <column name="name">Wingdome</column>
            <column name="address">1416 E Olive Way, Seattle, WA</column>
            <column name="lat">47.617214</column>
            <column name="lng">-122.326584</column>
            <column name="type">bar</column>
        </table>
        <table name="markers">
            <column name="id">9</column>
            <column name="name">Piroshky Piroshky</column>
            <column name="address">1908 Pike pl, Seattle, WA</column>
            <column name="lat">47.610126</column>
            <column name="lng">-122.342834</column>
            <column name="type">restaurant</column>
        </table>
        <table name="markers">
            <column name="id">10</column>
            <column name="name">Pan Africa Market</column>
            <column name="address">1521 1st Ave, Seattle, WA</column>
            <column name="lat">47.608940</column>
            <column name="lng">-122.340141</column>
            <column name="type">restaurant</column>
        </table>
        <table name="markers">
            <column name="id">11</column>
            <column name="name">Buddha Thai &amp; Bar</column>
            <column name="address">2222 2nd Ave, Seattle, WA</column>
            <column name="lat">47.613590</column>
            <column name="lng">-122.344391</column>
            <column name="type">bar</column>
        </table>
        <table name="markers">
            <column name="id">12</column>
            <column name="name">The Melting Pot</column>
            <column name="address">14 Mercer St, Seattle, WA</column>
            <column name="lat">47.624561</column>
            <column name="lng">-122.356445</column>
            <column name="type">restaurant</column>
        </table>
        <table name="markers">
            <column name="id">13</column>
            <column name="name">Ipanema Grill</column>
            <column name="address">1225 1st Ave, Seattle, WA</column>
            <column name="lat">47.606365</column>
            <column name="lng">-122.337654</column>
            <column name="type">restaurant</column>
        </table>
        <table name="markers">
            <column name="id">14</column>
            <column name="name">Sake House</column>
            <column name="address">2230 1st Ave, Seattle, WA</column>
            <column name="lat">47.612823</column>
            <column name="lng">-122.345673</column>
            <column name="type">bar</column>
        </table>
        <table name="markers">
            <column name="id">15</column>
            <column name="name">Crab Pot</column>
            <column name="address">1301 Alaskan Way, Seattle, WA</column>
            <column name="lat">47.605961</column>
            <column name="lng">-122.340363</column>
            <column name="type">restaurant</column>
        </table>
        <table name="markers">
            <column name="id">16</column>
            <column name="name">Mama's Mexican Kitchen</column>
            <column name="address">2234 2nd Ave, Seattle, WA</column>
            <column name="lat">47.613976</column>
            <column name="lng">-122.345467</column>
            <column name="type">bar</column>
        </table>
        <table name="markers">
            <column name="id">17</column>
            <column name="name">Wingdome</column>
            <column name="address">1416 E Olive Way, Seattle, WA</column>
            <column name="lat">47.617214</column>
            <column name="lng">-122.326584</column>
            <column name="type">bar</column>
        </table>
        <table name="markers">
            <column name="id">18</column>
            <column name="name">Piroshky Piroshky</column>
            <column name="address">1908 Pike pl, Seattle, WA</column>
            <column name="lat">47.610126</column>
            <column name="lng">-122.342834</column>
            <column name="type">restaurant</column>
        </table>
    </database>
</pma_xml_export> 
```

那么，我怎样才能提取 lat 和 lng

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T20:01:28.203

六月承诺——

感谢您对编程语言 (PHP) 和 IDE (Netbeans 7.1) 的说明。

听起来你最好的选择是：

1.  使用 PHP 和 XPath 从 XML 文件中读取纬度和经度：

    *   [http://php.net/manual/en/simplexmlelement.xpath.php](http://php.net/manual/en/simplexmlelement.xpath.php)
2.  使用 PHP 和 PDO 保存到数据库：

    *   [http://www.dreamincode.net/forums/topic/214733-introduction-to-pdo/](http://www.dreamincode.net/forums/topic/214733-introduction-to-pdo/)

# vb.net - 在 datagridview 中添加 2 个组合框列

> ID：11304292
> 
> 赞同：1
> 
> 时间：2012-07-03T04:03:56.600
> 
> 标签：vb.net, datagridview, datagridcomboboxcolumn

我正在使用带有 2 个组合框列的 datagridview 在 vb.net 2005 中显示帐号和描述。

```
my query = "select acctno, acctdesc from mytable union select ' ','' from mytable" (why union? - so that once user selects acct no, can deselect) 
```

我正在使用 dataadapter 用上面的查询填充 ds1 和 ds2。

```
dim ds1 as new dataset
cmbcol1.datasource = ds1.tables(0).defaultview
cmbcol1.DisplayMember = "Acctno"
cmbCol1.ValueMember = "Acctno"

-----------------

dim ds2 as new dataset
cmbcol2.datasource = ds2.tables(0).defaultview
cmbcol2.DisplayMember = "Acctdesc"
cmbCol2.ValueMember = "Acctno"

-----------------

My code - 

    Private Sub dgvAcctSelect_EditingControlShowing(ByVal sender As Object, ByVal e As System.Windows.Forms.DataGridViewEditingControlShowingEventArgs) Handles dgvAcctSelect.EditingControlShowing

            Try
                If dgv.CurrentCell.OwningColumn.Name = "ACCTNO" Then
                    Dim combo As ComboBox = TryCast(e.Control, ComboBox)
                    If combo IsNot Nothing Then
                        RemoveHandler  combo.SelectedIndexChanged,  
                                   AddressOf  combo_SelectedIndexChangedACCT
                        AddHandler  combo.SelectedIndexChanged, 
                                   AddressOfcombo_SelectedIndexChangedACCT
                    End If
                End If

                If dgv.CurrentCell.OwningColumn.Name = "ACCTDESC" Then
                    Dim combo As ComboBox = TryCast(e.Control, ComboBox)
                    If combo IsNot Nothing Then
                       RemoveHandler combo.SelectedIndexChanged, AddressOf 
                               combo_SelectedIndexChangedDESC
                       AddHandler combo.SelectedIndexChanged, AddressOf 
                               combo_SelectedIndexChangedDESC
                    End If
                End If

            Catch ex As Exception
            End Try

        End Sub

' IF USER SELECTS ACCTNO THEN AUTOMATICALLY CORRESPONDING ACCTDESC should be get selected IN OTHER COLUMN

     Private Sub combo_SelectedIndexChangedACCT(ByVal sender As Object, ByVal e As EventArgs)
            Try
                If dgv.CurrentCell.OwningColumn.Name = "ACCTCNO" Then
                    Dim cb As ComboBox = DirectCast(sender, ComboBox)
                    dgv.CurrentRow.Cells(1).Value = cb.SelectedValue
                End If
            Catch ex As Exception
            End Try

        End Sub

' IF USER SELECTS ACCTDESC THEN AUTOMATICALLY SELECT CORRESPONDING ACCTNO should be get selected IN OTHER COLUMN

    Private Sub combo_SelectedIndexChangedDESC(ByVal sender As Object, ByVal e As EventArgs)
        Try
            If dgvAcctSelect.CurrentCell.OwningColumn.Name = "ACCTDESC" Then
                Dim cb As ComboBox = DirectCast(sender, ComboBox)
                dgv.CurrentRow.Cells(0).Value = cb.SelectedValue
            End If
        Catch ex As Exception
        End Try

    End Sub 
```

这是给 Cell value not valid 错误。

* * *

如果有人只想尝试，只需使用带有 2 个组合框列的 datagridview。显示任何 2 列，如任何 tbale 中的 id 和 desc。并尝试在其他列中自动选择 id 并显示 desc。反之亦然

* * *

```
 Dim cmbCol1 As New DataGridViewComboBoxColumn
    Dim ds1 As DataSet
    Dim da1 As Data.SqlClient.SqlDataAdapter
    Try
        ds1 = New DataSet
        da1 = New Data.SqlClient.SqlDataAdapter("SELECT ACCTDESC ,ACCTNO FROM mytable union " & _
        "select ' ' as ACCTNO,'' as ACCTDESC from mytable order by ACCTno", sqlCon)
        ds1.Clear()
        da1.Fill(ds1, "ConnToSqlDrp1")
        If ds1 Is Nothing = False Then
            cmbCol1.DataSource = ds1.Tables("ConnToSqlDrp1").DefaultView
            cmbCol1.DisplayMember = "ACCTno"
            cmbCol1.ValueMember = "SACCTno"
        End If
    Catch ex As Exception
    End Try
    cmbCol1.DisplayStyle = DataGridViewComboBoxDisplayStyle.ComboBox
    cmbCol1.HeaderText = "Account No"
    cmbCol1.Name = "ACCTno"
    cmbCol1.Width = 150
    cmbCol1.AutoComplete = True
    .Add(cmbCol1)

    Dim cmbCol2 As New DataGridViewComboBoxColumn
    Dim ds2 As DataSet
    Dim da2 As Data.SqlClient.SqlDataAdapter
    Try
        ds2 = New DataSet
        da2 = New Data.SqlClient.SqlDataAdapter("SELECT ACCTNO,ACCTDESC FROM MYTABLE union " & _
       "select ' ' as ACCTNO,'' as ACCTDESC from MYTABLE order by ACCTDESC", sqlCon)
        ds2.Clear()
        da2.Fill(ds2, "ConnToSqlDrp2")
        If ds2 Is Nothing = False Then
            cmbCol2.DataSource = ds2.Tables("ConnToSqlDrp2").DefaultView
            cmbCol2.DisplayMember = "ACCTDESC"
            cmbCol2.ValueMember = "ACCTNO"
        End If
    Catch ex As Exception
    End Try
    cmbCol2.DisplayStyle = DataGridViewComboBoxDisplayStyle.ComboBox
    cmbCol2.HeaderText = "Consol Account Description"
    cmbCol2.Name = "ACCTDESC"
    cmbCol2.Width = 330
    cmbCol2.AutoComplete = True
    'cmbCol2.Visible = False
    .AdDcmbCol2)   

         **THIS IS MY CODE IN FORM LOAD EVENT SO IT SHOULD POPULATE ONLY ONCE.** 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T04:18:02.743

这应该会给你一个 IndexOutOfBounds 异常。实际上它应该给它两次。

```
dim ds1 as new dataset
cmbcol1.datasource = ds1.tables(0).defaultview

dim ds2 as new dataset
cmbcol2.datasource = ds2.tables(0).defaultview 
```

当您创建 Data.DataSet 的新实例时，tables 属性为空，因此没有实际填充数据集，我想知道您的应用程序如何不抛出异常？ds1.tables 数组中没有第 0 个表。如果这没有给您抛出异常，那么您的程序的执行逻辑就有缺陷。有些东西没有被调用，并且应该填充数据集。如果没有填充数据集并将其附加到组合框，这些组合框将为空，它们的 SelectedItem 什么都不是，这就是您收到单元格值错误的原因。我希望这有帮助。检查你的代码。

# google-app-engine - 更新 AppEngine 拉取队列中的任务标签

> ID：11304294
> 
> 赞同：0
> 
> 时间：2012-07-03T04:04:38.877
> 
> 标签：google-app-engine, pull-queue

我的应用程序使用 Java 运行，但我认为这也应该适用于 Python。

基本上我想要实现的是能够修改队列中的现有任务。

我们所有的任务都标有某些名称，以决定哪个提供者将使用它。但是，在某些情况下，一个标签的提供者出现故障，在这种情况下，我们希望其他提供者能够接手那些等待时间很长的任务。

为了做到这一点，我考虑的方法是，如果某些提供程序有一段时间没有从服务器轮询（预定义阈值），那么服务器将进入队列并将任务的标签修改为其他东西所以其他提供者可以使用它。

但我认为从文档中我找不到这样做的方法。

任何人都可以给出提示或者会有其他方法来解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T19:34:32.003

不支持更新任务的标签。您需要创建一个新任务并删除旧任务。

# c++ - 嵌套模板类型

> ID：11304296
> 
> 赞同：2
> 
> 时间：2012-07-03T04:04:39.877
> 
> 标签：c++, templates, types

我想要求模板类型是模板类型：

```
template < template < int beta, typename gamma> class alpha >
gamma foo()
{
    // do stuff with beta, gamma
    gamma c[beta]; 
    alpha a();
    alpha b();
} 
```

我想让 gamma 和 beta 由我给出的值决定，所以：

```
foo< hello<2,double> >() 
```

将创建一个`hello<2,double>`对象而不是`alpha`，并且`c`将是一个`double`包含 2 个元素的数组。

所以，我想从传递给 foo 的模板类中提取模板参数。

我该怎么做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-03T05:00:29.480

您提供的模板声明采用所谓的模板模板参数（模板类型的模板参数）。然而，您提供的使用示例尝试将“普通”类作为参数传递（一旦所有模板参数都固定，模板类就会变成“普通”类，它不再是模板）。

这立即意味着 template-template 参数不是您所需要的。模板-模板参数用于完全不同的目的。（我不会在这里详细介绍）。

您的问题的一种可能解决方案是要求参数类通过嵌套类型和常量公开其模板参数。即你的`hello`模板必须包含一个嵌套的常量`beta_value`和嵌套的类型名`gamma_type`

```
template <int BETA, typename GAMMA> class hello 
{
public:
  static const int beta_value = BETA;
  typedef GAMMA gamma_type;
  ...
}; 
```

在这种情况下，您的函数将使用普通类型模板参数声明

```
template <typename ALPHA> typename ALPHA::gamma_type foo()
{
   // do stuff with beta, gamma
   typename ALPHA::gamma_type c[ALPHA::beta_value]; 
   ALPHA a();
   ALPHA b();
} 
```

如果某些用户忘记遵守约定，编译器将拒绝编译`foo`并强制该用户更新其参数类的定义。

# javascript - Javascript/jQuery 随机调整加载图片的大小？

> ID：11304298
> 
> 赞同：0
> 
> 时间：2012-07-03T04:04:42.200
> 
> 标签：javascript, jquery

我不想为我的图像创建缩略图，而是想在我的页面中显示原始图像。出于查看目的，我仍然需要调整这些图像的大小，但不是`width:200px`在它们上添加 a，而是希望在 div 容器中显示每个图像，但大小是从三个选项中随机选择的。

这 3 种类型的 div 容器（以及因此的图像外观）将具有 3 种不同的大小，并且都具有相同的宽度。300x100、300x200、300x400。

当然，刷新后，图像现在可能具有不同的大小。

我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T04:08:24.240

以这种方式设置每个高度：

```
var heights = [100, 200, 400];
var height = heights[Math.ceil(Math.random()*3)-1]; 
```

我想你会想要遍历容器......

```
var heights = ["100px", "200px", "400px"];
$(".container").each(function(i,e) {
    var height = heights[Math.ceil(Math.random()*3)-1];
    $(e).css('height', height);
}); 
```

# ruby - 将 MacRuby 应用程序从 0.3 Leopard 移植到 0.6 Lion 会产生错误

> ID：11304304
> 
> 赞同：0
> 
> 时间：2012-07-03T04:05:37.940
> 
> 标签：ruby, xcode, macruby

我不知道为什么这对我来说是爆炸性的。这些错误直到我建立在 0.6 / Lion 上才出现，我知道这与 0.3 相差甚远，但它仍然应该工作，除非 xcode 改变了一些时髦的东西。我不明白它为什么抱怨这条线。使我抓狂。任何帮助表示赞赏。错误：

```
 /Users/matthew.sacks/dev/mrHost/mrhost/build/mrhost-axyfekrprsyhptctrrnpsyeqwgjv/Build/Products/Debug/mrhost.app/Contents/Resources/host.rb:83:in `set_host': wrong number of arguments (2 for 0) (ArgumentError)
        from /Users/matthew.sacks/dev/mrHost/mrhost/build/mrhost-axyfekrprsyhptctrrnpsyeqwgjv/Build/Products/Debug/mrhost.app/Contents/Resources/rb_main.rb:22:in `swap_env'
        from /Users/matthew.sacks/dev/mrHost/mrhost/build/mrhost-axyfekrprsyhptctrrnpsyeqwgjv/Build/Products/Debug/mrhost.app/Contents/Resources/rb_main.rb:69:in `<main>' 
```

代码位于[https://github.com/msacks/mrhost/blob/master/host.rb](https://github.com/msacks/mrhost/blob/master/host.rb)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T04:26:07.533

那个错误说，

> 在第 82 行`host.rb`调用了一个名为`set_host`. 您在调用该方法期间传入了两个参数，但该方法未编写为接受任何参数。
> 
> 上面的调用是在对 的调用中进行的`swap_env`，在第 22 行进行`rb_main.rb`
> 
> …*那个*电话是从第 69 行发出的`main.rb`

# entity-framework - EF Code First - 如何设置标识增量

> ID：11304308
> 
> 赞同：4
> 
> 时间：2012-07-03T04:05:46.067
> 
> 标签：entity-framework, tsql, ef-code-first

这显示了如何设置身份种子。

[EF Code First - 如何设置身份种子？](https://stackoverflow.com/questions/5974554/ef-code-first-how-to-set-identity-seed)

[dataannotations 在主键上设置身份种子值，代码优先](https://stackoverflow.com/questions/11255263/dataannotations-set-identity-seed-value-on-primary-key-with-code-first)

您如何首先使用代码设置标识增量值？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-06-05T13:29:10.153

没有办法做到这一点。

配置实体（约定、属性、流式 API）的任何方法都不允许这样做。您既不能使用自定义约定来实现它（简而言之，自定义约定会检查列的名称、属性、类型、包含类型或任何内容，然后使用流式 API 来配置列或实体）。至少达到 EF 6.1.1。

在 SQL Server 中操作标识的唯一方法是使用`DBCC CHECKIDENT`，但这仅允许更改种子值，而不是增量。

如果要更改增量，则必须删除该列并在数据库初始化`Seed`方法中再次创建它。问题是您必须删除并创建与此列相关的所有密钥（PK 或 FK）。（这适用于 SQL Server 2014）

您可以查看[这个答案](https://stackoverflow.com/questions/23962690/force-entityframework-to-use-output-not-scope-identity-to-retrieve-key-value/23965242#23965242)，其中我解释了可能的解决方案、替代方案和解决方法，哪些有效，哪些无效，以及投票链接以将其包含在未来的 EF 版本中。

# php - 单击链接时如何删除数据库条目

> ID：11304311
> 
> 赞同：1
> 
> 时间：2012-07-03T04:06:05.463
> 
> 标签：php

我想扩展我的 PHP 技能，所以我通读了关于 tutorialzine 的教程。我理解教程中的说明。但是当谈到扩展它时，我似乎缺乏联系。我的主要目标是在单击标签时简单地删除选定的笔记。但是我不知道如何选择分配给便笺的 id 以便能够将其传递给我的删除功能。

来源：[http ://tutorialzine.com/2010/01/sticky-notes-ajax-php-jquery/](http://tutorialzine.com/2010/01/sticky-notes-ajax-php-jquery/)

谢谢您的帮助。

```
<?php
error_reporting(E_ALL^E_NOTICE);
require 'connect.php';
mysql_query("DELETE FROM notes WHERE id>3 AND dt<SUBTIME(NOW(),'0 1:0:0')");
$query = mysql_query("SELECT * FROM notes ORDER BY id DESC");

$notes = '';
$left='';
$top='';
$zindex='';

while($row=mysql_fetch_assoc($query)){
    list($left,$top,$zindex) = explode('x',$row['xyz']);
    $notes.= '
        <div class="note '.$row['color'].'" style="left:'.$left.'px;top:'.$top.'px;z-index:'.$zindex.'">
            '.htmlspecialchars($row['text']).'
            <div class="author">'.htmlspecialchars($row['name']).'</div>
            <span class="data">'.$row['id'].'</span>
            <a id="remove_note" href="javascript:;" onclick="deleteNote('<? echo $row['id']; ?>');">&nbsp;</a>
        </div>';
}
function deleteNote(id){
    $sql="DELETE FROM notes WHERE id='$rows['id']'";
    $result=mysql_query($sql) or die("Error when tryin to delete note.");
}
?> 
```

**更新：**

我一直在玩这个以及 Andrew 和 sachleen 提供的答案。由于您提到了整个 SQL 注入问题，因此不打算研究 AJAX 替代方案。但是我仍然在将 id 传递给 remove.php 文件时遇到问题。我相信这与 $notes 如何从数据库创建信息有关。

我这样说是因为我得到： Parse error: syntax error, unexpected T_STRING in /home/avonamyd/public_html/projects_php/sticky_notes/demo.php on line 24

只有当我包含来自 sachleen 的代码时。但是当我更新它以考虑单引号时，我有以下代码。id 存在并传递给 remove.php 文件，但我仍然收到错误消息。这是我使用我的代码或您提供的代码的时候。

```
 $notes.= '
        <div class="note '.$row['color'].'" style="left:'.$left.'px;top:'.$top.'px;z-index:'.$zindex.'">
            '.htmlspecialchars($row['text']).'
            <div class="author">'.htmlspecialchars($row['name']).'</div>
            <span class="data">'.$row['id'].'</span>
            <a id="remove_note" target="_blank" href="remove.php?id='.$row['id'].'">&nbsp;</a>
        </div>'; 
```

以下是我目前在 remove.php 文件中的内容：

```
<?php
include 'connect.php';
$_GET['id'];
function deleteNote($id){
    $sql="DELETE FROM notes WHERE id='$id'";
}
    $result=mysql_query($sql) or die("Error when tryin to delete note."); 
```

?>

**更新**

我在整个 remove.php 中添加了额外的 echo 行，这就是我想出的。

```
<?php
include 'connect.php';
$_GET['id'];
echo  $id; --doesnt show
function deleteNote($id){
    echo "hello"; --doesnt show
    $sql="SELECT FROM notes WHERE id='$id'";
}
echo  'hello2'; --shows
$result=mysql_query($sql) or die("Error when tryin to delete note."); 
```

?>

**更新：** 感谢大家对这个项目的帮助，经过一些修补后，我终于得到了可以在脑海中点击的概念。我将为偶然发现此代码的其他人发布下面的功能代码。=D 谢谢大家！

**演示.php**

```
 error_reporting(E_ALL^E_NOTICE);
require 'connect.php';
mysql_query("DELETE FROM notes WHERE id>3 AND dt<SUBTIME(NOW(),'0 1:0:0')");
$query = mysql_query("SELECT * FROM notes ORDER BY id DESC");

$notes = '';
$left='';
$top='';
$zindex='';

while($row=mysql_fetch_assoc($query)){
    list($left,$top,$zindex) = explode('x',$row['xyz']);
    $id = $row['id'];
    $notes.= '
        <div class="note '.$row['color'].'" style="left:'.$left.'px;top:'.$top.'px;z-index:'.$zindex.'">
            '.htmlspecialchars($row['text']).'
            <div class="author">'.htmlspecialchars($row['name']).'</div>
            <span class="data">'.$row['id'].'</span>
            <a id="remove_note" target="_blank" href="remove.php?id='.$row['id'].'">&nbsp;</a>
        </div>';
} 
```

**删除.php**

```
<?php
include 'connect.php';
$id = intval($_GET['id']);
$sql="DELETE FROM notes WHERE id=$id";
$result = mysql_query($sql) or die("Unable to delete database entry."); 
```

?>

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T04:12:04.807

你不能`onclick`使用 PHP 函数。您正在将 JavaScript 与 PHP 混合。我会这样做：

```
<a id="remove_note" href="remove.php?id=<?php echo $row['id']; ?>">Remove</a> 
```

然后使用`remove.php`获取 ID`$_GET['id']`并将其传递到`DELETE`查询中。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-03T04:20:04.287

看起来您正在尝试混合使用 JavaScript 和 PHP。单击链接时不能调用 deleteNote() 函数，因为它是 PHP 函数。有几种方法可以调用 PHP 脚本来删除注释：

Use something like the following:

```
<?php
// ...
$id_to_delete = $_GET['id'];
if( isset($id_to_delete) ) {
    $sql="DELETE FROM notes WHERE id='$id_to_delete'";
    $result=mysql_query($sql) or die("Error when tryin to delete note.");
}
$query = mysql_query("SELECT * FROM notes ORDER BY id DESC");

//...

while($row=mysql_fetch_assoc($query)){
   //...
   echo '<a id="remove_note" href="CURRENT_SCRIPT_URL?id=' . $id_to_delete . '">X</a>';
   //...
}
?> 
```

Or you could create a second script that deletes a row from the database based on the data that you pass to it and use ajax (I would recommend using jQuery for ajax functionality) to call that script with the id of the item to delete.

Remember that anyone could call your script with a GET parameter and delete a record from the database (or worse, perform an SQL injection attack), so make sure that you have some sort of safeguard in place unless you want all of your records wiped out!

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-03T04:59:47.937

you have 2 options.

1) make an `<a href="another_php_script.php?delete=true">` (or similar), then run the delete script. (then header back to the same page you were on).

This is because you cannot run an onClick php function, you have to redirect to the other page.

2) You can use the onclick function to call an AJAX script, and execute the deleting PHP script from the page you're on - without redirecting.

Option 1 is the easy option, Option 2 is the better option to learn from.

# json - 使用 Json 的 Magento 会话在 IE 中不起作用

> ID：11304312
> 
> 赞同：1
> 
> 时间：2012-07-03T04:06:10.240
> 
> 标签：json, session, magento

我正在尝试使用 Json.Json 在 Magento 外部访问 Magento 会话数据在 IE 中工作正常，但是当我尝试使用 json 访问 Magento 会话数据时它不起作用。代码适用于 FF、Chrome、Opera .. 但不适用于 IE 7

这是我的 server.php 文件

```
<?php
$mageFilename = 'app/Mage.php';
require_once $mageFilename;
Mage::app();

 if(isset($_GET['cart_item'])){

    Mage::getSingleton('core/session', array('name'=>'frontend'));
    $_cartQty=0;
    $_cartItem='My Bag is empty';

    foreach (Mage::helper('checkout/cart')->getCart()->getItems() as $item){
        $_cartQty+=$item->getQty();
    }

    if ($_cartQty>0)
        $_cartItem='My Bag ('. $_cartQty.')';

    echo $_GET['callback'] . '('.json_encode(array('response'=>$_cartItem)).');';
}
?> 
```

这是我的 client.html 文件

```
<script type="text/javascript" src="js/jquery.js"></script>

<script type="text/javascript">

function change_cart_item(){

var cartItemUrl=jQuery('#cart_item_url').val();

    jQuery.getJSON(cartItemUrl, function(json) {
        var result=json.response;
        alert(result);
        //var cartItem = jQuery(result).find('#cart_item').html();
        //jQuery("#show_cart span").html(result);               
    });
return false;
}

</script>

<input id="cart_item_url" name="cart_item_url" type="hidden" value="http://test.com/ie.php?callback=?&cart_item=cart_item" />

<input type="button" onclick="change_cart_item()"  value="Change cart item" /> 
```

上面的代码在 IE 中总是返回“我的包是空的”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T09:44:36.710

我建议检查为什么 IE 不将 cookie 标头发送到`/ie.php`脚本。IE 必须以不同的方式评估 cookie 路径值。
作为一种解决方法，尝试实现一个简单地返回 JSON 的常规 Magento 操作控制器，因为它必然会通过 IE 接收 cookie 标头（否则 Magento 的整个商店前面将无法与 IE 一起使用）。
要从动作控制器返回 JSON，请使用：

```
public function jsonAction()
{
    $_cartItem = 'My Bag is empty';
    $_cartQty = Mage::helper('checkout/cart')->getItemsQty();

    if ($_cartQty > 0) {
        $_cartItem = 'My Bag ('. $_cartQty.')';
    }

    $this->getResponse()->setBody(
        $_GET['callback'] . '(' . Mage::helper('core')->jsonEncode(array('response'=>$_cartItem)).');'
    );
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-06T15:57:45.800

IE 的 WinInet 实现中存在一个错误。如果您的 cookie 中包含带有文件名的路径，IE 将无法通过 Javascript 中的 document.cookies 属性使其可用。不过，这样的 cookie 应该被传输到服务器。

# ios - Popover 完成后的后处理？

> ID：11304316
> 
> 赞同：0
> 
> 时间：2012-07-03T04:07:10.577
> 
> 标签：ios, xcode, segue, popover

我有一个 IBAction 方法来响应我的 VC 中的按钮按下。这是连接（通过情节提要）到 Popover Segue。

我想在 Popover 完成后专门执行一些处理，但是如果我将该代码放在 IBAction 方法中，它会在 Popover 之前执行。

有关如何执行此操作的任何指示（除了将其放入 Popover 本身之外，由于我不会在这里讨论的原因，这不是一种选择）？

谢谢托尼。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T04:13:00.593

分配一个[UIPopoverDelegate](http://developer.apple.com/library/ios/documentation/uikit/reference/UIPopoverController_class/Reference/Reference.html)（和[这里](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIPopoverControllerDelegate_protocol/Reference/Reference.html#//apple_ref/doc/uid/TP40009307)）以获取关闭事件的通知

# iphone - 在应用程序购买中实施及其在 iphone 中的恢复

> ID：11304317
> 
> 赞同：1
> 
> 时间：2012-07-03T04:07:16.783
> 
> 标签：iphone, ios, xcode4.2, in-app-purchase, restore

我已经使用 MKStoreManager 在我的一个应用程序中实现了应用程序购买。现在从苹果那里得到了一个新的指导方针，如果你在应用程序购买，你必须给用户，恢复已经购买的应用程序的选项。所以我已经完成了像这样。在“恢复”按钮单击时，调用此方法。

```
- (void) checkPurchasedItems
{
   [[SKPaymentQueue defaultQueue] addTransactionObserver:self]; 
    [[SKPaymentQueue defaultQueue] restoreCompletedTransactions];
} 
```

从这里开始，这个方法被解雇了

```
- (void) paymentQueueRestoreCompletedTransactionsFinished:(SKPaymentQueue *)queue
    {
     NSMutableArray* purchasableObjects  = [[NSMutableArray alloc] init];

        NSLog(@"received restored transactions: %i", queue.transactions.count);
        for (SKPaymentTransaction *transaction in queue.transactions)
        {
            NSString *productID = transaction.payment.productIdentifier;
            [purchasableObjects addObject:productID];
        }

    } 
```

但现在我有一个疑问，我怎样才能检查这个恢复是否有效。任何人都可以指导我。提前谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T05:01:28.277

这是您实施恢复的方式

```
- (void)loadStore
{
// restarts any purchases if they were interrupted last time the app was open
[[SKPaymentQueue defaultQueue] addTransactionObserver:self];

// get the product description (defined in early sections)
[self requestProUpgradeProductData];
}

- (void)requestProUpgradeProductData
{
NSSet *productIdentifiers = [NSSet setWithObject:kInAppPurchaseProUpgradeProductId];
productsRequest = [[SKProductsRequest alloc]     initWithProductIdentifiers:productIdentifiers];
productsRequest.delegate = self;
[productsRequest start];

// we will release the request object in the delegate callback
} 
```

在此之后它将调用此方法

```
- (void)productsRequest:(SKProductsRequest *)request didReceiveResponse:(SKProductsResponse *)response
{
NSArray *products = response.products;
proUpgradeProduct = [products count] == 1 ? [[products objectAtIndex:0] retain] : nil;
if (proUpgradeProduct)
{
NSLog(@"Product title: %@" , proUpgradeProduct.localizedTitle);
NSLog(@"Product description: %@" , proUpgradeProduct.localizedDescription);
NSLog(@"Product price: %@" , proUpgradeProduct.price);
NSLog(@"Product id: %@" , proUpgradeProduct.productIdentifier);
if ([self canMakePurchases]) {
    if ([self respondsToSelector:@selector(purchaseProUpgrade)]) {
        [self purchaseProUpgrade];
    }
}
else {
    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:[self languageSelectedStringForKey:@"Error"] message:@"Cannot connect to Store.\n Please Enable the Buying in settings" delegate:self cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil];
    [alert show];
    [alert release];
}
}

for (NSString *invalidProductId in response.invalidProductIdentifiers)
{
[SVProgressHUD dismiss];
[cancelButton setEnabled:YES];
[buyNowButton setEnabled:YES];
[restoreButton setEnabled:YES];
UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Warning" message:@"Error occured" delegate:self cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil];
[alert show];
[alert release];
NSLog(@"Invalid product id: %@" , invalidProductId);
}

// finally release the reqest we alloc/init’ed in requestProUpgradeProductData
[productsRequest release];
[[NSNotificationCenter defaultCenter]         postNotificationName:kInAppPurchaseManagerProductsFetchedNotification object:self userInfo:nil];
}
- (void)completeTransaction:(SKPaymentTransaction *)transaction
{
[self recordTransaction:transaction];
[self provideContent:transaction.payment.productIdentifier];
[self finishTransaction:transaction wasSuccessful:YES];
}
- (void)purchaseProUpgrade
{
[SVProgressHUD showInView:self.view status:[self languageSelectedStringForKey:@"Connecting Store"] networkIndicator:YES];
SKPayment *payment = [SKPayment     paymentWithProductIdentifier:kInAppPurchaseProUpgradeProductId];
[[SKPaymentQueue defaultQueue] addPayment:payment];
}
- (void)recordTransaction:(SKPaymentTransaction *)transaction
{
if ([transaction.payment.productIdentifier isEqualToString:kInAppPurchaseProUpgradeProductId])
{
// save the transaction receipt to disk
[[NSUserDefaults standardUserDefaults] setValue:transaction.transactionReceipt forKey:@"proUpgradeTransactionReceipt" ];
[[NSUserDefaults standardUserDefaults] synchronize];
}
} 
```

最后这个方法

```
- (void)finishTransaction:(SKPaymentTransaction *)transaction wasSuccessful:        (BOOL)wasSuccessful
{
// remove the transaction from the payment queue.
[[SKPaymentQueue defaultQueue] finishTransaction:transaction];

NSDictionary *userInfo = [NSDictionary dictionaryWithObjectsAndKeys:transaction, @"transaction" , nil];
if (wasSuccessful)
{
//Write your transaction complete statement required for your project
} 
```

# mysql - MySQL查询不适用于另一个数据库

> ID：11304321
> 
> 赞同：0
> 
> 时间：2012-07-03T04:08:12.700
> 
> 标签：mysql

我有这个工作正常的查询：

```
SELECT c.id, c.name
FROM job j
LEFT JOIN portfolio_job_category pjc ON pjc.job_id = j.id
LEFT JOIN category c ON c.id = pjc.category_id
WHERE j.end_date >= DATE( NOW( ) ) 
AND pjc.portfolio_id =3
GROUP BY c.id
ORDER BY  `c`.`id` ASC 
LIMIT 0 , 30 
```

但是当我在下面进行查询时它不起作用并返回空行：

```
SELECT c.id, c.name
FROM commstratjobs.job j
LEFT JOIN commstratjobs.portfolio_job_category pjc ON pjc.job_id = j.id
LEFT JOIN commstratjobs.category c ON c.id = pjc.category_id
WHERE j.end_date >= DATE( NOW( ) ) 
AND pjc.portfolio_id =3
GROUP BY c.id
ORDER BY c.name;
LIMIT 0 , 30 
```

有什么原因吗？

我唯一做的就是在表格前面添加数据库......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T07:04:42.073

您是否尝试通过此符号分隔数据库和表：`

IE

`commstratjobs`.`job`

所以你的查询将是这样的

```
SELECT c.id, c.name
FROM `commstratjobs`.`job j`
LEFT JOIN `commstratjobs`.`portfolio_job_category` pjc ON pjc.job_id = j.id
LEFT JOIN `commstratjobs`.`category` c ON c.id = pjc.category_id
WHERE j.end_date >= DATE( NOW( ) ) 
AND pjc.portfolio_id =3
GROUP BY c.id
ORDER BY c.name;
LIMIT 0 , 30 
```

# android - TextView 在 RelativeLayout 中重叠

> ID：11304326
> 
> 赞同：3
> 
> 时间：2012-07-03T04:09:11.167
> 
> 标签：android, android-layout

我有这个 ListView 布局项。它包括一个TextView 和一个ImageView。问题是 ImageView 与 TextView 重叠。我想要 TextView 显示椭圆或选取框。我该如何解决？

![在此处输入图像描述](../Images/493676f6dd74703807fbe1b8ef83db00.png)

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="horizontal" 
    android:padding="10dip">

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Name"
        android:textAppearance="?android:attr/textAppearanceLarge" 
        android:inputType="text"
        android:maxLines="1"
        android:scrollHorizontally="true"

        android:layout_alignParentLeft="true"
        android:layout_centerVertical="true"
        android:layout_toLeftOf="@+id/imageView1"/>

    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:src="@drawable/icon" 

        android:layout_alignParentRight="true"
        android:layout_centerVertical="true"        
        />

</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T04:29:52.573

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="horizontal"
    android:padding="10dip" >

<TextView
    android:id="@+id/textView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_centerVertical="true"
    android:layout_toLeftOf="@+id/imageView1"
    android:ellipsize="end"
    android:singleLine="true"
    android:text="lots of text here lots of text here"
    android:textAppearance="?android:attr/textAppearanceLarge" />

<ImageView
    android:id="@+id/imageView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:layout_centerVertical="true"
    android:src="@drawable/icon" />

</RelativeLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:30:08.790

这肯定会发生，因为**`RelativeLayout`**，每当您有一些大长度的文本时。

要克服这个问题，您可以尝试用`RelativeLayout`LinearLayout 替换，并**`android:layout_weight`**为您`TextView`和`ImageView`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T04:42:59.217

您可以将布局宽度和高度设置为以 dp 为单位，例如 200 dp 以调整布局。通过减小尺寸，您的布局可以很好地调整

# objective-c - ObjectiveC：在哪里声明私有实例属性？

> ID：11304327
> 
> 赞同：12
> 
> 时间：2012-07-03T04:09:21.030
> 
> 标签：objective-c, implementation, private, class-extensions

我有以下类接口：

```
@interface MyClass : NSObject

@property int publicProperty;

@end 
```

然后执行：

```
@interface MyClass() // class extension

- (void)privateMethod; // private methods

@end

@implementation MyClass {
    int _privateProperty;
}

@property int privateProperty = _privateProperty;

@end 
```

这就是苹果人在 WWDC 中展示的内容，但是有什么理由不将 _privateProperty 放在类扩展中，例如：

```
@interface MyClass() // class extension
{
    int _privateProperty;
}

- (void)privateMethod; // private methods

@end 
```

谢谢！

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-03T13:27:33.603

我通常在实现中通过扩展“强制”私有

在你的标题中

```
@interface MyClass : NSObject
{
}

@property (nonatomic, assign) int publicProperty;

@end 
```

在您的实现文件中：

```
@interface MyClass ()
@property (nonatomic, assign) int privateProperty;
@end

@implementation MyClass
@synthesize privateProperty;
@synthesize publicProperty;

@end 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-07-03T06:27:56.890

您不必在接口和实现中都声明您的 ivars。因为您想让它们私有，您可以像这样在实现文件中声明它们：

```
@implementation {

int firstVariable;
int secondVariable;
...
}
//properties and code for  your methods 
```

如果您愿意，您可以创建 getter 和 setter 方法，以便您可以访问这些变量。

您与之交谈的人是对的，尽管您没有任何理由不在界面中以相同的方式声明它们。有些书实际上告诉你@interface 显示了班级的公众形象，而你在实现中拥有的内容将是私有的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T04:12:59.417

您的意思是要声明私有实例变量吗？

你可以这样做：

```
@interface MyClass()
{
 @private //makes the following ivar private
   int _privateProperty;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-03T08:22:20.837

使用“现代运行时”（64 位 MacOS post-10.5 和所有版本的 iOS），您根本不需要声明实例变量。

```
// MyClass.h
@interface MyClass : NSObject

@property int publicProperty;

@end

// MyClass.m
@implementation MyClass

@synthesize publicProperty = _privateProperty;  // int _privateProperty is automatically synthesized for you.

@end 
```

# android - 如何在 Android 中暂停和恢复 SpeechRecognizer？

> ID：11304334
> 
> 赞同：1
> 
> 时间：2012-07-03T04:09:47.710
> 
> 标签：android, voice-recognition

我正在使用 SpeechRecognizer 类。

这是我的代码：

```
SpeechRecognizer     speechRecognizer;
speechRecognizer = SpeechRecognizer.createSpeechRecognizer(getBaseContext());
MyRecognitionListener speechListner=new MyRecognitionListener();
speechRecognizer.setRecognitionListener(speechListner);
Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);
intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);
intent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, getApplication().getPackageName());
speechRecognizer.startListening(intent); 
```

问题是我无法暂停和恢复它。我已经尝试过：

```
speechRecognizer.cancel();
speechRecognizer.stopListening(); 
```

但它仍然在听。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T07:07:54.647

您不能对已取消的 SpeechRecognizer 调用 stopListening()。在 cancel() 之前调用它。

```
speechRecognizer.stopListening();
speechRecognizer.cancel(); 
```

# xcode4.3 - 使用滚动视图 Xcode 放大图像

> ID：11304335
> 
> 赞同：0
> 
> 时间：2012-07-03T04:09:53.680
> 
> 标签：xcode4.3

我正在尝试使用 Xcode 的 iPad 应用程序。我只是一个初学者，所以有些事情我不知道该怎么做。在我的应用程序中，我有一些图像通过滚动视图一一显示。现在，我希望他们在双击时放大，再次双击时缩小。谁能告诉我如何使用用于显示所有图像的相同滚动视图来放大和缩小？

谢谢。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T04:17:04.553

请参考 Apple 文档... [Scroll View Programming Guide for iOS](http://developer.apple.com/library/ios/#documentation/WindowsViews/Conceptual/UIScrollView_pg/ZoomZoom/ZoomZoom.html)

# javascript - 如何使用内存流在上传前预览图像

> ID：11304344
> 
> 赞同：0
> 
> 时间：2012-07-03T04:11:09.937
> 
> 标签：javascript, asp.net-mvc-3

我需要在上传之前预览图像。我能够将文件路径从视图传递到控制器，在控制器中使用内存流类我试图在将图像保存到数据库之前预览图像。任何人都可以为我提供任何示例或这个例子谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-03T05:56:23.503

```
<script type="text/javascript">        
    function readfile(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function(e) {
                $('#image_preview').attr('src', e.target.result);
            }

            reader.readAsDataURL(input.files[0]);
        }
    }
</script>

 <form id="form1">
  <input type='file' onchange="readfile(this);" />
  <img id="image_preview" src="#" alt="your image" width="200" height="200"/>
</form> 
```

我也创建了 bin，尝试使用此链接[http://codebins.com/codes/home/4ldqpc4](http://codebins.com/codes/home/4ldqpc4)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T04:31:35.827

请检查以下网址

[http://weblogs.asp.net/imranbaloch/archive/2010/04/03/image-preview-in-asp-net-mvc.aspx](http://weblogs.asp.net/imranbaloch/archive/2010/04/03/image-preview-in-asp-net-mvc.aspx)

[mvc 2中的图像上传和预览](https://stackoverflow.com/questions/5980566/image-upload-and-preview-in-mvc-2)

# c# - 带有 [@] 的 C# 字符串

> ID：11304345
> 
> 赞同：0
> 
> 时间：2012-07-03T04:11:23.243
> 
> 标签：c#, string

我在这里问是否有任何方法可以将变量放在 C# 中的“@”字符串中。这样以下代码中的 id 可以更改。

```
 string xml = @"
        <S>
          <child id='1'/>
          <child id='2'>
            <grandchild id='3' />
            <grandchild id='4' />
          </child>
        </S>"; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T04:12:55.757

不是直接的（C# 没有插值），但您可以将 @-string 传递给`string.Format`or `string.Concat`。（或者，对于受虐狂来说，`Regex.Replace`）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-03T04:13:07.880

看看 string.Format 方法

```
var result = string.Format(@"<S> 
          <child id='{0}'/> 
          <child id='{1}'> 
            <grandchild id='{2}' /> 
            <grandchild id='{3}' /> 
          </child> 
        </S>", id1, id2, id3, id4); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-03T04:14:24.257

您可以使用 string.Format：

```
string.Format(@"<S>
          <child id='{0}'/>
          <child id='{1}'>
            <grandchild id='3' />
            <grandchild id='4' />
          </child>
        </S>", childId1, childId2); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-03T04:18:33.353

使用 string.Format() 在运行时将值插入到您的字符串中。有关它的更多信息可以在[MSDN](http://msdn.microsoft.com/en-us/library/d9t40k6d.aspx "MSDN")上找到。

```
 string xml = string.Format(@"
    <S>
      <child id='{0}'/>
      <child id='{1}'>
        <grandchild id='{2}' />
        <grandchild id='{3}' />
      </child>
    </S>", id1, id2, id3, id4); 
```

虽然这不是创建 XML 的推荐方法，因为您必须确保您插入的任何值都针对其位置正确转义，但只要您严格插入数值，这应该不是问题。

# python - python 交互式 shell 比命令行快 16 倍 - 怎么了？

> ID：11304348
> 
> 赞同：7
> 
> 时间：2012-07-03T04:11:58.550
> 
> 标签：python, command-line, interactive

我在一个小功能上使用 Enthought EPD-Free 7.3-1，当我剪切/粘贴到交互式会话 (PyLab) 中并运行它时，不到一秒钟。当我从命令行“ `python probtest.py`”运行相同的代码时，它需要超过 16 秒。

我已经确认两者都使用相同的 python 环境。也许相关（也许不相关），但在包含`.py`文件的目录中，没有`.pyc`文件......我最近完成的所有 python 脚本都没有关联的 .pyc 文件。我检查了文件夹的读/写权限，使用了“修复权限”（Mac OSX-Lion），并卸载/重新安装了 EPD_Free python，但没有运气。

我不知道可能是什么原因。我正在使用的代码（对 x 个骰子的简单测试，寻找至少 y 个六点）：

```
import numpy as np
import sys

def runTest(numDice, numSixes, numThrows = 10000):
    nSuccess = 0
    for i in range(numThrows):
        dList = np.random.randint(1,7,numDice)
        if sum(dList==6) >= numSixes:
            nSuccess += 1
    return float(nSuccess)/numThrows

print runTest(900,150,5000)
print sys.version 
```

关于为什么命令行 python 这么慢的任何想法？提前致谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-03T04:23:01.000

啊，这个似曾相识。如果您使用的是 pylab 接口，它可能会将 numpy`sum`导入范围，覆盖内置。numpy 的总和会快得多（以下两个代码之间的唯一区别是我添加`from numpy import sum`了第二个代码）：

```
localhost-2:coding $ time python sumtime.py 
0.5106
2.7.2 (v2.7.2:8527427914a2, Jun 11 2011, 15:22:34) 
[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)]

real    0m20.313s
user    0m19.955s
sys 0m0.247s
localhost-2:coding $ time python sumtime_with_np_sum.py 
0.5118
2.7.2 (v2.7.2:8527427914a2, Jun 11 2011, 15:22:34) 
[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)]

real    0m0.572s
user    0m0.345s
sys 0m0.220s 
```

您可以通过检查是否 来验证这一点`sum is np.sum`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-03T04:14:15.000

我们在 IronPython 中发现了这个问题。默认情况下，命令行会为每次调用导入大量项目。交互式 shell 将它们加载一次并准备就绪！

因此，请检查默认情况下完成了哪些导入并将它们从时间中删除。

# javascript - 如何使用 JavaScript 识别移动设备

> ID：11304353
> 
> 赞同：3
> 
> 时间：2012-07-03T04:12:54.477
> 
> 标签：javascript, android, iphone, mobile

我正在为移动设备开发一个网站。为了记录用户的行为，我想`ID cookie`在客户端上保存用户。当用户重新访问我的网站时，我可以阅读`ID cookie`以识别用户。

在某些设备上运行良好，因为设备会自动接受保存`ID cookie`. 但有些设备（例如 iPhone）不起作用。

如何唯一识别移动设备（例如通过 MAC 地址？）。

我只能在移动设备上运行 JavaScript。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T04:24:46.827

**试试**这个，可能适用于你的情况:)

```
 var macAddress = "";
    var ipAddress = "";
    var computerName = "";
    var wmi = GetObject("winmgmts:{impersonationLevel=impersonate}");
    e = new Enumerator(wmi.ExecQuery("SELECT * FROM Win32_NetworkAdapterConfiguration WHERE IPEnabled = True"));
    for(; !e.atEnd(); e.moveNext()) {
        var s = e.item(); 
        macAddress = s.MACAddress;
        ipAddress = s.IPAddress(0);
        computerName = s.DNSHostName;
    } 
```

# objective-c - 显示视频和图像

> ID：11304359
> 
> 赞同：0
> 
> 时间：2012-07-03T04:13:15.173
> 
> 标签：objective-c, ios

我将视频和图像以 NSData 格式存储在缓存中。我想检索图像并将其显示在 imageController 上，还想检索视频并将其显示在 videoController 上。我可以通过查看文件扩展名来区分它们。但问题在于 imageController 我可以使用 NSData 来初始化图像：

```
 NSData *data=[NSData dataWithContentsOfURL:[NSURL fileURLWithPath:filePath isDirectory:NO]];
        UIImage *image=[[UIImage alloc]initWithData:data]; 
```

但是我怎样才能使用 NSData 来播放视频呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T04:19:23.627

如果您可以获得他们的路径扩展，您可以为每种类型使用单独的实现。没有必要走一条路，是吗？

```
-(void)example:(NSString*)filePath {
    if ([filePath.pathExtension isEqualToString:@"png"]) {
        NSData *data=[NSData dataWithContentsOfURL:[NSURL fileURLWithPath:filePath isDirectory:NO]];
        UIImage *image=[[UIImage alloc]initWithData:data];
    } else if ([filePath.pathExtension isEqualToString:@"mp4"]) {
        MPMoviePlayerController *player =
        [[MPMoviePlayerController alloc] initWithContentURL: [NSURL urlWithString:filePath]];
        [player prepareToPlay];
        [player.view setFrame: myView.bounds];  // player's frame must match parent's
        [myView addSubview: player.view];
        // ...
        [player play];
    }
} 
```

# c# - 如何迭代更改集合

> ID：11304371
> 
> 赞同：1
> 
> 时间：2012-07-03T04:14:43.257
> 
> 标签：c#, .net

我有以下代码。

```
private void LoopThroughDependsIssues(JIRAOperations jiraOps, string jiraURL, string token, string username, string password, string projectKey, string exportTargetPath, string branch, SVNOperations svnOps, string svnExePath, string changesetDBFile, DependencyManager mgr)
        {
            var tempVar = mgr.Dependencies;
            foreach (var item in tempVar)
            {
                if (item.depends.Length > 0)
                {
                    var templist = item.depends;
                  var  listissues1 = templist.Split(',');
                     for (var i = 0; i < listissues1.Length-1; i++)
                     {
                         var newissue1 = new string[] { listissues1[i].ToString() };
                         newissue1.getChangeSet(jiraOps, jiraURL, token, username, password, projectKey, exportTargetPath, branch, svnOps, svnExePath, changesetDBFile, mgr);
                     }
                    //throw new Exception("Dependencies found");
                }
            }
        } 
```

在此，我正在遍历该`mgr.Dependencis`集合。这个值在变化`newissue1.getChangeSet(jiraOps, jiraURL, token, username, password, projectKey, exportTargetPath, branch, svnOps, svnExePath, changesetDBFile, mgr);` 所以每次调用这个方法，我的收藏价值都在增加。但是第一次它工作正常。但是在第二次迭代时，它给出了异常

> 收藏已修改；枚举操作可能无法执行。

我认为这个例外是为了改变收藏。如何处理这种情况。？

我的类定义如下。

```
public class Dependency
     {
         public string issueID { get; set; }
         public string jirastatus { get; set; }
         public int dependencyFound { get; set; }
         public string depends { get; set; }
         public string linked_issues { get; set; }
       }

      public class DependencyManager
      {
          public List<Dependency> Dependencies { get; private set; }
          public DependencyManager()
          {
              this.Dependencies = new List<Dependency>();

          }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-03T04:25:02.890

如果您对`Dependencies`集合进行索引，则不会创建枚举器，并且您可以在修改集合时循环遍历。如果没有将新项目附加到列表末尾或删除项目，这种方法很容易引起头痛。

```
for(int i = 0; i < mgr.Dependencies.Count; i++)
{
  var item = mgr.Dependecies[i];
  if (item.depends.Length > 0)
  {
      // code unchanged
  }
} 
```

一种安全的方法是使用 a`Queue`并用初始项目填充它，`mgr.Dependencies`然后再填充`Enqueue`您要处理的任何其他项目。

```
var toBeProcessed = new Queue<Dependency>(mgr.Dependencies);
while(toBeProcessed.Count > 0)
{
  var item = toBeProcessed.Dequeue();

  // loop

  // if a new dependency gets added that needs processing, just add it to the queue.
  toBeProcessed.Enqueue(newissue1);

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-03T05:27:37.930

如果您想要的只是在开始时使用集合，而不关心更改，您可以对集合进行快照：

```
var tempVar = mgr.Dependencies.ToList(); //This will create a new list with the same items
foreach (var item in tempVar) {
    ...
} 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-07-03T08:47:50.723

如果您不使用 foreach 而是使用常规循环，则可以进行迭代。如果您只在最后将行添加到修改后的集合中，则只需进行最小的更改即可。

```
 var tempVar = mgr.Dependencies;
        var cnt = tempvar.Count(); // Only iterate items available when we start

        for (int i = 0; i < cnt; i++)
        {
           var item = tempVar[i]; 
```

# windows-installer - 在从添加/删除程序卸载应用程序期间提示用户输入卸载密码

> ID：11304372
> 
> 赞同：0
> 
> 时间：2012-07-03T04:14:51.480
> 
> 标签：windows-installer, uninstallation, password-protection

我编写了一个应用程序，当用户想要从“添加/删除”程序中卸载它时，我需要提示用户输入密码。只有密码正确，用户才能卸载应用程序。

# ios - 如何在 iPhone 中存储 UITabelView 数据

> ID：11304374
> 
> 赞同：0
> 
> 时间：2012-07-03T04:16:00.990
> 
> 标签：ios, xmppframework

我正在使用 xmpp 服务器开发聊天应用程序。我可以发送和接收 tableview 中显示的消息和消息。这里我的问题是如何将消息数据存储在用户默认值中，作为键值，当我单击特定的电子邮件 ID 时将显示对话。任何人都可以回答我的问题吗？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T04:52:19.763

听起来您需要一个数据库来存储您的消息。在 iOS 上，您最好的选择是[Core Data](http://developer.apple.com/library/mac/#referencelibrary/GettingStarted/GettingStartedWithCoreData/_index.html#//apple_ref/doc/uid/TP40005316)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-08-28T11:07:38.693

**你好！**您问的**问题不正确**：) **UITabelView Data**的类型类似于**[NSArray, NSDict]**！**所以你可以在nsuserdefaults/file/core data(realm)**中存储数组或 dict 或 smth 集合

 *****希望能帮助到你！：）*****

# android - Android 上的 EditText 首选项的动态数量

> ID：11304376
> 
> 赞同：0
> 
> 时间：2012-07-03T04:16:11.667
> 
> 标签：android, android-preferences

我正在寻找一种方法来创建动态数量的`EditTextPreference`s。

我目前正在创建一个偏好活动，以扩展`PreferenceActivity`和创建 XML 中的所有按钮等。

我的问题是我有第二个偏好屏幕，我希望用户在其中建立一个新的“团队”。

这首先选择团队有多少成员（可能是列表首选项或其他文本首选项），然后为每个成员`EditTextPreference`显示两个（名称和 ID）。

但我似乎无法找到解决这个问题的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T05:21:27.560

好吧，您需要获取所需的 EditTextPreferences 数量，然后将它们全部添加到新的 LinearLayout 中。像这样的东西也许

```
LinearLayout parent = ((LinearLayout)findViewById(R.id.PUTLAYOUTNAMEHERE));
for (int i=0; i<NUMEDITTEXTPREFERENCES; i++)
{
    EditTextPreferences newView = new EditTextPreferences(this); //Must be written inside an activity.
    parent.addView(newView);
} 
```

# php - 使用 javascript 和 php 进行图像印象跟踪

> ID：11304381
> 
> 赞同：0
> 
> 时间：2012-07-03T04:16:40.430
> 
> 标签：php, javascript, image

所以我想跟踪每张图片的图片（横幅）印象。例如，如果一个图像在页眉中，它应该在页面加载时跟踪展示，但如果图像在页脚中，它应该只在用户向下滚动到页脚时跟踪它。

我可以用 php 做 1x1 像素图像来跟踪它，但我想我也需要 javascript，

总之，我只想在用户看到图像时（而不是在加载页面时）跟踪图像印象。

有任何想法吗 ？

注意：我已经搜索过了，问题只回答了如何跟踪页面加载时的印象，这不是我想要的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T04:27:49.337

当页面加载时，使用 javascript 来：

*   确定图像相对于整个页面的位置
*   检测用户浏览器窗口的大小
*   如果图像在视口中，则对跟踪脚本运行 ajax 调用
*   添加一个`onscroll`事件来检测图像是否已移动到视口中...如果是，则运行 ajax 跟踪脚本。

那应该差不多了。只需确保用于调用跟踪脚本的 javascript 函数只能运行一次（将全局`has_been_tracked`变量设置为 false，并在跟踪函数运行时让脚本将其切换为 true）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:43:02.867

我明白你的问题。然而，这是一个非常复杂的问题！为简化起见，您应该以以下思维方式处理此问题：“标题图像上的展示次数”（在 PHP 中跟踪的纯展示次数）+“向下滚动查看广告的用户数量”（仅使用 javascript 跟踪）。

我对 Ben 投了赞成票，因为他在以下方面 100% 正确：要将滚动广告计算为“被看到”，您必须计算屏幕尺寸 + 滚动值 - 图像位置，以查看广告是否被跟踪。如果你没有在标题中包含“印象”，那你就疯了，因为像我这样的人没有运行任何脚本，也不会注册原始网页浏览或滚动。

最有效的跟踪方式是“印象”和/或“转化”，因为它们不依赖用户操作系统、浏览器和浏览习惯来确定盈利能力。需要基础 PHP 和中级 JS 的共同努力。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T04:53:29.903

*   您可以看到演示功能跟踪通话印象

*   您检测到轴滚动顶部+屏幕窗口高度>位置顶部元素您发送印象的横幅。

```
<body>
<div style="clear:both; height:1000px;"></div>
<div id="banner" style="clear:both; height:200px; background:#f00;">Test show</div>
<script language="javascript">
var windowPrototype={
    wdHeight:function(){
        var myHeight;
        if( typeof( window.innerWidth ) == 'number' ) {
            //Non-IE
            myHeight = window.innerHeight;
        } else if( document.documentElement && (  document.documentElement.clientHeight ) ) {
            //IE 6+ in 'standards compliant mode'
            myHeight = document.documentElement.clientHeight;
        } else if( document.body && (  document.body.clientHeight ) ) {
            //IE 4 compatible
            myHeight = document.body.clientHeight;
        }
        return myHeight;
    },
    wdWidth:function(){ 
        var myWidth;
        if( typeof( window.innerWidth ) == 'number' ) {
            //Non-IE
            myWidth = window.innerWidth;

        } else if( document.documentElement && ( document.documentElement.clientWidth  ) ) {
            //IE 6+ in 'standards compliant mode'
            myWidth = document.documentElement.clientWidth;

        } else if( document.body && ( document.body.clientWidth  ) ) {
            //IE 4 compatible
            myWidth = document.body.clientWidth;

        }
        return myWidth;
    }
}   
function getScrollTop(){
      var ScrollTop = document.body.scrollTop;
       if (ScrollTop == 0)        
         {
             if (window.pageYOffset)
                 ScrollTop = window.pageYOffset;
             else
                 ScrollTop = (document.body.parentElement) ?     document.body.parentElement.scrollTop : 0;
         }
    return ScrollTop;
}
function getElementTop(Elem) {
    if(document.getElementById) {   
        var elem = document.getElementById(Elem);
    } else if (document.all) {
        var elem = document.all[Elem];
    }
    if(elem!=null){
        yPos = elem.offsetTop;
        tempEl = elem.offsetParent;
        while (tempEl != null) {
            yPos += tempEl.offsetTop;
            tempEl = tempEl.offsetParent;
        }
        return yPos;
    }
    else{
        return 0;
    }
}
function tracking(){                        
    var scrolltop=getScrollTop();
    var advZoneTop=getElementTop('banner');
    if((scrolltop+windowPrototype.wdHeight())>advZoneTop){
            //send code tracking.
        alert('send tracking code');
        if(document.images){
            var img=new Image();
            img.src='http://logging.com/trackingbanner.jpg';
        }
    }else{
        setTimeout('tracking()',100);
    }
}
tracking();
//you can on scroll 
/*
window.onscroll = function () {  
  // called when the window is scrolled.  

        var scrolltop=getScrollTop();
        var advZoneTop=getElementTop('banner');
        if((scrolltop+windowPrototype.wdHeight())>advZoneTop){
                //send code tracking.
            alert('send tracking code');
            if(document.images){
                var img=new Image();
                img.src='http://logging.com/trackingbanner.jpg';
            }
        }
}  */
</script>
</body>
</html> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-24T12:27:21.980

[http://patik.com/blog/within-viewport-javascript-and-jquery-plugin/](http://patik.com/blog/within-viewport-javascript-and-jquery-plugin/)

上面的链接是一个脚本，当元素（您的案例中的特定图像）完全在视口内时，它将触发一个事件。

在全视图的页脚图像上，如果您有自己的自定义跟踪计数，您可以选择在 Google Analytics 或 AJAX 中跟踪这些事件以调用 PHP 脚本。

# iphone - iOS中的UIScrollView不响应滚动到顶部

> ID：11304382
> 
> 赞同：-4
> 
> 时间：2012-07-03T04:16:58.940
> 
> 标签：iphone, objective-c, ios, ipad, uiscrollview

我有两个 UIScrollViews，一个是水平的，另一个是水平视图上的页面。我想单击状态栏并让垂直滚动视图滚动到顶部，但它不起作用。

我搜索了一些说我必须设置的信息`UIScrollView.scrollsToTop=NO`，但它不起作用。有人能告诉我为什么吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-03T04:29:33.330

仅当存在一个 scrollsToTop 属性设置为 YES 的滚动视图时，滚动视图才会滚动到顶部。

确保在水平滚动视图和其中包含的所有子垂直滚动视图上将其设置为 NO。然后，使用水平滚动视图的委托，当一个垂直滚动视图离开可见区域时，将属性切换为 NO 并将传入的垂直滚动视图的属性切换为 YES。

# windows-phone-7 - 精灵在 Windos Phone 游戏中无法正确绘制 (SDK 7.1)

> ID：11304387
> 
> 赞同：0
> 
> 时间：2012-07-03T04:18:06.613
> 
> 标签：windows-phone-7, xna, sprite

由于我安装了 SDK 7.1，我在绘制精灵时遇到了问题，我的精灵就像被切割成一堆条纹，然后以一种奇怪的方式绘制。有人知道这里发生了什么吗？

这是我要绘制的精灵：

[http://tinypic.com/r/sdeiop/6](http://tinypic.com/r/sdeiop/6)

这是我在运行应用程序时在模拟器屏幕上看到的内容

（也在 tinypic 中）/r/4ij4o0/6

这是我所有的代码

Game1.cs 类：

```
using System;
using System.Collections.Generic;
using System.Linq;
using Microsoft.Xna.Framework;
using Microsoft.Xna.Framework.Audio;
using Microsoft.Xna.Framework.Content;
using Microsoft.Xna.Framework.GamerServices;
using Microsoft.Xna.Framework.Graphics;
using Microsoft.Xna.Framework.Input;
using Microsoft.Xna.Framework.Input.Touch;
using Microsoft.Xna.Framework.Media;

namespace Ships
{
/// <summary>
/// This is the main type for your game
/// </summary>
public class Game1 : Microsoft.Xna.Framework.Game
{
    GraphicsDeviceManager graphics;
    SpriteBatch spriteBatch;
    // Nave = Ship, jugador = player (in spanish)
    private Nave jugador;

    public Game1()
    {
        graphics = new GraphicsDeviceManager(this);
        Content.RootDirectory = "Content";

        // Frame rate is 30 fps by default for Windows Phone.
        TargetElapsedTime = TimeSpan.FromTicks(333333);

        // Extend battery life under lock.
        InactiveSleepTime = TimeSpan.FromSeconds(1);
    }

    /// <summary>
    /// Allows the game to perform any initialization it needs to before starting to run.
    /// This is where it can query for any required services and load any non-graphic
    /// related content.  Calling base.Initialize will enumerate through any components
    /// and initialize them as well.
    /// </summary>
    protected override void Initialize()
    {
        // TODO: Add your initialization logic here

        this.jugador = new Nave();

        base.Initialize();
    }

    /// <summary>
    /// LoadContent will be called once per game and is the place to load
    /// all of your content.
    /// </summary>
    protected override void LoadContent()
    {
        // Create a new SpriteBatch, which can be used to draw textures.
        this.spriteBatch = new SpriteBatch(GraphicsDevice);

        this.jugador.LoadContent(this.Content, "Texturas\\nave");
        this.jugador.posicion.X = this.graphics.GraphicsDevice.Viewport.Width / 2 - jugador.textura.Width / 2;
        this.jugador.posicion.Y = this.graphics.GraphicsDevice.Viewport.Height - jugador.textura.Height;

        // TODO: use this.Content to load your game content here
    }

    /// <summary>
    /// UnloadContent will be called once per game and is the place to unload
    /// all content.
    /// </summary>
    protected override void UnloadContent()
    {
        // TODO: Unload any non ContentManager content here
    }

    /// <summary>
    /// Allows the game to run logic such as updating the world,
    /// checking for collisions, gathering input, and playing audio.
    /// </summary>
    /// <param name="gameTime">Provides a snapshot of timing values.</param>
    protected override void Update(GameTime gameTime)
    {
        // Allows the game to exit
        if (GamePad.GetState(PlayerIndex.One).Buttons.Back == ButtonState.Pressed)
            this.Exit();

        // TODO: Add your update logic here

        base.Update(gameTime);
    }

    /// <summary>
    /// This is called when the game should draw itself.
    /// </summary>
    /// <param name="gameTime">Provides a snapshot of timing values.</param>
    protected override void Draw(GameTime gameTime)
    {
        GraphicsDevice.Clear(Color.CornflowerBlue);

        // TODO: Add your drawing code here
        this.spriteBatch.Begin();
        this.jugador.Draw(this.spriteBatch);
        this.spriteBatch.End();

        base.Draw(gameTime);
    }
}
} 
```

这是我的船级（Nave.cs）

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Microsoft.Xna.Framework.Graphics;
using Microsoft.Xna.Framework;
using Microsoft.Xna.Framework.Content;

namespace Ships
{
class Nave
{
    public Vector2 posicion = new Vector2(0, 0);
    public Texture2D textura;
    public Rectangle rectangulo;

    public Nave()
    {
        rectangulo = new Rectangle();
    }

    public void LoadContent(ContentManager theContentManager, string theAssetName)
    {
        textura = theContentManager.Load<Texture2D>(theAssetName);
    }

    public void Draw(SpriteBatch theSpriteBatch)
    {
        //theSpriteBatch.Draw(textura, posicion, Color.White);
        rectangulo.X = (int)this.posicion.X;
        rectangulo.Y = (int)this.posicion.Y;
        rectangulo.Width = this.textura.Width;
        rectangulo.Height = this.textura.Height;

        theSpriteBatch.Draw(textura, posicion, null, Color.White, 0f, new Vector2(0, 0), 1, SpriteEffects.None, 0);
    }
}
} 
```

在尝试运行本教程中的代码时，我首先注意到了这个问题

名为“TradeMarkNZ”的频道上的“Windows Phone 7 XNA 游戏教程第 2 集 - 绘图和物理第 1 部分 - MangoLander”（对不起，因为我是新手，所以不能发布超过 2 个链接）

**- - - - - - - - 更新 - - - - - - -**

我不确定这是这个问题的正确答案，但我只是通过添加以下行来解决它：

```
graphics.IsFullScreen = true; 
```

到 Game1 类

工作构造函数：

```
public Game1()
{
    graphics = new GraphicsDeviceManager(this);
    graphics.IsFullScreen = true;
    Content.RootDirectory = "Content";

    // Frame rate is 30 fps by default for Windows Phone.
    TargetElapsedTime = TimeSpan.FromTicks(333333);

    // Extend battery life under lock.
    InactiveSleepTime = TimeSpan.FromSeconds(1);
} 
```

在这里找到了答案：

[http://forums.create.msdn.com/forums/p/102530/627643.aspx#627643](http://forums.create.msdn.com/forums/p/102530/627643.aspx#627643)

# session - CakePHP 会话更新，但 cookie 没有过期

> ID：11304390
> 
> 赞同：4
> 
> 时间：2012-07-03T04:18:29.613
> 
> 标签：session, cakephp, cookies, session-cookies

**简短的问题：**

为什么当我的会话的到期时间在服务器上更新时，我的会话 cookie 的到期时间没有在浏览器中更新？

**长问题：**

几周前我发布了一个[类似的问题，但当时我没有所有的事实。](https://stackoverflow.com/questions/10844022/cakephp-session-not-auto-renewing)我现在有更多细节，问题的性质已经改变，所以我将它作为一个新问题发布。

首先，在 CakePHP 2 中，我为会话设置了 APP/Config/core.php：

```
 Configure::write('Session', array(
        'defaults' => 'database',
        'cookie' => 'mycookie',
        'timeout' => 1 // 1 minute - just for testing
    )); 
```

因此，我在我的应用程序中加载了一个页面，该页面在数据库中创建了会话。到目前为止一切都很好。

会话被标记为过期，`1341288066`等于`Tue, 03 Jul 2012 04:01:06 GMT`。同样，这很棒，因为那是从现在开始的 1 分钟。正是我想要的。

如果我查看 Firefox 的 cookie 屏幕，我会发现 cookie 与我预期的一样：

```
 Name: mycookie
    Content: aqm0gkmjfsuqje019at8cgsrv3
    Host: localhost
    Path: /
    Send for: Any type of connection
    Expires: Tue 03 Jul 2012 11:01:06 AM ICT  // (04:01:06 GMT) 
```

现在，在这 1 分钟的窗口内，我回到我的应用程序并刷新页面。然后，我检查会话以查看它是否已更新。它显示`1341288122`的会话 id`aqm0gkmjfsuqje019at8cgsrv3`等于`Tue, 03 Jul 2012 04:02:02 GMT`我所期望的。会话的到期时间已更新为距离我上次重新加载页面的 1 分钟。

不幸的是，浏览器中的 cookie 仍然设置为`Expires: Tue 03 Jul 2012 11:01:06 AM ICT`(ie: `04:01:06 GMT`)，这正是它所做的，这意味着下次我按下刷新时，Cake 会生成一个全新的会话 ID，即使旧的会话 ID 在技术上仍然有效。

我的问题基本上是这里发生了什么？为什么 cookie 没有在浏览器中更新为新的到期日期？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-19T10:07:40.080

您发现的问题确实出乎意料，并结束了他们应该保持活力的会话。

这是 CakePHP 如何使用 PHP 的 Session 函数的结果。CakePHP bugtracker 中有一个条目 ( [#3047](http://cakephp.lighthouseapp.com/projects/42648/tickets/3047-session-cookie-timeout-is-not-refreshed) )，Mark Story (CakePHP 开发人员)[同意](http://cakephp.lighthouseapp.com/projects/42648/tickets/3047-session-cookie-timeout-is-not-refreshed#ticket-3047-2)应该修复此问题

> 我同意 cookie 应该与存储在会话中的会话时间一起更新。然而，PHP 的会话处理内部功能并不是这样工作的。似乎有几种不同的方法可以解决此问题。

由于这将改变当前的行为（尽管它可能很奇怪），但修复被推迟到 2.3 版。

> 我认为在 PHP 之外管理 cookie 状态将是最合适的解决方案。不过，我不知道这对于现有应用程序的更改有多安全。改变会话的工作方式可能会发生巨大的变化，并且允许用户保持更长时间的登录可能不是所有开发人员所期望的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-16T14:38:55.060

这似乎是 PHP 处理会话的方式。PHP 不会在每个请求上更新 cookie（参见： http: [//php.net/manual/en/function.session-set-cookie-params.php#100672](http://php.net/manual/en/function.session-set-cookie-params.php#100672)）。CakePHP 不依赖此 cookie 中的到期时间，而是将当前时间与`Session::_validAgentAndTime()`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-04-22T03:45:51.310

这个问题可以通过结合使用这两个参数来解决。

```
Configure::write('Session', array(
    'cookie' => 'CAKEPHP',
    'defaults' => 'php',
    'timeout' => 60,                // 60 minutes: Actual Session Timeout
    'cookieTimeout' => 1440,        // 1440 minutes: 24 hrs: Actual Cookie Timeout
    'autoRegenerate' => true,
    'requestCountdown' => 1,
    'checkAgent' => false,
)); 
```

*   **autoRegenerate** : 刷新后生成 Session Cookie。重新生成会话 Cookie 的刷新计数由下一个参数确定。
*   **requestCountdown** : 保持这个参数的值尽可能低。这是刷新/重新加载的次数，之后会话 Cookie 将重新生成。

# c++ - Dev C++ 中用于 win32 程序的 drawtext 选项

> ID：11304393
> 
> 赞同：1
> 
> 时间：2012-07-03T04:19:13.250
> 
> 标签：c++, winapi

当我运行此代码时，“第一个文本”和“第二个文本”都出现在同一位置并重叠。有什么帮助吗？？

```
#include <windows.h>
LRESULT CALLBACK WndProc (HWND, UINT, WPARAM, LPARAM) ;
int WINAPI WinMain (HINSTANCE hInstance, HINSTANCE hPrevInstance,LPSTR szCmdLine, int     iCmdShow)
{
static TCHAR szAppName[] = TEXT ("My Window") ;
HWND hwnd ;
MSG msg ;
WNDCLASS wndclass ;
wndclass.style = CS_HREDRAW | CS_VREDRAW ;
wndclass.lpfnWndProc = WndProc ;
wndclass.cbClsExtra = 0 ;
wndclass.cbWndExtra = 0 ;
wndclass.hInstance = hInstance ;
wndclass.hIcon = LoadIcon (NULL, IDI_APPLICATION) ;
wndclass.hCursor = LoadCursor (NULL, IDC_ARROW) ;
wndclass.hbrBackground = (HBRUSH) COLOR_WINDOW+0;//DISPLAYS GREY BACKGROUND OF CLIENT AREA
wndclass.lpszMenuName = NULL ;
wndclass.lpszClassName = szAppName ;
if (!RegisterClass (&wndclass))
{
MessageBox (NULL, TEXT ("Window not Registered"),
szAppName, MB_ICONERROR) ;
return 0 ;
}
hwnd = CreateWindow (szAppName, // window class name
TEXT ("MC090203908"), // window caption
WS_BORDER | WS_CAPTION | WS_SYSMENU | WS_MINIMIZEBOX, // window style
CW_USEDEFAULT, // initial x position
CW_USEDEFAULT, // initial y position
400,300,
NULL, // parent window handle
NULL, // window menu handle
hInstance, // program instance handle
NULL) ; // creation parameters
ShowWindow (hwnd, iCmdShow) ;
UpdateWindow (hwnd) ;
while (GetMessage (&msg, NULL, 0, 0))
{
TranslateMessage (&msg) ;
DispatchMessage (&msg) ;
}
return msg.wParam ;
}
LRESULT CALLBACK WndProc (HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam)
{
HDC hdc ;
PAINTSTRUCT ps ;
RECT rect ;
HRGN bgRgn;
HBRUSH hBrush;
HPEN hPen;
switch (message)
{
case WM_PAINT:
hdc = BeginPaint (hwnd, &ps) ;
GetClientRect (hwnd, &rect) ;
DrawText (hdc, TEXT ("First text"), -1, &rect,DT_LEFT|DT_TOP) ;
DrawText (hdc, TEXT ("SECOND text"), -1, &rect,DT_LEFT) ;
EndPaint (hwnd, &ps) ;
return 0 ;
case WM_DESTROY:
PostQuitMessage (0) ;
return 0 ;
}
return DefWindowProc (hwnd, message, wParam, lParam) ;
} 
```

我希望第二个文本出现在第二行和窗口的左侧

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-11T12:32:53.190

这是因为你让它们相互重叠。（我认为）这是默认的，如果没有为 c++ 指定将文本放在左上角。我建议将传递给第二个 DrawText() 的矩形重新映射到下面的东西。

```
DrawText (hdc, TEXT ("First text"), -1, &rect,DT_LEFT|DT_TOP) ;
rect.top = 24;  // 24 pixels below
DrawText (hdc, TEXT ("SECOND text"), -1, &rect,DT_LEFT) ;
rect.top = 0;   // change it back to 0, so the rect will be just as before 
```

testet 和作品 ;)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:43:25.727

我建议使用资源文件（.rc）而不是绘画，如果不密切关注绘画可能会很危险。DT_TOP 对我来说听起来像是一个 z-sort 标志而不是 ax/y 位置，因此将“第一个文本”与“第二个文本”重叠，因为它们都被分配了 DT_LEFT 标志（这使它们在窗口上具有相同的位置。）

使用 .rc 文件更容易，因为您可以指定它们是窗口上的精确坐标。而且它们更加稳定。

这是我从以下位置学习 win32 的地方：http: [//www.winprog.org/tutorial/](http://www.winprog.org/tutorial/)

我强烈建议通过它。

# java - 如何在 webapp 中实际连接事物

> ID：11304398
> 
> 赞同：0
> 
> 时间：2012-07-03T04:19:51.927
> 
> 标签：java, tomcat

这可能是一个非常愚蠢的问题，但我对网络编程完全陌生，而且互联网在这方面已经证明异常无益......

## 我的背景（技术上没有必要阅读；尽管这个问题可能比没有这个问题更容易回答）：

我对 Java 非常熟悉，并且在我的大部分工作中都使用 Eclipse。我很自信我可以做，或者很容易弄清楚如何做，任何我想用 MySQL、HTML 和 CSS 做的事情。而且，虽然我没有做过很多 JavaScript，但我并不特别害怕它。

我有一个 Apache Tomcat 服务器，并且已经编辑了默认 JSP 以显示我希望它显示的内容，并且我确信我可以编写 JavaScript 以将其上的表单发回服务器，但我的问题是我不知道如何让服务器接收表单信息，或者如何让它响应页面。我也不知道如何让它与数据库通信。虽然我对套接字级别的网络编程有一点经验，但这……不是那样的。

互联网上的资源非常接近帮助我弄清楚如何真正完成我想要完成的事情（我听说过关于 Jetty 和 Tapestry 的好消息），但我一直遇到的障碍是没有似乎没有任何关于这方面的教程，而且那些确实存在的教程往往会掩盖我目前水平的东西，因为他们假设任何阅读他们的文档的人都已经编写了一个 webapp。

（我已经阅读了许多官方的 Java 教程；奇怪的是，这个主题被跳过了。所以，我可以编写一个小程序或一个 webstart 应用程序，但是......）

## 我的问题：

如何让我的 Tomcat 服务器与数据库通信，并从用户那里操作 HTTP POST 和 GET？有谁知道任何关于编写 Web 应用程序主题的既清晰又深入的教程？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:51:39.547

我觉得这个很好

[http://www.servletworld.com/servlet-tutorials/j2ee-web-development-overview.html](http://www.servletworld.com/servlet-tutorials/j2ee-web-development-overview.html)

# c# - 根据单词的一部分对数据进行排序

> ID：11304399
> 
> 赞同：0
> 
> 时间：2012-07-03T04:19:53.773
> 
> 标签：c#, .net, winforms, string, algorithm

我有一个字符串数组，我想根据单词的部分对其进行排序。例如，如果我将“comp”作为搜索词，它会按以“comp”开头的降序对数组进行排序，例如“compare”、“composition”、“computer”等。其余的词do not match 要么单独放置，要么按字母顺序排序（以更容易的为准）。

话虽如此，我可以用什么算法来解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T04:29:08.053

这将选择您需要的单词并仅对这些单词进行排序：

```
var sortedWords = words.Where(x => x.Contains("comp"))
                       .OrderByDescending(x => x); 
```

# c# - 如何解析 HTML 或将 HTML 转换为 XML，以便我从网站中提取信息（在 C# 中）

> ID：11304400
> 
> 赞同：3
> 
> 时间：2012-07-03T04:20:00.757
> 
> 标签：c#, html, xml

> **可能重复：**
> [在 C# 中解析 html 的最佳方法是什么？](https://stackoverflow.com/questions/56107/what-is-the-best-way-to-parse-html-in-c)

有没有办法解析 HTML 或将 HTML 转换为 XML，以便我轻松地从网站中提取信息？

我正在使用 C#。

谢谢，

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-03T04:24:29.407

[HTMLAgilityPack](http://html-agility-pack.net/?z=codeplex)是您正在寻找的。查看本教程[使用 HTMLAgilityPack 解析 HTML 文档](http://www.4guysfromrolla.com/articles/011211-1.aspx)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-03T05:01:52.687

您可以使用其中的 COM 对象`Microsoft HTML Object Library`来加载 HTML，然后使用它的对象模型进行导航。一个例子如下所示：

```
string html;
WebClient webClient = new WebClient();
using (Stream stream = webClient.OpenRead(new Uri("http://www.google.com")))
using (StreamReader reader = new StreamReader(stream))
{
  html = reader.ReadToEnd();
}
IHTMLDocument2 doc = (IHTMLDocument2)new HTMLDocument();
doc.write(html);
foreach (IHTMLElement el in doc.all)
  Console.WriteLine(el.tagName); 
```

# android - 如何同时比较两个列表中的选定项目..并对其进行操作？

> ID：11304409
> 
> 赞同：0
> 
> 时间：2012-07-03T04:20:36.347
> 
> 标签：android, android-layout, exception-handling

我是 android....我有两个 listviews 我想从每个列表中选择一个项目并从这两个 listviews 中选择一个项目...我尝试了 listview.setonselecteditemlistener 但每次我尝试加载时都会出错它....

```
here is program........

package com.a2zunitconverter.miniproject;

import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ArrayAdapter;
import android.widget.EditText;
import android.widget.ListView;

public class lenght extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.lenght);  
    double var1;
    double var2;
        final EditText query=(EditText)findViewById(R.id.lquery);
        final EditText result=(EditText)findViewById(R.id.lresult);
    var1=Double.parseDouble(query.getText().toString());
    final ListView listfrom=(ListView)findViewById(R.id.listfrom);
    final ListView listto=(ListView)findViewById(R.id.listto);
   String[] quantity={"Meter","Inches","Feet","Yard"};
    ArrayAdapter<String> adapter;
    adapter=new ArrayAdapter<String>(this,android.R.layout.simple_list_item_1,quantity);
    listfrom.setAdapter(adapter);
    listto.setAdapter(adapter);
    listfrom.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
                long arg3) {
            // TODO Auto-generated method stub
            if (listfrom.getSelectedItem()=="Meter" && listto.getSelectedItem()=="Inches");{
                result.setText("" + query);
            }
        }
    });
}

} 
```

# hibernate - 在 Jboss 的接缝 2.2.2 中使用休眠作为 7.1.1 时出错

> ID：11304416
> 
> 赞同：0
> 
> 时间：2012-07-03T04:22:25.700
> 
> 标签：hibernate, jboss, seam, stack-trace

请我将我的 seam2.2.2 应用程序部署到 Jboss As 7.1.1。应用部署成功。但是当我尝试在应用程序中使用数据库资源时。我在下面的堆栈跟踪中收到以下错误

```
04:57:48,722 WARN  [org.jboss.seam.security.jaas.SeamLoginModule] (http--127.0.0.1-           8080-2) Error invoking login method: org.jboss.seam.InstantiationException: Could not     instantiate Seam component: authenti
cator
            at org.jboss.seam.Component.newInstance(Component.java:2170) [jboss-seam.jar:2.2.2.Final]
            at org.jboss.seam.Component.getInstance(Component.java:2024) [jboss-seam.jar:2.2.2.Final]
                    at org.jboss.seam.Component.getInstance(Component.java:1986) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.Component.getInstance(Component.java:1980) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.Namespace.getComponentInstance(Namespace.java:55) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.Namespace.getComponentInstance(Namespace.java:50) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.el.SeamELResolver.resolveBase(SeamELResolver.java:148) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.el.SeamELResolver.getValue(SeamELResolver.java:51) [jboss-seam.jar:2.2.2.Final]
        at com.sun.faces.el.DemuxCompositeELResolver._getValue(DemuxCompositeELResolver.java:173) [jsf-impl-1.2_15-jbossorg-2.jar:1.2_15.jbossorg-1-20111019-SNAPSHOT]
        at com.sun.faces.el.DemuxCompositeELResolver.getValue(DemuxCompositeELResolver.java:200) [jsf-impl-1.2_15-jbossorg-2.jar:1.2_15.jbossorg-1-20111019-SNAPSHOT]
        at org.jboss.el.parser.AstIdentifier.getValue(AstIdentifier.java:44) [jboss-el.jar:1.0_02.CR5]
        at org.jboss.el.parser.AstValue.getTarget(AstValue.java:34) [jboss-el.jar:1.0_02.CR5]
        at org.jboss.el.parser.AstValue.invoke(AstValue.java:95) [jboss-el.jar:1.0_02.CR5]
        at org.jboss.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:276) [jboss-el.jar:1.0_02.CR5]
        at org.jboss.seam.core.Expressions$2.invoke(Expressions.java:221) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.security.jaas.SeamLoginModule.login(SeamLoginModule.java:109) [jboss-seam.jar:2.2.2.Final]
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_04]
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_04]
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_04]
        at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_04]
        at javax.security.auth.login.LoginContext.invoke(LoginContext.java:784) [rt.jar:1.7.0_04]
        at javax.security.auth.login.LoginContext.access$000(LoginContext.java:203) [rt.jar:1.7.0_04]
        at javax.security.auth.login.LoginContext$5.run(LoginContext.java:721) [rt.jar:1.7.0_04]
        at javax.security.auth.login.LoginContext$5.run(LoginContext.java:719) [rt.jar:1.7.0_04]
        at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_04]
        at javax.security.auth.login.LoginContext.invokeCreatorPriv(LoginContext.java:718) [rt.jar:1.7.0_04]
        at javax.security.auth.login.LoginContext.login(LoginContext.java:590) [rt.jar:1.7.0_04]
        at org.jboss.seam.security.Identity.authenticate(Identity.java:344) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.security.Identity.authenticate(Identity.java:332) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.security.Identity.login(Identity.java:259) [jboss-seam.jar:2.2.2.Final]
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_04]
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_04]
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_04]
        at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_04]
        at org.jboss.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:335) [jboss-el.jar:1.0_02.CR5]
        at org.jboss.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:348) [jboss-el.jar:1.0_02.CR5]
        at org.jboss.el.parser.AstPropertySuffix.invoke(AstPropertySuffix.java:58) [jboss-el.jar:1.0_02.CR5]
        at org.jboss.el.parser.AstValue.invoke(AstValue.java:96) [jboss-el.jar:1.0_02.CR5]
        at org.jboss.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:276) [jboss-el.jar:1.0_02.CR5]
        at com.sun.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:68) [jsf-facelets.jar:1.1.15.B1]
        at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88) [jsf-api-1.2_15-jbossorg-2.jar:1.2_15.jbossorg-1-20111019-SNAPSHOT]
        at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102) [jsf-impl-1.2_15-jbossorg-2.jar:1.2_15.jbossorg-1-20111019-SNAPSHOT]
        at javax.faces.component.UICommand.broadcast(UICommand.java:387) [jsf-api-1.2_15-jbossorg-2.jar:1.2_15.jbossorg-1-20111019-SNAPSHOT]
        at org.ajax4jsf.component.AjaxViewRoot.processEvents(AjaxViewRoot.java:329) [richfaces-impl.jar:3.3.3.Final]
        at org.ajax4jsf.component.AjaxViewRoot.broadcastEventsForPhase(AjaxViewRoot.java:304) [richfaces-impl.jar:3.3.3.Final]
        at org.ajax4jsf.component.AjaxViewRoot.processPhase(AjaxViewRoot.java:261) [richfaces-impl.jar:3.3.3.Final]
        at org.ajax4jsf.component.AjaxViewRoot.processApplication(AjaxViewRoot.java:474) [richfaces-impl.jar:3.3.3.Final]
        at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:82) [jsf-impl-1.2_15-jbossorg-2.jar:1.2_15.jbossorg-1-20111019-SNAPSHOT]
        at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:100) [jsf-impl-1.2_15-jbossorg-2.jar:1.2_15.jbossorg-1-20111019-SNAPSHOT]
        at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118) [jsf-impl-1.2_15-jbossorg-2.jar:1.2_15.jbossorg-1-20111019-SNAPSHOT]
        at javax.faces.webapp.FacesServlet.service(FacesServlet.java:265) [jsf-api-1.2_15-jbossorg-2.jar:1.2_15.jbossorg-1-20111019-SNAPSHOT]
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]
        at org.jboss.seam.servlet.SeamFilter$FilterChainImpl.doFilter(SeamFilter.java:83) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.web.IdentityFilter.doFilter(IdentityFilter.java:40) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.servlet.SeamFilter$FilterChainImpl.doFilter(SeamFilter.java:69) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.web.MultipartFilter.doFilter(MultipartFilter.java:90) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.servlet.SeamFilter$FilterChainImpl.doFilter(SeamFilter.java:69) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.web.ExceptionFilter.doFilter(ExceptionFilter.java:64) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.servlet.SeamFilter$FilterChainImpl.doFilter(SeamFilter.java:69) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.web.RedirectFilter.doFilter(RedirectFilter.java:45) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.servlet.SeamFilter$FilterChainImpl.doFilter(SeamFilter.java:69) [jboss-seam.jar:2.2.2.Final]
        at org.ajax4jsf.webapp.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:206) [richfaces-impl.jar:3.3.3.Final]
        at org.ajax4jsf.webapp.BaseFilter.handleRequest(BaseFilter.java:290) [richfaces-impl.jar:3.3.3.Final]
        at org.ajax4jsf.webapp.BaseFilter.processUploadsAndHandleRequest(BaseFilter.java:388) [richfaces-impl.jar:3.3.3.Final]
        at org.ajax4jsf.webapp.BaseFilter.doFilter(BaseFilter.java:515) [richfaces-impl.jar:3.3.3.Final]
        at org.jboss.seam.web.Ajax4jsfFilter.doFilter(Ajax4jsfFilter.java:56) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.servlet.SeamFilter$FilterChainImpl.doFilter(SeamFilter.java:69) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.web.LoggingFilter.doFilter(LoggingFilter.java:60) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.servlet.SeamFilter$FilterChainImpl.doFilter(SeamFilter.java:69) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.web.HotDeployFilter.doFilter(HotDeployFilter.java:53) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.servlet.SeamFilter$FilterChainImpl.doFilter(SeamFilter.java:69) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.servlet.SeamFilter.doFilter(SeamFilter.java:158) [jboss-seam.jar:2.2.2.Final]
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280) [jbossweb-7.0.13.Final.jar:]
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [jbossweb-7.0.13.Final.jar:]
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [jbossweb-7.0.13.Final.jar:]
        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:397) [jbossweb-7.0.13.Final.jar:]
        at org.jboss.as.jpa.interceptor.WebNonTxEmCloserValve.invoke(WebNonTxEmCloserValve.java:50) [jboss-as-jpa-7.1.1.Final.jar:7.1.1.Final]
        at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final]
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) [jbossweb-7.0.13.Final.jar:]
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [jbossweb-7.0.13.Final.jar:]
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [jbossweb-7.0.13.Final.jar:]
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368) [jbossweb-7.0.13.Final.jar:]
        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [jbossweb-7.0.13.Final.jar:]
        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671) [jbossweb-7.0.13.Final.jar:]
        at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930) [jbossweb-7.0.13.Final.jar:]
        at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_04]
Caused by: java.lang.RuntimeException: exception invoking: getSession
        at org.jboss.seam.util.Reflections.invokeAndWrap(Reflections.java:154) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.Component.callComponentMethod(Component.java:2275) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.Component.unwrap(Component.java:2301) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.Component.getInstance(Component.java:2044) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.Component.getInstance(Component.java:1986) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.Component.getInstance(Component.java:1980) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.Component.getInstanceInAllNamespaces(Component.java:2375) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.Component.getValueToInject(Component.java:2327) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.Component.injectAttributes(Component.java:1739) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.Component.inject(Component.java:1557) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.core.BijectionInterceptor.aroundInvoke(BijectionInterceptor.java:61) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.intercept.SeamInvocationContext.proceed(SeamInvocationContext.java:68) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.core.MethodContextInterceptor.aroundInvoke(MethodContextInterceptor.java:44) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.intercept.SeamInvocationContext.proceed(SeamInvocationContext.java:68) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.intercept.RootInterceptor.invoke(RootInterceptor.java:107) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.intercept.JavaBeanInterceptor.interceptInvocation(JavaBeanInterceptor.java:185) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.intercept.JavaBeanInterceptor.invoke(JavaBeanInterceptor.java:103) [jboss-seam.jar:2.2.2.Final]
        at org.domain.lifeplus1.session.Authenticator_$$_javassist_seam_5.init(Authenticator_$$_javassist_seam_5.java)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_04]
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_04]
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_04]
        at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_04]
        at org.jboss.seam.util.Reflections.invoke(Reflections.java:22) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.util.Reflections.invokeAndWrap(Reflections.java:144) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.Component.callComponentMethod(Component.java:2275) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.Component.callCreateMethod(Component.java:2198) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.Component.newInstance(Component.java:2158) [jboss-seam.jar:2.2.2.Final]
        ... 87 more
Caused by: java.lang.reflect.InvocationTargetException
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_04]
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_04]
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_04]
        at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_04]
        at org.jboss.seam.util.Reflections.invoke(Reflections.java:22) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.util.Reflections.invokeAndWrap(Reflections.java:144) [jboss-seam.jar:2.2.2.Final]
        ... 113 more
Caused by: java.lang.NoSuchMethodError: org.hibernate.SessionFactory.openSession()Lorg/hibernate/classic/Session;
        at org.jboss.seam.persistence.ManagedHibernateSession.initSession(ManagedHibernateSession.java:82) [jboss-seam.jar:2.2.2.Final]
        at org.jboss.seam.persistence.ManagedHibernateSession.getSession(ManagedHibernateSession.java:118) [jboss-seam.jar:2.2.2.Final]
        ... 119 more 
```

请问有什么我做错了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T10:26:13.377

检查此链接[https://community.jboss.org/blogs/marek-novotny/2011/07/29/seam-2-booking-example-on-jboss-as-7](https://community.jboss.org/blogs/marek-novotny/2011/07/29/seam-2-booking-example-on-jboss-as-7)

如果可能的话，您可以将 seam 升级到 2.3 版，该版本可以很好地与 jboss 7 配合使用

# linux - 如何告诉 wget 只下载特定路径中的文件

> ID：11304418
> 
> 赞同：0
> 
> 时间：2012-07-03T04:22:34.763
> 
> 标签：linux, wget

我正在尝试下载网站的内容，但由于该网站的语言不止一种，我遇到了问题。该网站的结构如下：

```
Mysite.com
fr.Mysite.com
ar.Mysite.com
... 
```

我只想下载阿拉伯语域 (ar.Mysite.com) 中的文件，但使用 -r 选项它还会下载其他语言的内容。我怎么能说 wget 递归下载文件，而只是特定域中的文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T04:29:11.243

如果我理解这个问题，该`--no-parent`选项可以满足您的需求。它将查询限制在原始 URL 指定的“目录”下的查询。

# php - 使用 mySQL 更新 1000 行的最有效方法？

> ID：11304419
> 
> 赞同：1
> 
> 时间：2012-07-03T04:22:44.070
> 
> 标签：php, mysql, leaderboard

我正在做一个项目，到目前为止有 7000 多行排行榜数据，其中包含名称、id、分数和排名。它在不断扩展，我目前遇到了一个问题，即每次有人发布新分数时尝试更新所有内容后服务器超时。

目前，我正在使用 PDO 和一个结合了循环执行（）调用的查询。是否有更快的方法来执行此操作（可能在单个 mySQL 查询中）？或者，您对如何处理更新排行榜有什么建议吗？

```
 $stmt = $dbh->prepare("SELECT * FROM high_scores ORDER BY score DESC");
    $stmt->execute();

    $stmt->setFetchMode(PDO::FETCH_ASSOC);
    $results = $stmt->fetchAll();

    //

    $numItems = count($results);

    // is this OK or a no-no?

    try {

        $stmt = $dbh->prepare("UPDATE high_scores SET rank = :rank WHERE uid = :uid");

        for($i=0; $i<$numItems; $i++){
            $rank = $i + 1;
            $uid = $results[$i]['uid'];
            $stmt->execute(array(':rank' => $rank, ':uid' => $uid));
        }

        return true;

    } catch (PDOException $e) {
        echo($e->getMessage()); 
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T07:33:52.703

为什么需要存储排名？那是一种非规范化形式，您真的需要它还是因为预期需要它而实施了该步骤？

例如，请参阅此解决方案：

[http://thinkdiff.net/mysql/how-to-get-rank-using-mysql-query/](http://thinkdiff.net/mysql/how-to-get-rank-using-mysql-query/)

也许试试这如何执行？

此外，如果您看到他制作的示例，您可以在查询中使用变量。这也将允许您将此更新语句组合在一个查询中。循环中的查询是一个很难的查询，不幸的是，它甚至几乎不会真正有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:32:28.240

我认为您可以通过一个查询来完成所有这些操作，例如

```
UPDATE high_scores a SET rank = (SELECT count(uid) + 1 FROM high_scores b WHERE b.score > a.score) ORDER BY score DESC 
```

不幸的是，我现在没有可用的 MySQL 来尝试这个，所以如果这根本不可行，我将删除它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T05:04:58.623

快速搜索一下 mysql 的“CASE”。

不过，您很可能会在这里找到答案：[Stackoverflow #9346755](https://stackoverflow.com/questions/9346755/update-multiple-rows-in-1-column-in-mysql)

本质上，你有一个 SQL 行，它有它自己的“内部 switch 语句”。当给定字段具有特定值时，您只需要告诉它要做什么。例如。在上面的链接中，它说..

```
When `id` is 1, then set the value to 12\. 
When `id` is 2, then set the value to 42\. 
etc. 
```

您唯一关心的可能是 7000 多行。

但是，使用 PHP，我将数据保存在一个数组中，然后使用 array_slice()，一次获取 200/300 条记录，设置 SQL 行，然后执行。然后获取接下来的 200/300 条记录并重复，直到到达 PHP 数组的末尾。

**编辑：** 但请记住，上述内容仅在您基于另一个字段（例如键）更新一个字段时才有效。

# json - grails 使用 REST API 构建 Web 界面

> ID：11304420
> 
> 赞同：2
> 
> 时间：2012-07-03T04:22:52.573
> 
> 标签：json, rest, grails

我对 Grails 还很陌生，我对如何进行有一些疑问。

我有一个 REST API，我将使用它来检索数据，例如：

```
http://localhost/api/data/list 
```

这给出了这个结果：

```
{"data":[{"col1":"blabla","col2":0},{"col1":"moreblabla","col2":1}]} 
```

我想使用 Grails 为这些数据构建一个界面（显示、编辑、添加、删除）

我应该创建一个名为 Data 的域吗？

如何告诉 Grails 使用 REST API 而不是数据库？

我真的一无所知，所以我希望你能照亮道路；）

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T15:14:07.467

Grails 当前没有用于将 REST 端点用作持久性存储的 GORM 插件。[这是计划中的功能，但要到今年晚些时候](http://grails.org/Roadmap)（2012 - 第四季度）才能实现。

话虽如此，您可以编写一个服务，允许您对对象执行基本的 CRUD 操作，并从您的 REST 端点获取/持久化。开始的地方是[HttpBuilder](http://groovy.codehaus.org/HTTP+Builder)，也许还有[REST 客户端插件](http://grails.org/plugin/rest)。

# c# - Making a simple database-like program with C#/WPF

> ID：11304424
> 
> 赞同：0
> 
> 时间：2012-07-03T04:23:03.653
> 
> 标签：c#, wpf, data-binding

I'm working on making a small independent game, and I've reached the point where I'm storing data in XML files, and I'd like to be allow the non-programmers on my team to edit them easily via a GUI, which I'd like to put together with WPF and C#.

I have plenty of experience with C#, but barely any with WPF.

The program would have the following class:

```
class Foo {
    public string Name;
    public int Age;

    public Foo(string name, int age) {
        Name = name;
        Age = age;
    }
} 
```

And the "database" would just be a

```
public List<Foo> FooList = new List<Foo>(); 
```

What I'd like to make, simplified, is a window with a ListBox on the left side, with "add" and "delete" buttons beneath it (to add and delete items to and from the FooList). The ListBox should have all of the entries in FooList (displaying their Name). On the right side of the window should be a field for Name and Age, and probably some kind of "Save" button.

Now, I could hack this together myself, and I was just about to, when I learned about the existence of data binding. I have no idea how it works (other than that it seems to let you bind controls to variables or something), but it seems like it would make making this a lot easier, right?

I apologize in advance if this seems like too much of a "do everything for me"-type question. I barely know WPF at all, like I said earlier, but I can, for example, handle the serialization and file saving parts myself. I just have no clue how data binding works and how to implement it into my situation (assuming this is even what I want to do).

Thanks in advance!

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T04:31:37.123

Here's Microsoft's official WPF databinding tutorial. There's a lot here. And there are many similar tutorials all over the intertubes waiting for you just a google search away. [http://msdn.microsoft.com/en-us/library/ms752347.aspx](http://msdn.microsoft.com/en-us/library/ms752347.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:28:34.007

Simple answer, use XML Notepad to edit XML. It's lightweight enough for non programmers.

[http://www.microsoft.com/en-us/download/details.aspx?id=7973](http://www.microsoft.com/en-us/download/details.aspx?id=7973)

# java - 在java中发送输入，就像按下按钮一样

> ID：11304428
> 
> 赞同：0
> 
> 时间：2012-07-03T04:23:41.440
> 
> 标签：java, input, keyboard, on-screen-keyboard

我正在尝试制作一个程序，如果你按下一个按钮，它会向计算机发送一条消息，就好像按下了键盘上的一个按钮，有点像电脑的屏幕键盘，或者类似的东西。我如何告诉程序这样发送“消息”？我需要使用扫描仪吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T04:39:09.543

为此，您可以使用 Java Robot 类。 [http://docs.oracle.com/javase/1.5.0/docs/api/java/awt/Robot.html](http://docs.oracle.com/javase/1.5.0/docs/api/java/awt/Robot.html) 例如：

```
Robot robot = new Robot();
robot.keyPress(KeyEvent.VK_A);
robot.keyPress(KeyEvent.VK_C); 
```

# twitter-bootstrap - Bootstrap 选择的自定义样式

> ID：11304430
> 
> 赞同：8
> 
> 时间：2012-07-03T04:23:51.573
> 
> 标签：twitter-bootstrap

我发现选择 Twitter Bootstrap 的下拉菜单非常难看，我怎样才能只为选择小部件停​​用 Bootstrap？或者是否可以自定义选择下拉列表的外观？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-11-12T12:55:17.037

看看： [https ://developer.snapappointments.com/bootstrap-select/](https://developer.snapappointments.com/bootstrap-select/)

您可以通过不同的类更改下拉按钮的颜色。如果你想要另一种颜色，只需在 css 中覆盖它。例如：

```
.btn {
    background-color: #FFF;
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-03T13:39:08.293

您可以通过简单地添加自己的样式来覆盖 css 样式，例如：

```
select {
   background: #333333;
} 
```

这是一个非常基本的示例，但它只是说明如何根据自己的喜好自定义它的示例。

# c++ - 错误 c2056：未声明的标识符

> ID：11304432
> 
> 赞同：0
> 
> 时间：2012-07-03T04:23:59.827
> 
> 标签：c++, visual-studio-2010

所以这显然不是真正的错误，但我不知道实际错误是什么，因为症状是如此模糊。我将在此处包含文件，你们告诉我您认为它可能在哪里以及是什么导致了未声明的标识符错误。

`system.h(66): error C2065: 'EntityManager' : undeclared identifier`

系统.h

```
/*******************************************************************************
filename: System.h

Author:

Date: November 13, 2010

********************************************************************************/

#ifndef SYSTEM_H
#define SYSTEM_H

#include <string>
#include <memory>

//The interfaces for the framework elements.
#include "I_OS.h"
#include "I_Graphics.h"

//The derived interface elements tailored to the platform.
#include "Windows_module.h"
#include "D3D11_module.h"
#include "EntityManager.h"

// ** AUTHOR NOTE ** temporary until ini file reading is implemented
#define FULL_SCREEN false

/*******************************************************************************
Purpose: 
This will be the central object that is responsible for containing and 
systematically initializing, updating per frame, and shutting down ALL the objects 
responsible for the various internal workings of the framework. This will also 
serve as the nexus for all external entities to retrieve data, interface with engine 
elements, as well as interfacing between eachother.
********************************************************************************/

class System 
{
public:

    /* All framework elements and interfaces contain an Initialization context to be
    created outside, filled out, and passed into the Initalize function. This is to
    maintain polymorphic similar function declarations, while still having variable
    parameters */

    class InitializeContext
    {
    public:
        HINSTANCE hinstance;
    };

    System();
    ~System();

    bool Initialize(InitializeContext &);
    void Run();
    void Shutdown();

public:

    //pointer declarations of interface types for each framework element
    std::shared_ptr<I_OS> m_os;
    std::shared_ptr<I_Graphics> m_graphics;
    std::shared_ptr<EntityManager> m_EntityManager;
};

/* This will be the global pointer that all entities will use to access the
public interface pointers to the entire framework.

** AUTHOR NOTE ** : all entities should refer to the interfaces, and non platform
specific elements to maintain crossplatform compatibility, (if it can be avoided)*/
extern std::shared_ptr<System> g_System;

#endif 
```

实体管理器.h

```
/*******************************************************************************
filename: EntityManager.h

Author: 

Date: October 27, 2011

********************************************************************************/

#ifndef ENTITY_MANAGER_H
#define ENTITY_MANAGER_H

#include <vector>
#include <map>
#include <fstream>
#include <memory>
#include "EntityBase.h"
#include "EntityList.h"

/*******************************************************************************
Purpose:
This wil be the object responsible for managing and updating all the various Entities
currently rendered in a scene. It reads from a scene file and dynamically creates instances
of the objects listed to be stored in a vector. these objects can be accessed individually
by either index or unique string identifier, or you can obtain a vector that contains
objects of the same class type. 
********************************************************************************/
class EntityManager
{
public:
    bool Initialize();
    bool Frame();
    void Shutdown();

private:
    BaseFactory m_factory;
    std::vector <std::shared_ptr<BaseEntity> > m_EntityList;
    std::map<std::string, std::shared_ptr<BaseEntity> > m_EntityByNameList;
    std::map<std::string, std::vector<std::shared_ptr<BaseEntity> > > m_EntityByClassList;
};

#endif 
```

那么这些导致 EntityManager 未声明有什么问题吗？这是输出中唯一的错误。认为您需要更多文件，我会包含它们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:09:11.053

这通常是由头文件的循环包含引起的。在您的情况下，它看起来像`EntityBase.h`or 或`EntityList.h`包括`System.h`. 解决这个问题的最简单方法是`#include "EntityManager.h"`从. 请注意，您需要在.`System.h``class EntityManager;``system.h``#include "EntityManager.h"``system.cpp`

# android - 使用 Post 的 Android 登录表单

> ID：11304439
> 
> 赞同：1
> 
> 时间：2012-07-03T04:24:31.667
> 
> 标签：android, post, http-post

我正在尝试创建对以下 api 的发布请求：

[consumer.api.mobdev.machies.com](http://consumer.api.mobdev.machies.com)

为了做到这一点，我编写了以下代码：

```
 HttpPost httpPost = new HttpPost("http://consumer.api.mobdev.machies.com/v3/logins");

    try {
        // Add user name and password
     EditText uname = (EditText)findViewById(R.id.username);
     String username = uname.getText().toString();

     EditText pword = (EditText)findViewById(R.id.password);
     String password = pword.getText().toString();

        List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(3);
        nameValuePairs.add(new BasicNameValuePair("grant_type","password"));
        nameValuePairs.add(new BasicNameValuePair("username", username));
        nameValuePairs.add(new BasicNameValuePair("password", password));
        httpPost.setHeader("Host","http://consumer.api.mobdev.machies.com");
        httpPost.setHeader("Content-Type","application/xml");
        httpPost.setHeader("Accept-Language","en-US");
                    httpPost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

        // Execute HTTP Post Request
        Log.w("Post", "Execute HTTP Post Request");
        HttpResponse response = httpclient.execute(httpPost);

        String str = inputStreamToString(response.getEntity().getContent()).toString(); 
```

str 指的是我得到的响应。在 logcats 中打印它后，我收到以下回复说主机名无效。我在代码中输入的主机名有问题吗？请帮助，因为我是使用休息风格 api 的新手

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T05:04:59.943

可能在这里使用 HttpClient 它可以帮助你

```
 HttpClient httpClient = new DefaultHttpClient();
    HttpPost httpPost = new HttpPost(strUrl);
    if (mHeader != null) {
        for (Header header : mHeader) {
            httpPost.addHeader(header);
        }
    }
    try {
        MultipartEntity entity = new MultipartEntity(HttpMultipartMode.BROWSER_COMPATIBLE);
        if (nameValuePair != null) {
            ContentBody cb;
            for(NameValuePair value: nameValuePair){
                cb =  new StringBody(value.getValue(),"", null);
                entity.addPart(value.getName(), cb);
            }
        }
        if(filepath != null && filepath.length() > 0){
            File f = new File(filepath);
            entity.addPart("uploadedfile", new FileBody(f));
        }
        httpPost.setEntity(entity);

        HttpResponse httpResponse = httpClient.execute(httpPost);
        response = EntityUtils.toString(httpResponse.getEntity());
    } catch (ClientProtocolException e) {
        e.printStackTrace();
        //Display();

    } catch (IOException e) {
        e.printStackTrace();
        //Display();            
    }

    if (mIsProgress)
        progress.dismiss();
    return response;
} 
```

# python - 使用 Windows 身份验证从 pyodbc 连接到 MS-SQL

> ID：11304445
> 
> 赞同：0
> 
> 时间：2012-07-03T04:25:32.420
> 
> 标签：python, sql-server, odbc, windows-authentication, pyodbc

我正在尝试使用 pyodbc 连接到 MSSQL 服务器。我可以连接到服务器并使用基本身份验证模式查询它：

```
connection = pyodbc.connect("DRIVER={Easysoft ODBC-SQL Server};SERVER=192.168.2.119;DATABASE=dbame;UID=**;PWD=****") 
```

也可以使用带有参数的 Windows 身份验证来连接到 MSSQL

```
DOMAIN
USERNAME
PASSWORD 
```

我不知道如何使用来自 pyodbc 的这种凭据连接到 MSSQL Server。

此外，我使用的 ODBC 驱动程序（Easysoft ODBC-SQL Server）需要许可。我们不是免费获得这样的驱动程序吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T09:13:46.290

使用 NTLM 身份验证的 Easysoft SQL Server 驱动程序参数是

Trusted_Domain=<域名>
NTLMv2=是|否
Trusted_Connection=是|否

和 UID、PWD 一样。

NTLM 也可以简单地使用看起来像的 UID 来触发

域\用户

如果要使用Kerberous，可以设置如下

服务器SPN=SPN

它是驱动程序的所有用户指南

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T10:54:26.717

> 连接 = pyodbc.connect("DRIVER={Easysoft ODBC-SQL Server};SERVER=192.168.2.119;DATABASE=dbame;UID= **;PWD=**** ")

连接的字符串部分就是所谓的 DSN-Less 连接，因此您可以传入任何所需的属性，例如：-

connection = pyodbc.connect("DRIVER={Easysoft ODBC-SQL Server};SERVER=192.168.2.119;DATABASE=dbame;UID=MyWindowsUserName;PWD=MyPassword;Trusted_Domain=MyWindowsDomainName;Trusted_Connection=1")

Trusted_Connection = 1 告诉 Easysoft 驱动程序您打算使用 Trusted_Domain、用户 (UID) 和密码 (PWD) 登录 SQL Server。

有关**[Easysoft ODBC-SQL Server 驱动程序](http://www.easysoft.com/products/data_access/odbc-sql-server-driver/index.html)**中所有可用属性的完整列表，请阅读手册的**[属性](http://www.easysoft.com/products/data_access/odbc-sql-server-driver/manual/configuration.html#869916)**部分。

# android - 为什么我的活动泄漏？

> ID：11304450
> 
> 赞同：2
> 
> 时间：2012-07-03T04:26:30.847
> 
> 标签：android, broadcastreceiver, android-activity, android-lifecycle

我有一个具有 IntentFilter 和 BroadcastReceiver 的 Activity，我将它们注册到我的`onCreate()`.

```
IntentFilter filter = new IntentFilter(ACTION_RCV_MESSAGE);
filter.addCategory(Intent.CATEGORY_DEFAULT);
receiver = new MessageReceiver();
registerReceiver(receiver, filter); 
```

但是在结束我的应用程序时，Logcat 说：

> 07-03 01:38:19.567: ERROR/ActivityThread(304): android.app.IntentReceiverLeaked: Activity com.intentservicetest5.IntentServiceTest5Activity 泄露了最初在此处注册的 IntentReceiver com.intentservicetest5.IntentServiceTest5Activity$MessageReceiver@44efe8a8。您是否错过了对 unregisterReceiver() 的调用？

但我确实有

```
public void onDestroy(Bundle savedInstanceState){
    unregisterReceiver(receiver);
} 
```

为什么我打电话时我的活动仍然泄漏`unregisterReceiver()`？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-03T04:51:00.747

根据[Activity Lifecycle](http://developer.android.com/reference/android/app/Activity.html#ActivityLifecycle)，您的应用程序`onPause()`在大多数设备（低于 Android 3.0 / API 级别 12 的任何设备）之后的任何时间都可以被终止，并且`onStop()`在任何设备上之后的任何时间都可以终止。这意味着`onDestroy()`不能保证被调用。那么，在 Activity 中注册和注销广播的最佳位置分别是`onResume()`和：`onPause()`

```
@Override
protected void onResume() {
    super.onResume();

    IntentFilter filter = new IntentFilter(ACTION_RCV_MESSAGE);
    filter.addCategory(Intent.CATEGORY_DEFAULT);
    receiver = new MessageReceiver();
    registerReceiver(receiver, filter);
}

@Override
protected void onPause() {
    super.onPause();

    unregisterReceiver(receiver);
} 
```

请注意，正如@VipalShah 指出的那样，您使用了错误的签名`onDestroy()`。这就是为什么`unregisterReceiver()`没有被调用。使用`@Override`将帮助您解决此类问题。

还要注意 和 之间的对称`onPause()`是`onResume()`有意的。如果您查看上面链接的 Activity 生命周期文章，您会发现它`onResume()`在初始启动期间被调用，而不仅仅是在从暂停中恢复时。所以你只需要在这里注册广播，而不是在`onCreate()`.

最后，请注意，为了简单起见，我使用了您的代码。实际上，您可能希望在 in 中设置 IntentFilter 和 MessageReceiver `onCreate()`，然后只需调用`registerReceiver()`in `onResume()`。

**更新：**一个更重要的注意事项。根据[实现生命周期回调](http://developer.android.com/guide/components/activities.html#ImplementingLifecycleCallbacks)：

> 这些生命周期方法的实现必须始终在执行任何工作之前调用超类实现。

这里的许多人都`super.onWhatever()`在方法的末尾而不是在开头显示调用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T04:29:42.857

**onDestroy**并不总是保证在应用程序退出时被调用。您应该尝试取消注册**onStop**或**onPause**。

此外，请确保在覆盖的方法中调用 Activity 的超类方法：

```
@Override
public void onPause() {
    unregisterReceiver(receiver);
    super.onPause();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T04:29:35.257

```
 @Override
        protected void onPause() {
            super.onPause();
            unregisterReceiver(receiver);
        } 
```

试试看`onPause()`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-03T04:43:12.950

尝试使用这个 onDestroy()

```
@Override
protected void onDestroy() {

    unregisterReceiver(receiver);

    super.onDestroy();
} 
```

# session - 单个服务器上的会话集群 Tomcat + terracotta

> ID：11304455
> 
> 赞同：0
> 
> 时间：2012-07-03T04:26:52.617
> 
> 标签：session, tomcat, terracotta

我想在单个服务器上使用 terracotta 和 2 个 tomcat 进行会话集群。我遵循以下指示：

[http://artur.ejsmont.org/blog/content/how-to-setup-terracotta-session-clustering-and-replication-for-apache-tomcat-6](http://artur.ejsmont.org/blog/content/how-to-setup-terracotta-session-clustering-and-replication-for-apache-tomcat-6)

这是我的 tc-config.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<tc:tc-config xmlns:tc="http://www.terracotta.org/config"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:schemaLocation="http://www.terracotta.org/schema/terracotta-4.xsd">
 <servers>
   <server name="nodea" host="localhost">
     <data>/home/meruvian/mydatafolder</data>
     <logs>/home/meruvian/mylogsfolder</logs>
     <l2-group-port>9530</l2-group-port>
   </server>
   <server name="nodeb" host="localhost">
     <data>/home/meruvian/mydatafolder</data>
     <logs>/home/meruvian/mylogsfolder</logs>
     <l2-group-port>9530</l2-group-port>
   </server>
 </servers>
 <clients>
   <logs>/var/log/myclientlogsfolder</logs>
       <modules>
       <module name="tim-tomcat-6.0" version="2.2.0"/>
   </modules>
 </clients>
 <application>
   <dso>
     <instrumented-classes>
       <include>
         <class-expression>*..*</class-expression>
       </include>
       <exclude>org.apache.coyote..*</exclude>
       <exclude>org.apache.catalina..*</exclude>
       <exclude>org.apache.jasper..*</exclude>
       <exclude>org.apache.tomcat..*</exclude>
     </instrumented-classes>
     <web-applications>
       <web-application>sessionapp</web-application>
     </web-applications>
    </dso>
 </application>
</tc:tc-config> 
```

然后当我尝试执行命令时：

```
/start-tc-server.sh -f ~/Terracotta/terracotta-3.6.2/tc-config.xml 
```

但我收到如下错误消息：

致命兵马俑启动异常：

```
*******************************************************************************
You have not specified a name for your Terracotta server, and there are 2 servers defined in the Terracotta configuration file. The script can not automatically choose between the following server names: nodea, nodeb. Pass the desired server name to the script using the -n flag.
******************************************************************************* 
```

是什么意思

```
<web-application>sessionapp</web-application> 
```

这是我的应用程序的上下文路径吗？

任何人都可以帮我解决这个问题，使用 tomcat + terracotta 进行集群会话？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T06:10:52.320

我绝不是兵马俑的权威，但据我所知，这里有两个问题：

1.  您指定了 2 个在 localhost 上运行的服务器，没有指定端口。两者都会尝试占用端口 9510（dso 端口），这将导致问题。您需要指定不同的 dso 端口。
2.  假设您确实修复了端口配置，您的两个服务器都在 localhost 上运行，因此 terracotta 需要知道您尝试启动的服务器。使用此命令启动 nodea：

    ```
    /start-tc-server.sh -f ~/Terracotta/terracotta-3.6.2/tc-config.xml -n nodea 
    ```

对于 nodeb 也是如此。看看是否有帮助。

# embed - Busybox rpm 脚本

> ID：11304457
> 
> 赞同：0
> 
> 时间：2012-07-03T04:27:12.317
> 
> 标签：embed, package, rpm, busybox

我正在为带有busybox的嵌入式设备而不是普通的GNU系统打包rpm。当我使用busybox安装时，它会安装模块，但甚至不尝试运行脚本。在常规系统上，它运行它们并失败（ofc，另一个版本的内核）。

问题：我哪里错了，如何解决？这是我的规范文件：

```
# The kernel version you are building for  
%define kernel 3.4.0-rc6-01292-g9b8149d  

# The name of the module you are supplying  
%define modname ktgrabber  
# The path to the module, after it is installed  
%define modpath /lib/modules/%{kernel}/kernel/net/ipv4  

# Which revision are we on  
%define pkgrelease 1.SL  

# Is this a new module, or are we replacing an existing module  
# 1 - new module  
# 0 - replacing an existing module  
%define newmodule 1  

# Optional - what Architecture we are building for  
#%define thisarch ia32e  

Name: kernel-module-%{modname}-%{kernel}  
Summary: Kernel Module %{modname}  for the %{kernel} kernel  
Version: 0.99  
Release: 1  
Epoch: 0  
License: GPLv2+  
Packager: Troy Dawson <dawson@fnal.gov>  
Group: System Environment/Kernel  
BuildRoot: %{_tmppath}/%{name}-%{version}-root  
#Requires: /boot/vmlinux-%{kernel}, modutils  
Provides: kernel-module-%{modname} = %{epoch}:%{version}  
Source0: %{modname}.ko.%{kernel}  

%description  
This package provides a %{modname} kernel module for  
kernel %{kernel}.  

%install  
mkdir -p $RPM_BUILD_ROOT/%{modpath}  

%if %{newmodule}  
    install -m 644 %{SOURCE0} $RPM_BUILD_ROOT/%{modpath}/%{modname}.ko  
%else  
    install -m 644 %{SOURCE0} $RPM_BUILD_ROOT/%{modpath}/%{modname}.%{version}.%{pkgrelease}.o  

%endif  
%pre  
touch /root/bar  
mkdir /alice  
%post  
touch /bar  
/bin/echo %{modname} >> /etc/modules  
depmod  
mkdir /foo  
depmod -ae %{kernel} >/dev/null 2>&1   
modprobe %{modname}  

%postun  
sed -i 's/^%{modname}$//g' /etc/modules  
%if %{newmodule}  
    depmod -ae %{kernel} >/dev/null 2>&1 || :  
%else  
    if [ "" = "0" ] ; then  
        if ! [ -f %{modpath}/%{modname}.original.o ] ; then  
            mv %{modpath}/%{modname}.o %{modpath}/%{modname}.original.o  
        fi  
        cp -f %{modpath}/%{modname}.%{version}.%{pkgrelease}.o %{modpath}/%{modname}.o  
        depmod -ae %{kernel} >/dev/null 2>&1 || :  
    fi  
%endif  

%files  
%if %{newmodule}  
    %{modpath}/%{modname}.ko  
%else  
    %{modpath}/%{modname}.%{version}.%{pkgrelease}.ko  
%endif 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T17:39:40.267

查看此链接： http: [//lists.busybox.net/pipermail/busybox/2006-November/059507.html](http://lists.busybox.net/pipermail/busybox/2006-November/059507.html)脚本不是由busybox 的rpm 命令运行的。

查看[http://git.busybox.net/busybox/tree/archival/rpm.c#n149](http://git.busybox.net/busybox/tree/archival/rpm.c#n149)的源代码，这似乎是正确的。

# java - 如何在java中使用多维向量？

> ID：11304459
> 
> 赞同：3
> 
> 时间：2012-07-03T04:27:42.017
> 
> 标签：java, vector

```
Vector v1 = new Vector();
for (int i = 0; i < 7; i++){
    v1.add(new Vector());
}
Vector WordTemp = new Vector();
for (int i = 0; i< 3; i++){
    WordTemp.add(v1);
} 
```

首先，我创建一个 3 维向量。我想将单词放入由二维索引的向量 WordTemp。我可以这样写代码吗？

```
for (int i = 0; i< 3; i++){
    for (int j = 0; j < 7; j++){
        ((Vector) ((Vector) WordTemp.get(i)).get(j)).add(word);
   }
} 
```

在我创建了这个向量空间之后。我可以这样读吗？

```
...for (int i = 0; i<7; i++){
       ListIterator iter2 = ((Vector) ((Vector) WordTemp.get(t)).get(i)).listIterator();
       while(iter2.hasNext()){
           String CompareStr = (String) iter2.next();.... 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-03T04:31:32.520

您可以改用其中之一-

第一种方式——

```
Vector<Vector<String>> s = new Vector<Vector<String>>(); 
```

第二种方式——

```
Vector<String>[] s = new Vector<String>[5]; 
```

或者

```
Vector<String>[][] s = new Vector<String>[5][5]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:41:25.900

试试这个，

```
Vector[][] s = new Vector[5][5]; 
```

# php - 在 JQuery 中调用/获取 php 变量值

> ID：11304462
> 
> 赞同：1
> 
> 时间：2012-07-03T04:28:29.683
> 
> 标签：php, jquery, json, audio, jplayer

我目前正在学习 jplayer 的工作原理。我遇到过这段代码

```
 <script type="text/javascript">
        $(document).ready(function(){
          $("#jquery_jplayer_1").jPlayer({
            ready: function () {
              $(this).jPlayer("setMedia", {
                m4a: "http://www.jplayer.org/audio/m4a/Miaow-07-Bubble.m4a",
                oga: "http://www.jplayer.org/audio/ogg/Miaow-07-Bubble.ogg"
              });
            },
            swfPath: "js",
            supplied: "m4a, oga"
          });
        });
  </script> 
```

我想知道如何在 php 代码中获取变量的值并将其插入到这里？特别是这里。

```
$(this).jPlayer("setMedia", {
                m4a: "http://www.jplayer.org/audio/m4a/Miaow-07-Bubble.m4a",
                oga: "http://www.jplayer.org/audio/ogg/Miaow-07-Bubble.ogg"
              }); 
```

在里面`m4a:`我想调用/插入像 $file_path 这样的 php 代码的值。我怎样才能做到这一点？因为我将从我的数据库中获取文件路径并将其存储在 php 变量中

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T04:31:12.880

您可以直接`echo`在 JavaScript 中使用它，如下所示：

```
<script type="text/javascript">
        $(document).ready(function(){
          $("#jquery_jplayer_1").jPlayer({
            ready: function () {
              $(this).jPlayer("setMedia", {
                m4a: "<?php echo $file_path_m4a; ?>",
                oga: "<?php echo $file_path_oga; ?>"
              });
            },
            swfPath: "js",
            supplied: "m4a, oga"
          });
        });
  </script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T04:30:04.983

试试这个

```
 m4a: "<?php echo $file_path ?>", 
```

如果启用了**短标签**，那么它将更具可读性

```
 <script type="text/javascript">
    $(document).ready(function(){
     var $filepath = "<?=$file_path?>"; //javascript variable can be start with $
      $("#jquery_jplayer_1").jPlayer({
        ready: function () {
          $(this).jPlayer("setMedia", {
            m4a: $filepath+"/filename.mp4",
            oga: $filepath+"/filename.oga",
          });
        },
        swfPath: "js",
        supplied: "m4a, oga"
      });
    });
  </script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T04:37:26.090

许多人说只是呼应这些价值观。重要的是，只要您正在处理的文件是由 PHP 解释的，那么无论文件扩展名是什么，您都可以做任何事情。如果文件以 .php 结尾，您的服务器可能已经这样做了，但您也可以将 .js 或 .html 文件添加到 PHP 解释器。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-03T04:55:41.067

```
<script type="text/javascript">
    $(document).ready(function(){
      $("#jquery_jplayer_1").jPlayer({
        ready: function () {
          $(this).jPlayer("setMedia", {
            m4a: "<?php echo FILE_PATH.filename_mp4;?>",
            oga: "<?php echo FILE_PATH.filename_ogg;?>"
          });
        },
        swfPath: "js",
        supplied: "m4a, oga"
      });
    }); 
```

# r - 在 r 中重新编码时将列分成两列

> ID：11304470
> 
> 赞同：1
> 
> 时间：2012-07-03T04:29:00.447
> 
> 标签：r, split

我有以下数据：

```
set.seed(123)
M1 <- c(sample(c("AA", "AB", "BB"), 5, replace = T))
M2k <- c(sample (c("AG", "GG", "AA"), 5, replace = T))
M3l <- c(sample (c("AT", "TT", "AA"), 5, replace = T))
M4  <- c(sample (c("CT", "TT", "CC"), 5, replace = T))

  #in real data M1 .......M1000 

myd <- data.frame (M1, M2k, M3l, M4) 
```

我想将每个 M 分成两个 M1a，M1b 用于 M1，M2ka，M2kb 用于 M2k 等等。同样，单元格的内容将被拆分 AB 将是 M1a 列中的 A 和另一个 M1b 列。我还想重新编码 A = 1、B = 2、C = 3、G = 4、T = 5，否则 = NA。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-03T05:01:41.427

**编辑** `reshape::colsplit`将拆分为`''`

使用`reshape::colsplit`.

```
library(reshape)

split_col <- function(.col, data){
 .x <- colsplit( data[[.col]], names =  paste0(.col, letters[1:2])) 

}

# split each column and combine
new_data <- do.call(cbind,lapply(names(myd), split_col, data = myd))
# convert each new column to a factor  with levels 1:5 as requested.
new_data_2 <- do.call(data.frame, 
  lapply(new_data, factor, levels = c('A','B','C','G','T'), labels= 1:5))

  M1a M1b M2ka M2kb M3la M3lb M4a M4b
1   1   1    1    4    1    1   3   3
2   2   2    4    4    5    5   3   5
3   1   2    1    1    1    1   3   5
4   2   2    4    4    5    5   3   5
5   2   2    4    4    1    5   3   3 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T13:21:51.973

mnel 已经给出了一个非常直接的答案。这是我在 GitHub 上玩我的正在处理的包（qdap），虽然还没有在 CRAN 上：

**安装 qdap**

```
# install.packages("devtools")
library(devtools)
install_github("qdap", "trinker") 
```

**解决问题：**

```
lapply(seq_along(myd),  function(i){
    myd <<- colsplit2df(myd, (i+i-1), paste0(names(myd)[i+i-1], 
        letters[1:2]), sep="")
})

data.frame(apply(myd, 2, function(x) as.numeric(text2color(x, 
    c("A", "B", "C", "G", "T"), c(1:5, NA))))) 
```

这段代码的主要工作是`colsplit2df`（返回一个 data.frame）和`text2col`（旨在为 wordcloud 着色重新编码文本；实际上是一个字典查找工具）。这真的不是这些功能的设计目的，只是在玩，看看如何扩展它们。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T07:37:41.730

这是另一种可能的解决方案，除了我发现它很容易遵循之外没有特别的优势：

```
myd$M5 = c("AB", "GT", "GA", "QW", "CK") # Add another test column.

mat = as.matrix(myd) # Convert to matrix for speed and indexing benefits.

# Construct new column names.
new_names = character(length=ncol(mat) * 2)
new_names[seq(1, ncol(mat) * 2, 2)] = paste(colnames(mat), "a", sep="")
new_names[seq(2, ncol(mat) * 2, 2)] = paste(colnames(mat), "b", sep="")

# Create empty matrix with correct column names.
newmat = matrix(ncol=ncol(mat) * 2, nrow=nrow(mat))
colnames(newmat) = new_names

# Split columns.
for (i in seq(1, ncol(mat))) {
    newmat[, (i * 2) - 1] = substr(mat[, i], 1, 1)
    newmat[,  i * 2     ] = substr(mat[, i], 2, 2)
}

# Use named vector to recode data.
recode = c(A=1, B=2, C=3, G=4, T=5)
newmat[] = recode[newmat]

newmat
#      M1a M1b M2ka M2kb M3la M3lb M4a M4b M5a M5b
# [1,] "1" "1" "1"  "4"  "1"  "1"  "3" "3" "1" "2"
# [2,] "2" "2" "4"  "4"  "5"  "5"  "3" "5" "4" "5"
# [3,] "1" "2" "1"  "1"  "1"  "1"  "3" "5" "4" "1"
# [4,] "2" "2" "4"  "4"  "5"  "5"  "3" "5" NA  NA 
# [5,] "2" "2" "4"  "4"  "1"  "5"  "3" "3" "3" NA 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-26T23:55:23.207

使用具有更稳定解决方案的 qdap：

```
x <- colsplit2df(myd, 1:ncol(myd), sep="")
colnames(x) <- paste(rep(colnames(myd), each = 2), letters[1:2], sep=".")

##   M1a M1b M2ka M2kb M3la M3lb M4a M4b
## 1   1   1    1    4    1    1   3   3
## 2   2   2    4    4    5    5   3   5
## 3   1   2    1    1    1    1   3   5
## 4   2   2    4    4    5    5   3   5
## 5   2   2    4    4    1    5   3   3 
```

# ruby-on-rails - Rails 3.2 中的 ActionController::Dispatcher 在哪里？

> ID：11304471
> 
> 赞同：4
> 
> 时间：2012-07-03T04:29:02.940
> 
> 标签：ruby-on-rails, rack, dispatcher

我正在遵循 The Rails 3 方式中的示例，当我尝试在控制台中向调度程序发送请求时，使用`ActionController::Dispatcher.new.call(env).last.body`

我有

`1.9.3p194 :001 > ActionController::Dispatcher.new.call(env).last.body NameError: uninitialized constant ActionController::Dispatcher'`

我使用的是 rails 3.2.6，我检查了 rails api，发现他们在 ActionController 中删除了调度程序，但 rails 指南说：*ActionController::Dispatcher.new 是 Rails 应用程序的主要 Rack 应用程序对象。任何 Rack 兼容的 Web 服务器都应该使用 ActionController::Dispatcher.new 对象来为 Rails 应用程序提供服务。*

我发现rails api的v3.0.7，Dispatcher仍然存在于该版本中。

所以，这是我的问题：我怎样才能找到作为 ActionController.Dispatcher.new 的等效方法？并且鉴于我的应用程序在 rails 3.2.6 上运行良好，那么 rails 的哪一部分现在扮演 ActionController.Dispatcher 的角色？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-14T03:54:40.743

这是 Rails*边缘*指南对主要 Rack 应用程序对象所说的：

> ApplicationName::Application 是 Rails 应用程序的主要 Rack 应用程序对象。任何 Rack 兼容的 Web 服务器都应该使用 ApplicationName::Application 对象来为 Rails 应用程序提供服务。

所以`ActionController::Dispatcher.new`刚刚被`ApplicationName::Application`. 我不确定他们是什么时候做出这个转变的。这对我有用：

```
Blog::Application.call(env).last.body 
```

（之后的前几行`NoMethodError: undefined method 'key?' for nil:NilClass`告诉我们`key?`正在调用该方法`actionpack-3.2.11/lib/action_dispatch/routing/route_set.rb`。从那里向后工作，我们可以看到变量

```
params = env['action_dispatch.request.path_parameters'] 
```

不应该是 nil。所以我们可以`env['action_dispatch.request.path_parameters']`在控制台中设置，但这会导致另一个`NoMethodError`在`initialize`方法中设置一个 nil 对象。所以我们可能可以通过将选项哈希传递给来解决这个问题`Dispatcher.new`，但最好只使用`ApplicationName::Application`.)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-03T04:33:44.570

它已被移动到 ActionDispatch (actionpack/lib/action_dispatch)，可以在这里找到：**actionpack/lib/action_dispatch/routing/route_set.rb**，类名为

```
ActionController::Routing::RouteSet::Dispatcher.new 
```

# php - 如何从 PHP 中的多维数组中的键创建数组

> ID：11304475
> 
> 赞同：1
> 
> 时间：2012-07-03T04:29:29.510
> 
> 标签：php, arrays

以下数组存储在`$this->config->item('userlib_profile_fields')`

```
Array
(
[0] => Array
    (
        [first_name] => First Name
    )
[1] => Array
    (
        [family_name] => Family name
    )
[2] => Array
    (
        [web_address] => Web Address
    )
[3] => Array
    (
        [company_name] => Company Name
    )
...
...
) 
```

我想从上面的键创建一个数组。

```
Array(first_name, family_name, web_address,company_name, .....) 
```

我试过这个，但它给出了一个错误。

```
$profile_columns = array();
foreach($this->config->item('userlib_profile_fields') as $value)
{
    foreach($value as $key=>$value)
    {
        //var_dump ($key);
        $profile_columns = array_push($profile_columns,$key);
    }
}
// error: array_push() expects parameter 1 to be array, integer given
array_push() expects parameter 1 to be array, null given 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T04:31:44.220

复制您的示例数组。

```
$array = array(
    array('first_name' => 'First Name'),
    array('family_name' => 'Family Name'),
    array('web_address' => 'Web Address'),
    array('company_name' => 'Company Name')
); 
```

循环和提取。（保留数组键）

```
$items = array();
foreach($array as $item) {
    foreach($item as $key => $value) {
        $items[$key] = $value;
    }
} 
```

这将输出

```
Array
(
    [first_name] => First Name
    [family_name] => Family Name
    [web_address] => Web Address
    [company_name] => Company Name
) 
```

如果要将数组键重置为索引数组，请使用它。

```
$items = array();
foreach($array as $item) {
    foreach($item as $key => $value) {
        $items[] = $value;
    }
} 
```

这将输出

```
Array
(
    [0] => First Name
    [1] => Family Name
    [2] => Web Address
    [3] => Company Name
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T05:00:27.983

```
 <?php
    $test = array
    (
    array  (        'first_name' => 'First Name'    ),
    array  (        'family_name' => 'Family name'  ),
    array  (        'web_address' => 'Web Address'    ),
    array  (        'company_name' => 'Company Name'    )
    );

$items = array();

for($i = 0 ; $i < count($test) ; $i++) {

array_push($items,$test[$i][key($test[$i])]);

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T04:50:33.663

**更改**：`$profile_columns = array_push($profile_columns,$key);`
**至**：`array_push($profile_columns,$value);` **或** `$profile_columns[] = $value;`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-03T04:51:15.063

```
$test = array
(
array  (        'first_name' => 'First Name'    ),
array  (        'family_name' => 'Family name'  ),
array  (        'web_address' => 'Web Address'    ),
array  (        'company_name' => 'Company Name'    )
); 

$items = array();
for($i = 0 ; $i < count($test) ; $i++) {
    array_push($items,$test[$i][key($test[$i])]);
} 
print_r($items); 
```

将给出如下输出：

```
Array ( [0] => First Name [1] => Family name [2] => Web Address [3] => Company Name ) 
```

# java - XMLEncoder java版

> ID：11304482
> 
> 赞同：0
> 
> 时间：2012-07-03T04:29:57.450
> 
> 标签：java, xml, graph, version, xmlencoder

我使用 XMLEncoder 将 JGraph 对象编码为 XML 格式。我使用 2 台机器进行测试，它们都具有相同的 java 版本，因为我通过 cmd java -version 检查

```
java version "1.6.0_27"
Java(TM) SE Runtime Environment (build 1.6.0_27-b07)
Java HotSpot(TM) 64-Bit Server VM (build 20.2-b06, mixed mode) 
```

但是，我从 2 台机器获得这些 XML 标头，如下所示： 机器 1：

```
<java version="1.6.0_31" class="java.beans.XMLDecoder"> 
```

机器2：

```
<java version="1.7.0_05" class="java.beans.XMLDecoder"> 
```

任何人都知道为什么java版本不同？我之所以问这个问题是因为我怀疑是我以下问题的根本原因。之后，我使用 XMLDecoder 对 JGraph 对象进行解码。但是，graphModel 给了我不同的结果

```
Object[] objs = graphModel.getOutgoingEdges(graphModel, cell); 
```

机器 1`objs`有`length = 1`，机器 2`objs`有`length = 0`。有人有什么想法吗？是java版本的问题吗？

# java - 处理操作栏向上按钮的正确方法？

> ID：11304483
> 
> 赞同：27
> 
> 时间：2012-07-03T04:30:02.480
> 
> 标签：java, android, android-actionbar

我使用 ActionBarSherlock（尽管我认为这并不重要）。

我有一个主要活动和一个关于活动。我希望 About 活动通过其徽标显示后向箭头，并执行适当的动画等。我不知道如何正确地做到这一点。

目前，我在 onOptionsMenuItemSelected 下可以在按下 Up/Home 按钮时启动 Main 活动，但它很笨拙并且不能正常工作。它播放错误的动画，并且处理多任务处理很差。

我该如何正确设置？

这是我的主要活动中启动 About 的部分：

```
Intent aboutIntent = new Intent(MainActivity.this, About.class);
MainActivity.this.startActivity(aboutIntent); 
```

这是我的关于活动：

```
package com.stevenschoen.test;

import android.content.Intent;
import android.os.Bundle;

import com.actionbarsherlock.app.SherlockActivity;
import com.actionbarsherlock.view.MenuItem;

public class About extends SherlockActivity {
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.about);

        getSupportActionBar().setDisplayHomeAsUpEnabled(true);
        getSupportActionBar().setDisplayShowTitleEnabled(false);
    }

    public boolean onOptionsItemSelected(MenuItem item) {
        switch (item.getItemId()) {

            case android.R.id.home:
                // app icon in action bar clicked; go home
                Intent intentHome = new Intent(this, MainActivity.class);
                intentHome.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
                startActivity(intentHome);
                return true;

            default:
                return super.onOptionsItemSelected(item);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2013-11-30T23:03:39.450

[**你也试过这个吗**](http://developer.android.com/training/implementing-navigation/ancestral.html)（取自Android网站）：

在清单中，对于需要转到主活动的每个活动 X，将其添加到代码中：

```
@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
    // Respond to the action bar's Up/Home button
    case android.R.id.home:
        NavUtils.navigateUpFromSameTask(this);
        return true;
    }
    return super.onOptionsItemSelected(item);
} 
```

这就是它的清单 xml 标记：

```
<meta-data
android:name="android.support.PARENT_ACTIVITY"
android:value="com.activities.MainActivity" /> 
```

如果您仍然需要在主要活动上保持相同的状态，请改用以下代码：

```
Intent intent = NavUtils.getParentActivityIntent(this); 
intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP|Intent.FLAG_ACTIVITY_SINGLE_TOP); 
NavUtils.navigateUpTo(this, intent); 
```

如果 API 是 16 或更高版本，您可以添加[**parentActivityName**](http://developer.android.com/guide/topics/manifest/activity-element.html)属性，其中包含主活动的路径，而不是元数据。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-07-03T09:55:40.287

发现我的问题的根源是我不久前所做的清单的更改：我添加了这一行：

```
android:launchMode="singleInstance" 
```

所以我的主要活动不会重新启动。将其更改为：

```
android:launchMode="singleTask" 
```

解决了我的问题，我能够删除所有的`onOptionsItemSelected`东西。我知道有问题，Android 应该能够更好地处理这个问题，我是对的。检查清单：P

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2016-06-08T03:31:13.857

您可以使用代码或 XML 处理操作栏按钮。

检查此代码

如果你想以编程方式在**onCreate()**方法中添加这一行

```
getSupportActionBar().setDisplayHomeAsUpEnabled(true); 
```

并覆盖此方法**onSupportNavigateUp()**

```
@Override
public boolean onSupportNavigateUp(){  
finish();  
return true;  
} 
```

或以非编程方式，您可以将元添加到清单文件中

```
<activity android:name="Current Activity"
        android:parentActivityName="Activity you want to open">
    </activity> 
```

**注意：**确保 Actionbar 不为空。

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2012-07-03T04:37:40.217

在你的`onCreate(Bundle savedInstanceState)`，做

```
ActionBar actionBar = getSupportActionBar();
actionBar.setDisplayHomeAsUpEnabled(true); 
```

然后在你的`onOptionsItemSelected(MenuItem item)`, 做

```
@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
        case android.R.id.home:
            // go to previous screen when app icon in action bar is clicked
            Intent intent = new Intent(this, PreviousActivity.class);
            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
            startActivity(intent);
            return true;
    }
    return super.onOptionsItemSelected(item);
} 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2014-11-27T16:36:34.390

对于只想返回上一个活动的人来说，这是最简单的解决方案：

```
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
        case android.R.id.home:
            finish(); //this method close current activity and return to previous
            return true;
    }
    return super.onOptionsItemSelected(item);
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-01-23T18:00:30.533

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_settings2);
    //here is to put the up back button in the Activity
    getSupportActionBar().setDisplayHomeAsUpEnabled(true);
}
@Override
// here is the code to handle to go back to the activity which sent you to this current one
public boolean onOptionsItemSelected(MenuItem item) {
    int id = item.getItemId();
    if (id == android.R.id.home) {
        onBackPressed();
    }
    return super.onOptionsItemSelected(item);
} 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-10-21T10:21:37.457

确保您的 android:minSdkVersion="11" 可以在清单文件中看到，向上图标已包含在 APK 11 中。我制作了一个小示例，请尝试以下链接，这可能会帮助您导入您的工作空间

[http://www.mediafire.com/?hktdvts7yyduwv1](http://www.mediafire.com/?hktdvts7yyduwv1)

# gtk3 - GTK3 - 从库存中创建图像对象

> ID：11304489
> 
> 赞同：0
> 
> 时间：2012-07-03T04:30:38.410
> 
> 标签：gtk3

如果文件不存在，我想创建一个显示错误消息的网格：

```
/* size */
s = get_file_size(recording->filename);
if (s > 0) {
    size = g_format_size_full(s, G_FORMAT_SIZE_LONG_FORMAT);
    gtk_label_set_text(GTK_LABEL(size_lbl), size);
    gtk_widget_hide(error)
    g_free(size);
} else {
    size = g_strdup(_("Import Errors"));
    gtk_widget_show(error)
} 
```

在 gtk 网格中，无法设置“错误”元素的类型以显示屏幕截图中的消息：

```
grid = gtk_grid_new();
gtk_grid_set_row_spacing(GTK_GRID(grid), 6);
gtk_grid_set_column_spacing(GTK_GRID(grid), 15);
gtk_container_set_border_width(GTK_CONTAINER(grid), 6);

s_lbl = gtk_label_new(Size:);
size_lbl = gtk_label_new("");
error = ?
error_pixmap = gtk_image_new_from_stock(GTK_STOCK_DIALOG_ERROR, GTK_ICON_SIZE_SMALL_TOOLBAR);
gtk_container_add(GTK_CONTAINER(error), error_pixmap);

gtk_grid_attach(GTK_GRID(grid), s_lbl, 0, 0, 1, 1);
gtk_grid_attach(GTK_GRID(grid), error, 1, 0, 1, 1);
gtk_grid_attach(GTK_GRID(grid), size_lbl, 2, 0, 1, 1); 
```

任何帮助，谢谢。

截屏：

[尺寸]：![在此处输入图像描述](../Images/71a21306d86354e0c671b15f68ccbbe2.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T06:18:25.583

使用`GtkBox`带有`GTK_ORIENTATION_HORIZONTAL`的 或 中的相邻单元格`GtkGrid`。

# javascript - 快速 HTML 表格排序？

> ID：11304490
> 
> 赞同：8
> 
> 时间：2012-07-03T04:30:43.600
> 
> 标签：javascript, jquery, performance, sorting, html-table

是的，我知道有**很多**JS/jQuery 程序可以做到这一点。我目前正在使用[http://www.kryogenix.org/code/browser/sorttable/sorttable.js](http://www.kryogenix.org/code/browser/sorttable/sorttable.js)。这很简单：只需一个 JS 文件，向您的表中添加一些类属性，然后就可以了。特别是，您实际上不需要了解 JS 即可使用它，并且您可以添加自定义排序键，而无需编写自己的 JS 来扩展它。由于这两个原因，我非常喜欢它。主要问题：我的表大约 9300 行长，排序需要 10-20 秒。所以我想知道，还有比这更快的脚本吗？这些是我发现的：

[http://webfx.eae.net/dhtml/sortabletable/sortabletable.html](http://webfx.eae.net/dhtml/sortabletable/sortabletable.html)（甚至不知道这有什么用）
[http://tablesorter.com/docs/](http://tablesorter.com/docs/)（真的很好，但不容易扩展，需要了解 JS/ jQuery) [http://flexigrid.info/](http://flexigrid.info/) (Overkill，我只需要一个表格排序器，而不是一个完整的数据操作程序)
[http://datatables.net/](http://datatables.net/) (Overkill，需要 Js/jQuery 来扩展)

我敢肯定还有 5000 个其他程序可以做我想做的事，但我没有时间弄清楚并测试它们是否都快。因此，我想知道 StackOverflow 上的某个人是否可以将我指向他们知道速度快的任何库，所以我只需要弄清楚如何使用一个程序。

（顺便说一句，我已经看到 Java 使用快速排序在毫秒内对数十万个数字进行排序；有人知道 JS.sort() 使用什么算法吗？）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-03T05:13:58.067

我在 DataTables（另一个 jQuery 插件）方面取得了巨大的成功，其行号与您所谈论的内容相似。与在 java 中看到的相比，您使用 javascript 看到的速度损失实际上是在渲染 DOM，这需要更多的工作。DataTables 的美妙之处在于您能够从 javascript 数组（本质上是 json）中获取数据 - 所以排序是在数组上完成的（与 java 的速度相似），然后只需要用户查看表的一部分在 DOM 中生成。

有关示例，请参见以下网址：

[http://datatables.net/examples/data_sources/js_array.html](http://datatables.net/examples/data_sources/js_array.html)

或者

[http://datatables.net/examples/data_sources/ajax.html](http://datatables.net/examples/data_sources/ajax.html)

我建议使用后者。如果使用静态 json 数组仍然不够快，您将需要构建一个服务器端脚本来减轻 javascript 的负载 - 这里是服务器端代码的一个很好的例子：

[http://datatables.net/examples/data_sources/server_side.html](http://datatables.net/examples/data_sources/server_side.html)

# 编辑：无限滚动

正如评论中所讨论的，问题不在于排序，而在于将 HTML 表转换为 JS 并返回。这可能有助于在用户查看时仅加载返回排序的渲染部分；服务器还以 JSON 形式向 JS 提供与表格相同的信息。这两种技术消除了 HTML-JS 转换和渲染问题，从而大大提高了速度。

HTML（这是在 JSON 出现之前最初必须呈现的所有内容 - 添加与列一样多的标签）：

```
<table id="table_id">
    <thead>
        <tr>
            <th>Column 1</th>
            <th>Column 2</th>
            <th>etc</th>
        </tr>
    </thead>
    <tbody>
    </tbody>
</table> 
```

查询：

```
$(document).ready(function() {
    $('#table_id').dataTable( {
        "bScrollInfinite": true,
        "bScrollCollapse": true,
        "sScrollY": "200px",
        "bProcessing": true,
        "sAjaxSource": 'array.txt'
    });
}); 
```

array.txt 包含：

```
{ "aaData": [
    ["This will be in column 1","This in two","this in 3"],
    ["another row - column 1","another two","another 3"]
]} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-10-13T23:28:38.267

除了库之外，表格排序很容易自己完成。

与 DOM 需要移动项目的时间相比，实际对行进行排序所花费的时间可以忽略不计。

将为您提供最佳性能的一件事是分离行，根据您的需要排列它们并再次附加它们。您不需要原始 JSON 数据，只需分离 $tr，从 td 中获取要比较的值，创建一个 $tr 数组，根据您想要的列对该数组进行排序并将它们附加回您的 tbody。

例如，使用这种技术，我在 1 秒内对 3000 行 15 列进行排序，这是完全可行的。有了这样的性能，唯一的问题是如何获取 3000 行到浏览器......

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-12-16T02:07:11.287

我知道这篇文章有点老了，但这里的 ES6+ 解决方案对我来说非常有用。

```
/**
 * Sort table data based on a direction of asc or desc for a specific column
 * @param {number} n- column number calling this sort
 * @param {string} dir -direction of the sort (asc or desc)
 * @param {HTMLSpanElement} targetElem -sort icon
 */
function sortTable(n, dir = "asc", targetElem) {
    targetElem.style.cursor = "progress";       
    let sortArr = [];
    let table =targetElem.closest('table');
    table.querySelectorAll('tbody > tr > td:nth-Child(' + parseInt(n) + ')').forEach((x, y) => sortArr.push(
        {
            sortText: x.innerHTML.toLowerCase(),
            rowElement: x.closest('tr')
        }));
    var sorted = sortArr.sort(function (a, b) {
        if (dir == "asc") {
            if (a.sortText < b.sortText) {
                return -1;
            }
        } else if (dir == "desc") {
            if (a.sortText > b.sortText) {
                return -1;
            }
        }
        return 0;
    });
    sorted.forEach((x, y) => {
        x.rowElement.parentNode.insertBefore(x.rowElement, x.rowElement.parentNode.children[y]);
    });
    targetElem.style.cursor = null;
} 
```

在我的每个元素中，我都有用于调用此函数的排序图标。它们的列号嵌入在数据标签中。他们看着像是：

```
<th data-field-name="lastLogin" role="columnheader" class="lastLogin">Last Login
    <span class="fa fa-unsorted sort-icon" title="Sort Descending" data-col-number="6" style="font-size: 1.2em; margin-left: 15px;"></span>
</th> 
```

图标的点击动作：

```
click(icon){
        var parent = icon.closest('tr');
        parent.querySelectorAll('.sort-icon').forEach(x => {
            if (x == icon) {
                return;
            }
            delete x.dataset.dir;
            x.classList.replace('fa-sort-down', 'fa-unsorted');
            x.classList.replace('fa-sort-up', 'fa-unsorted');
        });

        if (icon.classList.contains('fa-unsorted')) {
            icon.classList.replace('fa-unsorted', 'fa-sort-up');
            icon.title = icon.title.replace('Ascending', 'Descending');
            icon.dataset.dir = "asc";
        } else if (icon.classList.contains('fa-sort-down')) {
            icon.classList.replace('fa-sort-down', 'fa-sort-up');
            icon.dataset.dir = "asc";
            icon.title = icon.title.replace('Ascending', 'Descending');
        } else if (icon.classList.contains('fa-sort-up')) {
            icon.classList.replace('fa-sort-up', 'fa-sort-down');
            icon.title = icon.title.replace('Descending', 'Ascending');
            icon.dataset.dir = "desc";
        }
        sortTable(icon.dataset.colNumber, icon.dataset.dir, icon);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-03-12T20:30:06.503

我认为这个 javascript 库简单而强大： [http ://tabulator.info](http://tabulator.info)

Tabulator 允许您在几秒钟内从任何 HTML 表格、JavaScript 数组、AJAX 数据源或 JSON 格式的数据创建交互式表格。

在单元格内，您可以放置​​文本、进度条、图像、其他表格！

# bash - Bash：使用 sighup 将进程设置为在启动参数中终止

> ID：11304491
> 
> 赞同：0
> 
> 时间：2012-07-03T04:30:45.223
> 
> 标签：bash

是否可以在其启动参数中设置进程终止？

我想要做的是设置一个进程在它开始之前或它开始时终止。

`cat > $pipe`当我尝试通过添加 & 和 $来获取打开的命名管道的 pid 时！在它之后，它用“>”符号向终端发送垃圾邮件，所以我想知道是否可以从`cat > $pipe`一个参数开始，在 PID 的 SIGHUP 上死掉。

我该怎么做呢？如果我在 之后放任何东西，*它对*`cat > $pipe`我来说将无法正常工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T07:49:16.700

*“获取打开的命名管道的 pid”* 命名管道没有 pid，只有进程有 pid（线索在 'p' 中）

但是，这似乎与问题的标题无关。默认情况下，进程将在 SIGHUP 上终止。但是，子进程继承父进程的信号掩码，因此如果父进程忽略 SIGHUP，那么子进程就会出现这种情况（对于处理程序而言并非如此）。因此，您可以使用（例如）强制模具：

```
trap 'exit 128' SIGHUP 
```

但是问题的这一部分与命名管道有什么关系呢？您是否正在尝试查找哪些进程打开了管道？您可以为此迭代 /proc 。

在 OP 发表评论后进行编辑：

如果您运行，`cat > mypipe &`那么`cat`将挂起尝试访问键盘 -`cat`默认情况下读取 STDIN。

```
[1]+  Stopped                 cat > mypipe 
```

因此，您必须将其带入前台（`fg`）才能输入数据，通常以`<CTRL>+D`. 我不知道你为什么要以`cat`这种方式使用。

无论如何，如果你在后台运行，很容易获得后台作业的 pid：
假设它是 1 号作业

```
set $(jobs -l %1)
pid=$2 
```

也许您可以进一步调查为什么您不能在后台运行该作业，并显示一个示例（使用该`script`命令在名为 的文件中获取会话副本`typescript`）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:42:15.050

你试过把它放在括号里吗？`(cat > $pipe) &$`

# c++ - 声明一个 C++ 集合迭代器

> ID：11304492
> 
> 赞同：1
> 
> 时间：2012-07-03T04:30:46.203
> 
> 标签：c++, templates, compiler-errors, iterator

> **可能重复：**
> [我必须在哪里以及为什么要放置“模板”和“类型名称”关键字？](https://stackoverflow.com/questions/610245/where-and-why-do-i-have-to-put-the-template-and-typename-keywords)
> [c++模板类型名迭代器](https://stackoverflow.com/questions/11275444/c-template-typename-iterator)

以下代码将无法编译：

```
#include <iostream>
#include <set>
using namespace std;

template<class T>
void printSet(set<T> s){
    set<T>::iterator it;
}

int main(int argc, char** argv){
    set<int> s;
    printSet<int>(s);
    return 0;
} 
```

我收到一条错误消息：

```
set.cpp: In function ‘void printSet(std::set<T, std::less<_Key>, std::allocator<_CharT> >)’:
set.cpp:7: error: expected `;' before ‘it’
set.cpp: In function ‘void printSet(std::set<T, std::less<_Key>, std::allocator<_CharT> >) [with T = int]’:
set.cpp:12:   instantiated from here
set.cpp:7: error: dependent-name ‘std::set<T,std::less<_Key>,std::allocator<_CharT> >::iterator’ is parsed as a non-type, but instantiation yields a type
set.cpp:7: note: say ‘typename std::set<T,std::less<_Key>,std::allocator<_CharT> >::iterator’ if a type is meant 
```

我做错什么了？我觉得我几乎没有写过任何东西，而 C++ 已经给了我这个可怕的信息。

如果它有帮助，看起来，如果我用迭代器注释掉该行，就没有错误。但是，到目前为止，我在网上看到的所有示例似乎都以这种方式声明迭代器。我认为。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-03T04:33:25.030

在声明之前使用关键字`typename`，因此：

```
typename set<T>::iterator it; 
```

每当您引用依赖于模板参数的类型时，您都需要这样做。在这种情况下，`iterator`依赖于 T。否则，编译器很难弄清楚`iterator`它是什么，无论是类型，还是静态成员或其他东西。（嗯，从技术上讲，它并没有试图弄清楚，它的决定已经做出，只是碰巧是错误的）

请注意，如果您有具体类型，例如：

```
set<int>::iterator it; 
```

`typename`没有必要。

# android - 如何在android中将我的图像修复为不同的屏幕分辨率

> ID：11304494
> 
> 赞同：0
> 
> 时间：2012-07-03T04:30:51.227
> 
> 标签：android, view

在我的应用程序中，一个视图中有 12 个图像。在我设计视图后，当我运行应用程序时，仅显示 9 个图像，其余 3 个不在视野范围内。我该如何纠正这些问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T04:56:17.967

使用 9 补丁图像，也定义宽度和高度使用 dpi 见[http://codetrips.blogspot.in/2010/12/android-draw-9-patch-seems-broken-too.html](http://codetrips.blogspot.in/2010/12/android-draw-9-patch-seems-broken-too.html) 为 9 补丁

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:33:01.043

制作图像 9 补丁，如果需要，将 dpi 用于固定尺寸，具有不同的图像分辨率（mdpi、hdpi 等）

# android - Android输入框中的键盘闪烁问题

> ID：11304496
> 
> 赞同：0
> 
> 时间：2012-07-03T04:31:05.203
> 
> 标签：android, asp.net-mvc-3, samsung-mobile

我使用 webview 创建了一个应用程序。在 Webview 我已经加载了一个 mvc 页面。有两个用于获取用户名和密码的文本框。在三星 Ace GT S5830 设备上聚焦文本框、**文本框和键盘时，闪烁更多**。`It is working good in IPAD, IPOD, IPHONE and WINDOWS PHONE`. 请任何人告诉我如何停止这种闪烁？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-29T09:42:32.707

嗨，这是Android的问题。**我们通过在 AndroidManifest 文件中设置以下内容**来解决此问题。

```
android:windowSoftInputMode="adjustPan" 
```

**现在键盘闪烁问题已解决。**

# connector - Modelica - 仅更改复杂类型连接器的一个参数

> ID：11304497
> 
> 赞同：1
> 
> 时间：2012-07-03T04:31:10.313
> 
> 标签：connector, modelica

有一个复杂的连接器，在传播它时，我只想修改一组变量中的一个变量，而不必为其他变量显式编写所有等式方程。

理想的将是一个连接语句和一个特定变量的覆盖。

```
 class FluidClass
        String name(start="name")"name";
        Real fl(start=1000)"flow [l/h]";
        Real p(start=1)"pressure [bar]";
        Real T(start=25)"temperature [degC]";
        Real DS(start=80)"dry substance [%]";
        Real rho(start=100)"viscosity [mPas]";
    end FluidClass;

    connector fl "flow"
        extends FluidClass;
    end fl;

        model setParam "set parameter"
        fl fli annotation(Placement(
            transformation(extent={{-5,-5},{5,5}}),
            iconTransformation(extent={{-105,-5},{-95,5}})));
        fl flo "flow output" annotation(Placement(
            transformation(extent={{-50,0},{-40,10}}),
            iconTransformation(extent={{95,-5},{105,5}})));
        input Modelica.Blocks.Interfaces.RealInput u "set value";
        parameter EnumType1 var "variable to change";
        type EnumType1 = enumeration( 
            fl "Flow rate", 
            p "Pressure", 
            T "Temperature", 
            DS "Dry substance", 
            rho "Viscosity");
        equation
            // enter your equations here
            if var ==1 then //flow
            flo.name=fli.name;
            flo.fl=u;
            flo.p=fli.p;
            flo.T=fli.T;
            flo.DS=fli.DS;
            flo.rho=fli.rho;
            end if;

            if var ==2 then //pressure
            flo.name=fli.name;
            flo.fl=fli.fl;
            flo.p=u;
            flo.T=fli.T;
            flo.DS=fli.DS;
            flo.rho=fli.rho;
            end if;

            if var ==3 then //temperature
            flo.name=fli.name;
            flo.fl=fli.fl;
            flo.p=fli.p;
            flo.T=u;
            flo.DS=fli.DS;
            flo.rho=fli.rho;
            end if;

            if var ==4 then //DS
            flo.name=fli.name;
            flo.fl=fli.fl;
            flo.p=fli.p;
            flo.T=fli.T;
            flo.DS=u;
            flo.rho=fli.rho;
            end if;

            if var ==5 then //viscosity
            flo.name=fli.name;
            flo.fl=fli.fl;
            flo.p=fli.p;
            flo.T=fli.T;
            flo.DS=fli.DS;
            flo.rho=u;
            end if;
    end setParam; 
```

我非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T15:09:30.533

Unfortunately, this is not a very Modelica-ish way to build such models. There seem to be several things going on in this model. First, it appears that you are trying to specify the type of fluid through this "name" parameter. You are also propagating information through these connectors but you are propagating different types of information. Things like pressure, temperature and mass fractions (p, T, DS) should really be across variables, things like fluid flow (fl) should be through variables and density (rho) should be a fluid property.

There are facilities in Modelica for handling all of these cases but you are not utilizing them in your example. Furthermore, the approach you are using will not really scale very well because you don't have sufficient information in your flow path (you don't track energy being convected by the fluid nor differentiate how much of your flow is "dry" (dry air vs water vapor?).

You should really have a look at some fluid examples (for example, the Modelica.Fluid library or the examples in my book, "Introduction to Physical Modeling with Modelica") because once you take into account these design changes, your question will be moot (hence my non-answer).

I am sorry about the non-answer here, but I hope you find the information constructive enough to point you in the right direction. If not, feel free to ask other questions or add comments and I'll try to make it clearer.

# css - 宽度为 100% 且浮动的 div，因此一个不在屏幕一侧

> ID：11304504
> 
> 赞同：0
> 
> 时间：2012-07-03T04:31:38.790
> 
> 标签：css

我想构建一个具有水平滚动的页面。我想要一个 div 来填充视图窗口。

我将宽度设置为 100%，这样它就可以在任何尺寸的屏幕上填充窗口，但是您不能将下一个 div 浮动到它的一侧。

有谁知道这样做的方法或根据屏幕大小设置宽度的方法。

我正在使用带有一点 javascript 的 php 和 codeigniter。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T04:41:42.430

使用您的 100 % Div 作为包装器，并在其中使用一些 div 来实现您的设计。我认为您必须为需要浮动和应用浮动的第二个 div 指定宽度，希望这对您有所帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T04:43:51.663

你的意思是这个[http://jsbin.com/upoqec/2/edit#preview](http://jsbin.com/upoqec/2/edit#preview)？

HTML：

```
<body onload="resize()">
<div class="view" id="view">
</div>
<div class="follow">
    </div>
</body> 
```

CSS：

```
body{overflow:auto; width:100%: height:100%;}
.view{width:100%; height:400px; float:left; border:2px solid black;}
.follow{position:absolute; left:100%; width:900px; height:400px; border:2px solid red; margin-left:20px;}​ 
```

Javascript：

```
function resize(){
  var winW = 630, winH = 460;
if (document.body && document.body.offsetWidth) {
 winW = document.body.offsetWidth;
 winH = document.body.offsetHeight;
}
if (document.compatMode=='CSS1Compat' &&
    document.documentElement &&
    document.documentElement.offsetWidth ) {
 winW = document.documentElement.offsetWidth;
 winH = document.documentElement.offsetHeight;
}
if (window.innerWidth && window.innerHeight) {
 winW = window.innerWidth;
 winH = window.innerHeight;
} 
document.getElementById("follow").style.width=winW.toString()+"px";
 document.getElementById("follow").style.height=winH.toString()+"px";
} 
```

​</p>

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T04:42:11.080

检查我发布的这个答案作为对另一个类似问题的回复。

[https://stackoverflow.com/a/11293897/921204](https://stackoverflow.com/a/11293897/921204)

所需的更改是：

a) 你不需要'left' div。所以删除它。

b）不要指定`overflow-x: hidden;`正文，因为您想要水平滚动。

此外，根据需要更改中心 div 的尺寸。在您的情况下，将其设置为`100%`宽度

# c# - Java 与 C# 中的包装类

> ID：11304507
> 
> 赞同：0
> 
> 时间：2012-07-03T04:31:47.730
> 
> 标签：c#, java, .net

在 Java 的情况下，当我们编写类似的东西时

```
Integer i = new Integer(20); 
```

在上述情况下，obj 是在堆上分配的

如果是 C#

```
Int32 i = new Int32();
i=10; 
```

在这种情况下，对象被分配在堆栈上

这些只是实施方式上的差异还是还有更多差异？

**更正：**将 Integer 更改为 C# 的 Int32

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T04:36:37.890

C#中没有`Integer`，它要么是[int](http://msdn.microsoft.com/en-us/library/5kzh1b5w%28v=vs.80%29.aspx)要么是[int32](http://msdn.microsoft.com/en-us/library/system.int32%28v=vs.80%29.aspx)，两者都是一样的。关于 C# 说“值类型进入堆栈”有些不正确。您需要查看 Eric Lippert 的这篇文章： [关于值类型的真相](http://blogs.msdn.com/b/ericlippert/archive/2010/09/30/the-truth-about-value-types.aspx)

编辑：基于评论：

**Int32 和 int 是一样的，两者是同义词。**

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-03T04:50:16.423

您可能希望在 Java 中包装原语的许多原因不适用于 C#，因为 C# 具有结构而不是原语。以下是结构体可以用来做的一些事情，而这些事情不能用 prmitives 来完成：

*   他们有方法。例如[http://msdn.microsoft.com/en-us/library/system.int32.aspx](http://msdn.microsoft.com/en-us/library/system.int32.aspx)显示了可用于 int32 的方法。例如，转换为字符串是一个方法调用。
*   它们可用于通用数据结构。EG List < int > 非常好。

当堆上需要它们时，可以将它们装箱。此链接解释它[http://msdn.microsoft.com/en-us/library/yz2be5wk.aspx](http://msdn.microsoft.com/en-us/library/yz2be5wk.aspx)。

# java - 如果没有“text()”结尾，XPath 查询将无法工作

> ID：11304512
> 
> 赞同：2
> 
> 时间：2012-07-03T04:32:51.460
> 
> 标签：java, xml, parsing, xpath

所以我想在这里学习一些 xml 解析，我已经掌握了窍门，但无论出于何种原因，我似乎必须在每个查询结束时添加“text()”，否则我会得到 null值返回给我。我实际上并不理解这个“text()”结尾的功能，但我知道这不是必需的，我想知道为什么我不能省略它。请帮忙！这是我的代码：

```
import org.w3c.dom.*;
import javax.xml.xpath.*;
import javax.xml.parsers.*;
import java.io.IOException;
import org.xml.sax.SAXException;

public class ParseClass 
{
public static void main(String[] args)
throws ParserConfigurationException, SAXException,
IOException, XPathExpressionException 
{
    DocumentBuilderFactory domFactory = DocumentBuilderFactory.newInstance();
    domFactory.setNamespaceAware(true);
    DocumentBuilder builder = domFactory.newDocumentBuilder();
    Document doc = builder.parse("C:\\Users\\Brandon\\Job\\XPath\\XPath_Sample_Stuff\\catalog.xml");
    XPath xpath = XPathFactory.newInstance().newXPath();
    XPathExpression expr = xpath.compile("/catalog/book[author='Thurman, Paula']/title/text()");
    Object result = expr.evaluate(doc, XPathConstants.NODESET);
    NodeList nodes = (NodeList) result;
    for (int i = 0; i < nodes.getLength(); i++) 
    {
        System.out.println(nodes.item(i).getNodeValue());
    }
  }
} 
```

PS。万一你没有注意到。我正在使用 XPath 和 DOM 进行解析。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-03T04:47:50.063

您正在调用`getNodeValue`您的结果，正如[本文档](http://docs.oracle.com/javase/1.5.0/docs/api/org/w3c/dom/Node.html)所示（参见表格），它`null`适用于 type 的节点`Element`。当您使用`text()`时，返回的集合现在包含 type 的节点`Text`，因此您可以获得所需的结果（即标题元素的内容而不是元素本身）。

我还建议查看[此](http://www.xquery.com/tips_and_tricks/using_text_in_XPath.html)`text()`内容以获取有关在 xpath中使用的更多信息。

如果你想直接从元素中提取文本，你可以使用[`getTextContent`](http://docs.oracle.com/javase/1.5.0/docs/api/org/w3c/dom/Node.html#getTextContent%28%29)而不是`getNodeValue`：

```
// Will work for both element and text nodes
System.out.println(nodes.item(i).getTextContent()); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T04:46:19.207

首先，您的 Xpath 表达式无效（我认为它是错字）。属性用`@`正确的 xpath 来表示`/catalog/book[@author='Thurman, Paula']/title/text()`。

`/catalog/book[@author='Thurman, Paula']/title/`将匹配`<title>`您的 xml 中的节点，而`/catalog/book[@author='Thurman, Paula']/title/text()`匹配 ie 的文本节点，`<title>`如果标题节点类似于`<title>The Godfather</title>`后面的表达式将匹配`The Godfather`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-03T07:30:47.157

一个建议：不要使用 DOM。Java 世界中有许多可用的 XML 树表示（JDOM、XOM、DOM4J），它们比 DOM 更有用。DOM 充满了陷阱，就像您刚刚遇到的那样，元素上的 getNodeValue() 返回 null。任何人使用 DOM 的唯一原因是 (a) 它最初来自 W3C，并且 (b) 它进入了 JDK。但这一切都发生在很久以前，人们已经从它的设计错误中吸取了教训。

# php - .load() 使 .button( "refresh" ) 停止工作

> ID：11304514
> 
> 赞同：0
> 
> 时间：2012-07-03T04:33:01.353
> 
> 标签：php, jquery, jquery-ui

我有一大段代码`$('.data').prop('checked', false).button("refresh");`用于取消选中并刷新一组复选框上的 jQuery UI 样式，其中数据作为它们的类。在我的代码运行`$("#div").load('output.php')`刷新 output.php 文件之前，它工作正常。此后， .prop('checked', false) 工作正常，但 .button("refresh") 停止工作。

所以发生的事情是复选框保持正确取消选中，但 jQuery UI 样式不会刷新，因此即使它们不是，它们似乎也保持选中状态。Output.php 包含在开始的页面中，我尝试将负载替换为，`$("#div").load('text.txt')`但即使它只是加载文本文件，它仍然停止工作。

所以似乎 .load() 正在破坏 .button("refresh")。有什么想法可能导致这种情况或任何潜在的解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T05:08:58.630

我正在加载的内容是 html 并且有一个`<head>`部分。这就是破坏 .button("refresh") 的原因。我把脑袋里的东西放在我的主页头里，这样就解决了这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T05:03:09.870

.data 在#div 中吗？如果是这样，则 output.php 的内容将替换它，并且被替换的元素不会携带 jQuery UI 事件数据，因为它从未绑定到它们。

# javascript - Web Audio API：noteOff 后的 noteOn 不起作用？

> ID：11304515
> 
> 赞同：6
> 
> 时间：2012-07-03T04:33:09.367
> 
> 标签：javascript, web-audio-api

我使用 Web Audio API 编写了一个简单的网络应用程序，但我注意到当我`noteOn(0)`向给定的源发出命令时，接着是 a `noteOff(0)`，最后是另一个`noteOn(0)`命令，声音会打开，关闭（如预期的那样) 但随后不会使用第三个命令打开。

有什么我做错了吗？就这么简单，我可以给你看代码，但我觉得它是多余的。也许我需要在 之后将缓冲区重新分配给源`noteOff`，但我无法想象它是如何使用的。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-03T07:13:18.527

AudioBufferSourceNode 只能播放一次。

[http://youtu.be/hFsCG7v9Y4c?t=18m22s](http://youtu.be/hFsCG7v9Y4c?t=18m22s)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-03T05:44:56.930

在这里阅读：http: [//www.html5rocks.com/en/tutorials/webaudio/intro/](http://www.html5rocks.com/en/tutorials/webaudio/intro/)，特别是在这里：[http://www.html5rocks.com/en/tutorials/webaudio/intro/js/volume-sample。 js](http://www.html5rocks.com/en/tutorials/webaudio/intro/js/volume-sample.js)，看起来就像在 noteOff 之后重置源/缓冲区是要走的路。我把它打开了，一切都很好。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-15T12:47:44.260

**使用.disconnect()**和振荡器的工作示例代码

[http://en.wikiaudio.org/Web_Audio_API:Toggle_oscillator_on_and_off](http://en.wikiaudio.org/Web_Audio_API:Toggle_oscillator_on_and_off)

# android - 如何强制 eclipse 在每次构建时更新我的 硬件设备上的 apk？

> ID：11304516
> 
> 赞同：9
> 
> 时间：2012-07-03T04:33:19.477
> 
> 标签：android, eclipse, libgdx

如果我更改了一些代码，保存并运行，它会运行程序的最新版本，而不是我刚刚保存的。我可以让它更新的唯一方法是清理项目，构建项目，然后运行项目。有什么方法可以避免这种乏味吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-06T11:24:39.393

我花了一些时间创建了两个虚拟项目（一个 Android 和一个 Java）并尝试了一下，最后想出了一个不经常使用但能够解决您的要求的解决方法。

首先，我将更多地解释您的问题（根据我的理解和我的尝试），以便其他人可以更清楚地了解这里发生的事情。

根据评论中的对话：

> 你能告诉我你在以下设置中有什么： project->properties->Builder 吗？——苏达尔·尼玛兰
> 
> @SudarNimalan：我不确定这是您要问的，但是：有文字说“为此项目配置构建器”，在它下面是一个选项“Java builder”，已选中（选中）。– 筱
> 
> 对于android项目，应该依次有“Android Resource Manager”、“Android Pre Compiler”、“Java Builder”、“Android Package Builder”，要不要加进去试试？——苏达尔·尼玛兰
> 
> @SudarNimalan：我欠你一个道歉；我确实有这四个组成部分。我的“项目”分为 4 个项目——“core”、“core-android”、“core-desktop”和“core-html”。这有点奇怪，因为我使用 libGDX 项目设置 UI 进行了设置，当我回答您的问题时，我正在查看“核心”项目。我的“core-android”项目有所有四个（按此顺序），这是我的问题中存在问题的一个。– 筱

### 设想：

你有4个项目：

*   core：一个普通的java项目（这里是普通的纯java代码）
*   core-android：一个安卓应用项目。
*   core-desktop：与问题无关，因此被忽略。
*   core-html：与问题无关，因此被忽略。

core-android 项目依赖于 core 项目，通过将 core 添加到 core-android 的构建路径（属性 -> Java 构建路径 -> 项目 -> 添加 ...）和导出列表（属性 -> Java 构建路径 -> 顺序和出口）。

### 问题（不是真的）：

更改core中的一些代码并保存，运行core-android，eclipse安装最后编译的apk，而不是更改的新的。

### 原因：

~~这是预期的行为，您用来在 core-android 中引用核心项目的方式只会在 core 和 core-android 之间创建一个弱链接（或某种东西），core-andorid 的自动构建脚本不知道任何变化核心制作。您必须清理项目（只需要清理 core-android 项目），以便 Eclipse 可以删除现有的 apk（在 bin 目录下）并重新生成 apk（使用核心的最新代码更改）。~~

### 请参阅下面的 Xav 评论，Android SDK 工具应该知道项目构建路径下普通 Java 项目的更改，目前它不会正常执行此功能。

请注意，如果 core 是一个 Android 库项目，那么没有问题，并且您的 core-android 项目将知道 core 项目中的任何更改（java 代码、android 资源等），如果 core 仅在 core-android 中使用，这可能也是一种解决方法：将 Java 项目核心转换为 Android 库项目。

### 解决方法（Eclipse 链接源）：

在项目之间添加软链接还有另一种方式（不常用）：

1.  首先，您需要从 core-android 的构建路径中删除核心项目，这也会将其从导出和订单列表中删除。
2.  右键单击 core-android，选择 Build Path -> Link Source ... 添加 ../core/src 作为 Linked Folder Location 和 src-lib1 作为文件夹名称，最后见屏幕屏幕。

这会在 Package Explorer windows 中的 core-android 下创建一个符号链接 src-lib1 指向 core 的 src 目录，在文件系统中，您仍然有两个单独的项目文件夹。现在，如果您更改 core 中的一些代码并运行 core-android，Eclipse 将构建并安装最新的 apk。无需清理 core-android 项目。

链接源窗口： ![在此处输入图像描述](../Images/a47c15c798ecb61ca8f3903ea295b095.png)

包资源管理器中的最终外观：

![在此处输入图像描述](../Images/2737fa214ed0a5eae72b500e80f7ca6f.png)

您应该始终将常规方法视为第一选择，毕竟，与我上面描述的不寻常方法相比，手动清理项目并不是什么大问题。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-06T05:47:53.180

请按照此步骤..

**1.** `Project--> Build Automatically been checked??`

**2.** `Please following setting: project->properties->Builder`像这样？

**检查下图。**

![在此处输入图像描述](../Images/56ee8e1dd741064e8b3203f7e3c465c6.png)

并检查以下设置。

![在此处输入图像描述](../Images/82eb7d01e680dbee129e1454641f14af.png)

还要检查下面的图片

![在此处输入图像描述](../Images/bee1bc9263ec5a6bd1ab30b1f6b4e4d4.png)

如果问题仍然存在，请更新您的`ADT`& `SDK`。

希望对你有效 。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-03T05:24:01.107

导航到*Windows->Preferences->Android->Build*。确保未选中“跳过打包和 dexing...”复选框。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-07-06T05:44:32.703

问题是在您的 Eclipse 中，转到`Project Properties - Builder`，有一个 CheckBox`AndroidPackageBuilder`需要*被选中 True*。现在，每次您在项目中进行任何将反映在您的构建中的更改时，编译器都不会说“应用程序已经部署，无需重新安装”

即使您没有选择“自动构建”，这也将起作用，因为每次您通过单击“运行”图标或 Ctrl+F11 运行时，都会首先构建项目然后运行它。所以要求只是**启用 Android Package Builder**

![在此处输入图像描述](../Images/ea103456625885d9988262e79c72487a.png)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-09-14T14:14:22.650

你不会相信解决方案是多么简单和愚蠢

在 Eclipse 上，转到 Window-Prefences->run/debug ->launching

然后，在启动前保存所需
的脏编辑器：选择提示选项，
应用和确定

# git - 我可以强制 git 只使用 TLS 吗？

> ID：11304519
> 
> 赞同：4
> 
> 时间：2012-07-03T04:33:38.867
> 
> 标签：git, networking, ssl

当我在特定网络环境下使用 git 时，它会发送 SSL 数据包而不是 TLS 数据包，并显示“ `gnutls_hanshake() failed(): A TLS packet with unexpected length was receive`”。这是我从 WireShark 日志中发现的唯一区别：

**成功的结果**

![在此处输入图像描述](../Images/38e845f94c5ab7759f8b36d3f31e627a.png)

**失败的结果**

![在此处输入图像描述](../Images/3728125ee8e1dfe73a48370719297c77.png)

我使用的是 Ubuntu 12.04，x86-64 版本。而且这个问题也出现在 MacBook 和 11.10 的问题上。但是当我尝试使用 Win7 和 Git Gui 时，它没有出现错误。

如果我切换到其他网络环境，比如我家中的 pppoe，或者某个咖啡馆的 WiFi，我的 Ubuntu 12.04 问题就消失了（相同的设置，相同的操作系统）。

请帮助我知道我能做什么。至少如果我不得不与我的 MIS 争论这个问题，我可以弄清楚为什么这不应该发生。

谢谢 ！

PS.1。[我已经尝试了ask Ubuntu](https://askubuntu.com/questions/67935/issues-checking-out-code-from-google-code)中列出的解决方案，但没有奏效。

PS.2。[Filezilla 似乎也有这个问题](http://forum.filezilla-project.org/viewtopic.php?f=2&t=23205)。但我找不到他们如何解决问题（并适用于 git ）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T13:56:39.360

Git 使用 libcurl 进行 HTTP 连接。

我不知道库的任何运行时配置（它可能有），但您可能能够修改 Git 本身以强制它使用仅 TLS 连接。结帐 http.c。用于此目的的 libcurl 函数应该是 curl_easy_setopt，带有参数 CURLOPT_SSLVERSION 和 CURL_SSLVERSION_TLSv1。

# c++ - 如何使用 google mock 在 C++ 中模拟继承链

> ID：11304524
> 
> 赞同：5
> 
> 时间：2012-07-03T04:33:48.993
> 
> 标签：c++, mocking, tdd, gmock

我正在使用谷歌模拟，并想模拟这样的继承链：

```
class A
{
    // virtual method A1();
}
class B : public A
{
    // virtual method B1();
}

class C : public B
{
   // virtual method C1();
} 
```

模拟 A 时，我需要模拟 A1(); 模拟 B 时，我必须同时模拟 A1() 和 B1()；当模拟 C 时，我必须模拟 C1()、B1() 和 A1()。

```
//Mock Definition
class MockA : public A
{
   // mockA1()
}

class MockB : public B
{
   // mockA1()
   // mockB1()
}

class MockC : public C
{
   // mockA1()
   // mockB1() 
   // mockC1()  
} 
```

但是，对于 C 类，我只关心新的扩展函数 C1()。我不想模拟它的所有父方法，尤其是当定义的方法太多时。但是，如果我没有模拟从其父类继承的所有方法，我将无法实例化 mockC 类。

一种方法是要求mockC从C和mockB继承，但是它要求C和mockB都从B纯继承。但是C->B->A继承链是在第三方代码中定义的，我无法更改。

```
// I cannot change this to virtual inheritance
class C : public virtual B
{
    //method C1();
}

class mockB : public virtual B
{
    // mthod B1()
}

class mockC: public C, public mockB
{
   // mock method C1();
} 
```

有什么好的方法可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-08-14T08:26:40.807

仅为继承层次结构中的最后一个类创建模拟。然后在需要层次结构中任何类的所有测试中使用它。根据您的示例，您只能创建 mockC 类：

```
class MockC : public C {
   // mockA1()
   // mockB1() 
   // mockC1()  
} 
```

然后将它传递给您需要测试的所有依赖于*A*或*B*或*C*的类。这似乎不合逻辑。

# php - 如何将特定文件（带有整个文件路径）上传到 PHP 服务器？

> ID：11304525
> 
> 赞同：1
> 
> 时间：2012-07-03T04:33:59.640
> 
> 标签：php, file-upload

我想将特定文件（具有特定文件路径）上传到 PHP 服务器。我应该使用什么 javascript 或 HTML 代码？PS我对这一切有点陌生，所以请帮忙。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T04:47:04.270

好吧，您可以发送文件和所需的路径。然后，您可以使用带有*--parents选项的**cp*或*mkdir*一次创建所有父目录。

# javascript - Javascript 版本

> ID：11304527
> 
> 赞同：3
> 
> 时间：2012-07-03T04:34:18.230
> 
> 标签：javascript, version, release

好吧，我真的不知道我是否可以在这里问这个，但是。那么我的问题是，如果有人知道 JavaScript 的新版本，我已经看到 estable 版本是 1.8.5，所以如果有人知道即将发布的版本和新版本，请告诉我。谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-03T04:41:54.307

John Resig 很好地回答了这个问题；[JavaScript 的版本](http://ejohn.org/blog/versions-of-javascript/)

# facebook - 即使对于 google.com，Facebook 页面选项卡也是空的？

> ID：11304528
> 
> 赞同：0
> 
> 时间：2012-07-03T04:34:23.640
> 
> 标签：facebook

几天来，我一直在努力设置一个新的 Facebook 页面标签应用程序。无论我做什么，我都会看到一个空白页面（相信我，我已经阅读了谷歌可以找到的关于该主题的所有内容）。最后，我想我只需要看到一些有用的东西。所以，我设置了我能想到的最基本的页面标签应用程序。它所做的只是尝试加载谷歌。这是设置：[http](http://cl.ly/1h0R2c3O1T3i1T1B422d) ://cl.ly/1h0R2c3O1T3i1T1B422d 。没有什么了。

您可以尝试将其安装到您自己的页面：[https ://www.facebook.com/dialog/pagetab/?app_id=389862364403147&next=http://google.com](https://www.facebook.com/dialog/pagetab/?app_id=389862364403147&next=http://google.com)

当你这样做时，我怀疑你会看到我所看到的......什么都没有（除了熟悉的 Facebook 页面页眉和页脚）

以防 Facebook 没有加载 google.com，因为他们处于战争状态，这是我真正的应用程序的设置：http: [//cl.ly/2J2t3n3I1D1N262M1s0J](http://cl.ly/2J2t3n3I1D1N262M1s0J)

这是我尝试过的：

1.  使用可公开访问的域的代理。
2.  确保对页面选项卡和安全页面选项卡使用绝对 URL
3.  发送最简单的页面（我现在使用的 facebook_channel 页面只是一些由 html 和 body 标签包围的文本。
4.  不使用 html 和 body 标签，只使用文本。
5.  在 https 和 http 上创建服务器。

这些都不起作用。在此先感谢您的帮助。如果我有头发，我会把它撕掉。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-03T09:18:11.513

> 当你这样做时，我怀疑你会看到我所看到的......什么都没有（除了熟悉的 Facebook 页面页眉和页脚）

然后获得更好的测试浏览器:-)

Opera 给了我以下信息，

> 错误
> 
> [https://google.com/](https://google.com/)
> 
> 该网站不允许将其内容显示在框架中。它必须显示在单独的窗口中。

– 这是意料之中的，因为 Google 发送了 HTTP 标头`X-Frame-Options: SAMEORIGIN`

关于您自己的应用程序页面的问题 - 检查您的服务器日志，看看是否有请求出现；如果是这样，它是如何回答的。

然后检查您的 SSL 证书是否有问题 - 例如，如果本地测试站点显示在 iframe 中，Firefox 将不允许您为本地测试站点添加异常（尽管应该显示警告消息）。你能在 Facebook 之外访问你的测试页面吗？

# unix - 无法安装 CRON 作业

> ID：11304533
> 
> 赞同：18
> 
> 时间：2012-07-03T04:34:45.350
> 
> 标签：unix, cron, crontab, cron-task

当我尝试安装我的 Cron 作业时，我收到以下错误：

"crontab.txt":8: crontab 文件中的早期 EOF 错误，无法安装

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-07-03T04:34:45.880

在文件末尾，添加一个新的空行，并重新安装 crontab crontab.txt

# forms - 表单 Symfony2 多对一，在下拉列表中显示外键，使用集合

> ID：11304535
> 
> 赞同：0
> 
> 时间：2012-07-03T04:34:56.310
> 
> 标签：forms, collections, symfony, doctrine-orm

我正在尝试显示一个列表，如果我不使用“集合”，那么该字段似乎是活动的唯一方式，但我想添加一些东西以防它们不存在。我读到这就是这样做的方法。

```
 <?php

namespace Monse\WebBundle\Form;

use Symfony\Component\Form\AbstractType; use Symfony\Component\Form\FormBuilder;

class BasedeDatosType extends AbstractType {
    public function buildForm(FormBuilder $builder, array $options)
    {
        $builder
            ->add('nombreBD')
            ->add('ServidorBD', 'collection', array('type' => new ServidoresBDType()))
        ;
    }  public function getDefaultOptions(array $options)
    {
        return array(
            'data_class' => 'Monse\WebBundle\Entity\BasedeDatos',
        );
    }
    public function getName()
    {
        return 'basededatos';
    } } 
```

使用此字段不会出现。使用 ->add ('ServidorBD') 可以，但它不是下拉列表，我没有使用集合。

```
<?php

namespace Monse\WebBundle\Entity;

use Doctrine\ORM\Mapping as ORM;

/**
 * Monse\WebBundle\Entity\BasedeDatos
 *
 * @ORM\Table()
 * @ORM\Entity
 */
class BasedeDatos
{
    /**
     * @var integer $id
     *
     * @ORM\Column(name="id", type="integer")
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    private $id;

   /**
* @ORM\ManyToOne(targetEntity="Monse\WebBundle\Entity\ServidoresBD")
* @ORM\JoinColumn(name="servidores_id", referencedColumnName="id",nullable=false)
*
*/
    private $servidorBD;

    /**
     * @var string $nombreBD
     *
     * @ORM\Column(name="nombreBD", type="string", length=255,unique=true)
     */
    private $nombreBD;

    /**
     * Get id
     *
     * @return integer 
     */
    public function getId()
    {
        return $this->id;
    }

    /**
     * Set servidorBD
     *
     * @param integer $servidorBD
     */
    public function setServidorBD(\Monse\WebBundle\Entity\ServidoresBD $servidorBD)
    {
        $this->servidorBD = $servidorBD;
    }

    /**
     * Get servidorBD
     *
     * @return integer 
     */
    public function getServidorBD()
    {
        return $this->servidorBD;
    }

    /**
     * Set nombreBD
     *
     * @param string $nombreBD
     */
    public function setNombreBD($nombreBD)
    {
        $this->nombreBD = $nombreBD;
    }

    /**
     * Get nombreBD
     *
     * @return string 
     */
    public function getNombreBD()
    {
        return $this->nombreBD;
    }
    public function __construct()
    {
        $this->servidorBD = new \Doctrine\Common\Collections\ArrayCollection();
    }

    /**
     * Add servidorBD
     *
     * @param Monse\WebBundle\Entity\ServidoresBD $servidorBD
     */
    public function addServidoresBD(\Monse\WebBundle\Entity\ServidoresBD $servidorBD)
    {
        $this->servidorBD[] = $servidorBD;
    }
} 
```

有没有办法做到这一点？（如果这是一个愚蠢的问题，我很抱歉，我正在尝试学习如何正确使用 symfony2）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T08:23:22.130

集合允许您动态添加新表单。所以你需要添加一些javascript

进入表单生成器：

```
$builder
            ->add('nombreBD')
            ->add('ServidorBD', 'collection', array(
              'type' => new ServidoresBDType(),
              'allow_add' => true,
              'by_reference' => false
             )); 
```

进入你的edit.html.twig（或查看文件）：添加一个按钮和一个点击事件

```
<div id="collectionContainer"></div>
<script type="text/javascript">
$('#addField').click(function(){
            var collectionHolder = $('#ServidorBD');
            var prototype = collectionHolder.attr('data-prototype');
            var index = $('#collectionContainer').length - 1;

            form = prototype.replace(/\$\$name\$\$/g, index);
            $('#collectionContainer').append(form);
</script> 
```

# sql - 当源不改变时，我们可以多次运行合并（Oracle）查询吗

> ID：11304538
> 
> 赞同：2
> 
> 时间：2012-07-03T04:35:06.237
> 
> 标签：sql, oracle

我正在使用以下查询，

```
MERGE INTO table2 b
     USING (
         SELECT column1,column2,column3
         FROM table1
     ) a
     ON (a.column3 = 'UPDATE')
     WHEN NOT MATCHED THEN
         INSERT (b.column1, b.column2) VALUES (a.column1,a.column2)
     WHEN MATCHED THEN
         UPDATE SET a.column1 = b.column1,a.column2=b.column2; 
```

当 table2 为空时，它第一次成功运行。如果我第二次运行，即使 table1 数据没有更改，我也会收到错误`unable to get a stable set of rows in the source tables`消息。是否有解决此错误的方法。

正如在这个[线程](https://stackoverflow.com/questions/2337271/ora-30926-unable-to-get-a-stable-set-of-rows-in-the-source-tables)中提到的，我尝试放置`Distinct`但它没有解决..

我认为`rowid`应该在这里解决目的..但不确定

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-03T05:54:28.617

`ON (a.column3 = 'UPDATE')`还不够。

您需要说明这两个表是如何相互关联的。这很重要，以便：
- 表 1 中的给定行匹配表 2 中的一行*（更新）*
- 或者，表 1 中的给定行在表 2 中没有匹配*（插入）*

这意味着该`ON`子句***必须***以 1:1 或 1:0 将两个表匹配在一起。从来没有很多：很多。在下面的代码中，我将假设这`column1`是一个唯一标识符。如果是这种情况，它符合 1:1 的要求。

如果您没有办法唯一标识每个表中的每一行，那么您需要更改数据以便可以。

```
MERGE INTO
  table2 b
USING (
  SELECT column1,column2,column3
  FROM table1
) a
ON (
  b.column1 = a.column1
)
WHEN NOT MATCHED THEN
  INSERT (b.column1, b.column2) VALUES (a.column1,a.column2)
WHEN MATCHED THEN
  UPDATE SET b.column2 = a.column2; 
```

请注意，我在这里没有使用该`UPDATE`值，因为它似乎没有*必要*（*您可以提供更多信息来解释它的原因）*。

相反，对于 中的每一行`table1`，这会在 中搜索`table1`具有相同值的行`column1`。如果*没有*找到，`INSERT`则执行。如果找到一个*，*则执行更新。

你一直在做的是说如果（`a.column3 = 'UPDATE'`）找到匹配项。这意味着 in 中的每一行都与 in 中*的*每一行相`table2`匹配——使其尝试使用.`'UPDATE'``table1``table2`*`table1`*

 *然后，每行将`a.column3 <> 'UPDATE'`被插入到`table2`.*

# ruby-on-rails - Ruby on Rails select_tag

> ID：11304540
> 
> 赞同：0
> 
> 时间：2012-07-03T04:35:36.543
> 
> 标签：ruby-on-rails

我将 select_tag 用于列表框，用于创建用户，用户正在创建但在数据库中为列表框中的选定选项存储空值。

查看代码：

```
 About     :
<div class="field">
  &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp &nbsp
  <%= select_tag "about_id",options_from_collection_for_select(@abouts, "id", "name"),:multiple =>true%>
</div> 
```

控制器动作创建：

```
def create
    @student = Student.new(params[:student])
    respond_to do |format|
      if @student.save
      Query.query_confirmation(@student).deliver

       format.html { redirect_to :controller=>"students",:action=>"new", notice: 'Student was successfully created.' }
        flash[:notice]="Your Question has been sent to the University they will revert back soon"
        format.json { render json: @student, status: :created, location: @student }
      else
        format.html { render action: "new" }
        format.json { render json: @student.errors, status: :unprocessable_entity }
      end
    end
  end 
```

帮助将不胜感激。

# c# - 如何更新光标位置？

> ID：11304542
> 
> 赞同：1
> 
> 时间：2012-07-03T04:35:43.700
> 
> 标签：c#, user-interface, richtextbox

> **可能重复：**
> [在 RichTextBox 中设置光标](https://stackoverflow.com/questions/1495168/set-cursor-in-richtextbox)

```
private void richTextBox1_TextChanged(object sender, EventArgs e)
{
    string text = richTextBox1.Text.ToString();          
    text = text.Replace("a", "අ");
    text = text.Replace("අඅ", "ආ");
    richTextBox1.Text = text.ToString();
} 
```

这是我的代码。在这里得到结果后，光标位置在字母的前面，所以我如何在字母之后更新光标位置？请帮忙........

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T05:29:32.043

您可以将 SelectionStart 值设置为大于文本长度的数字。这将自动将光标放在最后一个字符之后。例如 `this.rechTextBox1.SelectionStart = int.MaxValue;`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T05:00:10.400

```
richTextBox1.Focus();
richTextBox1.SelectionStart = richTextBox1.Text.Length;
richTextBox1.ScrollToCaret(); 
```

**TextBox.SelectionStart 属性：**获取或设置文本框中所选文本的起始位置。[MSDN](http://msdn.microsoft.com/en-us/library/system.windows.controls.textbox.selectionstart%28v=vs.95%29.aspx)

**编辑：** 这是另一个选项...如果您使用`richTextBox1.AppendText`而不是`richTextBox1.Text`，它应该自动将光标放在末尾。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-04T04:08:43.663

请执行下列操作：

```
richTextBox1.SelectionStart = richTextBox1.Text.Length;
richTextBox1.Focus(); 
```

所以你的活动应该是：

```
private void richTextBox1_TextChanged(object sender, EventArgs e)
{
   string text = richTextBox1.Text;
   text = text.Replace("a", "අ");
   text = text.Replace("අඅ", "ආ");
   text = text.Replace("i", "ඉ");
   richTextBox1.Text = text.ToString();
   richTextBox1.SelectionStart = richTextBox1.Text.Length;
   richTextBox1.Focus();
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-04T04:12:36.017

尝试这个：

```
private void richTextBox1_TextChanged(object sender, EventArgs e)
{
    string text = richTextBox1.Text;
    text = text.Replace("a", "අ");
    text = text.Replace("අඅ", "ආ");
    text = text.Replace("i", "ඉ");
    this.richTextBox1.Text = text.ToString();

    TextPointer caret = this.richTextBox1.CaretPosition;
    caret = caretPos.DocumentEnd;
    this.richTextBox1.CaretPosition = caret;
} 
```

希望这可以帮助！

# c# - .Net WebService + ExtJs 填充网格

> ID：11304545
> 
> 赞同：1
> 
> 时间：2012-07-03T04:36:18.260
> 
> 标签：c#, extjs, extjs4.1

我制作了一个小程序来使用 ExtJs 和 .NET webservice 方法填充 gridPanel，但它没有填充..我的代码如下

//这是我的网络服务方法

```
 [WebMethod(EnableSession = true)]
        [ScriptMethod(ResponseFormat = ResponseFormat.Json, UseHttpGet = true, XmlSerializeString = false)]
        public List<Student> GetStudentList()
        {
            List<Student> obList = new List<Student>();
            obList.Add(new Student(1, "John", "Doe"));
            obList.Add(new Student(2, "Michael", "Crowd"));
            obList.Add(new Student(3, "Gunnar", "Rasmundsson"));
            obList.Add(new Student(4, "Alicia", "Mankind"));
            return obList;
        }

    public class Student
    {
        private int _stid;
        private string _stname;
        private string _stservice;

        public Student(){}
        public Student(int stid, string stname, string stservice)
        {
            this.StId = stid;
            this.StName = stname;
            this.StService = stservice;
        }

        public int StId {
            get { return this._stid; }
            set { this._stid = value; } 
        }
        public string StName { 
            get{return this._stname;}
            set { this._stname = value; }
        }
        public string StService { get { return this._stservice; } set { this._stservice = value; } }
    } 
```

//这是我的 ExtJs 网格填充代码

```
 Ext.onReady(function () {
            var myStore = new Ext.data.JsonStore({
                // Load data at once
                autoLoad: true,
                // Override default http proxy settings
                proxy: new Ext.data.HttpProxy({
                    // Call web service method using GET syntax
                    url: 'GetStudent.asmx/GetStudentList',
                    // Ask for Json response
                    headers: { 'Content-type': 'application/json' }
                }),
                // Root variable 
                root: 'd',
                // Record identifier
                id: 'StId',
                //reader:Jreader,
                // Fields declaration
                fields: ['StId', 'StName', 'StService'],
            });

            var grid = new Ext.grid.GridPanel({
                // Set store
                store: myStore,
                // Columns definition
                columns: [
                    { dataIndex: 'StId', header: 'St Id' },
                    { dataIndex: 'StName', header: 'St Name' },
                    { dataIndex: 'StService', header: 'St Service' }
                ],
                // Render grid to dom element with id set to panel
                renderTo: 'divGrid',
                width: 422,
                height: 300
            });
        }); 
```

我也包括了

```
 <body>
        <form id="form1" runat="server">
            <asp:ScriptManager ID="ScriptManager1" runat="server">
                <Services>
                    <asp:ServiceReference Path="~/GetStudent.asmx" />
                </Services>
            </asp:ScriptManager>
            <div id="divGrid"></div>
        </form>
    </body> 
```

请让我知道我错在哪里，谢谢您的帮助！！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T04:47:59.877

你的代码看起来不错。你检查了firefox-firebug吗？只需检查流量，看看您遇到了什么错误。

**编辑：**添加代码。

以下是基于您给定示例的完整工作示例：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>ExtJS ASP.NET WebService</title>

    <script type="text/javascript" src="js/ext/adapter/ext/ext-base.js"></script>
    <script type="text/javascript" src="js/ext/ext-all.js"></script>
    <link rel="stylesheet" href="js/ext/resources/css/ext-all.css"/>
    <script type="text/javascript">

        Ext.onReady(function () {
            var myStore = new Ext.data.JsonStore({
                // Load data at once
                autoLoad: true,
                // Override default http proxy settings
                proxy: new Ext.data.HttpProxy({
                    // Call web service method using GET syntax
                    url: 'Service.asmx/GetStudentList',
                    // Ask for Json response
                    headers: { 'Content-type': 'application/json' }
                }),
                // Root variable 
                root: 'd',
                // Record identifier
                id: 'StId',
                //reader:Jreader,
                // Fields declaration
                fields: ['StId', 'StName', 'StService'],
            });

            var grid = new Ext.grid.GridPanel({
                // Set store
                store: myStore,
                // Columns definition
                columns: [
                    { dataIndex: 'StId', header: 'St Id' },
                    { dataIndex: 'StName', header: 'St Name' },
                    { dataIndex: 'StService', header: 'St Service' }
                ],
                // Render grid to dom element with id set to panel
                renderTo: 'divGrid',
                width: 422,
                height: 300
            });
        });                
    </script>
</head>
<body>
  <div id="divGrid"></div>
</body>
</html> 
```

服务.asmx 代码：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Services;
using System.Web.Script.Services;

namespace WebService4ExtJS
{
    /// <summary>
    /// Summary description for Service1
    /// </summary>
    [ScriptService]
    public class Service : System.Web.Services.WebService
    {
        [WebMethod(EnableSession = true)]
        [ScriptMethod(ResponseFormat = ResponseFormat.Json, UseHttpGet = true, XmlSerializeString = false)]
        public List<Student> GetStudentList()
        {
            List<Student> obList = new List<Student>();
            obList.Add(new Student(1, "John", "Doe"));
            obList.Add(new Student(2, "Michael", "Crowd"));
            obList.Add(new Student(3, "Gunnar", "Rasmundsson"));
            obList.Add(new Student(4, "Alicia", "Mankind"));
            return obList;
        }
    }

    public class Student
    {
        private int _stid;
        private string _stname;
        private string _stservice;

        public Student() { }
        public Student(int stid, string stname, string stservice)
        {
            this.StId = stid;
            this.StName = stname;
            this.StService = stservice;
        }

        public int StId
        {
            get { return this._stid; }
            set { this._stid = value; }
        }
        public string StName
        {
            get { return this._stname; }
            set { this._stname = value; }
        }
        public string StService { get { return this._stservice; } set { this._stservice = value; } }
    }
} 
```

不同的是html代码部分。

**编辑：**添加解决方案（由 Nitin Soni 在评论中提供，在此处添加，因此如果有人搜索不应该感到困惑）

您可以看到 Nitin 在评论中说该问题特定于 ExtJS 4.1 版：

> 我检查了你的代码并做了同样的事情，是的，它也适用于我。我进一步分析了这个问题与 ExtJs 的版本有关。您的代码（代码项目代码）使用的是 Extjs 2.2 库文件，而我使用的是 Extjs 4.1 最新的库文件。似乎问题出在特定的 ext-all.js 文件版本上。我已经用旧版本替换了这个文件，它可以工作。

他进一步提供了解决方案：（再次在评论中）

> 我找到了使用 Extjs 4.1 的解决方案。同样，我必须在 Store 方法阅读器中使用以下代码行：{ type: 'json', root: 'd' }

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-12-31T16:15:29.363

下面是我的测试。出于我的测试目的，我创建了与其他目录（例如 app）相同级别的数据目录。我在这个目录中移动了 Web 服务文件。我没有触及 index.html 中的任何内容。

并且我还在 WebMethod 中添加了两行 JSON 格式的代码。

```
JavaScriptSerializer js = new JavaScriptSerializer();
Context.Response.Write(js.Serialize(obList)); 
```

对于此更改，我还在 WebMethod 中将 Student 的返回类型更改为 void。

以下是我制作的 app.js 代码。

```
Ext.onReady(function () {
Ext.create("Ext.panel.Panel", {
    width: 800,
    height: 500,
    renderTo: Ext.getBody(),
    layout: 'fit',
    items: [{
        xtype: 'grid',            
        columns: [{
            text: 'Id',
            dataIndex: 'StId',
            flex: 1
        }, {
            text: 'Name',
            dataIndex: 'StName',
            flex: 1
        }, {
            text: 'Service',
            dataIndex: 'StService',
            flex: 1
        }],
        store: {
            autoLoad: true,
            fields: ['StId', 'StName', 'StService'],               
            proxy: {
                type: 'ajax',
                url: './data/GetStudent.asmx/GetStudentList',
                reader: {
                    type: 'json',
                    rootProperty: 'd'
                }
            }
        }
    }]
})

}); 
```

这个对我有用。

# nutch - 深度的影响，在 nutch 爬行中的 topn

> ID：11304550
> 
> 赞同：2
> 
> 时间：2012-07-03T04:37:09.723
> 
> 标签：nutch

我一直想知道深度和topn对于nutch爬行有什么影响？例如，假设深度为 100，topn 为 10000 确保完全爬网，将深度更改为 1000 会影响爬网所需的时间吗？那么爬一个陌生的网站，给个任意大的depth和topn就可以了吗？

谢谢您的帮助，

阿南特。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T16:03:22.397

depth 是从根开始的跳数，topn 是每个级别中要获取的最大链接。因此，通过增加深度，AFAIK 肯定会增加爬行所需的时间。将深度从 100 更改为 1000 应该会大大增加爬行时间。

# ipad - 与 DropBox API 相关

> ID：11304553
> 
> 赞同：0
> 
> 时间：2012-07-03T04:37:29.597
> 
> 标签：ipad, dropbox-api

我在我的 iPad 应用程序中使用 Dropbox API。意味着我正在访问 Dropbox 文件夹并在我的应用程序中显示文件，通过从该 Dropbox 应用程序文件夹中选择一个文件，我将它使用到我的应用程序中。现在我想将它提交到 AppStore。所以在提交到 AppStore 之前。我如何将它提交到 DropBox 站点中的生产。我在 Dropbox 站点中看到它，但我没有得到它。如果有人知道请帮助我。 ![在此处输入图像描述](../Images/b2b0c1a31ac79d0712375460533fbc7b.png)

并且在注销时正在使用
[[DBSession sharedSession] unlinkAll]; 但登录后，如果我转到 dropbox，它会显示以下屏幕。但我想显示登录屏幕。当我选择“更改”时，它正在显示登录屏幕。第一次显示登录我需要做什么。当我点击更改时会调用哪个方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T16:48:09.183

您可以通过单击应用程序选项页面上的“申请生产状态”链接并填写表格来申请生产状态。

要访问您的应用程序的选项页面，请访问此处： [开发人员 - Dropbox](https://www.dropbox.com/developers/apps) 然后，单击您要申请生产的应用程序右侧的“选项”链接。

请务必对表格上的问题给出清晰、完整的答案。您可以在此处找到有关申请生产的更多信息： [核心概念 - Dropbox](https://www.dropbox.com/developers/start/core)

关于您的编辑，虽然与第一个问题无关，但听起来您希望能够立即将用户引导到登录屏幕，因为他们可能登录了错误的帐户。Dropbox API 目前没有任何这样的方法来做到这一点，相反，如果用户希望更改帐户，您应该让他们自己使用“更改”按钮。

# asp.net - 通过 DataKeyValue 获取 GridViewRow

> ID：11304557
> 
> 赞同：1
> 
> 时间：2012-07-03T04:37:59.380
> 
> 标签：asp.net, .net, gridview

我们可以在给定 GridView DataKey 值的情况下获取 GridViewRow 吗？

我知道我们可以遍历所有行并获取行，但我需要知道是否有快捷方式来查找行。

例如，如果我们有 RowIndex，我们可以很容易地找到 Row。是否有类似的方法来查找给定 GridView DataKey 值的行。

对此的任何帮助都将受到高度赞赏。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T04:41:31.137

你可以这样做

```
string str = gvListing.DataKeys[rowIndex].Values["YourDataKeyName"].ToString(); 
```

# php - 通过 php/html 文件传递 变量的方法？需要（）/包含（）或函数（）？

> ID：11304561
> 
> 赞同：0
> 
> 时间：2012-07-03T04:38:54.277
> 
> 标签：php, function, variables, include, require

我有一个`output.php`文件，它结合了 HTML 和 PHP 内容。

**index.php**有

```
<?php
     require("output.php");
?> 
```

哪种方式是传递变量的更好方法？我应该有

```
<?php
     $variable = $_GET['r']; //this is some variable that will be passed into output.php
     require("output.php");
?> 
```

或者使用 function() 会更好，所以我可以传递某种变量

```
<?php
     $variable = $_GET['r'];
     echo output($variable);
?> 
```

**输出.php**

```
function output(variable){
    //html and php
} 
```

但是，我不太确定 HTML 是否可以在函数中使用？有什么建议么？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T05:16:00.627

根据我的说法，最好使用功能方法。该功能可以在多个文件中使用。就Html而言，它可以支持没有这样的问题。我会建议你使用用户功能方法。

# c# - 在 C# 中设置和获取

> ID：11304562
> 
> 赞同：1
> 
> 时间：2012-07-03T04:38:58.123
> 
> 标签：c#, c#-4.0, get, set

我只是想检查我是否理解正确。get 中的返回值使返回值等于私有实例数据。并且设置值使公共值的值等于私有实例的值。我理解正确吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-03T04:43:17.250

不总是。

`Get`返回开发人员认为属性的值应该是`set`什么，并更改开发人员认为适合存储数据的任何内容。属性和内部字段之间通常存在一对一的映射，但并非总是如此。

```
 int UltimateAnswer {get {return 42;}} // no internal field at all
 int Direct
 { 
     get {return _direct;}
     set {_direct = value;}
 }
 int WithConversion 
 {
    get {return _stored * 100;}
    set { _stored = value / 100;}
 }
 int AutoFiled {get;set;} // this one directly maps to automatically created field. 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-03T04:42:50.387

如果你是财产被定义为：

```
 private int _value;
    public int Value
    {
        get { return _value; }
        set { _value = value; }
    } 
```

那么是的，get 正在返回私有字段的值，`_value`而 set 正在设置，`_value`但它也可能不同。

```
 public int Value
        {
            get { return getCalculatedValue() } 
            set {
                if (_value > 0)
                {
                    _value = value;
                }
                else
                {
                    _value = -1;
                }
            }
        } 
```

在上面的示例中，get 是从某个名为的函数返回计算`getCalculatedValue()`值，而 set 是验证某个条件的值，然后适当地设置它。

# javascript - 内联函数调用有什么好处？

> ID：11304566
> 
> 赞同：12
> 
> 时间：2012-07-03T04:39:28.203
> 
> 标签：javascript, jquery

我看到了这段代码（很明显它在 jQuery 中，有修改）

```
(function(window,undefined){
    var jQuery=(function(){
        var jQuery=something;
        jQuery.xxx=xxx;
        //...
        return jQuery;
    })();
    //...
    window.jQuery=window.$=jQuery;
})(window); 
```

虽然我理解在内联函数调用中包装代码可以清楚地定义变量范围，但我不明白这样做的好处

1.  传递`window`参数而不是直接使用它，
2.  通过未定义的参数获取实例`undefined`，以及
3.  由另一个内联函数调用的返回值定义`jQuery`。有人可以解释一下吗？

* * *

**编辑**更清楚地写＃3：

我的理解是代码`jQuery`在另一个函数中定义然后返回它。

```
//(function(window,undefined){
var jQuery=(function(){
    // Inside this function defines jQuery and return it?
    var jQuery=function(selector,context){
        return new jQuery(selector,context); //simplified
    };
    jQuery.xxx=xxx;
    //...
    return jQuery;
})(); // This executes the inline function and assign `jQuery` with the return value???
//... })(window); 
```

这更像是以下内容：

```
function define_jQuery(){
    // Inside this function defines jQuery and return it?
    var jQuery=function(selector,context){
        return new jQuery(selector,context); //simplified
    };
    jQuery.xxx=xxx;
    //...
    return jQuery;
}

//(function(window,undefined){
var jQuery=define_jQuery(); // This executes the inline function and assign `jQuery` with the return value???
//... })(window); 
```

这样做会不会更简单：

```
//(function(window,undefined){
var jQuery=function(selector,context){
    return new jQuery(selector,context); //simplified
};
jQuery.xxx=xxx;
//...
//... })(window); 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-03T04:48:58.370

分别回答这些问题：

1.  怎么`window`进去了？因为在 JavaScript 中取消引用变量是很痛苦的。传递一个实例意味着你不必这样做。通常，该机制如下所示：

    ```
    (function (window, document, $) {
    }(window, window.document, jQuery)); 
    ```

    在这种情况下，不需要进入全局范围来取消引用这三个中的任何一个（并且 jQuery 可以在其中`.noConflict()`启动）。

2.  这是有效的 JavaScript: `undefined = 2;`。我承认这是非常愚蠢的，但这是可能的。但是，如果在函数中接受的参数多于传递的参数，则可以确信它是真实`undefined`的，而不是它的黑客副本。

3.  从前一个函数返回 jQuery 允许方法链接：`$('#sel').func1().func2()`. 这是可能的，因为 func1 可能看起来像这样：

    ```
    jQuery.fn.func1 = function () {
        return $(this).each(function () {
            // do something fabulous
        };
    }; 
    ```

`return $(this).bla_de_bla()`是以下的简写：

```
 $(this).bla_de_bla(..);
    return $(this); 
```

它还假定 .bla_de_bla() 也返回`$(this)`

**编辑：**修改 #3 以注意它最适合链接而不是环游`.noConflict()`和错误命名`$`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T04:59:26.973

一个原因是代码缩小。缩小器不能缩小全局名称，因为它们不再引用全局对象。通过传入您正在使用的所有对象，它们将成为本地对象。这样，对`window`, 和的数千个引用`undefined`就可以缩小。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T04:46:37.223

作为参数传递`window`确实很麻烦，而且浪费空间：它是一个对象，因此是通过引用传递的。对闭包内部的任何更改`window`都会影响与外部相同的实例。

获取`undefined`参数对于任何愚蠢到命名实际变量的人来说都是一种对策`undefined`（无论如何您都不能在较新的浏览器中这样做）

据我所知，第二个内联函数完全没有意义，除非在定义`jQuery`属性的过程中使用了临时变量。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-03T04:58:25.323

关于“窗口”参数的美丽部分不是取消引用。如果您在一个实例中传入“window”而在另一个实例中传入 window.parent 怎么办（想想控制父级以实现高级功能的子窗口，呵呵！！！）。

1.  上面解释过。

2.  我还不太确定。

3.  连锁！！！例如：$('#blah').hide().show();

如果 hide 函数没有返回对象（#blah），show 不能用它做任何事情！它将#blah 返回到 show 函数。

JQuery 总是比我聪明一点（而且我通常会找到隐藏的线索！）。

# javascript - 内联函数调用有什么好处？

> ID：11304573
> 
> 赞同：-3
> 
> 时间：2012-07-03T04:40:58.313
> 
> 标签：javascript, jquery

> **可能重复：**
> [没有名称的函数？](https://stackoverflow.com/questions/11304566/functions-with-no-name)

我看到了这段代码（很明显它在 jQuery 中，有修改）

```
(function(window,undefined){
    var jQuery=(function(){
        var jQuery=something;
        jQuery.xxx=xxx;
        //...
        return jQuery;
    })();
    //...
    window.jQuery=window.$=jQuery;
})(window); 
```

虽然我理解在内联函数调用中包装代码可以清楚地定义变量范围，但我不明白这样做的好处

1.  传递`window`参数而不是直接使用它，
2.  通过未定义的参数获取实例`undefined`，以及
3.  通过另一个内联函数调用的返回值来定义`jQuery`（直接定义它不是用更少的代码更好吗？）。

有人可以解释一下吗？

# ruby-on-rails - 学习 Ruby on Rails？

> ID：11304578
> 
> 赞同：0
> 
> 时间：2012-07-03T04:41:31.843
> 
> 标签：ruby-on-rails, ruby

我是 PHP 开发人员，自 2 年以来一直在研究它。我在 PHP 之前曾在 C#.NET 上工作过，但后来我转向 PHP，现在我在 PHP 世界工作。我在 WordPress 开发方面有很好的经验，并且我是一个快速学习可靠的面向对象编程的人。

现在，我真的很想学习一些其他现有的编程语言。我热衷于学习 Ruby on Rails，因为我可以看到，它每天都在增长。

1.  谁能告诉我我的这个决定？
2.  难道Ruby on Rails 框架提供的所有功能都像其他的一样吗？
3.  Ruby on Rails 会在未来几年中脱颖而出吗？
4.  我能过上好日子吗？

我并不完全想继续使用 Ruby on Rails，我会继续使用 PHP，但 Ruby 听起来很棒。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T04:46:10.527

我是一名 Rails 开发人员，我发现 Rails 在构建 Web 应用程序和 Web 服务方面非常出色。使用 Rails 我可以完成 50% 的工作。不管怎样，有一个很棒的网站可以开始使用 Rails。如果你愿意，你可以花一些时间：http: [//guides.rubyonrails.org/](http://guides.rubyonrails.org/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T05:47:23.387

我也是 Rails 开发人员，我开始使用 PHP。但是，Rails 很棒！根据您的问题，我认为答案是肯定的。看看有多少公司在寻找 Rails 开发者。

您可以在这里找到很棒的教程：

瑞安·贝茨的[RailsCasts.com](http://railscasts.com)

[http://railsapps.github.com/](http://railsapps.github.com/) - 也是很好的学习资源

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T04:46:23.520

如果您想坚持使用 PHP，但开始使用 RoR，那么您可能会考虑使用 CakePHP。我用 CakePHP 开始了 MVC，它很容易过渡到 RoR。现在我两者都知道，并获得了一些很棒的经验。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-03T04:52:16.623

答案是：

# 是的。

1.  你的决定是好的。
2.  RoR 拥有您可能需要的一切。
3.  # 是的。

4.  我的魔术 8 球 说：

    # 是的。

* * *

# [Rails教程](http://ruby.railstutorial.org/)

Michael *Hartl*的作品就是你所需要的。

# php - 寻找 PHP ord() 函数的良好 Unicode 兼容替代方案

> ID：11304582
> 
> 赞同：6
> 
> 时间：2012-07-03T04:41:59.140
> 
> 标签：php, unicode

经过相当多的搜索和测试，我发现的 PHP`ord()`函数的 Unicode 兼容替代方案的最简单方法是：

```
$utf8Character = 'Ą';
list(, $ord) = unpack('N', mb_convert_encoding($utf8Character, 'UCS-4BE', 'UTF-8'));
echo $ord; # 260 
```

我在[这里](https://stackoverflow.com/questions/10333098/utf-8-safe-equivelant-of-ord-or-charcodeat-in-php)找到了这个。但是，[有人提到](http://www.php.net/manual/en/function.ord.php#106052)这种方法相当慢。有谁知道几乎一样简单的更有效的方法？UCS-4BE 是什么意思？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-03T05:03:31.427

您也许也可以使用 来实现此功能[`iconv()`](http://php.net/iconv)，但`mb_convert_encoding`您的方法对我来说看起来很合理。只要确保它`$utf8Character`是单个字符，而不是长字符串，它就会表现得相当好。

UCS-4BE 是一种 Unicode 编码，它将每个字符存储为一个 32 位（4 字节）整数。这说明了“UCS-4”；“BE”前缀表示整数以大端顺序存储。这种编码的原因是，与较小的编码（如 UTF-8 或 UTF-16）不同，它不需要代理对——每个字符都是固定大小的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-07-15T16:18:47.297

我刚刚写了一个`polyfill`缺少多字节版本的`ord`和`chr`考虑到以下内容：

*   它定义了函数`mb_ord`并且`mb_chr`仅当它们不存在时。如果它们确实存在于您的框架或某些未来版本的 PHP 中，则 polyfill 将被忽略。

*   它使用广泛使用的`mbstring`扩展来进行转换。如果`mbstring`未加载扩展，它将使用该`iconv`扩展。

我还添加了 HTMLentities 编码/解码和编码/解码为 JSON 格式的功能，以及一些演示代码如何使用这些功能

* * *

## **代码**：

```
if (!function_exists('codepoint_encode')) {
    function codepoint_encode($str) {
        return substr(json_encode($str), 1, -1);
    }
}

if (!function_exists('codepoint_decode')) {
    function codepoint_decode($str) {
        return json_decode(sprintf('"%s"', $str));
    }
}

if (!function_exists('mb_internal_encoding')) {
    function mb_internal_encoding($encoding = NULL) {
        return ($from_encoding === NULL) ? iconv_get_encoding() : iconv_set_encoding($encoding);
    }
}

if (!function_exists('mb_convert_encoding')) {
    function mb_convert_encoding($str, $to_encoding, $from_encoding = NULL) {
        return iconv(($from_encoding === NULL) ? mb_internal_encoding() : $from_encoding, $to_encoding, $str);
    }
}

if (!function_exists('mb_chr')) {
    function mb_chr($ord, $encoding = 'UTF-8') {
        if ($encoding === 'UCS-4BE') {
            return pack("N", $ord);
        } else {
            return mb_convert_encoding(mb_chr($ord, 'UCS-4BE'), $encoding, 'UCS-4BE');
        }
    }
}

if (!function_exists('mb_ord')) {
    function mb_ord($char, $encoding = 'UTF-8') {
        if ($encoding === 'UCS-4BE') {
            list(, $ord) = (strlen($char) === 4) ? @unpack('N', $char) : @unpack('n', $char);
            return $ord;
        } else {
            return mb_ord(mb_convert_encoding($char, 'UCS-4BE', $encoding), 'UCS-4BE');
        }
    }
}

if (!function_exists('mb_htmlentities')) {
    function mb_htmlentities($string, $hex = true, $encoding = 'UTF-8') {
        return preg_replace_callback('/[\x{80}-\x{10FFFF}]/u', function ($match) use ($hex) {
            return sprintf($hex ? '&#x%X;' : '&#%d;', mb_ord($match[0]));
        }, $string);
    }
}

if (!function_exists('mb_html_entity_decode')) {
    function mb_html_entity_decode($string, $flags = null, $encoding = 'UTF-8') {
        return html_entity_decode($string, ($flags === NULL) ? ENT_COMPAT | ENT_HTML401 : $flags, $encoding);
    }
} 
```

## **如何使用**：

```
echo "Get string from numeric DEC value\n";
var_dump(mb_chr(50319, 'UCS-4BE'));
var_dump(mb_chr(271));

echo "\nGet string from numeric HEX value\n";
var_dump(mb_chr(0xC48F, 'UCS-4BE'));
var_dump(mb_chr(0x010F));

echo "\nGet numeric value of character as DEC int\n";
var_dump(mb_ord('ď', 'UCS-4BE'));
var_dump(mb_ord('ď'));

echo "\nGet numeric value of character as HEX string\n";
var_dump(dechex(mb_ord('ď', 'UCS-4BE')));
var_dump(dechex(mb_ord('ď')));

echo "\nEncode / decode to DEC based HTML entities\n";
var_dump(mb_htmlentities('tchüß', false));
var_dump(mb_html_entity_decode('tch&#252;&#223;'));

echo "\nEncode / decode to HEX based HTML entities\n";
var_dump(mb_htmlentities('tchüß'));
var_dump(mb_html_entity_decode('tch&#xFC;&#xDF;'));

echo "\nUse JSON encoding / decoding\n";
var_dump(codepoint_encode("tchüß"));
var_dump(codepoint_decode('tch\u00fc\u00df')); 
```

## **输出**：

```
Get string from numeric DEC value
string(4) "ď"
string(2) "ď"

Get string from numeric HEX value
string(4) "ď"
string(2) "ď"

Get numeric value of character as DEC string
int(50319)
int(271)

Get numeric value of character as HEX string
string(4) "c48f"
string(3) "10f"

Encode / decode to DEC based HTML entities
string(15) "tch&#252;&#223;"
string(7) "tchüß"

Encode / decode to HEX based HTML entities
string(15) "tch&#xFC;&#xDF;"
string(7) "tchüß"

Use JSON encoding / decoding
string(15) "tch\u00fc\u00df"
string(7) "tchüß" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-28T18:41:37.223

这是我使用该公式将字符串转换为 int 的方法。您还可以分解字符串并使用 array_reduce 对其进行总结。

```
/**
 * @param $string
 * @param int $index
 * @return mixed
 */
function convertEncoding($string, $index = 0, $carryResult = 0)
{
    $remainder = mb_strlen(mb_substr($string, $index));
    while ($remainder) {
        $currentCharacter = $string[$index];
        list(, $ord) = unpack('N', mb_convert_encoding($currentCharacter, 'UCS-4BE', 'UTF-8'));
        return $this->convertEncoding($string, $index += 1, $ord += $carryResult);
    }
    return $carryResult;
} 
```

# android - 以原始尺寸显示图像

> ID：11304588
> 
> 赞同：0
> 
> 时间：2012-07-03T04:42:48.317
> 
> 标签：android, bitmap, imageview

我的显示位图有问题，我的原始图像 640*960 但是当我在位图中显示时，尺寸变成 120*240 ，我如何才能以原始尺寸显示？

```
 BitmapFactory.Options options = new BitmapFactory.Options();
            options.inSampleSize = 8;
            Bitmap bitmap = BitmapFactory.decodeResource(this.getResources(), Imgid[(int)(Math.random()*Imgid.length)], options);

            ImageView iv = (ImageView)findViewById(position)
            iv.setImageBitmap(processingBitmap_Brightness(bitmap)); 
```

我记录 bitmap.getwidth() 和 getheight() 但没有 640*960

现在我可以用这段代码得到原始大小，但现在给我内存不足，所以我可以处理图像？

```
BitmapFactory.Options options = new BitmapFactory.Options();
    //options.inSampleSize = 4;
    options.inScaled = false;
    ImageView iv = (ImageView)findViewById(position);
    bitmap=BitmapFactory.decodeResource(getResources(), Imgid[(int)(Math.random()*Imgid.length)],options);
    iv.setImageBitmap(processingBitmap_Brightness(bitmap));     
    Log.i("ID4",bitmap.getWidth()+" * "+bitmap.getHeight()); 
```

我在xml中使用viewflipper并在代码中调用它，并在viewflipper中添加视图

```
for (i = 0; i<5;i++) {
FrameLayout a = new FrameLayout(this);
FrameLayout.LayoutParams lp = new  FrameLayout.LayoutParams(FrameLayout.LayoutParams.FILL_PARENT,   FrameLayout.LayoutParams.FILL_PARENT,Gravity.CENTER); 
a.setLayoutParams(lp);

b = new ImageView(this);
FrameLayout.LayoutParams lpiv = new    FrameLayout.LayoutParams(FrameLayout.LayoutParams.WRAP_CONTENT, FrameLayout.LayoutParams.WRAP_CONTENT,Gravity.CENTER); 
b.setId(i+1);
b.setLayoutParams(lpiv);
a.addView(b);

vf.addView(a);
} 
```

还有我的 onFling 功能

```
 public boolean onFling(MotionEvent e1,MotionEvent e2,float velocityX,float velocityY){

    try {

        if(e1.getX() > e2.getX() && Math.abs(e1.getX() - e2.getX()) > SWIPE_MIN_DISTANCE && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {
            vf.setInAnimation(AnimationUtils.loadAnimation(mContext, R.anim.left_in));
            vf.setOutAnimation(AnimationUtils.loadAnimation(mContext,R.anim.left_out));

            BitmapFactory.Options options = new BitmapFactory.Options();
            //options.inSampleSize = 4;
            options.inScaled = false;
            Bitmap bitmap = BitmapFactory.decodeResource(this.getResources(), Imgid[(int)(Math.random()*Imgid.length)], options);

            ImageView iv = (ImageView)findViewById(position);
            iv.setImageBitmap(processingBitmap_Brightness(bitmap));

                    vf.showPrevious();

        }else if (e1.getX() < e2.getX() && e2.getX() - e1.getX() > SWIPE_MIN_DISTANCE && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {

            vf.setInAnimation(AnimationUtils.loadAnimation(mContext,
                    R.anim.right_in));
            vf.setOutAnimation(AnimationUtils.loadAnimation(mContext,
                    R.anim.right_out));

            BitmapFactory.Options options = new BitmapFactory.Options();
            //options.inSampleSize = 4;
            options.inScaled = false;
            Bitmap bitmap = BitmapFactory.decodeResource(this.getResources(), Imgid[(int)(Math.random()*Imgid.length)], options);

            ImageView iv = (ImageView)findViewById(position);
            iv.setImageBitmap(processingBitmap_Brightness(bitmap));

                    vf.showNext();

        }

    } catch (Exception e) {

        // nothing

    }

    return true;

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:31:49.663

这个官方指南很好用：

[http://developer.android.com/training/displaying-bitmaps/load-bitmap.html](http://developer.android.com/training/displaying-bitmaps/load-bitmap.html)

基本上你必须设置比你需要的更小的 SampleSize。然后在下一步中缩小位图以完全适合您想要的度量。

设置 options.inSampleSize = 8; 表示您要加载 1/8 宽度和 1/8 高度的图像。因此它更小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:48:28.387

[inSampleSize](http://developer.android.com/reference/android/graphics/BitmapFactory.Options.html#inSampleSize)应该*缩小*图像。尝试删除并添加`options.inScaled = false;`

# android - 如何在 Android 上通过 Open GL ES 2.0 使用绘图元素

> ID：11304596
> 
> 赞同：0
> 
> 时间：2012-07-03T04:43:31.943
> 
> 标签：android, opengl-es-2.0

我对android编程很陌生，正在尝试创建四边形。我使用了基本的 drawarray 代码，但它的速度不够快，无法满足我的需要。我目前拥有的是这样的：

```
private void drawTriangle(final FloatBuffer aTriangleBuffer, final CharBuffer indices)
{       
    GLES20.glVertexAttribPointer(mPositionHandle, mPositionDataSize, GLES20.GL_FLOAT, false,
            0, aTriangleBuffer);        

    GLES20.glEnableVertexAttribArray(mPositionHandle);        

    // This multiplies the view matrix by the model matrix, and stores the result in the MVP matrix
    // (which currently contains model * view).
    Matrix.multiplyMM(mMVPMatrix, 0, mProjectionMatrix, 0, mModelMatrix, 0);

    GLES20.glUniformMatrix4fv(mMVPMatrixHandle, 1, false, mMVPMatrix, 0);
    GLES20.glDrawElements(GLES20.GL_TRIANGLES, 6, GLES20.GL_UNSIGNED_BYTE, indices);                               
} 
```

缓冲区的内容是：

```
final float[] vertices = {
    0.f, 0.0f, 0.0f, 

    0.05f, 0.f, 0.0f,

    0.05f, 0.0459770115f, 0.0f,

    0.0f, 0.0459770115f, 0.0f};

final char indices[] = {0,1,2,
    0,2,3
}; 
```

在此先感谢您，如果您需要任何信息，请告诉我，以便我将其包含在内。

# asp.net-mvc-3 - 如何在 asp.net membersprovider 中为用户重置密码？

> ID：11304598
> 
> 赞同：0
> 
> 时间：2012-07-03T04:43:57.500
> 
> 标签：asp.net-mvc-3, security, asp.net-membership, membership-provider

在他使用 aspnet 会员提供程序达到 maxInvalidPasswordAttempts 后，如何重置用户密码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T04:46:11.390

这里只是一个疯狂的猜测...... [MembershipProvider.ResetPassword()](http://msdn.microsoft.com/en-us/library/system.web.security.membershipprovider.resetpassword.aspx)？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:53:10.323

或[MembershipProvider.UnlockUser()](http://msdn.microsoft.com/en-us/library/system.web.security.membershipprovider.unlockuser)解锁它们

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T04:53:29.780

我假设这是在管理员用户使用新的已知密码覆盖现有用户密码（或忘记我的密码重置类型功能）的上下文中。涉及一个*技巧*，因为您需要首先“随机”重置密码以获取要传递给的已知密码`ResetPassword`：

```
 public bool ResetUserPassword(Guid userId, string newPassword)
    {
        MembershipUser user = Membership.Provider.GetUser(userId, false);
        // Unlock the user account if necessary
        user.UnlockUser();
        Membership.UpdateUser(user);
        // Trick here is that have to reset it randomly first to be able to provide a new known password
        string tmpPassword = user.ResetPassword();
        return user.ChangePassword(tmpPassword, newPassword);
     } 
```

还有另一种方法，即直接将表中的`Password`（散列）`PasswordFormat`和`PasswordSalt`字段`aspnet_Membership`从另一个已知用户复制到“丢失”的用户，但这是一个可怕的黑客攻击。

# java - 斯坦福 CoreNLP (Eclipse) 中的内存错误

> ID：11304599
> 
> 赞同：2
> 
> 时间：2012-07-03T04:44:10.760
> 
> 标签：java, eclipse, stanford-nlp

```
package src;

import java.util.Properties;
import edu.stanford.nlp.pipeline.StanfordCoreNLP;

public class NLPTest {
    public static void main(String[] args){
        Properties props = new Properties();
        props.put("annotators", "tokenize, ssplit, pos, lemma, ner, parse, dcoref");
        StanfordCoreNLP coreNLP = new StanfordCoreNLP(props);
    }

} 
```

我在我的 Eclipse 中运行了这个示例代码，但它给出了以下错误：Loading classifier from edu/stanford/nlp/models/ner/english.all.3class.dissim.crf.ser.gz ... Exception in thread "main" java .lang.OutOfMemoryError：Java 堆空间

虽然当我从 Command Propmt 运行 Stanford CoreNLP 时一切正常。谁能告诉我解决方案？它与 Eclipse 的内存分配有关吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-11T15:08:16.937

Eclipse 的问题是您需要设置的不是 Eclipse 获得的内存量（`eclipse.ini`文件），而是从 Eclipse 运行的 Java 程序获得的内存量。这在[其他堆栈溢出答案](https://stackoverflow.com/questions/4175188/setting-memory-of-java-programs-that-runs-from-eclipse)`Run|Run Configurations`中详细说明。

而且，您是否使用 32 位 JVM 运行？您很可能需要使用 64 位 JVM 才能为 Stanford CoreNLP 分配足够的内存以正常运行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T05:36:23.170

对于 Eclipse，您`Eclipse.ini`在 Eclipse.exe 附近有文件

```
-Xmn128m
-Xms256m
-Xmx768m
-Xss1m
-XX:PermSize=128m
-XX:MaxPermSize=384m 
```

这里改变堆大小然后你的程序不会OOM

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-01-19T06:18:15.907

我想我应该和 Chris 一起给出一个特定于这个问题（Core-NLP）的答案（即一些内存值），而不仅仅是一些带有 Eclipse 指导的标准 Java。

如果你正在做 -Xmx1500m，那可能还不够。其他数字中提到的数字，诚然只是作为示例，是不够的。如果我使用 -Xmx3500m 运行，这足以让管道的共指解析部分通过。熟悉 Eclipse 的人可以看出，这是需要 64 位的区域（正如 Chris 所说），如果您选择了 32 位工具，Eclipse 不会让您分配那么多堆内存。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-03T05:17:45.987

OOM 或 OOME (OutOfMemoryError) 仅表示 JVM 内存不足。发生这种情况时，您基本上有两种选择：

1.使用 -Xmx VM 参数允许 JVM 使用更多内存。例如，要允许 JVM 使用 1 GB (1024 MB) 内存：

```
java -Xmx1024m HelloWorld 
```

2.改进/修复应用程序，使其使用更少的内存

```
 Start the application with the VM argument -XX:+HeapDumpOnOutOfMemoryError. This will tell the VM to produce a heap dump when a OOM occurs:
java -XX:+HeapDumpOnOutOfMemoryError ... 
```

我建议你在命令提示符下这样运行

```
java -Xms64m -Xmx256m HelloWorld 
```

这里 `-Xms64m`最小堆大小 64mb 和`-Xmx256m`最大堆大小 256mb 而不是`Helloworld`把你的`classname`

# google-visualization - 如何通过谷歌电子表格应用程序的自定义代码更新或管理带注释的时间线图表？

> ID：11304602
> 
> 赞同：2
> 
> 时间：2012-07-03T04:44:39.823
> 
> 标签：google-visualization, google-apps-script, google-sheets, google-spreadsheet-api

我正在谷歌电子表格上处理我的电子表格。[你可以在这里参观](https://docs.google.com/spreadsheet/ccc?key=0At2D9TJiKMY3dDlfRDhGY1I0R1dIX2NvOVFST0w0LWc#gid=3)。

如果您访问该页面，您将在当前工作表中看到 2 个图表（图表输入）。第一个是嵌入的，最后一个或以下是`"Annotated Time Line"`. 现在，我有一个脚本（通过谷歌搜索），可以在编辑电子表格的行时自动更新图表。[通过向此表单](https://docs.google.com/spreadsheet/viewform?formkey=dDlfRDhGY1I0R1dIX2NvOVFST0w0LWc6MA#gid=3)添加和提交输入，您可以向电子表格添加一些数据/行。输入将自动添加到电子表格中。

现在，当我触发或运行脚本**（`onEdit`函数）**时，只有第一个或顶部图表正在更新。但是第二个或以下的一个没有更新。

这是代码：

```
function onEdit() {
  var s = SpreadsheetApp.getActiveSheet();
  var c = s.getCharts();

  for (var i in c) {
    var ch = c[i];
    var ranges = ch.getRanges();
    var mod = ch.modify();
    for (var j in ranges) {
      var range = ranges[j];
      mod.removeRange(range);
      var newRange = expandRange_(range);
      mod.addRange(newRange);
    }
    s.updateChart(mod.build());
  }
}

function rangeShouldExpand_(range) {
  var s = range.getSheet();
  var numCol = range.getNumColumns()
  var values = s.getSheetValues(range.getLastRow(), range.getColumn(), 2, numCol);

  for (var i = 0; i < numCol; i++) {
    if (!values[0][i] && !values[1][i] || !!values[0][i] && !!values[1][i]) {
      continue;
    } else {
      return false;
    }
  }
  return true;
}

function expandRange_(range) {
  var s = range.getSheet()
  var startRow = range.getRow();
  var startCol = range.getColumn();
  var numRows = range.getNumRows();
  var numCols = range.getNumColumns();
  while (rangeShouldExpand_(range)) {
    numRows++;
    range = s.getRange(startRow, startCol, numRows, numCols);
  }
  return range;
} 
```

现在，我应该怎么做或做出什么改变才能让这两个图表正常工作？

谢谢，奥马尔谢里夫

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-18T15:18:36.407

不幸的是，嵌入式图表功能目前仅适用于所有可用图表的未记录子集，其中可能不包括时间线图类型。您可以提交功能请求，以便在我们的[问题跟踪器](http://code.google.com/p/google-apps-script-issues/issues/list)上更好地记录此功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T15:37:05.983

您的脚本似乎按照设计的方式工作，这意味着图表已更新“ `on edit`”，这意味着当用户访问工作表时。如果您在没有任何其他用户操作的情况下在表单提交时更新它，那么我建议添加一个“ `on form submit`”触发器以使用电子表格资源面板调用您的更新功能。

根据我在制作电子表格的副本中看到的内容，所有图表都在调用该函数时进行了处理。

# python - 实现 memcache 后的随机错误代码

> ID：11304603
> 
> 赞同：0
> 
> 时间：2012-07-03T04:44:39.907
> 
> 标签：python, google-app-engine, memcached

我正在使用带有 python 的谷歌应用引擎，我刚刚实现了 memcache，在用户端一切看起来都很好。数据被正确缓存，但是当我查看日志时，我看到每次打开页面时都会弹出随机错误代码。现在，无论我打开多少次，单个页面的它们都是相同的，它只存储在 memcache 中一次，但每次都会出现两个错误代码。第一个总是-1，第二个是随机的。一些例子是 194、214、204、77、208 和 158。除了时间之外没有更多信息。

这是我正在执行实际缓存的代码，每次用户在我的网站上发布新帖子时都会发生这种情况：

```
class PostPage(BlogHandler):
    def get(self, post_id, subject):
        key = db.Key.from_path('Post', int(post_id), parent=blog_key())
        key = str(key)
        post = memcache.get(key)
        if post is None:
            logging.error('DB QUERY')
            post = db.get(key)
            memcache.set(key, post)
        if not post:
            self.error(404)
            return
        self.render("permalink.html", post = post) 
```

知道是什么原因造成的吗？是我要求获取 Key.from_path 吗？

这是实际的日志：

```
2012-07-02 22:52:21.331 /post/31001/profile-pages-down-for-maintenance 200 47ms 2kb Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.56 Safari/536.5
E 2012-07-02 22:52:21.318 DB QUERY
E 2012-07-02 22:52:21.330 -1
E 2012-07-02 22:52:21.330 208
2012-07-02 22:52:18.311 /js/bootstrap.js 404 35ms 0kb Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.56 Safari/536.5
2012-07-02 22:52:17.910 / 200 115ms 4kb Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.56 Safari/536.5
2012-07-02 22:52:14.797 /js/bootstrap.js 404 34ms 0kb Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.56 Safari/536.5
2012-07-02 22:52:14.499 /profile/17001 200 90ms 3kb Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.56 Safari/536.5
2012-07-02 22:52:14.173 /profile 302 104ms 0kb Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.56 Safari/536.5
2012-07-02 22:52:13.198 /js/bootstrap.js 404 36ms 0kb Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.56 Safari/536.5
2012-07-02 22:52:12.823 / 200 138ms 4kb Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.56 Safari/536.5
2012-07-02 22:51:59.664 /search?q=paragliding 200 35ms 2kb Mediapartners-Google
2012-07-02 22:51:57.902 /static/bootstrap.css 200 32ms 0kb
2012-07-02 22:51:57.860 /js/bootstrap.js 404 30ms 0kb Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.56 Safari/536.5
2012-07-02 22:51:57.537 /search?q=paragliding 200 57ms 2kb Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.56 Safari/536.5
2012-07-02 22:51:51.105 /js/bootstrap.js 404 30ms 0kb Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.56 Safari/536.5
2012-07-02 22:51:50.838 / 200 119ms 4kb Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.56 Safari/536.5
2012-07-02 22:50:49.812 /favicon.ico 404 96ms 0kb Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.56 Safari/536.5
2012-07-02 22:48:43.633 /post/14009/more-fantastic-paragliding 200 1090ms 2kb Mediapartners-Google
E 2012-07-02 22:48:43.632 137
E 2012-07-02 22:48:43.632 365
2012-07-02 22:48:42.464 /robots.txt 404 29ms 0kb Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)
2012-07-02 22:48:41.513 /js/bootstrap.js 404 31ms 0kb Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.56 Safari/536.5
2012-07-02 22:48:41.288 /post/14009/more-fantastic-paragliding 200 48ms 2kb Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.56 Safari/536.5
E 2012-07-02 22:48:41.287 137
E 2012-07-02 22:48:41.287 365 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T07:59:44.903

我不认为这些是（真正的）错误，有些东西是用 log.error 记录这些数字，在你的代码中查找 log.error('%d' （或 log.error('%s' ）。可能在你的渲染（）方法。

# python - 为什么我无法使用 urllib.urlretrieve 下载图像？

> ID：11304604
> 
> 赞同：0
> 
> 时间：2012-07-03T04:44:59.467
> 
> 标签：python

我试图下载谷歌的标志

```
import os, urllib
folderName = 'downloadedImages'
if not os.path.exists(folderName):
  os.makedirs(folderName)
urllib.urlretrieve(https://www.google.com/images/srpr/logo3w.png, './' + folderName + '/') 
```

但是，我收到一个错误：`IOError: [Errno 21] Is a directory: './downloadedImages/'`。

为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T04:49:33.990

因为正是错误所说的：您在第二个参数中提供的是一个目录。它必须是本地（目标）文件名。

[python 文档](http://docs.python.org/library/urllib.html#urllib.urlretrieve)状态（强调我的）：

> 第二个参数（如果存在）指定要复制到的*文件位置*（如果不存在，则该位置将是具有生成名称的临时文件）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-03T04:49:34.383

检查文档：[http ://docs.python.org/library/urllib.html#urllib.urlretrieve](http://docs.python.org/library/urllib.html#urllib.urlretrieve)

您需要提供文件名，而不是目录路径：

```
urllib.urlretrieve("path/to/resource", os.path.join(folderName, "filename.jpg")) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T04:49:47.657

第二个参数`urllib.urlretrieve()`需要一个文件名而不是目录。

# powershell - 通过 powershell 枚举所有注册表值

> ID：11304608
> 
> 赞同：0
> 
> 时间：2012-07-03T04:45:36.453
> 
> 标签：powershell, registry

我正在编写一个 powershell 脚本并且遇到了一个问题。我有一个包含一个值的注册表项。我必须提取值的名称而不是它的值。为了更清楚一点，让我们考虑包含 DWORD 值 [@10.105.1.1 = 64] 的键。我希望能够提取值的名称，在本例中为 10.105.1.1。我没有使用它设置的值 64。另请注意，我没有创建注册表项，并且值的名称会因计算机而异，因为它更多的是另一个系统使用的设置，我只是尝试访问设置数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T07:51:34.047

您可以获取指定注册表项下的所有值，通过值的数据进行过滤，然后获取值的名称。在以下示例中，我将列出 CurrentVersion 键下的值，根据数据（游戏）过滤值并获取值名称 (SM_GamesName)。此示例需要[PSRemoteRegistry](http://psremoteregistry.codeplex.com)模块：

```
Import-Module PSRemoteRegistry
$key = 'SOFTWARE\Microsoft\Windows\CurrentVersion'

Get-RegValue -Hive LocalMachine -Key $key | 
Where-Object {$_.Data -eq 'games'} | 
Foreach-Object { $_.Value }

SM_GamesName 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-09-03T02:11:13.873

我一直在研究用脚本递归地返回所有值。

```
# get-reg.ps1

Param($key)

Get-Item $key | foreach-object {
  $path = $_.PSPath
  $_.Property | foreach-object {
    $name = $_
    $data = get-itemproperty -literalpath $path -name $name |
      select -expand $name
    [pscustomobject]@{value=$name; data=$data; key=$path}
  }
}

Get-ChildItem -Recurse $key | foreach-object { # won't process top key
  $path = $_.PSPath
  $_.Property | foreach-object {
    $name = $_
    # there is a key named "*" under hklm:\software\classes
    $data = get-itemproperty -literalpath $path -name $name | 
      select -expand $name
    [pscustomobject]@{value=$name; data=$data; key=$path}
  }
}

PS C:\Users\js2010> .\get-reg hkcu:\key1

value     data     key
-----     ----     ---
value1    data1    Microsoft.PowerShell.Core\Registry::HKEY_CURRENT_USER\key1
(default) hi       Microsoft.PowerShell.Core\Registry::HKEY_CURRENT_USER\key1
value2    data2    Microsoft.PowerShell.Core\Registry::HKEY_CURRENT_USER\key1\key2 
```

# python - 异常拟合算法的优化

> ID：11304609
> 
> 赞同：1
> 
> 时间：2012-07-03T04:45:39.687
> 
> 标签：python, scipy, data-analysis, approximation

我有两组不同的随机分布的实验数据。我需要通过对它的每个值应用一些函数来使其中一个分布与另一个分布尽可能相似。函数示例：F(x) = x*(1+(x+p1)*p2，其中 p1 和 p2 是一些任意参数。找出是否可能，如果可能，那么 p1 的值是多少和 p2，我写了一个简单的 python 脚本：

```
#!/usr/bin/python
from scipy.stats import ks_2samp
from frange import frange
control = [float(i.rstrip().replace(',', '.')) for i in open('control.txt').readlines()]
test = [float(i.rstrip().replace(',', '.')) for i in open('1460.txt').readlines()]
def mean(x):
    res = sum(x)/len(x)
    return res
def testargs(p1, p2):
    model = [i*(1+(i+p1)*p2) for i in control]
    if round(mean(model), 4) == round(mean(test), 4):
        return True
    else:
        return False
results = {}
for p1 in frange(0, 0.02, 0.001):
    for p2 in frange(5, 20, 0.01):
        if testargs(p1, p2):
            ks = ks_2samp([i*(1+(i+p1)*p2) for i in control], test)[1]
            results[ks] = (p1, p2)
result = sorted(results.keys(), reverse=True)[0]
print('Result: ', result, '\n', 'p1, p2: ', results[result], '\n') 
```

我知道在所有可能的方式中，这是最丑陋和最慢的一种。不幸的是，我根本没有编程背景，这是我第一次卑微的努力。鉴于得到的分布的平均值是一个 khown 常数，适当的 p1-p2 对的数量非常有限，但我在这里使用了简单的蛮力。我认为，应该有某种方法可以将 p2 表示为 p1 的函数，但我完全不知道该怎么做。也许你可以给我一些想法？
*对不起，我的英语不好...*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T05:24:08.330

[scipy.optimize](http://docs.scipy.org/doc/scipy/reference/optimize.html)是你的朋友，在这里。

您通常要做的是创建一个函数，该函数接受两个参数（p1，p2）并返回一个值，该值指示两个分布（测试和修改控制）彼此之间的距离；在你的情况下，这可以是`(mean(model)-mean(test))**2`. SciPy 最小化函数为您提供最小化两个分布之间距离的参数 (p1, p2)。

您可能想尝试一些 SciPy 提供的最小化函数：根据问题，有些比其他的工作得更好。

# android - android应用程序大小，询问codeSize时返回0

> ID：11304612
> 
> 赞同：2
> 
> 时间：2012-07-03T04:46:07.207
> 
> 标签：android, sdk, size

我正在尝试编写一个程序来返回应用程序的应用程序大小（codeSize）。我知道我们必须为此通过 SDK，我已经这样做了。但是，当我尝试测试我的代码时，它返回 0 作为大小。我尝试了不同的方法，但价值没有改变。这是我写的代码

```
package android.content.pm;

import java.lang.reflect.InvocationTargetException;
import java.lang.reflect.Method;
import java.util.ArrayList;
import java.util.List;
import android.os.Bundle;
import android.os.RemoteException;
import android.app.Activity;
import android.util.Log;

public class MainActivity extends Activity {

    class AppInfo{
        private String appName = "";
        private String packageName = "";
        private String versionName = "";
        private int versionCode = 0;
        private long appSize = 0;
        private long dataSize = 0;
        private long cacheSize = 0;
        private String appPermission = "";
        private String associateProcess = "";

    }

    private boolean isSystemPackage(PackageInfo pkgInfo) {
        return ((pkgInfo.applicationInfo.flags & ApplicationInfo.FLAG_SYSTEM) != 0) ? true
        : false;
    }

    private List<AppInfo> retrievedInstallApps() throws NoSuchMethodException {
        List<AppInfo> applicationInfo = new ArrayList<AppInfo>();
        PackageManager pm = getPackageManager();
        List<PackageInfo> packages = pm.getInstalledPackages(0);

        for (int i = 0; i<packages.size(); i++) {
            PackageInfo p = packages.get(i);
            if (!isSystemPackage(p)) {
                AppInfo newApplicationInfo = new AppInfo();
                newApplicationInfo.appName = p.applicationInfo.loadLabel(getPackageManager()).toString();
                newApplicationInfo.packageName = p.packageName;
                newApplicationInfo.versionName = p.versionName;
                newApplicationInfo.versionCode = p.versionCode;
                newApplicationInfo.appPermission = p.applicationInfo.permission;
                newApplicationInfo.associateProcess = p.applicationInfo.processName;

                //get the application size
                //-------------------------------------

                Method getPackageSizeInfo = pm.getClass().getMethod(
                            "getPackageSizeInfo", String.class, IPackageStatsObserver.class);

                try {
                    getPackageSizeInfo.invoke(pm, "com.android.mms", new IPackageStatsObserver.Stub() {
                        @Override
                        public void onGetStatsCompleted(PackageStats pStats, boolean succeeded)
                            throws RemoteException {

                            Log.i("", "appSize:   " + pStats.codeSize);
                            //newApplicationInfo.appSize = pStats.codeSize;
                            //newApplicationInfo.cacheSize = pStats.cacheSize;
                            //newApplicationInfo.dataSize = pStats.dataSize;
                        }
                      });
                } catch (IllegalArgumentException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (IllegalAccessException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (InvocationTargetException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }   

                applicationInfo.add(newApplicationInfo);
            }

        }

        return applicationInfo;
    }

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        List<AppInfo> newAppInfo = null;
        try {
            newAppInfo = retrievedInstallApps();
        } catch (NoSuchMethodException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } 
        for (int i = 0; i < newAppInfo.size(); i++) {
            AppInfo app = newAppInfo.get(i);
            /*Log.i("", "appName:\t " + app.appName + " \t\t " +
                    "packageName:\t " + app.packageName + " \t\t " +
                    "versionName:\t " + app.versionName + " \t\t " +
                    "versionCode:\t " + String.valueOf(app.versionCode) + " \t\t " +
                    "appPermission:\t " + String.valueOf(app.appPermission) + " \t\t " +
                    "associateProcess:\t " + app.associateProcess + " \t\t " +
                    "appSize:\t " + String.valueOf(app.appSize) + " \t\t " +
                    "cacheSize:\t " + String.valueOf(app.cacheSize) + " \t\t " + 
                    "dataSize:\t " + String.valueOf(app.dataSize) + " \n ");*/
        }
    }

} 
```

# php - PHP表单在新服务器上不起作用

> ID：11304618
> 
> 赞同：0
> 
> 时间：2012-07-03T04:46:28.237
> 
> 标签：php

我按照 tutorialzine 上的教程为我的网站创建了一个表单

我有这个表单在我的一个网站上运行良好，但是当我尝试在新网站上安装表单时，表单字段中充满了脚本并且它不起作用。我在两台服务器上都放了相同的表格来演示这个问题。

工作表： http: [//lagunapools.com.au/crowntest/contact.php](http://lagunapools.com.au/crowntest/contact.php)

不工作： [http ://crowndoor.com.au/crowntest/contact.php](http://crowndoor.com.au/crowntest/contact.php)

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T04:49:46.143

您对这些服务器有不同的错误报告配置。“工作”是隐藏错误（或将它们记录到文件中），“不工作”是直接在 HTML 代码中显示错误，或者在这种情况下是通知。

error_reporting 和 display_errors 是影响这一点的 php 配置指令。

此外，您可以（应该）使用 error_log 指令将错误记录到文件中，而不是在代码中显示它们。

# aptana - Aptana IDE - 添加新语言

> ID：11304619
> 
> 赞同：0
> 
> 时间：2012-07-03T04:46:33.303
> 
> 标签：aptana

我开始研究 Aptana 的功能。我来自 Dreamweaver 背景。
两者都有我需要的优秀品质。但是 Dreamweaver 并不允许我将新的开发语言添加到他们的列表中。

我看到的大多数编码语言都有语法突出显示：PHP、HTML 等。但我没有看到我需要的所有语言。就像卢阿一样。

是否可以从首选项方面向 Aptana 添加新的语言类型？似乎大多数 IDE 不允许这种可扩展性。这迫使我使用多个 IDE。

我并不期待一个完美的 IDE，但我想知道 Aptana 是否能走得那么远。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T05:28:39.317

Eclipse 的好处是您可以附加其他插件以获得所需的支持。

据我所知，您可以在工作室顶部安装 LuaEclipse（http://luaeclipse.luaforge.net/）或其他一些支持 LUA 的插件（使用帮助下的“安装新软件”菜单） .

您也可以按照自己的方式安装一个类 Eclipse，然后是 Aptana，然后是 LUA。但请注意，LUA 和 Aptana Studio 之间不会有任何交互。每个编辑器支持将接管一些文件扩展名并自己做。

希望有帮助

# java - 如何控制 Windows 复制粘贴事件？

> ID：11304621
> 
> 赞同：1
> 
> 时间：2012-07-03T04:46:43.743
> 
> 标签：java, windows, file, events, controls

我需要用java制作文件复印机。

我想知道如何确认操作系统文件系统中发生的事件以及如何控制它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T04:57:57.353

编写一个线程，使用以下代码连续执行剪贴板数据检查

```
// If a string is on the system clipboard, this method returns it;
// otherwise it returns null.
public static String getClipboard() {
    Transferable t = Toolkit.getDefaultToolkit().getSystemClipboard().getContents(null);

    try {
        if (t != null && t.isDataFlavorSupported(DataFlavor.stringFlavor)) {
            String text = (String)t.getTransferData(DataFlavor.stringFlavor);
            return text;
        }
    } catch (UnsupportedFlavorException e) {
    } catch (IOException e) {
    }
    return null;
}

// This method writes a string to the system clipboard.
// otherwise it returns null.
public static void setClipboard(String str) {
    StringSelection ss = new StringSelection(str);
    Toolkit.getDefaultToolkit().getSystemClipboard().setContents(ss, null);
} 
```

有关更多详细信息，请参阅以下课程

```
 java.awt.datatransfer.Clipboard;
 java.awt.datatransfer.ClipboardOwner;
 java.awt.datatransfer.Transferable;
 java.awt.datatransfer.StringSelection;
 java.awt.datatransfer.DataFlavor; 
```

下面是监听器示例

```
import java.awt.*;  
import java.awt.datatransfer.*;  

class BoardListener extends Thread implements ClipboardOwner {  
  Clipboard sysClip = Toolkit.getDefaultToolkit().getSystemClipboard();  

  public void run() {  
    Transferable trans = sysClip.getContents(this);  
    regainOwnership(trans);  
    System.out.println("Listening to board...");  
    while(true) {}  
  }  

  public void lostOwnership(Clipboard c, Transferable t) {  
    Transferable contents = sysClip.getContents(this); //EXCEPTION  
    processContents(contents);  
    regainOwnership(contents);  
  }  

  void processContents(Transferable t) {  
    System.out.println("Processing: " + t);  
  }  

  void regainOwnership(Transferable t) {  
    sysClip.setContents(t, this);  
  }  

  public static void main(String[] args) {  
    BoardListener b = new BoardListener();  
    b.start();  
  }  
} 
```

# android - 谁有Android Gallery App 中强大的ImageView？

> ID：11304625
> 
> 赞同：0
> 
> 时间：2012-07-03T04:47:41.930
> 
> 标签：android, imageview, gallery, scale

Android 中 Gallery 中的 ImageView 很棒：它支持平滑缩放并且很好地处理 OOM。现在我的项目想要有这样的 ImageView。有没有人有这样的 ImageView 或知道一些暗示？感谢进阶~~

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T04:53:00.560

我很确定 Gallery 使用 OpenGL 表面或类似的一些花哨的东西，而不是常规的 ImageViews。

# xslt - 对 RTF 字段的架构源应用限制

> ID：11304628
> 
> 赞同：4
> 
> 时间：2012-07-03T04:47:56.240
> 
> 标签：xslt, tridion

我想在一个 Tridion Schema 中应用一些额外的过滤 xslt。

我有一个名为“图像”的字段。它是一个 RTF，已配置为通过在编辑格式功能下选择它来允许图像和超链接。

其背后的想法是在 RTF 中插入和 Image 并使其成为 RTF 字段。

样本有效来源：

```
1.<a title="google site" href="http://google.com"><img style="width: 141px; height: 167px;" alt="Image" title="Image" src="tcm:202-11587"/></a>
2.<a title="Internal link" href="tcm:202-9720"><img style="width: 141px; height: 167px;" alt="Image" title="Image" src="tcm:202-11587"/></a> 
```

由于 RTF 允许超链接和图像，因此用户可能会以不同的格式输入它们。无效的：

```
1.<a title="google site" href="http://google.com"></a>
  <img style="width: 141px; height: 167px;" alt="Image" title="Image" src="tcm:202-11587"/>

2.<img style="width: 141px; height: 167px;" alt="Image" title="Image" src="tcm:202-11587"/>
 <a title="google site" href="http://google.com"></a>

3.<a title="google site" href="http://google.com"><img style="width: 141px; height: 167px;" alt="Image" title="Image" src="tcm:202-11587"/></a>
  <a title="Internal link" href="tcm:202-9720"><img style="width: 141px; height: 167px;" alt="Image" title="Image" src="tcm:202-11587"/></a> 
```

规则：

```
1.Only one Image should be allowed and it should be hyperlink.
2.There should be one <img> tag wrapped by one <a> tag.
3\. Multiple images are not allowed. 
```

我知道这可以使用事件系统来完成。但我仍然想通过应用 XSLT 过滤来实现。

XSLT 过滤来源：

```
<xsd:element name="image" minOccurs="0" maxOccurs="1" type="tcmi:XHTML">
            <xsd:annotation>
                <xsd:appinfo>
                    <tcm:ExtensionXml xmlns:tcm="http://www.tridion.com/ContentManager/5.0"></tcm:ExtensionXml>
                    <tcm:Size xmlns:tcm="http://www.tridion.com/ContentManager/5.0">2</tcm:Size>
                    <tcm:FilterXSLT xmlns:tcm="http://www.tridion.com/ContentManager/5.0">
                        <stylesheet version="1.0" xmlns="http://www.w3.org/1999/XSL/Transform">
                            <output omit-xml-declaration="yes" method="xml" cdata-section-elements="script"></output>
                            <template match="/ | node() | @*">
                                <copy>
                                    <apply-templates select="node() | @*"></apply-templates>
                                </copy>
                            </template>
                            <template match="*[      (self::br or self::p or self::div)     and      normalize-space(translate(., &apos; &apos;, &apos;&apos;)) = &apos;&apos;     and      not(@*)     and      not(processing-instruction())     and      not(comment())     and      not(*[not(self::br) or @* or * or node()])     and      not(following::node()[not(         (self::text() or self::br or self::p or self::div)        and         normalize-space(translate(., &apos; &apos;, &apos;&apos;)) = &apos;&apos;        and         not(@*)        and         not(processing-instruction())        and         not(comment())        and         not(*[not(self::br) or @* or * or node()])       )])     ]">
                                <!-- ignore all paragraphs and line-breaks at the end that have nothing but (non-breaking) spaces and line breaks -->
                            </template>
                            <template match="br[parent::div and not(preceding-sibling::node()) and not(following-sibling::node())]">
                                <!-- Chrome generates <div><br/></div>. Renders differently in different browsers. Replace it with a non-breaking space -->
                                <text> </text>
                            </template>
                            <template name="FormattingFeatures">
                                <FormattingFeatures xmlns="http://www.tridion.com/ContentManager/5.2/FormatArea" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
                                    <Doctype>Transitional</Doctype>
                                    <AccessibilityLevel>0</AccessibilityLevel>
                                    <DisallowedActions>
                                        <Bold></Bold>
                                        <Italic></Italic>
                                        <Underline></Underline>
                                        <Strikethrough></Strikethrough>
                                        <Subscript></Subscript>
                                        <Superscript></Superscript>
                                        <AlignLeft></AlignLeft>
                                        <Center></Center>
                                        <AlignRight></AlignRight>
                                        <Bullets></Bullets>
                                        <Numbering></Numbering>
                                        <IndentDecrease></IndentDecrease>
                                        <IndentIncrease></IndentIncrease>
                                        <Font></Font>
                                        <Background></Background>
                                        <InsertCharacter></InsertCharacter>
                                        <Anchor></Anchor>
                                        <Table></Table>
                                        <TableWidth></TableWidth>
                                        <TableHeight></TableHeight>
                                        <TableCellSpacing></TableCellSpacing>
                                        <TableCellPadding></TableCellPadding>
                                        <TableHAlign></TableHAlign>
                                        <TableBorderSize></TableBorderSize>
                                        <TableBorderStyle></TableBorderStyle>
                                        <TableBorderColor></TableBorderColor>
                                        <TableBackground></TableBackground>
                                        <TableCellWidth></TableCellWidth>
                                        <TableCellHeight></TableCellHeight>
                                        <TableCellHAlign></TableCellHAlign>
                                        <TableCellVAlign></TableCellVAlign>
                                        <TableCellBackground></TableCellBackground>
                                        <HLine></HLine>
                                        <SectionType></SectionType>
                                        <H1></H1>
                                        <H2></H2>
                                        <H3></H3>
                                        <H4></H4>
                                        <H5></H5>
                                        <H6></H6>
                                        <Style></Style>
                                        <Language></Language>
                                        <Abbreviation></Abbreviation>
                                        <CurrentElement></CurrentElement>
                                    </DisallowedActions>
                                    <DisallowedStyles></DisallowedStyles>
                                </FormattingFeatures>
                            </template>
                        </stylesheet>
                    </tcm:FilterXSLT>
                </xsd:appinfo>
            </xsd:annotation>
        </xsd:element> 
```

我想知道是否可以通过在模式源的 tcm:FilterXSLT 中编写一些 xslt 代码来做到这一点。

任何人都可以帮助如何做到这一点。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-03T10:12:43.593

这应该有效。它执行以下操作：

*   在富文本中查找第一个“a”元素
*   如果里面有一个“img”元素，它会保持原样
*   如果没有，它会在富文本中的其他任何地方查找第一个 img 元素并将其移动到 a 元素中
*   所有其他元素都被删除

在 2011 sp1 上测试。我不得不说，再次玩 xslt 很有趣，时间太长了 :)

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output omit-xml-declaration="yes" method="xml" cdata-section-elements="script"></xsl:output>

  <xsl:template match="body">
    <xsl:copy>
      <xsl:apply-templates select="//a[1]"></xsl:apply-templates>
    </xsl:copy>
  </xsl:template>

    <xsl:template match="node() | @*">
      <xsl:copy>
        <xsl:apply-templates select="node() | @*"></xsl:apply-templates>
    </xsl:copy>
  </xsl:template>
    <xsl:template match="//a">
      <xsl:copy>
        <xsl:apply-templates select="@*"></xsl:apply-templates>
          <xsl:choose>
            <xsl:when test="not(img)">
              <xsl:copy-of select="//img"></xsl:copy-of>
        </xsl:when>
            <xsl:otherwise>
              <xsl:apply-templates select="node()"></xsl:apply-templates>
        </xsl:otherwise>
      </xsl:choose>
    </xsl:copy>
  </xsl:template>
</xsl:stylesheet> 
```

# iphone - 初始化 UIViewController 子类的成员一次

> ID：11304631
> 
> 赞同：0
> 
> 时间：2012-07-03T04:48:31.273
> 
> 标签：iphone, objective-c

我有`UIViewController`子类。我有一些成员。我只是想知道/确认正确初始化成员的位置。注意：我有一个`storyboard`not `nib`。这是界面：

```
@interface FractionCalculatorViewController : UIViewController{
  @private
    NSMutableString *outputString;
    Fraction *firstFraction;
} 
```

我应该初始化输出字符串和第一个分数`viewDidLoad`吗，比如首先检查变量是否为空，然后分配和初始化它？还是有一些适当的方法可以做到这一点？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T04:56:10.980

您不需要将它们检查为空。您应该在 viewDidLoad 方法中分配和初始化它们。当视图一次加载到内存中时，它们将被初始化。下面是代码。

```
- (void)viewDidLoad {
    [super viewDidLoad];
    outputString=[[NSMutableString alloc] init];
    firstFraction=[[Fraction alloc] init];

} 
```

如果您想为应用程序初始化一次变量，则将变量放在 AppDelegate 类中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:58:27.313

你应该简单地初始化它们`viewDidLoad`：

```
-(void)viewDidLoad {

    outputString = [[NSMutableString alloc] init];
    firstFraction = [[Fraction alloc] init];

    [super viewDidLoad];
} 
```

不要忘记在 dealloc 中释放它们：

```
-(void)dealloc {

  [outputString release];
  [firstFraction release];
  [super dealloc];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-29T09:49:42.263

如果您在其中初始化它们，`viewDidLoad`则每次控制器加载其视图时它们都会被初始化。根据您的业务逻辑，这可能是不正确的，因为您可能只想将它们初始化一次，然后每次在 ViewController 的生命周期中重用新迭代。在我看来，最好像这样在构造函数中初始化此类数据：

```
@interface ViewController ()

@property (nonatomic) NSMutableArray *productsToBuy;

//...

@end

@implementation

- (id)initWithCoder:(NSCoder *)aDecoder
{
    self = [super initWithCoder:aDecoder];

    if (self)
    {
        _productsToBuy = @[@"Milk", @"Bread", @"Cheese", @"Nuts"].mutableCopy;

        //...
    }

    return self;
}

//...

@end 
```

# javascript - 动态更改 JQuery Plugin 中的高度参数

> ID：11304632
> 
> 赞同：0
> 
> 时间：2012-07-03T04:48:56.850
> 
> 标签：javascript, jquery, html

Jquery Lightbox 脚本和示例在这里：[http](http://www.aerowebstudio.net/codecanyon/jquery.lightbox/) ://www.aerowebstudio.net/codecanyon/jquery.lightbox/ 。

我将一些参数传递给控制来自超链接的 id 中的灯箱插件的 JQuery。id 上的最后一个子字符串 (substrk[2]) 是高度。我可以传递该值，但插件的高度超出了屏幕的高度。如果我不动态插入高度并输入静态数字，则插件可以正常工作。

我还尝试使用计时器延迟函数触发，以防万一出现问题，但它根本不会触发

```
<a class="lk" id="blah_blahh_68" href="javascript:void(0);">some link</a>

$(function(){
$(".lk").click(function(){
var lik = this.id;
var substrk = lik.split('_');
var intheight = substrk[2];
var strlinkk = "blah.php?id=" + substrk[0] + "&id2=" + substrk[1];
$.lightbox(strlinkk,{
'width'       : 474,
'height'      : intheight,
'autoresize'  : false
});
return false;
});
}); 
```

不幸的是，我看不到这样做的好方法。将“px”连接到字符串不起作用，添加短超时也不起作用

我必须做 IF / ELSE 语句来解决我的问题。IF THEN 语句有效，但它并不漂亮。这对我有用，因为我知道高度以 68px 为增量

```
$(function(){
$(".lk").click(function(){
var lik = this.id;
var substrk = lik.split('_');
var intheight = substrk[2];
var strlinkk = "blah.php?id=" + substrk[0] + "&id2=" + substrk[1];

if (intheight=68){

$.lightbox(strlinkk,{
'width'       : 474,
'height'      : 68,
'autoresize'  : false
});
return false;
});
});

}else if (intheight=136){

$.lightbox(strlinkk,{
'width'       : 474,
'height'      : 136,
'autoresize'  : false
});
return false;
});
});

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T04:56:00.887

尝试：

```
var intheight = substrk[2] + "px"; 
```

此外，只需快速检查 substrk[2] 返回的内容，但会抛出：

```
alert(substrk[2]); 
```

它可能就像抛出一些奇怪的东西一样简单。

# haskell - 减小 Snap 二进制文件的大小？

> ID：11304634
> 
> 赞同：3
> 
> 时间：2012-07-03T04:48:59.047
> 
> 标签：haskell, haskell-snap-framework

当我编译我的[Snap](http://snapframework.com/) webapp（将其部署到生产服务器）时，它达到了 19MB！是什么赋予了？这是正常的吗？难道我做错了什么？

我的站点只有 3 个静态页面，基本上[是 snap 的 init 项目](http://snapframework.com/docs/quickstart)。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T08:10:12.147

我猜 Snap 会带来很多依赖。这个问题的一种解决方案是使用 --split-objs 选项安装**您的项目所依赖的库，不幸的是会影响（初始）编译时间。**这将生成大量不同的对象，但会使最终的可执行文件小得多，比如小 2-4 倍。

```
$ cabal install --enable-split-objs 
```

如果您已经安装了这些库，则需要先删除它们，安装一个新的 GHC 或使用带有它自己的包集的沙箱。

您还应该使用`strip`命令（在某些情况下，cabal 会自动执行此操作）。

此外，您可以考虑使用`upx`压缩可执行文件，最后`rsync`将最小不同的可执行文件上传到服务器。

在这里使用共享库 ( `cabal install --enable-shared`) 可能有帮助，也可能没有帮助：我没有尝试过该选项。

# google-maps-api-3 - 如何使用 Google Maps v3 搜索区域内的城市？

> ID：11304636
> 
> 赞同：0
> 
> 时间：2012-07-03T04:49:01.357
> 
> 标签：google-maps-api-3, google-places-api, google-geocoder

我试图搜索可见地图范围内的所有城市。我怎样才能做到这一点？

以下是我尝试做的事情：

```
$.fn.gmap3.geocoder.geocode({ 'address': 'Georgia' }, function(results, status) {
    if (status == google.maps.GeocoderStatus.OK) {
        globalMap.setCenter(results[0].geometry.location);
        var resultBounds = new google.maps.LatLngBounds(
            results[0].geometry.viewport.getSouthWest(),
            results[0].geometry.viewport.getNorthEast()
        );
        globalMap.fitBounds(resultBounds);
        // get cities in the map
        var service = new google.maps.places.PlacesService(globalMap);
        var request = {
            bounds: resultBounds,
            types: ['locality']
        };
        service.search(request, function (results, status) {
            debugger;
        });
    }
}); 
```

但结果是`ZERO_RESULTS`。也许原因是结果被限制在 50.000 米的半径范围内？

任何人都知道如何解决我的问题？非常感谢。

**- 更新 -**

感谢 Sean 仔细阅读我的帖子并提供详细反馈。

这就是我引用库的方式：

```
`src="https://maps.googleapis.com/maps/api/js?sensor=false&libraries=places"`
```

`我还为地理编码功能添加了更多细节以获得更精确的结果。但我仍然没有得到我想要的结果。

检查此页面中的列表：[https](https://developers.google.com/places/documentation/supported_types) ://developers.google.com/places/documentation/supported_types ，我意识到第一个列表中的几乎所有项目都返回值，但不是第二个列表。唯一的项目返回值是 'political'，它只返回 1 而不是 20。

这是我修改后的代码：

```
`this.setCenterByAddress = function (address, region) {
    $.fn.gmap3.geocoder.geocode({ 'address': address, 'region': region }, function (results, status) {
        if (status == google.maps.GeocoderStatus.OK) {
            globalMap.setCenter(results[0].geometry.location);
            var resultBounds = new google.maps.LatLngBounds(
                results[0].geometry.viewport.getSouthWest(),
                results[0].geometry.viewport.getNorthEast()
            );
            globalMap.fitBounds(resultBounds);
            // get cities in the map
            var service = new google.maps.places.PlacesService(globalMap);
            var request = {
                bounds: resultBounds,
                types: ['country',
                'administrative_area_level_1',
                'administrative_area_level_2',
                'administrative_area_level_3',
                'colloquial_area',
                'country',
                'floor',
                'geocode',
                'intersection',
                'locality',
                'natural_feature',
                'neighborhood',
                'political',
                'point_of_interest',
                'post_box',
                'postal_code',
                'postal_code_prefix',
                'postal_town',
                'premise',
                'room',
                'route',
                'street_address',
                'street_number',
                'sublocality',
                'sublocality_level_4',
                'sublocality_level_5',
                'sublocality_level_3',
                'sublocality_level_2',
                'sublocality_level_1',
                'subpremise',
                'transit_station']
            };
            service.search(request, function (results, status) {
                debugger;
            });
        }
    });
}` 
```

`更多信息：即使使用位置和半径，也会返回相同的值。而且我使用免费地图并一直收到“OVER_QUERY_LIMIT”。`

 `* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:36:07.040

除非您使用`location`and`radius`选项，否则不应将其限制在 50,000 米，而您不是；你正在使用`bounds`. 我建议退出一个级别并深入研究从开始调用返回的结果 to `geocode`，因为您对 的使用`PlacesService`似乎是正确的。对象内部的值是什么`resultBounds`？我还注意到，当您调用地理编码器时，您没有使用区域偏差，可能是“Georgia”不够具体。例如，您是指俄罗斯联邦内的地区还是美国州内的地区？而且我不确定您使用什么 URL 来加载 Google Maps API 和地点库，但这也可能会影响您的结果。

我会仔细检查从地理编码器返回的结果，因为除非我遗漏了什么，否则看起来你的基本方法是合理的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-26T04:41:07.917

使用 Geocoding API/Places API 在特定经纬度附近的地点附近不能返回两个以上

请在 Google Places API 论坛上查看[此主题](https://groups.google.com/forum/#!topic/google-places-api/LWhvXkhYWi0)

> 这对于 Google Places API 是不可能的，因为会返回诸如位置、邻里和子位置之类的政治结果以识别请求的区域，并且每个请求限制为两个。``

# c# - Appfabric 缓存未命中计数

> ID：11304639
> 
> 赞同：1
> 
> 时间：2012-07-03T04:49:33.097
> 
> 标签：c#, .net, appfabric

每当我运行命令 Get-CacheStatistics **CacheName**命令时，它总是显示大约是请求计数的 90% 的未命中计数，但是我看到我成功地从缓存中检索到对象。请问有什么想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-29T18:55:29.693

从这篇[文章](http://social.msdn.microsoft.com/Forums/en-US/velocity/thread/c1a2ed3c-078b-4290-8fe4-241576339826/)：

> 另外，我应该注意，在当前版本中，当对象不存在时，您还会在 Put() 调用中获得缓存未命中。我相信在内部，缓存集群会在使用 Put() 调用添加或替换它之前检查该项目是否存在。如果不存在，则增加未命中计数。因此，即使您只是将 10000 个新项目填充到缓存中，您也会有 10000 个未命中计数。

# ruby - 搜索引擎抓取的结果数量限制

> ID：11304642
> 
> 赞同：1
> 
> 时间：2012-07-03T04:49:39.777
> 
> 标签：ruby, seo, screen-scraping

我正在使用`Mechanize`. 但是，如果我`bing.com`对它执行相同的搜索查询返回 1400 个结果，我只能以编程方式获得最多 200 个结果。这里有什么问题？

```
 def generate_profiles_from_group(options={})
  raise "TypeError", "Invalid Arguments" unless options.is_a? Hash
  group = options[:group] if options.has_key? :group
  query = build_query(options)
  page = bing_search(query)
  contacts_stack = extract_contacts_from_bing_page page: page
  bing_links_stack = bing_links page
  return contacts_stack, bing_links_stack
end

def extract_contacts_from_bing_page(options)
  page = options[:page]
  company = options[:company] || nil
  title = options[:title] || nil
  stack = []
  while true 
    page.parser.search('h3 a').each do |cite|
      text = cite.text
      unless text == ""
        name_array = text.split(' ')
        if name_array.size >= 2
          name = name_array[0]+' '+name_array[1]
          unless name=~/[^a-zA-Z',\s]/i
            stack << {name: name, company: company, title: title} 
          end
        end
      end
    end
    keyw = page.parser.xpath('//*[contains(concat( " ", @class, " " ), concat( " ", "sb_pagN", " " ))]').text
    break if keyw == ""
    page = @agent.click page.link_with(text: keyw ) 
  end
  stack
end

def bing_links page
  stack = []
  while true
    page.parser.xpath('//cite').each do |cite|
      stack << cite.text  unless cite.text == ""
    end

    keyw = page.parser.xpath('//*[contains(concat( " ", @class, " " ), concat( " ", "sb_pagN", " " ))]').text
    break if keyw == ""
    sleep(10+rand(40))
    page = @agent.click page.link_with(text: keyw )
  end
  stack
end
def build_query(options)
  name = options[:name] if options.has_key? :name
  title = options[:title] if options.has_key? :title
  company = options[:company] if options.has_key? :company
  group = options[:group] if options.has_key? :group
  if name && company
    return "site:linkedin.com \"#{name}\" \"at #{company}\""
  elsif name && title
    return "site:linkedin.com \"#{name}\" \"#{title}\""
  elsif title && company
    return "site:linkedin.com/ \"#{title}\" \"at #{company}\""
  elsif group
    return "site:linkedin.com \"groups and association\" + \"#{group}\"" 
  end
end 
```

# javascript - 立即检测更改事件

> ID：11304645
> 
> 赞同：2
> 
> 时间：2012-07-03T04:50:03.290
> 
> 标签：javascript

> **可能重复：**
> [如何从 javascript 检测文本框更改事件](https://stackoverflow.com/questions/5786799/how-to-detect-textbox-change-event-from-javascript)

如何在插入后立即检测到文本字段的插入值？`change`事件仅在失去焦点后才会上升`keyPress, keyUp, keyDown`，等无法帮助我，因为新值是从条形码扫描仪插入的（它不会上升这个键盘事件）。仅使用 Timer 并定期检查文本字段中的值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T06:44:09.097

您可以使用该`oninput`事件。每当在该字段中进行输入时，它将触发。

有关更多信息，我将从以下博客中获得报价：[http](http://whattheheadsaid.com/2010/09/effectively-detecting-user-input-in-javascript) ://whattheheadsaid.com/2010/09/effectively-detecting-user-input-in-javascript （由[@AndyE](https://stackoverflow.com/users/94197/andy-e)编写）

> *谈论onkeydown和计时器......*
> 
> 但是，这仍然不能处理不涉及键盘的输入。还有哪些其他类型的输入？上下文菜单操作怎么样？剪切、粘贴、撤消和重做？拖放？一段时间以来，已经有一些事件可以处理一些其他类型的输入更改——一些浏览器支持 onpaste、oncut 和 oncopy 事件——但它们是非标准的，一些供应商太固执而无法实现它们。
> 
> 输入 HTML 5 事件 oninput。

对于一个跨浏览器的 jQuery 插件，你可以看看这个（同一作者）：[http ://whattheheadsaid.com/projects/input-special-event](http://whattheheadsaid.com/projects/input-special-event)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T05:16:52.713

你的意思是这个[http://jsfiddle.net/SP69J/10/](http://jsfiddle.net/SP69J/10/)

功能

```
$(document).ready(check);
  var previousvalue="";
function check(){
var val=$("#inputcontrol").val();
var interval;

 interval = window.clearInterval(interval); 
    if(val!=previousvalue){
    alert("value changed");
        previousvalue=$("#inputcontrol").val();
    }        
 interval = window.setInterval(check, 500);    
}​ 
```

根据需要设置间隔。

HTML：

```
<input type="text" id="inputcontrol">​ 
```

# java - 为什么这不会通知线程？

> ID：11304648
> 
> 赞同：2
> 
> 时间：2012-07-03T04:50:17.410
> 
> 标签：java, android, multithreading, notify

我一直想知道大多数应用程序如何创建确认对话框，我可以让我的工作。我知道你不能阻止 UI 线程所以我有这样的东西：

```
private synchronized boolean createDialogConfirm() {
        if(DEBUG) Log.i("Dialog", "createDialogConfirm()");
        // Creo un nuevo Thread que crea el cuadro de dialogo TODO: no funciona la confirmacion, nunca llega al return
        runOnUiThread(new Runnable() {
            @Override
            public void run() {
                // Creo el dialogo con los dos botones
                AlertDialog.Builder confirm = new AlertDialog.Builder(LogicAnalizerView.this);
                confirm.setTitle("Guardar");
                confirm.setMessage("El archivo existe, sobreescribir ?");
                if(DEBUG) Log.i("Dialog", "createDialogConfirm() -> Created");

                // Boton Si
                confirm.setPositiveButton("Si", new DialogInterface.OnClickListener() {
                  public void onClick(DialogInterface dialog, int whichButton) {    
                      state = true;
                      synchronized(this) { this.notifyAll(); };     // Despierta el Thread
                  }
                });

                // Boton No
                confirm.setNegativeButton("No", new DialogInterface.OnClickListener() {
                  public void onClick(DialogInterface dialog, int whichButton) {
                      state = false;
                      synchronized(this) { this.notifyAll(); };
                      dialog.dismiss();   
                  }
                });
                confirm.show();
            }
        });

        if(DEBUG) Log.i("Dialog", "createDialogConfirm() - Thread created");
        try {
            synchronized(this) { wait(); }; // Queda esperando (no retorna nada) hasta que se llame a notify() en algun boton
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

        return state;
    } 
```

所以我在线程（不是 UI 线程）中以这种方式使用它：

```
if(createDialogConfirm()){ ... } 
```

我知道这是一种丑陋的方式，但如果您有任何我想听的人，我不知道其他方式。问题是，如果我调用 notifyAll() 或 notify() whitout synchronized(this){}，我会在我的应用程序上强制关闭，但如果我使用它，它就永远不会返回，似乎永远不会 notify() 线程。这个想法是从线程返回一个真或假，但只有当用户按下某个按钮时。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T09:30:24.140

我相信你的问题来自你正在同步的事实，当你打电话时`this`，这是一个不同的对象，而`notifyAll`不是你打电话时`wait`，因为当你打电话时，`notifyAll`你在一个`new Runnable(...)`对象内。尝试在中性对象上进行同步。此外，您应该`wait`使用布尔条件来保护 ，以确保不会出现计时竞赛或虚假唤醒：

```
private synchronized boolean createDialogConfirm() {

        final Object signal = new Object(); // !
        final boolean[] shouldWait = new boolean[] { true };

        if(DEBUG) Log.i("Dialog", "createDialogConfirm()");
        // Creo un nuevo Thread que crea el cuadro de dialogo TODO: no funciona la confirmacion, nunca llega al return
        runOnUiThread(new Runnable() {
            @Override
            public void run() {
                // Creo el dialogo con los dos botones
                AlertDialog.Builder confirm = new AlertDialog.Builder(LogicAnalizerView.this);
                confirm.setTitle("Guardar");
                confirm.setMessage("El archivo existe, sobreescribir ?");
                if(DEBUG) Log.i("Dialog", "createDialogConfirm() -> Created");

                // Boton Si
                confirm.setPositiveButton("Si", new DialogInterface.OnClickListener() {
                  public void onClick(DialogInterface dialog, int whichButton) {    
                      state = true;
                      synchronized(signal) { shouldWait[0] = false; signal.notifyAll(); }     
                  }
                });

                // Boton No
                confirm.setNegativeButton("No", new DialogInterface.OnClickListener() {
                  public void onClick(DialogInterface dialog, int whichButton) {
                      state = false;
                      synchronized(signal) { shouldWait[0] = false; signal.notifyAll(); }
                      dialog.dismiss();   
                  }
                });
                confirm.show();
            }
        });

        if(DEBUG) Log.i("Dialog", "createDialogConfirm() - Thread created");
        try {
            while(shouldWait[0]) {
               synchronized(signal) { signal.wait(); }
            }
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

        return state;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T04:52:16.560

您可以使用`Interface`从您的 AlertDialog 获取通知/返回一些值。检查我的答案[`here`](https://stackoverflow.com/a/10764182/726863)。

# c++ - 使用类

> ID：11304652
> 
> 赞同：-3
> 
> 时间：2012-07-03T04:50:58.060
> 
> 标签：c++, class

所以我决定开始学习 c++ 我想了解如何在其中使用类。我以为我已经正确设置了它（通过查看教程），但它给了我以下错误..

```
C:\Dev-Cpp\main.cpp `Math' does not name a type 
```

我是 c++ 和 Dev-C++ 编译器的新手，所以我还没有找出错误。这是我的代码..

主类：

```
#include <cstdlib>
#include <iostream>

using namespace std;

//variables
int integer;
Math math;

int main()
{
    math = new Math();

    integer = math.add(5,2);

    cout << integer << endl;

    system("PAUSE");
    return EXIT_SUCCESS;
} 
```

这是我的 Math.cpp 类：

```
#include <cstdlib>
#include <iostream>
#include "Math.h"

using namespace std;

public class Math {

    public Math::Math() {

    }

    public int Math::add(int one, int two) {
           return (one+two);      
    }

} 
```

和数学头文件：

```
public class Math {
       public:
              public Math();
              public int add(int one, int two) {one=0; two=0};      

}; 
```

任何帮助将不胜感激，我一直在努力解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T04:58:17.920

您正在使用很多 Java 风格的语法。你应该拥有的是这个（未经测试）：

```
//main.cpp

#include <cstdlib>
#include <iostream>
#include "Math.h"
using namespace std;

int main()
{
    //No Math m = new Math();
    //Either Math *m = new Math(); and delete m (later on) or below:
    Math m; //avoid global variables when possible.
    int integer = m.add(5,2); //its m not math.
    cout << integer << endl;
    system("PAUSE");
    return EXIT_SUCCESS;
} 
```

对于数学.h

```
class Math { //no `public`
public:
    Math();
    int add(int, int);
}; 
```

对于数学.cpp

```
#include <cstdlib>
#include <iostream> //unnecessary includes..
#include "Math.h"

using namespace std;

Math::Math() {

}

int Math::add(int one, int two) {
    return (one+two);
} 
```

并编译这两个cpp文件（gcc的情况下）

```
$ g++ main.cpp Math.cpp
$ ./a.out 
```

看来您正在使用 Dev C++ IDE，在这种情况下，IDE 会为您编译并执行程序。

# javascript - 为 Uploadify 按钮增加了文本的字体大小

> ID：11304654
> 
> 赞同：0
> 
> 时间：2012-07-03T04:51:02.447
> 
> 标签：javascript, jquery, uploadify

我想在不改变按钮大小的情况下增加 uplodify 按钮的文本。

```
E.g:  'buttonText'  : 'Upload Image'. 
```

我只想增加上传图片文本的大小。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T04:59:43.803

使用这个 jQuery 来改变文本：

```
$('#button_id').text("Upload Image"); // change text of button 
```

然后使用 CSS 你可以保持宽度不变：

```
#button_id {
width: 50px; /* change this to what you want */
} 
```

请记住更改`button_id`为按钮的实际 ID。

jsFiddle：http: [//jsfiddle.net/NathanJohnson/67cv3/](http://jsfiddle.net/NathanJohnson/67cv3/)

# android - 使用 0dip 的 layout_height 而不是 wrap_content 以获得更好的性能.....如何删除此警告

> ID：11304655
> 
> 赞同：6
> 
> 时间：2012-07-03T04:51:04.850
> 
> 标签：android, android-layout

如何删除此警告？

**使用 0dip 的 layout_height 而不是 wrap_content 以获得更好的性能**

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-07-03T05:06:25.030

好的，让我通过一个例子来解释，

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <TextView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="Hello World!!" />

</LinearLayout> 
```

在上面的示例中，我使用`android:layout_weight="1"`的是 TextView，通过它我告诉布局我的 TextView 将采用父布局（LinearLayout）的全高。因此，在这种情况下`android:layout_height="wrap_content"`是没有用的，因为`TextView`将具有作为 parent 的完整大小`LinearLayout`。因此，在这种情况下，最好添加`android:layout_height="0dp"`以使 TextView 将自身包装到父 Layout 的高度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T05:00:47.187

您必须`layout_weight`在垂直父布局中存在的子元素中具有 use 属性。因此，在这种情况下，您已经告诉父级要对子级应用多少高度。

所以在子元素替换

```
android:layout_height="wrap_content" 
```

和

```
android:layout_height="0dp" 
```

但是，这只是一个猜测，您应该发布整个布局 XML

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-08T20:30:35.777

我刚遇到这个问题，所以...

确保父布局的方向设置为与您希望 weightSum 对应的方向相匹配。

换句话说，如果要使用 weightSum 的子视图的 layout_width，请确保父 Layout 的方向设置为“水平”。

或者：

如果它是您想要使用 weightSum 的孩子的 layout_height 属性，请将父级的布局方向设置为垂直。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-06T08:20:55.333

如果您为 指定了任何值`layout_weight`，**即使将其设置为 0**，它也会抛出此警告。

问题是，将高度/宽度设置为 0dp，在这种情况下会导致元素根本不显示。只需删除`layout_weight`参数，一切都很好。

当然，正如许多其他人所说，如果您`layout_weight`指定了大于零的值，这不是问题。只需将`layout_height`或`layout_width`（取决于布局）设置为 0dp。

# android - Cloudbees 是否支持 Android NDK？

> ID：11304658
> 
> 赞同：0
> 
> 时间：2012-07-03T04:51:25.763
> 
> 标签：android, android-ndk, continuous-integration, cloudbees

我的构建脚本的一部分要求我运行 ndk-build，它显然不在 Cloudbees 框的 PATH 上，因为它会阻塞命令。Cloudbees 是否在我可以指出的地方安装了 NDK？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T03:55:43.057

短期解决方案可能是将[http://developer.android.com/tools/sdk/ndk/index.html](http://developer.android.com/tools/sdk/ndk/index.html) linux tar.gz 上传到 cloudbees 上的私有存储库中，并添加一个预构建步骤以从 /private/ 扩展它到 /tmp。

# javascript - 在 three.js 示例中使用 dat.GUI 时出现问题

> ID：11304659
> 
> 赞同：10
> 
> 时间：2012-07-03T04:51:29.883
> 
> 标签：javascript, user-interface, three.js, dat.gui

我尝试在下面的 three.js[示例中使用](http://mrdoob.github.com/three.js/examples/webgl_loader_vtk.html)[dat.GUI](http://workshop.chromeexperiments.com/examples/gui/#1--Basic-Usage)。

我只是做了以下代码更改来添加一个 GUI 来调整网格不透明度。

```
var loader=new THREE.VTKLoader();
loader.load ("models/vtk/bunny.vtk", function(geom){
var mesh = new THREE.Mesh(geom, material );
mesh.doubleSided=true;
mesh.position.setY(-0.09);
scene.add( mesh );

var gui = new dat.GUI();

var view = this;
view.Opacity = 0.2;

var maingui = gui.addFolder('Main');
var opacity = maingui.add(view, 'Opacity', 0, 1);
opacity.onChange( function(value) {
    mesh.material.opacity = value;
});

maingui.open();

animate(); 
```

现在，一旦我单击不透明度滑块，鼠标就会跟随滑块。我无法摆脱鼠标点击。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-07-03T10:46:00.010

在渲染器初始化块之后移动控件初始化块，并更改此行：

```
controls = new THREE.TrackballControls( camera ); 
```

对此：

```
controls = new THREE.TrackballControls( camera, renderer.domElement ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-12-28T10:33:06.597

老主题，但我只是有一个类似的问题，以前的解决方案不适合我的情况。为了修复它，我为 dat.gui 模块创建了一个特定的画布：

html部分：

```
<div id="my-gui-container"></div> 
```

CSS部分：

```
#my-gui-container{
    position: absolute; 
    top: 0; 
    right: 0;
    z-index: 100;
} 
```

JS部分：

```
this.gui = new dat.GUI({ autoPlace: false });

var customContainer = document.getElementById('my-gui-container');
customContainer.appendChild(this.gui.domElement); 
```

使用这种方法，元素是隔离的，我不再有事件冲突。

**编辑**：有关更多详细信息，您在此处拥有所有代码[https://github.com/quentinchap/threeJs-morphing-test](https://github.com/quentinchap/threeJs-morphing-test)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-29T16:41:16.313

```
var clock = new THREE.Clock();
var trackballControls;

function render() {
stats.update();
        var delta = clock.getDelta();   
        trackballControls.update(delta);

        // render using requestAnimationFrame
        requestAnimationFrame(render);
        webGLRenderer.render(scene, camera);    
    }

    function trackBall(){
        trackballControls = new THREE.TrackballControls(camera, render.domElement) ;

        trackballControls.rotateSpeed = 1.0;
        trackballControls.zoomSpeed = 1.0;
        trackballControls.panSpeed = 1.0;
        //  trackballControls.noZoom=false;
        //trackballControls.noPan=false;
        trackballControls.staticMoving = true;
        //trackballControls.dynamicDampingFactor=0.3;
    }

        trackBall();

        render(); 
```

我将示例中所示的代码更改为“ `THREE.TrackballControls(camera, renderer.domElement)`”，但是当我使用它一次时我仍然会影响我的 GUI，并且不能从此刻取消选择它。是否有可能使用命令停用或取消选择活动的 GUI 部件？或类似“gui.deselect.all”的东西？

# xslt - 模板匹配标签后跟标签

> ID：11304666
> 
> 赞同：0
> 
> 时间：2012-07-03T04:52:32.603
> 
> 标签：xslt

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T07:21:36.317

请记住，XSLT 模板不匹配标签，它们匹配元素。a 元素的开始标记紧跟 img 元素的开始标记，但从 XSLT 的角度来看，您正在寻找的结构是一个具有 img 元素作为其唯一子元素的 a 元素。

您的第四条规则“图像和标签的属性”。不完整：您还没有说两个元素的属性必须满足什么条件。

您还没有明确说明您是否希望您的模板规则匹配 img 元素或 a 元素。

这是一个匹配 img 元素的规则，前提是包含的元素具有 href 属性：

```
match="a[@href]/img[not(preceding-sibling::node() or following-sibling::node())]" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T05:39:54.947

`match`在您的模板属性中使用此 xpath ：

```
//a[count(@*)>0 and img[count(@*)>0] and count(.//*)=1 and normalize-space(.)=''] 
```

这将选择`a`没有非重要文本内容、属性的所有元素以及具有属性的单个`img`元素。

# php - 梨错误已弃用

> ID：11304667
> 
> 赞同：1
> 
> 时间：2012-07-03T04:52:42.620
> 
> 标签：php, mysql, xampp, pear

好吧，我已经用同样的风格写作了一段时间了，突然间我在 pear config 中遇到了一个错误。

错误：

```
Deprecated: Assigning the return value of new by reference is deprecated in E:\xampp\php\PEAR\Config.php on line 80

Deprecated: Assigning the return value of new by reference is deprecated in E:\xampp\php\PEAR\Config.php on line 166 
```

我的索引页面（是我唯一改变的）：

```
<?php

include("library/config.php"); 
include("library/functions/core.php");

// Defualt Heading
$heading = "";

// Load Page Model
loadModel($path0,$path1);

// Load User Language
loadLanguage($path0,$path1);

// Load Page Header
loadHeader();

// Load Page Body
loadPage($path0,$path1);

// Load Page Footer
loadFooter();
?> 
```

我唯一改变的是 config.php 和 core.php 的位置，它们被放置在一个名为 library 的新文件夹下更深的 1 个文件夹。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T05:00:48.120

当您收到错误`config .php`并向我们展示`index.php`代码时

通过阅读错误。有一些功能具有以下格式

```
function whatever (...)
{
   return &$somevalue;
} 
```

要解决这个问题，你应该`&`先删除`$somevalue`

读[`this`](http://pear.php.net/bugs/bug.php?id=12071)

# android - Android.mk 中的更改不会更改库

> ID：11304670
> 
> 赞同：1
> 
> 时间：2012-07-03T04:53:12.820
> 
> 标签：android, makefile, android-ndk, java-native-interface

我正在尝试获取我的 Android.mk 文件来优化二进制文件：

```
LOCAL_PATH := $(call my-dir)

include $(CLEAR_VARS)

LOCAL_MODULE    := fred
LOCAL_SRC_FILES := fred.c
LOCAL_LDLIBS := -llog
LOCAL_CFLAGS = -O3
NDKDEBUG = 0

include $(BUILD_SHARED_LIBRARY) 
```

然后我保存它，然后运行

```
$NDK/ndk-build -B V=1 
```

然后我在生成的库上运行 md5sum ，它与使用构建的库没有区别

```
LOCAL_PATH := $(call my-dir)

include $(CLEAR_VARS)

LOCAL_MODULE    := fred
LOCAL_SRC_FILES := fred.c
LOCAL_LDLIBS := -llog

include $(BUILD_SHARED_LIBRARY) 
```

那么，我做错了什么？

编译器的输出似乎是：

```
/home/AStupidNoob/Documents/Android/android-ndk-r7b/toolchains/arm-linux-androideabi-
4.4.3/prebuilt/linux-x86/bin/arm-linux-androideabi-gcc -MMD -MP -MF /home/AStupidNoob
/workspace/Fred/obj/local/armeabi/objs/fred/fred.o.d -fpic -ffunction-sections -funwind-
tables -fstack-protector -D__ARM_ARCH_5__ -D__ARM_ARCH_5T__ -D__ARM_ARCH_5E__ 
-D__ARM_ARCH_5TE__  -Wno-psabi -march=armv5te -mtune=xscale -msoft-float -mthumb -Os 
-fomit-frame-pointer -fno-strict-aliasing -finline-limit=64 -I/home/AStupidNoob
/workspace/Fred/jni -DANDROID -O3 -Wa,--noexecstack -O2 -DNDEBUG -g -I/home/AStupidNoob
/Documents/Android/android-ndk-r7b/platforms/android-4/arch-arm/usr/include -c  
/home/AStupidNoob/workspace/Fred/jni/fred.c -o /home/AStupidNoob/workspace/Fred/obj
/local/armeabi/objs/fred/fred.o 
```

我不确定这是否可行，但似乎问题可能在于 3 个优化标志 -Os -O2 -O3，但我该如何解决这个问题？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T05:03:16.460

查看`APP_OPTIM`变量。我`release`在我的 Application.mk 文件中将我的设置为优化代码。（我不确定您是否可以通过`-O#`这种方式通过各种选项获得所需的粒度，但至少您得到了一些东西。）

# titanium - 使用钛创建数据库的最佳方法是什么

> ID：11304671
> 
> 赞同：1
> 
> 时间：2012-07-03T04:53:14.093
> 
> 标签：titanium, appcelerator, titanium-mobile, appcelerator-mobile, titanium-modules

我有以下两种方法在钛中创建 Db。需要知道这两种方法中哪种方法最好。

**方法 1——**使用“SQLite Manager”之类的工具创建一个 sqlite 数据库，并将该数据库复制到应用程序并使用它。

**方法 2** -- 创建一个 sqlite 数据库，使用钛代码中的查询。像 Ti.Database.open("DBName"); 然后使用 sqlite 查询创建表

谢谢阿米特

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-03T07:19:54.333

如果数据库总是只读的，我会选择#1。但是如果它包含用户输入的数据，如果您需要更新数据库的设计，您最终将需要执行 #2。

我有需要添加功能的应用程序 - 需要新的表/索引。您不能使用方法 #1 将“版本 1”数据库修改为您的新设计。

# git - Git - 从另一个分支签出新提交

> ID：11304672
> 
> 赞同：1
> 
> 时间：2012-07-03T04:53:20.943
> 
> 标签：git, dotfiles

我使用 git 来管理我的 dotfiles，我同时使用 linux 和 mac osx，所以我为这两个创建单独的分支，并为通用设置创建另一个 master。

当我编辑一些常见的东西并且我想将更改保存到另一个分支时。这就是我目前的工作方式：

```
git checkout master
git commit ...
git checkout arch
git checkout master <file1>
git checkout master <file2> 
```

这是很多工作。我可以签出提交而不是文件，还是有比这更短的方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T05:41:24.580

我宁愿合并到其他分支中 ，而不是挑选樱桃（[在这里查看它的缺点）。](https://stackoverflow.com/questions/881092/how-to-merge-a-specific-commit-in-git/881112#881112)`master`

例如，请参阅“ [Git 分支以在`dev`将一些更改合并到`master`](https://stackoverflow.com/questions/5542708/git-branches-for-working-on-dev-while-merging-some-changes-into-the-master)”时进行处理。
这样，您就知道已经从`master`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T04:59:17.357

你可以做到`git cherry-pick <changeset hash>`。例如`git cherry-pick 1a15f41e2`。这会将提交应用到当前分支。如果提交仅存在于远程仓库中，则必须在采摘樱桃之前执行 git fetch 。文档：[http ://www.kernel.org/pub/software/scm/git/docs/git-cherry-pick.html](http://www.kernel.org/pub/software/scm/git/docs/git-cherry-pick.html)

# c# - 从数据表打印数据

> ID：11304675
> 
> 赞同：0
> 
> 时间：2012-07-03T04:53:30.973
> 
> 标签：c#, asp.net

我在数据表中有一份报告。我需要将其发送到打印机并打印。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:13:54.817

真的不比 Ctrl+P 或 JavaScript 的[window.print](https://developer.mozilla.org/en/DOM/window.print)和[这里好多少](http://msdn.microsoft.com/en-us/library/ms536672%28v=vs.85%29)

[使用媒体查询](http://www.w3.org/TR/css3-mediaqueries/)创建单独的打印CSS，并具有您想要专门用于打印的任何布局。

```
<link rel="stylesheet" type="text/css" href="defaultStyles.css">
<link rel="stylesheet" type="text/css" media="print" href="printStyles.css"> 
```

# wcf - 具有优先级过滤器的 WCF 路由器

> ID：11304677
> 
> 赞同：1
> 
> 时间：2012-07-03T04:53:33.803
> 
> 标签：wcf, wcf-routing

为了准备我的 70-513 考试，我发现了以下问题：

> Windows Communication Foundation (WCF) 解决方案使用两个服务来管理购物车。服务 A 处理包含总金额在 0 美元到 500 美元之间的行项目的消息。服务 B 处理包含总金额超过 500 美元的行项目的消息。所有消息对业务逻辑都同等重要。您需要使用 WCF 路由将传入消息路由到适当的服务。您应该将哪两个消息过滤器添加到路由器？（每个正确答案代表解决方案的一部分。选择两个。）
> 
> *   A. 一个优先级为 100 的消息过滤器，它将总价值在 0 美元到 500 美元之间的消息转发给服务 A
> *   B. 一个优先级为 0 的消息过滤器，它将总价值在 0 美元到 500 美元之间的消息转发给服务 A
> *   C. 一个优先级为 0 的消息过滤器，它将所有消息转发给服务 B
> *   D. 一个优先级为 100 的消息过滤器，它将所有消息转发到服务 B

答案是 A 和 C。

如果 A 和 C 是答案，那么为什么 B 和 D 也不正确呢？这两对是对称的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T08:01:33.730

它们不是对称的。

甲&丙：

*   Filter1 -> 0-500 到 ServiceA -> 100 优先级
*   Filter2 -> 全部到 ServiceB -> 0 优先级

B&D

*   Filter1 -> 0-500 到 ServiceA -> 0 优先级
*   Filter2 -> 全部到 ServiceB -> 100 优先级

当路由器接收到消息时，该消息将通过该传入消息类型存在的所有过滤器进行路由。

这意味着针对多个过滤器评估消息内容，因此需要在过滤器冲突的情况下建立优先级。

A&C 正确的原因是当收到消息时，有两个过滤器可用于评估消息内容。例如，如果消息的总订单项 = $300，则两个过滤器都会根据内容评估 true，但在这种情况下，我们希望将此消息路由到 ServiceA，因此我们必须给予 Filter1 优先级。

这有帮助吗？

# python - 更新 App Engine 任务？

> ID：11304679
> 
> 赞同：2
> 
> 时间：2012-07-03T04:53:41.823
> 
> 标签：python, google-app-engine, task-queue

是否可以更新任务队列中的 AppEngine 任务？
具体来说，更改`eta`任务的属性以使其在不同的时间运行？

在我的场景中，我的数据存储中的每个项目都附加了一个关联的任务。如果元素已更新，则需要使用新的`eta`.

我目前将任务的名称明确设置为使用的项目的 id，`name=item.key().id()`以便我可以唯一地引用该任务。

当任务被调用和删除时，名称不会立即被释放（我认为）。这会导致问题，因为我需要在任务执行后立即重新添加它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T09:44:06.307

使用拉队列，您可以使用 modify_task_lease 设置相对于当前时间的 ETA（即使您当前没有租用任务）。

您不能更改拉取队列任务的 ETA。

每个任务的名称在 7 天内仍然不可用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T14:34:25.293

所以我通过以下方式解决了这个问题：
我在我的模型中为`task_name`. 当我创建元素并添加新任务时，我允许应用引擎为任务生成一个自动的、唯一的名称，然后检索该任务的名称并将其与模型一起保存。

这使我可以对任务进行引用。

当我需要修改任务时，我只需删除现有的任务，用新任务创建一个新`eta`任务，然后将新任务的名称保存到模型中。

`Task.add()`到目前为止这是有效的，但是将来可能会出现关于函数返回时任务不一致的问题。

# iphone - 如何在 phonegap 中创建和管理播放列表？（音频/视频文件）

> ID：11304682
> 
> 赞同：0
> 
> 时间：2012-07-03T04:54:18.400
> 
> 标签：iphone, jquery-mobile, cordova

我正在尝试在 iPhone 的 phonegap 应用程序中创建播放列表。我对此一无所知，我对这个问题完全陌生，我没有得到任何东西，有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:04:30.777

这可能会帮助你

[使用 PhoneGap 媒体 API 和 jQuery Mobile UI 框架](http://www.mobiledevelopersolutions.com/home/start/twominutetutorials/tmt1part1)

这是代码：

```
<!DOCTYPE HTML>
<html>
  <head>
    <meta name="viewport" content="width=screen.width; user-scalable=no" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Audio Player</title>
    <!-- NOTE: The following 4 lines are inserted by the project wizard -->
      <link rel="stylesheet" href="jquery.mobile/jquery.mobile-1.0.css" type="text/css">
      <script type="text/javascript" src="jquery.mobile/jquery-1.6.4.min"></script>
      <script type="text/javascript" src="jquery.mobile/jquery.mobile-1.0.js"></script>
      <script type="text/javascript" charset="utf-8" src="phonegap-1.3.0.js"></script>
</head>
<body>

<div data-role="page" data-theme="a" id="page-home">
    <div data-role="header" data-nobackbtn="true" data-theme="e">
    <h1>Audio Player</h1>
    </div> <!-- /header -->

    <div data-role="content" id="content-manual" data-theme="a">

        <div data-role="button" id="playaudio" data-theme="e">Play</div>
        <div data-role="button" id="pauseaudio" data-theme="e">Pause</div>
        <div data-role="button" id="stopaudio" data-theme="e">Stop</div>    

        <div class="ui-grid-a">
            <div class="ui-block-a"> Current: <span id="audio_position">0 sec</span></div>
            <div class="ui-block-b">Total: <span id=media_dur>0</span> sec</div>
        </div><!-- /grid-a -->

    </div>  <!-- /content-manual -->
</div>  <!-- /page -->
</body>
</html> 
```

# ruby - 在机械化中为选择列表设置值

> ID：11304683
> 
> 赞同：1
> 
> 时间：2012-07-03T04:54:49.390
> 
> 标签：ruby, mechanize, mechanize-ruby

考虑以下机械化表单对象

```
#<Mechanize::Form
 {name "f1"}
 {method "POST"}
 {action "f.php"}
 {fields
  [hidden:0x4db4b02 type: hidden name: opflag value: ]
  [text:0x4db463e type: text name: lno value: 666]
  [selectlist:0x4db84dc type:  name: scode value: []]}
 {radiobuttons}
 {checkboxes}
 {file_uploads}
 {buttons [button:0x4db42ec type: button name: bt value:  Show Result ]}> 
```

在这里，我可以使用设置文本字段的值

```
result_form = page.form('f1')
result_form.lno = '666' 
```

但是我在为选择列表设置值时遇到了困难`scode`。我试过了

```
result_form.field_with(name:"scode").option_with(value: "foo").click 
```

`undefined method`它为 nil:NilClass (NoMethodError)`返回一个 ERROR 作为 click' 然后，我尝试了

```
result_form.scode.value = 'foo' 
```

但这`NoMethodError`也会返回。知道如何在 Mechanize 中为选择列表设置值吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T07:01:52.557

试试：

```
result_form.scode = 'foo' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T07:23:32.167

`result_form["scode"] = "foo"`应该做的伎俩。[文档中的参考](http://mechanize.rubyforge.org/Mechanize/Form.html#method-i-5B-5D-3D)

# eclipse - -Duser.language=zh 在 ecilpse JUNO 中不起作用

> ID：11304685
> 
> 赞同：0
> 
> 时间：2012-07-03T04:55:12.390
> 
> 标签：eclipse, ubuntu, eclipse-juno

我使用带有语言环境 en_US.UTF-8 的 ubuntu 12.04 64 位（我想使用英语语言环境）。ecilpse 中的默认键绑定内容辅助是 ctrl+空格键。我想把它改成alt+/，因为ctrl+空格键是用来激活中文输入法的。

在之前的eclipse版本中，我在eclipse.ini的底部添加了“-Duser.language=zh”，ecilpse会将内容辅助快捷键改为alt+/。但是，在最新的 Eclipse（4.2 Juno）中，它没有任何效果。

任何的想法？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T07:24:16.960

不要在 eclipse.ini 中使用 -Duser.language=zh，而是在 --launcher 参数之前添加以下选项：

```
-nl
zh_CN 
```

# jquery - Jquery“live”很好，但“on”不在jsfiddle上

> ID：11304689
> 
> 赞同：0
> 
> 时间：2012-07-03T04:55:48.437
> 
> 标签：jquery

一定有什么问题。我不知道什么？[在 jsfiddle 上看到这个](http://jsfiddle.net/nawazhi/h75BD/)。

```
/*
$("p").live("click", function(){
  $(this).after("<p>Another paragraph!</p>");
});
*/

$("p").on("click", function(){
  $(this).after("<p>Now Click Me...Another paragraph!</p>");
}); 
```

我选择了 jquery 1.7.2。并且`live`工作正常，但`on`不附加点击事件。根据 jquery 文档，`on`应该按照`live`已弃用的方式工作。任何的想法？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-03T04:59:11.347

您没有`on`正确绑定事件，您需要将其绑定到父级

```
$("body").on("click", "p", function(){ }); 
```

jsFiddle：http: [//jsfiddle.net/h75BD/2/](http://jsfiddle.net/h75BD/2/)

使用语法绑定它的工作方式与不委托事件`$('selector').on()`完全相同。`.click()`如果您希望它被委派（也称为实时），则需要使用`$('parent').on('click', 'selector')`语法。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-03T04:59:42.180

在您的示例中，`.on()`效果很好。

但请记住，`$(some_selector).live('click', function(){})`不等于`$(some_selector).on('click', function(){})`，而是

```
$(document).on('click', some_selector, function(){}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-03T04:58:58.730

您需要委托动态创建的元素。所以你应该使用这样的东西。 `body`可以替换为任何父元素`p`

```
$('body').on('click','p',function(){
     $(this).after("<p>Now Click Me...Another paragraph!</p>");
}); 
```

[http://jsfiddle.net/h75BD/1/](http://jsfiddle.net/h75BD/1/)

这样，事件就会冒泡父元素并在那里处理，因为`body`当 dom 准备好时就在那里。你这样做的方式，它只会附加到`p`dom 准备好时存在的元素。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-03T04:59:18.290

“开”不是那样工作的。您在父元素上调用“on”，该父元素将动态附加子元素。在这种情况下，它将是身体。

```
$('body').on('click', 'p', function(){}); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-07-03T05:09:17.187

**On 将事件附加到被选择元素的后代。**您正在附加*到*没有后代的 p 上，并且新添加的*段落**p*插入在您在处理程序上添加的 p 标记之后，因此它不属于它（新添加的*p*不是您附加单击的*p的后代**上*。

为了解释我的意思，将现有的*p*放入 div 中，新添加的*p*将是父 div 的后代，并且 on 将附加到每个新添加的*p*上，它是 id 为 div1 的 div 的后代。

Selector 是第二个参数，用于过滤触发事件的选定元素的后代。如果选择器为空或省略，则事件总是在到达被选元素时[**触发**](http://api.jquery.com/on/)

**[现场演示](http://jsfiddle.net/h75BD/5/)**

```
$("#div1").on("click", "p", function(){
  $(this).after("<p>Now Click Me...Another paragraph!</p>");
}); 
```

或者您可以将其放在文档上以附加单击添加到文档中的每个元素 p。

```
$(document).on("click", "p", function(){
  $(this).after("<p>Now Click Me...Another paragraph!</p>");
}); 
```

​</p>

​</p>

# oracle - 如何同时触发两个 oracle 插入语句？Oracle 11g

> ID：11304696
> 
> 赞同：-1
> 
> 时间：2012-07-03T04:56:25.657
> 
> 标签：oracle, insert, oracle11g

我试图一次触发两个插入语句。实际上我已经尝试过下面的查询，但它只插入一个表中。

```
EXECUTE IMMEDIATE 'select * from abc.test where test_NAME = ''aaa''' BULK COLLECT INTO T_SC;
IF T_SC.count = 0 THEN
    Insert into abc.test (test_ID,test_NAME,status) 
    VALUES(1,'aaa','a') BULK COLLECT INTO insert_cnt;
    IF insert_cnt.count = 1 THEN
    INSERT INTO abc.test1(test1_id,test1_NAME,test1_ALIAS,test_ID)
    VALUES(1,'bbb','b',1);
    COMMIT;
END IF; 
```

它只是插入 abc.test1 表中。我会错过什么。如果有人知道，请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T08:30:41.640

您的整个代码似乎不正确：

1.  为什么是动态sql？
2.  有很多语法错误

    *   未封闭的“如果”（正如 vj shah 评论的那样）
    *   缺少`returning`关键字
3.  `bulk collect`如果您只从插入一行返回，为什么需要？
4.  第二个“如果”是什么意思？

等等...

无论如何，这段代码有效：

```
EXECUTE IMMEDIATE 'select * from abc.test where test_NAME = ''aaa''' BULK COLLECT INTO T_SC;

/* BTW, why not 
select * bulk collect into T_SC from abc.test where test_NAME = 'aaa';
*/

IF T_SC.count = 0 THEN
    Insert into abc.test (test_ID, test_NAME, status) 
    VALUES(1,'aaa','a') returning test_ID, test_NAME, status BULK COLLECT INTO insert_cnt;
    IF insert_cnt.count = 1 THEN
       INSERT INTO abc.test1(test1_id,test1_NAME,test1_ALIAS,test_ID)
       VALUES(1,'bbb','b',1);
    END IF;
    COMMIT;
END IF; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T19:48:06.343

你能更好地解释你的问题吗？你的逻辑和你展示的数据都不能说明你想要完成什么。（if 背后的逻辑）。

这也不是功能代码（语法错误太多），您可以使用您正在触发的真实代码进行更新吗？可能只是更改表名？

如果您想确保两个语句都成功完成或都回滚，那么将它们包含在块中的方法是正确的。

```
SQL> create table test_rc_2(
  2    id number
  3  );

Table created. 
```

--Sample 1 : 单独提交插入（只滚动最新的语句

```
SQL> insert into test_rc_2 values (100);

1 row created.

SQL> insert into test_rc_2 values ('hello');
insert into test_rc_2 values ('hello')
                              *
ERROR at line 1:
ORA-01722: invalid number

SQL> commit;

Commit complete.

SQL> select * from test_rc_2;

        ID
----------
       100 
```

--case 2：在一个块中提交它们。

```
 SQL> truncate table test_rc_2
      2  ;

    Table truncated.

    SQL> begin
      2    insert into test_rc_2 values(100);
      3    insert into test_rc_2 values('hello..');
      4  end;
      5  /
    begin
    *
    ERROR at line 1:
    ORA-01722: invalid number
    ORA-06512: at line 3

SQL> commit;

Commit complete.

SQL> select * from test_rc_2;

no rows selected 
```

# c# - 尝试在不同的方法 c# 中调用另一个 GUI 方法

> ID：11304698
> 
> 赞同：0
> 
> 时间：2012-07-03T04:56:36.667
> 
> 标签：c#, events, user-interface, methods

我在简明扼要地描述我正在尝试做的事情时遇到了一些麻烦，这损害了我寻找答案的能力。我会尽量具体说明我的问题，如果有人可以提出建议或指出我的学习方向，我将不胜感激。Tr

我正在尝试编写纸牌游戏 Dominion 的 GUI 版本，在其中玩不同的纸牌会产生不同的结果和选择。这些卡中的许多具有相似的起始选择（例如，从您的手上选择一张卡并将其丢弃/查看敌人的手牌），但不同的结束选择（例如，将已丢弃的卡升级/将已丢弃的卡给另一个玩家）。在玩牌时，程序会查找唯一的数字卡代码并开始执行特定于该卡的代码。

这是我挂断电话的地方：

我希望有更通用的方法来监听唯一卡代码内的用户输入，但我不断收到错误。理想情况下，我可以做类似的事情

```
for(int i = 0; i < totalPlayers; i++)
{
    showEnemyHand(i);
} 
```

或者

```
for(int i = 0; i < totalPlayers; i++)
{
    thiefEffect(i);
} 
```

在“buttonclicked”事件（特别是“play card”按钮）中。 showEnemyHand(int) 和 thiefEffect(int) 方法将等待用户输入，存储响应，然后立即返回到它被调用的 for 循环从，但它并不像我最初希望的那么容易。

我什至不知道我应该寻找什么，这让我感到最痛苦。我一直在阅读有关事件处理和委托的内容，但我不确定这是否是我所需要的。谁能指出我需要学习的方向，或者给我我想要解决的主题，以便我可以更轻松地搜索它？（当然，帮我解决它也将不胜感激=D）

非常感谢！杰克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T05:26:54.513

您的解决方案适用于基于命令行的游戏、具有延续/协程的语言，或者可能在`showEnemyHand`等会阻塞用户输入的多线程应用程序中。对于基于 GUI 的游戏，事件驱动架构确实最适合您，因此原则上我建议您了解更多有关它的信息。

但是，如果您真的想使用循环来做到这一点，我建议您阅读有关[**线程**](http://msdn.microsoft.com/en-us/library/aa645740%28v=vs.71%29.aspx)和[**阻塞调用**](https://stackoverflow.com/q/2213783/520779)的内容。一旦你理解了这些概念，你应该能够：

1.  创建一个单独的线程来托管您的循环；
2.  创建一个**锁**，该锁将阻止执行，直到用户输入某些内容（请参阅链接问题中的示例）；
3.  在你的循环**和**用户输入的回调中使用该锁：
    1.  在循环的开始，你等待你的锁；
    2.  当用户输入某些内容（您将使用事件处理程序检测到 - 请参阅您正在使用的特定 GUI 框架的文档）时，您保存选择了哪个操作并释放锁；
    3.  您的循环将自动继续，读取保存的操作并执行迭代，直到它再次到达同一点并等待另一个用户输入。

这种方法是否比使用事件驱动逻辑编写规则更容易或更难，这是值得商榷的。[**关于协程**](https://stackoverflow.com/q/2599361/520779)也可以这样说（尽管对此经验较少，但我无法发表意见）。我给出的建议应该可以帮助您入门。

# iphone - AdMob 集成

> ID：11304704
> 
> 赞同：0
> 
> 时间：2012-07-03T04:58:04.707
> 
> 标签：iphone, admob

我已经像这样在我的应用程序中集成了 AdMob。

```
#define AdMob_ID @"a14fd99963270b2"

-(void)viewDidLoad
{
          [super viewDidLoad];

          GADBannerView *admob = [[GADBannerView alloc] initWithFrame:CGRectMake(0, 360, 320, 50)];
          admob.adUnitID = AdMob_ID;
          admob.rootViewController=self;
          [self.view addSubview:admob];

          GADRequest *req=[[GADRequest alloc] init];
          req.testing=YES;
          [admob loadRequest:req];
} 
```

这给了我默认的谷歌，

![在此处输入图像描述](../Images/e8415397dc180655394dded0e0e66f35.png)

如果我将 AdMob_ID 更改为我的应用程序的 ID，则不会显示添加。

可能是什么问题？

在创建 AdMobID 时，它要求提供 iTunes 连接应用程序链接。

申请上线后即可获取此链接。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T04:07:53.397

你确定你不是在测试模式？Admob 显示该图像用于测试目的，好消息是您的 admob 集成有效。要投放实时广告，请确保您未处于测试模式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-05-02T19:05:01.553

在 AdMob 与您的应用程序集成中，您需要在 Gradle、Manifest 和您希望展示广告的 Activity 中进行更改。根据需要授予用户权限。看一下这个。

activity_main.xml

```
xmlns:ads="http://schemas.android.com/apk/res-auto"
<com.google.android.gms.ads.AdView
    android:id="@+id/adView"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="true"
    android:layout_alignParentBottom="true"
    ads:adSize="BANNER"
    ads:adUnitId="@string/banner_ad_unit_id">
</com.google.android.gms.ads.AdView> 
```

字符串.xml

```
 <string name="banner_ad_unit_id">ca-app-pub-your id</string> 
```

MainActivity.java

```
import com.google.android.gms.ads.AdRequest;
import com.google.android.gms.ads.AdView;

public class MainActivity extends ActionBarActivity {
..........
AdView mAdView = (AdView) findViewById(R.id.adView);
    AdRequest adRequest = new AdRequest.Builder().build();
    mAdView.loadAd(adRequest);
} 
```

如需进一步参考，请参阅[适用于 Android 的 AdMob 教程](https://developers.google.com/admob/android/quick-start#create_a_new_project)。

# c# - 检查进程已加载

> ID：11304709
> 
> 赞同：2
> 
> 时间：2012-07-03T04:58:30.860
> 
> 标签：c#

有没有办法检查应用程序是否已完成加载。

例如，如果我要使用`Process newProcess = Process.Start(@"C:\someFile.xls");` is there`IsLoaded or IsFinishedLoading`或类似的东西，那么在应用程序完全加载之前，另一行代码不会触发。

我问是因为我在尝试与 Excel 工作表交互时遇到错误，因为它没有打开。仅`Process newProcess = Process.Start(@"C:\someFile.xls");`在我的应用程序由于没有打开 excel 文档而崩溃之后才可以使用。

现在有没有办法加快程序/文件的启动速度？还是我编码错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T05:02:42.640

没有通用的方法可以知道应用程序何时启动或完成打开文档。

一些程序（即 Office 应用程序）提供 API 来通信/控制它们，而其他程序（即记事本）则无法知道这些信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T06:02:30.287

既然您已经在使用 Interop，为什么不实际创建 Excel 应用程序并加载文档呢？如果需要，您还可以使应用程序对用户可见。

使用：

```
Excel.Application excel = new Excel.ApplicationClass();
Workbook wb = excel.Workbooks.Open(path, <parameters>); 
```

# ios - UIPopoverController 在尝试初始化时抛出异常

> ID：11304710
> 
> 赞同：0
> 
> 时间：2012-07-03T04:58:31.940
> 
> 标签：ios, cocoa-touch, uipopovercontroller

嘿，我是 xcode 编程的新手。所以这个问题可能听起来很荒谬。我正在尝试`UIWebview`. 我成功添加了 URL 文本框并在 Google 文本框中搜索。现在，我正在尝试允许用户添加书签。为此，我将 URL 保存在一个数组中。但是，我希望`UIPopover`在单击书签栏按钮项时弹出一个视图。我在尝试初始化时不断收到此错误`UIPopoverController`。

```
objPopOverController = [[UIPopoverController alloc]init ]; 
```

关于为什么在这里抛出异常的任何帮助。

谢谢。

编辑：

```
- (IBAction)addBookmark:(UIBarButtonItem *)sender {
    BookmarkPopover *objBook = [[BookmarkPopover alloc]init];    
    objPopOverController = [[UIPopoverController alloc]init ];
    objPopOverController.contentViewController = objBook;
    objPopOverController.delegate = self;
    objPopOverController.popoverContentSize = CGSizeMake(180, 120);
    [objPopOverController presentPopoverFromBarButtonItem:sender permittedArrowDirections:UIPopoverArrowDirectionUp animated:YES];
} 
```

安慰：

```
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "x86_64-apple-darwin".Attaching to process 13287.
Pending breakpoint 1 - "objc_exception_throw" resolved
[Switching to process 13287 thread 0x2303]
[Switching to process 13287 thread 0x207]
sharedlibrary apply-load-rules all
Error in re-setting breakpoint 1:
Catchpoint 2 (throw)Error in re-setting breakpoint 1:
Error in re-setting breakpoint 1:
Current language:  auto; currently objective-c
(gdb) 

self    ViewController *    0x6829f20
_cmd    SEL 0x4437
sender  UIBarButtonItem *   0x6a33020
objBook BookmarkPopover *   0x68528b0
Registers   (null)  (null)
Vector Registers    (null)  (null)
x87 Registers   (null)  (null) 
```

编辑2：

我尝试以语法方式初始化 UIView 程序，然后添加它，但它仍然给我同样的错误。

```
-(IBAction) buttonAction:(id)sender {

//build our custom popover view

UIViewController* popoverContent = [[UIViewController alloc] init];

UIView* popoverView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 200, 300)];

popoverView.backgroundColor = [UIColor whiteColor];

popoverContent.view = popoverView;

//resize the popover view shown

//in the current view to the view's size

popoverContent.contentSizeForViewInPopover = CGSizeMake(200, 300);

//create a popover controller

self.objPopOverController = [[UIPopoverController alloc] initWithContentViewController:popoverContent];

//present the popover view non-modal with a
//refrence to the button pressed within the current view
[self.objPopOverController presentPopoverFromBarButtonItem:sender permittedArrowDirections:UIPopoverArrowDirectionUp animated:YES];

//release the popover content 
```

}

当我初始化我的 PopOverController 时，我仍然会卡住。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T05:06:21.380

您可能无法使用`init`. 您必须在初始化时指定内容视图控制器`-initWithContentViewController:`。您触发的导致崩溃的断言以及文档`UIPopoverController`将告诉您这一点。

# sql - Hive SQL 中的语义分析错误

> ID：11304715
> 
> 赞同：0
> 
> 时间：2012-07-03T04:59:13.250
> 
> 标签：sql, join, hive

我正在尝试使用 Hive SQL 对两个表进行连接，但总是遇到语义分析错误

```
hive> SELECT COUNT(*) FROM Table1 JOIN Table2 ON
(Table1.BUYER_ID = Table2.UID);
FAILED: Error in semantic analysis: line 1:76 Invalid Table Alias 
Table1 
```

表结构是-

```
CREATE EXTERNAL TABLE IF NOT EXISTS Table1
( 
ITEM_ID BIGINT, 
CREATED_TIME STRING, 
BUYER_ID BIGINT 
) 

CREATE EXTERNAL TABLE IF NOT EXISTS Table2 
( 
UID BIGINT, 
PURCHASED_ITEM ARRAY<STRUCT<PRODUCT_ID: BIGINT,TIMESTAMPS:STRING>> 
) 
```

任何建议为什么会发生？

# algorithm - 修改统一随机数生成器的范围

> ID：11304720
> 
> 赞同：5
> 
> 时间：2012-07-03T04:59:35.933
> 
> 标签：algorithm, random

我得到一个函数 rand5()，它以均匀分布在闭区间 [1,5] 中生成一个随机整数。如何使用 rand5() 来创建函数 rand7()，它在 [1,7] 中生成整数（同样，均匀分布）？

* * *

1.  我搜索了stackoverflow，发现了很多类似的问题，但并不完全像这个问题。
2.  我最初的尝试是 rand5() + 0.5*rand5() + 0.5*rand5()。但这不会以均匀的概率生成从 1 到 7 的整数。非常欢迎任何答案或答案链接。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-03T05:19:55.477

请注意，**有限数量的调用无法实现完美的均匀分布`draw5()`**，因为对于每个`k`: `5^k % 7 != 0`- 所以你总是会有一些“备用”元素。

这是一个**使用次数不限的解决方案`draw5()`**：

画两个数，x1,x2。对此有 5*5=25 种可能的结果。

请注意，25/7 ~= 3.57。选择 3*7=21 组合，这样每个组合将映射到 [1,7] 中的一个数字，对于所有其他 4 个数字 - 重绘。

例如：

```
(1,1),(1,2),(2,1) : 1
(3,1),(1,3),(3,2): 2
(3,3),(1,4),(4,1): 3
(2,4),(4,2)(3,4): 4
(4,3), (4,4), (1,5): 5
(5,1), (2,5), (5,2) : 6
(5,3), (3,5), (4,5) : 7
(5,4),(5,5),(2,3), (2,2) : redraw 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-03T05:20:40.913

这是一个简单的方法：

1.  使用 rand5() 从集合 { 1, 2, 4, 5 } 中生成三个随机整数的序列（即，丢弃任何生成的 3）。
2.  如果所有三个数字都在集合 { 1, 2 } 中，则丢弃序列并返回步骤 1。
3.  对于序列中的每个数字，将 { 1, 2} 映射到 0 并将 { 4, 5 } 映射到 1。将它们用作 3 位数字的三位值。因为位不能全部为 0，所以数字将在 [1, 7] 范围内。因为每个位是 0 或 1 的概率相等，所以 [1, 7] 上的分布应该是均匀的。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-03T05:22:16.420

好的，我不得不考虑一段时间，但实际上并没有那么难。想象一下，你有 rand2 而不是 rand5，它输出 0 或 1。你可以通过简单地使 rand2 成为 rand5

```
rand2() {
    if(rand5() > 2.5) return 1
    else return 0
} 
```

现在使用 rand2 多次做一棵树来获得 rand7。例如，如果你开始 rand7 可以在 [1,2,3,4,5,6,7] 抛出 rand2 后给出 0 你现在子集到 [1,2,3,4] 并且在另一次抛出或rand2 是 [3,4] 的子集 1，最后一次抛出 1 使 rand7 的输出为 4。一般来说，这个树技巧可以用来获取 rand2 并映射到 randx，其中 x 是任何整数。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-03T05:39:55.287

这里有一个元技巧可以解决很多这样的问题：当我们以某种方式不同地对待这些术语时，就会引入偏差，所以如果我们在每一步都对它们都一样对待并且只在**集合**上执行操作，我们'会远离麻烦的。

我们必须至少调用一次 rand5() （显然！），但是如果我们分支到那个地方，除非我们很聪明，否则就会发生坏事。因此，让我们为 7 种可能性中的每一种调用一次：

```
In [126]: import random

In [127]: def r5():
   .....:     return random.randint(1, 5)
   .....: 

In [128]: [r5() for i in range(7)]
Out[128]: [3, 1, 3, 4, 1, 1, 2] 
```

显然，这些术语中的每一个都同样可能是这些数字中的任何一个......但其中只有一个恰好是 2，所以如果我们的规则是“选择 rand5() 返回 2 的任何术语”，那么它就会起作用。或者 4，或者其他什么，如果我们简单地循环足够长的时间，就会发生这种情况。因此，有很多方法可以提出可行的方法。这里（在伪代码中——这是可怕的 Python）是一种方法：

```
import random, collections

def r5():
    return random.randint(1, 5)

def r7():
    left = range(1, 8)
    while True:
        if len(left) == 1: 
            return left[0]
        rs = [r5() for n in left]
        m = max(rs)
        how_many_at_max = rs.count(m)
        if how_many_at_max == len(rs):
            # all the same: try again
            continue
        elif how_many_at_max == 1:
            # hooray!
            return left[rs.index(m)]
        # keep only the non-maximals
        left = [l for l,r in zip(left, rs) if r != m] 
```

这使

```
In [189]: collections.Counter(r7() for _ in xrange(10**6))
Out[189]: Counter({7: 143570, 5: 143206, 4: 142827, 2: 142673, 6: 142604, 1: 142573, 3: 142547}) 
```

# iphone - NSXMLParser 仅在启用 ARC 的情况下提供 EXC_BAD_ACCESS

> ID：11304725
> 
> 赞同：0
> 
> 时间：2012-07-03T04:59:56.957
> 
> 标签：iphone, ios, automatic-ref-counting, nsxmlparser, epub

好吧，这个主题几乎说明了一切。我有解压缩和解析 epub 的代码。如果我不使用 ARC，它可以正常工作，但是如果我在启用 ARC 的情况下使用相同的代码（当然没有保留和释放），我会得到 EXC_BAD_ACCESS。

NSXML 解析器的 parse 方法期间的代码炸弹。

我正在运行的代码是：http: [//ideveloperworld.blogspot.in/2011/02/epub-reader.html](http://ideveloperworld.blogspot.in/2011/02/epub-reader.html)

您可能在想，为什么不直接不使用 ARC，但我正在将 epub 阅读器集成到一个已经使用 ARC 的更大项目中。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T05:13:48.780

如果您希望在没有 arc 的情况下编译某些文件，这就是您需要做的。

转到您的项目（单击项目导航器中的蓝色文件夹），然后转到构建阶段。单击 Compile Sources，它应该是项目中的文件列表。

对于要在没有 ARC 的情况下编译的任何文件，将该文件的编译器标志设置为：“-fno-objc-arc”。它应该如下所示：![在此处输入图像描述](../Images/c242036f1145096c4ea39f3e245eb8a0.png)

# c# - 基于匹配字符串的Datagridview排序列

> ID：11304731
> 
> 赞同：1
> 
> 时间：2012-07-03T05:00:19.760
> 
> 标签：c#, .net, winforms, sorting, datagridview

我有一个 datagridview，我希望根据用户输入的字符串部分对行进行排序。将输入的字符串与特定列中的所有字符串进行比较。例如，如果我将“comp”作为搜索词，程序将尝试将搜索词与第一列的字符串进行比较，并以“comp”开头的降序对行进行排序，例如“compare”， “作文”、“计算机”等。其余不匹配的单词要么单独放置，要么按字母顺序排序（以更容易的为准）。

在 LINQ 中，我知道您可以应用以下代码来实现您想要的字符串数组：

```
var sortedWords = words.Where(x => x.Contains("comp"))
                       .OrderByDescending(x => x); 
```

如何在 Datagridview 中实现与需要对行进行排序的相同操作，而不仅仅是特定列中的项目？

编辑：

以下代码给出了 System.InvalidOperationException。（SetCurrentCellAddressCore 被调用了两次）

```
 private void DGVPointCtrl_CellEndEdit(object sender, DataGridViewCellEventArgs e)
    {
        MatchComparer mc = new MatchComparer();
        DGVPointCtrl.Sort(mc); //Error
    } 
```

我可能做错了什么，但我不知道为什么。这是以编程方式添加行以进行测试的代码：

```
private void BtnRefresh_Click(object sender, EventArgs e)
        {
            try
            {
                DGVPointCtrl.Rows.Clear();
                int mainIndex = CmbMainDevice.SelectedIndex;
                int subIndex = CmbSubDevice.SelectedIndex;
                DDCDAO ddcdao = new DDCDAO(DDCGlobal.ddcEngineIP, ddc.Ip);
                string pointListType;
                object rs;

                //Currently only supports IO DDC Request
                //TO DO: Change DDCDAO to send proper subdevice requests

                if (mainIndex == 0) //IO
                {
                    #region Main Device: IO
                }

                //First row is for searching items
                DGVPointCtrl.Rows.Add(new DataGridViewRow());
                for (int i = 1; i < 5; i++)
                {
                    DGVPointCtrl.Rows.Add(new DataGridViewRow());
                    DGVPointCtrl.Rows[i].ReadOnly = true;
                }
                DGVPointCtrl.Columns[0].SortMode = DataGridViewColumnSortMode.Programmatic;
                DGVPointCtrl.Rows[0].DefaultCellStyle.Font =
                new Font(DGVPointCtrl.DefaultCellStyle.Font, FontStyle.Italic | FontStyle.Bold);

                if (subIndex == 1) //BI
                {
                    PointDGVColumnGenerate("IO_BI");

                }
                else if (subIndex == 2) //BO
                {
                    PointDGVColumnGenerate("IO_BO");
                }
                else if (subIndex == 3) //AI
                {
                    PointDGVColumnGenerate("IO_AI");
                }
                else if (subIndex == 4) //AO
                {
                    PointDGVColumnGenerate("IO_AO");
                }

                DGVPointCtrl.Rows[1].Cells[0].Value = "IO12314";
                DGVPointCtrl.Rows[2].Cells[0].Value = "IO21948";
                DGVPointCtrl.Rows[3].Cells[0].Value = "IO28194";
                DGVPointCtrl.Rows[4].Cells[0].Value = "VP12984";
                DGVPointCtrl.Rows[2].Cells[1].Value = "asdf";

                #endregion
            }
            catch
            {
            }
      }

    private void PointDGVColumnGenerate(string key)
    {
        int colCount = 0;
        DGVColumnTable.Clear();

        for (int i = 0; i < COL_MAX; i++)
        {
            DGVPointCtrl.Columns[i].HeaderText = "   ";
            DGVPointCtrl.Columns[i].Visible = true;
        }

        foreach (string s in UIConstant.DDCPCtrlListColumnText[key])
        {
            DGVPointCtrl.Columns[colCount].HeaderText = s;
            DGVColumnTable.Add(DGVPointCtrl.Columns[colCount]);
            colCount++;
        }
    } 
```

编辑2：

```
public class MatchComparer : IComparer
{
    private static IComparer defaultComparer = new CaseInsensitiveComparer();
    int IComparer.Compare(object x, object y)
    {
        DataGridViewRow xr = (DataGridViewRow)x;
        DataGridViewRow yr = (DataGridViewRow)y;

        string xs = "";
        string ys = "";
        try
        {
            xs = xr.Cells[0].Value.ToString();
        }
        catch
        {
        }
        try
        {
            ys = yr.Cells[0].Value.ToString();
        }
        catch
        {
        }

        if (HasMatch(xs) && !HasMatch(ys)) return -1;
        else if (!HasMatch(xs) && HasMatch(ys)) return 1;
        else return defaultComparer.Compare(xs, ys);
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T06:48:25.943

仅当您自己填充网格而不是将其绑定到数据库时，这才有可能。

设置`DataGridViewColumn.SortMode`为[`Programmatic`](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridviewcolumnsortmode.aspx)。

用于[`DataGridView.Sort`](http://msdn.microsoft.com/en-us/library/wstxtkxs.aspx)强加这样的比较器：

```
public class MatchComparer : IComparer  {
     int IComparer.Compare(object x, object y)  {
         if (HasMatch(x) && !HasMatch(y)) return -1;
         else if (!HasMatch(x) && HasMatch(y)) return 1;
         else return defaultComparer.Compare(x, y);
     }

     private bool HasMatch(object x) {
         return x is string && ((string)x).StartsWith("comp");
     }

     private static IComparer defaultComparer = new CaseInsensitiveComparer();
} 
```

# python - 在共享主机上设置 Django 网站

> ID：11304735
> 
> 赞同：4
> 
> 时间：2012-07-03T05:00:40.743
> 
> 标签：python, django, apache, shared-hosting

如何在共享主机中设置 Django 网站？我检查了django安装，没问题

```
>>> import django
>>> django.VERSION
>>> (1, 4, 0, 'final', 0) 
```

我已经关注了[http://www.djangobook.com/en/2.0/chapter12/](http://www.djangobook.com/en/2.0/chapter12/)部分 Running Django on a Shared-Hosting Provider with Apache 无济于事。目前网站是这样的

```
/home/django_projects/WebsiteName
/sites/WebsiteName.co.id/www/.htaccess
/sites/WebsiteName.co.id/www/dispatch.fcgi 
```

.htaccess 文件是这样的

```
AddHandler fastcgi-script .fcgi

RewriteEngine On
RewriteBase /
RewriteRule ^(media/.*)$ $1 [QSA,L]
RewriteRule ^(admin_media/.*)$ $1 [QSA,L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*)$ dispatch.fcgi/$1 [QSA,L] 
```

dispatch.fcgi 是这样的

```
#!/usr/bin/python
import sys, os
sys.path = ['$HOME/lib/python/Django-1.4'] + sys.path
sys.path = ['$HOME/django_projects'] + sys.path

os.chdir("$HOME/django_projects")
#from flup.server.fcgi import WSGIServer
from django.core.servers.fastcgi import runfastcgi

os.environ['DJANGO_SETTINGS_MODULE'] = 'WebsiteName.settings'
runfastcgi(["method=threaded", "daemonize=false"]) 
```

当我访问该网站时，它不断生成错误 500，内部错误。到目前为止我尝试的是，

```
[1] Changing AddHandler fastcgi-script .fcgi to AddHandler fcgid-script .fcgi
[2] Removing AddHandler fastcgi-script .fcgi
[3] Putting the website directory to /sites/WebsiteName.co.id/www/WebsiteName instead of /home/django_projects/WebsiteName/
[4] Do no. 3 and move dispatch.fcgi to /sites/WebsiteName.co.id/www/WebsiteName 
```

如果这个问题如此愚蠢，我很抱歉。我是 Django 的新手。顺便说一句，没有 1-4 不按顺序排列。这只是对我迄今为止尝试过的事情进行编号。另外，如果我不这样做。4、网站显示dispatch.fcgi的内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T09:02:21.643

在共享主机上使用 mod_wsgi 部署更容易。我在[Quijost](http://quijost.com)上工作，我们在 mod_wsgi 下使用 nginx 作为后端提供了一个带有 Django 1.4 和 Python 2.7 的内置包。我们在我们的论坛中为 mod_wsgi 编写了一个[小教程](http://quijost.com/foro/desarrollo-web/ejemplo-de-prueba-index-py-para-django-y-mysql-con-mod_wgsi/)，也许它对您使用 fastcgi 的示例很有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-31T20:05:21.983

[GoDaddy对此线程](https://groups.google.com/forum/?fromgroups#!topic/django-users/ehU6lOxKJrU)的回复：

> “我们的 Linux 主机帐户可以通过 Python 脚本访问 FastCGI。但是，我们不允许在我们的共享主机帐户中添加自定义 FastCGI 处理程序。”

所以我认为你很不走运。和我一样，虽然我试图说服客户拥有 webfaction 帐户是个好主意，因为它支持 mod_wsgi。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-11-01T03:01:46.677

大多数支持 python 的共享主机平台都使用 phusion Passenger 来运行 python 应用程序。您可以将您的 django 应用程序上传到您的主机并使用 wsgi 来运行它。就目前而言，django 2.2 会导致问题，因此您必须使用 django 2.1 或更低版本。我已经写了一个关于它的分步教程，可以在[这里](https://blog.umersoftwares.com/2019/09/django-shared-hosting.html)访问。

# c# - ASP.NET 页面冻结

> ID：11304738
> 
> 赞同：0
> 
> 时间：2012-07-03T05:01:11.043
> 
> 标签：c#, asp.net

所以，我正在用 C# 制作一个 ASP.NET 页面。我有一个非常简单的表单，上面有 2 个文本框和 3 个按钮。当我单击“提交”按钮时，它会调用 SQL Server 数据库以检索一些信息。检索到数据后，我有一个 if 语句来检查其中一个加载的值。问题是单击按钮后页面似乎冻结了，我无法再次单击它。我仍然可以在文本框中输入数据，但按钮没有显示为 LinkBut​​ton，鼠标图标没有改变或任何东西。ASPX.CS 页面的代码如下：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using CharacterSheet.BLL;
using CharacterSheet.Data;

public partial class Login : System.Web.UI.Page
{

    protected void ClearButton_Click(object sender, EventArgs e)
    {
        UserBox.Text = "";
        PassBox.Text = "";
    }

    protected void SubmitButton_Click(object sender, EventArgs e)
    {
        PlayerController pc = new PlayerController();
        Player player;

        if (UserBox.Text.Contains('@') && UserBox.Text.Contains(".c"))
            player = pc.GetByEmail(UserBox.Text);
        else
            player = pc.GetByUser(UserBox.Text);

        if (player != null)
        {
            if (!player.Flagged)
            {
                if (PassBox.Text != player.Password)
                {
                    ErrorLabel.Text = "Password does not match our records. Please retype carefully...";

                    player.LoginAttempts++;

                    if (player.LoginAttempts >= 3)
                        player.Flagged = true;

                    pc.Update(player);
                }
                else
                    Response.Redirect(SiteData.LoginMainPage);
            }
            else
                ErrorLabel.Text = "Your account has been flagged. Please e-mail our support team.";
        }
        else
            ErrorLabel.Text = "Unable to find user. Please retype carefully...";
    }
} 
```

以及 ASP 标记页面的代码：

```
<%@ Page Title="" Language="C#" MasterPageFile="~/Site.master" AutoEventWireup="true" CodeFile="Login.aspx.cs" Inherits="Login" %>

<asp:Content ID="Content1" ContentPlaceHolderID="HeadContent" Runat="Server">
    <style type="text/css">
        .leftColumn
        {
            text-align: right;
        }
        .style1
        {
            width: 30%;
            text-align: right;
            height: 47px;
        }
        .style2
        {
            width: 70%;
            text-align: right;
            height: 47px;
        }
    </style>
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="MainContent" Runat="Server">
    <table>
        <tr>
            <td class="leftColumn">
                <asp:Label ID="Label1" runat="server" CssClass="FormText" 
                    Text="Username or Email"></asp:Label>
            </td>
            <td>
                <asp:TextBox ID="UserBox" runat="server" ToolTip="Enter your username here"></asp:TextBox>
                <asp:RequiredFieldValidator ID="RequiredFieldValidator1" runat="server" 
                    ControlToValidate="UserBox" ErrorMessage="Username or Email is required" 
                    ForeColor="Red">*</asp:RequiredFieldValidator>
            </td>
        </tr>
        <tr>
            <td class="leftColumn">
                <asp:Label ID="Label2" runat="server" CssClass="FormText" Text="Password"></asp:Label>
            </td>
            <td>
                <asp:TextBox ID="PassBox" runat="server" TextMode="Password" 
                    ToolTip="Enter your password here" TabIndex="1"></asp:TextBox>
                <asp:RequiredFieldValidator ID="RequiredFieldValidator2" runat="server" 
                    ErrorMessage="Password is required" ForeColor="Red" 
                    ControlToValidate="PassBox">*</asp:RequiredFieldValidator>
            </td>
        </tr>
        <tr>
            <td class="style1"></td>
            <td class="style2">
                <asp:ValidationSummary ID="ValidationSummary" runat="server" 
                    CssClass="ValidationSumary" ForeColor="Red" Height="43px" 
                    style="text-align: left" Width="335px" DisplayMode="List" />
                <asp:LinkButton ID="SubmitButton" runat="server" CssClass="FormButton" 
                    TabIndex="2" onclick="SubmitButton_Click" PostBackUrl="~/Login.aspx">Submit</asp:LinkButton>
                <asp:LinkButton ID="ClearButton" runat="server" CausesValidation="False" 
                    CssClass="FormButton" TabIndex="3" onclick="ClearButton_Click">Clear</asp:LinkButton>
                <asp:LinkButton ID="NewAcctButton" runat="server" CausesValidation="False" 
                    CssClass="FormButton" TabIndex="4">Create Account</asp:LinkButton>
                <br />
                <asp:Label ID="ErrorLabel" runat="server" ForeColor="Red" 
                    CssClass="FormErrorLabel"></asp:Label>
            </td>
        </tr>
    </table>
</asp:Content> 
```

感谢任何可以提供帮助的人！:-)

编辑：经过进一步调查（按顺序注释掉代码行），我发现当我更新“ErrorLabel.Text”时出现问题。如果我不这样做，那么它的功能就很好......这让我很困惑......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-09-27T05:15:51.560

如果 aspx 页面中有任何不需要的代码或出现运行时错误，则页面将冻结。为避免这种情况再次分析您的代码并删除它将运行的不需要的东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T03:28:55.603

随机单击标签属性中的按钮后，当我没有将 CSS 类附加到标签时，我发现它停止中断......我不知道为什么，但它解决了问题。

# node.js - 如何使用 MongoDB 和 Mongoose for Node.js 存储线程注释？

> ID：11304739
> 
> 赞同：3
> 
> 时间：2012-07-03T05:01:18.887
> 
> 标签：node.js, mongodb, comments, mongoose

在 MongoDB 和 Mongoose 中存储评论树的最佳方式是什么？目前我有这个：

```
CommentableSchema = new Schema({
    ...
});

ReplySchema = new Schema({
    userId: Number,
    'body': String,
    createdAt: Date,
    updatedAt: Date
});

CommentSchema = new Schema({
    commentable: CommentableSchema,
    userId: Number, // users are NOT stored in MongoDB
    subject: String,
    'body': String,
    createdAt: Date,
    updatedAt: Date,
    replies: [ReplySchema],
    length: Number // comment + all replies
}); 
```

但这似乎只适用于顶级评论 + 1 多级评论。我相当肯定我不能`ReplySchema`在里面使用`ReplySchema`。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-24T13:39:32.370

从官方手册中，我想您会在这里找到比所有答案更多的答案（：

[http://docs.mongodb.org/manual/tutorial/model-tree-structures/](http://docs.mongodb.org/manual/tutorial/model-tree-structures/)

EDIT: You can also use the "populate" function from mongoose: [http://mongoosejs.com/docs/populate.html](http://mongoosejs.com/docs/populate.html)

good luck

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-03T05:44:36.783

您可能会查看以下链接：

[http://groups.google.com/group/mongodb-user/browse_thread/thread/3f35c3fb28891b52](http://groups.google.com/group/mongodb-user/browse_thread/thread/3f35c3fb28891b52)

[http://blog.fiesta.cc/post/11319522700/walkthrough-mongodb-data-modeling](http://blog.fiesta.cc/post/11319522700/walkthrough-mongodb-data-modeling)

另外，您确定不支持递归模式吗？您可以查看此链接：

[Mongoose：Coffeescript 中的递归嵌入文档](https://stackoverflow.com/questions/7992185/mongoose-recursive-embedded-document-in-coffeescript)

# android - 当我在 Android 中启动 Hotspot 时如何自动启动我的应用程序

> ID：11304741
> 
> 赞同：0
> 
> 时间：2012-07-03T05:01:20.633
> 
> 标签：android, wifi

在这里，我开发了一个使用 HotSpot 的应用程序，当我启动 hotSpot 时，我的应用程序会在 Android 设备中自动启动？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-27T13:32:49.627

我假设您想在 Eclipse 中运行一个 Java 项目。尝试右键单击项目，“运行方式...”->“Java 应用程序”。这将使用“项目属性 -> Java 构建路径 -> 库”中指定的 Java 虚拟机运行项目。

# android - 以编程方式发送电子邮件

> ID：11304742
> 
> 赞同：-3
> 
> 时间：2012-07-03T05:01:20.540
> 
> 标签：android, email

> **可能重复：**
> [Android：如何将临时生成的图像附加到电子邮件中？](https://stackoverflow.com/questions/3570914/android-how-do-i-attach-a-temporary-generated-image-to-an-email)

我正在尝试以编程方式将图像作为电子邮件附件发送，电子邮件是从我身边发送的，但不会进入我的电子邮件收件箱。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:04:57.443

只需尝试这个 -

```
final Intent emailIntent = new Intent(android.content.Intent.ACTION_SEND_MULTIPLE);
emailIntent.setType("plain/text");
emailIntent.putExtra(android.content.Intent.EXTRA_EMAIL,new String[]{"email"});
emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, "subject");
emailIntent.putExtra(android.content.Intent.EXTRA_TEXT,"Test");
//has to be an ArrayList
ArrayList<Uri> uris = new ArrayList<Uri>();
//convert from paths to Android friendly Parcelable Uri's
for (String file : filePaths)
{
    File fileIn = new File(file);
    Uri u = Uri.fromFile(fileIn);
    uris.add(u);
}
emailIntent.putParcelableArrayListExtra(Intent.EXTRA_STREAM, uris);
context.startActivity(emailIntent); 
```

[看看这个答案](https://stackoverflow.com/a/3586478/940096)希望这对你有帮助

# jquery - jquery追加功能不起作用

> ID：11304744
> 
> 赞同：0
> 
> 时间：2012-07-03T05:01:33.050
> 
> 标签：jquery

我正在尝试在单击时将 div 和 span 添加到图像中，然后在单击 span 时将其删除。

```
 <div id="gallery" align="center">    

        <img  src="http://www.frontpagejunky.com/wp-content/uploads/2011/05.jpg" class="img-view" width="150px" height="150px" />
</div> 
```

jQuery：

```
 $(document).ready(function(){
              $('.img-view').click(function(){
                  var img=$(this).after('<span id="close">X Close</span>').wrap("<div id='pop-up' style='display:block'/>").clone();
                  $('#gallery').append(img);
              });

             $('#close').live("click",function(){
                 $('#pop-up').remove();
                  $('#close').remove();

             });

       });
    </script> 
```

我遇到的问题是跨度没有被包裹在 div 中，而只有图像被包裹，并且跨度仅在图像被包裹后附加。第二个问题是当我单击#close 时，div 和按钮消失，但是当我再次单击 .img-view 时，它们不会重新生成/重新出现。为什么会这样？

**更新**

```
 $(document).ready(function(){
              $('.img-view').click(function(){
                  var img=$(this).clone();
                   img= img.after('<span class="close">X Close</span>');
                   img=img.wrap("<div class='pop-up' style='display:block'/>"); 
                  $('#gallery').append(img);
              });

             $('.close').live("click",function(){
                 $('.pop-up').remove();
                  $('.close').remove();

             });

       }); 
```

但是现在弹出的 div 没有包装图像元素！？！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:03:06.467

使用这个：

```
$('#gallery').append(img); 
```

代替：

```
$('#gallery').append($(img)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T05:32:17.427

您的链接有点偏离，
`$(this).after('<span id="close">X Close</span>')`返回`$(this)`（这是图像），因此`$(this).after('<span id="close">X Close</span>').wrap("<div id='pop-up' style='display:block'/>")`将 div 包裹在图像周围然后返回`$(this)`，
`$(this).after('<span id="close">X Close</span>').wrap("<div id='pop-up' style='display:block'/>").clone()`返回 $(this) 的克隆

这可能会有所帮助

```
$(document).ready(function(){
    $('.img-view').on('click', function(e){
        $("<div id='pop-up' style='display:block'/>").appendTo('#gallery').append('<span id="close">X Close</span>').find('#close').append(this);           
        event.stopPropagation();
    });
    $('#close').live("click",function(){
        $(this).find('.img-view').appendTo('#gallery');
        $(this).parent().remove();
    });
}); 
```

* * *

编辑

这不起作用的原因是因为 #close 上的单击处理程序被调用，因为它成为 .img-view 的父级，为了防止这种情况，我添加了一个`stopPropagation()`，还更改了代码，因此`X Close`删除了文本。

[小提琴](http://jsfiddle.net/sVVVS/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-03T05:41:57.800

您不能对不在 dom 中的元素使用 wrap。您可以创建一个新元素作为您的包装器并将所有内容挂钩到该包装器，或者首先将您的 img 插入 dom 然后包装它。

在使用 X 添加跨度之前，您应该执行这两个选项中的任何一个，首先是最好的。

# android - 使用 Achartengine 的 android 动态绘图

> ID：11304749
> 
> 赞同：0
> 
> 时间：2012-07-03T05:02:03.600
> 
> 标签：android, plot, achartengine

我是安卓新手。我正在使用 Achartengine 从二进制文件中绘制动态图读取值。下面给出的是我的代码。我想要一个动态运行图，其中的值会定期更新。为此，我尝试使用和不使用计时器来做到这一点。但是每次我在更新最后一个值时得到带有最终值的图表。我的意思是在所有更新完成后我得到一个静态图。我不知道如何纠正这个问题。我正在使用模拟器来测试代码。模拟器有问题还是我的代码有问题？提前致谢

没有计时器的代码：

```
public class RandomActivity extends Activity {
private XYMultipleSeriesDataset eeg1 = new XYMultipleSeriesDataset();
private XYMultipleSeriesRenderer renderer_eeg1 = new XYMultipleSeriesRenderer();
private XYSeries series1;
private GraphicalView view_eeg1;

public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.main);

renderer_eeg1.setAxisTitleTextSize(16);
renderer_eeg1.setChartTitleTextSize(20);
renderer_eeg1.setLabelsTextSize(15);
renderer_eeg1.setLegendTextSize(15);
renderer_eeg1.setMargins(new int[] {20, 30, 15, 0});
renderer_eeg1.setAxesColor(Color.BLUE);
renderer_eeg1.setXTitle("Time");
renderer_eeg1.setChartTitle("eeg1");
XYSeriesRenderer seriesrenderer1 = new XYSeriesRenderer();
seriesrenderer1.setColor(Color.YELLOW);
renderer_eeg1.addSeriesRenderer(seriesrenderer1); 
series1= new XYSeries("eeg1");
eeg1.addSeries(series1);
int a;
int b;
add();

for(int r=0;r<=600;r++){

   if(r%2==0){
      a=1;
      b=-1;
   }
   else{
      a=-1;
      b=1;
   }

   series1.add(r, a);
       if(r<=50){
      renderer_eeg1.setXAxisMax(50);
       }
       else if(r>50){
          double maxX = series1.getMaxX();
      double minX = maxX - 50;
          renderer_eeg1.setXAxisMin(minX);
       }
       view_eeg1.repaint();
}
}

protected void onResume() {
super.onResume();  
if (view_eeg1== null) {
LinearLayout layout_eeg1 = (LinearLayout) findViewById(R.id.chart1);
view_eeg1= ChartFactory.getLineChartView(this, eeg1, renderer_eeg1);
layout_eeg1.addView(view_eeg1,new LayoutParams(LayoutParams.FILL_PARENT,  LayoutParams.FILL_PARENT));
} else {
 view_eeg1.repaint();}
}

} 
```

带计时器的代码：

```
public class RandomActivity extends Activity {
private XYMultipleSeriesDataset eeg1 = new XYMultipleSeriesDataset();
private XYMultipleSeriesRenderer renderer_eeg1 = new XYMultipleSeriesRenderer();
private XYSeries series1;
private GraphicalView view_eeg1;

public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.main);

renderer_eeg1.setAxisTitleTextSize(16);
renderer_eeg1.setChartTitleTextSize(20);
renderer_eeg1.setLabelsTextSize(15);
renderer_eeg1.setLegendTextSize(15);
renderer_eeg1.setMargins(new int[] {20, 30, 15, 0});
renderer_eeg1.setAxesColor(Color.BLUE);
renderer_eeg1.setXTitle("Time");
renderer_eeg1.setChartTitle("eeg1");
XYSeriesRenderer seriesrenderer1 = new XYSeriesRenderer();
seriesrenderer1.setColor(Color.YELLOW);
renderer_eeg1.addSeriesRenderer(seriesrenderer1); 
series1= new XYSeries("eeg1");
eeg1.addSeries(series1);
int a;
int b;
add();

for(int r=0;r<=600;r++){

      Thread timer = new Thread(){
            public void run(){
                try{
                    sleep(500);
                } catch (InterruptedException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } 
            }
        };

   if(r%2==0){
      a=1;
      b=-1;
   }
   else{
      a=-1;
      b=1;
   }

   series1.add(r, a);
       if(r<=50){
      renderer_eeg1.setXAxisMax(50);
       }
       else if(r>50){
          double maxX = series1.getMaxX();
      double minX = maxX - 50;
          renderer_eeg1.setXAxisMin(minX);
       }
       view_eeg1.repaint();
}
}

protected void onResume() {
super.onResume();  
if (view_eeg1== null) {
LinearLayout layout_eeg1 = (LinearLayout) findViewById(R.id.chart1);
view_eeg1= ChartFactory.getLineChartView(this, eeg1, renderer_eeg1);
layout_eeg1.addView(view_eeg1,new LayoutParams(LayoutParams.FILL_PARENT,  LayoutParams.FILL_PARENT));
} else {
 view_eeg1.repaint();}
}

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-11T17:11:45.457

1.  您在图表实际添加到视图之前重新绘制，因此它不会被绘制。
2.  您的代码不在您正在创建的线程内。
3.  您正在创建 600 个线程，但您没有运行它们。
4.  您的 onResume 代码看起来像您认为 onResume 被多次调用，这通常是错误的。
5.  Activity 没有任何 Add() 函数，你有一个应该做什么？

我认为这会更好：

```
public class RandomActivity extends Activity {
private XYMultipleSeriesDataset eeg1 = new XYMultipleSeriesDataset();
private XYMultipleSeriesRenderer renderer_eeg1 = new XYMultipleSeriesRenderer();
private XYSeries series1;
private GraphicalView view_eeg1;

public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    renderer_eeg1.setAxisTitleTextSize(16);
    renderer_eeg1.setChartTitleTextSize(20);
    renderer_eeg1.setLabelsTextSize(15);
    renderer_eeg1.setLegendTextSize(15);
    renderer_eeg1.setMargins(new int[] {20, 30, 15, 0});
    renderer_eeg1.setAxesColor(Color.BLUE);
    renderer_eeg1.setXTitle("Time");
    renderer_eeg1.setChartTitle("eeg1");
    XYSeriesRenderer seriesrenderer1 = new XYSeriesRenderer();
    seriesrenderer1.setColor(Color.YELLOW);
    renderer_eeg1.addSeriesRenderer(seriesrenderer1); 
    series1= new XYSeries("eeg1");
    eeg1.addSeries(series1);
    int a;
    Thread timer = new Thread(){
        public void run(){
            try{
                for(int r=0;r<=600;r++){
                    sleep(500);
                    if(r%2==0){
                        a=1;
                    }
                    else{
                        a=-1;
                    }
                    series1.add(r, a);
                    if(r<=50){
                        renderer_eeg1.setXAxisMax(50);
                    }
                    else if(r>50){
                        double maxX = series1.getMaxX();
                        double minX = maxX - 50;
                        renderer_eeg1.setXAxisMin(minX);
                    }
                    view_eeg1.repaint();

                } catch (InterruptedException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } 
            }
        };
    timer.start()
    }

    protected void onResume() {
        super.onResume();  
            if (view_eeg1== null) {
                LinearLayout layout_eeg1 = (LinearLayout) findViewById(R.id.chart1);
                view_eeg1= ChartFactory.getLineChartView(this, eeg1, renderer_eeg1);
                layout_eeg1.addView(view_eeg1,new LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));
                } else {
                view_eeg1.repaint();}
            }
        }
    }
} 
```

# hadoop - 何时使用 MultithreadedMapper

> ID：11304751
> 
> 赞同：3
> 
> 时间：2012-07-03T05:02:14.163
> 
> 标签：hadoop

什么时候应该使用 MultithreadedMapper？

如果我在我的应用程序是纯计算的地方使用 MultithreadedMapper，我的工作会更快吗？（无延迟类型映射器）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-03T06:19:02.317

这取决于但我会说避免使用 MultithreadedMapper 作为第一个解决方案。

因此，最好通过同时启动更多映射器来使用单线程映射器进行扩展，以便它们可以处理多个输入。您拥有的核心越多，您可以设置的 mapred.tasktracker.map.tasks.maximum 值就越高。当然，您将需要更强大的机器。

我的理解是，当您受 I/O 限制时，MultithreadedMapper 很有用，例如从 Web 获取页面的延迟比从本地 I/O 的延迟要长。在这种情况下，使用 MultithreadedMapper 会有所帮助，因为您不会在单个网络 I/O 调用上被阻塞，并且您可以在数据可供您使用时继续处理。

但是，如果您在 HDFS 中有大量数据要处理，那么它们很容易在数据本地化时获取，并且如果计算受 CPU 限制，那么多核、多进程解决方案会更有帮助。

此外，您必须确保您的映射器是线程安全的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-03T06:17:48.070

查看这篇文章[1](http://mail-archives.apache.org/mod_mbox/hadoop-mapreduce-user/201006.mbox/%3CAANLkTinimkZkNat5ZX0l8Xqc0Be6tYjCz_Ft9sfQptan@mail.gmail.com%3E)和[2](http://kickstarthadoop.blogspot.in/2012/02/enable-multiple-threads-in-mapper-aka.html)，了解何时在映射器中使用和不使用多个线程。建议增加每个节点上的映射槽数，而不是使用 MultithreadedMapper。

# vb.net - 将二进制数据附加到电子邮件附件

> ID：11304754
> 
> 赞同：0
> 
> 时间：2012-07-03T05:02:49.367
> 
> 标签：vb.net, office-interop, outlook-addin

我正在尝试使用办公室插件中的 VB.net 将从 SQL 服务器检索到的二进制数据作为附件附加到电子邮件中。

如果我指定了文件路径和文件名，但不能使用二进制数据，我可以添加附件，下面是我的示例代码：

```
Dim ms as System.IO.MemoryStream
'binaryData is retrieved from SQL server
'binaryData is a docx file stored in SQL server
ms = New System.IO.MemoryStream(binaryData)  

Dim att as New System.Net.Mail.Attachment(ms, System.Net.Mime.MediaTypeNames.Text.Plain)

mailItem.Attachments.Add(ms)  'mailItemm is Microsoft.Office.Interio.Outlook.MailItem 
```

我收到错误

```
COMException was unhandled by user code
Member not found. (Exception from HRESULT: 0x80020003 (DISP_E_MEMBERNOTFOUND)) 
```

我在用：

```
Visual Studio 2010
.Net 4.0
Microsoft Outlook 2010 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T07:27:29.660

看起来您正在尝试附加内存流，而不是您刚刚创建的附件。尝试更改此行：

```
mailItem.Attachments.Add(ms) 
```

对此：

```
mailItem.Attachments.Add(att) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-06T03:40:37.487

最后，我将二进制数据保存到用户临时文件夹中的一个文件中，然后附加该文件，然后从临时文件夹中删除该文件，这样更简单。谢谢。

# c# - 打开记事本并添加文本不起作用

> ID：11304755
> 
> 赞同：1
> 
> 时间：2012-07-03T05:02:53.317
> 
> 标签：c#, winforms, .net-2.0

我刚刚从互联网上看到了这个片段，但它对我不起作用。假设打开一个新的记事本应用程序并在其中添加“asdf”。

代码有什么错误吗？

```
[DllImport("User32.dll")]     
        public static extern int SendMessage(IntPtr hWnd, int uMsg, int wParam, [MarshalAs(UnmanagedType.LPStr)] string lParam);

void Test()
{
         const int WM_SETTEXT = 0x000C;

    ProcessStartInfo startInfo = new ProcessStartInfo("notepad.exe");
    startInfo.UseShellExecute = false;
    Process notepad = System.Diagnostics.Process.Start(startInfo);
    SendMessage(notepad.MainWindowHandle, WM_SETTEXT, 0, "asdf");
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-05-13T15:45:00.987

要确保该进程已准备好接受输入，请调用`notepad.WaitForInputIdle()`. 重要的是使用`MainWindowHandle`刚刚创建的进程，而不是任何记事本进程。

```
[DllImport("user32.dll")]
public static extern IntPtr FindWindowEx(IntPtr hwndParent, IntPtr hwndChildAfter, string lpszClass, string lpszWindow);

[DllImport("User32.dll")]
public static extern int SendMessage(IntPtr hWnd, int uMsg, int wParam, string lParam);

static void ExportToNotepad(string text)
{
    ProcessStartInfo startInfo = new ProcessStartInfo("notepad");
    startInfo.UseShellExecute = false;

    Process notepad = Process.Start(startInfo);
    notepad.WaitForInputIdle();

    IntPtr child = FindWindowEx(notepad.MainWindowHandle, new IntPtr(0), null, null);
    SendMessage(child, 0x000c, 0, text);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T05:31:37.057

以下代码将为您解决问题，

```
[DllImport("user32.dll", EntryPoint = "FindWindowEx")]
    public static extern IntPtr FindWindowEx(IntPtr hwndParent, IntPtr hwndChildAfter, string lpszClass, string lpszWindow);
    [DllImport("User32.dll")]
    public static extern int SendMessage(IntPtr hWnd, int uMsg, int wParam, string lParam);
    private void button1_Click(object sender, EventArgs e)
    {
        Process [] notepads=Process.GetProcessesByName("notepad");
        if(notepads.Length==0)return;            
        if (notepads[0] != null)
        {
            IntPtr child= FindWindowEx(notepads[0].MainWindowHandle, new IntPtr(0), "Edit", null);
            SendMessage(child, 0x000C, 0, textBox1.Text);
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T05:45:29.990

尝试这个：

```
 [DllImport("user32.dll", EntryPoint = "FindWindowEx")]
    public static extern IntPtr FindWindowEx(IntPtr hwndParent, IntPtr hwndChildAfter, string lpszClass, string lpszWindow);
    [DllImport("User32.dll")]
    public static extern int SendMessage(IntPtr hWnd, int uMsg, int wParam, string lParam);
        void Test()
        {
            ProcessStartInfo startInfo = new ProcessStartInfo("notepad.exe");
            startInfo.UseShellExecute = false;
            Process notepad = System.Diagnostics.Process.Start(startInfo);
            //Wait Until Notpad Opened
            Thread.Sleep(100);
            Process[] notepads = Process.GetProcessesByName("notepad");
            IntPtr child = FindWindowEx(notepads[0].MainWindowHandle, new IntPtr(0), "Edit", null);
            SendMessage(child, 0x000c, 0, "test");
        } 
```

# ruby-on-rails-3 - 用于创建/更新操作 rails 3 的 form_tag

> ID：11304766
> 
> 赞同：2
> 
> 时间：2012-07-03T05:03:58.280
> 
> 标签：ruby-on-rails-3

我的路由文件如下所示：

```
scope :locslug/:userslug do  
....
....

post 'rate/:stars' => 'articles#rate' :as => :rate_article
end 
```

我正在尝试生成一个带有针对文章中的**速率**操作的操作的表单。理想情况下，当提交表单时，将创建或更新评级。在其他地方，我有一篇文章 has_many 评级。

这不起作用：

```
= form_tag rate_article_path, :method=>'post', :id => "rate_article" do
  =hidden_field_tag :article_id, @article.id
  =hidden_field_tag :stars, 0
  =hiden_field_tag :user, current_user.id 
```

非常感谢您的帮助。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T20:08:23.360

rails 会显示一些错误吗？我认为您的路线错误：'rate/:stars' 告诉 Rails 在您调用 rate_article_path 时需要一个参数（链接 rate_article_path(5) 以获得 5 颗星）

你应该有你的路线：

```
post 'rate/:article_id' => 'articles#rate' :as => :rate_article 
```

你的表格：

```
= form_tag rate_article_path(@article), :method=>'post', :id => "rate_article" do
  =hidden_field_tag :stars, 0 
```

现在在你的控制器上

```
def rate
  article = Article.find(params[:article_id])
  article.rates.create(:user => current_user, :stars => params[:stars])
end 
```

（它真的很简单，你应该做一些验证，这只是为了了解要做什么）

# google-drive-api - 如何使用 Google Drive API 获取文件的所有者

> ID：11304767
> 
> 赞同：5
> 
> 时间：2012-07-03T05:04:17.997
> 
> 标签：google-drive-api

我正在考虑开发这样的应用程序：

1.  我的应用程序有一个 google-service-account
2.  我让我的用户与我的服务帐户共享他们的文档
3.  当用户访问我的应用程序时，他会根据他共享的文件获得一些报告。

为此，我的应用程序需要唯一标识与其共享的文档的所有者。我查看了 API，但找不到如何执行此操作。我找到了[File.getOwnerNames()](http://javadoc.google-api-java-client.googlecode.com/hg/apis/drive/v2/com/google/api/services/drive/model/File.html)之类的方法，但它们是包含名称的纯字符串，但没有任何唯一键来识别用户。

需要有关如何实现这一目标的帮助。谢谢。

桑杰

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-03T05:30:03.080

使用[permissions.list](https://developers.google.com/drive/v2/reference/permissions/list)方法，找到所有者对应的权限。

# c# - 带有端口名称的 RASEnumDevices？

> ID：11304775
> 
> 赞同：-1
> 
> 时间：2012-07-03T05:05:06.530
> 
> 标签：c#, winapi, usb, serial-port, device-driver

我枚举了支持 RAS 的设备`"RasEnumDevices"`，我得到了 DeviceName等`"Communications cable between two computers #8"`，`"Communications cable between two computers #7"`我的设备友好名称看起来不同`"USB Device (COM10)"`，我通过了`SetupDiGetDeviceRegistryProperty`。

这是正常的行为吗？因为当我尝试创建 Rasphonebook 时，我无法识别我连接的设备名称。有没有办法使设备名称和友好名称相同？

我尝试枚举`"RasEnumDevices"`，但正在获取设备列表。

```
WAN Miniport (L2TP)
WAN Miniport (L2TP)
WAN Miniport (PPTP)
WAN Miniport (PPTP)
WAN Miniport (PPPOE)
Communications cable between two computers #14
Communications cable between two computers #13 
```

如何从以上列表中选择我的设备？

或仅可用于列出连接的 RAS 设备的任何 API？

或任何 APIS 仅获取连接的设备名称？就我而言，例如“两台计算机之间的通信电缆#8”..

更新 ：

![RAS 设备](../Images/2f8b82c59bb9bd8dc1661e7fe6d1af5e.png)

在上图中，我可以看到带有 COM 端口名称的 RAS 设备名称。有没有办法用 COM 端口名称枚举这些设备？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T23:16:52.217

不幸的是，您从 RasEnumDevices 看到的结果正是预期的结果。没有办法直接将 RASDEVINFO 结构与实际硬件或分配给它的端口联系起来，因为该结构实际​​上并没有为您提供任何唯一标识硬件的方法。

假设您有两个 PPTP VPN 端口，您无法区分端口 1 和端口 2……它们都会从 API 调用返回为“WAN Miniport (PPTP)”。

顺便说一句，如果您不想自己处理互操作代码，您可能需要查看 CodePlex 上的 DotRas SDK，它几乎包含了整个 RAS API。

```
using DotRas;

IEnumerable<RasDevice> devices = RasDevice.GetDevices(); 
```

这就是您使用上述 SDK 获取从 RasEnumDevices 列出的设备的调用。

如果你想要的话，这里有一个链接：http: [//dotras.codeplex.com](http://dotras.codeplex.com)

编辑：我想补充一下，您的电话簿条目只需要具有“两台计算机之间的通信电缆#14”的名称，因为它知道它与哪个 COM 端口相关联。您不需要自己识别，如果您将 COM 端口信息附加到设备名称，该条目也不会起作用。

祝你好运！

# cakephp - CakePHP 将动态输入保存到单行。

> ID：11304776
> 
> 赞同：0
> 
> 时间：2012-07-03T05:05:09.960
> 
> 标签：cakephp, cakephp-2.1

基本上，我在 Cakephp 2.1 中制作了一个带有 jQ​​uery 按钮的表单，该按钮附加一个输入字段并向每个新创建的输入添加一个计数，如下所示：

```
<input type="text" name="data[foo][link]" /> // Original input
<input type="text" name="data[foo][1][link]" /> // Appended inputs
<input type="text" name="data[foo][2][link]" />
<input type="text" name="data[foo][3][link]" /> 
```

我的问题是是否有可能将所有这些输入保存到数据库中的同一个 [foo][link] 表中（最好作为数组）？

多谢了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T09:19:33.527

```
public beforeSave() {
    if (isset($this->data['Foo'])) {
        $this->data['YourModel']['realField'] = serialize($this->data['Foo']);
    }
    return true;
} 
```

在 afterFind() 中，您可以使用 unserialize();

data[foo][link] 应该是 data[foo][0][link]。

# ios - NSDateFormatter 不适用于 1970 年之前的日期？

> ID：11304780
> 
> 赞同：1
> 
> 时间：2012-07-03T05:05:45.403
> 
> 标签：ios, nsdateformatter

```
double seconds = -62167464057.000;
NSDate *oldDate = [NSDate dateWithTimeIntervalSince1970:seconds];
MELog("oldDate = %@", oldDate);//oldDate = 0002-12-29 03:59:03 +0000

NSDateFormatter *dateFormatter = [[[NSDateFormatter alloc] init]  autorelease];
[dateFormatter setDateStyle:NSDateFormatterNoStyle];
[dateFormatter setTimeStyle:NSDateFormatterShortStyle];

NSString *formattedDateString = [dateFormatter stringFromDate:oldDate];
NSLog(@"formattedDateString = %@", formattedDateString);//formattedDateString = 3:57 AM 
```

在上面的代码中，日期组件的时间是 3:59，但是当我们格式化它以提取时间字段时，我们得到 3:57

我的时区是伦敦，所以它应该返回 3:59

这是因为我们试图格式化 1970 年之前的日期吗？请确认是否有人知道。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-11T09:48:24.780

是的，这正是原因。这是因为时间戳的“开始”：

```
Unix time, the number of seconds since 00:00:00 UTC on January 1, 1970 
```

更多[关于维基百科](http://en.wikipedia.org/wiki/Timestamp)。

* * *

## 回答 #2

> 赞同：-5
> 
> 时间：2012-10-11T05:47:45.817

在您的代码中，您将时间间隔设置为 1970 年。可能是因为那个。尽量不要使用它，并由您自己设置最小日期。

# android - 您的项目包含错误，请在运行前修复

> ID：11304782
> 
> 赞同：-1
> 
> 时间：2012-07-03T05:05:56.413
> 
> 标签：android

我正在开发一个简单的 android 应用程序但是当我运行 eclipse 时告诉我

```
 error:Your project contains error(s), please fix it before running it. 
```

我在我的项目中找不到任何错误，或者我的应用程序中没有错误。

```
 *there is red exclamatory mark under the project name.* 
```

请帮帮我！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:16:36.533

红色感叹号：

![在此处输入图像描述](../Images/03b8da71acf82de64c7cc9549773c4f8.png)

意味着 Eclipse 无法找到所需的库或源。如果您使用任何 3rd 方库，请确保它们包含在您的 .classpath 中（这可以在您的项目属性中设置）。如果检查成功并且问题仍然存在，请确保 Eclipse 知道在哪里可以找到您的 Android SDK。

毕竟，确保清理您的项目，然后通过右键单击您的项目来*修复项目属性*，最后尝试运行该项目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T05:21:20.590

试试这些步骤..

**1.**清理你的项目

**2.**检查您没有在资源名称中使用除“_”（下划线）之外的任何大写或特殊符号。

**3.**如果您正在实现任何库项目或 jar，请查看它们是否包含在构建路径中。

**4.**检查布局有没有问题，检查xml代码..

getFetchedData() 检查 R 文件，是否显示任何错误，（即整数常量下的红色标记线）

# magento - Magento 规格（附加数据 = 属性）仅显示在两个产品页面上？

> ID：11304783
> 
> 赞同：0
> 
> 时间：2012-07-03T05:05:58.807
> 
> 标签：magento, attributes, specifications

我正在为这个问题挠头，因为我无法弄清楚发生了什么。

规格选项卡应该显示这两种产品的所有属性，但这里没有显示任何内容：

[http://www.centurioncctv.com/index.php/outlet/recordersoutlet/hd16p.html](http://www.centurioncctv.com/index.php/outlet/recordersoutlet/hd16p.html) [http://www.centurioncctv.com/index.php/outlet/recordersoutlet/hd08p.html](http://www.centurioncctv.com/index.php/outlet/recordersoutlet/hd08p.html)

这两种产品都在数字录像机属性集中，就像其他页面上的其他这些 DVR...

所有这些 DVR 都正确显示了规格（附加数据）......但为什么只有在上面的两页上什么都没有显示......？

请与我分享一些想法……</p>

我试过重新创建产品（不是复制），但结果是一样的。

有谁知道从哪里开始？我知道它与 view.phtml... 或其他东西有关。还是可能存储属性的文件夹具有错误的权限？

有谁知道在哪里寻找某些产品属性的许可状态？

我还添加了“下载”，它们也没有显示……</p>

任何人？请帮忙？

谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T09:04:56.230

如果您查看生成的页面源，实际会呈现附加属性。描述内容中似乎存在`<div>`嵌套错误，因此显示属性的 javascript 选择器无法正常工作。
我建议清理描述的 HTML，另一个选项卡应该重新开始工作。

# vb.net - 如何在同一个地方使用多个类类型

> ID：11304785
> 
> 赞同：0
> 
> 时间：2012-07-03T05:06:15.127
> 
> 标签：vb.net

假设我有一个在 Vb.net 中执行以下操作的函数

```
For i as decimal = 0 to mstrItems.count - 1
  mstrItems.item(i).activate
next 
```

而且我有这样的类，这两个类虽然不同的对象类型，但都具有激活功能。

我想像上面那样迭代我的项目，让列表包含任何类型的对象，而不仅仅是一种特定类型，并且让不同的对象都以相同的方式执行激活功能，尽管它们是不同的对象类型。

干杯! 马丁

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-03T05:30:30.130

或者，您可以定义一个接口并在所有不同的类型中实现它：

```
Interface IActivateable
  Sub Activate
End Interface

Class MyType1: Implements IActivateable
Sub Activate Implements IActivateable.Activate
'some implementation details here ...
End Sub
End Class

Class MyType2: Implements IActivateable
Sub Activate Implements IActivateable.Activate
'some implementation details here ...
End Sub
End Class 
```

然后您可以将每种类型转换为您要处理的接口：

```
 Dim myList as new list(of IActivateable)
 myList.add(new MyType1)
 myList.add(new MyType2)

 for each obj as IActivateable in myList
     obj.Activate
 end for 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-03T05:20:34.847

为了给您一些可搜索的术语，您要做的是使用[多态性](http://en.wikipedia.org/wiki/Polymorphism_in_object-oriented_programming)来利用[Strategy Pattern](http://en.wikipedia.org/wiki/Strategy_pattern)。

在最简单的情况下，您想要的是有一个基类（可能是抽象的，尽管我不知道这些东西的 VB 术语），您的[多个类都从该基类继承](http://msdn.microsoft.com/en-us/library/5x4yd9d5.aspx)。它是一种高级抽象，表示这些类之间的通用功能。像这样的东西：

```
Class Car
    Overridable Sub Drive()
        Throw New NotImplementedException
    End Sub()
End Class

Class GasPoweredCar
    Inherits Car
    Overrides Sub Drive()
        ' logic for driving a gas-powered car
    End Sub
End Class

Class SolarPoweredCar
    Inherits Car
    Overrides Sub Drive()
        ' logic for driving a solar-powered car
    End Sub
End Class 
```

等等。这个想法是你试图完成一件常见的事情（`Drive`在这种情况下），但多个不同的实现会以不同的方式完成它。但是由于所有这些实现仍然是 a`Car`那么你可以这样对待它们（这就是多态性的来源）。

因此，您可以拥有一个包含两者的组合列表，而不是拥有一个列表`GasPoweredCar`和一个列表。您无需知道它是什么*类型*的汽车即可简单地调用该函数。`SolarPoweredCar``Car`*`Drive`*

 *```
For i As decimal = 0 To listOfCars.count - 1
    listOfCars.Item(i).Drive
Next 
```

或者更简单地说：

```
For Each car As Car In listOfCars
    car.Drive
Next 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-03T05:31:20.243

Davids 出色答案的替代方法是使用接口。

GasPoweredCar 和 SolarPoweredCar 类可以实现一个接口：

`interface ICar { void Drive(); }`.

这两个类都有自己的 Drive 方法的内部实现。然后，当迭代燃气或太阳能汽车时，您可以将类强制转换为接口并调用方法。

*如果大卫的不理想，我很乐意详细说明，请告诉我。*

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-03T05:33:38.153

多态性的替代方法是使用接口：

```
Module Module1

    Sub Main()
    Dim lstClass As New List(Of IMyInterface)
    lstClass.Add(New FirstClass("A"))
    lstClass.Add(New SecondClass("B"))
    lstClass.Add(New FirstClass("C"))
    lstClass.Add(New SecondClass("D"))

    For i As Integer = 0 To lstClass.Count - 1
      lstClass(i).Activate()
    Next i
  End Sub

  Interface IMyInterface
    Sub Activate()
  End Interface
  Class FirstClass
    Implements IMyInterface

    Public Property MyProperty As String
    Sub New(s As String)
      MyProperty = s
    End Sub

    Sub Activate() Implements IMyInterface.Activate
      MsgBox("First class activate: " & MyProperty)
    End Sub
  End Class

  Class SecondClass
    Implements IMyInterface
    Public Property MyProperty As String
    Sub New(s As String)
      MyProperty = s
    End Sub

    Sub Activate() Implements IMyInterface.Activate
      MsgBox("Second class activate: " & MyProperty)
    End Sub
  End Class

End Module 
```*

# iphone - 如何在导航栏上放置后退按钮

> ID：11304791
> 
> 赞同：0
> 
> 时间：2012-07-03T05:07:15.637
> 
> 标签：iphone, ios, uinavigationbar

我是 iPhone 新手。我有一个小小的疑问是我创建了一个项目，当我点击它时我放置了一个按钮，它打开`UIWebView`了`UIView`我想要一个带有后退按钮的导航栏。为此，我编写了一些代码，但是在这里我无法创建后退按钮。如果有人知道这一点，请帮助我......我为此编写的以下代码

BiblePlayerViewController.m

```
- (IBAction)aboutUsButtonClicked:(id)sender {

         UIWebView *aboutUsWebView = [[UIWebView alloc]initWithFrame:CGRectMake(0,44, 320, 460)];
        [self.view addSubview:aboutUsWebView];
        [aboutUsWebView setOpaque:NO];
        aboutUsWebView.backgroundColor = [UIColor whiteColor];
        aboutUsWebView.delegate = self;

        [aboutUsWebView loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:@"http://www.ayansys.com/"]]];

       biblePlayerController = [[BiblePlayerViewController alloc]initWithNibName:@"BiblePlayerViewController" bundle:nil];

        navigationController = [[UINavigationController alloc]init];
        navigationController.view.frame = CGRectMake(0, 0, 320, 44);
        [self.view addSubview:navigationController.view];

         self.navigationController.navigationBar.tintColor=[UIColor orangeColor];

        UIBarButtonItem *backButton = [[UIBarButtonItem alloc] initWithTitle:@"Back" style:UIBarButtonItemStylePlain target:self action:@selector(GotoBiblePlayerViewController)];          

        self.navigationItem.leftBarButtonItem = backButton;   
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:22:20.727

```
[self.navigationController setNavigationBarHidden:NO animated:YES]; 
```

把它放在你的`viewDidAppear`,`viewDidLoad`或`viewWillAppear`.

或这个：

```
UIBarButtonItem *backButton = [[UIBarButtonItem alloc] initWithTitle:@"Back" style:UIBarButtonItemStyleDone target:nil action:nil];
self.navigationItem.backBarButtonItem = backButton; 
```

# iphone - 如何隐藏导航栏后退按钮

> ID：11304796
> 
> 赞同：1
> 
> 时间：2012-07-03T05:08:03.190
> 
> 标签：iphone, ios, uinavigationcontroller

我的问题很简单，如何隐藏导航栏中的后退按钮？我在堆栈溢出中[看到了](https://stackoverflow.com/questions/614212/how-to-hide-back-button-on-navigation-bar-on-iphone)类似的问题，但是

```
self.navigationItem.hidesBackButton = YES; 
```

不为我工作。我正在使用下面的代码，因为 RootViewController 是我的 Singleton 类。

谢谢

我仍然在 viewDidLoad 中同时使用，但两者都不起作用

```
[RootViewController sharedFirstViewController].navigationItem.hidesBackButton = YES;

[RootViewController sharedFirstViewController].navigationItem.backBarButtonItem=nil; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T05:10:20.160

尝试`self.navigationItem.backBarButtonItem.hidden = YES;`或`self.navigationItem.backBarButtonItem = nil;`

将其中之一放置在 中`viewWillAppear:`，`viewWillLoad`或者放置在`viewDidAppear:`您想要摆脱后退按钮的类中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T05:20:35.453

我建议在视图出现在屏幕上之前执行此操作。您可能不想看到栏然后让它消失。

所以你应该打电话：

```
- (void) viewDidLoad {
   //Check to see if the Nav har is hidden, and then hide it
   if (!self.navigationItem.backBarButtonItem.hidden) {
      self.navigationItem.backBarButtonItem.hidden = YES;
   }
   else { 
      NSLog(@"back button already hidden");
   }
} 
```

请注意，如果您想释放屏幕空间，您也可以完全使用整个导航栏执行此操作。

# winforms - winforms 文本框 Ctrl-Backspace 删除整个单词和空格

> ID：11304800
> 
> 赞同：0
> 
> 时间：2012-07-03T05:08:35.653
> 
> 标签：winforms, textbox, backspace, ctrl

我在这里找到了一篇文章：

[Winforms 文本框 - 使用 Ctrl-Backspace 删除整个单词](https://stackoverflow.com/q/1124639/1296733)

在按住 ctrl+backspace 的同时删除文本框中的整个单词，但我注意到如果你不实现 app.config 修改，如下所示：

```
<configuration>
  <appSettings>
    <add key="SendKeys" value="SendInput" />
  </appSettings>
</configuration> 
```

只有当前单词将被删除，退格的过程将被中断。例如，如果我输入“Tim tom”然后使用 ctrl + backspace 技巧，“tom”将被删除，中断任何退格操作并留下“Tom”。

但是，如果您*确实*使用 app.config 修改，“tom”将成功删除，退格操作将继续，但不会继续删除整个单词，就像您只是按住退格按钮一样。

有谁知道这是什么原因或如何解决它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T06:23:45.330

您的应用程序正在选择向应用程序发送按键等效项的不同行为。

[这里](http://msdn.microsoft.com/en-us/library/system.windows.forms.sendkeys.aspx)解释了为什么存在这两种协议的历史解释：

> SendKeys 类已针对 .NET Framework 3.0 进行了更新，以使其能够在 Windows Vista 上运行的应用程序中使用。Windows Vista 的增强安全性（称为用户帐户控制或 UAC）会阻止以前的实现按预期工作。SendKeys 类容易受到时间问题的影响，一些开发人员不得不解决这些问题。更新后的实现仍然容易受到时序问题的影响，但速度稍快一些，并且可能需要更改变通方法。SendKeys 类首先尝试使用以前的实现，如果失败，则使用新的实现。因此，SendKeys 类在不同操作系统上的行为可能不同。此外，当 SendKeys 类使用新的实现时，

这里提到的时间问题尤其关注字符对应用程序的持续控制，而不仅仅是一次一个字符。它们包括

*   打字速度同步困难
*   确保在应用程序打开对话框时正确的窗口接收输入
*   即使用户干预关闭按钮，也要确保正确的应用程序接收到输入

然而，`SendKeys`行为改变之间的真正原因不是程序员友好性（没有显着改善），而是[安全性](http://www.pcreview.co.uk/forums/journal-playback-hook-t3018085.html)。

设置`SendKeys`参数以指定所需的行为绝对是一个好主意。您不希望您的应用程序仅仅因为打开或关闭 UAC 就神秘地开始表现不同。

# javascript - 从knockoutJS中动态生成的输入中获取值

> ID：11304801
> 
> 赞同：1
> 
> 时间：2012-07-03T05:08:36.073
> 
> 标签：javascript, jquery, knockout.js

小提琴：http: [//jsfiddle.net/amitava82/dawkn/6/](http://jsfiddle.net/amitava82/dawkn/6/)

输入元素将根据从服务器接收到的 json 数据动态生成。在这里，我使用的是文本字段，但它可以是选择、收音机等以及其中的*n*个。现在，我很困惑如何从这些输入元素中获取值并将它们与相应的模型项相关联，以便我可以将它们发送到服务器。感谢任何帮助。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T05:55:35.007

您需要为**每个**数据定义自定义模型。例如：

```
function DataModel(opts) {
    var self = this;
    self.Id = ko.observable();
    self.DisplayName = ko.observable();
    self.ValueDisplayType = ko.observable();
    self.Value = ko.observable();
    for (var i in opts)
        try{ self[i](opts[i]); } catch(e) {}
} 
```

我已经添加了，`for`所以你可以这样做：

```
new DataModel({
    "Id": 12,
    "DisplayName": "Rad Accept Time Out",
    "ValueDisplayType": 0
}); 
```

现在，当您创建时，`viewModel`您可以这样做：

```
var l = data1.length, parsed_data = [];
for (var i = 0; i < l; i++)
    parsed_data.push( new DataModel(data1[i]) );
self.models = ko.observableArray(parsed_data); 
```

在您的模板中，您可以使用它：

```
<script id="displayTmpl" type="text/html">
    <input type="text" data-bind="value: $data.Value" />
</script> 
```

最后在`save`方法中：

```
self.save = function(){
    var newValues = ko.toJS(self.models);
    console.log(newValue);
} 
```

函数`ko.toJS`转换`ko.observables`为其值。当您拥有时，您可以使用例如将它们`newValues`字符串化并将它们发送到服务器。`JSON`

这或多或少是我会这样做的。随时在下面的评论中提出其他问题。

# sql - sql中的trunc和round函数

> ID：11304803
> 
> 赞同：4
> 
> 时间：2012-07-03T05:09:02.067
> 
> 标签：sql, oracle, truncate, rounding, negative-number

trunc 和 round 是否与否定论点相同？

```
 SQL> select round(123456.76,-4) from dual;

        ROUND(123456.76,-4)
         -------------------
         120000

         SQL> select trunc(123456.76,-4) from dual;

          TRUNC(123456.76,-4)
          -------------------
         120000 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-03T05:15:13.977

不，行为取决于有效数字的值（在您的情况下，第三位数字（3）是重要数字，因为它低于 5`round`并且`trunc`做同样的事情）

尝试`select trunc(125456.76,-4) from dual`（结果为 120000）与 `select round(125456.76,-4) from dual`（结果为 130000）。现在，当有效数字为 5（或更高）时，结果`trunc`不同`round`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T05:24:32.053

`ROUND`与给定值的整数有关。

`TRUNC`与给定值的截断有关。

在`round`给定示例的情况下，小数点前四位到第四位用 0 填充。

但是`trunc`以防万一，小数点前的第四位之前的四个位置将替换为 0。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-08-03T00:28:42.980

`TRUNC`- 根据第二个参数，它返回在第二个参数中指定的指定小数位。前任：

```
trunc(25.656) -- 25
trunc(25.656, 1) -- 25.6
trunc(25.656, 2) -- 25.65 
```

`ROUND`- 将给定数字四舍五入到最接近的值。前任：

```
round(66) -- 70
round(64) -- 60
round(65.7) -- 66
round(65.3) -- 65 
```

# c# - SqlCeDataReader 如何迭代两次

> ID：11304806
> 
> 赞同：1
> 
> 时间：2012-07-03T05:09:21.113
> 
> 标签：c#, .net

我有一个对象叫：

```
SqlCeDataReader rdr; 
```

因为`SqlCeDataReader`没有 HasRows 函数，所以写了一个：

```
if (!HasRows(rdr)) // Iterate to find number of rows
{
}

while (rdr.Read()) // Read the reader
{
} 
```

rdr.Read() 不返回任何结果。

如果我注释掉第一次迭代，它会返回结果。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T05:15:12.073

您不能重复两次 - SqlCeDataReader“提供了一种从数据源读取数据行*的只进流的方法。”* - [MSDN](http://msdn.microsoft.com/en-us/library/system.data.sqlserverce.sqlcedatareader.aspx)。

但它确实有一个[`HasRows`属性](http://msdn.microsoft.com/en-us/library/system.data.sqlserverce.sqlcedatareader.hasrows.aspx)- 只是使用它？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T05:18:32.557

我也不确定如何正确地做到这一点，但在我的应用程序上我写了类似的东西

```
using (SqlCeDataReader rdr = sceCmd.ExecuteReader())
{
    int i = 0;
    while (rdr.Read())
    { 
        // some other code here
        i++;
    }
    rdr.close();
    if(i==0)
    {
        // something to say if its empty
        Console.WriteLine("No data found.");
    } else {
        // something else to say if its not empty
        Console.WriteLine(i + "data found.");
    }
} 
```

# instruments - 开始和停止脚本按钮隐藏在仪器上

> ID：11304808
> 
> 赞同：0
> 
> 时间：2012-07-03T05:09:29.970
> 
> 标签：instruments, ios-ui-automation, xcode-instruments

我打开 Instruments 并为其选择自动化模板。打开仪器工具后，我从选择目标中选择了一个应用程序。之后，我从选择脚本选项中选择了我的 Java 脚本文件，但启动脚本和停止脚本选项未启用。在这种情况下，我应该如何在仪器中录制和播放我的脚本。我正在使用 Xcode 4.1。请帮助我启用这些按钮，并指导我如何在乐器上录制和播放脚本。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T09:52:05.090

这可能是 iOS 设备/模拟器不兼容。记录适用于 iOS 5 及更高版本。如果您将设备与 4.x iOS 连接或启动 4.x iOS 模拟器 - 记录将被禁用。

# android - 带有oracle数据库的Android地图

> ID：11304810
> 
> 赞同：0
> 
> 时间：2012-07-03T05:09:57.650
> 
> 标签：android, eclipse, google-maps, oracle10g

大家好，我想开发一个谷歌地图应用程序，从 oracle 数据库中读取坐标值。请帮助我使用 eclips 在 android 中执行此操作。我已经做了很多谷歌搜索，但我发现只有 SQLlite 的解决方案，但我想使用 oracle 执行此操作数据库和安卓

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:14:28.833

我建议你一步一步做事。

一个）。首先得到一个简单的地图应用程序，覆盖项目工作。如果你用谷歌搜索 Android 谷歌地图覆盖项目，你会得到很多教程

乙）。在现实世界的场景中，如果您的 Android 应用程序通过 REST 服务/JSON API/Web 服务从 Oracle 数据库中获取纬度、经度和其他详细信息，那将是最合适的。因此，您可以阅读有关如何访问/使用 REST 服务/JSON API/Web 服务的信息。完成这两项任务后，只需将它们放在一起即可

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T05:14:11.440

> 但我想使用 oracle 数据库和 android 来做到这一点

你不能在 android 上拥有 Oracle 数据库。

我在这里看到的替代方法是 -> 在服务器端转储 oracle 数据库并从服务器异步读取坐标值。

# mysql - 如何在mysql数据库中的现有日期列中减少一天？

> ID：11304813
> 
> 赞同：0
> 
> 时间：2012-07-03T05:10:29.740
> 
> 标签：mysql, date, sql-update

我有桌子`tbl_dtcount`。在该表中有一个日期列。
现在我需要为该日期字段中的每一行减少一天。日期从`2012-05-19`到开始`2012-07-03`。执行此操作的 MySQL 更新语句是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-03T05:13:36.787

这个怎么样。

```
Update tbl_dtcount
set mydate = DATE_SUB(mydate, INTERVAL 1 DAY)
where <conditions>; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-03T05:14:54.950

```
UPDATE table_name
SET date_column = DATE_SUB('1998-01-02', INTERVAL 1 DAY)
.... 
```

查看详细信息[MySQL DATE_SUB](http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html#function_date-sub)

# windows - nodejs模拟windows

> ID：11304815
> 
> 赞同：0
> 
> 时间：2012-07-03T05:10:35.443
> 
> 标签：windows, node.js, filesystems, impersonation

我需要使用 nodejs 将文件写入运行 Windows server 2008 r2 的远程计算机上的受密码保护的共享文件夹中，如何在 nodejs 中像 .net 应用程序那样进行模拟操作？

提前谢谢！！！

**PS：抱歉描述不清楚。该文件夹设置为在远程 Windows 服务器系统上的内部网络上共享，该文件夹设置为“只读”，用于管理员明确创建的 Windows 帐户。nodejs服务器在同一个内部网络上，需要访问远程共享文件夹，因此我认为nodejs需要模拟远程机器上的windows帐户才能从共享文件夹中读取内容。我的问题是如何为不清楚的描述道歉。该文件夹设置为在远程 Windows 服务器系统上的内部网络上共享，该文件夹设置为“只读”，用于管理员明确创建的 Windows 帐户。nodejs服务器在同一个内网，需要访问远程共享文件夹，因此我认为nodejs需要模拟远程机器上的windows帐户来读取共享文件夹中的内容。我的问题是如何为 nodejs 做模拟的东西？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T23:49:17.867

派对迟到了 - 但由于没有公认的答案......

您需要使用有权访问网络共享的帐户启动节点进程。执行方式因您的设置而异。例如，如果您在尝试连接到远程 Windows 服务器的 lLinux 服务器上运行 node，那么使用 node 将不会很简单。

然而; 如果您在 Windows 服务器上运行节点，则尝试连接到另一台 Windows 服务器上的远程共享（这听起来可能是您的情况）。同样，您必须以有权访问远程共享的用户身份运行节点脚本。如果您需要从代码中执行此操作，我建议您查看我的模块[node-windows](http://github.com/coreybutler/node-windows)。它不专门提供远程共享访问，但它允许您使用节点脚本中的不同帐户运行命令行代码。

# asp.net - 在 asp.net 中挂钩 POST 参数

> ID：11304819
> 
> 赞同：0
> 
> 时间：2012-07-03T05:10:58.963
> 
> 标签：asp.net, post

我最近正在挖掘一个网站来建立一些数据库。我已经构建了一个解析检索到的信息的 python 脚本，但问题是它需要一个查询词来检索包含我想查看的信息的网页。这个页面是 POST 方法，所以我看不到这个页面是如何检索页面列表的。

描述一个大纲以便您清楚理解：

```
1\. on inputKeyword.aspx : This contains a form to input a query(let's say ID)
                        When I input an ID and press search, it retrievs a 
                        relevant list
2\. Press Search
3\. on inputKeyword.aspx : A relevant list is showed on the same aspx page
                        (which means POST method), so I cannot see how this query
                        works on inputKeyword.aspx page. 
```

如果这个网页使用 GET 方法会容易得多，因为我可以简单地将 url 与查询挂钩，但在 POST 方法中是不可能的。

有什么方法可以打开第 3 步跳过第 1 步和第 2 步？

该网页是在 asp.net 中构建的，但只要有办法做到这一点，就对语言没有限制。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T05:45:25.223

如果我理解正确，您希望能够接受*ID*作为查询字符串的一部分。例如

> [http://your.domain.com/inputKeyword.aspx?ID=555](http://your.domain.com/inputKeyword.aspx?ID=555)

因此，在页面加载事件中，您可以检查请求对象的查询参数，即`Request.QueryString[param]`如下例所示

```
protected void Page_Load(object sender, EventArgs e)
{
    string id = Request.QueryString["ID"];
    if (!string.IsEmptyOrNull(id))
    {
        //do something with the requested identifier
    }       
} 
```

**注意**：您可以使用`Page.IsPostBack()`来确定页面是第一次被点击还是由于单击按钮而被回发。

要让您的*搜索*按钮正常运行，您有几个选项。例如; 您可以使用 javascript 捕获按钮 onclick 事件并将页面重定向到自身，并修改 url 以包含来自 id 文本框的标识符。

但也许以下是最简单的，将代码全部保留在服务器端：

```
private _identifer string;

protected void Page_Load(object sender, EventArgs e)
{
    string id = Request.QueryString["ID"];
    if (!string.IsEmptyOrNull(id))
    {
        _identifer = id;
    }
}

protected void SearchButton_Click(object sender, EventArgs e)
{
    _identifer = IdentiferTextbox.Text;
}

protected void Page_PreRender(object sender, EventArgs e)
{
    if (!string.IsEmptyOrNull(_identifer))
    {
        PopulateListForidentifer(_identifer);
    }
} 
```

基本上，该示例表明您可以应对各种情况。ASP.Net 的页面生命周期意味着按以下顺序处理事件 Page_Load -> Control Events (eg button click) -> Page PreRender。

*   如果页面第一次在 url 中没有标识符的情况下被点击，则不会调用 PopulateListForidentifer 方法，因为 _identifer 从未设置。
*   但是如果 url 包含一个标识符，则在页面加载事件中设置 _identifer，当调用页面预渲染时会调用 PopulateListForidentifer。
*   最后，如果页面由于点击了搜索按钮而返回到自身，则调用单击处理程序并将 _identifer 设置为 IdentiferTextbox 的内容；页面预渲染被调用，PopulateListForidentifer 也被调用。请注意，这将覆盖关于 ie 当标识符作为 url 的一部分传递时的点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T06:19:28.733

据我了解，您似乎想在搜索表单中模拟 HTTP Post 操作，在不输入 ID 并单击搜索的情况下，您直接希望访问搜索结果。

这是 Scott Hanselman 的[博客文章](http://www.hanselman.com/blog/HTTPPOSTsAndHTTPGETsWithWebClientAndCAndFakingAPostBack.aspx)，他在其中讨论了使用 WebClient 的类似主题。

您可能还想检查[此线程](https://stackoverflow.com/questions/2071321/how-to-simulate-browser-http-post-request-and-capture-result-in-c-sharp)

# android - Mapview Fragment + ViewPager，引起奇怪的交互

> ID：11304820
> 
> 赞同：1
> 
> 时间：2012-07-03T05:11:07.010
> 
> 标签：android, android-mapview, android-viewpager, gesture-recognition

我花了好几个小时试图在我的 viewpager 中获得一个正常工作的响应式 mapview 片段，现在它终于可以工作了，我不太清楚为什么！

背景：我正在使用 ActionBarSherlock 作为我的操作栏，我正在使用 viewpager 在三个片段之间切换：列表、imageview + textview 和 mapview。我有一个 viewpagerindicator 可以和我的 viewpager 一起使用。我正在使用 android-support-v4 的地图版本。

工作原理： - 覆盖 viewpager 的 onInterceptTouchEvent 方法以返回 false - 在 mapview 上设置一个不执行任何操作的 onClickListener。

mapview 会出现，但在我添加监听器之前不会响应，但为什么添加 onclicklistener 会使所有手势都响应？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-12T13:45:22.517

也许你应该重新开始。就我而言，我所要做的就是将 MapFragment 与 FragmentPageAdapter 一起放入 ViewPager。然后用重写的方法创建了我自己的 ViewPager，只是为了使 MapFragment 可用：

```
@Override
public boolean onInterceptTouchEvent(MotionEvent event) {
    // hacky hack to never intercept map pages events unless its on the
    // very edge of screen - last or first fifth of the view size
    if (((FragmentPagerAdapter) getAdapter()).getItem(getCurrentItem()) instanceof SupportMapFragment) {
        if (event.getAction() == MotionEvent.ACTION_DOWN && event.getX() < (getWidth() - (getWidth() / 5)) && event.getX() > (getWidth() / 5)) {
            // Never allow swiping to switch if not right on the edge
            return false;
        }
    }
    return super.onInterceptTouchEvent(event);
} 
```

# c# - 从 SharePoint 的 Gridview 中查找动态添加的控件

> ID：11304821
> 
> 赞同：0
> 
> 时间：2012-07-03T05:11:07.223
> 
> 标签：c#, sharepoint, sharepoint-2010

我在用户控件中有一个gridview，并使用占位符动态添加了控件现在我从网格中找到控件，它给出的控件在网格中不存在代码如下：

```
foreach (GridViewRow row in GridView1.Rows)
{
PlaceHolder plc = (PlaceHolder)row.FindControl("lblPlaceHolder");
TextBox txtTextBox1 = plc.FindControl("txtTextBox1") as TextBox; //its give Null 
} 
```

谁能回答lz

* * *

从评论中添加代码：

```
foreach (GridViewRow dr in GridView1.Rows) 
{ PlaceHolder placeHolder = dr.FindControl("lblPlaceHolder") as PlaceHolder; 
  TextBox txtTextBox1= new TextBox(); 
  txtTextBox1.Width = 300; 
  placeHolder.Controls.Add(txtTextBox1);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T05:57:02.697

删除占位符，您将能够找到您的控件

并且还可以使用网格中的 onRowDatabound 或 onRowCreated 事件找到您的控件。

* * *

顺便说一句：为什么你的占位符叫做 lblPlaceHolder，你那里有一个标签，也许你要求错误的控制来找到你的文本框，这就是为什么你得到一个 null

```
void GridView_RowDataBound(object sender, GridViewRowEventArgs e)
{
    GridViewRow row = e.Row as GridViewRow;
    if (row != null)
    {

    TableCell myCell = row.Cells[0] as TableCell
    TextBox txtTextBox1= new TextBox(); 
    txtTextBox1.Width = 300; 
    myCell.Controls.Add(txtTextBox1);

    }
} 
```

# android - 将外部条码扫描器/阅读器连接到安卓设备

> ID：11304822
> 
> 赞同：1
> 
> 时间：2012-07-03T05:11:18.337
> 
> 标签：android

我需要知道如何将外部条码阅读器（这还不知道是哪个设备）连接到我的 android 设备（usb/蓝牙，只要可能）。我有兴趣将条形码扫描仪的扫描输出作为我的 android 设备中的输入。

谢谢

# memory - 指针是如何存储在内存中的？

> ID：11304824
> 
> 赞同：4
> 
> 时间：2012-07-03T05:11:30.333
> 
> 标签：memory, pointers, operating-system

我正在开发一个操作系统项目，我只是想知道指针是如何存储在内存中的？我知道指针是 4 个字节，那么指针是如何在 4 个字节之间分布的呢？

我的问题是，我正在尝试存储一个指向 4 字节内存插槽的指针。假设指针是 0x7FFFFFFF。4 个字节中的每个字节存储了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-03T05:14:37.523

您应该阅读[Endianness](http://en.wikipedia.org/wiki/Endianness)。但是，通常您不会一次只使用一个字节的指针，因此字节的顺序无关紧要。

**更新：** 这是一个使用已知值制作假指针然后打印出它的每个字节的示例：

```
#include <stdio.h>

int main(int arc, char* argv[]) {
  int *p = (int *) 0x12345678;
  unsigned char *cp = (unsigned char *) &p;

  int i;
  for (i = 0; i < sizeof(p); i++)
    printf("%d: %.2x\n", i, cp[i]);

  return 0;
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-03T05:16:41.713

指针的存储方式与任何其他多字节值相同。这 4 个字节根据系统的字节顺序存储。假设4个字节的地址如下：

大端（最高有效字节在前）：

```
Address       Byte
0x1000        0x7F
0x1001        0xFF
0x1002        0xFF
0x1003        0xFF 
```

小端（最低有效字节在前）：

```
Address       Byte
0x1000        0xFF
0x1001        0xFF
0x1002        0xFF
0x1003        0x7F 
```

顺便说一句，4字节地址是32位系统。64 位系统有 8 个字节的地址。

编辑：要引用指针的每个单独部分，您需要使用指针。:) 说你有：

```
int i = 0;
int *pi = &i; // say pi == 0x7fffffff
int **ppi = &pi; // from the above example, int ppi == 0x1000 
```

简单的指针算法将为您提供指向每个字节的指针。

# iphone - 为 iphone 一次选择一个自定义 RadioButton？

> ID：11304827
> 
> 赞同：0
> 
> 时间：2012-07-03T05:12:00.300
> 
> 标签：iphone, radio-button, state, selected

我已经动态地创建了一些带有一些值的 RadioButtons 列表。以编程方式，我更改了按钮状态并更改了选中和未选中的图像。但问题是我可以同时选择所有单选按钮。实际上我需要一次选择一个。当我单击下一个 RadioButton 时，之前选择的按钮状态应更改为未选择。

这是我的代码，我尝试更改图像，但是......我的代码有问题。

```
 RadioButton = [UIButton buttonWithType:UIButtonTypeCustom];
   [RadioButton setFrame:CGRectMake(0.0f, 0.0f, 20, 20)];
   [RadioButton setCenter:CGPointMake(116.0,p1)];
   [RadioButton setSelected:NO];
   [RadioButton setImage:[UIImage imageNamed:@"uncheck.png"] forState:UIControlStateNormal];
   [RadioButton addTarget:self action:@selector(RadioButtonTapped:) forControlEvents:UIControlEventTouchUpInside];
   [self.scrollView addSubview:RadioButton];

  -(void)RadioButtonTapped:(id)sender
    {

       UIButton *RadioButton1 = (UIButton*)sender ;

      [self radiobuttonAction:RadioButton1];
    }

 -(void)radiobuttonAction:(UIButton *)Button
    {

       if(![Button isSelected])
         {

            [Button setSelected:YES]; 
            [Button setImage:[UIImage imageNamed:@"radio_active.png"] forState:UIControlStateSelected]; //not working, button image is not changing 
        } 
     else
        { 
            [Button setSelected:NO]; 
            [Button setImage:[UIImage imageNamed:@"radio_inactive.png"] forState:UIControlStateNormal];
        }

 } 
```

我在哪里可以更改以前选择的按钮的图像。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:39:42.970

选择一个时取消选择所有按钮。如果您的滚动视图中有按钮，您可以使用以下代码：

```
//Your Method
-(void)RadioButtonTapped:(id)sender
{
  UIButton *RadioButton1 = (UIButton*)sender;
  [self deselectAll];
  [self radiobuttonAction:RadioButton1];      
}

- (void) deselectAll : (UIScrollView *) scrollView{
  NSArray *viewArray = [scrollView subviews];
  for (UIView *v in viewArray){
  if([v isKindOfClass:[UIButton class]]){
        [((UIButton *)v) setSelected:NO];
  }
 }
} 
```

**编辑：**但是如果你想给它真正的单选按钮效果（其中一个总是被选中，并且只被选中一个），你会更容易。使用以下代码：

```
 //A globle refButton
  UIButton *refButton = nil;
 //Set image for both state:
[RadioButton setImage:[UIImage imageNamed:@"uncheck.png"] forState:UIControlStateNormal];
[RadioButton setImage:[UIImage imageNamed:@"check.png"] forState:UIControlStateSelected];

 //make any of above default select: may be the last one and pass that to `refButton`
 refButton = RadioButton;

 //Your Method
-(void)RadioButtonTapped:(id)sender
{
  [refButton setSelected:NO];
  refButton = (UIButton*)sender;
  [refButton setSelected:YES];      
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T05:22:47.823

在创建时标记按钮。当点击按钮时，通过标签获取按钮。取消选择所有按钮。更新您作为参数收到的当前按钮。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T05:38:37.637

假设您要添加 5 个单选按钮。

```
 - (void)viewDidLoad
 {
      for (int i = 0; i < 5; i++) {
           UIButton*  RadioButton = [UIButton buttonWithType:UIButtonTypeCustom];
           [RadioButton setFrame:CGRectMake(0.0f, 0.0f, 20, 20)];
           [RadioButton setCenter:CGPointMake(116.0, i * 40)];
           //        [RadioButton setTag:i * 10];
           [RadioButton setSelected:NO];
           [RadioButton setImage:[UIImage imageNamed:@"unCheck.png"] forState:UIControlStateNormal];
           [RadioButton addTarget:self action:@selector(RadioButtonTapped:) forControlEvents:UIControlEventTouchUpInside];
           [self.scrollView addSubview:RadioButton];

     }
  }

//do not forget to declared this in your header file
-(void)RadioButtonTapped:(UIButton*)button;
 {
       for (UIButton *btn in self.scrollView.subviews) {
          [btn setImage:[UIImage imageNamed:@"unCheck.png"] forState:UIControlStateNormal];
         }
       [button setImage:[UIImage imageNamed:@"check.png"] forState:UIControlStateNormal];
 } 
```

上面的代码更新了 UI，将所有按钮的图像设置为“取消选中”，然后将最后按下的按钮的图像更改为“选中”。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-07-03T05:18:51.950

创建这样的按钮，

```
for(int i=0;i<4;i++)
{
 RadioButton = [UIButton buttonWithType:UIButtonTypeCustom];
 RadioButton.tag = i*100;
 [RadioButton setFrame:CGRectMake(0.0f, 0.0f, 20, 20)];
 [RadioButton setCenter:CGPointMake(116.0,p1)];
 [RadioButton setSelected:NO];
 [RadioButton setImage:[UIImage imageNamed:@"uncheck.png"] forState:UIControlStateNormal];
 [RadioButton addTarget:self action:@selector(RadioButtonTapped:) forControlEvents:UIControlEventTouchUpInside];
 [self.scrollView addSubview:RadioButton];

} 
```

添加这样的动作，

```
-(void)radiobuttonAction:(UIButton *)Button
{

   UIButton *Button = (UIButton*)sender;
   for(UIButton * btn in self.scrollview.subViews)
   {
     if(btn.tag == Button.tag)
     {
        if(![Button isSelected])
        {
          [Button setSelected:YES]; 
          [Button setImage:[UIImage imageNamed:@"radio_active.png"] forState:UIControlStateSelected]; //not working, button image is not changing 
        } 
        else
        { 
          [Button setSelected:NO]; 
          [Button setImage:[UIImage imageNamed:@"radio_inactive.png"] forState:UIControlStateNormal];
        }
     }
     else
    {
      //do selected or de-selected code for other buttons

    }

} 
```

# python - 我该如何做python表单发布请求？

> ID：11304829
> 
> 赞同：0
> 
> 时间：2012-07-03T05:12:21.960
> 
> 标签：python, forms, apache, post, request

`form.html`：

```
<form action="p.py" method="post">
 <input type="text" id="id_text" name="name_text" />
 <input type="submit" id="id_submit" name="name_submit" />
</form> 
```

`p.py`：

```
#!/usr/bin/python

#what to write here... 
```

这两个文件都放入了`/var/www/`，现在来自[http://example.com/form.html](http://example.com/form.html)，如果我单击提交按钮，我会执行`p.py` 吗？如何获取文本框的值？

它是安装在计算机上的 apache/httpd 网络服务器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T10:11:56.833

**1**，要让`p.py`apache 运行，你需要检查：

*   1、配置apache站点为python脚本，可以选择：cgi/fastcgi
*   如：*ScriptAlias /cgi-bin/ /usr/local/xxxxxx/cgi-bin/*
*   2、确保你的`p.py`文件是可运行的，通过`chown`/修改`chmod`

**2**、要从表单中获取值，您需要了解cgi知识并从环境中获取数据，

或者使用 cgi 模块更容易：

```
import cgi
form = cgi.FieldStorage()
v = form.getvalue('id_text','')

print """Content-type: text/html

<html>
<body> submit value:%s </body>
</html>""" % (v) 
```

**最后**，我建议：

*   将可运行的脚本放到一个单独的目录中，远离`/var/www/`
*   使用 Web 框架进行 Web 开发。2012年用cgi级别的技术太深了。

# ms-access - 是否可以单击报告记录以使用 VBA 在 Access 中打开相关表单

> ID：11304831
> 
> 赞同：3
> 
> 时间：2012-07-03T05:12:34.597
> 
> 标签：ms-access, ms-access-2007, vba

我有一份包含工作/任务详细信息的报告，以及一个为该报告提供大部分数据的表格。鉴于报告是查看数据大图的好方法，而表单是编辑数据的最佳方法，我希望能够单击一行，并让它打开相关记录表单视图。

有谁知道如何通过 VBA 做到这一点？在我看来，这应该是可能的，尽管我对 Access 中的对象的了解是有限的。

**更新**

我为我的报告实现了以下代码：

```
Private Sub Edit_Click()

  Dim EntityName As String
  Dim DocName As String

  DocName = "Entity: Overview"

  strWhere = "[Entity Name]='" & Entity & "'"
  DoCmd.OpenForm DocName, acNormal, , EntityName

End Sub 
```

它成功打开了正确的表单，并且还获取了正确的实体名称，但是它没有正确过滤。我看不出代码有什么问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T07:13:18.410

在您的`Edit_Click()`过程中，您`EntityName`将*WhereCondition*参数作为`OpenForm`.

```
 DoCmd.OpenForm DocName, acNormal, , EntityName 
```

但是，您没有为 分配任何内容`EntityName`，因此它是一个空字符串。我认为你应该`strWhere`使用*WhereCondition*。

```
Private Sub Edit_Click()
  Dim strWhere As String
  Dim DocName As String

  DocName = "Entity: Overview"
  strWhere = "[Entity Name]='" & Me.Entity & "'"
  DoCmd.OpenForm DocName, acNormal, , strWhere
End Sub 
```

我假设`Entity`是控件的名称，这就是您获得要构建的值的地方`strWhere`。如果报表中没有名为 的控件，则即使原始查询中`Entity`有 ，代码也将不起作用。`Entity`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T05:25:42.097

您应该能够在报告的*详细信息部分添加**On Click*事件，然后在 VBA 处理程序中添加类似这样的内容：

 *```
DoCmd.OpenForm "MyForm", acNormal, "", "ID=" & ID.Text 
```

（其中*MyForm*是目标表单，*ID*是报表中标识当前记录的隐藏或可见控件）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-03T08:56:39.117

您说的是报告，但您不应该使用报告，而是使用连续的表格或数据表。然后，您可以将事件添加到任何行上的任何控件，并添加**双击**事件，如果您不想让您的用户发疯的话。如果您的用户更清楚，您还可以添加一个命令按钮，或者将“链接”文本框格式化为下划线。由@dbaseman 显示的操作打开的记录将打开哪个记录具有焦点（当前记录）。这将引导您发现使用连续形式可以做什么和不能做什么：D*

# c# - 排序 IList

> ID：11304832
> 
> 赞同：2
> 
> 时间：2012-07-03T05:12:37.087
> 
> 标签：c#, .net, ilist

> **可能重复：**
> [在 C# 中对 IList 进行排序](https://stackoverflow.com/questions/15486/sorting-an-ilist-in-c-sharp)

我有一个`IList<Keyword>`where 关键字是一个包含标题（字符串）和键（数字）的类。我希望根据键对这个 IList 进行排序。是否有我可以使用的内置 C# 功能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T05:15:34.563

您需要添加：`using System.Linq;`

```
IList<keyword> sortedList = list.OrderBy(r => r.key).ToList(); 
```

或者您可以尝试：

```
 IList<keyword> sortedList2 = (from r in list
                                orderby r.key
                                select r).ToList(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T05:14:57.873

**更新：** 您可以使用`OrderBy`或`OrderByDescending`

```
var sort = list.OrderBy(x=> x.key); 
```

或者

```
var reverseSort = list.OrderByDescending(x=> x.key); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T05:15:03.477

这是[OrderByDescending](http://msdn.microsoft.com/en-us/library/bb534855)的链接，如果您有`IList<YourType>`或，您可以使用它`IEnumerable<YourType>`。

```
 var sorted = list.OrderByDescending(x=> x.key); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-03T05:15:08.830

您可以为此使用[Linq Enumerable.OrderBy 方法](http://msdn.microsoft.com/en-us/library/bb534966.aspx) ：

```
var result = listOfObject.OrderBy(item => item.key).ToList(); 
```

要按降序排序，请使用[Enumerable.OrderByDescending Method](http://msdn.microsoft.com/en-u/library/system.linq.enumerable.orderbydescending) ..

如果您使用的是 .net framework 3.0 及更高版本，请`using System.Linq` 在顶部包含并尝试上述扩展方法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-03T05:16:36.817

是的，借助扩展方法，您可以轻松实现这一目标

```
var sortelist = list.OrderBy(x=>x.PropertyName).ToList(); 
```

MSDN：

对数据进行升序排序：

[Enumerable.OrderBy Method (IEnumerable, Func)](http://msdn.microsoft.com/en-us/library/bb534966.aspx) - 根据键对序列中的元素进行升序排序。

对数据进行降序排序：

[Enumerable.OrderByDescending 方法 (IEnumerable, Func)](http://msdn.microsoft.com/en-us/library/bb534855.aspx) - 根据键以降序对序列的元素进行排序。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-03T05:18:37.500

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web.UI.WebControls;
using dynamic = System.Linq.Dynamic;
using System.Linq.Expressions;

namespace Lib.Extensions
{
    public static class Utils
    {
        /// <summary>
        /// Sorts by Model property with dynamic expression
        /// </summary>
        /// <param name="list"> </param>
        /// <param name="propertyName"></param>
        /// <param name="sortDirection"> </param>
public static List<TObject> SortByModelProperty<TObject, TProperty>(this List<TObject> list, Expression<Func<TObject, TProperty>> property, SortDirection sortDirection)
    {
        string propertyName = GetPropertyName(property);
        string exp1 = string.Format("model.{0}", propertyName);

        var p1 = Expression.Parameter(typeof(TObject), "model");
        var e1 = System.Linq.Dynamic.DynamicExpression.ParseLambda(new[] { p1 }, null, exp1);

        if (e1 != null)
        {
            if (sortDirection == SortDirection.Ascending)
            {
                var result = list.OrderBy((Func<TObject, TProperty>)e1.Compile()).ToList();
                return result;
            }
            else
            {
                var result = list.OrderByDescending((Func<TObject, TProperty>)e1.Compile()).ToList();
                return result;
            }
        }
        return list;
    }

    private static string GetPropertyName<TObject, TProperty>(Expression<Func<TObject, TProperty>> property)
    {
        MemberExpression memberExpression = (MemberExpression)property.Body;
        PropertyInfo propertyInfo = (PropertyInfo)memberExpression.Member;

        return propertyInfo.Name;
    }

    }
} 
```

你应该添加 System.Linq.Dynamic。你可以找到它 Nuget 包管理器。我认为这个扩展方法可以帮助你。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-07-03T05:21:47.240

试试这个：

```
var sorted = from c in list orderby c.Key select c; 
```

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2012-07-03T05:17:43.363

如果您可以控制`Keyword`该类并考虑对其“自然”排序的数字排序，`Keyword`请实现该`IComparable<Keyword>`接口。

如果您无法控制该类，或者您不想将此顺序指定为自然/默认，请创建一个实现该`IComparator<Keyword>`接口的类。

编辑：或使用 LINQ 获得更简单、更快捷的答案。卡在Java太久了！

```
var sorted = keywords.OrderBy(k => k.Key); 
```

# ios5 - 我们可以使用带有 xcode4 的统一 3D 制作 ios 应用程序吗？

> ID：11304840
> 
> 赞同：-4
> 
> 时间：2012-07-03T05:13:44.570
> 
> 标签：ios5, xcode4, unity3d

是否有任何可用于 Unity 3D 的 SDK 用于制作 ios 游戏。我是这个 unity 3D 的新手，我在搜索作为下载统一开发工具时发现了很多东西，然后我们可以制作可以在 Windows 和 Mac 上运行的应用程序。

我的疑问是 1.我们如何使用 xcode 制作统一的 3D 应用程序？2.我们可以使用客观的c代码吗？（我得到的信息是我们只能使用javascript/c#在unity 3D中进行移动应用程序开发）

请帮助我...在此先感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T14:52:45.760

[http://unity3d.com/unity/licenses](http://unity3d.com/unity/licenses)

# php - 尝试使用 Json 加载谷歌地图 V3 标记

> ID：11304844
> 
> 赞同：0
> 
> 时间：2012-07-03T05:13:56.463
> 
> 标签：php, json, google-maps-api-3

好的，我从这样的 mysql 查询中有一个名为 $datos 的 PHP 变量

```
[{"id_marcador":"1","posicion_marcador":"43.011781,-7.55736","titulo_marcador":"Centro de Lugo","dia":"si"},   {"id_marcador":"2","posicion_marcador":"42.991245,-7.545051","titulo_marcador":null,"dia":"no"},{"id_marcador":"3","posicion_marcador":"43.023336,-7.568511","titulo_marcador":null,"dia":"si"},{"id_marcador":"4","posicion_marcador":"42.989965,-7.547188","titulo_marcador":null,"dia":"si"},{"id_marcador":"5","posicion_marcador":"42.989589770827806, -7.547167422409075","titulo_marcador":null,"dia":"si"},{"id_marcador":"6","posicion_marcador":"43.020283,-7.533301","titulo_marcador":"HULA mostrador de citas","dia":"si"},{"id_marcador":"7","posicion_marcador":"43.021092,-7.533697","titulo_marcador":"HULA consultas","dia":"si"},{"id_marcador":"8","posicion_marcador":"43.013792,-7.557657","titulo_marcador":"Recreo plaza de Ferrol","dia":"si"},{"id_marcador":"9","posicion_marcador":"43.024084,-7.567178","titulo_marcador":"El Afilador","dia":"si"},{"id_marcador":"10","posicion_marcador":"43.005945,-7.555733","titulo_marcador":null,"dia":"si"},{"id_marcador":"11","posicion_marcador":"43.005384,-7.555138","titulo_marcador":null,"dia":"si"}] 
```

此变量将返回到 Json 表单，现在我必须将此值放入 googlemaps 标记格式，如下所示：

```
var ID_MARCADOR = new google.maps.Marker(
{
    position: new google.maps.LatLng (POSICION_MARCADOR),
    map: map,
    title: 'TITULO_MARCADOR',
    icon: 'iconos/gente.png'
});

var ID_MARCADOR = new google.maps.InfoWindow(
{
   content:'TITULO_MARCADOR'
});

google.maps.event.addListener(ID_MARCADOR,'click',       function{popID_MARCADOR.open(map,ID_MARCADOR);}) 
```

所以问题是......如何生成所有标记以及如何在我的地图中初始化它们？也许使用这样的东西？

```
JSONsuccess: function(data){
   results(data);

function results(data) 
{
  $.each(data,function(index,value)
  {
    var data[0] = new google.maps.Marker(
     {
       position: new google.maps.LatLng (data[1]),
       map: map,
       title: data[2],
       icon: 'iconos/gente.png'
       ETC...
       ETC...
      });
 } 
```

感谢您的回答和帮助！=D

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T05:57:23.580

立即引起我注意的一件事是您声明了两个具有相同名称的不同变量：`ID_MARCADOR`. 看起来您打算将其声明`InfoWindow`为：`popID_MARCADOR`。但除此之外，您的方法看起来不错（尽管我的 PHP 很生疏）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T20:12:47.243

好的问题解决了=D这里是正确的代码。从数据库接收 Json 数据

```
$.getJSON("automatizar1.php",{que:'marcadores'},function(json)
{
   marcadores(json);          
}); 
```

数组格式：

```
{"id_marcador":"1","lat_marcador":"43.0118","long_marcador":"-7.55736","titulo_marcador":"Centro de Lugo","tipo_marcador":"trafico","nombre_mp3":"centro","dia":"si"} 
```

神奇的功能

```
function marcadores(json)
 {

      $.each(json,function(index,value)
      { 

            var id ="a"+json[index].id_marcador;
            var popid="pop"+json[index].id_marcador;
            var lat=json[index].lat_marcador;
            var long=json[index].long_marcador;
            var titulo=json[index].titulo_marcador;
            var icono=json[index].tipo_marcador;

            id = new google.maps.Marker(
            {
              position: new google.maps.LatLng (lat, long),
              map: map,
              title: titulo,
              icon: 'iconos/'+icono+'.png'
            }); 

            popid = new google.maps.InfoWindow(
            {
                content:'mycontent'

            });

            google.maps.event.addListener(id,'click', function(){popid.open(map,id);});     

      });
} 
```

# android - 可访问性图像上缺少 contentDescription 属性如何删除此警告？

> ID：11304847
> 
> 赞同：18
> 
> 时间：2012-07-03T05:14:03.170
> 
> 标签：android

辅助功能] 图像上缺少 contentDescription 属性

```
 <ImageView
            android:id="@+id/imageView1"
            android:layout_width="34dp"
            android:layout_height="61dp"
            android:layout_marginLeft="11dp"
            android:layout_marginRight="0dp"
            android:layout_marginTop="11dp"
            android:background="#ff3333"
            android:src="@drawable/arrows" /> 
```

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-07-03T05:17:15.660

在日食中

> Window->prefrences->Android->Lint Error Checking->Issues-> Accessibility->Content Decriction->Severty 选择忽略。

**或者**

`android:contentDescription`在 ImageView 中添加。

*   [有关 Lint 错误检查的更多信息，请参见此处](http://tools.android.com/tips/lint/)

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-07-03T05:24:30.980

ADT 16 及更高版本中的 Lint 支持会引发此警告

现在的问题是为什么需要这样做。

> 考虑您设计的应用程序具有带有某些图像的 ImageView 的场景。图像带有消息它的作用。但是可能有一个盲人看不到。所以在这种情况下，如果您使用 contentDescription 属性，那么 Text-To-Speech功能将读取该值，因此即使是盲人也会为了什么目的而将图像放在那里，即使他看不到它。

`contentDescription`定义简要描述视图内容的文本。此属性主要用于可访问性。由于某些视图没有文本表示，因此此属性可用于提供此类。

像 ImageViews 和 ImageButtons 这样的小部件应该使用 contentDescription 属性来指定小部件的文本描述，以便屏幕阅读器 Text-To-Speech 和其他辅助工具可以充分描述用户界面。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-03T05:17:21.060

尝试添加`android:contentDescription`ImageView

```
<ImageView
            android:id="@+id/imageView1"
            android:layout_width="34dp"
            android:layout_height="61dp"
            android:layout_marginLeft="11dp"
            android:layout_marginRight="0dp"
            android:contentDescription="@string/desc"
            android:layout_marginTop="11dp"
            android:background="#ff3333"
            android:src="@drawable/arrows" /> 
```

欲了解更多信息，请参阅

[http://android-developers.blogspot.in/2012/04/accessibility-are-you-serving-all-your.html](http://android-developers.blogspot.in/2012/04/accessibility-are-you-serving-all-your.html)

[http://developer.android.com/guide/topics/ui/accessibility/apps.html#test](http://developer.android.com/guide/topics/ui/accessibility/apps.html#test)

[Android Lint 内容描述警告](https://stackoverflow.com/questions/8500544/android-lint-contentdescription-warning)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-16T12:17:18.130

输入图像视图

```
android:contentDescription="TODO" 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-06-25T02:27:57.770

只需添加以下内容：

```
android:contentDescription="@string/description" 
```

然后转到您的**Strings.xml**并添加以下内容：

```
<string name="description"> YOUR_DESCRIPTION_HERE </string> 
```

# android - 谷歌云端硬盘的内容提供者

> ID：11304848
> 
> 赞同：1
> 
> 时间：2012-07-03T05:14:06.883
> 
> 标签：android, android-contentprovider, google-drive-api

我的应用程序需要访问一些内容提供者，Google Drive 就是其中之一。但是，从我的搜索中，我看不到 GoogleDrive 公开的任何提供程序。我已使用以下代码打印所有 ContentProviders

```
for (PackageInfo pack : getPackageManager().getInstalledPackages(PackageManager.GET_PROVIDERS)) {
        ProviderInfo[] providers = pack.providers;
        if (providers != null) {
            for (ProviderInfo provider : providers) {
                Log.d("TEST", "provider: " + provider.authority);
            }
        }
    }
} 
```

我可以看到像这样的供应商：

com.google.android.apps.docs

com.google.android.apps.docs.files。

但在列表中找不到名称“驱动器”。那么这是否意味着 GoogleDrive 没有公开其内容？？

编辑：据我了解，我们似乎可以通过不同的提供商访问 Google Drive 的不同组件。例如，我们可以通过 Google Docs 提供的内容提供者访问 GoogleDrive 中的所有文档。

但是，我仍然不确定如何访问存储在 GoogleDrive 中的视频或歌曲！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-29T19:39:05.413

从 Google I/OG Drive 开始，现在是内容提供商。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-31T22:43:40.000

简单的历史原因，从用户的角度来看，Google Docs[在 2012 年中期更名为 Google Drive](http://en.wikipedia.org/wiki/Google_Docs#History)。

尝试[http://docs.google.com](http://docs.google.com)并在 Play 商店中查看 Google Drive 应用程序的网址：https: [//play.google.com/store/apps/details?id=com.google.android.apps.docs](https://play.google.com/store/apps/details?id=com.google.android.apps.docs)

我认为内容提供商早于 Google Drive，他们不想做出重大改变。

# c++ - 如何使用 cef_menu_handler 创建自己的菜单？

> ID：11304853
> 
> 赞同：0
> 
> 时间：2012-07-03T05:14:53.123
> 
> 标签：c++, chromium, chromium-embedded

最近，我一直在使用 Chromium Embedded Framework 来实现 Web 浏览器。现在我想制作一个右键单击时出现的上下文菜单，但我不知道该怎么做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-15T18:54:04.830

您需要覆盖中的`OnBeforeMenu`方法`CefMenuHandler`。在该方法的实现中，使用标准技术显示上下文菜单并返回 true：

```
bool MyMenuHandler::OnBeforeMenu(CefRefPtr<CefBrowser> browser,
                                 const CefMenuInfo& menuInfo)
{
  HMENU hPopupMenu = CreatePopupMenu();
  InsertMenu(hPopupMenu, 0, MF_BYPOSITION | MF_STRING, ID_POPUP_FOO, "Foo");
  TrackPopupMenu(hPopupMenu, TPM_BOTTOMALIGN | TPM_LEFTALIGN, xpos, ypos, 0, m_hWnd, NULL);
  return true;
} 
```

# ios - 从应用程序发送 iOS 短信后跟踪交付状态

> ID：11304864
> 
> 赞同：1
> 
> 时间：2012-07-03T05:15:20.950
> 
> 标签：ios, ios5, sms

我需要向一组用户发送短信并跟踪其发送状态。iOS SDK 中是否有任何选项可用于检查 SMS 是否发送成功？

谢谢， 阿达什

# mysql - 执行 SQL 命令更新表时出错

> ID：11304865
> 
> 赞同：-1
> 
> 时间：2012-07-03T05:15:20.997
> 
> 标签：mysql, jakarta-ee

大家好，我想在 Mysql 中添加列。

下面给出了我的 Sql 查询

```
CREATE TABLE  `mtrans`.`order` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `order_date` date NOT NULL,
  `order_by` varchar(50) NOT NULL,
  `amount` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 
```

但是当我再添加一列时，它会给出一些类似的错误。

我的错误日志如下

```
Error executing SQL commands to update table.
        MySQL Error Nr. 1064
        You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'AFTER `amount`' at line 1 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T05:20:28.823

你需要在mysql中使用[alter table 。](http://dev.mysql.com/doc/refman/5.1/en/alter-table.html)

我假设您已经`order table`成功创建。

简单的更改表以在现有表中添加列。

```
ALTER TABLE order ADD order_no VARCHAR(10); 
```

查询以在现有列之后添加列。

```
ALTER TABLE order ADD order_no VARCHAR(10) AFTER [Order]; 
```

# php - 在本地主机上显示标题错误

> ID：11304868
> 
> 赞同：1
> 
> 时间：2012-07-03T05:15:48.287
> 
> 标签：php, http-headers

当我将我的网站上传到服务器时，我收到了这些错误。

> 警告：无法修改标头信息 - 标头已由 /home/content/j/o/ 中的（输出开始于 /home/content/j/o/u/jou/html/biggydaddy/wp-config.php:25）发送u/jou/html/biggydaddy/wp-login.php 在第 12 行

我了解它们背​​后的原因，但在我的本地主机中没有显示此警告。

如何显示这些错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T05:17:53.003

1）当您在 php 阅读器命令之前打印任何内容时会出现此错误

请检查任何`echo or print / print_r .. (or may be White Space)`
2) 您需要同时设置[**error_reporting**](http://www.php.net/manual/en/errorfunc.configuration.php#ini.error-reporting)和[**display_errors**](http://www.php.net/manual/en/errorfunc.configuration.php#ini.display-errors)。这些可以在 php.ini、Apache（如果您使用 PHP 作为 Apache 模块）或在运行时设置，但如果您在运行时设置，则不会影响某些类型的错误，例如作为解析错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-04-14T06:38:47.250

确保您已设置 output_buffering=Off 以在 localhost 上显示错误，您必须在 php.ini 文件中设置 output_buffering=Off 然后重新启动您的 XAMPP .....

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T05:21:03.337

查看提到的文件 ( `/home/content/j/o/u/jou/html/biggydaddy/wp-config.php`) 并确保从那里没有输出任何内容。这可以像在开始`<?php`标签之前的额外空格一样简单。

在我的 Wordpress 配置文件中，该行是数据库密码。确保那里没有任何字符，例如可能导致问题的额外未转义引号。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-03T05:21:11.153

`?>`有时它是 PHP 文件中最后的一些空格字符。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-03T05:59:36.620

看来您正在使用 wordpress，然后在 wp-config.php 中将 WP_DEBUG 常量设置为 true：

```
define('WP_DEBUG', true); 
```

或者，如果对于普通的 php 脚本集：

```
error_reporting(E_ALL);
ini_set("display_errors", 1); 
```

希望这会帮助你。

# forms - 表单仅在 IE 上提交两次

> ID：11304869
> 
> 赞同：1
> 
> 时间：2012-07-03T05:15:49.373
> 
> 标签：forms, double-submit-prevention

我有一个jsp 登录表单页面，它使用stripes:submit 按钮调用ActionBean 方法以及stripes:submit 按钮上的OnClick() javascript 函数来提交登录表单。在这种情况下，IE8 浏览器会发送两次请求。它适用于 FF 和 Chrome 等其他浏览器。有什么办法可以防止它。

提前感谢您的帮助。

问候，

纳米

# modal-dialog - 如何将 JDialog 添加到桌面窗格或仅从内部框架调用

> ID：11304877
> 
> 赞同：0
> 
> 时间：2012-07-03T05:16:29.650
> 
> 标签：modal-dialog, mdi, jdialog, jinternalframe, jdesktoppane

我正在开发一个在 java 中使用 MDI 表单的项目。我创建了一个框架，然后向其中添加了一个桌面窗格。我的项目使用了很多内部框架。这些内部框架还需要显示我自己创建的**自定义对话框。**为了清楚起见，我说，一个 jdialog 有一个表格，要求用户选择一行。但问题是当我从内部框架（modality=true）调用jdialog时，对话框显示在主框架的顶部，而不仅仅是内部框架的顶部。这使得在显示 jdialog 时无法最小化窗口。

在我看来，有两种可能的解决方案（这可能是不可能的！！）.. jdialog 应该显示在 dektop 窗格内，或者我应该创建一个内部框架而不是 jdialog 并使其对父内部框架看起来是模态的. 即，当我想显示对话框时，我可能会禁用内部框架并将表单设置为无法聚焦，然后在此内部框架的顶部显示一个新的内部框架。我已经在论坛上搜索了数周.. 但我找不到答案。我希望你有一个解决方案。提前谢谢，先生。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T09:15:14.717

我也遇到了同样的问题，在处理一个在 java 6 中运行良好但在更改为 java7 时显示同样的问题的 java 项目。

我找到了解决方案。我添加了一个 `dialog.setVisible(false)`后跟一个`dialog.setVisible(true)`. 然后对话框响应键盘。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-07T20:30:27.190

我还在开发一个使用 lof 内部框架来显示自定义对话框的 MDI 应用程序。我将我的对话框设置为非模态的，以便可以将内部框架图标化和/或在对话框保持可见的同时最小化整个桌面窗格。

如果您绝对需要模态行为（即，您希望要求用户在执行任何其他操作之前与对话框交互），也许您可​​以让对话框保持非模态，但代码实际上是模态。

另外，您是否看过 setModalityType(java.awt.Dialog.ModalityType.DOCUMENT_MODAL); 的行为？

?

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-11T01:52:39.980

哇！！我从 webbyt 得到了答案...只是避免使用内部框架..尝试使用类 ModalityInternalFrame （JinternalFrame 的子类）.. 一切正常.. 这是类

```
import java.awt.*;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.beans.PropertyChangeEvent;
import java.beans.PropertyVetoException;
import java.beans.VetoableChangeListener;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.*;
import javax.swing.event.InternalFrameAdapter;
import javax.swing.event.InternalFrameEvent;

/**
 * An extended
 * <code>JInternalFrame</code> that provides modality in a child/parent
 * hierarchy
 *
 * @author webbyit
 */
public class ModalityInternalFrame extends JInternalFrame {

    protected JDesktopPane desktopPane;
    protected JComponent parent;
    protected ModalityInternalFrame childFrame;
    protected JComponent focusOwner;
    private boolean wasCloseable;

    public ModalityInternalFrame() {
        init(); // here to allow netbeans to use class in gui builder
    }

    public ModalityInternalFrame(JComponent parent) {
        this(parent, null);
    }

    public ModalityInternalFrame(JComponent parent, String title) {
        this(parent, title, false);
    }

    public ModalityInternalFrame(JComponent parent, String title, boolean resizable) {
        this(parent, title, resizable, false);
    }

    public ModalityInternalFrame(JComponent parent, String title, boolean resizable, boolean closeable) {
        this(parent, title, resizable, closeable, false);
    }

    public ModalityInternalFrame(JComponent parent, String title, boolean resizable, boolean closeable,
            boolean maximizable) {
        this(parent, title, resizable, closeable, maximizable, false);
    }

    public ModalityInternalFrame(JComponent parent, String title, boolean resizable, boolean closeable,
            boolean maximizable,
            boolean iconifiable) {
        super(title, resizable, closeable, maximizable, iconifiable);
        setParentFrame(parent);
        //setFocusTraversalKeysEnabled(false);
        if (parent != null && parent instanceof ModalityInternalFrame) {
            ((ModalityInternalFrame) parent).setChildFrame(ModalityInternalFrame.this);

            /*
             * set focus to the new frame and show the frame Code added by Jasir
             */
            try {
                ((ModalityInternalFrame) parent).setSelected(false);
                setSelected(true);
                setVisible(true);
            } catch (PropertyVetoException ex) {
                Logger.getLogger(ModalityInternalFrame.class.getName()).log(Level.SEVERE, null, ex);
            }
        }

        // Add glass pane
        ModalityInternalGlassPane glassPane = new ModalityInternalGlassPane(this);
        setGlassPane(glassPane);

        // Add frame listeners
        addFrameListener();

        // Add frame veto listenr
        addFrameVetoListener();

        init();

        // calculate size and position

    }

    private void setParentFrame(JComponent parent) {
        desktopPane = JOptionPane.getDesktopPaneForComponent(parent);
        this.parent = parent == null ? JOptionPane.getDesktopPaneForComponent(parent) : parent; // default to desktop if no parent given
    }

    public JComponent getParentFrame() {
        return parent;
    }

    public void setChildFrame(ModalityInternalFrame childFrame) {
        this.childFrame = childFrame;
    }

    public ModalityInternalFrame getChildFrame() {
        return childFrame;
    }

    public boolean hasChildFrame() {
        return (childFrame != null);
    }

    protected void addFrameVetoListener() {
        addVetoableChangeListener(new VetoableChangeListener() {

            public void vetoableChange(PropertyChangeEvent evt) throws PropertyVetoException {
                if (evt.getPropertyName().equals(JInternalFrame.IS_SELECTED_PROPERTY)
                        && evt.getNewValue().equals(Boolean.TRUE)) {
                    if (hasChildFrame()) {
                        //childFrame.setSelected(true);
                        if (childFrame.isIcon()) {
                            childFrame.setIcon(false);
                        }
                        throw new PropertyVetoException("no!", evt);
                    }
                }
            }
        });
    }

    /**
     * Method to control the display of the glass pane, dependant on the frame
     * being active or not
     */
    protected synchronized void addFrameListener() {
        addInternalFrameListener(new InternalFrameAdapter() {

            @Override
            public void internalFrameActivated(InternalFrameEvent e) {
                if (hasChildFrame() == true) {
                    getGlassPane().setVisible(true);
                    grabFocus();
                } else {
                    getGlassPane().setVisible(false);
                }
            }

            @Override
            public void internalFrameOpened(InternalFrameEvent e) {
                getGlassPane().setVisible(false);
                try {
                    setSelected(true);
                } catch (PropertyVetoException ex) {
                    Logger.getLogger(ModalityInternalFrame.class.getName()).log(Level.SEVERE, null, ex);
                }
            }

            @Override
            public void internalFrameClosing(InternalFrameEvent e) {
                if (parent != null && parent instanceof ModalityInternalFrame) {
                    ((ModalityInternalFrame) parent).childClosing();
                }
            }
        });
    }

    /**
     * Method to handle child frame closing and make this frame available for
     * user input again with no glass pane visible
     */
    protected void childClosing() {
        setClosable(wasCloseable);
        getGlassPane().setVisible(false);
        if (focusOwner != null) {
            java.awt.EventQueue.invokeLater(new Runnable() {

                @Override
                public void run() {
                    try {
                        moveToFront();
                        setSelected(true);
                        focusOwner.grabFocus();
                    } catch (PropertyVetoException ex) {
                    }
                }
            });
            focusOwner.grabFocus();
        }
        getGlassPane().setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));
        setChildFrame(null);
        getDesktopPane().setSelectedFrame(this);
        System.out.println(getDesktopPane().getSelectedFrame());
    }

    /*
     * Method to handle child opening and becoming visible.
     */
    protected void childOpening() {
        // record the present focused component
        wasCloseable = isClosable();
        setClosable(false);
        focusOwner = (JComponent) getMostRecentFocusOwner();
        grabFocus();
        getGlassPane().setVisible(true);
        getGlassPane().setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));
    }

    @Override
    public void show() {
        if (parent != null && parent instanceof ModalityInternalFrame) {
            // Need to inform parent its about to lose its focus due
            // to child opening
            ((ModalityInternalFrame) parent).childOpening();
        }
        calculateBounds();
        super.show();
    }

    protected void init() {
        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGap(0, 394, Short.MAX_VALUE));
        layout.setVerticalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGap(0, 274, Short.MAX_VALUE));

        pack();
    }

    public void calculateBounds() {
        Dimension frameSize = getPreferredSize();
        Dimension parentSize = new Dimension();
        Dimension rootSize = new Dimension(); // size of desktop
        Point frameCoord = new Point();

        if (desktopPane != null) {
            rootSize = desktopPane.getSize(); // size of desktop
            frameCoord = SwingUtilities.convertPoint(parent, 0, 0, desktopPane);
            parentSize = parent.getSize();
        }

        //setBounds((rootSize.width - frameSize.width) / 2, (rootSize.height - frameSize.height) / 2, frameSize.width, frameSize.height);

        // We want dialog centered relative to its parent component
        int x = (parentSize.width - frameSize.width) / 2 + frameCoord.x;
        int y = (parentSize.height - frameSize.height) / 2 + frameCoord.y;

        // If possible, dialog should be fully visible
        int ovrx = x + frameSize.width - rootSize.width;
        int ovry = y + frameSize.height - rootSize.height;
        x = Math.max((ovrx > 0 ? x - ovrx : x), 0);
        y = Math.max((ovry > 0 ? y - ovry : y), 0);
        setBounds(x, y, frameSize.width, frameSize.height);
    }

    /**
     * Glass pane to overlay. Listens for mouse clicks and sets selected on
     * associated modal frame. Also if modal frame has no children make class
     * pane invisible
     */
    class ModalityInternalGlassPane extends JComponent {

        private ModalityInternalFrame modalFrame;

        public ModalityInternalGlassPane(ModalityInternalFrame frame) {
            modalFrame = frame;
            addMouseListener(new MouseAdapter() {

                @Override
                public void mouseClicked(MouseEvent e) {
                    if (modalFrame.isSelected() == false) {
                        try {
                            modalFrame.setSelected(true);
                            if (modalFrame.hasChildFrame() == false) {
                                setVisible(false);
                            }
                        } catch (PropertyVetoException e1) {
                            //e1.printStackTrace();
                        }
                    }
                }
            });
        }

        @Override
        public void paint(Graphics g) {
            super.paint(g);
            g.setColor(new Color(255, 255, 255, 100));
            g.fillRect(0, 0, getWidth(), getHeight());
        }
    }
} 
```

但是焦点和其他方面仍然存在一些问题..

# javascript - vimeo eventlistener 执行 jquery 函数

> ID：11304882
> 
> 赞同：0
> 
> 时间：2012-07-03T05:16:51.103
> 
> 标签：javascript, jquery, vimeo

所以我正在创建一个灯光调光器，以便在 vimeo 播放器播放、暂停和结束时执行。

现在它不起作用，因为我确信这是 Jquery 的问题......

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
<script type="text/javascript" src="http://a.vimeocdn.com/js/froogaloop2.min.js"></script>
<script type="text/javascript">

$(function(){

var vimeoPlayer = document.querySelector('iframe');

$f(vimeoPlayer).addEvent('ready', ready);

function ready(swoosh) {

    froogaloop = $f(swoosh);

    function setupEventListeners() {
        function onPlay() {
            $('body').append('<div id="dim"></div>');
            $('#dim').fadeIn(250);
        }

        function onPause() {

           $('#dim').fadeOut(500,function() { $("#dim").remove(); });
        }

        function onFinish() {
           $('#dim').fadeOut(500,function() { $("#dim").remove(); });
        }
        onPlay();
        onPause();
        onFinish();
    }
    setupEventListeners();
}

})
</script> 
```

我该怎么做呢，我一点也不精通 Jquery

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T19:07:17.353

我应该发布我的嵌入代码，因为那是问题所在，我在代码的末尾有 api=1 而不是开头，这就是答案

# java - 通过 websocket 将视频文件发送到浏览器

> ID：11304888
> 
> 赞同：1
> 
> 时间：2012-07-03T05:17:41.250 元素？
> 
> 标签：java, javascript, websocket

我想将视频文件从用 java 编写的服务器发送到 Web 浏览器客户端。套接字连接工作正常，发送文本也没有问题。我用来制作套接字服务器的库是这个[https://github.com/TooTallNate/Java-WebSocket](https://github.com/TooTallNate/Java-WebSocket)

这是发送文件的代码

```
public void sendFile(WebSocket conn,String path)
{
 try
   {    
     File file = new File(path);
     byte[] data = new byte[(int)file.length()];
     DataInputStream stream = new DataInputStream(new FileInputStream(file));
     stream.readFully(data);
     stream.close();
     conn.send(data);
     ..snip catch statements.. 
```

这是我用于捕获文件的 javascript 代码

```
function connect()
{
 conn = new WebSocket('ws://localhost:8887');
 conn.onopen = function(){alert("Connection Open");};
 conn.onmessage = function(evt){if(evt.data instanceof Blob){readFile(evt);}else{alert(evt.data);}};
 conn.onclose = function(){alert('connection closed');};
}
function readFile(file_data)
{
 var video = document.getElementById('area');
 video.src = window.URL.createObjectURL(file_data.data);
}

..skip to html element for playing the file..

<video id='area' controls="controls"></video> 
```

我希望能够在浏览器中接收文件并播放它。

我在尝试将 webm 视频文件发送到 fireox 时遇到的错误是：不支持“application/octet-stream”的 HTTP“Content-Type”。加载媒体资源 blob:794345a5-4b6d-4585-b92b-3acb51612a6c 失败。

是否可以从 websocket 接收视频文件并播放？我执行错了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T04:02:06.390

视频元素需要正确的内容类型，ws Blob 带有通用的内容类型，而且（对我而言）似乎没有办法将其设置为服务器端或客户端。
幸运的是，Blob 有[slice(start, end, contentType)](https://developer.mozilla.org/en/DOM/Blob#slice%28%29)方法：

```
var rightBlob = originalBlob.slice(0, originalBlob.size, 'video/webm') 
```

# shell - 如何使用 scp 将文件夹从远程复制到本地？

> ID：11304895
> 
> 赞同：3068
> 
> 时间：2012-07-03T05:17:58.003
> 
> 标签：shell, ssh, command-line, copy, scp

如何使用将文件夹从远程复制到本地主机`scp`？

我`ssh`用来登录我的服务器。
然后，我想将远程文件夹复制`foo`到本地`/home/user/Desktop`。

我如何实现这一目标？

* * *

## 回答 #1

> 赞同：5603
> 
> 时间：2012-07-03T05:21:39.313

```
scp -r user@your.server.example.com:/path/to/foo /home/user/Desktop/ 
```

通过不包括 foo 末尾的尾随“/”，您将复制目录本身（包括内容），而不仅仅是目录的内容。

从`man scp`（见[在线手册](http://man7.org/linux/man-pages/man1/scp.1.html)）

> -r 递归复制整个目录

* * *

## 回答 #2

> 赞同：340
> 
> 时间：2013-12-04T06:21:57.313

要使用**scp**的全部功能，您需要执行以下步骤：

1.  [**公钥授权**](https://serverfault.com/questions/2429/how-do-you-setup-ssh-to-authenticate-using-keys-instead-of-a-username-password)
2.  [**创建 ssh 别名**](http://nerderati.com/2011/03/simplify-your-life-with-an-ssh-config-file)

然后，例如，如果你有这个**~/.ssh/config**：

```
Host test
    User testuser
    HostName test-site.com
    Port 22022

Host prod
    User produser
    HostName production-site.com
    Port 22022 
```

您将避免输入密码并简化**scp**语法，如下所示：

```
scp -r prod:/path/foo /home/user/Desktop   # copy to local
scp -r prod:/path/foo test:/tmp            # copy from remote prod to remote test 
```

此外，您将能够使用远程路径完成：

```
scp test:/var/log/  # press tab twice
Display all 151 possibilities? (y or n) 
```

**更新：**

`<source>`要启用远程 bash-completion，您需要在主机和主机上都有 bash-shell `<target>`，并且 bash-completion 正常工作。有关更多信息，请参阅相关问题：

[使用 scp 时如何为远程路径启用自动完成功能？](https://unix.stackexchange.com/questions/33336/how-to-enable-autocompletion-for-remote-paths-when-using-scp)
[SCP 文件名选项卡完成](https://serverfault.com/questions/26768/scp-filename-tab-completion)

* * *

## 回答 #3

> 赞同：293
> 
> 时间：2016-05-23T09:38:25.317

将所有内容从**本地位置**复制到**远程位置**（上传）

```
scp -r /path/from/local username@hostname:/path/to/remote 
```

将所有内容从**远程位置**复制到**本地位置**（下载）

```
scp -r username@hostname:/path/from/remote /path/to/local 
```

`xxxx`自定义端口自定义**端口**号在哪里

```
 scp -r -P xxxx username@hostname:/path/from/remote /path/to/local 
```

将当前目录从**远程复制到本地**

```
scp -r username@hostname:/path/from/remote . 
```

**帮助：**

1.  `-r`递归复制所有目录和文件
2.  始终使用完整位置`/`，获取完整位置`pwd`
3.  `scp`将替换所有现有文件
4.  `hostname`将是主机名或 IP 地址
5.  如果需要自定义端口（除了端口 22），请使用`-P portnumber`
6.  **. （点）** - 它表示当前工作目录，因此从服务器下载/复制并仅粘贴到此处。

**注意：**有时自定义端口会因为防火墙不允许端口而无法使用，因此请确保防火墙允许自定义端口进行传入和传出连接

* * *

## 回答 #4

> 赞同：54
> 
> 时间：2014-06-10T07:41:13.277

我经常使用的是：

```
scp -r username@IP:/path/to/server/source/folder/  . 
```

**. （点）**：意思是`current folder`。所以从服务器复制并粘贴在这里。

**IP**：可以是 IP 地址`125.55.41.311`，也可以是主机`ns1.mysite.com`。

* * *

## 回答 #5

> 赞同：41
> 
> 时间：2014-05-29T11:12:01.563

最好先在远程服务器上压缩目录：

```
tar czfP backup.tar.gz /path/to/catalog 
```

其次，从远程下载：

```
scp user@your.server.example.com:/path/to/backup.tar.gz . 
```

最后，解压文件：

```
tar -xzvf backup.tar.gz 
```

* * *

## 回答 #6

> 赞同：25
> 
> 时间：2015-07-06T07:21:08.510

典型场景，

```
scp -r -P port username@ip:/path-to-folder  . 
```

用样本解释，

`scp -r -P 27000 abc@10.70.12.12:/tmp/hotel_dump .`

在哪里，

```
port = 27000
username = "abc" , remote server username
path-to-folder = tmp/hotel_dump
. = current local directory 
```

* * *

## 回答 #7

> 赞同：23
> 
> 时间：2014-06-17T06:02:32.773

而且，如果您要从远程位置下载大量文件，并且不太关心安全性，请尝试将 scp 默认加密（Triple-DES）更改为“blowfish”之类的东西。

这将大大减少文件复制时间。

```
scp -c blowfish -r user@your.server.example.com:/path/to/foo /home/user/Desktop/ 
```

* * *

## 回答 #8

> 赞同：21
> 
> 时间：2015-11-09T21:05:10.683

转到统一工具栏上的文件

[![在此处输入图像描述](../Images/1550f90729a89028f35217b83d5c647c.png)](https://i.stack.imgur.com/ZD6gk.png)

按 Ctrl + l 并写 here_goes_your_user_name@192.168.10.123

192.168.1.103 是您要连接的主机。

这里的一个例子

[![在此处输入图像描述](../Images/5570808dc8b21abd03b27209e66b591d.png)](https://i.stack.imgur.com/TFZ4B.png)

* * *

## 回答 #9

> 赞同：17
> 
> 时间：2016-09-26T21:54:58.757

如果您遇到*"Too many authentication failures"*，请指定您添加到服务器 ssh 服务器的确切 SSH 密钥：

```
scp -r -i /path/to/local/key user@remote.tld:/path/to/folder /your/local/target/dir 
```

* * *

## 回答 #10

> 赞同：15
> 
> 时间：2016-08-15T05:47:35.620

问题是如何使用`scp`命令将文件夹从远程复制到本地。

`$ scp -r userRemote@remoteIp:/path/remoteDir /path/localDir`

但这是更好的方法`sftp`- SSH 文件传输协议（也称为安全文件传输协议，或 SFTP）是一种网络协议，可通过任何可靠的数据流提供文件访问、文件传输和文件管理。（维基百科）。

`$ sftp user_remote@remote_ip`

`sftp> cd /path/to/remoteDir`

`sftp> get -r remoteDir`

`Fetching /path/to/remoteDir to localDir 100% 398 0.4KB/s 00:00`

有关`sftp`命令的帮助，只需键入`help`或`?`。

* * *

## 回答 #11

> 赞同：5
> 
> 时间：2016-04-29T19:44:11.347

我不知道为什么，但我不得不在 source server directive 之前使用本地文件夹。让它发挥作用

```
scp -r . root@888.888.888.888:/usr/share/nginx/www/example.org/ 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2021-08-18T18:48:43.050

对于 Windows 操作系统，我们使用此命令。

```
pscp -r -P 22 hostname@IP:/path/to/Downloads   ./ 
```

# php - 表单提交功能中的jquery单击功能

> ID：11304898
> 
> 赞同：3
> 
> 时间：2012-07-03T05:18:30.480
> 
> 标签：php, jquery

我有一个提交类型数量为图像的表单。每张图片都有不同的标题。我需要找出点击图像的标题。但是我在表单提交中的点击功能不起作用。

我的表格是：

```
 <form action='log.php' id='logForm' method='post' >
  <?
   for($j=1;$j<=5;$j++)
   {
    ?>
   <input type="image" src="<?=$img;?>" title="<?=$url;?> id="<?="image".$j?> class="images" />
    <?
    }
    ?>
   </form> 
```

查询：

```
 $("#logForm").submit(function(e)
    {

  $(".advt_image").click(function(event) {
        var href=event.target.title;
    });

           var Form = { };
            Form['inputFree'] = $("#inputFree").val();
         //   if($("#freeTOS").is(":checked"))
                    Form['freeTOS'] = '1';

            $(".active").hide().removeClass('active');
            $("#paneLoading").show().addClass('active');

var url="http://"+href;

      $.post('processFree.php', Form, function(data)
            {
                    if(data == "Success")
                    {
                            $("#FreeErrors").html('').hide();
                            swapToPane('paneSuccess');

                     setTimeout( function() {  location=url }, 2500 );

                    return;

                    }

                    swapToPane('paneFree');
                    $("#FreeErrors").html(data).show();
            });

            return false;
    }); 
```

如何在其中获取单击图像的标题值`$("#logForm").submit(function())`？

我怎样才能使用点击图像的 id 呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T05:20:30.867

你可以使用`event.target`属性

```
$("#logForm").submit(function(e)
    alert($(e.target).attr('title'));
}); 
```

[http://api.jquery.com/event.target/](http://api.jquery.com/event.target/)

**[更新]**

我才意识到这行不通。我不认为有一个简单的解决方案。您必须跟踪输入上的点击事件并稍后使用它。

[jQuery提交，我怎么知道按下了哪个提交按钮？](https://stackoverflow.com/questions/2154039/jquery-submit-how-can-i-know-what-submit-button-was-pressed)

```
$(document).ready(function() {
    var target = null;
    $('#form :input[type="image"]').click(function() {
        target = this;
        alert(target);
    });
    $('#form').submit(function() {
        alert($(target).attr('title'));
    });
}); 
```

[更新 2] -`.focus`不工作，但`.click`工作 [http://jsfiddle.net/gjSJh/1/](http://jsfiddle.net/gjSJh/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T05:44:58.867

在我看来，您有多个提交按钮。无需在提交时调用该函数，而是在单击这些按钮时调用它，以便您可以轻松访问用户选择的那个：

```
$('input.images').click(function(e) {
    e.preventDefault(); //stop the default submit from occuring
    alert($(this).attr('title');

   //do your other functions here.

}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T05:56:29.717

检查以下代码，您可以获得点击图像的标题。

**单击**

```
$(document).ready(function()
{
    $('#logForm').submit(function(e){
         $(".images").click(function(event) {
            alert(event.target.title);
        });

        return false;
    });
}); 
```

**双击**

```
$(document).ready(function()
{
    $('#logForm').submit(function(e){
         $(".images").dblclick(function(event) {
            alert(event.target.title);
        });

        return false;
    });
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-03T06:07:37.117

// 所有元素的运行时点击事件

```
$(document).on('vclick', '.control', function (e) { // .control is classname of the elements
    var control = e.target;
    alert(e.currentTarget[0].id);
}); 
```

如果您在警报中没有收到正确的消息，只需使用 Firebug 进行调试。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-03T11:12:32.613

在渲染页面中添加以下 ondomready

```
$(document).ready(function(){
    $("form input[type=image]").click(function() {
        $("input[type=image]", $(this).parents("form")).removeAttr("clicked");
        $(this).attr("clicked", "true");
    });
}); 
```

现在在表单的提交操作中添加以下行为和 yupeee！...你明白了！....

```
$("#logForm").submit(function(e)
    {
        var title = $("input[type=image][clicked=true]",e.target).attr("title");
        .....
        .....
    }); 
```

# opengl-es - 如何像 GL_REPEAT 一样重复纹理贴图？

> ID：11304906
> 
> 赞同：9
> 
> 时间：2012-07-03T05:19:31.873
> 
> 标签：opengl-es, textures, webgl, three.js

我的游戏中有一个房屋模型，并且我有一些房屋几何形状的材料。房子的墙壁有一种材料，我有一个纹理贴图图像来显示砖块。

```
var mat = new THREE.MeshPhongMaterial( { 
    ambient: 0x969696,
    map: THREE.ImageUtils.loadTexture( 'textures/G/G0.jpg' ), 
    overdraw: true,combine: THREE.MultiplyOperation 
} ); 
```

通过上面的这种方式，纹理贴图看起来就像`GL_CLAMP`我希望它显示的那样`GL_REPEAT`。

我应该怎么办？

如果您看不到图像，请检查[此](https://github.com/mrdoob/three.js/issues/2153)。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-07-04T12:16:35.883

我在以下位置发布了一个完整的工作示例： [http ://stemkoski.github.com/Three.js/Texture-Repeat.html](http://stemkoski.github.com/Three.js/Texture-Repeat.html)

代码示例的相关部分是：

```
// for example, texture repeated twice in each direction
var lavaTexture = THREE.ImageUtils.loadTexture( 'images/lava.jpg' );
lavaTexture.wrapS = lavaTexture.wrapT = THREE.RepeatWrapping;
lavaTexture.repeat.set( 2, 2 );
var lavaMaterial = new THREE.MeshBasicMaterial( { map: lavaTexture } );
var lavaBall = new THREE.Mesh( THREE.GeometryUtils.clone(sphereGeom), lavaMaterial );
scene.add( lavaBall ); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-03T06:48:47.037

它在那里被调用[`THREE.RepeatWrapping`](https://github.com/mrdoob/three.js/blob/master/src/textures/Texture.js)。`loadTexture`默认为（参见上一个链接中的`THREE.ClampToEdgeWrapping`ctor 函数）。不知道能不能用`callback`（因为`this`在JS里有点怪（好像是指向 created `Image`，而不是 created `Texture`））。签名：

```
loadTexture: function ( path, mapping, callback ) { 
```

最好只在本地命名纹理并手动设置环绕模式：

```
var t = THREE.ImageUtils.loadTexture( 'textures/G/G0.jpg' );
t.wrapS = t.wrapT = THREE.RepeatWrapping; 
```

如果不查看实际代码，看起来您对threejs 的了解并不远...

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-11-24T12:02:14.317

图像必须为 8x8、16x16、32x32、128x128、256x256、512x512 等，并且都可以正常工作。=)

# hadoop - 建议的表格数据 Hadoop 文件格式

> ID：11304908
> 
> 赞同：1
> 
> 时间：2012-07-03T05:20:03.853
> 
> 标签：hadoop

我的应用程序需要处理几个 TB 的表格数据。目前，数据保存为几个巨大的逗号分隔的 csv 文件。我可以控制如何将文件提供给我的 M/R 作业，我想知道使作业运行得更快的首选文件格式是什么？例如，将输入数据保存为序列文件而不是我现在使用的文本文件有什么意义吗？这会让我的 M/R 工作明显更快地运行吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:47:51.827

从“文件格式”的角度来看，我认为使用 SequeceFile 不会对 csv 数据的文本文件有很大的改进。如果它是 CSV 数据中的单个 (Key,Value) 对，则在文本文件上使用 SequenceFile 将是有意义的。

然而，我对使用 RCFile ( [Record Columnar File](http://hive.apache.org/docs/r0.5.0/api/org/apache/hadoop/hive/ql/io/RCFile.html) ) 很感兴趣，它应该很适合类似 CSV 的数据。我已经将它与 hive 表一起使用，并在 hive 查询的执行时间上取得了一些显着的改进。我假设这是由于 M/R 中的执行效率，因为 hive 查询被转换为 M/R 程序。

参考：[http ://www.ixwebhosting.mobi/2011/10/06/4823.html](http://www.ixwebhosting.mobi/2011/10/06/4823.html)

# magento - Google Analytics 在升级到 Magento 1.7 后停止工作

> ID：11304924
> 
> 赞同：1
> 
> 时间：2012-07-03T05:21:38.387
> 
> 标签：magento

当我将 Magento 1.6 升级到 Magento 1.7 时，Google Analytics 停止工作。

真的卡住了怎么办，我已经

`reference name="after_body_start"> <block type="googleanalytics/ga" name="google_analytics" as="google_analytics" template="googleanalytics/ga.phtml" /> </reference>`

在我的`googleanalytics.xml`

无法为 Magento 1.7 正确设置它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T20:49:16.420

`template="googleanalytics/ga.phtml"`在标签中添加标签`layout/googleanalytics.xml`

```
<layout version="0.1.0">

<!--
Default layout, loads most of the pages
-->

    <default>
        <!-- Mage_GoogleAnalytics -->
        <reference name="after_body_start">
            <block type="googleanalytics/ga" 
                   name="google_analytics"
                   as="google_analytics"
                   template="googleanalytics/ga.phtml" />
        </reference>
    </default>
</layout> 
```

# sql-server - 如何在分组中显示默认值？

> ID：11304925
> 
> 赞同：-2
> 
> 时间：2012-07-03T05:21:39.077
> 
> 标签：sql-server

我有这个查询

```
SELECT DATE,COUNT(DATE) FROM TABLE WHERE DATE BETWEEN DATE1 AND DATE2 GROUP BY DATE.. 
```

结果将是（对于日期 2012 年 1 月 2 日至 2012 年 3 月 2 日，即 3 个日期）

```
1/2/2012  5
2/2/2012  6
3/2/2012  9 
```

有时，如果计数为 Null，则表示它不显示日期，即

```
1/2/2012  5
             If (2/2/2012 is not there)
3/2/2012  9 
```

我想列出所有日期。即像这样

```
1/2/2012  5
2/2/2012  0
3/2/2012  9 
```

怎么做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-03T05:45:21.830

您可以使用 CTE 生成日期列表，然后`left join`：

```
; with  Dates as
        (
        select  cast('2012-01-01' as date) as dt
        union all 
        select  dateadd(day, 1, dt)
        from    Dates
        where   dateadd(day, 1, dt) < '2012-01-06'
        )
select  d.dt
,       count(yt.id)
from    Dates d
left join    
        YourTable yt
on      yt.Date = d.Dt
group by
        d.dt; 
```

[SQL Fiddle 上的实时示例。](http://sqlfiddle.com/#!3/fb32e/1/0)

# android - 从 SurfaceHolder 的 lockCanvas() 收到的画布上的脏矩形

> ID：11304928
> 
> 赞同：0
> 
> 时间：2012-07-03T05:21:46.747
> 
> 标签：android, optimization, android-canvas

那可能吗？因为我需要在其上以至少 35 fps 的速度绘制带有移动物体的照片背景。每帧重绘整个背景都必须花费大量资源，即使是很短的时间？（动态壁纸）

我试图仅在每个移动对象的 Rect 处重绘背景，但这只会使屏幕的这些部分闪烁。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-07T21:59:08.633

好吧，无论如何，做这些优化似乎没有什么大的收获。

闪烁当然是因为双缓冲，有两个缓冲区要擦除，所以闪烁。

# grails-2.0 - grails 项目似乎不是 Grails 应用程序的一部分

> ID：11304930
> 
> 赞同：2
> 
> 时间：2012-07-03T05:21:48.573
> 
> 标签：grails-2.0

从我的旧 Macbook Pro 迁移到新的 Macbook Pro 后，我发现我的项目将不再运行。Grails 不断给我一个“错误 /Users/Michael/{proj}/{proj} 似乎不是 Grails 应用程序的一部分”。刷新依赖项似乎运行成功。

我已经验证了以下内容：

*   项目文件夹中存在一个文件夹 grails-app，位于与旧机器相同的位置。
*   我确实运行了 grails clean，然后将 grails 升级到 2.0.4

一件事可能是两台机器之间的用户目录名称已更改，但我在 .project 或 application.properties 或任何设置中都没有看到旧的用户目录名称。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-12-13T18:37:05.877

我通过删除解决了这个问题`workspace\.metadata\.plugins\org.eclipse.debug.core\.launches\<project>.launch`。它缓存了旧的绝对路径。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-17T09:19:09.810

从 STS 中打开命令行并执行“运行应用程序”。他的工作区缓存有时会出现问题。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-25T17:02:25.360

哎呀，看到我没有回答这个问题。

答案是删除所有内容并从 github 重建。如有疑问，请对其进行核弹直到它发光....

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-09-18T17:40:14.037

[上面阿尔芒的回答](https://stackoverflow.com/a/13911294/277861)是最简单的解决方案 - 感谢阿尔芒

这是我的经验——在 IDE 中使用 Grails 时——在某些情况下，最好使用命令行来发出 grails 命令（这是一个很好的提醒）

与此相关，从 cmd 行运行应用程序似乎也更好（而不是使用 IDE Project->Run As），因为您可以使用 ctrl-c 轻松停止服务器

# linux - 如何只允许指定路径上的 sudo？

> ID：11304931
> 
> 赞同：0
> 
> 时间：2012-07-03T05:22:11.747
> 
> 标签：linux

在 Linux 中：

我想限制用户只能在指定路径上执行 sudo。

sudo chmod 适用于 /home/Krome/revA

但是 sudo chmod 在 /home/Krome 上失败了

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-04-04T08:35:30.887

可以通过将用户或进程限制到某个路径来完成`chroot`- 这里的问题是`chroot`在命令`$PATH`和动态加载的对象之后将不再可访问，因此您需要一个静态链接的*shell*来执行`chroot`以及用户应该能够发出的**内置命令。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T08:42:14.330

添加到`/etc/sudoers`类似于以下行的内容：

```
%users ALL = NOPASSWD: /bin/chmod [ugoa][-+=][rwxXst] /home/Krome/* 
```

它基本上说所有组成员都可以在路径下的任何东西上以符号模式`users`调用。`sudo chmod``/home/Krome/`

有关`man sudo`更多详细信息，请参阅。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-03T06:29:44.107

我认为这是不可能的，并且很确定这不合理。

`chmod``/home/Krome`如果它是用户的主文件夹，它将在内部工作。

我认为您需要一个普通用户（没有`sudo`），并且可以通过将该用户添加到组并与这些组共享一些文件夹来管理其他所有内容。

# iphone - NSURLConnection 和 NSURLConnectionDelegate 在不同的线程上工作

> ID：11304935
> 
> 赞同：0
> 
> 时间：2012-07-03T05:22:27.097
> 
> 标签：iphone, ios, nsurlconnection, nsurlconnectiondelegate

如标题中所述，我做了一些这样的 NSURLConnection 。但是我发现委托方法无法运行。任何人都知道如何处理它？

编辑：我的委托在主线程上工作，而 NSURLConnection 在操作队列上工作。现在的情况是 :NSURLConnection 工作正常，但委托不会运行。

编辑 2：我使用了类方法 [NSURLConnection connectionWithRequest: delegate:]

这是我的主队列

```
 NSOperationQueue *queuePhoto = [[NSOperationQueue alloc] init];
 NSInvocationOperation *invocationOperationPhotos = [[NSInvocationOperation alloc] initWithTarget:self   selector:@selector(transferToServerAddimages:) object:arrayOfASection]; 
//                        [invocationOperationPhotos addObserver:self forKeyPath:@"isExecuting" options:0 context:invocationOperationPhotos];
 //                        [invocationOperationPhotos addObserver:self forKeyPath:@"isCancelled" options:0 context:invocationOperationPhotos];
//                        [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(<#selector#>) name:@"isExecuting" object:nil];
                        [invocationOperationPhotos setQueuePriority:NSOperationQueuePriorityHigh];
                    [queuePhoto addOperation:invocationOperationPhotos];
                    [mutableArrayPhotoQueue addObject:queuePhoto];
                    [invocationOperationPhotos release];
                    [queuePhoto release]; 
```

这是我的 NSURLConnnection：

```
- (void) transferToServerAddimages:(NSArray *) arrayToAdd
{
NSLog(@"[NSOperationQueue currentQueue]: %@", [NSOperationQueue currentQueue]);

NSString *murphoAppPrefix = [[AppDelegate sharedAppDelegate] murphoAppPrefix];
// setting up the request object now
NSString *urlString = [murphoAppPrefix stringByAppendingString:@"addPhotos.php"];
NSMutableURLRequest *request = [[[NSMutableURLRequest alloc] init] autorelease];
[request setURL:[NSURL URLWithString:urlString]];
[request setHTTPMethod:@"POST"];

/*
 add some header info now
 we always need a boundary when we post a file
 also we need to set the content type
 */
// set header value ,   some random text that will never occur in the body
NSString *boundary = @"---------------------------14737809831466499882746641449";
NSString *contentType = [NSString stringWithFormat:@"multipart/form-data; boundary=%@",boundary];
[request addValue:contentType forHTTPHeaderField: @"Content-Type"];

/*
 now lets create the body of the post
 */
NSMutableData *body = [NSMutableData data];

//  email part    
[body appendData:[[NSString stringWithFormat:@"\r\n--%@\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];    
[body appendData:[[NSString stringWithFormat:@"Content-Disposition: form-data; name=\"email\"\r\n\r\n%@", self.trip.whoCreate.email] dataUsingEncoding:NSUTF8StringEncoding]];

//  password part
[body appendData:[[NSString stringWithFormat:@"\r\n--%@\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];    
[body appendData:[[NSString stringWithFormat:@"Content-Disposition: form-data; name=\"password\"\r\n\r\n%@", self.trip.whoCreate.psw] dataUsingEncoding:NSUTF8StringEncoding]];

//  image part
NSInteger subCount=0;
for (NSDictionary *aDict in arrayToAdd) {
    //  belonging part

    [body appendData:[[NSString stringWithFormat:@"\r\n--%@\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];    
    [body appendData:[[NSString stringWithFormat:@"Content-Disposition: form-data; name=\"r_whichShortTrip%d\"\r\n\r\n%@", subCount, [aDict objectForKey:@"r_whichShortTrip"]] dataUsingEncoding:NSUTF8StringEncoding]];

    [body appendData:[[NSString stringWithFormat:@"\r\n--%@\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];    
    [body appendData:[[NSString stringWithFormat:@"Content-Disposition: form-data; name=\"uniqueId%d\"\r\n\r\n%@", subCount, [aDict objectForKey:@"uniqueId"]] dataUsingEncoding:NSUTF8StringEncoding]];

    [body appendData:[[NSString stringWithFormat:@"\r\n--%@\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];    
    [body appendData:[[NSString stringWithFormat:@"Content-Disposition: form-data; name=\"createdTime%d\"\r\n\r\n%@", subCount, [aDict objectForKey:@"createdTime"]] dataUsingEncoding:NSUTF8StringEncoding]];

    UIImage *imageFile = [aDict objectForKey:@"image"];
    NSData *imageData = UIImageJPEGRepresentation(imageFile, 1.0);
    NSString *imageName = [[URLConnect createUUID] stringByAppendingString:@".jpg"];
    [body appendData:[[NSString stringWithFormat:@"\r\n--%@\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];    
    [body appendData:[[NSString stringWithFormat: 
                       @"Content-Disposition: form-data; name=\"image%d\"; filename=%@\r\n", subCount, imageName]                          dataUsingEncoding:NSUTF8StringEncoding]];  
    [body appendData:[[NSString stringWithString:@"Content-Type: application/octet-stream\r\n\r\n"] dataUsingEncoding:NSUTF8StringEncoding]];
    [body appendData:[NSData dataWithData:imageData]];
    [body appendData:[@"\r\n" dataUsingEncoding:NSUTF8StringEncoding]];

    UIImage *thumbnail = [aDict objectForKey:@"thumbnail"];
    NSData *thumbnailData = [NSData dataWithData:UIImageJPEGRepresentation(thumbnail, 1)];
    NSString *thumbnailName = [[URLConnect createUUID] stringByAppendingString:@".jpg"];
    [body appendData:[[NSString stringWithFormat:@"\r\n--%@\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];    
    [body appendData:[[NSString stringWithFormat: 
                       @"Content-Disposition: form-data; name=\"thumbnail%d\"; filename=%@\r\n", subCount++, thumbnailName]                          dataUsingEncoding:NSUTF8StringEncoding]];  
    [body appendData:[[NSString stringWithString:@"Content-Type: application/octet-stream\r\n\r\n"] dataUsingEncoding:NSUTF8StringEncoding]];
    [body appendData:[NSData dataWithData:thumbnailData]];
    [body appendData:[@"\r\n" dataUsingEncoding:NSUTF8StringEncoding]];
}

[body appendData:[[NSString stringWithFormat:@"\r\n--%@--\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];
// setting the body of the post to the reqeust
[request setHTTPBody:body];

// now lets make the connection to the web
[NSURLConnection connectionWithRequest:request delegate:self]; 
```

}

这是我的代表：

```
- (void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error
{
    [[[AppDelegate sharedAppDelegate] mArrayOfFailedConnection] addObject:connection];
     [connection cancel];
     connection = nil;
}

- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response
{
    NSLog(@"response: %@", response);
}

- (void)connectionDidFinishLoading:(NSURLConnection *)connection
{
    NSLog(@"connection: %@", connection);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-22T22:51:14.147

代表是`NSOperation`什么？一种可能性是您的操作正在调用`-[connectionWithRequest:delegate:]`并退出，这会导致它完成并被删除。`NSLog`在操作的 dealloc 中放入一个以查看它是否正在运行。

假设所有操作都是`NSURLConnection`事务，您不需要将事务包装在 an`NSOperation`中以获得并发，因为这些事务已经是异步的。但是，如果您真的想使用`NSOperation`（出于协调目的等），请将其设为“并发”并将其放在主队列中。那些比较棘手，但周围有例子。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T07:58:29.453

实际上，当您将操作选择器设置为“transferToServerAddimages”时，这意味着当此函数完全执行时，您的操作将完成，同样因为 NSUrlConnection 在启动它的同一个线程上调用它的委托，所以它很可能是那个线程（OperationQueue）在响应到达之前完成。如果您确实想使用 NSOperationQueue，那么更好的函数是 NSUrlConnection 的“sendAsynchronousRequest:queue:completionHandler:”。

# awk - 循环和合并2个文件

> ID：11304938
> 
> 赞同：0
> 
> 时间：2012-07-03T05:22:45.703
> 
> 标签：awk, paste

首先，请原谅我，我是菜鸟。我的问题如下：

我有 2 个文本文件 - file1 和 file2。以下是文件示例和所需的输出：

文件1：

```
A B C
D E F
G H I 
```

文件2：

```
a1 a2 a3
b1 b2 b3
c1 c2 c3 
```

期望的输出：

```
A B C a1 a2 a3
A B C b1 b2 b3
A B C c1 c2 c3
D E F a1 a2 a3
D E F b1 b2 b3
D E F c1 c2 c3 
```

等等。

有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T05:38:07.780

```
awk 'FNR == NR {file2[FNR] = $0; c++; next} {for (i = 1; i <= c; i++) {print $0, file2[i]}}' file2 file1 
```

将 file2 的所有行读入一个数组。对于 file1 的每一行，循环遍历数组并打印来自 file1 的行和来自 file2 的行。

在 Bash 中：

```
while read -r line
do
    file2+=("$line")
done < file2

while read -r line
do
    for line2 in "${file2[@]}"
    do
        echo "$line $line2"
    done
done < file1 
```

# google-apps-script - 将图像插入表格单元格谷歌文档

> ID：11304940
> 
> 赞同：1
> 
> 时间：2012-07-03T05:22:47.753
> 
> 标签：google-apps-script

我正在尝试将图像插入到谷歌文档（不是电子表格）内的表格单元格中。我可以将图像放入段落中，但无法直接插入表格或表格单元格。

建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T15:22:35.047

您需要调用 TableCell 的 insertImage() 方法。从您发布的示例代码看来，您正在调用 Document 上的该方法，这会将其插入到文档的根级别。

# java - 如何将 4GB 文件上传到 alfresco？

> ID：11304944
> 
> 赞同：2
> 
> 时间：2012-07-03T05:23:07.480
> 
> 标签：java, alfresco

现在我使用 Alfresco 4.0d，我只能上传 2GB 的文件。我想上传一个大小超过 4GB 的文件。如何自定义在 Alfresco 中上传 4GB 文件？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-12T04:14:28.943

默认情况下，您应该能够将 2GB 的文件上传到 Alfresco。

Alfresco 的 CMIS 接口默认最大上传大小为 4GB，您可以通过添加以下`alfresco-global.properties`行来消除此限制，[如文档中所述](http://docs.alfresco.com/community/pra/1/concepts/cmis-config.html)：

```
opencmis.maxContentSize=-1 
```

alf_data 在什么文件系统上？如果是FAT32，[那](https://stackoverflow.com/questions/4662412)就是问题所在。

# mfc - 在 MFC 应用程序中显示文本

> ID：11304947
> 
> 赞同：2
> 
> 时间：2012-07-03T05:23:22.583
> 
> 标签：mfc, drawtext

我需要在 MFC 应用程序中显示文本。我有一个示例文本，例如“在 mfc 应用程序中显示文本”。假设我打算在其中绘制此文本的客户端窗口非常小（水平），以至于一行中唯一可以容纳的文本是“显示文本”。不显示“mfc 应用程序”字样。我的问题是，如何确保这些单词显示在下一行，而不是仅仅被剪掉？我正在使用 drawtext 函数来显示文本。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T05:34:30.470

默认情况下，DrawText API 的行为完全符合您的需要，除非指定了 DT_SINGLELINE 格式。只需提供正确的 lpRect 参数。

[http://msdn.microsoft.com/en-us/library/windows/desktop/dd162498%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/dd162498%28v=vs.85%29.aspx)

MFC CDC::DrawText 方法具有相同的行为。

使用 GetClientRect 函数获取一个窗口矩形，并将这个矩形传递给 DrawText 方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-31T23:36:26.183

我也遇到了你报告的问题。并按照我在[https://stackoverflow.com/a/29241196/383779中的解释解决了它](https://stackoverflow.com/a/29241196/383779)

您首先需要`DrawText`使用`DT_CALCRECT`标志调用以了解要传递给`DrawText`真正起作用的矩形。

这很奇怪，但是……就是这样。MFC……你知道的。

# php - 如何在 yii 中使用相同模型的相同元素？

> ID：11304949
> 
> 赞同：1
> 
> 时间：2012-07-03T05:23:34.680
> 
> 标签：php, yii

我是 yii 的新手。我正在开发一个表格，其中我有一个注册表，我需要在其中获取学生的教育详细信息。这包括

```
 'Post Graduation',
                'Graduation' and 
                'Schooling' 
```

细节。每个都将具有通过年，资格等领域。

```
public function attributeLabels()
    {
        return array(
            'id' => 'ID',
            'user_id' => 'User',
            'qualification_id' => 'Qualification',
            'specialization_id' => 'Specialization',
            'pass_year' => 'Pass Year',
            'university_id' => 'University',
            'duration_from' => 'Duration From',
            'duration_to' => 'Duration To',
            'percentage_marks' => '% of Marks / GPA',
            'course_type_id' => 'Course Type',
            'awards' => 'Awards & Scholarships',
        );
    } 
```

我如何使用相同的模型来创建相似的元素来分别获取这些详细信息

```
 'Post Graduation',
                'Graduation' and 
                'Schooling' 
```

我尝试为模型创建不同的对象并将它们包含在表单中。

```
 $postGraduate = new CandidateQualification;
    $graduate = new CandidateQualification;
    $preGraduate = new CandidateQualification; 
```

但这会产生问题，因为它们都将具有相同的名称，并且验证也无济于事。请提供任何解决方案。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:46:05.760

使用[场景](http://www.yiiframework.com/wiki/266/understanding-scenarios/)的卢克。

> 场景是一个非常有用的工具，用于在您使用的任何从 CModel 派生的类上分离验证任务。在本教程中，我们将使用 CActiveRecord。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T06:23:00.580

对于此特定任务，您需要使用其他人提到的场景。[了解场景](http://www.yiiframework.com/wiki/266/understanding-scenarios/)。一旦你定义了这些，你`model`所需要的就是创建具有所需场景的类实例

例如你可以做

```
$studentModel = new student('pregrad');
$studentModel = new student('grad');
$studentModel = new student('postgrad'); 
```

并且当使用相同的验证渲染表单时`$studentModel`会有所不同

# c - 如何理解宏定义不变

> ID：11304952
> 
> 赞同：0
> 
> 时间：2012-07-03T05:24:22.817
> 
> 标签：c, c-preprocessor

实际上我有一个连续有宏的代码

我在这里想知道的是它们是如何在代码上真正工作的，因为我想通过看到下面的结果来编写自己的预处理器，我真的很惊讶

```
#define int char     //macro1
#define char float   //macro2
#define float int    //macro3
main()
{
 int x;
 char y;
 float z;
} 
```

我期望在预处理后文件中的代码是所有三个变量 x,y,z 作为 int,int,int

但令人惊讶的是（对我来说）类型没有改变，为什么会这样？谁能详细解释一下宏在预处理过程中是如何发挥作用的

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-03T05:30:04.873

宏扩展一直持续到扩展完成，宏不能递归扩展。您定义的每个宏都扩展为另一个宏，但在扩展变为递归时停止，这意味着类型保持不变。

# performance - 请求 grails 的模拟插件

> ID：11304957
> 
> 赞同：0
> 
> 时间：2012-07-03T05:25:07.607
> 
> 标签：performance, grails

我一直在寻找可用于模拟请求的 grails 插件。我有一个调用一些辅助方法的球衣服务，我正在尝试检查这些方法中的任何一个是否是瓶颈方法，我发现了这个**[JavaMelody Grails Plugin](http://grails.org/plugin/grails-melody)**，。但是，此工具不会创建请求模拟，而是测量实际流量。

有人知道可以深入到辅助方法级别的免费分析器吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T11:35:13.127

我认为 Jmeter 可以生成请求负载，您也可以使用[badboy](http://www.badboy.com.au/)这允许您记录然后在线程中播放，或者您可以选择导出 Jmeter 文件，以便用于更复杂的请求生成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T12:52:31.880

负载模拟器（如 Jmeter）的组合以及分析工具是您获得我认为您需要的各种信息的最佳选择。虽然我尽量不推广专有解决方案，但我认为 New Relic 会为您提供您所追求的各种实时分析。

# python - web.py 中的继承？

> ID：11304960
> 
> 赞同：0
> 
> 时间：2012-07-03T05:25:16.020
> 
> 标签：python, oop, wsgi, web.py, python-2.5

我目前正在开发 wep.py 应用程序。这是我的 web 应用程序，它与 web.py 和 wsgi 绑定。

根/main.py

```
import web
import sys
import imp
import os

sys.path.append(os.path.dirname(__file__))

#from module import module
from exam import exam
urls = (
    '/exam', 'exam'
)

application = web.application(urls, globals(), autoreload = True).wsgifunc() 
```

我的应用程序在根目录的 module.py 中有一个名为 module 的抽象类，其目的是由模块继承。

根/模块.py

```
class module:
    def fetchURL(self, url):
        # ...
        return content 
```

称为“exam”的较低级别模块将继承模块

根/考试/**初始化**.py

```
from module import module

class exam(module):
    def getResults(self):
        # error occurs here
        self.fetchURL('math.json') 
```

当我调用父方法时，web.py 引发异常

> WalkerError：（'意外的节点类型'，339）

环境：Python 2.5

我该如何解决这个问题？谢谢

// 编辑 7 月 3 日 10:22 GMT+0

堆栈跟踪如下

```
 mod_wsgi (pid=1028): Exception occurred processing WSGI script 'D:/py/labs_library/index.py'.
 Traceback (most recent call last):
   File "D:\csvn\Python25\lib\site-packages\web\application.py", line 277, in wsgi
     result = self.handle_with_processors()
   File "D:\csvn\Python25\lib\site-packages\web\application.py", line 247, in handle_with_processors
     return process(self.processors)
   File "D:\csvn\Python25\lib\site-packages\web\application.py", line 244, in process
     raise self.internalerror()
   File "D:\csvn\Python25\lib\site-packages\web\application.py", line 467, in internalerror
     return debugerror.debugerror()
   File "D:\csvn\Python25\lib\site-packages\web\debugerror.py", line 305, in debugerror
     return web._InternalError(djangoerror())
   File "D:\csvn\Python25\lib\site-packages\web\debugerror.py", line 290, in djangoerror
     djangoerror_r = Template(djangoerror_t, filename=__file__, filter=websafe)
   File "D:\csvn\Python25\lib\site-packages\web\template.py", line 845, in __init__
     code = self.compile_template(text, filename)
   File "D:\csvn\Python25\lib\site-packages\web\template.py", line 924, in compile_template
     ast = compiler.parse(code)
   File "D:\csvn\Python25\lib\compiler\transformer.py", line 51, in parse
     return Transformer().parsesuite(buf)
   File "D:\csvn\Python25\lib\compiler\transformer.py", line 128, in parsesuite
     return self.transform(parser.suite(text))
   File "D:\csvn\Python25\lib\compiler\transformer.py", line 124, in transform
     return self.compile_node(tree)
   File "D:\csvn\Python25\lib\compiler\transformer.py", line 167, in compile_node
     raise WalkerError, ('unexpected node type', n)
 WalkerError: ('unexpected node type', 339) 
```

如果可能的话，我想关闭模板功能，因为我仅将 python 用于移动应用程序的 JSON 输出。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T10:30:54.937

如果您创建 python 模块，则应`__init__.py`在层次结构顶部添加：

```
dvedit/
  __init__.py
  clipview.py
  filters/
    __init__.py 
```

这意味着在将通过导入的每个目录中都`from ... import ...`应该有`__init__.py`文件。

提供更多信息：[http ://wiki.cython.org/PackageHierarchy](http://wiki.cython.org/PackageHierarchy)

# matlab - 通过回调提供多个块

> ID：11304961
> 
> 赞同：2
> 
> 时间：2012-07-03T05:25:23.190
> 
> 标签：matlab, simulink

我为电池创建了一个库。我的模型包含该电池的多个实例，并且每个实例都应该使用 XLS 文件中的变量进行配置。

问题是我似乎无法找到一种方法来从预加载的回调中调用相同的函数并将局部变量写入该函数中的每个电池。如果我写入“基本”工作区，则每次调用该函数时都会覆盖这些值。

有人可以帮忙吗？

# java - (Eclipse RCP) 如何在工具栏中的菜单项后添加快捷方式文本？

> ID：11304962
> 
> 赞同：2
> 
> 时间：2012-07-03T05:25:35.550
> 
> 标签：java, eclipse, plugins, rcp

我想在工具栏中的菜单项后添加快捷方式文本。

例如，对于工具栏中的“复制”菜单项，工具栏中默认只有一个图像，工具提示将是“复制（Ctrl+C）”，我需要在复制菜单项的图像后添加“Ctrl + C” ，我做了很多搜索，但找不到更多有用的材料。

动作（例如 Copy ）也有一个快捷方式，例如“Ctrl + C”，当我们的鼠标悬停在菜单项上时，会显示“Copy (Ctrl+C)”，但是当我使用 Action.getText() ，我只能得到“复制”，而不是“复制（Ctrl + C）”

感谢您的帮助，这个问题困扰了我几天。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T08:16:16.813

您可以使用命令、动作和绑定轻松显示快捷方式。

第一的。在 org.eclipse.ui.commands 扩展中创建命令。第二，在 org.eclipse.ui.bindings 扩展中绑定快捷方式和命令。

如果这样做，快捷方式（ctrl+c）将出现在命令名称之后。

有有用的文章看教程：

如何制作命令：[http ://www.vogella.com/articles/EclipseCommands/article.html](http://www.vogella.com/articles/EclipseCommands/article.html)

键绑定：[http ://www.vogella.com/articles/EclipseCommandsKeybindings/article.html](http://www.vogella.com/articles/EclipseCommandsKeybindings/article.html)

它看起来很奇怪而且很难，但是如果你掌握了 eclipse 命令，它将成为 RCP 开发中最强大的扩展之一。

# solr - Solr 的 MoreLikeThis 功能：使用 SearchComponent 而不是 MLT 处理程序有什么好处？

> ID：11304966
> 
> 赞同：0
> 
> 时间：2012-07-03T05:26:15.720
> 
> 标签：solr

通过阅读 wiki，我不清楚使用搜索组件添加 mlt 和专门使用 MLT 处理程序之间的区别（优缺点）。这里的一些专家可以向我解释一下区别，优点和缺点吗？非常感谢！给我指一个清晰的文档也可以，因为我找不到任何文档。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T14:26:15.767

主要区别在[MoreLikeThis wiki 页面](http://wiki.apache.org/solr/MoreLikeThis#MoreLikeThisHandler)的末尾：

> 如果要过滤 MoreLikeThis 给出的类似结果，则必须使用 MoreLikeThisHandler。它将相似的文档结果集视为主要结果集，因此将对其应用指定的过滤器（fq）。如果您使用 MoreLikeThisComponent 并应用查询过滤器，它将应用于主查询 (QueryComponent) 返回的结果集，而不是 MoreLikeThisComponent 返回的结果集。

# html - Rails 邮件打印

> ID：11304967
> 
> 赞同：1
> 
> 时间：2012-07-03T05:26:20.043
> 
> 标签：html, ruby-on-rails, ruby-on-rails-3, email, actionmailer

我使用邮件程序向包含优惠券的用户发送 HTML 丰富的电子邮件。每封电子邮件最多可能有大约 10 张优惠券，但我想为每封电子邮件添加一个打印链接，以便他们只打印那张。我怎样才能最好地完成这一点。

mail.html.erb（没有样式）

```
<body>
  <table width="100%" id="background" border="0" cellpadding="0" cellspacing="0">
    <tr><td align="center" valign="top">
      <table width="650" id="main" border="0" cellpadding="0" cellspacing="20">
        <tr>
          <td id="header" colspan="2">
            <a href="http://abc.com/"><img src="https://##.png" width="400" height="176" alt="Remindeals"></a>
            <h3>Hello <%= @user.name %>  this email is to remind you that you have  an occasion coming up in 2 weeks!</h3>
          </td>
        </tr>
        <tr>
          <td class="divider" colspan="2" bgcolor="#555555" height="2"></td>
        </tr>

        <% @deals.each do |d| %>
        <tr class="episode">
          <td>
            <a href="#"><img src="#.png" width="200" height="125" alt="#310 Getting Started with Rails"></a>
          </td>
          <td valign="top">
            <h2><%= d.store.name %></h2>
            <h2><%= d.title %></h2>
            <p><%= d.description %></p>
            <p>
              <a href="#">Print</a>

            </p>
          </td>
        </tr>
          <%end%>
      </table>
    </td></tr>
  </table>
</body> 
```

# javascript - 显示滚动条 onmousehover [javascript]？

> ID：11304969
> 
> 赞同：0
> 
> 时间：2012-07-03T05:26:34.503
> 
> 标签：javascript

我需要在类似于 facebook 或 gmail 的 div 上显示鼠标悬停时的滚动条。有没有免费的 JS 库呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T05:30:59.393

如果 div 的溢出属性设置为隐藏，您可以将其设置为在悬停时滚动。

```
div.onmouseover =function () {
    this.style.overflow = "scroll";
} 
```

也可以仅使用 css 来完成。

```
#divId {
   overflow:hidden;
   height: 100px;
}
#divId:hover {
   overflow:scroll
} 
```

# ruby-on-rails - ROR 3 - 密码重置的设计和安全问题

> ID：11304970
> 
> 赞同：2
> 
> 时间：2012-07-03T05:26:39.343
> 
> 标签：ruby-on-rails, devise

我正在使用 Devise gem 进行 Web 服务的用户身份验证，该服务允许人们为与 Internet 无关的付费服务注册他们的详细信息，

我遇到的问题是有些人没有电子邮件（只有少数人），而那些有电子邮件的人通常是公司电子邮件，它正在阻止/删除 ROR 应用程序发送的电子邮件。

因此，为了解决电子邮件问题，我想实现一个允许人们重置密码而无需单击密码重置电子邮件中发送的重置令牌的系统，我最初的想法是实施这个推荐的解决方案[http:// www.fishnetsecurity.com/Resource_/PageResource/White_Papers/FishNetSecurity_SecureForgotPassword.pdf](http://www.fishnetsecurity.com/Resource_/PageResource/White_Papers/FishNetSecurity_SecureForgotPassword.pdf)

这个问题基本上问了同样的问题[Rails 3.0 Devise reset Password by answering a question](https://stackoverflow.com/questions/4805374/rails-3-0-devise-reset-password-by-answering-a-question)（但没有真正的答案）

我想我需要重写设计密码控制器来询问用户一组安全问题，用户在他们第一次注册时回答了这些问题。如果他们回答正确，则允许用户重置密码。

有人有更好的解决方案吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T15:49:29.493

您可以像现在一样使用 before_filter（在 ApplicationController 中）

```
before_filter :authenticate_user! 
```

你可以添加

```
before_filter :authenticate_user!
before_filter :security_question_answered! 
```

然后在 SecurityQuestionsController

```
skip_before_filter :security_question_answered! 
```

# eclipse - 添加powermock时Maven缺少工件

> ID：11304971
> 
> 赞同：2
> 
> 时间：2012-07-03T05:26:51.413
> 
> 标签：eclipse, spring, maven, powermock

我正在使用 Eclipse 并使用 Maven 管理我的依赖项。我想在我的项目中使用 powermock。

我的项目依赖于另一个使用 Spring 3.0.4.RELEASE 的项目。我将此项目添加到 Maven 中。

当我添加一个 powermock 依赖项时，我的 pom.xml 说我的项目缺少工件。但是当我检查我的“Maven 依赖项”时，所有的罐子都在那里。

我试过“Maven Clean”，打开和关闭项目，重建它，但每次我在我的 pom 中添加 powermock 时，它都会说缺少工件。

有没有人遇到这个问题并解决它？

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T08:00:47.017

请参阅此处了解如何将 powermock (mockito/JUnit) 添加到您的 POM： [http ://code.google.com/p/powermock/wiki/Mockito_maven](http://code.google.com/p/powermock/wiki/Mockito_maven)

# ios - iOS BLE 应用程序中的重新连接过程

> ID：11304974
> 
> 赞同：4
> 
> 时间：2012-07-03T05:27:00.757
> 
> 标签：ios, bluetooth, core-bluetooth, bluetooth-lowenergy

考虑一个场景，我通过运行 iOS 5.1 的 iPhone 4S 与对等设备建立了绑定连接。

然后由于某种原因（用户启动或其他原因）断开连接。

在这种情况下，如果应用程序必须自动重新连接到先前配对的设备，据我所知，Apple 公开了 APIretrieve_peripheral，它应该给回调 did_retrieve_peripheral 并填充先前连接或配对的外围结构。

并且使用这个外围实例，我可以比较我之前配对的 uuid，如果匹配项可以尝试连接（重新连接）。但我无法获取外围设备，因为在检索外围设备回调时计数为 0。

我错过了什么吗？

也有人尝试在应用程序中复制或存储整个外围结构，其中包括（在外围设备中发现的服务、特征等）。并在重新连接中使用它。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-12T19:40:43.157

要使用retrievePeripheral API，您需要将CBPeripheral UUID 保存在某处（我使用CoreData）。retrievePeripheral 调用将 UUID 的 NSArray 作为参数。看起来您没有将保存的 UUID 提供给您的 retrievePeripheral 调用。当您的 didRetrievePeripherals 回调被调用时，您将获得一个 CBPeripheral 对象数组。然后，您可以重新连接到这些外围设备。您不需要扫描这些，也不需要与外围设备配对。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-20T15:28:29.703

我有同样的问题，我认为一个解决方案：当连接丢失时，master必须以与我们扫描和连接相同的方式扫描外围设备，并且slave必须传递到广告状态并且两者都必须识别特征服务uuid​​和特征再次服务。

这就是我要尝试重新连接的方式。

当然，我认为我们必须使用更多功能自行刷新

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-07-26T14:54:39.590

成功连接到设备后，您应该保存外围 UUID (peripheral.identifier.UUIDString)。我正在使用 NSUserDefaults 来保存 UUID。

当您想连接到设备时，请使用 CBCentralManager *retrievePeripheralsWithIdentifiers 中的以下方法：*并将 UUID 作为参数传递。这将返回一个 CBPeripheral 数组，找到你的并连接到它。

不要试图将 CBPeripheral 对象保存在任何地方。这是一个非常糟糕的主意。只需使用它的 UUID。

如果您的设备已经连接到手机，您可以使用 CBCentralManager 中的 retrieveConnectedPeripheralsWithServices 方法*检索*CBPeripheral 对象。您需要将外围设备正在使用的服务作为参数传递。

# android - Android Rooted 如何在不从 PC 运行服务（run.bat）的情况下运行 ASL（Android 截图库）？

> ID：11304975
> 
> 赞同：0
> 
> 时间：2012-07-03T05:27:19.490
> 
> 标签：android, root

我想开发一个与 ASL（Android 屏幕截图库）具有相同功能的应用程序。要首先运行 ASL，我们需要从 Adb 调用服务。我想避免这种情况，而且我想将 ASL-native 文件保留在移动设备本身中。以及想从我们的应用程序调用服务。怎么做 ？？

**注意：**我正在尝试单独获取根移动支持。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:30:22.170

如果您的设备已root，则避免使用ASL，只需创建一个可以读取设备帧缓冲区并从中制作图像（png或jpg）文件的服务。看看[**ASL**](http://code.google.com/p/android-screenshot-library/)和[**fb2png**](http://code.google.com/p/android-fb2png/)的代码，它们是如何读取帧缓冲区并将其转换为图像的。

[**ddmlib**](http://sourceforge.net/apps/trac/android4maven/wiki/ddmlib)也可以帮助您，它是**Android DDMS**用于图像捕获功能的库。

**编辑：**

在根设备上

```
process = Runtime.getRuntime().exec("su -c cat /dev/graphics/fb0");
InputStream is = process.getInputStream(); 
```

并且也在清单文件中给予许可： `READ_FRAMEBUFFER`

# windows-8 - 跨 Windows 8 Metro 平台的语言支持是什么？

> ID：11304979
> 
> 赞同：0
> 
> 时间：2012-07-03T05:27:44.907
> 
> 标签：windows-8, windows-runtime, tablet

我对即将推出的 Microsoft Surface 平板电脑感到兴奋，但我对平板电脑、手机和 PC Windows 8/RT 平台之间的差异感到困惑。

我为开发人员找到了以下 API：

[http://msdn.microsoft.com/en-us/library/windows/apps/br211369.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/br211369.aspx)

但我不清楚手机、平板电脑和 PC 是否支持所有这些 Javascript/C#/C++。

如果我想使用提供的 Microsoft API 来编写与 Windows 8 平板电脑、手机和台式电脑兼容的应用程序，我是否只需要使用 Metro 风格应用程序的 API？还是根据设备对语言和 API 功能有进一步的限制？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:51:30.453

我相信基于设备的API会有差异。我认为在所有设备上都有所有 API 是没有意义的——例如手机上的所有鼠标相关事件。

我认为他们似乎在每个设备上创建具有公共子集和外观非常相似的编程模型的不同 API 配置文件——因此移植代码应该非常容易——特别是如果它的设计考虑到了可移植性。

例如，在 C# 方面，.NET 可移植库有助于创建在设备上跨不同 Windows 版本的二进制兼容的程序集。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T14:32:28.640

Surface 平板电脑是非常棒的 Windows 8 PC。他们不需要专门的 API 集虽然也许会有额外的 API 可用于从精美的触控封面获取输入……我不知道他们还没有说。同样，他们也没有提供任何有用的细节来说明 Windows Phone 8 与 Windows 8 有多少共同点。我们所知道的是，Windows Phone 7 与 Windows 8 非常*不*兼容——而许多基础知识是相同的在不同平台之间，可用的 API 和工作方式存在很大差异。

因此，在桌面或 Surface（它们是完全相同的平台）上，您可以将 Win8 API 用于使用 JS、VB、C# 或 C++ 的 Metro 风格应用程序。在 WP7 上，它只是 C# 或 VB。在 WP8 上，已经宣布我们将获得 C++ 的附加选项，而不是 JS。

# php - 正则表达式与 URL 不匹配

> ID：11304981
> 
> 赞同：1
> 
> 时间：2012-07-03T05:27:55.753
> 
> 标签：php, regex, url

我想运行这个 PHP 函数——

```
$querystring_arr='maxResults=50&startIndex=50&sort=date';
$str=preg_replace("(&startIndex=)?[0-9]*(&)?","&startIndex=".$sindex."&",$querystring_arr); 
```

当我`print $str`给出错误时：

```
Warning: preg_replace() [function.preg-replace]: Unknown modifier '\' in C:\xampp\htdocs\myapp\paginator.class.php on line 112 
```

请问，我的正则表达式哪里错了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-03T05:31:43.813

你需要用分隔符包装你的正则表达式。

```
preg_replace("/(&startIndex=)?\d*&?/","&startIndex=".$sindex."&",$arr); 
```

或者，不要使用正则表达式并使用 PHP 提供的内容。

```
parse_str($str, $params);

if (get_magic_quotes_gpc()) {
    $params = array_map('stripslashes', $params);
}

$params["startIndex"] = $sindex;

$str = http_build_query($params); 
```

# php - 订单跟踪剩余

> ID：11304982
> 
> 赞同：0
> 
> 时间：2012-07-03T05:28:06.523
> 
> 标签：php, mysql, date

我有以下 Mysql 表

```
Order table 
status 0 - incomplete
status 1 - complete  

PO_invoice| Company| transactionType| Amt_Paid | Balance | Status| dateCreated|
 1001     | Astek  |               3|     10000|    10000|    0  |2012-10-15  |
 1002     | Asrack |               2|     20000|        0|    1  |2012-10-20  | 
```

**交易表**

它包含付款方式的说明

*   如果是类型 1，则应在同一天支付全部金额
*   如果输入 2，那么 50% 在同一天及之后
*   30 天 应支付其他 50% 的金额
*   如果输入 3，则在同一天及之后的 60%
*   60 天 应支付其他 60% 的金额

    ```
    transactionType | noDays | PercentSplit  |

                   1|      0 |            0  |
                   2|     30 |            50 |
                   3|     60 |            60 | 
    ```

我正在尝试跟踪应付款的订单

目前我正在加入关于事务类型和状态 0 的两个表

```
$query = "select Order.PO_invoice, Order.Company, Order.Amt_Paid, Order.Balance,
          Order.dateCreated, Transaction.noDays,Transaction.PercentSplit 
          INNER JOIN Transaction
          ON Order.transactionType = Transaction.transactionType AND
           Order.status =0" 
```

并在 PHP 中循环，并检查是否

```
currentTime - Order.dateCreated  > = Transaction.noDays 
```

如果是则显示该行，否则跳过该行。

我想知道是否有办法仅在 MYSQL 中执行此操作并仅返回这些行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:37:27.323

你有没有尝试过 -

```
WHERE DATEDIFF(NOW(),Order.dateCreated) >= Transaction.noDays 
```

# c# - WPF 中是否存在类似 FlipView 的控件？

> ID：11304983
> 
> 赞同：1
> 
> 时间：2012-07-03T05:28:20.673
> 
> 标签：c#, wpf, silverlight, xaml, itemscontrol

我使用了 Metro Applications 中的 FlipView，而这正是我想要寻找的。有一个项目控制，但只显示其中一个。

我正在寻找类似 FlipView 但在 WPF 中的控件。

我已经到达，但我没有找到任何东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:36:52.083

你可以看看下面的文章——

[快速入门：为您的 UI 制作动画（使用 C#/VB/C++ 和 XAML 的 Metro 风格应用程序）](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh452703.aspx)

我认为他们做了你想要的。

使用`silverlight`或`wpf`

# android - 存储 android 应用程序付费内容的最佳方式是什么？

> ID：11304985
> 
> 赞同：0
> 
> 时间：2012-07-03T05:28:32.147
> 
> 标签：android

我正在开发一个包含付费视频的 android 应用程序，用户将能够下载该视频。但我不确定下载后我要保存在哪里。由于这些是付费视频，所以用户不能复制和粘贴。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T06:19:26.133

作为视频，我猜它们会很大，所以唯一真正的选择是将它们存储在 SD\USB 存储上，但这确实意味着它们可以自由移动和复制。

您可以将它们限制为内部存储，但在某些设备上空间将是一个问题，如果设备被植根，您将失去保护。

也许禁止植根设备和流式传输视频是唯一安全的选择。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T06:46:27.617

Let user save anywhere their prefer (SD/USB storage), for secure content we must protect from both side: server and client. For client we can archive secure content by:

Step1: Encrypt content before save (Key generate base one user or device specific, or get key from server... or what ever combination )

Step2: When play we will decrypt content to piece of content then play with buffer data

Another keyword you may be want to try is DRM (Digital rights management) Hope it help.

# ruby-on-rails - 在 ruby on rails 中提交表单时显示结果数据而不刷新页面

> ID：11304989
> 
> 赞同：1
> 
> 时间：2012-07-03T05:29:02.763
> 
> 标签：ruby-on-rails, ruby, jquery, partial-page-refresh, form-submit

我对 ruby​​ on rails 很陌生。我遇到了一个问题。我有一个主题列表，在这个列表下面我有一个添加主题的表格。我正在尝试在不刷新页面的情况下添加一个主题，并将该主题显示在主题列表的下方。新添加的主题正在插入数据库中，但在没有页面刷新的情况下不会显示在列表底部。这是我的控制器（subject_controller.rb）

```
 class SubjectController < ApplicationController
    layout 'standard'
    def list
        @subjects = Subject.find(:all)
    end
   def show
        @subject = Subject.find(params[:id])
   end
   def create
        @subject = Subject.new(params[:subject])
        if @subject.save
            render :partial => 'subject', :object => @subject
        end
   end
end 
```

这是我的部分文件（_subject.html.erb）

```
<li id="subject_<%= subject.id %>">
<%= link_to subject.name, :action => 'show', :id => subject.id %>
<%= "(#{subject.books.count})" -%>
</li> 
```

这是我的视图页面（list.html.erb）

```
<ul id="subject_list">
<% @subjects.each do |c| %>
<li><%= link_to c.name, :action => 'show', :id => c.id %>
<%= "(#{c.books.count})" -%></li>
<% end %>
</ul>
<div id="add_subject">
<%= form_for(:subject, :url => {:action => 'create'},
     :update => "subject_list", :position => :bottom,
     :html => {:id => 'subject_form'}, :remote => true) do %>
Name: <%= text_field "subject", "name" %>
<%= submit_tag 'Add', :id => 'create_button', :onClick => 'javascript:submitForm();' %>
<% end %>
</div> 
```

这是我的js文件

```
function submitForm(){
jQuery.ajax({
        type: 'POST',
        //url: "/subject/create",
        data:jQuery('#subject_form').serialize(),
        error: function(){  },
        success: function(data){ alert(data) },
        complete: function (){   }
        });
    return false;
 } 
```

我正在使用 ruby​​ 1.9.3 和 rails 3.2.6

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T05:00:46.997

您应该执行以下操作 -

1.  在你的 list.html.erb 替换

    ```
    <%= submit_tag 'Add', :id => 'create_button', :onClick => 'javascript:submitForm();' %> 
    ```

和

```
<%= submit_tag 'Add', :id => 'create_button' %> 
```

2.创建一个新视图create.js.erb，内容如下——

```
$("#subject_list").innerHTML += "<%= escape_javascript(render(:partial => 'subject')) %>" 
```

3.更新你的控制器方法 -

```
 if @subject.save
        #render :partial => 'subject', :object => @subject
        respond_to do |format|
            format.js
        end
    end 
```

4.最后在你的主题部分使用实例变量“@subject”而不是“主题”并丢弃你的js文件。

# javascript - notification.confirm 回调没有触发 phonegap iOS

> ID：11304990
> 
> 赞同：0
> 
> 时间：2012-07-03T05:29:27.527
> 
> 标签：javascript, iphone, ios, cordova

我正在使用 Phonegap (Cordova) v1.9，这个应用程序仅供 iPhone4+ 使用。

我已经尝试了以下两种方法，分别单独和同时进行。

Phonegap 的`deviceready`事件在此代码之前已被触发。

我正在使用 iPhone 配置实用程序来观看控制台，但我没有从下面的代码中得到任何信息。

另外，我正在使用 Sencha Touch (v1.1) 和 jQuery。整个应用程序没有发现任何冲突。

请帮忙？

```
function onConfirmCallback(button){
    console.log("onConfirmCallback");
    console.log(button);
}

var toConfirm = navigator.notification.confirm("You don't have a pincode set.\nWould you like to set one now?", onConfirmCallback, "Pincode", "Yes,No");
toConfirm.onAlertDismissed = function(index, label){
    console.log("onAlertDismissed");
    console.log(index);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-03T05:59:42.923

您是否尝试过寻找异常以查看可能发生的情况？

```
try
{
    var toConfirm = navigator.notification.confirm("You don't have a pincode set.\nWould you like to set one now?", onConfirmCallback, "Pincode", "Yes,No");
    toConfirm.onAlertDismissed = function(index, label) {
        console.log("onAlertDismissed");
        console.log(index);
    }
}
catch (ex)
{
    console.log(ex.message);
} 
```

**编辑：**

下面评论中提到的示例（来自[https://groups.google.com/group/phonegap/browse_thread/thread/126f56f4e296e555](https://groups.google.com/group/phonegap/browse_thread/thread/126f56f4e296e555)）适用于 PhoneGap 0.9.2。我还没有看到 v1.3 的任何示例，其中确认函数返回一个对象作为您与“toConfirm”一起使用的对象。也许这导致了你的问题。您是否尝试过以下操作（删除所有其他代码以`toConfirm`简化问题）？

```
navigator.notification.confirm("You don't have a pincode set.\nWould you like to set one now?", onConfirmCallback, "Pincode", "Yes,No"); 
```

[http://docs.phonegap.com/en/1.3.0/phonegap_notification_notification.md.html#notification.confirm](http://docs.phonegap.com/en/1.3.0/phonegap_notification_notification.md.html#notification.confirm)

另外，您是否有任何理由不使用较新版本的 PhoneGap (Cordova)？

# php - 根据单词过滤内容

> ID：11304996
> 
> 赞同：0
> 
> 时间：2012-07-03T05:29:52.600
> 
> 标签：php, mongodb

对于我正在进行的项目，我会显示从 Twitter Streaming API 收到的推文。在显示推文之前，我需要根据黑名单单词列表检查每个单词。

目前，我在 MongoDB 集合中拥有所有列入黑名单的单词。

我想到的最明显的方法是爆炸推文以获取每个单词，然后针对推文中的每个单词，检查黑名单集合中是否包含该单词。

但是，这意味着我显示的每条推文都需要 20 次数据库调用。

有没有更好的方法来解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T05:37:21.270

我会从数据库中获取所有列入黑名单的单词，将它们作为字符串（用 分隔`|`）存储在一个变量中，并用于[`preg_match()`](http://php.net/manual/en/function.preg-match.php)查看推文中是否有任何内容。

```
$blacklist = 'blacklisted|words';
if (preg_match('/\b(' . $blacklist . ')\b/i', $tweet))
{
    // Don't show
}
else
{
    // Show the tweet
} 
```

# javascript - 切换threejs控件（从TrackBall到FlyControls，反之亦然）

> ID：11304998
> 
> 赞同：7
> 
> 时间：2012-07-03T05:29:55.157
> 
> 标签：javascript, three.js

我想要实现的是有两种控制模式，一种是自由的“飞行”模式，一种是以对象为中心的模式（轨迹球），按下按钮可以在它们之间无缝切换。

我最初尝试使用 TrackBallControls 和 FlyControls。这两者的问题在于 TrackballControls 基于欧拉角，而 FlyControls 基于四元数。我尝试通过执行将 camera.rotation 向量转换为四元数，

```
quaternion.setFromEuler( target ); //where target, a Vector3 that contains degrees 
```

并手动设置位置（因为他们使用相同的位置对象），虽然它似乎正在工作，但稍微旋转相机 - 并切换控制，开始产生可怕的错误结果。此外，从四元数 (setEulerFromQuaternion) 中获取欧拉角会导致错误数据。

所以，虽然我能够在它们之间切换，但我永远无法同步它们的旋转坐标，所以当相机位置正确时“打开”，旋转是错误的。

PS。我对 FirstPersonControls（欧拉角）也有一些结果，但是它使用的屏幕 lat,long 方法很容易出错，并且在 Z 轴旋转时完全失败。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-03T10:59:58.793

这样的事情呢？

```
function onClick() {

    var prevCamera = camera;

    camera = new THREE.PerspectiveCamera(...);
    camera.position.copy( prevCamera.position );
    camera.rotation.copy( prevCamera.rotation );

    var MODE = { TRACKBALL: 0, FLY: 1 };

    switch( mode ) {

        case MODE.FLY:

            controls = new THREE.TrackballControls( camera );

            mode = MODE.TRACKBALL;

            break;

        case MODE.TRACKBALL:

            controls = new THREE.FlyControls( camera );

            mode = MODE.FLY;

            break;

    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-01-21T21:10:14.630

制作一个新相机是解除所有使用之前控件设置的键盘/鼠标事件的最简单方法。如果您不这样做，您将在飞行模式打开时触发轨道控制事件。

# java - 为什么使用 Spring 3.1 WebMvcConfig 进行单元测试会失败？

> ID：11304999
> 
> 赞同：22
> 
> 时间：2012-07-03T05:29:56.080
> 
> 标签：java, spring, spring-3

[从 Spring 3.1 开始，借助@Enable*](http://static.springsource.org/spring/docs/current/spring-framework-reference/html/new-in-3.1.html#d0e1343)注释，我们可以更轻松地使用 JavaConfig 。

所以我做了一个 WebConfig 来设置 WebMvc 配置，并尝试测试它。但是，如果我使用 WebConfig 扩展 WebMvcConfigurerAdapter 或 WebMvcConfigurationSupport，则单元测试会因缺少 ServletContext 而失败。代码和消息如下所示。

WebConfig.java

```
@Configuration
@EnableWebMvc
public class WebConfig extends WebMvcConfigurationSupport {} 
```

测试.java

```
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(classes=WebConfig.class)
public class TestFail {
    @Test
    public void test() {}
} 
```

信息

```
java.lang.IllegalStateException: Failed to load ApplicationContext
    at org.springframework.test.context.TestContext.getApplicationContext(TestContext.java:157)
    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:109)
    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:75)
...
Caused by: java.lang.IllegalArgumentException: A ServletContext is required to configure default servlet handling
    at org.springframework.util.Assert.notNull(Assert.java:112)
    at org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer.<init>(DefaultServletHandlerConfigurer.java:54)
    at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.defaultServletHandlerMapping(WebMvcConfigurationSupport.java:253)
    at com.zum.news.comments.web.WebConfig$$EnhancerByCGLIB$$8bbfcca1.CGLIB$defaultServletHandlerMapping$10(<generated>)
    at com.zum.news.comments.web.WebConfig$$EnhancerByCGLIB$$8bbfcca1$$FastClassByCGLIB$$19b86ad0.invoke(<generated>)
    at net.sf.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:215)
    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:280)
    at com.zum.news.comments.web.WebConfig$$EnhancerByCGLIB$$8bbfcca1.defaultServletHandlerMapping(<generated>)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:149)
    ... 41 more 
```

如何正确地对 WebConfig 进行单元测试？

**编辑**

正如 Garcia 所说，这个 bug 已在 Spring 3.2.0.RC1 中修复。

只需在测试类中添加[@WebAppConfiguration注解即可。](http://static.springsource.org/spring/docs/3.2.0.BUILD-SNAPSHOT/api/org/springframework/test/context/web/WebAppConfiguration.html)

```
@RunWith(SpringJUnit4ClassRunner.class)
@WebAppConfiguration
@ContextConfiguration(classes=WebConfig.class)
public class TestFail {
    @Test
    public void test() {}
} 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2014-01-09T13:38:44.003

正如 Guido 之前提到的，这已在 3.2 中得到解决。以下是如何利用新测试改进的详细信息。为确保为您的测试加载 servlet 上下文，您需要使用`@WebAppConfiguration`并定义`AnnotationConfigWebContextLoader`为您的上下文加载器来注释您的测试，如下所示：

```
@RunWith(SpringJUnit4ClassRunner.class)    
@WebAppConfiguration
@ContextConfiguration(
    classes = MyWebConfig.class, 
    loader = AnnotationConfigWebContextLoader.class)
public class MyTest {
    //...
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-07-03T07:20:06.257

如果`@EnableWebMvc`注释需要`ServletContext`，那么我建议将您的配置拆分为 bean 定义，这些定义将用于单元测试和应用程序和框架使用的其他配置。在这种情况下，应用程序将同时导入配置，而单元测试将只导入一个。

`BeansConfig.java`：

```
@Configuration
public class BeansConfig {
    @Bean
    MyBean myBean() {
        return new MyBean()
    }
} 
```

`WebConfig.java`：

```
@Configuration
@EnableWebMvc
@Import(BeansConfig.class)
public class WebConfig extends WebMvcConfigurationSupport {} 
```

`TestFail.java`：

```
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(classes=BeansConfig.class)
public class TestFail {
    @Test
    public void test() {}
} 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-10-17T22:28:07.417

Spring 3.1有一个bug，你可以在这两个问题中找到答案：

*   [https://jira.springsource.org/browse/SPR-5243](https://jira.springsource.org/browse/SPR-5243)
*   [https://jira.springsource.org/browse/SPR-9799](https://jira.springsource.org/browse/SPR-9799)

如果您找到 Spring 3.1 的解决方法，请告诉我们，如果没有，我们必须等到 3.2 发布。我不得不说我刚刚用 Spring 3.2.0.M2 尝试过，但它仍然不适合我。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-03T11:13:20.053

我的另一个建议是使用[spring-test-mvc](https://github.com/SpringSource/spring-test-mvc)，它在内部创建一个模拟 servlet 上下文以供控制器测试工作。

如果您想继续使用您的方法，则可能必须创建自己的 Spring Context 加载器，该加载器另外初始化 Mock servlet 上下文 - 沿着这些线： [http ://tedyoung.me/2011/02/14/spring-mvc- integration-testing-controllers/](http://tedyoung.me/2011/02/14/spring-mvc-integration-testing-controllers/)，来自[Spring-test-mvc 源](https://github.com/SpringSource/spring-test-mvc/blob/master/src/test/java/org/springframework/test/web/server/samples/context/GenericWebContextLoader.java)