# StackOverflow 问答 11288000-11288999

# asp.net-mvc-3 - 如何在 asp.net mvc 3 中创建强类型单选按钮列表？

> ID：11288006
> 
> 赞同：1
> 
> 时间：2012-07-02T05:04:11.110
> 
> 标签：asp.net-mvc-3, c#-4.0

我正在尝试创建一个强类型的单选按钮列表。我不知道如何从 HtmlExtensionClass 中的 ModelMetaData 中获取操作列表？动作列表通过 Index 动作中的 MyViewmodel 传入。

助手类 c#

```
 public static class HtmlExtensions
    {

        public static MvcHtmlString RadioButtonForList<TModel, TProperty>(
           this HtmlHelper<TModel> htmlHelper, Expression<Func<TModel, TProperty>> expression
       )
        {
            var metaData = ModelMetadata.FromLambdaExpression(expression, htmlHelper.ViewData);

            //var actions =  metaData.ModelType; //? how can i get my list of actions in here?

            var sb = new StringBuilder();

            foreach (var action in actions)
            {
                var id = string.Format(
                    "{0}_{1}_{2}",
                    htmlHelper.ViewData.TemplateInfo.HtmlFieldPrefix,
                    metaData.PropertyName,
                    action
                );

                var radio = htmlHelper.RadioButtonFor(expression, action, new { id = id }).ToHtmlString();
                sb.AppendFormat(
                    "<label for=\"{0}\">{1}</label> {2}",
                    id,
                    HttpUtility.HtmlEncode(action),
                    radio
                );
            }
            return MvcHtmlString.Create(sb.ToString());
        }
    } 
```

控制器索引动作

```
 public ActionResult Index()
        {
            List<PageAction> actionslist = new List<PageAction>();
            actionslist.Add(new PageAction() { action = "View" });
            actionslist.Add(new PageAction() { action = "Edit" });
            actionslist.Add(new PageAction() { action = "Create" });

            return View(new MyViewModel
            {
                actions = actionslist
            });
        }

  public class PageAction
    {
        public string user { get; set; }
        public string action { get; set; }
    }

    public class MyViewModel
    {
        public List<PageAction> actions { get; set; }
    } 
```

看法

```
@model radioButtonlist.Models.MyViewModel
@using radioButtonlist.Models;           

@using (Html.BeginForm())
{
    @Html.RadioButtonForList(x => x.actions)
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:26:36.657

actions 属性是一个列表`PageAction`。因此，您可以强制帮助器将 lambda 表达式作为参数，该表达式返回此自定义类型的列表，以便在帮助器内部您可以访问`action`和`user`属性：

```
public static class HtmlExtensions
{
    public static MvcHtmlString RadioButtonForList<TModel>(
        this HtmlHelper<TModel> htmlHelper, 
        Expression<Func<TModel, IEnumerable<PageAction>>> expression
    )
    {
        var metaData = ModelMetadata.FromLambdaExpression(expression, htmlHelper.ViewData);
        var actions = metaData.Model as IEnumerable<PageAction>;

        var sb = new StringBuilder();

        foreach (var pageAction in actions)
        {
            var id = string.Format(
                "{0}_{1}_{2}",
                htmlHelper.ViewData.TemplateInfo.HtmlFieldPrefix,
                metaData.PropertyName,
                pageAction.action
            );

            var radio = htmlHelper.RadioButtonFor(expression, pageAction.action, new { id = id }).ToHtmlString();
            sb.AppendFormat(
                "<label for=\"{0}\">{1}</label> {2}",
                id,
                HttpUtility.HtmlEncode(pageAction.action),
                radio
            );
        }
        return MvcHtmlString.Create(sb.ToString());
    }
} 
```

# iphone - 如何解析iphone中的网页，以及如何从该网页的表格中获取部分数据？

> ID：11288009
> 
> 赞同：1
> 
> 时间：2012-07-02T05:04:21.613
> 
> 标签：iphone, ios

我是 iphone 新手，我正在尝试解析网页。在那个网页中，我们的目录

以国家、代码、位置、人口为首。如果我们点击任何国家名称，那么它

导航到另一个页面。我的意图是从中获取县名和国家/地区代码

网页并在我的应用程序中使用。请帮助我这样做。谢谢你

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-02T06:36:34.250

您可以为此目的使用任何 3rd 方库（例如[MKNetworkKit](https://github.com/MugunthKumar/MKNetworkKit)）或仅使用基本的`NSURLConnection`. 之后，您将收到响应中的 HTML，可以对其进行解析并用于您想要的任何内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-02T06:36:47.867

如果您使用的是 UIWebView，则可以从您的应用代码在您的网页上执行任何自定义 javascript 代码。因此，如果您熟悉 javascript、DOM 和 HTML（也许还有 CSS），那对您来说不是问题。

例如，假设您的网页中有一个 id = "country" 的 div（或其他任何东西，tr、td 或任何具有 HTML 内容的东西），并且您希望在您的代码中使该 div 的文本内容（HTML）可用：

```
...html...

<div id="country">
    Inner html of country div
</div>

...html... 
```

然后在您的应用程序代码中，在您的网页完成加载到 Web 视图后，调用：

```
NSString* innerHTML =  [webView stringByEvaluatingJavaScriptFromString:@"document.getElementById(\"country\").innerHTML"]; 
```

就是这样，你有来自所需 div 的数据。您可以使用这种方法在 Web 视图中从网页中获取任何数据，并执行不同的 JavaScript 代码。

# iphone - tableView:commitEditingStyle:forRowAtIndexPath: 导致断言失败

> ID：11288011
> 
> 赞同：1
> 
> 时间：2012-07-02T05:04:29.620
> 
> 标签：iphone, ios, uitableview

我有一个 tableView 显示一个`NSMutableArray`对象，我目前正在尝试实现该`tableView:commitEditingStyle:forRowAtIndexPath:`方法。如果我注释掉该行`[tableView deleteRowsAtIndexPaths:@[indexPath] withRowAnimation:UITableViewRowAnimationFade];`，那么除了更新 UI 之外，一切正常。

这是我对该方法的实现：

```
- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath
{
    if (editingStyle == UITableViewCellEditingStyleDelete) {
        [self.modelClass removeObjectAtRow:indexPath.row];
        [tableView deleteRowsAtIndexPaths:@[indexPath] withRowAnimation:UITableViewRowAnimationFade];
    }   
    else if (editingStyle == UITableViewCellEditingStyleInsert) {
        // Create a new instance of the appropriate class, insert it into the array, and add a new row to the table view
    }   
} 
```

这是我得到的错误：

```
*** Assertion failure in -[UITableView _endCellAnimationsWithContext:], /SourceCache/UIKit_Sim/UIKit-2280.1/UITableView.m:1060 
```

其他问题的答案表明我需要将 替换为`@[indexPath]`，`[NSArray arrayWithObject:indexPath]`而这只是出现了同样的错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T05:12:30.620

可能是方法中的问题`numberOfRowsInSection`所以，要留下麻烦，您应该：

在函数`commitEditingStyle`中从您的数组、数据库等中删除数据。减少您当前的行数。

```
[tableView beginUpdates];
[self.tableView deleteRowsAtIndexPaths:[NSArray arrayWithObject: indexPath] withRowAnimation:UITableViewRowAnimationFade];
[tableView endUpdates]; 
```

你的问题就解决了！！！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-02T05:12:24.553

这是因为在删除行之后再次`UITableView`进入数据源方法。`numberOfRowsInSection`确保它返回正确的行数，即您的`self.modelClass.count`in `numberOfRowsInSection`。

# android - 如何在 AndEngine 中创建自定义字体？

> ID：11288013
> 
> 赞同：4
> 
> 时间：2012-07-02T05:04:34.307
> 
> 标签：android, fonts, andengine

您到底是如何创建自定义前端的？几乎直接来自示例：

```
BitmapTextureAtlas font_texture = new BitmapTextureAtlas(this.getTextureManager(), 256, 256, TextureOptions.BILINEAR); 
    mFont = FontFactory.createFromAsset(font_texture, this, "comic.ttf", 18f, true, Color.WHITE); 
```

然而我得到这个错误：

```
The method createFromAsset(FontManager, ITexture, AssetManager, String, float, boolean, int) in the type FontFactory is not applicable for the arguments (BitmapTextureAtlas, TestGFX5Activity, String, float, boolean, Color) 
```

我尝试了许多不同的组合，但没有任何效果。我想要字体“comic.ttf”，18 号，白色。我该如何做到这一点，而不是得到那个错误？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-02T07:02:07.840

终于找到了答案：

```
final ITexture fontTexture = new BitmapTextureAtlas(this.getTextureManager(),256,256);

mFont = FontFactory.createFromAsset(this.getFontManager(),fontTexture,this.getAssets(),"COMIC.TTF",18f,true,Color.WHITE); 
```

*但是*你必须导入 android.graphics.Color*而不是*org.andengine.util.color.Color ！！！

# c# - 将图像保存到媒体库 WP7

> ID：11288017
> 
> 赞同：1
> 
> 时间：2012-07-02T05:04:45.650
> 
> 标签：c#, .net, silverlight, windows-phone-7

我无法将图像保存到 Windows Phone 媒体库中！这是我的代码片段：

```
public void SaveImageTo(string fileName) 
    {
        fileName += ".jpg";
        var myStore = IsolatedStorageFile.GetUserStoreForApplication();
        if (myStore.FileExists(fileName))
        {
            myStore.DeleteFile(fileName);
        }

        IsolatedStorageFileStream myFileStream = myStore.CreateFile(fileName);                       

        // Create a new stream from isolated storage, and save the JPEG file to the media library on Windows Phone.
        myFileStream = myStore.OpenFile(fileName, FileMode.Open, FileAccess.Read);
        MediaLibrary library = new MediaLibrary();

        library.SavePicture(fileName, myFileStream);
    } 
```

请给点建议！提前致谢 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T05:09:19.127

尝试这个 ....

```
public void SaveImageTo(string fileName = "ShareByQR.jpg") 
    {
        fileName += ".jpg";
        var myStore = IsolatedStorageFile.GetUserStoreForApplication();
        if (myStore.FileExists(fileName))
        {
            myStore.DeleteFile(fileName);
        }

        IsolatedStorageFileStream myFileStream = myStore.CreateFile(fileName);
        WritableBitmap wr = imageControl; // give the image source
        wr.SaveJpeg(myFileStream, wr.PixelWidth, wr.PixelHeight, 0, 85);
        myFileStream.Close();

        // Create a new stream from isolated storage, and save the JPEG file to the media library on Windows Phone.
        myFileStream = myStore.OpenFile(fileName, FileMode.Open, FileAccess.Read);
        MediaLibrary library = new MediaLibrary();
        //byte[] buffer = ToByteArray(qrImage);
        library.SavePicture(fileName, myFileStream);
    } 
```

希望它有效！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-17T14:25:24.437

我将 Shishir 的代码段更改为读取外部 url。这是我的方法：

```
 public void SaveImageTo(string fileName = "SO.jpg")
    {
        string source = "http://i.stack.imgur.com/PIFN0.jpg";
        Uri url;
        if (Uri.TryCreate(source, UriKind.Absolute, out url))
        {
            WriteableBitmap wr;
            BitmapImage img = new BitmapImage(url);
            img.CreateOptions = BitmapCreateOptions.None;
            // When image is ready, show must go on.
            img.ImageOpened += (s, e) =>
            {
                wr = new WriteableBitmap((BitmapImage)s);
                //fileName += ".jpg"; // we dont need that
                var myStore = IsolatedStorageFile.GetUserStoreForApplication();
                if (myStore.FileExists(fileName))
                {
                    myStore.DeleteFile(fileName);
                }
                IsolatedStorageFileStream myFileStream = myStore.CreateFile(fileName);
                //WriteableBitmap wr = img; // image source already given
                wr.SaveJpeg(myFileStream, wr.PixelWidth, wr.PixelHeight, 0, 85);
                myFileStream.Close();

                // Create a new stream from isolated storage, and save the JPEG file to the media library on Windows Phone.
                myFileStream = myStore.OpenFile(fileName, FileMode.Open, FileAccess.Read);
                MediaLibrary library = new MediaLibrary();
                //byte[] buffer = ToByteArray(qrImage);
                library.SavePicture(fileName, myFileStream);
            };
        }
    } 
```

不要忘记在 WMAppManifest.xml 中添加 ID_CAP_MEDIALIB_PHOTO 。我希望这也能有所帮助。

# vb.net - 为枚举参数类型传递布尔值编译并运行？

> ID：11288024
> 
> 赞同：1
> 
> 时间：2012-07-02T05:05:40.843
> 
> 标签：vb.net, function, enums, boolean

我有一个枚举，因此：

```
Enum CurrentPeriodType
   CurrentDate
   Sales
   Utilization
End Enum 
```

我有一个功能：

```
Private Sub PopulateDDLPeriods(currentPeriodType As CurrentPeriodType)

...

End Sub 
```

我因此进行了函数调用：

```
PopulateDDLPeriods(False) 
```

我运行它，它编译并运行，我逐步执行代码，实际上它是从函数调用进入需要 ENUM 的函数。我想也许我有一个超载......但我实际上单步执行了代码，它进入了 ENUM 参数类型函数......

嗯？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T16:49:37.800

这仅是可能的，因为您[`Option Strict`](http://support.microsoft.com/kb/311329)已关闭。如果您不喜欢看到的行为，请将其打开。但是，这样做也意味着`Option Explicit`强制您声明所有变量，并*指定*您的数据类型，`Enum`这就是我们知道您已关闭它的方式。

`CurrentDate`在您的情况下，内部值为`0`。因此，可以转换为 0 也可以转换为枚举并不奇怪（考虑到它`Option Strict`是关闭的） 。`False`

更令人惊讶的是，即使您按如下方式更改代码，您的代码仍将编译并运行：

```
Enum CurrentPeriodType
   CurrentDate = 1
   Sales = 2
   Utilization = 3
End Enum 
```

或者，如果您开始传入`True`（转换为 -1）。

如您所见，.NET 枚举只是它们各自基础数据类型的“部分枚举”同义词，如果您尝试一点，您可以获得此类数据类型的任何值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T11:53:51.263

首先，为什么要让函数使用 Enum，但为其提供布尔值？

发生的情况是布尔值被评估为 0，从而为您提供 Sales Enum 值。如果您将函数调用中的参数切换为 True，它实际上将评估为来自 Enum 的 -1。

在这种情况下可能会有所帮助的一件事是显式添加枚举的值（CurrentDate = 0、Sales = 1 等）。当您调用该函数时，请确保您的参数是有效的枚举，而不是提供不同类型的变量。

# android - 如何允许用户通过 Facebook 登录并在反馈表单 Android 设备中发布内容

> ID：11288030
> 
> 赞同：-2
> 
> 时间：2012-07-02T05:06:33.190
> 
> 标签：android, facebook

在我的应用程序中，我有一个反馈表。用户必须首先通过他/她的 Facebook 帐户登录，如果登录成功，则用户可以在我的反馈表中发布一些反馈。

那么为此是否有任何可用的 API 或库？如果有人以前这样做过，请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T05:20:18.747

使用我的 SO 答案的以下链接来解决此问题，它可能会对您有所帮助。

[脸书整合](https://stackoverflow.com/questions/11271646/predefined-text-directly-posted-on-facebook-wall/11271730#11271730)

# android - 在android中显示一个imageview（可见和不可见）三次

> ID：11288031
> 
> 赞同：1
> 
> 时间：2012-07-02T05:07:05.710
> 
> 标签：android, timer, imageview

我想显示三个像开/关的图像视图，如果有人知道如何显示图像视图三次。我正在使用下面的代码

```
 totalTimeCountInMilliseconds = 180 * 1000;     
 timeBlinkInMilliseconds = 60 * 1000;
    private  boolean blink=true;
    countDownTimer = new CountDownTimer(totalTimeCountInMilliseconds,500) {
        @Override
        public void onTick(long leftTimeInMilliseconds) {
           if ( leftTimeInMilliseconds < timeBlinkInMilliseconds ) {
                if (blink) {
                    handImg.setVisibility(View.VISIBLE);
                } else {
                    handImg.setVisibility(View.INVISIBLE);
                }
                blink = !blink;     
                }
        }
        @Override
        public void onFinish() {
            handImg.setVisibility(View.INVISIBLE);
        }
    }.start(); 
```

请帮忙，提前谢谢:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T05:30:13.127

无需创建 countDownTimer 或任何东西。

Android 为您提供漂亮的 alpha 动画。

干得好

**Java 代码**

```
ImageView myImageView = (ImageView) findViewById(R.id.imageview);
Animation myFadeInAnimation = AnimationUtils.loadAnimation(AbcActivity.this, R.anim.blink);
myImageView.startAnimation(myFadeInAnimation); 
```

**眨眼.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<alpha xmlns:android="http://schemas.android.com/apk/res/android"
    android:duration="500"
    android:fromAlpha="0.0"
    android:repeatCount="3"  <---- Image will blink 3 times
    android:repeatMode="reverse"
    android:toAlpha="1.0" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T05:25:13.703

您可以使用 Timer 类

```
 autoUpdate = new Timer();
    autoUpdate.schedule(new TimerTask() {
        @Override
        public void run() {
            runOnUiThread(new Runnable() {
                public void run() {
                    YourLogic();
                }
            });
        }
    }, 0, 180 * 1000); // updates each 3 min 
```

YourLogic 函数 con 是这样的：

```
private void YourLogic() {
if ( leftTimeInMilliseconds < timeBlinkInMilliseconds ) {   
if (blink) {   
handImg.setVisibility(View.VISIBLE);   
} else {    
handImg.setVisibility(View.INVISIBLE);   
}   
blink = !blink   
}
        } 
```

我希望这能帮到您

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T05:30:53.527

试试这个

```
final AlphaAnimation  blinkanimation=   new AlphaAnimation(1, 0); // Change alpha from fully visible to invisible
blinkanimation.setDuration(300); // duration - half a second
blinkanimation.setInterpolator(new LinearInterpolator()); // do not alter animation rate
blinkanimation.setRepeatCount(3); // Repeat animation infinitely
blinkanimation.setRepeatMode(Animation.REVERSE); 
```

并将此动画设置为您的图像视图，如下所示

```
imageview.setAnimation(blinkanimation2);  or 
imageview.startAnimation(blinkanimation2); 
```

根据您的要求更改动画的持续时间和重复次数

# javascript - Javascript 使用应用程序名称和应用程序密码调用 Rest API - 我如何保护它

> ID：11288032
> 
> 赞同：2
> 
> 时间：2012-07-02T05:07:10.633
> 
> 标签：javascript, security, api

我相信这个问题已经被问了很多时间。

但想重新确认我的疑问并获得一些提示。

我正计划玩 buddy.com 后端即服务。我看到如果您使用 JavaScript，他们的大多数 REST API 都需要嵌入应用程序名称和密码。他们还没有任何关于 javascript 的文档。但是想知道我是否必须立即从使用普通 html 或 HTML5 网络应用程序的 Javascript 开始使用它。我该如何使用它。

我不想以明文形式传递应用程序密码，因为任何人都可以查看浏览器的源代码，或者可以运行 fiddler 来查看正在调用的内容。我知道曾经会说，嘿，你为什么不使用在特定时间有效的令牌系统。

但我是这里的消费者，我如何保护在浏览器的视图源中看到的密码，因为我将通过网页/应用程序上的 java 脚本调用 API。

buddy.com API 的典型示例

[http://webservice.buddyplatform.com/Service/v1/BuddyService.ashx?Pictures_ProfilePhoto_Add&BuddyApplicationName=](http://webservice.buddyplatform.com/Service/v1/BuddyService.ashx?Pictures_ProfilePhoto_Add&BuddyApplicationName=) &BuddyApplicationPassword=&UserToken=&bytesFullPhotoData=&ApplicationTag=&RESERVED=

任何提示将非常感谢。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T23:00:09.940

客户端运行的 JavaScript 始终可以使用 GreaseMonkey 进行修改。 **ALL VARIABLES**可以使用像[Firebug](http://getfirebug.com/)这样的 JavaScript 调试器来读取。 可以使用[tamperdata拦截和修改](https://addons.mozilla.org/en-US/firefox/addon/tamper-data/)**所有请求**。

结果是您**永远无法**信任 JavaScript，因为它的客户端代码。为了对攻击者保密，您需要对 JavaScript 保密。您可以使用中间 API 执行此操作，该 API 知道秘密并代表客户端执行请求。此 API 需要强制执行身份验证，或者谁有权访问给定资源。

# java - 从 Web 应用程序访问独立应用程序

> ID：11288035
> 
> 赞同：0
> 
> 时间：2012-07-02T05:07:34.430
> 
> 标签：java, jakarta-ee, kryo

这可能是一个愚蠢的问题。但我没有任何选择来澄清它。我有一个在 LAN 环境系统中运行的聊天服务器。出于测试目的，我已将聊天客户端小程序部署到 tomcat 服务器中。如何从网页访问服务器。我已经给出了我的本地 IP 地址（192.168.0.XXX 我知道这很糟糕）。该应用程序说访问被拒绝。并得到这个接受

```
java.security.AccessControlException: access denied (java.net.SocketPermission 192.168.0.106:54555 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:25:33.247

如果我理解您的问题，那么问题可能与此有关： `Applets are specifically prohibited from making network connections from machines other than the host they were downloaded from. The only way around this is by using a digital signature in the applet.`

 [Java 小程序的代码签名](http://www.suitable.com/docs/signing.html)

# iphone - 如何解决 sqlite_prepare 错误

> ID：11288042
> 
> 赞同：0
> 
> 时间：2012-07-02T05:09:11.097
> 
> 标签：iphone, database, xcode, sqlite

我知道当我使用“sqlite3_open”时会打开一个新数据库而不是我的 sqlite 文件。所以我使用'sqlite3_open_v2'修复了它。但是现在，我仍然无法从我的文件中获取我的数据。谁能告诉我结果如何？很感谢！

## 这是我的代码：

```
(void)viewDidLoad
{
[super viewDidLoad];
databaseName=@"freeway.sqlite";

[databasePath stringByExpandingTildeInPath];
NSArray *documentPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDir = [documentPaths objectAtIndex:0];
databasePath = [documentsDir stringByAppendingPathComponent:@"freeway.sqlite"];

[self checkAndCreateDatabase];
[self readDataFromDatabase];
} 
```

-

```
(void)checkAndCreateDatabase
{

BOOL success;
NSFileManager *fileManager=[NSFileManager defaultManager];
success=[fileManager fileExistsAtPath:databasePath];
if (success) 
{  NSLog(@"success");
return;
}
else {
    NSLog(@"fail");
    NSString *databasePathFromApp = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:databaseName];       
    [fileManager copyItemAtPath:databasePathFromApp toPath:databasePath error:nil];       
}
} 
```

-

```
(void)readDataFromDatabase
sqlite3 *database;
fee = [[NSMutableArray alloc]init];

//if (sqlite3_open([databasePath UTF8String], &database) == SQLITE_OK)
    if (sqlite3_open_v2([databasePath  UTF8String], &database, SQLITE_OPEN_READWRITE, NULL) == SQLITE_OK)       
    sqlite3_stmt *stmt;
    char *sql = "SELECT * FROM fee";     

    if (sqlite3_prepare_v2(database,sql,-1,&stmt,NULL) == SQLITE_OK){
        while (sqlite3_step(stmt) == SQLITE_ROW) {
            NSInteger pID = sqlite3_column_int(stmt, 0);
            NSString *pName = [NSString stringWithUTF8String:(char *)sqlite3_column_text(stmt, 1)];
            NSString *pName2 = [NSString stringWithUTF8String:(char *)sqlite3_column_text(stmt, 2)];

            Fee_Station *temp = [[Fee_Station alloc] initwithFCID:pID F_Name:pName Fmaileage:pName2];
            [fee addObject:temp];          
    }
    }
    else {
        NSLog(@"%s Prepare failure '%s' (%1d)", __FUNCTION__, sqlite3_errmsg(database), sqlite3_errcode(database));
    }     
    sqlite3_finalize(stmt);
}
sqlite3_close(database);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T07:01:15.803

您在 Application didFinishLaunchingWithOptions 方法中调用 checkAndCreateDatabase 数据库函数，

在那之后

```
-(void) checkAndCreateDatabase
{

    BOOL success;

    NSFileManager *fileManager = [NSFileManager defaultManager];

    success = [fileManager fileExistsAtPath:databasePath];

    if(success) return;
    else
        printf("NO File found");

    NSString *databasePathFromApp = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:databaseName];

    [fileManager copyItemAtPath:databasePathFromApp toPath:databasePath error:nil];

    //[fileManager release];
}

-(void)readDataFromDatabase
{

    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsDirectory = [paths objectAtIndex:0];
    NSString *path = [documentsDirectory stringByAppendingPathComponent:@"freeway.sqlite"];
    sqlite3_stmt *compiledStatement;
    sqlite3 *database;
    if(sqlite3_open([path UTF8String], &database) == SQLITE_OK) {

        const char *sqlStatement;

        sqlStatement = "SELECT * FROM fee"; 

        sqlite3_prepare_v2(database, sqlStatement, -1, &compiledStatement, NULL);

        printf("\nError===%s",sqlite3_errmsg(database));

        if(sqlite3_prepare_v2(database, sqlStatement, -1, &compiledStatement, NULL) == SQLITE_OK) {

            while(sqlite3_step(compiledStatement) == SQLITE_ROW ) 

            {

                NSString *str_field1=[NSString stringWithUTF8String:(char *)sqlite3_column_text(compiledStatement, 0)];

                NSString *str_field2=[NSString stringWithUTF8String:(char *)sqlite3_column_text(compiledStatement, 1)];

                NSString *str_field3=[NSString stringWithUTF8String:(char *)sqlite3_column_text(compiledStatement, 2)];

                NSString *str_field4=[NSString stringWithUTF8String:(char *)sqlite3_column_text(compiledStatement, 3)];

                // add str_field into array

            }

        }

        sqlite3_finalize(compiledStatement);

    }

    sqlite3_close(database);

} 
```

# android - 将联系人照片加载到 listview android

> ID：11288049
> 
> 赞同：0
> 
> 时间：2012-07-02T05:10:27.073
> 
> 标签：android, listview, photo

我在设置我的联系人图像时遇到`ImageView`问题`ListView`。我已经尝试了从开发者网站到这里的所有所谓的“解决方案”，但它们似乎都不起作用。

这是填充我的 CustomAdapter 类：http `ListView`: [//pastebin.com/ABeK9nmT](http://pastebin.com/ABeK9nmT)

这是我持有的活动：http `listview`: [//pastebin.com/FcBDprfG](http://pastebin.com/FcBDprfG)

重要的是要知道活动`listview`周围有不可移动的物体。我运行代码时的问题是只显示默认的照片寄存器，没有显示联系人。

运行活动时，**LogCat**会为 6 个联系人中的每一个显示以下内容：

`W/Resources(5997): Converting to string: TypedValue{t=0x12/d=0x0 a=3 r=0x7f080015}`

我没有收到任何错误。有谁明白我可能做错了什么？

**请不要从其他 SO“解决方案”复制和粘贴编码。**我已经尝试了所有这些，它们要么用于较低的 API，要么从另一个答案复制以获取积分，要么丢失了太多数据。我正在使用**2.3.3**，它使用`Contacts.Contract`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T07:34:29.610

我想推荐几件事以及您可以尝试的解决方案，如果它仍然失败，请告诉我。

1）您正在为您的应用程序使用 SMS 自定义提供程序，如果用户将他的操作系统更新到 4.0 或更高版本，就像我尝试他们在其中工作时一样，这可能会失败。

2) 如果您尝试查询不在 getView() 中的所有自定义提供程序会更好，因为它会加快进程和列表视图。

3）我觉得你的代码的问题是当你试图获取联系人图像时，这有点典型，因为我之前实现过，结果不像博客中提到的那样，不知道为什么。

4）现在解决方案流程：

*   您有要查询的电话号码。
*   现在我们将获取该号码并查询电话簿内容提供者的姓名。
*   如果**名称不为空**，我们可能会继续获取特定的号码 ID（检查您是否可以直接获取 ID 并在不获取名称的情况下进行操作）
*   如果**contactId 不为null**，则获取图片并将其放在您的ListView 中。

不要忘记放置空检查并按照提到的代码进行操作，如果失败请告诉我。

5) 守则：

**获取联系人姓名：**

```
/**
 * Method used to fetch CONTACT NAME FOR CONTACT NUMBER
 * 
 * @param number   :: Contact Number
 * @param context  :: Activity context
 * @return         :: returns CONTACT-NAME for CONTACT NUMBER
 */
private String getContactNameFromNumber(String number, Context context) 
{
    String contactName = null;
    Uri contactUri = null;
    String[] projection = null;
    String selection = null;
    Cursor cursorContactId = null;

    /*
     * Defining URI, Projection and Selection elements 
     */
    contactUri = Uri.withAppendedPath(ContactsContract.PhoneLookup.CONTENT_FILTER_URI, Uri.encode(number));
    projection = new String[]{Contacts._ID,Contacts.DISPLAY_NAME};
    selection = ContactsContract.CommonDataKinds.Phone.NUMBER + " = " + number;

    /*
     * Cursor iterator to fetch
     * particular ID
     */
    try
    {
        cursorContactId = context.getContentResolver().query(contactUri, projection, selection, null, null); 
        while (cursorContactId.moveToNext()) 
        { 
            contactName = cursorContactId.getString(cursorContactId.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME)); 
        }
    }
    catch(Exception e)
    {
        e.printStackTrace();
    }
    finally
    {
        cursorContactId.close();
    }

    if(contactName != null)
    {
        return contactName;
    }
    else
    {
        return null;
    }
} 
```

**获取联系人 ID（如果 name 不为*null*）：**

```
/**
 * Fetching Contact from a Number
 * @param number    - For which specific Id is required
 * @param context   - current context
 * @return          - ID as String
 */
private String getContactIdFromNumber(String number, Context context) 
{
    String contactId = null;
    Uri contactUri = null;
    String[] projection = null;
    String selection = null;
    Cursor cursorContactId = null;

    /*
     * Defining URI, Projection and Selection elements 
     */
    contactUri = Uri.withAppendedPath(ContactsContract.PhoneLookup.CONTENT_FILTER_URI, Uri.encode(number));
    projection = new String[]{Contacts._ID};
    selection = ContactsContract.CommonDataKinds.Phone.NUMBER + " = " + number;

    /*
     * Cursor iterator to fetch
     * particular ID
     */
    try
    {
        cursorContactId = context.getContentResolver().query(contactUri, projection, selection, null, null); 
        while (cursorContactId.moveToNext()) 
        { 
            contactId = cursorContactId.getString(cursorContactId.getColumnIndex(ContactsContract.Contacts._ID)); 
        }
    }
    catch(Exception e)
    {
        e.printStackTrace();
    }
    finally
    {
        cursorContactId.close();
    }

    if(contactId != null)
    {
        return contactId;
    }
    else
    {
        return null;
    }
} 
```

**最后加载联系人图片（如果 ID 不为空。传递 id 和 photo_id 相同的 ID 值。*此代码来自搜索各种链接后的 SO*）：**

```
/**
 * Fetching contact picture from PhoneBook if available 
 * @param contentResolver   - Current Content Resolver context
 * @param id                - Specific Contact Id as retrieved
 * @param photo_id          - Same as Contact Id
 * @return                  - Contact Byte Array if present or null
 */
private byte[] loadContactPhoto(ContentResolver contentResolver, String id, String photo_id) 
{
    byte[] result = null;
    byte[] photoBytes = null;

    /*
     * Step 1 : Directly fetching with contactId or execute Step 2
     */
    Uri uri = ContentUris.withAppendedId(ContactsContract.Contacts.CONTENT_URI, Long.parseLong(id));
    InputStream input = ContactsContract.Contacts.openContactPhotoInputStream(contentResolver, uri);
    /*
     * Execute only if stream is not null
     */
    if (input != null) 
    {
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        try
        {
            int next = input.read();

            while (next > -1) 
            {
                bos.write(next);
                next = input.read();
            }

            bos.flush();
        }
        catch(Exception e)
        {
            e.printStackTrace();
        }

        result = bos.toByteArray();

        return result;
        // return BitmapFactory.decodeStream(input); // Open if want to return as Bitmap
    }
    else
    {
        Log.d("PHOTO","first try failed to load photo");
    }

    /*
     * Step 2: Image not fetched directly, fetching through traversing
     */
    Uri photoUri = ContentUris.withAppendedId(ContactsContract.Data.CONTENT_URI, Long.parseLong(photo_id));
    Cursor cursorImageFetch = contentResolver.query(photoUri, new String[] {ContactsContract.CommonDataKinds.Photo.PHOTO}, null, null, null);

    try 
    {
        if (cursorImageFetch.moveToFirst()) 
            photoBytes = cursorImageFetch.getBlob(0);
    } 
    catch (Exception e) 
    {
        e.printStackTrace();

    } finally {

        cursorImageFetch.close();
    }           

    if (photoBytes != null)
    {
        return photoBytes;
        //return BitmapFactory.decodeByteArray(photoBytes,0,photoBytes.length); // Open if want to return as Bitmap
    }
    else
    {
        Log.d("PHOTO","Picture of the contact not available");
        return getByteArray();
    }

} 
```

# linux - 如何使用命令行工具备份和恢复（或创建快照）Linux 机器？

> ID：11288050
> 
> 赞同：1
> 
> 时间：2012-07-02T05:10:31.397
> 
> 标签：linux, snapshot

我可以通过 sudo 用户远程 ssh 访问 linux 机器。我没有实际访问机器本身的权限。

我需要一个工具来帮助我备份机器和恢复，或者换句话说 - 创建一个快照。

该工具应该在命令行中运行，并且最好不要重新启动机器。

我已经尝试过这里给出的 tar un-tar 方法： [http ://ubuntuforums.org/showthread.php?t=35087](http://ubuntuforums.org/showthread.php?t=35087)

但它不适合，因为它只覆盖和恢复已经存在和修改过的文件，但不会删除自备份以来创建的文件和目录。

关于如何继续使用这种方法并实现我需要的东西，或者我可以使用另一种工具的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T05:21:57.733

如果您在那台机器上有 LVM，则首先制作 LVM 快照，然后挂载它，然后使用 复制其内容`tar`，`cpio`或类似的东西。

```
$ sudo lvcreate -L1GB -n snap1 -s /dev/VG0/data1
$ sudo mount /dev/VG0/snap1 /mnt
$ cd /mnt; tar cvf /tmp/data1.tar .; cd /
$ sudo umount /mnt
$ sudo lvremove /dev/VG0/snap1 
```

此处的要点是您稍后制作快照。以及位于其上的副本数据。这个过程可能会很长，但没关系，因为您正在复制副本，并且快照上的数据将不再更改。

# asp.net - 如何在网址栏中隐藏asp url？

> ID：11288051
> 
> 赞同：1
> 
> 时间：2012-07-02T05:10:36.203
> 
> 标签：asp.net, url, hide

如何在 asp.net 项目中隐藏 aspx 扩展名？

**前任 -**

```
http://mcs.com/Profile.aspx
http://mcs.com/Profile
or
http://mcs.com/ 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-02T05:12:43.130

您需要为此使用 URL 重写...

[ASP.NET 中的 URL 重写](http://msdn.microsoft.com/en-us/library/ms972974.aspx)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-02T06:24:33.000

如果您使用的是 ASP.NET 4，则可以使用 URL 路由（而不是重写）。你可以看到这篇文章： [http ://weblogs.asp.net/scottgu/archive/2009/10/13/url-routing-with-asp-net-4-web-forms-vs-2010-and-net- 4-0-series.aspx](http://weblogs.asp.net/scottgu/archive/2009/10/13/url-routing-with-asp-net-4-web-forms-vs-2010-and-net-4-0-series.aspx)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-02T05:15:35.803

快速搜索拉出了一条你可以运行的规则

```
 <rule name="">
      <!--Removes the .aspx extension for all pages.-->
      <match url="(.*)" />
      <conditions logicalGrouping="MatchAll">
        <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" />
        <add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" />
      </conditions>
      <action type="Rewrite" url="{R:1}.aspx" />
    </rule> 
```

# ios - 如何注册我的 iOS 应用程序以打开某些文件类型？

> ID：11288053
> 
> 赞同：1
> 
> 时间：2012-07-02T05:11:04.097
> 
> 标签：ios, info-plist

我在这个问题上苦苦挣扎，通过电子邮件从我的 ios 应用程序发送和接收数据。它可以发送，但是当我必须打开时（按住文件）假设提示我是否要使用我的应用程序打开。我在ipz上设置了文件扩展名。这是我的 info-plist 的副本。

我错过了什么吗？

```
<plist version="1.0">
<dict>
<key>CFBundleDevelopmentRegion</key>
<string>English</string>
<key>CFBundleDisplayName</key>
<string>${PRODUCT_NAME}</string>
<key>CFBundleDocument</key>
<array>
    <dict>
        <key>CFBundleTypeRole</key>
        <string>Editor</string>
        <key>CFBundleTypename</key>
        <string>iPrick List Document</string>
        <key>LSHandlerRank</key>
        <string>Owner</string>
        <key>LSItemContentTypes</key>
        <array>
            <string>com.ipricklist.iPrickList.ipz</string>
        </array>
    </dict>
</array>
<key>CFBundleDocumentTypes</key>
<array>
    <dict>
        <key>CFBundleTypeIconFiles</key>
        <array>
            <string>logo1</string>
        </array>
        <key>CFBundleTypeName</key>
        <string>iPrick List Document</string>
        <key>CFBundleTypeOSTypes</key>
        <array>
            <string>com.ipricklist.iPrickList</string>
        </array>
        <key>LSItemContentTypes</key>
        <array>
            <string>com.ipricklist.iPrickList.ipz</string>
        </array>
    </dict>
</array>
<key>CFBundleExecutable</key>
<string>${EXECUTABLE_NAME}</string>
<key>CFBundleIconFiles</key>
<array>
    <string>logo1.png</string>
    <string>Default@2x.png</string>
    <string>Default.png</string>
    <string>logo2.png</string>
</array>
<key>CFBundleIcons</key>
<dict>
    <key>CFBundlePrimaryIcon</key>
    <dict>
        <key>CFBundleIconFiles</key>
        <array>
            <string>logo1.png</string>
            <string>Default@2x.png</string>
            <string>Default.png</string>
            <string>logo2.png</string>
        </array>
        <key>UIPrerenderedIcon</key>
        <true/>
    </dict>
</dict>
<key>CFBundleIdentifier</key>
<string>com.ipricklist.iPrickList</string>
<key>CFBundleInfoDictionaryVersion</key>
<string>6.0</string>
<key>CFBundleName</key>
<string>${PRODUCT_NAME}</string>
<key>CFBundlePackageType</key>
<string>APPL</string>
<key>CFBundleShortVersionString</key>
<string>1.0</string>
<key>CFBundleSignature</key>
<string>????</string>
<key>CFBundleVersion</key>
<string>1.0</string>
<key>LSRequiresIPhoneOS</key>
<true/>
<key>NSMainNibFile</key>
<string>MainWindow</string>
<key>UIFileSharingEnabled</key>
<true/>
<key>UIPrerenderedIcon</key>
<true/>
<key>UTExportedTypeDeclarations</key>
<array>
    <dict>
        <key>UTTypeConformsTo</key>
        <array>
            <string>public.data</string>
        </array>
        <key>UTTypeDescription</key>
        <string>iPrick List Document</string>
        <key>UTTypeIdentifier</key>
        <string>com.ipricklist.iPrickList.ipz</string>
        <key>UTTypeSize320IconFile</key>
        <string>logo1</string>
        <key>UTTypeSize64IconFile</key>
        <string>logo2</string>
        <key>UTTypeTagSpecifications</key>
        <dict>
            <key>public.filename-extension</key>
            <string>ipz</string>
            <key>public.mime-type</key>
            <string>application/iPrickList</string>
        </dict>
    </dict>
</array>
</dict>
</plist> 
```

# ruby-on-rails - 在 Rails 控制器中实现 erb 代码？

> ID：11288061
> 
> 赞同：0
> 
> 时间：2012-07-02T05:12:15.223
> 
> 标签：ruby-on-rails, ruby, acts-as-tree

我想在使用acts_as_tree时将我的模型渲染为json并包含它的节点。我找到了这篇文章，它有很大帮助：[acts_as_tree 和 to_json 或 from_json](https://stackoverflow.com/questions/2679305/acts-as-tree-and-to-json-or-from-json)

我唯一的问题是如何在我的控制器中实现它。我想在我的控制器中返回 json。

到目前为止，我有这个：

```
 respond_to :json, :html

  def index
    @categories = Category.all
    respond_with(@categories)
  end 
```

但在返回@categories 之前，我想在它上面调用它：`<%= @categories.select { |c| c.root? && !c.leaf? }.collect { |c| category_to_spacetree_json(c) }.to_json.html_safe %>`但看起来这只能从视图中调用。

如何从我的控制器执行此操作？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T13:17:38.490

你试过这个吗？

在控制器中：

```
def index
  @categories = Category.all
  respond_with(@categories.select{ |c| c.root? && !c.leaf? }.collect{ |c| category_to_spacetree_json(c) })
end 
```

在视图中：

```
<%= @categories.html_safe %> 
```

# iphone - 如何使 UITextfiled 从顶部开始文本

> ID：11288071
> 
> 赞同：0
> 
> 时间：2012-07-02T05:13:19.537
> 
> 标签：iphone, xcode

我有 uitextfield 我想它应该从顶部而不是中心开始输入文本 我的文本字段高度是 100 如何做到这一点。

```
 IBOutlet UITextField*commentTextField;

    comments=commentTextField.text; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T05:24:22.480

您可以实现 and 的`textView:shouldChangeTextInRange:replacementText:`方法`UITextViewDelegate`，检查替换文本是否为`\n`，然后隐藏键盘。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T05:27:39.243

用这个：

```
textfield.contentVerticalAlignment = UIControlContentVerticalAlignmentTop; 
```

# iphone - iOS核心数据——插入前如何检查

> ID：11288075
> 
> 赞同：2
> 
> 时间：2012-07-02T05:13:56.160
> 
> 标签：iphone, ios, core-data, ios4

我在我的应用程序中使用核心数据。我知道如何在其中插入一个新对象。它将歌曲信息存储在其中。下面是我的表结构

```
song_id

song_title

song_description

Songs *aSong = (Poem *)[NSEntityDescription insertNewObjectForEntityForName:@"Songs" inManagedObjectContext:myManagedObjectContext]; 
```

在这里，我想知道如何在再次将对象插入表中之前检查 song_id 是否已经可用。

我的意思是在插入新对象之前，我如何检查它是否存在。

还有如何检查表是空的？

请告诉我，谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-02T05:41:45.497

```
NSError * error;
NSFetchRequest * checkExistance = [[NSFetchRequest alloc] init];
[checkExistance setEntity:[NSEntityDescription entityForName:NSStringFromClass([yourClass class]) inManagedObjectContext:yourManagedContext]];
[checkExistance setFetchLimit:1];
[checkExistance setPredicate:[NSPredicate predicateWithFormat:@"ID == %@", yourID]];
Songs *yourSong = [[managedObjectContext executeFetchRequest:checkExistance error:&error] lastObject]; 
```

现在在这里，如果 yourSong 存在，即不为空，则它存在。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T05:36:29.127

您可以使用**NSEntityDescription**方法**entityForName:inManagedObjectContext:**从托管对象模型中获取实体。

现在**executeFetchRequest**方法将提供数组，我们可以从中知道记录是否退出。根据您的要求，您可以插入新记录

请参阅[获取托管对象](http://developer.apple.com/library/mac/#documentation/cocoa/conceptual/CoreData/Articles/cdFetching.html#//apple_ref/doc/uid/TP40002484-SW1)链接。

# android - android开发中的连接

> ID：11288079
> 
> 赞同：0
> 
> 时间：2012-07-02T05:14:25.877
> 
> 标签：android

我在使用 SAXParser 时遇到了一些连接问题。有人说解决方案是设置用户权限，但它不起作用。

但是，我使用严格模式代码，问题就解决了。

我想知道为什么它可以修复它们。

```
StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();
StrictMode.setThreadPolicy(policy); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T05:23:53.703

> [http://mobile.tutsplus.com/tutorials/android/android-sdk-build-a-simple-sax-parser/](http://mobile.tutsplus.com/tutorials/android/android-sdk-build-a-simple-sax-parser/)
> 
> [http://www.technotalkative.com/android-sax-parsing-example/](http://www.technotalkative.com/android-sax-parsing-example/)

# java - Java 条件导入

> ID：11288083
> 
> 赞同：17
> 
> 时间：2012-07-02T05:15:03.587
> 
> 标签：java

如何像我们`ifdefs`在 C 中一样在 Java 中进行条件导入这是我打算实现的

```
ifdef TEST
import com.google.mystubs.swing;
elif
import javax.swing.*;
endif 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-07-02T05:15:50.853

您没有使用 java 的条件导入

但是您可以使用完全限定名称有条件地使用具有相同名称的不同类

例如：

```
if(useSql){
  java.sql.Date date = new java.sql.Date()
}else{
  java.util.Date date = new java.util.Date()
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-10-05T08:11:05.740

您可以使用传统的 if 语句，然后代替导入 do`Class.forName("example.ExampleClass")`这将返回一个`Class`对象，然后您可以调用该对象`Class.newInstance()`。它可以让您避免可能不存在的依赖项的编译时错误，以及执行类似于条件导入的操作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-04-03T14:53:56.713

[Java Comment Preprocessor](https://github.com/raydac/java-comment-preprocessor)支持结果文档中的前缀和后缀部分，形成类导入部分非常有用，您甚至可以将导入字符串放在类中间

```
//#ifdef FLAG
//+prefix
import some.class.Clazz;
//-prefix
   Clazz.call();
//#endif 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-02T05:16:46.843

我们在java中没有条件导入

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-02T05:25:44.487

Java 不支持此功能。
请记住，#IFDEF 是在 C++ 的预处理器阶段完成的——Java 对此不支持。
在 JDK 1.5 中引入注释之前，您可以尝试并拥有类似于注释处理器的东西。
此外，您可以在编译时使用注解进行处理。
[这个](http://deors.wordpress.com/2011/10/08/annotation-processors/)博客提供了一些信息。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-12-16T21:15:12.437

您尝试做的是一个有效的想法，但您应该使用模拟。[Mockito](http://code.google.com/p/mockito/)是一个很棒的库。

范式有点不同，但是您应该使用模拟库研究单元测试并理解这一点，这将使您能够以更好的方式（在我看来）做您正在尝试的事情。

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2012-07-02T05:19:43.083

Java 不支持条件`import`。

# javascript - 将 javascript 嵌入到应用程序中（如 Lua）

> ID：11288084
> 
> 赞同：1
> 
> 时间：2012-07-02T05:15:10.043
> 
> 标签：javascript, c++, lua, v8

我用 Javascript 做了很多与网络相关的工作（一些普通的网络应用程序的东西，一些前沿的软件渲染器/WebGL 的东西），我也有一些与游戏相关的项目，我主要用 C++ 编写代码。

我原本打算让 C++ 位使用 Lua 来完成动态脚本功能，但我开始怀疑是否可以以某种方式将 Javascript 引擎嵌入到我的代码库中，以便最大限度地减少我所做的上下文切换量，因为如果我发现自己需要将 Lua 代码移植到 JS 或将 JS 代码移植到 Lua 时，我会感到畏缩。

V8 Javascript 引擎是可嵌入的，一切都适用于桌面 C++ 应用程序，这将是它的结束，但在这种情况下，猴子扳手是永远无法获得 V8 以提交到 iOS App Store 的问题。

这使我走上了一条完全不同的道路。我现在想知道的是，它是否可以`JavaScriptCore`用来基本上取代我使用 Lua 的功能。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T05:15:10.510

惊人的！有人已经[这样做了](http://www.phoboslab.org/log/2011/04/ios-and-javascript-for-real-this-time/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-09T08:53:33.323

正如这个老问题的旁注：[Apple 已将 JavaScriptCore 设为 IOS 7 中的公共 API，](http://blog.bignerdranch.com/3784-javascriptcore-and-ios-7/)因此它可用于动态脚本或其他应用程序逻辑。

# php - 在php中创建下拉树

> ID：11288089
> 
> 赞同：-2
> 
> 时间：2012-07-02T05:15:42.043
> 
> 标签：php, cakephp, drop-down-menu

我有一个如下表结构

```
|id| parent_id |name| 
```

`parent_id`递归地引用同一个表我试图创建一个下拉树但不成功。请告诉它如何在 core php 或 Cake php 中创建。

这是我到目前为止所做的工作..但它给出了错误'致命错误：在第 390 行的 /viren/webroot/upms/app/controllers/tests_controller.php 中允许的内存大小为 134217728 字节已用尽（试图分配 67025477 字节） ';

```
function admin_takecat(){
$this->layout=false;
$this->render(false);
Configure::write('debug',2);

$firstlevel=$this->cats->find('list',array('fields'=>array('Category.id','Category.cat_name'),'conditions'=>array('Category.parent_id'=>0,'department_id'=>9)));
    $dropbox='<select>';
foreach($firstlevel as $id=>$val){
    $dropbox.='<option value='.$id.'>'.$val.'</option>';
    $count=$this->cats->find('count',array('conditions'=>array('Category.parent_id'=>0,'Category.department_id'=>9,'Category.parent_id'=>$id)));
    if($count>0){
    $dropbox=$this->_recursive($id,$dropbox,1);

    }

}
$dropbox.='</select>';
echo $dropbox;

}
function _recursive($catid,$dropbox,$level){

$listcats=$this->cats->find('list',array('fields'=>array('Category.id','Category.cat_name'),'conditions'=>array('Category.parent_id'=>0,'Category.department_id'=>9,'Category.parent_id'=>$catid)));
$mark='';
for($i=1;$i<=1;$i++){
    $mark.='-';

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T05:25:05.780

我不确定您所说的“希望将父 ID 和子 ID 分开”是什么意思。了解 select 中的元素只不过是显示值和数据值，数据值将与字段名称一起发送到服务器。

所以select并不能真正区分多种数据值。例如，每个选项不能有多个 ID。您所能做的就是格式化您的显示值以包含 ID（例如您使用“1 - 游戏 - 0”等），并决定哪个数据值应该是选择中该选项的值。

您可以做的一件事是使用[optgroup 标签](http://htmlhelp.com/reference/html40/forms/optgroup.html)对选项元素进行分组。像这样的东西：

```
<select name="myOptions">
  <optgroup label="Category 1">
    <option value="1">First Choice</option>
    <option value="2">Second Choice</option>
    <option value="3">Third Choice</option>
  </optgroup>
  <optgroup label="Category 2">
    <option value="4">Fourth Choice</option>
    <option value="5">Fifth Choice</option>
  </optgroup>
  <optgroup label="Category 3">
    <option value="6">Sixth Choice</option>
    <option value="7">Seventh Choice</option>
  </optgroup>
</select> 
```

在验证中，浏览器不应该允许用户选择一个组，他们必须选择一个实际的选项。所以你不应该担心这个。这确实为更分层地显示您的值提供了一些额外的灵活性。但是，请理解在这种情况下只允许一级选项嵌套。（所以一个 optgroup 不能包含另一个 optgroup。）

# c++ - C ++：使用sqlite创建动态数据库以传输语音流

> ID：11288092
> 
> 赞同：2
> 
> 时间：2012-07-02T05:16:32.477
> 
> 标签：c++, database, sqlite, soap

我有 char 数组列表，我想将所有项目存储在 SQLite 数据库中，我的问题是如何将字符串数组值存储在 SQLite 数据库中，因为字符串数组值来自服务器，所以我的字符串数组是动态可变的。

在这里我完成了 sqlite3 通过传递参数插入项目，我只想动态地使用这个数据库。任何人都可以给我任何想法。我是 C++ 开发的新手：

```
#include <iostream>
using namespace std;
#include "sqlite3.h"
#include<string.h>
#define STRING_MAX 32

typedef struct metadata_t {
    char userid[256];
    char firstname[256];
    char lastname[256];
    char username[256];
    char password[256];
    char email[256];
    char userphone[256];
    char time[256];
} metadata_t;

void insertdata1(metadata_t * data);

int main(int argc, const char *argv[])
{

    struct metadata_t *data;
    cin >> data->userid;
    cin >> data->firstname;
    cin >> data->lastname;
    cin >> data->username;
    cin >> data->password;
    cin >> data->email;
    cin >> data->userphone;
    cin >> data->time;

    insertdata1(data);

}

void insertdata1(metadata_t * data)
{
    sqlite3 *db;
    sqlite3_open("test1.db", &db);

    string createQuery =
        "CREATE TABLE IF NOT EXISTS items (userid INTEGER PRIMARY KEY, firstname TEXT,lastname TEXT,username TEXT,password TEXT,email text,userphone INTEGER, "
        "time TEXT NOT NULL DEFAULT (NOW()));";
    sqlite3_stmt *createStmt;
    cout << "Creating Table Statement" << endl;
    sqlite3_prepare(db, createQuery.c_str(), createQuery.size(),
            &createStmt, NULL);
    cout << "Stepping Table Statement" << endl;
    if (sqlite3_step(createStmt) != SQLITE_DONE)
        cout << "Didn't Create Table!" << endl;

    char *a = "(";
    char *d = ")";
    char *b = "'";
    char *c = ",";
    char str1[1000];
    char *str2 = "";
    char *g = ";";
    strcpy(str1,
           "INSERT INTO items (userid,firstname,lastname,username,password,email,userphone,time)VALUES");

    strcat(str1, a);

    strcat(str1, b);
    strcat(str1, data->userid);
    strcat(str1, b);
    strcat(str1, c);
    strcat(str1, b);
    strcat(str1, data->firstname);
    strcat(str1, b);
    strcat(str1, c);
    strcat(str1, b);
    strcat(str1, data->lastname);
    strcat(str1, b);
    strcat(str1, c);
    strcat(str1, b);
    strcat(str1, data->username);
    strcat(str1, b);
    strcat(str1, c);
    strcat(str1, b);
    strcat(str1, data->password);
    strcat(str1, b);
    strcat(str1, c);
    strcat(str1, b);
    strcat(str1, data->email);
    strcat(str1, b);
    strcat(str1, c);
    strcat(str1, b);
    strcat(str1, data->userphone);
    strcat(str1, b);
    strcat(str1, c);
    strcat(str1, b);
    strcat(str1, data->time);
    strcat(str1, b);
    strcat(str1, d);
    strcat(str1, g);

    std::string insertQuery = str1; // WORKS!
    sqlite3_stmt *insertStmt;
    cout << "Creating Insert Statement" << endl;
    sqlite3_prepare(db, insertQuery.c_str(), insertQuery.size(),
            &insertStmt, NULL);
    cout << "Stepping Insert Statement" << endl;
    if (sqlite3_step(insertStmt) != SQLITE_DONE)
        cout << "Didn't Insert Item!" << endl;

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T11:40:06.447

我建议使用[绑定变量](http://www.sqlite.org/c3ref/bind_blob.html)——它们使你的代码更清晰，更能防止输入错误甚至 SQL 注入。

还有一些不会伤害的好习惯：

*   每次调用`sqlite3_*`函数后检查返回值并将输出写入`sqlite3_errmsg()`( `stderr`= `cerr`) 或日志文件以防出错；

*   在我们完成后通过调用`sqlite3_finalize()`每个不再使用的准备好的语句进行清理。

当其他人稍后使用或调试您的代码时，不遵循这些做法将使您的业力受到影响。

所以，这是建议的`insertdata1()`（我希望它现在更干净和可读）：

```
// some basic error handling
void exit_with_sqlite_error(sqlite3 *db, const char* file, int line)
{
cerr << "Error: " << sqlite3_errmsg(db) << " at " << file << ":" << line << endl;
exit(1);
}

// helps to get exact location of an error 
#define EXIT_WITH_SQLITE_ERR(db) \
exit_with_sqlite_error(db, __FILE__, __LINE__)

void insertdata1(metadata_t *data)
{
sqlite3 *db;
sqlite3_open("test1.db", &db);

string createQuery = 
    "CREATE TABLE IF NOT EXISTS items ("
    "userid INTEGER PRIMARY KEY,'
    "firstname TEXT,"
    "lastname TEXT,"
    "username TEXT,"
    "password TEXT,'
    "email TEXT,"
    "userphone INTEGER,"
    "time TEXT NOT NULL DEFAULT (NOW()));";

cout << "Creating Table Statement" << endl;
int rc = sqlite3_exec(db, createQuery.c_str(), NULL, NULL, NULL);
if (rc != SQLITE_OK) 
    EXIT_WITH_SQLITE_ERR(db);

sqlite3_stmt *insertStmt = NULL;
rc = sqlite3_prepare_v2(db, 
    "INSERT INTO items "
    "(userid,firstname,lastname,username,password,email,userphone,time)"
    "VALUES"
    "(:userid,:firstname,:lastname,:username,:password,:email,:userphone,:time);",
    -1, &insertStmt, NULL);
if (rc != SQLITE_OK) EXIT_WITH_SQLITE_ERR(db);

rc = sqlite3_bind_int(insertStmt, 1, atoi(data->userid));
if (rc != SQLITE_OK) EXIT_WITH_SQLITE_ERR(db);
rc = sqlite3_bind_text(insertStmt, 2, data->firstname, -1, SQLITE_STATIC);
if (rc != SQLITE_OK) EXIT_WITH_SQLITE_ERR(db);
rc = sqlite3_bind_text(insertStmt, 3, data->lastname, -1, SQLITE_STATIC);
if (rc != SQLITE_OK) EXIT_WITH_SQLITE_ERR(db);
rc = sqlite3_bind_text(insertStmt, 4, data->username, -1, SQLITE_STATIC);
if (rc != SQLITE_OK) EXIT_WITH_SQLITE_ERR(db);
rc = sqlite3_bind_text(insertStmt, 5, data->password, -1, SQLITE_STATIC);
if (rc != SQLITE_OK) EXIT_WITH_SQLITE_ERR(db);
rc = sqlite3_bind_text(insertStmt, 6, data->email, -1, SQLITE_STATIC);
if (rc != SQLITE_OK) EXIT_WITH_SQLITE_ERR(db);
rc = sqlite3_bind_int(insertStmt, 7, atoi(data->userphone));
if (rc != SQLITE_OK) EXIT_WITH_SQLITE_ERR(db);
rc = sqlite3_bind_text(insertStmt, 8, data->time, -1, SQLITE_STATIC);
if (rc != SQLITE_OK) EXIT_WITH_SQLITE_ERR(db);

rc = sqlite3_step(insertStmt);
if (rc != SQLITE_DONE && rc != SQLITE_OK) EXIT_WITH_SQLITE_ERR(db);

sqlite3_finalize(insertStmt);

// call to sqlite3_close() helps to find resource leaks, because it fails
// if you have obvious leaks, such as prepared statements not finalized
rc = sqlite3_close(db);
if (rc != SQLITE_OK) EXIT_WITH_SQLITE_ERR(db);
} 
```

# android - 如何使用 facebook 积分进行 android 支付

> ID：11288094
> 
> 赞同：2
> 
> 时间：2012-07-02T05:16:39.353
> 
> 标签：android

我只想使用 facebook gateway 在 android 中付款。是否可以在 android 本机应用程序中进行。如果可能意味着，我该怎么做？我已经搜索过“http://developers.facebook.com/docs/credits/”。但我不知道我们可以在android上实现它吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T05:21:39.947

[https://www.facebook.com/help/?faq=172290966189492](https://www.facebook.com/help/?faq=172290966189492)

> Facebook Credits 可以在原生 iOS 和 Android 应用程序中使用吗？
> 
> 移动设备上的 Facebook Credits 不支持原生 iOS 或 Android 应用程序。Facebook Credits 可用于基于移动浏览器的网络应用程序。我们要求开发人员检查主机平台的服务条款和支付指南，以确保合规。固定链接 ·

# c# - 反序列化 XML 文件时出错

> ID：11288098
> 
> 赞同：0
> 
> 时间：2012-07-02T05:17:07.560
> 
> 标签：c#, xml, winforms, .net-2.0

我正在尝试反序列化 XML 并显示其元素的值，但出现此错误：

![在此处输入图像描述](../Images/85c4908d887d7c44d5fe85be0285627c.png)

我刚刚从互联网上找到了一些示例，并尝试根据需要编辑代码，但我相信我做得不对。请参阅下面的类和示例 XML 数据。您的意见和建议将不胜感激。

**主窗体**

```
public partial class MainForm : Form
{
    public MainForm()
    {
        InitializeComponent();
    }

    public FileInfo ItemFile
    {
        get
        {
            return new FileInfo(@"C:\Data_120702-015842_440.xml");
        }
    }

    void MainFormLoad(object sender, EventArgs e)
    {
        if (ItemFile.Exists)
        {
            List<Record> lst = new List<Record>();
            XmlSerializer xml = new XmlSerializer(lst.GetType());

            using (Stream s = ItemFile.OpenRead())
            {
                lst = xml.Deserialize(s) as List<Record>;
            }

            _items.Add(item);

            MessageBox.Show(lst[0].Material_Code);
        }
    }
} 
```

**记录**

```
public class Record
{
    public string Material_Code;        
    public string Sub_Brand_Code;
    public string Sub_Brand_Text;
    public string Pack_Size_Code;
    public string Pack_Size_Text;
    public string Pack_Type_Code;
    public string Pack_Type_Text;

    public Record()
    {
    }

    public Record(string Material_Code,
              string Sub_Brand_Code,
              string Sub_Brand_Text,
              string Pack_Size_Code,
              string Pack_Size_Text,
              string Pack_Type_Code,
              string Pack_Type_Text
              )

    {
        this.Material_Code = Material_Code;         
        this.Sub_Brand_Code = Sub_Brand_Code;
        this.Sub_Brand_Text = Sub_Brand_Text;
        this.Pack_Size_Code = Pack_Size_Code;
        this.Pack_Size_Text = Pack_Size_Text;
        this.Pack_Type_Code = Pack_Type_Code;
        this.Pack_Type_Text = Pack_Type_Text;

    }
} 
```

**XML 结构**

```
<?xml version="1.0" encoding="UTF-8"?>
<MntProdHierAttrMDM>
    <Record>
        <Material_Code>60024517</Material_Code>
        <Sub_Brand_Code>SB000416</Sub_Brand_Code>   
        <Sub_Brand_Text>Zwitsal</Sub_Brand_Text>
        <Pack_Size_Code>PS000224</Pack_Size_Code>
        <Pack_Size_Text>50ML</Pack_Size_Text>
        <Pack_Type_Code>PT000042</Pack_Type_Code>
        <Pack_Type_Text>BOTTLE</Pack_Type_Text>
    </Record>
</MntProdHierAttrMDM> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T05:34:35.123

您需要将命名空间添加到 xml 中的指定元素。

每当我遇到反序列化问题时，我都会让序列化器为我解决问题；编写代码以序列化对象，并打开序列化程序生成的 xml 文件。

有关执行序列化的代码示例，请参阅[http://msdn.microsoft.com/en-us/library/bdxxw552 。](http://msdn.microsoft.com/en-us/library/bdxxw552)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T05:32:27.480

```
[XmlRoot(ElementName = "MntProdHierAttrMDM")]
public class RecordCollection : List<Record>
{
   public RecordCollection() : base(){}
   public RecordCollection(int capacity) : base(capacity){}
}

void MainFormLoad(object sender, EventArgs e)
{
    if (ItemFile.Exists)
    {
        RecordCollection lst = new RecordCollection();
        XmlSerializer xml = new XmlSerializer(typeof(RecordCollection));

        using (Stream s = ItemFile.OpenRead())
        {
            lst = xml.Deserialize(s) as RecordCollection;
        }

        _items.Add(item);

        MessageBox.Show(lst[0].Material_Code);
    }
} 
```

# c++ - C++ 异常：为什么要使用或扩展 std::exception？

> ID：11288099
> 
> 赞同：5
> 
> 时间：2012-07-02T05:17:09.993
> 
> 标签：c++, exception

根据[这个站点](http://www.cplusplus.com/doc/tutorial/exceptions/)，它完全可以用来抛出一个字符串或整数。我觉得这很干净，很容易理解。`throw "description of what happened"`而不是的缺点是什么`throw std::runtime_error("description of what happened")`？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-02T05:22:29.070

那个网站是愚蠢的，并且教授糟糕的设计。

如果你抛出`int`or `char*`，那么你将不得不使用`int`or来捕捉它`char*`。您可以使用`const`.

如果你抛出`std::runtime_error`，那么你可以使用它`std::runtime_error const &`或者它的基类来捕捉它`std::exception const &`。

那么它有什么好处呢？

这样做的好处是，如果您使用最终派生自的类抛出异常`std::exception`，那么您可以只编写一个`catch`接受异常的块`std::exception const&`，而不管使用[哪个*派生*类](http://en.cppreference.com/w/cpp/error/exception)来抛出异常。

这是一个例子：

```
void f(A & a)
{
    if ( !check_arg(a) )
    {
          throw std::invalid_argument("invalid argument");
    }
    else if ( !check_size(a) )
    {
          throw std::length_error("invalid length");            
    }

    //code
    if(someCondition)
    {
          //assume your_own_defined_exception's ultimate base is std::exception
          throw your_own_defined_exception("condition unsatisfied");                         
    }
    //...

} 
```

现在有趣的部分：

```
try
{
      f(a); //it can throw exception of at least 3 types!
}
catch(std::exception const &e) //all types can be caught by just one catch!
{
     //handle this case
} 
```

好处是您*不需要*编写**三个** `catch`块，因为`f()`可能会抛出**三种**不同类型的异常。如果这对您有所帮助，您*可以*编写多个以不同方式处理它们。`catch`但这里要注意的一点是：这**不是**必需的！

简而言之，您可以利用类层次结构。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-02T05:24:27.967

如果您在代码中规定只抛出从 std::exception 派生的异常，那么捕获它们就更容易了。换句话说，您可以在 std::exception 上只使用一个 catch 子句：

```
catch (std::exception& e)
{
    log_message(e);
    throw;
} 
```

但是如果你不遵循这条规则，那么你最终不得不在你不需要的时候编写 catch 子句。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-02T05:22:22.003

主要是因为当你与其他人一起工作时，你必须就捕捉什么达成一致。如果我尝试 catch a`const std::exception&`而你 throw `const char*`，那么我不会抓住你的东西，而且可能会发生坏事。

只要每个人都坚持下去，什么类型的被抛出和捕获并不重要。我想`std::exception`被选中是`const char*`因为它允许您将不仅仅是一个字符串放入异常对象中。它只是更灵活。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-02T07:22:12.843

他其他答案的另一点是 -

如果你抛出一个 int 或一个字符串，并且你想捕获*一个*特定的错误，你就做不到。您必须捕获所有“int”异常，然后比较您想要捕获的异常，然后重新抛出您不准备处理的任何异常。如果您从异常继承，您可以捕获您想要处理的特定异常，并且仍然具有如果您想处理所有异常，您可以捕获 std::exception 的优势。

# python - Python源代码转换

> ID：11288100
> 
> 赞同：0
> 
> 时间：2012-07-02T05:17:22.753
> 
> 标签：python, io

> **可能重复：**
> [Python - 解析 .py 文件，读取 AST，修改它，然后写回修改后的源代码](https://stackoverflow.com/questions/768634/python-parse-a-py-file-read-the-ast-modify-it-then-write-back-the-modified)

我已经对此进行了多次搜索，但每次搜索类似的内容时，我都会得到基本的 I/O 结果。我不想要基本的 I/O。

我正在寻找一个库或某种资源，我可以从制作可以从 python 文件中操作/添加/删除的 Python 代码开始。不是自动的，而是有某种提示。它还必须能够运行其他 python 文件。

本质上，我想要一个可以有效处理 Python 文件的 I/O 系统。我不知道我是否只是愚蠢或是否存在这样的事情......有什么帮助吗？

# javascript - DHTMLX 调度程序不会加载数据

> ID：11288101
> 
> 赞同：0
> 
> 时间：2012-07-02T05:17:25.503
> 
> 标签：javascript, html, xml, calendar, dhtmlx

我正在使用 DHTMLX 生成日历视图。

我已经关注了 DHTMLX 网站上关于如何加载日历的教程。是的，它工作完美，但数据不会加载。

此示例代码来自 dhtmlx 网站

```
function init() {
    scheduler.config.multi_day = true;

    scheduler.config.xml_date="%Y-%m-%d %H:%i";
    scheduler.init('scheduler_here',new Date(2010,7,5),"week");
    scheduler.load("../common/events2010.xml");
} 
```

加载主体时加载 init() 函数的位置

<body onload="init();">

我用 jquery 更改事件 onload。它看到运行正确

```
$(document).ready(function(){
    AnyTime.picker( "BookDateStart",
    { format: "%z-%m-%d %H:%i:00", firstDOW: 1 } );

    AnyTime.picker( "BookDateFinish",
    { format: "%z-%m-%d %H:%i:00", firstDOW: 1 } );

    scheduler.config.multi_day = true;
    scheduler.config.xml_date="%Y-%m-%d %H:%i";
    // scheduler.config.readonly=true;
    scheduler.init('scheduler_here',new Date(2010,7,5),"week");
    scheduler.load("../common/events2010.xml");
}); 
```

但是当我更改 xml 位置时，数据不会加载。我确定我输入的 xml 位置是正确的。

我的错误是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T12:03:53.013

> 但是当我更改 xml 位置时

如果您将 xml 文件移动到不同的服务器，由于跨域安全性，它将无法工作。

虽然 xml 文件与 html 页面位于同一服务器上 - 必须正确加载数据。

# java - Netbeans Java GUI 编辑器预览问题

> ID：11288103
> 
> 赞同：-2
> 
> 时间：2012-07-02T05:17:36.890
> 
> 标签：java, swing, user-interface, netbeans, layout-manager

一段时间以来，我一直在使用 netbeans GUI 编辑器为我正在设计的应用程序设计前端 GUI，它基于使用 CardLayout，下面的图像应该显示一个简单的登录屏幕。然而，在我做了一些改变（我添加了一个新面板）之后，整个事情都疯了！图像偏离中心，屏幕的一半根本无法渲染。任何有关此原因或任何修复的建议将不胜感激！

随时询问任何其他信息！

![这是我尝试预览设计时出现的内容](../Images/b55797c5308de13d3f6125066b87ae01.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T03:17:44.357

导致此问题的原因是，出于某种未知原因，netbeans 决定更改我的主机的参数，从而弄乱了其默认大小，从而导致了上图。单击主面板（即我正在使用的卡片布局的所有卡片的父级）时找到该参数，在属性选项卡>布局>水平尺寸和垂直尺寸已从“默认”更改为数值。这些是我以前从未接触过的属性，但现在已经改变了。

将值重置为“默认”解决了这个问题，我猜这只是其中一件奇怪的事情

# c++ - Boost.Test 链接器错误

> ID：11288105
> 
> 赞同：0
> 
> 时间：2012-07-02T05:18:11.337
> 
> 标签：c++, unit-testing, boost, linker-errors

我有以下代码：

```
#include <iostream>
#define BOOST_TEST_MODULE my test
#include <boost/test/unit_test.hpp>

BOOST_AUTO_TEST_CASE( tmp_test )
{
    std::string str("");
    std::cout << "This is a simple test!" << std::endl;
}

//EOF 
```

它编译和链接没有错误。

但是如果我尝试使用以下代码

```
#include <iostream>
#define BOOST_TEST_MODULE my test
#include <boost/test/unit_test.hpp>

BOOST_AUTO_TEST_CASE( tmp_test )
{
    std::string str("");
    BOOST_CHECK_EQUAL(str.length(), (size_t)0);
    std::cout << "This is a simple test!" << std::endl;
}

//EOF 
```

我得到错误：

```
ubuntu% g++ -std=c++0x -static -L/usr/local/lib -lboost_unit_test_framework boost_test_eq.cpp -o boost_test_eq
/tmp/ccJL5Dxk.o: In function `bool boost::test_tools::tt_detail::check_frwd<boost::test_tools::tt_detail::equal_impl_frwd, unsigned int, unsigned int>(boost::test_tools::tt_detail::equal_impl_frwd, boost::unit_test::lazy_ostream const&, boost::unit_test::basic_cstring<char const>, unsigned int, boost::test_tools::tt_detail::tool_level, boost::test_tools::tt_detail::check_type, unsigned int const&, char const*, unsigned int const&, char const*)':
boost_test_square_eq.cpp:(.text._ZN5boost10test_tools9tt_detail10check_frwdINS1_15equal_impl_frwdEjjEEbT_RKNS_9unit_test12lazy_ostreamENS5_13basic_cstringIKcEEjNS1_10tool_levelENS1_10check_typeERKT0_PSA_RKT1_SH_[bool boost::test_tools::tt_detail::check_frwd<boost::test_tools::tt_detail::equal_impl_frwd, unsigned int, unsigned int>(boost::test_tools::tt_detail::equal_impl_frwd, boost::unit_test::lazy_ostream const&, boost::unit_test::basic_cstring<char const>, unsigned int, boost::test_tools::tt_detail::tool_level, boost::test_tools::tt_detail::check_type, unsigned int const&, char const*, unsigned int const&, char const*)]+0xe9): undefined reference to `boost::test_tools::tt_detail::check_impl(boost::test_tools::predicate_result const&, boost::unit_test::lazy_ostream const&, boost::unit_test::basic_cstring<char const>, unsigned int, boost::test_tools::tt_detail::tool_level, boost::test_tools::tt_detail::check_type, unsigned int, ...)'
collect2: ld returned 1 exit status 
```

这里有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:47:49.633

显然，Ubuntu 11.04 附带的 gcc 中的参数顺序发生了变化。更多信息：[Ubuntu 11.10 中的链接器问题](https://stackoverflow.com/questions/8984408/linker-problems-in-ubuntu-11-10)

```
ubuntu% g++ boost_test_eq.cpp -o boost_test_eq -std=c++0x -static -L/usr/local/lib -lboost_unit_test_framework 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2022-01-17T09:16:06.137

试试这个：

```
sudo apt install g++ cmake make libboost-dev 
```

# blackberry - 黑莓编辑字段错误

> ID：11288107
> 
> 赞同：-1
> 
> 时间：2012-07-02T05:18:35.277
> 
> 标签：blackberry, blackberry-editfield

我有一个自定义编辑字段

```
public class Custom_EditField extends EditField {
int width, row;

Custom_EditField(long style, int width, int row) {
    super(style);
    this.width = width;
    this.row = row;
}

protected void layout(int width, int height) {
    width = this.width;
    height = this.row;
    super.layout(width, Font.getDefault().getHeight() * row);
    super.setExtent(width, Font.getDefault().getHeight() * row);
}

public int getPreferredHeight() {
    return Font.getDefault().getHeight() * row;
}

public int getPreferredWidth() {
    return width;
}

public void paint(Graphics graphics) {
    super.paint(graphics);
    graphics.setBackgroundColor(Color.GRAY);
    graphics.clear();
    graphics.setColor(Color.BLACK);
    int labelWidth = getFont().getAdvance(getLabel());
    graphics.drawRect(labelWidth, 0, getWidth() - labelWidth, getHeight());
    graphics.drawText(this.getText(), 0, 0);
}
} 
```

当我在编辑字段中键入一整行单词时，它会导致错误。似乎无法自动转到下一行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:26:40.363

BlackBerry UI 中布局方法的参数是最大值，您的自定义代码在设置字段范围时不会尝试遵循这些最大值。这将导致您的布局出现问题。此外，paint() 方法不是更改文本字段绘图的最佳位置，因为它不理解文本换行。如果您想更改文本的绘制方式，但在执行换行之后，您想改写 drawText。

这大约是您想要的，但您需要进行更多调整以使其按您期望的方式工作：

```
protected void layout(int maxWidth, int maxHeight) {
    super.layout(maxWidth, Math.min(maxHeight, Font.getDefault().getHeight() * row));
    super.setExtent(maxWidth, Math.min(maxHeight, Font.getDefault().getHeight() * row));
}

public int drawText(Graphics graphics,
                int offset,
                int length,
                int x,
                int y,
                DrawTextParam drawTextParam) {
    graphics.setBackgroundColor(Color.GRAY);
    graphics.clear();
    graphics.setColor(Color.BLACK);
    int labelWidth = getFont().getAdvance(getLabel());
    graphics.drawRect(labelWidth, 0, getWidth() - labelWidth, getHeight());
    graphics.drawText(this.getText().substring(offset, offset + length), x, y);
} 
```

# php - 将枚举类型变量存储到数据库中

> ID：11288114
> 
> 赞同：1
> 
> 时间：2012-07-02T05:20:16.343
> 
> 标签：php, mysql

我有我的 registerUsers.html 如下

```
<html>
<head>
<title>userlogin</title>
</head>
<body>
<h1><center>User login</center></h1>
<p>
<strong><font color= "green"> REGISTER HERE </font></strong>
<br>
<form method="post" action="registerUsers.php">
<p><strong>ID:</strong><br/>
<input type="text" name="id"/></p>
<p><strong>FirstName:</strong><br/>
<input type="text" name="firstname"/></p>
<p><strong>Lastname:</strong><br/>
<input type="text" name="lastname"/></p>
<p><strong>Username:</strong><br/>
<input type="text" name="username"/></p>
<p><strong>Password:</strong><br/>
<input type="password" name="password"/></p>
Admin <input type="radio" name="type" value="admin" /><br />
Author <input type="radio" name="type" value="author" checked="checked"/>
<p><input type="submit" name="submit" value="Register"/></p>
</form>
</p>

</body>
</html> 
```

和 registerUsers.php 如下

```
<?php
include("dbconnect.php");
$con=new dbconnect();
$con->connect();
if(isset($_POST['submit'])) {
       $type=0;

        if($_POST['type'] =="admin")
        $type = 1;
        if($_POST['type'] =="author")
        $type = 0;

    $sSql = "INSERT INTO users 
         ( id, first_name, last_name,username, password, type)
         VALUES ('$_POST[id]', '$_POST[firstname]', '$_POST[lastname]', '$_POST[username]', PASSWORD(\"$_POST[password]\"), $type)";

    mysql_query($sSql);

    echo '<h2>USER REGISTERED</h2><br />';
}
?> 
```

当我选择“作者”单选按钮时，没有任何内容存储在数据库的“类型”变量中。如果我选择管理员，“管理员”存储在类型变量中。我该如何解决这个问题，以便“作者”可以存储在数据库的“用户”表中。

任何想法或帮助将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T05:26:48.737

如果您在数据库中使用可接受的值“Author”和“Admin”创建了类型 Enum，则不应将 0 和 1 传递给它。您传递“Admin”或“Author”，数据库会将其视为 0 和 1，但对您而言，它会显示“admin”和“author”。

# magento - Magento，如何在新的注册表单中添加客户组字段？

> ID：11288118
> 
> 赞同：2
> 
> 时间：2012-07-02T05:20:51.643
> 
> 标签：magento

如何在magento前端注册用户时添加客户组字段？

有什么方法可以根据用户组区分网上商店吗？

# python - 在 Python 中从 UDP 执行异步套接字读取的最简单方法？

> ID：11288120
> 
> 赞同：1
> 
> 时间：2012-07-02T05:21:14.050
> 
> 标签：python, multithreading, sockets, udp, tornado

我试图找到从 python 中的多个（大约 100 个）udp 数据报套接字读取的最简单方法。我看过龙卷风，但龙卷风吹捧的是 http/tcp 而不是 udp 支持。

现在我有专门用于每个 udp 套接字的线程；但是，这似乎不是很有效。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T06:17:21.643

[*SocketServer*](http://docs.python.org/library/socketserver.html#module-SocketServer)模块有一个内置的 UDP 服务器，带有线程和分叉选项。

另一种选择是使用[*select*](http://docs.python.org/library/select.html#module-select)模块，它允许您只关注数据已经可供读取的套接字。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T05:27:07.077

我必须承认我从未使用过它，但也许[Twisted](http://twistedmatrix.com)会满足您的需求。

它支持许多协议，甚至是串行连接。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-02T06:54:36.990

我想对最初的问题添加一些评论，即使它已经有一个公认的答案。

如果您有**多个需要独立处理的连接**（或至少在没有太多同步的情况下进行处理），则可以为每个连接使用一个线程并进行阻塞读取。现代调度程序不会因为那个而杀死你。这是处理连接的一种相当有效的方法。如果您担心内存占用，您可以相应地减少线程的堆栈大小（不适用于 python）。

线程/进程将在大部分时间（等待新数据时）保持非忙等待状态，并且不消耗任何 CPU 时间。

如果您不想或不能使用线程，那么[`select`](http://docs.python.org/library/select.html)调用肯定是要走的路。这也是低级和高效的等待，并且作为奖励，为您提供触发的套接字列表。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-11T18:48:51.977

[asyncoro](http://asyncoro.sourceforge.net "异步")支持异步 TCP 和 UDP 套接字（以及许多其他功能）。与其他框架不同，使用 asyncoro 进行编程与使用线程非常相似。一个简单的 UDP 客户端/服务器程序来说明：

```
import socket, asyncoro

def server_proc(n, sock, coro=None):
    for i in xrange(n):
        msg, addr = yield sock.recvfrom(1024)
        print('Received "%s" from %s:%s' % (msg, addr[0], addr[1]))
    sock.close()

def client_proc(host, port, coro=None):
    sock = asyncoro.AsynCoroSocket(socket.socket(socket.AF_INET, socket.SOCK_DGRAM))
    msg = 'client socket: %s' % (sock.fileno())
    yield sock.sendto(msg, (host, port))
    sock.close()

if __name__ == '__main__':
    sock = asyncoro.AsynCoroSocket(socket.socket(socket.AF_INET, socket.SOCK_DGRAM))
    sock.bind(('127.0.0.1', 0))
    host, port = sock.getsockname()

    n = 100
    server_coro = asyncoro.Coro(server_proc, n, sock)
    for i in range(n):
        asyncoro.Coro(client_proc, host, port) 
```

asyncoro 尽可能使用有效的轮询机制。只有 Windows 和 UDP 套接字才使用低效的“选择”（但如果安装了[pywin32](https://sourceforge.net/projects/pywin32/ "pywin32") ，则对 TCP 使用高效的 Windows I/O 完成端口）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-07T20:36:04.743

我认为如果你坚持使用 tornado 的 ioloop 并想做 UDP 套接字处理，你应该使用 UDP 版本的 tornado IOStream。我在自己的项目中成功地做到了这一点。称它为 UDPStream 有点用词不当（因为它不是一个流），但基本的使用应该很容易集成到您的应用程序中。

参见代码： http: [//kyle.graehl.org/coding/2012/12/07/tornado-udpstream.html](http://kyle.graehl.org/coding/2012/12/07/tornado-udpstream.html)

# powershell - Powershell CmdLet 和一次性字段 / CA1001

> ID：11288122
> 
> 赞同：4
> 
> 时间：2012-07-02T05:21:35.317
> 
> 标签：powershell

CmdLets 和一次性字段的可接受模式是什么？

FxCop 规则是：拥有一次性字段的类型应该是一次性的

但除非 PowerShell 调用 dispose 方法......它不会真正帮助实现该模式。

到目前为止，我使用 Begin/EndProcessing 方法来设置和清除字段。

遗憾的是，我找不到任何关于 PowerShell 是否正确调用 Dispose 方法的文档。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-03T00:29:58.267

在实现 Cmdlet（或 PSCmdlet）派生命令时，请实现 IDisposable，PowerShell 将在管道完成时为您处理您的命令。就这么简单。您是否看到与此相矛盾的行为？

更新，一个 LetMeGoogleThatForYou：

> “...因此，需要对象清理的 cmdlet 应实现完整的 IDisposable 模式，包括终结器，以便运行时可以在处理结束时调用 System.Management.Automation.Cmdlet.EndProcessing 和 Dispose 方法。”

来自： http: [//msdn.microsoft.com/en-us/library/windows/desktop/ms714463 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms714463(v=vs.85).aspx)

# mysql - 多个房间的SQL数据库设计多个员工的入住和退房时间

> ID：11288127
> 
> 赞同：1
> 
> 时间：2012-07-02T05:21:59.533
> 
> 标签：mysql, sql, database-design

我正在开发一个网络应用程序，用于跟踪工作人员在某些房间的签到和签出时间。我有多个员工，多个房间，以及每个房间的入住和退房时间。每次工人进入或离开房间时，他们都会扫描一个二维码，该二维码在该房间的 URL 中有一个 ID 变量；我需要记录房间、日期/时间、员工姓名，以及是否进出。

一种方法是制作一张表格，如下所示：

> **房间 | 员工 | 时间 | 进出|**

*数据将输入到数据库中，例如：*

```
Mens Room, Joe, 6/29 7:30, In

Womens Room, John, 6/29 7:35, In

Mens Room, Joe, 6/29 8:00, Out

Womens Room, John, 6/29 8:05, Out 
```

*我想像这样查看它：*

```
Mens Room, Joe, 6/29 7:30, In

Mens Room, Joe, 6/29 8:00, Out

Womens Room, John, 6/29 7:35, In

Womens Room, John, 6/29 8:05, Out 
```

我想查看按入住时间排序的数据，但将下一行作为该房间的下一次退房时间。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-02T05:31:32.037

您可以使用三个表：

**表 1：员工**

EmpID ....int ....主键
EmpName ....varchar(50)

**表 2：房间**

RoomNo ........ int ........ 主键
RoomDetails ..... varchar(20)

**表 3：EmployeeInOut**

Id ........int ...... PK
EmpID ...... int ....... FK
RoomNo ......int ........ FK InTime
。 ..... 日期
时间 OutTime ...... 日期时间

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-02T05:36:14.480

创建两个查找表..

> 1.  员工 {emp_id (pk), 员工信息}
>     
>     
> 2.  房间 {room_id (pk), 房间信息}

还有一张参考表..

> 1.  Room_Employee_log {log_id (pk), room_id (fk-Room), employee_id (fk-Employee), log_time, direction (in/out)}

# javascript - 更改 D3 链接的外观

> ID：11288131
> 
> 赞同：1
> 
> 时间：2012-07-02T05:22:53.207
> 
> 标签：javascript, tree, data-visualization, d3.js

我想将数据可视化为一棵树，但我也想自定义默认链接外观。[那里](http://mbostock.github.com/d3/ex/cluster.html)显示了默认外观，但我想创建看起来像[Rational Software Architect](http://www.ibm.com/developerworks/ru/library/dm-0708chang/figure01.jpg)链接的链接。是否可以？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T17:58:43.513

链接是 SVG 路径元素。您可以使用[CSS](http://www.w3.org/TR/SVG/styling.html#StyleAttribute)设置样式以更改颜色、宽度等。对于箭头，您可以使用[SVG Markers](http://www.w3.org/TR/SVG/painting.html#Markers)。要添加标签，您需要添加额外的 SVG 文本元素。例如，您可以添加一个带有树[链接](https://github.com/mbostock/d3/wiki/Tree-Layout#wiki-links)的新选择，作为为 UML 基数创建 SVG 文本元素的数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T03:46:43.683

我已经通过编写自己的路径处理程序来完成它。这是示例代码：

```
function elbow(d) {
        var radius = 10;

        var xOffsetSign = Math.sign(d.source.x - d.target.x);
        var yOffsetSign = Math.sign(d.source.y - d.target.y);

        if (xOffsetSign != 0) {
            var ellipseXDirection = (xOffsetSign * yOffsetSign) > 0 ? 1 : 0;

            return "M" + d.source.x + "," + d.source.y
                + " H" + (d.target.x + xOffsetSign * radius)
                + " A" + radius + "," + radius + " 0 0," + ellipseXDirection + " " + d.target.x + "," + (d.source.y - yOffsetSign * radius)
                + " V" + d.target.y
                + (d.target.children ? "" : "h" + margin.right);
        } else {
            return "M" + d.source.x + "," + d.source.y
                + " H" + d.target.x + " V" + d.target.y
                + (d.target.children ? "" : "h" + margin.right);
        }
    } 
```

**函数 Math.sign 是我自己的实现**

# python - Python方法参数列表

> ID：11288133
> 
> 赞同：1
> 
> 时间：2012-07-02T05:23:56.890
> 
> 标签：python

在方法定义中，为什么有人将形式参数设置为`amount`等于`PERMANENCE_INC`形式参数列表中的常量？

```
def increasePermanence(self, amount=PERMANENCE_INC): 
    """ Increases the permanence of this synapse. """ 
    self.permanence = min(1.0, self.permanence+amount) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T05:28:23.613

如果在调用函数时未提供参数，则为参数提供默认值。

例如，要增加默认值的持久性，您可以调用：

```
obj.increasePermanence() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T05:27:35.207

此表单`amount`生成一个可选参数，默认值为`PERMANENCE_INC`.

# iphone - iphone中的动态UIButton控件和动作？

> ID：11288139
> 
> 赞同：0
> 
> 时间：2012-07-02T05:24:33.307
> 
> 标签：iphone, dynamic, checkbox, uibutton

我正在创建一个包含动态页面的应用程序。实际上，我通过检查来自服务器的响应创建了一些动态问题和 UIButtons（自定义复选框）。我的代码在这里，

```
 NSString *response=[ResponseFromServer ObjectAtIndex:0];

 if ([comSt compare: @"CheckBoxList"]==NSOrderedSame)
            {

                int count=[ResponseFromServer count];

                            for(int i=0;i<count;i++)
                            {

                                button = [UIButton buttonWithType:UIButtonTypeRoundedRect];
                                button.tag=i;
                                [button setFrame:CGRectMake(0.0f, 0.0f, 37, 37)];
                                [button setCenter:CGPointMake(116.0,p1)];
                                [button setImage:[UIImage imageNamed:@"uncheck.png"] forState:UIControlStateNormal];

                                [button setBackgroundColor:[UIColor whiteColor]];
                                [button addTarget:self action:@selector(checkButtonTapped:) forControlEvents:UIControlEventTouchUpInside];
                                [self.scrollView addSubview:button];

                                p1=p1+30;
                            }

-(void)checkButtonTapped:(id)sender
    {

      int tagVal = [(UIButton*)sender tag]; 

         if (tagVal==0) {
              NSLog(@"tag =  0");

             [button setSelected:YES];
             [button setImage:[UIImage imageNamed:@"check.png" forState:UIControlStateSelected];  //not working, button image is not changing 

      } 
```

假设我创建了 5 个具有不同标签的动态按钮。我首先将所有这些按钮的图像设置为 uncheck.png。有用。但是当我单击特定按钮并需要将该按钮图像更改为checked.png时，它无法处理按钮操作。我需要像复选框控件一样更改它，我将如何从一组按钮访问动态创建的按钮的控件？

我想你可以理解我的要求，提前谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T05:55:10.910

在您的代码中，您需要像这样更改

试试这个代码

```
 if ([comSt compare: @"CheckBoxList"]==NSOrderedSame)
    {
        int count=[ResponseFromServer count];

        for(int i=0;i<count;i++)
        {
            button = [UIButton buttonWithType:UIButtonTypeRoundedRect];
            button.tag=0; 
            [button setFrame:CGRectMake(0.0f, 0.0f, 37, 37)];
            [button setCenter:CGPointMake(116.0,p1)];
            [button setImage:[UIImage imageNamed:@"uncheck.png"] forState:UIControlStateNormal];

            [button setBackgroundColor:[UIColor whiteColor]];
            [button addTarget:self action:@selector(checkButtonTapped:) forControlEvents:UIControlEventTouchUpInside];
            [self.scrollView addSubview:button];

            p1=p1+30;
        }
    }
-(void)checkButtonTapped:(id)sender
    {
        int tagVal = [(UIButton*)sender tag]; 

        if (tagVal==0) {
            NSLog(@"tag =  0");

            [button setSelected:YES];
            [button setImage:[UIImage imageNamed:@"check.png" forState:UIControlStateSelected];   

             [button setTag:100];

             }

             else
             {

                 [button setSelected:YES];
                 [button setImage:[UIImage imageNamed:@"uncheck.png" forState:UIControlStateSelected];   

                  [button setTag:0];
                  }
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T05:56:55.577

同时添加动态按钮集[button setSelected:NO]；

替换方法并添加下面给出的一种方法

```
 -(void)checkButtonTapped:(id)sender
{

  UIButton *curButton = (UIButton*)sender 

  if (curButton.tag==0) 
  {
     [self buttonAction:curButton];
  }

  if (curButton.tag==1) 
  {
      [self buttonAction:curButton];
  }

  // continues
 }

 -(void)buttonAction:(UIButton *)curButton
 {

   if(![curButton isSelected])
     {
       [curButton setSelected:YES];
       [curButton setImage:[UIImage imageNamed:@"check.png" forState:UIControlStateSelected];  //not working, button image is not changing 
     } else {
       [curButton setSelected:NO];
       [curButton setImage:[UIImage imageNamed:@"uncheck.png"] forState:UIControlStateNormal];

     }
 } 
```

# java - 如何在 JProfiler 中配置 Web 应用程序？

> ID：11288141
> 
> 赞同：-1
> 
> 时间：2012-07-02T05:24:44.767
> 
> 标签：java, jprofiler

我想将 Web 应用程序配置为 JProfiler 7.1.2。以下是我在配置会话时执行的详细信息。

网络服务器：Tomcat 5.0 操作系统：Windows XP

1.  我们选择了会话类型为“Web Start”。

2.  在 Web Start 设置部分，如何选择 JNLP 文件的 URL？（我们找不到 JNLP 文件）。

3.  我们还选择了 Java VM 作为“Oracle JRE 1.6.0_22”。

4.  我们已经配置了类路径。

5.  一段时间后单击“确定”后，应用程序错误显示为“无法启动应用程序”。

它显示错误详细信息如下

```
CouldNotLoadArgumentException[ Could not load file/URL specified: D:\jakarta-tomcat-5.0.19\conf]
    at com.sun.javaws.Main.launchApp(Unknown Source)
    at com.sun.javaws.Main.continueInSecureThread(Unknown Source)
    at com.sun.javaws.Main$1.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source) 
```

还有一个问题，如何添加我的项目类？我在内存视图中看不到项目类文件 --> 协议级别 --> 类

请指导我。等待回复

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T08:36:55.920

“Java Web start”与 Web 应用程序无关。要分析 Tomcat，请调用

会话->集成向导->新服务器集成

并按照向导中的步骤进行操作。

# android - Windows 7 64bit android AVD 启动错误：分配内存失败：8

> ID：11288142
> 
> 赞同：21
> 
> 时间：2012-07-02T05:24:49.323
> 
> 标签：android, windows-7-x64

我刚刚更新到 Android SDK Tools r20，并尝试基于 android 4.1 和 WXGA 创建 avd，但在启动 AVD 时出现错误消息。

配置.ini：

```
hw.mainKeys=no
hw.lcd.density=320
sdcard.size=512M
skin.name=WXGA720
skin.path=platforms\android-16\skins\WXGA720
hw.cpu.arch=arm
hw.keyboard.lid=no
abi.type=armeabi-v7a
hw.cpu.model=cortex-a8
vm.heapSize=48
hw.ramSize=1024
image.sysdir.1=system-images\android-16\armeabi-v7a\ 
```

错误信息：

```
Starting emulator for AVD 'android4.1'
Failed to allocate memory: 8
This application has requested the Runtime to terminate it in an unusual way.
Please contact the application's support team for more information. 
```

错误仅在我选择 WXGA 皮肤时输出，无论是 720 还是 800 我看到[Failed to allocate memory: 8](https://stackoverflow.com/questions/7222906/failed-to-allocate-memory-8) page to find solution 并尝试更改内存大小，但没有解决我的问题。

我的系统环境：

```
OS: windows 7 64bit
memory: 4GB 
```

我试图在 Windows 7 中启动 android 4.0.3 WXGA，得到了同样的错误。但同一台机器在Ubuntu 64bit android SDK tools r18，创建android 4.0.3 WXGA，启动正常。

那么，我可以为这个问题做些什么呢？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-08-11T22:03:54.763

这似乎是 SDK Tools r20 的问题，其中无法从 AVD 管理器为 WXGAxxx 皮肤设置 RAM 量（对于 32 位模拟器来说，默认的 1024 MB 太大了）。

**解决方法**

您可以通过从命令行启动 AVD 来解决此问题，并将内存量硬设置为更低的值：

```
> cd c:\program (x86)\android\android-sdk\tools\
> emulator @android4.1 -memory 896 
```

上面的命令行会将 AVD 的内存量设置为 896 MB。可以在此处关注此错误：[http ://code.google.com/p/android/issues/detail?id=36080](http://code.google.com/p/android/issues/detail?id=36080)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-06-11T03:03:22.513

像这样修改 config.ini 文件：

> hw.ramSize=1024 --> hw.ramSize=1024M

它应该像魅力一样工作......

参考： http: [//www.fantageek.com/102/strange-avd-with-hw-ramsize/](http://www.fantageek.com/102/strange-avd-with-hw-ramsize/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-04T15:58:14.220

您是否在笔记本电脑上运行模拟器？

如果模拟器的屏幕分辨率大于您的显示器，也会出现此问题。例如`WXGA-xxx`，如果您的屏幕分辨率为 (1366x768)，则 (1280x800) 可能会崩溃。

尝试使用`WSVGA`. 作为平板电脑做得很好。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-07-15T00:38:56.253

将SDK Tools 从`r20`r18 降级将解决该问题。您需要通过 Uninstall`r20`和重新安装来执行此操作`installer_r18-windows.ex`。

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2012-08-11T22:07:24.387

尝试更新 ADT&SDK 。

如果这没有帮助，请尝试完全卸载 android 的 ADT&SDK。甚至删除“.android”文件夹，最后重新安装它们。

# ios - CGAffineTransform 更改 view.bounds？

> ID：11288143
> 
> 赞同：9
> 
> 时间：2012-07-02T05:25:05.557
> 
> 标签：ios, frame, cgaffinetransform, bounds

> 视图同时具有框架（父视图坐标系中的坐标）和边界（自身坐标系中的坐标）属性，但是如果您转换视图，则不应再使用或依赖框架属性。如果您正在使用转换，请仅使用 bounds 属性，而不是 frame 属性，因为转换应用于边界，但不一定准确反映在 frame

[http://iphonedevelopment.blogspot.jp/2008/10/demystifying-cgaffinetransform.html](http://iphonedevelopment.blogspot.jp/2008/10/demystifying-cgaffinetransform.html)

我想看看他在上一段中的意思并打印了“框架”和“边界”
，我看到只有“框架”在紧要关头发生了变化。

```
- (IBAction)handlePinch:(UIPinchGestureRecognizer*)recognizer
{
    NSLog(@"scale: %f, velocity: %f", recognizer.scale, recognizer.velocity);
    NSLog(@"Before, frame: %@, bounds: %@", NSStringFromCGRect(recognizer.view.frame), NSStringFromCGRect(recognizer.view.bounds));
    recognizer.view.transform = CGAffineTransformScale(recognizer.view.transform, recognizer.scale, recognizer.scale);
    NSLog(@"After, frame: %@, bounds: %@", NSStringFromCGRect(recognizer.view.frame), NSStringFromCGRect(recognizer.view.bounds));

    recognizer.scale = 1;
} 
```

输出：（放大）

```
2012-07-02 14:53:51.458 GestureRec[1264:707] scale: 1.030111, velocity: 0.945660
2012-07-02 14:53:51.466 GestureRec[1264:707] Before, frame: {{0, 124}, {320, 160}}, bounds: {{0, 0}, {320, 160}}
2012-07-02 14:53:51.473 GestureRec[1264:707] After, frame: {{-4.81771, 121.591}, {329.635, 164.818}}, bounds: {{0, 0}, {320, 160}}
2012-07-02 14:53:51.480 GestureRec[1264:707] scale: 1.074539, velocity: 1.889658
2012-07-02 14:53:51.484 GestureRec[1264:707] Before, frame: {{-4.81771, 121.591}, {329.635, 164.818}}, bounds: {{0, 0}, {320, 160}}
2012-07-02 14:53:51.494 GestureRec[1264:707] After, frame: {{-17.103, 115.449}, {354.206, 177.103}}, bounds: {{0, 0}, {320, 160}}
2012-07-02 14:53:51.499 GestureRec[1264:707] scale: 1.000000, velocity: 1.889658
2012-07-02 14:53:51.506 GestureRec[1264:707] Before, frame: {{-17.103, 115.449}, {354.206, 177.103}}, bounds: {{0, 0}, {320, 160}}
2012-07-02 14:53:51.510 GestureRec[1264:707] After, frame: {{-17.103, 115.449}, {354.206, 177.103}}, bounds: {{0, 0}, {320, 160}} 
```

是我误解了什么还是博客中的作者错了？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-02T06:06:58.177

我想我明白了：

该博客是正确的，甚至根据[苹果自己](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CocoaViewsGuide/Coordinates/Coordinates.html)的说法：

> 要平移或缩放坐标系，您需要更改视图的边界矩形...

但是 bounds 并没有改变，因为矩形本身的大小仍然与您报告的大小相同，只有坐标系随它缩放。你看：

> 更改边界矩形会设置视图执行的所有绘图开始的基本坐标系。

并且因为我们从不显式地改变边界，所以只有相对于其父视图的视图框架发生了变化。

事实上，我可以用数学证明界限永远不会改变！在这里，改为运行此示例：

```
NSLog(@"scale: %f, velocity: %f", recognizer.scale, recognizer.velocity);
    NSLog(@"Before, frame: %@, bounds: %@", NSStringFromCGRect(recognizer.view.frame), NSStringFromCGRect(recognizer.view.bounds));
    recognizer.view.transform = CGAffineTransformScale(recognizer.view.transform, recognizer.scale, recognizer.scale);
    NSLog(@"After, frame: %@, bounds: %@ transform:%@", NSStringFromCGRect(recognizer.view.frame), NSStringFromCGRect(recognizer.view.bounds), NSStringFromCGAffineTransform(recognizer.view.transform));

    recognizer.scale = 1; 
```

现在，如果您注意到，`NSStringFromCGAffineTransform()`乘以边界报告的值等于视图的框架。但是博客上说了什么？不一定*准确*就是对的。变换矩阵不仅可以应用于这个东西的 x 和 y，如果我们真的想要，我们可以变换 z 值并旋转、翻转，以及每一种方式，所有这些都以非线性方式改变框架属性，尤其是串联使用时。

一个有趣的难题，如果我自己这么说的话。

# c++ - Visual Studio 2010 - 数据段和堆栈内存相同

> ID：11288146
> 
> 赞同：2
> 
> 时间：2012-07-02T05:25:15.390
> 
> 标签：c++, virtual-memory, memory-segmentation

我发现一个常量文字 get 放置在程序的数据段中（来自 SO）并且是只读的，因此“s[0] = 'a'”行会导致错误，这实际上发生在我取消注释该行并运行。但是，当我查看 MS VS 中的内存窗口时，变量都放在内存中。我很好奇他们（编译器）如何强制对“s”进行只读访问？

```
#include <iostream>

int main(void)
{
      char *s = "1023";
      char s_arr[] = "4237";
      char *d = "5067";
      char s_arr_1[] = "9999";
      char *e = "6789";
      printf("%c\n", s[0]);
//      s[0] = 'a'; This line would error out since s should point to data segment of the program
      printf("%s\n", s);
      system ("pause");
}

0x002E54F4  31 30 32 33 00 00 00 00 34 32 33 37 00 00 00 00  1023....4237....
0x002E5504  35 30 36 37 00 00 00 00 39 39 39 39 00 00 00 00  5067....9999....
0x002E5514  36 37 38 39 00 00 00 00 25 63 0a 00 25 73 0a 00  6789....%c..%s..
0x002E5524  70 61 75 73 65 00 00 00 00 00 00 00 43 00 3a 00  pause.......C.:. 
```

编辑 1：更新存储在 s_arr 中的值（应放置在堆栈空间中），以明确它与字符串常量相邻放置。

编辑 2：由于我看到有关基于页面的 ro/rw 访问的答案，这里地址 .. 0x...4f4 是 rw 0x...4fc 是**ro**并且 0x...504 是 rw。他们如何实现这种粒度？此外，由于每个页面可能至少为 4kb，因此有人可能会争辩说 0x4fb 可能是前一个 ro 页面的最后地址。但是我现在添加了一些变量，以表明它们都连续放置在内存中，并且粒度是每 8 个字节。您可以说，由于您提到的页面处于 4k 级别，

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-02T05:59:07.993

我不知道是什么让您认为您的示例在不可修改内存旁边显示了可修改内存。你在说什么“粒度”？您的内存转储没有显示类似的内容。

`"4237"`您在内存转储中看到的字符串*不是*您的`s_arr`. 你`"4237"`看到有一个*只读**字符串*`s_arr`文字，它被用作. 该初始化程序被*复制*到`s_arr`. 同时，实际`s_arr`存在于其他地方（在堆栈中）并且是完全可修改的。它也包含`"4237"`（作为它的初始值），但这是一个完全不同的`"4237"`，您在内存转储中看不到。让您的程序打印地址，`s_arr`您会发现它与您转储的内存范围相去甚远。

同样，您关于*“0x...4f4 是 rw 0x...4fc 是 ro 而 0x...504 是 rw”*的说法完全不正确。所有这些地址都是*只读的*。它们都不是读写的。那里没有任何“粒度”。

记住这样的声明

```
char s_arr[] = "4237"; 
```

真的相当于

```
const char *unnamed = "4237";
char s_arr[5];
memcpy(s_arr, unnamed, 5); 
```

在您的内存转储中，您正在查看`unnamed`我上面示例中的那个地址。该内存区域是只读的。您`s_arr`驻留在完全不同的内存区域中，即读写。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-02T05:33:24.347

由于引入了 32 位平台，所有内容都放在同一个段中（这并不完全如此，但更容易认为是这样。有一些需要几页来解释的小警告，它们适用于操作系统设计） .

32 位地址空间被分成几页。Intell 允许使用页粒度分配 RO 位。调试器仅显示 32 位（64 位）地址，从技术上讲，它是段中的偏移量。可以简单地将此偏移量称为地址。这一点不会有错。

然而，链接器将不同的内存区域称为段。这些段与 Intel 内存段无关。链接器段（代码、数据、堆栈等）被加载到不同的页面中。这些页面获得不同的属性（RO/RW、执行权限等）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T05:34:36.070

您显示的内存块是存储字符串常量的区域（您可以看到所有 4 个值都一个接一个地直接在那里）。该区域被标记为只读。在 Windows 上，每个 4Kb 内存块（页面）都可以有自己的属性（读/写/执行），因此即使是 2 个相邻的位置也可以有不同的访问标志。

变量所在的区域位于不同的位置（在您的情况下为堆栈）。您可以通过检查`&s`即时窗口（或监视窗口）的值来查看它。

# java - 从另一个 apk 获取资源

> ID：11288147
> 
> 赞同：9
> 
> 时间：2012-07-02T05:25:17.730
> 
> 标签：java, android, eclipse, package-managers, getresource

我整天都在努力解决这个问题，但没有成功。我基本上是在尝试从另一个 apk 获取图像资源。

因此，如果 com.example.app 在 res 文件夹中有一个名为 image1.png 的图像，我希望 com.example2.app 能够访问该资源并将其放置在 imageview 中。

我知道您必须使用 PackageManager.getResourcesForApplication，但我仍然未能成功获取实际资源。

任何帮助都是极好的！

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-07-02T07:50:24.780

弄清楚了...

```
final String packName = "com.example2.app";
    String mDrawableName = "app_icon";

    try {
        PackageManager manager = getPackageManager();
        Resources mApk1Resources = manager.getResourcesForApplication(packName);

        int mDrawableResID = mApk1Resources.getIdentifier(mDrawableName, "drawable",packName);

        Drawable myDrawable = mApk1Resources.getDrawable( mDrawableResID );

        if( myDrawable != null )
            TEST.setBackgroundDrawable(myDrawable );

    }
    catch (NameNotFoundException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } 
```

* * *

在此处查看其他问题的更多解释！[在 apk 之间共享原始资源](https://stackoverflow.com/questions/4201776/share-raw-resource-between-apks)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-02T05:51:37.430

尝试这个：

```
final String packName = "com.example.app ";
Resources resources;
try {
    PackageManager manager = getPackageManager();
    resources = manager.getResourcesForApplication(packName);

    int resID = resources.getIdentifier("image1", "drawable", packName);
    Log.d(TAG, "resID = " + resID);
    Drawable image = getResources().getDrawable(resID);
    Log.d(TAG, "resID = " + resID);
}
catch (NameNotFoundException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
} 
```

# tor - tor - 无法创建单跳电路（单跳隧道）

> ID：11288148
> 
> 赞同：6
> 
> 时间：2012-07-02T05:25:28.060
> 
> 标签：tor

我按照 toctrl 解释 (http://www.thesprawl.org/research/tor-control-protocol/) 如何创建真正快速的单跳电路，我成功创建了一个电路，但我没有成功使用 firefox这样做之后使用tor。

我也尝试在“tor auto circuit project”中使用，但我从tor那里得到错误，他无法连接到节点（每次不同的节点），所以他放弃了。

我也尝试下载 tortunnel 项目，但我没有成功编译它。

有没有人有这方面的经验？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-16T10:36:32.877

Tor 中继拒绝单跳电路，除非通过`AllowSingleHopExits`其 torrc 中的选项特别允许。Tor 是一个匿名网络，而不是单跳代理池。如果您不关心您的匿名性，那么您应该通过某处的 shell 服务器引导您的流量。

# hyperlink - 超链接在我的 chrome 扩展中不起作用

> ID：11288151
> 
> 赞同：0
> 
> 时间：2012-07-02T05:25:34.173
> 
> 标签：hyperlink, google-chrome-extension

我制作了一个 chrome 扩展，其中显示了用户登录及其最喜欢的商店，现在我希望用户在单击注销按钮时注销，我正在调用一个 javascript 函数，但它不起作用。

注销代码：

```
<a href='#' onclick='DeleteCookies('memberid');'>Logout</a> 
```

当我在 chrome 编辑器中调试它时，它会说由于 Content-Security-Policy 而拒绝执行内联脚本。

除此之外，我试图让用户在单击图像时应该转到主网站，但该链接也不起作用，只是超链接不起作用。

我应该怎么做才能解决这个问题？谁能告诉我它的解决方案？我会非常感谢他。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T09:05:25.243

是的，你不能在扩展中使用内联脚本。为您的链接提供一个“id”，并在一个单独的 javascript 文件中为该“id”写入点击函数，并将此 javascript 文件包含在您的 html 头部部分中。

# android - 使用给定自定义 api 的 Http Post android 登录

> ID：11288154
> 
> 赞同：3
> 
> 时间：2012-07-02T05:26:03.987
> 
> 标签：android, login, http-post

我正在尝试使用我的应用程序中的登录表单和提交按钮登录网站。我已获得以下 api 信息：

该 API 已在 [consumer.api.mobodev.terryinc.com上设置](http://consumer.api.terrydev.terryinc.com)

使用这个 api 我正在尝试使用用户名登录。已为 api 调用提供以下信息：

> 使用用户名登录 使用用户名登录服务是为现有消费者提供使用他们的用户名和密码登录的。用户名将是电子邮件地址或手机号码，具体取决于消费者最初的注册方式。当登录到第二个或后续设备时，或通过浏览器等登录时，通常会使用用户名登录。这是因为在正常流程中，消费者将注册并且访问令牌将被客户端应用程序返回并缓存。然后在启动应用程序时使用访问令牌，而不是让消费者再次登录。使用用户名调用登录会将消费者登录到系统中，并创建并返回一个有效的 OAuth 访问令牌。然后可以将返回的 OAuth 访问令牌用于后续 API 调用，以识别客户端应用程序的使用者。属性 属性值

*   路径 /v3/logins 支持
*   格式 JSON, XML HTTP
*   方法 POST
*   安全无
*   利率有限
*   无缓存
*   超时 TBC -HTTP 代码 200 - OK 400 - 错误请求。
    500内部服务器错误。

以下是我在主要活动中编写的代码：

```
 HttpClient httpclient = new DefaultHttpClient();

**HttpPost httppost = new HttpPost("consumer.api.mobodev.terryinc.com");**

    try {
        // Add user name and password
     EditText uname = (EditText)findViewById(R.id.username);
     String username = uname.getText().toString();

     EditText pword = (EditText)findViewById(R.id.password);
     String password = pword.getText().toString();

        List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(3);
        nameValuePairs.add(new BasicNameValuePair("grant_type","password"));
        nameValuePairs.add(new BasicNameValuePair("username", username));
        nameValuePairs.add(new BasicNameValuePair("password", password));
        httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

        // Execute HTTP Post Request
        Log.w("Post", "Execute HTTP Post Request");
        HttpResponse response = httpclient.execute(httppost);

        String str = inputStreamToString(response.getEntity().getContent()).toString();
        Log.w("Before Post", str.toString()); 
```

我的问题是我在创建 httpPost 对象时是否使用了正确的 url？

请帮忙，因为我不知道如何解释 api 文档。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T05:36:05.887

在 Firefox 中，我使用这个很棒的插件来模拟和测试 API 调用 - 它被称为[Rest Client](https://addons.mozilla.org/en-US/firefox/addon/restclient/)，我建议您在编写任何代码之前先在这里测试 api。

# python - Python 可迭代队列

> ID：11288158
> 
> 赞同：10
> 
> 时间：2012-07-02T05:26:46.363
> 
> 标签：python, queue, iteration

我需要知道队列何时关闭并且不会有更多项目，以便我可以结束迭代。

我通过在队列中放置一个哨兵来做到这一点：

```
from Queue import Queue

class IterableQueue(Queue): 

    _sentinel = object()

    def __iter__(self):
        return self

    def close(self):
        self.put(self._sentinel)

    def next(self):
        item = self.get()
        if item is self._sentinel:
            raise StopIteration
        else:
            return item 
```

鉴于这是队列的一种非常常见的用途，难道没有任何内置实现吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-02T06:08:34.047

哨兵是生产者发送没有更多队列任务即将到来的消息的合理方式。

FWIW，您的代码可以使用[*iter()*](http://docs.python.org/library/functions.html#iter)的两个参数形式进行相当多的简化：

```
from Queue import Queue

class IterableQueue(Queue): 

    _sentinel = object()

    def __iter__(self):
        return iter(self.get, self._sentinel)

    def close(self):
        self.put(self._sentinel) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-02T05:41:46.893

多处理模块有自己的[Queue](http://docs.python.org/library/multiprocessing.html#multiprocessing.Queue)版本，其中包含一个`close`方法。我不确定它在线程中是如何工作的，但值得一试。我不明白为什么它不应该一样工作：

```
from multiprocessing import Queue

q = Queue()
q.put(1)
q.get_nowait()
# 1
q.close()
q.get_nowait()
# ...
# IOError: handle out of range in select() 
```

您可以将 IOError 作为关闭信号。

**测试**

```
from multiprocessing import Queue
from threading import Thread

def worker(q):
    while True:
        try:
            item = q.get(timeout=.5)
        except IOError:
            print "Queue closed. Exiting thread."
            return
        except:
            continue
        print "Got item:", item

q = Queue()
for i in xrange(3):
    q.put(i)
t = Thread(target=worker, args=(q,))
t.start()
# Got item: 0
# Got item: 1
# Got item: 2
q.close()
# Queue closed. Exiting thread. 
```

虽然老实说，它与在 Queue.Queue 上设置标志并没有太大区别。multiprocessing.Queue 只是使用关闭的文件描述符作为标志：

```
from Queue import Queue

def worker2(q):
    while True:
        if q.closed:
            print "Queue closed. Exiting thread."
            return
        try:
            item = q.get(timeout=.5)
        except:
            continue
        print "Got item:", item

q = Queue()
q.closed = False
for i in xrange(3):
    q.put(i)
t = Thread(target=worker2, args=(q,))
t.start()
# Got item: 0
# Got item: 1
# Got item: 2
q.closed = True
# Queue closed. Exiting thread. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-08-29T19:08:41.870

一个古老的问题，以及变体`self._sentinel = Object()`将起作用。在 2021 年重新审视这一点，我建议将[concurrent.futures](https://docs.python.org/3/library/concurrent.futures.html)与 using`None`作为您的哨兵结合使用：

```
# Note: this is Python 3.8+ code                                                                                                                                                   

import queue
import time
import functools
import random
from concurrent.futures import ThreadPoolExecutor

def worker(tup):
    (q,i) = tup
    print(f"Starting thread {i}")
    partial_sum = 0
    numbers_added = 0
    while True:
        try:
            item = q.get()
            if item is None:
                # 'propagate' this 'sentinel' to anybody else                                                                                                                      
                q.put(None)
                break
            numbers_added += 1
            partial_sum += item
            # need to pretend that we're doing something asynchronous                                                                                                              
            time.sleep(random.random()/100)

    except Exception as e:
            print(f"(warning) Thread {i} got an exception {e}, that shouldn't happen.")
            break

    print(f"Thread {i} is done, saw a total of {numbers_added} numbers to add up")
    return partial_sum

MAX_RANGE = 1024
MAX_THREADS = 12

with ThreadPoolExecutor() as executor:

    # create a queue with numbers to add up                                                                                                                                        
    (q := queue.Queue()).queue = queue.deque(range(MAX_RANGE))

    # kick off the threads                                                                                                                                                         
    future_partials = executor.map(worker, [(q,i) for i in range(MAX_THREADS)])

    # they'll be done more or less instantly, but we'll make them wait                                                                                                             
    print("Threads launched with first batch ... sleeping 2 seconds")
    time.sleep(2)

    # threads are still available for more work!                                                                                                                                   
    for i in range(MAX_RANGE):
        q.put(i)

    print("Finished giving them another batch, this time we're not sleeping")

    # now we tell them all to wrap it up                                                                                                                                           
    q.put(None)
    # this will nicely catch the outputs                                                                                                                                           
    sum = functools.reduce(lambda x, y: x+y, future_partials)
    print(f"Got total sum {sum} (correct answer is {(MAX_RANGE-1)*MAX_RANGE}")

# Starting thread 0                                                                                                                                                                
# Starting thread 1                                                                                                                                                                
# Starting thread 2                                                                                                                                                                
# Starting thread 3                                                                                                                                                                
# Starting thread 4                                                                                                                                                                
# Starting thread 5                                                                                                                                                                
# Starting thread 6                                                                                                                                                                
# Starting thread 7                                                                                                                                                                
# Starting thread 8                                                                                                                                                                
# Starting thread 9                                                                                                                                                                
# Starting thread 10                                                                                                                                                               
# Starting thread 11                                                                                                                                                               
# Threads launched with first batch ... sleeping 2 seconds                                                                                                                         
# Finished giving them another batch, this time we're not sleeping                                                                                                                 
# Thread 0 is done, saw a total of 175 numbers to add up                                                                                                                           
# Thread 3 is done, saw a total of 178 numbers to add up                                                                                                                           
# Thread 11 is done, saw a total of 173 numbers to add up                                                                                                                          
# Thread 4 is done, saw a total of 177 numbers to add up                                                                                                                           
# Thread 9 is done, saw a total of 169 numbers to add up                                                                                                                           
# Thread 1 is done, saw a total of 172 numbers to add up                                                                                                                           
# Thread 7 is done, saw a total of 162 numbers to add up                                                                                                                           
# Thread 10 is done, saw a total of 161 numbers to add up                                                                                                                          
# Thread 5 is done, saw a total of 169 numbers to add up                                                                                                                           
# Thread 2 is done, saw a total of 157 numbers to add up                                                                                                                           
# Thread 6 is done, saw a total of 169 numbers to add up                                                                                                                           
# Thread 8 is done, saw a total of 186 numbers to add up                                                                                                                           
# Got total sum 1047552 (correct answer is 1047552 
```

请注意事实上的“主线程”只需要推`None`送到队列中，类似于条件变量“信号”，线程都拾取（并传播）。

此外，这不使用`Queue`比标准（线程安全）队列更重的多处理器。上面的代码还具有易于修改为使用`ProcessPoolExecutor`或两者混合的好处（在任何一种情况下，您都需要使用`multiprocessing.Queue`）。

*（旁注：一般来说，如果需要类来解决任何给定一代 Python 中的“基本”问题，在更现代的版本中通常会有新的选项。）*

*（旁注：代码是 Python 3.8+ 的唯一原因是因为我是[赋值表达式](https://docs.python.org/3/whatsnew/3.8.html#assignment-expressions)的粉丝，根据上面的旁注，它解决了如何从列表中初始化队列的历史问题，而无需诉诸非功能性解决方案。）*

# android - 更改活动：重新加载活动，放慢速度 - 这是为什么？

> ID：11288163
> 
> 赞同：2
> 
> 时间：2012-07-02T05:27:11.193
> 
> 标签：android, android-intent, android-activity

Activity `GameActivity`：首次打开应用程序时打开的页面。活动`GameMain`：游戏的玩活动。活动`GameWin`：转移到下一个`GameActivity`（最终会有一个“你赢了！”屏幕，带有统计数据和事物）

1.  申请开始
2.  这是触发的：

    ```
    button = (Button) findViewById(R.id.button1);

    button.setOnClickListener(new OnClickListener() {

        public void onClick(View arg0) {
            Intent intent = new Intent(context, GameMain.class);
            intent.putExtra("level",1);
            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
            startActivity(intent);
            finish();
        }

    }); 
    ```

3.  `GameMain`现在已加载。字符 ,`circle`现在位于屏幕的左侧。

4.  当`circle`到达屏幕的右侧时，我的游戏循环中的这个 if 语句现在变为 true：

    ```
     if ((circle.x+width/2 > end.startx) && (circle.x-width/2 < end.stopx) && (circle.y+circle.size==end.starty-width/2)) {
                layout.removeAllViews();    
                Intent intent = new Intent(context, GameWin.class);
                intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
                intent.putExtra("level",level);
                finish();
                startActivity(intent);
        } 
    ```

5.  `GameWin`屏幕这样做：

    ```
     Log.v(TAG,"Goint to level: "+(level+1));
        Intent intent = new Intent(context, GameMain.class);
        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
        intent.putExtra("level",(level+1));
        startActivity(intent);
        finish(); 
    ```

6.  有时它会起作用，并且将`GameMain`关卡数据设为 2，只是比我通过关卡屏幕直接进入关卡 2 慢得多。有时它会起作用，并且将`GameMain`级别数据设为 2，然后一遍又一遍地重新加载页面。有时，我的手机会重新启动。

7.  如果我有能力完成第 2 级，我会这样做。3 级如果可以工作、刷新或重新启动手机，则速度会更慢。

8.  如果我在任何时候单击“主页”，它会转到我的主屏幕，但应用程序**会自行打开**回到`GameMain`最后一级（返回到第 6 步或第 7 步）。

我究竟做错了什么？

API 8 级，LG P500 (2.3.3)

**事实证明这不是问题所在。游戏循环仍在后台运行。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:09:04.043

这里有 2 件事可以尝试：

1.  在 GameMain 中，确保你之前调用`startActivity(intent)`过`finish()`
2.  将[noHistory](http://developer.android.com/guide/topics/manifest/activity-element.html#nohist)添加到清单中的活动并设置为 true

*编辑*您应该开始将日志记录语句添加到您的函数和回调中。这将向您显示正在运行的内容，并为您提供有关运行时间的时间信息。例子：

```
onCreate(){
   Log.i(TAG, "onCreate++");
   super.onCreate();

   //other code here

   Log.i(TAG, "onCreate--");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T06:50:55.867

事实证明，这只是部分意图问题。主要问题是我**没有停止 gameloop**。

当游戏循环停止时，一切正常。

# iphone - 如何在iphone的tableview中为每一行添加标签

> ID：11288164
> 
> 赞同：0
> 
> 时间：2012-07-02T05:27:16.623
> 
> 标签：iphone, tableview

我想以编程方式将标签添加到 iphone 行右侧的 tableview 中的每一行。谁能帮我？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T05:34:35.923

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{
static NSString *CellIdentifier = @"Cell";
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {
    cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier] autorelease];
    cell.selectionStyle = UITableViewCellSelectionStyleNone;
}
UILabel* lbl = [[UILabel alloc] initWithFrame:CGRectMake(x, y, w, h)];
    lbl.font = [UIFont boldSystemFontOfSize:17.0];
    lbl.text = [self.arrRows objectAtIndex:indexPath.row];
    [cell.contentView addSubview:lbl];
    [lbl release];
return cell; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T05:37:05.543

在您的**cellForRowAtIndexPath:**方法中：-

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier=@"Cell";
    UITableViewCell *cell=[tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) 
    {
        //set reuseIdentifier:nil for avoid label overlapping
        cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:nil];
    }

    //make your label as according to you
    UILabel *label = [[UILabel alloc]initWithFrame:CGRectMake(0.0, 0.0, 320.0, 44.0)];
    label.backgroundColor = [UIColor redColor];

    // add label content view of cell
    [cell.contentView addSubview:label];

    return cell;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T05:31:45.860

你可以像这样实现它：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

    static NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];
    }

    UILabel *lblText = [[UILabel alloc] initWithFrame:CGRectMake(200, 3, 100, 15)]; // For right alignment
    lblText.text = [self.arrText objectAtIndex:indexPath.row];
    lblText.textColor = [UIColor blackColor];
    [cell addSubview:lblText];
    [lblText release];

    return cell;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-02T05:32:51.147

我想你是在要求代码。尝试

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

static NSString *CellIdentifier = @"Cell";
UILabel *yourLabel = nil;

UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {
    cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier] autorelease];
    yourLabel = [[UILabel alloc] initWithFrame:CGRect……];
    [yourLabel setTag:9999];
    [[cell contentView] addSubview:addressLabel];

} 

if (!yourLabel)
    yourLabel = (UILabel*)[cell viewWithTag:9999];

return cell;

} 
```

# c - unsigned long long int 常量值与乘法值

> ID：11288170
> 
> 赞同：1
> 
> 时间：2012-07-02T05:28:15.577
> 
> 标签：c

我尝试了以下方法，似乎“测试”导致错误值。2500*2500*2500 == 15625000000，为什么下面的操作会导致不同的结果？

```
unsigned long long int test = 2500*2500*2500;
fprintf(stderr, "*************** test = %lld, %llu\n", test, test);
unsigned long long int test2 = 15625000000;
fprintf(stderr, "*************** test2 = %lld, %llu\n", test2, test2); 
```

结果：

```
*************** test = -1554869184, 18446744072154682432
*************** test2 = 15625000000, 15625000000 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T05:32:52.713

`2500 * 2500 * 2500`永远不会提升到过去`int`，因此发生的有符号溢出（顺便说一下，UB）会阻止执行正确的计算。

要允许它，您必须告诉编译器您的文字属于特定类型。有两种方法可以做到这一点：

1.  **通过强制转换**- 转换文字通常在编译时处理并且没有运行时开销：

    ```
    unsigned long long int test = (unsigned long long int)2500 * (unsigned long long int)2500 * (unsigned long long int)2500; 
    ```

    请注意，强制转换是在被乘数上单独执行的。如果操作的结果被强制转换（例如`(unsigned long long int)(2500 * 2500 * 2500)`），那么强制转换将太晚而无法保存数据。

2.  **通过后缀**：

    ```
    unsigned long long int test = 2500ULL * 2500ULL * 2500ULL; 
    ```

    这在运行时与文字转换一样有效，但根据使用情况可能更容易或更难阅读。后缀必须直接应用于文字（不能应用于运算结果，因此 `(2500 * 2500 * 2500)ULL`是非法的。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-02T05:32:10.773

`2500*2500*2500`不是 unsigned long long 只是因为您将它复制到 unsigned long long。乘法是用`int`s 完成的，所以乘法的结果是`int`。当升级`unsigned long long`发生时，为时已晚。使用`2500ULL`.

# cakephp - 自定义 cakephp 分页以使用 Solr 查询

> ID：11288172
> 
> 赞同：5
> 
> 时间：2012-07-02T05:28:50.663
> 
> 标签：cakephp, solr, pagination

我知道 cakephp 分页与 sql 查询紧密相关。是否可以将其自定义为与 Solr 查询一起使用？我希望分页从 solr 搜索而不是 mysql 查询中检索数据。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:44:53.097

您需要为此数据库实现数据源。如果您的模型使用此数据源并且编写正确，您应该能够使用常规的 CakePHP 分页方法。~~有[https://github.com/ugrworks/cakephp-solr-webservice-datasource](https://github.com/ugrworks/cakephp-solr-webservice-datasource)但它很旧，但我认为您可以重用代码并基于它工作。~~

**更新：**现在有CakePHP 2.x的[https://github.com/Highstrike/cakephp-solr-datasource](https://github.com/Highstrike/cakephp-solr-datasource)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-12T15:09:44.307

我已将 Solr 集成为数据源

[https://github.com/Highstrike/cakephp-solr-datasource](https://github.com/Highstrike/cakephp-solr-datasource)

您还可以在此处找到有关如何通过示例使用它的说明。示例之一是您正在寻找的分页！祝你好运。

# windows-phone-7.1 - 如何在 windows phone 7.5 中实现聊天功能？

> ID：11288174
> 
> 赞同：0
> 
> 时间：2012-07-02T05:29:00.787
> 
> 标签：windows-phone-7.1

请告诉我如何在 WP7 中实现聊天功能的想法？在我的应用程序中，我需要从一个用户与另一个用户进行通信。如何实现这一点？实现聊天的更好方法是什么？请告诉我这个想法...

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:27:13.880

Twilio 是一个支持聊天/短信甚至 VoIP 的库，并且他们有一个 .NET Api。不知道它是否适用于 WP：[https ://www.twilio.com](https://www.twilio.com)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T06:06:57.057

尝试搜索 Silverlight 3-4 聊天实现。其中一项结果可能对您有所帮助：[使用 SilverLight 4.0 和 PollingDuplex 的多房间聊天应用程序](https://stackoverflow.com/questions/5429977/multi-room-chat-application-using-silverlight-4-0-and-pollingduplex)

要显示聊天，您可以使用[Telerik 的对话视图](http://www.telerik.com/products/windows-phone/overview/all-controls.aspx#conversationview)

# php - MySQL 查询长度

> ID：11288176
> 
> 赞同：0
> 
> 时间：2012-07-02T05:29:25.643
> 
> 标签：php, mysql

我在 NOT IN 语句中有超过 400 000 个 id。它是否会执行？

```
$query = "
   SELECT
      *
   FROM
       table_name
   WHERE
       my_field_id NOT IN(
           34535345,3453451234,234242345,3465465,12234234,23435465,122343,345435,3453454,
           34535345,3453451234,234242345,3465465,12234234,23435465,122343,345435,3453454,
           34535345,3453451234,234242345,3465465,12234234,23435465,122343,345435,3453454,
           34535345,3453451234,234242345,3465465,12234234,23435465,122343,345435,3453454,
           34535345,3453451234,234242345,3465465,12234234,23435465,122343,345435,3453454,
           34535345,3453451234,234242345,3465465,12234234,23435465,122343,345435,3453454
       )
"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T05:31:12.910

是的，它会（你可以自己尝试而不用在这里问）。sql 查询字符串没有合理的限制。

但是你应该记住你添加的 id 越多 - 查询越慢

PS：您可能感兴趣的唯一 mysql 设置是`max_allowed_packet`. 据我所知，它是唯一可能给超大查询带来一些问题的参数

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T06:56:29.253

我知道 MySQL 中的 IN 子句没有限制，你可以写任意多的 id。同意 zerkms 关于性能和`max_allowed_packet`变量的看法。

作为一种解决方法 - 尝试使用您的值索引来填充另一个表（可能是临时表）`id`，然后使用 JOIN 子句来查找这两个表。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-01T06:51:57.877

AFAIK 限制为 NOT IN 的 1024 个字符。如果您使用子选择，则没有限制。您可以使用 id 填充内存表，在查询中使用子选择获取它们，然后删除内存表。这甚至可能更快。

# android - 如何在android的MonthDisplayHelper中获取当前日期的第二天？

> ID：11288178
> 
> 赞同：0
> 
> 时间：2012-07-02T05:29:50.253
> 
> 标签：android

我有一个月显示助手来显示月份，我想选择两个日期之间的天数。即，如果我选择了 7 月 2 日和 7 月 9 日，则必须选择或突出显示这些日期之间的所有日期（3 日至 8 日）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T05:46:32.583

您可以使用日历类。为您的初始日期初始化一个新的 Calendar 对象，然后使用 [calendar instance].add(Calendar.DAY_OF_YEAR, 1) 将日期增加 1 天，如果需要，它将自动滚动到下个月。

日历参考：http: [//developer.android.com/reference/java/util/Calendar.html](http://developer.android.com/reference/java/util/Calendar.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T09:26:21.343

如果你知道你需要多少天，那么你可以有一个循环基本上添加天并存储在一个列表中

# python - python中strcmpi的类似功能

> ID：11288180
> 
> 赞同：1
> 
> 时间：2012-07-02T05:30:01.277
> 
> 标签：python, linux, string, ubuntu-10.04

> **可能重复：**
> [如何在 Python 中进行不区分大小写的字符串比较？](https://stackoverflow.com/questions/319426/how-do-i-do-a-case-insensitive-string-comparison-in-python)

我想知道是否有任何类似的功能`strcmpi`或一些规定。

假设如果用户输入单词`harry potter`并且我的文件中有这个单词以这种形式写入`Harry Potter`，那么我该如何比较它，因为它只是因为大小写字母而忽略了这一点。

如果我想将“实例”类型的对象转换为 str 怎么办。我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-02T05:32:25.663

一种简单的方法是`.lower()`在两个字符串上使用，然后只比较是否相等：

```
>>> "Harry Potter".lower() == "harry potter".lower()
True 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-02T05:32:32.707

您可以在比较之前将两个字符串都转换为小写：

```
a = "Harry Potter"
b = "harry potter"

print a.lower()==b.lower() 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T05:41:14.083

您也可以使用[string.find](http://docs.python.org/library/string.html#string.find)

```
string.find(s, sub[, start[, end]]) 
```

要查找忽略大小写的所有字符串：

```
str = "Hello! How are you?"
str.lower().find('hello'.lower()) 
```

# wordpress - 将网站的 url 重定向到子文件夹中的 wordpress 站点的步骤保持与 IIS 服务器相同的 url

> ID：11288189
> 
> 赞同：0
> 
> 时间：2012-07-02T05:30:58.683
> 
> 标签：wordpress, redirect, iis-7

我对此进行了彻底的搜索，但不能很好地解决 IIS 7 的问题。

我的客户有一个托管在 IIS 7 服务器上的活动网站。我在该目录的子文件夹中创建了一个 WordPress 网站。

示例：clientSite.com ~ clientSite.com/_dev/

我正在寻找将整个站点指向 _dev 文件夹的步骤，并且功能齐全但不显示重定向。换句话说，_dev/ 永远不会显示在站点路径中，即使站点的所有页面和帖子都在 clientSite.com/_dev/ 路径中。从本质上讲，我需要将 _dev 剥离出来。

我已经看到使用 Apache 服务器完成了此操作，但在 IIS 服务器重定向伪装上没有发现任何内容。

这样做的目的是让站点切换到开发站点，直到我可以将文件和数据库更改为原始站点 url，然后关闭重定向。

非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T05:35:39.810

也许[这个描述](http://technet.microsoft.com/en-us/library/cc770409%28v=ws.10%29)可以帮助你？

> appcmd 设置配置 /section:httpRedirect /exactDestination:true | 错误的

# java - OpenGL函数拒绝渲染三角形

> ID：11288197
> 
> 赞同：1
> 
> 时间：2012-07-02T05:32:27.760
> 
> 标签：java, android, opengl-es

这可能与我的转变有关，但现在我无法弄清楚这一点，这让我很着急。我已经包装了绘制代码，以便我可以轻松定义新的三角形。但是，当我把它放到一个函数中时，它只是显示一个灰屏。功能代码如下：

```
 public void Draw(float[] mViewMatrix, float[] mModelMatrix, float[] mProjectionMatrix, int mPositionHandle,  int mColorHandle, int mMVPMatrixHandle)
{

    long time = SystemClock.uptimeMillis() % 10000L;
    float angleInDegrees = (360.0f / 10000.0f) * ((int) time);      

    Matrix.setIdentityM(mModelMatrix, 0);
    Matrix.rotateM(mModelMatrix, 0, angleInDegrees, 0.0f, 0.0f, 1.0f);     

    aBuffer = ByteBuffer.allocateDirect(verts.length * mBytesPerFloat)
    .order(ByteOrder.nativeOrder()).asFloatBuffer();

    //aBuffer.position(mPositionOffset);
    GLES20.glVertexAttribPointer(mPositionHandle, mPositionDataSize, GLES20.GL_FLOAT, false,
            mStrideBytes, aBuffer);        

    GLES20.glEnableVertexAttribArray(mPositionHandle);        

    // Pass in the color information
    aBuffer.position(mColorOffset);
    GLES20.glVertexAttribPointer(mColorHandle, mColorDataSize, GLES20.GL_FLOAT, false,
            mStrideBytes, aBuffer);        

    GLES20.glEnableVertexAttribArray(mColorHandle);

    // This multiplies the view matrix by the model matrix, and stores the result in the MVP matrix
    // (which currently contains model * view).
    Matrix.multiplyMM(mMVPMatrix, 0, mViewMatrix, 0, mModelMatrix, 0);

    // This multiplies the modelview matrix by the projection matrix, and stores the result in the MVP matrix
    // (which now contains model * view * projection).
    Matrix.multiplyMM(mMVPMatrix, 0, mProjectionMatrix, 0, mMVPMatrix, 0);

    GLES20.glUniformMatrix4fv(mMVPMatrixHandle, 1, false, mMVPMatrix, 0);
    GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, 3); 
} 
```

正在运行的代码是：

```
 public void onDrawFrame(GL10 glUnused) 
{
    GLES20.glClear(GLES20.GL_DEPTH_BUFFER_BIT | GLES20.GL_COLOR_BUFFER_BIT);                    

    // Do a complete rotation every 10 seconds.
    long time = SystemClock.uptimeMillis() % 10000L;
    float angleInDegrees = (360.0f / 10000.0f) * ((int) time);

    // Draw the triangle facing straight on.
    Matrix.setIdentityM(mModelMatrix, 0);
    Matrix.rotateM(mModelMatrix, 0, angleInDegrees, 0.0f, 0.0f, 1.0f);        
    drawTriangle(mTriangle1Vertices);

    // Draw one translated a bit down and rotated to be flat on the ground.
    Matrix.setIdentityM(mModelMatrix, 0);
    Matrix.translateM(mModelMatrix, 0, 0.0f, -1.0f, 0.0f);
    Matrix.rotateM(mModelMatrix, 0, 90.0f, 1.0f, 0.0f, 0.0f);
    Matrix.rotateM(mModelMatrix, 0, angleInDegrees, 0.0f, 0.0f, 1.0f);        
    drawTriangle(mTriangle2Vertices);

    // Draw one translated a bit to the right and rotated to be facing to the left.
    Matrix.setIdentityM(mModelMatrix, 0);
    Matrix.translateM(mModelMatrix, 0, 1.0f, 0.0f, 0.0f);
    Matrix.rotateM(mModelMatrix, 0, 90.0f, 0.0f, 1.0f, 0.0f);
    Matrix.rotateM(mModelMatrix, 0, angleInDegrees, 0.0f, 0.0f, 1.0f);
    drawTriangle(mTriangle3Vertices);
    */

    /*
    for (int x = 0; x < staticHolder.objectList.size(); x++)
    {
        staticHolder.objectList.get(x).Draw(mViewMatrix, mModelMatrix, mProjectionMatrix, mPositionHandle, mColorHandle, mMVPMatrixHandle);
    }
    */
}   

/**
 * Draws a triangle from the given vertex data.
 * 
 * @param aTriangleBuffer The buffer containing the vertex data.
 */
private void drawTriangle(final FloatBuffer aTriangleBuffer)
{       
    // Pass in the position information
    aTriangleBuffer.position(mPositionOffset);
    GLES20.glVertexAttribPointer(mPositionHandle, mPositionDataSize, GLES20.GL_FLOAT, false,
            mStrideBytes, aTriangleBuffer);        

    GLES20.glEnableVertexAttribArray(mPositionHandle);        

    // Pass in the color information
    aTriangleBuffer.position(mColorOffset);
    GLES20.glVertexAttribPointer(mColorHandle, mColorDataSize, GLES20.GL_FLOAT, false,
            mStrideBytes, aTriangleBuffer);        

    GLES20.glEnableVertexAttribArray(mColorHandle);

    // This multiplies the view matrix by the model matrix, and stores the result in the MVP matrix
    // (which currently contains model * view).
    Matrix.multiplyMM(mMVPMatrix, 0, mViewMatrix, 0, mModelMatrix, 0);

    // This multiplies the modelview matrix by the projection matrix, and stores the result in the MVP matrix
    // (which now contains model * view * projection).
    Matrix.multiplyMM(mMVPMatrix, 0, mProjectionMatrix, 0, mMVPMatrix, 0);

    GLES20.glUniformMatrix4fv(mMVPMatrixHandle, 1, false, mMVPMatrix, 0);
    GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, 3);                               
} 
```

我传入相同的变量，并且这里使用的最终变量初始化相同。封装函数中还有一些其他工作。知道为什么它拒绝在函数中渲染吗？

以下代码加载列表中的对象：

```
 final float[] triangle1VerticesData = {
            // X, Y, Z, 
            // R, G, B, A
            -0.5f, -0.25f, 0.0f, 
            1.0f, 0.0f, 0.0f, 1.0f,

            0.5f, -0.25f, 0.0f,
            0.0f, 0.0f, 1.0f, 1.0f,

            0.0f, 0.559016994f, 0.0f, 
            0.0f, 1.0f, 0.0f, 1.0f};

    final float[] triangle2VerticesData = {
            // X, Y, Z, 
            // R, G, B, A
            -0.5f, -0.25f, 0.0f, 
            1.0f, 1.0f, 0.0f, 1.0f,

            0.5f, -0.25f, 0.0f, 
            0.0f, 1.0f, 1.0f, 1.0f,

            0.0f, 0.559016994f, 0.0f, 
            1.0f, 0.0f, 1.0f, 1.0f};

    // This triangle is white, gray, and black.
    final float[] triangle3VerticesData = {
            // X, Y, Z, 
            // R, G, B, A
            -0.5f, -0.25f, 0.0f, 
            1.0f, 1.0f, 1.0f, 1.0f,

            0.5f, -0.25f, 0.0f, 
            0.5f, 0.5f, 0.5f, 1.0f,

            0.0f, 0.559016994f, 0.0f, 
            0.0f, 0.0f, 0.0f, 1.0f};

    staticHolder.objectList.add(new Triangle(triangle1VerticesData));
    staticHolder.objectList.add(new Triangle(triangle2VerticesData));
    staticHolder.objectList.add(new Triangle(triangle3VerticesData)); 
```

接收类是：

```
 public class Triangle extends shape 
    {

     public Triangle(float[] data)
     {
          verts = data;
     }

     } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T05:59:45.633

在以下代码之后：

```
aBuffer = ByteBuffer.allocateDirect(verts.length * mBytesPerFloat).order(ByteOrder.nativeOrder()).asFloatBuffer(); 
```

您必须将顶点放入缓冲区（否则，它是空白的！）：

```
aBuffer.put(verts); 
```

这不在代码中起作用的原因是因为这三组顶点的缓冲区是预先分配的，然后（在初始化时）将顶点放入其中。它们每次都只是简单地传递给方法，因此它们不必`put()`再次进入。

关于这一点，您将希望避免在您的`Draw`方法中进行分配，因为它每帧调用多次并且可能导致渲染缓慢。分配`aBuffer`一次，每次都放入新的顶点。

# mysql-workbench - 在 mysql workbench 中导入 sql 文件

> ID：11288200
> 
> 赞同：0
> 
> 时间：2012-07-02T05:32:40.237
> 
> 标签：mysql-workbench

我的数据库的每日备份计划已被执行。请问生成的这个sql文件如何通过Mysql Workbench 5.2 CE导入到其他系统。我已经厌倦了以下：

Server Administrator->Manage Import/Export->Data import/restore->import from self-contained file->（给出要导入的sql文件的文件路径）文件路径->（选择数据库对象为**空**我**无法添加我的数据库**）-> 开始导入。

我在第 22 行得到错误 1046 (3D000)：未选择数据库

请提供有关如何在工作台中导入 sql 文件的正确步骤。

# java - s:bean 标签如何在 struts 2 中工作？

> ID：11288204
> 
> 赞同：0
> 
> 时间：2012-07-02T05:33:06.997
> 
> 标签：java, struts2

这是[bean 标签文档](http://struts.apache.org/2.0.12/docs/bean.html)中的示例：

```
<s:bean name="org.apache.struts2.example.counter.SimpleCounter" var="counter">
  <s:param name="foo" value="BAR" />
  The value of foot is : <s:property value="foo"/>, when inside the bean tag <br />
</s:bean> 
```

那么这里是解释：

> 这个例子实例化了一个被调用的 bean`SimpleCounter`并设置了`foo`属性 ( `setFoo('BAR')`)。然后将该`SimpleCounter`对象推入值堆栈，这意味着我们可以`getFoo()`使用属性标签调用其访问器方法（）并获取它们的值。

在上面的示例中，id 已设置为 counter 的值。这意味着`SimpleCounter`该类将被放入堆栈的上下文中。您可以`SimpleCounter`使用 Struts 标签访问该类：

```
<s:property value="#counter" /> 
```

我的问题是，如果我在 bean 标记中提到属性 var，会`SimpleCounter`放在值堆栈或堆栈的上下文中吗？（我将堆栈上下文作为操作上下文对吗？）

如果在值堆栈上，那么我们为什么使用`#`as引用计数器变量`#`来引用动作上下文中的值而不是值堆栈。正确的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T19:46:54.800

错误的。

“应用程序上下文”纯粹是一个 servlet 规范工件，与 OGNL`#`字符没有直接关系。OGNL`#`允许我们访问命名值堆栈值，而不是遍历值堆栈直到找到合适的值。

说“[...] id 已设置为值`counter`”也是不准确的。`counter`是值堆栈中的命名值。我认为值堆栈是上下文和堆栈的组合——有一个堆栈，但也有*不在堆栈上的*命名值，例如`#attr`.

我也不认为将其称为“动作上下文”是准确的，因为它在 Struts 2 应用程序的上下文中具有特定的含义，并且实际上仅在 Java 源代码方面才有意义。

它是简单的“值堆栈”，其中包括一个堆栈和命名值。

# c# - 将 Linq To SQL 查询与文件后面的代码分开

> ID：11288205
> 
> 赞同：0
> 
> 时间：2012-07-02T05:33:12.907
> 
> 标签：c#, asp.net, linq-to-sql

> **可能重复：**
> [我应该直接在代码后面使用 Linq To SQL 还是使用其他方法？](https://stackoverflow.com/questions/11271820/should-i-use-linq-to-sql-directly-in-code-behind-or-use-some-other-approach)

我之前已经问过一个问题，即[**从后面的代码中分离 Linq 查询。**](https://stackoverflow.com/questions/11271820/should-i-use-linq-to-sql-directly-in-code-behind-or-use-some-other-approach)

也许我无法得到我正在寻找的答案。所以我再次询问。我直接使用我`linq`的 to`Sql`查询。`code behind`我虽然使用函数。

我的问题是我应该如何将它们与它们分开`code behind`？

有什么更好的方法。我应该使用简单`classes`并在那里执行我的`database`操作`(querying,insert,update,delete)`，然后从后面的代码中调用这些函数。

这是我应该遵循的方法吗？如果是，那么我应该选择一个课程还是应该每页创建一个课程。

谁能指导我如何组织这个。你们遵循的方法是什么？

我正在使用`ASP.NET Web Forms/C#`.

一个简单的例子将是一个巨大的帮助。

欢迎任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T05:47:38.360

在某些方面，LINQ 查询不应真正被视为“SQL”查询，即使它们随后被传递给一个`LINQ2SQL`或一个 EF 提供程序。LINQ 表达式可以说被视为查询条件模式的灵活实现，例如类似于[Evan 的规范模式](http://en.wikipedia.org/wiki/Specification_pattern)，指定您想要返回的“什么”，理想情况下将 SQL 规范关于“如何”做到这一点保持在最低限度。

`DataContext`也就是说，如果您将您的或`IQueryable`直接暴露给您的表示层，它可能会使系统难以测试。通常，您可能希望考虑将 LINQ 表达式约束到专用的“数据层”。

*编辑*

这里有一个类似的讨论：http: [//social.msdn.microsoft.com/Forums/en-NZ/linqtosql/thread/2df752fd-6a1d-441b-b7c4-ecf1a7a00161](http://social.msdn.microsoft.com/Forums/en-NZ/linqtosql/thread/2df752fd-6a1d-441b-b7c4-ecf1a7a00161)

具体来说，这里有一个 Linq2SQL 的通用存储库模式 [http://multitierlinqtosql.codeplex.com/](http://multitierlinqtosql.codeplex.com/)

但是，在 Linq2SQL 中实现高度分层的架构之前，您可能会重新考虑将 Linq2SQL 替换为 Entity Framework 4+。例如，L2SQL 的一个问题是实体是上下文绑定的，这意味着如果您想打破对携带`DataContexts`需要使用实体的任何层的依赖，则需要映射简单数据实体 (POCO)。IMO Linq2SQL 最适合您不需要过多抽象的小型项目。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T05:38:02.347

您可以选择 N 层方法，其中您将拥有数据访问层、业务层和表示层。您的数据访问层将具有 LINQ to SQL 的东西，您的业务层应该充当数据访问层和表示 (UI) 层之间的桥梁。

请看以下文章：[在 N 层架构中使用 LINQ to SQL](http://www.codeproject.com/Articles/33743/Using-LINQ-to-SQL-in-N-Tier-Architectures)

# javascript - 遍历json节点

> ID：11288210
> 
> 赞同：0
> 
> 时间：2012-07-02T05:34:02.443
> 
> 标签：javascript, arrays, json, hash

是否可以遍历所有节点并从未预先确定级别的复杂json中找到想要的字段

```
{
    "_index": "test",
    "_type": "news",
    "_source": {
        "partnerName": "propertyFile 9",
        "relatedSources": "null",
        "entityCount": "50",
        "Categories": {
            "Types": {
                "Events": [{
                    "count": 1,
                    "term": "Time",
                    "Time": [{
                        "term": "Dec 9",
                        "Dec_9": [{
                            "count": 1,
                            "term": "2012"
                        }]
                        }]
                    }, {
                    "count": 4,
                    "term": "News",
                    "News": [{
                        "term": "Germany",
                        "Germany": [{
                            "count": 1,
                            "term": "Election"
                        }],
                        "currency": "Euro (EUR)"
                    }, {
                        "term": "Egypt",
                        "Egypt": [{
                            "count": 1,
                            "term": "Revolution"
                        }]
                        }]
                    }]
                }
        }
    }
} 
```

我可以进入第一级，如果第一级中不存在字段名称，我该如何进入第二级。我就是这样开始的。[http://jsfiddle.net/W8qhA/1/](http://jsfiddle.net/W8qhA/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T05:59:52.363

我创建了一个函数，该函数将作用于您呈现的结构的对象。如果有多个同名的键，它将简单地返回它遇到的第一个键。

```
var findDeepKey = function(obj, key){
    var results = [];

    if (typeof obj !== 'object') return null;

    for (var k in obj) {
        if (k === key) return obj[k];
    }

    for (var k in obj) {
        if (typeof obj[k] === 'object') {
            if (obj[k].length) {
                for (var i = 0, il = obj[k].length; i < il; i++) {
                    results.push(findDeepKey(obj[k][i], key));
                }
            } else {
                for (var kk in obj[k]) {
                    if (kk === key) return obj[k][kk];
                    results.push(findDeepKey(obj[k][kk], key));
                }
            }
        }
    }

    for (var i = 0, il = results.length; i < il; i++) {
        if (results[i] !== null) return results[i];
    }

    return null;
}; 
```

## [看演示](http://jsfiddle.net/7HsyE/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T05:44:27.537

我希望这能解决你的问题。有一些功能，也有一点解释。希望对您有所帮助。 [使用 JavaScript 遍历 JSON 对象树的所有节点](https://stackoverflow.com/questions/722668/traverse-all-the-nodes-of-a-json-object-tree-with-javascript)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T06:24:59.637

您可以使用[http://james.newtonking.com/projects/json-net.aspx](http://james.newtonking.com/projects/json-net.aspx)

# playframework - 如何在 JAVA 应用程序级别使用 aws DB？

> ID：11288218
> 
> 赞同：0
> 
> 时间：2012-07-02T05:35:30.423
> 
> 标签：playframework, amazon-web-services, playframework-2.0, tunneling

我为我的网络应用程序使用了私人服务器，它是由“play！”制作的。
但是，由于某些原因，最近我将服务器环境更改为AWS（Amazon Web Server），
现在我遇到了问题。
曾经我尝试运行应用程序，应用程序无法连接到数据库（Play 框架错误日志：无法连接到数据库 [默认]）
有人告诉我做隧道以访问数据库，但我不知道如何在 Play 中进行隧道！框架（或 JAVA）
如何在源代码（应用程序）级别进行隧道传输？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T10:00:36.987

查看[DeveloperWorks上的“配置播放”部分](http://www.ibm.com/developerworks/java/library/j-javadev2-19/)

# design-patterns - Factory Method Pattern trouble

> ID：11288223
> 
> 赞同：1
> 
> 时间：2012-07-02T05:35:41.880
> 
> 标签：design-patterns, factory-pattern

I have read Factory Method pattern. I have a problem when design the latter example.

Best design for the pattern? Anybody can give me any suggestions?

```
 AbstractProduct                   Creator
         /     \                        /   \
    Product1 Product2             Creator1 Creator2

        AbstractProduct                         ? How to design Creator ?
       /     |         \
Product1 Product2 SubAbstractProduct
                       /     \
                  Product3 Product 4 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T05:49:53.960

*Creator* can be designed the same way as in the previous example because Concrete Creators that create *Product3* and *Product4* still are *AbstractProduct*.

Answering the comment:

Not really. When this *AbstractProduct createProduct()* is overridden in child Concrete Creator classes (which is the factory pattern), it can return *SubAbstractProduct*.

Just wanted to add that you can do the above (i.e. overridden method returning a subtype of what is returned in the parent class method)in java since Java 1.5.

# c - 叉子：孩子从哪里开始跑？

> ID：11288226
> 
> 赞同：0
> 
> 时间：2012-07-02T05:35:57.660
> 
> 标签：c, fork

孩子在fork之后是从头开始还是从父的地方开始？

比如这个程序，孩子是从第1行还是第3行开始？

```
int i=1
fork()
i=i*2
fork
i=i*2 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-02T05:39:48.647

> fork() 通过复制调用进程来创建一个新进程。新进程（称为子进程）与调用进程（称为父进程）完全相同，但以下几点除外：[…]

从`fork(2)`

由于它是完全重复的，因此它也将具有相同的指令指针和堆栈。所以孩子会在打电话后马上到`fork()`。现在，您可能会问，我如何确定当前程序是孩子还是父母？有关返回值，请参见手册页：

> 成功时，父进程返回子进程的PID，子进程返回0。失败时，在父进程中返回 -1，不创建子进程，并适当设置 errno。

因此，如果 的结果`fork()`等于`0`，则您在子进程中，如果它大于`0`您在父进程中，如果它低于`0`您有麻烦。

请注意，这意味着与 的结果值无关的每个代码都*将*`fork()`在子级和父级中执行。因此，例如，如果您要创建一个包含 16 个进程的池，您应该这样做：

 *```
for (int i = 0; i < 16; i++) {
    pid_t pid = fork()
    if (pid == 0) {
        do_some_work();
        exit(0);
    } else if (pid < 0) {
        // fork failed
        do_some_error_handling();
    }
} 
```

如果你错过了`exit(0)`，你会产生 2¹⁶-1 进程（去过那里，只有 100 个而不是 16 个。没有乐趣。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T05:46:25.783

将`Child`在第 2 行即创建，`fork()`但它将从第 3 行即开始执行`i = i*2`。让我感到困惑的是你的第 4 行。你想在那里做什么？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T05:37:18.750

分叉从第 3 行开始，即分叉发生的点。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-02T05:40:53.217

当 fork 返回时，它同时返回父级（返回子级的 PID）和子级（返回 0）。执行从那里继续在父母和孩子。

因此，fork 的典型用法如下：

```
if (0 == (child = fork()))
    // continue as child.
else
    // Continue as parent. 
```*

# c++ - opencv 错误：cvCloneImage 文件 build/buildd/opencv-2.1.0/src/cxcore/cxarray.cpp 中的错误参数（错误图像头），第 3122 行

> ID：11288228
> 
> 赞同：0
> 
> 时间：2012-07-02T05:36:12.503
> 
> 标签：c++, opencv, codeblocks

对不起我的英语不好..

我是opencv的新手，我想尝试示例square.cpp，我在ubuntu上使用了代码块。

但是当我编译并运行它时出现错误，它说（在Xterm上）：

**opencv 错误：cvCloneImage 文件 build/buildd/opencv-2.1.0/src/cxcore/cxarray.cpp 中的错误参数（错误图像头），第 3122 行**

所以，我的问题是，如何解决它？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T07:03:16.547

它可能包含一些使用一些输入图像的代码。重要的是这些输入图像可能不为空。

这个错误出现在`cxarray.cpp`我们有类似`if (!CV_IS_IMAGE_HDR(src))`. 现在如果你检查这个的定义

```
#define CV_IS_IMAGE_HDR 
```

你会得到它：

```
((img) != NULL && ((const IplImage*)(img))->nSize == sizeof(IplImage)) 
```

它检查的第一件事是空图像。因此，在您的情况下，您可能没有输入图像。选择您拥有的输入图像，然后重试。它会起作用，因为它对我有用。

# entity-framework - 有没有办法在另一个项目中找到配置文件？

> ID：11288230
> 
> 赞同：0
> 
> 时间：2012-07-02T05:36:26.760
> 
> 标签：entity-framework, connection-string, configuration-files, edmx

我正在使用实体框架。生成 edmx 文件时，连接字符串会出现在 app.config 文件中。

是否可以在另一个项目中找到配置文件？或者，让 edmx 文件使用另一个项目的 app.config 的连接字符串？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T10:04:29.037

.NET 应用程序使用已执行程序集的配置文件。.NET IIS 托管应用程序使用 web.config。只需将您的连接字符串移动到正确的配置文件。这是一个正确的解决方案。否则，您将不得不手动打开另一个配置文件，获取连接字符串并将其传递给代码中的上下文。

# php - 每次为其分配新 ID 时将 DIV 向下推

> ID：11288232
> 
> 赞同：0
> 
> 时间：2012-07-02T05:36:33.167
> 
> 标签：php, css

我`DIV`在这个论坛页面上有一个可变 ID。每次发布新帖子时都会生成 ID。每次生成新 ID 时，我都希望将`DIV`页面向下推送一定量。有没有办法做到这一点？

我正在使用`PHP`将 ID 分配给`DIV`. 这是将 ID 分配给有效的 DIV 的代码。但是我仍然知道如何在每次分配新 ID 时将这个 DIV 向下推到页面上。任何帮助将不胜感激......

```
<!-- PHP --> $post_id = $_SESSION['POST_ID']; <!-- ENDPHP -->

<div id="<!-- PHP -->echo p,$post_id; <!-- ENDPHP -->" style="position:absolute;"></div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:31:47.537

如果您使用“ajax”来提供 php 页面中的条目，那么只需在 jQuery 中添加 prepend 函数即可在顶部添加当前内容。

```
$("#maincontentid").prepend("HTML"); 
```

或者，如果您正在使用页面刷新，请尝试在 SQL 查询中使用降序获取数据。

# c# - 使用 c# 读取 azure ServiceConfiguration 文件的证书部分

> ID：11288233
> 
> 赞同：7
> 
> 时间：2012-07-02T05:36:44.960
> 
> 标签：c#, .net, azure

我们可以使用 c# 读取带有 ServiceConfiguration.cscfg 文件的证书部分吗？RoleEnvironment 类中有读取 ConfigurationSettings 的方法，但没有读取证书部分。

```
<?xml version="1.0" encoding="utf-8"?>
<ServiceConfiguration serviceName="WindowsAzureProject7" xmlns="http://schemas.microsoft.com/ServiceHosting/2008/10/ServiceConfiguration" osFamily="1" osVersion="*">
  <Role name="MvcWebRole1" >
    <Instances count="1" />
       <Certificates>
      <Certificate name="Microsoft.WindowsAzure.Plugins.RemoteAccess.PasswordEncryption" thumbprint="625FBBB3B7A25C4B9D1C49D1CB1E3AE196C1A083" thumbprintAlgorithm="sha1" />
    </Certificates>
  </Role>
</ServiceConfiguration> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-02T19:05:04.710

是的，据我所知，没有用于读取证书详细信息的 API，但是您可以做的是创建一个配置设置并添加您的证书特定详细信息，然后直接从同一个 API 中读取它。这是我过去使用的技巧：

```
<ServiceConfiguration serviceName="RW" xmlns="http://schemas.microsoft.com/ServiceHosting/2008/10/ServiceConfiguration">
 <Role name="RR">
  <Instances count="1" />
   <ConfigurationSettings>
    <Setting name="AppFolder" value="RailsApp" />
    <Setting name="CertificateThumb" value="*************" />
   </ConfigurationSettings>
   <Certificates>
    <Certificate name="Microsoft.WindowsAzure.Plugins.RemoteAccess.PasswordEncryption" thumbprint="*****************************" thumbprintAlgorithm="sha1" />
   </Certificates>
 </Role>
</ServiceConfiguration> 
```

现在，在我的角色特定代码中，我可以调用 RoleEnvironment.GetConfigurationSettingValue 来获取证书拇指，如下所示：

```
string certThumb = RoleEnvironment.GetConfigurationSettingValue("CertificateThumb"); 
```

# ios - 如何使用Objective c中的属性从xml动态传递URL

> ID：11288235
> 
> 赞同：1
> 
> 时间：2012-07-02T05:37:05.933
> 
> 标签：ios, xml, xcode

如何使用Objective c中的属性从xml动态传递URL，然后我想将url存储在匹配字符串中。

```
NSString * home= @"http://sports.xyz.rss/rss.aspx";
    MSXMLParser * homenew=[[MSXMLParser alloc]init];
    [homenew parseWithURLString:home FileName:@"file" xmlType:@"MATCHES"];
    NSMutableDictionary * mainDict = [MSDataDictionary newsDictionary];
    for (int i=0; i<=[mainDict count]; i++) 
    {
        NSString * theKey = [NSString stringWithFormat:@"%d",i];
        NSMutableDictionary * itemDict = [mainDict objectForKey:theKey];

        matches = [itemDict objectForKey:@"title"];
        if ([matches isEqualToString:@"cric"])
        {
            matches=[itemDict objectForKey:@"link"];
            break;
        }

    }

    NSString * home=matches; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T05:43:18.733

什么是 MSDataDictionary？我认为它应该从 NS 而不是 MS 开始。

我搜索了 MSDataDictionary 但没有得到任何东西。

# ios - 将图片存储在 iCloud 中

> ID：11288238
> 
> 赞同：0
> 
> 时间：2012-07-02T05:37:38.213
> 
> 标签：ios, icloud

我目前正在研究一个新的 iPhone 应用程序的概念，这将涉及一些非常基本的配置文件系统。

由于所有其他数据都将存储在 iCloud 中，我想知道是否也可以将图片存储在云中。我看到每个应用程序的存储空间只有 1MB，因此存储图片似乎非常低。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T06:08:12.747

1 MB 的限制仅适用于 Key-Value 存储（由于其他原因，KV 存储也不适合存储图像）。如果您使用[Cloud](https://developer.apple.com/library/prerelease/ios/documentation/General/Conceptual/iCloudDesignGuide/Chapters/DesigningForDocumentsIniCloud.html#//apple_ref/doc/uid/TP40012094-CH2-SW1) API 中的文档，您的应用程序可以存储大量大文件，仅受用户拥有（或未支付）多少空间的限制。（尽管明智而有效地使用该空间是明智的，因为如果您的应用程序单独导致他们超出其帐户的存储限制，您的潜在客户将不会高兴。）

# objective-c - 截断字符串，特别是末尾的逗号。

> ID：11288239
> 
> 赞同：-1
> 
> 时间：2012-07-02T05:37:39.780
> 
> 标签：objective-c, string, truncation

我需要在字符串末尾截断逗号，有点像这样：

```
NSString *string = @" this text has spaces before and after ";
NSString *trimmedString = [string stringByTrimmingCharactersInSet:
                     [NSCharacterSet whitespaceCharacterSet]]; 
```

而不是 whitespaceCharacterSet 有类似 commaCharacterSet 的东西吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T05:42:53.063

如果每个字符串的开头和结尾都有逗号/空格：

```
NSRange range = NSMakeRange(1, [string length-1]);
NSString *trimmedString = [string substringWithRange:range]; 
```

如果您只想修剪逗号：

```
[NSCharacterSet characterSetWithCharactersInString:@","]; 
```

# php - 如何在 PHP 中使用 IF 语句来决定是否应该显示图像？

> ID：11288240
> 
> 赞同：0
> 
> 时间：2012-07-02T05:37:45.740
> 
> 标签：php, html, image

*我正在使用wunderground.com API*设置天气页面。无论如何，我想做以下事情：

变量`$weather`等于`Clear`，我想显示一个图像。

我试过这个：

```
if ($weather=="Clear") echo <img src="http://example.org/clear.gif" alt="Clear"/> 
```

我需要做什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-02T05:40:17.973

试试这个

```
if ($weather=="Clear") echo '<img src="http://example.org/clear.gif" alt="Clear"/>'; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-02T05:45:29.257

您尝试的代码将呈现***ERROR***。您需要将 HTML 文本和任何字符串放在引号中，在`echo` 它们之前。

```
if ($weather=="Clear") echo '<img src="http://example.org/clear.gif" alt="Clear"/>' 
```

剩下的，没有什么可以改进的了：）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-02T05:41:24.953

```
if ($weather==="Clear") 
  echo "<img src=\"http://example.org/clear.gif\" alt=\"Clear\"/>"; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-02T05:43:42.767

```
 echo '<img src="http://example.org/clear.gif" alt="Clear"/>'; 
```

或者

```
 echo "<img src='http://example.org/clear.gif' alt='Clear' />"; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-02T05:48:08.780

```
if ($weather=="Clear")  echo "<img src=\"http://example.org/clear.gif\" alt=\"Clear\"/>"; 
```

或者

```
if ($weather==="Clear") echo '<img src="http://example.org/clear.gif" alt="Clear"/>'; 
```

或者

```
if ($weather==="Clear") echo <<<ABC
<img src="http://example.org/clear.gif" alt="Clear"/>
ABC; 
```

等等。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-03T12:16:38.067

对于有条件地渲染 html，我经常只使用 php 标签...

```
if($weather === "Clear") {?>
  <img src="http://example.org/clear.gif" alt="Clear"/>
<?php} 
```

# html - 在 HTML 文件中查找特定标签

> ID：11288244
> 
> 赞同：0
> 
> 时间：2012-07-02T05:38:11.497
> 
> 标签：html, regex, linux, bash

我有一些 html 文件，想提取一些标签之间的内容： 页面的标题 some tagged content here。

```
<p>A paragraph comes here</p>
<p>A paragraph comes here</p><span class="more-about">Some text here</span><p class="en-cpy">Copyright &copy; 2012 </p> 
```

我只想要这些标签：head, p 但正如在第二段中可以看到的，最后一个标签是以 p 开头但不是我的欲望标签，我不想要它的内容。我使用以下脚本来提取我想要的文本，但我无法过滤掉我的示例中的最后一个标签等标签.... 怎么可能只提取`<p>`标签？

```
grep "<p>" $File | sed -e 's/^[ \t]*//' 
```

我必须补充一点，最后一个标签（我不想出现在输出中）就在我想要的标签之一之后（就像在我的示例中一样），并且使用 grep 命令将返回该行的所有内容作为输出......（这是我的问题）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T05:49:58.433

不。试图用它`regex`来解析**HTML**会很[痛苦](https://stackoverflow.com/a/1732454/56763)。使用类似`Ruby`and的东西`Nokogiri`，或您熟悉的类似语言 + 库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T06:06:08.017

```
xmllint --html --xpath "//*[name()='head' or name()='p']" "$file" 
```

如果您正在处理损坏的 HTML，您可能需要一个不同的解析器。这是一个基本相同的“单线”，使用`lxml`. 只需将脚本传递给您的 URL

```
#!/usr/bin/env python3
from lxml import etree
import sys

print('\n'.join(etree.tostring(x, encoding="utf-8", with_tail=False).decode("utf-8") for x in (lambda i: etree.parse(i, etree.HTMLParser(remove_blank_text=1, remove_comments=1)).xpath("//*[name()='p' or name()='head']"))(sys.argv[0]))) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T07:29:06.003

提取 <p> 和 </p> 之间的文本，试试这个

```
perl -ne 'BEGIN{$/="</p>";$\="\n"}s/.*(<p>)/$1/&&print' < input-file > output-file 
```

或者

```
perl -n0l012e 'print for m|<p>.*?</p>|gs' 
```

# vb6 - 在 VB6 中的单选按钮之间切换

> ID：11288246
> 
> 赞同：6
> 
> 时间：2012-07-02T05:38:51.957
> 
> 标签：vb6, radio-button, tabindex

我有一个表单，它由一个框架内的六个单选按钮和一个命令按钮组成，这些单选按钮是互斥的。

我已经为每个单选按钮提供了不同的选项卡索引，但是在运行时通过按选项卡焦点跳过了单选按钮。

那么如何通过按 TAB 将焦点放在另一个单选按钮上？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T14:08:24.557

正如其他人在上面所说的那样，这是预期的行为。如果您真的希望实现这一点，那么我能想到的唯一方法是将每个单选按钮放在一个单独的图片框上（BorderStyle = None，TabStop = False）。然后这将起作用，但您将无法使用箭头键在单选按钮之间移动，只能使用制表符。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-05T04:41:39.610

```
Private Sub Option1_KeyPress(KeyAscii As Integer)
   If KeyAscii = 9 Then
      Option2.SetFocus
   End If
End Sub 
```

KeyAscii=9 是 Tab 键的代码。但是您必须为所有单选按钮执行此操作。

如果您添加属于具有索引 0、1、2 的同一个单选按钮的单选按钮，您可以这样做：

```
Private Sub Option1_KeyPress(Index As Integer, KeyAscii As Integer)
If KeyAscii = 9 Then
    If Index < Option1.Count - 1 Then
        Option1(Index + 1).SetFocus
    Else
        Option1(0).SetFocus
    End If
End If
End Sub 
```

# objective-c - 在视图控制器子类上添加导航控制器

> ID：11288247
> 
> 赞同：1
> 
> 时间：2012-07-02T05:38:53.900
> 
> 标签：objective-c, ios, uiviewcontroller, uinavigationcontroller, xcode3.2

如何在新创建的视图控制器上添加导航控制器？我到处搜索，但所有教程都来自创建导航控制器项目。

任何人都可以将 mo 带到使用视图控制器子类创建导航控制器的教程？

到目前为止我在做什么：

我创建了一个 UIViewController 项目，我有这样的东西可以使用导航控制器转到另一个视图控制器。

```
NavController *view=[[NavController alloc] initWithNibName:nil bundle:nil];
view.modalTransitionStyle=UIModalTransitionStyleCrossDissolve;
[self presentModalViewController:view animated:YES];
[view release]; 
```

添加了一个新的视图控制器子类。

添加 > 新文件 > 带有 nib 的 UIViewController 子类

在 NavController.h 上

```
#import <UIKit/UIKit.h>

@interface NavController : UIViewController {

    IBOutlet UIWindow *window;
    IBOutlet UINavigationController *navCon;

}

@property (nonatomic, retain) UIWindow *window;
@property (nonatomic, retain) UINavigationController *navCon;

@end 
```

在 NavController.m 上

```
#import "NavController.h"

@implementation NavController

@synthesize window,navCon;

- (void)viewDidUnload {
    [super viewDidUnload];

}

- (void)dealloc {
    [window release];
    [navCon release];
    [super dealloc];
}

@end 
```

我已经在我的 IB 上拖了一个 Navigation Conrtoller 和一个 Window，并将窗口连接到窗口，并将 Navigation Controller 连接到 navcon 插座，但是接下来呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T05:43:11.653

如果您使用故事板，请选择您的视图控制器，然后在顶部菜单中选择“编辑器”/“嵌入”/“导航控制器”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T07:56:03.387

通常，您必须在 Appdelegate.h 中创建一个 Navigationcontroller 对象（就像现有的窗口对象一样）。之后，您将 ViewController 的 h.File 导入 Appdelegate.m 并像以下示例中的 menuviewcontroller 一样对其进行初始化。 [堆栈溢出](https://stackoverflow.com/questions/11017847/ibaction-doesnt-work)

要调用另一个视图，请使用以下代码行，以便导航控制器为您处理所有事情。

```
#import Viewcontroller

ViewControllerName controllerVarName = [ViewControllerName alloc] init];

[self.navigationcontroller pushViewController:_ViewControllerName animated:YES]; 
```

在您的特定 ViewController 中，使用此行来设置 Navigationcontroller 将使用的标题：

```
self.title = @"titleName"; 
```

# c# - 单击母版中的按钮时更改母版页

> ID：11288248
> 
> 赞同：3
> 
> 时间：2012-07-02T05:38:56.003
> 
> 标签：c#, asp.net, c#-4.0, master-pages

我有三个母版页，例如`Master-Green, Master-Bule, Master-Red`. 在每个母版页中都有三个名为`green, blue and red`.
现在我`default master is green`的

它被分配了一个页面`Default.aspx`。这时三个按钮也显示在上面。

如何使单击“蓝色”按钮意味着 Master-Blue 成为当前页面的母版页？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T07:00:46.227

1.  在母版页中使用输入类型提交按钮

< `input`type=" `submit`" name=" `btnGreen`" value="绿色" />

< `input`type=" `submit`" name=" `btnBlue`" value="蓝色" />

2.然后从后面的代码中可以查看被点击的按钮的名称，在Page_PreInit事件的Request对象中

```
public partial class Default : System.Web.UI.Page
{
    protected void Page_PreInit(object sender, EventArgs e)
    {
        if (Request["btnGreen"] != null)
        {
            Page.MasterPageFile = "/Green.Master";
        }
        else if (Request["btnBlue"] != null)
        {
            Page.MasterPageFile = "/Blue.Master";
        }
    }

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-02T07:32:43.497

处理动态母版页乍一看似乎很容易，但有点棘手。

考虑以下：

*   MasterPage 实际上被视为页面的子控件，因此，它的生命周期与页面上的任何其他控件一样

*   为了在运行时更改 MasterPage，必须在`PreInit`页面事件中完成（请记住，控件没有此事件，因此 MasterPage 也没有）

*   提醒一下，页面生命周期的`PreInit`、`Init`和`Load`事件的工作方式如下：页面的`PreInit`事件被触发，然后是`Init`页面的子控件（包括 MasterPage）的所有事件，当所有子`Init`事件都被引发时，页面的`Init`事件被触发，最后页面的`InitComplete`事件被触发，表明所有`Init`事件都已被处理。`Load`事件反过来工作，首先触发页面事件`Load`，然后触发所有子控件的`Load`事件，最后触发页面`LoadComplete`事件。

*   引发页面回发的回发事件在所有子控件的事件*被*`Load`触发之后但在页面`LoadComplete`事件之前引发

*   如果`PreInit`您无权访问页面 ViewState

来源：http: [//msdn.microsoft.com/en-us/library/ms178472.aspx](http://msdn.microsoft.com/en-us/library/ms178472.aspx)

快速浏览：

![在此处输入图像描述](../Images/4af47b1bfe80cba4273cebe7bcc1739e.png)

那么为什么这如此重要呢？

在您的示例中，您有三个按钮，每次按下按钮时，您都需要更改 MasterPage，但 MasterPage 必须在`PreInit`页面事件中更改，但您的按钮处理程序在此之后处理，所以棘手的部分是调用`Server.Transfer`以重新处理页面。

笔记。由于您允许用户对 MasterPage 进行个性化设置，因此您需要一种存储其偏好的方式，通常您会使用 cookie 或数据库。在此示例中，为了简单起见，我将使用该`Session`对象，但您可以更改它以满足您的需要。

所以这看起来像：

### 母版页代码背后

```
protected void blueMasterPage_Click(object sender, EventArgs e)
{
    this.Session["master"] = "BlueMasterPage";
    this.Server.Transfer(this.Request.RawUrl);
} 
```

### 在后面的页面代码中

```
protected void Page_PreInit(object sender, EventArgs e)
{
    if (this.Session["master"] != null)
    {
        this.MasterPageFile = string.Format("~/{0}.master", (string)this.Session["master"]);
    }
} 
```

**注意：**如果您不使用`Server.Transfer`，您将不会看到对页面 MasterPage 的更改，直到您下次在页面上发布帖子

所以这很棘手，在我看来，我们应该能够更轻松地做同样的事情，再一次 ASP.Net 页面的生命周期根本没有帮助。

您始终可以遵循@AndreCalil 的建议，即为您的站点仅使用一个母版页和不同的 CSS 布局

## 编辑 1

我忘了提到的一件事是，您需要在所有使用动态 MasterPage 的页面中设置母版页，因此最好的方法是创建一个*基页*并从中继承，然后在基页中写入`PreInit`事件中设置 MasterPage的代码

# intellij-idea - 在编写 IntelliJ 语法突出显示插件时委派嵌入式语言的语法突出显示

> ID：11288253
> 
> 赞同：3
> 
> 时间：2012-07-02T05:39:21.233
> 
> 标签：intellij-idea, intellij-plugin

我正在编写一个 IntelliJ 插件来为 Jade 的 Scala 实现进行语法突出显示。Jade 是一种 HTML 模板语言，可以包含嵌入式代码。例如：

```
-@ var teams : List[Team]
div(id="TeamList")
    ul
        =teams foreach {view(_, "list")} 
```

“-@”和最后一个“=”之后的所有内容都是嵌入的 Scala 代码。我的插件处理 Jade 语法高亮，但我不想重复 Scala 高亮。有没有办法将 Scala 代码的语法突出显示委托给已经存在的 Scala 插件？

# f# - 那么一切都是 F# 中的表达式吗？

> ID：11288257
> 
> 赞同：4
> 
> 时间：2012-07-02T05:39:47.807
> 
> 标签：f#, unit-type

我正在查看以下 F# 行

```
for i = 0 to i=10 do
   Console.WriteLine("Hello") 
```

我想知道上面的行不是一个语句而不是一个表达式吗？

F# 中的所有内容不应该都是表达式吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-02T09:54:36.813

如前所述，F# 中的每个语法结构都是一个*表达式*。F# 不区分语句和表达式（因此我想说 Robert 发布的 WikiPedia 引用有点误导 - F# 没有*语句*）。

^(实际上，上述情况并不完全正确，因为 F# 计算表达式中的某些构造，例如`let!`not *expressions*，但我们可以忽略它。)

这意味着什么？在 C# 中，`for`方法调用的语法定义如下：

```
statement  := foreach(var v in <expression>) <statement>
            | { <statement> ... <statement> }
            | <expression>;
            | (...)

expression := <expression>.<ident>(<expression>, ..., <expression>)
            | <literal>
            | <expression> + <expression>
            | (...) 
```

这是非常简化的，但它应该给你的想法 - 语句是不评估值的东西。它可以是`foreach`循环（其他循环）、语句块（具有多个语句）或带有分号的表达式（其中表达式的结果`void`被忽略或被忽略）。例如，表达式是方法调用、原始文字（字符串、整数）或二元运算符。

这意味着您不能在 C# 中编写某些内容 - 例如，方法调用的参数不能是语句（因为语句不会评估为值！）

另一方面，在 F# 中，一切都是表达式。这意味着只有一个语法类别：

```
expression := for v in <expression> do <expression>
            | <expression>; <expression>
            | <expression>.<ident>(<expression>, ..., <expression>)
            | <literal>
            | <expression> + <expression>
            | (...) 
```

这意味着在 F# 中，所有语法结构都是表达式，包括`for`循环和其他循环。of 的主体`for`也是一个表达式，但如果表达式评估为某个值（即`42`），则没有意义，因此类型要求主体的结果是`unit`（不携带任何信息）。同样，排序 ( `<expr>; <expr>`) 中的第一个表达式应该返回`unit`- 排序的结果是第二个表达式的结果。

这使得语言更简单、更统一，但你可以写一些奇怪的东西：

```
let x = (for i in 0 .. 10 do printfn "%d" i); 42 
```

这将打印从`0`to的数字`10`，然后将值定义`x`为`42`。赋值是表达式 ( `<expr>; <expr>`) 的序列，其中第一个是`for`循环（它有一个类型`unit`，因为它不计算任何东西），第二个是`42`，它的计算结果是 42。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-02T05:43:45.143

> F# 中的每个语句，包括 if 语句和循环，都是具有明确返回类型的可组合表达式。不返回任何值的函数和表达式的返回类型为 unit。

[http://en.wikipedia.org/wiki/F_Sharp_(programming_language)](http://en.wikipedia.org/wiki/F_Sharp_%28programming_language%29)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-28T13:46:47.610

在像 F# 这样的语言中，语句只是返回 type 值`()`的表达式`unit`。由于该`unit`类型只有一个值，它不传达任何信息，因此返回类型 unit 的值表示“如果我正在做任何事情，那么它是通过副作用的方式”，例如打印到控制台或写入磁盘。

Note that not everything is an expression in F#. Type definitions are not expressions. Patterns are not expressions. And so on...

# ios - Cocos2D：支持所有iOS设备

> ID：11288260
> 
> 赞同：0
> 
> 时间：2012-07-02T05:40:19.737
> 
> 标签：ios, xcode, cocos2d-iphone

我很高兴我的新游戏即将完成并即将发布。但是在整个开发过程中，我跳过了一个重要的部分，让它在所有屏幕上都可以工作。一直以来我只在我的 iPhone 4 上进行测试，现在如果我在其他设备上运行它，游戏的玩法就会大不相同。

现在，让游戏在所有设备上运行完全相同的最简单方法是什么？我愿意不得不更改很多代码。

//编辑

我找到[了这个](https://stackoverflow.com/questions/9611061/how-to-support-both-ipad-and-iphone-retina-graphics-in-universal-apps)，我可以做到……但剩下的问题是位置代表不同设备型号的屏幕的不同区域。例如，与 ipod 相比，与屏幕尺寸相比，iPad 上的任何位置都将在左侧更低和更远。这打破了我的游戏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T05:43:22.210

如果您谈论的是所有 iphone 设备，那么它们都具有相同的结果，因此您无需担心。唯一不同的是绘制 2d/3d 事物的硬件 open GL 已逐个设备更新。不是决议。希望对你有帮助！！！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-07T14:59:56.117

如果您担心的是性能，那么您将需要进行一些优化。

对于位置，而不是对它们进行硬编码，而是使用

`CGSize winsize = [[CCDirector sharedDirector] screenSize];`

例如：硬编码（iPhone）：`CGPoint screencenter = ccp(240, 160); //DON'T use this!`

EX：独立于设备：`CGPoint screencenter = ccp(winsize.width/2, winsize.height/2); //Use this!`

这将获得任何设备上的屏幕中心。

您显然可以使用 win size 变量来正确定位任何东西。

# jquery - 任何人都可以看到 symbian 的代码

> ID：11288262
> 
> 赞同：0
> 
> 时间：2012-07-02T05:40:43.300
> 
> 标签：jquery, jquery-ui, cordova, phonegap-plugins

嗨，我正在 phonegap 中开发一个应用程序。对于 symbian 平台，我们创建 www 文件夹的 .zip 文件，然后将其扩展名更改为 .wgz，因为这样任何人都可以通过提取 .wgz 文件夹来查看 js 和 html 文件的实际代码。那么什么是安全？如何限制用户查看实际代码？任何建议将不胜感激。在此先感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T05:45:07.263

运行应用程序的 HTML 引擎无论如何都需要看到 HTML 和 JS，所以没有办法让它完全不可见。但是，您可以对其进行混淆，使其对人类不可读。请参阅此质量检查：

[如何混淆（保护）JavaScript？](https://stackoverflow.com/questions/194397/how-can-i-obfuscate-javascript)

# 64-bit - 在 32 位模式下计算 64 位值

> ID：11288269
> 
> 赞同：2
> 
> 时间：2012-07-02T05:41:19.967
> 
> 标签：64-bit, 32-bit, cpu-registers, arithmetic-expressions

我正在编写一个适用于 64 位值的 C99 编译器。

对于初学者，这将编译 32 位和 64 位代码。在 64 位操作系统上，我知道我可以使用`r[]x`寄存器。但是对于 32 位代码，我该怎么做。

我已经尝试将值加载到 2 个寄存器中*（*总共 4 个），但这不适用于大算术。谷歌搜索 GCC/LLVM 的工作原理会带来垃圾，我不想搜索他们的源代码。

我希望你们在这里可以帮助我做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-19T13:16:14.600

r64 寄存器仅为 64 位。没有合法的方法可以从 32 位程序访问它们（即使在 64 位处理器上）。

对于负载，您可以：

```
mov r1, LO
mov r2, HI 
```

添加你做

```
; allocate unused reg r1:r2
mov r1, LO_1
mov r2, HI_1
add r1, LO_2
adc r2, HI_2
jc _int64_add_overflow
; result is r2:r1 
```

减法是对称的：

```
; allocate unused reg r1:r2
mov r1, LO_1
mov r2, HI_1
sub r1, LO_1
sbb r2, HI_1
jb _int64_sub_underflow
; result is r2:r1 
```

对于乘法、模数、除法和移位，您可能希望在运行时中注入对函数的调用，该函数将执行操作并在 EDX:EAX 上返回结果。

# javascript - 用于自定义缓动的首选 jQuery 插件？

> ID：11288275
> 
> 赞同：1
> 
> 时间：2012-07-02T05:42:09.117
> 
> 标签：javascript, jquery

我看到 jQuery Easing 插件和 jquery UI 插件都提供自定义缓动。两者有什么区别吗？javascript 开发人员是否更喜欢一个？我的直觉是，如果我只需要缓动而不需要任何额外的功能，那么 jQuery Easing 将是可行的方法，但我认为问它不会有坏处。

查询缓动插件： http: [//gsgd.co.uk/sandbox/jquery/easing/](http://gsgd.co.uk/sandbox/jquery/easing/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T17:46:19.860

jQuery UI 的文档说：

> 将 Robert Penners 高级缓动函数移植到 jQuery 的优秀 jQuery 缓动插件已包含在 effects.core.js 中。

由于 jQuery UI 的核心效果插件 (jquery.effects.core.js) 几乎是 jQuery 缓动插件 (jquery.easing.1.3.js) 的三倍，即 23kb 与 7.9kb 用于未压缩的 javascript 文件，如果所有需求都是高级的easing，jQuery easing 插件可能是一个更好或至少更清洁的选择。jQuery UI 的核心效果插件提供了颜色动画和类转换以及高级缓动，这导致它的文件更大。

# javascript - 使用窗口滚动查找光标位置

> ID：11288277
> 
> 赞同：0
> 
> 时间：2012-07-02T05:42:27.023
> 
> 标签：javascript, jquery

有没有办法找到光标位于具有窗口滚动功能的 HTML 元素的顶部。

编辑：如果光标位于一个 div 的顶部，我必须调用以下脚本来暂停窗口滚动功能：

```
document.addEventListener('DOMMouseScroll', function(e){
   console.log(e);
   e.stopPropagation();
   e.preventDefault();
   e.cancelBubble = false;
   return false;
}, false); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:45:16.213

如果您说如果鼠标光标（悬停）在特定元素上时要防止发生滚动，则使用您提供的函数并添加条件，以便仅在未设置标志时取消 DOMMouseScroll 事件：

```
var allowScroll = true;

$("div.noscroll").hover(function() {
    allowScroll = false;
}, function() {
    allowScroll = true;
});

document.addEventListener('DOMMouseScroll', function(e) {
    if (!allowScroll) {
        console.log(e);
        e.stopPropagation();
        e.preventDefault();
        e.cancelBubble = false;
        return false;
    }
}, false); 
```

演示：http: [//jsfiddle.net/WSQbp/](http://jsfiddle.net/WSQbp/)

鉴于您已经用“jquery”标记了您的问题，我使用 jQuery 来设置管理标志的悬停处理程序。您可以通过使用 jQuery 设置 DOMMouseScroll 处理程序来进一步简化代码：

```
$(document).on('DOMMouseScroll', function() {
    if (!allowScroll)
        return false;
}); 
```

演示：http: [//jsfiddle.net/WSQbp/1/](http://jsfiddle.net/WSQbp/1/)

# hibernate - 从 Grails 服务访问休眠属性？

> ID：11288279
> 
> 赞同：0
> 
> 时间：2012-07-02T05:42:30.073
> 
> 标签：hibernate, grails

如何从 Grails 服务访问 Hibernate 属性？

在这种情况下，我必须使用`createSQLQuery`旧数据库并且需要访问该`hibernate.default_schema`属性才能构建有效的 SQL 语句。

```
class MyService {
    def sessionFactory

    def getRows() {
        def session = sessionFactory.currentSession
        session.createSQLQuery("SELECT * FROM schema.table").list()
    }
} 
```

* * *

**更新**

Grails 2.x 多数据源和 Hibernate 属性的设置有一个怪癖。在其他数据源中设置的属性将应用于默认数据源。

必须在`hibernate`对象而不是`datasource`对象中设置属性：

```
datasource_ds2 {
    . . .
}
hibernate_ds2 {
    default_schema = "schema"
} 
```

然后可以从`hibernate`grailsApplication 中的配置访问它们：

```
def grailsApplication
assert grailsApplication.config.hibernate_ds2.default_schema == "schema" 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T06:46:33.090

它们存储在 Config 对象中，例如：

```
class MyService {

    def grailsApplication
    def sessionFactory

    def getRows() {

        def defaultSchema = grailsApplication.config.hibernate.default_schema
        def session = sessionFactory.currentSession
        session.createSQLQuery("SELECT * FROM ${defaultSchema}.table").list()
    }
} 
```

# html - 如何使我的页面以 IE 为中心

> ID：11288281
> 
> 赞同：-1
> 
> 时间：2012-07-02T05:42:44.027
> 
> 标签：html, css

您好，我设计了一个论坛，但我遇到的主要问题是页面不会居中。我将主要元素设置为`margin: 0 auto;`它没有帮助，当然设置为`margin-left:auto`它们都不起作用`margin-right:auto`。

我的html代码在这里：

```
 <html>
        <head>
            <link href="style.css" rel="stylesheet" type="text/css"/>
        </head>
        <body>
            <div id="main"><!--Begin Main-->
                <div class="container"><!--Begin container-->
                    <div id="header"><!--Begin Header-->

                            <ul id="menu" >
                            <li><img src="images/mark.png" /><a href="#">Login</a></li>                         
                                <li> <img src="images/mark.png"><a href="#">Register</a></li>
                            </ul>

                            <ul >
                                    <li>  <img src="images/mark.png"/><a href="#">FAQ</a></li>
                                <li><img src="images/mark.png" /><a href="#">Search</a></li>
                            </ul>

                        <div style="clear:both;"></div>
                        <div id="logo"><!--Begin Logo-->
                            <h1>BLOOMSKIN</h1>
                        </div><!--End logo-->
                        <div id="tagline"><!--Begin Tagline-->

                            <h2>Your Forum</h2>
                        <div/><!--end Tagline-->
                        </div><!-- End header-->
                        <div id="position"><!--Begin Position-->
                            <h5 style="float:left;"><a href="#">View unanswered post </a></h5>

                            <h5>&nbsp;|<a href="#"> View active topics</a></h5>
                            <h5 id="date_time">it is a current time Thus jun 09,2011    11:10am</h5>
                        </div><!--end Position-->
                    </div><!--End Header-->
                    <div style="clear:both;"></div>
                    <div id="content"><!--Begin Content-->
                        <div id="hold_white_content">   
                            <div style="padding-bottom:15px;"></div>

                            <div id="content_of_category">
                                    <h3 id="category">Category</h3>

                                    <div class="Form_Header">
                                        <h4 id="Furom_Format">Forum</h4>
                                        <h5 id="Set_status">Status</h5>
                                        <h5 id="Set_status">Last Post Info</h5>
                                    </div>
                                   <div  style="clear:both"></div>

                                <div id="title_exam">
                                <h2>Title Example</h2>
                                    <h3>5 Topic</h3>
                                    <img src="images/Rec_Another.png" style="float:left;"/>
                                    <h4>Another title example</h4>
                                </div>
                                <div style="clear:both"></div>
                                <div id="desc">
                                    <h4><i>This is a description of post</i></h4>
                                    <h3>25 Replies</h3>
                                    <h5><i>By Hussein39 At Thus,2011,jun <br> 20 17:48 AM</i></h5><hr style="text-shadow:#999" />
                                </div>
                                <div id="title_exam">
                                <h2>Title Example</h2>
                                    <h3>5 Topic</h3>
                                    <img src="images/Rec_Another.png" style="float:left;"/>
                                    <h4>Another title example</h4>
                                </div>
                                <div style="clear:both"></div>
                                <div id="desc">
                                    <h4><i>This is a description of post</i></h4>
                                    <h3>25 Replies</h3>
                                    <h5><i>By Hussein39 At Thus,2011,jun <br> 20 17:48 AM</i></h5><hr style="text-shadow:#999" />
                                </div>
                                <div id="title_exam">
                                <h2>Title Example</h2>
                                    <h3>5 Topic</h3>
                                    <img src="images/Rec_Another.png" style="float:left;"/>
                                    <h4>Another title example</h4>
                                </div>
                                <div style="clear:both"></div>
                                <div id="desc">
                                    <h4><i>This is a description of post</i></h4>
                                    <h3>25 Replies</h3>
                                    <h5><i>By Hussein39 At Thus,2011,jun <br> 20 17:48 AM</i></h5><hr style="text-shadow:#999" />
                                </div>
                                                            <div id="title_exam">
                                <h2>Title Example</h2>
                                    <h3>5 Topic</h3>
                                    <img src="images/Rec_Another.png" style="float:left;"/>
                                    <h4>Another title example</h4>
                                </div>
                                <div style="clear:both"></div>
                                <div id="desc">
                                    <h4><i>This is a description of post</i></h4>
                                    <h3>25 Replies</h3>

                                    <h5><i>By Hussein39 At Thus,2011,jun <br> 20 17:48 AM</i></h5>
                                </div>
                                            <div style="padding-bottom:20px;"></div>                
                                </div>
                             <div style="padding-bottom:15px;"></div>
                            </div>

                        </div>
                        <div id="new_topic_button">
                        </div>

                    </div><!--End Content-->
                    <div id="button">
                        <a href="#">New Topic</a>
                    </div>
                    <div id="footer"><!-- Begin Footer-->
                        <div id="login"><!--Begin login-->
                            <h3>LOGIN</h3>
                            <hr class="line">
                            <ul id="login_info">
                            <li>UserName:</li>
                            <li><input type="text"  name="username" class="textbox"/></li>
                            <li>Password:</li>
                            <li><input type="text" name="password" class="textbox"/></li>
                            <li> | Log me on automatically each visit</li>
                            <li> <input type="checkbox" id="checkbox"  /></li>
                            <li> <input type="button"  value="Log in" id="loginbutton"/></li>
                            </ul>
                        </div><!--End login section-->
                    <div style="clear:both"></div>
                        <div id="status"><!-- Begin Who is online section-->
                            <h3>Who is Online</h3>
                            <hr class="line" />
                            <p>In total there are  2 users online: 4 registered 1 hidden and 5 guests (base on users active over the past 6 minutes)
                            Most users ever online was 12 on sat 24th june,2010 6:59 pm</p>

                            <div id="reg_user">Register users: No Registered users</div>
                            <div id="legend">
                                Legend:  <a id="admin" href="#">Administrator</a>
                                        <a id="general" href="#">, Global moderators</a>
                            </div>
                        </div><!--End Status Who is online section-->
                    </div><!--End footer Section-->

                </div><!--End container-->
            </div><!--End  main-->
        </body>
    </html> 
```

我的CSS代码在这里：

```
 *{ margin:0;
        padding:0;}
        #main
        {
            width:800px;
            margin-left:auto;
            margin-right:auto;
        }
        body{background-color:#000; color:#FFF;}
        #header
        {   
            background:url(images/header.png)  no-repeat;

        }

        #header li
        {
            list-style-type:none;
            float:left;
            padding-left:20px;
            padding-top:20px;
            padding-bottom:50px;

        }

        #header li a
        { text-decoration:none; font-family:"MS Serif", "New York", serif
        font-size:18px; font-weight:700; color:#FFF; margin-top:10px; padding-left:5px;}
        #header li img
        { 
            height:25px; 
            width:25px;  
            vertical-align:middle;
        }
        #menu
        {
            float:left; 
            padding-right:250px;
        }
        #logo h1
        {
            font-family:"Gill Sans Ultra Bold Condensed";
            font-size:43px;
            font-weight:bold;

        }
        #tagline h2
        {
            font-family:"Monotype Corsiva"; font-size:36px;
            padding-bottom:30px;    
        }

        #position h5
        {   
            float:left;
            padding-bottom:30px;
        }
        #position h5 a
        {
            text-decoration:none; 
            color:#FFF; 
        }
        #date_time
        { padding-left:150px;}
        #hold_white_content
        {
            -moz-border-radius:10px;
            background-color:#FFF;
            width:670px;
            height:auto;
            color:#000;
        }
        #content_of_category
        {
            background:url(images/cat_header.png) repeat-x  #e0e0e0;
            width:630px;
            border:1px  solid #000;
            margin:auto;
            height:auto;
            border-bottom-right-radius:15px 15px;
            border-bottom-left-radius: 15px 15px;
        }
        #Set_status
        {
             float:left; 
             padding-left:10px; 
             padding-top:0px; 

        }
        /*#content_of_category h4{float:left;padding-top:20px; padding-left:10px; font-size:12px;}*/
        #category{ padding-top:10px; padding-left:10px; }
        #Furom_Format{ float:left; font-size:12px;}

        .Form_Header {padding-top:25px; padding-left:10px;}

        #Set_status{ padding-left:190px;}

        #title_exam
        {padding-top:20px; padding-left:10px;}
        #title_exam h2
        {

            font-family:Arial, Helvetica, sans-serif; font-weight:bold; font-size:16px; color:#77c8df;

            float:left;
        }
        #title_exam h3
        {

            font-size:14px; 
            font-family:Arial, Helvetica, sans-serif; 
            font-weight:bold;
            color:#000;
            float:left;
            padding-left:130px; padding-right:60px;
        }
        #title_exam h4{color:#58b8e1;}
        #title_exam img{ padding-left:90px;  }
        #desc h4{ float:left; padding-left:10px;  font-size:14px; ; font-weight:100; text-align:center;}
        #desc h3{float:left; font-size:14px; font-weight:700;    padding-left:70px; padding-right:120px;}
        #desc h5{ float:left  font-size:12px; ; font-weight:100;   text-align:center; color:#9a9c9c;}
        #button
        {
            background:url(images/button.png) no-repeat;
            height:46px;
            padding-top:10px;

            margin-top:15px;
            margin-left:15px;
            margin-bottom:20px;
        }
        #button a
        {
            text-decoration:none;
            font-family:"Gill Sans Ultra Bold Condensed";
            font-weight:bold;
            color:#f6f6f6;
            padding-left:35px;

        }

        #login ul{list-style-type:none; padding-top:10px; padding-left:5px;}
        #login ul li
        {
             float:left;

        }
        .textbox
        {
            width:100px;
            margin-left:2px;
            margin-right:10px;
        }
        #checkbox
        {
            margin-left:2px;
        }
        #loginbutton
        {
            margin-left:10px;
        }
        .line
        {
            border-color:#03F;
            width:650px;
        }
        #status
        {
            padding-top:50px;
            width:650px;    
        }
        #status p{ padding-left:5px; line-height:25px;}
        #reg_user
        {
            padding-top:50px;
        }
        #legend  
        {   padding-top:20px;

        }
        #admin
        {
            text-decoration:none;
            color:#F00;
        }
        #general
        {
            text-decoration:none;
            color:#0F0;
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:38:59.887

你必须做 -

```
#main{
      margin:0px auto;
} 
```

它也适用于 IE。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T06:47:22.783

如果你有一个固定的宽度，你可以这样做：

```
#main {
    width: 800px;
    margin-left: -400px;
    position: absolute;
    left: 50%;
} 
```

这是一个例子：http: [//jsfiddle.net/nXMsC/](http://jsfiddle.net/nXMsC/)

左边距必须是元素总宽度的一半。如果元素是 800 像素宽并且有 16 像素的内边距，那么半宽可能是 416 像素，具体取决于您的盒子模型。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T06:42:27.567

使用正确的文档类型并使用以下 CSS，您可以做到这一点。

```
body {
    width:100%;
    margin:0 auto;
} 
```

“宽度”必须使浏览器中的整个内容居中对齐。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-07-02T05:58:04.547

我正在使用这个，我希望它也适用于所有浏览器

```
#main {
  margin:0 auto;
} 
```

或者，您也可以使用`<center>`标签，但为此您应该将其包含在所有页面中。

```
<body>
<center>

Your Page Content

</center>
</body> 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-07-02T05:46:38.503

嗨，现在定义你的**身体** `text-align:center`，这只是**即**

并`#main`定义`text-align:left;`

像这样

```
body{
text-align:center; // only  for ie
}

    #main{
    text-align:left;
margin:0 auto; // for latest browsers
    } 
```

# php - 如何将 curl_exec 响应转换为关联数组？

> ID：11288282
> 
> 赞同：0
> 
> 时间：2012-07-02T05:42:48.877
> 
> 标签：php

我有以下代码：

```
$real_result=curl_exec($ch);
echo $real_result; 
```

我看到以下结果：`{"result":"LOGIN","old_value":"1"}` 我需要将 $real_result 转换为简单的关联数组，因为我需要将它与另一个数组进行比较。我试过了：

```
$data=json_decode($real_result);
array_intersect(json_decode($real_result), $expected_result); 
```

但它不起作用，我得到第一个参数不是数组的消息。所以，请告诉我我该怎么做。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T05:45:07.100

设置第二个参数`true`以获取数组。

```
$data=json_decode($real_result, true); 
```

# html - 骨干：没有表单标签的表单有效吗？

> ID：11288289
> 
> 赞同：0
> 
> 时间：2012-07-02T05:43:22.290
> 
> 标签：html, forms, backbone.js

我想问这样做是否合法：

```
<textarea name="message"></textarea> 
```

代替;

```
<form><textarea name="message"></textarea></form> 
```

在这两种情况下，Backbone 都会处理表单内容，好处就是我不必阻止表单提交的默认行为。我只是不确定这是否是一个“好”的做法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T05:54:13.303

它没有任何问题。HTML 规范没有强制要求将文本区域放置在表单中，也没有描述如果不是则要采取的默认操作。仅当您使用默认表单操作时，将项目放置在表单中才有意义。

有两个潜在的问题。第一种是在非语义情况下，您在页面内静态有一个文本区域，没有非脚本操作。也就是说，如果用户在关闭 JavaScript 的情况下看到您的页面，他们会看到一个无用的文本区域。我假设您正在使用 Backbone 生成文本区域，这不是问题。

第二个是您正在使用 name 属性。该属性对表单有特殊意义，在表单之外没有 ID 强大。您可能会遇到可怕的情况，即您的组件被另一个开发人员放置在表单中，并且值被错误地传递给服务器。这种事情确实会发生。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T05:54:30.363

来自[HTML5 规范`<textarea>`](http://www.w3.org/TR/html-markup/textarea.html#textarea-context)：

> **允许的父元素**
> 
> 任何可以包含短语元素的元素。

所以是的，你可以在`<textarea>`外面放一个 a `<form>`，不用担心。

# php - 如何使用 Symfony2 中的 AccessDecisionManager 对任意用户进行授权？

> ID：11288293
> 
> 赞同：15
> 
> 时间：2012-07-02T05:43:52.637
> 
> 标签：php, symfony, access-control

我希望能够验证是否将属性（角色）授予`UserInterface`在 Symfony2 中实现的任意对象。这可能吗？

`UserInterface->getRoles()`不适合我的需求，因为它没有考虑角色层次结构，我宁愿不在那个部门重新发明轮子，这就是为什么我想尽可能使用 Access Decision Manager。

谢谢。

**针对以下 Olivier 的解决方案，这是我的经验：**

> 您可以将 security.context 服务与 isGranted 方法一起使用。您可以传递第二个参数，即您的对象。

```
$user = new Core\Model\User();
var_dump($user->getRoles(), $this->get('security.context')->isGranted('ROLE_ADMIN', $user)); 
```

输出：

```
array (size=1)
  0 => string 'ROLE_USER' (length=9)

boolean true 
```

我的角色层次结构：

```
role_hierarchy:
    ROLE_USER:          ~
    ROLE_VERIFIED_USER: [ROLE_USER]
    ROLE_ADMIN:         [ROLE_VERIFIED_USER]
    ROLE_SUPERADMIN:    [ROLE_ADMIN, ROLE_ALLOWED_TO_SWITCH]
    ROLE_ALLOWED_TO_SWITCH: ~ 
```

我的`UserInterface->getRoles()`方法：

```
public function getRoles()
{
    $roles = [$this->isVerified() ? 'ROLE_VERIFIED_USER' : 'ROLE_USER'];

    /**
     * @var UserSecurityRole $userSecurityRole
     */
    foreach ($this->getUserSecurityRoles() as $userSecurityRole) {
        $roles[] = $userSecurityRole->getRole();
    }

    return $roles;
} 
```

`ROLE_ADMIN`必须显式分配，即使用户刚刚创建并且没有被分配除默认角色之外的任何角色，*只要当前登录的用户被授予，也会*`isGranted('ROLE_ADMIN', $user)`返回。这使我相信第二个参数 to只是被忽略了，而是使用提供的 to 。`TRUE``ROLE_USER`*`ROLE_ADMIN`*`isGranted()``Token``AccessDecisionManager->decide()``SecurityContext`

如果这是一个错误，我将提交报告，但也许我仍然做错了什么？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2014-03-13T13:53:33.173

您只需要`AccessDecisionManager`这个，不需要安全上下文，因为您不需要身份验证。

```
$user = new Core\Model\User();

$token = new UsernamePasswordToken($user, 'none', 'none', $user->getRoles());
$isGranted = $this->get('security.access.decision_manager')
    ->decide($token, array('ROLE_ADMIN')); 
```

这将正确考虑角色层次结构，因为`RoleHierarchyVoter`默认情况下已注册

**更新**

正如@redalaanait 所指出的，*security.access.decision_manager*是一项私有服务，因此直接访问它并不是一件好事。最好使用[服务别名](http://symfony.com/doc/current/components/dependency_injection/advanced.html#aliasing)，它允许您访问私有服务。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-06-11T15:02:07.683

也许您可以实例化一个新的 securityContext 实例并使用它来检查用户是否被授予：

```
$securityContext = new \Symfony\Component\Security\Core\SecurityContext($this->get('security.authentication.manager'), $this->get('security.access.decision_manager'));
$token           = new \Symfony\Component\Security\Core\Authentication\Token\UsernamePasswordToken($user, null, $this->container->getParameter('fos_user.firewall_name'), $user->getRoles());
$securityContext->setToken($token);
if ($securityContext->isGranted('ROLE_ADMIN')) {
    // some stuff to do
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-03-10T02:13:47.927

> `security.context`自 2.6 起已弃用。

使用`[AuthorizationChecker](http://symfony.com/doc/current/components/security/authorization.html)`：

```
$token = new UsernamePasswordToken(
     $user,
     null,
     'secured_area',
     $user->getRoles()
);
$tokenStorage = $this->container->get('security.token_storage');
$tokenStorage->setToken($token);
$authorizationChecker = new AuthorizationChecker(
     $tokenStorage,
     $this->container->get('security.authentication.manager'),
     $this->container->get('security.access.decision_manager')
);
if (!$authorizationChecker->isGranted('ROLE_ADMIN')) {
    throw new AccessDeniedException();
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-03T06:19:41.533

`RoleVoter`忽略从 传递的 $object `SecurityContext->isGranted()`。这导致从提供的 $object （如果存在）而不是`RoleHierarchyVoter`从提供的角色中提取角色，所以我必须找到不同的路线。`Token``UserInterface`

也许有更好的方法来解决这个问题，如果有我肯定想知道，但这是我想出的解决方案：

首先，我`ContainerAwareInterface`在我的 User 类中实现，这样我就可以从其中访问安全组件：

```
final class User implements AdvancedUserInterface, ContainerAwareInterface
{
    // ...

    /**
     * @var ContainerInterface
     */
    private $container;

    // ...

    public function setContainer(ContainerInterface $container = null)
    {
        if (null === $container) {
            throw new \Exception('First argument to User->setContainer() must be an instance of ContainerInterface');
        }

        $this->container = $container;
    }

    // ...
} 
```

然后我定义了一个`hasRole()`方法：

```
/**
 * @param string|\Symfony\Component\Security\Core\Role\RoleInterface $roleToCheck
 * @return bool
 * @throws \InvalidArgumentException
 */
public function hasRole($roleToCheck)
{
    if (!is_string($roleToCheck)) {
        if (!($roleToCheck instanceof \Symfony\Component\Security\Core\Role\RoleInterface)) {
            throw new \InvalidArgumentException('First argument expects a string or instance of RoleInterface');
        }
        $roleToCheck = $roleToCheck->getRole();
    }

    /**
     * @var \Symfony\Component\Security\Core\SecurityContext $thisSecurityContext
     */
    $thisSecurityContext = $this->container->get('security.context');
    $clientUser = $thisSecurityContext->getToken()->getUser();

    // determine if we're checking a role on the currently authenticated client user
    if ($this->equals($clientUser)) {
        // we are, so use the AccessDecisionManager and voter system instead
        return $thisSecurityContext->isGranted($roleToCheck);
    }

    /**
     * @var \Symfony\Component\Security\Core\Role\RoleHierarchy $thisRoleHierarchy
     */
    $thisRoleHierarchy = $this->container->get('security.role_hierarchy');
    $grantedRoles = $thisRoleHierarchy->getReachableRoles($this->getRoles());

    foreach ($grantedRoles as $grantedRole) {
        if ($roleToCheck === $grantedRole->getRole()) {
            return TRUE;
        }
    }

    return FALSE;
} 
```

从控制器：

```
$user = new User();
$user->setContainer($this->container);

var_dump($user->hasRole('ROLE_ADMIN'));
var_dump($this->get('security.context')->isGranted('ROLE_ADMIN'));
var_dump($this->get('security.context')->isGranted('ROLE_ADMIN', $user));

$user->addUserSecurityRole('ROLE_ADMIN');
var_dump($user->hasRole('ROLE_ADMIN')); 
```

输出：

```
boolean false
boolean true
boolean true

boolean true 
```

虽然它不涉及`AccessDecisionManager`选民或注册选民（除非正在测试的实例是当前经过身份验证的用户），但这足以满足我的需求，因为我只需要确定给定用户是否具有特定角色。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-12-19T17:47:28.940

我知道这篇文章已经很老了，但我最近遇到了这个问题，我根据@dr.scre 的答案创建了一个服务。

以下是我在 Symfony 5 中的做法。

```
<?php

declare(strict_types=1);

namespace App\Service;

use Symfony\Component\Security\Core\Authentication\Token\UsernamePasswordToken;
use Symfony\Component\Security\Core\Authorization\AccessDecisionManagerInterface;
use Symfony\Component\Security\Core\User\UserInterface;

final class AccessDecisionMaker
{
    private AccessDecisionManagerInterface $accessDecisionManager;

    public function __construct(AccessDecisionManagerInterface $accessDecisionManager)
    {
        $this->accessDecisionManager = $accessDecisionManager;
    }

    public function isGranted(UserInterface $user, string $role): bool
    {
        $token = new UsernamePasswordToken($user, 'none', 'none', $user->getRoles());

        return $this->accessDecisionManager->decide($token, [$role]);
    }
} 
```

现在我可以在任何我想使用的地方使用它。

```
<?php

declare(strict_types=1);

namespace App\Service;

use App\Entity\User;
use Symfony\Component\Security\Core\Security;

class myClass
{
    private Security $security;
    private AccessDecisionMaker $decisionMaker;

    public function __construct(Security $security, AccessDecisionMaker $decisionMaker)
    {
        $this->security      = $security;
        $this->decisionMaker = $decisionMaker;
    }

    public function someMethod(?User $user): void
    {
        $user = $user ?: $this->security->getUser();

        if ($this->decisionMaker->isGranted($user, 'ROLE_SOME_ROLE')) {
            // do something
        } else {
            // do something else
        }
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-03T02:38:49.233

这看起来像一个问题：

`abstract class AbstractToken implements TokenInterface`

看构造函数。看起来角色是在实例化时创建的，而不是在运行时查询的。

```
public function __construct(array $roles = array())
{
    $this->authenticated = false;
    $this->attributes = array();

    $this->roles = array();
    foreach ($roles as $role) {
        if (is_string($role)) {
            $role = new Role($role);
        } elseif (!$role instanceof RoleInterface) {
            throw new \InvalidArgumentException(sprintf('$roles must be an array of strings, or RoleInterface instances, but got %s.', gettype($role)));
        }

        $this->roles[] = $role;
    }
} 
```

因此，创建令牌后角色无法更改。我认为选择是写你自己的选民。我还在四处张望。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-11-30T20:18:28.027

创建服务`AccessDecisionMaker` （使用 Shady 的解决方案）

```
<?php
namespace Bp\CommonBundle\Service;

use Symfony\Component\DependencyInjection\Container;
use Symfony\Component\Security\Core\Role\RoleInterface;
use Symfony\Component\Security\Core\User\UserInterface;
use Symfony\Component\Security\Core\Authentication\Token\UsernamePasswordToken;
use Symfony\Component\Security\Core\SecurityContext;

class AccessDecisionMaker
{
    /** @var Container */
    private $container;

    /** @var  SecurityContext */
    private $securityContext;

    function __construct($container)
    {
        $this->container = $container;

        if (!$this->securityContext) {
            // Ensure security context is created only once
            $this->securityContext = new SecurityContext($this->container->get(
                'security.authentication.manager'
            ), $this->container->get('security.access.decision_manager'));
        }
    }

    public function isGranted($roleToCheck, UserInterface $user)
    {
        if (!is_string($roleToCheck)) {
            if (!($roleToCheck instanceof RoleInterface)) {
                throw new \InvalidArgumentException('First argument expects a string or instance of RoleInterface');
            }
            $roleToCheck = $roleToCheck->getRole();
        }

        $token = new UsernamePasswordToken($user, null, $this->container->getParameter(
            'fos_user.firewall_name'
        ), $user->getRoles());
        $this->securityContext->setToken($token);
        if ($this->securityContext->isGranted($roleToCheck)) {
            return true;
        }

        return false;
    }

} 
```

将此配置为服务

```
bp.access_decision_maker:
    class: Bp\CommonBundle\Service\AccessDecisionMaker
    arguments:  [@service_container ] 
```

用它

```
$this->container->get('bp.access_decision_maker')->isGranted("ROLE_ADMIN",$user); 
```

* * *

## 回答 #8

> 赞同：-3
> 
> 时间：2012-07-02T07:01:04.623

您可以通过`security.context`该方法使用该服务`isGranted`。

您可以传递第二个参数，即您的对象（参见[此处](https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Security/Core/SecurityContext.php#L58)）。

在控制器中：

```
$this->get('security.context')->isGranted('ROLE_FOOBAR', $myUser) 
```

# php - PHP PDO 的预处理语句不能防止什么？

> ID：11288295
> 
> 赞同：0
> 
> 时间：2012-07-02T05:44:15.367
> 
> 标签：php, sql, pdo, sql-injection

> **可能的重复：**
> [PDO 准备好的语句有多安全](https://stackoverflow.com/questions/1314521/how-safe-are-pdo-prepared-statements)

PHP PDO 的预处理语句不能防止什么？我一直在阅读 PDO 准备好的带有 bind 的语句对于注入类型的攻击是完全安全的。

这是真的还是程序员（我）必须处理更多的事情（任何类型的攻击，html标签包含等）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T05:47:37.323

用于替换查询参数是安全的，因此是 SQL 运算符的值

但是您应该记住，不适合用它替换表、列或别名。在这种情况下，您必须改用白名单

# c# - ncalc 千位逗号格式无法评估？

> ID：11288304
> 
> 赞同：0
> 
> 时间：2012-07-02T05:45:27.603
> 
> 标签：c#, .net-4.0, ncalc

我目前正在使用 ncalc 库进行多次评估并从中获得结果。

现在我发现了一个问题，如果我有一个格式为“1,234.01”的价格，它将无法评估我的表达式。

我使用的当前解决方法是删除，`,`但我想知道是否有办法评估货币而不必删除`,`例如：

```
decimal price = 0;
if (!decimal.TryParse(iPrice.Text, out price))
{
    MessageBox.Show("Price is not formatted correctly...");
    return;
}

decimal currency = 0;
if (!decimal.TryParse(iCurrency.Text, out currency))
{
    MessageBox.Show("Currency is not formatted correctly...");
    return;
}

string formula = iFormula.Text.Replace("Price", price.ToString("n2")).Replace("Currency", currency.ToString("n2"));
Expression exp = new Expression(formula);
exp.Evaluate(); 
```

评估失败是因为`,`我的价格，如果我删除它，它工作得很好。

公式示例：

```
(((Price+12,9)+((Price+12,9)*0,05)+(((Price+12,9)+((Price+12,9)*0,05))*0,029)+0,45)*Currency) 
```

根据要求进行堆栈跟踪：

```
NCalc.EvaluationException was unhandled
  Message=mismatched input ',' expecting ')' at line 1:4
mismatched input ',' expecting ')' at line 1:20
mismatched input ',' expecting ')' at line 1:43
mismatched input ',' expecting ')' at line 1:59
missing EOF at ')' at line 1:77
  Source=NCalc
  StackTrace:
       at NCalc.Expression.Evaluate() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T06:21:23.687

我仍然不清楚您的问题，但我*怀疑*您可以通过更改替换时使用的格式来解决此问题。改变这个：

```
string formula = iFormula.Text.Replace("Price", price.ToString("n2")) 
                              .Replace("Currency", currency.ToString("n2")); 
```

对此：

```
string formula = iFormula.Text.Replace("Price", price.ToString("f2")) 
                              .Replace("Currency", currency.ToString("f2")); 
```

这将使用“定点”格式而不是“数字”格式。你不会得到分组。请注意，分组不是数字本身的一部分 - 它是您*格式化*数字的一部分。

顺便说一句，我也很想明确指定不变的文化。

顺便说一句：我自己没有使用过 NCalc，但如果它真的迫使您将表达式中的数值指定为*text*，那听起来很糟糕。我期望某种参数化（例如，根据大多数 SQL 提供程序）应该会使所有这些都消失。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T05:53:43.893

不，您的十进制文字中不能有分隔符。编译器会将其与声明多个具有相同类型的变量混淆，例如：

```
decimal price = 1m, tax = 234m; 
```

但是，如果它是一个字符串，您可以像这样解析它：

```
decimal price = Decimal.Parse("1,234.0", CultureInfo.InvariantCulture); 
```

**编辑：我上面的答案是针对问题的第一个版本中的代码示例。现在问题已被编辑：**

您可以使用`Decimal.ToString(string format, IFormatProvider provider)`方法重载来控制十进制值的字符串表示。这允许您指定[标准](http://msdn.microsoft.com/en-us/library/dwhawy9k.aspx)或[自定义](http://msdn.microsoft.com/en-us/library/0c899ak8.aspx)格式字符串。在您的情况下，听起来您需要使用点分隔 2 个十进制数字，并且没有组分隔符（没有逗号）。所以你可以说：

```
price.ToString("F2", CultureInfo.InvariantCulture) // ex. result: "1234.56" 
```

`CultureInfo.InvariantCulture`如果无论当前文化如何都需要点分隔符，这一点很重要。如果您不指定，则输出可能是“1234,56”，具体取决于当前文化（例如，在 de-DE 或 fr-FR 等欧洲文化的情况下）。

# android - 启动完成后，服务中的广播接收器不工作

> ID：11288307
> 
> 赞同：0
> 
> 时间：2012-07-02T05:45:46.527
> 
> 标签：android, service, broadcastreceiver

我正在使用服务在启动完成后收听广播。但是启动完成时广播接收器没有注册。如果我使用广播接收器而不是服务来侦听启动完成它可以工作。当我使用服务注册它时它不会。我究竟做错了什么？代码如下。

```
private BroadcastReceiver sim_change;
public void onCreate() {
    // TODO Auto-generated method stub
    super.onCreate();

    IntentFilter filter = new IntentFilter();
    filter.addAction(action);

    sim_change = new BroadcastReceiver() {

        @Override
        public void onReceive(Context context, Intent intent) {
            // TODO Auto-generated method stub
            Toast.makeText(getApplicationContext(), "Boradcast Receiver registered successfully", Toast.LENGTH_LONG).show();

        }
    };

    registerReceiver(sim_change, filter);

}@Override
public void onDestroy() {
    // TODO Auto-generated method stub
    super.onDestroy();
    unregisterReceiver(sim_change);
    Toast.makeText(getApplicationContext(), "Boradcast Receiver unregistered successfully", Toast.LENGTH_LONG).show();

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T05:57:03.520

您必须`BOOT_COMPLETED`在 Manifest 中注册。从服务注册它是没有意义的，因为服务不会在启动时运行以注册它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-05T08:56:05.230

您无法`BOOT_COMPLETED`从 a中注册，`Service`因为重新启动会删除该注册。

你必须从你的`BroadcastReceiver`.

有很多方法可以处理启用/禁用功能 - 使用建议的`setComponentEnabledSetting()`，或者仅通过在应用程序的共享首选项中存储一个值，您可以在服务启动时检查该值。

# php - 使用 cron 作业时 apache 上的禁止消息

> ID：11288310
> 
> 赞同：0
> 
> 时间：2012-07-02T05:46:01.363
> 
> 标签：php, apache, file, cron, centos

我开发了一个简单的 php 文件，它应该读取 xml 文件，选择其中的一部分并将其回显到 txt 文件中。它应该每分钟完成一次。所以我像这样在 webmin 中做了 cron 工作

```
php /home/liveradio/update_current_show.php
```

由用户 liveradio，但 20 分钟后，当我想访问网站时显示以下消息：

```
禁止的

您无权访问此服务器上的 /。

Apache/2.2.22 (CentOS) 服务器位于 liveradio.ir 端口 80
```

index 文件位于`home/liveradio/liveradio.ir`，我的 php 文件是：

```
for ($i = 0;$i < 19;$i++)
{
$xml = simplexml_load_file("http://live.liveradio.ir:8000/liveradiomp3_48.xspf");
foreach($xml->children() as $child)
    {
        if ($child->getName() == 'trackList')
        {
            foreach($child as $child2)
            {
                if ($child2->getName() == 'track')
                {
                    foreach($child2 as $child3)
                    {
                        if ($child3->getName() == 'title')
                        {
                            $myFile = "liveradio.ir/current.txt";
                            $fh = fopen($myFile, 'w');
                            fwrite($fh, json_encode(array('data',$child3)));
                            fclose($fh);
                        }
                    }
                }
            }
        }
    }
    sleep(3);
} 
```

`/home/liveradio/liveradio.ir`包含`.htaccess`要重写 url 的文件。（wordpress .htaccess 文件）

# django - 独立于应用程序的 django admin 上的新 URL

> ID：11288320
> 
> 赞同：7
> 
> 时间：2012-07-02T05:46:46.370
> 
> 标签：django, django-admin, python-2.7, django-urls, django-1.4

我正在使用 django 1.4 和 Python 2.7。

我只有一个简单的要求，我必须向 django 管理应用程序添加一个新 URL。我知道如何添加自定义应用程序的 URL，但无法弄清楚如何添加管理应用程序的 URL。请指导我完成这个。

基本上完整的 URL 应该类似于`admin/my_url`.

**更新**

我想要一种方法，之后我也可以使用管理员反向映射 URL。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-02T06:34:08.480

+1 为 Jingo 对您最初问题的回答。考虑到您对答案的澄清评论：这样的 URL*不是*“独立于应用程序”，它是应用程序“管理员”的 URL。

通过覆盖 get_urls() 将 URL 添加到管理站点类似于 ModelAdmin： [https ://docs.djangoproject.com/en/dev/ref/contrib/admin/#adding-views-to-admin-sites](https://docs.djangoproject.com/en/dev/ref/contrib/admin/#adding-views-to-admin-sites)

编辑：

[https://docs.djangoproject.com/en/dev/ref/contrib/admin/#django.contrib.admin.AdminSite](https://docs.djangoproject.com/en/dev/ref/contrib/admin/#django.contrib.admin.AdminSite)

是一个管理站点，默认情况下，“该”管理站点被实例化为“django.contrib.admin.site”（然后，例如，您的 ModelAdmin 会针对该站点进行注册）。因此，您可以为自己的 MyAdminSite 子类化 AdminSite 并在那里重新定义 get_urls() ：

```
from django.contrib.admin import AdminSite

class MyAdminSite(AdminSite):
    def get_urls():
        ...

...
my_admin_site = MyAdminSite()
...
my_admin_site.register(MyModel, MyModelAdmin) 
```

请确保您现在在 urls.py 中使用 my_admin_site： [https ://docs.djangoproject.com/en/dev/ref/contrib/admin/#hooking-adminsite-instances-into-your-urlconf](https://docs.djangoproject.com/en/dev/ref/contrib/admin/#hooking-adminsite-instances-into-your-urlconf)

关于get_urls()的实际内容，见 [https://docs.djangoproject.com/en/dev/ref/contrib/admin/#django.contrib.admin.ModelAdmin.get_urls](https://docs.djangoproject.com/en/dev/ref/contrib/admin/#django.contrib.admin.ModelAdmin.get_urls) （当然是调用MyAdminSite的super()） . 还要注意那里提到的方便的“admin_view”包装器。

PS：理论上，您也可以只定义 get_urls() 然后对默认管理站点进行monkeypatch，以便它使用您的 get_urls() 但我不知道这是否真的有效 - 您可能必须在它之后立即进行monkeypatch “第一个”进口...

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-02T06:02:00.927

只需将所需的 url 映射放在根 urls.py 中的管理映射之前。将获取请求的第一个匹配项，因为 django 从上到下进行 url 映射。请记住，您不要使用管理员通常需要或提供的 url，因为这永远不会与它前面的自定义映射匹配。！

# jsoup - 如何防止 JSoup 清洁器篡改内容

> ID：11288324
> 
> 赞同：1
> 
> 时间：2012-07-02T05:47:43.633
> 
> 标签：jsoup

我需要 JSoup 从一些 HTML 字符串中删除脚本，并为此使用此代码段：

```
Document unsafeDoc = Jsoup.parse(unsafeHtml);
Document safeDoc = cleaner.clean(unsafeDoc);
OutputSettings o = safeDoc.outputSettings();
o.escapeMode(EscapeMode.xhtml);
return safeDoc.select("body").html(); 
```

但是它在`<br>`标签之前插入了额外的空格，将“和”转换为`&quot`;`&apos;`等等，这是我不想要的。找不到实现这一目标的方法。希望除了 JSoup 之外的任何其他库的帮助或建议。

谢谢，桑杰

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-16T11:23:27.363

尝试使用：

```
safeDoc.outputSettings().prettyPrint(false); 
```

我有同样的问题，并解决了它。

# visual-studio - VS 快捷方式 - 创建块

> ID：11288326
> 
> 赞同：1
> 
> 时间：2012-07-02T05:47:44.880
> 
> 标签：visual-studio, keyboard-shortcuts

VS2010 或更高版本 - 有没有办法“阻止”一个块，把它放在一个`{}`？

我遇到的任何快捷键引用似乎都没有提到这一点（说实话，我也没有在菜单中找到它），但这似乎是微不足道的。

或者 - 我可以自己创建这样的东西（宏？）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T05:53:40.190

您可以使用[片段](http://msdn.microsoft.com/en-US/library/6hf704tz%28v=vs.110%29.aspx)将代码与 Ifs 或 Trys 一起使用，您可以将它们分配给键。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T05:54:44.593

对于 C#，您可以创建自己的片段，类似于从右键菜单 (Ctrl+K,S) 中选择“环绕”时显示的片段，例如“forr”的“do”。

“do”的片段位置 - ...\Program Files\Microsoft Visual Studio 10.0\VC#\Snippets\1033\Visual C#\do.snippet

您的代码段可能看起来像

```
<Code Language="csharp"><![CDATA[do
{
  $selected$ $end$
}]]>
</Code> 
```

# javascript - URL 中的用户名和密码

> ID：11288330
> 
> 赞同：1
> 
> 时间：2012-07-02T05:48:47.470
> 
> 标签：javascript, xml, http

我正在尝试加载一个要求输入用户名和密码的 XML 文件。

我正在使用的代码如下，我试图在 URL 中发送用户名和密码：

```
xmlhttp.open("POST","http://admin:admin@192.168.0.5/myfile.xml",false); 
```

我的页面的完整代码如下所示：

```
<html>
<body>

<textarea id="test1" name="test1" cols="90" rows="30">
XML file will be displayed here
</textarea><br>

<script type="text/javascript">

if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }

  xmlhttp.onreadystatechange=function()
   {
   if (xmlhttp.readyState==4 && xmlhttp.status==200)
     {
     document.getElementById("test1").value=xmlhttp.responseText;
     } else
     {
     alert('Panel not communicating.Reason: '+xmlhttp.status);
     }
   }

xmlhttp.open("POST","http://admin:admin@192.168.0.5/myfile.xml",false);
xmlhttp.send();

</script>
</body>
</html> 
```

有人知道我在做什么错吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:06:21.483

首先，添加这个函数来创建授权头内容：

```
function make_base_auth(user, password)
{
  var tok = user + ':' + pass;
  var hash = Base64.encode(tok);
  return "Basic " + hash;
} 
```

然后，调用该函数并将返回值存储在一个单独的变量中：

```
var auth = make_basic_auth('admin', 'admin'); 
```

最后，将 的值传递`auth`给`XMLHttpRequest`对象：

```
xmlhttp.setRequestHeader('Authorization', auth);
xmlhttp.send(); 
```

* * *

归属：[http ://coderseye.com/2007/how-to-do-http-basic-auth-in-ajax.html](http://coderseye.com/2007/how-to-do-http-basic-auth-in-ajax.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T05:13:30.097

我最终通过执行以下操作使其工作：

改变：

```
xmlhttp.open("POST","http://admin:admin@192.168.0.5/myfile.xml",false); 
```

到：

```
xmlhttp.open("POST","http://admin:admin@192.168.0.5/myfile.xml",false,"username","password"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T06:00:31.783

有关类似情况，请参阅此问题。[如何在 jQuery 和 AJAX 中使用 Basic Auth？](https://stackoverflow.com/questions/5507234/how-to-use-basic-auth-and-jquery-and-ajax)请注意，一个答案指出 IE 不支持 URL 中的凭据（正如您尝试做的那样）。

# asp.net-mvc-3 - 单击按钮时生成弹出窗口

> ID：11288337
> 
> 赞同：2
> 
> 时间：2012-07-02T05:50:19.333
> 
> 标签：asp.net-mvc-3, razor

单击提交按钮时，我想生成一个显示项目列表的弹出窗口。我试图创建弹出的代码如下：`

索引视图：

```
<script type="text/javascript">
$('#popUp').Hide();
$('#button').click(function () {
    $('#popUp').click();
});
</script>

<div class="left-panel-bar">
@using (Html.BeginForm(FormMethod.Post))
{
        <p>Search For: &nbsp;</p>
        @Html.TextBox("companyName",Model);
        <input id="button" type="submit" value="Submit" />
}
</div>

<div id="popUp">
    @Html.ActionLink("Get Company List", "CreateDialog", "Company", null, new 
    { 
        @class = "openDialog", 
        data_dialog_id = "emailDialog", 
        data_dialog_title = "Get Company List" 
    });
</div> 
```

但我在使用此代码时遇到了麻烦。当我单击提交按钮时，它会打开另一个页面而不是弹出窗口。控制器代码如下：

```
[HttpPost]
public ActionResult Index(Companies c)
{
    Queries q1 = new Queries(c.companyName); 
    if (Request.IsAjaxRequest())
        return PartialView("_CreateDialog", q1);
    else
        return View("CreateDialog", q1);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T05:56:13.893

您可以使用 AJAX：

```
<script type="text/javascript">
    $(function() {
        $('form').submit(function() {
            $.ajax({
                url: this.action,
                type: this.method,
                data: $(this).serialize(),
                success: function(result) {
                    $('#popUp').html(result);
                }
            });
            return false;
        });
    });
</script>

<div class="left-panel-bar">
    @using (Html.BeginForm())
    {
        <p>Search For: &nbsp;</p>
        @Html.TextBox("companyName", Model);
        <input id="button" type="submit" value="Submit" />
    }
</div>

<div id="popUp">
</div> 
```

现在表单已提交，AJAX 请求将被发送到 Index POST 操作，因为您在内部测试请求是否是 AJAX 请求，它将返回`_CreateDialog.cshtml`部分视图并将其插入到`#popUp`div 中。同样重要的是从表单提交处理程序返回 false 以取消默认设置，即使将浏览器重定向到当前页面。

# jquery - 两个不同容器中的相同列表

> ID：11288338
> 
> 赞同：0
> 
> 时间：2012-07-02T05:50:34.273
> 
> 标签：jquery, html

我们可以在两个不同的列中显示一个列表，即两个不同的容器或一个 div 但不同的列？

```
<div>
<ul>
<li>HTML</li>
<li>CSS</li>
</div>
<div>
<li>javascript</li>
<li>jquery</li>
</div> 
```

我希望以上内容显示为：

HTML javascript CSS jquery

此外，第一列中的元素可能会有所不同，如果元素减少，则第二列中的元素必须占据整个空间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T04:02:34.733

不，您不能（编辑：在您建议的 HTML 中将列表从中间剪掉）。您*可以*做的是创建两个单独的列表，但如果您想要的是列表显示为：

```
1\. HTML 2\. javascript 3\. CSS 4\. jquery 
```

我不明白为什么您只是不只是按顺序放置项目并将`li`s 显示为“内联”？

如果实际上您希望列表显示为：

```
1\. HTML 3\. JavaScript
2\. CSS 4\. jQuery 
```

项目的顺序是“1\. HTML, 2\. CSS, 3\. JavaScript, 4\. jQuery”，您需要`column-count: 2`在`ul`. 这会将列表项放在列中，其中前两项位于左列，最后两项位于右列。`column-count`仅适用于现代浏览器，因此对于其余部分您需要使用`float`或`inline-block`使列表显示为：

```
1\. HTML 2\. CSS
3\. JavaScipt 4\. jQuery 
```

# java - 捕获在 HTC 设备上崩溃的图像

> ID：11288344
> 
> 赞同：1
> 
> 时间：2012-07-02T05:51:35.283
> 
> 标签：java, android

嗨，我正在开发一个捕获图像并通过电子邮件发送的应用程序，它捕获图像在三星 Galaxy 和索尼爱立信 xperia 上运行良好，但它不适用于 HTC 设备，有人知道原因吗？这是我捕获图像的代码

```
try {
    String fileName = Image_name+".jpg";
    //create parameters for Intent with filename
    ContentValues values = new ContentValues();
    values.put(MediaStore.Images.Media.TITLE, fileName);
    values.put(MediaStore.Images.Media.DESCRIPTION,"Image capture by camera");
    //imageUri is the current activity attribute, define and save it for later usage (also in onSaveInstanceState)
    outuri = getContentResolver().insert(
    MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);
    Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
    //outuri = Uri.fromFile(photo);
    cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, outuri);
    cameraIntent.putExtra("return-data", true);
    startActivityForResult(cameraIntent, 2);
} catch (Exception e) {
    Toast.makeText(preview.this, ""+e, Toast.LENGTH_LONG).show();
} 
```

这是我用来检索图像的代码

```
path = convertImageUriToFile(outuri, preview.this).getAbsolutePath();
arr.add(path);
try {
    bitmap = getImage(path);
    public static File convertImageUriToFile (Uri imageUri, Activity activity)  {
        Cursor cursor = null;
        try {
            String [] proj={MediaStore.Images.Media.DATA, MediaStore.Images.Media._ID, MediaStore.Images.ImageColumns.ORIENTATION};
            cursor = activity.managedQuery(imageUri, proj, // Which columns to return
                    null,       // WHERE clause; which rows to return (all rows)
                    null,       // WHERE clause selection arguments (none)
                    null); // Order-by clause (ascending by name)
            int file_ColumnIndex = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);
            int orientation_ColumnIndex = cursor.getColumnIndexOrThrow(MediaStore.Images.ImageColumns.ORIENTATION);
            if (cursor.moveToFirst()) {
                String orientation =  cursor.getString(orientation_ColumnIndex);
                return new File(cursor.getString(file_ColumnIndex));
            }
            return null;
        } finally {
            if (cursor != null) {
                cursor.close();
            }
        }
    }

    public Bitmap getImage(String path) throws IOException
    {
        BitmapFactory.Options options = new BitmapFactory.Options();
        options.inJustDecodeBounds = true;
        BitmapFactory.decodeFile(path, options);
        Bitmap targetBitmap=null;
        int srcWidth = options.outWidth;
        int srcHeight = options.outHeight;
        int[] newWH =  new int[2];
        newWH[0] = 1024;
        newWH[1] = (1024*srcHeight)/srcWidth;

        int inSampleSize = 1;
        while(srcWidth / 2 > newWH[0]){
            srcWidth /= 2;
            srcHeight /= 2;
            inSampleSize *= 2;
        }
//      float desiredScale = (float) newWH[0] / srcWidth;
        // Decode with inSampleSize
        options.inJustDecodeBounds = false;
        options.inDither = false;
        options.inSampleSize = inSampleSize;
        options.inScaled = false;
        options.inPreferredConfig = Bitmap.Config.ARGB_8888;
        Bitmap sampledSrcBitmap = BitmapFactory.decodeFile(path,options);
        ExifInterface exif = new ExifInterface(path);
        String s=exif.getAttribute(ExifInterface.TAG_ORIENTATION);
        System.out.println("Orientation>>>>>>>>>>>>>>>>>>>>"+s);
        Matrix matrix = new Matrix();
        float rotation = rotationForImage(preview.this, Uri.fromFile(new File(path)));
        if (rotation != 0f) {
            matrix.preRotate(rotation);
        }
        int newh = ( w * sampledSrcBitmap.getHeight() ) /sampledSrcBitmap.getWidth();
        Bitmap r=Bitmap.createScaledBitmap(sampledSrcBitmap, w, newh, true);
        Bitmap resizedBitmap = Bitmap.createBitmap(
                r, 0, 0, w, newh, matrix, true);

        return resizedBitmap;
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T06:03:37.003

好吧，有一个已知的错误，`Intent.putExtra(MediaStore.EXTRA_OUTPUT)`它会导致应用程序崩溃。

查看我在问同样问题时得到的答案：[https ://stackoverflow.com/a/10613299/1056359](https://stackoverflow.com/a/10613299/1056359)

# jquery - 从后面的代码调用 web 方法

> ID：11288346
> 
> 赞同：-3
> 
> 时间：2012-07-02T05:51:40.210
> 
> 标签：jquery, c#-4.0

我需要`webmethod of a webservice`用 Jquery 调用 a 但我已经在`webservice.asmx`页面上定义了 web 方法。但是现在我需要在我的 default.aspx.cs 页面上编写该页面，当我从 jquery ajax 调用它时这不起作用...

我有

```
 <script type="text/javascript">
    $(document).ready(function () {
        $contentLoadTriggered = false;
        $(window).scroll(
    function () {
        if ($(window).scrollTop() == $(document).height() - $(window).height()) {

            $contentLoadTriggered = true;

            $.ajax(
    {
        type: "POST",
        url: "DynamicDataLoad2.aspx/GetDataFromServer",
        data: "{}",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        async: true,
        cache: false,
        success: function (msg) {
            $("#wrapperDiv").append(msg.d);
            $contentLoadTriggered = false;
        },
        error: function (x, e) {
            alert("The call to the server side failed. ");
        }
    });
        }
    });
    });
</script> 
```

我在 Default.aspx.cs 页面上定义了 GetDataFromServer()。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:19:00.077

```
$.ajax({
 url : "AppUrl/<WebMethod>",
 type : "GET",
 success : function(data){
  }
}); 
```

尝试这个

# django - 无法在夜间更新 Salesforce 对象

> ID：11288348
> 
> 赞同：2
> 
> 时间：2012-07-02T05:51:54.707
> 
> 标签：django, salesforce, celery

我编写了可以在 salesforce 中添加和更新对象的库。我使用[beatbox](https://github.com/superfell/Beatbox/)登录salesforce。我的登录方法：

```
def login(self):
    """
        Login to salesforce and obtain session id
    """
    # login into salesforce.com and get server instance
    self.logged_client = self.client.login(LOGIN, '%s%s' % (PASS, TOKEN))
    (_, instance, _, _, _, _) = urlparse(str(self.logged_client))
    self.instance = instance
    # create header with session id
    self.header = {
        'X-SFDC-Session': self.client.sessionId
    } 
```

我使用 celery 每小时调用一次更新任务。问题是每天晚上 11 点到凌晨 4 点之间，系统都会返回 SoapFaultError: SoapFaultError()。可能是什么问题呢？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-02T05:59:46.880

在我看来，您正在使用的用户帐户的个人资料有限制登录时间......如果您是组织管理员，请查看您正在使用的用户的个人资料的登录时间部分（点击路径：设置-> 管理用户 -> 个人资料 -> [个人资料]）。

如果您不是管理员，请与他们联系并要求他们代表您进行检查。

# ruby - 无法获取 ruby 1.9.3 来安装获取请求的 URL 不存在

> ID：11288349
> 
> 赞同：5
> 
> 时间：2012-07-02T05:51:58.000
> 
> 标签：ruby, rvm

运行以下命令时：

```
rvm install 1.9.3 
```

我得到以下输出：

> 错误：请求的 URL 不存在：ftp.ruby-lang.org/pub/ruby/1.9/ruby-1.9.3-.tar.bz2

我已将 rvm 更新为最新并输入`rvm reload`

有任何想法吗？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-07-02T06:02:27.357

URL 应该类似于：ftp.ruby-lang.org/pub/ruby/1.9/ruby-1.9.3- **p194** .tar.bz2

尝试通过以下方式更新您的 rvm

```
rvm get head 
```

然后通过安装 1.9.3

```
rvm install 1.9.3 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-02T06:13:29.083

您应该能够通过明确说明所需的补丁级别来安装：`rvm install 1.9.3-p194`

# dependencies - 如何从maven依赖项中自动提取内容？

> ID：11288357
> 
> 赞同：0
> 
> 时间：2012-07-02T05:53:25.907
> 
> 标签：dependencies, maven-plugin

我想创建一个基于 maven 的工具，当我向 pom.xml 添加依赖项时，我想自动从下载的 jar 文件中提取一些文件并将它们复制到另一个文件夹。是否可以扩展 Maven 依赖插件？任何建议表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:21:21.220

[您可以使用Maven 依赖插件](http://maven.apache.org/plugins/maven-dependency-plugin/)和下面添加的简单示例创建包含所有依赖项的文件夹

```
 <plugin>
           <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-dependency-plugin</artifactId>
                <version>2.4</version>
                <executions>
                    <execution>
                        <id>copy-dependencies</id>
                        <phase>package</phase>
                        <goals>
                            <goal>copy-dependencies</goal>
                        </goals>
                        <configuration>
                            <!-- configure the plugin here -->
                        </configuration>
                    </execution>
                </executions>
            </plugin> 
```

您可以使用以下插件将 jar 文件复制到所需文件夹

[http://evgeny-goldin.com/wiki/Copy-maven-plugin](http://evgeny-goldin.com/wiki/Copy-maven-plugin)

这是一个简单的示例，可用于将文件从目标中的依赖文件夹复制到另一个文件夹

```
 <plugin>
            <!-- download from here
             http://evgeny-goldin.org/artifactory/repo/com/goldin/plugins/maven-copy-plugin/0.2.3.8-beta-9/
             -->
            <groupId>com.goldin.plugins</groupId>
            <artifactId>maven-copy-plugin</artifactId>
            <version>0.2.3.8-beta-9</version>
            <executions>
                <execution>
                    <id>create-archive</id>
                    <phase>install</phase>
                    <goals>
                        <goal>copy</goal>
                    </goals>
                    <configuration>
                        <resources>
                            <!-- ~~~~~~~~~~~~~~ -->
                            <!-- Copy resources -->
                            <!-- ~~~~~~~~~~~~~~ -->
                            <resource>
                                <targetPath>c:/YOUR_NEW_FOLDER/</targetPath>
                                <directory>${project.basedir}/target/dependency/</directory>
                                <includes>
                                    <include>*.jar</include>
                                </includes>
                            </resource>
                        </resources>
                    </configuration>

                </execution>

            </executions>
        </plugin> 
```

# c++ - 当类对象完成时，为 C++ 类的数据成员动态分配的内存是否会释放？

> ID：11288358
> 
> 赞同：2
> 
> 时间：2012-07-02T05:53:28.230
> 
> 标签：c++, memory, dynamic, free, allocation

我有这个 C++ 类：

```
class test{

    char* p;
    SomeClass* someObject;

   test(){
      ...
      p = (char*) malloc(1000);
      someObject = new SomeClass();
      ...
   }

   ~test(){}

} 
```

我是否需要在测试析构函数中调用`free(p)`或`delete someObject`显式调用以释放其分配的内存或该内存会自动释放？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-02T05:54:55.823

您需要释放析构函数中所有动态分配的内存。这不会自动完成。

您的类包含两个指针，并且基本上无法控制这些指向的内容。事实上，这些可能指向您不允许删除的对象，例如：

```
struct Foo {};
struct Bar {
  Foo* f_;
  Foo(Foo* f) : f(f_) {}
};

int main() {
  Foo f;
  Bas b(&f); // b has a Foo ptr, but should it delete it?
} 
```

所以你可以看到自动删除指针数据成员并没有什么意义。

作为一般规则，如果您的班级管理资源¹，那么您应该注意副本构建和分配；这意味着，如果这对类有意义，您应该禁用它们，或者为它们提供实现，因为编译器生成的那些不起作用。有关此主题的详细讨论，请参阅[三的规则](http://en.wikipedia.org/wiki/Rule_of_three_%28C%2B%2B_programming%29)，以及有关 stackoverflow 的广泛讨论：

*   [什么是三法则？](https://stackoverflow.com/questions/4172722/what-is-the-rule-of-three)
*   [C++11 的三规则变成五规则？](https://stackoverflow.com/questions/4782757/rule-of-three-becomes-rule-of-five-with-c11)

如果您不遵循此规则，那么默认的复制构造函数和赋值操作将进行浅拷贝，并且您将拥有多个实例具有指向相同动态分配对象的指针，它们都会在销毁时尝试删除。

您可以避免手动删除`new`使用[智能指针](http://en.wikipedia.org/wiki/Smart_pointer)创建的对象。在您的情况下，该类显然拥有动态分配的对象，您应该查看 C++11 的[std::unique_ptr](http://en.cppreference.com/w/cpp/memory/unique_ptr)或[boost::scoped_ptr](http://www.boost.org/doc/libs/1_50_0/libs/smart_ptr/scoped_ptr.htm)

最后，除非您真的需要，否则您可以通过完全避免指针来真正避免所有内存管理问题。您可以将您`char*`的替换`std::string`为例如：

```
class test{

    std::string p;
    SomeClass someObject;
    //test() : someObject() {} // default construction is probably OK...
}; 
```

^(1.即分配和释放内存，或者打开和关闭网络连接，或者创建和销毁互斥体等等。)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-02T06:07:06.093

是的，你必须拥有`free`任何你`malloc`和`delete`你的一切`new`。

您也可以通过不在类中存储指针来避免这种情况。

```
class test{
public:
    std::string   p;
    SomeClass     someObject;
}; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-02T05:57:17.397

是的，你需要。如果你不想要，你可以使用[智能指针](http://en.wikipedia.org/wiki/Smart_pointer)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-02T06:07:38.833

`test`如果在实例被破坏时不回收内存，则内存在技术上会泄漏。您可以改用智能指针来避免在析构函数中调用`free`或显式调用。`delete`

```
struct Free { void operator () (void *p) const { free(p); } };

class test {
    std::unique_ptr<char, Free> p;
    std::unique_ptr<SomeClass> someObject;
    test () : p(static_cast<char *>(malloc(1000)),
              someObject(new SomeClass)
    { //...
    }
    ~test () {}
}; 
```

这使用智能指针的析构函数为您执行清理操作。

如果`test`仅用作`const`全局实例，那么实现清理就不太重要了，因为在执行结束之前不会回收内存。但始终实施清理是一种很好的做法，因为它会使代码现在正确，并且`test`将来可能会以不同的方式使用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-02T05:55:51.487

是的，您需要明确地释放它们。指针作为数据类型没有任何析构函数。编译器/执行环境无法猜测指针是否指向任何有意义的东西。即使该值是有意义的，它也可能指向某个静态对象，例如。或者它可以指向更大对象的某个领域。编译器不会对指针进行任何自动清理。

# c# - 如何获得日期的差异

> ID：11288361
> 
> 赞同：0
> 
> 时间：2012-07-02T05:53:40.180
> 
> 标签：c#, ajax

我正在制作一个网页，因为我使用 Ajax 日历来选择两个日期，例如`TO`日期和`From`日期，而且我也有一个`Textbox`总天数。

因此，当用户选择日期时`to`，`from`这些日期的差异会显示在文本框中。那么我怎样才能找到这些日期的差异..？

我将格式设置为`dd/MM/yyyy`.

例如

```
one textbox has: 20/04/2012  
second has     : 02/05/2012 
```

那么，请找出这些区别？

在此先感谢....
Mitesh

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-02T05:56:49.633

减法运算符 (-) 适用于 DateTime

```
DateTime to_datetime = DateTime.ParseExact(to_textbox.Text, "dd/MM/yyyy", 
                                           CultureInfo.InvariantCulture);
DateTime from_datetime = DateTime.ParseExact(from_textbox.Text, "dd/MM/yyyy", 
                                             CultureInfo.InvariantCulture);

Timespan result  = to_datetime - from_datetime; 
```

您可以将其用作

```
textBox1.Text = (to_datetime - from_datetime).TotalDays.ToString(); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-02T05:55:22.737

使用以下命令将您的文本框值转换为日期：

```
DateTime dt1 = DateTime.ParseExact(textbox1.Text, "d/M/yyyy", CultureInfo.InvariantCulture);
DateTime dt2 = DateTime.ParseExact(textbox2.Text, "d/M/yyyy", CultureInfo.InvariantCulture); 
```

使用[时间跨度](http://msdn.microsoft.com/en-us/library/system.timespan.aspx)

```
 TimeSpan ts = dt1.Subtract(dt2);
    Console.Write(ts.TotalDays);
    textBox3.Text = ts.TotalDays; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-02T06:00:06.603

假设 C# 代码：DateTime 支持“-”导致 TimeSpan 对象。

```
DateTime nowTime = DateTime.Now;
DateTime yesterday = nowTime.AddDay(-1);
TimeSpan diff = nowTime - yesterday; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-02T06:16:10.323

```
DateTime date1 =DateTime.ParseExact("20/04/2012","d/M/yyyy",null);
 DateTime date2 = DateTime.ParseExact("02/05/2012", "d/M/yyyy", null); 
 TimeSpan datediff = date2 - date1;
 Response.Write(datediff.ToString()); 
```

# autocomplete - 使用 javascript XPCOM 组件在 FireFox 附加组件中创建自定义自动完成框

> ID：11288366
> 
> 赞同：0
> 
> 时间：2012-07-02T05:54:38.497
> 
> 标签：autocomplete, firefox-addon, custom-component, xpcom

我花了几天时间阅读各种[教程](https://developer.mozilla.org/en/How_to_Build_an_XPCOM_Component_in_Javascript/)、[MDN 条目](https://developer.mozilla.org/en/XUL_Tutorial/XPCOM_Interfaces)和[SO 帖子](https://stackoverflow.com/questions/10928864/cant-create-javascript-xpcom-service-for-firefox-extension)，我开始怀疑我遗漏了一些明显的东西，但我对 XPCOM 太缺乏经验，无法发现它。我大约 80% 确定我的自定义组件（components/fooLogin.js）中的某个地方存在错误。

**问题：**当加载项初始化时（当我从 chrome/content/foologin.js 调用 loadData() 时），我收到一条错误消息：

> TypeError: Components.classes['@foo.com/foologinautocomplete;1'] 未定义

我是否可能在注册类之前尝试创建组件？我还需要做些什么来注册它吗？任何提示将不胜感激。

**相关代码：（**如果需要，很乐意提供任何其他代码）

组件/fooLogin.js：

```
Components.utils.import("resource://gre/modules/XPCOMUtils.jsm");
function fooLoginAutoComplete(){
        this.wrappedJSObject = this;
}
fooLoginAutoComplete.prototype = {
        classID: Components.ID("loginac@foo.com"),
        contractID: "@foo.com/foologinautocomplete;1",
        classDescription: "Auto complete for foo",
        QueryInterface: XPCOMUtils.generateQI([]),
        complete: function(str){  // Autocomplete functionality will in this function
                return null;
        }
};
var NSGetFactory = XPCOMUtils.generateNSGetFactory([fooLoginAutoComplete]); 
```

铬/内容/foologin.js：

```
let fooLogin = {
    dataLoaded : false,
    searchFilter = null,
    ...
    loadData : function(){
        ...
        try{
            alert(1);  // This alert fires
            this.searchFilter = Components.classes['@foo.com/foologinautocomplete;1']
                .getService().wrappedJSObject;
            alert(2);  // I get the error before this alert
        }catch(e){alert(e);}
        this.dataLoaded = true;
    }
}
window.addEventListener("load", function(){
    if(!fooLogin.dataLoaded) fooLogin.loadData();
} 
```

chrome.manifest：

```
content foologin         chrome/content/
content foologin         chrome/content/ contentaccessible=yes
skin    foologin classic chrome/skin/
locale  foologin en-US   chrome/locale/en-US/

component loginac@foo.com                 components/fooLogin.js
contract  @foo.com/foologinautocomplete;1 loginac@foo.com

overlay chrome://browser/content/browser.xul chrome://foologin/content/foologin.xul 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T16:02:49.470

在你的 chrome.manifest 中，你有这个：

> 组件 loginac@foo.com components/fooLogin.js contract @foo.com/foologinautocomplete;1 loginac@foo.com

在 fooLogin.js 你有：

> classID: Components.ID("loginac@foo.com"),

loginac@foo.com 不是组件的有效类 ID。

它们必须是以下形式：

{00000000-0000-0000-0000-000000000000}

只有附加组件可以具有 foo@bar.com 格式。

# javascript - 如何使用json？

> ID：11288370
> 
> 赞同：0
> 
> 时间：2012-07-02T05:54:53.153
> 
> 标签：javascript, html, json

我已经使用html表单中的href调用了一个api，它作为响应将json作为输出。将其视为 api 提供的 json

```
{
"entry":
{
"id": "1",
"name": "SA"
}
} 
```

我想要 id 和 name 的值。我如何才能专门获取值并将这些值存储到变量中。我也必须使用 javascript 在 html 表单中执行此操作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T05:59:03.363

> 我想要 city_id 和 city_name 的值。我如何才能专门获取值并将这些值存储到变量中

用于`JSON.parse`将其转换为 JS 对象并获取您的值：

```
var obj = JSON.parse(yourJSON);
var city_id = obj['entry']['city_id'];
var city_name = obj['entry']['city_name']; 
```

**文件：**

*   [https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/JSON/parse](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/JSON/parse)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T06:08:12.173

eval() 函数或 JSON 解析器都将允许您从 JSON 创建一个对象，然后正常访问这些字段。JSON 解析器更安全一些，如本教程中所述：

[http://www.w3schools.com/json/json_eval.asp](http://www.w3schools.com/json/json_eval.asp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T05:59:02.520

```
var a;
eval('a={"entry":{"@collection_url":"http://api.storageroomapp.com/accounts/4fe004c598f46026cc000002/collections/4fe0063798f4602e2c000016","@created_at": "2012-06-21T09:12:40Z","@trash": false,"@type": "City","@updated_at": "2012-06-21T09:12:40Z","@url":"http://api.storageroomapp.com/accounts/4fe004c598f46026cc000002/collections/4fe0063798f460e2c000016/entries/4fe2e58898f4604757000006","@version": 1,"city_id": "City_001","city_name": "London"}}'); 
```

* * *

换句话说

```
eval ('a={/*response object*/}') 
```

现在您拥有 (a) 作为包含您的数据的对象，您可以访问它们，无论是对象表示法 (a.entry) 还是数组 (a['entry'])，您也可以使用 json 解析，但它与所有浏览器不兼容

# google-drive-api - Google Documents List API 会被弃用吗？

> ID：11288376
> 
> 赞同：2
> 
> 时间：2012-07-02T05:55:33.893
> 
> 标签：google-drive-api

是否有计划在不久的将来弃用[Google Documents List API ？](https://developers.google.com/google-apps/documents-list/)

我在我的实用程序中使用它来将文件备份到 Google Drive。为了长期支持，我改用[Google Drive SDK是否有意义？](https://developers.google.com/drive/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:29:19.837

绝对转移到 Drive SDK。它几乎取代了 Documents List API 的所有功能，并添加了一些功能，同时使用起来更加方便。

# java - 如何获取 ui:param 的 ui:include 包装在 JSF ManagedBean 中的 c:forEach 中？

> ID：11288377
> 
> 赞同：0
> 
> 时间：2012-07-02T05:55:38.773
> 
> 标签：java, jsf, facelets

> **可能重复：**
> [如何将参数传递给 ui：在 c:forEach 标记中包含该参数](https://stackoverflow.com/questions/7526332/how-to-pass-parameters-to-uiinclude-that-inside-of-cforeach-tag)

这个（[如何将托管 Bean 字段设置为 ui:param 的值？](https://stackoverflow.com/questions/10982987/how-do-i-set-managed-bean-field-to-the-value-of-a-uiparam)）运行良好。如果我在 JST c:forEach 的帮助下循环 ui:include，则 Facelet 属性 (ui:param) 总是解析为 null。

```
<c:forEach items="#{myList} var="myItem">
    <ui:include src="#{myItem.myPage}">
        <ui:param name="myVar" value="#{myItem.myData}"/>
    </ui:include>   
</c:forEach> 
```

我正在尝试在 JSF Managed Bean 中解析 Facelet 属性（它专门用于一个 ui:include 每个 JSF 视图）

```
FacesContext facesCtx = FacesContext.getCurrentInstance();
FaceletContext faceletCtx = (FaceletContext) facesCtx.getAttributes().get(FaceletContext.FACELET_CONTEXT_KEY);
Object myVar = faceletCtx.getAttribute("myVar"); 
```

只要我不循环 (no c:forEach) 这种方法效果很好。但是在引入 c:forEach 之后 myVar 始终为空。

**JSTL c:forEach 在 facelet 属性（名称）上的变化是什么？我怎样才能在我的 Backing Bean 中访问它们？**

不幸的是 FaceletContext 没有公开任何方法来列出所有 facelet 属性，所以我可能会自己“找到”它们......：S

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:13:09.503

事情是`c:forEach`不能与 JSF 一起使用。这就是为什么我们拥有`<ui:repeat>`基本相同但它是 JSF 组件树的一部分的原因。进一步的解释例如[here](https://rogerkeays.com/jsf-c-foreach-vs-ui-repeat)

# java - arm eabi v7a 系统映像未找到 android

> ID：11288378
> 
> 赞同：1
> 
> 时间：2012-07-02T05:55:50.113
> 
> 标签：java, android, android-emulator

我必须使用 Cordova API(PhoneGap) 开发一个简单的 Android 应用程序，它需要 Android 4.0.3 或更高版本（API 级别 15 或更高版本）才能在模拟器上正确构建应用程序。

但是，当我为编码的应用程序构建时，我碰巧看到我收到以下错误消息，

```
[2012-07-02 13:10:29 - SDK Manager] Unable to find a 'userdata.img' file for ABI armeabi to copy into the AVD folder. 
```

在谷歌上搜索这个问题时，我知道我需要将它安装`arm-eabi v7a system image`到我的机器上才能顺利运行。

但问题是，与 API 14 不同，这在 API 15 中没有出现！

下图显示相同： ![arm-eabi-v7a-系统映像](../Images/29b9161b3c76637347b0a0486c90ffad.png)

现在，谁能解释我如何解决这个问题，好吗？这对于查看和重新安装 Manager/SDK/API Levels 来说是非常特殊的，一次又一次没有用。

参考：[Android SDK 管理器未显示 ARM EABI v7a 系统映像选项](https://stackoverflow.com/questions/8739090/android-sdk-manager-is-not-showing-arm-eabi-v7a-system-image-option)

非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T08:35:10.233

理想情况下，情况不应如此。

例如，可以在 SDK 管理器窗口中看到 ARM EABI v7a 系统映像（API 级别 15）。

你可以尝试几件事：

*   重新安装 SDK。
*   或者，删除 ANDROID_SDK_INSTALL_FOLDER\system-images\android-15 文件夹，然后重新安装 SDK 并尝试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-15T20:12:00.757

我所做的是：

在 Android SDK Manager 中，我安装了以下选项：

*   平台 SDK
*   ARM EABI V7A 系统映像

要使 API 正常工作，您需要执行以下步骤：

1.  关闭日食

2.  转到文件夹：`..\sdk\system-images`

3.  打开您使用的系统映像的文件夹。我可以在一个名为*“default”*的文件夹中，在*“armeabi-v7a”*中只需要剪切和移动*“armeabi-v7a”*到*“default”*然后*“delete”*默认的位置。

4.  打开日食

# sql - SQL 条件连接？

> ID：11288384
> 
> 赞同：3
> 
> 时间：2012-07-02T05:56:23.387
> 
> 标签：sql, join

我有一个名为`LOGS`以下列的表：

```
id - user - object - ref - field - from - to - join - ts 
```

存储我正在编写的 PHP 应用程序的日志记录。但是，当我将所有数据返回到 PHP 以进行“条件”连接时，是否可以在 SQL 查询中进行？例如，该`join`列可能包含“人员”，表示该`field`列需要与表关联`people`。

这可能吗？还是我必须在 PHP 端这样做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-02T06:01:00.683

一个左连接应该在这里做的伎俩

```
select * 
from
    LOGS l
left join 
    PEOPLE p on p.peopleid = l.field and l.join = 'people' 
```

我不确定我是否在 LOGS 和 PEOPLE 之间使用了正确的关系字段，但是通过*在日志类型为 people 的位置包含 join*子句，您可以看到有条件地返回 PEOPLE 条目。

当您想有条件地从不同的表中返回时，事情会变得更加复杂，因为您需要确保*实体*表带来的额外字段相​​同（或至少被标识为相同）。在这种情况下，您被迫 UNION 结果。

```
select 
    l.*,
    p.peopleid as entityid, 
    p.fullname as displayname
from
    LOGS l
left join 
    PEOPLE p on p.peopleid = l.field and l.join = 'people'

union all

select 
    l.*,
    a.accountid as entityid, 
    p.accountname as displayname
from
    LOGS l
left join 
    ACCOUNT a on a.accountid = l.field and l.join = 'account' 
```

或者也许这个

```
select 
    l.*,
    entity.entityid as entityid, 
    entity.displayname as displayname
from
    LOGS l
left join 
(
    select 'people' as type, p.peopleid as entityid, p.fullname as displayname
    from PEOPLE

    union all

    select 'account', a.accountid, p.accountname
    from ACCOUNT
) entity on entity.type = l.join and entity.entityid = l.field 
```

但我可以想象像这样组合许多实体表来返回日志可能会导致查询速度非常慢。

# sql - 使用 MAX() 更新 TSQL

> ID：11288385
> 
> 赞同：3
> 
> 时间：2012-07-02T05:56:46.927
> 
> 标签：sql, sql-server-2008, tsql

我正在尝试将列更新为最大值，但仅在按适当的标识符分组时。

[SQL Fiddle](http://sqlfiddle.com/#!3/231ac/26)用于我试图用试用和失败的代码做的事情:(。

[SQL Fiddle](http://sqlfiddle.com/#!3/cd359/1)我希望它在更新后看起来像什么。

您可以借给我的任何帮助将不胜感激。据我了解 max() 只占用列的最大数量，那么如何在更新语句中进行排序而不破坏它呢？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-02T06:02:46.493

当您总是可以在运行时计算它时，为什么要将这些冗余数据存储在单独的列中？您知道，每当更新表中的任何单行时，您都必须使用触发器或其他机制保持最新，对吧？

```
UPDATE h 
  SET LAST_REVISION = s.lr
  FROM dbo.PO_HEADER AS h
  INNER JOIN 
  (
    SELECT PO_NUMBER, lr = MAX(REVISION_NUMBER)
    FROM dbo.PO_HEADER
    GROUP BY PO_NUMBER
  ) AS s
  ON h.PO_NUMBER = s.PO_NUMBER; 
```

# c# - WCF 中的消息无法处理异常

> ID：11288389
> 
> 赞同：3
> 
> 时间：2012-07-02T05:56:56.607
> 
> 标签：c#, .net, wcf, service

您好我正在尝试在我的 Windows 应用程序中调用 WCF 服务

我将服务引用添加到我的项目中，但在执行时出现以下错误：

> 这很可能是因为“http://tempuri.org/IUser/SaveUser”操作不正确，或者因为消息包含无效或过期的安全上下文令牌，或者因为绑定之间存在不匹配。如果服务由于不活动而中止通道，则安全上下文令牌将无效。为了防止服务过早中止空闲会话，请增加服务端点绑定的接收超时。

我尝试增加服务端点绑定的接收超时。但也有同样的例外。

这里是`config file on client`

```
<configuration>
    <system.serviceModel>
        <bindings>
            <wsHttpBinding>
                <binding name="WSHttpBinding_IUser" closeTimeout="00:01:00" openTimeout="00:01:00"
                    receiveTimeout="00:30:00" sendTimeout="00:01:00" bypassProxyOnLocal="false"
                    transactionFlow="false" hostNameComparisonMode="StrongWildcard"
                    maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
                    messageEncoding="Text" textEncoding="utf-8" useDefaultWebProxy="true"
                    allowCookies="false">
                    <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
                        maxBytesPerRead="4096" maxNameTableCharCount="16384" />
                    <reliableSession ordered="true" inactivityTimeout="00:45:00"
                        enabled="false" />
                  <security mode="None">
                    <transport clientCredentialType="None" />
                  </security>

                </binding>
            </wsHttpBinding>
        </bindings>
        <client>
            <endpoint address="http://t2.ipixsolutions.net/Service.svc" binding="wsHttpBinding"
                bindingConfiguration="WSHttpBinding_IUser" contract="ServiceReference1.IUser"
                name="WSHttpBinding_IUser">
                <identity>
                    <dns value="localhost" />
                </identity>
            </endpoint>
        </client>
    </system.serviceModel>
</configuration> 
```

在服务器上配置

```
<system.serviceModel>
        <services>
      <service behaviorConfiguration="ServiceBehavior" name="WCFLibrary.Users">
                <endpoint address="" binding="wsHttpBinding" contract="WCFLibrary.IUser">
          <identity>
                        <dns value="localhost"/>
                    </identity>
                </endpoint>
                <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange"/>
            </service>
        </services>
        <behaviors>
            <serviceBehaviors>
                <behavior name="ServiceBehavior">
                    <!-- To avoid disclosing metadata information, set the value below to false and remove the metadata endpoint above before deployment -->
                    <serviceMetadata httpGetEnabled="true"/>
                    <!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information -->
                    <serviceDebug includeExceptionDetailInFaults="false"/>
                </behavior>
            </serviceBehaviors>
        </behaviors>
    </system.serviceModel> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-28T19:26:06.217

嘿，我得到了同样的例外，在我的情况下，这是因为这个设置：

```
<security mode="None"> 
```

如果我将其更改为：

```
<security mode="Message"> 
```

它工作正常。我想它必须从默认值中获取，因为我没有在服务器端设置它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T01:05:31.200

我遇到了同样的问题并使用以下内容修改了安全元素

```
 <security mode="Message">
                    <transport clientCredentialType="Ntlm" proxyCredentialType="Ntlm"
                        realm=""  />
                    <message clientCredentialType="Windows" algorithmSuite="Default" />
                </security> 
```

1.  我将安全模式从“无”修改为“消息”。
2.  我将传输的 ClientCredentialType 从 "None" 修改为 "Ntlm" = clientCredentialType="Ntlm"
3.  我将传输的 proxyCredentialType 从“None”修改为“Ntlm”= proxyCredentialType =“Ntlm”

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-14T12:06:56.473

也许这会对某人有所帮助。我在客户的 PC 上弹出了同样的错误。该应用程序在 10 次中有 9 次无法登录到我们的服务器。这适用于曾经完美运行的 WCF 客户端。罪魁祸首原来是一个广告软件应用程序，他一定是不小心安装了另一个软件。它将添加添加到 http 流中，这会破坏我们的通信。有问题的广告软件是 RocketTab ( [http://malwaretips.com/blogs/rockettab-virus-removal/](http://malwaretips.com/blogs/rockettab-virus-removal/) )。

我们发现它的方法是注意到如果我们在他的 PC 上使用不同的 Windows 用户，问题就不会发生。然后，我们使用任务管理器关闭了他 PC 上看起来并不重要的进程，并发现当我们关闭 client.exe 进程时，我们的应用程序开始工作。这导致我们使用 RocketTab（他们的可执行文件是 client.exe）。

# android - 同时 GridView 按钮事件/确定已触摸哪个按钮

> ID：11288393
> 
> 赞同：0
> 
> 时间：2012-07-02T05:57:16.173
> 
> 标签：android, gridview, touch-event, ontouchlistener

我很难弄清楚这一点。我有 8 个按钮的网格视图。目前我正在使用 onItemClickListener 来触发按钮操作，但这给我带来了两个问题。

1) 按钮动作发生在按钮未按下后。

2）两个按钮不能同时按下，必须松开第一个按钮。

据我所知，onTouchListener 应该可以解决我的第一个问题，尽管我不确定如何确定按下了哪个按钮。我的 onItemClickListener 代码如下

```
gridview.setOnItemClickListener(new OnItemClickListener() {
        public void onItemClick(AdapterView<?> parent, View v, int position, long id) {

        Toast.makeText(Activity.this, "" + position, Toast.LENGTH_SHORT).show();

  }
        }); 
```

现在有了以上内容，我确切地知道按下了哪个按钮。我相信实现为 onTouchListener 的代码如下

```
 gridview.setOnTouchListener(new OnTouchListener() {

        public boolean onTouch(View v, MotionEvent event) {
            return false;
        }
    }) { 
```

我应该如何确定使用 MotionEvent 按下了哪个按钮？在我通过“职位”之前，这让这件事变得相当容易。我还需要考虑是否同时按下了两个或多个按钮/没有放开另一个按钮。

有谁知道如何实现这一目标？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-02-03T22:29:46.653

最近遇到了这个问题并在寻求帮助时遇到了这篇文章，我想从我所做的事情中添加两件似乎有效的事情：

1）我将 onTouchListener 添加到适配器中的对象而不是活动或网格视图。

2) 在 OnTouchListener 中，我查找了 MotionEvent.ACTION_DOWN（第一次手指触摸）和 MotionEvent.ACTION_POINTER_DOWN（随后的手指触摸），这样我就可以获得多点触摸并立即处理它们，而无需等待用户抬起手指。

请注意，我将其命名为 ImageAdapter，即使我已经为每个都添加了一个 TextView，因为这样我可以将 TextView 背景用于图像，但将不可见的文本添加到 TextView 以便它与 Talkback 一起使用）：

```
public class ImageAdapter extends BaseAdapter {
    private Context mContext;

    public ImageAdapter(Context c) {
        mContext = c;
    }

    public int getCount() {
        return numCols * numRows;
    }

    public Object getItem(int position) {
        return this;
    }

    public long getItemId(int position) {
        return position;
    }

    // create a new TextView for each item referenced by the Adapter
    public View getView(int position, View convertView, ViewGroup parent) {
        TextView textView;

        if (convertView == null) {  // if it's not recycled, initialize some attributes
            textView = new TextView(mContext);

        } else {
            textView = (TextView) convertView;
        }

        // place any other initial setup needed for the TextView here

        // here's our onTouchListener
        textView.setOnTouchListener(new View.OnTouchListener() {
            public boolean onTouch(View v, MotionEvent event) {
                boolean returnValue;
                int thePosition = v.getId();

                // MotionEvent.ACTION_DOWN gets the first touch
                // MotionEvent.ACTION_POINTER_DOWN gets any subsequent touches (if you place a second finger on the screen)
                // Between these I can get touches as soon as they happen, including multitouch support, without needing to wait until the user lifts their finger.

                if ((event.getAction() == MotionEvent.ACTION_DOWN) || (event.getAction() == MotionEvent.ACTION_POINTER_DOWN)) {
                    TextView textView;
                    if (v == null) {  // if it's not recycled, initialize some attributes
                        textView = new TextView(mContext);

                    } else {
                        textView = (TextView) v;
                    }

                    // Do any processing based on the touch - I call a function and pass the position (number of cell, 1..n) and textview so can make changes to it as needed
                    ScreenTapped(thePosition, textView);
                    // I used a returnValue
                    returnValue = true;
                } else returnValue = false;

                return returnValue;

        });
        return textView;

    } // getView
} //imageadapter 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-28T10:51:10.380

使用 gridView 时的理念是：

*   网格视图实现了 onTouchLister
*   当触摸发生时 onTouchLister 为所有 ACTION_MOVE 事件收集坐标（很多:)）
*   当触摸事件为MOVE_UP时，计算坐标下的真实位置并返回网格中的item

所以解决方案是：

在您有**findViewById(some_grid_view)的活动中**

```
//Register handler for the onTouch event of gridView in your activity
gridView.setOnTouchListener(new MyActivityOnTouchListener(this)); 
```

*注意*：我的 onTouch 监听器是在另一个类 (MyActivityOnTouchListener) 中实现的，而不是在活动内部

...然后在 MyActivityOnTouchListener 类中实现**onTouch**方法：

```
public class CalendarActivityOnTouchListener implements View.OnTouchListener {
    private MyActivity myActivityContext; 
    private GridView mGridView;
    private HashSet<Point> movementCoordinates = new HashSet<Point>;

    //Constructor
    public MyActivityOnTouchListener (MyActivity context){
        this.myActivityContext= context;
        mGridView= myActivityContext.getGridView();  //assign touched gridView into a local variable
    }

    @Override
    public boolean onTouch(View v, MotionEvent event) {

    /*
     *   NOTE: 
     *    ACTION_MOVE fires events until you release it
     *    ACTION_UP once you release it fires it   
     */

    //while touching the grid a bunch of ACTION_MOVE events are dispatched
    if (event.getAction() == MotionEvent.ACTION_MOVE) {
       //gather all coordinates touched (in a set to avoid duplicates)
       movementCoordinates.add(new Point((int)event.getX(), (int)event.getY()));
       return true;
    }

    //Finally the finger is lifted   
    if (event.getAction() == MotionEvent.ACTION_UP) {

         //convert all movementCoordinates gathered in the previous block into real grid positions
        int position;
        for(Point p : movementCoordinates){
            Log.d("Luka", p.x +" / "+p.y);
            position = calendarGridView.pointToPosition(p.x, p.y);

            //...Do whatever with the position
        }
    }
  } 
```

}

请注意*pointToPosition()*方法，因为在某些情况下它可以返回 -1 而不是坐标后面的位置。例如，如果网格中的项目之间有边距，则这些坐标无法返回位置，因此 -1

希望能帮助到你...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-10T21:59:37.917

我实际上是想弄清楚同样的事情。我已经使用以下代码确定了单击了哪个网格单元

```
public boolean onTouch(View v, MotionEvent me) {

            float currentXPosition = me.getX();
            float currentYPosition = me.getY();
            int position = gridView.pointToPosition((int) currentXPosition, (int) currentYPosition); 
```

Position 为您提供gridView 上的数字，您可以按如下方式检索该特定项目

```
gridView.getItemAtPosition(position) 
```

但这就是我卡住的地方。我的 gridView 中有 Textview 项目，我无法将项目转换为 textview 然后对其执行操作。

希望这可以帮助！

# c# - 正则表达式获取数组编号

> ID：11288395
> 
> 赞同：0
> 
> 时间：2012-07-02T05:57:36.460
> 
> 标签：c#, regex, arrays, string, input

我试图从代码中分离出数组名称和数组大小。这个预期输入的例子：

```
blah_blah[blahvar]
blah_ha[2]
blah_[] 
```

我需要匹配名称（blah_blah、blah_ha、blah_）和括号内的文本（blahvar、2、''）。我有这个正则表达式：

```
([a-zA-z_]+)(\[[a-zA-Z_]*\]) 
```

但它不起作用。请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T06:05:15.490

使用这个正则表达式

```
([\w]+)\[([\w]*)\] 
```

第 1 组将匹配数组名称，第 2 组将匹配索引

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-02T06:00:12.813

您需要包括数字：

`([a-zA-z_0-9]+)(\[[a-zA-Z_0-9]*\])`

没有它，您的第二个示例`blah_ha[2]`将无法捕获（其他示例会捕获）。

一个较短的版本（捕获每个单词字符（字母、数字等）：

`(\w+)(\[\w*\])`

# google-apps-script - Google 电子表格脚本服务器错误

> ID：11288396
> 
> 赞同：2
> 
> 时间：2012-07-02T05:57:45.613
> 
> 标签：google-apps-script, google-sheets

我有一些使用脚本功能在 Google 电子表格中移动、处理和创建数据的电子表格，但最近，当我尝试在其中一个上检查脚本管理器或脚本编辑器时，出现服务器错误。我还有一些代码可以让它们在打开电子表格时自动加载到菜单选项中，但这当然也不起作用，因为脚本作为一个整体不可用。

这种情况至少一周没有改变，我真的不知道如何解决它。这些脚本非常重要且冗长，所以我真的不想再制作它们了……

有任何想法吗？

# php - 在 PHP 中创建两个不同的会话

> ID：11288400
> 
> 赞同：0
> 
> 时间：2012-07-02T05:58:23.970
> 
> 标签：php, session, session-variables

我正在尝试创建两个单独的会话——一个用于用户是管理员，另一个用于用户是作者。$type 存储类型为枚举（可以是作者或管理员）。但是我的代码甚至为管理员创建了作者会话。我是 PHP 和 MySQL 的新手。有人可以告诉我代码中的错误在哪里。

```
<?php
include("dbconnect.php");
$con= new dbconnect();
$con->connect();
//create and issue the query
$sql = "SELECT type FROM users WHERE username = '".$_POST["username"]."' AND password = PASSWORD('".$_POST["password"]."')";

$result = mysql_query($sql);

//get the number of rows in the result set; should be 1 if a match
if (mysql_num_rows($result) == 1) {
   $type_num=0;
    //if authorized, get the values
      while ($info = mysql_fetch_array($result)) {
    $type =$info['type'];
    }

     if($type == "admin")
        {
         $_SESSION['type']=1;
         $u = 'welcome.php';
         header('Location: '.$u);  
        }
       else
        {
          $_SESSION['type']=$type_num;
          $u = 'welcome.php';
          header('Location: '.$u);

        }
    } 
      else {
        //redirect back to loginfailed.html form if not in the table
        header("Location: loginfailed.html");
        exit;
        }
        ?> 
```

我的welcome.php 如下

```
<?php
  session_start();
?>

<html>
<body>
<h2>Welcome.</h2>
<?
if($_SESSION['type']==1){
     echo "You are of the usertype Admin and your session id is ";
     echo session_id();
}
else {
echo "You are of the usertype Author and your session id is ";
echo session_id();
}
?>

</body>
</html> 
```

非常感谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:03:14.800

尝试使用角色来获得您的权限。

一般来说，您只有一个会话。我的意思是您没有两个名为_SESSION 的变量。

使用角色的概念，您可以简单地检查用户是否有权做某事。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T06:03:00.167

在会话中注册 var 之前，您必须调用`session_start()`代码的第一部分`$_SESSION['type']`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T06:28:44.947

没有你的代码接缝很好，我想。我看不到你在哪里调用数据库以及你在那里有什么

所以这就是你如何解决问题

```
 while ($info = mysql_fetch_array($result)) {
      $type =$info['type'];
      echo $type . '<br />';
  } 
```

或者

```
 echo '<pre>';
  while ($info = mysql_fetch_array($result)) {
      $type =$info['type'];
      print_r($info);
  }
  echo '</pre>'; 
```

如果您从未在其中看到管理员，并且它必须是“管理员”而不是管理员或管理员；那么问题出在您的数据库中。您没有管理员定义或拼写正确的管理员。

顺便一提。看看我格式化得有多好。这样更容易阅读。
如果您不这样做，编码人员将不会查看您的代码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-10T14:30:52.423

尝试使用`session_regenerate_id();`方法来创建不同的会话 ID。

# ruby-on-rails - Rails 部署在 Heroku 未定义方法“[]”上，用于 nil:NilClass 处理参数

> ID：11288401
> 
> 赞同：0
> 
> 时间：2012-07-02T05:58:28.247
> 
> 标签：ruby-on-rails, heroku

我在 Heroku 上部署了一个 Rails 应用程序。这是在很多示例中给出的 Twitter 应用程序。我试图学习如何 git 部署在 Heroku 上的 Rails 应用程序。无论如何，单击`follow`按钮时，什么也没有发生。我使用`heroku logs`并发现这是问题所在：

```
NoMethodError (undefined method `[]' for nil:NilClass):
app/controllers/user_relationships_controller.rb:6:in `create' 
```

传递的参数是这样的：

```
Parameters: {"utf8"=>"✓", "authenticity_token"=>"NIiiOgQ4iowSxezGmvLk3oV/vul+4ysWoFrgh/1eOAY=", "user_id"=>{"follower_id"=>"1"}, "commit"=>"follow"} 
```

对应于这一行：

```
@user = User.find(params[:user_id][:follower_id]) 
```

有人可以指出我正确的方向吗？谢谢！

按照要求：

```
<%= form_for current_user.user.build(:follower_id => @user.id), 
         :remote => true do |f| %>
<div><%= f.hidden_field :follower_id %></div>
<div class="actions"><%= f.submit "follow" %></div>
<% end %>

$('#follow_form').replaceWith("<%= escape_javascript render(:file =>'users/_follow_form') %>");
$('#followers').replaceWith('<div id="followers"><h1><%= "Followers: #{@user.followers.count}" %></h1></div>'); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T17:05:21.153

关于如何获取更多信息并弄清楚发生了什么的一些建议：

1.  证明它在本地有效。这似乎还不是 Heroku 特定的问题。
2.  找出您从哪个教程获得的，因为示例中可能存在语法错误，该示例已在该站点的评论中修复或突出显示。（我们还没有足够的信息来帮助您）
3.  在调用之前添加一些日志记录，打印出参数。
4.  将您的代码作为公共 github 存储库推送，并链接回此处。然后我们可以查看您的代码并运行它以查看问题所在。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T23:49:50.377

非常抱歉我给你带来了麻烦。无论出于何种原因，我有两个名称非常相似的控制器。它使用了错误的，我没有意识到。我切换了代码，现在它可以工作了。感谢您的输入！

# android - 寻找我的应用程序停止的原因，Android

> ID：11288406
> 
> 赞同：1
> 
> 时间：2012-07-02T05:59:19.513
> 
> 标签：android, android-service, android-wake-lock

我有一个小型数据收集应用程序，它有一个按钮来启动和停止服务。

该服务反过来启动一个新线程。每当有关于它的广播时，它都会收集有关电压变化的数据。

数据临时存储在 ArrayList 中，每隔 10 秒将存储在 arrayList 中的所有数据转储到数据库中。

应用程序运行良好 10-20 分钟，但 20 分钟后应用程序自动停止。有时服务仍在运行，有时服务也被杀死。

你们能告诉我这里可能是什么问题吗？我认为可能与这个问题有关的事情是：

1.> 我每 10 秒打开和关闭一次数据库。只有在整个应用程序完成后，我才应该将设计更改为关闭数据库。

2.> 我也使用了唤醒锁，但这并没有什么不同。我也应该为我的服务使用唤醒锁吗？

3.> 最后，我如何才能知道导致我的应用程序停止的错误（我无法连接到 USB 以知道因为我希望电池处于耗尽模式）

**更新**：

logcat报错如下：

```
E/AndroidRuntime( 9770): FATAL EXCEPTION: Timer-0
E/AndroidRuntime( 9770): java.util.ConcurrentModificationException
E/AndroidRuntime( 9770):    at java.util.ArrayList$ArrayListIterator.next(ArrayList.java:569)
E/AndroidRuntime( 9770):    at com.amazon.hsyal.services.LoggerThread$2.run(LoggerThread.java:78)
E/AndroidRuntime( 9770):    at java.util.Timer$TimerImpl.run(Timer.java:284)
W/ActivityManager(  236):   Force finishing activity com.amazon.hsyal/.ui.VoltageSODLoggerActivity
I/ActivityManager(  236): No longer want com.amazon.dcp:OTAService (pid 12299): hidden #16
I/WindowManager(  236): WIN DEATH: Window{417dcd20 com.amazon.hsyal/com.amazon.hsyal.ui.VoltageSODLoggerActivity paused=true}
I/UsageStats(  236): No package stats for pkg:com.amazon.kindle.otter
I/ActivityManager(  236): Process com.amazon.hsyal (pid 9770) has died.
W/ActivityManager(  236): Scheduling restart of crashed service com.amazon.hsyal/.services.LoggerService in 5000ms
I/ActivityManager(  236): Start proc com.amazon.kindle for broadcast com.amazon.kindle/.PrimeAppReceiver: pid=13075 uid=32022 gids={3003, 1015}
W/ActivityManager(  236): Activity pause timeout for ActivityRecord{4173eb10 com.amazon.kindle.otter/.Launcher}
I/ActivityManager(  236): Start proc com.android.settings for broadcast com.android.settings/.TopWindowChangereceiver: pid=13111 uid=1000 gids={1015, 3002, 3001, 3003}
I/ActivityManager(  236): Start proc com.amazon.hsyal for service com.amazon.hsyal/.services.LoggerService: pid=13138 uid=10051 gids={}
W/ActivityManager(  236): Activity destroy timeout for ActivityRecord{41750838 com.amazon.hsyal/.ui.VoltageSODLoggerActivity} 
```

对应的Thread代码如下：

```
public void run() {
    // TODO Auto-generated method stub
    dbInstance = new DbClass(ctx);
    Log.d("Debuglogger","Came inside thread");
    ctx.registerReceiver(this.voltageReceiver, new IntentFilter(Intent.ACTION_BATTERY_CHANGED));

    Timer timer = new Timer();
    timer.schedule(new TimerTask() {
        @Override
        public void run() {
            // TODO Auto-generated method stub
            if(threadStatus == false){
                return;
            }
            if(!DataClass.dataList.isEmpty()){
                dbInstance.open();
                Iterator<DataClass> itr = DataClass.dataList.iterator();
                DataClass a_temp;
                while(itr.hasNext()){
                    a_temp = itr.next();
                    dbInstance.createEntry(a_temp.getVoltage(), a_temp.getCurrent(), a_temp.getBattery_level(),
                            a_temp.getTime(), a_temp.getRtime());
                }
                dbInstance.close();
                DataClass.dataList.clear();
                Log.d("db-error", "Data written to database and list cleared !");
            }
        }}, 0, UPDATE_INTERVAL);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:29:36.790

正如您从堆栈跟踪中看到的那样，错误似乎是`java.util.ConcurrentModificationException`当您`ArrayList`从多个线程访问时。你可以看看[How to Avoid ConcurrentModificationException when using an Iterator](http://www.javacodegeeks.com/2011/05/avoid-concurrentmodificationexception.html)，其相关部分如下：

> **在多线程环境中避免 ConcurrentModificationException：**
> 
> 1.  您可以将列表转换为数组，然后对数组进行迭代。这种方法适用于中小型列表，但如果列表很大，则会对性能产生很大影响。
>     
>     
> 2.  您可以在迭代时锁定列表，方法是将其放入同步块中。不推荐这种方法，因为它会失去多线程的好处。
>     
>     
> 3.  如果您使用的是 JDK1.5 或更高版本，则可以使用 ConcurrentHashMap 和 CopyOnWriteArrayList 类。这是推荐的方法。

* * *

> 1.> 我每 10 秒打开和关闭一次数据库。只有在整个应用程序完成后，我才应该将设计更改为关闭数据库。

每 10 秒打开和关闭一次数据库的开销并不大。仅当您遇到性能问题时才考虑这一点。

> 2.> 我也使用了唤醒锁，但这并没有什么不同。我也应该为我的服务使用唤醒锁吗？

似乎与特定问题无关。

> 3.> 最后，我如何才能知道导致我的应用程序停止的错误（我无法连接到 USB 以知道因为我希望电池处于耗尽模式

希望您已经了解如何做到这一点。重申一下，即使在应用程序停止后，您也可以获得 logcat 输出 - 通过 DDMS 或使用 adb 命令：`adb logcat -d > log.txt`

# php - 更新mysql中的一系列列

> ID：11288408
> 
> 赞同：0
> 
> 时间：2012-07-02T05:59:37.537
> 
> 标签：php, mysql

我在使用 mysql 更新一系列列时遇到了困难。我的总体目标是让用户能够更改列表项的位置，并让所有其他列表项移动位置以适应更改。因此，假设您有一个数字范围 1-6，并且您希望将位置 2 中的项目移动到位置 4，并让每个项目补偿更改，而每个项目仅占用一个位置编号。我已经为此工作了几个小时，我太累了，无法思考。我仍然是 mysql 的新手，但我几乎完成了我的第一个 cms，除了最后一个烦人的花絮。

有问题的代码是：

```
$newposition = $_POST['position'];
$oldposition = $_GET['oldposition'];
$id = $_GET['id'];

while ($work = mysql_fetch_array($workset)) {

if ($newposition>$oldposition) {
    mysql_query('UPDATE work SET position=position-1 WHERE position<='.$newposition.' AND position>'.$oldposition.'');
    mysql_query('UPDATE work SET position='.$newposition.' WHERE id='.$id.'');
}
elseif 
($newposition<$oldposition) {
    mysql_query('UPDATE work SET position=position+1 WHERE position<'.$oldposition.' AND position<='.$newposition.'');
    mysql_query('UPDATE work SET position='.$newposition.' WHERE id='.$id.'');
}
elseif 
($newposition==$oldposition) {
    echo 'same value!  ';
}
} 
```

它正确创建请求的位置更改，但范围内的所有其他数字都更改为不正确的值。这可能是一个简单的错误..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:08:42.957

看到这一行 -

```
mysql_query('UPDATE work SET position=position+1 WHERE position<'.$oldposition.' AND position<='.$newposition.''); 
```

你确定它正确吗？我认为应该是

```
mysql_query('UPDATE work SET position=position+1 WHERE position > '.$oldposition.' AND position <= '.$newposition.''); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T20:01:09.750

所以，我想出了一个解决方案给任何有兴趣的人。这不是最干净的，但它似乎已经工作了..

```
if ($newposition>$oldposition) {
    for ($i=$oldposition+1; $i<=$newposition; $i++) {
        $workset = mysql_query('SELECT * FROM work WHERE position='.$i.' LIMIT 1', $connection);
        while ($work = mysql_fetch_array($workset)) {
            mysql_query('UPDATE work SET position='.$i.'-1 WHERE position='.$i.'');
            mysql_query('UPDATE work SET position='.$newposition.' WHERE id='.$id.'');
        }
    }
}
elseif 
($newposition<$oldposition) {
    for ($i=$oldposition-1; $i>=$newposition; $i--) {
        $workset = mysql_query('SELECT * FROM work WHERE position='.$i.' LIMIT 1', $connection);
        while ($work = mysql_fetch_array($workset)) {
            mysql_query('UPDATE work SET position='.$i.'+1 WHERE position='.$i.'');
            mysql_query('UPDATE work SET position='.$newposition.' WHERE id='.$id.'');
        }
    }
}
elseif 
($newposition==$oldposition) {
} 
```

# javascript - 面向对象的javascript和IE7问题

> ID：11288414
> 
> 赞同：0
> 
> 时间：2012-07-02T06:00:08.253
> 
> 标签：javascript, oop

```
function fake()
{
var ffake;
}

fake.prototype.abc = function()
{
   fake.ffake = 1;//not working in IE7 but seems to be working in all others
}

var myNewObject = new fake(); 
```

因为剧本就在那一瞬间被打破，无法前进。

首先我没有得到理由，然后我在谷歌上花了将近 2 个小时来找出解决方案。

任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T06:03:28.603

尝试改变：

```
fake.ffake = 1; 
```

到：

```
this.ffake = 1; 
```

**例子：**

```
function fake()
{
  var ffake;
}

fake.prototype.abc = function()
{
   this.ffake = 1;
   alert(this.ffake);
}

var myNewObject = new fake();  
myNewObject.abc(); // alerts "1" 
```

# extjs - 弹出窗口中的 ExtJs 选项卡

> ID：11288416
> 
> 赞同：0
> 
> 时间：2012-07-02T06:00:14.147
> 
> 标签：extjs, window, tabbing

我的框架有带有一些文本字段和按钮的 ExtJS 弹出窗口。我需要在弹出窗口中实现选项卡的功能。使用制表键我需要关注窗口中显示的元素。但是在最后一个元素的选项卡上，焦点应该返回到弹出窗口中的第一个元素。

extjs 中的任何 api 都有助于实现此功能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T15:34:30.680

通过向弹出窗口中的第一个和最后一个元素添加侦听器来解决此问题。

```
var firstElement = Ext.getCmp('firstEl');
var lastElement = Ext.getCmp('lastEl');
Ext.EventManager.addListener(
  firstElement.el,
  'keydown',
  function(e){
    var key = e.getKey();
    var shiftKey = e.shiftKey;
    if (shiftKey && key == e.TAB){
      e.stopEvent();
      lastElement.focus(true, 100);
    }
  }
);    

Ext.EventManager.addListener(
  lastElement.el,
  'keydown',
  function(e){
    var key = e.getKey();
    var shiftKey = e.shiftKey;
    if (!shiftKey && key == e.TAB){
      e.stopEvent();
      firstElement.focus(true, 100);
    }
  }
); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-28T07:51:29.963

感谢您的解决方案。它为我们解决了这个问题......虽然部分。我需要一两个建议来帮助以通用方式解决问题。

如果由于某种情况最后一个按钮/元素被禁用怎么办。在这种情况下，该按钮上的事件侦听器将不起作用。在我的情况下，按下“第二个”最后一个元素上的“选项卡”会将焦点转移到其他控件而不是第一个控件，因为此特定按钮没有绑定事件侦听器。

如果您有一个模态弹出窗口“屏蔽”其后面的 UI，则按倒数第二个按钮上的“选项卡”会将焦点转移到窗口后面的某个控件上。我相信这是一个 ExtJS 错误。

您可以进行快速测试来验证此行为：

1.  在主视图中创建一个“按钮”
2.  单击该按钮应打开一个确认对话框（模式）
3.  窗口打开后，多次按 Tab 键，并注意焦点将返回到首先启动窗口的按钮。

知道如何解决这个问题吗？

我正在使用 ExtJS 4.1.0

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T08:02:41.227

如果最后一个元素被禁用，您可以为倒数第二个元素编写一个侦听器并聚焦窗口中的第一个元素。否则关注最后一个元素。我找不到任何通用的方法来处理这个问题。

```
 secondLaseElement: 
  listeners: {
    keydown: function(e) { 
      if (lastelement disabled?) { 
        focus(firstelement); 
      } else { 
        focus(lastelement); 
      } 
    }
  } 
```

# iphone - 目前的模态视图控制器调用视图会出现两次？

> ID：11288417
> 
> 赞同：1
> 
> 时间：2012-07-02T06:00:17.947
> 
> 标签：iphone, xml-parsing, presentmodalviewcontroller, instagram

在登录用户可以在标签栏控制器中看到其个人资料页面后，我在该视图中创建了一个登录和注册视图，我已经这样编码

```
-(void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName
{
    if(nil != qName)
    {
        elementName = qName;
    }

    if ([elementName isEqualToString:@"ABC"]) 
    {
        //some code
    }
    else if ([elementName isEqualToString:@"DEF"])
    {
         //some code
    }
    else if ([elementName isEqualToString:@"GHI"])
    {
        //some code
    }
    else if ([elementName isEqualToString:@"JKL"])
    {
        //some code
    }
    else if ([elementName isEqualToString:@"end"])
    {
        [activityIndicator stopAnimating];

        self.tabBarController.modalTransitionStyle = UIModalTransitionStyleCrossDissolve;
        [self presentModalViewController:self.tabBarController animated:YES];
        [self.tabBarController release];
    }
} 
```

所以在成功之后，我调用了一个 tabbarcontroller，它在 xib 文件中定义为 tabbar 控制器。所以问题是，当用户成功登录标签栏控制器的第一个视图时，它的`viewWillAppear`方法被调用了两次，我可以在控制台中看到这样的错误，`Using two-stage rotation animation is not supported when rotating more than one view controller or view controllers not the window delegate` 我也在注册页面中完成了相同的代码，但它会在 iOS 5.0 中崩溃并且它正在工作在 iOS 4.0 中。那么我上面的代码中是否有任何错误我正在实现登录和注册页面方法，例如`instagram`，`picyou`和`pinterest`应用程序。请帮助我，我被困在这里。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:13:24.570

原因是您在预期用途之外使用了 UITabBarController。它仅用作根控制器，如果您需要类似于标签栏使用工具栏的东西。大约半年前，我遇到了确切的问题。不幸的是，如果你这样使用它，你也会遇到其他问题。

因为 UITabBarController 类继承自 UIViewController 类，所以标签栏控制器有自己的视图，可以通过 view 属性访问。部署选项卡栏界面时，您必须将此视图安装为窗口的根目录。与其他视图控制器不同，标签栏界面永远不应安装为另一个视图控制器的子级。

用我的代码替换你的代码：

```
 self.tabBarController.modalTransitionStyle = UIModalTransitionStyleCrossDissolve;
  [[[UIApplication sharedApplication] keyWindow] setRootViewController:self.tabBarController];  
  [self presentModalViewController:self.tabBarController animated:YES];
  self.tabBarController.selectedIndex = 0; 
```

# google-app-engine - 多个自定义域到特定版本的 Google App Engine 应用

> ID：11288424
> 
> 赞同：0
> 
> 时间：2012-07-02T06:00:40.147
> 
> 标签：google-app-engine

假设我有`myapp.appspot.com`两个自定义域，分别称为`foo.com`和`bar.com`。如何配置 Google App Engine (GAE)，以便：

> (www.)foo.com -> *foo* .myapp.appspot.com
> 
> (www.)bar.com -> *bar* .myapp.appspot.com
> 
> (www.)foo.com -> myapp.appspot.com（默认版本）

我正在阅读[https://developers.google.com/appengine/docs/domain](https://developers.google.com/appengine/docs/domain)但我仍然不明白如何配置它。我的印象是 GAE 只支持一个自定义域的通配符，例如`**.foo.com`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T07:09:18.907

您不能真正直接执行此操作，因为您将自定义域与 App ID 而不是 App URL 相关联。

我想您可以将 foo.com 和 bar.com 都映射到您的 App ID，然后在您的 App Engine 的默认版本中解析 URL，并相应地重定向，但这不是一个很好的解决方案，因为您将从您的自定义域重定向回到appspot.com 域。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-11-01T07:25:06.737

[您可以使用调度文件](https://cloud.google.com/appengine/docs/go/how-requests-are-routed)( )进行路由`dispatch.yaml`。

这篇[博客文章](https://realguess.net/2015/09/24/add-a-custom-domain-to-the-specific-module-of-google-app-engine-managed-vms/)给了我必要的信息，我想对于需要将多个域映射到不同模块的情况需要这样的`dispatch.yaml`东西：

```
# Dispatch
# ========
---
dispatch:
  - url: 'foo.com/*'
    module: foo
  - url: 'bar.com/*'
    module: bar 
```

不要忘记在 App Engine 控制台中添加自定义域和 SSL 证书。

# c# - 防止 propertyGrid 绑定到某些属性

> ID：11288439
> 
> 赞同：0
> 
> 时间：2012-07-02T06:02:02.780
> 
> 标签：c#, propertygrid, obsolete

我将一个属性网格绑定到一堆由其他开发人员编写的自定义对象。这些对象不断地被更改和更新，因此它们包含仅抛出**NotImplemented Exceptions**的属性。有时它们包括诸如

> [过时（“用thingy代替获取其他东西”，true）]

而不是惹恼其他开发人员。我知道以后会改变的事情。我可以做些什么来确保我的属性网格不会在这些特定属性上中断？

谢谢您的帮助。其他开发人员对此表示赞赏；）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T10:40:09.503

我想您正试图在运行时将 PropertyGrid 绑定到对象，而不是在设计器中。如果你指的是winform设计器中的propertygrid，答案会不一样，你应该看看ControlDesigner的postFilterEvents方法。

最简单的解决方案是将要隐藏的属性的 BrowsableAttribute 设置为 false。这意味着当其他开发人员添加 ObsoleteAttribute 时，他们也应该添加`[Browsable(false)]`。但我知道您想要更“自动”的东西。您可以编写一个方法来更改对象属性的可浏览属性，然后再将其传递给 PropertyGrid。这可以通过获取每个属性的 TypeDescriptor，然后获取其 BrowsableAttribute，并根据存在 ObsoleteAttribute 或抛出异常的事实来设置其值（这必须通过反射来完成，因为 browsable 是私有的） . 代码可能是这样的：

```
 private static void FilterProperties(object objToEdit)
    {
        Type t = objToEdit.GetType();
        PropertyInfo[] props = t.GetProperties();
        // create fooObj in order to have another instance to test for NotImplemented exceptions 
        // (I do not know whether your getters could have side effects that you prefer to avoid)
        object fooObj = Activator.CreateInstance(t);
        foreach (PropertyInfo pi in props)
        {
            bool filter = false;
            object[] atts = pi.GetCustomAttributes(typeof(ObsoleteAttribute), true);
            if (atts.Length > 0)
                filter = true;
            else
            {
                try
                {
                    object tmp = pi.GetValue(fooObj, null);
                }
                catch
                {
                    filter = true;
                }
            }
            PropertyDescriptor pd = TypeDescriptor.GetProperties(t)[pi.Name];
            BrowsableAttribute bAtt = (BrowsableAttribute)pd.Attributes[typeof(BrowsableAttribute)];
            FieldInfo fi = bAtt.GetType().GetField("browsable",
                               System.Reflection.BindingFlags.NonPublic |
                               System.Reflection.BindingFlags.Instance);
            fi.SetValue(bAtt, !filter);
        }
    } 
```

这应该有效，但它有一个限制。您正在编辑的类中必须至少有一个 BrowsableAttribute（设置为 true 或 false 都没有关系），否则 PropertyGrid 将始终为空。

# php - 在 CakePHP 中通过 save() 方法保存数据时遇到问题

> ID：11288440
> 
> 赞同：0
> 
> 时间：2012-07-02T06:02:06.107
> 
> 标签：php, mysql, cakephp

我正在使用 cakephp 开发一个网络应用程序。我有一个函数，我想使用 cakephp 的 save() 方法将一些数据保存到模型中。但是每当我要保存数据时，我都会遇到这种错误：

```
Fatal error: Call to undefined method App::save() in /httpdocs/MyApp/app/Controller/AppsController.php on line 71 
```

任何人都知道我在这里缺少什么。我的控制器的功能如下：

```
public function add_app($id=null){
    $this->layout = 'user';
    if (!empty($id)) {

        $this->request->data['App']['id_users'] = $_SESSION['edit_user_id'];
        $this->request->data['App']['id_store'] = $id;
        $this->request->data['App']['id_unique_app'] = $Guid;
        $this->request->data['App']['tx_app_name'] = $data['results'][0]['trackName'];
        $this->request->data['App']['tx_platform'] = 'iOS';
        $this->request->data['App']['nu_price'] = $data['results'][0]['price']; 
        $this->request->data['App']['da_created'] = date("Y-m-d H:i:s");

        if ($this->App->save($this->request->data)) {
            $this->Session->setFlash('The selected app has been added successfully.');
            $this->redirect(array('action' => 'index'));
        }

    }

} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:18:55.140

尝试

```
if ($this->save($this->request->data)) 
```

代替

```
if ($this->App->save($this->request->data)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T06:26:09.640

你的控制器名称是什么？

在 CakePHP 中，“App”控制器只能调用“App”模型。

如果它是“App”控制器，那么你必须使用

```
if ($this->save($this->request->data)) 
```

代替

```
if ($this->App->save($this->request->data)) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T09:52:27.753

您可以`$uses = array('ModelName');`在控制器类的顶部使用。

然后你可以使用：

```
$this->ModelName->save($this->request->data); 
```

# regex - 使用一个线性正则表达式将一行拆分为两行

> ID：11288441
> 
> 赞同：0
> 
> 时间：2012-07-02T06:02:07.493
> 
> 标签：regex, perl

我正在使用 Rad 工具（使用 .NET 框架）和 XML 来解析数据文件。

我被一个必须分成两部分的特定行困住了。格式为：（#和之后只是传递列和数据）

```
Drive Name     UNE   Con   Accessible by  Drive status    # column names
A L D     0    A,B         Storage Subsystem  Optimal     # Data row 1         
1         1    A           Storage Subsystem  Optimal     # Data row 2 
```

第一行：

```
A L D     0    A,B         Storage Subsystem  Optimal 
```

需要在格式中分成两行：

```
 A L D     0    A         Storage Subsystem  Optimal
       A L D     0    B         Storage Subsystem  Optimal 
```

这样一列 RE 以以下格式显示提取的数据：-

```
Drive Name   UNE  Con   Accessible by      Drive status
A L D        0    A     Storage Subsystem  Optimal
A L D        0    B     Storage Subsystem  Optimal
1            1    A     Storage Subsystem  Optimal 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T18:57:58.027

期望制表符作为 2 列之间的分隔符。

```
$string =~ s/([a-zA-Z0-9]+)\t([a-zA-Z0-9 ]+)\t(([a-zA-Z0-9 ]+),([a-zA-Z0-9 ]+))\t([a-zA-Z0-9 ]+)\t([a-zA-Z0-9 ]+)/$1\t$2\t$4\t$6\t$7\n$1\t$2\t$5\t$6\t$7/gs 
```

# groovy - groovy.lang.MissingPropertyException

> ID：11288442
> 
> 赞同：1
> 
> 时间：2012-07-02T06:02:14.543
> 
> 标签：groovy, enums

我是 groovy 脚本的新手。我面临着 MissingPropertyException 的异常情况。

我在java中有一个枚举定义为

```
public enum Fruits {
  a,b,c
} 
```

我的常规脚本如下

```
import package.fruits.Fruits

println "fruit 1"+Fruits.a.toString()
println "fruit 2"+Fruits.b.toString() 
```

在这个脚本中，我可以看到，无论我提到哪里，我都`Fruits.a.toString()`可以毫无问题地访问它，但无论我需要使用哪里，`Fruit.b.toString()`我都会得到一个`MissingPropertyException`. 有任何想法吗 ？

编辑：这是我面临的错误

```
 groovy.lang.MissingPropertyException: No such property: b for class: package.fruits.Fruits 
```

# asp.net-mvc - ASP.Net MVC 是被动模型还是主动模型

> ID：11288448
> 
> 赞同：1
> 
> 时间：2012-07-02T06:02:49.077
> 
> 标签：asp.net-mvc

正如主题所述，ASP.Net MVC 中使用的 mvc 模型是主动模型还是被动模型，以及为什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-19T12:08:11.783

@乔亚。我已经在提供的链接上阅读了网站上的内容，您确实是正确的。
VS2010 为你创建了一个被动的 asp.net mvc 项目。然后由您将其修改为活动的 mvc 模型。
默认情况下，开发人员与被动模型一起使用（查看 asp.net mvc 的许多示例）。但是，实现主动模型需要更多的工作。参考：[http ://martinfowler.com/eaaDev/uiArchs.html](http://martinfowler.com/eaaDev/uiArchs.html)

# javascript - 浏览器状态栏：隐藏对某个网站的请求地址

> ID：11288449
> 
> 赞同：0
> 
> 时间：2012-07-02T06:02:55.333
> 
> 标签：javascript, browser, hide, ip-address, statusbar

我有一个网站正在请求（通过 iframe）另一个具有完全不同地址的网站。当浏览器从其他网站传输数据时，它会在状态栏中显示一条消息。它说：等待回复，然后从 theotherwebsite.com 传输数据....等消息。

有没有办法不在下面显示 otherwebsite.com 的地址？如果有适当的跨浏览器方式，也可以选择完全禁用状态栏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:10:41.867

这就是你如何为锚点和使用一点 javascript 做的。

```
<a href="click_counter.php?redirect_to=http://www.google.com/" 
    onmouseover="window.status='Going to google';return true;" 
    onmouseout="window.status='';">Go To Google</a> 
```

编辑：注意：状态属性在 IE、Firefox、Chrome 或 Safari 的默认配置中不起作用。要允许脚本更改状态文本，用户必须在 about:config 屏幕中将 dom.disable_window_status_change 首选项设置为 false。（或在 Firefox 中：“工具 - 选项 - 内容 - 启用 JavaScript / 高级 - 允许脚本更改状态栏文本”）。来自 w3schools .. 似乎不再受支持。

# mysql - MySQL 实例配置

> ID：11288452
> 
> 赞同：1
> 
> 时间：2012-07-02T06:03:08.873
> 
> 标签：mysql, configuration, windows-installer

我正在尝试构建一个安装程序来为我的应用程序安装 MySQL。[稍后使用MySQLInstanceConfig](http://dev.mysql.com/doc/mysql-windows-excerpt/5.1/en/mysql-config-wizard-cmdline.html)在批处理文件中运行它为其创建一个服务器实例。

```
mysqlinstanceconfig.exe -i -q ServiceName=MySQL55 RootPassword=root 
ServerType=DEVELOPMENT ConnectionUsage=DSS   DatabaseType=MYISAM Port=3307 
SkipNetworking=no RootPassword=root

set mysql_cmd="GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'root' WITH GRANT OPTION;"

mysql.exe -uroot -proot -e %mysql_cmd% 
```

或者

```
MySQLInstanceConfig.exe -i -q "-lE:\UEM\mysql_install_log.txt" »
"-nMySQL Server 5.5" "-pC:\Program Files\MySQL\MySQL Server 5.5" -v5.5.11 »
"-tmy-template.ini" "-cC:\mytest.ini" ServerType=DEVELOPMENT DatabaseType=MIXED »
ConnectionUsage=DSS Port=3307 ServiceName=MySQL55 RootPassword=root 
```

以下脚本适用于 MySQL 5.0，但不适用于 5.5。如果我尝试检查有什么问题并手动运行安装程序，我会收到此对话框，然后更改实例使其工作。![MySQL实例配置错误](../Images/44f030a3a56ab6bfd3356924c41d9369.png).
我该如何反击？

# google-drive-api - 我可以在 Google Drive API 中使用 Google 用户名和密码进行身份验证吗？

> ID：11288454
> 
> 赞同：5
> 
> 时间：2012-07-02T06:03:17.150
> 
> 标签：google-drive-api

我可以仅使用 Google 帐户用户名和密码而不使用 OAuth 进行身份验证吗？如果没有，是否计划在未来版本的 Google Drive API 中支持这种身份验证？

我目前正在使用[Google Documents List API](https://developers.google.com/google-apps/documents-list/)，它只允许使用用户名和密码进行身份验证。所以我想知道我是否可以用 Google Drive API 做同样的事情。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-02T16:28:29.213

您是否有任何理由不能使用 OAuth 2.0 作为您的授权机制？

客户端登录目前已被[弃用](http://googledevelopers.blogspot.com/2012/04/changes-to-deprecation-policies-and-api.html)，您和您的用户最好使用 OAuth 2.0。

[Drive SDK 文档](https://developers.google.com/drive/credentials)以及各种客户端库项目页面中提供了多个代码示例，可帮助您入门。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T15:10:41.690

如果您正在运行服务器应用程序，请考虑使用具有 OAuth2 和 Drive API 的服务帐户。这将允许您在服务器上运行应用程序，而无需用户在控制台或通过 UI 提供 OAuth2 凭据。如果您希望您的应用程序对具有特定帐户的文档进行操作，您也可以进行模拟。

```
 GoogleCredentials credentials = new GoogleCredential.Builder()
            .setTransport(HTTP_TRANSPORT)
            .setJsonFactory(JSON_FACTORY)
            .setServiceAccountId("[[SERVICE_ACCOUNT_EMAIL]]")
            .setServiceAccountScopes(DriveScopes.DRIVE, DriveScopes.DRIVE_FILE,
                "https://www.googleapis.com/auth/userinfo.email",
                "https://www.googleapis.com/auth/userinfo.profile")
            .setServiceAccountPrivateKeyFromP12File(Auth.keyFile)
            .setServiceAccountUser("[[impersonateduser@domain]]")
            .build();
    credentials.refreshToken(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-28T11:02:57.417

我在某个地方（可能在这里）找到了这篇博文：[http](http://blog.databigbang.com/automated-browserless-oauth-authentication-for-twitter/) ://blog.databigbang.com/automated-browserless-oauth-authentication-for-twitter/ 。

我知道它与 Twitter 有关，但它使用相同的方法，所以我认为它只需要在名称上稍作调整。简而言之：如果脚本仅由服务器运行，请安装 Jython + HTMLUnit，模拟用户转到生成的授权链接并单击“允许访问”按钮并获取令牌。

# c# - 如何存储“Class”类型的类的集合 ' 没有定义的 T 类型

> ID：11288458
> 
> 赞同：3
> 
> 时间：2012-07-02T06:04:06.650
> 
> 标签：c#

我遇到了一点困难，我不确定如何最好地解决这个问题。

我编写了一个类，它期望在创建新实例时指定数据类型。非常类似于`System.Collections.Generic.List<T>`存储指定类型的多个项目的类。但是，我的班级与班级没有相同或相似的功能`List<T>`。

在创建我的类的新实例时，例如：

```
string phrase = "Some string type data.";
MyClass<string> data = new MyClass<string>( () => phrase ); 
```

之后，我的课程将提供许多方法，无论传入的数据类型如何`MyClass<T>`（数据类型在哪里），这些方法都会给出结果`T`。不管它是字符串、布尔值、整数还是任何类型。

我已经测试了我的类并且它按预期工作，现在我如何`MyClass`在集合类（例如`List<>`.

让我举例说明（代码将包含语法错误，因为我不确定如何正确编写）：

```
// My intent... Not sure how to do it.
string phrase = "Some string data type.";
int number = 23;
bool boolData = false;

List<MyClass<T>> list = new List<MyClass<T>>();

list.Add( new MyClass<string>( () => phrase ) );
list.Add( new MyClass<int>( () => number ) );
list.add( new MyClass<bool>( () => boolData ) ); 
```

如您所见，我不知道如何存储具有不同传递数据类型的 MyClass 的许多元素，如果它们都是相同的传递数据类型，我就不会遇到这个问题。

例如：

```
// How it should be done. But not what I need.
string phrase1 = "Hello Phrase 1.";
string phrase2 = "Hello Phrase 2.";

List<MyClass<string>> list = new List<MyClass<string>>();

list.Add(new MyClass<string>( () => phrase1) );
list.Add(new MyClass<string>( () => phrase2) ); 
```

如果这是我想要完成的，我不会有问题，但由于我想完成我在最后一个示例之前举例说明的内容，我只是不确定如何最好地做到这一点。

基本上这是我的问题，我提供了一些基本示例，因为我认为我的问题可能有点奇怪，老实说，我认为我的术语还不够。

这对你们中的一些人来说可能很简单。我感谢您的帮助。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-02T06:07:14.683

通常你会为泛型类型创建一个非泛型基类（或接口）：

```
abstract class MyClass // Or interface
{
    // Anything useful but non-generic here
}

class MyClass<T> : MyClass
{
    // Anything using T
} 
```

然后你可以创建一个`List<MyClass>`. 当然，要了解您内部的任何成员，`MyClass<T>`您需要知道`T`投射的权利，但我认为这是不可避免的。

当然，如果您不进行控制`MyClass<T>`并且它没有提供有用的基类，这将无济于事 - 但 C# 中没有任何东西可以帮助您解决这种情况。

# jqgrid - jqGrid：表头宽度自动

> ID：11288459
> 
> 赞同：0
> 
> 时间：2012-07-02T06:04:11.250
> 
> 标签：jqgrid

我使用 jqGrid，但标题有问题。 **我可以使用表格标题宽度，这取决于每个标题的文本长度吗？**

TIA。

# image-processing - 推荐的棋盘模式识别技术

> ID：11288460
> 
> 赞同：5
> 
> 时间：2012-07-02T06:04:14.590
> 
> 标签：image-processing, image-recognition, chess, pattern-recognition

我正在尝试做一个应用程序，除其他外，它能够从屏幕截图中识别计算机屏幕上的国际象棋位置。我在图像处理技术方面的经验非常有限，并且不希望投入大量时间来研究这个，因为这只是我的一个宠物项目。

谁能向我推荐一种或多种可以产生良好效果的图像处理技术？

条件是：

*   图像总是清晰干净，没有噪音，光线条件差等（因为它是截图）
*   我预计在每秒处理 1 张图像时对计算机性能的影响非常小
*   我想了两种模式来启动这个过程：
    *   将棋子形状输入程序（以便它知道皇后、国王等的样子）
    *   只需向程序提供包含启动位置的初始图像，程序可以（在识别出棋盘的位置后）从中挑选每个棋子
*   该过程应该相对容易理解，因为我对图像处理技术还没有很好的掌握
*   我对使用任何特定技术不感兴趣，因此与技术无关的文档将是理想的（C/C++、C#、Java 示例也可以）。

感谢您花时间阅读本文，希望能得到一些好的答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T12:23:09.457

这是一个有趣的问题，但您需要指定比原始问题更多的内容才能找到可接受的答案。

在输入图像上：“截图”是引用模糊的一个类别。你能假设棋盘总是完全在视野中吗？你会有同一个板的多个视图吗？你能假设在所有视图中都不会部分或完全遮挡任何部分吗？

关于成像对象和捕获系统：在非常相似的照明下，是否会使用相同的棋盘和棋子？是否会使用相同的镜头/相机/数字化管道？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T07:51:26.120

向安德烈致敬，

我已经从图片中完成了一个硬币计数算法，所以这个过程应该会有所帮助。该算法称为广义霍夫变换

1.  把图片变成黑白的，这样更容易
2.  从 1 块中获取图像并“将其滑过屏幕截图”
3.  对于每个单元格，您计算 2 个图像中常见像素的 nr
4.  你有最多的地方，你有一块

希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T16:12:11.000

是的，和 Salut Andrei 一起去，

1.  将图片转换为灰度
2.  切成64个正方形并存储在数组中
3.  使用 Mat lab 可以轻松识别碎片
4.  颜色可以通过计算点像素数（黑色像素）阈值=no.黑色像素/no的百分比来获得。黑色像素 + 没有。白色像素，如果你的值高于阈值，则为白色，否则为黑色

# javascript - 尝试使用 JavascriptExecutor 使用 selenium webdriver 单击单选按钮时出错

> ID：11288461
> 
> 赞同：1
> 
> 时间：2012-07-02T06:04:15.240
> 
> 标签：javascript, selenium, webdriver

我打开了 www.makemytrip.com 网站并尝试使用 JavascriptExecutor 单击往返单选按钮。

```
Driver.get("http://www.makemytrip.com/");
((JavascriptExecutor) Driver).executeScript("document.getElementById('roundtrip_r').Click();"); 
```

执行脚本时，我在控制台上收到以下错误

```
Exception in thread "main" org.openqa.selenium.WebDriverException: null (WARNING: The server did not provide any stacktrace information)
Command duration or timeout: 14 milliseconds
Build info: version: '2.24.1', revision: '17205', time: '2012-06-19 16:53:24'
System info: os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.6.0_27'
Driver info: driver.version: RemoteWebDriver
Session ID: 9e0bc318-7cea-4351-b83d-6f0f024b7972
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)
    at java.lang.reflect.Constructor.newInstance(Unknown Source)
    at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:188)
    at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:145)
    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:472)
    at org.openqa.selenium.remote.RemoteWebDriver.executeScript(RemoteWebDriver.java:381) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T06:15:15.570

另一种方法可能如下 -

```
WebElement ele = (WebElement) ((JavascriptExecutor) driver).executeScript("return document.getElementById('roundtrip_r');");

ele.click(); 
```

希望这有效。

如果要在脚本中单击，**C**必须很小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T06:12:37.693

Click() 的第一个字母必须很小。

# php - Eclipse 注册新文件类型以显示为 php 代码样式？

> ID：11288464
> 
> 赞同：1
> 
> 时间：2012-07-02T06:04:48.400
> 
> 标签：php, eclipse, styles

我在 MacOSX 上使用 Eclipse Helios。我是 PHP 人，所以我只希望所有与 PHP 相关的脚本都显示为 PHP 代码样式。我的意思是代码颜色。

我所拥有的是：我正在那个 Eclipse 上开发 Drupal。我只是想在 Drupal 中查看 php 文件`.module` `.inc` `.install`.. 无论如何，作为 PHP 风格。

例如：
如果我什至像稍后那样制作自己的文件扩展名`filename.abcd`，如果我将该`.abcd`扩展名文件显示为带有颜色的 PHP 代码样式怎么办？

目前，所有这些**以前未注册的扩展**都显示`Black Lines`为`no color`. 怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T06:24:27.153

`Windows`您可以在>下配置文件关联`Preferences`。
在`General`> `Editors`>下`File Associations`。

只需将扩展与 PHP 编辑器相关联，它就会为您选择语法高亮。

有关更多信息，请参阅：

[http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.platform.doc.user%2Freference%2Fref-13.htm](http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.platform.doc.user%2Freference%2Fref-13.htm)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-21T21:32:09.357

我正在使用 Kepler 并分配 .module 和 .install 文件关联对我不起作用。（奇怪的是，它确实适用于其他扩展）什么工作会帮助>安装新软件并安装位于此网址的软件：http: [//xtnd.us/downloads/eclipse](http://xtnd.us/downloads/eclipse)

在这里找到：http: [//drupal.cocomore.com/blog/using-eclipse-pdt-drupal-development](http://drupal.cocomore.com/blog/using-eclipse-pdt-drupal-development)

# java - 用于更改 Windows 中用户权限的批处理/bash/executable

> ID：11288468
> 
> 赞同：0
> 
> 时间：2012-07-02T06:05:17.043
> 
> 标签：java, windows, swing, configuration, persistence

我制作了桌面应用程序。在 Netbeans 平台上使用 Java Swing。现在我制作了我的应用程序的安装程序。之后，我想在我的应用程序中更改用户的权限。已安装在 PC 中。我想制作 bash 文件或批处理或任何可执行文件以更改用户的权限。

如何制作批处理或 bash 或可执行文件以更改 Windows 中的用户权限？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T06:29:03.070

> 我制作了我的应用程序的安装程序。

Java 桌面应用程序的良好安装程序。是[Java Web Start](https://stackoverflow.com/tags/java-web-start/info)。

> 我必须更改配置文件

提取配置更为常见。来自只读文件或资源（例如 Jar 中的条目）的详细信息，并将它们存储在“已知位置”。该地点的常见选择是：

*   可以持久化名称/值对的[Preferences API。](http://docs.oracle.com/javase/7/docs/api/java/util/prefs/Preferences.html)
*   基于 JWS 的[`PersistenceService`](http://docs.oracle.com/javase/7/docs/jre/api/javaws/jnlp/javax/jnlp/PersistenceService.html)还可以存储配置。详细信息，但提供基于流的访问，因此它可以处理更广泛的信息（例如`Properties`名称/值对的文件，或序列化的对象或 XML.. 用于超出名称/值对的更复杂的配置设置）。

    这是一个[演示。的`PersistenceService`](http://pscode.org/jws/api.html#ps)。演示。存储文本。

# ios - CLLocationManager headingAvailable 返回 false

> ID：11288469
> 
> 赞同：0
> 
> 时间：2012-07-02T06:05:23.237
> 
> 标签：ios, cllocationmanager

嗨，我在这种情况下需要有关 ios 中标题数据的帮助，我正在我的应用程序中使用 AI 使用 CoreLocation 框架作为我
**的 .h 文件**

```
@interface ViewController : UIViewController<CLLocationManagerDelegate>{
    UIImageView *arrowImage; 
    UILabel *magneticHeadingLabel; 
    UILabel *trueHeadingLabel;
    CLLocationManager *locationManager;
}

@property (nonatomic, retain) CLLocationManager *locationManager;
@end 
```

在 .m 文件中

```
@implementation ViewController
@synthesize locationManager;

-(void)locationManager:(CLLocationManager*)manager didUpdateHeading:(CLHeading*)newHeading {

    NSLog(@"New magnetic heading: %f", newHeading.magneticHeading);
    NSLog(@"New true heading: %f", newHeading.trueHeading);
    NSLog(@"=>%@",[NSString stringWithFormat:@"%.1fmi",newHeading.headingAccuracy]);
    NSString *headingstring = [[NSString alloc] initWithFormat:@"%f",newHeading.trueHeading];
    trueHeadingLabel.text = headingstring;
    [headingstring release];

    NSString *magneticstring = [[NSString alloc]initWithFormat:@"%f",newHeading.magneticHeading];
    magneticHeadingLabel.text = magneticstring;
    [magneticstring release];

}

-(void)getHeadInfo{
    self.locationManager = [[CLLocationManager alloc] init];
    self.locationManager.desiredAccuracy = kCLLocationAccuracyBestForNavigation;
    self.locationManager.delegate = self;

    if ([CLLocationManager headingAvailable] ) 
    {      
        NSLog(@"Heading Available...!");
        self.locationManager.headingFilter = kCLHeadingFilterNone; 
        [self.locationManager startUpdatingHeading];

    } 
    else {
        NSLog(@"No Heading Available: ");
        UIAlertView *noCompassAlert = [[UIAlertView alloc] initWithTitle:@"No Compass!" message:@"This device does not have the ability to measure magnetic fields." delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];
        [noCompassAlert show];
        [noCompassAlert release];
    } 
}

- (void)viewDidLoad {
    [super viewDidLoad];
    arrowImage = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"right_arrow"]];
    arrowImage.frame = CGRectMake(95, 30, 128, 128);
    [self.view addSubview:arrowImage];

    trueHeadingLabel = [[UILabel alloc] initWithFrame:CGRectMake(15, 300, 250, 30)];
    trueHeadingLabel.textAlignment = UITextAlignmentLeft;
    trueHeadingLabel.textColor = [UIColor purpleColor];
    trueHeadingLabel.backgroundColor = [UIColor clearColor];
    trueHeadingLabel.font = [UIFont systemFontOfSize:13];
    trueHeadingLabel.text = [NSString stringWithFormat:@"trueHeadingLabel:"];
    [self.view addSubview:trueHeadingLabel];

    magneticHeadingLabel = [[UILabel alloc] initWithFrame:CGRectMake(15, 350, 250, 30)];
    magneticHeadingLabel.textAlignment = UITextAlignmentLeft;
    magneticHeadingLabel.textColor = [UIColor purpleColor];
    magneticHeadingLabel.backgroundColor = [UIColor clearColor];
    magneticHeadingLabel.font = [UIFont systemFontOfSize:13];
    magneticHeadingLabel.text = [NSString stringWithFormat:@"magneticHeadingLabel:"];
    [self.view addSubview:magneticHeadingLabel];

    UIButton *start = [[UIButton alloc]initWithFrame:CGRectMake(140, 310, 50, 30)];
    [start setBackgroundColor:[UIColor redColor]];
    [start setTitle:@"start" forState:UIControlStateNormal];
    [start addTarget:self action:@selector(getHeadInfo) forControlEvents:UIControlEventTouchUpInside];
    [self.view addSubview:start];
    [start release];
} 
```

问题是我知道模拟器没有返回航向数据，我使用的是 ipod touch，但 [CLLocationManager headingAvailable] 仍然没有返回 true。这是一种紧急情况，请帮助任何人

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T06:09:35.683

我不太确定，但据我所知，iPod touch 不包含 GPS / 指南针模块。它通过 wifi 数据库获取其位置信息。因此，您不会获得标题，因为 iPod Touch 无法将其提供给您。

iPod Touch“只有”一个陀螺仪和一个加速度计可用。要读取有关这些的信息，您必须使用**Core Motion Framework**

> CMMotionManager 对象是 iOS 提供的运动服务的网关。这些服务为应用程序提供加速度计数据、旋转速率数据、磁力计数据和其他设备运动数据，例如姿态。这些类型的数据源自设备的加速度计和（在某些型号上）其磁力计和陀螺仪。

# excel - 无法限制输入使得 min < mode < max

> ID：11288473
> 
> 赞同：0
> 
> 时间：2012-07-02T06:06:01.883
> 
> 标签：excel, operators, comparison-operators, vba

我正在尝试编写一个限制其输入的 VBA 函数。它需要三个参数`min`,`mode`和`max`, 并且需要确保`min < mode < max`.

这是我到目前为止所拥有的：

```
Function TRIANGULAR(min As Double, mode As Double, max As Double)
    If min < mode < max Then
        TRIANGULAR = (min + mode + max) / 3
    Else
        MsgBox "min < mode < max", vbCritical
    End If
End Function 
```

我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:26:18.007

`If`不要那样工作。

采用

```
If (min < mode) and (mode < max) Then 
```

# android - 带有 ActivityGroup 的 tabHost 中的 vm 预算错误异常

> ID：11288474
> 
> 赞同：0
> 
> 时间：2012-07-02T06:06:02.517
> 
> 标签：android

我在带有 activityGroup 的 Tabhost 中有以下异常我已将以下代码用于 setcontentView

```
View viewToLoad = LayoutInflater.from(this.getParent()).inflate(R.layout.language, null);
this.setContentView(viewToLoad); 
```

我的一些活动中有以下异常

```
 01-28 16:26:23.550: E/dalvikvm-heap(2730): 768000-byte external allocation too large for this process.
01-28 16:26:23.550: E/(2730): VM won't let us allocate 768000 bytes
01-28 16:26:23.550: D/skia(2730): --- decoder->decode returned false
01-28 16:26:23.558: D/AndroidRuntime(2730): Shutting down VM
01-28 16:26:23.558: W/dalvikvm(2730): threadid=3: thread exiting with uncaught exception (group=0x4001b170)
01-28 16:26:23.558: W/System.err(2730): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.milagemaster/com.milagemaster.Activity_Share}: android.view.InflateException: Binary XML file line #2: Error inflating class <unknown>
01-28 16:26:23.566: W/System.err(2730):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2496)
01-28 16:26:23.566: W/System.err(2730):     at android.app.ActivityThread.startActivityNow(ActivityThread.java:2335)
01-28 16:26:23.566: W/System.err(2730):     at android.app.LocalActivityManager.moveToState(LocalActivityManager.java:127)
01-28 16:26:23.566: W/System.err(2730):     at android.app.LocalActivityManager.startActivity(LocalActivityManager.java:339)
01-28 16:26:23.566: W/System.err(2730):     at android.widget.TabHost$IntentContentStrategy.getContentView(TabHost.java:648)
01-28 16:26:23.566: W/System.err(2730):     at android.widget.TabHost.setCurrentTab(TabHost.java:320)
01-28 16:26:23.566: W/System.err(2730):     at android.widget.TabHost$2.onTabSelectionChanged(TabHost.java:129)
01-28 16:26:23.566: W/System.err(2730):     at android.widget.TabWidget$TabClickListener.onClick(TabWidget.java:379)
01-28 16:26:23.566: W/System.err(2730):     at android.view.View.performClick(View.java:2364)
01-28 16:26:23.566: W/System.err(2730):     at android.view.View.onTouchEvent(View.java:4179)
01-28 16:26:23.566: W/System.err(2730):     at android.view.View.dispatchTouchEvent(View.java:3709)
01-28 16:26:23.566: W/System.err(2730):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:851)
01-28 16:26:23.566: W/System.err(2730):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:883)
01-28 16:26:23.566: W/System.err(2730):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:883)
01-28 16:26:23.566: W/System.err(2730):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:883)
01-28 16:26:23.566: W/System.err(2730):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:883)
01-28 16:26:23.574: W/System.err(2730):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:883)
01-28 16:26:23.574: W/System.err(2730):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:883)
01-28 16:26:23.574: W/System.err(2730):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:883)
01-28 16:26:23.574: W/System.err(2730):     at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1659)
01-28 16:26:23.574: W/System.err(2730):     at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1107)
01-28 16:26:23.574: W/System.err(2730):     at android.app.Activity.dispatchTouchEvent(Activity.java:2061)
01-28 16:26:23.574: W/System.err(2730):     at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1643)
01-28 16:26:23.574: W/System.err(2730):     at android.view.ViewRoot.handleMessage(ViewRoot.java:1691)
01-28 16:26:23.574: W/System.err(2730):     at android.os.Handler.dispatchMessage(Handler.java:99)
01-28 16:26:23.574: W/System.err(2730):     at android.os.Looper.loop(Looper.java:123)
01-28 16:26:23.574: W/System.err(2730):     at android.app.ActivityThread.main(ActivityThread.java:4363)
01-28 16:26:23.574: W/System.err(2730):     at java.lang.reflect.Method.invokeNative(Native Method)
01-28 16:26:23.574: W/System.err(2730):     at java.lang.reflect.Method.invoke(Method.java:521)
01-28 16:26:23.574: W/System.err(2730):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
01-28 16:26:23.574: W/System.err(2730):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)
01-28 16:26:23.574: W/System.err(2730):     at dalvik.system.NativeStart.main(Native Method)
01-28 16:26:23.574: W/System.err(2730): Caused by: android.view.InflateException: Binary XML file line #2: Error inflating class <unknown>
01-28 16:26:23.589: W/System.err(2730):     at android.view.LayoutInflater.createView(LayoutInflater.java:513)
01-28 16:26:23.589: W/System.err(2730):     at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56)
01-28 16:26:23.589: W/System.err(2730):     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:563)
01-28 16:26:23.589: W/System.err(2730):     at android.view.LayoutInflater.inflate(LayoutInflater.java:385)
01-28 16:26:23.589: W/System.err(2730):     at android.view.LayoutInflater.inflate(LayoutInflater.java:320)
01-28 16:26:23.589: W/System.err(2730):     at android.view.LayoutInflater.inflate(LayoutInflater.java:276)
01-28 16:26:23.589: W/System.err(2730):     at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:198)
01-28 16:26:23.589: W/System.err(2730):     at android.app.Activity.setContentView(Activity.java:1622)
01-28 16:26:23.589: W/System.err(2730):     at com.milagemaster.Activity_Share.onCreate(Activity_Share.java:30)
01-28 16:26:23.589: W/System.err(2730):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
01-28 16:26:23.589: W/System.err(2730):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2459)
01-28 16:26:23.589: W/System.err(2730):     ... 31 more
01-28 16:26:23.589: W/System.err(2730): Caused by: java.lang.reflect.InvocationTargetException
01-28 16:26:23.597: W/System.err(2730):     at android.widget.RelativeLayout.<init>(RelativeLayout.java:171)
01-28 16:26:23.597: W/System.err(2730):     at java.lang.reflect.Constructor.constructNative(Native Method)
01-28 16:26:23.597: W/System.err(2730):     at java.lang.reflect.Constructor.newInstance(Constructor.java:446)
01-28 16:26:23.597: W/System.err(2730):     at android.view.LayoutInflater.createView(LayoutInflater.java:500)
01-28 16:26:23.597: W/System.err(2730):     ... 41 more
01-28 16:26:23.597: W/System.err(2730): Caused by: java.lang.OutOfMemoryError: bitmap size exceeds VM budget
01-28 16:26:23.613: W/System.err(2730):     at android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)
01-28 16:26:23.613: W/System.err(2730):     at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:447)
01-28 16:26:23.613: W/System.err(2730):     at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:323)
01-28 16:26:23.613: W/System.err(2730):     at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:697)
01-28 16:26:23.613: W/System.err(2730):     at android.content.res.Resources.loadDrawable(Resources.java:1705)
01-28 16:26:23.613: W/System.err(2730):     at android.content.res.TypedArray.getDrawable(TypedArray.java:548)
01-28 16:26:23.613: W/System.err(2730):     at android.view.View.<init>(View.java:1850)
01-28 16:26:23.613: W/System.err(2730):     at android.view.View.<init>(View.java:1799)
01-28 16:26:23.613: W/System.err(2730):     at android.view.ViewGroup.<init>(ViewGroup.java:283)
01-28 16:26:23.613: W/System.err(2730):     ... 45 more 
```

这是我的选项卡活动的 xml 文件

```
<LinearLayout
    android:id="@+id/lLayoutHome"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <TabHost
        android:id="@android:id/tabhost"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_marginTop="0dip"
        android:background="@drawable/title" >

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:orientation="vertical" >

            <FrameLayout
                android:id="@android:id/tabcontent"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:layout_weight="1" />

            <ImageView
                android:id="@+id/imageLine"
                android:layout_width="fill_parent"
                android:layout_height="2dp"
                android:background="@color/mileage" />

            <TabWidget
                android:id="@android:id/tabs"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_gravity="bottom"
                android:tabStripEnabled="false" />
        </LinearLayout>
    </TabHost>
</LinearLayout> 
```

这是我活动的 xml 文件

```
<LinearLayout
    android:id="@+id/lnrTitle"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:background="@color/white"
    android:orientation="vertical" >

    <com.milagemaster.utility.Header
        android:id="@+id/header"
        android:layout_width="fill_parent"
        android:layout_height="50dp" />

    <RelativeLayout
        android:id="@+id/relativeHome"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="@drawable/title" >

        <TextView
            android:id="@+id/txtAddData"
            style="@style/TitleTextAppearance"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_centerHorizontal="true"
            android:layout_centerVertical="true"
            android:text="@string/adddata"
            android:textAppearance="?android:attr/textAppearanceLarge"
            android:textColor="@color/black" />
    </RelativeLayout>
</LinearLayout>

<RelativeLayout
    android:id="@+id/relativeMainAdd"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_below="@+id/lnrTitle" >

    <ImageView
        android:id="@+id/imgShadow"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="@drawable/shadow_title" />

    <RelativeLayout
        android:id="@+id/relativeAddData"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/relativeSpinner"
        android:layout_marginTop="5dp" >

        <LinearLayout
            android:id="@+id/relativetitle"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginLeft="5dp"
            android:layout_marginRight="5dp"
            android:background="@drawable/top_blue" >

            <TextView
                android:id="@+id/txtSelVehicle"
                android:layout_width="80dp"
                android:layout_height="wrap_content"
                android:layout_gravity="center_vertical"
                android:layout_marginLeft="10dp"
                android:layout_marginRight="10dp"
                android:ellipsize="end"
                android:gravity="center_horizontal"
                android:text="@string/vehcile"
                android:textAppearance="?android:attr/textAppearanceMedium"
                android:textColor="@color/black"
                android:textSize="16dp" />

            <Spinner
                android:id="@+id/spnSelectVehicle"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_gravity="center_vertical"
                android:layout_marginRight="5dp"
                android:background="@drawable/dropdown"
                android:paddingLeft="10dp" />
        </LinearLayout>

        <ScrollView
            android:id="@+id/scroll_barsMain"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_below="@+id/relativetitle"
            android:layout_marginBottom="50dp"
            android:layout_marginLeft="5dp"
            android:layout_marginRight="5dp"
            android:background="@drawable/box_middle_white"
            android:isScrollContainer="true"
            android:scrollbarAlwaysDrawVerticalTrack="true"
            android:scrollbars="vertical" >

            <LinearLayout
                android:id="@+id/linearLayout1"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_below="@+id/relativetitle"
                android:orientation="vertical" >

                <LinearLayout
                    android:id="@+id/linearLayout2"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginLeft="5dp"
                    android:layout_marginRight="5dp"
                    android:layout_marginTop="5dp" >

                    <TextView
                        android:id="@+id/txtAddGal"
                        android:layout_width="120dp"
                        android:layout_height="wrap_content"
                        android:layout_gravity="center_vertical"
                        android:text="@string/costpergal"
                        android:textColor="@color/black"
                        android:textSize="14sp" />

                    <LinearLayout
                        android:id="@+id/linearLayout3"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        android:layout_gravity="center_vertical" >

                        <EditText
                            android:id="@+id/edtAddGal"
                            android:layout_width="80dp"
                            android:layout_height="30dp"
                            android:background="@drawable/background_content"
                            android:ellipsize="end"
                            android:hint="@string/cost"
                            android:maxLength="10"
                            android:numeric="integer|decimal"
                            android:singleLine="true"
                            android:textColor="@color/mileage"
                            android:textColorHint="@color/mileage"
                            android:textSize="14sp" />

                        <TextView
                            android:id="@+id/txtCurrencyGal"
                            android:layout_width="fill_parent"
                            android:layout_height="wrap_content"
                            android:layout_gravity="center_vertical"
                            android:textColor="@color/mileage"
                            android:textSize="14sp" />
                    </LinearLayout>
                </LinearLayout>

                <LinearLayout
                    android:id="@+id/linearLayout2"
                    android:layout_width="fill_parent"
                    android:layout_height="30dp"
                    android:layout_marginLeft="5dp"
                    android:layout_marginRight="5dp" >

                    <TextView
                        android:id="@+id/txtAddGallons"
                        android:layout_width="120dp"
                        android:layout_height="wrap_content"
                        android:layout_gravity="center_vertical"
                        android:text="@string/gallonsAdded"
                        android:textColor="@color/black"
                        android:textSize="14sp" />

                    <EditText
                        android:id="@+id/edtAddGallons"
                        android:layout_width="fill_parent"
                        android:layout_height="30dp"
                        android:layout_gravity="center_vertical"
                        android:background="@drawable/background_content"
                        android:ellipsize="end"
                        android:hint="@string/gallonsAdded"
                        android:maxLength="10"
                        android:numeric="integer|decimal"
                        android:singleLine="true"
                        android:textColor="@color/mileage"
                        android:textColorHint="@color/mileage"
                        android:textSize="14sp" />
                </LinearLayout>

                <LinearLayout
                    android:id="@+id/linearLayout2"
                    android:layout_width="fill_parent"
                    android:layout_height="30dp"
                    android:layout_marginLeft="5dp"
                    android:layout_marginRight="5dp" >

                    <TextView
                        android:id="@+id/txtTotalCost"
                        android:layout_width="120dp"
                        android:layout_height="wrap_content"
                        android:layout_gravity="center_vertical"
                        android:text="@string/tcost"
                        android:textColor="@color/black"
                        android:textSize="14sp" />

                    <LinearLayout
                        android:id="@+id/linearLayout3"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        android:layout_gravity="center_vertical" >

                        <EditText
                            android:id="@+id/edtTotalCost"
                            android:layout_width="80dp"
                            android:layout_height="30dp"
                            android:layout_gravity="center_vertical"
                            android:background="@drawable/background_content"
                            android:ellipsize="end"
                            android:hint="@string/tcost"
                            android:maxLength="10"
                            android:numeric="integer|decimal"
                            android:singleLine="true"
                            android:textColor="@color/mileage"
                            android:textColorHint="@color/mileage"
                            android:textSize="14sp" >

                            <requestFocus />
                        </EditText>

                        <TextView
                            android:id="@+id/txtCurrencyTotal"
                            android:layout_width="fill_parent"
                            android:layout_height="wrap_content"
                            android:layout_gravity="center_vertical"
                            android:textColor="@color/mileage"
                            android:textSize="14sp" />
                    </LinearLayout>
                </LinearLayout>

                <LinearLayout
                    android:id="@+id/linearLayout2"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginLeft="5dp"
                    android:layout_marginRight="5dp"
                    android:orientation="horizontal" >

                    <TextView
                        android:id="@+id/txtFilledTank"
                        android:layout_width="120dp"
                        android:layout_height="wrap_content"
                        android:text="@string/fiiledTank"
                        android:textColor="@color/black"
                        android:textColorHint="@color/mileage"
                        android:textSize="14sp" />

                    <!--
                         <ToggleButton
                        android:id="@+id/tgbtnFillTank"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        android:layout_gravity="center_vertical"
                        android:background="@drawable/full_off"
                        android:textOff=""
                        android:textOn="" />

                    -->

                    <RadioGroup
                        android:id="@+id/tgbtnFillTank"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal" >

                        <RadioButton
                            android:id="@+id/tankfull"
                            android:layout_width="wrap_content"
                            android:layout_height="30dp"
                            android:button="@drawable/button_radio"

                            android:paddingLeft="30dp"
                            android:singleLine="true"
                            android:text="@string/yes"
                            android:checked="true"
                            android:textColor="@color/mileage"
                            android:textSize="12sp" />

                        <RadioButton
                            android:id="@+id/tankNotFull"
                            android:layout_width="wrap_content"
                            android:layout_height="30dp"
                            android:layout_marginLeft="20dp"
                            android:button="@drawable/button_radio"

                            android:paddingLeft="30dp"
                            android:singleLine="true"
                            android:text="@string/no"
                            android:textColor="@color/mileage"
                            android:textSize="12sp" />
                    </RadioGroup>
                </LinearLayout>

                <LinearLayout
                    android:id="@+id/linearLayout2"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginLeft="5dp"
                    android:layout_marginRight="5dp" >

                    <TextView
                        android:id="@+id/txtOdometerset"
                        android:layout_width="120dp"
                        android:layout_height="wrap_content"
                        android:text="@string/odometersetup"
                        android:textColor="@color/black"
                        android:textSize="14sp" />

                    <RadioGroup
                        android:id="@+id/radioGroup"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content" >

                        <RadioButton
                            android:id="@+id/rdbManually"
                            android:layout_width="fill_parent"
                            android:layout_height="30dp"
                            android:button="@drawable/button_radio"
                            android:checked="false"
                            android:paddingLeft="40dp"
                            android:singleLine="true"
                            android:text="@string/totalmileage"
                            android:textColor="@color/mileage"
                            android:textSize="12sp" />

                        <RadioButton
                            android:id="@+id/rdbTrip"
                            android:layout_width="fill_parent"
                            android:layout_height="30dp"
                            android:button="@drawable/button_radio"
                            android:paddingLeft="40dp"
                            android:singleLine="true"
                            android:text="@string/tripmielage"
                            android:textColor="@color/mileage"
                            android:textSize="12sp" />
                    </RadioGroup>
                </LinearLayout>

                <LinearLayout
                    android:id="@+id/linearLayout2"
                    android:layout_width="fill_parent"
                    android:layout_height="30dp"
                    android:layout_marginLeft="5dp"
                    android:layout_marginRight="5dp" >

                    <TextView
                        android:id="@+id/txtOdometer"
                        android:layout_width="120dp"
                        android:layout_height="wrap_content"
                        android:layout_gravity="center_vertical"
                        android:text="@string/osometer"
                        android:textColor="@color/black"
                        android:textSize="14sp" />

                    <EditText
                        android:id="@+id/edtOdometer"
                        android:layout_width="fill_parent"
                        android:layout_height="30dp"
                        android:layout_gravity="center_vertical"
                        android:background="@drawable/background_content"
                        android:ellipsize="end"
                        android:hint="@string/odometerreading"
                        android:maxLength="10"
                        android:numeric="integer|decimal"
                        android:singleLine="true"
                        android:textColor="@color/mileage"
                        android:textColorHint="@color/mileage"
                        android:textSize="14sp" />
                </LinearLayout>

                <LinearLayout
                    android:id="@+id/linearLayout2"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginLeft="5dp"
                    android:layout_marginRight="5dp" >

                    <TextView
                        android:id="@+id/txtNote"
                        android:layout_width="120dp"
                        android:layout_height="30dp"
                        android:layout_gravity="center_vertical"
                        android:text="@string/note"
                        android:textColor="@color/black"
                        android:textSize="14sp" />

                    <EditText
                        android:id="@+id/editNote"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        android:layout_gravity="center_vertical"
                        android:background="@drawable/background_content"
                        android:ellipsize="end"
                        android:hint="@string/notefillup"
                        android:imeOptions="actionDone"
                        android:maxLength="200"
                        android:singleLine="true"
                        android:textColor="@color/mileage"
                        android:textColorHint="@color/mileage"
                        android:textSize="14sp" />
                </LinearLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:10:27.833

检查你的 XML 文件。因为可能是由 XMl fil 引起的

原因：java.lang.RuntimeException：无法启动活动 ComponentInfo{com.milagemaster/com.milagemaster.Activity_home}：**android.view.InflateException：二进制 XML 文件第 2 行：膨胀类错误** 所以，发布您的 XML 布局。谢谢

# android - Android上的自定义吐司：一个简单的例子

> ID：11288475
> 
> 赞同：132
> 
> 时间：2012-07-02T06:06:04.020
> 
> 标签：android, toast

我是 Android 编程新手。什么是在 Android 上显示自定义 toast 通知的简单示例？

* * *

## 回答 #1

> 赞同：221
> 
> 时间：2012-07-02T06:10:32.933

使用下面的自定义 Toast 代码。它可能会帮助你。

### 吐司.xml

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/toast_layout_root"
    android:orientation="horizontal"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp"
    android:background="#DAAA" >

    <ImageView android:id="@+id/image"
        android:layout_width="wrap_content"
        android:layout_height="match_parent"
        android:layout_marginRight="10dp" />

    <TextView android:id="@+id/text"
        android:layout_width="wrap_content"
        android:layout_height="match_parent"
        android:textColor="#FFF" />

</LinearLayout> 
```

### MainActivity.java

```
LayoutInflater inflater = getLayoutInflater();
View layout = inflater.inflate(R.layout.toast_layout,
                               (ViewGroup) findViewById(R.id.toast_layout_root));

ImageView image = (ImageView) layout.findViewById(R.id.image);
image.setImageResource(R.drawable.android);
TextView text = (TextView) layout.findViewById(R.id.text);
text.setText("Hello! This is a custom toast!");

Toast toast = new Toast(getApplicationContext());
toast.setGravity(Gravity.CENTER_VERTICAL, 0, 0);
toast.setDuration(Toast.LENGTH_LONG);
toast.setView(layout);
toast.show(); 
```

并查看以下链接以获取自定义 Toast。

[带模拟时钟的自定义吐司](http://androiddesk.wordpress.com/2012/01/28/custom-notification-in-android-with-an-example/)

[YouTube：在 Android Studio 中使用按钮创建自定义 Toast](https://www.youtube.com/watch?v=t7aDPcsKxow&t=282s)

* * *

## 回答 #2

> 赞同：44
> 
> 时间：2015-05-23T09:32:52.770

Toast 用于在短时间内显示消息；因此，根据我的理解，您希望通过向其添加图像并更改消息文本的大小和颜色来对其进行自定义。如果这就是您想要做的全部，那么就不需要制作单独的布局并将其膨胀到 Toast 实例。

默认 Toast 的视图包含一个`TextView`用于显示消息的视图。因此，如果我们有 that 的资源 id 引用`TextView`，我们就可以使用它。所以下面是你可以做些什么来实现这一点：

```
Toast toast = Toast.makeText(this, "I am custom Toast!", Toast.LENGTH_LONG);
View toastView = toast.getView(); // This'll return the default View of the Toast.

/* And now you can get the TextView of the default View of the Toast. */
TextView toastMessage = (TextView) toastView.findViewById(android.R.id.message);
toastMessage.setTextSize(25);
toastMessage.setTextColor(Color.RED);
toastMessage.setCompoundDrawablesWithIntrinsicBounds(R.mipmap.ic_fly, 0, 0, 0);
toastMessage.setGravity(Gravity.CENTER);
toastMessage.setCompoundDrawablePadding(16);
toastView.setBackgroundColor(Color.CYAN);
toast.show(); 
```

在上面的代码中，您可以看到，您可以通过`setCompoundDrawablesWithIntrinsicBounds(int left, int top, int right, int bottom)`相对于 TextView 的任何位置将图像添加到 TextView。

**更新：**

编写了一个构建器类来简化上述目的；这是链接： [https ://gist.github.com/TheLittleNaruto/6fc8f6a2b0d0583a240bd78313ba83bc](https://gist.github.com/TheLittleNaruto/6fc8f6a2b0d0583a240bd78313ba83bc)

**检查`HowToUse.kt`上面的链接。**

**输出：**

![在此处输入图像描述](../Images/9d45805999c0a2b37b175358a772b698.png)

* * *

## 回答 #3

> 赞同：20
> 
> 时间：2012-07-02T06:10:27.203

**第1步：**

首先为自定义 toast 创建一个布局`res/layout/custom_toast.xml`：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/custom_toast_layout_id"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="#FFF"
    android:orientation="horizontal"
    android:padding="5dp" >

    <TextView
        android:id="@+id/text"
        android:layout_width="wrap_content"
        android:layout_height="fill_parent"
        android:textColor="#000" />

</LinearLayout> 
```

**STEP 2：**在Activity代码中，获取上面的自定义视图并附加到Toast：

```
// Get your custom_toast.xml ayout
LayoutInflater inflater = getLayoutInflater();

View layout = inflater.inflate(R.layout.custom_toast,
(ViewGroup) findViewById(R.id.custom_toast_layout_id));

// set a message
TextView text = (TextView) layout.findViewById(R.id.text);
text.setText("Button is clicked!");

// Toast...
Toast toast = new Toast(getApplicationContext());
toast.setGravity(Gravity.CENTER_VERTICAL, 0, 0);
toast.setDuration(Toast.LENGTH_LONG);
toast.setView(layout);
toast.show(); 
```

如需更多帮助，请查看我们如何在 Android 中创建自定义 Toast：

[http://developer.android.com/guide/topics/ui/notifiers/toasts.html](http://developer.android.com/guide/topics/ui/notifiers/toasts.html)

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2012-07-02T06:11:28.087

[请参阅此处](http://developer.android.com/guide/topics/ui/notifiers/toasts.html#CustomToastView)的链接。你找到你的解决方案。并尝试：

创建自定义 Toast 视图

如果简单的短信还不够，您可以为 Toast 通知创建自定义布局。要创建自定义布局，请在 XML 或应用程序代码中定义视图布局，并将根视图对象传递给 setView (View) 方法。

例如，您可以使用以下 XML（保存为 toast_layout.xml）为右侧屏幕截图中可见的 toast 创建布局：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
            android:id="@+id/toast_layout_root"
            android:orientation="horizontal"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:padding="10dp"
            android:background="#DAAA"
>

    <ImageView android:id="@+id/image"
               android:layout_width="wrap_content"
               android:layout_height="fill_parent"
               android:layout_marginRight="10dp"
    />

    <TextView android:id="@+id/text"
              android:layout_width="wrap_content"
              android:layout_height="fill_parent"
              android:textColor="#FFF"
    />
</LinearLayout> 
```

请注意，LinearLayout 元素的 ID 是“toast_layout”。您必须使用此 ID 从 XML 扩展布局，如下所示：

```
 LayoutInflater inflater = getLayoutInflater();
 View layout = inflater.inflate(R.layout.toast_layout,
                                (ViewGroup) findViewById(R.id.toast_layout_root));

 ImageView image = (ImageView) layout.findViewById(R.id.image);
 image.setImageResource(R.drawable.android);
 TextView text = (TextView) layout.findViewById(R.id.text);
 text.setText("Hello! This is a custom toast!");

 Toast toast = new Toast(getApplicationContext());
 toast.setGravity(Gravity.CENTER_VERTICAL, 0, 0);
 toast.setDuration(Toast.LENGTH_LONG);
 toast.setView(layout);
 toast.show(); 
```

首先，使用 getLayoutInflater()（或 getSystemService()）检索 LayoutInflater，然后使用 inflate(int, ViewGroup) 从 XML 中扩展布局。第一个参数是布局资源 ID，第二个参数是根视图。您可以使用此膨胀布局在布局中查找更多 View 对象，因此现在捕获并定义 ImageView 和 TextView 元素的内容。最后，使用 Toast(Context) 创建一个新的 Toast，并设置 Toast 的一些属性，例如重力和持续时间。然后调用 setView(View) 并将膨胀的布局传递给它。您现在可以通过调用 show() 以自定义布局显示 toast。

注意：除非您打算使用 setView(View) 定义布局，否则不要对 Toast 使用公共构造函数。如果您没有要使用的自定义布局，则必须使用 makeText(Context, int, int) 来创建 Toast。

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2020-05-05T08:14:12.457

## [注意，Android 11 中 toast 的更新](https://developer.android.com/preview/features/toasts)

> 来自后台的自定义 toast 被阻止，Android 11 通过弃用自定义 toast 视图来保护用户。出于安全原因和维护良好的用户体验，如果包含自定义视图的 toast 是由面向 Android 11 的应用从后台发送的，系统会阻止这些 toast。

[Android R 中添加的addCallback()](https://developer.android.com/reference/android/widget/Toast#addCallback(android.widget.Toast.Callback))方法如果您想在 toast（文本或自定义）出现或消失时收到通知。

[Toast API](https://developer.android.com/preview/features/toasts#text-toast-api-changes)中最重要的文本更改了**针对 Android 11**的应用程序，该`getView()`方法在您访问它时返回 null，因此，请确保保护您的应用程序免受 FATAL EXCEPTION 的影响，您知道我的意思 :)

如果适用，请改用小吃店。

> 建议您尽可能使用小吃店。如果您的应用程序的用例阻止您使用snackbars，例如当您需要在您的应用程序处于后台时向用户发送消息时，您仍然可以使用文本toast，因为它们不受新行为更改的限制。

有关该主题的更多详细信息，请参阅[官方文档](https://developer.android.com/preview/behavior-changes-11#custom-toast-views-blocked)。

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2017-09-12T04:59:59.453

吐司的自定义布局，`custom_toast.xml`：

```
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical" android:layout_width="match_parent"
    android:layout_height="match_parent">
    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Custom Toast"
        android:gravity="center"
        android:id="@+id/custom_toast_text"
        android:typeface="serif"
        android:textStyle="bold"
        />
</LinearLayout> 
```

以及 Java 方法（只需将 toast 消息传递给此方法）：

```
public void toast(String message)
{
    Toast toast = new Toast(context);
    View view = LayoutInflater.from(context).inflate(R.layout.image_custom, null);
    TextView textView = (TextView) view.findViewById(R.id.custom_toast_text);
    textView.setText(message);
    toast.setView(view);
    toast.setGravity(Gravity.BOTTOM|Gravity.CENTER, 0, 0);
    toast.setDuration(Toast.LENGTH_LONG);
    toast.show();
} 
```

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2016-01-05T10:38:21.017

[你可以在这里](http://www.androidmaterial.info/2016/01/android-custom-toast-example/)下载代码。

第1步：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:paddingBottom="@dimen/activity_vertical_margin"
    android:paddingLeft="@dimen/activity_horizontal_margin"
    android:paddingRight="@dimen/activity_horizontal_margin"
    android:paddingTop="@dimen/activity_vertical_margin"
    tools:context=".MainActivity">

    <Button
        android:id="@+id/btnCustomToast"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Show Custom Toast" />
  </RelativeLayout> 
```

第2步：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="horizontal"
    android:gravity="center"
    android:layout_width="match_parent"
    android:layout_height="wrap_content">

        <ImageView
            android:id="@+id/custom_toast_image"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:src="@mipmap/ic_launcher"/>

        <TextView
            android:id="@+id/custom_toast_message"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="My custom Toast Example Text" />

</LinearLayout> 
```

第 3 步：

```
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.view.Gravity;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.Toast;

public class MainActivity extends AppCompatActivity {

    private Button btnCustomToast;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        btnCustomToast= (Button) findViewById(R.id.btnCustomToast);
        btnCustomToast.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {

                // Find custom toast example layout file
                View layoutValue = LayoutInflater.from(MainActivity.this).inflate(R.layout.android_custom_toast_example, null);
                // Creating the Toast object
                Toast toast = new Toast(getApplicationContext());
                toast.setDuration(Toast.LENGTH_SHORT);

                // gravity, xOffset, yOffset
                toast.setGravity(Gravity.CENTER_VERTICAL, 0, 0);
                toast.setView(layoutValue);//setting the view of custom toast layout
                toast.show();
            }
        });
    }
} 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2013-05-05T21:31:50.060

我认为整个 Internet 上的大多数 customtoast xml 示例都基于相同的来源。

Android 文档，在我看来已经过时了。不应再使用 fill_parent。我更喜欢将 wrap_content 与 xml.9.png 结合使用。这样，您可以在提供的源大小中定义 toastbackground 的最小大小。

如果需要更复杂的 toast，则应使用框架或相对布局而不是 LL。

### 吐司.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/points_layout"
    android:orientation="horizontal"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:background="@drawable/background"
    android:layout_gravity="center"
    android:gravity="center" >

 <TextView
    android:id="@+id/points_text"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_gravity="center"
    android:gravity="center"
    android:layout_margin="15dp"
    android:text="@+string/points_text"
    android:textColor="@color/Green" />

</LinearLayout> 
```

### 背景.xml

```
<?xml version="1.0" encoding="utf-8"?>
<nine-patch
   xmlns:android="http://schemas.android.com/apk/res/android"
   android:src="@drawable/background_96"
   android:dither="true"/> 
```

background_96 是 background_96.9.png。

这没有很好地测试，并且提示表示赞赏:)

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2015-12-08T09:45:23.773

这是我用的

## *AllMethodsInOne.java*

```
public static Toast displayCustomToast(FragmentActivity mAct, String toastText, String toastLength, String succTypeColor) {

    final Toast toast;

    if (toastLength.equals("short")) {
        toast = Toast.makeText(mAct, toastText, Toast.LENGTH_SHORT);
    } else {
        toast = Toast.makeText(mAct, toastText, Toast.LENGTH_LONG);
    }

    View tView = toast.getView();
    tView.setBackgroundColor(Color.parseColor("#053a4d"));
    TextView mText = (TextView) tView.findViewById(android.R.id.message);

    mText.setTypeface(applyFont(mAct));
    mText.setShadowLayer(0, 0, 0, 0);

    tView.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            toast.cancel();
        }
    });
    tView.invalidate();
    if (succTypeColor.equals("red")) {
        mText.setTextColor(Color.parseColor("#debe33"));
        tView.setBackground(mAct.getResources().getDrawable(R.drawable.toast_rounded_red));
        // this is to show error message
    }
    if (succTypeColor.equals("green")) {
        mText.setTextColor(Color.parseColor("#053a4d"));
        tView.setBackground(mAct.getResources().getDrawable(R.drawable.toast_rounded_green));
        // this is to show success message
    }

    return toast;
} 
```

## *你的文件.java*

打电话时只需写在下面。

```
AllMethodsInOne.displayCustomToast(act, "This is custom toast", "long", "red").show(); 
```

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2018-08-29T02:02:35.463

为避免 layout_* 参数未正确使用的问题，您需要确保在扩展自定义布局时指定正确的 ViewGroup 作为父级。

许多示例在此处传递 null，但您可以将现有的 Toast ViewGroup 作为您的父级传递。

```
val toast = Toast.makeText(this, "", Toast.LENGTH_LONG)
val layout = LayoutInflater.from(this).inflate(R.layout.view_custom_toast, toast.view.parent as? ViewGroup?)
toast.view = layout
toast.show() 
```

在这里，我们将现有的 Toast 视图替换为我们的自定义视图。一旦您参考了您的布局“布局”，您就可以更新它可能包含的任何图像/文本视图。

此解决方案还可以防止任何“未附加到窗口管理器的视图”崩溃使用 null 作为父级。

此外，避免使用 ConstraintLayout 作为自定义布局根，这在 Toast 中使用时似乎不起作用。

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2020-02-14T10:15:48.280

创建我们自己的自定义非常简单`Toast`。

只需按照以下步骤操作。

**第1步**

创建您想要的自定义布局

```
<?xml version="1.0" encoding="utf-8"?>
<androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:backgroundTint="@color/black"
    android:orientation="vertical"
    android:padding="@dimen/size_10dp"
    app:cardCornerRadius="@dimen/size_8dp"
    app:cardElevation="@dimen/size_8dp">

    <TextView
        android:id="@+id/txt_message"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:padding="@dimen/size_12dp"
        android:textAlignment="center"
        android:textColor="@color/white"
        android:textSize="@dimen/text_size_16sp"
        tools:text="Hello Test!!" />

</androidx.cardview.widget.CardView> 
```

**第2步**

现在创建扩展的自定义类`Toast`。

```
import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.widget.TextView;
import android.widget.Toast;

import com.shop.shoppinggare.R;

import org.apache.commons.lang3.StringUtils;
import org.w3c.dom.Text;

public class CustomToast extends Toast {
    private Context context;
    private String message;

    public CustomToast(Context context, String message) {
        super(context);
        this.context = context;
        this.message = message;
        View view = LayoutInflater.from(context).inflate(R.layout.toast_custom, null);
        TextView txtMsg = view.findViewById(R.id.txt_message);
        txtMsg.setText(StringUtils.capitalize(message));
        setView(view);
        setDuration(Toast.LENGTH_LONG);

    }

} 
```

我们已经创建了自定义吐司。

**第三步**

现在，最后，我们如何使用它。

```
new CustomToast(contex,"message").show(); 
```

享受！！

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2017-06-01T09:39:30.143

**MainActivity.java 文件的代码。**

```
package com.android_examples.com.toastbackgroundcolorchange;

import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.Toast;
public class MainActivity extends Activity {

 Button BT;
 @Override
 protected void onCreate(Bundle savedInstanceState) {
 super.onCreate(savedInstanceState);
 setContentView(R.layout.activity_main);

 BT = (Button)findViewById(R.id.button1);
 BT.setOnClickListener(new View.OnClickListener() {

 @Override
 public void onClick(View v) {

 Toast ToastMessage = Toast.makeText(getApplicationContext(),"Change Toast Background color",Toast.LENGTH_SHORT);
 View toastView = ToastMessage.getView();
 toastView.setBackgroundResource(R.layout.toast_background_color);
 ToastMessage.show();

 }
 });
 }
} 
```

**activity_main.xml 布局文件的代码。**

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
 xmlns:tools="http://schemas.android.com/tools"
 android:layout_width="match_parent"
 android:layout_height="match_parent"
 android:paddingBottom="@dimen/activity_vertical_margin"
 android:paddingLeft="@dimen/activity_horizontal_margin"
 android:paddingRight="@dimen/activity_horizontal_margin"
 android:paddingTop="@dimen/activity_vertical_margin"
 tools:context="com.android_examples.com.toastbackgroundcolorchange.MainActivity" >

 <Button
 android:id="@+id/button1"
 android:layout_width="wrap_content"
 android:layout_height="wrap_content"
 android:layout_centerHorizontal="true"
 android:layout_centerVertical="true"
 android:text="CLICK HERE TO SHOW TOAST MESSAGE WITH DIFFERENT BACKGROUND COLOR INCLUDING BORDER" />

</RelativeLayout> 
```

**在 res->layout 文件夹中创建的 toast_background_color.xml 布局文件的代码。**

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android" >

 <stroke
    android:width="3dp"
    android:color="#ffffff" ></stroke>
<padding android:left="20dp" android:top="20dp"
    android:right="20dp" android:bottom="20dp" />
<corners android:radius="10dp" />
<gradient android:startColor="#ff000f"
    android:endColor="#ff0000"
    android:angle="-90"/>

</shape> 
```

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2018-01-10T11:51:29.003

//自定义吐司类，您可以根据需要显示自定义或默认吐司）

```
public class ToastMessage {
    private Context context;
    private static ToastMessage instance;

    /**
     * @param context
     */
    private ToastMessage(Context context) {
        this.context = context;
    }

    /**
     * @param context
     * @return
     */
    public synchronized static ToastMessage getInstance(Context context) {
        if (instance == null) {
            instance = new ToastMessage(context);
        }
        return instance;
    }

    /**
     * @param message
     */
    public void showLongMessage(String message) {
        Toast.makeText(context, message, Toast.LENGTH_SHORT).show();
    }

    /**
     * @param message
     */
    public void showSmallMessage(String message) {
        Toast.makeText(context, message, Toast.LENGTH_LONG).show();
    }

    /**
     * The Toast displayed via this method will display it for short period of time
     *
     * @param message
     */
    public void showLongCustomToast(String message) {
        LayoutInflater inflater = ((Activity) context).getLayoutInflater();
        View layout = inflater.inflate(R.layout.layout_custom_toast, (ViewGroup) ((Activity) context).findViewById(R.id.ll_toast));
        TextView msgTv = (TextView) layout.findViewById(R.id.tv_msg);
        msgTv.setText(message);
        Toast toast = new Toast(context);
        toast.setGravity(Gravity.FILL_HORIZONTAL | Gravity.BOTTOM, 0, 0);
        toast.setDuration(Toast.LENGTH_LONG);
        toast.setView(layout);
        toast.show();

    }

    /**
     * The toast displayed by this class will display it for long period of time
     *
     * @param message
     */
    public void showSmallCustomToast(String message) {

        LayoutInflater inflater = ((Activity) context).getLayoutInflater();
        View layout = inflater.inflate(R.layout.layout_custom_toast, (ViewGroup) ((Activity) context).findViewById(R.id.ll_toast));
        TextView msgTv = (TextView) layout.findViewById(R.id.tv_msg);
        msgTv.setText(message);
        Toast toast = new Toast(context);
        toast.setGravity(Gravity.FILL_HORIZONTAL | Gravity.BOTTOM, 0, 0);
        toast.setDuration(Toast.LENGTH_SHORT);
        toast.setView(layout);
        toast.show();
    }

} 
```

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2018-05-08T05:29:21.190

自定义吐司的简单方法，

```
private void MsgDisplay(String Msg, int Size, int Grav){
    Toast toast = Toast.makeText(this, Msg, Toast.LENGTH_LONG);
    TextView v = (TextView) toast.getView().findViewById(android.R.id.message);
    v.setTextColor(Color.rgb(241, 196, 15));
    v.setTextSize(Size);
    v.setGravity(Gravity.CENTER);
    v.setShadowLayer(1.5f, -1, 1, Color.BLACK);
    if(Grav == 1){
        toast.setGravity(Gravity.BOTTOM, 0, 120);
    }else{
        toast.setGravity(Gravity.BOTTOM, 0, 10);
    }
    toast.show();
} 
```

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2019-08-29T11:44:35.787

**对于所有 Kotlin 用户**

您可以创建一个扩展，如下所示：

```
fun FragmentActivity.showCustomToast(message : String,color : Int) {
 val toastView = findViewById<TextView>(R.id.toast_view)
 toastView.text = message
 toastView.visibility = View.VISIBLE
 toastView.setBackgroundColor(color)

 // create a daemon thread
 val timer = Timer("schedule", true)

 // schedule a single event
 timer.schedule(2000) {
    runOnUiThread { toastView.visibility = View.GONE }
 }
} 
```

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2020-07-21T13:12:15.133

使用这个名为[Toasty](https://github.com/GrenderG/Toasty)的库，我认为您有足够的灵活性通过以下方法制作定制的 toast -

```
Toasty.custom(yourContext, "I'm a custom Toast", yourIconDrawable, tintColor, duration, withIcon, 
shouldTint).show(); 
```

您还可以将*格式化文本*传递给**Toasty**，这是[代码片段](https://github.com/GrenderG/Toasty/blob/master/app/src/main/java/es/dmoral/toastysample/MainActivity.java#L98-L107)

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2021-09-30T12:10:32.983

> 自定义吐司工作代码

```
 public class Toaster {

    private Context context;
    private Font font;

    public Toaster(Context context) {
        this.context = context;

        font = new Font(context);
    }

    public void makeToast(String bread) {
        Toast.makeText(context, bread, Toast.LENGTH_SHORT).show();
    }

    public void makeLongToast(String bread) {
        Toast.makeText(context, bread, Toast.LENGTH_LONG).show();
    }

    public void makeCustomViewToast(String bread, ToastType toastType) {
        View toastView = ((Activity) context).getLayoutInflater().inflate(R.layout.toaster_toast_card_layout, null, false);
        CardView toastCardView = toastView.findViewById(R.id.toaster_toast_card_view);
        ImageView toastIcon = toastView.findViewById(R.id.toaster_toast_image_view);
        TextView toastTextView = toastView.findViewById(R.id.toaster_toast_text_view);

        int color = context.getResources().getColor(toastType.getColor());
        toastCardView.setCardBackgroundColor(color);

        toastTextView.setTypeface(font.saralaBold);
        toastTextView.setText(bread);

        Drawable icon = context.getResources().getDrawable(toastType.getIcon());
        toastIcon.setImageDrawable(icon);

        Toast toast = Toast.makeText(context, Text.EMPTY, Toast.LENGTH_LONG);
        toast.setGravity(Gravity.CENTER, 0, (int) (InterfaceUtil.getScreenHeight(context) * 0.25f));
        toast.setView(toastView);
        toast.show();
    }

} 
```

* * *

## 回答 #18

> 赞同：-1
> 
> 时间：2018-09-05T12:33:59.763

```
val inflater = layoutInflater
val container: ViewGroup = findViewById(R.id.custom_toast_container)
val layout: ViewGroup = inflater.inflate(R.layout.custom_toast, container)
val text: TextView = layout.findViewById(R.id.text)
text.text = "This is a custom toast"
with (Toast(applicationContext)) {
    setGravity(Gravity.CENTER_VERTICAL, 0, 0)
    duration = Toast.LENGTH_LONG
    view = layout
    show()
}

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:id="@+id/custom_toast_container"
              android:orientation="horizontal"
              android:layout_width="fill_parent"
              android:layout_height="fill_parent"
              android:padding="8dp"
              android:background="#DAAA"
              >
    <ImageView android:src="@drawable/droid"
               android:layout_width="wrap_content"
               android:layout_height="wrap_content"
               android:layout_marginRight="8dp"
               />
    <TextView android:id="@+id/text"
              android:layout_width="wrap_content"
              android:layout_height="wrap_content"
              android:textColor="#FFF"
              />
</LinearLayout> 
```

参考：[https ://developer.android.com/guide/topics/ui/notifiers/toasts](https://developer.android.com/guide/topics/ui/notifiers/toasts)

# html - 生成的 HTML 不会中断

> ID：11288479
> 
> 赞同：0
> 
> 时间：2012-07-02T06:06:12.900
> 
> 标签：html, sql, tags

我在 SQL 中有一个小例程，我每天将其用作计划作业，通过电子邮件将某些事件日志消息发送给我。

```
 DECLARE @CurrentDate DATETIME,
        @Body VARCHAR(MAX),
        @TableHead VARCHAR(MAX),
        @TableTail VARCHAR(MAX)
SET NOCOUNT ON;
SELECT @CurrentDate=DATEADD(dw, -5, GETDATE())      --Three weekdays back
SET @TableTail='</table></body></html>'
SET @TableHead = '<html><head>' +
                  '<style>' +
                  'td {border: solid black 1px;padding-left:5px;padding-right:5px;padding-top:1px;padding-bottom:1px;font-size:9pt;} ' +
                  '</style>' +
                  '</head>' +
                  '<body><table cellpadding=0 cellspacing=0 border=0>' +
                  '<tr bgcolor=#FFEFD8><td align=center><b>User Name</b></td>' + 
                  '<td align=center><b>Date</b></td>' + 
                  '<td align=center><b>Message</b></td></tr>';
SELECT @Body=(
        SELECT ELogUserName AS [TD],
                CONVERT(NVARCHAR(20),Elogdatetime,101) AS [TD],
                REPLACE(Elogmessage,CHAR(10)+CHAR(13),'<br />') AS [TD]
        FROM tblEventLog
        WHERE ELogDateTime > @CurrentDate AND ELogEventType = 3 AND ELogUsername <> 'jameccccccfer'
        ORDER BY ELogID DESC
        FOR XML RAW('tr'), Elements)

SELECT @Body = @TableHead + @Body + @TableTail

-- return output
INSERT INTO tblPendingMessages
    SELECT 
        'xxxxxxx@Gmail.com' AS Recipient,
        'CPAS Error Log' AS MessageSubject,
        NULL AS MessageCC,
        @Body AS MessageBody,
        @CurrentDate AS MessageGenerated,
        NULL AS MessageSent,
        NULL AS MessageUser,
        'HTML' AS MessageFormat 
```

此代码生成一个 HTML 字符串，如下所示：

```
<html><head><style>td {border: solid black 1px;padding-left:5px;padding-right:5px;padding-top:1px;padding-bottom:1px;font-size:9pt;} </style></head><body><table cellpadding=0 cellspacing=0 border=0><tr bgcolor=#FFEFD8><td align=center><b>User Name</b></td><td align=center><b>Date</b></td><td align=center><b>Message</b></td></tr><tr><TD>nfox</TD><TD>06/29/2012</TD><TD>Error Nbr 3075 - Syntax error (missing operator) in query expression *ProjectID=*.&#x0D;        --&gt; CPASProd.Form_frmWorkOrders.cbProjectID_AfterUpdate, #1, &#x0D; </TD></tr><tr><TD>nfox</TD><TD>06/29/2012</TD><TD>Total number of errors: 1&#x0D; 1\. Cannot append.  An object with that name already exists in the collection. (#3367)&#x0D; </TD></tr><tr><TD>nfox</TD><TD>06/29/2012</TD><TD>Total number of errors: 1&#x0D; 1\. Cannot append.  An object with that name already exists in the collection. (#3367)&#x0D; </TD></tr><tr><TD>nfox</TD><TD>06/29/2012</TD><TD>Total number of errors: 1&#x0D; 1\. Cannot append.  An object with that name already exists in the collection. (#3367)&#x0D; </TD></tr></table></body></html> 
```

不幸的是，当由 Outlook（或更糟，由 gmail Web 客户端...）呈现时，我得到的是 HTML 代码，而不是换行符。

```
("<br />") 
```

知道我做错了什么吗？

# python - python中是否可以有一个透明的图形窗口？

> ID：11288484
> 
> 赞同：1
> 
> 时间：2012-07-02T06:06:40.067
> 
> 标签：python, graphics

我不确定这是否可行，但我可以有一个完全透明的带有动画图形的窗口，以便我可以看到它后面的桌面吗？pygame中可能有什么东西吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:43:54.673

在此链接上有使用 Tkinter 和 wxPython 的方法：[http ://www.daniweb.com/software-development/python/threads/294803/tkinter-transparent-window](http://www.daniweb.com/software-development/python/threads/294803/tkinter-transparent-window)

我想你可以用 Pygame 使用的任何 GUI 组件来做到这一点，但你需要弄清楚这些组件到底是哪些。或者您可以将 Pygame 与 Tkinter 或 wxPython 一起使用。

# javascript - 窗口外部空？

> ID：11288485
> 
> 赞同：0
> 
> 时间：2012-07-02T06:06:46.877
> 
> 标签：javascript, internet-explorer, windows-7, window.external

当我想在 Internet Explorer 9 上使用 window.external 时，它始终为空。我想使用固定方法，但由于窗口外部为空而找不到方法。如果想知道什么是“固定”，您可以查看此链接。 [http://msdn.microsoft.com/en-us/library/gg131029(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/gg131029(v=vs.85).aspx) 任何机构都可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T20:38:06.710

在我的 IE9 typeof window.external 中返回“对象”，但我也没有固定方法。首先在这里检查您的 IE 版本与固定 api 的兼容性（它会告诉您是否需要升级） [http://ie.microsoft.com/testdrive/Browser/SitePinning/Default.html?o=1](http://ie.microsoft.com/testdrive/Browser/SitePinning/Default.html?o=1)

关于*window.external*，当您在应用程序中使用 IE 作为 WebBrowser 控件时，它通常指的是附加级别的 Api（托管场景）：

Window.external 允许访问由 Windows Internet Explorer 浏览器组件的主机应用程序提供的附加对象模型。

[http://msdn.microsoft.com/en-us/library/ms535246%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/ms535246%28v=vs.85%29.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-01T15:08:20.513

我遇到了这个问题。显然，这些方法`window.external`存在，但对 JavaScript 调查对象的方法“隐藏”。`window.external.somefuntion`如果您调用方法 ( ) 将始终显示为未定义，`window.external.somefunction()`那么代码将起作用。

可悲的是，这意味着安全调用方法的唯一方法`window.external`是在 try-catch 中调用方法。

# nhibernate - NHibernate 多对多“其他”列

> ID：11288493
> 
> 赞同：0
> 
> 时间：2012-07-02T06:07:35.747
> 
> 标签：nhibernate, architecture, fluent-nhibernate, nhibernate-mapping

我目前有 4 张桌子。

产品、类别、子类别、产品子类别。

Category 具有 OneToMany SubCategory 关系

Product 与 Category 具有 OneToOne 关系，与 SubCategory 具有 ZeroToMany 关系

所以表格看起来像这样

**产品表**

```
 Id     Name    CategoryId
-----------------------------
  1      P1      1
  2      P2      2 
```

**类别表**

```
 Id     Name
-----------------    
  1      Food    
  2      Travel 
```

**子类别表**

```
 Id     Name     CategoryId   
------------------------------
  1      Italian  1
  2      Thai     1 
```

**产品子类别表**

```
 Id     ProductId     SubCategoryId     Other
-------------------------------------------------------   
  1      1             1                 NULL
  2      1             2                 NULL
  3      1             NULL              Other Sub Cat 
```

目前，我将 ProductSubCategory 放在另一个类中，其中 Product 和 SubCategory 与它有 OneToMany 关系。

**产品类别**

```
public class Product
{
    public virtual int Id { get; set; }
    public virtual string Name { get; set; }
    public virtual Category Category { get; set; }
    public virtual ICollection<ProductSubCategory> SubCategories { get; set; }

    ...
} 
```

**子类别类**

```
public class SubCategory
{
    public virtual int Id { get; set; }
    public virtual string Name { get; set; }
    public virtual Category Category { get; set; }
    public virtual ICollection<ProductSubCategory> Products { get; set; }

    ...
} 
```

**ProductSubCategory 类**

```
public class ProductSubCategory
{
    public virtual Product Product { get; set; }
    public virtual SubCategory SubCategory { get; set; }
    public virtual string Other { get; set; }

    ...
} 
```

我想以这种方式访问​​它：“Product.SubCategories[x].Name”，它将返回子类别名称或“其他”名称

目前要获得名称，我必须输入“Product.SubCategories[x].SubCategory.Name”并获得“其他”名称，我必须输入“Product.SubCategories[x].Other”

有没有更好的方法？

谢谢！

编辑：修正错字

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T12:58:01.883

`ProductSubCategory`如果您想输入更少的内容，只需添加投影属性即可:-)

```
public virtual string Name
{
    get { return SubCategory.Name; }
} 
```

# db2 - 找不到或加载已注册的 .Net Framework 数据提供程序：VS2008

> ID：11288500
> 
> 赞同：1
> 
> 时间：2012-07-02T06:08:20.153
> 
> 标签：db2, dataprovider, .net-3.0

我在 VS 2008 上使用 Target Framework 3.0 运行应用程序并收到此错误：无法找到或加载已注册的 .Net Framework 数据提供程序

我的系统上安装了 IBM Data Server Client v9.5.302.513。我的应用程序配置的连接字符串为

```
<add name ="TESTDB" connectionString="Database=ABCD; Server=WXYZ;UID=LMNO;Pwd=PQRS;" providerName="IBM.Data.DB2"/> 
```

有两个 machine.config 文件

*   在路径 C:\Windows\Microsoft.Net\Framework\v2.0.50727\CONFIG 和
*   AT 路径 C:\Windows\Microsoft.Net\Framework64\v2.0.50727\CONFIG

我已经输入了以下条目

```
<add name="IBM DB2 .NET Data Provider" invariant="IBM.Data.DB2" description="IBM DB2   Data Provider for .NET Framework 2.0" type="IBM.Data.DB2.DB2Factory, IBM.Data.DB2, Version=9.0.0.2, Culture=neutral, PublicKeyToken=7c307b91aa13d208" />

<add name="IBM DB2 .NET Data Provider 9.5.3" invariant="IBM.Data.DB2.9.5.3" description="IBM DB2 Data Provider 9.5.3 for .NET Framework 2.0" type="IBM.Data.DB2.DB2Factory, IBM.Data.DB2.9.5.3, Version=9.5.3.2, Culture=neutral, PublicKeyToken=7c307b91aa13d208" /> 
```

`<DbProviderFactories>`在这两个文件中的标签下

我可以在 C:\Windows\assembly 中看到以下程序集

*   IBM.Data.DB2 v9.0.0.1
*   IBM.Data.DB2 v9.0.0.2
*   IBM.Data.DB2.Entity v9.0.0.3

我已经看到与 MySql 等类似错误相关的其他帖子，但无法解决问题。

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T14:25:56.653

尝试从 add -> type 属性中删除版本号、文化和公钥令牌条目

# drupal-7 - 如何在 drupal7 中为经销商创建注册表单

> ID：11288502
> 
> 赞同：0
> 
> 时间：2012-07-02T06:08:29.463
> 
> 标签：drupal-7

我想在我的drupal网站上为经销商创建一个注册表单。任何人都可以建议创建一个注册表单的最佳方法，其中“经销商”可以注册详细信息、地址、联系方式等，并且在站点管理员批准后，用户名/密码由网站管理员发布。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T07:42:17.163

为什么不使用用户注册表单本身？您可以在配置->人员->帐户设置->管理字段下将字段添加到用户配置文件，并将它们标记为包含在新用户表单中。然后，您可以将帐户设置为需要管理员激活。这样，用户可以创建一个新帐户，但在管理员批准之前它不会处于活动状态。

我还将创建一个名为“dealer”的用户角色，并赋予该角色您认为合适的权限，并在您批准经销商时将该角色分配给经销商。

希望这能让你开始。

# qt - 如何使用 QTreeWidget 中的项目点击信号调用 myslot

> ID：11288507
> 
> 赞同：0
> 
> 时间：2012-07-02T06:08:52.570
> 
> 标签：qt, qtreewidget

想要使用以下代码为 QTreeWidget 项触发“itemClicked”事件。

```
connect(aTreeWidget,SIGNAL(itemClicked(QTreeWidgetItem*,int)),this,SLOT(CallM(QTreeWidgetItem* item, int))); 
```

但是没有调用CallM插槽，不知道这里有什么问题！？没有语法或构建错误，我使用的是 Qt 4.7.1/Win 7。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T06:30:48.257

从`QObject::connect(....)`文档

> 信号和槽参数不能包含任何变量名，只能包含类型。

从插槽参数中删除“项目”字样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-11T11:19:53.360

我错过了在我的课堂上添加 Q_OBJECT，添加后效果很好

# ajax - 事件不适用于动态创建的元素

> ID：11288516
> 
> 赞同：5
> 
> 时间：2012-07-02T06:10:00.540
> 
> 标签：ajax, dynamic, event-handling, jquery

我正在努力弄清楚为什么 mouseover 事件不能与 .on 处理程序一起使用，该处理程序是从 ajax 动态创建的元素。似乎唯一可行的是带有 .live 的代码，但我知道它已被弃用。

```
$(".dropdown ul li").live("mouseover", function() {
alert('mouseover works');
}); 
```

但是，当我尝试使用 .on 时，它不起作用 - 无论我尝试什么变体（document.ready、.mouseover 等）

```
$(".dropdown ul li").on("mouseover", function() {
alert('mouseover works');
}); 
```

事件处理程序位于代码的底部，因此它们最后执行。任何人都知道我做错了什么？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-07-02T06:10:59.737

使用具有**动态事件委托**[http://api.jquery.com/on/](http://api.jquery.com/on/)`.on`的新生成的元素- 您的主要选择器是现有的 **静态父**项：

 ****```
$(".static-parent").on("event1 event2", ".dynamic-child", function() { 
```

或者在你的情况下：

```
$(".dropdown").on("mouseover", "li", function() {
   alert('mouseover works!!!!!!!!!');
}); 
```

> 委托事件的优点是它们可以处理来自以后添加到文档的后代元素的事件。通过选择在附加委托事件处理程序时保证存在的元素，您可以使用委托事件来避免频繁附加和删除事件处理程序的需要。例如，该元素可以是模型-视图-控制器设计中视图的容器元素，或者如果事件处理程序想要监视文档中的所有冒泡事件，则可以是文档。在加载任何其他 HTML 之前，文档元素在文档的头部是可用的，因此在此处附加事件是安全的，而无需等待文档准备好。

还要确保使用**DOM 就绪**功能

```
jQuery(function($) { // DOM is now ready and $ alias secured

    $(".dropdown").on("mouseover", "li", function() {
       alert('mouseover works!!!!!!!!!');
    });

}); 
```****

# android - 在android中查找USB主机路径？

> ID：11288518
> 
> 赞同：1
> 
> 时间：2012-07-02T06:10:22.107
> 
> 标签：android

我需要以编程方式连接和断开 USB，即在 android 设备中，我已经通过 USB 电缆连接了 USB 设备。我需要将文件从 android 设备传输到 USB 设备，应用程序将监视特定文件夹并将文件从该文件夹传输到 USB 驱动器。我需要在文件传输后断开 USB 连接，并在需要时连接 USB。

请用代码指导我。

提前致谢....

# java - Java EE 身份验证，基本或表单和证书身份验证

> ID：11288521
> 
> 赞同：0
> 
> 时间：2012-07-02T06:10:30.130
> 
> 标签：java, authentication, jakarta-ee, glassfish, certificate

我正在对部署在最新 Glassfish 服务器 (3.1.2) 上的多模块应用程序使用标准容器身份验证。

我曾经对主 Web 模块进行表单身份验证，对包含其余 Web 服务的模块进行 http 基本身份验证。

现在，对于这两个模块，我需要能够执行证书身份验证，但这只是作为一个选项。一些客户端仍然需要能够通过表单/基本身份验证登录。

我尝试使用 JSR-196 拦截反向代理转发的证书身份验证数据。这里的问题是，在 Glassfish 中，如果我使用 JSR-196，我似乎需要重新实现容器提供的一些帮助：在会话中存储身份验证、SSO，甚至是表单/基本身份验证......似乎是 Glassfish 方式或我的方式，但我想要一个混合。因此，我的 JSR-196 模块现在需要处理证书、基本和表单身份验证以及持久性机制。看起来矫枉过正。

我尝试了一种更天真的方法，即使用表单身份验证并让我的反向代理将身份验证数据发送到 j_security_check。它适用于第一个模块，但过于特定于实现，看起来真的很像 hack。

我还想象在另一个模块中直接在应用服务器上（没有反向代理）进行证书身份验证，并在通过身份验证后重定向到原始模块，使用 sso 作为胶水。但是 glassfish 上的 sso 在具有不同身份验证类型的模块之间不起作用。

如果可能的话，我宁愿使用一些标准的、优雅的东西。另外，我希望我的应用程序使用 Java EE 安全性，而不是某些 3rd 方库，无论是来自 Spring 还是其他任何东西。

在 Glassfish 上实现此功能的选项有哪些？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-27T06:24:35.670

最后，我使用以下组合实现了它：

*   一个 JSR-196 模块，可以将身份验证委托给
*   j_security_check 样式登录
*   http基本，如果提供
*   由其他选项保存的会话存储令牌
*   客户端证书身份验证，在某些情况下

反向代理不用于 ssl。我知道潜在的问题，但我对此感到满意，这是我发现访问我想要的所有证书数据的最佳方式。其他选项涉及特定于实现的细节，这更基于标准。

# devexpress - DevExpress LayoutControl 鼠标滚轮滚动

> ID：11288529
> 
> 赞同：1
> 
> 时间：2012-07-02T06:11:13.603
> 
> 标签：devexpress

我创建了我的第一个 (BIG) LayoutControl，我对它的鼠标滚轮滚动处理感到困惑。当鼠标位于控件上方时，控件似乎没有滚动。据我所知，没有办法集中注意力。

当我将 TextEdit 控件聚焦在 LayoutControl 上时，鼠标滚轮滚动适用于整个控件。这当然不适用于以自己的方式处理鼠标滚轮滚动的 LookupEdit 控件。

我已经尝试过[http://social.msdn.microsoft.com/forums/en-US/winforms/thread/eb922ed2-1036-41ca-bd15-49daed7b637c/](http://social.msdn.microsoft.com/forums/en-US/winforms/thread/eb922ed2-1036-41ca-bd15-49daed7b637c/)但所有这些都是在鼠标指针位于时 LookupEdit 控件中的滚动值在它们正上方，在 LayoutControl 中滚动没有任何反应...

有没有办法在 LayoutControl 上启用非聚焦鼠标滚轮滚动？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T14:50:35.237

在 DevExpress 问答中找到答案

[http://www.devexpress.com/Support/Center/p/K18512.aspx](http://www.devexpress.com/Support/Center/p/K18512.aspx)

# c++ - c++自定义异常添加到方法给出错误

> ID：11288533
> 
> 赞同：1
> 
> 时间：2012-07-02T06:11:34.293
> 
> 标签：c++, exception, inheritance

我需要我的方法来抛出自定义异常，但它一直给我这个错误：
`error C2059: syntax error : 'string'`

我正在阅读以下链接，但它不能解决我的问题：http:
[//msdn.microsoft.com/en-us/library/t8xe60cf%28VS.80%29.aspx](http://msdn.microsoft.com/en-us/library/t8xe60cf%28VS.80%29.aspx)

这是我的代码：

```
#include <exception>
#include <stdexcept>
#include <string>
#include "Log.h"

LOG_USE()

class Exception : public std::exception 
{
    public:
        explicit Exception(std::string msg)
            : message(msg)
        {}
        ~Exception()
        {}

        virtual const char* what() const  throw() 
        {
            LOG_MSG(message) // write to log file
            return message.c_str();
        }

    private:
        std::string message;
};

#endif 
```

在我的应用程序的某个地方，我有如下所示的方法：

```
.....
....
void view::setDisplayView(ViewMode mode) throw(Exception("setDisplayView error"))
{
    ;
}
....
.... 
```

我在这里做错了什么？
我在 32 位 Windows XP 上使用 Visual Studio 2008。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-02T06:18:38.950

您没有正确使用异常规范。that `throw`，在 的声明之后`setDisplayView`，应该只包含一个类型（在你的情况下，`Exception`），而不是一个对象（这是你用 that 得到的`Exception("setDisplayView error")`）。

现在，话虽如此，异常规范在 C++11 中已被弃用，并且以前未被认为是有用的特性。最好忽略它`throw(Exception("setDisplayView error"))`。仅当您不打算抛出任何东西时才使用异常规范。在这种情况下，要使用的新语法将是[nothrow](http://www.cplusplus.com/reference/std/new/nothrow/)。

编辑：

要表示已从 抛出异常`setDisplayView`，您必须在创建异常时将该信息传递给异常 -

```
void view::setDisplayView(ViewMode mode)
{
     if (badThingHappened())
          throw Exception("setDisplayView error");
} 
```

有各种非标准技术可以在捕获异常时找到异常的来源，您可以在[此处](https://stackoverflow.com/questions/2443135/how-do-i-find-where-an-exception-was-thrown-in-c)找到一些。使用异常规范不是其中之一......

# asp.net-mvc - MVC如何将元数据添加到类

> ID：11288535
> 
> 赞同：0
> 
> 时间：2012-07-02T06:11:40.037
> 
> 标签：asp.net-mvc, asp.net-mvc-3

我使用 MVC 3 和 EF 4.3.1。

我用 POCO 创建了我的类，我正在使用元数据在我的属性上添加 DataAnnotations。

我正在使用 Scaffolding EF 生成控件和视图。

我的问题：

*   测试网站时，OptionId（是 PK IDENTITY）显示为 TextField。我需要隐藏此属性并确保该值是自动创建的。

*   [StringLength(256)] 不起作用，并且在视图中没有 ClientValidation

我在这里做错了什么？

感谢您对此的帮助

```
 using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Web;
    using System.ComponentModel.DataAnnotations;
    using System.Web.Mvc;

    namespace MyProject.Models
    {
        [MetadataType(typeof(ReOptionMetaData))]
        public partial class ReOption
        {
            private class ReOptionMetaData
            {
                [Key]
                public int OptionId { get; set; }
                [Required]
                [StringLength(64)]
                public string Name { get; set; }
                public string Value { get; set; }
                [Required]
                [StringLength(256)]
                public string Description { get; set; }
                [StringLength(256)]
                public string NoteInternal { get; set; }    
            }
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T06:17:45.100

> 测试网站时，OptionId（是 PK IDENTITY）显示为 TextField。我需要隐藏此属性并确保该值是自动创建的。

在元数据中，您可以使用`HiuddenInput`将生成隐藏输入而不是文本字段的属性：

```
[Key]
[HiddenInput(DisplayValue = false)]
public int OptionId { get; set; } 
```

> [StringLength(256)] 不起作用，并且在视图中没有 ClientValidation

确保您已将脚本包含在您的页面中`jquery.validate.js`。`jquery.validate.unobtrusive.js`

```
<script src="@Url.Content("~/Scripts/jquery.validate.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.js")" type="text/javascript"></script> 
```

并且您在 web.config 中启用了不显眼的客户端脚本验证：

```
<appSettings>
    <add key="ClientValidationEnabled" value="true"/>
    ...
</appSettings> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T06:16:08.723

您可以使用[ScaffoldColumnAttribute](http://msdn.microsoft.com/en-us/library/system.componentmodel.dataannotations.scaffoldcolumnattribute.aspx)不为 OptionId 列搭建基架。

# c# - 上传 excel 文件时，获取 Oledb 异常 - 定义的字段太多？

> ID：11288536
> 
> 赞同：1
> 
> 时间：2012-07-02T06:12:00.667
> 
> 标签：c#, asp.net, excel, file-upload, export-to-excel

我正在上传一个有 5 张工作表的 Excel。上传时出现错误“定义的字段过多”

```
public DataSet ExportQCCheckData(string filepath)
{
    string path = filepath;
    OleDbConnection con;
    System.Data.DataTable dt = null;
    //Connection string for oledb
    string conn = "Provider=Microsoft.Jet.OLEDB.4.0; Data Source=" + path + "; Extended Properties='Excel 8.0;IMEX=1;'";
    con = new OleDbConnection(conn);
    try
    {
        con.Open();
        //get the sheet name in to a table

        dt = con.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, null);
        String[] excelsheets = new String[dt.Rows.Count];
        int i = 0;
        //using foreach get the sheet name in a string array called excelsheets[]
        foreach (DataRow dr in dt.Rows)
        {
            excelsheets[i] = dr["TABLE_NAME"].ToString();
            i++;
        }
        DataSet ds = new DataSet();
        int cnt = 0;
        foreach (string temp in excelsheets)
        {
            if (temp == "BASIC$" || temp == "SHORT$" || temp == "CLASS$" || temp == "MEMO$" || temp == "SOURCE$")
            {
                string query = "select * from [" + temp + "]";
                OleDbDataAdapter adp = new OleDbDataAdapter(query, con);
                adp.Fill(ds, temp);
                cnt++;
            }
        }
        if (cnt != 5)
        {
            ds = null;
        }
        return ds;
    }
    catch (Exception ex)
    {
        Console.Write(ex.Message);
        DataSet ds = null;
        return ds;
    }
    finally
    {
        con.Close();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:43:59.853

错误属于 excel 表上的字段数，请添加 excel 表。您需要验证 excel 表不包含很多列

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T11:21:32.303

这个问题是由于 excel 包含很多列。所以我这样做的意思是，只需选择所有空单元格

> 控制 -

然后我上传了excel表，它上传了。

# ruby-on-rails - 使用 mongod 在 Rails 中将数据库表作为模板

> ID：11288540
> 
> 赞同：0
> 
> 时间：2012-07-02T06:12:21.803
> 
> 标签：ruby-on-rails, mongodb

我有一个组织表，其中 embeds_many organization_memberships 具有不同的字段。我想从数据库中捕获每个组织成员数据作为模板，并在用户修改后，我想将这些详细信息作为模板保存在用户表中。

```
{
 "org_name": "xxxxx",
 "_id": {
  "$oid": "4fed411179216d10f000000c"
 },
 "organization_memberships": [
   {
    "family_currently_enrolled": "Yes",
    "_id": {
     "$oid": "4fed411179216d10f0000007"
    },
    "org_id": "KL-NWK-2",
    "age_group_and_school_days": "Two-year-old Tuesday/Thursday",
    "active_member_of_ppc": "Yes"
   },
   {
    "ssssssss": "Yes",
    "_id": {
     "$oid": "4fed411179216d10f000000a"
    },
    "org_id": "KL-NWK-1",
    "eeeeeee": "Two-year-old Tuesday/Thursday",
    "ddddddd": "Yes",
    "ttttt": "Two-year-old Tuesday/Thursday",
    "uuuuuuu": "Yes"
   }
  ],
} 
```

有没有人想建议我，我们怎样才能做到这一点？

# snmp - 代理文件夹中不存在 mibgroup 文件夹

> ID：11288547
> 
> 赞同：1
> 
> 时间：2012-07-02T06:13:04.420
> 
> 标签：snmp, net-snmp, mib

在将私有 MIB 添加到代理时，我创建了 .c 和 .h 文件，它们应该保存在 agent/mibgroup 文件夹中。但在我的情况下，mibgroup 文件夹不存在，所以我创建了它并将我的 .c 和 .h 文件保存在其中。之后我执行

```
./configure --with-mib-modules="dot1qVlanStaticRowStatus" 
```

这给了我这个错误信息：

```
bash: ./configure: No such file or directory 
```

这意味着配置脚本不存在。我的问题是，我从哪里得到这个脚本或 mibgroup 文件夹来执行？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-14T19:58:35.900

您需要先添加`-M+/mib_dir/`到您`snmpconf`的 MIB 模块，然后才能显式包含您的 MIB 模块。

例子：

`snmpwalk -DlinkTable -v2c -M+../mib/ -m+ALL -c pub localhost:1161 .1.3`

# php - php java如何创建一个延迟2秒的弹出登录表单

> ID：11288549
> 
> 赞同：0
> 
> 时间：2012-07-02T06:13:24.090
> 
> 标签：php, javascript, jquery, forms, popup

我想在显示搜索结果后创建一个弹出表单。由于我对 javascript 知之甚少，如何创建一个弹出表单，在显示结果后会延迟 2 秒？请帮我

**当前使用形式**

```
 <form method="post" action="<?php echo $_SERVER['PHP_SELF']; ?>">
    <table class="form_font" align="center">
    <tr>
      <td class="title" colspan="2">Log in<br /> <hr style="width:100%; background-color:#000000"></td>
    </tr>
    <tr>
      <td colspan="2"><?php echo $error_MSG;?></td>
    </tr>
    <tr>
      <td colspan="2">Don't have an account? <span class="form_font2"><a href="rates_signup.php">Create one.</a></span></td>
    </tr>
    <tr>
      <td align="right">Email Address:</td><td><input style="width:180px" type="text" name="email"/></td>
    </tr>
    <tr>
      <td align="right">Password:</td><td><input style="width:180px" type="password" name="password"/></td>
    </tr>
    <tr>
      <td></td><td align="right">
      <table class="form_font">
      <tr>
      <td><input type="checkbox" name="remember" value="remember"/></td><td>Remember me (10days)</td>
      </tr>
      </table>
      </td>
    </tr>
    <tr>
      <td></td><td align="right"><input type="submit" class="submitStyle" name="login" value="login"/><input type="submit" name="email_newpass" value="E-mail new password"></td>
    </tr>
    </table>
    </form> 
```

**我如何将其更改为：** ![在此处输入图像描述](../Images/9aa5c2de97850f427dc44a417eddfca1.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T11:32:58.070

我在您的图像中看到的似乎是一个模态窗口。请参阅： jquery-UI 扩展的[模态形式](http://jqueryui.com/demos/dialog/#modal-form)。

我在 jsfiddle 上创建了一个[示例](http://jsfiddle.net/ivan/6Cfu2/)，它可以工作但有一些 CSS 问题（可能是 Jsfiddle，我是我的代码 :)

2秒后模态窗口的触发为：

```
 setTimeout( function() {
  $( "#dialog-form" ).dialog( "open" );
}, 2000 ); 
```

正如@Interfector 所建议的那样

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T07:00:08.237

```
<script>
  var displayPopUp = function() {
    setTimeout( function() {
      //This is the part where you display your pop-up
    }, 2000 );
  };
  document.getElementsByTagName( 'body' )[ 0 ].addEventListener( 'load', displayPopUp );
</script> 
```

该脚本的作用是创建一个函数，该函数在加载`displayPopUp`后被调用。`body`该函数创建一个将在 2 秒后执行的计时器。

# mysql - Windows恢复上的mysql企业备份

> ID：11288553
> 
> 赞同：-2
> 
> 时间：2012-07-02T06:13:36.867
> 
> 标签：mysql

我正在使用 MYSQL 企业备份恢复 MYSQL 数据库。目录创建成功，但恢复命令不起作用。以下是我尝试过的命令：

```
C:\Program Files\MySQL\MySQL Enterprise Backup 3.7>mysqlbackup --defaults-file="D:\DB_backup1\mysql_backup\2012-06-13_15-38-56\backup-my.cnf" 
--datadir=C:\Program Files\MySQL\MySQL Server 5.5\data\mysql --backup-dir=D:\DB_backup1\mysql_backup\2012-06-13_15-38-56 copy-back

MySQL Enterprise Backup version 3.7.1 [Tue 03/20/2012 ]
Copyright (c) 2003, 2012, Oracle and/or its affiliates. All Rights Reserved.

INFO: Starting with following command line ...
 mysqlbackup
        --defaults-file=D:\DB_backup1\mysql_backup\2012-06-13_15-38-56\backup-my.cnf
        --datadir=C:\Program Files\MySQL\MySQL Server 5.5\data\mysql
        --backup-dir=D:\DB_backup1\mysql_backup\2012-06-13_15-38-56 copy-back

Error: Found extraneous commands at the end.
Use --help option for usage description.

C:\Program Files\MySQL\MySQL Enterprise Backup 3.7> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T09:05:50.667

终于能够恢复数据库了。以下是对我有用的 mysql 企业备份命令，它需要更改 mysql 安装目录中的 my.ini 文件。

mysqlbackup
--defaults-file=H:\db_backup_from_qa\mysql_backup\2012-06-13_15-38-56\backup-my.cnf
--backup-dir=H:\db_backup_from_qa\mysql_backup\2012-06-13_15-38- 56
--datadir=H:\mysql\data 复制回

参数值：
--defaults-file=H:\db_backup_from_qa\mysql_backup\2012-06-13_15-38-56\backup-my.cnf，这是在准备恢复备份时创建的 .cnf 文件的路径。
--backup-dir=H:\db_backup_from_qa\mysql_backup\2012-06-13_15-38-56，这是名为data的目录所在的路径，它的|| 到backup-my.cnf
--datadir=H:\mysql\data copy-back，这是mysql安装中数据目录的路径。

现在最重要的是`datadir=H:\mysql\data`在mysql安装中的my.ini中注释条目，一旦我改变了这个，我就能够恢复数据库。

但是仍然存在一个问题，我现在无法启动 mysql，出现错误 1067。

终于找到了错误1067的解决方法。

重命名2个日志文件，不要删除，重启mysql服务。

# java - 锁定上传的物理位置文件存储

> ID：11288554
> 
> 赞同：1
> 
> 时间：2012-07-02T06:13:45.027
> 
> 标签：java, servlets, file-upload

需要锁定上传的物理位置文件存储。在服务器上，网络管理员可以访问存储的文件。需要锁定文件夹，以便系统以外的人无法访问该文件夹。

我可以使用特权锁定文件夹，但不允许使用 servlet 上传文件。

有人知道吗？如何实现文件夹的安全性？除了数据库存储还有其他解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:46:26.803

使用文件系统的安全措施来执行此操作。例如，在 Linux 上，创建一个组，并仅授予该组关于您的上传文件夹的 r/w 访问权限。使用属于该组成员的用户运行您的 servlet 容器。

# ios - 视图加载后，链表的 START 变量失去其值

> ID：11288556
> 
> 赞同：0
> 
> 时间：2012-07-02T06:14:28.147
> 
> 标签：ios, xcode

我为它制作了一个链表和一个全局起始变量。我试图从另一个类中的起始节点访问相同的链表，但在该`viewDidLoad`方法之后它的值丢失了。从`viewDidLoad`我能够遍历列表但不能从其他方法..我猜它`autoreleasepool`在起作用我怎样才能保留起始指针的起始值？节点结构是

```
struct Movenode{
    NSMutableString *comment;
    NSMutableString *move;
    struct Movenode *variationLink;
    struct Movenode *nextLink;
    struct Movenode *goBack;
};

//viewDidLoad  Metod
- (void)viewDidLoad
{
    [super viewDidLoad];

    myNode=START;
    While(myNode!=NULL)
    {
      NSLog(@"%@",myNode->move);
      myNode=myNode->nextLink;
    }
//it works fine here
}

-(void)otherMethod
{

myOtherNode=START;
while(myOtherNode!=NULL)
{
NSLog(@"%@",myOtherNode->move);//this line will give bad access there is no value in move.
myOtherNode=myOtherNode->nextLink;
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T06:57:48.187

通过我使用类的 1.insted 结构解决了这个问题。2.我在应用程序委托中声明了 START 变量。

使用类允许我在其 objc 上调用保留我现在可以很好地从任何地方访问链接列表

感谢你

# java - 如何判断表中是否存在行？

> ID：11288557
> 
> 赞同：6
> 
> 时间：2012-07-02T06:14:33.633
> 
> 标签：java, sql, jdbc

例如：

```
select name from person where id=2; 
```

我想知道这一行是否存在，并根据它的存在执行某项任务。我想使用 jdbc 来做到这一点。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-07-02T06:15:03.223

用于[`PreparedStatement`](http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html)调用此选择查询，

成功执行查询后，您将[`ResultSet`](http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html)返回一个实例，您可以通过调用来检查[`next()`](http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html#next%28%29)它是否返回 true，这意味着选择了一行

```
if(resultSet.next()){
   //yes exist
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-02T06:19:15.933

```
 Connection conn = DriverManager.getConnection(url , databaseUserName, databasePassword);
            Statement stmt = conn.createStatement();
            ResultSet result = null;           
            result = stmt.executeQuery("select name from person where id=2;");
            if(!result.isBeforeFirst()){
                System.out.println("No Data Found"); //data not exist
            }
           else{
              // data exist
              } 
```

如果光标在第一行之前，isBeforeFirst() 返回 true；如果光标位于任何其他位置或结果集不包含任何行，则返回 false

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-02T06:20:07.020

**ResultSet**中没有**hasNext()**方法。**next()**方法将光标移动到下一行，如果有行则返回 true。

 ****```
if(resultSet.next()){
  //do something

}
else{
  //no next row found

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-11-20T18:30:16.237

您还可以使用 JdbcTemplate.queryForList[如果没有行则返回一个空列表。](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html#queryForList-java.lang.String-)

```
db.queryForList(sql, params).isEmpty(); 
```****

# mysql - 错误 2005 (HY000): 未知的 MySQL 服务器主机 '[us-cdbr-azure-sat-02.cloudapp.net]' (0)

> ID：11288558
> 
> 赞同：2
> 
> 时间：2012-07-02T06:14:40.283
> 
> 标签：mysql, azure

我一般是 php、mysql、azure 和 web 编程的新手，所以请原谅我的知识贫乏。

当我尝试使用以下命令连接到 azure 上的远程 mysql 数据库时：

```
mysql -h[us-cdbr-azure-sat-02.cloudapp.net] -u[myAzureUSer] -p[myPassword] -D[myDB] 
```

我收到以下错误：

```
ERROR 2005 (HY000): Unknown MySQL server host '[us-cdbr-azure-sat-02.cloudapp.net]' (0) 
```

知道为什么我会得到那个吗？我在我的 Windows 7 本地机器上安装了 wamp。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:36:00.637

您`[` `]`在不属于它们的地方使用方括号 ( )。摆脱他们。

# ruby - 如何在 Ruby 中将数据库结果保存为 CSV

> ID：11288561
> 
> 赞同：0
> 
> 时间：2012-07-02T06:15:02.450
> 
> 标签：ruby, csv

我从 MySQL 返回查询结果，我需要将它们附加到 csv 文件。我可以检索数据并成功显示，但无法将其写入 csv。到目前为止，这是我的 Ruby。

```
#! /usr/bin/ruby

require 'mysql'
require 'csv'

# variables
file_path = '/Users/pierce/tmp/'

# need mysql queries here / use mysql2 calls
test_db = Mysql.new("localhost", "root", "", "db")

series_1_results = test_db.query("SELECT 'Impressions' AS label_imp,FORMAT(sum(impressions),',') AS impressions FROM table ")

series_1_results.each_hash do |f|
  puts "#{f['label_imp']}"",\"""#{f['impressions']}""\""
end 
```

最后一条语句给出了正确的结果：Impressions,"34,017"。当我删除它并在下面包含 CSV.open 语句时，我收到以下错误。第 87 行开始：csv <<

```
CSV.open("#{file_path}"'test_file.csv', "wb") do |csv|
    series_1_results.each_hash do |s1|
      csv << ["#{s1['label_imp']}","#{s1['impressions']}"]
    end
end

test_csv.rb:87:in `[]': can't convert String into Integer (TypeError) 
```

我正在运行 Ruby 1.9.2，感谢您的任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:30:48.830

使用 mysql gem（mysql2 不同），您只能使用一次遍历 mysql 结果集`each_hash`：在一行被使用后，mysql 不再将其返回给您，因为它认为您已经完成了它。您的第一次调用会`each_hash`消耗所有行，因此当您第二次遍历它时，没有剩余的行并且您没有得到任何输出。

如果您删除您`puts`的输出版本，它应该可以工作

# java - 有什么方法可以在 Java 中使用 Google api 获取最新消息

> ID：11288567
> 
> 赞同：-1
> 
> 时间：2012-07-02T06:15:39.130
> 
> 标签：java, feed

我想创建一个简单的网络应用程序，它将包含来自体育或电影的所有最新消息。

但是我对这种方法感到困惑，谁能告诉我有没有办法在java中使用google api获取最新消息，或者有没有其他方法可以使用java获取最新消息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-22T10:21:28.863

您可以使用[它](http://www.feedzilla.com)来获取 Web 应用程序中的最新消息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T07:01:31.887

[Google在此处](http://support.google.com/news/bin/answer.py?hl=en&answer=59255)提供 RSS 提要（用于非商业用途）。[然后您可以使用此处](http://www.vogella.com/articles/RSSFeed/article.html)的代码创建简单的应用程序（如果您想显式创建 Web 应用程序）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T06:43:09.753

我认为你可以使用`Network News Transfer Protocol(NNTP)`.

# c - 使用 opencv 将 CIE L*a*b* 中的白色表示为 RGB 转换

> ID：11288568
> 
> 赞同：2
> 
> 时间：2012-07-02T06:15:42.743
> 
> 标签：c, opencv, rgb, color-space

我正在将 opencv 用于某个图像处理代码。我需要从某张图片中提取颜色层。所以我要做的是保持像素具有一定的值，并将剩余的像素设置为背景颜色（在这种情况下为白色）。对于某些问题，我必须在 CIE-L*a*b* 颜色空间中执行整个操作。当我将上面的图像转换为 RGB 时出现问题，使用`cvCvtColor()`背景不再保持白色。我尝试了不同的排列和组合值，但它要么变成红色或蓝色，要么变成任何东西，但不是纯白色。

我什至用油漆（只是白色）制作了一张图片，并将其转换为 L*a*b* 空间并将值打印在文本文件中。这是代码

```
IplImage *image, *lab;
uchar *data;
FILE *fp;
int i, j;
image = cvLoadImage( "white.png", CV_LOAD_IMAGE_UNCHANGED);
lab = cvCreateImage(cvSize(image->width,image->height), IPL_DEPTH_8U, 3);
cvCvtColor(image, lab, CV_BGR2Lab);
data = (uchar*)lab->imageData;
fp= fopen("white.txt", "w");
for(i=0; i<lab->height; i++)
         for(j=0; j<lab->width; j++)
                  fprintf(fp, "L = %d, a = %d, b = %d\n", data[i*lab->widthStep + j*lab->nChannels +0], data[i*lab->widthStep + j*lab->nChannels +0], data[i*lab->widthStep + j*lab->nChannels +0]); 
```

它显示所有三个值都是 255。但是当我将所需程序中的像素值设置为它时，它会变红。

这是设置像素值的代码片段

```
image = cvLoadImage( "pic11.png", CV_LOAD_IMAGE_UNCHANGED);
cvCvtColor(image, lab, CV_BGR2Lab);

copy = cvCreateImage(cvSize(lab->width,lab->height), IPL_DEPTH_8U, 3);
cvCopy(lab, copy, NULL);
data2 = (uchar*)copy->imageData;    

copied = cvCreateImage(cvSize(copy->width,copy->height), IPL_DEPTH_8U, 3);
data = (uchar*)copied->imageData;

for(i=x; i<copy->height; i++)
          for(j=y; j<copy->width; j++)
          {        
                   if(data2[i*copy->widthStep + j*copy->nChannels + 0] == r &&
                      data2[i*copy->widthStep + j*copy->nChannels + 1] == g &&
                      data2[i*copy->widthStep + j*copy->nChannels + 2] == b)
                   {
                           data[i*copy->widthStep + j*copy->nChannels + 0] = r;
                           data[i*copy->widthStep + j*copy->nChannels + 1] = g;
                           data[i*copy->widthStep + j*copy->nChannels + 2] = b;
                   }
                   else
                   {
                       data[i*copy->widthStep + j*copy->nChannels + 0] = 255;
                       data[i*copy->widthStep + j*copy->nChannels + 1] = 255;
                       data[i*copy->widthStep + j*copy->nChannels + 2] = 255;
                   }
          }

copy_im = cvCreateImage(cvSize(copied->width,copied->height), IPL_DEPTH_8U, 3);
cvCvtColor(copied, copy_im, CV_Lab2BGR);
cvSaveImage("copy.jpg", copy_im); 
```

任何帮助将不胜感激。提前致谢 ！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T22:05:30.877

大致总结一下评论：

在 L*a*b* 中，值通常为 [0,100] 并且 "a 和 "b" 是有符号的，没有明确定义的边界。在 8 位图像的 opencv 中，值转换如下：

*   L <- L * 255/100
*   一 <- 一+128
*   b <- b+128

在 CIELab 中，“白色”大致表示为 (100,0,0)，通过该变换变为 (255,128,128)。如果您使用 32 位浮点图像，则不需要最后一次转换，您可以使用 (100.0,0.0,0.0) 作为白色。

# c# - C#中的水晶报表需要登录

> ID：11288569
> 
> 赞同：0
> 
> 时间：2012-07-02T06:15:47.820
> 
> 标签：c#, crystal-reports, crystal-reports-2008

我在 Visual Studio 2010 中编写了以下内容：

```
 label2.Text = Convert.ToString(BAssistencia.nroo);
    ReportDocument oRep = new ReportDocument();
    ParameterField campo = new ParameterField();
    ParameterFields campo2 = new ParameterFields();
    ParameterDiscreteValue Pdv = new ParameterDiscreteValue();

    campo.Name = "@pedido";
    Pdv.Value = label2.Text;
    campo.CurrentValues.Add(Pdv);
    campo2.Add(campo);
    crystalReportViewer1.ParameterFieldInfo = campo2;
    oRep.Load("C:/Relatorios/CrystalReport3.rpt");
    crystalReportViewer1.ReportSource = oRep;
    oRep.SetDatabaseLogon("sa","password","server","database"); 
```

该报告可以在装有 Visual Studio 的计算机上正常打开，但是当我部署时，应用程序会一次又一次地询问日志。我究竟做错了什么？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T07:36:24.300

您有两种选择来解决这个问题。

1.  使用 windows 用户帐户访问数据库 [更多详细信息在这里](http://social.msdn.microsoft.com/Forums/sv/vscrystalreports/thread/6aee318c-e834-44ce-b217-f032a00784e8)

2.  将凭据动态应用于主报告和所有子报告

[将 DB 日志记录信息应用于每个 Crystal Reports 部分时，应用程序运行缓慢](https://stackoverflow.com/questions/10105318/application-runs-slow-when-db-logging-info-is-applied-to-each-crystal-reports-se)

[http://www.daniweb.com/software-development/csharp/threads/214322/c-crystal-reports-sharing-database-and-server-name](http://www.daniweb.com/software-development/csharp/threads/214322/c-crystal-reports-changing-database-and-server-name)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T07:28:53.350

你能试试这个代码吗

```
ReportDocument rpt = new ReportDocument();
        rpt.Load(@"C:\CrystalReport1.rpt");

        ConnectionInfo crConnectionInfo = new ConnectionInfo();
        crConnectionInfo.ServerName = "SERVERNAME";
        crConnectionInfo.DatabaseName = "DATABASENAME";
        crConnectionInfo.UserID = "USERNAME";
        crConnectionInfo.Password = "PASSWORD";
        crConnectionInfo.IntegratedSecurity = false;

        TableLogOnInfos crTableLogonInfos = new TableLogOnInfos();
        TableLogOnInfo crTableLogonInfo = new TableLogOnInfo();
        Tables CrTables;
        CrTables = rpt.Database.Tables;

        foreach (CrystalDecisions.CrystalReports.Engine.Table crTable in CrTables)
        {
            crTableLogonInfo = crTable.LogOnInfo;
            crTableLogonInfo.ConnectionInfo = crConnectionInfo;
            crTable.ApplyLogOnInfo(crTableLogonInfo);
        }
        crystalReportViewer1.ReportSource = rpt;
        crystalReportViewer1.Refresh(); 
```

# oracle10g - 如何检索具有指定值的xml数据

> ID：11288571
> 
> 赞同：0
> 
> 时间：2012-07-02T06:16:06.010
> 
> 标签：oracle10g

嗨，我是 Oracle 10g 的新手。我需要从“fl1”中检索所有子列表。我知道要按标签检索。如何按指定的值按标签检索？

```
 <lists> <Firstlist name = 'fl1'>
     <sublist>s1</sublist>
     <sublist>s2</sublist>
     <sublist>s3</sublist> 
 </firstlist>
 <Firstlist name = 'fl2'>
     <sublist>sb1</sublist>
     <sublist>sb2</sublist>
     <sublist>sb3</sublist> 
 </firstlist> </lists> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T07:15:45.427

实际上，这更像是一个 XPATH 问题：

```
//Firstlist [@name = "fl1"]/sublist 
```

所以查询可能是这样的：

```
SELECT xmlelement("r",xmltype(xmlstr)).extract('//Firstlist [@name = "fl1"]/sublist').getstringval() FROM your_table 
```

[这](http://www.sqlfiddle.com/#!4/d41d8/1165)是一个小提琴

# iphone - 像 iPad 上的 iTunes 一样翻转+缩放过渡

> ID：11288575
> 
> 赞同：0
> 
> 时间：2012-07-02T06:16:12.183
> 
> 标签：iphone, uiview

我检查了一些其他帖子，发现一些 UIAnimation 过渡提供了执行 Flip+Scale 过渡的解决方案，就像 iPad 上的 iTunes 应用程序一样。但是，我没有得到完全相同的结果。我试过循环 UIView 动画但不起作用。

有人可以对此有所了解吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T20:50:01.023

所以我一直在努力，我终于找到了解决方案:)

```
[UIView animateWithDuration:0.4 delay:0 options:UIViewAnimationOptionBeginFromCurrentState animations:
 ^{
     rect = placeHolderView.frame;

     rect.origin.x += 100;
     rect.origin.y += 70;

     [UIView beginAnimations:nil context:NULL];
     [UIView setAnimationDuration:0.5];
      placeHolderView.frame = rect;
     [UIView setAnimationTransition:UIViewAnimationTransitionFlipFromRight forView:placeHolderView cache:YES];
     [UIView setAnimationDuration:0.5];
     CGAffineTransform transform = CGAffineTransformMakeScale(3.0, 3.0);
     placeHolderView.transform = transform;

     [UIView commitAnimations];

     self.view.layer.cornerRadius = 5.0f;
     self.view.clipsToBounds = YES;

 } completion:^(BOOL finished) {

         [UIView setAnimationBeginsFromCurrentState:YES];
         [UIView transitionWithView:placeHolderView duration:0.8 options:UIViewAnimationOptionTransitionFlipFromRight|UIViewAnimationOptionBeginFromCurrentState animations:
          ^{
              CGAffineTransform transform = CGAffineTransformMakeScale(10.0, 10.0);
              placeHolderView.transform = transform;
              [UIView beginAnimations:nil context:NULL];
              [UIView setAnimationTransition:UIViewAnimationTransitionFlipFromRight forView:self.purchaseItemView cache:YES];
              [placeHolderView setAlpha:0.0];
              [self.myMainView setAlpha:1.0];
              [UIView setAnimationDuration:0.8];
              [UIView commitAnimations];

          } completion:nil];

 }
 ]; 
```

placeholderView 是将从一个小的 16x6 图像缩放的视图。而 myMainView 是翻转+缩放过渡结束后显示的视图。希望能帮助任何希望实现这一点的人:)

# android - 如何知道使用 ACTION_VIEW 打开的文件何时关闭

> ID：11288577
> 
> 赞同：0
> 
> 时间：2012-07-02T06:16:26.960
> 
> 标签：android, file

我正在使用我的应用程序中的 ACTION_VIEW 意图打开一个文件。现在我想在这个文件关闭时在我的应用程序中执行一些操作。

这可以通过按返回或打开文件的应用程序的上下文菜单选项来关闭。

有没有办法让我的应用程序知道文件何时关闭

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:49:17.130

当您想启动其他应用程序时，请使用`startActivityForResult()`而不是`startActivity()`. 并覆盖`onActivityResult()`您的活动类中的方法。大多数应用程序会返回用户退出应用程序`RESULT_OK`或退出应用程序时的结果。`RESULT_CANCELED`当它们退出时，`onActivityResult()`将在您的应用程序中调用方法，您可以在其中放置代码以执行任何您想做的事情。查看[android 文档](http://developer.android.com/reference/android/app/Activity.html)以获取更多帮助和信息

# php - 如何从命令行执行 php 脚本？

> ID：11288579
> 
> 赞同：1
> 
> 时间：2012-07-02T06:16:56.037
> 
> 标签：php

我有一个通过以下地址的 php 脚本`C:\Denwer\home\localhost\www\upload_record_test.php`。此脚本显示一些文本。但是，如果我尝试从命令行按命令执行此脚本`php C:\Denwer\home\localhost\www\upload_record_test`，我会得到包含许多错误和消息的 html 响应`Call to undefined function curl_init()`。编码：

```
<?php
    $_POST_DATA=array();
    $_POST_DATA['id']='AccountPagesView.a_book/45';
    $_POST_DATA['old_value']='1';
    $_POST_DATA['value']='2';
    $ch=curl_init();
    curl_setopt($ch, CURLOPT_URL, 'http://localhost/index.php/welcome/update_record');
    curl_setopt($ch, CURLOPT_POSTFIELDS, $_POST_DATA);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_VERBOSE, 1);
    $real_result=curl_exec($ch);
    $expected_result=array('result'=>'LOGIN', 'old_value'=>'1');
    $real_result=json_decode($real_result, true);
    if (count(array_intersect($real_result, $expected_result))==2)
    {
        echo "THE TEST HAS BEEN COMPLETED";
    }
    else 
    {
        echo "THE TEST HASN'T BEEN COMPLETED<br/>";
        echo "RESULT:";
        print_r($real_result);
        echo "<br/>EXPECTED RESULT:";
        print_r($expected_result);
    }
?> 
```

请告诉我，如何从命令行执行此脚本并仅获取结果文本？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:18:49.943

检查 curl 是否正确安装。如果没有，请从 php.net检查[此说明。](http://php.net/manual/en/curl.setup.php)

如果是，那么您的 curl 模块可能未启用。您必须启用 curl 模块才能使用 curl 方法。您可以通过编辑`php.ini`和启用模块来做到这一点。

在窗户上：

*   打开你的`php.ini`文件
*   找到一条线`;extension=php_curl.dll`
*   删除`;`infront并保存文件
*   重启apache服务器

它应该工作。

### **更新：**

有时`safe_mode`可能会导致此问题。转到ini文件并禁用`safe_mode`

```
[php.ini]
safe_mode = Off 
```

# c# - 使用元数据从二进制文件中获取文件信息

> ID：11288581
> 
> 赞同：0
> 
> 时间：2012-07-02T06:17:17.123
> 
> 标签：c#, file, filesystems

如何以编程方式从其元数据中找出特定文件的详细信息。例如：

*   它是什么类型的文件；图片{png/gif/jpeg.. etc.}、视频{avi/mpeg/wmv.. etc.}、flash{fla/swf/flv}、其他
*   使用什么软件以及该软件的哪个版本来创建它。
*   当前电脑上最接近的注册程序可以打开它。

我对了解由 flash 创建的 .fla 文件以及其中的图像和视频更感兴趣。有些可能是嵌入的。有些可能是使用 Flash IDE 本身创建的。

我选择的编程语言是 C#，但我也对其他任何东西持开放态度。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:25:16.773

文件包含的元数据（如果有的话）*完全*取决于文件格式。

这是从摄影图像文件中读取 EXIF 数据的一个很好的示例：

*   [http://www.codeproject.com/Articles/11305/EXIFextractor-library-to-extract-EXIF-信息](http://www.codeproject.com/Articles/11305/EXIFextractor-library-to-extract-EXIF-information)

以下是一些从 MP3 音频文件中读取元数据的链接：

*   [http://social.msdn.microsoft.com/Forums/en-US/vblanguage/thread/12782857-7eb0-4ae0-856e-595d7b5ff136/](http://social.msdn.microsoft.com/Forums/en-US/vblanguage/thread/12782857-7eb0-4ae0-856e-595d7b5ff136/)

对于*某些*文件格式，您可以使用标准的 .Net 类获得一些东西*。*例如，这是用于读取 GDI+“图像”的“PropertyItems”的 MSDN 文档：

 **   [http://msdn.microsoft.com/en-us/library/xddt0dz7.aspx](http://msdn.microsoft.com/en-us/library/xddt0dz7.aspx)

您可以使用标准的 .Net VersionInfo 类读取 Windows 版本信息（如果您的 .dll 或 .exe 恰好有版本信息）：

*   [http://msdn.microsoft.com/en-us/library/ee270515%28v=bts.10%29.aspx](http://msdn.microsoft.com/en-us/library/ee270515%28v=bts.10%29.aspx)

'希望有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-25T16:47:36.527

我写了一个关于提取 EXIF 元数据的教程，你可能会觉得有帮助：[http ://apprentice.craic.com/tutorials/22](http://apprentice.craic.com/tutorials/22)

它包含一个简单的代码示例，用于提取相机指向的纬度、经度和方向。它使用它们在地图上绘制位置以及指示方向的矢量。*

# search - lucene 搜索表达式（查询解析器语法）可以搜索 NumericField 字段吗？

> ID：11288584
> 
> 赞同：0
> 
> 时间：2012-07-02T06:17:31.853
> 
> 标签：search, search-engine, lucene.net, lucene

我用`NumericField`写一个`Integer`in lucene 索引：

```
doc.add(
    new NumericField("id",Integer.MAX_VALUE,Field.Store.YES,true)
        .setIntValue(123)
); 
```

现在我有一个问题，如何通过 id 字段（NumericField）编写搜索表达式？

我试过了：

`id:123`和`id:intToPrefixCoded(123)`

但没有任何回报

**参考：**

*   [Apache Lucene - 查询解析器语法](http://lucene.apache.org/core/3_6_0/queryparsersyntax.html)
*   [NumericUtils](http://lucene.apache.org/core/3_6_0/api/core/org/apache/lucene/util/NumericUtils.html)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T09:19:55.383

这不起作用，因为数字字段的内部表示不同于它们的文本表示。您应该手动构造数字查询或扩展 Lucene[查询解析器](http://lucene.apache.org/core/3_6_0/api/all/org/apache/lucene/queryParser/QueryParser.html)。您需要做的就是扩展`new*Query`(Term, Range, ...) 方法并对字段名称进行 if/else 测试，以了解您应该创建数字查询还是常规查询。

有关更多信息，请参阅[Lucene 维基](http://wiki.apache.org/lucene-java/SearchNumericalFields)。

# c# - 已经存在的候选用户名是否有理由引发异常？

> ID：11288585
> 
> 赞同：3
> 
> 时间：2012-07-02T06:17:42.843
> 
> 标签：c#, .net, exception

我刚刚将大量代码重构`AccountController`为`Authentication`提供程序类。用于执行此检查的控制器：

```
if (_memberRepository.GetByUserName(model.UserName) != null)
{
    ModelState.AddModelError("", "The user name you have chosen already exists. Please choose another.");
    return View(model);
} 
```

我已将此移至我的`Authentication`班级，但我无法访问`ModelState`.

```
if (_memberRepository.GetByUserName(newMember.LoginName) != null)
{
    // Panic stations!!
} 
```

我是不是该：

a) 返回一个描述新方法状态或结果的类？我觉得这太复杂了。b) 抛出一个异常（可能是 ArgumentException？），表明我反对注册重复的用户名？这既快速又简单，但它接近于对业务逻辑使用异常

我看到已经有一个`MembershipCreateUserException`，但我喜欢避免使用内置的会员功能。这不是很好的 OO，我觉得使用它很脏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T06:43:08.583

简短的回答：输入验证永远不应该抛出。

长答案：“您选择的用户名已经存在”是一种预期且可预测的错误，应该优雅地处理而不抛出异常。这与登录时输入错误的密码没有什么不同。例如，如果由于无法访问数据库而无法创建新用户，*则*应该抛出异常。

不过，您也许可以通过异常使事情正常进行：这只是最佳实践的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T06:34:08.457

您可能会`out`收到错误消息。或者，向您的提供者添加一个简单的方法，该方法只检查名称是否可用（然后可以异步调用）。然后，您也将名称检查的行为与您的注册逻辑隔离开来，因此它所关心的只是添加用户。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-02T06:41:27.407

这种情况是例外的，我会抛出异常。每次检查状态类或输出参数对我来说似乎更脏（还有老派）。我认为为常见情况编写代码并处理带有异常的异常情况会更干净。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-02T06:44:05.233

看起来异常是错误的，因为您期望这种情况（验证用户输入）。

我将创建单独的方法来简单地检查是否存在具有此名称的用户。

您可以尝试重命名现有方法，以明确如果用户不存在，将返回一些特殊（null？）值。

# java - Apache Jmeter 给出 404 错误

> ID：11288589
> 
> 赞同：-1
> 
> 时间：2012-07-02T06:18:19.607
> 
> 标签：java, jmeter

我正在使用 Jmeter 对我的应用程序进行负载测试。我正在运行代理并记录 url，而不是从系统中注销，但是当我运行负载测试时，它给出了错误

> 响应代码：400
> 响应消息：错误请求

. 我想知道当我从浏览器访问应用程序时将哪些数据传输到服务器，以便我可以比较和检查差异并纠正它？我正在使用*HHTP 请求默认*捕获请求响应是这个正确的选项来选择

记录的网址

```
/webdynpro/dispatcher/mycomp.com/call_agent_dtop-login_wd/COPSApp
/webdynpro/dispatcher/mycomp.com/call_agent_dtop-login_wd/j_security_check
/webdynpro/dispatcher/mycomp.com/call_agent_dtop-login_wd/COPSApp
/com.sap.ui.lightspeed/js/html/browserhistory.html
/webdynpro/dispatcher/mycomp.com/call_agent_dtop-login_wd/COPSApp
/webdynpro/dispatcher/mycomp.com/call_agent_dtop-login_wd/COPSApp 
```

当 jmeter hetting 最后两个 url 时，错误就来了。以下是请求和响应。
**要求**

> 邮政 `http://mysapserver:50000/webdynpro/dispatcher/mycomp.com/call_agent_dtop-login_wd/COPSApp`
> 
> POST data: sap-wd-appwndid=fa028617c40811e1b5040000008d9afa&sap-wd-cltwndid=fa028616c40811e1ca090000008d9afa&sap-wd-norefresh=X&sap-wd-secure-id=kr5Ff681H2UwyCLAfl7u0w%3D%3D&SAPEVENTQUEUE=ComboBox_Select%EE%80%82Id%EE%80%84PEJNDIPG.OrderView .ChangeDeliveryPlantDropDown%EE%80%85Key%EE%80%8411%EE%80%83%EE%80%82%EE%80%83%EE%80%82urEventName%EE%80%84COMBOBOXSELECTIONCHANGE%EE%80%83 %EE%80%81InputField_Change%EE%80%82Id%EE%80%84PEJNDIPG.OrderView.ProductCodeInputField.0%EE%80%85Value%EE%80%840001%EE%80%83%EE%80%82Delay%EE %80%84full%EE%80%83%EE%80%82ContextPath%EE%80%84OrderTakingNode.0%EE%80%85urEventName%EE%80%84INPUTFIELDCHANGE%EE%80%83%EE%80%81InputField_Change%EE %80%82Id%EE%80%84PEJNDIPG.OrderView.ShadeCodeInputField。0%EE%80%85Value%EE%80%840123%EE%80%83%EE%80%82Delay%EE%80%84full%EE%80%83%EE%80%82ContextPath%EE%80%84OrderTakingNode。 0%EE%80%85urEventName%EE%80%84INPUTFIELDCHANGE%EE%80%83%EE%80%81InputField_Enter%EE%80%82Id%EE%80%84PEJNDIPG.OrderView.ShadeCodeInputField.0%EE%80%83% EE%80%82ClientAction%EE%80%84submit%EE%80%83%EE%80%82ContextPath%EE%80%84OrderTakingNode.0%EE%80%85urEventName%EE%80%84INPUTFIELDKEYPRESS%EE%80%83% EE%80%81Form_Request%EE%80%82Id%EE%80%84...form%EE%80%85Async%EE%80%84false%EE%80%85FocusInfo%EE%80%84%40%7B% 22iCursorPosX%22%3A+4%2C+%22iSelectionStart%22%3A+-1%2C+%22iSelectionEnd%22%3A+-1%2C+%22bNavigation%22%3A+true%2C+%22sFocusedId%22%3A+%22PEJNDIPG.OrderView。 ShadeCodeInputField.0%22%2C+%22sApplyControlId%22%3A+%22PEJNDIPG.OrderView.ShadeCodeInputField。0%22%7D%EE%80%85Hash%EE%80%84%EE%80%85DomChanged%EE%80%84false%EE%80%85IsDirty%EE%80%84false%EE%80%83%EE% 80%82EnqueueCardinality%EE%80%84single%EE%80%83%EE%80%82%EE%80%83
> 
> Cookie 数据：saplb_*=(J2EE9280220)9280250；MYSAPSSO2=AjExMDAgABRwb3J0YWw6QWRtaW5pc3RyYXRvcogAB2RlZmF1bHQBAAACAAMwMDADAANDMkQEAAwyMDEyMDcwMjA1NDgFAAQAAAAICgAA%2FwEEMIIBAAYJKoZIhvcNAQcCoIHyMIHvAgEBMQswCQYFKw4DAhoFADALBgkqhkiG9w0BBwExgc8wgcwCAQEwIjAdMQwwCgYDVQQDEwNDMkQxDTALBgNVBAsTBEoyRUUCAQAwCQYFKw4DAhoFAKBdMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTEyMDcwMjA1NDgzN1owIwYJKoZIhvcNAQkEMRYEFNDGciHoepD4FlNvbHBk2SqJFUspMAkGByqGSM44BAMELjAsAhQTb!2niESxzk4e3IXYrKWIhwUtjAIUZ1%2FFxpnUNIOwzFAXTo0rAtH!fms%3D; JSESSIONID=UihOx6IlLj4iAkSoNex-4dhBwjtGOAH6mo0A_SAP-3GDWGtiIZOq-At49VanSwh-；JSESSIONMARKID=MqO5Rwx41AYICm0wFgHl13dXEIdMBZcQ_00PqajQA
> 
> 请求标头：接受语言：en-in 内容长度：1660 接受编码：gzip、deflate 引用者： `http://mysapserver:50000/webdynpro/dispatcher/mycomp.com/call_agent_dtop-login_wd/COPSApp?DealerCode=0000185994&CallId=0000123456` 用户代理：Mozilla/4.0（兼容；MSIE 8.0；Windows NT 6.1；Trident/4.0；SLCC2；.NET CLR 2.0.50727；.NET CLR 3.5.30729；.NET CLR 3.0.30729；Media Center PC 6.0) 连接：keep-alive 内容类型：application/x-www-form-urlencoded 接受：*/* Pragma：无缓存

**回复**

> 线程名称：COPS-Thread-Group 1-1 示例开始：2012-07-02 11:11:43 IST 加载时间：11 延迟：10 字节大小：26581 标头大小（字节）：231 正文大小（字节）：26350 示例计数：1 错误计数：1 响应代码：400 响应消息：错误请求
> 
> 响应标头：HTTP/1.1 400 错误请求服务器：SAP NetWeaver Application Server 7.20 / AS Java 7.30 缓存控制：无缓存，无存储过期：-1 编译指示：无缓存，无存储日期：7 月 2 日星期一2012 05:48:44 GMT 传输编码：分块
> 
> HTTPSampleResult 字段：ContentType：DataEncoding：null

如果您需要更多信息，请告诉我。 **非常感谢**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:25:22.843

该`400 Bad Request`错误是一个 HTTP 状态代码，可能您向服务器发送了格式错误的请求，而服务器无法理解或处理该请求。

# opencv - opencv imread/imwrite 丢失颜色

> ID：11288591
> 
> 赞同：2
> 
> 时间：2012-07-02T06:18:36.063
> 
> 标签：opencv

我使用示例代码来读取/写入 jpg 文件，但会丢失颜色。

```
import sys
fn1,fn2  = sys.argv[1:3]
import numpy as np, cv2

img1 = cv2.imread(fn1, 0)
vis = cv2.cvtColor(img1, cv2.COLOR_GRAY2BGR)
cv2.imwrite(fn2, vis) 
```

你能帮我找到程序吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T08:18:34.437

默认情况下，打开的图像文件是`BGR`格式。但您正试图将其从 转换`Gray`为`BGR`.

```
 // this conversion is incorrect 
vis = cv2.cvtColor(img1, cv2.COLOR_GRAY2BGR)
cv2.imwrite(fn2, vis) 
```

如果您不想进行任何转换，请删除此行`cv2.cvtColor(...)`。试试吧。

> img1 = cv2.imread(fn1, 0)
> cv2.imwrite(fn2, img1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T07:23:27.840

改用此代码并找到差异

```
import sys
fn1,fn2  = sys.argv[1:3]
import numpy as np, cv2, cv

img1 = cv2.imread(fn1)
vis = cv2.cvtColor(img1, cv.CV_BGR2GRAY)
cv2.imwrite(fn2, vis) 
```

# java - 如何比较字符串以及如何将选定的字符串值与其他方法进行比较？

> ID：11288595
> 
> 赞同：0
> 
> 时间：2012-07-02T06:18:50.343
> 
> 标签：java, android, android-layout

在这里，我使用两个 EditTexts 来获取一些数字作为整数值..

```
<EditText
        android:id="@+id/editText1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:ems="10" >

        <requestFocus />
    </EditText>

    <EditText
        android:id="@+id/editText2"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:ems="10" />
     <EditText
        android:id="@+id/editText3"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:ems="10" /> 
```

现在我打算做一些计算

```
 int i1,i2,i3;
    String t1,t2,t3;
    EditText et1,et2,et3;
    int result,comp;
  protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
       et1=(EditText)findViewById(R.id.editText1);
       et2=(EditText)findViewById(R.id.editText2);
       et3=(EditText)findViewById(R.id.editText3);
    //and also storing to string like
                       t1=et1.getText().toString();
                   t2=et2.getText().toString();
                       t3=et3.getText().toString();
               i1=Integer.parseInt(t1);
               i2=Integer.parseInt(t2);
                   i3=Integer.parseInt(t3);
                       comp=i2-i1;
} 
```

/*这里 int 一些 x=10; 我的问题是如何检查我需要获得补偿值的条件，如果它被选中（通过输入两个EditTexts），否则一个editText（i3 valsu）任何一个都可以帮助我......* /

```
 public int CalculateUsage(int customersUsage)
                {
        int x=10;
        comp= customersUsage;
        if(comp!=0)
        {
        customersUsage=comp;
        result=(customersUsage*x) ;
        }

        else if(i3 !=null)
        {
        customersUsage=i3;
        result=(customersUsage*x) ;
        }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T15:32:21.393

如果 String 表示实际上不是整数，则 Integer.parseInt() 会引发异常。您应该创建一个 try-catch 块并将值分别设置为 0 或所需的默认值

```
try{
    i1=Integer.parseInt(t1);
} catch(Exception e) {
    i1=0;
}
etc... 
```

因为编辑文本值当前是“[empty]”。

编辑：编辑文本当前为空，因为您尚未对其进行任何设置。您在布局中拥有的 ems="10" 不是编辑文本值。

# html - Twitter引导奇怪的顶部和左边距

> ID：11288596
> 
> 赞同：0
> 
> 时间：2012-07-02T06:18:50.207
> 
> 标签：html, css, twitter-bootstrap

我正在尝试 twitter 引导程序，并且是 CSS/HTML 的新手。这是我的简单 HTML：

```
<!DOCTYPE html>
<html>
<head>
  ......
</head>
<body>
  <div class="navbar">
    <div class="navbar-inner">
      <div class="container">
          <a class="brand" href="#">Test App</a>
      </div>
    </div>
  </div>
</body>
</html> 
```

它呈现的页面有一个奇怪的顶部和左边距：[![在此处输入图像描述](../Images/f5a9315ee7500d9edefbf20b720d53ab.png)](https://i.stack.imgur.com/8bc7n.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T12:41:43.893

如果您希望导航栏是全宽并粘在顶部，则将 navbar-fixed-top 类添加到导航栏，如下所示：

```
<div class="navbar navbar-inverse navbar-fixed-top"> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T20:00:55.520

关于上边距尝试`body { padding-top: 0; }`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-02T06:31:20.390

检查你的容器中的萤火虫 -`navbar, navbar-inner, container`可能有`padding`或`margin`.

# facebook - 无法更新应用程序信息

> ID：11288600
> 
> 赞同：-2
> 
> 时间：2012-07-02T06:19:10.900
> 
> 标签：facebook, submit, oauth-2.0

```
I submitted my app for app center several weeks ago and i got denied. But now i can't modify my auth dialog permissions without resubmitting. 
```

我只想添加 publish_actions 权限而不尝试再次提交。

但是在我的其他应用程序中我可以做到，因为我没有提交它。

我能做些什么？

最好的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T07:32:38.090

应用中心必须知道您使用哪些权限才能批准您的应用。

如果您想更新权限，只需单击应用中心上的“取消提交”按钮，然后您就可以编辑权限。（**如果您没有看到此按钮，请尝试重新提交，然后取消**）

希望它对你有帮助:)

# css - CSS3背景色+图片

> ID：11288602
> 
> 赞同：1
> 
> 时间：2012-07-02T06:19:16.700
> 
> 标签：css, background, opacity, transparent

我有一个背景图片，想在上面添加一个透明的填充颜色。我使用现代浏览器，例如 Firefox 和 Google Chrome。

**此代码有效（但不能解决问题）**

```
background: url('bkg.jpg'), rgba(0,0,0, .5); 
```

**此代码不起作用（但应该可以解决我的问题）**

```
background: rgba(0,0,0, .5), url('bkg.jpg'); 
```

为什么？解决方案？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-02T06:25:02.523

[https://developer.mozilla.org/en/CSS/background](https://developer.mozilla.org/en/CSS/background)说：

> 注意：背景颜色只能在最后一个背景上定义，因为整个元素只有一种背景颜色。

[http://www.w3.org/TR/css3-background/#layering](http://www.w3.org/TR/css3-background/#layering)说：

> 背景颜色（如果存在）将绘制在所有其他图层下方。

[http://www.w3.org/TR/css3-background/#background-color](http://www.w3.org/TR/css3-background/#background-color)说：

> 此属性设置元素的背景颜色。颜色绘制在任何背景图像后面。

也许您可以使用`:before/:after`伪元素来代替绝对定位。

[http://jsfiddle.net/3mNkZ/3/](http://jsfiddle.net/3mNkZ/3/)

```
div {
    background: rgba(0,255,0, .5);
    width: 200px; height: 200px;
    border: 10px solid red;
    position: relative;
    font-size: 100px;
    color: white;
}

div:before {
    background: url('http://placekitten.com/200/150');
    content: ' ';
    position: absolute;
    z-index: -1;
    width: 100%;
    height: 100%;
}
​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T06:33:36.553

您必须制作一个与窗口大小相同的 div 才能获得效果。这是一个[jsfiddle](http://jsfiddle.net/r2SwG/)和下面的代码。

```
html{
    background: url('http://tribulant.net/lightbox/files/2010/08/image-2.jpg');
}
.color {
    background-color: rgb(100,0,0); 
    opacity: 0.5;
    height: 100%;
    width: 100%;
    position: absolute; 
    top: 0px;
    bottom: 0px;
} 
```

​</p>

# umbraco - 多语言，智能链接转换

> ID：11288603
> 
> 赞同：2
> 
> 时间：2012-07-02T06:19:28.577
> 
> 标签：umbraco

我对 Umbraco 很陌生，所以我的问题可能很简单，但我无法在网上找到任何简单的指南。

我正在构建一个具有一个域和结构的简单网站，如下所示

```
Content

- en
-- products
-- contacts

- cs
-- produkty
-- kontakty 
```

等等。我的第一个问题是：由于我想在 SEO 中取得一些不错的结果，我需要 (i) 将元语言分配给“en”和“cs”节点的内容以及一些关键字。我该怎么做？

第二：假设将来，我决定添加一种新语言，例如。俄语。所以我需要做的是制作“en”节点及其内容的副本，而新创建的副本中包含的链接应该被重写为指向副本而不是原始节点（原始节点是 /en/anotherpage , 应重写为 /ru/anotherpage)。这可能吗？

谢谢， Ondrej

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T17:04:55.517

You could build the content structure as a single root node and then have multiple Language homepage nodes directly beneath the content root.

To assign a language, you could create a custom datatype that simply displays all the .Net cultures, e.g. en-GB, fr-FR etc. Include that data type as a field on the language homepage document type and then output this value in the markup on the homepage and each descendant.

In the Language homepage document type, you can add a textstring property called 'umbracoUrlName'. You can then use this property to override the Url name. E.g. So you could call the page www.domain.com/en/ instead of www.domain.com/en/english-home/

With regards to duplicating the site at a later date, this is a difficult one. If the links are created using data types like the media picker and uComponent's multi node tree picker, then you will have no option but to inherit the links from the copied branch. However, if the links are created dynamically in the Razor or XSLT, then you should be able to make the links relative to the Language homepage or the current page. E.g. in XSLT getting the children of the parent language homepage would be something like `$currentPage/ancestors-or-self::* [@level = '2']/child::*` . In other words you can avoid hard coding links by using a clever bit of relative traversal.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T01:37:22.743

要设置语言元数据，我会将其存储在语言根节点上的属性中，例如：/en/ 以从任何页面获取语言页面属性：

```
var langNode = new Node(int.Parse(node.Path.Split(',')[1]));
langNode.GetProperty("languageCode"); 
```

至于将英文版复制到俄文版并修复所有链接，我不知道 umbraco 中有什么可以帮助您解决此问题，您可以自己编写一些东西来查找所有链接和节点引用并修复它们。您可以使用[关系 API](http://blog.hendyracher.co.uk/umbraco-relation-api/)来跟踪从哪里复制到哪里的内容。您需要注意，您最终可能会多次复制节点。

如果您没有太多数据，手动修复链接可能会更快。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T14:45:11.540

这将为您在 Umbraco 创建多语言网站提供一个良好的开端

[http://our.umbraco.org/wiki/how-tos/running-multi-lingual-sites-under-a-single-domain](http://our.umbraco.org/wiki/how-tos/running-multi-lingual-sites-under-a-single-domain)

如果您将来要创建俄语版本，您将完全按照上面提到的方式进行操作，就这么简单。

# php - 如何使用 php 在 MediaWiki 页面上找到图像的文件名？

> ID：11288604
> 
> 赞同：2
> 
> 时间：2012-07-02T06:19:29.433
> 
> 标签：php, mediawiki

如何在 MediaWiki 站点上找到图像的文件名？
我不想手动输入文件名。我需要 PHP 代码来获取文件名。
我可以使用`$f = wfFindFile( '$filename' );`，但如何获取 $filename？
我一直在查看 FILE 类，但我不知道如何使用`File::getFilename();`我不断收到错误消息`call to undefined method`。

我究竟做错了什么？

更详细地解释：我想将 pin it 按钮添加到我的网站，因此当您单击该按钮时，它会将其发布在 pin it board 上，并附有图像和图像描述。我需要使用 php 来发送图像信息，以便它适用于我网站上的每个页面。我不能每次都手动编码图像名称。到目前为止，我有代码：

```
 <a href="http://pinterest.com/pin/create/button/?url=' . urlencode($f->getFullURL()).'&media='.urlencode($f->getCanonicalUrl() ).'&description='.urlencode($f->getDescription()) .'" class="pin-it-button" count-layout="horizontal"><img border="0" src="//assets.pinterest.com/images/PinExt.png" title="Pin It" /></a> 
```

除了我需要为 $f （图像名称）输入一个值之外，这很好用。我的问题是如何获得 $f 的值而不必输入例如 $f = wfFindFile('Sunset.jpg'); 我原以为这对于任何试图将 pinterest 添加到他们的网站的人来说都是一个非常普遍的请求。谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-05T16:36:40.230

您要查找的 $filename 基本上是它在上传时在 MediaWiki 中的命名方式，例如 Landscape-plain.jpg。您将只使用 wfFindFile() 辅助函数来获取 File 对象。然后调用方法：

> $ php 维护/eval.php
> 
> > $file = wfFindFile('风景-plain.jpg');
> 
> > 打印 $file->getName();
> 
> 风景-plain.jpg
> 
> > 打印 $file->getPath();
> 
> mwstore://local-backend/local-public/b/b0/Landscape-plain.jpg
> 
> > 打印 $file->getFullPath();
> 
> /path/to/images/b/b0/Landscape-plain.jpg
> 
> > 打印 $file->getTitle();
> 
> 文件：风景-平原.jpg
> 
> > 退出

API 文档：

*   [http://svn.wikimedia.org/doc/classFile.html](http://svn.wikimedia.org/doc/classFile.html)
*   [http://svn.wikimedia.org/doc/classLocalFile.html](http://svn.wikimedia.org/doc/classLocalFile.html)

**在下面编辑**

文件信息可以通过 File 对象获得，因此您肯定需要使用 wfFindFile() 来获取这样的对象。

要真正找到用户正在浏览的页面的文件名，您需要使用查询上下文并获取其标题：

```
$context = RequestContext::getMain();
$t = $context->getTitle();

if( $title->getNamespace == 'NS_FILE' ) {
  $filename = $title->getPrefixedText;
 // do your stuff.
} 
```

# jquery - HTTP 补丁 XmlHttpRequest 支持

> ID：11288608
> 
> 赞同：15
> 
> 时间：2012-07-02T06:19:56.860
> 
> 标签：jquery, node.js, browser, express

我正在开发一些待办事项应用程序，并希望使用 HTTP 方法 PATCH 来添加和删除待办事项，因为这在语义上比 PUT 更好。

在后端，我使用 express.js (node.js) 和前端的主干.js（使用 jQuery 进行 ajax）。

我已经尝试过它是否真的在我的本地开发套件（Archlinux、Chromium 20、node.js 0.8、express 2.X）的后端和前端工作并且它有效：

**应用程序.js**

```
app.patch('/todo/:id', function(req, res){
    console.log('patch successfull');
} 
```

**铬网络控制台**

```
$.ajax({ 
    url: '/messages/4ff13720f00e2e2c4b000006',
    type: 'PATCH',
    data: { body: 'that is a patched message' } 
}); 
```

提到了该请求，并且在可能的情况下还提到了数据库操作，无一例外。

我现在想知道其他浏览器如何支持补丁方法。我用谷歌查了一下，但很难找到东西，因为 PATCH 有多种含义......

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-09T21:03:20.140

大多数浏览器在应用于表单时将 HTTP 方法限制为 GET/POST。但是，对于 AJAX 请求，只要后端服务器能够支持它就可以工作的方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-25T16:44:48.007

现代浏览器确实支持 PATCH（事实上，使用 $ajax 你可以做任何你喜欢的方法，只要浏览器不阻止它）。**在 IE9 以下，你就不走运了。**

对于 FF、Chrome 和 Safari，这不是什么大问题，因为它们几年前就开始自动更新，两年多前它们停止了除 GET 和 POST 之外的阻止方法。

# android - 如何在android中将url加载到webview时显示进度？

> ID：11288611
> 
> 赞同：60
> 
> 时间：2012-07-02T06:20:11.450
> 
> 标签：android, webview

我正在将 url 加载到 webview 中：

```
WebView webview=(WebView)findViewById(R.id.webview); 
webview.loadUrl(url); 
```

加载 url 需要一些时间，在此期间它显示一个空白屏幕。我想在加载 url 时显示一个进度对话框：

```
ProgressDialog dialog = ProgressDialog.show(this, "HI","Loading......", true); 
```

但是，上面的代码不起作用。如果有任何想法，请帮助。提前致谢。

* * *

## 回答 #1

> 赞同：116
> 
> 时间：2012-07-02T06:26:54.480

将 a 设置`WebViewClient`为您的 WebView，在您的方法上启动您的进度对话框，`onCreate()`并在页面完成加载后将其关闭`onPageFinished(WebView view, String url)`

```
import android.app.Activity;
import android.app.AlertDialog;
import android.app.ProgressDialog;
import android.content.DialogInterface;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.util.Log;
import android.view.Window;
import android.webkit.WebSettings;
import android.webkit.WebView;
import android.webkit.WebViewClient;
import android.widget.Toast;

public class Main extends Activity {
    private WebView webview;
    private static final String TAG = "Main";
    private ProgressDialog progressBar;  

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        requestWindowFeature(Window.FEATURE_NO_TITLE);

        setContentView(R.layout.main);

        this.webview = (WebView)findViewById(R.id.webview);

        WebSettings settings = webview.getSettings();
        settings.setJavaScriptEnabled(true);
        webview.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);

        final AlertDialog alertDialog = new AlertDialog.Builder(this).create();

        progressBar = ProgressDialog.show(Main.this, "WebView Example", "Loading...");

        webview.setWebViewClient(new WebViewClient() {
            public boolean shouldOverrideUrlLoading(WebView view, String url) {
                Log.i(TAG, "Processing webview url click...");
                view.loadUrl(url);
                return true;
            }

            public void onPageFinished(WebView view, String url) {
                Log.i(TAG, "Finished loading URL: " +url);
                if (progressBar.isShowing()) {
                    progressBar.dismiss();
                }
            }

            public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {
                Log.e(TAG, "Error: " + description);
                Toast.makeText(activity, "Oh no! " + description, Toast.LENGTH_SHORT).show();
                alertDialog.setTitle("Error");
                alertDialog.setMessage(description);
                alertDialog.setButton("OK", new DialogInterface.OnClickListener() {
                    public void onClick(DialogInterface dialog, int which) {
                        return;
                    }
                });
                alertDialog.show();
            }
        });
        webview.loadUrl("http://www.google.com");
    }
} 
```

你的 main.xml 布局

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    >
    <WebView android:id="@string/webview"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_weight="1" />
</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-07-02T06:29:34.230

您将不得不覆盖 onPageStarted 和 onPageFinished 回调

```
mWebView.setWebViewClient(new WebViewClient() {

        public void onPageStarted(WebView view, String url, Bitmap favicon) {
            if (progressBar!= null && progressBar.isShowing()) {
                progressBar.dismiss();
            }
            progressBar = ProgressDialog.show(WebViewActivity.this, "Application Name", "Loading...");
        }

        public boolean shouldOverrideUrlLoading(WebView view, String url) {
            view.loadUrl(url);

            return true;
        }

        public void onPageFinished(WebView view, String url) {
            if (progressBar.isShowing()) {
                progressBar.dismiss();
            }
        }

        public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {
            alertDialog.setTitle("Error");
            alertDialog.setMessage(description);
            alertDialog.setButton("OK", new DialogInterface.OnClickListener() {
                public void onClick(DialogInterface dialog, int which) {
                    return;
                }
            });
            alertDialog.show();
        }
    }); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-02T06:27:43.900

查看示例代码。它可以帮助你。

```
 private ProgressBar progressBar;
 progressBar=(ProgressBar)findViewById(R.id.webloadProgressBar);
 WebView urlWebView= new WebView(Context);
    urlWebView.setWebViewClient(new AppWebViewClients(progressBar));
                        urlWebView.getSettings().setJavaScriptEnabled(true);
                        urlWebView.loadUrl(detailView.getUrl());

public class AppWebViewClients extends WebViewClient {
     private ProgressBar progressBar;

    public AppWebViewClients(ProgressBar progressBar) {
        this.progressBar=progressBar;
        progressBar.setVisibility(View.VISIBLE);
    }
    @Override
    public boolean shouldOverrideUrlLoading(WebView view, String url) {
        // TODO Auto-generated method stub
        view.loadUrl(url);
        return true;
    }

    @Override
    public void onPageFinished(WebView view, String url) {
        // TODO Auto-generated method stub
        super.onPageFinished(view, url);
        progressBar.setVisibility(View.GONE);
    }
} 
```

谢谢。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-02T06:25:26.167

您需要通过扩展[WebViewClient](http://developer.android.com/reference/android/webkit/WebViewClient.html)类为您的 WebView 设置自己的 WebViewClient。

您需要实现 onPageStarted（在此处显示）和 onPageFinished（在此处关闭）这两个方法。

可以在 Google 的[WebView 教程中找到有关此主题的更多指导](http://developer.android.com/guide/webapps/webview.html#HandlingNavigation)

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-05-03T06:27:31.997

```
 public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {
        alertDialog.setTitle("Error");
        alertDialog.setMessage(description);
        alertDialog.setButton("OK", new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int which) {
                return;
            }
        });
        alertDialog.show();
    }
}); 
```

# android - 从另一个类调用 setContentView

> ID：11288614
> 
> 赞同：0
> 
> 时间：2012-07-02T06:20:33.260
> 
> 标签：android

我有 ActivityA 它创建一个 ClassB 对象，其中我传递如下上下文：

```
ClassB b = new ClassB(ActivityA.this); 
```

我想在 ClassB 中有一个方法，我可以在其中调用 ActivityA

`setContentView(R.layout.sample);`

这是可能的还是无论如何都要这样做？

ClassB 是我扩展自定义对话框的地方。

编辑：这样做的原因是我想刷新 ActivityA 的视图 bec。我正在设置语言环境。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:26:48.413

> ClassB 是我扩展自定义对话框的地方。

创建对话框，例如，

```
Dialog dialog = new Dialog(context);
dialog.setContentView(R.layout.dialoglayout);
dialog.show(); 
```

# blackberry - Phonegap-Blackberry 后退问题/如何处理 phonegap 中的后退键

> ID：11288615
> 
> 赞同：0
> 
> 时间：2012-07-02T06:20:43.000
> 
> 标签：blackberry, cordova, blackberry-simulator

当我使用黑莓模拟器按下后退键然后它关闭我的整个应用程序但是当我按下我在标题中提供的后退按钮时它工作正常。如何解决这个问题？在phonegap中是否有任何回压？android 的相同代码工作正常意味着它不会在后键按下时关闭应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T22:32:23.083

或者 `<script type="text/javascript">` `// Wait for PhoneGap to load` `//` `document.addEventListener("deviceready", onDeviceReady, false);` `// PhoneGap is ready` `//` `function onDeviceReady() {` `blackberry.system.event.onHardwareKey(blackberry.system.event.KEY_BACK,` `function() {` `history.back();` `return false;` `});` `}` `</script>`

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-19T21:04:20.690

在 config.xml -->`<feature id="blackberry.system.event" version="1.0.0"/>`

# java - 在eclipse中为android项目创建jar

> ID：11288622
> 
> 赞同：11
> 
> 时间：2012-07-02T06:21:39.030
> 
> 标签：java, android, eclipse, jar

大家好，我如何创建使用 Eclipse 在 android 中创建的项目的 jar 文件。我已经以这种方式完成了*项目->右键单击->导出->选择构建器->antbuilder-->确定*，然后在此过程之后将创建*build.xml 。*在 bulid.xml 上，我将创建新的构建器。

*   右键单击项目 -> 属性 -> 选择新建 -> 提供 build.xml 和您的项目路径，然后按确定，将创建新的构建器。
*   现在从项目属性中选择该构建器，然后按确定。
*   现在构建您的项目，您的 jar 将在 bin 文件夹中创建。

我遵循了上述过程，但在 bin 文件夹中找不到我的 jar。我可以看到我的 build.xml 已创建并且所有过程都很顺利，但仍然没有创建 jar。谁能告诉我该怎么做？

我的 build.xml

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- WARNING: Eclipse auto-generated file.
              Any modifications will be overwritten.
              To include a user specific buildfile here, simply create one in the same
              directory with the processing instruction <?eclipse.ant.import?>
              as the first entry and export the buildfile again. -->
<project basedir="." default="build" name="testtttttttttt">
    <property environment="env"/>
    <property name="debuglevel" value="source,lines,vars"/>
    <property name="target" value="1.6"/>
    <property name="source" value="1.6"/>
    <path id="Android 2.2.libraryclasspath">
        <pathelement location="C:/Program Files (x86)/Android/android-sdk/platforms/android-8/android.jar"/>
    </path>
    <path id="com.android.ide.eclipse.adt.LIBRARIES.libraryclasspath"/>
    <path id="testtttttttttt.classpath">
        <pathelement location="bin/classes"/>
        <path refid="Android 2.2.libraryclasspath"/>
        <path refid="com.android.ide.eclipse.adt.LIBRARIES.libraryclasspath"/>
    </path>
    <target name="init">
        <mkdir dir="bin/classes"/>
        <copy includeemptydirs="false" todir="bin/classes">
            <fileset dir="src">
                <exclude name="**/*.java"/>
            </fileset>
        </copy>
        <copy includeemptydirs="false" todir="bin/classes">
            <fileset dir="gen">
                <exclude name="**/*.java"/>
            </fileset>
        </copy>
    </target>
    <target name="clean">
        <delete dir="bin/classes"/>
    </target>
    <target depends="clean" name="cleanall"/>
    <target depends="build-subprojects,build-project" name="build"/>
    <target name="build-subprojects"/>
    <target depends="init" name="build-project">
        <echo message="${ant.project.name}: ${ant.file}"/>
        <javac debug="true" debuglevel="${debuglevel}" destdir="bin/classes" source="${source}" target="${target}">
            <src path="src"/>
            <classpath refid="testtttttttttt.classpath"/>
        </javac>
        <javac debug="true" debuglevel="${debuglevel}" destdir="bin/classes" source="${source}" target="${target}">
            <src path="gen"/>
            <classpath refid="testtttttttttt.classpath"/>
        </javac>
    </target>
    <target description="Build all projects which reference this project. Useful to propagate changes." name="build-refprojects"/>
    <target description="copy Eclipse compiler jars to ant lib directory" name="init-eclipse-compiler">
        <copy todir="${ant.library.dir}">
            <fileset dir="${ECLIPSE_HOME}/plugins" includes="org.eclipse.jdt.core_*.jar"/>
        </copy>
        <unzip dest="${ant.library.dir}">
            <patternset includes="jdtCompilerAdapter.jar"/>
            <fileset dir="${ECLIPSE_HOME}/plugins" includes="org.eclipse.jdt.core_*.jar"/>
        </unzip>
    </target>
    <target description="compile project with Eclipse compiler" name="build-eclipse-compiler">
        <property name="build.compiler" value="org.eclipse.jdt.core.JDTCompilerAdapter"/>
        <antcall target="build"/>
    </target>
</project> 
```

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-07-02T07:04:48.440

在 Eclipse 中，选择项目，右键单击项目，选择导出，从中选择 Jar。然后按照简单的向导，给出你想要保存 jar 的目的地，然后完成。你可以在那里找到你的罐子。 ![在此处输入图像描述](../Images/0f443ea650e98ab5b5e49aa61f16d078.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-09T18:55:09.767

[第 1 步。按照此处](http://www.vogella.com/articles/AndroidLibraryProjects/article.html)的说明创建 Android 库项目。

第 2 步。现在您需要将第 1 步中创建的 Android 库项目的引用提供给您的客户端应用程序。有两种方法可以做到这一点。

•通过客户端应用程序属性提供 Android 库项目本身的参考 -> 在左侧窗格中选择“Android” -> 在 Libraty 部分中，添加 Android Libraty 项目（这在上面第 1 步中给出的链接中进行了解释）

• 给出Android Library 项目的.jar 文件的引用（从Android Library 项目的位置-> bin -> .jar 文件）。客户端应用程序 -> 属性 -> 单击左侧窗格中的“Java 构建路径” -> 转到“库”选项卡 -> 单击“添加外部 JAR”按钮并选择 .jar 文件 -> 转到“订购和导出”选项卡，然后选择添加的 .jar 文件引用并将其移至顶部。

希望对你有帮助

# c# - 在运行时修改 ORM 模型

> ID：11288624
> 
> 赞同：1
> 
> 时间：2012-07-02T06:21:54.570
> 
> 标签：c#, entity-framework, orm

关于这个主题（[在运行时修改实体框架模型](https://stackoverflow.com/questions/4019895/modifying-an-entity-framework-model-at-run-time)）进行了相当多的讨论，但到目前为止，我还没有找到一个很好的解决方案。我们目前有一个使用 EF 4.0 构建的模型，需要允许客户将自定义字段添加到各种表中。我们目前已经使用一些描述新属性的通用表解决了这个问题，但我们发现该解决方案的性能不佳。

有谁知道动态向数据库添加列并更新 ORM 以在运行时反映这一点的好方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T13:30:37.800

在运行时更新 EF 以反映数据库中的更改没有好的、好的或可管理的方法。如果您确实有一个必须在运行时更改的数据库，那么 EF 对您来说不是一个好工具。EF 是强类型的 - 对数据库的每次更改不仅必须反映在映射中，而且还必须反映在用于加载和持久化数据的实体类中。

在运行时更改实体类总是进入运行时发出 IL 代码的区域。如果您通过使用动态模块和动态实体类型创建动态装配的过程，您将面临许多新挑战：

*   您不会更改现有类型 - 每次用户添加或删除某些属性时，您都会生成一个新类型。
*   新的类型生成为重建上下文的元数据工作空间带来了新的性能成本。如果您在服务器上使用它，您还必须确保它正确同步。另一个问题是旧类型的所有现有实例（在添加或删除属性之前）现在对于 EF 上下文的新实例是未知的，并且无法持久化。如果您还想保留它们，您还需要带有旧元数据工作区的 EF 上下文实例。
*   你的很多代码可能会使用`dynamic`而不是真正的类型 = 没有编译时检查。直接与 EF 交互时，继承和接口将无用，因为必须映射继承（您不想要它）并且 EF 不接受接口。
*   新类型在设计时是未知的 - 您不能将它用于设计时代码和编译。
*   EF 不喜欢`dynamic`或者`ExpandoObject`因为它使用反射进行映射 -> 在运行时您的动态实例必须是正确的类型，否则反射将不起作用。
*   如何编写动态类型的查询？查询总是从通用实例开始`DbSet`或`ObjectSet`为具体类型创建 - 您也必须能够动态地创建这些实例。泛型参数必须是映射到当前上下文的类型 -`dynamic`在这种情况下无济于事，因为它不是映射类型。
*   .NET 在这种情况下有一个很好的行为。它无法卸载程序集。因此，每次生成新类型时，也会加载旧时间。

您还想在运行时更改 EF 吗？您当前的方法是正确的。只需对其进行调整以获得更好的性能，但请注意，这些要求总是伴随着性能成本——尤其是 EF。

或者使用链接表中提到的最后一种方法 - 直接在主实体中固定数量的预定义自定义字段。

# asp.net-mvc-3 - 需要一个 Linq 查询来对应 Sql 查询

> ID：11288627
> 
> 赞同：0
> 
> 时间：2012-07-02T06:22:37.750
> 
> 标签：asp.net-mvc-3, linq, entity-framework-4

基本上我有三个表用户角色和具有多对多关系的 USerRoles。所以当我在 .edmx 上导入这些时，我只得到两个实体。所以我在两个实体中都有导航属性。我有三个用户和两个角色（管理员和只读）。所以现在我想获取所有具有管理员角色的用户。下面是我的 Sql 查询

```
select U.UserName from Users U
Inner Join UserRoles UR on U.UseID = UR.UserId where UR.RoleId = 1 
```

我想在 Linq 查询上面。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:29:41.570

**更新：**

```
var result = Users.Where(u => u.Roles.Any(x => x.RoleId == 1)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T06:30:27.023

像这样的东西：

```
users.Include("Roles").Where(u => u.Roles.Any(x => x.Id == 1)) 
```

# c# - 在C#中的字符串数组中获取复选框选中的项目内容

> ID：11288629
> 
> 赞同：0
> 
> 时间：2012-07-02T06:22:46.417
> 
> 标签：c#, windows-phone-7

我有一个包含复选框的列表框。我想在字符串数组中获取所有复选框选中的项目内容。我怎样才能得到这个？

```
<Grid x:Name="ContentPanel" Grid.Row="1" Margin="12,0,12,0"> 
    <ListBox x:Name="TrackingView1" Margin="9,0,2,5"> 
        <ListBox.ItemTemplate> 
            <DataTemplate> 
                <CheckBox x:Name="fileNameLinkButton" Content="{Binding BindsDirectlyToSource=True}" FontFamily="Segoe WP Semibold" Foreground="Black" FontSize="20" /> 
            </DataTemplate> 
        </ListBox.ItemTemplate> 
    </ListBox> 
</Grid> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T06:20:01.170

您可以使用 VisualTreeHelper 检索数据模板项，使用此方法获取数据模板的第一项

```
 //method for finding first element of the listbox data template
    private T FindFirstElementInVisualTree<T>(DependencyObject parentElement) where T : DependencyObject
    {
        var count = VisualTreeHelper.GetChildrenCount(parentElement);
        if (count == 0)
            return null;
        for (int i = 0; i < count; i++)
        {
            var child = VisualTreeHelper.GetChild(parentElement, i);
            if (child != null && child is T)
            { return (T)child; }
            else
            {
                var result = FindFirstElementInVisualTree<T>(child);
                if (result != null)
                    return result;
            }
        }
        return null;
    } 
```

然后在您想要的情况下使用此代码，例如单击按钮

```
 int itemsCount = this.TrackingView1.Items.Count;
 List<string> myList = new  List<string>();
 for (int i = 0; i < itemsCount; i++)
 {
            ListBoxItem item = (ListBoxItem)this.TrackingView1.ItemContainerGenerator.ContainerFromIndex(i);
            CheckBox tagregCheckBox = FindFirstElementInVisualTree<CheckBox>(item);
            if((bool)tagregCheckBox.IsChecked)                
              myList.Add(tagregCheckBox.Content.ToString());
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T07:38:26.987

在经典的 TextBook 方法中，您可以将“TrackingView1”绑定到 IList，其中 PersonClass 看起来像

```
public class PersonClass
{
    public string Name { get; set; }
    public bool IsSelected { get; set; }

    public PersonClass(string name, bool isSelected)
    {
    this.Name = name;
    this.IsSelected = isSelected;
    }
} 
```

在您想要收集数据的地方，

```
string[] checkedNames = (from name in Names
            where name.IsSelected
            select name.Name).ToArray(); 
```

我实际上会避免 ToArray()，并直接访问 UI

# android - Eclipse Content Assist - 启用自动激活

> ID：11288631
> 
> 赞同：4
> 
> 时间：2012-07-02T06:23:09.857
> 
> 标签：android, eclipse

我进入**Eclipse -> Preference -> Jave -> Editor -> Content Assist**。

![在此处输入图像描述](../Images/e3143168e3d76135a9f2d0bf628481f6.png)

我已启用自动激活并将延迟时间设置为**0**。但是如何在不写任何东西的情况下让自动完成工作，甚至是“。”？就像在 XCode 中一样。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-02T12:47:14.420

You are looking for [http://wiki.eclipse.org/JDT/FAQ#Can_I_enable_code_completion_to_be_activated_as_I_type_like_how_it_works_in_Visual_Studio.3F](http://wiki.eclipse.org/JDT/FAQ#Can_I_enable_code_completion_to_be_activated_as_I_type_like_how_it_works_in_Visual_Studio.3F)

# javascript - 你能从 SVG 启动 jQuery 吗？

> ID：11288633
> 
> 赞同：-10
> 
> 时间：2012-07-02T06:23:28.980
> 
> 标签：javascript, jquery, svg

我想发帖

[http://anysite.com](http://anysite.com)（任何论坛/博客/站点/...）

一个*SVG* IMAGE TAG 远程像这样：

<img src="http://myownsite.com/myimage.svg" >（我自己的网站）

为了从它启动 jQuery/javascript/ajax。详细地说，我希望 .svg 文件打开一个更大的 div，包括交互功能。

这可能吗？如果是，如何？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T06:57:40.780

`<img>`出于安全原因，浏览器不允许通过标签加载的 SVG运行 javascript。他们关心的安全问题几乎就是你想要做的，有一个看起来是一回事但实际上不是的图像。

# raphael - 如何使用石墨制作钻石形状？

> ID：11288634
> 
> 赞同：0
> 
> 时间：2012-07-02T06:23:31.580
> 
> 标签：raphael, draw2d, graphiti-js

你能告诉我如何在graphiti中制作钻石形状吗，我已经使用RestoreBridge示例进行了尝试，但该示例是SVG导入，所以请提供一些想法或代码来制作类似钻石的形状（可调整大小和可拖动的钻石）。

提前致谢：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:41:27.520

“钻石”形状是石墨 0.9.34 的一部分

检查包“graphiti.shape.basic.*”

# mysql - 如何从 Hibernate 中的插入记录中获取 AUTO_INCREMENT ID？

> ID：11288636
> 
> 赞同：3
> 
> 时间：2012-07-02T06:23:44.447
> 
> 标签：mysql, hibernate

我正在使用 Hibernate3.0 和 mysql 作为数据库，在我的项目的一个场景中，我必须插入一条具有默认值的记录。插入成功后，我必须检索`auto_generated id`插入的记录，以便我可以将它用于下一个查询？

可能有多个记录被插入到同一个表中。那么有什么安全的方法来检索 AUTO_GENERATED ID 吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-02T06:29:41.233

也许是这样的？

```
session.persist(myEntity);
myEntity.getId(); 
```

# c# - 通过虚拟路径动态实例化 ASP.NET 页面类对象

> ID：11288641
> 
> 赞同：3
> 
> 时间：2012-07-02T06:24:34.090
> 
> 标签：c#, asp.net, windows, visual-studio-2010

这可以做到吗？如何？

我尝试了以下但没有成功：

*   **Method1** using `BuildManager.CreateInstanceFromVirtualPath`- 在发布后不起作用。（我认为它失败了，因为我使用强名称程序集预编译，不确定）。

*   **方法2**使用以下代码：

    ```
    Page page = new SchedulerTest();  // An ASPX Page class (note: CodeBehind) 
    page.AppRelativeVirtualPath =
    context.Request.AppRelativeCurrentExecutionFilePath; 
    page.ProcessRequest(context); 
    ```

    如发现[here](http://www.west-wind.com/weblog/posts/2007/Jul/23/Loading-an-ASPNET-Page-Class-dynamically-in-an-HttpHandler) - 不起作用，因为我在运行时不知道页面类名称。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-29T17:21:46.743

好的，这就是我的想法。

a) 为什么直到运行时才知道类的名称？你如何计算出类名将是什么？如果您可以解决关系，那么您可以使用反射来创建页面实例，然后使用它。

b) 你真正想要达到什么目的？如果您尝试根据某些条件（查询字符串或其他内容）将请求路由到另一个请求，那么您可以使用 HttpModule 并重写路径。我正在努力看看您可能还想做什么。通过这种方式，您可以再次使用您的虚拟路径。

# php - 字段名称之间的空格

> ID：11288647
> 
> 赞同：0
> 
> 时间：2012-07-02T06:25:12.797
> 
> 标签：php, http, parameters, urldecode

你好，我正在研究 codeigniter，我遇到了一个问题，当任何人去编辑输入为“XYZ ABC”的名称时，意味着在它们之间提供空间，然后当它打印在要编辑的文本字段上时，我们会在它们之间打印“%20”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:30:24.517

听起来用户输入在某个地方得到了 url_encoded，就像`%20`urlencoded 空白一样。在显示/写入数据库之前尝试对其进行解码：

[http://www.php.net/manual/de/function.urldecode.php](http://www.php.net/manual/de/function.urldecode.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T06:30:33.840

尝试：

```
echo urldecode($str); 
```

[阅读更多](http://php.net/manual/en/function.urldecode.php)

# hibernate - 一对多关系 Hibernate 错误

> ID：11288651
> 
> 赞同：0
> 
> 时间：2012-07-02T06:25:32.697
> 
> 标签：hibernate, integration, spring-webflow

> **可能重复：**
> [休眠问题 - “使用 @OneToMany 或 @ManyToMany 定位未映射的类”](https://stackoverflow.com/questions/4956855/hibernate-problem-use-of-onetomany-or-manytomany-targeting-an-unmapped-clas)

我正在让 Spring 集成 Hibernate 项目。但是我在项目中添加了一对多我得到了错误

用户.java

```
 @Entity
    @Table(name = "UserLogin")
  public class User implements Serializable {

private static final long serialVersionUID = -3652559447682574722L;

private int id;
private String username;

private String password;

private Set<EmployeeLeave> leaveInfo = new HashSet<EmployeeLeave>();

public User() {
}

public User(String username, String password, int id) {
this.username = username;
this.password = password;
this.id = id;
}

@Column(name = "username", nullable = false)
public String getUsername() {
return username;
}

public void setUsername(String username) {
this.username = username;
}

@Column(name = "password", nullable = false)
public String getPassword() {
return password;
}

public void setPassword(String password) {
this.password = password;
}

@Id
@Column(name = "id")
@GeneratedValue(strategy = GenerationType.AUTO)
public int getId() {
return id;
}

public void setId(int id) {
this.id = id;
}

@Override
public String toString() {
return "User(" + username + ")";
}

public String UserAuthentification() {

return "Success";

}

/*
 * @OneToMany(cascade = CascadeType.ALL)
 * 
 * @JoinTable(name = "employee_leave", joinColumns = { @JoinColumn(name = "id") }, inverseJoinColumns = {
 * 
 * @JoinColumn(name = "employeeId") })
 */
@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = "user")
public Set<EmployeeLeave> getLeaveInfo() {
return leaveInfo;
}

public void setLeaveInfo(Set<EmployeeLeave> leaveInfo) {
this.leaveInfo = leaveInfo;
} 
```

}

员工休假.java

```
 @Entity
     @Table(name = "employeeLeave")
     public class EmployeeLeave implements Serializable {

/**
 * 
 */

private static final long serialVersionUID = 1L;

private Long employeeId;
private Date startDate;
private Date endDate;
private String reason;
private Long totalSickLeave;
private Long totalPaidoffLeave;
private String status = "Waiting";
private User user;

@Id
@Column(name = "employeeId")
public Long getEmployeeId() {
return employeeId;
}

public void setEmployeeId(Long employeeId) {
this.employeeId = employeeId;
}

@Column(name = "startdate", nullable = false)
public Date getStartDate() {
return startDate;
}

public void setStartDate(Date startDate) {
this.startDate = startDate;
}

@Column(name = "enddate", nullable = false)
public Date getEndDate() {
return endDate;
}

public void setEndDate(Date endDate) {
this.endDate = endDate;
}

@Column(name = "reason", nullable = false)
public String getReason() {
return reason;
}

public void setReason(String reason) {
this.reason = reason;
}

@Column(name = "totalsickleave", nullable = false, columnDefinition = "bigint default 15")
public Long getTotalSickLeave() {
return totalSickLeave;
}

public void setTotalSickLeave(Long totalSickLeave) {
this.totalSickLeave = totalSickLeave;
}

@Column(name = "totalpaidoffleave", nullable = false, columnDefinition = "bigint default 15")
public Long getTotalPaidoffLeave() {
return totalPaidoffLeave;
}

public void setTotalPaidoffLeave(Long totalPaidoffLeave) {
this.totalPaidoffLeave = totalPaidoffLeave;
}

@Column(name = "status", nullable = false, columnDefinition = "TEXT")
public String getStatus() {
return status;
}

public void setStatus(String status) {
this.status = status;
}

@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = "id", nullable = false)
@ForeignKey(name = "fk_authorities_users")
public User getUser() {
return user;
}

public void setUser(User user) {
this.user = user;
}
} 
```

LeaveApp.xml

```
 <beans xmlns="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">

<!-- LeaveAppication business object -->
<bean id="leaveBo" class="com.nagra.leave.UserAutenBo.LeaveUserInfoBoImpl">
    <property name="leaveuserDao" ref="leaveuserDao" />
</bean>

<!-- LeaveAppication Data Access Object -->
<bean id="leaveuserDao" class="com.nagra.leave.UserAuthe.Dao.LeaveUserinfoDaoImpl">
    <property name="sessionFactory" ref="sessionFactory"></property>
</bean>

 </beans> 
```

我收到以下错误：

```
Caused by: org.hibernate.AnnotationException: Use of @OneToMany or @ManyToMany   targeting an unmapped class: com.nagra.leave.User.leaveInfo[com.nagra.leave.EmployeeLeave] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T12:21:42.217

你的会话工厂应该列出 Hibernate 映射的所有类。鉴于错误，您只是忘记将**com.nagra.leave.EmployeeLeave**添加到此列表！

# objective-c - Objective-C 中的 ^ 符号是什么意思？

> ID：11288656
> 
> 赞同：2
> 
> 时间：2012-07-02T06:25:47.323
> 
> 标签：objective-c, ios, objective-c-blocks

> **可能重复：**
> [目标 C 中的插入符号](https://stackoverflow.com/questions/1912023/caret-in-objective-c)

Objective-C 中的 ^ 符号是什么意思？

代码：

```
 GreeRequestServicePopup* requestPopup = [GreeRequestServicePopup popup];
 requestPopup.parameters = parameters;

 requestPopup.willLaunchBlock = ^(id aSender) {
 [[NSNotificationCenter defaultCenter] postNotificationName:@"request_service_popup_will_launch_block" object:nil];

 };

 requestPopup.didLaunchBlock = ^(id aSender) {
[[NSNotificationCenter defaultCenter] postNotificationName:@"request_service_popup_did_launch_block" object:nil];
 };

 requestPopup.willDismissBlock = ^(id aSender) {
 [[NSNotificationCenter defaultCenter] postNotificationName:@"request_service_popup_will_dismiss_block" object:nil];
 };

 requestPopup.didDismissBlock = ^(id aSender) {
 [[NSNotificationCenter defaultCenter] postNotificationName:@"request_service_popup_did_dismiss_block" object:nil];
 };

 requestPopup.cancelBlock = ^(id aSender) {
 [[NSNotificationCenter defaultCenter] postNotificationName:@"request_service_popup_cancel_block" object:nil];
 };

 requestPopup.completeBlock = ^(id aSender) {
 [[NSNotificationCenter defaultCenter] postNotificationName:@"request_service_popup_complete_block" object:nil];
 };

 [self.navigationController showGreePopup:requestPopup];
 } 
```

提前致谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-02T06:29:13.353

`^`是[块](http://developer.apple.com/library/ios/#documentation/cocoa/Conceptual/Blocks/Articles/00_Introduction.html)文字。块文字后面是参数，然后是花括号以指示代码的实际内容：

```
| ^          | (id arg)    | {};          |
|:-----------|------------:|:------------:|
| Block      | Parameters  |     Body     |
| literal    |             |              | 
```

[块文字在这里](http://pragmaticstudio.com/blog/2010/7/28/ios4-blocks-1/)解释得很好。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-02T06:29:27.553

`^`表示一个**块**。在此处查看更多信息：http: [//developer.apple.com/library/ios/#documentation/cocoa/Conceptual/Blocks/Articles/00_Introduction.html](http://developer.apple.com/library/ios/#documentation/cocoa/Conceptual/Blocks/Articles/00_Introduction.html)

实际上，这指定了一段将在以后执行的代码。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-02T06:29:43.317

那些是块。[你可以在这里](http://developer.apple.com/library/ios/#featuredarticles/Short_Practical_Guide_Blocks/_index.html)阅读一个很好的介绍。然后阅读[块编程主题](http://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/Blocks/Articles/00_Introduction.html#//apple_ref/doc/uid/TP40007502)以获取更多详细信息。

# javascript - javascript中的原型链

> ID：11288660
> 
> 赞同：4
> 
> 时间：2012-07-02T06:26:28.227
> 
> 标签：javascript, prototype

假设我有两个构造函数：

```
var Person = function(xx,xx,xxx,xxxxxxx) {
  //Person initialization
}

var Man = function(xx,xx,xxx,xxx) {
  //Man initialization
} 
```

我希望人从人延伸。

以下是我的想法：

给定一个创建的 Man 对象：

```
var m=new Man("xx",....); 
```

1) 当一个属性`m`被访问时，它会在`Man.prototype`.

2）如果没有找到，它应该找到它`Man.prototype.__prop__`。

所以我要做的是使`Man.prototype.__prop__`链接到`Person.prototype`.

我知道这是常见的方式：

```
function inherit(superClass) {
    function F() {}
    F.prototype = superClass.prototype;
    return new F;
}
Man.prototype=inherit(Person); 
```

但是当我尝试这个时：

```
Man.prototype.prototype=Person.prototype. 
```

为什么它不起作用？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-02T07:20:28.323

*听起来*您实际上想要将`Man`的实例链接到保留其构造函数中添加的任何属性的实例`Person`，在这种情况下，您可能真的想要这样的东西：

```
function Person(a, b) {
    this.a = a;
    this.b = b;
}

function Man() {}
Man.prototype = new Person("val1", "val2");

var m = new Man();
console.log(m.a); 
```

...打印`val1`.

## 额外的杂谈

的目的`inherit`是从一个函数创建一个对象，该函数`prototype`是给定超类的函数（没有显式使用`new`），这正是它所做的。因此，以下打印`string`：

```
function Person() {}
Person.prototype.test = "string";

function Man() {}

function inherit(superClass) {
    function F() {}
    F.prototype = superClass.prototype;
    return new F;
}

var t = inherit(Person);
console.log(t.test); 
```

但是您通常希望将返回的对象分配给另一个函数的原型：

```
Man.prototype = inherit(Person);

var m = new Man();
console.log(m.test); 
```

...所以`m.test`也打印`string`，这意味着使用创建的对象`Man`链接到`Person`'s `prototype`）。

请注意，这`Man.prototype.prototype`是`undefined`和——这是重要的部分——也没有意义。函数有原型。其他对象（例如`Man.prototype`）没有。该`prototype`属性在任何其他情况下都不是神奇的。为随机对象的属性赋值`prototype`并没有什么特别的作用。这只是另一个属性。

还要注意，我们返回的东西是通过它的方式`inherit`链接到的，并且无法访问添加*到*.`Person``prototype`*`Person`*

 ** * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-02T06:29:18.473

我是怎么做的（关于你的例子）：

```
var Person = function () {
}

// Define "Person" methods

var Man = function () {
}

Man.prototype = new Person();

// Define "Man" methods 
```

**更新**

关于带参数的构造函数：刚刚发现这个可以真正帮助您弄清楚的问题（第二个答案，第一部分）：[JavaScript 继承：当构造函数有参数时](https://stackoverflow.com/questions/7533473/javascript-inheritance-when-constructor-has-arguments)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T11:18:12.297

有很多通用方法可以做到这一点。我将提供其中三个：

1.) 使用 Function 对象作为构造函数和继承的新对象的原型对象。实现应如下所示：

```
var person = {
    toString : function() {
        return this.firstName + ' ' + this.lastName;
    }
}

function extend(constructor, obj) {
    var newObj = Object.create(constructor);
    for (var prop in obj) {
        if (obj.hasOwnProperty(prop)) {
            newObj[prop] = obj[prop];
        }
    }
    return newObj;
}

var man = extend(person, 
    {
        sex: "male", 
        age: "22"
    });

var name = extend(man, 
    {
        firstName: "Simo",
        lastName: "Endre"
    });

name.man;
name.toString(); 
```

2.) 在这种情况下，我们将使用 Function 对象作为构造函数，以模拟 C# 或 Java 等语言中的经典继承。对象的原型属性将用作构造函数，新创建的对象将继承对象原型根的所有属性。在这种情况下，对象的原型只有一种增强作用，有效的实现是在函数方法中完成的。

```
var Person = function(firstName, lastName) {
    this.firstName = firstName;
    this.lastName = lastName;
}

Person.prototype.toString = function() {
    return this.firstName + ' ' + this.lastName;
}

function inherit(func) {
    // passing function arguments into an array except the first one which is the function object itself
    var args = Array.prototype.slice.call(arguments, 1);

    // invoke the constructor passing the new Object and the rest of the arguments
    var obj = Object.create(func.prototype);
    func.apply(obj, args);        

    //return the new object
    return obj;   
}

var man = inherit(Person, "Simo", "Endre");
man.toString(); 
```

3.) 众所周知的继承模型：

```
function extend(o) {
  function F() {}

  // We'll set the newly created function prototype property to the object. 
  //This act as a constructor.
  F.prototype = o;

  // Using the `new` operator we'll get a new object whose prototype is o.
  return new F();
}; 
```*

# git - Windows Azure 网站合并分支 'master' - 已删除资源

> ID：11288663
> 
> 赞同：0
> 
> 时间：2012-07-02T06:26:41.047
> 
> 标签：git, azure

所以我将一些文件推送到我的网站，但是在被提示输入 ssl 身份验证用户名和密码后，我得到以下信息，类似于您使用 .htaccess 设置的那些

您要查找的资源已被删除、名称已更改或暂时不可用。

我想知道为什么我的合并分支在 www.MyWebsite_Name..azurewebsites.net/MyWebsite_Name 之后有一个额外的目录

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T10:38:14.260

我对git不熟悉。如果您使用 WebDeploy 或 FTP，它可以工作吗？

# c - 目标在 Makefile 中的作用是什么？

> ID：11288669
> 
> 赞同：6
> 
> 时间：2012-07-02T06:26:56.797
> 
> 标签：c, linux, makefile, target

我的印象是冒号的左侧`:`代表`target`可执行文件，而右侧代表“依赖项”，即生成所述目标所需的文件。

```
hello : hello.c
    gcc hello.c -Wall -o hello 
```

所以，我认为目标“你好”是最终可执行文件的名称。

```
executableHelloWorldFile : hello.c
    gcc hello.c -Wall -o hello 
```

但是，当我将“hello”更改为“executableHelloWorldFile”时，输出没有任何变化。

我知道如何创建目标，**但在这里我想了解`target`Makefile 有什么帮助？**

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-02T06:30:38.150

首先，**假定 Target 是一个文件**，如果该文件不存在或它的时间戳晚于它的任何依赖项，则重新制作该文件。如果您将目标名称从实际文件名更改为随机名称，您的目标将始终被重新制作，因为您用来欺骗 make 的任意文件不存在，并且在 make 运行您指定的命令时不会创建它。

编辑：你的编译器不知道 make 调用它，它完全按照你给它的指令执行（就像每个计算机程序都应该做的那样）。如果你说'-o hello'，它会将二进制文件写入文件'hello'，而不管你想出的虚假目标名称如何。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-02T06:34:24.797

A`make target`基本上是您要重建的文件。

Make 无法预测您想要构建什么，因此您必须隐含或明确地告诉它应该构建什么。通常，文件中的第一个目标是一个名称，例如“all”，如果您在没有任何明确目标的情况下运行“make”，它将构建 makefile 中列出的第一个目标。但是，一些 makefile 没有指定任何目标；那么您必须在命令行上指定一个。或者，如果您不想构建默认目标，则必须指定您想要构建的目标。

A `makefile` will usually include code to make your program, install your program, clean up afterward, and other things.

so the word target could be various keywords, such as `all, install, clean, etc`.

It's a way of saying make something. make all implies do everything

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-02T06:33:04.697

1.  是的，在您的示例中，目标“hello”恰好导致构建 .exe“hello”。

2.  但是不，您可以触发目标的任何操作（或操作组合）。

    例如，“make clean”、“make build”、“make install”和“make all”都是常用命令。他们触发 makefile 以 1) 清理任何已经构建的“垃圾”，2) 重新编译项目，3) 安装项目或 4) 做所有事情

3.  要回答您的问题，“目标”只是告诉生成文件“做某事”的一种方式。

    在您的示例中，目标将调用“gcc”。但当且仅当源文件“hello.c”已过期时，它才会调用它。

4.  makefile 通常由许多目标、规则和定义组成。

    一个组件通常由多个子项目组成，每个子项目都有自己的 makefile。

'希望有帮助.. PSM

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-02T06:31:12.187

您需要在规则中使用适当的变量：`$@`目标`$^`是依赖项。在您的情况下，这应该是：

```
executableHelloWorldFile : hello.c
    gcc $^ -Wall -o $@ 
```

或者当您只需要引用第一个依赖项时，请使用`$<`：

```
executableHelloWorldFile : hello.c
    gcc $< -Wall -o $@ 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-02T06:33:20.970

make 执行你给它的命令。如果该命令没有创建目标，那是你写错命令的错。显着的区别是，如果您正确指定了目标，您可以连续运行两次 make，第二次它会知道目标是最新的并且不需要重新构建。当目标实际上不是由命令创建时，如果您连续运行两次 make，第二次将不必要地重新运行该命令。

某些目标（如`all`和`clean`）通常包含在 Makefile 中，但实际上并不是现有文件。它们代表用户可以使用命令请求的更大操作，例如`make clean`每次都必须运行命令。

# android - Android 的库 UI

> ID：11288671
> 
> 赞同：0
> 
> 时间：2012-07-02T06:27:10.720
> 
> 标签：android, android-widget, android-ui

问：我想做一个可以放杂志的木架子。我将使用以木架作为背景图像的列表视图。我使用自定义列表，纵向模式下有 3 个图像视图，横向模式下有 4 个图像视图。现在如何动态添加杂志缩略图以及如何唯一检测该项目？我认为这种设计架子的方式很简单，我不确定。建议我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:57:28.690

看看Romain Guy 的[书架](http://code.google.com/p/shelves/)，更具体地说是[这个](http://code.google.com/p/shelves/source/browse/trunk/Shelves/src/org/curiouscreature/android/shelves/view/ShelvesView.java)。在这里，他使用了带有图像作为背景的gridview。希望能帮助到你。

# ios - CALayer 在横向模式下中断

> ID：11288673
> 
> 赞同：1
> 
> 时间：2012-07-02T06:27:18.717
> 
> 标签：ios, calayer, transition

我正在编写基于快门过渡教程的自定义过渡。这很简单，第一个视图控制器旨在分成数百个部分，然后一次淡出一个，但问题是它在横向模式下不起作用。显然 CALayer 的“contentsRect”方法（它应该在标准化图像空间上工作）只能在纵向模式下工作。如果有人需要查看，我已将我的文件附在此处，如果你能帮助我，请。

[http://tinyurl.com/88669oy](http://tinyurl.com/88669oy)

问候

这也是我的转码：

```
CALayer*        viewLayer;

- (void)transitWithImageView:(UIImageView *)imgView inView:(UIView *)view withImage:(UIImage *)img
{
     viewLayer = [imgView layer];
    [view.layer addSublayer:viewLayer];

    CGSize layerSize = viewLayer.bounds.size;

    // BEGINING OF MAKE ARRAY OF TRANSITIONS
    NSMutableArray* allTransitionsArr = [[NSMutableArray alloc] init]; 
       for ( int i = 0; i < BLOCK_COUNT; i++ )
    {
        CABasicAnimation *fade = [CABasicAnimation animationWithKeyPath:@"opacity"];
        fade.toValue =   [NSNumber numberWithFloat:-1-sqrt(i)];
        fade.autoreverses = NO;
        fade.duration = DURATION;
        [allTransitionsArr addObject: fade];
    }
    // END OF MAKE ARRAY OF TRANSITIONS

    NSMutableArray *blocks = [[NSMutableArray alloc] init];     
    [viewLayer removeFromSuperlayer];
        [CATransaction begin];

    [CATransaction setCompletionBlock:^(void) 
     {
         [blocks enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) 
          {
              [obj setDelegate:nil];
              [obj removeFromSuperlayer];
          }];
         [view.layer addSublayer:viewLayer];
     }];

    CGFloat bandWidth   = layerSize.width / sqrt(BLOCK_COUNT);
    CGFloat bandHeight  = layerSize.height / sqrt(BLOCK_COUNT);

    int yVal = -1;
     for(int i = 0; i < BLOCK_COUNT; i++)
    {
        CALayer *block = [[CALayer alloc] init];
        block.masksToBounds = YES;
        CGFloat xOffset = 1.f / sqrt(BLOCK_COUNT);
        CGFloat yOffset = 1.f / sqrt(BLOCK_COUNT);
        block.bounds = CGRectMake(0, 0, bandWidth, bandHeight);
        block.bounds = CGRectMake(0.f, 0.f, bandWidth, bandHeight);
        block.contents = (id)[img CGImage];
        block.contentsGravity = kCAGravityCenter;

        CGPoint bandOrigin = viewLayer.frame.origin;
        bandOrigin.x = bandOrigin.x + (bandWidth * (i % (int)sqrt(BLOCK_COUNT)));

        if (i % (int)sqrt(BLOCK_COUNT) == 0 )
            yVal++;

        bandOrigin.y = bandOrigin.y + (bandHeight * yVal);

        // PROBLEM IS GOT TO BE HERE
        block.contentsRect = CGRectMake(xOffset * (i % (int)sqrt(BLOCK_COUNT)) ,yOffset * yVal, xOffset, yOffset);

        [block setValue:[NSValue valueWithCGPoint:bandOrigin] forKeyPath:@"frame.origin"];

        [view.layer addSublayer:block];
        [block addAnimation:[allTransitionsArr objectAtIndex: BLOCK_COUNT - i - 1] forKey:nil];
        [blocks addObject:block];
        [block release];
    }
    [CATransaction commit];
    [blocks release];
} 
```

# android - 一个列表活动中的两个自定义列表视图

> ID：11288675
> 
> 赞同：1
> 
> 时间：2012-07-02T06:27:33.137
> 
> 标签：android, json, android-listview

所以，到目前为止，我建立了一个这样的 json 对象列表

```
public class list extends ListActivity{
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.list);

        Intent i = getIntent();
        String snopel = i.getStringExtra("nopel");
        String snama = i.getStringExtra("nama");
        String salamat = i.getStringExtra("alamat");
        String sgolongan = i.getStringExtra("golongan");

        TextView tx_nopel = (TextView)findViewById(R.id.l_nopel);
        TextView tx_nama= (TextView)findViewById(R.id.l_nama);
        TextView tx_alamat = (TextView)findViewById(R.id.l_alamat);
        TextView tx_golongan = (TextView)findViewById(R.id.l_golongan);

        tx_nopel.setText(snopel);
        tx_nama.setText(snama);
        tx_alamat.setText(salamat);
        tx_golongan.setText(sgolongan);

        List<NameValuePair> pairs = new ArrayList<NameValuePair>();
        pairs.add(new BasicNameValuePair("nopel", snopel));

        ArrayList<HashMap<String, String>> lr = new ArrayList<HashMap<String, String>>();

        JSON json_lr = new JSON();
        JSONObject jobj_lr = json_lr.getJSON("http://10.0.2.2/KP/pdam/listtagihan.php", pairs);

        try {
            int length = jobj_lr.getInt("panjang");

            for(int n = 1; n <= length; n++){

                String m = Integer.toString(n);
                JSONObject row = jobj_lr.getJSONObject(m);

                String snomor = row.getString("nomor");
                String sbulan = row.getString("bulan");
                String stahun = row.getString("tahun");
                String stagihan = "Rp. " + row.getString("tagihan");

                HashMap<String, String> rek = new HashMap<String, String>();

                rek.put("nomor", snomor);
                rek.put("bulan", sbulan);
                rek.put("tahun", stahun);
                rek.put("tagihan", stagihan);

                lr.add(rek);
            }
        } catch (JSONException e) {
            e.printStackTrace();
        }

        ListAdapter adapter_lr = new SimpleAdapter(this, lr, R.layout.list_data,
                new String[]{"nomor","bulan","tahun","tagihan"},
                new int[]{R.id.textView1, R.id.textView2, R.id.textView3, R.id.textView4});

        setListAdapter(adapter_lr);

        ListView lv_lr = getListView();

        lv_lr.setOnItemClickListener(new OnItemClickListener(){

            @Override
            public void onItemClick(AdapterView<?> parent, View view, int position,
                    long id) {
                // TODO Auto-generated method stub

                Intent i = new Intent(list.this, rincian.class);
                i.putExtra("nomor", ((TextView)view.findViewById(R.id.textView1)).getText().toString());
                startActivity(i);
            }

        });
    }
} 
```

这将在一个列表活动中显示一个列表视图，但我想知道我是否可以在 1 个列表活动中创建 2 个自定义列表视图，但我不知道如何

我认为这是不可能的，因为在 listactivity 中，我们必须设置只能像这样选择 1 个列表适配器的适配器`setListAdapter(adapter_lr);`

但我想确定这是真的吗？

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-02T06:31:30.133

为什么在一个活动中需要两个列表视图？

如果你想要两个列表视图，那么你`extends Activity`可以`add two listview in layout file.`

现在，

```
ListView listView1=(ListView)findViewById(R.id.listview1);
ListView listView2=(ListView)findViewById(R.id.listview2); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-02T10:05:53.683

您可以通过在 xml 文件中声明它们来在一个列表活动中创建两个自定义列表视图

```
<ListView 
    android:id="@android:id/list"
    android:layout_width="fill_parent"
    android:layout_height="Value in dps"
    ></ListView>

<ListView 
 android:id="@+id/list1"
    android:layout_width="fill_parent"
    android:layout_height="Value in dps"
    ></ListView> 
```

一个列表 id 必须是 @android:id/list 其他可以是您选择的任何内容，您可以在代码中根据需要设置适配器。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T06:44:24.890

您需要在 YourClass 中扩展 Activity 类，并且您可以从布局中拥有尽可能多的 List 视图。

# android - 如何使文件管理器和其他应用程序无法访问 SD 卡中的应用程序文件夹？

> ID：11288676
> 
> 赞同：3
> 
> 时间：2012-07-02T06:27:39.457
> 
> 标签：android

我正在创建两个文件夹来将我的应用程序的图像存储在 SD 卡中。但是这些文件夹在文件管理器中可见。我想阻止从外部访问我的文件夹。我正在将图像保存在这两个文件夹中。请像这样保存帮帮我。

```
File sdcard = Environment.getExternalStorageDirectory();
File pictureDir = new File(sdcard, "Image_dir");
if (!pictureDir.exists()) {
    pictureDir.mkdirs();
    }

// saving the image file in the  folder Image_dir
File f = null;
f = new File(pictureDir, file_name);
FileOutputStream fos = new FileOutputStream(f.getAbsolutePath());
Bitmap image;
image.compress(Bitmap.CompressFormat.PNG, 100, fos);
fos.flush();
fos.close(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:32:21.647

通常添加一个 . 在文件夹名称前面，这会将其从媒体扫描仪中排除。但是用文件管理器还是可以找到的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T07:02:24.837

如果您正在使用 Api Level-8，那么我建议使用[getExternalFilesDir（字符串类型）](http://developer.android.com/reference/android/content/Context.html#getExternalFilesDir%28java.lang.String%29)

而不是`Environment.getExternalStorageDirectory()`因为使用它有两个好处

*   当您的应用程序被用户卸载时，所有图像和数据将被自动删除
*   图像在媒体应用程序中不可见（在图库中）。

# box-api - 当用户在框的登录授权页面使用谷歌帐户登录时，我无法获得 auth_token

> ID：11288677
> 
> 赞同：0
> 
> 时间：2012-07-02T06:27:42.483
> 
> 标签：box-api

我按照 box.net 文档 [http://developers.box.com/get-started/#authenticating中的步骤进行操作](http://developers.box.com/get-started/#authenticating)

我可以得到一张票，因为它首先说。

然后我在以下网址使用该票[https://www.box.com/api/1.0/auth/](https://www.box.com/api/1.0/auth/) {your ticket}

在浏览器中，它按它说的那样工作。浏览器将引导用户进入框登录页面。

如果我输入用户名/密码进行登录，则在该登录页面中。

正如文件所说，我可以得到 auth_token 。

**问题是**我没有选择用户名/密码进行登录，而是使用 google openid 登录一个盒子帐户。

如文件所述，我将无法获得该 auth_token。具有以下状态的返回响应：

未登录

我想知道这是否是一个错误，或者我没有正确使用 API 来获取该 auth_token。

由于现在许多 box 用户都使用 google openid 作为主要的登录选择，这似乎是一个需要支持的常见用例。

如果有人知道答案，将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-08T06:19:20.207

如果非 OpenID 用户能够通过 Box API 的标准身份验证过程进行身份验证，那么您的代码就可以了。我们收到了关于单点登录问题的报告，因此这很可能是我们的错误。

只需确保您的应用程序可以验证拥有 Box 密码的用户。当我们解决这些 SSO 问题时，OpenID 用户将能够连接您的应用程序，而无需您进行任何更改。

# iphone - 日期选择器只选择一个时间日期，选择第二个时间日期然后崩溃

> ID：11288682
> 
> 赞同：0
> 
> 时间：2012-07-02T06:28:22.513
> 
> 标签：iphone, datepicker

我有一个日期选择器来计算年龄。当我第一次选择日期时，它显示正确的 o/p 但是当我下次选择日期时 - 应用程序崩溃。

我的代码：

```
NSDate *selected = [date1 date];
NSDateFormatter *df=[[NSDateFormatter alloc] init];

float interval=[selected timeIntervalSinceNow] * -1.0;

float year=interval/31556926;

if (year>10)
{
    alert.tag=0;
    alert=[[UIAlertView alloc]initWithTitle:@"Calculate Age" message:@"Congratulation!!!!Your Age Is Grater Than 10"  delegate:self cancelButtonTitle:@"Cancel"  otherButtonTitles:@"Ok", nil];
    [alert show];
    [alert release];             
} 
```

` 日志：在意外状态下完成导航转换。导航栏子视图树可能会损坏。2012-07-02 13:38:19.568 loginDemo[1848:f803] 对 . 2012-07-02 13:38:30.658 loginDemo[1848:f803] -[__NSCFType setTag:]: 无法识别的选择器发送到实例 0x68dd0d0 2012-07-02 13:38:30.660 loginDemo[1848:f803] *** 由于应用程序终止未捕获的异常“NSInvalidArgumentException”，原因：“-[__NSCFType setTag:]：无法识别的选择器发送到实例 0x68dd0d0”***第一次抛出调用堆栈：

` 我没有使用 UIPickerDelegate，因为这里不需要委托方法。在此，当我单击警报视图的“确定”按钮时，应该完成转换。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T08:31:07.253

只需将您的线放在将解决您的问题的`alert.tag = 0`线下方。`alert = [[UIAlertView alloc]....`

还将标签值更改为其他，`0`因为 xib 中的所有视图`0`默认都有标签值。

# actionscript-3 - 切换浏览器选项卡后 Flash 影片变为空白

> ID：11288683
> 
> 赞同：0
> 
> 时间：2012-07-02T06:28:23.563
> 
> 标签：actionscript-3, flash, google-chrome

我有以下问题：

当我在 Google Chrome 中加载我的 Flash 应用程序时，一切正常。但是当我在浏览器中切换到另一个选项卡时，稍等片刻，然后切换回来，而不是我的 Flash 应用程序，我看到了白色区域。此外，当我右键单击它时，我会看到 Flash 菜单（您通常在右键单击时看到的菜单）。

我只在 Google Chrome 中看到这个奇怪的问题。

我有 Google Chrome 19.0.1084.56，它在 Mac 上运行。

欢迎任何想法和想法！

# javascript - javascript验证后按钮禁用

> ID：11288691
> 
> 赞同：1
> 
> 时间：2012-07-02T06:29:11.957
> 
> 标签：javascript, jquery, jquery-plugins, scripting

我在日期范围的网格文本框中进行了验证，如果 javascript 验证日期范围很好，我可以单击添加按钮并在网格中添加新行。

但是当验证失败时，我需要更正日期范围，在更正之后 javacript 验证成功但是当我点击添加按钮时，这个按钮控件似乎被禁用。

我们可以为此做些什么？

示例代码：

```
case "dateRange":
                     var classGroup = "[" + options.validateAttribute + "*=" + rules[i + 1] + "]";

                     var rowCount = $('table.datagrid tr').length - 1;

                     var firstOfGroup = form.find(classGroup).eq(rowCount - 2);
                     var secondOfGroup = form.find(classGroup).eq(rowCount - 1);

                     if (rowCount > 1) {
                         //if one entry out of the pair has value then proceed to run through validation
                         if (firstOfGroup[0].value || secondOfGroup[0].value) {
                             errorMsg = methods._dateRange(firstOfGroup, secondOfGroup, rules, i, options);
                         }
                         if (errorMsg) required = true;
                         options.showArrow = false;
                     }
                     break; 
```

# c++ - 找出当前用户并在 C++ 桌面上创建一个文本文件

> ID：11288695
> 
> 赞同：-3
> 
> 时间：2012-07-02T06:29:25.337
> 
> 标签：c++, windows

如何找出当前登录的用户，然后在该用户的桌面上创建一个文本文件？我已经研究了几个小时，尝试了不同的代码，但我仍然无法做到这一点。

谢谢！德鲁

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T07:33:20.830

在 C++ 中，这不是连接字符串的方法。尝试：

```
myfile.open (string(strPath) + "\\text.txt"); 
```

在 C++ 中，您不能仅通过将它们彼此相邻来连接字符串。其中一种方法是 strcat 或使用惯用的 c++ 方法转换为`std::string`，然后使用`+`连接它们。

# vhdl - VHDL什么时候不工作

> ID：11288701
> 
> 赞同：1
> 
> 时间：2012-07-02T06:29:42.203
> 
> 标签：vhdl

我是 VHDL 编程 FPGA 的新手，我的模块（见下面的完整代码）不起作用。

该模块应该根据用户可用的寄存器来处理用户 I/O 设置（因此可以通过寄存器更改模式，而无需接触 FPGA 固件）。有 8 个输入引脚和 8 个输出引脚，以及 4 种操作模式：1x8、2x8、4x8、8x8。输出进入延迟/门发生器模块，然后输出。该模块的另一个功能是转换 32 位输入向量，实际上只有 8 个引脚被分配并携带一个值（特定于 FPGA 板交互）到更有意义的东西。

就像现在一样，无论clockcontrolREG 的值是多少，对应于1x8 模式的else catch all (00) 模式都在工作。（我在示波器上观察到正确的输出），所以引脚分配没有问题。由于某种原因，我的所有 when 子句似乎都被忽略了。

我确实将clockcontrolREG 的初始值设置为“00000011”（应该将模式设置为8x8），并且我确实访问了寄存器并检查了该值确实存在。

我尝试了 2 种不同的语法方式来描述相同的内容（ line: signalforclkgen(1) ），但没有任何效果。

看起来我错过了一些非常基本的东西……但这是我坐在上面的第三天，没有结果。感谢您提前提供的所有帮助。

```
library ieee;
use ieee.std_logic_1164.all;
use ieee.std_logic_arith.all;
use ieee.std_logic_unsigned.all;

entity clkgencontrol is
    port(
        clockcontrolREG : in  std_logic_vector(31 downto 0);
        signalinput     : in  std_logic_vector(31 downto 0);
        signalforclkgen : out std_logic_vector(7 downto 0)

        );
end clkgencontrol;

architecture rtl of clkgencontrol is

begin

    signalforclkgen(0) <= signalinput(31);

    signalforclkgen(1) <= signalinput(15) when (clockcontrolREG(0) = '1' and clockcontrolREG(1) = '1') else
                          signalinput(31);

    signalforclkgen(2) <= signalinput(30) when (clockcontrolREG = "00000011") else
                          signalinput(15) when (clockcontrolREG = "00000010") else
                          signalinput(31);

    signalforclkgen(3) <= signalinput(14) when (clockcontrolREG = "00000011") else
                          signalinput(15) when (clockcontrolREG = "00000010") else
                          signalinput(31);

    signalforclkgen(4) <= signalinput(19) when (clockcontrolREG = "00000011") else
                          signalinput(30) when (clockcontrolREG = "00000010") else
                          signalinput(15) when (clockcontrolREG = "00000001") else
                          signalinput(31);

    signalforclkgen(5) <= signalinput(3) when (clockcontrolREG = "00000011") else
                          signalinput(30)when (clockcontrolREG = "00000010") else
                          signalinput(15)when (clockcontrolREG = "00000001") else
                          signalinput(31);

    signalforclkgen(6) <= signalinput(18) when (clockcontrolREG = "00000011") else
                          signalinput(14) when (clockcontrolREG = "00000010") else
                          signalinput(15) when (clockcontrolREG = "00000001") else
                          signalinput(31);

    signalforclkgen(7) <= signalinput(2) when (clockcontrolREG = "00000011") else
                          signalinput(14) when (clockcontrolREG = "00000010") else
                          signalinput(15) when (clockcontrolREG = "00000001") else
                          signalinput(31);
end rtl; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-02T11:32:04.627

您是否打算在比较中使用十六进制常量？您应该在编译中收到有关长度不匹配的警告，并且如果您期望clockcontrolREG（b00000000_00000000_00000000_00010000）中的十六进制值0x00000010，则与您要比较的二进制值不匹配：bxxxxxxxx_xxxxxxxx_xxxxxxxx_00000010

尝试使用 32 位十六进制常量进行 clockcontrolREG 比较，看看是否有帮助：

```
signalforclkgen(2)  <= signalinput(30) when ( clockcontrolREG = x"00000011" ) else 
                  signalinput(15) when ( clockcontrolREG = x"00000010" ) else 
                  signalinput(31); 
```

# c# - 为什么for循环要在c#中获取函数的参数？

> ID：11288703
> 
> 赞同：0
> 
> 时间：2012-07-02T06:29:46.070
> 
> 标签：c#, parameters, for-loop, arguments

为什么这段代码不起作用？

```
 private void Function(int starts , int ends)
{
    int i = starts;
    int z = ends;

    for(i; i < z; i++)
    {
        [...]
    }
} 
```

就是说： 错误3 只有赋值、调用、递增、递减和新对象表达式可以用作语句。

怎么做才能让代码工作？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-02T06:31:13.063

```
 What to do to make code work? 
```

怎么样

```
for (; i < z; i++)
{
    [...]
} 
```

`'z'`或者为什么在可以做的时候创建一个额外的变量

```
for (int i = starts; i < ends; i++)
{
    [...]
} 
```

为什么你的代码不起作用！！

因为 for 循环的语法是

```
for (initializer; condition; increment or decrement)
{

} 
```

您没有在初始化程序`i`中初始化。您可以初始化它（作为我的第二个片段）或删除初始化器，如果您在一些较早的语句中初始化它（作为我的第一个片段）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-02T06:35:47.257

`i`就其本身而言，它不是一个陈述，而是一个表达。就像您不能简单地`i;`在代码中的某处编写一样。for循环的初始化部分需要初始化；但是，如果（就像这里的情况）循环已经初始化（`i`已经设置），你可以像 Nikhil 所示的那样省略它。干脆做`for(;i<z;i++)`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-02T06:33:59.270

for 循环的第一部分采用初始化语句。`i`不是声明。如果您不想初始化任何内容，则可以将该部分留空，如 Nikhil 的回答：

```
for(; i < z; i++) 
{ 
    [...] 
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-02T06:35:21.880

永远不要在 for 循环中使用外部定义的变量作为索引器。

```
private void Function(int starts , int ends)
{
    // int i = starts; // don't do it. you're exposing yourself to headaches if/when you lose control of the value of i
    int z = ends;

    for(int i = starts; i < z; i++) //first statement of for loops initializes the indexer
    {
        [...]
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-02T06:36:07.413

我认为这是更好的答案，不是吗？

```
private void Function(int starts , int ends)
{
    for(int i = starts; i < ends; i++)
    {
        [...]
    }
} 
```

# java - 哪种行为用于更改 dropDownBox 中的页面

> ID：11288704
> 
> 赞同：0
> 
> 时间：2012-07-02T06:30:16.163
> 
> 标签：java, wicket

我的 droDownBox 看起来像：

```
 add(new DropDownChoice<String>("hladaneSlovo", new HladaneSlova()).add(new AjaxEventBehavior("onchange") {

            private static final long serialVersionUID = 1L;

            @Override
            protected void onEvent(AjaxRequestTarget target) {
                target.prependJavaScript("window.location.href='" + urlFor(VyjimkyPage.class, null) + "'");

            }

        })); 
```

这在我的基本页面中有。还有一些默认值。当我选择其中一个选项时如何更改页面？我现在创建的实现问题是默认值。当我选择已经选择的项目时，什么都没有做。选择 value 时调用什么行为？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:54:51.533

如果您想更改页面，则无需使用 AJAX，因此您可以执行以下操作：

```
DropDownChoice<String> dropDownChoice = new DropDownChoice<String>("hladaneSlovo", new HladaneSlova()) {
        @Override
        protected boolean wantOnSelectionChangedNotifications() {
            return true;
        }

        @Override
        protected void onSelectionChanged(String newSelection) {
            setResponsePage(NewPage.class);
        }
}; 
```

在您的实现中，该值仍然是默认值，因为`AjaxFormComponentUpdatingBehavior`如果您想在触发 javascript 事件时更新模型，则需要使用行为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T11:19:28.780

如果您需要选择的值来通过验证并更新下拉模型，而不是使用不会更新模型的*AjaxEventBehavior*，您应该使用*AjaxFormChoiceComponentUpdatingBehavior*（而不是不能与 Choices 或组）。

```
DropDownChoice choice = new DropDownChoice("hladaneSlovo", new HladaneSlova());
add(choice);
choice.add(new AjaxFormChoiceComponentUpdatingBehavior()
{
    @Override
    protected void onUpdate(AjaxRequestTarget target)
    {
        //The model is now updated so you can push to DB or pass as PageParameter to the next page

        // throw a RedirectException so that the url will be updated for your page
        throw new RedirectException(VyjimkyPage.class); 
    }
}); 
```

**注意：**您在实现中面临的部分问题是您正在链接 add() 方法。add 方法的返回值是一个 Component，但它不是您刚刚添加的 Component，而是您正在添加的 Component。添加 AjaxEventBehavior 时，应将它们添加到要侦听事件的组件中。

# api - 支付网关流程

> ID：11288705
> 
> 赞同：6
> 
> 时间：2012-07-02T06:30:19.283
> 
> 标签：api, e-commerce, payment-gateway

我必须在我的网络应用程序中集成支付网关。我正在与 PG 谈判以获得最合适的报价。他们中的大多数有：

1.  安装费
2.  年费/月费。
3.  每笔交易费用 (1%-5%)
4.  经验法则是 - 设置费用越高，交易费用越低。

我的问题是“支付网关是强制性的吗？” 我使用了几个网站，例如 ebay、flipkart、amazon 等，它们直接在他们的门户网站上获取信用卡信息，直接从银行授权，绕过第 3 方支付网关。（看起来就是这样。）

*   这里的幕后发生了什么？直接接受付款并从银行授权的流程是什么？
*   需要多少暂定交易量才能使上述场景盈利？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T06:41:08.597

我曾经在[bluesnap](http://bluesnap.com/bluesnap/)（以前称为 Plimus）工作，这是一家在线支付处理公司。支付处理公司 - 是一家对信用卡进行授权并向处理网关收费的公司。

许多人将支付处理公司与处理网关混淆。作为小型企业，您可以使用其中一家支付处理公司，也可以使用 Authorize.net、Paypal 等自助服务。

网上有很多资源可以解释支付处理，但我认为阅读它不会很有趣，除非你决定建立自己的网关......

为了直接针对其中一个网关工作，您每天需要处理数百万笔交易——我不相信您有这个能力。

# java - 播放框架的 CPU 负载

> ID：11288712
> 
> 赞同：2
> 
> 时间：2012-07-02T06:30:48.037
> 
> 标签：java, performance, playframework, playframework-1.x

几天以来，在一个已经开发了大约一年的系统上，我一直在玩游戏的 CPU 负载！服务器。我有两台服务器，一台处于活动状态，一台作为热备件。过去，hot-spre 服务器显示没有负载，或者负载可以忽略不计。但现在它消耗恒定的 50-110% CPU（在 Linux 上使用 top）。

有没有简单的方法可以找出原因呢？调试时，我在 MacBook 上看不到这种行为（通常为 0.1-1%）。据我所知，这是最近几天才发生的事情。

这是热备件的状态打印。可以看出，除了计划任务（由于标志不在此服务器上执行，但已启动）之外，没有查询任何控制器：

```
~        _            _ 
~  _ __ | | __ _ _  _| |
~ | '_ \| |/ _' | || |_|
~ |  __/|_|\____|\__ (_)
~ |_|            |__/   
~
~ play! 1.2.4, http://www.playframework.org
~ framework ID is prod-frontend
~
~ Status from http://localhost:xxxx/@status,
~
Java:
~~~~~
Version: 1.6.0_26
Home: /usr/lib/jvm/java-6-sun-1.6.0.26/jre
Max memory: 64880640
Free memory: 11297896
Total memory: 29515776
Available processors: 2

Play framework:
~~~~~~~~~~~~~~~
Version: 1.2.4
Path: /opt/play
ID: prod-frontend
Mode: PROD
Tmp dir: /xxx/tmp

Application:
~~~~~~~~~~~~
Path: /xxx/server
Name: iDoms Server
Started at: 07/01/2012 12:05

Loaded modules:
~~~~~~~~~~~~~~
secure at /opt/play/modules/secure
paginate at /xxx/server/modules/paginate-0.14

Loaded plugins:
~~~~~~~~~~~~~~
0:play.CorePlugin [enabled]
100:play.data.parsing.TempFilePlugin [enabled]
200:play.data.validation.ValidationPlugin [enabled]
300:play.db.DBPlugin [enabled]
400:play.db.jpa.JPAPlugin [enabled]
450:play.db.Evolutions [enabled]
500:play.i18n.MessagesPlugin [enabled]
600:play.libs.WS [enabled]
700:play.jobs.JobsPlugin [enabled]
100000:play.plugins.ConfigurablePluginDisablingPlugin [enabled]

Threads:
~~~~~~~~
Thread[Reference Handler,10,system] WAITING
Thread[Finalizer,8,system] WAITING
Thread[Signal Dispatcher,9,system] RUNNABLE
Thread[net.sf.ehcache.CacheManager@449278d5,5,main] WAITING
Thread[Timer-0,5,main] TIMED_WAITING
Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0,5,main] TIMED_WAITING
Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1,5,main] TIMED_WAITING
Thread[com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2,5,main] TIMED_WAITING
Thread[jobs-thread-1,5,main] TIMED_WAITING
Thread[jobs-thread-2,5,main] TIMED_WAITING
Thread[jobs-thread-3,5,main] TIMED_WAITING
Thread[New I/O server boss #1 ([id: 0x7065ec20, /0:0:0:0:0:0:0:0:9001]),5,main] RUNNABLE
Thread[DestroyJavaVM,5,main] RUNNABLE
Thread[New I/O server worker #1-3,5,main] RUNNABLE

Requests execution pool:
~~~~~~~~~~~~~~~~~~~~~~~~
Pool size: 0
Active count: 0
Scheduled task count: 0
Queue size: 0

Monitors:
~~~~~~~~
controllers.ReaderJob.doJob(), ms.         ->      114 hits;      4.1 avg;      0.0 min;    463.0 max;
controllers.MediaCoderProcess.doJob(), ms. ->     4572 hits;      0.1 avg;      0.0 min;    157.0 max;
controllers.Bootstrap.doJob(), ms.         ->        1 hits;      0.0 avg;      0.0 min;      0.0 max;

Datasource:
~~~~~~~~~~~
Jdbc url: jdbc:mysql://xxxx
Jdbc driver: com.mysql.jdbc.Driver
Jdbc user: xxxx
Jdbc password: xxxx
Min pool size: 1
Max pool size: 30
Initial pool size: 3
Checkout timeout: 5000

Jobs execution pool:
~~~~~~~~~~~~~~~~~~~
Pool size: 3
Active count: 0
Scheduled task count: 4689
Queue size: 3

Scheduled jobs (4):
~~~~~~~~~~~~~~~~~~~~~~~~~~
controllers.APNSFeedbackJob run every 24h. (has never run)
controllers.Bootstrap run at application start. (last run at 07/01/2012 12:05:32)
controllers.MediaCoderProcess run every 15s. (last run at 07/02/2012 07:10:46)
controllers.ReaderJob run every 600s. (last run at 07/02/2012 07:05:36)

Waiting jobs:
~~~~~~~~~~~~~~~~~~~~~~~~~~~
controllers.MediaCoderProcess will run in 2 seconds
controllers.APNSFeedbackJob will run in 17672 seconds
controllers.ReaderJob will run in 276 seconds 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-02T08:40:43.380

如果您的服务器在 Linux 下运行，您可能会受到上周末出现的[Leap Second 错误的影响。](http://it.slashdot.org/story/12/07/01/1920217/leap-second-bug-causes-crashes)

该漏洞影响Linux内核（线程管理），因此使用线程的应用程序（如JVM、mysql等）可能会消耗高负载的CPU。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T15:40:01.647

如果您使用 jdk 1.7 应该很容易，因为他们添加了此功能，请查看我的其他相关答案->[如何在 Java 中监控计算机的 cpu、内存和磁盘使用情况？](https://stackoverflow.com/questions/47177/how-to-monitor-the-computers-cpu-memory-and-disk-usage-in-java/13034111#13034111)

# jsf - 树的每个节点上的不同上下文菜单

> ID：11288715
> 
> 赞同：2
> 
> 时间：2012-07-02T06:30:59.210
> 
> 标签：jsf, primefaces, treeview

在我的 JSF 项目中，我想根据某些条件在树的每个节点上显示不同的上下文菜单（准确地说是一些权限）

根据我的 xhtml，我已经将上下文菜单与树绑定，因此我在树的每个节点上都获得了相同的菜单。这是代码：

```
<p:contextMenu for="TreeID">
    <p:menuitem value="Create" update=":centerPanel" actionListener="#{someBean.createPrivilege}" onstart="statusDialog.show();"
        oncomplete="statusDialog.hide();" />
    <p:menuitem value="Edit" update=":commonDialog :centerPanel" actionListener="#{someBean.editPrivilege}"
        onstart="statusDialog.show();" oncomplete="statusDialog.hide();" />
    <p:menuitem value="Delete" onstart="delPrivilegeConfirmDialog.show();" />
</p:contextMenu>
<p:scrollPanel mode="native" styleClass="scroll-panel">
    <p:tree id="TreeID" value="root" var="node" selectionMode="single"
        selection="#{someBean.selectedNode}" dynamic="true">
        <p:ajax listener="#{someBean.onNodeSelect}" update=":centerPanel" event="select" onstart="statusDialog.show();"
            oncomplete="statusDialog.hide();" />
        <p:treeNode id="someID">
            <h:outputText value="#{node}" id="lblNode" />
        </p:treeNode>
    </p:tree>
</p:scrollPanel> 
```

但是根据我的要求，我希望每个节点上都有不同的上下文菜单，基本上我的上下文菜单中有 3 个选项，例如 Create、Edit、Delete.. 然后我需要根据特定条件在每个节点上隐藏 1 或 2 个选项。

我该怎么做？

提前致谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-20T11:02:03.107

假设您使用的是 PrimeFaces，最近的版本提供了使用“nodeType”属性为不同节点类型设置不同上下文菜单的选项：

```
<p:contextMenu for="TreeID" nodeType="type1">
    <p:menuitem value="Create" update=":centerPanel" actionListener="#{someBean.createPrivilege}" onstart="statusDialog.show();"
        oncomplete="statusDialog.hide();" />
    <p:menuitem value="Edit" update=":commonDialog :centerPanel" actionListener="#{someBean.editPrivilege}"
        onstart="statusDialog.show();" oncomplete="statusDialog.hide();" />
    <p:menuitem value="Delete" onstart="delPrivilegeConfirmDialog.show();" />
</p:contextMenu>
<p:contextMenu for="TreeID" nodeType="type2">
    <!-- Other menu items -->
</p:contextMenu>
<p:scrollPanel mode="native" styleClass="scroll-panel">
    <p:tree id="TreeID" value="root" var="node" selectionMode="single"
        selection="#{someBean.selectedNode}" dynamic="true">
        <p:ajax listener="#{someBean.onNodeSelect}" update=":centerPanel" event="select" onstart="statusDialog.show();"
            oncomplete="statusDialog.hide();" />
        <p:treeNode id="someID" type="type1">
            <h:outputText value="#{node}" id="lblNode" />
        </p:treeNode>
        <p:treeNode id="someID" type="type2">
            <h:outputText value="#{node}" id="lblNode" />
        </p:treeNode>
    </p:tree>
</p:scrollPanel> 
```

请记住，您需要为模型生成的所有节点设置节点类型：

```
TreeNode x = new DefaultTreeNode("type1", data, parent); 
```

# iphone - UITextField 验证不起作用

> ID：11288723
> 
> 赞同：0
> 
> 时间：2012-07-02T06:31:44.810
> 
> 标签：iphone, ipad, validation, uibutton, uitextfield

我是 iPad 开发者的新手，

我正在我的 iPad 中制作注册表单，当用户单击提交按钮时，我想验证我的文本字段是否为空，如果它为空，则会显示警报**No cannot be empty。**

这是我的代码片段，但它不起作用，

***宣言：***

```
UITextField* noTxtbox= [[UITextField alloc] initWithFrame:CGRectMake(250, 200, 180, 50)];
noTxtbox.borderStyle = UITextBorderStyleRoundedRect;
[self.view addSubview:noTxtbox]; 
```

***代码：***

```
if ([noTxtbox.text isEqualToString:@""]) {
        UIAlertView* alertView = [[UIAlertView alloc] initWithTitle:@"Enter your No !"
                                                            message:nil delegate:self 
                                                  cancelButtonTitle:@"OK" otherButtonTitles:nil];
        [alertView show];
        [alertView release];
    } 
```

**任何帮助将不胜感激。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:42:10.047

尝试使用`noTxtbox.text.length == 0`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T06:43:09.893

问题可能是由于空白。通过以下方式删除空格来检查它：-

```
NSString * noTxtbox_text = [noTxtbox.text stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];

if ([noTxtbox_text isEqualToString:@""]) {
    UIAlertView* alertView = [[UIAlertView alloc] initWithTitle:@"Enter your No !"
                                                        message:nil delegate:self 
                                              cancelButtonTitle:@"OK" otherButtonTitles:nil];
    [alertView show];
    [alertView release];
} 
```

# css - 来自数据库值的 JSF panelGroup 背景颜色集

> ID：11288728
> 
> 赞同：0
> 
> 时间：2012-07-02T06:32:13.827
> 
> 标签：css, jsf

我在面板网格中有一组记录，我想根据从 ebean 获取的隐藏值设置背景颜色。我想将隐藏字段值分配为背景颜色而不是黄色。

```
 <h:panelGroup style="background:Yellow;" >                               
   <h:outputText value="#{item.rackTagCode}"/>
     <h:inputHidden value="#{colorEBean.colorCode}" id="hiddenColor" />
   </h:panelGroup> 
```

任何人都可以请指导我。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T06:41:13.407

您也可以对样式属性使用“#{....} 值访问。

只需定义一个值，该值在您的支持 bean 中保存支持 bean 中的样式信息并通过以下方式访问它

`<h:panelGroup style="#{colorEBean.bgColorValue}" >`

其中 bgColorValue 是一个字符串变量，它保存从数据库值构造的颜色值。例如，

```
String bgColorValue = "background: yellow" 
```

将背景设置为黄色。附加其他颜色值而不是黄色以获得其他背景颜色。

# sql - 我如何将这两者结合在一起？Varchar guid 和 guid 类型都是主键

> ID：11288732
> 
> 赞同：2
> 
> 时间：2012-07-02T06:32:33.103
> 
> 标签：sql, sql-server, sql-server-2008, tsql

我正在尝试比较两种不同的列类型（不是我做的，是数据转换项目的一部分）。其中一个存储了类似于以下内容的表单 guid：

```
0CAF3FBC-3C76-420B-B0C4-42867551E3B5 
```

另一个将它们存储为以下内容：

```
{0CAF3FBC-3C76-420B-B0C4-42867551E3B5} 
```

在此列上加入这两个表的最佳方法是什么（不幸的是，它是两者的主键）。到目前为止，我已经尝试将一张表作为指导（没有成功）并且还尝试建立一个类似的声明 - 但不确定如何解决这个问题。

任何帮助将不胜感激。

**编辑：**

如果是数据，这在语法上是否正确？

```
inner join  report_temp.workflow_lease_proposal lp
    on wif.form_guid like '%' + lp.form_guid + '%' 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-02T06:41:07.920

在比较具有不同数据类型的值时，SQL Server 非常智能。

以下脚本按原样工作，无需任何显式转换

```
DECLARE @TableA TABLE (VARCHARID VARCHAR(48) PRIMARY KEY)
DECLARE @TableB TABLE (GUIDID UNIQUEIDENTIFIER PRIMARY KEY)

INSERT INTO @TableA VALUES 
    ('{0CAF3FBC-3C76-420B-B0C4-42867551E3B5}')
  , ('{0CAF3FBC-3C76-420B-B0C4-42867551E3B6}')
  , ( '0CAF3FBC-3C76-420B-B0C4-42867551E3B7' )
  , ( '0CAF3FBC-3C76-420B-B0C4-42867551E3B8' )

INSERT INTO @TableB VALUES 
    ('{0CAF3FBC-3C76-420B-B0C4-42867551E3B5}')
  , ( '0CAF3FBC-3C76-420B-B0C4-42867551E3B6' )
  , ('{0CAF3FBC-3C76-420B-B0C4-42867551E3B7}')
  , ( '0CAF3FBC-3C76-420B-B0C4-42867551E3B8' )

SELECT  *
FROM    @TableA a
        INNER JOIN @TableB b ON b.GUIDID = a.VARCHARID 
```

**结果**

```
VARCHARID                               GUIDID
{0CAF3FBC-3C76-420B-B0C4-42867551E3B5}  0CAF3FBC-3C76-420B-B0C4-42867551E3B5
{0CAF3FBC-3C76-420B-B0C4-42867551E3B6}  0CAF3FBC-3C76-420B-B0C4-42867551E3B6
0CAF3FBC-3C76-420B-B0C4-42867551E3B7    0CAF3FBC-3C76-420B-B0C4-42867551E3B7
0CAF3FBC-3C76-420B-B0C4-42867551E3B8    0CAF3FBC-3C76-420B-B0C4-42867551E3B8 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-02T06:45:33.270

```
inner join  report_temp.workflow_lease_proposal lp
    on 
cast(wif.form_guid as varchar(36))  = cast(lp.form_guid as varchar(36)) 
```

# javascript - 如何拖动DIV元素并调整其大小

> ID：11288739
> 
> 赞同：3
> 
> 时间：2012-07-02T06:33:27.253
> 
> 标签：javascript, html, css

我想在 HTML 页面中调整和拖动 DIV 元素。我使用的代码如下。 **Javascript：**

```
 <script type="text/javascript" src="dragresize.js"></script>
<script language="javascript" type="text/javascript"> 
var dragresize = new DragResize('dragresize',
 { minWidth: 50, minHeight: 50, minLeft: 20, minTop: 20, maxLeft: 600, maxTop: 600 });

// Optional settings/properties of the DragResize object are:
//  enabled: Toggle whether the object is active.
//  handles[]: An array of drag handles to use (see the .JS file).
//  minWidth, minHeight: Minimum size to which elements are resized (in pixels).
//  minLeft, maxLeft, minTop, maxTop: Bounding box (in pixels).

// Next, you must define two functions, isElement and isHandle. These are passed
// a given DOM element, and must "return true" if the element in question is a
// draggable element or draggable handle. Here, I'm checking for the CSS classname
// of the elements, but you have have any combination of conditions you like:

dragresize.isElement = function(elm)
{
 if (elm.className && elm.className.indexOf('drsElement') > -1) return true;
};
dragresize.isHandle = function(elm)
{
 if (elm.className && elm.className.indexOf('drsMoveHandle') > -1) return true;
};

// You can define optional functions that are called as elements are dragged/resized.
// Some are passed true if the source event was a resize, or false if it's a drag.
// The focus/blur events are called as handles are added/removed from an object,
// and the others are called as users drag, move and release the object's handles.
// You might use these to examine the properties of the DragResize object to sync
// other page elements, etc.

dragresize.ondragfocus = function() { };
dragresize.ondragstart = function(isResize) { };
dragresize.ondragmove = function(isResize) { };
dragresize.ondragend = function(isResize) { };
dragresize.ondragblur = function() { };

// Finally, you must apply() your DragResize object to a DOM node; all children of this
// node will then be made draggable. Here, I'm applying to the entire document.
dragresize.apply(document);
</script> 
```

**CSS**

```
<style type="text/css">
.drsElement { 
position: relative;
 border: 1px solid #333;
}

.drsMoveHandle {
 height: 10px;
 border-bottom: 1px solid #666;
 cursor: move;
}

.dragresize {
 position: absolute;
 width: 5px;
 height: 5px;
 font-size: 1px;
 background: #EEE;
 border: 1px solid #333;
}

.dragresize-tl {
 top: -8px;
 left: -8px;
 cursor: nw-resize;
}
.dragresize-tm {
 top: -8px;
 left: 50%;
 margin-left: -4px;
 cursor: n-resize;
}
.dragresize-tr {
 top: -8px;
 right: -8px;
 cursor: ne-resize;
}

.dragresize-ml {
 top: 50%;
 margin-top: -4px;
 left: -8px;
 cursor: w-resize;
}
.dragresize-mr {
 top: 50%;
 margin-top: -4px;
 right: -8px;
 cursor: e-resize;
}

.dragresize-bl {
 bottom: -8px;
 left: -8px;
 cursor: sw-resize;
}
.dragresize-bm {
 bottom: -8px;
 left: 50%;
 margin-left: -4px;
 cursor: s-resize;
}
.dragresize-br {
 bottom: -8px;
 right: -8px;
 cursor: se-resize;
}
</style> 
```

**HTML**

```
<table cellpadding="5" cellspacing="0" width="100%" style="margin:auto;">
            <tr>
                <td><div class="drsElement drsMoveHandle" id="output1" style="font-weight:bold;height:20px;margin-top:40px"></div></td>
            </tr>
            <tr>
                <td><div class="drsElement drsMoveHandle" id="output2" style="height:40px;margin-top:30px"></div></td>
            </tr>   
            <tr>
                <td><div class="drsElement drsMoveHandle" id="output3" style="height:50px;margin-top:40px;"></div></td>
            </tr>   
        </table> 
```

问题是我不能将它**拖到**可以调整大小的任何地方，但不能从原始大小减小 DIV 元素大小，我不知道为什么......？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-28T06:41:14.347

我看到你正在使用来自 TwinHelix [http://www.twinhelix.com/javascript/dragresize/的代码](http://www.twinhelix.com/javascript/dragresize/)

1）请始终清楚地说明您在哪里获得所使用的代码，以此感谢作者。您应该告诉我们您正在使用 TwinHelix 提供的软件包。不要故意或疏忽，让人们认为你展示的代码是你自己的。如果你在某处得到它，请告诉我们。

2）我已经使用该代码来探索一些可能性，我对此没有任何问题。我可以将 div 调整为任何大小，包括小于原始大小。

我建议您访问 TwinHelix 站点并获取当前代码，然后重新开始并确保您正确使用它。

您可以设置 div 的大小限制、上下移动的限制等。

确保您至少了解它在做什么的基础知识以及如何编写 div 代码来完成您想做的事情。

获取 TwinHelix 的演示页面，将其复制到您的系统，以及所有的 Javascript 等，然后让它在您的系统上运行。然后让该页面按照您想要的方式工作 - 部门大小、内容等 - 一旦您的部门按照您想要的方式工作，将代码集成到您自己的页面中。永远不要从某个地方获取代码并直接跳入并将其放入您的页面中。隔离事物，仅使用新事物制作单独的测试页面，在此示例中拖动并调整大小，然后将其集成到您的页面中。

尝试将其更改为以您想要的方式工作，同时将其集成到您的页面中，这会给您带来更多无法处理的问题。

在进行任何编程时，将其分解为易于处理的块，让它们按照您想要的方式工作，然后将它们组合在一起以形成整体（我已经在“this”工作了 39 年以上，并且只有一点经验）。

阅读示例代码和其他代码中的注释，并至少了解谁来定义这些部门。

除非您确定自己在做什么，否则不要修改任何代码或 CSS，否则您可能会引入不知道它们来自何处的问题。

3) 除了几个问题，TwinHelix 代码运行良好。我的问题在于尝试扩展功能并添加新功能。我让事情按照我想要的方式工作，但有一些我根本不喜欢的怪癖。所以，我正在研究其他一些方法。我不知道什么时候可以完成，但是当我完成时，我会在我的网站[http://www.bobnovell.com](http://www.bobnovell.com)上发布一个页面——请注意，现在那里没有太多内容（截至 2012 年 12 月 28 日）但我有很多时间要补充。

4) 要获得相当好的拖动功能，请查看[http://tool-man.org/ToolManDHTML/](http://tool-man.org/ToolManDHTML/) -“基本可拖动图层”它没有调整大小但效果很好。唯一的问题与设置 zIndex 有关。我添加了代码来处理 mouseDowns 以带来分歧

5) 我不希望任何人查看您在这个问题中提供的所有代码 - JavaScript、CSS、HTML - 并给您建议 - 它太大了。

另外，如果您有任何问题，请咨询作者。

# c# - 什么是 ASP.NET 中的静态 C# 类变量？

> ID：11288741
> 
> 赞同：3
> 
> 时间：2012-07-02T06:33:33.260
> 
> 标签：c#, asp.net, static, static-members

我知道静态类变量在 C++ 类中的作用，我不太清楚的是用于 ASP.NET Web 应用程序的 C# 类中静态类变量的生命周期。这是一个代码示例：

```
namespace MyWebApp
{
    public static class MyFunctions
    {
        private static string _cachedID;

        public static string getID(string strValue)
        {
            if(_cachedID == null)
                _cachedID = strValue;

            return _cachedID;
        }
    }
} 
```

有人可以用简单的英语为我解释一下吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-02T06:37:08.513

我在某处读过。

静态变量/字段在执行其包含类型的静态*构造函数*之前就存在，并且在关联的应用程序域不再存在时不再存在。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T06:49:01.000

由于您是在多线程 ASP.NET 应用程序的上下文中提出这个问题的，因此您应该非常小心。检查以下场景：

2 个用户 Bob 和 Alice`getID`在完全相同的时间调用该方法并传递不同的参数。Bob 通过`Foo`，Alice 通过`Bar`。由于这是第一次调用，`_cachedID`变量尚未初始化，因此两者都进入`if`条件，Bob 稍有延迟。所以 Alice 将`the _cachedID`静态变量设置为`Bar`，并在一微秒后将`Bob`其设置为`Foo`。现在代码继续，函数`Foo`为两个用户返回。鲍勃当然很高兴，因为那是他想要的，但爱丽丝想要`Bar`。

例如，如果您想在多线程环境中执行一次性初始化，您可以考虑使用[单例模式](http://msdn.microsoft.com/en-us/library/ff650316.aspx)的线程安全版本。

这样做的寓意是，在 ASP.NET 应用程序中处理共享/静态数据时应该非常小心。如果您需要使用它，您需要正确同步对它的访问，否则可能会发生非常糟糕的事情。当您的应用程序被多个用户同时访问时，它们通常发生在生产环境中。在您的本地 PC 上，一切都会正常工作。

回到您关于静态字段生命周期的原始问题：它与应用程序域的生命周期相关。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T06:39:20.950

您不能也不必创建对象的类，但您只能从静态上下文中访问它。

你会像这样使用你的例子：

```
MyFunctions.getID("bla"); 
```

[http://msdn.microsoft.com/en-us/library/79b3xss3(v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/79b3xss3(v=vs.80).aspx)

# google-maps - 通过 API 更新 Google 地方信息

> ID：11288743
> 
> 赞同：1
> 
> 时间：2012-07-02T06:33:34.730
> 
> 标签：google-maps, google-places-api

您知道是否可以通过 Google Places 中的 API 更新现有地点？

假设我需要更改“营业时间”，因为我的业务活动有灵活的营业时间，我想通过脚本自动执行此任务。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T08:24:31.507

好吧，Google Palces API decoumentation 只讲述删除或添加新地点： [https ://developers.google.com/places/documentation/](https://developers.google.com/places/documentation/)

所以现在看来​​是不可能的，但它仍然是测试版，所以将来可能会有。

# ios - iOS 应用更新通知

> ID：11288745
> 
> 赞同：30
> 
> 时间：2012-07-02T06:33:46.287
> 
> 标签：ios, app-store, itunes, provisioning-profile

iOS 应用更新机制是如何工作的？如何告诉用户 Appstore 上的应用程序已更新？我是否必须在代码中编写功能以显示更新弹出框，或者它是否由 Appstore 处理以向用户显示应用程序已更新的通知。苹果是否为此提供了任何文档？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-02-01T09:41:59.687

您可以使用[Harpy](https://github.com/ArtSabintsev/Harpy)：当您的应用程序的新版本在 App Store 上可用时，此模块会触发 UIAlertView。

> Harpy现在被贬低了。[Siren](https://github.com/ArtSabintsev/Siren)是从 Harpy 移植过来的，因为[Siren](https://github.com/ArtSabintsev/Siren)和[Harpy](https://github.com/ArtSabintsev/Harpy)由同一个开发人员维护。截至 2018 年 12 月，Harpy 已被弃用，取而代之的是[Siren](https://github.com/ArtSabintsev/Siren)。

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2015-09-29T03:12:59.060

1.  Apple 提供了一个现有 API 来从 App Store 上的应用程序中获取最新的应用程序信息：http: *//itunes.apple.com/jp/lookup/ ?id=app_id*

> 例如： http: *//itunes.apple.com/jp/lookup/ ?id=1005582646*

> 例如美国应用程序：http://itunes.apple.com/lookup/?id=myAppIDNumberFromTheAppStore

请注意，这**与 App Store Connect API 是分开的**。如果你使用它，你需要在发出请求之前生成一个令牌。请先查看 API 上的文档，否则您将得到一个空结果的响应。

```
https://developer.apple.com/documentation/appstoreconnectapi

https://developer.apple.com/documentation/appstoreconnectapi/generating_tokens_for_api_requests 
```

iTunes API 的响应有一个在该字段`"version"`内的`"results"`字段。它具有 App Store 上最新版本的版本号。

在`AppDelegate->didFinishLaunchingWithOptions`中，您可以调用上述 API。

2.  在用户设备上获取当前版本的方法：

对象-C。

```
NSString *currentAppVersion = [[[NSBundle mainBundle]
    infoDictionary] objectForKey:@"CFBundleShortVersionString"]; 
```

斯威夫特 (4.2)

```
var currentAppVersion = Bundle.main.infoDictionary?["CFBundleShortVersionString"] as? String 
```

现在，您可以比较 1 和 2 的版本号，以便在 App Store 上有更新的应用程序时向用户显示警报或通知。

# wpf - 选择自定义控件时 WPF 文本框不会失去焦点

> ID：11288746
> 
> 赞同：0
> 
> 时间：2012-07-02T06:33:46.710
> 
> 标签：wpf, mvvm, textbox, custom-controls, lost-focus

在 WPF/MVVM 应用程序中，我在特定视图上有一个自定义控件。此控件扩展 WPF DataGrid 并包含用户名和 ID。
在同一个视图中，我有一些文本框，其文本属性绑定到视图模型公开的用户对象的所有不同属性，并且文本属性的 UpdateSourceTrigger 设置为 LostFocus。
每当我离开文本框时，数据都会按原样更新（因为文本框失去焦点）。但问题是，当我选择自定义控件中的任何项目留下任何文本框时，不会发生这种情况，文本框数据不会更新。谁能解释发生了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:40:34.697

也许您的自定义控件定义了自己的焦点范围，从而允许逻辑焦点同时位于文本框和自定义控件中？尝试签入 snoop。

# html - 被覆盖的样式

> ID：11288748
> 
> 赞同：0
> 
> 时间：2012-07-02T06:33:57.393
> 
> 标签：html, css

以下是我的内置页面上的 HTML：

```
<div class="notes quotes-notification member-savings f-left">
<h2>My Notifications</h2>
<ul>
<li><b>need to modify the HTML a little more than on the other pages you worked your account. </li>
<li>An <a href="#">answer has been posted</a> to a question you submitted.</li>
<li>A shop responded to a <a href="#">review you posted</a>.</li>
</ul>
</div> 
```

`quotes-notification`并且 `member-savings`两者都有不同的css，如下所示：

```
.member-savings {
    width: 19%;
    margin-right: 1.6%; 
    border: 2px solid #0c86c9;
}
.quotes-notification{
    width: 32%; 
} 
```

在页面上，我需要通知块将宽度设为 32%，但此块将 19% 视为宽度并覆盖 32%。在这里，我不能删除类`member-savings`有什么办法可以忽略 19% 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:39:36.010

指定`!important`for`width:32%;`是实现此目的的一种方法。但这不是推荐的做法。另一种方法是尝试增加针对`quotes-notification`. 即代替：

```
.quotes-notification{
    width: 32%; 
} 
```

尝试类似：

```
body div.quotes-notification {
    width: 32%; 
} 
```

# caching - CoutputCache yii 我想缓存页面的不同版本并根据条件使用它们

> ID：11288750
> 
> 赞同：0
> 
> 时间：2012-07-02T06:34:04.190
> 
> 标签：caching, yii

我正在尝试使用 CoutputCache 缓存同一操作的不同版本，并将所有版本保存在缓存中并根据条件使用其中的任何一个。有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T19:35:58.600

您可以在 varyByParam 参数中使用 get params 来生成每个操作的不同版本。

```
public function filters()
{
    return array( 
            array(
                'COutputCache + myAction',
                'duration'=>1,
                'varyByParam'=>array('my_get_param'),
            ),

    );
} 
```

其中 myAction 是控制器方法的路由名称，例如 actionMyAction()

然后将各种获取参数附加到您的请求中，每个唯一请求将单独缓存。

# java - 线程“主”java.lang.IllegalArgumentException 中的异常：工作表索引 (0) 超出范围 (0..-1)

> ID：11288753
> 
> 赞同：1
> 
> 时间：2012-07-02T06:34:19.470
> 
> 标签：java, excel, poi-hssf, xssf

我想使用 apache poi api 在 java 中读取 2010 excel 文件...但它给了我一个错误线程“main”java.lang.IllegalArgumentException 中的异常：工作表索引（0）超出范围（0..-1 ) 我正在使用 xssf，但如果我想从旧格式的 excel 中获取数据，那么它可以通过唱 HSSF 来正常工作。我不知道 XSSF 发生了什么..这是我的代码..请帮助我。

```
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.InputStream;
import java.util.Iterator;

import org.apache.poi.ss.usermodel.Cell;
import org.apache.poi.ss.usermodel.Row;
import org.apache.poi.xssf.usermodel.XSSFCell;
import org.apache.poi.xssf.usermodel.XSSFRichTextString;
import org.apache.poi.xssf.usermodel.XSSFRow;
import org.apache.poi.xssf.usermodel.XSSFSheet;
import org.apache.poi.xssf.usermodel.XSSFWorkbook;

/**
 * This java program is used to read the data from a Excel file and display them
 * on the console output.
 * 
 * @author dhanago
 */
public class xssff {

    /** Creates a new instance of POIExcelReader */
    public xssff() {
    }

    /**
     * This method is used to display the Excel content to command line.
     * 
     * @param xlsPath
     */
    @SuppressWarnings("unchecked")
    public void displayFromExcel(String xlsPath) {
        InputStream inputStream = null;

        try {
            inputStream = new FileInputStream(xlsPath);
        } catch (FileNotFoundException e) {
            System.out.println("File not found in the specified path.");
            e.printStackTrace();
        }

        XSSFWorkbook workBook = new XSSFWorkbook();
        XSSFSheet sheet = workBook.getSheetAt(1);
        Iterator<Row> rows = sheet.rowIterator();

        while (rows.hasNext()) {
            XSSFRow row = (XSSFRow) rows.next();

            // display row number in the console.
            System.out.println();

            // once get a row its time to iterate through cells.
            Iterator<Cell> cells = row.cellIterator();

            while (cells.hasNext()) {
                XSSFCell cell = (XSSFCell) cells.next();

                /*
                 * Now we will get the cell type and display the values
                 * accordingly.
                 */
                switch (cell.getCellType()) {
                case XSSFCell.CELL_TYPE_NUMERIC: {

                    // cell type numeric.
                    System.out.print(cell.getNumericCellValue() + "\t\t\t");

                    break;
                }

                case XSSFCell.CELL_TYPE_STRING: {

                    // cell type string.
                    XSSFRichTextString richTextString = cell
                            .getRichStringCellValue();

                    System.out.print(richTextString.getString() + "\t\t\t");

                    break;
                }

                default: {

                    // types other than String and Numeric.
                    System.out.println("Type not supported.");

                    break;
                }
                }
            }
        }

    }

    /**
     * The main executable method to test displayFromExcel method.
     * 
     * @param args
     */
    public static void main(String[] args) {
        xssff poiExample = new xssff();
        String xlsPath = "c://temp//data.xlsx";

        poiExample.displayFromExcel(xlsPath);
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-02T06:57:28.597

好的，我发现了您的问题，您正在创建一本没有工作表的新书

```
XSSFWorkbook workBook = new XSSFWorkbook();
XSSFSheet sheet = workBook.getSheetAt(1);  //error here, the workBook book has NO sheets! 
```

您应该基于 InputStream 创建这本书

```
XSSFWorkbook workBook = WorkbookFactory.create(new PushbackInputStream(inputStream));
XSSFSheet sheet = workBook.getSheetAt(1); 
```

或者更简单，只需传递文件名即可创建图书：

```
XSSFWorkbook workBook = new XSSFWorkbook(xlsPath);
XSSFSheet sheet = workBook.getSheetAt(1); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-05-16T20:47:17.260

尝试这个：

```
// Create Workbook instance holding reference to .xlsx file
XSSFWorkbook workbook = new XSSFWorkbook();
XSSFSheet sheet = createSheet(workbook, "Sheet 1", false);
XSSFRow row1 = sheet.createRow(0); 
```

该功能是：

```
 private static XSSFSheet createSheet(XSSFWorkbook wb, String prefix, boolean isHidden) {
    XSSFSheet sheet = null;
    int count = 0;

    for (int i = 0; i < wb.getNumberOfSheets(); i++) {
        String sName = wb.getSheetName(i);
        if (sName.startsWith(prefix))
            count++;
    }

    if (count > 0) {
        sheet = wb.createSheet(prefix + count);
    } else
        sheet = wb.createSheet(prefix);

    if (isHidden)
        wb.setSheetHidden(wb.getNumberOfSheets() - 1, XSSFWorkbook.SHEET_STATE_VERY_HIDDEN);

    return sheet;
} 
```

# ios - 对键和值进行排序

> ID：11288755
> 
> 赞同：0
> 
> 时间：2012-07-02T06:34:20.263
> 
> 标签：ios, arrays, sorting, dictionary, plist

我在从 IOS 的属性列表中排序键时遇到困难。

我正在将列表加载到字典中，并从中提取键到数组中，使用方法对它们进行排序：“sortedArrayUsingSelector'selector(compare:)”

当我尝试使用这些键时，这些值似乎没有按照附加到那里的键进行排序？示例：（键值）未排序：Assens 0、Odense 1、Nyborg 1、Middelfart 0。已排序：Assens、1、Odense 1、Nyborg 0、Middelfart 0。

`

```
NSBundle *bundle = [NSBundle mainBundle];
    NSURL *KSplistURL = [bundle URLForResource:@"KommunerStedtillæg" 
                               withExtension:@"plist"];
    NSDictionary *dictionary = [NSDictionary 
                                dictionaryWithContentsOfURL:KSplistURL];
    self.kommuner = dictionary;

    //NSArray *keys = [[self.kommuner allKeys] sortedArrayUsingSelector:@selector(compare)];

    NSArray *components = [self.kommuner allKeys];
    NSArray *keys = [components sortedArrayUsingSelector:@selector(compare:)];

    NSMutableDictionary *newDict = [NSMutableDictionary dictionary];
    for (id key in keys)[newDict setObject:[dictionary objectForKey:key]forKey:key];

    self.kommunerKeys = [newDict allKeys];
    self.kommunerValues = [newDict allValues]; 
```

`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T06:39:15.193

为什么您认为字典会知道您正在对其键数组的不相关副本进行排序这一事实？您必须像这样创建另一个字典：

```
NSArray *keys = [[originalDict allKeys] sortedArrayUsingSelector:@selector(compare:)];
NSMutableDictionary *newDict = [NSMutableDictionary dictionary];
for (id key in keys)
    [newDict setObject:[originalDict objectForKey:key] forKey:key]; 
```

现在`newDict`包含排序的键*和*值。

# asp.net - 我该如何实施会员资格？

> ID：11288760
> 
> 赞同：0
> 
> 时间：2012-07-02T06:35:04.313
> 
> 标签：asp.net

我想实现会员，有两种方法：通过（ASP.NET网站管理工具）或通过（手动）但我不知道哪种方法更好！！！！我是初学者。感谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:42:45.180

如果您想编写自己的会员提供程序（如 XML Membership Provider）并集成到您的站点，您可以研究 BlogEngine.NET 的源代码，它确实是会员和角色使用的一个很好的示例。

[http://blogengine.codeplex.com/](http://blogengine.codeplex.com/)

# sql-server - 如何命名从存储过程返回的多个结果集

> ID：11288762
> 
> 赞同：2
> 
> 时间：2012-07-02T06:35:32.637
> 
> 标签：sql-server, stored-procedures

我有一个 SQL Server 存储过程，它一次返回多个“结果集”。默认情况下，它将这些结果集命名为`"Table","Table1"`

但我想知道是否有某种方法可以在存储过程的文本中设置每个结果集的所需名称。

# android - 如何为 VideoView 或 MediaController 制作自定义按钮/进度条？

> ID：11288764
> 
> 赞同：4
> 
> 时间：2012-07-02T06:35:43.907
> 
> 标签：android, custom-controls, media-player, android-videoview

我想用自定义设计创建 MediaPlayer，但我找不到怎么做。我制作流媒体播放器：

```
...
mVideoView = (VideoView) findViewById(R.id.vedio_view);
mBtnHttp = (Button) findViewById(R.id.btn_http);
mBtnHttp.setOnClickListener(this);
mMediaController = new MediaController(this);
...
public void onClick(View v) {
    mVideoView.setVideoURI(Uri.parse(uri));
    mVideoView.start();
    mVideoView.requestFocus();
    mMediaController.show();
    }
... 
```

请帮我。我在stackoverflow中找到了很多主题，但问题没有解决！提前致谢！

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2019-02-27T07:37:43.163

或者，您可以使用 Exoplayer 播放您的视频

```
dependencies {
   [...]

implementation 'com.google.android.exoplayer:exoplayer-core:2.7.3'
implementation 'com.google.android.exoplayer:exoplayer-dash:2.7.3'
implementation 'com.google.android.exoplayer:exoplayer-ui:2.7.3'

} 
```

使用 PlayerView 而不是视频视图，并在 app:controller_layout_id attr 中给出 custom_playback_control 的路径

```
 <com.google.android.exoplayer2.ui.PlayerView  
   android:id="@+id/video_view"
   android:layout_width="match_parent"
   android:layout_height="match_parent"
   app:controller_layout_id="@layout/custom_playback_control"/> 
```

[https://codelabs.developers.google.com/codelabs/exoplayer-intro/#6](https://codelabs.developers.google.com/codelabs/exoplayer-intro/#6)

# asp.net-mvc - 在 MVC 模型中处理空值

> ID：11288766
> 
> 赞同：1
> 
> 时间：2012-07-02T06:35:48.193
> 
> 标签：asp.net-mvc, model

我的 MVC 4 应用程序有问题。我有一个模型，代码如下：

```
public class MyModel
{
    [Required]
    [Display(Name = "Code")]
    public string Code { get; set; }

    [Display(Name = "Type")]
    [DisplayFormat(NullDisplayText = "")] 
    public string Type { get; set; }
} 
```

Model 中的`Code`字段表示数据库中的不可为空的类型，而该`Type`字段接受空值。现在，当我尝试使用控制器将项目从模型加载到视图中时，我的问题就来了。请参阅以下控制器代码：

```
public ActionResult Display(string Code)
{
    MyManager manage= new MyManager();

    Model model= new Model();
    model = manage.GetItem(Code);

    MyModel obj = new MyModel();
    obj.Code = model.Code.Trim();
    obj.Type = model.Type.Trim();

    return View(obj);
 } 
```

基本上 GetItems 方法来自我的经理，它接受`Code`并返回 Model 类型的数据（这是我数据库中表的名称）。

问题出在这一行：`obj.Type = model.Type.Trim();`每当出现来自数据库的空值时。

有人可以指出如何处理这个问题的有效方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T06:52:03.107

您可以尝试在复制到 ViewModel 对象之前检查数据库返回。

```
obj.Type = provider.Type != null ? provider.Type.Trim() : string.Empty; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T06:40:11.400

采用

```
public string? Type { get; set; } 
```

# android - 如何在android的arraylist中找到特定值出现的次数？

> ID：11288767
> 
> 赞同：0
> 
> 时间：2012-07-02T06:35:51.540
> 
> 标签：android

我正在开发安卓应用程序。我创建了两个页面，即 Page1 和 Page2。Page2 包含一个具有重复值的数组列表。我正在从 page1 传递一个值，我想在 page2 的数组列表中找到该值（来自 page1）的出现次数。请建议我应该做些什么来完成这项任务。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T06:41:00.230

以下是您的问题的解决方案

```
 ArrayList<String> list = new ArrayList<String>();
Collections.frequency(list, "Key/value to search"); 
```

参考链接 >>[如何计算数组列表/列表中的出现次数](https://stackoverflow.com/questions/5211194/count-occurences-of-word-in-arraylist)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T06:45:29.587

`Collection.frequency()`是你需要的，

尝试类似的东西，

```
ArrayList<Integer> intList // your list

Set<Integer> Values = new HashSet<Integer>;
Values.addAll(intList); // all duplicates removed.

for (Integer i : Values) {

 int occurrences = Collections.frequency(intList, i);
 Log.e(i ," occurs " + occurences + " times.");
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-02T06:50:40.950

使用**Collections.frequency()**方法...

例如：

```
 public class ArrFrq {

    public static void main(String[] args){
    ArrayList<String> s = new ArrayList<String>();

    s.add("Vivek");
    s.add("Vicky");
    s.add("Vivek");

    System.out.println(Collections.frequency(s, "Vivek"));

    }

} 
```

# javascript - 如果地理定位成功，调整缩放级别？

> ID：11288772
> 
> 赞同：0
> 
> 时间：2012-07-02T06:36:21.833
> 
> 标签：javascript, google-maps-api-3

如果地理定位成功（成功），如何调整函数内的缩放级别？

```
function createMap(lat, lng) {
var mapOptions = { center: new google.maps.LatLng(lat, lng), 
  zoom: 12,
  scrollwheel: false,
  mapTypeId: google.maps.MapTypeId.ROADMAP };
map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);

function initialize() {
if(navigator.geolocation) {
  success = function(position) {
    createMap(position.coords.latitude, position.coords.longitude);
  };
  error = function() { createMap(99.648493, -99.410812); }

  navigator.geolocation.getCurrentPosition(success, error);
 }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T06:57:38.720

请检查以下代码以根据地理位置更改缩放级别：

```
 function createMap(lat, lng, zoomVal) {
 var mapOptions = { center: new google.maps.LatLng(lat, lng),    
zoom: zoomVal,   
scrollwheel: false,  
 mapTypeId: google.maps.MapTypeId.ROADMAP 
}; 
map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);  
function initialize() { 
if(navigator.geolocation) {  
 success = function(position) {    
 createMap(position.coords.latitude, position.coords.longitude,15);  
 };   
error = function() {
 createMap(99.648493, -99.410812,12); 
}    
navigator.geolocation.getCurrentPosition(success, error);  
} 
} 
```

# android - 无法在 Android phonegap 应用程序中使用 jqplot 绘制图形

> ID：11288773
> 
> 赞同：1
> 
> 时间：2012-07-02T06:36:27.520
> 
> 标签：android, cordova, jqplot

我正在尝试在 Android phonegap 应用程序中使用 jqplot 绘制一个简单的条形图，但我没有得到任何东西，没有错误没有图表。

我是 jqplot 和 phonegap 的新手，所以请帮帮我。

我的html文件是：

```
<link rel="stylesheet" href="jquery.mobile/jquery.mobile-1.1.0.min.css" />
<link rel="stylesheet" href="index.css" /> 
<link rel="stylesheet" href="jquery.mobile/jquery.jqplot.css" /> 

<script src="jquery.mobile/jquery-1.7.2.min"></script>
<script src="jquery.mobile/jquery.mobile-1.1.0.min.js"></script>
    <script src="jquery.mobile/jquery.jqplot.min.js"></script>
<script src="jquery.mobile/jqplot.barRenderer.min.js"></script>
<script src="jquery.mobile/jqplot.categoryAxisRenderer.min.js"></script>

<script type="text/javascript" charset="utf-8" src="phonegap-1.4.1.js"></script>
<script type="text/javascript" charset="utf-8" src="index.js"></script>

<style type="text/css">
    .myChart {
        width: 300px;
        height: 200px;
    }
</style>
</head>

   <body onload="init();">
<div data-role="page" id="page-home" class="type-interior" data-theme="b">

<div data-role="header" data-theme="b">
    <h1>Bar Graph Demo</h1>
    </div>

<div data-role="content" data-theme="c">            
    <div id="barChart" class="myChart"></div>
    </div>
</div> 
```

索引.js：

```
function init() {
//alert("hi");
}
$('#page-home').live('pageinit', function(event){       

        $.jqplot('barChart', [[[5,1], [3,3], [1,5]]], {
            seriesDefaults:{
                renderer:$.jqplot.BarRenderer,
                shadowAngle: 135,
                rendererOptions: {
                    barDirection: 'horizontal'
                },
                pointLabels: {show: true, formatString: '%d'}
            },
            axes: {
                yaxis: {
                    renderer: $.jqplot.CategoryAxisRenderer
                }
            }
        }).replot({clear: true, resetAxes:true});

}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T12:01:25.443

```
document.addEventListener("deviceready", onDeviceReady, false); 
```

你应该把你的代码

```
 function onDeviceReady() {
    } 
```

还要确保您有一个 div 或任何其他 id 为“barChart”的 html 元素。

# php - 如何通过内部数组键对多维数组进行排序？

> ID：11288778
> 
> 赞同：0
> 
> 时间：2012-07-02T06:36:43.580
> 
> 标签：php, multidimensional-array, sorting

> **可能重复：**
> [php按子值排序数组](https://stackoverflow.com/questions/4383187/php-sort-array-by-sub-value)

我有一个多维数组，如下所示：

```
Array => (
    [0] => Array(
        [a] => abcd,
        [b] => 22
    ),
    [1] => Array(
        [a] => defg,
        [b] => 12
    ),
    .....
) 
```

我想按`b`内部数组中的索引值对该数组进行排序。如果我想对其进行降序排序，那么该示例现在可以了。但是，如果我想以升序方式排序，预期的输出将是：

```
 Array => (
    [0] => Array(
        [a] => defg,
        [b] => 12
    ),
    [1] => Array(
        [a] => abcd,
        [b] => 22
    ),
    .....
) 
```

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T07:30:03.217

你可以试试这个功能：

```
bool uasort ( array &$array , callback $cmp_function ) 
```

这是我的代码：

```
$arr = array(
    0 => array('a' => 'abcd','b' => 22),
        1 => array('a' => 'defg','b' => 12),
    2 => array('a' => 'dfdf','b' => 32)
);

uasort($arr,'mul_sort');

function mul_sort($a,$b)
{
    if($a['b'] > $b['b'])

        return 1;//here,if you return -1,return 1 below,the result will be descending 

    if($a['b'] < $b['b'])

        return -1;

    if($a['b'] == $b['b'])

        return 0;
}

print_r($arr); 
```

```
output:
---------- PHP ----------
Array
(
    [1] => Array
        (
            [a] => defg
            [b] => 12
        )

    [0] => Array
        (
            [a] => abcd
            [b] => 22
        )

    [2] => Array
        (
            [a] => dfdf
            [b] => 32
        )

) 
```

# jquery - Slidy jquery 插件在浏览器中不起作用，但在 DW 中会起作用

> ID：11288780
> 
> 赞同：0
> 
> 时间：2012-07-02T06:36:48.977
> 
> 标签：jquery

我是这方面的菜鸟，我正在为自己建立一个投资组合网站。我抓住了一个用于幻灯片类型交易的 jquery 插件。现在它可以在 DW 中运行，但是当我将它扔到我的主机 ftp 上并转到该站点时，脚本似乎没有加载。这是该站点的 URL，如果需要，我可以添加更多的 deets。非常感谢。

[http://www.akashicsound.com](http://www.akashicsound.com)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:41:06.417

情况可能并非如此，但您缺少：

1.  图片/image-1.jpg
2.  图片/image-2.jpg

在您的网站上，它们是您幻灯片中的那些图像吗？在这种情况下将它们上传到您的服务器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T07:12:02.793

似乎图像丢失了。您应该确保正确设置了图像路径。

# api - 如何在 Foursquare API 上“与”搜索关键字？

> ID：11288782
> 
> 赞同：0
> 
> 时间：2012-07-02T06:37:02.417
> 
> 标签：api, foursquare

使用包含多个单词（例如“家具店”）的关键字通过 lat/lng 搜索foursquare api似乎以“或”为基础进行搜索，例如“家具或商店”，但我更喜欢以“与”为基础进行搜索，例如“家具店”和存储”。

多次 OR 搜索的结果没有意义。这可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T22:12:22.403

Foursquare 场地搜索不支持 AND 或 OR 等关键字。但是，根据您的示例，您最好使用类别限制。[请参阅/venues/search](https://developer.foursquare.com/docs/venues/search)上的“categoryId”参数

# java - 在 facebook 中进行视频通话的 Java 代码示例

> ID：11288785
> 
> 赞同：-2
> 
> 时间：2012-07-02T06:37:13.897
> 
> 标签：java, facebook, facebook-graph-api, video

java中是否有任何代码可以连接到FB帐户，从我的应用程序进行视频通话，发送一些参数，例如要调用的用户等等。

RestFB 或 GraphFB 有类似的东西吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:57:09.173

Facebook 使用 Skype 基础设施进行视频通话。所以他们还没有公开任何 API 来进行视频通话。

这个[链接](http://www.itproportal.com/2011/07/09/facebook-video-calling-skypes-doing-all-hard-work/)会让你了解它是如何工作的。

这是Java 版 Skype API的[链接。](http://skype.sourceforge.jp/index.php?Skype%20API%20For%20Java%20%28English%29)看看这些是否有帮助。

# excel - 如何在 POI 中获取最后一行 excel 并附加空白行？

> ID：11288786
> 
> 赞同：0
> 
> 时间：2012-07-02T06:37:14.087
> 
> 标签：excel, jsp, struts, apache-poi

如何在POI中获取excel的最后一行并附加空白行并在空白行之后写入下一条记录

下面是我的代码片段

```
public class ResultSetToExcel {
            private HSSFWorkbook workbook;
            private HSSFSheet sheet;
            private HSSFFont boldFont;
            private HSSFDataFormat format;
            private ResultSet resultSet;
            private FormatType[] formatTypes;

            public ResultSetToExcel(ResultSet resultSet, FormatType[] formatTypes, String sheetName) {
                workbook = new HSSFWorkbook();
                this.resultSet = resultSet;
                sheet = workbook.createSheet(sheetName);
                boldFont = workbook.createFont();
                boldFont.setBoldweight(HSSFFont.BOLDWEIGHT_BOLD);
                format = workbook.createDataFormat();
                this.formatTypes = formatTypes;
            }

            public ResultSetToExcel(ResultSet resultSet, String sheetName) {
                this(resultSet, null, sheetName);
            }

            private FormatType getFormatType(Class _class) {
                if (_class == Integer.class || _class == Long.class) {
                    return FormatType.INTEGER;
                } else if (_class == Float.class || _class == Double.class) {
                    return FormatType.FLOAT;
                } else if (_class == Timestamp.class || _class == java.sql.Date.class) {
                    return FormatType.DATE;
                } else {
                    return FormatType.TEXT;
                }
            }

            public void generate(OutputStream outputStream) throws Exception {
                try {
                    ResultSetMetaData resultSetMetaData = resultSet.getMetaData();
                    if (formatTypes != null && formatTypes.length != resultSetMetaData.getColumnCount()) {
                        throw new IllegalStateException("Number of types is not identical to number of resultset columns. "
                                + "Number of types: " + formatTypes.length + ". Number of columns: "
                                + resultSetMetaData.getColumnCount());
                    }
                    int currentRow = 0;
                    HSSFRow row = sheet.createRow(currentRow);
                    int numCols = resultSetMetaData.getColumnCount();
                    boolean isAutoDecideFormatTypes;
                    if (isAutoDecideFormatTypes = (formatTypes == null)) {
                        formatTypes = new FormatType[numCols];
                    }
                    for (int i = 0; i < numCols; i++) {
                        String title = resultSetMetaData.getColumnName(i + 1);
                        writeCell(row, i, title, FormatType.TEXT, boldFont);
                        if (isAutoDecideFormatTypes) {
                            Class _class = Class.forName(resultSetMetaData.getColumnClassName(i + 1));
                            formatTypes[i] = getFormatType(_class);
                        }
                    }

                    currentRow++; // Write report rows
                    while (resultSet.next()) {
                        row = sheet.createRow(currentRow++);
                        for (int i = 0; i < numCols; i++) {
                            Object value = resultSet.getObject(i + 1);
                            writeCell(row, i, value, formatTypes[i]);
                        }
                    }
                    // Autosize columns
                    for (int i = 0; i < numCols; i++) {
                        sheet.autoSizeColumn((short) i);
                    }
                    workbook.write(outputStream);
                } finally {
                    outputStream.close();
                }
            }

            public void generate(File file) throws Exception {
                generate(new FileOutputStream(file));
            }

            private void writeCell(HSSFRow row, int col, Object value, FormatType formatType) throws NestableException {
                writeCell(row, col, value, formatType, null, null);
            }

            private void writeCell(HSSFRow row, int col, Object value, FormatType formatType, HSSFFont font)
                    throws NestableException {
                writeCell(row, col, value, formatType, null, font);
            }

            private void writeCell(HSSFRow row, int col, Object value, FormatType formatType, Short bgColor, HSSFFont font)
                    throws NestableException {
                HSSFCell cell = HSSFCellUtil.createCell(row, col, null);
                if (value == null) {
                    return;
                }
                if (font != null) {
                    HSSFCellStyle style = workbook.createCellStyle();
                    style.setFont(font);
                    cell.setCellStyle(style);
                }
                switch (formatType) {
                case TEXT:
                    cell.setCellValue(value.toString());
                    break;
                case INTEGER:
                    cell.setCellValue(((Number) value).intValue());
                    HSSFCellUtil.setCellStyleProperty(cell, workbook, HSSFCellUtil.DATA_FORMAT, HSSFDataFormat
                            .getBuiltinFormat(("#,##0")));
                    break;
                case FLOAT:
                    cell.setCellValue(((Number) value).doubleValue());
                    HSSFCellUtil.setCellStyleProperty(cell, workbook, HSSFCellUtil.DATA_FORMAT, HSSFDataFormat
                            .getBuiltinFormat(("#,##0.00")));

                    break;
                case DATE:
                    cell.setCellValue((Timestamp) value);
                    HSSFCellUtil.setCellStyleProperty(cell, workbook, HSSFCellUtil.DATA_FORMAT, HSSFDataFormat
                            .getBuiltinFormat(("m/d/yy")));
                    break;
                case MONEY:
                    cell.setCellValue(((Number) value).intValue());
                    HSSFCellUtil.setCellStyleProperty(cell, workbook, HSSFCellUtil.DATA_FORMAT, format
                            .getFormat("($#,##0.00);($#,##0.00)"));
                    break;
                case PERCENTAGE:
                    cell.setCellValue(((Number) value).doubleValue());
                    HSSFCellUtil.setCellStyleProperty(cell, workbook, HSSFCellUtil.DATA_FORMAT, HSSFDataFormat
                            .getBuiltinFormat("0.00%"));
                }
                if (bgColor != null) {
                    HSSFCellUtil.setCellStyleProperty(cell, workbook, HSSFCellUtil.FILL_FOREGROUND_COLOR, bgColor);
                    HSSFCellUtil
                            .setCellStyleProperty(cell, workbook, HSSFCellUtil.FILL_PATTERN, HSSFCellStyle.SOLID_FOREGROUND);
                }
            }

            public enum FormatType {
                TEXT, INTEGER, FLOAT, DATE, MONEY, PERCENTAGE
            }
        } 
```

和实现上述代码的类

```
 ResultSetToExcel resultSetToExcel = new ResultSetToExcel(iResultSet, csv_file_name); 
             int fileCount = 1; 
             while (true) { 
             boolean done = resultSetToExcel.generate(new File(csv_file_path+ csv_file_name)); 
             if (done) break; 
             csv_file_name = csv_file_name + "_" + fileCount + ".xls"; 
             fileCount++; 
             } 
```

编辑：

我使用了下面的片段

```
InputStream myxls = new FileInputStream("test.xls");
 Workbook book = new HSSFWorkbook(myxls); 
Sheet sheet = book.getSheetAt(0); 
System.out.println(sheet.getLastRowNum()); 
```

但我得到这个错误

```
java.io.IOException: Unable to read entire header; 0 bytes read; expected 512 bytes 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T10:46:58.583

关键位是数字 0 例外：

> java.io.IOException：无法读取整个标头；***读取0***个字节；预期 512 字节

POI 去读取应该在文件开头的 512 字节标题，但在文件中发现 0 字节 - 你的文件是空的。

确保您传入正确的文件名以进行加载。（您在标签中提到了 struts，您可能不在运行时预期的目录中......）

另外，我建议对您的代码稍作改进。您有一个文件，并且您正在使用通用接口，因此您应该更改加载工作簿的方式。而不是您当前的：

```
InputStream myxls = new FileInputStream("test.xls");
Workbook book = new HSSFWorkbook(myxls); 
```

你会好很多

```
Workbook book = WorkbookFactory.create(new File("test.xls")); 
```

直接从文件加载，而不是通过 InputStream，将提供更好的性能和更低的内存占用。通过使用 WorkbookFactory，您的代码可以同时适用于 XLS 和 XLSX 文件。

# android - USB通过android中的服务打开附件权限

> ID：11288788
> 
> 赞同：1
> 
> 时间：2012-07-02T06:37:53.383
> 
> 标签：android

再会，

我有一个应用程序通过服务将我的 android 设备连接到 arduino 单元。我已成功建立连接，但每当我插入该附件时，它一直在询问我是否允许使用该附件。有没有办法绕过此权限？如果我通过活动执行此操作，它可以与意图过滤器完美配合，我尝试在服务中应用相同的意图，但它似乎不起作用：/。

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="blink.service"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk android:minSdkVersion="10" />
    <uses-feature android:name="android.hardware.usb.accessory" />
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
        <activity
            android:name=".ActivityCreate">
             <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <receiver android:name=".StartupIntent" >
            <intent-filter>
                <action android:name="android.intent.action.BOOT_COMPLETED" />
            </intent-filter>
        </receiver>

        <service 
            android:name=".MainService"
            android:label="@string/app_name">
            <intent-filter>
                <action android:name="android.hardware.usb.action.USB_ACCESSORY_ATTACHED" />
            </intent-filter>
            <meta-data android:name="android.hardware.usb.action.USB_ACCESSORY_ATTACHED"
                android:resource="@xml/accessory_filter" />
        </service>
        <uses-library android:name="com.android.future.usb.accessory"/>

    </application>

</manifest> 
```

这是我清单中的代码。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T17:33:32.950

要绕过权限，您必须使您的应用程序成为系统应用程序。要使应用程序作为系统应用程序运行，您必须将 apk 放在 system/app 文件夹中。为此，我首先使用 adb 使用以下代码将系统驱动器重新安装为 rw（读写）：

```
adb remount rw
push "apk path" /system/app
adb remount ro 
```

现在重新启动系统。Android 将不再请求许可。

# javascript - 如何复制一个div多个固定的次数

> ID：11288789
> 
> 赞同：0
> 
> 时间：2012-07-02T06:37:54.167
> 
> 标签：javascript, asp.net, css

我想多次复制整个 div（即；在 A4 纸大小的左上角、右上角、左下角、右下角）

```
 <script language="javascript" type='text/javascript'>
    function updateDivs() {
     var repeat_container = document.getElementById("layout");
     var div_element;

    for (var i = 0; i < 4; i++) {
        div_element = document.createElement("div");
        repeat_container.appendChild(div_element);
      }
    }
   </script>

  <div class = "layout">
 <div class="header"><asp:label id="label1" runat="server/></div>
   <div class="chart"><asp:label id="label2" runat="server/></div>
    <div class="legend"><asp:label id="label3" runat="server/></div>
     <div class="info1"><asp:label id="label4" runat="server/></div>
      <div class="info2"><asp:label id="label5" runat="server/></div>
      <div class="info3"><asp:label id="label6" runat="server/></div>............
  </div>

  ![enter image description here][1]
  the screen shot is attached below 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:51:42.140

你不能用 javascript 来做，因为你有 asp.net 控件。为您的每个 div 添加`runat="server"`和更改他们的`ID to Upperleftcorner, Upperrightcornerbottom, bottomleftcorner, bottomrightcorner.`

代码：

```
 List<HtmlGenericControl> alldivs=new List<HtmlGenericControl>(4);
            alldivs.Add(Upperleftcorner);
            alldivs.Add(Upperrightcornerbottom);
            alldivs.Add(bottomleftcorner);
            alldivs.Add(bottomrightcorner); 
            foreach(HtmlGenericControl divparent in alldivs)
            {
            HtmlGenericControl divholder= new HtmlGenericControl("div");
            divholder.Attributes.Add("class", "layout");
            for(int i=1;i<=6;i++)
            {
            HtmlGenericControl div= new HtmlGenericControl("div");
            if(i==1)
            div.Attributes.Add("class", "header");
            if(i==2)
            div.Attributes.Add("class", "chart");
            if(i==3)
            div.Attributes.Add("class", "legend");
            if(i==4)
            div.Attributes.Add("class", "info1");
            if(i==5)
            div.Attributes.Add("class", "info2");
            if(i==6)
            div.Attributes.Add("class", "info3");
            Label l=new Label();
            div.Controls.Add(l);
            divholder.Controls.Add(div);
            }
            divparent.Controls.Add(divholder);
            } 
```

使用 javascript，您将不得不使用`<span>`

```
<script language="javascript" type='text/javascript'>
    function updateDivs() {
     var repeat_container = document.getElementById("layout");
     var div_element='<div class = "layout"><div class="header"><span  class="label1" /></div><div class="chart"><span  class="label2" /></div><div class="legend"><span  class="label3" /></div><div class="info1"><span  class="label4" r/></div><div class="info2"><span  class="label5" /></div><div class="info3"><span class="label6" /></div></div>';

    for (var i = 0; i < 4; i++) {
        div_element = document.createElement("div");
        repeat_container.appendChild(div_element);
      }
    }
   </script> 
```

# c# - 从proc返回一个位值？？NullReference 异常被捕获？

> ID：11288791
> 
> 赞同：0
> 
> 时间：2012-07-02T06:38:07.483
> 
> 标签：c#, sql-server

我正在测试连接字符串用户 ID 是否是系统管理员。

但是当我尝试返回位的值时，我的代码会不断中断？

为此，我使用以下存储过程：

```
ALTER PROCEDURE [dbo].[CheckIfAdmin]
@SQLLoginName nvarchar(50),
@IsAdmin bit OUTPUT

As

SET @IsAdmin = IS_SRVROLEMEMBER('sysadmin', @SQLLoginName)

Print @IsAdmin
Select @IsAdmin 
```

为了检索值，我使用以下 C# 代码：

```
public bool CheckIfIsAdmin(string procedure, SqlParameter[] parameters)
        {
            try
            {
                SqlCommand cmd1 = new SqlCommand(procedure, con);
                cmd1.CommandType = CommandType.StoredProcedure;
                foreach (SqlParameter p in parameters)
                {
                    cmd1.Parameters.Add(p);
                }
                SqlParameter IsAdmin = new SqlParameter("@IsAdmin", SqlDbType.Bit);
                IsAdmin.Direction = ParameterDirection.Output;
                cmd1.Parameters.Add(IsAdmin);
                con.Open();      
                con.Close();             
                MessageBox.Show("Is a admin = " + IsAdmin.Value.ToString()); // this should display 1 or 0 
                return ture
            }
            catch (Exception ex)
            {
                MessageBox.Show("" + ex);
                return false;            
            }
        } 
```

错误消息：

NullReference 异常被捕获。你调用的对象是空的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T06:41:30.973

你错过了`ExecuteXXXXX`() 方法。

```
 con.Open();      
 cmd1.ExecuteNonQuery(); // cmd1.ExecuteScalar();
 con.Close(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T06:41:44.630

您没有在打开和关闭连接之间执行。

# javascript - 如何使用 Web Audio API 访问输出缓冲区？

> ID：11288792
> 
> 赞同：4
> 
> 时间：2012-07-02T06:38:11.997
> 
> 标签：javascript, html, audio, web-audio-api

我想访问输出/[目标](http://www.w3.org/TR/webaudio/#AudioContext-section)缓冲区中的音频数据。具体来说，我想将数据保存到文件中。我还想将自定义效果添加为[AudioNode](http://www.w3.org/TR/webaudio/#AudioNode-section)的。

如何使用 Web Audio API 实现这一点？我没有看到 AudioDestinationBuffer 接口或在[specs中添加自定义](http://www.w3.org/TR/webaudio/)[AudioNode](http://www.w3.org/TR/webaudio/#AudioNode-section)的方法。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-02T08:02:22.860

您必须在连接到目的地之前添加这些[http://www.w3.org/TR/webaudio/#JavaScriptAudioNode之一。](http://www.w3.org/TR/webaudio/#JavaScriptAudioNode)

这将使您可以访问原始音频数据，并且效果节点等所做的任何处理都将被应用。只要确保这是目的地之前的最后一个节点。

这里有一些关于如何使用 JavaScriptAudioNode [http://www.html5rocks.com/en/tutorials/webaudio/games/#toc-clip-detect](http://www.html5rocks.com/en/tutorials/webaudio/games/#toc-clip-detect)的内容，我希望能说明如何访问音频数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-04-08T09:20:43.840

`JavaScriptNode`，后来重命名为`ScriptProcessorNode`，已被弃用，取而代之的是[`AudioWorkletNode`](https://developer.mozilla.org/en-US/docs/Web/API/AudioWorkletNode). AudioWorkletProcessor MDN 页面上有一个[示例。](https://developer.mozilla.org/en-US/docs/Web/API/AudioWorkletProcessor#Examples)

# php - 如何在php中获取唯一的会话号

> ID：11288793
> 
> 赞同：0
> 
> 时间：2012-07-02T06:38:13.233
> 
> 标签：php, session, sessionid

我正在尝试创建两个单独的会话——一个用于用户是管理员，另一个用于用户是作者。$type 存储类型为枚举（可以是作者或管理员）。但是，我没有为我的会话获得唯一的会话 ID。我是 PHP 和 MySQL 的新手。有人可以告诉我代码中的错误在哪里。请帮忙

```
 <?php
      session_start();
    ?>

    <?php
    include("dbconnect.php");
    $con= new dbconnect();
    $con->connect();
    //create and issue the query
    $sql = "SELECT type FROM users WHERE username = '".$_POST["username"]."' AND password = PASSWORD('".$_POST["password"]."')";

    $result = mysql_query($sql);

    //get the number of rows in the result set; should be 1 if a match
    if (mysql_num_rows($result) == 1) {
       $type_num=0;
        //if authorized, get the values
          while ($info = mysql_fetch_array($result)) {
        $type =$info['type'];
        }

         if($type == "admin")
            {
             $_SESSION['type']=1;
             $u = 'welcome.php';
             header('Location: '.$u);  
            }
           else
            {
              $_SESSION['type']=$type_num;
              $u = 'welcome.php';
              header('Location: '.$u);

            }
        } 
          else {
            //redirect back to loginfailed.html form if not in the table
            header("Location: loginfailed.html");
            exit;
            }
            ?> 
```

Welcome.php 如下：

```
<?php
  session_start();
?>

<html>
<body>
<h2>Welcome to SOD73.</h2>
<?
if($_SESSION['type']==1){
     echo "You are of the usertype Admin and your session id is ";
     echo session_id();
     session_destroy();
}
else {
echo "You are of the usertype Author and your session id is ";
echo session_id();
session_destroy();

}
?>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:45:59.520

您必须在文件中调用[session_destroy(](http://br.php.net/manual/en/function.session-destroy.php) [) 之前使用 session_regenerate_id()](http://br.php.net/manual/en/function.session-regenerate-id.php)`welcome.php`

# asp.net - ASP.NET Ajax 客户端框架加载失败。将 ScriptManager 放在空白页上时

> ID：11288796
> 
> 赞同：22
> 
> 时间：2012-07-02T06:38:18.220
> 
> 标签：asp.net

我有一个错误**Microsoft JScript 运行时错误：无法加载 ASP.NET Ajax 客户端框架。**在使用母版页的空白页上

![在此处输入图像描述](../Images/ae33e5243b5ed5f687093363a5950770.png)

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
</head>
<body>
    <form id="form1" runat="server">

    <div>

    </div>
    <asp:ScriptManager ID="ScriptManager1" runat="server" EnableCdn="True">
    </asp:ScriptManager>
    </form>
</body>
</html> 
```

这就是它的结局

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head><title>

</title></head>
<body>
    <form method="post" action="WebForm2.aspx" id="form1">
<div class="aspNetHidden">
<input type="hidden" name="__EVENTTARGET" id="__EVENTTARGET" value="" />
<input type="hidden" name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="" />
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUJNjE2OTgwNTY5ZGTfWA/dEX85PXBlbkKsVxeLKyIn+mJQ9piW5cbeNE+qww==" />
</div>

<script type="text/javascript"> 
//<![CDATA[
var theForm = document.forms['form1'];
if (!theForm) {
    theForm = document.form1;
}
function __doPostBack(eventTarget, eventArgument) {
    if (!theForm.onsubmit || (theForm.onsubmit() != false)) {
        theForm.__EVENTTARGET.value = eventTarget;
        theForm.__EVENTARGUMENT.value = eventArgument;
        theForm.submit();
    }
}
//]]>
</script>

<script src="http://ajax.microsoft.com/ajax/4.0/2/WebForms.js" type="text/javascript"></script>

<script src="/ScriptResource.axd?d=6x_aX-LOcgUU-O_K6nM7ST5ViC_naT1e4_j-CY35ASRLpcKYpiapwTARuePHvx3llP-Xhl_AG_ubpM1BzkM5iyn9ThB3m7lmXKvkck0cxTcYiT-VbeKgamKxp9EwxBUyIQN6sSCU9SQm3tMtmzQWRg2&amp;t=ffffffffbad362a4" type="text/javascript"></script>
<script type="text/javascript"> 
//<![CDATA[
if (typeof(Sys) === 'undefined') throw new Error('ASP.NET Ajax client-side framework failed to load.');
//]]>
</script>

<script src="/ScriptResource.axd?d=khKEuZ4oUqBYvQxJ1ISpPVIW8_AWWc907q5_v74DI2ruWKTJpldq2osxPkAZ__hffe1Q6HTQUyTbL3Q1mD6MX7V65O5ibxKwb4NvN6ycdZ8vEJ-bz51MO-8uoaP2xioK6npm5n8vldI1d0sOCnH6yw2&amp;t=ffffffffbad362a4" type="text/javascript"></script>

    <div>

    </div>
    <script type="text/javascript"> 
//<![CDATA[
Sys.WebForms.PageRequestManager._initialize('ScriptManager1', 'form1', [], [], [], 90, '');
//]]>
</script>

    </form>
</body>
</html> 
```

问题可能是我曾经在我的项目中使用 AjaxControlToolkit，但后来我改用 jquery。所以项目中的某个地方可能会尝试添加我找不到的 Ajaxcontroltoolkit。我不知道如何解决这个错误。我试图添加 ajaxcontroltoolkit 的 bin 文件，但它似乎不起作用。

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2013-12-01T19:29:41.847

这个解决方案对我有用：

客户端的错误是：

SCRIPT5022：无法加载 ASP.NET Ajax 客户端框架。

SCRIPT5009：“系统”未定义

经过多次挖掘网站和更多解决方案，我解决了这个问题：

**.NET 4.0 的解决方案是：**

将脚本管理器的 EnableCdn 属性设置为 true，如下所示：

```
<asp:ScriptManager ID="ScriptManager1" runat="server" EnableCdn="true"> 
```

**下一个解决方案和更好的解决方案是：**

将此处理程序添加到您的 web.config

```
 <system.webServer>
    <handlers>
      <remove name="WebServiceHandlerFactory-Integrated"/>
      <remove name="ScriptHandlerFactory"/>
      <remove name="ScriptHandlerFactoryAppServices"/>
      <remove name="ScriptResource"/>
      <add name="ScriptHandlerFactory" verb="*" path="*.asmx" preCondition="integratedMode" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
      <add name="ScriptHandlerFactoryAppServices" verb="*" path="*_AppService.axd" preCondition="integratedMode" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
      <add name="ScriptResource" preCondition="integratedMode" verb="GET,HEAD" path="ScriptResource.axd" type="System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
    </handlers>
  </system.webServer> 
```

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2012-07-02T06:59:02.103

Sys undefined 意味着您没有在浏览器上加载客户端文件。

**解决方案1：**

```
<add verb="GET"
  path="ScriptResource.axd"
  type="Microsoft.Web.Handlers.ScriptResourceHandler"
  validate="false"/> 
```

**解决方案2：**如果你没有这个，在下面也添加这个`<assemblies>`

```
<add assembly="Microsoft.Web.Extensions, Version=1.0.61025.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"/> 
```

**解决方案3：**如果这也不起作用，**请尝试从“bin”文件夹中删除文件并重建解决方案**并清除浏览器的缓存。

**解决方案 4：**将其添加到您的 web.config

```
<location path="ScriptResource.axd">
   <system.web>
      <authorization>
         <allow users="*"/>
      </authorization>
   </system.web>
</location> 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-04-25T10:18:41.307

对于 Telerik Web 资源，请使用以下代码：

```
<location path="Telerik.Web.UI.WebResource.axd">
<system.web>
  <authorization>
    <allow users="*"/>
  </authorization>
</system.web> 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-04-16T13:22:01.823

我启用了 WebForms 路由并忘记为资源添加例外：

```
routes.Ignore("{resource}.axd/{*pathInfo}"); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-07-12T17:47:04.643

另一个可能的原因是 IE 8 和 9 中的脚本组合/压缩。在顶层的 web.config 中（在配置中），把

```
 <system.web.extensions>
       <scripting>
             <scriptResourceHandler enableCompression="false" enableCaching="true" />
    </scripting>
</system.web.extensions> 
```

在您的 ToolKitScriptManager 上放置 CombineScripts=False，例如

```
<asp:ToolkitScriptManager runat="server" CombineScripts="False">
</asp:ToolkitScriptManager> 
```

请参阅[http://robmzd.blogspot.com/2010/02/invalid-character-error.html](http://robmzd.blogspot.com/2010/02/invalid-character-error.html)这是我发现问题的地方

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-08-19T11:15:08.203

只需`<handlers>`在您的 web.config 中添加如下所示的部分`<system.webServer>`，这将立即解决问题。

```
<system.webServer>
.
.
.
<handlers>
  <remove name="WebServiceHandlerFactory-Integrated"/>
  <remove name="ScriptHandlerFactory"/>
  <remove name="ScriptHandlerFactoryAppServices"/>
  <remove name="ScriptResource"/>
  <add name="ScriptHandlerFactory" verb="*" path="*.asmx" preCondition="integratedMode" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
  <add name="ScriptHandlerFactoryAppServices" verb="*" path="*_AppService.axd" preCondition="integratedMode" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
  <add name="ScriptResource" verb="GET,HEAD" path="ScriptResource.axd" preCondition="integratedMode" type="System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
</handlers>
</system.webServer> 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2015-07-15T10:04:24.107

当我将表单移动到新服务器时，我遇到了这个问题。我花了几个小时找到解决方案。问题是新服务器有 ASP.NET 4.0 而我的 web.config 是 ASP.NET 3.5。所以我做了一个新的 web.config，现在一切正常。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2015-09-03T11:42:43.947

对我来说，这是 Global.asax 代码的问题，

只需在验证会话之前检查以下条件`Application_PreRequestHandlerExecute`

```
Request.Path.ToUpper() != Constants.AliasName.ToUpper() + "SCRIPTRESOURCE.AXD" 
```

功能代码如下所示，

```
protected void Application_PreRequestHandlerExecute(Object sender, EventArgs e)
        {
            if ((Request.Path != Constants.DebugLoginUrl) &&
                (Request.Path != Constants.SessionTimeOut) &&
                (Request.Path.ToUpper() != Constants.AliasName.ToUpper() + "TRACE.AXD") && 
                (Request.Path.ToUpper() != Constants.AliasName.ToUpper() + "SCRIPTRESOURCE.AXD"))
            {
                // to prevent check of HTTP HANDLER FLUSH - Session State is Invalid
                if (HttpContext.Current.Session != null)
                {
                    if (Session[Constants.personId] == null)
                    {
                    //your code
                    }

                else
                {
                    Response.Redirect(Constants.SessionTimeOut);
                }
            }
        } 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2015-04-16T07:49:30.997

将**EnableScriptCombine="False"**添加到您的 RadScriptManager，如下所示：

`<telerik:RadScriptManager ID="RadScriptManager1" EnableScriptCombine="False" runat="server" />`

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2015-03-30T17:46:22.627

好吧，我只是将 RadScriptManger 更改为 Simple asp:ScriptManager 并且它可以工作

**前：**

```
<telerik:RadScriptManager ID="RadScriptManager1" EnableCdn="true" runat="server" /> 
```

**后**

```
<asp:ScriptManager ID="scrReg" EnablePartialRendering="true" runat="server"></asp:ScriptManager> 
```

希望能帮助到你

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2014-04-18T11:13:42.923

在我的情况下，Ajax 加载错误仅在我重新加载页面时发生，而不是在第一次加载页面时发生。

查看 Site.Master 中标签中的内容，我注意到只有一些项目设置了 Path 属性。因此，我将 MsAjaxBundle 更新为：问题就消失了。我还必须以相同的方式修改 WebFormsBundle，现在重新加载页面即可。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2014-06-17T16:08:45.087

对我有用的是从[Microsoft](http://www.microsoft.com/download/en/details.aspx?id=883)下载 ASP.NET Ajax 。

添加引用时，您可能还需要显式浏览正确的 dll 版本，例如

```
C:\Program Files (x86)\Reference Assemblies\Microsoft\Framework\.NETFramework\v4.5.1\System.Web.Extensions.dll 
```

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2015-01-24T11:25:09.543

我在安装过程中将**应用程序池**设置为**ASP.NET 4.0 Classic**。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2016-05-12T15:18:12.050

这是另一个原因。我安装了 MySQL 连接器/网络 6.9.5。后来，我开始为 IE 中的某些（但不是全部）项目中的所有内容获取可怕的“sys undefined”。很多很多小时后，我尝试了 Chrome 和 Opera，第一页打开得很好，但在回发时，所有会话变量都消失了。那是一分钱终于掉下来的时候——连接器/网络必须已经为自己设置了会话状态提供程序，但是对于失败的项目，我在 web.config 中没有任何会话状态。Sessionstate inproc 立即修复了它。至少我认为这就是发生的事情......

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2018-11-28T13:12:17.483

我正在使用 Visual Studio 2015 ASP.NET 4.5 Web 窗体 Web 应用程序项目，显然 API 控制器中的错误路由也会导致此错误。我修复了路线，错误消失了。对于客户端框架无法加载的原因，提供更具描述性的错误消息当然会很好。我花了几个小时检查 web.config 设置，清除 .net 临时目录，检查 global.ascx 等。奇怪的是，当 IE 11 在加载 default.aspx 时死机，chrome 能够加载 default.aspx 和网站.

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2017-12-06T11:52:49.023

对于使用捆绑了 ASP.NET AJAX 脚本的 Visual Studio 2015 ASP.NET 4.5 WebForms Web 应用程序项目模板的任何人：

[https://stackoverflow.com/a/47673606/313935](https://stackoverflow.com/a/47673606/313935)

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2018-04-20T06:51:40.747

对我来说，网络配置是正确的。如果网络配置正确，那么。检查您的`IIS App pool`设置在我的情况下`App pool pipeline`被选为我集成管道的经典，它开始工作。

> 转到iis- **>**右键单击您的应用程序池**->** 高级设置**->** 托管流水线模式**->** “集成” **->** 确定

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2019-09-04T11:59:50.510

尝试在 web.config 上将编译更改为 false：

```
<compilation debug="false" targetFramework="4.5"> 
```

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2021-12-06T19:24:22.463

如果这些答案都不适合您，那么您可能属于我的情况。好的，所以对我来说，这个问题是由今天到期的 ssl 证书引起的，所以在我更新它之后，这些错误就消失了。

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2017-02-20T14:06:28.103

就我而言，我最终得到了提到的处理程序 in`<httpHandlers>`和`<handlers>`. 删除`<httpHandlers>`部分固定它。

* * *

## 回答 #21

> 赞同：0
> 
> 时间：2017-05-04T17:44:27.980

将 System.Web.MVC 引用添加到我的 ASP.NET 并在 global.asax 中添加默认路由后，即

```
RouteTable.Routes.MapRoute("Default", "{controller}/{action}/{id}",
                                       new { controller = "new", action = "Index", id = "" });
        } 
```

开始收到错误

将以下行添加到 global.asax.cs 以解决它

```
 RouteTable.Routes.IgnoreRoute("{resource}.axd/{*pathInfo}"); 
```

# slider - JavaFX 2 用于圆形旋钮和对齐值的滑块

> ID：11288797
> 
> 赞同：1
> 
> 时间：2012-07-02T06:38:21.373
> 
> 标签：slider, javafx-2

基于此示例中的音量旋钮， http: [//fxexperience.com/2012/01/fun-javafx-2-0-audio-player/](http://fxexperience.com/2012/01/fun-javafx-2-0-audio-player/)

您将如何制作一个音量旋钮来捕捉特定的角度值，例如每 15 或 30 度？感谢您的任何提示。我所做的是在子类中重新定义 rotateKnob 并以这种方式设置角度，以便滑块捕捉值 180、120、60、0、-180、-160、-120、-60：

```
Slider s = getSkinnable();
    double zeroOneValue = (s.getValue() - s.getMin()) / (s.getMax() - s.getMin());
    double angle = minAngle + ((maxAngle - minAngle) * zeroOneValue);

    int angleMod = (int) (angle % 60);
    double val;
    if (angleMod == 0) {
        val = (int) angle;
    } else if (angleMod > (60 / 2)) {
        val = (int) angle - angleMod;
    } else {
        val = (int) angle - angleMod + 60;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T17:33:13.447

你不需要做任何特别的事情。只需使用“snapToTicks”属性。在主类中，定义好音量旋钮后，放入如下代码：

```
 volumeKnob.setMinorTickCount(0);
    volumeKnob.setMajorTickUnit(1.0/14.0);
    volumeKnob.snapToTicksProperty().set(true); 
```

这里的数字基于音量旋钮周围有 14 个“点”这一事实。此代码将确保您只能将音量设置为其中一个点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-05-25T20:03:22.287

@Enwired 有一个很好的答案。您需要不同的图形资源来更改点数。但这不是旋转控件周围每个刻度之间的角度的一部分。

就像他把圆分成 1/14 一样，你可以选择用 60.0/360.0 或 1.0/6.0 将它分成 60 度的切片。

# vba - 应用程序定义或对象定义的错误 1004

> ID：11288798
> 
> 赞同：1
> 
> 时间：2012-07-02T06:38:30.103
> 
> 标签：vba, excel

VBA 正在抛出上述给定的错误 `Sheets("Sheet1").Range("A" & i).Copy Destination:=Sheets("Sheet2").Range("A" & i & "A" & LastCol - 1)`

我想要做的实际上是将`"A" & i`单元格（在第一次迭代中它是`A2`）复制到名为 Sheet2 的第二个工作表中的范围内。

```
Sub FindFill()

Dim DatesRange As Range
Dim i As Integer
Dim TransposeThis As Range
Dim LastCol As Integer

If WorksheetFunction.CountA(Cells) > 0 Then
   LastColumn = Cells.Find(What:="*", After:=[A1], _
   SearchOrder:=xlByColumns, _
   SearchDirection:=xlPrevious).Column
End If

With Sheets("Sheet1")
    Set DatesRange = Range("B2" & LastCol)
End With
i = 1
Do While i <= ActiveSheet.Rows.Count
    Sheets("Sheet1").Range("A" & i + 1).Copy Destination:=Sheets("Sheet2").Range("A" & i & "A" & LastCol - 1)
    i = i + 1
Loop

End

End Sub 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-02T06:43:26.060

您在“A”之前缺少一个“：”

```
Range("A" & i & ":A" & LastCol - 1) 
```

**跟进**

在我浏览了您的评论后，我发现您的代码中有很多错误

**1)**你变暗`i`为`Integer`。如果您的最后一行超过 32,767，这可能会给您在 Excel 2007 以后的错误。将其更改为`Long`我建议您查看此链接。

**主题**：整数、长整数和字节数据类型

**链接**：http: [//msdn.microsoft.com/en-us/library/aa164754%28v=office.10%29.aspx](http://msdn.microsoft.com/en-us/library/aa164754%28v=office.10%29.aspx)

**从上面的链接引用**

> 整数变量的值可以在 -32,768 到 32,767 之间，而长变量的值可以在 -2,147,483,648 到 2,147,483,647 之间

**2）**您正在查找最后一列，但在哪个工作表中？您必须像这样完全限定路径。

```
 If WorksheetFunction.CountA(Sheets("Sheet1").Cells) > 0 Then
       LastCol = Cells.Find(What:="*", After:=[A1], _
       SearchOrder:=xlByColumns, _
       SearchDirection:=xlPrevious).Column
    End If 
```

情况也是如此

```
With Sheets("Sheet1")
    Set DatesRange = Range("B2" & LastCol)
End With 
```

你之前错过了一个 DOT`Range`

这是正确的方法...

```
.Range("B2.... 
```

也不`Range("B2" & LastCol)`会给你你想要的范围。请参阅下面的代码，了解如何创建您的范围。

**3）**您正在使用变量`LastColumn`，但使用`LastCol`. 我强烈建议使用`Option Explicit`我还建议查看此链接（请参阅链接中的第 2 点）。

**主题**：“犯错”是人之常情

**链接**：[http ://www.siddharthout.com/2011/08/01/to-err-is-human/](http://www.siddharthrout.com/2011/08/01/to-err-is-human/)

**4）**如果有会发生什么`.CountA(Sheets("Sheet1").Cells) = 0`？:) 我建议您使用此代码

```
 If WorksheetFunction.CountA(Sheets("Sheet1").Cells) > 0 Then
       LastCol = Cells.Find(What:="*", After:=[A1], _
       SearchOrder:=xlByColumns, _
       SearchDirection:=xlPrevious).Column
    Else
        MsgBox "No Data Found"
        Exit Sub
    End If 
```

**5）** `ActiveSheet.Rows.Count`不会给你最后一个活动行。它将为您提供该工作表中的总行数。我建议获取包含数据的 Col A 的最后一行。

你可以用这个

```
With Sheets("Sheet")
    LastRow =.Range("A" & .Rows.Count).End(xlup).row
End With 
```

现在使用`LastRow`代替`ActiveSheet.Rows.Count`你也可能想使用 a`For Loop`这样你就不必`i`每次都增加。例如

```
For i = 1 to LastRow 
```

**6）**最后你不应该使用`End`. 原因很简单。这就像使用 POWER OFF 按钮切换计算机一样。End 语句会突然停止代码执行，而不调用 Unload、QueryUnload 或 Terminate 事件或任何其他 Visual Basic 代码。其他程序持有的对象引用（如果有）也无效。

**7）**根据您在聊天中的形象，我相信您正在尝试这样做？这使用了不使用任何循环的代码。

```
Option Explicit

Sub FindFill()
    Dim wsI As Worksheet, wsO As Worksheet
    Dim DatesRange As Range
    Dim LastCol As Long, LastRow As Long

    If Application.WorksheetFunction.CountA(Sheets("Sheet1").Cells) = 0 Then
        MsgBox "No Data Found"
        Exit Sub
    End If

    Set wsI = Sheets("Sheet1")
    Set wsO = Sheets("Sheet2")

    With wsI
        LastCol = .Cells(1, .Columns.Count).End(xlToLeft).Column
        LastRow = .Range("A" & .Rows.Count).End(xlUp).Row
        Set DatesRange = .Range("B1:" & Split(Cells(, LastCol).Address, "$")(1) & 1)

        .Columns(1).Copy wsO.Columns(1)
        DatesRange.Copy
        wsO.Range("B2").PasteSpecial xlPasteValues, _
        xlPasteSpecialOperationNone, False, True

        .Range("B2:" & Split(Cells(, LastCol).Address, "$")(1) & LastCol).Copy
        wsO.Range("C2").PasteSpecial xlPasteValues
    End With
End Sub 
```

# mysql - 如何定义视图的算法

> ID：11288803
> 
> 赞同：1
> 
> 时间：2012-07-02T06:38:40.107
> 
> 标签：mysql

视图在[INFORMATION_SCHEMA.VIEWS](http://dev.mysql.com/doc/refman/5.6/en/views-table.html)中描述。但是在这个表中没有视图算法的列。

如何使用 SQL 查询获取视图的算法？存储在什么表中？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:43:55.347

VIEW_DEFINITION 列给出定义（视图内的 SELECT）

CHECK_OPTION 让您知道是否提供了此选项

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T06:40:46.607

不存储视图（MySQL 不支持的物化视图除外）。

获取视图的算法就像使用一样简单`SHOW CREATE VIEW view_name;`

# ios - UIButton Clicked for Webview 加载到 ipad 后应用程序崩溃

> ID：11288812
> 
> 赞同：0
> 
> 时间：2012-07-02T06:39:29.890
> 
> 标签：ios, ipad, webview

我开发了一个应用程序，在其中我将一个 viewcontroller 的视图添加到另一个 viewcontroller 的视图中。rootviewcontroller 有许多按钮，单击事件将不同的 viewcontroller 的视图添加到 rootviewcontroller 的视图中。其他按钮工作正常。但一个按钮使应用程序崩溃。当我们单击该按钮时，它会添加 viewconroller，它有一个 web 视图，其中加载了一个静态字符串。

```
if(interfaceOrientation != UIInterfaceOrientationPortrait && interfaceOrientation != UIInterfaceOrientationPortraitUpsideDown)
{
    self.uiwebViewAboutUs = self.webview_ld;
    self.view = self.landscape_ipad;
}
else{
    self.uiwebViewAboutUs = self.webview_pt;
    self.view = self.portrait_ipad;
}

-(void)viewDidAppear:(BOOL)animated
{
    [super viewDidAppear:animated];
    NSString *content = @"Lorem ipsum dolor sit er elit lamet, consectetaur cillium adipisicing pecu, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Nam liber te conscient to factor tum poen legum odioque civiuda.";
    [self.uiwebViewAboutUs loadHTMLString:content baseURL:nil];
} 
```

崩溃报告在这里。

```
Incident Identifier: 211D86D5-F375-4CA7-B129-95D26A5E60A8
CrashReporter Key:   99eb9331f18d02387a15d4ad454c75a3cd14ea9e
Hardware Model:      iPad3,2
Process:         SunGroupWP [8334]
Path:            /var/mobile/Applications/F07B0EFA-0A65-4C63-A7EA-AB0D772CECD1/SunGroupWP.app/SunGroupWP
Identifier:      SunGroupWP
Version:         ??? (???)
Code Type:       ARM (Native)
Parent Process:  launchd [1]

Date/Time:       2012-06-30 09:37:58.489 -0700
OS Version:      iPhone OS 5.1.1 (9B206)
Report Version:  104

Exception Type:  EXC_CRASH (SIGABRT)
Exception Codes: 0x00000000, 0x00000000
Crashed Thread:  0

Last Exception Backtrace:
0   CoreFoundation                  0x30d0888f __exceptionPreprocess + 163
1   libobjc.A.dylib                 0x362a5259 objc_exception_throw + 33
2   CoreFoundation                  0x30d08789 +[NSException raise:format:] + 1
3   CoreFoundation                  0x30d087ab +[NSException raise:format:] + 35
4   CoreFoundation                  0x30c7568b -[__NSCFDictionary setObject:forKey:] + 235
5   WebKit                          0x354f8043 -[WebPreferences _setStringValue:forKey:] + 151
6   UIKit                           0x32ab6e0b -[UIWebView _webViewCommonInit:] + 1547
7   UIKit                           0x32b54487 -[UIWebView initWithCoder:] + 99
8   Foundation                      0x35b98eaf _decodeObjectBinary + 2699
9   Foundation                      0x35b982f5 _decodeObject + 205
10  UIKit                           0x32b88811 -[UIRuntimeConnection initWithCoder:] + 113
11  Foundation                      0x35b98eaf _decodeObjectBinary + 2699
12  Foundation                      0x35b99a3b -[NSKeyedUnarchiver _decodeArrayOfObjectsForKey:] + 1103
13  Foundation                      0x35bba463 -[NSArray(NSArray) initWithCoder:] + 503
14  Foundation                      0x35b98eaf _decodeObjectBinary + 2699
15  Foundation                      0x35b982f5 _decodeObject + 205
16  UIKit                           0x32b87fc5 -[UINib instantiateWithOwner:options:] + 665
17  UIKit                           0x32af63c7 -[UIViewController _loadViewFromNibNamed:bundle:] + 247
18  UIKit                           0x329d3c59 -[UIViewController loadView] + 89
19  UIKit                           0x32949c17 -[UIViewController view] + 51
20  SunGroupWP                      0x0002de55 -[SampleDashBoardForIpad btnAboutClicked:] (SampleDashBoardForIpad.m:261)
21  CoreFoundation                  0x30c623fd -[NSObject performSelector:withObject:withObject:] + 53
22  UIKit                           0x3292be07 -[UIApplication sendAction:to:from:forEvent:] + 63
23  UIKit                           0x3292bdc3 -[UIApplication sendAction:toTarget:fromSender:forEvent:] + 31
24  UIKit                           0x3292bda1 -[UIControl sendAction:to:forEvent:] + 45
25  UIKit                           0x3292bb11 -[UIControl(Internal) _sendActionsForEvents:withEvent:] + 493
26  UIKit                           0x3292c449 -[UIControl touchesEnded:withEvent:] + 477
27  UIKit                           0x3292a92b -[UIWindow _sendTouchesForEvent:] + 319
28  UIKit                           0x3292a319 -[UIWindow sendEvent:] + 381
29  UIKit                           0x32910695 -[UIApplication sendEvent:] + 357
30  UIKit                           0x3290ff3b _UIApplicationHandleEvent + 5827
31  GraphicsServices                0x3702322b PurpleEventCallback + 883
32  CoreFoundation                  0x30cdc523 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 39
33  CoreFoundation                  0x30cdc4c5 __CFRunLoopDoSource1 + 141
34  CoreFoundation                  0x30cdb313 __CFRunLoopRun + 1371
35  CoreFoundation                  0x30c5e4a5 CFRunLoopRunSpecific + 301
36  CoreFoundation                  0x30c5e36d CFRunLoopRunInMode + 105
37  GraphicsServices                0x37022439 GSEventRunModal + 137
38  UIKit                           0x3293ecd5 UIApplicationMain + 1081
39  SunGroupWP                      0x00002afb main (main.m:13)
40  SunGroupWP                      0x00002a80 0x1000 + 6784

Thread 0 name:  Dispatch queue: com.apple.main-thread
Thread 0 Crashed:
0   libsystem_kernel.dylib          0x360eb32c __pthread_kill + 8
1   libsystem_c.dylib               0x33d8b208 pthread_kill + 48
2   libsystem_c.dylib               0x33d84298 abort + 88
3   libc++abi.dylib                 0x30720f64 abort_message + 40
4   libc++abi.dylib                 0x3071e346 _ZL17default_terminatev + 18
5   libobjc.A.dylib                 0x362a5350 _objc_terminate + 140
6   libc++abi.dylib                 0x3071e3be _ZL19safe_handler_callerPFvvE + 70
7   libc++abi.dylib                 0x3071e44a std::terminate() + 14
8   libc++abi.dylib                 0x3071f81e __cxa_rethrow + 82
9   libobjc.A.dylib                 0x362a52a2 objc_exception_rethrow + 6
10  CoreFoundation                  0x30c5e506 CFRunLoopRunSpecific + 398
11  CoreFoundation                  0x30c5e366 CFRunLoopRunInMode + 98
12  GraphicsServices                0x37022432 GSEventRunModal + 130
13  UIKit                           0x3293ecce UIApplicationMain + 1074
14  SunGroupWP                      0x00002af4 main (main.m:13)
15  SunGroupWP                      0x00002a78 0x1000 + 6776

Thread 1 name:  Dispatch queue: com.apple.libdispatch-manager
Thread 1:
0   libsystem_kernel.dylib          0x360db3a8 kevent + 24
1   libdispatch.dylib               0x3574df04 _dispatch_mgr_invoke + 708
2   libdispatch.dylib               0x3574dc22 _dispatch_mgr_thread + 30

Thread 2 name:  WebThread
Thread 2:
0   libsystem_kernel.dylib          0x360eb0d8 __psynch_mutexwait + 24
1   libsystem_c.dylib               0x33d40674 pthread_mutex_lock + 376
2   WebCore                         0x365d84e8 _ZL17_WebTryThreadLockb + 208
3   WebCore                         0x365d87ec _ZL14WebRunLoopLockP19__CFRunLoopObservermPv + 24
4   CoreFoundation                  0x30cdcb14 __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__ + 12
5   CoreFoundation                  0x30cdad50 __CFRunLoopDoObservers + 252
6   CoreFoundation                  0x30cdb16a __CFRunLoopRun + 946
7   CoreFoundation                  0x30c5e49e CFRunLoopRunSpecific + 294
8   CoreFoundation                  0x30c5e366 CFRunLoopRunInMode + 98
9   WebCore                         0x3667bc9c _ZL12RunWebThreadPv + 396
10  libsystem_c.dylib               0x33d4c72e _pthread_start + 314
11  libsystem_c.dylib               0x33d4c5e8 thread_start + 0

Thread 3 name:  com.apple.NSURLConnectionLoader
Thread 3:
0   libsystem_kernel.dylib          0x360db004 mach_msg_trap + 20
1   libsystem_kernel.dylib          0x360db1fa mach_msg + 50
2   CoreFoundation                  0x30cdc3ec __CFRunLoopServiceMachPort + 120
3   CoreFoundation                  0x30cdb124 __CFRunLoopRun + 876
4   CoreFoundation                  0x30c5e49e CFRunLoopRunSpecific + 294
5   CoreFoundation                  0x30c5e366 CFRunLoopRunInMode + 98
6   Foundation                      0x35b95bb2 +[NSURLConnection(Loader) _resourceLoadLoop:] + 302
7   Foundation                      0x35b95a7a -[NSThread main] + 66
8   Foundation                      0x35c2958a __NSThread__main__ + 1042
9   libsystem_c.dylib               0x33d4c72e _pthread_start + 314
10  libsystem_c.dylib               0x33d4c5e8 thread_start + 0

Thread 4:
0   libsystem_kernel.dylib          0x360ebcd4 __workq_kernreturn + 8
1   libsystem_c.dylib               0x33d46f36 _pthread_wqthread + 610
2   libsystem_c.dylib               0x33d46cc8 start_wqthread + 0

Thread 0 crashed with ARM Thread State:
    r0: 0x00000000    r1: 0x00000000      r2: 0x00000001      r3: 0x00000000
    r4: 0x00000006    r5: 0x3ef79d98      r6: 0x00000002      r7: 0x2fdffa70
    r8: 0x00000000    r9: 0x00000000     r10: 0x00189a70     r11: 0x3f82a0f0
    ip: 0x00000148    sp: 0x2fdffa64      lr: 0x33d8b20f      pc: 0x360eb32c
  cpsr: 0x000f0010

Binary Images:
    0x1000 -    0x3dfff +SunGroupWP armv7  <659b6f9f2db23dd8bf689984c930f57f> /var/mobile/Applications/F07B0EFA-0A65-4C63-A7EA-AB0D772CECD1/SunGroupWP.app/SunGroupWP
0x2fee9000 - 0x2ff0afff  dyld armv7  <77eddfd654df393ba9c95ff01715fd08> /usr/lib/dyld
0x30644000 - 0x30683fff  QuickLook armv7  <802b1092542a3017a0380632502610d4> /System/Library/Frameworks/QuickLook.framework/QuickLook
0x3068a000 - 0x306d6fff  CoreTelephony armv7  <b8f80d5d594c31d2b5d8fba9fdedb7e1> /System/Library/Frameworks/CoreTelephony.framework/CoreTelephony 
```

请帮助我..提前谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:45:40.953

崩溃指向从 XIB 加载 WebView 的问题。您能否右键单击 XIB 中的 WebView 并验证连接？如果这没有帮助，您可以删除并重新添加 WebView 吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T06:48:36.353

崩溃指向正在发送的无法识别的选择器。你的对象不知道如何对它做出反应。无论按钮发送的选择器是什么，目标都不会实现它。

# iphone - 当我们知道纬度和经度时，如何将当前位置名称作为字符串获取

> ID：11288815
> 
> 赞同：1
> 
> 时间：2012-07-02T06:39:38.000
> 
> 标签：iphone, objective-c, ios, xcode, latitude-longitude

> **可能重复：**
> [如何检索用户的当前城市名称？](https://stackoverflow.com/questions/1382900/how-to-retrieve-users-current-city-name)

使用以下方法我得到当前位置的纬度和经度

```
- (void)viewDidLoad {
  [super viewDidLoad];
  locationManager = [[CLLocationManager alloc] init];
  locationManager.delegate = self;
  locationManager.distanceFilter = kCLDistanceFilterNone; // whenever we move
  locationManager.desiredAccuracy = kCLLocationAccuracyHundredMeters; // 100 m
  [locationManager startUpdatingLocation];
}

- (void)locationManager:(CLLocationManager *)manager
    didUpdateToLocation:(CLLocation *)newLocation
           fromLocation:(CLLocation *)oldLocation
{
  int degrees = newLocation.coordinate.latitude;
  double decimal = fabs(newLocation.coordinate.latitude - degrees);
  int minutes = decimal * 60;
  double seconds = decimal * 3600 - minutes * 60;
  NSString *lat = [NSString stringWithFormat:@"%d° %d' %1.4f\"", 
                   degrees, minutes, seconds];
  latLabel.text = lat;
  degrees = newLocation.coordinate.longitude;
  decimal = fabs(newLocation.coordinate.longitude - degrees);
  minutes = decimal * 60;
  seconds = decimal * 3600 - minutes * 60;
  NSString *longt = [NSString stringWithFormat:@"%d° %d' %1.4f\"", 
                     degrees, minutes, seconds];
  longLabel.text = longt;
} 
```

现在我需要以字符串形式获取当前位置名称...但在地图上不需要，我该怎么做，请提前给我一些建议，,,thanx

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T06:45:41.220

您在询问[反向地理编码](http://en.wikipedia.org/wiki/Reverse_geocoding)..为此目的使用[MKReverseGeocoding ..](http://developer.apple.com/library/ios/#documentation/MapKit/Reference/MKReverseGeocoder_Class/Reference/Reference.html)[这个](https://stackoverflow.com/questions/1382900/how-to-retrieve-users-current-city-name)SO 问题解释了一点..

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-02T06:48:51.310

```
- (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation {
    [self.locationManager stopUpdatingLocation];

    CLGeocoder * geoCoder = [[CLGeocoder alloc] init];
    [geoCoder reverseGeocodeLocation:newLocation completionHandler:^(NSArray *placemarks, NSError *error) {
        for (CLPlacemark * placemark in placemarks)
        {
            NSString *addressTxt = [NSString stringWithFormat:@"%@ %@,%@ %@", 
                                    [placemark subThoroughfare],[placemark thoroughfare],
                                    [placemark locality], [placemark administrativeArea]];
            NSLog(@"%@",addressTxt);
        }    
    }];
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-02T07:03:33.527

使用这个通用函数，只需在这个函数中传递纬度和经度作为参数。

```
-(NSString *)getAddressFromLatLon:(double)pdblLatitude withLongitude:(double)pdblLongitude
{
    NSString *urlString = [NSString stringWithFormat:kGeoCodingString,pdblLatitude, pdblLongitude];
    NSError* error;
    NSString *locationString = [NSString stringWithContentsOfURL:[NSURL URLWithString:urlString] encoding:NSASCIIStringEncoding error:&error];
    locationString = [locationString stringByReplacingOccurrencesOfString:@"\"" withString:@""];
    return [locationString substringFromIndex:6];
} 
```

并声明这一点

```
#define kGeoCodingString @"http://maps.google.com/maps/geo?q=%f,%f&output=csv" 
```

此函数将返回您所经过的纬度和经度的地址。

希望能帮助到你。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-02T06:47:52.530

您可以使用 google API 获取地址。可能您必须发送 lat 和 long 值作为参数。

使用谷歌[反向地理编码](https://developers.google.com/maps/documentation/geocoding/#ReverseGeocoding)

此处的 http 调用示例[http://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&sensor=true_or_false](http://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&sensor=true_or_false)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-02T06:45:58.510

也许这就是您必须使用[的 MKReverseGeocoder](https://developer.apple.com/library/ios/#documentation/MapKit/Reference/MKReverseGeocoder_Class/Reference/Reference.html)

# javascript - 动态设置评分

> ID：11288816
> 
> 赞同：0
> 
> 时间：2012-07-02T06:39:39.967
> 
> 标签：javascript, jquery, jquery-ui

我正在使用这个 java 脚本库来显示评级[http://www.fyneworks.com/jquery/star-rating/#tab-Overview](http://www.fyneworks.com/jquery/star-rating/#tab-Overview)。我正在使用以下方法来设置页面加载时的排名。

```
<input name='star_1' type='radio' value='1' class='star'/>
<input name='star_1' type='radio' value='2' class='star'/>
<input name='star_1' type='radio' value='3' class='star'/>
<input name='star_1' type='radio' value='4' class='star'/>
<input name='star_1' type='radio' value='5' class='star'/> 
```

* * *

```
 $('.levelBucket li .star').rating({
        required: true,
        callback: function (value, link) {  }
    }); 
```

当用户点击星星时这很好用，但我想在没有用户点击的情况下设置评级。有一个单独的事件，在该事件结束时，我想通过 Java 脚本更改评级。我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:45:57.290

检查**[API](http://www.fyneworks.com/jquery/star-rating/#tab-API)**

如果您的评分系统看起来像 `Example: (values A/B/C/D/E)`

```
By Index: $('input').rating('select',3) 
By Value: $('input').rating('select','C') 
```

在你的情况下，它应该是这样的

`$('.levelBucket li .star').rating('select', your-value);`

希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T06:48:53.923

```
$('.levelBucket li .star').rating('select', value); 
```

另请参阅[API](http://www.fyneworks.com/jquery/star-rating/#tab-API)。

=== 更新 ===

添加到html：

```
<button id="set-rating">set rating</button> 
```

添加到javascript：

```
$('#set-rating').click(function() {
    $('.star').rating('select', '3');
}); 
```

另请参阅[此示例](http://jsfiddle.net/vF44k/)。

# installation - 自定义维护类型对话框 - 不成功

> ID：11288820
> 
> 赞同：1
> 
> 时间：2012-07-02T06:40:03.173
> 
> 标签：installation, wix, windows-installer, wix3.5

你好，

我想自定义维护类型对话框，即维护欢迎对话框，维护类型对话框，这就是我所做的：

我将MaintenanceWelcomeDlg从wix源复制到我的当前目录将
对话框名称更改为MymaintenanceWelcomeDlg在WixUI_InstallDIr中添加了一个对话框引用使用light.exe将对话框链接到installer.msi但是它仍然显示上一个对话框，唯一的我所做的更改是将位图添加到它。

安装 UI 序列如下所示：

```
 <InstallUISequence>
<ShowDialog="MyMaintenanceWelcomeDlg"Before="MaintenanceWelcomeDlg"Overridable="yes">Installed AND NOT RESUME AND NOT Preselected AND NOT PATCH</Show>
  </InstallUISequence> 
```

谢谢。在 WixUI_InstallDir

```
 <Publish Dialog="MyMaintenanceWelcomeDlg" Control="Next" Event="NewDialog" Value="MyMaintenanceTypeDlg">1</Publish>

        <Publish Dialog="MyMaintenanceTypeDlg" Control="RepairButton" Event="NewDialog" Value="MyVerifyReadyDlg">1</Publish>
        <Publish Dialog="MyMaintenanceTypeDlg" Control="RemoveButton" Event="NewDialog" Value="MyVerifyReadyDlg">1</Publish>
        <Publish Dialog="MyMaintenanceTypeDlg" Control="Back" Event="NewDialog" Value="MyMaintenanceWelcomeDlg">1</Publish>

        <Property Id="ARPNOMODIFY" Value="0" /> 
```

但是，当我双击安装程序的图标时，它仍然显示默认对话框。

请帮忙！！！。

艾玛

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-03T08:08:02.930

我正在使用这个：

```
<InstallUISequence>
  <Show Dialog="WelcomeDlg" After="MigrateFeatureStates">NOT Installed</Show>
  <Show Dialog="ResumeDlg" After="WelcomeDlg">Installed AND (RESUME OR Preselected)</Show>
  <Show Dialog="MaintenanceWelcomeDlg" After="ResumeDlg">Installed AND NOT RESUME AND NOT Preselected</Show>
  <Show Dialog="ProgressDlg" After="MaintenanceWelcomeDlg" />
</InstallUISequence> 
```

这在我的安装程序中效果很好。试试这个，看看它是否有效？

# android - 如何将我的 Android 手机连接到 unity 以进行测试游戏？

> ID：11288825
> 
> 赞同：6
> 
> 时间：2012-07-02T06:40:25.497
> 
> 标签：android, unity3d

我刚开始学习统一，我坚持将我的 Android 手机连接到统一以测试运行。是否可以在统一的 Android 手机上测试游戏？我尝试使用模拟器，但无法正常工作 模拟器的屏幕变蓝，它确实显示了统一的欢迎屏幕。

我的设备是 xperia arc Android 4.0.4 有没有统一和安卓的同步软件？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-03T11:58:09.953

你可以做两件事。

正如 Jerdak 已经指出的，其中之一是安装您的 android 设备**驱动程序**和 android SDK。这里没有比[文档中已经指出](http://docs.unity3d.com/Documentation/Manual/android-sdksetup.html)的更好的步骤了，我认为没有理由在这里复制这些步骤。

第二件事是使用“神奇”的[Unity Remote](https://play.google.com/store/apps/details?id=com.unity3d.androidremote&feature=search_result#?t=W251bGwsMSwxLDEsImNvbS51bml0eTNkLmFuZHJvaWRyZW1vdGUiXQ..)。它远非测试游戏的理想之选，但它可能对某些测试有用，并且运行起来更快更简单。您只需将它安装在设备上，将它与正在运行的 Unity 编辑器放在同一个 wifi 上，然后点击播放。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-17T19:29:51.457

Unity remote 已替换为 unity remote 4。请继续使用 unity remote 4。确保您的系统上仅安装了 1 个 sdk 平台。

# sql - 如何在 postgresql 中插入图像？

> ID：11288827
> 
> 赞同：3
> 
> 时间：2012-07-02T06:40:43.663
> 
> 标签：sql, postgresql

我想知道如何在我的 postgresql 表中的一个字段上插入图像。我找不到合适的教程来解决这个问题。该字段的数据类型是`oid`. 有没有人试过这个？谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T06:50:36.977

```
// All LargeObject API calls must be within a transaction
conn.setAutoCommit(false);

// Get the Large Object Manager to perform operations with
LargeObjectManager lobj = ((org.postgresql.PGConnection)conn).getLargeObjectAPI();

//create a new large object
int oid = lobj.create(LargeObjectManager.READ | LargeObjectManager.WRITE);

//open the large object for write
LargeObject obj = lobj.open(oid, LargeObjectManager.WRITE);

// Now open the file
File file = new File("myimage.gif");
FileInputStream fis = new FileInputStream(file);

// copy the data from the file to the large object
byte buf[] = new byte[2048];
int s, tl = 0;
while ((s = fis.read(buf, 0, 2048)) > 0)
{
        obj.write(buf, 0, s);
        tl += s;
}

// Close the large object
obj.close();

//Now insert the row into imagesLO
PreparedStatement ps = conn.prepareStatement("INSERT INTO imagesLO VALUES (?, ?)");
ps.setString(1, file.getName());
ps.setInt(2, oid);
ps.executeUpdate();
ps.close();
fis.close(); 
```

[从这里](http://www.postgresql.org/docs/7.3/static/jdbc-binary-data.html)找到示例代码。真的很不错的一堆sql操作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-02T06:53:22.767

引用[本网站](http://zetcode.com/db/postgresqljavatutorial/)，

> PostgreSQL 数据库有一种特殊的数据类型来存储二进制数据，称为 bytea。这是一种非标准数据类型。数据库中的标准数据类型是 BLOB。

你需要编写一个客户端来读取图像文件，例如

```
File img = new File("woman.jpg");
fin = new FileInputStream(img);

con = DriverManager.getConnection(url, user, password);

pst = con.prepareStatement("INSERT INTO images(data) VALUES(?)");
pst.setBinaryStream(1, fin, (int) img.length());
pst.executeUpdate(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-02T06:57:31.633

您可以使用[bytea](http://www.postgresql.org/docs/9.1/interactive/datatype-binary.html)类型或[大型对象](http://www.postgresql.org/docs/9.1/interactive/largeobjects.html)工具。但是请注意，根据您的用例，将图像放入数据库可能不是一个好主意，因为它可能会给数据库服务器带来额外的负载。

重读您的问题，我注意到您提到您有一个 oid 类型的字段。如果这是您正在修改的应用程序，它向我表明它正在使用大型对象。这些对象得到一个 oid，然后您需要将其存储在另一个表中以跟踪它们。

# c# - 带有匿名方法的 Linq

> ID：11288835
> 
> 赞同：3
> 
> 时间：2012-07-02T06:41:12.310
> 
> 标签：c#, linq, lambda

我刚刚开始使用 LINQ，但遇到了一些麻烦。

假设我想做这样的事情：

```
IEnumerable<String[]> = from s in listOfStrings
                      where () => {
                          int sum = 0;
                          for (int i=0; i<s.Length(); i++)
                          {
                              sum += s[i];
                          }
                          return sum < 50;
                      }
                      select () =>
                      {
                          String[] t = new String[s.Length()];
                          for (int i=0; i<s.Length(); i++)
                          {
                              t[i] = s[i].toString();
                          }
                          return t;
                      } 
```

`listOfStrings`基本上我想从总和小于50的字符串中获取一个字符数组作为字符串值。

这只是一个例子，很难想到一个更无用的函数，呵呵，我只是想找出如何在 linq 中执行 lambda 函数中的东西，而不是创建一个新函数来执行它。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T06:47:23.903

如果您使用方法链接语法而不是查询语法（即`listOfStrings.Where(...)`），您可以将 lambda 粘贴在那里。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T06:45:42.893

在这种情况下，使用 lambda 函数可能更容易......

```
var listOfStrings = new List<string>() { "foo", "bar" };
IEnumerable<string[]> result = 

    // restrict to strings where the sum of ASCII values is < 1000
    listOfStrings.Where(item => item.Sum(ch => (int)ch) < 1000)

    // select each as an array of strings
    .Select(item => item.Select(ch => ch.ToString()).ToArray());

// result:  { { "f", "o", "o" }, { "b", "a", "r" } } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-02T07:11:38.793

我认为这样的事情可能会对你有所帮助，我还没有编译它，所以它可能是代码中的一些错误，但概念就在那里：

```
var result = listOfStrings.Where(y => y.Split().Aggregate(0, (y, x) => int.Parse(y)) < 50).Select(y => y.Split()); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-07-02T06:50:10.237

也许：

```
listOfString.Where(s => s.Length < 50).ToArray(); 
```

# android - 如何通过在android中以编程方式更改复选框边框颜色？

> ID：11288843
> 
> 赞同：3
> 
> 时间：2012-07-02T06:42:07.163
> 
> 标签：android

在我的 XML 中包含一个`CheckBox`. 如何在android中以编程方式更改复选框边框颜色。

我的示例屏幕截图在这里 [ScreenShot](http://0prlra.blu.livefilestore.com/y1pDwsdCkcNQqbb_Ut3y4-71FZ9d21K-BrKa2MIVSMpkq7ZENj23MWl9JLLQYShM1Ik5mxS-k8aug1frYjW-I4S0Q/checkbox-css.jpg "截屏")

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T06:47:42.177

你可以设置

```
check.setButtonDrawable(mContext.getResources().getDrawable(
                    R.drawable.radio)); 
```

在`radio.xml`您可以为您的复选框设置任何背景。

在 radio.xml 中

```
<?xml version="1.0" encoding="utf-8"?>
 <selector xmlns:android="http://schemas.android.com/apk/res/android">
     <item android:drawable="@drawable/option_unselected" android:state_checked="false"/>
     <item android:drawable="@drawable/option_selected" android:state_checked="true"/>
 </selector> 
```

这里 option_selected 和 option_selected 是选中和未选中状态的图形。

有关更多信息，您可以查看[http://developer.android.com/guide/topics/resources/drawable-resource.html#StateList](http://developer.android.com/guide/topics/resources/drawable-resource.html#StateList)

# php - php中的数组管理

> ID：11288848
> 
> 赞同：0
> 
> 时间：2012-07-02T06:42:28.373
> 
> 标签：php, magento

它通常与magento中的一个问题有关..但我认为使用核心php也可以给我一个我想要的wat

我这里有一个循环数组问题，我的数组是这样的

```
 Array
    (
        [0] => Array
            (
                [category_id] => 2
                [parent_id] => 1
                [name] => Koffersenkisten
                [is_active] => 0
                [position] => 1
                [level] => 1
                [children] => Array
                    (
                        [0] => Array
                            (
                                [category_id] => 40
                                [parent_id] => 2
                                [name] => Muziek
                                [is_active] => 1
                                [position] => 1
                                [level] => 2
                                [children] => Array
                                    (
                                        [0] => Array
                                            (
                                                [category_id] => 46
                                                [parent_id] => 40
                                                [name] => Gitaar koffer
                                                [is_active] => 1
                                                [position] => 1
                                                [level] => 3
                                                [children] => Array
                                                    (
                                                        [0] => Array
                                                            (
                                                                [category_id] => 50
                                                                [parent_id] => 46
                                                                [name] => Bas gitaar koffer
                                                                [is_active] => 1
                                                                [position] => 1
                                                                [level] => 4
                                                                [children] => Array
                                                                    (
                                                                    )

                                                            )

                                                        [1] => Array
                                                            (
                                                                [category_id] => 51
                                                                [parent_id] => 46
                                                                [name] => Electrische gitaar koffer
                                                                [is_active] => 1
                                                                [position] => 2
                                                                [level] => 4
                                                                [children] => Array
                                                                    (
                                                                    )

                                                            )

                                                        [2] => Array
                                                            (
                                                                [category_id] => 47
                                                                [parent_id] => 46
                                                                [name] => Akoestische gitaar koffer
                                                                [is_active] => 1
                                                                [position] => 3
                                                                [level] => 4
                                                                [children] => Array
                                                                    (
                                                                    )

                                                            )

                                                        [3] => Array
                                                            (
                                                                [category_id] => 49
                                                                [parent_id] => 46
                                                                [name] => Gitaar soft cases
                                                                [is_active] => 1
                                                                [position] => 4
                                                                [level] => 4
                                                                [children] => Array
                                                                    (
                                                                    )

                                                            )

                                                        [4] => Array
                                                            (
                                                                [category_id] => 52
                                                                [parent_id] => 46
                                                                [name] => Gitaar gig bags
                                                                [is_active] => 1
                                                                [position] => 5
                                                                [level] => 4
                                                                [children] => Array
                                                                    (
                                                                    )

                                                            )

                                                        [5] => Array
                                                            (
                                                                [category_id] => 53
                                                                [parent_id] => 46
                                                                [name] => Pedalboards
                                                                [is_active] => 1
                                                                [position] => 6
                                                                [level] => 4
                                                                [children] => Array
                                                                    (
                                                                    )

                                                            )

                                                        [6] => Array
                                                            (
                                                                [category_id] => 48
                                                                [parent_id] => 46
                                                                [name] => Amp Utility Vehicles
                                                                [is_active] => 1
                                                                [position] => 7
                                                                [level] => 4
                                                                [children] => Array
                                                                    (
                                                                    )

                                                            )

                                                    )

                                            )

                                        [1] => Array
                                            (
                                                [category_id] => 67
                                                [parent_id] => 40
                                                [name] => Percussie koffer
                                                [is_active] => 1
                                                [position] => 2
                                                [level] => 3
                                                [children] => Array
                                                    (
                                                        [0] => Array
                                                            (
                                                                [category_id] => 73
                                                                [parent_id] => 67
                                                                [name] => Tom koffer
                                                                [is_active] => 1
                                                                [position] => 1
                                                                [level] => 4
                                                                [children] => Array
                                                                    (
                                                                    )

                                                            )

.......

......

>> it goes like this based on the number of categories 
```

我如何得到一个像这样的上面的简单数组

```
array('2' => 'Koffersenkisten','40'=> 'Muziek'...........etc); where 2 is the category_id and Koffersenkisten is the name 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T07:07:58.920

此函数遍历所有项，并在找到子项时递归。它在每次调用时传递输出数组并附加到它：

```
function get_cats(array &$output, array $arr)
{
        foreach ($arr as $item) {
                $output[$item['category_id']] = $item['name'];
                if (count($item['children'])) {
                        get_cats($output, $item['children']);
                }
        }
}

// start with empty result
$output = array();
get_cats($output, $a);
print_r($output); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T07:03:25.057

这应该有效。没有测试它。

```
 $result = array();

   function buildArray($array, $stack)
   {
      foreach($array as $item)
      {
         $stack[$item['category_id']] = $item['name'];

         if(isset($item['children']) && count($item['children']) > 0)
           foreach($item['children'] as $child)
              buildArray($item['children'], &$stack);
      }
   }

   buildArray($array, &$result);

   print_r($result); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-02T07:12:36.237

这是一个递归解决方案（数组应该在`$list`之前，创建的数组将在`$result`调用*create*函数之后）：

```
function create($list, &$result) {
    if (is_array($list) && !isset($list['category_id'])) {
        foreach ($list as $element) {
            create($element, $result);
        }
    } else {
        $result[$list['category_id']] = $list['name'];
        create($list['children'], $result);
    }
}

create($list, $result); 
```

另请参阅[此示例](http://ideone.com/KdKox)。

# c# - 裸偏班

> ID：11288870
> 
> 赞同：2
> 
> 时间：2012-07-02T06:44:38.300
> 
> 标签：c#, asp.net, data-annotations, partial-classes

我正在尝试使用部分类添加一些数据注释。

如您所见，我在我的部分类中添加了一个测试属性，以便我可以测试它是否真的与其他部分匹配（如下文章[http://msdn.microsoft.com/en-us/library/ee256141.aspx](http://msdn.microsoft.com/en-us/library/ee256141.aspx)）

看来我的班级是一个**裸体的部分班级**，所以我不确定我在这里做错了什么。

问题是元数据不适用于部分类（因此部分类被忽略）

你能帮帮我吗？谢谢

```
 using System;
        using System.Collections.Generic;

        namespace MyProject.Models
        {

public partial class ReAdvSlot
            {
// Poco
                public int AdvSlotId { get; set; }
                public string Name { get; set; }
                public string Description { get; set; }
                public bool IsPublished { get; set; }
                public string Code { get; set; }
                public string Notes { get; set; }
            }

        }
        using System.ComponentModel.DataAnnotations;

        namespace MyProject.Models
        {
            [MetadataType(typeof(ReAdvSlotMetaData))]
            public partial class ReAdvSlot
            {
                public class ReAdvSlotMetaData
                {
                    public int AdvSlotId { get; set; }
                    public string Name { get; set; }
                    public string Description { get; set; }
                    public bool IsPublished { get; set; }
                    public string Code { get; set; }
                    public string Notes { get; set; }
                    public string TestProperty { get; set; } // TEST PROPERTY
                }
            }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T18:16:27.503

部分类不会被忽略。如果您要将 Test 属性放入实际的分部类而不是元数据中，您会在类定义中看到它。

```
 namespace MyProject.Models
    {

        public partial class ReAdvSlot
            {
                public int AdvSlotId { get; set; }
                public string Name { get; set; }
                public string Description { get; set; }
                public bool IsPublished { get; set; }
                public string Code { get; set; }
                public string Notes { get; set; }
            }

        }
    }

    namespace MyProject.Models
    {
        [MetadataType(typeof(ReAdvSlotMetaData))]
        public partial class ReAdvSlot
        {
             public string TestProperty { get; set; } // TEST PROPERTY here instead
        }

        public class ReAdvSlotMetaData
            {
                [Required] //Example of defining metadata
                public int AdvSlotId { get; set; }
                public string Name { get; set; }
                public string Description { get; set; }
                public bool IsPublished { get; set; }
                public string Code { get; set; }
                public string Notes { get; set; }

            }
    } 
```

# magento - 重新索引 Magento

> ID：11288872
> 
> 赞同：2
> 
> 时间：2012-07-02T06:44:47.920
> 
> 标签：magento, reindex

从数据中重新索引的最佳方法是什么？

我正在考虑每天晚上创建一个 cronjob 并将索引模式设置为“手动更新”。

现在我不确定最好的方法是什么。因为我不知道产品更新或产品库存会发生什么。有人可以帮我提供有关它的信息吗

太好了，莱克斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T08:14:57.873

Magento 将 shell 脚本捆绑在 shell/ 文件夹中，在那里您可以看到 indexer.php，它允许您通过命令行使用 cron 来安排此类任务

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T09:10:37.820

您无需将索引选项设置为“手动更新”即可运行`indexer.php`shell 脚本。事实上，最好不要这样做；如果有人在白天修改它，“保存时更新”选项几乎可以保证您的数据是正确的。

您想要“手动更新”的唯一原因之一是您正在运行产品导入以加快速度。

正如 Anton 所说，对 indexer.php 运行一个 cron 脚本以在凌晨 3 点重新索引所有数据，一切都会好起来的。

# c# - 项目命令未在延迟加载控制中触发

> ID：11288873
> 
> 赞同：0
> 
> 时间：2012-07-02T06:44:49.317
> 
> 标签：c#, asp.net, lazy-loading, repeater, itemcommand

我有一个转发器，它是在 AJAX 选项卡容器的选项卡索引更改时动态创建的。但是，当我尝试从中继器中删除项目时，它不会触发中继器的 item 命令。

中继器的动态绑定

```
public void bindControl()
{
           dset = GetWorklistItems();
            if (dset.Tables[0].Rows.Count != 0)
            {
                rpt_worklistitems.DataSource = dset;
                rpt_worklistitems.DataBind();
            }
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:56:43.303

使用以下代码解决：

```
If (Page.IsPostBack)
  return;
if (dset.Tables[0].Rows.Count != 0)
        {
            rpt_worklistitems.DataSource = dset;
            rpt_worklistitems.DataBind();
        } 
```

# java - 尝试连接 MySQL 时出现 NullPointerException

> ID：11288875
> 
> 赞同：0
> 
> 时间：2012-07-02T06:45:07.543
> 
> 标签：java, jdbc, nullpointerexception

请帮助我确定为什么我总是收到此错误：

```
 java.lang.NullPointerException
    at TaskDAO.TaskDAO.main(TaskDAO.java:34) 
```

注意：`DatebaseHelper`是一个使用 JDBC 连接 MySQL 的类。

```
import java.sql.SQLException;
import java.text.SimpleDateFormat;
import TaskManagement.*;

public class TaskDAO {

    DatabaseHelper help;

    public static void main(String[] args) throws InstantiationException,
            IllegalAccessException, ClassNotFoundException, SQLException {

        TaskDAO taskDAO = new TaskDAO();

        int taskID = 6;
        String subject = "lau cua";
        Status status = Status.Completeted;
        Priority priority = Priority.High;
        Float percentage = 4f;
        String tableName = "tasks";
        String startDate = "2012/11/11";
        String dueDate = "2012/11/12";

        String query = "INSERT INTO "
                + tableName
                + "(taskID,subject,status,priority,percentage,startDate,dueDate)"
                + " VALUES ('" + taskID + "'," + "'" + subject + "'," + "'"
                + status + "'," + "'" + priority + "'," + "'" + percentage
                + "'," + "'" + startDate + "'," + "'" + dueDate + "')";

        taskDAO.help.executeQuery(query);
    }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T06:49:35.883

`DatabaseHelper help`是成员变量，因此初始化为`null`. 在`main`中，您创建一个`TaskDAO`，并立即使用它的`help`成员——即`null`. 您必须`help`使用一些有效`DatabaseHelper`的 .

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-02T06:50:51.063

`help is null ,so NPE`，忘记初始化了。

```
DatabaseHelper help = new DatabaseHelper(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T06:57:52.980

下面给出了从 MySQL 数据库读取的简单代码

```
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.Statement;

public class NewClass {

public static void main(String[] args) {

    Connection conn = null;

    String url = "jdbc:mysql://192.168.100.100:3306/";
    String dbName = "databaseName";
    Statement stmt = null;
    ResultSet result = null;
    String driver = "com.mysql.jdbc.Driver";
    String databaseUserName = "admin";
    String databasePassword = "root";
    try {
        Class.forName(driver).newInstance();
        conn = DriverManager.getConnection(url + dbName, databaseUserName, databasePassword);
        stmt = conn.createStatement();
        result = null;
        String password,username;
        result = stmt.executeQuery("select * from userTable where username ='user1' ");
        if(!result.isBeforeFirst()){
            System.out.println("resultset contin no rows");
        }
        while (result.next()) {

            username=result.getString("username");
            password = result.getString("password");
            System.out.println(username+"  "+password);

        }
        conn.close();
    } catch (Exception e) {      
        e.printStackTrace();
    }
}
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-02T06:53:00.190

您正在调用`taskDAO.help.executeQuery(query);`
But until there `DatabaseHelper help;`is null 因为引用变量在 java 中默认为 null。所以拳头定义`DatabaseHelper help`

```
DatabaseHelper help = new DatabaseHelper();//or whatever create DatabaseHelper 
```

然后打电话

```
taskDAO.help.executeQuery(query); 
```

# shell - Shell脚本获取命令PID

> ID：11288878
> 
> 赞同：0
> 
> 时间：2012-07-02T06:45:26.763
> 
> 标签：shell, pid

在 shell 脚本中假设我运行了这样的命令

```
for i in `ps -ax|grep "myproj"`
do
  echo $i
done 
```

在这里，grep 命令将作为一个单独的进程执行。那么我如何在 shell 脚本中获取它的 PID 呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T06:51:27.007

当你在后台运行一个进程时，你可以得到它的 PID`$!`

```
 $ ps aux | grep dddddd & echo $!
 [1] 27948
 27948
 ic       27948  0.0  0.0   3932   760 pts/3    R    08:49   0:00 grep dddddd 
```

在前台时 --- 在您想要查找其 PID 的点上，该进程不再存在。当您在循环中时，for 语句已经执行并且`grep`已经退出，因此您再也找不到它的 PID。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T06:54:35.243

我在这里四处走动，并且理解这看起来更像是评论。

为什么需要`grep`命令的PID？

在您的评论中，您说您想在循环中将其与某些东西进行比较。我想这是你的问题，循环将（有时）不仅包括`myproj`，而且还包括关于你的 grep 命令的项目？如果是这样，请尝试以下操作：

```
 for i in `ps -ax | grep -v grep | grep "myproj"`
   do
      echo $i
   done 
```

该`-v`开关基本上反转了模式，因此`grep -v grep`（或`grep -v "grep"`，可能看起来不那么尴尬）将仅包含不包含字符串“grep”的行（请参阅[man grep](http://unixhelp.ed.ac.uk/CGI/man-cgi?grep)）。请注意，这在某些情况下可能过于模糊，例如，如果您实际查找的模式还包含字符串“grep”。例如，以下内容可能无法按您的预期工作：`ps -ax | grep -v grep | grep mygrepling`

但是，在您的特定情况下，您只需查找“myproj”就可以了。

或者你可以简单地使用

```
 for i in `ps -ax | grep "my[p]roj"`
   do
      echo $i
   done 
```

这样就不需要知道 grep 命令的 PID，因为它根本不会显示为循环迭代。

# glassfish-3 - 应用程序未在 Glassfish 3.1.2 上部署

> ID：11288880
> 
> 赞同：1
> 
> 时间：2012-07-02T06:45:27.977
> 
> 标签：glassfish-3

我做了一个网络服务。我已经做了 2 或 3 项服务，并将它们部署在玻璃鱼上。在每项服务上，我都使用了包名称，如 pk.mazars.basitMahmood.calculate、pk.mazars.basitMahmood.weather 等。意味着 pk.mazars.basitMahmood 在所有包名称中都很常见。现在我在 Eclipse 上开发了一个 Web 服务，现在当我尝试部署它时，我收到以下错误

```
cannot Deploy ResourceAEAR
org.eclipse.core.runtime.CoreException: Deployment Error for module: ResourceAEAR:  
Error occurred during deployment: Exception while loading the app : 
java.lang.Exception: WEB0113: Virtual server [server] already has a web module 
[AndroidBackendAuthentication.war] loaded at [/AndroidBackendAuthentication]; 
therefore web module [ResourceAEAR#AndroidBackendAuthentication.war] cannot be 
loaded at this context path on this virtual server. . Please see server.log for
 more details.
at com.sun.enterprise.jst.server.sunappsrv.SunAppServerBehaviour.
publishDeployedDirectory(SunAppServerBehaviour.java:859)
... 
```

那个错误是什么意思。我该如何解决？我也对此错误进行了一些谷歌搜索，但无法准确找到问题所在。所以请帮忙:(

谢谢

# vb.net - SSCLI 和 VB.NET

> ID：11288887
> 
> 赞同：3
> 
> 时间：2012-07-02T06:45:45.110
> 
> 标签：vb.net, sscli

我有兴趣了解更多关于 .NET 框架如何在内部工作的信息。我已经下载了 Reflector 和 SSCLI。以下链接显示：“共享源 CLI 是源代码的压缩存档，用于 ECMA CLI 和 ECMA C# 语言规范的工作实现”： http: [//www.microsoft.com/en-gb/download/详细信息.aspx?id=4917](http://www.microsoft.com/en-gb/download/details.aspx?id=4917)。

SSCLI 是否不包括实现 VB.NET 的源代码，即只有 C 语言？

我意识到可以在这里下载 VB.NET 规范：http: [//www.microsoft.com/en-us/download/details.aspx?id=15751](http://www.microsoft.com/en-us/download/details.aspx?id=15751)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T10:26:01.747

SSCLI 发行版旨在帮助任何人将 CLR 的兼容实现移植到另一个平台。其中大部分是 C++ 源代码，用于实现 CLR、即时编译器以及 C# 和 JScript 编译器的语言。.NET 框架库是用 C# 编写的，它也包含在内。它们是 .NET 2.0 中使用的源代码的相当不错的快照，尽管很难判断哪些内容可能已被删除或替换。我从来没有遇到过明显的不匹配，但是随着源代码的老化和与当前 .NET 版本的越来越分离，这种不匹配变得越来越不明显。

但是不，没有包含 VB.NET 编译器，也没有 Microsoft.VisualBasic 命名空间中的类的源代码。也没有 C++/CLI 编译器。包含的 C# 和 JScript 编译器也不是这些编译器的 Microsoft 版本的完整实现，Windows 和 VS 特定位已被删除。特别是 C# 编译器源代码已经过时了，从那以后就做了很多工作。

# c# - 如何获取下个月每一天的名称？

> ID：11288893
> 
> 赞同：2
> 
> 时间：2012-07-02T06:46:08.637
> 
> 标签：c#, winforms, datetime

```
DateTime dt = new DateTime();
dt = DateTime.Now.AddMonths(1);
int x = DateTime.DaysInMonth(dt.Year, dt.Month);
MessageBox.Show(x.ToString());  // works ok - 31 
```

我该怎么说：

```
foreach (day in dt.Days)
{
string abc = dt.DayOfWeek.ToString();
MessageBox.Show(abc)
} 
```

问题出在第一行 - foreach ...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-02T06:53:53.633

您还可以利用`Enumerable.Range`LINQ（和`DaysOfWeek`枚举）

```
DateTime dt = DateTime.Now.AddMonths(1);

Enumerable.Range(1, DateTime.DaysInMonth(dt.Year, dt.Month))
    .Select(dayNumber => new DateTime(dt.Year, dt.Month, dayNumber))
    .Select(dayName => dayName.DayOfWeek.ToString()).ToList()
    .ForEach(day => MessageBox.Show(day)); 
```

这两个`.Select()`s 可以合并，但为了便于阅读，我将它们分开。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-02T06:55:23.510

你可以做：

```
DateTime dt = new DateTime();
dt = DateTime.Now.AddMonths(1);
DateTime conditionDateTime = new DateTime(dt.Year, dt.Month,DateTime.DaysInMonth(dt.Year, dt.Month));

 for (DateTime dt1 = new DateTime(dt.Year, dt.Month, 1); dt1 <conditionDateTime; dt1 = dt1.AddDays(1))
     {
        Console.Write(dt1.ToShortDateString() + " : ");
        Console.WriteLine(dt1.DayOfWeek);
     } 
```

这会给你

```
8/1/2012 : Wednesday
8/2/2012 : Thursday
8/3/2012 : Friday
8/4/2012 : Saturday
8/5/2012 : Sunday
8/6/2012 : Monday
8/7/2012 : Tuesday
8/8/2012 : Wednesday
8/9/2012 : Thursday
8/10/2012 : Friday
8/11/2012 : Saturday
8/12/2012 : Sunday
8/13/2012 : Monday
8/14/2012 : Tuesday
8/15/2012 : Wednesday
8/16/2012 : Thursday
8/17/2012 : Friday
...... 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-02T06:57:35.210

这应该可以完成这项工作。

```
DateTime Base = new DateTime(DateTime.Now.Year, DateTime.Now.AddMonths(1).Month, 1);
int x = DateTime.DaysInMonth(Base.Year, Base.Month);
while (Base.Day != x)
{
    Console.WriteLine(Base.DayOfWeek.ToString());
    Base = Base.AddDays(1);
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-02T06:47:42.077

试试`DateTime.ToString(format)`方法。

```
DateTime dt = new DateTime();
String dayName=dt.ToString("ddd"); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-02T06:48:49.097

试试这个

```
string day = DateTime.Now.ToString("ddd"); 
```

# javascript - JS 和 Quicktime -“未定义 QT_WriteOBJECT”错误

> ID：11288899
> 
> 赞同：0
> 
> 时间：2012-07-02T06:46:44.890
> 
> 标签：javascript, quicktime

我不断收到错误消息：未定义 QT_WriteOBJECT。我的 javascript 有点乱，我打算整理一下，但是从我的硬盘加载索引文件时一切正常。虽然不喜欢通过服务器上的索引文件播放电影。似乎什么都没有加载。

我正在使用 Apple 提供的 AC_QuickTime.js 文件。

非常感谢任何帮助 - javascript 对我来说很新。

索引文件在这里：

[http://www.collingwoodland.com/nicksimpson-deeks/index.html](http://www.collingwoodland.com/nicksimpson-deeks/index.html)

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T22:57:03.827

如果您将 JS 文件保存到您的服务器，一旦它移动到服务器，可能没有正确引用，我曾经遇到过这个问题。

确保您的标签格式正确或使用它（这就是我所做的）

```
//I used them together to have access to the JavaScript functions
<script src="http://www.apple.com/library/quicktime/scripts/ac_quicktime.js" 
type="text/JavaScript"></script>

<script src="http://www.apple.com/library/quicktime/scripts/qtp_library.js" 
type="text/JavaScript"></script> 
```

发布您的代码，也许我们可以找出问题所在...

# r - R：尽可能均匀地分配数量 II

> ID：11288900
> 
> 赞同：1
> 
> 时间：2012-07-02T06:46:45.620
> 
> 标签：r, while-loop, distribution, max, min

我们有一定数量，例如 300 个单位。该数量应尽可能均匀地分布在 40 个“槽”或“箱”上。如果每个插槽都相同，那将很容易-因此每个插槽将是 7,5。但是，插槽的大小各不相同，我们不能“填充”超过其“大小”允许的范围，例如如果它只有 4 个。我们不能“填充”超过 4 个。因此，我们必须在另一个上分配更多那些。

让我们假设还有另一个限制：一般填充限制例如 5。这意味着即使我们在插槽中有足够的大小来填充比如 12 并且剩余的单元足够多比如 11，我们也只能填充 5。填充所有插槽后超出的值应放置在单独的剩余插槽中。在每个填充过程中，我们还应该得到一个数字，即使用了多少百分比的最大填充容量。即如果我们填写 4 和 5 是一般的填写限制。我们使用了 80%。

我们之前已经在另一个问题中讨论过这个问题： [尽可能均匀地分配数量](https://stackoverflow.com/questions/11254452/distributing-an-amount-as-evenly-as-possible/11255339#comment14807107_11255339)

我有一些想法如何进一步发展这个公式，但部分它仍然卡住。谢谢你的帮助！

```
# developing slots and their "size" 
a <- rnorm(40,10,4) 
sum(a) 

# overall sum to distribute 
b <- 300  
# general filling in limit
c <- 8

optimal.fill <- function(a, b) 
{ 
  stopifnot(sum(a) >= b) 

  d <- rep(0, length(a))
  info <- rep(0, length(a))  
  while(b > 0) { 
    has.room  <- a > 0 
    num.slots <- sum(has.room) 
    min.size  <- min(a[has.room]) 
    add.size  <- min(b / num.slots, min.size)
    #maximum limitation
    add.size[add.size>c]  <- c
    #percentage info
    info[has.room] <- add.size/c
    d[has.room] <- d[has.room] + add.size 
    a[has.room] <- a[has.room] - add.size 
    b <- b - num.slots * add.size 
    } 
  return(d) 
} 
optimal.fill(a,b) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T08:43:37.063

这个怎么样

```
optimal.fill <- function(a, b, generalLimit = 8){
  a <- pmax(0, pmin(a, generalLimit))
  if(sum(a) < b){
    stop("not enough room")
  }
  if(length(a) * min(a) <= b){
    result <- rep(min(a), length(a))
  } else {
    result <- rep(floor(b / length(a)), length(a))
  }
  while(floor((b - sum(result)) / sum(result < a)) >= 1){
    if(min(a[result < a]) * sum(result < a) <= b - sum(result)){
      result[result < a] <- 
        result[result < a] + rep(min(a[result < a]), sum(result < a))
    } else {
      result[result < a] <- 
        result[result < a] + 
        rep(floor((b - sum(result)) / sum(result < a)), sum(result < a))
    }
  }
  extra <- sample(which(result < a), (b - sum(result)), replace = FALSE)
  result[extra] <- result[extra] + 1
  return(cbind(result,  result / a))
}
optimal.fill(ceiling(rnorm(40,10,4)), 300, 8) 
```

# java - 如何使自签名证书代码只执行一次？

> ID：11288904
> 
> 赞同：1
> 
> 时间：2012-07-02T06:47:16.647
> 
> 标签：java, ssl, https, ssl-certificate

## 设置：

我在我的一个项目中使用 Spring-MVC。我必须访问一个我必须使用自签名证书的 URL。我正在使用以下代码`service`来执行此操作，并且一切正常。

```
TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {
    @Override
    public java.security.cert.X509Certificate[] getAcceptedIssuers() {
        return null;
    }

    @Override
    public void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType) {
    }

    @Override
    public void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType) {
    }
}};

// Install the all-trusting trust manager
try {
    SSLContext sc = SSLContext.getInstance("SSL");
    sc.init(null, trustAllCerts, new java.security.SecureRandom());
    HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());
} catch (GeneralSecurityException e) {
    LOGGER.error(e);
} 
```

## 问题：

由于此代码在 my 中`service`，因此每次通过 this 发出新请求时都会执行它`service`。有没有办法让这段代码只执行一次而不是每次请求？一些带有实际代码的示例将不胜感激。

如果需要更多解释，请发表评论。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T07:51:08.657

例如，您可以将此代码放入单独的 Spring bean 的 init 方法中，它将在您的应用程序启动期间执行：

```
@Component
public class TrustManagerConfigurer {
    @PostConstruct
    public void installTrustManager() { ... }
} 
```

或者，您可以将其放入[`ServletContextListener.contextInitialized()`](http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContextListener.html)以达到相同的效果。

**也可以看看：**

*   [3.9.6 @PostConstruct 和@PreDestroy](http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#beans-postconstruct-and-predestroy-annotations)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T08:22:38.547

只需将 ServletContext 保存在某处，而不是每次都重新创建它。

你知道这段代码根本不安全吗？并且该问题的正确解决方案是将证书导入您的信任库？

# database - 什么可能应该是 facebook DB 设计

> ID：11288908
> 
> 赞同：7
> 
> 时间：2012-07-02T06:47:27.150
> 
> 标签：database, facebook, database-design, architecture, social-networking

我只是想知道 Facebook 可能会发出多少个数据库查询来呈现用户的主页。有人对facebook DB的设计方式有一些想法吗？我听说它运行 MySql 并且有数千个副本加上比 DB 服务器更多的 memcache 服务器。

facebook 数据是分片的吗？

如果是，它会转到每个分片并搜索我朋友的最新更新。在最坏的情况下，如果我有 100 个朋友并假设 facebook 有 101 个分片，那么我的每个朋友都有可能在不同的分片中。facebook如何处理这个问题？

如果有人可以向我提供有关“如何为社交网络网站设计数据库”之类的 seom 提示或指针，我将不胜感激。我只是好奇！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-01T18:43:40.523

Facebook 正在使用[LAMP 结构](http://en.wikipedia.org/wiki/LAMP_(software_bundle))。Facebook 的后端服务是用各种不同的编程语言编写的，包括 C++、Java、Python 和 Erlang，并根据需要使用它们。借助 LAMP，Facebook 使用了一些技术来支持大量请求，例如

1.  [Memcache](http://memcached.org) - 它是一种内存缓存系统，用于通过在 RAM 中缓存数据和对象来加速动态数据库驱动的网站（如 Facebook），以减少读取时间。Memcache 是 Facebook 的主要缓存形式，有助于减轻数据库负载。拥有一个缓存系统可以让 Facebook 在调用您的数据时尽可能快。

2.  [Thrift (protocol)](http://incubator.apache.org/thrift/) - 它是一个轻量级的远程过程调用框架，用于可扩展的跨语言服务开发。Thrift 支持 C++、PHP、Python、Perl、Java、Ruby、Erlang 等。

3.  [Cassandra（数据库）](http://incubator.apache.org/cassandra/) ——它是一个数据库管理系统，旨在处理分布在许多服务器上的大量数据。

4.  [HipHop for PHP](http://developers.facebook.com/hiphop-php/) - 它是 PHP 脚本代码的源代码转换器，旨在节省服务器资源。HipHop 将 PHP 源代码转换为优化的 C++。完成此操作后，它使用 g++ 将其编译为机器码。

如果我们更详细，那么对这个问题的回答会更长。我们可以从以下帖子中了解更多：

1.  [脸书是如何运作的？](http://www.makeuseof.com/tag/facebook-work-nuts-bolts-technology-explained/)
2.  [数据管理，Facebook 风格](http://20bits.com/article/data-management-facebook-style)
3.  [Facebook 数据库设计？](https://stackoverflow.com/questions/1009025/facebook-database-design)
4.  [Facebook wall 的数据库结构](https://stackoverflow.com/questions/1309231/facebook-walls-database-structure)
5.  [Facebook“点赞”数据结构](https://stackoverflow.com/questions/7487476/facebook-like-data-structure)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-02T07:03:13.923

在这个网站上，您可以找到有关这些大型互联网公司及其技术结构的许多详细信息：

[http://highscalability.com/](http://highscalability.com/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-03T06:31:12.223

添加到@Somnath Muluk 的答案 - Facebook 很少使用其他技术，如 Hadoop 等。

有关详细信息，请参阅以下链接：

[http://www.quora.com/Facebook-Engineering/What-is-Facebooks-architecture](http://www.quora.com/Facebook-Engineering/What-is-Facebooks-architecture)

[脸书架构](https://stackoverflow.com/questions/3533948/facebook-architecture)

希望能帮助到你。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-03T21:59:48.873

零。平均而言，就是这样。一个拥有大量用户的高度互联网络，如 Facebook，只有在经常显示的页面完全耗尽内存时才能有效运行。几乎所有数据都应该已经在内存缓存中。

# jquery - ReferenceError：找不到变量：$（每次输出不同）

> ID：11288909
> 
> 赞同：0
> 
> 时间：2012-07-02T06:47:32.637
> 
> 标签：jquery, jquery-ui, jquery-mobile, cordova

在我的 phonegap 应用程序中有各种 .js 文件。单击页脚菜单时，我将其他 html 文件打开为

```
<div data-role="footer" data-theme="a" data-position="fixed">
        <div data-role="navbar">
            <ul>
                <li><a href="MainMenu.html" >Menu</a></li>
                <li><a href="../../index.html" >Logout</a></li>

            </ul> 
        </div>
    </div> 
```

现在假设我点击菜单然后它打开 MainMenu.html 文件。但很多时候它只显示黑屏，有时它会正确打开 MainMenu.html，有时它会显示白屏和错误消息，例如

```
07-02 11:52:54.172: E/Web Console(2292): ReferenceError: Can't find variable: $ at file:///android_asset/www/UI/Equity/home.html#:52 
```

每次都有不同的反应，为什么会这样？在其他情况下会出现此问题，这也意味着当我单击假设某个按钮时，有时它会调用 nect html 页面，但有时只会出现黑屏并且应用程序挂起。

# jquery - Jquery .attr('class') 不返回继承的父类

> ID：11288910
> 
> 赞同：1
> 
> 时间：2012-07-02T06:47:35.167
> 
> 标签：jquery, class, inheritance

使用 Jquery 1.6.4。

`context-`我正在尝试使用 css 通过在我的 UI 的每一层 应用前缀为的类来为我的应用程序提供有关用户操作上下文的线索。

因此，对于单击“搜索”div 中某些内容的用户，我可以分配类“context-userContext-search”，然后当我调用 $(this).attr('class') 和依此类推，直到应用于元素本身的最具描述性的上下文标志。

我这样做是为了避免为每个需要它的目标元素定义整个层次结构。但是..它不起作用。

我的html：

```
<div class="context-userContext-search">
    <table>
        <thead class="context-layoutContext-tableHeader">
            <tr class="context-userContext-search">
                <th id="search_A2655_header" class="clickable sortable ui-state-highlight dialog_right_menu context-objectAttribute-A2655 context-objectClassName-host" value="A2655">
                    Hostname
                </th>
            </tr>
        </thead>
    </table>
</div> 
```

当我调用`$('#search_A2655_header').attr('class')`它时，它会返回：

`clickable sortable ui-state-highlight dialog_right_menu context-objectAttribute-A2655 context-objectClassName-host`

当我期望它返回这个时：

`context-userContext-search context-layoutContext-tableHeader clickable sortable ui-state-highlight dialog_right_menu context-objectAttribute-A2655 context-objectClassName-host`

这些类当然不存在于任何样式表中，但我不记得它们必须继承才能工作。

我可以带着 走上树`.parents('[class^="context-"]')`，但这并不那么酷，而且可能很昂贵。

欢迎使用其他方法来实现我的目标。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T06:53:44.137

那这个呢？

```
var classes = 
  $('#search_A2655_header')
    .parentsUntil('.context-userContext-search')
    .andSelf()
    .attr('class') 
```

**编辑：**

我一直在自己尝试这个，似乎没有用。试试这个：

```
var getAllClasses = function (from, until) {
  var cs = []
  $(from)
    .parentsUntil(until)
    .andSelf()
    .each(function(){
      if (this.className)
        cs.push(this.className)
    })
  return cs
} 
```

**演示：http:** [//jsfiddle.net/elclanrs/3tR93/](http://jsfiddle.net/elclanrs/3tR93/)

# wix - 在 Wix 3.6.2221.0 中添加 ComponentGroup 时出现错误

> ID：11288918
> 
> 赞同：1
> 
> 时间：2012-07-02T06:48:02.653
> 
> 标签：wix, wix3.6

错误 19 Directory 元素包含意外的子元素“ComponentGroup”。报告\目录.wxs 216 1

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-02T08:48:40.460

根据[ComponentGroup 的 wix 文档](http://wix.sourceforge.net/manual-wix3/wix_xsd_componentgroup.htm)，可能的父元素是[Fragment](http://wix.sourceforge.net/manual-wix3/wix_xsd_fragment.htm)或[Product](http://wix.sourceforge.net/manual-wix3/wix_xsd_product.htm)。不允许将组件组直接放在目录元素下。

我通常将每个组件组放在一个单独的 wxs 文件中，如下所示：

```
<?xml version='1.0' encoding='utf-8'?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
    <Fragment>

        <DirectoryRef Id="someFolder">
            <Component Id="file1">
                <File Source="file1" />
            </Component>
            <Component Id="file2">
                <File Source="file2" />
            </Component>
        </DirectoryRef>

        <ComponentGroup Id="mycomponentgroup">
            <ComponentRef Id="file1" />
            <ComponentRef Id="file2" />
        </ComponentGroup>

    </Fragment>
</Wix> 
```

然后我`ComponentGroupRef`在相关下放了一个`Feature`。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-02T06:53:05.520

`ComponentGroup`需要放入`< Product>`标签中，而不是放入`< Directory>`标签中。更加注意标签的位置。

# php - cakephp中的自定义路由

> ID：11288921
> 
> 赞同：0
> 
> 时间：2012-07-02T06:48:43.683
> 
> 标签：php, cakephp, routes

是否可以将 url 路由到这样的自定义操作..

```
Router::connect('/data/:controller/{$action}/:id', array('action'=>$action+"_save", '[method]' => 'POST', 'data' => true), array('id' => '[0-9]+', 'pass' => array('id'))); 
```

我尝试了上面的行，但它说未定义的变量 $action。但是在示例中，我看到这对于前缀是可能的

[http://book.cakephp.org/2.0/en/development/routing.html#prefix-routing](http://book.cakephp.org/2.0/en/development/routing.html#prefix-routing)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T09:49:10.750

是的，您可以根据需要将 url 路由到自定义的有效操作：

```
Router::connect('/data/:controller/{$action}/:id', array('action'=>$action."_save",     '[method]' => 'POST', 'data' => true), array('id' => '[0-9]+', 'pass' => array('id'))); 
```

利用 '。' 而不是 'action' 参数中的 '+'。

# python - 无法使用 Python 2.7 安装 py2exe

> ID：11288923
> 
> 赞同：26
> 
> 时间：2012-07-02T06:48:49.900
> 
> 标签：python, python-2.7, py2exe

我正在尝试安装[py2exe](http://www.py2exe.org)。我的机器上安装了 Python 2.7。他们的[网站](http://www.py2exe.org/old/)提到他们已经发布了对 2.7 的支持，但是当我尝试安装时，它提到需要 Python 版本 2.6，但在注册表中找不到。我已经下载了 py2exe-0.6.9。

还有其他人提出这个问题并想出了如何解决它吗？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-07-02T06:54:11.717

试试[这个链接](http://sourceforge.net/projects/py2exe/files/py2exe/0.6.9/py2exe-0.6.9.win32-py2.7.exe/download)。它是 Python 2.7 的 py2exe。

# c# - 如何使用 asp.net 找出 webmethod 中的服务器控件？

> ID：11288928
> 
> 赞同：0
> 
> 时间：2012-07-02T06:49:05.040
> 
> 标签：c#, asp.net, webmethod

我已经在 aspx.cs 文件中编写了我的 webmethod，但是当我在同一页面中调用 n.Nautilus() 方法时，**我无法在 Nautilus() 中获取服务器端控件，在此方法中控件变为 NULL**，请查找原因并尽快解决这个问题。

```
[WebMethod]
        public static string Execute4()
        {
            NewQuote2 n = new NewQuote2();

            JavaScriptSerializer j = new JavaScriptSerializer();
            string r = string.Empty;
            var o = Observable.Start(() =>
            {
                // Thread.Sleep(7000);
                PennStar pn = new PennStar();
                r = j.Serialize(new { res = n.Nautilus() });
            }, Scheduler.NewThread);
            o.First();
           // r = n.Nautilus();
            return r;
        }

    public string Nautilus()
            {
                try
                {
                    if (ddlLineCode.SelectedItem.Value == "GL")
            {
                deductible = Convert.ToInt32(ddlGLdeductible.SelectedItem.Text);
                //ClassCode = Convert.ToInt32(ddlClassCode1.SelectedValues.ToString());
                ClassCode = Convert.ToInt32(ddlClasscode.SelectedValue);
            }
            else if (ddlLineCode.SelectedItem.Value == "PP" || ddlLineCode.SelectedItem.Value == "PR")
            {
                deductible = Convert.ToInt32(ddlPropdeductible.SelectedValue);
            }
            string T = ddlTerritory.SelectedItem.Text;

            QMSRatingEngine.Nautilus QR = new QMSRatingEngine.Nautilus();
            ArrayList Result = new ArrayList();

            if (LC == "GL")
            {
                QMSRatingEngine.NautilusAgents.ReturnGLRate gl = QR.GLRateObject(state, ED, deductible, ClassCode, ddlLimit.SelectedItem.Text, T);
                Result.Add(gl);
                getNautilusRatedata(gl);//this method code i can write the bellow
            }
            if (LC == "PP" || LC == "PR")
            {
                QMSRatingEngine.NautilusAgents.ReturnPropRate PRop = QR.PropertyRateObject(state, ED, ddlPropFormtype.SelectedItem.Text, ddlPropconstructiontype.SelectedItem.Text, ddlPropcovergetype.SelectedItem.Text, deductible, ddlPropuwscale.SelectedItem.Text, ddlPropprotectionclass.SelectedItem.Text, T);
                Result.Add(PRop);
            }
    }
return lbltext.Text;
    }

 private void getNautilusRatedata(QMSRatingEngine.NautilusAgents.ReturnGLRate gl)
        {
            lblNautilusPremiumbasis.Text = GetPremiumBasisFormat(txtExposure.Text);
            lblNautilusDeductible.Text = getCurrencyFormat(ddlGLdeductible.SelectedItem.Text);
            string Type = ddlPremiumBasis.SelectedItem.Text;
            decimal Premium = Convert.ToDecimal(gl.BaseRate_Prem.ToString());
            decimal nautilusPremiumBasis = Convert.ToDecimal(txtExposure.Text);
            decimal Prod = Convert.ToDecimal(gl.BaseRate_Prod.ToString());
            decimal CalcPremium = 0, CalcProd = 0;
            if (Type == "A - AREA" || Type == "M - ADMISSION" || Type == "U - UNITS" || Type == "O - OTHER")
            {
                CalcPremium = (Premium * nautilusPremiumBasis);
                lblNautilusPremisesOp.Text = getCurrencyFormat(Math.Round(CalcPremium).ToString());
                CalcProd = (Prod * nautilusPremiumBasis);
                lblNautilusProductsCoop.Text = getCurrencyFormat(Math.Round(CalcProd).ToString());
            }
            if (Type == "C - TOTAL COST" || Type == "P - PAYROLL" || Type == "S - GROSS SALES")
            {
                CalcPremium = (Premium * nautilusPremiumBasis) / 1000;
                lblNautilusPremisesOp.Text = getCurrencyFormat(Math.Round(CalcPremium).ToString());
                CalcProd = (Prod * nautilusPremiumBasis) / 1000;
                lblNautilusProductsCoop.Text =getCurrencyFormat(Math.Round(CalcProd).ToString());
            }
            lblNautilusGLPremium.Text = getCurrencyFormat(Math.Round((Math.Round(CalcProd) + Math.Round(CalcPremium))).ToString());
            lblNautilusSubTotal.Text = getCurrencyFormat(Math.Round((Math.Round(CalcProd) + Math.Round(CalcPremium))).ToString());
            lblNautilusGrandTotal.Text = getCurrencyFormat(Math.Round((Math.Round(CalcProd) + Math.Round(CalcPremium))).ToString());

            //string jstablelattest = "moneyCoverage";
            //ClientScript.RegisterClientScriptResource(this.GetType(), jstablelattest);
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T06:53:53.120

因为您正在调用`Nautilus()`函数，`public static string Execute4()`并且因为`Execute4()`是 a `webmethod`，因此`static`您无法找到任何控件，因为它们不是静态的。

您应该尝试从您的返回结果和值，`webmethod`并在客户端使用这些结果执行显示/隐藏 div 和其他操作等操作。

# java - CsrfPreventionFilter

> ID：11288929
> 
> 赞同：1
> 
> 时间：2012-07-02T06:49:06.897
> 
> 标签：java, tomcat, web-applications, csrf

我觉得下面的问题可能很幼稚，但是想用Tomcat的Csrf防护过滤器，配置起来有点吃力。那么，有人可以为我提供一些关于如何做到这一点的示例代码吗？我是 apache tomcat 6.0.33。

提前致谢。

# soap - 在 asp classic 中连接到 https SOAP Web 服务

> ID：11288936
> 
> 赞同：1
> 
> 时间：2012-07-02T06:49:44.133
> 
> 标签：soap, asp-classic

我正在开发一个使用 asp classic 的客户端网站，并想连接这个`https://acquirer.sb24.com:2789/ref-payment/ws/ReferencePayment?WSDL`使用`https`协议的 Web 服务。这是我的代码：

```
SET oSOAPay = Server.CreateObject("MSSOAP.SoapClient30")
oSOAPay.ClientProperty("ServerHTTPRequest") = True
Call oSOAPay.mssoapinit(WebService, "ReferencePayment") 
```

此代码适用于 http Web 服务。初始 http 肥皂网络服务的任何解决方案？

# jsonp - 使用谷歌闭包 jsonp 调用 web 服务并将 json 作为参数发送

> ID：11288937
> 
> 赞同：0
> 
> 时间：2012-07-02T06:49:49.943
> 
> 标签：jsonp, google-closure

> 我想通过 jsonp 使用 google 闭包调用 web 服务，因为我正在执行跨域 web 服务。
> 
> 我用以下方式调用它

```
var url = "http://myurl/";
var jsonp = new goog.net.Jsonp(url);
jsonp.send(
{"name":"jessi","action":"initaction","gameId":"123"},
callback, callbackfailed); 
```

> 但是在这种方法中，url被转换为普通的get方法字符串，如下所示

```
http://myurl/?name=jessi&action=initaction&gameId=123 
```

> 但我需要以以下方式将此 url 作为 json 对象发送 "name":"pari123","action":"initaction","gameId":"slotreel3"
> 
> 我怎么能做到这一点，我搜索了谷歌，但我找不到关于 ?this 的适当文档。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T12:55:28.817

用于对对象进行编码的函数 goog.net.Jsonp.addPayloadToUri_ 说：

*   @param {!Object} 有效负载要编码的值名称对的映射。
*   一个值可以指定为一个数组，在这种情况下是一个查询参数
*   将为每个值创建，例如：
*   {"foo": [1,2]} 将编码为 "foo=1&foo=2"。

这正是正在发生的事情。那么，为什么不用查询来初始化你的 url？例如

```
var url = "http://myurl.php?" + goog.json.serialize({"name":"jessi","action":"initaction","gameId":"123"});
var jsonp = new goog.net.Jsonp(url);
jsonp.send() 
```

未经测试，但也许这有效。

问候，

雷内

# c# - 以编程方式使用 ssis 执行 sql 查询

> ID：11288939
> 
> 赞同：1
> 
> 时间：2012-07-02T06:49:57.367
> 
> 标签：c#, ssis, dts

我正在编写一个程序来生成在多个数据库上执行查询的 SSIS 包。我已经使用存储过程完成了任务，但是我不想使用它。我一直在与 Dts.runtime 斗争。我正在使用 C#。

我必须直接从程序中读取查询并执行它，可能使用 ExecuteSQLTask.Execute 方法。我完全被卡住了，或者可能是我一起在错误的方向思考。

请给我一些关于这个问题的见解。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-06T15:43:12.690

需要明确的是， Dts.Runtime 中*唯一*的执行方法是在包级别。您不需要调用 ExecuteSQLTask.Execute （顺便说一句，没有这样的事情）或 C# 中的任何内容。

只需构建你的包的可执行文件，然后执行包（或保存它或任何你想用它做的事情）。提示：使用 ExecuteSQLTask 的 SqlCommand 属性从你的程序中设置你的命令查询。

您可能还想研究[EzApi](http://sqlsrvintegrationsrv.codeplex.com/releases/view/21238)，它使在 C# 中以编程方式构建包变得更加容易。

# vb.net - WP7，从推特上得到奇怪的回应

> ID：11288941
> 
> 赞同：0
> 
> 时间：2012-07-02T06:50:02.333
> 
> 标签：vb.net, windows-mobile, twitter, hammock

我正在使用吊床推特库发布并从推特获取朋友列表。以前它工作正常。但现在只有 request_token 部分在工作。在尝试获取访问令牌和用户 ID 时，屏幕名称得到“OK”服务器响应。但结果看起来像这样：

> ���Dͻ�0@�as�"Ё��&b�������������8���h9�v�r<{g�/�XR>�e��.>~�rH�5�Z� �_�~�+Kn9��)��£��sU��)��������|�TV6!�B��2(����֚V`�!��@4�� � ���?d�</p>

我不知道为什么我会得到这个.. :(

下面是我的代码

```
Public Sub GetRequestToken(Consumer_KEY As String, Consumer_Secret_Key As String)
    Dim credentials = New OAuthCredentials
    credentials.Type = OAuthType.RequestToken
    credentials.SignatureMethod = OAuthSignatureMethod.HmacSha1
    credentials.ParameterHandling = OAuthParameterHandling.HttpAuthorizationHeader
    credentials.ConsumerKey = TwitterSettings.ConsumerKey
    credentials.ConsumerSecret = TwitterSettings.ConsumerKeySecret
    credentials.Version = TwitterSettings.OAuthVersion
    credentials.CallbackUrl = "oob"

    Dim client = New RestClient
    client.Authority = "https://api.twitter.com/oauth"
    client.Credentials = credentials
    client.HasElevatedPermissions = True

    Dim request = New RestRequest
    request.Path = "/request_token"

    client.BeginRequest(request, New RestCallback(AddressOf TwitterRequestTokenCompleted))
End Sub

Public Sub TwitterRequestTokenCompleted(request As RestRequest, response As RestResponse, userstate As Object)
    result = Regex.Split(response.Content, "&")
    oauth_token = Regex.Split(result(0), "=")(1)
    oauth_secret_token = Regex.Split(result(1), "=")(1)
    request_url = TwitterSettings.AuthorizeUri + "?oauth_token=" + oauth_token
    case_url = "request"
    Deployment.Current.Dispatcher.BeginInvoke(getresult)
End Sub 
```

解析`oob`pin 后，我请求访问令牌：

```
Public Sub GetAccessToken(Verifier As String)
    Dim credentials = New OAuthCredentials
    credentials.Type = OAuthType.AccessToken
    credentials.SignatureMethod = OAuthSignatureMethod.HmacSha1
    credentials.ParameterHandling = OAuthParameterHandling.HttpAuthorizationHeader
    credentials.ConsumerKey = TwitterSettings.ConsumerKey
    credentials.ConsumerSecret = TwitterSettings.ConsumerKeySecret
    credentials.Token = oauth_token
    credentials.TokenSecret = oauth_secret_token
    credentials.Verifier = Verifier

    Dim client = New RestClient
    client.Authority = "https://api.twitter.com/oauth"
    client.Credentials = credentials
    client.HasElevatedPermissions = True

    Dim request = New RestRequest
    request.Path = "/access_token"

    client.BeginRequest(request, New RestCallback(AddressOf RequestAccessTokenCompleted)) 
```

以前有人遇到过吗？我需要这个尽快..只是困惑这是怎么突然发生的。在此先感谢极客；）

# ruby-on-rails - Rails 中按模型序列化的列仅在刷新后才能正常工作

> ID：11288944
> 
> 赞同：0
> 
> 时间：2012-07-02T06:50:16.243
> 
> 标签：ruby-on-rails, ruby, serialization, model, refresh

在我的模型中，我有：

```
class Log < ActiveRecord::Base
serialize :data

...

def self.recover(table_name, row_id)
    d = Log.where(table_name: table_name, row_id: row_id).where("log_type != #{symbol_to_constant(:delete)}").last
    row = d.data

    raise "Nothing to recover" if d.nil?
    raise "No data to recover" if d.data.nil?

    c = const_get(table_name)
    ret = c.create(row.attributes)

end 
```

在我的控制器中，我将其称为：

```
def index
    Log.recover params[:t], params[:r]
    redirect_to request.referer
end 
```

问题是，如果我第一次访问此页面，我会收到下面指定的错误，但刷新后一切正常。哪里可能有问题？

```
undefined method `attributes' for #<String:0x00000004326fc8> 
```

在数据列中保存了模型的实例。第一次列没有正确反序列化，它只是 yaml 文本。但刷新后一切正常。这很混乱，有什么问题吗？铁轨中的错误？

不是每次，有时在第一次访问时一切都很好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T07:12:31.890

如果没有 Foo 类，对 Foo 类的对象进行 Deyamlize 会做一些有趣的事情。这在开发中很容易发生，因为类只在需要时加载，而在 rails 认为它​​们可能已更改时卸载。

根据是否加载了类，YAML 加载会产生不同的结果（YAML 不知道 rail 的自动加载内容）

值得考虑的一种解决方案是存储属性散列而不是活动记录对象。从长远来看，您可能会避免出现问题，并且在长期错误中它会更节省空间 - 在这种情况下您可能不关心的 activerecord 对象中有一堆状态。

如果这不是一个选项，您最好的选择可能是确保加载序列化列可能包含的类 - 仍然是`require_dependency 'foo'`文件顶部的一些调用。

# iphone - 是否可以在特定间隔内移动视图以及按钮操作

> ID：11288952
> 
> 赞同：1
> 
> 时间：2012-07-02T06:50:49.973
> 
> 标签：iphone, ipad, uiwebview, timer

我正在为 iPhone 和 iPad 开发一个应用程序。在这里，我想以（0.5）时间间隔在 uiwebview 中加载一个 url。完成网页视图的加载后，我想导航到下一个视图。我已经通过将导航编码添加到 [webViewDidFinishLoad:] 来实现这一点，它工作正常。现在，我的客户需要在视图中添加一个按钮来导航，如果用户不感兴趣在 web 视图中停留 (0.5 ) 秒。

*   我应该在延迟后使用单独的（选择器:) 动作：0.5 和圆形矩形按钮吗？

    ```
     if it so, how can i implement this,
     I googled it, but could not find the solution. Any help appreciated. Thanks. 
    ```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T06:42:29.893

非常感谢您的回复。在这里，我实现了“NSTimer”概念，而不是使用“PerformSelector:afterDelay”。这是代码，

```
timer = [NSTimer scheduledTimerWithTimeInterval: 5.0
                                             target: self
                                           selector: @selector(goToNextView)
                                           userInfo: nil
                                            repeats: NO];  
    // here i have set the time interval of '5.0' and after that taking into next view.

-(void)goToNextView

{
     newtest15 *nt=[[newtest15 alloc]init];

     [self.navigationController pushViewController:nt animated:YES];
  } 
```

我在工具栏上有一个按钮，它也用于导航到下一个视图。

```
-(IBAction)btn:(id)sender{

if ( [timer isValid]) 

{
            [timer invalidate], timer=nil;

        }

    newtest15 *nt=[[newtest15 alloc]init];
     [self.navigationController pushViewController:nt animated:YES];

}

/* here, when the user wants to move to next view before the time interval of '5', and presses the button at the bottom, this action will be performed, it will invalidate the timer and navigate to the next view*/ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T06:55:51.237

您可以在 viewdidload 方法中实现 performSelector: withObject: afterDelay: 0.5 sec。然后定义一个显示警报消息按钮的方法留在外面或离开页面。然后在警报视图按钮上进行一些编码

# python - MAX/MSP 中的 OSC 地址

> ID：11288956
> 
> 赞同：0
> 
> 时间：2012-07-02T06:51:05.383
> 
> 标签：python, arduino, xbee, osc, max-msp-jitter

谁能帮我解决路由 OSC 消息的问题？我正在使用 Python、MAX/MSP 和 OSC 在 Arduino Xbees 之间进行通信。

希望外面有人！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-07-14T09:45:53.317

在 python 上，安装 pyosc。包中有示例文件。

在 maxmsp 上，使用 udpsend 或 udpreceive。记住要匹配 IP 和端口号。

没有具体细节，很难以更准确的方式回答您的问题。但希望这会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T17:45:47.027

你看过[XBee 互联网网关](http://code.google.com/p/xig/ "西格")吗？它基于 Python，在 Mac/Windows/Linux 上运行，并通过 XBee 模块与其他 XBee 模块进行通信。

根据[用户文档](http://code.google.com/p/xig/wiki/UserDocumentation)的 C 部分：

> 由 Axel Roest 提供的 Open Sound Control 会话允许 XBees 将 Open Sound Control 事件多播到在远程 Open Sound Control 服务器上运行的一组目标。Open Sound Control 服务器的配置在 XIG 配置文件的“osc_targets”部分中指定（请参阅下面的 CONFIGURATION 部分）。

# netty - 如何阻止netty在服务器套接字上侦听和接受

> ID：11288957
> 
> 赞同：6
> 
> 时间：2012-07-02T06:51:25.740
> 
> 标签：netty

有没有办法告诉 netty 停止侦听和接受套接字上的新连接，但要完成当前连接上的任何正在进行的工作？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-02T06:57:48.980

您可以关闭`ServerSocketChannel`由`ChannelFactory`. 通常，`ServerSocketChannel`由`ServerBootstrap.bind()`.

# hibernate - HQL查询jasper报告

> ID：11288959
> 
> 赞同：0
> 
> 时间：2012-07-02T06:51:36.443
> 
> 标签：hibernate

我已经在休眠中使用 Criteria 进行了查询，它工作正常。

代码：

```
 List<HmsInventoryStockDetail> stockList = null;
                Criteria crt = session.createCriteria(HmsInventoryStockDetail.class);
                crt.createAlias("itemMaster", "item");
                if (!itemName.equals("")) {
                    crt.add(Restrictions.eq("item.itemName", itemName));

                }
                if (!itemType.equals("")) {
                    crt.add(Restrictions.eq("item.itemTypeMaster.itemType", itemType));
                }
                if (!manufacturerName.equals("")) {
                    crt.add(Restrictions.eq("item.manufacturerMaster.manufacturerName", manufacturerName));
                }
                if (!batchNumber.equals("")) {
                    crt.add(Restrictions.eq("batchNumber", batchNumber));
                }
                if (!rackNo.equals("")) {

                    crt.add(Restrictions.eq("item.rackMaster.rackNo", rackNo));
                }
                if (expiryDate != null) {
                    crt.add(Restrictions.le("expiryDate", expiryDate));
                }
                stockList = crt.list(); 
```

但我需要此声明的并行 Hql 查询。谢谢

# c# - 使用 C# 的多重继承

> ID：11288960
> 
> 赞同：0
> 
> 时间：2012-07-02T06:51:38.847
> 
> 标签：c#, asp.net

> **可能重复：**
> [c#多重继承](https://stackoverflow.com/questions/2256990/c-sharp-multiple-inheritance)

我只是使用 Asp.net 创建一个简单的应用程序，这里我有 3 个类`User, Staff, Student`。在`User`类中，我有类似`UserName, Password, Email and Mobile`和 在`Staff and Student`类中的属性`General details like FirstName, MiddleName, LastName as well as Email, Mobile`。

每当我添加新的员工或学生时，我都必须为他们创建一个用户帐户。

所以在 User 类中，我尝试继承 Staff 类，这样我就可以从 Staff 访问 User 类中的属性。

成功添加员工数据后，我需要`Add`在用户类中调用（我已经有这个）方法，该方法将为员工创建一个包含他的数据的用户帐户。

还有一件事，我知道C#不支持多重继承，这里我需要继承Staff和Student类。我怎样才能做到这一点。

有人能帮我一下吗。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-02T07:04:44.337

好的，很高兴看到这么多来自人们的帖子，这些帖子都证明了他们为什么应该阅读一本关于 OO 的书。

这里不涉及继承——这是一个经典的例子，继承是一种反模式。

相反，您应该有一个基于角色的模型。

用户（或实体）有一个角色集合。角色是/可以是：员工、学生和其他任何人。

这允许角色有时间限制，但也允许角色中的变化（后来被雇用的学生）。它允许将所有相关信息附加到角色类，而不是占用用户类上的空间。

这并非如此罕见 - Windows 文件系统等元素具有 10 多年的基于角色的安全性。使用继承来解决这个问题（并打开十几个新问题）是一种经典的反模式，因为它只是错误的方法。

唯一更糟糕的是，您将 User 作为子类，而不是基类，但同样：这根本不是继承的情况。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-02T06:55:27.550

你的“继承”是倒退的——需要扩展，`Staff`而不是相反。`Student``User`

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-02T06:55:41.370

您是说，每当您添加新的*Staff*或*Student*时，都必须创建一个用户帐户。那么，为什么不让*员工*和*学生*成为用户而不是反过来呢？即让*Staff*和*Student*继承自*User*。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-07-02T06:58:34.317

正如其他人指出的那样，您可以向后继承。

结构应如下所示：

```
class User
{
    // User members
}

class Staff : User
{ 
    //Staff members, User members inherited
}

class Student : User
{
    // Student members, User members inherited
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-02T07:01:54.970

```
public abstract class User
{
    public string Username{get;set;}
    public string Password{get;set;}
    public string Email{get;set;}
    public string Mobile{get;set;}
    public string FirstName { get; set; }
    public string LastName { get; set; }
}
public class Student : User
{
    //other properties and methods
}
public class Staff : User
{
    //other properties and methods
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-07-02T06:58:26.950

你想要做的事情是使用两个接口。但他们是对的，您的员工和学生应该从用户继承，因为他们都是用户。

# objective-c - Xcode 无法识别来自其 他类的任何其他视图控制器

> ID：11288961
> 
> 赞同：0
> 
> 时间：2012-07-02T06:51:40.707
> 
> 标签：objective-c, ios, xcode

我认为某些东西可能导致 Xcode 开始表现得很奇怪。在我的许多 .h 文件中，我对不同的类有不同的视图控制器对象。突然之间，Xcode 现在给了我一个错误，几乎所有人都说它不识别“thisViewController”。错误类似于“无法识别thisViewcontroller，您的意思是UISplitViewController”。

有谁知道为什么会发生这种情况？我知道代码是正确的（以前工作过），我认为在这里重新发布大部分/全部是没有意义的

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-02T08:43:03.200

您正在寻找“导入周期”，这意味着两个类之间的相互依赖。如果 A 类有“#import ClassB.h”，那么 B 类不能有“#import ClassA.h”。

# java - Sun Java 未加载 UnixPrincipal (Ubuntu 12)

> ID：11288964
> 
> 赞同：1
> 
> 时间：2012-07-02T06:51:51.310
> 
> 标签：java, classloader

我在使用 sun java 和 ubuntu 时遇到了这个非常奇怪的错误。

> “java.lang.ClassNotFoundException：com.sun.security.auth.UnixPrincipal”

这个类似乎是一个特定于 sun 的类，我在 ubuntu 12.04 上有一个新的、工作版本的 sun java 1.6。我已经确认我的 java 版本是用于类运行的正确版本，事实上，其他版本（如 openjdk）没有干扰。

这是我的规格：

> $ java -version java version "1.6.0_33" Java(TM) SE Runtime Environment (build 1.6.0_33-b03) Java HotSpot(TM) 64-Bit Server VM (build 20.8-b03, mixed mode)
> 
> $ lsb_release -a 没有可用的 LSB 模块。发行商 ID：
> Ubuntu 描述：Ubuntu 12.04 LTS 版本：12.04 代号：
> 精确

错误 ：

> home/vagrant/Development/workspace/xxxxx/build.xml:222: java.lang.NoClassDefFoundError: com/sun/security/auth/UnixPrincipal at org.apache.hadoop.security.UserGroupInformation.(UserGroupInformation.java:246) at org.apache.hadoop.fs.FileSystem$Cache$Key.(FileSystem.java:1436) 在 org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:1337) 在 org.apache.hadoop.fs .FileSystem.get(FileSystem.java:244) at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:122) ... 由：java.lang.ClassNotFoundException：com.sun.security.auth。 UnixPrincipal 在 org.apache.tools.ant.AntClassLoader.findClassInComponents(AntClassLoader.java:1361) 在 org.apache.tools.ant.AntClassLoader.findClass(AntClassLoader.java:1311) 在 org.apache.tools.ant.AntClassLoader。 java.lang 中的 loadClass(AntClassLoader.java:1070)。ClassLoader.loadClass(ClassLoader.java:247) ... 还有 38 个

“首先，我认为这只是意味着该课程不在我的太阳装置中”

但以下内容：

> 解压-l /usr/lib/jvm/java-6-sun/jre/lib/rt.jar | grep UnixPrincipal

透露：

> 1272 2012-05-09 10:19 com/sun/security/auth/UnixPrincipal.class

而且，通过检查 System.getProperties()，我发现：

> java.ext.dirs=....usr/lib/jvm/java-6-sun-1.6.0.33/jre/lib/rt.jar .....

因此表明这个类在一个 jar 中，它肯定在我的 java 的运行时版本中！

因此，不知何故，java 运行时无法加载此类。我想知道为什么 ？

一个小提示：我通过 ant 1.8 运行它。但是，我认为这不会产生任何影响，因为我相信 Ant 类加载器是相对稳定的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T03:01:53.213

你现在可能已经解决了这个问题，但这是我最近遇到的同样问题：

Sun java 和 gcj 都安装了。以交互方式运行给了我 Sun java 并且`UnixPrincipal`类正确加载。以非交互方式运行 ( `service myservice start`) 将无法正确设置`JAVA_HOME`，系统将使用 gcj 代替并且`UnixPrincipal`无法加载。`JAVA_HOME`在我的服务脚本中明确设置解决了这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-12T21:25:20.680

我在尝试使用[ant](https://ant.apache.org)运行 Solr 时遇到了这个问题。虽然我已经`JAVA_HOME`设置了 Oracle JDK8，但我相信`ant`可能已经在我的 Ubuntu 15.10 计算机上找到了 openjdk 安装。

问题的解决方案是`fork="true"`在任务中包含选项`<java>`：

```
<java fork="true" classname="com.mycompany.MyMainClassName"> 
```

通过包含该选项，它使用正确找到我的 Oracle JDK`fork="true"`的命令创建了第二个 JVM 。`java`如果您不包含该`fork="true"` 选项，则用户程序将在使用的同一 JVM 中运行`ant`（可能不是您想要的 JDK）。

作为参考，完整的错误堆栈跟踪是：

```
 [java] java.lang.NoClassDefFoundError: com/sun/security/auth/UnixPrincipal
     [java]     at org.apache.tools.ant.taskdefs.ExecuteJava.execute(ExecuteJava.java:195)
     [java]     at org.apache.tools.ant.taskdefs.Java.run(Java.java:772)
     [java]     at org.apache.tools.ant.taskdefs.Java.executeJava(Java.java:222)
     [java]     at org.apache.tools.ant.taskdefs.Java.executeJava(Java.java:136)
     [java]     at org.apache.tools.ant.taskdefs.Java.execute(Java.java:109)
     [java]     at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:293)
     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
     [java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
     [java]     at java.lang.reflect.Method.invoke(Method.java:497)
     [java]     at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
     [java]     at org.apache.tools.ant.Task.perform(Task.java:348)
     [java]     at org.apache.tools.ant.Target.execute(Target.java:435)
     [java]     at org.apache.tools.ant.Target.performTasks(Target.java:456)
     [java]     at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1405)
     [java]     at org.apache.tools.ant.Project.executeTarget(Project.java:1376)
     [java]     at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)
     [java]     at org.apache.tools.ant.Project.executeTargets(Project.java:1260)
     [java]     at org.apache.tools.ant.Main.runBuild(Main.java:853)
     [java]     at org.apache.tools.ant.Main.startAnt(Main.java:235)
     [java]     at org.apache.tools.ant.launch.Launcher.run(Launcher.java:285)
     [java]     at org.apache.tools.ant.launch.Launcher.main(Launcher.java:112)
     [java] Caused by: java.lang.NoClassDefFoundError: com/sun/security/auth/UnixPrincipal
     [java]     at org.apache.hadoop.security.UserGroupInformation.<clinit>(UserGroupInformation.java:336)
     [java]     at org.apache.hadoop.fs.FileSystem$Cache$Key.<init>(FileSystem.java:1765)
     [java]     at org.apache.hadoop.fs.FileSystem$Cache$Key.<init>(FileSystem.java:1758)
     [java]     at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:1626)
     [java]     at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:254)
     [java]     at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:123)
     [java]     at com.touchcommerce.engagementloader.EngagementLoader.getFileSystem(EngagementLoader.java:342)
     [java]     at com.touchcommerce.engagementloader.EngagementLoader.load(EngagementLoader.java:364)
     [java]     at com.touchcommerce.engagementloader.EngagementLoader.main(EngagementLoader.java:454)
     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
     [java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
     [java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
     [java]     at java.lang.reflect.Method.invoke(Method.java:497)
     [java]     at org.apache.tools.ant.taskdefs.ExecuteJava.run(ExecuteJava.java:218)
     [java]     at org.apache.tools.ant.taskdefs.ExecuteJava.execute(ExecuteJava.java:153)
     [java]     ... 21 more
     [java] Caused by: java.lang.ClassNotFoundException: com.sun.security.auth.UnixPrincipal
     [java]     at org.apache.tools.ant.AntClassLoader.findClassInComponents(AntClassLoader.java:1388)
     [java]     at org.apache.tools.ant.AntClassLoader.findClass(AntClassLoader.java:1337)
     [java]     at org.apache.tools.ant.AntClassLoader.loadClass(AntClassLoader.java:1095)
     [java]     at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
     [java]     ... 36 more
     [java] Java Result: -1 
```

# javascript - Javascript 中的剃刀语法

> ID：11288967
> 
> 赞同：0
> 
> 时间：2012-07-02T06:52:09.610
> 
> 标签：javascript, razor

我正在尝试从 .NET MVC 4 中的 Json 对象中提取数据。

这是我的剃刀视图的代码片段：

```
var data = (function($)
           {
            var dataModel = @(new HtmlString(new 
             System.Web.Script.Serialization.JavaScriptSerializer()
              .Serialize(Model))); 
```

由于 javascript 代码中的“@”符号，这不会运行。

如何解决此问题，以便 razor 切换回 .NET 托管模式？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T07:08:54.343

像这样：

```
<script type="text/javascript">
    var data = @Html.Raw(Json.Encode(Model));
    ...
</script> 
```

# ruby-on-rails - 在 rails 2.3.2 中调用 associated_model.create() 后未创建对象

> ID：11288968
> 
> 赞同：0
> 
> 时间：2012-07-02T06:52:44.010
> 
> 标签：ruby-on-rails, ruby, activerecord, associations

我一直坚持一件看似简单的事情，但已经两天了，我无法弄清楚我错过了什么，我确信这是一件小事。

我的系统有`registrations`一个`registration` `has_many registration_transactions`.

首先创建一个注册，`incomplete`然后有一个`checkout`并且注册处于`pending`状态。在该`checkout`方法中，`registration_transaction`应该创建 a 。

registration 和registration_tranasction 都有一个字段`payment_method`，如果payment_method 是`Credit Card`并且`transaction_type`是，`payment`那么另一个registration_transaction 为相同的注册创建transaction_type 是`Fee`

这是执行所有这些操作的代码：

```
if !self.valid?
    errors.add_to_base("Error encountered processing transaction: Invalid Registration Data Entered.")
  else
    #if self.registration_transactions.empty?
      registration_transactions.create(
        :transaction_type   => 'Fee',
        :payment_method_id  => self.payment_method_id,
        :amount             => event_registration_type_membership.price,
        :notes              => "#{event.code} - #{event_registration_type_membership.event_registration_type.name} Registration Fee",
        :ip_address         => self.ip_address,
        :status             => 'Processed',
        :date_1             => Date.current)
    #end

    if payment_method.name.eql? 'Credit Card'
      payment = registration_transactions.find_by_notes("#{event.code} - #{event_registration_type_membership.event_registration_type.name} Registration Fee Initial Payment")
      #Commented the line below and changed status to 'Processed'.
      #Client wanted to process a transaction automatically when a user registers for an event and pays through CC
      #payment = registration_transactions.build(:status => 'Draft') if payment.nil?
      payment = registration_transactions.build(:status => 'Processed') if payment.nil?

      payment.update_attributes(
        :transaction_type             => 'Payment',
        :payment_method_id            => self.payment_method_id,
        :amount                       => event_registration_type_membership.price,
        :notes                        => "#{event.code} - #{event_registration_type_membership.event_registration_type.name} Registration Fee Initial Payment",
        :credit_card_number           => self.credit_card_number,
        :credit_card_security_code    => self.credit_card_security_code,
        :ip_address                   => self.ip_address,
        #:status                      => 'Draft', changed status to processed
        :status                       => 'Processed',

        :credit_card_type_id          => self.credit_card_type_id,
        :credit_card_expiration_date  => self.credit_card_expiration_date,
        :billing_city                 => self.transaction.billing_city,
        :billing_state                => self.transaction.billing_state,
        :billing_postal_code          => self.transaction.billing_postal_code,
        :billing_country              => self.transaction.billing_country,
        :billing_first_name           => self.billing_first_name,
        :billing_last_name            => self.billing_last_name,
        :billing_address_1            => self.transaction.billing_address_1,
        :date_1                       => Date.current)

      result = payment.process(self.ip_address,false)
      logger.info "GCS - attempted to process payment via authorize.net, RESULT=" + result.to_s
      logger.info "GCS - messages from authorize net=" + payment.errors.full_messages.to_s

      logger.info "GCS - result: #{result.inspect}"
      logger.info "GCS - payment: #{payment.inspect}"
      logger.info "GCS - payment.errors: #{payment.errors.full_messages}"
      self.save!

      errors.add_to_base(payment.errors.full_messages) if !result

    else #check payment
      result = true
    end
  end 
```

问题是，当我在运行时放置检查点并签入时，`registration_transactions`会有两笔交易，一笔用于费用，另一笔用于付款，就像期望的那样。但是当注册完成并且我查看数据库时，只有支付交易。不知何故，费用交易没有得到保存。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T13:12:27.417

此行在保存之前不会保存构建关联模型。

```
registration_transactions.build(:status => 'Processed') 
```

然后，

```
payment.update_attributes(...) 
```

它更新数据库中的现有记录。您需要使用所有属性构建关联记录，然后保存。

# node.js - MongoDB Node.js 地理定位

> ID：11288969
> 
> 赞同：1
> 
> 时间：2012-07-02T06:52:52.720
> 
> 标签：node.js, mongodb

我想知道是否有任何示例包含基本地理位置输入和特定区域内给定输入的数据库检索，最好是用户的当前位置。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-02T15:34:03.657

以下是 MongoDB 中地理空间查询的快速概述：

1.  您必须通过 2D 数组在您的收藏中插入位置信息

    ```
    db.example.insert( {"location": [x,y], "category": "restaurant"}) 
    ```

2.  通过使用“2d”选项指示位置字段，在集合上设置地理空间索引。

    ```
    db.example.ensureIndex( { "location" : "2d" } ) 
    ```

    现在该集合将有一个索引，所有地理空间查询都将针对该索引进行。

3.  要查询某个点附近的位置（即用户的当前位置），请使用 find() 命令和`$near`位置字段上的操作数给出点坐标（即 100、100）。

    ```
    db.example.find( { "location": { $near : [100, 100] } } ) 
    ```

4.  要查找用户当前位置，您需要更高级别的应用程序支持来获取用户的当前信息。

了解更多信息：

*   MongoDB 文档： [http ://www.mongodb.org/display/DOCS/Geospatial+Indexing](http://www.mongodb.org/display/DOCS/Geospatial+Indexing)

*   `$near`运营商： http : [//docs.mongodb.org/manual/reference/operators/#_S_near](http://docs.mongodb.org/manual/reference/operators/#_S_near)

# html - 将 p 标签垂直对齐到中间

> ID：11288976
> 
> 赞同：2
> 
> 时间：2012-07-02T06:53:30.060
> 
> 标签：html, css, paragraph

我需要将 p 标签内的文本垂直居中对齐。由于我已经为 p 标签指定了高度，因此单行文本垂直对齐到 p 标签的顶部，但是当有 2 行描述时，它是完美的。

高度 30px 应该保持不变。我将内容结束为 2 行，因此高度应该相同。

这是演示 [http://jsfiddle.net/ydFy5/1/](http://jsfiddle.net/ydFy5/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T07:02:02.450

试试这个

```
p.event_desc{
    background: rgba(0,0,0,0.76);
    padding:10px 5px;
    position:absolute;
    top: 0px;
    color: #ffffff;
    font: bold 12px "Helvetica Neue", Helvetica, Arial, sans-serif;
    line-height: 16px;
    margin: 0 4px 0 0; 
    width:93%; 
} 
```

[**更新了小提琴。**](http://jsfiddle.net/ydFy5/7/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T07:02:41.417

我认为您可以定义**行高**，这将适用于您的演示。

当我在您的代码中实现 line-height 时，您的示例也可以正常工作。

```
p.event_desc{
    background: rgba(0,0,0,0.76);
    padding:4px;
    top: 0px;
    color: #ffffff;
    font: bold 12px "Helvetica Neue", Helvetica, Arial, sans-serif;
    line-height: 30px;
    margin: 0 4px 0 0; width:93%; height:30px;
} 
```

[http://jsfiddle.net/ydFy5/8/](http://jsfiddle.net/ydFy5/8/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T07:03:00.633

嘿，现在你可以定义**line-height:30px**

像这样

```
p.event_desc{
    background: rgba(0,0,0,0.76);
    padding:4px;
    position:absolute;
    top: 0px;
    color: #ffffff;
    font: bold 12px "Helvetica Neue", Helvetica, Arial, sans-serif;
    line-height: 30px;
    margin: 0 4px 0 0; width:93%; height:30px;
} 
```

现场演示[http://jsfiddle.net/ydFy5/10/](http://jsfiddle.net/ydFy5/10/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-02T07:05:04.540

您可以将一个空的 img 放入`p`标签中，例如：

```
<img style="height:38px;" align="middle"/> 
```

（图像的高度是高度加上你的边距`p`）

[jsFiddle 更新](http://jsfiddle.net/ydFy5/11/)

# c++ - Netbeans 无法识别 igraph 函数

> ID：11288977
> 
> 赞同：0
> 
> 时间：2012-07-02T06:53:34.760
> 
> 标签：c++, c, netbeans, build, igraph

目前我正在尝试使用 igraph 库（可在此处找到：http: [//igraph.sourceforge.net/doc/html/ch03s01.html](http://igraph.sourceforge.net/doc/html/ch03s01.html)）在 c++ 中编译一个非常基本的程序，但它无法识别创建和销毁图形的函数。

我已经指定了 igraph.h 所在的路径，它可以很好地识别头文件，但是当我尝试构建它时（使用 Netbean 生成的 makefile），我得到以下信息：

```
"/usr/bin/make" -f nbproject/Makefile-Debug.mk QMAKE= SUBPROJECTS= .build-conf
"/usr/bin/make"  -f nbproject/Makefile-Debug.mk dist/Debug/GNU-MacOSX/igraphtest
mkdir -p build/Debug/GNU-MacOSX
rm -f build/Debug/GNU-MacOSX/main.o.d
g++    -c -g -I/usr/local/include/igraph -I/usr/local/lib -MMD -MP -MF build/Debug/GNU-                 MacOSX/main.o.d -o build/Debug/GNU-MacOSX/main.o main.cpp
mkdir -p dist/Debug/GNU-MacOSX
g++     -o dist/Debug/GNU-MacOSX/igraphtest build/Debug/GNU-MacOSX/main.o  
Undefined symbols:
  "_igraph_erdos_renyi_game", referenced from:
      _main in main.o
  "_igraph_destroy", referenced from:
      _main in main.o
  "_igraph_diameter", referenced from:
      _main in main.o
ld: symbol(s) not found
collect2: ld returned 1 exit status
make[2]: *** [dist/Debug/GNU-MacOSX/igraphtest] Error 1
make[1]: *** [.build-conf] Error 2
make: *** [.build-impl] Error 2 
```

有谁知道这可能是什么原因造成的，我该如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T17:54:55.387

指定头文件的位置是不够的；您还必须将包含 igraph 库本身的目录（即文件`libigraph.so`或`libigraph.dylib`如果您在 Mac OS X 上）添加到库路径，并要求编译器通过添加`-ligraph`到命令行选项来链接到 igraph 库。我不知道如何在 Netbeans 中执行这些操作，但这些是您的编译器输出缺少的内容。

# c++ - 从 const char * 转换为 const std::string &

> ID：11288981
> 
> 赞同：7
> 
> 时间：2012-07-02T06:53:51.623
> 
> 标签：c++

我认为以下代码应该会产生错误：

```
#include <iostream>
#include <string>

static void pr(const std::string &aStr)
{
    std::cout << aStr << "\n";
}

int main(void)
{
    const char *a = "Hellu";

    pr(a);

    return 0;
} 
```

但 gcc 4.1.2 编译成功。

是不是 std::string 的构造函数挡住了路，创建了一个 std::string 的实例？

我认为不应该，因为引用只是变量的别名（在这种情况下，引用所指的 std::string 类型的变量不存在）。

有没有人解释为什么代码编译成功？

提前致谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-02T06:59:50.043

是的，给定一个对*常量*的引用，编译器可以/将合成一个临时（在这种情况下是 type `std::string`）并将引用绑定到该临时。

但是，如果引用不是对 const 对象，那将不起作用——只有对 const 的引用才能绑定到这样的临时对象（尽管至少广泛使用的编译器允许非常量引用绑定到引用以及）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-02T07:03:34.087

你遇到的是隐式转换。

这是来自 C++ 标准的引用 (SC22-N-4411.pdf)

> 1 类对象的类型转换可以由构造函数和转换函数指定。这些转换称为用户定义的转换，用于**隐式**类型转换（第 4 条）、初始化（8.5）和显式类型转换（5.4、5.2.9）。

所以编译器只是按预期工作并调用`std::string`你提到的构造函数。

# dom - Clojurescript DOM 接口

> ID：11288984
> 
> 赞同：6
> 
> 时间：2012-07-02T06:53:57.987
> 
> 标签：dom, clojure, clojurescript

是否有使 DOM 看起来像 Clojure 数据结构的 Clojurescript 库？我发现了一些像 Enfocus 这样的库，它们可以进行某些类型的 DOM 操作，但我想要的是能够像这样对待 DOM：

```
(get dom id) - returns element called id in dom
(get dom id create-fn) - return element if exists, otherwise creates it
(update-in dom [:body this that] update-fn) - set attribute on a DOM element 
(assoc parent-element id child-element) - associate child element with parent
(conj parent child) - append child element to parent element 
```

等等

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-02T14:48:32.910

Clojure 数据结构都是持久的，但在您的示例中，您似乎想要产生副作用（即，命中 DOM 以更改它）。

这是一种非常程序化/命令式的方法，因此可能值得退后一步，以更实用的方式重新表述问题。我个人的理念是将“视图视为数据”，并使用 Clojure 的持久数据结构对其进行建模，直到我需要渲染的最后一分钟。

你熟悉小嗝嗝吗？这个想法是使用纯向量和地图来表示 HTML 或 SVG DOM：

```
[:div {:with "attribute"} "and" [:span "children"]] 
```

您可以通过组合普通的旧 Clojure 函数来构建它。在 Clojure 中，您可以将其渲染为 HTML（使用原始的 Hiccup 库），但至少有两个 ClojureScript 库可以直接渲染到（可能存在的）DOM 结构中。 [Crate](https://github.com/ibdknox/crate)是 Hiccup 的一个封闭端口，[Singult](https://github.com/lynaghk/singult)具有一些额外的语义，例如受 D3.js 启发的数据绑定（Singult 实际上是用 CoffeeScript 编写的，因此它可以从纯 JavaScript 中使用，并且比 Crate 更快）。

我的[C2](https://github.com/lynaghk/c2)库在 Singult 之上构建数据绑定语义，以使 DOM 与底层数据保持同步。考虑这个 TODO 列表模板：

```
(bind! "#main"
        [:section#main {:style {:display (when (zero? (core/todo-count)) "none")}}
        [:input#toggle-all {:type "checkbox"
                            :properties {:checked (every? :completed? @core/!todos)}}]
        [:label {:for "toggle-all"} "Mark all as complete"]
        [:ul#todo-list (unify (case @core/!filter
                                :active    (remove :completed? @core/!todos)
                                :completed (filter :completed? @core/!todos)
                                ;;default to showing all events
                                @core/!todos)
                              todo*)]]) 
```

（取自[C2 TodoMVC 实现](https://github.com/lynaghk/c2-demos/blob/master/todoMVC/src/cljs/imtodo/list.cljs)）。诸如是否选中“全选”框之类的事情直接来自基础数据（存储在原子中）。每当该数据更改时，模板将重新运行并自动更新 dom。

基本思想是构建从应用程序数据到 Hiccup 数据结构的正向映射，然后让库负责同步 DOM（添加/删除子项、属性等）。如果您不必关心 DOM 的状态（是否已经添加？我需要切换一些类吗？），那么很多附带的复杂性就会消失。

# string - 错误 C2593: 'operator =' 在 vc6 项目中转换为 vc9 时不明确

> ID：11288990
> 
> 赞同：0
> 
> 时间：2012-07-02T06:54:39.957
> 
> 标签：string, visual-c++, ambiguous

在vc6中，代码

```
CString strData;
int count=3;    
strData = strData.Delete(0,count);//error 
```

完美执行，但在 vc9 中给出**错误 C2593: 'operator =' is ambiguous**

我可以只用吗

```
strData.Delete(0,count); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T06:57:32.270

`CString::Delete`返回一个`int`. 这可能不是您想要分配给`strData`. 只需省略`strData =`部分，无论如何`Delete`都会修改。`strData`

# android - 如何在不允许查看或克隆整个项目的情况下显示源代码中的更改

> ID：11288991
> 
> 赞同：0
> 
> 时间：2012-07-02T06:54:42.263
> 
> 标签：android, ios, git, mobile

我这里有一个稍微复杂的问题。我需要向客户展示我在源代码中所做的更改，例如 git 中的活动。但我不想让他们下载或克隆我的项目。

如果有人有任何想法，请提出一些建议。仅供参考，该项目是一个移动应用程序（Android 和 iPhone）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T07:34:24.537

当使用[ChiliProject](https://www.chiliproject.org)或[Redmine](http://www.redmine.org)作为您的 Git 托管平台时，您可以区分允许从 Web 界面查看整个 repo 并且通常还可以克隆它的“浏览存储库”权限，以及仅允许的“查看变更集”权限查看单个变更集（或本例中的提交），例如从问题或活动流中链接。

您还可以将这些工具简单地用作查看器，并继续在其他地方托管您的实际主存储库。

Git 本身不支持您的用例。因此，您可以使用上述解决方案（或其他可能具有类似功能的工具），也可以编写自己的工具来接受提交并以有意义的方式显示它们。

*免责声明：我是 ChiliProject 的核心开发人员之一。*

# jquery - jQuery scrollTop - Mozilla / Firefox 中不支持负值

> ID：11288993
> 
> 赞同：3
> 
> 时间：2012-07-02T06:54:52.640
> 
> 标签：jquery, firefox, scrolltop

只是想知道是否有人能够解决不支持负值的 Firefox / Mozilla `scrollTop`。

Chrome 和 Safari (WebKit) 似乎都能够允许用户滚动过去的页面内容并`scrollTop`在 jQuery 中使用时返回负值。尽管在 Firefox 上使用时无法滚动内容并接收负值`scrollTop`。

其他人还有相同的疑问么？

谢谢，大卫

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-01-20T11:51:22.887

由于 scrollTop 的默认行为在传递负值时滚动到 0，因此我执行了这个处理 scrollTop 并模拟“scrollDown”的函数。

如果*anchor_pos*是负数（所以它高于我当前的滚动位置），我从当前滚动位置减去它的值（因为它有一个负值，我使用 + 号）

```
function jumpToAnchor(scrollable_div_selector, anchor_selector)
{
    anchor_pos = $(anchor_selector).position().top;

    //check if negative value
    if (anchor_pos < 0)
    {
        anchor_pos = $(scrollable_div_selector).scrollTop() + anchor_pos; //anchor_pos is negative, so i'm substracting it
    }

    $(scrollable_div_selector).scrollTop(anchor_pos);
} 
```

# php - 使用 codeIgniter 和 php 发送消息

> ID：11288995
> 
> 赞同：-2
> 
> 时间：2012-07-02T06:55:16.097
> 
> 标签：php, api, codeigniter, curl, sendmessage

我正在使用webaroo api发送消息，我是这个领域的新手，请指导我如何使用这个api发送消息。这是api：-

```
<?php

$method = 'gupshup.getPublicStream';                     
$from = '9749633368';
$to = '9749633368';
$skipadult=true;

$url = "http://api.smsgupshup.com/GupshupAPI/rest?skipadult=$skipadult&from=$from
&range=$to&method=$method&v=1.0&format=xml";

$ch = curl_init($url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
$curl_scraped_page = curl_exec($ch);
curl_close($ch);

echo $curl_scraped_page;
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T07:31:41.390

我认为您正在尝试访问“HTTP”网址，只需使用**file_get_contents**方法

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T07:45:25.963

Codeigniter 已经有[CURL 库](http://philsturgeon.co.uk/code/codeigniter-curl)

例子 ：

```
$this->load->library('curl');
echo $this->curl->simple_get('http://api.smsgupshup.com/GupshupAPI/rest?skipadult=$skipadult&from=$from&range=$to&method=$method&v=1.0&format=xml'); 
```

看到这个：[http ://codeigniter.com/wiki/Curl_library/](http://codeigniter.com/wiki/Curl_library/)

# html - 如何更改打开的 Bootstrap 下拉切换的颜色？

> ID：11288998
> 
> 赞同：13
> 
> 时间：2012-07-02T06:55:28.830
> 
> 标签：html, css, twitter-bootstrap

打开下拉菜单时 - 我想更改它的默认颜色。我想使用 css 更改边框颜色和背景。

![在此处输入图像描述](../Images/6e2cb068dc6fd32201a912853b49bb37.png)

[http://i.imgur.com/w6WIN.png](https://i.imgur.com/w6WIN.png)

这是html代码：

```
<div class="row menu">
 <ul class="nav nav-pills pull-right">
  <li class="dropdown">
    <a href="#" class="dropdown-toggle"
       data-toggle="dropdown">
      My reports
      <span class="caret my-reports-caret"></span>
    </a>
    <ul class="dropdown-menu">
      <li><%= link_to "Performance", performance_reports_path %></li>
      <li class="divider"></li>
      <li><%= link_to "Account settings", '#' %></li>
    </ul>
  </li>
</ul>
</div> 
```

我的CSS，我试过：

```
.menu .nav-pills .dropdown .open .dropdown-toggle{
    background-color: red;
} 
```

我的选择器哪里有问题？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-05-17T06:11:32.497

如果您使用的是最新版本的 Bootstrap，请使用此类。

```
 .dropdown-toggle:active, .open .dropdown-toggle {
        background:#FFF !important; 
        color:#000 !important;
    } 
```

它解决了我的问题，也许它会帮助你。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-06-24T20:35:05.367

这也对我有用：

```
.dropdown-toggle[aria-expanded="true"] {
  background:#FFF !important;
  color:#000 !important;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-02T07:12:11.680

这是你的问题：

```
#original.menu .nav-pills .dropdown .open .dropdown-toggle {
    border: 1px solid blue;
}

#suggested.menu .nav-pills .dropdown .dropdown-toggle {
    border: 1px solid red;
} 
```

[http://jsfiddle.net/userdude/mjbN7/](http://jsfiddle.net/userdude/mjbN7/)

`.open`元素链中不存在。

这是您对边框的摆弄（同时具有 the`.open`和 no`border-style`或`border-width`to 样式）：

[http://jsfiddle.net/userdude/bdCMU/4/](http://jsfiddle.net/userdude/bdCMU/4/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-02T07:27:38.320

```
.nav-pills .open .dropdown-toggle, .nav > .open.active > a:hover {
    background-color:#222;
    border-color: #333;
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-08-28T11:54:24.303

这对我有用：

```
/*
* nav-pills
*/
.nav-pills 
{
    padding-top: 2px;
    padding-bottom: 2px;
    height:32px;
}
.nav-pills > li 
{
    height:32px;
}
.nav-pills > li > a 
{
    padding-top: 6px;
    color: white;
    background-color: #4e5664;
    height:32px;
}
.nav-pills > li > a:hover, 
.nav-pills > li.hover > a 
{
    color: white;
    background-color: #337ab7;
}
.nav-pills > li.active > a 
{
    color: white;
    background-color: #337ab7;
}

/*
* nav-pills dropdown 
*/
.nav.nav-pills > li.dropdown.active.open > a, 
.nav.nav-pills > li.dropdown.active.open > ul.dropdown-menu a:hover,
.nav.nav-pills > li.dropdown.open > a, 
.nav.nav-pills > li.dropdown.open > ul.dropdown-menu a:hover 
{
    color: white;
    background-color: #337ab7;
}
.nav.nav-pills > li.dropdown.active.open > a, 
.nav.nav-pills > li.dropdown.active.open > ul.dropdown-menu a:hover,
.nav.nav-pills > li.dropdown.open > a, 
.nav.nav-pills > li.dropdown.open > ul.dropdown-menu a:hover 
{
    color: white;
    background-color: #337ab7;
}

/*
* nav-pills dropdown-menu
*/
.nav-pills > li > ul.dropdown-menu 
{
    background-color: #4e5664;
}
.nav-pills > li > .dropdown-menu > li > a {
    color: white;

    background-color: #4e5664;
}
.nav-pills > li > dropdown-menu > li > a:hover, 
.nav-pills > li > dropdown-menu > li.hover > a 
{
    color: white;
    background-color: #337ab7;
}
.nav-pills > li  > dropdown-menu > li.active > a 
{
    color: white;
    background-color: #337ab7;
} 
```

示例： [http ://wp.rstecinfo.com.br/wp-content/uploads/2018/08/nav-pills.png](http://wp.rstecinfo.com.br/wp-content/uploads/2018/08/nav-pills.png)