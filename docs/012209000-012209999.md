# StackOverflow 问答 12209000-12209999

# java - 在 Struts2 中创建视图，通过 URL 获取另一个应用程序的视图

> ID：12209001
> 
> 赞同：0
> 
> 时间：2012-08-31T04:39:13.160
> 
> 标签：java, http, jakarta-ee, struts, httpurlconnection

我需要制作一个struts 2 应用程序。在此应用程序的一个视图中，我必须通过提供的 URL 获取另一个应用程序的视图，例如 (http://localhost:8080/hudson/)...

现在。1.如何与其他应用程序连接？（可以用 Apache HttpURLClient 完成吗？或任何其他方式请指导。）

2、如果可以用Apache HttpURLClient，那么如何在stuts2框架中渲染Response对象。

请帮忙。提前谢谢了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T17:04:05.797

我必须这样做，我正在使用 struts2，但我有一个 servlet。在 struts.xml 中，您必须使用 httpauarlconnection 或 httpclient (apache) 获取 url 的内容，并将其放在 servlet 响应中。

我有这个，但我对 html 的相对链接有问题，因为它试图用我的域名（使工作正常的 servlet 的名称）解析。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T18:54:45.430

您可以使用`java.net`包来解决问题。示例代码：

```
URL urlApi = new URL(requestUrl);
HttpURLConnection httpURLConnection = (HttpURLConnection) urlApi.openConnection();
httpURLConnection.setRequestMethod(<requestMethod>); // GET or POST
httpURLConnection.setDoOutput(true);
//in case HTTP POST method un-comment following to write request body
//DataOutputStream ds = new DataOutputStream(httpURLConnection.getOutputStream());
//ds.writeBytes(body);
InputStream content = (InputStream) httpURLConnection.getInputStream();
BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(content));
StringBuilder stringBuilder = new StringBuilder(100);
String line = null;
while ((line = bufferedReader.readLine()) != null) {
    stringBuilder.append(line);
}
String serverResult = stringBuilder.toString();
//now you have a string representation of the server result page
//do what you need 
```

希望这可以帮助

# excel - 将命名范围从一个工作表复制到另一个工作表的宏

> ID：12209005
> 
> 赞同：1
> 
> 时间：2012-08-31T04:39:40.600
> 
> 标签：excel, excel-2010, vba

我在一个工作表中有几个包含常量数据的命名范围。我有一个目标范围，其中一个命名范围将被复制到另一个工作表上。

将根据用户输入到其他单元格中选择将被复制的命名范围。我设法在单个单元格中创建了相关命名范围的名称。

我不能做的（因为我是一个 VBA 菜鸟，他认为他可以在不使用 VBA 的情况下完成所有这些工作！），是创建一个读取相关单元格的宏，然后将它读取的任何名称范围复制到目标范围.

任何帮助都非常谦卑和感激地接受。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T04:46:14.293

假设您的范围名称是`MyRange`

所以要复制你必须这样做的范围

```
Range("MyRange").Copy 
```

现在让我们假设 Cell A1 of`Sheet1`有单词`MyRange`。在这种情况下，您可以使用检索单元格 A1 的值`Range("A1").Value`

所以

```
Range("MyRange").Copy 
```

变成

```
Range(Range("A1").Value).Copy 
```

这是一个完整的例子。我假设您要复制到 Sheet2 的单元格 A1

```
Sub Sample()
    Dim wsI As Worksheet, wsO As Worksheet

    Set wsI = ThisWorkbook.Sheets("Sheet1")
    Set wsO = ThisWorkbook.Sheets("Sheet2")

    wsI.Range(wsI.Range("A1").Value).Copy wsO.Range("A1")
End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T04:55:19.377

我不确定这是否是您需要的，但是，例如，如果您只需要将 A1 单元格的内容从 sheet1 复制到 sheet2，只需执行以下操作：

```
Plan2.Cells(1, 1).Value = Plan1.Cells(1, 1).Value 
```

您也可以将代码封装到一个子中：

```
Sub copyvalues()
Plan2.Cells(1, 1).Value = Plan1.Cells(1, 1).Value
End Sub 
```

...最后，您必须插入一个按钮，使用 onclick() 事件来触发 sub（您必须将其分配到模块中）

对不起我的英语不好，希望对你有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-24T15:03:30.273

```
Public Function copyNamevalues(srcName As Name, destName As Name)
    srcName.RefersToRange.Cells.Copy (destName.RefersToRange.Cells)
End Function 
```

# asp.net-mvc-3 - 如何将 Id-date 组合从 MVC3 中的视图传递给控制器

> ID：12209006
> 
> 赞同：0
> 
> 时间：2012-08-31T04:39:45.327
> 
> 标签：asp.net-mvc-3, jquery

在我的 HTML 表格中，我有一个复选框、开始日期和结束日期

我已将复选框的 ID 设置为该记录/行的主键

单击复选框时，相应记录的结束日期文本框将绑定到日期选择器，通过该选择器可以更改日期

我可以在最后对我的表中的多条记录执行此操作我有一个按钮，单击它我想将此选定的行 ID 及其编辑的结束日期值发送到控制器

通过我的代码，我能够做到这一点，但问题是只有最后更新的值被发送到控制器，而不是所有的值

这是我的代码：

```
 <div class="cell" style="width:auto;"> 
  <input type="checkbox" name="chkbox" class="a"   value="" data-id="@item.ID" onclick="checkbox1(@item.ID)"/> 
 </div> 
 <div class="cell" style="width:auto;">
  @Html.DisplayFor(modelItem => item.StartDate,  new { id = "strtDate" })
 </div>               
 <div class="cell" id="edit2-@item.ID" style="width:auto;">
  @Html.DisplayFor(modelItem => item.EndDate, new { id = "endDate" })
 </div>
 <div class="cell" id="edit1-@item.ID" style="width:auto; display:none;">
  @Html.TextBox("Enddate", item.EndDate, new { @class = "date", id = "date-" + @item.ID })
</div> 
```

我隐藏 div edit2-@itemID 并在单击复选框时显示 edit1-@itemID 并将 datepicker 绑定到它

```
 function checkbox1(index) {
    var divname =index;
    $("#edit1-" + divname).toggle();
    $("#edit2-" + divname).toggle();
    $("#date-" + divname).datepicker({ yearRange: "-0:+13",
        changeMonth: true,
        changeYear: true,
        dateFormat: 'dd-mm-yy',
        onSelect: function (dateText, inst) {
            var test = dateText + "," + divname;
            alert(test);
            $(".a:checked").attr('data-id', test);
        }
    });
} 
```

我试图将复选框的 id 设置为“id-newenddate”的组合，但它将最近日期分配给所有选定的复选框。

以下是点击了 wen 按钮的代码

$("#button1").click(function () {

```
 var selected = $(".a:checked").map(function () {
        return $(this).data('id');
    }).get();
    var urlDistricts = '@Url.Action("EditExhi")';
    $.ajax({
        type: "POST",
        datatype: 'integer',
        url: urlDistricts,
        traditional: true,
        data: { listofid: selected},
        success: function (result) {

        }
    }); 
```

在控制器中：

```
 [HttpPost]
    public ActionResult EditExhi(List<int> listofid)
    {

    } 
```

如何解决此问题并将 id-date 组合发送到控制器？

请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T07:23:07.277

您需要能够将复选框与项目匹配：

向视图模型添加索引：

```
public class YourViewModel
{
    public int Index {get;set;}
    public IEnumerable<YourItemType> Items {get; set; }

    // other fields
} 
```

并在视图中使用它：

```
 @foreach(var item in Model.Items)
 {
    <div class="cell" style="width:auto;"> 
        <input type="checkbox" name="chkbox[@Model.Index]" class="a" value="true" data-id="@item.ID" onclick="checkbox1(@item.ID)"/> 
    </div> 
    <div class="cell" style="width:auto;">
        @Html.DisplayFor(modelItem => item.StartDate,  new { id = "strtDate" })
    </div>               
    <div class="cell" id="edit2-@item.ID" style="width:auto;">
        @Html.DisplayFor(modelItem => item.EndDate, new { id = "endDate" })
    </div>
    <div class="cell" id="edit1-@item.ID" style="width:auto; display:none;">
        @Html.TextBox("Enddate[" + Model.Index + "]", item.EndDate, new { @class = "date", id = "date-" + @item.ID })
    </div>
    <input type="hidden" name="Id[@Model.Index]" value="@item.ID" /> 
    @{Model.Index = @Model.Index + 1}
} 
```

然后为 post 操作创建一个新的视图模型：

```
public class PostModel
{
    bool chkbox { get; set; }
    string EndDate {get;set; }
    string Id { get; set; }
} 
```

然后在操作中执行此操作：

```
[HttpPost]
public ActionResult EditExhi(PostModel[] items)
{
    foreach (var item in items)
    {
        if (item.chkbox)
            //update db here with item.EndDate & item.Id
    }
} 
```

# mysql - 通过 mmysql 查询或过程获取缺少的期间..？

> ID：12209011
> 
> 赞同：0
> 
> 时间：2012-08-31T04:40:17.230
> 
> 标签：mysql

我有一个表 customer_order 如下

```
mysql> select * from customer_order;
+---------+---------+-----------+------------------+----------------+
| cust_id | orderno | region_cd | order_start_date |order_del_date  |
+---------+---------+-----------+------------------+----------------+
| CU_082  | ONO_001 | reg1      | 2012-04-25       | 2012-08-25     |
| CU_082  | ONO_002 | reg1      | 2012-04-28       | 2012-11-28     |
| CU_083  | ONO_002 | reg2      | 2012-04-28       | 2012-11-28     |
| CU_082  | ONO_003 | reg1      | 2012-04-25       | 2012-08-25     |
| CU_084  | ONO_004 | reg4      | 2012-04-25       | 2012-10-25     | 
```

我需要一张这样的桌子……我得到……如下

```
mysql> select order_start_date,order_del_date,orderno,cust_id from customer_order wh
ere order_start_date >= '2012-04-25' AND order_del_date <='2012-12-28' and cust_i
d IN ('36082','36088') order by cust_id ;
+------------------+----------------+---------+---------+
| order_start_date | order_del_date | pid     | emp_id  |
+------------------+----------------+---------+---------+
| 2012-04-25       | 2012-05-25     | ONO_001 | CU_082  |
| 2012-08-22       | 2012-12-28     | ONO_004 | CU_082  |
| 2012-06-22       | 2012-08-28     | ONO_003 | CU_082  |
| 2012-05-27       | 2012-06-25     | ONO_002 | CU_082  |
| 2012-04-25       | 2012-05-25     | ONO_001 | CU_082  |
| 2012-05-27       | 2012-06-25     | ONO_001 | CU_082  |
| 2012-04-30       | 2012-06-25     | ONO_001 | CU_088  |
| 2012-06-28       | 2012-07-15     | ONO_002 | CU_088  |
| 2012-07-28       | 2012-08-25     | ONO_003 | CU_088  |
| 2012-07-16       | 2012-09-25     | ONO_004 | CU_088  |
+------------------+----------------+---------+---------+ 
```

现在我需要在这张表上查询......为了在这里为每个客户获取数据，我们在上表中获取从 wat 日期到 wat 日期期间他的订单处理详细信息的数据......现在对于每个客户，我会找到thr 没有订单处理...

例如`cust_id =CU_088` ，他的订单从 4 月 30 日到 6 月 25 日处理，从 6 月 28 日到 7 月 15 日（这里 thr 是一个差异，即 thr 是 6 月 26 日到 27 日没有接受订单或任何处理完成......这是必需的结果) **另外一个考虑因素是......在下一个条目中，我们发现 thr 是从 7 月 28 日到 8 月 25 日的订单流程，相对于之前的条目，即 6 月 28 日到 7 月 15 日，我们发现对于这个客户，thr 没有接受或处理订单从 7 月 16 日到 27 日.. 但是最后一个条目是 7 月 16 日到 9 月 25 日，他有一个不同 order_no 的订单，因为这里填补了 7 月 16 日到 7 月 27 日的空白，所以这种情况也需要检查。 .我需要得到这样的输出..

```
+------------------+----------------+---------+---------+
| order_start_date | order_del_date | pid     | emp_id  |
+------------------+----------------+---------+---------+
| 2012-06-26       | 2012-06-27     | ONO_001 | CU_088  |
+------------------+----------------+---------+---------+ 
```

那是更有效的查询或程序应该给我在 thr 期间没有为客户执行任何操作...帮助我编写执行上述所有操作的查询。

我是数据库查询的新手..所以请帮帮我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T05:30:08.723

要获取订单之间的每个“差距”，您可以使用自联接：

```
SELECT   o1.cust_id,
         o1.order_del_date        + INTERVAL 1 DAY AS gap_begin,
         MIN(o2.order_start_date) - INTERVAL 1 DAY AS gap_end
FROM     customer_order o1
    JOIN customer_order o2 ON o1.cust_id = o2.cust_id
                          AND o1.order_del_date <= o2.order_start_date
GROUP BY o1.cust_id, o1.order_del_date
HAVING   gap_begin < gap_end 
```

# iphone - 下一个音频播放器

> ID：12209021
> 
> 赞同：0
> 
> 时间：2012-08-31T04:41:04.353
> 
> 标签：iphone, ios, xcode

我有这个代码：

```
 int ran = 1 + arc4random() % 18;

    NSString *soundFileIs=[NSString stringWithFormat:@"ton%i.mp3",ran];
    NSString *paths = [[NSBundle mainBundle] resourcePath];
    NSString *audioFile = [paths stringByAppendingPathComponent:soundFileIs];
    NSData *cdata =[NSData dataWithContentsOfFile:audioFile];

    audioPlayer = [[AVAudioPlayer alloc] initWithData:cdata error:nil];
    audioPlayer.delegate = self;

    [audioPlayer play]; 
```

当我摇动设备时，它会随机播放我的 18 种声音。我怎样才能停止以前播放的声音，然后播放下一个声音？一切都很好，只是我第一次摇动时听到第一个声音，当我第二次摇动时，如果我的第一个声音没有停止播放，我会听到第一个和第二个声音播放。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T04:55:23.753

称呼

```
if([audioPlayer playing])
    [audioPlayer stop]; 
```

摇动设备以停止当前歌曲的方法。

然后使用此委托方法播放下一首歌曲。

```
- (void)audioPlayerDidFinishPlaying:(AVAudioPlayer *)player successfully:(BOOL)flag 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T04:55:43.697

当你摇晃那个时候

```
 [audioPlayer stop]; 
```

首先检查音频播放器是否正在播放声音，如果没有，则不要调用停止方法，如果正在播放，则第一次调用停止方法

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T05:13:02.533

在播放任何东西之前，请检查它是否已经在播放并调用停止。您的代码将是：

```
int ran = 1 + arc4random() % 18;

NSString *soundFileIs=[NSString stringWithFormat:@"ton%i.mp3",ran];
NSString *paths = [[NSBundle mainBundle] resourcePath];
NSString *audioFile = [paths stringByAppendingPathComponent:soundFileIs];
NSData *cdata =[NSData dataWithContentsOfFile:audioFile];

if (audioPlayer.playing)
    [audioPlayer stop];

audioPlayer = [[AVAudioPlayer alloc] initWithData:cdata error:nil];
audioPlayer.delegate = self;

[audioPlayer play]; 
```

# joomla2.5 - joomla 2.5中多个表的数据重复值

> ID：12209023
> 
> 赞同：0
> 
> 时间：2012-08-31T04:41:20.017
> 
> 标签：joomla2.5

我正在研究 MVC 组件并从 joomla 2.5 中的两个表中获取数据，但我遇到了一个问题，航班信息有不同类型的票价，所以当它在表中显示输出时，它显示重复值这里是示例代码

询问

```
$query->select('f.flight_name,f.flight_code,f.flight_dep_date,f.flight_ari_date,f.flight_dep_time,f.flight_ari_time,f.flight_dep_city,f.flight_ari_city,f.flight_child_id,d.flight_id,d.fair_type,d.fair');
        $query->from('#__fairinfo as f,#__faredescription as d');
             $query->where('f.flight_child_id = d.flight_id'); 
```

在视野中

```
<?php foreach($this->items as $i => $value):
?>
    <tr class="row<?php echo $i % 2; ?>">
        <td>
            <?php echo $value->flight_child_id; ?>
        </td>
        <td>
            <?php echo JHtml::_('grid.id', $i, $value->flight_child_id); ?>
        </td>
        <td><?php echo $value->flight_name; ?></td> 
            <td><?php echo $value->flight_code; ?></td>
            <td><?php echo $value->flight_dep_date; ?></td>
            <td><?php echo $value->flight_ari_date; ?></td>
            <td><?php echo $value->flight_dep_time; ?></td>
            <td><?php echo $value->flight_ari_time; ?></td>
            <td><?php echo $value->flight_dep_city; ?></td>
           <td><?php echo $value->flight_ari_city; ?></td>
           <td><?php    
         echo $value->fair_type; 
             echo $value->fair; ?>
            </td>
         </tr>
<?php endforeach; ?> 
```

这里出来了

```
4 G8-334    G8-334  2012-05-22  2012-05-22  11:10:00    13:05:00    MUMBAI (TERMINAL 1B)    NEW DELHI (TERMINAL 1D)     GoSmart7,566.00 INR  
4 G8-334    G8-334  2012-05-22  2012-05-22  11:10:00    13:05:00    MUMBAI (TERMINAL 1B)    NEW DELHI (TERMINAL 1D)     GoFlexi7,829.00 INR
4 G8-334    G8-334  2012-05-22  2012-05-22  11:10:00    13:05:00    MUMBAI (TERMINAL 1B)    NEW DELHI (TERMINAL 1D)     GoBusiness9,718.00 INR
4 G8-334    G8-334  2012-05-22  2012-05-22  11:10:00    13:05:00    MUMBAI (TERMINAL 1B)    NEW DELHI (TERMINAL 1D)     GOPROMO(ROUNDTRIP)7,136.00 INR
4 G8-334    G8-334  2012-05-22  2012-05-22  11:10:00    13:05:00    MUMBAI (TERMINAL 1B)    NEW DELHI (TERMINAL 1D)     GoSpecial Sold out/Not 
```

第 4 行打印了 5 次，因为有五种票价

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:31:53.130

请这样做

```
$query->select('f.flight_child_id,f.flight_name,f.flight_code,f.flight_dep_date,f.flight_ari_date,f.flight_dep_time,f.flight_ari_time,f.flight_dep_city,f.flight_ari_city,f.flight_child_id');
        $query->from('#__fairinfo as f'); 
```

在视图中

```
<?php foreach($this->items as $i => $value):
?>
    <tr class="row<?php echo $i % 2; ?>">
        <td>
            <?php echo $value->flight_child_id; ?>
        </td>
        <td>
            <?php echo JHtml::_('grid.id', $i, $value->flight_child_id); ?>
        </td>
        <td><?php echo $value->flight_name; ?></td> 
            <td><?php echo $value->flight_code; ?></td>
            <td><?php echo $value->flight_dep_date; ?></td>
            <td><?php echo $value->flight_ari_date; ?></td>
            <td><?php echo $value->flight_dep_time; ?></td>
            <td><?php echo $value->flight_ari_time; ?></td>
            <td><?php echo $value->flight_dep_city; ?></td>
           <td><?php echo $value->flight_ari_city; ?></td>
           <td><?php 
                $model = $this->getmodel('Your model name');
                echo nl2br($model->functionname($value->flight_child_id));
            ?></td>
         </tr>
<?php endforeach; ?> 
```

模型功能

```
functionname($id) {
        $db     = JFactory::getDBO();
        $query->select('d.flight_id,d.fair_type,d.fair');
        $query->from('#__faredescription as d');
        $query->where('d.flight_id ='.$id);
        $db->setQuery( $query );
        $rows    = $db->loadObjectList();
        foreach($rows as $row) {
            $rowss[] = $row->fair_type.','.$row->fair;
        }
        $row    = implode("\n", $rowss);
            return $row;
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:23:59.033

重复值的原因：你的`#__fairinfo`表有 1 行，`#__faredescription`表有 4 行，所以只有它显示重复值

看起来你的期望是这样的

```
4 G8-334    G8-334  2012-05-22  2012-05-22  11:10:00    13:05:00    MUMBAI (TERMINAL 1B)    NEW DELHI (TERMINAL 1D)     GoSmart7,566.00 INR  
                                                                                                                        GoFlexi7,829.00 INR
                                                                                                                        GoBusiness9,718.00 INR
                                                                                                                        GOPROMO(ROUNDTRIP)7,136.00 INR
                                                                                                                        GoSpecial Sold out/Not 
```

对 ？

# ruby-on-rails - 使用 mongodb 在 Rails 中使用 ckeditor

> ID：12209029
> 
> 赞同：4
> 
> 时间：2012-08-31T04:41:58.077
> 
> 标签：ruby-on-rails, ruby, mongodb, ckeditor

我在具有数据库mongo db的rails中使用ck编辑器。我点击了链接[https://github.com/galetahub/ckeditor](https://github.com/galetahub/ckeditor) 。我在 ckeditor 的帮助下成功地完成了工作。因为我的 view.html.erb 代码是这样的

```
<%= f.cktext_area :description, :toolbar => 'Easy', :width => 800, :height => 200 %><br> 
```

我的展示页面是

```
<%= raw@department.description %> 
```

它不适用于文件案件。我有我的模型 attachment_file.rb 是

```
class Ckeditor::AttachmentFile < Ckeditor::Asset
  has_mongoid_attached_file :data,
                            :url => "/ckeditor_assets/attachments/:id/:filename",
                            :path => ":rails_root/public/ckeditor_assets/attachments/:id/:filename"

  validates_attachment_size :data, :less_than => 100.megabytes
  validates_attachment_presence :data

  def url_thumb
    @url_thumb ||= Ckeditor::Utils.filethumb(filename)
  end
end 
```

它适用于图像案例，但不适用于 zip 文件或任何附件。当涉及到文件案例时，它可以使用其路径成功上传文件。但是要由用户下载该文件，它不起作用。我的意思是后端适用于所有功能。但缺乏下载上传的文件停止

```
`javascript:void(0)/*130*/ 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-06T05:29:23.903

我找到了这个问题的答案。首先在终端中运行它。

```
$ sudo chmod -R 777 /usr/share/ruby-rvm/gems/ruby-1.9.3-p194/gems/ckeditor-3.7.1 
```

由于我使用的是 linux 并且我的 gem 文件位于此处，因此请在您的计算机中遵循此路径。

```
 /usr/share/ruby-rvm/gems/ruby-1.9.3-p194/gems/ckeditor-3.7.1/vendor/assets/javascripts/ckeditor/plugins/attachment/dialogs 
```

并打开 attachement.js 文件并使用您从上述链接中找到的代码对其进行编辑。 [点击](https://github.com/netoneko/ckeditor/blob/44ce6924398e86e5775a78a9b7aa52be3018c6b0/vendor/assets/javascripts/ckeditor/plugins/attachment/dialogs/attachment.js)

现在 ck 编辑器也可以用于文件附件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-04T16:11:46.723

好像您在 CKeditor 中遇到了[这个错误：](https://github.com/galetahub/ckeditor/issues/19)

它建议在过滤器之前添加作为修复，例如：

```
 # app/model/department.rb

  before_save :fix_ckeditor_attachment_paths

  def fix_ckeditor_attachment_paths
    if self.description.index(/_cke_saved_href/)
      self.description = self.body.gsub(/_cke_saved_href/, 'href')
    end
  end 
```

# gmail - Gmail 和 Salesforce - 转发电子邮件的长时间延迟

> ID：12209030
> 
> 赞同：0
> 
> 时间：2012-08-31T04:42:03.640
> 
> 标签：gmail, salesforce

我们使用 Salesforce 和 Google Apps。我们有一个 Google Apps 电子邮件帐户，它接受电子邮件并将其转发到 Salesforce，Salesforce 会在其中创建案例。

在过去的 2 个星期五，我们遇到了一些问题，一封电子邮件可能需要 3 次以上才能进入 Salesforce。

我如何确定问题是因为 Google Mail 没有及时转发电子邮件，还是 Salesforce 没有及时处理它？

其他人有过这个问题吗？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T14:50:03.733

您可能已经尝试过的一些想法：

1) 您可以检查 Gmail 中的时间戳以查看收到电子邮件的时间，然后将其转发到 Salesforce 以查看是否有延迟。

2) 您可以对照 Salesforce 系统状态页面检查日期，看看是否有任何报告的问题：[http ://trust.salesforce.com/trust/status/](http://trust.salesforce.com/trust/status/)

3) 与 Google Apps 状态页面相同：[http ://www.google.com/appsstatus](http://www.google.com/appsstatus)

4) 检查 Salesforce 中是否存在任何其他延迟或可能导致延迟的并发批处理作业。

5) 向 Salesforce 提交支持请求以进行查询。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T23:52:52.260

嗯。您是否使用 Salesforce 电子邮件转个案？这里有人发布了一个类似的问题：[https](https://success.salesforce.com/questionDetail?qId=a1X30000000IGwWEAW) ://success.salesforce.com/questionDetail?qId=a1X30000000IGwWEAW 。当时看来，这两个问题都是 Salesforce 的暂时中断。另外，您是否使用任何应用程序来集成 Gmail 和 Salesforce？因为像 The Scoop Composer 这样的应用程序允许您转发电子邮件并立即创建案例。[http://www.cloudgizmos.com/salesforce-gmail-integration](http://www.cloudgizmos.com/salesforce-gmail-integration)。希望这可以帮助！

# eclipse - 从插件调用代码时出现问题：“org.eclipse.core.resources”

> ID：12209034
> 
> 赞同：4
> 
> 时间：2012-08-31T04:42:21.283
> 
> 标签：eclipse

如何解决上述报告的错误消息？其他详细信息如下：

**异常堆栈跟踪**

```
java.lang.NullPointerException
    at org.eclipse.m2e.jdt.internal.MavenClasspathContainerInitializer.initialize(MavenClasspathContainerInitializer.java:48)
    at org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(JavaModelManager.java:2843)
    at org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer(JavaModelManager.java:1878)
    at org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:3128)
    at org.eclipse.jdt.internal.core.JavaProject.resolveClasspath(JavaProject.java:2691)
    at org.eclipse.jdt.internal.core.JavaProject.resolveClasspath(JavaProject.java:2855)
    at org.eclipse.jdt.internal.core.ClasspathChange.generateDelta(ClasspathChange.java:220)
    at org.eclipse.jdt.internal.core.DeltaProcessor.resourceChanged(DeltaProcessor.java:2052)
    at org.eclipse.jdt.internal.core.DeltaProcessingState.resourceChanged(DeltaProcessingState.java:470)
    at org.eclipse.core.internal.events.NotificationManager$1.run(NotificationManager.java:291)
    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
    at org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:285)
    at org.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:149)
    at org.eclipse.core.internal.resources.Workspace.broadcastPostChange(Workspace.java:395)
    at org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:1530)
    at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2353)
    at org.eclipse.wst.jsdt.internal.core.JavaModelManager.initializeAllContainers(JavaModelManager.java:2153)
    at org.eclipse.wst.jsdt.internal.core.JavaModelManager.getJsGlobalScopeContainer(JavaModelManager.java:1530)
    at org.eclipse.wst.jsdt.core.JavaScriptCore.getJsGlobalScopeContainer(JavaScriptCore.java:1319)
    at org.eclipse.wst.jsdt.internal.core.JavaProject.resolveClasspath(JavaProject.java:2740)
    at org.eclipse.wst.jsdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:2019)
    at org.eclipse.wst.jsdt.core.JavaScriptCore.initializeAfterLoad(JavaScriptCore.java:2655)
    at org.eclipse.wst.jsdt.internal.ui.InitializeAfterLoadJob$RealJob.run(InitializeAfterLoadJob.java:32)
    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54) 
```

**会话数据**

```
eclipse.buildId=I20120608-1400
java.version=1.7.0_08-ea
java.vendor=Oracle Corporation
BootLoader constants: OS=macosx, ARCH=x86_64, WS=cocoa, NL=en_US
Framework arguments:  -product org.eclipse.epp.package.jee.product -keyring /Users/ravisankars/.eclipse_keyring -showlocation
Command-line arguments:  -os macosx -ws cocoa -arch x86_64 -product org.eclipse.epp.package.jee.product -keyring /Users/ravisankars/.eclipse_keyring -showlocation 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-06T12:09:27.713

我做的一件事（尽管我建议先卸载并重新安装你的插件，正如@Rajkumar 之前发布的那样）是删除导致问题的构建器。MyProject -> Properties -> Builders ...[Troublesome Builder]...删除。

这是一个短期解决方案，您只是在规避真正的问题，但对我来说，它暂时完成了我需要的工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-14T13:24:08.330

自从我第一次安装 Eclipse 以来，发生了很多事情，比如 (a) 安装/卸载插件 (b) 升级 IDE 而没有相应地升级工作区。由于历史变得复杂，故障排除也有窍门。全新安装以及再次导入代码库，为我解决了这个问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-15T20:35:31.610

如果您的 Eclipse 项目中有许多资源文件（如 java 脚本），则会出现类似问题。解决方案是从项目方面删除 java 脚本性质或禁用 java 脚本验证。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2022-02-18T14:53:43.147

好吧，在您再次卸载和安装所有麻烦之前；如果您没有对插件进行任何特殊操作，您可能想尝试以下快速简单的操作：

1.  关闭项目
2.  打开项目
3.  重启日食

在此之后对我来说它正在工作。这也解决了旧 Eclipse 版本中可能出现的许多未被接受的问题。

# php - PHP：电子邮件解析 - 多个收件人

> ID：12209037
> 
> 赞同：0
> 
> 时间：2012-08-31T04:42:42.597
> 
> 标签：php, regex, parsing, email

我正在将发送到我的服务器的电子邮件发送到 PHP 脚本。该脚本解析电子邮件，以便我可以分配变量。

我的问题是有时有人会将我的电子邮件地址包含在一封电子邮件中，该电子邮件将发送给多个收件人，而我的脚本只会收到第一个。我需要它来查找我的电子邮件地址，然后将其分配给一个变量。

这是电子邮件数组的样子： http: [//pastebin.com/0gdQsBYd](http://pastebin.com/0gdQsBYd)

使用上面的示例，我需要获得第四个收件人：my_user_email@mydomain.com

这是我用来获取“To -> name”和“To -> address”的代码

```
# Get the name and email of the recipient
$toName = $results['To'][0]['name'];
$toEmail = $results['To'][0]['address']; 
```

我假设我需要执行 a `foreach($results['To'] as $to)`then a`preg_match`但我不擅长使用正则表达式来查找我想要的电子邮件。

一些帮助表示赞赏。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:02:20.857

除了在 foreach 循环中使用 preg_match 之外，您还可以使用 strstr ，如下所示

假设您正在寻找 my_user_email@mydomain.com 使用以下代码

```
foreach($results['To'] as $to)
{

// gets value occuring before the @, if you change the 3 rd parameter to false returns domain name

$user = strstr($to, '@', true) ;
if($user == 'my_user_email')
{
//your action code goes here
}

} 
```

**例子：**

```
<?php
$email  = 'name@example.com';
$domain = strstr($email, '@');
echo $domain; // prints @example.com

$user = strstr($email, '@', true); // As of PHP 5.3.0
echo $user; // prints name
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:22:08.007

实际上，您根本不需要使用正则表达式。相反，您可以使用 PHP for 循环遍历您的 To 地址数组的语句。

```
$count = count($root['To']);
for ($i=0; $i < $count; $i++) {

    //Do something with your To array here using $root['To'][$i]['address']

} 
```

# html - 在图像中插入字段

> ID：12209043
> 
> 赞同：0
> 
> 时间：2012-08-31T04:43:19.290
> 
> 标签：html, css

我有一张图片，我想插入一个字段供用户在其中输入他们的电子邮件。你们能帮我写一下它的html代码吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:02:19.513

试试这个代码..

```
 <img src="image.jpg" style="z-index:1"/>
    <input type="text" style="z-index:100;display:block;top:10px;position:absolute;"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T04:56:40.477

也许这样的事情会帮助你？

HTML

```
​&lt;div class="inputDiv">
<input type="text" value="input your data here"/>
</div>​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​ 
```

CSS

```
.inputDiv{
    background:url(your_pic_url.jpg) no-repeat;
    width:300px;
    height:300px;
}

.inputDiv input{position:absolute; top:50px; left:50px;} 
```

[小提琴](http://jsfiddle.net/g4Ujc/)

# c++ - 在调试过程中如何查看 Qt 对象 QByteArray 的内容？

> ID：12209046
> 
> 赞同：4
> 
> 时间：2012-08-31T04:43:36.930
> 
> 标签：c++, visual-studio-2010, qt, visual-studio-debugging, qbytearray

我的程序使用一些 QByteArray 类型的变量来包含数据（字节）。该字节可能是特殊字符，例如 '\0', 1, ... 所以在调试时我看不到特殊字符后的所有元素。如果我使用 std::vector，我可以看到所有元素。我必须使用 QByteArray 但在调试时我看不到这个变量的所有元素。帮帮我，请！谢谢！

示例：QByteArray bytes(4, '\0'); 现在，如果调试，我只看到“”。但我想看 "'\0', '\0', '\0', '\0'" 或类似的东西。

QDateTime 我也有同样的问题。但我通过这个帮助解决了：[http ://www.qtcentre.org/threads/32336-View-QDate-and-QDateTime-in-VisualStudio-debugger](http://www.qtcentre.org/threads/32336-View-QDate-and-QDateTime-in-VisualStudio-debugger)

此链接可能会有所帮助，但这不能解决我的问题：http: [//qt-project.org/wiki/IDE-debug-helpers](http://qt-project.org/wiki/IDE-debug-helpers)

例子：

```
QByteArray ba("Hello"); //debuging, see: ba = "Hello"     
ba.append('\0');     
ba.append("a message"); //we just see: ba = "Hello" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-16T11:57:48.700

我在这里贡献了一段我必须编写的代码，因为我找不到任何方法来做类似的事情：以 python 的方式将*QByteArray 显示为有意义的 QString ：* *ascii 保持不变，特殊字符显示为十六进制代码*。

如果有人知道更好的方法！（这里是 QT 4.6）

```
QString toDebug(const QByteArray & line) {

    QString s;
    uchar c;

    for ( int i=0 ; i < line.size() ; i++ ){
        c = line[i];
        if ( c >= 0x20 and c <= 126 ) {
            s.append(c);
        } else {
            s.append(QString("<%1>").arg(c, 2, 16, QChar('0')));
        }
    }
    return s;
} 
```

如：

```
QByteArray a;
a.append("et");
a.append('\0');
a.append("voilà");
qDebug() << toDebug(QByteArray(a)); 
```

返回：

```
"et<00>voil<e0>" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T05:26:52.387

对于调试，您可以将 QBytearray 转换为 QString 并查看输出。

例如：

```
QByteArray bArray;

QString str = "";

str.append(bArray);

QDebug() << str ; // this will display the content in your console/application output  window 
```

希望这能解决您的问题。

# wordpress - 制作另一个内容列表作为wordpress的内容文件

> ID：12209049
> 
> 赞同：0
> 
> 时间：2012-08-31T04:43:53.343
> 
> 标签：wordpress

我有一个页面，我想以不同的样式显示页面（而不是 content.php 文件），所以现在我复制了 content.php 文件并对其进行了修改。我只想显示一页，其他页面应该像 content.php 一样显示。那么如何更改索引页面以将特定页面显示为新的内容列表页面。我的页面名称是新闻，它应该像 content-list.php 一样显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:11:35.233

要显示单个页面，您必须为该页面创建一个模板，然后从仪表板->页面打开您要显示该模板的页面，在右侧您已经看到 TAMPLATE-->DEFAULT TEMPLATE，选择您创建的模板...

新模板的语法

```
<?php 
/*Template Name:abc
*/
?>

<?php get_header();?>
<!--------------------------------------->
CONTENT FOR PAGE
<!--------------------------------------->
<?php get_Footer();?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:01:17.163

我不知道你指的是哪个文件`content.php`

> 我有页面我想以不同的样式显示页面

所以，如果你想显示一个不同风格的页面，你应该看看[WordPress Template Hierarchy](http://codex.wordpress.org/Template_Hierarchy)。

您可以创建另一个页面模板，使用自定义文件，如 header-{name}.php 和 footer-{name}.php，并使用带有适当参数的[get_header()](http://codex.wordpress.org/Function_Reference/get_header)和[get_footer()](http://codex.wordpress.org/Function_Reference/get_footer)（您提到的 {name} 来调用这些文件.

# c++ - IntelliSense 和友元函数错误错误（VS2010）

> ID：12209052
> 
> 赞同：1
> 
> 时间：2012-08-31T04:44:39.397
> 
> 标签：c++, operator-overloading, intellisense

不是一个真正的大问题，但我想知道当涉及到类中的朋友函数时，IntelliSense 是否搞砸了？

我有一个使用 ostream 和 istream (<<, >>) 的重载运算符的类，并且我在我的类中将它们标记为友元函数。所以理论上他们应该可以访问类的私有成员。该程序编译并运行良好，没有错误 - 但随着我继续编写代码，IntelliSense 不断报告成员函数无法访问这些函数。它仍然可以编译，但我想知道这是否是 IntelliSense 的问题或我的问题，而我碰巧很幸运它正在运行？

```
 friend std::ostream & operator <<(std::ostream &, const Rational &);
    friend std::istream & operator >>(std::istream &, Rational &);

    std::ostream & operator <<(std::ostream & outs, const Rational & source)
    {
        outs << source.itsNum << '/' << source.itsDen;
        return outs;
    }

    std::istream & operator >>(std::istream & ins, Rational & target)
    {
        ins >> target.itsNum >> target.itsDen;
        return ins;
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T05:49:06.883

您的代码没有任何问题。我敢打赌，IntelliSense 会搞砸。尝试为您的项目删除 IntelliSense 数据库以查看错误是否会消失（IntelliSense 数据库将在重新启动 Visual Studio 后自行重建）。该数据库应位于您的`.sln`文件旁边，并且（至少对于 Visual Studio 2008）具有扩展名`.ncb`.

除此之外，还有一些额外的信息。VisualStudio AFAIK 的 IntelliSense 功能实际上是由与 Microsoft 不同的公司开发的，因此编译器和 IntelliSense 有时可能对正确与否有不同的看法。只是说。:)

# linux - 如何从 www 或 htdocs 中设置目录？

> ID：12209053
> 
> 赞同：0
> 
> 时间：2012-08-31T04:44:49.083
> 
> 标签：linux, ftp

我安装了 proftpd 并创建了用户 (debian) ，我将目录设置为 /var/logs ，我需要一个 ftp 进入并检查日志，问题是当我登录时它转到 /var/www 和我不知道如何改变它..我应该做任何配置的想法来解决这个问题？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T04:53:54.887

您可以创建一个符号链接：

```
ln -s -T /var/logs /var/www/logs 
```

此外，这可能应该移动到另一个站点。

# debugging - Xcode 和 Instruments 跟踪内存使用情况

> ID：12209057
> 
> 赞同：6
> 
> 时间：2012-08-31T04:44:59.583
> 
> 标签：debugging, xcode4, memory-leaks, instruments, valgrind

我在 iOS 模拟器上的应用程序使用了太多内存。可能是内存泄漏了。这是一个支持 ARC 的项目，包含纯 C 代码。我尝试了一些我故意 malloc 和泄漏的小项目，仪器似乎没有注意到。[我按照此处](http://root42.blogspot.tw/2011/02/valgrind-checking-of-ios-programs.html)所述使用 Valgrind 进行了尝试 ，但我无法让它运行。它说“错误：地址不包含指向目标文件中某个部分的部分”。

我还有什么其他选择？关于如何找到我泄漏的内容的任何建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-19T14:44:21.423

也许来晚了，但你可以使用 Valgrid... [http://valgrind.org/](http://valgrind.org/)？

# css - 如何强制滚动内部 div 而不是浏览器窗口？

> ID：12209062
> 
> 赞同：3
> 
> 时间：2012-08-31T04:46:37.287
> 
> 标签：css

在下面的标记中，当我最小化浏览器窗口时，我看到浏览器窗口中的滚动而不是溢出-y 中的 div 内的滚动：滚动。如何让它在内部滚动中滚动而不对 body 元素做任何事情？

```
<div style="overflow-y: scroll;">
line<br/>
line<br/>
line<br/>
line<br/>
line<br/>
line<br/>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T05:00:32.877

设置高度`<div>`

```
<div style="height:50px; overflow-y: scroll;"> 
```

# php - 允许用户创建一个新表，但每个主题只能创建一个表

> ID：12209065
> 
> 赞同：1
> 
> 时间：2012-08-31T04:47:29.520
> 
> 标签：php, mysql, create-table

我正在尝试创建一些东西，用户可以在其中创建一个主题表，但只有一个主题表，并且在该主题表中，其他用户将能够添加到该主题表中。

我需要只创建一次主题表。所以例如：

用户 A 创建了一个新主题，这是一个关于橙子的新表格。

然后其他用户将能够添加到该 oranges 表，但**没有**其他用户可以创建另一个名为 oranges 的表。

我应该如何处理这个问题？

让用户创建表但**只创建一次**的代码是什么？

此外，让用户能够创建表的安全性如何？

这是我拥有的一些代码，可让用户添加和显示数据库中的数据。

```
 <?php
    include 'connection.php';

    $query = "SELECT * FROM people";

    $result = mysql_query($query);

    While($person = mysql_fetch_array($result)) {
        echo "<h3>" . $person['Name'] . "</h3>";
        echo "<p>" . $person['Description'] . "</p>";
        echo "<a href=\"modify.php?id=" . $person['ID']. "\">Modify User</a>";
        echo "<span> </span>";
        echo "<a href=\"delete.php?id=" . $person['ID']. "\">Delete User</a>";
    }
?>
<h1>Create a User</h1>
<form action="create.php" method="post">
    Name<input type ="text" name="inputName" value="" /><br />
    Description<input type ="text" name="inputDesc" value="" />
    <br />
    <input type="submit" name="submit" />
</form> 
```

你的建议会很有帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T05:03:39.540

以下是让用户只创建一次表的代码：

```
CREATE TABLE IF NOT EXISTS `orange` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `email` varchar(255) NOT NULL,
  `pass` varchar(255) NOT NULL,  
  PRIMARY KEY (`id`),
  UNIQUE KEY `email` (`email`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=41 ; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:18:30.373

您可以在创建每个表之前检查表是否存在。此外，当您创建表时，请确保将字符串（表名）转义并使其小写。像这样转换字符串（表名）后，您应该始终检查表是否存在。

您可以在 Google 中搜索以了解有关检查表存在等的更多信息。

# machine-learning - Mahout Recommender：哪些相对偏好值适合 GenericUserBasedRecommender？

> ID：12209072
> 
> 赞同：1
> 
> 时间：2012-08-31T04:48:30.890
> 
> 标签：machine-learning, mahout, recommendation-engine

在 mahout 中，我正在设置一个 GenericUserBasedRecommender，目前非常简单，典型设置。

在为项目生成“偏好”值时，我们有以下 5 个数据点：

**积极的兴趣**

*   用户在项目上转化（可能的最高兴趣迹象）
*   正常点赞（用户表示感兴趣，例如点赞按钮）
*   间接表达兴趣（点击、光标移动、测量“眼球”）

**负利率**

*   冷漠（在其他项目上活跃时用户忽略的项目，不感兴趣的模糊表达）
*   主动不喜欢（大拇指向下，从我的视图中删除项目等）

我应该在什么范围内表达这些不同的属性，让我们使用 1-100 的比例进行讨论？

*   我是否应该将“积极不喜欢”和“冷漠”聚集在一起，例如分别为 1 和 5，所有喜欢都聚集在 90-100 范围内？
*   “冷漠”和“间接表达兴趣”是否应该更接近中心？就像 20-35 范围内的“冷漠”和 60-70 范围内的“间接喜欢”一样？
*   “用户转换”是否应该打破规模并比其他人高出头和尾？如：“用户转化”@ 100，“较少喜欢”@ ~65，“不喜欢”聚集在 1-10 范围内？
*   在 1-100 的范围内，50 是有效的“空”，还是完全没有数据点？

我知道最终的答案在于反复试验以及我们数据的含义，但就算法而言，我试图了解在什么时候我需要在兴趣和不感兴趣之间倾斜，以使算法发挥作用适当地。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-31T06:32:49.830

实际范围无关紧要，不适用于此实现。1-100 是可以的，0-1 是可以的，等等。相对值在这里才是真正重要的。

这些值是通过简单（线性）加权平均值估计的。因此响应应该是“线性的”。它应该符合一种直觉，即如果动作 X 的得分比动作 Y 高 2 倍，那么 X 应该是对现实生活兴趣两倍的指标。

一个不错的起点是简单地根据它们的频率调整它们的大小。如果点击转化率为 2%，则您的点击可能会带来 2% 的转化。

我会忽略你提出的“冷漠”信号。它可能会太吵而无法使用。

# c# - 本地计算机上的 Windows 服务启动然后停止错误

> ID：12209075
> 
> 赞同：112
> 
> 时间：2012-08-31T04:48:53.250
> 
> 标签：c#, windows-services

通常，我收到此错误：（本地计算机上的“服务名称”服务启动然后停止。如果某些服务未被其他服务或程序使用，则某些服务会自动停止）当我的代码出现问题时，例如不存在驱动器路径等。Windows 服务将无法启动。

我有一个 Windows 服务，可以将文件夹/文件备份到某个位置（如果它达到大小限制）。详细信息均由 Windows 服务在启动时读取的 XML 配置提供。我有一个单独的 Windows 窗体，它有一个按钮，它完全符合我的 Windows 服务的 onstart 正在做的事情。在将代码放入我的 Windows 服务之前，我使用我的 Windows 窗体来调试代码。

当我启动我的 Windows 窗体时。它做它应该做的事情。当我将代码放入 Windows 服务 OnStart() 方法时，出现了错误。

这是我的代码：

```
protected override void OnStart(string[] args)
{

    private static string backupConfig = @"D:\LogBackupConfig\backupconfig.xml";
    private static string serviceStat = @"D:\LogBackupConfig\Status.txt";
    private static string fileFolderStat = @"D:\LogBackupConfig\FileFolderStat.txt";

    protected override void OnStart(string[] args)
    {
        if (File.Exists(backupConfig))
        {
            FileSystemWatcher watcher = new FileSystemWatcher();
            XmlTextReader reader = new XmlTextReader(backupConfig);

            XmlNodeType type;
            List<string> listFile = new List<string>();
            string fileWatch = "";

            //this loop is for reading XML elements and assigning to variables
            while (reader.Read())
            {
                type = reader.NodeType;
                if (type == XmlNodeType.Element)
                {
                    if (reader.Name == "File")
                    {
                        reader.Read();
                        fileWatch = reader.Value;
                    }
                    else if (reader.Name == "Folder")
                    {
                        reader.Read();
                        fileWatch = reader.Value;
                    }
                }
            }
            reader.Close();

            watcher.Path = fileWatch;
            watcher.Filter = "*.*";

            //this loop reads whether the service will watch a file/folder
            XmlTextReader reader1 = new XmlTextReader(backupConfig);
            while (reader1.Read())
            {
                type = reader1.NodeType;
                if (type == XmlNodeType.Element)
                {
                    if (reader1.Name == "File")
                    {
                        watcher.IncludeSubdirectories = false;
                        watcher.Changed += new FileSystemEventHandler(OnChangedFile);
                    }
                    else if (reader1.Name == "Folder")
                    {
                        watcher.IncludeSubdirectories = true;
                        watcher.Changed += new FileSystemEventHandler(OnChangedFolder);
                    }
                }
            }
            reader1.Close();

            watcher.EnableRaisingEvents = true;

        }
        else
        {
            StreamWriter sw = new StreamWriter(serviceStat, true);
            sw.WriteLine("File not found. Please start the Log Backup UI first.");
            sw.Close();
        }
    } 
```

我不知道是什么让 Windows 服务无法启动，Windows 窗体模拟器工作正常。似乎是什么问题？

更新：经过多次试验，我注意到仅使用文件夹目录（无文件），Windows 服务不起作用。当我用特定文件（包括其目录）替换 fileWatch 变量时，Windows 服务启动。当我将其更改回文件夹位置时，它不起作用。我认为文件夹位置在文件观察器中不起作用。

当我尝试创建一个监视文件夹位置的新 Windows 服务时，它起作用了。但是，当我在原始 Windows 服务中尝试相同的位置时，它不起作用！我很介意$#*！似乎每次我放置一个新的代码/功能时，我都必须创建一个新的 Windows 服务并构建安装程序。这样我可以跟踪哪里出现错误。

* * *

## 回答 #1

> 赞同：213
> 
> 时间：2012-08-31T04:59:41.863

如果服务像这样启动和停止，则意味着您的代码正在引发未处理的异常。这很难调试，但有几个选项。

1.  查阅 Windows*事件查看器*。通常，您可以通过转到计算机/服务器管理器，然后单击*Event Viewer* -> *Windows Logs* -> *Application*来解决此问题。您可以在此处查看引发异常的原因，这可能会有所帮助，但您不会获得堆栈跟踪。
2.  将您的程序逻辑提取到库类项目中。现在创建两个不同版本的程序：控制台应用程序（用于调试）和 Windows 服务。（这是一些初步的努力，但从长远来看可以节省很多焦虑。）
3.  添加更多 try/catch 块并记录到应用程序，以更好地了解正在发生的事情。

* * *

## 回答 #2

> 赞同：37
> 
> 时间：2012-08-31T05:44:51.637

不确定这是否会有所帮助，但对于调试服务，您始终可以在 OnStart 方法中使用以下内容：

```
protected override void OnStart(string[] args)
{
     System.Diagnostics.Debugger.Launch();
     ...
} 
```

比您可以将您的视觉工作室附加到该过程并具有更好的调试能力。

希望这有帮助，祝你好运

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2014-06-05T22:22:04.423

我发现只需使用以下内容更改程序即可将现有的*Windows 服务*转换为*控制台非常方便。*通过此更改，您可以通过在 Visual Studio 中调试或正常运行可执行文件来运行程序。但它也可以用作 Windows 服务。[我还写了一篇关于它的博客文章](http://benjaminjanderson.com/Blog/1002/debug-windows-service)

**程序.cs**

```
class Program
{
    static void Main()
    {
        var program = new YOUR_PROGRAM();
        if (Environment.UserInteractive)
        {
            program.Start();
        }
        else
        {
            ServiceBase.Run(new ServiceBase[]
            {
                program
            });
        }
    }
} 
```

**YOUR_PROGRAM.cs**

```
[RunInstallerAttribute(true)]
public class YOUR_PROGRAM : ServiceBase
{
    public YOUR_PROGRAM()
    {
        InitializeComponent();
    }

    protected override void OnStart(string[] args)
    {
        Start();
    }

    protected override void OnStop()
    {
        //Stop Logic Here
    }

    public void Start()
    {
        //Start Logic here
    }
} 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-10-13T09:30:57.177

请检查您是否已在本地机器的访问控制列表 (ACL) 中注册了所有 HTTP 端点

[http://just2thepoint.blogspot.fr/2013/10/windows-service-on-local-computer.html](http://just2thepoint.blogspot.fr/2013/10/windows-service-on-local-computer.html)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2015-10-20T06:02:09.293

EventLog.Log 应设置为“应用程序”

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2019-02-15T12:10:56.230

同时，**另一个原因：**不小心删除了**.config**文件导致出现同样的错误信息：

> *“本地计算机上的服务启动然后停止。某些服务自动停止......”*

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-08-31T05:03:21.407

使用计时器和滴答事件来复制您的文件。

在启动服务时，启动时间并指定时间间隔。

所以该服务继续运行并复制文件ontick。

希望它有所帮助。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-08-31T05:31:37.590

您可能想要对初始化进行单元测试 - 但因为它在`OnStart`方法中，这几乎是不可能的。我建议将初始化代码移到一个单独的类中，以便可以对其进行测试或至少在表单测试器中重新使用它。

其次，添加一些日志记录（使用[Log4Net](http://logging.apache.org/log4net/)或类似工具）并添加一些详细的日志记录，以便您可以查看有关运行时错误的详细信息。运行时错误的示例`AccessViolation`等等。特别是如果您的服务在没有足够权限访问配置文件的情况下运行。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-08-31T05:59:01.577

运行服务的帐户可能没有映射 D:-驱动器（它们是用户特定的）。尝试共享目录，并在`backupConfig`.

你`watcher`的类型`FileSystemWatcher`是一个局部变量，当`OnStart`方法完成时超出范围。您可能需要它作为实例或类变量。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2014-07-25T11:05:43.450

我遇到了同样的问题。我的服务正在上传/接收 XMLS 并将错误写入事件日志。

当我进入事件日志时，我试图过滤它。它提示我事件日志已损坏。

我清除了事件日志，一切正常。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2019-08-29T08:21:10.320

在我们的例子中，除了有问题的服务已经启动然后停止的日志之外，没有任何内容添加到 Windows 事件日志中。

事实证明，该服务的 CONFIG 文件无效。更正无效的 CONFIG 文件解决了该问题。

# cordova - [Phonegap]，使用html文件进行请求和响应如何访问本地应用服务器

> ID：12209081
> 
> 赞同：0
> 
> 时间：2012-08-31T04:49:39.050
> 
> 标签：cordova

我是电话间隙的新用户

1.  刚刚尝试了一个示例，其中一个 HTML、js 和 css 文件可以正常工作。
2.  可以像 Web 应用程序一样运行超过 50 个 HTML 文件的应用程序。
3.  使用电话间隙应用程序，我可以从系统中运行的本地应用程序服务器获取响应和请求。

请帮助我提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T05:28:51.373

您将能够使用任意数量的 HTML 文件运行应用程序，但请记住转换页面以在手机上有效呈现。您可以先查看 JQuery Mobile。如果您习惯了 JQuery，那么上手起来非常简单。

您可以运行任何 url（不要使用 localhost），只要它可以从手机上的 Internet 浏览器访问，它也可以从 phonegap 工作。您需要将手机连接到 wifi 网络，并确保您在 url 中使用用户 ip 地址或运行本地 dns 服务器来解析您的机器名称。

# c++ - valgrind 在 std::map 中显示无效读取错误

> ID：12209082
> 
> 赞同：0
> 
> 时间：2012-08-31T04:50:10.933
> 
> 标签：c++, linux, stl, valgrind

我有一个单线程程序，在使用 valgrind 运行时显示大小为 4 的无效读取错误。

```
 void
 AccountStatus::transmitUpdate(int aiTuples, std::string& astrAliasPidf)
 {
  std::string lstrPidf;

  for (int i=0; i < TOTAL_TUPLE_COMBOS; i++)
  {
    if (_mSubList[i] != NULL)
    {
      GuidSubHandlerMap *subHandlerMap = _mSubList[i];

      if (this->getPidf (lstrPidf, i+1, aiTuples, astrAliasPidf, false) == -1)
        continue;

      ACE_DEBUG ((LM_DEBUG, ACCTPRES_DEBUG
        "transmitUpdate - created pidf for excludeMask [%X] with tuples [%X]\n", i+1, aiTuples));

      GuidSubHandlerMapIter iter;
      for (iter = subHandlerMap->begin(); iter != subHandlerMap->end(); iter++) //this line is shown as invalid read
      {
    subHandlerPtr lpHandler = iter->second;
    if (lpHandler)
    {
      lpHandler->queueNotify (CONTENT_TYPE, lstrPidf);
    }
  }
}
}
 } 
```

在 valgrind 中显示为具有释放迭代器的函数如下，

```
 void
 AccountStatus::removeSubscription (const char *apcSubId, subHandlerPtr apHandler)
 {
  if (apcSubId && apHandler)
  {
    int excludeMask = apHandler->excludeMask();
    if (excludeMask != 0)
    {
      if (_mSubList[excludeMask-1] != NULL)
      {
        GuidSubHandlerMap *subHandlerMap = _mSubList[excludeMask-1];

        GuidSubHandlerMapIter iter = subHandlerMap->find (apcSubId);
        if (iter != subHandlerMap->end())
        {
          ACE_DEBUG ((LM_DEBUG, ACCTPRES_DEBUG
            "removeSubscription - [%s] mask [%X]\n", apcSubId, excludeMask));

          subHandlerMap->erase (iter); //this is where valgrind is showing memory being freed
        }
      }
    }
  }
 } 
```

Valgrind输出如下，

```
 ==9130== Invalid read of size 4
==9130==    at 0x9566CC: std::_Rb_tree_increment(std::_Rb_tree_node_base*) (in /usr/lib/libstdc++.so.6.0.8)
==9130==    by 0x23A954CD: std::_Rb_tree_iterator<std::pair<std::string const, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler> > >::operator++(int) (stl_tree.h:190)
==9130==    by 0x23AB4E01: ACCOUNT_PRESENCE::AccountStatus::transmitUpdate(int, std::string&) (accountStatus.cpp:518)

==9130==  Address 0x13604894 is 12 bytes inside a block of size 28 free'd
==9130==    at 0x400668A: operator delete(void*) (vg_replace_malloc.c:480)
==9130==    by 0x23A9647E: __gnu_cxx::new_allocator<std::_Rb_tree_node<std::pair<std::string const, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler> > > >::deallocate(std::_Rb_tree_node<std::pair<std::string const, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler> > >*, unsigned int) (new_allocator.h:94)
==9130==    by 0x23A964B3: std::_Rb_tree<std::string, std::pair<std::string const, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler> >, std::_Select1st<std::pair<std::string const, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler> > > >::_M_put_node(std::_Rb_tree_node<std::pair<std::string const, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler> > >*) (stl_tree.h:362)
==9130==    by 0x23A96513: std::_Rb_tree<std::string, std::pair<std::string const, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler> >, std::_Select1st<std::pair<std::string const, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler> > > >::destroy_node(std::_Rb_tree_node<std::pair<std::string const, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler> > >*) (stl_tree.h:392)
==9130==    by 0x23A97F67: std::_Rb_tree<std::string, std::pair<std::string const, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler> >, std::_Select1st<std::pair<std::string const, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler> > >, std::less<std::string>, std::allocator<std::pair<std::string const, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler> > > >::erase(std::_Rb_tree_iterator<std::pair<std::string const, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler> > >) (stl_tree.h:1189)
==9130==    by 0x23A97FA1: std::map<std::string, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler>, std::less<std::string>, std::allocator<std::pair<std::string const, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler> > > >::erase(std::_Rb_tree_iterator<std::pair<std::string const, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler> > >) (stl_map.h:446)
==9130==    by 0x23AB5515: ACCOUNT_PRESENCE::AccountStatus::removeSubscription(char const*, std::tr1::shared_ptr<ACCOUNT_PRESENCE::subHandler>) (accountStatus.cpp:314) 
```

正如我提到的程序是单线程的，我不知道为什么会出现这个错误。有人可以帮我解决可能导致这种情况的原因吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:03:34.307

你没有显示完整的代码，所以很难说，但你应该尽量避免修改你正在迭代的容器。

如果您看到[此参考页面](http://en.cppreference.com/w/cpp/container/map/erase)，您会注意到这一行：

> 对已擦除元素的引用和迭代器无效。其他引用和迭代器不受影响。

因此，在您调用`erase`指向已擦除元素的迭代器后不再有效，这意味着您不能再使用 eg `iter++`。

# testing - 使用 Jmeter，如何查找 Web 服务器将处理的同时用户数

> ID：12209083
> 
> 赞同：-1
> 
> 时间：2012-08-31T04:50:10.340
> 
> 标签：testing, jmeter, load-testing

我已经下载了 JMeter 并围绕它玩了起来。它工作正常。我有一个简单的问题。我需要这方面的帮助。

使用 JMeter 工具我怎么能说给定的网络服务器在给定的秒或分钟有效地处理 n 个用户。. 请尽快帮助我。

谢谢你问候Ganapathy

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-31T07:12:49.710

回答这个问题正是我们进行性能测试的原因。

我们主要想了解随着并行用户数量的增加，应用程序响应时间是如何增长的。

要找出答案，您可以从[jMeter Plugins Ultimate Thread Group](http://jmeter-plugins.org/wiki/UltimateThreadGroup)开始，在测试期间逐步添加用户。要可视化测试结果，请使用jMeter 插件附带的[响应时间与线程图。](http://jmeter-plugins.org/wiki/ResponseTimesVsThreads)

但该图仅显示特定数量用户的平均响应时间。要包含时间组件，请使用[Composite Graph](http://jmeter-plugins.org/wiki/CompositeGraph)，您将在其中包含线程（用户）数和响应时间，并且您将能够实时查看响应时间如何随用户数变化。

那就是我要开始的地方。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T05:03:10.253

尝试增加请求的数量（以及触发请求的线程）并查看响应时间的行为。部分答案是您可以接受哪个响应时间的问题。另请注意，这将不等于真实用户，因为您正在从单台机器发出请求，并且其方式与请求真实页面的真实用户不可比。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-31T05:03:55.130

阅读此[比较](http://blog.olenepal.org/index.php/archives/300)，它可能会对您有所帮助。

# django - 上传后处理数据集的工作线程/队列？

> ID：12209090
> 
> 赞同：1
> 
> 时间：2012-08-31T04:52:54.147
> 
> 标签：django, uwsgi, worker, spooler

我正在用 Django 编写一个 Web 应用程序，用户可以在其中上传带有统计数据的文件。

数据需要经过处理才能正确使用（每个数据集在处理完成之前可能需要几分钟的时间）。我的想法是为此使用 python 线程并将数据处理卸载到单独的线程中。

但是，由于我使用的是 uwsgi，所以我读到了一个名为“Spoolers”的功能。这方面的文档很短，但我认为这可能是我正在寻找的。不幸的是`-Q`，uwsgi 的选项需要一个目录，这让我很困惑。

无论如何，实现诸如不阻塞 uwsgi 的网络工作者的工作线程之类的最佳实践是什么，这样我就可以在后台可靠地处理数据，同时仍然可以访问 Django 的数据库/模型？我应该改用线程吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:10:33.967

所有卸载子系统都需要某种“队列”来存储“要做的事情”。

uWSGI Spooler 使用类似打印机的方法，其中目录中的每个文件都是一个任务。当任务完成时，文件被删除。其他系统依赖于更重/更高级的服务器，如 rabbitmq 等。

最后，不要直接使用 spooler 的低级 api 而是依赖装饰器：

[http://projects.unbit.it/uwsgi/wiki/Decorators](http://projects.unbit.it/uwsgi/wiki/Decorators)

# android - 无法正确调暗屏幕

> ID：12209091
> 
> 赞同：1
> 
> 时间：2012-08-31T04:53:03.693
> 
> 标签：android

我正在尝试向用户显示敬酒，并在 5 秒后将屏幕调暗到最低亮度。但是画面一点都没有变暗。我的代码有什么错误吗？请帮忙。

代码：

```
private void DimScreen()
    {
            Toast.makeText(StartActivity.this, "Dimming screen in 5 seconds, press Stop button to turn on the screen", Toast.LENGTH_SHORT).show();
            handler.postDelayed(r, 5000);
    }

private Handler handler= new Handler();
    private Runnable r = new Runnable()
    {
        public void run()
        {
            WindowManager.LayoutParams lp = getWindow().getAttributes();
            lp.screenBrightness=0.01f;
            getWindow().setAttributes(lp);  

        }
    }; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T04:58:17.710

您是否在清单中获得了正确的权限？

你应该有这个：

```
<uses-permission android:name="android.permission.WRITE_SETTINGS"/> 
```

如果这仍然不起作用，您可能需要使用如下代码：

```
android.provider.Settings.System.putInt(getContentResolver(),
android.provider.Settings.System.SCREEN_BRIGHTNESS, SysBackLightValue); 
```

见：[http ://android-er.blogspot.tw/2011/02/change-system-screen-brightness-using.html](http://android-er.blogspot.tw/2011/02/change-system-screen-brightness-using.html)

另外，我不确定您是否能够在 UI 线程之外执行此操作...如果这最终成为问题，您可以使用[runOnUiThread](http://developer.android.com/reference/android/app/Activity.html#runOnUiThread%28java.lang.Runnable%29)

# python - 使用 ElementTree 返回 XPath 属性值

> ID：12209092
> 
> 赞同：1
> 
> 时间：2012-08-31T04:53:09.283
> 
> 标签：python, xml, elementtree

我想评估具有这种结构的 XML 文档：

```
<?xml version="1.0" encoding="UTF-8"?>
<Service_name version="3.3.0">
... 
```

其中`Service_name`标签名称不是常量字符串，而`version`属性是必需的。

为此目的，这个 xpath 表达式：`/*[1]/@version`使用任何 xpath 处理器都可以很好地评估，但我不知道如何使用 Python ElementTree。

例如：

```
import xml.etree.ElementTree as ET
doc = ET.parse('sample.xml')
v = find('/*[1]/@version').text 
```

提高`KeyError: '@'`

我尝试了类似的组合，但都没有奏效。

如何使用 ElementTree 从上面的示例文档中获取版本号？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T07:31:42.657

ElementTree uses its own path syntax, which is more or less a subset of xpath. If you want an ElementTree compatible library with full xpath support, try [lxml](http://lxml.de).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:05:03.210

虽然它不是 XPath 作为问题名称，但这似乎是一种方式：

`doc.getroot().get('version')`

# svn - ^M 在 Windows Linux 上通过 subversion

> ID：12209093
> 
> 赞同：1
> 
> 时间：2012-08-31T04:53:25.543
> 
> 标签：svn, shell, eol

我们编写了一个补丁来使用 shell 脚本替换数据文件中提供的 ^M 字符；

```
sed 's/^M//g' source_file > target_file 
```

但是由于我们`subversion`用于 shell 脚本的源代码控制并且我已经指定了`eol-style:native`属性；当我们使用UNIX 框时，这`^M`被替换为新行并变为`svn update`

```
sed 's/
//g' source_file > target_file 
```

作为一种更好的做法，我建议将其替换`sed`为`dos2unix`

```
dos2unix source_file > target_file 
```

这摆脱了`^M`字符，但作为副作用**，它也替换了 source_file 中一些不应该转换的有意义的数据。**

**所以我们想要一种方法来通过一个不应提及 ^M 字符的 shell 脚本从数据文件中删除 ^M 字符，以便它可以通过颠覆移植到 Windows 和 Linux 机器上？**

**摆脱这些问题的最佳做法是什么？**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-31T13:24:58.947

您所看到的是有人在 Windows 中编辑文件（可能使用记事本）并将文件提交到您的 Subversion 存储库。这增加了破坏 Makefile 和 shell 脚本的行尾。

幸运的是，一个好的程序编辑器（即不是记事本）可以理解各种文件的行尾是不同的，并且可以保留甚至转换行尾。这意味着在 Windows 机器上编写 Unix shell 脚本或 Makefile 的人理论上可以消除`^M`您所看到的。我敦促开发人员使用像 Eclipse 这样的 IDE 来处理这个问题，或者至少使用像 VIM 或 Notepad++ 这样的程序编辑器，但许多人仍然喜欢使用记事本并搞砸一切。

您需要做的是给予开发人员适当的*激励*，让他们使用正确的编程环境并停止弄乱文件。

这里有几个建议。

1.  您可以将高压线连接到所有开发人员的椅子上，并在他们使用记事本编辑文件时立即给他们 1,000 伏特的电击。

2.  您可以使用 Subversion 的内置机制来处理这些文件的行尾。

虽然第一种方法很诱人，但我强烈推荐后一种方法。Subversion 有一个名为的属性`svn:eol-style`，可以强制自动创建以文件结尾的正确行。例如，如果我设置`snv:eol-style`为`LF`，则文件在提交或签出时将始终具有正确的换行换行符结尾。这样，您不必进行任何后处理来删除这些行尾。问题解决了。

唯一的问题是执法问题。当开发人员创建新文件或编辑旧文件时，他们还需要将属性设置`svn:eol-style`为正确的值。Subversion 中有一个自动支持机制可以做到这一点，但你无法确保开发人员使用它。

我使用了一个[预提交钩子](https://github.com/qazwart/SVN-Precommit-Kitchen-Sink-Hook)，如果文件没有附加此属性，它可以拒绝提交文件。您应该能够设置这个钩子脚本，以便只有需要这种类型的行结束的文件（Unix 脚本、Makefile 等）而其他不受影响的文件（Java 源代码、XML 等） .

我的预提交钩子很容易设置和使用。您使用控制文件来设置您需要的内容。例如：

```
[PROPERTY All Unix Scripts must have "svn:eol-style" set to "LF"]
match = .\(sh|pl|py|ksh|csh)$
property = svn:eol-style
value = LF
type = string

[PROPERTY All Makefiles must have "svn:eol-style" set to "LF"]
match = [Mm]akefile
property svn:eol-style
value = LF
type = string 
```

这将确保开发人员首先签入具有正确行尾的文件，因此您不必对它们运行后处理脚本。这可以大大简化您的部署过程并消除最大的错误原因之一。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-31T08:19:34.467

What about `sed 's/\r$//'` ? use the `\r` sequence to denote carriage return, and only remove them just before a newline.

# asp.net - ASP.NET - 如何根据来自浏览器的用户请求执行服务器端代码

> ID：12209108
> 
> 赞同：0
> 
> 时间：2012-08-31T04:56:10.750
> 
> 标签：asp.net, .net

在 ASP.NET 应用程序中，据我所知，后面的代码位于服务器而不是浏览器中。例如，我有一个登录屏幕，在后面的代码中，单击登录按钮，我在发送到服务器之前加密用户凭据。当用户按下登录按钮时，如何触发相应的事件以及如何在发送到服务器之前对用户凭据进行加密？

谁能解释一下流程是怎样的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:08:51.787

如果您在代码隐藏中加密凭据，您是在服务器本身上加密它们，它们尚未在客户端上加密。您在浏览器的表单域中输入的任何内容都会作为 POST 的正文从客户端浏览器传输到服务器。

如果您使用的是 HTTP 协议，那么您输入的数据在网络上清晰可见（您可以使用[Fiddler](http://www.fiddler2.com/fiddler2/)或[Wireshark](http://www.wireshark.org/)来查看）。

您需要使用 HTTPS 来加密 HTTP 数据包，以便在将数据传输到服务器时内容不会被视为明文。例如，在存储到数据库之前，您是否还想显式加密服务器上的数据，这是一个单独的操作和关注点。

这份[来自 4GuysFromRolla](http://www.4guysfromrolla.com/articles/011404-1.aspx)的文档确实过时了，但在处理您的请求时达到了最高点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T04:59:36.333

您将需要[https](http://en.wikipedia.org/wiki/HTTP_Secure)来执行此操作，浏览器将在将其发送到服务器之前对其进行加密

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T05:07:45.580

由于后端编写的所有代码都在服务器上执行，因此您的密码加密也在那里完成。如果您需要在将密码发送到服务器之前对其进行加密，javascript 是唯一的方法。您可以使用 javascript AES、DES、3DES 加密算法。这是一个很好的例子 [http://point-at-infinity.org/jsaes/](http://point-at-infinity.org/jsaes/)

或者您可以使用 SSL 将您的数据发送到服务器。

如果您对页面生命周期事件感兴趣，它们是：

1) 预初始化

2) 初始化

3) 初始化完成

4) 加载视图状态

5) 加载邮政数据

6) 预加载

7) 加载

8) 加载完成

9) 预渲染

10)预渲染完成

11)保存状态完成

12)卸载

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-31T05:58:20.477

请注意，您为单击按钮编写的任何代码都在服务器上。因此，只有在服务器上的代码接收到文本时才会发生加密，而不是在此之前。我不建议使用 javascript 加密这些文本，但您应该考虑引入 SSL。在 SSL 中运行应用程序会有点慢，因为它必须加密/解密过程。因此，您可能计划在 HTTPS (SSL) 下运行受保护的页面，并在普通 HTTP 下运行其他页面。希望它有效。

# apache - Apache 不会启动错误 - 请在 cmd 中出错

> ID：12209109
> 
> 赞同：2
> 
> 时间：2012-08-31T04:56:20.363
> 
> 标签：apache

```
Diese Eingabeforederung nicht des Running beenden
bitte erst bei einem gewollten Shutdown schliessen
Please close this command only for Shutdown
Apache 2 is starting . . .
httpd.exe: Syntax error on line 35 of C:/Program Files (x86)/xampp/apache/conf/httpd.conf: server root must be a valid directory.

Apache konnte nicht gestartet werden
Apache could not be started
Press any key to continue... 
```

这就是我得到 CMD 提示的内容...有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T05:02:33.023

> C:/Program Files (x86)/xampp/apache/conf/httpd.conf 第 35 行的语法错误：服务器根目录必须是有效目录

我建议你：

*   打开文件`C:\Program Files (x86)\xampp\apache\conf\httpd.conf`；
*   检查第 35 行；和
*   将 的值更改为[`ServerRoot`](http://httpd.apache.org/docs/current/mod/core.html#serverroot)有效目录。

# struts2 - 添加“class”属性的Struts2 UI textarea标签用“class java.util.HashMap”值填充它自己

> ID：12209111
> 
> 赞同：8
> 
> 时间：2012-08-31T04:56:25.100
> 
> 标签：struts2

这只是为什么会发生奇怪的事情的问题。

我犯了一个错误，应该使用“cssClass”，但输入了“class”。但是“类”没有被定义为 textarea 标记的属性，所以我希望行为与 cssClass 值相同（未定义的属性应该按原样呈现，它确实呈现属性但具有奇怪的值和该值似乎不可更改。我提供的任何值都将被忽略，并默认为支持标签的类）。

例如，如果我定义一个“火鸡”值，我希望火鸡值以 html 呈现，正如我们在以下示例中看到的那样。

这是我在 JSP 上使用的：

```
<s:textarea turkey="" class="" name="qualLine.description" value="%{description}"/> 
```

这是渲染的内容：

```
<textarea name="qualLine.description" cols="" rows="" id="cows" class="class java.util.HashMap" turkey="">test</textarea> 
```

我的问题不是我应该怎么做，因为我*应该*使用 cssClass 而不是类，我的问题是：*这是*预期的吗？为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T02:33:06.493

也许它与正在使用的 Freemarker TemplateModel 有关？

在解析动态属性`dynamic-attributes.ftl`的. 但是，当它不计算任何东西（null 或 void）时，它就会恢复为属性名称 - 类。`textarea.ftl``StrutsUtil.translateVariables``TestParseUtil.translateVariables`

这个值，“class”，然后被评估为一个 Freemarker 表达式 - `${class}`- 在 dynamic-attributes.ftl 中。

StrutsUtil 放置在 Freemarker 模板模型中，`FreemarkerManager`从中调用`ContextUtil`来检索 Struts2 对象的映射以放置到模板模型中。放置在 TemplateModel 中的这个映射是一个 HashMap（也许是罪魁祸首映射？）。

所以，这显然不是一个完整的答案，所以我不希望“答案”被接受，但它太多了，不能放在评论中，它可能有助于阐明一些观点。如果我在本周晚些时候有时间，我可能会下载 Struts2 源并使用它来找到真正的答案。但更有可能的是，我不会花时间！

不过，这肯定是个有趣的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T11:25:37.913

发生这种情况是因为每个 Java 对象都有一个方法`getClass()`，它在您的情况下返回对象的运行时类`java.util.HashMap`。这样，虽然`class`没有为 textarea 标签定义，但它是为[TextareaTag](http://struts.apache.org/1.x/struts-taglib/apidocs/org/apache/struts/taglib/html/TextareaTag.html)类定义的，该类是实现 textarea 行为的类。这将发生在您的 jsps 中的每个标记上，因为它们最终都是用 Java 类实现的。

这就是为什么（我猜）Struts 团队使用适当的而不是`cssClass`仅仅使用`class`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-03T20:23:32.650

采用

> cssClass="输入-sm"

代替

> 类=“输入-sm”

当你使用 struts 输入时

```
<s:textfield cssClass=input-sm id="a" key="" name="" placeholder="Required"/> 
```

# debugging - 在 emacs () 中获取错误的类型参数 sequencep

> ID：12209115
> 
> 赞同：1
> 
> 时间：2012-08-31T04:56:38.303
> 
> 标签：debugging, emacs, elisp

我总是得到

```
Error during redisplay: (wrong-type-argument sequencep 42) [22 times] 
```

在 emacs**消息**缓冲区中。整个*消息缓冲区*就是这个错误消息。

即使我使用基本模式，错误仍然计算在内。

当我保存缓冲区，更改缓冲区时发生时间计数。但是，只要在一个缓冲区中简单地输入字符或移动光标，时间就不会改变。

我应该怎么做才能找出根本原因？一个更好的方法可以方便地找出这个问题，就像在emacs启动时添加一个--debug-init一样。至少，它可以告诉我哪一行引发错误。

我的设置：emacs 24.1、24.2（当前）。架构Linux。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-01T13:33:36.997

这`Error during redisplay`意味着错误出现在重新显示期间运行的 Elisp 代码中，因此 Emacs 无法方便地为您提供太多信息，因为这需要显示某些内容，而这已经是它正在尝试做的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-28T01:29:00.353

这是一个半疯狂的猜测：您的一些代码正试图对模式行文本做一些事情，重新显示试图经常更新。42 作为一个字符是`*`，而一个字符串是一个序列。这是另一个半疯狂的猜测：您加载的一些代码试图摆弄模式行，尝试将*字符* `*`处理为 string `*`，对该（预期的）字符串执行序列操作。

无论如何，要找到问题，`~/.emacs`递归地一分为二，直到找到罪魁祸首代码。（我假设您在没有初始化文件的情况下启动 Emacs 时没有问题：`emacs -Q`。）

# php - 检查多个变量是否不等于值php的更简单方法

> ID：12209118
> 
> 赞同：0
> 
> 时间：2012-08-31T04:57:00.237
> 
> 标签：php, arrays, loops, if-statement, foreach

我有很多变量，我想确保它们不等于某个值。

```
if($post[0] !== "-" && $post[3] !== "-" && $post[8] !== "-" ...) {
    // code to be executed
} 
```

函数似乎是最聪明的解决方案，类似于：

```
function check_var($junk_value, $array) {
    foreach($array as $arr) {
        if($arr[$key]) == $junk_value) {
            return false;
        }
        else {
            return true;
        }
    }
}
$junk_value = "-";
$array = array($post[0], $post[3], $post[8], $hello);
check_var($junk_value, $array); 
```

我对 foreach 循环不是很好，我不知道其他人如何使用“$key”，但它输出的是它不是为我设置的。我一直想知道人们如何在没有定义它们的情况下使用“$key”和“$value”变量。

编辑：我吸收了很多关于这个问题的信息。10分钟后，我觉得我知道的太多了。谢谢所有的答案。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-31T04:58:52.887

```
if (!in_array('-', $post)) {
  // code to be executed
} 
```

你的代码应该是

```
function check_var($junk_value, $array) {
  foreach($array as $val) {
    if ($val == $junk_value) {
      return false;
    }
  }

  return true;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T05:00:09.170

回答你的问题

> 我一直想知道人们如何使用“$key”和“$value”变量而不定义它们

您在 foreach 声明中引用键：

```
foreach($array as $key => $value) { 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-31T05:00:46.957

使用时

```
foreach($array as $arr) 
```

这`$arr`是**值**而**不是键**，因此您需要检查

```
 if($arr == $junk_value) 
```

如果您还想要密钥，请使用

```
foreach($array as $key=>$value) 
```

但是然后再次使用 foreach 你两者都有 `value`，`key`所以不需要使用`$arr[$key]`

# c#-4.0 - Unity 按名称解决

> ID：12209119
> 
> 赞同：1
> 
> 时间：2012-08-31T04:57:17.823
> 
> 标签：c#-4.0, unity-container, enterprise-library, factory, factory-pattern

我试图让 Unity 成为我在工厂模式中的工厂，因此根据命名实例返回不同的接口实现。我有以下代码

公共静态类工厂 { 私有静态只读 IUnityContainer 容器；

```
 static Factory()
    {
        container = new UnityContainer();
        container
            .AddNewExtension<EnterpriseLibraryCoreExtension>()
            .AddNewExtension<Interception>()
            .RegisterType<IInterceptionBehavior, LoggingBehaviour>()

            //register the implemantation1
            .RegisterType<IMessageFactory, implemantation1>("implemantation1")
            .RegisterType<IMessageFactory, implemantation1>(new InjectionProperty("Server", ConfigurationManager.AppSettings["Server"]))
            .RegisterType<IMessageFactory, implemantation1>(new InjectionProperty("ServerPort", int.Parse(ConfigurationManager.AppSettings["Port"])))
            .RegisterType<IMessageFactory, implemantation1>(
                new Interceptor<InterfaceInterceptor>(),
                new InterceptionBehavior(container.Resolve<IInterceptionBehavior>()))

            //register the implemantation2
            .RegisterType<IMessageFactory, implemantation2>("implemantation2")
            .RegisterType<IMessageFactory, implemantation2>(new InjectionProperty("Server", ConfigurationManager.AppSettings["Server"]))
            .RegisterType<IMessageFactory, implemantation2>(new InjectionProperty("Port", int.Parse(ConfigurationManager.AppSettings["Port"])))
            .RegisterType<IMessageFactory, implemantation2>(
                new Interceptor<InterfaceInterceptor>(),
                new InterceptionBehavior(container.Resolve<IInterceptionBehavior>()))
            ;
    }

    /// Instantiates a data provider class
    public static T CreateFactory<T>(string name)
    {
        return container.Resolve<T>(name);
    }
} 
```

当我尝试通过使用“implemantation2”或“implemantation1”调用 CreateFactory 方法来解析容器时，出现以下错误： InvalidOperationException - 无法构造类型 String。您必须配置容器以提供此值。

我不知道我做错了什么，任何帮助将不胜感激。

乔什

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T05:05:48.767

而答案是......

```
 static Factory()
    {
        container = new UnityContainer();
        container
            .AddNewExtension<EnterpriseLibraryCoreExtension>()
            .AddNewExtension<Interception>()
            .RegisterType<IInterceptionBehavior, LoggingBehaviour>()

            //register the implemantation1
            .RegisterType<IMessageFactory, implemantation1>("implemantation1", new InjectionProperty("Server", ConfigurationManager.AppSettings["Server"]))
            .RegisterType<IMessageFactory, implemantation1>("implemantation1", new InjectionProperty("Port", int.Parse(ConfigurationManager.AppSettings["Port"])))
            .RegisterType<IMessageFactory, implemantation1>("implemantation1",
                new Interceptor<InterfaceInterceptor>(),
                new InterceptionBehavior(container.Resolve<IInterceptionBehavior>()))

            //register the implemantation2
            .RegisterType<IMessageFactory, implemantation2>("implemantation2", new InjectionProperty("WSIPServer", ConfigurationManager.AppSettings["WSIPServer"]))
            .RegisterType<IMessageFactory, implemantation2>("implemantation2", new InjectionProperty("WSIPServerPort", int.Parse(ConfigurationManager.AppSettings["WSIPServerPort"])))
            .RegisterType<IMessageFactory, implemantation2>("implemantation2",
                new Interceptor<InterfaceInterceptor>(),
                new InterceptionBehavior(container.Resolve<IInterceptionBehavior>()))
            ;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T22:29:26.097

您必须将所有注入设置放在注册调用中：

```
.RegisterType<IMessageFactory, implemantation1>(
          "implemantation1",
          new InjectionProperty("Server", ConfigurationManager.AppSettings["Server"]),
          new InjectionProperty("ServerPort", int.Parse(ConfigurationManager.AppSettings["Port"]),
          new Interceptor<InterfaceInterceptor>(),
          new InterceptionBehavior(container.Resolve<IInterceptionBehavior>())) 
```

# java - GWT 获取应用的路径

> ID：12209121
> 
> 赞同：4
> 
> 时间：2012-08-31T04:57:24.220
> 
> 标签：java, gwt

我有一个 GWT 应用程序，当我在运行应用程序后在本地部署主页时是 localhost:8888/myapp.html 但是当我们将它部署到服务器时，在运行其主页的应用程序之后是 107.20.239.198:8080/myapp/myapp.html .

现在我的应用程序的所有相关路径都失败了。我需要确切路径的地方，我无法得到。因为现在路径不同了。例如，当我在应用程序中单击特定小部件时 -> 它重定向到路径 '/# + "place no.1" + "place no.2" '

但是现在它在服务器上部署时会失败，因为它现在需要路径 -> '/myapp/# + "place no.1" + "place no.2" '。

那么我怎样才能使它通用，以便我可以处理这两个条件。

谁能帮我这个 ？

PS我希望我能够很好地表达我的问题，否则你可以评论它，以便我可以更好地解释它。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-31T05:16:23.823

从您上面提到的本地 url，看起来您正在`AppEngine`的服务器上运行它。`Tomcat`最好先在本地部署应用程序。并确保一切正常。这些是您可以用来获取`relative/absolute urls`应用程序启动时间的几种方法。

```
GWT.getHostPageBaseURL(); GWT.getModuleBaseURL(); GWT.getModuleName(); 
```

希望能帮助到你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T05:04:06.173

您应该在应用程序中使用相对于您的上下文的相对路径。使用`request.getContextPath()`您将能够获得正确的上下文路径。但是，如果您将在代码中使用“/”，您将始终引用您的上下文路径，无论上下文是什么。因此，要创建指向内部页面的链接，您将使用 /internal.html。在您的本地计算机上将转换为 localhost:8888/internal.html，但在服务器上它将是：107.20.239.198:8080/myapp/internal.html。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-31T15:29:51.710

正如@Anuj Kulkarni 所提到的，你真的应该使用相对路径，否则你总是会遇到这些问题。但我有 1 个特殊问题，我无法做到这一点。因此，如果您愿意，可以使用：

```
if (!GWT.isProdMode()) 
```

在这里，您可以为您的开发环境和部署定义不同的 url。但是，如果您在代码中多次使用它，那么这确实意味着您做错了什么。

# javascript - 基于窗口/视口尺寸的Javascript em调整大小不影响文档内样式文本/ css？

> ID：12209122
> 
> 赞同：0
> 
> 时间：2012-08-31T04:57:57.820
> 
> 标签：javascript, html, css, media-queries, fluid-layout

我正在使用以下内容根据浏览器大小调整文本（和其他元素）的大小。

```
(function(w){
   var run = w.onresize = function(){
    document.body.style.fontSize=window.innerWidth*.009536+"px"
   }
   run();
})(window); 
```

但是，它不会影响以下内容：

```
<style type="text/css">
.search-sprite
{
background-image: url(../../images/searchsprite.png);
height: 2.46em;
cursor: pointer;
background-repeat:no-repeat;
}

.search-sprite:hover {
background-position: 0px -2.46em;   
}
</style> 
```

为什么？我该如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T18:05:38.203

```
@media screen and (max-device-width : 320px)
{
  body or yourdiv element
  {
    font:size(px/em/cm);
  }
}
@media screen and (max-device-width : 1024px)
{
  body or yourdiv element
  {
    font:size(px/em/cm);
  }
} 
```

您可以根据屏幕的屏幕尺寸手动给它。只需查看不同的屏幕尺寸并手动添加字体大小。

# oracle9i - 将行显示为列 Oracle

> ID：12209124
> 
> 赞同：0
> 
> 时间：2012-08-31T04:58:14.913
> 
> 标签：oracle9i

我的问题很简单，我想将行显示为列：

例如：学生

```
 Name  Age
 ----------
 John   10
 Paul   20
 Smith  25 
```

显示信息如下：

```
John  Paul  Smith
------------------
10     20     25 
```

我已经阅读了有关`Decode`Function 的内容，但同样不灵活。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T13:02:37.177

要使最终结果集动态化（您不知道需要旋转多少列），您需要生成查询，然后为其打开一个引用游标。

看看这个链接和其中的代码清单 2..

[http://www.oracle.com/technetwork/issue-archive/2012/12-jul/o42asktom-1653097.html](http://www.oracle.com/technetwork/issue-archive/2012/12-jul/o42asktom-1653097.html)

# asp.net-mvc - ASP.NET MVC 编辑器模板名称为空字符串

> ID：12209128
> 
> 赞同：1
> 
> 时间：2012-08-31T04:58:31.207
> 
> 标签：asp.net-mvc, mvc-editor-templates

在某些编辑器模板（例如，对象的默认编辑器模板）中，编辑器由属性名称呈现：`Html.Editor(prop.PropertyName)`。但是在其他一些编辑器模板中，我看到空字符串用于名称：`Html.Editor("")`为什么？它是如何工作的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T05:59:08.847

`Html.Editor()`接受一个字符串输入，然后它成为一个**id**和创建的编辑器文本框的**name**属性。

例如，如果我使用这样的东西

```
<p>
Editor 1 : @Html.Editor("firstName")
</p> 
```

这将呈现为

```
<p>
Editor 1 : <input type="text" value="" name="firstName" id="firstName" class="text-box single-line">
</p> 
```

这就是使用 Html.Editor 的方式。

但是如果你使用这样的东西，（你有）

```
<p>
Editor 2 : @Html.Editor("")
</p> 
```

这将呈现这样

```
<p>
Editor 2 : 
</p> 
```

希望这能回答你的问题。

# php - 我们如何将图像路径存储在sql中的数组中

> ID：12209130
> 
> 赞同：0
> 
> 时间：2012-08-31T04:58:37.527
> 
> 标签：php, sql, wordpress

我正在使用此代码将图像路径存储在数据库中，但它不起作用，所以任何人都可以告诉我此代码有什么问题吗？我尝试将这些图像保存在 sql 中的数组中。那我该怎么办呢。提前致谢

```
foreach ($_FILES["image_party"]["error"] as $key => $error) { 
    if ($error == UPLOAD_ERR_OK) { 
        $ofname1 = $_FILES["image_party"]["name"][$key]; 
        $fnm1 = $_FILES["image_party"]["tmp_name"][$key]; 
        $location = "../wp-content/plugins/".dirname(plugin_basename(__FILE__))."/uploads/".$ofname1; 
        move_uploaded_file($fnm1,$location); 
        CreateimageThumb("../wp-content/plugins/".dirname(plugin_basename(__FILE__))."/uploads/".$ofname1,"../wp-content/plugins/".dirname(plugin_basename(__FILE__))."/thumbnail/".$ofname1,140,140); 
        $datos_uno=implode(",", $ofname1); 

        $table_name1 = $wpdb->prefix ."pimages"; 
        $query1="INSERT INTO ". $table_name1 . " set storiesid = '".$lid."',partyimg = '".$datos_uno."'"; 
        mysql_query($query1); //echo $query1; exit; //$lid = mysql_insert_id(); //echo $query1; exit;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T05:10:11.347

我不知道您是否发布了代码的调试版本，但是`exit`在您的 sql 命令之前有一个...这将阻止其余代码工作。

好的，因为那是调试版本，请更改您的查询，如下所示并尝试：

```
$query1="INSERT INTO ". $table_name1 . "(storiesid,partyimg) values ('".mysql_real_escape_string($lid)."','".mysql_real_escape_string($datos_uno)."')"; 
```

另外，作为旁注，考虑使用`mysqli`或`PDO`因为`mysql`函数在 PHP 中已被弃用

# vba - 在宏中设置边框时出错

> ID：12209134
> 
> 赞同：0
> 
> 时间：2012-08-31T04:59:01.030
> 
> 标签：vba, excel

我正在运行一个设置一组单元格格式的宏。

```
Public LastRow as Integer
Sub Formatting()
    LastRow = 20
    With ThisWorkbook.Sheets("Sheet1").Range("A15:" & "AA" & LastRow)
        .Borders.Weight = xlThin
    End With
End Sub 
```

当我第一次运行宏时它工作但第二次我收到以下错误运行时错误'1004'：无法设置边框类的权重属性。

我现在也无法手动更改受影响单元格的边界。我不确定发生了什么。我正在运行 excel 2010

提前致谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:12:52.663

一些事情

1.  不要`Function`为此使用 a。使用`Sub`. `Function`当你想退货时使用 a
2.  完全限定您的变量/对象
3.  我没有看到您设置`LastRow`任何地方的值。

尝试这个

```
Sub Formatting()
    Dim LastRow As Long
    LastRow = 20

    '~~> Change Sheet1 to the relevant sheetname or use Code Name
    With ThisWorkbook.Sheets("Sheet1").Range("A15:" & "AA" & LastRow)
        .Borders.Weight = xlThin
    End With
End Sub 
```

# c++ - xCode 编译旧的 C++ 代码

> ID：12209148
> 
> 赞同：1
> 
> 时间：2012-08-31T05:00:52.487
> 
> 标签：c++, xcode

我正在运行 Xcode 4.4.1，这是一个非常愚蠢的问题。我可以启动新的简单 C++ 命令行项目并正常编译。但是，当我从左窗格中删除源文件并拖放新的 .cpp/.h 文件并点击编译时，“旧”以前的代码仍会编译并显示在提示中。我正在从 VS 2010 转移，我知道这一定是代表我的愚蠢的链接疏忽。我如何简单地从其他地方添加源文件并通过添加到项目中进行编译？

我知道这是一个菜鸟问题，但我环顾四周，失去了一点耐心。

谢谢大家。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T06:24:59.893

Xcode 的行为很奇怪，左侧显示的文件可能无法反映真实的文件层次结构，如果存在某些东西并不意味着它会被编译。

您必须使用右侧面板中的检查器手动检查每个文件以查看它是否已添加到构建中，或者更方便地检查“Project.xcodeproject/project.pbxproj”或类似的东西。它是一个 XML 文件，它维护有关您添加到项目中的所有文件、文件夹和项目的信息，包括如何处理这些文件。

生成的文件是人类可读的，Xcode 轻轻地添加了很多注释 :) 我认为你必须检查第一部分，它声明了所有资源，有一个属性说明你想对每个文件做什么。

我希望这能帮到您 ：）

* * *

编辑 ：

您可以通过选择文件并显示“文件检查器”（`alt + cmd + 1`）来检查当前目标是否包含文件。该信息位于“目标会员”部分，请确保至少选中一个项目。

关于project.pbxproj，相关部分是PBXBuildFile，它必须是第一个。每个条目都是对构建步骤的引用，并指示使用`isa`字段 (PBXBuildFile) 和对象 ( `fileRef`) 必须完成的操作。

在下面`fileRef`的组层次结构和 PBXFileReference 部分中匹配您的文件。它是指示文件类型的 PBXFileReference 部分（使用`lastKnownFileType`属性）。

# grails - 将外键传递给编辑/删除视图 grails

> ID：12209154
> 
> 赞同：0
> 
> 时间：2012-08-31T05:01:27.397
> 
> 标签：grails, groovy

我有一组`stream`视频，它们具有`district`它们所属的外键。但是，然后我单击`edit`或`delete`按钮，我得到了；

```
Error 2012-08-30 23:51:16,424 [http-bio-8080-exec-7] ERROR errors.GrailsExceptionResolver  - MissingMethodException occurred when processing request: [GET] /ctv/stream/list
No signature of method: ctv.Stream.findAllByDistrict() is applicable for argument types: () values: []
Possible solutions: findAllByDistrict([Ljava.lang.Object;). Stacktrace follows:
Message: No signature of method: ctv.Stream.findAllByDistrict() is applicable for argument types: () values: []
Possible solutions: findAllByDistrict([Ljava.lang.Object;) 
```

问题是因为

```
<g:form>
  <g:hiddenField name="id" value="${streamInstance?.id}" />
  <span class="button"><g:actionSubmit class="edit" action="edit" id="${params['district']}" value="${message(code: 'default.button.edit.label', default: 'Edit')}" /></span>
  <span class="button"><g:actionSubmit class="delete" action="delete" id="${params['district']}" value="${message(code: 'default.button.delete.label', default: 'Delete')}" onclick="return confirm('${message(code: 'default.button.delete.confirm.message', default: 'Are you sure?')}');" /></span>
</g:form> 
```

我正在尝试将`district`id 发送到`edit`页面，但我无法做到。有人可以帮我吗？假设`district=10`，那么我需要`10`通过`<g:actionSubmit>`标签传递值。我怎么能那样做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T08:49:55.363

我认为[actionSubmit](http://www.grails.org/doc/latest/ref/Tags/actionSubmit.html)标签不支持 id 参数。它只支持行动和价值。

您必须将地区 id 放在隐藏字段中

```
<g:hiddenField name="district" value="${params['district']}" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T12:08:48.713

使用简单的 g:link`<g:link action="edit" id="${streamInstance.id}" >`这里不需要 g:form。还要检查您的控制器设置。

```
class MakeAppController {
static allowedMethods = [ update: "POST", delete: "GET",save: "GET"] 
```

因为 Grails 框架允许在控制器中检查请求。

# android - Android中的键值观察

> ID：12209158
> 
> 赞同：2
> 
> 时间：2012-08-31T05:01:56.833
> 
> 标签：android, key-value-observing

Android中的键值观察等价物是什么？

`addObserver:forKeyPath:options:context:`iphone里有类似的东西吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T05:39:37.863

如果您尝试做的是检测共享偏好是否发生了变化，您可能想看看这个 SO [question](https://stackoverflow.com/questions/4997907/android-how-to-detect-if-changes-were-made-on-the-preferences)，它似乎可以解决您所追求的问题。

如果不是，您可能想详细说明您要完成的工作

# ruby-on-rails - 邮件中未定义的方法“to_liquid”，但页面中没有

> ID：12209159
> 
> 赞同：2
> 
> 时间：2012-08-31T05:02:02.727
> 
> 标签：ruby-on-rails, ruby-on-rails-3, template-engine, liquid

在视图中使用 Liquid 模板发送电子邮件时，我的对象出现错误`Liquid error: undefined method 'to_liquid' for #<Email:0x007f9ca1a62d28>`。`Email`但是，当我在浏览器中自己渲染视图时，它工作得很好！

这是我的看法：

```
= raw @template.render('email' => @email, 'organization' => @organization)

%p= sanitize("<a href='{{ unsubscribe_url }}''>Click here to unsubscribe</a>")

%p{style:'text-align:center;'}
  Sent with
  = link_to 'Vocalem', 'http://vocalem.com' 
```

我的邮件的相关部分：

```
class BulkMailer < ActionMailer::Base
  def bulk_email(recipients, email, organization)
    ...
    @organization = organization
    @email = email
    @template = Liquid::Template.parse(organization.current_email_template.body) 
```

相关型号代码：

```
liquid_methods :subject, :body, :id 
```

最后但并非最不重要的是，Liquid 给出错误的示例（但在普通视图中工作正常！）：

```
{{email.body}} 
```

奇怪的是，`{{organization.display_name}}`不会抛出错误，而是在电子邮件中完全空白（尽管在普通视图中再次正常工作）。

任何线索可能发生在这里？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-31T08:24:34.597

尝试在组织模型中使用 to_liquid 创建液体方法并检查

```
def to_liquid
  {
   'display_name'=>self.name,
   'email_body'=>self.current_email_template.body 
  }
end 
```

# python - 多次运行rebuild_index 命令看起来像是再次标记值

> ID：12209163
> 
> 赞同：0
> 
> 时间：2012-08-31T05:02:23.450
> 
> 标签：python, django, django-haystack

`rebuild_index`从一个 Python shell 会话多次运行该命令时，我注意到奇怪的行为。

在此示例中，我`rebuild_index`从 Bash shell 运行，然后进入 Python shell 以检查构面值。它们是大写的。然后我`rebuild_index`从 Python shell 运行命令，并且构面值是小写的。

```
$ bin/manage rebuild_index
WARNING: This will irreparably remove EVERYTHING from your search index in connection 'default'.
Your choices after this are to restore from backups or rebuild via the `rebuild_index` command.
Are you sure you wish to continue? [y/N] y

Removing all documents from your index because you said so.
Failed to clear Elasticsearch index: Non-OK status code returned (404) containing u'IndexMissingException[[my_index] missing]'.
All documents removed.
Indexing 40 components.

In [1]: from haystack.query import SearchQuerySet

In [2]: SearchQuerySet().models(Component).facet('primary_language').facet_counts()
Out[2]:
{'dates': {},
 'fields': {'primary_language': [(u'Java', 24),
   (u'Scala', 5),
   (u'C', 3),
   (u'Python', 2),
   (u'C++', 2),
   (u'PHP', 1),
   (u'Javascript', 1),
   (u'Ada', 1),
   (u'.Net', 1)]},
 'queries': {}}

In [3]: from django.core import management

In [4]: management.call_command('rebuild_index', interactive=False, verbosity=0)
Failed to clear Elasticsearch index: Non-OK status code returned (404) containing u'IndexMissingException[[my_index] missing]'.

In [5]: SearchQuerySet().models(Component).facet('primary_language').facet_counts()
Out[5]:
{'dates': {},
 'fields': {'primary_language': [(u'java', 24),
   (u'scala', 5),
   (u'c', 5),
   (u'python', 2),
   (u'php', 1),
   (u'net', 1),
   (u'javascript', 1),
   (u'ada', 1)]},
 'queries': {}} 
```

下一个奇怪的事情是，如果我`rebuild_index`从 Python shell 运行命令并尝试按`name`字段排序，我会收到 ElasticSearch 错误。

```
$ bin/manage rebuild_index
WARNING: This will irreparably remove EVERYTHING from your search index in connection 'default'.
Your choices after this are to restore from backups or rebuild via the `rebuild_index` command.
Are you sure you wish to continue? [y/N] y

Removing all documents from your index because you said so.
Failed to clear Elasticsearch index: Non-OK status code returned (404) containing u'IndexMissingException[[my_index] missing]'.
All documents removed.
Indexing 40 components.

In [1]: from haystack.query import SearchQuerySet

In [2]: SearchQuerySet().order_by('name')
Out[2]: [<SearchResult: my_app.component (pk=u'2')>, <SearchResult: my_app.component (pk=u'1')>, <SearchResult: my_app.component (pk=u'5')>, <SearchResult: my_app.component (pk=u'4')>, <SearchResult: my_app.component (pk=u'3')>, <SearchResult: my_app.component (pk=u'6')>, <SearchResult: my_app.component (pk=u'7')>, <SearchResult: my_app.component (pk=u'8')>, <SearchResult: my_app.component (pk=u'9')>, <SearchResult: my_app.component (pk=u'11')>, <SearchResult: my_app.component (pk=u'14')>, <SearchResult: my_app.component (pk=u'13')>, <SearchResult: my_app.component (pk=u'15')>, <SearchResult: my_app.component (pk=u'19')>, <SearchResult: my_app.component (pk=u'20')>, <SearchResult: my_app.component (pk=u'21')>, <SearchResult: my_app.component (pk=u'22')>, <SearchResult: my_app.component (pk=u'23')>, <SearchResult: my_app.component (pk=u'24')>, '...(remaining elements truncated)...']

In [3]: from django.core import management

In [4]: management.call_command('rebuild_index', interactive=False, verbosity=0)
Failed to clear Elasticsearch index: Non-OK status code returned (404) containing u'IndexMissingException[[my_index] missing]'.

In [5]: SearchQuerySet().order_by('name')
Failed to query Elasticsearch using '*:*': Non-OK status code returned (500) containing u'SearchPhaseExecutionException[Failed to execute phase [query], total failure; shardFailures {[SkgxFvdjRgyoiHv2qSpfbQ][my_index][4]: QueryPhaseExecutionException[[my_index][4]: query[filtered(ConstantScore(NotDeleted(cache(QueryWrapperFilter(django_ct:my_app.component)))))->cache(_type:modelresult)],from[0],size[20],sort[<custom:"name": org.elasticsearch.index.field.data.strings.StringFieldDataType$1@3cb9b947>]: Query Failed [Failed to execute main query]]; nested: IOException[Can\'t sort on string types with more than one value per doc, or more than one token per field]; }{[SkgxFvdjRgyoiHv2qSpfbQ][my_index][0]: QueryPhaseExecutionException[[my_index][0]: query[filtered(ConstantScore(NotDeleted(cache(QueryWrapperFilter(django_ct:my_app.component)))))->cache(_type:modelresult)],from[0],size[20],sort[<custom:"name": org.elasticsearch.index.field.data.strings.StringFieldDataType$1@249cf580>]: Query Failed [Failed to execute main query]]; nested: IOException[Can\'t sort on string types with more than one value per doc, or more than one token per field]; }{[SkgxFvdjRgyoiHv2qSpfbQ][my_index][3]: QueryPhaseExecutionException[[my_index][3]: query[filtered(ConstantScore(NotDeleted(cache(QueryWrapperFilter(django_ct:my_app.component)))))->cache(_type:modelresult)],from[0],size[20],sort[<custom:"name": org.elasticsearch.index.field.data.strings.StringFieldDataType$1@4ff80724>]: Query Failed [Failed to execute main query]]; nested: IOException[Can\'t sort on string types with more than one value per doc, or more than one token per field]; }{[SkgxFvdjRgyoiHv2qSpfbQ][my_index][2]: QueryPhaseExecutionException[[my_index][2]: query[filtered(ConstantScore(NotDeleted(cache(QueryWrapperFilter(django_ct:my_app.component)))))->cache(_type:modelresult)],from[0],size[20],sort[<custom:"name": org.elasticsearch.index.field.data.strings.StringFieldDataType$1@99b8b51>]: Query Failed [Failed to execute main query]]; nested: IOException[Can\'t sort on string types with more than one value per doc, or more than one token per field]; }{[SkgxFvdjRgyoiHv2qSpfbQ][my_index][1]: QueryPhaseExecutionException[[my_index][1]: query[filtered(ConstantScore(NotDeleted(cache(QueryWrapperFilter(django_ct:my_app.component)))))->cache(_type:modelresult)],from[0],size[20],sort[<custom:"name": org.elasticsearch.index.field.data.strings.StringFieldDataType$1@42d777c4>]: Query Failed [Failed to execute main query]]; nested: IOException[Can\'t sort on string types with more than one value per doc, or more than one token per field]; }]'.
Out[5]: [] 
```

在此之后，我退出了 Python shell。我启动了另一个 Python shell。我运行了以下几行，结果是正确的。

```
from django.core import management
management.call_command('rebuild_index', interactive=False, verbosity=0)
from haystack.query import SearchQuerySet
SearchQuerySet().order_by('name') 
```

这使我得出结论，`rebuild_index`在 Python 解释器的生命周期中只能成功运行一次。看起来像在 Python 解释器中第二次运行它会使 Haystack 再次标记值。这解释了为什么以小写形式返回构面值。它还解释了我在尝试对结果进行排序时收到的错误消息：“无法对每个文档具有多个值或每个字段多个标记的字符串类型进行排序”。它必须将`name`空格字符的值分解为多个值。

现在问题来了，如果我`rebuild_index`在 Python 解释器中运行不止一次，为什么对 Haystack 很重要？我不明白这一点，因为`rebuild_index`它也`clear_index`作为第一个操作运行。清除索引不应该是确保再次重建索引获得相同结果的充分方法吗？显然这不是真的。我不知道为什么。

这里真正的困境是，如果我不能 1) 以原始格式检索构面值，我到底应该如何编写正确的单元测试（在哪里`rebuild_index`运行）？`setUp()`2) 我不能按具有空格值的字段排序？

有什么解释、建议或想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T10:21:21.400

发生这种情况是因为后端的实例变量需要在`rebuild_index`第二次运行之前重置。

```
from django.core import management
from haystack import connections
backend = connections['default'].get_backend()
backend.setup_complete = False
backend.existing_mapping = None
management.call_command('rebuild_index', interactive=False, verbosity=0) 
```

# java - 接口和包

> ID：12209164
> 
> 赞同：1
> 
> 时间：2012-08-31T05:02:27.810
> 
> 标签：java, interface

我正在用 Java 实现一个接口，并且想知道为什么这段代码：

```
package threaddemo;

// Create a new thread...
class NewThread implements Runnable {
      Thread t;
      NewThread(){
        // Create a second, new thread...
        t = new Thread(this, "Demo Thread");
        System.out.println("Child thread: " + t);
        t.start();
      }

    // This is the entry point for the second thread...
    public void run(){
           try {
               for (int i=0; i<5; i++){
                   System.out.println("Child thread: " + i);
                    // Let the thread sleep for a while...
                    Thread.sleep(500);
               }
           } catch (InterruptedException e) {
                   System.out.println("Child interrupted...");
               }
                   System.out.println("Exiting child thread...");
           } }

public class ThreadDemo {

    public static void main(String[] args) {
            // Create a new thread...
            new NewThread(); 
            try {
                for (int i=0; i<5; i++){
                    System.out.println("Main thread: " + i);
                       Thread.sleep(1000);
                }
            } catch (InterruptedException e){
                System.out.println("Main thread itnerrupted...");
            }
            System.out.println("Main thread exiting...");
    } } 
```

在其左侧生成以下警告：

```
Package Field 
```

当您实现接口时，您是否可以访问包含该接口的包中的类？我的包中还没有其他文件，我也没有进行任何类型的导入，所以我实际上有点困惑**为什么**可以访问它...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:09:05.077

从来没有见过那个警告，所以在这里走出去......你有为班级定义的包吗？否则，它可能意味着`Thread t`-member 具有大多数书籍所说的*默认*可见性或*包私有*可见性（这意味着包和类级别的可见性），因为该字段没有可见性修饰符。Java 有 4 种不同的可见性：public、default、protected、private。有关更多信息，请参见此处：[控制对类成员的访问](http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html)

# cocoa - 如何从 Mac 应用程序发送邮件

> ID：12209165
> 
> 赞同：0
> 
> 时间：2012-08-31T05:02:26.907
> 
> 标签：cocoa, email

我是开发 Mac 应用程序的新手，在我的应用程序中，我需要像在 iPhone 中一样打开邮件撰写，但我无法找到我必须使用的框架。

任何人都知道这一点，如何打开邮件撰写窗口。

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:35:36.570

解决此问题的一种方法是使用 NSAppleScript 类。如果您至少对 AppleScript 有点熟悉，那应该不会太难。

```
 NSAppleScript *mailScript;
    NSString *scriptString= [NSString stringWithFormat:@"tell application \"Mail\"\nmake new outgoing message with properties {visible:true, subject:\"%@\", content:\"%@\"}\nactivate\nend tell",subject,body];
    mailScript = [[NSAppleScript alloc] initWithSource:scriptString];
    [mailScript executeAndReturnError:nil]; 
```

# java - x86和x64有什么区别

> ID：12209168
> 
> 赞同：51
> 
> 时间：2012-08-31T05:02:43.700
> 
> 标签：java

[x86 和 x64 二进制文件](http://www.oracle.com/technetwork/java/javase/downloads/java-se-jdk-7-download-432154.html)有什么区别，我们想下载适用于 Windows 7、Ubuntu 12.04 的二进制文件（32 位选项）

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2012-08-31T05:04:31.480

x86 用于 32 位操作系统，x64 用于 64 位操作系统

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-08-31T05:09:58.653

不同之处在于 Java 二进制文件分别编译为 x86（32 位）或 x64（64 位）应用程序。

在 64 位 Windows 上，您可以使用任一版本，因为 x86 将在 WOW64 模式下运行。在 32 位 Windows 上，您显然应该只使用 x86。

对于 Linux，您应该为 32 位操作系统选择适当的类型 x86，为 64 位操作系统选择 x64。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-02-03T19:37:16.077

x86 是 32 位指令集，x86_64 是 64 位指令集……区别在于简单的架构。如果是 Windows 操作系统，您最好使用 x86/32 位版本来解决兼容性问题。在 Linux 的情况下，如果操作系统没有长模式标志，您将无法使用 64 位软件。

无论我推荐什么，如果你有一个 Windows 7 32 位操作系统，然后选择 32 位或 x86 二进制文件，对于 Ubuntu 12.04 使用命令`uname -a`或`grep lm /proc/cpuinfo`（*`grep lm /proc/cpuinfo`不返回 32 位的值，因为 32 位操作系统没有 cpuinfo 标志*）了解架构操作系统你的操作系统然后根据你的操作系统使用二进制文件。

** 笔记。请记住，只要支持增强的 64 位，您始终可以在 32 位系统中安装 64 位操作系统。64 位操作系统有时更适合多用途工作，并且还支持比 32 位更多的内存。您也可以在 64 位操作系统中安装 32 位软件。

** 操作系统 = 操作系统。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2021-12-03T17:46:34.140

## x86

*   x86 是 32 位指令。
*   32 位处理器不能安装 64 位版本的操作系统。
*   它源于英特尔 8086 处理器
*   只有 4GB 的可寻址内存限制。
*   它只能访问 2 个核心。
*   不太灵活和不太安全
*   虚拟内存量较少
*   X86 应用程序与 x86 和 x64 系统兼容。
*   X86 具有英特尔使用的架构接口，需要使用更多寄存器来拆分和存储值。

## x64

*   x64 是 64 位指令。
*   许多 32 位程序与 64 位处理器和操作系统一起工作。
*   它是 AMD 对 x86 的扩展
*   最大 8TB（截至 2018 年）。
*   它允许计算机访问多达 8 到 12 个内核。
*   高效且安全。
*   虚拟内存量更大。
*   为 x64 编译仅在 64 位操作系统中具有速度优势。
*   X64 具有 AMD 使用的架构接口。
*   值大于可存储的值。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2018-01-02T06:58:02.767

[x86](https://en.wikipedia.org/wiki/X86)是基于 Intel 8086 CPU 及其 Intel 8088 变体**的向后兼容指令集架构系列。**

[指令集架构 (ISA)](https://en.wikipedia.org/wiki/Instruction_set_architecture)是计算机的抽象模型。它也被称为架构或计算机架构。

ISA 的实现称为实现。ISA 允许在性能、物理尺寸和货币成本（除其他外）方面可能不同的多种实现；因为 ISA 充当软件和硬件之间的接口。

为 ISA 编写的软件可以在同一 ISA 的不同实现上运行（Exp：32 位或 64 位）。这使得不同代计算机之间的二进制兼容性很容易实现，以及计算机家族的发展。

这两项发展都有助于降低计算机的成本并提高其适用性。由于这些原因，ISA 是当今计算中最重要的抽象之一。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-03-18T13:47:37.190

如果您下载 Java 开发工具包 (JDK)，则会有所不同，因为它包含不同架构的本地库：

*   x86 适用于 32 位操作系统
*   x64 适用于 64 位操作系统

此外，您可以在 64 位操作系统上使用 32 位 JDK(x86)。但是您不能在 32 位操作系统上使用 64 位 JDK。

同时，您可以在任何 JVM 上运行已编译的 Java 类。不管是 32 位还是 64 位。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2018-03-16T08:27:09.947

在内存使用方面，x86 被限制在大约 3 / 3,5 Gb，而 x64 可以在 4 Gb 及更多的情况下正常工作。

此外，对于 Windows，x86 将在 X86 和 x64 处理器上运行，而 x64 只需要 x64 处理器。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2017-09-24T09:30:21.150

奇怪的是，这是英特尔的事情，而不是微软的事情。X86 指的是 Intel CPU 系列从 8086 到 80486。 Pentium 系列仍然使用相同的寻址系统。x64 指的是英特尔后来为 64 位 CPU 推出的 I64 寻址系统。所以 Windows 只是遵循英特尔的架构命名。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2017-11-20T05:08:17.310

x64 是英特尔和 AMD 的 32 位 x86 指令集架构 (ISA) 的 64 位扩展的通用名称。AMD 推出了 x64 的第一个版本，最初称为 x86-64，后来更名为 AMD64。英特尔将他们的实现命名为 IA-32e，然后是 EMT64。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2020-12-24T18:38:45.577

“使用 C# 编程时，您通常不需要担心底层目标平台。然而，在少数情况下，应用程序和操作系统架构会影响程序逻辑、更改功能并导致意外异常。”

“通常的误解是，选择特定目标会导致编译器生成特定于平台的代码。事实并非如此，而是它只是在程序集的 CLR 标头中设置一个标志。可以使用 Microsoft 的CoreFlags 工具"

[https://medium.com/@trapdoorlabs/c-target-platforms-x64-vs-x86-vs-anycpu-5f0c3be6c9e2](https://medium.com/@trapdoorlabs/c-target-platforms-x64-vs-x86-vs-anycpu-5f0c3be6c9e2)

# android - 服务发送多个广播 Android

> ID：12209169
> 
> 赞同：0
> 
> 时间：2012-08-31T05:02:53.263
> 
> 标签：android, intentservice

我有一个活动可以将多个上传内容卸载到 Intent 服务。每个上传都有自己的 IntentService，自然会一个一个地执行。我的活动有一个像这样的广播接收器

```
public class ResponseReceiver extends BroadcastReceiver
{
    @Override
    public void onReceive(Context context, Intent intent)
    {
        int position=intent.getExtras().getInt(POSITION); 
        long bytes=intent.getExtras().getLong(BYTES); 

    }
} 
```

这是从 IntenetService 收到的关于上传字节数的消息。我用这个信息来更新上传对应的进度条信息。这一切都很好。我的活动注册了 IntenetReciever

```
IntentFilter filter = new IntentFilter(ACTION_RESP);
    filter.addCategory(Intent.CATEGORY_DEFAULT);
    receiver = new ResponseReceiver();
    registerReceiver(receiver, filter); 
```

现在我的问题是我希望我的服务广播两条消息。一是 onHandleIntent 方法开始执行的时候，二是上传的字节数。上面的过滤器用于上传的字节数。如何为来自同一个 IntentService 的多个广播消息注册我的活动。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:17:31.900

在您的活动中，您可以使用不同的 IntentFilter-s 注册两个接收器。或者您可以只有一个，但您需要在 onReceive 方法中区分不同的消息。

```
@Override
public void onReceive(Context context, Intent intent)
{

    if(intent.getAction().equals("aaa")  {
        // do something here
    } else if (intent.getAction().equals("bbb")) {
        // do something different here        
    }

} 
```

# java - 使用 shell 脚本写入程序的标准输入

> ID：12209171
> 
> 赞同：1
> 
> 时间：2012-08-31T05:03:09.550
> 
> 标签：java, bash, unix

我想从 Unix (bash) 命令行将文本输入发送到以下 Java 程序，以便它打印输入的文本。如何编写一个将字符串“Print this”发送到 Java 程序的 shell 脚本？

```
import java.util.Scanner;
public class ReadStuff{
    public static void main(String[] args){
        Scanner scan = new Scanner(System.in);
        System.out.println("Enter some text:");
        System.out.println(scan.nextLine());
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-31T05:05:01.693

利用`echo`

```
echo "Print this" | java ReadStuff 
```

请注意，这将输出：

```
Enter some text:
Print 
```

因为您正在调用`Scanner.next()`which 读取下一个单词，而不是整行。

或者，如果您的文件中有内容：

```
cat file_with_Print_this | java ReadStuff 
```

# python - 使用 Python 通过代理服务器（带身份验证）ping 网站

> ID：12209183
> 
> 赞同：0
> 
> 时间：2012-08-31T05:04:40.073
> 
> 标签：python, authentication, proxy, icmp

我是新手，刚刚学习 python 编程的技巧，这是我正在尝试做的事情。

我的互联网是通过需要身份验证的代理服务器。如何使用 Python ping 一个网站，例如“www.google.com”并检查它是否成功？

PS我的操作系统是windows

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T07:04:47.317

```
import urllib2
proxy_support = urllib2.ProxyHandler({'http':'http://login:password@my-proxy:port/'})
opener = urllib2.build_opener(proxy_support)
try:
    f = opener.open("http://google.com/")
    f.read(1)
    print "Success"
except Exception:
    print "Failed" 
```

# php - 自动生成复选框数据后需要帮助

> ID：12209186
> 
> 赞同：0
> 
> 时间：2012-08-31T05:05:02.700
> 
> 标签：php, html

好吧，我正在使用 PHP/HTML 创建一个网站，并且我有一些后端 AJAX 可以根据页面前面的下拉菜单选择自动生成一些带有数据的复选框。

基本上是这个过程......

-> 从下拉菜单中选择一个工作名称 (JobXYZ) -> 自动生成复选框（从数据库中提取），可以创建 0-10+ 的任何位置，它们是与所选工作相关的汽车名称。

这是生成这些复选框的小代码片段......

```
$sql = "SELECT Description FROM Cars WHERE JobNumber='$JobNumber'";

$rs = odbc_exec($connection, $sql);

while(odbc_fetch_row($rs)) {
    $rowCarDeets = odbc_result($rs, 'Description');
    $response = $response . "<input type='checkbox' name='CarDescription' value='" . $rowCarDeets . "'>". $rowCarDeets . "</input></br>";
} 
```

如您所见，复选框都称为“CarDescription”，然后填写值。当实际创建网站并创建这些复选框时，我可以通过检查网页上的这些元素来确认它们确实具有名称CarDescription' 具有不同的值，这些值是正确的值。我的意思是这些复选框的自动创建按预期工作。

它们都是表单的一部分，连同其他一些东西一起提交，这些东西通过单击提交按钮通过“帖子”提交。

从那里我去我的表单提交php文件，我只是抓住所有已经发布的东西......

$变量=$_POST['变量名'];

我尝试用汽车描述来做这件事，就像我做其他所有事情一样......

$CarDescription=$_POST['CarDescription']; 但它不起作用。这里有两个问题...

1.  即使我只选择一个复选框并提交它，也没有任何通过。根据我对其他复选框的工作，如果只选择了一个，则仍应发布具有相同名称但不同值的复选框。这不是这里的情况。

2.  我将来需要能够选择多个复选框，我该如何处理？有没有办法将某些东西作为复选框值数组或类似性质的东西发布？在我处理这个问题之前，虽然我认为我应该解决我遇到的问题，只需正确发送任何数据（来自单个复选框）。

您的帮助将不胜感激！

编辑：这个信息似乎甚至没有被发布。即使我将其放入数组中，我也会收到以下警告：

```
Notice: Undefined index: CarDescription in C:\---submit_form.php on line 26 
```

这是第 26 行....

```
 $CarDescription=$_POST['CarDescription']; 
```

同样，如果我将其设为数组，对其进行大量更改等，就会发生这种情况。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-31T05:09:14.097

在这条线上：

```
$response = $response . "<input type='checkbox' name='CarDescription' value='" . $rowCarDeets . "'>". $rowCarDeets . "</input></br>"; 
```

将名称字段更改为`name=CarDescription[]`。然后它们可以在 PHP 中作为数组访问。运行它以查看它包含的内容：`print_r($_POST["CarDescription"])`

# c# - 开始使用图表控件

> ID：12209188
> 
> 赞同：0
> 
> 时间：2012-08-31T05:05:21.663
> 
> 标签：c#, asp.net-mvc-3, charts

对于一个完整的图表控件初学者来说，在 mvc 中开始使用数据可视化图表控件有哪些好的资源...

尝试了一些资源，但它们没有多大帮助，任何免费的 pdf 都会有帮助

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T05:12:50.517

你可以试试这个：[http ://www.microsoft.com/en-us/download/details.aspx?id=11001](http://www.microsoft.com/en-us/download/details.aspx?id=11001)

指示

1.下载DataVisChartControl.exe并保存到本地计算机。

2.下载完成后，双击自解压.exe文件，将其内容解压出来，DataVisChartControl.chm。

3.打开 DataVisChartControl.chm 查看文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:21:27.053

[Telerik](http://www.kendoui.com/dataviz.aspx)有一些可视化控件，甚至为它们提供了 ASP.Net MVC 的服务器端助手。

另一个选择是完全免费使用的[Dojo 。](http://demos.dojotoolkit.org/demos/)

# javascript - 在选择更改时更改从外部 javascript 生成的 Flash 播放器

> ID：12209189
> 
> 赞同：0
> 
> 时间：2012-08-31T05:05:34.410
> 
> 标签：javascript, jquery, html

我有一个从 javascript 外部文件生成的 128kbps 播放器。

```
<script type="text/javascript" src="http://shoutcast.mixstream.net/js/external/flash/s2.vanavilfm.com:8560:1::cc0000:F4A213:::1"></script> 
```

和另一位 64kbps 的播放器。

```
<script type="text/javascript" src="http://shoutcast.mixstream.net/js/external/flash/s2.vanavilfm.com:8000:1::cc0000:F4A213:::1"></script> 
```

我希望我的用户使用以下方式选择比特率：

```
<select id="bitrate" name="bitrate">
  <option value="2">128 Kbps</option>
  <option value="1">64 Kbps</option>
</select> 
```

So that when option 128kbps is selected only the player at 128kbps is displayed and played then vice versa using jquery..

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T05:19:14.477

HTML

```
<select id="select">
    <option selected="selected">Choose</option>
    <option id="1">128</option>
    <option id="2">64</option>
</select>

<div id="sound1">
    128 <!-- 128kbps code here -->
</div>
<div id="sound2">
    64 <!-- 64kbps code here -->
</div> 
```

jQuery

```
$('#select').change(function() {
   $('div').hide();
   $('#sound' + $(this).find('option:selected').attr('id')).show();
});​ 
```

可选的 CSS

```
div{
    display:none;
    height:300px;
    width:300px;
}

#sound1{
    background-color:red;
}

#sound2{
    background-color:blue;
} 
```

**[http://jsfiddle.net/charlescarver/pYvxe/](http://jsfiddle.net/charlescarver/pYvxe/)**

# android - View.invisible 不起作用

> ID：12209190
> 
> 赞同：0
> 
> 时间：2012-08-31T05:05:38.233
> 
> 标签：android, hide, spinner

孩子活动完成后，我需要隐藏一个微调器。我已经`View.INVISIBLE`在`OnActivityResult()`父级中使用过。

这是代码：

```
Spinner gSpinner = (Spinner) findViewById(R.id.Sorter);
gSpinner.setVisibility(View.INVISIBLE); 
```

但这不起作用。微调器保持不变。这个你能帮我吗..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T05:12:10.347

```
setVisibility(View.GONE) 
```

可以在微调器上使用，使其不可见，而不占用屏幕上的任何像素

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:34:14.900

不要在 onActivityResult 中创建另一个实例。

首先

声明`Spinner gSpinner;`为全局。

并声明

```
gSpinner = (Spinner) findViewById(R.id.Sorter); 
```

在`onCreate()`方法。

最后打电话

```
 gSpinner.setVisibility(View.GONE); 
```

在`onActivityResult()`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T05:32:33.057

R u 在 OnActivityResult() 中定义 Spinner id。如果是，在 onCreate 中调用它，然后在 OnActivityResult() 中调用 setVisibility。还要正确检查 xml 文件中 Spinner 的所有属性

# jquery - 从一个选项卡链接到另一个选项卡并从不同页面链接到特定选项卡

> ID：12209195
> 
> 赞同：1
> 
> 时间：2012-08-31T05:06:29.013
> 
> 标签：jquery

很抱歉提出这个问题，但我对此并不陌生，即使在查看本网站上的其他一些解决方案时也很难弄清楚。

我正在尝试从 test1 选项卡获取链接以切换到相应的选项卡（例如：测试 3 的链接使测试 3 的内容出现。

我遇到的另一个问题是如何从一个页面（例如：index.html）链接到标签页的 test4。

下面附上我的测试站点的所有文件的链接。

### CSS

[http://www.sukhanidesign.com/tab/css/tabs.css](http://www.sukhanidesign.com/tab/)
css
/red-style.css

### JS

js/tabs.js
js/tabs2.js
js/main.js
js/jquery-1.7.1.min.js

### HTML

[http://www.sukhanidesign.com/tab/tabs.html](http://www.sukhanidesign.com/tab/tabs.html)

# c# - 如何从 Outlook 消息文件（.MSG）将图像显示到 RichTextBox 中？

> ID：12209197
> 
> 赞同：1
> 
> 时间：2012-08-31T05:06:49.237
> 
> 标签：c#

我有一个 Outlook 消息文件，使用下面的代码转换成流

```
Stream messageStream = File.Open(MessageFileName, FileMode.Open, FileAccess.Read); 
```

将此流放入 OutlookStorage.Message 对象，如下所示。

```
OutlookStorage.Message message = new OutlookStorage.Message(messageStream); 
```

我正在将此消息对象正文显示到 RichTextBox 中。

```
RichTextBox1.Rtf = message.BodyRTF; 
```

在 RichTextBox1 中，我只能看到文本和格式化数据，而图像未在 Richtextbox 中显示

而不是显示图像名称的图像，例如 "Description: cid:image002.png@01CD86A2.E62E9990" 。

我将所有图像作为 Outlook 附件。在 message.BodyRTF 我可以看到图像标签为

```
<img width=229 height=262 id="Picture_x0020_2" src="cid:image002.png@01CD86A2.E62E9990"> . 
```

我想按原样显示图像而不是图像名称。我怎样才能？任何人都可以有实现相同的源代码吗？或任何建议都会有很大帮助。

# extjs - 使窗口可拖动到边界外

> ID：12209198
> 
> 赞同：0
> 
> 时间：2012-08-31T05:06:55.773
> 
> 标签：extjs, window, extjs4, draggable

ExtJS 4

我的 ExtJS 网页有一个桌面布局结构。该页面不可滚动。我们有图标可以点击打开不同的 Ext.Windows。

当我将窗口拖到浏览器边界之外时，问题就来了。窗口被完美地拖动，但随后浏览器滚动条出现滚动页面，以便我可以查看整个窗口。无论如何我都不想滚动网页。

```
This is happening
~~~~~~~~~~~~~~~~~~~~~~~~
|~~~~~~~~~~~~~~~~      |
||              |<-----+--- desktop
||            -window- |
||           |  |    | |
||            --+----- |
||              |  <---|--- unwanted white space
|| <--taskbar-> |      |
|~~~~~~~~~~~~~~~~      |
|   <--scroll bar-->   |<---- webpage
~~~~~~~~~~~~~~~~~~~~~~~~

This is needed
~~~~~~~~~~~~~~~~~~
|~~~~~~~~~~~~~~~~|
||           <--++--- desktop
||            -window-
||           | A|| B |
||            --++----
||              ||
||  <-taskbar-> ||<--- webpage
|~~~~~~~~~~~~~~~~|
~~~~~~~~~~~~~~~~~~
A = window part to be shown
B = window part to be cropped 
```

只是我想修复我的视口，无论窗口是否被拖到边界之外。

怎么做？

我希望它现在清楚了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T07:48:54.107

我解决了这个问题。我们可以从浏览器中删除滚动条。

```
document.documentElement.style.overflow = 'hidden';  // firefox, chrome
document.body.scroll = "no"; // ie only 
```

在Firefox中，它工作正常。但在 IE-7 中出现问题。检查[这个](https://stackoverflow.com/questions/12211173/window-dragging-issue-in-ie)

# mysql - 为什么此查询在 phpmyadmin 中不起作用

> ID：12209203
> 
> 赞同：1
> 
> 时间：2012-08-31T05:07:47.687
> 
> 标签：mysql, sql, datatable, phpmyadmin

我正在尝试在进行任何更改之前进行表备份，遵循查询[http://www.w3schools.com/sql/sql_select_into.asp](http://www.w3schools.com/sql/sql_select_into.asp)的链接。但是它不起作用并引发错误 #1327 - 未声明的变量：default_table_backup_31_08_2012。让我知道为什么它不起作用？

**phpMyAdmin：版本 - 3.4.5。**

***注意**：但是我在 phpmyadmin 下找到了一个方法，GOTO->Operations 并执行了复制，但我想知道查询中的实际错误是什么，并请提供一个查询方面的解决方案，以便我可以在一般情况下使用它:)

我的sql查询-

```
SELECT *
INTO default_table_backup_31_08_2012
FROM default_table 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-31T05:12:48.520

如下所述[`SELECT INTO TABLE`](http://dev.mysql.com/doc/en/ansi-diff-select-into-table.html)：

> MySQL 服务器不支持`SELECT ... INTO TABLE`Sybase SQL 扩展。相反，MySQL Server 支持[`INSERT INTO ... SELECT`](http://dev.mysql.com/doc/en/insert-select.html)标准的 SQL 语法，这基本上是一样的。请参阅[第 13.2.5.1 节，“<code>INSERT ... SELECT 语法”</a>。例如：](http://dev.mysql.com/doc/en/insert-select.html)
> 
>  [```
> 插入到 tbl_temp2 (fld_id)
>     选择 tbl_temp1.fld_order_id
>     从 tbl_temp1 哪里 tbl_temp1.fld_order_id > 100；
> ```](http://dev.mysql.com/doc/en/insert-select.html) 
> 
> [或者，您可以使用](http://dev.mysql.com/doc/en/insert-select.html)[`SELECT ... INTO OUTFILE`](http://dev.mysql.com/doc/en/select-into.html)或[`CREATE TABLE ... SELECT`](http://dev.mysql.com/doc/en/create-table.html)。

在您的情况下，您可能想要：

```
CREATE TABLE default_table_backup_31_08_2012 SELECT * FROM default_table; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:18:45.753

mysql不支持select into。请参阅下面的链接。[SELECT INTO 和“未声明的变量”错误](https://stackoverflow.com/questions/2949653/select-into-and-undeclared-variable-error)。您可以创建一个表 CREATE TABLE default_backup

比复制信息

```
INSERT INTO default_backup
SELECT * FROM default; 
```

# ios - 如何在 iOS 的 UIAlertView 中提供非活动背景效果？

> ID：12209205
> 
> 赞同：1
> 
> 时间：2012-08-31T05:07:53.133
> 
> 标签：ios, loading

我想让视图像 UIAlertView 中的效果一样不活动和变暗，如下所示，我希望在从 url 加载 json 时发生。将有一个活动指示器在中心移动。

![在此处输入图像描述](../Images/d90cc6b67408466df62402f56547cd31.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T05:12:54.777

这很简单，真的。试试下面的例子。请务必将其添加为所有其他视图下方的子视图。

```
UIView * modalBackground = [[UIView alloc] initWithFrame:self.view.bound];
[modalBackground setBackgroundColor: [UIColor blackColor]];
[modalBackground setAlpha: 0.5]; 
```

# javascript - 让 FB.Event.subscribe 实现令人满意

> ID：12209206
> 
> 赞同：1
> 
> 时间：2012-08-31T05:08:03.743
> 
> 标签：javascript, facebook, dom-events, facebook-like

我一直在努力`FB.Event.subscribe`工作，但似乎没有任何效果。希望有人可以帮助我。

我目前正在使用以下内容：

html标签

```
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" xmlns:fb="http://ogp.me/ns/fb#"> 
```

在body标签之后

```
<body>
<div id="fb-root"></div>
<script>
(function(d, s, id) 
{  
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id))
        return;
    js = d.createElement(s);
    js.id = id;  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=153991331310442";     

    fjs.parentNode.insertBefore(js, fjs);
}
(document, 'script', 'facebook-jssdk'));
FB.Event.subscribe('edge.create', function(response) { 
    alert('You liked the URL: ' + response);
});
</script> 
```

**FB：喜欢**

```
<div id="gateway"><fb:like href="http://www.example.com/" send="true" width="450" show_faces="false"></fb:like> 
```

`FB.Event.subscribe`应该放在另一个区域吗？我在`Fb:Like`代码之后尝试过，我将它作为一个`onclick`事件进行了尝试，但似乎并没有让它工作。

# java - 具有固定最小值/最大值的加法

> ID：12209211
> 
> 赞同：1
> 
> 时间：2012-08-31T05:08:48.593
> 
> 标签：java, integer, overflow, modulo

主要编辑：100％解决！它被称为模数运算，谢谢彼得！

我需要添加两个具有固定最小值/最大值的数字。我希望我的数字表现得像 java 的 int/byte/short（溢出到相反的值并继续操作）

```
System.out.println((byte) (Byte.MAX_VALUE));    // 127
System.out.println((byte)(Byte.MAX_VALUE + 1)); // -128
System.out.println((byte)(Byte.MAX_VALUE + 2)); // -127
System.out.println((byte)(Byte.MAX_VALUE + 3)); // -126 
```

但具有固定的 .MAX_VALUE 和 .MIN_VALUE。如果一个数字的值为 3，它的 maxValue 为 5，minValue 为 2，那么当我将 4 添加到它时（3+4=应该是 7）它会溢出，所以 3+4: 3 -> 4 -> 5 -> 2 - > 3个例子：

```
 int value = 0, minValue = -2, maxValue = 1;
    MyNumber n = new MyNumber(value, minValue, maxValue);

    // possible values: -2 -1  0  1 -2 -1  0  1 -2 -1  0  1 ..

    n.add(2);   // 0+2 = -2
    n.add(-2);  // -2-2 = 0
    n.add(5);   // 0+5 = 1       
    n.add(-5);  // 1-5 = 0       
    n.add(-5);  // 0-5 = -1       
    n.add(-1);  // -1-1 = -2       
    n.add(11);  // -2+11 = 1 
```

这就是我所做的：

```
class MyNumber {

    int value;
    final int minValue, maxValue;

    public MyNumber(int value, int minValue, int maxValue) {
        if (value < minValue || value > maxValue || maxValue < minValue) {
            throw new RuntimeException();
        }
        this.value = value;
        this.minValue = minValue;
        this.maxValue = maxValue;
    }

    void add(int amount) {
        int step = 1;
        if (amount < 0) {
            step = -1;
            amount = -amount;
        }
        while (amount-- > 0) {
            value += step;
            if (value < minValue)
                value = maxValue; // overflows
            if (value > maxValue)
                value = minValue; // overflows
        }
    }
} 
```

它可以工作，但我不想重复整个加法，因为我要处理大数字我认为它与 MOD 有关......（我的数学很糟糕）我几乎随机地做了这个：

```
void add(int amount) {
    value = (value + amount) % (maxValue - minValue + 1);
} 
```

我是如此接近，但它失败了

```
n = new MyNumber(-2, -4, -1);
n.add(2); // -2+2 shows 0 instead of -4   (-2.. -1.. *overflow*.. -4) 
```

我投降

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T05:51:58.270

我会尽量把事情说清楚。例如

如果你想要时钟算术，你可以做

```
 // in the constructor
   this.range = maxValue - minValue + 1;
   this.value = -minValue;

   // in the adder.
   public void add(int num) {
       value = (value + num) % range;
       if(value < 0) value += range;
       // or
       value = ((value + num) % range + range) % range;
   }

   // add a getter for value.
   public int getValue() { return value + minValue; }; 
```

* * *

如果你想要有界算术。

```
 value = Math.min(maxValue, Math.max(minValue, value + step)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T05:22:21.937

尝试

```
value += amount;

value = value > maxValue ? maxValue : value < minValue ? minValue : value; 
```

这应该有效。

改变 ：

```
range = maxValue == minValue ? 0 : Math.abs(maxValue - minValue + 1);
value = range == 0 ? maxValue : value + amount <= maxValue && value + amount >= minValue ? value + amount : value + amount > maxValue ? minValue + (((value + amount - maxValue) % range) == 0 ? range : (value + amount - maxValue) % range) - 1 : maxValue - ((Math.abs(amount) - Math.abs(value - minValue + 1)) % range); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T06:59:47.267

行 ！

你不会喜欢这样，但它可以让你避免加法操作：

（注意代码在 C# 中，因为我这里没有 java）它看起来像这样：

```
class MyNumber 
{    
    public int value;
    int minValue, maxValue;
    private int[] range; 
    private int index = 0;

    //Ctor
    public MyNumber(int value, int minValue, int maxValue) 
    {
        if (value < minValue || value > maxValue || maxValue < minValue)            
            throw new Exception("...");

        this.value = value;
        this.minValue = minValue;
        this.maxValue = maxValue;
        range = new int[maxValue - minValue + 1];
        for (int i = 0; i < range.Length; i++)
        {
            range[i] = minValue;
            if (range[i] == value)
                index = i;
            minValue++;
        }
    }

    public void add(int amount)
    {
        if (Math.Abs(amount) > range.Length)
            amount %= range.Length;

        index = Math.Abs(index + amount);
        if (index >= range.Length)
            index %= range.Length;

        value = range[index];
    }
} 
```

# wcf - WCF 服务证书在 IIS 上给出错误，在本地端口上运行良好

> ID：12209229
> 
> 赞同：1
> 
> 时间：2012-08-31T05:10:16.790
> 
> 标签：wcf, certificate

我在项目中添加了 wcf 服务参考，并且我也在我的电脑上安装了证书。

当我通过端口（localhost:3353/wcfproj/add.aspx）使用 wcf 方法时，它运行良好，但是当我将它托管在我的 iis 上并使用该方法时，它给出了以下错误

“请求被中止：无法创建 SSL/TLS 安全通道。”

```
s.ClientCredentials.ClientCertificate.SetCertificate(StoreLocation.LocalMachine, StoreName.My, X509FindType.FindByThumbprint, "1e fb 2c a7 75 be b7 18 e5 c5 1d 14 4f 87 2c 77 15 70 cf 57"); 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T12:46:46.717

我也有这种类型的问题，所以请试试这个。它可以帮助你

问题：在 IIS 中安装客户端证书

下载 WinHttpCertCfg。并安装它

使用命令解决

Cd C:\Program Files\Windows 资源工具包\工具

WinHttpCertCfg.exe -g -c LOCAL_MACHINE\MY -s “SSLCertName” -a ASPNET

也许对于网络服务器，它需要网络服务

> WinHttpCertCfg.exe -g -c LOCAL_MACHINE\MY -s " IssuedToName " -a "网络服务"

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T07:21:31.233

从指纹中删除空格。

```
s.ClientCredentials.ClientCertificate.SetCertificate(StoreLocation.LocalMachine, StoreName.My, X509FindType.FindByThumbprint, "1efb2ca775beb718e5c51d144f872c771570cf57"); 
```

还要确保运行此代码的帐户有权访问证书的私钥。

编辑：我刚刚重新阅读了你的问题......它看起来像一个私钥问题。确保为代码运行应用程序池的帐户有权访问客户端证书的私钥。

# php - 使用 swfuploader 上传图像/视频是否很好？

> ID：12209231
> 
> 赞同：0
> 
> 时间：2012-08-31T05:10:28.013
> 
> 标签：php, flash, swfupload

我们正在从事房地产项目，我们在许多地方都有图像和视频上传。我们从`swfuploader`几个地方开始，但是现在我们发现了一个问题，如果没有在浏览器中安装 flash 播放器，它就不起作用。它只有在浏览器中安装了 Flash 播放器后才能工作。这真是令人担忧。我们不应该强迫用户安装 Flash 播放器来上传图片/视频。如何处理这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-31T05:13:26.197

显然，不使用 swf 上传器可以解决您的问题。

我的偏好是[blueimp](http://blueimp.github.com/jQuery-File-Upload/)项目。但是由于您没有在问题中提及任何特定要求，因此常规的 HTML 文件输入应该可以工作：`<input type="file"/>`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-31T05:12:22.007

[http://code.google.com/p/upload-at-click/](http://code.google.com/p/upload-at-click/) < 这表示没有 Flash 并上传我会看看它也指出如果你使用 jQuery [http://code。 google.com/p/ocupload/](http://code.google.com/p/ocupload/)我个人都没有这方面的经验（到目前为止更多的是 AS3 背景），但如果这些有帮助，请告诉我。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-31T05:20:37.747

这取决于您是否需要多个文件上传或单个文件上传。需要考虑的点。

1.  使用 SWF 上传多个文件 - 所有安装了 Flash 播放器的浏览器都支持。
2.  没有SWF文件，无论是jquery还是javascript开发的文件上传插件，在低版本IE都不支持多文件上传。

因此，如果您想在所有浏览器中上传多个文件，我的建议是使用 swf 播放器，否则选择没有 SWF 的插件。

# java - Scala GAE 项目 - 无法在 intellij 中编译

> ID：12209234
> 
> 赞同：0
> 
> 时间：2012-08-31T05:10:48.670
> 
> 标签：java, google-app-engine, scala, intellij-idea

我在 scala 中有一个大的 GAE（谷歌应用程序引擎）项目，并结合了 java。我有带有 scala 插件的 intellij 11。

我将战争爆炸添加到服务器配置中，但是当我尝试编译时，失败了。我唯一的线索是：

```
error while loading CrawlQuery, class file 'very/long/path/Foo.class' is broken
(Scala class file does not contain Scala annotation) 
```

我检查了信息，看起来问题是@JsonTypeInfo 的一些注释： [https](https://issues.scala-lang.org/browse/SI-5165) ://issues.scala-lang.org/browse/SI-5165 failed in scala 2.9.1

我从 2.9.1 更改为 2.9.2 但不起作用。（我下载了一个 scala-compiler.2.9.2.jar 并作为全局库添加到项目中）

[另外，我从http://www.scala-lang.org/node/309](http://www.scala-lang.org/node/309)下载了 scala 库，并创建了一个虚拟项目以将其设置为全局库，如解释：[使用 IntelliJ 设置 scala](https://stackoverflow.com/questions/10827017/setting-up-scala-with-intellij)

我的一位朋友使用 Eclipse 编译同一个项目，使用插件[http://scala-ide.org/](http://scala-ide.org/)并为他工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-20T15:10:10.327

在检查了一些解决方法之后，我们的解决方案是创建一个带有 jackson 符号的接口，并作为 mixint 添加到类中：

```
import com.fasterxml.jackson.annotation.JsonTypeInfo;

@JsonTypeInfo(use = JsonTypeInfo.Id.MINIMAL_CLASS, include = JsonTypeInfo.As.PROPERTY, property = "@class")
public interface JsonTypeMixin {

} 
```

并在实施中：

```
 objectMapper.addMixInAnnotations(classOf[Post], classOf[JsonTypeMixin]) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T07:46:59.233

您还应该告诉 IntelliJ 使用您下载的新 Scala 编译器：http: [//confluence.jetbrains.net/download/attachments/12353606/new_project4.png](http://confluence.jetbrains.net/download/attachments/12353606/new_project4.png)

# c# - C#：定期检查文件夹是否有更改？

> ID：12209235
> 
> 赞同：3
> 
> 时间：2012-08-31T05:10:57.647
> 
> 标签：c#, sqlite, version-control

我有一个包含子文件夹和文件层次结构的文件夹。

我需要定期检查是否有任何文件/文件夹已被修改/删除/添加。

我正在考虑从头开始开发一种算法：

1.  将整个树状结构的表示保存在嵌入式数据库（如 SQLite）或文件中。
2.  将每个文件的校验和保存到同一个数据库中。
3.  在下一次调用中，将此数据库与实际文件系统进行比较。
4.  使用发现已更改的内容更新数据库的信息。
5.  从第 3 步开始重复。

我的程序未运行时可能会发生更改，它可以随时关闭/打开。
例如，用户可能在星期一关闭程序，在星期二编辑文件，并在星期三重新打开程序。我需要检查在那段时间发生了什么变化，所以我不能使用[FileSystemWatcher](http://msdn.microsoft.com/en-us/library/system.io.filesystemwatcher.aspx)。

在我重新发明轮子之前，是否已经有一些库可以做到这一点？

笔记：

*   我无权访问任何[VCS](http://en.wikipedia.org/wiki/Version_control_system)二进制文件，例如`git`或`svn`.
*   语言是 C#，但我准备移植任何小型 Java 库。
*   这是[一个开源软件](http://cmissync.github.com)，所以它需要是一个开源库。
*   它用于嵌入到桌面小部件中，因此越轻越好。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T05:12:43.303

您可能可以使用[FileSystemWatcher](http://msdn.microsoft.com/en-us/library/system.io.filesystemwatcher.aspx)（本机 .NET 类）来实现您的目的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-31T05:12:56.953

您正在寻找[FileSystemWatcher](http://msdn.microsoft.com/en-us/library/system.io.filesystemwatcher.aspx)

> 侦听文件系统更改通知并在目录或目录中的文件更改时引发事件。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-31T05:40:18.923

如果您不能使用 FileSystemWatcher（无论如何我讨厌它，它是 IMO 框架中最脆弱的类），您唯一的其他选择是手动跟踪文件。您将需要存储文件名和文件内容的哈希，以检查文件是否被添加/删除或更改。我将使用具有 C# 包装器的 SQLExpress 或 SQLite 数据库来存储它。

您的程序会在启动/停止时检查文件，然后我会在它运行时使用计时器来定期检查文件。

编辑：来自 OP 的澄清，我不知道有任何库可以开箱即用。但是，您自己实施将是微不足道的。一个带有一个表的小型数据库，以及控制台应用程序或 Windows 服务中的计时器控件将完全满足您的需求。

# events - OnSelectedIndexChanged 和 OnCheckedChange 事件未触发

> ID：12209236
> 
> 赞同：0
> 
> 时间：2012-08-31T05:11:03.637
> 
> 标签：events, gridview, drop-down-menu, checkbox

我正在使用模板字段在gridview中绑定下拉列表和复选框列表。但是gridview的OnSelectedIndexChanged事件和复选框的OnCheckedChanged事件都没有触发。

这是aspx文件代码。

```
 <form id="form1" runat="server">
    <div>

    </div>
    <asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="False" DataKeyNames="username"  OnRowEditing="row_edit" OnRowDeleting="row_delete">
    <Columns>
    <asp:TemplateField HeaderText="Fetch_username">
    <ItemTemplate>
    <asp:Label ID="labelusername" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "username")%>'></asp:Label>
    </ItemTemplate>
    </asp:TemplateField>

      <asp:TemplateField HeaderText="Fetch_firstname">
    <ItemTemplate>
    <asp:Label ID="labelfirstname" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "firstname")%>'></asp:Label>
    </ItemTemplate>
    </asp:TemplateField>

      <asp:TemplateField HeaderText="Fetch_lastname">
    <ItemTemplate>
    <asp:Label ID="labellastname" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "lastname")%>'></asp:Label>
    </ItemTemplate>
    </asp:TemplateField>

      <asp:TemplateField HeaderText="Fetch_address">
    <ItemTemplate>
    <asp:Label ID="labeladdress" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "address")%>'></asp:Label>
    </ItemTemplate>
    </asp:TemplateField>

                <asp:TemplateField HeaderText="">
                  <ItemTemplate>
                      <asp:LinkButton ID="LinkButton2" runat="server" CommandName="Delete">Delete</asp:LinkButton>
                  </ItemTemplate>
              </asp:TemplateField>

                  <asp:TemplateField HeaderText="">
                  <ItemTemplate>
                      <asp:LinkButton ID="LinkButton1" runat="server" CommandName="Edit">Edit</asp:LinkButton>
                  </ItemTemplate>
              </asp:TemplateField>

               <asp:TemplateField HeaderText="">
                  <ItemTemplate>
                      <asp:LinkButton ID="LinkButton3" runat="server" CommandName="View">View</asp:LinkButton>
                  </ItemTemplate>
              </asp:TemplateField>

               <asp:TemplateField HeaderText="Change Color">
                    <ItemTemplate>
                        <asp:DropDownList ID="dropdownid" DataSourceID="sqldatasource_id" DataTextField="username"
                            BackColor="Yellow"  OnSelectedIndexChanged="GridView1_SelectedIndexChanged" AppendDataBoundItems="True" runat="server" AutoPostBack="True">

                            <asp:ListItem Text="" Value="" Selected="True" />
                        </asp:DropDownList>
                    </ItemTemplate>
                </asp:TemplateField>

                    <asp:TemplateField HeaderText="Change Color">
                    <ItemTemplate>
                      <asp:CheckBox ID="checkbox" runat="server" AutoPostBack="true" OnCheckedChanged="checked_delete" />
                    </ItemTemplate>
                </asp:TemplateField>

    </Columns>
    </asp:GridView>
    <asp:Button ID="delete_checkedbox" runat="server" Text="Delete Using Checkbox" OnClick="delete_box" />
    <asp:DropDownList ID="ddlist" runat="server"  OnSelectedIndexChanged="index_changed" AutoPostBack="True"  BackColor="Blue" >
        <asp:ListItem Text="1" Value="" Selected="True" />
            <asp:ListItem Text="2" Value="" Selected="False" />
                <asp:ListItem Text="3" Value="" Selected="False" />
                    <asp:ListItem Text="4" Value="" Selected="False" />
                        <asp:ListItem Text="5" Value="" Selected="False" />
    </asp:DropDownList>

       <div id="hee" runat="server">
    <div class="postionform">
    <table border=1>
    <tr>
    <td><asp:Label ID="label" Text="Username:" runat="server" /></td>
    <td><asp:TextBox ID="textbox"  BackColor="Silver" runat="server" /></td> <br />
    </tr>
    <tr>
     <td><asp:Label ID="label1" Text="Last-name:" runat="server" /></td>
    <td><asp:TextBox ID="textbox1"  BackColor="Silver" runat="server" /> </td><br />
    </tr>
    <tr>  
     <td><asp:Label ID="label2" Text="Last-name:" runat="server" /></td>
   <td>  <asp:TextBox ID="textbox2"  BackColor="Silver" runat="server" /> </td><br />
   </tr>
   <tr>
     <td><asp:Label ID="label3" Text="Address:" runat="server" /></td>
     <td><asp:TextBox ID="textbox3"  BackColor="Silver" runat="server" /></td> <br />
     </tr>
    <tr>
    <td><asp:Button ID="button_update" runat="server" OnClick="update_click" Text="Update" /></td>
    <td><asp:Button ID="button_cancel" runat="server" OnClick="cancel_click" Text="Cancel" /></td>
    </tr>
  </table>
  </div>
    </div>
     <asp:SqlDataSource ID="sqldatasource_id" runat="server" ConnectionString="<%$ ConnectionStrings:crudconnection %>"
            SelectCommand="SELECT [username] FROM [crudtable]"></asp:SqlDataSource>
    <br />
    <br />
    <asp:DropDownList ID="DropDownList1" runat="server" AutoPostBack="True" 
        DataSourceID="sqldatasource_id" DataTextField="username" 
        DataValueField="username" OnSelectedIndexChanged="change">
    </asp:DropDownList>
    <asp:Label ID="label_for" Text="" runat="server" />
    <asp:Label ID="checked_label" Text="" runat="server" />
    </form> 
```

这是cs文件代码。

```
 protected void GridView1_SelectedIndexChanged(object sender, EventArgs e)
    {
    DropDownList ddl = (DropDownList)sender;
     GridViewRow row = (GridViewRow)ddl.NamingContainer;
  int count = 0;
  int g = row.RowIndex + 3;
  int current_row_index = row.RowIndex;
  foreach (GridViewRow gvRow in GridView1.Rows)
  {

      gvRow.BackColor = Color.White;
      if (((DropDownList)gvRow.FindControl("dropdownid")).SelectedIndex != 0)
      {
          count++;
      }

      if (gvRow.FindControl("dropdownid") != null && gvRow.RowIndex != current_row_index)
      {
          ((DropDownList)gvRow.FindControl("dropdownid")).SelectedIndex = 0;
      }
    }
     GridView1.Rows[g].BackColor = Color.Red;
     if (count == 0)
     {
      foreach (GridViewRow gvRow in GridView1.Rows)
      {
          gvRow.BackColor = Color.White;
      }
    }
    }
    protected void checked_delete(object sender, EventArgs e)
    {
    CheckBox chk = (CheckBox)sender;
    GridViewRow gr = (GridViewRow)chk.Parent.Parent;
    checked_label.Text = GridView1.DataKeys[gr.RowIndex].Value.ToString();
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:34:21.763

我解决了。实际上我正在绑定数据`gridview`。`page_load`所以我忘了把`code(which binds the data to grid view and placed inside page_load)`里面

```
(!IsPostBack){}. 
```

希望它会帮助某人。谢谢。

# objective-c - iOS：如何使用 XIB 以编程方式创建视图，但不使用视图控制器

> ID：12209238
> 
> 赞同：7
> 
> 时间：2012-08-31T05:11:06.870
> 
> 标签：objective-c, ios

我试图用许多相同的子视图填充滚动视图，但数据更改除外。如果我想以编程方式完成整个事情，我可以像这样：

```
int width = 110;
int count = 0;
self.scrollView.contentSize=CGSizeMake(width*[items count],100);

for (NSString *id in items) {
    Item *item = [items objectForKey:id];
    CGRect frame = CGRectMake(count*width, 0, 100, 100);
    UIView *itemSubview = [[UIView alloc] initWithFrame:frame];

    CGRect dataLabelFrame = CGRectMake( 0, 52, 35, 30 );
    UILabel* dataLabel = [[UILabel alloc] initWithFrame: dataLabelFrame];
    dataLabel.text = @"Data specific to item"; // item.property or something
    dataLabel.font:[UIFont systemFontOfSize:30];
    dataLabel.backgroundColor = [UIColor colorWithRed:0.0 green:0.0 blue:0.0 alpha:0.0];

    [itemSubview addSubview:dataLabel];
    [self.scrollView addSubview:itemSubview];
    [itemSubview release];
} 
```

都好。现在，如果我的 subView 稍微复杂一点，并且我想用 Interface Builder 和 xib 存档来布置它，我该如何做同样的事情？到目前为止，我有：

*   创建了我自己的自定义视图代码 ItemSubview，使用 IBOutlet NSString *dataLabel 扩展 UIView
*   创建了我的 xib 文件，将文件的所有者设置为 ItemSubview 类，并将我的标签连接到插座

然后，在代码中：

```
int width = 110;
int count = 0;
self.scrollView.contentSize=CGSizeMake(width*[items count],100);

for (NSString *id in items) {
    Item *item = [items objectForKey:id];
    CGRect frame = CGRectMake(count*width, 0, 100, 100);
    ItemSubview *itemSubview = [[ItemSubview alloc] initWithFrame:frame];
    [itemSubview setBackgroundColor:[UIColor colorWithRed:0.0 green:0.2 blue:0.0 alpha:0.2]]; // to see where it ends up

    [[NSBundle mainBundle] loadNibNamed:@"ItemSubview" owner:itemSubview options:nil];
    itemSubview.dataLabel.text = @"Data specific to item"; // item.property or something
    [self.scrollView addSubview:itemSubview];
    [itemSubview release];
} 
```

当我这样做时，我的 itemSubview 被绘制（我可以看到 itemSubview 的背景颜色），但不是 xib 存档中的 dataLabel。我错过了什么/不理解什么？为什么这是以编程方式工作，而不是使用 xib 文件？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-31T05:26:36.523

像这样做：

```
 NSArray *topLevelObjects = [[NSBundle mainBundle] loadNibNamed:@"ItemSubview" owner:self options:nil];
    ItemSubview *itemSubview = [topLevelObjects objectAtIndex:0]; 
```

确保在您的 xib 文件中，顶级视图属于 ItemSubview 类，并且 dataLabel 已正确连接到 ItemSubview 的插座。文件的所有者应留空。

# jquery - 在jquery中调整对话框的位置

> ID：12209240
> 
> 赞同：2
> 
> 时间：2012-08-31T05:11:31.927
> 
> 标签：jquery, jquery-ui

```
<script type="text/javascript">
  $.ajaxSetup({
    cache: false
  });

  $(document).ready(function () {
    $(".openDialog").live("click", function (e) {
      e.preventDefault();

      $("<div></div>").addClass("dialog").attr("id", $(this).attr("data-dialog-id")).appendTo("body").dialog({
        title: $(this).attr("data-dialog-title"),
        minWidth: 500,
        minHeight: 100,
        resizable: false,

        close: function () {
          $(this).remove()
        },

        modal: true
      }).load(this.href);
    });

    $(".close").live("click", function (e) {
      e.preventDefault();
      $(this).closest(".dialog").dialog("close");
    });

    $(".refresh").live("click", function (e) {
      e.preventDefault();
      location.reload();
    });
  });
</script> 
```

我正在使用上面的 jquery 来获取对话框。但是当显示对话框时，它会出现在窗口的随机部分，这很不舒服。我想让对话框出现在窗口的中心。我应该怎么做才能使对话框出现在窗口的中心？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T05:14:30.387

你有没有尝试过

```
 $(".dialog").dialog('option', 'position', 'center'); 
```

或者

```
.dialog({
         title: $(this).attr("data-dialog-title"),
         minWidth: 500,
         minHeight: 100,
         resizable: false,                      
         close: function () { $(this).remove() },
         position:'center',
         modal: true
       }) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T05:23:56.343

尝试使用此 CSS 到对话框：

```
​.dialog {
    position: absolute;
    width: 200px;
    height: 200px;
    left: 50%;
    margin-left: -100px; /* -width/2 */
    top: 50%;
    margin-top: -100px; /* -height/2 */
    background-color: red;
}​ 
```

我建议这个JS：

```
 $.ajaxSetup({ cache: false });

 $(document).ready(function () {
     $(".openDialog").on("click", function (e) {
         e.preventDefault();

         $("<div/>",{
             class: "dialog",
             id: $(this).attr("data-dialog-id")
         }).appendTo("body");
         .dialog({
            title: $(this).attr("data-dialog-title"),
            minWidth: 500,
            minHeight: 100,
            resizable: false,                      
            close: function () { $(this).remove() },
            modal: true
         })
         .load(this.href);
     });

     $(".close").live("click", function (e) {
         e.preventDefault();
         //$(this).closest(".dialog").dialog("close");
     });

     $(".refresh").live("click", function (e) {
         e.preventDefault();
         location.reload();
     });
 }); ​ 
```

演示：http: [//jsfiddle.net/MFPpw/](http://jsfiddle.net/MFPpw/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-31T05:24:48.397

来自[jQueryUI 对话框文档](http://jqueryui.com/demos/dialog/)：

> 位置
> 
> ```
> String, Array Default:
> "center" 
> ```
> 
> 指定应显示对话框的位置。可能的值：
> 
> 1) 表示视口内位置的单个字符串：'center'、'left'、'right'、'top'、'bottom'。
> 
> 2) 一个数组，其中包含一个 x,y 坐标对，像素偏移量为视口左上角的像素偏移量（例如 [350,100]）
> 
> 3) 一个包含 x,y 位置字符串值的数组（例如右上角的 ['right','top']）。代码示例
> 
> 使用指定的位置选项初始化对话框。
> 
> ```
> $( ".selector" ).dialog({ position: "top" }); 
> ```
> 
> 在 init 之后获取或设置位置选项。
> 
> ```
> //getter
> var position = $( ".selector" ).dialog( "option", "position" );
> //setter
> $( ".selector" ).dialog( "option", "position", "top" ); 
> ```

那么您是否尝试过具有确切位置的变体？

```
$( ".selector" ).dialog( "option", "position", "[350, 100]" ); 
```

# svn - 如何从 svn:eol-style native 中转义 ^M

> ID：12209243
> 
> 赞同：0
> 
> 时间：2012-08-31T05:11:36.570
> 
> 标签：svn, unix, eol

我们`eol-style:native`在我们的 subversion 存储库中为 shell 脚本指定了属性；这消除了`^M`在 Windows 上编辑文件并在 UNIX 机器上执行时包含的字符。

但是最近我们遇到了一个问题：

一个 shell 脚本编写了以下语句：

```
sed 's/^M//g' source_file > target_file 
```

替换数据文件中的 ^M 个字符。但是当脚本在 subversion 中签入并在 unix 框上更新时，语句变为：

```
sed 's/
//g' source_file > target_file 
```

## 真正的问题

**我需要一种方法将 ^M 字符放入 shell 脚本中，并且`eol-style:native`属性已经存在。我不希望这个特定的 ^M 字符在转换中丢失。可能吗？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:23:09.373

使用`\r`而不是**^M**

```
sed 's/\r//g' source_file > target_file 
```

# android - ICS 中的 XML 解析器错误？

> ID：12209246
> 
> 赞同：2
> 
> 时间：2012-08-31T05:12:09.043
> 
> 标签：android, xml-parsing, android-4.0-ice-cream-sandwich

我正在尝试使用**XMLPullFeedParser解析 xml，除了****ICS**之外的所有设备都可以正常工作。

我的xml格式是这样的，

```
<?xml version="1.0" encoding="utf-8"?>
   <Result>
       <Tag>
         <Name>
           Bangalore
         </Name>
       </Tag>
       <Tag>
         <Name>
           Chennai
         </Name>
       </Tag>
    </Result> 
```

Logcat 错误，

```
08-31 10:36:31.988: ERROR/Error Mian PullFeedParser(12056): Invalid stream or encoding: java.io.IOException: Attempted read on closed stream. (position:START_DOCUMENT null@1:1) caused by: java.io.IOException: Attempted read on closed stream.
08-31 10:36:31.988: ERROR/Error Mian PullFeedParser(12056): org.xmlpull.v1.XmlPullParserException: Invalid stream or encoding: java.io.IOException: Attempted read on closed stream. (position:START_DOCUMENT null@1:1) caused by: java.io.IOException: Attempted read on closed stream.
08-31 10:36:31.988: ERROR/Error Mian PullFeedParser(12056):     at org.kxml2.io.KXmlParser.setInput(KXmlParser.java:1730) 
```

**我的解析器：**

公共列表解析器（输入流响应流）{

```
 // TODO Auto-generated method stub
    List<Message> messages = null;
    XmlPullParser parser = Xml.newPullParser();
    try {
        parser.setInput(responseStream, null);
        int eventType = parser.getEventType();
        Message currentMessage = null;
        boolean done = false;
        while (eventType != XmlPullParser.END_DOCUMENT && !done){
            String name = null;
            switch (eventType){
            case XmlPullParser.START_DOCUMENT:
                messages = new ArrayList<Message>();
                break;
            case XmlPullParser.START_TAG:
                name = parser.getName();

                if (name.equalsIgnoreCase("Name")){
                    currentMessage = new Message();
                    currentMessage.setName(parser.nextText());
                }
                break;
            case XmlPullParser.END_TAG:
                name = parser.getName();
                if (name.equalsIgnoreCase("Name")&& currentMessage != null){
                    messages.add(currentMessage);
                }
                else if(name.equalsIgnoreCase("Result")){
                    done = true;
                }
                break;
            }
            eventType = parser.next();
        }
    } catch (Exception e) {
        Log.e("Error Mian PullFeedParser", e.getMessage(), e);
    }
    return messages;
} 
```

给我一个解析这种 XML 格式的想法。

谢谢。

# php - 图片上传错误

> ID：12209248
> 
> 赞同：0
> 
> 时间：2012-08-31T05:12:14.357
> 
> 标签：php, image-upload

所以我有这个问题，我的错误在我测试时没有出现，看看它们是否在应该出现的时候出现。当我选择一个文件时，我的脚本应该只接受图像文件以及不超过 2MB 的文件。我还没有编写实际将图像上传到数据库和我创建的专辑的部分，但无论如何，我应该得到某种错误，而不是仅仅传递任何东西......我需要帮助！提前致谢！

这是处理图像并最终上传的文件：

```
<?php
include 'init.php';

if(!logged_in()){
header('Location: index.php');
exit();
}

include 'template/header.php';
?>

<h3>Upload Image</h3>

<?php

if(isset($FILES['image'], $_POST['album_id'])){
$image_name = $_FILES['image']['name'];
$image_size = $_FILES['image']['size'];
$image_temp = $_FILES['image']['tmp_name'];

$allowed_ext = array('jpg', 'jpeg', 'png', 'gif');
$image_ext = strtolower(end(explode('.', $image_name)));

$album_id = $_POST['album_id'];

$errors = array();

if (empty($image_name) || empty($album_id)){
    $errors[] = 'Something is missing';
} else {

    if(in_array($image_ext, $allowed_ext) === false){
        $errors[] = 'File type not allowed';
    }

    if($image_size > 2097152){
        $errors[] = 'Maximum file size is 2MB'; 
    }

    if(album_check($album_id) === false){
        $errors[] = 'Couldn\'t upload to that album';
    }

}

if(!empty($errors)){
    foreach ($errors as $error){
        echo $error, '<br />';
    }
} else {
    // upload image
}
}

$albums = get_albums();

if(empty($albums)){
echo '<p>You don\'t have any albums. <a href="create_album.php">Create an album</a></p>';
} else {
?>

<form action="" method="post" enctype="multipart/form-data">
<p>Choose a file:<br /><input type="file" name="image" /></p>
<p>
Choose an album:<br />
<select name="album_id">
    <?php 
    foreach ($albums as $album){
        echo '<option value="', $album['id'], '">', $album['name'], '</option>';
    }
    ?>
</select>
</p>
<p><input type="submit" value="Upload" /></p>
</form>

<?php
}

include 'template/footer.php';
?> 
```

我认为我的问题与我的错误有关，但我不确定，再次感谢任何帮助！谢谢！-TechGuy24

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:15:34.937

改变`if(isset($FILES['image'], $_POST['album_id'])){`

到`if(isset($_FILES['image'], $_POST['album_id'])){`

# iphone - 将视频拆分为帧/图像

> ID：12209249
> 
> 赞同：0
> 
> 时间：2012-08-31T05:12:19.387
> 
> 标签：iphone, objective-c

我需要将 5 秒的视频从我的 iphone 拆分为图像/帧。

是否可以使用目标 C. 任何可用的库？

帮助是非常可观的。

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:25:02.403

您可以通过多种方式从视频中获取图像。他们之中有一些是 ：-

```
NSURL *videoURL = [NSURL fileURLWithPath:url];

MPMoviePlayerController *player = [[MPMoviePlayerController alloc] initWithContentURL:videoURL];

UIImage *thumbnail = [player thumbnailImageAtTime:1.0 timeOption:MPMovieTimeOptionNearestKeyFrame];

//Player autoplays audio on init
[player stop];
[player release]; 
```

您还可以查看以下链接：-

[除了缩略图方法之外，还有其他方法可以在 Iphone 中截取视频吗？](https://stackoverflow.com/questions/10612634/is-there-any-way-other-than-thumbnail-method-to-take-a-screenshot-of-an-video-in)

[如何从 iPhone 中通过 MPMediaPlayerController 播放的视频中截取屏幕截图？](https://stackoverflow.com/questions/10582943/how-to-take-a-screenshot-from-an-video-playing-through-mpmediaplayercontroller-i)

它可以帮助你:)

谢谢 ：）

# eclipse - Eclipse / Subclipse: Switch from branch to trunk with modified sources?

> ID：12209251
> 
> 赞同：3
> 
> 时间：2012-08-31T05:12:26.827
> 
> 标签：eclipse, svn, branch, subclipse, branching-and-merging

Imagine you have a bunch of source files in a branch that you are working on that are add/modified/deleted. Then suppose you decide to halt development on that branch for a while and go back and work on something else in the trunk. You are NOT merging the branch at this time.

Normally I would check in all my changes to the branch then do a `Team->Switch` and select the trunk and start work. However, I noticed that if I didn't check in my changes, Subclipse happily changed the subversion URL of my working copy to trunk and left all my changes intact.

My question is this: ***Did Subclipse do a merge for me behind the scenes or did it just switch the URL to trunk and do an update... presumably in an attempt to avoid losing my changes?***

If it's the former, I have a new-found respect for subclipse/subversion. If it's the latter then, it seems like it should be an illegal operation to do a subversion "switch" while you have a modified working copy because you are in effect trashing the trunk!!

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-31T15:28:38.677

You can absolutely switch when you have modified sources. That is a perfectly normal use-case. Imagine you were working on trunk but not finished with your work and had to work on something else. The solution would be to create a branch for your new work, switch to the branch, commit to the branch (which will get rid of the local modifications) and then finally switch back to trunk.

This is how Subversion is designed to work.

# c# - NET 中是否可以在使用 ContextBoundObject 调用的方法中获取调用者的对象引用（实例而不是类）

> ID：12209260
> 
> 赞同：2
> 
> 时间：2012-08-31T05:12:57.680
> 
> 标签：c#, .net

使用堆栈跟踪只能给出类而不是调用者的实例。所以我想知道是否有使用 ContextBoundObject 的解决方案，因为问题与上下文有关。

但是 ContextBoundObject 似乎很难理解我无法理解如何使用它，所以有人知道它是否可能吗？

更新：我对 AOP 不感兴趣，只是获取对调用方法的对象实例的引用。AOP 与我的问题不同，所以我认为 AOP 的文章不能回答我的问题，但我有“直觉”认为 ContextBoundObject 可能是一个答案，但我不确定所以我的问题 :)

如果您不知道谁在通过电话给您打电话，您能想象在现实世界中吗 :) 一种编程语言应该公开调用者实例，因为某些用例可能需要它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T05:53:27.163

一般来说，这是不可能的，因为方法内联和垃圾收集。

# java - Java TCP通信传输数据结构

> ID：12209262
> 
> 赞同：0
> 
> 时间：2012-08-31T05:13:21.027
> 
> 标签：java, tcp, custom-component

我正在尝试用 Java 制作一个小型多人游戏。我得到了 tpc 连接工作，但现在我只能传输字符串。我想以数据包的形式传输更复杂的数据，其中包含同步游戏所需的所有数据。是否可以在一个 tcp 包中传输某种自定义结构或来自类实例的数据？或者有什么好方法（我用谷歌搜索，但找不到适合我需要的东西）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T05:17:36.247

一般来说，这里要查找的关键字是[*serialization*](https://en.wikipedia.org/wiki/Serialization)。这是将数据结构转换为可以通过套接字或其他传输介质发送的字节块的过程。

一种方法是使用[Google Protocol Buffers](https://code.google.com/p/protobuf/)库，该库具有与 Java 一起使用的绑定。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T05:18:04.443

最基本但不是最佳的方法是使用[Serializable](http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html) -marker 接口，例如参见此处：[Discover the secrets of the Java Serialization API](http://java.sun.com/developer/technicalArticles/Programming/serialization/)。

更好的方法是使用一些[二进制协议](http://en.wikipedia.org/wiki/Binary_protocol)，见这里的一些例子：[通用二进制协议](https://stackoverflow.com/questions/352433/general-purpose-binary-protocols)或自己做饭。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T05:24:05.770

**-**如果您对穿过套接字的普通字符串不满意，则可以使用`Serialization`.

**-** `Serialization`必须在使用同一个 java 程序写入和读取数据时使用。

**-** 分别在存储和检索时`Serialization` **展平和膨胀对象。**

**-**它实际上**不是**对象，但它`Instance variables`被用来保存并稍后用于在堆上复活一个相同的对象......

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-31T05:59:48.517

`I would like to transmit more sophisticated data in packets, which would contain all the necessary data for synchronizing the game.`

如果这些数据是`Serializable`（例如，您的数据仅由基元、字符串和基元数组或字符串数​​组组成），那么您可以使用`Collection`诸如`Vector`、`List`等标准`Map`来保存您的数据。它们是可序列化的（检查它们的文档）。所以你只需要使用这个：

```
objectOutputStream.writeObject(data) 
```

假设您正在使用`ObjectOutputStream`发送数据包。但是，如果您不需要创建自己的自定义数据结构，则需要用 标记它`java.io.Serializable`，正如其他人所指出的那样。

**注意：**在实现 Serializable 的类中，您必须确保该类的每个实例变量都是 Serializable 类型。

# php - 从类 php oop 返回值

> ID：12209264
> 
> 赞同：2
> 
> 时间：2012-08-31T05:13:25.567
> 
> 标签：php, oop

代码如下：

```
Class userinfo {
    function fetchdatabyemail($email) {
        $result=mysql_query(" SELECT * FROM users WHERE email='$email'"); 
        while($row = mysql_fetch_array($result)) {
            $name = $row['name'];
            $num = $row['num'];
            $city = $row['city'];
        }
        $numrows= mysql_num_rows($result);    
    }
} 
```

现在获取我这样做的信息：

```
$info = new userinfo();
$info->fetchdatabyemail('email@email.com');  
echo $info->city; 
```

它不返回信息。我想我做错了任何想法请

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-31T05:18:56.007

做

```
public $numrows;
public function fetchDataByEmail($email) {
        $result=mysql_query(" SELECT * FROM users WHERE email='$email'"); 
        while($row = mysql_fetch_assoc($result)) {
        $fetch[] = $row;
        }
        $this->numrows = mysql_num_rows($result);  
        return $fetch;  
} 
```

然后

```
$info = new userinfo();
$detail = $info->fetchDataByEmail('email@email.com');  
print_r($detail); // return all result array
$info->numrows; // will return number of rows. 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-31T05:18:09.443

您的变量在本地工作。您需要在班级级别分配它。您的代码应该是：

```
Class userinfo {

public $name,$city,$num,$numrows;

function fetchdatabyemail($email) {
$result=mysql_query(" SELECT * FROM users WHERE email='$email'"); 
while($row = mysql_fetch_array($result)) {
$this->name = $row['name'];
$this->num = $row['num'];
$this->city = $row['city'];
}
$this->numrows= mysql_num_rows($result);

} 
```

然后使用以下方式获取信息：

```
$info = new userinfo();
$info->fetchdatabyemail('email@email.com');  
echo $info->city; 
```

}

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-31T05:16:23.647

我认为您的问题是变量的范围/可见性认为您需要在函数范围之外声明它们：

[http://www.php.net/manual/en/language.oop5.visibility.php](http://www.php.net/manual/en/language.oop5.visibility.php)

```
class userinfo {
    public $name;
    public $num;
    public $city;
    public $numrows;
    function fetchdatabyemail($email) {
        $result=mysql_query(" SELECT * FROM users WHERE email='$email'"); 
        while($row = mysql_fetch_array($result)) {
            this->$name = $row['name'];
            this->$num = $row['num'];
            this->$city = $row['city'];
        }
        this->$numrows= mysql_num_rows($result);
    }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-31T05:19:38.023

您应该有一个私有变量和它的 getter/setter（这是正确的方法，请参见下面的代码）。您还可以将 $city 声明为公共变量并从类的实例直接访问它。

```
class userinfo
{
    private $city = '';

    public function getCity()
    {
        return $this->city;
    }

    public function fetchDataByEmail($email)
    {
        // Your code here
        $this->city = $row['city'];
    }
}

$info = new userinfo();
$info->fetchDataByEmail('someone@example.com');
echo 'City: '.$this->getCity(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-31T05:19:10.130

您需要首先声明类变量。

```
class Userinfo {

    $city;

    // then declare the function

} 
```

你这样做的方式，$city 的范围仅在函数内，而不是存储为字段

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-31T05:24:32.603

每次迭代中的 while 循环都在更新信息。所以，你可以像

```
function fetchdatabyemail($email) {
    $result=mysql_query(" SELECT * FROM users WHERE email='$email'"); 
    while($row = mysql_fetch_array($result)) {
       echo $row['city'];
    } 
```

或者可以将值存储在一个数组中，该数组在类中全局声明，而不是`echo`数组。

在您的代码中，您`$city`声明了不能从 class 访问的本地函数范围`$info->city`。

# java - 调度时间表算法

> ID：12209268
> 
> 赞同：2
> 
> 时间：2012-08-31T05:13:54.377
> 
> 标签：java, matlab, scheduling, heuristics, drools-planner

我想知道是否有人可以为我指出如何解决调度问题的正确方向。

我有一个教师/学生时间表问题，我的老师在特定时间教授特定科目，而学生对他们想在什么时候上哪门课有偏好。目标是创建一个不一定是最佳解决方案的时间表。

我环顾四周，在这个网站上有很多关于这个主题的讨论，我发现的讨论从超级一般到非常困难，我目前无法理解使用哪些编程/逻辑概念来至少概念化程序工作流程。

处理过类似问题的任何人都可以解释如何处理这些类型的问题。我不需要代码（虽然伪代码会很棒），但有一些指导方针，即步骤#1 - 执行此操作，步骤#2 - 执行此操作，步骤#3 - 执行等....

此外，是否有任何可用的库可以有效地根据偏好进行调度并且具有相当简单的输入？

非常感谢！！

这是我遇到的问题的概要。

假设我有一组销售人员：

![在此处输入图像描述](../Images/a60f50e8d86768cc5896739daaaf046d.png)

目标是创建一个时间表，根据时间可用性和偏好将买卖双方配对。

这是一个课程时间表问题，对吧？

我可以用 Drool Planner 完成吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:22:47.453

看看[课程](http://docs.jboss.org/drools/release/5.4.0.Final/drools-planner-docs/html_single/index.html#curriculumCourse)安排问题，它将教师和学生的讲座安排到时间段和房间中。看看[我在 Java 中的开源实现，](https://github.com/droolsjbpm/optaplanner/tree/master/optaplanner-examples/src/main/java/org/optaplanner/examples/curriculumcourse/domain)或者[直接下载并运行示例](http://download.jboss.org/drools/release/5.4.0.Final/drools-planner-distribution-5.4.0.Final.zip)。

我已经使用元启发式[禁忌搜索配置了构造启发式](http://docs.jboss.org/drools/release/5.4.0.Final/drools-planner-docs/html_single/index.html#d0e4766)[First Fit](http://docs.jboss.org/drools/release/5.4.0.Final/drools-planner-docs/html_single/index.html#d0e4620) Decreshing 。我也尝试了其他配置，请参阅我的基准测试配置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T23:59:12.273

Matlab 有一个全局优化工具箱，可让您使用非常简单的点击式 GUI 进行遗传算法优化，该 GUI 包含有用的文档。根据[维基百科的说法](https://en.wikipedia.org/wiki/Genetic_algorithm#Problem_domains)，您的问题只是用 GA 解决的问题。

如果您无法访问工具箱，您应该能够找到用于 java 的遗传算法库，或者最坏的情况是您可以自己编写。它不会那么广泛，并且需要一些工作，但制作一个简单的应该不会太难。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T05:42:35.500

首先，您应该为您的问题列出资源清单。然后你应该写下约束并建立一个数学模型。最后，您可以使用一些优化工具来生成解决方案。

当然，这并不像看起来那么容易。[此页面](http://www.csulb.edu/~obenli/DSS/node2.html)可能会让您对可能的解决方案有所了解。

# apache-flex - flex 4.6 使用 addElement() 时添加或更改元素名称

> ID：12209271
> 
> 赞同：0
> 
> 时间：2012-08-31T05:14:36.030
> 
> 标签：apache-flex, module, flex4, element, addeventlistener

弹性 4.6

我正在使用 addElement 如下。但是我注意到，在检查元素时，元素的名称以数字为后缀，因此加载的元素名称`newMod`变为`newMod10`（数字是可变的）。如果我想，那么`removeElement()`我不知道正确的是什么`getChildByName()`，所以`getChildByName("newMod")`失败了。

所以我的Q是

1.  如何使用唯一名称 addElement()
2.  如何找到我刚刚添加的元素的名称，以便我可以通过 nameXX 引用

谢谢艺术

```
/*  load module */
/*   creationComplete="loadNewMod('modToLoad','A' )
public function loadNewMod(modName,evtTyp):void {
   info = ModuleManager.getModule(modName);
   var self:Object = this;
   var meh =  "modEventHandler"+(evtTyp);
       info.addEventListener(ModuleEvent.READY, function(e:ModuleEvent){
        self[meh](e)
            });
   info.load(null, null, null, moduleFactory);
   }

private function modEventHandlerA(e:ModuleEvent):void {
   vg1.addElement(info.factory.create() as IVisualElement);
  }

<s:Group id="vg1" horizontalCenter="0" verticalCenter="0">
    <s:Label id="newLabel" />
</s:Group> 
```

[编辑] 通过打破功能，我添加了一个似乎有效的 ID

```
private function modEventHandlerA(e:ModuleEvent,fcall):void {
   var newID = info.factory.create();
   newID.name = "myElem";
   vg1.addElement(hh as IVisualElement);
   } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T05:28:11.043

最好的方法可能是将 name 属性附加到对象并执行 for 循环。效率低下，但是在AS3中设置的时候ID标签好像不能正常工作。

```
info.name = "info1";

for ( var i:Number = 0; i < vg1.numElements; i++ ) {
     if ( ( vg1.getElementAt(i) as UIComponent).name == "info1" ) {
         vg1.removeElementAt(i);
         break;
     }
} 
```

我没有检查 info 是否具有 name 属性，但这可以解决问题。或者，您可以对 id 标签使用完全相同的方法，除了使用 indexOf("info1") >= 0，而不是 .name == "info1"

# jquery - jQuery悬停重复

> ID：12209273
> 
> 赞同：0
> 
> 时间：2012-08-31T05:14:51.763
> 
> 标签：jquery

我想在鼠标悬停时移动图像并在 mouseOut 时将其放回先前的位置。该脚本运行良好，但如果我将鼠标移过几次，它就会继续运行。我该如何解决？

```
$(document).ready(function () {
  $(".HomeClaimWrapper .img").hover(function () {
    $(".HomeClaimWrapper .img").animate({
      top: "-15px"
    }, 500);

  });

  $(".HomeClaimWrapper .img").mouseout(function () {
    $(".HomeClaimWrapper .img").animate({
      top: "0px"
    }, 500);
  });
}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-31T05:16:01.130

使用 jQuery 的 .stop() 函数。在这里阅读更多关于它[http://api.jquery.com/stop/](http://api.jquery.com/stop/) - 使用它可以防止多个排队的动画

```
$(".HomeClaimWrapper .img").hover(function(){
    $(".HomeClaimWrapper .img").stop().animate({ // <-- add it there and pass in params
    // for the desired affect
        top: "-15px"
    }, 500 );

}); 
```

# r - 创建一组累积交叉点计数

> ID：12209276
> 
> 赞同：0
> 
> 时间：2012-08-31T05:15:08.193
> 
> 标签：r, set, iteration, dataframe

我想计算 var1[i] 和 union(var2[1],...,var2[i]) 的交集。

使用这些数据

```
var1 <- list('2003' = 1:3, '2004' = c(4:3), '2005' = c(6,4,1), '2006' = 1:4 )
var2 <- list('2003' = 1:3, '2004' = c(4:5), '2005' = c(2,3,6), '2006' = 2:3 ) 
```

我想用以下内容填充结果列表：

> ```
>  1\. intersect(var1$2003,var2$2003)
>  2\. intersect(var1$2004,union(var2$2003,var2$2004))
>  3\. intersect(var1$2005,union(var2$2005(union(var2$2003,var2$2004)))) 
> ```

依此类推，直到 2012 年（示例中未显示）

*   免责声明：由于编辑，以下评论可能没有意义。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-31T05:41:19.720

你想要这样的东西吗？

```
# create the data
var1 <- list('2003' = 1:3, '2004' = c(4:3), '2005' = c(6,4,1), '2006' = 1:4 )
var2 <- list('2003' = 1:3, '2004' = c(4:5), '2005' = c(2,3,6), '2006' = 2:3 )

# A couple of nested lapply statements

lapply(setNames(seq_along(var1), names(var1)), 
   function(i,l1,l2) length(intersect(l1[[i]], Reduce(union,l2[1:i]))), 
  l1 = var1,l2=var2)

$`2003`
[1] 3

$`2004`
[1] 2

$`2005`
[1] 3

$`2006`
[1] 4 
```

请注意，通过使用（请参阅）连续组合元素来`Reduce(union,var2)`减少列表`var2``union``?Reduce`

```
Reduce(union,var2)

[1] 1 2 3 4 5 6 
```

# 编辑优雅的替代品

使用`accumulate = T`参数`Reduce`

```
lapply(mapply(intersect,var1, Reduce(union, var2, accumulate=T)),length) 
```

因为 -

```
Reduce(union, var2, accumulate = T)

## [[1]]
## [1] 1 2 3
##
## [[2]]
## [1] 1 2 3 4 5
## 
## [[3]]
## [1] 1 2 3 4 5 6
## 
## [[4]]
## [1] 1 2 3 4 5 6 
```

# apache-flex - 如何在 Flex 中添加直线作为图形的图例

> ID：12209277
> 
> 赞同：0
> 
> 时间：2012-08-31T05:15:14.603
> 
> 标签：apache-flex

我想在 Flex 中将图例的元素显示为直线而不是默认的彩色框，基本上图例应该是不同颜色的直线我尝试添加直线但作为图例项但它不起作用任何帮助都会受到高度评价。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T09:56:36.643

以下样式可能会帮助您提供与您想要的线条相同的外观和填充......： -

```
<mx:Style>
        @namespace mx "library://ns.adobe.com/flex/mx";
        mx|Legend {
            labelPlacement:left;
            markerHeight:2;
            markerWidth:30;
        }
    </mx:Style> 
```

# ssl - 从兼容性的角度来看，是否可以将 OpenSSL 设置为使用 SSLv3 作为客户端？

> ID：12209291
> 
> 赞同：0
> 
> 时间：2012-08-31T05:17:56.200
> 
> 标签：ssl, openssl

正如标题所述：从兼容性的角度来看，是否可以将 OpenSSL 设置为使用 SSLv3 作为客户端？

我最近遇到了不支持 SSLv2 helo 的网站，因此我认为从兼容性的角度来看，使用 SSLv3 会更好。最后，我问的是 SSLv3 是否会比 SSLv23 更兼容（即 SSLv23_client_method）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T23:59:20.467

好吧，您必须支持网站要求您与之交谈的任何内容，但理想情况下，在此阶段您应该忘记所有关于 SSlv2 和 SSLv3 与 V2 握手的信息。您应该使用 TLS 作为主要协议，使用 SSLv3 作为备用协议，优先使用 RSA 和 256 位密码套件。

# java - JRBeanCollectionDataSource：如何从 JavaBean 显示来自 java.util.List 的数据？

> ID：12209300
> 
> 赞同：26
> 
> 时间：2012-08-31T05:19:02.183
> 
> 标签：java, jasper-reports

我的*JavaBean*包含*java.util.List*。

```
Userinfo {
    private String username;
    private String password;
    List<Address> listAddress;
} 
```

如何在*详细信息带中显示此**列表*的数据？

 ** * *

## 回答 #1

> 赞同：50
> 
> 时间：2012-08-31T09:21:02.620

### 这是工作示例。

该样本的关键点：

*   *`_THIS`*表达式的使用；
*   ***在Detail***带中使用*List (jr:list)* 组件

 **生成报告的代码片段：

```
public static void testBuildPdf() {
    try {
        Map<String, Object> params = new HashMap<String, Object>();
        JasperReport jasperReport = JasperCompileManager.compileReport(reportSource);
        JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, params, getDataSource());

        JasperExportManager.exportReportToPdfFile(jasperPrint, outputFileName);
    } catch (Exception e) {
        e.printStackTrace();
    }
}

private static JRDataSource getDataSource() {
    Collection<BeanWithList> coll = new ArrayList<BeanWithList>();
    coll.add(new BeanWithList(Arrays.asList("London", "Paris"), 1));
    coll.add(new BeanWithList(Arrays.asList("London", "Madrid", "Moscow"), 2));
    coll.add(new BeanWithList(Arrays.asList("Rome"), 3));

    return new JRBeanCollectionDataSource(coll);
} 
```

JavaBean 代码：

```
public class BeanWithList {

    // The member's name can be any. The JR engine is using public getter for extracting field's value
    private List<String> cities;
    private Integer id;

    public BeanWithList(List<String> cities, Integer id) {
        this.cities = cities;
        this.id = id;
    }

    // getter should be public    
    public List<String> getCities() {
        return this.cities;
    }

    public Integer getId() {
        return this.id;
    }
} 
```

jrxml 文件：

```
<?xml version="1.0" encoding="UTF-8"?>
<jasperReport ...>
    <subDataset name="dataset1">
        <field name="city" class="java.lang.String">
            <fieldDescription><![CDATA[_THIS]]></fieldDescription>
        </field>
    </subDataset>
    <field name="id" class="java.lang.Integer"/>
    <field name="cities" class="java.util.Collection"/>
    <title>
        <band height="103" splitType="Stretch">
            <staticText>
                <reportElement x="138" y="28" width="258" height="20"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true" isItalic="true"/>
                </textElement>
                <text><![CDATA[Bean with List sample]]></text>
            </staticText>
        </band>
    </title>
    <columnHeader>
        <band height="20">
            <staticText>
                <reportElement x="0" y="0" width="100" height="20"/>
                <box>
                    <topPen lineWidth="1.0"/>
                    <leftPen lineWidth="1.0"/>
                    <bottomPen lineWidth="1.0"/>
                    <rightPen lineWidth="1.0"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true" isItalic="true" isUnderline="false"/>
                </textElement>
                <text><![CDATA[Id]]></text>
            </staticText>
            <staticText>
                <reportElement x="100" y="0" width="100" height="20"/>
                <box>
                    <topPen lineWidth="1.0"/>
                    <leftPen lineWidth="1.0"/>
                    <bottomPen lineWidth="1.0"/>
                    <rightPen lineWidth="1.0"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true" isItalic="true" isUnderline="false"/>
                </textElement>
                <text><![CDATA[City name]]></text>
            </staticText>
        </band>
    </columnHeader>
    <detail>
        <band height="20" splitType="Stretch">
            <textField>
                <reportElement stretchType="RelativeToTallestObject" x="0" y="0" width="100" height="20"/>
                <box leftPadding="10">
                    <topPen lineWidth="1.0"/>
                    <leftPen lineWidth="1.0"/>
                    <bottomPen lineWidth="1.0"/>
                    <rightPen lineWidth="1.0"/>
                </box>
                <textElement/>
                <textFieldExpression><![CDATA[$F{id}]]></textFieldExpression>
            </textField>
            <componentElement>
                <reportElement x="100" y="0" width="400" height="20"/>
                <jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
                    <datasetRun subDataset="dataset1">
                        <dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{cities})]]></dataSourceExpression>
                    </datasetRun>
                    <jr:listContents height="20" width="400">
                        <textField>
                            <reportElement x="0" y="0" width="100" height="20"/>
                            <box leftPadding="10">
                                <topPen lineWidth="1.0"/>
                                <leftPen lineWidth="1.0"/>
                                <bottomPen lineWidth="1.0"/>
                                <rightPen lineWidth="1.0"/>
                            </box>
                            <textElement/>
                            <textFieldExpression><![CDATA[$F{city}]]></textFieldExpression>
                        </textField>
                    </jr:listContents>
                </jr:list>
            </componentElement>
        </band>
    </detail>
</jasperReport> 
```

结果将是：

![生成的 PDF 格式报告](../Images/6728009eb647dce3e3346b2b252fb87c.png)

* * *

其他相关问题是[如何打印 iReport 中另一个列表中包含的字符串列表？](https://stackoverflow.com/questions/1771864/how-do-i-print-a-list-of-strings-contained-within-another-list-in-ireport)问题并将[原始类型对象列表作为子报告问题的数据源传递](https://stackoverflow.com/q/11949333/876298)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2022-01-21T11:18:08.793

```
public void generisiIzvestaj(HttpServletRequest request, HttpServletResponse response) throws Exception { 

        List<Predstava> predstave = (List<Predstava>)request.getSession().getAttribute("predstaveR");

        JRBeanCollectionDataSource dataSource = new JRBeanCollectionDataSource(predstave);
        InputStream inputStream = this.getClass().getResourceAsStream("/reports/Predstave.jrxml");
        JasperReport jasperReport = JasperCompileManager.compileReport(inputStream);
        Map<String, Object> params = new HashMap<String, Object>();
        JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, params, dataSource);
        inputStream.close();

        response.setContentType("application/x-download");
        response.addHeader("Content-disposition", "attachment; filename=PredstaveRezisera.pdf");
        ServletOutputStream out = response.getOutputStream();
        JasperExportManager.exportReportToPdfStream(jasperPrint,out); 
```***

# iphone - 如何使 iOS 应用程序充当 Web 服务器

> ID：12209302
> 
> 赞同：3
> 
> 时间：2012-08-31T05:19:07.150
> 
> 标签：iphone, webserver

我开发了一个 iPhone 应用程序，它将在应用程序文档目录中包含一些文件（图像、音频和视频）（注意：文件在文档目录中而不是资源或主包中）。

我想创建一个唯一的 URL，它允许用户从其他设备（如 Mac、智能手机等）上的浏览器下载这些文件（从应用程序文档目录）。

因此，简而言之，可以让 iOS 应用程序充当允许下载应用程序文件的 Web 服务器。

如何做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-31T05:21:46.560

试试[CocoaHTTPServer](https://github.com/robbiehanson/CocoaHTTPServer) - 你可以使用它来提供一个页面，其中包含指向文档目录中文件的下载链接。（并自己提供文件）

# rename - 如何在 RFT 中重命名脚本？重命名会删除脚本的全部内容？

> ID：12209309
> 
> 赞同：0
> 
> 时间：2012-08-31T05:19:47.310
> 
> 标签：rename, rft

我使用添加空脚本选项创建了一个 RFT 脚本。

并添加了处理一些逻辑的代码。
现在，当我重命名脚本时，我编写的代码已经消失并被空脚本替换，并且文件被重命名。为什么会这样？我错过了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T06:53:42.133

这不应该发生，重命名会保留您的所有代码。简化脚本可能存在一些问题，如果您手动编辑代码，它经常会搞砸。我建议[在首选项中将其关闭](http://www-01.ibm.com/support/docview.wss?uid=swg21405134)。

这对我来说很重要，还有许多其他小问题，我根据经验给出这个建议。

# apache - 清漆 3 和多个 IP（虚拟主机）对我来说效果不太好

> ID：12209310
> 
> 赞同：0
> 
> 时间：2012-08-31T05:19:52.283
> 
> 标签：apache, varnish, vhosts, varnish-vcl

如果这看起来很愚蠢，请提前对 Varnish 完全的新手道歉。

这是情况。我有一个有 5 个 IP 的服务器。将 ISPconfig 用于大多数任务，但这可能无关紧要。

我有多个跨多个 IP 配置的 apache 虚拟主机。

问题是 varnish 在任何非默认虚拟主机（即在 vhosts 中定义了静态 IP 的虚拟主机）上发出 503，获取错误无后端连接（根据 varnishlog）。任何 *:8080 虚拟主机都可以正常工作。所以我在某处遗漏了一些东西。尽管路径看起来正确，但所有 vhost 错误日志都显示文件不存在错误。

非常感谢您的建议。

我当然已经手动编辑了所有虚拟主机条目并相应地配置了它们，即

```
<VirtualHost 00.11.22.33:8080>
      DocumentRoot /var/www/shop.example1.com/web 
```

这是我的 vcl 配置

```
 backend default {

        .host = "127.0.0.1";
        .port = "8080";
    }

    backend example1 {
          .host = "00.11.22.33";
          .port = "8080";
    }

    backend example2 {
         .host = "11.22.33.44";
          .port = "8080";
    }

    acl purge {
            "localhost";
    }

    sub vcl_recv {

    if (req.http.host ~ "(?i)^(www.)?example1.com")

    {

        set req.http.host = "www.example1.com";
        set req.backend = example1;

    }

    if (req.http.Host ~ "shop\.example2\.com") 
    {

            set req.http.Host = "shop.example2.com";
            set req.backend = example2;

            }
        set req.grace = 2m;

  set req.http.Cookie = regsuball(req.http.Cookie, "(^|;\s*)(_[_a-z]+|has_js)=[^;]*", "");
  set req.http.Cookie = regsub(req.http.Cookie, "^;\s*", "");

if (req.url ~ "/wp-(login|admin|cron)") {
        return (pass);
}

set req.http.Cookie = regsuball(req.http.Cookie, "wp-settings-1=[^;]+(; )?", "");

set req.http.Cookie = regsuball(req.http.Cookie, "wp-settings-time-1=[^;]+(; )?", "");

set req.http.Cookie = regsuball(req.http.Cookie, "wordpress_test_cookie=[^;]+(; )?", "");

if (req.url ~ "wp-content/themes/" && req.url ~ "\.(css|js|png|gif|jp(e)?g)") {

.......
' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T17:41:21.400

当然是显而易见的事情。

port.conf 有：

```
 NameVirtualHost *:8080
Listen 127.0.0.1:8080 
```

它需要的是：

```
NameVirtualHost *:8080
Listen 127.0.0.1:8080
Listen my_IP1:8080
Listen my_IP2:8080 
```

# jquery - 使用 jQuery 和 Asana

> ID：12209311
> 
> 赞同：0
> 
> 时间：2012-08-31T05:20:02.850
> 
> 标签：jquery, coffeescript, jsonp, asana

我想像这样使用 Asana，但我总是收到有关无效标签的消息。

```
$.ajax
  url: "https://app.asana.com/api/1.0/projects"
  username: apikey
  dataType: "jsonp"
  success: (projects) -> 
```

**更新：**

好吧，看起来有些变化。JSONP 调用似乎工作正常。另请参阅下面的线程。这就是这个 CoffeeScript 的基础。我从事的其他工作也停止了工作。Asana-API 有什么变化吗？没有关于此的更新。

[使用 JQuery ajax() 方法检索 RESTful 数据](https://stackoverflow.com/questions/11280001/retrieve-restful-data-using-jquery-ajax-method)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T18:30:36.257

（我在 Asana 工作）

我们没有更改 API 中我们认为会影响此请求的任何内容。我实际上并没有看到它是如何工作的，因为 Asana API 目前不支持“jsonp”返回类型（我们计划在它与 OAuth 结合使用时尽快安全地提供它）。JSONP 协议对服务器（输出 javascript 函数调用）有特定要求才能使其工作——我们尚未实现这些要求。

# c - C - 为什么我的文件 I/O 程序会出现此段错误？

> ID：12209316
> 
> 赞同：0
> 
> 时间：2012-08-31T05:20:53.033
> 
> 标签：c, file-io, segmentation-fault

我正在制作一个练习程序，以便在学习 C 时对我的 Makefile 中的变量进行简单的更改。每当我运行这个程序时，我都会遇到段错误，但我不知道为什么。我怀疑它与“r+”fopen 模式或我对 fseek() 的使用有关。这是代码：

```
#include <stdio.h>
#include <string.h>
#include <stdlib.h>

void rewind(FILE *f)
{   
    long start = 0;
    fseek(f, start, SEEK_SET);
}

int main(int argc, char *argv[])
{
    if(argc != 2)
    {
        printf("arguments too many or too few. use: setfile <filename> (minus .c extension)\n");
        exit(1);
    }
    FILE *mfile = fopen("Makefile", "r+"); // note to self: r+ is for a file that already exists
    FILE *old_mfile = fopen("OLD.Makefile", "r+");  // w+ erases the file and starts in read-write mode with a fresh one
    char line[200];
    char *fn_ptr;
    char *name = argv[1];

    while(fgets(line, 199, mfile)) // first create the backup
    {   
        fputs(line , old_mfile); // before changing the line, write it to the backup
    }
    rewind(mfile); // reset the files to position 0
    rewind(old_mfile);
    puts("Makefile backed-up as 'OLD.Makefile'");

    while(fgets(line, 199, old_mfile)) // now lets loop again and rewrite with the new FNAME
    {
        if((fn_ptr = (strstr(line, "FNAME= "))))
        {
            fn_ptr += strlen("FNAME= ");
            int i;
            for(i = 0; i < strlen(name); i++)
            {
                *(fn_ptr+i) = *(name+i);
            }
            *(fn_ptr+i) = '\0';

        }
        // printf("%s", line); // for debugging
        fputs(line , mfile);
    }
    printf("FNAME is now: '%s'\n", argv[1]);
    fclose(mfile);
    fclose(old_mfile);
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-31T05:49:14.440

再次检查这一行：

```
FILE *old_mfile = fopen("OLD.Makefile", "r+");  // w+ erases the file and starts in read-write mode with a fresh one 
```

您在评论中有正确的模式，但在`fopen`通话中没有。

除了更改模式之外，如何不出现分段错误？始终检查返回值！如果`fopen`失败，它将返回`NULL`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T09:52:35.320

这是一个工作版本。这里有几个微妙的地方需要注意，所以我会让你通过切换进出更改来一一检查它们。如果仔细阅读，调用函数的手册页可能就足够了。

```
#include <stdio.h>
#include <string.h>
#include <stdlib.h>

void rewind(FILE *f)
{
    long start = 0;
    fseek(f, start, SEEK_SET);
}

int main(int argc, char *argv[])
{
    if(argc != 2)
    {
        printf("arguments too many or too few. use: setfile <filename> (minus .c extension)\n");
        exit(1);
    }
    FILE *mfile = fopen("Makefile", "r+"); // note to self: r+ is for a file that already exists
    FILE *old_mfile = fopen("OLD.Makefile", "w+");  // w+ erases the file and starts in read-write mode with a fresh one
    char line[200];
    char *fn_ptr;
    char *name = argv[1];

    while(fgets(line, 199, mfile)) // first create the backup
    {
        fputs(line , old_mfile); // before changing the line, write it to the backup
        memset(line,0x00,200);
    }
    rewind(mfile); // reset the files to position 0
    rewind(old_mfile);
    memset(line,0x00,200);
    puts("Makefile backed-up as 'OLD.Makefile'");

    fclose(mfile);
    mfile = fopen("Makefile", "w");
    while(fgets(line, 199, old_mfile)) // now lets loop again and rewrite with the new FNAME
    {
        if((fn_ptr = strstr(line, "FNAME=")) != NULL)
        {
            fn_ptr += strlen("FNAME=");
            int i;
            for(i = 0; i < strlen(name); i++)
            {
                *(fn_ptr+i) = *(name+i);
            }
            *(fn_ptr+i) = '\0';

        }
        // printf("%s", line); // for debugging
        fputs(line , mfile);
        fputs("\n" , mfile);
        memset(line,0x00,200);
    }
    printf("FNAME is now: '%s'\n", argv[1]);
    fclose(mfile);
    fclose(old_mfile);
    return 0;
} 
```

# asp.net - 如何在存储过程中使用拆分函数？

> ID：12209325
> 
> 赞同：1
> 
> 时间：2012-08-31T05:21:57.847
> 
> 标签：asp.net, stored-procedures, split

我正在选择如下值：

```
select browser, firstname, lastname from details 
```

这里的浏览器值将是这样的：

```
33243@Firefox@dsfsd
34234@google@dfsd 
```

我分别对单个值使用了拆分函数，如下所示：

```
select * from dbo.split('33243@Firefox@dsfsd','@') 
```

结果是：

```
items
===========
33243
firefox
dsfsd 
```

所以我使用了如下的拆分功能

```
select split(browser, '@'), firstname, lastname from details 
```

但它不工作......

我需要的是

33243@Firefox@dsfsd

不必将这样的值显示到网格中，而必须仅将 Firefox 显示到网格中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T07:35:33.233

由于您知道每次都需要第二个元素，因此您可以编写如下函数：

```
 CREATE FUNCTION [dbo].[fn_SplitElement] 
(
    @inputString nvarchar(2000),    --The input string
    @elem   int,    --The 1-based element index to return,
    @delimiter nvarchar(1)  --The delimiter char
)
RETURNS nvarchar(2000)
AS
BEGIN
    -- Declare the return variable here
    DECLARE @result nvarchar(2000)

    -- Add the T-SQL statements to compute the return value here
    SELECT @result = value
    FROM
    (
        SELECT *,ROW_NUMBER() OVER(ORDER By Position) as rownum FROM dbo.split(@inputString,@delimiter)
    ) as t
    WHERE rownum=@elem

    -- Return the result of the function
    RETURN @result

END

GO 
```

然后你可以调用：

```
 select [dbo].[fn_SplitElement](browser,2,'@') as 'BrowserName', firstname, lastname from details 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:55:54.330

您没有说明您使用的是哪个版本的 SQL Server 或哪个拆分功能。但是，大多数拆分函数返回一个表而不是行，因此您需要使用 JOIN 来连接两个表（第一个是拆分，第二个是其余字段）。

有关 SQL 拆分函数的更多信息，请参阅 Erland Sommarskog 的页面[http://www.sommarskog.se/arrays-in-sql.html](http://www.sommarskog.se/arrays-in-sql.html)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T09:26:41.257

我使用了下面的查询而不是使用拆分功能..它工作得很好..

```
 select 
        SUBSTRING(SUBSTRING(browser, CHARINDEX ('@', browser)+1,LEN(browser)-charindex('@', browser)),
        0,
        CHARINDEX('@',SUBSTRING(browser, CHARINDEX ('@', browser)+1,LEN(browser)-CHARINDEX('@', browser)))),
    firstname, lastname from details 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-31T07:19:52.033

您可以创建一个拆分功能，并在您需要时使用。

```
CREATE FUNCTION [dbo].[Split]
(   
    @List nvarchar(max),
    @SplitOn nvarchar(1)
)
RETURNS @RtnValue table (
    Id int identity(1,1),
    Value nvarchar(max)
)
AS
BEGIN
    While (Charindex(@SplitOn,@List)>0)
    Begin 
        Insert Into @RtnValue (value)
        Select 
            Value = ltrim(rtrim(Substring(@List,1,Charindex(@SplitOn,@List)-1))) 
        Set @List = Substring(@List,Charindex(@SplitOn,@List)+len(@SplitOn),len(@List))
    End 

    Insert Into @RtnValue (Value)
    Select Value = ltrim(rtrim(@List))

    Return
END 
```

之后，您可以在查询中调用该函数，如下所示。

```
SELECT * FROM anotherTable WHERE user_id IN(dbo.split(@user_list,',')) 
```

# php - Cookie 仅设置为一个域名，但网站有多个域名

> ID：12209326
> 
> 赞同：0
> 
> 时间：2012-08-31T05:22:01.167
> 
> 标签：php, javascript, cookies, setcookie

我有一个有两个域名的网站，它显示两个域名的相同内容，并且对于子域也是正确的，但问题是当我为这个网站设置一个在其子域网站中使用的 cookie 时。

cookie 仅设置为一个域名，而不是同时设置。问题是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:30:48.950

您必须知道，只能为来自该域（包括其子域）的域设置 cookie。如果您的域不共享一个公共超级域，则需要分别为每个域设置每个 cookie。

您可以使用在每个域上为您设置 cookie 的脚本来执行此操作。但请确保对这些脚本的请求进行身份验证，以便只有您可以设置 cookie。

参考[链接](http://www.codeguru.com/csharp/csharp/cs_internet/article.php/c19417/Sharing-Cookies-Across-Domains.htm)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:26:15.180

您可以在公共域上设置 API 来为所有想要访问所述 cookie 信息的域设置 cookie。公共域 cookie 将具有表示域等的名称空间键，并将执行所有 cookie 读取/写入。使用 XHR 访问带有您希望放入公共 cookie 中的参数的公共域。请记住，Safari 默认禁用 3rd 方 cookie。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T05:26:50.740

您不能在两个不同的域之间共享 cookie，即使您同时拥有这两个域。

* * *

SO 有一些关于跨域 cookie 的帖子，以及其他可能的解决方案：

[跨域cookies](https://stackoverflow.com/questions/1084114/cross-domain-cookies)

[跨域 Cookie](https://stackoverflow.com/questions/3342140/cross-domain-cookies)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-31T05:30:26.283

**Cookie 并非设计为可供其他域访问** 但总有一种解决方法 ;) 有方法可以实现这一点

1.  包括来自不同域的 2 个隐藏 iframe，用于设置具有相同值的 cookie。

    前任。[http://productforums.google.com/forum/#!topic/websiteoptimizer/aD4rZSoaKNo](http://productforums.google.com/forum/#!topic/websiteoptimizer/aD4rZSoaKNo)

2.  使用主从域配置

    例子：

    [https://developers.google.com/analytics/devguides/collection/gajs/gaTrackingSite](https://developers.google.com/analytics/devguides/collection/gajs/gaTrackingSite)

    [http://www.codeguru.com/csharp/csharp/cs_internet/article.php/c19417/Sharing-Cookies-Across-Domains.htm](http://www.codeguru.com/csharp/csharp/cs_internet/article.php/c19417/Sharing-Cookies-Across-Domains.htm)

# sql - 模式设计：异类（不同目标）的一对一对外关系，但角色相同

> ID：12209328
> 
> 赞同：2
> 
> 时间：2012-08-31T05:22:17.067
> 
> 标签：sql, database, database-design, relational-database, normalization

我一直在努力构建一个更抽象的模式，其中有几个表建模非常相似的关系，我只想建模“本质”。由于我正在使用的环境（Drupal 7），我无法改变问题的性质：相同基本类型的关系可以引用一个角色的对象的两个不同表之一。让我们举个例子来澄清一下（这不是我的实际问题域，而是一个类似的问题）。以下是要求：

首先，如果您不熟悉 Drupal，这里的要点是：一个表中的用户，第二个表中的所有其他实体（粗略概括，但足够了）。

假设我们要对“为”关系建模，并假设“公司”属于“实体”类型，“主管”属于“用户”类型（“类型”是指表格在他们的元组所在的数据库中）。以下是简化的要求：

1.  用户可以为公司工作
2.  一家公司可以为一家公司工作
3.  这些“适用于”的关系应该在同一个表中。

我有两个想法，两者都不完全符合我目前对模式质量的态度，这就是我想要了解的地方。

1.  一个外键列与“类型”列配对
2.  两个外键列，总是最多使用一个（ick！）

如果您是视觉思考者，这里有两个选项表示用户 123 和 632 以及实体 123 都为实体 435 工作：

```
 Option 1
+---------------+-------------+---------------+-------------+
| employment_id | employee_id | employee_type | employer_id |
+---------------+-------------+---------------+-------------+
|             1 |         123 |          user |         435 |
+---------------+-------------+---------------+-------------+
|             2 |         123 |        entity |         435 |
+---------------+-------------+---------------+-------------+
|             3 |         632 |          user |         435 |
+---------------+-------------+---------------+-------------+

  Option 2
+---------------+------------------+--------------------+-------------+
| employment_id | employee_user_id | employee_entity_id | employer_id |
+---------------+------------------+--------------------+-------------+
|             1 |              123 |             <NULL> |         435 |
+---------------+------------------+--------------------+-------------+
|             2 |           <NULL> |                123 |         435 |
+---------------+------------------+--------------------+-------------+
|             3 |              632 |             <NULL> |         435 |
+---------------+------------------+--------------------+-------------+ 
```

关于选项1的思考：我喜欢employee_id列有*具体的角色*，但我鄙视它有*模棱两可的目标*。选项 2 的角色不明确（*哪一列是员工？*），但对于任何给定的 FK 都有具体的目标，所以我可以这样想：

```
+-----------+-----------+----------+
|           |         ROLE         |
|           | ambiguous | concrete |
+-----------+-----------+----------+
| T         |           |          |
| A  ambig. |           |     1    |
| R         |           |          |
| G  -------+-----------+----------+
| E         |           |          |
| T  concr. |     2     |     ?    |
|           |           |          |
+-----------+-----------+----------+ 
```

选项二对我的项目有非常实用的好处，但我对这么多空值感到不舒服（你甚至可能不称它为 1NF！）

所以这是我对 SO 的问题的症结所在：如何改进选项 1，否则我可能有什么知识差距让我不安？虽然我想不出它违反的特定*规则*，但该设计显然不符合规范化的意图（需要两列来唯一标识关系对防止异常没有任何好处）。

我确实理解*理想*的解决方案是将*用户*实体重新设计为与我在这里所说的“实体”*相同*，但请考虑到这一点/间接（或者至少让我们在那里准确地画出务实的线）对于这个问题）。

再次，基本问题：**就规范化而言，模式选项 1 有什么问题，以及在不将“用户”重构为“实体”的约束下，您如何对这种关系建模？**

**注意：** *为此，我对理论纯度比实用解决方案更感兴趣*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T09:01:48.487

正如@podiluska 所说，您提出的解决方案违反了第四范式。如果将其重新转换为下面的形式，则解决方案消除了这个困难并且处于 5NF（甚至是 6NF？）。

采用子/超类型的模式之一。这使用下面列出的关系定义，以及超/子类型约束。这个约束是超类型关系中的每个元组必须与一个子类型元组完全对应。换句话说，子类型必须形成一个不相交的、覆盖超类型的集合。

我怀疑在实际情况下的性能可能需要一些重调：

```
 Table: Employment
    +---------------+-------------+
    | employee_id   | employer_id |
    +---------------+-------------+
    |             1 |         435 |
    +---------------+-------------+
    |             2 |         435 |
    +---------------+-------------+
    |             3 |         435 |
    +---------------+-------------+
    Table: Employee (SuperType)
    +---------------+
    | employee_id   |
    +---------------+
    |             1 |
    +---------------+
    |             2 |
    +---------------+
    |             3 |
    +---------------+
    Table: User employee (SubType)
    +---------------+-------------+
    | employee_id   | user_id     |
    +---------------+-------------+
    |             1 |         123 |
    +---------------+-------------+
    |             3 |         632 |
    +---------------+-------------+
    Table: Entity employee (SubType)
    +---------------+-------------+
    | employee_id   |   entity_id |
    +---------------+-------------+
    |             2 |         123 |
    +---------------+-------------+ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T06:09:23.133

选项 1（和选项 2）的问题在于它是一个多值依赖项，因此违反了第四范式。但是，在您给出的限制范围内，您对此无能为力。

如果您可以用`worksfor`视图替换表，那么您可以将用户-公司和公司-公司关系分开。

在您的两个选择中，选项 2 的优点是可能更容易实施参照完整性，具体取决于您的平台。

在您当前的限制范围内，一个潜在的、如果古怪的、实用的解决方案可能是给公司积极的 ID 和用户消极的 ID，这消除了选项 2 的空列并将选项 1 的类型列变成一个暗示，但我觉得即使建议它也很脏.

同样，如果您不需要知道实体是什么类型，只要您可以通过加入来确定它，那么使用 Guids 作为 ID 将消除对`type`列的需要

# arrays - 从matlab中的循环中将数据存储在数组中

> ID：12209329
> 
> 赞同：0
> 
> 时间：2012-08-31T05:22:17.837
> 
> 标签：arrays, matlab, image-processing

我想将来自 for 循环的数据存储在一个数组中。我怎样才能做到这一点？样本输出：

```
for x=1:100
    for y=1:100

        Diff(x,y) = B(x,y)-C(x,y);

        if (Diff(x,y) ~= 0)

            % I want to store these values of coordinates in array
            % and find x-max,x-min,y-max,y-min
            fprintf('(%d,%d)\n',x,y);

        end
    end
end 
```

谁能告诉我我该怎么做。谢谢

结婚

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T15:55:18.350

因此，您需要 B 和 C 不同的 x 和 y（或行和列）坐标列表。我假设 B 和 C 是矩阵。首先，您应该对代码进行矢量化以摆脱循环，其次，使用 find() 函数：

```
Diff = B - C;  % vectorized, loops over indices automatically
[list_x, list_y] = find(Diff~=0);  
   % finds the row and column indices at which Diff~=0 is true 
```

或者，甚至更短，

```
[list_x, list_y] = find(B~=C); 
```

记住matlab中的第一个索引是矩阵的行，第二个索引是列；如果您尝试使用 imagesc 可视化矩阵 B 或 C 或 Diff，例如，您所称的 X 坐标实际上将显示在垂直方向，而您所称的 Y 坐标将显示在水平方向方向。为了更清楚一点，你可以说

```
[list_rows, list_cols] = find(B~=C); 
```

然后找到最大值和最小值，使用

```
maxrow = max(list_rows);
minrow = min(list_rows); 
```

list_cols 也是如此。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T07:04:15.107

如果`B(x,y)`和`C(x,y)`是接受矩阵输入的函数，那么您可以代替双循环

```
[x,y] = meshgrid(1:100);
Diff  = B(x,y)-C(x,y);

mins  = min(Diff);
maxs  = max(Diff);

min_x = mins(1);    min_y = mins(2);
max_x = maxs(1);    max_y = maxs(2); 
```

如果`B`并且`C`只是保存数据的矩阵，那么您可以这样做

```
Diff = B-C; 
```

但实际上，我需要更多细节才能完全回答这个问题。

那么：是`B`和`C`函数，矩阵？您想找到`min_x`, `max_x`，但在您给出的示例中，分别是`1`和`100`，所以...您是什么意思？

# python-2.7 - 为什么我会在这里收到 TypeError？

> ID：12209331
> 
> 赞同：0
> 
> 时间：2012-08-31T05:22:26.853
> 
> 标签：python-2.7

```
if emp in like_list[j]: 
```

> TypeError：强制转换为 Unicode：需要字符串或缓冲区，找到列表

`emp`和都是`like_list`包含字符串的列表。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T18:04:00.367

因为`emp`和`like_list`都是列表，所以您实际上是在列表中查找列表。

如果您尝试匹配 list 中的任何元素`emp`，则可以像这样遍历列表：

```
for element in emp:
    if element in like_list:
        --do something--
    else:
        --do something else-- 
```

或者，如果`like_list`是列表列表，则您的`if`陈述将起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T19:49:29.310

如果两者`emp`都是`like_list`字符串列表，则表达式`emp in like_list[j]`将检查列表是否是单个字符串的成员。当我用下面的代码测试它时，我得到了一点不同`TypeError`：

```
>>> emp = ["foo", "bar"]
>>> like_list = ["baz", "quux"]
>>> if emp in like_list[0]:
...     print "found"
... 
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: 'in <string>' requires string as left operand, not list 
```

这表示您不能测试非字符串在字符串中的成员资格。我认为解决这个问题会很容易，但并不完全清楚你想要做什么。

如果要检查字符串`like_list[j]`中是否有其中一个字符串`emp`作为子字符串，请使用：

```
if any(s in like_list[j] for s in emp): 
```

相反，如果您想查看是否`like_list[j]`等于 中的字符串之一`emp`，则需要反转`in`表达式：

```
if like_list[j] in emp: 
```

# android - 在同一活动中调用soap + xml解析

> ID：12209337
> 
> 赞同：-1
> 
> 时间：2012-08-31T05:23:17.853
> 
> 标签：android, xml-parsing, android-ksoap2

我必须开发一个应用程序。第一个图像使用 android 中的 xml 解析显示在 listview 中。当我单击特定项目时，第二张图像显示特定订单的详细描述。在这里我希望为该特定订单添加微调器更新方法。（即）如果我必须单击特定项目意味着它是转到详细描述活动..这里有2个可扩展列表视图。它们是订单信息，客户信息...这里微调器是添加订单信息组..怎么做...如何在customizedlistview和singlemenuitem活动中添加我的代码。

![使用xml解析的listview](../Images/fe71e74007650c5a3b4ace31dc94fdec.png) ![特定项目的详细描述](../Images/fd88dfdf7ced97e336fe228eee7acab9.png)

请在此处参考我的代码： [CustomizedListView](http://pastie.org/4624429) [SingleMenuItemActivity](http://pastie.org/4624465)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T07:15:52.113

我不太清楚你的问题。如果我说错了。你想在第二个视图中创建一个“微调器更新方法”，它解析 xml 以获取肥皂请求，然后发送肥皂请求并拆分响应？

如果是，我建议您创建一个单独的类，您将在其中解析 xml 并发出请求。像这样的东西：

```
public class SomeRequest {
    private static String xml = null;
    private static String response= null;

    public static void SomeRequest (String url, String sT, int protocoll, String[] Vars) {
        HttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost(url);

        xml = "<soapenv:Envelope xmlns:soapenv='http://schemas.xmlsoap.org/soap/envelope/' xmlns:mob='YOUR/URL' xmlns:arr='http://schemas.microsoft.com/2003/10/Serialization/Arrays'>" +
                "<soapenv:Header/>" +
                "<soapenv:Body>" +
                "<mob:Request>" +
                    "<!--Optional:-->" +
                    "<mob:Vars>" +
                        "<!--Zero or more repetitions:-->" +
                        "<arr:string>"+ Vars +"</arr:string>" +
                    "</mob:Vars>" +
                    "<!--Optional:-->" +
                    "<mob:protocoll>"+ protocoll +"</mob:protocoll>" +
                    "<!--Optional:-->" +
                    "<mob:session>"+ sT +"</mob:session>" +
                "</mob:Request>" +
            "</soapenv:Body>" +
        "</soapenv:Envelope>";

        try {
            StringEntity se = new StringEntity(xml, HTTP.UTF_8);
            se.setContentType("text/xml");
            httpPost.addHeader("SOAPAction", "YOUR/REQUEST/URL");
            httpPost.setEntity(se);

            HttpResponse httpResponse = httpClient.execute(httpPost);
            HttpEntity resEntity = httpResponse.getEntity();
            response= EntityUtils.toString(resEntity);

        } catch (Exception e) {
            System.out.println(e.toString());
            Log.e("httpRequestException", e.toString());
        }
    }
} 
```

# sql - 如何使 SQL 中的 WHILE LOOP 中的代码在每个 LOOP 中只执行一次？

> ID：12209345
> 
> 赞同：0
> 
> 时间：2012-08-31T05:24:42.280
> 
> 标签：sql, sql-server, tsql

问题，我怎样才能使插入只执行 9 次？我说 9 是因为这是 @CN_COUNT 的值。相反，这是执行 9*9。任何帮助将不胜感激。

```
DECLARE @CN_COUNT INT
, @DATE VARCHAR(10) = CONVERT(VARCHAR(10), GETDATE(),101)
, @TIME VARCHAR(10) = CONVERT(VARCHAR(8), GETDATE(),114)

SELECT @CN_COUNT = COUNT(*) FROM CARTON_HEADER

DECLARE @CN INT
SET @CN = 1
WHILE (@CN  <= @CN_COUNT)
BEGIN
SET @CN = @CN + 1

INSERT INTO TM_CARTON(
    CN_NUMBER, CN_PICKTICKET, CN_LOAD_NUMBER, CN_SHIPMENT_NUMBER,         CN_PACKED_QTY, CN_TRACKING_NUMBER, 
    CN_ROUTE, CN_BOL, CN_MBOL, CN_PARCEL_NUMBER, CN_TRAILER_NUMBER, CN_CREATED_DATE, CN_CREATED_TIME)
SELECT 
    CN_NUMBER, CN_PICKTICKET, CN_LOAD_NUMBER, CN_SHIPMENT_NUMBER, CN_PACKED_QTY, CN_TRACKING_NUMBER, 
    CN_ROUTE, CN_BOL, CN_MBOL, CN_PARCEL_NUMBER, CN_TRAILER_NUMBER, @DATE, @TIME 
    FROM CARTON_HEADER WHERE CN_LOAD_NUMBER = '1000000002'

END
GO 
```

这是示例数据：

```
 CN_NUMBER      CN_STATUS  CN_LOAD_NUMBER
  1001333311111 85  1000000002
  1001333311112 85  1000000002
  1001333311114 85  1000000002
  1001333311113 85  1000000002
  1001333311115 85  1000000002
  1001333311116 85  1000000002
  1001333311117 85  1000000002
  1001333311118 85  1000000002
  1001333311119 85  1000000002 
```

以上数据在表 A 上，我想将其复制到表 B 中，其中 CN_LOAD_NUMBER 是我在语句中声明的内容

对不起，伙计们，我把这比原来的解决方案更复杂了，解决方案只是一个没有循环的简单 INSERT 语句。

```
INSERT INTO TM_CARTON(
CN_NUMBER, CN_PICKTICKET, CN_LOAD_NUMBER, CN_SHIPMENT_NUMBER,         CN_PACKED_QTY, CN_TRACKING_NUMBER, 
CN_ROUTE, CN_BOL, CN_MBOL, CN_PARCEL_NUMBER, CN_TRAILER_NUMBER, CN_CREATED_DATE, CN_CREATED_TIME)
SELECT 
CN_NUMBER, CN_PICKTICKET, CN_LOAD_NUMBER, CN_SHIPMENT_NUMBER, CN_PACKED_QTY, CN_TRACKING_NUMBER, 
CN_ROUTE, CN_BOL, CN_MBOL, CN_PARCEL_NUMBER, CN_TRAILER_NUMBER, @DATE, @TIME 
FROM CARTON_HEADER WHERE CN_LOAD_NUMBER = '1000000002' 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-31T05:29:21.283

您发布的代码只会执行 9 次。如果您获得的插入次数比您认为的要多，那是因为该 select 语句返回的行不止一行。

在第一个循环之后，您将复制该行。因此，循环的每次连续迭代都将返回 n+n 行，其中 n 是前一次迭代返回的行数。

你到底想做什么？

# google-analytics - Google Analytics API：来自搜索引擎的页面访问

> ID：12209347
> 
> 赞同：0
> 
> 时间：2012-08-31T05:24:59.703
> 
> 标签：google-analytics, google-analytics-api

如何从 Google Analytics 获取一段时间内搜索引擎对每个页面的访问次数？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:30:41.857

这看起来很简单。[这个帮助您设置每页访问](http://www.seomoz.org/blog/11-google-analytics-tricks-to-use-for-your-website)

# javascript - 哪个更有效 - $('selector').last() 或 $('selector:last')？

> ID：12209350
> 
> 赞同：6
> 
> 时间：2012-08-31T05:25:13.060
> 
> 标签：javascript, jquery

我有一个包含很多子元素（1000s）的父元素。我正在寻找最快的方法来处理最后一个子元素。我发现的选项是：

```
$('.parent .child').last() 
```

和

```
$('.parent .child:last') 
```

关于哪个跨浏览器可靠地更快的任何意见？

**编辑**

我在 jsfiddle 中编写了一个测试来衡量这一点，结果发现差异几乎可以忽略不计。尽管 .last() 表现更好，但差异可以忽略不计。所以我认为即使使用 :last 选择器，它实际上是获取整个元素列表然后返回最后一个元素？逆天。

**小提琴：http:** [//jsfiddle.net/techfoobar/GFb9f/8/](http://jsfiddle.net/techfoobar/GFb9f/8/)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-31T05:27:57.443

许多现代浏览器都支持`document.querySelectorAll()`，所以`$('.parent .child').last()`应该更快，因为选择器字符串可以按*原样*传递，然后弹出最后一个匹配的项目。

在后者中，`:last`不是标准的伪选择器，Sizzle 必须开始分块选择器字符串才能开始匹配。

总的来说，我会使用你认为最易读的东西。要开始优化，首先确保您的应用程序存在性能问题，并且您已将此选择器确定为瓶颈。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T05:35:45.420

你必须看到这个[性能测试](http://jsperf.com/jquery-last-selector-vs-last-method)！

**更新**：关于这个[相关问题](https://stackoverflow.com/questions/4262928/jquery-what-is-faster-selectors-or-methods)已经有了很好的答案。

# php - PHP文件上传不起作用

> ID：12209352
> 
> 赞同：0
> 
> 时间：2012-08-31T05:25:20.390
> 
> 标签：php, file-upload

我在移动文件时遇到问题。我还想知道是否有办法让用户上传不同的图片，并让它自动删除旧的？

```
move_uploaded_file(@$_FILES["profilepic"]["tmp_name"],"userdata/".$_POST['username']."/profilepic".$_FILES["profilepic"]["name"]); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:34:24.750

您在 $_FILES 之前删除了 @ 并检查错误。如果您想将旧图片替换为新图片，请创建您自己的用户明智的图片名称并使用它。

```
$_POST['username']=test;

$imagname=$_POST['username']."_img";

 move_uploaded_file(@$_FILES["profilepic"]["tmp_name"],"userdata/".$_POST['username']."/profilepic/".$imagename); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:37:07.697

试试这段代码

```
 $imagename = $_FILES['profilepic']['name'];
    $source = $_FILES['profilepic']['tmp_name'];
    $imagename = str_replace(" ", "_", $imagename);
    $target = "userdata/".$_POST['username']."/profilepic" . $imagename;
    move_uploaded_file($source, $target); 
```

`userdata`确保您具有对文件夹, `plmexico`,的写权限`profilepic`。

**好习惯：**

使用您的算法生成的名称重命名用户的文件。当您想在他们上传新图片时替换个人资料图片时，您可以将命名`user_id`与文件名结合使用。于是代码就变成了。

```
 $localname = $_FILES['profilepic']['name'];
    $imagename = $user_id."_profile".explode(end(",",$localname)); // $user_id is the user's id
    $source = $_FILES['profilepic']['tmp_name'];
    $imagename = str_replace(" ", "_", $imagename);
    $target = "userdata/".$_POST['username']."/profilepic" . $imagename;
    move_uploaded_file($source, $target); 
```

如果用户上传不同格式的图像，此代码将不起作用。

# php - 删除magento中的空类别

> ID：12209354
> 
> 赞同：4
> 
> 时间：2012-08-31T05:26:12.747
> 
> 标签：php, magento, frontend, categories

如果其中没有产品，我想实现一些**删除空类别和子类别的东西。**

可能有 100 个类别。所以我不想为此使用后端。

我有麻烦请帮助我。

我指的是这个链接[隐藏空类别](http://prattski.com/2011/10/06/magento-module-hide-empty-categories/)，但这只是从导航栏中隐藏父类别，即使它的子类别中有产品。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-31T06:50:37.997

这是**删除**空类别的一种方法...

```
$categoryCollection = Mage::getModel('catalog/category')->getCollection()
    ->addFieldToFilter('level', array('gteq' => 2))
;

foreach($categoryCollection as $category) {
    if ($category->getProductCount() === 0) {
        $category->delete();
    }
} 
```

**这将删除类别 - 而不是简单地隐藏它们**

* * *

**编辑**

要回答评论中发布的以下内容：

```
"Could you please share a link of some tutorial or weblink.I am weak in creating custom modules". 
```

[看这里](https://stackoverflow.com/questions/576908/how-to-create-a-simple-hello-world-module-in-magento)

您最好为这个简单的任务创建一个脚本。 [这是一个很好的资源](https://robinwinslow.uk/2013/05/29/ease-magento-development-with-bootstrapped-scripts/)来解释如何引导 Magento 让你的脚本运行。

# java - SWT JFace如何在moveBelow（）之后重绘

> ID：12209359
> 
> 赞同：0
> 
> 时间：2012-08-31T05:27:03.527
> 
> 标签：java, swt, dispose, jface

我有一个视图，其中显示元素，具体取决于先前的选择。dispose() 和 parent.layout() 确实按预期摆脱了元素。问题是，我如何让他们回来？我想， dispose() 不会删除一个元素，只是将它从元素列表中取出来呈现。那么，我怎样才能找回一个呢？

提前谢谢，马库斯

* * *

**编辑：**

刚刚发现， dispose() 释放对象并递归地释放它的孩子，所以我必须重新创建它们，一旦我将它们处理掉？如果是这样，我怎样才能在例如 GridLayout 中找到位置？

* * *

**编辑（2）：**

根据下面的答案，我试过这个：

```
public class TestTab extends Composite 
{
    org.eclipse.swt.layout.GridLayout layout = null;

    GridData griddata = null;

    Button upperButton = null;
    Text textInTheMiddle = null;
    Button lowerButton = null;

    public InvoiceTab(Composite parent, int arg2) {

        super(parent, arg2);
        final Composite myParent = parent;

        layout = new org.eclipse.swt.layout.GridLayout(GridData.FILL_BOTH,
                false);
        layout.numColumns = 1;

        this.setLayout(layout);

        upperButton = new Button(this, SWT.PUSH);
        upperButton.setText("upper Button");

        textInTheMiddle = new Text(this, SWT.BORDER);

        lowerButton = new Button(this, SWT.PUSH);
        lowerButton.setText("lower Button");

        upperButton.addSelectionListener(new SelectionAdapter() {
            public void widgetSelected(SelectionEvent e) {

                if (textInTheMiddle.isVisible()) {
                    textInTheMiddle.setVisible(false);
                    lowerButton.moveBelow(upperButton);
                } else {
                    textInTheMiddle.setVisible(true);
                    lowerButton.moveBelow(textInTheMiddle);
                }
                myParent.layout();
            }
        });
    }   
} 
```

文本字段按预期显示，但下部按钮没有改变位置？再次感谢任何想法......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-31T06:23:19.397

是的，*dispose() 释放对象并递归地释放它的 children*。因此，您必须重新创建已处置的控件/小部件。在像您这样的情况下，建议隐藏控件并重新布局您的复合/容器。有关示例，[请参见此处](https://stackoverflow.com/a/12193105/373861)

### 代码 ！！

重要的一点是`GridData::exclude`属性的使用。

```
import org.eclipse.swt.SWT;
import org.eclipse.swt.events.SelectionAdapter;
import org.eclipse.swt.events.SelectionEvent;
import org.eclipse.swt.layout.GridData;
import org.eclipse.swt.layout.GridLayout;
import org.eclipse.swt.widgets.Button;
import org.eclipse.swt.widgets.Composite;
import org.eclipse.swt.widgets.Display;
import org.eclipse.swt.widgets.Shell;
import org.eclipse.swt.widgets.Text;

class TestTab extends Composite 
{
    Button upperButton = null;
    Text textInTheMiddle = null;
    Button lowerButton = null;

    boolean state = true;

    public TestTab(Composite parent, int style) 
    {
        super(parent, style);

        GridLayout layout = new GridLayout(1, false);
        setLayout(layout);

        upperButton = new Button(this, SWT.PUSH);
        upperButton.setText("upper Button");

        textInTheMiddle = new Text(this, SWT.BORDER);
        GridData data = new GridData(SWT.FILL, SWT.FILL, true, false);
        data.exclude = false;
        textInTheMiddle.setLayoutData(data);

        lowerButton = new Button(this, SWT.PUSH);
        lowerButton.setText("lower Button");

        upperButton.addSelectionListener(new SelectionAdapter() 
        {
            public void widgetSelected(SelectionEvent e) {

                GridData griddata = (GridData) textInTheMiddle.getLayoutData();
                griddata.exclude = state;
                textInTheMiddle.setVisible(!state);
                textInTheMiddle.getParent().layout(false);
                state = !state;
            }
        });
    }   

}
public class Test
{
    public static void main(String[] args) 
    {
        Display display = new Display();
        Shell shell = new Shell(display);
        shell.setLayout(new GridLayout(1, false));

        new TestTab(shell, SWT.NONE);

        shell.open();
        while (!shell.isDisposed()) {
            if (!display.readAndDispatch())
                display.sleep();
        }
        display.dispose();
    }
} 
```

# android - 如何在 XML 文件中应用主题，当我调用它一次时，它必须完全应用于应用程序中的所有组件？

> ID：12209360
> 
> 赞同：1
> 
> 时间：2012-08-31T05:27:21.317
> 
> 标签：android, styles, themes

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
<style name="CustomTheme" parent="android:Theme"> 
<item name="android:textSize">20sp</item>
<item name="android:textColor">#FFFFFF</item>
<item name="android:layout_width">fill_parent</item>
<item name="android:layout_height">wrap_content</item>
<item name="android:typeface">serif</item>
<item name="android:background">@drawable/blueborder</item>
<item name="android:button">@drawable/rounded_edittext</item>
<item name="android:textAppearance">@android:drawable/alert_light_frame</item>
<item name="android:textColorHighlight">@android:color/black</item>
</style>

<style name="DialogTheme" parent="@android:style/Theme.Dialog">
</style>  

<style name="ButtonStyle" parent="CustomTheme">
</style>  

<style name="JobViewHeader" parent="@android:style/TextAppearance.Small">
    <item name="android:textStyle">bold</item>
    <item name="android:textColor">#FFFFFF</item>
    <item name="android:layout_width">wrap_content</item>
    <item name="android:layout_height">wrap_content</item>
</style>

</resources> 
```

这是我的代码，我在 XML 中完成了样式和主题。我已经 `btn.setBackgroundResource(R.drawable.rounded_edittext);`在 J​​ava 中应用了背景资源（即）。它已经改变，尤其是形状。我不明白这里有什么问题。

同样，我应该如何在 XML 文件中应用主题？如果我调用一次，它应该完全适用于所有组件，Android。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T05:33:28.623

在应用程序的 AndroidManifest.xml 中，将主题属性添加`android:theme="@style/CustomTheme"`到`<application>`标记。

# android - 使用monkeyrunner播放视频

> ID：12209361
> 
> 赞同：2
> 
> 时间：2012-08-31T05:27:45.193
> 
> 标签：android, video, monkeyrunner

我正在使用 monkeyrunner 的 startactivity 功能播放一个 mp4 文件，它正在工作。现在，我想知道视频是否仍在播放或已经结束。但是，因为 monkeyrunner 不等待视频（或任何其他活动）完成或者说“返回”。如何知道视频是否完成？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T08:52:05.577

如果您使用 Gallery 应用程序播放视频文件，当您开始播放文件时，logcat 将显示：

*显示 com.android.gallery3d/.app.MovieActivity*

应用程序播放完文件后，logcat 将显示：

*显示 com.android.gallery3d/.app.Gallery*

您可以在 logcat 中查找这些字符串。

附带说明一下，您可以使用 monkeyrunner 检查一些系统属性：

```
device.getProperty('am.current.package')
device.getProperty('am.current.action') 
```

这些显示当前正在运行的包的包名和当前活动的操作。不幸的是，当我使用它们时，它们返回了一个空白字符串，而不是我想要的名称。

我希望这很有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-01T01:29:14.167

您需要查看子进程中的 android 调试日志。希望您用来播放 mp4 的应用程序在播放完文件后会有某种类型的日志输出。

# asp.net - 哪个是加密和解密数据的更好方法？

> ID：12209362
> 
> 赞同：0
> 
> 时间：2012-08-31T05:27:50.607
> 
> 标签：asp.net, sql-server, database, encryption

我想加密数据。我仍然关注在 ASP.NET 页面上执行此操作。我开始知道我们可以在 SQL SERVER 上对后端的数据应用加密/解密。我想知道哪种方法更好。我会将其更改为 SQL SERVER 还是按原样使用？

我已经研究过[这个链接来研究](http://blog.sqlauthority.com/2009/04/28/sql-server-introduction-to-sql-server-encryption-and-symmetric-key-encryption-tutorial-with-script/) 它说只有必需的列应该是加密/解密，而不是整个数据库。所以请让我知道他们俩哪个更好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T12:13:27.140

我要说的问题是数据和密钥存储在 SQL Server 上。这意味着如果用户能够获得某种类型的管理访问权限，或者拥有正确的权限，您可能会危及所有加密数据。

另一个问题是，如果数据库被盗，然后在 SQL Server 使用的机制中发现了一些漏洞，会发生什么？这些事情会发生，例如当使用 scriptresource.axd [http://www.troyhunt.com/2010/09/fear-uncertainty-and-and-padding-oracle.html](http://www.troyhunt.com/2010/09/fear-uncertainty-and-and-padding-oracle.html)发现填充预言错误时。

# c# - 在 ajax 模式弹出扩展器上保持回滚

> ID：12209368
> 
> 赞同：0
> 
> 时间：2012-08-31T05:28:34.873
> 
> 标签：c#, asp.net

我有以下站点结构。这是.net 3.5。

母版页 -> 内容页 -> 模态弹出扩展器 -> 用户控件 -> 面板 -> 更新面板 -> div

div 是所有表单元素所在的位置。现在，当我单击复选框或任何导致回发的按钮时，用户控件从顶部开始。它不保持回滚。我遇到了一篇关于实现下面的脚本的帖子，但这对我没有任何帮助。有解决办法吗？

下面是我使用的脚本。

```
<script type="text/javascript">
var xPos, yPos;
var prm = Sys.WebForms.PageRequestManager.getInstance();
prm.add_beginRequest(BeginRequestHandler);
prm.add_endRequest(EndRequestHandler);
function BeginRequestHandler(sender, args) {
    xPos = $get('div').scrollLeft;
    yPos = $get('div').scrollTop;
}
function EndRequestHandler(sender, args) {
    $get('div').scrollLeft = xPos;
    $get('div').scrollTop = yPos;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T08:11:48.730

尝试将此添加到 Javascript 中的 pageLoad 部分，ModalPopupExtenders 具有可用于滚动位置的“add_shown”函数。

```
function pageLoad() {
var popup = $find('<%=MODALPOPUPEXTENDER.ClientID%>');
popup.add_shown(SetScrollPositionFunction);
} 
```

在您的情况下，SetScrollPositionFunction 将是 EndRequestHandler。

# iphone - 打开子视图时禁用父视图

> ID：12209369
> 
> 赞同：2
> 
> 时间：2012-08-31T05:28:42.423
> 
> 标签：iphone, objective-c, xcode

我有两种看法。viewController 和 myCustomAlert。我已将 myCustomAlert 添加为 viewController 中的子视图。

这是当 myCustomAlert 添加为子视图时调用的函数。

```
-(void)ratingAction:(id)sender
{
    if ([sender isKindOfClass:[UIButton class]]) 
    {
        [[NSBundle mainBundle] loadNibNamed:@"myCustomAlert" owner:self options:nil
        ];

        Custom_view.frame = CGRectMake(10, 100, 287, 165);

        [self.view addSubview:Custom_view];
         self.view.userInteractionEnabled = false;
         Custom_view.userInteractionEnabled = true;

    }
} 
```

我希望禁用父视图，因此我禁用了用户交互，但它也禁用了子视图。怎么做？？我希望我的子视图像警报一样工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T07:33:41.937

您可以尝试的一种方法是设置子视图框架，使其完全隐藏其超级视图控制器，即 0,0,320,460，并确保子视图上的内容正确放置在您想要的位置，然后使子视图的背景颜色透明.

myCustomAlert.backgroundColor = [UIColor clearColor];

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:31:27.283

当您将子视图添加到特定视图时，子视图和父视图共同成为一个视图，即父视图。所以禁用交互将禁用两者。

对您来说，将具有动画属性的模型视图控制器呈现为 false 并禁用父视图交互。告诉我你是否实现了你的目标

# caching - 为什么 ServiceStack.Redis 商店卡住了我的 Visual Studio

> ID：12209372
> 
> 赞同：1
> 
> 时间：2012-08-31T05:29:07.427
> 
> 标签：caching, redis, servicestack

我是 Redis 的新手。我完全安装了两个 Redis 实例，一主一从。

我测试了一些插入/获取函数，其中简单的“1”作为键，“Hello from Redis”作为值。我还测试了一些简单的类，比如

```
public class Test{

public Guid ID{get;set;}
public string Name{get;set;}

} 
```

但是当我在我的项目中实现并尝试存储来自数据库的一些调用时，客户端卡住了。如果我不从任务管理器关闭调试网络服务器，我的 CPU 为 30%，Visual Studio 不响应。

我的代码是

```
 var  FromDB = db.Profiles.SingleOrDefault(p => p.UserID == UserID);

 var client = new RedisClient("ip", 6379).As<Profile>();

 client.Store(FromDB); 
```

当我从任务管理器关闭 Visual Studio 时，出现此错误 ![在此处输入图像描述](../Images/f69964057690db968c844fdf9adc6279.png)

当我尝试存储简单的键/值时，一切正常

```
var client = new RedisClient("ip",6379);

bool success = client.Set("4", new Test{ID = new Guid(), Name ="Value"}); 
```

我对 Redis 完全陌生，也许我犯了一个简单的错误..

我在这段代码之前和之后都有调试点，我的代码永远不会在这段代码之后。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T19:39:22.853

确保您使用的模型是没有任何周期性关系的“干净 POCO”。

所以如果`Profiles`是一个数据模型，你需要将它映射到一个没有周期性依赖的干净的 DTO。

# iphone - 在 iOS 上，如何让 cell.imageView 刷新其内容？

> ID：12209380
> 
> 赞同：3
> 
> 时间：2012-08-31T05:29:32.780
> 
> 标签：iphone, ios, uitableview, sendasynchronousrequest

我正在尝试`tableView:cellForRowAtIndexPath`通过调用来设置图像

```
[self downloadImage:urlString andSetIntoCellImageView:cell] 
```

在 中`downloadImage`，它将调用`NSURLConnection:sendAsynchronousRequest`（仅限 iOS 5 及更高版本），并在完成块中，使用

```
cell.imageView.image = [UIImage imageWithData:data];   // data is downloaded data 
```

如果 in 中填充了一个虚拟占位符图像，它就可以工作`tableView:cellForRowAtIndexPath`——`imageView`我想知道新图像是如何刷新的，是不是`setNeedsDisplay`要重新绘制？但是如果我不设置占位符图像，那么新图像根本不会显示。我想知道可以使用什么机制使其显示图像？

如果我使用

```
[cell.imageView setNeedsDisplay] 
```

或者

```
[cell setNeedsDisplay]; 
```

在完成块中，它不起作用，如果我使用

```
[self.table reloadRowsAtIndexPaths:[NSArray arrayWithObject:indexPath] 
                            withRowAnimation:UITableViewRowAnimationAutomatic]; 
```

在完成块中通过`downloadImage`接受`indexPath`，它会`tableView:cellForRowAtIndexPath`再次调用，并导致无限循环。所以似乎我需要使用一些哈希表来记住图像是否已经在哈希表中：如果没有，则调用`downloadImage`，如果在哈希表中，只需使用它，这样就不会有无限循环。

但是有没有一种简单的方法可以使图像显示出来？设置占位符图像有效，但如果我们不这样做 - 占位符通过什么机制导致图像刷新？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-08-31T06:17:24.393

当一个`UITableViewCell`'`-layoutSubviews`方法被调用时，如果它`imageView`的 '`image`属性是`nil`，`imageView`则被赋予一个`(0,0,0,0)`. 此外，`-layoutSubviews`仅在某些情况下调用：当单元格即将变为可见时以及当它被选中时。不是在正常滚动期间。所以你所看到的是，将占位符内部`tableView:cellForRowAtIndexPath:`大小设置`cell.imageView`为非零大小，图像的后续更改将是可见的。

我通过调用`[cell setNeedsLayout]`完成处理程序解决了这个问题，如下所示：

```
NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:MY_IMAGE_URL]];
[NSURLConnection sendAsynchronousRequest:request
                                   queue:self.operationQueue
                       completionHandler:^(NSURLResponse *response, NSData *data, NSError *error) {
                                            [[NSOperationQueue mainQueue] addOperationWithBlock:^{
                                                UIImage *image = [UIImage imageWithData:data];
                                                cell.imageView.image = image;
                                                [cell setNeedsLayout];
                                            }]; 
```

我发现完成块发生在后台，因此需要在主线程上执行我的 UI 工作。当然这个解决方案不会考虑细胞重用等等，但至少解决了为什么细胞的图像不会出现:)

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:35:33.993

这不会直接回答您的问题，但是解决您的问题的一个简单解决方法是在您的文件中使用[SDWebImage](https://github.com/rs/SDWebImage)`cellForRowAtIndexPath:`。他们的 README 页面上的示例完全符合您的要求。

# c++ - 如何重载模板类的“新”运算符？

> ID：12209386
> 
> 赞同：0
> 
> 时间：2012-08-31T05:30:36.797
> 
> 标签：c++, class, templates, overloading

我试图`new`在下面的模板类中重载运算符来使用`malloc`而不是`new`，但我没有成功。

```
template< int SIZE >

class MemPoolT : public MemPool
{

    public:
        MemPoolT() : root(0), currentAllocs(0), nAllocs(0), maxAllocs(0) {}

        ~MemPoolT()
        {
            for( int i=0; i<blockPtrs.Size(); ++i ) {
                delete blockPtrs[i];
            }
        }

        virtual void* Alloc() 
        {
            if ( !root ) {

                // Need a new block.

                Block* block = new Block();
                blockPtrs.Push( block );

                for( int i=0; i<COUNT-1; ++i ) {
                    block->chunk[i].next = &block->chunk[i+1];
                }
                block->chunk[COUNT-1].next = 0;
                root = block->chunk;
            }
            void* result = root;
            root = root->next;

            ++currentAllocs;
            if ( currentAllocs > maxAllocs ) maxAllocs = currentAllocs;
            nAllocs++;
            return result;
        }
    private:
        enum { COUNT = 1024/SIZE };
        union Chunk {
            Chunk* next;
            char mem[SIZE];
        };
        struct Block {
            Chunk chunk[COUNT];
        };
        Chunk* root;
        int currentAllocs;
        int nAllocs;
        int maxAllocs;
}; 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-29T23:29:21.517

这是你要求的吗？

```
#define malloc new

MemPoolT<N> m = malloc MemPoolT<N>(); 
```

因为你不应该*那样*做。

# java - Struts 2 中的说明

> ID：12209388
> 
> 赞同：0
> 
> 时间：2012-08-31T05:30:45.147
> 
> 标签：java, javascript, struts2, struts

有一个页面，其中有多行，每行末尾都有一个“更改状态”按钮[一个“提交”按钮]。目前有十多种状态。当我单击“更改状态”按钮时，控件进入操作类，页面重新加载更改状态。

我有 id 与每一行相关联。当页面重新加载时，如何确定我在哪一行单击了“更改状态”按钮？我应该通过 java-script 将 id 传递给动作类吗？还有比这更简单的方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T05:38:22.267

好吧，您可以利用 Struts2 多提交按钮功能。就像您可以根据您的 ID 设置提交按钮值并在您的操作中收集它以您的方式使用它一样

```
<button type="submit" value="Submit" name="buttonName">
<button type="submit" value="Clear" name="buttonName">

class MyAction extends ActionSupport {
   private String buttonName;
   public void setButtonName(String buttonName) {
      this.buttonName = buttonName;
   }
   public String execute() {
      if ("Submit".equals(buttonName)) {
         doSubmit();
         return "submitResult";
      }
      if ("Clear".equals(buttonName)) {
         doClear();
         return "clearResult";
      }
      return super.execute();
   }
} 
```

所以简而言之，uniqque id 可以是什么，您可以根据自己的选择在操作中使用它以获取详细信息

*   [多个提交按钮](http://struts.apache.org/2.3.4/docs/multiple-submit-buttons.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:38:18.170

您可以将 id 添加为表单的一部分，这样您在提交时将收到 id 作为参数。不需要javascript。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-01T10:10:25.437

您可以为每一行制作不同的表格。每个表格都可以有一个

```
<s:hidden /> 
```

与行的 id。通过这种方式，您始终知道单击的是哪个提交。

# gtk - gtk - 调用外部命令后，如何防止它关闭 gtk 主窗口

> ID：12209389
> 
> 赞同：0
> 
> 时间：2012-08-31T05:30:44.103
> 
> 标签：gtk, phpexcel

我想从 GtkListStore 读取数据并通过 phpExcel 构建一个 excel。首先，我根据GtkListStore构建一个php文件，然后使用php和phpexcel lib编译构建execl文件。

在我的 gtk 代码（在 MinGW 环境中编译）中，我使用`execvp(cmd[0], (const char **)cmd);`调用外部命令——php.ini 来调用外部命令。其实`cmd[0]`就是php.exe和cmd[1]、cmd[2]……都是php的参数。调用 php 命令后，我的 gtk 主窗口关闭，它退出了我的 gtk 程序。

如何防止 php 命令退出主程序？我应该用别的东西代替`execvp`吗？谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T08:46:58.163

`execvp()`和朋友用另一个进程替换当前进程，所以你的程序退出也就不足为奇了。使用[`g_spawn_sync()`](http://developer.gnome.org/glib/2.32/glib-Spawning-Processes.html#g-spawn-sync)或相关功能 - 将运行您的 php 程序，然后将控制权返回给您的原始程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T08:17:50.690

让我回答我自己的问题。以下是我在过去几天内搜索并尝试过的内容的摘要。它没有什么新东西，但可能对像我这样的新手有用。

首先，感谢番茄。为了避免我在 GTK 中的问题，它必须使用`g_spawn_sync`或相关的功能。如果您的命令是绝对路径，则不必使用标志`G_SPAWN_SEARCH_PATH`，否则，请确保使用标志。

以下是与`MinGW`环境相关的内容。

-> gspawn-win32-helper.exe
在 MinGW 中，要使用 g_spawn_sync，它必须已经`gspawn-win32-helper.exe`安装。当我安装 GTK 环境时，我只提取了有用的 lib 或 exe 文件，我认为它很有用，然后我错过了 gspawn-win32-helper.exe 并导致了问题 -`Failed to execute helper program (No such file or directory)`在上面的评论中提到。从[ftp://ftp.gtk.org/pub/glib/2.10/win32/glib-2.10.0.zip](ftp://ftp.gtk.org/pub/glib/2.10/win32/glib-2.10.0.zip)提取 gspawn-win32-helper.exe并安装后，g_spawn_sync 工作。

-> 对于规范的 Windows 路径，双反斜杠和单正斜杠都有效，例如 c:/foo/bar 和 c:\foo\bar 有效。

# google-bigquery - 加载 gzip csv 时出现后端错误

> ID：12209394
> 
> 赞同：0
> 
> 时间：2012-08-31T05:31:33.130
> 
> 标签：google-bigquery

我收到“后端错误。作业中止”，作业 ID 如下。我知道有人问过这个问题，但我仍然需要一些帮助来尝试解决这个问题。如果在生产中发生这种情况会发生什么，我们希望有 5 分钟的周期性负载？提前致谢

错误：后端错误。作业中止。作业 ID：job_744a2b54b1a343e1974acdae889a7e5c 开始时间：2012 年 8 月 30 日下午 4:32 结束时间：2012 年 8 月 30 日下午 5:02 目标表：XXXXXXXXXX 源 URI：gs://XXXXX/XXXXXX.csv.Z 分隔符：，最大不良记录：99999999

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T17:15:42.367

此作业遇到内部错误。自从您运行此作业后，BigQuery 已更新到新版本，并且已修复许多内部错误。你可以重试你的工作吗？

# c# - 用双引号形成字符串的问题

> ID：12209396
> 
> 赞同：0
> 
> 时间：2012-08-31T05:31:46.003
> 
> 标签：c#, asp.net, string

我想形成一个字符串`<repeat><daily dayFrequency="10" /></repeat>`

其中 in 的值`""`来自上面 string 中的 textboxe.g `10`。我在 C# 中将字符串形成为

`@"<repeat><daily dayFrequency=""+ txt_daily.Text + "" /></repeat>"`但我得到的输出为

`<repeat><daily dayFrequency="+ txt_daily.Text+ " /></repeat>`. 如何形成一个字符串，其中包括来自文本框的输入以及要包含在该字符串中的双引号。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T05:34:12.170

要将一个字符串的值插入另一个字符串，您可以考虑`string.Format`：

```
string.Format("foo {0} bar", txt_daily.Text) 
```

这比字符串连接更具可读性。

但是，我强烈建议您不要自己构建 XML 字符串。如果用户输入包含`<`符号的文本，则使用您的代码将导致无效的 XML。

使用 XML 库创建 XML。

**有关的**

*   [How can I build XML in C#?](https://stackoverflow.com/questions/284324/what-is-the-best-way-to-build-xml-in-c-sharp-code)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:32:39.127

`\`用反斜杠转义它。放在`@`前面不会为你做

```
string str = "<repeat><daily dayFrequency=\"\"+ txt_daily.Text + \"\" /></repeat>";
Console.Write(str); 
```

输出将是：

```
<repeat><daily dayFrequency=""+ txt_daily.Text + "" /></repeat> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T05:34:18.343

You could do it like this:

```
var str = String.Format(@"<repeat><daily dayFrequency="{0}" /></repeat>",
                        txt_daily.Text); 
```

But it would be best to have an object that mapped to this format, and [serialize it to xml](http://support.microsoft.com/kb/815813)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-31T05:47:14.477

`string test = @"<repeat><daily dayFrequency=" + "\"" + txt_daily.Text + "\"" + "/></repeat>";`

# iphone - 如何在 iPhone 中解析以下数据？

> ID：12209401
> 
> 赞同：1
> 
> 时间：2012-08-31T05:32:22.973
> 
> 标签：iphone, ios, web-services, parsing

您好，我正在开发基于 Web 服务的 iPhone 应用程序，但问题是我的客户端提供了以下格式的 Web 服务，我不知道如何解析它。我将不胜感激任何帮助或任何人分享他们的经验。

> {"消息":"[{\"APPROVER_ID\":\"DAMIN_V\",\"APPROVER_USER_NAME\":\"DAMIN\",\"START_DATE\":\"04/04/12\",\" END_DATE\":\" \",\"SUBSTITUTE_ID\":\"HLAD\",\"SUBSTITUTE_USER_NAME\":\"James\"},{\"APPROVER_ID\":\"DAMIN_V\",\"APPROVER_USER_NAME \":\"DAMIN\",\"START_DATE\":\"06/01/12\",\"END_DATE\":\"\",\"SUBSTITUTE_ID\":\"LucyE\",\" SUBSTITUTE_USER_NAME\":\"Lucy\"},{\"APPROVER_ID\":\"HLAD\",\"APPROVER_USER_NAME\":\"James\",\"START_DATE\":\"04/16/12\ ",\"END_DATE\":\"\",\"SUBSTITUTE_ID\":\"HT\",\"SUBSTITUTE_USER_NAME\":\"HTx\"},{\"APPROVER_ID\":\"HLAD\",\"APPROVER_USER_NAME\":\"James\",\"START_DATE\":\"06/13/12\ ",\"END_DATE\":\"\",\"SUBSTITUTE_ID\":\"SUPERMAN\",\"SUBSTITUTE_USER_NAME\":\"james\"},{\"APPROVER_ID\":\"我的组织用户\",\"APPROVER_USER_NAME\":\"我的 ORG 用户 1\",\"START_DATE\":\"06/13/12\",\"END_DATE\":\"06/16/12\", \"SUBSTITUTE_ID\":\"NFALPR1\",\"SUBSTITUTE_USER_NAME\":\"Prince\"},{\"APPROVER_ID\":\"PEK\",\"APPROVER_USER_NAME\":\"Lucy E\" ,\"START_DATE\":\"03/01/12\",\"END_DATE\":\"08/08/12\",\"SUBSTITUTE_ID\":\"HRL\",\"SUBSTITUTE_USER_NAME\":\"James\"},{\"APPROVER_ID\":\"PNAIR\",\"APPROVER_USER_NAME\":\"Carl\", \"START_DATE\":\"03/01/12\",\"END_DATE\":\"03/09/12\",\"SUBSTITUTE_ID\":\"SCHITRE\",\"SUBSTITUTE_USER_NAME\": \"Fun bobby\"},{\"APPROVER_ID\":\"LucyE\",\"APPROVER_USER_NAME\":\"Lucy\",\"START_DATE\":\"03/01/12\",\ "END_DATE\":\"03/31/12\",\"SUBSTITUTE_ID\":\"HLAD\",\"SUBSTITUTE_USER_NAME\":\"James\"},{\"APPROVER_ID\":\"LucyE E\",\"APPROVER_USER_NAME\":\"Lucy\",\"START_DATE\":\"04/01/12\",\"END_DATE\":\"04/30/12\",\"SUBSTITUTE_ID\":\"DAMIN_V\",\"SUBSTITUTE_USER_NAME\":\"DAMIN\"},{\"APPROVER_ID\":\" LucyE E\",\"APPROVER_USER_NAME\":\"Lucy\",\"START_DATE\":\"05/04/12\",\"END_DATE\":\"05/25/12\",\ "SUBSTITUTE_ID\":\"JOSHIA\",\"SUBSTITUTE_USER_NAME\":\"Joye\"}]","statusFlag":true}\"JOSHIA\",\"SUBSTITUTE_USER_NAME\":\"Joye\"}]","statusFlag":true}\"JOSHIA\",\"SUBSTITUTE_USER_NAME\":\"Joye\"}]","statusFlag":true}

提前致谢，尼廷。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T05:34:37.370

这是`JSON`数据。使用`SBJSON.h` [http://stig.github.com/json-framework/](http://stig.github.com/json-framework/)进行解析，轻巧易懂

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T05:42:22.073

您可以使用[jsonkit](https://github.com/johnezang/JSONKit)进行 json 解析。

这是 json 工具包库的代码，它正在编辑我添加的简单类并创建一个演示，您可以下载演示并轻松识别您的问题

[从这里下载演示。](https://sourceforge.net/projects/nimitparekh/files/Webservice%20Calling/)

[另请参阅教程，了解如何从此处使用 json 套件。](http://www.14oranges.com/2011/08/how-to-use-jsonkit-for-ios-and-the-rotten-tomatoes-api/)

# events - 全局事件在黑莓中多次发生

> ID：12209409
> 
> 赞同：0
> 
> 时间：2012-08-31T05:32:50.670
> 
> 标签：events, blackberry, listener, global

我在我的应用程序中使用全局事件监听器。事件捕获在我的代码中完美运行。问题是该事件似乎多次触发。我已经按照这个教程[链接](http://www.blackberry.com/knowledgecenterpublic/livelink.exe/fetch/2000/348583/800332/800620/What_Is_-_Global_Events_and_Global_Event_Listeners.html?nodeid=800527&vernum=0)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:06:30.387

如果您的应用正在侦听系统生成的全局事件，那么这些事件可能会根据您不知道的条件触发多次。根据我从系统中获取单义信号的经验，我必须分析一系列全局事件，并且只有当这一系列事件以预期方式一个接一个地发生时，该信号才被识别为已接收。

如果您的应用程序正在侦听您的应用程序生成的全局事件，那么它完全在您的控制之下。检查触发全局事件的代码。使用[EventLogger](http://www.blackberry.com/developers/docs/7.0.0api/net/rim/device/api/system/EventLogger.html)记录您触发和接收触发事件的每一刻。然后检查您的日志以了解发生了什么。似乎您的应用触发全局事件的次数比预期的要多。

# iphone - 如何在 cocs2d 中触摸精灵表动画

> ID：12209411
> 
> 赞同：0
> 
> 时间：2012-08-31T05:32:55.007
> 
> 标签：iphone, cocos2d-iphone, game-engine

我有一个由精灵表制作的动画，它工作正常，但我只想获取用户触摸动画精灵的位置？我知道 getchiledbytag 方法，但它适用于静止精灵而不是动画精灵请帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T11:22:52.630

我想你想停止动画，然后......

```
[self stopAllActions]; 
```

# database-migration - 有没有办法将 flyway 中的迁移文件应用于开发人员机器而不是生产机器上？

> ID：12209412
> 
> 赞同：0
> 
> 时间：2012-08-31T05:32:57.940
> 
> 标签：database-migration, flyway

当我为我的应用程序开发一个使用大量新表的新功能时，表定义在开发几天后才稳定。当我部署相同代码库的错误修复时，我想将这些不稳定的迁移文件签入源代码控制，而无需将它们应用于生产箱。

有没有办法将 flyway 中的迁移文件应用于开发人员机器而不是生产机器上？

我不喜欢特性分支，所以我想避免特性分支，它们对我来说维护起来太费力了。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-31T07:00:44.703

由于我使用的是 Spring 3.1，因此我能够使用 spring 配置文件来解决我的问题，以检测代码所在的环境。这是解决方案的工作原理。

*   `db.migrations`是生产迁移的去向
*   `dev.db.migrations`是发展迁移的去向。在新功能的初始开发过程中，当表每隔一小时左右更改一次时，迁移文件被添加到源代码控制中`dev.db.migrations`并被检入到源代码控制中，它是在开发人员机器上创建的。开发人员通常会删除测试数据库并使用示例数据重新创建它，因此不断更改其中的文件并没有什么坏处，`dev.db.migrations`也让开发人员有机会为他们的更改获取版本号，因为他们会将他们的文件签入源代码控制。

下面是我使用的 spring 配置文件 flyway 配置的 XML。

```
<!-- =========================Configure Flyway ========================= -->
<bean id="flyway" class="com.googlecode.flyway.core.Flyway" init-method="migrate">
    <property name="dataSource" ref="dataSource"/>
    <property name="locations" ref="flyway-migration-locations" />
</bean>

<!-- ========================= Development Profile Configuration ========================= -->
<beans profile="development">
    <bean id="flyway-migration-locations" class="java.util.ArrayList">
        <constructor-arg>
            <list>
                <value>db.migration</value>
                <value>dev.db.migration</value>
            </list>
        </constructor-arg>
    </bean>
</beans>

<!-- ========================= Production Profile Configuration ========================= -->
<beans profile="production">
    <bean id="flyway-migration-locations" class="java.util.ArrayList">
        <constructor-arg>
            <list>
                <value>db.migration</value>
            </list>
        </constructor-arg>
    </bean>
</beans> 
```

# php - 如何判断 mysql 中哪些列已设置为 CASCADE

> ID：12209414
> 
> 赞同：4
> 
> 时间：2012-08-31T05:33:26.967
> 
> 标签：php, mysql, cascade

我很想知道是否有办法告诉哪些列已使用 mysql 设置为 CASCADE。做 DESC 表；似乎没有产生任何明显的东西。有什么建议么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-31T05:39:11.900

从 MySQL 5.1.10 开始，您可以通过加入以下方式从[`INFORMATION_SCHEMA`表](http://dev.mysql.com/doc/en/information-schema.html)中获取此信息：[`REFERENTIAL_CONSTRAINTS`](http://dev.mysql.com/doc/en/referential-constraints-table.html)[`KEY_COLUMN_USAGE`](http://dev.mysql.com/doc/en/key-column-usage-table.html)

```
SELECT kcu.COLUMN_NAME
FROM   INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS rc
  JOIN INFORMATION_SCHEMA.KEY_COLUMN_USAGE kcu
 USING (CONSTRAINT_CATALOG, CONSTRAINT_SCHEMA, CONSTRAINT_NAME)
WHERE  'CASCADE' IN (rc.DELETE_RULE, rc.UPDATE_RULE)
   AND kcu.TABLE_SCHEMA = DATABASE()
   AND kcu.TABLE_NAME = 'my_table' 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-31T05:35:39.360

您可以使用：

```
show create table tableName; 
```

这将输出一个创建表，其中包含对级联删除的引用。

[从文档](http://dev.mysql.com/doc/refman/5.5/en/innodb-foreign-key-constraints.html)中获取的示例：

```
mysql> SHOW CREATE TABLE ibtest11c\G
*************************** 1\. row ***************************
       Table: ibtest11c
Create Table: CREATE TABLE `ibtest11c` (
  `A` int(11) NOT NULL auto_increment,
  `D` int(11) NOT NULL default '0',
  `B` varchar(200) NOT NULL default '',
  `C` varchar(175) default NULL,
  PRIMARY KEY  (`A`,`D`,`B`),
  KEY `B` (`B`,`C`),
  KEY `C` (`C`),
  CONSTRAINT `0_38775` FOREIGN KEY (`A`, `D`)
REFERENCES `ibtest11a` (`A`, `D`)
ON DELETE CASCADE ON UPDATE CASCADE,    // <--- This is what you are looking for
  CONSTRAINT `0_38776` FOREIGN KEY (`B`, `C`)
REFERENCES `ibtest11a` (`B`, `C`)       // <--- This is what you are looking for
ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=INNODB CHARSET=latin1
1 row in set (0.01 sec) 
```

# iphone - iPhone游戏的游戏中心集成？

> ID：12209417
> 
> 赞同：2
> 
> 时间：2012-08-31T05:33:46.617
> 
> 标签：iphone, ios, game-center

我是开发 IOS 应用程序（主要是游戏）的初学者。我已完成游戏并已将其提交到应用商店。在未来，我想提交一个更新，其中将包括游戏中心，主要是分数排行榜（所有时间、每月、每周和今天）。我无法理解如何将已完成的游戏与游戏中心集成。我不清楚的另一部分是我在代码中写了什么以及gamekit框架如何知道将哪个数字（分数）提交给游戏中心。如果有人能提供详细信息，我将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-31T07:04:42.923

这里有一个示例项目

[http://developer.apple.com/library/ios/#samplecode/GKTapper/Introduction/Intro.html](http://developer.apple.com/library/ios/#samplecode/GKTapper/Introduction/Intro.html)

要发送分数你有这个功能，分数是分数，类别是你在itunes connect上配置的排行榜的名称。

```
- (void) reportScore: (int64_t) score forCategory: (NSString*) category {

GKScore *myScoreValue = [[[GKScore alloc] initWithCategory:category] autorelease];
myScoreValue.value = score;

[myScoreValue reportScoreWithCompletionHandler:^(NSError *error){
    if(error != nil){
        NSLog(@"Score Submission Failed");
    } else {
        NSLog(@"Score Submitted");
    }

}];
} 
```

当你的玩家被击杀时，你必须使用这个函数发送分数，你不必跟踪它是否已经最高，但你可以跟踪它是否大于0；

本教程使用自己项目中的示例项目功能，看一下，里面包含了发送点和成就

[http://maniacdev.com/2011/05/tutorial-game-center-basics-leaderboards-and-achievements/](http://maniacdev.com/2011/05/tutorial-game-center-basics-leaderboards-and-achievements/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-31T05:55:45.680

Game Center 自 iOS SDK 4.1 起可用

1) 打开 Xcode 帮助。

2) 在顶部，您应该会看到一个导航栏，其中应显示“文档”部分，然后将鼠标移动到显示“iOS 5.1 库”的位置（在我的情况下）。

3) 现在，将鼠标移到“网络和 Internet”上并单击它。

4) 你现在应该有一个可用 API 的列表。

之后，只需四处寻找您想要的 API，例如**排行榜**和**成就**。根据您的要求，您应该查找诸如**GKLeaderboards 之**类的内容以及您感兴趣的任何其他内容。这些文档应链接到您需要的其他文档。您可以[在 Web 上找到 GKLeaderboards 文档](http://developer.apple.com/library/ios/#documentation/GameKit/Reference/GKLeaderboard_Ref/Reference/Reference.html)

**编辑：**您开发的游戏会在每个游戏实例之后向玩家显示一些分数。将该分数发布到函数中，`- (void) reportScore: (int64_t) score forCategory: (NSString*) category` 例如。`[self.gameCenterManager reportScore:yourscore forCategory: @"yourgamecategory"];`

对于来自此链接的 GameCenterManager.h 和 GameCenterManager.m

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-11T10:52:17.477

将分数更新到游戏中心使用此例程。

```
- (void) reportScore: (int64_t) score   :(NSString*) YOUR_LeaderBoard_ID
{
    GKScore *scoreReporter = [[GKScore alloc] initWithCategory:YOUR_LeaderBoard_ID];
    scoreReporter.value = score;
    scoreReporter.context = 0;
    [scoreReporter reportScoreWithCompletionHandler:^(NSError *error) {
        if (error != nil)
        {
            IsConnectFail = true;
        }else{
            IsConnectFail = false;   
        } 
    }]; 
} 
```

# html - 在一个网页上显示多个网页

> ID：12209421
> 
> 赞同：1
> 
> 时间：2012-08-31T05:34:05.113
> 
> 标签：html, razor, webmatrix-2

谁能指导我。是否可以使用 iframe 标签在一个网页上显示多个网页。我想将我的主页分成四个不同的部分，每个部分包含一个页面。谁能指导我如何做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:44:57.207

为 4 页使用 4 个 iFrame。将它们排列在表格或您想要的任何设计中，并为每个设置源。

# android - android中验证码的源代码？

> ID：12209422
> 
> 赞同：1
> 
> 时间：2012-08-31T05:34:06.410
> 
> 标签：android

> **可能重复：**
> [如何使用 android 实现验证码](https://stackoverflow.com/questions/5666019/how-can-implement-captcha-using-android)

任何人都在 android 中实现验证码。请在 android 或任何有示例的链接中分享此源代码

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:39:34.870

示例项目在[这里](https://github.com/floydfix/Android-Easy-Captcha)

还要注意[参考](http://jcaptcha.sourceforge.net/)

# c# - 如何在word文档标题中插入图片

> ID：12209423
> 
> 赞同：0
> 
> 时间：2012-08-31T05:34:08.177
> 
> 标签：c#, c#-4.0, ms-word, dynamics-crm-2011

如何在word文档的页眉中插入图片。我编写了一个插件，用于在实体中附加文档时重命名。如何在保存文件之前在 word 文档的标题中插入徽标。c# 中的代码也会对我有所帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-01T08:23:59.260

您可以使用此代码在 word 文档的标题中插入图像：

```
 foreach (wd.Section section in CurrentDocument.Sections)
 {
  word.HeaderFooter header= section.Headers[wd.WdHeaderFooterIndex.wdHeaderFooterPrimary];
  wd.Shape oshape = header.Shapes.AddPicture(@"C:\Users\mahammadi\Desktop\icon\plus2.png",  left, top, width, height);
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:40:48.107

```
 Document doc = new Document();
  doc.LoadFromFile(@"E:\JaneEyre.docx", FileFormat.Docx);
 HeaderFooter header = doc.Sections[0].HeadersFooters.Header;
  header.Paragraphs[0].Text = "Preview";
  Image logo = Image.FromFile(@"D:\E-ICEBLUE.png");
  header.Paragraphs[0].AppendPicture(logo).TextWrappingStyle = TextWrappingStyle.Tight;
  HeaderFooter footer = doc.Sections[0].HeadersFooters.Footer;
  doc.SaveToFile("Sample.docx", FileFormat.Docx);
  System.Diagnostics.Process.Start("Sample.docx");footer.Paragraphs[0].Text = "Author: Charlotte Brontë"; 
```

# python - pylint 提高 R0801 用于编码声明行

> ID：12209430
> 
> 赞同：3
> 
> 时间：2012-08-31T05:34:43.323
> 
> 标签：python, pylint

我有一个 Python 项目，并且在某些文件中使用以下行：

```
# coding: utf-8 
```

当我使用 pylint 时，它会抱怨 R0801 警告说有许多文件具有相同的代码。让 pylint 忽略这些的最佳方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-17T14:15:49.770

如评论中所述，Jenkins Violations 扫描器出现此问题的根本原因是它在这种情况下无法正确解析 Pylint 输出，并且所有代码重复都分配给一个文件的第一行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T07:00:00.660

如果您使用此语法进行编码声明，您是否还有问题：

```
# -*- coding: utf-8 -*- 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-05-04T12:31:41.760

由于 utf-8 是 Python 3.0+ 中的默认编码，您可以删除这些行。

[PEP 3120 -- 使用 UTF-8 作为默认源编码](https://www.python.org/dev/peps/pep-3120/k)

# asp.net-mvc-3 - Azure 云服务部署错误：“您尝试连接的 SQL Server 实例不支持加密。”

> ID：12209432
> 
> 赞同：1
> 
> 时间：2012-08-31T05:35:02.347
> 
> 标签：asp.net-mvc-3, nhibernate, azure, azure-sql-database

我们有一个 ASP.NET MVC 3 网站，它在部署到 Azure 云服务后无法正常工作。在开发过程中，我们一直在使用 Azure 网站平台对其进行测试，但为了获得对我们自定义域的 SSL 支持，我们现在正尝试将其部署到云服务中的 Web 角色。但是该站点与 SQL Azure 的数据库连接不起作用，而是我们得到：**“您尝试连接的 SQL Server 实例不支持加密。”** 重试连接不起作用，该错误消息仍然存在。

总而言之，以下是网站工作的平台和不工作的平台：

*   Azure 模拟器：**工作**
*   Azure 网站：**工作**
*   Azure 云服务（Web 角色）：**不起作用**

“[如何：使用 ADO.NET 连接到 Windows Azure SQL 数据库”](http://msdn.microsoft.com/en-us/library/windowsazure/ee336243.aspx)指出错误**“您尝试连接的 SQL Server 实例不支持加密”。**“表示登录过程中的失败，而不是加密失败。从 .NET 4.5 开始，ADO.NET 会显示更好的错误消息。” Azure 云服务仅限于 .NET 4.0。

该站点正在使用 NHibernate 连接到数据库。这是日志文件中的错误：

> 创建休眠会话工厂失败。FluentNHibernate.Cfg.FluentConfigurationException：创建 SessionFactory 时使用了无效或不完整的配置。检查 PotentialReasons 集合和 InnerException 了解更多详细信息。
> 
> *   数据库不是通过数据库方法配置的。---> System.Data.SqlClient.SqlException：您尝试连接的 SQL Server 实例不支持加密。在 System.Data.ProviderBase.DbConnectionPool.GetConnection(DbConnection owningObject) 在 System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection) 在 System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory) 在 System.Data。*YoureOnTime.Data.RetryConnectionStringProvider* .<>c_DisplayClass2.b 处的 SqlClient.SqlConnection.Open()*_0() 在 YoureOnTime.Common.Retry.RequestWithRetry(RetryPolicy retryPolicy, Action action) 在 YoureOnTime.Data.RetryConnectionStringProvider.GetConnection() 在 NHibernate.Tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.Prepare() 在 NHibernate.Tool.hbm2ddl.SchemaMetadataUpdater.GetReservedWords (方言方言，IConnectionHelper connectionHelper) 在 NHibernate.Tool.hbm2ddl.SchemaMetadataUpdater.Update(ISessionFactory sessionFactory) 在 NHibernate.Impl.SessionFactoryImpl..ctor(Configuration cfg, IMapping mapping, Settings settings, EventListeners listeners) 在 FluentNHibernate.Cfg.FluentConfiguration。 BuildSessionFactory() --- 内部异常堆栈跟踪结束 ---*

 *以下是在 hibernate.xml 中定义连接的方式：

```
<property name="connection.connection_string">
      data source=database.database.windows.net;Initial Catalog=db;User ID=user;Password=password;Encrypt=true;Trusted_Connection=false;MultipleActiveResultSets=True
</property> 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T16:46:41.673

根据我以前看到此错误的经验，这是间歇性发生的。SQL 数据库始终强制执行加密，如果在登录过程的早期阶段（身份验证之前）出现故障，协议库（客户端）将回退到此错误消息。正如您所提到的，这是一条误导性消息，与加密无关。

本文[描述](http://windowsazurecat.com/2010/10/best-practices-for-handling-transient-conditions-in-sql-azure-client-applications/)了完全相同的错误，并解释了如何通过添加重试逻辑来解决问题。因此，如果您修改代码以使用重试逻辑，在几次失败后，您可能会传递此错误并继续连接。*

# java - 为什么接口方法没有主体

> ID：12209433
> 
> 赞同：8
> 
> 时间：2012-08-31T05:35:11.003
> 
> 标签：java, inheritance, interface

要实现多重继承，我们必须使用接口，但是为什么接口方法没有主体，为什么必须在派生类中重写它们呢？

我真的想要一个清晰的答案，不涉及太多的计算机术语，我似乎无法理解这一点，我参考了各种参考资料

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-31T05:38:06.163

因为 Java 与 C++ 或 Eiffel 等语言相比，只有*类型*的多重继承（即接口和一个类），而没有*状态*和*行为*的多重继承。后者增加了巨大的复杂性（尤其是状态）。

Java 设计者（以及 C#）选择不包含它，因为它经常给 C++ 程序员带来非常难以调试的问题。您可以通过实现多个接口来解决几乎大多数需要真正多重继承的问题，因此这种权衡被认为是值得的。

请注意，*行为的多重继承（不是状态）可能会以**虚拟扩展方法*的形式出现在 Java 8 中（除非它们像许多其他事情之一一样再次推迟它），其中接口可以声明一个委托给另一个类中的方法的方法，然后它存在于实现该接口的所有类型上。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-31T05:38:37.627

接口声明实现类提供什么服务，而不是如何（这是实现类的工作）。多重继承被认为是不好的，因为它会导致复杂的代码和类层次结构。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-31T05:38:56.033

接口只有常量变量（public + static + final）和抽象方法（public & abstract）。这些是由实现接口的类使用的。

接口只是说“我是一个契约”，如果你想使用它，应该遵守一些规则（为所有抽象方法提供实现）。

Java 中省略了多重继承，确保一个类只能扩展 1 个类，以避免[菱形问题](http://en.wikipedia.org/wiki/Multiple_inheritance#The_diamond_problem)。无论如何，您都可以通过使用接口在 Java 中实现类型的多重继承。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-31T05:38:31.110

Java 接口包含必须由实现该接口的类实现的方法列表。因此，方法没有主体：每个方法的主体都在实现类中。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-31T06:01:34.947

**简单的答案：**

> 接口提供了实现的标准。

**解释：**
在 Java 中，接口类似于抽象类，因为它的成员**没有实现**。例如，

```
public interface Comparable      
{   boolean less(Object m);
    boolean greater(Object m);
    boolean lessEqual(Object m);
    boolean greaterEqual(Object m);
} 
```

> 接口提供了实现的标准。
> 使用接口的好处是它们可以**模拟多重继承**。Java 中的所有类都必须只有*一个基类*，唯一的例外是`java.lang.Object`（Java 类型系统的根类）；java中不允许类的多重继承。

所有实例方法都是隐式的`public`和`abstract`。您可以这样标记它们，但不鼓励这样做，因为标记被认为是*过时的做法*。接口*本身*不需要是公共的，标准库中的几个接口不是公共的，因此只能在内部使用。

接口创建类可以实现的*协议**。*请注意，可以像扩展*类*一样扩展接口（以获取新接口） 。一个实际上可以扩展*几个接口*。***接口***因此享有多重继承的好处。（*类*没有。）接口的多重继承*几乎没有缺点（**小名称冲突*问题是一个例外）。实现的多重继承有*很大的缺点*`C++`，如. 这些包括*效率*考虑因素以及确定在某些情况下将执行哪些代码的语义难度。

*实现Comparable*的*多项式*类需要实现*接口*中声明的所有函数。

 **```
public class Polynomial implements Comparable
{   . . .
    boolean less(Object m){ . . . }
    boolean greater(Object m){ . . . }
    boolean lessEqual(Object m){ . . . }
    boolean greaterEqual(Object m){ . . . }

    Polynomial multiply(Polynomial P){ . . . }
    . . .
} 
```

一个*类*可以选择*实现*任意数量的接口。实现接口的类必须为该*接口*的所有方法*提供*主体。此外，我们希望抽象类可以选择实现接口的一部分，而将其余部分留给*非抽象*子类。

 **接口的用处远不止为其他*程序员*发布协议。任何函数都可以具有*接口*类型的参数。*实现*接口的类中的任何对象都可以作为*参数*传递。

**参考：**
[接口](http://csis.pace.edu/~bergin/papers/Interface.html)
[接口](http://math.hws.edu/javanotes/c5/s7.html)
[接口 Wiki](https://en.wikipedia.org/wiki/Interface_(computing))

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-31T06:01:26.233

接口方法没有像

```
public interface Flyable
{
public void fly();
} 
```

因为接口本身不会做任何事情

**接口是定义合约。**

**另一方面，接口定义了一个类可以做什么，而不是它是什么。所以界面通常是关于动词的。**

**所以 Flyable 接口除了定义植入的 FlyableObjects 将要飞行的合约之外什么都不做。**

像：

```
class Rocket implements  Flyable 
{
public void fly()
{
// do the stuffs.
}
} 
```

[界面](http://docs.oracle.com/javase/tutorial/java/concepts/interface.html)

当然，我们也只能通过接口实现多重继承。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-07-02T14:08:08.767

如果接口有实体，那么它就会带回致命的死亡戴蒙德问题。

考虑这个具有与主体接口的示例

```
interface A {
    void print(){ System.out.print("A") }
}

interface B {
    void print(){ System.out.print("B") }
}

interface C extends A, B {
    // now since A and B have bodies interfaces would have had choice to not to override the default behavior
}

public class C_Implementer implements C{
    public static void main(String args[]){
        C c = new C_Implementer();
        c.print(); // gotcha!!!!! what should it print, A or B????
    }
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-11-05T23:17:28.840

您在问“为什么 Java 不支持实现的多重继承？”

这在 Java 教程，[状态、实现和类型的多重继承中进行](https://docs.oracle.com/javase/tutorial/java/IandI/multipleinheritance.html)了讨论，但我想给出一个具体的例子来说明实现的多重继承问题（以及最后的新语言特性解决方案）。

想象一下定义同名方法的两个接口（在我们提出的允许接口方法主体的 Java 版本中）。

```
public interface FaceOne {
    public void method() {
        System.out.println("FaceOne Version");
    }
}

public interface FaceTwo {
    public void method() {
        System.out.println("FaceTwo Version");
    }
} 
```

一个类实现了这两个接口，但不覆盖该方法。

```
public class Inheriter implements FaceOne, FaceTwo {

} 
```

当我调用`Inheriter.method()`时，由于类继承了其祖先的方法，因此出现了问题：输出打印“FaceOne Version”还是“FaceTwo Version”？

此外，如果该类要覆盖该方法，但还想使用 调用其祖先的版本`super`，编译器将再次在该方法的版本之间进行选择。

这就是Java不支持实现的多重继承的原因。

* * *

顺便说一句，我认为将其实现到语言中的一种优雅方法如下：

继续强制实现类覆盖其祖先接口的方法。这解决了非覆盖方法的第一个问题。

[然后，使用与访问内部类的封闭实例](https://stackoverflow.com/questions/31201/how-do-you-get-a-reference-to-the-enclosing-class-from-an-anonymous-inner-class)类似的符号来访问特定的祖先接口`super`。Inheriter 类将有多个选项：

*   不要调用`super.method()`，而是只使用新定义的实现。

*   用于`FaceOne.super.method()`使默认继承的实现输出“FaceOne 版本”。

*   用于`FaceTwo.super.method()`使默认继承的实现输出“FaceTwo 版本”。

*   使用上述组合：

一种实现可能是：

```
@Override
public void method() {
    FaceOne.super.method();
    FaceTwo.super.method();
    System.out.println("Inheriter Version");
} 
```

输出：

> FaceOne 版本
> 
> FaceTwo 版本
> 
> 继承者版本

* * *

编辑：根据[这个问题](https://stackoverflow.com/questions/16764791/how-does-java-8-new-default-interface-model-works-incl-diamond-multiple-inhe)，这显然正是 Java 8 中默认实现的结构。****

# asp.net - 格式异常字符串未被识别为有效的日期时间

> ID：12209436
> 
> 赞同：0
> 
> 时间：2012-08-31T05:35:33.547
> 
> 标签：asp.net, c#-4.0, datetime-format

```
objTour.tourStartDate = 
    Convert.ToDateTime(
        DateTime.ParseExact(txtTourStartDate.Text, "dd/MM/yyyy", null)
            .ToString("MM/dd/yyyy")); 
```

哪里`txtTourStartDate.Text="16/08/2012"`。

我已经搜索并阅读了所有与此相关的帖子。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-31T05:43:09.827

在[自定义日期格式字符串](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)中，`/`表示特定于文化的日期分隔符，而不是文字字符`/`。因此，您的代码的结果取决于用户（或服务器）的本地化设置。

要使您的代码独立于特定于文化的设置，您有两种选择：

*   明确指定使用斜杠作为日期分隔符的区域性，例如

    ```
    DateTime.ParseExact(txtTourStartDate.Text, "dd/MM/yyyy", 
                        CultureInfo.InvariantCulture) 
    ```

*   或转义字符，例如

    ```
    DateTime.ParseExact(txtTourStartDate.Text, @"dd\/MM\/yyyy", null) 
    ```

    （注意`@` *和*`\`）。

两者都应该产生预期的结果。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-31T05:41:23.660

这就足够了：

```
objTour.tourStartDate = DateTime.ParseExact(txtTourStartDate.Text, 
                                            "dd/MM/yyyy", 
                                            CultureInfo.InvariantCulture); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-31T05:53:05.607

您的原始代码有效，尽管您正在进行许多不必要的转换。*(DateTime -> ToString -> ToDateTime)*，**真正的问题**是`InvariantCulture`. 由于您正在`null`通过`CultureInfo`尝试`CultureInfo.InvariantCulture`。

您的原始代码：

```
objTour.tourStartDate = 
    Convert.ToDateTime(
        DateTime.ParseExact(txtTourStartDate.Text, "dd/MM/yyyy", CultureInfo.InvariantCulture)
            .ToString("MM/dd/yyyy")); 
```

更好的可能是：

```
objTour.tourStartDate =
DateTime.ParseExact(txtTourStartDate.Text, "dd/MM/yyyy", CultureInfo.InvariantCulture) 
```

# php - 注销按钮 php

> ID：12209438
> 
> 赞同：10
> 
> 时间：2012-08-31T05:35:34.613
> 
> 标签：php, logout

我有这个代码，需要代码来添加一个注销按钮，任何人都可以写出一个注销用户的注销按钮的代码，我读了一些关于销毁会话但不知道如何写出代码的东西，谢谢你！

```
<?php
    include 'connection.php';
    //start of checking if user is logged in code
    if (!valid_credentials) {
    header('Location: login.php');
    exit();
    }

$_SESSION['user'] = 'username';

if (!isset($_SESSION['user'])) {
    header('Location: login.php');
    exit();
}
    //end of logged in code and starting a session

$query = "SELECT * FROM people";
$result = mysql_query($query);
While($person = mysql_fetch_array($result)) {
    echo "<h3>" . $person['Name'] . "</h3>";
    echo "<p>" . $person['Description'] . "</p>";
    echo "<a href=\"modify.php?id=" . $person['ID']. "\">Modify User</a>";
    echo "<span> </span>";
    echo "<a href=\"delete.php?id=" . $person['ID']. "\">Delete User</a>";
}
?>
<h1>Create a User</h1>
<form action="create.php" method="post">
    Name<input type ="text" name="inputName" value="" /><br />
    Description<input type ="text" name="inputDesc" value="" />
    <br />
    <input type="submit" name="submit" />
</form> 
```

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-08-31T05:40:16.937

代替按钮，放置一个链接并将其导航到另一个页面

```
<a href="logout.php">Logout</a> 
```

然后在`logout.php`页面中，使用

```
session_start();
session_destroy();
header('Location: login.php');
exit; 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-08-31T05:59:54.073

当您想完全销毁会话时，您需要做的不仅仅是

```
session_destroy(); 
```

首先，您应该取消设置任何会话变量。然后你应该销毁会话，然后关闭会话的写入。这可以通过以下方式完成：

```
<?php
session_start();
unset($_SESSION);
session_destroy();
session_write_close();
header('Location: /');
die;
?> 
```

您希望有一个单独的注销脚本的原因是您不会在页面上意外执行它。因此，创建一个指向您的注销脚本的链接，然后标题将重定向到您网站的根目录。

编辑：

您需要从脚本顶部附近的退出代码中删除 ()。它应该只是

```
exit; 
```

# google-places-api - 一个国家或每个类别的 POI 总数

> ID：12209441
> 
> 赞同：0
> 
> 时间：2012-08-31T05:35:42.830
> 
> 标签：google-places-api

[不是真正的技术问题，但除了https://groups.google.com/group/google-places-api](https://groups.google.com/group/google-places-api)和 SO之外，他们没有其他联系方式。

我想获取一个国家/地区某个类别中所有 POI 的总数或 POI 的总数。这在 API 中是否可行（因为它总是一次返回 20 个结果）？如果没有，是否有 google 地方支持电子邮件向他们询问某些问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T05:54:37.340

正如[Places API Google Group](https://groups.google.com/group/google-places-api)所述：

> 谷歌不会披露此类信息。但是，如果您熟悉泰国的一些地方和地点，您或您的客户可以简单地在 maps.google.com 上执行一些搜索，并将结果与​​您自己的知识进行比较，以大致了解这些信息的精确度或完整性。数据是。

# .htaccess - 在子目录中使用 .htaccess 重定向 url

> ID：12209443
> 
> 赞同：2
> 
> 时间：2012-08-31T05:35:49.190
> 
> 标签：.htaccess, mod-rewrite, url-rewriting

我有一个名为“博客”的子目录。我想在 Web 浏览器中访问此目录时清除 url。所以我想在我打字的时候

```
www.example.com/blog/index.php?id=1 
```

网络浏览器必须显示如下：

```
www.example.com/blog/posts/1 
```

我在没有子目录的情况下成功实现了这一点，但在子目录的情况下，它显示了 404 错误。

这是我在 .htaccess 文件中所做的，以使其在**根**目录（而不是子目录）中实现它时工作。

```
RewriteEngine On
RewriteRule ^posts/([^/]*)$ /index.php?id=$1 [L] 
```

我在`index.php`文件中写了我的网址为

```
echo '<a href="www.example.com/posts/' . $row['id'] . '">' .  $row['title']  . '</a>'; 
```

但问题是，当我尝试在名为“blog”的子目录中实现相同的事情时，它会显示 404 错误。

`rule`我在. 中试过这个`.htaccess`，但它没有用。

```
RewriteCond %{REQUEST_URI} !^/blog/.*$
RewriteRule ^(.*)$ /blog/$1 [L] 
```

**我将`.htaccess`文件保存在名为`blog`.**

我在 中尝试了很多问题`StackOverflow`，但似乎没有一个能解决我的问题。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T05:54:47.777

将重写基础添加到您拥有的规则中：

```
RewriteEngine On
RewriteBase /blog/
RewriteRule ^posts/([^/]*)$ index.php?id=$1 [L] 
```

这些将在目录中的 htaccess 文件中`/blog/`

并确保在您的 index.php 中，您生成的链接如下：

```
echo '<a href="www.example.com/blog/posts/' . $row['id'] . '">' .  $row['title']  . '</a>'; 
```

# javascript - 如何确定具有该 ID 的元素是否存在？

> ID：12209444
> 
> 赞同：0
> 
> 时间：2012-08-31T05:36:01.760
> 
> 标签：javascript, jquery, html

我做一个：

```
console.log($('#test')); 
```

我知道测试不存在。如果我执行 console.log，它不会输出 undefined/null。相反，它会输出类似于空数组的内容，当我检查该数组时，它看起来像是返回了 jQuery 对象本身。

我也试过：

```
if ($('#test')){
    //do something
} 
```

但它仍然不起作用。我想知道我选择的 ID 是否存在于页面上。我如何使用 jQuery 做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-31T06:00:40.837

这样做要快 20 倍：

```
if (document.getElementById("test")) 
```

与 jQuery 操作相比，仅确定页面中是否存在具有该 id 的 DOM 对象。jQuery 可以为您做很多事情，但是当不需要它的通用选择器引擎和通用对象结构时，它并不是最快的处理方式。

正如其他人所说，`$("#test")`即使`#test`不存在，它也始终是有效的 jQuery 对象。如果`#test`对象不存在，那么`$("#test")`它将是一个 jQuery 对象，其中没有 DOM 对象（内部数组将有一个`.length === 0`），但它仍然是一个有效对象。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T05:37:19.830

将 '(' 和 ')' 用于 'if' 语句，并检查返回的数组的长度是否大于 0：

```
if ($('#test').length > 0){
    //do something
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-31T05:39:23.247

利用

```
if ($('#test').length > 0){
    //do something
} 
```

长度告诉你选择了多少项目，如果它是 0 没有元素有 id 测试。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-31T05:37:47.040

使用这样的东西

```
if ($('#test').length > 0){
    alert('hi')
  }else
  {
     alert('hello')
  } 
```

[现场演示](http://jsfiddle.net/X5V8S/) ​</p>

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-31T05:38:14.980

最好的方法是检查所选元素的长度

```
if ($('#test').length > 0){
    //do something
} 
```

但是如果你想创建一个存在的函数 jQuery 欢迎你只需在脚本中添加该行

```
jQuery.fn.exists = function(){return this.length>0;} 
```

现在您可以检查元素是否存在

```
if ($(selector).exists()) {
  // Do something
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-08-31T05:38:35.837

在 JavaScript 中，对象总是*真实*的，所以以这种方式使用它总是会通过条件。

你需要检查`length`财产。的响应`0`是*falsy*，并且会按预期工作。

```
if ($('#test').length) { 
    // ...    
} 
```

这与 不同，如果具有该属性的元素不存在`document.getElementById()`，则返回。`null``id`

如果这令人困惑，您总是可以编写一个快速的 jQuery 插件。

```
$.fn.exists = function() {
    return !!this.length;
}; 
```

然后，您可以调用`exists()`jQuery 集合，以确保选择器至少匹配一个项目。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-08-31T05:44:36.417

```
console.log($('#test')); 
```

这不会打印该值，因为它表示在 DOM 中找到的带有 id 测试的对象。如果要获取值，请使用 $("#test").val(); 或 $("#test").html();

如果要检查是否存在，请按照上面的建议进行长度测试。

此外，如果您正在测试是否存在生成的元素（您添加到 DOM 的东西），请确保您签出 .live (http://api.jquery.com/live/)。这对于在页面加载后创建的所有元素都是必需的。

# android - 使用短信内容提供者锁定短信[编辑短信内容提供者]

> ID：12209447
> 
> 赞同：1
> 
> 时间：2012-08-31T05:36:13.107
> 
> 标签：android, sms, android-contentprovider

我正在开发一个短信应用程序。通过使用短信内容提供商，我得到了所有字段。

```
Uri uriSms = Uri.parse("content://sms/inbox");
Cursor c = context.getContentResolver().query(uriSms, null,null,null,null); 

 _id
thread_id
address
person
date
read   
status
type
subject
body
locked 
```

我可以使用上述字段进行所有基本操作。现在我想设置一个短信锁定状态。我该怎么做？。从状态字段我总是得到-1。这意味着什么。我检查了收件箱和发件箱。请帮助我的朋友

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-31T06:35:38.317

```
 Sms.CONTENT_URI= Uri.parse("content://sms");   
Mms.CONTENT_URI = Uri.parse("content://mms");
private void lockMessage(MessageItem msgItem, boolean locked) {
        Uri uri;
        if ("sms".equals(msgItem.mType)) {
            uri = Sms.CONTENT_URI;
        } else {
            uri = Mms.CONTENT_URI;
        }
        final Uri lockUri = ContentUris.withAppendedId(uri, msgItem.mMsgId);

        final ContentValues values = new ContentValues(1);
        values.put("locked", locked ? 1 : 0);

        new Thread(new Runnable() {
            public void run() {
                getContentResolver().update(lockUri,
                        values, null, null);
            }
        }).start();
    } 
```

提醒一下，以上所有内容均未包含在 SDK 中，因此请谨慎使用。

# python - 在 Python 中，如何在维护原始调用堆栈的同时检查然后重新引发异常？

> ID：12209450
> 
> 赞同：8
> 
> 时间：2012-08-31T05:36:22.173
> 
> 标签：python, exception-handling, callstack

我遇到了一种情况，我正在捕获特定的异常类型，检查异常的消息以检查它是否真的是我想要捕获的异常，如果不是，则重新引发异常：

```
try:
    # do something exception-prone
except FooException as e:
    if e.message == 'Something I want to handle':
        # handle the exception
    else:
        raise e 
```

这工作正常，有一个问题。在我重新引发异常的情况下，该异常现在发生在我重新引发它的行（即 at `raise e`），而不是最初发生异常的位置。这对于调试来说并不理想，您想知道原始异常发生在哪里。

因此我的问题是：有没有办法在保持原始异常位置的同时捕获异常后重新引发或以其他方式“传递”异常？

注意：如果您想知道实际情况是什么：我正在使用`__import__`. 我正在`ImportError`优雅地处理任何这些模块都不存在的情况。但是，如果这些模块中的任何一个本身包含引发的导入语句`ImportError`，我希望那些“真实”（从我的应用程序的角度来看）异常被引发 - 并且在原始位置，就调试工具而言担心。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-31T05:41:11.803

做就是了：

```
raise 
```

而不是`raise e`. 请参阅有关[引发异常](http://docs.python.org/tutorial/errors.html#raising-exceptions)的教程部分，以及有关[语句的](http://docs.python.org/reference/simple_stmts.html#raise)[语言参考`raise`](http://docs.python.org/reference/simple_stmts.html#raise)：

> 如果不存在表达式， raise 会重新引发在当前范围内活动的最后一个异常。如果当前范围内没有活动异常，则会引发 TypeError 异常，指示这是一个错误（如果在 IDLE 下运行，则会引发 Queue.Empty 异常）。

# android - 如何从 facebook 获取好友用户墙？

> ID：12209451
> 
> 赞同：-1
> 
> 时间：2012-08-31T05:36:24.900
> 
> 标签：android, facebook, facebook-graph-api

我想从他的用户墙上阅读我朋友的帖子（提要？，所有帖子，但仅针对特定用户）。我需要直接从网站上查看他的页面时看到的所有（帖子、提要、状态）。

我使用 android sdk 并尝试了 graph api 和 rest 方法。

我的应用程序已注册，并且我已登录 facebook 以获取访问令牌（权限：read_stream），但我没有得到想要的信息。

请帮忙。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T06:48:10.273

在 Graph API Explorer 中测试您的 Graph API 调用怎么样？ [https://developers.facebook.com/tools/explorer/](https://developers.facebook.com/tools/explorer/)

[就我而言，我可以使用网址https://graph.facebook.com/me?fields=friends.limit(10).fields(feed](https://graph.facebook.com/me?fields=friends.limit(10).fields(feed) )获取我的前 10 个朋友的提要（墙）

请注意，我使用了 Graph API 的字段扩展。 [http://developers.facebook.com/docs/reference/api/field_expansion/](http://developers.facebook.com/docs/reference/api/field_expansion/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:48:24.337

您需要他们实际*使用*您的应用程序并通过图形 API 授予完全权限。你不能简单地“抢朋友墙”。您必须通过您的应用程序执行此操作，并且它需要相关用户的权限才能执行此操作。

# javascript - 将动态创建的 div 数据添加到新的空变量

> ID：12209455
> 
> 赞同：0
> 
> 时间：2012-08-31T05:36:41.027
> 
> 标签：javascript, jquery, xml

我正在尝试将动态创建的 div 的数据推 `<div id="paging_inner"></div>`送到新创建的变量 `var content= '';`中。我评论了我在脚本中尝试过的代码。

是否有任何用于插入数据的 jQuery 方法（不使用 jQuery`.append()`方法）？

这是我尝试过的，但我需要帮助：

[http://jsfiddle.net/QNZDX/19/](http://jsfiddle.net/QNZDX/19/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T05:41:07.440

你的意思是：

```
var div=$('<div id="paging_inner"></div>');
for(...) {
...
}
$('#paging').html(div); 
```

一种选择是，在 for 循环中创建内容，将其添加到变量中，然后在循环之后将其附加到 div，例如：

```
var div=$('<div id="paging_inner"></div>');
var insertContent = '';
for(i=0;i<maximages;i++) {
  insertContent += '<a id="page_'+(i+1)+'" data-index="'+(i+1)+'"><span></span></a>';
}
$('div').append(insertContent); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:44:28.533

还是您的意思是要将 DIV 的内容移动到一个名为 content 的变量中？

如果是这样，你只需这样做：

```
var content = document.getElementById("paging_inner").innerHTML; 
```

# asp.net - Response.End() 导致第一次使用会话时会话丢失

> ID：12209460
> 
> 赞同：2
> 
> 时间：2012-08-31T05:37:45.340
> 
> 标签：asp.net, asp.net-mvc, session-state

我有一个使用 MVC 2 构建的站点。我的问题是 Response.End()*在第一次*访问会话时导致会话丢失。

**测试用例 1：**

1.  启动应用程序。

2.  转到主页/X。一个项目被添加到`session`并被`Response.End()`调用。

3.  再次打开 Home/X 并检查`Session["X"]`（在分配行之前添加一个断点。）它返回**null。**再次执行将“X”分配给会话的其余操作。

4.  重新打开主页/X。这次`Session["X"]`返回正确的值。

**测试用例 2：**

1.  保持 Web 应用程序运行。关闭浏览器并重新打开以打开新会话。访问主页/X。

2.  结果：`Session["X"]`总是有一个值。

谁能向我解释为什么会发生这种情况以及如何解决？

```
[HandleError]
public class HomeController : Controller
{
    public ActionResult Index()
    {
        ViewData["Message"] = "Welcome to ASP.NET MVC!";
        return View();
    }
    public void X()
    {
        Session["X"] = "X";
        Response.End();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T11:18:32.843

添加

```
 public void Session_OnStart()
    {
    } 
```

到 Global.asax 有助于解决问题。

# ant - MANIFEST.MF 在使用 ant 运行 build.xml 后被覆盖

> ID：12209463
> 
> 赞同：0
> 
> 时间：2012-08-31T05:38:05.947
> 
> 标签：ant, build, manifest.mf

具有以下目录结构

```
src/com
src/META-INF/MANIFEST.MF
src/META-INF/spring
src/META-INF/spring/context.xml 
```

现在，当我运行脚本时，我的清单文件被覆盖，我不希望这样，因为我必须在其中添加自定义输入，并且我希望将其添加到生成的 .jar 文件中。事情是所有其他文件都被复制了，但是这个被覆盖了。

我的 build.xml 如下

```
<project name="TaskNodeBundle" default="all" basedir=".">
    <!-- Sets variables which can later be used. -->
    <!-- The value of a property is accessed via ${} -->
    <property name="bundlename" value="tasknodebundle" />
    <property name="src.dir" location="../src" />
    <property name="lib.dir" location="../lib" />
    <property name="build.dir" location="/buildoutput" />
    <property name="build.dest" location="../build/dest" />

    <!--
    Create a classpath container which can be later used in the ant task
  -->
    <path id="classpath">
        <fileset dir="${lib.dir}/">
            <include name="*.jar" />

        </fileset>
    </path>

    <target name="clean">
            <delete dir="${build.dir}" />
            <delete dir="${build.dest}" />
    </target>

    <!-- Deletes the existing build directory-->
    <target name="mkdir" depends="clean">
            <mkdir dir="${build.dest}"/>
    </target>

<!-- Compiles the java code -->
    <target name="compile" depends="mkdir">
        <javac srcdir="${src.dir}" destdir="${build.dest}" classpathref="classpath" />
    </target>

    <target name="package-bundle" depends="compile" description="Generates the bundle">
        <jar destfile="${build.dest}/${bundlename}.jar">
            <fileset dir="${src.dir}">
                <include name="**/**.class" />
                <include name="**/**.properties"/>
                <include name="/META-INF/**.*" />
                <include name="/META-INF/spring/**.*" />
            </fileset>

        </jar>
    </target>

    <target name="all" depends="package-bundle">
    </target>

</project> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-31T05:41:11.903

请参阅[http://ant.apache.org/manual/Tasks/jar.html](http://ant.apache.org/manual/Tasks/jar.html)。

> 如果`manifest`省略，Apache Ant 将提供一个简单的。

只需添加`manifest`属性或使用`zip`任务。

蚂蚁路径掩码也使用不正确。请参阅[http://en.wikibooks.org/wiki/Apache_Ant/Fileset](http://en.wikibooks.org/wiki/Apache_Ant/Fileset)。

修正版：

```
 <zip destfile="${build.dest}/${bundlename}.jar">
        <fileset dir="${src.dir}">
            <include name="META-INF/**" />
            <include name="**/*.class" />
            <include name="**/*.properties"/>
        </fileset>
    </zip> 
```

# android - ImageView 静态高度，动态宽度

> ID：12209473
> 
> 赞同：0
> 
> 时间：2012-08-31T05:39:08.127
> 
> 标签：android, imageview

感谢这个网站，我成功地实现了 ImageViews 的水平 ListView。现在我需要的是列表中的 ImageViews 有一个固定的高度（它们是更复杂布局的一部分，所以我使用 LinearLayout 权重技巧给它一个等于屏幕高度 1/3 的高度)，以及在不破坏纵横比的情况下相对于高度进行调整的宽度。图像的高度比宽度长 - 纵横比类似于纵向手机。

现在我尝试将 scaleType 设置为不同的可用设置，还将 adjustViewBounds 设置为 true，并将 layout_width 设置为 wrap_content 并将 layout_height 设置为 fill_parent。我最接近这样做的是：

[http://img849.imageshack.us/img849/1289/device20120831133004.png](http://img849.imageshack.us/img849/1289/device20120831133004.png) （我将白色边框作为图像背景）

还有什么可以做的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T06:00:55.133

这里的问题是您`ImageView`无法调整到所需的高度，因为它的纵横比与屏幕不同。您的视图匹配屏幕高度（或它的 1/3）和宽度不能在不裁剪的情况下按比例缩放。

尝试设置并加载**调整**`scaleType`到所需高度的图像。`centerCrop`

# jquery - 浮动饼图渲染问题

> ID：12209475
> 
> 赞同：0
> 
> 时间：2012-08-31T05:39:11.763
> 
> 标签：jquery, flot

我能够开始渲染时间图的数据集，所以我认为图形问题不会更具挑战性，但由于某种原因，我在正确输出它时遇到了真正的麻烦。

json数据：

```
[{"data":[
    {"label":"Times Appeared In Backpacks","data":45,"color":"#D9868C"},
    {"label":" All Backpacks","data":10919,"color":"#86b5d9"}]
]} 
```

由...制作

```
$json_data[] = array('label' => "Times Appeared In Backpacks", 'data' => $appeared, 'color'=> "#D9868C");
$json_data[] = array('label' =>" All Backpacks", 'data' => $total, 'color' => "#86b5d9");
$mergedData[] = array('data' => $json_data);
echo json_encode($mergedData); 
```

被称为

```
$.ajax({
  url: "/whats/encode_pie_graph.php",
  method: 'GET',
  dataType: 'json',
  success: onOutboundReceivedPie
});

function onOutboundReceivedPie(data) {
  console.log(data);

  $.plot($(".graph_pie"), data, {
    series: {
      pie: {
        show: true
      }
    },

    legend: {
      show: false
    }
  });
} 
```

此刻没有任何输出。

这里有什么明显不正确的地方吗？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-02T10:01:24.040

```
$mergedData[] = array('data' => $json_data); 
```

结果是没有必要的。

```
echo json_encode($json_data); 
```

我拥有的数据可以简单地是 json_encode()'d 以通过 ajax 读取并被 flot 接受。

# java - Java getText JTextField

> ID：12209481
> 
> 赞同：0
> 
> 时间：2012-08-31T05:39:42.983
> 
> 标签：java, swing, actionlistener, jtextarea

我知道这很容易，但我现在已经做了大约 2 个小时，我似乎无法弄清楚为什么我不能将`JTextArea`变量中的值传递给其他 java 文件，因为我将我的`ActionEvent`代码从我的对象中分离到另一个文件（特别是`JTextArea`），伙计们找出我的代码出了什么问题。

`actionlistener`代码：

```
public class ButtonAction{
    public static class AddInv implements ActionListener{
    public void actionPerformed(ActionEvent e){
        AbstractButton inv = (AbstractButton)e.getSource();
        AddInventory addInv = new AddInventory();

        if(inv.getActionCommand().equals("SAVE")){
            invName = addInv.areaName.getText();                
            JOptionPane.showMessageDialog(null, invName);
        }   
    }
}
} 
```

这是来自另一个 java 文件的 Button 和 textarea 对象代码，这是我的类`AddInventory`：

```
ActionListener add = new ButtonAction.AddInv();
areaName = new JTextArea(2, 35);
//my TextArea
JButton buttonSave = new JButton("SAVE");
buttonSave.addActionListener(add); 
```

伙计们，你可以试试这个代码，并告诉我它是否在你的电脑上工作。因为我打算做的是将此文本区域值保存到我的数据库中。

我已经连接了oracle数据库，我只需要插入一些记录。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:42:01.080

我会从检查的目的开始

```
addInv = new AddInventory();
s1 = addInv.areaName.getText(); 
```

对我来说，这就是说，为我创建一个新的`AddInventory`并给我它的`areaName`文本字段的默认值......这可能什么都没有......

**更新**

还是一样的问题...

```
AddInventory addInv = new AddInventory();

if(inv.getActionCommand().equals("SAVE")){
    invName = addInv.areaName.getText();                
    JOptionPane.showMessageDialog(null, invName);
} 
```

某种方式，您要么需要将对文本区域的引用传递给操作...

**更新示例**

理想情况下，您需要某种控制器/模型来处理这个问题，但作为一个例子......

```
areaName = new JTextArea(2, 35);
ActionListener add = new ButtonAction.AddInv(areaName);
//my TextArea
JButton buttonSave = new JButton("SAVE");
buttonSave.addActionListener(add); 
```

而你的行动课...

```
public class ButtonAction{
    public static class AddInv implements ActionListener{
        private JTextArea text;
        public AddInv(JTextArea text) {
            this.text = text;
        }
        public void actionPerformed(ActionEvent e){
            AbstractButton inv = (AbstractButton)e.getSource();

            if(inv.getActionCommand().equals("SAVE")){
                invName = text.getText();                
                JOptionPane.showMessageDialog(null, invName);
            }   
        }
    }
} 
```

# javascript - 如何使用 Javascript 检查当前鼠标按钮状态

> ID：12209483
> 
> 赞同：4
> 
> 时间：2012-08-31T05:39:50.327
> 
> 标签：javascript, mousedown, mouseup

我想要鼠标处于**Down 状态**或**up 状态**

```
document.onmousemove = mouseMove;
document.onmousedown = mouseDown;
document.onmouseup   = mouseUp;

function mouseMove(ev) {

    mouseState="";
    //How can I know the state button of mouse button from here 
    if(mouseState=='down') {
        console.log('mouse down state')
    }

    if(mouseState=='up')  {
        console.log('mouse up state')
    }
}

function mouseDown(ev) {
    console.log('Down State you can now start dragging');
    //do not write any code here in this function
}

function mouseUp(ev) {
    console.log('up state you cannot drag now because you are not holding your mouse')
    //do not write any code here in this function
} 
```

当我移动鼠标时，程序现在应该在控制台上显示所需的 mouseState 值

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-31T05:53:42.940

你可以查一下`MouseEvent.which`楼盘。

```
function mouseMove(ev) {
    if(ev.which==1) {
        console.log('mouse down state with left click');
    } else if(ev.which==3)  {
        console.log('mouse down state with right click');
    } else {
        console.log('mouse update');
    } 
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-31T05:50:24.253

你只需要为它创建一个变量。

```
document.onmousemove = mouseMove;
document.onmousedown = mouseDown;
document.onmouseup   = mouseUp;
var mouseState = "up";

function mouseMove(ev) {

    //How can I know the state of mouse from here 
    if(mouseState=='down') {
        console.log('mouse down state')
    }

    if (mouseState=='up')  {
        console.log('mouse up state')
    }
}

function mouseDown(ev) {
    mouseState = "down";
    console.log('Down State you can now start dragging');
    //do not write any code here in this function
}

function mouseUp(ev) {
    mouseState = "up";
    console.log('up state you cannot drag now because you are not holding your mouse')
    //do not write any code here in this function
} 
```

您应该通过将“mousemove”事件登录到控制台来查看它。那里可能有一个属性可以显示鼠标的状态，就像 keypress 事件有一个属性可以告诉您是否按下了 shift 按钮。但这可能不是跨浏览器兼容的。

# c# - 屏蔽文本框以仅接受小数

> ID：12209484
> 
> 赞同：1
> 
> 时间：2012-08-31T05:39:52.303
> 
> 标签：c#, .net, wpf, regex, maskedtextbox

我正在使用此链接中的技术来掩盖我的文本框以接受十进制格式的字符串（带有单个句点的数字）。

[如何定义文本框输入限制？](https://stackoverflow.com/questions/1103765/how-to-define-textbox-input-restrictions)

这是我放在掩码中的正则表达式：

```
b:Masking.Mask="^\d+(\.\d{1,2})?$" 
```

出于某种奇怪的原因，它允许我输入数字，但我无法在我的文本框中插入句点。

我也在这里验证了正则表达式，所以正则表达式绝对正确。

[http://derekslager.com/blog/posts/2007/09/a-better-dotnet-regular-expression-tester.ashx](http://derekslager.com/blog/posts/2007/09/a-better-dotnet-regular-expression-tester.ashx)

可能是什么问题？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-31T05:45:44.810

用这个修改你的正则表达式：

```
^\d+([\.\d].{1,2})?$ 
```

**[演示](http://regexr.com?320j6)**

**编辑：**

上面的正则表达式也将允许`123..1`超过 1 个小数点。所以我刚刚发现了问题并修复了以下问题：

```
^(\d+)?+([\.]{1})?+([\d]{1,2})?$ 
```

**[演示](http://regexr.com?320jc)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T06:18:30.730

您可以使用正则表达式

```
^(\d+)?+([\.]{1})?+([\d]{1,2})?$ 
```

或者您可以使用以下事件

```
 bool blHasDot = false;
   private void txt_KeyPress(object sender, KeyPressEventArgs e)
    {
        if (Char.IsDigit(e.KeyChar) || e.KeyChar == '\b')
        {
            // Allow Digits and BackSpace char
        }
        else if (e.KeyChar == '.' && !blHasDot)
        {
            //Allows only one Dot Char
            blHasDot=true;
        }
        else
        {
            e.Handled = true;
        }
    } 
```

# jquery - Jquery 使用它只为选定的项目设置动画

> ID：12209486
> 
> 赞同：0
> 
> 时间：2012-08-31T05:39:57.707
> 
> 标签：jquery

嗨，我有 3 次重复相同的块，我想为悬停的块设置动画，而不是另一个。下面的脚本动画所有块。我如何使用 jquery“this”来为悬停的 div 设置动画？我也有 .img 课程。

```
$(document).ready(function () {
  $(".HomeClaimWrapper").hover(function () {
    $(".HomeClaimWrapper .img").stop().animate({
      top: "-10px"
    }, 300);
  });

  $(".HomeClaimWrapper").mouseout(function () {
    $(".HomeClaimWrapper .img").stop().animate({
      top: "-5px"
    }, 300);
  });
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:45:02.487

你可以像这样绑定事件

```
 $(document).ready(function(){
    $.each($(".HomeClaimWrapper .img").hover(function(){
       $(this).stop().animate({
       top: "-10px"
       }, 300 );
    });

    $.each($(".HomeClaimWrapper .img").mouseout(function(){
       $(this).stop().animate({
       top: "-5px"
       }, 300 );
    });
 }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T06:00:37.967

我个人喜欢将我的状态定义保存在一个地方，而较新版本的 jQuery 使悬停事件变得容易：

```
$(function(){
    $(".HomeClaimWrapper .img").hover(function(e){
        $(this).stop().animate({
            top: e.type == 'mouseenter' ? "-10px" : "-5px"
        }, 300 );
    });
}); 
```

顺便说一下，这是当前的单参数定义，所以我认为您的（以及此处的其他答案）示例不会完全符合您的要求。它会在鼠标进入和离开时触发。

如果你想让它们分开，悬停有两个参数版本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T05:45:04.547

要使用`this`：

```
$(document).ready(function(){
  $(".HomeClaimWrapper .img").hover(function(){
     $(this).stop().animate({
         top: "-10px"
         }, 300 );
     });

  $(".HomeClaimWrapper .img").mouseout(function(){
      $(this).stop().animate({
         top: "-5px"
         }, 300 );
  });
}); 
```

请注意`.img`。如果您在代码中没有看到`class="img"`某处，请删除`.`并离开`img`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-31T05:45:23.953

用这个

```
$(document).ready(function(){
   $(".HomeClaimWrapper .img").hover(function(){
     $(this).stop().animate({
       top: "-10px"
     }, 300 );
   });

   $(".HomeClaimWrapper .img").mouseout(function(){
      $(this).stop().animate({
        top: "-5px"
      }, 300 );
   });
}); 
```

**编辑：**`img`在悬停时设置动画`div`

```
$(document).ready(function(){
   $(".HomeClaimWrapper").hover(function(){
     $(this).find(".img").stop().animate({
       top: "-10px"
     }, 300 );
   });

   $(".HomeClaimWrapper").mouseout(function(){
      $(this).find(".img").stop().animate({
        top: "-5px"
      }, 300 );
   });
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-31T05:45:41.833

用 $(this) 替换 $('.HomeClaimWrapper .img')

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-31T05:44:49.743

只需`this`在事件处理程序中用作选择器：

```
$(function(){
    $(".HomeClaimWrapper .img").hover(function(){
        $(this).stop().animate({
            top: "-10px"
        }, 300 );
    });

    $(".HomeClaimWrapper .img").mouseout(function(){
        $(this).stop().animate({
        top: "-5px"
        }, 300 );
    });
}); 
```

# python - UI 自动化 Windows 用户登录

> ID：12209488
> 
> 赞同：3
> 
> 时间：2012-08-31T05:40:09.870
> 
> 标签：python, windows, powershell, ui-automation

我有一个测试用例，我必须在 Windows UI 上自动执行用户操作，

`The scenario is that windows password has expired, and when user tries to login to the system, the reset password page appears and user inputs new password and login succeeds.`

现在我必须通过脚本来做到这一点，

好消息是我在机器上运行了一个 python 服务，如果需要，我可以在登录之前向它传递命令。

我用谷歌搜索了很多，但找不到类似的东西。

如果有人能指出我的问题的任何具体问题，我会很高兴，

这个 UI 自动化的参考点应该是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T20:37:26.593

如果您尝试自动化 Windows 登录 UI，我相信这是可能的，但它要求您使用 Windows 服务来运行您的测试代码。听起来您可能已经这样做了，因为您提到了一个 Python 服务，您可以使用它在没有用户登录到 Windows 的情况下运行命令。

无论如何，Windows 服务是我知道的唯一方法（无需禁用 UAC 或以其他方式修改默认的 Windows 安全配置）。

有关一些提示，请参阅我对这个问题的回答：

[UAC和远程控制](https://stackoverflow.com/questions/4802631/uac-and-remote-control)

如果您的 Python 代码以 Windows 服务的权限运行，它应该能够与系统上的任何 UI 交互（或至少启动可以与安全 UI 交互的其他进程），包括 Windows 登录桌面。

唯一令人头疼的可能是为了与 Winlogon 桌面交互，您的测试代码可能需要使用 CreateProcessAsUser 函数启动一个单独的程序（并将“Winsta0\Winlogon”作为桌面参数传递）。不过不确定。

这个答案看起来也可能对您的情况有所帮助：

[在 Windows 7 欢迎屏幕上运行进程](https://stackoverflow.com/questions/3070152/running-a-process-at-the-windows-7-welcome-screen)

# qt - 如何强制 QWebView 使用 SSLv3？

> ID：12209489
> 
> 赞同：2
> 
> 时间：2012-08-31T05:40:10.993
> 
> 标签：qt, ssl, sslv3

有一个不支持 SSLv2 HELO 的 Web 服务器，因此我必须强制`QWebView`执行 SSLv3 HELO。不幸的是，以下方法不起作用：

```
QList ciphers = QSslSocket::supportedCiphers();
for (int i = ciphers.count() - 1; i >= 0; i--){
    QSslCipher cipher = ciphers.at(i);
    QSsl::SslProtocol protocol = cipher.protocol();
    if (protocol == QSsl::SslV2){
        ciphers.removeAt(i);
    }
}
QSslSocket::setDefaultCiphers(ciphers); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-07T13:49:02.030

通过覆盖 QNetworkAccessManager 的 createRequest 虚函数，您可以强制它使用特定的 ssl 协议：

```
MyNetworkAccessManager::MyNetworkAccessManager(
               QNetworkAccessManager *oldManager, QObject *parent /*= 0*/)
    : QNetworkAccessManager(parent)
{
    setCache(oldManager->cache());
    setCookieJar(oldManager->cookieJar());
    setProxy(oldManager->proxy());
    setProxyFactory(oldManager->proxyFactory());
}

QNetworkReply* MyNetworkAccessManager::createRequest(
         QNetworkAccessManager::Operation op, const QNetworkRequest &req, 
         QIODevice *device)
{
    QSslConfiguration sslConfig = req.sslConfiguration();
    sslConfig.setProtocol(QSsl::SslV3);
    req.setSslConfiguration(sslConfig);
    return QNetworkAccessManager::createRequest(op, req, outgoingData);
}

view = new QWebView(this);
QNetworkAccessManager *oldManager = view->page()->networkAccessManager();
MyNetworkAccessManager *newManager = new MyNetworkAccessManager(oldManager, this);
view->page()->setNetworkAccessManager(newManager); 
```

# java - Eclipse Juno 中的 JSF 2.2 taglib 支持

> ID：12209498
> 
> 赞同：3
> 
> 时间：2012-08-31T05:40:49.293
> 
> 标签：java, eclipse, jsf

Eclipse Juno 附带对 JSF 2.0 的支持。我已将我的项目配置为使用 JSF Facet，因此标签的自动完成工作正常。

在 JSF 2.2 中有几个新标签，比如新的 Flow 特性 (xmlns:j="http://java.sun.com/jsf/flow")。

我已将 JSF 2.2.m05 放在类路径中，但 Eclipse 仍然无法解析 JSF 2.2 -> taglib 描述符。

如何配置 Eclipse 以尊重 JSF 2.2 标签库？

我怀疑它会读取 Eclipse Juno 提供的 JSF 标签库（JSF 2.1），因此它不会解析任何新标签。

关于如何解决这个问题的任何想法？

# java - 如何使用证书和私钥在 android 中签署 XML 文档

> ID：12209507
> 
> 赞同：3
> 
> 时间：2012-08-31T05:41:40.657
> 
> 标签：java, android

我有一个 xml 文档。现在我想用 android 中的证书和私钥签署这个文件。我已经使用 javax.xml.crypto 包在 java 中完成了这项工作。我也在 android 中使用相同的 pacakge，它是从[http://santuario.apache.org/download.html下载的](http://santuario.apache.org/download.html)

但是在android中它没有得到编译并给出以下错误：Conversion to Dalvik format failed with error 1

# android - 文本视图作为列表视图的标题

> ID：12209508
> 
> 赞同：0
> 
> 时间：2012-08-31T05:41:55.150
> 
> 标签：android

```
<TextView
    android:id="@+id/_tv_title_labels"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_marginLeft="20dp"
    android:layout_marginTop="30dp"
    android:text="Profile Labels :"
    android:textColor="@drawable/normal_text_color"
    android:textSize="14dp"
    android:textStyle="bold" />

<RelativeLayout 
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical">

    <LinearLayout
        android:id="@+id/asda"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@+id/TableLayout01"
        android:layout_marginLeft="50dp"
        android:layout_marginRight="40dp">

        <ListView
            android:id="@+id/_lv_labels"
            android:layout_width="wrap_content"
            android:layout_height="300dp"
            android:layout_weight="1"
            android:choiceMode="multipleChoice" />
    </LinearLayout>

</RelativeLayout> 
```

嗨，我有以文本视图为标题的列表视图，但文本视图标题下方有更多空间。如何避免空间。![删除文本视图下方的空间](../Images/f0b0bd2c3322e0e4b3f8474c88876798.png) 在这张图片中，你可以找到我需要避免空间的空间

但是当文本下方的空闲空间被删除时，这个空闲空间会在按钮上方找到。我的页面不应包含可用空间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T07:07:39.803

```
<TextView
    android:id="@+id/_tv_title_labels"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_marginLeft="20dp"
    android:layout_marginTop="30dp"
    android:text="Profile Labels :"
    android:textColor="#fff000"
    android:textSize="14dp"
    android:textStyle="bold" />

<RelativeLayout 
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"

--->**android:layout_below="@+id/_tv_title_labels**">

    <LinearLayout
        android:id="@+id/asda"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@+id/TableLayout01"
        android:layout_marginLeft="50dp"
        android:layout_marginRight="40dp">

        <ListView
            android:id="@+id/_lv_labels"
            android:layout_width="wrap_content"
            android:layout_height="300dp"
            android:layout_weight="1"
            android:choiceMode="multipleChoice" >
        </ListView>

    </LinearLayout>

</RelativeLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T06:54:47.550

> 如果要在 ListView 的顶部设置 TextView 使用下面显示的 XML 它是在 ListView 的顶部显示 TextView。

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/_tv_title_labels"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginLeft="20dp"
        android:layout_marginTop="30dp"
        android:text="Profile Labels :"
        android:textColor="#de9089"
        android:textSize="20sp"
        android:textStyle="bold" />

    <ListView
        android:id="@+id/_lv_labels"
        android:layout_width="wrap_content"
        android:layout_height="380dp"
        android:layout_alignParentLeft="true"
        android:layout_below="@+id/_tv_title_labels"
        android:choiceMode="multipleChoice" >
    </ListView>

    <Button
        android:id="@+id/button1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/_tv_title_labels"
        android:layout_alignParentBottom="true"
        android:text="Button" />

    <Button
        android:id="@+id/button2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_toRightOf="@+id/_tv_title_labels"
        android:text="Button" />

</RelativeLayout> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T06:27:10.650

将其放入`TextView`内部`RelativeLayout`并用于`android:layout_above="@+id/asda"`将`TextView`其设置在`LinearLayout`移除任何空间的上方。

这是代码：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<TextView
    android:id="@+id/textView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_alignParentTop="true"
    android:text="TextView" />

<ListView
    android:id="@+id/listView1"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_below="@+id/textView1" >
</ListView>

</RelativeLayout> 
```

# visual-studio - 运行时错误 458，变量使用 Visual Basic 不支持的自动化类型

> ID：12209510
> 
> 赞同：4
> 
> 时间：2012-08-31T05:42:08.747
> 
> 标签：visual-studio, vb6, com-interop

基本上，当我尝试使用 VB6 调用 upnp.dll 中的函数时出现此错误，其中 upnp.dll 返回的数据类型不受 VB6 支持。以前，同样的错误发生在不同的函数/变量上，解决方法是在 oleview.exe 中打开 upnp.dll（查看类型库信息）并将所有出现的“Unsigned Long”替换为“Long”然后编译一个删除了“Unsigned”关键字的新TypeLib，这解决了那个senario的问题。

现在，我需要解决相同的问题，但需要使用不同的函数/变量，但问题是，当我在 oleview 的 upnp.dll 的 TypeLib 视图中时，我不知道需要更改或删除哪个变量数据类型。

为了完整起见，我会让你知道这个错误发生在哪里，然后我会向你展示我在修改时遇到问题的 oleview/TypeLib 视图的相关部分。（供您参考，upnp.dll 包含在 windows\system32 中，并且 oleview.exe 随 Windows SDK 工具包一起提供，如果您的计算机上还没有它）。

我正在调用函数`.InvokeAction sActionName, aryIns, aryOuts`，其中 aryIns 和 aryOuts 是这样声明的变体：`Dim aryIns As Variant, aryIns As Variant`- 基本上，我通常声明它，将我需要的任何输入数据放入 aryIns 中，我将获得带有 InvokeAction 调用结果的 aryOuts。好消息是，InvokeAction 将我的一般 Variant 转换为一个适当尺寸的数组，反映为我正在使用的 ActionName 返回的输出项的数量。

关于我收到错误的重点，我在“WAN 连接设备”下的“WanIPConnection”上使用（对于 sActionName）“GetStatusInfo”。我不需要为 aryIns 定义任何项目，因为此调用不需要或不需要任何输入参数，但它提供（返回）3 个项目（结果）并将它们放入 aryOuts。所以 aryOuts 最终成为一个数组，其中包含从索引 0 到 2 的项目（总共 3 个项目）......当我遍历这个 aryOuts 数组时，项目 0 和 1 被打印出来并完美地查看（没有问题）但在第 3 次item (aryOuts(2)) 我得到了上述异常。

基本上，前 2 个参数只是简单的字符串（访问这些没有问题），但 UPnP 人员将第三个参数定义为`Unsigned 4 Byte Integer`（这就是问题所在），VB6 无法解释此数据类型并且不允许我访问此数组项 (aryOuts(2))，但我无法弄清楚我需要修改 TypeLib 的哪一部分，因为 InvokeAction aryOuts 的定义只是在 TypeLib 中声明为 VARIANT*，这是相关部分TypeLib 供您查看（我已经包含了我认为相关的区域，如果您想发布其他区域，请告诉我，我可以这样做）：

```
[
  odl,
  uuid(A295019C-DC65-47DD-90DC-7FE918A1AB44),
  helpstring("IUPnPService Interface"),
  dual,
  nonextensible,
  oleautomation
]
interface IUPnPService : IDispatch {
    [id(0x600209c5), helpstring("method QueryStateVariable")]
    HRESULT QueryStateVariable(
                    [in] BSTR bstrVariableName, 
                    [out, retval] VARIANT* pValue);
    [id(0x600209c6), helpstring("method InvokeAction")]
    HRESULT InvokeAction(
                    [in] BSTR bstrActionName, 
                    [in] VARIANT vInActionArgs, 
                    [in, out] VARIANT* pvOutActionArgs, 
                    [out, retval] VARIANT* pvRetVal);
    [id(0x600209c7), propget, helpstring("property ServiceTypeIdentifier")]
    HRESULT ServiceTypeIdentifier([out, retval] BSTR* pVal);
    [id(0x600209c8), helpstring("method AddStateChangeCallback")]
    HRESULT AddCallback([in] IUnknown* pUnkCallback);
    [id(0x600209c9), propget, helpstring("property Id")]
    HRESULT Id([out, retval] BSTR* pbstrId);
    [id(0x600209ca), propget, helpstring("property LastTransportStatus")]
    HRESULT LastTransportStatus([out, retval] long* plValue);
}; 
```

我之前谈到的 aryOuts() 数组是由声明中的**`[in, out] VARIANT* pvOutActionArgs`**行定义的**`InvokeAction`**（在上面的 TypeLib 中）。基本上，整个数组被定义为一个 VARIANT* （这很好），但我无法访问`pvOutActionArgs`上面定义的数组的第三个元素（索引项号 2），如何围绕这个问题修改 TypeLib？

*作为参考，以及那些感兴趣的人，Hans Passant (@HansPassant) 通过要求我从 oleview.exe 暴露的 upnp.dll TypeLib 中删除 Text 的 Unsigned 部分来帮助我解决类似的情况 - 他帮助我做到了这（以及在以下帖子中生成和编译新 TypeLib (upnp.tbl) 所需的其余步骤：* [标记为受限的函数或接口，或函数使用 Visual Basic 中不支持的自动化类型](https://stackoverflow.com/questions/3965767/function-or-interface-marked-as-restricted-or-the-function-uses-an-automation-t)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-31T08:52:04.643

尝试分配`aryOuts(2)`给`Long`变量 ( `lStatusBits = aryOuts(2)`)。访问 VB6 中的变体应该没有问题`VT_UI4`，除非它阻塞`For Each vElem ...`循环（`vElem`作为变体）或变体分配的变体。您无法在 typelib 中执行任何操作来解决此问题。如果没有其他方法，您可以使用`Call CopyMemory(aryOuts(2), VT_I4, 2)`where `VT_I4`= 3手动更改变体类型

[COM 变体是一种数据结构](http://msdn.microsoft.com/en-us/library/windows/desktop/aa380072(v=vs.85).aspx)，它以一个名为 vartype 的 int16 成员开头，它定义了存储在变量中的数据的类型（`aryOuts(2)`在您的情况下）。

VarType`VT_UI4`用于无符号 int32 值。VB6`Long`被转换为有符号的`VT_I4 = 3`变体。

VarType`VT_UI2`用于无符号 int16 值。VB6`Integer`被转换为有符号的`VT_I2 = 2`变体。

除非您知道自己在做什么，否则修改变量的变体类型可能非常危险。在这种情况下，您可以非常安全地将无符号类型转换为有符号类型，而不会泄漏内存或任何其他副作用。

# android - 可滚动列表弹回顶部[iScroll]，橡皮筋效应？

> ID：12209512
> 
> 赞同：0
> 
> 时间：2012-08-31T05:42:12.977
> 
> 标签：android, html, cordova

在 html5(phonegap) 中开发一个 android 应用程序，我不得不使用一个滚动视图。可以在 html5 中找到任何东西，就像我们在 Java 中一样，所以我正在尝试使用用于`iScroll`滚动目的的库，但是当我向下滚动时它会弹回顶部，我想它被称为橡皮筋效应。我该如何处理这个故障？另外，当我通过拖动向下滚动时，我在 Logcat 中收到警告：

```
 W/webview(2795): Miss a drag as we are waiting for WebCore's response for touch down. 
```

检查我的以下代码，其中列表项正在动态添加，这不应该是问题，IMO 的问题在于 html 本身。

```
<!DOCTYPE html>
<html>
  <head>
    <title>Storage Example </title> 
    <link rel="stylesheet" type="text/css" href="indexCss.css" />
    <style type="text/css" media="all">
    body,ul,li {
        padding:0;
        margin:0;
        border:0;
    }
    </style>

    <script type="text/javascript" charset="utf-8" src="cordova-2.0.0.js"></script>
    <script src="index.js" type="text/javascript" charset="utf-8" >
    </script>

  </head>
  <body>

    <header>
 <input type="text" id="name" placeholder="enter name" />
<input type="button" value="Add" onclick='Add();' />
</header>

<div id="wrapper">
    <div id="scroll-content">

<div id="result"></div>
    </div>
</div>

<footer>
    Some Footer Content 
</footer>

    <script type="text/javascript" src="iscroll.js"></script>

    <script type="text/javascript">

var theScroll;
function scroll() {
    theScroll = new iScroll('wrapper');
}
document.addEventListener('DOMContentLoaded', scroll, true);

</script>

  </body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T21:54:57.910

我解决了这个问题，`height:100%;`从我的包装器中删除了该属性。

`bottom:0;`确保包装纸一直延伸到屏幕底部。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T06:10:28.717

尝试这个：

```
scroll = new iScroll(this, {
    useTransform: false,
    useTransition: true
}); 
```

如果不起作用，请浏览： [https ://groups.google.com/forum/#!topic/iscroll/CMB9d_e5d4Y](https://groups.google.com/forum/#!topic/iscroll/CMB9d_e5d4Y)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-10T18:26:50.003

有同样的问题，经过甜蜜的午夜调试后发现我的包装器由于某种原因正在调整大小，使其高度比手机屏幕大得多。我使用 jquery 移动分页，不知何故它弄乱了 iScroll。这是我解决它的方法：

**HTML**

```
<div id="screen" data-role="page">
    <div data-role="content">
        <div id="list-wrapper">
            <ul>
            ...
            </ul>
        </div>
    </div>

    <div data-role="footer">
    ...
    </div>
</div> 
```

**JS**

```
// the iScroll should be initialized after the page is visible 
// to prevent bug with display:none. If you are not using
// jQuery mobile paging this can be skipped.
$('#screen').on('pageshow', function() {

    // calculate the expected height of the real content wrapper and set it         
    var screenHeight = $('#screen').height();
    var footerHeight = $('#screen [data-role="footer"]').height();
    var realContentHeight = screenHeight - footerHeight;
    $('#list-wrapper').css({'height': realContentHeight + 'px'});

    // create or refresh the iScroll after resizing the wrapper         
    if (myScrollFunction != null ) {
        setTimeout(function () {
            myScrollFunction .refresh();
        }, 100);
    } else {
        setTimeout(function () {
            myScrollFunction  = new iScroll('list-wrapper');
        }, 100);
    }
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-08-06T19:13:50.363

当您有一个`container`div时会出现此问题`wrapper`。解决此问题的方法是将 的高度设置`container`为`99%`.

以下是最终为我解决此问题的 CSS：

```
#productsScreen{ /* my container */
    height: 99%;
    z-index: 1;
    top: 0px;
    left: 0;
    overflow: auto;
}
#productListWrapper{
    background:transparent;
    position:absolute; 
    z-index:1;
    top: 88px;
    bottom:49px; 
    left:0;
    width:100%;
    overflow:auto;
}
#productsListScroller {
    position:absolute; z-index:1;
    -webkit-tap-highlight-color:rgba(0,0,0,0);
    width:100%;
    padding:0;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    -o-box-sizing: border-box;
    box-sizing: border-box;
} 
```

希望有帮助！

# javascript - 检查服务是否关闭

> ID：12209513
> 
> 赞同：1
> 
> 时间：2012-08-31T05:42:15.163
> 
> 标签：javascript

```
var Model = function() {

       function checkStatus(){

          JsonClient.onload = function() {

          };

          JsonClient.onerror = function(e) {

          };

       }

} 
```

我知道当我的请求参数错误或者即使服务也关闭时也会调用错误处理程序。

但是有什么方法可以在发送数据之前首先检查我的服务是否已关闭。

# php - 如果没有从下拉列表中选择值，则允许文本框使用 php、mysql、javascript 添加到 mysql 表

> ID：12209524
> 
> 赞同：0
> 
> 时间：2012-08-31T05:44:04.497
> 
> 标签：php, javascript, jquery, mysql, ajax

嗨，我正在使用 ajax 为国家、州、城市开发三重下拉列表，参考链接是：[http ://roshanbh.com.np/2008/01/populate-triple-drop-down-list-change-options-来自-database-using-ajax-and-php.html 的值](http://roshanbh.com.np/2008/01/populate-triple-drop-down-list-change-options-value-from-database-using-ajax-and-php.html)。它成功工作，但我需要如果一个州在 db 表中没有城市，那么会出现一个新的文本框，并且输入的值存储在 php mysql 中。我正在实现什么编码。请给出一些想法。

代码：

阿贾克斯：

```
<script language="javascript" type="text/javascript">
  function getXMLHTTP() {
    var xmlhttp = false;

    try {
      xmlhttp = new XMLHttpRequest();
    } catch (e) {
      try {
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
      } catch (e) {
        try {
          xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e1) {
          xmlhttp = false;
        }
      }
    }

    return xmlhttp;
  }

  function getState(countryId) {
    var strURL = "findState.php?country=" + countryId;
    var req = getXMLHTTP();

    if (req) {
      req.onreadystatechange = function () {
        if (req.readyState == 4) {
          // only if "OK"
          if (req.status == 200) {
            document.getElementById('statediv').innerHTML = req.responseText;
          } else {
            alert("There was a problem while using XMLHTTP:\n" + req.statusText);
          }
        }
      }

      req.open("GET", strURL, true);
      req.send(null);
    }
  }

  function getCity(countryId, stateId) {
    var strURL = "findCity.php?country=" + countryId + "&state=" + stateId;
    var req = getXMLHTTP();

    if (req) {
      req.onreadystatechange = function () {
        if (req.readyState == 4) {
          // only if "OK"
          if (req.status == 200) {
            document.getElementById('citydiv').innerHTML = req.responseText;
          } else {
            alert("There was a problem while using XMLHTTP:\n" + req.statusText);
          }
        }
      }

      req.open("GET", strURL, true);
      req.send(null);
    }
  }
</script> 
```

形式：

```
<form method="post" action="" name="form1">
<table width="60%" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="150">Country</td>
    <td  width="150"><select name="country" onChange="getState(this.value)">
    <option value="">Select Country</option>
    <option value="1">USA</option>
    <option value="2">Canada</option>
        </select></td>
  </tr>
  <tr style="">
    <td>State</td>
    <td ><div id="statediv"><select name="state" >
    <option>Select Country First</option>
        </select></div></td>
  </tr>
  <tr style="">
    <td>City</td>
    <td ><div id="citydiv"><select name="city">
    <option>Select State First</option>
        </select></div></td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
</form> 
```

findstate.php

```
<?php
  include('config.php');
  $country = intval($_GET['country']);
  $query = "SELECT id,statename FROM state WHERE countryid='$country'";
  $result = mysql_query($query);
?>

<select name="state" onchange="getCity(<?php echo $country?>,this.value)">
  <option>Select State</option>
  <?php while($row=mysql_fetch_array($result)) { ?>
    <option value=<?php echo $row['id']?>><?php echo $row['statename']?></option>
  <?php } ?>
</select> 
```

findcity.php

```
<?php
  include('config.php');
  $countryId = intval($_GET['country']);
  $stateId = intval($_GET['state']);
  $query = "SELECT id,city FROM city WHERE  stateid='$stateId'";
  $result = mysql_query($query);
?>

<select name="city">
  <option>Select City</option>
  <?php while($row=mysql_fetch_array($result)) { ?>
    <option value><?php echo $row['city']?></option>
  <?php } ?>
</select> 
```

我想显示是否在任何州都没有城市，然后会出现一个文本框，并将其值存储到 db。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-31T05:49:49.617

把这个放在**`findcity.php`**文件里面

```
<?php
include('config.php');
$countryId=intval($_GET['country']);
$stateId=intval($_GET['state']);
$query="SELECT id,city FROM city WHERE  stateid='$stateId'";
$result=mysql_query($query);
if(mysql_num_rows($result) == 0) // no cities found
{
  echo '<input type="textbox" name="city" />';
}
else // show select box
{
?>
<select name="city">
<option>Select City</option>
<?php while($row=mysql_fetch_array($result)) { ?>
<option value><?php echo $row['city']?></option>

<?php } ?>
</select>
<?php
 }
 ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:53:27.603

你的`findstate.php`变成这个

```
<?php
include('config.php');
$country=intval($_GET['country']);
$query="SELECT id,statename FROM state WHERE countryid='$country'";
$result=mysqli_query($query);
if(mysqli_num_rows($result)==0):?>
  <input type="text" name="state" value="" />
<? endif; ?>

<select name="state" onchange="getCity(<?=$country ?>,this.value)">
   <option>Select State</option>
   <?php while($row=mysqli_fetch_array($result)): ?>
     <option value=<?= $row['id']?>><?= $row['statename']?></option>
   <?php endwhile; ?>
</select> 
```

同样改变你的`findcity.php`。

**建议**

永远不要`mysql*`再使用`mysqli*`或`PDO`按原样使用`mysql*`。[关联](http://www.php.net/manual/en/function.mysql-fetch-row.php)

# c# - 如何创建具有水晶报表的.Net windows 应用程序设置项目？

> ID：12209527
> 
> 赞同：2
> 
> 时间：2012-08-31T05:44:10.717
> 
> 标签：c#, .net, visual-studio-2010, crystal-reports-2010

我使用使用水晶报表的 Visual Studio 2010 创建了 c# windows 应用程序。[现在，当我在 Google 上搜索了很多以在我的安装程序设置中嵌入水晶报告包时，在将水晶报告包添加到设置](https://stackoverflow.com/questions/4779425/how-to-create-a-net-setup-projec-with-crystal-report-prerequisite)中也提到了这一点。但我决定在客户端机器上安装我的 windows 应用程序后手动安装水晶报表包。

这样做会在安装时出现错误

```
could not load one or more assembly 
```

然后我首先安装了水晶报告包，然后我尝试安装我的应用程序，但这样做给了我错误：

```
Stream Cannot be null 
```

日志如下所示..

```
*** Assembly Binder Log Entry  (8/31/2012 @ 1:14:42 AM) ***

The operation failed.
Bind result: hr = 0x80070002\. The system cannot find the file specified.

Assembly manager loaded from:  C:\Windows\Microsoft.NET\Framework\v4.0.30319\clr.dll
Running under executable  C:\Windows\system32\MsiExec.exe
--- A detailed error log follows. 

=== Pre-bind state information ===
LOG: User = mayu-PC\mayu
LOG: DisplayName = BusinessObjects.Licensing.KeycodeDecoder, Version=13.0.2000.0, Culture=neutral, PublicKeyToken=692fbea5521e1304
 (Fully-specified)
LOG: Appbase = file:///C:/Windows/system32/
LOG: Initial PrivatePath = NULL
LOG: Dynamic Base = NULL
LOG: Cache Base = NULL
LOG: AppName = MsiExec.exe
Calling assembly : (Unknown).
===
LOG: This bind starts in default load context.
LOG: No application configuration file found.
LOG: Using host configuration file: C:\Users\mayu\AppData\Local\Temp\CFGA0C6.tmp
LOG: Using machine configuration file from C:\Windows\Microsoft.NET\Framework\v4.0.30319\config\machine.config.
LOG: GAC Lookup was unsuccessful.
LOG: Attempting download of new URL file:///C:/Windows/system32/BusinessObjects.Licensing.KeycodeDecoder.DLL.
LOG: Attempting download of new URL file:///C:/Windows/system32/BusinessObjects.Licensing.KeycodeDecoder/BusinessObjects.Licensing.KeycodeDecoder.DLL.
LOG: Attempting download of new URL file:///C:/Windows/system32/BusinessObjects.Licensing.KeycodeDecoder.EXE.
LOG: Attempting download of new URL file:///C:/Windows/system32/BusinessObjects.Licensing.KeycodeDecoder/BusinessObjects.Licensing.KeycodeDecoder.EXE.
LOG: All probing URLs attempted and failed. 
```

现在我不知道可能是因为没有设置水晶报告包或任何其他原因。

那么我应该在我的安装项目中包含水晶报表的最佳方法是什么，因为我可以在客户端机器上手动安装水晶报表包？

# c# - 模型的 XNA 方向

> ID：12209531
> 
> 赞同：2
> 
> 时间：2012-08-31T05:44:41.607
> 
> 标签：c#, xna

我无法让模型的方向正确。在这个项目中，用户加载了 3 个 DXF 文件。

*   DXF 1 是由 3dfaces 表示的模型。
*   DXF 2 是 3dpoly，表示相机在左侧行驶的路径。
*   DXF 3 是为迎面而来的交通提供路径的 3dpoly。

前两个数据集在 C#/XNA 开发中得到了正确处理。用户可以使用上下键盘键沿道路行驶。但我在第三个过程中失败了。我无法正确获取迎面而来的车辆的方向。位置还可以，每100米就有一辆面包车，但是方向不对。

最奇怪的是，将模型转换到正确位置和方向的正常方法是使模型位于相机顶部！我哪里做错了？我已经在以下 URL 上提供了源代码，因此您可以查看代码并了解我哪里出错了（zip 包含用于测试的 DXF 文件）：

[http://www.4shared.com/zip/Lk3xmCtO](http://www.4shared.com/zip/Lk3xmCtO)

在此先感谢..凯文。

这是最不正确的部分：

```
Matrix worldMatrix = Matrix.CreateTranslation(VanPos[vi]);
Matrix[] transforms = new Matrix[Van.Bones.Count];
Van.CopyAbsoluteBoneTransformsTo(transforms);
foreach (ModelMesh modmesh in Van.Meshes)
{
foreach (BasicEffect be1 in modmesh.Effects)
{
    be1.World = transforms[modmesh.ParentBone.Index] * worldMatrix; 
```

这导致模型被放置在相机位置。仅使用 CreateTranslation 将模型放置在正确的位置，但方向不正确。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:26:17.413

您永远不会设置方向，这意味着您的东西永远不会旋转。从我放置的一些代码中，这就是我绘制模型网格的方式。

关键点：

*   您需要包含投影和视图矩阵并将它们设置为您的效果。您可以在以下代码中执行此操作。
*   `Orientation`需要创建一个矩阵。有很多方便的功能可以帮助您做到这一点`Matrix.CreateRotationY`
*   矩阵相乘时要注意排序。我相信你已经注意到了这一点，但顺序真的很重要。我倾向于把这个搞砸并摆弄乘法顺序以使事情起作用:)

    ```
    public void Draw(Matrix projection, Matrix view)
    {
        // Copy any parent transforms.
        var transforms = new Matrix[model.Bones.Count];
        model.CopyAbsoluteBoneTransformsTo(transforms);

        foreach (var mesh in model.Meshes)
        {
            // This is where the mesh orientation is set, as well 
            // as our camera and projection.
            foreach (BasicEffect effect in mesh.Effects)
            {
                Matrix world = Orientation; // <- A Matrix that is the orientation
                world.Translation = Position; // <- A Vector3D representing position
                effect.World = transforms[mesh.ParentBone.Index] *
                    world;

                effect.View = view;
                effect.Projection = projection;
            }
            // Draw the mesh, using the effects set above.
            mesh.Draw();
        }
    } 
    ```

# javascript - HTML - 如何在 HTML 页面上创建递增/递减文本框？

> ID：12209548
> 
> 赞同：9
> 
> 时间：2012-08-31T05:45:44.373
> 
> 标签：javascript, jquery, html

如何使用 jquery 或 Javascript 在 HTML 页面中创建递增/递减*文本框...。*![图片如下](../Images/fccc853da3d32439de6a4f5b8e83da9a.png)

而且我想设置最大值和最小值....

我如何做到这一点？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-31T06:15:50.260

简单的 ：）

HTML：

```
<div id="incdec">
    <input type="text" value="0" />
    <img src="up_arrow.jpeg" id="up" />
    <img src="down_arrow.jpeg" id="down" />
</div> 
```

Javascript（jQuery）：

```
$(document).ready(function(){
    $("#up").on('click',function(){
        $("#incdec input").val(parseInt($("#incdec input").val())+1);
    });

    $("#down").on('click',function(){
        $("#incdec input").val(parseInt($("#incdec input").val())-1);
    });

}); 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-08-31T05:49:07.207

你试过了`input type="number"`吗？

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2019-03-30T03:48:55.203

你试一试

```
<input type="number" name="points" step="1">
```

就是这样。在该步骤中，您可以输入所需的任何值。箭头会在点击时移动那么多步。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-31T05:48:22.440

看看这里。我也用过。

[数字上下输入-jquery](http://www.misfitgeek.com/numeric-up-down-input-jquery/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-31T06:08:52.087

我认为您可以使用 jquery ui spinner 。有关演示，请查看[此处的链接](http://btburnett.com/spinner/example/example.html)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-22T05:21:47.127

试试这个微调控件。希望这会帮助你。

[http://www.devcurry.com/2011/09/html-5-number-spinner-control.html](http://www.devcurry.com/2011/09/html-5-number-spinner-control.html)

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2018-03-20T08:25:47.187

## （ - 和 + ）的递增和递减的 JavaScript (JQuery) ##

```
$(document).ready(function () {
$('#cost').w2form ({
name : 'cost',
style : '',
fields : [
          {
            name : 'amount',
            type : 'int'
          }
        ]
});
$("#amount").keydown(function (e) {
var key = e.keyCode;
if (key == 40) {
    if ( $(this).val() != "") {
        $(this).val();
    } else {
        $(this).val("0");
        w2ui['cost'].record[$(this).attr('name')] = "0";
        w2ui['cost'].refresh();
    }
}
});
} 
```

## HTML

```
<html>
<form>
<label>Amount</label>
<input type="text" id="amount" name="amount" style= "width: 140px"/>
</form>
</html> 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-01-31T10:16:16.257

```
function incerment(selector, maxvalue){
    var value = selector.val() != undefined ? parseInt(selector.val()) : 0;
    var max_value = maxvalue != undefined ? parseInt(maxvalue) : 100;
    if(value >= max_value){
     return false;
    } else {
     selector.val(++value);
    }
}
function decrement(selector, minvalue){
    var value = selector.val() != undefined ? parseInt(selector.val()) : 0;
    var min_value = minvalue != undefined ? parseInt(minvalue) : 1;
    if(value <= min_value){
        return false;
    } else {
        selector.val(--value);
    }
}

//MAXIMUM/MINIMUM QUANTITY
    $('#up').click(function(){
        incerment($("#incdec input"));
        return false;
    });
    $('#down').click(function(){
        decrement($("#incdec input"));
        return false;
    }); 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2018-03-12T03:58:34.057

JavaScript（JQuery）的箭头键向上和向下键的开始

```
$("#amount").on('keydown', function (event) {

    //up-arrow
    if (event.which == 38 || event.which == 104) {
        $(this).val((parseInt($(this).val()) + 1));

    //down-arrow
    } else if (event.which == 40 || event.which == 98) {
        $(this).val((parseInt($(this).val()) - 1));
    }
}); 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2018-06-28T03:10:50.100

# JavaScript

```
function forKeyUp(value,e){
e = e || window.event;
 if (e.keyCode == '38' || e.keyCode == '104') {
if(parseInt(value)<1000){
value=(parseInt(value) + 1);
var id = $(e.target).attr('id');
$("#"+id).val(value);
}
}
else if (e.keyCode == '40' || e.keyCode == '98') {
if(parseInt(value)>0){
value=(parseInt(value) - 1);
var id = $(e.target).attr('id');
$("#"+id).val(value);
}
}} 
```

//调用函数

```
$("#amount")..on('keydown', function (event) {
forKeyUp($(this).val(),event);
}); 
```

# php - 将输入数据回显到另一个页面 php

> ID：12209553
> 
> 赞同：0
> 
> 时间：2012-08-31T05:46:14.977
> 
> 标签：php, forms, submit

我在将输入数据从一页显示到另一页时遇到问题

当我们单击提交按钮时，我尝试传输它

这是我的代码，我尝试传输数据

```
function cart() {
    $total = 0;
    foreach($_SESSION as $name => $value) {
        if ($value>0) {
            if (substr($name, 0, 5) == 'cart_'){
                $id = substr($name, 5, (strlen($name)-5));
                $get = mysql_query('SELECT id, name, price FROM menu WHERE id=' .mysql_real_escape_string((int)$id));
                while ($get_row = mysql_fetch_assoc($get)){
                    $sub = $get_row['price'] * $value;
                    echo $get_row['name'].' x '.$value.' @ $'.number_format($get_row['price'], 2).' = $'.number_format($sub, 2).' <a href="cart.php?remove='.$id.'">[-]</a> <a href="cart.php?add='.$id.'">[+]</a> <a href="cart.php?delete='.$id.'">[Delete]</a><br />' ;
                }
            }
            $total += $sub;
        }
    }
    if ($total == 0){
        echo "Your Cart Is Empty";
    }
    else {
        echo "<p>Total : $".number_format($total, 2).'</p>';

        <p>
        <form action="bill.php" method="post">
        <?php paypal_items(); ?>
        <input type="submit" value="submit" />
        </form>
        </p>            
    }
} 
```

我尝试将此行显示到另一个页面

```
 echo $get_row['name'].' x '.$value.' @ $'.number_format($get_row['price'], 2).' = $'.number_format($sub, 2).' <a href="cart.php?remove='.$id.'">[-]</a> <a href="cart.php?add='.$id.'">[+]</a> <a href="cart.php?delete='.$id.'">[Delete]</a><br />' ; 
```

我只是试试这段代码，我得到了错误

比尔.php

```
<?php
echo $get_row['name'].' x '.$value.' @ $'.number_format($get_row['price'], 2).' = $'.number_format($sub, 2);
?> 
```

错误

```
Notice: Undefined variable: get_row in C:\xampp\htdocs\shopping\bill.php on line 2

Notice: Undefined variable: value in C:\xampp\htdocs\shopping\bill.php on line 2

Notice: Undefined variable: get_row in C:\xampp\htdocs\shopping\bill.php on line 2

Notice: Undefined variable: sub in C:\xampp\htdocs\shopping\bill.php on line 2
x @ $0.00 = $0.00 
```

有谁知道怎么做？？？

我只是这个领域的新手......

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T05:52:29.423

然后，如果您正在使用会话，请将该字符串保存到会话中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:52:56.287

如果您想将一些变量从一页带到另一页，请使用会话变量

## 第一个.php

```
session_start();
$_SESSION['variable_name'] = $whatever; 
```

## 第二个.php

检索如下数据

```
session_start();
echo $_SESSION['variable_name']; // return value of $whatever 
```

在您的情况下，您在**bill.php**上发布数据，因此通过 POST 变量获取 bill.php 上的数据

```
print_r($_POST) // return all data 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T06:00:05.210

如果要在另一个页面中显示值，请使用`$_POST,$_GET`而`$_SESSION`不是直接使用变量名。

阅读此内容以获得更好的理解：http://mrarrowhead.com/index.php?page= [php_passing_variables.php](http://mrarrowhead.com/index.php?page=php_passing_variables.php)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-31T06:05:58.047

添加`session_start();`到您的第一个 php 文件的第一行。然后加

```
$target_data = $get_row['name'].' x '.$value.' @ $'.number_format($get_row['price'], 2).' = $'.number_format($sub, 2).' <a href="cart.php?remove='.$id.'">[-]</a> <a href="cart.php?add='.$id.'">[+]</a> <a href="cart.php?delete='.$id.'">[Delete]</a><br />' ;
$_SESSION['target_data'] = $target_data; 
```

在回声之前。然后在您的第二个 php 文件中，再次添加`session_start();`到第一行，您可以回显值，例如；

```
echo $_SESSION['target_data']; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-31T06:08:31.740

如果您尝试保存会话变量以允许它们在页面之间移动，则需要在完成后调用 session_write_close()。

```
<?php
session_start();
$_SESSION['foo'] = 'bar';
session_write_close();
?> 
```

这样做允许您访问设置页面之外的会话数据。

更多信息在这里：[http ://us2.php.net/manual/en/function.session-write-close.php](http://us2.php.net/manual/en/function.session-write-close.php)

# asp.net-mvc - 如何在 MVC4 的 ActionLink 中包含 CSS 类

> ID：12209555
> 
> 赞同：6
> 
> 时间：2012-08-31T05:46:29.547
> 
> 标签：asp.net-mvc, asp.net-mvc-4

我的代码是

```
@Html.ActionLink("test1", "Index", new { Area = "area1", Controller = "controller1" }) 
```

我想在操作链接中包含以下 css 类。

```
 class="rtsLink" 
```

另外，我们可以添加多个 css 类吗？如果是这样，我需要添加另一个 css 类。

```
class="rtsTxt" 
```

更新：

```
<li class="rtsLI" id="Summary"><a href="javascript:void(0);" onclick="javascript:rtsXXX.OnClientTabSelected(this‌​, 0);" class="rtsLink"><span class="rtsTxt">Test</span></a></li> 
```

上面我替换为以下操作链接：

```
<li class="rtsLI" >@Html.ActionLink("test1", "Index", new { Area = "Tools", Controller = "controller1" }, new { @class = "rtsLink rtsTxt"})</li> " 
```

起初css工作正常。但是在使用 Actionlink 时，css 不起作用。谢谢

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-31T05:50:26.717

您可以简单地添加一个新的匿名对象作为第四个参数

```
@Html.ActionLink("User Security", "Index", new { Area = "Tools", Controller = "UserSecurity" }, new { @class = "rtsLink rtsTxt" }) 
```

请注意，该词`class`在 C# 中是保留的，因此您必须在其前面加上`@`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-31T11:49:27.233

既然你有`span`内`anchor`。你可以试试这个。

```
<li class="rtsLI" id="Summary">
   <a href="@Url.Action("Index", new { Area = "Tools", Controller = "UserSecurity" })" 
      class="rtsLink">
       <span class="rtsTxt">User Security</span>
    </a>
</li> 
```

# python - QFileDialog 窗口中没有可见的文件

> ID：12209557
> 
> 赞同：6
> 
> 时间：2012-08-31T05:46:38.167
> 
> 标签：python, pyqt, qfiledialog

我正在使用 pyqt 编写一个简单的代码

在代码中，我调用 a `QFileDialog`，但是当我使用静态函数调用它时一切正常，但是使用普通方法，即使用`dialog.exec_(),`我在文件对话框窗口中看不到任何文件。

只有在输入文件的完整路径后，我才能在文件对话框窗口中看到该文件。请注意，此问题仅在我调用该`FileDialoghandler`函数时出现，如果我不这样做，无论我如何调用`QFileDialog`，一切正常。而且这个问题只在 Linux 上，在 Windows7 上一切正常。我想知道这是 PyQt 错误还是我在这里遗漏了什么？

代码如下：

```
import sys
from PyQt4.QtCore import Qt
from PyQt4.QtGui import *
from PyQt4.QtCore import QAbstractFileEngine
from PyQt4.QtCore import QAbstractFileEngineHandler
from PyQt4.QtCore import QFSFileEngine

class FileDialogHandler(QAbstractFileEngineHandler):
    def create(self,filename):
        if str(filename).startswith(':'):
            return None # Will be handled by Qt as a resource file
        print("Create QFSFileEngine for {0}".format(filename))  
        return QFSFileEngine(filename)

class Example(QMainWindow):

    def __init__(self):
        super(Example, self).__init__()

        self.initUI()

    def initUI(self):      

        self.textEdit = QTextEdit()
        self.setCentralWidget(self.textEdit)
        self.statusBar()

        openFile = QAction(QIcon('open.png'), 'Open', self)
        openFile.setShortcut('Ctrl+O')
        openFile.setStatusTip('Open new File')
        openFile.triggered.connect(self.showDialog)

        menubar = self.menuBar()
        fileMenu = menubar.addMenu('&File')
        fileMenu.addAction(openFile)       

        self.setGeometry(300, 300, 350, 300)
        self.setWindowTitle('File dialog')
        self.show()

    def showDialog(self):
        handler = FileDialogHandler()
        #using QFileDialog.getOpenFileName works fine
        fname = QFileDialog.getOpenFileName(None, 'Open file', '/home','All files (*.*)')
        #dialog = QFileDialog()
        #dialog.setOption(QFileDialog.DontUseNativeDialog,False)
        #if dialog.exec_():
            #fname = dialog.selectedFiles()
        #else:
            #fname = None
        f = open(fname, 'r')        
        with f:        
            data = f.read()
            self.textEdit.setText(data) 

def main():
    app = QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())

if __name__ == '__main__':
    main() 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-13T12:37:55.327

不久前，我在使用 getOpenFilename 时遇到了类似的问题。对我来说，解决方案是将后端从原生更改为 Qt 自己的对话框实现。这可以通过如下所示的扩展调用语法来实现：

```
filename = QtGui.QFileDialog.getOpenFileName(self,
                                             'Open file',
                                             '/home',
                                             'All files (*.*)',
                                             options=QtGui.QFileDialog.DontUseNativeDialog) 
```

在我更改为这种调用语法后，我再也没有遇到任何问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2022-01-13T18:14:40.710

在没有任何 IDE 的情况下从命令提示符运行代码的 Windows 10 中遇到了同样的问题。包括`options=QtGui.QFileDialog.DontUseNativeDialog`确实解决了问题。（使用python 3.10）。例如：

```
self.path_open, _ = QFileDialog.getOpenFileName(self, "Open file", "", "e-documents (*.docx *.pdf)",
                                                options=QFileDialog.DontUseNativeDialog) 
```

# ruby - Webmock 没有正确注册我的请求存根

> ID：12209561
> 
> 赞同：2
> 
> 时间：2012-08-31T05:46:46.013
> 
> 标签：ruby, rspec, mocking, request, stubbing

我正在注册一个请求存根，如下所示：

```
url = "http://www.example.com/1"
stub_request(:get, url).
  with(body: "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project>\n    <id>1</id>\n</project>\n",
       headers: {
         'Accept' => 'application/xml',
         'Content-type' => 'application/xml',
         'User-Agent' => 'Ruby',
         'X-Trackertoken' => '12345'
       }).
  to_return(status: 200, body: '', headers: {}) 
```

出于某种原因，当我运行时`bundle exec rspec spec`，我的规格说明该请求尚未注册。注册的存根是这个，

```
stub_request(:get, "http://www.example.com/1").
  with(body: "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project>\n    <id>1</id>\n</project>\n",
       headers: {
         'Accept' => 'application/xml',
         'Content-type' => 'application/xml',
         'User-Agent' => 'Ruby',
         'X-Trackertoken' => '12345'
       }) 
```

*请注意，该`to_return`部分丢失*

我尝试用`body`空字符串替换标头，请求存根已正确注册，但我的规范仍然会失败，因为他们期望正文中的值不是空字符串。因此，为 body 赋值非常重要。

在我的规范中，我调用了这个方法：

```
def find(id)
  require 'net/http'
  http = Net::HTTP.new('www.example.com')
  headers = {
    "X-TrackerToken" => "12345",
    "Accept"         => "application/xml",
    "Content-type"   => "application/xml",
    "User-Agent"     => "Ruby"
  }
  parse(http.request(Net::HTTP::Get.new("/#{id}", headers)).body)
end 
```

关于为什么会发生这种情况的任何想法？

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-31T08:27:59.577

问题是您的存根将 GET 请求与非空正文匹配`<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project>\n <id>1</id>\n</project>\n`，但是当您发出请求时，您没有包含任何正文，因此它找不到存根。

我想你对这里的身体是什么感到困惑。`with`方法参数中的主体是您正在发出的请求的主体，而不是*响应**的*主体。您可能想要的是这样的存根：

```
url = "http://www.example.com/1"
stub_request(:get, url).
  with(headers: {
         'Accept' => 'application/xml',
         'Content-type' => 'application/xml',
         'User-Agent' => 'Ruby',
         'X-Trackertoken' => '12345'
       }).
  to_return(status: 200,
            body: "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project>\n    <id>1</id>\n</project>\n",
            headers: {}) 
```

# linux - 使用 GDB 和 Info Reg 命令不成功。似乎找不到 ebp、eip 和 esp 值

> ID：12209568
> 
> 赞同：0
> 
> 时间：2012-08-31T05:47:25.140
> 
> 标签：linux, gdb, overflow, buffer, eip

我遇到了 GDB 的问题。我现在正在研究缓冲区溢出，我需要运行命令`$Info reg`来查找有关的信息`ebp`，但我没有从其中任何一个中得到任何结果。我对它们中的每一个都进行了尝试，但只能奏效。`eip``esp``Info reg $name``ebp`

基本上是这样的：

```
(gdb) i r
rax            0x7fffffffe180   140737488347520

rbx            0x0  0

rcx            0x7fffffffe570   140737488348528

rdx            0x7fffffffe1a6   140737488347558

rsi            0x6  6

...

...

...

es             0x0  0

fs             0x0  0

---Type <return> to continue, or q <return> to quit---+

gs             0x0  0 
```

和

```
(gdb) info reg $ebp

ebp            0x41414141   1094795585 
```

但

```
(gdb) info reg $eip

Invalid register `eip' 
```

如何获取这些内存部分的值？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T05:56:14.573

`eip`amd64 arch中没有调用reg

让我展示一下`bp`//是什么`ebp`，`rbp`一个数据寄存器在 amd64 架构上包含 64 位：

```
64 ---------------------------- 32 ---------- 16 ---- 8 ---- 0
| <--------------------------- rbp ------------------------> |
                                 | <--------- ebp ---------> |
                                               | <--- bp --> | 
```

因此您可以通过不同的名称访问相应的位。

但是您总是`rip`作为一个整体访问，因为没有理由访问 的低位`instruction pointer`，因此amd64 arch 中没有`eip`/寄存器`ip`

# android - 从视频中捕获帧

> ID：12209570
> 
> 赞同：2
> 
> 时间：2012-08-31T05:47:33.977
> 
> 标签：android, video, video-streaming, frame, video-capture

我想实现将进行视频录制的功能，但不是保存视频，而是我想保存该录制中的视频帧。怎么做

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T07:11:14.440

如果目标是创建摄像机类的 jpeg，在这里将没有多大帮助。它捕获视频或 jpeg。不做任何转换。

如果您想将完整的视频转换为一组图像，那么最简单的方法是使用 ffmpeg。安装它。创建视频后，在捕获视频并将其转换为图像后运行命令。

```
ffmpeg -i input -s widthxheight -f image2 out%05d.jpg 
```

这将从视频中创建 out00000.jpg out00001.jpg 等等。您可以使用 -r 选项每隔一帧或第 10 帧生成一次，以此类推。

# windows - 用 NSIS 安装程序中的安装程序名称重命名文件？

> ID：12209579
> 
> 赞同：1
> 
> 时间：2012-08-31T05:48:57.307
> 
> 标签：windows, installation, nsis

我正在使用 NSIS 安装程序。我需要将安装路径中定义的文件更改为相同的安装程序名称。

我尝试使用重命名功能，例如：

```
Rename "$INSTDIR\app.exe" "$INSTDIR\installname.exe" 
```

但我需要自动安装程序名称。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:21:08.610

看看[常量](http://nsis.sourceforge.net/Docs/Chapter4.html#4.2.3)，`$EXEFILE`是文件名，还是`$EXEPATH`完整路径。如果您想要在源文件中使用的名称属性，它是`$(^Name)`...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T06:26:54.090

从[FileFunc 标头](http://forums.winamp.com/showthread.php?s=&threadid=203228&goto=lastpost)中，您可以结合[`GetExeName`](http://nsis.sourceforge.net/GetExeName)宏[`GetFileName`来](http://nsis.sourceforge.net/NSIS_Beyond_a_Traditional_Installation)获取安装程序的名称：

```
!include "FileFunc.nsh"
OutFile test.exe

section main

    ${GetExeName} $R0
    ${GetFileName} "$R0" $R1

    MessageBox MB_OK "My installer's exe is $R1"
sectionend 
```

现在你可以自己测试了。

# c# - WaitOne() 不在 ManualResetEvent 中等待

> ID：12209580
> 
> 赞同：1
> 
> 时间：2012-08-31T05:49:00.030
> 
> 标签：c#, winforms

我认为它不在 run.waitOne(); 等待

在处理代码行时，假设我想通过单击暂停按钮暂停这些代码行。它应该再次等待我单击相同的暂停以恢复相同的线程。但它根本不等待。任何想法来实现这一点?

```
 ManualResetEvent run=new ManualResetEvent(false);
  bool flag=true;

  StartButton_Click(object sender,EventArgs e)
   {

       ThreadStart ts=new ThreadStart(startprocess);
       Thread th=new Thread(ts);
       th.Start();
   } 

  private void StartProcess()
     {
            while(true)

         {

               if (parentform != null)
              {
                  TestForm(parentform);
                  parentform = null;
               }

              else
             {
                    if (a[0] == true)
                    {
                        value[0] = method1();//method1 return a double value
                        Thread.Sleep(500);
                    }
                    if (a[1] == true)
                    {
                        value[1] =method2();
                        Thread.Sleep(500);
                    }
                    if (a[2] == true)
                    {
                        value[2] = method3();
                        Thread.Sleep(500);
                    }
                    if (a[3] == true)
                    {
                        value[3] = method4();
                        Thread.Sleep(500);
                    }
                    if (a[4] == true)
                    {
                        value[4] =method5();
                        Thread.Sleep(500);
                    }
                    if (a[5] == true)
                    {
                        value[5] = method6();
                        Thread.Sleep(500);
                    }

                    run.WaitOne();  
                    timer1.Stop();
                    DateTime now = DateTime.Now;
                    string datetime = Convert.ToString(now);
                    database.InsertTest(datetime,value[0], value[1], value[2], value[3], value[4],value[5]);           

            }     
        }

    }

     private void Pausebutton_Click(object sender, EventArgs e)
    {

            if (flag)
            {
                timer1.Enabled = true;
                run.Set();
                flag = false;                      

            }
            else
            {
                timer1.Enabled = false
                run.Reset();
                flag = true;

            }

    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-31T05:51:32.223

你有`Reset`错误`Set`的方式 - 如果它已经在等待，你试图*让它*等待......否则，你正在设置事件，说“继续”。

我还要补充一点，依赖线程的状态是一个坏主意——你应该跟踪你是否在*逻辑上*暂停，并相应地设置/重置事件。否则，您会遇到尴尬的情况，即快速连续两次单击按钮*可能会*暂停然后取消暂停，或者*可能*只是暂停两次。

# android - 同时使用 layout-land 和 onConfigurationChanged()

> ID：12209581
> 
> 赞同：1
> 
> 时间：2012-08-31T05:48:59.787
> 
> 标签：android, rotation, onconfigurationchanged

我只想在设备旋转后更改布局。但我发现 onConfigurationChanged() 必须使用 setContentView 再次调用 onCreate() 并使用名为 *_land.xml 的单独布局

```
if(getActivity().getWindowManager().getDefaultDisplay().
getRotation() == Surface.ROTATION_0)
view = inflater.inflate(R.layout.fragment_layout, null);
else view = inflater.inflate(R.layout.fragment_layout_land, null); 
```

项目太大，有很多代码要修复如果再次 onCreate 没有完成（）。

我希望有人帮忙。

*谢谢你。*

-> *onConfigurationChanged 概念是保持布局我认为*

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-03T14:46:10.917

*这不是没有兴趣*

onConfigurationChanged() 不能与 layout-land 文件夹的机制一起使用。那是因为回调的概念是保持布局。所以使用该方法的Activity应该Inflate Landscape Layout。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-05-04T09:37:09.947

只需在方法 setContentView(R.layout.activity_main); 结束时调用

```
public void onConfigurationChanged(Configuration newConfig) {
    setContentView(R.layout.activity_main);
} 
```

所以你可以像往常一样使用文件夹方法

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T05:54:06.287

您不需要自己调用横向布局，如果您遵循 android 文件夹结构，它将自动调用。像：

假设您的布局名称是“main.xml”，那么

在 layout 文件夹中保留一个 main.xml 文件，在 layout-land 文件夹中保留一个。所以在landscape模式的情况下，系统会自动从layout-land文件夹中选择layout。

如果您有任何疑问，请查看[此链接。](http://www.how-to-develop-android-apps.com/how-to-make-a-landscape-layout-in-android/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-31T06:06:00.237

您只需在 res 文件夹中的 layout-land 文件夹（默认情况下由您创建）中创建一个 main.xml，其名称与您在 layout 文件夹中的 main.xml 名称相同。但是在线性布局标记中进行更改，即使其水平而不是位于 layout-land 文件夹中的 main.xml 的垂直。

毕竟，您只需调用`SetContentView(R.layout.main);`. 看看神奇，你的应用程序会工作。还要在 Android Manifest 文件中进行更改，即在您的活动标记中进行注释`android:screenOrientation="portrait"`行。

# javascript - javascript中的“描述”关键字

> ID：12209582
> 
> 赞同：81
> 
> 时间：2012-08-31T05:49:06.200
> 
> 标签：javascript, jquery, cordova, spine.js

所以我是javascript的新手，我一直在浏览别人的代码，我发现了这个..

```
describe('deviceready', function() {
    it('should report that it fired', function() {
        spyOn(app, 'report');
        app.deviceready();
        expect(app.report).toHaveBeenCalledWith('deviceready');
    });
}); 
```

我不明白的是：`describe`关键字究竟是做什么的？

信息：
- 它是一个**phonegap**应用程序
- 我们正在使用*spin.js*和*jQuery*库

* * *

## 回答 #1

> 赞同：106
> 
> 时间：2012-08-31T05:52:34.407

Describe 是[Jasmine](http://jasmine.github.io/)测试框架中的一个函数。它简单地描述了由“it”函数枚举的测试用例套件。

也用于[mochajs](https://mochajs.org/)框架。

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2012-08-31T05:51:13.187

`Describe`不是 Javascript 的一部分，它是您使用的库（即 Jasmine）中定义的函数

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2016-10-28T12:44:17.253

根据[茉莉花文档](https://jasmine.github.io/tutorials/your_first_suite)

> 该`describe`功能用于对相关规范进行分组，通常每个测试文件在顶层都有一个。字符串参数用于命名规范集合，并将与规范连接以形成规范的全名。

# php - PHP 获取 URL 作为变量

> ID：12209587
> 
> 赞同：0
> 
> 时间：2012-08-31T05:49:26.933
> 
> 标签：php, html, css, .htaccess, mod-rewrite

我注意到许多网站使用以

```
website.com/index.php?var="value"&var2="value2" 
```

我想知道如何才能做到这一点，而不是让它成为 URL 的结尾，而是：

```
website.com/value/value2 
```

然后拥有它，而不是在服务器根文件夹中搜索“/value/value2”，而是打开*index.php*，然后在*PHP*编码中有一个函数可以获取*URL*是什么。无论是作为字符串“/value/value2”还是数组“value”“value2”都无关紧要，只是获取这些变量的某种方式。这样一来，*URL*就可以被清理并且很容易分辨出您在网站中的位置。

此外，如果有这样做的方法，那么*style.php可能与**index.php*位于同一文件夹中（但有一个*PHP 标头*将其设置为输出*CSS*），它将在*index.php*的头部调用使用`<link rel="stylesheet" type="text/css" url="style.php" />`或任何语法，以获得相同的变量，以便可以根据*URL更改**css*样式。

 ** * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T05:53:32.380

您需要重新编写 URL。如果您使用的是 apache，则必须在`.htaccess`文件中添加更改。检查[这个](http://www.addedbytes.com/articles/for-beginners/url-rewriting-for-beginners/)和这个[手册](http://httpd.apache.org/docs/2.0/misc/rewriteguide.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T05:54:11.533

您可以在 .htaccess 文件中使用重写 url

检查这个。

```
RewriteEngine on
RewriteRule ^([^/]+)/([^/]+)/([^/]+) /?var=$1&var2=$2 [L] 
```

这包括三个部分：

1.  RewriteRule 指定这是用于重写的规则（与条件或其他指令相反）。命令是将第 2 部分重写为第 3 部分。
2.  这部分是一个正则表达式，只有当 URL 匹配这个正则表达式时，规则才会运行。在这种情况下，它说 - 查找字符串的开头，然后是一堆非斜线字符，然后是一个斜线，然后是另一束非斜线字符。然后又是一堆非斜线字符，然后是一个斜线，然后是另一束非斜线字符。括号表示括号内的部分将被存储以供将来参考。
3.  最后，这部分说以这种格式重写给定的 URL。$1 和 $2 是指捕获和存储的部分。

请参阅[初学者指南 mod_rewrite](http://www.workingwith.me.uk/articles/scripting/mod_rewrite)。同样的[教程](http://net.tutsplus.com/tutorials/other/a-deeper-look-at-mod_rewrite-for-apache/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T05:55:34.323

如果使用 apache，启用 mod_rewrite 并使用 .htaccess

```
RewriteEngine on

RewriteCond %{SCRIPT_FILENAME} !-f
RewriteCond %{SCRIPT_FILENAME} !-d
RewriteRule ^(.*)$ /index.php [L] 
```

如果使用 nginx，请使用 nginx_rewrite_module [http://nginx.org/ru/docs/http/ngx_http_rewrite_module.html](http://nginx.org/ru/docs/http/ngx_http_rewrite_module.html)

在您的 index.php 解析 $_SERVER['REQUEST_URI'] 变量中，它将包含请求的 url。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-31T06:17:39.160

这可以很容易地实现。问号之后的所有内容都称为 $_GET 变量。所以你可以调用 $_GET['var'] 或 $_GET['var2'] 来获取它们的值。

例如。我有网址：[http ://www.example.com?username=username&password=password](http://www.example.com?username=username&password=password)

现在我可以采用该网址并使其成为：

```
<?php
$user = $_GET['username'];
$pass = $_GET['password'];
$newUrl = 'http://www.example.com/' . $user . '/' . $pass;
echo '<a href="' . $newUrl . '">Link text here</a>';
?> 
```

这会产生一个基于 $_GET 变量的格式化 url：[http ://www.example.com/username/password](http://www.example.com/username/password)*

# jquery - Facebook 以字符串形式返回数据，应为 json 数据

> ID：12209590
> 
> 赞同：0
> 
> 时间：2012-08-31T05:50:11.583
> 
> 标签：jquery, facebook, facebook-fql

我正在使用 FQL 从 Facebook 图形 API 获取数据。当我通过 jquery 向 Facebook 发出获取请求时，我在回调函数中获取响应数据但是，当我尝试处理它时，我发现响应被视为一个字符串（我无法将其视为字典进行迭代），但萤火虫日志显示以下 json 数据。

```
console.log(response); 
```

结果：

```
{
  "data": {
    "fql_search_result": [{
      "aid": "xxxxx",
    }, {
      "aid": "xxxxx",
    }, ]
  }
} 
```

当我这样做时，我收到错误消息说响应没有属性数据

```
console.log(response.data) 
```

为什么数据被视为字符串而不是字典？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-02T13:29:06.493

您是否在通过 jQuery 发出的请求中将 dataType 指定为“json”？

```
dataType:'json', 
```

或者，您可以尝试对 AJAX GET 请求使用 jQuery 速记函数，默认情况下其 dataType 为“json”。

```
jQuery.getJSON("https://graph.facebook.com/fql?q=SELECT+name+FROM+user+WHERE+uid+%3D+me+%28%29&access_token=<access_token>", function(data){
    console.log(data);
    console.log(data.data[0].name);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:51:59.803

尝试使用 JSON.parse 在 json 对象中解析它，然后访问您的值

```
var YourJsonObject = JSON.parse("Your String"); 
```

# linux - 比较linux中三个以上文件的内容

> ID：12209591
> 
> 赞同：0
> 
> 时间：2012-08-31T05:50:18.913
> 
> 标签：linux

在 Linux 中比较两个或三个文本文件的内容我有**diff** & **diff3**命令。

但是，如果我需要一次比较**3 个以上的文件**怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T07:06:13.133

您可以编写一个简单的脚本来比较您想要的所有文件。

例子：

在包含所有文件的目录中

```
for i in `ls | grep -v [file_want_compare]` ; do diff [file_want_compare] $i; done 
```

# javascript - gmaps4rails - 将标记放到新位置

> ID：12209597
> 
> 赞同：1
> 
> 时间：2012-08-31T05:51:30.867
> 
> 标签：javascript, ruby-on-rails, ruby-on-rails-3, gmaps4rails, markers

我有从带有 gps 数据的照片中提取 gps 信息的应用程序。当我想通过编辑操作更新位置时，我想拖动一个标记，替换它并保存新位置。当我点击地图时，旧标记仍然存在，所以有两个标记。一是旧的，二是新的，可拖动。我在 javascript 中更新表单 ID，但未保存新位置。当我在javascript中检查数组的长度时，那里什么都没有。但是如果我看到页面的来源，数组中的标记很少。我错过了什么吗？

谢谢

属性控制器.rb

```
def edit
  @property = Property.find(params[:id])
  @json = Property.find(params[:id]).to_gmaps4rails
end

def update
  @property = Property.find(params[:id])
  if @property.update_attributes(params[:property])
    redirect_to @property, notice: 'Property was successfully updated.' 
  else
    render action: "edit"
  end
end 
```

编辑.html.erb

```
<%= render 'form' %>

<div id="map_canvas">
 <%= gmaps("map_options" => { "zoom" => 15, "auto_adjust" => true, "auto_zoom" => false},
      "markers" => {"data" => @json}) %>
</div>

<% content_for :scripts do %>
<script type="text/javascript" charset="utf-8">

    var markersArray = [];

    // On click, clear markers, place a new one, update coordinates in the form
    Gmaps.map.callback = function() {
        google.maps.event.addListener(Gmaps.map.serviceObject, 'click', function(event) {
          clearOverlays();
          placeMarker(event.latLng);
          updateFormLocation(event.latLng);
        });
    };
    // Update form attributes with given coordinates
    function updateFormLocation(latLng) {
        $('#property_latitude').val(latLng.lat());
        $('#property_longitude').val(latLng.lng());
        $('#property_gmaps_zoom').val(Gmaps.map.serviceObject.getZoom());
    }
    // Add a marker with an open infowindow
    function placeMarker(latLng) {
        var marker = new google.maps.Marker({
            position: latLng, 
            map: Gmaps.map.serviceObject,
            draggable: true
        });
        markersArray.push(marker);
        // Set and open infowindow
        var infowindow = new google.maps.InfoWindow({
            content: '<div class="popup"><h2>Awesome!</h2><p>Drag me and adjust the zoom level.</p>'
        });
        infowindow.open(Gmaps.map.serviceObject,marker);
        // Listen to drag & drop
        google.maps.event.addListener(marker, 'dragend', function() {
            updateFormLocation(this.getPosition());
        });
    }
    // Removes the overlays from the map
    function clearOverlays() {
      if (markersArray) {
        for (var i = 0; i < markersArray.length; i++ ) {
          markersArray[i].serviceObject.setMap(null);
          //markersArray[i].setMap(null);
        }
      }
      markersArray.length = 0;
    }
</script><% end %> 
```

_form.html.erb

```
<%= simple_form_for @property,  :html => {:multipart => true}  do |f| %>

<%= f.error_notification %>

<div class="form-inputs">
  <%= f.input :name, :label => "Název", :input_html => { :class => "input-xlarge"} %>
  <%= f.input :description, :label => "Popis", :input_html => { :class => "input-xlarge", :rows => "6"} %><br />
  <%= f.hidden_field :latitude %>
  <%= f.hidden_field :longitude %>
  <%= f.input :date, :label => "Datum", :as => :date %>
  <%= f.file_field :photo %>
</div>

<div class="form-actions">
  <%= link_to 'Zpět', properties_path, :class => 'btn' %>
  <%= f.button :submit, :class => 'btn-primary' %>
</div>
<% end %> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T07:16:48.217

您使用的`markersArray`不是由 gem 的 javascript 维护的。

您应该简单地使用`Gmaps.map.markers`，它包含所有标记信息。

# c# - Oracle 存储过程的分层对象

> ID：12209599
> 
> 赞同：2
> 
> 时间：2012-08-31T05:51:39.487
> 
> 标签：c#

下面是我的 DTO 结构

```
public class Config_DTO
{
    public string NAME { get; set; }
    public string TITLE { get; set; }
    public string TYP { get; set; }
    public string RMKS { get; set; }
    public string PROC { get; set; }
    public string ORGL_USER { get; set; }
    public DateTime ORGL_STAMP { get; set; }
    public string UPDT_USER { get; set; }
    public DateTime UPDT_STAMP { get; set; }
    public IEnumerable<CommonConfig_DTO> COLUMNS_DATATYPE { get; set; }
}

public class CommonConfig_DTO
{
    public string COLUMNS { get; set; }
    public string DATA_TYP { get; set; }
} 
```

如何将这些值传递给后端程序？我尝试将其转换`<CommonConfig_DTO>` `COLUMNS_DATATYPE`为数组，但没有成功。

# wordpress - 子文件夹中的另一个 Wordpress 安装

> ID：12209600
> 
> 赞同：6
> 
> 时间：2012-08-31T05:51:47.137
> 
> 标签：wordpress

我的 Wordpress 安装有问题。我服务器的根文件夹有一个工作的 wordpress 应用程序。然后，我在根目录中创建了另一个文件夹并安装了另一个 wordpress。我的文件夹结构是这样的

*   根
    *   wp-管理员
    *   wp-内容
    *   …………
    *   新的
        *   wp-管理员
        *   wp-内容
        *   …………

所以，基本上，我有两个 wordpress 安装，一个在根目录中，另一个在子文件夹中。转到[http://example.com](http://example.com)，主要的 wordpress 应用程序可以正常工作。去[http://example.com/new](http://example.com/new)，它也可以工作。问题是，单击新应用程序中的帖子会将我重定向到主应用程序。单击带有链接[http://example.com/new/post](http://example.com/new/post)的帖子会显示错误页面。但是该帖子存在于新应用程序中。

每个应用程序都有自己的数据库

感谢您的回复！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T06:00:07.927

你的永久链接有问题。检查您的永久链接或更新您的新数据库，到目前为止，您的数据库从旧数据库中获取值...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T06:13:51.830

转到您的仪表板并选择设置 -> 常规

然后确保`WordPress Address (URL)`并`Site Address (URL)`正确指向您的`new`文件夹，即`http://example.com/new`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-27T14:22:13.417

*   转到您的 Phpmyadmin 面板。

*   导航到您的第二个 wordpress 数据库并打开名为“ `options`”的表。

*   在“ `option_name`”列找到包含数据“ `siteurl`”和“ `home`”的两行。

*   检查`option_value`这两行的“”列。

*   它们应该包含您的第二个 wordpress 安装的 url。

像`http://example.com/new`

# objective-c - 目标 C (id)

> ID：12209605
> 
> 赞同：0
> 
> 时间：2012-08-31T05:51:59.150
> 
> 标签：objective-c, initialization

Objective-C的（id）方法是否仅用于初始化`alloc`？

```
NSString *stringC = @"My World"; 
NSString *sample = [[NSString alloc] initWithString:stringC]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T05:59:26.457

Objective-C 的 init 方法仅适用于新分配的实例，原因如下：

init 方法允许重新分配`self`并返回与关联所做的不同的指针`alloc`（这就是为什么您**总是**将变量分配为 init 的返回）。这意味着在先前初始化的对象上调用 init 可能会给你一个指向新内存的指针，这会产生一些问题。

首先，如果您不将新指针分配给您的变量，那将毫无意义或更糟。其次，任何指向“旧”对象的附加指针现在都是“悬空的”，这将变得令人讨厌。

就`@"foo"`构造而言，它大致类似于 C 中的 const 字符串（NSStrings 是不可变的，顺便说一句），但它将是指向 NSString 实例的指针，而不是指向 in-volatile char 的指针，你不需要给`init`它。我不确定你是否错误地遗漏了星号，但 @"" 确实会产生一个*指向*NSString 的指针，因此该行需要星号，就像下一行一样。

# 身份证备注

id 是 Objective-C`void *` *对对象*的特殊处理，它本质上告诉编译器两件事：

1.  这是一个指针
2.  被指向的东西是一个“对象”

#2 有一个典型的含义：*你可以向它发送消息*

与 void * 类似，您可以在需要其他对象类型且编译器不会抱怨的情况下将类型转换为 (id) 的东西传递出去。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T05:54:51.667

最好说在 init* 方法之前，你应该分配。

例如，

```
NSString * test = [NSString stringWithFormat:@"hello world"]; 
```

也返回一个 ID，但不是在“alloc”调用之后。

# node.js - 在 Express 中使用 Consolidate 和 Mustache 中的布局视图

> ID：12209607
> 
> 赞同：2
> 
> 时间：2012-08-31T05:52:11.077
> 
> 标签：node.js, express, mustache

我刚开始使用 Express 浏览 Node，最后根据[Consolidate JS Github 页面](https://github.com/visionmedia/consolidate.js)上的说明，让 Consolidate JS 正常工作，以使用 Mustache 作为模板视图系统。

Mustache 正在正确加载，但我现在想知道如何在模板的渲染中包含布局文件。默认的 Jade 系统会在 layout.jade 文件中加载 .render 方法的内容。我只是想知道如何做同样的事情，但要使用 Mustache。任何帮助是极大的赞赏！

代码：

**index.js**

```
 exports.index = function(req, res){
    res.render('index', { title: "Work pl0x?" });
 }); 
```

**index.mustache**

# 欢迎来到 {{title}}

我只希望 index.mustache 内容出现在下面代码的“{{content}}”部分（layout.mustache）。我怎样才能做到这一点？

```
 <!DOCTYPE html>
 <html xmlns="http://www.w3.org/1999/xhtml">
 <head>
 <meta charset="UTF-8" />
 <title>Project Name | {{title}}</title>
 <link href="/stylesheets/style.css" rel="stylesheet" />
 </head>

 <body>

     {{content}}

 </body>
 </html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-10-10T13:29:51.167

获得这种行为（某种）的一种方法是：

```
exports.index = function(req, res){
  res.render('layout', { title: "Work pl0x?", partials: { content: "index" });
}); 
```

然后在你的 layout.html 中这样写

```
<body>
  {{>content}}
</body> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-28T16:57:48.923

自 3.0 起，布局的概念已从 express 中删除。这是包含更多信息的[参考链接。](https://github.com/visionmedia/express/wiki/Migrating-from-2.x-to-3.x)

# .net - 在 wcf 客户端中动态设置端点地址（使用 net tcp 绑定）

> ID：12209610
> 
> 赞同：3
> 
> 时间：2012-08-31T05:52:37.947
> 
> 标签：.net, wcf, wcf-binding, nettcpbinding

所以我对 WCF 并不太熟悉，我在谷歌上搜索的所有东西都没有帮助我实现我所需要的。对不起，如果这是一个愚蠢的问题:)

基本上有一个服务器应用程序，其服务通过 WCF（net tcp 绑定）公开。我编写了一个新的控制台应用程序，我需要调用该服务。所以我可以通过为我们拥有的代理项目添加一个 dll 并添加一堆配置文件（例如 WCFClientBindings、WCFClientEndPoints）来实现这一点。如果我使用定义的端点，那么我可以调用这样的代码：

```
using (var partyProxy = new PartyControllerProxy())
            {
                // execute server method 
                partyProfile = partyProxy.GetLatestPartyProfile(context, parsedParameters.PartyId);
            } 
```

但是，应用程序应该能够调用作为命令行参数传入的主机名。

因此，虽然我的应用程序使用定义的端点：

```
<client>
  <endpoint
  name="IPartyControllerEndpoint"
  address="net.tcp://localhost:46000/ServiceInterface/PartyController.svc"
  binding="customBinding" bindingConfiguration="DefaultNetTcpBindingConfiguration"
  contract="CompanyA.Service.Product.Core.Contracts.IPartyController"
  behaviorConfiguration="DefaultEndpointBehavior">
  </endpoint>
</client> 
```

我需要能够将 localhost 主机名更新为可能的其他内容。我希望安全不会绊倒我:)

我看到的示例似乎通过传入“动态”绑定和地址来实例化客户端/代理，但我们的代理类不接受这些。在调用“代理”类之前有没有办法更新端点的地址（在运行时）？我见过的唯一其他示例涉及实例化一个新的 ServiceHost - 但这听起来不太适合客户端:)

谢谢！

**编辑 -**好的，这里的语法似乎很好用。这与我接受的答案有点不同，但这种方法是要走的路:)

```
using (ChannelFactory<IPartyController> factory = new ChannelFactory<IPartyController>("IPartyControllerEndpoint"))
        {
            EndpointAddress address = new EndpointAddress(String.Format("net.tcp://{0}/ServiceInterface/PartyController.svc", parsedParameters.HostName));
            IPartyController channel = factory.CreateChannel(address);

            partyProfile = channel.GetLatestPartyProfile(context, parsedParameters.PartyId);
            ((IClientChannel)channel).Close();
        } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-31T06:22:32.907

您可以创建一个 ChannelFactory。

除了您的标准客户端，WCF WSDL 还将为客户端提供一个接口类。

```
EndpointAddress address = new EndpointAddress("http://dynamic.address.here");
        using (ChannelFactory<IPartyControllerChannel> factory = new ChannelFactory<IPartyControllerChannel>("IPartyControllerEndpoint", address))
        {

            using (IPartyControllerChannel channel = factory.CreateChannel())
            {
                channel.GetLatestPartyProfile(context, parsedParameters.PartyId);
            }
        } 
```

# oracle - 如何获取 TimesTen IMDB 中的所有缓存组名称？

> ID：12209611
> 
> 赞同：0
> 
> 时间：2012-08-31T05:52:44.810
> 
> 标签：oracle, timesten

**我们可以从cachegroups**命令中获取所有缓存组的名称及其状态。

是否存在任何系统/用户表，我们可以从中查询缓存组名称？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T14:22:48.967

有关*缓存组*的信息，请查看**SYS.CACHE_GROUP**的文档。

有关*缓存表*的信息，请查看**SYS.TABLES**的文档。

两者都在文档“**系统表和视图参考**”中。

# apache - ApacheBench 如何遵循重定向

> ID：12209612
> 
> 赞同：4
> 
> 时间：2012-08-31T05:52:47.493
> 
> 标签：apache

我使用 AB（ApacheBench），版本 2.3。

我正在尝试使用基本身份验证测试“http://localhost/myPage”。

当我使用像IE这样的网络浏览器时没有任何问题

apache 的日志消息显示 HTTP 响应代码更改为 401->301->200。

它说我的http请求已成功完成。

但是当我使用 AB 时，结果是不同的。

AB 说请求已完成，但 Apache 的日志显示状态已停止在 301。

现在，我的问题是如何让 AB 跟随重定向 301。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-03-04T06:39:34.317

根据我的研究 AB 不遵循重定向。我没有检查源代码，但我做了相当多的测试和谷歌搜索。我的测试涉及运行 AB 测试和检查访问日志。我能够使用 wget 获得重定向。

有一次，我放弃了 AB 并安装了**siege** ，有关详细信息，请参阅[http://www.joedog.org/siege-home/ 。](http://www.joedog.org/siege-home/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T04:14:57.340

原来“localhost/myPage”不是正确的路径。我应该在 URL 的末尾添加一个“/”，例如“localhost/myPage/”。现在 AB 遵循重定向 301。

# clearcase - 在 Clear Case 配置规范中访问环境变量

> ID：12209613
> 
> 赞同：1
> 
> 时间：2012-08-31T05:52:51.560
> 
> 标签：clearcase, config

是否可以在明文中访问配置规范中的环境变量。

我有这个代码：

```
element /folder/... /main/current_branch/LATEST 
```

我希望设置我的开发，以便我可以通过简单地设置一些环境变量来更新分支。我想要这样的东西可以工作吗？

```
element /folder/... /main/$current_branch/LATEST 
```

其中 $current_branch 应该返回该环境变量中设置的当前分支。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T06:02:08.387

不，我从未见过基于环境变量的配置规范。
我查看了[config_spec 手册页](http://publib.boulder.ibm.com/infocenter/cchelp/v7r0m0/index.jsp?topic=/com.ibm.rational.clearcase.cc_ref.doc/topics/config_spec.htm)，[编写了配置规范](https://publib.boulder.ibm.com/infocenter/cchelp/v7r1m0/index.jsp?topic=/com.ibm.rational.clearcase.cc_ms_admin.doc/r_mstrshp_rqst_config_spec.htm)和“[配置规范的工作原理](http://publib.boulder.ibm.com/infocenter/cchelp/v7r0m0/index.jsp?topic=/com.ibm.rational.clearcase.cc_proj.doc/c_bcfg_hwcfgwrk.htm)”：没有人提到这种可能性。

对于动态视图，我看到脚本根据环境变量动态修改配置规范，使用[`cleartool setcs`](http://publib.boulder.ibm.com/infocenter/cchelp/v7r0m0/topic/com.ibm.rational.clearcase.cc_ref.doc/topics/ct_setcs.htm)（因为使用动态视图刷新几乎是瞬时的）。

注意：不要忘记您`current_branch`可能并不总是直接从`/main`. 我更喜欢使用以下语法：

```
 element /folder/... .../my_branch/LATEST 
```

为了选择`my_branch`，而不依赖于其直接的“父”分支（即使在基本 ClearCase 中，[没有真正的“父”分支](https://stackoverflow.com/a/12144222/6309)）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-31T06:04:12.340

AFAIK，这是不可能的。

我处理这个问题的方法是拥有我（自动）填写的模板。但我也使用单独的视图；视图是一次性的，我会定期重建我的视图（每周，每两周，有时一天几次，如果我需要确保构建的清洁度）。

我会向您展示我的脚本，但它们的数量很多，它们彼此之间以及与我们拥有的工作环境相当错综复杂地交织在一起（多个但重叠的 VOB 用于许多主要版本中的每一个）产品，其中包含 CM 提供的配置规范的某些部分和自定义序言，以识别我正在处理的内容）。我们已经使用 ClearCase 大约 18 年了。

最终结果是一个错误修复分支的配置规范，如下所示：

```
# @(#)$Id:243260.jleffler.toru.cs,v 1.1 2011/08/30 15:23:02 jleffler Exp $
#
# Config Spec for Bug 243260 - Blah, blah, blah, blah

element * CHECKEDOUT
element * .../TEMP.243260.jleffler/LATEST
mkbranch -override TEMP.243260.jleffler

#time 26-Jul-2009.00:00:00UTC-08:00

element /vobs/main_vob/...  /main/LATEST
element /vobs/other_vob/...        dist.1.00 -nocheckout

include /atria/cspecs/product/1.23/product-1.23.4
#include /atria/cspecs/product/1.16/product-1.16.8

element * /main/LATEST 
```

注释掉的时间戳和包罗万象的规则之间的位由 CM 提供。时间戳上方的位是分支的自定义（TEMP.243260.jleffler - 将其标识为临时分支，它的错误修复以及谁在做这项工作）。该模板实际上列出了来自 CM 的大约 10 个不同的配置规范，我只是删除了不相关的那些。视图名称基于错误编号、我的登录名和创建它的机器 ( `toru`)。我已经伪装了其余的大部分内容，但它基于我今天早些时候创建的错误 cspec。我的`bug.view`脚本获取错误编号、描述、视图工作存储的路径以及我需要创建分支的 VOB，然后自动设置所有内容。（而且我仍然很古老，可以使用 RCS 来控制我的 cspecs。）

我的一些观点持续了很长时间（按名称）。例如，当前版本参考视图将在该版本受支持的 5 年内有效。在此期间它将被重建数百次，但名称保持不变：`prod-1.23-ref.jleffler.toru`. 因此，随着时间的推移，cspec 会发生变化，因为需要进行不同的工作，但基本的 cspec 是三行 - CHECKEDOUT，包括标准 CM 提供的配置文件和 LATEST。

# javascript - 如何在实时网页中用 mailto 链接替换电子邮件地址？

> ID：12209628
> 
> 赞同：1
> 
> 时间：2012-08-31T05:54:31.213
> 
> 标签：javascript, google-chrome-extension, firefox-addon

想象一下：您遇到一个网页，上面写着“只需向 user@example.com 发送消息”，但要实际发送电子邮件，您需要突出显示地址，然后将其剪切并粘贴到新撰写窗口的收件人字段中您选择的电子邮件客户端。

显然，如果它只是一个 mailto: 链接，生活会更轻松，因此您可以单击它并自动创建一条新消息。如何构建将电子邮件地址转换为可点击的 mailto: 链接的扩展程序？

我本来想问是否有一个扩展来为未链接的 Twitter @username 提及启用类似的功能，但我认为这个电子邮件地址问题会是一个更简单的情况。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-31T09:36:56.383

~~用于`innerHTML`替换电子邮件~~-**不**，这会破坏页面，特别是因为删除了事件侦听器并且还替换了属性。

递归循环遍历所有节点：

*   **以相反的顺序循环**，以防止在修改 DOM 时发生冲突。
*   对于每个项目，检查它的[`nodeType`](https://developer.mozilla.org/en-US/docs/DOM/Node.nodeType)价值。
    *   如果`.nodeType === 1`（元素），再次调用该函数（递归）。
    *   如果`.nodeType === 3`（文本节点）：
        1.  使用正则表达式和[`exec`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/RegExp/exec)方法来查找*一个*电子邮件地址。使用结果的`.index`属性可以知道电子邮件地址的起始位置，并`result[0].length`知道地址的长度。
        2.  使用节点的[`splitText`](https://developer.mozilla.org/en-US/docs/DOM/Text.splitText)方法将文本节点分成三部分。
        3.  创建一个`<a>`元素。
        4.  将电子邮件的文本节点（上一个文本节点的第二个）附加到此锚点。它会自动从文档中删除。
        5.  在第三个节点之前插入此链接。

## 演示

不是 chrome 扩展，但它显示了 chrome 扩展的行为方式：http: [//jsfiddle.net/ckw89/](http://jsfiddle.net/ckw89/)

## Chrome 扩展程序

（正则表达式基于[MongoEngine 的`EmailField`模式](https://github.com/hmarr/mongoengine/blob/master/mongoengine/fields.py#L129)）：

### `script.js`

```
 // Initiate recursion
 wrapLink(document.body);

 function wrapLink(elem) { // elem must be an element node
     var nodes = elem.childNodes
       , i = nodes.length
       , regexp = /([-!\x23$%&'*+\/=?^_`{}|~0-9A-Z]+(\.[-!\x23$%&'*+\/=?^_`{}|~0-9A-Z]+)*|^"([\x01-\x08\x0b\x0c\x0e-\x1f!\x23-\\[\\]-\x7f]|\\[\x01-011\x0b\x0c\x0e-\x7f])*")@(?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\.)+[A-Z]{2,6}/i
       , node, emailNode, a, result;
     while (node = nodes[--i]) {
         if (node.nodeType === 1) {
             // Skip anchor tags, nested anchors make no sense
             if (node.nodeName.toUpperCase() !== 'A')
                wrapLink(node);
         } else if (node.nodeType === 3) {
             // 1: Please note that the regexp has NO global flag,
             //    and that `node.textContent` shrinks when an address is found
             while (result = regexp.exec(node.textContent)) {
                 // 2: Contact <SPLIT> me@example.com for details
                 node = node.splitText(result.index);

                 // 2: Contact <SPLIT>me@example.com<SPLIT> for details
                 node = node.splitText(result[0].length);

                 // me@example.com
                 emailNode = node.previousSibling

                 // 3\. Create link
                 a = document.createElement('a');
                 a.href = 'mailto:' + result[0];

                 // 4: Append emailNode
                 a.appendChild(emailNode);

                 // 5: Insert before
                 elem.insertBefore(a, node);
             }
         }
     }
 } 
```

当用作[内容脚本](http://developer.chrome.com/extensions/content_scripts.html)时，此脚本将立即生效，因为它与页面的唯一交互是 DOM。为了完整起见，这是[`manifest.json`](http://developer.chrome.com/extensions/manifest.html)文件的内容：

```
{
    "name": "Turns email addresses in `mailto:`s",
    "version": "1",
    "version_version": 2,
    "content_scripts": [{
        "matches": ["*://*/*"],
        "js": ["script.js"]
    }]
} 
```

## 业绩通知

当前脚本替换了活动文档中的所有节点。考虑在操作之前将根节点（例如`<body>`）移动到[文档片段](https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment)。

# jquery - 在 jquery validate 中替换 equalTo() 方法

> ID：12209634
> 
> 赞同：1
> 
> 时间：2012-08-31T05:54:56.837
> 
> 标签：jquery, validation, jquery-validate

我现在正在使用**jQuery Validate Plugin**并且遇到了一些问题。

我的html：

```
<div class="card">
    <div class="item">
        <span class="label"><b class="red">*</b>CardNo:</span>
        <input class="BankCardNo" name="BankCardNo" type="text" value=""/> 
    </div>
    <div class="item">
        <span class="label"><b class="red">*</b>Confirm CardNo:</span>
        <input class="ConfirmCardNo" name="ConfirmCardNo" type="text" value=""/>
    </div>
</div>
<div class="card">
    <div class="item">
        <span class="label"><b class="red">*</b>CardNo:</span>
        <input class="BankCardNo" name="BankCardNo" type="text" value=""/> 
    </div>
    <div class="item">
        <span class="label"><b class="red">*</b>Confirm CardNo:</span>
        <input class="ConfirmCardNo" name="ConfirmCardNo" type="text" value=""/>
    </div>
</div> 
```

我正在制作*银行卡管理页面*。一次可以添加多张卡片。
我想让每张卡单独验证，但`equalTo`方法只接受元素 id,name,attr

如

```
$("#myForm").validate({
  rules: {
    "Password": {
      required: true,
    },

    "ConfirmPassword": {
      required: true
      equalTo: '#Password'
    }
  },

  errorElement: "div"
}); 
```

这是验证插件添加规则，非常漂亮。
所以我只想要这样的所有验证码。这是主要问题。

如果我写下面这样的代码，它找不到正确的 CardNo ......

```
$('.card').find('.ConfirmCardNo').rules('add', {
  required: true,
  equalTo: '.CardNo'
}); 
```

我如何达到我的目的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T06:03:56.813

你可以这样做

```
var $elems = $('.card');

(function fetch(i) {
    if(i >= $elems.length) return;  // no elems left

    var $elem = $elems.eq(i);

    $($elem).find('.ConfirmCardNo').rules('add',{ 
        required:true, 
        equalTo:$($elem).find('.CardNo')
    });

    fetch(i + 1);  // next one

  })(0);  // start with first elem 
```

或者如果您只想使用一个插件

您可以遍历所有卡片 div 并根据它们的值制定规则

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-17T16:00:46.857

你可以试试这个，比如选择器

```
$("#registerForm").validate({
    rules:{
        name:{
            required:true,
            email:true
        },
        password:{
            required:true,
            minlength:6,
            maxlength:12
        },
        cfmPassword:{

            equalTo:$('#registerForm').find('#password'),
            minlength:6,
            maxlength:12
        }

    },
    errorPlacement: function( error, element ) {
        error.insertAfter( element.parent() );
    }
}); 
```

# objective-c - 将 Sybase UltraLite Db 集成到我的代码中

> ID：12209635
> 
> 赞同：1
> 
> 时间：2012-08-31T05:55:21.153
> 
> 标签：objective-c, ios, database, xcode, sybase

我是ios开发新手。我想在我的系统中创建一个本地 Sybase Ultralite 数据库并

想要在我系统中的本地 Ultralite db 上执行插入、删除、更新。我去了

通过许多样本，但我没有得到任何适当的信息。用于在那里集成 SQLite 数据库

有许多循序渐进的方法很容易遵循，但对于 Ultralite 则没有。因为我是一个

初学者我想一步一步地在我的系统中创建一个简单的本地 Ultralite 数据库和

通过我的代码修改它。我真的非常需要这个。我正在使用 Ultralite db 因为

我的数据库有多个用户，他们正在更新的数据将反映在服务器中

还。我不认为在 SQLite 中，它提供了这种同步机制。据我所知

听说它只是用作本地数据库有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:35:34.383

SQLite（或 Core Data）绝对是 iOS 上最常见的 SQL 接口。但是你是对的，它本身不提供任何内置的、集成的同步机制。

关于 iOS 上的 Ultralite，你看过[Ultralite iOS 教程页面](http://dcx.sybase.com/index.html#1201/en/ulc/ulc-iphone-tutorial.html)吗？这不是很多，而是一个开始。

# c# - 在不更改原始 RowState 的情况下对数据集中的数据表进行排序

> ID：12209637
> 
> 赞同：1
> 
> 时间：2012-08-31T05:55:34.863
> 
> 标签：c#, sorting, datatable, dataset

我有一个数据集，其中有 2 个表可用。这些表是在加载页面时从数据库填充的。现在考虑我的情况。当页面加载时，这两个数据集表都填充了数据库中的数据。

表 1：1 行的项目主表（主表）
表 2：5 行的项目详细信息（子表 - 绑定在 GridView 中）

如果我对“项目详细信息”表什么都不做，那么我的值为`MyDataset.Tables["ProjectDetailTable"].GetChanges(DataRowState.Modified)`NULL。

但是，如果我从 UI 将新数据行添加到“项目详细信息”表中，我将获得的值`MyDataset.Tables[TableName].GetChanges(DataRowState.Modified)`是添加了新行的数据表。

在 UI 中，当用户从 UI 添加新数据行时，我想对“项目详细信息”表进行排序。所以我做了这样的代码，并在添加新数据行时创建了方法。

```
private void SortProjectDetailTable(ref DataSet ds)
{
    DataView dv = new DataView(ds.Tables["ProjectDetailTable"]);
    DataTable dtTemp = new DataTable("ProjectDetailTable");
    dv.Sort = " DATE DESC ";
    dtTemp = dv.ToTable().Copy();

    if (ds.Tables.Contains("ProjectDetailTable"))
        ds.Tables.Remove("ProjectDetailTable");

    ds.Tables.Add(dtTemp);
} 
```

此方法完美地对数据表进行排序。但是当我尝试获取“ `MyDataset.Tables["ProjectDetailTable"].GetChanges(DataRowState.Modified)`”的值时，我得到它 NULL 而“ `MyDataset.Tables["ProjectDetailTable"].GetChanges(DataRowState.Added)`”的值是具有 6 行的 DataTable。

其实我想要这样

*   `MyDataset.Tables["ProjectDetailTable"].GetChanges(DataRowState.Modified)`值应为“UI 中的 1 个新添加行”
*   `MyDataset.Tables["ProjectDetailTable"].GetChanges(DataRowState.Added)`值应该是“NULL”，因为我在页面加载事件中从数据库中获取了 5 行

最后，问题是我想在不影响数据集中行的原始状态的情况下对数据集中的数据表进行排序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T06:05:58.850

```
you can use another dataset for new rows for UI and then sort it
after copy it in your dataset 
```

# android - Android 进度条监听器

> ID：12209642
> 
> 赞同：2
> 
> 时间：2012-08-31T05:56:10.530
> 
> 标签：android, progress-bar

无论如何都知道进度条何时达到最大值。就像一个监听器然后可以插入 ProgressBar 并让我们知道进度条处于最高级别？

亲切的问候

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-08-31T07:24:54.460

没有直接的方法可以做到这一点。一种解决方法可能是对 ProgressBar 进行自定义实现并覆盖 setProgress 方法：

```
public MyProgressBar extends ProgressBar
{
   @Override
   public void setProgress(int progress)
   {
       super.setProgress(progress);
       if(progress == this.getMax())
       {
           //Do stuff when progress is max
       }
   }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-12-01T21:34:56.810

我认为最干净的方法就是将其添加到您的代码中：

```
 if (progressBar.getProgress() == progressBar.getMax()) {
     // do stuff you need
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-12-23T21:16:31.990

如果您需要`onProgressChanged`-`SeekBar`创建自定义进度（Kotlin）：

```
class MyProgressBar : ProgressBar {

    private var listener: OnMyProgressBarChangeListener? = null

    fun setOnMyProgressBarChangeListener(l: OnMyProgressBarChangeListener) {
        listener = l
    }

    constructor(context: Context?) : super(context)
    constructor(context: Context?, attrs: AttributeSet?) : super(
        context,
        attrs
    )

    constructor(
        context: Context?,
        attrs: AttributeSet?,
        defStyleAttr: Int
    ) : super(context, attrs, defStyleAttr)

    override fun setProgress(progress: Int) {
        super.setProgress(progress)
        listener?.onProgressChanged(this)
    }

    interface OnMyProgressBarChangeListener {
        fun onProgressChanged(myProgressBar: MyProgressBar?)
    }

} 
```

例如在你的片段中：

```
 progress_bar?.setOnMyProgressBarChangeListener(object :
            MyProgressBar.OnMyProgressBarChangeListener {
            override fun onProgressChanged(myProgressBar: MyProgressBar?) {
                val p = progress_bar.progress
                // do stuff like this
                if (p != 100) {
                    percentCallback?.changePercent(p.toString()) // show animation custom view with grow percents
                } else {
                    shieldView.setFinishAndDrawCheckMark() // draw check mark
                }
            }
        }) 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2020-08-25T13:48:18.443

我认为总的来说你不应该这样做。是否只有一种有效的情况需要您收听进度条进度？我的意思是，通常情况是相反的：您根据某事设置进度条进度，而不是相反，因此您需要跟踪该某事的进度，而不是听一个视图（视图可能存在也可能不存在）方式）。

# android - 在 Android 库中使用 AdMob

> ID：12209648
> 
> 赞同：0
> 
> 时间：2012-08-31T05:56:49.347
> 
> 标签：android, admob, android-library

我有一个库项目，我将其用作 2 个独立应用程序的引擎。我可以将所有 AdMob 内容保留在库中，还是必须为每个应用单独制作？另外，存储 AdMob ID 的最佳位置在哪里？现在我在 strings.xml 中有它，但我不知道它是否需要保密。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T20:37:32.600

AdMob AdViews 需要添加到每个应用程序的布局中。除非您的库构建布局，否则您可能需要在每个应用程序中包含一些 AdMob 代码。您可能希望在每个应用程序中保留所有 AdMob 代码，除非两个应用程序之间存在共同的实现，例如设置广告请求的相同方式或相同的 AdListener 实现。

发布者 ID 不是那么私密的数字。当您的应用请求广告时，可以在 LogCat 中找到它。

# c# - 基于先前排序的排序

> ID：12209651
> 
> 赞同：7
> 
> 时间：2012-08-31T05:57:39.027
> 
> 标签：c#, algorithm, sorting

我正在尝试根据“排序图”对 ID 列表进行排序，“排序图”是一个元组数组，`(ID1, ID2, timestamp)`用于确定哪些 ID 应在其他 ID 之前排序。以下是规则：

*   `ID1`应该先排序`ID2`。
*   时间戳可用于打破与较旧时间戳的较新时间戳的联系。例如，给定排序键`(C, A, 1/1/1900), (C, B, 1/1/2000)`然后`B`在之前排序`A`。
*   可能有循环，例如`(A, B, 1/1/1950), (B, C, 1/1/1980), (C, A, 1/1/1900)`。时间戳可用于打破循环，将循环中的旧时间戳记录从排序映射中删除，直到循环消失
*   如果排序图中不存在 ID，则将其排序在排序图中存在的任何 ID 之后

示例：给定排序图`(C, A, 1/1/1900), (C, B, 1/1/2000)`和`(A, B, C, D)`要排序的列表，排序后的输出将是`(C, B, A, D)`。

把这些规则变成算法让我很困惑。这是我到目前为止所拥有的：

1.  从数据库中获取最新的排序图。对于每对唯一的 ID，我最多会获得一条记录。

2.  从排序图中删除循环。**如何？还是在第 4 步中简单地忽略循环是否更容易？**

3.  转换内存中的排序图以获得最佳性能。例如，构建一个哈希表，其键是排序映射中的每个唯一 ID，这样我就可以快速找到包含特定 ID 的所有排序映射行。

4.  使用通用二进制排序库对我的 ID 数组进行排序，该库使用接受任何两个 ID`ID1`和`ID2`参数的自定义比较函数。比较函数：

    一个。查找包含`ID1`或`ID2`使用第 3 步中的哈希表的所有排序映射条目。

    湾。如果我在排序图中已经有一条包含`ID1`和的记录`ID2`，请停下来——我们知道哪个应该是第一个！

    C。如果在排序图中既没有找到 ID1 也没有找到 ID2，则为平局。返回一个确定性的任意结果（例如，较低的 ID 获胜）。

    d。如果一个 ID 在排序图中但另一个不在，请停止。找到的应该首先排序。

    e. 如果我们到达这里，两个 ID 都在排序图中，但在排序图中没有直接比较可用。**怎么办？**

性能不是一个大问题，因为排序图的最大大小低于 20K 行，并且被排序的最大 ID 数低于 30。

有想法吗？

FWIW，我们将使用 .NET[`List<T>.Sort(Comparison<T>)`](http://msdn.microsoft.com/en-us/library/w56d4y5z.aspx)在 C# 中进行排序，但底层算法显然与语言和平台无关。

* * *

如果你很好奇，这里是这个算法的现实需求：

我们公司为送货司机构建移动应用程序，他们每天访问他们负责的 100-150 个地点中的大约 20 个地点。每天的位置列表是根据每个位置的库存动态分配的。库存低的地点获得新库存的交付，而仍然有足够库存的地点不被访问。

司机可以按任何顺序自由地访问地点，但他们通常每天都会采取类似的路线（例如，早上交通不便时访问城镇南部的地点，然后在交通繁忙时访问城镇北部的地点南）。

我们选择不使用自动确定最有效行车路线的 3rd-party 路由软件。相反，我们发现让司机选择路线会更好，因为路线软件很难受到诸如“该建筑物的装卸码头通常仅在早上 7 点之前才有空”或“需要签署送货收据的人早早离开”等限制条件。星期五”，这对交货时间表有很大影响。

无论如何，我们希望使用司机的历史选择，按照司机上次访问相同地点的相同顺序对每天的行程进行排序。这将为驾驶员提供与他的喜好相匹配的每天精心安排的行程，除非在特殊情况下，否则他无需手动重新安排时间表。这将每天为驾驶员节省一两分钟，随着时间的推移而增加。

每个历史行程实际上都是这样的列表（ID1，ID2，ID3，...，IDN，时间戳），但作为存储数百个过去时间表的替代方案，我认为分解每个 N 机器历史行程会更容易成对机器。这意味着我最多必须存储 N*N-1 个元组，因为较新的排序总是会将较旧的排序排除在排序映射之外。如果这是一个糟糕的简化，请告诉我。;-)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-01T09:43:22.370

您要查找的内容称为[拓扑排序](http://en.wikipedia.org/wiki/Topological_sorting)。使用该搜索词，您可能会找到非常好的资源。

在您的特定领域中存在一种复杂情况：循环（因为驱动程序随着时间的推移表现不一致）。您需要打破依赖循环这一事实是正确的，否则拓扑排序将失败。

您还需要打破所有长度大于两个的循环。

让我们将 ID-map 视为图形：ID（地点）是节点。地图中的条目是边（从地点 ID1 到地点 ID2）。一个简单的方法是：

```
while true
 allCycles = getListOfAllCycles();
 if (allCycles.length == 0) break;
 breakNode = chooseBreakNode(allCycles); //defined later
 deleteBreakNodeFrom(allCycles);

chooseBreakNode:
 chose the node which has been driven to the least //node is not important
 if ambiguous: chose the node in the dependency graph which is present in the highest number of cycles //breaks multiple cycles at once
 if ambiguous: chose the node which is in the longest cycle
 if ambiguous: pick an arbitrary node 
```

可能我没有`chooseBreakNode`完全正确。这是一种启发式方法，您可以根据自己的需要进行调整。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T06:55:38.370

我将提出一种*替代*方法，但如果我误解了业务需求，请告诉我。

有一个像 (DriverId, LocationId, Priority) 这样的表，用于存储每个驱动程序位置的相对优先级。

每当您需要处理已完成的行程时，从列表底部（最后访问的位置）开始，并为每个位置运行以下算法，沿列表向上：

*   如果该位置的优先级*尚未*大于其下方位置的优先级，则 newPriority = priorityBelow + 1。（如果下方没有任何内容，priorityBelow = 0）

处理完列表后，将优先级重新归一化为 1,2,3...（通过使最低优先级 = 1，次低优先级 = 2，依此类推）

然后，当您需要订购新的行程时，您只需按照该司机的相对优先级值来订购位置。

你考虑过这种方法吗？

* * *

**编辑：**在下面的每个评论中添加示例代码。

> 给定 4 个历史行程：ABCD（最新）、ACBE、CBDF、CBDFA（最旧），我将如何对新行程 ABCDEF 进行排序？

```
static Dictionary<string, int> Priorities = new Dictionary<string, int>();

static void Main(string[] args)
{
    var itineraries = new string[][]{   
        new string[] { "C", "B", "D", "F", "A" },
        new string[] { "C", "B", "D", "F" },
        new string[] { "A", "C", "B", "E" },
        new string[] { "A", "B", "C", "D" } };

    //process past itineraries
    foreach (var itinerary in itineraries)
        ProcessItinerary(itinerary);

    //sort new itinerary
    string[] newItinerary = { "A", "B", "C", "D", "E", "F" };
    string[] sortedItinerary = newItinerary.OrderByDescending(
        x => Priorities.ContainsKey(x) ? Priorities[x] : 1).ToArray();

    Console.WriteLine(String.Concat(sortedItinerary));
    Console.ReadKey();
}

static void ProcessItinerary(string[] itinerary)
{
    itinerary.Reverse().Aggregate((below, above) =>
    {
        int priBelow = Priorities.ContainsKey(below) ?
            Priorities[below] : Priorities[below] = 1;

        if (!(Priorities.ContainsKey(above) &&
            Priorities[above] > priBelow))
            Priorities[above] = priBelow + 1;

        return above;
    });

    //normalize priorities
    // (note: running in reverse so that if priorities tie, 
    //  the older location has higher priority)
    int i = Priorities.Count;
    foreach (var pair in Priorities.OrderByDescending(x => x.Value))
        Priorities[pair.Key] = i--;
} 
```

这将打印出：`ABCDFE`

# python - 具有相同 RabbitMQ 代理后端进程的多个 Celery 项目

> ID：12209652
> 
> 赞同：18
> 
> 时间：2012-08-31T05:57:44.433
> 
> 标签：python, rabbitmq, celery

如何使用**两个不同的 celery 项目**，它们使用来自**单个 RabbitMQ 安装**的消息。

通常，如果我为它们使用不同的 rabbitmq，这些脚本可以正常工作。但是在生产机器上，我需要为他们共享相同的 RabbitMQ 后端。

注意：由于某些限制，我无法合并现有项目中的新项目，因此它将是两个不同的项目。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-08-31T11:18:11.720

RabbitMQ 能够创建称为虚拟主机或虚拟主机的虚拟消息代理。每一个本质上都是一个带有自己队列的 mini-RabbitMQ 服务器。这使您可以安全地将一个 RabbitMQ 服务器用于多个应用程序。

`rabbitmqctl add_vhost`命令创建一个虚拟主机。

默认情况下，Celery 使用**/** default vhost：

> 芹菜工人--broker=amqp://guest@localhost//

但是您可以使用任何自定义虚拟主机：

> 芹菜工人--broker=amqp://guest@localhost/myvhost

**例子**：

```
rabbitmqctl add_vhost new_host
rabbitmqctl add_vhost /another_host 
```

> 芹菜工人--broker=amqp://guest@localhost/new_host
> 
> 芹菜工人--broker=amqp://guest@localhost//another_host

# android - 我可以动态保存图像并在布局中使用它吗？

> ID：12209655
> 
> 赞同：2
> 
> 时间：2012-08-31T05:58:48.557
> 
> 标签：android

我有一个小问题，是否可以在每次通过 Internet 启动应用程序时动态获取图像，然后该图像可用于在 UI 上显示（通过 xml 文件）请让我知道这是否可以实现在 android 和任何示例代码中。感谢和问候。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:07:24.627

在这种情况下，最好的方法是通过 HTTP GET 加载图像，将其存储在`Bitmap`对象中并以编程方式注入到`ImageView`布局中定义的元素中。

你不能覆盖资源图像，所以你不能使用`@drawable`.

在这里，您有`loadBitmap`通过 url 加载图像并将其存储在的方法`Bitmap`：[`How to load an ImageView by URL in Android?`](https://stackoverflow.com/a/2472175/223386)

接下来是将其注入`ImageView`：

```
ImageView image = (ImageView) findViewById(R.id.image);
Bitmap bitmap = loadBitmap("http://www.android.com/images/logo.png");
image.setImageBitmap(bitmap); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T06:25:37.180

不可能通过 XML。

如果当时没有可用的 Internet 访问，我也建议使用安慰剂位图。下载时使用 AsyncTask。

```
new GetAndSetBitmap.execute(url)

private class GetAndSetBitmap extends AsyncTask<String, Void, Bitmap>
{
   protected Bitmap doInBackground(String... urls)
       {
          Bitmap bitmap = loadBitmap(url[0]);
          // Used the loadBitmap from other answer. Anything goes wrong 
          // load a local resource with the same dimensions.
          return bitmap;
       }
    @Override
       protected void onPostExecute(Bitmap bm)
       {
         yourImageView.setImageBitMap(bm);
       }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T09:48:45.233

伙计们找到了更好的解决方案

```
try {
  ImageView i = (ImageView)findViewById(R.id.image);
  Bitmap bitmap = BitmapFactory.decodeStream((InputStream)new URL(imageUrl).getContent());
  i.setImageBitmap(bitmap); 
} catch (MalformedURLException e) {
  e.printStackTrace();
} catch (IOException e) {
  e.printStackTrace();
} 
```

# javascript - 如何将不受信任的用户提交的 JavaScript 内容沙箱化？

> ID：12209657
> 
> 赞同：32
> 
> 时间：2012-08-31T05:58:59.003
> 
> 标签：javascript, iframe, sandbox, same-origin-policy

我需要在我的网站上提供用户提交的脚本（有点像[jsfiddle](http://jsfiddle.net)）。我希望脚本以安全的方式在访问者浏览器上运行，与提供它们的页面隔离。由于代码是用户提交的，因此不能保证其可信。

现在我能想到三个选项：

*   **在不同域的 iframe 中提供用户提交的内容**，并依赖同源策略。这将需要设置一个额外的域，如果可能的话我想避免。我相信这就是 jsfiddle 的做法。该脚本仍然会造成一些损害，例如更改`top.location.href`，这不太理想。[http://jsfiddle.net/PzkUw/](http://jsfiddle.net/PzkUw/)
*   **使用[沙盒属性](http://www.whatwg.org/specs/web-apps/current-work/multipage/the-iframe-element.html)**。我怀疑这在浏览器中没有得到很好的支持。
*   **在提供脚本之前对其进行消毒**。我宁愿不去那里。

上面还有其他解决方案或建议吗？

**更新**

如果我怀疑第一个选项是最好的解决方案，**那么除了更改顶部窗口位置之外，恶意脚本还能做什么，我该如何防止这种情况发生？**我可以根据静态代码分析来操作或拒绝某些脚本，但考虑到可以访问对象的方式数量以及一般静态分析 javascript 的难度，这很难[。](http://www.adsafe.org/)至少，它需要一个成熟的解析器和一些复杂的规则（一些，但我怀疑不是全部，其中一些存在于 JSLint 中）。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-09-25T14:49:28.127

创建一个定义良好的消息接口，并将 JavaScript Web Worker 用于您想要沙箱的代码。[HTML5 网络工作者](http://www.w3schools.com/html/html5_webworkers.asp)

Web Workers 无权访问以下 DOM 对象。

*   窗口对象

*   文档对象

*   父对象

因此他们无法重定向您的页面或更改其中的数据。

您可以创建模板和定义良好的消息传递界面，以便用户可以创建 Web Worker 脚本，但您的脚本将对被操纵的内容拥有最终决定权。

**编辑**Jordan Gray 的评论插入了一个似乎可以完成我上面描述的 JavaScript 库。[https://github.com/eligrey/jsandbox](https://github.com/eligrey/jsandbox)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-23T02:31:17.520

一些可能对您的应用程序有帮助的工具的想法 - 它们从两个不同的方向解决问题：Caja 将不受信任的 JavaScript 代码编译为安全的东西，而 AdSafe 定义了可以安全使用的 JavaScript 子集。

# 卡哈

[卡哈](http://code.google.com/p/google-caja/)

> Caja 编译器是一个工具，可以让第三方 HTML、CSS 和 JavaScript 安全地嵌入到您的网站中。它支持嵌入页面和嵌入应用程序之间的丰富交互。Caja 使用对象能力安全模型来支持广泛的灵活安全策略，以便您的网站可以有效地控制嵌入式第三方代码可以对用户数据执行的操作。

# 广告安全

[广告安全](http://www.adsafe.org/)

> ADsafe 可以安全地将访客代码（例如第三方脚本广告或小部件）放在网页上。ADsafe 定义了一个足够强大的 JavaScript 子集，允许访客代码执行有价值的交互，同时防止恶意或意外损坏或入侵。ADsafe 子集可以通过 JSLint 等工具进行机械验证，因此无需人工检查即可检查访客代码的安全性。ADsafe 子集还强制执行良好的编码实践，增加来宾代码正确运行的可能性。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-10-19T02:46:25.773

如前所述，主要浏览器已经支持该`sandbox`属性`iframe`，但我另外建议一个混合解决方案：在沙盒 iframe 中启动一个 web-worker。这将提供一个单独的线程，并保护沙盒 iframe 的 DOM 免受不受信任的代码的影响。这就是我的[Jailed](https://github.com/asvd/jailed)图书馆的工作方式。此外，您可以通过将任何一组函数导出到沙箱中来解决任何限制。

* * *

## 回答 #4

> 赞同：-4
> 
> 时间：2012-09-27T21:35:02.803

如果您想通过删除某些代码的访问权限来沙箱化某些代码*window*，*document*和*parent*元素，您可以通过将其包装在一个闭包中来实现它，其中这些是局部空变量：

```
(function(window, document, parent /* Whatever you want to remove */){
  console.log(this);      // Empty object
  console.log(window);    // undefined
  console.log(document);  // undefined
  console.log(parent);    // undefined
}).call({}); 
```

用空对象调用它很重要，否则*this*将指向*窗口*对象

# python - 多个用户输入打印特定样式

> ID：12209659
> 
> 赞同：0
> 
> 时间：2012-08-31T05:59:04.563
> 
> 标签：python

我现在只想输入要单独计算的多组整数。它会像这样流动。

首先一次获取用户输入。

输入数字 1... 2,4,23,45,57

输入数字 2... 9,23,45,47,33

输入数字 3... 2,41,23,45,55

然后一次性打印出来。

数字 1... 2,0,1,0,1,1 的序列

数字 2... 1,0,1,1,2,0 的序列

数字 3 的序列... 1,0,1,0,2,1

这是我的代码。

```
import collections 

the_input1 = raw_input("Enter numbers 1... ")
the_input2 = raw_input("Enter numbers 2... ")
the_input3 = raw_input("Enter numbers 3... ")

the_list1 = [int(x) for x in the_input1.strip("[]").split(",")]
the_list2 = [int(x) for x in the_input2.strip("[]").split(",")]
the_list3 = [int(x) for x in the_input3.strip("[]").split(",")]

group_counter = collections.Counter(x//10 for x in the_list1)
group_counter = collections.Counter(x//10 for x in the_list2)
group_counter = collections.Counter(x//10 for x in the_list3)

bin_range = range (6) 

for bin_tens in bin_range: 
    print "There were {} in {} to {}".format(group_counter[bin_tens], bin_tens*10, bin_tens*10+9) 
```

任何回应将不胜感激..谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T07:28:55.597

如果我对您的理解正确，您希望 0-9、10-19、...、50-59 范围内的数字频率分别用于您的 3 个输入。我重构了你的程序来实现这一点：

```
import collections 

the_inputs = []
for i in range(3):
    the_inputs.append(raw_input("Enter numbers {}... ".format(i+1)))

the_lists = []
for the_input in the_inputs:
    the_lists.append([int(x)//10 for x in the_input.strip("[]").split(",")])

for i, the_list in enumerate(the_lists):
    print "Input {}".format(i+1)
    group_counter = collections.Counter(the_list)
    bin_range = range (6) 
    for bin_tens in bin_range: 
        print "There were {} in {} to {}".format(group_counter[bin_tens], bin_tens*10, bin_tens*10+9) 
```

通过您给定的输入，我得到了预期的输出。

# android - 无法从 sdk 导入示例项目

> ID：12209661
> 
> 赞同：1
> 
> 时间：2012-08-31T05:59:18.793
> 
> 标签：android, eclipse, android-2.2-froyo

我想研究 android sdk 中的示例代码，它是 cubelivewallpaper.. 所以我决定导入它。但它有一个问题。我无法单击完成，因为它已被禁用..这里：

![在此处输入图像描述](../Images/0bd2bedf5064de72b0bb8fd2ee5ca87f.png)

这是我正在尝试导入的。 ![在此处输入图像描述](../Images/5363d0c158e9f52274b2f6ced70f01a0.png)

任何人都可以帮助我如何导入 sdk 项目而不会出现此错误？

谢谢..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-31T06:11:35.770

要导入示例项目，请执行以下步骤：

*   单击`File ---> New ---> other`，将打开新项目向导。
*   现在在android选项下单击`"android sample project"`并按下一步。
*   选择构建目标，例如 android 4.1，然后按下一步。
*   现在您将获得可用示例项目的列表。选择您要说的“CubeLiveWallpaper”，然后按完成。你完成了

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-31T06:02:02.277

该项目存在于示例项目中。（CubeLiveWallpaper）

尝试创建一个示例项目。不需要导入它。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-31T06:02:47.570

您不应导入但从现有的 derictory 创建新项目并选择此项目。祝你好运！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-31T06:04:19.267

据我所知，SDK 示例不是 Eclipse 项目，因此您不能使用 Import 功能。每当我想尝试任何示例时，我都会在 Eclipse 中手动创建项目，然后将 SDK 文件夹中的内容（res、src 和 AndroidManifest.xml）复制到新的 Eclipse 项目中。

# android - 窗口已经聚焦，忽略焦点增益：com.android.internal.view.IInputMethodClient$Stub$Proxy@41141af0

> ID：12209664
> 
> 赞同：3
> 
> 时间：2012-08-31T05:59:36.023
> 
> 标签：android

我想根据下拉菜单列表更改语言。但是此代码无法正常工作。它显示了这个问题`Window already focused, ignoring focus gain of: com.android.internal.view.IInputMethodClient$Stub$Proxy@41141af0.`

问题出在哪里，我想不通。请任何人帮助我。

```
public class LanguageChangedActivity extends Activity {
/** Called when the activity is first created. */

private static String[] rangeArray = new String[] { "English", "Franch",
        "Japanies" };
private Spinner rangeSpinner;
String tempRange = "";
String languageToLoad = "";
boolean isFirstTime = true;
int posit=0;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    // rangeArray = getResources().getStringArray(R.array.rangeArray);

    languageToLoad = "en"; // your language
    // Locale locale = new Locale(languageToLoad);
    // Locale.setDefault(locale);
    // Configuration config = new Configuration();
    // config.locale = locale;
    // getBaseContext().getResources().updateConfiguration(config,
    // getBaseContext().getResources().getDisplayMetrics());
    this.setContentView(R.layout.main);

    Log.w("isFirstTime onCreate","????");

    // Resources res = getBaseContext().getResources();
    // // Change locale settings in the app.
    // DisplayMetrics dm = res.getDisplayMetrics();
    // android.content.res.Configuration conf = res.getConfiguration();
    // conf.locale = new Locale(languageToLoad.toLowerCase());
    // res.updateConfiguration(conf, dm);

    // range spinner
    rangeSpinner = (Spinner) findViewById(R.id.spinnerLanguage);
    ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
            android.R.layout.simple_spinner_item, getResources()
                    .getStringArray(R.array.rangeArray));
    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);

    rangeSpinner.setAdapter(adapter);
    rangeSpinner.setOnItemSelectedListener(new OnItemSelectedListener() {

        public void onItemSelected(AdapterView<?> adapterView, View view,
                int position, long id) {

            posit=position;

            Log.w("isFirstTime onCreate onItemSelected","????");

            if (isFirstTime) {
                isFirstTime = false;
            } else {

                if (position == 0) {
                    languageToLoad = "en";
                } else if (position == 1) {
                    languageToLoad = "fr";
                } else if (position == 2) {
                    languageToLoad = "ja";
                }
                Locale locale = new Locale(languageToLoad);
                Locale.setDefault(locale);
                Configuration config = new Configuration();
                config.locale = locale;
                onConfigurationChanged(config);

            }
        }

        public void onNothingSelected(AdapterView<?> adapterView) {
        }
    });

}

@Override
public void onConfigurationChanged(Configuration newConfig) {
    super.onConfigurationChanged(newConfig);

    getBaseContext().getResources().updateConfiguration(newConfig,
            getBaseContext().getResources().getDisplayMetrics());

    setContentView(R.layout.main);

    rangeSpinner = (Spinner) findViewById(R.id.spinnerLanguage);
    ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
            android.R.layout.simple_spinner_item, getResources()
                    .getStringArray(R.array.rangeArray));
    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
    rangeSpinner.setSelection(posit);
    rangeSpinner.setAdapter(adapter);

    Log.w("isFirstTime onConfigurationChanged","????");
}

@Override
protected void onResume() {
    // TODO Auto-generated method stub
    super.onResume();
    Log.w("isFirstTime onResume","????");

}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T12:35:25.127

只是为了尝试...
而不是调用`onConfigChange()`方法...让一个用户定义函数说`toChangeConfig(Config c)`并在该函数中执行与您在该函数中编写的代码相同的步骤，`onConfigChange()`然后在`onItemSelected`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T16:22:43.860

为布局中的根元素指定一个 ID。现在尝试在第二次膨胀内容之前删除所有视图。

这只是一个猜测，但值得一试。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T11:10:38.150

尝试使用 updateConfiguration 方法

```
DisplayMetrics dm = getResources().getDisplayMetrics();
updateConfiguration(config, dm); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-19T14:30:22.567

将字符串外部化，使用命名方法，让 android 为您处理。

您还需要按照 MKJParekh 所说的去做 - onConfigChange() 是一个回调，而不是您调用的东西。当你切换配置时它会被调用，所以放另一个

```
Log.d("MY APP", "::onConfigurationChange() fired!"); 
```

并等待它出现。此外，该代码不应在 onCreate() 中，而应在 onResume 中 - 请记住 onCreate() 需要是一个轻量级方法。

# php - 在 yii 框架中显示堆栈跟踪

> ID：12209665
> 
> 赞同：5
> 
> 时间：2012-08-31T05:59:38.503
> 
> 标签：php, yii, yii-extensions

当执行中发生错误时，我们会得到堆栈跟踪，如下图所示。

[看到这个](http://i.stack.imgur.com/4f9Mq.gif)

每次执行页面时，我都希望在页面底部看到此跟踪。（即使没有错误）这样我就可以找出运行的页面以及框架内发生的情况

我怎样才能激活它？

非常感谢你

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-31T06:19:41.060

“堆栈跟踪”在错误场景之外没有多大意义，但您可以通过启用调试模式来了解 Yii 的工作。在你的 index.php 添加

```
defined('YII_DEBUG') or define('YII_DEBUG',true); 
```

在`log`你的主要 Yii 配置数组（config/main.php）的组件中，在组件下添加这个数组`routes`：

```
 array(
                'class'=>'CWebLogRoute',
                'enabled' => YII_DEBUG,
            ), 
```

这应该告诉你你想要什么。

确保`YII_DEBUG`从生产代码中删除该行！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-31T12:58:58.780

Yii 调试工具栏中有很多跟踪信息：[http ://www.yiiframework.com/extension/yii-debug-toolbar/](http://www.yiiframework.com/extension/yii-debug-toolbar/)

可能是你所追求的

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-05-09T13:17:55.427

你可以在你的项目中打开这行代码`config/main.php`

```
'log'=>array(
        'class'=>'CLogRouter',
        'routes'=>array(
            array(
                'class'=>'CFileLogRoute',
                'levels'=>'error, warning',
            ),
            // uncomment the following to show log messages on web pages

             array(
                'class'=>'CWebLogRoute',
            ),

        ),
    ), 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-31T12:43:41.773

如果你在配置文件中定义了文件日志路由，你可以在运行时目录下的日志文件中看到日志。

文件日志路由定义如下：

```
...
'routes'=>array(
                array(
                    'class'=>'CFileLogRoute',
                    'levels'=>'trace, info',
                    'categories'=>'system.*',
                ),
         ) 
```

# asp.net - 获取 Gridview 寻呼机中的总记录数

> ID：12209666
> 
> 赞同：0
> 
> 时间：2012-08-31T05:59:47.357
> 
> 标签：asp.net, c#-4.0, gridview

如何获取*gridview页脚的*记录**总数。**我有来源，但没有显示正确的记录。它显示其他一切都是正确的。只是**总记录**显示不**正确**。

 *****```
<PagerTemplate>
    Showing
    <%= grdProductStock.PageIndex * grdProductStock.PageSize + 1%>
      to
   <%= grdProductStock.PageIndex * grdProductStock.PageSize + grdProductStock.Rows.Count%>
      of
   <%= grdProductStock.PageCount * grdProductStock.Rows.Count%>
      Records
 </PagerTemplate> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T06:29:23.043

试试这个，我很久以前在谷歌搜索时发现了它。

```
protected void grdProductStock_DataBound(object sender, EventArgs e) {
    if (grdProductStock!= null)
    {
        //Showing Search Result Count
        //Get Top Pager Row from a gridview
        GridViewRow row = grdProductStock.TopPagerRow;
        if (row != null)
        {
            //Create one Cell for adding in my current paging strip
            TableCell infocell = new TableCell();
            infocell.Text = ” Page ” + (grdProductStock.PageIndex + 1).ToString() + ” of ” +grdProductStock.PageCount.ToString() +“(” + table.Rows.Count.ToString() + ” Records)”;

            //Getting table which shows PagingStrip
            Table tbl = (Table)row.Cells[0].Controls[0];

            //Will Find  table
            tbl.Rows[0].Cells.Add(infocell);
        }
    }
} 
```

这里的表是您的数据源，即 dataset.tables[0].rows.count。datatable.rows.count 等*****

# database - 字符转换为特殊符号

> ID：12209671
> 
> 赞同：0
> 
> 时间：2012-08-31T06:00:10.477
> 
> 标签：database, excel, sqlite, special-characters

我在 MSExcel 文件中有可用的数据库记录。我将其保存为 CSV 文件。然后通过导入该 CSV 文件在 firefox 的 SQLiteManager 中创建数据库。

但是...、'、"、- 等字符会转换为 �。

我也尝试将 CSV 文件保存为 UTF-8 格式，但它会将这些字符转换为 Õ

有谁知道，如何解决？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T07:12:14.163

也许您可能想考虑转义引号，例如在您的 csv 文件中尝试 "" 或 "'。只需多注意SQLiteManager 附加组件中**的部分包含的字段**，确保这些字段正确包含。

# dashboard - 如何访问 Cube 中的内部仪表板？

> ID：12209672
> 
> 赞同：4
> 
> 时间：2012-08-31T06:00:16.967
> 
> 标签：dashboard, cube, square, cubism.js

我目前正在玩 Cube 。我已经能够向评估者发送事件，并且可以通过 HTTP GET 查询这些事件。

如何制作自定义仪表板以可视化事件/查询？我看到这个网站[http://corner.squareup.com/2011/09/cube.html](http://corner.squareup.com/2011/09/cube.html)有一个视频用于创建“60 秒内的仪表板”，但我不知道在哪里可以找到它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T00:29:41.620

好问题。GitHub 上最后一个具有视频中胖、非静态、非立体主义客户端的 Cube 版本是 [e51cd376](https://github.com/square/cube/tree/e51cd376c36325aacd83c7b4e42894b1be80a429)。

如果您有当前存储库的克隆，请使用：

```
git reset --hard e51cd376 
```

然后启动你的 mongodb，然后`node evaluator`. mongodb 数据库格式似乎并没有发生实质性的变化。

您可以：至少在某种程度上，使用当前收集器，将数据库转储到一个重复的数据库中，或者*可以*并排运行两个不同版本的多维数据集评估器，具体取决于您的仪表板需求。

更丑陋但更快地与查询混合。

# vb.net - 我可以在 Windows 服务中有返回功能吗？

> ID：12209674
> 
> 赞同：1
> 
> 时间：2012-08-31T06:00:23.780
> 
> 标签：vb.net, windows-services

我可以在 Windows 服务中有一个函数并将数据返回到 vb.net 应用程序吗？

**这是我在 Windows 服务中的示例代码：**

```
 Protected Overrides Sub OnStart(ByVal args() As String)
        ' Add code here to start your service. This method should set things
        ' in motion so your service can do its work.
        EventLog1.WriteEntry("In OnStart")
    End Sub

    Protected Overrides Sub OnStop()
        ' Add code here to perform any tear-down necessary to stop your service.
        EventLog1.WriteEntry("In OnStop.")
    End Sub
    Protected Overrides Sub OnContinue()
        EventLog1.WriteEntry("In OnContinue.")
    End Sub
    Protected Overrides Sub OnCustomCommand(ByVal command As Integer)
        Dim mymsg As String
        Dim servicestorun As New System.ServiceProcess.ServiceBase
        If (command < 128) Then
            MyBase.OnCustomCommand(command)
        Else
            Select Case command
                Case 129
                    mymsg = "i want this msg to my vb.net application"
                Case Else
            End Select
        End If

    End Sub 
```

**这是我的 vb.net 应用程序代码：**

```
Dim myServiceController As New System.ServiceProcess.ServiceController("MyNewService")

        Dim status As String
        Try
            myServiceController.ExecuteCommand(129)
 ' i want to get the msg from my windows service "i want this msg to my vb.net application"
            status = "Custom Command Executed Successfully!"
        Catch ex As Exception
            status = "Failed To Execute Custom Command! " & ex.Message
        End Try 
```

请需要帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T11:49:51.617

您可以将 Windows 服务用作 WCF 主机。参见例如[http://msdn.microsoft.com/en-us/library/ms733069.aspx](http://msdn.microsoft.com/en-us/library/ms733069.aspx)

对于同一台机器上的通信，我会推荐命名管道（NetNamedPipeBinding）。您甚至可以在不使用 WCF 的情况下使用命名管道 (http://stackoverflow.com/questions/4303154/)

# c++ - 有没有办法在调用方法之前断言对象是否已正确构造？

> ID：12209675
> 
> 赞同：0
> 
> 时间：2012-08-31T06:00:30.527
> 
> 标签：c++, constructor

我在我的代码中遇到了这种奇怪的无指针情况，现在想知道是否有办法检测它（除了崩溃）。代码设法进入未构造对象的方法。构造b1时，a还没有构造，b尝试使用它。在构建 b2 时，a 已正确构建并且代码按预期工作。

除了显而易见的“不要在你的代码中这样做”之外，我想知道是否有办法在编译或运行时检测到这一点。编译器根本没有检测到它，我只是在程序崩溃时在初始化 DLL 时收到一些关于运行托管代码的晦涩且非常无用的消息。

我尝试测试“this”，但它不是 NULL，因为已分配内存——只是尚未调用构造函数，因此内存处于不确定状态。

我原以为编译器会插入一些调试代码来检测何时发生这种情况，但我想不会。

是否有任何断言或测试或编译时开关我可以用来检测这种情况，或者它只是归结为，“如果它伤害，不要这样做？”

```
 OUTPUT:
 (NULL)
 test

#include "stdafx.h"
#include "cstring"

class Apple 
{
    char *sometimesinitialized;

    public:
    Apple () { 
        sometimesinitialized = new char[15];
        strcpy_s(sometimesinitialized, 5, "test");
    };
    void test()
    {
        printf("%s\n", sometimesinitialized);
    }
};

class Ball
{
    public:
    Ball();
};

Ball b1; // OOPS!
Apple a;
Ball b2; // Works as expected

Ball::Ball()
{
    a.test();
}

int _tmain(int argc, _TCHAR* argv[])
{
    scanf_s("%i");
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-31T06:06:23.803

如果一个实例`B`需要访问一个实例，`A`那么它应该被传递给`B`的构造函数。

```
struct B {
    B(A &a) {
        a.test();
    }
};

A a;
B b(a); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-31T08:55:01.230

保证具有静态存储的对象以完全标准保证的方式正确初始化的常见模式如下：

**全球.hpp：**

```
struct Foo;
Foo & globalFoo(); 
```

**全球.cpp：**

```
#include <foo.hpp>

Foo & globalFoo()
{
    static Foo impl;
    return impl;
} 
```

任何需要访问全局`Foo`对象的人只需调用`globalFoo()`即可获得引用。该对象在第一次使用之前被初始化，并在程序结束时在所有使用它的人都被销毁后销毁。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T06:43:32.973

C++ 程序的启动和关闭是两个比较模糊的领域，通常你应该尽量做到你需要的最低限度。

该标准规定，当您执行模块中的任何函数时，编译单元中的所有静态持续时间变量都将被初始化，但是在静态持续时间对象的初始化或销毁期间，静态持续时间对象的状态是什么？或者循环依赖会发生什么。

此外，您不能依赖静态持续时间对象为模块执行例如“服务注册”，因为标准规定编译单元中静态持续时间变量的初始化不需要之前执行，`main`但可能会延迟到您访问模块中的一个函数；因此，如果对模块的访问取决于模块已注册，则可以简单地跳过初始化，使模块未注册且不可访问。添加这个后期初始化措辞只是为了能够支持语言中的动态库，但事实仍然是标准不强制要求这种技术保证工作。

另一个重要的一点也是关于实施问题。例如，在 Windows 中，我经历过关闭期间的错误可以被简单地忽略（因此应用程序**显然**正在关闭而没有问题，但实际上它正在因关闭期间的访问冲突而死），并且调试设施在启动之前和之后都无法正常工作的完成`main`，使得这两个方面的调试问题相当吃力。

例如，考虑使用日志记录工具：如果您想在静态持续时间变量销毁期间调用日志记录并且日志记录本身取决于静态持续时间变量（可能是当您调用日志记录时，日志记录对象已经被销毁）。

此外，不能保证构造和破坏发生的顺序（除了那个短语说在编译单元中调用函数之前，该单元的静态持续时间变量将被初始化）。我经历过，只是在不更改**任何内容**的情况下重建项目可能会产生不同的序列，这可能是因为智能增量链接技术）。

我的建议是在静态初始化和销毁​​过程中做最少的事情，并避免做任何可能失败的事情。一旦你进入 main 然后按照你想要的顺序显式地做你需要的初始化。以类似的方式，如果您明确控制关闭时发生的事情和顺序，那么您将节省许多调试时间。

过去我是惰性和自动初始化技术的支持者，但由于没有足够的保证，IMO C++ 不是这种方法实用的语言。

# java - 关于 Java 中的 final 和 Lists/HashSets 的意见

> ID：12209679
> 
> 赞同：3
> 
> 时间：2012-08-31T06:00:50.227
> 
> 标签：java, coding-style, standards

`final`有一个关于在 Java 中为`HashSet`、`List`、`Set`等使用构造的办公室查询。

假设您有一个要更新的用户名列表。列表本身不会被重新初始化，只是它的值发生了变化。

然后提出了用户名变量是否应该是 a 的问题`final`。

```
private static final List<String> USERNAMES = new List<String>();
...
USERNAMES.add("user1"); 
```

**或者**

```
private static List<String> usernames = new List<String>();
...
usernames.add("user1"); 
```

**我的问题是**，按照惯例，您会使用哪个？

可以提出该论点，暗示它不可修改的大写字母在这里无效，因为您可以修改列表的内容（您不能修改列表实例本身）。因此，它实际上不是一个常数。

出于同样的原因，说`list`不可修改是有效的，因此大写 &`final`很好。

想法？Java 约定会说什么？

我真的对答案很感兴趣，并相信这是一个问题。Java 约定必须对此有立场或评论。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T06:05:20.527

将其声明为`final`可能是一个好方法。它基本上告诉您不允许将`final`变量的引用更改为另一个实例。

但是，请小心使用`static`. 变量将`static`使其成为类变量，这意味着所有实例共享相同的引用。在某些情况下，这可能是完全错误的。当您需要每个实例都有自己的用户名实例时，您不会想要创建`static`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T06:06:34.403

大写字母通常用于暗示一个常数，通常是一个原始的或字符串，但有时可以指代一个对象。在实践中，它们很少以基本数据结构的形式出现，例如列表。我会说在这种情况下使用大写字母是不好的形式。

将变量标记为的适当性`final`取决于上下文，虽然它用于常量，但这不是唯一的用途。如果列表不再被分配是合适的，那么有一个小写的最后，例如，

`private static final List<String> usernames = new List<String>();`

将是最好的方式。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-31T06:29:22.880

将列表标记为最终列表不会使列表不可修改。相反，将其标记为 final 只会使其无法重新初始化。

如果您真的想要一个不可修改的列表，我建议您查看 Guava 的[ImmutableList](http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/ImmutableList.html)。

这是 ImmutableList 文档中的一个片段：

> 与 Collections.unmodifiableList(java.util.List) 不同，后者是仍然可以更改的单独集合的视图，ImmutableList 的实例包含自己的私有数据并且永远不会更改。ImmutableList 对于公共静态最终列表（“常量列表”）很方便，还可以让您轻松地制作由调用者提供给您的类的列表的“防御性副本”。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-08-31T06:20:15.767

到那个时刻

> 最终关键字

在 Java 集合（Maps、Sets 和 Lists）的上下文中，将它们声明为 final 并不会使它们不可修改。当我说 collection/container is modified/unmodifyable 时，它​​实际上意味着我可以/不能修改它的内容。所以使用声明它们最终实际上意味着对该集合的引用是不可修改的，但集合本身是可修改的。假设你想让它们不可修改，你要做的是，

```
UnmodifyableCollection<T> {

  public boolean add(T t){
    throw new  UnsupportedException();
 }

  public T remove(T t){
    throw new  UnsupportedException();
 }

} 
```

类似于上面的内容，不允许添加/删除任何内容。`Collections.unmodifyXXX()`方法做同样的事情。

最终关键字也有更广泛的用途，例如

> 1）限制子类化（使类不可变）
> 
> 2) 限制方法覆盖
> 
> 3) 定义常量

使用 static final 声明集合时也要小心，因为容器可用于所有对象。检查你的意图是否真的需要那个设计，并确定你为什么想要那个。

# plugins - 为 Vaadin 指定 ResourceBundle / i18n 的其他路径

> ID：12209680
> 
> 赞同：2
> 
> 时间：2012-08-31T06:00:53.573
> 
> 标签：plugins, mvp, vaadin

**是否可以为[Vaadin MVP 插件](https://vaadin.com/directory#addon/mvp-and-uibinder-for-vaadin)的属性文件指定另一个路径而不是类路径？**

我的主要目标是尝试在例如正在开发的产品的实时部署中解耦这些属性文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-09T13:49:26.447

该插件`ResourceBundle.getBundle(baseName, locale)`在`ResourceBundleUiMessageSource`类内部使用。这意味着它只查看类路径，您不能在外部指定任意位置。

但是，所有源代码都包含在插件中，因此您可以将其扩展为使用`PropertyResourceBundle`. 有关更多详细信息，请参阅[此问题](https://stackoverflow.com/questions/1172424/how-to-load-a-resource-bundle-from-a-file-resource-in-java)。

# lisp - 如何用lisp替换文件中的字符串？

> ID：12209686
> 
> 赞同：3
> 
> 时间：2012-08-31T06:01:28.200
> 
> 标签：lisp, replace

替换文件中字符串的lisp方式是什么。

有一个由 标识的文件`*file-path*`，一个搜索字符串`*search-term*`和一个替换字符串`*replace-term*`。

如何使用`*search-term*`s 替换所有 s 实例的文件`*replace-term*`，最好代替旧文件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-01T12:55:51.233

再来解决这个问题，但首先很少有警告：

1.  为了使它在现实生活中真正健壮和可用，您需要将其包装`handler-case`并处理各种错误，例如磁盘空间不足、设备未准备好、读/写权限不足、为缓冲区分配的内存不足等在。

2.  这不做类似正则表达式的替换，它是简单的字符串替换。对大文件进行基于正则表达式的替换可能看起来远没有从一开始看起来那么简单，值得编写一个单独的程序，比如 sed 或 awk 或整个语言，如 Perl 或 awk ;)

3.  与其他解决方案不同，它将在要替换的文件附近创建一个临时文件，并将到目前为止处理的数据保存到该文件中。从某种意义上说，这可能会更糟，因为它将使用更多的磁盘空间，但这更安全，因为如果程序在中间失败，原始文件将保持不变，不仅如此，您可以稍后再恢复替换临时文件，例如，如果您也将偏移量保存到临时文件中的原始文件中。

* * *

```
(defun file-replace-string (search-for replace-with file
                            &key (element-type 'base-char)
                              (temp-suffix ".tmp"))
  (with-open-file (open-stream
                   file
                   :direction :input
                   :if-exists :supersede
                   :element-type element-type)
    (with-open-file (temp-stream
                     (concatenate 'string file temp-suffix)
                     :direction :output
                     :element-type element-type)
      (do ((buffer (make-string (length search-for)))
           (buffer-fill-pointer 0)
           (next-matching-char (aref search-for 0))
           (in-char (read-char open-stream nil :eof)
                    (read-char open-stream nil :eof)))
          ((eql in-char :eof)
           (when (/= 0 buffer-fill-pointer)
             (dotimes (i buffer-fill-pointer)
               (write-char (aref buffer i) temp-stream))))
        (if (char= in-char next-matching-char)
            (progn
              (setf (aref buffer buffer-fill-pointer) in-char
                    buffer-fill-pointer (1+ buffer-fill-pointer))
              (when (= buffer-fill-pointer (length search-for))
                (dotimes (i (length replace-with))
                  (write-char (aref replace-with i) temp-stream))
                (setf buffer-fill-pointer 0)))
            (progn
              (dotimes (i buffer-fill-pointer)
                (write-char (aref buffer i) temp-stream))
              (write-char in-char temp-stream)
              (setf buffer-fill-pointer 0)))
        (setf next-matching-char (aref search-for buffer-fill-pointer)))))
  (delete-file file)
  (rename-file (concatenate 'string file temp-suffix) file)) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T07:51:17.140

它可以通过多种方式完成，例如使用正则表达式。我看到的最独立的方式如下所示：

```
(defun replace-in-file (search-term file-path replace-term)
  (let ((contents (rutil:read-file file-path)))
    (with-open-file (out file-path :direction :output :if-exists :supersede)
      (do* ((start 0 (+ pos (length search-term)))
            (pos (search search-term contents)
                 (search search-term contents :start2 start)))
           ((null pos) (write-string (subseq contents start) out))
        (format out "~A~A" (subseq contents start pos) replace-term))))
  (values)) 
```

请参阅`rutil:read-file`此处的实现：[https ://github.com/vseloved/rutils/blob/master/core/string.lisp#L33](https://github.com/vseloved/rutils/blob/master/core/string.lisp#L33)

另请注意，此功能将用任何字符（包括换行符）替换搜索词。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T23:03:58.857

在带有 ireggex 鸡蛋的鸡肉计划中：

```
(use irregex) ; irregex, the regular expression library, is one of the
              ; libraries included with CHICKEN.

(define (process-line line re rplc) 
  (irregex-replace/all re line rplc))

(define (quickrep re rplc) 
  (let ((line (read-line)))
    (if (not (eof-object? line))
        (begin 
          (display (process-line line re rplc))
          (newline)
          (quickrep re rplc)))))

(define (main args)
  (quickrep (irregex (car args)) (cadr args))) 
```

编辑：在上面的示例中缓冲输入不允许正则表达式跨越多行。
为了解决这个问题，这里有一个更简单的实现，它将整个文件扫描为一个字符串：

```
(use ireggex)
(use utils)

(define (process-line line re rplc) 
  (irregex-replace/all re line rplc))

(define (quickrep re rplc file) 
  (let ((line (read-all file)))
      (display (process-line line re rplc))))

(define (main args)
  (quickrep (irregex (car args)) (cadr args) (caddr args))) 
```

# performance - 最小化请求数量与浏览器缓存和多个域

> ID：12209692
> 
> 赞同：3
> 
> 时间：2012-08-31T06:02:06.007
> 
> 标签：performance, frontend

我最近一直致力于改善我们网站的前端性能，并采用了许多最佳实践。

但是我有一个最近的例子，其中一些做法彼此略有不同

*   最小化 HTTP 请求
*   为了“欺骗”浏览器发出更多并发请求，从不同的域提供一些资产
*   利用浏览器缓存

为什么？

我们过去常常将几乎所有的 Javascript 捆绑到一个文件中，以最大限度地减少 HTTP 请求。这包括 JQuery 和 JQuery UI。

我认为这很愚蠢，因为许多用户可能已经在他们的浏览器中缓存了 JQuery，所以我决定我们应该从 all.js 中删除它，而是从 Google 的 CDN 中提供它。这将节省用户再次下载代码的时间，并且因为它位于不同的域中，它可以与我们自己域中的其他资源并行下载。

并发下载如下图所示：

![使用 Google'CDN 进行并发下载的效果](../Images/7b0dc593c02f5ee9bc7ca12ebf8a0ad5.png)

这当然增加了没有缓存 JQuery 的人的请求数量，但这并不是很好。

所以我的问题是：

**这种改变是明智的吗？利用缓存和允许并发请求的好处是否超过请求数量的轻微增加？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T07:08:09.147

这是一个*很好的问题*。

您已经很好地解释了您的推理，它们都是进行此更改的充分理由。

但这两种方法仍然有好处。

**将所有内容合并到一个文件中**

*   减少 HTTP 请求的数量，减少往返延迟对用户连接的负面影响。

*   所有库/插件都会立即下载，并应在以后需要时保持缓存。

*   减少对其他服务的依赖（尽管 Google 会非常可靠）。

**跨域分布的单独文件**

*   增加下载的并行化，减少带宽整形对用户连接的负面影响。（*请注意，大多数浏览器[不再](https://stackoverflow.com/questions/9753898/is-the-web-browser-performance-rule-only-2-requests-in-parallel-per-hostname-s?rq=1)将每个域的并发请求限制为 2 个。*）

*   增加粒度 - 可以根据需要按需下载单独的部分，即如果在首页点击时不需要特定插件，则不会下载。

就个人而言，我通常会稍微倾向于前者（通过将 HTTP 请求合并到一个大文件中来减少它们）。我觉得我的大多数观众都将使用相当高的带宽连接，我可以减少延迟。请记住使用 Google 和 Yahoo 的页面速度工具来寻找其他加快速度的方法。

# c# - 记录集给出非不同的值

> ID：12209697
> 
> 赞同：0
> 
> 时间：2012-08-31T06:02:21.793
> 
> 标签：c#, linq, recordset

我有一部分代码，它返回非不同的值。

无论如何，我可以使用不同的函数来获得不同的值吗？

代码：

```
public static Recordset queryTestDirector(string projectName, string query)
  {
     Recordset result = null;
     /*Connect to Test director and pull down all the currently listed QC numbers*/
     TDConnection tdConnection;
     tdConnection = new TDAPIOLELib.TDConnection();
     tdConnection.InitConnection("http://***/qcbin/", "ABC", "");
     tdConnection.ConnectProject(projectName, "qc_manager", "");

     Command cmd;
     cmd = tdConnection.Command as Command;
     String qcIDQuery = query;
     cmd.CommandText = qcIDQuery;
     result = cmd.Execute() as Recordset;

     tdConnection.Disconnect();
     return result;

  } 
```

问题是返回的结果给出了值：A,A,A,A,B,C,D

我只想要A,B,C,D

请建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T06:50:16.717

没试过，但这可能有效。您首先必须将记录集转换为数据集

```
ds.Tables[0].DefaultView.ToTable(true,"BG_USER_50"); 
```

这是一个解释更多的链接

[http://www.c-sharpcorner.com/blogs/230/how-to-get-disticnt-rows-from-a-dataset-or-datatable.aspx](http://www.c-sharpcorner.com/blogs/230/how-to-get-disticnt-rows-from-a-dataset-or-datatable.aspx)

[如何在数据表中选择不同的行并存储到数组中](https://stackoverflow.com/questions/1199176/how-to-select-distinct-values-from-datatable)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T07:09:34.090

非常感谢您的输入，这让我重新考虑了查询。

最后这个查询有效：

```
queryString = "select BG_USER_50, count(*) from BUG where BG_STATUS in ('In Progress','Fixed','Unit Testing','Ready For UAT') and BG_USER_50 is not null group by BG_USER_50 order by 1 desc" 
```

我只需要一个 Group by 子句。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T06:14:23.110

将您的查询更改为

```
select distinct BG_USER_50 from BUG where BG_STATUS in ('In Progress','Fixed','Unit Testing','Ready For UAT') and BG_USER_50 is not null order by BG_BUG_ID desc 
```

应该解决你的问题

# java - 原生 hadoop 库程序集

> ID：12209699
> 
> 赞同：0
> 
> 时间：2012-08-31T06:02:29.027
> 
> 标签：java, c++, hadoop, mapreduce

如何根据[http://hadoop.apache.org/common/docs/r0.18.3/native_libraries.html#Building+Native+Hadoop+Libraries](http://hadoop.apache.org/common/docs/r0.18.3/native_libraries.html#Building+Native+Hadoop+Libraries)收集自己的hadoop库（我不是都懂，比如我没有文件夹构建/本机程序集并拥有以及在命令 $ant -Dcompile.native=true 什么是目标）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-01T19:24:30.973

执行 ant 脚本后将创建 build/native 文件夹。

如果您不提供特定目标，则默认目标是编译（如果您查看 hadoop 目录根目录中的 build.xml 文件）

# model-view-controller - Symfony/Propel 的正确 MVC 设计？

> ID：12209702
> 
> 赞同：2
> 
> 时间：2012-08-31T06:02:34.943
> 
> 标签：model-view-controller, symfony1, symfony-1.4, propel

如果只需要让事情正常工作，我们甚至可以将所有控制登录和数据库处理逻辑放在视图中，它会起作用。然而，这不是可重用设计的正确方法。

在我提出真正的设计问题之前，以下是我目前对模型方面的职责分离的理解。

*   所有与数据库相关的代码，甚至是与数据库相关的逻辑，都应该放在模型中。
*   对于一个表，比如“my_tab”，推动生成 4 个类，其中只有 2 个类“MyTab.php”和“MyTabPeer.php”应该被编辑。
*   MyTabPeer.php 只能获取数据。
*   任何逻辑，如果需要获取数据，都应该进入“MyTab.php”

这很简单，我希望它是正确的，如果不是，请纠正我。

现在，我有一个特殊的条件。我有 4 张桌子，比如 a、b、c、d。为此，propel 生成了 8 个可编辑的类（不包括 base*.php）

```
A.php    APeer.php    B.php    BPeer.php
C.php    CPeer.php    D.php    DPeer.php 
```

我的应用程序的一页显示邮箱（比如说）。邮箱不是数据库中的表，但它从上述 4 个表之间的复杂连接查询以及大量计算/条件中获取数据。

我生成了该查询，从中获取数据并显示它。邮箱按预期运行。但是我在我的控制器（动作类）中做到了，我知道这不是一个合适的地方。

**我的问题是**，我应该把代码放在哪里？可能的选项：

*   我认为控制器不是数据库逻辑/获取的正确位置。
*   我有 8 个模型分类，但是数据不属于其中任何一个，而是它们的组合。
*   一个单独的帮助程序/库，但我知道我永远不会重用该代码作为其网站的唯一页面。
*   其他地方？

如果我错了，请提出建议，但我想我应该把它放在模型中，因为它正在获取数据。由于 A 是主表，我可能应该将代码放在 A.php 和 APeer.php 中。如果这是正确的地方，下一个问题是，A.php 中应该包含什么以及 APeer.php 中应该包含什么？我有以下操作要做：

*   一些逻辑来决定我应该选择哪些列。
*   就像邮箱一样，我可以显示收到/发送的消息。控制器会告诉显示什么，但有一些数据库逻辑来设置条件。
*   然后真正从复杂的 Join 查询中获取数据。
*   返回的数据将包含所有行，但我可能需要有条件地合并几行。

根据我的理解，第 3 点应该放在 APeer.php 中，然后放在 A.php 中。我的理解正确吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T13:35:07.200

您应该创建单独的模型类，即邮箱。该模型的方法应该执行复杂的选择并将数据返回到控制器中的操作。此解决方案不会破坏 MVC 方法。

# mysql - Fuelphp SUM 加入问题

> ID：12209705
> 
> 赞同：1
> 
> 时间：2012-08-31T06:02:53.193
> 
> 标签：mysql, sql, join, sum, fuelphp

我在加入`SUM`燃料 php 时遇到了一些问题。

当我这样使用它时

```
$query = DB::select(
            'stream_post.*',
            'SUM(stream_comment.comment_stream_id)'
            )->from('stream_post');
        $query->join('stream_comment', 'LEFT');
        $query->on('stream_post.stream_id', '=', 'stream_comment.comment_stream_id');
        $query->join('users_metadata');
        $query->on('stream_post.user_id', '=', 'users_metadata.user_id');
        $query->limit(10);
        $query->order_by('stream_id', 'DESC');
        $result = $query->execute();
        if(count($result) > 0) {    
            foreach($result as $row)
            {
                $data[] = $row;
            }

            return $data;
        } 
```

我收到这个错误

> 未找到列：1054 未知列 'SUM(stream_comment.comment_stream_id)' in 'field 我做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-31T07:00:08.043

您需要使用该`expr`函数在 select 语句中创建表达式

```
$result = DB::select(DB::expr(' SUM(stream_comment.comment_stream_id) as count'))->from('stream_post')->execute(); 
```

记录在这里[http://docs.fuelphp.com/classes/database/usage.html](http://docs.fuelphp.com/classes/database/usage.html)

# iphone - 在后台线程中加载和缓存远程图像

> ID：12209706
> 
> 赞同：1
> 
> 时间：2012-08-31T06:02:53.883
> 
> 标签：iphone

我正在开发一个 iPhone 应用程序。在这个应用程序中，我需要在 uitableview 中显示许多图像。我能够在后台线程中加载图像。但是任何人都可以建议我如何在后台线程中缓存下载的图像。我能够缓存图像，但它发生在前台而不是后台。这就是为什么 UI 在缓存完成之前被阻塞的原因。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T07:11:56.533

嗨，你可以试试[SDWebImage Cache](https://github.com/rs/SDWebImage)，它很容易使用，它会做缓存部分。

缓存间隔设置为一周，可以在 SDImageCache.m 中查看。

# ajax - 使用时将输出设置为未定义

> ID：12209707
> 
> 赞同：1
> 
> 时间：2012-08-31T06:03:02.650
> 
> 标签：ajax, html, jquery-mobile

这是我的 exbitview.html 页面

```
<!DOCTYPE html>
    <html lang="en" manifest="health.cache">
    <head>
    <meta http-equiv="cache-control" content="no-cache" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <title>Video Campaign View</title>
    <link rel="stylesheet" href="Styles/jquery-mobile.css" />
    <link rel="stylesheet" href="Styles/base.css" />
    <link rel="stylesheet" media="all and (orientation:portrait)" href="Styles/portrait.css" />
    <link rel="stylesheet" media="all and (orientation:landscape)" href="Styles/landscape.css" />
    <script src="Scripts/jquery-1.7.2.min.js"></script>
    <script src="Scripts/jquery-mobile-old.js"></script>
    <script type="text/javascript" src="Scripts/jquery.js"></script>
    <script type="text/javascript" src="Scripts/ajaxExhibitXmlParser.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
    <script type="text/javascript" src="Scripts/easypaginate.js"></script>
    </head>
    <body>
        <header>
            <h2>My Campaign Home Page</h2>
        </header>
        <div id="section_main">
            <article class="main-content">
                <ul class="exihibit">
                </ul>
            </article>
        </div>
    </body>
    </html> 
```

这是我的 ajaxExhibitXmlParser.js

```
$(document).ready(function(){
        $.ajax({
            type: "GET",
            //url: "5_section_nature-1.xml",
            url: "xmls/exhibit.xml",
            dataType: "xml",
            success: function(xml) {
                $(xml).find('exhibits').each(function(){
                    $(this).find('exihibit').each(function(){

                    var vmediaurl = $(this).find('redirecturl').text();
                    var mediaurl =  vmediaurl ;
                    var medianame = $(this).find('name').text();
                    var mediadesc = $(this).find('description').text();
                    var vmediathumbnail = $(this).find('icon').text();
                    var mediathumbnail ="'" + vmediathumbnail + "'";
                    localStorage.setItem(vmediathumbnail, vmediathumbnail);
                    localStorage.setItem(mediathumbnail, mediathumbnail);
                    localStorage.setItem(mediaurl, mediaurl);
                    localStorage.setItem(medianame, medianame);
                    localStorage.setItem(mediadesc, mediadesc);

                        $('<li></li>').html('<a href="http://localhost:8080/PatientsHealth/Images/ajax-loader.gif"><img width="300" height="250" src='+localStorage.getItem(mediathumbnail)+' alt="poster image"><span class="exihibit"><p>'+localStorage.getItem(medianame)+'</p><p>'+localStorage.getItem(mediadesc)+'</p></span></a>').appendTo('ul.exihibit');
                    });

                });
                jQuery(function($){

                    $('ul').easyPaginate({
                        step:2
                    });

                });

            }
        }); 
```

当我单击 exihibitview.html 页面的图像时，如果我使用 F5 刷新页面，我会收到未定义的错误，我能够获取图像。任何人都可以帮我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:12:10.727

这条线在我看来不正确：

```
$('<li></li>').html('<a href="http://localhost....gif"><img width="300" height="250" src='+localStorage.getItem(mediathumbnail)+' alt="poster image"><span class="exihibit"><p>'+localStorage.getItem(medianame)+'</p><p>'+localStorage.getItem(mediadesc)+'</p></span></a>').appendTo('ul.exihibit'); 
```

在 jQuery 中，我相当肯定你不能选择带有`$('<li></li>')`. 你必须使用类似的东西`$('li')`。

此外，从语义上来说，在 a`paragraph`内部包含一个`span`.

看起来你正在尝试做这样的事情：

```
$('ul.exhibit').append('<li><a href="..."><img src="..." alt="..." /></a></li>'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T09:11:57.850

在标签中使用 rel="external"

```
$('ul.exhibit').append('<li><a rel="external" href="..."><img src="..." alt="..." /></a></li>'); 
```

# mysql - 模型中的错误检查

> ID：12209712
> 
> 赞同：2
> 
> 时间：2012-08-31T06:03:57.563
> 
> 标签：mysql, sql, model-view-controller

如何在我的模型中进行错误检查？例如，如果我的程序添加了一条记录，我想返回 true，否则我想返回 false。我需要在程序之前和之后对表中的记录进行计数，然后比较它们，这是最好的方法吗？

```
function add_student($SECTION_ID, $STUDENT_ID)

{

$this->db->query("call add_student('$SECTION_ID','$STUDENT_ID')");

}

function drop_student($SECTION_ID, $STUDENT_ID)
{

$this->db->query("call drop_student('$SECTION_ID','$STUDENT_ID')");

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:13:45.457

看起来你的数据库是mysql

使用[FOUND_ROWS( )](http://dev.mysql.com/doc/refman/5.0/en/information-functions.html#function_found-rows) 查找在过程中执行 select 语句后受影响的行

或者您可以使用[ROW_COUNT()](http://dev.mysql.com/doc/refman/5.0/en/information-functions.html#function_found-rows)函数来查找插入语句后的记录数

# speech-recognition - 如何将 MFCC 更改为 PointList 和 GMM

> ID：12209715
> 
> 赞同：1
> 
> 时间：2012-08-31T06:04:14.053
> 
> 标签：speech-recognition, point, k-means, gaussian, mfcc

我使用 comirva 包制作了一个情绪识别程序。

我有很多关于情绪的wav文件，比如愤怒、快乐……

为了制作一个 gmm，首先，我从一个 argry 文件中提取了 mfcc 特征。

我感到困惑的是如何将 mffccs 更改为 pointlist。

哪一个是正确的？i) 将从一个文件中提取的 mfcc 更改为一个点列表 ii) 将从多个文件中提取的 mfcc 更改为一个点列表

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T09:05:39.450

正确的是

iii) 将从属于相同情绪（例如愤怒）的许多文件中提取的 mfcc 查明到一个点列表并在它们上训练 GMM。因此，您应该得到一组与情绪相对应的 GMM。

这种情绪分类算法有点毫无意义。要检测情绪，需要一些其他特征，如音调等。我建议您首先查看真实的情感识别库，例如 openart/openear：

[https://sourceforge.net/projects/openart/](https://sourceforge.net/projects/openart/)

# php - $mysqli->fetch_object($result) 不工作

> ID：12209719
> 
> 赞同：5
> 
> 时间：2012-08-31T06:04:59.703
> 
> 标签：php, mysqli

我正在学习mysqli。

我正在尝试从表“tbllogin”中获取数据。

```
 //DATABASE CONNECTION

      $hostname="p:localhost";
      $database="dbLogin";
      $username="user1";
      $password="pwd1";

      $mysqli = new mysqli($hostname, $username, $password,$database);

      if(mysqli_connect_errno()){

       echo mysqli_connect_error();

      }

      // Create Query
      $query = "SELECT * FROM tbllogin";

      // Escape Query

      $query = $mysqli->real_escape_string($query);
      echo $query;

      // Execute Query

      if($result = $mysqli->query($query)){

          print_r($result);

          while($row = $mysqli->fetch_object($result)){

              echo $row->column;

          }

          //Free result set
          $result->close();

      }

      ?> 
```

但`$mysqli->fetch_object($result)`不工作。包含的`if`语句`$mysqli->fetch_object($result)`不执行。我无法确定是否有任何错误。

请帮忙。另外，建议mysqli程序形式还是面向对象形式更好？

提前致谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-31T06:11:19.080

不应该这样`$result->fetch_object()`吗？

[http://php.net/manual/en/mysqli-result.fetch-object.php](http://php.net/manual/en/mysqli-result.fetch-object.php)

从示例 1：

```
if ($result = $mysqli->query($query)) {

    /* fetch object array */
    while ($obj = $result->fetch_object()) {
        printf ("%s (%s)\n", $obj->Name, $obj->CountryCode);
    } 
```

根据[这个stackoverflow页面](https://stackoverflow.com/questions/2961782/mysqli-oo-or-procedural)上的答案，两者之间没有太大区别。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T06:11:02.970

尝试这个：

```
if($result = $mysqli->query($query)){

      print_r($result);

      while($row = $result->fetch_object($result)){

       //do something

      }
 } 
```

您需要将命令链接在一起。

# osgi - 无法确定文件的工件身份

> ID：12209723
> 
> 赞同：2
> 
> 时间：2012-08-31T06:05:39.230
> 
> 标签：osgi, eclipse-virgo, spring-dm

我收到了导入包异常，我使用 menifist 文件解决了这个问题。但是现在我得到了其他我不知道的例外情况，我能够部署简单的捆绑包，但是这个特定的捆绑包没有从拾取目录在处女座服务器上运行。

我附上了服务器日志和我遇到的错误。

期待着听到您的意见。

```
 [2012-08-30 22:43:43.250] fs-watcher                   <DE0014I> Uninstalled bundle 'tasknodebundle' version '0.0.0'.
[2012-08-30 22:44:56.453] fs-watcher                   <HD0001I> Hot deployer processing 'CREATED' event for file 'tasknodebundle.jar'.
[2012-08-30 22:44:56.468] fs-watcher                   <DE0701E> Cannot determine the artifact identity of the file 'C:\VIRGO-~1.REL\pickup\tasknodebundle.jar'.
[2012-08-30 22:44:56.484] fs-watcher                   <HD0002E> Hot deploy failed for file 'tasknodebundle.jar'. org.eclipse.virgo.kernel.deployer.core.DeploymentException: Cannot determine the artifact identity of the file 'C:\VIRGO-~1.REL\pickup\tasknodebundle.jar': uri='file:/C:/VIRGO-~1.REL/pickup/tasknodebundle.jar': uri='file:/C:/VIRGO-~1.REL/pickup/tasknodebundle.jar'
        at org.eclipse.virgo.kernel.deployer.core.internal.PipelinedApplicationDeployer.doInstall(PipelinedApplicationDeployer.java:167)
        at org.eclipse.virgo.kernel.deployer.core.internal.PipelinedApplicationDeployer.install(PipelinedApplicationDeployer.java:139)
        at org.eclipse.virgo.kernel.deployer.core.internal.PipelinedApplicationDeployer.deploy(PipelinedApplicationDeployer.java:252)
        at org.eclipse.virgo.kernel.deployer.hot.HotDeploymentFileSystemListener.deploy(HotDeployerFileSystemListener.java:163)
        at org.eclipse.virgo.kernel.deployer.hot.HotDeploymentFileSystemListener.onChange(HotDeployerFileSystemListener.java:67)
        at org.eclipse.virgo.util.io.FileSystemChecker.notifyListeners(FileSystemChecker.java:245)
        at org.eclipse.virgo.util.io.FileSystemChecker.check(FileSystemChecker.java:166)
        at org.eclipse.virgo.kernel.deployer.hot.WatchTask.run(WatchTask.java:48)
        at java.lang.Thread.run(Thread.java:662)
Caused by: org.eclipse.virgo.kernel.deployer.core.DeploymentException: Cannot determine the artifact identity of the file 'C:\VIRGO-~1.REL\pickup\tasknodebundle.jar': uri='file:/C:/VIRGO-~1.REL/pickup/tasknodebundle.jar'
        at org.eclipse.virgo.kernel.deployer.core.internal.PipelinedApplicationDeployer.determineIdentity(PipelinedApplicationDeployer.java:209)
        at org.eclipse.virgo.kernel.deployer.core.internal.PipelinedApplicationDeployer.doInstall(PipelinedApplicationDeployer.java:159)
        ... 8 common frames omitted
Caused by: org.eclipse.virgo.kernel.deployer.core.DeploymentException: Cannot determine the artifact identity of the file 'C:\VIRGO-~1.REL\pickup\tasknodebundle.jar'
        at org.eclipse.virgo.kernel.deployer.core.internal.PipelinedApplicationDeployer.determineIdentity(PipelinedApplicationDeployer.java:348)
        at org.eclipse.virgo.kernel.deployer.core.internal.PipelinedApplicationDeployer.determineIdentity(PipelinedApplicationDeployer.java:207)
        ... 9 common frames omitted 
```

清单文件

```
Manifest-Version: 1.0
Bundle-ManifestVersion: 2
Bundle-Name: task-node-bundle
Bundle-SymbolicName: task-node-bundle
Bundle-Version: 1.0.0.qualifier
Bundle-RequiredExecutionEnvironment: JavaSE-1.6
Export-Package: com.ccl.aws.swf.nodes
Bundle-Vendor: Test user
Import-Package: com.ccl.aws.swf.nodes; version="0.0.0",
 com.ccl.aws.swf.nodes.util; version="0.0.0",
 com.amazonaws.services.ec2; version="1.3.14",
 com.amazonaws.services.s3; version="1.3.14",
 com.amazonaws.services.sns; version="1.3.14",
 com.amazonaws.services.sqs; version="1.3.14",
 com.amazonaws.auth; version="1.3.14" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-02T12:15:04.117

你可以发布清单文件吗？我想问题就在那里。清单文件的文件格式可能很棘手，非常小的东西，如空格、反斜杠或太长的行会弄乱它。

# java - UTF-8 写入 xml 成功

> ID：12209726
> 
> 赞同：2
> 
> 时间：2012-08-31T06:05:50.300
> 
> 标签：java, utf-8, character-encoding, jdom, jdom-2

今天我遇到了一个非常有趣的问题。当我尝试重写 xml 文件时。

我有 3 种方法可以做到这一点。我想知道问题的最佳方法和原因。

我。

```
File file = new File(REAL_XML_PATH);
         try {
         FileWriter fileWriter = new FileWriter(file);
         XMLOutputter xmlOutput = new XMLOutputter();

     xmlOutput.output(document, System.out);
     xmlOutput.output(document, fileWriter);

     fileWriter.close();
     } catch (IOException e) {
     // TODO Auto-generated catch block
     e.printStackTrace();
     } 
```

在这种情况下，我的应用程序存在很大问题。用我自己的语言写文件后，我什么也看不懂。ANSI 上的编码文件已更改`javax.servlet.ServletException: javax.servlet.jsp.JspException: Invalid argument looking up property: "document.rootElement.children[0].children"`

二、

```
File file = new File(REAL_XML_PATH);
         XMLOutputter output=new XMLOutputter();
         try {
            output.output(document, new FileOutputStream(file));
        } catch (FileNotFoundException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } 
```

在这种情况下，我没有问题。编码没有改变。阅读和写作都没有问题。

而这篇文章[http://tripoverit.blogspot.com/2007/04/javas-utf-8-and-unicode-writing-is.html](http://tripoverit.blogspot.com/2007/04/javas-utf-8-and-unicode-writing-is.html)

我想知道问题的最佳方法和原因。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-31T06:12:52.900

好吧，这看起来像问题：

```
FileWriter fileWriter = new FileWriter(file); 
```

那将始终使用平台默认编码，这很少是您想要的。假设您的默认编码是 ISO-8859-1。如果您的文档声明自己以 UTF-8 编码，但您*实际上*用 ISO-8859-1 编写所有内容，那么如果您有任何非 ASCII 字符，那么您的文件将无效 - 您最终会用ISO-8859-1 单字节表示，它不是有效的 UTF-8。

我实际上会提供一个流`XMLOutputter`而不是一个`Writer`. 这样，文件声明的编码和编写器使用的编码之间就没有冲突的余地。所以只需将您的代码更改为：

```
FileOutputStream fileOutput = new FileOutputStream(file);
...
xmlOutput.output(document, fileOutput); 
```

...正如我现在看到的，您已经在第二段代码中完成了。所以是的，这是首选方法。在这里，流不对要使用的编码做任何假设，因为它只是要处理二进制数据。XML 编写代码决定二进制数据是什么，它可以确保它真正使用的字符编码与文件开头的声明相匹配。

您*还*应该清理您的异常处理 - 不要只打印堆栈跟踪并在失败时继续，并`close`在`finally`块中而不是在块的末尾调用`try`。如果您不能*真正处理*异常，请让它直接在堆栈中传播（可能`throws`会在您的方法中添加子句）或捕获它，记录它，然后重新抛出异常或更合适的异常来包装原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T06:16:52.107

如果我没记错的话，您可以强制您的 xmlOutputter 使用“漂亮”格式： new XMLOutputter(Format.getPrettyFormat()) 所以它也应该适用于我

漂亮的是：

> 返回一个新的 Format 对象，该对象使用 2 空格缩进执行空白美化，使用 UTF-8 编码，不扩展空元素，包括声明和编码，并使用默认实体转义策略。可以对返回的 Format 实例进行调整，而不会影响其他实例。

# qt - QGLWidget 在 Mac OS X Lion 下无法正常工作

> ID：12209727
> 
> 赞同：3
> 
> 时间：2012-08-31T06:05:50.590
> 
> 标签：qt, qglwidget

如您所见-我不知道为什么它根本不起作用。

当程序运行时，它将如下所示：![显示损坏](../Images/4b54851ce3c6ffbd2cc5e12682e3aa76.png)

我正在使用来自 macports 的 qt4-mac(v4.8.2)。看起来这个包是预编译的。

这是来源：

主.cpp：

```
#include <iostream>

#include <QApplication>

#include "GLPlayerWindow.hpp"

int main(int argc, char *argv[])
{
     QApplication app(argc, argv);

     GLPlayerWindow window;
     window.show();
     window.resize(800, 600);

     return app.exec();
} 
```

GLPlayerWindow.hpp:

```
#ifndef __GLPLAYERWINDOW__HPP__DEFINED__
#define __GLPLAYERWINDOW__HPP__DEFINED__

#include <string>

#include <QGLWidget>
#include <QMouseEvent>
#include <QKeyEvent>
#include <QTimer>

#include <SimpleAV_SDL.h>

class GLPlayerWindow : public QGLWidget
{
     Q_OBJECT

public:
     GLPlayerWindow(QWidget *parent = NULL);
     ~GLPlayerWindow();

protected slots:
     void paintGL();

protected:
     void initializeGL();
     void resizeGL(int w, int h);
     void keyPressEvent(QKeyEvent *event);
};

#endif 
```

GLPlayerWindow.cpp:

```
#include <iostream>

#include "GLPlayerWindow.hpp"
#include <GL/glu.h>

GLPlayerWindow::GLPlayerWindow(QWidget *parent)
     : QGLWidget(parent) {
     setMouseTracking(true);
}

GLPlayerWindow::~GLPlayerWindow() {
}

void GLPlayerWindow::initializeGL() {
     glDisable(GL_DEPTH_TEST);
     glDisable(GL_COLOR_MATERIAL);
     glEnable(GL_TEXTURE_2D);
     glEnable(GL_BLEND);
     glEnable(GL_POLYGON_SMOOTH);
     glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
     glClearColor(1.0f, 0.0f, 0.0f, 0);
}

void GLPlayerWindow::resizeGL(int w, int h) {
     glViewport(0, 0, w, h);
     glMatrixMode(GL_PROJECTION);
     glLoadIdentity();
     gluOrtho2D(0, w, 0, h); // set origin to top left corner
     glMatrixMode(GL_MODELVIEW);
     glLoadIdentity();
}

void GLPlayerWindow::paintGL() {
     glClear(GL_COLOR_BUFFER_BIT);
     return;
}

void GLPlayerWindow::keyPressEvent(QKeyEvent* event) {
} 
```

和 .pro 文件：

```
QT += opengl
TEMPLATE = app
TARGET = 
DEPENDPATH += .
INCLUDEPATH += .

CONFIG += link_pkgconfig
PKGCONFIG += libavcodec libavformat libavutil libswscale SimpleAV_SDL sdl SDL_mixer gl glu

# LIBS += `pkg-config --libs SimpleAV_SDL SDL_mixer sdl`
# CFLAGS += -g -O2 -Wall -W `pkg-config --cflags SimpleAV_SDL SDL_mixer sdl`
CFLAGS += -g -O2 -Wall -W

# Input
HEADERS += GLPlayerWindow.hpp
SOURCES += GLPlayerWindow.cpp main.cpp 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T09:38:33.630

好的，如果您*在 Mac*下遇到同样的问题，请尝试在 /System/Library/Frameworks/AGL.framework/ 下链接 GL 实现。有关详细信息，请参阅此帖子：[为什么 glOrtho() 在 Mac 下工作但 gluOrtho2D() 不工作？](https://stackoverflow.com/questions/12315126/why-glortho-works-under-mac-but-gluortho2d-doesnt/)

# java - 如何在 scriplet 标记中获取 jsp 页面某些组件的值？

> ID：12209728
> 
> 赞同：2
> 
> 时间：2012-08-31T06:05:54.537
> 
> 标签：java, javascript, jsp, jakarta-ee, struts

我在隐藏字段中设置“Id”。我应该怎么做才能在 Scriptlet 中获得这个值？

我有这个领域

```
<html:hidden name="ConfigForm" property="ConfigId" styleId="ConfigId"/> 
```

我想在我的脚本中有这个字段的值，它有一些像这样的代码行

```
<% Integer ConfigId =1;
  ConfigDTO = getConfig(ConfigId, null); %> 
```

现在我通过硬编码的 ConfgiId 但我需要用隐藏的字段值替换它。——</p>

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T06:28:18.840

**编辑**

也许你可以试试这个（假设 ConfigId 是 java.lang.Integer）：

```
<jsp:useBean id="configId" class="java.lang.Integer"/>  
<bean:write name="configId" property="ConfigId"/>  

<%  
  ConfigDTO = getConfig(configId, null);
%> 
```

此外，如果您还没有得到它，则需要添加 bean taglib 声明：

```
<%@ taglib uri="http://jakarta.apache.org/struts/tags-bean" prefix="bean" %> 
```

# android - Android如何每秒调用25次方法？

> ID：12209733
> 
> 赞同：1
> 
> 时间：2012-08-31T06:06:20.530
> 
> 标签：android, framebuffer

我正在开发一个应用程序，用于调用从设备截屏并保存在外部 sdcard 中。我每秒只能拍摄 5 个屏幕截图。如果我超过屏幕截图的数量，移动 ui 会挂起。我无法获得序列。所以请给我建议。

首先，我将帧缓冲区作为原始文件，然后将其转换为图像。我需要同时处理这两个进程，并且应该每秒至少获得 25 帧。我应该如何调用该方法？

# git - Git 提交 ID 丢失

> ID：12209735
> 
> 赞同：3
> 
> 时间：2012-08-31T06:06:24.100
> 
> 标签：git

我们已经配置了一个 git 仓库，这个仓库包含更多的分支。最近我们遇到了一个问题，我们丢失了一些从存储库中的用户克隆推送的提交。

如果我运行“git log commitid”，我可以看到提交 id 信息，但 git branch --contains commitid” 不显示它所属的分支。

此外，如果我在下面运行描述它的结果，我运行 fsck 所有选项，但看起来这些提交不是纠缠提交。请分享您的想法，为什么这个提交丢失并且没有附加到任何分支。

```
git describe commitid --all 
changes/01/21112/1 
```

* * *

我运行了 git reflog ，但它没有显示提交 id ，我们实际上从一个提交中挑选了提交，现在我可以看到实际的 commitid （即使这个提交也不属于任何提交）和挑选的提交 id缺少对应于实际提交 id 的，我无法追踪到精心挑选的提交 id

如何找到丢失的精选提交 id ？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-31T07:09:11.590

你试过了`git reflog`吗？

例如，当一个提交未被引用时`git reset`，它实际上会在存储库中保存一段时间，甚至`git gc`不会收集它。那是因为它们在**reflog**中被引用。

您可以查看是否是这种情况：

```
$ git fsck --no-reflogs 
```

reflog 在这里保护您。它允许您回滚灾难性`reset`的`rebase`, 或任何其他更改历史的命令。

如果你想恢复这些丢失的提交，你可以很容易地从 reflog 中获取它们。

如果你想永久删除它们，你可以使用类似的东西：

```
$ git reflog expire --all 
```

但要小心！这可能无法撤消。

# ios - 用于保存 UItableview 和在其中编辑的更改的核心数据

> ID：12209736
> 
> 赞同：1
> 
> 时间：2012-08-31T06:06:26.953
> 
> 标签：ios, uitableview, core-data

我是 iPhone 编程的新手..我正在尝试一个带有 tableview 的应用程序，它有个人资料名称和人的图像..tableview 是可编辑的，可以添加新的名称和图片，删除现有的和重新排列表格是可能的..the tableview 及其更改应使用核心数据保存..我已经完成了除了核心数据部分之外的所有内容..不知道如何去做那部分..任何人都可以帮助如何开始和如何继续吗？..是有我可以尝试和学习的任何示例或示例代码，其中核心数据用于保存和加载表格视图..我使用的是 Xcode 4.3.2..

我浏览了我在最初答案中获得的教程链接..但我仍然遇到麻烦..仍然不知道应该从哪里开始..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T07:21:55.563

我建议您从*iTunes U*上的*Stanford CS193P：iPad 和 iPhone 应用程序开发（2011 年秋季）*开始。您还可以查看与 Core Data 相关的 WWDC 2011 和 WWDC 2012 会议。

 ** * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T08:19:03.080

苹果在这里有简短的核心数据示例：

[http://developer.apple.com/library/ios/#DOCUMENTATION/DataManagement/Conceptual/iPhoneCoreData01/Introduction/Introduction.html](http://developer.apple.com/library/ios/#DOCUMENTATION/DataManagement/Conceptual/iPhoneCoreData01/Introduction/Introduction.html)

一旦你完成了这些，你可以尝试手动将 Core Data 代码插入到你的应用程序中，因为你已经开始了你的项目，但是对于新项目，我建议使用 Apple 的包含 Core Data 的模板之一。使它更容易。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T08:32:23.237

我通过这个简单的教程开始学习 Core Data：

[iOS 5 核心数据教程：入门](http://www.raywenderlich.com/934/core-data-on-ios-5-tutorial-getting-started)

[iOS 5 核心数据教程：如何使用 NSFetchedResultsController](http://www.raywenderlich.com/999/core-data-tutorial-how-to-use-nsfetchedresultscontroller)*

# javascript - 检测到 textarea 已开始将字符串添加到换行符中

> ID：12209737
> 
> 赞同：0
> 
> 时间：2012-08-31T06:06:28.983
> 
> 标签：javascript, html, css

我有`textarea`，用户一直在里面写而不按回车。如果他们按回车键，我会得到`\n`我需要的字符，但遗憾的是他们没有按回车键，而是继续输入！

现在，有什么方法可以在移动到下一行`character`之后在字符串中添加新行？`textarea`

*潜在重复：* [文本区域中的自动换行符](https://stackoverflow.com/questions/3115282/automatic-newline-in-textarea)

**注意：**上面分享的问题有一个公认的答案。但是链接不起作用:(其他选项效率不高。

我有几种技术来操纵`String`我从中得到的`<textarea>`。因此，请随时为任何一个提供解决方案。

*   HTML
*   JavaScript
*   枝条
*   php
*   CSS

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:19:45.750

解决此问题的一种方法是使文本区域自动调整大小。因此，用户从单行 textarea 开始，一旦文本变得太长，textarea 就会调整其高度以给用户一个新的空行。

检查[此问题](https://stackoverflow.com/questions/454202/creating-a-textarea-with-auto-resize)或使用您的最爱进行一些研究。如果您需要一种方法来执行此操作，请使用搜索引擎。

一旦脚本触发高度变化，您可以在最新字符*之前添加换行符。*

// 更新：您可能想要检查 textarea 的行为，因为文本很可能在最新的*单词*之前被换行。您必须编写一个算法来检索文本中您需要插入 LF 的位置，以免破坏文本。这听起来很复杂，但不应该太难。只需检查文本在哪些字符之后被换行并搜索其中一个字符的最后一次出现。

# git - Git克隆挂起 - 有没有办法继续克隆？

> ID：12209747
> 
> 赞同：14
> 
> 时间：2012-08-31T06:07:29.560
> 
> 标签：git

有时我的`git clone`命令挂起：

```
git clone -v git@github.com:user/repo.git
Cloning into repo...
remote: Counting objects: 105350, done.
remote: Compressing objects: 100% (28919/28919), done.
Receiving objects:  13% (14481/105350), 6.84 MiB | 46 KiB/s 
```

十分钟没有任何进展。

如果我停止当前进程，是否有任何方法可以使用部分克隆的存储库继续克隆？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-06-18T14:33:01.403

截至目前（git 版本 1.7.10.4）尚不支持此功能。

您可以[阅读为什么](http://git.661346.n2.nabble.com/Continue-git-clone-after-interruption-td3458217.html)开发人员不同意如何实施。2009 年和 2011 年曾有过争论，但目前还没有实施，因为这似乎很难。

这可能很容易（但不幸的是并非如此）：

```
git clone --continue 
```

众所周知：Git 社区的问题或评论可以使用电子邮件地址 git@vger.kernel.org 发送到邮件列表。错误报告应发送至此邮件列表。继续去那里再问一次:)

> Git 不支持可恢复的克隆。事实证明，该功能很难正确实现。一种解决方法是通过 http 下载一个包，然后使用 git 获取剩余的点点滴滴。但是许多存储库管理员不提供捆绑包供您下载。该服务旨在填补这一空白：向我们提供存储库的 URL，我们将创建一个可以通过 http 下载的包。[捆绑器.caurea.org]

我为 qtmoko.git 尝试了这个，看起来效果[很好](http://bundler.caurea.org/bundle/51c066fe9a23a56a7800002f)。另一种选择是要求上游/github 实现“git bundle”，也有 howtos（[如何使用 git-bundle 保持开发同步？](https://stackoverflow.com/questions/3635952/how-to-use-git-bundle-for-keeping-development-in-sync)）。

# php - error_reporting E_STRICT 导致白屏死机

> ID：12209750
> 
> 赞同：1
> 
> 时间：2012-08-31T06:08:07.477
> 
> 标签：php, fatal-error, error-reporting

我查看了一些不同的帖子，但无法找到我的问题的答案。最近我意识到我没有在我的 error_reporting 中使用 E_STRICT，所以我添加了 error_reporting(E_ALL | E_STRICT) 并且一直在调试我发现的错误。

我现在面临的问题是 error_reporting(E_ALL | E_STRICT) 一些页面根本无法加载，我得到一个没有错误的白屏，也没有关于错误的信息。如果我只使用 error_reporting 中的 error_reporting(E_ALL) 一切都很好..

我在我的 php.ini 和我的网站中设置了相同的 error_reporting。

**我还能够准确地找出脚本在哪里中断（在一个确实存在的文件的 include_once 上。）**

我想我可以像到目前为止一样使用 E_ALL 来生存，但我很好奇主要问题是什么。任何帮助深表感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:30:08.007

就我而言，错误可能存储在同一目录中名为`error_log`. 我的网站主机关闭了报告功能，所有错误都存储在`error_log`文件中。

完全基于经验。

# vbscript - Activex 组件无法创建对象：'xyz'

> ID：12209751
> 
> 赞同：1
> 
> 时间：2012-08-31T06:08:25.753
> 
> 标签：vbscript, activex

我编写了以下一段 VB 脚本，它`xyz`从我指定的路径中打开一个现有的应用程序。应用程序（自定义 Windows 应用程序）成功打开。（我想在我的 vb 脚本中使用这个应用程序的自动化接口。）为此我称之为`CreateObject`.

但是，然后我也得到`Activex component can't create object: 'xyz'`了 line的错误`Set xyzObj = CreateObject("xyz")`。错误来自这一行，因为如果我删除这一行就没有错误。

```
Dim objShell 

Set objShell = CreateObject( "WScript.Shell" ) 
objShell.Exec("C:\abc\def\xyz.exe") 

Set xyzObj = CreateObject("xyz")

Set objShell = Nothing 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T18:13:21.527

您不能像在脚本中或以其他方式启动的外部程序一样使用 CreateObject。CreateObject 加载在您的 PC 上注册的 COM 对象。在 vbscript 和 COM 对象上谷歌，你会发现很多信息，比如[http://technet.microsoft.com/en-us/library/ee156598.aspx](http://technet.microsoft.com/en-us/library/ee156598.aspx)。如果您想与已启动的程序进行交互，您可以使用 sendkeys 方法或更好地使用 autoit com 对象，请参阅[http://www.autoitscript.com/autoit3/docs/intro/ComRef.htm](http://www.autoitscript.com/autoit3/docs/intro/ComRef.htm)

# parsekit - Parsekit 编译不干净

> ID：12209752
> 
> 赞同：0
> 
> 时间：2012-08-31T06:08:28.027
> 
> 标签：parsekit

我从谷歌代码下载了最新版本，我使用的是 xcode 4.4（带有命令行工具），10.7.4 并收到以下错误。任何想法？

```
在 /Users/otusweb/SkyDrive/Projects/parsekit/test/PKTokenNode.m:16 包含的文件中：
/Users/otusweb/SkyDrive/Projects/parsekit/include/ParseKit/PKToken.h:42:13:
错误：令牌不是预处理器子表达式中的有效二元运算符
#if 平台（TWITTER_STATE）
    ~~~~~~~~^
/Users/otusweb/SkyDrive/Projects/parsekit/include/ParseKit/PKToken.h:67:13：错误：
令牌不是预处理器子表达式中的有效二元运算符
#if 平台（TWITTER_STATE）
    ~~~~~~~~^
/Users/otusweb/SkyDrive/Projects/parsekit/include/ParseKit/PKToken.h:168:13：错误：
令牌不是预处理器子表达式中的有效二元运算符
#if 平台（TWITTER_STATE）
    ~~~~~~~~^
产生 3 个错误。

```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-01T04:07:06.177

刚刚下载了在谷歌代码上进行的更新以删除平台预处理器命令，它现在可以工作了......

奥利维尔

# iphone - Iphone Linker Error – “class.o for architecture i386” 困惑？

> ID：12209756
> 
> 赞同：1
> 
> 时间：2012-08-31T06:08:38.390
> 
> 标签：iphone

我在尝试构建项目时收到错误链接器错误 - xcode 项目上 i386 架构的 class.o。在我的项目中，我也使用了一些第三方框架。有什么解决办法吗？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T07:37:04.187

为了解决这个问题，这里有一些提示。

1>确保在您的项目中包含 QuartzCore 框架或其他必需的框架。它应该在 Build Phases->Link Binary With Libraries 中。

3>在切换到新版本时检查，将新库放在旧库旁边的文件夹中，以防在某些时候不得不切换回来。通常，当您删除旧版本时，它不会从“项目名称 - >目标下”的构建设置中的库搜索路径中删除旧版本 .a 文件的路径，并删除旧路径并添加新路径必需的。

2>要添加新类，请选择项目名称->在目标下选择您的目标项目名称->构建阶段->展开编译源->单击编译源底部的+并添加正确的源文件。

4>如果以上提示对你不起作用，那么在添加文件时要小心，不要直接复制文件，只需在Xcode中点击“新文件”创建类，并一一复制代码并添加所需的框架。它不会显示链接器错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T06:25:50.557

我相信该类不在您的编译源列表中。

在导航侧边栏上选择您的项目 -> 转到“构建阶段” -> 展开“编译源” -> 为您的类添加相应的 .m 文件

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-31T06:53:53.780

请检查您收到错误消息的类是否链接到您正在构建的目标。

还要确保您链接到项目的第三方库已正确链接，并且在项目运行时也已链接。

这可以确保应用程序能够找到您在运行时提到的类。

# iphone - 在 NSUserDefault 中恢复值

> ID：12209764
> 
> 赞同：0
> 
> 时间：2012-08-31T06:09:03.537
> 
> 标签：iphone, objective-c, ios, xcode, cocoa-touch

我已经像这样使用 NSUserDefault 存储了我的初始设置值...

```
NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];

[defaults setBool:is_remember_chkd forKey:remember_me.titleLabel.text]; // Button text as key
[defaults setBool:is_signin_auto_chkd forKey:signin_automatic.titleLabel.text];
[defaults setBool:is_signin_secret_chkd forKey:signin_secret.titleLabel.text];
[defaults synchronize]; 
```

我检索为....

```
NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
is_remember_chkd = [defaults objectForKey:remember_me.titleLabel.text];
is_signin_auto_chkd = [defaults objectForKey:signin_automatic.titleLabel.text];
is_signin_secret_chkd = [defaults objectForKey:signin_secret.titleLabel.text]; 
```

但我没有得到最后一个值，我做错了什么吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-31T06:18:45.050

对于检索到的 NSUserDefaults Value ，将 objectForKey 替换**为 boolForKey 。**

```
NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
is_remember_chkd = [defaults boolForKey:remember_me.titleLabel.text];
is_signin_auto_chkd = [defaults boolForKey:signin_automatic.titleLabel.text];
is_signin_secret_chkd = [defaults boolForKey :signin_secret.titleLabel.text]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T06:28:34.357

这应该为您解决问题，从返回值中提取 boolValue

```
NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
is_remember_chkd = [[defaults objectForKey:remember_me.titleLabel.text] boolValue];
is_signin_auto_chkd = [[defaults objectForKey:signin_automatic.titleLabel.text] boolValue];
is_signin_secret_chkd = [[defaults objectForKey:signin_secret.titleLabel.text] boolValue]; 
```

希望能帮助到你。快乐编码:)

# ruby-on-rails - facebook登录中的ROR 3应用程序集成错误？

> ID：12209767
> 
> 赞同：0
> 
> 时间：2012-08-31T06:09:11.617
> 
> 标签：ruby-on-rails, facebook, ruby-on-rails-3

我是第一次将 facebook 登录集成到 ROR 应用程序，因为在初始化中创建omniauth.rb 文件后我正在使用以下[教程](http://net.tutsplus.com/tutorials/ruby/how-to-use-omniauth-to-authenticate-your-users/) 我尝试`rails generate controller sessions new create failure`在终端中运行这个（）命令我得到一个错误：

omn​​iauth.rb 文件中的代码是：

```
Rails.application.config.middleware.use OmniAuth::Builder do
  provider :facebook, 123432432433, 1233443232342432432
end 
```

T收到此错误：

```
omniauth-tutorial/config/initializers/omniauth.rb:2: syntax error, unexpected tIDENTIFIER, expecting kEND (SyntaxError)
    from /usr/lib/ruby/gems/1.8/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:234:in `load'
    from /usr/lib/ruby/gems/1.8/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:223:in `load_dependency'
    from /usr/lib/ruby/gems/1.8/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:640:in `new_constants_in'
    from /usr/lib/ruby/gems/1.8/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:223:in `load_dependency'
    from /usr/lib/ruby/gems/1.8/gems/activesupport-3.1.3/lib/active_support/dependencies.rb:234:in `load'
    from /usr/lib/ruby/gems/1.8/gems/railties-3.1.3/lib/rails/engine.rb:556
    from /usr/lib/ruby/gems/1.8/gems/railties-3.1.3/lib/rails/engine.rb:555:in `each'
    from /usr/lib/ruby/gems/1.8/gems/railties-3.1.3/lib/rails/engine.rb:555
    from /usr/lib/ruby/gems/1.8/gems/railties-3.1.3/lib/rails/initializable.rb:30:in `instance_exec'
    from /usr/lib/ruby/gems/1.8/gems/railties-3.1.3/lib/rails/initializable.rb:30:in `run'
    from /usr/lib/ruby/gems/1.8/gems/railties-3.1.3/lib/rails/initializable.rb:55:in `run_initializers'
    from /usr/lib/ruby/gems/1.8/gems/railties-3.1.3/lib/rails/initializable.rb:54:in `each'
    from /usr/lib/ruby/gems/1.8/gems/railties-3.1.3/lib/rails/initializable.rb:54:in `run_initializers'
    from /usr/lib/ruby/gems/1.8/gems/railties-3.1.3/lib/rails/application.rb:96:in `initialize!'
    from /usr/lib/ruby/gems/1.8/gems/railties-3.1.3/lib/rails/railtie/configurable.rb:30:in `send'
    from /usr/lib/ruby/gems/1.8/gems/railties-3.1.3/lib/rails/railtie/configurable.rb:30:in `method_missing'
    from /home/bilmailid17/appror/omniauth-tutorial/config/environment.rb:5
    from /usr/lib/ruby/gems/1.8/gems/railties-3.1.3/lib/rails/application.rb:83:in `require'
    from /usr/lib/ruby/gems/1.8/gems/railties-3.1.3/lib/rails/application.rb:83:in `require_environment!'
    from /usr/lib/ruby/gems/1.8/gems/railties-3.1.3/lib/rails/commands.rb:22
    from script/rails:6:in `require'
    from script/rails:6 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T08:26:21.217

尝试在您的 APP_ID 和 APP_SECRET 周围加上引号：

> 提供者：facebook，“123432432433”，“1233443232342432432”

# java - 椭圆曲线 ElGamal Java 实现

> ID：12209769
> 
> 赞同：3
> 
> 时间：2012-08-31T06:09:47.317
> 
> 标签：java, cryptography, elliptic-curve, elgamal

是否有具有密钥生成、加密和解密功能的 ElGamal 椭圆曲线密码系统的简单实现（使用 Java BigInteger）；一个可以用来在讲座中向大学生解释的东西？

例如，Paillier 加密函数可以在不失一般性的情况下编码为：

```
public BigInteger encrypt(BigInteger input) throws PaillierException  {
    if(!isInZN(input)) {
        throw new PaillierException(PaillierException.TYPE_PLAINTEXT_NOT_IN_ZN, input);
    }
    BigInteger plaintext = handleNegative(input);
    BigInteger r = randomInZStarN();
    return (((n.multiply(plaintext).add(BigInteger.ONE)).multiply(r.modPow(n, nSquared)))).mod(nSquared);
} 
```

其中包含优化 g=(1+n)，使得密文 c = (1 + mn) r^n mod n^2。

请**不要**建议 Java 7 原生实现或 BouncyCastle 实现，因为我不需要真实世界的符合 JCA 的复杂实现。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-10T04:16:30.307

在这里看看一个德国人的文凭作品
[http://www.cdc.informatik.tu-darmstadt.de/reports/reports/crnjak.diplom.ps](http://www.cdc.informatik.tu-darmstadt.de/reports/reports/crnjak.diplom.ps)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-04T18:42:40.067

看一下这个。（根据您的需要进行修改）

```
//X9ECParameters ecParams = NISTNamedCurves.getByName("B-571");
        X9ECParameters ecParams = NISTNamedCurves.getByName("B-163");
        //X9ECParameters ecParams = NISTNamedCurves.getByName("P-384");
        //X9ECParameters ecParams = NISTNamedCurves.getByName("P-521");
        BigInteger privKey = new BigInteger("38e1", 16);
        ECPoint pubKey = ecParams.getG().multiply(privKey);

        System.out.println("Available curves:\n");

        int counter = 0;
        for ( Enumeration e = NISTNamedCurves.getNames(); e.hasMoreElements(); ){
            if (counter == 3) {
                counter = -1;
                System.out.println( e.nextElement().toString() );
            }else{
                System.out.print( e.nextElement().toString() + "    ");
            }
             counter++;
        }

//      System.out.println(privKey.toString(16));

//      for (int i = 1; i < 30; i++) {
//          ECPoint test = ecParams.getG().multiply(
//                  new BigInteger(Integer.toHexString(i), 16));
//          System.out.println("X: " + test.getX().toBigInteger().toString(10)
//                  + "\n" + "Y: " + test.getY().toBigInteger().toString(10)
//                  + "\n");
//      }

        //Encryption "a" = first Point

        ECPoint pMsg = ecParams.getG().multiply(
                new BigInteger(Integer.toHexString(2), 16));

        System.out.println("\n\n--------------------------------------------------------------------------------------------------------------------------------------------------");

        System.out.println("Selected curve:\n");

        System.out.println("Curve:     " + ecParams.getCurve().getFieldSize() + "\n");

        System.out.println("--------------------------------------------------------------------------------------------------------------------------------------------------");

        System.out.println("Point:     " + "X: " + pMsg.getX().toBigInteger().toString(16) + "\n" + "           Y: " + pMsg.getY().toBigInteger().toString(16) + "\n");

        System.out.println("--------------------------------------------------------------------------------------------------------------------------------------------------");

        ECPoint one;
        ECPoint two;

        BigInteger random = new BigInteger(16, new SecureRandom());

        /* g^r */
        one = ecParams.getG().multiply(random);
        /* pk^r+m */
        two = pMsg.add(pubKey.multiply(random));

        //encryptedData edM = new encryptedData(one, two);

        System.out.println("Encrypted:\n");

        System.out.println("One:      " + "X: " + one.getX().toBigInteger().toString(16) + "\n" + "           Y: " + one.getY().toBigInteger().toString(16) + "\n");
        System.out.println("Two:      " + "X: " + two.getX().toBigInteger().toString(16) + "\n" + "           Y: " + two.getY().toBigInteger().toString(16) + "\n");

        System.out.println("--------------------------------------------------------------------------------------------------------------------------------------------------");

        //Decryption

        ECPoint decrypted = edM.eData.subtract(edM.gInR.multiply(privKey));

        System.out.println("Decrypted: " + "X: " + decrypted.getX().toBigInteger().toString(16) + "\n" + "           Y: " + decrypted.getY().toBigInteger().toString(16) + "\n"); 
```

# jakarta-ee - 你好世界！使用远程无状态会话 Bean

> ID：12209774
> 
> 赞同：5
> 
> 时间：2012-08-31T06:10:18.697
> 
> 标签：jakarta-ee, netbeans, glassfish, javabeans, glassfish-3

再会！我是 JavaEE 6 的新手。我尝试使用以下教程创建一个启动项目：[在 GlassFish Server 上创建和运行应用程序客户端](http://netbeans.org/kb/docs/javaee/entappclient.html)。我一步一步地创建了四个项目：JavaSE lib 来存储一个 EJB 远程接口、一个 EJB 模块以及本教程中描述的其他项目。

我的平台：

*   发行商 ID：Ubuntu 描述：Ubuntu 10.10 发行版：10.10 代号：maverick
*   jdk1.6.0_26
*   Netbean7.2(Build 201207171143)
*   GlassFish 服务器 3+

我的远程界面

```
 package ejb.started;
    //    
    import javax.ejb.Remote;
    //
    @Remote
    public interface StartedSessionBeanRemote {

        String getHelloWorld();

    } 
```

它的实现：

```
package ejb.started;
//
import javax.ejb.Stateless;
//
@Stateless(name="StartedSessionBeanRemote")
public class StartedSessionBean implements StartedSessionBeanRemote {

    @Override
    public String getHelloWorld() {
       return ("Hello world, EJB!");
    }

} 
```

和客户端代码：

```
package startedentappclient;
//
import ejb.started.StartedSessionBeanRemote;
import javax.ejb.EJB;
//
public class AppClientMain {
    @EJB
    private static StartedSessionBeanRemote startedSessionBean;
    public static void main(String[] args) {
        System.err.println("EJB: "+startedSessionBean.getHelloWorld());
    }
} 
```

当我尝试运行远程客户端项目时，我收到以下输出：

```
ant -f /home/ilya/Workspace/git/workspace/StartedEntAppClient -DforceRedeploy=false run
init:
EJBRemoteInterface.init:
Deleting: /home/ilya/Workspace/git/workspace/EJBRemoteInterface/build/built-jar.properties
EJBRemoteInterface.deps-jar:
Updating property file: /home/ilya/Workspace/git/workspace/EJBRemoteInterface/build/built-jar.properties
EJBRemoteInterface.compile:
EJBRemoteInterface.jar:
deps-jar:
compile:
library-inclusion-in-archive:
dist:
pre-run-deploy:
Redeploying /home/ilya/Workspace/git/workspace/StartedEntAppClient/dist/StartedEntAppClient.jar
Initializing...
post-run-deploy:
run-deploy:
Copying 1 file to /home/ilya/Workspace/git/workspace/StartedEntAppClient/dist
Copying 2 files to /home/ilya/Workspace/git/workspace/StartedEntAppClient/dist/StartedEntAppClientClient
Warning: /home/ilya/Workspace/git/workspace/StartedEntAppClient/dist/gfdeploy/StartedEntAppClient does not exist.
com.sun.enterprise.container.common.spi.util.InjectionException: Exception attempting to inject Remote ejb-ref name=startedentappclient.AppClientMain/startedSessionBean,Remote 3.x interface =ejb.started.StartedSessionBeanRemote,ejb-link=null,lookup=,mappedName=,jndi-name=ejb.started.StartedSessionBeanRemote,refType=Session into class startedentappclient.AppClientMain: Lookup failed for 'java:comp/env/startedentappclient.AppClientMain/startedSessionBean' in SerialContext[myEnv={java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, java.naming.factory.url.pkgs=com.sun.enterprise.naming, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl}
    at com.sun.enterprise.container.common.impl.util.InjectionManagerImpl._inject(InjectionManagerImpl.java:703)
    at com.sun.enterprise.container.common.impl.util.InjectionManagerImpl.inject(InjectionManagerImpl.java:470)
    at com.sun.enterprise.container.common.impl.util.InjectionManagerImpl.injectClass(InjectionManagerImpl.java:213)
    at com.sun.enterprise.container.common.impl.util.InjectionManagerImpl.injectClass(InjectionManagerImpl.java:205)
    at org.glassfish.appclient.client.acc.AppClientContainer$ClientMainClassSetting.getClientMainClass(AppClientContainer.java:625)
    at org.glassfish.appclient.client.acc.AppClientContainer.getMainMethod(AppClientContainer.java:517)
    at org.glassfish.appclient.client.acc.AppClientContainer.completePreparation(AppClientContainer.java:411)
    at org.glassfish.appclient.client.acc.AppClientContainer.prepare(AppClientContainer.java:319)
    at org.glassfish.appclient.client.AppClientFacade.prepareACC(AppClientFacade.java:278)
    at org.glassfish.appclient.client.acc.agent.AppClientContainerAgent.premain(AppClientContainerAgent.java:82)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:323)
    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:338)
Caused by: javax.naming.NamingException: Lookup failed for 'java:comp/env/startedentappclient.AppClientMain/startedSessionBean' in SerialContext[myEnv={java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, java.naming.factory.url.pkgs=com.sun.enterprise.naming, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl} [Root exception is javax.naming.NamingException: Exception resolving Ejb for 'Remote ejb-ref name=startedentappclient.AppClientMain/startedSessionBean,Remote 3.x interface =ejb.started.StartedSessionBeanRemote,ejb-link=null,lookup=,mappedName=,jndi-name=ejb.started.StartedSessionBeanRemote,refType=Session' .  Actual (possibly internal) Remote JNDI name used for lookup is 'ejb.started.StartedSessionBeanRemote#ejb.started.StartedSessionBeanRemote' [Root exception is javax.naming.NamingException: Lookup failed for 'ejb.started.StartedSessionBeanRemote#ejb.started.StartedSessionBeanRemote' in SerialContext[myEnv={java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, java.naming.factory.url.pkgs=com.sun.enterprise.naming, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl} [Root exception is javax.naming.NameNotFoundException: ejb.started.StartedSessionBeanRemote#ejb.started.StartedSessionBeanRemote not found]]]
    at com.sun.enterprise.naming.impl.SerialContext.lookup(SerialContext.java:518)
    at com.sun.enterprise.naming.impl.SerialContext.lookup(SerialContext.java:455)
    at javax.naming.InitialContext.lookup(InitialContext.java:392)
    at com.sun.enterprise.container.common.impl.util.InjectionManagerImpl._inject(InjectionManagerImpl.java:599)
    ... 15 more
Caused by: javax.naming.NamingException: Exception resolving Ejb for 'Remote ejb-ref name=startedentappclient.AppClientMain/startedSessionBean,Remote 3.x interface =ejb.started.StartedSessionBeanRemote,ejb-link=null,lookup=,mappedName=,jndi-name=ejb.started.StartedSessionBeanRemote,refType=Session' .  Actual (possibly internal) Remote JNDI name used for lookup is 'ejb.started.StartedSessionBeanRemote#ejb.started.StartedSessionBeanRemote' [Root exception is javax.naming.NamingException: Lookup failed for 'ejb.started.StartedSessionBeanRemote#ejb.started.StartedSessionBeanRemote' in SerialContext[myEnv={java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, java.naming.factory.url.pkgs=com.sun.enterprise.naming, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl} [Root exception is javax.naming.NameNotFoundException: ejb.started.StartedSessionBeanRemote#ejb.started.StartedSessionBeanRemote not found]]
    at com.sun.ejb.EjbNamingReferenceManagerImpl.resolveEjbReference(EjbNamingReferenceManagerImpl.java:191)
    at com.sun.enterprise.container.common.impl.ComponentEnvManagerImpl$EjbReferenceProxy.create(ComponentEnvManagerImpl.java:1109)
    at com.sun.enterprise.naming.impl.GlassfishNamingManagerImpl.lookup(GlassfishNamingManagerImpl.java:776)
    at com.sun.enterprise.naming.impl.GlassfishNamingManagerImpl.lookup(GlassfishNamingManagerImpl.java:744)
    at com.sun.enterprise.naming.impl.JavaURLContext.lookup(JavaURLContext.java:169)
    at com.sun.enterprise.naming.impl.SerialContext.lookup(SerialContext.java:498)
    ... 18 more
Caused by: javax.naming.NamingException: Lookup failed for 'ejb.started.StartedSessionBeanRemote#ejb.started.StartedSessionBeanRemote' in SerialContext[myEnv={java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, java.naming.factory.url.pkgs=com.sun.enterprise.naming, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl} [Root exception is javax.naming.NameNotFoundException: ejb.started.StartedSessionBeanRemote#ejb.started.StartedSessionBeanRemote not found]
    at com.sun.enterprise.naming.impl.SerialContext.lookup(SerialContext.java:518)
    at com.sun.enterprise.naming.impl.SerialContext.lookup(SerialContext.java:455)
    at javax.naming.InitialContext.lookup(InitialContext.java:392)
    at com.sun.ejb.EjbNamingReferenceManagerImpl.resolveEjbReference(EjbNamingReferenceManagerImpl.java:186)
    ... 23 more
Caused by: javax.naming.NameNotFoundException: ejb.started.StartedSessionBeanRemote#ejb.started.StartedSessionBeanRemote not found
    at com.sun.enterprise.naming.impl.TransientContext.doLookup(TransientContext.java:248)
    at com.sun.enterprise.naming.impl.TransientContext.lookup(TransientContext.java:215)
    at com.sun.enterprise.naming.impl.SerialContextProviderImpl.lookup(SerialContextProviderImpl.java:77)
    at com.sun.enterprise.naming.impl.RemoteSerialContextProviderImpl.lookup(RemoteSerialContextProviderImpl.java:109)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at com.sun.corba.ee.impl.presentation.rmi.ReflectiveTie.dispatchToMethod(ReflectiveTie.java:144)
    at com.sun.corba.ee.impl.presentation.rmi.ReflectiveTie._invoke(ReflectiveTie.java:174)
    at com.sun.corba.ee.impl.protocol.CorbaServerRequestDispatcherImpl.dispatchToServant(CorbaServerRequestDispatcherImpl.java:528)
    at com.sun.corba.ee.impl.protocol.CorbaServerRequestDispatcherImpl.dispatch(CorbaServerRequestDispatcherImpl.java:199)
    at com.sun.corba.ee.impl.protocol.CorbaMessageMediatorImpl.handleRequestRequest(CorbaMessageMediatorImpl.java:1624)
    at com.sun.corba.ee.impl.protocol.CorbaMessageMediatorImpl.handleRequest(CorbaMessageMediatorImpl.java:1486)
    at com.sun.corba.ee.impl.protocol.CorbaMessageMediatorImpl.handleInput(CorbaMessageMediatorImpl.java:990)
    at com.sun.corba.ee.impl.protocol.giopmsgheaders.RequestMessage_1_2.callback(RequestMessage_1_2.java:214)
    at com.sun.corba.ee.impl.protocol.CorbaMessageMediatorImpl.handleRequest(CorbaMessageMediatorImpl.java:742)
    at com.sun.corba.ee.impl.protocol.CorbaMessageMediatorImpl.dispatch(CorbaMessageMediatorImpl.java:539)
    at com.sun.corba.ee.impl.protocol.CorbaMessageMediatorImpl.doWork(CorbaMessageMediatorImpl.java:2324)
    at com.sun.corba.ee.impl.orbutil.threadpool.ThreadPoolImpl$WorkerThread.performWork(ThreadPoolImpl.java:497)
    at com.sun.corba.ee.impl.orbutil.threadpool.ThreadPoolImpl$WorkerThread.run(ThreadPoolImpl.java:540)
Java Result: 1
run:
BUILD SUCCESSFUL (total time: 11 seconds) 
```

我无法假设这是什么问题。我在我的第二台 PC 上构建了相同的项目，并且一切都成功了。那一个具有相同的软件平台。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-31T07:47:45.597

我相信您无法使用 main 方法中的 @EJB 注释访问 EJB，因为该方法不受服务器管理。相反，您应该使用 JNDI。

[如何从独立的 Java 客户端访问远程 EJB 组件？](http://glassfish.java.net/javaee5/ejb/EJB_FAQ.html#StandaloneRemoteEJB)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-31T06:48:45.420

当你写：

```
@EJB
private static StartedSessionBeanRemote startedSessionBean; 
```

您的客户端尝试执行该 EJB 的[注入](http://www.javacodegeeks.com/2011/08/introduction-to-ejb-30-injection-and.html)。在您的情况下，显然没有成功：

```
com.sun.enterprise.container.common.spi.util.InjectionException: Exception attempting to inject... 
```

您可以通过使用 mappedName 构造来帮助自己。按以下方式重写这些代码行：

```
@Stateless(mappedName="ejb/StartedSessionBeanRemote")
public class StartedSessionBean implements StartedSessionBeanRemote { 
```

和

```
@EJB(mappedName="ejb/StartedSessionBeanRemote")
private static StartedSessionBeanRemote startedSessionBean; 
```

最后，确保您的 EJB 在客户端之前部署，因为没有 EJB 客户端无法注入它:)

# android - 在所有屏幕中显示警报对话框

> ID：12209777
> 
> 赞同：0
> 
> 时间：2012-08-31T06:10:48.993
> 
> 标签：android, android-alertdialog

我正在开发一个应用程序，它会在收到事件时显示一个警报对话框。目前，警报只会出现在该特定活动中。我需要在所有屏幕（例如主屏幕、消息屏幕等）上收到此警报，但我正在通话中。

请为此提供解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T06:15:24.997

使用静态方法创建一些`Utils`类，该类将`Context`作为参数并构建整个对话框。

编辑：

```
public class Utils {

    public static AlertDialog getDialog(Context context) {

        final AlertDialog.Builder builder = new AlertDialog.Builder(context);
        return builder
            .setTitle("title")
            .create()
            ;

    }

} 
```

并在您需要的每个地方调用它：

```
Utils.getDialog(context).show(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T06:25:04.700

您可以在放置此静态方法的 util 包中创建一个 AlartMessage.java 文件。

```
public static void showMessage(final Context c, final String title,
        final String s) {
    final AlertDialog.Builder aBuilder = new AlertDialog.Builder(c);
    aBuilder.setTitle(title);
    // aBuilder.setIcon(R.drawable.icon);
    aBuilder.setMessage(s);

    aBuilder.setPositiveButton("Ok", new DialogInterface.OnClickListener() {

        @Override
        public void onClick(final DialogInterface dialog, final int which) {
            dialog.dismiss();
        }

    });

    aBuilder.show();
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-09-19T03:45:39.097

在`Utils`课堂上，制作这个方法：

```
public static AlertDialog showAlertWithListeners(Context context, String title, String message, String textPositive,
                                          String textNegative,
                                          DialogInterface.OnClickListener positiveButtonClickListener,
                                          DialogInterface.OnClickListener negativeButtonClickListener) {
    if (textNegative != null)
        return new AlertDialog.Builder(context)
                .setTitle(title)
                .setMessage(message)
                .setPositiveButton(textPositive, positiveButtonClickListener)
                .setNegativeButton(textPositive, negativeButtonClickListener)
                .setIcon(android.R.drawable.ic_dialog_alert)
                .show();
    else
        return new AlertDialog.Builder(context)
                .setTitle(title)
                .setMessage(message)
                .setPositiveButton(textPositive, positiveButtonClickListener)
                .setIcon(android.R.drawable.ic_dialog_alert)
                .show();

} 
```

例如，在需要显示 alert 的类中：

```
DialogInterface.OnClickListener positiveButtonClickListener = new DialogInterface.OnClickListener() {
                                        public void onClick(DialogInterface dialog, int which) {
                                            startActivity(new Intent(context, SignInActivity.class));
                                            SignUpActivity.this.finish();
                                        }
                                    };
AlertDialog successDialog = Utils.showAlertWithListeners(context, getResources().getString(R.string.success),
                                            signUpDetailResponse.message, getResources().getString(R.string.ok), null,
                                            positiveButtonClickListener, null);
successDialog.show(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-31T06:15:51.703

创建一个类并在其中创建一个构造函数。将 Activity 上下文传递给构造函数。现在制作一个函数并将警报对话框的代码放入其中。

现在，无论何时您想要该对话框，您都可以使用该类的 crate 对象调用它并调用警报对话框的函数。

# ios - 我遇到一个错误，在 IOS 中说 nil 参数

> ID：12209778
> 
> 赞同：1
> 
> 时间：2012-08-31T06:10:57.230
> 
> 标签：ios

在 IOS 中，我想 UT`ViewController`的功能，运行后一直说 error:nil 参数。我不知道如何解决它，如果有人知道可以帮助我吗？

这是'java代码：

```
#import "MasterViewController.h"  
#import <GHUnitIOS/GHUnit.h>  

@class MasterViewController;  

@interface MasterViewControllerTest : GHViewTestCase{  
NSString* _type;  
NSString* _msgId;  
NSString* _url;  
NSString* _opened;  
}@property(nonatomic,retain) MasterViewController* masterViewController;  
@end  

@implementation MasterViewControllerTest  
@synthesize masterViewController;  

-(void)setUp{  
MasterViewController *viewController = [[MasterViewController alloc]init];  
self.masterViewController = viewController;  
}  

-(void)testPostViewTimeToServ{      
_type = @"m";  
_url = nil;  
_opened = nil;  
_msgId = @"";  

bool resultValue = [self.masterViewController saveAndPostViewMagBodyTime:_type      arg_url:_url arg_open:_opened mid:_msgId];  

GHAssertNotEquals(resultValue, YES, @" post msgIs is nil fail");  

}  
@end 
```

`testPostViewTimeToServ`错误显示是：

* * *

测试套件“测试”开始。启动 MasterViewControllerTest/testPostViewTimeToServ 2012-04-02 20:50:42.269 kMsgGHUnitTests[7747:10b0f] 名称：NSInvalidArgumentException 文件：未知行：未知原因：*** -[NSPlaceholderString initWithString:]：无参数

* * *

为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:47:41.857

您收到错误是因为您`nil`在调用中传递了两个参数的值`saveAndPostViewMagBodyTime:arg_url:arg_open:arg_mid:`。在该方法中的某处，您正在使用其中一个或两个 nil 值来初始化字符串对象，这会引发错误。

避免错误的简单方法是传递一个空字符串值而不是 nil。

```
_url = @"";  
_opened = @""; 
```

# android - 如何让我的外部 jar 与 Android APK 捆绑在一起？

> ID：12209783
> 
> 赞同：1
> 
> 时间：2012-08-31T06:11:25.273
> 
> 标签：android, jar

我尝试了在 Stack Overflow 上发布的所有内容，但是`NoClassDefFoundException`当我尝试在模拟器上进行测试时，我仍然感到很烦人：

1.  我将jar复制到android项目的“libs”目录中
2.  我使用 Add Jar NOT add external jar 将 jar 添加到构建路径
3.  我在导出选项卡中勾选了罐子

我什至尝试用 JDK 1.6 编译一次 jar；仍然是同样烦人的异常。我所指的 jar 仅包含我为另一个项目创建的一些实体对象，并且希望在我的 Android 项目中重新使用。

顺便说一句，我也尝试将 jar 添加为外部 jar，但也没有用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T06:28:26.857

java中出现NoClassDefFound错误，当某些类在运行时不可用，而在编译时可用，请检查此错误的来源，您可以使用以下博客获得帮助：

[http://javarevisited.blogspot.in/2011/06/noclassdeffounderror-exception-in.html](http://javarevisited.blogspot.in/2011/06/noclassdeffounderror-exception-in.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T06:56:02.027

请执行下列操作 ：：

转到项目属性 >> Java Build Path 添加 jar 文件作为外部 jar。

选择订单和导出选项>>选择项目的库和jar。

如果不起作用，请更改 jar 的顺序，确保其高于 android 依赖项。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T06:14:15.973

您需要将其添加到`assets/`目录中，并将其添加到该位置的构建路径中才能正常工作。添加外部库时请记住**选择相同的 jar 。**

看到[这个线程](https://groups.google.com/forum/?fromgroups=#!topic/android-developers/8Q6XCu03-_c)

# javascript - 使用jquery循环变量中的值

> ID：12209788
> 
> 赞同：0
> 
> 时间：2012-08-31T06:12:01.260
> 
> 标签：javascript, jquery, loops

昨天我问了已正确回答的问题。现在我想花更多的时间来理解昨天回答的那个函数。在该函数循环中，在“num”变量中添加值“7”。我想知道它如何在“num”中增加价值。

```
var Arr = [ 'h78em', 'w145px', 'w13px' ]

function stringToNum(str){
  num = 0;
  for (i = 0; i < str.length; i++) 
    if (str[i] >= '0' && str[i] <= '9') 
      num = num * 10 + parseInt(str[i]);
  return num;
}

alert(stringToNum(Arr[0]));
​ 
```

这是[小提琴](http://jsfiddle.net/8WwHh/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T06:24:28.160

在给定的代码中，当调用函数时，if 条件检查传递值中的每个字符串，当变量是数字时，执行以下代码

```
 if (str[i] >= '0' && str[i] <= '9') 
      num = num * 10 + parseInt(str[i]); 
```

所以在给定的字符串中，第一个出现的数字是`7`. 由于 的值`num`最初为零，因此 num 的值将是，

```
 num=( 0 *10) + 7 
```

所以`num=7`在第一次出现的数字。在数字的第二次出现时，`ie 8`

num 的值将是，

```
 num=(7*10)+8 
```

因此价值是`78`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T06:17:17.117

下面的函数会简单得多。

```
function stringToNum(str) {
  return +str.replace(/\D/g, '');
} 
```

***更新：***

使用您的代码：

```
init : num = 0
met 7: num = 0 * 10 + 7 -> num = 7
met 8: num = 7 * 10 + 8 -> num = 78 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-31T06:26:34.700

1次迭代：`num = 0; // h`

2次迭代：`num = 0 * 10 + 7; // 7`

3次迭代：`num = 7 * 10 + 8; // 8`

4次迭代：`num = 78; // e`

5次迭代：`num = 78; // m`

# javascript - 将 html 从 textarea 粘贴到 Contenteditable Div

> ID：12209793
> 
> 赞同：0
> 
> 时间：2012-08-31T06:12:49.507
> 
> 标签：javascript, jquery, wysiwyg, contenteditable, paste

我正在使用包装器 div 开发 RTE（富文本编辑器）。

```
<div id="myeditor"></div>
//then
editorfunction(myeditor);
What the function does is add the following elements
<div id="myeditor">
    <div class="toolbar">buttons here</div>
    <div class="editorwrapper">
      <div class="editor-richtext">
         rich text etc
      </div>
      <textarea class="editor-source"><p>rich text etc</p></textarea>
    </div>
</div> 
```

我可以成功地从 .editor-richtext 中获取 html 并将其放入 textarea 中，但是当我编辑 textarea 时，我似乎无法将其粘贴回富文本中。

提前致谢！

**更新 1**
好的，看来

```
$("richtext").blur(function() {
   $("textarea").val($(this).html());
}); 
```

工作正常，但不是相反（从文本区域到富文本）。

**更新 2** 它似乎非常不稳定，它部分工作但表现得很奇怪：\ 我无法从 textarea 完全获取内容并将作为 html 粘贴到 contenteditable 中。我会继续做一些研究。

**更新 3** 我刚刚更新了更新 1 和更新 2，因为我在大脑中完全翻转了 textarea 和 Richtext。对不起！

**更新 4** 好的，我现在几乎解决了。我只有一个小问题，在初始化时，如果我不关注 contenteditable div 并切换到源视图\textarea。textarea 被清空，然后当我返回 RTE view\contenteditable div 时，它被清空。来自空的 textarea\source。我正在研究一种变通方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T06:17:11.890

您可以挂钩 textarea 的 onBlur 事件以复制文本并将其粘贴到 editor-richtext

```
$("textarea.editor-source").blur(function(){
   $("div.editor-richtext").html($(this).val());
}); 
```

编辑

对于其他方式，您可以使用以下代码段

```
$("textarea.editor-source").focus(function(){
   $(this).val($("div.editor-richtext").text());
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T06:39:25.590

一切正常。您示例中的选择器是错误的想法：

HTML：

```
 <div class="editor-richtext">
     original text
  </div>

  <textarea class="editor-source">modified text</textarea> 
```

JS：

```
 $(".editor-source").blur(function() {
     $(".editor-richtext").html($(this).val());
  });​ 
```

[**演示**](http://jsfiddle.net/FDYZp/)

***升级版：***

```
$(".editor-richtext").click(function(){
    $(".editor-source").val($(this).html().trim());
}); 
```

​新的 [**演示**](http://jsfiddle.net/FDYZp/2/)，将内容从`div`点击`textarea`事件中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T06:19:32.073

您可能想使用 jQuery 和以下功能？

```
$(".editor-source").keyup(function() {
    $(".editor-richtext").html($(this).val());
}); 
```

# java - 在 BLACKBERRY 9900 中自定义对话框字体没有改变

> ID：12209797
> 
> 赞同：2
> 
> 时间：2012-08-31T06:13:02.287
> 
> 标签：java, blackberry

我正在为使用自定义按钮的黑莓 9900 开发应用程序。但是当我使用 FontFamily 字体来更改字体时，它不会受到影响。但是当我在其他模拟器中运行相同的代码时，更改会受到影响。知道为什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:20:24.067

我认为这是因为您在自定义控件中使用的字体未安装在特定设备上。没有`standard`RIM OS 安装包。每个与 RIM 签约的移动运营商都可以构建自己的 RIM OS 分发包。在您的情况下，您会得到一个没有安装此字体的设备。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T11:40:46.193

如果您将您的课程扩展到 Screen....将其更改为 MainScreen 并删除 super.This 可能会更改屏幕的属性并解决您的问题。尝试一下 ：）

# delphi - Delphi 7 应用程序最佳实践/必备

> ID：12209798
> 
> 赞同：3
> 
> 时间：2012-08-31T06:13:03.353
> 
> 标签：delphi

我们有一个在 Delphi 7 中制作的应用程序，它已经发展了十多年。我们目前正在迁移到 XE2，但这需要一些时间。

我最近发现了 FastMM 替换内存管理器。在阅读完这对于 Delphi 7（或更早版本？）中的任何应用程序来说，这似乎是一个不费吹灰之力的步骤。可悲的是，我们才刚刚发现它；我想是缺乏知识或曝光。

我的问题是，在使用 Delphi 7 创建应用程序时，是否还有其他附加功能（例如 FastMM）也很简单，大多数人都同意的其他小的调整、组件、工具或单元应该添加到几乎任何 Delphi 7 应用程序中。我知道这些年来很多事情已经曝光，或者我们可能不知道的组件已经存在。谷歌搜索此信息会给出大多数过时的结果。

任何指导表示赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-31T09:47:02.593

这种问题（并回答它）有引发大量讨论的风险，但是您要求的信息对其他人很有价值，所以这是我的回答：

*   使用[ModelMaker Code Explorer](http://www.modelmakertools.com/code-explorer/index.html)、[Castallia](http://www.twodesk.com/castalia/)、[cnPack IDE Wizards](http://sourceforge.net/projects/cnwizards/)或[GExperts](http://www.gexperts.org/)等开发生产力工具（这`or`不是唯一的）
*   使用[FastMM4](http://sourceforge.net/projects/fastmm/)
*   [使用像madExcept](http://madshi.net/madExceptDescription.htm)这样的异常捕获器
*   使用[CodeSite](http://www.raize.com/devtools/codesite/Default.asp)或[Eurekalog 之类的日志记录工具](http://www.eurekalog.com/)
*   使用来自 DevExpress、[Raize](http://www.raize.com/devtools/rzcomps/)、[JVCL](http://jvcl.delphi-jedi.org/)等的 GUI 控制套件（还有更多）
*   使用像[JCL这样的基础库](http://sourceforge.net/projects/jcl/)

还有更多，也许我们应该把它变成一个社区维基。

从升级的角度来看，我的经验是你最好将你所有的 3rd 方库一个一个升级到最新版本，然后最后升级 Delphi。这使得过渡成为一个多步骤的过程，更易于管理。

# ios - 在 Xcode 中生成无限数量的对象

> ID：12209799
> 
> 赞同：2
> 
> 时间：2012-08-31T06:13:06.767
> 
> 标签：ios, xcode, timer, uiimage

我现在正在开发一个游戏，在这个游戏中，我想每秒创建 x 个从屏幕顶部开始的新 UIImage 对象。在它们被实例化后，我希望它们自动下落，直到它们到达屏幕底部，此时我不再使用它们。

它几乎就像雨滴——每秒会产生 X 个雨滴，它们每个都以不同的速度落下。

我对如何设计我的程序来做到这一点感到非常困惑。

任何帮助将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T06:30:26.157

它们是同一图像的所有副本，还是至少是一组有限图像中的一个的副本？对于这样一个类似游戏的图形密集型应用程序，我会认真考虑使用 OpenGL ES，尽管对于只熟悉 UIKit 的人来说学习曲线很陡峭。幸运的是，有第三方开源库（例如 Cocos2d）可以制作高效的 2d 图形，几乎和 UIKit 一样容易编写代码。

特别是关于你的问题，我没有看过@ctrahey提到的视频，但我能想到这些模式：

1.  有一个（有限的）可重用对象“池”，其大小等于在任何给定时间可能出现在屏幕上的实例的最大数量。您肯定*要*设置此限制，因为图形性能不是无限的。每次一个对象掉出屏幕时，“重置”它的状态并重新使用它（再次从顶部）。UITableView 对表格单元格执行类似的操作。

2.  按需创建实例，并在它们离开屏幕后销毁它们（release->dealloc）。

您必须平衡创建/销毁实例的运行时成本与重置对象的成本/不便。

希望能帮助到你

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-31T07:36:56.057

第 1 步：每秒运行一段代码

```
timer = [NSTimer scheduledTimerWithTimeInterval:1.0 target:self selector:@selector(dispatchSomeRaindrops) userInfo:nil repeats:YES]; 
```

第 2 步：创建一些粒子，将它们发送到屏幕下方，并在它们到达底部时清理它们。

```
- (void)dispatchSomeRaindrops
{
    for (int i = 0; i < 5; i++) {
        UIImageView *view = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"safari.png"]];

        CGFloat halfHeight = view.frame.size.height / 2;
        CGFloat x = arc4random() % (int)self.view.frame.size.width;
        view.center = CGPointMake(x, -halfHeight);

        [self.view addSubview:view];

        NSTimeInterval duration = 10 + arc4random() % 10;
        [UIView animateWithDuration:duration delay:0 options:UIViewAnimationOptionCurveEaseIn animations:^{
            float endY = self.view.frame.size.height + halfHeight;
            view.center = CGPointMake(x, endY);
        } completion:^(BOOL finished) {
            [view removeFromSuperview];
        }];
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-31T06:21:57.610

查看来自 WWDC 2011[的 Core Animation 视频](https://developer.apple.com/videos/wwdc/2011/?id=421)，在接近尾声时有一些关于“复制器”的内容，听起来正是您所追求的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-31T07:30:18.773

仅供参考：找到了一个很好的资源来处理这个确切的场景。它确实需要您使用 cocos2d，但它以非常清晰易懂的方式对其进行了解释。

[http://www.raywenderlich.com/352/how-to-make-a-simple-iphone-game-with-cocos2d-tutorial](http://www.raywenderlich.com/352/how-to-make-a-simple-iphone-game-with-cocos2d-tutorial)

# java - 如何在 Java 运行时更改文件扩展名

> ID：12209801
> 
> 赞同：17
> 
> 时间：2012-08-31T06:13:24.030
> 
> 标签：java, file-rename

我正在尝试实现程序来压缩和解压缩文件。我要做的就是压缩一个名称为**fileName.zip的****文件（fileName.fileExtension）** ，然后在解压缩时再次将其更改为**fileName.fileExtension**。

 ***** * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-08-31T06:36:50.973

这就是我用来重命名文件或更改其扩展名的方式。

```
public static void modify(File file) 
    {
        int index = file.getName().lastIndexOf(".");
        //print filename
        //System.out.println(file.getName().substring(0, index));
        //print extension
        //System.out.println(file.getName().substring(index));
        String ext = file.getName().substring(index);
        //use file.renameTo() to rename the file
        file.renameTo(new File("Newname"+ext));
    } 
```

* * *

*编辑*：约翰的方法重命名文件（保留扩展名）。要更改扩展名，请执行以下操作：

```
public static File changeExtension(File f, String newExtension) {
  int i = f.getName().lastIndexOf('.');
  String name = f.getName().substring(0,i);
  return new File(f.getParent(), name + newExtension);
} 
```

这只会更改文件名*的最后一个扩展*名，即`.gz`. `archive.tar.gz`因此，它适用于名称以 a 开头的 Linux 隐藏文件，`.` 这是非常安全的，因为如果`getParent()`返回`null`（即，如果父项是系统根目录），它会“强制转换”为空字符串作为首先评估 File 构造函数。

你会得到一个有趣的输出的唯一情况是如果你传入一个代表系统根本身的文件，在这种情况下，它会`null`被附加到路径字符串的其余部分。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-08-31T06:20:20.153

尝试：

```
File file  = new File("fileName.zip"); // handler to your ZIP file
File file2 = new File("fileName.fileExtension"); // destination dir of your file
boolean success = file.renameTo(file2);
if (success) {
    // File has been renamed
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2017-07-10T08:24:23.737

我会在更改之前检查文件是否具有扩展名。下面的解决方案也适用于没有扩展名或多个扩展名的文件

```
public File changeExtension(File file, String extension) {
    String filename = file.getName();

    if (filename.contains(".")) {
        filename = filename.substring(0, filename.lastIndexOf('.'));
    }
    filename += "." + extension;

    file.renameTo(new File(file.getParentFile(), filename));
    return file;
}

@Test
public void test() {
    assertThat(changeExtension(new File("C:/a/aaa.bbb.ccc"), "txt"), 
                            is(new File("C:/a/aaa.bbb.txt")));

    assertThat(changeExtension(new File("C:/a/test"), "txt"), 
                            is(new File("C:/a/test.txt")));
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-12-31T16:47:37.950

我想避免新扩展恰好位于路径或文件名本身中。我喜欢 java.nio 和 apache StringFilenameUtils 的组合。

```
public void changeExtension(Path file, String extension) throws IOException {
    String newFilename = FilenameUtils.removeExtension(file.toString()) + EXTENSION_SEPARATOR_STR + extension;
    Files.move(file, Paths.get(newFilename, StandardCopyOption.REPLACE_EXISTING));
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-04-26T10:38:11.707

```
FilenameUtils.getFullPathNoEndSeparator(doc.getDocLoc()) + "/" +
     FilenameUtils.getBaseName(doc.getDocLoc()) + ".xml" 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2022-01-30T12:12:30.817

如果您使用的是 Kotlin，则可以从`file`对象的此属性中使用：

```
file.nameWithoutExtension + "extension" 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-06-14T01:29:25.370

通过与@hsz 提到的相同逻辑，但只需使用替换：

```
File file  = new File("fileName.fileExtension"); // creating object of File 
String str = file.getPath().replace(".fileExtension", ".zip"); // replacing extension to another 
file.renameTo(new File(str)); 
```****

# c# - 带有 MVC、EF、WCF、存储库、UoW、DI、记录器的项目模板？

> ID：12209803
> 
> 赞同：0
> 
> 时间：2012-08-31T06:13:27.127
> 
> 标签：c#, .net, asp.net-mvc-3, wcf, entity-framework

我想开始一个项目。如果有适用于中小型应用程序且不太复杂的开源模板可用，请您指导我。

我想要 MVC、EF、WCF、Repository、UOW 和 DI 模式、测试项目和错误记录器。

请指教。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T10:45:32.563

这是您第一次使用 ASP.NET MVC 3 吗？有许多在线教程和示例应用程序可供您学习。这些示例应用程序中有 99% 实现了您正在寻找的内容。处理应用程序以便您可以学习，您将不得不投入一些时间来更好地理解这一点。你可以去搜索[Codeplex](http://www.codeplex.com/)，你可以下载大量的应用程序并通过源代码工作。

一个对我帮助很大的项目是`Kigg`. 写得很好的代码。 [在 Codeplex 上查看](http://kigg.codeplex.com/)。

# jquery - onclick 元素的父级

> ID：12209804
> 
> 赞同：0
> 
> 时间：2012-08-31T06:13:29.193
> 
> 标签：jquery, jplayer

我正在使用以下代码：

```
$("#jplayer_playlist_item_" + i).data("index", i).click(function () {
  var index = $(this).data("index");

  if (playItem != index) {
    playListChange(index);
  } else {
    $("#jquery_jplayer").jPlayer("play");
  }

  $(this).blur();

  return false;
}); 
```

我正在尝试获取它，以便当我单击`"#jplayer_playlist_item_" + i"`（它是 a `li`）的父级时，它会继续执行此功能，就像我单击该项目本身一样。

我之前尝试过纠正`.parent`，`.click`但没有奏效。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T06:24:10.423

您是否尝试过删除 .data("index",i) ？

以下应该有效：

```
$("#jplayer_playlist_item_" + i).parent().click(function()
    {
        var index = $(this).data("index");
        if (playItem != index)
        {
            playListChange(index);
        } else
        {
            $("#jquery_jplayer").jPlayer("play");
        }
        $(this).blur();
        return false;
    }); 
```

否则使用以下内容开始选择：

```
 $("#idofparentelement, #idofparentelement > #jplayer_playlist_item_" + i).data("index", i).click(function()
    {
        var index = $(this).data("index");
        if (playItem != index)
        {
            playListChange(index);
        } else
        {
            $("#jquery_jplayer").jPlayer("play");
        }
        $(this).blur();
        return false;
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T06:32:22.680

如果您希望单击项目和父项都连接到事件处理程序，您可以这样做：

```
var item = $("#jplayer_playlist_item_" + i);
item.add(item.parent()).data("index", i).click(function() {
    ...
} 
```

这会将您的普通项目放入 jQuery 对象中，然后将父对象添加到选择中，然后将 data("index", i) 和单击处理程序应用于项目和单击处理程序。

如果我们可以看到此处涉及的实际 HTML，则可能还可以使用委托事件处理和事件冒泡在一个位置处理任一元素的单击。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T06:45:11.670

除了您的代码：

```
$("#jplayer_playlist_item_" + i).data("index", i).click(function() {
    var index = $(this).data("index");
    if (playItem != index) {
        playListChange(index);
    } else {
        $("#jquery_jplayer").jPlayer("play");
    }
    $(this).blur();
    return false;
});​ 
```

只需这样做：

```
var $element = $("#jplayer_playlist_item_" + i);
$element.parent().click(function() {
    $element.click();
    return false;
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-31T09:05:28.763

你有没有试过这样。既然你知道它是`<li>`并且假设它的父母应该是`<ul>`，

请试试

```
$("#jplayer_playlist_item_" + i).data("index", i).parents('ul').click(function () {
.....
} 
```

# perl - 如何从哈希引用中获取键和值？

> ID：12209805
> 
> 赞同：2
> 
> 时间：2012-08-31T06:13:34.973
> 
> 标签：perl

```
my $data = shift;
warn Dumper $data;    
$VAR1 = {

    'sessid' => '3c18e794b31c46eb0c....',
    'code' => '0',
    'message' => 'Authentication succeeded'

}; 
```

我想获取键和值。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-31T06:16:49.307

欢迎来到 StackExchange。

您应该在名为. [`each`](http://perldoc.perl.org/functions/each.html)_ 例子：[`keys`](http://perldoc.perl.org/functions/keys.html)[`values`](http://perldoc.perl.org/functions/values.html)`perldoc`[`perlfunc`](http://perldoc.perl.org/perlfunc.html)

```
while (my ($key, $value) = each %{ $data }) {
  print "key: $key; value: $value\n";
} 
```

# php - PHP:Web 套接字和 html 5

> ID：12209807
> 
> 赞同：0
> 
> 时间：2012-08-31T06:13:45.360
> 
> 标签：php, javascript, node.js

我正在做一个项目，我正在尝试构建一个界面，例如如果用户已登录，并且介于两者之间，如果服务器有该用户的任何消息，那么用户将立即收到通知（如 facebook），所以我正在通过 websockets但我应该从哪里开始感到困惑？请给我一些基本的想法？

我使用 PHP 作为实现语言

我目前正在寻找有关使用 PHP、NodeJS 和 socket.io 的混合实现实时通知的建议。目前我对 Node 和 socket.io 几乎没有做任何事情，所以我对实现这一目标的最佳方法感到茫然。我已经做了一些基本的听力和什么不是但没有什么极端的。

现在我的问题是：

1.  socket.io 如何知道新的通知，PHP 是否应该负责将数据（比如创建了一个帖子）发送到 socket.io 并从那里广播到连接的客户端？
2.  socket.io 如何知道哪些客户端需要通知？

我真的不确定还有什么。目前这对我来说有点多。我只是不知道如何分发通知。

任何建议将不胜感激。我不期待详细的演练，只是朝着正确的方向推进，或者了解它是如何网格化的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-31T06:25:35.060

从阅读什么是 websockets、它们如何工作、浏览器支持什么开始。互联网上充满了这些信息。

对于 php 实现，请查看[http://socketo.me/](http://socketo.me/)。PHP 不是最适合套接字通信的。我会将 nodejs+socket.io 和 php 用于“常规内容”。不要害怕混合技术，所有问题都没有锤子。

**编辑**：

如果您不了解 nodejs，那可能会很难，但值得您花时间学习它。

一些想法：

您可以在数据库上创建带有通知的表，然后如果发生某些事件，例如。在此处添加添加记录（例如新帖子的数量和 user_id），然后从 nodejs 端连接到数据库获取数据库并查找当前用户的通知。

然后 nodejs 通知监听客户端有关更改（socket.io）

如果用户评论新帖子更新计数器为 0，（类似于 facebook 在您收到新消息时所做的事情），然后 nodejs 将知道没有新帖子，因此无需通知。

最难的部分是获取当前用户会话。

一些相关的：

[http://socket.io/](http://socket.io/)

[哪些 MySQL 驱动程序可用于 node.js？](https://stackoverflow.com/questions/3878818/node-js-and-mysql-drivers)

[通过 cookie 在 php 和 node.js 之间安全地共享数据](https://stackoverflow.com/questions/5879132/sharing-data-between-php-and-node-js-via-cookie-securely)

[验证 socket.io/nodejs 的用户](https://stackoverflow.com/questions/6502031/authenticate-user-for-socket-io-nodejs)

[Socket IO 发送到指定的用户 ID](https://stackoverflow.com/questions/9137877/socket-io-send-to-specified-user-id)

# hosting - hostgator 附加域问题

> ID：12209809
> 
> 赞同：0
> 
> 时间：2012-08-31T06:13:49.943
> 
> 标签：hosting, subdomain, google-search

我的帐户中有许多附加域...但现在在搜索中遇到问题...我的附加域在搜索中显示为子域...我也有其他公司的托管但从未遇到过之前的问题...如果您搜索“grdps.com punjab”，它将给出**grdps.ukwebsitedesigners.net** 而不是 **grdps.com** ...为什么？我所有的网站都有这个问题，如果谷歌搜索我会受到影响......请帮助......有没有办法解决它，问题出在哪里？托管？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T13:15:37.453

我得到了答案，我添加了 Disallow: in robots.txt 并将我的子域重定向到主域......问题解决了

# java - 从 main() 终止 Runnable() 对象

> ID：12209810
> 
> 赞同：0
> 
> 时间：2012-08-31T06:13:50.877
> 
> 标签：java, multithreading, stream, runnable

这是我的 Runnable 对象（在另一个类中）：

```
private class StopFileCopy implements Runnable
{
     ObjectInputStream st;

     public Runnable(ObjectInputStream st)
     {
         this.st = st;
     }

     public void run()
     {
         if(st.read())
            stopWritingToFile = true;  // stopWritingToFile is an instance variable of the
                                       // class that contains this StopFileCopy class
     }
} 
```

现在的问题是整数可能会或可能不会写入流“st”。如果没有，那么我需要立即从类外停止此 StopFileCopy 对象。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:37:38.680

如果我理解正确，那么您的问题是，这`st.read()`可能会永远阻塞。您可以做的是，您可以在经过一段时间后通过调用[Thread.interrupt来中断正在运行的线程。](http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html#interrupt%28%29)（在您的可运行线程上从您的主线程执行此操作。）另一种方法是使用您传递可运行的[FutureTask](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/FutureTask.html)`get()` ，然后在超时时调用它。
顺便说一句，这是一个类似的问题：[在 ObjectInputStream.readObject() 上设置超时是否安全？](https://stackoverflow.com/questions/4974742/is-setting-a-timeout-on-objectinputstream-readobject-safe)

* * *

还有一件事对打断很重要。它不会隐式停止阻塞，您必须继承`Thread`而不是实现`Runnable`和覆盖`interrupt`以关闭流（然后调用`super.interrupt`）。另一种方法是关闭来自其他线程的流。

# javascript - jQuery - 有没有办法测试一个函数是否是异步的？

> ID：12209812
> 
> 赞同：1
> 
> 时间：2012-08-31T06:13:53.227
> 
> 标签：javascript, jquery, asynchronous

在我的代码中，我想测试一个函数是否是异步的，如果是，使用它的回调函数。但如果没有，那我就手动调用下一个函数。那么有没有办法测试一个函数是否是异步的呢？如果没有，那么我在哪里可以找到所有异步 jQuery 函数的列表？

```
if (isAsynchronous(fn)) {
  args.push(function () { alert('callback!'); });
  this.fn.apply(this, args);
} else {
  this.fn.apply(this, args);
  alert('synchronous');
} 
```

因此，如果这是不可能的，那么拥有一个列表将是下一个最好的事情。

```
var asynchs = {
  animate: true,
  fadeIn: true
  //etc...
};

if (asynchs[fn]) {
  args.push(function () {alert('callback!'); });
  this.fn.apply(this, args);
} else {
  this.fn.apply(this, args);
  alert('synchronous');
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T06:21:44.437

没有编程方式来确定函数是同步的还是异步的。事实上，一个函数可能是同步的或异步的，这取决于它传递的内容。Like`$.ajax()`可以传递一个参数来确定它是哪个。

因此，如果您想知道函数是什么，您必须阅读文档或代码。

一般来说，如果一个函数提供了一个“完成”回调或类似的东西，那么你应该怀疑它可能是异步的或者有一个异步选项，并查看文档来确认。如果 jQuery 方法没有完成回调，那么它可能不是异步的。

其他的事情，比如`$.each()`只使用回调作为其实现的一部分（它们不是“完成”回调）并且不是异步的。

您还应该怀疑任何执行动画或联网或等待一段时间的方法都可能是异步的。jquery 文档写得非常好，所以如果你不确定，快速浏览一下通常很简单。

# php - Html Post方法刷新后获取空白页

> ID：12209813
> 
> 赞同：0
> 
> 时间：2012-08-31T06:14:08.107
> 
> 标签：php, html

我正在使用 post 方法测试 Html 表单并得到了这个奇怪的结果：我在**服务器 apache**上有两个 html 页面（已经安装了 php）：post.html 和 target.html，这些页面的代码如下：

**post.html**（不用担心 html 标准）

```
 <div style="text-align: center">
       <form method="POST" action="target.html">
          <input type="text" name="testname" value="sometext" />
          <input type="submit" value="submit" />
        </form>
    </div> 
```

和**target.html**

```
<html>
  <head>
  </head>
  <body>
    <h1>Target page</h1>
  </body>
</html> 
```

当我在 post.html 页面上的表单中输入数据并点击提交按钮时，我到达了 target.html 页面。在这个页面（target.html）上，我刷新了页面，我收到的是一个空白页面。我第二次刷新，它变成了正常的Html页面。

我不知道为什么我第一次刷新时它返回一个空白页面，我尝试了相同的方法但是使用 PHP 页面，并且目标页面的内容（假设名称 target.php）仍然存在（不像上面的 html 文件那样为空白) 那么，你能解释一下这个问题吗？谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:22:11.440

这肯定与您的浏览器有关。在使用 Safari 的 Mac 上也是如此，在提交内容后的某些页面上，页面似乎冻结了，我刷新它，然后它又可以工作了。

就我而言，绝对不是代码问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T09:06:41.940

这是因为您无法将输入从 html 传递到 html 文件。您的 target.html 应该是一个 php 文件 (target.php)。并尝试将此代码放在您的 target.php

```
<?php
var_dump($_POST); //this will show the inputted text and also show the data type and will stop the code execution here. other codes below will not be executed.
echo $_POST['testname'];
?> 
```

此外，在表单操作中将 target.html 更改为 target.php

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T06:24:11.603

首先，我将从更正您的 post.html 开始

```
<div style="text-align: center;"> <!-- added a ; after center -->
   <form method="POST" action="target.html">
      <input type="text" name="testname" value="sometext" />
      <input type="submit" value="submit" />
    </form>
</div> 
```

这可能无关紧要，但您应该以 ; 结束所有样式。

继续，一切看起来都很好。也许刷新之间发生了一些奇怪的事情。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-02T05:54:12.500

将表单页面保存在 php 中，而不是在同一页面中添加 php 脚本，这里试试这个。记得保存在 .php 中。

```
<?php $testname = $_Post['testname'];
echo $testname ?>

<div style="text-align: center">
       <form method="POST" action="">
          <input type="text" name="testname" value="sometext" />
          <input type="submit" value="submit" />
        </form>
    </div> 
```

# java - response.getOutputStream 已经被调用

> ID：12209816
> 
> 赞同：3
> 
> 时间：2012-08-31T06:14:16.877
> 
> 标签：java, servlets

有没有一种方法可以检查是否已调用 getOutputStream 以进行响应？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:19:49.960

一种方法是编写一个`ServletFilter`拦截 servlet 请求的方法，使用[Decorator](http://en.wikipedia.org/wiki/Decorator_pattern)包装 HttpServletResponse ，其 response.getOutputStream() 会告诉您该方法已被调用，并将调用委托给包装`HttpServletResponse`的以返回实际的输出流。

# c# - 'int' 不包含定义和扩展方法

> ID：12209819
> 
> 赞同：-7
> 
> 时间：2012-08-31T06:14:39.753
> 
> 标签：c#

我面临以下错误

“int”不包含“LeaveType”的定义，并且找不到接受“int”类型的第一个参数的扩展方法“LeaveType”（您是否缺少 using 指令或程序集引用？）

这是我的代码：

```
public DataSet GetLeaveRecord(int empID)
{
    DataSet ds = new DataSet();
    try
    {
        SqlCommand cmd = new SqlCommand("[p_GetLeaveRecord_LMS]", conn);
        cmd.CommandType = CommandType.StoredProcedure;
        SqlDataAdapter adapter = new SqlDataAdapter(cmd);
        cmd.Parameters.AddWithValue("@LeaveType", empID.LeaveType);
        cmd.Parameters.AddWithValue("@IdEmployee", empID.EmployeeId);
        cmd.Parameters.AddWithValue("@DateFrom", empIDd.DateFrom);
        cmd.Parameters.AddWithValue("@DateTo ", empID.DateTo);
        cmd.Parameters.AddWithValue("@Reason", empID.Reason);
        if (conn.State == ConnectionState.Closed)
        {
            conn.Open();
        }
        adapter.Fill(ds);
    }
    catch (Exception e)
    {
        throw e;
    }
    finally
    {
        if (conn.State == ConnectionState.Open)
        {
            conn.Close();
        }
    }
    return ds;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T06:17:50.063

您`empID`作为`int`类型参数传递，稍后您将其用作参数中的类型。例如。

```
 cmd.Parameters.AddWithValue("@LeaveType", empID.LeaveType); 
```

我相信你必须在你的方法中传递你的对象`EmployeeLeave`类型

```
GetLeaveRecord(int empID) 
```

或者你可以根据`ID`你的方法获取你的对象，然后在你的参数中使用它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T06:19:20.390

代码按预期工作。代码是否意味着在给定员工 ID (empID) 的情况下查找员工详细信息？您的意思是要传入一个 Employee 对象吗？您是否缺少对包含 int 类型的扩展方法的命名空间的引用？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T06:19:44.103

请检查您的方法的签名

```
public DataSet GetLeaveRecord(int empID) 
```

请改成

```
public DataSet GetLeaveRecord(Employee emp) 
```

将整个员工对象传递给此方法

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-31T06:21:19.290

您的方法将 int 作为参数。

```
public DataSet GetLeaveRecord(int empID) 
```

稍后您尝试通过这样做将其用作类型

```
cmd.Parameters.AddWithValue("@LeaveType", empID.LeaveType); 
```

您确定参数应该是 int 而不是 Employee 或具有这些属性的某个对象模拟吗？LeaveType,EmployeeId...

像这样的东西？

```
public DataSet GetLeaveRecord(Employee emp) 
```

# c# - 在 ASP.NET 中重定向之前的 Javascript 警报

> ID：12209822
> 
> 赞同：11
> 
> 时间：2012-08-31T06:15:00.513
> 
> 标签：c#, javascript, asp.net, ajax, updatepanel

我正在使用以下代码在更新面板中更新时显示消息

```
string jv = "alert('Time OutAlert');";
ScriptManager.RegisterClientScriptBlock(this, this.GetType(), "msg", jv, true); 
```

它工作正常。

但是当我在它之后使用重定向时，它会加载页面而不显示消息。我希望用户看到该消息，单击“确定”后它应该重定向。

```
string jv = "alert('Time OutAlert');";
ScriptManager.RegisterClientScriptBlock(this, this.GetType(), "msg", jv, true);
Response.Redirect("~/Nextpage.aspx"); 
```

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-08-31T06:29:48.533

使用 javascript 显示警报，然后使用相同的方法进行重定向：

```
ScriptManager.RegisterStartupScript(this,this.GetType(),"redirect",
"alert('Time OutAlert'); window.location='" + 
Request.ApplicationPath + "Nextpage.aspx';",true); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-31T06:20:38.403

您不能这样做，您尝试的方式是因为消息在客户端运行，但是您在页面加载之前对后面的代码进行重定向以显示消息。

这样做的方法是在消息之后立即调用客户端重定向为：

```
window.location = "NextPage.asps"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-22T08:25:31.640

# 这工作正常

```
 string message = "Upadate Successfull !!";
                string url = "/Post.aspx";
                string script = "{ alert('";
                script += message;
                script += "');";
                script += "window.location = '";
                script += url;
                script += "'; }";
                ScriptManager.RegisterStartupScript(this.Page, Page.GetType(), "alert", script, true); 
```

# javascript - 当我们点击标志整个页面时创建缩放功能，当我们点击 - 标志时，它会缩小。

> ID：12209826
> 
> 赞同：1
> 
> 时间：2012-08-31T06:15:35.977
> 
> 标签：javascript, css

我想创建缩放功能，当我们单击 + 签名时，整个页面会缩放，当我们单击 - 签名时，它会在 javascript 或 CSS 中缩小。怎么可能？它将在 php.ini 中使用。它还显示缩放百分比。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T06:23:14.003

[显然 CSS3 中有缩放属性。](http://www.css3.com/css-zoom/)

您可以将其应用于正文，它应该缩放整个页面。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T06:36:04.750

放大和缩小整个页面是一种糟糕的用户体验。真正具有低视力和挑战的用户已经知道在浏览器中的何处以及如何进行。那些没有的，当整个页面变大或变小时，他们会感到震惊。

我的建议：试着分析一下你到底要放大什么，如果是文本区域，用js设置更大的字体大小，如果是图像，用js拉伸它，如果是块，svg等，只需设置更大的参数。

PS：该`zoom`属性不是跨浏览器并且有奇怪的行为。但是您可以将它与`transform`属性结合起来，以制作或多或少的跨浏览器解决方案。

# windows - 如何对 linux 服务器进行身份验证（来自 Windows 客户端）

> ID：12209827
> 
> 赞同：0
> 
> 时间：2012-08-31T06:15:38.703
> 
> 标签：windows, linux, authentication, windows-authentication

我有一个用 C 语言编写的小型客户端/服务器应用程序，需要通过 Linux 服务器进行身份验证。

我不想通过网络以明文形式传输密码，也不想发明一些 MD5+nonce 系统。

我希望为此找到一些“标准”，我有什么选择？

我希望有人能指出我在 Windows 和 Linux 上兼容并用于互操作的 API 集？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:30:22.717

您可以使用[libssh](http://www.libssh.org/)，它为您提供了一个用于连接到 Linux 上的 SSH 服务器的 API。它非常易于使用，并包含一个有用的[教程](http://api.libssh.org/master/libssh_tutorial.html)。

# vbscript - WshShortcut 设置外壳大小

> ID：12209829
> 
> 赞同：1
> 
> 时间：2012-08-31T06:15:47.293
> 
> 标签：vbscript

我用 vbscript 创建桌面快捷方式。

使用 WindowsStyle 属性，我可以确定外壳是最小化、最大化还是最后设置的大小。但是我创建的外壳的最大宽度为 80 个字符。

有没有办法将其设置为更大的值？设置字体大小和类型也会很有趣。

```
set oMyShortcut = WshShell.CreateShortcut(strDesktop & "\Shortcut 

Script.lnk")oMyShortcut.WindowStyle = 4
oMyShortcut.TargetPath = "%windir%\system32\cmd.exe"
oMyShortCut.Arguments= "/K """ & strProjectHome & "\" & strSetenvPath & """"
oMyShortCut.WorkingDirectory= strProjectHome
oMyShortcut.IconLocation = "%windir%\system32\cmd.exe"
oMyShortcut.Description = "Shell for project " + strProjectName + " in directory " + strDirname +". This shortcut has been created automatically."
oMyShortCut.Save 
```

问候安德烈亚斯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T16:46:49.380

当然，你可以像这样给出模式参数，我注释掉了你的参数，但你也可以添加它们。

```
Set WshShell = WScript.CreateObject("WScript.Shell")
strDesktop = WshShell.SpecialFolders("Desktop")
set oMyShortcut = WshShell.CreateShortcut(strDesktop & "\ShortcutScript.lnk")
oMyShortcut.WindowStyle = 4
oMyShortcut.TargetPath = "%windir%\system32\cmd.exe"
'oMyShortCut.Arguments= "/K """ & strProjectHome & "\" & strSetenvPath & """"
oMyShortCut.Arguments= "/K mode con:cols=150 lines=40"
oMyShortCut.WorkingDirectory= strProjectHome
oMyShortcut.IconLocation = "%windir%\system32\cmd.exe"
oMyShortcut.Description = "Shell for project " + strProjectName + " in directory " + strDirname +". This shortcut has been created automatically."
oMyShortCut.Save 
```

当您双击快捷方式时，这会提供一个很好的宽控制台屏幕

我发现更改字体的唯一方法是在快捷方式上手动更改一次，然后将其用作模板，复制它，然后更改其他参数。更改快捷方式与打开方式相同，因此

```
Set WshShell = WScript.CreateObject("WScript.Shell")
strDesktop = WshShell.SpecialFolders("Desktop")
set oMyShortcut = WshShell.CreateShortcut(strDesktop & "\ShortcutScript.lnk")
oMyShortCut.Arguments= "/K mode con:cols=80 lines=40"
oMyShortCut.Save 
```

将我们的快捷方式文件设置为 80 列，而不是原来的 120 列。

# php - 使用外部 PHP 脚本连接 Drupal 数据库

> ID：12209830
> 
> 赞同：1
> 
> 时间：2012-08-31T06:15:47.693
> 
> 标签：php, database, drupal-7, external, bootstrapping

我目前正在开发 php 脚本，但是在某些时候我想用我的 php 脚本连接到 drupal 数据库，我在谷歌上搜索了有关使用外部 php 脚本访问 drupal api 的信息，因为很多人建议在你的外部 php 脚本中使用 bootstrap.inc 文件，我想在这里问一下，假设我添加了这个 bootstrap.inc 文件和相关代码之后，我可以访问使用 drupal api 及其数据库吗？

我想用drupal数据库注册一个用户，还需要从drupal数据库中读取一些表，那么我能做到这一切吗？包括 bootstrap.inc 就足够了，或者需要从 drupal 端添加任何其他模块，我外部 php 脚本可以访问 drupal 数据库？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T09:20:57.210

如果您仍然想在 Drupal 之外工作，在一个独立的脚本中，您应该包含 Drupal 的 include/bootstrap.inc 并调用`drupal_bootstrap()`函数来初始化 Drupal 环境（连接到数据库、加载模块、会话等）。您可以根据需要从 Drupal 选择引导阶段。

```
define('DRUPAL_ROOT', 'YOUR DRUPAL ROOT');
require_once('includes/bootstrap.inc');
drupal_bootstrap(DRUPAL_BOOTSTRAP_FULL);
// Drupal is fully loaded here, you can access everything. 
```

信息来源：[https ://drupal.stackexchange.com/a/24117](https://drupal.stackexchange.com/a/24117)

drupal 信息：[http ://api.drupal.org/api/drupal/includes!bootstrap.inc/function/drupal_bootstrap/7](http://api.drupal.org/api/drupal/includes!bootstrap.inc/function/drupal_bootstrap/7)

# perl - 对 binmode 的说明

> ID：12209835
> 
> 赞同：0
> 
> 时间：2012-08-31T06:16:00.140
> 
> 标签：perl

我是 Perl 的新手。

我的打印语句出现错误：“打印中的宽字符”

并添加这行代码使其工作

```
#binmode(STDOUT, ":utf8"); 
```

我阅读了文档，简单地说，binmode 以平台可以理解的方式对字符进行编码。

没有它，平台可能会期望字符具有其他含义，因为它使用了不同的编码。

还是我对 binmode 的理解关闭了？

perl 有没有办法找出平台正在使用什么编码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:25:03.520

```
use open ':std', ':locale'; 
```

可以帮忙。但是，不适用于所有系统。

# excel - 过滤数据透视表列，仅在

> ID：12209841
> 
> 赞同：15
> 
> 时间：2012-08-31T06:16:56.413
> 
> 标签：excel, pivot-table

我想知道是否可以在 excel 中过滤单个数据透视表列。换句话说，当您**通过 count**汇总数据时，仅当某个列的数据具有某个值时才会计算该数据。

我知道可以通过报表过滤来获取这些值，但是我需要一个单独的数据透视表来存储我不想被过滤的值。此外，某些值是 0，因此如果报告过滤，则不会显示。更改显示 0 值的选项不会改变任何内容。提前致谢。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-31T06:44:33.067

是的，您可以通过选择与表格相邻的单元格（但在数据透视区域之外）并从“*数据”选项卡中选择“**过滤器*”，将过滤器添加到数据透视报表。

 *要将过滤器添加到仅*计数*列，请选择上面的单元格和包含标题的单元格，然后从菜单中选择*过滤器*选项，如图所示...

![在此处输入图像描述](../Images/2dbedaab00118d59873ef3abc41d58b3.png)

要仅在满足特定条件时计算数据，我认为您需要在源数据中添加另一个名为 OK 的列，其公式如下`IF(Status="OK",1,0)`。然后将其添加到数据透视表布局中。[注意：数据透视表有一个计算字段选项，但它似乎只在显示数据时才能按预期工作 - 在这种情况下，需要显示状态。]

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2018-09-03T20:42:08.947

这在我的 Excel 365 上不起作用。然后尝试选择第一行的第一个字段：

*   右击
*   筛选
*   值过滤器...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-05-15T18:34:09.657

1.  左键单击任何行项目下拉胡萝卜
2.  点击“价值过滤器”
3.  选择值过滤器（“等于”、“大于”等）
4.  选择您希望它过滤的值字段项（例如，我可以在原始问题中看到的图像中的“天数”）

您也可以通过@kztd 提到的右键单击选项来完成*

# java - 编译 JNLP 时包 javax.jnlp 不存在错误

> ID：12209849
> 
> 赞同：2
> 
> 时间：2012-08-31T06:17:46.157
> 
> 标签：java, jnlp, java-web-start

我正在使用构建文件来编译我的项目。我收到`package javax.jnlp does not exist`错误。我的 java 文件没有任何错误。我已添加`javaws.jar`到我的项目构建路径中。

我的构建文件代码

```
<!-- Build file for the project. -->
<project basedir="." default="launch" name="OPRS_JNLP">

  <target name="properties">
    <property name="build" value="build" />
    <property name="dist" value="dist" />
    <property name="src" value="src" />

    <property
      name="classpath"
      value="${java.home}/jre/lib/javaws.jar" />
  </target>

  <target
    name="compile"
    depends="properties"
    description="Compile the project" >
    <mkdir dir="${build}/share" />
    <javac
      debug="on"
      destdir="${build}/share"
      srcdir="com/abhibus/oprs"
      source="1.6"
      classpath="${classpath}" />
    <copy todir="${build}/share">
      <fileset dir="com/abhibus/oprs">
        <exclude name="**/CVS" />
        <exclude name="**/*.java" />
      </fileset>
    </copy>
  </target>

  <target
    name="dist"
    depends="compile"
    description="Create project distribution" >
    <mkdir dir="${build}/jar" />
    <mkdir dir="${build}/jar/lib" />
    <jar destfile="${build}/jar/apsrtcoprs.jar">
      <fileset dir="${build}/share">
        <include name="**/*.class" />
      </fileset>
    </jar>
  </target>

  <target
    name="make-launch-file"
    depends="properties"
    description="Copies and configures the launch file" >
    <copy todir="${build}/jar" >
      <fileset dir="${src}/conf" >
        <include name="**/*.jnlp" />
      </fileset>
    </copy>
  </target>

  <target
    name="launch"
    depends="dist, make-launch-file"
    description="Launch the project using webstart">
    <exec executable="javaws"
      dir="${build}/jar">
      <arg line="-codebase file:. file:./apsrtcoprs.jnlp" />
    </exec>
  </target>

  <target
    name="uninstall"
    depends="properties"
    description="Uninstall the project from the webstart cache">
    <exec executable="javaws">
      <arg
        line="-uninstall http://localhost:9999/apsrtcoprs.jnlp"
        />
    </exec>
  </target>

  <target name="clean"
    depends="properties"
    description="Clean all generated files">
      <delete dir="${build}" />
      <delete dir="${dist}" />
  </target>
</project> 
```

出了什么问题？当我在论坛中搜索时，他们说要包括我已经完成的 javaws.jar。如何解决这个问题？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-31T06:25:41.733

猜测一下，这个：

```
value="${java.home}/jre/ib/javaws.jar" /> 
```

应该

```
value="${java.home}/jre/lib/javaws.jar" /> 
```

“lib”，而不是“ib”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T07:03:12.627

这有点奇怪..我修改了我的类路径值`/usr/java/jdk1.6.0_24/jre/lib/javaws.jar`，它正在编译。非常感谢安德鲁和乔恩帮助我。

# ios - 为什么我的 iPod touch 4 无法注册 APNS？

> ID：12209860
> 
> 赞同：0
> 
> 时间：2012-08-31T06:19:13.667
> 
> 标签：ios, ios5, apple-push-notifications, ipod-touch

我正在尝试在 iPod touch 4 上测试我的应用程序，但是我需要 APNS 支持。

我发现没有调用 APNS 的委托回调。

我已经搜索了[Technical Note](http://developer.apple.com/library/ios/#technotes/tn2265/_index.html)，但它没有帮助（对于我的 iPad2，相同的代码适用于返回设备令牌）。

对此有任何想法吗？

我正在使用带有 iOS 5.1.1 的 iPod touch 4

# 编辑：

啊，这里提供了更多信息。我之前以及所有这些证书都创建了一个配置文件。这就是为什么我可以用 iPad 解决这个问题。

然后今天，我刚刚将我的 iPod touch 4 添加为开发设备并再次下载了配置文件。这个行为不会注册我的 iPod touch 4 来处理 APNS 工作吗？？？？

# 编辑2：

按照要求：

实际上，我只是做苹果要求我做的任何事情，包括我在内

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:    NSDictionary *)launchOptions
{
    [[UIApplication sharedApplication] registerForRemoteNotificationTypes:(UIRemoteNotificationTypeAlert|UIRemoteNotificationTypeBadge)];
    //Other codes...
} 
```

然后，两个委托的回调方法

```
#pragma mark - For Apple Push Notification Service

- (void)application:(UIApplication *)app didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken
{ 
    NSString *str = [NSString 
                 stringWithFormat:@"%@",deviceToken];
    NSString *devToken = [[[[str description] 
                           stringByReplacingOccurrencesOfString:@"<"withString:@""] 
                          stringByReplacingOccurrencesOfString:@">" withString:@""] 
                         stringByReplacingOccurrencesOfString: @" " withString: @""];
   NSLog(@"%@", devToken);
   NSUserDefaults *standardUserDefaults = [NSUserDefaults standardUserDefaults];
    if (standardUserDefaults)
    {
        [standardUserDefaults setObject:devToken forKey:@"device_token"];
        [standardUserDefaults synchronize];
    }
}

- (void)application:(UIApplication *)application didFailToRegisterForRemoteNotificationsWithError:(NSError *)error
{
    NSLog(@"application:didFailToRegisterForRemoteNotificationsWithError: %@", error);
} 
```

实际上，我只是复制并粘贴 Apple 提供给我的内容。然而，情况就像上面提到的那样，对于带有 iOS 5.0.1 的 iPad2、带有 iOS 4.3 的 iPhone 调用任何一种方法，但对于带有 iOS5.1.1 的我的 iPod Touch 4 则没有。

# c++ - 一些 C++ 语法问题

> ID：12209861
> 
> 赞同：-1
> 
> 时间：2012-08-31T06:19:16.333
> 
> 标签：c++, syntax

我是一名本科工程专业的学生，​​正在修读高级/研究生级别的 CS 模拟课程，而且我的想法有点过头了。我知道所有这些都可以通过在线搜索资源找到，但它们都是如此不连贯和肤浅的问题，事实证明很难。

我只是希望能快速回答几个问题。

* * *

我已经看到“&”使用了几种不同的方式（地址位置，并对作为局部变量传递给函数的变量进行永久更改），但我不知道它在这种情况下做了什么。事件是一个类。

```
bool operator>( const Event& e ) const {
            return simulation_time > e.simulation_time;
        } 
```

输入此内容后，我意识到该运算符正在应用于指针（地址）..所以“const Event& e”似乎等同于“const Event &e”（我知道它等同于“const Event & e” )?

那是邪恶的。

* * *

下一个：在这种直截了当的情况下使用 const 有什么好处？

* * *

节目摘录：

```
my_heap->insert_event(event1); 
```

[my_heap 是一个类的实例，它包含一个基于向量的堆（和一个函数 insert_event，它将事件添加到堆中）。]

“->”是什么意思？

* * *

我见过的所有关于指针的例子都类似于

```
int i = 2
int *p;
p = &i; 
```

这很好，花花公子，但我有这样的事情：

```
MinHeap *my_heap = new MinHeap(); 
```

我不明白它在说什么。我什至无法提出一个明智的问题。在我看来，它根本没有指向一个地址......

## -------------------------------------------

提前感谢任何花时间回复的人

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-31T06:26:31.587

**运营商**

有两个主要用途：一个是在内存中获取变量的地址，正如您似乎知道的那样。所以如果我`int count = 0;`的值为`count`0，但是这个变量在内存中的哪里？&count 将返回这个地址，它可以以多种方式使用。

另一个用途是声明/定义对类型的引用。请注意，在此上下文`&`中不再是运算符，并且不能在用户定义的类中赋予自定义行为。`int & myRef`表示对整数的引用，它非常像一个指针，但不是有一个变量来保存内存中的某个地址，而是使用一个变量作为另一个变量的一种假名。`int &myRef = count;`, 在此之后，`count`可以`myRef`100% 互换使用。请注意，这种用法仅在*定义*或*声明*变量时出现，从不作为表达式的右侧，或在其他上下文中。正如您所指出的，对于引用，空格会被忽略，这与指针的行为相同。

**常量**

尽可能使用 const 总是好的行为（在我看来）。它明确了如何使用变量。想象一下，如果你有一个函数`void foo(int & someIntRef)`或`void foo(int * someIntPtr)`. 当我调用 foo 时，不能保证我传入的变量不会改变。也许我传入的整数是我非常密切地跟踪的东西，并且不希望其他人可能会或可能不会更改它，所以我将被迫复制它以确保 的定义`foo`，我可能不会甚至可以访问，也不会改变变量。在大多数情况下，如果我看到这个函数签名，我会*假设*该函数会改变我的变量。此外，如果编译器知道函数参数是 const，则会带来性能优势，但由于您是 c++ 新手，此时最好不要担心确切的方式/原因。

**-> 运算符**

这是一个运算符（注意，它可能在自定义类中被覆盖，但非常罕见）几乎总是访问指向对象的指针的数据成员或成员函数。如果我有一个结构：

```
struct Shape
{
    int mSideCount;
};

...

Shape SomeShape;
Shape * ptrShape = &SomeShape; 
```

我可以访问with的`mSideCount`数据成员。但是ptrShape呢？它不是一个形状，它是一个指针（特别是，）。我必须首先使用运算符取消引用它，例如. 有点丑 为了让生活更轻松，存在结合取消引用和成员访问：.`SomeShape``SomeShape.mSideCount``Shape *``*``(*ptrShape).mSideCount``->``ptrShape->mSideCount`

**新运营商**

`new`为对象分配内存，并确保正确构造它（为对象调用适当的构造函数，它是一个成员函数，类似于`Shape(){}`上面的 Shape 示例）。最大的区别在于内存的来源。当您像`SomeShape`上面一样创建变量时，它会在称为*堆栈*的内存部分中创建（因此，堆栈溢出）。堆栈通常具有相对较小的最大大小，并且一旦块（在函数括号内，循环括号内，无论块是什么）结束，堆栈上声明的任何变量都会消失，因此不能轻易在其他函数中使用。`new`另一方面，默认情况下使用*堆上的内存创建对象*，更接近于“系统上的所有内存”。有关于内存管理和体系结构的书籍，所以这是一个非常简短的介绍。

正如许多其他人所指出的 - 这些是相当基本的 c++ 概念。当您看到其他更不常见的语言功能时，您很快就会回到这里。买一本好书，通读一遍，理解它所说的一切，做一些例子，然后来这里填补你仍然无法理解的知识空白。我个人喜欢 c++ Dietle 和 Dietle，但任何事情都会对你有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T06:28:30.703

`const Event& e`和之间没有区别`const Event &e`。箭头运算符`->`是用于指针的类成员访问运算符。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T06:38:41.680

> 在这种直截了当的情况下使用 const 有什么好处？

这种情况称为通过常量引用传递参数。仅按值传递参数会导致对该参数进行复制，并且该副本在函数中使用。通过常量引用传递一个对 const 函数的引用——这意味着该对象没有被复制。const 部分确保您无法修改引用参数（就像您无法更改常规常量变量一样）

```
MinHeap *my_heap = new MinHeap(); 
```

这是动态内存分配。new 运算符在堆上创建内存，用于放置类型的新对象`MinHeap`。分配空间后，new 运算符还调用该类的构造函数，并返回指向您存储`my_heap`在代码中的该对象的指针。然后，您可以使用运算符修改指针指向的对象`->`。

您真的应该考虑购买有关 C++ 的介绍性文本，其中对这些内容进行了更详细的描述

# php - PHP 的 OpenSSL 函数可以使用带有公钥/私钥的 AES 密码吗？

> ID：12209864
> 
> 赞同：1
> 
> 时间：2012-08-31T06:19:28.190
> 
> 标签：php, openssl, aes, public-key-encryption

我已经看到了许多关于如何通过 OpenSSL 和对称加密使用 AES 的示例。但我使用的是非对称加密。我的 web 应用程序正在存储一些使用公钥加密的敏感数据，如果管理员可以提供私钥密码，则稍后只能使用私钥解密。

我的实现运行良好，但是，我注意到非常小的输入会产生相当大的加密结果。例如，一个 16 个字符的输入变成了 288 个字节的加密（它解密为原始的 16 个字符）。由于这些加密结果存储在数据库表中，我希望获得更接近输入大小的加密值。也需要可预测的存储长度。

我正在使用 RSA 公钥/私钥，但 PHP 的 OpenSSL 实现默认使用什么密码？我还没有找到一个使用公钥/私钥时如何指定密码的示例，并且[openssl_public_encrypt](http://www.php.net/manual/en/function.openssl-public-encrypt.php)函数不允许指定[密码常量](http://www.php.net/manual/en/openssl.ciphers.php)之一。我应该在生成 pub/pri 密钥时以某种方式指定密码（使用[openssl_pkey_new](http://www.php.net/manual/en/function.openssl-pkey-new.php)）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-26T13:47:37.747

我建议创建 RSA 私钥和公钥。看到[这篇很棒的文章](https://www.virendrachandak.com/techtalk/encryption-using-php-openssl/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T23:52:56.857

AES 是一种对称加密算法，它不支持公钥/私钥对。谁可以加密谁也可以解密密文。

可以将 AES 与 RSA 之类的非对称算法相结合以获得混合方案：使用 RSA 加密（随机）AES 密钥，然后使用 AES 加密实际数据。不过，您仍然会拥有大约 RSA 模数大小的最小密文大小的 RSA 开销（因为这是 RSA 的输出）。

我想这实际上是您的 OpenSSL 函数所做的，可能取决于密钥类型。

还有其他公钥方案，特别是基于椭圆曲线的方案，它们允许较小的开销，以实现与 RSA 类似的安全性。（不过，我不知道 OpenSSL 或其 PHP 绑定是否支持这些。）

# asp.net-mvc-3 - 重复的自定义验证不起作用

> ID：12209866
> 
> 赞同：2
> 
> 时间：2012-08-31T06:19:31.700
> 
> 标签：asp.net-mvc-3, validation, custom-attributes, model-validation

我想为重复的用户名和电子邮件创建自定义验证。型号是这样的：

```
public class RegisterModel
{
    [Required( ErrorMessage = "Username is empty" )]
    [StringLength( 100, ErrorMessage = "Minimum 5 symbol", MinimumLength = 5 )]
    [CustomValidation( typeof( RegisterModel ), "ValidateDuplicateUsername" )]
    [RegularExpression( @"^[a-zA-Z0-9]+$", ErrorMessage = "Username invalid" )]
    public string UserName { get; set; }

    [RegularExpression( @"^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$", ErrorMessage = "Enter valid e-mail" )]
    [Required( ErrorMessage = "E-mail is empty" )]
    [DataType( DataType.EmailAddress )]
    [CustomValidation( typeof( RegisterModel ), "ValidateDuplicateEmail" )]
    public string Email { get; set; }

    [Required( ErrorMessage = "Password is empty" )]
    [StringLength( 100, ErrorMessage = "Minimum 6 symbol", MinimumLength = 6 )]
    [DataType( DataType.Password )]
    public string Password { get; set; }

    [DataType( DataType.Password )]
    [Compare( "Password", ErrorMessage = "Password not same" )]
    public string ConfirmPassword { get; set; }

    public static ValidationResult ValidateDuplicateUsername( string username )
    {
        if ( username != null )
        {
            bool isValid = true;
            MembershipUserCollection users = Membership.GetAllUsers();
            foreach ( MembershipUser item in users )
            {
                if ( item.UserName.ToUpper().Equals( username.ToUpper() ) )
                {
                    isValid = false;
                }
            }

            if ( isValid )
            {
                return ValidationResult.Success;
            }
            else
            {
                return new ValidationResult( "Username exists" );
            }
        }
        else return new ValidationResult( "Minimum 5 symbol" );
    }

    public static ValidationResult ValidateDuplicateEmail( string email )
    {
        if ( email != null )
        {
            bool isValid = true;
            MembershipUserCollection users = Membership.GetAllUsers();
            foreach ( MembershipUser item in users )
            {
                if ( item.Email.ToUpper().Equals( email.ToUpper() ) )
                {
                    isValid = false;
                }
            }

            if ( isValid )
            {
                return ValidationResult.Success;
            }
            else
            {
                return new ValidationResult( "Username exists with this email" );
            }
        }
        else return new ValidationResult( "Enter valid e-mail" );
    }
} 
```

所有验证都有效，但我的自定义验证 - **ValidateDuplicateUsername**和**ValidateDuplicateEmail**不起作用。这里有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:36:03.417

你需要让你的自定义属性实现`IClientValidateable`

示例： http: [//www.codeproject.com/Articles/275056/Custom-Client-Side-Validation-in-ASP-NET-MVC3](http://www.codeproject.com/Articles/275056/Custom-Client-Side-Validation-in-ASP-NET-MVC3)

# ruby-on-rails - gmaps4rails - 对标记列表进行分类

> ID：12209867
> 
> 赞同：0
> 
> 时间：2012-08-31T06:19:40.030
> 
> 标签：ruby-on-rails, ruby-on-rails-3, gmaps4rails, markers, categorization

有没有办法在侧边栏中对标记列表进行分类？例如人员、地点、公交车站等的列表。我想单独添加列表。我希望我能很好地描述问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T07:12:52.773

当然可以。在控制器中

```
@json = your_scope.to_gmaps4rails do |marker, object|
  marker.json({ category: object.category }) # I assume you have the category info in a category method
end 
```

然后你必须在回调中自己创建侧边栏：

```
Gmaps.map.callback = function() {
  for (var i = 0; i <  this.markers.length; ++i) {
    if (this.markers[i].category == "foo")
    { addMarkerToFooList(this.markers[i]);}
    ...  
  }
}; 
```

[在这里](https://github.com/apneadiving/Google-Maps-for-Rails/blob/master/public/javascripts/gmaps4rails/gmaps4rails.base.js#L348)获取灵感来创建侧边栏。

# objective-c - Xcode异常解释

> ID：12209871
> 
> 赞同：0
> 
> 时间：2012-08-31T06:19:45.833
> 
> 标签：objective-c, xcode, debugging

![无用的堆栈](../Images/9f292e5f7302fa837915342958e582f8.png)

谁能告诉我如何处理这个异常？调试器位于异常断点处，如您所见，关于异常的可操作信息似乎为零。它发生在哪里？很确定它不在我的代码中，但我不知道如何继续......

非常感谢您的帮助。

**编辑 1：** 这是控制台内容

*** 由于未捕获的异常“NSRangeException”而终止应用程序，原因：“*** -[__NSArrayM objectAtIndex:]: index 0 beyond bounds for empty array”

***首先抛出呼叫堆栈:( 0x30CE188F 0x3627E259 0x30c2a9db 0x8d029 0x915c5 0x35723c59 0x35725 0x35723c59 0x35725 0x35723c59 0x3572507 0x30cb42ad 0x30c374a5 0x30c3736d 0x36ffb439 0x32917cd5 0x36ffb4d 0x32917cd5 0x72e4d 0x72de8）终止称为抛出异常

**编辑2：** 这是回溯

线程 #1：tid = 0x1c03, 0x3627e238 libobjc.A.dylib`objc_exception_throw，停止原因 = 断点 1.1

帧#0：0x3627e238 libobjc.A.dylib`objc_exception_throw

帧#1：0x30c2a9da CoreFoundation`-[__NSArrayM objectAtIndex:] + 270

**编辑 3（解决方案）：** 这是使用 main() 方法的回溯

2012-08-31 10:27:21.489 <>[820:707] 未捕获的异常 ***-[__NSArrayM objectAtIndex:]：空数组的索引 0 超出范围

2012-08-31 10:27:32.908 <>[820:707] 堆栈跟踪：（

```
0   CoreFoundation                      0x30ce18a7 __exceptionPreprocess + 186
1   libobjc.A.dylib                     0x3627e259 objc_exception_throw + 32
2   CoreFoundation                      0x30c2a9db -[__NSArrayM objectAtIndex:] + 270
3   <>                                  0x00050ed1 __55-[SFSummaryCard retrieveAndDisplayFirstImageForString:]_block_invoke_0 + 148
4   <>                                  0x0005546d __block_global_1 + 40
5   libdispatch.dylib                   0x35723c59 _dispatch_call_block_and_release + 12
6   libdispatch.dylib                   0x35725ee7 _dispatch_main_queue_callback_4CF$VARIANT$mp + 194
7   CoreFoundation                      0x30cb42ad __CFRunLoopRun + 1268
8   CoreFoundation                      0x30c374a5 CFRunLoopRunSpecific + 300
9   CoreFoundation                      0x30c3736d CFRunLoopRunInMode + 104
10  GraphicsServices                    0x36ffb439 GSEventRunModal + 136
11  UIKit                               0x32917cd5 UIApplicationMain + 1080
12  <>                                  0x00036c01 main + 220
13  <>                                  0x00036b20 start + 40 
```

)

关键元素是：retrieveAndDisplayFirstImageForString()

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-31T16:58:50.030

Xcode 4/iOS 5 上存在一个问题，有时您无法在模拟器中获得异常回溯，这是由于模拟器的伪操作系统中存在明显的错误。解决方案是在您的 中添加一个明确的回溯`main`，沿着

```
@try {
    retVal = UIApplicationMain...
}
@catch (NSException* exception) {
    NSLog(@"Uncaught exception %@", exception);
    NSLog(@"Stack trace: %@", [exception callStackSymbols]);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-31T07:49:54.650

您可以在控制台中进行异常断点[打印回溯](http://www.oramind.com/index.php/articles/182-ios-5-xcode-backtrace)。

例子：

```
-(void)backtraceTest
{
    NSArray *array = [NSArray arrayWithObjects:@"1", @"2", nil];
    id obj = [array objectAtIndex:3]; // out of bounds
    NSLog(@"%@", obj);
} 
```

给出这个回溯：

![回溯示例](../Images/72a45187b7b6deb6c7a6bbe383ad76ec.png)

您可以看到在 HelloWorldLayer.m 文件的第 34 行调用了 NSArray 的 objectAtIndex 方法，然后发生了异常。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-14T14:40:15.217

这是相关的：

[http://ijoshsmith.com/2011/11/28/debugging-exceptions-in-xcode-4-2/](http://ijoshsmith.com/2011/11/28/debugging-exceptions-in-xcode-4-2/)

您可以添加显示回溯的“异常断点”；事件处理程序，您可以将其移动到所有项目中出现的“用户断点”。

希望我早点学会这个技巧。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-21T05:17:11.427

我能够通过解决方法解决：

1.  关闭所有打开的应用程序
2.  重新启动 Finder
3.  运行 sudo find / -name ".DS_Store" -exec rm {} \;
4.  这将删除计算机上的所有 .DS_Store 旧文件
5.  启动查找器并将默认视图设置为“列表视图”，如下所示：[http](http://macs.about.com/od/usingyourmac/ss/Setting-Finder-Views-For-Folders-And-Su) : //macs.about.com/od/usingyourmac/ss/Setting-Finder-Views-For-Folders-And-Sub-Folders_2.htm
6.  重新运行有问题的应用程序和文件选择器工作

# ios - “affineTransform”是设置 CABasicAnimation 的有效 CALayer 键路径吗

> ID：12209883
> 
> 赞同：5
> 
> 时间：2012-08-31T06:20:54.780
> 
> 标签：ios, calayer, cgaffinetransform, cabasicanimation

这似乎是一个非常基本的问题，很难找到答案。

CABasicAnimations 设置了“affineTransform”作为键路径对我没有用，在很多地方我看到人们最终使用 CATransform3D 来代替“转换”键路径。当然这是一个提示，但是如果“affineTransform”是否意味着工作，最好确认一下？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-31T06:33:22.350

从技术上讲，`affineTransform` [它不是 CALayer 的属性](https://developer.apple.com/library/ios/documentation/GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/doc/uid/TP40004500-CH1-SW70)，并且被记录为该属性的“便捷方法”包装器，该`transform`属性[被记录为 animatable](https://developer.apple.com/library/ios/documentation/GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/doc/uid/TP40004500-CH1-SW9)。

只有通过objective-c 将键路径隐式转换为选择器，在键路径中使用（在大多数情况下）时，affineTransform 的行为就像一个属性。但是，CA 库设置为仅观察某些键路径，而这不是其中之一 :-)

# java - 带有两个 webServices 的 Runnable jar 中的错误

> ID：12209884
> 
> 赞同：0
> 
> 时间：2012-08-31T06:21:03.960
> 
> 标签：java, web-services, soap, jar, axis

我需要帮助解决这个错误。我创建了一个带有两个 webServices 的 Runnable jar，当我使用控制台执行它时，我遇到了这个错误。我已经在类路径中添加了所有轴 jar，但我有这个。我用 Eclipse Indigo 的插件 GlassFish 运行它，但我什么都没有，请你帮我解决这个问题？，这非常重要。非常感谢

```
C:\Users\cmorales\Desktop>java -jar SincroCloud2.jar
Ejecutando el exe
dentro de ejecutar en Obtener Procesos
dentro de ejecutar en Obtener Procesos  4444
Voy a entrar en los webServices
AxisFault
 faultCode: {http://xml.apache.org/axis/}HTTP
 faultSubcode:
 faultString: (404)Not Found
 faultActor:
 faultNode:
 faultDetail:
    {}:return code:  404
&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http
://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;&lt;html xmlns=&quot;http
://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt;&lt;title&gt;GlassFish Server Open
Source Edition 3.1.2 - Error report&lt;/title&gt;&lt;style type=&quot;text/css&
quot;&gt;&lt;!--H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-c
olor:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:whit
e;background-color:#525D76;font-size:16px;} H3 {font-family:Tahoma,Arial,sans-se
rif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Taho
ma,Arial,sans-serif;color:black;background-color:white;} B {font-family:Tahoma,A
rial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Ari
al,sans-serif;background:white;color:black;font-size:12px;}A {color : black;}HR
{color : #525D76;}--&gt;&lt;/style&gt; &lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP S
tatus 404 - &lt;/h1&gt;&lt;hr/&gt;&lt;p&gt;&lt;b&gt;type&lt;/b&gt; Status report
&lt;/p&gt;&lt;p&gt;&lt;b&gt;message&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;descrip
tion&lt;/b&gt;The requested resource () is not available.&lt;/p&gt;&lt;hr/&gt;&l
t;h3&gt;GlassFish Server Open Source Edition 3.1.2&lt;/h3&gt;&lt;/body&gt;&lt;/h
tml&gt;
    {http://xml.apache.org/axis/}HttpErrorCode:404

(404)Not Found
    at org.apache.axis.transport.http.HTTPSender.readFromSocket(HTTPSender.j
 ava:744)
    at org.apache.axis.transport.http.HTTPSender.invoke(HTTPSender.java:144)

    at org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrateg
 y.java:32)
    at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)
    at org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)
    at org.apache.axis.client.AxisClient.invoke(AxisClient.java:165)
    at org.apache.axis.client.Call.invokeEngine(Call.java:2784)
    at org.apache.axis.client.Call.invoke(Call.java:2767)
    at org.apache.axis.client.Call.invoke(Call.java:2443)
    at org.apache.axis.client.Call.invoke(Call.java:2366)
    at org.apache.axis.client.Call.invoke(Call.java:1812)
    at es.uniway.wscloud.WscloudImplSoapBindingStub.procesosProgramados(Wscl
 oudImplSoapBindingStub.java:306)
    at es.uniway.principal.ObtenerProcesos.ejecutar(ObtenerProcesos.java:35)

    at es.uniway.principal.SincronizadorCloud.main(SincronizadorCloud.java:1
 4) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T06:24:26.237

您尝试访问的 URL 似乎不存在。检查它是否正确。

# ios - iOS UITableview 类似联系人应用

> ID：12209892
> 
> 赞同：1
> 
> 时间：2012-08-31T06:21:54.727
> 
> 标签：ios, uitableview

我正在尝试在“新联系人”视图中使用两个表格视图来复制 iOS 中的联系人应用程序。当键盘覆盖内容时，我试图向上滚动表格视图。每个单元格都包含一个文本字段，我必须输入一些细节。我使用了两个表视图，一个作为标题视图放置在另一个之上。我没有得到向上滚动表格的代码......任何帮助将不胜感激。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T06:43:23.723

如果你想让 2 个表视图一起滚动，你必须只使用一个主表视图，我的意思是，你有一个包含所有内容的主表视图，然后是带有文本字段的单元格。

带有照片、姓名、姓氏和企业的单元格（我不确定它们是否是正确的名称，因为我有西班牙语），包含照片的图像视图和具有 3 个单元格的表格视图，一个用于名称，另一个为姓氏，其他为企业。

# android - 在Android中格式化数据库中的输入流数据

> ID：12209894
> 
> 赞同：0
> 
> 时间：2012-08-31T06:22:02.347
> 
> 标签：android, json, formatting, client-server, inputstream

我正在从表中读取数据，因为所有行都一次获取并将每一行传递给 android 客户端。

现在，我需要在读取这些数据时对其进行格式化，即将四列数据中的每一列存储在 Android 端的单独字符串变量中，以便我可以在文本视图中显示它们。

如果我不一次发送每行数据，则整个表数据将连接在一个字符串中并传递给 android 客户端。

任何提高效率的技巧和解决这个问题的线索，如果有人需要更多说明，请询问。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T08:25:28.437

我会反过来做。在将其发送到您的设备之前，我会对其进行格式化。使用类似 JSON 格式之类的东西

```
package com.switchingbrains.json;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.StatusLine;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;

import android.util.Log;

public class JSONHelper {

    // Load JSON from URL
    public String JSONLoad(String url) {

        StringBuilder builder = new StringBuilder();
        HttpClient client = new DefaultHttpClient();
        HttpGet httpGet = new HttpGet(url);

        try {
            HttpResponse response = client.execute(httpGet);
            StatusLine statusLine = response.getStatusLine();
            int statusCode = statusLine.getStatusCode();
            if (statusCode == 200) {
                HttpEntity entity = response.getEntity();
                InputStream content = entity.getContent();
                BufferedReader reader = new BufferedReader(new InputStreamReader(content));
                String line;
                while ((line = reader.readLine()) != null) {
                    builder.append(line);
                }
            } else {
                Log.e(Main.class.toString(), "Failed to download file");
            }
        } catch (ClientProtocolException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

        return builder.toString();

    }

} 
```

您将获得一个字符串，您可以将其加载到 JSONObject 中并使用它做任何您想做的事情。

# android - ClassCastException 和无法在 Android 上实例化活动

> ID：12209895
> 
> 赞同：1
> 
> 时间：2012-08-31T06:22:10.317
> 
> 标签：android, android-activity, broadcastreceiver, classcastexception

我试图找出一些我在堆栈溢出时发现的代码，并且真的很难让它工作，所以我转向这里的天才寻求帮助。希望我已经输入了足够的信息。

代码不会返回错误`eclipse`，但是当我部署到模拟器时，应用程序会崩溃，并在 LogCat 中出现以下错误。

```
Unable to instantiate activity ComponentInfo{com.simon.startAppService2/com.simon.startAppService2.StartAppService2Activity}:java.lang.ClassCastException:com.simon.startAppService2.StartAppService2Activitycannot be cast to android.app.Activity 
```

这是 StartAppService2Activity 的代码

```
package com.simon.startAppService2;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.telephony.SmsMessage;
import android.widget.Toast;

public class StartAppService2Activity extends BroadcastReceiver
{
    public static String trigger_message="";
    @Override
    public void onReceive(Context context, Intent intent)
    {
        //---get the SMS message passed in---
        Bundle bundle = intent.getExtras();
        SmsMessage[] msgs = null;
        String str = "";

        if (bundle != null)
        {
            //---retrieve the SMS message received---
            Object[] pdus = (Object[]) bundle.get("pdus");
            msgs = new SmsMessage[pdus.length];
            for (int i=0; i<msgs.length; i++){
                msgs[i] = SmsMessage.createFromPdu((byte[])pdus[i]);
                str += "SMS from " + msgs[i].getOriginatingAddress();
                str += " :";
                trigger_message=msgs[i].getMessageBody().toString();
                str += trigger_message;
                str += "\n";
            }
            //---display the new SMS message---
            Toast.makeText(context, str, Toast.LENGTH_SHORT).show();
            if(trigger_message.equals("dx"))
            {
                Toast.makeText(context, "I am triggered",Toast.LENGTH_LONG).show();
                ///////////////////////////
                //i want to start here
                //////////////////////////
                //MainScreenActivity.trigger="Now";
                //               Intent i = new Intent(context,GPS.class); 
                //                  i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); 
                //                  context.startActivity(i); 
                    //start activity
                Intent i = new Intent();
                i.setClassName("com.simon.startAppService2", "GPS.class");
                i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);

                context.startActivity(i);
            }
            else
            {
                Toast.makeText(context, "I am not triggered,  Bbyz!!!",Toast.LENGTH_LONG).show();
            }

        }
    }
  } 
```

这是GPS类的代码

```
package com.simon.startAppService2;

import android.app.Activity;
import android.content.Context;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Bundle;
import android.telephony.SmsManager;
import android.widget.TextView;
import android.widget.Toast;

public class GPS extends Activity implements LocationListener{
    TextView latitude,logitude;
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        LocationManager lm = (LocationManager)getSystemService(Context.LOCATION_SERVICE);
        lm.requestLocationUpdates(LocationManager.GPS_PROVIDER, 1000L, 500.0f, this);

        Toast.makeText(this, "i m started", Toast.LENGTH_LONG);

        latitude = (TextView) findViewById(R.id.txtLat);
        logitude = (TextView) findViewById(R.id.txtLongi);
        latitude.setText("Loading...");
        logitude.setText("Loading...");

    }

    String LATTITUDE;
    String LOGITUDE;

    @Override
    public void onLocationChanged(Location location) {
        // TODO Auto-generated method stub
        double lat = location.getLatitude();
        double lag = location.getLongitude();

         LATTITUDE = Double.toString(lat);      
         LOGITUDE = Double.toString(lag);

         latitude.setText(LATTITUDE);
         logitude.setText(LOGITUDE);
         SmsManager sm = SmsManager.getDefault();
//      // here is where the destination of the text should go
         String number = "5554";
         sm.sendTextMessage(number, null, "latitude="+latitude.getText()+"\nlongitude="+logitude.getText(), null, null);

    }

    @Override
    public void onProviderDisabled(String arg0) {
        // TODO Auto-generated method stub

    }

    @Override
    public void onProviderEnabled(String arg0) {
        // TODO Auto-generated method stub

    }

    @Override
    public void onStatusChanged(String arg0, int arg1, Bundle arg2) {
        // TODO Auto-generated method stub

    }

//  /** Register for the updates when Activity is in foreground */
//  @Override
//  protected void onResume()
//  {
//      super.onResume();
//      lm.requestLocationUpdates(LocationManager.GPS_PROVIDER, 1000L, 500.0f, this);
//  }
//
//  /** Stop the updates when Activity is paused */
//  @Override
//  protected void onPause() {
//      super.onPause();
//      lm.removeUpdates(this);
//  }

} 
```

这是我的 AndroidManifest.xml

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.simon.startAppService2"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk android:minSdkVersion="15" />
    <uses-permission android:name="android.permission.INTERNET"></uses-permission>
    <uses-permission android:name="android.permission.RECEIVE_SMS"></uses-permission>
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_MOCK_LOCATION"/>
    <uses-permission android:name="android.permission.SEND_SMS"/>  

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
        <activity
            android:name=".StartAppService2Activity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity android:name=".GPS"/>
    </application>

</manifest> 
```

这是我的 main.xml 布局

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <TextView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/hello" />

    <EditText
        android:id="@+id/txtLat"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:ems="10" >

    </EditText>

    <EditText
        android:id="@+id/txtLongi"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:ems="10" />

</LinearLayout> 
```

正如我所提到的，这是我`StackOverflow`为另一个用户找到的代码，它看起来正在做我正在寻找的事情，因此任何人都可以提供的任何帮助/指导将不胜感激。

非常感谢

西蒙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:24:57.623

是的，`txtLat`它`txtLongi`是`EditText`如何被 as 找到的`TextView`

因此，选项 1 您可以将它们更改`EditText`为`TextView`在您的`main.xml`布局中。

```
<TextView
    android:id="@+id/txtLat"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:ems="10" />

<TextView
    android:id="@+id/txtLongi"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:ems="10" /> 
```

否则，您可以将这些值标识为`EditText`并将它们保存`EditText`在您的`main.xml`文件中。

```
EditText latitude,logitude;

latitude = (EditText) findViewById(R.id.txtLat);
logitude = (EditText) findViewById(R.id.txtLongi); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T06:30:23.247

这可能是因为 Intent 中的上下文`StartAppService2Activity`没有扩展`android.app.Activity`

# php - php date_diff 问题。得到空白结果

> ID：12209912
> 
> 赞同：1
> 
> 时间：2012-08-31T06:23:38.170
> 
> 标签：php

我在本地 wamp 设置上运行 php 5.3.5。我正在运行一个简单的代码。

```
echo "<br/>DEBUGGING";
echo "<br/>===========";
echo "<br/>Date: ".$date;
echo "<br/>Lead Days: ".$lead_days;
echo "<br/>Date diff: ".var_dump(date_diff((int)$date, (int)$lead_days))." difference"; 
```

但输出是：

```
DEBUGGING
===========
Date: 2012-08-31
Lead Days: 2012-09-05

boolean false

Date diff: difference 
```

date_diff 似乎返回假。我在没有 var_dump 和 int 强制转换的情况下尝试过它，但它总是空白，但是如果我上传到我的网络服务器，它就可以工作。任何想法这里有什么问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-31T06:27:30.133

您不能将日期字符串大小写为 int。

`date_diff`需要两个`DateTime`对象作为参数，并返回一个`DateInterval`对象。

```
$interval = date_diff(new DateTime($date), new DateTime($lead_days));
echo "<br/>Date diff: " . $interval->d . " days difference"; 
```

# java - 使用 Caliper 对正则表达式进行微基准测试

> ID：12209914
> 
> 赞同：1
> 
> 时间：2012-08-31T06:23:58.337
> 
> 标签：java, regex, jvm, validation, caliper

我使用 Google [Caliper](https://github.com/google/caliper/wiki)对两种检查字符串中的 mdn 编号的方法进行基准测试。一种方法使用用户定义的方法，而另一种使用正则表达式。我真的很惊讶地发现，平均而言，正则表达式方法比用户定义方法花费的时间长五倍。

这是我的基准测试代码。

```
package com.code4refernce.caliper;

import java.util.Random;
import java.util.regex.Pattern;

import com.google.caliper.Param;
import com.google.caliper.SimpleBenchmark;

public class SimpleCaliperTest extends SimpleBenchmark {
    String extensiveregex = "^\\d?(?:(?:[\\+]?(?:[\\d]{1,3}(?:[ ]+|[\\-.])))?[(]?(?:[\\d]{3})[\\-/)]?(?:[ ]+)?)?(?:[a-zA-Z2-9][a-zA-Z0-9 \\-.]{6,})(?:(?:[ ]+|[xX]|(i:ext[\\.]?)){1,2}(?:[\\d]{1,5}))?$";
    Pattern EXTENSIVE_REGEX_PATTERN = Pattern.compile(extensiveregex);

    String mdn[][];
    Random random;
    @Param
    int index;

    @Override
    protected void setUp() {
        random = new Random(0);
        mdn = new String[11][1<<16];
        for (int i=0; i<mdn.length; ++i) {
            mdn[0][i] = String.format("%03ddsfasdf00000", random.nextInt(1000));
            mdn[1][i] = String.format("%04d", random.nextInt(10000));
            mdn[2][i] = String.format("%10d", random.nextInt((int) 1e10));
            mdn[3][i] = String.format("-%10d", random.nextInt((int) 1e10));
            mdn[4][i] = String.format("%10d-", random.nextInt((int) 1e10));
            mdn[5][i] = String.format("%03d-%03d-%03d", random.nextInt(1000), random.nextInt(1000), random.nextInt(1000));
            mdn[6][i] = String.format("-%03d-%03d-%03d-", random.nextInt(1000), random.nextInt(1000), random.nextInt(1000));
            mdn[7][i] = String.format("%03d-%03d-%03d-", random.nextInt(1000), random.nextInt(1000), random.nextInt(1000));
            mdn[8][i] = String.format("%03d-%03d-%03d ext %04d", random.nextInt(1000), random.nextInt(1000), random.nextInt(1000), random.nextInt(10000));
            mdn[9][i] = String.format("%03d-%03d-%03d ext %04d-", random.nextInt(1000), random.nextInt(1000), random.nextInt(1000), random.nextInt(10000));
            mdn[10][i] = "123456789012345677890";
        }
    }

    /**
    *This method benchmark the user defined method to check the mdn.
    **/
    public boolean timeExtensiveSimpleMDNCheck(int reps){
        boolean results = false;
        for(int i = 0; i<reps; i ++){
            for(int index2=0; index2<mdn.length; index2++)
                //Use simple method to check the phone number in string.
            results ^= extensiveMDNCheckRegularMethod(mdn[index][index2]);
        }
        return results;
    }

    /**
    *This method benchmark the regex method.
    **/
    public boolean timeExtensiveMDNRegexCheck(int reps){
        boolean results = false;
        for(int i = 0; i<reps; i ++){
            for(int index2=0; index2<mdn.length; index2++)
                //user Regular expression to check the phone number in string.
            results ^=mdnExtensiveCheckRegEx(mdn[index][index2]);
        }
        return results;
    }

    public boolean extensiveMDNCheckRegularMethod(String mdn){

        //Strip the character which not numeric or 'x' character.
        String stripedmdn = stripString(mdn);

        if(stripedmdn.length() >= 10 && stripedmdn.length() <= 11 && (!stripedmdn.contains("x") || !stripedmdn.contains("X"))){
            //For following condition
            //1-123-456-7868 or 123-456-7868
            return true;
        }else if ( stripedmdn.length() >= 15 && stripedmdn.length() <= 16  ) {
            //1-123-456-7868 ext 2345 or  123-456-7868 ext 2345
            //
            if ( stripedmdn.contains("x") ) {
                int index = stripedmdn.indexOf("x");
                if(index >= 9 && index <= 10){
                    return true;
                }
            }else if( stripedmdn.contains("X") ) {
                int index = stripedmdn.indexOf("X");
                if(index >= 9 && index <= 10){
                    return true;
                }
            }
        }
        return false;
    }

    /**
     * Strip the other character and leave only x and numeric values.
     * @param extendedMdn
     * @return
     */
    public String stripString(String extendedMdn){
        byte mdn[] = new byte[extendedMdn.length()];
        int index = 0;
        for(byte b : extendedMdn.getBytes()){
            if((b >= '0' && b <='9') || b == 'x'){
                mdn[index++] = b;
            }
        }
        return new String(mdn);
    }

    private boolean mdnExtensiveCheckRegEx(String mdn){
        return EXTENSIVE_REGEX_PATTERN.matcher(mdn).matches();
    }
} 
```

以及执行基准测试的主类：

```
package com.code4refernce.caliper;
import com.google.caliper.Runner;

public class CaliperRunner {
    public static void main(String[] args) {
        String myargs[] = new String[1];
        myargs[0] = new String("-Dindex=0,1,2,3,4,5,6,7,8,9,10");
        Runner.main(SimpleCaliperTest.class, myargs);
    }
} 
```

Caliper 基准测试结果如下。

```
Benchmark index            us  linear runtime
ExtensiveSimpleMDNCheck     0  5.44 =====
ExtensiveSimpleMDNCheck     1  4.34 ====
ExtensiveSimpleMDNCheck     2  5.02 =====
ExtensiveSimpleMDNCheck     3  5.08 =====
ExtensiveSimpleMDNCheck     4  4.92 ====
ExtensiveSimpleMDNCheck     5  4.83 ====
ExtensiveSimpleMDNCheck     6  4.87 ====
ExtensiveSimpleMDNCheck     7  4.72 ====
ExtensiveSimpleMDNCheck     8  5.14 =====
ExtensiveSimpleMDNCheck     9  5.25 =====
ExtensiveSimpleMDNCheck    10  5.57 =====
 ExtensiveMDNRegexCheck     0 17.71 =================
 ExtensiveMDNRegexCheck     1 21.73 =====================
 ExtensiveMDNRegexCheck     2 13.47 =============
 ExtensiveMDNRegexCheck     3  3.37 ===
 ExtensiveMDNRegexCheck     4 12.44 ============
 ExtensiveMDNRegexCheck     5 26.06 ==========================
 ExtensiveMDNRegexCheck     6  3.36 ===
 ExtensiveMDNRegexCheck     7 29.84 ==============================
 ExtensiveMDNRegexCheck     8 23.80 =======================
 ExtensiveMDNRegexCheck     9 24.01 ========================
 ExtensiveMDNRegexCheck    10 20.53 ==================== 
```

我在这里错过了什么吗？为什么正则表达式执行时间更长？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-31T12:56:33.683

正则表达式引擎仅与您提供的正则表达式一样好，并且您的正则表达式效率非常低。我在 RegexBuddy 中使用以下输入进行了尝试：

```
1-123-456-7868 x2345! 
```

...尾随`!`确保它无法匹配但在此过程中做了很多工作。您的正则表达式需要 142 步才能失败。然后我对其进行了调整，将大多数非捕获组更改为[原子组](http://www.regular-expressions.info/atomic.html)，并使一些量词[具有所有格](http://www.regular-expressions.info/possessive.html)，并且只需要 35 步即可失败。

仅供参考，如果您在使用正则表达式时遇到性能问题，那么您很可能会看到失败的匹配尝试，而不是成功的匹配。当我`!`从上面的字符串中删除时，您的正则表达式和我的正则表达式都只匹配 34 个步骤。

* * *

附带说明一下，您的`stripString()`方法在很多方面都是错误的。您应该使用 StringBuilder 来创建新字符串，并且应该将`char`值与其他`char`s 进行比较，而不是与`byte`s 进行比较。帮自己一个忙，忘记`getBytes()`方法和`String(byte[])`构造函数的存在。如果您必须进行字符串到字节[] 或字节[] 到字符串的转换，请始终使用允许您指定字符集的方法。

* * *

**编辑**根据下面的评论，这是调整后的正则表达式作为 Java 字符串文字：

`"^\\d?(?>(?>\\+?(?>\\d{1,3}(?:\\s+|[.-])))?\\(?\\d{3}[/)-]?\\s*)?+(?>[a-zA-Z2-9][a-zA-Z0-9\\s.-]{6,})(?>(?>\\s+|[xX]|(i:ext\\s?)){1,2}\\d{1,5})?+$"`

..并以更易读的形式：

```
^
\d?
(?>
  (?>
    \+?
    (?>
      \d{1,3}
      (?:\s+|[.-])
    )
  )?
  \(?
  \d{3}
  [/)-]?
  \s*
)?+
(?>[a-zA-Z2-9][a-zA-Z0-9\s.-]{6,})
(?>
  (?>
    \s+
   |
    [xX]
   |
    (i:ext\s?)
  ){1,2}
  \d{1,5}
)?+
$ 
```

但我写它只是为了展示原子团和所有格量词的效果；为此，我独自留下了其他几个问题。我的意思是证明一个写得不好的正则表达式会对你的`mdnExtensiveCheckRegEx()`方法的性能产生多大的影响。

# android - Android OurOfMemoryError：Bitmap 在 Bitmap.createBitmap 期间超出 VM 预算

> ID：12209917
> 
> 赞同：0
> 
> 时间：2012-08-31T06:24:12.753
> 
> 标签：android, image-processing, out-of-memory

我正在尝试在 Android 中制作照片处理应用程序。当我尝试从 src 文件中读取照片时，它返回 OutOfMemoryError

我试着用

```
Bitmap.createBitmap(src.width, src.height, src.getConfig()); 
```

输入的照片只是一张 29KB 的普通图片，这太奇怪了我也试过这个

[将图像加载到 Bitmap 对象时出现奇怪的内存不足问题](https://stackoverflow.com/questions/477572/android-strange-out-of-memory-issue-while-loading-an-image-to-a-bitmap-object/823966#823966)

但结果是一样的，谁能告诉我这是怎么回事？？？我完全没脑子...

我使用的部分代码

```
ImageView image, processedImage;
Bitmap bitmapImage;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    image = (ImageView)findViewById(R.id.testingImage);
    processedImage = (ImageView)findViewById(R.id.prcoessedImage);

    InputStream is = this.getResources().openRawResource(R.drawable.testingimage);

    bitmapImage = BitmapFactory.decodeStream(is);
    imageProcessing(bitmapImage);
}

public static Bitmap imageProcessing(Bitmap src) {
    int width = src.getWidth();
    int height = src.getHeight();
    Bitmap result = Bitmap.createBitmap(width, height, src.getConfig());
    ...
} 
```

日志猫

```
08-31 15:50:54.694: D/ddm-heap(5497): Got feature list request
08-31 15:50:54.842: D/dalvikvm(5497): Trying to load lib lib_glossary.so 0x0
08-31 15:50:54.842: I/dalvikvm(5497): Unable to dlopen(lib_glossary.so): Cannot load library: load_library[1051]: Library 'lib_glossary.so' not found
08-31 15:50:54.842: E/MBGlossaryManager(5497): lib_glossary.so can't be loaded
08-31 15:50:55.178: D/dalvikvm(5497): GC freed 699 objects / 54432 bytes in 300ms
08-31 15:50:56.671: D/dalvikvm(5497): GC freed 65 objects / 2600 bytes in 230ms
08-31 15:50:59.374: D/dalvikvm(5497): GC freed 178 objects / 7992 bytes in 36ms
08-31 15:50:59.374: E/dalvikvm-heap(5497): 6432832-byte external allocation too large for this process.
08-31 15:50:59.374: E/(5497): VM won't let us allocate 6432832 bytes
08-31 15:50:59.374: D/AndroidRuntime(5497): Shutting down VM
08-31 15:50:59.374: W/dalvikvm(5497): threadid=3: thread exiting with uncaught exception (group=0x4001e2e0)
08-31 15:50:59.374: E/AndroidRuntime(5497): Uncaught handler: thread main exiting due to uncaught exception
08-31 15:50:59.374: E/AndroidRuntime(5497): java.lang.OutOfMemoryError: bitmap size exceeds VM budget
08-31 15:50:59.374: E/AndroidRuntime(5497):     at android.graphics.Bitmap.nativeCreate(Native Method)
08-31 15:50:59.374: E/AndroidRuntime(5497):     at android.graphics.Bitmap.createBitmap(Bitmap.java:494)
08-31 15:50:59.374: E/AndroidRuntime(5497):     at android.graphics.Bitmap.createBitmap(Bitmap.java:461)
08-31 15:50:59.374: E/AndroidRuntime(5497):     at android.graphics.Bitmap.createScaledBitmap(Bitmap.java:366)
08-31 15:50:59.374: E/AndroidRuntime(5497):     at com.image.process.MainActivity.onCreate(MainActivity.java:42)
08-31 15:50:59.374: E/AndroidRuntime(5497):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
08-31 15:50:59.374: E/AndroidRuntime(5497):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2521)
08-31 15:50:59.374: E/AndroidRuntime(5497):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2574)
08-31 15:50:59.374: E/AndroidRuntime(5497):     at android.app.ActivityThread.access$2400(ActivityThread.java:121)
08-31 15:50:59.374: E/AndroidRuntime(5497):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1925)
08-31 15:50:59.374: E/AndroidRuntime(5497):     at android.os.Handler.dispatchMessage(Handler.java:99)
08-31 15:50:59.374: E/AndroidRuntime(5497):     at android.os.Looper.loop(Looper.java:136)
08-31 15:50:59.374: E/AndroidRuntime(5497):     at android.app.ActivityThread.main(ActivityThread.java:4425)
08-31 15:50:59.374: E/AndroidRuntime(5497):     at java.lang.reflect.Method.invokeNative(Native Method)
08-31 15:50:59.374: E/AndroidRuntime(5497):     at java.lang.reflect.Method.invoke(Method.java:521)
08-31 15:50:59.374: E/AndroidRuntime(5497):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:850)
08-31 15:50:59.374: E/AndroidRuntime(5497):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:608)
08-31 15:50:59.374: E/AndroidRuntime(5497):     at dalvik.system.NativeStart.main(Native Method)
08-31 15:50:59.397: I/dalvikvm(5497): threadid=7: reacting to signal 3
08-31 15:50:59.397: I/dalvikvm(5497): Wrote stack trace to '/data/anr/traces.txt' 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T07:11:12.337

```
Bitmap bitmap = Bitmap.createScaledBitmap(bitmapImage , bitmapImage.getWidth(),  bitmapImage.getHeight(), null);

processedImage.setImageBitmap(bitmap); 
```

# xcode4 - Xcode 4.4.1 构建在雪豹上崩溃

> ID：12209919
> 
> 赞同：0
> 
> 时间：2012-08-31T06:24:20.283
> 
> 标签：xcode4

我有一个项目，我正在使用 Xcode 4.4.1 在 OS X 10.7.4 下编译

我正在使用 Base SDK SDKROOT macosx10.7 我已设置部署目标 MACOSX_DEPLOYMENT_TARGET 10.6

我在 Snow Leopard 上测试了最近的构建，但它崩溃了。以前使用 Xcode 4.2 和 4.3 的构建确实有效，我可以使用 Xcode 版本 3.2.6 在 Snow Leopard 上编译

有没有其他人有过这种经历，或者更好地知道我能做些什么来解决它？

```
OS Version:      Mac OS X 10.6.8 (10K549)
Report Version:  6

Exception Type:  EXC_BAD_ACCESS (SIGSEGV)
Exception Codes: KERN_INVALID_ADDRESS at 0x0000000000000030
Crashed Thread:  0  Dispatch queue: com.apple.main-thread

Application Specific Information:
objc[274]: garbage collection is ON

Thread 0 Crashed:  Dispatch queue: com.apple.main-thread
0   com.apple.AppKit                 -[NSImage _allocAuxiliaryStorage] + 158
1   com.apple.AppKit                 -[NSImage copyWithZone:] + 66
2   libobjc.A.dylib                  objc_setProperty + 82
3            -[TreeViewController(Dirs) outlineView:willDisplayCell:forTableColumn:item:] + 207 
```

* * *

**PS 刚刚从 TimeMachine 备份中恢复了 Xcode 4.2.1，并且构建在 Snow Leopard 上工作**

我“升级”到了 Mountain Lion——它不允许 Xcode 4.2.1 运行。（这似乎也删除了 OSX 10.8 和 Xcode 4.4 SDK 以及命令行工具 :-( ）。这使得仅使用宝贵的编译器变得不可能。

我试图跟进崩溃发生的位置，这似乎是在对 setNodeIcon 的调用中，该调用在我的一个类中定义为

```
@property (copy) NSImage *nodeIcon; 
```

我意识到我最终将不得不转换为 ARC，但还不愿意开始。转换远非简单，我不确定我是否理解我需要进行的所有更改（一次一个文件），特别是免费桥接更改。

生成的 ARC 代码似乎确实适用于 10.6 - 10.8，但我需要进行大量回归和泄漏测试来确认。

* * *

## 更新评论 2012-09-18

ARC 代码有效，但我发现了几个问题（我已经解决了），但还需要做更多的事情。

我回到我的 GC 代码并更改`copy`为`assign`. 这似乎奏效了。

```
@property (assign) NSImage *nodeIcon; 
```

只是为了确认我制作了一个独立的应用程序（见下文），它除了复制一个 NSImage 什么都不做。这以同样的方式崩溃，所以它似乎是编译器中的一个错误。

```
#import <Cocoa/Cocoa.h>

@interface AppDelegate : NSObject <NSApplicationDelegate> {
    NSImage *nodeIcon;
}

@property (assign) IBOutlet NSWindow *window;
@property (copy) NSImage *nodeIcon;

@end

#import "AppDelegate.h"

@implementation AppDelegate
@synthesize nodeIcon;

- (void)applicationDidFinishLaunching:(NSNotification *)aNotification {
    NSString *defaultDirectory = NSHomeDirectory();
    [self setNodeIcon:[[NSWorkspace sharedWorkspace] iconForFile:defaultDirectory]];
}

@end 
```

# objective-c - 类方法和实例方法

> ID：12209928
> 
> 赞同：-2
> 
> 时间：2012-08-31T06:25:00.377
> 
> 标签：objective-c

类方法是静态方法吗？这个论点是真的吗？所以如果我们声明 NSString 因为 alloc 是一个类方法

NSString *hello = [[NSString alloc] init]; 类方法

[你好 isEqualtoString:@"Hello"]; 实例方法

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T06:42:16.407

在**面向对象编程**中，*类方法*是应用于/由类调用的方法/函数，而不是它的特定实例，即该类的对象。实例*方法*是直接在对象上调用的方法。

在某些语言中，每个类都由一个 Class 对象表示，因此类方法是该对象的实例方法。这对于应用反射和内省很有用。

在objective-c 中，类方法是通过使用`+`其声明之前的符号来定义的，而实例方法则使用`-`它们之前的符号。这是一个例子：

```
@interface Rectangle : NSObject

    + (void)join:(Rectangle *)firstRect withAnother:(Rectangle *)secondRect;
    - (void)area;

@end 
```

当您不需要引用特定对象时经常使用类方法，或者您必须更改所有这些方法，或者您只需要一个与实例对象无关的函数的位置。

你**`static`**在你的问题中说。您可能指的是 Java 之类的语言，其关键字 static 位于类方法的声明之前。[在 objective-c 中，关键字 static 与C](https://stackoverflow.com/questions/572547/what-does-static-mean-in-a-c-program)中使用的含义相同。

作为参考，您可以在 SO或[此段落中查看](http://en.wikipedia.org/wiki/Method_%28computer_programming%29#Class_methods)[此答案](https://stackoverflow.com/questions/1053592/objective-c-class-vs-instance-methods?rq=1)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T07:00:15.997

您可以*将*类方法视为类似于`static`C++ 中的方法，如

```
[NSString alloc]  <=>  /* hypothetical */ NSString::alloc() 
```

但在幕后，存在重大差异。例如，在 C++`static`方法中，您不能使用`this`; 在 Objective-C 类方法中，`self`是完全有效的并且引用类对象。

# ios - 在应用启动时显示介绍视频

> ID：12209944
> 
> 赞同：1
> 
> 时间：2012-08-31T06:26:13.500
> 
> 标签：ios, mpmovieplayercontroller

我必须在应用程序启动时显示一个小的介绍视频，并且我也必须显示启动画面（DEFAULT.png）。所以在我的第一个视图控制器的 viewDidLoad 中，我这样做：

```
 NSURL * movieUrl = [[NSURL alloc] initFileURLWithPath: [[NSBundle mainBundle] pathForResource:@"movie" ofType:@"mp4"]];
    self.playerController = [[MPMoviePlayerViewController alloc]initWithContentURL:movieUrl];

    //Fit the screen
    self.playerController.view.frame = CGRectMake(0, -20, 320, 480);

    //Hide video controls
    self.playerController.moviePlayer.controlStyle = MPMovieControlStyleNone;

    //Play as soon as loaded
    self.playerController.moviePlayer.shouldAutoplay = YES;

    //Add the video as the first view background
    [self.view addSubview:playerController.moviePlayer.view]; 
```

但是在这个实现中，当将播放器视图添加到视图时，总是会出现黑色闪烁。有什么办法可以避免黑闪？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T06:38:38.153

与其在您的 firstViewController 中显示 playerController，不如在 appDelegate 中处理它并将其显示在窗口的 rootViewController 上。

```
NSURL * movieUrl = [[NSURL alloc] initFileURLWithPath: [[NSBundle mainBundle] pathForResource:@"movie" ofType:@"mp4"]];
self.playerController = [[MPMoviePlayerViewController alloc]initWithContentURL:movieUrl];

//Fit the screen
self.playerController.view.frame = CGRectMake(0, -20, 320, 480);

//Hide video controls
self.playerController.moviePlayer.controlStyle = MPMovieControlStyleNone;

//Play as soon as loaded
self.playerController.moviePlayer.shouldAutoplay = YES;

[self.window.rootViewController presentModalViewController:self.playerController animated:NO]; 
```

确保您使用无动画呈现它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:46:27.003

我认为没有任何方法可以避免这种情况，因为当应用程序尝试执行此行时屏幕会闪烁黑色：

```
[self.view addSubview:playerController.moviePlayer.view]; 
```

或者

```
[self.window.rootViewController presentModalViewController:self.playerController animated:NO]; 
```

因此，我认为在执行此执行期间您无能为力。

# vim - 如何在windows下停止Vim中的闪烁

> ID：12209945
> 
> 赞同：2
> 
> 时间：2012-08-31T06:26:14.963
> 
> 标签：vim

在 Vim 7.3 中，当我按下“ **K** ”时，即使光标已经在第一行，或者我进行了复制等操作，也会出现很多闪烁，并且缓冲区窗口也会反转其颜色。

有什么办法可以修复它。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-31T07:11:25.127

你可以关掉`visualbell`

```
:set novb 
```

# version-control - 如何在 Perforce 的搁置更改列表中添加文件？

> ID：12209947
> 
> 赞同：10
> 
> 时间：2012-08-31T06:26:21.023
> 
> 标签：version-control, perforce

我编辑了一个文件，然后用 shelved changelist 搁置了其中的更改`X`。现在我编辑另一个文件。如何将此文件添加到已经存在的搁置更改列表`X`中或生成包含两个文件更改的新更改列表？

谢谢。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2014-04-08T18:09:31.110

正如@Dennis 建议的那样，您不必这样做`unshelve`，尽管这可能是一种方法。

**对于您希望添加到现有架子的未打开文件，**只需将该文件打开到现有架子的更改列表中即可。例如，如果您的架子由 changelist #1729 标识，则执行

```
p4 edit -c 1729 forgot_to_shelve.py 
```

然后，搁置它：

```
p4 shelve -c 1729 
```

如果事实证明文件已经存在于架子中，但您希望更新它，那么像往常一样，添加`-f`：

```
p4 shelve -c 1729 -f 
```

**对于您希望添加到现有工具架的当前打开的文件，**您首先`reopen`将该文件放入现有工具架的更改列表中，然后再按上述方式搁置：

```
p4 reopen -c 1729 forgot_to_shelve_and_currently_opened.py
p4 shelve -c 1729 
```

* * *

参考：

> 为了将文件添加到预先存在的搁置中，必须首先在搁置的更改列表中打开文件；用于`p4 reopen`将打开的文件从一个更改列表移动到另一个。

^([p4 shelve // Perforce 2013.3：命令参考](http://www.perforce.com/perforce/r13.3/manuals/cmdref/p4_shelve.html))

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-31T07:53:00.090

您可以将更改列表[取消](http://www.perforce.com/perforce/r12.1/manuals/cmdref/unshelve.html#1046500)搁置到客户端，添加文件，然后再次[搁置](http://www.perforce.com/perforce/r12.1/manuals/cmdref/shelve.html)。它将保持相同的更改列表编号，因为更改列表仅在提交时重新编号（如果需要[保持时间顺序）。](http://kb.perforce.com/article/781/changelist-renumbered-on-submit)

基本上，将搁置的变更列表视为您刚刚搁置片刻的本地待处理变更列表。

# android - 通过编码为 textview 设置边框

> ID：12209951
> 
> 赞同：2
> 
> 时间：2012-08-31T06:26:40.223
> 
> 标签：android

我有一个`TextView`通过 java 编码创建的，我需要通过编码绘制边框。请参考我下面的代码，

```
TextView txt = new TextView(this);
txt.setText("SEARCH TABLE");
txt.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 18);
txt.setFadingEdgeLength(10);
txt.setTextColor(Color.WHITE);
txt.setBackgroundColor(Color.rgb(83,82,82));
txt.setPadding(10, 5, 10, 0);
txt.setGravity(Gravity.CENTER);
txt.setTypeface(Typeface.SERIF,Typeface.BOLD); 
```

怎么做 ？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-31T06:52:01.273

您可以将可绘制的形状（矩形）设置为视图的背景。

```
txt.setBackgroundDrawable(getResources().getDrawable(R.drawable.black)); 
```

和矩形drawable back.xml（放入res/drawable文件夹）：

```
<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle" >    
<solid android:color="#ffffff" />    
<stroke android:width="1dip" android:color="#4fa5d5"/>    
</shape> 
```

# mysql - mysql查询中的正则表达式

> ID：12209955
> 
> 赞同：4
> 
> 时间：2012-08-31T06:26:53.827
> 
> 标签：mysql, sql

我有 mysql 表值，例如

```
1-2

1-2-3

1-4-5

1-4-5-12-15

15-45-75

1-5-15-25-35-55

55-65-75 
```

我想选择哪些行的编号为 5（不是 15 或 25 或 35）。

我尝试过使用 LIKE 查询，但它给出的所有 5 个值都包含行（包括 15、35、45、55）。

```
SELECT ... WHERE linkage LIKE '%5%' 
```

我认为我们可以通过 REGEXP 做到这一点。你能帮我吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-31T06:29:03.767

您可以使用[FIND_IN_SET](http://dev.mysql.com/doc/refman/5.5/en/string-functions.html#function_find-in-set)执行此操作：

```
SELECT ... 
WHERE FIND_IN_SET(5, REPLACE(linkage,'-',',')); 
```

# 例子[@sqlfiddle](http://sqlfiddle.com/#!2/a1cd5/1)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-31T06:28:39.347

尝试

```
SELECT ... WHERE concat('-',linkage,'-') LIKE '%-5-%' 
```

# [SQL 小提琴演示](http://sqlfiddle.com/#!2/be737/1)

# eclipse - 将 jfxrt.jar 添加到标准 Eclipse 构建路径

> ID：12209956
> 
> 赞同：2
> 
> 时间：2012-08-31T06:27:01.737
> 
> 标签：eclipse, build, path

如何说服 eclipse 默认将 jfxrt.jar 包含到其标准构建路径中，以避免每次更改 JVM 时手动编辑它？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T12:42:54.303

更方便的方法是：

转到 > Window > Preferences > Installed JREs > Edit your jdk >1.7u7 location

然后点击“Add external Jar”，选择Jdk提供的jfxrt.jar。

所有 JavaFX 类都可用于您的所有项目，只需添加此自定义 Jdk

陷阱是您不能使用*执行环境*，因为 jfxrt.jar 尚未添加到 Jdk 的 Eclipse jars 定义中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T06:29:26.733

您可以`jfxrt.jar`从 添加`Project -> Properties -> Java Build Path -> Libraries -> Add External Jars`

不幸的是，您需要为每个项目都这样做。

# sql - top_n_rank 全文搜索问题

> ID：12209957
> 
> 赞同：1
> 
> 时间：2012-08-31T06:27:04.073
> 
> 标签：sql, sql-server, sql-server-2008, full-text-search, ranking-functions

这是关于`top_n_by_rank`全文搜索的参数。

我有一个查询，假设：

```
SELECT *
FROM Publisher p 
INNER JOIN FREETEXTTABLE(Publisher, Name, @searchText, 100) PublisherSearch
           ON  p.Id = PublisherSearch.[Key]
ORDER BY PublisherSearch.[Rank] 
```

在这里，我给了`top_n_by_rank = 100`. 这应该给我排名最高的 100 条记录。但我只得到 61 条记录。当我删除`top_n_rank`参数时，它给了我超过 1000 条记录。

我的问题是，`top_n_by_rank`参数是否仅搜索前 100 条记录，还是搜索所有记录并仅获得前 100 条搜索结果？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-02-24T10:01:56.667

您的实际问题的答案：

> top_n_by_rank 参数仅搜索前 100 条记录，还是搜索所有记录并仅获取前 100 条搜索结果。

是：`top_n_by_rank`应该告诉 SQL Server 检查**所有**记录并在结果中只选择`top_n_by_rank`最匹配的记录。

它不像 plain `SELECT TOP * FROM table`，它注意记录的匹配等级。

以下是[FREETEXTTABLE](https://msdn.microsoft.com/en-us/library/ms177652.aspx#Anchor_1)上的 MSDN 文档对此的说明：

> top_n_by_rank
> 指定只**返回排名最高的匹配项**，按降序排列。仅在指定整数值 n 时适用。如果 top_n_by_rank 与其他参数结合使用，则查询返回的行数可能少于实际匹配所有谓词的行数。top_n_by_rank 允许您通过仅调用最相关的命中来提高查询性能。

# web-services - 如何为 FedEx Shipping Web Service 生成 CSP 密钥和 CSP 密码？

> ID：12209960
> 
> 赞同：0
> 
> 时间：2012-08-31T06:27:14.453
> 
> 标签：web-services, asp-classic, fedex

我需要使用 FedEx Web Services 生成运单。我发现下面这段代码是生成运单的 XML SOAP 请求。

```
xmlReq = "<?xml version=""1.0"" encoding=""UTF-8""?>" &_
"<soapenv:Envelope xmlns:soapenv=""http://schemas.xmlsoap.org/soap/envelope/"" xmlns:q0=""http://fedex.com/ws/ship/v7"" xmlns:xsd=""http://www.w3.org/2001/XMLSchema"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"">" &_
"<soapenv:Body>" &_
"<q0:ProcessShipmentRequest>" &_
"<q0:WebAuthenticationDetail>" &_
"<q0:CspCredential>" &_
"<q0:Key>CSP Key</q0:Key>" &_
"<q0:Password>CSP Password</q0:Password> "&_
"</q0:CspCredential>" &_
"<q0:UserCredential>" &_
"<q0:Key>User Key</q0:Key>" &_
"<q0:Password>User Password</q0:Password>" &_
"</q0:UserCredential>" &_
"</q0:WebAuthenticationDetail>" &_
"<q0:ClientDetail>" &_
"<q0:AccountNumber>123456789</q0:AccountNumber>" &_
"<q0:MeterNumber>123456789</q0:MeterNumber>" &_
"<q0:ClientProductId>ABCD</q0:ClientProductId>" &_
"<q0:ClientProductVersion>1234</q0:ClientProductVersion>" &_
"</q0:ClientDetail>" &_
"<q0:TransactionDetail>" &_
"<q0:CustomerTransactionId>Express US Basic Shipment</q0:CustomerTransactionId>" &_
"</q0:TransactionDetail>" &_
"<q0:Version>" &_
"<q0:ServiceId>ship</q0:ServiceId>" &_
"<q0:Major>8</q0:Major>" &_
"<q0:Intermediate>0</q0:Intermediate>" &_
"<q0:Minor>0</q0:Minor> </q0:Version>" &_
"<q0:RequestedShipment>" &_
"<q0:ShipTimestamp>2009-01-15T12:00:00-05:00</q0:ShipTimestamp>" &_
"<q0:DropoffType>REGULAR_PICKUP</q0:DropoffType>" &_
"<q0:ServiceType>PRIORITY_OVERNIGHT</q0:ServiceType>" &_
"<q0:PackagingType>YOUR_PACKAGING</q0:PackagingType>" &_
"<q0:Shipper>" &_
"<q0:Contact>" &_
"<q0:CompanyName>Shipper Company</q0:CompanyName>" &_
"<q0:PhoneNumber>1234567890</q0:PhoneNumber>" &_
"</q0:Contact>" &_
"<q0:Address>" &_
"<q0:StreetLines>Shipper Address Line 1</q0:StreetLines>" &_
"<q0:StreetLines>Shipper Address Line 2</q0:StreetLines>" &_
"<q0:City>Collierville</q0:City>" &_
"<q0:StateOrProvinceCode>TN</q0:StateOrProvinceCode>" &_
"<q0:PostalCode>38017</q0:PostalCode>" &_
"<q0:CountryCode>US</q0:CountryCode>" &_
"</q0:Address>" &_
"</q0:Shipper>" &_
"<q0:Recipient>" &_
"<q0:Contact>" &_
"<q0:PersonName>Recipient Contact</q0:PersonName>" &_
"<q0:PhoneNumber>1234567890</q0:PhoneNumber>" &_
"</q0:Contact>" &_
"<q0:Address>" &_
"<q0:StreetLines>Recipient Address Line 1</q0:StreetLines>" &_
"<q0:StreetLines>Recipient Address Line 2</q0:StreetLines>" &_
"<q0:City>Irving</q0:City>" &_
"<q0:StateOrProvinceCode>TX</q0:StateOrProvinceCode>" &_
"<q0:PostalCode>75063</q0:PostalCode>" &_
"<q0:CountryCode>US</q0:CountryCode>" &_
"</q0:Address>" &_
"</q0:Recipient>" &_
"<q0:ShippingChargesPayment>" &_
"<q0:PaymentType>SENDER</q0:PaymentType>" &_
"<q0:Payor>" &_
"<q0:AccountNumber>123456789</q0:AccountNumber>" &_
"<q0:CountryCode>USD</q0:CountryCode>" &_
"</q0:Payor>" &_
"</q0:ShippingChargesPayment>" &_
"<q0:LabelSpecification>" &_
"<q0:LabelFormatType>COMMON2D</q0:LabelFormatType>" &_
"<q0:ImageType>PDF</q0:ImageType>" &_
"<q0:LabelStockType>PAPER_7X4.75</q0:LabelStockType>" &_
"</q0:LabelSpecification>" &_
"<q0:RateRequestTypes>ACCOUNT</q0:RateRequestTypes>" &_
"<q0:PackageCount>1</q0:PackageCount>" &_
"<q0:RequestedPackages>" &_
"<q0:SequenceNumber>1</q0:SequenceNumber>" &_
"<q0:Weight>" &_
"<q0:Units>LB</q0:Units>" &_
"<q0:Value>15</q0:Value>" &_
"</q0:Weight>" &_
"<q0:Dimensions>" &_
"<q0:Length>5</q0:Length>" &_
"<q0:Width>5</q0:Width>" &_
"<q0:Height>5</q0:Height>" &_
"<q0:Units>IN</q0:Units>" &_
"</q0:Dimensions>" &_
"</q0:RequestedPackages>" &_
"</q0:RequestedShipment>" &_
"</q0:ProcessShipmentRequest>" &_
"</soapenv:Body></soapenv:Envelope>" &_ 
```

我在经典 ASP 中工作，我需要使用 FedEX Web 服务打印运单。我不确定这段代码。我不知道如何生成获取响应所需的 CSP 密钥和 CSP 密码。

请指导我。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-31T19:49:46.893

该信息在 www.fedex.com/us/developer/ 生成，您必须使用有效的用户名密码和帐户登录系统。转到[http://www.fedex.com/us/developer/migration.html](http://www.fedex.com/us/developer/migration.html)并立即按迁移。登录系统...然后转到“移至生产”。

您必须登录并按获取生产密钥 -> [https://www.fedex.com/wpor/web/jsp/commonTC.jsp](https://www.fedex.com/wpor/web/jsp/commonTC.jsp)

您将收到一封包含所有信息的电子邮件。brgds

# ioc-container - 未注册类型的 StructureMap 生命周期

> ID：12209961
> 
> 赞同：0
> 
> 时间：2012-08-31T06:27:16.233
> 
> 标签：ioc-container, structuremap

在结构映射中，您可以控制您注册的对象的生命周期，通常是具体类型的一些接口，如下所示：

```
x.For<IMyInterface>().Transient().Use<MyObject>(); 
```

所以我可以控制生命周期。但是，当解析未注册的对象（具体）类型时，生命周期默认为 Transient()。

这显然是结构映射的一个方便特性，因为我肯定不想注册每个具体类型。

但是有没有办法在不注册的情况下覆盖这个生命周期？

此外，如果您可以将对象的生命周期指定为覆盖，那就太好了，就像：

```
ObjectFactory.With<SomeUnregisteredConcreteObject>().LifeCycleIs(...) 
```

在这种情况下，生命周期将被修改为下一个解决方案`GetInstance`

知道如何做到这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T13:47:21.757

您可以创建一个子容器并注册组件：

```
var child = ObjectFactory.Container.CreateChildContainer();
child.Configure(config => config.For<SomeUnregisteredConcreteType>().Singleton());
var @object = child.GetInstance<...>(); 
```

我认为您不想注册的原因是因为您不希望注册挂起。我认为这解决了这个问题。

我也不知道指定默认生命周期的内置方法。但是，我认为使用该[`IAutoMocker`](https://github.com/structuremap/structuremap/blob/master/src/StructureMap.AutoMocking/AutoMocker.cs)界面可能是可能的。您可能可以浏览[整个文件夹](https://github.com/structuremap/structuremap/tree/master/src/StructureMap.AutoMocking)中的代码以了解如何操作。AutoMocking 挂钩到容器中，以便请求未注册的组件，它会调用`IAutoMocker`并给它一个注册组件的机会。我想你可以`IAutoMocker`用来注册具有不同默认生命周期的组件。

如果你成功了，我希望你发送一个拉取请求或写一篇博文与我们分享。

# java - 从 .class 文件访问 LineNumberTable

> ID：12209970
> 
> 赞同：0
> 
> 时间：2012-08-31T06:28:22.123
> 
> 标签：java, code-coverage, .class-file

```
LineNumber[] ln = new LineNumber[300];
LineNumberTable lnt = new LineNumberTable(LineNumberTable c);
ln = lnt.getLineNumberTable(); 
```

查询 1：我不知道应该为 LineNumberTable 的构造函数传递什么参数。

查询 2：如何访问 .class 文件的 LineNumberTable 或者如何将 .class 文件与“lnt”对象链接？

先感谢您。

# save - 在vim中，我想在保存时对我所在的文件运行astyle

> ID：12209971
> 
> 赞同：1
> 
> 时间：2012-08-31T06:28:23.030
> 
> 标签：save, vim, astyle

当我保存在 vim 中时，我希望能够运行“astyle sourceCodeThatImCurrentlyIn.cpp”。那么 :w 和 :!astyle source.c 的组合？这可能吗？

谢谢你，伊杰

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:55:46.817

看一下 Vim[自动命令](http://vimdoc.sourceforge.net/htmldoc/autocmd.html)：

```
:autocmd BufWritePost *.c execute '!astyle' shellescape(expand('%'), 1) 
```

`%`替换为当前文件的路径。`BufWritePost`文件保存后调用。在保存文件之前还`BufWritePre`可以做一些事情。

如果您想永久使用它，请将其放入您的`.vimrc`配置文件中。

# java - 如何使用 JavaScript 更新我的 JSP 页面的某些组件

> ID：12209972
> 
> 赞同：1
> 
> 时间：2012-08-31T06:28:25.210
> 
> 标签：java, javascript, jsp, refresh

我有一个 Jsp 页面，我想使用 Js 自动更新其中一个表单。有人可以提出一些建议吗谢谢）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-31T06:30:52.833

查看 jQuery 库 (http://jquery.com/)，它将允许您操作页面上的 HTML 元素，包括表单元素和它的子元素，可以根据需要自动更新它们 :)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-31T06:43:39.663

您可以使用基本的 JavaScript 动态更新表单的元素，如果那是您正在寻找的。以下是一些肮脏的例子：

例如。如果您的表单的 id 是`myForm`，您可以使用

```
document.forms["myform"].action = "somepage"; //to change the action
var elem1 = document.getElementById("elementID")` //to get an element 
var elem2 = document.forms["myform"].element //other way to get an element 
childElement = document.createElement("option"); //to create a new element 
myform.appendChild(childElement); //to append some child-element to the form 
```

等等。也可以使用简单的 JavaScript 更改元素的值/属性/样式。互联网上的任何 JavaScript 教程都应该有所帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-31T06:42:33.210

对于来自服务器端的更新，即来自数据库的数据或其他`file on server`用途`ajax`

现在取决于你去争取`javascript`或`jquery`完成这项工作。

谷歌这个你可以找到好的解决方案。

# mobile - 并非所有类都由 API O MAT 中的 CSV 模块导出

> ID：12209980
> 
> 赞同：1
> 
> 时间：2012-08-31T06:29:05.070
> 
> 标签：mobile, backend

我正在使用[apiomat](http://apiomat.com)构建我的移动后端。现在我添加了 CSV 模块来导出我的数据。但并非所有课程都包括在内。那里出了什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:35:44.423

这听起来像是您在更改数据模型后没有重新部署。只需转到部署屏幕并在生产或测试上点击部署。

另外，请注意两个系统中哪个系统正在导出数据；您可以使用左侧菜单上的滑块进行切换。

您还可以查看[API O MAT Wiki](http://wiki.apiomat.com)

# blackberry - 黑莓线程异常

> ID：12209981
> 
> 赞同：0
> 
> 时间：2012-08-31T06:29:09.013
> 
> 标签：blackberry

如何杀死黑莓中的线程。我正在使用下面的代码，我想在弹出对话框时杀死一个线程。第一次登录失败时，它工作正常，但第二次登录失败时，它返回 RunTimeException。

```
public void onAuthFailed(String message) {
        //this.invokeAndWait(new NotifyDialog("Please enter correct username and password"));
        UiApplication.getUiApplication().invokeLater(new Runnable(){
            public void run(){
                Dialog.alert("Please enter correct username and password.");
                UiApplication.getUiApplication().pushScreen(loginscreen);
            }
        });
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T06:34:39.480

您发布的代码并非专门用于杀死线程。它将显示一个新屏幕。而且我认为您正在尝试显示一个已显示的屏幕对象。即`loginscreen`实例已显示。如果`loginscreen`未显示，则表示新对话框与要显示的屏幕之间存在冲突（事件锁定）。在不同的线程中显示对话框和屏幕。

检查本教程：[http ://www.javabeginner.com/learn-java/java-threads-tutorial](http://www.javabeginner.com/learn-java/java-threads-tutorial)

我认为这会有所帮助。

# batch-file - WinSCP 用于编辑远程文件的命令行参数

> ID：12209986
> 
> 赞同：0
> 
> 时间：2012-08-31T06:29:37.500
> 
> 标签：batch-file, ssh, winscp

有没有办法创建一个批处理文件，我们可以使用 WinSCP 编辑器编辑远程文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T14:05:11.013

使用`/edit`命令行参数：

```
winscp.exe sftp://user@example.com/ /edit /home/user/file.txt 
```

参考：[WinSCP 命令行选项](https://winscp.net/eng/docs/commandline)。

# java - android上的java.lang.outofmemory错误（Web服务）

> ID：12209987
> 
> 赞同：7
> 
> 时间：2012-08-31T06:29:40.463
> 
> 标签：java, android, web-services, soap

我正在使用简单的 Web 服务来访问服务器上数据库中的数据。我正在使用 android api10 但运行代码时出现错误`java.lang.OutOfMemoryError`。

我的代码是：

```
package com.android.webservicesdemo;

import java.util.ArrayList;
import java.util.HashMap;
import org.ksoap2.SoapEnvelope;
import org.ksoap2.serialization.SoapObject;
import org.ksoap2.serialization.SoapSerializationEnvelope;
import org.ksoap2.transport.HttpTransportSE;
import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.TextView;
import android.widget.Toast;

public class androidactivity extends Activity {
    /** Called when the activity is first created. */

    private static String SOAP_ACTION1 = "http://tempuri.org/getAllDealsbyCategorySer";
    private static String NAMESPACE = "http://tempuri.org/";
    private static String METHOD_NAME1 = "getAllDealsbyCategorySer";
    private static String URL = "http://dosha.dotnetgeekz.com/ServerServices.asmx?WSDL";
    static final String KEY_DEAL = "deals"; // parent node
    static final String KEY_ID = "id";
    static final String KEY_HEADLINE = "DealHeadline";
    static final String KEY_CATEGORY = "DealCategory";
    static final String KEY_PRICE = "BuyPrice";
    ArrayList<HashMap<String, String>> menuItems = new ArrayList<HashMap<String, String>>();
    Button btnFar, btnCel, btnClear;
    EditText txtFar, txtCel;
    TextView textView2;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.mains);

        btnFar = (Button) findViewById(R.id.btnFar);
        txtFar = (EditText) findViewById(R.id.txtFar);
        textView2 = (TextView) findViewById(R.id.textView2);
        btnFar.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {

                // Initialize soap request + add parameters
                SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME1);
                // Use this to add parameters
                request.addProperty("category", txtFar.getText().toString());
                // Declare the version of the SOAP request
                SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
                envelope.setOutputSoapObject(request);
                envelope.dotNet = true;
                try {
                    HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);
                    // this is the actual part that will call the webservice
                    androidHttpTransport.call(SOAP_ACTION1, envelope);
                    // Get the SoapResult from the envelope body.
                    SoapObject result = (SoapObject) envelope.bodyIn;

                    if (result != null)
                    {
                        // Get the first property and change the label text                 
                        textView2.setText(result.getProperty(0).toString());
                    }
                    else
                    {
                        Toast.makeText(getApplicationContext(), "No Response",Toast.LENGTH_LONG).show();
                    }
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        });
    }
} 
```

错误是：

```
08-31 11:36:06.606: E/dalvikvm-heap(334): Out of memory on a 2813318-byte allocation.
08-31 11:36:06.660: E/AndroidRuntime(334): FATAL EXCEPTION: main
08-31 11:36:06.660: E/AndroidRuntime(334): java.lang.OutOfMemoryError
08-31 11:36:06.660: E/AndroidRuntime(334):  at java.lang.AbstractStringBuilder.enlargeBuffer(AbstractStringBuilder.java:95)
08-31 11:36:06.660: E/AndroidRuntime(334):  at java.lang.AbstractStringBuilder.append0(AbstractStringBuilder.java:153)
08-31 11:36:06.660: E/AndroidRuntime(334):  at java.lang.StringBuffer.append(StringBuffer.java:219)
08-31 11:36:06.660: E/AndroidRuntime(334):  at org.ksoap2.serialization.SoapObject.toString(SoapObject.java:646)
08-31 11:36:06.660: E/AndroidRuntime(334):  at com.android.webservicesdemo.androidactivity$1.onClick(androidactivity.java:84)
08-31 11:36:06.660: E/AndroidRuntime(334):  at android.view.View.performClick(View.java:2485)
08-31 11:36:06.660: E/AndroidRuntime(334):  at android.view.View$PerformClick.run(View.java:9080)
08-31 11:36:06.660: E/AndroidRuntime(334):  at android.os.Handler.handleCallback(Handler.java:587)
08-31 11:36:06.660: E/AndroidRuntime(334):  at android.os.Handler.dispatchMessage(Handler.java:92)
08-31 11:36:06.660: E/AndroidRuntime(334):  at android.os.Looper.loop(Looper.java:123)
08-31 11:36:06.660: E/AndroidRuntime(334):  at android.app.ActivityThread.main(ActivityThread.java:3683)
08-31 11:36:06.660: E/AndroidRuntime(334):  at java.lang.reflect.Method.invokeNative(Native Method)
08-31 11:36:06.660: E/AndroidRuntime(334):  at java.lang.reflect.Method.invoke(Method.java:507)
08-31 11:36:06.660: E/AndroidRuntime(334):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
08-31 11:36:06.660: E/AndroidRuntime(334):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
08-31 11:36:06.660: E/AndroidRuntime(334):  at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T06:37:02.183

您的 SOAP 响应是否可能太大？

```
08-31 11:36:06.660: E/AndroidRuntime(334):  at org.ksoap2.serialization.SoapObject.toString(SoapObject.java:646)
08-31 11:36:06.660: E/AndroidRuntime(334):  at com.android.webservicesdemo.androidactivity$1.onClick(androidactivity.java:84) 
```

可能是由下面的行引起的

```
textView2.setText(result.getProperty(0).toString()); 
```

顶行还提到字符串的长度可能是 2813318。

```
08-31 11:36:06.606: E/dalvikvm-heap(334): Out of memory on a 2813318-byte allocation. 
```

# iphone - iPhone 在网络视图中播放 youtube 视频

> ID：12209994
> 
> 赞同：2
> 
> 时间：2012-08-31T06:30:04.790
> 
> 标签：iphone, html, ios5, uiwebview

我无法播放这种格式的视频。

[http://www.youtube.com/embed/lNOMZoF9VlM?rel=0](http://www.youtube.com/embed/lNOMZoF9VlM?rel=0)

我的 html 字符串。

```
NSString *html = [NSString stringWithFormat:@"<html><head>\
                              <body style=\"margin:0\">\
                              <embed id=\"yt\" src=%@ type=\"application/x-shockwave-flash\" \
                              width=\"120\" height=\"120\"></embed>\
                              </body></html>",str]; 
```

请回复。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-25T08:12:39.750

试试这个它对我有用......

```
 CGRect frame = CGRectMake(40, 55, width, height);

    NSString *embedHTML =[NSString stringWithFormat:@"\
                          <html><head>\
                          <style type=\"text/css\">\
                          body {\
                          background-color: transparent;\
                          color: blue;\
                          }\
                          </style>\
                          </head><body style=\"margin:0\">\
                          <iframe height=\"220\" width=\"400\" src=\"http://www.youtube.com/embed/lNOMZoF9VlM\"></iframe>\
                           </body></html>"];

    webview = [[UIWebView alloc] initWithFrame:frame];

    webview.backgroundColor = [UIColor clearColor];

    webview.scrollView.scrollEnabled =NO;

    [webview loadHTMLString:embedHTML baseURL:nil];

    [self.view addSubview:webview]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T07:21:49.233

我实现了如下所示的 Youtube 视图。重要的是，这只能与 youtube 的*embed-url*的 url 字符串一起使用，它应该如下所示：

```
<iframe width="420" height="315" src="http://www.youtube.com/embed/ntQDyLpoLWM" frameborder="0" allowfullscreen></iframe> 
```

（上面的所有代码都有一个问题`type="application/x-shockwave-flash"`吗？）

这是我的代码：

```
#import "YoutubeView.h"

@implementation YoutubeView

- (id)initWithFrame:(CGRect)frame andURL:(NSString *)url
{
  self = [super initWithFrame:frame];
  if (self) 
  {
    urlString = [url retain];
    webView = [[UIWebView alloc] initWithFrame:self.bounds];
    [webView.scrollView setBounces:NO];
    [self addSubview:webView];
  }
  return self;
}

-(void)layoutSubviews
{
  webView.frame = self.bounds;
  NSMutableString *html = [[NSMutableString alloc] init];
  [html appendString:@"<html>"];
  [html appendString:@"<head>"];
  [html appendString:@"<meta name=\"viewport\" content=\"initial-scale=1.0, user-scalable=no\">"];
  [html appendString:@"</head>"];
  [html appendString:@"<body style=\"border:0; margin:0; padding:0;\">"];
  [html appendFormat:@"<iframe width=\"%d\" height=\"%d\" src=\"%@\" frameborder=\"0\" allowfullscreen>", (int) roundf(self.bounds.size.width), (int) roundf(self.bounds.size.height), urlString];
  [html appendString:@"</iframe>"];
  [html appendString:@"</body>"];
  [html appendString:@"</html>"];
  [webView loadHTMLString:html baseURL:nil];
  [html release];
}

-(void)dealloc
{
  [webView release];
  [urlString release];
  [super dealloc];
}

@end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T06:36:33.077

您不能在 WebView 中将 youtube 视频直接播放到您的 iPhone。首先，您需要转换为嵌入的 HTML，然后您就可以轻松播放 youtube 视频。

```
 UIWebView *webview=[[UIWebView alloc] initWithFrame:CGRectMake(vid.x_Pos, vid.y_Pos, vid.width,vid.height)];
            webview.backgroundColor = [UIColor clearColor];

            embedHTML = @"\
            <html><head>\
            <style type=\"text/css\">\
            body {\
            background-color: transparent;\
            color: white;\
            }\
            </style>\
            </head><body style=\"margin:0\">\
            <embed id=\"yt\" src=\"http://www.youtube.com/embed/lNOMZoF9VlM?rel=0\" type=\"application/x-shockwave-flash\" \
            width=\"%0.0f\" height=\"%0.0f\"></embed>\
            </body></html>";

            NSString *html = [NSString stringWithFormat:embedHTML, vid.width, vid.height];
            [webview loadHTMLString:html baseURL:nil];

            [portraitView addSubview:webview];
            [webview release]; 
```

如果您还有其他问题，请告诉我。

# oracle - 在oracle中选择从第三行到第n行的行

> ID：12209997
> 
> 赞同：1
> 
> 时间：2012-08-31T06:30:21.980
> 
> 标签：oracle, oracle10g, oracle11g

> **可能重复：**
> [使用 Oracle 进行分页](https://stackoverflow.com/questions/241622/paging-with-oracle)

我尝试从 11 行开始选择数据。我使用 select e_name from copy where rownum>10;

这不会显示任何内容.. 请帮我在表格中选择第 11 行到第 15 行

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-31T06:42:59.053

您不能像那样使用 rownum，您需要将所有内容包装到派生表中：

```
select *
from (
  select *,
         rownum as rn
  form your_table
  order by some_column
) 
where rn between 11 and 15 
```

您应该`order by`在内部查询中使用 an ，否则随着时间的推移您将无法获得一致的结果。关系表中的行**没有**任何顺序，因此数据库可以自由地以它认为合适的任何顺序返回行。

请阅读手册了解更多详情。您的查询不起作用的原因已通过示例记录在那里。

[http://docs.oracle.com/cd/E11882_01/server.112/e26088/pseudocolumns009.htm#i1006297](http://docs.oracle.com/cd/E11882_01/server.112/e26088/pseudocolumns009.htm#i1006297)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-31T06:42:42.470

你必须使用喜欢

```
select e_name
from (select e_name,rownum rno from copy)
where rno > 10 and rno < 16 
```

**[示例示例](http://www.sqlfiddle.com/#!4/3eb7c/11)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-31T07:38:19.580

您也可以使用分析函数 row_number() 。请考虑[http://docs.oracle.com/cd/B19306_01/server.102/b14200/functions137.htm](http://docs.oracle.com/cd/B19306_01/server.102/b14200/functions137.htm)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-31T08:43:27.383

首先编写将选择所有行的查询，如下所示：-

```
select ename from employee 
```

现在在您的查询中添加一个 rownum 列，rownum 将帮助您识别查询结果中的行数

```
select rownum r,ename from employee 
```

现在将您的查询作为子查询并将范围应用于“r”（rownum）

```
select * from (selecr rownum r, ename from employee) subq where subq.r between 11 and 15 
```