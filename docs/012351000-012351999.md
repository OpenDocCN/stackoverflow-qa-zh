# StackOverflow 问答 12351000-12351999

# extjs - 如何在 EXT-JS 中发送不带任何参数的 GET 请求

> ID：12351008
> 
> 赞同：0
> 
> 时间：2012-09-10T11:45:23.537
> 
> 标签：extjs, callback, request, script-tag

在*Java 脚本*中，当我们发送 GET 请求时，它不添加任何参数，但在*EXT-JS*中，它会自动添加 CallBack 参数。（我检查了 Wireshark 和萤火虫）

我们能够在瞻博网络 MFC URL 上的浏览​​器上看到 xml，因为它发送 GET 请求，但是当使用“回调参数”之类的任何参数*（根据 Firebug、浏览器和wireshark）发送**请求*时，浏览器会显示 404 错误。

 *所以我需要在修改后的加载函数中从*ScriptTagProxy创建一个新的代理扩展。*请告诉我我该怎么做。

我做了以下但没有运气。

```
 var _Proxy = Ext.extend(Ext.data.MyScriptTagProxy({
         url: 'http://IP:PORT/App',
         method: 'GET',
         nocache: false,
         restful: true 
         }); 

 Ext.define('Ext.data.MyScriptTagProxy' {   
 extend: 'Ext.data.ScriptTagProxy',
 constructor:function(cnfg){
 this.callParent(arguments);//Calling the parent class constructor
      this.initConfig(cnfg);//Initializing the component
      this.on('beforerender',this.beforeRender);
 }}); 
```

如果主题还有另一种解决方案，请提出建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T15:16:42.113

这是问题所在：为了使用 JsonP (ScriptTagProxy)，您的服务器需要将响应包装到 javascript 方法回调中并返回有效的 JavaScript 代码。任何其他格式都会失败，因为请求是使用`<script>`标签执行的，并且响应将由浏览器的 JavaScript 引擎解释。

此外，客户端需要能够将回调与原始请求相匹配——这就是 ExtJs 发送回调方法名称的原因，该名称对于特定请求是唯一的。

但是在我们深入研究之前，您是否知道 JsonP 需要服务器相应地准备响应数据。您的服务器（瞻博网络 MFC）是否支持此功能？

作为替代方案，您可以使用`CORS`它作为 JsonP 的替代方案引入。这种技术侵入性较小，并且需要为服务器上的 HTML 文档进行特殊的 HTTP 标头配置。ExtJs`CORS`通过[Ext.data.Connection#cors](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.data.Connection-cfg-cors)支持。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T13:08:51.747

最后我找到了解决方案，

我的问题：- 在 Qus 中提到。

我的解决方案：- 我通过 AJAX 向服务器发送请求，而不是保存响应文本，通过 jQuery 将其转换为 XML。然后将此值赋予 XMLStore 的数据字段。由于服务器在另一个域中，因此也禁用了 POP-Up 阻止程序。工具使用： - ExtDesigner

我的代码：-（对不起代码质量）

```
var doc = sendReq();

function sendReq() {
    var xmlstr = SendRequest();
    var doc1 = new ActiveXObject("Microsoft.XMLDOM");

    doc1.async = "false";
    doc1.loadXML(xmlstr);
    alert(" Xml is parsing ... ");

    return doc1;
}

function SendRequest() {
    var Url = "http://SERVER_IP:PORT/XMLPATH";

    xmlHttp = new XMLHttpRequest();
    xmlHttp.onreadystatechange = ProcessRequest;
    xmlHttp.open("GET", Url, false);
    xmlHttp.send();

    return xmlHttp.responseText;
}

function ProcessRequest() {
    if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {
        if (xmlHttp.responseText != "Not found") {
            var str = xmlHttp.responseText;
        }
    }
}

MyStore = Ext.extend(Ext.data.XmlStore, {
    constructor: function (cfg) {
        cfg = cfg || {};
        MyStore.superclass.constructor.call(this, Ext.apply({
            storeId: 'MyStore',
            data: doc,
            record: 'resourcePool',
            autoLoad: true,
            fields: [{
                name: 'bandwidth',
                type: 'float'
            }, {
                name: 'name',
                type: 'string'
            }]

        }, cfg));
    }
});

new MyStore(); 
```*

# android - Content Assist 在 Eclipse 上未按预期工作

> ID：12351009
> 
> 赞同：1
> 
> 时间：2012-09-10T11:45:26.487
> 
> 标签：android

这些是规格：

*   操作系统：Windows 7 专业版 x86
*   IDE：Eclipse Juno 4.2（适用于 Java 开发人员）
*   ADT：版本 20
*   开发工具包：7

我正在创建一个 XML 布局，将 ImageView 拖到 FrameLayout 后，一切都按预期工作。

```
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    xmlns:android1="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >

    <ImageView
        android1:id="@+id/imageView1"
        android1:layout_width="wrap_content"
        android1:layout_height="wrap_content"
        android1:src="@drawable/logo_splashcreen" />

</FrameLayout> 
```

我注意到的是，它使用`android1`的是`android`.

如果我尝试向 ImageView 添加一个新参数，`Ctrl+Space`它会抛出![](../Images/5ce99323f1e13fa0f88f785cc7bf43d3.png)错误。

正常吗？我以前从来没有发生过...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-10T11:51:32.190

尝试删除

```
 xmlns:android1="http://schemas.android.com/apk/res/android" 
```

行，这似乎是一个无用的重复

```
 xmlns:android="http://schemas.android.com/apk/res/android" 
```

然后，将文件中的所有 ' **android1:** ' 替换为 ' **android:** ' 字符串。

# iphone - 如何一一合并视频文件

> ID：12351010
> 
> 赞同：2
> 
> 时间：2012-09-10T11:45:28.230
> 
> 标签：iphone, objective-c, ios, avfoundation

> **可能重复：**
> [在 iPhone 应用程序中合并两个视频文件](https://stackoverflow.com/questions/10071029/merge-two-video-files-in-iphone-application)

我已经从服务器下载了 40mb 的视频文件，分为多个拆分（2mb）。我正在使用`NSURLConnection`我想将 20 分割为单个视频文件。如何做到这一点在 iphone 框架中有任何 API 可以有人用代码解释我。这是我的 connectionDidFinishLoading 方法

```
 - (void)connectionDidFinishLoading:(NSURLConnection *)connection {

NSString *fileName = [NSString stringWithFormat:@"%@",
                                      filePath];
[contentData writeToFile:fileName atomically:YES];

} 
```

如果我这样写，我只有最后一个拆分文件。我的意思是 2mb 数据只有一些指导我如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T11:54:18.587

**我不确定 writeToFile 在这种情况下是否有效，**

但是要以附加模式添加文件，请使用以下代码，

```
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
NSString *documentTXTPath = [documentsDirectory stringByAppendingPathComponent:@"Notes.txt"];
NSString *savedString = textview.text;
NSFileHandle *myHandle = [NSFileHandle fileHandleForWritingAtPath:logPath];
[myHandle seekToEndOfFile];
[myHandle writeData:[savedString dataUsingEncoding:NSUTF8StringEncoding]]; 
```

删除代码，

```
[contentData writeToFile:fileName atomically:YES]; 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-10T12:28:13.497

```
- (void) mergeVideos{
///... after getting hold or your assets....firstAsset, secondAsset

AVMutableComposition* mixComposition = [AVMutableComposition composition];

AVMutableCompositionTrack *firstTrack = [mixComposition addMutableTrackWithMediaType:AVMediaTypeVideo 
                                                                  preferredTracfirst:kCMPersistentTracfirst_Invalid];
[firstTrack insertTimeRange:CMTimeRangeMake(kCMTimeZero, firstAsset.duration) 
                    ofTrack:[[firstAsset tracksWithMediaType:AVMediaTypeVideo] objectAtIndex:0] 
                     atTime:kCMTimeZero error:nil];

AVMutableCompositionTrack *secondTrack = [mixComposition addMutableTrackWithMediaType:AVMediaTypeVideo 
                                                                   preferredTracfirst:kCMPersistentTracfirst_Invalid];

[secondTrack insertTimeRange:CMTimeRangeMake(kCMTimeZero, secondAsset.duration)
                     ofTrack:[[secondAsset tracksWithMediaType:AVMediaTypeVideo] objectAtIndex:0] 
                      atTime:kCMTimeZero error:nil];    

[secondTrack setPreferredTransform:CGAffineTransformMakeScale(0.25f,0.25f)]; 
} 
```

# java - 如何在Java中将日期格式化为字符串，如“2000 年 12 月 31 日”

> ID：12351013
> 
> 赞同：4
> 
> 时间：2012-09-10T11:45:40.040
> 
> 标签：java, date, format, simpledateformat

我试图使用`SimpleDateFormat`类来做到这一点，但我没有找到任何在一天之后放置*“st”的选项。*我只能得到 *“2000 年 12 月 31 日”*

如何格式化**“2000 年 12 月 31 日”**。我有以毫秒为单位的日期。

java中是否有任何API可以让我们以这种方式格式化日期？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-09-10T12:01:27.940

一个带开关盒的简单功能，这样做

```
Public String getDateSuffix( int day) { 
        switch (day) {
            case 1: case 21: case 31:
                   return ("st");

            case 2: case 22: 
                   return ("nd");

            case 3: case 23:
                   return ("rd");

            default:
                   return ("th");
        }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T11:49:58.633

下面的小函数将返回一个`String`后缀。（从此[答案](https://stackoverflow.com/a/4011232/216104)中窃取）。

```
String getDayOfMonthSuffix(final int n) {
    if (n < 1 || n > 31) {
        throw new IllegalArgumentException("Illegal day of month");
    }

    if (n >= 11 && n <= 13) {
        return "th";
    }

    switch (n % 10) {
        case 1:  return "st";
        case 2:  return "nd";
        case 3:  return "rd";
        default: return "th";
    }
} 
```

然后，您需要做的就是：

```
SimpleDateFormat dd = new SimpleDateFormat("dd");
SimpleDateFormat mmyyyy = new SimpleDateFormat("MMM, yyyy");

String formattedDate = dd.format(date) + getDayOfMonthSuffix(date.get(Calendar.DAY_OF_MONTH)) + " " + mmyyyy.format(date); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-10T11:51:44.793

我在评论中回复了，但我想我可以放弃代码。

```
/**
 * Returns the appropriate suffix from th, nd or rd
 * @param cal
 * @return
 */
public static String dateSuffix(final Calendar cal) {
    final int date = cal.get(Calendar.DATE);
    switch (date % 10) {
    case 1:
        if (date != 11) {
            return "st";
        }
        break;

    case 2:
        if (date != 12) {
            return "nd";
        }
        break;

    case 3:
        if (date != 13) {
            return "rd";
        }
        break;
    }
    return "th";
} 
```

用法：

```
SimpleDateFormat sdf = new SimpleDateFormat("d'%s' MMM, yyyy");
String myDate = String.format(sdf.format(date), Util.dateSuffix(date)); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-10T11:55:32.487

这可能有点短：

```
String getDayOfMonthSuffix(final int n) {
    if (n < 1 || n > 31) {
        throw new IllegalArgumentException("Illegal day of month");
    }
    final String[] SUFFIX = new String[] { "th", "st", "nd", "rd" };
    return (n >= 11 && n <= 13) || (n % 10 > 3) ? SUFFIX[0] : SUFFIX[n % 10];
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-10T11:56:38.103

您可以使用一组值。

```
private static final String[] TH_SUFFIX = ",st,nd,rd,th,th,th,th,th,th,th,th,th,th,th,th,th,th,th,th,th,st,nd,rd,th,th,th,th,th,th,th,st".split(",");

public static String getDayOfMonthSuffix(int n) {
    return TH_SUFFIX[n];
} 
```

# c# - 为什么我的中继器出现切换问题？

> ID：12351020
> 
> 赞同：1
> 
> 时间：2012-09-10T11:46:02.163
> 
> 标签：c#, jquery, asp.net, toggle

我有一个中继器，里面有一个 div 和按钮。但正如您所知，中继器 ID 已更改。喜欢
ctl00_ContentPlaceHolder1_rptToogle_ **ctl00** _btnToogle ctl00_ContentPlaceHolder1_rptToogle_ **ctl01** _btnToogle ctl00_ContentPlaceHolder1_rptToogle_ **ctl02** _btnToogle

该代码有效，但它适用于所有人。我的意思是，当我单击每个 div 时，它都会打开。我只是想打开我选择的，不是所有的。我该如何解决？

```
<script type="text/javascript">
    $(document).ready(function () {
        $('[id*="btnToogle"]').click(function () {
            $('[id*="divToogle"]').slideToggle(100);
            return false;
        });
    });
</script>

<asp:Repeater id="rptToogle" runat="server">
    <ItemTemplate>
        <asp:Button id="btnToogle" runat="server" Text=""></asp:Button>
        <div id="divToogle" runat="server" style="display:none;">
             asdasd, asdasd, asdasd
        </div>
    </ItemTemplate>
</asp:Repeater> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T11:49:56.063

试试这个......使用`$(this)`而不是在`$('[id*="divToogle"]')`里面`click`

```
<script type="text/javascript">
    $(document).ready(function () {
        $('[id*="btnToogle"]').click(function () {
            $(this).slideToggle(100);
            return false;
        });
    });
</script> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T11:59:34.983

您正在使用 id="divToggle" 创建多个 div。从技术上讲，您真的不应该这样做，因为具有相同 id 的不同 DOM 元素是无效的标记（尽管浏览器会允许这样做）。

您可以使用 $(this) 选择当前按钮，然后您可以利用 jquery 的 next() 选择器来获取按钮旁边的 div，如下所示：

```
<script type="text/javascript">
    $(document).ready(function () {
       $('[id*="btnToogle"]').click(function () {
            //select the very next sibling of this button, which we know is the div
            $(this).next().slideToggle(100);
            return false;
        });
    });
</script> 
```

但是请注意，如果您开始编辑标记，使用 next() 可能会很危险，因为它是一个相对选择器，而不是绝对选择器（它获取下一个元素，而不是通过 id 获取特定元素）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T11:50:21.253

您可以使用`next`方法：

```
$(document).ready(function () {
    $('[id*="btnToogle"]').click(function() {
        $(this).next().slideToggle(100);
        return false;
    });
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-10T11:49:54.063

使用 rptToogle_ItemBound 方法并按照以下示例修改您的代码

```
 protected void rptToogle_ItemBound(Object Sender, RepeaterItemEventArgs e)
    {
        try
        {
        if (e.Item.ItemType == ListItemType.Item || e.Item.ItemType == ListItemType.AlternatingItem)
        {
            DataRowView drv = (DataRowView)e.Item.DataItem;
            int year = Convert.ToInt32(drv["Year"]);
            Panel pnl = (Panel)e.Item.FindControl("pnlToggle");
        // Your code

        }
            }
        catch (Exception ex)
        {
            throw ;
        }
    }

    <asp:Repeater id="rptToogle" runat="server" OnItemDataBound="rptToggle_ItemBound">
        <ItemTemplate>
            <asp:Button id="btnToogle" runat="server" Text=""></asp:Button>
               <asp:Panel ID="pnlToggle" runat="server" Visible="false">

                 //Use Panel as this also need unique ID for your code to work properly
                </asp:Panel>

        </ItemTemplate>
    </asp:Repeater> 
```

修改脚本，这将生成唯一的按钮 id 并仅针对特定按钮事件启动脚本

```
<script type="text/javascript">
    $(document).ready(function () {
        $("#<%= btnToogle.ClientID %>").click(function () {
            $("#<%= pnlToogle.ClientID %>").slideToggle(100);
            return false;
        });
    });
</script> 
```

# ruby-on-rails - Rails prettyPhoto 不使用 jquery 显示照片（而是重定向到照片页面）

> ID：12351027
> 
> 赞同：1
> 
> 时间：2012-09-10T11:46:26.340
> 
> 标签：ruby-on-rails, carrierwave, prettyphoto

[我在https://github.com/hiq5/prettyphoto-rails](https://github.com/hiq5/prettyphoto-rails)中做了所有使用 prettyPhoto 的说明。

我这样做是为了显示一张照片（不是画廊）

```
=link_to image_tag(photo.photo_url(:thumb).to_s, :alt => photo.name ,:class => "img-polaroid"), photo.photo_url, :rel => 'prettyPhoto' 
```

但仍然重定向到照片 url 并显示照片，并且不使用 jQuery 在当前页面上显示它。

我用chrome开发工具检查它，没有任何错误。

我使用haml 生成视图（而不是erb），并使用carrierwave 上传照片。顺便说一句，我使用 twitter 引导程序。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T21:35:44.890

在文档中不要告诉我们应该在正文底部添加以下代码（html标签）

所以我们应该添加以下代码

在哈姆

```
%script{:charset => "utf-8", :type => "text/javascript"}
  $(document).ready(function(){
  $("a[rel^='prettyPhoto']").prettyPhoto();
  }); 
```

在 erb 或 html 中

```
<script type="text/javascript" charset="utf-8">
    $(document).ready(function(){
        $("a[rel^='prettyPhoto']").prettyPhoto();
    });
</script> 
```

# c# - 公共库的扩展属性

> ID：12351041
> 
> 赞同：0
> 
> 时间：2012-09-10T11:47:17.843
> 
> 标签：c#, asp.net, design-patterns, extension-methods

我们正在为不同的客户开发产品（ASP.NET 解决方案），该解决方案由 3 个 VS 项目、业务实体、业务服务和 Web 组成。每个客户可能需要一些定制，所以我们需要对这 3 个项目进行一些更改。

业务实体项目仅包含具有属性的类，业务服务仅包含具有方法的类，这些方法使用业务实体类。

我的问题是我不想为每个客户复制这两个项目（实体、服务），因为它们将具有几乎相同的代码。

我考虑将实体和服务作为公共库，并在每个新解决方案中引用它们，如果客户需要一些定制，我可以扩展这两个库。

扩展方法帮助我扩展“业务服务”类，但对于“业务实体”类，我找不到扩展其属性的良好解决方案，.NET 中没有扩展属性。

我想过做部分课程，但我不知道这是否是一个好习惯。

有没有人有更好的解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T11:53:00.053

如果您将属性设置为“虚拟”，则可以根据客户需求覆盖它们。这样，您就不必走上制作部分课程的道路。

这是有关使事物成为“虚拟”的信息的[链接](http://msdn.microsoft.com/en-us/library/9fkccyh4.aspx)

# c# - IEnumerable 的 Java 等价物

> ID：12351042
> 
> 赞同：0
> 
> 时间：2012-09-10T11:47:20.213
> 
> 标签：c#, java, translation

这是我必须转换的 C# 代码：

```
static readonly IEnumerable<char> BigAlphas = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".ToCharArray(); 
```

到目前为止，我已经尝试了以下方法：

```
static final Iterable<Character> BigAlphas = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".toCharArray(); 
```

这给了我错误：

> 不兼容的类型
> 
> 必需：java.lang.Iterable
> 
> 找到：字符[]

我知道我收到了这个错误，因为我试图将 an 设置`Iterable<Character>`为 a`char array`但我不确定还能做些什么来翻译它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T11:49:29.010

一个简单的字符串会起作用吗？

```
 static final String BigAlphas = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"; 
```

String 实现了 CharSequence，这似乎是您所需要的，并且它还有很多方法来检查成员资格等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T11:52:49.040

```
static final Iterable<Character> alphabet() {
  return new Iterable<Character>() {

    public final Iterator<Character> iterator() {
      return new Iterator<Character>() {

        private char cursor = 'A';

        public boolean hasNext() {
          return cursor <= 'Z';
        }

        public Character next() {
          return cursor++;
        }

        public void remove() {
          throw new UnsupportedOperationException("cannot remove from stream");
        }
      };
    }
  };
} 
```

用法：

```
for (final char ch : alphabet()) {
  /* ch in interval [A,Z] */
} 
```

* * *

这是一个更通用的形式。

```
static final Iterable<Character> iterable(final CharSequence seq) {
  return new Iterable<Character>() {

    public final Iterator<Character> iterator() {
      return new Iterator<Character>() {

        private int cursor;

        public boolean hasNext() {
          return cursor < seq.length();
        }

        public Character next() {
          return seq.charAt(cursor++);
        }

        public void remove() {
          throw new UnsupportedOperationException("cannot remove from stream");
        }
      };
    }
  };
}
/* ... */
for (final char ch : iterable("qwertyuiop")) {
  /* ... */
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T12:18:28.937

好吧，随心所欲……如果您不介意使用[Guava](http://code.google.com/p/guava-libraries/)：

```
Iterable<Character> BigAlphas = Chars.asList("ABCDEFGHIJKLMNOPQRSTUVWXYZ".toCharArray()); 
```

# c++ - 无法在 Visual C++ 2010 中链接 glew32

> ID：12351047
> 
> 赞同：1
> 
> 时间：2012-09-10T11:47:52.863
> 
> 标签：c++, opengl, glew, visual-c++-2010-express

我收到以下链接错误。1>main.obj：错误 LNK2001：未解析的外部符号 ___glewGenBuffers

我下载了 32 位版本的 glew，并在项目中包含了“includes”和“lib”目录。我还在附加依赖项菜单中添加了 glew32.lib。然后我把 glew32.dll 和 glew32mx.dll 放在 syswow64 文件夹和 system32 文件夹中（因为当我把它放在 syswow64 时我仍然得到错误）。这是一个相当简单的程序。就像使用 SDL 和 GLEW 向 opengl 打招呼一样。该程序仅在使用 SDL 设置时工作。链接glew后，开始出现问题。

我正在使用 Windows 7 Premium 64 位（现在很明显）Visual C++ 2010 速成版。我的 glew 版本是 glew-1.9.0-win32。

我可能哪里出错了？

这是代码

```
#define GLEW_STATIC
#include <SDL.h>
#include <GL/glew.h>

int main( int argc, char *argv[] )
{
    glewExperimental = GL_TRUE;

SDL_Init( SDL_INIT_VIDEO );

SDL_Surface* surface = SDL_SetVideoMode(800, 600, 32, SDL_HWSURFACE | SDL_DOUBLEBUF | SDL_OPENGL);
SDL_WM_SetCaption("Opengl Tutorial 1", 0);

glewInit();

GLuint vertexBuffer;
glGenBuffers( 1, &vertexBuffer );
printf( "%u\n", vertexBuffer );

SDL_Event windowEvent;
while ( true )
{
    if ( SDL_PollEvent( &windowEvent ) )
    {
        if ( windowEvent.type == SDL_QUIT ) break;
        if ( (windowEvent.type == SDL_KEYUP) && (windowEvent.key.keysym.sym == SDLK_ESCAPE) ) break;
    }

    SDL_GL_SwapBuffers();
}

SDL_Quit();
return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:40:41.047

我解决了这个问题。我刚刚在包含语句之后写了这一行“#define GLEW_STATIC”（当然没有“）并立即编译。无论如何，谢谢。:)

# c# - 为动态比较实现 IComparable

> ID：12351050
> 
> 赞同：1
> 
> 时间：2012-09-10T11:48:03.630
> 
> 标签：c#, .net, icomparable

我必须`Circle`从 a 中获取 a`List<Circle>`取决于当前`MousePosition`

这是Circle类

```
public class Circle
        {
            public Point Center;

            public Circle(int x, int y)
            {
                this.Center = new Point(x, y);

            }
            public int Distance(int x, int y)
            {
                int result = 0;
                double part1 = Math.Pow((this.Center.X - x), 2);
                double part2 = Math.Pow((this.Center.Y - y), 2);
                double underRadical = part1 + part2;
                result = (int)Math.Sqrt(underRadical);
                return result;
            }
            public void Draw(Graphics g, Pen pen, int d)
            {
                g.DrawEllipse(pen, this.Center.X - d / 2, this.Center.Y - d/ 2, d, d );
            }
    } 
```

这是我从列表中检索圆圈的方式

```
public class UserControl1 : UserControl
{
private Circle currentCircle;
private List<Circle> circles = new List<Circle>();
private const int RADIUS = 16;
// ...snip
private void Form1_MouseMove(object sender, MouseEventArgs e)
        {
            currentCircle= this.circles 
                .Where(c => c.Distance(e.X, e.Y) < RADIUS )
                .DefaultIfEmpty(null)
                .First();
        }
//...snip
} 
```

这适用于小列表，但随着列表的增长，它会变得越来越慢。我想我可以使用 List.BinarySearch 来获得更好的性能，但我不知道如何`IComparable`在这种情况下实现。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T12:57:11.857

一项观察 - 您可以取消`Math.Pow`and`Math.Sqrt`以节省时间。计算出的距离变为“距离平方”，但由于所有圆圈都经过相同的缩放，所以没关系。

但是，您需要一个解决方案，其中正在搜索的项目数量不会直接影响找到匹配项所花费的时间。

所以我想你可能想看看 KD 树，它为大量维度数据提供了快速的性能。我已经从 Marco A. Alvarez 编写的源代码中改编了一个完整的通用 KD 树，[链接到此页面 (KDTreeDLL.zip)](http://home.wlu.edu/%7Elevys/software/kd/)；但是[，有一个](http://blog.noldorin.com/2011/03/kd-trees-for-dotnet/)似乎更好，更通用。不幸的是，我无法提供我的代码 - 它归我的雇主所有；）

在 KD 树中获取数据后，您只需查找与当前 X、Y 最近的圆（这是对 KD 树的一次调用），然后检查指针是否在其中，如果这就是你要找的。

该结构实际​​上是一个二叉树，每个级别的左/右值在连续维度上的“分割平面”之上/之下，环绕直到没有子节点。由于数据的存储方式，邻近搜索很快，因为当找到近邻时，只有同一分割平面周围的其他邻居才能更近（它比这更微妙，实际上是更高级别的数学比我有能力的）。因此，该算法很少需要检查所有节点以找到最接近的匹配。尽管如此，在某些情况下可能需要搜索所有节点。这与您插入数据的顺序一样多。

因此; 非常多的圆圈可能需要“平衡插入”（在[KD Trees 的维基百科条目的“构造”子主题](http://en.wikipedia.org/wiki/K-d_tree#Construction)中有很好的描述）。无论如何，我链接到的代码似乎都做了某种形式的平衡插入，假设你有一个点列表来构建它 - 所以看起来你会没事的。

看起来它测量距离的默认行为是欧几里得距离，这正是您想要的。

作为性能的粗略概念（这始终是一个主观衡量标准），我适应的 KD 树，我目前将地图上点的 Haversine 距离计算插入其中，大约需要 250-350 毫秒才能找到 250,000 中最近的纬度/经度。欧几里得距离计算可能会快很多。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T11:52:22.317

二进制搜索仅适用于排序列表。因此，您的`Circle`对象需要具有可比性才能获得排序列表。不过，恐怕您无法将它们以合理的线性顺序排列，以更快地找到与鼠标光标位置的“碰撞”。

您可以`AsParallel`在 LINQ 查询中使用所有 CPU 内核进行比较。这仍然存在`O(n)`，因此不能很好地扩展，但它可能会加快速度（考虑到`Circle`对象的数量几乎没有增长）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T12:49:15.147

我会将比较移到圆圈中，以便您可以做一些捷径。并使用一些更快的数学。我假设圆圈不重叠。最坏的情况（最多）4 个框将包含该点，因此复杂方程最多被评估 4 次。

```
public bool Distance(double x, double y, double radius)
{
    double deltaX = this.Center.X - x;
    if (deltaX > radius) return false;   // test to see if this makes it faster
    double deltaY = this.Center.Y - y;
    if (deltaY > radius) return false;
    if ( (deltaX + deltaY) > radius) return false;   
    return ( (deltaX*deltaX + deltaY*deltaY) <= radius*radius) );
} 
```

如其他评论和答案中所述，与 FirstOrDefault 和 Parallel 结合使用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-10T18:58:48.017

为鼠标输入注册一个事件处理程序怎么样？对此进行了测试，并且在 112 X 116 时没有延迟。

```
 public MainWindow()
    {

        InitializeComponent();

        for (int j = 0; j < 112; j++)
        {
            for (int i = 0; i < 116; i++)
            {
                ellipse = new Ellipse();
                ellipse.Name = "EllipseX" + i.ToString() + "Y" + j.ToString();
                ellipse.StrokeThickness = 1;
                ellipse.Stroke = System.Windows.Media.Brushes.Blue;
                ellipse.Width = 5;
                ellipse.Height = 5;
                ellipse.MouseEnter += ellipse_MouseEnter;
                ellipse.MouseLeave += ellipse_MouseLeave;

                Canvas.SetTop(ellipse, 5 * j);
                Canvas.SetLeft(ellipse, 5 * i);
                Canvas1.Children.Add(ellipse);
            }
        }
    }

    private void ellipse_MouseEnter(object sender, MouseEventArgs e)
    {
        Ellipse ellipse = (Ellipse)sender;
        ellipse.Fill = System.Windows.Media.Brushes.Red;
        tbEname.Text = ellipse.Name;
    }

    private void ellipse_MouseLeave(object sender, MouseEventArgs e)
    {
        ((Ellipse)sender).Fill = System.Windows.Media.Brushes.Blue;
        tbEname.Text = string.Empty;
    } 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-09-10T11:52:14.857

尝试使用`HashSet<Circle>`而不是`List<Circle>`. 随着数据大小的增长，它似乎有更好的性能 - [HashSet 与 List 性能](https://stackoverflow.com/questions/150750/hashset-vs-list-performance)

# c# - 我的自定义绑定中类型的未知属性“转换器”...

> ID：12351053
> 
> 赞同：0
> 
> 时间：2012-09-10T11:48:09.027
> 
> 标签：c#, wpf, xaml

我无法使用转换器获得自定义绑定，在构建项目时得到这个：

> 解析标记扩展时遇到类型“MS.Internal.Markup.MarkupExtensionParser+UnknownMarkupExtension”的错误 2 未知属性“转换器”。

错误指向此代码：

```
<KeyBinding 
        Key="{helper:KeyboardShortcut InsertTargetToSource, Converter={StaticResource KeyGestureConverterKey},ConverterParameter=Key}" 
        Modifiers="{helper:KeyboardShortcut InsertTargetToSource, Converter={StaticResource KeyGestureConverterKey},ConverterParameter=Modifiers}" 
        Command="{Binding CopyToTargetCommand}"/> 
```

KeyboardShortCut 是来自设置文件的绑定：

```
public class KeyboardShortcutExtension : Binding
{
    public KeyboardShortcutExtension()
    {
        Initialize();
    }

    public KeyboardShortcutExtension(string path)
        : base(path)
    {
        Initialize();
    }

    private void Initialize()
    {
        this.Source = TI.Shortcuts.Default;
        this.Mode = BindingMode.TwoWay;
    }

} 
```

转换器将字符串（如“Ctrl+Shift+X”）转换为键和修饰符：

```
private KeyGestureConverter mConverter = new KeyGestureConverter();

    public object Convert(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
    {
        var text = value.ToString();
        var gesture = mConverter.ConvertFromInvariantString(text) as KeyGesture;
        if (parameter == "Key")
        {
            return gesture.Key;
        }
        if (parameter == "Modifiers")
        {
            return gesture.Modifiers;
        }
        return gesture;
    } 
```

有什么我想念的吗？或者在尝试从设置文件中的字符串绑定到 KeyBinding 时，我应该采取不同的方法吗？

编辑：

使用以下代码，一切正常，但代码不可读。有没有办法自动生成它，所以在我的标记中我会写例如

```
<MyKeyBinding Value="CopyToTargetCommand"/> 
```

它会产生其余的？

```
<KeyBinding Command="{Binding CopyToTargetCommand}">
        <KeyBinding.Key>
            <helper:KeyboardShortcut Path="InsertTargetToSource" ConverterParameter="Key">
                <helper:KeyboardShortcut.Converter>
                    <StaticResource ResourceKey="KeyGestureConverterKey"/>
                </helper:KeyboardShortcut.Converter>
            </helper:KeyboardShortcut>
        </KeyBinding.Key>
        <KeyBinding.Modifiers>
            <helper:KeyboardShortcut Path="InsertTargetToSource" ConverterParameter="Modifiers">
                <helper:KeyboardShortcut.Converter>
                    <StaticResource ResourceKey="KeyGestureConverterKey"/>
                </helper:KeyboardShortcut.Converter>
            </helper:KeyboardShortcut>
        </KeyBinding.Modifiers>
    </KeyBinding> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T07:53:59.153

```
class CustomizableKeyBinding : KeyBinding
{
    public CustomizableKeyBinding()
        : base()
    {
    }

    StringToKeyGestureConverter converter = new StringToKeyGestureConverter();

    public string Description
    {
        set
        {
            InitBindings(value);
        }
    }

    private void InitBindings(string value)
    {
        BindingOperations.SetBinding(this, KeyBinding.KeyProperty, new KeyboardShortcutExtension(value) { Converter = converter, ConverterParameter = "Key" });
        BindingOperations.SetBinding(this, KeyBinding.ModifiersProperty, new KeyboardShortcutExtension(value) { Converter = converter, ConverterParameter = "Modifiers" });
    }
} 
```

然后在 XAML 中添加：

```
 <helper:CustomizableKeyBinding Command="{Binding CopyToTargetCommand}" Description="..."/> 
```

# php - 我创建了一个 textarea 框，我想验证其中的多封电子邮件

> ID：12351054
> 
> 赞同：-5
> 
> 时间：2012-09-10T11:48:10.307
> 
> 标签：php

我创建了一个 textarea 框，我想验证其中的多封电子邮件。我尝试通过分隔符“逗号”验证它们，但当我们只输入一个电子邮件 ID 时失败。需要更好的 PHP 解决方案

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T11:50:28.837

尝试使用 explode 来构造你的数组，以这种方式：

```
$addresses = explode(',', $addresses);
foreach ($addresses as $address){
    $address = trim($address); // trim removes excess surrounding whitespace
    validate_email($address); // your function here
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T11:54:49.740

避免 PHP4 的恶作剧并合理使用您的工具 - 使用多个输入，并将它们包装在一个数组中：

```
<input name="mails[]" type="email required="false"/>
<input name="mails[]" type="email required="false"/>
<input name="mails[]" type="email required="false"/>
<input name="mails[]" type="email required="false"/> 
```

在您的 PHP 脚本中，您可以在其中访问它们`$_REQUEST['mails]`- 这将是一个您可以循环的数组。

如果要添加新的电子邮件字段，只需一行 jQuery 以防万一。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T11:50:56.887

暗中刺伤...`explode()`在基于逗号的字符串上使用，然后循环它...

# c# - DllImport 和 char 编组

> ID：12351058
> 
> 赞同：3
> 
> 时间：2012-09-10T11:48:35.657
> 
> 标签：c#, c, marshalling, dllimport

我是 C# 和编组的新手。我需要在 C# 中使用我的 C func，但我的 C func 返回值不正确（或者我不知道如何将其转换为正确答案）。

C源：

```
#include "main.h"

char *Ololo(char *arg, int &n3)
{
    char *szRet;
    szRet=(char*)malloc(strlen(arg)+1);
    strcpy(szRet,arg);
    n3 = strlen(szRet);
    return szRet;
} 
```

C头文件：

```
extern "C" __declspec(dllexport) char *Ololo(char *arg, int &n3); 
```

C#源代码：

```
class Program
{
    [DllImport(@"F:\Projects\service\dll\testDLL2.DLL", CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]
    public static extern IntPtr Ololo([In] char[] arg, ref Int32 n3);

    static void Main(string[] args)
    {
        string n1 = "ololo";
        char[] chars = new char[n1.Length];
        chars = n1.ToCharArray();
        Int32 n3 = 0;
        IntPtr result;
        result = Ololo(chars, ref n3);
        string n4 = Marshal.PtrToStringUni(result,n3);
        Console.WriteLine(n4);
    }
} 
```

我有返回类似“o???”的东西

对不起英语不好

- - - - - - - - - - - 解决了 - - - - - - - - - - - -

```
class Program
    {
        [DllImport(@"F:\Projects\service\dll\testDLL2.DLL", CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]
        public static extern IntPtr Ololo([MarshalAs(UnmanagedType.LPStr)]string arg, ref Int32 n3);

        static void Main(string[] args)
        {
            string n1 = "ololo";
            Int32 n3 = 0;
            int n2 = n1.Length;
            IntPtr result;
            result = Ololo(n1, ref n3);
            string n4 = Marshal.PtrToStringAnsi(result, n3);
            Console.WriteLine(n4);
        }
    } 
```

这很好用。在 n3 我有 5 和在 n4 ololo！感谢您的快速回答！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T11:52:17.123

`public static extern IntPtr Ololo([In] char[] arg, ref Int32 n3);`

`IntPtr`是错误的返回类型，因为本质上您想要返回字符串，而不是指向字符串的指针。在 C 中，您可以通过 using 使用指向字符串的指针`char*`，在 .NET 中的等价物是使用 use this: `[MarshalAs(UnmanagedType.LPStr)]string`。这应该`char*` 正确编组`string`。

`IntPtr`表示一个指针类型，获取你的实际字符串是没有用的。

看起来您应该将 a`StringBuilder`纳入编组函数，而不是`char[]`. 那么至少你应该得到正确的字符串到你的 C 函数。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-10T12:03:05.473

编组器不会 NULL 终止`char`有趣的数组。它会这样做，因为你告诉它——*如果*你告诉它。你很幸运，因为`char`.NET 中的 a 是 UTF-16，这是 16 位宽 - 第二个字节将为零，因为它是`'o'`UTF-16，因此 strlen 为 1。传递托管的实际努力string 作为一个以 null 结尾的 C 字符串，比你想象的要高一点。所以让编组器完成所有工作——它已经知道如何完成这项工作。

```
public static extern [MarshalAs(UnmanagedType.LPStr)]string Ololo(
    [MarshalAs(UnmanagedType.LPStr)]string arg,
    ref int n3
);
static void Main(string[] args)
{
    string n1 = "ololo";
    Int32 n3 = 0;
    string n4 = Ololo(chars, ref n3);
    Console.WriteLine(n4);
} 
```

# c++ - g++中的线程？

> ID：12351062
> 
> 赞同：1
> 
> 时间：2012-09-10T11:49:06.870
> 
> 标签：c++, multithreading, gcc, mingw

> **可能重复：**
> [在命名空间 std 中找不到 GCC std::thread](https://stackoverflow.com/questions/3414834/gcc-stdthread-not-found-in-namespace-std)

我希望这段代码能够在 gcc 下编译，但它没有。我正在使用 mingw 4.7.0。我看到了标题，但这些类似乎不存在。我需要什么标志？我用它跑了

```
g++ -std=gnu++11 main.cpp 
```

编码

```
#include<atomic>
#include<thread>
#include<iostream>
using namespace std;
atomic<int> a1,a2,a3;

void test(){
    cout<<"run";
}

int main(){
    thread t(test);
    t.join();
} 
```

我得到的错误是线程不存在。在我的其他代码中，它还说 std::this_thread::yield() 不存在。MSVC11 编译得很好

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-10T11:53:06.143

相对于 C++11，GCC 的 MingW 实现并不完整。您可以 1）等待，2）自己修复（开源！），或 3）使用不同的编译器。GCC 只是使用 pthreads 来实现标准库线程功能，而这些在 Windows 上不可用。

在 Linux 上，您必须进行编译`g++ -std=c++11 -pthread`才能使程序正常工作。

* * *

这不是 GCC 的 MingW 端口唯一缺乏的方面。另一个是`std::random_device`，它试图`/dev/urandom`在 Windows 上打开并且可以预见地失败。基本上，有人需要用适当的 Windows API 原语重写实现的核心，但我认为还没有人这样做。

# c# - 未提供 try catch 块时 C# 中的异常处理

> ID：12351063
> 
> 赞同：-6
> 
> 时间：2012-09-10T11:49:06.670
> 
> 标签：c#

我有一段代码抛出异常，而我的代码不在 try-catch 块中。有什么方法可以在不将其包装在 try-catch 块中的情况下获取异常详细信息？

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:05:07.390

访问 CodeProject 文章[在 .NET 中管理未处理的异常](http://www.codeproject.com/Articles/2949/Managing-Unhandled-Exceptions-in-NET)

希望它应该有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T11:51:17.150

在这种情况下，您的异常将不会被处理，只会被抛出。避免它们的最佳方法是检查所有可能的异常源，并避免它们，例如在出现 null 可能性的情况下检查方法是否首先返回 null。

所以要么你处理一个异常，要么你不处理它，没有中间。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T11:55:12.710

Try/Catch 语句可供您使用，您应该在处理异常时使用它。这取决于您正在执行的任务，您可能会捕获哪些异常。

你可以做这样的事情作为一个例子： -

```
Try
{
   // Perform Task
}
Catch(Exception x)
{
  MessageBox.Show(x.message);
}
Catch(ArgumentException x)
{
  MessageBox.Show(x.message);
} 
```

您没有理由不能执行此检查。

希望这可以帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-10T12:03:33.880

如果一个方法需要返回字符串变量，但我们不使用 try catch 块，你可以这样：

删除一个字符串变量（现在我们将其命名为 sRetString）用于返回。

```
if(condition1)

   sRetString="abc";

else 

   sRetString="edf";

if(string.IsNullOrEmpty(sRetString))

   return string.empty;

else

   return sRetString; 
```

**但我认为你最好使用 try catch 块来捕捉一些意想不到的期望。**

# c# - 是否可以使用 c# 代码在网页中自动单击下载按钮

> ID：12351067
> 
> 赞同：0
> 
> 时间：2012-09-10T11:49:22.067
> 
> 标签：c#, c#-4.0, html-parsing, web-scraping

我有一个要求，我必须从网页自动下载文件。有一个下载按钮并将其重定向到 url。我可以使用代码动态单击该按钮吗？该网址有一个名为 sid 的字段，我可以使用 firebug 查看 sid 值，但相同的 sid 在页面源中不可见。如何自动下载文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:19:30.373

如果 sid 字段在 firebug 中可见，但在源代码中不存在，则很可能稍后通过 javascript 添加 sid。在这种情况下，简单地拉取 Web 源代码不会有太大帮助。您需要一个能够运行可能需要的 javascript 代码的无头浏览器。

我假设你正在使用 C# 编写你的爬虫，不幸的是，没有那么多用于 .NET 的无头浏览器，我认为如果你使用 node.js 之类的东西，你的工作可能会更容易（我猜，我从来没有实际上在节点中做了任何报废），但这[是](https://stackoverflow.com/questions/10161413/headless-browser-for-c-sharp-net)一个关于.NET的一些无头浏览器的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T11:58:08.520

当 Firebug 打开时，去下载一个合法的文件。然后，在 Firebug 中，检查单击下载按钮后重定向到的位置。还要检查标题/cookie。然后，模拟您的浏览器在您的程序中所做的任何事情。如果您了解 HTTP 的一般工作原理，则可以做到（并且相对容易）。如果您不了解 HTTP 的工作原理（不会花很长时间）。根据经验，在代码中模仿您正在做的事情（使用浏览器）。如果没有验证码，它不会花很长时间。

# javascript - 如何将嵌套 if 用于多选选项？

> ID：12351069
> 
> 赞同：1
> 
> 时间：2012-09-10T11:49:27.263
> 
> 标签：javascript, jquery, html

大家好，当用户选择一个选项时，我正在尝试做的每一件事，都会出现另一个选项。是的，我做到了，但是当用户选择其他选项时，我想显示文本但它不起作用这是我的代码：

```
<html>
  <head>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script></script>
    <script type="text/javascript">
      $(document).ready(function() {

        $(".select-box").change(function() {
          if ($(".select-box option[value='3']").attr('selected')) {
           document.getElementById("demo").innerHTML="<select class='select-box'><option value='4'>a</option><option value='5'>b</option></select>";
          if ($(".select-box option[value='5']").attr('selected')) {
          document.write("Hello")
          }
          }

        }); 

      });
    </script>
  </head>
  <body>
    <select class="select-box">
      <option>Select an option</option>
      <option value="1">no alert</option>
      <option value="2">no alert too</option>
      <option value="3">alert</option>
    </select> 
    <p></br>
    <div id="demo"></div>

  </body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T11:58:18.010

您需要使用 jQuery 的`on()`函数，因为您想将事件处理程序添加到第二个选择中，该选择是动态添加到 DOM 中的。

```
$(document).ready(function() {

    $('#main').on('change', '.select-box', function() {

        if ($(this).val() == 3) {
            $('#demo').html("<select class='select-box'><option value='4'>a</option><option value='5'>b</option></select>");
        }

        if ($(this).val() == 5) {
            alert("Hello");
        }
    });

});​ 
```

见[演示](http://jsfiddle.net/gju5q/1)。

我已经用 div 包装了您的元素，并将更改处理程序附加到它。

另请注意，我已将您的 javascript 替换`getElementById`为 jQuery 选择器，并且简化了您的值检查。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T11:58:50.307

它不起作用，因为在脚本运行时，DOM 匹配选择器中只有一个元素`.select-box`。所以在创建第二个之后，你必须再绑定一次事件监听器。

# twitter-bootstrap - 如果我将导航类放在容器内，则只能查看导航栏，否则不能

> ID：12351072
> 
> 赞同：0
> 
> 时间：2012-09-10T11:49:32.350
> 
> 标签：twitter-bootstrap, navbar

当导航类位于容器内时，我只能查看导航栏。

```
<div class="navbar">
    <div class="navbar-inner">
        <div class="container">
            <ul class="nav">
                <li><a href="#">Recruitment</a></li>
                <li><a href="#">Exits</a></li>
                <li><a href="#">Link</a></li>
            </ul>
        </div>
    </div>
</div> 
```

如下所示： ![第一个案例](../Images/c7737af30202bc8551985ece64b6b8fb.png)

如果我在引导站点上使用示例，如下所示，我无法查看导航栏。显示一切都乱了套。我不知道为什么。

```
<div class="navbar">
    <div class="navbar-inner">
        <ul class="nav">
                <li><a href="#">Recruitment</a></li>
                <li><a href="#">Exits</a></li>
                <li><a href="#">Link</a></li>
            </ul>
    </div>
</div> 
```

![在此处输入图像描述](../Images/478b9489338e7bb0e023afbfb5238531.png)

请忽略“3g”图像。它来自另一个div。

在这两种情况下，此导航栏都嵌套在容器内。无论如何，我都没有修改引导 css。可以肯定的是，我下载了一个新副本并覆盖了引导文件。

是什么赋予了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:03:31.790

您的代码（“错误”代码）与 Bootstrap 2.1.1 一起正常工作。[看这里](http://jsfiddle.net/simbirsk/ykbPP/)

检查您的 Bootstrap 版本。如果您将最新的示例代码与旧版本的框架一起使用，则可能会出现此类问题。

# java - 具有 set 方法的实例字段的访问修饰符的必要性

> ID：12351075
> 
> 赞同：0
> 
> 时间：2012-09-10T11:49:41.020
> 
> 标签：java, oop, field

我正在学习java。现在，将类中的字段设为私有并根据访问或修改变量的要求提供 get 和 set 方法始终是 oop 中的一种做法。现在我的问题是，如果您有一个声明为私有的字段的 set 方法，即使该字段不可见，用户仍然可以更改该字段的值。那么，为什么不公开该字段而不是提供一个 set 方法呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T11:57:54.243

尝试阅读有关封装的内容，您会更好地理解原因。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:03:46.877

你是对的 - setter 和 getter 可以改变适当属性的值。那么，我们为什么需要它们？

我将尝试在这里列举一些原因。

*   更容易维护代码。您可以轻松找到谁更改了属性。只需查找所有 settter 调用。否则，您可以搜索所有与财产相关的地方，并找到 99% 的地方是您阅读财产的地方，以及 1% 的地方是您写财产的地方。
*   更容易调试。您可以根据要查找的内容在 getter 或 setter 中放置断点。
*   setter 和 getter 是方法的事实用于现代复杂框架中的字节码工程和代理创建。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T12:04:17.547

> 将类中的字段设为私有并根据访问或修改变量的要求提供 get 和 set 方法始终是 oop 中的一种做法。

变量最好保持私有（尽管您可以保持公开）。并非所有变量都需要 get 和 set（访问器和修改器）函数。这取决于用例。例如，如果我持有类内部的某种计数，我不会为其提供 set(..) 方法。如果您的 get(..) 和 set(..) 方法只是返回和分配，我建议您遵循公司的编码指南。如果你可以选择 getter 和 setter。

> 现在我的问题是，如果您有一个声明为私有的字段的 set 方法，即使该字段不可见，用户仍然可以更改该字段的值。那么，为什么不公开该字段而不是提供一个 set 方法呢？

这里有一个非常简单/琐碎的例子：

```
void setVar(string x){
    myPrivateVar = x;

    //log the change..
    writeToLog("myPrivateVar was updated to: " + x + " at <blah blah>");

    //inform others of the change.
    updateDependantConfiguration();
} 
```

HTH ..

# wordpress - Wordpress：Google 报告的 404 错误显着增加

> ID：12351076
> 
> 赞同：1
> 
> 时间：2012-09-10T11:49:47.420
> 
> 标签：wordpress, caching, seo, http-status-code-404

我收到了来自 Google 的以下电子邮件：

> Google 检测到返回 404（未找到页面）错误的 URL 数量显着增加。调查这些错误并在适当的情况下进行修复可确保 Google 能够成功抓取您网站的网页。

但奇怪的是，丢失的页面都是这样的：

[链接被删除，因为它现在指向恶意软件]

“常规”页面都可以。

我使用**Day 和 name**作为我的永久链接结构和**W3 Total Cache Plugin**。站点地图由**Yoast Wordpress SEO**生成。我还安装了一些其他插件。

我认为正在发生的事情是谷歌正在以某种方式索引我的缓存，当缓存被清理时，会出现 404 错误。我不知道 Google 是否通过抓取或使用站点地图找到了这些缓存页面。

我的博客是[http://mafagrafos.net](http://mafagrafos.net)，以防有人需要看一些东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T14:16:47.123

此问题已在 Google 网站管理员论坛中提出，Google 已确认并正在制定解决方案。

[https://productforums.google.com/forum/#!topic/webmasters/zvez-eib0Ao/discussion](https://productforums.google.com/forum/#!topic/webmasters/zvez-eib0Ao/discussion)

那将是添加您的输入的最佳位置，因为它可以帮助 Google 解决它。

# jquery - 使用视图文件夹之外的 ajax 调用下载 Grails 文件

> ID：12351080
> 
> 赞同：1
> 
> 时间：2012-09-10T11:49:57.293
> 
> 标签：jquery, ajax, grails, download, jquery-forms-plugin

我正在构建一个 grails 应用程序，该应用程序需要导入一个完整的 html 网络结构（包括导航和它自己的 js/css），以便能够使用 ajax 调用从现有控制器中添加一些功能。

到目前为止，一切都按预期工作，导入的 html 在 /webapp/ImportedHtml 中可见，并且每个 ajax url/js/css 都需要额外注意，具体取决于它所指向的内容（grails 应用程序 url 或导入的 html ulrs）。

然而，我的第一个问题是以可下载文件调用的形式出现的。这是我的代码：

```
 <form id="uploadForm"  action="asyncGetFiles"  method="post"> 
   <input id="testbutton" type="submit" value="Submit" />
 </form> 
```

一个非常简单的表单，带有提交，触发[Jquery Form Plugin提供的 javascript 调用](http://www.malsup.com/jquery/form/)

```
 $('#testbutton').click(function(){
        // Takes in a list of files to be downloaded from .downloads
        var downloads_container =new Array();
        $('.downloads').each(function(){
            downloads_container.push($(this).val());
        });
        var __onSuccess = function(data) {
            // Opens the request in a new window to prevent the current from being modified or redirected
            var OpenWindow=window.open('', '_blank');
            OpenWindow.document.write(data);
            OpenWindow.document.close();
            self.name="main";

        };
        var options = {

            success: __onSuccess,
            data : {
                result:''+downloads_container
            }
        //,                url : '../../dataCart/asyncGetFiles'

        };
        $('#uploadForm').ajaxForm(options);
    } 
```

我的控制器下载代码非常简单，如下所示：

```
 response.setContentType("application/zip")
 response.setHeader("Content-Disposition", "attachment; filename=\"" + "pictureName" + "\"");
 response.outputStream << "whatever I dont care";
 return; 
```

总之，我当前的代码是这样组织的

*   /rootApp /webapp /htmlRoot /downloads /downloads.html
    *   到服务器看起来像
    *   /rootApp /htmlRoot /downloads /downloads.html
    *   ajax url 看起来像这样
        *   ../ ../ 控制器/ asyncGetFiles
    *   从这里发起的对 ajax 的任何调用都将导致没有下载触发但调用成功并呈现为纯字符串

但是，如果我将相同的代码设置为控制器的视图文件夹

*   /rootApp/controller/downloads.gsp

    *   指向 asyncGetFiles 的 ajax 调用
    *   调用将成功触发下载

## 问题是：为什么在第一种情况下没有触发下载？

我不知道在哪里可以找到有关如何解决此问题的信息：/

# regex - 使用 htaccess 和 regex 更改 URL 中的特定字符串

> ID：12351085
> 
> 赞同：0
> 
> 时间：2012-09-10T11:50:05.487
> 
> 标签：regex, .htaccess, codeigniter, url-rewriting

您能否帮我编写 .htaccess 重写规则，将 URL 中的一个字符串重写为另一个（在本例中为用户 -> 配置文件）：

例如： http: [//my.site.com/index.php/user/194/](http://my.site.com/index.php/user/194/)

应该是这样工作的

例如： http: [//my.site.com/index.php/profile/194/](http://my.site.com/index.php/profile/194/)

它还应该将所有“用户”词更改为“配置文件”，而不仅仅是第一个。

我已尝试使用以下代码，但由于某种原因它无法正常工作：

```
RewriteCond %{QUERY_STRING} ^user=([^&]*) [NC]
RewriteRule ^ %{REQUEST_URI}?profile=%1 [R=301,L] 
```

请协助。谢谢大家。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T06:21:26.827

您应该为此使用 CodeIgniter 的内置路由：

[http://codeigniter.com/user_guide/general/routing.html](http://codeigniter.com/user_guide/general/routing.html)

# symbian - 我想开始 symbian 应用程序开发。创建 symbian 应用程序的基本要求是什么？

> ID：12351091
> 
> 赞同：1
> 
> 时间：2012-09-10T11:50:27.247
> 
> 标签：symbian, nokia

我想开始 symbian 应用程序开发。创建 symbian 应用程序的基本要求是什么？

我已经下载了 Eclipse JUNO 221 mb 还需要什么插件？

# c# - 在枚举中指定并获取整数值

> ID：12351093
> 
> 赞同：0
> 
> 时间：2012-09-10T11:50:34.187
> 
> 标签：c#, asp.net, enums

如何让我的枚举包含字符串描述的数字？我已将 [Description] 用于文本字符串。我想要类似的东西

```
 Apple pie=1
  Strawberry pie=2 
```

我的数据库将带有数字字段，我将从枚举中获取文本描述。这不起作用

```
public enum Pies
    {
        [Description("Apple pie")]
        "1"=1,
        [Description("Strawberry pie")]
        "0"=0
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T11:52:52.190

首先，声明一个有效的枚举：

```
public enum Pies
{
    [Description("Apple pie")]
    Apple =1,
    [Description("Strawberry pie")]
    Strawberry=0
} 
```

您可以使用[反射来访问`DescriptionAttribute`](https://stackoverflow.com/questions/695730/how-to-access-the-description-attribute-on-either-a-property-or-a-const-in-c#).

# java - Weblogic jdom NoClassDefFoundException

> ID：12351097
> 
> 赞同：0
> 
> 时间：2012-09-10T11:50:56.140
> 
> 标签：java, weblogic, noclassdeffounderror, jdom

我正在将我的 Web 应用程序部署到本地主机上的 Weblogic 10.3.6，并且一切正常。但是当我将它部署到在远程服务器上运行的相同版本的 weblogic 时，它会抛出这个：

`JDOMException: java.lang.NoClassDefFoundError: org/jdom/Parent: org/jdom/Parent`

该应用程序打包在一个war文件中，我将相同的文件上传到两台服务器，但它仅适用于我的本地weblogic。Jdom.jar 位于 WEB-ING/lib 中。我在安装远程weblogic的目录下搜索了jdom.jar，没有其他的实例。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T11:57:33.963

`NoClassDefFoundError`意味着`org.jdom.Parent`找不到所需的类，而不是`org.jdom.Parent`自身。您的 WEB-INF/lib 文件夹中缺少某些依赖项。

如果您使用 maven 构建它，请确保您还包含所有必需的可选库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:09:14.760

可能是类加载冲突问题，请尝试配置WEB-INF\weblogic.xml

```
<container-descriptor>
                <prefer-web-inf-classes>true</prefer-web-inf-classes>
</container-descriptor> 
```

[首选网络信息类](http://docs.oracle.com/cd/E15051_01/wls/docs103/webapp/weblogic_xml.html)

如果设置为 true，该元素将导致位于 Web 应用程序的 WEB-INF 目录中的类优先于在应用程序或系统类加载器中加载的类被加载。默认值为假。在控制台中指定的值将优先于手动设置的值

# filesize - ICO最大规模

> ID：12351101
> 
> 赞同：7
> 
> 时间：2012-09-10T11:51:00.367
> 
> 标签：filesize, .ico

如果分辨率大于 256x256，有没有办法将图像转换为 ICO 格式？

我找到了几个程序，但没有一个能够转换更大的图像。我需要的尺寸是 1024x1024。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-09-10T11:56:45.680

由于在 ICO 图像格式中宽度和高度都存储为单个字节，因此它不能表示大于 256×256 的图像。

您需要先调整图像大小。

[http://en.wikipedia.org/wiki/ICO_(file_format)#Outline](http://en.wikipedia.org/wiki/ICO_(file_format)#Outline)

# jsp - 从 servlet 使用 sendRedirect 时，jsp 页面中的请求属性不可用

> ID：12351107
> 
> 赞同：7
> 
> 时间：2012-09-10T11:51:20.273
> 
> 标签：jsp, servlets, response.redirect, requestdispatcher

我是 jsp 和 servlet 的新手。我的场景如下

我有一个 jsp 页面，其中有一个表单。有两个字段。jsp页面的代码片段如下。

MyFirstJSP.jsp 文件

```
<body>
<h1> This is my first jsp and servlet project</h1>
<%
//System.out.println(request.getAttribute("fname"));

if(request.getAttribute("fname")!=null){
    System.out.println(request.getAttribute("fname"));
}else{
    System.out.println("No request ");
}
%>
<form action="MyFirstServlet" method="get">
First Name<input type="text" name="fname" value= ${fname}><br>
Last Name<input type="text" name="lname" value= ${lname}>
<input type="submit" value="Send">
</form>
</body> 
```

当我提交此表单时，将调用 MyFirstServlet 来检查用户输入的名字。如果名字等于“abc”，则 servlet 将属性设置为请求对象并将其重定向到调用 jsp 页面，即上面的页面。它将从请求对象中获取值并将其填写到表单的相应字段中。我也有 Java Expression 语言以获得相同的效果。

这是我的 MyFirstServlet.java servlet 文件的代码片段

```
/**
 * Servlet implementation class MyFirstServlet
 */
public class MyFirstServlet extends HttpServlet {
    private static final long serialVersionUID = 1L;

/**
 * @see HttpServlet#HttpServlet()
 */
public MyFirstServlet() {
    super();
    // TODO Auto-generated constructor stub
}

/**
 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)
 */
protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {       // TODO Auto-generated method stub
    String firstname=request.getParameter("fname");
    if(firstname.equalsIgnoreCase("abc")){
        System.out.println("Setting attributes");
        request.setAttribute("fname",firstname);
        request.setAttribute("lname",request.getParameter("lname"));
        response.sendRedirect("MyFirstJSP.jsp");
    }else{
        System.out.Println("No problem");
    }
}
/**
 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)
 */
protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    // TODO Auto-generated method stub
    PrintWriter p=response.getWriter();
    p.println("Success!");
    doGet(request,response);
}
} 
```

但是当我执行代码时，servlet 会重定向到 jsp 页面，但不会用相应的值填充表单字段。为了找到原因，我添加了 if-else-block 来了解原因，并且我知道请求对象属性在此处不可用。

如果我在这种情况下使用请求调度程序，那么值将可用，并且表单会填充值，但地址栏中的 url 不会更改，并且始终将 url 显示给 servlet。

所以我的查询是

**1) 为什么请求对象对使用 sendRedirect 的 jsp 页面不可用。

2）如果servlet发送重定向到调用jsp，是否有任何其他方式在jsp页面中显示我的表单，预先填充用户输入的值，以便用户无需重新输入数据到表单中。**

请有这个问题的朋友指导一下 谢谢！

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-09-10T12:23:02.500

您需要**转发**到服务器端的 jsp 页面，因为**重定向**是客户端操作（查看 location 标头[1](http://en.wikipedia.org/wiki/HTTP_location)），请求属性会丢失。

代替

```
response.sendRedirect("MyFirstJSP.jsp"); 
```

和

```
request.getRequestDispatcher("MyFirstJSP.jsp").forward(request, response); 
```

编辑：对不起，我跳过了这部分

> 如果我在这种情况下使用请求调度程序，那么值将可用，并且表单会填充值，但地址栏中的 url 不会更改，并且始终将 url 显示给 servlet。

但是，在重定向时，您不能将请求属性传递给您的 jsp（正如我在上面已经提到的，它是客户端操作）

我建议执行以下操作：

*   实现 doGet 仅渲染包含表单的页面
*   实现 doPost 处理提交的表单数据
*   在 HTML-Form 中使用 POST 而不是 GET 来提交表单

在 doGet 和 doPost 中，都使用**forward**来呈现 *.jsp 页面。

GET /MyFirstServlet -> 转发到 MyFirstJSP.jsp

POST /MyFirstServlet -> 转发到 MyFirstJSP.jsp

这是最常用和最干净的方法。

编辑 2：简单示例

SimpleFormServlet.java

```
public class SimpleFormServlet extends HttpServlet {
private static final long serialVersionUID = 1L;

private static final String VIEW_NAME = "/WEB-INF/jsp/simpleForm.jsp";
private static final String MODEL_NAME = "form";

public SimpleFormServlet() {
    super();
}

protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    request.setAttribute(MODEL_NAME, new SimpleForm());
    request.getRequestDispatcher(VIEW_NAME).forward(request, response);
}

protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

    final SimpleForm form = map(request);

    if(form.getfName().equalsIgnoreCase("abc")){
        request.setAttribute(MODEL_NAME, form);
        // put additional attributes on the request
        // e.g. validation errors,...
        request.getRequestDispatcher(VIEW_NAME).forward(request, response);
    }else{
        System.out.println("No problem");
        response.sendRedirect("/SuccessServlet");
    }
}

private SimpleForm map(final HttpServletRequest request) {
    SimpleForm form = new SimpleForm();
    form.setfName(request.getParameter("fName"));
    form.setlName(request.getParameter("lName"));
    return form;
}

public static class SimpleForm implements Serializable {
    private static final long serialVersionUID = -2756917543012439177L;

    private String fName;
    private String lName;

    public String getfName() {
        return fName;
    }
    public void setfName(String fName) {
        this.fName = fName;
    }
    public String getlName() {
        return lName;
    }
    public void setlName(String lName) {
        this.lName = lName;
    }

}

} 
```

/WEB-INF/jsp/simpleForm.jsp

```
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
</head>
<body>

<form method="POST">
    First Name<input type="text" name="fName" value="${form.fName}"><br>
    Last Name<input type="text" name="lName" value="${form.lName}">
    <input type="submit" value="Send">
</form>

</body>
</html> 
```

1.  获取 /SimpleFormServlet
2.  doGet() 准备表单模型 (SimpleForm) 并将其添加为名为“form”的请求属性
3.  转发给 simpleForm.jsp
4.  访问模型值并预填表单：${form.fName} 和 ${form.lName}
5.  浏览器仍然显示 /SimpleFormServlet （我们喜欢它;-)）
6.  **POST**相对于 /SimpleFormSerlvet 的表单（您不必显式设置表单元素的 action 属性）
7.  doPost() 将请求参数映射到 SimpleForm。
8.  处理请求并做任何你想做的事情（验证）
9.  然后您可以转发到 simpleForm.jsp（例如验证失败时）或**重定向**到另一个 servlet（例如 /SuccessServlet）

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2015-04-27T08:45:13.993

我知道现在回答为时已晚，但这对某人有帮助。**重定向**是客户端操作，因此我们无法**获取**属性值，但我们可以使用 **URL 重写**概念来解决它。

```
protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {       // TODO Auto-generated method stub
String firstname=request.getParameter("fname");
if(firstname.equalsIgnoreCase("abc")){
    //System.out.println("Setting attributes");

    response.sendRedirect("MyFirstJSP.jsp?fname="+firstname+"&lname="+request.getParameter("lname")+"");
}
else{
    System.out.Println("No problem");
  }
} 
```

然后使用**request.getParameter()**将值提取为 MyFirstJSP.jsp 中的字符串。

# design-patterns - 如何使用设计模式解决有规则的分组集合？

> ID：12351108
> 
> 赞同：0
> 
> 时间：2012-09-10T11:51:20.477
> 
> 标签：design-patterns

假设我有一组数字，例如。A = [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]。

还有几个规则，例如： a：数字是 3 的倍数；b：数字是5的倍数；

使用规则，很容易将原始集合分成三部分：

```
A_3 = [3, 6, 9, 12]
A_5 = [5, 10]
A_other = [2, 4, 7, 8, 11] 
```

我想知道设计集合和规则类以实现目标的最佳方法：

1.  添加或减少规则很容易
2.  可以轻松更改集合中元素的类型

谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-10T12:13:49.100

根据我的说法，您应该使用通常在您的算法可与算法的不同变体互换时使用的[策略模式。](http://en.wikipedia.org/wiki/Strategy_pattern)

例如，

如果您有创建像您这样的数组的代码，在某些情况下，您可能希望选择 3 的倍数，而在其他情况下，您可能希望选择 5 的倍数。

策略模式通常实现如下

用算法方法声明一个抽象基类，然后通过继承具体类来实现。在代码中的某个点，决定什么具体策略是相关的，然后它会被实例化并在任何相关的地方使用。

我不确定这是否符合您的要求。

我不能断定你只能用这个，我一直相信[TIMTOWTDI](http://en.wikipedia.org/wiki/There%27s_more_than_one_way_to_do_it)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:15:22.547

假设您想使用 C#，我将从以下内容开始：

```
// General interface to filter out whatever you want, given a list:
public interface IFilterElements<T>
{
    IEnumerable<T> Filter(IEnumerable<T> elementList);
}

// An example imlementation - add more of these as required:
class FilterElementsThatAreEven<T> : IFilterElements<T>
{
    public IEnumerable<T> Filter(IEnumerable<T> elementList)
    {
        // Some implementation to return a sorted set / list
    }
} 
```

在您的调用方法中，您可以执行以下操作：

```
// List to filter
IEnumerable<int> myListOfInts = new int[]{1, 2, 3, 4, 5, 6};

// Instantiation of the implementation - also where you specify the 
// type of data to filter (could be of class "MagicLemur" instead of int)
IFilterElements<int> myIntFilter = new FilterElementsThatAreEven<int>();

var filteredList = myIntFilter.FilterElementsThatAreEven(); 
```

# java - Java - 内存缓存 - 多线程

> ID：12351115
> 
> 赞同：0
> 
> 时间：2012-09-10T11:51:52.223
> 
> 标签：java, multithreading, memcached

我在thread1中以这种方式编写代码，

```
public void run() {
        while (continueToProcess.get()) {
            if (System.currentTimeMillis() > nextFlushTime) {
                    try {
                        String json = (ACTIVE.equals(activeTab)) ? bundleS2JsonStreams() : ((ACTIVE1.equals(activeTab)) ? bundleS4JsonStreams()
                                : bundleS1JsonStreams());
                        if (json != null) {
                            MemcachedInterface.set((ACTIVE.equals(activeTab)) ? memcacheS2Key : ((ACTIVE1.equals(activeTab)) ? memcacheS4Key : memcacheS1Key),json);
                        }                       
                    } catch (Throwable e) {
                        logger.error("Error flushing to memcached, cust: " + customerId, e);
                    }
                    lastBundleTime = System.currentTimeMillis();
                    nextFlushTime = lastBundleTime + flushInterval;
                }               
        }
        tempThread.setRun(false);
        try {
            tempThread.interrupt();
        } catch (Exception e) {     
        }
    } 
```

1) 这里需要什么 MemcachedInterface 来放置带有 memcacheS1Key 之类的键的 json 数据？我的意思是为什么在这里使用 MemcachedInterface？

2）然后从第一个线程1调用第二个线程tempThread ...并将其运行方法设置为false ...

```
tempThread.setRun(false); 
```

acatullay 是做什么的？

3）如果我们打电话`tempThread.interrupt();`

在第二个线程上，它的执行是否会停止，只有当这个线程 1 再次启动时才会再次启动？

# database-design - 多个不同对象的数据库设计

> ID：12351118
> 
> 赞同：-1
> 
> 时间：2012-09-10T11:51:55.140
> 
> 标签：database-design

我正在开发一个用户可以使用块编写测试的应用程序。块是命令（如`assign`、等） `for`，`if`因此一些块也可以包含其他块。
我们正在使用复合模式 - 有一个`abstract block`和`leaf`&`composite`块类（也是抽象的），具体块从相关类继承（`if`块是复合的，`assign`块是叶子）。
我们曾经序列化整个测试并将其保存为 blob，但我们正在考虑更改它（例如，启用测试内部的搜索）。
那么数据库设计应该是什么样子的呢？我应该为每个对象准备一张桌子吗？在我们的例子中，这意味着大约 30 张桌子。我们是否应该将块的类型作为列包含在内？这意味着我们将拥有一个巨大的`if-else`在某处切换。
我很感激你的见解和建议。
谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T14:19:26.307

您应该为每种对象都有一个*表格*。同类型的多个实例应该存储在同一张表的多行中，使用不同的数据来区分它们。

两个对象是否属于同一类型的问题可能很微妙，尤其是在您概述的情况下。这是我的建议。对您打算处理的所有对象进行面向对象分析。小心区分面向对象的分析和面向对象的设计。如果需要，请查阅教科书。大约 20 年前，Peter Coad 写了一些关于 OOA 的好书。

将 OOA 模型转换为 ER 模型，将行为排除在外，只保留数据。保留 OOA 模型，因为在您设计软件时拥有它会很有用。ER 模型可以适应 gen-spec 模式，因此如果您的模型中有对象的类和子类，请使用此功能。在你的情况下，你会的。

然后将您的 ER 模型转换为关系模型，为将关系模型转换为一系列 SQL 数据定义脚本做准备。类和子类在这一点上变得混乱，因为关系模型没有内置继承。请参阅关于所谓的“类表继承”的教程。SO中有很多CTI问题的答案。

如果您正确执行 CTI，则不需要将对象类型（类）作为单独的字段，但如果它会加快速度，您可以将其包含（非规范化）。除非有必要，否则我一般不会这样做。

# kernel - iptables 和模块优先级

> ID：12351119
> 
> 赞同：0
> 
> 时间：2012-09-10T11:51:57.633
> 
> 标签：kernel, iptables, kernel-module

我仍然想知道哪个是第一优先级。“Iptables”还是“内核模块”？

在 ip iptables 的帮助下，说

```
iptables -t mangle -A PREROUTING -p tcp --dport 80 -j thoTPROXY --tproxy-mark 0x1/0x1 --on-port 3000 
```

我将数据包重定向到端口 3000。我在系统启动时执行此操作。在我的内核模块中，我在预路由本身中获取所有数据包并根据我的需要进行处理并返回内核。

```
 if( nf_register_hook(&pac_preroute_hook_ops) < 0 ) {
        printk("Failed to register pac_preroute_hook_ops.");
        return -1;
    } 
```

如果一个 80 端口的数据包到达盒子，哪个优先？它首先遵循 iptables 规则，或者直接像它进入我的自定义模块的所有其他数据包一样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T22:17:13.597

iptables 是处理内核模块“Netfilter”的用户界面，那么您提到的两种情况都将使用相同的钩子。

# xml - Extracting XML data from the packets

> ID：12351120
> 
> 赞同：0
> 
> 时间：2012-09-10T11:51:57.777
> 
> 标签：xml, http, tcp

I am trying to extract the TR069 XML data from the HTTP packets which I have filtered from a stream. The problem is the number of packets in a TCP flow are different. I cannot find an optimum filtering rule to terminate my XML extraction from a flow.Is there any kind of packet or keyword that is found at the end of the TCP stream?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:06:12.620

TCP connection is closed to one direction by sending a FIN packet, and getting an ACK response. Similarly for the other direction. The connection may be closed for one direction and open for the other. [Wikipedia](http://en.wikipedia.org/wiki/Transmission_Control_Protocol#Protocol_operation) has a nice description of TCP protocol operation.

Typically HTTP connection operates on top of a single TCP connection, such that the client closes the client -> server direction after sending the HTTP request and server closes server -> client direction after sending the HTTP response.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T13:24:01.170

How about reading the `Content-Length` attribute from the HTTP header, then you know how many bytes to read until the end of the HTTP message.

# c# - 信号量超时期限已过

> ID：12351122
> 
> 赞同：4
> 
> 时间：2012-09-10T11:52:07.233
> 
> 标签：c#, file-copying

我有一个简单的 C# 程序，可以将文件从一个网络共享复制到另一个。该程序刚刚抛出“信号量超时期限已过期”错误。我以前从未见过这个，我对它是什么感到有点困惑。

代码非常简单：（从配置设置中读取 srcPath 和 destPath）

```
DirectoryInfo di = new DirectoryInfo(srcPath);

        try
        {

            FileInfo[] files = di.GetFiles();

            foreach (FileInfo fi in files)
            {
                if(!(fi.Name.Contains("_desc")))
                {
                    File.Copy(fi.FullName, destPath + fi.Name, true);
                }
            }
        }
        catch (Exception xx)
        {
            SendMail(xx.Message, xx.StackTrace);
        }
        finally
        {

        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T12:03:40.167

这往往是一个通用的错误消息，可能与三种可能性有关：

1.  连接相关。检查您的网络电缆、USB 连接/电缆、重置 USB 集线器、网络交换机等。

2.  检查过长的文件名或过长的路径。

3.  硬盘相关。检查您有足够的可用空间并且驱动器没有错误并且没有碎片。

编辑：添加硬盘。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:04:25.893

看看这些关于[类似错误](http://social.technet.microsoft.com/Forums/en-US/itprovistanetworking/thread/c3fc9f5d-c073-4a9f-bb3d-b7bb8f893f78/)的 MS 指令，这似乎是已知问题 whencoping files over network

> 故障排除步骤：
> 
> 1.  更新两台计算机中无线网络适配器的驱动程序。
>     
>     
> 2.  暂时禁用所有防火墙和防病毒应用程序，然后再次检查问题。
>     
>     
> 3.  要从其他服务和应用程序中排除这些因素，请执行干净启动以检查问题并执行步骤 4。
>     
>     
> 
> (KB929135) 如何通过在 Windows Vista 中执行干净启动来解决问题 [http://support.microsoft.com/default.aspx?scid=kb;EN-US;929135](http://support.microsoft.com/default.aspx?scid=kb;EN-US;929135)
> 
> 1.  使用干净启动，尝试应用以下知识库文章中包含的修补程序：
> 
> (KB932045) 当您使用网络连接将大文件从一台基于 Windows Vista 的计算机复制到另一台基于 Windows Vista 的计算机时出现错误消息：“连接已丢失” [http://support.microsoft.com/default。 aspx?scid=kb;EN-US;932045](http://support.microsoft.com/default.aspx?scid=kb;EN-US;932045)
> 
> (KB932063) 当您在无线网络环境中工作时，在基于 Windows Vista 的计算机上会出现几个问题 [http://support.microsoft.com/default.aspx?scid=kb;EN-US;932063](http://support.microsoft.com/default.aspx?scid=kb;EN-US;932063)
> 
> 如果经过上述步骤后问题仍然存在，这个问题很可能是由于网络设备或配置，请告诉我：
> 
> 1.  这个问题是否出现在有线网络中？
>     
>     
> 2.  如果加强网络信号，问题能改吗？
>     
>     
> 3.  什么大小的文件会导致这个错误。
>     
>     
> 4.  此错误是否会终止复制过程？
>     
>     
> 5.  无线网卡和无线路由器的型号。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-16T18:04:13.607

当我通过 USB 连接的 Drobo 驱动器阵列中的硬盘出现故障时，我会遇到这种情况

# ruby-on-rails - Ruby on Rails：将另一个数据库中的数据输入新数据库

> ID：12351130
> 
> 赞同：0
> 
> 时间：2012-09-10T11:52:25.610
> 
> 标签：ruby-on-rails, ruby, devise, submit

我的应用程序中有两个数据库。一个是 Projects，它保存在应用程序中创建的项目的数据，另一个是我在安装 Devise gem 时创建的用户，它包含所有可以使用该应用程序的人的用户名和密码。

我有一个页面，用户可以在其中创建要提交到数据库的新项目。

我正在尝试`:username`从用户数据库中获取当前用户的字段数据，并将其与他们输入的数据一起提交到一个名为`username_project`.

```
<%= stylesheet_link_tag "form" %>

<%= form_for(@project) do |f| %>

<%= f.select( :username_project, User.all.map {|p| [p.:username]}) %>

<%= f.submit "Create New Project", :class => "button" %>

<% end %> 
```

目前，有一个下拉菜单显示存储在数据库中`<%= current_user.username %>`的用户名，但是当用户点击提交时，我试图将要提交的值作为 username_project 值提交。我是 Rails 新手，所以请放轻松。提前致谢。

更新：

```
<%= stylesheet_link_tag "form" %>

    <%= form_for(@project) do |f| %>

<%= current_user.username %>
<%= f.hidden_field :username_project, :value => current_user.username %>

<%= f.submit "Create New Project", :class => "button" %>

    <% end %> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:06:22.427

使用[hidden_​​field](http://api.rubyonrails.org/classes/ActionView/Helpers/FormHelper.html#method-i-hidden_field)助手：

```
<%= stylesheet_link_tag "form" %>

<%= form_for(@project) do |f| %>
  <%= f.hidden_field :username_project, :value => current_user.username %>
  <%= f.submit "Create New Project", :class => "button" %>
<% end %> 
```

# objective-c - 使用 Cocoa Touch 绘制目标图像

> ID：12351137
> 
> 赞同：8
> 
> 时间：2012-09-10T11:52:55.467
> 
> 标签：objective-c, cocoa-touch, cocoa

使用 Objective-C 中的 Cocoa Touch，我正在寻找绘制目标图像的最佳方式（即圆圈中的圆圈，很简单），然后将用户的触摸记录在图像上，（可能是 x 或 +标记），更重要的是，在内存中供以后重新绘制。

当用户长时间按住手指以实现更精确的定位时，我将使用放大镜，这是我通过阅读和试验[CoffeeShopped](http://coffeeshopped.com/2010/03/a-simpler-magnifying-glass-loupe-view-for-the-iphone)文章和来源了解到的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-18T04:52:01.143

创建uiview的子类并实现drawRect

```
- (void)drawRect:(CGRect)rect {
    CGRect circleRect = self.bounds;

    CGFloat circleWidth = circleRect.size.width / 5.0;
    CGContextRef context = UIGraphicsGetCurrentContext();
    CGContextSetFillColorWithColor(context, [[UIColor redColor] CGColor]);
    CGContextFillEllipseInRect(context, circleRect);

    circleRect = CGRectInset(circleRect, circleWidth, circleWidth);
    CGContextSetFillColorWithColor(context, [[UIColor whiteColor] CGColor]);
    CGContextFillEllipseInRect(context, circleRect);        

    circleRect = CGRectInset(circleRect, circleWidth, circleWidth);
    CGContextSetFillColorWithColor(context, [[UIColor redColor] CGColor]);
    CGContextFillEllipseInRect(context, circleRect);
} 
```

会画

![在此处输入图像描述](../Images/e43d79752c58f8dfcb7ce1ec7db37717.png)

您应该将您的视图背景颜色设置`[UIColor clearColor]`为使其边缘不黑。

您也可以将其调整为循环，但这是我可以展示的最简单的示例代码。

注意：为了简化弧/非弧代码，我没有重复使用颜色

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-03T11:42:42.673

如果您想重用该图像并重新绘制它（例如 - 当用户触摸它时），您应该将该绘图缓存为图像。

1）绘制你的目标（如下所述）
2）从当前上下文创建图像

```
 UIImage *image = UIGraphicsGetImageFromCurrentImageContext(); 
```

3）保存该图像并下次重复使用

```
- (void)drawRect:(CGRect)rect {
    if(image == nil) {
        image = [self drawTargetImage]; //use code that mentioned below to create image 
    }
    [image drawAtPoint:CGPointMake(10, 10)];
} 
```

# xcode - 如何保留 componentsSeparatedByCharactersInSet: 方法的分隔符？

> ID：12351140
> 
> 赞同：0
> 
> 时间：2012-09-10T11:53:03.247
> 
> 标签：xcode, nsstring

我有一个 Xcode 问题：有一个包含多个句子的长字符串。我被要求将这些句子分开。所以我用了这个方法`- (NSArray *)componentsSeparatedByCharactersInSet:(NSCharacterSet *)separator`。分隔符是一个`NSCharacterSet`不同的符号，例如“.?!”。此方法正确分隔句子，只是所有标点符号都消失了。

比如长字符串是“This is the first sentence. Is this the second sentence?”，我得到的结果是一个包含两个句子“This is the first sentence”和“Is this the second sentence”的数组，句号和问号被遗漏了。

那么，如何保留此方法的分隔符？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T11:59:21.863

如果您想将字符串拆分为句子、单词等语言标签，那么您最好使用`NSLinguisticTagger`iOS 5.0 引入的类。从文档中：

> NSLinguisticTagger 类用于自动分割自然语言文本并用信息标记它，例如词性。

`NSLinguisticTagger`与许多不同的语言一起工作，会让你的事情变得更容易。还有[WWDC 2012 视频 215 - “文本和语言分析”](https://developer.apple.com/videos/wwdc/2012/#215)，它向您展示了如何使用它。

# javascript - 清除案例。如何在多行上拆分很长的javascript？

> ID：12351143
> 
> 赞同：3
> 
> 时间：2012-09-10T11:53:14.423
> 
> 标签：javascript, clearcase

我有一个 JS 压缩文件，它长约 14k，它在一行上。这会在 Clear Case 上产生一些问题，导致无法签入

有没有办法修复clearcase？

如果我想将 JS 文件拆分为多行，在插入换行符时我应该注意什么。显然我不会拆分字符串或数字，之后还有其他不明显的事情要记住吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-10T11:59:36.897

另一种解决方案是将压缩 JS 文件的类型更改为...“compressed_file”：

```
cleartool chtype Compressed_file 
```

这样，您就不必修改文件。
有关该技术的更多信息，请参阅“[将文件添加到源代码管理”时的 Clearcase 问题</a>。](https://stackoverflow.com/questions/12074369/clearcase-issue-while-add-file-to-source-control)

[](https://stackoverflow.com/questions/12074369/clearcase-issue-while-add-file-to-source-control)

[您还可以指定合并管理器在合并时始终复制该文件，以避免任何合并问题。请参阅“](https://stackoverflow.com/questions/12074369/clearcase-issue-while-add-file-to-source-control) [Clearcase UCM 正在尝试合并 pdf 文件](https://stackoverflow.com/questions/8789258/clearcase-ucm-is-trying-to-merge-pdf-files)”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T11:59:41.450

我不知道 ClearCase。一个安全的分割位置是在字符串常量之后`;`或`}`之外，因为压缩的 JS 中不应该有任何注释。

您也可以手动拆分文件；该文件可能不会经常更改，10 个换行或多或少不会影响性能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T11:57:42.923

是的，换行符在 JS 中具有句法含义。javascript 指令由分号或换行符终止（或者，通常情况下，两者都有）。当整个脚本没有换行符时，分隔指令的唯一方法是分号。因此，当您在每个分号后添加换行符时，语法含义应该保持不变。

但是你确定你应该签入压缩的 Javascript 代码而不是原始的未压缩版本吗？特别是当您必须对其进行编辑时？工件，如编译的二进制文件，通常不属于版本控制。在我看来，压缩的 JS 文件也应该这样处理。

# android - 媒体播放器如何停止播放

> ID：12351144
> 
> 赞同：0
> 
> 时间：2012-09-10T11:53:17.257
> 
> 标签：android

我正在播放一些 wav 文件，然后我想停止它。

我正在使用单例

```
private static playSound instance = null;

public static synchronized playSound getInstance(Context context) {
    if(null == instance) {
        instance = new playSound(context, "", 1);
    }

    return instance;
} 
```

我在打电话

```
public void stopAudio() {
    try{
        myplayer.stop();
        myplayer.release();         
    } catch(Exception e){
        Log.e(TAG, "Exception caught:\n" + e.getMessage() +"\n" + e.getStackTrace());               
    }
} 
```

`instance`不为空，所以我认为这应该有效，因为是同一个实例......

但我得到：

```
MediaPlayer: stop called in state 1 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:18:39.347

你需要先检查它是否在播放？如果它正在播放，您的停止方法应该可以工作。

例如：

```
if (   media_player             != null
    && media_player.isPlaying() == true) {
    try {
        media_player.stop();
        media_player.release()
    } catch (Exception e) {
    }
} 
```

# javascript - 如何通过同一页面对同一页面的价值？我有以下代码： <p:datatable><p:rowexpansion>| <p:column headertext="Process Payment" style="width:</h1> <blockquote>
        <p>ID：12351145</p>
        <p>赞同：0</p>
        <p>时间：2012-09-10T11:53:21.487</p>
        <p>标签：javascript, jsf, primefaces</p>
        </blockquote>

            <hr/>
            <h2>回答 #1</h2>
            <blockquote>
            <p>赞同：1</p>
            <p>时间：2012-09-10T12:58:37.373</p>
            </blockquote>

<p>由于您使用的是 JSF，因此您可以使用<code>h:selectOneMenu</code>代替基本的 HTML<code>请参见 PrimeFaces 的展示。

有关如何将附加参数传递给支持 bean 的四个示例，请单击[此处](http://www.mkyong.com/jsf2/4-ways-to-pass-parameter-from-jsf-page-to-backing-bean/)。<select></code>标记。作为替代方案，您可以使用 PrimeFaces' <code>p:selectOneMenu</code>，它还具有蒙皮功能。</p>

<p>有关此菜单的示例，<a href=" http:="" www.primefaces.org="" showcase-labs="" ui="" selectonemenu.jsf"="" rel="nofollow"></p:column>  |</p:rowexpansion></p:datatable>

# javascript - 我的下划线模板不适用于玉

> ID：12351148
> 
> 赞同：0
> 
> 时间：2012-09-10T11:53:37.073
> 
> 标签：javascript, backbone.js, underscore.js, pug

> **可能重复：**
> [如何在 javascript 下划线模板中转义 <>？](https://stackoverflow.com/questions/12362290/how-to-escape-in-javascript-underscore-template)

在视图中我有一个模板

```
script(id='productTemplate',type='text/template')
        a(href="/edit?<%= id %>", class='products')
            <img src="<%= photo %>", alt="<%= name %>" />
            p.product_name
                <%= name%> 
```

它运行良好，除了锚标记的 href 属性，它不会呈现 <%= id %>。

但是当我把 <%= id %> 放在 <%= name%> 旁边时，它可以工作，当我把 <%= name%>

在 href="<%= name%>" 它再次不会呈现。

请帮我。

# javascript - 停止页面导航并等待用户确认

> ID：12351150
> 
> 赞同：3
> 
> 时间：2012-09-10T11:53:49.087
> 
> 标签：javascript, dojo

我允许用户在表单字段中进行一些更改，并且根据用户是否进行了一些更改，我启用了“提交更改”按钮。

我想添加一个功能，要求用户确认他想要导航到其他页面而不提交他所做的更改。我添加了代码来显示一个对话框，但问题是对话框显示了一小段时间，然后页面导航移动到另一个页面。我的代码是：

```
 window.onbeforeunload = function() {
            if(!dijit.byId('editBtn').get('disabled')) {
                discardChanges(
                        'Pending Unsaved Changes',
                        'You have pending unsaved changes. Do you really want to discard them?',
                        'Discard Changes',
                        function() {
                            return true;
                        },
                        function() {
                            return false;
                        },
                        300,
                        700);
            }
        } 
```

如何阻止浏览器移动到其他页面并等待用户单击对话框上的按钮，然后决定是否丢弃单击。对话框如下所示：

![在此处输入图像描述](../Images/699d9ba128489322d0f668dfc2ffd6cc.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-10T11:58:05.810

使用事件[window.onbeforeunload](https://developer.mozilla.org/en-US/docs/DOM/window.onbeforeunload)，该事件在页面卸载时触发并返回字符串*“您有未保存的未保存更改。您真的要丢弃它们吗？”*

浏览器显示本机对话框：

![在此处输入图像描述](../Images/7dd5efbc99958f257391d37aac275efa.png)

这是 AFAIK 停止导航的唯一方法。

jsFiddle：http: [//jsfiddle.net/phusick/R6EJ3/show/light/](http://jsfiddle.net/phusick/R6EJ3/show/light/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-10T14:56:30.953

太多网站滥用了此功能，因此出于安全原因，浏览器添加了反措施。

Opera 不支持该事件。现代版本的 Firefox 仅显示标准化的本机消息。Chrome、Safari 和 IE 显示本机消息和函数返回的自定义消息。据我所知，**您无法阻止该事件**。

我建议您将更改另存为草稿。请注意 Opera 不支持该事件，因此您可能需要根据计时器保存更改。通过计时器将其保存为草稿，作为奖励，您还可以让用户在浏览器崩溃后返回并继续。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-05-26T11:57:47.610

更新 (2013)

原始答案适用于 IE6-8 和 FX1-3.5（这是我们在 2009 年编写它时的目标），但现在已经过时并且在大多数当前浏览器中都不起作用 - 我已经离开了下面以供参考。

并非所有浏览器都一致地对待 window.onbeforeunload。它应该是一个函数引用而不是一个字符串（如原始答案所述），但这将在较旧的浏览器中工作，因为对大多数浏览器的检查似乎是是否将任何内容分配给 onbeforeunload （包括返回 null 的函数）。

您将 window.onbeforeunload 设置为函数引用，但在较旧的浏览器中，您必须设置事件的 returnValue 而不是仅返回一个字符串：

```
var confirmOnPageExit = function (e) 
{
    // If we haven't been passed the event get the window.event
    e = e || window.event;

    var message = 'Any text will block the navigation and display a prompt';

    // For IE6-8 and Firefox prior to version 4
    if (e) 
    {
        e.returnValue = message;
    }

    // For Chrome, Safari, IE8+ and Opera 12+
    return message;
}; 
```

如果您希望用户在没有消息的情况下继续，则不能让该 confirmOnPageExit 进行检查并返回 null 。您仍然需要删除事件才能可靠地打开和关闭它：

// 开启 - 分配返回字符串的函数

```
window.onbeforeunload = confirmOnPageExit; 
```

// 将其关闭 - 完全删除该功能

```
window.onbeforeunload = null; 
```

原始答案（2009年工作）

打开它：

```
window.onbeforeunload = "Are you sure you want to leave?"; 
```

要关闭它：

```
window.onbeforeunload = null; 
```

请记住，这不是一个正常的事件 - 您不能以标准方式绑定到它。

检查值？这取决于您的验证框架。

在 jQuery 中，这可能类似于（非常基本的示例）：

```
$('input').change(function() {
    if( $(this).val() != "" )
        window.onbeforeunload = "Are you sure you want to leave?";
}); 
```

[起初](https://stackoverflow.com/questions/1119289/how-to-show-the-are-you-sure-you-want-to-navigate-away-from-this-page-when-ch)

# javascript - 无法使更新面板正常工作

> ID：12351156
> 
> 赞同：0
> 
> 时间：2012-09-10T11:54:17.633
> 
> 标签：javascript, asp.net, google-maps-api-3, updatepanel, reload

我正在使用 Google maps apiv3 开发一个网站。我在更新面板中有一个按钮，通过它我使用 button_click 后面的代码和 javascript 函数执行一些逻辑。

由于该按钮位于更新面板中，因此我无法在 firebug 的监视窗口中看到任何内容，并且我在 javascript 函数中的断点也不起作用。如果没有更新面板，我可以在手表中看到执行流程，一切正常，但我在地图上重新加载。

aspx 中的代码：

```
 <asp:ScriptManager ID="ScriptManager1" runat="server"> </asp:ScriptManager>
    <asp:UpdatePanel ID="UpdatePanel1" runat="server" UpdateMode="Conditional">
        <ContentTemplate>
            <asp:Button ID="Button1" runat="server" style="z-index: 1; left: 573px; top: 146px; position: absolute" Text="Show route" onclick="Button1_Click1"/>
        </ContentTemplate>
        <Triggers>
            <asp:AsyncPostBackTrigger ControlID="Button1" EventName="Click"/>
        </Triggers>
    </asp:UpdatePanel> 
```

按钮_点击1：

```
protected void Button1_Click1(object sender, EventArgs e)
{
    using (con = new MySqlConnection("server=localhost; uid=root;password=as64ws;database=Gmaps"))
    da = new MySqlDataAdapter("select * from routes where uid='a1'", con);
    da.Fill(ds, "mroute");
    foreach (DataRow r in ds.Tables[0].Rows)
    {
        uroute.Add(r["latlng"].ToString());
    }
    croute = new string[uroute.Count];
    croute = uroute.ToArray();
    hdncroute.Value = string.Join("&", croute);
    ScriptManager.RegisterClientScriptBlock(this, typeof(Button), "routes", "droute()", true);
} 
```

Javascript：

```
function droute()
{
    var route=[];
    var temp;
    temp = document.getElementById('<%= hdncroute.ClientID %>').value;
    route= temp.split('&');
    //Loop to add locations and draw line
    var path= polyline.getPath();
    for(var i=0;i<route.length;i++)
        {
            var input= route[i];
            var ltln = input.split(",",2);
            var lat=parseFloat(ltln[0]);
            var lng=parseFloat(ltln[1]);
            var pos= new google.maps.LatLng(lat,lng);
            var marker= new google.maps.Marker({position:pos,map:map});
            path.push(route[i]);
            google.maps.event.addListener(marker,'click',showiwindow);
        }
    function showiwindow(event)
    {
    iwindow.setContent("<b>Coordinates are:</b><br/>Latitude:"+event.latLng.lat()+"<br/>Longitude:"+event.latLng.lng());
    iwindow.open(map,this);
    } 
} 
```

我无法获得要在地图上显示的值。**我应该将按钮放在更新面板中还是将地图放在更新面板中？**我哪里错了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T00:38:37.827

我会废弃你的大部分逻辑。

我会让按钮单击在您的代码隐藏中执行一个 jquery ajax 发布到 Web 服务，这会将一个数组返回到您的 ajax 发布，然后在您的 ajax 发布的成功部分中，我会触发您的 javascript 例程。

[http://dotnetguts.blogspot.com/2012/01/jquery-ajax-examples-by-calling-aspnet.html](http://dotnetguts.blogspot.com/2012/01/jquery-ajax-examples-by-calling-aspnet.html)

我上面描述的是我几乎所有的谷歌地图调用.......在我读过的关于这个主题的近 100 页中，我还没有看到更合适的方法。如果您需要了解有关如何以这种方式进行操作的更多信息，请告诉我。

这是另一个很好的页面，描述了如何做 jquery ajax 帖子。：

[从 Jquery 调用方法背后的代码](https://stackoverflow.com/questions/2492538/call-code-behind-method-from-jquery)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T23:32:03.677

设置 UpdateMode="Conditional" 并将 Button 设置为 AsynPostBacktrigger。可能这会解决问题。

# java - 将命令行参数继承给 Maven 子进程

> ID：12351158
> 
> 赞同：0
> 
> 时间：2012-09-10T11:54:21.740
> 
> 标签：java, maven, command-line, maven-3

我有一个 Maven 进程，它在生命周期阶段启动新的子 Maven 进程（通过`maven-verifier`） 。`test`使用几个参数（例如 ）调用父进程`-s ~/.m2/settings-oss.xml`。

有没有办法自动将这些参数传递/继承给子进程？

-亚历山大

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T14:46:52.910

我认为这应该有所帮助：

```
verifier.getCliOptions().add("-DmyParameter=v1");
verifier.executeGoal( "package" ); 
```

# c++ - 如何阻止读取 C++ 字符串流以等待数据

> ID：12351163
> 
> 赞同：5
> 
> 时间：2012-09-10T11:54:51.277
> 
> 标签：c++, stringstream, istream, istringstream

所以，我一直在试图弄清楚，如何等待来自 C++ 字符串流的数据（例如），而不是不断检查数据是否存在，这非常消耗 CPU。

例如，我完全能够从串行设备读取数据，并在没有数据到达时锁定进程，但不幸的是，我无法弄清楚如何使用 C++ 流来做到这一点。

我确定我遗漏了一些东西，因为 cin 正是这样做的，即等待返回键退出 istream 读取，但它是如何做到的呢？

提前感谢您对这个主题的任何了解。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T12:13:30.563

流从`std::streambuf`. 对于这种情况，`std::cin`它调用系统的`read()`函数（或等效函数），该函数会阻塞，直到数据从操作系统移交。控制台通常会发送完整的行。字符串流没有获取新数据的概念，即当到达当前数据的末尾时它们会失败。没有阻塞的概念。

您并没有完全说出您在做什么，但从它的声音来看，它尝试在两个线程之间传递数据：一个读取并可能阻塞直到数据可用，另一个填充更多数据。您可以很容易地创建相应的流缓冲区：如果没有数据，`std::streambuf::underflow()`将在条件变量上。将适当地设置缓冲区并向条件变量发出信号。显然，有一些必要的同步。但是，大多数读写都没有进行任何同步。这实际上意味着您将需要两个单独的缓冲区用于输入和输出，并且需要将数据复制到.`wait()``std::streambuf::overflow()``std::streambuf::underflow()`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:13:00.987

你不能。唯一`std::stringstream`可以知道没有任何进一步数据的方法是流中没有任何数据。

然而，这是一个有趣的想法。 `<<`仅当`std::stringstream` 写入端已关闭时才返回 true。这个想法的唯一问题是`std::stringstream`没有任何打开或关闭的想法。

然而，真正的问题是你想要达到的目标。 `std::stringstream`在进程中运行，在这种情况下，实际上不需要格式化（通常是 iostream 的抽象）。只需将原始对象填充到`std::deque`. 唯一需要担心格式的时候是与外部通信时。 `std::istringstream`非常有用，例如，当您从`std::getline`文件或其他来源获取字符串时。同样，`std::ostringstream`在为某些需要某种字符串的外部源格式化数据时很有用。但我从来没有找到使用`std::stringstream`; 我认为，还有更多是出于正交性的原因。

# android - 在 android 上评价一个 Android 应用

> ID：12351167
> 
> 赞同：1
> 
> 时间：2012-09-10T11:55:12.297
> 
> 标签：android, android-widget

> **可能重复：**
> [要求用户在 Android 电子市场上评分/评论/评论](https://stackoverflow.com/questions/5333825/requesting-user-to-rate-review-comment-on-android-market)

我已经开发并在 Android 市场上放置了一个应用程序。在其更新版本中，我想向用户添加评价应用程序的功能。

我希望应用程序具有以下功能：

*   当用户尝试退出应用程序时，将显示一个弹出窗口，要求对应用程序进行评分。此弹出窗口有三个选项：是、否和稍后
*   选择任何选项后，用户将退出应用程序。
*   如果用户选择`Yes`然后他将重定向到安卓市场来评价这个应用程序。如果用户对应用程序进行了一次评分，那么他将永远不会再显示该弹出窗口。
*   如果用户选择`No`，则用户也不会再次弹出此弹出窗口。
*   如果用户选择“稍后”，则下次将显示弹出窗口

我的`Yes`选项有问题。如何管理，那个用户已经在`android market上给出了一次费率。

是否有任何 API 可以返回有关用户评分的信息？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T12:08:57.900

```
using code on buttonclick listener   
 String App_Name="";
 bt.setOnClickListener(new OnClickListener() {

            public void onClick(View v) {

    startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("market://details?id=" + APP_PNAME)));
                      }}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T14:31:50.630

我认为您真正想要的是：

要对其进行测试并调整对话框的外观，您可以`AppRater.showRateDialog(this, null)`从您的活动中调用。正常使用是在`AppRater.app_launched(this)`每次调用您的活动时调用（例如，从 onCreate 方法中）。如果满足所有条件，则会出现对话框。

顺便说一句，没有任何 API 可以为您提供用户对其评分的信息。不用担心，他会使用*不再显示此*选项...

另一件事：你应该更喜欢在开始时显示这个......当用户想要离开时，他大多不想评价你的应用程序！

```
public class AppRater {
    private final static String APP_TITLE = "YOUR-APP-NAME";
    private final static String APP_PNAME = "YOUR-PACKAGE-NAME";

    private final static int DAYS_UNTIL_PROMPT = 3;
    private final static int LAUNCHES_UNTIL_PROMPT = 7;

    public static void app_launched(Context mContext) {
        SharedPreferences prefs = mContext.getSharedPreferences("apprater", 0);
        if (prefs.getBoolean("dontshowagain", false)) { return ; }

        SharedPreferences.Editor editor = prefs.edit();

        // Increment launch counter
        long launch_count = prefs.getLong("launch_count", 0) + 1;
        editor.putLong("launch_count", launch_count);

        // Get date of first launch
        Long date_firstLaunch = prefs.getLong("date_firstlaunch", 0);
        if (date_firstLaunch == 0) {
            date_firstLaunch = System.currentTimeMillis();
            editor.putLong("date_firstlaunch", date_firstLaunch);
        }

        // Wait at least n days before opening
        if (launch_count >= LAUNCHES_UNTIL_PROMPT) {
            if (System.currentTimeMillis() >= date_firstLaunch + 
                    (DAYS_UNTIL_PROMPT * 24 * 60 * 60 * 1000)) {
                showRateDialog(mContext, editor);
            }
        }

        editor.commit();
    }   

    public static void showRateDialog(final Context mContext, final SharedPreferences.Editor editor) {
        final Dialog dialog = new Dialog(mContext);
        dialog.setTitle("Rate " + APP_TITLE);

        LinearLayout ll = new LinearLayout(mContext);
        ll.setOrientation(LinearLayout.VERTICAL);

        TextView tv = new TextView(mContext);
        tv.setText("If you enjoy using " + APP_TITLE + ", please take a moment to rate it. Thanks for your support!");
        tv.setWidth(240);
        tv.setPadding(4, 0, 4, 10);
        ll.addView(tv);

        Button b1 = new Button(mContext);
        b1.setText("Rate " + APP_TITLE);
        b1.setOnClickListener(new OnClickListener() {
            public void onClick(View v) {
                mContext.startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("market://details?id=" + APP_PNAME)));
                dialog.dismiss();
            }
        });        
        ll.addView(b1);

        Button b2 = new Button(mContext);
        b2.setText("Remind me later");
        b2.setOnClickListener(new OnClickListener() {
            public void onClick(View v) {
                dialog.dismiss();
            }
        });
        ll.addView(b2);

        Button b3 = new Button(mContext);
        b3.setText("No, thanks");
        b3.setOnClickListener(new OnClickListener() {
            public void onClick(View v) {
                if (editor != null) {
                    editor.putBoolean("dontshowagain", true);
                    editor.commit();
                }
                dialog.dismiss();
            }
        });
        ll.addView(b3);

        dialog.setContentView(ll);        
        dialog.show();        
    }
} 
```

来源：[链接](http://www.androidsnippets.com/prompt-engaged-users-to-rate-your-app-in-the-android-market-appirater)

# vb.net - Datagrid 视图 - 基础知识 - 组合框 - 文本框

> ID：12351168
> 
> 赞同：0
> 
> 时间：2012-09-10T11:55:17.247
> 
> 标签：vb.net, datagridview, combobox

Visual Studio 2010 Express (Beginner)，我用的是 VB

目前正在尝试 Datagridview，我的 DGV 中有 3 列 - 第 2 列由组合框 cbo1 组成，第 3 列是文本框 txt2。Column1 是人名 txt1

Country & Capital 是我的“mysql 数据库”中的两列

我已使用适配器将我的数据库添加到名为 ds 的数据集，

```
 adp.Fill(ds)
    Country_cbo.DataSource = ds
    cbo1.DisplayMember = ds.Columns("Country").ToString 
```

使用上面的代码，我设法用国家名称填充 cbo1（使用 mysql 数据库）

尝试实现：从国家名称函数中选择一个值后，应通过查看数据集（这是我的数据库）用相应国家的首都填充文本框

实现这一目标的指南将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T12:02:55.550

假设你的数据集只有一个表，所以`ds.Tables[0]`会给你数据集中的表。

现在该值从组合框中检索为`combobox.SelectedItem.`

然后，您可以使用 for 循环遍历 ds.Tables[0] 的所有行。

将组合框的值与每行中的列值进行比较。如果匹配，则检索该行的大写列的值

循环示例（C# 语法）：

```
 foreach (DataRow r in ds.Tables[0].Rows)      
    {
        //Your logic here to perform comparison  
    } 
```

# apache - CAMEL 负载均衡器中的 SOAP 会话处理

> ID：12351169
> 
> 赞同：1
> 
> 时间：2012-09-10T11:55:24.713
> 
> 标签：apache, session, soap, load-balancing, apache-camel

如何通过 Apache Camel 中的 SOAP 会话启用负载平衡。我希望将请求转发到前一个请求转发到的同一服务器。我的请求是启用了 SOAP 会话的 SOAP。因此，对于每个事务，都会生成一个唯一的会话 ID。如何将具有相同会话 ID 的所有请求转发到单个服务器？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T07:27:07.590

看看棒负载均衡器： [http ://camel.apache.org/load-balancer.html](http://camel.apache.org/load-balancer.html)

您只需要指定一个表达式来识别所进行的会话。不太确定这样的 SOAP 会话令牌存储在哪里，但可能在 SOAP XML 请求中，所以只需通过 xpath 找到它。

from("whatever").loadBalance().sticky("xpath:/...").to(a,b,c,..);

# iphone - 如何将事件添加到 iPhone 中的日历

> ID：12351172
> 
> 赞同：0
> 
> 时间：2012-09-10T11:55:26.807
> 
> 标签：iphone, objective-c, xcode, calendar

> **可能重复：**
> [以编程方式在 iPhone 日历中添加自定义事件](https://stackoverflow.com/questions/246249/programmatically-add-custom-event-in-the-iphone-calendar)

我让用户在我的应用程序的日历中添加事件。

我的问题是，当用户去添加一个事件时，我可以在视图中添加一个自定义字段吗？例如，一个带有开关或复选框的“生日”字段，以便他们用户可以记录自定义状态。并提供通知。可以添加这个吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T14:24:45.163

除非他们在 iOS6 测试版中添加了一些新的东西。（我没怎么看日历的变化）

在 iOS 6 之前，您没有可配置的数据键/值对，只有 Apple 已经公开的预先存在的项目。

# c# - 不能对数据列表中的 CheckBoxList 使用RequiredFieldValidator

> ID：12351180
> 
> 赞同：5
> 
> 时间：2012-09-10T11:56:30.357
> 
> 标签：c#, asp.net, validation, jquery-validate

我在对 Datalist 中的 CheckBoxList 使用RequiredField Validator 时遇到问题。我正在为投票选项使用复选框列表。我希望用户回答所需的投票问题。如果用户没有回答，我想显示一条错误消息。谁能帮我做到这一点？

**这是我的设计：**

```
 <div id="divPollDataList">
     <asp:DataList ID="PollDataList" runat="server" 
        onitemdatabound="PollDataList_ItemDataBound">
              <ItemTemplate>
                 <asp:HiddenField ID="PollIDReqHiddenField" Value='<%# Eval("PollID") %>' runat="server" Visible="false" />
                 <asp:Label ID="lblReqQuestionNumber" runat="server" Text='<%# Eval("No of PollQuestion") %>' Font-Bold="true"></asp:Label>
                <asp:Label ID="lblRequiredPollQusetion" runat="server" Text='<%# Eval("PollQuestions") %>' Font-Bold="true"></asp:Label>
                <asp:HiddenField ID="HiddenFieldPollOption" runat="server" Value='<%# Eval("PollOptions") %>' Visible="false" />
                <asp:HiddenField ID="HiddenFieldPollType" runat="server" Value='<%# Eval("PollType") %>' Visible="false"/>
               <asp:RequiredFieldValidator ID="RequiredFieldValidatorReqPoll" runat="server"  CausesValidation="true" ControlToValidate="CheckBoxListMultiple"  Display="Dynamic" ErrorMessage="You must provide the feedback" ></asp:RequiredFieldValidator>
                  <asp:CheckBoxList ID="CheckBoxListMultiple" runat="server" ></asp:CheckBoxList>
              </ItemTemplate>
</asp:DataList>

</div>
    <div>
       <asp:Button ID="btnSubmitPoll" runat="server" CausesValidation="true" Text="Submit"  OnClick="btnSubmitPoll_click"  />   

    </div>

<div>
    <asp:Button ID="btnBindData" runat="server" Text="Bind" 
        onclick="btnBindData_Click" />
</div> 
```

**这是我的代码：**

```
 protected void PollDataList_ItemDataBound(object sender, DataListItemEventArgs e)
    {
        if (e.Item.ItemType == ListItemType.Item || e.Item.ItemType == ListItemType.AlternatingItem)
        {
            System.Data.DataRowView drv = (System.Data.DataRowView)(e.Item.DataItem);

            string strPollID = drv.Row["PollID"].ToString();
            string pollOptions = drv.Row["PollOptions"].ToString();
            string strPollType = drv.Row["PollType"].ToString();
            string strPollRequiredorNot = drv.Row["RequiredPoll"].ToString();

                CheckBoxList chkList = (CheckBoxList)e.Item.FindControl("CheckBoxListMultiple");
                foreach (string opt in pollOptions.Split('}'))
                {
                    chkList.Items.Add(opt.ToString());
                }
                var validator = (RequiredFieldValidator)e.Item.FindControl("RequiredFieldValidatorReqPoll");
                validator.Enabled = true;
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:30:00.207

你可以阅读这篇关于 Validator 和 CheckBoxList 的文章。

您可以开发自定义验证器

```
public class RequiredFieldValidatorForCheckBoxList : BaseValidator
{
   //..code..
} 
```

可以验证 RadioButtonList ，但不能验证 CheckBoxList

链接： http: [//www.codeproject.com/Articles/28560/CheckBoxList-Validation-in-ASP-Net-Required-Field](http://www.codeproject.com/Articles/28560/CheckBoxList-Validation-in-ASP-Net-Required-Field)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:16:29.550

CheckBoxList 无法使用 RequiredFieldValidator 进行验证。您可能需要使用 javascript 或 jQuery 进行验证。

# c# - C#：如果输入的小数点超过 2 位，则显示错误代码

> ID：12351186
> 
> 赞同：-4
> 
> 时间：2012-09-10T11:56:51.103
> 
> 标签：c#

我正在尝试用 C# 制作一个像收银机一样工作的程序，我想让用户输入一个超过 2 位小数的数字 = x.12 可以，但 x.123 不行

感谢您的所有回答。

编辑：代码示例会有很大帮助。我不擅长编程，也不擅长英语。=)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:00:08.173

使用 NumericUpDown 控件捕获输入并将其 DecimalPlaces 属性设置为 2。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:02:36.133

您可以将小数点四舍五入到两位。

```
decimal a = 1.994444;

Math.Round(a, 2); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T00:30:56.267

您可以使用正则表达式测试输入。下面的示例要求输入至少包含一位数字，可选地后跟一个小数位，后跟 1 或 2 个额外数字：

```
string number = "1.23";
bool isMatch = Regex.IsMatch(number, @"^\d+(\.\d{1,2})?$"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-10T12:01:35.780

您将输入转换为字符串并检查其长度（许多解决方案之一）；

例子：

```
void checkLenghth()
{
    decimal value = 2.15;
    string stringDecimal = value.ToString();
    string[] splitStrings = stringDecimal.Split('.');
    if (splitStrings[1] > 3)
    MessageBox("Its wrong!"); 
} 
```

这只是一个方向示例，我并不是说它必须完全像那样实施（对于批评者:)）

# database - 将表数据导出到文件的 DB2 命令

> ID：12351187
> 
> 赞同：-1
> 
> 时间：2012-09-10T11:56:52.660
> 
> 标签：database, db2, export, ascii

在 DB2 中，我想将表数据导出到文件中，我的输出应该是 ASCII 分隔文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:35:38.787

DB2 版本 9的[IBM 手册](http://publib.boulder.ibm.com/infocenter/db2luw/v9/index.jsp?topic=/com.ibm.db2.udb.doc/core/r0008303.htm)描述了您可以在 DB2 中使用的所有命令。您正在寻找的命令是 DB2 EXPORT。

# sharepoint - 基于复选框在 NewForm.aspx 中显示和隐藏列表列

> ID：12351189
> 
> 赞同：-1
> 
> 时间：2012-09-10T11:57:10.500
> 
> 标签：sharepoint

我有一个自定义列表，其中包含 sharePoint 中的一些列，其中之一是（是/否）复选框，我想根据选择复选框在 NewForm.aspx 和 EditForm.aspx 中显示 2 列列表。如果用户选择复选框 2列应该淡入。我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T16:07:41.817

最简单的方法是在 Infopath 中构建表单。在那里，您可以在字段上创建规则。例如，如果复选框 = 是，则显示/隐藏字段。

[http://www.bizsupportonline.net/blog/2009/06/automatically-create-infopath-forms-sharepoint-form-library-sharepoint-designer-workflow/](http://www.bizsupportonline.net/blog/2009/06/automatically-create-infopath-forms-sharepoint-form-library-sharepoint-designer-workflow/)

# css - 将整个页面居中

> ID：12351191
> 
> 赞同：4
> 
> 时间：2012-09-10T11:57:13.183
> 
> 标签：css

我的网站是左对齐的，有很多绝对定位：

```
position: absolute;
left: 30px;
top: 200px; 
```

我想把它放在中心，就像 NYtimes.com 一样。

有没有我可以使用的 CSS 来做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-10T12:02:36.363

您可以通过将网站的全部内容包装在包装器 div 中来使其居中，例如：

```
<body>
<div id="wrapper">
page content
</div> <!-- end #wrapper -->
</body> 
```

然后，给包装器 div 一个宽度并以边距居中，例如

```
#wrapper { width: 1000px; margin: 0 auto; } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:02:44.000

这是关于如何使您的网站居中的基础知识，基本上将所有内容都包装在 DIV 上并将其居中。

[http://jsfiddle.net/9tbuB/](http://jsfiddle.net/9tbuB/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T23:58:12.437

下面的这个链接解决了我的问题：

[http://www.zachgraeve.com/2006/10/01/center-abosulte-position-div/](http://www.zachgraeve.com/2006/10/01/center-abosulte-position-div/)

由于我有绝对定位，我必须使用上面链接中的技巧。

这是我的代码：

```
<div id="centerwrap">  

HTML code for entire webpage

</div> 
```

CSS：

```
#centerwrap { 
     position: absolute;
    top: 0px;
    left: 50%;
    margin-left: -500px; 
    } 
```

# facebook - 计算某个用户邀请的新应用用户数？

> ID：12351194
> 
> 赞同：2
> 
> 时间：2012-09-10T11:57:27.853
> 
> 标签：facebook, apprequests, facebook-app-requests

我想根据他们通过发送 apprequest 邀请添加到 facebook 游戏的新用户总数来奖励我的游戏用户一个吹牛故事/高分积分。

有没有办法跟踪用户为 Facebook 应用程序邀请的用户数量？

我知道我可以进行 FQL 查询并计算 apprequests，但 apprequests 只是暂时的，它们并不表示用户是否真的接受了请求。

我也知道我可以很容易地计算来自多朋友选择器回调的邀请数量。

我遇到的问题是我需要计算所有多好友邀请的总和，并且只有导致邀请的邀请以新用户的身份注册游戏应用程序。

还是我需要自己跟踪这些统计数据？

提前致谢。

# security - WSO2 API 管理器安全层

> ID：12351195
> 
> 赞同：0
> 
> 时间：2012-09-10T11:57:28.477
> 
> 标签：security, oauth, wso2, wso2-am

我希望使用 wso2 api manager 将我的 web 服务公开给移动应用程序。我想将 api 密钥存储在客户端的本地存储中，并将其与 api 调用一起用于身份验证。那么如何将wso2 api manager为每个web服务自动生成的api key传递给客户端呢？有没有其他选择？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T10:08:09.960

您可以使用WSO2 API Manager 提供的***“jaggery” API 来满足您的要求。***

*'jaggey'*基本上是由 WSO2 自己开发的一种服务器端 java 脚本语言。WSO2 API Manager 的 API Store 和 API Publisher Web 应用程序使用*'jaggery'*提供支持。*jaggery*的语法很像 java 脚本，但它的功能更像 JSP，因为它在服务器中执行。所有 API Manager 后端功能都作为*粗略*的API 公开。但是目前没有关于这些 API 的文档。

我建议您下载 WSO2 API Manager 源代码 [1] 并查看以下文件以更好地了解如何实现此目的。为了从客户端应用程序生成应用程序密钥，您需要调用 HTTP 请求到某个*乱七八糟*的页面 [2]。例如，可以在 [3] 中找到此调用如何在 API Store 应用程序中发生。您必须发送类似的 HTTP 请求才能获得与 API Store 中相同的响应。在生成密钥之前，客户端还必须登录。为此，您需要向 [4] 发送 HTTP 请求。此调用如何在 API Store 应用程序中发生可以在 [5] 中找到。

[1] [https://svn.wso2.org/repos/wso2/carbon/platform/branches/4.0.0/components/apimgt](https://svn.wso2.org/repos/wso2/carbon/platform/branches/4.0.0/components/apimgt)

[2] apimgt/api-store-web/src/site/blocks/subscription/subscription-add/ajax/subscription-add.jag

[3] apimgt/api-store-web/src/site/themes/fancy/templates/subscription/subscription-list/js/subscription-list.js

[4] apimgt/api-store-web/src/site/themes/fancy/templates/user/login/js/login.js

[5] apimgt/api-store-web/src/site/blocks/user/login/ajax/login.jag

# java - SQLite 数据库适配器

> ID：12351198
> 
> 赞同：0
> 
> 时间：2012-09-10T11:57:32.337
> 
> 标签：java, android, sqlite, android-arrayadapter

如果我在线，我正在开发新闻 android 应用程序我在**RSS**通量中获得新闻并且我有一个`RSSItemAdapter`

使用此代码：

```
import java.io.InputStream;
import java.io.IOException;
import java.net.URL;

class RSSItemAdapter extends ArrayAdapter<RSSItem> {

    private final Context context;
    final Comment comment = null;
    private CommentsDataSource datasource;

    public RSSItemAdapter(Context context, int textViewResourceId, List<RSSItem> items) {
        super(context, textViewResourceId, items);
        this.context = context;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        View v = convertView;
        if (v == null) {
            LayoutInflater vi = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            v = vi.inflate(R.layout.rssitem, null);
        }
        final RSSItem item = getItem(position);
        TextView tv = (TextView) v.findViewById(R.id.title);
        // tv.setText("<a href="+'"'+item.getUrl()+'"'+">"+item.getTitle()+"</a>");

        // tv.setText(Html.fromHtml("<a href=\"http://www.google.com\">"+item.getTitle()+"</a>"));
        tv.setText(item.getTitle());
        //tv.setMovementMethod(LinkMovementMethod.getInstance());

        TextView tv1 = (TextView) v.findViewById(R.id.description);
        tv1.setText(item.getDescription());

        TextView tv2 = (TextView) v.findViewById(R.id.pubdate);

        Date date = item.getPubDate();  
        Format formatter = new SimpleDateFormat("EEE, dd MMM yyyy HH:mm:ss zzz");
        String s = formatter.format(date);

        tv2.setText(s);

        TextView tv3 = (TextView) v.findViewById(R.id.lien);
        tv3.setText(item.getUrl());

        ImageView iv = (ImageView) v.findViewById(R.id.img);
        try {
            iv.setImageDrawable(drawableFromURL(item.getImageUrl(), item.getImageTitle()));
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        return v;
    }

    private Drawable drawableFromURL(String url, String srcName) throws java.net.MalformedURLException, IOException 
    {
        return Drawable.createFromStream(((InputStream) new URL(url).getContent()), srcName);
    }

} 
```

在主课之后，我这样称呼它：

```
if (isOnline()) { 
    ListView rssItemList = (ListView) findViewById(R.id.rssListview);
    FeedSource feedSource = new HttpFeedSource();
    RSSItemAdapter adapter = new RSSItemAdapter(this, R.layout.rssitem, feedSource.getFeed());
    rssItemList.setAdapter(adapter);
} 
```

那么如何获取存储在我的 SQLite 数据库中的日期并使用这样的适配器打印它呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T13:50:39.220

我找到了解决方案：

```
package news.mobile;

import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.database.SQLException;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
import android.database.sqlite.SQLiteDatabase.CursorFactory;

public class SQLiteAdapter {
    public static final String MYDATABASE_NAME = "mobilealgerie.db";
    public static final String MYDATABASE_TABLE = "mobilealgerie";
    public static final int MYDATABASE_VERSION = 1;
    public static final String KEY_ID = "_id";
    public static final String KEY_TITLE = "title";
    public static final String KEY_DESCRIPTION = "description";
    public static final String KEY_PUBDATE = "pubdate";

    // create table MY_DATABASE (ID integer primary key, Content text not null);
    private static final String SCRIPT_CREATE_DATABASE =
        "create table " + MYDATABASE_TABLE + " ("
      + KEY_ID + " integer primary key autoincrement, "
      + KEY_TITLE + " text not null ,"
      + KEY_DESCRIPTION + " text not null,"
      + KEY_PUBDATE + " text not null);";

    private SQLiteHelper sqLiteHelper;
    private SQLiteDatabase sqLiteDatabase;

    private Context context;

    public SQLiteAdapter(Context c) {
        context = c;
    }

    public SQLiteAdapter openToRead() throws SQLException {
        sqLiteHelper = new SQLiteHelper(context, MYDATABASE_NAME, null, MYDATABASE_VERSION);
        sqLiteDatabase = sqLiteHelper.getReadableDatabase();
        return this;  
    }

    public SQLiteAdapter openToWrite() throws SQLException {
        sqLiteHelper = new SQLiteHelper(context, MYDATABASE_NAME, null, MYDATABASE_VERSION);
        sqLiteDatabase = sqLiteHelper.getWritableDatabase();
        return this;  
    }

    public void close() {
        sqLiteHelper.close();
    }

    public long insert(String TITLE, String DESCRIPTION, String PUBDATE) {
        ContentValues contentValues = new ContentValues();
        contentValues.put(KEY_TITLE, TITLE);
        contentValues.put(KEY_DESCRIPTION, DESCRIPTION);
        contentValues.put(KEY_PUBDATE, PUBDATE);
        return sqLiteDatabase.insert(MYDATABASE_TABLE, null, contentValues);
    }

    public int deleteAll() {
        return sqLiteDatabase.delete(MYDATABASE_TABLE, null, null);
    }

    public Cursor queueAll() {
        String[] columns = new String[] {KEY_ID, KEY_TITLE, KEY_DESCRIPTION, KEY_PUBDATE};
        Cursor cursor = sqLiteDatabase.query(MYDATABASE_TABLE, columns, 
            null, null, null, null, null);
        return cursor;
    }

    public class SQLiteHelper extends SQLiteOpenHelper {
        @Override
        public void onCreate(SQLiteDatabase db) {
            // TODO Auto-generated method stub
            db.execSQL(SCRIPT_CREATE_DATABASE);
        }

        @Override
        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
            // TODO Auto-generated method stub
        }
    }
} 
```

# asp.net - ASP.net httpcontext 缓存对象是否足够安全，可以在其中存储（相对）敏感信息？

> ID：12351204
> 
> 赞同：0
> 
> 时间：2012-09-10T11:57:44.447
> 
> 标签：asp.net, caching, state-management, httpcontext.cache

我发现 ASP.net httpcontext 缓存对象可以通过减少在特定场景中引用数据库的次数来帮助提高 Web 应用程序的性能。我决定将成功登录后生成的用户对象放入 httpcontext 缓存对象并将其保存在那里，以减少处理每个页面/请求时后续引用 DB 的数量。我不在该对象中保留密码或盐值，但我在用户对象中保留帐户到期日期等内容。我检查了以下链接

[.NET 中缓存数据的安全性](https://stackoverflow.com/questions/8210020/security-of-cached-data-in-net)

看看这些解决方案是否适用于我的场景，但我无法推断那里的谈话可以应用于这种场景（将这些相对敏感的信息保存在缓存对象中）。

您能否说明这种缓存对象的使用是否足够安全以保存帐户到期日期或帐户活动标志等内容？如果没有，您对在没有后续数据库调用的情况下手头有用户对象有什么建议。

PS：由于每个应用程序池回收中发生的问题，我不想将该对象保留在会话对象中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:52:06.600

正如链接的帖子所暗示的那样，它仅与您的应用程序、服务器基础架构和您编写代码的方式一样安全。缓存在应用程序范围内保存信息，这意味着如果您编写代码的方式存在安全漏洞，则在用户之间公开用户特定信息的风险更高。

顺便说一句 - 如果您因为应用程序池回收而遇到 Session 问题，那么使用缓存将无济于事。当应用程序池以与会话相同的方式回收时，缓存将被清除（如果会话配置为`InProc`）。实际上，如果您已将 Session 配置为`InProc`，那么无论如何这些值实际上都存储在 Cache 中！

# c# - XElement 迭代不起作用

> ID：12351205
> 
> 赞同：0
> 
> 时间：2012-09-10T11:57:48.130
> 
> 标签：c#, xml, ienumerable, xelement

我正在尝试通过这个 XML：

```
<result>
    <diaryelement>
       <diary_uid>86248040</diary_uid>
       <diary_date>1347274789</diary_date>
       <diary_type>0</diary_type>

       <diaryshortitem>
         <itemid>419</itemid>
         <data>...</data>
          <description>...</description>
       </diaryshortitem>
    </diaryelement>
</result> 
```

我用于迭代的代码是：

```
XElement diary = XElement.Parse(e.Result);
IEnumerable<XElement> diaryelements = diary.Descendants("result");

Debug.WriteLine("No error");

                foreach (XElement diaryelement in diaryelements) 
                {
                    Debug.WriteLine(diaryelement.Value);
                    Debug.WriteLine((string)diaryelement.Element("diaryelement").Element("diaryshortitem").Element("description").Element("data").Value);
                }

Debug.WriteLine("Loop ended"); 
```

但是该方法似乎跳过了迭代，我不知道为什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:13:45.307

```
IEnumerable<XElement> diaryelements = diary.Descendants("diaryelement"); 
```

这个改动得到了“diaryelement”的所有后代，之后你就可以一一解析了

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:07:41.533

而不是`XElement.Parse`尝试使用`XDocument.Parse`. 另外，考虑在这一行调整 xml 元素路径

```
Debug.WriteLine((string)diaryelement.Element("diaryelement").Element("diaryshortitem").Element("description").Element("data").Value); 
```

因为它不正确。

# c# - 使用 c# 代码下载的 zip 文件无效

> ID：12351206
> 
> 赞同：2
> 
> 时间：2012-09-10T11:57:52.643
> 
> 标签：c#, c, asp.net-mvc, webclient

我有一个存储一些 zip 文件的 Dot Net MVC 服务器。如果单击超链接，我可以成功下载这些 zip 文件。但是，如果我尝试使用 WebClient 的 DownloadFile 下载 zip 文件，我可以下载 zip 文件我收到错误“Windows 无法打开文件夹，压缩的 zip 文件夹无效”

服务器端代码：

```
public FilePathResult DownloadFile(int id)
{      
       string resultsdir = AppDomain.CurrentDomain.BaseDirectory + "Data\\ResultsDir\\" + res.RequestId.ToString();
       string downloadFile = System.IO.Path.GetFileName(res.DownloadPath);
       string zipPath = System.IO.Path.Combine(resultsdir, downloadFile);
       return File(zipPath, "application/zip", downloadFile);
} 
```

客户端我正在使用 Webclient 下载此文件

```
WebClient wc = new WebClient();
wc.DownloadFile("http://servername/Results/DownloadFile/853", "localspkgfile.zip"); 
```

如果我通过单击浏览器上的超链接下载文件，文件大小为 2.9 mb。但是使用 webclient 文件大小为 5kb。看起来 WebClient 无法正确下载文件。谁能给我建议一种下载文件的方法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-10T12:03:50.910

我不知道您的代码有什么问题，但您下载的那个 5kb 文件几乎可以肯定是一个 HTML 错误页面，其中可能包含信息，例如堆栈跟踪，这将帮助您找出问题所在。将其扩展名更改为 .html 并在浏览器中打开它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-02T11:18:29.033

我也有这个问题，但我找到了一个简单的解决方案，我想从“ [http://sodco.ir/Choobkhat/Update/update.zip](http://sodco.ir/Choobkhat/Update/update.zip) ”下载这个 Zip 文件并解压缩它们。但 webClient 没有下载它。

我的解决方案：

**第 1 步：**将我的文件名从“D:\update.zip”更改为“D:\update.zi”`webClient.DownloadFileAsync("http://sodco.ir/Choobkhat/Update/update.zip", "D:\\update.zi);`

它将开始下载，下载完成后：

**第 2 步：**将 update.zi 重命名为 update.zi **p**

`File.Move("update.zi", "update.zip");`

**第3步：**提取它们

```
ZipFile.ExtractToDirectory(Application.StartupPath + "\\update.zip", Application.StartupPath); 
```

# xml - 合并 2 个 XML 文件并修改属性值

> ID：12351207
> 
> 赞同：2
> 
> 时间：2012-09-10T11:57:53.470
> 
> 标签：xml, xslt, merge

我有两个 xml 文件。我想合并它们并用一些属性做一些算术。请提供一些想法。我正在使用标准的 xslt [http://informatik.hu-berlin.de/merge](http://informatik.hu-berlin.de/merge)来合并文件。

文件 1：

```
<coverage branch-rate="0.5125" branch-total="50" line-rate="0.00593031875463">  
</coverage> 
```

文件 2：

```
<coverage branch-rate="0.5" branch-total="40" line-rate="1.0">  
</coverage> 
```

预期结果文件

```
<coverage branch-rate="(0.5125*50 + 05*40)/(50+40)" branch-total="50" line-rate="0.00593031875463"> 
</coverage> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:20:37.063

您可以使用 XSLT 和文档功能。Document 将另一个 xml 文件加载到 xslt 处理中。该示例仅执行简单的算术运算。你需要修改它。

```
<xsl:template match="coverage">
    <xsl:variable name="branchRateFromFile1" select="@branch-rate"/>
    <xsl:variable name="branchRateFromFile2" select="document(FILE2)/coverage/@branch-rate"/>
    <xsl:copy>
        <xsl:attribute name="branch-rate"><xsl:value-of select="number($branchRateFromFile1)+number($branchRateFromFile2)"/></xsl:attribute>
        <xsl:apply-templates select="*"/>
    </xsl:copy> 
</xsl:template> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:26:58.633

**这种转变**：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>

 <xsl:param name="pFile1" select="'file:///c:/temp/delete/file1.xml'"/>
 <xsl:param name="pFile2" select="'file:///c:/temp/delete/file2.xml'"/>

 <xsl:variable name="vF2Cover" select="document($pFile2)/coverage"/>

 <xsl:template match="/">
   <xsl:apply-templates select="document($pFile1)/coverage"/>
 </xsl:template>

 <xsl:template match="coverage">
   <coverage branch-rate=
    "{(@branch-rate*@branch-total + $vF2Cover/@branch-rate*$vF2Cover/@branch-total)
      div (@branch-total+$vF2Cover/@branch-total)
     }"
   branch-total=
    "{@branch-total*(@branch-total>= $vF2Cover/@branch-total)
    +
     $vF2Cover/@branch-total*($vF2Cover/@branch-total >@branch-total)
     }"
   line-rate=
    "{@line-rate*($vF2Cover/@line-rate >= @line-rate)
    +
     $vF2Cover/@line-rate*(@line-rate > $vF2Cover/@line-rate)
     }"/>
 </xsl:template>
</xsl:stylesheet> 
```

当应用于任何 XML 文档（未使用）时，并且提供的两个 XML 文档位于：

c:/temp/delete/file1.xml:

```
<coverage branch-rate="0.5125" branch-total="50" line-rate="0.00593031875463">
</coverage> 
```

和 c:/temp/delete/file2.xml:

```
<coverage branch-rate="0.5" branch-total="40" line-rate="1.0">
</coverage> 
```

**产生想要的正确结果：**

```
<coverage branch-rate="0.5069444444444444" branch-total="50" line-rate="0.00593031875463" /> 
```

# c# - 如何纠正 VS2012 中的代码样式？

> ID：12351212
> 
> 赞同：3
> 
> 时间：2012-09-10T11:58:08.617
> 
> 标签：c#, visual-studio, visual-studio-2012

有时我在 VS 中有这样的东西

```
if (IsValid)
{
functionA();
  functionB();
  } 
```

好吧，这看起来不太好。我想选择这些字段（或我想要更正的字段）并让 VS 更正样式。有没有办法，不知何故我找不到任何东西

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-10T12:00:47.150

`Edit`> `Advanced`> `Format Document`（或`Format Selection`）应该为你做很多工作。

# iphone - 使用多个 Facebook 应用 ID 的 iOS 应用

> ID：12351216
> 
> 赞同：2
> 
> 时间：2012-09-10T11:58:18.020
> 
> 标签：iphone, objective-c, ios, ipad

我有一个应用程序，它使用不同的 Facebook 应用程序（2 个不同的 AppID）在 Facebook 上发布并显示它是“通过 iPhone”/“通过 iPad”。

当 Facebook 应用程序安装在设备上并且用户想要在我的应用程序中使用 Facebook 登录时，Facebook 应用程序将启动 - 并且它不会返回到我的应用程序 - 在 iPad 的情况下。

我尝试将这两个 AppID 都放在 CFUrlScheme 中的 plist（如 fbxxxxxxxxx）中 - 在这种情况下，无论设备是什么，它都不会返回到我的应用程序。如果只有 iPhone 应用程序的 ID，它可以工作（当然，只在 iPhone 上）。

任何帮助将不胜感激 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T15:29:17.080

也许这会有所帮助。我从[IOS 编程指南中获取了这个](http://developer.apple.com/library/ios/#DOCUMENTATION/iPhone/Conceptual/iPhoneOSProgrammingGuide/AdvancedAppTricks/AdvancedAppTricks.html)

> 更新您的 Info.plist 设置
> 
> 通用应用程序的 Info.plist 文件中的大多数现有键应保持不变。但是，对于在 iPhone 和 iPad 设备上需要不同值的任何键，您可以将设备修饰符添加到键名。读取 Info.plist 文件的键时，系统使用以下格式解释每个键：
> 
> key_root-~
> 
> 在这种格式中，key_root 部分代表密钥的原始名称。和 部分都是可选的结尾，可用于特定于平台或设备的键。对于仅在 iOS 上运行的应用程序，您可以省略平台字符串。（iphoneos 平台字符串用于区分为 iOS 编写的应用程序和为 Mac OS X 编写的应用程序。）要将密钥应用于特定设备，请使用以下值之一：
> 
> ```
> iphone—The key applies to iPhone devices.
> 
> ipod—The key applies to iPod touch devices.
> 
> ipad—The key applies to iPad devices. 
> ```
> 
> 例如，要表明您希望应用程序在 iPhone 和 iPod touch 设备上以纵向启动，而在 iPad 上以横向启动，您可以使用以下键配置 Info.plist：
> 
> UI界面方向
> 
> UIInterfaceOrientationPortrait
> 
> UIInterfaceOrientation~ipad
> 
> UIInterfaceOrientationLandscapeRight
> 
> 请注意，在前面的示例中，有一个特定于 iPad 的键和一个没有任何设备修饰符的默认键。继续使用默认键来指定最常见（或默认）的值，并在需要更改该值时添加具有特定于设备的修饰符的特定版本。这保证了总有一个值可供系统检查。例如，如果您要将默认键替换为 iPhone 特定和 iPad 特定版本的 UIInterfaceOrientation 键，系统将不知道 iPod 设备的首选起始方向。
> 
> 有关可以包含在 Info.plist 文件中的键的更多信息，请参阅信息属性列表键参考

# html - 重置输入元素的样式并重新设置样式以恢复默认外观

> ID：12351217
> 
> 赞同：4
> 
> 时间：2012-09-10T11:58:18.110
> 
> 标签：html, css, input, reset

我有一个简单的输入字段。

```
<input name="1" onfocus="this.value=''" type="text" size="20" value="input 1" title="Enter your search here" /> 
```

因为不同的浏览器给它添加了不同数量的内边距、边距和边框，所以我必须将其重置如下。

```
input
{
padding: 0;
margin: 0;
border: 0;
border: none;
} 
```

现在我有一个无样式（仅保留其他属性，例如字体大小或光标用于移动），我想恢复重置前默认但具有一致值的外观，以便外观和尺寸相同在所有浏览器中。我愿意

```
input
{
border: 1px inset #F0F0F0;
} 
```

然而，它改变了一些东西，并且外观与这个小提琴不一样，其中第一个输入（输入 1）尚未使用边框属性重置，而第二个输入（输入 2）已重置（边框：0；边框：无;) 并再次重新设置样式（边框：1px inset #F0F0F0;）。

[jsFiddle](http://jsfiddle.net/LJerh/)

应用样式重置后如何恢复相同的外观。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-10T11:59:41.903

一旦更改默认样式，您将无法恢复它们。如果你想标准化跨浏览器的边距和填充，只需标准化边距和填充，不要触及任何其他样式，尤其是边框和背景。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-05-24T19:28:39.853

**简短的回答是改变**

`border: 1px inset #F0F0F0;`

到

`border: 1px solid #A9A9A9;`

* * *

**长答案**

我觉得对于 OP 在他们的小提琴中遇到的问题有更好的答案。

问题在于他们使用 of`inset`而不是`solid`.

这是原始的 js Fiddle 代码：

```
input
{
    padding: 0;
    margin: 0;
}

input[name="1"]
{
    margin: 10px;
}

input[name="2"]
{
    border: none;
    border: 0;
    border: 1px inset #F0F0F0;
}
```

```
<input name="1" onfocus="this.value=''" type="text" size="20" value="input 1" title="Enter your search here" />
<input name="2" onfocus="this.value=''" type="text" size="20" value="input 2" title="Enter your search here" />
```

这是我相信 OP 正在寻找的解决方法：

```
input
{
    padding: 0;
    margin: 0;
}

input[name="1"]
{
    margin: 10px;
}

input[name="2"]
{
    border: 1px solid #A9A9A9;
}
```

```
<input name="1" onfocus="this.value=''" type="text" size="20" value="input 1" title="Enter your search here" />
<input name="2" onfocus="this.value=''" type="text" size="20" value="input 2" title="Enter your search here" />
```

我改变的只是

```
input[name="2"]
{
    border: none;
    border: 0;
    border: 1px inset #F0F0F0;
} 
```

到

```
input[name="2"]
{
    border: 1px solid #A9A9A9;
} 
```

无需将边框设置为无，然后将其设置为 0，然后将其设置为所需的设置。这样做的唯一原因是不同的浏览器需要不同的后备选项。但据我所知，所有应该考虑的浏览器都支持上述简写的基本边框属性。至于我更改的实际设置，它`inset`为您提供了旧的 3D 外观切入外观，并且颜色与 jsFiddle 背景太接近，而且这种颜色看起来更接近我在大多数浏览器中看到的默认值。

# xamarin.ios - monodevelop 中的重复视图

> ID：12351218
> 
> 赞同：0
> 
> 时间：2012-09-10T11:58:24.770
> 
> 标签：xamarin.ios, monodevelop

我在使用 MonoTouch 的 MonoDevelop IDE 时遇到问题，例如，我似乎找不到复制控制器的好方法，如果我只是将 .cs 文件连同它的 .designer.cs 和 .xib 一起复制，它不会允许将控件连接到 xcode 编辑器中的标头 (.h) 文件。我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T16:37:47.903

您是否更改了`[Register ("Foo")]`新类的设计器文件中的属性值？

# sql-server-ce - 如何在 Visual Studio 2012 中查看 SQL Server CE 系统表

> ID：12351220
> 
> 赞同：1
> 
> 时间：2012-09-10T11:58:26.173
> 
> 标签：sql-server-ce, visual-studio-2012, sql-server-ce-4

我可以在 Visual Studio 2012 中打开一个 SQL Server CE 4.0`.sdf`文件，它会出现在服务器资源管理器中。都好。

但据我所知，它只显示常规表，而不是系统表。

有没有办法显示系统表？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T15:00:59.507

不，要查看它们，您必须输入例如：

```
SELECT *  FROM INFORMATION_SCHEMA.TABLES 
```

这也意味着您必须提前知道名称（上面的命令顺便列出了所有可用的表）

# python - Python不等于运算符

> ID：12351221
> 
> 赞同：11
> 
> 时间：2012-09-10T11:58:33.040
> 
> 标签：python, deprecated, not-operator

我来自 ac 风格的语言，所以我很自然地使用`!=`as not equal，但是当我来到 Python 时，从我阅读的文档中，我了解到为此目的使用了`<>`运算符。

最近，我看到很多代码都在使用`!=`，所以我的问题是其中一个是否比另一个更受欢迎，或者其中一个是否已弃用。

另外，我想知道它们之间是否有任何区别。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-10T11:59:25.473

Python 2 支持*两者*，在 python 3 中，`<>`运算符已被删除。

两者没有区别，但是[`!=`是首选形式](http://docs.python.org/library/stdtypes.html#comparisons)。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-09-10T13:18:08.747

从[您链接的官方文档](http://docs.python.org/library/stdtypes.html)

> != 也可以写成 <>，但这只是为了向后兼容而保留的过时用法。新代码应始终使用！=。

我相信最初接受的理由`<>`是，对于具有数学背景的人来说，它看起来比普通的 C 风格`!=`运算符更自然。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-09-10T11:59:56.920

我不知道您阅读了哪些文档，但我不知道有任何建议`<>`超过`!=`. [PEP8](http://www.python.org/dev/peps/pep-0008/)，主要的风格指南，没有提到任何这样的建议。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-01-29T12:27:56.143

仅作记录，`<>`至少早在 1996 年 10 月发布的[1.4 版本以来，它就已经过时了。](https://docs.python.org/release/1.4/ref/ref2.html#HDR20)

# android - 使用 ActionBarSherlock 的 Light.DarkActionBar 时分频器不可见？

> ID：12351224
> 
> 赞同：1
> 
> 时间：2012-09-10T11:58:36.210
> 
> 标签：android, android-actionbar, actionbarsherlock

我正在使用 ActionBarSherlock 库为 Android 2.2+ 设备提供操作栏和片段支持。

以前我使用的是**Theme.Sherlock**，如几个示例中所述。但是现在由于一些要求，我将主题更改为**Theme.Sherlock.Light.DarkActionBar**。现在我认为他们对这个主题的实施有些问题。ActionBar（标题）和标签栏之间的分隔线不可见？

看下面两张图

```
1\. using Theme.Sherlock
2\. using Theme.Sherlock.Light.DarkActionBar 
```

![使用 Theme.Sherlock](../Images/d2ec2c9c520013828a1fc04f65b76457.png)

**和**

![使用 Theme.Sherlock.Light.DarkActionBar](../Images/cb70688967b6b5491dd639bbc781f486.png)

1.  使用 Theme.Sherlock.Light.DarkActionBar 时，如何在标题栏和标签栏之间找到那条线？
2.  我可以更改线条的颜色以及 ActionBar 本身的颜色吗？

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2012-09-10T12:20:03.850

您可以从应用程序标签中的清单更改主题：

试试这个例如..我不确定它会显示所需颜色的线条，但您可以使用 cntrl+space 选择您选择的主题

```
 android:theme="@android:style/Theme.DeviceDefault" 
```

# google-app-engine - 将 Appengine Channel API 与 DART 结合使用

> ID：12351225
> 
> 赞同：1
> 
> 时间：2012-09-10T11:58:45.373
> 
> 标签：google-app-engine, dart, channel-api

是否可以将 Google Appengine Channel API 与 DART 语言一起使用？如果你能指出一些例子和陷阱（如果有的话），那就太好了。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-11T19:54:33.173

我推荐的解决方案是使用 JS 中的 Channel API 打开一个套接字并通过 postMessage 或自定义事件转发所有消息，并在 Dart 中接收它们。

我不确定是否有任何通用解决方案是开源的，但它应该是相当简单的，并且不需要通用的 JS-interop 来工作。

编辑：澄清

编辑2：

仅供参考：我刚刚发布了一个库来做到这一点。我希望这个对你有用！

[http://code.google.com/p/gae-channel-api-dart/](http://code.google.com/p/gae-channel-api-dart/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-11T01:09:33.010

Dart 团队的一个人将客户端库移植到 Dart：[http ://code.google.com/p/gae-channel-api-dart/](http://code.google.com/p/gae-channel-api-dart/)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-11T07:02:31.700

Channel API 的 JS 代码是专有的，没有“源”（虽然有，但祝你好运[，逆向工程](https://talkgadget.google.com/talkgadget/channel.js)）。Google 是故意这样做的，以便他们可以更改 Channels 底层协议，而无需进行混乱的升级/弃用过程。

因此，如果您遵循@Shannon 的建议，重写的代码可能会在将来的某个时候停止工作，您将需要重复对 Channels JS 代码进行逆向工程的过程。

更好的解决方案是从 Dart 调用 Channels API JS 代码，但目前[Darts 对调用 JS 的支持还很初级](http://blog.dartwatch.com/2012/06/dart-javascript-interoperability-coming.html)，但似乎他们[已经开始着手改进它](http://code.google.com/p/dart/issues/detail?id=625)。

# java - ApplicationContextInitializer 的关闭等效项

> ID：12351230
> 
> 赞同：4
> 
> 时间：2012-09-10T11:58:57.213
> 
> 标签：java, spring, apache-zookeeper, apache-curator

如何彻底关闭`ApplicationContextInitializer`实现中使用的资源？

我创建了一个`ApplicationContextInitializer`使用 Curator 项目连接到 Zookeeper 并获取属性文件的实现。然后它创建一个`Properties`实例 a`PropertiesPropertySource`并将其添加到上下文中。

当应用程序关闭时，我希望能够调用作为我的初始化程序成员`close()`的实例。`CuratorFramework`这怎么做最好？

我也可以将`CuratorFramework`实例传递*到*上下文中，以便可以将其用作 bean 吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2019-07-25T10:58:26.463

在您的`ApplicationContextInitializer`中，您可以添加`ApplicationListener<ContextClosedEvent>`：

```
class MyContextInitializer implements ApplicationContextInitializer<ConfigurableApplicationContext> {
        @Override
        public void initialize(ConfigurableApplicationContext applicationContext) {

            applicationContext.addApplicationListener(new ApplicationListener<ContextClosedEvent>() {
                @Override
                public void onApplicationEvent(ContextClosedEvent event) {
                    /* Cleanup code */
                }
            });
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T13:42:12.850

我会创建一个获取 spring 事件的 bean，并使用它来关闭 curator，

```
public class CuratorDisposer implements DisposableBean { 
    private CuratorFramework delegate; //set through spring somehow

    public void destroy() {
          delegate.close();
    }  
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T13:48:48.750

> 当应用程序关闭时，我希望能够在作为我的初始化程序成员的 CuratorFramework 实例上调用 close() 。这怎么做最好？

您可以让您的初始化程序类实现`ApplicationListener`，然后将自己注册为上下文中的侦听器。然后，您将`ContextClosedEvent`在上下文关闭时收到。

> 我也可以将`CuratorFramework`实例传递*到*上下文中，以便可以将其用作 bean 吗？

您可以在初始化程序中执行类似的操作（未经测试）：

```
RootBeanDefinition cfDef = new RootBeanDefinition(MethodInvokingFactoryBean.class);
cfDef.getPropertyValues().add("targetClass", MyInitializer.class);
cfDef.getPropertyValues().add("targetObject", this);
cfDef.getPropertyValues().add("targetMethod", "getCuratorFramework");
((BeanDefinitionRegistry)ctx).registerBeanDefinition("curatorFramework", cfDef); 
```

并向您的初始化程序类添加一个`getCuratorFramework()`方法，返回`CuratorFramework`您在初始化时创建的方法。

# c - 有符号和无符号整数如何存储在c中？

> ID：12351233
> 
> 赞同：6
> 
> 时间：2012-09-10T11:59:02.453
> 
> 标签：c

我正在尝试运行以下代码，但对这里发生的事情感到困惑：

```
int main()
{
 /* 
    a = -1; 
    b = 0xffffffff; 
 */
if(-1 == 0xffffffff )
        printf("-1 is equal to maximum\n");
else
        printf(" -1 is not equal to maximum\n");

if(0xff < -1)
        printf(" Less than -1 \n");
if(0xff < 0xffffffff)
        printf(" Less than maximum\n"); 
```

我也尝试使用注释部分并将 -1 替换为“a”，将 0xffffffff 替换为“b”，但结果相同。

它是 32 位系统，所以我采用了 4 字节的整数大小。

我的输出是：

```
-1 is equal to maximum
 Less than maximum 
```

如果 -1 等于最大值，那么它应该执行最后两个 if 语句。但它没有发生。为什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-10T12:04:02.697

我将从 C++ 中引用它；我认为C也是一样的：

字面`-1`量始终是 a `signed int`。

文字`0xff`是 a `signed int`，但是`0xffffffff`是 a `unsigned int`。

在混合符号的比较中，两个操作数都被转换为无符号，解释了你的所有结果。

以下是 C++11 表 6 中关于裸整型字面量（即没有类型后缀）的类型的规则：

*   十进制文字是`int`,`long int`或中最小的类型`long long int`，以适合者为准。

*   十六进制文字是`int`, `unsigned int`, `long int`, `unsigned long int`, `long long int`,中最小的类型`unsigned long long int`，以适合者为准。

再次拼写出来：

*   在您的第一次比较中，双方都转换为`unsigned int`，给出值`0xFFFFFFFF`。

*   在第二个比较中，两项都是有符号整数，左项是`255`，右项是`-1`。

*   在第三次比较中，两项都转换为`unsigned int`。

* * *

请注意，对于这个问题，我们从来不需要担心签名的硬件实现。唯一相关的与平台相关的值是 的大小`int`，我们在断言`0xffffffff`不适合 a`int`但*确实*适合 时使用该值`unsigned int`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-11-11T07:51:55.213

在 C/C++ 中，负数以 2 的补码格式存储，最高有效位 (MSB) 用作叹息指示。

MSB 1 表示-ve，MSB 0 表示+ve。1xxxxxxxxxx 是 -ve 数字，0xxxxxxxxxx 表示 +ve。在 1xxxxxxx 中，“xxxxxx”是 2 对数字的补语。在 0xxxxxx 中，“xxxxx”是数字的实际二进制表示。

如果 MSB（符号位）为 1，编译器将数字解释为 -ve，并且理解数字必须是两者的补码。

首先让我们看看 2 的恭维是什么：

2 的恭维是否定一个实际的数字（所有位），然后加 1。

十进制 1 = 00000001

~ 十进制 1 = 11111110

2 的十进制补码 1 = 11111111（F 十六进制）

所以 -1 变成 = **(1)** 111111111111111

**(1)**是一个 MSB，表示 -ve 数，其余的是 2 的补码。

因此-1 = 0xFFFFFFFF

您可以尝试打印一些 -ve 数字的二进制表示并比较数字的二进制表示的 2 的补码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T12:06:06.530

`0xffffffff`等于，`-1`因为该`int`类型只有四个字节，而 的[二补码](http://en.wikipedia.org/wiki/Two%27s_complement)在内存中 ( `-1`) 。所以编译器无法区分- 内存中根本没有空间。`0xffffffff``-1 == (~1) + 1``-1``0xffffffff`

`0x000000ff`等于`255`which is 大于`-1`，所以最后两个`if`s 不会被执行。

可能让您感到困惑的是：

```
char c = 0xff;
if( c == -1 ) {
     printf("char 0xff is -1");
} 
```

在这种情况下，我将 a`char`与 an进行比较`int`，因此编译器将不得不扩展 8 位`char`类型。由于`char`已签名，符号（最高位）将被保留，您将得到`-1`(int)。

[键盘上的交互式演示](http://codepad.org/hbybmSKP)

这是一个示例，为什么在混合有符号/无符号类型和不同宽度的类型时需要小心。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-10T12:14:40.313

首先，您看到的结果*与有符号整数的位表示无关*，尽管它们确实与大小有关。

当转换为无符号时，该值`-1`将转换为目标类型的最大值。这就是为什么`-1 == 0xffffffff`。的位表示`-1`不影响任何事情。

`0xff < -1`是假的，因为这两个值都是有符号`int`的：左边是 255，右边是 -1。

最后，在第一次比较中将 -1 转换为无符号的原因是这对于*您的实现*`0xffffffff`来说太大了（对于大多数实现来说也是如此）。但是，它确实适合（同样适用于您的实现，以及除 16 位机器之外的大多数实现）。为了将无符号整数与有符号整数进行比较，C 将有符号整数转换为无符号整数。这给出了令人惊讶的结果（包括令人惊讶的 -1 不知何故等于一个正数），这就是为什么大多数样式指南告诉您避免混合有符号和无符号类型的原因。但是改变语言已经太晚了。`int` *`unsigned int`*

# ruby - 如何将字符串转换为哈希

> ID：12351239
> 
> 赞同：0
> 
> 时间：2012-09-10T11:59:30.093
> 
> 标签：ruby, string, hash

这是我的字符串

`"{web:{url:http://www.example.com,toke:somevalue},username:person}"`

我想将其转换为哈希，如下所示：

```

```
{
  'web' =>  {
     'url'  => "http://www.example.com",
     'token' => 'somevalue'
   },
   'username' =>  "person"
} 
```

```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T13:02:12.407

简单的解析器，仅在几个示例上进行了测试。

用法：

```
parse_string("{web:{url:http://www.example.com,toke:somevalue},username:person}")
=> {"web"=>{"url"=>"http://www.example.com", "toke"=>"somevalue"}, "username"=>"person"} 
```

解析器代码：

```
class ParserIterator
  attr_accessor :i, :string
  def initialize string,i=0
    @i=i
    @string=string
  end

  def read_until(*sym)
    res=''
    until sym.include?(s=self.curr)
      throw 'syntax error' if s.nil?
      res+=self.next
    end
    res
  end

  def next
    self.i+=1
    self.string[self.i-1]
  end

  def get_next
    self.string[self.i+1]
  end

  def curr
    self.string[self.i]
  end

  def check(*sym)
    throw 'syntax error' until sym.include?(self.next)
  end

  def check_curr(*sym)
    throw 'syntax error' until sym.include?(self.curr)
  end
end

def parse_string(str)
  parse_hash(ParserIterator.new(str))
end

def parse_hash(it)
  it.check('{')
  res={}
  until it.curr=='}'
    it.next if it.curr==','
    k,v=parse_pair(it)
    res[k]=v
  end
  it.check('}')
  res
end

def parse_pair(it)
   key=it.read_until(':')
   it.check(':')
   value=(it.curr=='{' ? parse_hash(it) : it.read_until(',','}'))
   return key,value   
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:02:13.430

您必须编写一个自定义解析器。它几乎是 json，但由于没有引用值，因此不会使用 JSON 解析器解析，因此除非您可以获得引用值，否则您必须手动解析它。

处理值中的冒号、逗号和大括号将是一个挑战。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T15:26:35.490

我建议使用 ActiveSupport::JSON.decode 假设您有可用的 gem 或愿意将其包含在您的 gem 列表中。

一个问题是拥有一串json。所以如果你有哈希，你可以调用 #to_json 来获取 json 字符串。例如这有效：

```
str = '{"web":{"url":"http://www.example.com","toke":"somevalue"},"username":"person"}'
ActiveSupport::JSON.decode(str) 
```

# java - WebSphere Application Server V8 是否支持 JPA 1.0？

> ID：12351242
> 
> 赞同：0
> 
> 时间：2012-09-10T11:59:34.900
> 
> 标签：java, jpa, websphere, jpa-2.0

我需要使用 JPA 1.0 配置 WAS 8，因为我的应用程序使用 Oracle KODO 并且它只支持 JPA 1.0。我尝试使用第三方提供程序和共享库进行配置，但应用程序服务器始终使用默认的持久性提供程序，即 JPA 2。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T10:50:44.920

如果您已按照[信息中心](http://pic.dhe.ibm.com/infocenter/wasinfo/v7r0/topic/com.ibm.websphere.base.doc/info/aes/ae/tejb_jpa3rdparty.html)中的所有步骤进行操作，但它仍然选择了错误的库，那么您需要在 IBM 支持下打开 PMR。

# java - JSF convertDateTime 呈现前一天

> ID：12351244
> 
> 赞同：29
> 
> 时间：2012-09-10T11:59:38.500
> 
> 标签：java, jsf, date, jsf-2

日期（作为 Date 时间类型）存储在我的数据库中，如下所示：`31.10.2012`
当我在 UI 中显示它时，默认情况下它呈现如下：`2012-10-31`
我使用它转换它`<f:convertDateTime pattern="dd.MM.yyyy" />`并且意外地变成
`30.10.2012`

正如预期的那样`SimpleDateconverter`，使用相同日期和相同格式字符串的`31.10.2012`, 会返回 。

我错过了什么？

谢谢

编辑：对于存储为`Timestamp`相同转换的日期会产生正确的结果，所以我认为它与`Date`解释为确切的午夜有关，而这又可能被解释为属于 2 个不同的日子。但我仍然不知道在哪里定义行为以及最好的解决方法是什么。

* * *

## 回答 #1

> 赞同：82
> 
> 时间：2012-09-10T12:25:42.220

这无疑是一个与时区相关的问题。

JSF 在日期/时间转换中默认为 GMT (UTC)。因此，如果您的服务器平台默认时区是 GMT+X（不是 GMT-X），那么时间将返回过去 X 小时数。如果时间已经是 00:00:00（午夜），那么日期甚至会回到过去的一天。

无论如何，有两种标准方法可以实现您的功能要求：

1.  通过将以下上下文参数添加到，告诉 JSF 使用服务器平台默认时区而不是所有日期/时间转换`web.xml`：

    ```
    <context-param>
        <param-name>javax.faces.DATETIMECONVERTER_DEFAULT_TIMEZONE_IS_SYSTEM_TIMEZONE</param-name>
        <param-value>true</param-value>
    </context-param> 
    ```

2.  更改 every`<f:convertDateTime>`以明确指定特定于 webapp 的时区。由于您位于德国并且日期格式模式也证实了这一点，因此我假设 CET。

    ```
    <f:convertDateTime ... timeZone="CET" /> 
    ```

在任何情况下，都不建议在整个应用程序中使用非通用时区甚至混合时区。建议将所有层和环境中的时区设置为 UTC。不仅在服务器和前端层和表示层，而且在 SQL 数据库和后端层和持久层。这样，代码对时区和 DST(!) 相关问题不敏感，如果需要，您可以只在演示期间专注于更改时区。

### 也可以看看：

*   [夏令时和时区最佳实践](https://stackoverflow.com/questions/2532729/daylight-saving-time-and-timezone-best-practices)

# ruby-on-rails - 自定义设计确认电子邮件

> ID：12351246
> 
> 赞同：6
> 
> 时间：2012-09-10T11:59:39.483
> 
> 标签：ruby-on-rails, devise-confirmable

> 欢迎 xxx@xxxxx.com！您可以通过以下链接确认您的帐户电子邮件：在此处输入代码确认我的帐户

我想编辑这条消息变成这样

> 我的 project_name 你好 xxxx 点击这里确认你的电子邮件

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-09-10T12:04:01.603

只需生成设计视图

> rails g 设计：意见

然后您可以访问默认的邮件配置

> your_app/app/views/devise/mailer

*   Confirmation_instructions.html.erb
*   reset_password_instructions.html.haml
*   unlock_instructions.html.haml

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-10T12:03:58.437

检查`devise.en.yml`以查找设计翻译。您可以将 传递`project_name`给翻译；例如：

`t('welcome', :project_name => project.name)`

在 yml 文件中：

`welcome_message: 'My %{project_name} Hello xxxxx click here to confirm you email'`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-01-20T08:38:39.067

我相信您想从通常资源是*用户*或*管理员*`confirmation_instructions.html.erb`时自定义文件`app\view\resource\mailer`

 **首先，检查您是否设置`config.scoped_views = true`了`config/initializers/devise.rb`多亏了这一点，安装设计正在资源的视图文件夹中寻找模板，而不是默认的`app\views\devise\mailer`

可以通过以下方式使用`login`等`username``<%= @resource.login %>`

毕竟，请确保重新启动服务器。作为参考，请查看类似问题[Ruby/Rails: How do you customize the mailer templates of Devise？](https://stackoverflow.com/questions/4276233/ruby-rails-how-do-you-customize-the-mailer-templates-of-devise)**

# .net - Mono 多目标项目中的项目参考与文件链接

> ID：12351247
> 
> 赞同：2
> 
> 时间：2012-09-10T11:59:40.163
> 
> 标签：.net, mono, xamarin.ios, xamarin.android

我已经看到了一些关于这个问题的讨论，但我还没有看到明确的答案，当然不是 MonoTouch / Mono for Android。

我正在开发一个基于 Xamarin 的多目标解决方案，自然我有很多通用代码。理想情况下，此代码将驻留在“通用”标准 .NET 类库项目（或项目）中。当我在特定于平台的项目中引用此项目时，我确实收到警告“无法引用项目'Common'。引用的项目针对不同的框架系列 (.NETFramework)”，但解决方案仍然编译成功。

本质上，我问的是当我的通用代码处理多个目标时是否必须使用文件链接方法。更详细地说，我的问题是：

1.  当我的“通用”项目仅引用 Mono* 目标支持的程序集时，上述方法是否有效？
2.  如果上面的答案是肯定的：假设我在我的“公共”项目中引用了第 3 方 .NET 库（以 DLL 的形式，而不是项目），并且该库确实具有针对不同目标的不同程序集（但它不引用 Mono* 不支持的程序集，我还能引用 Windows 版本的程序集并摆脱它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:23:43.000

MonoTouch 与 Android 的 Mono 一样，提供了*常规*（桌面）.NET 框架的一个子集。

该子集实际上是为 Silverlight（我们当时称为 FX 2.1）提供的基类库 (BCL) 的超集。

如果您的二进制文件正在引用 MonoTouch（或 Android 的 Mono）中不存在的类型、方法（任何元数据），那么您将遇到*1*或*2*的问题。

使用 MonoTouch，您会在为设备构建时发现此类问题，因为使用了 AOT（提前）编译。IOW 缺少的符号将在构建时找到。请注意，JIT 用于 iOS 模拟器，因此在运行时需要它们之前不会*找到丢失的符号。*

Mono for Android 正在使用 JIT（在设备和模拟器上），因此在运行时更有*可能*找到任何丢失的元数据 - 即托管链接器也会找到丢失的成员，并且将无法创建新的、更小的程序集，如果符号无法解析。

因此，除非您使用产品随附的 SDK 程序集 (BCL) 重新编译代码，**否则**该方法无效（如 100% 安全）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T08:27:34.143

有一种叫做便携式类库的东西已经出现了一段时间。从 Visual Studio 2012（2012-09-12 发布）开始，它现在是 Visual Studio 的一等公民，因此您可以在 Windows 8、Windows Phone、Silverlight、Windows <8 等之间共享库。

我希望 MonoDevelop 遵循这条路线，以便即使使用 Mono for Android 和 MonoTouch 也可以共享可移植库。

同时，您应该为每个平台创建一个项目，即使*链接*到相同的源文件也是如此。我发现这是最好的解决方案：

像这样命名的项目文件

```
MyCompany.MyProduct.MyModule.Ios.csproj
MyCompany.MyProduct.MyModule.Android.csproj
MyCompany.MyProduct.MyModule.WinPhone.csproj 
```

所有项目中的命名空间只有 MyCompany.MyProduct.MyModule。

您将项目中的相同 cs 文件*链接*到“共享”文件夹。

如果您需要在 Ios 版本中公开一些额外的类，您只需将该文件添加到 Ios 项目（未链接）并将 .Ios 添加到命名空间，因为您希望跨平台命名空间不会被平台特定的东西弄乱。

这是一个不会破坏 Windows 路径长度问题的文件夹结构：

```
/MyCompany/MyProduct/ 
```

在这里放置所有目标平台的解决方案文件，命名如下：

```
MyCompany.MyProduct.Ios.sln
MyCompany.MyProduct.Wpf.sln
... 
```

每个程序集的文件夹：

```
/MyCompany/MyProduct/MyModule/ 
```

在这里，您为每个平台放置一个“共享”文件夹和一个文件夹，因此：

```
/MyCompany/MyProduct/MyModule/Shared/ 
```

仅跨平台代码（链接到每个项目文件）！！！

```
/MyCompany/MyProduct/MyModule/Android/
/MyCompany/MyProduct/MyModule/Ios/
/MyCompany/MyProduct/MyModule/WinPhone/
/MyCompany/MyProduct/MyModule/Wpf/
/MyCompany/MyProduct/MyModule/Mac/
... 
```

这是您放置模块的每个平台的项目文件的位置，也是放置在特定平台上实现模块所需的任何平台特定的 cs 文件的位置。

这对我们非常有效。

# xaml - Windows 8 商店应用程序中的模糊效果？

> ID：12351255
> 
> 赞同：3
> 
> 时间：2012-09-10T12:00:01.487
> 
> 标签：xaml, windows-8, microsoft-metro

您如何为 Windows 8 应用商店应用程序的 XAML 中的 UI 元素（如 a`StackPanel`或 a ）添加模糊效果？`Rectangle`

我正在考虑类似`BlurEffect`WPF 中的内容，[如此处所示](http://wpftoturials.blogspot.no/2010/07/visual-effects-in-wpf-blur-dropshadow.html)。任何解决方案都应该适合动画或至少每秒更新多次。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T12:50:01.090

您可以使用[此](http://writeablebitmapex.codeplex.com/)库来模糊和写入图像。

它可能看起来像这样：

```
// Blit a bitmap using the additive blend mode at P1(10, 10)
writeableBmp.Blit(new Point(10, 10), bitmap, sourceRect, Colors.White, WriteableBitmapExtensions.BlendMode.Additive); 
```

或者，您可以编写自己的（或使用其他人编写的代码），[类似于](http://notes.ericwillis.com/2009/10/blur-an-image-with-csharp/)：

```
private static Bitmap Blur(Bitmap image, Rectangle rectangle, Int32 blurSize)
{
    Bitmap blurred = new Bitmap(image.Width, image.Height);

    // make an exact copy of the bitmap provided
    using(Graphics graphics = Graphics.FromImage(blurred))
        graphics.DrawImage(image, new Rectangle(0, 0, image.Width, image.Height),
            new Rectangle(0, 0, image.Width, image.Height), GraphicsUnit.Pixel);

    // look at every pixel in the blur rectangle
    for (Int32 xx = rectangle.X; xx < rectangle.X + rectangle.Width; xx++)
    {
        for (Int32 yy = rectangle.Y; yy < rectangle.Y + rectangle.Height; yy++)
        {
            Int32 avgR = 0, avgG = 0, avgB = 0;
            Int32 blurPixelCount = 0;

            // average the color of the red, green and blue for each pixel in the
            // blur size while making sure you don't go outside the image bounds
            for (Int32 x = xx; (x < xx + blurSize && x < image.Width); x++)
            {
                for (Int32 y = yy; (y < yy + blurSize && y < image.Height); y++)
                {
                    Color pixel = blurred.GetPixel(x, y);

                    avgR += pixel.R;
                    avgG += pixel.G;
                    avgB += pixel.B;

                    blurPixelCount++;
                }
            }

            avgR = avgR / blurPixelCount;
            avgG = avgG / blurPixelCount;
            avgB = avgB / blurPixelCount;

            // now that we know the average for the blur size, set each pixel to that color
            for (Int32 x = xx; x < xx + blurSize && x < image.Width && x < rectangle.Width; x++)
                for (Int32 y = yy; y < yy + blurSize && y < image.Height && y < rectangle.Height; y++)
                    blurred.SetPixel(x, y, Color.FromArgb(avgR, avgG, avgB));
        }
    }

    return blurred;
} 
```

要获取第二种方法的单个像素，请参见[此处](http://code.msdn.microsoft.com/windowsdesktop/Metro-Style-lightweight-24589f50)：

```
BitmapImage iSrc

var array = new int[iSrc.PixelWidth * iSrc.PixelHeight]

var rect = new Int32Rect(0, 0, iSrc.PixelWidth, iSrc.PixelHeight)

iSrc.CopyPixels(rect, array, iSrc.PixelWidth * 4, 0) 
```

# php - 在 PHP 中发送 html 表单和文件附件

> ID：12351256
> 
> 赞同：-1
> 
> 时间：2012-09-10T12:00:05.553
> 
> 标签：php, javascript, email

我一直在尝试找到一种通过 php 附加 html 表单以及文件附件的方法。目的是当用户按下提交按钮时，HTML 表单（只有可见字段）和文件附件（上传）都作为电子邮件附加。这是一种 HTML 电子邮件，但我希望在电子邮件中附加 HTML 表单。我找不到任何解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T12:02:02.423

您想将表单值作为附件而不是电子邮件的实际正文发送？如果是这样，您可以使用表单数据创建一个 html 页面并将其保存在您的服务器上。然后，发送。如果您需要帮助，请告诉我，我会发布一些代码。但是，我不太推荐这种方法。在我看来，您应该在电子邮件的正文中发送它。

创建文件：

```
$fh = fopen($filename, 'w') or die("can't open file");
fwrite($fh, '<html><body>');
fwrite($fh, "<h1>$title</h1>$text");
fwrite($fh, '</body></html>');
fclose($fh); 
```

通过 php mailer 发送文件：

```
$mail->AddAttachment($whereEverYouSavedYourFile, $whatEverYourFileNameIs); 
```

如果它不起作用，请尝试并发布代码（可能是您的特定问题的新问题）。

**编辑：**

要发送带有帖子数据的电子邮件，请让您将表单提交到其中包含以下内容的 PHP 页面：

```
<?php

// get and sanitize post data like this
// note: you must have a form field with a 'name' of 'firstName' and on of 'lastName'
$firstName = htmlspecialchars($_POST['firstName'], ENT_QUOTES, 'UTF-8');
$lastName = htmlspecialchars($_POST['lastName'], ENT_QUOTES, 'UTF-8');

// put the data in a new variable
$body = <<<HTML
  First name: $firstName \r\n
  Last name: $lastName \r\n
HTML;

// send mail
mail('whoEver@theirEmailAddress.com', 'form data', $body);

?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:08:34.860

检查下面的链接，它一定会帮助你。

[http://www.finalwebsites.com/forums/topic/php-e-mail-attachment-script](http://www.finalwebsites.com/forums/topic/php-e-mail-attachment-script)

我用过它，它对我有用。

# asp.net - 从 web.config 获取授权规则

> ID：12351258
> 
> 赞同：3
> 
> 时间：2012-09-10T12:00:08.383
> 
> 标签：asp.net, web-config, authorization

在网络配置中，我有几个基于位置的授权规则，例如：

```
<location path="error.aspx">
    <system.web>
        <authorization>
            <allow users="*" />
        </authorization>
    </system.web>
</location>
<location path="ResetPassword.aspx">
    <system.web>
        <authorization>
            <allow users="?" />
        </authorization>
    </system.web>
</location> 
```

如何在代码 (ASP.NET) 中获取所有这些规则？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2014-08-08T08:05:37.847

看一下这个：

```
var config = System.Web.Configuration.WebConfigurationManager.OpenWebConfiguration(null);
var section = config.GetSection("system.web/authorization") as AuthorizationSection;

foreach (AuthorizationRule rule in section.Rules)
{
    if (rule.Action.ToString().ToLower() == "allow")
    {
        //TODO
    }
} 
```

深入挖掘 AuthorizationRule 类属性。

你可以在这里阅读更多：http: [//lajak.wordpress.com/2012/05/16/read-authorization-section-from-web-config/](http://lajak.wordpress.com/2012/05/16/read-authorization-section-from-web-config/)

# php - 在自动保存时在 sql 中重复相同的数据

> ID：12351264
> 
> 赞同：0
> 
> 时间：2012-09-10T12:00:46.660
> 
> 标签：php, sql, codeigniter, autosave

我正在尝试在数据库中一段时间​​后自动保存一些数据。这是我的视图代码

```
<div id="main">
  <?php echo validation_errors(); ?>
  <h1>Purchase Product Detail</h1>

  <?php
  echo form_open( 'shop/buy_product/submit' );
  ?>
  <?php echo validation_errors(); ?>
  <table>
    <tr>
      <td>
        Shop Name
      </td>
      <td>

<?php
echo form_dropdown( 'shop', $tags );

//echo form_dropdown('shop', $options, 'Yellow');
?>
      </td>
    </tr>
    <tr>
      <th>
        SL.
      </th>
      <th>
        Product code
      </th>
      <th>
        Product Name
      </th>

      <th>
        Rate
      </th>
      <th>
        Quantity
      </th>
      <th>
        Total
      </th>
      <th>
        Sell Price
      </th>

    </tr>
<?php for ( $i = 1; $i <= 10; $i++ ): ?>
      <tr>
        <td width="10">
  <?php echo $i; ?>
        </td>

        <td>
          <input size="10" type="text" name="code[]" value="<?php echo ''; ?>" id="code_<?php echo $i; ?>" />
        </td>
        <td width="20%">
      <name="product[]" value="<?php echo ''; ?>" id="product_<?php echo $i; ?>"/>
      </td>
      <td>
        <input size="10"type="text" name="rate[]" value="<?php echo ''; ?>" id="rate_<?php echo $i; ?>" />
      </td>
      <td>
        <input size="10" type="text" name="quantity[]" value="<?php echo ''; ?>" id="quantity_<?php echo $i; ?>" />
      </td>
      <td width="15%">
      <name="total[]" value="<?php echo ''; ?>" id="total_<?php echo $i; ?>"/>
      </td>
      <td>
        <input size="10" type="text" name="sell[]" value="<?php echo ''; ?>" id="sell" />
      </td>

      </tr>
<?php endfor; ?>

  </table>
  <input type="submit" value="Submit"/>
<?php echo form_close(); ?>

</div> 
```

这是我的模型

```
 function add_product()

        {
            $data  = array();
                $todayDate = date('Y-m-d');
                for($i = 0; $i < count($_POST['code']); $i++){
                    if($_POST['code'][$i] != '')
                    {
                        $data[] = array(
                            'code' => $_POST['code'][$i],
                            'shop' => $_POST['shop'],
                            'memo' => $_POST['memo'],
                            'rate' => $_POST['rate'][$i],
                            'quantity' => $_POST['quantity'][$i],
                            'total' =>( $_POST['rate'][$i]*$_POST['quantity'][$i]),
                            'date' => $todayDate
                            );
                    }
                }
                $linksCount = count($data);

                if($linksCount){
                    $this->db->insert_batch('purchase', $data);
                }

                return $linksCount;

        } 
```

我的主要问题是执行自动保存功能时，它会将所有数据插入数据库中。它在某个特定之后一次又一次地重复相同的数据。任何人都可以帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T12:12:09.220

我假设您正在使用 JS/jQuery 进行自动保存功能。在表单中添加一个隐藏字段，例如`insert_id`. 在进行任何插入之前，请检查该字段是否具有值。如果是这样：更新与 insert_id 对应的 db 行，否则，insert_id 为空，因此您需要插入。插入时，使用 jQuery 加载具有当前 insert_id 的隐藏字段。

# java - 日历小时设置为 0，但显示为 1，为什么？

> ID：12351267
> 
> 赞同：5
> 
> 时间：2012-09-10T12:00:56.433
> 
> 标签：java, datetime, calendar, timezone

我在使用 Java 日历时遇到了一个奇怪的问题。

以下代码从午夜开始的日期连续添加 3 小时。

```
public static void main(String[] args) {

    Calendar now = Calendar.getInstance(TimeZone.getTimeZone("GMT+0"));

    // Setting to January 29th, 1920 at 00:00:00
    // now.setTimeZone(TimeZone.getTimeZone("GMT+0"));
    now.set(Calendar.YEAR, 1920);
    now.set(Calendar.MONTH, 0);
    now.set(Calendar.DAY_OF_MONTH, 29);
    now.set(Calendar.HOUR_OF_DAY, 0);
    now.set(Calendar.MINUTE, 0);
    now.set(Calendar.SECOND, 0);
    now.set(Calendar.MILLISECOND, 0);       

    now.setLenient(false);

    int threeHours = 1000 * 60 * 60 * 3;

    SimpleDateFormat sdf
        = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss SSS");

    for (int i=0;i<25;i++) {

        System.out.println(sdf.format(now.getTime()));
        now.add(Calendar.MILLISECOND, threeHours);

    }

} 
```

然而，显示的结果是：

```
1920-01-29 01:00:00 000
1920-01-29 04:00:00 000
1920-01-29 07:00:00 000
1920-01-29 10:00:00 000
1920-01-29 13:00:00 000
1920-01-29 16:00:00 000
1920-01-29 19:00:00 000
1920-01-29 22:00:00 000
1920-01-30 01:00:00 000
1920-01-30 04:00:00 000
1920-01-30 07:00:00 000
1920-01-30 10:00:00 000
1920-01-30 13:00:00 000
1920-01-30 16:00:00 000
1920-01-30 19:00:00 000
1920-01-30 22:00:00 000
1920-01-31 01:00:00 000
1920-01-31 04:00:00 000
1920-01-31 07:00:00 000
1920-01-31 10:00:00 000
1920-01-31 13:00:00 000
1920-01-31 16:00:00 000
1920-01-31 19:00:00 000
1920-01-31 22:00:00 000
1920-02-01 01:00:00 000 
```

为什么第一个小时是 1 而不是 0？我位于 GMT+1，这可能是相关的吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-10T12:03:17.007

使用`now.getTime()`获取`Date`没有时区的。

尝试设置时区

```
sdf.setTimeZone(now.getTimeZone()); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-06-07T11:58:15.830

我想你应该使用 now.set(Calendar.HOUR, 0); 而是 now.set(Calendar.HOUR_OF_DAY, 0);

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T12:09:14.030

现在它应该可以正常工作了

```
 Calendar now = Calendar.getInstance();
        TimeZone timezone = TimeZone.getTimeZone("GMT+0");
        now.set(Calendar.YEAR, 1920);
        now.set(Calendar.MONTH, 0);
        now.set(Calendar.DAY_OF_MONTH, 29);
        now.set(Calendar.HOUR_OF_DAY, 0);
        now.set(Calendar.MINUTE, 0);
        now.set(Calendar.SECOND, 0);
        now.set(Calendar.MILLISECOND, 0);       
        now.setLenient(false);
        int threeHours = 1000 * 60 * 60 * 3;
        SimpleDateFormat sdf
            = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss SSS");
        sdf.setTimeZone(timezone);
        for (int i=0;i<25;i++) {
            System.out.println(sdf.format(now.getTime()));
            now.add(Calendar.MILLISECOND, threeHours);
        } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-07-11T05:36:13.377

# javascript - 在 IE8 上使用 jQuery 克隆 HTML5 元素和事件

> ID：12351271
> 
> 赞同：4
> 
> 时间：2012-09-10T12:01:33.523
> 
> 标签：javascript, jquery, html, internet-explorer

我正在尝试使用 jQuery 1.8.1 克隆 HTML5 元素，但[此示例 jsbin](http://jsbin.com/ogebeg/13/edit)在 IE<9 上失败（未克隆元素）

代码（简化）

```
<head>
  <script src="http://code.jquery.com/jquery-1.8.1.min.js"></script>

  <!--[if lt IE 9]>
     <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>

<body>

  <section>My section</section>
  <button>Clone section</button>
  ...

  <script>
  var section = $('section');
  $('button').on('click', function() {
    var clone = section.clone(true);
    $(clone).insertAfter($('section:last'));
  }); 

  $('section').on('click', function() {
     alert('hey, I am a section');
  }); 
  </script>

</body> 
```

当然，这是一个简化的演示。在我的真实代码中，我有许多带有多个事件的嵌套元素：

**我的问题**

1.  这是 jQuery 的错误还是我在代码中遗漏了什么？

2.  因为我也在克隆与节点关联的事件，我可以使用哪种优雅的替代方法来重现同样`clone()`在 IE<9 上的相同行为？

到目前为止，我发现的唯一解决方法是通过复制所有节点`html()`，通过附加它们`append()`并重构我的代码，利用与这些节点关联的事件的**事件委托**，就像这样

```
 $('body').on('click', 'section', function() {
     alert('hey, I am a section');
  }); 
```

但我对不同的想法持开放态度：我可以使用更优雅/高性能/更简单/更快的方法吗？

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-10T13:27:46.697

我想在所有评论之后，我不妨将其添加为答案：问题似乎是您需要一个 html5 垫片（如[html5shiv](https://code.google.com/p/html5shim/)），并且需要在您的 HTML5 元素出现之前加载它（以免解析器感到困惑）。[`defer`JSBin 自动添加](https://github.com/remy/jsbin/issues/217)的属性打破了这种行为。

没有垫片，元件就会分解。DOM 最终看起来像这样：

```
<section/>
My section
</section/> 
```

（正如在 IE8 开发工具中看到的那样——你必须至少佩服这里的解释创造力）

这会破坏所有相关的选择器（因此为什么您发布的[JSBin 项目](http://jsbin.com/ogebeg/13/edit)中的文本不是绿色的）。所有其他调用（插入、追加等）仍在工作的原因是您提供的 html 是相同的（并且会以相同的方式被错误解析）。

解决方案是在您的元素出现之前强制 shim 完全加载，如我发布的[jsFiddle 反例所示。](http://jsfiddle.net/Hhxsg/)

希望这可以解决您的问题。我提交了一个[关于由 defer 属性引起的问题的 JSBin 问题](https://github.com/remy/jsbin/issues/334)。

更新：这现在应该在 jsbin 中修复。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-10T12:10:35.977

嗨，我认为问题确实出在`<section>`IE8 无法理解，我已经尝试克隆按钮并且代码运行顺利:-)

我已尝试更改您的 JavaScript 以使其在 IE9 上运行：（不适用于 < IE9）

```
<script>
  var section = $('section');
  $('button').on('click', function() {
    var clone = section.clone(true);
    $(clone).insertBefore($('section:last'));  //CHANGE From insertAfter to InsertBefore
  }); 

  $('section').on('click', function() {
     alert('hey, I am a section');
  }); 
  </script> 
```

现在它看起来适用于 IE9 和其他浏览器。

或者如果您特别关注放置新克隆脚本将更改如下：

```
var section = $('section');
var button = $('button')
$('button').on('click', function() {
    var clone = section.clone(true);
    console.log(clone);
  $(clone).insertBefore($('button'));
}); 
$('section').on('click', function() {
  alert('hey, I am a section');
}); 
```

# c# - 为什么 ((int?) 1).GetType() 返回 typeof(int)？

> ID：12351279
> 
> 赞同：8
> 
> 时间：2012-09-10T12:01:54.193
> 
> 标签：c#, .net, .net-4.0, nullable

> **可能重复：**
> [可空类型不是可空类型？](https://stackoverflow.com/questions/785358/nullable-type-is-not-a-nullable-type)
> [为什么 GetType 返回 System.Int32 而不是 Nullable<Int32>？](https://stackoverflow.com/questions/6931783/why-gettype-returns-system-int32-instead-of-nullableint32)

我预计`((int?) 1).GetType()`会返回`typeof(int?)`，但事实证明它会返回`typeof(int)`：

```
bool a = ((int?)1).GetType() == typeof(int?); // a is false
bool b = ((int?)1).GetType() == typeof(int); // b is true 
```

尽管如此，诸如`((int?) 1).HasValue`编译和运行之类的代码还是很好的。

为什么强制转换一个`int`返回`int?`一个`int`？

`1`请注意，如果我将常量 ( ) 替换为某个`int`-variable ，这也适用。

# c - 方法内的指针和函数调用

> ID：12351280
> 
> 赞同：-2
> 
> 时间：2012-09-10T12:01:57.113
> 
> 标签：c, pointers

我遇到了几个编译错误，但我无法弄清楚。这可能很简单，但我无法弄清楚。我猜对指针的引用必须改变，但我不知道到底是什么。我试图更改指针，但它仍然会出错。我将不胜感激。这些错误是：

```
 passing argument 1 of 'compare' from incompatible pointer type
  expected 'struct person *' but argument is of type 'char *'
  passing argument 2 of 'compare' from incompatible pointer type
  expected 'struct person *' but argument is of type 'char *'

  struct person *insert(struct person *head, char *personName, int personAge, int        (*compare)(struct person *a, struct person *b)) 
  {  
    struct person *new;

    new = (struct person*)malloc(sizeof(struct person));
    if(new == NULL)
    fprintf(stderr,"Couldn't allocate memory!");

    new->name = personName;
    new->age = personAge;  

    if(head == NULL)
    { 
      new->next = head;
      head = new; 
    }

    else
    {
      while(head != NULL)
      head = head->next;

      //compile errors
      if(compare(new->name,head->name) < 0)
      { 
        new->next=head;
     head->next=NULL;
      }

      else
      {
        head->next = new;
        new->next = NULL;
      }
    }//else  
      return head;

  }//method

  //----------------------------compare--------------------------------//
   int compare(struct person *a, struct person *b)
   {
      int result = strcmp(a->name, b->name);
      return result;
   } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:04:23.413

只是尝试`compare(new->name,head->name)`替代`compare(new, head)`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T12:04:42.860

你不应该使用`compare(new,head)`代替`compare(new->name,head->name)`吗？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T12:04:17.057

您的`compare`函数需要 2 个`person`指针，但您传递给它 2 个`char`指针（名称）。

# three.js - Three.js 更新 TubeGeometry 对象的网格

> ID：12351281
> 
> 赞同：6
> 
> 时间：2012-09-10T12:01:57.440
> 
> 标签：three.js

我正在尝试创建一个管子以及与该管子交互的能力，例如拖动鼠标以更改管子的起点/终点。为此，我直接修改顶点位置值，我想更新场景中的对象

但是，我遇到了我正在使用的管对象的问题：当我更新路径点时，网格对象不会在屏幕上更新，所以在它创建后我似乎无法修改它。

我的 3d 对象创建大致是这样的：

```
var curve = new THREE.SplineCurve3([new THREE.Vector3(x, y, z), new THREE.Vector3(x2, y2, z2)]);
var geometry = new THREE.TubeGeometry(curve, segments, 2, radiusSegments, closed);
geometry.dynamic = true;
var tubeMesh = THREE.SceneUtils.createMultiMaterialObject(geometry, [new THREE.MeshBasicMaterial({color: 0xffffff, opacity: 1, transparent: true})]);
scene.add(tubeMesh); 
```

当我想更新积分时。我这样做是这样的：

```
tubeMesh.children[0].geometry.path.points[0] = new THREE.Vector3(x4, y4, z4));
tubeMesh.children[0].geometry.path.points[1] = new THREE.Vector3(x3, y3, z3));
tubeMesh.children[0].geometry.verticesNeedUpdate = true; 
```

但是，当我进行更改时，对象似乎没有在屏幕上更新。可以用 Tube 做到这一点吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-10T13:28:24.647

您只提供了代码片段，但您可能需要

```
geometry.verticesNeedUpdate = true; 
```

和

```
geometry.dynamic = true; 
```

您可以在 Three.js wiki 中找到更多关于如何使用 .js 更新内容的详细信息和示例`WebGLRenderer`。

[https://github.com/mrdoob/three.js/wiki/Updates](https://github.com/mrdoob/three.js/wiki/Updates)

# java - 使用可从 Applet 使用的代码扩展 Java

> ID：12351290
> 
> 赞同：0
> 
> 时间：2012-09-10T12:02:25.113
> 
> 标签：java, jar, extensibility

我想用我自己制作的类来扩展 Java，以便可以从 Java 小程序中使用它们。我尝试将 JAR 文件放到 lib 和 lib/ext 文件夹中，但它们仍然不是全局可见的。

为了让 Java 加载我的类，我还需要做些什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:12:31.580

出于很多原因，您不应该将您的类放入 JRE 的 lib 文件夹中。其中之一是您不能在客户端机器上执行此操作，即您的用户的机器将通过他的网络浏览器运行您的小程序。

您必须在文件中的`applet`标记中提供正确的类路径。`html`

# c# - 使用 WPD（Windows 便携式设备）API 传输图像文件时出错

> ID：12351294
> 
> 赞同：4
> 
> 时间：2012-09-10T12:02:35.670
> 
> 标签：c#, wpd

我一直在尝试使用 WPD API 在 c# 中编写一个示例应用程序，用于将图像文件传输到连接的 WPD 支持的设备。我一直在关注[这个](http://cgeers.com/2012/04/17/wpd-transfer-content-to-a-device/)链接。我的问题是每次我尝试传输文件时都会收到错误消息：值不在预期范围内。有没有人尝试过成功地做同样的事情。任何指针都受到高度赞赏。

下面是我面临错误的代码片段

```
IPortableDeviceContent content;
        this._device.Content(out content);

        IPortableDeviceValues values = 
            GetRequiredPropertiesForContentType(fileName, parentObjectId);

        PortableDeviceApiLib.IStream tempStream;
        uint optimalTransferSizeBytes = 0;
        content.CreateObjectWithPropertiesAndData(
            values,
            out tempStream,
            ref optimalTransferSizeBytes,
            null);           

        System.Runtime.InteropServices.ComTypes.IStream targetStream = 
            (System.Runtime.InteropServices.ComTypes.IStream) tempStream;
        try
        {
            using (var sourceStream = 
                new FileStream(fileName, FileMode.Open, FileAccess.Read))
            {
                var buffer = new byte[optimalTransferSizeBytes];
                int bytesRead;
                do
                {
                    bytesRead = sourceStream.Read(
                        buffer, 0, (int)optimalTransferSizeBytes);
                    IntPtr pcbWritten = IntPtr.Zero;
                    targetStream.Write(
                        buffer, (int)optimalTransferSizeBytes, pcbWritten);
                } while (bytesRead > 0);
            }
            targetStream.Commit(0);
        }
        finally
        {
            Marshal.ReleaseComObject(tempStream);
        } 
```

错误出现在 targetStream.Write(... 下面是我设置参数的方式。我认为我正在设置的参数有问题，或者我缺少一些必需的参数。

```
IPortableDeviceValues values = 
            new PortableDeviceTypesLib.PortableDeviceValues() as IPortableDeviceValues;

        var WPD_OBJECT_PARENT_ID = new _tagpropertykey();
        WPD_OBJECT_PARENT_ID.fmtid = 
            new Guid(0xEF6B490D, 0x5CD8, 0x437A, 0xAF, 0xFC, 
                     0xDA, 0x8B, 0x60, 0xEE, 0x4A, 0x3C);
        WPD_OBJECT_PARENT_ID.pid = 3 ;
        values.SetStringValue(ref WPD_OBJECT_PARENT_ID, parentObjectId);

        FileInfo fileInfo = new FileInfo(fileName);
        var WPD_OBJECT_SIZE = new _tagpropertykey();
        WPD_OBJECT_SIZE.fmtid = 
            new Guid(0xEF6B490D, 0x5CD8, 0x437A, 0xAF, 0xFC, 
                     0xDA, 0x8B, 0x60, 0xEE, 0x4A, 0x3C);
        WPD_OBJECT_SIZE.pid = 11;            
        values.SetUnsignedLargeIntegerValue(WPD_OBJECT_SIZE, (ulong) fileInfo.Length);

        var WPD_OBJECT_ORIGINAL_FILE_NAME = new _tagpropertykey();
        WPD_OBJECT_ORIGINAL_FILE_NAME.fmtid = 
            new Guid(0xEF6B490D, 0x5CD8, 0x437A, 0xAF, 0xFC, 
                     0xDA, 0x8B, 0x60, 0xEE, 0x4A, 0x3C);
        WPD_OBJECT_ORIGINAL_FILE_NAME.pid = 12;
        values.SetStringValue(WPD_OBJECT_ORIGINAL_FILE_NAME, Path.GetFileName(fileName));

        var WPD_OBJECT_NAME = new _tagpropertykey();
        WPD_OBJECT_NAME.fmtid = 
            new Guid(0xEF6B490D, 0x5CD8, 0x437A, 0xAF, 0xFC, 
                     0xDA, 0x8B, 0x60, 0xEE, 0x4A, 0x3C);
        WPD_OBJECT_NAME.pid = 4;
        values.SetStringValue(WPD_OBJECT_NAME, Path.GetFileName(fileName));

        var WPD_OBJECT_FORMAT = new _tagpropertykey();
        WPD_OBJECT_FORMAT.fmtid = new Guid(0xef2107d5, 0xa52a, 0x4243, 0xa2, 0x6b, 0x62, 0xd4, 0x17, 0x6d, 0x76, 0x03);
        WPD_OBJECT_FORMAT.pid = 6;
        values.SetGuidValue(WPD_OBJECT_FORMAT, WPD_OBJECT_FORMAT.fmtid); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T18:35:38.800

如果您可以提供更多详细信息（例如哪一行代码给出此错误、您尝试使用的 WPD 设备的制造商/型号等），将会很有帮助。

此错误相当普遍，可能意味着参数格式不正确，或者您在调用 CreateObjectWithPropertiesAndData 时给出的参数超出范围。如果是这种情况，那么将有助于显示您传递给设备的参数值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-06-18T17:10:33.787

我已经处理同样的错误很长一段时间了，我想我可能已经找到了。就我而言，问题出在代码设置 WPD_PARENT_OBJECT_ID

在大多数示例中，我看到每个人都这样设置对象 ID：

```
string parentObjectId = "InternalStorage/SomeFolder/Parent";

var WPD_OBJECT_PARENT_ID = new _tagpropertykey();
WPD_OBJECT_PARENT_ID.fmtid = 
    new Guid(0xEF6B490D, 0x5CD8, 0x437A, 0xAF, 0xFC, 
             0xDA, 0x8B, 0x60, 0xEE, 0x4A, 0x3C);
WPD_OBJECT_PARENT_ID.pid = 3 ;
values.SetStringValue(ref WPD_OBJECT_PARENT_ID, parentObjectId); 
```

但实际上，他们确实想要文件夹的 id，这与文件夹路径完全不同。

```
//The object id depends on what the device assigns to the folder
string parentObjectId = "o6AC"; //Just as an example from my device

var WPD_OBJECT_PARENT_ID = new _tagpropertykey();
WPD_OBJECT_PARENT_ID.fmtid = 
    new Guid(0xEF6B490D, 0x5CD8, 0x437A, 0xAF, 0xFC, 
             0xDA, 0x8B, 0x60, 0xEE, 0x4A, 0x3C);
WPD_OBJECT_PARENT_ID.pid = 3 ; 
```

当我以这种方式设置值时，目标流写入设备没有问题。

只是为了一些额外的背景信息，对象 id 来自 IPortableDeviceContent 变量

```
IPortableDeviceContent content;
Device.Content( out content ); //Device should be set elseware

IEnumPortableDeviceObjectIDs objectIds;
content.EnumObjects( 0, parent.Id, null, out objectIds );

//objectIds is a collection of all the objects
uint fetched; //lets us know if an object was grabbed or not

//This is the actual Object Id of that specific folder on the device
//Populated by the ObjectIds.Next function
string ActualObjectId;

objectIds.Next( 1, out ActualObjectId, ref fetched ); 
```

无论如何，我希望这会有所帮助！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-12-01T01:06:26.430

万斯帕拉西奥的答案有效！

[您可以从此处 ( https://dl.dropboxusercontent.com/u/40603470/WPDTransferToDevice.zip](https://dl.dropboxusercontent.com/u/40603470/WPDTransferToDevice.zip) )下载示例的源代码（使用 WPDApi 将文件传输到便携式设备）。请记住使用文件夹的 ID（例如 o6AC）而不是完整路径。

```
var devices = new PortableDeviceCollection();
devices.Refresh();
var kindle = devices.First();
kindle.Connect();

kindle.TransferContentToDevice(@"d:\temp\Kindle_Users_Guide.azw", "06AC");

kindle.Disconnect(); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2019-03-11T22:52:43.340

我找了很长时间想出一个完整的解决方案，就是这样。

我首先想给 Christophe Geer 一个很大的帮助。他是我发现的唯一一个在 c# 中使用 WPD（Windows 便携式设备）将数据传输到手机的示例。

我只需要修复一些错误，并且只添加了一些缺少的重要功能，例如文件大小和复制文件夹。

结果是一组可用于执行大部分所需 CRUD 操作的 PortableDevice 文件。

查看我的 github 站点以获取代码和更多详细信息：

[https://github.com/pstorli/WPDFileTransfer](https://github.com/pstorli/WPDFileTransfer)

# character-encoding - Playframework 1.2.4 renderPDF：希腊语未显示

> ID：12351301
> 
> 赞同：0
> 
> 时间：2012-09-10T12:02:54.693
> 
> 标签：character-encoding, playframework, pdf-generation, playframework-1.x

我正在使用 playframework 1.2.4 和 pdf 模块 0.9。

当我调用 render() 时，在生成的 html 文件中一切正常。

但是在 renderPDF() 中，希腊字符根本不显示。

还有其他人有这个问题吗？

你是怎么解决的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:47:49.733

盖亚，

我认为您的问题与字体或编码有关（Play！Framework 仅使用 UTF-8）。您还需要进行一些其他配置。

我认为你必须在你的 conf 文件中添加这一行

```
yahp.FOP_TTF_FONT_PATH = public/ui/fonts 
```

然后添加您喜欢的字体。尝试使用 DejaVu 作为包含希腊语的字体。

如果这不起作用，请阅读此线程。

[https://groups.google.com/forum/?fromgroups=#!topic/play-framework/Zt7l3-CoY4U](https://groups.google.com/forum/?fromgroups=#!topic/play-framework/Zt7l3-CoY4U)

应该是和你一样的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-15T00:21:49.603

我已经处理这个问题一段时间了，我想清理一下。

1）您不能在 中指定单个文件`yahp.FOP_TTF_FONT_PATH`，它必须是带有字体的**目录（对我来说，从属性名称中并不明显）。**可接受的格式仅为 .ttf（但您可以将 otf 更改为 ttf）

2）你不需要`@font-face`在你的css中使用新字体。您需要指定以**字体规范编写的**`font-family`属性名称。

# c++ - gdb 控制跳转到随机位置

> ID：12351303
> 
> 赞同：0
> 
> 时间：2012-09-10T12:02:56.243
> 
> 标签：c++, gdb, controls

这是我要调试的代码片段：当我尝试使用 GDB 进行调试时，循环结束后`for i = 0`，它不会跳转到循环内的第一行`for i = 1`。相反，它跳到中间的另一行，然后跳到第一行。我无法弄清楚为什么以及如何解决它。请给我你的意见。

```
for(i = 0; i < fileSum; i++)
{
    char *fileName ; //= NULL;
//  fileName = GetFileName(dataset->groundTruthFolder, trainImageFiles[i], dataset->groundTruthExtension);

    fileName = new char[strlen(dataset->groundTruthFolder) + strlen(trainImageFiles[i]) + strlen(dataset->groundTruthExtension) + 1];
    sprintf(fileName, "%s%s%s", dataset->groundTruthFolder, trainImageFiles[i], dataset->groundTruthExtension);
    printf("GetFileName: fileName-%s \n", fileName);

    LLabelImage groundTruth(fileName, domain);
//      delete[] fileName;
//      fileName = NULL;

    int width = groundTruth.GetWidth(), height = groundTruth.GetHeight();

    int subWidth = (width + subSample - 1) / subSample;
    int subHeight = (height + subSample - 1) / subSample;

    for(k = 0; k < subHeight; k++) for(j = 0; j < subWidth; j++)
    {
        unsigned char gtVal = groundTruth(j * subSample, k * subSample, 0);
        if(gtVal > 0) classCounts[gtVal - 1]++, total++;
        printf("k = %d,j = %d, gtVal = %d\n", k, j, gtVal);
    }
    int dummy = 0; 
    printf("i = %d\n", i);
} 
```

这是 gdb 控制台的快照：

```
Breakpoint 2, LDenseUnaryPixelPotential::InitTrainData (this=0x80aad08, trainImageFiles=...) at potential.cpp:665
665         int dummy = 0; 
(gdb) n
666         printf("i = %d\n", i); 
(gdb) n
i = 1
650         LLabelImage groundTruth(fileName, domain);
(gdb) n
640     for(i = 0; i < fileSum; i++)
(gdb) n

Breakpoint 1, LDenseUnaryPixelPotential::InitTrainData (this=0x80aad08, trainImageFiles=...) at potential.cpp:645
645         fileName = new char[strlen(dataset->groundTruthFolder) + strlen(trainImageFiles[i]) + strlen(dataset->groundTruthExtension) + 1];
(gdb) 
```

请注意，控制是从 666 到 650 再到 640，而不是直接从 666 到 640。

以前，我使用 -g 选项编译，现在我使用**-g -O0**选项编译。同样的问题仍然存在。

这是我的Makefile：

```
CC  =   g++
OBJS    =   main.o
SOURCES =   main.cpp
LIBS    =       -lIL -pthread
EXE =   ale
FLAGS   = -g -O0 -Wno-write-strings

$(EXE): .
    $(CC) $(FLAGS) -c $(SOURCES) -o $(OBJS)
    $(CC) -o $(EXE) $(OBJS) $(LIBS)
clean: 
    rm -rf *.o ale 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-31T05:06:46.543

实际上，我进一步调试发现，当控件到达循环结束时，正在调用“LLabelImage”的析构函数来删除数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T14:13:30.803

> 当我尝试使用 GDB 进行调试时，在 i = 0 的循环结束后，它不会跳转到 i = 1 的循环内的第一行。

这不应该发生在`-O0`-compiled 代码中。

要么你*没有真正*编译那种方式（如果你编译了一个可执行文件，但错误地调试了另一个可执行文件，就会发生这种情况），或者你的 GCC 坏了，并生成了错误的调试行信息。

# hibernate - 哪个更好：JPA 或 Hibernate 注释？

> ID：12351312
> 
> 赞同：0
> 
> 时间：2012-09-10T12:03:17.503
> 
> 标签：hibernate, jpa

我对这两个注释 API 感到困惑。我用谷歌搜索并了解 JPA 是接口，而 Hibernate 注释是实现。是对的吗？

但是我应该在我的项目中使用哪一个？哪个更好，为什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-10T12:04:38.023

我会选择 JPA，因为您可以随时通过更改一行轻松更改实现（即 JPA 供应商）。Hibernate 和 OpenJPA 等其他供应商，Toplink 提供 JPA 标准的实现。
关于注解，JPA 和 Hibernate 都提供了对`javax.persistence`注解的支持。

**JPA 与休眠**

> a) JPA 是您的代码应该使用的 Persistence Api。
> 
> b) JPA Api 会将调用传递给实际的持久性提供者（例如：Hibernate/TopLink）以完成实际工作。
> 
> c）如果您从性能方面来看，它将取决于实际的持久性提供程序（Hibernate/TopLink），而不是 JPA 作为它的包装层。
> 
> d) 如果您从代码依赖方面来看，JPA 更有意义，因为您的代码依赖于标准 Java Api。
> 
> e) 如果您使用过 Hibernate，那么您会发现 JPA 中缺少某些功能，例如条件查询等。这并不意味着您不能在应用程序中编写条件查询，您需要从 JPA 实体管理器获取 Session 对象和现在你和hibernate项目一样好。
> 
> 但是现在您的代码依赖于特定的 impl (Hibernate)，接下来您可以看到 JPA (2.0) 中添加了更多内容
> 
> f) 你是否应该使用 JPA：我认为你应该使用，API 是干净的，虽然你需要的东西不是它们，但这是向前迈出的一大步。

**[来源链接](http://elope.wordpress.com/2007/09/06/difference-between-jpa-and-hibernate/)**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T12:06:53.870

基本上，Hibernate 实现了 JPA 规范，并在规范之上添加了更多特性。因此，特定于 Hiberate 的注释是那些添加的功能。因此，您使用 JPA 注释，直到遇到强制您使用 Hibernate 特定功能的映射，然后您需要使用它们的注释来获取这些功能。

# c++-cli - 多个表单覆盖彼此的变量

> ID：12351321
> 
> 赞同：-1
> 
> 时间：2012-09-10T12:03:53.913
> 
> 标签：c++-cli, multiple-forms

我在 C++/CLI 中制作多个 Windows 窗体以同时运行测试，我可以这样做，但我在我的类中将变量定义为私有，但是当第二个窗体写入其变量版本时，它会为所有其他窗体版本覆盖它这个变量的。

```
array<String^>^args = Environment::GetCommandLineArgs();
             int args1 = System::Convert::ToInt16(args[1]);
             int i;
             #pragma omp parallel for 
              for(i = 0; i < args1; i++)
              {
                Sleep(1000);
                Form1^ form1 = gcnew Form1(i);
                form1->Show();
              }

private ref class Form1 : public System::Windows::Forms::Form
{
private:
static int formnumber;
static SerialPort^ serialPort = gcnew SerialPort();
public:
    Form1(int formnum)
    {
        array<String^>^args = Environment::GetCommandLineArgs();
        formnumber = formnum;
        int a = 65;
        jigid = a + formnum;
        comnumber = formnumber + Convert::ToInt16(args[2]);
        InitializeComponent();
    }
} 
```

当我创建 2 个表单时，formnum 将始终为 1，以供以后在表单中使用，因为第二个表单的创建覆盖了第一个表单中的 formnum。我怎样才能使表格不能覆盖彼此的变量？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:06:39.457

不要声明它们是静态的！............

# wpf - 如何在选择列表框中的项目时打开新的用户控件？

> ID：12351326
> 
> 赞同：1
> 
> 时间：2012-09-10T12:04:06.267
> 
> 标签：wpf, data-binding, mvvm, listboxitem

我是 MVVM 的新手。我有一个主项目“MVVM Demo”，其中包括 mainwindow.xaml 文件，它有我的主 UI。我有一个包含一组项目的列表框：

```
<ListBox Name="ButtonPanel" ItemsSource="{Binding BoardTabs}" SelectedItem="{Binding SelectedTab, Mode=TwoWay}" >
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel>
                            <TextBlock Text="{Binding Connect}"  >
                            </TextBlock>
                            <TextBlock Text="{Binding I2C}"  >
                            </TextBlock>
                            <TextBlock Text="{Binding Voltage}" >
                            </TextBlock>
                            <TextBlock Text="{Binding Clock}" >
                            </TextBlock>
                            <TextBlock Text="{Binding Codec}" >
                            </TextBlock>
                            <TextBlock Text="{Binding EEPROM}" >
                            </TextBlock>
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox> 
```

我需要列表框的每个项目分别打开一个新的用户控件。请注意，我在主项目（我的解决方案文件中的第二个项目）之外创建了一个单独的用户控件，并将其添加为对主项目的引用（板控制 mvvm）

Voltage 是 userControl 之一，它有一个 voltage.xaml 文件，我的 Ui 所在的文件有一个单独的视图、模型和视图模型类。当我单击位于 Board Control MVVM 项目中的 MainWindow.xaml 中的电压项（列表框中的文本块）时，它会弹出一个新窗口。

这是我的 ProductView 模型类，它从 mainwindow.xaml UI 中选择选项卡：

```
private Product m_SelectedTab;
    public Product SelectedTab
    {
        get
        {
            return m_SelectedTab;
        }

        set
        {
            m_SelectedTab = value;
            NotifyPropertyChanged("SelectedTab");
        }
    } 
```

我想知道当我在 Listbox(mainwindow.xaml) 中选择项目时，会弹出一个带有上面的 voltage.xaml UI 的窗口。如果您需要任何进一步的代码以进行清晰的描述，我很乐意在这里上传。

请帮忙 ：（

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-15T12:44:11.113

只是要清楚; 如果 Connect、I2C、Voltage 等是您想要在 ListBox 中的项目，那么上面的 Xaml 不是您想要的。因为每个项目都将具有所有这些 TextBlocks（因为您将 ItemTemplate 定义为几个 TextBlocks）。

相反，我假设您想要的是这些项目（连接、I2C 等）中的每一个都是您的 ListBox 的项目。再次假设您要做的唯一事情是打开另一个页面，然后您可以在每个 ListBoxItem 内使用 HyperlinkBut​​ton：

```
<ListBox x:Name="ListBoxItems" ItemsSource="{Binding Path=Items}">
            <ListBox.ItemTemplate>
                <DataTemplate>                        
                    <HyperlinkButton NavigateUri="{Binding Path=Page}">
                        <HyperlinkButton.Style>
                            <Style TargetType="HyperlinkButton">
                                <Setter Property="HorizontalContentAlignment" Value="Left"/>
                                <Setter Property="HorizontalAlignment" Value="Stretch"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="HyperlinkButton">
                                            <ContentPresenter/>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </HyperlinkButton.Style>
                        <TextBlock Text="{Binding Path=Name}" />                            
                    </HyperlinkButton>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox> 
```

这里 Name 和 Page 是 Item 类的属性，它表示您的每个项目（Connect、I2C 等），其中 Name 是名称（电压），Page 是 Uri，它指向您要打开的相应页面（/Voltage. xml)

ListBox 的 ItemsSource 绑定到 ViewModel 类的 Items 属性，其中 Items 是 Item 对象的 ObservableCollection：

```
ItemsViewModel viewModel = new ItemsViewModel() {
            Items = new ObservableCollection<Item>() { 
            new Item() { Name = "Item 1", Page = new Uri("/Page1.xaml", UriKind.Relative) },
            new Item() { Name = "Item 2", Page = new Uri("/Page2.xaml", UriKind.Relative) }}
        }; 
```

请注意，如果您想向页面传递额外的数据，您可以通过查询字符串 (/Voltage.xaml?param=blah) 执行此操作，或者您可以向每个项目添加命令并自己处理导航。

# artificial-intelligence - 通过地图查找路径的算法

> ID：12351329
> 
> 赞同：1
> 
> 时间：2012-09-10T12:04:17.327
> 
> 标签：artificial-intelligence

给定一个多维数组，其中 X 是墙，* 是目标位置。您如何在不陷入循环的情况下找到路径？

```
$map=
array( array("X","X"," ","*"),
       array(" ","X"," ","X"),
       array(" "," "," "," "),
       array(" ","X","X"," ")); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T13:09:31.967

首先，您需要一个为每个单元或节点提供有效邻居的函数。

然后，为了找到到达目标的最短路径，应该使用[广度优先搜索](http://en.wikipedia.org/wiki/Breadth_first_search)。如果您从起始位置开始并扩展节点直到达到目标，您将始终找到最短路径（如果有）。或者，您可以从目标开始并扩展，直到覆盖整个地图，您将获得*每个*起始位置到目标的最短路径（这当然只有在目标不移动时才有意义）。

为了不陷入循环，最重要的方面是保留已扩展节点的列表（或集合、映射或其他）。

对于更复杂的地图，或者当某些路径的不同“成本”发挥作用时，您可能更愿意使用 A* 或 Dijkstra 算法。

# android - PopUpWindow 和 Dialog 有什么区别？

> ID：12351330
> 
> 赞同：16
> 
> 时间：2012-09-10T12:04:18.567
> 
> 标签：android, android-dialog

基本上问题在标题中说明。使用一种或另一种有什么偏好吗？也许一些特定的任务比另一个更好/更有效/更好？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2017-02-01T11:55:44.037

**对话**

*“A`dialog`是一个小窗口，提示用户做出决定或输入其他信息。对话框不会填满屏幕，通常用于需要用户采取行动才能继续的模态事件。”*

`AlertDialog`有很多变体，据我可以假设您的问题，您也可以在对话框的右上角有一个十字按钮（您可以在任何地方设置图标，因为您可以为 AlertDialog 提供自定义布局）。

-能够添加任何视图

- 易于编辑

- 只需修改布局即可横向或纵向适应平板电脑或手机

- 可以专门开设一个全新的课程，以按照您的方式进行修改

**弹出窗口**

*“这个类代表一个`popup window`可用于显示任意视图的。弹出窗口是一个浮动容器，出现在当前活动的顶部。”*

`PopupWindow`是另一种在屏幕任意位置自定义自定义弹出窗口的工具。如果你总是在屏幕中间显示这个弹出窗口，那么我建议不要使用它。AlertDialog 应该可以正常工作。

- 更简单

- 更容易编码

- 它更标准，因此用户更难混淆它

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-01-31T08:16:11.707

对话框旨在对弹出事件采取受控操作，您需要在继续下一步之前采取行动。它可以自动调整，屏幕居中对齐。

但是 PopupWindow 是信息丰富的弹出窗口，它作为布局处理。它可以根据位置设置显示在屏幕的任何位置，您也可以将其与动画形式一起使用，因为它也有动画功能。

因此，如果您只想在弹出窗口中显示信息，那么我建议使用 PopupWindow，如果您想要一些动作控制，如“是”、“否”或任何决策动作，那么请使用 Dialog。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-06-15T15:39:40.060

这是弹出框和对话框之间的区别。一个对话框通常有一个问题（一个或多个），并且在框本身内有一个答案提示。例如，该框可能有一个对话框，上面写着“你想关闭窗口吗？可能有诸如取消、是、否之类的按钮。

因此，盒子和用户之间存在一个模拟对话。

在弹出框中，尽管可能需要从菜单、下拉列表等中进行输入或选择，但通常不会有对话框，因为框信息本身对用户来说是直观的。

希望这有助于为您澄清。

# excel-2010 - 如何从 Excel 单元格（2010）调用 VBA 函数？

> ID：12351339
> 
> 赞同：34
> 
> 时间：2012-09-10T12:04:42.970
> 
> 标签：excel-2010

我使用 VBA 在工作簿中定义了一些函数，然后希望能够在单元格公式中使用它们 - 但 Excel 无法识别该函数。我只是得到#NAME？

试过：

*   意识到我已经创建了一个 XSLX 文件，我将它转换为一个 XSLM 文件。没用。
*   从函数声明中删除了所有类型。没用。
*   将该函数移到工作表 VBA 模块中。没用。
*   在声明中添加了 Public。没用。

我错过了什么？

这也不是聪明的代码：

```
Function Square2(AnyNumber)

'return the square of any integer
Square2 = AnyNumber * AnyNumber

End Function 
```

* * *

## 回答 #1

> 赞同：53
> 
> 时间：2013-04-30T09:52:35.437

# 回答

将函数放在“ThisWorkbook”区域可能会导致`#NAME?`问题。创建一个新模块（右键单击 VBAProject 文件夹，插入，新建模块）并将函数放在那里。

# 脚步

1.  打开 VBA 编辑器（`Alt + F11`在 Windows 上/`Fn + Option + F11`在 Mac 上）
2.  右键单击**VBA 项目**
3.  选择**插入>>模块**
4.  在里面创建一个`Public`函数`Module1`，例如：

    ```
    Public Function findArea(ByVal width as Double, _
                             ByVal height as Double) As Double
        ' Return the area
        findArea = width * height
    End Function 
    ```

5.  从单元格中调用它，就像任何其他函数一样：`=findArea(B12,C12)`

[![宏截图](../Images/178b709d8fce46f1ee63410a514de598.png)](https://i.stack.imgur.com/TzBN4.png)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2016-02-17T19:02:08.330

在为以下工作苦苦挣扎之后，我遇到了同样的问题：

我的函数位于宏工作簿中名为 Personal.XLSB 的模块中。我在函数名称前加上个人宏工作簿文件名和！，所以如果函数名称是 theFunction(x,y) 我在单元格“=PERSONAL.XLSB!theFunction(x,y) 中输入。这行得通。

请注意，对我来说，PERSONAL.XLSB 始终以隐藏模式打开。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-01-19T17:36:09.297

确保您未处于设计模式。

在 excel 的开发人员选项卡上和 VBA 编辑器的运行/停止按钮旁边有一个设计模式按钮。如果它被选中，并且不允许您取消选择它，请尝试在启用宏的情况下重新打开工作簿。

如果它仍然启用，或者不会让宏运行，请确保启用了宏。

> 激活宏。
> 
> *   [Excel 2010](http://www.addictivetips.com/windows-tips/enable-all-macros-in-excel-2010/)
> *   [Excel 2007](http://grok.lsu.edu/Article.aspx?articleId=6144)

-- [https://stackoverflow.com/a/20659823/258482](https://stackoverflow.com/a/20659823/258482)

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2015-12-13T19:58:39.650

我有一个相同的问题，包括一个工作函数，后来停止工作并给出 #NAME 错误。通过确保模块的名称与函数的名称不同，我设法解决了这两个问题。我在 Module1 中有一个工作函数 F_1，我将模块名称更改为 F_1 并且它停止工作，现在回到 Module1 并且该函数再次工作。当我将模块名称从 F_2 更改为 Module2 时，我的第二个函数也开始工作。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-10T12:19:35.683

XLSX 文件和 XLSM 文件与它无关。格式在您保存文件时发挥作用。（在 XLSX 中，VBA 代码将在保存文件时被剥离）。

以下来自[http://office.microsoft.com/en-us/excel-help/creating-custom-functions-HA001111701.aspx](http://office.microsoft.com/en-us/excel-help/creating-custom-functions-HA001111701.aspx)的代码在我的 excel 的新模块中运行良好。

```
Function Discount(quantity, price)
    If quantity >= 100 Then
        Discount = quantity * price * 0.1
    Else
        Discount = 0
    End If
    Discount = Application.Round(Discount, 2)
End Function 
```

鉴于我看不到您的代码，您能否尝试以下功能是否也适合您？如果是这样，请开始修改下面的函数，使其成为您的函数（例如，首先更改名称并查看是否有效，然后更改参数数量并检查是否有效，然后更改参数名称）。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-09-11T16:08:35.160

我打开 Excel，打开代码编辑器（Alt+F11），选择新工作簿，插入新模块，输入

```
Function Decrement(i As Integer) As Integer
  Decrement = i - 1
End Function 
```

然后回到我的工作簿并在 A1 中键​​入 =Decrement(2) 并按 Enter 键，它起作用了。当我输入 =Decr... 时，函数的下拉列表中出现了减量...它被识别，并且有效。我什至不必保存工作簿。

我知道这不完全是你问题的答案，但这是我很幸运的食谱。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2015-03-17T14:11:14.957

我认为如果您的模块与您的函数同名，可能会有问题。尝试重命名您的模块或函数。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-12-18T13:43:12.500

激活宏。

*   [Excel 2010](http://www.addictivetips.com/windows-tips/enable-all-macros-in-excel-2010/)
*   [Excel 2007](http://grok.lsu.edu/Article.aspx?articleId=6144)

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2015-03-24T10:10:12.307

如果您使用的是最新版本的 Excel，要在另一个工作簿中查看 VBA 函数，您需要：

1.  将工作簿另存为 .xlsm

2.  按照上面的建议启用宏

3.  设置参考。在 VBA (Alt-F11) 中选择工具/参考，然后浏览到包含您要使用的宏的工作簿。检查列表中的参考。

    如果您收到有关模块名称冲突的错误消息，请先在项目资源管理器中重命名它。

# javascript - 正确输入的文字改变图像

> ID：12351340
> 
> 赞同：2
> 
> 时间：2012-09-10T12:04:49.420
> 
> 标签：javascript, jquery

我一直在开发一个脚本，当用户输入正确输入的文本时，图像会改变字母，让用户知道他们输入正确。

在此处预览：示例词是“吃”。 [http://jsfiddle.net/wjx6b/2/](http://jsfiddle.net/wjx6b/2/)

我确保它被设置为使用检查索引

```
$.each(text, function(index, item) 
```

我的问题是当我尝试将其设置为日语“taberu”之类的外来词时，我必须在每个 var 文本框中都有两个字母，像这样

```
var text = ['ta', 'be', 'ru']; 
```

但是当我设置它时，当我开始打字时没有任何反应。感谢任何能提供帮助的人！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:13:11.153

'typed' 数组中的值被一一访问，而在文本数组中，您将字符成对地作为一个值。因此，在这种情况下，您将一个字符与两个字符串进行比较（将“ta”与“t”、“be”与“a”、“ru”与“b”进行比较。当然，这永远不会相等）。

要考虑到这一点，您必须考虑“步长”（即图像分组的字符数）。然后，您可以使用 substring 将大小为“stepsize”的键入文本块与文本数组中的值进行比较。

[工作小提琴（你必须输入 aattee 而不是现在吃）](http://jsfiddle.net/wjx6b/5/)

[另一个小提琴，在这里你必须输入'taberu'](http://jsfiddle.net/wjx6b/6/)

[在这个小提琴 stepsize 是基于文本数组的第一项](http://jsfiddle.net/wjx6b/7/)

[如果文本数组中的值的长度不同，这个小提琴会动态检测步长（感谢 haynar 的建议）](http://jsfiddle.net/wjx6b/9/)

更新：这是最后一个示例的代码（感谢 Bob）：

```
var text = ['ta', 'ber', 'u'];

var happy = ['http://www.vendian.org/howbig/UnstableURLs/letter_a_poster.png',
         'http://chineseknotting.org/projects/knotty/T-carrick.jpg',
         'http://etc.usf.edu/presentations/extras/letters/varsity_letters/38/17/E-400.png'
        ];

var grumpy = $('img').map(function(){ return this.src; }).get(); //gets the original images from the HTML

$("#test").on('keyup', function() {
    var typed = this.value;
    var textOffset = 0;
    $.each(text, function(index, item) {
        var stepsize = text[index].length;
        if (typed.substring(textOffset, textOffset+stepsize) == text[index]) {
            $('li', 'ul').eq(index).find('img').attr('src', happy[index]);
        }else{
            $('li', 'ul').eq(index).find('img').attr('src', grumpy[index]);
        }

        textOffset += stepsize;
    });
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T12:18:16.227

[这](http://jsfiddle.net/wjx6b/8/)是适用于所有情况的 Fiddle 示例，不使用固定的元素大小，它取决于集合中每个元素的大小

```
var text = ['ta', 't', 'a', 'be', 'ru'];
var offset = 0;
var index = 0;

var happy = ['http://www.vendian.org/howbig/UnstableURLs/letter_a_poster.png',
             'http://chineseknotting.org/projects/knotty/T-carrick.jpg',
             'http://etc.usf.edu/presentations/extras/letters/varsity_letters/38/17/E-400.png',
             'http://chineseknotting.org/projects/knotty/T-carrick.jpg',
             'http://etc.usf.edu/presentations/extras/letters/varsity_letters/38/17/E-400.png'];

var grumpy = $('img').map(function(){ return this.src; }).get(); //gets the original images from the HTML

$("#test").on('keyup', function() {
    var typed = this.value;
    if (typed.substr(offset, text[index].length) == text[index]) {
        $('li', 'ul').eq(index).find('img').attr('src', happy[index]);
        offset += text[index].length;
        index++;
    }else{
        $('li', 'ul').eq(index).find('img').attr('src', grumpy[index]);
    }
}); 
```

我已经更新了脚本的逻辑，更新的版本可以在[这里](http://jsfiddle.net/wjx6b/13/)找到（感谢 Internal Server Error）​</p>

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T12:41:29.283

我喜欢的另一种方法是使用正则表达式。

从数组创建一个正则表达式：

```
var text = ['ta', 'ber', 'u'];
var regex = new RegExp('^' + $.map(text, function(val, i){ return '(.{'+val.length+'})?'; }).join(''),'i'); 
```

并匹配：

```
$("#test").on('keyup', function() {
    matches = $(this).val().match(regex);
    matches.shift();
    $.each(text, function(index, val){        
        if(val == matches[index]){
            $('li', 'ul').eq(index).find('img').attr('src', happy[index]);
        } 
        else {
            $('li', 'ul').eq(index).find('img').attr('src', grumpy[index]);
        }
    });
});
​ 
```

[演示](http://jsfiddle.net/wjx6b/14/)

# c# - 复选框通过在 asp.net 中取消选中而消失

> ID：12351341
> 
> 赞同：3
> 
> 时间：2012-09-10T12:04:50.513
> 
> 标签：c#, asp.net, web-applications

我的复选框有问题。例如，我有这个 aspx 的代码

```
<asp:Content ID="MainContent" ContentPlaceHolderID="MainContent" runat="server">
     <asp:CheckBox ID="chkActive" AutoPostBack="True" OnCheckedChanged="Active_OnCheckedChanged" runat="server"></asp:CheckBox>
     <asp:TextBox ID="txtName" runat="server"></asp:TextBox>
</asp:Content> 
```

在服务器端，当检查 chkActive 时，我有两个呈现的控件：

*   ctl00$MainContent$chkActive
*   ctl00$MainContent$txtName

当未选中 chkActive 时，我只有一个渲染控件：

*   ctl00$MainContent$txtName

所以我不能将该复选框的状态写入数据库。作为记录，我使用了带有动态对象的 SaveData 函数，并且 chkActive 在未选中时消失了，因此该函数找不到它。即使未选中复选框，任何想法都会出现？谢谢。

PS：“消失”表示未选中时它不再位于 Request.Form 中。

编辑：

我的 SaveData 函数：

```
public void SaveDate<T>(T entity, NameValueCollection attributes)
    {
        PropertyInfo[] properties = typeof(T).GetProperties();
        foreach (PropertyInfo property in properties)
        {
            if (attributes.AllKeys.Any(key => key.Contains("$" + property.Name)))
            {
                //
            }
        }            
    } 
```

para 属性来自 Request.Form，因为复选框不在 Request.Form 中，所以我不知道如何处理它。如果选中复选框，此功能效果很好

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:19:20.190

ASP.NET 使用`form`浏览器的本机功能将数据返回到服务器。

当您“选中”复选框时，数据将作为数据的一部分传回`Request.Form`，然后 ASP.NET 可以将此信息用作其回发生命周期的一部分，以了解复选框已“选中”。

但是，如果复选框**未**“选中”，则它在数据中**没有**条目`Request.Form`- ASP.NET 使用这种缺乏数据来知道该复选框不再被选中。

这是作为表单发布的一部分的复选框的正常行为。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:25:37.667

正如其他人所提到的，复选框（未选中）的值不会发送回服务器，因此它不会出现在`Request.Form`集合中。

但是......在您的函数中，使用可以使用服务器端对象，因为该值已发布回 ViewState（前提是您已打开）。

`this.chkActive.Checked`在客户端未选中并提交时，回发时应为 false。

如果您仍然想使用`Request.Form`，您可以随时检查该条目是否存在于集合中。如果不存在，则该复选框为假或未选中。

```
if(Request.Form["chkActive"] == null)
  // checkbox is unchecked
else
  // checkbox is checked 
```

***编辑***

要使复选框出现在`Request.Form`集合中，只需在表单中添加一个隐藏的输入，并将其命名为与复选框相同的名称。

```
<input type="hidden" value="false" name="chkActive" /> 
```

将客户端事件处理程序添加到复选框的 OnClick 事件。选中后，将隐藏输入的 disabled 属性设置为 true。取消选中时，将 disabled 属性设置为 false。禁用的控件不会像未选中的复选框一样发送回服务器，因此如果选中了复选框，则应禁用输入，反之亦然。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T12:20:08.037

复选框在未选中时没有任何价值，因此浏览器不会将它们包含在返回的字段中。这与 ASP.NET 无关，而与 HTML 表单的工作方式有关。

但是，ASP.NET WebForms 控件复选框知道它们的状态（感谢 viewstate）并且会指示它们是否被选中，只需直接查询复选框对象而不是使用 Request.Form 集合，如下所示：

```
if( this.chkActive.Checked ) { ... 
```

# android - 如何在android中解析编辑文本的日期时间格式？

> ID：12351343
> 
> 赞同：-4
> 
> 时间：2012-09-10T12:05:03.150
> 
> 标签：android, android-edittext

我正在通过 SOAP 方法在 android 中使用 dot net web 服务。

该Web服务具有`DateTime`格式形式的输入值，因此在我的项目中遇到了这个问题

```
"java.lang.NumberFormatException. unable to parse 01/01/2012 as integer" 
```

谁能告诉我，如何在 android 中解析日期时间格式

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:08:34.080

要从 2012 年 1 月 1 日开始解析日期，您应该使用 SimpleDateFormat。

```
SimpleDateFormat smf= new SimpleDateFormat("dd/MM/yyyy");
long time=smf.parse(dateField.getText().toString()).getTime(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:07:56.927

利用

```
SimpleDateFormat dfDate_m  = new SimpleDateFormat("dd/MM/yyyy");
Date d = dfDate_m.parse(str); 
```

单击[此处](http://developer.android.com/reference/java/text/SimpleDateFormat.html)以获取更多说明

# facebook-graph-api - Facebook Insights 统计数据中的 XButton 负面反馈类型

> ID：12351344
> 
> 赞同：1
> 
> 时间：2012-09-10T12:05:05.493
> 
> 标签：facebook-graph-api, facebook-insights

根据文档，应该有四种类型的帖子负面反馈：[https](https://developers.facebook.com/docs/reference/fql/insights/#negative_feedback) ://developers.facebook.com/docs/reference/fql/insights/#negative_feedback但我们经常得到一种称为“xbutton”的反馈类型。有谁知道这意味着什么？![](../Images/61bbf0671f125522fe8b3d9b5da48b63.png)

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-08T04:04:32.537

经过一番研究，另一位开发人员和我几乎肯定“xbutton”值是指用户点击帖子旁边的“x”按钮的次数，但不一定会实际采取行动在下拉列表中列出（例如隐藏帖子或隐藏该用户的所有帖子）。

请注意，所有“xbutton”值都**等于或高于**“hide”和“hide_all”计数的数量（表明它们需要在采取另一个动作之前点击“xbutton”）。

也许这是 Facebook 记录隐藏帖子*意图的方式。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-12-14T08:31:05.127

对于所有仍在寻找答案的人，最近我要求 facebook 支持同样的问题，文档更新为：

> xbutton_clicks - 已弃用。这不再记录

来源：[https ://developers.facebook.com/docs/graph-api/reference/v2.8/insights#negative_feedback](https://developers.facebook.com/docs/graph-api/reference/v2.8/insights#negative_feedback)

# c# - 使用/不使用 SSL/TLS 在客户端上验证 wcf 端点的最佳实践

> ID：12351349
> 
> 赞同：1
> 
> 时间：2012-09-10T12:05:36.237
> 
> 标签：c#, wcf, ssl, wcf-endpoint

我试图在有/没有 SSL/TLS 或端点的情况下捕获 wcf sercue 的所有异常，如下所示：

```
try
        {
            ServiceReference.ServiceClient serviceClient = new ChartLogicServiceClient();
            serviceClient.Open();
            serviceClient.Login("", "", "");
        }
        catch (SecurityNegotiationException negotiationException)
        {
            // Could not establish trust relationship for the SSL/TLS secure channel with authority 'localhost'.
            throw;
        }
        catch (ArgumentException argumentException)
        {
            // transport wrong config : The provided URI scheme 'https' is invalid; expected 'http'.
            //if (argumentException.Message == "The provided URI scheme 'http' is invalid; expected 'https'.\r\nParameter name: via")
            throw;
        }
        catch (MessageSecurityException messageSecurityException)
        {
            // transport wrong config: The HTTP request was forbidden with client authentication scheme 'Anonymous'.
            //- HTTP Request Error
            if (messageSecurityException.InnerException.Message == "The remote server returned an error: (403) Forbidden.")
            {
                throw;
            }
            else if (messageSecurityException.InnerException.Message == "The remote server returned an error: (404) Forbidden.")
            {
                throw;
            }
        }
        catch (EndpointNotFoundException endpointNotFoundException)
        {
            // no endpoint was found or IIS on server was turned off

        } 
```

我可以在不调用任何方法的情况下检查 wcf 服务的可用性（我尝试过 Open() 但根本不起作用）？不确定我是否从 WCF 服务中捕获所有异常情况？我的目的是如果客户端在 SSL/TSL 或没有端点时遇到 wcf 异常，我应该运行一个小型实用程序控制台来修复客户端上的 app.config 以映射到 wcf 端点和 . 我真的需要你的建议。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T12:13:05.603

您可以随时尝试连接到服务的 URL 并检查响应代码。也许不是最好的方法，但它应该工作。例如

```
GET mysite/myservice.svc 
```

并检查 HTTP 状态代码。

# ios - performSelector:withObject:afterDelay: 不排队选择器

> ID：12351350
> 
> 赞同：1
> 
> 时间：2012-09-10T12:05:45.293
> 
> 标签：ios, objective-c, grand-central-dispatch, nsrunloop

我已经设置了一个块以在不同的队列上运行并在延迟后调用另一个方法：

```
piemanQ = dispatch_queue_create(PIEMAN_QUEUE_NAME, NULL);
dispatch_async(piemanQ, ^{
    [self performSelector:@selector(sendReadyToPieman) withObject:nil afterDelay:1.0];
}); 
```

我预计一秒钟后`@selector(sendReadyToPieman)`会发生火灾，但是什么也没发生。我已经通读了 doco `performSelector:withObject:afterDelay:`，它谈到了通过当前队列上的计时器添加的方法。我检查了当前队列运行循环模式，但它返回 nil。

我确定我以前做过这种代码，但是我在两个不同的地方尝试过，在这两种情况下它都没有运行。但是，如果我将其替换为`dispatch_after(...)`一切正常。

任何人都可以解释一下吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T13:33:16.687

我的猜测是：dispatch_async 执行它所说的，它使以下内容异步运行。你排队你的选择器，然后块完成，整个异步事情就消失了。当然，包括排队选择器。

为了让 performSelector 做任何事情，线程需要处于活动状态，并且需要执行 runloop。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T13:33:22.283

您应该将操作放在 NSOperationQueue 上：

```
NSOperationQueue *piemanQ = [[NSOperationQueue alloc] init];
piemanQ.name = @"some name";
[piemanQ addOperationWithBlock:^{
    [self performSelector:@selector(sendReadyToPieman) withObject:nil afterDelay:1.0];
}]; 
```

这是自动异步的。最好使用 Objective-C 解决方案而不是 C 解决方案来解决问题。

# c# - 如何使用 C# windows 应用程序将 multipart/form-data 发布到网站

> ID：12351355
> 
> 赞同：0
> 
> 时间：2012-09-10T12:06:01.633
> 
> 标签：c#

谁能帮我解决使用以下代码发布多部分/表单数据的问题。

我不知道该怎么做。

[请参考帖子问题](https://stackoverflow.com/questions/10974468/why-do-i-receive-this-error-the-remote-server-returned-an-error-417-expectat)中的函数 PostTrivialData

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:36:39.817

这是将多部分数据发布到 URI 的代码：

```
public string UploadChatFile(Stream fileStream, string uri, string postData, string fileName)
        {
            string boundary = "----------------------------" +
            DateTime.Now.Ticks.ToString("x");

            HttpWebRequest httpWebRequest2 = (HttpWebRequest)WebRequest.Create(uri);
            httpWebRequest2.ContentType = "multipart/form-data; boundary=" +
            boundary;
            httpWebRequest2.Method = "POST";
            httpWebRequest2.KeepAlive = true;

            Stream memStream = new System.IO.MemoryStream();
            byte[] boundarybytes = System.Text.Encoding.UTF8.GetBytes("\r\n--" + boundary + "\r\n");

            memStream.Write(boundarybytes, 0, boundarybytes.Length);

            string headerTemplate = string.Format("Content-Disposition: form-data; name=\"postdata\"\r\n{0}\r\n\r\n", postData);

            byte[] headerbytes = System.Text.Encoding.UTF8.GetBytes(headerTemplate);

            memStream.Write(headerbytes, 0, headerbytes.Length);

            memStream.Write(boundarybytes, 0, boundarybytes.Length);

            headerTemplate = "Content-Disposition: form-data; name=\"{0}\"; filename=\"{1}\"\r\n Content-Type: application/octet-stream\r\n\r\n";

            //string header = string.Format(headerTemplate, "file" + i, files[i]);
            string header = string.Format(headerTemplate, "uplTheFile", fileName);

            headerbytes = System.Text.Encoding.UTF8.GetBytes(header);

            memStream.Write(headerbytes, 0, headerbytes.Length);

            //FileStream fileStream = new FileStream(file, FileMode.Open, FileAccess.Read);
            byte[] buffer = new byte[1024];

            int bytesRead = 0;

            while ((bytesRead = fileStream.Read(buffer, 0, buffer.Length)) != 0)
            {
                memStream.Write(buffer, 0, bytesRead);

            }
            memStream.Write(boundarybytes, 0, boundarybytes.Length);
            fileStream.Close();

            httpWebRequest2.ContentLength = memStream.Length;
            Stream requestStream = httpWebRequest2.GetRequestStream();
            memStream.Position = 0;
            byte[] tempBuffer = new byte[memStream.Length];
            memStream.Read(tempBuffer, 0, tempBuffer.Length);
            memStream.Close();
            requestStream.Write(tempBuffer, 0, tempBuffer.Length);
            requestStream.Close();

            WebResponse webResponse2 = httpWebRequest2.GetResponse();

            Stream stream2 = webResponse2.GetResponseStream();
            StreamReader reader2 = new StreamReader(stream2);

            string responseString = reader2.ReadToEnd();

            return responseString;
        } 
```

这将发布图像，您也可以将数据包含到 postData 参数中。您需要小心处理此 PostData 服务器，因为它与多部分内容数据相结合。

# html - 我应该在开始时加载隐藏的 iframe 吗？

> ID：12351360
> 
> 赞同：1
> 
> 时间：2012-09-10T12:06:13.197
> 
> 标签：html, pagespeed

我正在测试我的网站的速度，主要是为了在 Google 中获得高排名。

所以我正在使用这个网站：[http ://www.webpagetest.org/compare](http://www.webpagetest.org/compare)

除了我在 iframe 中显示的页面之外，一切都运行得非常快。此页面中的图像需要很长时间才能加载，主要是因为它们来自不同的、速度较慢的网站。在我的测试中，所有网站的加载时间都在 3 秒内，除了这些图像用了将近 10 秒。

事情就是这样。这个 iframe 实际上是隐藏的，直到有人点击一个链接。所以我有可能在用户点击之前不加载这个 iframe。问题是：我应该吗？或者更详细地说，这些是我的问题：

1.  隐藏 iframe 和图片的加载真的会影响 google 测量的页面加载时间吗？
2.  让用户在点击链接时等待数据只是为了更快的页面加载是否有意义（实际上，我使用的是 Google PageSpeed 服务，所以页面在 iframe 完全加载之前显示并正常工作） .

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:20:17.267

> 隐藏 iframe 和图片的加载真的会影响 google 测量的页面加载时间吗？

是的，它会影响它

> 让用户在点击链接时等待数据只是为了更快的页面加载是否有意义（实际上，我使用的是 Google PageSpeed 服务，所以页面在 iframe 完全加载之前显示并正常工作） .

不，这不是一个好习惯。你应该做点别的。

什么？请参阅下面的逻辑。

加载您的页面，包括您的 iframe，但没有 src 值，因此加载速度非常快。并且页面的 onLoad，只需调用一个 javascript 函数，该函数将在后台加载 iframe，而用户（或谷歌）不会注意到某些内容仍在加载

# wordpress - 在 wordpress 上更改 RSS 页面

> ID：12351361
> 
> 赞同：0
> 
> 时间：2012-09-10T12:06:17.193
> 
> 标签：wordpress

最近我把我的博客从 blogger 搬到了 wordpress。我想保留我的旧 rss 提要链接 www.domain.com/feed/posts/default

我可以将 www.domain.com/feed/posts/default 重定向到 www.domain.com/rss 吗？

PS。类似的问题假设我的域是 www.domain.blogspot.com。但是我有自己的域，所以我无法配置来自博客的重定向。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T15:18:06.087

您可以通过编辑您的 htaccess 文件来执行此操作

```
redirect 301 /feed/posts/default/ /rss/ 
```

[有关重定向的更多信息，请参阅此页面](http://www.htaccessredirect.co.uk/)- 我不确定您的第二个问题是什么意思，但此处的信息以及 Google 搜索 htaccess 重定向应该会有所帮助。

# appfabric - AppFabric 缓存 - 查询分布式缓存

> ID：12351362
> 
> 赞同：1
> 
> 时间：2012-09-10T12:06:18.817
> 
> 标签：appfabric, appfabric-cache

是否可以像数据库一样查询 AppFabric 缓存？（搜索）有基于标签的方法，但它们只能用于存储在区域中的对象；区域仅限于单个缓存主机；它不是很有用。

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T02:37:40.447

只有标签，它们确实带有位于一个区域中的限制，然后将其限制为单个节点。如果您使用高可用性 (HA)，则该区域至少会在集群内复制，但活动查询仍仅由单个节点完成。

可以在[此 MSDN 主题](http://msdn.microsoft.com/en-us/library/ee790985.aspx)的以下段落中找到对这一事实的确认：

> 为了提供这种附加的搜索功能，区域中的对象仅限于单个缓存主机。因此，使用该数据的应用程序无法实现分布式缓存的可扩展性优势。相反，如果不指定区域，则缓存对象可以在缓存集群中的所有缓存主机之间进行负载均衡。
> 
> 区域提供搜索功能，但通过将缓存对象限制为单个缓存主机，区域的使用在功能和可伸缩性之间进行了权衡。

# php - Cron 任务/抓取数据（Curl？）插入表单并提交

> ID：12351365
> 
> 赞同：0
> 
> 时间：2012-09-10T12:06:35.013
> 
> 标签：php, curl, cron

我正在尝试从外部网站检索数据，该网站有 1 行文本 / URL，每 5 分钟更改一次。现在我想获取这个 URL 并使用这个 URL 提交一个表单（每 5 分钟）并将其存储到我的数据库中（php 文件上的 Cron 作业？）或者将它直接插入到我的 mysql 数据库中。

这甚至可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:28:20.287

据我了解，您想要获得 2 个任务：

1) 从外部页面获取 URL 并将其存储在您的数据库中

2) 以上每 5 分钟执行一次。

他们来了：

1) CURL 是一个好方法，应该在所有服务器上都可用。您也可以尝试 file_get_contents 它在您的服务器上不受限制。卷曲函数如下所示：

```
<?php
function curl_get_file_contents($URL)
    {
        $c = curl_init();
        curl_setopt($c, CURLOPT_RETURNTRANSFER, 1);
        curl_setopt($c, CURLOPT_URL, $URL);
        $contents = curl_exec($c);
        curl_close($c);

        if ($contents) return $contents;
            else return FALSE;
    }
?> 
```

此函数返回带有页面内容的字符串。可能您需要从那里提取您的 URL，如果 URL 具有恒定长度，则使用 PHP SUBSTR 或 STRPOS。当您获得 URL 时，将其存储在 DB 中 - 无需使用表单。

2) 每 5 分钟执行一次脚本的最简单方法是使用 javascript。它会是这样的：

```
<html>
<head>
<script type="text/JavaScript">
<!--
function timedRefresh(timeoutPeriod) {
    setTimeout("location.reload(true);",timeoutPeriod);
}
//   -->
</script>
</head>
<body onload="JavaScript:timedRefresh(300000);">
<?php // your code here 
```

此页面将每 5 分钟（30 万毫秒）刷新一次，并且每次都会执行 PHP 脚本 - 但您必须在浏览器中不断打开它。这是一个问题，使用 CRON（我几乎没有使用它，所以我没有帮助）。

# php - Joomla 仅清除特定页面的缓存

> ID：12351374
> 
> 赞同：0
> 
> 时间：2012-09-10T12:07:12.013
> 
> 标签：php, caching, joomla, browser-cache, joomla1.7

我想清除特定页面上的缓存？我使用 Joomla 作为我的 CMS。我必须做什么覆盖？我应该在视图中插入什么代码？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-12-10T23:20:27.333

当您在插件下启用“系统 - 缓存”时，您的页面将被简单地缓存。要删除页面的缓存，我使用了这个：

```
$url = "test";

$options = array(
    'defaultgroup'  => 'page',
    'browsercache'  => false,
    'caching'       => false,
);

$cache = JCache::getInstance('page',$options);

$id = md5(serialize("/$url"));

$cache->remove($id,'page'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:20:34.030

您无法使用服务器端命令清除浏览器缓存。您只能防止缓存内容。我不确定您将如何对页面上的每一件事进行处理，但对于一篇文章，您可以安装[PHP Direct](http://extensions.joomla.org/extensions/core-enhancements/coding-a-scripts-integration/custom-code-in-content/4470)插件，然后添加以下代码*（未经测试）*：

```
<?php
  header("Cache-Control: no-cache, must-revalidate");
  header("Expires: Wed, 01 Jan 2020 05:00:00 GMT");
  header("Content-Type: application/xml; charset=utf-8");
?> 
```

不要忘记使用 php 标签。

# c# - 如何在 c# 代码隐藏中将 PrintPriviewDialog 纸张大小设置为 a5？

> ID：12351375
> 
> 赞同：5
> 
> 时间：2012-09-10T12:07:14.190
> 
> 标签：c#, winforms, printing

我有一个 Windows 窗体应用程序，带有一个包含面板的简单 Windows 窗体。我已将面板大小设置为：560、579（以像素为单位），并以这种方式设置打印文档大小：

```
System.Drawing.Printing.PaperSize a = new System.Drawing.Printing.PaperSize("A5 (148 x 210 mm)", 584, 827);
printDocument1.PrinterSettings.DefaultPageSettings.PaperSize = a; 
```

现在我希望 printpreviewdialoge 页面大小为 a5 或至少与我的打印文档大小相同并适合它，我该如何实现？

```
 private void printDocument1_PrintPage(object sender, System.Drawing.Printing.PrintPageEventArgs e)
    {
        Bitmap b = new Bitmap(pnlPrint.Width, pnlPrint.Height);
        pnlPrint.DrawToBitmap(b, new System.Drawing.Rectangle(0, 0, pnlPrint.Width, pnlPrint.Height));
        e.Graphics.DrawImage(b,0,0);
    }

    private void Print()
    {
    PrintPreviewDialog printPreviewDialog1 = new PrintPreviewDialog();
    var paperSize = printDocument1.PrinterSettings.PaperSizes.Cast<PaperSize>().FirstOrDefault(e => e.PaperName == "A5");
    printDocument1.PrinterSettings.DefaultPageSettings.PaperSize = paperSize; 
    printPreviewDialog1.Document = printDocument1;

    printPreviewDialog1.ShowDialog();

    } 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-10T12:59:07.117

`PaperSize`您可以从对象的`PrinterSettings`属性中获取 A5`PrintDocument`对象。它具有`PaperSizes`保存所选打印机的所有纸张尺寸的属性。您可以使用 LINQ 找到您想要的。例如：

```
var paperSize = printDoc.PrinterSettings.PaperSizes.Cast<PaperSize>().FirstOrDefault(e => e.PaperName == "A5");
printDoc.PrinterSettings.DefaultPageSettings.PaperSize = paperSize; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-02-05T14:37:56.033

只需从以下链接查看我的答案：

[从 C# 打印信封](https://stackoverflow.com/questions/23751578/printing-envelopes-from-c-sharp/28346590#28346590)

谢谢你。

# java - 在android中使用soap调用的listview

> ID：12351376
> 
> 赞同：0
> 
> 时间：2012-09-10T12:07:18.800
> 
> 标签：java, android, android-listview

嗨，我必须使用肥皂调用开发一个列表视图。这里我希望实现一个步骤..这里我必须单击任何列表意味着详细描​​述显示到下一个活动。我该如何开发这个。请帮助我..

这是我的代码：

```
public class RetailerActivity extends Activity {
ListView list;
private static final String SOAP_ACTION = "http://xcart.com/customerData1";
private static final String METHOD_NAME = "customerData1";
private static final String NAMESPACE = "http://xcart.com";
private static final String URL = "http://192.168.1.168:8089/XcartLogin/services/RetailerWs?wsdl";
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME); 

    SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);

    envelope.setOutputSoapObject(request);

    HttpTransportSE ht = new HttpTransportSE(URL);
    try {
        ht.call(SOAP_ACTION, envelope);
        SoapPrimitive response = (SoapPrimitive)envelope.getResponse();
        SoapPrimitive s = response;
        String str = s.toString();
        String resultArr[] = str.split("&");//Result string will split & store in an array
        list=(ListView)findViewById(R.id.list);

        TextView tv = new TextView(this);

        for(int i = 0; i<resultArr.length;i++){
        tv.append(resultArr[i]+"\n\n");
       }
        setContentView(tv);

    } catch (Exception e) {
        e.printStackTrace();
    }
}
 } 
```

这是我的网络服务代码：

```
public class RetailerWs {
public String customerData1(){
String customerInfo = "";
try{
Class.forName("com.mysql.jdbc.Driver");
Connection con = DriverManager.getConnection("jdbc:mysql://localhost:3306/xcart-432pro","root","");
 //Find customer information where the customer ID is maximum
 PreparedStatement statement =  con.prepareStatement("SELECT * FROM xcart_orders");
 ResultSet result = statement.executeQuery();

 while(result.next()){
customerInfo = customerInfo + result.getString("orderid") + "&" + result.getString("status");
    //Here "&"s are added to the return string. This is help to split the string in Android application
   }
   }

 catch(Exception exc){
   System.out.println(exc.getMessage());
 }

return customerInfo;
}

  } 
```

现在我必须运行应用程序，这意味着从数据库中获取 orderid 和状态并显示在我的 android 应用程序上。在这里我希望实现我必须单击任何订单，这意味着订单状态显示在下一个活动中。我该如何开发这个。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:12:18.197

你在这里有很多事情要处理。

不要重新分配内容视图..这是不好的想法。

首先，您需要按照[此处的建议和链接创建适配器](https://stackoverflow.com/questions/2394176/android-populating-a-listview-with-array-items)

然后你需要添加一个点击监听器来打开一个新的意图，就像[这里](https://stackoverflow.com/questions/6103974/how-do-i-start-an-intent-from-an-onclicklistener)所做的那样。

但是您的代码还没有为这一步做好准备，您首先需要像上面一样创建适配器。

离开并继续努力，当你准备好时回来问一个更具体的问题。

[这](https://stackoverflow.com/questions/4197135/how-to-start-activity-in-adapter)是对如何在适配器的单击侦听器中打开意图的问题的更具体答案

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T12:13:57.510

[这](http://www.androidhive.info/2012/01/android-json-parsing-tutorial/)是一个示例，它将帮助您生成列表视图并处理其项目单击。此处使用的 Web 服务 API 是 JSON，但您可以查看如何处理服务响应以创建列表视图并管理其 onclick。让我知道问题是否仍然存在。

# asp.net - 我需要在asp.net中的gridview的rowcommand事件上绑定数据点击

> ID：12351385
> 
> 赞同：1
> 
> 时间：2012-09-10T12:07:43.573
> 
> 标签：asp.net

```
<ItemTemplate>
 <asp:LinkButton ID="LinkButton1" runat="server" Text='<%#Bind("News_Title") %>' 
                 CommandName="Submit" 
                 CommandArgument='<%#Eval("ID") %>' 
                 onclick="LinkButton1_Click" >LinkButton</asp:LinkButton>
</ItemTemplate> 
```

DataBinding：“System.Data.DataRowView”不包含名为“ID”的属性

# javascript - wordpress 谷歌地图 调整大小

> ID：12351386
> 
> 赞同：0
> 
> 时间：2012-09-10T12:07:47.177
> 
> 标签：javascript, jquery, css, wordpress, google-maps

我知道这是堆栈溢出问题，这里有这么多主题，我在搜索过程中找到了它们，但是我想这个有点不同。

我在 wordpress 上使用了一个插件，它允许我在页面上使用标签来更改内容。在一个页面中，我有一个双标签，其中一个显示不同的谷歌地图嵌入代码。您可能已经发现了我的问题，当我更改选项卡时，地图的中心出现在左上角。

我找到了 javascript 和 jquery 解决方案，但这是一个 wordpress 页面，我不能在那里使用它，那么，我该如何在我的 wordpress 网站上解决这个问题？

谢谢！

编辑：

```
 [tab name="X"]

&nbsp;

<iframe width="100%" height="auto" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="http://maps.google.pt/maps?f=q&amp;source=s_q&amp;hl=pt-BR&amp;geocode=&amp;q=40.654471,-7.914153&amp;aq=&amp;sll=41.236676,-8.332331&amp;sspn=0.593802,1.234589&amp;ie=UTF8&amp;ll=40.654471,-7.914153&amp;spn=0.018721,0.038581&amp;t=m&amp;z=14&amp;output=embed"></iframe><br /><small><a href="http://maps.google.pt/maps?f=q&amp;source=embed&amp;hl=pt-BR&amp;geocode=&amp;q=40.654471,-7.914153&amp;aq=&amp;sll=41.236676,-8.332331&amp;sspn=0.593802,1.234589&amp;ie=UTF8&amp;ll=40.654471,-7.914153&amp;spn=0.018721,0.038581&amp;t=m&amp;z=14" target="_blank" style="color:#0000FF;text-align:left">Exibir mapa ampliado</a></small>

[/tab]
[tab name="Y"]

&nbsp;

<iframe width="100%" height="auto" src="http://maps.google.pt/maps?f=q&amp;source=s_q&amp;hl=pt-BR&amp;geocode=&amp;q=40.741339,-7.730044&amp;aq=&amp;sll=40.654483,-7.914145&amp;sspn=0.00936,0.01929&amp;g=40.654483,-7.914145&amp;ie=UTF8&amp;ll=40.741339,-7.730044&amp;spn=0.018696,0.038581&amp;t=m&amp;z=14&amp;output=embed" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>
<small><a style="color: #0000ff; text-align: left;" href="http://maps.google.pt/maps?f=q&amp;source=embed&amp;hl=pt-BR&amp;geocode=&amp;q=40.741339,-7.730044&amp;aq=&amp;sll=40.654483,-7.914145&amp;sspn=0.00936,0.01929&amp;g=40.654483,-7.914145&amp;ie=UTF8&amp;ll=40.741339,-7.730044&amp;spn=0.018696,0.038581&amp;t=m&amp;z=14" target="_blank">Exibir mapa ampliado</a></small>

[/tab]
[end_tabset] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:56:00.373

> 我找到了 javascript 和 jquery 解决方案，但这是一个 wordpress 页面，我不能在那里使用

我个人使用一个名为“Inline Javascript Plugin”的插件，它允许您直接在 Wordpress 页面/帖子中输入 javascript 代码

# gwt - 如何为 GWT-RPC 服务制作 http 客户端

> ID：12351389
> 
> 赞同：1
> 
> 时间：2012-09-10T12:07:49.710
> 
> 标签：gwt, httpclient, gwt-rpc

**我想为不**属于我的 GWT 服务做客户端。服务使用 RPC。我想使用 apache httpclient，但是强哈希名称存在问题，有时会更改，并且消息包含许多人类无法理解的值。我知道 java 脚本会生成此消息。到目前为止，我观察了 Firebug 的每个请求，并将请求的内容复制到我的客户端应用程序，并从消息中包含的许多值中更改了一些我需要的值。这需要时间，有时会更改强哈希名称，因此我必须更改客户端代码。有没有更好的解决方案？我认为最好的解决方案是执行 javascript 并生成正确的消息，但我不知道该怎么做，我担心这会增加我的应用程序的复杂性。

我对GWT知之甚少。

# javascript - 我将如何编写一个 CouchDB 视图来列出每个存储文档的大小？

> ID：12351390
> 
> 赞同：2
> 
> 时间：2012-09-10T12:07:54.853
> 
> 标签：javascript, couchdb

我想知道存储在我的 CouchDB 数据库中的文档的大小。我将如何编写一个列出文档大小的视图？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-10T12:08:58.817

回答我自己的问题，我发现这是可以接受的（包括 Marcello 的评论）：

```
function(doc) {
  var json = JSON.stringify(doc);
  emit(json.length, null);
} 
```

编辑：结合@dch 的[评论](https://stackoverflow.com/a/12356648/515065)，这是对网络大小的更完整估计，但正如他所指出的，这不是磁盘上文档的大小。

```
function(doc) {
  var json = JSON.stringify(doc);
  var len = json.length;
  if (doc._attachments) {
    for (var attachmentKey in doc._attachments) {
      var attachment = doc._attachments[attachmentKey];
      len += attachment.length;
    }
  }
  emit(len, null);
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-10T17:28:45.860

像往常一样，答案在一定程度上取决于您打算如何处理这些数据。

*   在 CouchDB 1.2.0 及更高版本中，快速压缩将确保每个文档的磁盘大小比您的字符串化计算小很多。
*   在任何情况下，CouchDB 都将 JSON 存储为编码的 erlang 术语，这也不是 1 对 1 的大小等价。
*   附件不会记录在您的方法中，但在存根元数据中可用：

```
`{
  "_id":"555b17372035fdeb9b4077c68e00053f",
  "_rev":"3-a6fa3aadf3bf64f11b721d7d4333e9ec",
  "_attachments":{
    "preview.png":{
      "content_type":"image/png",
      "revpos":3,
      "digest":"md5-fNhm5TL2NFnsujYKixr+3A==",
      "length":328076,
      "stub":true
    }
  }
}` 
```

# javascript - 如何使水平元素扩展以覆盖可用空间？

> ID：12351393
> 
> 赞同：7
> 
> 时间：2012-09-10T12:07:58.673
> 
> 标签：javascript, jquery, css, css-float, alignment

我正在尝试创建一个`CSS fluid tab menu`带有可变数量的选项卡的 , （类似于在 Windows 中可以看到的，其中选项卡根据包含的标题的长度展开，见下文）。

![在此处输入图像描述](../Images/a976c7ddc53a8c3261a4cbbbd320a6b5.png)

这是一个示例，我已经设置（我需要保留元素结构）：

```
<div class="test">
    <div class="element">
        <h3>
            <span class="dummy-a">
                <span class="dummy-ui-btn-inner">
                    <span class="dummy-ui-btn-text">very long text is this</span>
                </span>
            </span>
        </h3>
    </div>
     <div class="element">
        <h3>
            <span class="dummy-a">
                <span class="dummy-ui-btn-inner">
                    <span class="dummy-ui-btn-text">Two</span>
                </span>
            </span>
        </h3>
    </div>
     <div class="element">
        <h3>
            <span class="dummy-a">
                <span class="dummy-ui-btn-inner">
                    <span class="dummy-ui-btn-text">Three</span>
                </span>
            </span>
        </h3>
    </div>
     <div class="element">
        <h3>
            <span class="dummy-a">
                <span class="dummy-ui-btn-inner">
                    <span class="dummy-ui-btn-text">Four</span>
                </span>
            </span>
        </h3>
    </div>
    <div class="element">
        <h3>
            <span class="dummy-a">
                <span class="dummy-ui-btn-inner">
                    <span class="dummy-ui-btn-text">Five</span>
                </span>
            </span>
        </h3>
    </div>
</div> 
```

和 CSS：

```
.test { width: 100%; display: table; }
.test .element { border: 1px solid red; float: left; min-width: 19%;  }
.test .element.prelast { border: 1px solid green; }
.test .element.last { float: none !important; overflow: hidden; }
.test .element h3 {  overflow: hidden; text-overflow: ellipsis; white-space: nowrap; } 
```

这将创建以下内容：

![在此处输入图像描述](../Images/355ff6b67c0176d213026aad267e7332.png)

当我缩小屏幕时，菜单会分成多行，最后一个元素填充剩余宽度：

![在此处输入图像描述](../Images/cced3fbd98a2fc8989141a298113537f.png)

我的问题是扩展“第一行”中的元素以覆盖菜单中断后的可用空间。简单的设置`min-width: 19%`是问题，但我什么也做不了。

**问题**：
如何仅使用 CSS 使“行”中的元素（它不是真正的行，如果它分成多行）占用所有可用空间？

**编辑**：
[这](http://www.franckreich.de/p/test.html)是一个示例页面，显示了我的意思。缩小浏览器窗口并查看元素的行为方式。我正在寻找一种方法使第一行在分成多行后扩展全宽。

**更新**：
我已经更新了示例页面。见[这里](http://www.franckreich.de/p/test.html)。我在扩展元素时没有任何问题，而它们都“排成一行”。当行“分成”多行时，问题就开始了。我想知道是否可以通过使元素在整个屏幕上展开来填补右上角的空白。

这是两个额外的屏幕截图。

![在此处输入图像描述](../Images/f03ace124d818f08402f6b7ee5fc1b2b.png)

所以需要关闭元素“四”旁边的间隙

![在此处输入图像描述](../Images/a181a60c2cdff2fca7fb5499ab008783.png)

现在需要关闭元素“三”旁边的间隙。您可以看到在元素“四”上设置某些内容不起作用，因为它并不总是位于右上角。相反，它应该是我在所有元素上设置的 CSS 规则（我猜）。

另外，如果这可以使用 Javascript/Jquery 轻松完成，我还会听取意见吗？

感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:30:35.530

我能想到的第一件事是，既然您已经将`.test`div 设置为`display: table`，也许将您的设置`.test .element`为`display: table-cell`。这将使它们保持在同一行中，并且仅扩展到 100%。唯一的问题是 < IE8 不处理`display: table-cell`，但有解决方案。一个人[在这里](https://stackoverflow.com/questions/4170883/how-to-get-displaytable-cell-support-in-ie-any-pure-javascript-or-jquery-worka)。我不确定这是否真的达到了你想要的，但这是一种可能性。不过，我会保持潜意识的思考。好问题！

[小提琴](http://jsfiddle.net/scrimothy/f2CJ6/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:49:41.713

您可以只使用`<table>`100% 的宽度来执行此操作；

```
<table class="menu" cellpadding="0" cellspacing="0">
<tr>
<td>menu1</td>
<td>menu2</td>
<td>menu3</td>
<td>menu4</td>
<td>menu5</td>
</tr>
</table> 
```

和 CSS 一样；

```
.menu{
    width: 100%;
}
.menu tr td{
    height: 20px;
    background: gray;
    cursor: pointer;
    text-align: center;
}
.menu tr td:hover{
    background: white;
} 
```

***[这](http://jsfiddle.net/blasteralfred/5waXC/)***是现场演示。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-13T15:54:47.357

如果您想将它们保持在一行并使用它们拥有的所有空间，无论您有多少项目，使用 display: table、table-row 和 table-cell 是实际的解决方案。但是您必须使用所有 3 个才能使其正常工作。所以你需要的是

```
<div class="menu">
    <ul> <!-- Menus should usually be Lists if it's your choice -->
        <li>One</li>
        <li>Two</li>
        <li>Three</li>
        <li>Four</li>
        <li>Five</li>
    </ul>
</div> 
```

然后在css中

```
.menu { display: table; width: 100%; }
.menu ul { display: table-row; width: 100%; }
.menu ul li { display: table-cell; } 
```

这就是所有的魔法。所以你的细胞总是使用完整的空间。

如果你想要多行的功能，你必须使用一些 Javascript 来检查你的窗口，然后将它们分成两个列表来制作它

```
<div class="menu">
    <ul>
        <li>One</li>
        <li>Two</li>
        <li>Three</li>
        <li>Four</li>
    </ul>
    <ul>
        <li>Five</li>
    </ul>
</div> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-10T12:56:35.570

如果您可以使用**Javascript 和 jQuery**，则有一个解决方案。

**[检查这个演示](http://jsbin.com/ahomiw/14/edit)**

就我个人而言，我认为这不是最好的解决方案，但它可能也可以帮助你这个演示准备只适用于 2 行

# qt - Qt、QWizard、QWizardPage 和 Qt 设计器

> ID：12351398
> 
> 赞同：4
> 
> 时间：2012-09-10T12:08:34.610
> 
> 标签：qt, qwidget, qt-designer

我有一个项目，我真的很想使用 Designer 来直观地设计我的向导。

当我第一次这样做时，我将 QWizard 小部件和每个 QWizardPage 放在单独的 .ui 文件中，然后通过调用 addPages() 构建向导。这工作但很混乱，因为我的项目突然在向导中的每页有一组 .h/.cpp/.ui 文件。

然后我意识到设计师可以将 QWizardPage 添加到 QWizard 本身并“提升”页面，以便我可以使用自己的类功能。这样，我只有一个用于 QWizard 的 .ui 文件和两组 .h/.cpp 文件（一组用于 QWizard，一个用于每个 QWizardPage）。

所以，我的项目看起来有点像这样：

*   Wizard.ui - 包含向导和相应页面的所有 GUI 元素
*   Wizard.h/.cpp - 包含 QWizard 派生类的代码
*   WizardPages.h/.cpp - 包含每个 QWizardPage 的代码

这很好用！直到我开始添加实现。我想做的第一件事是在第一页注册一个字段（比如 WizardPage1）。

```
WizardPage1::WizardPage1(QWidget* parent)
    : QWizardPage(parent)
{
    this->registerField("text*", textLineEdit);
} 
```

但“textLineEdit”实际上是 QWizard 对象的成员。所以，我想我可以通过使用 QWizardPage 的父级来注册该字段，但是 ui_Wizard.h 文件中生成的代码会创建没有父级的 QWizardPage 对象。当我尝试这个时：

```
Wizard::Wizard(QWidget *parent)
    : QWizard(parent)
{
    setupUi(this); // Wizard inherits QWizard and the deginer generated class

    // 'WizardPage1' is also the class name and variable name as
    // generated by Qt
    WizardPage1->setParent(this);
} 
```

但是，当我这样做时，这会导致崩溃：

```
Wizard* wizard = new Wizard(this);
wizard->open(); // crashes 
```

有没有人尝试过我想要完成的事情并让它发挥作用？

# objective-c - 使用自动参考计算的应用内购买：SKProductsRequestDelegate 崩溃

> ID：12351400
> 
> 赞同：0
> 
> 时间：2012-09-10T12:08:36.340
> 
> 标签：objective-c, ios, in-app-purchase, automatic-ref-counting

我现在已经尝试了两天在 iOS 应用程序中实现应用程序购买，同样的错误困扰着我。

每次我尝试启动我的 SKProductsRequest 对象时都会收到 EXC_BAC_ACCESS 错误。

我读过很多人有同样的错误，但似乎没有一个解决方案对我有用。

当我设置 NSZombieEnabled 时，出现以下错误：

```
[AppShopper respondsToSelector:]: message sent to deallocated instance 0x1d9340 
```

这是我的 AppShopper.h：

```
#import <StoreKit/StoreKit.h>

#define kInAppPurchaseManagerProductsFetchedNotification @"kInAppPurchaseManagerProductsFetchedNotification"

@interface AppShopper : NSObject <SKProductsRequestDelegate>

@property (nonatomic, strong) SKProduct *product;
@property (nonatomic, strong) SKProductsRequest *request;

- (void) requestProductData;

@end 
```

还有我的 AppShopper.m：

```
#import "AppShopper.h"

@implementation AppShopper

#define productId @"XXX.ProductID.XXX"

@synthesize request = _request;
@synthesize product = _product;

- (void) request:(SKRequest *)request didFailWithError:(NSError *)error{
    printf("Error!\n");
    _request = nil;
    _product = nil;
}

- (void) requestDidFinish:(SKRequest *)request {
    printf("Finished request!\n");
}

- (void) requestProductData{
    printf("requestProductData\n");

    NSSet *productIdentifiers = [NSSet setWithObject:productId];

    self.request = [[SKProductsRequest alloc] initWithProductIdentifiers: productIdentifiers];

    self.request.delegate = self;
    [self.request start];

    printf("requestProductData End\n");
}

#pragma mark -
#pragma mark SKProductsRequestDelegate methods

- (void)productsRequest:(SKProductsRequest *)request didReceiveResponse:(SKProductsResponse *)response
{
    printf("productsRequest\n");
    NSArray *products = response.products;

    self.product = [products count] == 1 ? [products objectAtIndex:0] : nil;
    if (self.product)
    {
        NSLog(@"Product title: %@" , self.product.localizedTitle);
        NSLog(@"Product description: %@" , self.product.localizedDescription);
        NSLog(@"Product price: %@" , self.product.price);
        NSLog(@"Product id: %@" , self.product.productIdentifier);
    }

    for (NSString *invalidProductId in response.invalidProductIdentifiers)
    {
        NSLog(@"Invalid product id: %@" , invalidProductId);
    }

    _request = nil;
    _product = nil;

    [[NSNotificationCenter defaultCenter] postNotificationName:kInAppPurchaseManagerProductsFetchedNotification object:self userInfo:nil];
}

@end 
```

我尝试使用以下代码开始应用内购买：

```
AppShopper *shopper = [[AppShopper alloc] init];
[shopper requestProductData]; 
```

我的输出只有：

```
requestProductData
requestProductData End

2012-09-10 19:43:30.210 MyApp[4327:707] *** -[AppShopper respondsToSelector:]: message sent to deallocated instance 0x1d9340 
```

而且，是的，我是：

1.  在物理设备上测试
2.  在测试用户的沙盒环境中
3.  具有适当的配置文件

任何帮助表示赞赏，谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:20:19.357

该错误将出现在使您的`AppShopper`.

例如，

```
AppShopper *shopper = [AppShopper new];
... setup shopper here ...
[shopper requestProductData]; 
```

ARC 是如何知道你想留在身边的`AppShopper`？它没有，它会在之后立即释放它`requestProductData`。然后，当请求返回时，它会尝试调用它的委托方法，这些委托方法将不再存在。

尝试将您的存储`AppShopper`为强属性而不是局部变量，看看是否有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:29:51.737

首先，将这些函数添加到

在 AppShopper.m 中

```
//Checks if the device or user can make purchases
- (BOOL)canMakePurchases
{
    return [SKPaymentQueue canMakePayments];
} 
```

您调用的文件，以这种方式启动inApp购买

```
AppShopper *shopper = [[AppShopper new];
if([shopper canMakePurchases])
{
    [shopper requestProductData];
} 
```

# php - 向 google oauth api 发出 curl 请求

> ID：12351402
> 
> 赞同：1
> 
> 时间：2012-09-10T12:08:44.680
> 
> 标签：php, curl

我正在尝试执行以下 curl 请求：

```
$url = "https://www.googleapis.com/oauth2/v1/userinfo?access_token=$access_token";

$ch = curl_init($url);

curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
if (!empty($headers)) curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
curl_setopt($ch, CURLOPT_POST, false);
curl_setopt($ch, CURLOPT_POSTFIELDS, '');
curl_setopt($ch, CURLOPT_VERBOSE, true);

$resp = curl_exec($ch); 
echo $resp; //prints 'Not found'
$httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
echo $httpCode; //prints '404'
curl_close($ch); 
```

第一个`echo`打印“未找到”，第二个打印“404”。不过，如果我这样做`echo "$url?$params"`，并将输出的 url 复制到浏览器的地址栏，页面将打开。不知道什么会导致`Not found`正确的网址。有人可以告诉我我做错了什么吗？

先感谢您！

**UPD。**这是转储`curl_getinfo()`：

```
array(20) { ["url"]=> string(45) "https://www.googleapis.com/oauth2/v1/userinfo"
["content_type"]=> string(24) "text/html; charset=UTF-8" ["http_code"]=> int(404)
["header_size"]=> int(360) ["request_size"]=> int(218) ["filetime"]=> int(-1) 
["ssl_verify_result"]=> int(0) ["redirect_count"]=> int(0) ["total_time"]=>
float(0.657275) ["namelookup_time"]=> float(0.00257) ["connect_time"]=> float(0.162467)
["pretransfer_time"]=> float(0.495426) ["size_upload"]=> float(0) ["size_download"]=> 
float(9) ["speed_download"]=> float(13) ["speed_upload"]=> float(0) 
["download_content_length"]=> float(0) ["upload_content_length"]=> float(0)
["starttransfer_time"]=> float(0.657247) ["redirect_time"]=> float(0) } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-10T12:46:25.390

试试这个：

```
 $url = "https://www.googleapis.com/oauth2/v1/userinfo";
    $params = "access_token=$access_token";

    $ch = curl_init($url . '?' . $params);

    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    if (!empty($headers)) curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
    curl_setopt($ch, CURLOPT_POST, false);
    curl_setopt($ch, CURLOPT_VERBOSE, true);

curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);

    $resp = curl_exec($ch); 
    echo $resp; //prints 'Not found'
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
    echo $httpCode; //prints '404'
    curl_close($ch); 
```

现在您使用 GET 发送并且忽略 SSL 证书。

# java - Vaadin - 在表格内触发按钮单击

> ID：12351404
> 
> 赞同：0
> 
> 时间：2012-09-10T12:08:47.333
> 
> 标签：java, vaadin

**在[Vaadin](https://vaadin.com/home)中，是否可以模拟单击位于[Table](https://vaadin.com/api/com/vaadin/ui/Table.html)内的按钮？**

例如：

```
table.getCellContent(tableRowId, columnRowId).clickButton() 
```

我问的原因是因为我需要这个来进行测试。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T13:19:02.033

以下适用于 Vaadin 6.8.0 及更高版本：

```
((Button) table.getContainerProperty(tableRowId, columnRowId).getValue()).click(); 
```

# coldfusion - 如何在 ColdFusion 9 中使用 cfdirectory 在另一台服务器 PC 上创建文件夹

> ID：12351412
> 
> 赞同：1
> 
> 时间：2012-09-10T12:09:19.923
> 
> 标签：coldfusion, coldfusion-9, cfdirectory

目前我正在尝试使用以下代码创建一个文件夹：

```
<cfdirectory action="create" directory="\\192.168.1.152\abc(that's my shared folder)\xyz" type="dir"> 
```

*   我用的是win xp home edition，另一边是windows server 2008。
*   我正在以我在服务器上创建的用户身份运行我的 ColdFusion 9 应用程序服务。
*   它给了我文件夹已经存在的错误。但是当我检查时，没有文件夹（xyz）

请在 win server 2008 或 ColdFusion 9 server 上给我任何配置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-20T21:12:31.030

我会尝试访问挂载（http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/mountvol.mspx?mfr=true）或使用符号链接（mklink）和将其作为普通文件夹访问。

# asp.net - 在 asp.net 中显示保存文件对话框

> ID：12351415
> 
> 赞同：1
> 
> 时间：2012-09-10T12:09:38.893
> 
> 标签：asp.net

这是在 asp.net 中。我正在参考用户的输入创建 pdf 文件。此 pdf 文件保存在服务器上的文件夹中。现在这个文件可以使用 response.redirect 在浏览器中显示。但我想向用户显示保存文件对话框（就像我们从网站下载 exe 时得到的那样），以便在本地硬盘中下载和保存相同的文件，而不是在浏览器中打开它。我怎样才能做到这一点？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:12:02.840

设置`Response.ContentType = "application/octet-stream";`通常对我有用。我也用`Response.BinaryWrite`。有一种 MIME 类型`application/pdf`（[Windows Internet Explorer 中的 MIME 类型检测](http://msdn.microsoft.com/en-us/library/ms775147.aspx)），所以您也可以尝试一下。

`application/pdf`这是一个使用Microsoft的示例（[如何使用 ASP.NET 和 Visual C# .NET 将二进制文件写入浏览器](http://support.microsoft.com/kb/306654)）

```
private void Page_Load(object sender, System.EventArgs e)
{
  //Set the appropriate ContentType.
  Response.ContentType = "Application/pdf";
  //Get the physical path to the file.
  string FilePath = MapPath("acrobat.pdf");
  //Write the file directly to the HTTP content output stream.
  Response.WriteFile(FilePath);
  Response.End();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T04:03:58.033

在下载时启用另存为框是关于浏览器配置而不是关于代码.....尝试这种配置的chrome浏览器..转到设置>显示高级设置>在下载启用复选框“询问保存每个下载前的文件”

# css - MVC 无法在 css 中使用 background-url 显示图像 - 使用捆绑

> ID：12351418
> 
> 赞同：5
> 
> 时间：2012-09-10T12:09:49.793
> 
> 标签：css, asp.net-mvc

我有一个 MVC4 项目，其结构如下：

> /Content/css/sprites/topbar.css
> 
> /内容/图像/topbar.png

在 css 文件中，我尝试使用以下方法引用图像：

```
background: url('../../images/topbar.png') 
```

但是图像不显示。如果我更改它以使图像位于：

> /Content/css/sprites/topbar.png

并将css更改为：

```
background: url('content/css/sprites/topbar.png') 
```

它有效，但这破坏了我的项目结构。

有任何想法吗？

## 编辑

我没有提到其他东西，因为我认为它不相关，但它似乎会影响这一点！

我曾经`@System.Web.Optimization.Styles.Render("~/MainStyles")`捆绑和缩小 css，但如果我采取这一步，那么它会按我的预期工作。我如何让这一切与我的项目结构和使用捆绑一起工作？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-05-26T07:41:33.377

不知道有没有其他人遇到这个问题。但是你可以在你的 CSS 中使用相对路径。关键是使用虚拟路径注册捆绑包，该路径指向您的实际 css 所在的同一文件夹。这样，MVC 将从该路径中的处理程序请求捆绑的 css。

尝试将您的捆绑注册更改为：

```
bundles.Add(new StyleBundle("~/Content/css/sprites/topbar")
              .Include("~/Content/css/sprites/topbar.css")
            ); 
```

那么在你看来`@Script.Render("/Content/css/sprites/topbar")`

Mvc 将从`/Content/css/sprites/topbar?{some-crazy-token-thing}`

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-10T13:18:06.637

我发现了问题所在。

这确实是 MVC 中使用的捆绑和缩小。当 css 查找图像时，它正在查找我的包指向的文件夹作为当前文件夹，而不是 css 文件所在的文件夹。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-10T12:15:09.983

尝试使用：

```
.social ul li a.blog { background: url(@Url.Content("~/Content/img/houseIcon.png")) no-repeat left top; } 
```

要在 CSS 中使用 razor，请参阅此[http://www.codeproject.com/Articles/171695/Dynamic-CSS-using-Razor-Engine](http://www.codeproject.com/Articles/171695/Dynamic-CSS-using-Razor-Engine)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-10T12:15:07.680

我建议将 CSS 引用的图像存储在与 CSS 文件本身相同的文件夹或目录的子文件夹中，这样您就可以在 CSS 文件中使用最短长度的相对路径。

如果您的应用程序始终驻留在网站的根目录中，您可以使用根目录相对路径（例如 background-image: url("/content/images/toopbar.jpg"); ）

嗯，但是“../images/topbar.png”也应该可以工作。你试过吗？

# java - 使用 Jersey 的 RESTful Web 服务中的路径地址

> ID：12351422
> 
> 赞同：2
> 
> 时间：2012-09-10T12:10:11.247
> 
> 标签：java, web-services, rest, jersey, jax-rs

[我对Java 中的 Restful Web Service](http://www.vogella.com/articles/REST/article.html)有疑问

我完全熟悉链接中的信息以及如何实现 Jersey 服务。

我使用的路径总是这样的：

```
SERVER_ADDRESS/task/users/{username}/ 
```

SERVER_ADDRESS 可以像`192.168.1.104:8080`{username} 是`@PathParam`

看这个地址：

```
SERVER_ADDRESS/task/users/{username}/tasks?top=n 
```

我的问题是关于结尾的：`tasks?top=n`

我在最后看到了很多这种地址的例子，但我不知道它们与 example 相比有什么用处`@PathParam`。

我们如何在泽西岛创造这样的想法？而这种地址有什么用呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-10T12:13:35.947

要获得`tasks`，您必须将其包裹在`{}`中`@Path`并使用 a`@PathParam`来获得它。

用于`top=n`使用 a `@QueryParam("top") int`（如果`int`是 的类型`top`）。

所有这些都在易于阅读的[JAX-RS 规范](http://jax-rs-spec.java.net/)1.1 版中进行了描述。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-10T13:08:46.820

可能的用途`@QueryParam`是

*   当您将一些过滤器传递给列表时，您将返回。这些过滤器可能是可选的，并且适合作为路径参数。

*   给出分页限制，例如`start`和`offset`作为有效案例。

*   传递您需要的属性列表。出于性能原因，您可能不需要完整的响应。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-10T12:57:39.997

这将帮助您更熟悉`@QueryParam`-[使用 @QueryParam 访问查询参数](https://blogs.oracle.com/naresh/entry/accessing_query_parameters_using_queryparam)

# geometry - 在 SlimDX (D3D9) 中启用抗锯齿

> ID：12351424
> 
> 赞同：0
> 
> 时间：2012-09-10T12:10:30.670
> 
> 标签：geometry, antialiasing, slimdx, multisampling

我想在绘制三角形时启用抗锯齿，如下图所示： ![在此处输入图像描述](../Images/ce3233e61df0387bc85f1f405dcece7c.png)

[我在此页面](http://msdn.microsoft.com/en-us/library/bb975403%28v=xnagamestudio.40%29.aspx)上找到了使用 XNA 的方法，但我想对*SlimDX*做同样的事情。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-21T12:48:49.720

在 SlimDX/Directx9 上，当您创建交换链时，在 PresentParameters 中使用它：

```
Multisample = MultisampleType.FourSamples,
MultisampleQuality = 4 
```

还要确保多重采样状态处于打开状态（默认情况下是打开的，但永远不确定）：

```
device.SetRenderState(RenderState.MultisampleAntialias, true); 
```

当然有不同类型的样本，要找到质量/样本，请使用以下方法：

```
new Direct3D().CheckDeviceMultisampleType 
```

在 dx10+ 设备上，当您创建交换链时，您有一个 SampleDescription 参数，

所以相应地设置样本数量/质量

```
SampleDescription samdesc = new SampleDescription(4, 4); 
```

枚举允许的样本数/质量组合：

```
int maxsamplecount = Device.MultisampleCountMaximum 
```

然后使用以下方法迭代样本计数：

```
int maxquality = device.CheckMultisampleQualityLevels(format, sampleCount); 
```

如果不支持样本计数，它将返回 0。

# configuration - 如何在一个托管服务中创建多个使用 https 的 Web 角色

> ID：12351428
> 
> 赞同：1
> 
> 时间：2012-09-10T12:10:39.593
> 
> 标签：configuration, azure

我有几个 Web 应用程序（2 个 Web 应用程序和 1 个 WCF 服务）。我想为 Web 应用程序使用 https。但我想使用 http/tcp 将 Web 应用程序 -> WCF 通信保持在内部。虽然 WCF 服务也应该有可能将 https 通信暴露给外部。所以问题是：

是否可以将 Web 应用程序和 WCF 服务部署为 Azure 中的一项托管服务？那么如何转发到正确的应用程序，因为每个应用程序都没有唯一的 dns 名称？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T03:32:05.093

您不能让多个角色监听同一个端口，因此如果您的网站和 WCF 服务都需要端口 443，那么它们都必须属于同一个 Web 角色。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T13:12:40.597

根据我的经验，可以在同一个托管服务中拥有多个 Web 应用程序和 (WCF) 服务，根据您需要精确扩展的程度（即：添加更多实例到服务而不是站点）。

您将无法指定不同的自定义域名，因为域名 http://.cloudapp.net 处于托管服务级别。您可以在同一个托管服务中拥有 http://.cloudapp.net/service 和 http://.cloudapp.net/web。

每个[新网站](https://www.windowsazure.com/it-it/home/scenarios/web-sites/)在共享模式下都有自己的域名，但拥有自定义域的功能仅在保留模式下可用。

# android - 缩小相机拍摄的照片并获取图片路径

> ID：12351429
> 
> 赞同：1
> 
> 时间：2012-09-10T12:10:53.100
> 
> 标签：android, android-camera, android-image

我正在尝试缩放用相机拍摄的照片，但我不确定在哪里或如何做到这一点。现在代码正在访问相机，拍照并在列表视图中显示它，我也想获取图片路径，但我也不确定如何执行此操作。任何帮助将不胜感激。

```
/**
     * This function is called when the add player picture button is clicked.
     * It accesses the devices gallery and the user can choose a picture
     * from the gallery.
     * Or if the user chooses to take a picture with the camera, it handles that
     */

    @Override
    public void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        switch (requestCode) {
        case TAKE_PICTURE:
            if (resultCode == Activity.RESULT_OK) {
                Uri selectedImage = imageUri;
                getContentResolver().notifyChange(selectedImage, null);
                ContentResolver cr = getContentResolver();
                this.picPath = selectedImage.getPath();
                Bitmap bitmap;
                try {
                     bitmap = android.provider.MediaStore.Images.Media
                     .getBitmap(cr, selectedImage);
                    imageView = (ImageView) findViewById(R.id.imagePlayer); 
                    imageView.setImageBitmap(bitmap);
                    Toast.makeText(this, selectedImage.toString(),
                            Toast.LENGTH_LONG).show();
                } catch (Exception e) {
                    Toast.makeText(this, "Failed to load", Toast.LENGTH_SHORT)
                            .show();
                    Log.e("Camera", e.toString());
                }
            } 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T14:33:24.233

获取位图图像后，您可以使用 Bitmap 类中的 createScaledBitmap 静态方法

```
 Bitmap.createScaledBitmap(yourBitmap, 50, 50, true); // Width and Height in pixel e.g. 50 
```

但在未来的极端内存不足的 **情况**...

所以为避免**java.lang.OutOfMemory 异常**，请在解码之前检查位图的尺寸，除非您绝对相信来源会为您提供可预测大小的图像数据，这些数据可以舒适地放入可用内存中。

```
 // below 3 line of code will come instead of 
//imageView.setImageBitmap(bitmap);
    ByteArrayOutputStream stream = new ByteArrayOutputStream();         
    photo.compress(Bitmap.CompressFormat.JPEG,100,stream);
    imageView.setImageBitmap(decodeSampledBitmapFromByte(stream.toByteArray(),50,50)); 
```

BitmapFactory 类提供了几种解码方法（decodeByteArray()、decodeFile()、decodeResource() 等），用于从各种来源创建 Bitmap。根据您的图像数据源选择最合适的解码方法。这些方法尝试为构造的位图分配内存，因此很容易导致 OutOfMemory 异常。每种类型的解码方法都有额外的签名，允许您通过 BitmapFactory.Options 类指定解码选项。解码时将 inJustDecodeBounds 属性设置为 true 可避免内存分配，为位图对象返回 null，但设置 outWidth、outHeight 和 outMimeType。此技术允许您在构建位图（和内存分配）之前读取图像数据的尺寸和类型。

```
 // please define following two methods in your activity
    public Bitmap decodeSampledBitmapFromByte(byte[] res,
                int reqWidth, int reqHeight) {

            // First decode with inJustDecodeBounds=true to check dimensions
            final BitmapFactory.Options options = new BitmapFactory.Options();
            options.inJustDecodeBounds = true;
            BitmapFactory.decodeByteArray(res, 0, res.length,options);

            // Calculate inSampleSize
            options.inSampleSize = calculateInSampleSize(options, reqWidth, reqHeight);

            // Decode bitmap with inSampleSize set
            options.inJustDecodeBounds = false;
            return BitmapFactory.decodeByteArray(res, 0, res.length,options);
        }
         public int calculateInSampleSize(BitmapFactory.Options options, int reqWidth, int reqHeight) {
            // Raw height and width of image
            final int height = options.outHeight;
            final int width = options.outWidth;
            int inSampleSize = 1;

            if (height > reqHeight || width > reqWidth) {
                if (width > height) {
                    inSampleSize = Math.round((float)height / (float)reqHeight);
                } else {
                    inSampleSize = Math.round((float)width / (float)reqWidth);
                }
            }
            return inSampleSize;
        } 
```

And please refer following link from Android Training any bitmap related **java.lang.OutofMemoryError: bitmap size exceeds VM budget** [http://developer.android.com/training/displaying-bitmaps/load-bitmap.html](http://developer.android.com/training/displaying-bitmaps/load-bitmap.html)

# python - 为什么我的 django url conf 未能包含另一个应用程序 url 模块

> ID：12351430
> 
> 赞同：2
> 
> 时间：2012-09-10T12:10:56.870
> 
> 标签：python, django

我有一个项目，其根 url conf 内容是：

```
 from django.conf.urls import patterns, include, url
import funnytest
urlpatterns = patterns(
url(r'^funnytest/', include('funnytest.urls')),
url(r'^helloworld/', funnytest.views.hello),
) 
```

funtest是这个项目的一个app，在funnytest中我写了一个模块urls.py来配置这个app的请求：

```
from django.conf.urls import patterns, include, url
from views import *
urlpatterns = patterns(
url(r'^hello/$', hello),
) 
```

当我访问 localhost/funnytest/hello/ 时，返回一个 dispath 错误，表示没有这样的模式

当我访问 localhost/helloworld 时，它运行良好。

呢，应该如何配置～

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-10T12:19:47.647

如果您查看模式函数的定义：

```
def patterns(prefix, *args):
    pattern_list = []
    for t in args:
        if isinstance(t, (list, tuple)):
            t = url(prefix=prefix, *t)
        elif isinstance(t, RegexURLPattern):
            t.add_prefix(prefix)
        pattern_list.append(t)
    return pattern_list 
```

您会看到模式在 url 模式列表之前有一个参数“前缀”。

在两个文件中尝试以下操作： 添加一个空字符串作为模式的第一个参数。

```
from django.conf.urls import patterns, include, url
import funnytest
urlpatterns = patterns(
    '',
    url(r'^funnytest/', include('funnytest.urls')),
    url(r'^helloworld/', funnytest.views.hello),
)

from django.conf.urls import patterns, include, url
from views import *
urlpatterns = patterns(
    '',
    url(r'^hello/$', hello),
) 
```

# html - 不同大小的 div 的网格布局 (ul)

> ID：12351432
> 
> 赞同：5
> 
> 时间：2012-09-10T12:11:01.357
> 
> 标签：html, css, grid, html-lists

实现看起来像这样的无序列表的最佳方法是什么？

![在此处输入图像描述](../Images/7bacd6c4ffcef39f944a847f3f1e792d.png)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-10T12:12:55.163

您可能想看看[jQuery Masonry](http://masonry.desandro.com/)。据我所知，它可能是用于实现此类布局的最流行的工具。

# .net - 使用 LinqToCSV - 忽略额外的列？

> ID：12351436
> 
> 赞同：4
> 
> 时间：2012-09-10T12:11:44.420
> 
> 标签：.net, linq, csv

有什么方法可以使用 LinqToCSV 并只选择特定的列？

例如，我需要每天摄取一个 CSV 文件，其中一个月可能有 14 列，下个月可能有 15 列。目前我已经将它配置为映射所有 14 列，但这确实不理想，因为我真正关心的只有 10 个。

因此，当我抛出一个额外的列时，我会抛出一个 TooManyDataFieldsException 并且 LinqToCSV 不会读取 CSV 文件的任何行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-12-01T20:47:26.490

见这里： http: [//www.codeproject.com/Articles/25133/LINQ-to-CSV-library#EnforceCsvColumnAttribute](http://www.codeproject.com/Articles/25133/LINQ-to-CSV-library#EnforceCsvColumnAttribute)

> 当为 true 时，Read only 将数据字段读取到具有 [CsvColumn] 属性的公共字段和属性中，忽略所有其他字段和属性。而且，Write 只写入具有 [CsvColumn] 属性的公共字段和属性的内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-10-28T04:10:36.460

似乎 IgnoreUnknownColumns 属性可以完成这项工作，

这是我使用的代码：

```
 /// <summary>
    /// The input file without header.
    /// </summary>
    private readonly CsvFileDescription inputFileWithoutHeader = new CsvFileDescription
    {
        SeparatorChar = ',',
        FirstLineHasColumnNames = false,
        EnforceCsvColumnAttribute = true,
        IgnoreUnknownColumns = true
    };

    /// <summary>
    /// The input file with headers.
    /// </summary>
    private readonly CsvFileDescription inputFileWithHeaders = new CsvFileDescription
    {
        SeparatorChar = ',',
        FirstLineHasColumnNames = true,
        EnforceCsvColumnAttribute = false,
        IgnoreUnknownColumns = true
    };

    /// <summary>
    /// The list items.
    /// </summary>
    /// <returns>
    /// The <see>
    ///         <cref>IEnumerable</cref>
    ///     </see>
    ///     .
    /// </returns>
    public IEnumerable<ListItem> ListItems()
    {
        return
            Directory.EnumerateFileSystemEntries(this.path, "ListItem*.csv")
                .SelectMany(chkLstFile => this.csvContext.Read<ListItem>(chkLstFile, this.inputFileWithoutHeader)).Distinct();
    } 
```

然后我从我的存储库中检索我的数据：

```
var myItems = myClassInstance.ListItems().CatchExceptions(ex => Debug.WriteLine(ex.Message)); 
```

为了获得更多控制，我有一个扩展方法来处理受以下启发的错误： [Wrap an IEnumerable and catch exceptions](https://stackoverflow.com/questions/3835633/wrap-an-ienumerable-and-catch-exceptions)

```
 public static IEnumerable<T> CatchExceptions<T>(this IEnumerable<T> src, Action<Exception> action = null)
    {
        using (var enumerator = src.GetEnumerator())
        {
            var next = true;

            while (next)
            {
                try
                {
                    next = enumerator.MoveNext();
                }
                catch (AggregatedException ex)
                {
                    lock (ex)
                    {
                        foreach (var e in ex.m_InnerExceptionsList)
                        {
                            if (action != null)
                            {
                                action(e);
                            }

                            File.AppendAllText(LogFilePath, string.Format("{0}: {1}\r\n", DateTime.Now.ToShortTimeString(), e.Message)); //todo ILogger
                        }
                    }

                    File.AppendAllText(LogFilePath, "-\r\n");
                    continue;
                }
                catch (Exception ex)
                {
                    if (action != null)
                    {
                        action(ex);
                    }

                    lock (ex)
                    {
                        File.AppendAllText(LogFilePath, string.Format("{0}: {1}\r\n", DateTime.Now.ToShortTimeString(), ex.Message)); //todo ILogger
                    }

                    continue;
                }

                if (next)
                {
                    yield return enumerator.Current;
                }
            }
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T16:45:28.717

尝试实现 IDataRow 接口——参见[“读取原始数据行”](http://www.codeproject.com/Articles/25133/LINQ-to-CSV-library)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-09-21T16:22:38.400

您需要 IgnoreUnknownColumns [http://www.codeproject.com/Articles/25133/LINQ-to-CSV-library#IgnoreUnknownColumns](http://www.codeproject.com/Articles/25133/LINQ-to-CSV-library#IgnoreUnknownColumns)

# ios - 设置 alertviewstyle 时应用程序崩溃

> ID：12351437
> 
> 赞同：1
> 
> 时间：2012-09-10T12:11:45.060
> 
> 标签：ios, uialertview

我正在尝试使用`alertviewstyle`来自用户的文本输入。当我在`alertview`不改变样式的情况下展示它时，它可以工作。

当我将样式更改`UIAlertViewStylePlainTextInput`为时出现此错误：

> 错误：地址不包含指向目标文件中某个部分的部分。

我正在使用以下代码：

```
nameAlertView =
    [[UIAlertView alloc] initWithTitle:[langFile objectForKey:@"sequenceTitel"]
                               message:[langFile objectForKey:@"sequenceTitel"]
                              delegate:self
                     cancelButtonTitle:[langFile objectForKey:@"cancel"]
                     otherButtonTitles:[langFile objectForKey:@"save"], nil];

nameAlertView.alertViewStyle = UIAlertViewStylePlainTextInput;

[nameAlertView show];
[nameAlertView release]; 
```

**编辑**

我正在使用 iOS 5.1，我从调试器得到以下反馈：

> 训练工具（2332,0x3f080d98）malloc：*** mmap（大小=1342177280）失败（错误代码=12）** **错误：无法分配区域 ** * 在 malloc_error_break 中设置断点进行调试*

 ** * *

这很奇怪，因为有时在我看来完成相同的操作时它会起作用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T02:36:08.177

我在将部署目标设置为 4.X 时遇到了同样的问题，因为此样式属性仅在 ios5 中受支持。即使您的设备是 ios 5.1，也要确保“部署目标”是 5.1。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:44:54.163

当您中断调试器时，您会发现对象是什么。只需查找调用堆栈，您就会找到释放（或释放）它的位置。这会告诉你它是哪个对象。

设置断点的最简单方法是：

```
Goto Run -> Show -> Breakpoints (Alt-Command-B)
Scroll to the bottom of the list and add the symbol malloc_error_break 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-10T09:38:01.390

不要在显示 UIAlertView 后立即释放它。在委托回调中释放它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-12-25T04:54:11.813

我今天也遇到了同样的问题，我搜索了[这个东西](http://www.openradar.me/20615507)，它解决了我的问题，希望你能回答困惑。这意味着因为在设置alert.alertviewstyle之前，您的键盘是打开的，导致问题，当我在设置alertviewstyle之前关闭键盘时，这是正常的。这是iOS 9之前的一个bug，iOS 9修复了它。*

# blackberry - 以编程方式更改 cod 文件

> ID：12351438
> 
> 赞同：1
> 
> 时间：2012-09-10T12:11:46.463
> 
> 标签：blackberry, hex

这是否可以以编程方式更改安装在 BlackBerry 中的 cod 文件？

像这样：

我的 cod 文件有 1KB（示例）

```
84746474=RIM Runtime API..84747464=RIM Blackberry Apps API. 
```

十六进制：

```
37 34 38 34 38 34 38 34 52 49 4D 20 52 75 6E 74 69 6D 65 20 41 50 49 0D 0A 37 34 38 34 38 34 38 34 3D 52 49 4D 20 42 6C 61 63 6B 62 65 72 72 79 20 41 70 70 73 20 41 50 49 0D 0A 
```

我想将偏移量从：27 替换为 31。（BlackBerry）

TXT：黑莓十六进制 = 42 6C 61 63 6B 62 65 72 72 79 20

我想这样替换： Developers = 44 65 76 65 6C 6F 70 65 72 73

可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T13:48:11.680

安装在实际设备上的 COD 文件已签名。

如果您更改 COD 文件中的任何内容，则签名将被破坏，并且该 COD 文件将变得无法使用。

# android - 如果有足够的空间，请在布局中心查看

> ID：12351444
> 
> 赞同：9
> 
> 时间：2012-09-10T12:12:05.870
> 
> 标签：android, android-layout

我有一个布局，需要将其中一个视图放在中心。这很简单。问题是我还有一些其他视图需要定位到屏幕顶部。

**问题：**如果有足够的空间看起来还可以，但是当屏幕太小时，顶部和中心元素会**重叠**。

**问题：**如果屏幕太小，如何将“居中”元素向下推？

原来的布局很复杂，我准备了一个例子：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<TextView
    android:id="@+id/theOneAtTheTop"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Some long text which may overlap the lower view. Some long text which may overlap the lower view."
    android:layout_alignParentTop="true"
    />

<TextView
    android:id="@+id/theOneInTheMiddlep"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Some long text which may overlap the upper view. Some long text which may overlap the upper view. "
    android:layout_centerInParent="true"
    />

</RelativeLayout> 
```

这是一个小模拟。中间的图片显示了它在小屏幕上的外观，侧面的图片显示了所需的情况。 ![](../Images/051bb28f9e101ab93dedd34500e9936d.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T15:59:10.253

I really doubt you can do this directly in the layout file as a xml layout is not the place for such conditional logic. The only real situation where you could(I think) use the layout file would be if you knew the exact dimensions of the views involved plus the API level of the app would be `3.2`, creating a lot of layouts for different situations(which I really doubt).

If you center one of the views in a `RelativeLayout` it will be centered no matter what, it doesn't have the notion of overlaping views at the xml layout file level. In code is another thing.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T14:59:14.053

好吧，我正在完全改变这个答案。如果所需的对齐方式是垂直的，您可以将代码放在相对布局中，该布局将 _fill_parent_ 并位于 theOneAtTheTop*下方*。在其中，您可以放置​​要垂直居中对齐的视图。

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <TextView
        android:id="@+id/theOneAtTheTop"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:text="Some long text which may overlap the lower view. Some long text which may overlap the lower view." />

    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="fill_parent"
        android:layout_below="@+id/theOneAtTheTop" >

        <TextView
            android:id="@+id/theOneInTheMiddlep"
            android:layout_width="200sp"
            android:layout_height="wrap_content"
            android:layout_centerVertical="true"
            android:text="Some long text which may overlap the upper view. long text which may overlap the upper view. Some long text which may overlap the upper view.  " />
    </RelativeLayout>

</RelativeLayout> 
```

希望能帮助到你

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T15:05:53.093

只需添加`android:layout_below="@+id/theOneAtTheTop"` 到第二个 TextView 就可以了。

```
<TextView
    android:id="@+id/theOneAtTheTop"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Some long text which may overlap the lower view. Some long text which may overlap the lower view.Some long text which may overlap the lower view. Some long text which may overlap the lower view.Some long text which may overlap the lower view. Some long text which may overlap the lower view.Some long text which may overlap the lower view. Some long text which may overlap the lower view.Some long text which may overlap the lower view. Some long text which may overlap the lower view.Some long text which may overlap the lower view. Some long text which may overlap the lower view."
    android:layout_alignParentTop="true"
    />

<TextView
    android:id="@+id/theOneInTheMiddlep"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below="@+id/theOneAtTheTop"
    android:text="Some long text which may overlap the upper view. Some long text which may overlap the upper view. "
    android:layout_centerInParent="true"
    />

</RelativeLayout> 
```

# jquery - 处理 JSON 数据以形成输入字段

> ID：12351446
> 
> 赞同：0
> 
> 时间：2012-09-10T12:12:08.543
> 
> 标签：jquery, ajax, json, each

我有一个 jQuery Ajax 响应，其中包含我需要处理的 JSON 数据并且遇到了问题。每个 JSON“键”代表一个表单输入字段名称属性，它的关联数据需要进入。

目前我的 jQuery Ajax 成功函数有以下不起作用...

```
success: function(data) {

  if(data.Status == "Success"){

     $.each(data, function(key,value){
        $("input[name='" + key + "']").val(value);
     );

  }else{
    // Error stuff
  }
} 
```

任何帮助都非常感谢......我在这里把头发拉出来，我确信这应该很简单。

担

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T12:14:51.777

正确的代码：（你错过了一个`}`）

```
success: function(data) {

  if(data.Status == "Success"){

     $.each(data, function(key,value){
        $("input[name='" + key + "']").val(value);
     }); // here you made mistake

  }else{
    // Error stuff
  }
} 
```

如果上述代码不起作用，请在谷歌浏览器中使用并查看语句`console.log`的值`key`和`value`配对。`each`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:16:40.517

如果 response 实际上是一个 JSON 字符串而不是一个真正的 JS 对象，你应该使用 jQuery.parseJSON(data) 在使用它之前将它实际转换为一个 JS 对象，迭代它等等。

# css - 使用精灵作为输入字段的背景图像，而不会意外显示精灵的其他部分

> ID：12351449
> 
> 赞同：3
> 
> 时间：2012-09-10T12:12:28.570
> 
> 标签：css, css-sprites

在您想使用日历图像作为输入框右侧的图标的精美日历控件之类的东西中，在这种情况下使用精灵的最佳方法是什么？

我们目前有一个带有这个日历图标的精灵设置，但是当输入字段的宽度增加时，它开始显示精灵的其他部分。

Pseudo 选项在这里不起作用，因为 pseudo 不适用于非容器元素。

# django - ugettext：如何处理句子中的变量？

> ID：12351455
> 
> 赞同：6
> 
> 时间：2012-09-10T12:12:58.147
> 
> 标签：django

```
from django.utils.translation import ugettext_lazy as _

_(u"I am off to school at '%s' o'clock" % time) 
```

这有点奇怪，因为我会得到一整行这样翻译

```
"I am off to school at \'%s\' o'clock" 
```

现在如果翻译器错误地删除了\'%s\'，它就会破坏代码。

我应该更好地将句子分成两部分吗？但这可能会给翻译者理解句子上下文带来麻烦。

```
_(u"I am off to school at ") + '%s' + _(u"o'clock") % time 
```

有更好的方法吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-10T12:43:32.863

如果您使用命名字符串插值而不是位置字符串插值，那么如果翻译人员忘记了其翻译字符串中的一个参数，这应该可以保护您免受异常影响。

来自 django 文档的示例：

```
def my_view(request, m, d):
    output = _('Today is %(month)s %(day)s.') % {'month': m, 'day': d}
    return HttpResponse(output) 
```

注意要在字符串替换中使用的 {'name': 'value'} 对的字典。

> 出于这个原因，只要有多个参数，就应该使用命名字符串插值（例如，%(day)s）而不是位置插值（例如，%s 或 %d）。如果您使用位置插值，翻译将无法重新排序占位符文本。

[(django 文档)](https://docs.djangoproject.com/en/dev/topics/i18n/translation/#internationalization-in-python-code)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-10T13:40:31.260

首先，它应该是`_(u"I am off to school at '%s' o'clock") % time`，因为字符串是 grep 并`time`在运行时可用的值之前翻译的。

`try...except`其次，您可以通过使用以下方式包装代码来保护您的代码[`string.Template.safe_substitute`](http://docs.python.org/library/string.html#string.Template.safe_substitute)：

```
from string import Template 

# for ugettext
Template(ugettext(u"I am off to school at '$time' o'clock")).safe_substitute(time=time)

# for ugettext_lazy
from django.utils.encodings import force_unicode
Template(force_unicode(ugettext_lazy(u"I am off to school at '$time' o'clock"))).safe_substitute(time=time)

# shortcut
def safe_trans(msg, **kwargs):
    return Template(force_unicode(msg)).safe_substitute(kwargs)
safe_trans(_("I am off to school at '$time' o'clock"), time=12) 
```

# c# - 从 C# 程序创建电子邮件并通过 POST 将其发送到 Gmail

> ID：12351457
> 
> 赞同：0
> 
> 时间：2012-09-10T12:13:00.333
> 
> 标签：c#, email, gmail

我正在创建这样的电子邮件：

```
System.Diagnostics.Process.Start(
    string.Format("mailto:{0}?&subject=Test&body={1}", 
        string.Join(", ", emails), 
        string.Join("\n", temp.ToArray())
    )
); 
```

但是 Gmail 说链接太长了。我读过[这篇](https://developers.google.com/chart/image/faq#url_length)文章，如果我通过 POST 发送它似乎可以解决我的问题，因为 16K 对我来说就足够了。是否有可能做到这一点以及如何做到这一点？

**更新**我在示例中提到了 Gmail 的案例，但我需要任何默认的电子邮件软件才能使用它。例如，如果它用 Outlook 打开，我也需要它工作。

**问题更新/澄清**如何使用 POST 而不是使用 GET 发送请求（上图）（因为 GET 的限制太短）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:32:46.523

我认为你有两个选择。

一种是通过添加`&attachment=<filename.html>`到您的`mailto`URL 来将您的消息正文创建为附件。一些电子邮件客户端支持这一点，也许将`mailto`链接转换为 GMail 请求的 Google 代码也支持这一点。

如果上述方法不起作用，并且您确定只想使用 GMail，则需要切换到直接与服务器通信。您可以使用 GMail SMTP 服务器。在此处阅读他们对身份验证的支持：[https](https://developers.google.com/google-apps/gmail/oauth_overview) ://developers.google.com/google-apps/gmail/oauth_overview 。

# c++ - 在 C++ 中的 for 循环中重新声明变量

> ID：12351460
> 
> 赞同：15
> 
> 时间：2012-09-10T12:13:07.287
> 
> 标签：c++, for-loop, declaration

在尝试为多个平台编译以下（简化的）代码时，我发现它在某些平台上失败了，即 IBM 的 xlC_r。进一步的调查发现，它在 comeau 和 clang 上也失败了。它可以使用 g++ 和 Solaris 的 CC 成功编译。

这是代码：

```
int main()
{
    int a1[1];
    bool a2[1];

    for (int *it = a1, *end = a1+1; it != end; ++it) {
        //...
        bool *jt = a2, *end = a2+1;
        //...
    }
} 
```

xlC_r 错误：

```
"main.cpp", line 8.25: 1540-0400 (S) "end" has a conflicting declaration.
"main.cpp", line 6.25: 1540-0425 (I) "end" is defined on line 6 of "main.cpp". 
```

叮当错误：

```
main.cpp:8:25: error: redefinition of 'end' with a different type
        bool *jt = a2, *end = a2+1;
                        ^
main.cpp:6:25: note: previous definition is here
    for (int *it = a1, *end = a1+1; it != end; ++it) {
                        ^ 
```

喜剧错误：

```
"ComeauTest.c", line 8: error: "end", declared in for-loop initialization, may not
          be redeclared in this scope
          bool *jt = a2, *end = a2+1;
                          ^ 
```

问题是为什么这是一个错误？

纵观 2003 年标准，它说以下（6.5.3）：

```
The for statement
    for ( for-init-statement; condition; expression ) statement
is equivalent to
    {
        for-init-statement;
        while ( condition ) {
            statement;
            expression;
        }
    }
except that names declared in the for-init-statement are in the same
declarative-region as those declared in condition 
```

这里没有在条件中声明的名称。

此外，它说（6.5.1）：

```
When the condition of a while statement is a declaration, the scope
of the variable that is declared extends from its point of declaration
(3.3.1) to the end of the while statement. A while statement of the form
    while (T t = x) statement
is equivalent to
    label:
    {
        T t = x;
        if (t) {
            statement;
            goto label;
        }
    } 
```

同样，我不确定这是否相关，因为条件中没有声明。因此，鉴于 6.5.3 的等效重写，我的代码应该与以下内容相同：

```
int main()
{
    int a1[1];
    bool a2[1];

    {
        int *it = a1, *end = a1+1;
        while (it != end) {
            //...
            bool *jt = a2, *end = a2+1;
            //...
            ++it;
        }
    }
} 
```

这显然会允许重新声明 end 。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-10T12:17:50.550

这个标准有点模棱两可。您引用的等效于`while`循环的代码意味着存在一个内部范围，循环内的声明可以隐藏条件中的声明；但是标准也说（引用 C++11，因为我手边没有 C++03）：

> 6.4/2 条件规则既适用于选择语句，也适用于`for`and`while`语句
> 
> 6.4/3 如果名称在由条件控制的子语句的最外层块中重新声明，则重新声明名称的声明格式不正确。
> 
> 6.5.3/1 在 for-init-statement 中声明的名称与在条件中声明的名称在同一声明区域中

它们之间意味着不能重新声明名称。

该语言的较旧（1998 年之前）版本将 for-init-statement 中的声明放入循环外的声明性区域中。这意味着您的代码将是有效的，但这不会：

```
for (int i = ...; ...; ...) {...}
for (int i = ...; ...; ...) {...}  // error: redeclaration of i 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-10T12:29:39.757

我认为代码是正确的。IMO，问题出在大括号上。请注意，for 语句定义为：

> for ( for-init-statement; 条件; 表达式 ) 语句

循环体没有大括号，它们是在使用复合语句时添加的。但是复合语句添加了自己的声明区域，因此内部声明不应与`for-init-statement`.

以下代码可以使用 clang 和 G++ 编译（注意双括号）：

```
for (int *it = a1, *end = a1+1; it != end; ++it) {{
    //...
    bool *jt = a2, *end = a2+1;
    //...
}} 
```

我的猜测是，clang 编译器试图优化，好像循环被定义为：

> for ( for-init-statement; 条件; 表达式 ) **{** statement-seq **}**

随着含义的细微变化：两个声明区域融合在一起。

然而，在第二个方面，即使它根本没有使用大括号：

```
for (int x=0; ;)
    char x; 
```

它应该正确编译。来自 C++ 草案 6.5，par。2：

> 迭代语句中的子语句隐式定义了块范围。

因此`char x;`，它本身（隐式）定义了一个块范围，并且不应发生冲突的声明。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T12:38:52.130

当前版本的标准对此很清楚：

> ### 6.5 迭代语句 [stmt.iter]
> 
> 2 -*迭代语句中的子语句*[例如，`for`循环] 隐含地定义了一个块范围（3.3），每次通过循环进入和退出。

C 有类似的规则：

> ### 6.8.5 迭代语句
> 
> 语义
> 
> 5 - 迭代语句是一个块，其范围是其封闭块范围的严格子集。循环体也是一个块，其范围是迭代语句范围的严格子集。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-10T16:17:36.810

一些通常较旧的编译器使在 for 循环中声明的变量在循环范围之外可见。

为了使所有编译器使用更新（和更好）的方式运行，声明一个宏，如下所示：

```
// In older compilers, variables declared in a for loop statement
// are in the scope of the code level right outside the for loop.
// Newer compilers very sensibly limit the scope to inside the
// loop only. For compilers which don't do this, we can spoof it
// with this macro:
#ifdef FOR_LOOP_VARS_NEED_LOCAL_SCOPE
   #define for if(0); else for
#endif 
```

然后为每个具有较旧行为的编译器定义 FOR_LOOP_VARS_NEED_LOCAL_SCOPE。例如，对于 MSVC < 8，您将如何做到这一点：

```
#ifdef _MSC_VER
   #if _MSC_VER < 1400   //  earlier than MSVC8
      #define FOR_LOOP_VARS_NEED_LOCAL_SCOPE
   #endif
#endif 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-12-31T00:19:29.480

我在这里参加聚会有点晚了，但我认为 C++11 标准中的这段话最清楚地不允许这样做：

> ### 3.3.3 块范围 [basic.scope.local]
> 
> 4 -**在 for-init-statement、for-range-declaration**以及 if、while、for 和 switch 语句的条件中声明的名称对于 if、while、for 或 switch 语句（包括受控语句），并且**不得在该语句的后续条件中或受控语句的最外层块（或者，对于 if 语句，任何最外层块）中重新声明**；见 6.4。

# c++ - 在 Objective-C++ 中重载 [] 运算符

> ID：12351461
> 
> 赞同：1
> 
> 时间：2012-09-10T12:13:08.663
> 
> 标签：c++, objective-c, operator-overloading, objective-c++

> **可能重复：**
> [我可以在 Objective-C 中重载运算符吗？](https://stackoverflow.com/questions/3613980/can-i-overload-an-operator-in-objective-c)

在objective-C++中，是否可以重载消息传递运算符，即[]？是否可以与“。”相同？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:44:51.523

运算符重载只是 C++ 的一个特性，而不是 Objective-C 的特性。查看问题： [我可以在 Objective-C 中重载运算符吗？](https://stackoverflow.com/questions/3613980/can-i-overload-an-operator-in-objective-c)

根据我对 C++ 的了解（不知道它在 Objective-C++ 中的完全支持），您可以重载 [] 运算符，但不能重载 . 运算符，您可以[在此处](http://www.cplusplus.com/doc/tutorial/classes2/)阅读。

**编辑**（在 JefferyThomas ty 的输入之后）：Objective-C++ 不支持重载消息传递操作符。我给出的答案是正确的，但不适用于该运算符（仅适用于数组下标或 c++ 的其他“功能”）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T13:13:11.560

好吧，这取决于您希望重载的消息传递做什么。

Objective C 中的消息传递是动态的，您可以在多个级别将代码插入到消息传递系统中。最简单的是[消息转发](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtForwarding.html)。除此之外，还有[动态方法解析](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtDynamicResolution.html)和[运行时](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ObjCRuntimeRef/Reference/reference.html)使用[`class_replaceMethod()`](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ObjCRuntimeRef/Reference/reference.html#//apple_ref/doc/uid/TP40001418-CH1g-SW66)。

Objective-C 属性的点运算符是消息传递的捷径。它就像消息传递调用`-prop`以及`-setProp:`获取和设置属性一样工作。

C 结构的点运算符不可重载。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T13:01:59.773

为了重载 c++ 下标运算符，

```
class MyClass {
private: 
    int myList[10];
public:
    int& operator [] (const int index) {return myList[index];} // Check for index out of bounds if necessary.
}; 
```

这是它通常的样子。int& 用于返回引用，因此您可以编写

```
MyClass a;
a[1] = 3; 
```

如果没有 int&，您只能访问它，而不能修改它。[在这里](http://www.learncpp.com/cpp-tutorial/74a-returning-values-by-value-reference-and-address/)阅读更多。

您不能在 Objective-C 中重载运算符。关于您重载“。”的问题，您只能重载一些运算符，即：

```
+    -    *    /    =    <    >    +=   -=   *=   /=   <<   >>
<<=  >>=  ==   !=   <=   >=   ++   --   %    &    ^    !    |
~    &=   ^=   |=   &&   ||   %=   []   ()   ,    ->*  ->   new 
delete    new[]     delete[] 
```

# objective-c - 读取 AFNetworking 响应标头

> ID：12351464
> 
> 赞同：14
> 
> 时间：2012-09-10T12:13:21.350
> 
> 标签：objective-c, xcode, afnetworking

我试图弄清楚如何从 AFNetworking 请求中读取响应标头？

是否有可能在以下代码段中，还是我需要采取另一种方法？

```
// Create client
AFHTTPClient *client = [[AFHTTPClient alloc] initWithBaseURL:[NSURL URLWithString:@"http://example.com/"]];

// Send request
[client getPath:@"/test" parameters:nil success:^(AFHTTPRequestOperation *operation, id response) {

} failure:^(AFHTTPRequestOperation *operation, NSError *error){

}]; 
```

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-09-10T12:51:44.963

完成此操作的最简单方法是使用在成功和失败块中都可用的 AFHTTPRequestOperation 实例的响应属性（而不是块的响应对象）。

此响应对象是[NSHTTPURLResponse](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSHTTPURLResponse_Class/Reference/Reference.html)的一个实例，您可以向它发送一条消息 `allHeaderFields`以获取请求的所有标头。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-09-18T19:36:59.533

很简单，因为接受的答案实际上没有示例：

```
[operationInstance setCompletionBlockWithSuccess:^(AFHTTPRequestOperation *operation, id responseObject) {
       NSLog(@"%@", operation.response.allHeaderFields);
}]; 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2014-05-20T07:52:38.417

我无法通过 `[[operation response] allHeaderFields]`or解决它`operation.response.allHeaderFields`，因为它给出了编译错误。

我只是将其类型转换为`(NSDictionary *)`并访问键值

`[[(NSDictionary *)operation valueForKey: @"response"] valueForKey: @"allHeaderFields"]`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-02-24T06:52:42.447

```
NSDictionary *responseheaders = [HTTPResponse allHeaderFields];
NSString *newtoken = [responseheaders valueForKey:@"Authorization"]; 
```

# python - Python 3：对二维矩阵中的行进行排序，其中列是列表

> ID：12351465
> 
> 赞同：3
> 
> 时间：2012-09-10T12:13:21.283
> 
> 标签：python, python-3.x

我创建了一个像这样的二维矩阵：

```
45  67  Row  Fine
25  22  Abe  Real
58  54  Abe  Noon 
```

每列都是一个列表。行中的值是连接在一起的，因此第三行中索引号为 2 的值属于彼此。

我想对行进行排序，首先在第三行，然后在第四行，使其变为：

```
58  54  Abe  Noon  
25  22  Abe  Real 
45  67  Row  Fine 
```

我不知道该怎么走。我可以对一个列表进行排序，该列表具有第三列的值。然后找出新的索引号并将它们与旧的进行比较。然后我也可以调整其他列表，以便所有行再次正确。但是我仍然需要对第四行进行排序。

[我在这里](https://stackoverflow.com/questions/2173797/how-to-sort-2d-array-by-row-in-python)看到了一些用于对列表列表进行排序的代码，但是我需要行列表而不是列列表（如果我理解得很好的话）。

还是创建字典是一种明智的方式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:26:17.103

您有一个列列表。要将其放入行列表，您可以使用[`zip`](http://docs.python.org/library/functions.html#zip)：

```
iterable_of_rows = zip(*my_list_of_columns) 
```

将其与执行这些操作的典型方法相结合：

```
import operator
sorted_list_of_rows = sorted(zip(*my_list_of_columns), key = operator.itemgetter(2,3))
list_of_columns = list(zip(*sorted_list_of_rows)) 
```

和测试：

```
>>> my_list_of_columns = [[45,25,48],[67,22,54],["Row","Abe","Abe"],["Fine","Real","Noon"]]
>>> import operator
>>> sorted_list_of_rows = sorted(zip(*my_list_of_columns), key = operator.itemgetter(2,3))
>>> list_of_columns = list(zip(*sorted_list_of_rows))
>>> list_of_columns
[(48, 25, 45), (54, 22, 67), ('Abe', 'Abe', 'Row'), ('Noon', 'Real', 'Fine')] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:26:37.747

直接使用列列表很麻烦，但您可以使用`zip`和使用行：

```
>>> print(data)
[[45, 25, 58], [67, 22, 54], ['Row', 'Abe', 'Abe'], ['Fine', 'Real', 'Noon']]

>>> print(sorted(zip(*data), key=lambda x: (x[2], x[3])))
[(58, 54, 'Abe', 'Noon'), (25, 22, 'Abe', 'Real'), (45, 67, 'Row', 'Fine')] 
```

# oracle11g - 使用 IBatis（Oracle 11g 数据库）中的 RowHandler 一次获取 100 行 - 示例

> ID：12351467
> 
> 赞同：2
> 
> 时间：2012-09-10T12:13:25.537
> 
> 标签：oracle11g, ibatis

我需要从 oracle 数据库中获取 200 万条记录（1 年数据）。
当我将它作为列表检索时，它需要'n'分钟并且它挂起。

```
sqlMap.queryForList("getResultSet", parameterMap); 
```

所以，我尝试实现 IBatis`"RowHandler"`接口，我重写了`"handleRow(Object obj)"`，我能够得到结果（一次一行）。

但是我需要在 n >= 1000 的时候获取 'n' 行。所以我`fetchSize="1000" and resultSetType="FORWARD_ONLY"`在我的 select 语句中添加了属性。

例如：

```
<select id='getResultSet' parameterClass='java.util.Map' fetchSize="1000" resultSetType="FORWARD_ONLY"> 
```

`"handleRow(Object obj)"`但我仍然在该方法 中一次只得到一行。

```
@Override
public void handleRow(Object queryResult) {     

        if(queryResult != null) {

            try {

                tempResultMap = (ClassName) queryResult;
                resultList.add(tempResultMap);
                System.out.println("List Size -> " + reportList.size());
            } catch (Exception e) {
                e.printStackTrace();
            }       
        }   
    } 
```

在查询执行期间调用该方法时，`"List Size ->"`始终递增 1。但我预计增长率为 1000（正如我给出的 fetchSize = "1000"）...

当我用谷歌搜索时，有一个属性 available( `Driver.useCursorFetch`) 可以与`"fetchSize" and "resultSetType"`.
参考：[http](http://www.yaldex.com/mysql_manual/ch23s04.html) ://www.yaldex.com/mysql_manual/ch23s04.html或[Ibatis queryWithRowHandler() 似乎仍然获取所有行](https://stackoverflow.com/questions/3870500/ibatis-querywithrowhandler-still-seems-to-fetch-all-rows)。
但我认为它仅适用于 MySQL 数据库。Oracle 11g 数据库
的等效属性 ( ) 是什么。 我需要一些如下配置。 `Driver.useCursorFetch`

```
<bean id="sourceName" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close">
    <property name="driverClassName" value="oracle.jdbc.driver.OracleDriver" />                         
    <property name="url" value="jdbc:oracle:thin:@host:port:sid" />
    <property name="username" value="$uname" />
    <property name="password" value="$pwd" />
    <!-- 
    Some thing like this 
    <property name="configName(Instead of Driver.useCursorFetch)" value="true/false" />
    -->

</bean> 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-05T16:14:55.017

`handleRow`只给你一行。如果我正确理解您的情况，使用`fetchSize`，您应该能够删除您的方法。`handleRow`

如果您确实需要单独处理每个行，您可以使用私有列表创建一个有状态（非单例）RowHandler 并实现观察者模式，每次达到 1000 条记录时通知侦听器。

# titanium - 如何更新当前窗口中的文本标签

> ID：12351470
> 
> 赞同：1
> 
> 时间：2012-09-10T12:13:29.727
> 
> 标签：titanium, appcelerator, titanium-mobile, appcelerator-mobile

我需要使用从 JSON 响应返回的新数据更新 win1.title（标签）。我可以在我的控制台 win1.title 值上打印，但我不能为其分配新值！

**应用程序.js**

```
var win1 = Titanium.UI.createWindow({
    title:'Tab 1',
    backgroundColor: 'black',
    layout: 'vertical',
    url: 'win1.js',
    title: 'Loading...',
    artist: '' });

win1.open();

//Fetching data

var jsonData = ''; var pointer = 0;

var url = "http://example.com"; var xhr = Ti.Network.createHTTPClient({
    onload: function(e) {

        jsonData = JSON.parse(this.responseText).response.songs;

        //HERE I NEED TO UPDATE win1.title with title returned by JSON
        /*
           if a print win1.title it works correctly.
             console.log(win1.title);

           but if I try to assign data to win1.title nothing happens, even a error!

        */

        win1.addEventListener('swipe', function(e) {
                        console.log("win1 title:" + win1.title);            win1.title = jsonData[pointer].title;           win1.artist = jsonData[pointer].artist_name;            win1.image = jsonData[pointer].tracks[0].release_image;

                    });

    },
    onerror: function(e) {
        console.log(e);
    },
    timeout:20000  /* in milliseconds */ }); xhr.open("GET", url); xhr.send();  // request is actually sent with this statement 
```

**win1.js**

```
(function() {

    var win1 = Ti.UI.currentWindow;

    var image = Ti.UI.createImageView({
      image:win1.image,
      top: 40
    });

    var title = Ti.UI.createLabel({
      color: 'white',
      font: { fontSize:38 },
      text: win1.title,
      textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER,
      top: 20,
      width: 'auto', height: 'auto'
    });

    var artist = Ti.UI.createLabel({
      color: 'white',
      font: { fontSize:28 },
      text: win1.artist,
      textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER,
      top: 30,
      width: 'auto', height: 'auto'
    });

    win1.add(title);
    win1.add(artist);
    win1.add(image);

})(); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-10T22:39:20.907

在这种情况下，设置`win1.title = 'some title';`不会像你想象的那样做。 [Titanium Window 对象](http://docs.appcelerator.com/titanium/2.1/index.html#!/api/Titanium.UI.Window)有一个[title](http://docs.appcelerator.com/titanium/2.1/index.html#!/api/Titanium.UI.Window-property-title)属性，根据您是为 iOS 还是 Android 构建，您将在模态窗口的顶部或窗口位于选项卡组或导航组中时看到此标题。

您的代码正在更新此标题，但您可能没有看到它。（尝试添加`modal:true`到您的`createWindow()`声明中。）此外，您已经设置了 2 个`title`属性，因此请删除其中一个。

要更改 win1.js 上名为 'title' 的变量中的标签文本，您可以执行以下操作：

在 win1.js 中，添加以下内容：

```
win1.updateTitle = function(newTitle){
    title.text = newTitle;
} 
```

然后，回到 app.js，转到您要更新标题的任何地方并执行以下操作：

```
win1.updateTitle('new title'); 
```

此外，您应该考虑在您的 Titanium 项目中使用 CommonJS：

[CommonJS 最佳实践](http://docs.appcelerator.com/titanium/2.1/index.html#!/guide/Mobile_Best_Practices-section-29004793_MobileBestPractices-ApplicationsshallbemodularandobjectorientedusingCommonJSmodules)

# html - 如何安排这样的div

> ID：12351472
> 
> 赞同：-2
> 
> 时间：2012-09-10T12:13:43.153
> 
> 标签：html, css

我想像图片上那样排列div，但我不知道如何。

也许填充可以设置自动？

![列出的类别](../Images/2e8e08b5d1f72f4394c57c540ae84aa8.png)

谁能帮我？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T09:03:52.477

```
<style type="text/css">
           .main-container{
               width:400px; 
               background: #007caa;
               display: block
           }
            .block{ 
                display: block; 
                display: inline-block;
                width:auto;
                margin:5px; 
                background: #dbf2fa;
                padding: 10px;
            }
            *+html .block{
                display: inline
            }
        </style>

      </head>

      <body>
          <div class="main-container">
              <div class="block">Development</div>
              <div class="block">Designing</div>
              <div class="block">Drupal</div>
              <div class="block">Omega</div>
              <div class="block">Drupal</div>
              <div class="block">Designing</div>
              <div class="block">Development</div>
              <div class="block">Drupal</div>
              <div class="block">Omega</div>
              <div class="block">Development</div>
              <div class="block">Drupal</div>
              <div class="block">Omega</div>

          </div> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:19:51.907

一种可能有助于[w3c FlexBox 模型规范](http://www.w3.org/TR/css3-flexbox/)的不同方法......但如果没有关于您的场景的更多细节，很难说。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T12:53:05.347

您可以尝试使用 inline-block 执行此操作。可能是这类事情的最佳方法，但在较低版本的 IE 中并不普遍支持。

JSFiddle 示例：http: [//jsfiddle.net/NdK7c/](http://jsfiddle.net/NdK7c/)

仅供参考：您可以通过向父 UL 元素添加正数来创建每个元素之间的间距`letter-spacing`，然后添加`letter-spacing: normal`子 li 元素以纠正继承的字母间距。

更新小提琴：http: [//jsfiddle.net/2suGg/1/](http://jsfiddle.net/2suGg/1/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-10T13:56:26.763

谢谢！这适用于 IE，但不适用于 Chrome .. :(

```
.enlarge-categores  ul{
    text-align: justify;
    text-justify:distribute;

}
.enlarge-categores ul li{
    color: white;
    font-size: 14px; 
    display:inline;
    padding-left: 20px;
    padding-right: 20px;
    padding-top: 10px;
    padding-bottom: 10px;
    line-height: 60px;
    margin:10px;
    background-color:#f39900;

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-10T12:25:10.103

我们可以使用 CSS 'display' 和 'float' 样式来排列 div 就像你提到的图像。如果使用浮动样式意味着我们必须在最后一个浮动 div 的末尾清除浮动。

请参阅链接[http://jsfiddle.net/ybhR9/2/](http://jsfiddle.net/ybhR9/2/)了解样式“显示”概念。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-10T12:29:28.023

我假设您正在尝试实现合理的对齐（在左侧和右侧对齐）。

我建议从 Javascript 分配边距，然后让 div 内联流动。不需要漂浮。

算法：

```
- Whenever the container is resized
-- Create a copy of the container such that it is not user-visible but still layouted by the browser
-- Set all element margins to zero
-- Collect the elements by rows
-- For each row (except the last one, maybe)
--- Calculate the largest element margin that will not cause an overflow
--- Round down to whole pixels
--- Determine the deficit due to rounding
--- Set each element the margin, and distribute the deficit (one pixel to each)
-- Force the browser to recalculate the layout
-- Replace the container with the new one 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-10T12:47:32.197

您应该尝试更好的方法并从那里开始工作：

```
ul{
  text-align:justify;
}
ul li{
  display:inline;
  padding:10px;
  margin:10px;
  line-height:60px;
  background-color:orange;
  white-space:nowrap;
} 
```

# python - 正则表达式可调用迭代器获取长度

> ID：12351475
> 
> 赞同：1
> 
> 时间：2012-09-10T12:13:53.930
> 
> 标签：python, regex, iterator

假设我有以下代码：

```
>>> a = re.finditer("(?P<char>\w)","hello world")
>>> for i in a:
    print i.groupdict()

{'char': 'h'}
{'char': 'e'}
{'char': 'l'}
{'char': 'l'}
{'char': 'o'}
{'char': 'w'}
{'char': 'o'}
{'char': 'r'}
{'char': 'l'}
{'char': 'd'} 
```

如您所见，有结果，一切都很棒！但是，我希望能够知道`len(a)`我会这样做：

```
>>> len(a)
Traceback (most recent call last):
  File "<pyshell#79>", line 1, in <module>
    len(a)
TypeError: object of type 'callable-iterator' has no len() 
```

我的问题是，我如何获得 的长度`a`，或者更一般地说，如何获得 callable-iterator 的长度，以便在解析它们之前知道是否有任何结果。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-10T12:15:23.403

您需要将 iterable 转换为列表以获取长度：

```
len(list(a)) 
```

请注意，这*会消耗*可迭代对象，因此您可能无法再次对其进行迭代。在调用它之前将结果存储`list(a)`在中介`len()`中，以便能够重用列表中的所有元素：

```
a = list(a)
len(a) 
```

# ios - 应用程序“iGtalk”异常退出，信号 9：已终止：9

> ID：12351477
> 
> 赞同：0
> 
> 时间：2012-09-10T12:13:59.270
> 
> 标签：ios, memory-management, memory-leaks, xcode4.2

我正在运行我的应用程序 20-30 分钟，我检查了内存泄漏，其中没有内存泄漏。我在我的应用程序中使用 MapView 将它的位置发送到服务器，20 分钟后它可以正常工作，但 20 到 25 分钟后它会崩溃，给出这个日志

```
Sep 10 17:05:06 unknown UserEventAgent[19] <Notice>: jetsam: kernel termination snapshot being created
Sep 10 17:05:06 unknown com.apple.launchd[1] <Notice>: (UIKitApplication:com.apple.mobilemail[0x585e]) Exited: Killed: 9
Sep 10 17:05:06 unknown com.apple.launchd[1] <Notice>: (UIKitApplication:com.ephlux.VeloCity[0xfbfb]) Exited: Killed: 9
Sep 10 17:05:06 unknown com.apple.launchd[1] <Notice>: (UIKitApplication:com.iappventures.gtalk[0x75e0]) Exited: Killed: 9
Sep 10 17:05:06 unknown SpringBoard[27] <Warning>: Application 'VeloCity' exited abnormally with signal 9: Killed: 9
Sep 10 17:05:07 unknown com.apple.locationd[68] <Notice>: NOTICE,Location icon should now not be visible
Sep 10 17:05:07 unknown SpringBoard[27] <Warning>: Application 'Mail' exited abnormally with signal 9: Killed: 9
> 
Sep 10 17:05:07 unknown SpringBoard[27] <Warning>: Application 'iGtalk' exited abnormally with signal 9: Killed: 9
Sep 10 17:05:08 unknown kernel[0] <Debug>: Sandbox: ignoring builtin profile for platform app: /private/var/stash/Applications/MobileMail.app/MobileMail
Sep 10 17:05:08 unknown kernel[0] <Debug>: launchd[608] Builtin profile: container (sandbox)
Sep 10 17:05:08 unknown kernel[0] <Debug>: launchd[608] Container: /private/var/mobile/Applications/124A80FF-4E09-4E60-8D3C-CE8C194F4801 [69] (sandbox)
> 
Sep 10 17:05:09 unknown ReportCrash[605] <Notice>: MS:Notice: Installing: (null) [ReportCrash] (675.00)
Sep 10 17:05:09 unknown iLocation[608] <Notice>: MS:Notice: Installing: com.iappventures.gtalk [iLocation] (675.00)
Sep 10 17:05:09 unknown MobileMail[606] <Notice>: MS:Notice: Installing: com.apple.mobilemail [MobileMail] (675.00)
Sep 10 17:05:09 unknown iLocation[608] <Notice>: MS:Notice: Loading: /Library/MobileSubstrate/DynamicLibraries/Activator.dylib
Sep 10 17:05:09 unknown MobileMail[606] <Notice>: MS:Notice: Loading: /Library/MobileSubstrate/DynamicLibraries/Activator.dylib
Sep 10 17:05:09 unknown ReportCrash[605] <Error>: Saved crashreport to /Library/Logs/CrashReporter/LowMemory-2012-09-10-170509.plist using uid: 0 gid: 0, synthetic_euid: 0 egid: 0
> 
Sep 10 17:05:11 unknown iLocation[608] <Warning>: Sound ID has been created
�&gt; �&gt; 
Sep 10 17:05:13 unknown com.apple.locationd[68] <Notice>: NOTICE,Location icon should now be visible
Sep 10 17:05:13 unknown iLocation[608] <Warning>: labelRect ={{10, 0}, {70, 41}}
Sep 10 17:05:13 unknown iLocation[608] <Warning>: self.textField.frame ={{100, -1}, {210, 43}}
Sep 10 17:05:13 unknown iLocation[608] <Warning>: labelRect ={{10, 0}, {70, 40}}
Sep 10 17:05:13 unknown iLocation[608] <Warning>: self.textField.frame ={{100, -1.5}, {210, 43}}
Sep 10 17:05:13 unknown iLocation[608] <Warning>: labelRect ={{10, 0}, {70, 39}}
Sep 10 17:05:13 unknown iLocation[608] <Warning>: self.textField.frame ={{100, -1}, {210, 43}}
Sep 10 17:05:13 unknown iLocation[608] <Warning>: labelRect ={{10, 0}, {70, 39}}
Sep 10 17:05:13 unknown iLocation[608] <Warning>: self.textField.frame ={{100, -1.5}, {210, 43}}
Sep 10 17:05:13 unknown spd[609] <Notice>: MS:Notice: Installing: (null) [spd] (675.00)
Sep 10 17:05:13 unknown wifid[49] <Error>: WiFi:[368971513.595893]: Disable WoW requested by "spd"
> 
Sep 10 17:05:15 unknown com.apple.locationd[68] <Notice>: NOTICE,Location icon should now not be visible
�&gt; �&gt; 
Sep 10 17:10:07 unknown SpringBoard[27] <Notice>: Posting 'com.apple.iokit.hid.displayStatus' notifyState=0
Sep 10 17:10:07 unknown SpringBoard[27] <Notice>: MultitouchHID: detection mode: 0->255 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T07:05:46.090

当您的应用程序的内存使用量逐渐增加时，这种情况更有可能发生。当前台应用程序需要更多内存时，操作系统会一一杀死后台应用程序，以便为前台应用程序提供尽可能多的内存。但是，当前台应用程序的内存使用量超过可用内存量时，操作系统也会终止前台应用程序并生成崩溃报告。

# php - 使用php擦除数据库列上的数据

> ID：12351479
> 
> 赞同：-1
> 
> 时间：2012-09-10T12:14:07.180
> 
> 标签：php, sql

你好，我想要实现的是结合这行代码：这是给我的用户 Registrar

```
 if (isset($_POST['unenroll'])){
                $sql1="Update tbl_enroll SET status='unEnrolled'";
                    $unEn = mysql_query($sql1) or die (mysql_error());
                    } 
```

另一个代码只会截断**我**的数据库中的字段**COUNT** 到目前为止，这就是我的想法：

```
 if (isset($_POST['unenroll'])){
                $sql1="Update tbl_enroll SET status='unEnrolled'";
                    $unEn = mysql_query($sql1) or die (mysql_error());
                $trunc="Delete count from tbl_enroll";
                    $restart = mysql_query($trunc) or die (mysql_error());
                    } 
```

顺便说一下，我想删除所有数据同时保持列是**计数**的列我这样做对吗？因为我现在不想擦除所有数据，而且这种编码结构是否正确？为什么我这样做是因为我的系统中有一个操作将允许另一种类型的用户仅更新 3 次，所以我希望我的**注册商**如果满足某个时间段，**注册商**将重新开始**计数**以重新从 0 开始。（以我的基本知识我正在尝试学习mysql，不需要提醒我有关**Mysqli**或**PDO**的信息，我会在我更好的时候到达那里）

已编辑：请再读一遍。已编辑：我的坏所以截断是个坏主意。我只想让我的数据库中的列**数**擦除/刷新整个数据，但维护列本身。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:32:27.193

由于您在回答表单中要求我发表评论，因此您可以简单地将 SET 之后的更多列更新与逗号相结合来制作您的代码：

```
 if (isset($_POST['unenroll']))
 {
     $sql1="Update tbl_enroll SET status='unEnrolled', count = 0";
     $unEn = mysql_query($sql1) or die (mysql_error());
 } 
```

# magento - Magento：在目录 -> 管理产品中添加产品页面链接？

> ID：12351482
> 
> 赞同：0
> 
> 时间：2012-09-10T12:14:23.263
> 
> 标签：magento

我需要为 Magento 做两件事，这应该由官方团队完成。

1.  如何在目录 -> 管理产品的每个产品行的末尾添加指向单个产品页面的链接？就像 WordPress 一样，作者/管理员可以轻松地点击打开帖子列表中每个帖子的帖子页面。我什至不确定我应该编辑哪个 phtml 文件。

2.  特权管理员登录后，如何在单个产品页面上添加“编辑产品”链接，该链接指向产品的编辑器？就像 WordPress 一样，每个帖子页面的元行都应该有一个“编辑帖子”链接，该链接指向帖子的编辑器。我知道我应该编辑 catalog/product/view.phtml 但是如何以编程方式获取当前产品的后端编辑器链接？

有人可以告诉我如何实现这两件事吗？非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:44:52.337

终于自己解决了第一个问题。详细说明可以在这里找到：http: [//www.magengoreview.com/add-view-product-page-link-to-products-list-at-catalog-manage-products~280](http://www.magentogoreview.com/add-view-product-page-link-to-products-list-at-catalog-manage-products~280)

但仍在寻找第二个问题的答案。当我有它时会更新它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-21T21:07:06.613

下面可能会帮助您获得一些方法，允许您从后端产品编辑页面查看前端产品：

[http://inchoo.net/ecommerce/magento/view-product-in-frontend-from-magento-admin/](http://inchoo.net/ecommerce/magento/view-product-in-frontend-from-magento-admin/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T17:12:47.577

我完全可以理解你为什么要求这个逻辑，但不幸的是它不会那么容易实现......虽然你可以很容易地开始工作第 1 步，但第 2 步会有点问题，因为与 WP 相对的 Magento 有单独的前端和管理部分的会话。因此，在前端，您将无法识别登录的站点管理员，因此 - 向他显示链接。但是让我们按顺序解决问题：

1.  要实现第 1 步，您需要修改 2 个文件。请记住，最好不要修改*core*中的文件，而是将它们移动到*本地*文件夹，保留目录结构。第一个更改：（`Mage_Adminhtml_Block_Catalog_Product_Edit::_prepareLayout`文件 app\code\core\Mage\Adminhtml\Block\Catalog\Product\Edit.php）。在 return 语句之前`return parent::_prepareLayout();`添加下一个代码：

    ```
    $this->setChild('view_product',
        $this->getLayout()->createBlock('adminhtml/widget_button')
            ->setData(array(
            'label'     => Mage::helper('catalog')->__('View Product'),
            'onclick'   => "popWin('".$this->getProduct()->getProductUrl(false)."', 'popwin','width=800,height=600,resizable=yes,scrollbars=yes')",
            'class' => 'save'
        ))
    ); 
    ```

    然后打开 app\design\adminhtml\default\default\template\catalog\product\edit.phtml 模板并`<?php echo $this->getChildHtml('view_product')?>`在`<?php if($this->getProductId()): ?>`案例中添加下一个代码。所以它看起来像这样：

    ```
    <?php if($this->getProductId()): ?>
        <?php echo $this->getDeleteButtonHtml() ?>
        <?php if($this->getProductSetId() && $this->getIsConfigured()): ?>
            <?php echo $this->getDuplicateButtonHtml() ?>
        <?php endif; ?>
        <?php echo $this->getChildHtml('view_product')?>
    <?php endif; ?> 
    ```

    第 1 步完成，现在您应该能够在产品管理屏幕上看到**查看订单**按钮。

2.  现在由于 Magento 在前端看不到管理员，您可以创建前端管理员客户组来处理它。您可以在“客户/客户组”节点中创建客户组。然后在 catalog/product/view.phtml 在文件底部添加下一个代码：

    ```
    <?php if (Mage::helper('customer')->isLoggedIn()):?>
        <?php /** @var $customer Mage_Customer_Model_Customer */?>
        <?php $customer = Mage::helper('customer')->getCustomer();?>
        <?php if ($customer->getGroupId() == /your_new_group_id/):?>
            <a href="<?php echo Mage::getSingleton('adminhtml/url')->getUrl('adminhtml/catalog_product/edit', array('id' => $this->getProduct()->getId()))?>" target="_blank">
                <?php echo $this->__('Edit Product')?></a>
        <?php endif;?>
    <?php endif;?> 
    ```

    只是不要忘记将 /your_new_group_id/ 更改为实际的管理员客户组 ID。另外 - 如果您没有登录到管理面板，它会要求您登录，因为正如我之前提到的，会话没有连接。

祝你好运！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-10T13:30:01.490

1 - 当您点击在线时，他只是将您重定向到编辑产品页面。但是，如果你想在每个产品线上添加链接来编辑页面，那是很难做到的。如果我发现我在这里编辑的东西，我会考虑。

2- 在您的 phtml 文件中，您可以调用：

```
<a href="<?php echo Mage::getBaseUrl().'/admin/catalog_product/edit/id/'.$_product->getId()?>">Link to edit product.</a> 
```

# iphone - 在 iOS 中取消应用购买

> ID：12351484
> 
> 赞同：1
> 
> 时间：2012-09-10T12:14:41.933
> 
> 标签：iphone, ios, in-app-purchase

我正在沙盒环境中测试我的应用内购买。当我开始“restoreCompletedTransactions”过程时，我得到一个对话框，要求我输入测试用户的密码。如果在那个阶段我只是按取消，我不会收到任何反馈表明该过程已被取消。

有什么建议么

礼萨

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-10T12:17:21.713

如果您取消恢复购买`paymentQueue:restoreCompletedTransactionsFailedWithError:`方法，应该在您的支付交易观察器中调用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:20:23.117

如果用户单击取消按钮，则请求将失败 - 使用这样的商店观察者......

```
[[SKPaymentQueue defaultQueue] addTransactionObserver:observer]; 
```

并且这样处理......

```
- (void)paymentQueue:(SKPaymentQueue *)queue updatedTransactions:(NSArray *)transactions
{
    for (SKPaymentTransaction *transaction in transactions)
    {
        switch (transaction.transactionState)
        {
            case SKPaymentTransactionStatePurchased:
                [self completeTransaction:transaction];
                break;
            case SKPaymentTransactionStateFailed:
                [self failedTransaction:transaction];
                break;
            case SKPaymentTransactionStateRestored:
                [self restoreTransaction:transaction];
            default:
                break;
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-28T10:16:08.730

当用户按下取消按钮时，会调用此方法，以便放置适当的消息。

```
- (void)failedTransaction:(SKPaymentTransaction *)transaction {
     [[SKPaymentQueue defaultQueue] finishTransaction: transaction];
      }
    if (transaction.error.code != SKErrorPaymentCancelled)
     {
    NSLog(@"Transaction error: %@", transaction.error.localizedDescription);
      }

- (void)paymentQueue:(SKPaymentQueue   *)queuerestoreCompletedTransactionsFailedWithError:(NSError *)error {
       NSLog(@"%s","User Cancel.");
      } 
```

# visual-c++ - 想要改进 VB6 Watch 屏幕上的组件调试

> ID：12351494
> 
> 赞同：2
> 
> 时间：2012-09-10T12:15:15.900
> 
> 标签：visual-c++, vb6

也许我一直在做太多的 C#，但我认为在对象变量未展开时以某种方式可以看到它的“默认”属性或函数值。该值将显示在监视窗格上的“+”旁边。

原因是我正在尝试提高我们对象之一的调试能力。我们最近添加了一项改进，通过向 C++ 对象添加一个带有 dispid -4 的方法来查看所有对象的名称 - 值对，该方法返回一个支持 IEnumVARIANT 的迭代器对象，返回包含 2 个变体的数组的变体。ArrayValue(0) 是名称；ArrayValue(1) 是值。

不幸的是，当我们查看监视窗口时，我们仍然需要花时间点击一大堆加号，直到找到正确的值。更好 - 但仍不理想。

有人有什么想法吗？

**[附录]** 我刚刚想到了 C++ 组件的另一种解决方法，但我不确定这有多容易。也许组件可以添加扩展的属性名称 - 每个“名称”值一个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T12:33:28.663

将属性的过程 ID 设置`(Default)`为为 VB6 创建的类执行此操作。我认为这是dispid 0。

# perl - Perl，禁用缓冲输入

> ID：12351500
> 
> 赞同：6
> 
> 时间：2012-09-10T12:15:40.143
> 
> 标签：perl, buffering

有一个文件：

```
:~$ cat fff
qwerty
asdf
qwerty
zxcvb 
```

有一个脚本：

```
:~$ cat 1.pl
#!/usr/bin/perl
print <STDIN> 
```

该命令按预期工作：

```
:~$ cat fff | perl -e 'system("./1.pl")'
qwerty
asdf
qwerty
zxcvb 
```

但是这个命令不会像预期的那样工作：第一个 <STDIN> 读取所有数据，而不是一行。如何禁用 <STDIN> 的缓冲？

```
:~$ cat fff | perl -e '$_ = <STDIN>; system("./1.pl")'
:~$ 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-10T12:29:58.913

这里有两个 Perl 进程 - 第一个分配`$_ = <STDIN>`和调用`system`，第二个执行`print <STDIN>`

尽管第一个进程只读取了流的第一行，但`$_`在幕后 Perl 已经用数据填充了它的缓冲区并让流为空

这样做的目的是什么？想到做你要求的唯一方法是在第一个进程中将*所有*文件读入一个数组，然后删除第一行并将其余部分通过管道发送到第二个脚本

所有这些似乎都是不必要的，如果您能描述潜在问题，我相信有更好的方法

**更新**

既然您说您知道缓冲问题，那么执行此操作的方法是使用[`sysread`](http://perldoc.perl.org/functions/sysread.html)，它将从较低级别的管道读取并避免缓冲

像这样的东西会起作用

```
cat fff | perl -e 'while (sysread(STDIN, $c, 1)) {$_ .= $c; last if $c eq "\n"} system("./1.pl")' 
```

但我不喜欢推荐它，因为你所做的似乎很错误，我希望你能解释你的真正目标

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T10:28:54.347

我最近不得不解析几个大约 6 GB 的日志文件。缓冲是一个问题，因为当我将 STDIN 分配给一个数组时，Perl 很乐意尝试将这 6 GB 读入内存……但是，我根本没有可用的系统资源来执行此操作。我想出了以下解决方法，它只需逐行读取文件，从而避免大量内存黑洞缓冲漩涡，否则会占用我所有的系统资源。

注意：这个脚本所做的就是将这个 6 GB 的文件分成几个较小的文件（其中的大小由每个输出文件中包含的行数决定）。有趣的是while循环和从日志文件到变量的单行赋值。循环将遍历整个文件，读取一行，用它做一些事情，然后重复。结果，没有大量缓冲......我保持整个脚本完好无损只是为了展示一个工作示例......

```
#!/usr/bin/perl -w
BEGIN{$ENV{'POSIXLY_CORRECT'} = 1;}
use v5.14;
use Getopt::Long qw(:config no_ignore_case);

my $input = '';
my $output = '';
my $lines = 0;
GetOptions('i=s' => \$input, 'o=s' => \$output, 'l=i' => \$lines);

open FI, '<', $input;

my $count = 0;
my $count_file = 1;
while($count < $lines){
    my $line = <FI>; #assign a single line of input to a variable
    last unless defined($line);
    open FO, '>>', "$output\_$count_file\.log";
    print FO $line;
    $count++;
    if($count == $lines){
        $count=0;
        $count_file++;
    }
}
print " done\n"; 
```

在命令行上调用脚本，例如：

(脚本名称) -i (输入文件) -o (输出文件) -l (输出文件的大小(即行数)

即使它不完全是您正在寻找的东西，我希望它会给您一些想法。:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2022-02-12T12:07:19.323

利用`perl -ne`

或者`while(<STDIN>){do something with $_}`

您可能不是指“缓冲”（通过 $|++ 禁用）-您错误地将所有 STDIN 放入 $_ 中，因为您忘记将其包装在一个循环中。

# multithreading - Win RT Metro C# MVVM 从工作线程更新 UI

> ID：12351501
> 
> 赞同：1
> 
> 时间：2012-09-10T12:15:40.147
> 
> 标签：multithreading, user-interface, mvvm, microsoft-metro, windows-runtime

我有工人班

```
public event EventHandler<EventArgs> DataModified; 
```

可以从 UI 线程以外的地方引发（它是从服务器获取更新的网络客户端）。我有 ModelView

```
ObservableCollection<DataModel> DataItems; 
```

View 绑定到的。我的模型视图必须订阅 ModifiedEvent，这样才能反映 DataItems 的变化。如何从回调事件更新 DataItems？我无法从我的模型视图访问 UI Dispatcher（因为视图不应该知道模型视图）。处理此问题的正确 .NET 4.5 方法是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-10T12:52:17.660

您可以创建一个包含 a 的服务`CoreDispatcher`并将其注入您的视图模型（或使其成为静态）

```
public static class SmartDispatcher
{
    private static CoreDispatcher _instance;
    private static void RequireInstance()
    {
        try
        {
            _instance = Window.Current.CoreWindow.Dispatcher;

        }
        catch (Exception e)
        {
            throw new InvalidOperationException("The first time SmartDispatcher is used must be from a user interface thread. Consider having the application call Initialize, with or without an instance.", e);
        }

        if (_instance == null)
        {
            throw new InvalidOperationException("Unable to find a suitable Dispatcher instance.");
        }
    }

    public static void Initialize(CoreDispatcher dispatcher)  
    {
        if (dispatcher == null)
        {
            throw new ArgumentNullException("dispatcher");
        }

        _instance = dispatcher;
    }

    public static bool CheckAccess()
    {
        if (_instance == null)
        {
            RequireInstance();
        }
        return _instance.HasThreadAccess;
    }

    public static void BeginInvoke(Action a)
    {
        if (_instance == null)
        {
            RequireInstance();
        }

        // If the current thread is the user interface thread, skip the
        // dispatcher and directly invoke the Action.
        if (CheckAccess())
        {
            a();
        }
        else
        {
            _instance.RunAsync(CoreDispatcherPriority.Normal, () => { a(); });
        }
    }
} 
```

您应该在 App.xaml.cs 中初始化 SmartDispatcher：

```
 var rootFrame = new Frame();
 SmartDispatcher.Initialize(rootFrame.Dispatcher);

 Window.Current.Content = rootFrame;
 Window.Current.Activate(); 
```

以这种方式使用它：

```
SmartDispatcher.BeginInvoke(() => _collection.Add(item)); 
```

本课程基于[Jeff Wilcox 的 windows phone 7 模拟](http://www.jeff.wilcox.name/2010/04/propertychangedbase-crossthread/)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T12:54:52.977

在 WinRT 中，您必须访问 CoreDispatcher。`Window.Current.` CoreDispatcher驻留在 Windows.UI 命名空间中，仅通过 我很想看看是否有人找到了解决方案。

在某些代码上查看此线程以使生活更轻松... [如何确定是否需要分派到 WinRT/Metro 中的 UI 线程？](https://stackoverflow.com/questions/11983929/how-do-i-determine-if-i-need-to-dispatch-to-ui-thread-in-winrt-metro)

# javascript - Google Maps API - InfoBubble 不会关闭 - close() 不起作用

> ID：12351502
> 
> 赞同：4
> 
> 时间：2012-09-10T12:15:54.073
> 
> 标签：javascript, google-maps-api-3, google-maps-markers, infobubble

我正在使用 Google Maps [InfoBubble](http://google-maps-utility-library-v3.googlecode.com/svn/trunk/infobubble/)。除了功能，一切都很好`close()`。以前我用过`InfoWindows`，它在那里工作。

顺便说一句，Firebug 没有报告错误。

我的信息气泡看起来像这样：

```
var infoBubble = new InfoBubble({
      map: map,
      content: $('#balloon-container').html(),
      position: new google.maps.LatLng(areas[area].lat, areas[area].lng),
      shadowStyle: 1,
      padding: 0,
      borderRadius: 0,
      arrowSize: 10,
      borderWidth: 1,
      borderColor: '#ccc',
      disableAutoPan: true,
      hideCloseButton: true,
      arrowPosition: 15,
      arrowStyle: 0
    }); 
```

如果我执行以下命令，所有气泡都会打开：

```
infoBubble.open();
infoBubble.close(); 
```

有任何想法吗？

谢谢，

罗恩

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T12:20:21.150

怎么样`infoBubble.setMap(null)`？？

# php - 导入脚本无法正常运行

> ID：12351503
> 
> 赞同：0
> 
> 时间：2012-09-10T12:15:57.397
> 
> 标签：php, mysql, csv, file-import

我有这个脚本允许我将 csv 文件内容插入 mysql，现在，我的问题是，我不知道为什么它将日期和手机号码的字段放在同一个地方。日期和手机号码都是数据库中的不同字段，都是 varchar 类型。

现在，这是代码：

```
if (isset($_POST['submit'])) {
    if (is_uploaded_file($_FILES['filename']['tmp_name'])) {
        echo "<h1>" . "File ". $_FILES['filename']['name'] ." uploaded successfully." . "</h1>";
        echo "<h2>Displaying contents:</h2>";
        readfile($_FILES['filename']['tmp_name']);
    }

    //Import uploaded file to Database
    $handle = fopen($_FILES['filename']['tmp_name'], "r");

    while (($data = fgetcsv($handle, 1000, ",")) !== FALSE) {
        $import="INSERT into imovo(date,time,location,rbpos_id,mobile_number) values('$data[0]','$data[1]','$data[2]','$data[3]','$data[4]')";

        mysql_query($import) or die(mysql_error());
    }

    fclose($handle);

    print "Import done"; 
```

它不会正确上传数据。这是它上传数据的方式，并且数据不会全部进入数据库：

```
8/31/12,12:34:40,Tirane1,2345,662080090 8/32/2012,15:34:40 PM,Tirane2,2345,662080091 8/33/2012,18:34:40 PM,Tirane3,2345,662080092Import done 
```

如果你看到，日期和手机号码一起去..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T12:44:26.913

手机号码和日期不在一起，它们之间的这个空格表示另一条记录（它是源代码中的新行）。和最后一样，打印“Import done”贴在手机号上。

也许问题在于没有这样的时间：

```
18:34:40 PM 
```

18:34:40 或 6:34:40 PM

# android - 如何在android中使用不同图像在启动画面上显示动画

> ID：12351505
> 
> 赞同：5
> 
> 时间：2012-09-10T12:16:07.723
> 
> 标签：android, animation, splash-screen

我有几个徽标的图像，我想在我的启动屏幕上显示它，并制作一个完整的徽标，就像拼图一样。我该怎么做。

我是第一次使用它。任何人都可以帮助我。

请

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:20:24.683

```
package com.techipost.imageslider;

import android.app.Activity;
import android.os.Bundle;
import android.view.*;
import android.view.animation.Animation;
import android.view.animation.AnimationUtils;
import android.widget.ImageView;
import android.os.Handler;
import java.util.Timer;
import java.util.TimerTask;
import com.techipost.imageslider.R;

public class SliderActivity extends Activity {

    public int currentimageindex=0;
    Timer timer;
    TimerTask task;
    ImageView slidingimage;

    private int[] IMAGE_IDS = {
            R.drawable.splash0, R.drawable.splash1, R.drawable.splash2,
            R.drawable.splash3
        };

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.mygame);
        final Handler mHandler = new Handler();

        // Create runnable for posting
        final Runnable mUpdateResults = new Runnable() {
            public void run() {

                AnimateandSlideShow();

            }
        };

        int delay = 1000; // delay for 1 sec.

        int period = 8000; // repeat every 4 sec.

        Timer timer = new Timer();

        timer.scheduleAtFixedRate(new TimerTask() {

        public void run() {

             mHandler.post(mUpdateResults);

        }

        }, delay, period);

    }

    public void onClick(View v) {

        finish();
        android.os.Process.killProcess(android.os.Process.myPid());
      }

    /**
     * Helper method to start the animation on the splash screen
     */
    private void AnimateandSlideShow() {        

        slidingimage = (ImageView)findViewById(R.id.ImageView3_Left);
        slidingimage.setImageResource(IMAGE_IDS[currentimageindex%IMAGE_IDS.length]);

        currentimageindex++;

        Animation rotateimage = AnimationUtils.loadAnimation(this, R.anim.custom_anim);   

         // slidingimage.startAnimation(rotateimage);            

    }    

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T08:25:08.207

尝试这种方式并保持 AnimateandSlideShow() 函数相同

```
 new CountDownTimer(1000,60000) {
                // 1000(1 sec interval time)
               // 250 (0.25 sec) 
        @Override
        public void onTick(long millisUntilFinished) {
            // TODO Auto-generated method stub

            AnimateandSlideShow();

        }

        @Override
        public void onFinish() {
            // TODO Auto-generated method stub

            // Call NextActivity

            Intent intent = new Intent(this,NewActivityName.class);
            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
            startActivity(intent);
        }
    }.start(); 
```

# md5 - 如何在 Inno Setup 安装程序中实施 MD5 检查以获得“像 NSIS 完整性检查”？

> ID：12351506
> 
> 赞同：1
> 
> 时间：2012-09-10T12:16:10.833
> 
> 标签：md5, inno-setup, nsis, integrity

如何在 Inno Setup 中实施 MD5 检查，以便它可以验证基本安装程序文件（exe + bins）`InitializeSetup`- 这是标准的 NSIS 功能，它非常有用，因为它会通知安装程序是否正常或损坏？

在 IS 的情况下，可能需要嵌入 MD5Summer 或其他 MD5 检查器并在编译期间/之后创建 MD5 总和。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:34:54.340

Inno 已经对自己的内容进行了全面的完整性检查。无需进行额外检查。

如果您正在使用磁盘跨越（由文件的存在暗示`.bin`），则`.bin`文件可能不可用（在不同的磁盘上），因此在安装程序到达该磁盘之前不会被扫描。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T04:48:55.407

为所有 .bin 文件创建 md5 哈希值怎么样？这应该分两步完成：

1) 从编译的 .bin(s) 创建 md5 哈希 - 哈希将作为文本文件存储在 setup.exe [所以这是一个两步编译：创建 .bins，为 .bins 创建哈希并再次编译以将哈希包含到 setup 。可执行程序]

2) 在运行时在 InitializeWizard() 函数中使用插件。

您可以使用一些 Pascal 字符串比较函数或简单地使用“=”轻松比较哈希值。如果哈希值不匹配，您可以在显示任何窗口之前存在安装程序。

拥有小的 setup.exe 很重要 - 哈希必须始终位于 [Files] 部分顶部附近的同一位置，以便快速解压缩。并且一切都必须是可靠的，因此在 setup.exe 中添加哈希不会修改 .bins 的 md5。

# mysql - MySQL前缀匹配与限制不返回按主键ASC排序的结果

> ID：12351508
> 
> 赞同：0
> 
> 时间：2012-09-10T12:16:14.233
> 
> 标签：mysql, indexing, full-text-search, query-optimization

我创建了一个带有 AI 主索引的表，并根据内部权重函数以特定顺序将行插入其中。

现在我正在查询

```
SELECT smtng FROM tbl WHERE var LIKE 'query%' LIMIT 5 
```

我假设 MySQL 将执行前 5 个匹配项的搜索，并且因为我已根据内部权重函数插入它们，所以我将获得 TOP5（假设这是一个只读表）。但是，它不会返回那些。**为什么？**

顺便说一句，我注意到当使用全文索引时，我确实得到了预期的结果。

# java - 用于比较用于单元测试的 xml 文件的好 java 库？

> ID：12351512
> 
> 赞同：6
> 
> 时间：2012-09-10T12:16:29.880
> 
> 标签：java, xml, unit-testing

我正在寻找一个好的 java 库来比较单元测试中的 xml 文件。目前我们使用的是简单的字符串比较，但这要求 xml 文件以相同的方式打印（当前在 1 行）。

我在网上找到了以下内容：http: [//xmlunit.sourceforge.net/](http://xmlunit.sourceforge.net/)。但我看起来很老（2009 年 9 月的最新版本）。有人知道一个更新的库还是仍然可以使用这个库？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-16T17:32:40.520

[xml-matchers](http://code.google.com/p/xml-matchers/)是您正在寻找的。该库似乎受到积极支持：

```
assertThat(the(xml), isEquivalentTo(the(xml2))); 
```

另外，尝试[jcabi-matchers](http://matchers.jcabi.com)：

```
assertThat(XhtmlMatchers.the(xml), XhtmlMatchers.hasXPath("/html/body")) 
```

# php - 2 个单独标签中 MySQL 连接的 include_once 是否只连接一次？

> ID：12351513
> 
> 赞同：0
> 
> 时间：2012-09-10T12:16:32.447
> 
> 标签：php, include

在这种情况下，我使用：

```
<?php 
include_once 'connect.php'; # connect with MySQL database
# some PHP code
?>

<!-- some HTML code -->

<?php 
# here PHP code wants to use MySQL connection opened before
?> 
```

我什至应该在第二个 PHP 标记中包含_once 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:19:17.187

include_once 语句在脚本执行期间包含并评估指定的文件。这是一种类似于 include 语句的行为，唯一的区别是如果文件中的代码已经被包含，它将不会再次被包含。顾名思义，它将仅包含一次。

所以如果connect.php被包含一次就不会再被包含

例如

```
<?php 
     include(a.php)  //it will include a.php
     include(b.php)  //it will include b.php
     include(a.php)  //it will include a.php again
?>

<?php 
     include_once(a.php)  //it will include a.php
     include_once(b.php)  //it will include b.php
     include_once(a.php)  //does nothing
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:19:02.263

如果文件在同一个请求/页面中，则不需要重新包含文件。

此外， using`include_once`将阻止您包含已包含的文件。

您可以再次使用之前包含的变量和连接`connect.php`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T12:24:31.990

当您关闭 PHP 标记时，您不会关闭 Session，并且包含的​​代码将在您选择打开或关闭的所有 php 标记中保持可用。

**例子**

```
- index.php
  - includes once connect.php
  - includes once foo.php
  - includes bar.php

- foo.php
  - Contains scope from connect.php

- bar.php
  - Contains scope from connect.php
  - Contains scope from foo.php 
```

include 和 include_once 之间的唯一区别是，如果您多次包含同一个文件，它仍然只会被包含一次。

**示例包括**

```
<?php
    include ( 'connect.php' ); // Includes an evaluates code.
    include ( 'connect.php' ); // Includes an evaluates code.
    include ( 'connect.php' ); // Includes an evaluates code.
?> 
```

**示例 Include_once**

```
<?php
    include_once ( 'connect.php' ); // Includes an evaluates code.
    include_once ( 'connect.php' ); // Does nothing.
    include_once ( 'connect.php' ); // Does nothing.
?> 
```

如果您的应用程序使用包含库的模块，这将非常有用。为了确保它不会多次包含同一个库，当它只需要一次时，请使用 include_once。

# javascript - 使用 NicEdit 在 iframe 中编辑 div

> ID：12351516
> 
> 赞同：0
> 
> 时间：2012-09-10T12:16:41.403
> 
> 标签：javascript, html, iframe, nicedit

我正在尝试使用 NicEdit 在 iF​​rame 中编辑某个 div，但它不起作用。

这是我的代码：

```
<html>
<head>
    <title></title>
    <script type="text/javascript" src="nicEdit.js"></script>
</head>
<body>

    <div id="Panel"></div>
    <iframe src="x.html" onload="loadMe(this)"></iframe>

    <script type="text/javascript">
        var myNicEditor

        function loadMe(who){
            var x = who.contentWindow.document.getElementById("text")
            myNicEditor = new nicEditor()
            myNicEditor.setPanel('Panel')
            myNicEditor.addInstance(x)
        }

    </script>
</body>
</html> 
```

NicEdit 成功地将 div 的 contentEditable 设置为 true，但按钮不起作用（`fontSize`, `fontFamily`, `bold`....）。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T11:07:14.947

解决了：

在 nicEdit.js 第 578 行

将行替换为：

```
iFrameID.contentWindow.document.execCommand(cmd,false,args); 
```

# html - 将图像居中

> ID：12351517
> 
> 赞同：0
> 
> 时间：2012-09-10T12:16:42.143
> 
> 标签：html, css, alignment

我需要使图像居中，至少水平居中，而不使用表格，并且至少可以在 Internet Explorer 8 上使用。（如果可能的话，也可以使用 Internet Explorer 7）。

我需要一个类似于之前在 Stack Overflow 上提出的问题的解决方案，*[在 div 中居中图像？](https://stackoverflow.com/questions/11284637/center-an-image-inside-a-div)*，但是使用表格来做，这是不可接受的解决方案。

我尝试了一个带有“margin：0px auto”的[小提琴](http://jsfiddle.net/M7LJx/)，它适用于所有其他元素，但不适用于图像。快速代码如下。

### HTML

```
<div class="outer">
    <img src="https://m.ak.fbcdn.net/profile.ak/hprofile-ak-ash4/195658_100001734379625_1121483775_q.jpg" width="100" height="100" />
</div>​ 
```

### CSS

```
.outer{
    width:300px;
    border:1px #000 solid;
    padding:5px;
}.outer img{
    border:1px #F00 solid;
    margin:0 auto;
} 
```

是否有任何纯 CSS 解决方案（如果可能但不一定）也适用于 Internet Explorer 7？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:19:23.883

添加文本对齐：中心；进入 .outer 类。

```
.outer{
    width:300px;
    border:1px #000 solid;
    padding:5px;
    text-align:center;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T12:20:49.623

如果要垂直和水平居中：

```
.outer{
    width:300px;
    height: 300px;
    border:1px #000 solid;
    padding:5px;
    display: table-cell;
    text-align: center;
    vertical-align: middle;
}
.outer img{
    border:1px #F00 solid;
} 
```

[http://jsfiddle.net/M7LJx/1/](http://jsfiddle.net/M7LJx/1/)

**Note** `display: table-cell`不适用于 IE7。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-10T12:27:18.103

只需替换 CSS 代码：

```
.outer{
    width:300px;
    border:1px #000 solid;
    padding:5px;
    margin:0 auto;
    text-align: center;
}
.outer img {
    border:1px #F00 solid;
} 
```

它适用于所有浏览器。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-10T12:33:50.830

如果你的 img 必须是 display:block，那么你必须使用 margin:0 auto; 因为，文本对齐：中心；不适用于块元素。

但是，如果你的 img 是 display:inline; （或未设置，因此默认为内联），然后 text-align 将起作用。

# networking - 用于更改用户手动将驱动器映射到具有新服务器名称的新服务器的脚本

> ID：12351518
> 
> 赞同：3
> 
> 时间：2012-09-10T12:16:44.667
> 
> 标签：networking, vbscript, network-drive

我有数百个用户，每个用户都手动将驱动器映射到文件服务器上的各种位置/文件夹。

我正在将数据迁移到具有新名称但保持相同文件夹结构的新服务器，因此需要编写重新映射驱动器的脚本，如果它们遵循统一的映射模式，我可以使用简单的脚本来执行此操作，但正如我所说的那样都是独一无二的手工映射。

所以我需要询问他们当前的映射并将服务器名称从 \server1.ourdomain\whatever path 更改为 \server2.ourdomain\whatever path 等，因为我说路径主要是各种文件夹和级别，因为结构相当深刻而复杂。

我打算使用 VB 脚本并将其作为 GPO 在用户站点上运行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T13:03:54.203

尝试这样的事情：

```
oldserver = "\\server1.ourdomain"
newserver = "\\server2.ourdomain"

Set net = CreateObject("WScript.Network")
Set drives = net.EnumNetworkDrives

For i = drives.Count - 1 To 0 Step -2
  If LCase(Left(drives(i), Len(oldserver))) = oldserver Then
    net.RemoveNetworkDrive drives(i-1), True, True
    net.MapNetworkDrive drives(i-1), Replace(drives(i), oldserver, newserver), True
  End If
Next 
```

**编辑：**由于您的所有示例都附加了 .ourdomain，因此我假设您一直在使用 FQDN。如果还使用了 NetBIOS 名称，那么上面的脚本当然对它们不起作用。但是，你不能只缩短`oldserver`到`\\server1`，因为那样的话指令

```
Replace(drives(i), oldserver, newserver) 
```

会将 UNC 路径更改`\\server1.ourdomain\share`为`\\server2.ourdomain.ourdomain\share`，这显然是行不通的。`oldserver`要么从and中删除域部分`newserver`，要么（如果要强制执行 FQDN）使用如下内容：

```
domain    = ".ourdomain"
oldserver = "\\server1"
newserver = "\\server2" & domain

Set net = CreateObject("WScript.Network")
Set drives = net.EnumNetworkDrives

For i = drives.Count - 1 To 0 Step -2
  net.RemoveNetworkDrive drives(i-1), True, True
  If InStr(1, drives(i), domain, vbTextCompare) > 0 Then
    newpath = Replace(drives(i), oldserver & domain, newserver)
  Else
    newpath = Replace(drives(i), oldserver, newserver)
  End If
  net.MapNetworkDrive drives(i-1), newpath, True
Next 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T15:52:59.897

上面的脚本有一个小问题（实际上不是脚本，更多的是它被应用的地方）是：

如果用户已通过短名称映射驱动器，例如 \server1 而不是 FQDN \server1.ourdomain，则脚本将不起作用，它只是忽略它。

如果我将脚本更改为使用短名称作为“旧名称”变量，那么它适用于使用短名称映射但 th3e FQDN 错误的驱动器，并且取消映射无法重新映射它的 FQDN 驱动器。

我已经通过首先重新映射 FQDN 然后是短名称来解决这个问题，因为它们不会因为服务器名称已经更改而出现长名称错误，我确信有一种更雄辩的方法可以做到这一点，但我只是重新应用了短名称的脚本在第二遍如下：

```
oldserver = "\\server1.ourdomain" 
newserver = "\\server2.ourdomain" 

Set net = CreateObject("WScript.Network") 
Set drives = net.EnumNetworkDrives 

For i = drives.Count - 1 To 0 Step -2 
  If LCase(Left(drives(i), Len(oldserver))) = oldserver Then 
    net.RemoveNetworkDrive drives(i-1), True, True 
     net.MapNetworkDrive drives(i-1), Replace(drives(i), oldserver, newserver), True 
  End If 
Next 

oldserver = "\\Server1" 
newserver = "\\server2.ourdomain" 

Set net = CreateObject("WScript.Network") 
Set drives = net.EnumNetworkDrives 

For i = drives.Count - 1 To 0 Step -2 
If LCase(Left(drives(i), Len(oldserver))) = oldserver Then 
net.RemoveNetworkDrive drives(i-1), True, True 
net.MapNetworkDrive drives(i-1), Replace(drives(i), oldserver, newserver), True 
```

如果下一个则结束

工作正常，有 1 个例外，在用户 Windows 资源管理器或我的计算机中，当用户将多个驱动器映射到 \server1 时，它仅反映对 1 个驱动器的更改，但它已正确重新映射所有驱动器，因为使用“网络使用”中的命令显示所有映射都已更改？

如果他们注销并通过在资源管理器中以新名称正确显示所有驱动器来正确反映，那么这似乎是一个奇怪的资源管理器显示问题......非常奇怪，有什么想法吗？

如果您自己尝试一下，您会看到，因为我有几个人通过将一个驱动器映射到短驱动器并将一个驱动器映射到长驱动器来测试它，并且它会更新两者但只显示一个更改？

# ruby-on-rails - 使用 curl 使用摘要测试基本 http 身份验证

> ID：12351519
> 
> 赞同：6
> 
> 时间：2012-09-10T12:16:45.473
> 
> 标签：ruby-on-rails, ruby-on-rails-3, authentication, curl, basic-authentication

我们如何使用 curl解释[此处使用摘要测试身份验证？](http://api.rubyonrails.org/classes/ActionController/HttpAuthentication/Basic.html#label-Simple+Digest+example)

我可以通过将header 设置为where来测试[Simple Basic](http://api.rubyonrails.org/classes/ActionController/HttpAuthentication/Basic.html#label-Simple+Basic+example)示例，如此[处](http://apidock.com/rails/ActionController/HttpAuthentication/Basic/ControllerMethods/authenticate_or_request_with_http_basic#197-Testing-protected-controllers)所述`Authorization``Basic {SECRET}``SECRET``Base64::encode64("username:password")`

我尝试发送`Authentication`具有相同值的标头，但`NoMethodError (undefined method 'unpack' for nil:NilClass)`接听电话`authenticate_or_request_with_http_digest`

有人可以解释一下我在这里做错了什么吗？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-09-10T12:51:06.207

最后我能够解决这个问题。这是我如何使用 curl 来测试带有摘要的 http 基本身份验证

```
curl --data {"red":"00"} --digest -u "username:password" "http://localhost:3000/api/statistics" 
```

# javascript - setTimeout 可以太长吗？

> ID：12351521
> 
> 赞同：14
> 
> 时间：2012-09-10T12:17:00.547
> 
> 标签：javascript

我正在创建一个轮询服务器以获取特定更改的应用程序。我使用使用 setTimeout 的自调用函数。基本上是这样的：

```
<script type="text/javascript">
someFunction();

function someFunction() {
  $.getScript('/some_script');
  setTimeout(someFunction, 100000);
}
</script> 
```

为了使服务器上的轮询不那么密集，我希望有更长的超时间隔；也许在 1 分钟到 2 分钟范围内的某个地方。是否存在 setTimeout 的超时时间过长且不再正常工作的时间点？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-09-10T12:20:29.203

你在技术上没问题。您最多可以有**24.8611 天的超时！！！**如果你真的想。setTimeout 最长可达 2147483647 毫秒（32 位整数的最大值，大约为 24 天），但如果高于此值，您将看到意外行为。请参阅[为什么 setTimeout() 会“中断”较大的毫秒延迟值？](https://stackoverflow.com/questions/3468607/why-does-settimeout-break-for-large-millisecond-delay-values)

对于间隔，如轮询，我建议使用**setInterval**而不是递归 setTimeout。setInterval 正是您想要的轮询，并且您也有更多的控制权。示例：要随时停止间隔，请确保存储了 setInterval 的返回值，如下所示：

```
var guid = setInterval(function(){console.log("running");},1000) ;
//Your console will output "running" every second after above command!

clearInterval(guid) 
//calling the above will stop the interval; no more console.logs! 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-10T12:20:14.947

`setTimeout()`延迟参数使用 32 位整数。因此最大值为：

```
2147483647 
```

`setTimeout()`我建议不要使用递归，而是使用[`setInterval()`](http://www.w3schools.com/jsref/met_win_setinterval.asp)：

```
setInterval(someFunction, 100000);

function someFunction() {
   $.getScript('/some_script');
} 
```

# android - 以编程方式获取启动器的图标大小

> ID：12351522
> 
> 赞同：0
> 
> 时间：2012-09-10T12:17:11.983
> 
> 标签：android, icons, launcher, shortcuts

我正在尝试以编程方式获取启动器的图标大小。它在设备之间有所不同。我没有预先拥有资产，我正在创造它们。

我可以以某种方式查询特定启动器的正确图标尺寸吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T14:01:51.067

```
DisplayMetrics metrics = new DisplayMetrics();
getWindowManager().getDefaultDisplay().getMetrics(metrics);
switch(metrics.densityDpi){
     case DisplayMetrics.DENSITY_LOW:
                break;
     case DisplayMetrics.DENSITY_MEDIUM:
                 break;
     case DisplayMetrics.DENSITY_HIGH:
                 break;
} 
```

获得密度后...您将知道使用了哪个启动器图标及其尺寸。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:25:41.487

[http://developer.android.com/guide/practices/ui_guidelines/icon_design_launcher.html](http://developer.android.com/guide/practices/ui_guidelines/icon_design_launcher.html)

ldpi (120 dpi) 36 x 36 像素
mdpi (160 dpi) 48 x 48 像素
hdpi (240 dpi) 72 x 72 像素
xhdpi (320 dpi) 96 x 96 像素

# java - java合法标识符

> ID：12351527
> 
> 赞同：0
> 
> 时间：2012-09-10T12:17:29.750
> 
> 标签：java, scjp

我正在阅读一本电子书：

```
int :b;
int e#; 
```

不是合法的标识符，但我不明白为什么“：”和“#”不是合法的标记。你有什么主意吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-10T12:21:50.457

因为[Java 语言规范](http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.8)是这么说的：

> 标识符是 Java 字母和 Java 数字的无限长度序列，其中第一个必须是 Java 字母。

```
Identifier:
    IdentifierChars but not a Keyword or BooleanLiteral or NullLiteral

IdentifierChars:
    JavaLetter
    IdentifierChars JavaLetterOrDigit

JavaLetter:
    any Unicode character that is a Java letter (see below)

JavaLetterOrDigit:
    any Unicode character that is a Java letter-or-digit (see below) 
```

> “Java 字母”是 Character.isJavaIdentifierStart(int) 方法返回 true 的字符。
> 
> “Java 字母或数字”是 Character.isJavaIdentifierPart(int) 方法返回 true 的字符。
> 
> “Java 字母”包括大写和小写 ASCII 拉丁字母 AZ (\u0041-\u005a) 和 az (\u0061-\u007a)，以及由于历史原因，ASCII 下划线（_ 或 \u005f）和美元符号（$，或 \u0024）。$ 字符应仅用于机械生成的源代码中，或者很少用于访问遗留系统上预先存在的名称。
> 
> “Java 数字”包括 ASCII 数字 0-9 (\u0030-\u0039)。
> 
> 字母和数字可能来自整个 Unicode 字符集，它支持当今世界上使用的大多数书写脚本，包括中文、日文和韩文的大型集。这允许程序员在他们的程序中使用以他们的母语编写的标识符。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:22:35.667

有效标识符在[JLS #3.8](http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.8)中定义。尤其：

> “Java 字母”是 Character.isJavaIdentifierStart(int) 方法返回 true 的字符。
> 
> “Java 字母或数字”是 Character.isJavaIdentifierPart(int) 方法返回 true 的字符。

这两行输出 false，这使您的两个标识符无效：

```
System.out.println(Character.isJavaIdentifierPart(':'));
System.out.println(Character.isJavaIdentifierPart('#')); 
```

请注意，有效的标识符包括 AZ、az、_、$ 以及许多“外来”字符。例如，这是一个有效的标识符：

```
int a_£àèƒ¥; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T12:23:05.993

从[JLS](http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.8)：

```
An identifier is an unlimited-length sequence of Java letters and Java digits, 
the first of which must be a Java letter. 
```

..

```
The "Java letters" include uppercase and lowercase ASCII Latin letters A-Z (\u0041-\u005a), 
and a-z (\u0061-\u007a), and, for historical reasons, the ASCII underscore (_, or \u005f) 
and dollar sign ($, or \u0024). The $ character should be used only in mechanically generated 
source code or, rarely, to access pre-existing names on legacy systems. 
```

# bash - Bash：在curl时使用变量中的greping字符串

> ID：12351529
> 
> 赞同：1
> 
> 时间：2012-09-10T12:17:33.967
> 
> 标签：bash, curl, grep

我正在尝试`grep`在运行的 while 循环中使用`curl`。

```
 i=1
    while read -a row
    do
      test $i -eq 1 && ((i=i+1)) && continue
      STRING=${row[2]}
      CURL=`curl ${row[0]}${row[1]} | ${grep '$STRING'}`
      echo $CURL
    done < <(echo "SELECT check_address, check_page, check_string FROM checks" | mysql monitor) 
```

问题出在`"${grep '$STRING'}`“。由于`grep`需要`grep 'text'`我尝试了不同的方式，例如`grep '$var'`，`${grep $var}`无法使其工作。

SQL 输出：

```
 ${row[0]} = http://www.codeoasis.com/
    ${row[1]} = index.php
    ${row[2]} = Copyright 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:37:34.477

您不需要捕获`curl`or的输出`grep`：

```
i=1
while read -a row
do
  test $i -eq 1 && ((i=i+1)) && continue
  STRING=${row[2]}
  curl ${row[0]}${row[1]} | grep "$STRING"
done < <(echo "SELECT check_address, check_page, check_string FROM checks" | mysql monitor) 
```

请注意在 周围使用双引号`$STRING`，而不是单引号。

# css - CSS div 无内容扩展

> ID：12351530
> 
> 赞同：1
> 
> 时间：2012-09-10T12:17:43.897
> 
> 标签：css, html

我目前正在开发一个新网站，但遇到了问题。我有 2 个相邻的 div，一个带有内容，一个带有背景图像。

包含内容的 div 已经自动扩展其中的内容

现在，带有背景图像的那个只是用于设计，其中没有内容，我希望它与带有内容的那个一起自动扩展，因此它们都具有相同的高度。

这里有 2 个屏幕截图，可以让我的问题更加清晰。

[从 Photoshop 中查看](http://www.kalleload.net/uploads/nyfqzdrymbru.png)

[从浏览器查看](http://www.kalleload.net/uploads/gijopfmhpkgl.png)

HTML：

```
 <div id="bubble">
            Stad Turnhout
        </div>

        <div id="date">
            <span class="created">created</span><br/><span class="date">okt<br/>2011</span>
        </div>

    </div>

    <div id="slash">
    </div>

    <div class="textfield">
        <p class="text">
            Text goes in here
        </p>

    </div> 
```

CSS：

```
#slash {
float:left;
width:20px;
height:auto;
background:url(images/slash.jpg) no-repeat, url(images/socialbg.jpg) repeat;}

.textfield {
padding:25px;
width:269px;
height:auto;
float:right;
background:url(images/point.jpg) no-repeat, #FFF;} 
```

我一直在尝试几件事，并尝试在谷歌上找到一些东西，但没有任何用处。关于如何使用 HTML/CSS 解决此问题的任何想法？

谢谢

编辑：添加了我的代码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T12:40:58.933

没有真正的方法可以使两个并排的 div 始终具有相同的高度并且可以扩展。您可以给这两个元素一个父包装器，然后在该包装器上设置一个高度，然后给两个子 div 100% 的高度。然后它们的高度将由包装器的固定高度控制。

HTML：

```
<div class="wrapper">
        <div id="slash"></div>

        <div class="textfield">
            <p class="text">
                Text goes in here
            </p>    
        </div>
    </div> 
```

CSS：

```
 .wrapper {
        height: 350px;
    }
    #slash, .textfield {
        height: 100%
    } 
```

# android - android权限组的内容

> ID：12351532
> 
> 赞同：1
> 
> 时间：2012-09-10T12:17:53.093
> 
> 标签：android, permissions

Android 有不同的权限组和权限。每个权限组代表某些权限。但是我找不到每个组拥有的权限列表。它在任何地方发布吗？

例如。android.permission.ACCOUNT_MANAGER 与权限组 ACCOUNTS 相关联。我需要一份此类关联的列表。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T15:43:11.973

这是我在 ICS 上制作的清单。[https://docs.google.com/spreadsheet/pub?key=0As7-0Nfn2fUTdEpXdHJIZVlUNWljb1RwTXVtREthSEE&single=true&gid=0&output=html](https://docs.google.com/spreadsheet/pub?key=0As7-0Nfn2fUTdEpXdHJIZVlUNWljb1RwTXVtREthSEE&single=true&gid=0&output=html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:20:02.683

[Android 权限在此处](http://developer.android.com/reference/android/Manifest.permission.html)列出，权限组[在此处](http://developer.android.com/reference/android/Manifest.permission_group.html)列出。然后也可以看看[PemissionInfo()](http://developer.android.com/reference/android/content/pm/PermissionInfo.html)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-01-25T19:39:16.803

可以使用 PackageManager getAllPermissionGroups() 和 queryPermissionsByGroup() 来枚举整个 Android 权限层次结构。下面的代码在 5.1.1 (SDK 22) 设备上生成了最后显示的输出。标记为“个人”的组具有 groupInfo.flags == 1，并且似乎对应于 Marshmallow 中称为“危险”的权限组。

由于 SDK 级别的差异以及应用程序可以定义自定义权限这一事实，您将在不同的设备上获得不同的权限层次结构。

 `````
/**
 * Uses PackageManager getAllPermissionGroups() and queryPermissionsByGroup()
 * to enumerate the Android permission hierarchy.
 */
private void showPermissionTree()
{
    final PackageManager pm = m_context.getPackageManager();
    if (pm == null)
        return;

    /*
     * Get a list of all permission groups and sort them alphabetically.
     * Then add to the end of the list the special case of a null group name. There can be
     * numerous permissions that are not listed under a group name.
     */
    List<PermissionGroupInfo> groupInfoList = pm.getAllPermissionGroups(0);
    if (groupInfoList == null)
        return;

    ArrayList<String> groupNameList = new ArrayList<>();
    for (PermissionGroupInfo groupInfo : groupInfoList) {
        String groupName = groupInfo.name;
        if (groupName != null) {
            if (Build.VERSION.SDK_INT >= 17) {
                /*
                 * SDK 17 added the flags field. If non-zero, the permission group contains
                 * permissions that control access to user personal data.
                 * N.B. These are the permissions groups that are called "dangerous" in
                 * Marshmallow.
                 */
                if (groupInfo.flags != 0) {
                    groupName += " (personal)";
                }
            }
            groupNameList.add(groupName);
        }
    }

    Collections.sort(groupNameList);
    groupNameList.add(null);

    /*
     * Loop though each permission group, adding to the StringBuilder the group name and
     * the list of all permissions under that group.
     */
    StringBuilder sb = new StringBuilder(10000);
    final String INDENT = "   ";

    for (String groupName : groupNameList) {
        if (groupName == null)
            groupName = "null";

        sb.append("* ").append(groupName).append("\n");

        ArrayList<String> permissionNameList = getPermissionsForGroup(groupName);
        if (permissionNameList.size() > 0) {
            for (String permission : permissionNameList) {
                sb.append(INDENT).append(permission).append("\n");
            }
        } else {
            sb.append(INDENT).append("no permissions under group\n");
        }

        sb.append("\n");
    }

    m_textView.setText(sb.toString());
}

/*
 * Gets and returns a list of all permission under the specified group, sorted alphabetically.
 *
 * N.B. groupName can be null. The docs for PackageManager.queryPermissionsByGroup() say
 * "Use null to find all of the permissions not associated with a group."
 */
private ArrayList<String> getPermissionsForGroup(String groupName)
{
    final PackageManager pm = m_context.getPackageManager();
    final ArrayList<String> permissionNameList = new ArrayList<>();

    try {
        List<PermissionInfo> permissionInfoList =
                pm.queryPermissionsByGroup(groupName, PackageManager.GET_META_DATA);
        if (permissionInfoList != null) {
            for (PermissionInfo permInfo : permissionInfoList) {
                String permName = permInfo.name;
                if (permName == null) {
                    permName = "null";
                } else if (permName.isEmpty()) {
                    permName = "empty";
                }
                permissionNameList.add(permName);
            }
        }
    }
    catch (PackageManager.NameNotFoundException e) {
        // e.printStackTrace();
        Log.d(TAG, "permissions not found for group = " + groupName);
    }

    Collections.sort(permissionNameList);

    return permissionNameList;
} 
````  ````
* android.permission-group.ACCESSIBILITY_FEATURES
   组下没有权限

* android.permission-group.ACCOUNTS（个人）
   组下没有权限

* android.permission-group.AFFECTS_BATTERY
   android.permission.CHANGE_WIFI_MULTICAST_STATE
   android.permission.手电筒
   android.permission.TRANSMIT_IR
   android.permission.VIBRATE
   android.permission.WAKE_LOCK

* android.permission-group.APP_INFO
   android.permission.GET_TASKS
   android.permission.KILL_BACKGROUND_PROCESSES
   android.permission.MANAGE_ACTIVITY_STACKS
   android.permission.PERSISTENT_ACTIVITY
   android.permission.REAL_GET_TASKS
   android.permission.RECEIVE_BOOT_COMPLETED
   android.permission.REMOVE_TASKS
   android.permission.REORDER_TASKS
   android.permission.RESTART_PACKAGES

* android.permission-group.AUDIO_SETTINGS
   android.permission.MODIFY_AUDIO_SETTINGS

* android.permission-group.BLUETOOTH_NETWORK
   android.permission.BLUETOOTH
   android.permission.BLUETOOTH_ADMIN
   android.permission.BLUETOOTH_MAP
   android.permission.BLUETOOTH_PRIVILEGED

* android.permission-group.BOOKMARKS（个人）
   组下没有权限

* android.permission-group.CALENDAR（个人）
   组下没有权限

* android.permission-group.CAMERA（个人）
   组下没有权限

* android.permission-group.COST_MONEY
   组下没有权限

* android.permission-group.DEVELOPMENT_TOOLS
   android.permission.ACCESS_ALL_EXTERNAL_STORAGE
   android.permission.CHANGE_CONFIGURATION
   android.permission.DUMP
   android.permission.READ_LOGS
   android.permission.SET_ALWAYS_FINISH
   android.permission.SET_DEBUG_APP
   android.permission.SET_PROCESS_LIMIT
   android.permission.SIGNAL_PERSISTENT_PROCESSES
   android.permission.WRITE_SECURE_SETTINGS
   com.android.chrome.permission.DEBUG

* android.permission-group.DEVICE_ALARMS（个人）
   组下没有权限

* android.permission-group.DISPLAY
   android.permission.SYSTEM_ALERT_WINDOW

* android.permission-group.HARDWARE_CONTROLS
   android.permission.ACCESS_FM_RADIO
   android.permission.ACCESS_MTP
   android.permission.HARDWARE_TEST
   android.permission.MANAGE_USB

* android.permission-group.LOCATION（个人）
   组下没有权限

* android.permission-group.MESSAGES（个人）
   组下没有权限

* android.permission-group.MICROPHONE（个人）
   组下没有权限

* android.permission-group.NETWORK
   android.permission.ACCESS_NETWORK_STATE
   android.permission.ACCESS_WIFI_STATE
   android.permission.ACCESS_WIMAX_STATE
   android.permission.BROADCAST_NETWORK_PRIVILEGED
   android.permission.CHANGE_NETWORK_STATE
   android.permission.CHANGE_WIFI_STATE
   android.permission.CHANGE_WIMAX_STATE
   android.permission.CONNECTIVITY_INTERNAL
   android.permission.DOWNLOAD_WITHOUT_NOTIFICATION
   android.permission.INTERNET
   android.permission.LOOP_RADIO
   android.permission.NFC
   android.permission.READ_WIFI_CREDENTIAL
   android.permission.RECEIVE_DATA_ACTIVITY_CHANGE
   android.permission.SCORE_NETWORKS
   com.android.vending.BILLING
   com.android.vending.CHECK_LICENSE
   com.google.android.c2dm.permission.RECEIVE
   com.google.android.c2dm.permission.SEND
   com.google.android.gtalkservice.permission.SEND_HEARTBEAT
   com.google.android.permission.BROADCAST_DATA_MESSAGE
   com.google.android.xmpp.permission.BROADCAST
   com.google.android.xmpp.permission.SEND_RECEIVE
   com.google.android.xmpp.permission.USE_XMPP_ENDPOINT
   com.google.android.xmpp.permission.XMPP_ENDPOINT_BROADCAST
   com.gsma.services.nfc.permission.TRANSACTION_EVENT

* android.permission-group.PERSONAL_INFO（个人）
   组下没有权限

* android.permission-group.PHONE_CALLS（个人）
   组下没有权限

* android.permission-group.SCREENLOCK（个人）
   组下没有权限

* android.permission-group.SOCIAL_INFO（个人）
   组下没有权限

* android.permission-group.STATUS_BAR
   android.permission.EXPAND_STATUS_BAR

* android.permission-group.STORAGE（个人）
   组下没有权限

* android.permission-group.SYNC_SETTINGS
   android.permission.READ_SYNC_SETTINGS
   android.permission.READ_SYNC_STATS
   android.permission.WRITE_SYNC_SETTINGS

* android.permission-group.SYSTEM_CLOCK
   android.permission.SET_TIME_ZONE

* android.permission-group.SYSTEM_TOOLS
   android.permission.ACCESS_LOCATION_EXTRA_COMMANDS
   android.permission.ACCESS_MOCK_LOCATION
   android.permission.ACCESS_PDB_STATE
   android.permission.ASEC_ACCESS
   android.permission.ASEC_CREATE
   android.permission.ASEC_DESTROY
   android.permission.ASEC_MOUNT_UNMOUNT
   android.permission.ASEC_RENAME
   android.permission.BATTERY_STATS
   android.permission.BLUETOOTH_STACK
   android.permission.BROADCAST_PACKAGE_REMOVED
   android.permission.BROADCAST_STICKY
   android.permission.CHANGE_BACKGROUND_DATA_SETTING
   android.permission.CLEAR_APP_CACHE
   android.permission.DIAGNOSTIC
   android.permission.FORCE_STOP_PACKAGES
   android.permission.GET_APP_OPS_STATS
   android.permission.GET_DETAILED_TASKS
   android.permission.GET_PACKAGE_SIZE
   android.permission.GLOBAL_SEARCH
   android.permission.GLOBAL_SEARCH_CONTROL
   android.permission.INTERACT_ACROSS_USERS
   android.permission.INTERACT_ACROSS_USERS_FULL
   android.permission.MANAGE_USERS
   android.permission.MODIFY_APPWIDGET_BIND_PERMISSIONS
   android.permission.MOUNT_FORMAT_FILESYSTEMS
   android.permission.MOUNT_UNMOUNT_FILESYSTEMS
   android.permission.NET_ADMIN
   android.permission.NET_TUNNELING
   android.permission.OEM_UNLOCK_STATE
   android.permission.READ_DREAM_STATE
   android.permission.READ_SEARCH_INDEXABLES
   android.permission.RECOVERY
   android.permission.REMOTE_AUDIO_PLAYBACK
   android.permission.SET_ANIMATION_SCALE
   android.permission.SET_PREFERRED_APPLICATIONS
   android.permission.SET_SCREEN_COMPATIBILITY
   android.permission.SET_WALLPAPER_COMPONENT
   android.permission.START_ANY_ACTIVITY
   android.permission.START_TASKS_FROM_RECENTS
   android.permission.SUBSCRIBED_FEEDS_READ
   android.permission.SUBSCRIBED_FEEDS_WRITE
   android.permission.WRITE_APN_SETTINGS
   android.permission.WRITE_DREAM_STATE
   android.permission.WRITE_SETTINGS
   com.android.launcher.permission.INSTALL_SHORTCUT
   com.android.launcher.permission.UNINSTALL_SHORTCUT
   com.android.launcher3.permission.READ_SETTINGS
   com.android.launcher3.permission.WRITE_SETTINGS
   com.google.android.launcher.permission.READ_SETTINGS
   com.google.android.launcher.permission.WRITE_SETTINGS
   com.motorola.permission.ACCESS_COGRADIO

* android.permission-group.USER_DICTIONARY（个人）
   组下没有权限

* android.permission-group.VOICEMAIL（个人）
   组下没有权限

* android.permission-group.WALLPAPER
   android.permission.SET_WALLPAPER
   android.permission.SET_WALLPAPER_HINTS

* android.permission-group.WRITE_USER_DICTIONARY
   android.permission.WRITE_USER_DICTIONARY

* com.google.android.gms.permission.CAR_INFORMATION
   com.google.android.gms.permission.CAR_FUEL
   com.google.android.gms.permission.CAR_MILEAGE
   com.google.android.gms.permission.CAR_VENDOR_EXTENSION

* 无效的
   组下没有权限

```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-10-15T12:01:10.293

Google 确实会为您提供有关权限和权限组关联的信息。 [https://developer.android.com/guide/topics/permissions/overview#perm-groups](https://developer.android.com/guide/topics/permissions/overview#perm-groups)

在 Android Studio 终端中，您可以使用以下命令获取信息：

```
adb shell pm list permissions -s 
```

结果是这样的：

```
 All Permissions:

Microphone: record audio

SMS: read your text messages (SMS or MMS), receive text messages (WAP), receive text messages (MMS), receive text messages (SMS), send and view SMS messages, read cell broadcast messages

This app can provide content to Bixby Home cards.: Provide Bixby Home card content, Read Bixby Home data 
```

请注意请求您的应用所需的所有权限。工作正常并不意味着它会在未来继续工作。权限可能会从一个组移动到另一个组，因此不要依赖当前状态：

> 注意：Android SDK 的未来版本可能会将特定权限 > 从一个组移动到另一个组。因此，不要将应用程序的逻辑建立在这些权限组的结构之上。
> 
> 例如，READ_CONTACTS 与 Android 8.1（API 级别 27）的 WRITE_CONTACTS 位于同一权限组中。如果您的应用请求READ_CONTACTS > 权限，然后请求WRITE_CONTACTS 权限，不要假设> 系统可以自动授予WRITE_CONTACTS 权限。``

# php - PHP中的人偶扭曲

> ID：12351538
> 
> 赞同：-2
> 
> 时间：2012-09-10T12:18:05.880
> 
> 标签：php, image, imagemagick, gd

我正在寻找某种方法来调整图像内对象（即汽车或人的身体）的某些区域的大小，使用带有 GD 或 Imagemagick 的 PHP。我一直在思考 Puppet warp 或 Liquify 如何在 Photoshop 中工作，但不知道从哪里开始。

我做了很多研究，但无法弄清楚如何做到这一点，如果有人可以请帮助或向我发送正确的方向。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T12:34:54.197

除非您想编写 PHP 代码来手动操作字节数组，否则我建议您使用现有的图像处理库，例如[WideImage](http://wideimage.sourceforge.net/)。

# java - 在java中使用正则表达式删除匹配的字符串

> ID：12351542
> 
> 赞同：3
> 
> 时间：2012-09-10T12:18:36.073
> 
> 标签：java, regex, string

这是我的代码，请检查。最后我想删除 list-style-image: url(images/dot.gif); 从字符串

```
String temp = "font-family: Arial, Helvetica, sans-serif;font-size: 11px;color: F143F;list-style-image: url(images/dot.gif);list-style-type: none;"; 

Pattern pxPattern = Pattern.compile("([a-z]+-)+([a-z]+):(\\s)url\\(.*?\\);");

Matcher pxMatcher = pxPattern.matcher(temp);

while(pxMatcher.find()) {
    System.out.println(pxMatcher.group());
    String urlString =pxMatcher.group();
    if(!urlString.matches("http://|https://")) {
        System.out.println("Firts: "+temp.trim());
        System.out.println(urlString);
        System.out.println(temp.replaceAll(urlString, ""));
        //System.out.println("Remove: "+temp);
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-10T12:32:40.250

我将删除`list-style-image`如下（而不是使用while循环，这可以在一行中完成）：

```
temp.replaceAll("list-style-image:[^;]+;?", ""); 
```

解释：

*   这将寻找`list-style-image`，
*   然后是一个或多个不是分号的字符
*   然后是一个可选的分号

`list-style-image`这将从字符串的中间和结尾删除属性。

结果：

```
font-family: Arial, Helvetica, sans-serif;font-size: 11px;color: F143F;list-style-type: none; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-11-07T14:31:26.713

这是对问题标题的一般回答；它可能不会直接解决问题的细节。假设我们有一个名为 PATTERN 的字符串和一个名为 body 的字符串。然后我们可以从 body 中删除所有匹配的 PATTERN，如下所示：

```
StringBuilder builder = new StringBuilder();
int x = 0;
Matcher m = Pattern.compile(PATTERN).matcher(body);
while (m.find()) {
  builder.append(body.substring(x, m.start()));
  x = m.end();
}
return(builder.toString()); 
```

例如，如果 PATTERN = "XOX" 和 body = "Hello XOXWorldXOX" 那么我们应该返回 "Hello World"。

它是如何工作的：遍历每个匹配，在最后一个匹配之后记录字符串中的索引，并将该索引中的子字符串添加到当前匹配的开头到字符串构建器，然后在当前匹配上向前跳过索引到结束。最后，构建字符串。

**注意：** beny23 的答案更适合从字符串中删除正则表达式。但是，只要稍加调整，上面的代码就可以变得更通用。可以将其更改为用唯一的替换字符串替换每个后续出现的正则表达式。这比 replaceAll 更强大和更通用，但它是一个奇怪的极端情况，可能不会经常出现。尽管如此，为了向您展示我的意思，假设我们不想删除每个正则表达式匹配，而是用“match_1”替换第一个匹配，用“match_2”替换第二个匹配，依此类推，我们可以这样做：

```
StringBuilder builder = new StringBuilder();
int x = 0;
int matchNumber = 1;
Matcher m = Pattern.compile(PATTERN).matcher(body);
while (m.find()) {
  builder.append(body.substring(x, m.start()));
  builder.append("match_" + matchNumber);
  x = m.end();
}
return(builder.toString()); 
```

例如，如果 PATTERN = "XOX" 和 body = "Hello XOXWorldXOX" 那么我们应该返回 "Hello match_1Worldmatch_2"。

稍加调整，我们可以概括上述内容，用数组元素替换每个后续匹配，使其真正通用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T12:27:27.213

它对我有用

```
while(pxMatcher.find()) {
    System.out.println(pxMatcher.group());
    String urlString =pxMatcher.group();
    if(!urlString.matches("http://|https://")) {
        System.out.println("Firts: "+temp.trim());
        System.out.println(urlString);
        temp = temp.replace(urlString, "");
        System.out.println("Remove: "+temp);
     }
} 
```

结果是

```
list-style-image: url(images/dot.gif);
Firts: font-family: Arial, Helvetica, sans-serif;font-size: 11px;color: F143F;list-style-image: url(images/dot.gif);list-style-type: none;
list-style-image: url(images/dot.gif);
Remove: font-family: Arial, Helvetica, sans-serif;font-size: 11px;color: F143F;list-style-type: none; 
```

# zend-framework - zend_oauth_consumer + 推特限制

> ID：12351544
> 
> 赞同：1
> 
> 时间：2012-09-10T12:18:41.643
> 
> 标签：zend-framework, twitter

我有一个基于 Zend_Oath_​​Consumer 的小型 Twitter 应用程序。用户允许我显示有关他的帐户的一些统计信息。

由于这个页面[https://dev.twitter.com/docs/rate-limiting](https://dev.twitter.com/docs/rate-limiting)每个用户应该有 350 个请求，但实际上所有用户共享 150 个请求/小时的限制。

Zend 是否发送未签名的请求？我在哪里可以搜索错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T03:33:16.683

检查来自 twitter 的响应标头：

```
X-Warning: Invalid OAuth credentials detected. 
```

基于：

> 确保在请求不需要身份验证的方法时检查返回的标头。如果您发出的请求包含无效的*OAuth 信息*，API 将执行以下两项操作之一：
> 
> **对于需要身份验证**的方法，API 将返回一个错误响应，其中包含有关错误的更多信息。*例如，响应正文的 HTTP 401 错误无法使用 OAuth 进行身份验证。*
> 
> **对于可以请求未经**身份验证的方法，API 将处理请求，就好像没有使用身份验证一样。这意味着该请求将计入​​未经身份验证的速率限制。如果发生这种情况，API 将在其响应中包含以下标头：*X-Warning: Invalid OAuth credentials detected。*

我怀疑您的问题更多地与 Oauth 不匹配有关。获取[访问令牌](https://dev.twitter.com/docs/auth/obtaining-access-tokens)页面可能会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T08:50:03.280

解决了。正如预期的那样，这是我的错误......

错误：
$uri='http://api.twitter.com/1/users/show.json?screen_name='.$name;
$client->setUri($uri)

对：
$uri='http://api.twitter.com/1/users/show.json；
$client->setUri($uri);
$client->setParameterGet($uri,array("screen_name"=>$name));

%&$§/&%! <-不可翻译的脏话....

# php - 如何在 Smarty 中关闭 html 转义

> ID：12351549
> 
> 赞同：3
> 
> 时间：2012-09-10T12:19:07.180
> 
> 标签：php, smarty3

我正在使用`html_checkboxes`生成选择菜单。问题是在复选框名称中我有一些 html 代码并且 Smarty 对其进行了转义。

我有：

```
{html_checkboxes name='select_menu' values=$user_data[1] output=$user_data[2]} 
```

我得到：

```
Status: <span style="color: blue">Normal</span> 
```

我需要那个状态只是蓝色的。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-19T02:23:07.337

上面没有正确答案，即使最后一个答案非常接近..

检查此链接 [http://www.smarty.net/docs/en/variable.escape.html.tpl](http://www.smarty.net/docs/en/variable.escape.html.tpl)

正确答案应该是`{$var nofilter}`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-11T11:20:52.970

解决方案是`escape:false`

```
{html_checkboxes name='select_menu' values=$user_data[1] output=$user_data[2] escape:false} 
```

# google-maps - Jmapping信息框坏了？

> ID：12351552
> 
> 赞同：0
> 
> 时间：2012-09-10T12:19:21.247
> 
> 标签：google-maps

我正在使用 jmapping 在一个循环中映射地图上的几个引脚，该循环遍历美国可能有 50 个位置

问题是，使用 jmapping 时，信息框应该像那个方形漫画书风格的窗口，三角形指向图钉，信息框窗口本身有阴影，当我尝试时，该部分已损坏实施它（见附图）。

我正在使用 Rails 和 HAML，但我在下面粘贴已编译的 html 代码。这很奇怪，我花了一整天的时间试图弄清楚这一点。任何帮助，将不胜感激。

不幸的是，由于我公司的 NDA 规则，我无法发布网址，但我发布了问题的屏幕截图和相关代码。

这是屏幕截图的链接：https: [//plus.google.com/u/0/101306108306543950085/posts/FdirAuN3PNe](https://plus.google.com/u/0/101306108306543950085/posts/FdirAuN3PNe)

这是我的代码：

```
 <div class='map-location' data-jmapping='{"id":51,"point":  {"lat":41.47535,"lng":-87.385431},"category":"Gas"}'>
<div class='info-box'>
<div class='vacancy_map_data'>Merrillville , IN</div>
<div class='vacancy_map_data'>Square Feet: 785</div>
<div class='vacancy_map_data'>Monthly Rate: 2650.0</div>
<div class='vacancy_map_data'><a  href="/vacancies/4ffef1ecd0bef8000100003e/vacancy_inquiries/new" class="map-link">Inquire</a></div>
</div>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T16:20:06.193

我发现了问题：与 GoogleMaps 和 Twitter Bootstrap 存在冲突，导致某些图形元素行为不端。我通过在相关页面上不包括 Twitter Bootstrap 来解决它。

# c++ - 无法从 'unsigned char *' 转换为 'char *'

> ID：12351554
> 
> 赞同：5
> 
> 时间：2012-09-10T12:19:21.513
> 
> 标签：c++, char, unsigned

> **可能重复：**
> [从 unsigned char * 转换为 const char * 的 C++ 样式](https://stackoverflow.com/questions/658913/c-style-cast-from-unsigned-char-to-const-char)

我有`unsigned char* digest;`一个程序的输出，我想将它传递给`char* S1;`

我打字`char* S1=digest;`不工作

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-10T12:25:35.233

简单的答案：你需要转换它：`reinterpret_cast<unsigned char*>(digest)`

但是，在这种情况下，您需要注意 unsigned char* 和 char* 并不是一回事，除非数组中的所有元素都小于 128。

char * 代表从 -128 到 127（有符号）或 0 到 255（无符号）的值，另一个总是从 0 到 255 的值。

就其性质而言，摘要函数可能会在结果中返回介于 0 和 255 之间的值。

此外，数组很可能包含空字符（问题并未真正指定摘要来自何处）这一事实许多接受 char * 或 unsigned char* 的函数可能会失败，因为它们假设 char* 是字符串（如果它是（可能）固定大小的二进制摘要，则实际上不是）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T12:22:08.703

这是因为`unsigned char`and `char`（实际上`signed char`在您的编译器中）是不同的。您必须进行明确的类型转换：

```
char* S1 = reinterpret_cast<char*>(digest); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T12:22:35.807

Char 类型是布局兼容的，所以如果你知道你在做什么，你可以简单地通过重新解释强制指针：

```
char * s1 = reinterpret_cast<char *>(digest); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-10T16:20:01.647

C风格演员表：`s1=( char *)digest;`

C++ 风格转换：`s1= reinterpret_cast<char *>(digest);`

```
#include <iostream>
using namespace std ;

int main(void)
{

    unsigned char* digest;
    char * s1c,*s1cpp; 

    //C style cast
    s1c=(  char *)digest;

    //C++ style cast
    s1cpp= reinterpret_cast<char *>(digest);

  cout<<" \nPress any key to continue\n";
  cin.ignore();
  cin.get();

   return 0;
} 
```

# powershell - 包管理器控制台仅搜索 Id

> ID：12351557
> 
> 赞同：1
> 
> 时间：2012-09-10T12:19:28.453
> 
> 标签：powershell, visual-studio-2012, nuget

如果我输入这个命令...

Get-Package -ListAvailable -Filter newtonsoft

我得到了在其 ID 或描述/发行说明字段中引用字符串“newtonsoft”的所有包的列表。有没有办法只搜索 Id 字段？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-10T13:28:39.487

您可以使用`Where-Object`cmdlet 过滤结果。表示管道中的`$_`当前对象：

```
Get-Package -ListAvailable -Filter newtonsoft | Where {$_.<prop-name> -match '<regex>'} 
```

请注意，`-match`运算符将指定属性名称的值与指定的正则表达式匹配。具体来说，我认为你想要这个：

```
Get-Package -ListAvailable -Filter newtonsoft | Where {$_.Id -match 'newtonsoft'} 
```

# .htaccess - 如何使用 htaccess 更改 UR 中的特定参数

> ID：12351559
> 
> 赞同：0
> 
> 时间：2012-09-10T12:19:30.387
> 
> 标签：.htaccess, mod-rewrite

我有这个网址：

> http://www.site.com/?option=com_php&Itemid=143&ep3[]=%3Fsid%3Dodp22rjt7glclu1hshb2gc5va7gjuv4c%26lang%3Den%26sd%3D11.09.2012%26ed%3D05.10.2012%26tt%3DF%26sp%3D3%26st% 3DPA

我想替换此网址中的另一个字符串，例如：

`"option=com_php&Itemid=143"`至`"catalog"`

`"sp%3D3%26st%3DPA"`至`"phone"`

`"tt%3DF%26"`至`"windows"`

等等

我想要这个网址：

> http://www.site.com/?catalog&ep3[]=%3Fsid%3Dodp22rjt7glclu1hshb2gc5va7gjuv4c%26lang%3Den%26sd%3D11.09.2012%26ed%3D05.10.2012%26&windows&phone

或者其他的东西。

我想更改产品名称的 URL 中的特定参数，例如

我已经阅读了很多关于这个主题的回复并搜索了网络，但不幸的是没有解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T12:27:46.310

你需要检查一下`%{QUERY_STRING}`，我只会给你一个例子来说明它是如何工作的：

```
RewriteEngine on
RewriteBase /
RewriteCond %{QUERY_STRING} ^(.*&)?param1=value(&.*)?$
RewriteRule ^(.*)$ $1?%1replacement%2 [L] 
```

%n（其中 n 是一个数字）用于捕获上次重写条件中括号之间的值，$n（其中 n 也是一个数字）用于捕获重写规则中括号之间的值。

# selenium - 需要一些示例如何在 selenium webdriver 中使用 TestNG 使用 Assertstatements

> ID：12351564
> 
> 赞同：2
> 
> 时间：2012-09-10T12:19:43.343
> 
> 标签：selenium, testng

如何在 Selenium Webdriver 中使用下面的 Assert 语句

1.  Assert.AssertTrue(条件,字符串)
2.  Assert.AssertFalse（条件，字符串）

请让我知道条件失败时显示字符串语句的位置（在控制台/报告中）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T15:50:14.377

```
public void doLogout() {
     String curTitle=driver.getTitle();
     jsExecution("rms.home.logout");       
     Assert.assertFalse(curTitle.equals(newTitle), "You've not been logged out");
}

public void stayTheSamePage(){
     String curTitle = driver.getTitle();
     String newTitle = driver.getTitle();
     Assert.assertTrue(curTitle.equals(newTitle), "You've been redirected");
} 
```

如果您想要检查某些内容并且您知道正确的行为（预期的行为）在条件下是错误的（例如您已经登录并且页面标题不同），那么您使用`Assert.AssertFalse()`.

如果预期的行为在条件下为 True（例如页面标题相同），请使用`Assert.AssertTrue()`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T13:04:59.967

您将使用断言来断言某些行为，即断言您的预期结果。如果断言失败，断言将停止执行。当一个断言失败时，一个 AssertionError 将被抛出，该字符串作为其跟踪的一部分。此消息将在两个地方都可用，即控制台和 testng 报告。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-25T11:38:33.517

```
Assert.assertEquals("Your Test Message", driver.findElement(By.className("className")).getText()); 
```

# javascript - recurse through a javascript object adding extra array members if (array.length < 2)

> ID：12351568
> 
> 赞同：0
> 
> 时间：2012-09-10T12:19:52.853
> 
> 标签：javascript, arrays, object, recursion

With a nested object such as the 'root' object below; How can I add a 'dummy' object to those arrays where the length of the array is less than 2.

```
var root = {
  children: [
    {
      children: [
        {value: 42}
      ]
    },
    {
      children: [
        {value: 42},
        {value: 42}
      ]
    },
    {value: 42}
  ]
}; 
```

An example of an object i want to insert into arrays where `array.length < 2` :

```
var dummy = {value: 10, dummy: 1}; 
```

the resulting array:

```
var rootWithDummies = {
  children: [
    {
      children: [
        {value: 42},
        {value: 10, dummy: 1}
      ]
    },
    {
      children: [
        {value: 42},
        {value: 42}
      ]
    },
    {value: 42}
  ]
}; 
```

I am trying to use recursion though I still have much to learn: **EDIT** original addDummies function was checking for `nest.values` when it should have been `nest.children` **CORRECTED FUNCTION**

```
function addDummies (nest, dummyObject) {

    if (nest.hasOwnProperty("children")) {

        if (nest.children.length < 2) {
            nest.children.push(dummyObject)
        }

        nest.children.forEach(function (item) {

            addDummies(item);

        ;})
    }
} 
```

**OLD INCORRECT FUNCTION** function addDummies (nest, dummyObject) {

```
 if (nest.hasOwnProperty("values")) {

        if (nest.values.length < 2) {
            nest.values.push(dummyObject)
        }

        nest.values.forEach(function (item) {

            addDummies(nest.values);

        ;})
    }
} 
```

this attempt does not seem to call addDummies recursively nor does it have any checking that the value of 'values' is actually an array (and therefore has a length property).

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T12:51:09.217

Here you have a working solution:

```
var root = {
  children: [
    {
      children: [
        {value: 42}
      ]
    },
    {
      children: [
        {value: 42},
        {value: 42}
      ]
    },
    {value: 42}
  ]
};
var dummy = {value: 10, dummy: 1};

function addDummies (node) {

    if (node.children) {
      if (node.children.length < 2) {
        node.children.push(dummy)
      }  
      for (var i=0, len=node.children.length; i<len; i++) {
        addDummies(node.children[i]);
      }
    }
}

addDummies(root);
console.log(root); 
```

​ And the js fiddle: [http://jsfiddle.net/kKrFC/](http://jsfiddle.net/kKrFC/)

I'll edit with an explanation of why it wasn't working for you in an hour or so, I have to go now.

**EDIT**

The `hasOwnProperty` check is not necessary, as you only need to check it when you are looping through the object's members. What you need to do is send as the function parameter each of the elements in `children`, as each one of this is *like a root node*. That is precisely the idea of recursion (at least in this case).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T13:02:32.840

You were close; Changes:

*   remove the syntax error `;})` on the third to last line
*   use a `while` loop instead of appending just one dummy object

[http://jsfiddle.net/jbabey/V3bvV/](http://jsfiddle.net/jbabey/V3bvV/)

```
var padNode = function padNode (node) {
    if (node.children) {
        while (node.children.length < 2) {
            node.children.push(dummy);
        }  

        for (var i = 0; i < node.children.length; i++) {
            padNode(node.children[i]);
        }        
    }
}; 
```

# android - 将 Eclipse 升级到 Juno 后 Android 应用程序未启动 (ClassNotFound)

> ID：12351569
> 
> 赞同：0
> 
> 时间：2012-09-10T12:19:54.800
> 
> 标签：android, eclipse, adt, classnotfoundexception

我最近将 Eclipse 升级到 Juno 版本，一切似乎都在工作。几周后（现在）我需要在 Android 应用上工作，所以我重新安装了 ADT 插件。它需要更新外部 Android SDK 目录中的一些相关内容。在那之后，一切似乎都很好。

但是，一旦我在模拟器和测试设备上启动应用程序，应用程序就会崩溃。

```
09-10 14:55:14.879: I/ActivityManager(1571): Start proc nl.reinders.android.inventoryapp for activity nl.reinders.android.inventoryapp/.MainMenu: pid=5890 uid=10027 gids={3001, 3002, 3003}
09-10 14:55:14.999: W/dalvikvm(5890): Unable to resolve superclass of Lnl/reinders/android/inventoryapp/MyApplication; (239)
09-10 14:55:14.999: W/dalvikvm(5890): Link of class 'Lnl/reinders/android/inventoryapp/MyApplication;' failed
09-10 14:55:15.009: W/dalvikvm(5890): threadid=1: thread exiting with uncaught exception (group=0x40018560)
09-10 14:55:15.009: E/AndroidRuntime(5890): FATAL EXCEPTION: main
09-10 14:55:15.009: E/AndroidRuntime(5890): java.lang.RuntimeException: Unable to instantiate application nl.reinders.android.inventoryapp.MyApplication: java.lang.ClassNotFoundException: nl.reinders.android.inventoryapp.MyApplication in loader dalvik.system.PathClassLoader[/data/app/nl.reinders.android.inventoryapp-2.apk]
09-10 14:55:15.009: E/AndroidRuntime(5890):     at android.app.LoadedApk.makeApplication(LoadedApk.java:466)
09-10 14:55:15.009: E/AndroidRuntime(5890):     at android.app.ActivityThread.handleBindApplication(ActivityThread.java:3264)
09-10 14:55:15.009: E/AndroidRuntime(5890):     at android.app.ActivityThread.access$2200(ActivityThread.java:117)
09-10 14:55:15.009: E/AndroidRuntime(5890):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:969)
09-10 14:55:15.009: E/AndroidRuntime(5890):     at android.os.Handler.dispatchMessage(Handler.java:99)
09-10 14:55:15.009: E/AndroidRuntime(5890):     at android.os.Looper.loop(Looper.java:123)
09-10 14:55:15.009: E/AndroidRuntime(5890):     at android.app.ActivityThread.main(ActivityThread.java:3729)
09-10 14:55:15.009: E/AndroidRuntime(5890):     at java.lang.reflect.Method.invokeNative(Native Method)
09-10 14:55:15.009: E/AndroidRuntime(5890):     at java.lang.reflect.Method.invoke(Method.java:507)
09-10 14:55:15.009: E/AndroidRuntime(5890):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:874)
09-10 14:55:15.009: E/AndroidRuntime(5890):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:632)
09-10 14:55:15.009: E/AndroidRuntime(5890):     at dalvik.system.NativeStart.main(Native Method)
09-10 14:55:15.009: E/AndroidRuntime(5890): Caused by: java.lang.ClassNotFoundException: nl.reinders.android.inventoryapp.MyApplication in loader dalvik.system.PathClassLoader[/data/app/nl.reinders.android.inventoryapp-2.apk]
09-10 14:55:15.009: E/AndroidRuntime(5890):     at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:240)
09-10 14:55:15.009: E/AndroidRuntime(5890):     at java.lang.ClassLoader.loadClass(ClassLoader.java:551)
09-10 14:55:15.009: E/AndroidRuntime(5890):     at java.lang.ClassLoader.loadClass(ClassLoader.java:511)
09-10 14:55:15.009: E/AndroidRuntime(5890):     at android.app.Instrumentation.newApplication(Instrumentation.java:942)
09-10 14:55:15.009: E/AndroidRuntime(5890):     at android.app.LoadedApk.makeApplication(LoadedApk.java:461)
09-10 14:55:15.009: E/AndroidRuntime(5890):     ... 11 more
09-10 14:55:15.019: W/ActivityManager(1571):   Force finishing activity nl.reinders.android.inventoryapp/.MainMenu
09-10 14:55:15.529: W/ActivityManager(1571): Activity pause timeout for HistoryRecord{408f7cb0 nl.reinders.android.inventoryapp/.MainMenu}
09-10 14:55:25.649: W/ActivityManager(1571): Activity destroy timeout for HistoryRecord{408f7cb0 nl.reinders.android.inventoryapp/.MainMenu} 
```

至关重要的恕我直言，警告“无法解析超类”，然后导致类本身没有被加载。奇怪的是该类存在于 Eclipse 中，它是 RoboGuice 的应用程序类 (http://code.google.com/p/roboguice/) 并且它的 jar 存在。我可以点击它，打开类文件（当然不可读，但是）......

巧合的是我仍然有旧环境（Eclipse Indigo），但由于升级了Android SDK，它需要更新ADT插件，并且有同样的问题。

为什么 RoboGuice 罐子似乎不包括在内有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T12:22:24.647

使用较新的 ADT 插件，所有外部“jar”文件都需要在`libs/`文件夹中（并且您不必从项目中引用它们......因此您可以右键单击 > 属性 > Java 构建路径 > 库和删除对 JAR 文件的引用）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:40:56.157

请检查 jar 文件是否包含在构建路径中。文件夹中的所有 jars`libs`都会自动包含在构建路径中，如果您的文件存在于其他位置，则必须手动将其包含在项目属性的构建路径中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-16T15:20:03.707

除了`libs`vs`lib`问题之外，我们似乎可以通过拥有两个版本的 eclipse 和两个 SDK 文件夹，然后将旧的 eclipse（带有旧的 ADT 插件）设置为指向新的 SDK 文件夹来解决这种情况。

确保您的 ADT 指向预期的 SDK 文件夹。

# java - 扩展 Swing 的 UndoManager 以提供重复和多次撤消/重做

> ID：12351570
> 
> 赞同：2
> 
> 时间：2012-09-10T12:19:54.947
> 
> 标签：java, swing, undo, undo-redo

我的任务是向应用程序添加撤消/重做/重复功能。我目前正在调查是否可以使用 Swing 的 UndoManager。

除了通常的撤消和重做按钮之外，我还需要提供一次撤消或重做多个编辑的功能（下拉 UI，如 MS Office），并重复选择的编辑。

我相信我可以使用 UndoManager 进行多次撤消和重做。它提供了多次撤消和重做的方法。为了构建 UI，我可以扩展 UndoManager 以公开它所拥有的编辑。

但是，我不确定是否可以使用 UndoManager 重复选择的操作。我的第一个想法是扩展 UndoManager 并添加一个重复（编辑）方法。此方法将克隆或复制编辑，重做副本，然后将副本放在撤消堆栈的顶部。只有实现 Clonable 时，编辑才能重复。

这看起来合理吗？有更好的解决方案吗？我应该自己滚动而不是 UndoManager 吗？提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-10T12:29:05.230

希望这有助于 [http://java-sl.com/tip_merge_undo_edits.html](http://java-sl.com/tip_merge_undo_edits.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T17:35:14.397

UndoManager 支持无限数量的撤消/重做操作。请参阅[文档](http://docs.oracle.com/javase/6/docs/api/javax/swing/undo/UndoManager.html#setLimit%28int%29)

对我来说扩展 UndoManager 以添加对重复的支持似乎是合理的，因为最后一次编辑已经存在。

# javascript - d3js树布局节点点击事件

> ID：12351571
> 
> 赞同：0
> 
> 时间：2012-09-10T12:19:55.690
> 
> 标签：javascript, jquery, ajax, treeview, d3.js

我打算使用 d3js 树布局在屏幕上显示交互式树。

首先，是否有任何关于 d3js 树布局使用的教程或深入文档。

其次，我想控制单击树的节点时的事件。我希望使用此事件在屏幕上显示有关该节点的更多详细信息/属性。所以我需要被点击的节点的 ID。

据我所知，`toggle`下面提到的一种方法在单击节点以显示/隐藏该节点的子节点时被调用。

```
// Toggle children.
function toggle(d) {
//alert();
 if (d.children) {
   d._children = d.children;
   d.children = null;
 } else {
   d.children = d._children;
   d._children = null;
 }
} 
```

但问题是当我取消注释时`alert()`，树没有显示在屏幕上。这是否意味着除了从 d3js 获得的代码之外，用户不能拥有任何代码？另外我该如何处理点击事件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T20:40:18.883

您必须注册活动

```
nodeEnter = node.enter().append('svg:g')
.attr('class', (d) ->
    if d.children?.length > 0 or d._children?.length > 0 then 'node' else 'leaf node'
)
.attr('transform', (d) -> 'translate(' + source.y0 + ',' + source.x0 + ')' )
.on('click', (d) -> 
    toggle(d)
    update(d)
    ) 
```

# ios - 如何突然结束动画？

> ID：12351578
> 
> 赞同：1
> 
> 时间：2012-09-10T12:20:08.440
> 
> 标签：ios, xcode

我正在制作一个游戏，当用户移动时，源和目标方块会在动画中亮起。动画持续时间为 1 秒。

问题是当用户太快地点击前进按钮时，所有源和目标方块都会亮起，导致许多亮起的方块发生，因为第二个动画在第一个动画结束之前开始。

当动画的持续时间未结束时，我如何突然结束动画。

动画功能代码：-

```
[UIView beginAnimations:nil context:NULL];
    [UIView setAnimationDuration:value];
    [UIView setAnimationRepeatCount:1];
   // [UIView setAnimationRepeatAutoreverses:YES];

    [self.view viewWithTag:(src+1)+2000].backgroundColor=[UIColor orangeColor];
    [self.view viewWithTag:(src+1)+2000].backgroundColor=[UIColor clearColor];
    [self.view viewWithTag:(dest+1)+2000].backgroundColor=[UIColor orangeColor]; 
    [self.view viewWithTag:(dest+1)+2000].backgroundColor=[UIColor clearColor];
    [UIView commitAnimations]; 
```

注意：- 我接受反对票是一种健康的批评方式，但请写下原因以便我改进

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:23:09.213

采用

```
#import <QuartzCore/QuartzCore.h>

.......

[myView.layer removeAllAnimations]; 
```

希望能帮助到你。快乐编码:)

# c# - 拍摄时有时会出错

> ID：12351579
> 
> 赞同：-1
> 
> 时间：2012-09-10T12:20:09.283
> 
> 标签：c#, unity3d, frame-rate, gameobject

> MissingReferenceException：“GameObject”类型的对象已被销毁，但您仍在尝试访问它。您的脚本应该检查它是否为空，或者您不应该销毁该对象。UnityEngine.Object.Internal_InstantiateSingle (UnityEngine.Object data, Vector3 pos, Quaternion rot) (at C:/BuildAgent/work/d9c061b1c154f5ae/Runtime/ExportGenerated/Editor/UnityEngineObject.cs:44) UnityEngine.Object.Instantiate (UnityEngine.Object original , Vector3 位置, 四元数旋转) (在 C:/BuildAgent/work/d9c061b1c154f5ae/Runtime/ExportGenerated/Editor/UnityEngineObject.cs:53) Gun.Update () (在 J:/WAR/Assets/Scripts/Gun.cs: 16)

这就是我得到的错误，这里是我的枪类代码

```
using UnityEngine;
using System.Collections;

public class Gun : MonoBehaviour {

    public GameObject bullet = null;
    public float bulletSpeed = 500f;

    void Update () {
        if (Input.GetKeyDown (KeyCode.Mouse0)) {

            /*
             * Instantiate the bullet using the prefab and store it into the shot variable
             */

            GameObject shot = GameObject.Instantiate(bullet, transform.position + (transform.forward * 2), transform.rotation) as GameObject;

            /*
             * Adding force
             */
            shot.rigidbody.AddForce(transform.forward * bulletSpeed);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:53:55.100

问题是，子弹 GameObject 是空的，因为它没有被设置，当他试图实例化一个空对象时，它会抛出一个异常。

你能做什么取决于游戏对象。您可以使用`GameObject.Find`来获取`GameObject`项目符号，然后将其分配给项目符号变量。

```
public GameObject bullet = GameObject.Find("NameOfTheBulletGameobject"); 
```

您可以这样做的另一种方法是将子弹游戏对象拖到检查器中的变量上。

```
public GameObject bullet; 
```

然后，只需将实际的项目符号对象拖到脚本中的项目符号变量上，在检查器中。

希望能帮助到你！

# php - 使用多个条件在单个查询中更新 MySQL 批量查询

> ID：12351582
> 
> 赞同：0
> 
> 时间：2012-09-10T12:20:14.867
> 
> 标签：php, mysql, sql-update, bulk

这看起来是许多人的共同问题，但我还没有找到有帮助的解决方案。

我已经能够找到一个批量插入查询，它只需要一个查询，但对于更新，查询的结构有点不同。

是否可以创建适用于许多不同行的更新查询。

我已经能够创建一个运行正确次数并正确更新行但它运行多次的查询。

这会产生大量查询，众所周知，这些查询可能需要大量处理。

这是我发现的批量插入查询：

```
$sql = array();  
foreach( $data as $row ) {     
    $sql[] = '("'.mysql_real_escape_string($row['text']).'", '.$row['category_id'].')'; 
    } 
mysql_query('INSERT INTO table (text, category) VALUES '.implode(',', $sql)); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:25:29.057

您不能使用更新查询来执行此操作。每次更新都必须进行一次查询。

除非您当然想根据以下字段进行更新： `UPDATE TABLE SET field_1=1 WHERE field_2=2`

# javascript - 我的 html 有一些错误

> ID：12351584
> 
> 赞同：-8
> 
> 时间：2012-09-10T12:20:15.900
> 
> 标签：javascript, html, ajax

我不知道我错过了什么帮助我谢谢

当我点击检查它返回错误（）;

它应该返回 yes(); 因为它们都是相同的值和结果。

但它只给出错误（）；

我想如果 value 和 Result 相同，那么它应该做 yes();

**在这里解决的例子感谢大家帮助我。**

```
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>Your title</title>

    <link href="" rel="stylesheet" type="text/css"></link>
</head>
<body>
    <button onclick="myFunction()">Get</button>
    <p id="demo"></p>
    <script type="text/javascript">
        function check(Content) {
            var Right = "Yes";
            var Wrong = "No";
            var Result = "100";
            var value = "100";
            if (Result == 'value') {
                document.getElementById("demo").innerHTML=Right;
            }else {
                document.getElementById("demo").innerHTML=Wrong;
            };
        };
    </script>
</body> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T12:23:23.690

你没有调用正确的函数。

```
<button onclick="check()">Get</button> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T12:25:04.923

你必须试试这个：---

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
        <title>Your title</title>

        <link href="" rel="stylesheet" type="text/css"></link>
    </head>
    <body>
        <button onclick="myFunction()">Get</button>
        <p id="demo"></p>
        <script type="text/javascript">
            function check(Content) {
                var Right = "Yes";
                var Wrong = "No";
                var Result = "100";
                var value = "100";
                if (Result == 'value') {
                    document.getElementById("demo").innerHTML=Right;
                }else {
                    document.getElementById("demo").innerHTML=Wrong;
                };
            };
        </script>
    </body>
</html> 
```

这将正常工作，并请记住始终尝试调用已定义的函数！！..

按照这样的代码。它会帮助你！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T12:23:21.573

您尝试调用不存在的`myFunction()`函数而不是`check()`在 onclick 中。

有一些称为**验证器**的工具可以帮助您检查标记、CSS、JS 是否存在任何问题。有些是付费的，但您可以轻松找到免费的，例如：http: [//validator.w3.org/](http://validator.w3.org/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-10T12:24:30.363

如果您希望单击按钮来调用您的函数，那么您至少应该在两个地方（调用和定义）使用相同的名称调用它，现在您拥有`myFunction`and `check`。

此外，您`Result`与文字 string进行比较`'value'`，而不是变量内部的内容`value`。删除这些引号以使其工作。

你的第二个例子仍然有错误的比较，当你调用`yes()`and`wrong()`时，我没有看到你返回它们的值`return yes()`。除非他们自己做某事，否则你只是把他们的结果扔掉了。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-10T12:24:46.667

如果您试图在单击“获取”按钮时启动该功能，那么您的功能名称不正确。您正在调用“myFunction”，但实际函数称为“check”。改为这样做：

```
<button onclick="check()">Get</button> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-10T12:24:14.143

其实你没有javascript函数：

```
<!DOCTYPE html>
<html>
<body>
<button onclick="myFunction():">Get</button>
<p id="demo"></p>
<script>
function myFunction() {
    var Right = "Yes";
    var Wrong = "No";
    var Result = "100";
    var value = "100";
    if (Result == 'value') {
        document.getElementById("demo").innerHTML=Right;
    }else {
        document.getElementById("demo").innerHTML=Wrong;
    };
};
</script>
</body>
</html> 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-10T12:24:28.340

更改您的函数名称

```
<script>
function myFunction(Content) {
   var Right = "Yes";
   var Wrong = "No";
   var Result = "100";
   var value = "100";
   if (Result == 'value') {
       document.getElementById("demo").innerHTML=Right;
    }else {
       document.getElementById("demo").innerHTML=Wrong;
   }; 
```

}; 以及您传递给函数的内容是什么，然后 onclick 您必须传递它

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-09-10T12:29:59.020

我认为您在按钮单击事件上调用了 JS 函数“myFunction()”，但是您在 javascript 中声明了名称和参数错误的函数。

您应该在 javascript 中声明如下函数：

```
<script language="javascript" type="text/javascript">
function myFunction() {
    var Right = "Yes";
    var Wrong = "No";
    var Result = "100";
    var value = "100";
    if (Result == 'value') {
        document.getElementById("demo").innerHTML=Right;
    }else {
        document.getElementById("demo").innerHTML=Wrong;
    };
};
</script> 
```

进行上述更改后，您可能会得到解决方案。

# devexpress - 如何在网格布局视图中设置 RepositoryItemButtonEdit 的文本

> ID：12351594
> 
> 赞同：0
> 
> 时间：2012-09-10T12:20:34.823
> 
> 标签：devexpress

我创建了一个网格控件并将主视图设置为布局视图并添加存储库项是不同的列但是当我在目标列中添加按钮编辑时。我想将列数据与 Button 的 Text 属性绑定。Plzzzzzzz 我太担心了。告诉我任何解决方案如何在网格布局视图中设置 RepositoryItemButtonEdit 的文本

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T13:48:57.260

您可以处理编辑器即将以非聚焦模式显示时发生的事件`CustomRowCellEdit`。

```
private
void gridView_CustomRowCellEdit(object sender, CustomRowCellEditEventArgs e)
{
    if (e.Column != columnWithButtonEdits) {
        BusinessObject obj = (BusinessObject) gridView.GetRow(e.RowHandle);
        e.RepositoryItem.Buttons[0].Text = obj.SomeProperty;                
    }
} 
```

当然，您必须转换`RepositoryItem`为您的类型并获得所需的按钮。

# wordpress - Wordpress：将配置选项添加到所有小部件设置

> ID：12351603
> 
> 赞同：10
> 
> 时间：2012-09-10T12:21:01.593
> 
> 标签：wordpress

在 Wordpress 中，我的目标是能够为我放在侧边栏中的每个小部件提供一个自定义类。最好我想在每个小部件的小部件设置中添加这个类。还有第 3 方小部件。

我正在考虑更改类名，因为类名已经传递给**register_sidebar**函数（%2$s）：

```
<?php
register_sidebar(array('before_widget' => '<aside id="%1$s" class="widget %2$s blue">'));
?> 
```

当然，我不应该更改 WP 核心代码或 3rd 方插件。这意味着我需要编写一个将挂钩到小部件配置过程的插件。

我已经发现可以通过连接到操作“in_widget_form”来修改所有小部件表单：

```
<?php
add_action('in_widget_form', 'teaserWidgetAddToForm');

function teaserWidgetAddToForm($widget_instance) {
  ?>
  <label for="<?php echo $widget_instance->get_field_id('teaser-classname'); ?>">Custom classname(s):</label>
  <input type="text" id="<?php echo $widget_instance->get_field_id('teaser-classname'); ?>" name="<?php echo $widget_instance->get_field_name('teaser-classname'); ?>">
  <?php
}
?> 
```

这些数据应该由 Widget 超类保存，但是如何检索这些数据（所以稍后打开小部件设置时会显示您之前填写的内容）

而且，这个保存的数据应该放在小部件实例中——这是怎么做的？我想通过使用类似的东西：

```
<?php
$wp_registered_widgets[<widget_id>]['callback'][0]['widget_options']['classname'] = <chosen_class>;
?> 
```

所以基本上我有两个问题：

*   我是否使用正确的方法来解决这个问题（单个小部件的样式）
*   如果是这样，我如何修改小部件实例以保存和检索其他设置，而无需修改 Wordpress 或 3rd 方插件源代码。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-10T15:53:35.410

1.  默认情况下，每个小部件实例都有一个唯一的 ID，可用于设置它的样式。

2.  为了保存`in_widget_form`操作中添加的字段中的数据，您还需要一个`widget_update_callback`过滤器。

    ```
    function my_widget_update_callback($instance, $new_instance) {
        $instance['my_classnames'] = $new_instance['my_classnames'];
        return $instance;
    } 
    ```

    要在表单中显示保存的值，您需要首先检索实例设置。

    ```
    function my_in_widget_form($instance) {
        $settings = $instance->get_settings();
        … 
    ```

    最后，我认为添加自定义类的最简单方法是在`widget_display_callback`过滤器中，它在显示小部件之前运行。您必须自己显示小部件，因为您只能从此过滤器返回一个实例，并且实例不控制小部件 CSS 类。

    ```
    function my_widget_display_callback($instance, $widget, $args) {
        if (!isset($instance['my_classnames'])) {
            return $instance;
        }

        $widget_classname = $widget->widget_options['classname'];
        $my_classnames = $instance['my_classnames'];

        $args['before_widget'] = str_replace($widget_classname, "{$widget_classname} {$my_classnames}", $args['before_widget']);

        $widget->widget($args, $instance);

        return false;
    } 
    ```

有关与小部件相关的可用挂钩的更多信息，请参阅本文：http: [//shibashake.com/wordpress-theme/wordpress-widget-system](http://shibashake.com/wordpress-theme/wordpress-widget-system)

# ruby - 带哈希的发送函数

> ID：12351604
> 
> 赞同：0
> 
> 时间：2012-09-10T12:21:03.467
> 
> 标签：ruby, hash

我知道我`x.to_s`的不起作用，我需要使用`.send(something)`，但我无法正确使用语法。如果您能告诉我正确的发送语法，我将不胜感激。

```
h = Hash.new 
@cars.each do|x| 
  h["x.to_s"] = 0 
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:38:38.280

如果您打算将字符串表示形式`x`用作哈希键，请删除引号：

```
h[x.to_s] = 0 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:24:48.900

我猜你会发现这个：

```
h = Hash.new
@cars.each 做|x|
  h[x.send(:to_s)] = 0
结尾

```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T13:13:26.253

我真的不明白为什么你需要`send`在这里使用。简单的有什么问题：

```
Hash[@cars.map(&:to_s).zip([0].cycle)] 
```

# algorithm - 如何平滑 3D 体素世界的块？

> ID：12351605
> 
> 赞同：11
> 
> 时间：2012-09-10T12:21:05.603
> 
> 标签：algorithm, graphics, 3d, bezier, voxel

在我的（类似 Minecraft 的）3D 体素世界中，我想平滑形状以获得更自然的视觉效果。让我们首先在 2D 中查看这个示例。

[![无平滑、圆形平滑和贝塞尔平滑](../Images/32822f8a9bdfe70b0e4b9aad3dfbc06f.png)](https://i.stack.imgur.com/aG0PU.png)

左边是没有任何平滑的世界的样子。地形数据是二进制的，每个体素都被渲染为一个单位大小的立方体。

在中心，您可以看到一个简单的圆形平滑。它只考虑了四个直接相邻的块。它仍然不是很自然。此外，我希望出现平坦的 45 度斜坡。

在右边你可以看到我想出的一个平滑算法。为了得出一个块的形状，它考虑了八个直接和对角相邻的邻居。我有在线[的 C++ 代码](https://github.com/danijar/voxel-smoothing-2d)。这是绘制贝塞尔曲线的控制点的代码。

```
#include <iostream>

using namespace std;
using namespace glm;

list<list<dvec2>> Points::find(ivec2 block)
{
    // Control points
    list<list<ivec2>> lines;
    list<ivec2> *line = nullptr;

    // Fetch blocks, neighbours start top left and count
    // around the center block clock wise
    int center = m_blocks->get(block);
    int neighs[8];
    for (int i = 0; i < 8; i++) {
        auto coord = blockFromIndex(i);
        neighs[i] = m_blocks->get(block + coord);
    }

    // Iterate over neighbour blocks
    for (int i = 0; i < 8; i++) {
        int current = neighs[i];
        int next = neighs[(i + 1) % 8];
        bool is_side   = (((i + 1) % 2) == 0);
        bool is_corner = (((i + 1) % 2) == 1);

        if (line) {
            // Border between air and ground needs a line
            if (current != center) {
                // Sides are cool, but corners get skipped when they don't
                // stop a line
                if (is_side || next == center)
                    line->push_back(blockFromIndex(i));
            } else if (center || is_side || next == center) {
                // Stop line since we found an end of the border. Always
                // stop for ground blocks here, since they connect over
                // corners so there must be open docking sites
                line = nullptr;
            }
        } else {
            // Start a new line for the border between air and ground that
            // just appeared. However, corners get skipped if they don't
            // end a line.
            if (current != center) {
                lines.emplace_back();
                line = &lines.back();
                line->push_back(blockFromIndex(i));
            }
        }
    }

    // Merge last line with first if touching. Only close around a differing corner for air
    // blocks.
    if (neighs[7] != center && (neighs[0] != center || (!center && neighs[1] != center))) {
        // Skip first corner if enclosed
        if (neighs[0] != center && neighs[1] != center)
            lines.front().pop_front();
        if (lines.size() == 1) {
            // Close circle
            auto first_point = lines.front().front();
            lines.front().push_back(first_point);
        } else {
            // Insert last line into first one
            lines.front().insert(lines.front().begin(), line->begin(), line->end());
            lines.pop_back();
        }
    }

    // Discard lines with too few points
    auto i = lines.begin();
    while (i != lines.end()) {
        if (i->size() < 2)
            lines.erase(i++);
        else
            ++i;
    }

    // Convert to concrete points for output
    list<list<dvec2>> points;
    for (auto &line : lines) {
        points.emplace_back();
        for (auto &neighbour : line)
            points.back().push_back(pointTowards(neighbour));
    }
    return points;
}

glm::ivec2 Points::blockFromIndex(int i)
{
    // Returns first positive representant, we need this so that the
    // conditions below "wrap around"
    auto modulo = [](int i, int n) { return (i % n + n) % n; };

    ivec2 block(0, 0);
    // For two indices, zero is right so skip
    if (modulo(i - 1, 4))
        // The others are either 1 or -1
        block.x = modulo(i - 1, 8) / 4 ? -1 : 1;
    // Other axis is same sequence but shifted
    if (modulo(i - 3, 4))
        block.y = modulo(i - 3, 8) / 4 ? -1 : 1;
    return block;
}

dvec2 Points::pointTowards(ivec2 neighbour)
{
    dvec2 point;
    point.x = static_cast<double>(neighbour.x);
    point.y = static_cast<double>(neighbour.y);

    // Convert from neighbour space into
    // drawing space of the block
    point *= 0.5;
    point += dvec2(.5);

    return point;
} 
```

但是，这仍然是二维的。如何将这个算法转化为三个维度？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-10T12:27:16.340

您可能应该看看[行进立方体算法](http://en.wikipedia.org/wiki/Marching_cubes)并从那里开始工作。您可以轻松控制生成的 blob 的平滑度：

1.  想象一下，每个体素都定义了一个场，在它的中心具有高密度，当你远离中心时，它会慢慢消失。例如，您可以使用一个函数，它在一个体素内为 1，在两个体素外变为 0。无论您选择什么确切的函数，请确保它仅在有限（最好是小）区域内不为零。
2.  对于每个点，求和所有场的密度。
3.  对这些字段的总和使用行进立方体算法
4.  为算法使用高分辨率网格

为了改变外观/平滑度，您可以更改密度函数和行进立方体算法的阈值。一个可能的扩展立方体以创建更平滑的网格是以下想法：想象您在立方体的边缘遇到两个点，其中一个点位于您的体积内部（高于阈值），另一个位于外部（低于阈值）。在这种情况下，许多行进立方体算法将边界准确地放置在边缘的中间。人们可以计算出准确的边界点——这消除了混叠。

另外，我建议您在此之后运行网格简化算法。使用行进立方体会导致网格中包含许多不必要的三角形。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T12:39:02.133

作为我上面回答的替代方案：您还可以使用[NURBS](http://en.wikipedia.org/wiki/NURBS)或任何算法进行[细分曲面](http://en.wikipedia.org/wiki/Subdivision_surface)。特别是细分曲面算法被专门化为平滑网格。根据算法及其配置，您将获得更平滑的原始网格版本

*   相同的体积
*   相同的表面
*   相同的轮廓

等等。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T12:29:38.117

对称为 Biezer 曲面的 Biezer 曲线使用 3D 实现或使用解释的 B-Spline Surface 算法：

[这里](http://www.doc.ic.ac.uk/~dfg/AndysSplineTutorial/index.html)

或者

[这里](http://www.cs.mtu.edu/~shene/COURSES/cs3621/NOTES/surface/bspline-construct.html)

# sql - 使用 SQL 同时写入多个列

> ID：12351606
> 
> 赞同：-1
> 
> 时间：2012-09-10T12:21:09.130
> 
> 标签：sql, vba, ms-access

我在 Microsoft Access 中编写 VBA 宏时遇到问题。我想做的是使用 SQL 创建一个输出表，但我想同时写入多个列。

这为我提供了一列所需的所有值：

```
Docmd.RunSQL “INSERT INTO Output (TargetCol1) SELECT [Field1] FROM [Table1] WHERE [Criteria1] = ‘Value’ GROUP BY Field1” 
```

当我尝试多次运行以获取其他列所需的值时。INSERT INTO 将数据写入新记录，所以我最终会出现空格，如下所示：

```
Field1----Field2
Value----<Null>
Value----<Null>
Value----<Null>
<Null>----Value
<Null>----Value 
```

我想要的是：

```
Field1----Field2
Value---- Value
Value---- Value
Value----<Null> 
```

我尝试创建变量并创建一种嵌套语句，但是当我尝试运行我编写的内容时，我在第一行收到“编译错误，需要对象”：

```
Set x = Docmd.RunSQL “INSERT INTO Output (TargetCol1) SELECT [Field1] FROM [Table1] WHERE      [Criteria1] = ‘Value’ GROUP BY Field1”
Set y = Docmd.RunSQL “INSERT INTO Output (TargetCol2) SELECT [Field2] FROM [Table1] WHERE  [Criteria2] = ‘Value’ GROUP BY Field2”
Docmd.runsql “INSERT INTO Output (TargetCol1, TargetCol2) Values (x,y)” 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:23:29.573

为什么不：

```
INSERT INTO Output (TargetCol1,TargetCol2) SELECT [Field1,Field2] FROM [Table1]  [Criteria1] = 'Value'" 
```

Set 用于对象，而您在`Set x = Docmd.RunSQL`. Order by 与表无关。

设置查询的最简单方法是使用查询设计窗口。它将指导您创建查询，然后您可以切换到 SQL 视图以获取 SQL。

我建议你不要使用 RunSQL ：[DoCmd.SetWarnings 和 CurrentDB.Execute 有什么区别](https://stackoverflow.com/questions/11213892/whats-the-difference-between-docmd-setwarnings-and-currentdb-execute/11213943#11213943)

# windows-8 - 文本到语音 Metro 应用程序 - 需要 3rd 方库/插件 - 它们在哪里？

> ID：12351607
> 
> 赞同：0
> 
> 时间：2012-09-10T12:21:10.573
> 
> 标签：windows-8, microsoft-metro, text-to-speech

有没有人研究过在 Windows 8 Metro 应用程序中使用 Text to Speech。桌面应用程序的功能应该没问题，但根据 MS 的说法，metro 应用程序需要第 3 方库/插件。

[http://social.msdn.microsoft.com/Forums/en-SG/winappswithcsharp/thread/553abb2c-19ef-41b0-b189-37b8f6b38713](http://social.msdn.microsoft.com/Forums/en-SG/winappswithcsharp/thread/553abb2c-19ef-41b0-b189-37b8f6b38713)

我看了，看了又看。有没有人看过这个，或者知道目前是否有第三方库可用或正在开发中？如果是这样，你能指出我有用的地方吗？

Bing 对我没用 - 这也需要离线操作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T11:07:11.897

您可以使用必应翻译。它同时具有 TTS 和 ASR，但您必须通过网络访问它。

[http://www.bing.com/translator](http://www.bing.com/translator)

你也可以看看 Project Hawaii

[http://research.microsoft.com/en-us/projects/hawaii/download.aspx](http://research.microsoft.com/en-us/projects/hawaii/download.aspx)

这应该适用于 windows phone 不确定你是否可以在 windows 8 上使用它

[http://ttsforwindowsphone7.codeplex.com/discussions](http://ttsforwindowsphone7.codeplex.com/discussions)

试图自己找到一个非联网的解决方案，但到目前为止一切都在云端

# c++ - boost::spirit::karma 使用带有条件的替代运算符 (|)

> ID：12351614
> 
> 赞同：2
> 
> 时间：2012-09-10T12:21:56.720
> 
> 标签：c++, boost-spirit, boost-variant, boost-spirit-karma

我正在尝试从我自己的名为`Value`using的类中生成一个字符串`boost::spirit::karma`，但我遇到了这个问题。我试图将我的问题提取到一个简单的例子中。

我想从以下类的实例生成一个带有业力的字符串：

```
class Value
{
public:

    enum ValueType
    {
        BoolType,
        NumericType
    };

    Value(bool b) : type_(BoolType), value_(b) {}
    Value(const double d) : type_(NumericType), value_(d) {};

    ValueType type() { return type_; }

    operator bool() { return boost::get<bool>(value_); }
    operator double() { return boost::get<double>(value_); }

private:
    ValueType type_;
    boost::variant<bool, double> value_;

}; 
```

在这里你可以看到我要做的事情：

```
int main()
{
    using karma::bool_;
    using karma::double_;
    using karma::rule;
    using karma::eps;

    std::string generated;
    std::back_insert_iterator<std::string> sink(generated);

    rule<std::back_insert_iterator<std::string>, Value()> value_rule = bool_ | double_;

    Value bool_value = Value(true);
    Value double_value = Value(5.0);

    karma::generate(sink, value_rule, bool_value);
    std::cout << generated << "\n";

    generated.clear();

    karma::generate(sink, value_rule, double_value);
    std::cout << generated << "\n";

    return 0;
} 
```

第一次调用`karma::generate()`工作正常，因为该值是一个布尔值，并且我的规则中的第一个生成器也“消耗”了一个布尔值。但是第二个`karma::generate()`失败了，`boost::bad_get`因为 karma 试图吃一个 bool 并因此调用`Value::operator bool()`。

我的下一个想法是修改我的生成器规则并将`eps()`生成器与条件一起使用，但在这里我卡住了：

```
value_rule = (eps( ... ) << bool_) | (eps( ... ) << double_); 
```

我无法用 sth 填充 eps 生成器的括号。像这样（当然不工作）：

```
eps(value.type() == BoolType) 
```

我试图进入`boost::phoenix`，但我的大脑似乎还没有为这样的事情做好准备。

请帮我！

这是我的完整示例（编译但不工作）： [main.cpp](http://pastebin.com/Cm57dVja)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T00:13:32.847

想到的最简单的事情是：使用`value_`变体（因为 Karma 非常支持变体）。

在语义动作中使用凤凰绑定会起作用：

```
rule<std::back_insert_iterator<std::string>, Value()> value_rule;

value_rule = (bool_ | double_) 
    [ _1 = phx::bind(&Value::value_, _val) ]; 
```

虽然这需要暴露`value_`（例如向*朋友*），但您可能更喜欢访问器方法。

这是一个工作示例**[http://liveworkspace.org/code/22ab2093ad9bd3b03e55a7f3dde952f8](http://liveworkspace.org/code/22ab2093ad9bd3b03e55a7f3dde952f8)**

```
#include <boost/spirit/include/karma.hpp>
#include <boost/spirit/include/phoenix.hpp>
#include <boost/variant.hpp>

#include <iostream>
#include <string>

namespace karma = boost::spirit::karma;
namespace phx = boost::phoenix;

class Value
{
public:

    enum ValueType
    {
        BoolType,
        NumericType
    };

    Value(bool b) : type_(BoolType), value_(b) {}
    Value(double d) : type_(NumericType), value_(d) {};

    ValueType type() { return type_; }

    operator bool()   { return boost::get<bool>(value_);   }
    operator double() { return boost::get<double>(value_); }

  private:
    ValueType type_;

    friend int main();
    boost::variant<bool, double> value_;
};

namespace karma = boost::spirit::karma;

int main()
{
    using namespace karma;
    std::string generated;
    std::back_insert_iterator<std::string> sink(generated);

    rule<std::back_insert_iterator<std::string>, Value()> value_rule;

    value_rule = (bool_ | double_) 
        [ _1 = phx::bind(&Value::value_, _val) ];

    Value bool_value = Value(true);
    Value double_value = Value(5.0);

    karma::generate(sink, value_rule, bool_value);
    std::cout << generated << "\n";

    generated.clear();
    karma::generate(sink, value_rule, double_value);
    std::cout << generated << "\n";

    return 0;
} 
```

输出

```
true
5.0 
```

Off-topic: May I suggest marking the *conversion operators* `explicit` (at the very least), to avoid nasty surprises?

# java - 如何在我的组织中创建员工层次结构

> ID：12351621
> 
> 赞同：0
> 
> 时间：2012-09-10T12:22:12.413
> 
> 标签：java, collections

我想在我的组织中创建员工层次结构。

实际上，我想编写一个函数，将员工作为输入并从该员工中给出层次结构。

> 例如，如果我给
> **Employee[empCode=18234,Name=vipul,mailid=xyz@pqr.com] 作为输入，那么
> 它将从 18234 返回我的层次结构。**

我有**HashMap<Employee,Employee>**，其中第一名员工在第二名员工和第二名员工下工作是第一名的 E+1。

**谁能帮我选择正确的收藏类型？怎样才能做到这一点？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:27:04.280

我认为作为第一种方法添加字段`Employee manager`和`Collection< Employee> employees`你的类`Employee`。因此，当每个员工都知道他的经理和他的员工（如果有的话）时，您将获得双向多树结构。

CEO 也是雇员，但他的经理是`null`。普通员工的员工集合为空或为空。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:31:31.253

像这样？

*   创建一个员工类
*   给它属性；字符串名称、员工老板、字符串类型（或 ENUM）
*   添加方法 addBoss(Employee boss)

`Empolyee e = new Employee(); e.addBoss(new Employee("Boss"));`

然后找到你想要的 Employee，递归地得到 top Employee 并按照自己的方式工作。然后你应该得到 Employee 的树。

# php - windows中的php扩展dll

> ID：12351625
> 
> 赞同：1
> 
> 时间：2012-09-10T12:22:28.717
> 
> 标签：php, c++, fastcgi

我有以下问题：我将 php 作为 fastcgi 运行（IIS 7.5 windows 2008 R2 64 位）

现在我编写测试函数“use_html”。我将此 dll 编译为 php 扩展（Visual 2012）。我将它复制到 php\ext 文件夹

```
#include "stdafx.h"
#include "php_ext.h"

//#define PHP_COMPILER_ID  "VC9"

ZEND_FUNCTION(use_html);

zend_function_entry use_functions[] =
{
    ZEND_FE(use_html, NULL)
    {NULL, NULL, NULL}
};

zend_module_entry use_html_module_entry =
{
    STANDARD_MODULE_HEADER,
    "Use Html",
    use_functions,
    NULL, NULL, NULL, NULL, NULL,
    "1.0.0-tutorial",
    STANDARD_MODULE_PROPERTIES
};

ZEND_GET_MODULE(use_html);

ZEND_FUNCTION(use_html)
{
     //bool useHtml;
     //if(zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "|b", &useHtml) == FAILURE)
     //{
     //    E_ERROR;
     //    return;
     //}
     //if(useHtml)
     //{
         php_printf("This string uses <a href='#'>Html</a>");
     //}
     //else
     //{
     //    php_printf("This string does not Html");
     //}
     return;
} 
```

如果我调用 phpinfo(); 它会起作用 - 我看到使用 Html 扩展名已安装；如果我在 php 脚本中调用函数 use_html(true) 则不起作用...

我总是从 IIS 服务器 HTTP 错误 500.0 - 内部服务器错误 C:\php-5.4.6-Win32-VC9-x86\php-cgi.exe - FastCGI 进程意外退出

Qouestion：它总是必须用相同的编译器版本编译？？或者 ？？

# c# - 在 WP7 应用程序中使用 LowProfileImageLoader 从服务器加载字节 [] 图像

> ID：12351630
> 
> 赞同：0
> 
> 时间：2012-09-10T12:22:57.320
> 
> 标签：c#, windows-phone-7, wcf-data-services

我想在我的 WP7 应用程序中使用 LowProfileImageLoader，但问题是我正在使用我的 WCF Web 服务以字节 [] 从服务器获取图像数据，所以我没有图像 URI。有人可以建议我如何将 LowProfileImageLoader 与我当前的图像数据一起使用吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T19:03:20.087

将字节放入 a 中`MemoryStream`，然后使用`setSource()`member of`BitmapImage`将图像放入您的 UI。

# html - HTML：在新窗口中打开页面本身

> ID：12351636
> 
> 赞同：0
> 
> 时间：2012-09-10T12:23:11.643
> 
> 标签：html, webpage

我想在新窗口中打开 HTML 页面**本身。**

单击按钮后，我希望该页面将在新窗口中打开。但是我不想编辑按钮所在的主页，但我想编辑那个页面，点击后会打开。

**不**使用 JavaScript有可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T14:45:37.457

不，如果没有 JavaScript，您想要完成的事情是不可能的。正如@Piszu 在某种程度上回答的那样，您需要通过 JavaScript 或通过`target`指向它的链接的属性来定义此行为。

我可能会补充说，您越是尝试与默认浏览器行为作斗争，您遇到的麻烦就越多。可能没有很好的理由去做你想要完成的任何事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:24:45.347

```
<a href="http://yourLink.com" target="_blank" title="describe link"> 
```

你的意思是这样吗？但是在没有脚本的新窗口中打开的编辑页面是不可能的。

# android - 应用程序在后台运行时未在状态栏中收到通知

> ID：12351639
> 
> 赞同：0
> 
> 时间：2012-09-10T12:23:12.827
> 
> 标签：android, notifications

当我在 Google Chat 处于后台时收到消息时，我没有在状态栏中收到任何通知。

```
public void showNotification(Context context, String msg, String title,
        String fromChatID) {

    int id = GTalkChatDetails.friendID.indexOf(fromChatID);

    NotificationManager = (NotificationManager) context.getSystemService(NOTIFICATION_SERVICE);

    int icon = R.drawable.statusicon;
    CharSequence tickerText = msg;
    long when = System.currentTimeMillis();
    Notification notification = new Notification(icon, tickerText, when);
    notification.flags |= Notification.FLAG_AUTO_CANCEL;
    notification.flags |= Notification.DEFAULT_SOUND;

    CharSequence contentTitle = title;
    CharSequence contentText = msg;

    Intent notificationIntent = new Intent(context, GTChat.class);
    Bundle bun = new Bundle();
    bun.putString("name", GTalkChatDetails.name);
    bun.putString("chatID", GTalkChatDetails.chatID);
    bun.putString("profileImage", GTalkChatDetails.profileImageURL);
    bun.putString("fromName", title);
    bun.putString("fromChatID", fromChatID);

    notificationIntent.putExtras(bun);

    PendingIntent contentIntent = PendingIntent.getActivity(context, id,
            notificationIntent,PendingIntent.FLAG_ONE_SHOT);

            notification.setLatestEventInfo(context, contentTitle, contentText,contentIntent);

    mNotificationManager.notify(id, notification);

    getCurrentActivity(context, msg, title, fromChatID);

}

public void getCurrentActivity(Context context, String msg,
        String fromName, String fromChatID) {

    ActivityManager am = (ActivityManager) context
            .getSystemService(ACTIVITY_SERVICE);

    List<RunningTaskInfo> taskInfo = am.getRunningTasks(1);
    ComponentName componentInfo = taskInfo.get(0).topActivity;

    if (componentInfo.getClassName().startsWith("com.project")) {

        showNotification(context, msg, fromName, fromChatID);
    } else {
        showNotification(context, msg, fromName, fromChatID);
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:27:34.423

```
 if (to.equals(fromName)&&notify_checkbox==true) {
  Notification(message.getBody(),fromName, name); 
      }
else
System.out.println("recieved msg" );

  protected void Notification(String body, String fromName, String Notificationmsg) {

    NotificationManager notificationManager = (NotificationManager)getSystemService(NOTIFICATION_SERVICE);      

    String tickerText = getString(R.string.app_name, body);
    Notification notif = new Notification(R.drawable.ic_launcher, tickerText,
            System.currentTimeMillis());

    Intent notificationIntent = new Intent(this, PresentChatActivity.class);
    PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, 0);

     notif.setLatestEventInfo(PresentChatActivity.this,Notificationmsg, message, pendingIntent);
     notif.setLatestEventInfo(getApplicationContext(), fromName, body,pendingIntent );  
     notificationManager.notify(10001, notif);
     } 
```

# facebook - Facebook 拉取提要

> ID：12351640
> 
> 赞同：1
> 
> 时间：2012-09-10T12:23:13.333
> 
> 标签：facebook

我需要“观看”一些 facebook 页面（公共页面），并且每次有新帖子（每个页面）都能够获取它并将其存储在我的数据库中。我在 facebook 开发者页面 ( ) 上找到了“实时更新”，`https://developers.facebook.com/docs/reference/api/realtime/`但这并不是我所需要的。要使用此“推送更新”，您需要创建一个 Facebook 应用程序并让用户访问它。我只需要观看公共页面（因此不需要身份验证）。
另一种解决方案是使用类似的东西

```
https://graph.facebook.com/page_id/feed?access_token=mytoken 
```

但这意味着每 x 秒查询一次 facebook 服务器。我不知道facebook是否有一些限制。

有人知道更好的解决方案吗？

我一直在寻找一段时间，但我没有找到合适的解决方案。

谢谢。

# java - 为什么接口不能是最终的？

> ID：12351646
> 
> 赞同：6
> 
> 时间：2012-09-10T12:23:26.453
> 
> 标签：java, interface

**JLS 2.13.1 接口修改器**

> 接口不能是最终的，因为这样的类的实现永远不会完成。

如果我可以在接口中编写创建静态内部类，我可以在其中提供实现，那么为什么会有这样的限制

```
interface Type {

    // Normal
    class Value {
        private Value() {
        }

        public void print() {
            System.out.println("Test");
        }
    }

    public final Value value = new Value();
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-10T12:25:18.590

好吧，在接口中，您根本无法提供任何形式的实现：甚至没有静态方法。将任何方法设为最终方法是没有意义的，因为它们尚未实现。

### 代码示例：

如果假设我有一个名为的接口`IExample`及其具体实现`Example`：

```
interface IExample{

    public final void run();

}

class Example implements IExample{

    // wait! I can't override because it's final! but it's yet to be implemented?!
    public void run(){ 

    }

} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-10T12:27:48.947

顺便说一句：第一次定义此限制时，嵌套类不可用，所以真正的问题可能是为什么没有取消此限制。

* * *

一个`final`类不能有任何子类。仅使用接口来定义子类的方法被认为是最佳实践，因此两者是矛盾的。

您可以将接口用于其他事情

*   注释
*   文档
*   常数
*   仅定义嵌套类。

但这些都是接口的目的所附带的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-11T11:22:22.377

“当 final 关键字出现在类声明中时，这意味着该类可能永远不会被子类化或覆盖。这可以防止特定类的过度专业化。在某种意义上，创建该类的人认为任何进一步的更改都是相切的达到其主要目的。”

参考：[最终](http://msdn.microsoft.com/en-us/library/aa233803%28v=vs.60%29.aspx)

接口代表行为，而不是实现，因此它是最终的没有意义。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-10T12:41:03.270

> 如果我可以在接口中编写创建静态内部类，我可以在其中提供实现，那么为什么会有这样的限制

是的，您可以在那里声明一个内部类，但要点仍然是`final`接口将是一个无法实现的接口。任何实现它的类都将违反`final`限制。Java 设计者得出的结论是，这没有多大意义，而且由于没有令人信服的具有嵌套类^*的接口的用*例*，因此没有理由放松这一限制。`final`

^(* - 我不会声称无法发明用例。但是，我从未听说过有人用内部类编写接口，其目的是不*应该*实现接口。)

# jquery - jQuery匹配ID的下一个“行”而不递归

> ID：12351650
> 
> 赞同：2
> 
> 时间：2012-09-10T12:23:43.987
> 
> 标签：jquery, html

这有点奇怪，请注意我无法更改 HTML，因为它是由 doxygen 生成的。

我正在尝试更改文件浏览器 javascript 的工作方式，目前如果您单击一个文件夹，它会完全展开它下面的所有文件夹。相反，我只想显示文件夹中的文件夹和文件。

HTML类似于（此处为简单起见无效的html）

```
<table>
<tr id="row_0" onclick="toggleFolder(0)">Folder1</tr>
<tr id="row_0_0" onclick="toggleFolder(0_0)">Project1</tr>
<tr id="row_0_0_0">File1.c</tr>
<tr id="row_1" onclick="toggleFolder(1)>Folder 2</tr>
</table> 
```

它表示如下结构：

*   文件夹 1
    *   项目一
        *   文件 1
*   文件夹 2

目前 doxygen 的 javascript toggleFolder 函数如下所示（我添加了注释来解释发生了什么）。

```
function toggleFolder(id)
{
  var n = $('[id^=row_'+id+']'); //all rows "beneath" the clicked one
  var i = $('[id^=img_'+id+']'); //img's in rows "beneath" clicked
  var a = $('[id^=arr_'+id+']'); //a's in rows "beneath" clicked
  var c = n.slice(1); //remove the first match (the clicked row)

  //If the first element (reduce matches) is visible hide everything...
  if (c.filter(':first').is(':visible')===true) {
    i.attr('src','ftv2folderclosed.png'); //probably not needed
    a.attr('src','ftv2pnode.png'); //probably not needed
    c.hide();
  } else {
    i.attr('src','ftv2folderopen.png');
    a.attr('src','ftv2mnode.png');
    c.show();
  }
  updateStripes(); //update even/odd classes
} 
```

相反，当我单击 row_0 而不是 row_0_0_0 时，我只想**选择**row_0_0，如何更改选择器来实现这一点？

谢谢你的时间！

* * *

最后，根据接受的答案，我使用了类似下面的内容

其中 rows 只是一个`$(tr)`等价物

```
 //Only match elements AFTER this one (can't hide elements before)
  var childRows = rows.filter(function() {
    re = new RegExp('^row_'+id+'\\d+_$', "i"); //only one sub
    return this.id.match(re);
  });

  //All sub images
  var childImages = childRows.find("img");

  //Only the img images
  var childImg = childImages.filter("[id^=img]");

  //Only the arr images
  var childArr = childImages.filter("[id^=arr]"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:53:10.157

代替：

```
var n = $('[id^=row_'+id+']'); 
```

和：

```
var n = $("tr").filter(function() {
    re = new RegExp('^row_'+id+'_\\d+$', "i");
    return this.id.match(re);
}); 
```

等效代码也适用于图像/锚点（但我在您的问题中没有看到示例，因此无法编写正确的过滤器）。

# objective-c - 您将如何实现“dayDidChange”方法，同时避免使用 NSTimer？

> ID：12351655
> 
> 赞同：1
> 
> 时间：2012-09-10T12:23:53.093
> 
> 标签：objective-c, ios

您将如何实施“ **dayDidChange** ”方法？

我有一个**dateLabel**，当**日期改变**时需要更新。

我已经实施了 2 个解决方案。但放弃了他们。

第一，在 viewWillAppear 上，我会设置我的标签。当用户查看 VC 时更改日期的机会非常小……而且它不会真正引入任何“错误”来执行但是，它仍然不是完美的。

第二，我还实现了一个间隔为 1 秒的 NSTimer。效果很好。但是，如果有机会我不需要调用方法，我不太会发现这种想法。

还有其他选择吗？当日子改变时，我需要更新该标签。另外，是否可以使用 NSNotificationCenter 呢？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-10T12:37:30.907

在您的应用程序委托中，实现以下方法：-`(void)applicationSignificantTimeChange:(UIApplication *)application`

此方法在日期更改时调用，或者如果设备的时间因任何原因在后台更改（例如更改时区）。

希望能帮助到你。快乐编码:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T12:33:38.680

您可以计算当天剩余的时间并为其设置计时器。您还可以收听 UIApplicationSignificantTimeChangeNotification。请注意，此通知不仅会在日期更改时触发，还会在时区调整和其他更改时触发。还要记住，只有当您的应用程序未处于非活动状态时才会触发通知的触发。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T12:45:55.240

有很多方法可以做到这一点，如果需要，我可以详细说明它们。但这是一个不错的快速技巧

在您的应用程序委托中使用此代码，它将侦听时间变化（当日期或时间发生巨大变化时）以及发生这种情况时 - 运行测试并在需要时更新标签。

在这里阅读我的信息：[https ://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIApplication_Class/Reference/Reference.html](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIApplication_Class/Reference/Reference.html)

这只是一种无需计时器的快速简单方法。

```
- (void)applicationSignificantTimeChange:(UIApplication *)application {
    NSLog(@"Time has changed, do a test and update the label if needed");
    // [yourViewController runTimeTestAndUpdateFunction];
} 
```

# delphi - Delphi (DataSnap) 慢

> ID：12351657
> 
> 赞同：3
> 
> 时间：2012-09-10T12:24:05.887
> 
> 标签：delphi, datasnap

我最近开始在 Delphi 中使用 DataSnap 来生成 RESTful Web 服务。在遵循该人本人 Marco Cantu 和其他几个人在互联网上的指导后，我成功地让整个“链条”正常工作。

但是速度有一个小问题；客户端现在可以向服务器发送一个流（连同它的大小）（因为这里的错误[DataSnap XE2 和 TStream 方法参数](https://stackoverflow.com/questions/12097470/datasnap-xe2-and-tstream-method-parameters/12099038#12099038)，被读取到发送的大小），服务器会将它重新组合成一个文件并保存它在磁盘上。

但是对于一个 3.66MiB 的文件，这需要 50 多秒！

应该是这样吗？在我的服务器上：

```
try
   F := TFileStream.Create('written.dat', fmCreate);
   F.Position := 0;
   F.CopyFrom(Data, DataSize);
finally 
   F.Free; 
```

在客户端：

```
var
  Server: TServerMethods1Client;
  DBStream: TFileStream;
begin
  Server := TServerMethods1Client.Create(SQLConnection1.DBXConnection);
  try
    DBStream := TFileStream.Create('DataSnapServer.exe', fmOpenRead);
    DBStream.Position := 0;
    Showmessage(IntToStr(Server.SendData(DBStream, DBStream.Size)));
  finally
    Server.Free; 
```

任何帮助表示赞赏！

干杯，阿德里安

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T10:16:04.823

在服务器端，尝试调整组件的`BufferKBSize`属性`TDSHTTPWebDispatcher`。`TsqlConnection`在客户端的组件上可以找到相同的属性。

# css - 在 CSS 中填充图像的一部分

> ID：12351658
> 
> 赞同：0
> 
> 时间：2012-09-10T12:24:08.030
> 
> 标签：css, image, background

我想创建一个带有星星\花朵\任何可以让我以图形方式呈现分数的比例，以防平均成绩（比如 4.35）。有没有办法使用 CSS 部分填充空的非矩形图像？TIA，马塔尼亚

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:28:41.813

如果您可以使用 a`div`而不是`img`图像，则可以将图像设置为`div`元素中的背景，并根据要显示的图像量计算 div 的宽度。

不过，计算必须通过 JavaScript 或服务器端完成，然后内联添加到`div`元素上。

# gprs - 与服务器通信 GPS/GPRS/GSM 跟踪器

> ID：12351659
> 
> 赞同：4
> 
> 时间：2012-09-10T12:24:12.960
> 
> 标签：gprs

我正在开发一个使用 GPS/GPRS/GSM 的车辆跟踪系统。我目前使用的跟踪设备是 GV100，这是一款来自 Quectel ([www.quectel.com][1]) 的 GPS/GPRS/GSM 跟踪器。我无法在设备和后端服务器之间建立连接。我的问题特别是：

1.  如何从服务器向设备发送命令（AT 命令）？
2.  如何接受来自设备的响应（报告和确认消息）以将其保存在数据库中？

我使用 MGV100 管理工具（移远通信提供的软件）通过串口向设备发送命令。我在支持 GSM 的手机上收到了确认短信。现在，我想从服务器发送消息并在服务器上接受回复（不是通过短信）。我不知道如何发送命令和接收回复。我以前没有开发此类系统的经验。

如果需要的话，如果我能得到一个示例代码和设置程序，那就太好了。我在哪里可以获得我提到的案例的相关教程？

* * *

谢谢 jhonkola

* * *

为了了解服务器如何接收和发送数据到设备，我决定首先实现客户端（当前是我的 PC）和服务器之间的通信。虽然我的最终目标是与设备通信，但目前我正在尝试建立从我的 PC 到服务器的连接。如果我成功了，我会努力从需要服务器的IP地址和端口号来发送和接收数据的设备与服务器通信。
这是我的假设如何做到这一点：

*   我可以从 .cs 代码打开服务器上的一个端口，以便使用 TCP/UDP 进行通信。
*   然后客户端可以通过这个端口发送和接收数据。
*   我可以将客户端发送的数据保存在服务器的文件系统中并随时查看。（我没有将数据存储在关系数据库中，因为我现在不想担心数据库问题。）这就是我尝试实现
    的方式： 服务器 C# Web 应用程序：
    单击按钮时，它会打开一个端口并监听客户端

    ```
    protected void btnConnect_Click(object sender, EventArgs e)
    {
        try
        {
            continueListening = true;
            while (continueListening)
            {
                int port=Int32.Parse(txtPort.Text);
                lblOutput.Text = "Port is now " + port +". Waiting for connection";
                TcpListener myList = new TcpListener(IPAddress.Parse(txtIpAddress.Text), port);
                myList.Start();
                Socket s = myList.AcceptSocket();
                lblOutput.Text="Connection accepted from " + s.RemoteEndPoint;

                byte[] b = new byte[100];
                int k = s.Receive(b);
                lblOutput.Text = ("Recieved...");
                String obtainedText = "";
                for (int i = 0; i < k; i++)
                {
                    obtainedText = obtainedText + "  " + (Convert.ToChar(b[i]));
                }
                writeToTextFile("C:/Users/MekAtIbex/Desktop/TESTED/RECIEVED.txt", obtainedText);
                lblOutput.Text = obtainedText;
                ASCIIEncoding asen = new ASCIIEncoding();
                lblOutput.Text = lblOutput.Text +"  "+ ("The string was recieved by the server.");
                lblOutput.Text = lblOutput.Text +"  "+ ("\r\nSent Acknowledgement");
            } 
    ```

客户端：C# Windows 应用程序

```
 private void btnSend_Click(object sender, EventArgs e)
        {
            try
            {
                TcpClient tcpClient = new TcpClient();
                int port=Int32.Parse(txtPort.Text.Trim());

                tcpClient.Connect(txtIpAddress.Text, port);
                lblStatus.Text = ("Connected");
                Stream stm = tcpClient.GetStream();
                ASCIIEncoding asen = new ASCIIEncoding();
                byte[] bytesToSend = asen.GetBytes(txtData.Text);
                lblStatus.Text = ("Transmitting.....");

                stm.Write(bytesToSend, 0, bytesToSend.Length);

                byte[] bb = new byte[100];
                int k = stm.Read(bb, 0, 100);

                for (int i = 0; i < k; i++)
                {
                    txtaResponse.Text = txtaResponse.Text + "\n" + "Res... " + new DateTime() + " " + Convert.ToChar(bb[i]);
                    Console.Write(Convert.ToChar(bb[i]));
                }
                tcpClient.Close();
            }

            catch (Exception ex)
            {
                lblStatus.Text = ("Connected");
                txtaRequest.Text = txtaRequest.Text + "\n" + "Err... " + new DateTime() + " " + ex.StackTrace;
            }
        } 
```

我目前的问题是：

1.  我的假设正确吗？如果不是我应该怎么做？
2.  我尝试使用上面的代码保存它，但我没有得到文件。
3.  与 TCP 相比，使用 UDP 跟踪应用程序的优点和缺点是什么？我浏览得很好，但我找不到一个好的开始。而且，由于我没有使用此类应用程序的经验，因此无法调试我的应用程序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T17:20:44.247

很难全面回答这个问题，因为一个好的答案需要对产品有详细的了解。我建议您联系制造商/经销商寻求支持。

一般的几点：

通过网络向设备发送命令要求您能够从互联网连接到设备。这在 GSM 网络上并不总是那么容易，因为运营商可能会阻止所有传入流量。制造商可能已经为此提供了解决方案。

如果您可以连接到设备，则用于发出命令的协议（假设此类协议是内置的）也将包含接收任何响应的机制。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-05-11T12:42:22.347

> 我目前的问题是：
> 
> 我的假设正确吗？如果不是我应该怎么做？

是的，您的基本假设是正确的。服务器将打开一个侦听端口，然后客户端可以连接到该端口并根据需要丢弃数据。您也可以让服务器将其记录到文件中以供以后查看。

> 我尝试使用上面的代码保存它，但我没有得到文件。

文件是否已经创建？如果系统上不存在该文件，您使用的方法将失败。

> 与 TCP 相比，使用 UDP 跟踪应用程序的优点和缺点是什么？

UPD 在网络设置方面的成本较低。这是“快速而肮脏”的沟通方式。缺点是您可能无法正确传递每条消息。在某些应用程序中，这无关紧要，而且这些好处值得付出代价。

现在我要改变几件事：

```
Change IPAddress.Parse(txtIpAddress.Text) to IPAddress.Any 
```

这将使您的听众有最广泛的能力来捕捉传入的消息，并且很可能不会影响其他系统（因为这实际上是您的第一个网络程序）。

您还希望让您的侦听器产生一个线程来处理文件写入，然后返回侦听。这是一种非常标准的做法，允许服务器处理多个连接。

# objective-c - UIButton 在点击时不检测触摸事件

> ID：12351661
> 
> 赞同：1
> 
> 时间：2012-09-10T12:24:13.623
> 
> 标签：objective-c, uitableview, uibutton

我创建了一个包含自定义单元格的表格视图（我已经子类化了`UITableViewCell`）。
我正在其中创建几个`UIButtons`。在 .h 文件中声明：

```
@property (nonatomic, strong) UIButton *myButton; 
```

这在 .m 文件中：

```
myButton = [[UIButton alloc] initWithFrame:CGRectMake(-100.0, 285.0, 60.0, 30.0)];
myButton.titleLabel.font = [UIFont boldSystemFontOfSize:16.0];
myButton.backgroundColor = [UIColor clearColor];
[myButton setTitleColor:[UIColor redColor] forState:UIControlStateNormal];
[myButton setTitle:@"text" forState:UIControlStateNormal];
[myButton addTarget:self action:@selector(myButtonClicked:) forControlEvents:UIControlEventTouchUpInside];
[self.contentView addSubview:myButton]; 
```

我正在使用将单元格向右移动`UIPanGestureRecognizer`，然后`UIButton`显示（注意它位于**负 X 索引**中）。
我可以看到它，但它不可点击（我猜它不再出现在视图中）。
关于如何使其可点击的任何建议？

更多细节：
在单元格的初始化中，我正在做：

```
UIPanGestureRecognizer *panGesture = [[UIPanGestureRecognizer alloc] initWithTarget:self action:@selector(handlePanGesture:)];
panGesture.delegate = self;
[self.contentView addGestureRecognizer:panGesture]; 
```

然后我实现了手势：

```
-(void)handlePanGesture:(UIPanGestureRecognizer *)sender {
    CGPoint translate = [sender translationInView:self.contentView];
    CGRect currentFrame = self.contentView.frame;
switch ([sender state]) {        
    case UIGestureRecognizerStateChanged:

        currentFrame.origin.x = translate.x;
        self.contentView.frame = currentFrame;

        break;
    default:
        break;
}    
} 
```

当框架向右移动时 - 显示按钮。但是不能点击...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-10T15:21:56.163

如果按钮的框架在其父框架的框架之外，它将不会注册触摸。在这种情况下，您提到您的按钮在其框架的 x 位置设置为 -100 时停止工作。这是有道理的，因为它在触摸区域之外。

您实现的平移手势移动了单元格的视图，因此虽然按钮可能出现在屏幕上，但它仍然位于单元格视图的外部，因此它无法接收触摸。

解决此问题的一个可能建议是从一开始就使您的细胞更大。例如，如果单元格的帧大小当前为 0,0,320,44，您可以改为 -100,0,420,44 并相应地放置单元格的内容。现在，您的按钮框架将更改为 0,0,x,y 并且它将位于单元格的视图内并且能够接收触摸。

# jquery - Div 没有环绕整个页面的宽度

> ID：12351662
> 
> 赞同：4
> 
> 时间：2012-09-10T12:24:22.547
> 
> 标签：jquery, css, jquery-ui, tabs

我使用 jQuery UI`tabs`作为我的容器 div。现在我需要在一个表中显示很多数据，它几乎总是比容器本身更宽。不幸的是，我无法包装容器。

看到[这个小提琴](http://jsfiddle.net/RJBkF/)

我已经尝试过职位，`overflow: auto`但似乎没有什么能像我想要的那样工作。`overflow: auto`将水平滚动条放在选项卡本身中，但我希望它在正文中。有人知道如何做到这一点吗？

**长话短说：我需要在标签中没有滚动条的情况下`#main-div`环绕它的所有子元素。`div`我只是想包装我的内容，以便输出 div 与内容一起动态**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-10T12:37:08.073

这是[你](http://jsfiddle.net/RJBkF/6/)的意思吗？我所做的就是这个并删除了相对位置。

```
#main-tabs
{
   float:left;
   min-width:100%;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:28:25.043

添加`#test { overflow: auto; }`

[**看演示**](http://jsfiddle.net/akhurshid/RJBkF/5/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T12:28:39.447

```
#main-tabs div
{
   position: relative;
   overflow: auto;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-10T12:30:33.077

[提琴手](http://jsfiddle.net/RJBkF/3/)

我添加了溢出：滚动；

无论如何，在这里您会在两个轴上滚动，因此您可能会查看在 x 和 y 上溢出滚动 在[此处](http://www.brunildo.org/test/Overflowxy2.html)查看属性（请注意，它是 css 3 属性）不知道哪些浏览器支持它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-10T12:34:57.693

```
#test {
    overflow: scroll;
} 
```

# java - Java 多线程同步线程

> ID：12351663
> 
> 赞同：-1
> 
> 时间：2012-09-10T12:24:22.770
> 
> 标签：java, multithreading

我有这样的代码，

```
public int handle_refresh(Data mmsg) throws Exception {
        String custId = mmsg.getCustomerId();       
        CustomerThread t = custMap.get(mmsg.getCustomerId());
        if (t == null || !t.isAlive()) {
            t = (CustomerThread) context.getBean("custT");
            t.initThread(mmsg.getCustomerId(), mmsg.getCustomerId(), mmsg.getMessageBody());
            custSMap.put(mmsg.getCustomerId(), t);
            t.createBufferThread();
            t.start();
            t.initStreaming();
        }
        synchronized (t) {
            if (null != t) {
                ret = t.addSymbols(mmsg);
            }
        }
        return ret;
    }

                        } 
```

这里 CustomerThread 在 custMap 中被检查，

映射 custMap=new CustomerThread();

**如果 custMap 中有线程**

1）然后阅读spring appilcation上下文并获取它。`t = (CustomerThread) context.getBean("custT");`

2) 在 initThread 方法中，为每个客户设置唯一的线程名称。 `t.initThread(mmsg.getCustomerId(), mmsg.getCustomerId(), mmsg.getMessageBody());`

3）然后将新创建的线程放入映射 `custMap. custSMap.put(mmsg.getCustomerId(), t);`

4) 然后在 createBufferThread 中将数据设置到缓存中..`t.createBufferThread();`

5）然后重新启动线程，然后从db中获取数据。 `t.start();`

6）设置数据库连接

**如果 custMap 中没有线程**

1)`synchronized (t) .`

2) 打电话`t.addSymbols()`方法。

我的问题是...

1）这里第一个 if 块只执行第一次，并且如果创建一次线程总是执行同步（t）？

我的意思是 if 块中的所有上述 1 到 6 个步骤只执行一次？

2）那么 synchronized (t) 做了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:28:57.243

在我看来，这`sychronized (t)`是在保护`addSymbols`方法以使其成为线程安全的。`t`我假设对这个方法的调用是向线程中的某些数据结构添加符号。可能是该线程中的其他方法`synchronized`意味着它将锁定`Thread`实例。这就是`sychronized (t)`这里所做的。

但这是添加线程安全的一种极其丑陋的方式。该`addSymbols(...)`方法本身应该锁定在一个锁定对象上，或者，如果有必要，是一个`synchronized`方法。一个类应该负责它自己的锁定，*而不*需要调用者做某事。

关于您的代码的其他一些评论：

```
t = (CustomerThread) context.getBean("custT"); 
```

上面的代码似乎是从 Spring 中获取一个线程实例。这通常是一个单例，除非“custT”bean 是某种线程工厂。`handle_refresh`如果它不是工厂 bean，那么每次调用您的方法并重新初始化它时，您都将获得相同的线程对象。这很可能不是您想要的。

```
synchronized (t) {
    if (null != t) {
        ret = t.addSymbols(mmsg);
    }
} 
```

如果`t`是，`null`那么该`synchronized`行将抛出 NPE。你不需要`null`里面的检查`synchronized`。

```
CustomerThread t = custMap.get(mmsg.getCustomerId()); 
```

如果`handle_refresh(...)`从多个线程调用该方法，那么您需要确保该`custMap`方法也正确同步。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:27:55.077

if 块应该只对每个客户 ID 执行一次。注意 if 块中的这行代码：

```
custSMap.put(mmsg.getCustomerId(), t); 
```

它填充地图，因此下次使用该 customerId 进行搜索时，将找到它并执行同步块。

Synchronized 块将在互斥锁内调用 t 上的方法。

# android - 在android中使用onclick搜索视图的快速对话框

> ID：12351670
> 
> 赞同：0
> 
> 时间：2012-09-10T12:24:37.570
> 
> 标签：android, android-layout, android-intent, android-emulator

我正在寻找使用 onclick 搜索视图的 QuickAction 对话框。这是显示我正在寻找的图像的图像：

[http://www.freeimagehosting.net/newuploads/frclk.png](http://www.freeimagehosting.net/newuploads/frclk.png)

有没有人有示例或链接显示如何实现这一目标？

另外，如何将快速操作对话框分为两部分？目前显示如下：

[http://www.freeimagehosting.net/newuploads/3vr1p.png](http://www.freeimagehosting.net/newuploads/3vr1p.png)

像：

```
| check  check  check  check | 
```

我想这样：

```
 | check     check  |
  | check     check  |
  |       Ok         | 
```

这是我的代码：

快速操作.java

```
public class QuickAction extends PopupWindows implements OnDismissListener {
private View mRootView;
private ImageView mArrowUp;
private ImageView mArrowDown;
private CheckBox check;
private LayoutInflater mInflater;
private ViewGroup mTrack;
private ScrollView mScroller;
private OnActionItemClickListener mItemClickListener;
private OnDismissListener mDismissListener;

private List<ActionItem> actionItems = new ArrayList<ActionItem>();

private boolean mDidAction;

private int mChildPos;
private int mInsertPos;
private int mAnimStyle;
private int mOrientation;
private int rootWidth=0;

public static final int HORIZONTAL = 0;
public static final int VERTICAL = 1;

public static final int ANIM_GROW_FROM_LEFT = 1;
public static final int ANIM_GROW_FROM_RIGHT = 2;
public static final int ANIM_GROW_FROM_CENTER = 3;
public static final int ANIM_REFLECT = 4;
public static final int ANIM_AUTO = 5;

/**
 * Constructor for default vertical layout
 * 
 * @param context  Context
 */
public QuickAction(Context context) {
    this(context, VERTICAL);
}

/**
 * Constructor allowing orientation override
 * 
 * @param context    Context
 * @param orientation Layout orientation, can be vartical or horizontal
 */
public QuickAction(Context context, int orientation) {
    super(context);

    mOrientation = orientation;

    mInflater    = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);

    if (mOrientation == HORIZONTAL) {
        setRootViewId(R.layout.popup_horizontal);
    } else {
        setRootViewId(R.layout.popup_vertical);
    }

    mAnimStyle  = ANIM_AUTO;
    mChildPos   = 0;
}

/**
 * Get action item at an index
 * 
 * @param index  Index of item (position from callback)
 * 
 * @return  Action Item at the position
 */
public ActionItem getActionItem(int index) {
    return actionItems.get(index);
}

/**
 * Set root view.
 * 
 * @param id Layout resource id
 */
public void setRootViewId(int id) {
    mRootView   = (ViewGroup) mInflater.inflate(id, null);
    mTrack      = (ViewGroup) mRootView.findViewById(R.id.tracks);

    mArrowDown  = (ImageView) mRootView.findViewById(R.id.arrow_down);
    mArrowUp    = (ImageView) mRootView.findViewById(R.id.arrow_up);

    mScroller   = (ScrollView) mRootView.findViewById(R.id.scroller);

    //This was previously defined on show() method, moved here to prevent force close that occured
    //when tapping fastly on a view to show quickaction dialog.
    //Thanx to zammbi (github.com/zammbi)
    mRootView.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));

    setContentView(mRootView);
}

/**
 * Set animation style
 * 
 * @param mAnimStyle animation style, default is set to ANIM_AUTO
 */
public void setAnimStyle(int mAnimStyle) {
    this.mAnimStyle = mAnimStyle;
}

/**
 * Set listener for action item clicked.
 * 
 * @param listener Listener
 */
public void setOnActionItemClickListener(OnActionItemClickListener listener) {
    mItemClickListener = listener;
}

/**
 * Add action item
 * 
 * @param action  {@link ActionItem}
 */
public void addActionItem(ActionItem action) {
    actionItems.add(action);

    String title    = action.getTitle();
    Drawable icon   = action.getIcon();

    View container;

    if (mOrientation == HORIZONTAL) {
        container = mInflater.inflate(R.layout.action_item_horizontal, null);
    } else {
        container = mInflater.inflate(R.layout.action_item_vertical, null);
    }

    //ImageView img     = (ImageView) container.findViewById(R.id.iv_icon);
    CheckBox check  =  (CheckBox) container.findViewById(R.id.checkBox1);
    check.setText(title);
    //TextView text     = (TextView) container.findViewById(R.id.tv_title);
    /*
    if (icon != null) {
        img.setImageDrawable(icon);
    } else {
        img.setVisibility(View.GONE);
    }*/
     /*     
    if (title != null) {
        text.setText(title);
    } else {
        text.setVisibility(View.GONE);
    }
    */
    final int pos       =  mChildPos;
    final int actionId  = action.getActionId();

    container.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View v) {
            if (mItemClickListener != null) {
                mItemClickListener.onItemClick(QuickAction.this, pos, actionId);
            }

            if (!getActionItem(pos).isSticky()) {  
                mDidAction = true;

                dismiss();
            }
        }
    });

    container.setFocusable(true);
    container.setClickable(true);

     /*     if (mOrientation == HORIZONTAL && mChildPos != 0) {
        View separator = mInflater.inflate(R.layout.horiz_separator, null);

        RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.FILL_PARENT);

        separator.setLayoutParams(params);
        separator.setPadding(5, 0, 5, 0);

        mTrack.addView(separator, mInsertPos);
        Log.i("mInsertPos","mInsertPos 1 -->"+mInsertPos);
        mInsertPos++;
    }*/
    Log.i("mInsertPos","mInsertPos 2 -->"+mInsertPos);
    mTrack.addView(container, mInsertPos);

    mInsertPos++;       
    mChildPos++;

    Log.i("mChildPos","mChildPos 1 -->"+mChildPos);
    Log.i("mInsertPos","mInsertPos 3 -->"+mInsertPos);

}

/**
 * Show quickaction popup. Popup is automatically positioned, on top or bottom of anchor view.
 * 
 */
public void show (View anchor) {
    preShow();

    int xPos, yPos, arrowPos;

    mDidAction          = false;

    int[] location      = new int[2];

    anchor.getLocationOnScreen(location);

    Rect anchorRect     = new Rect(location[0], location[1], location[0] + anchor.getWidth(), location[1] 
                        + anchor.getHeight());

    //mRootView.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));

    mRootView.measure(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);

    int rootHeight      = mRootView.getMeasuredHeight();

    if (rootWidth == 0) {
        rootWidth       = mRootView.getMeasuredWidth();
    }

    int screenWidth     = mWindowManager.getDefaultDisplay().getWidth();
    int screenHeight    = mWindowManager.getDefaultDisplay().getHeight();

    //automatically get X coord of popup (top left)
    if ((anchorRect.left + rootWidth) > screenWidth) {
        xPos        = anchorRect.left - (rootWidth-anchor.getWidth());          
        xPos        = (xPos < 0) ? 0 : xPos;

        arrowPos    = anchorRect.centerX()-xPos;

    } else {
        if (anchor.getWidth() > rootWidth) {
            xPos = anchorRect.centerX() - (rootWidth/2);
        } else {
            xPos = anchorRect.left;
        }

        arrowPos = anchorRect.centerX()-xPos;
    }

    int dyTop           = anchorRect.top;
    int dyBottom        = screenHeight - anchorRect.bottom;

    boolean onTop       = (dyTop > dyBottom) ? true : false;

    if (onTop) {
        if (rootHeight > dyTop) {
            yPos            = 15;
            LayoutParams l  = mScroller.getLayoutParams();
            l.height        = dyTop - anchor.getHeight();
        } else {
            yPos = anchorRect.top - rootHeight;
        }
    } else {
        yPos = anchorRect.bottom;

        if (rootHeight > dyBottom) { 
            LayoutParams l  = mScroller.getLayoutParams();
            l.height        = dyBottom;
        }
    }

    showArrow(((onTop) ? R.id.arrow_down : R.id.arrow_up), arrowPos);

    setAnimationStyle(screenWidth, anchorRect.centerX(), onTop);

    mWindow.showAtLocation(anchor, Gravity.NO_GRAVITY, xPos, yPos);
}

/**
 * Set animation style
 * 
 * @param screenWidth screen width
 * @param requestedX distance from left edge
 * @param onTop flag to indicate where the popup should be displayed. Set TRUE if  displayed on top of anchor view
 *        and vice versa
 */
private void setAnimationStyle(int screenWidth, int requestedX, boolean onTop) {
    int arrowPos = requestedX - mArrowUp.getMeasuredWidth()/2;

    switch (mAnimStyle) {
    case ANIM_GROW_FROM_LEFT:
        mWindow.setAnimationStyle((onTop) ?  R.style.Animations_PopUpMenu_Left : R.style.Animations_PopDownMenu_Left);
        break;

    case ANIM_GROW_FROM_RIGHT:
        mWindow.setAnimationStyle((onTop) ? R.style.Animations_PopUpMenu_Right : R.style.Animations_PopDownMenu_Right);
        break;

    case ANIM_GROW_FROM_CENTER:
        mWindow.setAnimationStyle((onTop) ? R.style.Animations_PopUpMenu_Center : R.style.Animations_PopDownMenu_Center);
    break;

    case ANIM_REFLECT:
        mWindow.setAnimationStyle((onTop) ? R.style.Animations_PopUpMenu_Reflect : R.style.Animations_PopDownMenu_Reflect);
    break;

    case ANIM_AUTO:
        if (arrowPos <= screenWidth/4) {
            mWindow.setAnimationStyle((onTop) ? R.style.Animations_PopUpMenu_Left : R.style.Animations_PopDownMenu_Left);
        } else if (arrowPos > screenWidth/4 && arrowPos < 3 * (screenWidth/4)) {
            mWindow.setAnimationStyle((onTop) ? R.style.Animations_PopUpMenu_Center : R.style.Animations_PopDownMenu_Center);
        } else {
            mWindow.setAnimationStyle((onTop) ? R.style.Animations_PopUpMenu_Right : R.style.Animations_PopDownMenu_Right);
        }

        break;
    }
}

/**
 * Show arrow
 * 
 * @param whichArrow arrow type resource id
 * @param requestedX distance from left screen
 */
private void showArrow(int whichArrow, int requestedX) {
    final View showArrow = (whichArrow == R.id.arrow_up) ? mArrowUp : mArrowDown;
    final View hideArrow = (whichArrow == R.id.arrow_up) ? mArrowDown : mArrowUp;

    final int arrowWidth = mArrowUp.getMeasuredWidth();

    showArrow.setVisibility(View.VISIBLE);

    ViewGroup.MarginLayoutParams param = (ViewGroup.MarginLayoutParams)showArrow.getLayoutParams();

    param.leftMargin = requestedX - arrowWidth / 2;

    hideArrow.setVisibility(View.INVISIBLE);
}

/**
 * Set listener for window dismissed. This listener will only be fired if the quicakction dialog is dismissed
 * by clicking outside the dialog or clicking on sticky item.
 */
public void setOnDismissListener(QuickAction.OnDismissListener listener) {
    setOnDismissListener(this);

    mDismissListener = listener;
}

@Override
public void onDismiss() {
    if (!mDidAction && mDismissListener != null) {
        mDismissListener.onDismiss();
    }
}

/**
 * Listener for item click
 *
 */
public interface OnActionItemClickListener {
    public abstract void onItemClick(QuickAction source, int pos, int actionId);
}

/**
 * Listener for window dismiss
 * 
 */
public interface OnDismissListener {
    public abstract void onDismiss();
}
  } 
```

ExampleActivity.java

```
 public class ExampleActivity extends Activity {
//action id
private static final int ID_UP     = 1;
private static final int ID_DOWN   = 1;
private static final int ID_SEARCH = 3;
private static final int ID_INFO   = 4;
private static final int ID_ERASE  = 5; 
private static final int ID_OK     = 6;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.main);

    ActionItem nextItem     = new ActionItem(ID_DOWN, "By MRN");
    ActionItem prevItem     = new ActionItem(ID_UP, "BY DATE");
    ActionItem searchItem   = new ActionItem(2, "BY NAME");
    ActionItem infoItem     = new ActionItem(2, "BY lOCATION");
    ActionItem okItem       = new ActionItem(3, "OK");

    //use setSticky(true) to disable QuickAction dialog being dismissed after an item is clicked
    prevItem.setSticky(true);
    nextItem.setSticky(true);
    searchItem.setSticky(true);
    infoItem.setSticky(true);
    //create QuickAction. Use QuickAction.VERTICAL or QuickAction.HORIZONTAL param to define layout 
    //orientation
    final QuickAction quickAction = new QuickAction(this, QuickAction.VERTICAL);

    //add action items into QuickAction
    quickAction.addActionItem(nextItem);
    System.out.println("nextItem");
    quickAction.addActionItem(prevItem);
    System.out.println("prevItem");
    quickAction.addActionItem(searchItem);
    System.out.println("searchItem");
    quickAction.addActionItem(infoItem);
    System.out.println("infoItem");
    quickAction.addActionItem(okItem);
    System.out.println("okItem");
    //Set listener for action item clicked
    quickAction.setOnActionItemClickListener(new QuickAction.OnActionItemClickListener() {          
        @Override
        public void onItemClick(QuickAction source, int pos, int actionId) {                
            ActionItem actionItem = quickAction.getActionItem(pos);

            //here we can filter which action item was clicked with pos or actionId parameter
            /*if (actionId == ID_SEARCH) {
                Toast.makeText(getApplicationContext(), "Let's do some search action", Toast.LENGTH_SHORT).show();
            } else if (actionId == ID_INFO) {
                Toast.makeText(getApplicationContext(), "I have no info this time", Toast.LENGTH_SHORT).show();
            } else {*/
                Toast.makeText(getApplicationContext(), actionItem.getTitle() + " selected", Toast.LENGTH_SHORT).show();
            //}
        }
    });

    //set listnener for on dismiss event, this listener will be called only if QuickAction dialog was dismissed
    //by clicking the area outside the dialog.
    quickAction.setOnDismissListener(new QuickAction.OnDismissListener() {          
        @Override
        public void onDismiss() {
            Toast.makeText(getApplicationContext(), "Dismissed", Toast.LENGTH_SHORT).show();
        }
    });

    //show on btn1
    Button btn1 = (Button) this.findViewById(R.id.btn1);
    btn1.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            quickAction.show(v);
        }
    });

    Button btn2 = (Button) this.findViewById(R.id.btn2);
    btn2.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View v) {
            quickAction.show(v);
        }
    });

    /*Button btn3 = (Button) this.findViewById(R.id.btn3);
    btn3.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View v) {
            quickAction.show(v);
            quickAction.setAnimStyle(QuickAction.ANIM_REFLECT);
        }
    });*/
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:44:37.270

网站上提供了快速操作对话框示例：

[快速操作对话框示例](http://www.londatiga.net/it/how-to-create-quickaction-dialog-in-android/)

# dynamics-crm - CRM 2011 查找属性映射

> ID：12351671
> 
> 赞同：2
> 
> 时间：2012-09-10T12:24:40.117
> 
> 标签：dynamics-crm, dynamics-crm-2011

当从父母/参考实体打开时，是否可以在 CRM 2011 中的关系上设置空/空白查找值？

**例如，如果您在实体***商机*和持有*代理*价值的*账户*之间创建新的 1:N 关系。从客户创建新商机时，此客户会在潜在客户查找字段和代理机构查找字段中预先填写。

 *这可以通过 javscript 轻松解决，清除字段 onload，但这可以在属性映射中更早完成，还是总是在后修复来更正默认操作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T19:03:05.703

我在 Crm 4 中遇到了同样的问题。所以我想它在 2011 年仍然存在。

您不能删除主要属性的关系映射，尽管我从来不明白为什么它会自动映射到不同关系的字段。

在这种情况下，您最好使用 JavaScript 来执行以下逻辑：

如果表单处于创建模式并且两个字段包含相同的值，则清除重复的字段。

此逻辑应确保仅在这种情况下清除字段。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T09:32:22.050

没有 Javascript，这是不可能的。MS CRM 没有为您提供对抗映射字段自动填充的选项。它总是由系统自动填写。*

# objective-c - 使用组合属性的属性

> ID：12351672
> 
> 赞同：0
> 
> 时间：2012-09-10T12:24:41.523
> 
> 标签：objective-c, properties, attributes

我有一个目标 c 类**A** ，它拥有一个具有速度属性的 c++ 类**B。**

可以使用吗

`@property(nonatomic) float velocity;`

在**A**类中，即使该类没有速度属性。当我实现速度函数时，我会询问**B**并返回该值，所以它是类**A**的一种隐式属性。

我想它有效，所以我的问题是这是否是一种好习惯。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T12:29:22.687

绝对没问题。假设您已经正确实现了 getter 和 setter，那么具有属性的类根本不需要成员变量！

尽管您可能会遇到 KVO 的问题 - 此属性不符合 KVO。不过，这几乎肯定不是问题:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:44:13.550

我认为这种方法没有任何问题。如果您确保 C++ 标头仅包含在 Objective C 类的实现文件中，那么您可以呈现一个纯 Objective C 接口，我认为这更重要。该属性是一种值类型，因此在访问该属性时会复制其值。以这种方式来看，当访问该属性时，Objective C 类的任何实现都不会逃逸。您可以在未来的任何阶段自由更改属性实现，而无需更改 API 的任何客户端。

该属性应标记为分配以指定它具有值语义。

```
@property(nonatomic, assign) float velocity; 
```

# php - PHP Stomp：读取队列中的所有消息

> ID：12351679
> 
> 赞同：1
> 
> 时间：2012-09-10T12:24:50.133
> 
> 标签：php, activemq, stomp

我需要使用 PHP 在 ActiveMQ 队列中查找特定消息并将其删除。

AFAIK 这样做的唯一方法是读取当前排队的所有消息并确认我感兴趣的一条消息。（[Stomp::ack 的 PHP 手册中的示例](http://www.php.net/manual/en/stomp.ack.php)或多或少做同样的事情，他们没有t 读取所有消息，但只确认匹配的消息）。

所以，我写了这段代码（显然，这只是相关部分）：

```
class StompController {

    private $con;

    public function __construct($stompSettings) {
        try {
            $this->con = new Stomp($stompSettings['scheme']."://".$stompSettings['host'].":".$stompSettings['port']);
            $this->con->connect();
            $this->con->setReadTimeout(5);
        } catch(StompException $e) {
            die('Connection failed:' .$e->getMessage());
        }
    }

    public function __destruct() {
        $this->con->disconnect();
    }

    public function ackMessageAsRead($recipient,$message) {
        if($this->con->isConnected()) {
            //Subscribe to the recipient user's message queue.
            $this->con->subscribe("/queue/".$recipient);
            //Read all messages currently in the queue (but only ACK the one we're interested in).
            while($this->con->hasFrameToRead()) {
                $msg = $this->con->readFrame();
                if($msg != null && $msg != false) {
                    //This is the message we are currently reading, ACK it to AMQ and be done with it.
                    if($msg->body == $message) {
                        $this->con->ack($msg);
                    }
                } 
            }
        } else {
            return false;
        }
    }
} 
```

根据我的逻辑，这应该可行。在运行代码时，尽管检查了更多帧，但仅读取了**一条*随机消息。***

下一帧似乎只有在我们当前正在读取的帧已被确认时才准备好。（当我手动确认所有消息时，`while`循环按预期工作，所有消息都被处理。

有谁知道如何在不确认所有消息的情况下从队列中获取完整的消息集？我可以确认所有这些，然后将我不感兴趣的那些放回队列中，但是这种查找单个消息的效率已经很低的方式变得更加低效。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T06:15:58.063

我认为这是由于设置`activemq.prefetchSize`为 1 造成的问题。ActiveMQ 使用预取大小来确定在任何时间点可以将多少条消息分派给消费者。一旦达到预取大小，在消费者开始发回确认之前，不会再向消费者发送消息。据我所知，增加预取大小应该可以解决您的问题。

有关预取限制的更多详细信息，请阅读[http://activemq.apache.org/what-is-the-prefetch-limit-for.html](http://activemq.apache.org/what-is-the-prefetch-limit-for.html)。

# wpf - VS/WPF：插入新列后如何增加所有 grid.column ？

> ID：12351680
> 
> 赞同：0
> 
> 时间：2012-09-10T12:24:59.677
> 
> 标签：wpf, visual-studio, xaml

当我使用 Visual Studio 编辑（文本）xaml 时，我经常添加一个新列（或行）。

必须遍历所有列（或行）来增加它们是非常无聊和低效的。是否有 Visual Studio 本机功能（或者您知道插件）可以做到这一点？

（我想以前有人问过这个问题，但我找不到正确的关键字来获得回复）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T16:24:36.607

是的，你是 100% 正确的，那是 Grid 行布局的愚蠢设计......

XAML 设计器应该具有自动重新排序所有网格行或网格列值的功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-03-07T09:50:00.980

老问题，我知道，但降落在这里，然后找到了这个我认为回答了这个问题的答案：

[https://stackoverflow.com/a/45228899/1581933](https://stackoverflow.com/a/45228899/1581933)

即悬停在网格边缘，单击向下箭头，单击“添加行之前”。Grid.Rows 现在将自动重新编号。

# iphone - 如何在 iExplorer 中隐藏应用程序

> ID：12351689
> 
> 赞同：0
> 
> 时间：2012-09-10T12:25:36.243
> 
> 标签：iphone

我正在开发一个应用程序。当我在 iphone 中安装我的应用程序时，如果我将 iphone 连接到 PC，那么我的所有应用程序数据都将从 iExplorer 访问。有没有机会在 iExplorer 中隐藏我的应用程序？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T12:29:56.340

使用正确的工具，您的应用程序数据将始终对用户可见。您不应该浪费任何精力试图混淆或隐藏它。

如果您希望对某些文件显式启用加密，您可以查看 iOS SDK 中提供的数据保护 API。这将在他们的手机或设备被盗的情况下保护用户文件。但是，用户必须设置密码才能使用。

# html - 如何选择 Cufon 字体？

> ID：12351694
> 
> 赞同：2
> 
> 时间：2012-09-10T12:25:42.567
> 
> 标签：html, cufon

如何选择/复制使用 cufon 字体构建的文本。我无法从[此处选择或复制文本： Comsys](http://comsysglobal.com/internet-marketing-products/)。我用cufon作为标题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-25T23:37:44.887

要复制使用 Cufon 呈现的文本，只需在浏览器中禁用 JavaScript，然后刷新该页面。

然后，您将能够复制文本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:28:10.257

您无法从浏览器中选择/复制它！
您可以从**页面源**中获取所有文本（包括 html 标签）..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T12:37:18.177

您不能这样做，因为**Cufon使用****Canvas**渲染您的字体。

尝试使用`@font-face`（**css**），例如：

```
@font-face {
    font-family: DeliciousRoman;
    src: url(http://www.font-face.com/fonts/delicious/Delicious-Roman.otf);
    font-weight:400;
} 
```

然后就像在任何其他样式规则中的任何其他字体一样使用它。

```
p {
    font-family: DeliciousRoman, Helvetica, Arial, sans-serif;
} 
```

参考：[www.font-face.com](http://www.font-face.com/)

# android - 以编程方式在“dp”中设置 ImageView 位置？

> ID：12351695
> 
> 赞同：1
> 
> 时间：2012-09-10T12:25:45.947
> 
> 标签：android, positioning, density-independent-pixel

我读了：

[如何使用代码而不是 xml 设置 ImageView 的边距](https://stackoverflow.com/questions/3416087/how-to-set-margin-of-imageview-using-code-not-xml)

以及使用“您可以使用 context.getResources().getDisplayMetrics().density 缩放 px 值”的评论

问题是，我有比例表示颜色中的一些值，并且需要将光标指向某个值。

由于所有内容都计入“dip”，我如何在语法上发送 dip，而不是 px？

例如：

0____T_h_i_s__i_s___m_y___s_c_a_l_e_____________300dp

```
 ^  - My cursor pointing to 100dp (LeftMargin = 100dp) 
```

我正在使用这行代码进行设置：

```
LinearLayout.LayoutParams lp = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT);
lp.setMargins(leftMargin, 0, 0, 0);
BMIcursor.setLayoutParams(lp); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-10T12:28:35.433

以像素为单位的左边距可以这样计算：

```
leftMarginPx = leftMarginDp * context.getResources().getDisplayMetrics().density; 
```

所以用你的代码：

```
 leftMarginDp = 100 // 100dp;
    leftMargin = leftMarginDp * context.getResources().getDisplayMetrics().density;
    LinearLayout.LayoutParams lp = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT);
    lp.setMargins(leftMargin, 0, 0, 0);
    BMIcursor.setLayoutParams(lp); 
```

# jquery - jqPlot - 水平图例

> ID：12351698
> 
> 赞同：12
> 
> 时间：2012-09-10T12:26:02.203
> 
> 标签：jquery, css, jqplot

jqPlot 能够为图表创建图例。这些示例仅显示垂直图例。我想做一个横向的传奇。例如，我想要：

```
X-Label1 X-Label2 X-Label3 
```

并且不想：

```
X-Label1
X-Label2
X-Label3 
```

谢谢

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-12-11T12:20:59.693

[使用EnhancedLegendRenderer 插件](http://www.jqplot.com/docs/files/plugins/jqplot-enhancedLegendRenderer-js.html)很容易实现这一点。只需包含插件并使用与此类似的选项。

```
legend:{
    renderer: $.jqplot.EnhancedLegendRenderer,
    show: true,
    rendererOptions: {
        numberRows: 1
    }
} 
```

您只需将 设置`numberRows`为 1，因此图例将仅呈现 1 行。

# tsql - TSQL 语法错误

> ID：12351699
> 
> 赞同：0
> 
> 时间：2012-09-10T12:26:08.880
> 
> 标签：tsql

我正在编写一个 tsql 过程来将一个数据库中的所有视图重新创建到不同的数据库中。当我查看代码时，我收到错误“+ 附近的语法不正确”，尽管语法对我来说是正确的。谁能告诉我这个查询有什么问题？

```
USE [SOURCEDB]   
BEGIN  
DECLARE @SQL NVARCHAR(MAX)  
DECLARE CUR_V CURSOR FOR  
SELECT sc.text     
FROM sys.views av          
JOIN sys.syscomments sc ON sc.id = av.object_id  
OPEN CUR_V  
FETCH NEXT FROM CUR_V INTO @SQL  
WHILE @@FETCH_STATUS = 0  
BEGIN    
EXEC sp_executesql N'USE [DESTINATIONDB] EXEC sp_executesql ' + @SQL + ''       
FETCH NEXT FROM CUR_V INTO @SQL  END  CLOSE CUR_V  DEALLOCATE CUR_V  END 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:43:13.003

你不能在同一行做 +`sp_executesql`

```
declare @sql nvarchar(1000)
select @sql = N'USE [DESTINATIONDB] EXEC sp_executesql ' + @SQL + '' 
exec sp_executesql @sql 
```

或者你的意思可能是

```
select @sql = N'USE [DESTINATIONDB] EXEC sp_executesql N''' + @SQL + '''' 
```

# php - 递归删除 CodeIgniter FTP 类中的文件夹

> ID：12351700
> 
> 赞同：0
> 
> 时间：2012-09-10T12:26:15.667
> 
> 标签：php, codeigniter, ftp

我正在使用 CI FTP 类，带有函数 delete_dir，它应该删除文件夹及其所有内容，但是，如果文件夹中有文件，它不会删除文件夹并输出错误。

功能如下；

```
function delete_dir($filepath)
{
    if ( ! $this->_is_conn())
    {
        return FALSE;
    }

    // Add a trailing slash to the file path if needed
    $filepath = preg_replace("/(.+?)\/*$/", "\\1/",  $filepath);

    $list = $this->list_files($filepath);

    if ($list !== FALSE AND count($list) > 0)
    {
        foreach ($list as $item)
        {
            // If we can't delete the item it's probaly a folder so
            // we'll recursively call delete_dir()
            if ( ! @ftp_delete($this->conn_id, $item))
            {
                $this->delete_dir($item);
            }
        }
    } 
```

任何人都知道任何错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-21T03:32:04.827

如果您可以使用 FTP 客户端删除内容和文件夹，那么您应该也可以使用代码删除它们。尝试修改如下所示的函数

```
function delete_dir($filepath)
{
    if ( ! $this->_is_conn())
    {
        return FALSE;
    }

    // Add a trailing slash to the file path if needed
    $filepath = preg_replace("/(.+?)\/*$/", "\\1/",  $filepath);

    $list = $this->list_files($filepath);

    if ($list !== FALSE AND count($list) > 0)
    {
        foreach ($list as $item)
        {
            // If we can't delete the item it's probaly a folder so
            // we'll recursively call delete_dir()
            if ( ! @ftp_delete($this->conn_id, $filepath.$item))
            {
                $this->delete_dir($filepath.$item);
            }
        }
    }

    $result = @ftp_rmdir($this->conn_id, $filepath);

    if ($result === FALSE)
    {
        if ($this->debug == TRUE)
        {
            $this->_error('ftp_unable_to_delete');
        }
        return FALSE;
    }

    return TRUE;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:46:18.370

`ftp_delete`很可能会引发与删除目录无关的错误（例如权限问题）。要显示错误，请删除`@`之前的`ftp_delete`.

# bash - 如何编写 bash 脚本来设置全局环境变量？

> ID：12351702
> 
> 赞同：57
> 
> 时间：2012-09-10T12:26:18.993
> 
> 标签：bash, shell, environment-variables

最近我写了一个设置环境变量的脚本，看看：

```
#!/bin/bash

echo "Pass a path:"
read path
echo $path

defaultPath=/home/$(whoami)/Desktop

if [ -n "$path" ]; then
    export my_var=$path
else
    echo "Path is empty! Exporting default path ..."
    export my_var=$defaultPath
fi

echo "Exported path: $my_var" 
```

它工作得很好，但问题是它`my_var`只能在本地使用，我的意思是在我运行脚本的控制台窗口中。

如何编写允许我导出随处可见的**全局环境变量的脚本？**

* * *

## 回答 #1

> 赞同：144
> 
> 时间：2014-05-29T15:22:05.613

只需运行前面带有“ `.`”（点空间）的 shell 脚本。

这会导致脚本在原始 shell 中运行指令。因此脚本完成后变量仍然存在

前任：

```
cat setmyvar.sh
export myvar=exists

. ./setmyvar.sh

echo $myvar
exists 
```

* * *

## 回答 #2

> 赞同：51
> 
> 时间：2012-09-10T14:01:23.467

每个 shell 都有自己的环境。没有*通用*环境会神奇地出现在所有控制台窗口中。在一个 shell 中创建的环境变量不能在另一个 shell 中访问。

它甚至更加严格。如果一个 shell 生成了一个子 shell，则该子 shell 可以访问父 shell 的环境变量，但如果该子 shell 创建了一个环境变量，则无法在父 shell 中访问它。

如果您的所有 shell 都需要访问同一组变量，您可以创建一个*启动*文件来为您设置它们。这是在 BASH 中通过`$HOME/.bash_profile`文件（或通过`$HOME/.profile`如果`$HOME/.bash_profile`不存在）或通过`$HOME/.bashrc`. 其他 shell 有自己的一组启动文件。一个用于登录，一个用于在没有登录的情况下生成的 shell（和 bash 一样，第三个用于非交互式 shell）。请参阅手册页以准确了解使用了哪些启动脚本以及它们的执行顺序）。

您可以尝试使用共享内存，但我相信只有在进程运行时才有效，因此即使您找到了设置共享内存的方法，它也会在该命令完成后立即消失。（除了命名管道，我很少使用共享内存）。否则，真的没有办法在一个 shell 中设置环境变量并让另一个 shell 自动拾取它。您可以尝试使用[命名管道](http://www.linuxjournal.com/article/2156)或将该环境变量写入文件以供其他 shell 获取。

想象一下，如果有人可以在我不知情的情况下更改一个 shell 的环境，可能会发生什么问题。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2017-02-20T10:07:18.530

实际上我找到了一种方法来实现这一点（在我的例子中是使用 bash 脚本来设置一些安全凭证）

我只是`bash`从脚本内部调用，生成的 shell 现在具有导出值

```
export API_USERNAME=abc
export API_PASSWORD=bbbb
bash 
```

现在调用该文件`~/.app-x-setup.sh`将为我提供一个带有这些环境值设置的交互式外壳

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-09-10T12:38:28.530

您必须在位于 /home/$USER/.profile 的 .profile 中添加变量

哟可以用这个命令做到这一点：

```
echo 'TEST="hi"' >> $HOME/.profile 
```

例如，或者通过使用 emacs 编辑文件。如果要为所有用户设置此变量，则必须编辑 /etc/profile (root)

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-09-10T12:33:23.340

实际上，在 UNIX 中没有全局环境。

每个进程都有一个环境，最初是从父进程继承的，但在初始创建后它是进程本地的。

您只能修改自己的，除非您使用调试器在过程中进行挖掘。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2014-11-05T23:59:07.527

以下内容摘自 David W. 的回答的第 2 段：“如果一个 shell 生成一个子 shell，则该子 shell 可以访问父 shell 的环境变量，但如果该子 shell 创建了一个环境变量，则它在父 shell 中是不可访问的。 "

如果用户需要让父 shell 访问您的新环境变量，只需在父 shell 中发出以下命令：

```
source <your_subshell_script> 
```

或使用快捷方式

```
. <your_subshell_script> 
```

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2017-01-16T02:11:20.520

将它写入一个临时文件，比如说 ~/.myglobalvar 并从任何地方读取它

```
echo "$myglobal" > ~/.myglobalvar 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2012-09-10T12:33:43.453

环境变量对于进程执行总是“本地”的，导出命令允许为子进程设置环境变量。您可以查看 .bashrc 以在 bash shell 的开头设置环境变量。您尝试做的事情似乎不可能，因为一个进程无法修改（或访问？）另一个进程的环境变量。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2012-09-10T12:39:35.883

看看你的 shell 的加载行为（在手册页中有解释，通常是指 .XXXshrc 或 .profile）。一些配置文件在交互式 shell 的登录时加载，一些配置文件在每次运行 shell 时加载。将您的变量放在后者中可能会导致您想要的行为，例如始终使用该不同的shell（例如bash）设置变量。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2013-06-29T03:11:09.260

`~/.bin/SOURCED/lazy`脚本将数据保存和加载为系统的平面文件。

```
[ ! -d ~/.megadata ] && mkdir ~/.megadata

function save_data {
[ -z "$1" -o -z "$2" ] && echo 'save_data [:id:] [:data:]' && return
local overwrite=${3-false}
[ "$overwrite" = 'true' ] && echo "$2" > ~/.megadata/$1 && return
[ ! -f ~/.megadata/$1 ]   && echo "$2" > ~/.megadata/$1 || echo ID TAKEN set third param to true to overwrite
}

save_data computer engine
cat ~/.megadata/computer
save_data computer engine
save_data computer megaengine true

function get_data {
[ -z "$1" -o -f $1 ] && echo 'get_data [:id:]' && return

[ -f ~/.megadata/$1 ]   && cat ~/.megadata/$1 || echo ID NOT FOUND
:
}

get_data computer
get_data computer 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2013-10-04T14:35:32.687

如果您需要在 shell 脚本中动态设置和引用环境变量，有一种变通方法。自己判断是否值得做，但在这里。

该策略涉及拥有一个“设置”脚本，该脚本动态编写一个“加载”脚本，该脚本具有设置和导出环境变量的代码。然后，需要引用该变量的其他脚本会定期执行“加载”脚本。顺便说一句，可以通过写入和读取文件而不是变量来完成相同的策略。

这是一个简单的例子......

Set_Load_PROCESSING_SIGNAL.sh

```
#!/bin/bash
PROCESSING_SIGNAL_SCRIPT=./Load_PROCESSING_SIGNAL.sh
echo "#!/bin/bash" > $PROCESSING_SIGNAL_SCRIPT
echo "export PROCESSING_SIGNAL=$1" >> $PROCESSING_SIGNAL_SCRIPT
chmod ug+rwx $PROCESSING_SIGNAL_SCRIPT 
```

Load_PROCESSING_SIGNAL.sh （在上面运行时动态创建）

```
#!/bin/bash
export PROCESSING_SIGNAL=1 
```

您可以使用 Test_PROCESSING_SIGNAL.sh 对此进行测试

```
#!/bin/bash
PROCESSING_SIGNAL_SCRIPT=./Load_PROCESSING_SIGNAL.sh
N=1
LIM=100
while [ $N -le $LIM ]
do
# DO WHATEVER LOOP PROCESSING IS NEEDED
echo "N = $N"
sleep 5
N=$(( $N + 1 ))

# CHECK PROCESSING_SIGNAL
source $PROCESSING_SIGNAL_SCRIPT
if [[ $PROCESSING_SIGNAL -eq 0 ]]; then
# Write log info indicating that the signal to stop processing was detected
# Write out all relevent info
# Send an alert email of this too
# Then exit
echo "Detected PROCESSING_SIGNAL for all stop. Exiting..."
exit 1
fi
done 
```

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2012-09-10T12:38:12.437

您可以更新用于初始化环境的 ~/.bashrc 或 ~/.bash_profile 文件。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2021-05-28T18:41:36.613

也许有点跑题了，但是当你真的需要它来临时设置它来执行一些脚本并最终在这里寻找答案时：

如果您需要运行具有某些环境变量的脚本，而这些环境变量在执行后不需要保留，您可以执行以下操作：

```
#!/usr/bin/env sh

export XDEBUG_SESSION=$(hostname);echo "running with xdebug: $XDEBUG_SESSION";$@ 
```

在我的示例中，我只是将 XDEBUG_SESSION 与主机名一起使用，但您可以使用多个变量。用分号将它们分开。执行如下（假设您调用了脚本 debug.sh 并将其放在与您的 php 脚本相同的目录中）：

```
$ debug.sh php yourscript.php 
```

# php - 如果写入 XML 失败

> ID：12351704
> 
> 赞同：0
> 
> 时间：2012-09-10T12:26:30.007
> 
> 标签：php, xml, error-handling

无论如何要检查在 xml 写入期间是否发生了写入错误？我使用 xml 写入数据，但有时由于服务器故障导致数据损坏/未完成？

我想确保 xml 文档是写的，否则再做一次！

```
$doc = new DOMDocument("1.0", "ISO-8859-1"); 
$doc->formatOutput = true; 

$r = $doc->createElement( "library" ); 
$doc->appendChild( $r ); 

$b = $doc->createElement( "data" ); 

$time = $doc->createElement( "updatetime" ); 
$time->appendChild($doc->createTextNode( $timestamp )); 
$b->appendChild( $time ); 

$update = $doc->createElement( "update" ); 
$update->appendChild($doc->createTextNode(0)); 
$b->appendChild( $update ); 

$data = $doc->createElement("thestring"); 
$data->appendChild( 
$doc->createTextNode($string) 
); 
$b->appendChild( $data ); 

$r->appendChild( $b ); 

$doc->save('xml_users/'.$currplayer.'.xml'); 
```

请帮忙 ：-）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T12:28:43.623

检查是否`save`返回 false：

将所有内容包装到一个返回 DOMDocument 对象的函数中，然后调用它

```
$doc = createUser($vars);
if(!$doc->save('xml_users/'.$currplayer.'.xml')){
    // run code again
    $doc = createUser($vars);
} 
```

# blackberry - 黑莓eclipse jde插件

> ID：12351705
> 
> 赞同：1
> 
> 时间：2012-09-10T12:26:32.330
> 
> 标签：blackberry, blackberry-simulator, blackberry-eclipse-plugin

[我已经从黑莓 Eclipse 下载站点https://developer.blackberry.com/java/download/eclipse](https://developer.blackberry.com/java/download/eclipse)成功安装了用于黑莓开发的 eclipse 。当前的黑莓 JDE 版本是 7.1。

我尝试使用 Eclipse 的 Help --> Install Software 功能添加其他版本 5.0 和 6.0，方法是将 blackberry 的下载站点添加为[https://developer.blackberry.com/java/download/eclipse](https://developer.blackberry.com/java/download/eclipse)。但不幸的是，在选择 5.0 或 6.0 版本后，下载会因超时而中途失败。

所以我尝试单独下载上述jar文件。他们是

*   net.rim.ejde.componentpack5.0.0_5.0.0.36.jar（250 MB 文件）
*   net.rim.ejde.componentpack6.0.0_6.0.0.43.jar（260 MB 文件）

然后我尝试添加它们，但不知道正确的方法。

*   试着把它放在插件文件夹中
*   尝试放入 drop ins 文件夹

我只是无法弄清楚如何包含这个 Jar 文件来编译上述版本 5 和 6 的黑莓代码以及模拟器。

有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-03T08:58:51.817

`Update you Eclipse with the following` [网址](http://www.blackberry.com/developers/jar/win/java)

`I have tried with this URL and this works for me, you will get 4.5, 5.0, 6.0 versions API's and Simulator.`

查看[链接](http://docs.blackberry.com/en/developers/deliverables/16874/index.html?name=Tutorial%20-%20BlackBerry%20Java%20Plug-in%20for%20Eclipse1.1&language=English&userType=21&category=BlackBerry%20Java%20Plug-in%20for%20Eclipse&subCategory=)，这将为您演示如何更新 Eclips

# drupal - Drupal：它的功能可以定制吗？

> ID：12351707
> 
> 赞同：0
> 
> 时间：2012-09-10T12:26:34.127
> 
> 标签：drupal, content-management-system

我试过在互联网上搜索这个，但我没有找到确切的答案。我看到Drupal可以使用模块，它的管理页面可以定制，但是它的功能也可以定制吗？

这就是我想要发生的事情：在写完一篇文章/内容后，它会先保存为草稿，然后发送给某些人审议。如果可以，人们将不得不投票。如果文章/内容获得 70% 或更多的认可，它将立即发布到网站上。

我可以用 Drupal 做到这一点吗？如果没有，您对其他 CMS 有什么建议吗？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T14:11:38.273

虽然您可能不需要自定义模块来获得所需的结果，但如果您愿意，您当然可以编写自己的自定义模块。

该文档应该可以帮助您入门：[http ://drupal.org/developing/modules](http://drupal.org/developing/modules)

这是一组很好的示例，为自定义模块创建提供了起点：http: [//drupal.org/project/examples](http://drupal.org/project/examples)

就像我说的那样，您最好使用经过社区审查的贡献模块。查看**工作流**模块是否符合您的要求 - 搜索“drupal 工作流”。您可能还需要**五星级**模块来提供赞许 - 搜索“drupal 评级”。

# java - 根据我的需要修改spring框架

> ID：12351711
> 
> 赞同：0
> 
> 时间：2012-09-10T12:26:47.903
> 
> 标签：java, spring

我需要在 spring 框架之上开发一个包装器。详情如下：

将有一个称为模板的文件

```
<beans>
   <bean  class"com.sample.SampleClass">
          <property name="abc" identifier="id100" > defaultValue </property>
          <property name="abc" identifier="id101" >  </property>
   </bean>
</beans> 
```

现在会有很多值文件 值文件的内容将是：

```
id100={ someValue}
id101={ overidingValue} 
```

现在在运行时将为每个值文件创建新的 bean。因此，值文件将通过覆盖值文件中的值来为每个值文件创建一个单独的 bean。

我该如何着手开发这样的框架？任何指针？

这只是我非常基本的想法。

在这种情况下，我如何使用 Alex 提到的 BeanFactory？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:41:20.790

我建议你使用 BeanFactory。它可以实现您想要的任何逻辑并通过`PropertyPlaceholderConfigurer`

# iphone - 是否可以在不越狱的情况下捕获 iPod 的视频？是否可以将代码片段添加到我的应用程序以将视频数据发送到 AirServer？

> ID：12351714
> 
> 赞同：5
> 
> 时间：2012-09-10T12:26:53.470
> 
> 标签：iphone, ios, screen

我发现这篇[文章](https://stackoverflow.com/questions/200049/is-there-a-way-i-can-capture-my-iphone-screen-as-a-video)建议使用 AirServer 从 iPhone 捕获视频。不幸的是，AirServer 不支持 iPod（即使我有一个运行 iOS 5.0 的第四代 iPod）。有没有办法通过软件或者我应该让我的 iPod 连接到电视并在那里录制？我已经看到有一些很好的电缆可以将 iPod 连接到电视，但我失去了链接，现在只能找到解释如何在越狱 iPod 上执行此操作的建议。（我不想这样做）。

编辑（对于结束主题的那个）：是否有任何代码片段可用于将视频数据从我的应用程序发送到 AirServer？

# c++ - 与调用线程同步 I/O？

> ID：12351723
> 
> 赞同：2
> 
> 时间：2012-09-10T12:27:24.420
> 
> 标签：c++, multithreading, winapi

在[本文](http://msdn.microsoft.com/en-us/library/ms810438.aspx)的“更多等待...”部分中，当作者谈到与线程同步 i/o 时，他给出的第一个示例是：

```
hFile = CreateFile(....,FILE_IO_OVERLAPPED,...);
ReadFile(hFile,...)
< Do some computation.>
WaitForSingleObject(hFile,INFINITE); 
```

我的印象是“CreateFile”和“ReadFile”都是**同步**API，不是吗？为什么这里需要一个“WaitForSingleObject”？'CreateFile' 和 'ReadFile' 不会阻塞直到操作结束然后返回？

然后，当作者谈到“警报等待”时，会出现更多的混乱。它是什么，WaitForSingleObjectEx() 之后的线程状态？那么为什么作者给出：

```
while (WaitForSingleObject(hObject,TRUE)==WAIT_IO_COMPLETION); 
```

作为例子而不是

```
while (WaitForSingleObjectEx(hObject,TRUE)==WAIT_IO_COMPLETION); 
```

?

并且应该将“ex”功能放在一起，例如：

```
hFile = CreateFile(....,FILE_IO_OVERLAPPED,...);
ReadFileEx(hFile,...)
< Do some computation.>
while (WaitForSingleObjectEx(hObject,TRUE)==WAIT_IO_COMPLETION); 
```

任何人都可以解释一下吗？

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T12:32:38.493

好吧，您引用了代码，但显然没有阅读它:-) “重叠 IO”是异步的。

至于警报等待，我认为它们并不经常使用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T12:34:58.303

该文件还指出：

> 异步 I/O 是操作系统提供的一种让 I/O 指令在后台执行的方式，其想法大致是对 ReadFile 或 WriteFile 的调用将立即返回给调用者，并将 I/O 操作本身与计算重叠首先调用它的线程。 此技术仅适用于其驱动程序支持异步 I/O 并通过可传递给 CreateFile 调用的标志 FILE_IO_OVERLAPPED ^((*)向程序员显示自身的 I/O 设备。)在此类文件对象上执行的 I/O 的行为与同步 I/O 的行为完全不同。

这些方法是同步/异步的，具体取决于传递给 CreateFile 的参数

^(*[应为 FILE_FLAG_OVERLAPPED])

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-10T12:38:59.743

这些都是相当多的问题。

> 我的印象是“CreateFile”和“ReadFile”都是同步 API，不是吗？

两者都是真的。这取决于您传递给 Create/Read FileFunction 的参数。[你可以在这里](http://msdn.microsoft.com/en-us/library/windows/desktop/aa365467%28v=vs.85%29.aspx)阅读更多关于它的信息。一个简短的摘录：

> ... 如果 hFile 是用 FILE_FLAG_OVERLAPPED 打开的，它是一个异步文件句柄；否则它是同步的....

对于您的第二个问题，我想`WaitForSingleObject`应该是错误的`WaitForSingleObjectEx`

是否使用 Ex 版本的功能取决于您是否需要 Ex 版本的附加功能。尽管如果您将它们混合在代码中，我认为这是一种不好的风格。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-10T22:57:22.183

阅读以下[文档](http://msdn.microsoft.com/en-us/library/windows/desktop/aa365467.aspx)`ReadFile()`：

> 此函数设计用于同步和异步操作。

`ReadFile()`如果`FILE_FLAG_OVERLAPPED`被传递到`CreateFile()`并且`OVERLAPPED`结构被传递到，则为异步`ReadFile()`，例如：

```
hFile = CreateFile(..., FILE_IO_OVERLAPPED, ...); 
...
OVERLAPPED ol = {0};
ol.hEvent = CreateEvent(NULL, TRUE, FALSE, NULL);
if (!ReadFile(hFile, ..., &ol))
{
    if (GetLastError() != ERROR_IO_PENDING)
    {
        // error... 
    }
}
...
WaitForSingleObject(ol.hEvent, INFINITE); // or GetOverlappedResult(hFile, &ol, ..., TRUE); 
```

# java - 实现一个 AbstractMultiTenantConnectionProvider

> ID：12351724
> 
> 赞同：3
> 
> 时间：2012-09-10T12:27:26.450
> 
> 标签：java, hibernate, database-connection

我正在尝试使用休眠多租户（来自[第 16 章](http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html/ch16.html)）。

现在我的*ExtendedStorageManager*使用这个方法来启动一个多租户会话：

```
public Session getClabSession(int serverId, String customerSchema) {
    if (!clabFactories.containsKey(serverId)) {
        DbServers d = databaseConfigurations.get(serverId);
        clabCustomerConfig.setProperty(
            "hibernate.connection.url",
            ResourceBundleService.getInstance().decorateBundle(
                "database.connection.pattern", d.getHost(),
                d.getPort()));
        ServiceRegistry serviceRegistry = new ServiceRegistryBuilder()
            .applySettings(clabCustomerConfig.getProperties())
            .buildServiceRegistry();
        SessionFactory factory = clabCustomerConfig
            .buildSessionFactory(serviceRegistry);
        clabFactories.put(d.getId(), factory);
        serviceRegistry = null;
        factory = null;
    }
    Session session = clabFactories.get(serverId).withOptions()
        .tenantIdentifier(customerSchema).openSession();
    session.setDefaultReadOnly(false);
    return session;

} 
```

显然，我在测试时遇到了第一个错误，因为我完全错过了[这里](http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html/ch16.html#d5e4661)解释的*MultiTenantConnectionProvider*的实现。

使用 grepcode 我发现了[AbstractMultiTenantConnectionProvider](http://grepcode.com/file/repository.jboss.org/nexus/content/repositories/releases/org.hibernate/hibernate-core/4.0.0.CR1/org/hibernate/service/jdbc/connections/spi/AbstractMultiTenantConnectionProvider.java)看起来像我想要使用的东西。所以我创建了我的类来扩展它：

```
public class XMLDMultiTenantConnectionProvider extends
    AbstractMultiTenantConnectionProvider {

    /**
     * 
     */
    private static final long serialVersionUID = -6679645015449636823L;

    @Override
    protected ConnectionProvider getAnyConnectionProvider() {
    return null;
    }

    @Override
    protected ConnectionProvider selectConnectionProvider(
        String tenantIdentifier) {
    // TODO Auto-generated method stub
    return null;
    }

} 
```

但是我现在对在这两种情况下使用什么来获取 ConnectionProvider 有点无能为力。你能帮助我吗？

PS：我找到了[ConnectionProviderBuilder](http://grepcode.com/file/repository.jboss.org/nexus/content/repositories/releases/org.hibernate/hibernate-testing/4.0.0.Alpha2/org/hibernate/testing/env/ConnectionProviderBuilder.java#ConnectionProviderBuilder.buildConnectionProvider%28java.util.Properties,boolean%29)。你觉得我可以以此为榜样效仿吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T13:10:17.337

我认为您可以拥有自己的抽象类实现，如下所示：

```
public class XMLDMultiTenantConnectionProvider extends AbstractMultiTenantConnectionProvider {

      private final ConnectionProvider xml1 = ConnectionProviderBuilder.buildConnectionProvider("xml1DataSource");
      private final ConnectionProvider xml2 = ConnectionProviderBuilder.buildConnectionProvider("xml2DataSource");

    /**
     * 
     */
    private static final long serialVersionUID = -6679645015449636823L;

    @Override
    protected ConnectionProvider getAnyConnectionProvider() {
         //Default Datasource (in this case i chose the first one as default)
         return xml1;
    }

    @Override
    protected ConnectionProvider selectConnectionProvider(String tenantIdentifier) {

    if( "xml1".equals(tenantIdentifier) ) 
        return xml1;

    if( "xml2".equals(tenantIdentifier) ) 
        return xml2;

    return null;
    }

} 
```

我认为这可能是一个很好且可以理解的例子......

# parse-platform - parsr.com - 无法建立连接

> ID：12351731
> 
> 赞同：0
> 
> 时间：2012-09-10T12:27:52.517
> 
> 标签：parse-platform

我使用 parse.com 的数据存储区来管理我的应用程序的数据。顺便说一句，我使用 javascript。我建立这样的连接：

```
Parse.initialize("KRCjl8ZEgNIERgXcbhbh6kfsdeXReWfA9phOY1Ql","v5uW61qzYboq64zleielyi9876sx8se");

// A Collection containing all instances of category objects.
var categoryObject = Parse.Object.extend("categories");
var CategoryCollection = Parse.Collection.extend({
    model: categoryObject
});

var collection = new CategoryCollection();
collection.fetch({
    success: function(categoryList) {
        alert("ok");
    },
   error: function(collection, error) {
        for(item in error) {
            alert(item +" = "+ error[item]);
        }
    }

}); 
```

问题是它昨天有效，现在当我浏览 www.parse.com 时，它说证书已过期。我认为这与这个问题有关。

谁能告诉我我现在能做什么。

谢谢，

安内

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T00:32:02.440

今天早上我们遇到了一个导致停机的 SSL 问题。您可以在此处阅读我们的验尸报告：http: [//blog.parse.com/2012/09/10/summary-of-the-september-10-parse-service-disruption/](http://blog.parse.com/2012/09/10/summary-of-the-september-10-parse-service-disruption/)。

今天早上 8:42 解决了这个问题，现在一切正常。

如果您对 Parse 有任何其他问题，请随时查看[parse.com/help](https://www.parse.com/help)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T14:23:38.300

如果您点击 parse.com，您将收到过期 SSL 证书错误。这就是 API 调用不起作用的原因，我的应用程序也发生了同样的事情。我无法想象这会在专业环境中发生，但确实如此。我已发送消息支持。奇怪的是，我的推文没有出现在 @ParseIt 上。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-10T12:43:46.080

同样的事情也发生在我身上。我不认为是您的代码 - 可能是他们网站上的问题。希望它会很快得到解决。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-05-21T13:16:29.573

Parse.com 仍然是一个有缺陷的系统，但您可以通过 Web 界面访问您的数据，例如

[https://www.parse.com/apps/ispect/collections#class/](https://www.parse.com/apps/ispect/collections#class/)

提及您并可以访问您的数据。

# c# - 类型错误：url 未定义 extjs 4 填充组合框

> ID：12351733
> 
> 赞同：1
> 
> 时间：2012-09-10T12:27:57.040
> 
> 标签：c#, javascript, ajax, extjs, extjs4

我正在可编辑的网格中使用 extjs 4 创建一个组合框（我使用 extjs 4）并且我使用外部 ajax 调用来填充它而不是使用 extjs 代理，原因是我使用相同的调用来加载其他组合盒子。所以我想为什么不使用相同的功能。下面是 store、model、dropdown 和 ajax 调用的代码：

```
var drpdwnitems = "";

Ext.define('rStatusRecord', {
    extend: 'Ext.data.Model',
    fields: [
        { name: 'code', type: 'string' },
        { name: 'value', type: 'string' }
    ]
});

var dsStatus = Ext.create('Ext.data.Store', { model: 'rStatusRecord', data: [] });

var timeSelectField_1 = {
     xtype: 'combobox',
     typeAhead: true,
     displayField: 'code',
     valueField: 'value',
     store: dsStatus,
     triggerAction: 'all'

}; 
```

该字段基本上用于网格面板的列中用于编辑目的。AJax 调用基本上是返回一个字符串。

```
$.ajax({
    type: "GET",
    url: "XHR/Task_TypesCalls.aspx?TL_A=1", 
    error: function() { alert('Error loading document'); },
    success: loadAvailableTasksList
});

function loadAvailableTasksList(contents, status) {
     drpdwnitems = contents.split("!");
     if (status != "success") return;

     var drpdwnitemsind;

     dsStatus.removeAll();
     for (i = 0; i < drpdwnitems.length; i++) {
        drpdwnitemsind = drpdwnitems[i].split(":");
        statusRecord = Ext.create('rStatusRecord', {
          code: drpdwnitemsind[0], //"",
          value: drpdwnitemsind[0]//""
        });

        dsStatus.add(statusRecord);
      } //end of loop
} 
```

现在当我编辑该字段并打开组合框时，出现错误

TypeError: url is undefined
这个错误在文件 ext-all-debug.js

我的猜测是商店的 url 配置是必要的，我没有提供它. 或者我在这里做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:39:31.380

请参阅：[http ://docs.sencha.com/ext-js/4-1/#!/api/Ext.form.field.ComboBox-cfg-queryMode](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.form.field.ComboBox-cfg-queryMode)

您想将其设置为本地。

# php - PHP 中是否有“nullsafe 运算符”？

> ID：12351737
> 
> 赞同：17
> 
> 时间：2012-09-10T12:28:17.353
> 
> 标签：php, operators, chaining, php-8, nullsafe

有没有办法使用某种[安全导航运算符](http://docs.codehaus.org/display/GROOVY/Operators#Operators-SafeNavigationOperator)编写以下语句？

```
echo $data->getMyObject() != null ? $data->getMyObject()->getName() : ''; 
```

所以它看起来像这样：

```
echo $data->getMyObject()?->getName(); 
```

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2020-08-02T23:45:25.267

从 PHP 8 开始，您可以使用[null 安全运算符](https://wiki.php.net/rfc/nullsafe_operator)，它与 null 合并运算符相结合，允许您编写如下代码：

```
echo $data->getMyObject()?->getName() ?? ''; 
```

通过使用`?->`而不是`->`运算符链终止，结果将为空。

“查看对象内部”的运算符被视为链的一部分。

*   数组访问 ([])
*   属性访问 (->)
*   Nullsafe 属性访问 (?->)
*   静态属性访问 (::)
*   方法调用 (->)
*   Nullsafe 方法调用 (?->)
*   静态方法调用 (::)

例如代码：

```
$string = $data?->getObject()->getName() . " after"; 
```

如果 $data 为空，则该代码将等效于：

```
$string = null . " after"; 
```

由于字符串连接运算符不是“链”的一部分，因此不会短路。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-09-10T12:34:03.323

不，那里没有。

处理此问题的绝对最佳方法是设计您的对象，使其始终返回特定类型的已知、良好、已定义的值。

对于绝对不可能的情况，您必须这样做：

```
$foo = $data->getMyObject();
if ($foo) {
    echo $foo->getName();
} 
```

或许

```
echo ($foo = $data->getMyObject()) ? $foo->getName() : null; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2020-11-27T22:41:33.303

Nullsafe 运算符允许您链接调用，避免检查链的每个部分是否不为空（空变量的方法或属性）。

### PHP 8.0

```
$city = $user?->getAddress()?->city 
```

### PHP 8.0 之前

```
$city = null;
if($user !== null) {
    $address = $user->getAddress();
    if($address !== null) {
        $city = $address->city;
    }
} 
```

使用`null coalescing operator`（它不适用于方法）：

```
$city = null;
if($user !== null) {
    $city = $user->getAddress()->city ?? null;
} 
```

`Nullsafe operator`抑制错误：

> 警告：尝试在致命错误中读取 null 上的属性“city”：

> 未捕获的错误：在 null 上调用成员函数 getAddress()

但是它不适用于数组键：

```
$user['admin']?->getAddress()?->city //Warning: Trying to access array offset on value of type null

$user = [];
$user['admin']?->getAddress()?->city //Warning: Undefined array key "admin" 
```

# regex - Perl Regex：尝试修改只读值

> ID：12351756
> 
> 赞同：3
> 
> 时间：2012-09-10T12:29:02.783
> 
> 标签：regex, perl

`whitespaces`在将字符串与正则表达式匹配后，我试图替换它。

```
my $string = "watch download Buffy the Vampire Slayer Season 1 Episode 1 Gorillavid";

if ($string =~ m!(Season\s\d+\sEpisode\s\d+)!){

    $1 =~ s!\s+!!g;

    say $1;

} 
```

现在，当我运行上面的代码时，我得到`Modification of a read-only value attempted`. 现在，如果我将 的值存储`$1`在一个变量中，而不是尝试对该变量执行替换，它就可以正常工作。

那么，有什么方法可以在不创建新临时变量的情况下就地执行替换。

PS：有人可以告诉我如何将上述代码编写为单行代码，因为我无法:)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-10T12:36:00.843

不要乱用特殊变量，只需捕获您想要的数据，同时自己构建输出。

```
$string = "watch download Buffy the Vampire Slayer Season 1 Episode 1 Gorillavid";
if ($string =~ m!Season\s(\d+)\sEpisode\s(\d+)!){
   say("Season$1Episode$2");
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-10T12:39:21.370

看起来您想压缩`Season 1 Episode 1`到`Season1Episode1`原始字符串中

这可以方便地使用`@-`and与作为左值`@+`的调用一起完成`substr`

这个程序显示了这个想法

```
use strict;
use warnings;

my $string = "watch download Buffy the Vampire Slayer Season 1 Episode 1 Gorillavid";

if ($string =~ /Season\s+\d+\s+Episode\s+\d+/ ) {

  substr($string, $-[0], $+[0] - $-[0]) =~ s/\s+//g;
  print $string;
} 
```

**输出**

```
watch download Buffy the Vampire Slayer Season1Episode1 Gorillavid 
```

你没有说为什么你想在一行中写这个，但如果你必须那么这将为你做

```
perl -pe '/Season\s*\d+\s*Episode\s*\d+/ and substr($_, $-[0], $+[0] - $-[0]) =~ s/\s+//g' myfile 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-10T16:51:41.710

如果您使用后脚本`for`循环来创建 的本地实例`$_`，则可以将替换与打印链接（使用逗号）以实现匹配的预打印处理。

`/g`请注意，使用 global选项时不需要括号。另请注意，这会使您的 if 语句变得多余，因为任何不匹配都会向您的`for`循环返回一个空列表。

```
perl -nlwe 's/\s+//g, print for /Season\s+\d+\s+Episode\s+\d+/g;' yourfile.txt 
```

在您的脚本中，它看起来像这样。请注意，if 语句已替换为 for 循环。

```
for ( $string =~ /Season\s+\d+\s+Episode\s+\d+/g ) {
    s/\s+//g;  # implies $_ =~ s/\s+//g
    say;       # implies say $_

} 
```

This is mainly to demonstrate the one-liner. You may insert a lexical variable instead of using `$_`, e.g. `for my $match ( ... )` if you want increased readability.

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-10T12:54:48.330

```
$string =~ s{(?<=Season)\s*(\d+)\s*(Episode)\s*(\d+)}{$1$3$2}; 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-09-10T12:39:02.383

你可以试试这个：

```
perl -pi -e 'if($_=~/Season\s\d+\sEpisode\s\d/){s/\s+//g;}' file 
```

测试如下：

```
XXX> cat temp
watch download Buffy the Vampire Slayer Season 1 Episode 1 Gorillavid
XXX> perl -pi -e 'if($_=~/Season\s\d+\sEpisode\s\d/){s/\s+//g;}' temp
XXX> cat temp
watchdownloadBuffytheVampireSlayerSeason1Episode1GorillavidXXX> 
```

# android - 带有自定义 View 类的 InflateException

> ID：12351763
> 
> 赞同：0
> 
> 时间：2012-09-10T12:29:34.670
> 
> 标签：android, imageview

我想简单地在`ImageView`. 这是`ImageViewHighlight`课程：

```
public class ImageViewHighlight extends ImageView {
    Paint paint = new Paint();

    public ImageViewHighlight(Context context) {
        super(context);
    }

    @Override
    protected void onDraw(Canvas canvas) {
        super.onDraw(canvas);
        paint.setColor(Color.BLUE);
        canvas.drawRect(30, 20, 60, 40, paint);
    }

} 
```

`MainActivity`：

```
public class MainActivity extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
    }
} 
```

XML:

```
<com.example.highlight.ImageViewHighlight
    android:id="@+id/imageView1"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:src="@drawable/p5" /> 
```

但它崩溃并给了我这个logcat：

```
09-10 15:23:05.320: E/AndroidRuntime(2347): FATAL EXCEPTION: main
09-10 15:23:05.320: E/AndroidRuntime(2347): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.highlight/com.example.highlight.MainActivity}: android.view.InflateException: Binary XML file line #6: Error inflating class com.example.highlight.ImageViewHighlight
09-10 15:23:05.320: E/AndroidRuntime(2347):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2079)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2104)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at android.app.ActivityThread.access$600(ActivityThread.java:132)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1157)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at android.os.Handler.dispatchMessage(Handler.java:99)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at android.os.Looper.loop(Looper.java:137)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at android.app.ActivityThread.main(ActivityThread.java:4575)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at java.lang.reflect.Method.invokeNative(Native Method)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at java.lang.reflect.Method.invoke(Method.java:511)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at dalvik.system.NativeStart.main(Native Method)
09-10 15:23:05.320: E/AndroidRuntime(2347): Caused by: android.view.InflateException: Binary XML file line #6: Error inflating class com.example.highlight.ImageViewHighlight
09-10 15:23:05.320: E/AndroidRuntime(2347):     at android.view.LayoutInflater.createView(LayoutInflater.java:589)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:680)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at android.view.LayoutInflater.rInflate(LayoutInflater.java:739)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at android.view.LayoutInflater.inflate(LayoutInflater.java:489)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at android.view.LayoutInflater.inflate(LayoutInflater.java:396)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at android.view.LayoutInflater.inflate(LayoutInflater.java:352)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:251)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at android.app.Activity.setContentView(Activity.java:1835)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at com.example.highlight.MainActivity.onCreate(MainActivity.java:12)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at android.app.Activity.performCreate(Activity.java:4465)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2033)
09-10 15:23:05.320: E/AndroidRuntime(2347):     ... 11 more
09-10 15:23:05.320: E/AndroidRuntime(2347): Caused by: java.lang.NoSuchMethodException: <init> [class android.content.Context, interface android.util.AttributeSet]
09-10 15:23:05.320: E/AndroidRuntime(2347):     at java.lang.Class.getConstructorOrMethod(Class.java:460)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at java.lang.Class.getConstructor(Class.java:431)
09-10 15:23:05.320: E/AndroidRuntime(2347):     at android.view.LayoutInflater.createView(LayoutInflater.java:561)
09-10 15:23:05.320: E/AndroidRuntime(2347):     ... 22 more 
```

我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T12:32:50.737

`InflateException: Binary XML file line #6: Error inflating class com.example.highlight.ImageViewHighlight`表示错误在 ImageViewHighlight 中。

`NoSuchMethodException`表示缺少方法。

`<init> [class android.content.Context, interface android.util.AttributeSet]`表示缺少的方法是一个以 Context 和 AttributeSet 作为参数的构造函数。

=> 您需要通过使用相同的参数调用 super() 来实现此方法。

```
public ImageViewHighlight(Context context, AttributeSet attrs) {
    super(context, attrs);
} 
```

# php - PHP Simple HTML DOM Parser 的字符编码问题

> ID：12351776
> 
> 赞同：2
> 
> 时间：2012-09-10T12:30:09.180
> 
> 标签：php, mysql, dom, curl, simple-html-dom

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-10T16:55:53.793

@deceze and @Shakti thanks for your help.

+1 for the article link posted by deceze ([Handling Unicode Front to Back in a Web App](http://kunststube.net/frontback/)) and it also worth reading [Understanding encoding](http://kunststube.net/encoding)

After reading your comments, answer and of course those two articles, I finally solved my issue.

I have listed the steps I did so far to solve this issue:

1.  Added `header('Content-Type: text/html; charset=utf-8');` on the top of my init.php file,
2.  Changed CHARACTER SET of my database table field which is storing those value to UTF-8,
3.  Set MySQL connection charset to UTF-8 `mysql_set_charset('utf8', $connection_link_id);`
4.  Used htmlentities() function to convert characters `$meta_title = htmlentities(trim($meta_title_raw), ENT_QUOTES, 'UTF-8');`

Now the issue seems to be solved, BUT I still have to do following thing to solve this issue in FULL.

1.  Get the encoded charset from the source `$source_charset`.
2.  Change the encoding of the string into UTF-8 if it is already not in the same encoding. For this the only available PHP function is `iconv()`. Example: `iconv($source_charset, "UTF-8", $meta_title_raw);`

For getting `$source_charset` I probably have to use some tricks or multi checking. Like checking headers and meta tag etc. I found a good answer at [Detect encoding](https://stackoverflow.com/questions/910793/detect-encoding-and-make-everything-utf-8)

Let me know if there are any improvements or any fault on my steps above.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T12:36:29.203

> If I switch browser encoding to UTF-8, it works.

So you're simply not setting the correct HTTP header to designate your document to be UTF-8 encoded and the browser is interpreting it in some other encoding. Use:

```
header('Content-Type: text/html; charset=utf-8'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-23T15:48:32.240

I had the same problem with Romanian characters. Nothing worked until I used

```
header('Content-Type: text/html; charset=ISO-8859-2'); 
```

ISO-8859-2 being the character set for Eastern European letters. So find the right character set for your language and use it in header.

# java - 在名称为“appServlet”的 DispatcherServlet 中找不到具有 URI [/myappname/] 的 HTTP 请求的映射

> ID：12351777
> 
> 赞同：1
> 
> 时间：2012-09-10T12:30:11.253
> 
> 标签：java, spring, spring-mvc, tiles

`No mapping found for HTTP request with URI [/myappname/] in DispatcherServlet with name 'appServlet'`我在 JBoss 上开始我的项目时遇到错误。这是在解决此处描述的另一个问题后发生的问题：[“No Session found for current thread” after change access method to the session](https://stackoverflow.com/q/12299322/845220)

在一切正常之前。我正在使用 Apache Tiles 2。我正在阅读一些类似的问题，但找不到有效的解决方案。

这是我`DispatcherServlet Context`没有 Hibernate 配置的文件：

```
<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/mvc"
         xmlns:tx="http://www.springframework.org/schema/tx"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xmlns:beans="http://www.springframework.org/schema/beans"
         xmlns:context="http://www.springframework.org/schema/context"
         xsi:schemaLocation="http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd
                    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
                    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd
                    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd">

<!-- DispatcherServlet Context: defines this servlet's request-processing infrastructure -->

<!-- Enables the Spring MVC @Controller programming model -->
<tx:annotation-driven />
<context:annotation-config />
<context:component-scan base-package="finances.webapp" />

<!-- Handles HTTP GET requests for resources by efficiently serving up static resources in the ${webappRoot}/resources directory -->
<resources mapping="/resources/**" location="/resources/" />

<beans:bean id="tilesConfigurer" class="org.springframework.web.servlet.view.tiles2.TilesConfigurer">
    <beans:property name="definitions">
        <beans:list>
            <beans:value>/WEB-INF/tiles-definitions.xml</beans:value>
        </beans:list>
    </beans:property>
</beans:bean>

<beans:bean id="viewResolver" class="org.springframework.web.servlet.view.UrlBasedViewResolver">
    <beans:property name="viewClass" value="org.springframework.web.servlet.view.tiles2.TilesView" />
</beans:bean> 
```

我的`web.xml`整个文件：

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app version="2.5" xmlns="http://java.sun.com/xml/ns/javaee"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd">

<!-- The definition of the Root Spring Container shared by all Servlets and Filters -->
<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>
        /WEB-INF/spring/root-context.xml
    </param-value>
</context-param>

<!-- Creates the Spring Container shared by all Servlets and Filters -->
<listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener>

<listener>
    <listener-class>org.springframework.security.web.session.HttpSessionEventPublisher</listener-class>
</listener>

<!-- Processes application requests -->
<servlet>
    <servlet-name>appServlet</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <init-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>/WEB-INF/spring/appServlet/servlet-context.xml</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>
</servlet>

<servlet-mapping>
    <servlet-name>appServlet</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping>

</web-app> 
```

这是我的`IndexController`：

```
@Controller
public class IndexController {

    @RequestMapping(value = "/", method = RequestMethod.GET)
    public String index(Model model, Principal principal) {
        return "index";
    }
} 
```

此刻我的配置有什么问题？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-10T14:14:36.993

我认为您缺少`<mvc:annotation-driven/>`阅读`@Controller`和`@RequestMapping`注释所需的内容。[您可以在此处](https://stackoverflow.com/questions/3977973/whats-the-difference-between-mvcannotation-driven-and-contextannotation)和[此处](https://stackoverflow.com/questions/8162459/what-does-mvcannotation-driven-do)阅读有关此内容的更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T13:05:26.493

解决方案是将两个标签保存在`DispatcherServlet Context`文件中，如下所示：`annotation-driven`

```
<annotation-driven />
<tx:annotation-driven /> 
```

我还没有找到类似的解决方案，所以我打算把它留在这里。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-16T15:53:01.753

在你的 spring servlet.xml 文件中有这个

```
xmlns:mvc="http://www.springframework.org/schema/mvc
xmlns:tx="http://www.springframework.org/schema/tx" 
```

和

```
http://www.springframework.org/schema/mvc
http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd
http://www.springframework.org/schema/tx
http://www.springframework.org/schema/tx/spring-tx-2.5.xsd 
```

和

```
<mvc:annotation-driven />
<tx:annotation-driven /> 
```

在您的控制器类中，使用

```
 @Controller
 public class IndexController {..} 
```

它有效！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-12-25T00:23:49.977

我遇到了同样的异常，正在尝试所有上述解决方案，但没有任何帮助，但我确实得到了一个指针，问题是因为该类没有在目标类文件夹中生成，这是由于不正确的 Maven 项目结构导致没有编译Java 控制器类。

检查您是否具有以下结构，然后是否在`target->class`文件夹中生成类，然后仅尝试上述建议。

```
Project
  src
    main
      java
      resources
    test
      java
      resources 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-04-18T15:25:25.757

确保您的 .java 文件位于 src/main/java 而不是 src/main/resources

# ruby-on-rails - 多对多数据库的最佳方法？

> ID：12351781
> 
> 赞同：0
> 
> 时间：2012-09-10T12:30:31.080
> 
> 标签：ruby-on-rails, activerecord, entity-relationship

我目前正在为体育俱乐部开发一个应用程序，它允许俱乐部管理员管理部门、团队，并最终管理球员。

目前我的数据库/关系如下

```
class Sport < ActiveRecord::Base
  has_many  :clubs
  has_many :teams
  attr_accessible :club_id

class Club < ActiveRecord::Base
  belongs_to :sport
  has_many  :teams
  has_many :users
  has_many  :divisions
  attr_accessible :sport_id

class Division < ActiveRecord::Base
  has_many :teams
  belongs_to  :club
  attr_accessible :club_id

class Team < ActiveRecord::Base
  has_many  :users
  has_many  :schedules
  belongs_to :division
  belongs_to :club
  attr_accessible :division_id, :club_id

class User < ActiveRecord::Base
  belongs_to :club
  belongs_to :team
  attr_accessiable :club_id, :sport_id 
```

我想要的是一种更简洁的管理方式。IE

*   用户只能属于 1 个俱乐部，在 1 个分区内，但可以有多个团队
*   球队只能属于 1 个分区、1 个俱乐部、1 个运动，但有多个用户
*   分区只能属于 1 个俱乐部，在 1 个运动中，但有多个团队
*   俱乐部只能属于一项运动，但有多个团队和多个部门

目前上述工作正常，但我不认为关系/结构处于最佳状态

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T08:47:10.163

你的国家只有单一的体育俱乐部吗？在德国，俱乐部的不同部门可以有不同的运动（我自己的俱乐部，例如田径、自行车、排球、篮球、乒乓球和游泳）。在我的大多数应用程序中，我只是跳过了运动和分区：运动是从应用程序的上下文中给出的，我认为俱乐部和分区是相同的。我的运动应用程序只处理俱乐部，而不是俱乐部的部门。我认为这种牺牲是必要的，否则复杂性会让我不知所措——当然，你的里程可能会有所不同:-)

而且：一个用户只是暂时属于一个俱乐部，所以我在用户和球队之间有一个中间关系；德语中的“Startberechtigung”，类似于英语中的“license”，我会说；它属于团队和属于用户，并具有“start_date”和“stop_date”作为附加属性。这样我什至有俱乐部和用户的历史。对记录列表很重要（再次：田径）！

之后我会丢弃多余的传递关系：用户属于一个团队，而该团队又属于俱乐部 => 使用 has_many :through's more; 您不需要用户 belongs_to 俱乐部。

现在你的模型应该更干净了。

**更新**：

不要为玩家使用类名“User”，这最终会导致与您的用户/管理员模型发生冲突。“球员”或“运动员”对我来说很好。

**更新 2**：

当然，您不需要在每种情况下都使用 :through 。尤其是，带有包含或类方法的范围可能更适合您。如果你想跨越一个以上的中级。

怎么样（请填写推荐指南中的漏洞）：

```
class Sport < ActiveRecord::Base

has_many :clubs
has_many :teams, :through => :clubs, :readonly => false

class Club < ActiveRecord::Base

belongs_to :sport
has_many :teams

class Team < ActiveRecord::Base

belongs_to :club

has_many :athlete_teams
has_many :athletes, :through => :athlete_teams, :readonly => false

class AthleteTeam < ActiveRecord::Base

belongs_to :teams
belongs_to :athletes

class Athlet < ActiveRecord::Base

has_many :athlete_teams
has_many :athletes, :through :athlete_teams, :readonly => false 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T08:07:45.800

有关 ActiveRecord 关联的帮助可以在[http://api.rubyonrails.org上找到](http://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html)

希望这会对您有所帮助。

# php - Magento：禁用 3-columns.phtml 等布局页面模板

> ID：12351783
> 
> 赞同：0
> 
> 时间：2012-09-10T12:30:33.733
> 
> 标签：php, magento, magento-1.7

我只想基于 2 列创建整个网站。所以我想删除所有一列和三列布局。

我什至想从管理区域中删除这些选项。

这个怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T21:53:39.723

您需要像这样重写（无论是使用 app/code/local 还是使用模块） Mage_Page_Model_Source_Layout::getOptions() ：

```
/**
 * Retrieve page layout options
 *
 * @return array
 */
public function getOptions()
{

    // Array of layout codes that are allowed
    $allowedLayoutCodes = array('empty', 'two_columns_left', 'two_columns_right');

    if ($this->_options === null) {
        $this->_options = array();
        foreach (Mage::getSingleton('page/config')->getPageLayouts() as $layout) {

            // If layoutCode in foreach loop is allowed
            if(in_array($layout->getCode(), $allowedLayoutCodes)) {
                $this->_options[$layout->getCode()] = $layout->getLabel();
                if ($layout->getIsDefault()) {
                    $this->_defaultValue = $layout->getCode();
                }
            }

        }
    }

    return $this->_options;
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-10T13:55:42.367

对于从管理区域中删除布局选项，您必须编辑核心文件。为此，请在 app\code\core\Mage\Page\etc\config.xml 中评论所需的布局。

请确保您已从前端主题中删除所有已删除的布局引用。

# mongodb - mongodb文档更新后什么时候过期？

> ID：12351785
> 
> 赞同：12
> 
> 时间：2012-09-10T12:30:42.687
> 
> 标签：mongodb, upsert

我在 mongodb 中有一组文档，`expireAfterSeconds`属性设置在日期类型索引上。

为了争论起见，这些文件被设置为一小时后到期。

**当我更新此集合中的文档时，会发生以下哪一项？**

**a)**文档将在*原始*创建时间后一小时过期。

**b)**文件将在*更新*时间后一小时过期。

**c)文档将***在索引变量*的时间后一小时过期，无论是什么时间。

**d)**以上都不是

我认为它是**c**，但找不到确认它的参考。我对么？这是在哪里记录的？

**[编辑]：**澄清一下，情况是我正在存储密码重置代码（应该过期。）如果请求新代码，我希望旧代码停止工作。但这并不是很相关，因为我可以通过简单地删除旧事务来确保始终尊重我想要的行为。这个问题不是关于我当前的问题，而是关于 Mongo 的行为。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-09-10T13:19:23.743

正确答案是**c)**

expireAfterSeconds 属性始终需要包含 BSON 日期的字段的索引，因为此日期字段的内容用于选择要删除的条目。

当您想要更新文档以重置生存时间时，还将索引日期字段更新为当前时间。

当您希望更新不影响 TTL 时，请不要更新日期。

但是，请记住 expireAfterSeconds 并不能保证立即删除文档。删除由每分钟运行的后台作业完成。该作业是低优先级的，可以在当前负载高时被 MongoDB 推迟。因此，当过期时间精确到秒对您的用例很重要时，您应该在应用程序级别添加额外的检查。

此功能记录在这里：[http ://docs.mongodb.org/manual/tutorial/expire-data/](http://docs.mongodb.org/manual/tutorial/expire-data/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-10T18:56:46.043

如果您不想依赖 mongo 恶魔进程来使集合过期，那么最好在集合上创建一个额外的 createdOn 字段并将其与当前时间戳进行比较以决定是否使用该文档。

# python - 如何将打印语句重定向到 Tkinter 文本小部件

> ID：12351786
> 
> 赞同：17
> 
> 时间：2012-09-10T12:30:49.550
> 
> 标签：python, tkinter

我有一个 Python 程序，它执行一组操作并在 STDOUT 上打印响应。现在我正在编写一个 GUI，它将调用已经存在的代码，并且我想在 GUI 中而不是 STDOUT 中打印相同的内容。为此，我将使用 Text 小部件。我不想修改执行该任务的现有代码（此代码也被其他一些程序使用）。

有人可以指出我如何使用这个现有的任务定义并使用它的 STDOUT 结果并将其插入到文本小部件中吗？在主 GUI 程序中，我想调用此任务定义并将其结果打印到 STDOUT。有没有办法使用这些信息？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-09-10T12:57:54.260

您可以通过替换`sys.stdout`为您自己的写入文本小部件的类似文件的对象来解决此问题。

例如：

```
import Tkinter as tk
import sys

class ExampleApp(tk.Tk):
    def __init__(self):
        tk.Tk.__init__(self)
        toolbar = tk.Frame(self)
        toolbar.pack(side="top", fill="x")
        b1 = tk.Button(self, text="print to stdout", command=self.print_stdout)
        b2 = tk.Button(self, text="print to stderr", command=self.print_stderr)
        b1.pack(in_=toolbar, side="left")
        b2.pack(in_=toolbar, side="left")
        self.text = tk.Text(self, wrap="word")
        self.text.pack(side="top", fill="both", expand=True)
        self.text.tag_configure("stderr", foreground="#b22222")

        sys.stdout = TextRedirector(self.text, "stdout")
        sys.stderr = TextRedirector(self.text, "stderr")

    def print_stdout(self):
        '''Illustrate that using 'print' writes to stdout'''
        print "this is stdout"

    def print_stderr(self):
        '''Illustrate that we can write directly to stderr'''
        sys.stderr.write("this is stderr\n")

class TextRedirector(object):
    def __init__(self, widget, tag="stdout"):
        self.widget = widget
        self.tag = tag

    def write(self, str):
        self.widget.configure(state="normal")
        self.widget.insert("end", str, (self.tag,))
        self.widget.configure(state="disabled")

app = ExampleApp()
app.mainloop() 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2015-07-13T16:18:45.337

在 python 中，每当你调用 print('examplestring') 时，你都是在间接调用 sys.stdout.write('examplestring') ：

```
from tkinter import *
root=Tk()
textbox=Text(root)
textbox.pack()
button1=Button(root, text='output', command=lambda : print('printing to GUI'))
button1.pack() 
```

方法一：在GUI上打印

```
def redirector(inputStr):
    textbox.insert(INSERT, inputStr)

sys.stdout.write = redirector #whenever sys.stdout.write is called, redirector is called.

root.mainloop() 
```

事实上，我们正在调用 print -(callsfor)-> sys.stdout.write -(callsfor)-> redirector

方法 2：编写装饰器 - 在 CLI 和 GUI 上打印

```
def decorator(func):
    def inner(inputStr):
        try:
            textbox.insert(INSERT, inputStr)
            return func(inputStr)
        except:
            return func(inputStr)
    return inner

sys.stdout.write=decorator(sys.stdout.write)
#print=decorator(print)  #you can actually write this but not recommended

root.mainloop() 
```

装饰器所做的实际上是将 func sys.stdout.write 分配给 func inner

```
sys.stdout.write=inner 
```

并且 func inner 在回调实际的 sys.stdout.write 之前添加了额外的代码行

这在某种程度上更新了旧的 func sys.stdout.write 以具有新功能。您会注意到我使用了 try-except ，这样如果在打印到文本框时出现任何错误，我至少会将 sys.stdout.write 的原始函数保留到 CLI

方法 3：Bryan Oakley 的例子

```
...
    sys.stdout = TextRedirector(self.text, "stdout")
...
class TextRedirector(object):
    def __init__(self, widget, tag="stdout"):
        self.widget = widget
        self.tag = tag

    def write(self, str):
        self.widget.configure(state="normal")
        self.widget.insert("end", str, (self.tag,))
        self.widget.configure(state="disabled") 
```

他所做的是将 sys.stdout 分配给 Class TextRedirector 并使用 Method .write(str)

所以调用 print('string') -calls for-> sys.stdout.write('string') -callsfor-> TextRedirector.write('string')

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T13:24:29.703

您可以使用 调用 CLI 程序[`subprocess.Popen`](http://docs.python.org/library/subprocess.html#subprocess.Popen)，获取它生成的标准输出，并将其显示在文本小部件中。

类似于（未经测试）的东西：

```
import subprocess

with subprocess.Popen(your_CLI_program, stdout=subprocess.PIPE) as cli
    line = cli.stdout.readline()

    #process the output of your_CLI_program
    print (line) 
```

请注意，这将一直阻塞，直到 CLI 程序完成执行，冻结您的 GUI。要绕过阻塞，您可以将此代码放在 a 中[`threading.Thread`](http://docs.python.org/library/threading.html#threading.Thread)，并在等待线程完成时让 GUI 更新。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2020-04-08T09:57:43.903

其实我觉得这个问题不限于`tkinter`. 任何框架都可以应用，因为它实际上是在重定向`sys.stdout`.

我创建了一个类 ( `RedirectStdMsg`) 来执行此操作。

tl;博士

```
original = sys.stdout
sys.stdout = everything_you_like
...
sys.stdout = original  # restore 
```

```
import sys
from typing import TextIO
from typing import Callable
# import tkinter as tk

class RedirectStdMsg:
    __slots__ = ('original', 'output_device',)

    def __init__(self, sys_std: TextIO):
        self.output_device = None
        self.original = sys_std

    def __call__(self, output_device=Callable[[str], None]):
        self.output_device = output_device
        return self

    def __enter__(self):
        if self.output_device is None:
            raise AttributeError('output_device is empty')
        self.start(self.output_device)

    def __exit__(self, exc_type, exc_val, exc_tb):
        if exc_val:
            self.write(str(exc_val))
        self.stop()

    def start(self, output_device):
        self.output_device = output_device
        std_name = self.original.name.translate(str.maketrans({'<': '', '>': ''}))
        exec(f'sys.{std_name} = self')  # just like: ``sys.stderr = self``

    def stop(self):
        std_name = self.original.name.translate(str.maketrans({'<': '', '>': ''}))
        exec(f'sys.{std_name} = self.original')
        self.output_device = None

    def write(self, message: str):
        """ When sys.{stderr, stdout ...}.write is called, it will redirected here"""
        if self.output_device is None:
            self.original.write(message)
            self.original.flush()
            return
        self.output_device(message) 
```

# 测试

## 测试tk类

改编自@Bryan Oakley

```
class ExampleApp(tk.Tk):
    def __init__(self, **options):
        tk.Tk.__init__(self)
        toolbar = tk.Frame(self)
        toolbar.pack(side="top", fill="x")
        b1 = tk.Button(self, text="print to stdout", command=self.print_stdout)
        b2 = tk.Button(self, text="print to stderr", command=self.print_stderr)
        b1.pack(in_=toolbar, side="left")
        b2.pack(in_=toolbar, side="left")
        self.text = tk.Text(self, wrap="word")
        self.text.pack(side="top", fill="both", expand=True)
        self.text.tag_configure("stderr", foreground="#b22222")

        self.re_stdout = options.get('stdout')
        self.re_stderr = options.get('stderr')

        if self.re_stderr or self.re_stderr:
            tk.Button(self, text='Start redirect', command=self.start_redirect).pack(in_=toolbar, side="left")
            tk.Button(self, text='Stop redirect', command=self.stop_redirect).pack(in_=toolbar, side="left")

    def start_redirect(self):
        self.re_stdout.start(TextRedirector(self.text, "stdout").write) if self.re_stdout else ...
        self.re_stderr.start(TextRedirector(self.text, "stderr").write) if self.re_stderr else ...

    def stop_redirect(self):
        self.re_stdout.stop() if self.re_stdout else ...
        self.re_stderr.stop() if self.re_stderr else ...

    @staticmethod
    def print_stdout():
        """Illustrate that using 'print' writes to stdout"""
        print("this is stdout")

    @staticmethod
    def print_stderr():
        """Illustrate that we can write directly to stderr"""
        sys.stderr.write("this is stderr\n")

class TextRedirector(object):
    def __init__(self, widget, tag="stdout"):
        self.widget = widget
        self.tag = tag

    def write(self, msg):
        self.widget.configure(state="normal")
        self.widget.insert("end", msg, (self.tag,))
        self.widget.configure(state="disabled") 
```

## 测试用例

```
def test_tk_without_stop_btn():
    app = ExampleApp()
    with RedirectStdMsg(sys.stdout)(TextRedirector(app.text, "stdout").write), \
            RedirectStdMsg(sys.stderr)(TextRedirector(app.text, "stderr").write):
        app.mainloop()

def test_tk_have_stop_btn():
    director_out = RedirectStdMsg(sys.stdout)
    director_err = RedirectStdMsg(sys.stderr)
    app = ExampleApp(stdout=director_out, stderr=director_err)
    app.mainloop()

def test_to_file():

    # stdout test
    with open('temp.stdout.log', 'w') as file_obj:
        with RedirectStdMsg(sys.stdout)(file_obj.write):
            print('stdout to file')
    print('stdout to console')

    # stderr test
    with open('temp.stderr.log', 'w') as file_obj:
        with RedirectStdMsg(sys.stderr)(file_obj.write):
            sys.stderr.write('stderr to file')
    sys.stderr.write('stderr to console')

    # another way
    cs_stdout = RedirectStdMsg(sys.stdout)
    cs_stdout.start(open('temp.stdout.log', 'a').write)
    print('stdout to file 2')
    ...
    cs_stdout.stop()
    print('stdout to console 2')

if __name__ == '__main__':
    test_to_file()
    test_tk_without_stop_btn()
    test_tk_have_stop_btn() 
```

这是`test_tk_have_stop_btn():` [![在此处输入图像描述](../Images/f7b9821e8d55eef4788a95e3989e513e.png)](https://i.stack.imgur.com/OVs8J.gif)

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-09-10T12:40:45.450

通常打印到标准输出的函数应该将文本放入文本小部件中。

# c# - Linq-to-Entities，比较不同字段/列中的int值并返回最大值

> ID：12351787
> 
> 赞同：1
> 
> 时间：2012-09-10T12:30:51.473
> 
> 标签：c#, linq-to-entities

我有一个包含 8 个整数值的记录的表：

```
TableChild:
    Parent    Name    int1    int2    int3    int4    int5    int6    int7    int8
    a         w       1       3       2       0       1       3       4       3
    a         x       4       5       2       5       3       2       4       6
    b         y       5       3       5       3       1       1       3       4
    b         z       4       1       2       4       2       2       4       2 
```

例如，我需要找到“x”的最大值。例如，我还（单独）需要在整个表中为父“a”获取最高值。

```
var query = from row in TableChild
            where row.Name == x
            select new 
            {
                Parent = row.Parent,
                Name = row.Name,
                status = GetHighestValueOfRowInTableChild, 
                ...           
            }; 
```

返回 { (a,x,6) }

```
var queryParent = from row in tableParent     
                  where row.Name == a
                  select new 
                  {
                      Parent = row.Name,
                      status = GetHighestValueOfAllChildItemsInTableChild,
                      ...
                  }; 
```

返回 { (a,6) }

我玩过 .Max() 并尝试使用表达式，但没有任何运气，因为我可能应该使用多个连接，但无法弄清楚它们应该如何交互。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T12:48:32.190

使用 int{X} 属性的值创建一个数组，稍后获取数组的最大值

```
var queryParent = from row in tableParent     
                      where row.Name == a
                      select new 
                      {

                         Parent = row.Name,
                         status = 
                         (new int[]{row.int1,row.int2,row.int3,row.int4,
                         row.int5,row.int6,row.int7,row.int8}).Max();
                          ...

                      }; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T12:45:58.087

除非您要获取大量记录并且需要减小 DB 响应的大小，否则最好只获取所有列并`Max`在客户端执行。

# c# - 当窗口状态最大化时，窗口位于任务栏后面

> ID：12351789
> 
> 赞同：0
> 
> 时间：2012-09-10T12:30:58.320
> 
> 标签：c#, wpf, windowstate

> **可能重复：**
> [最大化时的无边界应用程序隐藏在 Win 7 和 Win 8 中的任务栏后面](https://stackoverflow.com/questions/11712035/borderless-application-on-maximize-is-hiding-behind-the-task-bar-in-win-7-and-wi)

我的windowstyle是none，我最大化了窗口在任务栏后面的窗口，我看不到while窗口。我尝试了这个，但它不起作用：

```
this.MaxHeight = SystemParameters.VirtualScreenHeight;
this.MaxWidth = SystemParameters.VirtualScreenWidth; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T12:44:22.060

您可以从以下内容开始：

```
 [DllImport("user32.dll")]
    private static extern int FindWindow(string lpszClassName, string lpszWindowName);
    [DllImport("user32.dll")]
    private static extern int ShowWindow(int hWnd, int nCmdShow);
    private const int SW_HIDE = 0;
    private const int SW_SHOW = 1;

    public void WindowsToolbar(bool visible)
    {
        int hWnd = FindWindow("Shell_TrayWnd", "");
        ShowWindow(hWnd, visible ? SW_SHOW : SW_HIDE);
    }

    public void HideTaskBarIfNeeded(Form form)
    {
        if (Screen.PrimaryScreen.Equals(Screen.FromRectangle(Screen.GetBounds(form))))
        {
            WindowsToolbar(false);
        }
    } 
```

# silverlight - 在 MouseRightButtonUp 事件中获取 DataGridRow。- 银光

> ID：12351796
> 
> 赞同：0
> 
> 时间：2012-09-10T12:31:35.933
> 
> 标签：silverlight

当用户右键单击它时，我想获取数据网格的数据网格行吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-21T10:20:58.063

要获得选定的行，您需要添加 SelectionChange 事件

```
 private void dataGrid1_SelectionChanged(object sender, SelectionChangedEventArgs e)
 {
   var rowview = dataGrid1.SelectedItem ;
     if (rowview != null)
     {
       //your code
     }
  } 
```

# objective-c - 沿路径绘制 UILabel 或 NSString

> ID：12351798
> 
> 赞同：3
> 
> 时间：2012-09-10T12:31:53.653
> 
> 标签：objective-c, ios, core-graphics, uilabel, cgrect

新工作的第一天，我被要求在 iPad 应用程序上提供帮助。他们要求我沿着弯曲的路径绘制一个 NSString（曲线有点像 S 形）。

如果不循环遍历字符串的字母并在旋转和移动它的框架后单独绘制每个字母，我不确定如何做到这一点。有没有更有效的方法来做到这一点？

这是我到目前为止所拥有的：

```
-(void)doCurveString:(NSString *)stringToCurve{

    UIGraphicsBeginImageContext(CGSizeMake(768, 1024));

    NSArray *arrayFullOfCGRects = [NSArray arrayWithObjects:
                                   [NSValue valueWithCGRect:CGRectMake(300, 500, 20, 20)],
                                   [NSValue valueWithCGRect:CGRectMake(315, 510, 20, 20)],
                                   [NSValue valueWithCGRect:CGRectMake(330, 500, 20, 20)],
                                   [NSValue valueWithCGRect:CGRectMake(345, 510, 20, 20)],
                                   [NSValue valueWithCGRect:CGRectMake(360, 500, 20, 20)],
                                   [NSValue valueWithCGRect:CGRectMake(375, 510, 20, 20)],
                                   [NSValue valueWithCGRect:CGRectMake(390, 500, 20, 20)],
                                   [NSValue valueWithCGRect:CGRectMake(405, 510, 20, 20)],
                                   [NSValue valueWithCGRect:CGRectMake(420, 500, 20, 20)],
                                   [NSValue valueWithCGRect:CGRectMake(435, 510, 20, 20)],
                                   nil];

    NSArray *arrayFullOfRotateTransforms = [NSArray arrayWithObjects:
                                            [NSValue valueWithCGAffineTransform:CGAffineTransformMakeRotation(M_PI/4)],
                                            [NSValue valueWithCGAffineTransform:CGAffineTransformMakeRotation(M_PI/2)],
                                            [NSValue valueWithCGAffineTransform:CGAffineTransformMakeRotation(M_PI/1)],
                                            [NSValue valueWithCGAffineTransform:CGAffineTransformMakeRotation(M_PI/4)],
                                            [NSValue valueWithCGAffineTransform:CGAffineTransformMakeRotation(M_PI/2)],
                                            [NSValue valueWithCGAffineTransform:CGAffineTransformMakeRotation(M_PI/1)],
                                            [NSValue valueWithCGAffineTransform:CGAffineTransformMakeRotation(M_PI/3)],
                                            [NSValue valueWithCGAffineTransform:CGAffineTransformMakeRotation(M_PI/5)],
                                            [NSValue valueWithCGAffineTransform:CGAffineTransformMakeRotation(M_PI/6)],
                                            [NSValue valueWithCGAffineTransform:CGAffineTransformMakeRotation(M_PI/1)],
                                            nil];

    NSDictionary *drawDictionary = [NSDictionary dictionaryWithObjectsAndKeys:
                                    arrayFullOfCGRects, @"frames",
                                    arrayFullOfRotateTransforms, @"rotations",
                                    nil];

    for(NSInteger charIndex=0; charIndex<stringToCurve.length; charIndex++){

        //Create a label and set it's frame coordinates
        UILabel *labelToDraw = [[UILabel alloc] initWithFrame:[[[drawDictionary objectForKey:@"frames"] objectAtIndex:charIndex] CGRectValue]];

        //Rotate the letter with the transform stored in the array
        labelToDraw.transform = [[[drawDictionary objectForKey:@"rotations"] objectAtIndex:charIndex] CGAffineTransformValue];

        //Set the label text to the letter at the correct index
        labelToDraw.text = [NSString stringWithFormat:@"%C", [stringToCurve characterAtIndex:charIndex]];

        //Make sure the background colour is transparent
        labelToDraw.backgroundColor = [UIColor clearColor];

        //Draw it to the view controller view
        [self.view addSubview:labelToDraw];

    }

    UIGraphicsEndImageContext(); 
```

肯定有更好的方法吗？我不知道/找不到的 drawTextOnPath:someCGPath 方法？

# c++ - 什么是神秘的调用堆栈？

> ID：12351801
> 
> 赞同：-3
> 
> 时间：2012-09-10T12:32:17.880
> 
> 标签：c++, callstack

我以前上过编程课，但从未听说过神秘的调用堆栈。它是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:36:02.677

我假设它指的是代码之外的调用堆栈或缺少堆栈帧的位置。在操作系统（任何人？）操作的线程中中断执行`ntdll.dll`，或者由于未定义的行为（发生在您的代码之外）导致的崩溃可能会导致您通常无法理解的调用堆栈。

# java - 朱尼特。如何测试返回类对象的方法

> ID：12351803
> 
> 赞同：-1
> 
> 时间：2012-09-10T12:32:28.800
> 
> 标签：java, unit-testing, junit

Myclass 有一个方法 getdata(String name)。调用setter方法后返回Student类对象那么如何为此编写测试代码在这里....

```
class Myclass { 
    Student st = new Student();
    public Student getdata(String name){
        st.setName(name);
        return st;
    }
} 
```

我想测试天气 st 是否为空

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:35:47.080

如果`Student`该类有一个`getName`方法，那么您可以测试它：

```
Myclass obj = new Myclass();
final String NAME = "bob";
Student student = obj.getdata(NAME);
assertThat(student.getName(), is(NAME)); 
```

但是，您发布的代码对我来说看起来有点可疑 - 如果您`getdata`使用不同的名称调用两次，您将两次更新同一个`Student`对象，这真的是您想要发生的事情吗？

```
Student student1 = obj.getdata("mitchell");
Student student2 = obj.getdata("webb");
// student1 and student2 are the same object, with the name 'webb' 
```

# c++ - 在 BOOST TEST 中添加测试套件而不是测试用例

> ID：12351810
> 
> 赞同：2
> 
> 时间：2012-09-10T12:32:51.623
> 
> 标签：c++, testing, boost, boost-test

我已经接管了一些 BOOST TEST 代码，这些代码被编写为用于测试媒体文件的静态测试设置。但是，要求是使测试设置动态化，因为要测试的媒体文件的数量会随时间变化，即一天可能有 3 个文件，第二天可能有 15 个文件要测试。

当前设置使用许多 BOOST_AUTO_TEST_SUITE 来构建静态树结构，我的问题是，当我到达测试树中的某个点时，我想将 2 个 test_suite 的 TestSuiteD1 和 TestSuiteD2 添加到测试树中以运行我的动态测试，我只能在该位置添加 2 个 test_case，因此无法在此树元素下方添加更多 test_case (TestCase1 - TestCase3)。我一直在互联网上搜索以下 ::make_test_case 的 ::make_test_suite 版本，但没有运气：

静态 boost::unit_test::ut_detail::auto_test_unit_registrar TestSuiteD1_registrar0 ( boost::unit_test::make_test_case(&fTestSuiteD1_invoker , "TestSuiteD1" ), boost::unit_test::ut_detail::auto_tc_exp_fail::instance()->value() );

我在下面添加了一些示例代码来显示我想要做什么，并在可以添加 test_suite 而不是 test_case 时获得一些反馈：

```
class MyTestSuite : public TestFixture1 {
    public:
    static void TestCase1() { //Some test };
    static void TestCase2() { //Some test };
    static void TestCase3() { //Some test };

    test_suite* TestThis(string a, string b, string d)
        test_suite* tsE = BOOST_TEST_SUITE( "TestSuiteE" );
        tsE->add( BOOST_TEST_CASE( &TestCase1 ) );
        tsE->add( BOOST_TEST_CASE( &TestCase2 ) );
        tsE->add( BOOST_TEST_CASE( &TestCase3 ) );
    };
};

BOOST_AUTO_TEST_SUITE( TestSuiteA );
BOOST_FIXTURE_TEST_SUITE( TestSuiteB , TestFixture1 );
BOOST_AUTO_TEST_SUITE( TestSuiteC );
BOOST_AUTO_TEST_SUITE( TestSuiteD );

    static test_unit* TestSuiteD1_invoker (void) { 
        MyTestSuite MyTS;
        MyTS.TestThis("a" , "b" , "D1" );
        return 0;
    }
    struct TestSuiteD1_id {};

    static boost::unit_test::ut_detail::auto_test_unit_registrar
      TestSuiteD1_registrar0 ( boost::unit_test
      ::make_test_case(&fTestSuiteD1_invoker , "TestSuiteD1" ),
      boost::unit_test::ut_detail::auto_tc_exp_fail<TestSuiteD1_id
      >::instance()->value() ); 

    static test_unit* TestSuiteD2_invoker (void) { 
        MyTestSuite MyTS;
        MyTS.TestThis("a" , "b" , "D2" );
        return 0;
    }
    struct TestSuiteD2_id {};

    static boost::unit_test::ut_detail::auto_test_unit_registrar TestSuiteD2_registrar0
      ( boost::unit_test::make_test_case(&fTestSuiteD2_invoker , "TestSuiteD2" ),
      boost::unit_test::ut_detail::auto_tc_exp_fail<TestSuiteD2_id
      >::instance()->value() ); 

BOOST_AUTO_TEST_SUITE_END() 
BOOST_AUTO_TEST_SUITE_END()
BOOST_AUTO_TEST_SUITE_END()
BOOST_AUTO_TEST_SUITE_END() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-21T11:26:54.823

我不确定固定装置是否是正确的方法。看看[BOOST_TEST_CASE_TEMPLATE](http://www.boost.org/doc/libs/1_39_0/libs/test/doc/html/utf/user-guide/test-organization/manual-test-case-template.html)

```
BOOST_TEST_CASE_TEMPLATE_FUNCTION( my_test, T )
{
    BOOST_CHECK_EQUAL( sizeof(T), 4 );
}

test_suite*
init_unit_test_suite( int argc, char* argv[] )
{
    typedef boost::mpl::list<int,long,unsigned char> test_types;

    framework::master_test_suite().
        add( BOOST_TEST_CASE_TEMPLATE( my_test, test_types ) );

    return 0;
} 
```

# .net - 如何迭代实体框架本地项目？

> ID：12351811
> 
> 赞同：0
> 
> 时间：2012-09-10T12:32:54.823
> 
> 标签：.net, entity-framework

我正在使用带有 DbContext 的 EF4.3。

我正在尝试查看本地缓存中的内容，但尽管尝试了几次，我仍然收到运行时错误消息。

这是我的最后一次尝试：

```
 var entity = Uow.Context.Set<Store>().Local;
    foreach (var store in entity)
    {
        Response.Write(store.StoreId + "<br>");
    } 
```

有人帮忙吗？

商店类

```
public partial class Store
{
    public Store()
    {
        this.Deals = new HashSet<Deal>();
        this.StoreSubcategories = new HashSet<StoreSubcategory>();
    }

    public int StoreId { get; set; }
    public int StoreStatusId { get; set; }
    public int ContentSourceId { get; set; }
    public string Name { get; set; }
    public string Subdomain { get; set; }
    public string Domain { get; set; }
    public string HomePage { get; set; }
    public string BackColour { get; set; }
    public string ForeColour { get; set; }
    public System.DateTime ActiveFrom { get; set; }
    public Nullable<System.DateTime> ActiveUntil { get; set; }
    public System.DateTime CreatedOn { get; set; }

    public virtual ICollection<Deal> Deals { get; set; }
    public virtual Stores_Partner Stores_Partner { get; set; }
    public virtual ICollection<StoreSubcategory> StoreSubcategories { get; set; }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T13:20:43.220

实体类和类似名为“商店”的 aspc 页面之间的冲突。

# objective-c - 可从 uinavigationView 中的所有视图访问的通用“帮助”视图

> ID：12351814
> 
> 赞同：1
> 
> 时间：2012-09-10T12:33:24.727
> 
> 标签：objective-c, ios, ipad, uiwebview, uinavigationcontroller

假设应用程序有许多视图推送到 uinavigationViewController，每个视图的内容都不同。

由于应用程序中的元素很复杂，我想为特定视图或特定视图中的元素显示一个小的帮助视图。想象一个“？” 按下该按钮时，将在屏幕中央弹出一个新视图，播放 youtube 帮助视频，或者只是从远程服务器加载的文本 HTML。

问题：做这种事情的最佳策略是什么？我应该在哪里放置此代码（App Delegate？）

如果是这样，我将如何从其他视图中调用它（使用 URL 参数）

```
-(void)showHelpView:(NSString *)theURLString{

    UIWebView *webView = [[UIWebView alloc] initWithFrame:CGRectMake(0, 0, 800, 600)];

    //webView.delegate= self;
    [webView  loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:theURLString]]];
    [window addSubview:webView];
    [window makeKeyAndVisible];
}
- (void)webViewDidStartLoad:(UIWebView *)webView
{

}
- (void)webViewDidFinishLoad:(UIWebView *)webView
{

}
- (void)webView:(UIWebView *)webView didFailLoadWithError:(NSError *)error
{
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T13:15:59.237

我更喜欢使用伪模态视图。这样您每次都创建视图，并将其添加到当前窗口的顶部。我在上一个应用程序中将这种方法用于 OAuth 2.0 授权弹出窗口。

基本上你创建自定义 UIViewController 子类，提供自定义初始化器，例如：

```
// - (id) initWithURL: (URL*)url {
// ...
// self.url = url;
// ...
// return self;

PseudoModalViewController* pmvc = [[PseudoModalViewController alloc] initWithURL:@"http://www.google.com/"]; 
```

创建视图后，将其添加到当前窗口的顶部：

```
UIWindow* window = [[UIApplication sharedApplication] keyWindow];
if(!window)
{
    window = [[[UIApplication sharedApplication] windows] objectAtIndex:0];
}
[window addSubview:pmvc.view]; 
```

例如，在 viewDidLoad 中，您加载在初始化程序中获得的 url：

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    [self.webView loadRequest:[NSURLRequest requestWithURL:url]];
} 
```

你甚至可以为此在 Interface Builer 中设计 UI。作为最后一部分，我建议添加包括全屏透明背景视图，以确保禁用下面的所有视图。

哦，差点忘了，你只用一个简单的`[self.view removeFromSuperview]`. 不要忘记为该视图提供正确的内存管理（即及时释放它等）。

# java - Java 性能难题：包装类比原始类型快？

> ID：12351816
> 
> 赞同：2
> 
> 时间：2012-09-10T12:33:29.190
> 
> 标签：java, performance, benchmarking, primitive-types, visitor-pattern

为了实现一些图像分析算法而不必过多担心数据类型（即没有太多重复代码），我正在为 Java 中的原始数组设置访问者模式。

在下面的示例中，我定义了两种类型的访问者

*   原始类型，其中`visit`方法的签名是`visit(int, int double)`
*   泛型类型，其中`visit`方法的签名是`visit(int, int Double)`.

Appart 由此，两个访问者执行完全相同的操作。我的想法是尝试衡量装箱/拆箱的成本。

所以这是完整的程序

```
public class VisitorsBenchmark {
    public interface Array2DGenericVisitor<TYPE, RET> {

        void begin(int width, int height);

        RET end();

        void visit(int x, int y, TYPE value);
    }

    public interface Array2DPrimitiveVisitor<RET> {

        void begin(final int width, final int height);

        RET end();

        void visit(final int x, final int y, final double value);
    }

    public static <RET>
        RET
        accept(final int width,
               final int height,
               final double[] data,
               final Array2DGenericVisitor<Double, RET> visitor) {

        final int size = width * height;
        visitor.begin(width, height);
        for (int i = 0, x = 0, y = 0; i < size; i++) {
            visitor.visit(x, y, data[i]);
            x++;
            if (x == width) {
                x = 0;
                y++;
                if (y == height) {
                    y = 0;
                }
            }
        }
        return visitor.end();
    }

    public static <RET> RET accept(final int width,
                                   final int height,
                                   final double[] data,
                                   final Array2DPrimitiveVisitor<RET> visitor) {

        final int size = width * height;
        visitor.begin(width, height);
        for (int i = 0, x = 0, y = 0; i < size; i++) {
            visitor.visit(x, y, data[i]);
            x++;
            if (x == width) {
                x = 0;
                y++;
                if (y == height) {
                    y = 0;
                }
            }
        }
        return visitor.end();
    }

    private static final Array2DGenericVisitor<Double, double[]> generic;

    private static final Array2DPrimitiveVisitor<double[]> primitive;

    static {
        generic = new Array2DGenericVisitor<Double, double[]>() {
            private double[] sum;

            @Override
            public void begin(final int width, final int height) {

                final int length = (int) Math.ceil(Math.hypot(WIDTH, HEIGHT));
                sum = new double[length];
            }

            @Override
            public void visit(final int x, final int y, final Double value) {

                final int r = (int) Math.round(Math.sqrt(x * x + y * y));
                sum[r] += value;
            }

            @Override
            public double[] end() {

                return sum;
            }
        };

        primitive = new Array2DPrimitiveVisitor<double[]>() {
            private double[] sum;

            @Override
            public void begin(final int width, final int height) {

                final int length = (int) Math.ceil(Math.hypot(WIDTH, HEIGHT));
                sum = new double[length];
            }

            @Override
            public void visit(final int x, final int y, final double value) {

                final int r = (int) Math.round(Math.sqrt(x * x + y * y));
                sum[r] += value;
            }

            @Override
            public double[] end() {

                return sum;
            }
        };
    }

    private static final int WIDTH = 300;

    private static final int HEIGHT = 300;

    private static final int NUM_ITERATIONS_PREHEATING = 10000;

    private static final int NUM_ITERATIONS_BENCHMARKING = 10000;

    public static void main(String[] args) {

        final double[] data = new double[WIDTH * HEIGHT];
        for (int i = 0; i < data.length; i++) {
            data[i] = Math.random();
        }

        /*
         * Pre-heating.
         */
        for (int i = 0; i < NUM_ITERATIONS_PREHEATING; i++) {
            accept(WIDTH, HEIGHT, data, generic);
        }
        for (int i = 0; i < NUM_ITERATIONS_PREHEATING; i++) {
            accept(WIDTH, HEIGHT, data, primitive);
        }

        /*
         * Benchmarking proper.
         */
        double[] sumPrimitive = null;
        double[] sumGeneric = null;

        double aux = System.nanoTime();
        for (int i = 0; i < NUM_ITERATIONS_BENCHMARKING; i++) {
            sumGeneric = accept(WIDTH, HEIGHT, data, generic);
        }
        final double timeGeneric = System.nanoTime() - aux;

        aux = System.nanoTime();
        for (int i = 0; i < NUM_ITERATIONS_BENCHMARKING; i++) {
            sumPrimitive = accept(WIDTH, HEIGHT, data, primitive);
        }
        final double timePrimitive = System.nanoTime() - aux;

        System.out.println("prim = " + timePrimitive);
        System.out.println("generic = " + timeGeneric);
        System.out.println("generic / primitive = "
                           + (timeGeneric / timePrimitive));
    }
} 
```

我知道 JIT 非常聪明，所以当两位访问者的表现同样出色时，我并没有太惊讶。更令人惊讶的是，**通用**访问者的执行速度似乎比**原始**访问者稍快，这是出乎意料的。我知道基准测试有时会很困难，所以我一定做错了什么。你能发现错误吗？

非常感谢你的帮助！！！塞巴斯蒂安

**[编辑]**我更新了代码以说明预热阶段（为了让 JIT 编译器完成它的工作）。这不会改变始终低于 1 (0.95 - 0.98) 的结果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T14:30:16.327

小贴士：

*   不要`Math.random()`用于执行基准测试，因为结果是不确定的。你需要 smth like `new Random(xxx)`。
*   总是打印操作的结果。在一次执行中混合基准类型是不好的做法，因为它可能导致不同的调用站点优化（但不是你的情况）
*   **双**辅助 = System.nanoTime(); - 并非所有人都`longs`适合双打 - 正确。
*   发布您执行基准测试的环境和硬件规格
*   在启用打印编译`-XX:-PrintCompilation`和*垃圾收集* `-verbosegc -XX:+PrintGCDetails`的同时打印'staring test' - GC 可以在'错误'测试期间启动，足以扭曲结果。

* * *

*编辑：*

我确实检查了生成的汇编程序，但它们都不是真正的原因。Double.valueOf() 没有分配，因为该方法完全内联并优化了 - 它仅使用 CPU 寄存器。然而，没有硬件规范/JVM，没有真正的答案。

我发现了一个 JVM (1.6.0.26)，其中通用版本 ( `Double`) 具有更好的循环展开 (！)，这是由于更深入的分析（显然需要 EA `Double.valueOf()`）和可能的 WIDTH/HEIGHT 的[恒定折叠](http://www.azulsystems.com/blog/cliff/2012-02-12-too-much-theory)。将 WIDTH/HEIGHT 更改为一些[素数](http://www.wolframalpha.com/input/?i=prime+numbers+greater+than+300)，结果应该不同。

* * *

*底线是*：除非您知道 JVM 如何优化并检查生成的机器代码，否则不要使用微基准测试。

*[免责声明：我不是 JVM 工程师]*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T12:46:45.903

> 我知道基准测试有时会很困难，所以我一定做错了什么。你能发现错误吗？

我认为问题在于您的基准测试没有考虑 JVM 预热。将您的主要方法的主体放入另一个方法中。然后让您的`main`方法在循环中重复调用该新方法。最后，检查结果，并丢弃前几个因 JIT 编译和其他预热效果而失真的结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T14:50:07.090

这是一个完全“疯狂的猜测”，但我认为它与将字节复制到堆栈上有关。传递原始双精度涉及在堆栈上复制 8 个字节。传递 Double 只需要复制指针。

# qt - Qt - 在小部件下滚动文本

> ID：12351819
> 
> 赞同：0
> 
> 时间：2012-09-10T12:33:35.167
> 
> 标签：qt, text, scroll, scrollview, qwidget

任何人都可以尝试解决我的问题。我有一个框架，其中正在滚动文本。现在我在框架的两端添加了 2 个小部件。使用样式表，我将 2 个小部件的颜色更改为黑色。现在我的文本开始在小部件的黑色上方滚动。但我想要做的是，***文本应该在小部件下方开始滚动，***并且应该***在小部件下方滚动结束***。我怎样才能做到这一点？希望你能得到我的问题......特此附上我的框架截图供您参考。请帮助..在此先感谢.!

![在此处输入图像描述](../Images/1f93eed813733305b321ecf3dd6988de.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:40:15.267

您需要设置侧组件的 z 深度。尝试对他们调用 raise()。

# pyrocms - PyroCMS - 显示未来日期的博客文章

> ID：12351825
> 
> 赞同：0
> 
> 时间：2012-09-10T12:33:47.317
> 
> 标签：pyrocms

在我的 PyroCMS 网站上，我想展示将来会出现的摇滚乐队的摇滚表演。我使用条件来检查博客文章的日期（包含摇滚表演信息）是否在未来发生。但显然 PyroCMS 没有显示任何有未来日期的博客文章。我该如何解决这个问题？

在我使用的代码下方：

```
 <h2>Upcoming shows</h2>
    {{ blog:posts category="shows" order-by="created_on" order-dir="asc" }}
        {{ if created_on >= time() }}
            <div class="upcoming_show_info">{{title}}</div>
        {{ endif }}
    {{ /blog:posts }} 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T23:45:09.650

如果你只需要一个肮脏的修复，你必须`posts()`在`system/cms/modules/blog/plugin.php`. 在 2.1 版中，您可以在第 51 行找到它。

```
...
->where('created_on <=', now())
... 
```

变成：

```
...
->where('created_on >=', now())
... 
```

这样，您还可以删除视图文件中的 created_on 检查，因为该插件将仅返回将来的日期帖子。（如果您需要“过去”和“未来”的帖子，只需删除该行）

尽管这是解决问题的一种非常简单的方法，但如果您在 plugin.php 文件中创建一个新函数并在您的视图中使用它会更好。

# jquery - jQuery UI 对话框：如果滚动条可见，则位置错误

> ID：12351828
> 
> 赞同：0
> 
> 时间：2012-09-10T12:33:51.033
> 
> 标签：jquery, jquery-ui, drag-and-drop, jquery-dialog

我有一个带有滚动条的大容器。

带有 jquery UI 的模态对话框应在此容器的中间打开。

对话框打开，但在一次又一次关闭和打开之后，它**会**向上或向下移动（因此它的位置总是错误的）。

我已经从这个线程中添加了[Can JQuery UI Dialog 记住它在打开和关闭](https://stackoverflow.com/questions/989759/can-jquery-ui-dialog-remember-its-position-between-opening-and-closing)以下部分之间的位置：

```
beforeclose: function(){
   $(this).dialog('option', 'position', [$(this).offset().left, $(this).offset().top]);
} 
```

如果我删除了这部分，那么对话框会在始终**在页面顶部****拖动/移动后**打开。

 **另外，如果在底部打开对话框，则动作更加疯狂。

我的代码：

```
$("#btnTest").click(function(){
  if ($("#exec").length == 0) {

            $('body').append('<div id="exec" style="width:320px;background-color: #000;display:none;">xxx</div>');

          $("#exec").dialog({
            width: 320,
            modal: true,
            position: "center",
            show: { effect: "slide", direction: "up", duration: 400 },
            hide: { effect: "slide", direction: "up", duration: 400 }
         });
       } else {
            $("#exec").dialog("open");
        }
 });

$("#btnClose").click(function(){
    $("#exec").dialog('close');
}); 
```

**检查它@jsfiddle：http:** [//jsfiddle.net/EDkk6/4/](http://jsfiddle.net/EDkk6/4/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:39:03.077

重新打开时，模式的顶部位置似乎有 20px 的差异。我相信这是因为 UI 对话框是在父 div 中创建的，您在偏移量中没有考虑到该 div。因此，您需要根据父级获取偏移量，如下所示：

```
beforeclose: function () {
    var $parent = $(this).parent();

    $(this).dialog('option', 'position', [$parent.offset().left,$parent.offset().top]);
} 
```

[现场演示](http://jsfiddle.net/EDkk6/32/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:54:42.373

替换以下行：

```
beforeclose: function(){
   $(this).dialog('option', 'position', [$(this).offset().left, $(this).offset().top]);
} 
```

和：

```
beforeclose: function(){
   $(this).dialog('option', 'position', [$(this).offset().left, $(this).offset().top-20]);
                                                                                     ^^ Added -20 with offset().top
} 
```

[**看演示**](http://jsfiddle.net/akhurshid/YZf6Y/)**

# android-ndk - 更改Android.mk后如何防止Android原生项目完全重建？

> ID：12351830
> 
> 赞同：6
> 
> 时间：2012-09-10T12:33:53.843
> 
> 标签：android-ndk, makefile

我正在编辑我的项目的 Android.mk 以微调一些编译器选项。每次构建过程都是从头开始的。我不想在每次更改后都进行完全重建。有没有办法这样做？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-10T12:48:34.847

GNU`make`可以选择`-o`( [http://unixhelp.ed.ac.uk/CGI/man-cgi?make](http://unixhelp.ed.ac.uk/CGI/man-cgi?make) ) 不重新制作文件文件，即使它比它的依赖项更旧，也不要因更改而重新制作任何东西在文件中。本质上，该文件被视为非常旧，并且其规则被忽略。

这段代码可以解决问题：

```
ndk-build -o jni/Android.mk 
```

# ruby - 如何使用没有 ID 的 capybara 找到一张桌子

> ID：12351831
> 
> 赞同：1
> 
> 时间：2012-09-10T12:33:55.667
> 
> 标签：ruby, capybara

我正在使用 Capybara 在一个网站上进行一些测试，该网站上有一个包含可变数据量并由谷歌可视化生成的表格。该表没有 ID 值，我被告知无法在其中放入 ID 字段。

有没有其他方法可以找到一个表，然后能够在 capybara/ruby 中拉入并查看表中的数据？我知道表中应该包含哪些数据，并想检查它是否显示了正确的结果。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:42:08.877

您可以使用 xpath：

```
find(:xpath, "//table/tr") 
```

或标准查找器，如 jQuery：

```
find("table") 
```

旁注，记住你可以链接`find`调用。

* * *

既然你有一堂课，那就用它吧！

```
find(".class_name")
find(".google-visualization-table-table") 
```

# php - 使用 Postfix 在 Mountain Lion 上发送电子邮件时的配置问题

> ID：12351835
> 
> 赞同：0
> 
> 时间：2012-09-10T12:34:35.560
> 
> 标签：php, linux, macos, email, osx-mountain-lion

我整个下午和今晚都被困在这个问题上，但找不到答案。但我相信这是 Mountain Lion 上的一些简单配置问题。

我想使用 PHP 发送电子邮件，我安装了 PEAR:Mail 包；一切正常。

但是当我尝试用 PHP 发送电子邮件时，它没有返回任何错误；但未收到电子邮件。

我进一步深入研究了这个问题，发现我需要正确设置我的本地 postfix 邮件程序。因此，我按照这些文章进行设置： [http](http://benjaminrojas.net/configuring-postfix-to-send-mail-from-mac-os-x-mountain-lion/#comment-259) ://benjaminrojas.net/configuring-postfix-to-send-mail-from-mac-os-x-mountain-lion/#comment-259 ；当那不起作用时，我改为使用那个：http: [//slashusr.wordpress.com/2012/02/14/enabling-postfix-for-outbound-relay-via-gmail-on-os-x-lion -11/](http://slashusr.wordpress.com/2012/02/14/enabling-postfix-for-outbound-relay-via-gmail-on-os-x-lion-11/)。博文中的基本步骤是通过在 /etc/postfix/main.cf 中进行一些设置来教你如何使用 GMail 发送出去

但是当我用命令在终端中测试它时：

```
date | mail -s test <my_email_address> 
```

什么都没有发生，除了当我再次输入“邮件”时，它提示我一条新消息，告诉我这个错误（部分，只有我认为有用的）：

：主机 smtp.gmail.com[209.85.225.108] 说：需要 530-5.5.1 身份验证。如需了解详情，请访问 530 5.5.1 [http://support.google.com/mail/bin/answer.py?answer=14257](http://support.google.com/mail/bin/answer.py?answer=14257) aa4sm11414435igc.15（回复 MAIL FROM 命令）

--1306515822A0.1347279593/songyy.local Content-Description: 投递报告 Content-Type: message/delivery-status

我访问了错误消息中给出的链接，但这无关紧要。

如果有人能给我一些建议，我将非常感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:55:25.850

> 我想使用 PHP 发送电子邮件，我安装了 PEAR:Mail 包；一切正常。

很好。然后你必须有一个“邮件中继服务器”地址，邮件被发送到该地址。它通常由您的 Internet 提供商提供。

您必须将该地址配置为 Postfix，如`relayhost`. 通常不需要其他设置。

您遵循的方法要复杂得多，因为它需要 Postfix 连接到 GMail 并通过 TLS/SSL 以用户身份进行身份验证。为此，您必须将用户名和密码存储到您的 GMail 帐户（或为此目的创建的另一个帐户）的后缀`passwd`文件中。

GMail 抱怨“需要身份验证”这一事实告诉我们，您要么跳过了这个细节，要么存储了错误的密码；所以GMail 不能通过电子邮件转发过程。

请注意，如果您只使用普通 SMTP，则出站电子邮件将以明文形式发送（与 GMail 使用 SSL 加密相反）。

如果您需要详细了解您的邮件发生了什么，请查看系统日志。

另一件要注意的事情，你说：

> 我通过设置指定了文件： smtp_sasl_password_maps=hash:/etc/postfix/sasl_passwd

该文件需要采用特定格式（在文件本身中记录）。但是，在那之后，您必须*将*文件转换为*hashfile*，它是相同的文件名但`.db`扩展名。有些发行版会自动执行此操作，否则您需要手动运行 postfix 实用程序`postmap`（或在紧要关头，`makemap`）。在你的情况下：

```
postmap -c /etc/postfix /etc/postfix/sasl_passwd 
```

这将把`/etc/postfix/sasl_passwd`它输入并散列到`/etc/postfix/sasl_passwd.db`，*这是 Postfix 检查的实际文件*。您所遵循的教程可能未涵盖此特定细节，并且 Postfix 仍在检查从以前构建的 .db 文件（并且是空的！）`sasl_passwd`。

你说得很对，通过在 PEAR 中指定用户、主机和传递，你有效地覆盖了 Postfix 配置——我认为 Mail 包执行所谓的*直接到 MX*交换，因此甚至根本不需要 Postfix。

日志文件应在 main.conf 中指定，通常为`/var/log/messages`或`/var/log/mail(.something)`。

# python - NumPy 中的模型测量和误差

> ID：12351837
> 
> 赞同：2
> 
> 时间：2012-09-10T12:34:50.140
> 
> 标签：python, numpy, scipy, octave

我想在我的实验室实验中尝试使用 SciPy 套件而不是 Octave 来进行统计。我的大部分问题都[在这里](https://stackoverflow.com/q/12343271/653152)得到了解答，剩下的只是另一件事：

我通常会在测量中附加一个错误，在 Octave 中我只是做了以下操作：

```
R.val = 10;
R.err = 0.1;

U.val = 4;
U.err = 0.1; 
```

然后我会这样计算`I`：

```
I.val = U.val / R.val;
I.err = sqrt(
    (1 / R.val * U.err)^2
    + (U.val / R.val^2 * R.err)^2
); 
```

当我有一堆测量值时，我通常使用结构数组，如下所示：

```
R(0).val = 1;
R(0).err = 0.1;
…
R(15).val = 100;
R(15).err = 9; 
```

然后我可以使用`R(0).val`或直接访问所有这些，例如`R.val`，我有一个包含所有值的列向量`mean(R.val)`。

我如何使用 SciPy/NumPy/Python 来表示这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-23T11:20:38.233

这种错误传播正是[不确定性](http://pythonhosted.org/uncertainties/index.html)Python 包所做的。它通过正确处理*相关性**透明*地做到这一点：

 *```
from uncertainties import ufloat

R = ufloat(10, 0.1)
U = ufloat(4, 0.1)
I = U/R

print I 
```

`0.4+/-0.0107703296143`在自动确定并计算您在示例中手动键入的错误公式后打印。此外，`I.n`和`I.s`分别是标称值 (your `val`) 和标准偏差 (your `err`)。

也可以使用包含不确定数字的数组（[http://pythonhosted.org/uncertainties/numpy_guide.html](http://pythonhosted.org/uncertainties/numpy_guide.html)）。

（免责声明：我是这个包的作者。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T20:13:25.457

最简单的方法确实是使用 NumPy[结构化数组](http://docs.scipy.org/doc/numpy/user/basics.rec.html)，这使您可以定义由其他同类元素（字段）组成的同类元素（记录）的数组。

例如，您可以定义

```
R = np.empty(15, dtype=[('val',float),('err',float)]) 
```

然后填写相应的列：

```
R['val'] = ...
R['err'] = ... 
```

或者，如果您的`val`and`err`在两个列表中，您可以一次定义数组：

```
R = np.array(zip(val_list, err_list), dtype=[('val',float),('err',float)]) 
```

在这两种情况下，您都可以通过索引访问单个元素，例如`R[0]`（这会给您一个特定的对象 a `np.void`，它仍然可以让您单独访问字段），或者通过切片`R[1:-1]`...

使用您的示例，您可以执行以下操作：

```
I = np.empty_like(R)
I['val'] = U['val'] / R['val']
I['err'] = np.sqrt((1 / R['val'] * U['err'])**2 + (U['val'] / R['val']**2 * R['err'])**2) 
```

您还可以使用*记录数组*，它是基本的结构化数组，其中`__getattr__`和`__setattr__`方法以这样的方式重载，您可以将字段作为属性（如 in `R.val`）和索引（如 standard `R['val']`）访问。当然，由于这些基本方法被重载，记录数组不如结构化数组高效。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T12:53:33.547

对于一次测量，简单的[命名元组](http://docs.python.org/library/collections.html#collections.namedtuple)可能就足够了。

而不是结构数组，您可以使用[numpy 的记录数组](http://docs.scipy.org/doc/numpy/user/basics.rec.html)。不过好像有点多嘴了。

此外[，Matlab 用户的 NumPy 谷歌缓存](http://webcache.googleusercontent.com/search?q=cache%3ascipy.org/NumPy_for_Matlab_Users&sugexp=chrome,mod=11&sourceid=chrome&ie=UTF-8)（直接链接对我 atm 不起作用）可以帮助一些基本操作的对应物。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-10T16:02:11.103

Python中有一个用于表示数量和不确定性的包。这叫[数量](http://packages.python.org/quantities/user/tutorial.html)！（也在[PyPI 上](http://pypi.python.org/pypi/quantities)）。*

# wpf - 多绑定到静态属性和非静态 - 列表视图不更新

> ID：12351840
> 
> 赞同：1
> 
> 时间：2012-09-10T12:34:54.123
> 
> 标签：wpf, listview, static, observablecollection, multibinding

我在非静态类 ColorManager（单例）中有一个名为 HeaderColorPairs 的静态 ObservableCollection>。

此属性绑定到 ListView 的 ItemsSource，如下所示：

```
 <ListView.ItemsSource>
            <MultiBinding Converter="{StaticResource xmlFormatter}" ConverterParameter="ColorList">
                <Binding Source="{StaticResource ResourceKey=colorManager}" Path="HeaderColorPairs"></Binding>
                <Binding Path="LogEntryListViewModel.SelectedLogEntry.Model.RawXml"></Binding>
            </MultiBinding>
        </ListView.ItemsSource> 
```

这就是转换方法：

```
public object Convert(object[] value, Type targetType, object parameter, CultureInfo culture)
    {
        //parameter = outputtype
        parameter = (parameter == null) ? "" : parameter;
        string rawXml = value[1].ToString();
        if (rawXml != DependencyProperty.UnsetValue.ToString() && rawXml != string.Empty)
        {
            OutputTypes opt = (OutputTypes)Enum.Parse(typeof(OutputTypes), parameter.ToString().Length.ToString());
            if (opt == OutputTypes.Xml)
            {
                RawXmlFormatter rxf = new RawXmlFormatter(rawXml);
                return rxf.XmlStringArrayToRunList();
            }
            else if (opt == OutputTypes.ColorList)
            {
                return ColorManager.GetColorsRelatedToXml(rawXml);
            }
        }
        return null;
    }

public static ObservableCollection<KeyValuePair<string, Color>> GetColorsRelatedToXml(string rawXml)
    {
        List<string> headerList = RawXmlFormatter.GetHeadersFromRawXml(rawXml);
        SetUnsetColors(headerList);
        return new ObservableCollection<KeyValuePair<string, Color>>(HeaderColorPairs.Where(kvp => headerList.Contains(kvp.Key)));
    } 
```

绑定效果很好，它显示 ObservableCollection 正确，但如果我在代码隐藏中更改集合，ListView 不会更新。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T08:57:18.270

我现在使用的是非静态属性，而不是单例模式（也可以），它可以完美地工作。问题解决了；）

# python - Python：将不同的作业提交到不同的 CPU

> ID：12351847
> 
> 赞同：0
> 
> 时间：2012-09-10T12:35:07.527
> 
> 标签：python

我有一个`atoms.out`执行某些功能的 fortran 文件。我在 python 中调用该 fortran 文件：

```
values = subprocess.Popen(["./atoms.out", "./%s.klj" % test1, "./%s.out" % test1], stdout = subprocess.PIPE) 
```

我看过[Python PP](http://www.parallelpython.com/content/view/15/30/)，但我认为这不是我想要的，因为它使用 n 个 CPU 来完成一项工作。

fortran 文件进行的计算不是独立的，不能与`python pp`

所以我的问题是如何向多个不同的 CPU 提交多个作业，例如我有：7 个文件，我想在 4 个 CPU 上运行。

因此，每个作业分布为：

```
File1 -> CPU1
File2 -> CPU2
File3 -> CPU3
File4 -> CPU4 
```

然后，当一个作业在 CPU 上完成时，它会替换为剩余的 3 个要运行的文件。Say`File1`完成`CPU1`后被 替换`File5`，因此工作分配如下所示：

```
File5 -> CPU1
File2 -> CPU2
File3 -> CPU3
File4 -> CPU4 
```

依此类推，直到它完成对 7 个文件的 fortran 文件的运行。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-10T12:41:59.900

使用`multiprocessing.pool.ThreadPool`该类创建一个由（在您的情况下）四个线程组成的线程池。使用 eg将任务提交`subprocess.Popen`到池中`pool.map`。然后，Python 中的四个线程将分别生成一个 Fortran 进程。

# magento - 添加一个magento布局

> ID：12351850
> 
> 赞同：0
> 
> 时间：2012-09-10T12:35:25.227
> 
> 标签：magento, layout, magento-1.7

如何在 magento 系统上添加布局？我想添加一个新的布局，它也可以从管理面板中选择。

我正在尝试在网站上进行两种布局。一种带横幅的布局，另一种不带横幅的布局。可以说我想要

`2Columns-right.phtml`和`2Column-right-wBanner.phtml`

如何添加这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T13:44:01.820

为此，您需要创建一个自定义模块。

在模块 etc/config.xml 中复制以下代码：

```
<?xml version="1.0"?>
<config>
    <global>
    <page>
        <layouts>
            <custom_layout_wbanner>
                <label>Custom Layout Banner</label>
                <template>page/2Column-right-wBanner.phtml</template>
            </custom_layout_wbanner>
        </layouts>
    </page>
    </global>
</config> 
```

希望这有帮助！

# php - 如何使用 getLatitude() 返回的双精度值等 GPS 数据？

> ID：12351851
> 
> 赞同：0
> 
> 时间：2012-09-10T12:35:26.380
> 
> 标签：php, android, mysql, gps, location

我一直在寻找答案，但也许我只是没有使用正确的术语。我正在创建一个应用程序，它将访问数据库以返回在用户位置一定距离内的其他用户列表。我从来没有使用过这种类型的数据，我真的不知道这些值的含义。我想使用 MySQL 或 PHP 在后端进行所有计算。目前，我将纬度和经度作为双精度存储在数据库中。我可以访问它们并存储它们，但我不知道如何根据距离对它们进行排序。也许我应该使用该领域常见的不同类型或某种技术。TIA。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:40:09.720

听起来您需要使用[haversine公式](http://en.wikipedia.org/wiki/Haversine_formula)来获取两组长/纬度坐标之间的距离（调整地球曲率）。

如果您使用它作为输出运行查询，您可以轻松地根据与用户的最小距离对它们进行排序。

这是用 9 种常用语言实现[hasrsine](http://www.codecodex.com/wiki/Calculate_Distance_Between_Two_Points_on_a_Globe)的链接，这是一个在 SQL 查询中实现它[的 SO question 。](https://stackoverflow.com/questions/574691/mysql-great-circle-distance-haversine-formula)

这是您可以适应的查询（从最近到最远的顺序获取 25 英里内的任何内容）：

```
SELECT 
    id, 
    ( 3959 * acos( cos( radians(37) ) * cos( radians( lat ) ) * cos( radians( lng ) - radians(-122) ) + sin( radians(37) ) * sin( radians( lat ) ) ) ) AS distance 
FROM 
    markers 
HAVING 
    distance < 25 
ORDER BY 
    distance 
LIMIT 
    0 , 20; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T21:35:32.763

我建议使用 Vicenty 的逆公式（[http://en.wikipedia.org/wiki/Vincenty](http://en.wikipedia.org/wiki/Vincenty) 's_formulae）而不是 Haversine Great Circle 距离，因为 Vincenty 已被证明更准确（Vincenty 假设地球是一个扁球体一个完美的球体，这更准确）。

这是公式的原始文森蒂论文： [http](http://www.ngs.noaa.gov/PUBS_LIB/inverse.pdf) ://www.ngs.noaa.gov/PUBS_LIB/inverse.pdf - 第 4 节

这是来自 Android 平台的实际代码，用于计算 distanceTo(Location) 的距离，它使用 Vincenty 的反公式：[https ://github.com/android/platform_frameworks_base/blob/master/location/java/android/location/位置.java#L272](https://github.com/android/platform_frameworks_base/blob/master/location/java/android/location/Location.java#L272)

至于基于数据库查询的排序距离，为了获得最佳性能，您需要使用允许空间查询的空间数据库。MySQL 有一个空间数据库插件： [http ://dev.mysql.com/doc/refman/5.0/en/spatial-extensions.html](http://dev.mysql.com/doc/refman/5.0/en/spatial-extensions.html)

查看这篇文章，它应该为您提供从那里开始的详细信息，包括使用 Vicenty 的精度说明： [PHP/MySQL 中的地理搜索（距离）（性能）](https://stackoverflow.com/questions/5236921/geo-search-distance-in-php-mysql-performance)

# c# - C# 将字符串转换为 HTML

> ID：12351852
> 
> 赞同：1
> 
> 时间：2012-09-10T12:35:34.043
> 
> 标签：c#, html

我有一个包含 HTML 格式内容的字符串。

现在我想将该字符串转换为 HTML，我可以使用`HtmlElementCollection`

是否可以？如果是，那么如何？

请解释。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:37:36.153

看看[HtmlAgilityPack](http://htmlagilitypack.codeplex.com/)。更多信息可以在[其他类似问题](https://stackoverflow.com/questions/846994/how-to-use-html-agility-pack)的答案中找到。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:43:55.077

当您将该字符串推送到将内容呈现为 HTML 的环境中时，该字符串将作为 HTML 处理。

当您将字符串的内容推送到不处理 HTML 的环境或明确表示不希望它呈现为 HTML 时。它将呈现为纯文本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-16T06:45:04.783

使用`HTMLAGILITYPACK`和使用以下内容：

```
var st1 = stringdata; // your html formatted string
HtmlDocument doc = new HtmlDocument();
doc.LoadHtml(st1); // this is now html doc 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-11-20T19:54:38.177

如果有人仍然为此锁定

为此，只需在下面显示 HTML 的地方键入代码

**@((标记字符串)htmlString)**

//htmlString => 具有 HTML 格式内容的字符串

//在 dotnet 的最后一个版本（现在 6.0）上使用 blazor 服务器测试

# sql - SQL 报告中的多个图表

> ID：12351854
> 
> 赞同：4
> 
> 时间：2012-09-10T12:35:42.650
> 
> 标签：sql, reporting-services

我正在 SQL Reporting Services 2012 中准备一份报告，我想根据我拥有的数据显示可变数量的图表。

所以，（简化的）数据源看起来像

```
ID Name    Group       Sales
=============================
1  apples   fruit        15
2  bananas  fruit        25
3  carrots  vegetable    10
4  brocolli vegetable    19
5  tuna     fish         15 
```

对于每个组 - 根据名称和值显示图表：

*   图 1 - 水果销售
*   图 2 - 蔬菜销售
*   图 3 - 鱼类销售
*   等等...

但我不想对组名进行硬编码 - 如果将新组添加到数据库中，报告中应该会弹出一个新图表。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-10T12:44:44.410

根据您在“组”上的数据集分组创建一个表，然后将图表嵌入到表中，SSRS 应该负责其余的工作。

# c# - 合并sql server ce数据库

> ID：12351856
> 
> 赞同：0
> 
> 时间：2012-09-10T12:35:48.923
> 
> 标签：c#, wcf, sql-server-ce

我们能否创建一个 WCF 服务来在后台线程中合并 sqlserverce 数据库。我有 GUI，它从网络中的各种目录和事件处理程序中选择一组 sdf 数据库到 cmd，以便在日期范围之间合并这些目录中的数据库。sdf 数据库的结构在所有目录中都是相同的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T13:44:10.970

好的......我试图让我的评论变得有趣，但我会提供一个更好的答案。

我不知道将数据库与 C# 代码合并在一起的任何“魔术”命令。您可以编写自己的逻辑来合并数据库。代码看起来像这样。

*   从数据库中获取表列表。
*   遍历表列表并获取元数据
*   添加逻辑以跳过任何只读列，例如标识列和计算字段
*   从源表中获取数据
*   将数据写入目标表

我真的需要更多信息来提供更多帮助。例如，

*   您是将所有数据库合并到一个原始数据库中，还是创建一个包含所有数据库中所有数据的全新数据库？
*   您需要先创建目标数据库还是它已经存在？
*   如果它已经存在，您是否需要清理数据库中已经存在的数据？

一旦编写了执行合并的逻辑，如何调用代码是您的选择。.Net 提供了从 Web 服务调用逻辑的能力，并提供了在后台线程中运行代码的方法。您可以通过多种方式实现此功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T14:46:03.937

这*正是*[SQL Server 集成服务](http://en.wikipedia.org/wiki/SQL_Server_Integration_Services)的设计目的。SSIS 具有用于连接到 SQL CE 的源适配器和目标适配器。

# excel - Access/Excel 中的用户安全 - 检索域/计算机名称

> ID：12351858
> 
> 赞同：1
> 
> 时间：2012-09-10T12:35:54.910
> 
> 标签：excel, vba, ms-access

我使用的是 environ("username")，然后移至：

```
Private Declare PtrSafe Function apiGetUserName Lib "advapi32.dll" Alias "GetUserNameA" (ByVal lpBuffer As String, nSize As Long) As Long

Function fOSUserName() As String
' Returns the network login name
Dim lngLen As Long, lngX As Long
Dim strUserName As String
strUserName = String$(254, 0)
lngLen = 255
lngX = apiGetUserName(strUserName, lngLen)
If (lngX > 0) Then
    fOSUserName = Left$(strUserName, lngLen - 1)
Else
    fOSUserName = vbNullString
End If
End Function 
```

但我希望能够检查域是什么，如果它是一个实际的域或只是一个本地机器名称等......这可能吗？

我已经就设置域组/安全组等进行了讨论，所以不需要关于这些的输入谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T18:00:26.970

好吧，`Environ("USERDOMAIN")`应该得到域名，但如果你想使用 api 声明，那么你需要：

```
Private Declare Function LookupAccountName Lib "advapi32" Alias "LookupAccountNameA" (ByVal lpSystemName As String, _
    ByVal lpAccountName As String, Sid As Byte, cbSid As Long, ByVal DomainName As String, _
    cbDomainName As Long, peUse As Long) As Long 
```

一个例子可以在[这里找到](http://www.vbaexpress.com/forum/showthread.php?t=19685)

# java - Java逻辑问题

> ID：12351862
> 
> 赞同：2
> 
> 时间：2012-09-10T12:36:07.520
> 
> 标签：java, loops

我正在研究一种查找给定值的第一个实例并返回其位置的方法。它适用于某些情况，但如果我给它一个 [1,2,3] 数组，并将值设置为 2，它会返回 0，而不是 1。我也不知道为什么。这是代码：

```
int b = 0;
for(int a = 0; a < values.length; a++) {
    if (values[a] == find){
        b++;
    }
}
return b-1; 
```

提前致谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-10T12:38:32.473

这是因为您要返回 b-1。事实上，如果你需要找到相同的实例并返回索引，你甚至不需要变量 b。您可以通过以下方式实现此目的：

```
for( int a = 0; a < values.length; a++) {

if (values[a] == find){
   return a;
 }
}

return -1 // Notfound
} 
```

添加`return -1`未找到值时的行，用作标记值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T12:39:05.337

尝试

```
for( int a = 0; a<values.length; a++) {
    if (values[a] == find){
        return a;
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T12:43:06.123

为什么不返回`a`自己而不是做`b-1`;

也许您也可以添加一个`break`语句来停止迭代，因为您只需要第一个实例的位置

```
 int b=0,result;
    for( int a = 0; a<values.length; a++)
    {

    if (values[a] == find)
     {
       result=a;
       break;
     }
    }

 return result; 
```

# excel - 比较 Excel 中的两列 (A & D)。如果匹配，则删除一行，如果不匹配，则用蓝色突出显示

> ID：12351863
> 
> 赞同：0
> 
> 时间：2012-09-10T12:36:19.347
> 
> 标签：excel

我有四列（A、B、C 和 D）中的数据。D 列中的大多数单元格是空的，但有些是数据。

首先，我想将 D 列的数据与 A 列进行比较。如果数据匹配，则删除与数据相对应的 A 列的整行……如果不匹配，则 D 列的数据应以蓝色突出显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T13:04:13.377

创建一个新工作表
复制所有需要的数据，以防万一出现问题。
按`Alt`+`F11`进入 Visual Basic 编辑器。
在左侧窗格中单击鼠标右键。
插入一个模块。
双击新模块（通常称为“Module1”）
复制并添加以下代码；

* * *

```
Function DeleteDuplicates()

Dim wsSheet As Worksheet

Set wsSheet = ThisWorkbook.Worksheets(1) 'Change this to reflect the correct sheet number

wsSheet.Select

Dim i As Integer

i = 1 'Iterator
Dim Str As String

While (Not wsSheet.Cells(i, 1).Value = "") 'Stop when you run out of column A

    If (wsSheet.Cells(i, 1).Value = wsSheet.Cells(i, 4).Value) Then ' Col A = Col B
        Str = CStr(i) & ":" & CStr(i)
        wsSheet.Range(Str).Delete Shift:=xlUp 'Delete Row:Row
        i = i - 1
    Else 'Blank or Different
        Str = CStr(i) & ":" & CStr(i)
        wsSheet.Cells(i, 4).Interior.ColorIndex = 41 '41 = Mid Blue
        wsSheet.Cells(i, 4).Interior.Pattern = xlSolid
    End If

    i = i + 1 'Increment

Wend

End Function 
```

* * *

设置电子表格索引号，你会很好，所以按`F5`。

# wpf - 需要帮助更改 wpf 动画的代码

> ID：12351870
> 
> 赞同：1
> 
> 时间：2012-09-10T12:36:48.257
> 
> 标签：wpf

我是 wpf 的初学者。我从 wpf 动画网站获得了代码。动画在停靠面板加载时开始。我想改变动画播放时间。我希望当用户单击椭圆然后动画开始，当用户单击停靠面板时动画将停止。这里是代码。

```
<Window x:Class="WpfApplication1.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="MainWindow" Height="350" Width="525">
<Grid>
    <DockPanel>
        <Ellipse Width="200" Height="200" Name="MyEllipse">
            <Ellipse.Fill>
                <RadialGradientBrush >
                    <GradientStop Offset="0" Color="#CCCCCCCC" />
                    <GradientStop Offset="0.5" Color="white" />
                    <GradientStop Offset="1" Color="black"/>
                </RadialGradientBrush >
            </Ellipse.Fill>
        </Ellipse>
        <DockPanel.Triggers>
            <EventTrigger RoutedEvent="Page.Loaded">
                <BeginStoryboard Name="MyBeginStoryBoard">
                    <Storyboard Name="MyStoryBoard">
                        <DoubleAnimation Storyboard.TargetName="MyEllipse" Storyboard.TargetProperty="(Ellipse.Height)" 
           From="0" To="200" AutoReverse="true"
           RepeatBehavior="0:0:10" BeginTime="0:0:0" />
                        <DoubleAnimation Storyboard.TargetName="MyEllipse" Storyboard.TargetProperty="(Ellipse.Width)" 
           From="0" To="200" AutoReverse="true"
           RepeatBehavior="0:0:10" BeginTime="0:0:0" />
                    </Storyboard>
                </BeginStoryboard>
            </EventTrigger>
        </DockPanel.Triggers>
    </DockPanel>
</Grid> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T13:35:44.337

将`RoutedEvent`改为`PreviewMouseDown`代替`Page.Loaded`。

**编辑：** 您可以通过将此触发器添加到`DockPanel.Triggers`：

```
<EventTrigger SourceName="MyEllipse" RoutedEvent="Ellipse.PreviewMouseDown">
    <StopStoryboard BeginStoryboardName="MyBeginStoryBoard" />
</EventTrigger> 
```

这将让您通过单击 来停止动画`Ellipse`。有关暂停/恢复等的示例，请参阅[MSDN 。](http://msdn.microsoft.com/en-us/library/ms652901%28v=vs.100%29.aspx)

# jquery - jQuery 日期选择器不随页面滚动移动

> ID：12351871
> 
> 赞同：12
> 
> 时间：2012-09-10T12:36:50.493
> 
> 标签：jquery, datepicker

我正在使用标准的 jQuery UI 日期选择器，但是当我滚动页面时，日期选择器保持固定。任何想法如何解决这个问题？

[http://jsfiddle.net/jbK6a/3/](http://jsfiddle.net/jbK6a/3/)

问候， 尼尔

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-10T12:56:19.623

问题是日期选择器在with**之外**。如果日期选择器是在容器内生成的，这不会有问题。`div``overflow: scroll;`

解决方案：http: [//jsfiddle.net/jbK6a/15/](http://jsfiddle.net/jbK6a/15/)

我将日期选择器放在事件的输入后面`beforeShow`。

我`position: relative;`在可滚动容器上使用，以便绝对元素监听容器。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-10T12:57:34.283

稍微摆弄一下，我设法得到了以下信息：

[http://jsfiddle.net/jbK6a/12/](http://jsfiddle.net/jbK6a/12/)

使用它，日期选择器将自己隐藏在页面滚动中。我相信有 jQuery 方法来确定滚动位置，所以稍微摆弄一下，你可以手动操作 datepicker 并根据这个值更新它的位置......

**更新**：只是摆弄了一下，得到： http: [//jsfiddle.net/jbK6a/18/](http://jsfiddle.net/jbK6a/18/)滚动日期选择器，但它真的很乱，任何数量的东西都会破坏它，尤其是其他可折叠的元素。幸运的是，Sem 有一个更好、更清洁的解决方案 :)

（我想我还是会添加我的代码）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-10-30T16:35:42.637

为了在 jQuery UI 1.11.4 中解决这个问题，我在 datepicker 实例化的末尾添加了一个 .bind() 事件：

```
$("*selector*").datepicker({
  *settings*
}).bind('click',function () {
  $("#ui-datepicker-div").appendTo("*other-selector*");
}); 
```

就我而言，“其他选择器”是 $(this).closest(' *the-date-input-parent* ')。这会拾取单个 #ui-datepicker-div 框（jQuery UI 放置在 DOM 的末尾）并将其移动到文档中的其他位置。这可以为同一页面上的多个日期选择器完成。

*other-selector*应该有 position: relative ; 设置以使绝对定位的#ui-datepicker-div 相对于新父级定位。一旦这样，它滚动就好了。

这个解决方案是解决这个问题的最简单方法（尽管它花费了很多时间和搜索来得出这个结论）并且允许日期选择器在移动设备和平板电脑上正常工作，否则它将无法使用。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-07-28T11:10:33.977

只需从 html 选择器中删除 height: 100% 规则。这样就解决了问题。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-09-22T12:01:35.787

使用**daterangepicker**插件，我们必须添加新选项**parentEl**

```
 <div class="container">
        <h2>Modal Example</h2>
        <!-- Button to Open the Modal -->
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
            Open modal
        </button>

        <!-- The Modal -->
        <div class="modal" id="myModal">
            <div class="modal-dialog">
                <div class="modal-content">

                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Modal Heading</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal body -->
                    <div class="modal-body">
                        <input type="text" name="dates" value="01/01/2018 - 01/15/2018" />

                    </div>

                    <!-- Modal footer -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                    </div>

                </div>
            </div>
        </div>

    </div>

    <script>
        $(function() {
            $('input[name="dates"]').daterangepicker({
                parentEl: $('#myModal'),
                showDropdowns: true,
            });

        });
    </script> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-11-01T18:36:10.153

使用 Bootstrap 和 datepicker 找不到关于此问题的任何答案，当在模式上滚动时 datepicker 与元素保持连接时存在问题。这是我的解决方案：

```
 var dateModals = (function() {
    'use strict';

    var currentInput = '';

    var setPos = function() {
        if (currentInput === '') return false;
        var $datepicker = $('.datepicker');
        var topPos = currentInput.offset().top + currentInput.outerHeight();
        if ($datepicker.hasClass('datepicker-orient-bottom')) {
            topPos -= $datepicker.outerHeight() + currentInput.parent('.date').outerHeight();
        }
        $datepicker.css('top', topPos);
    };

    var attachEvents = () => {
        $('.modal').on('scroll', function() {
            setPos();
        });

        $('.modal').on('click', '.date input.form-control', function() {
            currentInput = $(this);
        });
    };

    var initialize = (function() {
        attachEvents();
    })();

})(); 
```

如果遵循 Bootstrap 和 Datepicker 语法，这应该可以很好地发挥作用。

# pthreads - MPI 中的线程

> ID：12351876
> 
> 赞同：0
> 
> 时间：2012-09-10T12:37:18.630
> 
> 标签：pthreads, mpi

嗨，我写了一个 MPI 快速排序程序，它的工作原理是这样的：

在我的集群中，“主节点”将划分整数数据并将这些数据发送到“从节点”。在从节点接收后，每个从节点将执行单独的排序操作并将排序后的数据发送回主节点。现在我的问题是我有兴趣为奴隶引入超线程。

我有来自主人的数据

1.  sub（表示数组）
2.  计数（数组的大小）

现在我已经将 Pthreads 初始化为 where

```
 num_threads=12.
    pthread_attr_init(&attr);
   pthread_attr_setdetachstate(&attr, PTHREAD_CREATE_JOINABLE);
  for (i = 0; i < num_pthreads; i++) {
    if (pthread_create(&thread[i], &attr, new_thread, (void *) &sub[i])) 
    {
       printf("error creating a new thread \n");
       exit(1);
    }
    else
    {
        printf(" threading is successful %d  at node %d \n \t ",i,rank);
    } 
```

并在一个新的线程函数中

```
void * new_thread(int *sub)
{

    quick_sort(sub,0, count-1);
    }
    return(0);
} 
```

我不明白我的方法是否正确。谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T13:25:27.003

您的基本想法是正确的，除了您还需要确定如何从线程中获取结果。

通常，您希望通过`*arg`参数 from传递线程的所有相关信息以完成其任务`pthread_create`。在您的`new_thread()`函数中，`count`变量没有传递给函数，因此在所有线程之间都是全局的。更好的方法是通过 from 传递指向结构的指针`pthread_create`。

```
typedef struct {
    int *sub; /* Pointer to first element in array to sort, different for each thread. */
    int count; /* Number of elements in sub. */
    int done; /* Flag to indicate that sort is complete. */
} thread_params_t

void * new_thread(thread_params_t *params)
{
   quick_sort(params->sub, 0, params->count-1); 
   params->done = 1;
   return 0;
} 
```

`thread_params_t`您将为生成的每个线程填写一个新线程。

另一个必须管理的项目是排序结果。主线程`pthread_join`在每个线程上执行 a 以确保它在继续之前已完成是正常的。根据您的要求，您可以让每个线程直接将结果发送回主线程，或者让主函数从每个线程收集结果并将结果发送回外部工作线程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T13:57:47.470

您可以使用 OpenMP 代替`pthreads`（仅作记录 - 将 MPI 与线程相结合称为*混合编程*）。它是一组轻量级编译器编译指示，可将顺序代码转换为并行代码。几乎所有现代编译器都支持 OpenMP。使用 OpenMP，您可以引入所谓的并行区域。在并行区域的开头创建了一组线程，然后代码继续并发执行，直到并行区域结束，所有线程都被加入，只有主线程继续执行（线程创建和加入是合乎逻辑的，例如它不必在现实生活中像这样实现，大多数实现实际上使用线程池来加速线程的创建）：

```
#pragma omp parallel
{
   // This code gets executed in parallel
   ...
} 
```

您可以`omp_get_thread_num()`在并行块内部使用来获取线程的 ID 并使其计算不同的东西。或者，您可以使用 OpenMP 的工作共享结构之一，如`for`、`sections`等，使其自动划分工作。

OpenMP 的最大优点是不会对源代码进行深度更改，并且它抽象了线程的创建/连接，因此您不必手动进行。大多数情况下，您只需几个 pragma 就可以解决问题。然后您必须在编译期间启用 OpenMP（`-fopenmp`对于 GCC、`-openmp`对于 Intel 编译器、`-xopenmp`对于 Sun/Oracle 编译器等）。如果您不启用 OpenMP 或特定编译器不支持它，您将获得一个串行程序。

[您可以在LLNL](https://computing.llnl.gov/tutorials/openMP/)找到快速但全面的 OpenMP 教程。

# java - Css 菜单在 javascript 上变得透明

> ID：12351877
> 
> 赞同：0
> 
> 时间：2012-09-10T12:37:19.260
> 
> 标签：java, css, menu, transparent

我正在尝试在网站中实现 CSS 菜单，但遇到了问题。

注意：css 在文件中，它是唯一的 javascript 名为[http://w.sharethis.com/button/buttons.js](http://w.sharethis.com/button/buttons.js)并且它也在标题中定义。该菜单称为 cssmenu。

问题是，在那个 css 菜单上，当悬停在**contact**上时，背景颜色是透明的，而且我对这个主题的了解有限，我真的不知道如何解决这个问题。css 菜单不是我创作的，我是在网上找到的。我修改了许多我知道如何修改的属性，但被困在那里。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:42:15.633

您需要提高主菜单的 z-index，`<ul>`使其始终显示在 ShareThis 栏上：

```
ul.cssmenu {
    display: block;
    zoom: 1;
    float: left;
    position:relative; /* allows the z-index to be effective -- http://www.w3.org/wiki/CSS/Properties/z-index */
    z-index:100; /* makes the menu appear above the ShareThis widget */
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:42:35.743

如果我正确理解您的问题，问题是菜单在 z 轴上的位置不正确。

尝试添加类似这样的内容以将其置于按钮之上：

```
.cssmenum {
    z-index: 1000;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T12:47:02.190

z-index 似乎是正确的解决方案，我现在刚刚检查过。

但是我也注意到表格已被用于构建带有社交图标的菜单。我建议创建一个 DIV 并使用 CSS 将其放置在需要的位置。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-10T12:49:36.647

添加 z-index:2;

```
ul.cssmenu, ul.cssmenu ul 
```

在这门课上，你会得到你的结果:-)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-10T12:58:19.407

你必须像这样为你的 z-index 设置一个归零

```
body{position:relative;
z-index:0;} 
```

然后你可以给你的每个菜单一个 z-index

```
.div1{z-index:1;}
.div2{z-index:5;} 
```

# .net - WatiN 和 IE 评论

> ID：12351883
> 
> 赞同：1
> 
> 时间：2012-09-10T12:37:36.783
> 
> 标签：.net, internet-explorer, watin

有什么方法可以通过 WatiN 获取页面源以及 IE 评论？WatiN 公开 DocumentElement.outerHTML 但它包含一个没有注释的文档。

**编辑**当我们通过 IE 中的 View Source 查看 IE 评论时，我们会看到如下内容：

```
<!--[if IE]>
<p>Welcome to Internet Explorer.</p>
<![endif]--> 
```

但是当我们通过 document 对象查看实际呈现的 HTML 时，我们只看到：

```
<p>Welcome to Internet Explorer.</p> 
```

即，IE 注释不包含在呈现的文档中，但通常的 HTML 注释包含。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T17:47:34.300

将此添加到您的代码顶部：

```
using SHDocVw; 
```

并使用它来获取实际的 HTML 内容

```
InternetExplorer internetExplorer = (InternetExplorer)browser.InternetExplorer;
string htmlContent = internetExplorer.Document.documentElement.OuterHTML; 
```

祝你好运。

**编辑：** 看来我误解了你想要什么。在你编辑你的帖子后，我尝试了一些东西。在 Opera 和 Chrome 中打开一个网站，其中包括`<!--[if IE]-->`，然后在控制台中运行此命令：`document.head.innerHTML`. 两种浏览器都使用`[if IE]`.

`System.Net`必须有某种方法来实现这一点，但如果不下载整个页面或其他内容然后阅读其内容，我就找不到解决方案。

**编辑 2：** 我找到了另一种方法，但不确定您是否喜欢该解决方案。看看这段代码： http: [//pastebin.com/4EvLSuEL](http://pastebin.com/4EvLSuEL)

它进行 ajax 调用以加载页面内容，然后将结果粘贴到隐藏的`textarea`. 之后，通过使用 WatiN，`ElementWithTag`我们将该`textarea`值放入我们的字符串`myContent`中。

希望对你有帮助，这是我最擅长的。

# javascript - Javascript window.open 混淆参数？

> ID：12351885
> 
> 赞同：1
> 
> 时间：2012-09-10T12:37:39.357
> 
> 标签：javascript

嗨，我正在那里做一个项目，我发现这样的行：

```
window.open("url/example",false); 
```

但我在 w3schools.com 上看到 window.open 接受四个参数：

[http://www.w3schools.com/jsref/met_win_open.asp](http://www.w3schools.com/jsref/met_win_open.asp)

他们将第二个参数列为*名称*，它接受以下值：

```
name    Optional. Specifies the target attribute or the name of the window. 
```

支持以下值：

```
 _blank - URL is loaded into a new window. This is default
        _parent - URL is loaded into the parent frame
        _self - URL replaces the current page
        _top - URL replaces any framesets that may be loaded
        name - The name of the window 
```

我只是想知道我的代码中的错误代表是什么提前谢谢......对不起，如果不是一个好问题。JS新手。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-10T12:39:15.333

`false`将被类型转换为字符串，即`"false"`.

# ios - iOS 和 Cocos2d：我的应用程序在模拟器上真的很慢，但在设备上很好

> ID：12351894
> 
> 赞同：0
> 
> 时间：2012-09-10T12:38:35.093
> 
> 标签：ios, xcode, cocos2d-iphone, ios-simulator

..我想知道是否应该更改某些设置以使我的 iOS 5.0 应用程序在 iPhone IOS 5.0 模拟器上运行良好。它仅以 12fps 运行，而在我的设备上以 60fps 运行。有什么帮助吗？我原以为模拟器可以正常工作..

我正在使用 XCode 4.3 和 Mac OS X 10.7.3。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-10T20:15:03.230

模拟器性能完全和完全无关。模拟器在 Mac 的 CPU 上运行，比最快的 iOS 设备快数倍。然而，模拟器不使用硬件图形加速，因此即使你的 Mac 速度快得多，它也很容易达到极限。最后，您的应用程序的哪些用户将在模拟器上运行您的应用程序？答：没有人！

话虽如此，仍有理由感到震惊。您在设备上获得 60 fps，这很棒。但是哪个设备？如果是 iPhone 4S 或 iPad 3，则该设备比 iPhone 3GS（甚至更旧的设备）或 iPad 1 等旧设备快得多。因此，取决于您正在开发的旧设备是哪个设备，您可能仍然有一个问题。尝试找到或借用这样的设备，并在最旧的受支持设备上对其进行测试，并且仅使用发布版本进行测试。

考虑以下事实：

*   模拟器性能很差
*   视网膜模拟器性能更差
*   iPad Retina Simulator 性能超越优秀和安卓
*   您很可能是唯一一个在 iOS 模拟器中运行您的应用程序的人

所以：

*   模拟器性能无关紧要
*   模拟器性能无法与设备性能相提并论
*   *模拟器*用于更快地测试您的应用程序的业务逻辑，仅此而已。甚至三星都没有复制它。

此外：

*   调试构建性能在很大程度上无关紧要。至少在发布版本中验证性能测量。
*   在最旧的受支持设备上进行测试。否则，您无法知道您正在测试的设备上的上一代设备是否仍可渲染 60 fps 或仅渲染 20 fps。这是很有可能的。

最后，回答您的实际问题：您唯一*能做*的就是确保您运行标准（即非 Retina）分辨率模拟器。除了拥有（更快）CPU的Mac之外，您真的无能为力。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-10T12:45:35.830

对于图形，当然是标准杆。不要使用模拟器进行任何用户体验验证，但要坚持使用设备。不要浪费一分钟试图调整您的工作站设置或寻找提高模拟器性能的方法。无论如何，您毕竟没有尝试部署到设备？

某些功能在模拟器上运行得更快（当然取决于您的工作站），例如数据或计算密集型功能。与往常一样，在您的设备上进行基准测试，不要被“合适的”模拟器性能所迷惑。

# windows-phone-7 - 在 windows phone 7 中处理 HTTPS 请求

> ID：12351895
> 
> 赞同：0
> 
> 时间：2012-09-10T12:38:35.430
> 
> 标签：windows-phone-7, windows-phone-7.1

我们有仅支持 HTTPS 请求的 ASP.Net 通用处理程序。

例子：`https://{domainname}/userservice/getfriends.ashx`

请提出一个解决方案，用于在 Winows Phone 7.1 中使用`HttpWebRequest`. 当我绑定 https 图像（`https://{domainname}/userserivce/23232.jpg`仅作为示例）时，它会引发错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T16:25:59.347

您的 SSL 证书是[由 Windows Phone 信任的根证书颁发机构](http://msdn.microsoft.com/en-us/library/windowsphone/develop/gg521150%28v=vs.92%29.aspx)签名的（例如：威瑞信）还是自签名证书？

如果不是来自有效的受信任的根证书颁发机构，则导出签名根证书，通过电子邮件将其发送到设备，然后安装证书；检查[此答案](https://stackoverflow.com/a/4473799/358596)以获取更多信息。

# teamcity - TeamCity 提供静态 HTML 页面

> ID：12351906
> 
> 赞同：2
> 
> 时间：2012-09-10T12:39:02.560
> 
> 标签：teamcity

我正在寻找一种使用 TeamCity 提供一些静态 HTML 页面的方法。
如果不是绝对必要的话，我不想为此设置一个 apache。

有谁知道访问静态 HTML 内容的简单方法（或 URL 方案）。我找到了以下插件，但它只在现有页面的某些位置插入 HTML 片段。无法包含整页。 [PluginLink 为他人提供帮助。](http://confluence.jetbrains.net/display/TW/StaticUIExtensions)

谢谢你的想法，克里斯

**解决方案：**

*   转到例如 C:\TeamCity\webapps\ROOT
*   创建文件夹，例如静态
*   将文件放入其中（但扩展名 .jsp 即使是 html）
*   将毫无问题地提供服务（在 URL/static/test.jsp 上）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T21:43:33.553

它是一个 Tomcat 服务器，只需进入安装 Teamcity 的文件系统，您应该能够找到可以将一些 html 存放在 Teamcity url 上的位置。

# java - 我需要为 Alfresco Community 4.0 申请单点登录，有人可以给我一些指导或步骤吗？

> ID：12351914
> 
> 赞同：-3
> 
> 时间：2012-09-10T12:39:32.903
> 
> 标签：java, alfresco

我在我的 windows server 2003 上安装了 Alfresco community v4.0。我在 alfresco 中配置了 LDAP，现在我需要配置单点登录。那么有人可以给我一些关于这方面的细节，这对我很有帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T10:38:03.290

它取决于您的系统配置（LDAP、AD、kerberos 等外部系统等），但在全局范围内，它应该是这样的：转到`alfresco.global.properties`您的`tomcat/shared/classes/alfresco/extension`目录中的文件（如果您没有这样的文件，只需创建它。然后添加以下行（这取决于您的 LDAP 如何将 userNameFormat 传递给应用程序）：

```
ntlm.authentication.sso.enabled=true

authentication.chain=passthru1:passthru,alfrescoNtlm1:alfrescoNtlm,ldap1:ldap-ad

passthru.authentication.useLocalServer=false
passthru.authentication.domain=yourdomain.local
passthru.authentication.servers=domainControllerResolvedHostname

ldap.authentication.userNameFormat=%s
ldap.authentication.java.naming.provider.url=ldap://yourdomain:port
ldap.authentication.active=false
ldap.authentication.java.naming.factory.initial=com.sun.jndi.ldap.LdapCtxFactory

ldap.synchronization.groupSearchBase=ou\=users,ou=yourGroup,dc=mainGroup,dc=local
ldap.synchronization.userSearchBase=ou\=users,ou=yourGroup,dc=mainGroup,dc=local
ldap.synchronization.userIdAttributeName=sAMAccountName 
```

几点注意事项：

*   userNameFormat = 这里取决于您的用户是使用他们的活动目录用户名还是使用扩展名@yourdomain 登录（例如：%s = johnDoe 或 johnDoe@yourdomain.local）
*   url = 你应该把你的 Active Directory 服务器（IP 或解析的主机名）和使用的端口（通常是 389）放在那里

你应该在这里查看更多信息： [Alfresco Docs Passthru](http://docs.alfresco.com/4.0/index.jsp?topic=/com.alfresco.enterprise.doc/tasks/auth-example-passthu.html)

# wordpress - 以这种方式列出帖子“domain.com/taxonomy/category”

> ID：12351915
> 
> 赞同：0
> 
> 时间：2012-09-10T12:39:33.473
> 
> 标签：wordpress, url-rewriting

我正在尝试修改 wordpress（3.3 版）以列出具有一种类别和一种分类法的帖子。

我有一个称为“位置”的分类法。如果我做 example.org/location/canada，它可以工作。现在我想要为 example.org/location/canada/category/dogs 重写 url，但我无法实现。

我在functions.php中添加了这段代码：

函数 eg_add_rewrite_rules() { 全局 $wp_rewrite;

```
$new_rules = array(
    'location/(.+)/category/(.+)/?$' => 'index.php?location=' . $wp_rewrite->preg_index(1) . '&category_name=' . $wp_rewrite->preg_index(2)
);
$wp_rewrite->rules = $new_rules + $wp_rewrite->rules; 
```

} add_action('generate_rewrite_rules', 'eg_add_rewrite_rules');

我也添加了这个：

函数 eg_add_query_vars( $query_vars ) { $new_vars = array( 'location' );

```
return array_merge( $new_vars, $query_vars ); 
```

} add_filter('query_vars', 'eg_add_query_vars');

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T13:54:05.127

类别是分类法。所以这取决于你想在那里使用什么分类法。标签，类别，自定义分类。

如果您想创建自定义分类法，您可以。查看[http://codex.wordpress.org/Taxonomies](http://codex.wordpress.org/Taxonomies)

这是注册自定义分类的示例。

```
function people_init() {
// create a new taxonomy
register_taxonomy(
    'people',
    'post',
    array(
        'label' => __( 'People' ),
        'rewrite' => array( 'slug' => 'person' ),
        'capabilities' => array('assign_terms'=>'edit_guides', 'edit_terms'=>'publish_guides')
    )
);
   } add_action( 'init', 'people_init' ); 
```

然后，您将需要编辑您的永久链接。转到设置 > 永久链接。使用自定义，更改 URL 以反映您希望路径显示的方式。

如果您愿意，您可以在此处为您的类别和标签 URL 输入自定义结构。例如，使用主题作为您的类别基础将使您的类别链接类似于[http://example.org/topics/uncategorized/](http://example.org/topics/uncategorized/)。如果您将这些留空，则将使用默认值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T10:07:57.877

问题解决了：

在functions.php 中（或者如果你想在插件中）。

你必须把这段代码重写这个url www.example.org/en/[mylocation]/de/[mycategory]

```
 add_action('init', 'flush_rewrite_rules'); 
  add_filter('category_rewrite_rules' , 'add_rules' ) ;  

  function flush_rules() {

    global $wp_rewrite;
    $wp_rewrite->flush_rules();

  }

  function add_rules($rules) 
  {
    /**
     * Loop em.
     * -------------------------------------------- */    

    $feed_rule  = 'index.php?location=$matches[1]&category_name=$matches[2]&feed=$matches[3]';
    $paged_rule = 'index.php?location=$matches[1]&category_name=$matches[2]&paged=$matches[3]';
    $base_rule  = 'index.php?location=$matches[1]&category_name=$matches[2]';

    $rules['en/([^/]+)/de/([^/]+)/(?:feed/)?(feed|rdf|rss|rss2|atom)/?$'] = $feed_rule;
    $rules['en/([^/]+)/de/([^/]+)/page/?([0-9]{1,})/?$']                  = $paged_rule;
    $rules['en/([^/]+)/de/([^/]+)/?$']                                    = $base_rule;

    $feed_rule2  = 'index.php?location=$matches[1]&feed=$matches[2]';
    $paged_rule2 = 'index.php?location=$matches[1]&paged=$matches[2]';
    $base_rule2  = 'index.php?location=$matches[1]';

    $rules['en/([^/]+)/(?:feed/)?(feed|rdf|rss|rss2|atom)/?$'] = $feed_rule2;
    $rules['en/([^/]+)/page/?([0-9]{1,})/?$']                  = $paged_rule2;
    $rules['en/([^/]+)/?$']                                  = $base_rule2;

    return $rules;

  } 
```

# android - ImportError：没有名为 dtmilano 的模块

> ID：12351918
> 
> 赞同：0
> 
> 时间：2012-09-10T12:39:46.597
> 
> 标签：android, eclipse, pydev, jython, androidviewclient

嗨，我是 python 开发的新手。我正在尝试执行[http://dtmilano.blogspot.in/2012/02/monkeyrunner-interacting-with-views.html](http://dtmilano.blogspot.in/2012/02/monkeyrunner-interacting-with-views.html)给出的代码，但是当我尝试执行代码时，我得到以下错误：

```
Traceback (most recent call last):
  File "C:\Users\gur31265\workspace\MonkeyRunnerForSmartRecorder\com\test\Runner.py", line 23, in <module>
    from com.dtmilano.android.viewclient import ViewClient
ImportError: No module named dtmilano 
```

我将 Eclipse 与 PyDev 和 Jython 2.5.3 一起使用。我还在 Windows 7 机器上运行的 Eclipse 上配置了 Python 32。其他 Python 脚本运行良好，但我不知道为什么 dtmilano 博客上给出的代码会导致此错误。我还安装了 AndroidViewClient 并在系统路径中设置了 ANDROID_VIEW_CLIENT_HOME。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T22:23:47.993

这花了我一点时间来解决。确保在导入 MonkeyRunner 之前将 AndroidViewClient 源目录附加到路径。

以下将失败`ImportError: No module named dtmilano`：

```
from com.android.monkeyrunner import MonkeyRunner, MonkeyDevice
sys.path.append('/path/to/android_view_client_home/src')
from com.dtmilano.android.viewclient import ViewClient 
```

但是，如果您只是切换顺序，它将起作用：

```
sys.path.append('/path/to/android_view_client_home/src')
from com.android.monkeyrunner import MonkeyRunner, MonkeyDevice
from com.dtmilano.android.viewclient import ViewClient 
```

似乎一旦导入`com`MonkeyRunner 的包，它只会在该包中查找`dtmilano`. 但是，如果`com`在您导入任何内容之前这两个包都在路径中，它将知道在这两个位置中查找。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T00:39:10.020

[您可以在http://dtmilano.blogspot.ca/2012/09/monkeyrunner-importing-from-pythonpath.html](http://dtmilano.blogspot.ca/2012/09/monkeyrunner-importing-from-pythonpath.html)从 Eclipse 和 PyDev 以及命令行中找到有关如何使用`PYTHONPATH`和环境变量的详细说明。`ANDROID_VIEW_CLIENT_HOME`

简要地：

```
#!/usr/bin/env monkeyrunner
import re
import sys
import os
import java

# This must be imported before MonkeyRunner and MonkeyDevice,
# otherwise the import fails.
# PyDev sets PYTHONPATH, use it
try:
    for p in os.environ['PYTHONPATH'].split(':'):
       if not p in sys.path:
          sys.path.append(p)
except:
    pass

try:
    sys.path.append(os.path.join(os.environ['ANDROID_VIEW_CLIENT_HOME'], 'src'))
except:
    pass

from com.dtmilano.android.viewclient import ViewClient, View
from com.android.monkeyrunner import MonkeyRunner, MonkeyDevice 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-12T07:56:54.937

使用位于 android SDK 中的 monkeyrunner 来运行您的代码。例如：要编译一个名为 help.py 的文件，请使用以下命令： c:>monkeyrunner help.py 相同的命令也适用于 linux 环境。

# html - UI 组件和画布上下文

> ID：12351921
> 
> 赞同：1
> 
> 时间：2012-09-10T12:40:13.677
> 
> 标签：html, user-interface, canvas

是否可以将 HTML UI 组件绘制到 Canvas (2D) 上下文中？

我想将按钮、列表框、文本输入控件渲染到 2D 画布上下文中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T12:40:44.410

使用标准 HTML 元素这是不可能的。该`canvas`元素仅用于渲染光栅图像。但是，您可以使用画布模拟此行为，但是您需要跟踪所有内容，例如鼠标位置、状态和事件。

# javascript - 用 || 声明变量

> ID：12351928
> 
> 赞同：1
> 
> 时间：2012-09-10T12:40:50.523
> 
> 标签：javascript, variables

> **可能重复：**
> [在 Javascript 中，变量声明中有逻辑运算符是什么意思？](https://stackoverflow.com/questions/3088098/in-javascript-what-does-it-mean-when-there-is-a-logical-operator-in-a-variable)

只是一个快速的问题。当我声明这样的变量时：

```
 var ballctx = ctx['ballctx'] || createCanvas('game-screen', 'ballctx'); 
```

它是先尝试**左侧还是先尝试右侧**？`ballctx`如果 ctx of不存在，我希望它创建一个新画布。如果是这样，它会使用它来代替。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-10T12:43:07.217

左边第一。`||`使用所谓[*的短路评估*](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/Logical_Operators#Short-Circuit_Evaluation)，也称为*最小评估*，这意味着它只会评估表达式的右侧，*如果*左侧为*false*。

来自 ECMAScript 语言规范：

> [**11.11。二元逻辑运算符**](http://ecma-international.org/ecma-262/5.1/#sec-11.11)
> 
> 产生式 LogicalORExpression :`LogicalORExpression || LogicalANDExpression`评估如下：
> 
> 1.  令 lref 为评估 LogicalORExpression 的结果。
> 2.  令 lval 为 GetValue(lref)。
> 3.  **如果 ToBoolean(lval) 为真，则返回 lval。**
> 4.  令 rref 为评估 LogicalANDExpression 的结果。
> 5.  返回 GetValue(rref)。

因此，在你的表达中：

```
ctx['ballctx'] || createCanvas('game-screen', 'ballctx');
^-- lval          ^-- rval 
```

如果`lval` **评估**为`true`，`rval`则不会被评估。换句话说，如果`ctx['ballctx']`评估结果为 false，您只会创建一个新画布，因此您的代码是正确的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T12:43:03.550

先离开了。如果隐式转换为布尔值失败，那么正确。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T12:43:19.220

它尝试左边的，如果它是真的，它不会执行右边的功能。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-10T12:43:39.643

如果`ctx['ballctx']`是[真的](http://11heavens.com/falsy-and-truthy-in-javascript)那么

*   `createCanvas('game-screen', 'ballctx')`没有得到评估
*   `ctx['ballctx']`被分配到`ballctx`

除此以外

*   `createCanvas('game-screen', 'ballctx')`被评估
*   任何`createCanvas`回报被分配给`ballctx`

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-10T12:50:58.687

如果近似等于真，则取左侧表达式的值，否则取右侧表达式的值而不管值。在一些较旧的浏览器中，根据已经过时的 JavaScript 1.1 规范，只返回 true 或 false。

参见 MDN：[https ://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/Logical_Operators#Summary](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/Logical_Operators#Summary)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-10T12:46:09.927

先离开了。如果 left 为 false 或未定义，则只执行函数。

# jquery - 为 gridview 添加 onload 事件

> ID：12351935
> 
> 赞同：1
> 
> 时间：2012-09-10T12:41:10.073
> 
> 标签：jquery, html, gridview, html-table

我有一个网格，这里是 html 代码：

```
<table cellspacing="0" border="1" style="border-collapse:collapse;" id="grid1"
   rules="all">
        <tbody><tr>
 <th scope="col">Nr de ord</th>
 <th scope="col">StudentId</th>
 <th scope="col">Name LName</th>

 <th scope="col">
      <span id="mondayText">monday<br></span>
      <span id="monday">14.05.2012</span>
  </th>
<th scope="col">
     <span id="thuesdayText">thuesday<br></span>
     <span id="thuesday">15.05.2012</span>
</th>
<th scope="col">
     <span id="wednesdayText">wednesday<br></span>
     <span id="wednesday">16.05.2012</span>
</th>
<th scope="col">
     <span id="thursdayText">thursday<br></span>
     <span id="thursday">17.05.2012</span>
</th>
<th scope="col">
     <span id="fridayText">friday<br></span>
     <span id="friday">18.05.2012</span>
</th>
<th scope="col">
     <span id="saturdayText">saturday<br></span>
     <span id="saturday">19.05.2012</span>
  </th>
   <th scope="col">
   <span id="M">Total1</span>
   </th>
  <th scope="col">
   <span id="N">Total2</span>
   </th>
               </tr><tr>
                <td>  1  </td>
                <td>110001</td>
                <td>Test1 Test1</td><td>
                </td><td>
                </td><td>
                </td><td>
 <select class="ddlJ" id="a1111_0" name="ctl00$contentbody$grid1$ctl02$a1111">
                <option value="a" selected="selected">a</option>
                <option value="m">m</option>
                <option value="n">n</option>
            </select>
 <select class="ddlJ" id="a2222_0" name="ctl00$contentbody$grid1$ctl02$a2222">
                <option value="a" selected="selected">a</option>
                <option value="m">m</option>
                <option value="n">n</option>
            </select>

                          </td><td>
                          </td><td>
                          </td><td>
                          <span class="label" id="totalM"></span>
                          </td><td>
                           <span id="totalN"></span>
                          </td>
        </tr><tr>
        <td> 2   </td>
                <td>110002</td>
                <td>Test2 Test2</td>
                <td></td>
               <td></td>
               <td></td><td>
 <select class="ddlJ" id="a1111_1" name="ctl00$contentbody$grid1$ctl03$a1111">
                <option value="a" selected="selected">a</option>
                <option value="m">m</option>
                <option value="n">n</option>
            </select>

                </td><td>
                </td><td>
                </td><td>
                <span class="label" id="totalM"></span>
                 </td><td>
                 <span id="totalN"></span>
                  </td>
        </tr><tr>
            <td>
                         3                  
                </td><td>110008</td><td>Test3 Test3</td><td>
                </td><td>
                </td><td>
                </td><td>
<select class="ddlJ" id="a1111_2" name="ctl00$contentbody$grid1$ctl04$a1111">
                <option value="a" selected="selected">a</option>
                <option value="m">m</option>
                <option value="n">n</option>
            </select>
                         </td><td>
                </td><td>
                </td><td>
                 <span class="label" id="totalM"></span>
                </td><td>
                  <span id="totalN"></span>
                          </td>
        </tr>
    </tbody></table> 
```

使用 jQuery，我正在计算有多少选择具有索引 1 和多少索引 2，并在更改事件的此函数中计算：

```
$(document).ready(function () {
             var collection = $('select.ddlJ');
             console.log(collection);
             for (var element in collection)
             $(element).change(function () {

    $('select.ddlJ').change(function (e) {
$(this).parent().parent().find('td:last').prev().find('span').html(
$(this).parent().parent().find('select.ddlJ').filter(function () {
return $.trim($(this).val()) == 'm'; }).length);

$(this).parent().parent().find('td:last span').html(
$(this).parent().parent().find('select.ddlJ').filter(function () {
return $.trim($(this).val()) == 'n'; }).length );

     });
   });
 }); 
```

但是现在我想在加载网格时进行相同的计算。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-08T11:10:14.440

看到这个链接。但它想在加载页面时动态添加。这是你的问题？？

```
[http://jsfiddle.net/ullasvk2000/Up5PY/1/][1] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T15:18:00.517

获取`change`事件的内容并将其设为单独的函数。在脚本底部调用该函数。

# php - magento 扩展中的多个 http POST

> ID：12351936
> 
> 赞同：0
> 
> 时间：2012-09-10T12:41:11.087
> 
> 标签：php, ajax, magento, http-post, payment-gateway

我正在为 magento 创建一个支付扩展程序，并且我有一个使用 3 个通信步骤的 API。即我发送一个HTTP Post，从网关接收信息，插入客户信息，实现另一个HTTP POST，最后在生成客户端后选择包裹数量，实现一个最终的HTTP POST，确认交易。

我已经创建了我的付款扩展，但是如果付款方式允许我提交一个，那么这三个 HTTP 如何发布。由于上述内容取决于网关，我不能创建一个包含所有详细信息的 http 帖子。

为了避免这种情况，我正在做 HTTP POST Js 并且只运行 php 扩展中的最后一个 HTTP POST。但这似乎是如此不安全且非常非传统的 magento 开发，是一个不合适的解决方案。

有更好的想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T13:27:26.460

您可以对连续请求使用 php [cURL解决方案。](http://php.net/manual/en/book.curl.php)

Magento 有它自己的 curl 适配器 - Varien_Http_Adapter_Curl，如果你想使用它。

这是一个使用它的例子：

```
$curlAdapter = new Varien_Http_Adapter_Curl();
$curlAdapter->connect(your_host[, opt_port, opt_secure]);
$curlAdapter->write(Zend_Http_Client::POST, Zend_Uri_Http $url, [opt_http_ver, opt_headers, opt_body]);
$result = $curlAdapter->read(); 
```

opt_body 是您的帖子字段

# actionscript-3 - 如何在以下代码结构中访问变量“abc”

> ID：12351944
> 
> 赞同：0
> 
> 时间：2012-09-10T12:41:40.003
> 
> 标签：actionscript-3

* * *

1）**首先我不想使用 CustomEvent 类。我正在寻找一些不使用 CustomEvent 的解决方案。**

2）**解决方案之一可以是在 ClassA 中使用 abc 变量。然后直接通过 ClassA 调度（而不是说 classB.dispatchEvent() ）。但仍在寻找是否有比这更好的解决方案。**

* * *

```
//Frame1 code :
import flash.events.Event;

var classA:ClassA = new ClassA() ;

classA.addEventListener("hello", hello); 
classA.init();
function hello(e:Event)
{
    trace(e.currentTarget.abc); //<<<< NEVER EXECUTED
} 
```

* * *

```
//classA
package
{
    import flash.display.MovieClip;
    import flash.events.Event;

    public class ClassA extends MovieClip 
    {

        var classB:ClassB ; 

        public function ClassA()
        {
            classB = new ClassB(); 

        }

        public function init()
        {
            classB.dispatchEvent( new Event("hello"));
        }

    }
} 
```

* * *

```
//classB
package
{
    import flash.display.MovieClip;
    public class ClassB extends MovieClip
    {
        public var abc:Number =123;
        public function ClassB()
        {

        }

    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T13:56:17.140

在使示例起作用之前，您缺少几个关键概念。首先，您在 的实例上调度事件`ClassB`，但是您正在侦听 的实例`ClassA`。因此，它们必须以某种方式关联，以便在事件被调度时正确编排。*一种*方法是使用[事件冒泡](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/events/Event.html#bubbles)。需要注意的是，本机事件冒泡仅适用于`DisplayObjects`，但您的两个类都继承自，`MovieClip`所以这没什么大不了的。

所以首先，你必须了解冒泡事件是如何工作的。一个简化的解释是，事件从显示层次结构的顶部开始，并沿着显示树向下*捕获*到元素，它们最终被调度到*目标*上，然后它们转身并以相反的方向*冒泡。*

这意味着您的*实例*`ClassB`必须是. 所以你必须改变的第一件事是在你的构造函数中：*`ClassA``ClassA`*

 *```
 public function ClassA()
    {
        classB = new ClassB();
        addChild(classB);
    } 
```

接下来，当您调度事件时，您需要明确地说它是一个*冒泡*事件，否则它将在目标上触发，并且既不会捕获也不会通过显示堆栈冒泡。

```
 public function init()
    {
        classB.dispatchEvent( new Event("hello", true));
    } 
```

的第二个参数`true`将事件设置为冒泡事件。

最后，您需要更改处理程序。现在，它正在使用`e.currentTarget`，在这种情况下，这不会是您所期望的（*通常*是这样，想）。

`e.target`您必须了解和之间的区别`e.currentTarget`。`e.target`是事件的实际目标，与它如何冒泡或捕获无关。`e.currentTarget`另一方面是*当前正在*处理事件的元素。因此，在您的情况下`e.currentTarget`，是`ClassA`（事件处理程序实际附加到的实例）`e.target`的实例，并且是`ClassB`（事件被调度的实例）的实例。在事件生命周期中，`e.currentTarget`会随着事件的移动而变化，但`e.target`应该始终保持不变。

在这种情况下，您希望引用事件的*实际*目标，而不是当前正在处理事件的元素。因此，您需要将处理程序更改为：

```
function hello(e:Event)
{
    trace(e.target.abc);
} 
```

然后它应该工作。您可以在此处找到一个工作[**示例**](http://wonderfl.net/c/hjiV/read)，该示例封装了我所描述的更改。

如果没有这些类，`DisplayObjects`那么您将不得不采取不同的方法——通过使用信号模式或手动侦听内部事件的重新触发`ClassA`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:53:14.253

首先，您正在向 classA 添加一个事件侦听器，但您的 classA init 方法要求 classB 调度一个事件，这就是您的代码没有被执行的原因。如果你想捕捉 hello 事件，你应该做类似的事情

```
public function init()
    {
        this.dispatchEvent( new Event("hello"));
    } 
```

或者您应该在 classB 上注册侦听器（不在范围内，因此没有代码建议）。

在 ActionScript 中，传输信息的最佳方法是使用自定义事件，因此我的建议是重新评估您对自定义事件的决定。*

# php - PHP5 - 帖子在某些情况下不起作用

> ID：12351947
> 
> 赞同：-1
> 
> 时间：2012-09-10T12:41:49.563
> 
> 标签：php

我们最近将我们的版本从 php 5.2.x 迁移到 5.3.x。

我们从 xml doc 中加载了一个动态，它在 5.2.x 中运行良好。

现在迁移后，如果动态表单的控件很少，则所有控件都会在提交时发布，但如果表单上有很多控件，则所有控件都不会在提交时发布。

将服务器上的 php ini 设置更改为发布最大时间和最大上传大小为 250M，但仍然没有运气。

请分享您的建议

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-10T12:47:33.953

如果您有超过 1000 个输入，则需要更新 php.ini 中的[max_input_vars](http://www.php.net/manual/en/info.configuration.php#ini.max-input-vars)指令。这是在 PHP 5.3.9 中引入的，将解释为什么它在 5.2 中有效，但在 5.3 中不适合您。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:47:42.617

你的表格有多大？旧版本的 PHP 中存在 DOS 漏洞，因此有必要限制 POST 请求中的变量数量。

您可以设置[`max_input_vars`](http://php.net/info.configuration.php#ini.max-input-vars)in的值`php.ini`。

# iphone - 文字转语音应用程序大小

> ID：12351949
> 
> 赞同：2
> 
> 时间：2012-09-10T12:41:57.733
> 
> 标签：iphone, ios, cocoa-touch, text-to-speech, openears

使用像[OpenEars](http://www.politepix.com/openears/)这样的库会极大地扩大我的应用程序大小吗？或者我可以将文本提取为语音内容，然后摆脱它......可能会删除所有这些语言？我没有任何想法。

我查了一下，OpenEars 示例应用程序是 33MB - 很大！

所以我的问题是 - 我可以在我的应用程序中实现文本到语音而不影响大小吗？我的意思是我可以忍受 2-3 MB 但 30...

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T20:13:14.430

OpenEars 开发人员在这里。只需按照[此处](http://www.politepix.com/openears/support/#8)的说明减少最终应用程序的大小，无需发送所有声音或框架的任何您未使用的功能。根据您使用的声音和功能，您可能会看到应用程序大小增加了 6 到 ~20 兆，除非您使用了大量可用的声音。示例应用程序使用了所有框架功能和两个声音，并支持一些 iOS 版本，因此它的二进制大小反映了这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:46:51.560

我猜你不能，音频会占用很多空间。删除不需要的语言将释放一些空间，但为所有不可能的音频猜测释放 2-3 mb。

# java - E/AndroidRuntime(1382): java.lang.RuntimeException: 无法启动活动组件信息

> ID：12351953
> 
> 赞同：-1
> 
> 时间：2012-09-10T12:42:15.517
> 
> 标签：java, android

启动我的应用程序时遇到问题，我想知道究竟是什么问题。

我在日志猫中得到了这个：

```
09-08 12:40:35.690: W/dalvikvm(1382): threadid=1: thread exiting with uncaught exception (group=0x40015560)
09-08 12:40:35.740: E/AndroidRuntime(1382): FATAL EXCEPTION: main
09-08 12:40:35.740: E/AndroidRuntime(1382): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.yahya.myfirstapp/com.yahya.myfirstapp.Main}: java.lang.NullPointerException
09-08 12:40:35.740: E/AndroidRuntime(1382):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)
09-08 12:40:35.740: E/AndroidRuntime(1382):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
09-08 12:40:35.740: E/AndroidRuntime(1382):     at android.app.ActivityThread.access$1500(ActivityThread.java:117)
09-08 12:40:35.740: E/AndroidRuntime(1382):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
09-08 12:40:35.740: E/AndroidRuntime(1382):     at android.os.Handler.dispatchMessage(Handler.java:99)
09-08 12:40:35.740: E/AndroidRuntime(1382):     at android.os.Looper.loop(Looper.java:123)
09-08 12:40:35.740: E/AndroidRuntime(1382):     at android.app.ActivityThread.main(ActivityThread.java:3683)
09-08 12:40:35.740: E/AndroidRuntime(1382):     at java.lang.reflect.Method.invokeNative(Native Method)
09-08 12:40:35.740: E/AndroidRuntime(1382):     at java.lang.reflect.Method.invoke(Method.java:507)
09-08 12:40:35.740: E/AndroidRuntime(1382):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
09-08 12:40:35.740: E/AndroidRuntime(1382):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
09-08 12:40:35.740: E/AndroidRuntime(1382):     at dalvik.system.NativeStart.main(Native Method)
09-08 12:40:35.740: E/AndroidRuntime(1382): Caused by: java.lang.NullPointerException
09-08 12:40:35.740: E/AndroidRuntime(1382):     at com.yahya.myfirstapp.Main.onCreate(Main.java:19)
09-08 12:40:35.740: E/AndroidRuntime(1382):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
09-08 12:40:35.740: E/AndroidRuntime(1382):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
09-08 12:40:35.740: E/AndroidRuntime(1382):     ... 11 more
09-08 12:40:41.260: I/Process(1382): Sending signal. PID: 1382 SIG: 9 
```

这是 Main.java

```
package com.yahya.myfirstapp;

import android.os.Bundle;
import android.app.Activity;
import android.content.Intent;
import android.view.Menu;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;

public class Main extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        Button b = (Button) findViewById(android.R.id.button1);
        b.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                startActivity(new Intent(Main.this, Second.class));

            }
        });
    }
} 
```

而这个 Second.java

```
package com.yahya.myfirstapp;

import android.app.Activity;
import android.os.Bundle;

public class Second extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);

        setContentView(R.layout.second);
        }
} 
```

activity_main.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools" android:layout_width="match_parent"
    android:layout_height="match_parent">

    <Button
        android:id="@+id/button1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:text="@string/welcome" />

</RelativeLayout> 
```

第二个.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent" android:layout_height="match_parent"
    android:orientation="vertical">

    <TextView android:layout_width="wrap_content"
        android:layout_height="wrap_content" android:text="@string/test_secondactivity" />

    <TextView android:layout_width="wrap_content"
        android:layout_height="wrap_content" android:text="@string/welcome" />

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-10T12:45:39.673

更正这一行：

```
Button b = (Button) findViewById(android.R.id.button1); 
```

成为：

```
Button b = (Button) findViewById(R.id.button1); 
```

`android.R`用于访问嵌入在 Android OS 中的内置系统资源，并且没有调用资源`button1`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:45:56.463

确保在 androidmanifest.xml 中标识了您的类

# mysql - ajaxplorer：从 mysql 表登录

> ID：12351955
> 
> 赞同：0
> 
> 时间：2012-09-10T12:42:18.393
> 
> 标签：mysql, file-management, pydio

嗨，我正在使用 ajaxplorer，这里我想使用 mysql 数据库表登录到 ajaxplorer.. 这是表结构

```
CREATE TABLE IF NOT EXISTS `user` (
`Guid` char(38) COLLATE latin1_general_ci NOT NULL,
`UserName` varchar(250) COLLATE latin1_general_ci NOT NULL,
`Organization` char(38) COLLATE latin1_general_ci DEFAULT NULL,
`rsguid` char(38) COLLATE latin1_general_ci NOT NULL,
`temppassword` varchar(50) COLLATE latin1_general_ci NOT NULL,
`SessionExpires` datetime DEFAULT NULL,
`IsAdmin` tinyint(1) NOT NULL DEFAULT '0',
PRIMARY KEY (`Guid`)
) 
```

这里用户名是“admin”，临时密码是“ajaxplorer”，使用用户表中的这些凭据我想登录 ajaxplorer..

请帮帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T15:02:48.680

1：将bootstrap_plugins.php中的auth驱动和conf驱动替换为：

```
 "CONF_DRIVER" => array(
        "NAME"      => "sql",
        "OPTIONS"   => array(
            "SQL_DRIVER"    => array(
                "driver"    => "mysql",
                "host"      => "db_server",
                "database"  => "db_name",
                "user"      => "db_username",
                "password"  => "db_password",
            ),
            )
),    

"AUTH_DRIVER" => array(
            "NAME"          => "sql",
             "OPTIONS"       => array(
            "SLAVE_MODE"  => true,  
                "SQL_DRIVER"    => array(
                                        "driver"    => "mysql",
                                        "host"      => "db_server",
                                        "database"  => "db_name",
                                        "user"      => "db_username",
                                        "password"  => "db_password"
                                            ),

               "TRANSMIT_CLEAR_PASS"   => false  // Don't touch this. It's unsafe (and useless here) to transmit clear password.
                                        )
                ), 
```

2：您可以在 pligins/auth.sql/class.sqlAuthDriver.php 中找到有关用户表和列名的所有查询，您可以根据需要自定义它们，例如将“ajaxp_user”重命名为“user”等。

# android - 单个应用程序支持更多平台的android版本

> ID：12351958
> 
> 赞同：0
> 
> 时间：2012-09-10T12:42:39.097
> 
> 标签：android, version, platform

如何在我的单个 android 应用程序上支持所有平台版本。我创建了一个应用程序。这是此应用程序的 androidmanifest.xml 文件：

```
<?xml version="1.0" encoding="utf-8"?>
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.androidhive" android:versionCode="1"
android:versionName="1.0">
<uses-sdk android:minSdkVersion="8" />

<application android:icon="@drawable/icon" android:label="@string/app_name">
    <activity android:name=".CustomizedListView" android:label="@string/app_name">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity android:name=".SingleMenuItemActivity" android:label="@string/app_name" />
        <activity android:name=".InsertionExample" android:label="@string/app_name" />
</application>

<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

在这里我使用了 uses-sdk android:minSdkVersion="8"....所以这个应用程序在 android 2.2 设备上成功运行..但我希望支持这个应用程序上的所有版本..我该如何开发这个。请帮助我..给出想法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T12:44:33.840

您设置`<uses-sdk android:minSdkVersion="8" />`了 ，因此您的应用程序可以在大于 2.2 的 Api 上运行，但不能小于 2.2 (Api 8)。

如果您希望您的应用程序低于 android 2.2，请根据您的要求将 minSdkVersion 设置为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:44:30.210

你必须提供

```
<uses-sdk android:minSdkVersion="integer" 
      android:targetSdkVersion="integer"
      android:maxSdkVersion="integer" /> 
```

而且也看到[了这个](http://developer.android.com/guide/topics/manifest/uses-sdk-element.html)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T12:45:16.413

```
<uses-sdk android:minSdkVersion="8" /> 
```

这就够了。您的应用程序将支持具有 2.2 及更高版本的设备。而且，如果您在清单文件中设置您的版本，例如 -

```
<uses-sdk android:minSdkVersion="integer" 
    android:targetSdkVersion="integer"
    android:maxSdkVersion="integer" /> 
```

您的应用程序将使用基于上述整数（版本）。例如 -

```
<uses-sdk android:minSdkVersion="4" 
    android:targetSdkVersion="8"
    android:maxSdkVersion="11" /> 
```

您的应用将支持从 android 设备 1.6 到 3.0

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-10T12:48:04.630

您应该始终以最新版本的 Android 为目标

```
uses-sdk android:targetSdkVersion="15" 
```

围绕最后一个版本设计您的应用程序也是一个好主意。ActionBarShelock 是一个库，可帮助您将 ActionBar 用于所有 Android 版本。你不应该使用

```
android:maxSdkVersion="integer" /> 
```

它在引入 Android 3.0 时很有用，因为它可以让您的应用程序有时间适应平板电脑，但您不应再依赖它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-10T12:50:49.060

你可以在你的清单中这样使用

```
 <uses-sdk
        android:minSdkVersion="7"
        android:targetSdkVersion="15" /> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-10T12:54:41.903

```
<supports-screens
    android:largeScreens="true"
    android:normalScreens="true"
    android:smallScreens="true"/> 
```

以及以下取决于要求

```
<uses-feature android:name="android.hardware.bluetooth"
android:required="false" />
<uses-feature
android:name="android.hardware.camera"
android:required="false" />
<uses-feature
android:name="android.hardware.telephony"
android:required="false" />
<uses-feature
android:name="android.hardware.wifi"
android:required="false" />
<uses-feature
android:name="android.hardware.microphone"
 android:required="false" /> 
```

# java - AutoCompleteTextView & Async 类

> ID：12351962
> 
> 赞同：4
> 
> 时间：2012-09-10T12:42:46.007
> 
> 标签：java, android, autocompletetextview

我是Android世界的菜鸟，我基于2.1 Google API构建了一个小型培训软件。

那时我还不知道主线程和工作线程，所以我把我所有的代码都放在了主线程中。

从那以后，我使用异步类修复了它，以便我的 netwkork 访问适合 4.0 Google API。

好的，但最后一件事困扰着我，我找不到任何线索。

它是关于字段*ville*（法语中的“城镇”）上的*AutoCompleteTextView 。*

 ** * *

**之前（2.1）：**

```
public void onTextChanged(CharSequence s, int start, int before, int count) 
{
String result = null;
InputStream is = null;
List<String> r = new ArrayList<String>();

    if (ville.enoughToFilter())
    {
        is = connexionHttp(BASE_URL + "ville.php?ville=" + ville.getText());
        result = lectureData(is);

        try
        {           
            JSONArray jArray = new JSONArray(result);
            JSONObject json_data=null;
            for(int i=0;i<jArray.length();i++)
            {
                   json_data = jArray.getJSONObject(i);  
                   r.add(json_data.getString("VILLE"));
                   a_idVil.add(json_data.getString("CLEF_VILLE"));      
            }
            ville.setAdapter(new ArrayAdapter<String>(this,android.R.layout.simple_selectable_list_item,r));
            ville.setOnItemSelectedListener(new villeListener());

        }
        catch(JSONException e1)
        {
                Toast.makeText(getBaseContext(),e1.toString() ,Toast.LENGTH_LONG).show();
                Log.d("***** TestActivity/onTextChanged: JSONException *****", "--"+e1.toString()+"--");
        } 
        catch(ParseException e1) 
        {
                Toast.makeText(getBaseContext(),e1.toString() ,Toast.LENGTH_LONG).show();
                Log.d("***** TestActivity/onTextChanged: ParseException *****", "--"+e1.toString()+"--");
        }
    }
}
public class villeListener implements OnItemSelectedListener 
{
    public void onItemSelected(AdapterView<?> parent, View v, int pos, long row) 
    {
        villePosition = pos;    
    }
    public void onNothingSelected(AdapterView<?> arg0)  {   }
} 
```

运行 100% 完美：

-> 在第 4 个字符之后，在 MySql 上运行查询以查找所有以 4 个给定字母开头的城镇，并显示选择列表以选择正确的一个：OK

-> 听者给出所选城镇的索引：OK

* * *

**之后 (4.0)**

```
public void onTextChanged(CharSequence s, int start, int before, int count) 
{           
if (ville.enoughToFilter())
{           
    new RemplirVille().execute(BASE_URL + "ville.php?ville=" + ville.getText());
    Log.d("***********","AVANT");  
    ville.setOnItemSelectedListener(new villeListener());
    Log.d("***********","APRES");           
}

}
public class villeListener implements OnItemSelectedListener 
{
public void onItemSelected(AdapterView<?> parent, View v, int pos, long row) 
{
    villePosition = pos;
    Log.d("*************9999999", "1111111111");
}
public void onNothingSelected(AdapterView<?> arg0)  {   }
}

class RemplirVille extends AsyncTask<String, String, List<String>>
{
Integer errorMsgId;
String  errorMsgParam;

protected List<String> doInBackground(String... param)
{
    List<String> listeAffichageVille = new ArrayList<String>();
    ArrayList<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();

    try 
    {
             HttpClient httpclient = new DefaultHttpClient();      
             HttpPost httppost = new HttpPost(param[0]);
             httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
             HttpResponse response = httpclient.execute(httppost);     
             if (response.getStatusLine().getStatusCode() < 400) 
             {
                  HttpEntity entity = response.getEntity();
                  String entityStr = EntityUtils.toString(entity);
                  JSONArray json_array = new JSONArray(entityStr);

                  for(int i=0;i<json_array.length();i++) 
                  {
                      JSONObject json_ligne = json_array.getJSONObject(i);                            
                      listeAffichageVille.add(json_ligne.getString("VILLE"));
                      a_idVil.add(json_ligne.getString("CLEF_VILLE"));
                  }
            } 
            else 
            {
                Log.d("***** TestActivity/ASYNC RemplirVille: EXCEPTION http error *****", "--"+response.getStatusLine().toString()+"--"); 
                this.errorMsgId = R.string.http_site_error;
                listeAffichageVille = null;
            }
    } 
    catch (Exception ex) 
    {
            Log.d("***** TestActivity/ASYNC RemplirVille: EXCEPTION decode error *****", "--"+ex.toString()+"--");
            this.errorMsgId = R.string.http_decode_error;
            this.errorMsgParam = ex.getLocalizedMessage();
            listeAffichageVille = null;
    }
    return listeAffichageVille;
}

protected void onProgressUpdate(String... item) {   }
protected void onPreExecute(List<String> list)  {   }
protected void onPostExecute(List<String> list)     
{               
    if (list == null)
    {
          if (this.errorMsgId != null) 
          {
              String msg = TestActivity.this.getString(this.errorMsgId);
              Toast.makeText(TestActivity.this,msg,Toast.LENGTH_LONG).show();
          }    
    }
    else            
    {
        ville.setAdapter(new ArrayAdapter<String>(TestActivity.this,android.R.layout.simple_selectable_list_item,list));
    }
}   
} 
```

遇到麻烦：

-> 你必须输入 (enoughToFilter + 1) 个字符来显示城镇列表：BAD

-> 监听器甚至不再运行：BAD

* * *

事实上，足够的过滤器运行良好，它启动了运行正常的**RemplirVille**类，只是它不显示列表！

但是，如果您再添加 1 个字符： -> **enoughToFilter**仍然运行良好 -> RemplirVille 再次带来数据......但这一次选择列表显示良好。

对这个话题有任何想法吗？我想这是一个上下文问题，但即使使用 GetApplicationCONtext 我也无法得到它。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T04:30:01.273

调用`AutoCompleteTextView.setAdapter()`不会自动显示下拉菜单，但您可以使用 强制显示下拉菜单`AutoCompleteTextView.showDropDown()`。

```
protected void onPostExecute(List<String> list){
    //...
    ville.setAdapter(new ArrayAdapter<String>(TestActivity.this,android.R.layout.simple_selectable_list_item,list));
    if(ville.isInputMethodTarget()){
        ville.showDropDown();
    }
    //...
} 
```

没有这个，直到输入下一个字符时才会显示下拉菜单，这会导致 (enoughToFilter + 1) 问题。*

# dynamic - 如何实现动态并行/多线程到 C 语言例程？

> ID：12351963
> 
> 赞同：1
> 
> 时间：2012-09-10T12:42:58.163
> 
> 标签：dynamic, parallel-processing

我需要 DataStage 中的 C 函数/例程来解析`Arg1`基于`Arg2`，然后它应该返回结果值。这里`Arg1`只是 Transformlogic 并且`Arg2`是`Arg1`. 下面是函数：

```
char* TransformParsing(char* Arg1, char* Arg2) 
{ 
..... 
parsing.. 
... 
.... 
return result; 
} 
```

我有一个输入记录，它有 4 列，由`|`如下所示：

```
KeyCol | TransformLogic1|TransformLogic2|TransformLogic3 
100|"if Col49[1,4]=COMM then I else P"|"if Col49[1,4]=COMM then Commission else Polo"|"if Col49[1,4]=COMM then ABC else xyz" 
101|TfL1|TfL2|TfL3 
102|TfL1|TfL2|TfL3 
```

在这里，我在第一行有 3 个 TransformLogics（即`KeyCol=100`）。现在我想同时处理整行。当我在 1 列中使用时，上面的例程可以通过将剩余的 2 列设为虚拟来返回结果，如下所示：

```
KeyCol, TransformParse(Arg1, Arg2), "Dummy", "Dummy" --->is executing perfectly. 
```

如果我们想处理整个行，我们应该在 3 个地方同时调用例程。当我多次调用该函数时，它只是继续运行/挂起。所以这就是我想要的多线程。

如下所示：

```
KeyCol, TransformParse(Arg1, Arg2), TransformParse(Arg1, Arg2), TransformParsing(Arg1, Arg2).---> Is not executing perfectly 
```

现在我希望我非常清楚我的目标。现在任何人都可以理解我的任务并帮助我吗？

# python-3.x - python3 super 不适用于 PyQt 类

> ID：12351976
> 
> 赞同：7
> 
> 时间：2012-09-10T12:43:42.460
> 
> 标签：python-3.x, pyqt4, method-resolution-order

python3中有一个简单的程序：

```
from PyQt4 import QtCore
import PyQt4

class Bar(object):
    def __init__(self):
        print("Bar start")
        super(Bar, self).__init__()
        print("Bar end")

class FakeQObject(object):
    def __init__(self):
        print("FakeQObject start")
        super(FakeQObject, self).__init__()
        print("FakeQObject end")

class Foo(QtCore.QObject, Bar):
#class Foo(FakeQObject, Bar):
    def __init__(self):
        print("Foo start")
        super(Foo, self).__init__()
        print("Foo end")

print(Foo.__mro__)
print(PyQt4.QtCore.PYQT_VERSION_STR)
f = Foo() 
```

a) 当 Foo 类从 QtCore.QObject 和 Bar 继承时，我们得到：

```
(<class '__main__.Foo'>, <class 'PyQt4.QtCore.QObject'>, <class 'sip.wrapper'>, <class 'sip.simplewrapper'>, <class '__main__.Bar'>, <class 'object'>)
4.9.4
Foo start
Foo end 
```

b) 当 Foo 类从 FakeQObject 和 Bar 继承时，我们得到：

```
(<class '__main__.Foo'>, <class '__main__.FakeQObject'>, <class '__main__.Bar'>, <class 'object'>)
4.9.4
Foo start
FakeQObject start
Bar start
Bar end
FakeQObject end
Foo end 
```

问题是：为什么在 a) 的情况下，不调用 Bar init？

我在这里发现了类似的问题[pyQt4 和继承](https://stackoverflow.com/questions/7901178/pyqt4-and-inheritance)，但没有好的答案。

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-12T19:48:37.753

除了@nneonneo，我还怀疑它`QtCore.QObject`不使用合作社`super.__init__`。如果是这样，你就不会有这个问题。

但是，您应该知道，在某些时候，基类之一*不能*使用协作超级，因为`object`它没有方法。考虑：

```
class Base():
    def __init__(self):
        print("initializing Base")
        super().__init__()
    def helper(self, text):
        print("Base helper")
        text = super().helper(text)
        text = text.title()
        print(text)

class EndOfTheLine():
    def __init__(self):
        print("initializing EOTL")
        super().__init__()
    def helper(self, text):
        print("EOTL helper")
        text = super().helper(text)
        return reversed(text)

class FurtherDown(Base, EndOfTheLine):
    def __init__(self):
        print("initializing FD")
        super().__init__()
    def helper(self, text):
        print(super().helper(text))

test = FurtherDown()
print(test.helper('test 1 2 3... test 1 2 3')) 
```

和输出：

```
initializing FD
initializing Base
initializing EOTL
Base helper
EOTL helper
Traceback (most recent call last):
  File "test.py", line 28, in <module>
    print(test.helper('test 1 2 3... test 1 2 3'))
  File "test.py", line 25, in helper
    print(super().helper(text))
  File "test.py", line 7, in helper
    text = super().helper(text)
  File "test.py", line 17, in helper
    text = super().helper(text)
AttributeError: 'super' object has no attribute 'helper' 
```

因此，无论哪个类将成为行尾，都不需要调用`super`. 因为`Qt`您可能想要覆盖其他方法，所以这表明`Qt`该类必须是类头中的最后一个。通过不`__init__`使用协作超级，即使它可以，`Qt`也可以避免在覆盖其他方法时进一步降低错误。

# jquery-ui - Jquery自动完成 - 按键

> ID：12351977
> 
> 赞同：0
> 
> 时间：2012-09-10T12:43:44.440
> 
> 标签：jquery-ui, autocomplete

我们想使用 Jquery 实现自动完成。

我们需要使用户能够添加文本并保存新文本。类似于按键事件。此外，我希望用户能够将文本添加到输入文本中。

```
$('#id').autocomplete({
    source: url,
    select:  function (event, ui) {
        // code..
    }
}); 
```

我们已经尝试使用 change event 来做到这一点，但这还不够好，因为根据 API，change 事件只有在 onBlur 触发后才会触发（当用户使用输入文本时）。

有人可以帮助解决这个问题吗？

谢谢，

约翰和尤里。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T12:47:00.390

```
$('#id').autocomplete({
source:function(request, response) 
       {
            var text = $("#idofthetext").val()
            alert(text);
       }
select:  function (event, ui) {
    // code..
}
}); 
```

你想做这样的事情吗？当用户在 id 为“idofthetext”的输入字段中键入时，var text 将为您提供文本。

# solr - 更新 Solr 字段值

> ID：12351979
> 
> 赞同：0
> 
> 时间：2012-09-10T12:43:46.247
> 
> 标签：solr, lucene, nutch

是否有可能在不重新索引整个文档的情况下更新 Solr-Field 的值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T13:36:50.570

This functionality is available in the Solr version 4.0\. That version is still in Beta, but will most likely be released before the end of the year. Please see the post - [Solr 4.0: Partial documents update](http://solr.pl/en/2012/07/09/solr-4-0-partial-documents-update/) for more details on how this works.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T12:55:41.547

没有。
您需要使用所有字段再次索引文档。
Solr 将删除并再次插入文档。

你可能想听听关于它的好话[。](http://www.searchworkings.org/movies/-/content/training/382052)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T12:55:13.823

当您想要更改文档的单个字段时，您必须重新索引整个文档，因为 solr 不支持仅更新字段。

# c# - 使用 couchbase 时出现类型转换错误

> ID：12351980
> 
> 赞同：1
> 
> 时间：2012-09-10T12:43:48.463
> 
> 标签：c#, types, casting, error-handling, couchbase

我的沙发库数据桶中有一个名为“TotalPosts”的视图。设计文件名称为“Statistics”。

这是我的代码。我在这里建立连接..

```
protected void Page_Load(object sender, EventArgs e)
        {
            try
              {
                var client= new CouchbaseClient();
                Tasks objTasks = new Tasks();
        foreach (Newtonsoft.Json.Linq.JToken jt in objTasks.GetAllStatistics())
        {
            if (jt["key"].ToString() == "Total")
            {
                dt.Rows[0]["Value"] = jt["value"].ToString();
            }
            if (jt["key"].ToString() == "Open")
            {
                dt.Rows[1]["Value"] = jt["value"].ToString();
            }
            if (jt["key"].ToString() == "Wah")
            {
                dt.Rows[2]["Value"] = jt["value"].ToString();
            }

        } 
```

这是我的 GetAllStatistics 函数定义代码：

```
public IEnumerable<Newtonsoft.Json.Linq.JToken> GetAllStatistics()
        {

            var results = oCouchbase.GetView("Statistics", "TotalPosts");
            return results;// I am getting the following error in this line
        } 
```

无法将类型“Couchbase.IView”隐式转换为“System.Collections.Generic.IEnumerable”。存在显式转换（您是否缺少演员表？）

这是我的地图代码：

```
function(doc) {
emit("Total", 1);
    emit("TotalParticipants", doc.participants.length);
    if(doc.status == "1"){
        emit("Open", 1);
    } else if(doc.status == "2") {
        emit("Wah", parseInt(doc.wah_points));
    }
} 
```

这是我的减少代码：

```
function (key, values, rereduce) {
    return sum(values);
} 
```

我找不到合适的类型转换。请在这个问题上帮助我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T22:13:39.717

GetView 的非通用版本返回 IViewRow 的可枚举列表。因此，我建议将您的 GetAllStatistics 方法更改为以下内容：

```
public IEnumerable<Newtonsoft.Json.Linq.JToken> GetAllStatistics()
{
    var results = oCouchbase.GetView("Statistics", "TotalPosts");
    foreach(var row in results)
    {
        yield return oCouchbase.Get<Newtonsoft.Json.Linq.JToken>(row.ItemId);
    }
} 
```

然后你的 foreach 循环应该按原样工作。但是，我有一个问题是您的文件是什么样的。您是否将 JToken 实例序列化为 Store 操作中的值？如果您是，那么它们将在您的视图中不可用，因为只有有效的 JSON 字符串才能在视图中使用。如果您对我刚才提到的任何内容有任何疑问，请随时编辑您的问题以包括您的 Store 操作和 map/reduce 视图代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T12:53:15.503

我不能声称对 Couchbase 有任何了解，但错误消息表明您可以执行显式转换。您是否尝试过为您的回归做演员？

```
return (Newtonsoft.Json.Linq.JToken)results; 
```

# php - 验证表单而不刷新页面并通过validationEngine显示错误

> ID：12351981
> 
> 赞同：0
> 
> 时间：2012-09-10T12:43:48.603
> 
> 标签：php, jquery, jquery-validation-engine

我在同一页面中使用带有日期选择器的验证引擎。

*   日期选择器：http : [//jqueryui.com/demos/datepicker/](http://jqueryui.com/demos/datepicker/)

*   验证引擎：[http ://www.position-relative.net/creation/formValidator/demos/demoValidators.html](http://www.position-relative.net/creation/formValidator/demos/demoValidators.html)

我添加了一个`jQuery.noConflict();`使其工作（在代码的开头）。

现在，我需要通过 PHP 文件进行插入，但无需刷新页面，并在同一验证引擎气泡中显示错误消息（例如，当电子邮件已在 BDD 中注册时）。

1.  我应该导入 jQuery 以在同一页面中插入而不引起冲突，还是可以在已经用于相同目的的查询中使用一个？

2.  如何通过验证引擎显示服务器响应？

我的代码如下。

```
$(".btn_newsletter").live('click', function() { 
  $.ajax(
    {
      url: "php/functions/signin.php"+nomfichier,
      success: function(data) { 
        if (data.check==0) {alert('Error : Sorry '); return false;}
        if (data.check==1) {alert('yep!!!');                                                                            
      }
    },
    cache: false,
    type: "POST",
    dataType: 'json'
  });
} 
```

这是我的 PHP 代码。

```
 $ip= $_SERVER["REMOTE_ADDR"];
  $select = "select * from av_newsletter where email='".$_POST['email']."'";
  $exist = $_BASE->query_array($select);
  if ($exist) { 
    $check = "0";
  }
  else {
    $ajout="INSERT INTO av_newsletter(id,sub_date,email,ip) VALUES (NULL,now(),'$email','$ip')";
    $add=$_BASE->query($ajout);
    if ($add) { 
      $check="1";  
    }
  }

  $return_arr["check"] = $check;
  echo json_encode($return_arr); 
```

它不起作用；我没有警报，但也没有错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T14:44:33.080

好的，在我们发送垃圾评论并偏离主题之前，请执行此代码，这应该可以帮助您开始使其最终工作。

```
$(".btn_newsletter").live('click',function() {
  alert('clicked'); // click is executed
  $.ajax({                           
    url: "php/functions/signin.php"+nomfichier,
    success: function(data) {
      alert(data); // should alert the data
      if(data.check==0){  alert('Error : Sorry '); return false; }
      if(data.check==1){  alert('yep!!!'); }                                                                    
    },
    error: function(request, status, error) {
      alert('failed '+status);
    },
    cache: false,
    type: "POST",
    dataType: 'json'
  });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T13:29:16.967

如果您与您的“验证引擎”没有太深的联系，我建议您使用[这个](http://bassistance.de/jquery-plugins/jquery-plugin-validation/)，多年来一直为我服务，它支持进行远程检查，因此您可以执行以下操作：

```
$(document).ready(function(){

var save_options = {
    success:        userSaved, //callback function
    url:           '/users/save',
    response:      'json',
    method:        'post'
};

var validationObj = {
    rules: {
        name: "required",
        email: {
        email: true,
            required: true,
            remote: "/user/check_email/"
        }
    },
    messages: {
        name: "Please name yourself",
        email: {
            required: "Please enter your email address",
            email: "Invalid email address",
            remote: "Email already in use."
        }
    },
    errorPlacement:function(error, element) {
        error.appendTo( element.next() );
    },
    submitHandler:  function(form) {
        $(form).ajaxSubmit(save_options);
    },
    success:function(label) {
        label.html("&nbsp;").addClass("checked");
    }
}; 
```

});

然后在“/users/check_email”端点的 PHP 端，PHP 执行以下操作：

```
echo $emailExists ? json_encode(false) : json_encode(true); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T20:01:48.567

有用 ：）

```
 $(".btn_newsletter").live('click',function() {
              var data ="email="+$('#email').val();

  $.ajax({                           
    url: "php/functions/signin.php"+"?"+data,
    success: function(data) {   
          if(data.check=='1'){  alert('yep!!!'); }                                                                    
          if(data.check=='0'){  alert('Error : Sorry '); return false; }
    },
    cache: false,
    type: "POST",
    dataType: 'json'
  });
}); 
```

在我的 signin.php 中，我捕获了这样的输入值，`$email=$_REQUEST['email']` 非常感谢！是时候让我了解一下验证引擎如何将其与 :) 联系起来了

# ruby-on-rails-3 - Ruby on Rails - .htacces RewriteRule 更改图像路径

> ID：12351984
> 
> 赞同：0
> 
> 时间：2012-09-10T12:44:02.677
> 
> 标签：ruby-on-rails-3, image, .htaccess, mod-rewrite, path

# 情况

我使用 Carrierwave 将图像上传到默认的 upload/ 目录。工作正常。当我想在我的在线 Web 服务器的前端查看图像时，它们不显示。

如果我在本地设置中使用我的应用程序，则会显示图像。

我的本地服务器和 Web 服务器设置之间的唯一区别是，在我的服务器上，应用程序运行在名为“/app”的子目录中。在本地，它位于根目录中。

# 到目前为止我所拥有的

我的 .htaccess 中有这个重定向命令：

```
Redirect 301 /uploads/model/image/54/image.jpg /app/uploads/model/image/54/imgage.jpg 
```

我想从中制定一个通用的 RewriteRule，以便找到具有路径“/uploads/model/image/”的所有图像并将其重定向到“/app/uploads/model/image/”。

我怎样才能做到这一点？我尝试了几个 RewriteRules，例如：

```
RedirectMatch 301 /uploads/(.*) /app/uploads/ 
```

或者：

```
Redirect 301 /uploads/model/image/(.*) /app/uploads/model/image//$1 
```

或者：

```
RewriteRule ^.*/app/uploads/(.*)$ http://%{HTTP_HOST}/uploads/$1 [L,R=301] 
```

# 到目前为止我读过的

我已经阅读了 Stackoverflow 上的这些条目：

*   [如何使用 htaccess 更改图像路径？](https://stackoverflow.com/questions/9700990/how-to-change-image-path-using-htaccess)
*   [使用 Mod_Rewrite 将 ROOT 重写到另一个路径](https://stackoverflow.com/questions/2766443/use-mod-rewrite-to-rewrite-root-to-another-path?lq=1)
*   [.htaccess 重写以将根 URL 重定向到子目录](https://stackoverflow.com/questions/990392/htaccess-rewrite-to-redirect-root-url-to-subdirectory/990405)

我真的不知道为什么会发生这种情况，我很乐意得到任何可以帮助我摆脱这种情况的提示、提示或链接。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T13:03:37.457

你很近。尝试：

```
RedirectMatch 301 ^/uploads/(.*)$ /app/uploads/$1 
```

或者

```
RewriteRule ^/?uploads/(.*)$ /app/uploads/$1 [L,R=301] 
```

# clojure - 〜'作为前缀添加到宏中的变量时意味着什么

> ID：12351991
> 
> 赞同：11
> 
> 时间：2012-09-10T12:44:25.837
> 
> 标签：clojure

鉴于下面的宏 -

```
(defmacro defhello [fn-name body]   `(defn ~fn-name [~'name] ~body)) 
```

以及在调用时定义的函数 -

> (defhello 问候语 (str "Hello" name))

并称为

> （问候“乔”）

， 将返回

`Hello Joe`

不明白*name*参数前面~'的用法？它有什么作用？不要引号（'）和取消引号（〜）相互取消？当它们一起使用时会发生什么？为什么不写*名字*没有他们呢？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-10T15:40:22.913

简而言之，`~`就像它对`~fn-name`. 在这种情况下，要计算的表达式是`'name`，其中的结果是不合格的符号`name`。

但是，让我们一次分解一个。

如果您只有不合格的符号`name`，它将`clojure.core/name`在运行时评估为¹。这将导致`defn`格式不正确并导致编译器异常。

```
(defn greeting [clojure.core/name] (str "Hello" name)) 
```

如果您只有带引号的不合格符号`'name`，它仍然会在运行时进行评估。不同之处在于它会扩展为`(quote clojure.core/name)`. 同样，这将导致`defn`格式不正确并导致编译器异常。

```
(defn greeting [(quote clojure.core/name)] (str "Hello" name)) 
```

最后，通过 using `~'name`，您将在编译时评估引用的形式，从而产生不合格的符号`name`，从而为您留下正确的`defn`形式。

```
(defn greeting [name] (str "Hello" name)) 
```

^(1 - 这个例子是正确的，因为它假设另一个`name`函数不存在。)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-10T13:25:11.820

据我了解，您引用了函数定义，因此在定义宏时不会对其进行评估。您使用 unquote operator`~`来评估定义中的 name。如果 name 是一种列表`~@`（不带引号的拼接），则将评估列表中的元素而无需使用括号。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T15:53:05.073

*名称*前的引号用于防止符号限定。

如果您不知道什么是合格的，请参阅[阅读器](http://clojure.org/reader)。

此外，您可以使用[macroexpand](http://clojuredocs.org/clojure_core/clojure.core/macroexpand)进行宏调试。

如果您想了解更多关于宏的信息，我建议您阅读[*On Lisp*](http://www.paulgraham.com/onlisp.html)。也许这有点困难，但这让你知道宏是如何工作的。