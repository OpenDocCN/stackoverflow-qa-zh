# StackOverflow 问答 10877000-10877999

# java - java中线程读写文件的使用

> ID：10877002
> 
> 赞同：0
> 
> 时间：2012-06-04T06:11:31.710
> 
> 标签：java, multithreading

我想制作一个程序，逐行读取文件，然后将这些行写入另一个文件。我想使用两个单独的线程来解决这个问题。第一个线程读取一行，然后将其传递给另一个线程，后者负责通过消息将该行写入另一个文件。应重复此过程，直到到达文件末尾。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T07:43:29.967

你想要的是一个[生产者-消费者模型](http://en.wikipedia.org/wiki/Producer-consumer_problem)。`Thread`使用两个对象和一个[ArrayBlockingQueue](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ArrayBlockingQueue.html)实现这一点并不难。下面是一些启动代码：

```
// we'll store lines of text here, a maximum of 100 at a time
ArrayBlockingQueue<String> queue = new ArrayBlockingQueue<String>(100);

// code of thread 1 (producer)
public void run() {
   while(/* lines still exist in input file */) {
       String line = // read a line of text
       queue.put(line); // will block if 100 lines are already inserted
   }
   // insert a termination token in the queue
}

// code of thread 2 (consumer)
public void run() {
   while(true) {
       String line = queue.take(); // waits if there are no items in the queue
       if(/* line is termination token */) break;
       // write line to file
   }   
} 
```

希望这可以帮助。我不能给出完整的代码，如果你自己尝试填补空白会更好。

# architecture - 架构设计：分离应用程序并通过 API 进行交互

> ID：10877004
> 
> 赞同：1
> 
> 时间：2012-06-04T06:11:44.790
> 
> 标签：architecture

我正在创建一个完整的网站，它将我成为一堆较小的网站的集合体。当然，它们都是相互关联的，但是不同的人会出于不同的原因登录到不同的部分。

我试图摆脱的一件事是单体架构，我喜欢将所有内容分解为子项目的想法，这样一个团队可以从事一个项目，一个团队可以从事另一个项目，等等。

我的问题：我听到越来越多的人通过 Restful API 进行项目间通信，而不是直接访问数据库。

例如：

```
 app 4 
                  |
app1 ----->   central core <------app2
                  |
                app 3 
```

因此应用程序 1-4 将通过 API 与中央核心进行通信。他们将为自己的特定应用程序拥有自己的单独模型，但中央核心将包含大部分应用程序。

我的问题：进行这种设计是正确的实现，还是我应该坚持使用包含一个模型实现的传统单体项目？

我在哪里可以获得良好系统架构的示例？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T06:19:27.667

毫无疑问，将功能抽象为 API 是减少维护开销的正确方法。你应该看到像 llvm 这样的项目。

将您的应用程序分解为“核心”和“驱动程序”所带来的问题是，软件升级有点棘手。因为现在您必须同时升级内核和驱动程序。这是将软件作为库发布的最大问题。如果核心是旧的并且驱动程序是新的，那么它将无法工作。

但我不认为这对你来说是个问题。

有很多关于软件设计的好书。

# glassfish - 如何升级玻璃鱼？

> ID：10877005
> 
> 赞同：3
> 
> 时间：2012-06-04T06:11:54.567
> 
> 标签：glassfish, glassfish-3, glassfish-embedded, maven-glassfish-plugin, glassfish-webspace

我想在没有互联网连接的情况下升级 Glassfish。但是我已经下载了最新版本。

我已经完成了以下步骤，
例如。**galssfish-3.0**是**旧版本**，**glassfish-3.1**是**新版本**。

**步骤：1** 我刚刚复制了**glassfish-3.0/glassfish/domains/domain1**并粘贴到**glassfish-3.1/glassfish/domains**

**步骤：2** 在**glassfish-3.1/bin** `./asadmin`中，我只需给出命令`asadmin> start-domain --upgrade`

然后我检查了版本**asadmin>**输出的版本是

`Version = GlassFish Server Open Source Edition 3.1.1 (build 12)
Command version executed successfully.`

这是正确的还是我需要遵循其他一些方法来实现这一点？如果错了，请指导我正确的方式。

谁能帮我？

提前致谢，

格尼克

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T06:09:31.807

关于[Oracle GlassFish Server 3.1 升级指南](http://docs.oracle.com/cd/E18930_01/html/821-2437/abmbr.html#gktgx)，您做得对。

本指南中有一些关于迁移已部署应用程序的提示：

> 部署在源服务器中的应用程序归档（EAR 文件）和组件归档（JAR、WAR 和 RAR 文件）不需要任何修改即可在 Oracle GlassFish Server 3.1 上运行。可能不兼容的组件部署在 GlassFish Server 3.1 上，兼容性属性设置为 v2，并且将在 GlassFish Server 3.1 上运行而无需更改。但是，您可能需要考虑修改应用程序以符合 Java EE 6 要求。
> 
> ...
> 
> 部署在源服务器中的应用程序和组件在升级期间部署在目标服务器上。在目标服务器上部署失败的应用程序必须由用户手动部署在目标服务器上。
> 
> 如果域包含有关已部署应用程序的信息，并且已安装的应用程序组件与配置信息不一致，则配置将被原封不动地迁移，而不会尝试重新配置不正确的配置。

您应该仔细阅读该指南，并在服务器启动或手动重新部署期间检查您部署的应用程序是否有任何错误/异常。

前段时间，我按照更新指南中的说明进行了从 3.0 到 3.1.1 的更新，但记不起任何更大的问题。

# php - PHP：fopen：没有这样的文件或目录

> ID：10877007
> 
> 赞同：9
> 
> 时间：2012-06-04T06:11:57.250
> 
> 标签：php, fopen

我正在尝试为我的网站创建一个日志文件。为此，我使用以下代码尝试打开文件。现在该文件尚不存在，但文档指出添加“a+”标志可确保在文件不存在时创建该文件。

```
 $file = fopen($_SERVER['DOCUMENT_ROOT']."/logs/mylogfile.txt", "a+"); 
```

上面的代码给了我以下错误...

```
Warning: fopen(E:/wamp/www/logs/mylogfile.txt) [function.fopen]: failed to open stream: No such file or directory 
```

我究竟做错了什么 ？如果这是一个愚蠢的问题，请原谅，我对 PHP 很陌生。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-04T07:07:29.817

fopen 的第二个参数“a+”只有在目录存在的情况下才能创建文件。确保日志目录在那里。如果不是这种情况，请使用：

```
mkdir($_SERVER['DOCUMENT_ROOT']."/logs/", 0755, true); 
```

（true 是关键）在 fopen() 之前

# android - Android - 带有增量器减量器的数字列表

> ID：10877009
> 
> 赞同：0
> 
> 时间：2012-06-04T06:11:58.817
> 
> 标签：android

我想要一个带有增量器和减量器的数字 EditText 字段列表（功能类似于旋转按钮）。这些数字应该是加起来等于 100 的百分比。只有在发生这种情况时才能最终确定这些值。我还希望增量器在总数达到 100 时变灰，而在总数达到 0 时减量器变灰。我还包括另一个文本视图，显示当前总数和 100 之间的差异。做这个？我应该只有 2*n 个不同的按钮让听众完成所有这些工作吗？还是有更简洁的方法？

**更新：** 更改值的主要方法是向上/向下按钮。可编辑的文本只是为了方便起见。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T07:30:24.840

如果值达到其最小值/最大值，我将在 EditTexts 上使递增的 Buttons 透明，并使它们半透明。另一种方法是有一个通用的递增和递减按钮和一个微调器或单选按钮以供选择。但是，如果不知道您的价值观的用途和您所考虑的处理方式，则无法最终确定考虑。

编辑： SeekBar 将非常适合不超过 100 的值而无需额外的按钮。

# sharepoint - 为什么我们不在站点页面的自定义页面中使用服务器端代码

> ID：10877013
> 
> 赞同：1
> 
> 时间：2012-06-04T06:12:44.983
> 
> 标签：sharepoint, sharepoint-2010, sharepoint-2007

sharepoint 中有两种类型的页面。应用程序和网站页面。如果我们想在站点页面中自定义它们，我们不能使用服务器端代码吗？如果是，为什么？[我在MSDN](http://msdn.microsoft.com/en-us/library/aa979592.aspx)中看到了一篇与此相关的文章。

一般这里所说的定制是什么意思。通过代码添加webpart就是自定义？请给我解释一下。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T20:11:14.747

如果没有 web.config 修改（不推荐），站点页面不支持服务器端代码（内联或代码隐藏文件）。这主要是出于安全和性能原因。与应用程序页面不同，可以在 SharePoint Designer 中添加或修改网站页面，并且可以通过浏览器以有限的方式进行添加或修改。

通常，拥有这些权限的用户比有权访问 Web 服务器的用户多得多。我会让你想象一下这些用户可能创建的一些不安全或低效的服务器端代码。

除了自定义 Web 部件，请参阅[Sharepoint aspx 页面的代码隐藏在哪里？](https://stackoverflow.com/questions/10206756/wheres-the-code-behind-for-sharepoint-aspx-pages)用于站点页面中的服务器端代码选项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T11:13:43.563

在创建应用程序页面时，您将 aspx 与 12 / 14 配置单元（SharePoint 安装目录）一起存储，并且您可以自由使用您想要使用的类/组件后面的任何代码。原始的 aspx 文件将保留在 Web Frond End 的物理文件夹中

另一方面，当您创建站点页面时，您是在内容数据库中而不是在文件系统中添加一个新条目。即使您有网站页面模板，也需要将安全条目添加到 web.config 以信任程序集。

对于站点页面，建议使用 WebParts。它们将允许您使用实际页面、列表、网站、站点执行任何业务/核心逻辑。

当他们谈论定制时，他们谈论的是对网站页面所做的修改，这些修改将改变原始定义。通过 Web 定义提供的网站页面将在文件系统中保持“未自定义”（幻影），直到它被编辑。

# android - 用图像填充列表视图 - viewbinder 还是 customcursoraapter？如何？

> ID：10877024
> 
> 赞同：0
> 
> 时间：2012-06-04T06:13:39.990
> 
> 标签：android, android-listview, simplecursoradapter, android-viewbinder

我正在尝试用图像填充列表视图，其 URI 是从游标返回的。

我不确定是否应该将视图绑定器与我的 simplecursoradapter 一起使用，或者创建一个自定义的 simplecursoradapter 以某种方式完成相同的工作，而且我也不知道如何实现这些选项中的任何一个。

我的适配器有以下内容：

```
SimpleCursorAdapter adapter = new SimpleCursorAdapter(this,
        R.layout.albumitem, albumCursor, displayFields, displayViews);

String[] displayFields = new String[] { AudioColumns.ALBUM,
        AudioColumns.ARTIST, AlbumColumns.NUMBER_OF_SONGS };

int[] displayViews = new int[] { R.id.albumTitle, R.id.artistTitle,
        R.id.totalSongs}; 
```

但我也想向 R.id.albumView 添加一张图片。

我可以通过从光标中检索 AlbumColumns.ALBUM_ID 来正常获取图像（在适配器之外），然后使用以下代码：

```
currentAlbumId = idList.get(currentSongIndex);
currentAlbumIdLong = Integer.parseInt(currentAlbumId);
artworkUri = Uri.parse("content://media/external/audio/albumart");
currentSongUri = ContentUris.withAppendedId(artworkUri, currentAlbumIdLong);
albumArt.setImageURI(currentSongUri); 
```

我的问题是，我不知道如何在适配器内执行类似的任务。无论如何，我最好的猜测是使用 viewBinder。有人可以告诉我如何实现这个吗？

感谢您的帮助。

- 编辑 -

两个很好的答案。谢谢你俩。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T06:25:38.187

您可以使用自定义 CursorAdpater。将您需要的参数传递给自定义类的构造函数。在 newView 中膨胀布局并在 bindView 中设置值。参考[http://blog.cluepusher.dk/2009/11/16/creating-a-custom-cursoradapter-for-android/](http://blog.cluepusher.dk/2009/11/16/creating-a-custom-cursoradapter-for-android/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T06:31:16.330

```
private class YourCustomAdatper extends CursorAdapter{

private final LayoutInflater mInflater;

public YourCustomAdatper(Context context, Cursor cursor) {
super(context, cursor, true);
mInflater = LayoutInflater.from(context);
  }

@Override
public void bindView(View view, Context context, final Cursor cursor)
{
ImageView imageview=view.findViewById(yourImageview_id);
//do rest of task
    }

@Override
public View newView(Context context, Cursor cursor, ViewGroup parent) {
final View view =mInflater.inflate(yourLayout, parent, false);

return view;
    }

} 
```

# iphone - 使用 FGallery 照片查看器库

> ID：10877035
> 
> 赞同：0
> 
> 时间：2012-06-04T06:14:33.720
> 
> 标签：iphone, objective-c, xcode

我想在我的照片查看器应用程序中使用以下库。听说 Apple 限制使用任何第三方库，应用程序上传到 App Store 时可能会被拒绝

[https://github.com/gdavis/FGallery-iPhone](https://github.com/gdavis/FGallery-iPhone)

任何人都可以对此提供一些意见吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T06:19:44.553

这并不完全正确，您可以使用任何您想要的框架或库。只要它不使用未记录的方法并遵守 Apple 指南。FGallery 可以安全使用。

# java - 长变量不接受值

> ID：10877036
> 
> 赞同：0
> 
> 时间：2012-06-04T06:14:38.183
> 
> 标签：java

我正在尝试为 long 变量赋值，但 eclipse 显示编译错误。谁能弄清楚这有什么问题？我已经检查并确信该值在长期范围内。

```
public static void main(String[] args) {
        **long num = 600851475143;**

        for(long i = num/2; i<1; i--) {
            if(num%i == 0 && isPrime(i) == true) {
                System.out.println(i);
                break;
            }
        }

    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-04T06:17:09.007

添加`L`并制作

```
long num = 600851475143L; 
```

* * *

**另见**

*   [类似的问题](https://stackoverflow.com/questions/10801003/java-error-on-long-n-8751475143/10801022#10801022)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-04T06:16:54.117

您必须附加`L`到文字以告诉编译器它是一个`long`. Java 中`int`的整数文字是默认的；由于您输入的数字不适合`int`，因此编译器会抱怨。

# c - Linux 调度：操作系统与“虚拟”

> ID：10877039
> 
> 赞同：0
> 
> 时间：2012-06-04T06:15:01.177
> 
> 标签：c, linux, multithreading, scheduling

如何在 c 下的 linux fedora 中实现多线程单进程模型，其中单个调度程序用于“主”核心读取 i/o 可用性（例如 tcp/ip、udp），然后每个核心具有单线程（从init开始），“执行线程”，解析数据然后更新少量信息更新到共享内存空间（我的理解是pthreads在单个进程下共享数据）。

我相信我的选择是：

Pthreads 或 linux 操作系统调度程序

我有一个简单的模型，包括启动一定数量的这些执行线程一个单个调度程序线程。

当我知道我可以使用这种模型时，人们能想到的最佳解决方案是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-08T10:43:42.200

完成 Benoit 的回答，为了在您的主线程和工作线程之间进行通信，您可以使用条件变量。工人们做这样的事情：

```
while (true)
{
    pthread_mutex_lock(workQueueMutex);
    while (workQueue.empty())
        pthread_cond_wait(workQueueCond, workQueueMutex);
    /* if we get were then (a) we have work (b) we hold workQueueMutex */
    work = pop(workQueue);
    pthread_mutex_unlock(workQueueMutex);
    /* do work */
} 
```

和主人：

```
/* I/O received */
pthread_mutex_lock(workQueueMutex);
push(workQueue, work);
pthread_cond_signal(workQueueCond);
pthread_mutex_unlock(workQueueMutex); 
```

这将唤醒一项空闲工作以立即处理请求。如果没有可用的工作人员，工作将被出列并稍后处理。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-08T10:31:43.707

修改 Linux 调度程序是一项艰巨的工作。我会忘记它。通常首选 Pthread。如果我理解得很好，您想要一个专用于控制计划的核心，以及一个专用于数据计划处理的其他核心池吗？然后从您的主线程创建一个线程池，并使用`pthread_setaffinity_np(...)`.

实际上，进程的线程共享相同的地址空间，并且该进程的任何线程都可以访问全局变量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-08T11:37:22.970

一般来说，这或多或少正是 posix`select`和 linux 特定`epoll`功能的用途。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-08T11:17:11.033

在我看来，您有一个[生产者-消费者问题](http://en.wikipedia.org/wiki/Producer-consumer_problem)的版本，其中单个消费者聚合了`n`生产者的结果。这是一个非常标准的问题，所以我绝对认为这`pthread`对你来说已经足够了。你不需要去搞乱调度程序。

作为答案的状态之一，像[这里](https://stackoverflow.com/questions/1212623/multiple-writer-thread-safe-queue-in-c)描述的线程安全队列很好地解决了这类问题。您最初产生一堆线程的想法是个好主意。您似乎担心线程共享全局状态的能力会给您带来问题。如果您将共享状态保持在最低限度并使用合理的锁定规则，我认为这不是问题。只要您负责任地这样做，共享状态就可以了。

最后，除非您*真的*知道自己在做什么，否则我建议您不要手动弄乱线程关联性。只需生成线程并让调度程序处理线程运行的时间和核心。要优化的是您使用的线程数。如果其他线程正在运行，每个内核一个可能实际上并不是最快的方法。

# php - 使用 ajax php mysql 实现分页搜索

> ID：10877044
> 
> 赞同：3
> 
> 时间：2012-06-04T06:15:57.910
> 
> 标签：php, jquery, mysql, ajax, search

嘿伙计们，我正在尝试使用 ajax、php、mysql、jquery 在网站中实现搜索功能。现在，当我转到列表页面（**包含网站上项目列表的**页面）时，我的应用程序工作正常。但我有一个搜索在索引页面上，其结果必须显示在列表页面上。基本分页是使用 php 完成的，适用于来自菜单的链接，但**搜索失败。**（即如果使用搜索查询从索引页面重定向它不起作用）

搜索文本框：

```
 <form name="homePageSearchForm" method="post" action="cities.php" autocomplete="off">
                 <!--   <input type="hidden" value="e.g kolte patil life republic, wagholi pune" id="hiddenExData" name="hiddenExData">-->
                    <div style="padding-top:5px; line-height:20px; width:280px;" class="flt">
                    <div class="flt"><strong>Locality, City, Builder or Project name</strong><span style="color:#FF3300;">*</span><br>
                    <div class="flt"><input type="text" onBlur="if(this.value=='') this.value='e.g kolte patil life republic, wagholi pune';" onFocus="if(this.value=='e.g kolte patil life republic, wagholi pune') this.value='';" value="e.g kolte patil life republic, wagholi pune" name="SearchValue" id="searchId" title="Search" class="headerinput ac_input" autocomplete="off"> 
```

**列出**必须显示内容的页面 div。

```
 <div class="flt width710" id="displayProp">
            <div style="margin-top:10px;" class="flt mapnewalert"> <?php //echo ucfirst($_SESSION['$city']) ?></div>
            <div style="float:right" id="toppagesel">
            <?php 
                    echo $pages->display_pages();
                    echo $pages->display_items_per_page();
                /*  if(isset($localitySearch) && $localitySearch!='' && isset($citySearch) && $citySearch!='')
                    {
                        $query = "SELECT * from properties inner join cities on properties.city_id=cities.city_id inner join locality on properties.locality_id=locality.locality_id where (cities.city_name like '%".$citySearch."%' and locality.locality_name like '%".$localitySearch."%') and (property_price_min between '78 Lacs' and '80 Lacs') $pages->limit";
                    }*/

                //  else
                //  {
                    $query = "SELECT * from properties,locality,cities where properties.city_id='".$_SESSION['$cityId']."' and properties.locality_id=locality.locality_id and properties.city_id=cities.city_id $pages->limit";
                //  }

                //  echo $query;
                    $result = mysql_query($query) or die(mysql_error());

                    //$getProperty =    $propertyDetails->getPropertyDetailsByCityIdPaginate($_SESSION['$cityId'],$limit);
            ?>
            <?php //echo $pages->display_pages(); ?><?php //echo $pages->display_items_per_page();?>
            </div>
        </div> 
```

现在点击搜索按钮我调用一个javascript函数如下

```
 <input type="submit" onClick="**handleHomePageSearch(0,'e')**;return false;" value="SEARCH" class="hpnewsubmitbtn"> 
```

js函数：

```
 function handleHomePageSearch(buttonEle,e) {
             var criteria  = document.getElementById("searchCriteria").value;
            var searchVal = document.getElementById("searchId").value;
            xmlHttpSearchct=GetXmlHttpObject();
            var cur_page = document.getElementById("current_page").innerHTML;

            var url="fetchCity.php?&searchVal="+searchVal+"&buttonEle="+buttonEle+"&cur_page="+cur_page;
            alert(url);
            xmlHttpSearchct.open("GET",url,false);

            xmlHttpSearchct.send(null);

                           var Searchres=xmlHttpSearchct.responseText;
                       **//To get the response**
                        xmlhttp.onreadystatechange=function()
          {
              if (xmlhttp.readyState==4 && xmlhttp.status==200)
                {
                                    document.getElementById('displayProp').innerHTML=Searchres;
                }
          } 
```

**这会以 HTML 的形式返回响应，但我无法在列表（properties.php）页面上显示它。如果我使用搜索值，分页也不起作用。**

fetchCity.php**包含**用于搜索的查询和 HTML 以返回数据。

```
 $searchValue= $_GET['searchVal'];
$buttonEle  = $_GET['buttonEle'];
$current_page=$_GET['cur_page'];

    $locCity = explode(" ",$searchValue);
    $localitySearch =   $locCity[0];
    $citySearch     =    $locCity[1];

        $query = "SELECT * from properties inner join cities on properties.city_id=cities.city_id inner join locality on properties.locality_id=locality.locality_id where (cities.city_name like '%".$citySearch."%' and locality.locality_name like '%".$localitySearch."%') and (property_price_min between '78 Lacs' and '80 Lacs') $pages->limit";
    //echo $query;
    exit;
    $result = mysql_query($query) or die(mysql_error());

?>

<div class="width710" id="displayProp">

     <?php 

/*print_r($getProperty);
foreach($result as $property)*/
while($row=mysql_fetch_assoc($result))
{
      ?>
            <div class="projectlisttiger">      
            <div class="proptigerhead">PropTiger Recommends</div>   
                <div class="spacer5">&nbsp;</div>
                <div class="listnewimg flt">
                    <a href="p-kolte-patil-cilantro-wagholi-pune.php">
                        <img src="admin/uploads/<?php echo ($row['property_cover_image']) ?>" width="186" height="125" border="0">
                        <img src="admin/uploads/Cilantra1/1cilantra-large.jpg" width="186" height="125" border="0">
                    </a>
                     <div class="newlistlaunch"><a href="p-kolte-patil-cilantro-wagholi-pune.php"><img width="65" height="65" border="0" src="images/projects/kolte-patil/cilantra/new_launch_blue.png"></a>
                     </div>                             
                </div>

                <div class="listright">
                    <div style="width:498px; height:42px;" class="flt">
                        <div class="list-logo flt">
                            <div class="buildborder"><a href="p-kolte-patil-cilantro-wagholi-pune.php"><img width="80" height="36" border="0" align="absmiddle" alt="Kolte Patil" src="admin/uploads/<?php echo $row['builder_logo']?>"></a>
                            </div>
                               <div class="tablistname"><a href="p-kolte-patil-cilantro-wagholi-pune.php"><?php echo $row['property_name'] ?></a></div>
                        </div>   
                        <?php if ($row['property_price_min']!=0) { ?>      
                        <div class="listprice">
                            <img width="18" height="18" align="absmiddle" src="images/city/rupee_icon.gif"> <?php echo $row['property_price_min'] ?> Lacs - <?php echo $row['property_price_max'] ?> Lacs       
                        </div>
                        <?php } else { ?>
                        <div class="listprice">
                             <img width="18" height="18" align="absmiddle" src="images/city/rupee_icon.gif">Price on Request
                        </div>
                        <?php } ?>

                    </div>

                        <div class="spacer3">&nbsp;</div>        SPACER

                    <div class="listbox">
                        <a href="p-kolte-patil-cilantro-wagholi-pune.php"><strong>Address</strong>:<?php echo $row['locality_name'] ?>, <?php echo $row['city_name'] ?><br> <strong>Types</strong>: 2BHK &amp; 3BHK
                        <br><strong>Sizes:</strong> <?php echo $row['property_size_min'] ?> sqft - <?php echo $row['property_size_max'] ?> sqft </a>
                    </div>

                    <div style="margin-left:-3px;" class="flt">
                        <div style="width:110px;" class="flt"><a style="text-decoration:none;" href="p-kolte-patil-cilantro-wagholi-pune.php"><input type="button" value="View Details" class="detail_project"></a>
                        </div>     
                      <div style="width:110px;" class="flt"><input type="button" onClick="showEnqForm('2659','Cilantro'); return false;" value="Enquire Now" class="enquire_project"></div>
                    </div>
                           <div class="spacer">&nbsp;</div>        SPACER                                
                </div>
                <div class="spacer15">&nbsp;</div>                  SPACER
       </div>              

   <?php } 
   exit;

  // echo "<p class=\"paginate\">Page: $pages->current_page of $pages->num_pages</p>\n";
   ?>                         

        <div class="spacer15">&nbsp;</div>
       </div> 
```

我想知道我的方法对吗？如何在分页工作的其他页面上显示搜索结果。

**作为参考，我将添加具有类似功能的参考站点的链接。**

这是： http: [//www.proptiger.com/](http://www.proptiger.com/) 任何形式的建议或帮助将不胜感激。
分页类：

```
 class Paginator{
var $items_per_page;
var $items_total;
var $current_page;
var $num_pages;
var $mid_range;
var $low;
var $limit;
var $return;
var $default_ipp;
var $querystring;
var $ipp_array;

function Paginator()
{
    $this->current_page = 1;
    $this->mid_range = 2;
    $this->ipp_array = array(2,4,6,8,10,'All');
    $this->items_per_page = (!empty($_GET['ipp'])) ? $_GET['ipp']:$this->default_ipp;
}

function paginate()
{
    if(!isset($this->default_ipp)) $this->default_ipp='10';
    if($_GET['ipp'] == 'All')
    {
        $this->num_pages = 1;
          //$this->items_per_page = $this->default_ipp;
    }
    else
    {
        if(!is_numeric($this->items_per_page) OR $this->items_per_page <= 0) $this->items_per_page = $this->default_ipp;
        $this->num_pages = ceil($this->items_total/$this->items_per_page);
    }
    $this->current_page = (isset($_GET['page'])) ? (int) $_GET['page'] : 1 ; // must be numeric > 0
    $prev_page = $this->current_page-1;
    $next_page = $this->current_page+1;
    if($_GET)
    {
        $args = explode("&",$_SERVER['QUERY_STRING']);
        foreach($args as $arg)
        {
            $keyval = explode("=",$arg);
            if($keyval[0] != "page" And $keyval[0] != "ipp") $this->querystring .= "&" . $arg;
        }
    }

    if($_POST)
    {
        foreach($_POST as $key=>$val)
        {
            if($key != "page" And $key != "ipp") $this->querystring .= "&$key=$val";
        }
    }
    if($this->num_pages > 4)
    {
        $this->return = ($this->current_page > 1 And $this->items_total >= 10) ? "<a class=\"paginate\" href=\"$_SERVER[PHP_SELF]?page=$prev_page&ipp=$this->items_per_page$this->querystring\">&laquo; Previous</a> ":"<span class=\"inactive\" href=\"#\">&laquo; Previous</span> ";

        $this->start_range = $this->current_page - floor($this->mid_range/2);
        $this->end_range = $this->current_page + floor($this->mid_range/2);

        if($this->start_range <= 0)
        {
            $this->end_range += abs($this->start_range)+1;
            $this->start_range = 1;
        }
        if($this->end_range > $this->num_pages)
        {
            $this->start_range -= $this->end_range-$this->num_pages;
            $this->end_range = $this->num_pages;
        }
        $this->range = range($this->start_range,$this->end_range);

        for($i=1;$i<=$this->num_pages;$i++)
        {
            if($this->range[0] > 2 And $i == $this->range[0]) $this->return .= " ... ";
            // loop through all pages. if first, last, or in range, display
            if($i==1 Or $i==$this->num_pages Or in_array($i,$this->range))
            {
                $this->return .= ($i == $this->current_page And $_GET['page'] != 'All') ? "<a title=\"Go to page $i of $this->num_pages\" class=\"current\" href=\"#\">$i</a> ":"<a class=\"paginate\" title=\"Go to page $i of $this->num_pages\" href=\"$_SERVER[PHP_SELF]?page=$i&ipp=$this->items_per_page$this->querystring\">$i</a> ";
            }
            if($this->range[$this->mid_range-1] < $this->num_pages-1 And $i == $this->range[$this->mid_range-1]) $this->return .= " ... ";
        }
        $this->return .= (($this->current_page < $this->num_pages And $this->items_total >= 10) And ($_GET['page'] != 'All') And $this->current_page > 0) ? "<a class=\"paginate\" href=\"$_SERVER[PHP_SELF]?page=$next_page&ipp=$this->items_per_page$this->querystring\">Next &raquo;</a>\n":"<span class=\"inactive\" href=\"#\">&raquo; Next</span>\n";
        $this->return .= ($_GET['page'] == 'All') ? "<a class=\"current\" style=\"margin-left:10px\" href=\"#\">All</a> \n":"<a class=\"paginate\" style=\"margin-left:10px\" href=\"$_SERVER[PHP_SELF]?page=1&ipp=All$this->querystring\">All</a> \n";
    }
    else
    {
        for($i=1;$i<=$this->num_pages;$i++)
        {
            $this->return .= ($i == $this->current_page) ? "<a class=\"current\" href=\"#\">$i</a> ":"<a class=\"paginate\" href=\"$_SERVER[PHP_SELF]?page=$i&ipp=$this->items_per_page$this->querystring\">$i</a> ";
        }
        $this->return .= "<a class=\"paginate\" href=\"$_SERVER[PHP_SELF]?page=1&ipp=All$this->querystring\">All</a> \n";
    }
    $this->low = ($this->current_page <= 0) ? 0:($this->current_page-1) * $this->items_per_page;
    if($this->current_page <= 0) $this->items_per_page = 0;
    $this->limit = ($_GET['ipp'] == 'All') ? "":" LIMIT $this->low,$this->items_per_page";
}
function display_items_per_page()
{
    $items = '';
    if(!isset($_GET[ipp])) $this->items_per_page = $this->default_ipp;
    foreach($this->ipp_array as $ipp_opt) $items .= ($ipp_opt == $this->items_per_page) ? "<option selected value=\"$ipp_opt\">$ipp_opt</option>\n":"<option value=\"$ipp_opt\">$ipp_opt</option>\n";
    return "<span class=\"paginate\">Items per page:</span><select class=\"paginate\" onchange=\"window.location='$_SERVER[PHP_SELF]?page=1&ipp='+this[this.selectedIndex].value+'$this->querystring';return false\">$items</select>\n";
}
function display_jump_menu()
{
    for($i=1;$i<=$this->num_pages;$i++)
    {
        $option .= ($i==$this->current_page) ? "<option value=\"$i\" selected>$i</option>\n":"<option value=\"$i\">$i</option>\n";
    }
    return "<span class=\"paginate\">Page:</span><select class=\"paginate\" onchange=\"window.location='$_SERVER[PHP_SELF]?page='+this[this.selectedIndex].value+'&ipp=$this->items_per_page$this->querystring';return false\">$option</select>\n";
}
function display_pages()
{
    return $this->return;
} 
```

}

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T06:25:25.500

让你的js函数像这样

```
function handleHomePageSearch(buttonEle, e) {
    var criteria = document.getElementById("searchCriteria").value;
    var searchVal = document.getElementById("searchId").value;
    xmlHttpSearchct = new XMLHttpRequest();
    var cur_page = document.getElementById("current_page").innerHTML;

    var url = "fetchCity.php?&searchVal=" + searchVal + "&buttonEle=" + buttonEle + "&cur_page=" + cur_page;
    alert(url);

    xmlHttpSearchct.onreadystatechange = function () {
        if (xmlHttpSearchct.readyState == 4 && xmlHttpSearchct.status == 200) {
            document.getElementById('displayProp').innerHTML = xmlHttpSearchct.responseText;
        }
    }
    xmlHttpSearchct.open("GET", url, false);
    xmlHttpSearchct.send(null);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-13T16:20:15.510

```
$(document).ready(function () {
    $('.paginate').live('click', function (e) {
        e.preventDefault();
        var btnPage = $(this);
        $.ajax({
            url: btnPage.attr('href'),
            success: function (resp) {
                // replace current results with new results.
                $('#project_section').html(resp);
            },
            error: function () {
                window.location.href = btnPage.attr('href');
            }
        });
    });
}); 
```

这里 $(".paginate") 是`<li>`我的分页器类中的类。我在[这里](https://stackoverflow.com/questions/10928368/paginate-records-on-client-side-issue)得到了答案谢谢

# python - 你如何找到一段 Python 的 CPU 消耗？

> ID：10877048
> 
> 赞同：6
> 
> 时间：2012-06-04T06:16:17.643
> 
> 标签：python, django, performance, profiling, stress-testing

## 背景

我有一个 Django 应用程序，它在低负载下工作和响应非常好，但在像 100 个用户/秒这样的高负载下，它消耗 100% 的 CPU，然后由于缺乏 CPU 速度变慢。

问题：

*   分析应用程序给了我函数所花费的时间。
*   该时间在高负载时增加。
*   消耗的时间可能是由于复杂的计算或等待 CPU。

**那么，如何找到一段代码消耗的 CPU 周期呢？**

**由于减少CPU消耗会增加响应时间。**

*   我可能编写了非常高效的代码并且需要增加更多的 CPU 能力

或者

*   我可能有一些愚蠢的代码占用 CPU 并导致速度变慢？

## 更新

*   我正在使用 Jmeter 来分析我的 Web 应用程序，它为我提供了 2 个请求/秒的吞吐量。[ 100 个用户]
*   100 个请求的平均时间为 36 秒，而 1 个请求的平均时间为 1.25 秒。

**更多信息**

*   配置 Nginx + Uwsgi 与 4 个工作人员
*   未使用数据库，使用来自 REST API 的响应
*   在第一次命中时，REST API 的响应被缓存，因此没有什么区别。
*   用于json`ujson`解析。

**很想知道：**

*   Python-Django 被如此多的组织用于如此多的大型站点，那么必须有一些高端的 Debug / Memory-CPU 分析工具。
*   我发现的所有这些都是执行分析的随意代码片段。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T23:40:22.673

您可以尝试将测试配置为缓慢上升，足够慢，以便您可以看到 CPU 逐渐增加，然后在达到高 CPU*之前运行分析器。*当 CPU 用尽时，尝试分析代码是没有意义的，因为此时一切都会变慢。事实上，您真的只需要相对较轻的负载就可以从分析器中获取有用的数据。

此外，通过逐渐增加负载，您将能够更好地查看 CPU 是否逐渐增加（表明 CPU 瓶颈）或 CPU 是否突然跳跃（表明可能是另一种类型的问题，不一定由更多的 CPU 解决）。

尝试使用诸如 Cosntant Throughput Timer 之类的东西来调整请求的速度，这将防止 JMeter 走神并让系统过载。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T11:58:57.523

查看[New Relic](http://newrelic.com/)以获得一些非常好的分析，他们有 django 特定的日志记录。

# java - 使用正则表达式测试有效/无效字符串

> ID：10877051
> 
> 赞同：1
> 
> 时间：2012-06-04T06:16:40.337
> 
> 标签：java, regex, string

我通过检查某些字符是否存在来测试字符串是否有效/无效。包含 ; 的字符串 # / % = | + \ " < > 被视为无效。我目前在 Java 中有以下实现，但我更喜欢更优雅的正则表达式解决方案。

```
public boolean isStringValid(String name) {
    if (   name.contains(";")
        || name.contains("#")
        || name.contains("/")
        || name.contains("%")
        || name.contains("=")
        || name.contains("|")
        || name.contains("+")
        || name.contains("\\")
        || name.contains("\"")
        || name.contains("<")
        || name.contains(">")) {
        return false;
    }
    else {
        return true;
    }
} 
```

我所做的是将其更改为以下内容，

```
public boolean isNameValid(String name) {
    return !Pattern.matches(".*(;|#|/|%|=|\\||\\+|\\\\|\"|<|>)+.*", name);
} 
```

但我似乎无法正确获取正则表达式字符串。添加所有Java转义字符之前的原始正则表达式字符串如下，

```
.*(;|#|/|%|=|\||\+|\\|"|<|>)+.* 
```

使用像 [Az] 这样的字符类似乎不是一个选项，因为像“d@vik”这样的名称在我的情况下应该被认为是有效的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T06:28:43.130

您可以否定字符类：

```
Pattern.matches("[^;#/%=|+\\\\\"<>]+", name); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T06:31:52.903

你几乎是对的。只需使用`find()`方法而不是`matches()`. 并且只编译一次模式。这是最昂贵的操作。您可以使用 : 简化您的模式`[` `]`：在这种情况下，您不必`|`在要查找的子模式之间编写：

```
private static Pattern validator = Pattern.compile("[;%#=\\+]"); // etc: write all characters you need. 
```

现在重写你`isNameValid()`如下：

```
public boolean isNameValid(String name) {
    return !validator.find();
} 
```

顺便说一句，注意反斜杠。如果您希望您的模式包含反斜杠，则应编写 4 次：两次用于正则表达式转义，两次用于 Java 转义。

# java - 管理测试用例，存在于单个文件中

> ID：10877054
> 
> 赞同：2
> 
> 时间：2012-06-04T06:16:58.837
> 
> 标签：java, testing, testng

我有很多测试用例写在一个文件中。它们实际上是某种指令，可以从 JAVA 内部读取和运行。

问题是这种方法不好。由于大量测试用例，文件变得很大且难以管理。我应该如何管理它们？我正在考虑将它们拆分为不同的文件，并为元数据创建一个 XML 数据库。还有更好的方法吗？

PS：它们不是简单的英语测试用例，它们是可以在 JAVA 中运行的指令。

更新：但它们不是单元测试，更像是功能测试，它们不是测试类。程序从文件中读取不同的测试用例并运行它们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T07:05:34.547

看看 Cucumber 使用的方法。在这里，您可以找到人类可读的“功能”描述，每个描述都包含该功能的许多不同场景，以便对其进行全面测试。没有一个特性文件是单个测试，没有一个是测试类本身，程序读取所有特性文件并运行它们。

这里的整体模式也可能对你有启发。

[http://cukes.info/](http://cukes.info/)

请注意，最近已经完成了大量工作，使得用 Java 和 Ruby 的原始本地语言编写这些 cuke 测试变得容易。

Cucumber 的 Java 端口使用 JUnit 4 自定义测试运行器，如下所示：

```
@RunWith(Cucumber.class)
@Feature("create_user_account.feature")
public class CreateUserAccountTest {
} 
```

您可以将此类作为 JUnit 测试运行，并且控制台输出看起来与您在 Cucumber 网站上看到的非常相似。所以你基本上每个特性都有一个“测试类”。然后，您可以通过将它们分组到测试套件或使用 Eclipse 的测试运行批处理来一次运行整个包的特性、单个特性或整个项目的特性。

# android - 如何使用 .wav 文件模拟麦克风的音频输入

> ID：10877062
> 
> 赞同：19
> 
> 时间：2012-06-04T06:17:50.810
> 
> 标签：android, audio, wav, microphone, voice

我的目标是使用`.wav`文件代替模拟器中的麦克风输入。该`.wav`文件必须由 Android 模拟器中的语音记录器识别和处理。

我想通过从文件中发出语音命令来测试语音记录器`.wav`，就好像应用程序已通过麦克风输入接收到它们一样。

这可能吗？

# spring - 使用 Spring Security 对任何 url 进行用户登录验证

> ID：10877063
> 
> 赞同：1
> 
> 时间：2012-06-04T06:17:52.327
> 
> 标签：spring, spring-security

我正在使用 spring security 对我的 web 应用程序进行身份验证。我可以通过如下配置成功使用它：

```
<http auto-config='true'>
    <intercept-url pattern="/Login" filters="none" access="ROLE_USER"/>
    <form-login login-page='/Login' authentication-failure-url="/Login/Failure" 
        default-target-url="/Url"/>
</http>

<authentication-manager>
    <authentication-provider>
        <user-service>
           <user name="admin" password="admin" authorities="ROLE_USER" />
        </user-service>
    </authentication-provider>
</authentication-manager> 
```

如果我直接从登录页面登录，上面的代码可以正常工作。如果其中一个用户正在访问不是登录页面的不同 url。现在我想限制用户访问任何直接 url 而无需第一次登录系统。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T06:24:52.197

您需要将拦截规则更改为：

```
<intercept-url pattern="/**" filters="none" access="ROLE_USER"/> 
```

您可能还必须从身份验证要求中排除登录页面。因为用户不必为了看到登录页面而登录。您可以通过添加：

```
<intercept-url pattern="/Login" filters="none"/> 
```

# visual-studio - 如何标记需要在智能感知中显示不同的属性

> ID：10877065
> 
> 赞同：0
> 
> 时间：2012-06-04T06:17:57.673
> 
> 标签：visual-studio, intellisense

假设我们有一个这样的类：

```
public class Plan
{
    public string PlanCode { get; set; } //Required
    public string Name { get; private set; }
    public string Description { get; set; }
    public string SuccessUrl { get; set; }
} 
```

有没有办法让智能感知显示所需的字段/属性不同，例如斜体或红色阴影？

`Create()`例如，如果调用一个方法，就可以快速确定需要哪些属性。

注意：当我说在智能感知中显示不同时，我并不是指在突出显示成员时看到的工具提示文本。我特别指的是成员本身的文本。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T06:35:46.417

不，我不相信你可以。您应该在设计对象时考虑到必填字段，即构造函数。

所以对象需要的任何字段都应该是构造函数中的参数。

```
public class Plan
{
    public string PlanCode { get; set; } //Required
    public string Name { get; private set; }
    public string Description { get; set; }
    public string SuccessUrl { get; set; }

    public Plan(string planCode)
    {
        PlanCode = planCode;
    }
} 
```

这使您的代码可以清楚地表达其意图。任何使用 Plan 类的开发人员都知道 PlanCode 是必需的，因为它是由构造函数强制执行的。

# java - 无法使用 Hibernate 多次连接到 Oracle

> ID：10877066
> 
> 赞同：-1
> 
> 时间：2012-06-04T06:18:11.053
> 
> 标签：java, oracle, hibernate

在我的项目中，我们使用休眠 3X 进行数据库连接。但是，同时在不同页面上执行多个查询时，oracle 数据库崩溃说**无法打开连接或拒绝连接被侦听器拒绝。**然后我们必须重新启动 oracle DB 才能恢复功能。他们是使用hibernate或oracle避免它的一种方法吗？我是新来的冬眠。

```
Listener refused the connection with the following error: 
```

ORA-12516, TNS:listener 找不到具有匹配协议栈的可用处理程序客户端使用的连接描述符是: 192.168.5.112:1521/XE

```
at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:261)
at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:387)
at oracle.jdbc.driver.PhysicalConnection.<init>(PhysicalConnection.java:420)
at oracle.jdbc.driver.T4CConnection.<init>(T4CConnection.java:165)
at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)
at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)
at java.sql.DriverManager.getConnection(Unknown Source)
at java.sql.DriverManager.getConnection(Unknown Source)
at org.hibernate.connection.DriverManagerConnectionProvider.getConnection(DriverManagerConnectionProvider.java:133)
at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)
at org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)
at org.hibernate.jdbc.AbstractBatcher.prepareQueryStatement(AbstractBatcher.java:161)
at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1577)
at org.hibernate.loader.hql.QueryLoader.iterate(QueryLoader.java:422)
at org.hibernate.hql.ast.QueryTranslatorImpl.iterate(QueryTranslatorImpl.java:405)
at org.hibernate.engine.query.HQLQueryPlan.performIterate(HQLQueryPlan.java:248)
at org.hibernate.impl.SessionImpl.iterate(SessionImpl.java:1220)
at org.hibernate.impl.QueryImpl.iterate(QueryImpl.java:69)
at org.apache.jsp.jsp.epMgnt.feature_jsp._jspService(feature_jsp.java:263)
at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:433)
at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:389)
at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:333)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:684)
at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:593)
at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:530)
at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:927)
at org.apache.jasper.runtime.PageContextImpl.doInclude(PageContextImpl.java:684)
at org.apache.jasper.runtime.PageContextImpl.include(PageContextImpl.java:678)
at org.apache.tiles.jsp.context.JspTilesRequestContext.include(JspTilesRequestContext.java:103)
at org.apache.tiles.jsp.context.JspTilesRequestContext.dispatch(JspTilesRequestContext.java:96)
at org.apache.tiles.renderer.impl.UntypedAttributeRenderer.write(UntypedAttributeRenderer.java:61)
at org.apache.tiles.renderer.impl.AbstractBaseAttributeRenderer.render(AbstractBaseAttributeRenderer.java:103)
at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:659)
at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:337)
at org.apache.tiles.jsp.taglib.InsertAttributeTag.render(InsertAttributeTag.java:234)
at org.apache.tiles.jsp.taglib.InsertAttributeTag.render(InsertAttributeTag.java:211)
at org.apache.tiles.jsp.taglib.RenderTag.doEndTag(RenderTag.java:220)
at org.apache.jsp.jsp.tiles.baseLayout_jsp._jspx_meth_tiles_005finsertAttribute_005f3(baseLayout_jsp.java:226)
at org.apache.jsp.jsp.tiles.baseLayout_jsp._jspService(baseLayout_jsp.java:101)
at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:433)
at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:389)
at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:333)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:684)
at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:471)
at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:402)
at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:329)
at org.apache.tiles.servlet.context.ServletTilesRequestContext.forward(ServletTilesRequestContext.java:241)
at org.apache.tiles.servlet.context.ServletTilesRequestContext.dispatch(ServletTilesRequestContext.java:222)
at org.apache.tiles.renderer.impl.TemplateAttributeRenderer.write(TemplateAttributeRenderer.java:44)
at org.apache.tiles.renderer.impl.AbstractBaseAttributeRenderer.render(AbstractBaseAttributeRenderer.java:103)
at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:659)
at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:678)
at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:633)
at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:322)
at org.apache.struts2.views.tiles.TilesResult.doExecute(TilesResult.java:105)
at org.apache.struts2.dispatcher.StrutsResultSupport.execute(StrutsResultSupport.java:186)
at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:361)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:265)
at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:163)
at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:249)
at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:122)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:195)
at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:195)
at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:148)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:93)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:235)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:89)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:128)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
at org.apache.struts2.interceptor.ProfilingActivationInterceptor.intercept(ProfilingActivationInterceptor.java:104)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:267)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:126)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:138)
at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:148)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:128)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:236)
at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:52)
at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:468)
at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:76)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:462)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:851)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)
at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:278)
at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)
at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)
at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
at java.lang.Thread.run(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T06:47:37.590

听起来您用完了数据库连接句柄服务器端。你确定你正确地关闭你的连接并将它们汇集起来吗？

如果您的代码是正确的，那么请在 DBA 处询问如何增加服务器端的数量，但我怀疑您没有正确汇集。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:06:10.767

您的数据库没有“崩溃”，您只是打开了太多连接。这使您达到允许的最大连接数，并且侦听器拒绝打开其他连接。绝对不需要重新启动数据库（或侦听器）来解决此问题。这是解决问题的错误方法，因为您只是在与症状作斗争而不是解决根本原因。

您必须确保正确关闭所有打开的连接。

您可能希望配置您的池以记录那些在一定时间内没有关闭的连接。如何执行此操作取决于您的连接池。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T09:47:44.310

Finally i managed to solve this problem by using a temporary solution. All i did was increased the Session and Process number of the oracle database to 200.

# visual-c++ - 单击控件时在MFC中选择CEdit控件的内容

> ID：10877071
> 
> 赞同：3
> 
> 时间：2012-06-04T06:18:43.950
> 
> 标签：visual-c++, mfc

当我单击 CEdit 的文本时，我怎么能选择 CEdit 控件的内容。我可以使用以下代码选择内容：

```
m_ctrlEdit.SetFocus();
m_ctrlEdit.SetSel(0, -1, FALSE); 
```

我将代码放在`ON_EN_SETFOCUS`消息处理程序中，但代码在那里不起作用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-04T06:43:59.700

创建一个自定义 CEdit 控件并在自定义类中添加处理程序 OnLButtonDown ，其中放置以下代码

```
void CMyEdit::OnLButtonDown(UINT nFlags, CPoint point)

    {
        // TODO: Add your message handler code here and/or call default
        CEdit::OnLButtonDown(nFlags, point);
        SetSel(0, -1, FALSE);
    } 
```

# cassandra - 在 mac os x 上停止 cassandra 服务器

> ID：10877072
> 
> 赞同：20
> 
> 时间：2012-06-04T06:19:04.780
> 
> 标签：cassandra

如何停止在我的 mac os x 的单个节点上运行的 cassandra 服务器？Cassandra 脚本没有 -stop 选项。除了重新启动mac os x之外，唯一的方法是执行“ps”并找到具有cassandra参数的java进程并使用kill -9来终止该进程。

但是在那之后尝试重新启动cassandra仍然会抛出

`Error: Exception thrown by the agent : java.rmi.server.ExportException: Port already in use: 7199; nested exception is: java.net.BindException: Address already in use`.

有人看过吗？有什么快速的解决方案吗？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2016-04-19T19:05:17.510

如果您已经通过自制软件安装了 cassandra，请使用`brew info cassandra`它，它会告诉您如何使用 launchctl 加载/卸载 cassandra。这对我来说比这里的其他答案更好。

命令

`brew info cassandra`查看 cassandra 的状态

`brew services start cassandra`启动 cassandra

`brew services stop cassandra`阻止卡桑德拉

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2012-06-05T01:22:39.320

编辑：我实际上发现这更有用。

打开终端并输入：

$ ps -ax | grep 卡桑德拉

为您提供一个名为 cassandra 的 pid 列表。

使用 PID 号杀死进程，例如这里是一个返回值：708 ttys000 0:03.10 /usr/bin/java -ea -javaagent:Downloads/Web/Cassandra/dsc-cassandra-1.1.0/bin/

$杀708

* * *

旧帖：

发表评论后，我在 BIN 中找到了一个停止服务器脚本。

如果要使用该脚本，则必须打开脚本并注释掉代码。但这是脚本中所说的。

```
 echo "please read the stop-server script before use"

    # if you are using the cassandra start script with -p, this
    # is the best way to stop:

     kill `cat <pidfile>` 

    # otherwise, you can run something like this, but
    # this is a shotgun approach and will kill other processes
    # with cassandra in their name or arguments too:

    # user=`whoami`
    # pgrep -u $user -f cassandra | xargs kill -9 
```

* * *

## 回答 #3

> 赞同：20
> 
> 时间：2012-07-05T06:31:05.950

在其他地方找到了这个似乎可行的解决方案！

`pkill -f 'java.*cassandra'`

值得一试！这适用于我拥有的 Ubuntu。不在 MacOS 上！

在 Mac 上还有一个是`ps -af | grep cassandra`然后使用 kill。但是，有时它不起作用！

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-10-21T18:29:03.620

您也可以使用 Cassandra 的 nodetool 命令。

```
nodetool drain 
```

该文档没有说明它关闭的任何内容，但它对我来说可以在单个节点本地服务器上可靠地工作。但是，通常需要几秒钟才能完成关机。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-07-02T05:54:20.173

另一种方法是查看哪个 OS 进程打开了 Cassandra 端口，如下所示：

```
lsof -i :9160 
```

样本输出：

```
COMMAND   PID  USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME
java    30253 aswan  214u  IPv4 0xffffff80190dcc20      0t0  TCP *:netlock1 (LISTEN) 
```

然后您可以在该进程上使用“kill -9 [pid]”。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-11-12T13:51:45.643

杀死 -9 `` acx | grep -i cassandra | awk '{print$1}'``

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-08-23T13:23:15.133

我正在使用新的 Datastax Enterprise 5.0 版本，它至少提供了一个足够简单的命令来停止 Cassandra：

```
dse cassandra-stop 
```

关闭需要一些时间，但它对我有用。

# ruby - 如何在页面上选择 href="mailto" 标签？

> ID：10877074
> 
> 赞同：1
> 
> 时间：2012-06-04T06:19:05.797
> 
> 标签：ruby, nokogiri

我可以使用 xpath 或 CSS，没关系……但`a`页面上还有其他标签。但我只想使用第一个`a href=mailto:`标签或任何人（实际上只有一个，所以顺序无关紧要）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T06:35:54.810

您可以使用 XPath[`starts-with`](http://www.w3.org/TR/xpath-functions/#func-starts-with)函数：

```
mailto = doc.xpath('//a[starts-with(@href, "mailto:")]').first 
```

XPath 规范中的标准语言特别厚，因此希望该示例足够清晰。

# iphone - 使用 scandit sdk 的条码阅读器

> ID：10877080
> 
> 赞同：2
> 
> 时间：2012-06-04T06:19:58.290
> 
> 标签：iphone, objective-c, ios, ipad, barcode-scanner

我正在使用 Scandit SDK 的条形码扫描仪。我按照所有说明运行了“Scandit”提供的演示“项目”，但单击任何按钮时它崩溃了。这是与 iOS 相关的问题吗？

我确保包括“Scandit”提供的“APP Key”。请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T14:10:15.667

This is Christian from the Scandit support team.

The problem you describe is most likely a problem with the app key integration.

Can you double-check that you added the app key correctly for our iOS barcode scanner to your xcode project?

If you continue to have problems, feel free to also send us an email at Scandit support.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-31T12:09:43.200

错误： **wait_fences：未能收到回复：10004003 Scandit SDK 激活失败（错误 403）。确保您的应用密钥有效并检查您的帐户是否有可用的设备激活。** 想法？

更新：显然这是应用程序密钥的问题，但我不能；不知道是什么。[我使用了来自https://ssl.scandit.com/account/apps](https://ssl.scandit.com/account/apps)的应用程序密钥。

# objective-c - 每当使用 UITable 时都会出现 Facebook sdk 登录

> ID：10877087
> 
> 赞同：0
> 
> 时间：2012-06-04T06:20:32.713
> 
> 标签：objective-c, ios, xcode, facebook

我已经在我的应用程序中实现了 Facebook，但现在我发现每当我尝试在其他地方使用 UITableView 时，Facebook 登录屏幕都会出现在视图中，并且它会覆盖应该在那里的表格。就像登录屏幕功能在后台（我无法与登录屏幕交互）但它显示在前台？

我按照 fb 上的教程实现了所有内容......包括应用程序委托中需要的内容。如果有人知道我需要在 Facebook sdk 中修改什么代码，将不胜感激！

谢谢

PS如果你想要代码...我可以发布它只是有相当多的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T13:05:06.387

制作 UITableWhite，它似乎掩盖了 Facebook

# .net - 查询 EF 4 的不同方式？

> ID：10877098
> 
> 赞同：0
> 
> 时间：2012-06-04T06:21:41.940
> 
> 标签：.net, entity-framework, entity-framework-4

我正在学习 EF 4 并对它的基础有疑问。请指导我。

我已经阅读了一些文章并学习使用 EF 4 创建上下文。我可以使用哪些方法来查询上下文？Linq to SQL 和 Linq to EF 不同吗？我读过存储过程可以与 EF 一起使用，还有其他方法以及在哪种情况下选择哪种方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:12:32.717

查询 EF 上下文的标准方法是*LINQ 2 Entities*。*LINQ 2 SQL*是实体框架的前身，不适合与实体框架一起使用。

在*LINQ 2 Entities*不适合的特殊情况下，您可以使用[Entity SQL Language](http://msdn.microsoft.com/en-us/library/bb399560.aspx)。

# text - GNU 链接描述文件：选择性运行地址 (VMA) 分配

> ID：10877102
> 
> 赞同：0
> 
> 时间：2012-06-04T06:22:05.983
> 
> 标签：text, linker, load, gnu

我正在编写一个 GNU 链接器脚本文件，并且需要在正确的方向上推动以下问题。

正在为其创建链接描述文件的设备具有用于托管文本和rodata 的闪存。它还具有用于托管数据和 BSS 的 SRAM。

我创建了链接描述文件的变体，其中： - 将 CODE 和 RODATA 加载到闪存中，而 DATA 和 BSS 在 SRAM 中 - SRAM 中的 CODE、RODATA、DATA 和 BSS

这些工作正常。

我现在必须创建一个链接描述文件的变体，它在闪存中包含大部分文本。但是某些名称以众所周知的后缀结尾的例程将被加载到 SRAM 中。

例如，我希望将 Func1IRAMCode() 和 Func2__IRAMCode() 加载到 SRAM 部分，而所有其他没有 IRAMCode 后缀的函数都必须加载到闪存中。

出于可移植性的原因，我不会将属性（部分）附加到这些 SRAM 函数中。

这是我绊脚的地方。文本部分具有以下规则：

```
.text :
{
*(.text .text.* .gnu.linkonce.t.*);
} > FLASH

.Misc :
{
* (.text.*IRAMCode);
} > SRAM 
```

.data 和 .bss 部分是分开定义的。

问题是 *IRAMCode() 正在获得分配的闪存地址。

从文本部分排除 *IRAMCode 的语法是什么？

你是如何在你的项目中解决这个问题的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-26T14:26:55.603

一种方法是将您的函数放在另一个部分（例如 .sram.text ），为此，请为每个特定函数（例如：）使用 gcc 的 section 属性`__attribute__ (( section ".sram.text")`。

因此，很容易将所需部分通配到 SRAM。

# html - 每个 div 之间的间距为 33%。是否可以压缩我的代码？

> ID：10877106
> 
> 赞同：2
> 
> 时间：2012-06-04T06:22:49.683
> 
> 标签：html, css

在 CSS 中对事物进行平均间隔是相对简单的。还有很多关于堆栈溢出的问题，但它没有解释的一件事是如何在每个框之间放置空格（或左边距和右边距）。

为了说明，这就是我想要完成的： ![完成](../Images/72431945d61ceb23ae09e753da6ec561.png)

我觉得我通过使用三个不同命名的 div 来实现这一点走了很长一段路：

**CSS：**

```
#moreinfobar
{

}
#moreinfobarbox
{
float:left;
width:33.33%;
}
#moreinfobarbox-info
{
margin:0 20px;
background-color:#ffffff;
-webkit-box-shadow:  0px 0px 5px 1px #000000;
box-shadow:  0px 0px 5px 1px #000000;
} 
```

**HTML：**

```
<div id="moreinfobar">

                <div id="moreinfobarbox"><div id="moreinfobarbox-info">Test1</div></div>
                <div id="moreinfobarbox"><div id="moreinfobarbox-info">Test2</div></div>
                <div id="moreinfobarbox"><div id="moreinfobarbox-info">Test3</div></div>

            </div> 
```

我试图让它与两个单独的名称 div 一起工作，但无济于事。是否可以压缩我的代码？

**JSFIDDLE：**

三个 div（工作）：

[http://jsfiddle.net/JsA25/](http://jsfiddle.net/JsA25/)

两个 div（已损坏）：

[http://jsfiddle.net/TxT4T/1/](http://jsfiddle.net/TxT4T/1/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T06:38:21.743

当您将 Margin + Width 赋予任何子元素时，其父元素具有固定宽度。边距为元素创建外部空间 - 结果：UI 损坏。

```
<div style="width:400px;">
  <div style="width:200px; float: left; margin: 0 0 0 20px;">One</div> <!--Total space required: 220px; [disturbed UI]-->
  <div style="width:200px; float: left; margin: 0 0 0 20px;">Two</div> <!--Total space required: 220px; [disturbed UI]-->
</div> 
```

父母有 - **400px** ;

子元素侵入了 40px - **440px**；结果：用户界面损坏

你只需要减小宽度。在你的情况下，保持`width:26.33%;`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:04:30.223

这里的问题是宽度的总和大于包含元素的总宽度 (3 x 33,33%) + (3 x 20px) 将始终大于 100% ！

你可以这样做：

```
.moreinfobarbox
{
 float:left;
 width:30.33%;
 margin-left:1.5%;
 margin-right:1.5%;
} 
```

这篇文章对这个问题有很好的解释：[如何使用 CSS 水平分布元素](http://woorkup.com/2009/10/07/how-to-distribute-elements-horizontally-using-css/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-10T07:55:31.940

我觉得最好的方法是将边距设置为 5%。这是 jsfiddle：http: [//jsfiddle.net/dwbed/](http://jsfiddle.net/dwbed/)

# android - 有没有办法在 android spinner 中创建一个选项组？

> ID：10877108
> 
> 赞同：1
> 
> 时间：2012-06-04T06:23:19.170
> 
> 标签：android, spinner

有谁知道如何在 android spinner 中创建一个选项组？我想做这样的事情：

```
<select>
  <optgroup label="Swedish Cars">
    <option value="volvo">Volvo</option>
    <option value="saab">Saab</option>
  </optgroup>
  <optgroup label="German Cars">
    <option value="mercedes">Mercedes</option>
    <option value="audi">Audi</option>
  </optgroup>
</select> 
```

[演示在这里。](http://www.w3schools.com/tags/tryit.asp?filename=tryhtml_optgroup)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T06:59:40.940

我建议使用 a`ExpandableListView`并将其添加到对话框中

# single-sign-on - 如何以简单的方式实现 SSO？

> ID：10877113
> 
> 赞同：-1
> 
> 时间：2012-06-04T06:23:42.283
> 
> 标签：single-sign-on

正如标题所说，这种方式[https://stackoverflow.com/questions/9211034/how-to-implement-sso](https://stackoverflow.com/a/4092222/1226787)似乎太乏味了，还有其他简单的方法吗？

* * *

我发现这个[https://stackoverflow.com/a/4092222/1226787](https://stackoverflow.com/a/4092222/1226787) 和 [https://stackoverflow.com/a/10876984/1226787](https://stackoverflow.com/a/10876984/1226787)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T06:52:25.480

您在寻找哪种类型的单点登录？如果您使用基于 SAML 的单点登录，那么一定要使用 SimpleSAMLPHP：[http ://simplesamlphp.org/](http://simplesamlphp.org/)

# javascript - 在 JStree 中重命名节点时，对象不支持属性或方法“子项”

> ID：10877116
> 
> 赞同：1
> 
> 时间：2012-06-04T06:24:26.307
> 
> 标签：javascript, jstree

我正在尝试使用以下代码重命名节点：

```
 'rename': function (t) 
    {
    $("#demo").jstree("rename"); 
    } 
```

错误：

> Microsoft JScript 运行时错误：对象不支持属性或方法“子项”

我尝试调试，但在 jquery.jstree.js 文件的以下代码中出现错误

错误在 line `w1 = obj.children("ins").width(),`。

```
_fn : {
            _show_input : function (obj, callback) {
                obj = this._get_node(obj);
                var rtl = this._get_settings().core.rtl,
                    w = this._get_settings().crrm.input_width_limit,
                    w1 = obj.children("ins").width(),
                    w2 = obj.find("> a:visible > ins").width() * obj.find("> a:visible > ins").length,
                    t = this.get_text(obj),
                    h1 = $("<div />", { css : { "position" : "absolute", "top" : "-200px", "left" : (rtl ? "0px" : "-1000px"), "visibility" : "hidden" } }).appendTo("body"),
                    h2 = obj.css("position","relative").append(
                    $("<input />", { 
                        "value" : t,
                        "class" : "jstree-rename-input",
                        // "size" : t.length,
                        "css" : {
                            "padding" : "0",
                            "border" : "1px solid silver",
                            "position" : "absolute",
                            "left"  : (rtl ? "auto" : (w1 + w2 + 4) + "px"),
                            "right" : (rtl ? (w1 + w2 + 4) + "px" : "auto"),
                            "top" : "0px",
                            "height" : (this.data.core.li_height - 2) + "px",
                            "lineHeight" : (this.data.core.li_height - 2) + "px",
                            "width" : "150px" // will be set a bit further down
                        },
                        "blur" : $.proxy(function () {
                            var i = obj.children(".jstree-rename-input"),
                                v = i.val();
                            if(v === "") { v = t; }
                            h1.remove();
                            i.remove(); // rollback purposes
                            this.set_text(obj,t); // rollback purposes
                            this.rename_node(obj, v);
                            callback.call(this, obj, v, t);
                            obj.css("position","");
                        }, this),
                        "keyup" : function (event) {
                            var key = event.keyCode || event.which;
                            if(key == 27) { this.value = t; this.blur(); return; }
                            else if(key == 13) { this.blur(); return; }
                            else {
                                h2.width(Math.min(h1.text("pW" + this.value).width(),w));
                            }
                        },
                        "keypress" : function(event) {
                            var key = event.keyCode || event.which;
                            if(key == 13) { return false; }
                        }
                    })
                ).children(".jstree-rename-input"); 
                this.set_text(obj, "");
                h1.css({
                        fontFamily      : h2.css('fontFamily')      || '',
                        fontSize        : h2.css('fontSize')        || '',
                        fontWeight      : h2.css('fontWeight')      || '',
                        fontStyle       : h2.css('fontStyle')       || '',
                        fontStretch     : h2.css('fontStretch')     || '',
                        fontVariant     : h2.css('fontVariant')     || '',
                        letterSpacing   : h2.css('letterSpacing')   || '',
                        wordSpacing     : h2.css('wordSpacing')     || ''
                });
                h2.width(Math.min(h1.text("pW" + h2[0].value).width(),w))[0].select();
            }, 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T08:55:05.360

问题是因为我在单击重命名之前选择了文件夹。当我选择文件夹并重命名它时，一切都很好

# perl - 将 2 行相同匹配模式的连续行放入单行

> ID：10877118
> 
> 赞同：0
> 
> 时间：2012-06-04T06:24:43.877
> 
> 标签：perl

我想解析这组行，以便如果`**<yagyavalkbhatt@yahoo.com>**`在连续行中获得相同的模式，它应该在两者之间用“，”单独打印。

```
q2VDWKkY010407  2221878 Sat Mar 31 19:37 <Mailer-daemon>
                     (host map: lookup (my.local.domain): deferred)
                                             <yagyavalkbhatt@yahoo.com>
                                             <yagyavalkbhatt@yahoo.com>
q2VDWKkY010407  2221878 Sat Mar 31 19:37 <Mailer-daemon>
                     (host map: lookup (my.local.domain): deferred)
                                             <yagyavalkbhatt@yahoo.com>
                                             <yagyavalkbhatt@yahoo.com> 
```

我怎样才能在 Perl 中做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T06:37:11.987

环顾四周：

```
#!/usr/bin/env perl
use strict;
use warnings;

my $str = <<'EOS';
q2VDWKkY010407  2221878 Sat Mar 31 19:37 <Mailer-daemon>
                     (host map: lookup (my.local.domain): deferred)
                                             <yagyavalkbhatt@yahoo.com>
                                             <yagyavalkbhatt@yahoo.com>
q2VDWKkY010407  2221878 Sat Mar 31 19:37 <Mailer-daemon>
                     (host map: lookup (my.local.domain): deferred)
                                             <yagyavalkbhatt@yahoo.com>
                                             <yagyavalkbhatt@yahoo.com>
EOS

$str =~ s/(?<=<yagyavalkbhatt\@yahoo.com>)\s+(?=<yagyavalkbhatt\@yahoo.com>)/,/g;
print $str; 
```

输出：

```
q2VDWKkY010407  2221878 Sat Mar 31 19:37 <Mailer-daemon>
                 (host map: lookup (my.local.domain): deferred)
                                         <yagyavalkbhatt@yahoo.com>,<yagyavalkbhatt@yahoo.com>
q2VDWKkY010407  2221878 Sat Mar 31 19:37 <Mailer-daemon>
                 (host map: lookup (my.local.domain): deferred)
                                         <yagyavalkbhatt@yahoo.com>,<yagyavalkbhatt@yahoo.com> 
```

# php - 在 Javascript/Jquery 中使用画布显示图像

> ID：10877125
> 
> 赞同：0
> 
> 时间：2012-06-04T06:25:20.080
> 
> 标签：php, javascript, jquery, javascript-events

我有以下代码：

```
function createImage(source) {                
var pastedImage = new Image();                
pastedImage.onload = function() {                                        
document.write('<br><br><br>Image: <img src="'+pastedImage.src+'" height="700" width="700"/>');                                                                                                         
}
pastedImage.src = source;                
} 
```

在这里，我通过我在 document.write 中编写的 html 图像标签显示图像，并为图像提供适当的高度和宽度。

我的问题是可以将图像显示到画布而不是 html img 标签中。这样我就可以根据需要拖动和裁剪该图像。

但是如何在画布中显示它？

**此外，我想使用 PHP 实现保存该图像，但现在让我知道以前的问题。**

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T06:33:27.183

使用 `CanvasRenderingContext2D.drawImage`.

```
function createImage(source) {                
  var ctx = document.getElementById('canvas').getContext('2d');
  var pastedImage = new Image();
  pastedImage.onload = function(){
    ctx.drawImage(pastedImage, 0, 0);
  };
  pastedImage = source;
} 
```

MDN 似乎也有[很好的例子](https://developer.mozilla.org/en/Canvas_tutorial/Using_images)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T06:59:11.830

**试试这个**

```
 var ctx = document.getElementById('canvas').getContext('2d');

    var img = new Image();   // Create new img element  
    img.onload = function(){  
      // execute drawImage statements here  This is essential as it waits till image is loaded before drawing it.
 ctx.drawImage(img , 0, 0);

    };  
    img.src = 'myImage.png'; // Set source path 
```

确保图像托管在与您的站点相同的域中。阅读本文以了解 Javascript 安全限制[同源策略](http://en.wikipedia.org/wiki/Same_origin_policy)。

例如，如果您的网站是[http://example.com/](http://example.com/) ，那么图像应该托管在[http://example.com/../myImage.png](http://example.com/../myImage.png)

如果您尝试[http://facebook.com/..image/](http://facebook.com/..image/)或其他内容，则会引发安全错误。

# java - 尝试将 String 解析为 Double 时出错

> ID：10877128
> 
> 赞同：0
> 
> 时间：2012-06-04T06:25:28.787
> 
> 标签：java, android, android-maps

我有一个这样的字符串

```
106.826820,-6.303850,0 
```

我从解析谷歌地图 KML 文档中得到。现在我想将它的字符串解析为 Double 这是我的代码：

```
public Double getLatitude(){
    for(int posisi = GPS_NAME.indexOf(","); posisi > GPS_NAME.length(); posisi++){
        TEMP_LAT = "" + GPS_NAME.indexOf(posisi);
    }
    GPS_LATITUDE = Double.valueOf(TEMP_LAT);

    return GPS_LATITUDE;
}

public Double getLongitude(){
    int posisiakhir = GPS_NAME.indexOf(",");
    for(int i = 0; i < posisiakhir; i++){
        TEMP_LON = "" + GPS_NAME.indexOf(i);
    }
    GPS_LONGITUDE = Double.valueOf(TEMP_LON);

    return GPS_LONGITUDE;
} 
```

但是当我尝试运行它时，我得到了这样的错误 ![在此处输入图像描述](../Images/105d7a1dc8b02912aee29596ee5bcf3b.png)

有人可以帮我解决我的问题吗>_<

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T06:30:56.843

并且确认`GPS_LATITUDE = Double.valueOf(TEMP_LAT);` `TEMP_LAT`那里不为空 - 因为异常是 NullPointerException 而不是 NumberFormatException。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T06:30:59.173

你有空指针异常，所以你应该这样处理：

```
public Double getLatitude(){
    for(int posisi = GPS_NAME.indexOf(","); posisi > GPS_NAME.length(); posisi++){
        TEMP_LAT = "" + GPS_NAME.indexOf(posisi);
    }
    if (TEMP_LAT != null) {
       GPS_LATITUDE = Double.parseDouble(TEMP_LAT);
    }

    return GPS_LATITUDE;
} 
```

而对于转换为双倍，你应该使用`Double.parseDouble()`或者你也可以使用`new Double(TEMP_LAT).doubleValue()`，但第一种方法更干净。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T06:44:43.503

除了 NPE 的可能原因之外，我真的不明白你的逻辑；在我看来，这完全是狡猾的。

只是一些例子：

`GPS_NAME.indexOf(",")`将返回`-1`一个小于正在搜索的字符串长度的索引。那么为什么有一个条件来检查它是否大于长度呢？`posisi > GPS_NAME.length()`永远不会是真的，因此 for 循环是无用的......

然后在你做的循环内`TEMP_LAT = "" + GPS_NAME.indexOf(posisi)`。从前面的评论中我们知道，要么是小于字符串长度的数字，`posisi`要么是其他数字。`-1`所以[`GPS_NAME.indexOf(posisi)`](http://developer.android.com/reference/java/lang/String.html#indexOf%28int%29)将尝试在字符串中找到一个由整数`posisi`（这将是一个相当小的数字）表示的字符。这有什么意义？

我想建议你重新考虑你的逻辑——也许[`String.split(",")`](http://developer.android.com/reference/java/lang/String.html#split%28java.lang.String%28)是一个很好的起点。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-04T06:27:28.710

采用`Double.parseDouble(TEMP_LAT);`

# eclipse - 如何在 Eclipse 中创建 svn 存储库...？

> ID：10877132
> 
> 赞同：1
> 
> 时间：2012-06-04T06:26:02.833
> 
> 标签：eclipse, svn, tortoisesvn

我是 SVN 新手。
首先如何使用 http 创建 SVN 存储库位置？
我想在我的网络中分享一个项目。??
我尝试使用 http 创建存储库

**`http://192.168.1.12:8088/home/svn/svnproject`**

这是我电脑的ip。
我已经使用命令创建了 home/svn/svnproject 存储库

**`svnadmin create /home/svn/svnproject`**

这是正确的方法还是我做错了。？？
请建议我。

# iphone - 如何仅读取保存在 Documents Directory 中的 png 文件并将其添加到数组中？

> ID：10877133
> 
> 赞同：0
> 
> 时间：2012-06-04T06:26:06.033
> 
> 标签：iphone, xcode, ios5

我正在将一个 zip 文件下载到 iPhone 的 Documents 目录，然后在那里解压缩。现在我只想从那里读取 png 文件并将其加载到一个数组中。我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T06:34:07.807

你会做这样的事情......

```
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);

NSString *documentDirectory = [paths objectAtIndex:0];
NSArray *dirContents = [[NSFileManager defaultManager] directoryContentsAtPath:documentDirectory];

NSMutableArray *array = [NSMutableArray array];

for (NSString *tString in dirContents) {
         if ([tString hasSuffix:@".png"]) {
               [array addObject:string];
     }
} 
```

# javascript - 表单 onSubmit return false 在 Chrome 中不起作用

> ID：10877135
> 
> 赞同：5
> 
> 时间：2012-06-04T06:26:22.070
> 
> 标签：javascript, google-chrome, onsubmit

当我想通过 javasript 检查用户输入时，我的 return false 语句在 Chrome 中不起作用。即使我返回 false，它也会触发动作标签。这是我的代码

```
<script type="text/javascript">
  function testInput(){
    if(document.getElementById("input1").value == ""){
      alert('error');
      return false;
    }else{
      return true;
    }
  }
</script> 
```

的HTML

```
<form action="exec.php" method="post" onSubmit="return testInput()">
<input type="text" id="input1" name="input1" />
<input type="submit" value="Exec" />
</form> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-06T11:15:19.893

我知道我迟到了，但这个回复可能会帮助将来的人。我今天遇到了同样的问题。在阅读了 Jack 的评论后，我在我的检查函数中插入了一个 try/catch 块。这使我能够阻止执行停止（即使代码崩溃也返回 false）并在 Chrome 控制台面板中打印错误。您可以尝试相同的方法：

```
function testInput(){
    try {
        if (document.getElementById("input1").value == "") {
            alert('error');
            return false;
        } else {
            return true;
        }   
    } catch (e) {
        console.error(e.message);
        return false;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T06:47:28.893

您确定输入字段中没有空格吗？

试试这样的 if(document.getElementById("input1"). **value.trim()** == "")

请注意，tirm 在 IE 中无法正常工作。如果需要，请使用此解决方法[http://goo.gl/L802W](http://goo.gl/L802W)

# iphone - 释放内存泄漏

> ID：10877137
> 
> 赞同：1
> 
> 时间：2012-06-04T06:26:39.853
> 
> 标签：iphone, memory-management, memory-leaks

我是 iPhone 开发的新手。我在我的 NIB 文件中使用了 UIView、UIImageView、UIScrollView 等。我的问题是我可以从 SuperView 中删除所有这些视图吗？例如：`

```
-(void)dealloc
{
    [super dealloc];
    [imageView removeFromSuperview];
    [View1 removeFromSuperview];
    [View2 removeFromSuperview];      
    [ScrollView removeFromSuperview];

    [imageView release];
    [View1 release];
    [View2 release];
    [ScrollView release];

    imageView = nil;
    View1 = nil;
    View2 = nil;
    ScrollView = nil;
} 
```

请帮助我。谢谢...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T06:36:20.200

您需要调用`[super dealloc];`作为*最后一*件事，而不是*first*。那是因为`[super dealloc]`清理你的对象，然后访问实例变量是未定义的行为：任何事情都可能发生。例如，`[super dealloc]`可以将所有实例变量设置为`nil`，在这种情况下，以下`release`调用根本无效（从而导致泄漏）。此外，无需将实例变量设置为，`nil`因为无论如何您都不会使用它们。所以你只需要：

```
-(void)dealloc
{
    [imageView release];
    [View1 release];
    [View2 release];
    [ScrollView release];

    [super dealloc];
} 
```

还有一些注意事项：`removeFromSuperview`调用是无害但不必要的，这是由`[super dealloc]`. 而且您应该遵守 Apples 命名约定，这在您的情况下意味着您不应该以大写字母开头的变量名。所以它应该`scrollView`代替`ScrollView`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T06:31:20.027

无需从超级视图中删除这些子视图，因为无论如何您都将发布超级视图本身。

您可以进行`dealloc`如下操作。

```
-(void)dealloc{

    [imageView release];
    [View1 release];
    [View2 release];
    [ScrollView release];

    imageView = nil;
    View1 = nil;
    View2 = nil;
    ScrollView = nil;

    [super dealloc];
} 
```

请注意，`[super dealloc]`在最后（[更多信息](https://stackoverflow.com/questions/909856/why-do-i-have-to-call-super-dealloc-last-and-not-first)）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T06:34:14.000

您可能希望在您的项目中启用 ARC。您不再需要释放这些对象；系统将负责（大部分）您的内存管理。

您可以在此处阅读有关 ARC 的更多信息：http: [//developer.apple.com/library/ios/#releasenotes/ObjectiveC/RN-TransitioningToARC/Introduction/Introduction.html](http://developer.apple.com/library/ios/#releasenotes/ObjectiveC/RN-TransitioningToARC/Introduction/Introduction.html)

# c++ - 从另一个库调用 boost::barrier 对象上的函数时出现异常

> ID：10877140
> 
> 赞同：0
> 
> 时间：2012-06-04T06:26:58.007
> 
> 标签：c++, windows, multithreading, dll, boost-thread

我有一个 C++ 应用程序，它加载一个 DLL 并传递一个回调。DLL 创建自己的线程，执行一些任务并通过回调将指向 boost::barrier 对象的指针传递给主应用程序。但是当我调用`wait()`屏障对象时，我得到一个异常`"Microsoft C++ exception: boost::exception_detail::clone_impl boost::exception_detail::error_info_injector boost::thread_resource_error> >`。

相同的代码在 OS X 上运行良好。问题仅在 Windows 上。所以我猜有一些我不知道的 Windows 特定限制。谷歌建议我可能会达到允许的最大线程数限制，但我的应用程序创建的线程数不超过 20 个。所以我认为情况并非如此。

以下是函数： **来自 DLL：** `s_funPtr(command,s_bar);` s_bar 是一个静态指针。

**在主应用程序中**

```
PortCallback(CString command, boost::barrier* bar)
{
    bar->wait(); //Throws an exception
} 
```

你能看出它有什么问题吗？

# ruby - Ruby 中 [方括号] 的所有不同用途是什么？

> ID：10877144
> 
> 赞同：14
> 
> 时间：2012-06-04T06:27:49.120
> 
> 标签：ruby, syntax

我`[]`在 Ruby 中经常遇到方括号语法，但它似乎从来没有做同样的事情。任何人都可以列出Ruby 中方括号的*所有*不同用途，`[]`以便我能够理解这个看似无穷无尽的小符号吗？（一个符号怎么可能做到这么多，而不会让 Ruby 解释器感到困惑？）

例子：

*   `[]`和`[]=`方法
*   `%q[...]`
*   `[1,2,3][0]`
*   `hash["a"] = 3`
*   `ary = []`
*   `/[^A-Fa-f0-9]/`
*   `"Is a string"[5,3]`

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-04T07:22:14.750

方括号有两种严格的上下文和一种可选的上下文：

**定义数组**
数组，即提供元素的有序列表的数据结构，可以在代码中使用类似的语法来指定`[1,2,3]`。`1`这将创建一个包含三个元素、和的数组`2`，并且`3`完全按照该顺序。然后，您可以使用迭代器函数中的一个来迭代数组，`each`或者`map`您可以通过其索引 id 直接访问特定元素，如下所示。

**访问数组和哈希中的元素**
哈希（在其他语言中也称为哈希图、字典或关联数组）也包含类似于数组的元素。与此不同的是，它们存储数据的方式是*无序*的。数据不像数组那样通过整数 id 访问，而是使用任意键（通常是符号或字符串）。这与 PHP 中使用相同的 Array 类型的 PHP 不同。

这种对数据的访问是通过调用的方法来促进的`[]`，`[]=`对于散列和数组。

```
my_array = [:a, :b, :c]
second_element = my_array[1]
# => :b
# notice that the first element in arrays always has the index 0

my_hash = {:a => 1, :b => 2, :c => 3}
element_of_b = my_hash[:b]
# => 2 
```

This is the common use case for the brackets. In Ruby code, you might sometimes see other classes implementing the bracket functions. They do so to allow an access similar to either arrays or hashes and it is then generally expected that these classes behave similar to those but this is in no way enforced. See also [Duck Typing](http://en.wikipedia.org/wiki/Duck_typing).

**% Notation**
Ruby has a third syntax to create strings (and other objects) apart from the common. Using this syntax, the literal string in code are not enclosed by `"` or `'` but use a special delimiter. It starts with a percent sign, a single character specifying the object to be created and almost any character to chose as a delimiter:

```
a = %w[foo bar baz]
b = %w{foo bar baz}
c = %wxfoo bar bazx
d = ["foo", "bar", "baz"] 
```

All three example create the same array. Please see the some [documentation](http://en.wikibooks.org/wiki/Ruby_Programming/Syntax/Literals#The_.25_Notation) on how to use this syntax and which other modifier characters are available in Ruby.

While it is common to use brackets here, it is on no way required and can be substituted if required. It is just advisory here as the most common usage of this notation is to create an array of elements from a whitespace-seperated string (as seen above). As such, the usage of brackets makes it further clear that an array is returned as the syntax looks similar to the basic array specification.

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-06-07T14:27:38.320

Okay, just for my own notes I have gone and had a closer look at this and, building on [Holger Just's answer](https://stackoverflow.com/a/10877685/405983), come up with the following: the use of square brackets in Ruby can be divided into 6 uses, 3 of them a part of Ruby's method definitions and 3 of them semantic constructs.

***Method definition***

**Object creation via class methods Array::[], Hash::[]**

```
Array.[](1,2,3) #=> [1,2,3]                        #Un-sugared notation
Array["a","b","c"] #=> ["a","b","c"]               #Sugared equivalent
Hash["a", 100, "b", 200] #=> {"a"=>100, "b"=>200} 
```

Nothing to do with literal constructors, although it does the same thing.

**Element reference via instance methods Array#[], Bignum#[], Continuation#[], Fixnum#[], Hash#[], MatchData#[], Method#[], Proc#[], String#[], Struct#[], Symbol#[], Thread#[], and class methods Dir::[], ENV::[]**

```
ary = [1,2,"abc", [15,16,[26,27]]]  
ary.[](2) #=> "abc"                #Un-sugared notation
ary[2] #=> "abc"                   #Sugared equivalent
ary[0,2] #=> [1,2]  
ary[3][2][1] #=> 26  
[1,2,3][0] #=> 1  
"Is a string"[7,3] #=> "rin" 
```

**Element assignment via instance methods Array#[]=, Hash#[]=, String#[]=, Struct#[]=, Thread#[]=, and class method ENV::[]=**

```
ary = [1,2,3]  
ary.[]=(1,"abc") #=> [1,"abc",3]    #un-sugared notation
ary[2] = "def" #=> [1,"abc","def"]  #Sugared equivalent
hash = {"a"=>1, "b"=>2}  
hash["a"] = 3 #=> {"a"=>3, "b"=>2} 
```

***Semantic constructs***

**Object creation via the array literal constructor**

```
ary = [] 
```

There are a bunch of literal constructors in Ruby that create an object of the relevant class via the use of (usually) a simple symbol pair, square brackets being the literal constructor for array objects: Array `[]`, Hash `{}`, Proc `->(){}`, Range `..` and `...`, Regexp `//`, String `""` and `''`, Symbol `:` and `:""`.

**Object creation via the % notation**

```
%q[hello there you] #=> "hello there you"           # String % notation  
%w[hello there you] #=> ["hello", "there", "you"]   # Array % notation 
```

It is not, strictly speaking, square-bracket notation, but rather two-symbol-pair notation of which you can use square brackets if you wish. So `%q@hello there you@` is equally valid.

**Ruby's regular expressions**

```
/[^A-Fa-f0-9]/ 
```

Square brackets indicate character classes in Ruby regular expressions.

I did find another use of the `[]`, as a pattern for use in the Dir::glob method, but its supposed to act exactly as it does in regular expressions. Still, it indicates that there are possibly more uses hidden away in Ruby's 1500+ methods.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2022-01-05T21:25:48.837

handy syntax for instantiating structs with square brackets

```
irb(main):001:0> Point = Struct.new(:x, :y)                         
=> Point                      
irb(main):002:0> point = Point[1,2]                                 
=> #<struct Point x=1, y=2>   
irb(main):003:0> point.x                   
=> 1                           
irb(main):004:0> point.y                    
=> 2 
```

# xml - 禁用在 swf 中加载 xml 的函数

> ID：10877145
> 
> 赞同：0
> 
> 时间：2012-06-04T06:28:01.290
> 
> 标签：xml, flash, actionscript-2

所以我有 swf 文件女巫正在从 XML 加载数据。我有加载第一个`node`和加载第二个的功能`node`。一切正常，但是当我加载第二个函数并再次加载第一个函数时。来自第二个的一些数据保留在某些字段中。

```
var my_xml = new XML();
my_xml.ignoreWhite = true;
my_xml.onLoad = onXMLLoaded;
function reloadXML(){ 
my_xml.load("direktno.xml");
}
my_xml.load("direktno.xml");

function onXMLLoaded() { }
function mach() { } 
```

任何想法如何删除或阻止第二个功能，然后在我加载第二个功能时阻止第一个？谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T19:58:15.300

您可以只给出加载函数的条件，例如。当 XML 加载时，执行第一个函数，等等。

# c - phong 着色中的灯光位置坐标

> ID：10877147
> 
> 赞同：4
> 
> 时间：2012-06-04T06:28:15.953
> 
> 标签：c, opengl, glsl

我正在学习 Phong 着色并得到一些混淆：

1.  Phong着色中光的位置坐标是什么？（模型空间、模型视图或其他什么？）
2.  据此：[http](http://www.ozone3d.net/tutorials/glsl_lighting_phong_p2.php) ://www.ozone3d.net/tutorials/glsl_lighting_phong_p2.php ：

顶点着色器是：

```
varying vec3 normal, lightDir, eyeVec;

void main()
{   
    normal = gl_NormalMatrix * gl_Normal;
    vec3 vVertex = vec3(gl_ModelViewMatrix * gl_Vertex);

    lightDir = vec3(gl_LightSource[0].position.xyz - vVertex);
    eyeVec = -vVertex;

    gl_Position = ftransform();
} 
```

为什么 eyeVec = -vVertex？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-04T06:35:52.207

1.  坐标系与阴影的种类无关。您可以在模型空间、世界空间、视图空间或任何您想要的合成空间中进行 phong 着色。唯一重要的是确保公式中的所有相关向量都转换到相同的空间中。
2.  在这种情况下，看起来着色是在视图空间中完成的。在视图空间中，顶点坐标是相对于眼睛定义的。所以从一个顶点到眼睛的向量（eyeVec）是从眼睛到顶点的向量（vVertex）的否定。

# c - 函数指针与函数调用有什么区别？

> ID：10877150
> 
> 赞同：10
> 
> 时间：2012-06-04T06:28:23.450
> 
> 标签：c, function, function-pointers

你好朋友，
[我如何使用函数指针数组？](https://stackoverflow.com/questions/252748/how-to-use-array-of-function-pointers)
如果我们看到上面的链接，它会告诉我们函数指针是如何工作的。
现在的问题是我为什么要选择函数指针？
为什么我不能直接使用函数调用？
使用函数指针有什么好处？
例如

```
enum{a, b, c};
void A();
void B();
void C();
void (*fun[3])() = {A, B, C};

Now when I need to call a function I am doing like,
fun[a](); // This calls function A
// And so on... 
```

同样可以在函数调用中完成

就像当我需要直接调用函数 A、B 或 C 时，我可以喜欢

```
A();
B();
or 
C(); 
```

那为什么`function pointer`？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-04T06:41:41.110

使用函数指针有很多原因，特别是在 C 语言中做一般事情。

您将看到它们被使用的主要地方是作为函数的参数。例如使用 function `bsearch`，它使用一个比较函数，作为函数指针传递，来比较项目并对数据进行排序：

```
void *bsearch(const void *key, const void *base,
                     size_t nmemb, size_t size,
                     int (*compar)(const void *, const void *)); 
```

这允许`bsearch`通用并对任何类型的数据进行排序，因为只有该比较函数必须知道数据的类型。

另一个与避免多次检查有关。IE。

```
void makePizza(void) { }

void bakeCake(void) { }

iWantPizza = 1;
...
if (iWantPizza)
   makePizza();
else
   bakeCake();
/* want to call the same function again... */
if (iWantPizza)
   makePizza();
else
   bakeCake();

..

/* alternative */
void (*makeFood)(void) = iWantPizza ? makePizza : bakeCake;

makeFood();
/* want to call the same function again... */
makeFood(); 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-04T06:33:34.760

> **现在的问题是我为什么要选择函数指针？
> 使用函数指针有什么好处？**

当您需要实现异步机制时，您可以使用函数指针。*当发生某些*
事情 时，您需要异步调用一个函数。*你怎么知道要调用哪个函数？* 每个函数的地址都是唯一的，所以需要使用和存储函数地址。*你在哪里存储这个函数地址？***函数指针**

 ****** * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-06-04T09:14:27.733

对于您展示的示例，还可以做一件事。

可以说有一堆功能需要运行以进行某些设备操作。简单来说，您可以在另一个主函数中编写所有函数调用并调用该主函数。

另一种方法是，将所有函数名写在花括号中，并使用函数指针和循环调用每个函数名。这看起来很聪明。我不确定这如何以更好的方式帮助您，但我在 linux 内核代码中看到了这一点。

* * *

我同意这里的所有答案。除此之外我对使用函数指针有一些自己的判断。

让我们以一些复杂的数学计算为例（如打印斐波那契、积分、傅里叶 Xform 等）。

你有一个在你的程序中多次使用的函数 FX（它可以进行复杂的数学计算或其他任何事情）。此功能用于许多不同的工作。

使用您的程序几个月后，您会发现，对于某些工作，您可以改进功能，而对于某些工作，当前的最好。你会做什么？写一个新函数，去各处改函数名。

每次你找到更好的东西，你都会做同样的事情。

相反，为不同的工作使用不同的函数指针。在初始阶段，所有指针都可以指向一个函数。当您发现某些工作的更好功能时，只需转移指针即可。

* * *

换一个场景。在这里，你有一个真正的大代码，比如手机操作系统。（未完全打开，但已编译一半）。您需要为特定硬件添加蓝牙驱动程序。

现在，您可以添加或离开是操作系统中可用的选项。

您可能需要从许多地方打开/关闭蓝牙。

所以操作系统所做的是，它创建了一个函数指针，可以打开蓝牙并在需要的地方使用它。此代码已编译，因此您无法在其中添加代码。但是可以做的是，您可以编写函数并使该指针指向您的函数。

这是我在 Android OS 下已经看到的。（不完全是，但更接近）

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-06-04T06:31:29.277

根据我的经验，函数指针主要用于将函数作为参数传递给另一个函数。

查看您的代码，它们也可以像数组一样使用，因此您只需循环整个数组（可能包含数百个函数指针），它就会全部执行。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-06-09T06:51:59.897

> 函数指针与函数调用有什么区别？

这就像要求编译器“告诉我国家美术馆的地址（我可能想稍后去那里，我想做好准备）”，而不是“现在带我去国家美术馆（但我不会关注你是如何让我到达那里的，所以不要指望我以后会知道）”。至关重要的是，如果你要地址/指针，你可以把它写在“下周日下午的大旅行”之类的地方……你甚至不必记住你要去的是国家美术馆——当您到达那里时，这可能是一个惊喜 - 但您会立即知道您周日的娱乐活动已经安排妥当。

> 函数指针有什么好处？

好吧，如上所述，在您设置函数指针时，您需要决定稍后将调用的位置，但是您可以忘记做出该决定的所有原因，只知道稍后的目的地已经准备好使用. 当你真正在做事的时候......“我周日的例行公事：睡到 10 点，吃一顿丰盛的早餐，回去睡觉，洗个澡，如果我有很多钱，那就去我的周日下午的大旅行，与朋友共进晚餐”......早些时候的决定只是让你去画廊。至关重要的是，您可以继续使用您熟悉的周日时间表并开始“指向”“下周日下午的大旅行”地址/指针，因为它们会引起您的注意，即使它们在您的总体时间表形成时并不存在。

您会看到这种事后灵活性，可以在 AusCBloke 提到的`bsearch`. `qsort`是另一个经典的例子——它知道有效排序任意事物数组的大图逻辑，但必须被告知去哪里比较你实际使用它的两个事物。

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2012-06-04T06:30:50.630

函数指针是指向函数地址的指针（如变量指针）。当您像函数调用一样取消引用它们时，它们实际上会调用底层函数。

**函数指针的主要优点是您可以将它作为参数传递给另一个函数**，例如...

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2014-05-31T15:26:03.653

这些都是很好的例子，尤其是上面 Urvish 中的第一个。我也想知道同样的事情，我认为答案纯粹是设计。在我看来，它们是相同的结果，因为您可以指向一个函数并获取 a+b，或者您可以定期调用一个函数并获取 a+b，并且对于 SO 上的示例，它们通常很小且微不足道为了说明。 **但是**，如果一个人有一个 10k 行的 C 程序，而您因为做了一个更改而不得不更改 50 次，那么您可能很快就会明白为什么要使用函数指针。

它还让您欣赏 OOP 语言的设计和 OOD 背后的哲学。*****

# iphone - 将按钮超级视图控制器添加到另一个视图控制器时，UIButton 目标无法识别

> ID：10877154
> 
> 赞同：0
> 
> 时间：2012-06-04T06:28:48.200
> 
> 标签：iphone, objective-c, ios, uiviewcontroller, uibutton

我创建了一个名为 toolbarViewController 的 UIViewController 子类，我在这个视图控制器中声明了一个 UIButton 并指定它的目标如下

```
UIButton *button = [[UIButton alloc]initWithFrame:myFrame];
[button addTarget:self action:@selector(doSomething) forContorlEvents:UIControlEventTouchUpInside]; 
```

然后我在不同的视图控制器中执行以下操作

```
toolbarViewController *toolbar = [[toolbarViewController alloc]init];
[self.view addSubview:toolbar.view]; 
```

问题是当我按下按钮时出现异常：无法识别的选择器（doSomething）发送到实例，我在这里做错了什么？

toolbarViewController.h 中的 doSomething 声明

```
-(void)doSomething; 
```

在toolbarViewController.m

```
-(void)doSomething{ NSLog("doSomething got called"); } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T06:40:35.647

检查`doSomething`. 如果您声明 IBAction 之类`-(IBAction)doSomething:(id)sender`的，则应添加选择器，例如

```
[button addTarget:self action:@selector(doSomething:) forContorlEvents:UIControlEventTouchUpInside]; 
```

代替

```
[button addTarget:self action:@selector(doSomething) forContorlEvents:UIControlEventTouchUpInside]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:00:54.397

如果你使用ARC，你分配toolbarViewController，但它有relese。你可以试试这个：

```
ViewController.h
@interface ViewController : UIViewController{
    toolbarViewController * toolbar;
}
@property(nonatomic,strong) toolbarViewController * toolbar;

ViewController.m
@synthesize toolbar = _toolbar;

    toolbar = [[toolbarViewController alloc]initWithNibName:@"toolbarViewController" bundle:[NSBundle mainBundle]]; 
```

你分配按钮可以做到这一点：

```
UIButton *bt = [UIButton buttonWithType:UIButtonTypeRoundedRect];
        bt.frame = myFrame;
        [bt addTarget:self action:@selector(dosomething) forControlEvents:UIControlEventTouchUpInside];
        [self.view addSubview:bt]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-15T01:11:55.067

一种可能的情况是，如果您将 a 添加`UITapGestureRecognizer`到`UIButton`的超级视图。在 iOS5 上，似乎存在一个问题，`UITapGestureRecognizers`即不取消视图中的点击。

所以你需要做的就是设置

```
tapGesture.cancelsTouchesInView = NO; 
```

让我知道它是否有帮助！

# facebook - Facebook 点赞和分享创建粉丝专页

> ID：10877155
> 
> 赞同：0
> 
> 时间：2012-06-04T06:28:53.737
> 
> 标签：facebook, url, facebook-like, facebook-opengraph, facebook-apps

我们正在使用带有分享按钮的 facebook like 插件。URL 指向我们应用程序的资源。例如

```
http://apps.facebook.com/appname/resources/id 
```

第一次共享或喜欢此资源/网址时，一切正常。例如，共享包含上面给出的 URL。

但是如果再次共享相同的资源/url，就会发生错误。Facebook 确实为该资源创建了一个粉丝专页，例如

```
http://www.facebook.com/pages/appname 
```

所以从现在开始，share/likes 指的是那个页面，而不是我们应用程序的资源/url。

我们用于 like 插件的 URL 是正确的，并且始终指向应用程序资源 URL。那里的 fbappid 也是正确的。此外，资源页面包含开放的图形元标记，如 og:url，也指向正确的 URL。

在检查喜欢/共享的资源时，facebook linter/debugger 会将 URL 返回到正确的应用程序资源 URL。

为什么要创建粉丝专页，并在分享/点赞中交换 URL？如何解决？我们希望共享包含应用程序资源的 URL，并增加该打开的图形对象的点赞数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:23:35.717

> 我们希望共享包含应用程序资源的 URL，并增加该打开的图形对象的点赞数。

如果您只想增加 OG 对象的点赞数，为什么不链接您的实际 URL，而不是 Facebook URL？我的意思是，您的应用程序应该可以通过 yourdomain.example.com/something/resources/id 访问，对吗？那么为什么不这样呢*，*因为它是*真正的*Open Graph 对象……？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T03:12:45.470

有一个相关的 facebook 错误：http: [//developers.facebook.com/bugs/240986412684045 ?browse=search_4fe13eff357e29b43787690](http://developers.facebook.com/bugs/240986412684045?browse=search_4fe13eff357e29b43787690)

因此，显然我们对此无能为力，只能等待 facebook 修复它。另一种选择是 CBroe 建议的内容，并在不使用画布 URL 的情况下指向资源。但这会将非画布 URL 放入共享消息中，这不是我们想要的。

# object - 黑莓 - 如果 addElement() 不起作用怎么办？

> ID：10877158
> 
> 赞同：0
> 
> 时间：2012-06-04T06:29:19.290
> 
> 标签：object, blackberry, vector

我是黑莓开发应用程序的新手。我尝试将所有 xml 解析数据存储到一个对象，并将它们设置为一个向量。

```
public class XmlParser extends MainScreen {
    Database d;
    private HttpConnection hcon = null;

    private Vector binN;
    public Vector getBinN() {
        return binN;
    }

    public void setBinN(Vector bin) {
        this.binN = bin;
    }

    LabelField from;
    LabelField ttl;
    LabelField desc;
    LabelField date;

    public XmlParser() {
        LabelField title = new LabelField("Headline News" ,LabelField.HCENTER|LabelField.USE_ALL_WIDTH);
        setTitle(title);

        try {
            URI myURI = URI.create("file:///SDCard/Database/WebFeed.db"); 
            d = DatabaseFactory.open(myURI);
            Statement st = d.createStatement("SELECT feed_url, feed_name FROM WebFeed");
            st.prepare();
            Cursor c = st.getCursor();
            while (c.next()) {
                Row r = c.getRow();
                hcon = (HttpConnection)Connector.open(r.getString(0));
                hcon.setRequestMethod(HttpConnection.GET);
                        hcon.setRequestProperty("User-Agent", "Profile/MIDP-1.0 Configuration/CLDC-1.0");
                        hcon.setRequestProperty("Content-Length", "0");
                        hcon.setRequestProperty("Connection", "close");
                DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
                DocumentBuilder builder = factory.newDocumentBuilder();

                builder.isValidating();
                Document document = builder.parse(hcon.openInputStream());

                Element rootElement = document.getDocumentElement();
                rootElement.normalize();

                NodeList list = document.getElementsByTagName("item");

                int i=0;
                while (i<10){
                    Node item = list.item(i);
                    if(item.getNodeType() != Node.TEXT_NODE) {
                        NodeList itemChilds = item.getChildNodes();
                        int j=0;
                        while (j<10){
                            Node detailNode = itemChilds.item(j);
                            if(detailNode.getNodeType() != Node.TEXT_NODE) {                                
                                if(detailNode.getNodeName().equalsIgnoreCase("title")) {
                                    ttl = new LabelField(getNodeValue(detailNode)) {
                                        public void paint(Graphics g) {
                                            g.setColor(Color.BLUE);
                                            super.paint(g);
                                        }
                                    };
                                    from = new LabelField(r.getString(1), LabelField.FIELD_RIGHT|LabelField.USE_ALL_WIDTH);
                                    ttl.setFont(Font.getDefault().derive(Font.BOLD));
                                    from.setFont(Font.getDefault().derive(Font.BOLD));
                                    add (from);
                                    add (ttl);
                                } else if(detailNode.getNodeName().equalsIgnoreCase("description")) {

                                    desc = new LabelField(getNodeValue(detailNode), 0, 70, USE_ALL_WIDTH);
                                    add(desc);
                                } else if(detailNode.getNodeName().equalsIgnoreCase("dc:date")) {
                                    date = new LabelField(getNodeValue(detailNode), 11, 5, USE_ALL_WIDTH) {
                                        public void paint(Graphics g) {
                                            g.setColor(Color.ORANGE);
                                            super.paint(g);
                                        }
                                    };
                                    add(date);
                                    add(new SeparatorField());
                                } else if(detailNode.getNodeName().equalsIgnoreCase("pubDate")) {
                                    date = new LabelField(getNodeValue(detailNode), 0, 22, USE_ALL_WIDTH) {
                                        public void paint(Graphics g) {
                                            g.setColor(Color.ORANGE);
                                            super.paint(g);
                                        }
                                    };
                                    add(date);
                                    add(new SeparatorField());
                                } else {
                                    System.out.println("not the node");
                                }
                            } else {
                                System.out.println("not text node");
                            }
                            j++;
                        }
                    }
                    i++;
                    BinNews bin = new BinNews();
                    bin.setProv(from.getText());
                    bin.setTitle(ttl.getText());
                    bin.setDesc(desc.getText());
                    bin.setDate(date.getText());
                    binN.addElement(bin);
                }
                setBinN(binN);
            }
            //setBinN(binN);
            st.close();
            d.close();
        } catch (Exception e)  {
            add (new LabelField(e.toString(),LabelField.HCENTER|LabelField.USE_ALL_WIDTH));
            System.out.println(e.toString());
        }
    }

    public String getNodeValue(Node node) {
        NodeList nodeList = node.getChildNodes();
        Node childNode = nodeList.item(0);
        return childNode.getNodeValue();
    }
} 
```

我尝试将一个名为 BinNews 的对象中的所有数据存储到一个名为 binN 的向量中。但是当我调试时，我发现 BinN 有空值，因为“binN.addElement(bin)”不起作用。请指教。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T02:56:06.950

首先，直到 while(i < 10) 循环完成后，您才真正调用 setBinN。因此，当您说 binN.addElement(bin) 时， binN 将为空。

但是，您的 setBinN(binN) 调用没有意义，因为您传入 binN 然后将其设置为自身，这不会做任何事情。

你可以做的是`binN = new Vector();`在构造函数的顶部，然后它以后不会为空。如果您将 Bi​​nNews 对象直接添加到 binN，我认为以后不需要调用 setBinN。

# ios - xcode iphone中情节提要的最低版本

> ID：10877160
> 
> 赞同：5
> 
> 时间：2012-06-04T06:29:47.270
> 
> 标签：ios, xcode, version, uistoryboard, minimum

我在 Storyboards 上工作。我需要知道在 App Store 上构建和提交之前可以设置的最低 ios 版本。我可以使用 ios 4.0 作为目标。它会在低于 ios 5 的版本上运行吗...？有什么解决办法吗。？

任何帮助，将不胜感激。

谢谢维卡斯

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-04T06:35:24.373

iOS 5.0 引入了 Storyboard 功能。

如果您查看此 Apple 页面：

[iOS 5 发行说明](https://developer.apple.com/library/prerelease/content/releasenotes/General/RN-iOSSDK-5_0/)

“故事板”是他们在此操作系统中引入的优秀新功能之一。它***不***向后兼容。

如果你想支持 iOS 4，你必须使用好的 ol' XIB 文件（这也适用于 iOS 5 及更高版本）。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-04T06:35:24.453

您可能已经看到以下错误消息： `Storyboards are unavailable on iOS 4.3 and prior` 但是，将 Xcode 更新到最新版本 (4.3.1) 也无济于事。

这是修改情节提要项目的技巧： [iOS5情节提要错误：情节提要在iOS 4.3及更低版本上不可用](https://stackoverflow.com/questions/7781483/ios5-storyboard-error-storyboards-are-unavailable-on-ios-4-3-and-prior)

```
>Open XXXXXX.storyboard
>
>Open Identity and Type tag in your right view of Xcode.
>
>Set the value of Development in Document Versioning to "Xcode 4.2" (my default value is "Default Version (Xcode 4.1)".
>
>Change the value of Deployment from Project SDK Version (iOS 5.0) to iOS 5.0, then back to Project SDK Version (iOS 5.0) 
```

# clojure - 使用 clojurescript 包装 knockout.js

> ID：10877162
> 
> 赞同：5
> 
> 时间：2012-06-04T06:30:00.117
> 
> 标签：clojure, knockout.js, clojurescript

我正在尝试将 knockout.js 包装在 clojurescript 中，但它变得非常困难。我遇到的问题是对“this”变量的引用。我正在考虑放弃并直接使用javascript。

我已经从[http://knockoutjs.com/examples/helloWorld.html](http://knockoutjs.com/examples/helloWorld.html)和[http://knockoutjs.com/examples/contactsEditor.html拿了例子](http://knockoutjs.com/examples/contactsEditor.html)

我已经设法用一些宏来包装简单的功能。例如：

```
var ViewModel = function() {
    this.firstName = ko.observable("Bert");
    this.lastName = ko.observable("Bertington");

    this.fullName = ko.computed(function() {
        // Knockout tracks dependencies automatically. It knows that fullName depends on firstName and lastName, because these get called when evaluating fullName.
        return this.firstName() + " " + this.lastName();
    }, this);
}; 
```

变成：

```
(defviewmodel data
  (observing :first_name "Bert")
  (observing :last_name  "Bertington")
  (computing :name [:first_name :last_name]
    (str :first_name " " :last_name))) 
```

但是，对于更难的事情，例如：

```
var BetterListModel = function () {
    this.itemToAdd = ko.observable("");
    this.allItems = ko.observableArray(["Fries", "Eggs Benedict", "Ham", "Cheese"]); // Initial items
    this.selectedItems = ko.observableArray(["Ham"]);                                // Initial selection

    this.addItem = function () {
        if ((this.itemToAdd() != "") && (this.allItems.indexOf(this.itemToAdd()) < 0)) // Prevent blanks and duplicates
            this.allItems.push(this.itemToAdd());
        this.itemToAdd(""); // Clear the text box
    };

    this.removeSelected = function () {
        this.allItems.removeAll(this.selectedItems());
        this.selectedItems([]); // Clear selection
    };

    this.sortItems = function() {
        this.allItems.sort();
    };
};

ko.applyBindings(new BetterListModel()); 
```

我不确定我可以在 clojurescript 中做什么来匹配这样的代码：`this.allItems.push(this.itemToAdd())`

有什么想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-07T23:47:08.673

经过大量的试验和错误，我想出了如何为 clojurescript 提供与 javascript 相同的结构。

该`this-as`宏有一些特性，仅在将方法放入类中时才有效

例如，我想在 javascript 中创建如下所示的内容：

```
var anobj = {a: 9,
             get_a: function(){return this.a;}}; 
```

我必须做更多的编码才能在 clojurescript 中获得相同的对象：

```
(def anobj (js-obj))
(def get_a (fn [] (this-as me (.-a me))))
(aset anobj "a" 9)
(aset anobj "get_a" get_a) 
```

对于像clojure这样美丽的语言来说，这是非常丑陋的。当您拥有相互链接的功能时，情况会变得更糟，例如淘汰赛中发生的情况。

我发现创建一个有很多`this`'s 的 js 对象的最佳方法是定义一个`__init__`方法，将其添加到类中然后运行它，然后将其从类中删除。例如，如果我想制作另一个对象：

```
var avobj = {a: this,
             b: 98,
             c: this.a
             get_a: function(){return str(this.a) + str(this.c);}}; 
```

用 and 方法写成 clojurescript`__init__`如下所示：

```
(def avobj (js-obj))
(def av__init__ 
     #(this-as this 
        (aset this "a" this) 
        (aset this "b" 9) 
        (aset this "c" (.-a this))
        (aset this "get_a" (fn [] (str (.-a this) (.-c this))))))
(aset avobj "__init__" av__init__)
(. avobj __init__)
(js-delete stuff "__init__") 
```

仍然有比 javascript 更多的代码......但最重要的是你得到与 javascript 相同的对象。使用这种形式设置所有变量还可以简化宏的使用。所以现在我定义了一个宏：

```
(defmacro defvar [name & body]
   (list 'do
    (list 'def name
      (list 'map->js 
        {
          :__init__ 
          (list 'fn []
              (list 'this-as 'this
                 (list 'aset 'this "a" "blah")))          
        }))
    ;(. js/console log ~name)
    (list '. name '__init__)
    (list 'js-delete name "__init__"))) 
```

并使用从 jayq.utils 获取的 map->js：

```
(defn map->js [m]
  (let [out (js-obj)]
    (doseq [[k v] m]
      (aset out (name k) v))
    out)) 
```

现在我可以编写如下代码：

```
(defvar avobj
   a this 
   b 9 
   c (.-a this)
   get_a (fn [] (str (.-a this) (.-c this)))) 
```

以及淘汰赛的答案：

```
(defvar name_model
    first_name (observable "My")
    last_name (observable "Name")
    name (computed (fn [] (str (. this first_name) " " (. this last_name)))))

(. js/ko (applyBindings name_model)); 
```

这对我来说真的很好，因为它非常适合 javascript 并且完全可读！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-05T05:00:17.587

如果您需要明确引用 JavaScript 的`this`动态绑定，ClojureScript 提供了一个`this-as`宏：

[https://github.com/clojure/clojurescript/blob/master/src/clj/cljs/core.clj#L324](https://github.com/clojure/clojurescript/blob/master/src/clj/cljs/core.clj#L324)

# php - 如何在这个 PHP/mysql 插入语句中处理空值

> ID：10877163
> 
> 赞同：5
> 
> 时间：2012-06-04T06:30:01.570
> 
> 标签：php, mysql, null

我有时会有空值或空值的数组。在 MySql 中，它们被设置为不可为空，但它们分配了默认值。那么，为什么 MySql 会给我一个错误，例如`Column user_type can not be null`. （我没有在严格模式下运行）。

我意识到在准备查询时可以使用关键字 DEFAULT 代替某些值，但我真的不想这样做。我希望能够逐字编写我的 SQL 语句，而不是将它们与 foreach 循环等放在一起。例如，我想使用`"INSERT INTO users (user_type, first_name, last_name, password) VALUES (:user_type, :first_name, :last_name, :password)";`

据我记得，在我不再使用 ? 查询标记到命名参数...

谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T06:50:04.923

我将创建一个接受这些值作为参数的函数。它将在关联数组中具有默认值。如果任何参数的值为 null，它将用默认值替换它。

例如

```
function setUpQuery($user_type_in, $first_name_in, $last_name_in, $password_in){
       $default_values('user_type' => 'Admin', 'first_name' => 'John', 'last_name' => 'Doe', 'password' => 'XXX');
       $user_type = ($user_type_in == NULL)? $default_values['user_type']:$user_type_in;
       .....
      return "INSERT INTO users (user_type, first_name, last_name, password) VALUES ('$user_type', '$first_name', '$last_name', '$password');"
 } 
```

好点子。以下情况如何：

```
INSERT INTO users(user_type, first_name, last_name,password) values 
(ifnull('$user_type',default(user_type)), ifnull('$first_name', default(first_name)),
 ifnull('$last_name',default(last_name)), ifnull('$password', default(password)); 
```

# java - Java中的BigInteger类？

> ID：10877166
> 
> 赞同：-4
> 
> 时间：2012-06-04T06:30:26.820
> 
> 标签：java

我不了解 Java 中的 BigInteger 类。你能帮我吗,,, public

公共 BigInteger（int bitLength，int 确定性，随机 rnd）

bitLength 参数是怎么解释他的？

感谢您

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T06:32:07.760

此[构造函数](http://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html#BigInteger%28int,%20int,%20java.util.Random%29)创建`BigInteger`指定长度的随机数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T06:35:41.587

```
bitLength - bitLength of the returned BigInteger.
certainty - a measure of the uncertainty that the caller is willing to tolerate.
            The probability that the new BigInteger represents a prime number will 
            exceed (1 - 1/2certainty). The execution time of this constructor is
            proportional to the value of this parameter.

rnd - source of random bits used to select candidates to be tested for primality. 
```

# c++ - GetProcessAffinityMask 将 ProcessAffinty 和 SystemAffinity 返回为 -1（溢出）

> ID：10877182
> 
> 赞同：0
> 
> 时间：2012-06-04T06:32:11.320
> 
> 标签：c++, windows, winapi

该进程未以 WOW64 运行，而是在 x64 环境中以 x64 运行。代码如下

```
 DWORD64 dwProcessAffinity, dwSystemAffinity;
    GetProcessAffinityMask(GetCurrentProcess(), &dwProcessAffinity, &dwSystemAffinity); 
```

作为确认[IsWow64](http://msdn.microsoft.com/en-us/library/windows/desktop/ms684139%28v=vs.85%29.aspx)返回错误。创建的环境有一百多个处理器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T13:36:14.403

GetProcessAffinityMask 的返回值为 BOOL，因此如果调用返回 TRUE，则调用成功。有两个掩码，一个用于进程关联，另一个用于系统关联。掩码中的每一位对应一个处理器。例如，掩码 0x10 表示处理器 4，掩码 0x03 表示处理器 0 和 1。掩码 -1 (0xffffffffffffffff) 设置了 64 位，每个处理器 0 到 63 一个位。通过使用 DWORD_PTR（而不是 DWORD64） ，可能（由原始开发人员）尝试确保后来的程序员将结果视为无符号十六进制序列而不是有符号整数，此外，这种类型会导致适当地调整掩码大小（参见下一段）。

在 Windows 2003 开发的时候，甚至 32 个处理器的系统是非常罕见的，因此将限制设置为 32（对于 32 位版本）和 64（对于 64 位版本）是合理的。即使在 2008 年的时间范围内，关于提高 Windows 2008 R2 的处理器限制的争论仍然存在，它现在支持 256，但可能会更高。运行 Windows 2003 所使用的技术已有十年之久，因此人们可以预料到当时的新技术存在一些限制。

超线程 (HT) 是一项有趣的技术。添加额外的硬件来支持另一个逻辑线程有一些好处。了解对于操作系统而言，两个逻辑处理器之间没有区别，因为不能说 X 是物理处理器而 Y 是 HT“附加组件”。硬件将 X 和 Y 视为共享资源的平等伙伴，因此操作系统平等地看待它们。

作为对您的情况的最终不确定性，我无法告诉您 Windows 2003 将使用 80 个逻辑处理器的哪个子集。它可能需要 32 个 HT 对，也可能需要物理 40 个并包括 24 个逻辑 HT 单元。您可以通过运行[GetLogicalProcessorInformation](http://msdn.microsoft.com/en-us/library/windows/desktop/ms683194%28v=vs.85%29.aspx)来帮助回答这个问题。

# c - Linux cpu_affinity 保证单次使用

> ID：10877183
> 
> 赞同：1
> 
> 时间：2012-06-04T06:32:19.730
> 
> 标签：c, linux, multithreading, affinity

可以在 linux 中为每个线程在每个内核上运行的多线程程序设置 cpu 亲和性，从而有效地阻止任何其他进程被该内核上的操作系统调度。实际上，我想保证在我的进程中使用一个核心，并将所有其他非关键程序绑定到最少数量的核心。

或者我是否缺少 linux 调度程序的某些内容，或者我需要自己的调度程序。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T06:38:18.220

> 可以在 linux 中为多线程程序设置 cpu 亲和性，其中每个线程在每个内核上运行有效地阻止任何其他进程被该内核上的操作系统调度

不，设置 cpu 亲和性会阻止调度程序为*您的*线程使用一些内核。也就是说，它只会在某些核心上安排你的线程——它不会对其他线程做任何事情。

您可能可以使用`setpriority`. 如果您的要求如此严格，您可能会考虑`sched_setscheduler`并选择`SCHED_RR`or `SCHED_FIFO`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T18:15:54.547

当调度器积极参与时，taskset 和 nice 只会向调度器提示您的偏好。调度程序可以根据工作负载自由地重新调度任何可用内核上的任何线程。您可以使用*perf*来监控上下文切换和 cpu 迁移。

你有两个选择：

1.  您可以按照 user417896 的建议强制调度程序通过 sched_setscheduler 遵循您的订单。
2.  您可以使用 cgroups/cpuset 定义两个 cpuset，例如*system*和*isolated*，并通过将所有系统线程移动到*系统*cpuset 来隔离目标内核，并在隔离的 cpuset 上使用 cgexec 运行您的程序。您可以将内核和内存分配给一个 cpuset，并为了隔离它设置 cpu_exclusive 位，然后一切就绪。如果您使用较旧的内核为您自动执行此过程，您还可以使用 cset [(http://code.google.com/p/cpuset/ )。](http://code.google.com/p/cpuset/)

我希望它有所帮助。

# ios - 想要在 iOS sdk 中反转 BOOL 值

> ID：10877191
> 
> 赞同：2
> 
> 时间：2012-06-04T06:33:00.093
> 
> 标签：ios, boolean

我从 iOS sdk 中的 plist 获取 id 值，如果我得到值 0，那么我必须将其显示为 1，反之亦然。

这是我的相同代码

```
+(BOOL) removeButton {
   id obj = [[[NSBundle mainBundle] infoDictionary] valueForKey:@"ABC"];
   if (obj != Nil) {
      return (BOOL)obj;
  }
    return YES;
 } 
```

但问题是，由于 id 的值为 0，那么它将返回 No ，反之亦然。但是我想把我的条件放在相反的事情上，比如假设 id 的值为 0 那么我必须显示 return YES ，反之亦然。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-04T07:02:09.177

你不能投射`id`到`BOOL`. 假设它被正确存储，你从字典中取出它的方法是通过 number wrapper `NSNumber`。

```
NSNumber *boolWrapper = [[[NSBundle mainBundle] infoDictionary] valueForKey:@"ABC"];
return ![boolWrapper boolValue]; 
```

这将为 1 返回 0，为 0 返回 1。

如果你只是像你正在做的那样简单地投射它，除非对象不存在（即它是`nil`），否则它将始终为真。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T06:43:34.963

添加 ”！” 如下 ：）

```
return !(BOOL)obj; 
```

[编辑]

你应该使用 objectForInfoDictionaryKey this 而不是 valueForKey 如下：

```
id object = [[NSBundle mainBundle] objectForInfoDictionaryKey:"Key"]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T06:43:55.463

好的，像这样：

```
+(BOOL) removeButton {
   id obj = [[[NSBundle mainBundle] infoDictionary] valueForKey:@"ABC"];
   BOOL shouldRemoveButton = N0;
   if (obj != nil) {
      shouldRemoveButton = YES;
  }
    return shouldRemoveButton;
 } 
```

我不喜欢`returns`在代码中间有，这会让人困惑而且不是很清楚。

# javascript - 创建在许多基于 Web 的电子邮件网站上显示的类似“to”文本框

> ID：10877197
> 
> 赞同：1
> 
> 时间：2012-06-04T06:33:35.293
> 
> 标签：javascript, jquery

当我们使用基于网络的电子邮件时，在`To:`我们添加新电子邮件地址的文本框中，它将在右侧或顶部添加一个小“x”图标，我们可以通过单击十字图标将其删除，有没有（jQuery ) 插件或纯 JavaScript 片段可用于完成此类工作。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T06:37:06.103

你可以看看：

[http://aehlke.github.com/tag-it/](http://aehlke.github.com/tag-it/)

和

[http://webspirited.com/tagit/](http://webspirited.com/tagit/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T06:40:01.267

[看这个演示](http://loopj.com/jquery-tokeninput/)代码在[这里](https://github.com/loopj/jquery-tokeninput)

示例用法：

```
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
<script type="text/javascript" src="yourfiles/jquery.tokeninput.js"></script>
<link rel="stylesheet" type="text/css" href="yourfiles/token-input.css" />

<script type="text/javascript">
$(document).ready(function () {
    $("#my-text-input").tokenInput("/url/to/your/script/");
});
</script> 
```

# android - 有一个布局确定 ListAdapter 的 TextView

> ID：10877200
> 
> 赞同：0
> 
> 时间：2012-06-04T06:34:12.723
> 
> 标签：android, listadapter

我有一个屏幕，我只是简单地显示项目列表。我已经使用 `setListAdapter(new ArrayAdapter<String>(ClassListActivity.this,android.R.layout.simple_list_item_1,getItems));`
了现在我们不必为此权利创建单独的 xml 布局。但是现在我想要一个作为此列表标题的 TextView 可能会说“myItems”。当我尝试将 xml 布局与此活动链接时，我的应用程序会停止。`TextView`当我尝试以这种方式创建动态`TextView tv = new TextView(this);` 并稍后在其中设置文本时。我没有收到任何错误，但我也没有得到任何结果，只是旧列表没有标题..

我该怎么办？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T06:38:10.323

您必须为 ListAdapter 创建自己的 XML 布局。将 TextView 作为标题放在顶部，然后是带有 id 的 ListView 小部件`@android:id/list`。

在此处查看更多详细信息：[ListActivity](http://developer.android.com/reference/android/app/ListActivity.html)

这个应该工作：

```
<?xml version="1.0" encoding="utf-8"?>
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
     android:orientation="vertical"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
     android:paddingLeft="8dp"
     android:paddingRight="8dp">

 <TextView android:layout_width="match_parent"
           android:layout_height="wrap_content"
           android:background="#FF0000"
           android:text="My list"/>

 <ListView android:id="@android:id/list"
           android:layout_width="match_parent"
           android:layout_height="wrap_content"
           android:background="#00FF00"
           android:layout_weight="1"
           android:drawSelectorOnTop="false"/>

 </LinearLayout> 
```

# db2 - db2 ? 查找错误 db2 错误代码

> ID：10877205
> 
> 赞同：2
> 
> 时间：2012-06-04T06:35:01.440
> 
> 标签：db2

我不知道哪种是查看“ERRORCODE=-4463, SQLSTATE=42601”之类的错误描述的最短方法 通常我在谷歌上搜索此类错误描述，无论如何我都能得到结果。但是这样效率非常低，有时很难得到关于错误代码和 sql 状态的描述。我知道 db2 内置命令，例如： db2 ? SQL0443N 会提供特定 SQLCODE 的信息 但是当遇到上述错误描述时，如何将其转换为 SQLCODE，以便使用 db2 快速查找？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-12T06:31:44.153

@Clockwork-Muse 的评论绝对是正确的。

我现在指的是这些文档中的 SQL 代码和状态。嗯，整洁

[SQL 错误代码查找](http://publib.boulder.ibm.com/infocenter/dzichelp/v2r2/index.jsp?topic=/com.ibm.db2z9.doc.codes/src/tpc/n440.htm)

[SQL 状态代码查找](http://publib.boulder.ibm.com/infocenter/db2luw/v9r5/index.jsp?topic=/com.ibm.db2.luw.messages.doc/doc/rdb2stt.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-01T20:34:13.113

这是带有不同 DB2 错误代码的链接[https://urssanj00.wordpress.com/2008/03/04/db2-sql-error-code-and-description/](https://urssanj00.wordpress.com/2008/03/04/db2-sql-error-code-and-description/)

这为我节省了大量时间！

# javascript - Node.js 到 Node.js 的通信

> ID：10877206
> 
> 赞同：5
> 
> 时间：2012-06-04T06:35:06.080
> 
> 标签：javascript, node.js

如何使用从另一个 Node 进程加载的其他 Node 进程的模块。

我运行的示例：

```
node my_modules 
```

哪个负载`MyModule`

然后我将运行另一个 nodejs 进程：

```
node grab_modules 
```

这将运行`GrabModule`

`GrabModule`将尝试使用里面的函数`MyModule`

这可能吗？如果这可能怎么办？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-04T10:21:26.203

你想要的可能是[dnode](https://github.com/substack/dnode)：

从[dnode 的自述文件中](https://github.com/substack/dnode/blob/master/readme.markdown)：

服务器（承载要运行的功能）：

```
var dnode = require('dnode');

var server = dnode({
    zing : function (n, cb) { cb(n * 100) }
});
server.listen(5050); 
```

客户端（调用服务器上的函数并在回调中获取它们的结果）

```
var dnode = require('dnode');

dnode.connect(5050, function (remote) {
    remote.zing(66, function (n) {
        console.log('n = ' + n);
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-14T05:33:36.277

这取决于你想要做什么。

如果您只是想从两个单独的节点进程重用相同的模块（MyModule），那很容易。您只需将 require('MyModule') 放在 GrabModule 中，并且在运行 grab_module 时可以访问 MyModule。

如果您想在两个进程之间“共享” MyModule 包括其全局变量，则要复杂得多。您需要在两个进程之间定义一个进程间协议（通常是 REST over socket），并使用该协议从另一个进程访问一个进程中的模块。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-14T13:49:47.980

1）要在不同的进程中使用模块（实现）而不是实例（使用 require 加载进程某处的模块），您只需要在任何需要的地方都需要该模块。

如果您运行两个进程，例如，使用“MyModule”的进程 A 和使用“GrabModule”的进程 B，但您只需要进程 B 中的“GrabModule”可以访问“MyModule”的导出属性，那么您只需要使用 require('path to MyModule')。

2）另一方面，如果您需要进程B，可以访问进程A的模块状态（已执行的模块，因为您在某处使用了require），那么您需要使用IPC（Inter - 进程通信）允许在进程 A 和进程 B 之间交换数据，并在两者之上构建或使用相同的协议。

根据您的进程是在同一台机器上还是在不同的机器上，可以在同一操作系统中使用一些 IPC 构建，因为 nodejs 提供了子叉（[http://nodejs.org/api/child_process.html#child_process_child_process_fork_modulepath_args_options](http://nodejs.org/api/child_process.html#child_process_child_process_fork_modulepath_args_options)）或使用内置在某个网络通道中的 IPC。

例如，可以使用 Redis 的发布/订阅消息系统（[http://redis.io/topics/pubsub](http://redis.io/topics/pubsub)）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-26T15:30:54.090

那这个呢：

my_modules 将作为具有公共 api (rest api, xml-rpc, ...) 的程序工作，grab_modules 将连接到 api 并从 my_modules 调用函数

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-01-12T17:56:42.893

如果您还需要与其他语言的互操作性和/或高速，[ZeroMQ](http://zeromq.org/bindings%3anode-js)也是一种选择。虽然最初是一个普通的 C 库，但我在 NodeJS 绑定方面有很好的经验。

几乎所有流行语言都有一个 ZeroMQ 绑定，请参阅[http://zeromq.org/bindings:_start](http://zeromq.org/bindings:_start)

# android - 如何在将动画添加到主视图时将动画添加到视图

> ID：10877216
> 
> 赞同：0
> 
> 时间：2012-06-04T06:36:06.563
> 
> 标签：android, listview

在android中，当将动画添加到主视图时，如何将动画添加到视图中，例如缓慢增长并占据主视图。我认为这是可能的，但从哪里开始，当其他视图被删除时，我的 ListView 需要它来扩展。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T06:47:08.697

我有一个演示。添加或隐藏视图时上下移动非常顺畅

```
public class ExpandAnimation extends Animation {
private View mAnimatedView;
private LayoutParams mViewLayoutParams;
private int mMarginStart, mMarginEnd;
private boolean mIsVisibleAfter = false;
private boolean mWasEndedAlready = false;
ImageButton mImageButton;

/**
 * Initialize the animation
 * @param view The layout we want to animate
 * @param duration The duration of the animation, in ms
 */
public ExpandAnimation(View view, int duration, ImageButton button) {
    this.mImageButton = button;
    setDuration(duration);
    mAnimatedView = view;
    mViewLayoutParams = (LayoutParams) view.getLayoutParams();

    // if the bottom margin is 0,
    // then after the animation will end it'll be negative, and invisible.
    mIsVisibleAfter = (mViewLayoutParams.bottomMargin == 0);

    mMarginStart = mViewLayoutParams.bottomMargin;
    mMarginEnd = (mMarginStart == 0 ? (0- view.getHeight()) : 0);

    view.setVisibility(View.VISIBLE);
    button.setImageResource(R.drawable.bar_down);
}

@Override
protected void applyTransformation(float interpolatedTime, Transformation t) {
    super.applyTransformation(interpolatedTime, t);

    if (interpolatedTime < 1.0f) {

        // Calculating the new bottom margin, and setting it
        mViewLayoutParams.bottomMargin = mMarginStart
                + (int) ((mMarginEnd - mMarginStart) * interpolatedTime);

        // Invalidating the layout, making us seeing the changes we made
        mAnimatedView.requestLayout();

    // Making sure we didn't run the ending before (it happens!)
    } else if (!mWasEndedAlready) {
        mViewLayoutParams.bottomMargin = mMarginEnd;
        mAnimatedView.requestLayout();

        if (mIsVisibleAfter) {
            mAnimatedView.setVisibility(View.GONE);
            mImageButton.setImageResource(R.drawable.bar_up);
        }
        mWasEndedAlready = true;
    }
} 
```

}

```
btnShowBookmarkBar.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            animation = new ExpandAnimation(bookmarkControlView, 
                    CommConstant.DEFAULT_SHOW_UP_TIME, btnShowBookmarkBar);
            btnShowBookmarkBar.startAnimation(animation);
        }
    }); 
```

# javascript - HTML5 Canvas（绘图（矩形）不断消失）

> ID：10877222
> 
> 赞同：2
> 
> 时间：2012-06-04T06:36:39.887
> 
> 标签：javascript, iphone, html, canvas

怎么样了？

最近，在这个网站的帮助下，我学会了如何通过单击按钮在 HTML5 画布上绘制一个矩形......这不是问题:) 这是问题......不幸的是，每次我单击画布以创建一个新矩形，旧矩形消失（或立即擦除）。当我尝试在我的 iPod 上使用它时，它也完全不起作用......为什么:(？

* * *

这是我的代码：

* * *

JAVASCRIPT：

```
 // "Rectangle" Button
function rect()
{
var canvas = document.getElementById('canvasSignature'),
    ctx = canvas.getContext('2d'),
    rect = {},
    drag = false;

    function init() {
  canvas.addEventListener('mousedown', mouseDown, false);
  canvas.addEventListener('mouseup', mouseUp, false);
  canvas.addEventListener('mousemove', mouseMove, false);
}

function mouseDown(e) {
  rect.startX = e.pageX - this.offsetLeft;
  rect.startY = e.pageY - this.offsetTop;
  drag = true;
}

function mouseUp() {
  drag = false;
}

function mouseMove(e) {
  if (drag) {
    rect.w = (e.pageX - this.offsetLeft) - rect.startX;
    rect.h = (e.pageY - this.offsetTop) - rect.startY ;
    ctx.clearRect(0,0,canvas.width,canvas.height);
    draw();
  }
}

function draw() {
  ctx.fillRect(rect.startX, rect.startY, rect.w, rect.h);
}

init();
} 
```

* * *

HTML5：

```
<div id="canvasDiv">
    <canvas id="canvasSignature" width="580px" height="788px" style="border:2px solid #000; background: #FFF;"></canvas>
</div>

<div id="rect">  
    <p><button onclick="rect();">Rectangle</button></p>
</div> 
```

* * *

任何帮助将不胜感激:)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T06:44:47.520

你有一个声明要清除画布

```
ctx.clearRect(0, 0, canvas.width, canvas.height); 
```

# java - 异步 Web 服务 SOAP

> ID：10877223
> 
> 赞同：3
> 
> 时间：2012-06-04T06:36:48.647
> 
> 标签：java, web-services, soap, asynchronous

我有一个作为常规 SOAP Web 服务公开的接口。该接口的一种方法是客户端向服务器发送一个文件，然后服务器处理该文件并返回一个结果文件。处理文件可能需要一些时间，所以我认为使用此方法的异步调用是一个更好的主意。我想到了以下流程：

客户端调用异步方法并使用附件 (MTOM) 发送文件。当服务器接收到文件时，会向客户端发送一个响应，指示文件已被接收并且很快就会处理它。一旦文件被处理，就会向客户端发送响应，表明它已被处理，并且结果文件也作为附件在响应中返回。

是否可以将 SOAP 与 CXF 一起使用？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T06:45:28.120

您可以使用`Callback`.`Asynchronous InvocationModel`

> 回调方法 - 在这种情况下，要调用远程操作，您调用另一个特殊方法，该方法将回调对象（javax.xml.ws.AsyncHandler 类型）的引用作为其参数之一。每当响应消息到达客户端时，CXF 运行时会回调 AsyncHandler 对象以将响应消息的内容提供给它

可以从以下获得更多信息：

[阿帕奇 CXF](http://cxf.apache.org/docs/developing-a-consumer.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T06:59:29.377

如果您使用诸如 WSDL2Java 之类的工具来生成客户端，您甚至可以选择生成异步客户端。它将为您生成一个回调处理程序，其中包含每个服务操作和服务异常的空方法。然后，您可以只实现这些方法来设置收到响应时要执行的操作。请记住，当异步调用完成时，会启动一个新线程。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T06:43:59.857

是的，一旦您收到文件，您可以将请求 ID 返回给客户端并在服务器端开始处理并保持各种处理状态。客户端可以在不同的时间间隔内返回，如果完成将接收处理状态或输出。

# php - 原则 2：将数据插入到具有关联的实体中

> ID：10877224
> 
> 赞同：1
> 
> 时间：2012-06-04T06:36:49.483
> 
> 标签：php, zend-framework, doctrine

通过在向数据库中添加新实体时添加条件来解决，它检查实体是否不为空......显然有空实体试图保存。现在控制器代码如下所示：

```
...
$ciudades_id = explode(';', $this->getRequest()->getParam('ciudades_id'));
           foreach($ciudades_id as $ciudad_id){
               $ciudad = $this->_em->find("Application_Model_Ciudades", intval($ciudad_id));
               if($ciudad!= null){
                $carrera->getCiudad()->add($ciudad);                  
               }
           }

           $instituciones_id = explode(';', $this->getRequest()->getParam('instituciones_id'));
           foreach($instituciones_id as $institucion_id){
               $institucion = $this->_em->find("Application_Model_Instituciones", intval($institucion_id));
               if($institucion != null){
                  $carrera->getInstituciones()->add($institucion); 
               }
           }
... 
```

**感谢在#doctrine IRC 频道提供帮助的人 :)**

* * *

这是我的问题...我有一个名为“Carreras”（carreers）的实体，它有一些关联，并且新的 carreers 使用 Web 表单添加到数据库中。Carreer 对我来说就是一个测试，它有问题和其他属性，用户可以选择申请该测试的城市和机构。

因此，当我尝试在实体上保存新数据时出现此错误：

```
An error occurred
Application error
Exception information:

Message: A new entity was found through the relationship
'Application_Model_Carreras#ciudad' that was not configured 
to cascade persist operations for entity: Doctrine\ORM\UnitOfWork@. 
Explicitly persist    the new entity or configure cascading persist 
operations on the relationship. If you cannot find out which entity 
causes the problem implement 'Application_Model_Ciudades#__toString()' 
to get a clue. 
```

这是“Carreras”的模型

```
use Doctrine\Common\Collections\ArrayCollection;
/**
 * @Entity
 * @Table(name="carreras")
 */
class Application_Model_Carreras
{
    /**
     * @Id @Column(type="integer")
     * @GeneratedValue
     */
    private $id;

    /** @Column(type="string") */
    private $nombre;

    /**
     * @ManyToMany(targetEntity="Application_Model_PruebasCarrera")
     * @JoinTable(name="Carreras_PruebasCarrera",
     *      joinColumns={@JoinColumn(name="carreras_id", referencedColumnName="id")},
     *      inverseJoinColumns={@JoinColumn(name="pruebascarrera_id", referencedColumnName="id")}
     *      )
     */
    private $pruebas;

    /** @Column(type="integer") */
    private $valor;

    /** @Column(type="date") */
    private $fechainicio;

    /** @Column(type="date") */
    private $fechafin;

    /**
     * This association causes error
     * @ManyToMany(targetEntity="Application_Model_Ciudades")
     * @JoinTable(name="carrera_ciudades",
     *      joinColumns={@JoinColumn(name="carrera_id", referencedColumnName="id")},
     *      inverseJoinColumns={@JoinColumn(name="ciudad_id", referencedColumnName="id")}
     *      )
     */
    private $ciudad;

    /**
     * @ManyToMany(targetEntity="Application_Model_Instituciones")
     * @JoinTable(name="carrera_instituciones",
     *      joinColumns={@JoinColumn(name="carrera_id", referencedColumnName="id")},
     *      inverseJoinColumns={@JoinColumn(name="institucion_id", referencedColumnName="id")}
     *      )
     */
    private $instituciones;

    public function __construct()
    {
        $this->pruebas = new ArrayCollection();
        $this->ciudad = new ArrayCollection();
        $this->instituciones = new ArrayCollection();
    }

    public function setNombre($nombre){
        $this->nombre = $nombre;
    }

    public function setValor($valor){
        $this->valor = $valor;
    }

    public function setFechainicio($fechainicio){
        $this->fechainicio = $fechainicio;
    }

    public function setFechafin($fechafin){
        $this->fechafin = $fechafin;
    }

    public function getCiudad(){
        return $this->ciudad;
    }

    public function getPruebas(){
        return $this->pruebas;
    }

    public function getInstituciones(){
        return $this->instituciones;
    }
} 
```

现在控制器处的操作：

```
 /*
     * This is an action for adding a new career
     */
    public function agregarAction()
    {
       $formtest = new Admin_Form_AgregarCarrera();
       $this->view->formtest = $formtest;
       if ($this->getRequest()->isPost() && $this->view->formtest->isValid($this->_getAllParams()))
       {
           /*
            * If the form is okay creating new Carreer model object
            * This model has some attributes and three associations (for now) 
            * you can see them later in detail
            */
           $carrera = new Application_Model_Carreras();
           $carrera->setNombre($this->getRequest()->getParam("nombre"));
           $carrera->setValor($this->getRequest()->getParam("valor"));
           $carrera->setFechainicio(new \DateTime($this->getRequest()->getParam("fechainicio")));
           $carrera->setFechafin(new \DateTime($this->getRequest()->getParam("fechafin")));
           /*
            * This is the first association. It's working fine (for now)
            */
           $pruebas = $this->getRequest()->getParam("pruebas");
           foreach($pruebas as $prueba){
              if($prueba != '0'){
                  $tmp = $this->_em->find("Application_Model_PruebasCarrera", $prueba);
                  $carrera->getPruebas()->add($tmp);
              }
           }
           /*
            * This is the second associations, i'm getting the error with this one
            */
           $ciudades_id = explode(';', $this->getRequest()->getParam('ciudades_id'));
           foreach($ciudades_id as $ciudad_id){
               $ciudad = $this->_em->find("Application_Model_Ciudades", intval($ciudad_id));
               $carrera->getCiudad()->add($ciudad);
           }
           /*
            * This is the third one. Nothing to say about this.
            */
           $instituciones_id = explode(';', $this->getRequest()->getParam('instituciones_id'));
           foreach($instituciones_id as $institucion_id){
               $institucion = $this->_em->find("Application_Model_Instituciones", intval($institucion_id));
               $carrera->getInstituciones()->add($institucion);
           }

           $this->_em->persist($carrera);
           $this->_em->flush();
           //$this->redirector->gotoSimpleAndExit('index','Carrera','admin');     
        }
    } 
```

好吧，我不知道还能显示什么......如果你能帮助我，请发表评论:)

- 编辑

我在模型“Carreras”的关联中添加了 cascade={"persist"} 并且错误发生了变化：

```
An error occurred
Application error
Exception information:

Message: Class Doctrine\ORM\UnitOfWork is not a 
valid entity or mapped super class. 
```

现在这是“Ciudades”模型，它存储可用于测试的城市，并与每个城市存在的机构相关联。

```
use Doctrine\Common\Collections\ArrayCollection;
/**
 * @Entity
 * @Table(name="ciudades")
 */
class Application_Model_Ciudades {
    /**
     * @Id @Column(type="integer")
     * @GeneratedValue
     */
    private $id;

    /** @Column(type="string") */
    private $ciudad;

    /** @Column(type="string") */
    private $departamento;

    /** @Column(type="string") */
    private $pais;

    /**
     * @ManyToMany(targetEntity="Application_Model_Instituciones")
     * @JoinTable(name="Ciudades_Instituciones",
     *      joinColumns={@JoinColumn(name="ciudades_id", referencedColumnName="id")},
     *      inverseJoinColumns={@JoinColumn(name="instituciones_id", referencedColumnName="id")}
     *      )
     */
    private $instituciones;

    public function __construct()
    {
        $this->instituciones = new ArrayCollection();
    }

    public function getCiudad(){
        return $this->ciudad;
    }

    public function getId(){
        return $this->id;
    }

    public function getInstituciones(){
        return $this->instituciones;
    }

} 
```

现在这是“Instituciones”模型，它存储了可用于测试的机构。

```
/**
 * @Entity
 * @Table(name="instituciones")
 */
class Application_Model_Instituciones {
    /**
     * @Id @Column(type="integer")
     * @GeneratedValue
     */
    private $id;

    /** @Column(type="string") */
    private $nombre;

    public function getId(){
        return $this->id;
    }

    public function getNombre(){
        return $this->nombre;
    }

} 
```

现在这是“PruebasCarrera”模型，对我来说，这个模型实体存储了测试的问题，每个问题都可以有一个支持该问题的伙伴：

```
use Doctrine\Common\Collections\ArrayCollection;
/**
 * @Entity
 * @Table(name="pruebas_carrera")
 */
class Application_Model_PruebasCarrera extends Application_Model_PruebasBase{

    /**
     * @Id @Column(type="integer")
     * @GeneratedValue
     */
    private $id;

    /**
     * @ManyToMany(targetEntity="Application_Model_Patrocinadores")
     * @JoinTable(name="pruebascarrera_patrocinadores",
     *      joinColumns={@JoinColumn(name="pruebas_id", referencedColumnName="id", unique="true")},
     *      inverseJoinColumns={@JoinColumn(name="patrocinadores_id", referencedColumnName="id", unique=false)}
     *      )
     */
    protected $patrocinadores;

    /** @Column(type="string") */
    private $respuesta; 

    public function __construct() {
        $this->patrocinadores = new ArrayCollection();
    }

    public function setRespuesta($respuesta){
        $this->respuesta = $respuesta;
    }

    public function getPatrocinadores(){
        return $this->patrocinadores;
    }

    public function getId(){
        return $this->id;
    }

    public function getRespuesta(){
        return $this->respuesta;
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T09:36:18.157

请显示相关实体的代码：Application_Model_Ciudades Application_Model_PruebasCarrera Application_Model_Instituciones

At this moment look [https://www.doctrine-project.org/projects/doctrine-orm/en/2.6/reference/working-with-associations.html#transitive-persistence-cascade-operations](https://www.doctrine-project.org/projects/doctrine-orm/en/2.6/reference/working-with-associations.html#transitive-persistence-cascade-operations)

At this moment i think you should add cascade={"persist"} to the Application_Model_Ciudades entity.

# php - mongodb地理定位索引和查询

> ID：10877226
> 
> 赞同：0
> 
> 时间：2012-06-04T06:37:08.663
> 
> 标签：php, mongodb, geolocation

我有以下 mongo 文档结构。

```
{
"geo": {
  "0": {
    "deliveryArea": {
     "0": {
       "lat": 50.449234773334,
       "lng": 30.52300029031
    },
     "1": {
       "lat": 50.449234773334,
       "lng": 30.52542980606
    },
     "2": {
       "lat": 50.45154573136,
       "lng": 30.52542980606
    },
     "3": {
       "lat": 50.45154573136,
       "lng": 30.52300029031
    }
  },
   "title": "Kiev, ....",
   "coords": {
     "lat": "50.4501",
     "lngt": "30.523400000000038"
  },
   "wholeCityDelivery": "false"
} 
```

问题：

1.  如何确保deliveryArea [lat，lng]中每个元素的insure_index用于地理位置g？
2.  如何构建查询以查找具有点 N[lat,lng] 在（属于）多边形交付区域中的文档。$

如果你能做 PHP - 请）

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T08:02:55.910

首先，你需要改变你的数据结构。MongoDB 想要“经度，纬度”，它不关心你给字段取什么名字——一般来说，我会在没有字段名的情况下使用它们。您还需要在没有“0”键的情况下存储文档

就像：

```
{
    "geo": {
        "deliveryArea": [
             [ 30.52300029031, 50.449234773334 ],
        ]
    }
} 
```

然后你需要在“geo.deliveryArea”上设置一个二维索引：

```
$collection->ensureIndex( array( "geo.deliveryArea" => "2d" ) ); 
```

有关如何构建查询的信息可以在[http://www.mongodb.org/display/DOCS/Geospatial+Indexing#GeospatialIndexing-BoundsQueries](http://www.mongodb.org/display/DOCS/Geospatial+Indexing#GeospatialIndexing-BoundsQueries)但是，在您的情况下，您希望找到一个点的交付区域，而不是检查是否存储点适合给定区域，而 MongoDB 不能直接这样做，因为它的 2d 索引只能存储点。[请在http://jira.mongodb.org](http://jira.mongodb.org)提交功能请求

# c# - 带有 svcutil.exe 的 IIS 7.0 中的 WCF 服务主机

> ID：10877228
> 
> 赞同：0
> 
> 时间：2012-06-04T06:37:12.727
> 
> 标签：c#, wcf

在主机中托管我的服务后，我想要 svcutil.exe 将是 `http://www.esimsol.com/evalservicesite/eval.svc?wsdl`

但是当我查看我创建的服务 svcutil.exe 时，链接如下：

```
http://win-ea8mlbabe9t/evalservicesite/eval.svc?wsdl 
```

怎么可能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T06:47:14.633

简单地，

*   将 Namespace 属性应用于服务合同接口上的 ServiceContractAttribute
*   将 Namespace 属性应用于实现服务的类上的 ServiceBehaviorAttribute
*   将 Namespace 属性应用于与服务相关的每个类的 DataContractAttribute（参数、返回值）
*   在绑定类或 .config 文件中更改绑定的命名空间

* * *

**细节 ：**

```
[ServiceContract ( Namespace = "http://www.esimsol.com/evalservicesite" )]
public interface I ...
{ 
```

&

```
[ServiceBehavior ( Namespace = "http://www.esimsol.com/evalservicesite" )]
public class ... : I ...
{ 
```

&

```
[DataContract ( Namespace = "http://www.esimsol.com/evalservicesite" )]
public class ...
{ 
```

&

```
< services >
    < service ... >
        < endpoint ... bindingNamespace="http://www.esimsol.com/evalservicesite" />
    </ service >
</ services > 
```

# javascript - jQuery mobile css 和 js 不适用于使用 .load() 加载的内容

> ID：10877231
> 
> 赞同：0
> 
> 时间：2012-06-04T06:37:16.970
> 
> 标签：javascript, css, jquery-mobile

所以..这里是我有一个带有 data-role="page" 的页面和一个页眉容器和页脚 div的场景- 正常的 jquery 移动页面结构。

现在在我的内容 div 中，我有两个 div。在其中一个 div 中，我正在动态加载一些其他内容，其中包含指定数据角色的按钮和文本框。

现在的问题：

在 div 中加载新页面时，控件不会显示为移动控件，而是看起来像普通的 html 控件。这可能是因为他们在 dom 准备好后加载，他们没有得到 jqm js 和 css。

以下是页面结构。

```
 <html>
     <head>
     <link rel="stylesheet" href="styles/jquerymobile.css" type="text/css" />
     <script src="scripts/jquery.js"></script>
     <script src="scripts/jquery.mobile.js"></script>
     </head>
     <body>
     <div  data-role="page">
     <div data-role="header">
     </div>
     <div data-role="content">
     <div id="static_content"></div> // no problem to this.
     <div id="dynamic_content"></div> // dynamic content used .load() - no jqm css loaded :(
     </div>  
     </div>
     </body>
     </html> 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T06:50:07.230

您必须将内容加载到 jQuery 移动事件结构中。有关详细信息，请参见此处：http: [//jquerymobile.com/demos/1.1.0/docs/api/events.html](http://jquerymobile.com/demos/1.1.0/docs/api/events.html)

在被 jquery 增强之前，我使用了“pagecreate”事件来修改内容，如下所示：

```
 obj_out.add "$('div').live('pagecreate',function(event){" & vbNewLine
  obj_out.add " $('.jsvisible').show();" & vbNewline
  obj_out.add " $('.jshidden').hide();" & vbNewline
  obj_out.add " $('.nojs').removeClass('nojs');" & vbNewline
  obj_out.add "});" & vbNewline 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T06:56:57.193

加载动态内容后，您可以调用页面小部件构造函数

```
 $("div[data-role='page']").page('destroy').page(); 
```

# java - 弹簧框架

> ID：10877234
> 
> 赞同：-1
> 
> 时间：2012-06-04T06:38:01.033
> 
> 标签：java, spring

在什么情况下使用 Spring 框架很重要？请说明什么是优势以及更多相关信息。我是 Spring 框架的新手。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T06:41:21.590

[为什么使用弹簧](http://www.wrox.com/WileyCDA/Section/Why-Use-the-Spring-Framework-.id-130098.html)。这可能会对您有所帮助。[一个链接的堆栈溢出问题](https://stackoverflow.com/questions/4017014/why-use-spring)

# web-crawler - 通过 Scrapy 在一定深度爬取简单的网站

> ID：10877243
> 
> 赞同：3
> 
> 时间：2012-06-04T06:39:17.080
> 
> 标签：web-crawler, web-scraping, scrapy

我想**抓取**一个关于一些问题和答案的 3 深度网站。它有一个简单的结构，如下所示：

*   第二深度 -> 包含**元**数据（问题描述）

*   第三深度 -> 包含**实际**数据（问题和答案）

    ```
     /prob
        +-> /prob/problemLists.html
          +-> /prob/problem123456.html 
    ```

`response.meta['depth']`我使用as 条件编写了如下 Scrapy 代码。

有没有更好的方法来做到这一点？

```
class DmzSpider(CrawlSpider):
    rules = (
         Rule(SgmlLinkExtractor(deny=('index\.htm',callback='parse_list'))),
    )

    def parse_list(self, response):
        if response.meta['depth'] == 2:
        # Scrape descriptions ...
        return items

        elif response.meta['depth'] ==3:
            parse_item(response)

    def parse_item(self, response):
        # Parse items and save it according to prob_id...

        return items 
```

我还尝试了以下 3 个选项，但没有一个有效，并且 request_depth_max=1 总结为：

1.  添加：从 scrapy.conf 导入设置 settings.overrides['DEPTH_LIMIT'] = 2 到蜘蛛文件
2.  使用 -s 选项运行命令行： /usr/bin/scrapy crawl -s DEPTH_LIMIT=2 mininova.org
3.  添加到 settings.py 和 scrapy.cfg：DEPTH_LIMIT=2

应该如何配置为1以上？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-24T15:09:14.880

在这种情况下，您可以将[深度限制设置为 3，请参阅](http://doc.scrapy.org/en/latest/topics/settings.html#depth-limit)[Scrapy 文档中的设置页面](http://doc.scrapy.org/en/latest/topics/settings.html)

# python - Django 无效的块标签：'else'，预期的'endblock'

> ID：10877249
> 
> 赞同：1
> 
> 时间：2012-06-04T06:40:04.160
> 
> 标签：python, django

好的，所以我对 django 还是很陌生，并且在个人项目中使用它。我收到以下代码的此错误：

```
{% extends "base.html" %}
{% block content %}
    <h1>Website News</h1>
    <% if news_items|length > 0 %>
        {% for post in news_items %}
            <h1>{{post.title}}</h1>
            {% autoescape off %}
                {{post.content}}
            {% endautoescape %}
        {% endfor %}
    {% else %}
        <h1>There are no posts currently</h1>
    {% endif %}
{% endblock %} 
```

显然它不喜欢我的 if 语句中的 {% else %} 。我已经进行了大量搜索并发现了一些类似的问题，但它们的问题都与嵌套不正确的块或错误的字符有关。我已经检查了一堆文档，除了 django 抱怨之外，我的代码没有发现任何问题。

有任何想法吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-04T06:42:32.343

你有

```
<% if news_items|length > 0 %> 
```

代替：

```
{% if news_items|length > 0 %} 
```

在您的代码中，这不是正确的模板标签。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T07:01:10.347

如果您尝试使用“if”，则必须将其放在`{% %}`block 中。

.

# tridion - SiteEdit 永远不会停止加载组件和架构

> ID：10877250
> 
> 赞同：3
> 
> 时间：2012-06-04T06:40:04.303
> 
> 标签：tridion, tridion-2011, dd4t, siteedit

我们第一次使用 SitEdit 2009 SP1 为 Tridion 2011 SP1 实施了带有 DD4T 的 SiteEdit，我们从 SiteEdit 收到一条消息“正在加载组件和模式”​​，它不断给出这个消息，我们无法编辑内容仍在加载。任何人都可以让我知道这个问题吗？

页面来源：

```
<!DOCTYPE HTML>
<html>
<head>
    <title>News</title>
    <link href="/FirstDD4TMVCApplicationsiteedit/Content/Site.css" 
          rel="stylesheet" type="text/css" />
    <script src="/FirstDD4TMVCApplicationsiteedit/Scripts/jquery-1.4.4.min.js"
            type="text/javascript"></script>
    <link href="/SiteEdit/App_Themes/SiteEdit/Calendar.css" type="text/css"
          rel="stylesheet" />
    <link href="/SiteEdit/App_Themes/SiteEdit/SiteEditBorders.css" 
          type="text/css" rel="stylesheet" />
</head>
<body>
<div>
  <span>
    <!-- Start SiteEdit Component Presentation: {"ID" : "cp_1", "ComponentID" : "tcm:8-31855", "ComponentTemplateID" : "tcm:8-31851-32", "ComponentVersion" : 1, "IsQueryBased" : false  } -->

    <div>
      <span>
        <!-- Start SiteEdit Component Field: {"ID" : "ContentHeading1", "XPath" : "tcm:Content/custom:Content/custom:Heading[1]", "IsMultiValued" : false} -->
        Hello this is test
        <h3>TestNews</h3>
      </span>
    </div>
  </span>
</div>
<div>
  <!-- SiteEdit Settings: { "PageID" : "tcm:8-31856-64", "PageVersion" : 2, "TargetTypeID" : "", "ComponentPresentationLocation" : 1}  -->
</div>

</body>
</html> 
```

还有一个问题：在使用 DD4T 时由 SiteEdit 自动生成的 SiteEdit 页面标签中的以下标签及其属性有什么意义？

```
"BluePrinting" : {"PageContext" : "tcm:0-0-1", "ComponentContext" : "tcm:0-8-1", "PublishContext" : "tcm:0-8-1" } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-05T11:58:56.637

问题得到解决 :) 我们只需要将 span 标签包围或添加到 SiteEdit 标签。

例如

```
<span>
@Html.SiteEditPage(Model)
</span> 
```

快乐编码！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T15:24:16.977

Compare in IIS Manager the following virtual directories under

```
[CME Website]/WebUI/Editors

[CME Website]/WebUI/Models 
```

With

```
[SiteEdit Website]/WebUI/Editors

[SiteEdit Website]/WebUI/Models 
```

Those directories should contain the same items/structure. If not, I have seen that error happening.

The forever "Loading components and Schemas" also can happen if popup window that SiteEdit pops during login is blocked by a popup blocker.

# php - PHP：使用 for 循环计数元素

> ID：10877252
> 
> 赞同：2
> 
> 时间：2012-06-04T06:40:22.717
> 
> 标签：php

我想计算一组两个中的数值以获得相等的值。例如值列表`1,2,3,3,3,3,3,3,3,3,5,5,6`

我应该`1,2,(3,3),(3,3),(3,3),(3,3),(5,5),6`

那是我决定将第一个 (3,3) 计为 1 的时候。因此在这种情况下，我应该为所有值设置 $count=8 而不是 $count=13。我试图做一些 for 循环和 if 语句，但我得到了错误的结果。任何想法都受到高度赞赏。谢谢

注意：这些对必须相邻才能被视为 1。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T06:49:34.423

```
$list = array(1,2,3,3,3,3,3,3,3,3,5,5,6);
$counter = 0;
foreach($list as $number)
{
  if(isset($previous) and $previous === $number)
  {
    unset($previous);
  }
  else
  {
    $previous = $number;
    $counter++;
  }
}
echo $counter; // 8 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-04T06:47:48.720

带有反向引用的正则表达式解决方案：

```
$s = '1,2,3,3,3,3,3,3,3,3,5,5,6';

echo count(explode(',', preg_replace('/(\d+),\\1/', '\\1', $s))); 
```

输出：

```
8 
```

正则表达式匹配一个数字，然后使用反向引用来匹配与其相邻的数字。当两者都匹配时，它们被替换为一个数字。之后的中间结果`preg_replace`是：

```
1,2,3,3,3,3,5,6 
```

之后，对逗号分隔值执行计数。

# indexed - C# - 在谷歌中获取网站索引页面的数量？

> ID：10877254
> 
> 赞同：0
> 
> 时间：2012-06-04T06:40:33.977
> 
> 标签：indexed

我想知道是否有办法获取在 Google 中编入索引的网站的页面数。用 ASP.net ， C#
我检查了[这篇文章](https://stackoverflow.com/questions/1833926/programmatically-get-the-number-of-indexed-pages-in-google)，但我没有得到它！
我不知道如何使用 Google API，甚至不知道在哪里可以得到它！
谢谢你！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T06:50:26.170

你需要使用这个库： [http ://code.google.com/p/google-gdata/](http://code.google.com/p/google-gdata/)

# android - 如何在 Eclipse Android 中将 arrayList 类型的字符串添加到 ListView？

> ID：10877257
> 
> 赞同：0
> 
> 时间：2012-06-04T06:40:36.363
> 
> 标签：android, eclipse

我将 main.xml 转到图形布局，然后将 ExpandableList 拖到设计器上。我也可以在 main.xml 运行时代码中看到它：

```
<ExpandableListView
        android:id="@+id/expandableListView1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" >
    </ExpandableListView> 
```

但是当我运行我的应用程序时，我在 android 设备中看不到它。我想要做的是将 arrayList 字符串添加到这个 ListView 中，这样我就可以从我的设备中的这个列表中进行选择。

```
package com.testotspeech;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.Locale;

import android.app.Activity;
import android.os.Bundle;
import android.speech.tts.TextToSpeech;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ListView;

public class AndroidTestToSpeechActivity extends Activity implements
        TextToSpeech.OnInitListener {
    /** Called when the activity is first created. */

    private TextToSpeech tts;
    private Button btnSpeak;
    private EditText txtText;
    private ListView lview;
    private ArrayList<String> itemsList;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        itemsList = new ArrayList<String>();
        Log.i("----------",Arrays.toString(Locale.getAvailableLocales()));
        itemsList.add(Arrays.toString(Locale.getAvailableLocales()));
        tts = new TextToSpeech(this, this);
        btnSpeak = (Button) findViewById(R.id.btnSpeak);
        lview = (ListView) findViewById(R.id.expandableListView1);
        txtText = (EditText) findViewById(R.id.txtText);

        // button on click event
        btnSpeak.setOnClickListener(new View.OnClickListener() {

            public void onClick(View arg0) {
                speakOut();
            }

        });
    }

    @Override
    public void onDestroy() {
        // Don't forget to shutdown tts!
        if (tts != null) {
            tts.stop();
            tts.shutdown();
        }
        super.onDestroy();
    }

    public void onInit(int status) {

        if (status == TextToSpeech.SUCCESS) {

            int result = tts.setLanguage(Locale.ENGLISH);

            if (result == TextToSpeech.LANG_MISSING_DATA
                    || result == TextToSpeech.LANG_NOT_SUPPORTED) {
                Log.e("TTS", "This Language is not supported");
            } else {
                btnSpeak.setEnabled(true);
                speakOut();

            }

        } else {
            Log.e("TTS", "Initilization Failed!");
        }

    }

    private void speakOut() {

        String text = txtText.getText().toString();
        tts.speak(text, TextToSpeech.QUEUE_FLUSH, null);
    }
} 
```

我有一个 Log.i，然后在它下面有一个 itemsList，它是 ArrayList 我在我的设备中获取可用语言的列表。我想将此列表添加到 ListView，以便我可以从那里选择设备中的语言，它会实时更改语言。

问题是在我的设备上运行应用程序时我根本看不到 ListView，第二个问题是如何将列表添加到 ListView？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T06:44:42.177

您可以将“适配器”用于可以是 ArrayAdapte/BaseAdapter/CursorAdapter 的对象，一个使用数组适配器的简单示例可以是

```
public class YourActivity extends Activity 
{
    private ListView lv;
    public void onCreate(Bundle saveInstanceState) {
         lv = (ListView) findViewById(R.id.your_list_view_id);
         // Instanciating an array list (you don't need to do this, you already have yours)
         ArrayList<String> your_array_list = new ArrayList<String>();
         your_array_list.add("foo");
         your_array_list.add("bar");
         // This is the array adapter, it takes the context of the activity as a first // parameter, the type of list view as a second parameter and your array as a third parameter
         ArrayAdapter<String> arrayAdapter =      
         new ArrayAdapter<String>(this,android.R.layout.simple_list_item_1, your_array_list);
         lv.setAdapter(arrayAdapter); 
         setContentView(R.layout.your_layout);

    }
} 
```

# c# - 单击特定面板中的搜索按钮时在同一 Gridview 中显示记录

> ID：10877263
> 
> 赞同：0
> 
> 时间：2012-06-04T06:40:49.560
> 
> 标签：c#, asp.net

我在一页上有 2 个面板（SAPInfo、OSInfo）。在 SAPInfo 面板中有 3 个文本框（SID、Client、User_id）和 1 个搜索按钮。单击搜索按钮后，我想在下一页的 Gridview 中显示 SAP 表的数据（user_id、Descriptio、sap_system_password）。同样在 OSInfo 面板中有 2 个文本框（IP/HostName，User_id）和 1 个 SEARCH 按钮。单击搜索按钮后，我想在同一个 Gridview 中显示 OS 表（user_id、Descriptio、os_system_password）的数据。Gridview 有 4 列（UserID,Description,Password,Change Password） SAP 表包含字段为（sid,client_no,user_id,sap_system_password,description） OS 表包含字段为（user_id,ip,host_name,os_system_password,description） 怎么做这个？请帮助..这是我的搜索按钮（SAP）代码

```
protected void btnSAPSearch_Click(object sender, EventArgs e)
{
    try
    {
        using (MySqlConnection conn = new MySqlConnection(clsUser.connStr))
        {
            conn.Open();
            string strQuery = "select DISTINCT user_id,description,sap_system_password from sap_password_info where user_id is not null";
            if (txtSid.Text !="")
            {
                strQuery += " AND sid = '" + txtSid.Text + "'";
            }
            if (txtClient.Text != "")
            {
                strQuery += " AND client_no = '" + txtClient.Text + "'";
            }
            if (txtUser.Text != "")
            {
                strQuery += " AND user_id = '" + txtUser.Text + "'";
            }

            MySqlCommand cmd = new MySqlCommand(strQuery, conn);
            DataTable dt = new DataTable();
            dt.Load(cmd.ExecuteReader(CommandBehavior.CloseConnection));
            Session["userinfo"] = dt;
            Response.Redirect("~\\PasswordInformation_Details.aspx");
        }
    }
    catch (Exception ex)
    {
        //lblMessage.Text = DataObjects.Error_Message();
        lblMsg.Text = ex.Message.ToString();
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T08:05:29.707

解决方案非常简单。将搜索条件作为查询字符串传递到您的其他页面。所以点击搜索按钮（SAP面板）构建一个查询字符串，如下所示

```
 //if sap
    string url = "Result.aspx?Mode=SAP&sid=some_sid&client=some_client&user_id=some_user_id;
    Response.Redirect(url, false); 
```

所以点击搜索按钮（操作系统面板）

```
//if OS
string url = "Result.aspx?Mode=OS&ip=some_ip&user_id=some_userId;
Response.Redirect(url, false); 
```

ON 结果页面 page_load

```
if(Request.QueryString["Mode"] =="SAP")
{
    //bring sap result dataset
}
else
{
    // bring os result dataset
}

//bind it to gridView
resultGridView.DataSource = dsResult
resultGridView.DataBind(); 
```

记住。在网格视图上使 autogeneratedcolumn = true 。现在您的网格视图将显示将给它的任何结果（3 列，4 列）。现在将动态生成列。

## 编辑 1

搜索后，您将获得一些带有结果的数据集。要更改网格标题，只需更改 dataTable 中的列名。您将给出的任何列都将由网格显示

```
datatable.Columns["original_column_name"].ColumnName = "new column name";

//For adding a new column, just simply do this to your result set
datatable.Columns.Add("Change Password"); 
```

**编辑 2**

```
string strQuery = "select DISTINCT user_id as User Id,description as Description,sap_system_password as Sap System Password from sap_password_info where user_id is not null"; 
```

另请参阅：[列别名](http://www.geeksengine.com/database/basic-select/column-alias.php)

# java - 在 linux 中从 jvm 中查找硬和软打开文件限制（ulimit -n 和 ulimit -Hn）

> ID：10877271
> 
> 赞同：3
> 
> 时间：2012-06-04T06:41:48.220
> 
> 标签：java, linux, groovy, jvm, ulimit

我有一个问题，我需要从 java/groovy 程序中找出 linux 中进程的硬和软打开文件限制。当我从终端执行 ulimit 时，它会为硬打开文件限制和软打开文件限制提供单独的值。

```
$ ulimit -n
1024
$ ulimit -Hn
4096 
```

但是，如果我在 groovy 中执行它，它会忽略软限制并始终返回硬限制值。

```
groovy> ['bash', '-c', 'ulimit -n'].execute().text  
Result: 4096

groovy> ['bash', '-c', 'ulimit -Hn'].execute().text 
Result: 4096 
```

如果我遗漏了什么，请告诉我。我使用 ubuntu 12.04，Groovy 版本：1.8.4 JVM：1.6.0_29 来执行此操作。

**更新**：我在 Java 中尝试过同样的事情。

```
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.Reader;
import java.io.StringWriter;
import java.io.Writer;

public class LinuxInteractor {
    public static int executeCommand(String command, boolean waitForResponse, OutputHandler handler) {
        int shellExitStatus = -1;
        ProcessBuilder pb = new ProcessBuilder("bash", "-c", command);
        pb.redirectErrorStream(true);
        try {
            Process shell = pb.start();

            if (waitForResponse) {

                // To capture output from the shell
                InputStream shellIn = shell.getInputStream();

                // Wait for the shell to finish and get the return code
                shellExitStatus = shell.waitFor();

                convertStreamToStr(shellIn, handler);
                shellIn.close();
            }
        }

        catch (IOException e) {
            System.out
                    .println("Error occured while executing Linux command. Error Description: "
                            + e.getMessage());
        }
        catch (InterruptedException e) {
            System.out
                    .println("Error occured while executing Linux command. Error Description: "
                            + e.getMessage());
        }
        return shellExitStatus;
    }

    public static String convertStreamToStr(InputStream is, OutputHandler handler) throws IOException {

        if (is != null) {
            Writer writer = new StringWriter();

            char[] buffer = new char[1024];
            try {
                Reader reader = new BufferedReader(new InputStreamReader(is,
                        "UTF-8"));
                int n;
                while ((n = reader.read(buffer)) != -1) {
                    String output = new String(buffer, 0, n);
                    writer.write(buffer, 0, n);

                    if(handler != null)
                        handler.execute(output);
                }
            } finally {
                is.close();
            }
            return writer.toString();
        } else {
            return "";
        }
    }

    public abstract static class OutputHandler {
        public abstract void execute(String str);
    }

    public static void main(String[] args) {
        OutputHandler handler = new OutputHandler() {
            @Override
            public void execute(String str) {
                System.out.println(str);
            }
        };

        System.out.print("ulimit -n : ");
        LinuxInteractor.executeCommand("ulimit -n", true, handler);
        System.out.print("ulimit -Hn : ");
        LinuxInteractor.executeCommand("ulimit -Hn", true, handler);
    }

} 
```

该程序的输出：

```
$ java LinuxInteractor 
ulimit -n : 4096

ulimit -Hn : 4096 
```

为什么Java中的行为相同。java是否有机会设置ulimit。提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T07:02:48.777

Groovy 在其启动脚本中将此限制设置为最大值。

在`startGroovy:160`：

```
# Increase the maximum file descriptors if we can.
if [ "$cygwin" = "false" -a "$darwin" = "false" ] ; then
    MAX_FD_LIMIT=`ulimit -H -n`
    if [ $? -eq 0 ] ; then
        if [ "$MAX_FD" = "maximum" -o "$MAX_FD" = "max" ] ; then
            MAX_FD="$MAX_FD_LIMIT"
        fi
        ulimit -n $MAX_FD
        if [ $? -ne 0 ] ; then
            warn "Could not set maximum file descriptor limit: $MAX_FD"
        fi
    else
        warn "Could not query businessSystem maximum file 
              descriptor limit: $MAX_FD_LIMIT"
    fi
fi 
```

* * *

事实证明 jvm 自己设置了这个限制。我不确定为什么 groovy 也在改变它。尝试：

```
java -XX:-MaxFDLimit LinuxInteractor 
```

它将禁用此行为。

# php - 在 SQL 语句上需要一些帮助

> ID：10877272
> 
> 赞同：1
> 
> 时间：2012-06-04T06:41:58.827
> 
> 标签：php, sql

我正在尝试从具有最多推荐的用户表中获取 user_id。抱歉标题含糊不清，我不确定这叫什么。

使用 PHP 和 MYSQL。

例子：

```
CREATE TABLE IF NOT EXISTS `users` (
  `user_id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(180) CHARACTER SET utf8 NOT NULL,
  `ip` varchar(180) CHARACTER SET utf8 NOT NULL,
  `registered` varchar(180) CHARACTER SET utf8 NOT NULL,
  `lastonline` varchar(180) CHARACTER SET utf8 NOT NULL,
  `referral` varchar(180) CHARACTER SET utf8 NOT NULL,
  `url` varchar(180) CHARACTER SET utf8 NOT NULL,
  `points` float NOT NULL,
  PRIMARY KEY (`user_id`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=6544 ; 
```

用户看起来像这样，

```
1, 'username', 'ipaddy', 'date', 'date', '**REFERRAL**', 'url', 13633 
```

我试图找到在所有用户表中具有最多相同推荐的 user_id。假设用户 4 在引用 varchar 中有 10 个具有相同内容的不同用户。我如何选择查看用户 4 而无需遍历每个用户，记录他们的推荐，然后选择最多的用户。

必须有一个更简单的方法......

任何帮助表示赞赏。谢谢！

编辑：对不起，推荐是`name`另一个用户的，而不是`user_id`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T06:47:50.407

为您的 SQL 添加了一些额外的内容：

```
SELECT referral, count(*) AS count FROM users 
WHERE referral IS NOT NULL AND referral != ''
GROUP BY referral ORDER BY COUNT(referral) DESC 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:36:36.523

试试这个，这对你有用。但请尝试考虑我上面的建议。但是现在，使用这个。

```
SELECT 
    ref.prime,
    ref.num_of_refferals
FROM
(
    SELECT 
        referral AS prime,
        COUNT(*) AS num_of_refferals,
        NAME
    FROM
        users
        WHERE
                referral != ''
    GROUP BY
        referral
) AS ref
ORDER BY 
    ref.num_of_refferals
DESC
LIMIT 1 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T07:47:47.327

似乎因为其他用户没有推荐，所以它也在计算它们并为顶级推荐返回空白。

Papaiatis 提供了以下内容

```
SELECT referral FROM users GROUP BY referral ORDER BY COUNT(referral) DESC LIMIT 1 
```

我确保推荐字段不为空，我想获取用户的推荐数量。

```
SELECT referral, count(*) as count FROM users WHERE referral != '' GROUP BY referral ORDER BY COUNT(referral) DESC 
```

谢谢您的帮助！

# ruby - 如何更改表上定义的索引？

> ID：10877274
> 
> 赞同：4
> 
> 时间：2012-06-04T06:42:07.750
> 
> 标签：ruby, ruby-on-rails-3, indexing

我有一个定义的索引

```
add_index :users, :email, :unique => true 
```

有什么方法可以更改此索引以删除 UNIQUE 约束，例如“change_index”？
或者它是删除索引并在没有 UNIQUE 约束的情况下再次添加它的唯一方法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T07:45:16.360

迁移中没有“change_index”，因此您可以执行以下操作：

`remove_index :users, :email`

`add_index :users, :email, :unique => false`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-04T06:53:27.173

在您使用的数据库中，不同的索引类型通常以非常不同的方式实现。主索引与任何二级索引都非常不同。唯一索引通常与搜索索引不同，以促进它们的主要用例：*快速*确定列中是否已经存在值与允许有效搜索。

因此，（取决于您的 DBMS）您无法更改现有索引。在任何情况下，最安全的选择是删除索引并创建一个新索引。这可以在实时操作期间完成。无需关闭数据库和您的 rails 应用程序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-10-05T14:45:26.147

这应该分两步完成 - 首先在一个迁移文件中创建您需要的索引，然后将现有的索引删除到另一个文件中。

第一个文件：

```
class AddNewIndex < ActiveRecord::Migration
  disable_ddl_transaction!

  def change
    add_index(
      :users,
      :email,
      unique: false,
      name: "index_non_unique_emails_on_users",
      algorithm: :concurrently
    )
  end
end 
```

第二个文件：

```
class DropOldListCIndexFromPushLogs < ActiveRecord::Migration
  def change
    remove_index(
      :users,
      name: <existing unique index name> # have a look in db/schema.rb
    ) if index_exists?(:users, name: "index_non_unique_emails_on_users")
  end
end 
```

如果您不熟悉安全迁移，请查看[零停机时间迁移的自述文件。](https://github.com/LendingHome/zero_downtime_migrations)

# c++ - iostream 清除（）

> ID：10877275
> 
> 赞同：2
> 
> 时间：2012-06-04T06:42:14.417
> 
> 标签：c++, iostream

```
istream &func(istream &in)
{
    string data;

    while (in >> data, !in.eof()) {
        if (in.bad())
            throw runtime_error("IO stream corrupted");
        if (in.fail()) {
            cerr << "bad data, try again" << endl;
            in.clear();
            in.ignore(200);
            continue;
        }   

        cout << data << endl;;
    }   

    //in.clear(istream::eofbit | istream::failbit);
    in.clear();

    return in; 
} 
```

为什么`in.clear(istream::eofbit | istream::failbit);`不能重置cin？

但`in.clear`可以做到。

PS：我在 main() 中使用了这个函数，并`cin`用作它的参数。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-04T07:07:45.357

clear 定义如下：

> 无效清除（iostate state = goodbit）；

所以，实际上，`in.clear();`正在这样做：`in.clear(istream::goodbit);`它重置了流。调用`in.clear(istream::eofbit | istream::failbit);`会同时设置`eofbit`and `failbit`，我怀疑这就是你想要的。

```
std::cin.clear(std::istream::eofbit | std::istream::failbit);
std::ios_base::iostate state = std::cin.rdstate();
if( state == (std::istream::eofbit | std::istream::failbit))
{
    std::cout << "eofbit and failbit set" << std::endl;
} 
```

# asp.net - 浏览器不保存 cookie

> ID：10877277
> 
> 赞同：0
> 
> 时间：2012-06-04T06:42:25.473
> 
> 标签：asp.net, asp.net-mvc, cookies

我只需要为每个用户显示前 3 次信息。当该用户下次访问该站点时，他不应该看到此信息。我使用 cookie 来实现这个目标。

```
ViewBag.HelpShow = true;

if (this.ControllerContext.HttpContext.Request.Cookies.AllKeys.Contains("ecCount"))
{
  int count = 0;

  if (Int32.TryParse(this.ControllerContext.HttpContext.Request.Cookies["ecCount"].Value, out count))
  {
    if (count >= 3)
      ViewBag.HelpShow = false;
  }

  count++;
  this.ControllerContext.HttpContext.Response.Cookies["ecCount"].Value = count.ToString();
}
else
{
  HttpCookie cCount = new HttpCookie("ecCount", "1");
  cCount.Expires = DateTime.Now.AddYears(10);
  this.ControllerContext.HttpContext.Response.Cookies.Add(cCount);
} 
```

但我遇到了问题。问题是这些 cookie 存储在浏览器中，直到打开该浏览器。如果我关闭浏览器并重新启动，这些 cookie 将被删除。所以问题是 - 如何保存 cookie 将始终保存 - 并且在重新启动浏览器之后。

# css - 如何覆盖 DataGrid 标头的 GWT 混淆样式

> ID：10877280
> 
> 赞同：6
> 
> 时间：2012-06-04T06:42:55.680
> 
> 标签：css, gwt, datagrid, overriding

我试图弄清楚如何覆盖[DataGrid.css](http://code.google.com/p/google-web-toolkit/source/browse/trunk/user/src/com/google/gwt/user/cellview/client/DataGrid.css?r=10228)中定义的 dataGridHeader 样式！GWT 核心。GWT 样式名称被 adler32 混淆了，所以我不能简单地在我的 css 中使用 .dataGridHeader。就我而言，我希望对空白进行简单的更改：正常。

我在这里看到过关于注入 css 的文章，但它们似乎都是类级别的，而不是像 DataGrid 这样的组件中使用的子样式。

如何覆盖在 DataGrid 等组件中使用的标题样式？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-04T08:06:27.600

就像使用任何`ClientBundle`and `CssResource`: 创建一个接口，该接口使用指向您自己的 CSS 文件（或者可能指向原始文件和您自己的文件，因此它们将组合在一起）的注释来扩展`Datagrid.Resources`和覆盖该`dataGridStyle`方法。`@Source`

这样做会覆盖应用程序中*所有* `DataGrid`s 的样式（它实际上取决于哪个`CssResource`实例`ensureInjected()`首先获得：来自原始实例的实例`DataGrid.Resources`或来自子接口的实例）：因为您使用相同的返回类型 ( `DataGrid.Style`)，混淆的类名将是相同的。

如果您想根据具体情况更改样式，那么，另外，声明一个扩展接口`DataGrid.Style`并将其用作`dataGridStyle`覆盖的返回类型：因为混淆的类名基于完全限定的接口名称和方法名称，您的`DataGrid.Style`子接口将生成与原始接口不同的混淆类名`DataGrid.Style`。

然后当然是`GWT.create()`您的`DataGrid.Resources`子接口并将其作为参数传递给`DataGrid`构造函数。

另请参阅[http://code.google.com/p/google-web-toolkit/issues/detail?id=6144](http://code.google.com/p/google-web-toolkit/issues/detail?id=6144)

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-01-11T11:39:12.047

谢谢托马斯。

只是为了让读者更容易...

创建一个新接口

```
public interface GwtCssDataGridResources extends DataGrid.Resources {
      @Source({Style.DEFAULT_CSS, "gwtDataGrid.css"})
      Style dataGrid();
} 
```

使用静态引用

```
public static final GwtCssDataGridResources gwtCssDataGridResources = GWT.create(GwtCssDataGridResources.class);

    static {
        gwtCssDataGridResources.dataGrid().ensureInjected();
    } 
```

最后创建一个新的 CSS 文件 gwtDataGrid.css。请注意，如果您需要覆盖样式，则必须在每个定义上使用**!important 。**

```
.dataGridHeader {
    color: #FF0000 !important;
}

.dataGridFirstColumnHeader {
    -moz-border-radius-topleft: 5px;
    -webkit-border-top-left-radius: 5px;
}

.dataGridLastColumnHeader {
    -moz-border-radius-topright: 5px;
    -webkit-border-top-right-radius: 5px;
} 
```

就是这样

# python - Python 元组列表

> ID：10877281
> 
> 赞同：3
> 
> 时间：2012-06-04T06:43:15.633
> 
> 标签：python

```
L1 = ['A', 'B', 'C', 'D'] 
L2 = [('A', 10)], ('B', 20)] 
```

现在从这两个列表中我如何生成公共元素

```
output_list = [('A', 10), ('B', 20), ('C', ''), ('D', '')] 
```

如何使用 L1 和 L2 获取 output_list？

我尝试了以下

```
 for i in L2:
    for j in L1:
       if i[0] == j:
           ouput_list.append(i)
       else:
           output_list.append((j, '')) 
```

但我没有得到我想要的确切信息

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-04T06:49:33.417

`[(k, dict(L2).get(k, '')) for k in L1]`

`dict(L2)`如果您不想每次都重新计算它（例如，如果 L2 很大），您可以将其从列表推导中提取出来。

```
d = dict(L2)
[(k, d.get(k, '')) for k in L1] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T06:58:08.693

如果您确定列表的顺序是正确的并且 L2 总是更短或相同的长度：

```
from itertools import cycle
L2 + zip(L1[len(L2):], cycle(('',))) 
```

# joomla1.5 - 来自 joomla 控制器的 SetRedirect url 的 SH404

> ID：10877282
> 
> 赞同：0
> 
> 时间：2012-06-04T06:43:18.723
> 
> 标签：joomla1.5

我正在为 joomla 中的自定义组件编写自定义 sh404 文件。我使用 setRedirect 函数编写了一些重定向 url。但它不会重定向到 SH404 URL。

我给出的是：

$link = JURI::base().'index.php?option=com_camassistant&controller=rfp&task=editrfp&var=copy&rfpid='.$insert_id.'&Itemid='.$_REQUEST['Itemid'] ; $this->setRedirect($link,$msg);

你能说我怎样才能给 $link 自动更改 SH404 吗？

在此先感谢 Sateesh

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T15:07:58.950

我没有正确理解它。

如果您执行以下操作： JError::raiseError(404, 'Not Found');

# android - 在布局中多次使用相同的视图

> ID：10877283
> 
> 赞同：4
> 
> 时间：2012-06-04T06:43:21.917
> 
> 标签：android, android-layout, android-listview

我有一个`Activity`其中也有一个`ListView`。我在我的方法中加载了一些`EditText`框、按钮等。`ListView``getView`

```
if(position==0)
            {
                ((TextView)convertView.findViewById(R.id.textview_settings)).setText("User Information");

            }
            else if(position==1 || position==2 || position==5 || position==6 || position==7 || position==10 || position==13)
            {
                ((LinearLayout)convertView.findViewById(R.id.linear_settings)).setVisibility(View.VISIBLE);
                ((RelativeLayout)convertView.findViewById(R.id.Relative_home)).setVisibility(View.GONE);

                if(position==1 || position==5 || position==5)
                    ((EditText)convertView.findViewById(R.id.edittext_settings)).setBackgroundResource(R.drawable.f_t_1_iphone);
                else if(position==7 || position==2)
                    ((EditText)convertView.findViewById(R.id.edittext_settings)).setBackgroundResource(R.drawable.f_t_3_iphone);
                else if(position==6)
                    ((EditText)convertView.findViewById(R.id.edittext_settings)).setBackgroundResource(R.drawable.f_t_2_repeat_iphone);
                else if(position==13 || position==10)
                    ((EditText)convertView.findViewById(R.id.edittext_settings)).setBackgroundResource(R.drawable.f_t_4_iphone);    
            } 
```

在多个实例中，我还将 a 添加`Button`到相同的`List`. 基本上，我只是根据`ListView`. 该按钮的 id `button_title`- 在我下面的 xml 中定义。

```
 convertView = mInflater.inflate(R.layout.next, null); *//inside getView method* 
```

next.xml 的内容：

```
 <?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:id="@+id/linear">

    <FrameLayout 
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:id="@+id/frame_settings">

    <RelativeLayout 
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:id="@+id/Relative_home"
    android:orientation="horizontal" >
    <TextView
        android:id="@+id/textview_settings"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center|left"
        android:layout_margin="5dp"
        android:text=""
        android:textSize="15dp"
        android:textStyle="bold"
        android:typeface="sans" android:layout_alignParentLeft="true"/>

     <ImageButton
        android:id="@+id/Button_title"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="left"
        android:layout_marginRight="10dp"
       android:background="@drawable/edit_button_pressed" android:layout_alignParentRight="true"/>
     </RelativeLayout>

     <LinearLayout
        android:id="@+id/linear_settings"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content">       
        <EditText
        android:id="@+id/edittext_settings"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:textSize="12dp"
        android:textStyle="bold"
        android:typeface="sans" android:layout_alignParentLeft="true"/>
        </LinearLayout>
     </FrameLayout>
     </LinearLayout> 
```

现在，由于我在此活动中有同一个按钮的多个实例，因此我无法为每个按钮分配唯一的 ID。从技术上讲，所有按钮现在都拥有相同的 ID。

有什么方法可以为每个按钮分配不同的 ID？以编程方式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T07:18:03.877

您需要在按钮父布局上使用 findViewById 才能更改特定按钮上的 id。

例如：

```
convertView = mInflater.inflate(R.layout.next, null);
Button buttonIWantToChangeID = convertView.findViewById(R.whatever.Button_title);
buttonIWantToChangeID.setId(1000+listPosition); 
```

注意 findViewById 用于 convertView...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T06:48:10.390

这是更改视图ID的方法

```
Button button = context.findViewById(R.whatever.button);
button.setId();// <-- put the new id as the param 
```

注意：确保您没有任何冲突的 ID！

# android - 为列表实现 Parcelable>

> ID：10877285
> 
> 赞同：1
> 
> 时间：2012-06-04T06:43:49.530
> 
> 标签：android

我想将 a 传递`List<Map<String, String>>`给另一个 Activity。如何为它实现 Parcelable？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-21T19:50:42.187

如果可能，请尝试`Bundle`改用`Map`. 在您的情况下，`List<Map<String, String>>`a`Bundle`可以很好地替代。

更多信息：http: [//developer.android.com/reference/android/os/Bundle.html](http://developer.android.com/reference/android/os/Bundle.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:19:31.993

您可以扩展`Map`和实施`Parcelable`它。写入包裹时，您可以将元素计数写为 first `int`，然后遍历条目并一个接一个地添加它们，例如：

```
destParcelable.writeInt(size());
for (final Entry<String, String> entry : getEntries()) {
  destParcelable.writeString(entry.getKey());
  destParcelable.writeString(entry.getValue());
} 
```

从包裹中读取时，只需读取第一个`int`（这将是您的条目数）并开始一个循环读取键和值：

```
final int size = srcParcelable.readInt();
for (int i=0; i<size; i++) {
  put(srcParcelable.readString(), srcParcelable.readString());
} 
```

而且我相信有一种方法可以将包裹列表添加到捆绑中，并且由于您的地图现在是可包裹的，因此不会有任何问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T09:22:41.247

你可以这样做： 1\. 在你想传递这个列表的地方创建一个活动的构造函数。

```
public Class CalledActivity extends Activity{

List<Map<String, String>> list;
public calledActivity(List<Map<String, String>> list){
this.list=list;
}
} 
```

2.从活动中调用此构造函数，您要从中传递列表。

请参阅此问题以供参考。[android活动类构造函数工作](https://stackoverflow.com/questions/8725530/android-activity-class-constructor-working)

# linux - 加载共享库时出错

> ID：10877292
> 
> 赞同：0
> 
> 时间：2012-06-04T06:44:14.320
> 
> 标签：linux, pcre

我正在研究arch linux。要创建一个archiso，我需要libpcre.so.0。为此，我使用 pacman -S pcre 安装了 pcre。现在，当我重新启动系统 httpd 时，即我的 Apache 服务器在启动时没有启动。所以当我输入 rc.d restart httpd 它给了我以下错误。usr/sbin/httpd.worker：加载共享库时出错：libpcre.so.0：无法打开共享对象文件。没有这样的文件或目录。

请任何人告诉我解决方案。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T21:43:52.063

转到“系统->管理->突触包管理器”

安装包“libpcrecpp0”和“libpcre++0”

它应该很容易工作！

# wpf - 如何防止任务栏出现 WPF 非全屏窗口？

> ID：10877293
> 
> 赞同：3
> 
> 时间：2012-06-04T06:44:23.527
> 
> 标签：wpf, window, command-line-interface

我有一个大型 C++ 代码库，带有全屏运行的本机 Windows GUI。它的一部分应由其顶部显示的 WPF 窗口进行交换。窗口是这样设置的：

```
<Window WindowState="Normal" 
        WindowStyle="None"
        ShowInTaskbar="False"
        AllowsTransparency="True"
/> 
```

这将窗口无缝地融合到应用程序的其余部分中。窗口的调用是从 C++/CLI 完成的，如下所示：

```
Windows::Window^ w = window();
Windows::Interop::WindowInteropHelper iHelp(w);
iHelp.Owner = System::IntPtr(_parentHwnd);
w->Show(); 
```

_parentHwnd 是本机应用程序的 HWND。如前所述，应用程序始终全屏显示。当我现在单击 WPF 窗口时，将出现 Windows 任务栏。如何**防止任务栏出现**？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:26:53.147

我使用了这个类（在网上某处发现了一个想法）来隐藏/显示任务栏：

```
public static class Taskbar
{
    [DllImport("user32.dll")]
    private static extern int FindWindow(string className, string windowText);
    [DllImport("user32.dll")]
    private static extern int ShowWindow(int hwnd, int command);

    private const int SW_HIDE = 0;
    private const int SW_SHOW = 1;

    public static int Handle
    {
        get
        {
            return FindWindow("Shell_TrayWnd", "");
        }
    }
    public static int StartHandle
    {
        get
        {
            return FindWindow("Button", "Start");
        }
    }

    public static void Show()
    {
        ShowWindow(Handle, SW_SHOW);
        ShowWindow(StartHandle, SW_SHOW);
    }

    public static void Hide()
    {
        ShowWindow(Handle, SW_HIDE);
        ShowWindow(StartHandle, SW_HIDE);
    }
} 
```

适用于 Windows XP/Vista/7。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T15:32:48.910

使用 Flot2011 回答[这个](https://stackoverflow.com/questions/2465646)问题，我能够假装我的窗口属于另一个全屏窗口。对于那些对缺失部分感到好奇的人 - 它们如下： 我们为激活和停用事件实现处理程序

```
<Window
Activated="DisplayWindow_Activated"
Deactivated="DisplayWindow_Deactivated"
/> 
```

事件处理程序如下所示

```
private void DisplayWindow_Activated(object sender, EventArgs e)
{
  var screen = System.Windows.Forms.Screen.FromRectangle(
    new System.Drawing.Rectangle(
      (int)this.Left, (int)this.Top,
      (int)this.Width, (int)this.Height));
  if( screen.Primary )
    Taskbar.Hide();
}

private void DisplayWindow_Deactivated(object sender, EventArgs e)
{
  var screen = System.Windows.Forms.Screen.FromRectangle(
    new System.Drawing.Rectangle(
      (int)this.Left, (int)this.Top,
      (int)this.Width, (int)this.Height));
  if( screen.Primary )
    Taskbar.Show();
} 
```

那么现在会发生什么？任务栏将在主应用程序中消失，因为它是全屏的。当我单击覆盖的窗口时，任务栏将被激活，但被属性事件停用。所以混搭就像一个全屏应用程序。

该`screen`部分是处理多显示器设置。如果（mashup）应用程序在主监视器上全屏显示，我们应该只隐藏任务栏。当前解决方案假定 WPF 窗口和底层全屏应用程序位于同一屏幕上。

如果您使用这些`screen`东西，请不要忘记包含对`System.Drawing`和的引用`System.Window.Forms`。usings 在这里不是一个好主意，因为命名空间与 .net 中的内容发生冲突。

# wso2 - WSO2 云适配器

> ID：10877302
> 
> 赞同：1
> 
> 时间：2012-06-04T06:45:37.973
> 
> 标签：wso2, wso2esb

我深入了解了 WSO2 ESB 的功能。我注意到 WSO2 Coud 连接器，如 Twitter、LinkedIn ..

我想知道任何支持这一点的文档，维基。我有来自 Twitter 的 Auth Keys。我想使用 WSO2 ESB 做一个简单的 twitter 集成。

请分享你的想法。

问候，大师@gnanagurus

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-27T08:57:20.963

[您可以从此处](https://docs.wso2.com/display/ESB481/ESB+Connectors)找到有关连接器的文档。可以在[此处](https://docs.wso2.com/display/ESB481/Twitter+Connector)找到 Twitter 特定文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T20:06:41.023

这是一项将随 WSO2 ESB 4.5.0 一起发布的新功能。您可以使用此新功能非常轻松地进行 3rd 方 API 集成。例如，在 ESB 中部署 Twitter 连接器库后，您可以直接提供相关的 OAuth 密钥并无缝连接到 Twitter 云。目前没有公开可用的文档。但请等待我们将在即将发布的版本中尽快发布此文档。

# iphone - 如何捕捉视频

> ID：10877304
> 
> 赞同：0
> 
> 时间：2012-06-04T06:45:48.643
> 
> 标签：iphone, ios, video, uiimagepickercontroller

我怎样才能录制视频

```
UIImagePickerController *imagePickerController = [[UIImagePickerController alloc] init];
imagePickerController.sourceType = UIImagePickerControllerSourceTypeCamera;
imagePickerController.allowsEditing = YES;
imagePickerController.mediaTypes =  [NSArray arrayWithObject:(NSString *)kUTTypeMovie];
imagePickerController.delegate = self;
[self presentModalViewController:imagePickerController animated:YES];
[imagePickerController release]; 
```

我试过这个，但我正在捕捉图像，但我没有捕捉到视频。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T07:17:36.453

```
#import <MobileCoreServices/UTCoreTypes.h>

-(void)actionStartVideoRecord:(id)sender  {
if (![UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera]){
    return;
}
UIImagePickerController* imagePicker = [[[UIImagePickerController alloc] init] autorelease];
imagePicker.sourceType = UIImagePickerControllerSourceTypeCamera;
imagePicker.videoQuality = UIImagePickerControllerQualityTypeHigh;
imagePicker.mediaTypes = [NSArray arrayWithObject:(NSString *)kUTTypeMovie];
imagePicker.delegate = self;

[self presentModalViewController:imagePicker animated:YES];
}

- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info {
NSString *mType = [info valueForKey:UIImagePickerControllerMediaType];
if([mType isEqualToString:@"public.movie"]){
[NSData dataWithContentsOfURL:[info objectForKey:@"UIImagePickerControllerMediaURL"]]
}
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T06:53:46.570

出现`imagePickerController`后，启动设备的 videoCapture。

有关更多信息，请参阅[UIImagePickerController的文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIImagePickerController_Class/UIImagePickerController/UIImagePickerController.html)

你可以创建一个子类`UIImagePickerController`。在那里你可以有一个`UIButton`. 点击它，您可以开始捕捉视频。

# ios - 如何在不耗尽电池的情况下监控 MPMoviePlayerController 播放进度？

> ID：10877305
> 
> 赞同：6
> 
> 时间：2012-06-04T06:45:52.553
> 
> 标签：ios, cocoa-touch, mpmovieplayercontroller, nstimer

我有一个使用 MPMoviePlayerController 播放音乐的媒体播放器应用程序。我需要根据播放位置更新 UI。我能说的最好的，没有办法通过回调或其他方式主动从玩家那里接收这些信息，我基本上需要自己轮询。

所以我想我会使用一个简单的计时器，每秒运行一次。代码是这样的：

在设置代码中的某处：

```
[NSTimer scheduledTimerWithTimeInterval:1 target:self selector:@selector(updatePlaybackProgressFromTimer:) userInfo:nil repeats:YES]; 
```

进而：

```
- (void) updatePlaybackProgressFromTimer:(NSTimer *)timer {

    if (([UIApplication sharedApplication].applicationState == UIApplicationStateActive) && (player.playbackState == MPMoviePlaybackStatePlaying)) {

        CGFloat progress = player.currentPlaybackTime / player.duration;
        // do something useful with this info            
    } 
```

}

计时器每秒运行一次，即使应用程序处于后台也是如此。该方法首先查看应用程序是否处于活动状态以及播放器是否正在播放，然后进行一些 UI 更新。

以这种方式每秒运行一个计时器对电池寿命有影响吗？我是否应该更加勤奋，在进入后台时尝试拆除计时器并在激活应用程序时重新激活它？我敢肯定会有一些电池寿命影响，但实际上，它有多严重？或者有没有其他推荐的方法来做这种事情？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-04T08:28:49.690

我无法想象使用 NSTimer 会显着影响电池寿命 - 除非触发它时所做的工作会影响电池寿命。计时器只是被添加到当前运行循环中：

> 定时器不是实时机制；它仅在已添加计时器的运行循环模式之一正在运行并且能够检查计时器的触发时间是否已过时触发。

[NSTimer 类参考](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/nstimer_Class/Reference/NSTimer.html)

根据文档，当您的应用程序即将退出其活动状态时，您应该暂停任何计时器：

> 为响应此更改，您的应用应在其 applicationWillResignActive: 方法中执行以下操作：
> 
> *   **停止计时器和其他周期性任务**。
> *   停止任何正在运行的元数据查询。
> *   不要启动任何新任务。
> *   暂停电影播放（通过 AirPlay 播放时除外）。
> *   如果您的应用是游戏，则进入暂停状态。
> *   降低 OpenGL ES 帧速率。
> *   暂停执行非关键代码的任何调度队列或操作队列。（您可以在不活动时继续处理网络请求和其他对时间敏感的后台任务。）
> 
> 当您的应用程序移回活动状态时，其 applicationDidBecomeActive: 方法应反转 applicationWillResignActive: 方法中采取的任何步骤。**因此，在重新激活后，您的应用应该重新启动计时器**、恢复调度队列并再次提高 OpenGL ES 帧速率。但是，游戏不应自动恢复；它们应该保持暂停，直到用户选择恢复它们。

[iOS 应用程序编程指南](http://developer.apple.com/library/ios/#DOCUMENTATION/iPhone/Conceptual/iPhoneOSProgrammingGuide/ManagingYourApplicationsFlow/ManagingYourApplicationsFlow.html)

# javascript - 如何创建动态页面？Javascript 还是 ASP.NET？

> ID：10877307
> 
> 赞同：1
> 
> 时间：2012-06-04T06:46:15.523
> 
> 标签：javascript, asp.net, .net, html

HTML5 和 Javascript 能够创建非常好的动态页面。如果我是一个优秀的 HTML5 和 Javascript 设计师，asp.net 仍然有用吗？我为什么要选择其中一个？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T06:50:44.260

ASP.net 用于服务器端。如果您想与数据库和服务器端逻辑交互（例如：会话处理、数据库操作、用户身份验证等），则需要。

HTML 5 和 Javascript 用于客户端，用于页面呈现和客户端逻辑。

两者都针对不同的区域。

# php - Apple XML 到 HTML 使用 XSL

> ID：10877309
> 
> 赞同：0
> 
> 时间：2012-06-04T06:46:42.320
> 
> 标签：php, html, xml, xslt

我必须格式化 Apple RSS 提要以显示网站中最热门的 iphone 应用程序。我下载了 XML 文件，并认为应用样式表很简单，但它变成了一项艰巨的工作......这是我试图应用的 XSL：非常简单

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:im="http://itunes.apple.com/rss">

<xsl:template match="/">

<tr>
  <th>ID</th>
  <th>Title</th>
</tr>
<xsl:for-each select="entry">
<tr>
  <td><xsl:value-of select="id"/></td>
  <td><xsl:value-of select="title"/></td>
  <td><xsl:value-of select="category"/></td>

</tr>
</xsl:for-each>

</xsl:template>

</xsl:stylesheet> 
```

我尝试格式化的 XML 提要可以从[http://itunes.apple.com/rss/generator/](http://itunes.apple.com/rss/generator/)下载（选择 iOS 应用程序并单击生成）。

请对此提供帮助.. XML 文件不会更改我对 XSL 文件所做的任何更改，它始终显示 XML 文件的全部内容..

我在 Internet 上只能找到一个关于此的主题，而且它也没有有效的解决方案。如果人们现在正在展示带有 i-tunes 应用程序的网站，这应该是一个非常熟悉的问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T09:03:23.143

我认为您遇到的问题是名称空间。您没有在 XSLT 中正确地考虑它们。查看示例提要，根元素如下：

```
<feed xmlns:im="http://itunes.apple.com/rss" xmlns="http://www.w3.org/2005/Atom" xml:lang="en"> 
```

这意味着，除非另有说明，否则所有元素都是名称空间的一部分，URI 为“http://www.w3.org/2005/Atom”。尽管您已经在 XSLT 中声明了这一点，但您并没有真正使用它，而且您的 XSLT 代码正在尝试匹配不属于任何名称空间的元素。

还有一个问题是您的 XSLT 也没有考虑**提要**元素。您需要做的是将初始模板匹配替换`<xsl:template match="/">`为以下内容

```
<xsl:template match="/atom:feed"> 
```

你**xsl:for-each**会变成这样

```
<xsl:for-each select="atom:entry"> 
```

这是完整的 XSLT：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:im="http://itunes.apple.com/rss">
   <xsl:output method="html" indent="yes"/>

   <xsl:template match="/atom:feed">
      <tr>
         <th>ID</th>
         <th>Title</th>
      </tr>

      <xsl:for-each select="atom:entry">
         <tr>
            <td>
               <xsl:value-of select="atom:id"/>
            </td>
            <td>
               <xsl:value-of select="atom:title"/>
            </td>
            <td>
               <xsl:value-of select="atom:category/@label"/>
            </td>
         </tr>
      </xsl:for-each>
   </xsl:template>
</xsl:stylesheet> 
```

这应该有望输出一些结果。

请注意，通常最好使用模板匹配，而不是**xsl:for-each**来鼓励模板的重用，以及使用更少缩进的更整洁的代码。这也可以

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:im="http://itunes.apple.com/rss">
   <xsl:output method="html" indent="yes"/>
   <xsl:template match="/atom:feed">
      <tr>
         <th>ID</th>
         <th>Title</th>
      </tr>
      <xsl:apply-templates select="atom:entry"/>
   </xsl:template>

   <xsl:template match="atom:entry">
      <tr>
         <td>
            <xsl:value-of select="atom:id"/>
         </td>
         <td>
            <xsl:value-of select="atom:title"/>
         </td>
         <td>
            <xsl:value-of select="atom:category/@label"/>
         </td>
      </tr>
   </xsl:template>
</xsl:stylesheet> 
```

# java - ArrayList 仅显示最后一个元素

> ID：10877313
> 
> 赞同：-1
> 
> 时间：2012-06-04T06:47:11.147
> 
> 标签：java, arraylist

ArrayList<> 复制最后一个值,,,

```
ArrayList<CalanderQueryOutput> results = new ArrayList<CalanderQueryOutput>();

List<?> eventsToday = (List<?>) filter.filter(calendar.getComponents(Component.VEVENT));
CalanderQueryOutput caldavOutput = new CalanderQueryOutput();

for (Iterator<?> i = eventsToday.iterator(); i.hasNext();) {
 Component component = (Component) i.next();
 {
  String Created=component.getProperty(Property.CREATED).toString().trim();
  String Summary = component.getProperty(Property.SUMMARY).toString().trim();

  caldavOutput.CREATED_DATE = Created;
  caldavOutput.Summary = Summary;

 }
 results.add(caldavOutput); 
} 
```

输出仅显示最后一个值

```
{"CREATED_DATE":"01-Jun-2012","Summary":"Today Swimming"},{"CREATED_DATE":"01-Jun-2012","Summary":"Today Swimming"},{"CREATED_DATE":"01-Jun-2012","Summary":"Today Swimming"} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T07:04:05.323

你应该把它放在循环中：

```
CalanderQueryOutput caldavOutput = new CalanderQueryOutput(); 
```

否则，您总是在修改同一个`caldavOutput`对象。

您**总是放置相同的元素并对其进行修改，**并且该元素将保留您给它的最后一个值。这就是为什么你认为只有最后一个元素是输出。

所以你应该这样做：

```
for (Iterator<?> i = eventsToday.iterator(); i.hasNext();) {
   Component component = (Component) i.next();{
   String Created=component.getProperty(Property.CREATED).toString().trim();
   String Summary = component.getProperty(Property.SUMMARY).toString().trim();

   CalanderQueryOutput caldavOutput = new CalanderQueryOutput(); // Here
   caldavOutput.CREATED_DATE = Created;
   caldavOutput.Summary = Summary;

  }
  results.add(caldavOutput); 
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T07:04:16.583

问题是您只创建了一个 CalenderQueryOutput 并对其进行修改并读取到列表中。您需要创建一个新对象。

```
for (Iterator<?> i = eventsToday.iterator(); i.hasNext();) {
    Component component = (Component) i.next();
    String Created=component.getProperty(Property.CREATED).toString().trim();
    String Summary = component.getProperty(Property.SUMMARY).toString().trim();

    CalanderQueryOutput caldavOutput = new CalanderQueryOutput();

    caldavOutput.CREATED_DATE = Created;
    caldavOutput.Summary = Summary;
    results.add(caldavOutput); 
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T07:16:54.027

把这个放在for循环里面......

```
CalanderQueryOutput caldavOutput = new CalanderQueryOutput(); 
```

# ruby-on-rails-3.1 - 没有路由错误，但在 rake 路由中有路由

> ID：10877323
> 
> 赞同：1
> 
> 时间：2012-06-04T06:47:51.280
> 
> 标签：ruby-on-rails-3.1, routes

这是我的路线文件：

```
 devise_for :users, :controllers => { :omniauth_callbacks => "users/omniauth_callbacks" }

  resources :users do
    post 'update_and_sign_in', :on => :member
  end 
```

这是 rake 路由的输出：

```
update_and_sign_in_user POST   /users/:id/update_and_sign_in(.:format) users#update_and_sign_in
                   users GET    /users(.:format)                        users#index
                         POST   /users(.:format)                        users#create
                new_user GET    /users/new(.:format)                    users#new
               edit_user GET    /users/:id/edit(.:format)               users#edit
                    user GET    /users/:id(.:format)                    users#show
                         PUT    /users/:id(.:format)                    users#update
                         DELETE /users/:id(.:format)                    users#destroy 
```

这是控制器：

```
 def update_and_sign_in
     @user = User.find(params[:id])
     if  @user.update_attributes(params[:user])
       redirect_to root_path, :notice => "You have successfully signed up"
     else
       render 'get_email' 
     end
  end 
```

这是表格：

```
=form_for(@user,:url => update_and_sign_in_user,:method => "put", :html => {:class => 'well'}) do |f| 
```

我收到此错误，但不知道为什么或如何解决它：

```
No route matches {:action=>"update_and_sign_in", :controller=>"users"} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-31T01:36:52.687

只是为了澄清：哪个控制器是：

```
 def update_and_sign_in
      @user = User.find(params[:id])
      if  @user.update_attributes(params[:user])
        redirect_to root_path, :notice => "You have successfully signed up"
      else
       render 'get_email' 
      end
    end 
```

上？UsersController 或 Users::OmniauthCallbacksController ？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-21T20:54:35.660

您的路线是 POST，但您在表单中的方法是 PUT。

# visual-studio-2010 - windows 平板电脑开发是否存在于phonegap 中？

> ID：10877324
> 
> 赞同：1
> 
> 时间：2012-06-04T06:47:52.987
> 
> 标签：visual-studio-2010, cordova, tablet

我想知道phonegap插件是否支持windows平板开发？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T15:20:43.863

不幸的是，现在 phonegap 似乎不支持在平板电脑上运行的 windows 操作系统。

英特尔开发了一个初步的开源代码来演示这些功能，但它正在“进行中”，而且似乎并不经常“工作”。

检查这篇[文章](http://www.raymondcamden.com/index.cfm/2012/7/12/Windows-7-version-of-PhoneGapCordova)以及[项目存储库](https://github.com/otcshare/cordova-win7)。

# c# - 在 SQL Server 中附加图像数据类型的二进制数据

> ID：10877325
> 
> 赞同：1
> 
> 时间：2012-06-04T06:47:57.737
> 
> 标签：c#, asp.net, sql-server-2008, sql-server-2005

是否可以将二进制数据附加到 SQL Server 中数据类型为图像的列。我听说 varbinary(max) 是可能的，但我想要图像数据类型的解决方案。如果是这样，请向我提供代码示例。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2018-05-15T18:46:01.147

首先，正如其他人所说，您应该使用 VARBINARY 类型而不是 IMAGE。

无论如何，如果你仍然想使用 IMAGE，你可以像这样使用[UPDATETEXT](https://msdn.microsoft.com/en-us/library/3517w44b(v=vs.100).aspx)命令：

```
DECLARE @Pointer VARBINARY(1);
SELECT @Pointer = TEXTPTR(Data) FROM TableName WHERE Id = @Id;

UPDATETEXT TableName.Data @Pointer @Offset @Delete WITH LOG @Bytes; 
```

考虑：

@Bytes = 您要附加的实际字节数

@Delete = 如果你想删除它可能在它的字节位置有的东西

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:06:13.703

```
//Create Binary Data Stream  
    string filePath = Server.MapPath("APP_DATA/TestDoc.docx");
    string filename = Path.GetFileName(filePath);
    FileStream fs = new FileStream(filePath, FileMode.Open, FileAccess.Read);
    BinaryReader br = new BinaryReader(fs);
    Byte[] bytes = br.ReadBytes((Int32)fs.Length);
    br.Close();
    fs.Close();

--------------------
//insert the file into database

string strQuery = "insert into tblFiles(Name, ContentType, Data) values (@Name, @ContentType, @Data)";
SqlCommand cmd = new SqlCommand(strQuery,conn);
cmd.Parameters.Add("@Name", SqlDbType.VarChar).Value = filename;
cmd.Parameters.Add("@ContentType", SqlDbType.VarChar).Value = "application/vnd.ms-word";
cmd.Parameters.Add("@Data", SqlDbType.Binary).Value = bytes;
cmd.ExecuteNonQuery(); 
```

**注意：ntext、text 和 image 数据类型将在 Microsoft SQL Server 的未来版本中删除。避免在新的开发工作中使用这些数据类型，并计划修改当前使用它们的应用程序。请改用 nvarchar(max)、varchar(max) 和 varbinary(max)。**

# javascript - 在 twitter bootstrap 中显示 DropDown 列表无法正常工作

> ID：10877328
> 
> 赞同：1
> 
> 时间：2012-06-04T06:48:09.750
> 
> 标签：javascript, jquery, twitter-bootstrap

我有一个使用 twitter bootstrap 的两个下拉列表，但是我有一个小问题.. 选择菜单时，会出现子项，但下次不要。html代码：

```
 <ul class="nav nav-pills left">

                        <li class="dropdown" id="menu1">

                            <a class="dropdown-toggle" style="color:#fff;" data-toggle="dropdown" href="#menu1"><i class="icon icon-user icon-white">
                            </i> My Account <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="OldReports.aspx">Previouse Report</a></li>
                                <li><a href="Profile.aspx">My Profile</a></li>
                                <li class="divider"></li>
                                <li>
                                    <asp:LinkButton ID="lbtnLogout" runat="server" CausesValidation="false" ForeColor="Black">Log out</asp:LinkButton></li>
                            </ul>

                        </li>
                            <li class="dropdown active" id="menu2">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#menu2"><span class="badge-notification badge badge-error">
                              <asp:Label ID="lblMsgCount" CssClass="lblMsgCount" runat="server" Text=".."></asp:Label></span> 
                            <i class="icon icon-envelope icon-white">
                            </i> Notificatons  <span class="caret"></span></a>
                            <ul ID="divNewNotifications" class="dropdown-menu">

                            </ul>
                        </li>
                        </ul> 
```

JavaScript 代码：

```
 $('.dropdown-toggle').dropdown(); 
```

并包含所需的库。

```
<script src="../bootstrap/js/bootstrap-dropdown.js" type="text/javascript"></script> 
```

这是[http://jsfiddle.net/zNVgq/2/上的代码](http://jsfiddle.net/zNVgq/2/)

# symfony - 如何在没有请求参数的情况下对 Symfony 2 路由进行上下文化

> ID：10877330
> 
> 赞同：0
> 
> 时间：2012-06-04T06:48:24.213
> 
> 标签：symfony, routing, doctrine-orm

我一直在这里寻找解决方案的高低，但我并没有真正找到我需要的东西。可能只是我没有在寻找正确的东西。

对于我的应用程序的管理后端，我目前为这样的控制器获取用户：

```
//routing.yml
view_user:
    pattern: /user/{id}/
    defaults: { _controller: AppBundle:User:view }

//UserController.php
use Sauce\AppBundle\Entity\User;

public function viewAction(User $user)
{
    $user->getSauce();
} 
```

对于用户不使用 id 在每个 URL 获取自己的前端，这是行不通的。是否可以在 URL 中没有 id 的情况下执行此操作？我对如何让用户轻松访问的第一个想法是：

```
/**
 * A fast way to grab the user throughout this class.
 */
public function getUser() {
    return $this->get('security.context')->getToken()->getUser();
}

public function viewAction()
{
    $user = $this->getUser();

    ...
} 
```

但在我看来，这似乎远低于 Symfony 2 的标准。我必须忽略一些更优雅的东西。有什么见解吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T11:22:47.127

是的，创建一个辅助方法是要走的路。您可以将其移至基本控制器以保持干燥。我的[抽象基础控制器](https://github.com/elnur/ElnurAbstractControllerBundle/blob/master/AbstractController.php)提供了这样一种方法。

我知道没有“神奇”的方法可以做到这一点。

# objective-c - 由于未捕获的异常 NSInvalidArgumentException，如何解决运行时错误或终止应用程序？

> ID：10877332
> 
> 赞同：0
> 
> 时间：2012-06-04T06:48:30.203
> 
> 标签：objective-c

我是 iPhone 开发的初学者。我使用了带有图像数组的滚动视图，但是在那个运行时错误中，例如由于未捕获的异常而终止应用程序：`NSInvalidArgumentException`，原因：`-[UIView setContentSize:]: unrecognized selector sent to instance`

我的代码：

```
- (void)viewDidLoad
{
 [self.view addSubview:imagedisplay];
    self.view.frame = CGRectMake(0, 0, 320, 480);

    [(UIScrollView*)self.view setContentSize:[imagedisplay size]];

    [(UIScrollView*)self.view setMaximumZoomScale:5.0];
}

-(UIView *)viewForZoomingInScrollView:(UIScrollView*)scrollView
{
    return imagedisplay;

} 
```

给出任何适用的建议和源代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T06:50:41.287

你的问题是：

```
[(UIScrollView*)self.view setContentSize:[imagedisplay size]]; 
```

意思是**`self.view`**不包含**self**是 a`ContentSize`而不是 a的方法。**`UIView``UIScrolLView`**

# java - 使用 JAX-RS 热重载

> ID：10877337
> 
> 赞同：4
> 
> 时间：2012-06-04T06:48:44.767
> 
> 标签：java, servlets, jax-rs, netty, grizzly

我想获得像[Play 一样的开发体验！](http://www.playframework.org/)带有 JAX-RS 的[框架](http://www.playframework.org/)（例如[Jersey ）。](http://jersey.java.net/)更具体地说，我想使用某种后台编译并立即运行编译后的代码，这样我几乎没有等待时间。

我的第一次尝试是使用 NetBeans 后台编译和 Maven 以及用于 Tomcat 和 Jetty 的插件，它们正在运行容器中重新启动应用程序。但是重启时间太长了。我想知道如果代码更改或者像[Grizzly](http://grizzly.java.net/)或[Netty](http://www.jboss.org/netty)之类的东西而不是 Servlet 容器会有所帮助，我是否需要重新启动应用程序。

任何想法如何使用 JAX-RS 快速重新加载？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T23:12:05.747

试试这个，你需要添加依赖项。它使用[jreloader](http://code.google.com/p/jreloader/)（开源）。 [蚂蚁原型](http://code.google.com/p/ant-archetype/)

**编辑：** 两年后人们仍在访问此帖子。现在有一个完整的热重载替代方案，并且该项目再次处于活动状态[http://dcevm.github.io/](http://dcevm.github.io/)

您可能还需要使用它[https://github.com/HotswapProjects/HotswapAgent](https://github.com/HotswapProjects/HotswapAgent)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T11:06:51.690

看看 gretty：[https](https://github.com/groovypp/gretty) ://github.com/groovypp/gretty 它应该适用于 jersey，并且您应该会看到快速运行时重新加载。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T20:52:07.593

JRebel 这样做：http: [//zeroturnaround.com/jrebel/](http://zeroturnaround.com/jrebel/)

# android - 从模拟器发送短信到其他手机号码后如何确认？

> ID：10877339
> 
> 赞同：1
> 
> 时间：2012-06-04T06:49:32.743
> 
> 标签：android, eclipse, sendmessage

认为，

我已经从模拟器向我的手机号码发送了一条短信，但我的手机没有收到任何消息。是否可以查看从“模拟器”在我的手机上发送的短信。如果可以，如何？

到目前为止，我已经做到了这一点，并将其敬酒为“发送短信”。请在下面找到我的来源

```
public class Send_sms extends Activity {

private static final String TAG = "Send_sms";
@Override
protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.main12);

    Button sndbtn =(Button)findViewById(R.id.but_send_ok);
    sndbtn.setOnClickListener(new View.OnClickListener() {

    public void onClick(View v) 
    {
        EditText addrTxt = (EditText)Send_sms.this.findViewById(R.id.editText_number);
        EditText msgTxt = (EditText)Send_sms.this.findViewById(R.id.editText_write_msg);
        try
        {
            sendSmsMessage(addrTxt.getText().toString(),msgTxt.getText().toString());
            Toast.makeText(Send_sms.this,"Sms sent",Toast.LENGTH_LONG).show();
        }
        catch(Exception e)
        {
            Toast.makeText(Send_sms.this,"Failed to send sms",Toast.LENGTH_LONG).show();
        }
    }});
}

@Override
protected void onDestroy() {

    super.onDestroy();
}
private void sendSmsMessage(String address,String message)throws Exception
{
    SmsManager smsMgr = SmsManager.getDefault();
    smsMgr.sendTextMessage(address,null,message,null,null);
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T06:57:42.203

No it is not possible to send sms for emulator to real device because Emulator has a virtual device and a virtual device not able to communicate with a real device but you are able to send sms from a virtual device to another virtual device.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T06:55:30.500

使用`PendingIntent`对象，无论短信发送成功还是失败，您都可以从 Android 系统接收通知。

为此，`sendTextMessage()`应设置的第 4 和第 5 个参数。在此处查看详细信息：在此处[输入链接描述](http://developer.android.com/reference/android/telephony/gsm/SmsManager.html#sendTextMessage%28java.lang.String,%20java.lang.String,%20java.lang.String,%20android.app.PendingIntent,%20android.app.PendingIntent%29)

有关工作示例，请查看： http: [//mobiforge.com/developing/story/sms-messaging-android](http://mobiforge.com/developing/story/sms-messaging-android)

# javascript - javascript计算器到小数位和图像作为按钮

> ID：10877341
> 
> 赞同：0
> 
> 时间：2012-06-04T06:49:33.570
> 
> 标签：javascript, calculator

我有一个小的 javascript 表单

```
<div id="calculator-text"><h2>Tape calculator - based on cable size 1 mm to 28 mm, with 15% overlap</h2></div>

<form name="form1" method="post" action="">

<div id="calcformlabel"><label for="val2">Enter your cable size</label> (in mm)</div>
<div id="calcformtext1"><input type="text" name="val2" id="val2"></div>

<div id="calcformbutton"><input type="button" name="calculate" id="calculate" value="Calculate"></div>

<div id="calcformresult">The tape size you require is:- <span id="result1" class="maintext1"></span> (mm)</div>

</form>
<script type="text/javascript">
var btn = document.getElementById('calculate');
btn.onclick = function() {
    // get the input values
    var val2 = parseInt(document.getElementById('val2').value);

    // get the elements to hold the results
    var result1 = document.getElementById('result1');

    // create an empty array to hold error messages
    var msg = [];
    // check each input value, and add an error message
    // to the array if it's not a number
    if (isNaN(val2)) {
        msg.push('<span class="maintext1">Enter your cable size</span>');
    }
    // if the array contains any values, display the error message(s)
    // as a comma-separated string in the first <span> element
    if (msg.length > 0) {
        result1.innerHTML = msg.join(', ');
    } else {
        // otherwise display the results in the <span> elements
        result1.innerHTML = val2 * 3.142 * 1.15;
    }
};
</script> 
```

基本上这是一个简单的计算

a) 我怎样才能让它输出到小数点后 2 位（显然向上或向下取整取决于 -.5 = 向下取整和 +.5 = 向上取整）

b）替换图像的输入类型按钮（我已经尝试了明显的代码和>输入类型=图像>，基本上这些确实有效，但不是显示实际结果，而是在一瞬间显示结果然后重新加载页面再次使用空白表格...

对此的任何帮助将不胜感激

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:01:15.657

该[`.toFixed()`方法](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number/toFixed)允许您四舍五入到*n*位小数，因此：

```
result1.innerHTML = (val2 * 3.142 * 1.15).toFixed(2); 
```

我认为您在使用图像时遇到的问题是将图像`<input type="image">`定义为*提交*按钮。也许只是包含一个带有`<img>`标签的标准图像，而不是`<input type="image">`. 如果你给它一个`id='calculate'`它应该仍然可以与你现有的 JS 一起工作。

或者您可以使用包含 img 元素的按钮元素，以便您可以指定类型（因为不是提交）：

```
<button type="button" id="calculate"><img src="yourimage"></button> 
```

（我不确定您是否需要此功能的表单，因为您似乎不想将任何内容提交回服务器。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T06:56:20.553

**对于您的部分问题**

您可以通过以下方式将 javascript 舍入到特定精度

[**链接：JavaScript中的数字舍入**](http://www.javascriptkit.com/javatutors/round.shtml)

var 原始=28.453

```
1) //round "original" to two decimals
var result=Math.round(original*100)/100  //returns 28.45 
```

```
2) // round "original" to 1 decimal
var result=Math.round(original*10)/10  //returns 28.5 
```

```
3) //round 8.111111 to 3 decimals
var result=Math.round(8.111111*1000)/1000  //returns 8.111 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T07:03:07.157

要将按钮交换为图像，请将按钮 <input> 替换为以下代码：

```
<img src="http://www.raiseakitten.com/wp-content/uploads/2012/03/kitten.jpg" name="calculate" id="calculate" value="Calculate" onclick="document.forms['form1'].submit();" /> 
```

它为您的表单添加图像和提交功能。

要四舍五入到小数点后两位，请使用此函数：

```
function twoDP(x){
     return Math.round(x*100)/100
} 
```

像这样使用它：

```
twoDP(100/3)   //returns 33.33 
```

使用 Math.PI 也可能与您相关

```
var result = val2 * Math.PI * 1.15 ; 
```

# php - PHP：会话未保存

> ID：10877345
> 
> 赞同：-1
> 
> 时间：2012-06-04T06:49:50.907
> 
> 标签：php, session

我在 PHP 中的会话变量没有保存。

在我的登录表单中，用户登录并且页面重定向到 exec.php：

```
...
$_SESSION["username"] = $_POST["username"];
echo $_SESSION["username"] ==> works fine
//header("Location: home.php");
... 
```

当我在会话设置后使用标题指令返回主页时，会话变量丢失我得到以下消息：

未定义索引：第 x 行 D:\www.xxx 中的用户名

我的 session_start() 语句是我的 php 页面上的第一个语句。也许会话的超时设置有问题？

谢谢你的帮助...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T07:04:24.017

你的`session_start()`陈述在标题中？？如果不是，那么这可能是问题所在

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:02:08.050

好的，

现在首先运行`phpinfo()`然后搜索`session`并检查`Registered save handlers`是否没有`memcache`写入检查`session.save_path`是否设置不正确，通过编辑`php.ini`文件进行设置。

如果无权访问该`php.ini`文件。只需将您的代码插入 php 文件中即可设置会话的保存路径。

**注意：**必须设置具有写入权限的目录。IE`CHMOD 777`

# javascript - facebook ui 发送 500 错误

> ID：10877359
> 
> 赞同：0
> 
> 时间：2012-06-04T06:51:12.530
> 
> 标签：javascript, facebook, facebook-ui

当我调用 facebook ui 发送对话框并共享链接到我的 fb 应用程序的 url 时（需要 fb 登录作为年龄限制），我收到 500 应用程序错误。

我已经阅读了一些关于该问题的 SO 帖子，错误是由于 fb 无法读取 url 目标。当链接到需要 fb 登录的应用程序时，有人知道解决方案吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T07:20:19.557

好吧，如果您的内容有年龄限制，那么它可能不应该显示给用户的朋友，因为他们*都*可以看到随链接发布的片段。

# speech-recognition - 解释人类语言

> ID：10877367
> 
> 赞同：0
> 
> 时间：2012-06-04T06:52:07.830
> 
> 标签：speech-recognition, interaction

我正在创建一个家庭自动化系统，并希望通过以自然的方式解释人类语音来使其“更智能”，以便控制家庭物品、阅读新闻等。

我应该如何将字符串输入（我已经有一些工作识别库）转换为可执行命令？

我需要一种与我的系统交流的方式，就像与人类同胞交流一样，如果这是不可能的，那就接近。我不指望它能够表达情感，或与它谈论我的一天，而只是命令它以正常的方式做事。

如果有人要求，我可以将源代码上传到我当前的项目中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T06:59:19.510

您所描述的本质上是一个命令外壳。您可以设置一个动作列表，然后实现一个外壳来解析动作和执行它的对象。

每个命令都有结构

```
<action> <param1> <param2> ... 
```

例如，

```
read news
read news sports 
```

# iphone - 我可以在 ios 应用程序的 NSMainBundle 中创建文件吗？这段代码是什么意思？

> ID：10877368
> 
> 赞同：0
> 
> 时间：2012-06-04T06:52:11.143
> 
> 标签：iphone, ios, xcode, unzip, zipfile

我在 NSMainBuddle (code.zip) 中有一个 zip 文件，其中 code.zip 有两个文件名.txt、group.txt，现在我想在 code.zip 文件中再添加一个文件，即我正在尝试添加 Demo.txt。

```
- (IBAction)CreatezipAction:(id)sender{
ZipFile *zipFile= [[ZipFile alloc]initWithFileName:[[NSBundle mainBundle] pathForResource:@"code" ofType:@"zip"] mode:ZipFileModeCreate];
 ZipWriteStream *stream= [zipFile writeFileInZipWithName:@"Demo.txt" compressionLevel:ZipCompressionLevelBest];   
    NSString* str= @"Sample String…………";
    NSData* data=[str dataUsingEncoding:NSUTF8StringEncoding]; 
    [stream writeData:data];
    [stream finishedWriting];
} 
```

它成功添加到 NSMainBunble 因为如果我单击对应于 lisAllFileAction: 的按钮，它将显示如下......。

```
- (IBAction)lisAllFileAction:(id)sender {
    ZipFile *unzipFile= [[ZipFile alloc]initWithFileName:[[NSBundle mainBundle] pathForResource:@"code" ofType:@"zip"] mode:ZipFileModeUnzip];
    NSArray *infos= [unzipFile listFileInZipInfos];
    for (FileInZipInfo *info in infos) {
        NSLog(@"- %@ %@ %d (%d)", info.name, info.date, info.size, info.level);        
    }
} 
```

模拟器 2 上的输出

```
012-06-04 11:55:42.143 zipDemo[1757:207] - code-Zip/names.txt 2012-5-30 17:19:00 +0000 983 (-1)
2012-06-04 11:55:42.143 zipDemo[1757:207] - code-Zip/names.txt 2012-06-01 20:07:50 +0000 2563 (-1)
2012-06-04 11:55:42.144 zipDemo[1757:207] - Demo.txt 2012-06-04 06:25:40 +0000 12 (9) 
```

1.  现在我想知道可以手动打开这个Demo.txt吗？
2.  b/w code-Zip/names.txt 2012-06-01 20:07:50 和 Demo.txt 2012-06-04 06:25:40 +0000 12 (9) 有什么区别？
3.  可以像这样在 NSMainBundle 中创建文件，应用程序有问题吗？
4.  实际上在哪里创建了 Demo.txt 文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:25:52.833

`mainBundle`是**只读**的。你不能在 mainBundle 中写任何东西，你可以加载。您应该在`Documents`or`Caches`目录中创建文件。因此，应用程序第一次启动时，您可以将 zip 文件从 mainBundle 复制到 Documents 目录，然后使用它代替 mainBundle 中的 zip 文件。

# php - 如何在 Doctrine 的 Mongodb ODM 中使用正则表达式？

> ID：10877369
> 
> 赞同：12
> 
> 时间：2012-06-04T06:52:19.123
> 
> 标签：php, mongodb, doctrine, doctrine-odm

我正在尝试使用正则表达式在 Symfony 2 上使用 Doctrine 的 Mongodb ODM 查询 Mongodb。

我知道[PHP mongo 驱动程序可以做到](http://www.php.net/manual/en/class.mongoregex.php)。但是，我不知道如何用 Doctrine 做到这一点。

我使用相同的课程吗？如何从 Symfony 中引用 MongoRegex？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-06-04T15:17:16.633

这是不久前在[教义用户](https://groups.google.com/d/msg/doctrine-user/2q204wMMGWw/CPUEM8TdDxMJ)邮件列表中出现的。您可以`\MongoRegex`直接在 ODM 查询中使用该类：

```
$documentRepository->findBy(array(
    'foo' => new \MongoRegex('/^bar/'),
)); 
```

或者，如果使用查询生成器：

```
$queryBuilder->field('foo')->equals(new \MongoRegex('/^bar/')); 
```

请记住，前锚定、区分大小写的正则表达式模式将能够最有效地使用索引。[这在Mongo 文档](http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-RegularExpressions)中有更详细的讨论。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-26T11:09:43.777

您可以按照关于堆栈溢出的问题详细 [了解如何在 createQueryBuilder 和 MongoRegix 中使用保留字符](https://stackoverflow.com/questions/19007147/how-to-use-reserved-characters-in-createquerybuilder-and-mongoregix/19026467#19026467)，

此外，同时 /^a/, /^a. */ 和 /^a。*$/ 匹配等效字符串，它们具有不同的性能特征。如果存在适当的索引，则所有这些表达式都使用索引；但是，/^a. */ 和 /^a。*$/ 更慢。/^a/ 匹配前缀后可以停止扫描。 [Mongo Docs Regix](http://docs.mongodb.org/manual/reference/operator/regex/)

# jquery - 如何渲染 .js.erb 模板并返回 JSON 数据

> ID：10877372
> 
> 赞同：0
> 
> 时间：2012-06-04T06:52:27.693
> 
> 标签：jquery, ruby-on-rails, routing, rendering

我有一些调用 URL mysite.com/articles.js 的 javascript，它向文章控制器的索引操作发送请求。我需要以 JSON 格式将数据返回给 javascript 函数，但在此之前，我想通过渲染 index.js.erb 来更新页面上的一些部分

我通过 jquery 调用 URL

```
var url = '/articles.js

$.get(url, function(newItemData) {
  someOtherFunction(newItemData)
} 
```

调用带有 .js 结尾的 URL 与发送 AJAX 请求（远程 => 真）不同吗？我还有一些其他按钮和链接通过 remote => true 发送 ajax 请求，并且 .js.erb 模板随该请求自动呈现。有没有办法将 URL 作为 ajax 请求调用？

任何帮助将非常感激。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:14:13.813

如果我错了，请纠正我，但看起来您正在尝试从控制器呈现两个视图：`index.js.erb`文件和 JSON 响应。这是不可能的，因为 Rails 只支持一个`render`,`redirect_to`或`head`调用。

这意味着您需要更改 JavaScript 代码以发送两个请求：一个用于更新视图 (render `index.js.erb`)，另一个用于返回您的 JSON 对象。

向`.js`结束 URL提交**请求**与提交 AJAX 请求不同。为此，您需要设置`remote: true`，如您所提到的，或在您的 JavaScript 代码中构建 AJAX 请求（`$.ajax()`如果您使用的是 jQuery）。

您还可以考虑查看[Rails 中的布局和渲染](http://guides.rubyonrails.org/layouts_and_rendering.html)。

希望有帮助！

# iphone - 如何通过xml解析器解析这个xml文件中的属性

> ID：10877374
> 
> 赞同：0
> 
> 时间：2012-06-04T06:52:37.220
> 
> 标签：iphone, xml-parsing

XML 文件代码：

```
 <Books>
  <Book id="1" isbn="123456">
  <name>Let Us C</name>
  <authors>
  <author>Yashwant Kanetkar</author>
  <author>ABC</author>
  </authors>
  <price>250.00</price>
  </Book>
  <Book id="2" isbn="345678">
  <name>Programing With C++</name>
  <authors>
  <author>Balaguruswamy</author>
  <author>XYZ</author>
  </authors>
  <price>400.00</price>
  </Book>
  <Book id="3" isbn="789012">
  <name>Professional iPhone and iPad Application Development</name>
  <authors>
  <author>Gene Backlin</author>
  <author>QWE</author>
  </authors>
  <price>550.00</price>
  </Book>
  <Book id="4" isbn="901234">
  <name>Beginning iOS 4 Application Development</name>
  <authors>
  <author>Wei-Meng Lee</author>
  <author>IOP</author>
  </authors>
  <price>500.00</price>
  </Book>
  </Books> 
```

谁能帮我解决这个问题？

我正在使用这段代码：

```
- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qualifiedName attributes:(NSDictionary *)attributeDict {
    if([elementName isEqualToString:@"Books"]) 
    {
        appDelegate.books = [[NSMutableArray alloc] init];
    }
    else if([elementName isEqualToString:@"Book"]) 
    {
        aBook = [[Book alloc] init];
        aBook.bookID = [[attributeDict objectForKey:@"id"] integerValue];
        aBook.isbn = [[attributeDict objectForKey:@"isbn"] integerValue];
        NSLog(@"Reading isbn value : %@", aBook.isbn);
        NSLog(@"Reading id value :%i", aBook.bookID);
    }
    NSLog(@"Processing Element: %@", elementName);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T07:28:51.527

首先取一个布尔变量。然后编写以下代码。也许它会对你有所帮助，我几天前已经完成了相关工作。

第一个 .h 文件

```
@interface EventsViewController : UIViewController <NSXMLParserDelegate>
{
    NSMutableArray *_idArray;
    NSMutableArray *_isbnArray;
    BOOL isBook;
} 
```

然后在 .m 文件中你应该写这个。

//在ViewDidLoad中

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    _idArray = [[NSMutableArray alloc] init];
    _isbnArray = [[NSMutableArray alloc] init];

    NSString *xmlString = [[NSBundle mainBundle] pathForResource:@"today_in_history_short" ofType:@"xml"];
    NSURL * fileURL = [NSURL fileURLWithPath:xmlString];
    NSXMLParser * parser = [[NSXMLParser alloc] initWithContentsOfURL:fileURL];
    [parser setDelegate:self];
    [parser parse];
} 
```

// 现在在 xml 解析器委托方法中

# 杂注标记 - NSXMLParser 委托方法

```
- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict{

    if ([elementName isEqualToString:@"Books"]) {
        isBook = YES;
    }
    else if ([elementName isEqualToString:@"Book"] && isBook){
        NSString *idString = [attributeDict objectForKey:@"id"];
        NSString *isbnString = [attributeDict objectForKey:@"isbn"];
        [_idArray addObject:idString];
        [_isbnArray addObject:isbnString];
        NSLog(@"Book id is: %@ and Book isbn is: %@",idString,isbnString);
    }
}

- (void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string{
}

- (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName{

    if ([elementName isEqualToString:@"Books"]) {
        isBook=NO;
        NSLog(@"Id Array count is :%d",[_idArray count]);
    }
} 
```

注意：我已经检查过了，它正在工作，你可以在你的代码中使用它，如果它仍然不能工作，那么你的项目中会有其他问题，你可以通过制作单独的项目来验证它。

# opencl - 使用 OpenCL 的卡尔曼滤波器

> ID：10877375
> 
> 赞同：3
> 
> 时间：2012-06-04T06:52:38.913
> 
> 标签：opencl, kalman-filter

我是一名新的 OpenCL 程序员，刚刚进入 GPGPU 计算领域，我正在使用 Nvidia Quadro 600。我正在基于 GPU 编程进行研究工作，我的目标是使用 SIMT 为 OpenCL 编写一个简单的卡尔曼滤波器内核方法。我发现[这个](http://www.gsi.de/informationen/wti/library/scientificreport2008/PAPERS/FAIR-EXPERIMENTS-38.pdf)文档描述了如何使用 CUDA 完成的原理，我认为这与 OpenCL 的方法类似。

卡尔曼滤波器对线性系统所做的基本操作是三个方程，每个方程都涉及矩阵操作，计算卡尔曼增益矩阵 (K)、状态估计 (x~)，并更新误差协方差矩阵 (P)下一个状态估计。这三个步骤针对从实际系统中进行的每个测量进行迭代。考虑到 SIMT 方法，我想在线程块内的每个 gpu 线程上执行一次卡尔曼滤波器迭代，我向每个线程发送计算迭代所需的值（来自真实系统测量的输入和输出，线性系统矩阵） .

有一些更好的设计我可以考虑用 OpenCL 来完成这个算法？以并行方式在单独的内核上进行矩阵运算是可能的（并且有用的）？

另一个问题：假设我们有 k 次迭代，对于每次迭代 k，我们计算步 k+1 的 P，将迭代 k-1 中步 k 的 P 作为输入...由于每个胎面计算一次迭代，因此可以同步线程 k 以等待来自线程 k-1 的 P 矩阵？

**更新**：经过多次搜索和尝试，我认为不可能使我的实现（如上所述）针对这个问题适应 OpenCL 的操作原则。我发现这样做的唯一方法是**并行化每个单个矩阵运算**，可能使用更多 GPU 同时计算每个矩阵运算。这种实现的真正效率可以通过大线性系统进行过滤来实现（这意味着：它适用于大矩阵）。

# android - traceview 命令运行问题

> ID：10877376
> 
> 赞同：0
> 
> 时间：2012-06-04T06:53:00.683
> 
> 标签：android, debugging

我正在尝试使用 traceview 对 Android 应用程序运行一些分析。我已经用以下几行包装了要跟踪的代码：

```
Debug.startMethodTracing("xxx"); 
// code 
Debug.stopMethodTracing(); 
```

它成功生成了一个跟踪文件，我使用以下命令行从 sdcard 中提取了该文件：

```
$./traceview ~/code/packages/performance_trance.trace 
Exception in thread "main" java.lang.NoSuchMethodError: java.util.Arrays.copyOf([II)[I
    at com.android.traceview.ProfileProvider.getColumnWidths(ProfileProvider.java:143)
    at com.android.traceview.ProfileView.<init>(ProfileView.java:85)
    at com.android.traceview.MainWindow.createContents(MainWindow.java:109)
    at org.eclipse.jface.window.Window.create(Window.java:431)
    at org.eclipse.jface.window.Window.open(Window.java:790)
    at com.android.traceview.MainWindow.run(MainWindow.java:65)
    at com.android.traceview.MainWindow.main(MainWindow.java:269) 
```

我无法理解此错误消息，也没有在 Google 上找到任何有用的信息。

任何帮助将非常感激。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T12:44:45.543

尝试用你的 Eclipse 打开文件（使用 adt 插件）

# c++ - 在arm-linux中打印堆栈跟踪

> ID：10877377
> 
> 赞同：3
> 
> 时间：2012-06-04T06:53:13.060
> 
> 标签：c++, c, arm, embedded-linux

我按照这篇文章打印堆栈跟踪[如何在我的 gcc C++ 应用程序崩溃时生成](https://stackoverflow.com/questions/77005/how-to-generate-a-stacktrace-when-my-gcc-c-app-crashes)堆栈跟踪。它在 x86 linux 中运行良好。谁能教我如何让它在 arm-linux 上工作？

我正在使用 arm-linux-gcc 4.4.3。

```
[root@FriendlyARM /]# ./test1
Error: signal 11:
[0x0] 
```

在 x86 中

```
mickey@mickeyvm:~/Desktop/workspace/test/testCatchSeg/src$ ./test1
Error: signal 11:
./test1(_Z7handleri+0x19)[0x804876d]
[0xedd400]
./test1(_Z3bazv+0x10)[0x80487c2]
./test1(_Z3barv+0xb)[0x80487e1]
./test1(_Z3foov+0xb)[0x80487ee]
./test1(main+0x22)[0x8048812]
/lib/i386-linux-gnu/libc.so.6(__libc_start_main+0xe7)[0x84de37]
./test1[0x80486c1] 
```

这就是我为 arm-linux 编译的方式

```
 arm-linux-g++ -g -rdynamic ./testCatchSeg.cpp -o testCatchSeg 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-04T12:13:16.983

ARM 在跳转到子程序时不会将返回地址存储在堆栈中，而是希望任何调用子程序的函数在调用其他函数之前将*链接寄存器*保存到自己的堆栈帧中，因此不可能在没有调试信息的情况下跟踪堆栈帧。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-10T20:18:18.617

我刚刚让 backtrace() 与 GCC for ARM 一起工作。对我来说，关键是使用 -funwind-tables 进行编译。否则堆栈深度始终为 1（即为空）。

# jquery - 全日历可拖动事件在剩余 DIV 上缓和

> ID：10877379
> 
> 赞同：0
> 
> 时间：2012-06-04T06:53:16.730
> 
> 标签：jquery, events, draggable, external, slideup

[http://arshaw.com/js/fullcalendar-1.5.3/demos/external-dragging.html](http://arshaw.com/js/fullcalendar-1.5.3/demos/external-dragging.html)

在上面的 fullcalendar 演示中，来自单独 DIV（侧边栏）的外部事件可拖放到日历中，当勾选“拖放后删除”框时，将拖动的事件从列表中删除后将其拖放到日历中。我想在删除事件时向可拖动事件侧边栏中留下的其他 DIV 添加缓动或类似效果，以便查看者知道某些内容已从列表中删除。是否有一种 jquery 方法可以将剩余项目 (DIV) 向上滑动到已删除的项目下方，这样如果我将事件 3 拖到日历中，事件 4 和 5 将向上移动，事件 4 代替事件 3，并且事件 5 代替事件 4？我该怎么做？请向菜鸟解释。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T07:00:47.103

演示使用此代码删除丢弃的事件

```
 // is the "remove after drop" checkbox checked?
if ($('#drop-remove').is(':checked')) {
    // if so, remove the element from the "Draggable Events" list
    $(this).remove();
} 
```

更改`$(this).remove()`为：

```
$(this).slideUp(function(){
     $(this).remove();
 }); 
```

slideUp() 方法将动画列表中事件的折叠

jQuery API 参考：[http ://api.jquery.com/slideUp/](http://api.jquery.com/slideUp/)

# c# - 如何在winforms应用程序下运行Windows服务？

> ID：10877382
> 
> 赞同：1
> 
> 时间：2012-06-04T06:53:34.560
> 
> 标签：c#, .net, winforms

我创建了一个 Winforms C# 应用程序来生成线程并在我们的生产服务器上运行作业。我在一个 winforms 应用程序中创建了这些作业，因为我需要一个 GUI 来配置和运行这些服务。

我们最近更改了服务器，并且在一定量的空闲时间后我已注销并且应用程序已关闭，因此即使我已注销，我也需要使 Windows 服务保持运行。问题是我需要 GUI。

使用 GUI 界面创建 Windows 服务（因为我需要它们在我注销时运行）的最佳方式是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T15:19:59.707

如果您想要一种简单的方式在您的进程之间进行对话，您还可以使用[NamedPipeServerStream](http://msdn.microsoft.com/fr-fr/library/system.io.pipes.namedpipeserverstream%28v=vs.90%29)和[NamedPipeClientStream](http://msdn.microsoft.com/fr-fr/library/system.io.pipes.namedpipeclientstream%28v=vs.90%29.aspx)。这项技术很古老，不是很聪明，但易于使用（如果您了解 C# 中的流管理）并且速度很快。

唯一的缺点是他们不会开箱即用地谈论 Object。但为此我使用 XML 序列化。

*   在发送方：Object => XML String => byte[]
*   在接收方：byte[] => XML String => Object

为了简单起见，我总是使用我在接收端解析的 String[] 对象，就像我在应用程序的 void main(String[] args) 中所做的那样

对于服务，您还可以使用[CustomCommands](http://msdn.microsoft.com/en-us/library/dttf2yba%28v=vs.80%29.aspx)，但这只是要求服务生成一个方法而不给它参数。除非您将参数存储在您的服务可以访问它们的某个位置（即：XML 文件）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T15:13:33.277

在用户会话中生成 Windows 服务（=[交互式 Windows 服务](http://msdn.microsoft.com/en-us/library/windows/desktop/ms683502%28v=vs.85%29.aspx)）不是一个好主意，并被视为一种利用。我在我的项目中通过将应用程序拆分为 GUI 和服务部分解决了这个问题，就像 kenny 说的那样。它们通过 WCF 进行通信。另一种可能性是[内存映射文件](http://msdn.microsoft.com/en-us/library/dd997372.aspx)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T08:39:31.413

如果您创建真正的[Windows 服务](http://msdn.microsoft.com/en-us/library/d56de412%28v=vs.90%29.aspx)

[您可以使用ServiceController 类](http://msdn.microsoft.com/en-us/library/ssbk2tf3.aspx)启动、停止和获取有关服务的信息

**编辑**

如果您需要来自服务的数据，您可以使用 WCF 或 Socket 与服务进行通信。另一种选择是将服务的结果发布到已知文件夹中的文件中。

# c++ - OpenGL 着色器编译错误：意外 $undefined at token " "

> ID：10877386
> 
> 赞同：12
> 
> 时间：2012-06-04T06:53:58.477
> 
> 标签：c++, opengl, error-handling, compilation, glsl

我看到了[这个](https://stackoverflow.com/questions/6400985/opengl-shader-compilation-issue-unexpected-eof)问题，它确实揭示了一些启示。尽管如此，我似乎无法弄清楚我是如何“不正确地”加载我的着色器的，因为它之前*已经*执行过，而最近没有对着色器加载代码进行任何更改，所以我认为这些错误一定来自我的绘图调用。

尽管如此，为了简洁起见，我仍然会发布着色器文件，用于绘制我要渲染的圆的绘制函数，以及作为字符串加载到着色器文件中的代码。

基本上我需要知道的是为什么我会收到这些错误以及它们到底有什么问题？

（*来自调试输出*）

```
ERROR { 
    OpenGL Says: 
     Vertex info
-----------
0(1) : error C0000: syntax error, unexpected $undefined at token "<undefined>"

Fragment info
-------------
0(1) : error C0000: syntax error, unexpected $undefined at token "<undefined>"

 }; 
```

**绘制代码**

```
 void Circle::draw( GLuint program )
    {
        const size_t centerMag = mCenter.length();

        glUseProgram( program );

        for( float t = 0; t < mCircumference; t += 0.1 )
        {
            float x = centerMag + glm::cos( 2 * M_PI * t );
            float y = centerMag + glm::sin( 2 * M_PI * t );

            mVertices->push_back( glm::vec4( x, y, 0, 1 ) );
        }

        QListIterator< glm::vec4 > iVertices( *mVertices );

        const size_t size = mVertices->size();

        float** verts = new float*[ size ];

        size_t i = 0;

        glEnableClientState( GL_VERTEX_ARRAY );

        while( iVertices.hasNext() )
        {
            verts[ i ] = new float[ size ];
            verts[ i ] = const_cast< float* >( glm::value_ptr( iVertices.next() ) );

            glVertexPointer( 4, GL_FLOAT, 0, verts[ i ] );

            glDrawArrays( GL_LINES, 0, 4 );

            ++i;
        }

        glDisableClientState( GL_VERTEX_ARRAY );

        for( unsigned iMem = 0; iMem < size; ++iMem )
        {
            delete[] verts[ iMem ];
            verts[ iMem ] = NULL;
        }

        delete[] verts;
        verts = NULL;
    } 
```

**文件实用程序**

```
 QString FileUtility::readShader( QString filepath )
    {
        std::ifstream in( filepath.toStdString().c_str() );
        std::stringstream shaderDat;

        shaderDat << in.rdbuf();

        QString shaderFile;

        shaderFile += shaderDat.str().c_str();

        in.close();

        return shaderFile;
    } 
```

**通用颜色.frag**

```
#version 330

out vec4 outputColor;

void main()
{
    outputColor = vec4(1.0f, 0, 0, 1.0f);
} 
```

**位置.vert**

```
#version 330

layout(location = 0) in vec4 position;

void main()
{
    gl_Position = position;
} 
```

**更新**

由于请求了我的着色器绑定/编译代码，我想我不妨只发布我的整个着色器处理程序以及引擎类。

-[引擎](http://pastebin.com/h2HMTxFx) - [ShaderHandler](http://pastebin.com/cVjJS03s)。

**更新**

以下是解析的着色器字符串（`Info`是调试输出）：

```
Info { 
    Shader Source #version 330

in uniform mvp;

layout(location = 0) in vec4 position;

void main()
{
    gl_ModelViewProjectionMatrix = mvp;
    gl_Position = position;
}

 };

Info { 
    Shader Source #version 330

out vec4 outputColor;

void main()
{
    outputColor = vec4(1.0f, 0, 0, 1.0f);
}

 }; 
```

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-06-04T22:50:21.553

该错误消息意味着着色器编译器在着色器的第一行看到一个垃圾字符（不是可打印的 ASCII 字符、空格、制表符或换行符）。这很可能意味着您传递给的字符串`glShaderSource`是垃圾 - 可能是一个悬空指针，它曾经指向您的着色器代码，但由于某些东西被破坏而不再这样做。

**编辑**

我从您的链接中看到您的代码如下所示：

```
s.Source = shader.toStdString().c_str(); 
```

这将`s.Source`指向一个临时`std::string`对象的内部缓冲区，该对象将在此行之后不久被销毁，留下`s.Source`一个悬空指针......

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T07:30:20.060

我的猜测：我在您的代码中看到了 glLoadMatrix() 调用，这基本上意味着您使用的是过时的（3.1 之前的）GL API，并且没有正确初始化 GL3.1 Core Profile 上下文。

这会导致您的上下文不支持 GLSL1.50+ 和“位置”属性（因此来自着色器编译器的错误）。

尝试更改 GL 的初始化，然后检查[glBindAttribLocation](http://www.opengl.org/sdk/docs/man/xhtml/glBindAttribLocation.xml)调用。避免使用 glLoadMatrix 的东西——改用着色器制服。

查看 opengl.org 的网站：[http](http://www.opengl.org/wiki/Tutorial:_OpenGL_3.1_The_First_Triangle_(C%2B%2B/Win) ://www.opengl.org/wiki/Tutorial:_OpenGL_3.1_The_First_Triangle_(C%2B%2B/Win ) 以获得 GL 3.1 上下文创建示例。它与GL2.0有点不同-

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T07:48:25.027

这可能与您当前的问题无关，但很快就会解决：

```
verts[ i ] = new float[ size ];
verts[ i ] = const_cast< float* >( glm::value_ptr( iVertices.next() ) ); 
```

第一行中分配的内存被泄露，此外，当您`delete`在之后调用几行时，您将删除由`new`但被强制转换的值给出的值。你是这个意思吗 ？

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-12-10T18:27:18.520

我收到此错误是因为我从网站上剪切并粘贴了一些着色器代码。我认为 LF/CR 的差异导致了问题。使用手动输入的相同代码删除粘贴的文本。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-12-12T20:47:56.783

我在标准 C 中遇到了这个错误，因为忘记将`NUL`( ) 终止符放在我正在读取字符`\0`的 'd 内存的末尾。`malloc`

~~我怀疑 GL 寻找空终止字符以便在`glLinkProgram()`（glew）期间链接着色器。~~

如果您不将`const GLint *length`参数传递给`glLinkProgram()` [它，则假定为 NUL 终止。](https://docs.gl/gl3/glShaderSource)因此错误。感谢[derhass](https://stackoverflow.com/users/2327517/derhass)指出这一点。

# javascript - 旧的 Jquery 过滤器在最新版本 1.7.2 中不起作用

> ID：10877387
> 
> 赞同：0
> 
> 时间：2012-06-04T06:54:17.197
> 
> 标签：javascript, jquery, html, tabnavigator

我的应用程序中有标签导航的工作副本，我尝试将 jquery 更新为 latest(1.7.2) ，为此我从 jquery website 下载了 jquery-1.7.2.min.js 。更新后，以下行无法按预期工作`tabContainers.hide().filter(':member').show();`

这是完整的 jquery 方法。

```
 $(function () {
                var tabContainers = $('div.tabs > div');
                tabContainers.hide().filter(':member').show();

                $(window).bind('hashchange', function () {
                    var hash = window.location.hash || '#member';        
                    tabContainers.hide();
                    tabContainers.filter(hash).show();
                    $('div.tabs ul.tabNavigation a').removeClass('selected');
                    $('a[hash=' + hash + ']').addClass('selected');
                   document.getElementById("submitform").action="newaction.action"+hash;
                });

                $(window).trigger( "hashchange" );
            }); 
```

这是html部分

```
 <ul class="tabNavigation">
                    <li><a href="#member">Tab1 </a></li>
                    <li><a href="#tab2">tab2</a></li>
                    <li><a href="#tab3">tab3</a></li>
               </ul>
               <div id="member">content goes here</div>
               <div id="tab2 . . . 
```

**更新：**将 :member 更改为 #member 或 :first 加载第一个 div 的内容，但仍然没有选择第一个 li。（成员选项卡）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:09:51.330

检查这个[小提琴](http://jsfiddle.net/8eNmX/)。 只有 1.3.2 和旧版本才`filter('#id')`有效，但不能`filter(':id')`。我不确定它对你有用。

更新`tabContainers.hide().filter(':member').show();`到`tabContainers.hide().filter('#member').show()`;

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T14:04:52.330

首先：使用有效的 hashchange 处理程序，该行将在触发`tabContainers.hide().filter(':member').show();`时无效。`$(window).trigger("hashchange");`因此，任何修复的尝试`tabContainers.hide().filter(':member').show();`都是徒劳的，并且可以删除该声明。

第二：有一个跨浏览器的问题`location.hash`，即一些浏览器返回一个带有前导'#'的字符串，而另一些则没有。这需要对返回的字符串进行规范化。

考虑到这些因素，您可能想尝试：

```
$(function() {
    var tabContainers = $('div.tabs > div'),
        submitform = $("#submitform");

    $(window).on('hashchange', function () {
        var hash = (location.hash=='' || location.hash=='#') ? '#member' : location.hash;
        var hashNormalized = (hash.match(/^#/)) ? hash : '#'+hash;
        tabContainers.hide().filter(hashNormalized).show();
        $('div.tabs ul.tabNavigation a').removeClass('selected').filter(function() {
            return this.hash == hashNormalized;
        }).addClass('selected');
        submitform.attr('action', 'newaction.action' + hashNormalized);
    }).trigger('hashchange');
}); 
```

在 Opera 11.64 和 IE9 中测试。*一定要在FF中测试*

见[演示](http://jsfiddle.net/kuw8X/2/)

过滤锚点的`.filter(function(){...})`方法应该使您免受 jQuery 版本之间的差异的影响。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T08:43:17.887

你必须使用这个

```
 tabContainers.hide().filter('#member').show(); 
```

或者

```
tabContainers.hide().filter(':first').show(); 
```

用 id 显示第一个 div `member`。

并突出相应的`a`

改变这个

```
$('a[hash=' + hash + ']').addClass('selected'); 
```

到

```
$('a[href=' + hash + ']').addClass('selected'); 
```

由于`hash`不是属性名称，它是`href`.

# iphone - 我们可以在 iPhone App 中使用语音命令进行交互吗

> ID：10877388
> 
> 赞同：0
> 
> 时间：2012-06-04T06:54:21.437
> 
> 标签：iphone, voice-recognition

是否有任何 api 或方法可用于在 iPhone 应用程序中集成语音命令以进行下一步和上一个等简单操作？我怀疑它是否可用，但我需要对此进行澄清。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T14:02:24.580

iOS 库没有提供这样的东西。不适用于常规语音命令，也不适用于 Siri。这可能会随着即将发布的版本而改变，但目前还没有任何宣布。

即使在[CocoaPods](http://cocoapods.org/?q=voice)上也没有这样的库可用，所以我认为您可能需要购买一些东西或从头开始

# c# - 具有足够数据源的网格视图自定义分页

> ID：10877389
> 
> 赞同：1
> 
> 时间：2012-06-04T06:54:22.470
> 
> 标签：c#, asp.net, linq

在我的 asp.net 4.0 Web 应用程序中，我需要在每个页面中填充一个包含 10 条记录的网格，只有对应的 10 条记录作为数据源。但是我有很多带有数据的页面。还需要 linq 查询来检索数据（实体框架是使用）请帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T06:56:36.107

这是做同样事情的文章的链接，希望这会有所帮助

[**LINQ TO SQL GridView（增强的 Gridview）**](http://pranayamr.blogspot.com/2010/08/linq-to-sql-gridview-enhanced-gridview.html)

网格视图控件具有以下特点：

*   Linq 2 SQL 支持
*   使用 Linq 2 SQL 自定义分页
*   显示排序方向
*   分页器中的下拉菜单以调整页面中的记录数

# php - 提交表单后，即使从 a/c 注销，php 脚本如何在后台运行

> ID：10877391
> 
> 赞同：4
> 
> 时间：2012-06-04T06:54:34.473
> 
> 标签：php, background-process

我正在做一个群发邮件项目。一切都很好，但问题是我有一个表格。提交后，我正在从数据库中检索大量电子邮件 ID（大约 3000 封电子邮件）。我为每封电子邮件提供了 3 秒的间隔（使用 sleep() 方法）。大约需要 9000 秒。在 php 脚本执行完成之前，用户不希望被困在同一个页面中。

即使在寡妇平台退出后，如何在后台运行 php 脚本？如果用户再次登录，应该可以看到一个进度条。不使用 Cron 作业有什么可能吗？

我需要一个解决方案。谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-30T10:16:15.563

要在后台运行进程，我们可以使用 'wge't 命令，它有很多选项可以与 like(-r, -o, -p) 一起使用

对于您的问题，您希望在后台运行特定的模块/url，这样一旦您启动它，它就应该继续在后台工作，以便您可以使用以下命令：

wget -o 日志文件 linux.about.com &

有关 wget 的更多详细信息，您可以参考以下链接：

[http://linux.about.com/od/commands/a/Example-Uses-Of-The-Command-Wget.htm](http://linux.about.com/od/commands/a/Example-Uses-Of-The-Command-Wget.htm)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:08:02.893

您应该维护一个队列，它将保存您的请求，然后该队列应该由在后台运行的 Cron 作业使用。该请求应该有一个标志，可以告诉用户 cron 是否已完成或完成了多少百分比。

不应从 Web 运行电子邮件程序。让它成为一项 cron 工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T18:24:13.210

通过“CRON JOB”可以实现。如果您使用的是 cPanel，您可以轻松找到它。对于其他主机控制面板，它被称为“定时计划”。您可以谷歌“如何设置 cron 作业”。

# jquery-ui - 如何将回调附加到 Bootstrap Typeahead 插件

> ID：10877394
> 
> 赞同：0
> 
> 时间：2012-06-04T06:55:23.587
> 
> 标签：jquery-ui, jquery-plugins, jquery-selectors, twitter-bootstrap, typeahead

使用自定义引导插件实现预输入功能 [https://gist.github.com/1891669](https://gist.github.com/1891669)

如何为“选择”事件附加回调？以下代码不起作用。

```
var selectedFn = $('.typeahead dropdown-menu').on('select', function( ev ){
    console.log(ev);
}); 
```

有人可以解释这是如何工作的吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-05-25T21:43:37.567

一种新的方法是：

```
$('.input').typeahead({ 
    // snip
}).on('typeahead:selected', function() {
    // on selected
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-08-12T05:30:44.157

```
$('#myselector').typeahead({
itemSelected:function(data,value,text){
   console.log(data)
    alert('value is'+value);
    alert('text is'+text);
},
//your other stuffs
}); 
```

您只需在回调函数中传递 itemSelected，它就会为您提供选定的项目。

希望这对你有用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T12:02:53.013

您可以像这样收听您的输入更改事件：

`$('input.typeahead').on('change', function () { ... })`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-05-10T08:53:09.000

在处理事件的函数中指定参数，以便按照[https://github.com/twitter/typeahead.js/blob/master/doc/jquery_typeahead.md#custom-events文档中的建议选择值](https://github.com/twitter/typeahead.js/blob/master/doc/jquery_typeahead.md#custom-events)

```
.on('typeahead:select', function(ev,value) {
        //value = the selected object
        //e.g.: {State: "South Dakota", Capital: "Pierre"}
    }) 
```

它使用 typeahead:select 而不是 typeahead:selected 给出完全相同的结果。我宁愿选择记录在案的那个。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-12-27T21:31:19.347

```
$('.typeaheadGroupSelect').typeahead({ 
    // snip
}).on('typeahead:selected', function(data, value, text) {
    // on selected
    console.log(data);
    console.log(value.idPublic); // here you can access all json object by using value.key
    console.log(value.name);
}); 
```

我使用上面的代码片段来访问选择中的数据并将某些隐藏值分配给另一个输入。

之前我向数据源中添加了一个对象，用于查询数据，见下文：

```
var jsonData = [
        {"id":"1","idPublic":"978343HFJ","name":"Volkswagen Group Sales International"},
        {"id":"2","idPublic":"8343JJR98","name":"BMW Group Sales APAC"},
        {"id":"3","idPublic":"935723JFF","name":"Jaguar Group Sales Asia"},
        {"id":"4","idPublic":"3243JFUFF","name":"Mercedes Benz Group Sales Europe"}
    ]; 
```

# php - PHP、HTML、Javascript执行顺序

> ID：10877399
> 
> 赞同：14
> 
> 时间：2012-06-04T06:55:38.617
> 
> 标签：php, javascript, html

我有一个 test.php 文件，这个文件包含一些 PHP 代码、HTML 元素和一些内部 JavaScript 和一些外部 JavaScript 包括。

我想知道哪个是第一个加载或执行的。

PHP 或 HTML 或 JavaScript？我想知道执行顺序。

非常感谢您的回答，并且对我和其他人也非常有帮助。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-04T07:01:02.687

务实地说，这是典型的顺序：

*   PHP 首先运行并构建页面。
*   浏览器加载生成的 HTML（找到的任何 JavaScript 都会立即执行）
*   一旦读取了整个 HTML 并分别加载了所有对象，任何与 DOM 就绪或加载事件相关联的 JavaScript 都会被执行。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-04T06:59:06.030

PHP 将首先执行，然后是 HTML，最后是 javascript。

*   您向服务器发送请求，服务器执行您的脚本
*   然后将渲染的html返回给浏览器，浏览器解析HTML（执行内联javascript）
*   最后执行外部包含的 javascript 文件，按包含的顺序一一执行。

# visual-studio-2010 - VC++ 自定义项模板不显示

> ID：10877400
> 
> 赞同：0
> 
> 时间：2012-06-04T06:55:40.793
> 
> 标签：visual-studio-2010, visual-c++, itemtemplate

我尝试制作一个项目模板。在 zip 中，我将文件`module.cpp`、和. vstemplate 文件是：`module.h``module.ico``module.vstemplate`

```
<VSTemplate Type="Item" Version="2.0.0"
    xmlns="http://schemas.microsoft.com/developer/vstemplate/2005">
    <TemplateData>
        <Name>C++ cpp/h pair (st)</Name>
        <Description></Description>
        <Icon>module.ico</Icon>
        <ProjectType>VisualC</ProjectType>
        <DefaultName>MyClass</DefaultName>
    </TemplateData>
    <TemplateContent>
        <ProjectItem TargetFileName="$fileinputname$.cpp">module.cpp</ProjectItem>
        <ProjectItem TargetFileName="$fileinputname$.h">module.h</ProjectItem>
    </TemplateContent>
</VSTemplate> 
```

我将其复制到“自定义项目模板”目录（*不是*系统范围的）：`Documents\Visual Studio 2010\Templates\ItemTemplates\VisualC\module.zip`

VisualC 文件夹不存在，我创建它是因为我在系统范围的模板目录中看到了一个名为 VisualC 的文件夹。

我试过重启VS。为了以防万一，我还尝试了“devenv /installvstemplates”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-24T14:09:03.277

在 MSDN 的 ItemTemplates 页面上有一个小注释：

> 您不能为 C++ 项目导出模板。

幸运的是，有一个解决方案，但比您预期的要复杂得多。在 MSDN 中搜索 Visual C++ 向导（抱歉声誉太低，无法粘贴更多链接）。

起点可以是：

[http://msdn.microsoft.com/en-us/library/vstudio/96xz4cw2(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/vstudio/96xz4cw2(v=vs.100).aspx)

[http://msdn.microsoft.com/en-us/library/aa730846(VS.80).aspx](http://msdn.microsoft.com/en-us/library/aa730846(VS.80).aspx)

# tomcat6 - Eclipse 配置的 tomcat 不会删除服务器重启更改

> ID：10877402
> 
> 赞同：0
> 
> 时间：2012-06-04T06:55:45.713
> 
> 标签：tomcat6, eclipse-3.6

我在eclipse 3.6上有一个基于spring的maven web项目和一个本地配置的tomcat 6。当我在任何 java 源文件或任何配置文件中进行更改时，当我查看 tomcat 实例时，它不会要求我重新启动服务器。

早些时候，对于任何服务器端更改，它曾经在 tomcat 服务器上显示一个重新启动标志。现在我必须在每次服务器重新启动之前清理项目以使更改生效。

所以[这个](http://img403.imageshack.us/img403/6561/republish.jpg)[Started/Republish] 是它在进行服务器端更改后显示的内容，而[这个](http://img41.imageshack.us/img41/8533/restartp.jpg)[Started/Restart] 是它应该的样子。但是 [Started/Restart] 不会自动发生，我每次都必须为它清理项目。

需要帮助。

谢谢。

编辑：[这](http://img687.imageshack.us/img687/3324/tomcatm.jpg)是我拥有的 tomcat 配置。我还 对**Project进行了****Build Automatically**检查。

 *** * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T07:04:09.880

使您对 tomcat 服务器进行更改的文件的启用类文件。我猜这个问题需要更多解释。**

# python - Python wtforms：输入后更改文本字段值

> ID：10877406
> 
> 赞同：0
> 
> 时间：2012-06-04T06:56:04.030
> 
> 标签：python, textfield, wtforms

我正在修改 Python / WTFORMs 表单。

我想在输入后或提交表单之前立即拦截、检查并可能修改一个 TextField。

我查看了相关文档，但不清楚如何执行此操作。

我不介意我是否使用内置函数，甚至是否找到插入一些 Javascript 以处理呈现的 HTML 的方法。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T12:09:21.447

假设 MyForm 是一个 wtform 类，您可以像这样重新创建它

```
field_value = "some new value"
myform = MyForm(field_name=field_value) 
```

# sql - T-SQL 如何在存储过程中动态创建表？

> ID：10877407
> 
> 赞同：21
> 
> 时间：2012-06-04T06:56:05.177
> 
> 标签：sql, sql-server, tsql

像这样的代码，但它是错误的：

```
CREATE PROC sp_createATable
  @name        VARCHAR(10),
  @properties  VARCHAR(500)
AS
  CREATE TABLE @name
  (
    id  CHAR(10)  PRIMARY KEY,
    --...Properties extracted from @properties
  ); 
```

你能告诉我如何处理它吗？这真的让我很困扰。

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2012-06-04T07:06:06.030

您正在使用表变量，即您应该声明该表。这不是临时表。

您可以像这样创建一个临时表：

```
CREATE TABLE #customer
(
     Name varchar(32) not null
) 
```

您像这样声明一个表变量：

```
DECLARE @Customer TABLE
(
      Name varchar(32) not null
) 
```

请注意，临时表使用# 声明，表变量使用@ 声明。去阅读表变量和临时表之间的区别。

**更新：**

根据您在下面的评论，您实际上是在尝试在存储过程中创建表。为此，您需要使用动态 SQL。基本上动态 SQL 允许您以字符串的形式构造 SQL 语句，然后执行它。这是您能够在存储过程中创建表的唯一方法。我将向您展示如何，然后讨论为什么这通常不是一个好主意。

现在举一个简单的例子（我没有测试过这段代码，但它应该给你一个很好的指示如何去做）：

```
CREATE PROCEDURE sproc_BuildTable 
    @TableName NVARCHAR(128)
   ,@Column1Name NVARCHAR(32)
   ,@Column1DataType NVARCHAR(32)
   ,@Column1Nullable NVARCHAR(32)
AS

   DECLARE @SQLString NVARCHAR(MAX)
   SET @SQString = 'CREATE TABLE '+@TableName + '( '+@Column1Name+' '+@Column1DataType +' '+@Column1Nullable +') ON PRIMARY '

   EXEC (@SQLString)
   GO 
```

这个存储过程可以这样执行：

`sproc_BuildTable 'Customers','CustomerName','VARCHAR(32)','NOT NULL'`

这种类型的存储过程存在一些主要问题。

它很难满足复杂的表格。想象一下下面的表结构：

```
CREATE TABLE [dbo].[Customers] (
    [CustomerID] [int] IDENTITY(1,1) NOT NULL,
    [CustomerName] [nvarchar](64) NOT NULL,
    [CustomerSUrname] [nvarchar](64) NOT NULL,
    [CustomerDateOfBirth] [datetime] NOT NULL,
    [CustomerApprovedDiscount] [decimal](3, 2) NOT NULL,
    [CustomerActive] [bit] NOT NULL,
    CONSTRAINT [PK_Customers] PRIMARY KEY CLUSTERED 
    (
        [CustomerID] ASC
    ) WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF,      ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO

ALTER TABLE [dbo].[Customers] ADD CONSTRAINT [DF_Customers_CustomerApprovedDiscount] DEFAULT ((0.00)) FOR [CustomerApprovedDiscount]
GO 
```

这张表比第一个例子稍微复杂一点，但不是很多。存储过程将变得非常复杂，难以处理。因此，虽然这种方法可能适用于小表，但很快就会变得难以管理。

创建表需要计划。当您创建表时，它们应该策略性地放置在不同的文件组上。这是为了确保不会导致磁盘 I/O 争用。如果所有内容都在主文件组上创建，您将如何解决可伸缩性问题？

您能否阐明为什么需要动态创建表？

**更新 2：**

由于工作量大而延迟更新。我阅读了您关于需要为每家商店创建一张桌子的评论，我认为您应该像我将要给您的示例一样考虑这样做。

在这个例子中，我做了以下假设：

1.  这是一个拥有许多商店的电子商务网站
2.  一家商店可以有许多物品（商品）要出售。
3.  可以在许多商店出售特定商品（商品）
4.  一家商店会针对不同的商品（商品）收取不同的价格
5.  所有价格均以美元 (USD) 为单位

假设这个电子商务网站销售游戏机（即 Wii、PS3、XBOX360）。

查看我的假设，我看到了经典的多对多关系。一个商店可以出售许多物品（商品），并且可以在许多商店出售物品（商品）。让我们把它分解成表格。

首先，我需要一个商店表来存储有关商店的所有信息。

一个简单的商店表可能如下所示：

```
CREATE TABLE [dbo].[Shop](
    [ShopID] [int] IDENTITY(1,1) NOT NULL,
    [ShopName] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_Shop] PRIMARY KEY CLUSTERED 
    (
      [ShopID] ASC
    ) WITH (
              PAD_INDEX  = OFF
              , STATISTICS_NORECOMPUTE  = OFF
              , IGNORE_DUP_KEY = OFF
              , ALLOW_ROW_LOCKS  = ON
              , ALLOW_PAGE_LOCKS  = ON
    ) ON [PRIMARY]
    ) ON [PRIMARY]

    GO 
```

让我们在数据库中插入三个商店以在我们的示例中使用。以下代码将插入三个商店：

```
INSERT INTO Shop
SELECT 'American Games R US'
UNION
SELECT 'Europe Gaming Experience'
UNION
SELECT 'Asian Games Emporium' 
```

如果您执行 a `SELECT * FROM Shop`您可能会看到以下内容：

```
ShopID  ShopName
1           American Games R US
2           Asian Games Emporium
3           Europe Gaming Experience 
```

好的，现在让我们转到 Items（商品）表。由于物品/商品是各种公司的产品，我将其称为表产品。您可以执行以下代码来创建一个简单的 Product 表。

```
CREATE TABLE [dbo].[Product](
    [ProductID] [int] IDENTITY(1,1) NOT NULL,
    [ProductDescription] [nvarchar](128) NOT NULL,
 CONSTRAINT [PK_Product] PRIMARY KEY CLUSTERED 
 (
     [ProductID] ASC
 )WITH (PAD_INDEX  = OFF
        , STATISTICS_NORECOMPUTE  = OFF
        , IGNORE_DUP_KEY = OFF
        ,     ALLOW_ROW_LOCKS  = ON
         , ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
  ) ON [PRIMARY]

GO 
```

让我们用一些产品填充产品表。执行以下代码插入一些产品：

```
INSERT INTO Product
SELECT 'Wii'
UNION 
SELECT 'PS3'
UNION 
SELECT 'XBOX360' 
```

如果执行`SELECT * FROM Product`，您可能会看到以下内容：

```
ProductID   ProductDescription
1           PS3
2           Wii
3           XBOX360 
```

好的，此时您拥有产品和商店信息。那么如何将它们组合在一起呢？好吧，我们知道我们可以通过 ShopID 主键列来识别商店，并且我们知道我们可以通过 ProductID 主键列来识别产品。此外，由于每个商店对每种产品都有不同的价格，我们需要存储商店对产品收取的价格。

因此，我们有一个将 Shop 映射到产品的表。我们将此表称为 ShopProduct。此表的简单版本可能如下所示：

```
CREATE TABLE [dbo].[ShopProduct](
[ShopID] [int] NOT NULL,
[ProductID] [int] NOT NULL,
[Price] [money] NOT NULL,
CONSTRAINT [PK_ShopProduct] PRIMARY KEY CLUSTERED 
 (
     [ShopID] ASC,
      [ProductID] ASC
 )WITH (PAD_INDEX  = OFF,
     STATISTICS_NORECOMPUTE  = OFF, 
     IGNORE_DUP_KEY = OFF, 
     ALLOW_ROW_LOCKS  = ON,
     ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
  ) ON [PRIMARY]

 GO 
```

所以让我们假设 American Games R Us 商店只销售美国游戏机，Europe Gaming Experience 销售所有游戏机，而亚运会商场只销售亚洲游戏机。我们需要将 shop 和 product 表中的主键映射到 ShopProduct 表中。

下面是我们将如何进行映射。在我的示例中，American Games R Us 的 ShopID 值为 1（这是主键值），我可以看到 XBOX360 的值为 3，并且商店以 159.99 美元的价格列出了 XBOX360

通过执行以下代码，您将完成映射：

```
INSERT INTO ShopProduct VALUES(1,3,159.99) 
```

现在我们想将所有产品添加到欧洲游戏体验店。在此示例中，我们知道 Europe Gaming Experience 商店的 ShopID 为 3，由于它销售所有游戏机，我们需要将 ProductID 1、2 和 3 插入到映射表中。假设欧洲游戏体验店的游戏机（产品）价格如下：1- PS3 售价 259.99 美元，2- Wii 售价 159.99 美元，3- XBOX360 售价 199.99 美元。

要完成此映射，您需要执行以下代码：

```
INSERT INTO ShopProduct VALUES(3,2,159.99) --This will insert the WII console into the mapping table for the Europe Gaming Experience Shop with a price of 159.99
INSERT INTO ShopProduct VALUES(3,1,259.99) --This will insert the PS3 console into the mapping table for the Europe Gaming Experience Shop with a price of 259.99
INSERT INTO ShopProduct VALUES(3,3,199.99) --This will insert the XBOX360 console into the mapping table for the Europe Gaming Experience Shop with a price of 199.99 
```

至此，您已将两个商店及其产品映射到映射表中。好的，那么现在我如何将所有这些放在一起以显示用户正在浏览该网站？假设您想在网页上向用户展示欧洲博彩体验的所有产品——您需要执行以下查询：

```
SELECT      Shop.*
        , ShopProduct.*
        , Product.*
FROM         Shop 
INNER JOIN  ShopProduct ON Shop.ShopID = ShopProduct.ShopID 
INNER JOIN  Product ON ShopProduct.ProductID = Product.ProductID
WHERE       Shop.ShopID=3 
```

您可能会看到以下结果：

```
ShopID     ShopName                 ShopID  ProductID   Price   ProductID   ProductDescription
3          Europe Gaming Experience   3         1       259.99  1           PS3
3          Europe Gaming Experience   3         2       159.99  2           Wii
3          Europe Gaming Experience   3         3       199.99  3           XBOX360 
```

现在举最后一个例子，假设您的网站有一项功能，可以找到最便宜的主机价格。一位用户要求找到 XBOX360 的最便宜价格。

您可以执行以下查询：

```
 SELECT     Shop.*
        , ShopProduct.*
        , Product.*
 FROM         Shop 
 INNER JOIN  ShopProduct ON Shop.ShopID = ShopProduct.ShopID 
 INNER JOIN  Product ON ShopProduct.ProductID = Product.ProductID
 WHERE      Product.ProductID =3  -- You can also use Product.ProductDescription = 'XBOX360'
 ORDER BY    Price ASC 
```

此查询将返回所有销售 XBOX360 的商店的列表，首先是最便宜的商店，依此类推。

你会注意到我没有添加亚运商店。作为练习，将带有以下产品的亚运商店添加到映射表中：亚运商场以 99.99 美元的价格出售 Wii 游戏机，以 159.99 美元的价格出售 PS3 游戏机。如果您通过此示例工作，您现在应该了解如何建模多对多关系。

我希望这对您的数据库设计之旅有所帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-04T07:04:06.120

您将需要从输入构建 CREATE TABLE 语句，然后执行它。

一个简单的例子：

```
declare @cmd nvarchar(1000), @TableName nvarchar(100);

set @TableName = 'NewTable';

set @cmd = 'CREATE TABLE dbo.' + quotename(@TableName, '[') + '(newCol int not null);';

print @cmd;

--exec(@cmd); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T07:04:50.297

首先，您似乎在混合表变量和表。

无论哪种方式，您都不能这样传递表的名称。您必须使用动态 TSQL 来执行此操作。

如果您只想声明一个表变量：

```
CREATE PROC sp_createATable 
  @name        VARCHAR(10), 
  @properties  VARCHAR(500) 
AS 
  declare @tablename TABLE
  ( 
    id  CHAR(10)  PRIMARY KEY 
  ); 
```

您想要创建存储过程来动态创建表的事实可能表明您的设计是错误的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-06-04T06:38:49.293

这是一种使用 T-SQL 存储过程动态创建表的方法：

```
declare @cmd nvarchar(1000), @MyTableName nvarchar(100);
set @MyTableName = 'CustomerDetails';
set @cmd = 'CREATE TABLE dbo.' + quotename(@MyTableName, '[') + '(ColumnName1 int not null,ColumnName2 int not null);'; 
```

执行如下：

```
exec(@cmd); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-07-16T17:32:57.597

您可以编写以下代码：-

```
create procedure spCreateTable
   as
    begin
       create table testtb(Name varchar(20))
    end 
```

执行为： -

执行 spCreateTable

# c# - c# winforms：DataGridView滚动条不显示

> ID：10877408
> 
> 赞同：1
> 
> 时间：2012-06-04T06:56:09.513
> 
> 标签：c#, winforms, datagridview

我是 C# 和 Winforms 的新手..

我**在 DataGridView 中的滚动条有问题**。

垂直滚动条***图像不显示***，**但**您可以使用鼠标滚轮滚动网格。

应该怎么做才能正确处理 DataGridView 中的滚动条。我已经阅读了几个解决方案，但没有一个能够解决这个问题。我的所有列都已将`Frozen`Property 设置为`false`，并且我已将有`AutoSizeMode`问题的列的 设置为`AllCells`。但是没用。。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T06:59:42.437

简单地，

```
myDataGridView.ScrollBars = ScrollBars.Both; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-04-12T17:13:41.983

我有同样的问题，除了dataGridView的第一列，所有列都应该设置为冻结，然后滚动条就会出现。

# iphone - 如何使用 UIProgressView 显示视频的播放时间？

> ID：10877409
> 
> 赞同：0
> 
> 时间：2012-06-04T06:56:11.267
> 
> 标签：iphone, video, uiprogressview, uiprogressbar

我需要使用**UIProgressView**显示滚动条，我需要在 ProgressView 中显示**视频**播放的当前**进度**。任何人都可以建议任何关于如何实现这一点的教程吗？

# mysql - 恢复 MYSQL 数据库时出错

> ID：10877410
> 
> 赞同：13
> 
> 时间：2012-06-04T06:56:17.553
> 
> 标签：mysql, mysqldump

当我尝试通过 putty 恢复 MYSQL 中的数据库时，会发生以下错误。

命令： `mysql -u root -p db1<dbname.sql ;`

> 第 7904 行的错误 1 ​​(HY000)：无法创建/写入文件 ' ./dbname */db.opt* ' (Errcode: 2)

是什么原因？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-16T19:46:50.230

这通常意味着您的转储文件包含一个命令，该命令应针对本地上下文中不存在或当前用户无权访问的数据库运行。打开转储文件并查看错误中提到的行以了解发生了什么。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2016-05-10T16:35:46.937

当源数据库名称与目标数据库名称不同时，我在工作中遇到了这个错误。我在一台服务器上转储了一个数据库，`mysqldump db1 > dumpfile`并尝试在另一台服务器上使用`mysql db2 < dumpfile`.

原来转储文件的`ALTER TABLE db1 ...`语句在我将数据库命名为 db2 的目标服务器上毫无意义。

可能有比这更优雅的解决方案，但我只是在目标服务器上编辑了转储文件并将 db1 替换为 db2。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-01-09T17:11:32.813

**找出是什么`Errcode: 2`意思**

您可以使用该`perror`实用程序查找错误 2 的含义：

```
$ perror 2
OS error code   2:  No such file or directory 
```

更多信息在他们评论中提到的链接@Jocelyn：http: [//dev.mysql.com/doc/refman/5.5/en/cannot-create.html](http://dev.mysql.com/doc/refman/5.5/en/cannot-create.html)

**找出路径`./`指向什么**

我们现在知道文件不存在（或者它可能无法写入。）错误消息为我们提供了一个相对路径`./`，这使得它变得棘手......如果它输出一个完全限定的路径会不会有帮助? 是的。

因此，当 MySQL 导入 SQL 文件时，它会在文件系统上创建一些临时文件。该路径通常由 MySQL`my.cnf`文件中的“tmpfile”配置选项指定。您可以通过执行 SQL 查询快速找到该值：

```
$ mysql -h127.0.0.1 -uroot -p
# I assume you're now logged into MySQL
mysql> SHOW VARIABLES LIKE '%tmpdir%';

+-------------------+-------+
| Variable_name     | Value |
+-------------------+-------+
| slave_load_tmpdir | /tmp  |
| tmpdir            | /tmp  |
+-------------------+-------+
2 rows in set (0.00 sec) 
```

**确保目录可由`mysql`用户写入**

根据 tmpdir 这意味着 MySQL 试图创建`/tmp/dbnamehere/db.opt`. 确保此目录存在并且归`mysql:mysql`. 您可能必须使用`sudo`将权限提升到足够高才能创建一些目录。

```
$ chown -R mysql:mysql /tmp/dbnamehere 
```

**还是行不通？尝试其他默认 tmpdir 路径**

我在我的系统上遇到了问题（Ubuntu 12.04 + Vagrant 1.7.2 + Chef 11.something + [opscode mysql cookbook 6.0.6](https://github.com/opscode-cookbooks/mysql)），其中的值`tmpdir`没有被考虑或没有从我预期的地方拉出来。

MySQL 实际上试图在以下位置之一创建临时文件：

*   /var/lib/mysql/dbname这里
*   /var/lib/mysql-default/dbnamehere

我必须创建这些目录并将所有权更改为 mysql:mysql。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2020-02-20T07:30:08.600

我从“db1”备份并恢复到“db2”，所以在转储文件中必须使用 sed 将“db1”更改为“db2”。

一切都很好。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-04T10:28:46.887

您可以在 MySQL 手册中找到有关此错误的帮助：http: [//dev.mysql.com/doc/refman/5.5/en/cannot-create.html](http://dev.mysql.com/doc/refman/5.5/en/cannot-create.html)

# java - 如何在android中创建一个动态变量

> ID：10877414
> 
> 赞同：1
> 
> 时间：2012-06-04T06:56:32.423
> 
> 标签：java, android

我正在 android 中创建纸牌游戏 (blackJack)。前两张卡片是简单的卡片 1 和卡片 2，但是我想按下“Hit me”按钮并发一张新卡片并将其分配给卡片 3、卡片 4 等有什么方法可以做到这一点，而无需创建您需要的最大数量的变量并使用 if then 语句来检查它们是否已被赋值？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-04T07:01:35.907

使用 a`List`来跟踪您的发牌，而不是使用单个变量。

```
private List<Card> dealtCard = new LinkedList<Card>(); 
```

然后，您可以轻松、动态地添加和删除您的卡片。

# cassandra - 无法在 cassandra-cli 中创建密钥空间

> ID：10877417
> 
> 赞同：4
> 
> 时间：2012-06-04T06:56:36.603
> 
> 标签：cassandra

我有一个简单的单节点 cassandra 设置（1.1.0）（默认设置）。每当我尝试在 cassandra-cli 中创建密钥空间时，都会收到错误消息：[default@unknown] create keyspace tax; org.apache.thrift.transport.TTransportException

在 cassandra 服务器日志中，异常堆栈跟踪：ERROR 12:15:04,722 Exception in thread Thread[MigrationStage:1,5,main]

```
java.lang.AssertionError
    at org.apache.cassandra.db.DefsTable.updateKeyspace(DefsTable.java:441)
    at org.apache.cassandra.db.DefsTable.mergeKeyspaces(DefsTable.java:339)
    at org.apache.cassandra.db.DefsTable.mergeSchema(DefsTable.java:269)
    at org.apache.cassandra.service.MigrationManager$1.call(MigrationManager.java:214) 
```

我尝试删除 ./var/lib/cassandra/data 中的内容并重新启动服务器和我的 Mac，但仍然遇到同样的问题。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-04T09:06:41.480

看起来系统密钥空间已损坏。从中删除数据文件

*   /var/lib/cassandra/数据
*   /var/lib/cassandra/commitlog
*   /var/lib/cassandra/saved_caches

并重新启动 cassandra 服务器解决了这个问题。（以上目录定义在$CASSANDRA_HOME/conf/cassandra.yaml）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-04T09:51:22.893

以下是向 Cassandra 添加键空间时的流程。（根据 Cassandrda 源代码中的评论。如果我弄错了，请纠正我）

1）第一步，它检查是否添加了任何新的键空间。

2）在第二步，我们检查是否重新创建了任何键空间，在这种情况下，重新创建意味着它们先前已被删除但仍作为空键存在于低级模式中

3）在最后一步，我们更新修改的键空间并保存键空间，稍后将它们删除。

在修改键空间时，它调用函数“updateKeyspace”，在这里，如果键空间元数据已损坏，它似乎会引发断言错误。

因此，在您的情况下，您可能已经删除了相同的密钥空间并尝试重新创建导致此问题的原因，或者正如您提到的那样，这是元数据损坏。

# php - Facebook 连接无法使用 php SDK 工作

> ID：10877421
> 
> 赞同：0
> 
> 时间：2012-06-04T06:57:41.040
> 
> 标签：php, facebook

我正在使用 Facebook Connect php sdk 创建一个网站，当我使用 Facebook 登录时，它会正确登录 Facebook，但用户没有在我的网站上注册，所以用户没有登录。当我打印从脸书显示所有详细信息，如名字、姓氏、链接，但电子邮件和用户名字段保持空白。

```
 This is my code,

> require 'facebook.php'; $facebook = new Facebook(array(   'appId'  =>
> 'xxxxxxxxxx',   'secret' => 'xxxxxxxxxxxxxxxxxxxxxxx',
> ));
> 
> $user = $facebook->getUser();
> 
> $loginUrl = $facebook->getLoginUrl();
> 
> if ($user) {   try {
>     $user_profile = $facebook->api('/me');   } catch (FacebookApiException $e) {
>     error_log($e);
>     $user = null;   } } if ($user) { 
>       $facebook_userdetails = $facebook->api ( '/me' );
>               //  print_r($facebook_userdetails); exit;           if (is_array($facebook_userdetails )) 
>                  {
>                    $FBId = $facebook_userdetails ['id'];
>                    $FBName = $facebook_userdetails ['name'];
>                    $FBFirstName = $facebook_userdetails ['first_name'];
>                    $FBLastName = $facebook_userdetails ['last_name'];
>                    $FBLink = $facebook_userdetails ['link'];
>                    $FBUsername = $facebook_userdetails ['username'];
>                    $FBGender = $facebook_userdetails ['gender'];
>                    $FBEmail = $facebook_userdetails ['email'];
>                    $FBTimezone = $facebook_userdetails ['timezone'];
>                    $FBLocale = $facebook_userdetails ['locale'];                   
>                    $FBVerified = $facebook_userdetails ['verified'];
>                    $FBUpdated_time = $facebook_userdetails ['updated_time'];                       
>                 } 
>                 else
>                   $this->view->error = $facebook_userdetails;         echo            "<body onLoad='myfunc()'> 
>            <form name='facebook' action='fbconnect_login.php' method='POST' id='face'>
>                   <input type='hidden' name='FBId' value='$FBId' />
>                   <input type='hidden' name='FBName' value='$FBName' />
>                   <input type='hidden' name='FBFirstName' value='$FBFirstName' />
>                   <input type='hidden' name='FBLastName' value='$FBLastName' />
>                   <input type='hidden' name='FBLink' value='$FBLink' />
>                   <input type='hidden' name='FBUsername' value='$FBUsername' />
>                   <input type='hidden' name='FBGender' value='$FBGender' />
>                   <input type='hidden' name='FBEmail' value='$FBEmail' />
>                   <input type='hidden' name='FBTimezone' value='$FBTimezone' />
>                   <input type='hidden' name='FBLocale' value='$FBLocale' />
>                   <input type='hidden' name='FBVerified' value='$FBVerified' />
>                   <input type='hidden' name='FBUpdated_time' value='$FBUpdated_time' />
>               </form>             </body>" ;             $logoutUrl = $facebook->getLogoutUrl(); } else {    $loginUrl =
> $facebook->getLoginUrl();   echo "<script>window.location =
> '$loginUrl';</script>"; } $naitik = $facebook->api('/naitik');    ?>
> <script type="text/javascript"> function myfunc () { var frm =
> document.getElementById("face"); frm.submit(); } </script> 
```

这是我的 html 内容，

```
<a id="fb-login" style="background:none;width:auto;height:25px;" class="fb_button fb_button_medium" href="javascript:void(0);">Login With Facebook</a>

<script type="text/javascript">
$('#fb-login').click(function()
  var left = (screen.width/2)-(800/2);
            var top = (screen.height/2)-(400/2);
            signinWin = window.open("https://www.facebook.com/dialog/oauth?client_id=375057399186229&redirect_uri=http%3A%2F%2Flivedev.pharmacydirect.co.nz%2Fweb%2Ffb_main.php&state=69d3e5e4348786ab4bb4ab7f723c931a", "SignIn", "width=800,height=400,toolbar=0,scrollbars=1,status=0,resizable=0,location=0,menuBar=0,left="+left+",top="+top);
            setTimeout(CheckLoginStatus, 2000);
            signinWin.focus();
            return false;
);
  function CheckLoginStatus() 
        if (signinWin.closed) 
            window.location.reload();

        else setTimeout(CheckLoginStatus, 1000);

</script> 
```

任何帮助请，提前谢谢............

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T08:14:32.967

电子邮件需要扩展权限：

```
$params = array('scope' => 'email');
$loginUrl = $facebook->getLoginUrl($params); 
```

用户名由 Facebook 用户设置，不是必需的。

# c# - C# - 如何获取列表 > 来自 ArrayList？

> ID：10877425
> 
> 赞同：0
> 
> 时间：2012-06-04T06:57:54.107
> 
> 标签：c#, multidimensional-array, arraylist

我被难住了，可能是非常愚蠢 - 但我无法弄清楚这一点。

我有一些数据正在转换为`ArrayList`. 数据如下所示：

> [[“a”、“b”、“c”]、[“1”、“2”、“3”]]

所以本质上，它是一个字符串数组。我很想把它变成这种格式`List<List<string>>`，这样我就可以轻松地访问和操作数据——但我不知道该怎么做！

由于`ArrayList`不是强类型，我正陷入一个麻烦的世界，试图将第一个元素`ArrayList`转换为任何有用的东西。

从下面的代码片段可以看出，`ArrayList`有两个元素，每个元素有 26 个元素（代表我的数据，有两个 26 个字符串的条目）。

![在此处输入图像描述](../Images/08df983d1dfdf2eb48229cc776a1e41f.png)

谁能告诉我如何将`ArrayList`上述数据的表示变成`List<List<string>>`请？

谢谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:08:04.430

处理非泛型集合时，如果您`Cast<>()`使用`OfType<>()`. 假设这些是同类集合，您可以这样做：

```
arrList.Cast<IEnumerable>()
       .Select(enumerable => enumerable.Cast<string>()
                                       .ToList())
       .ToList(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:01:24.853

我相信这会做到

```
List<List<string>> listlistString = arrList.Cast<IEnumerable>()
    .Select(ienum => ienum.Cast<string>().ToList()).ToList(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T07:06:49.023

怎么样

```
List<List<string>> result = myarraylist.Cast<string[]>()
                                       .Select(x => x.ToList())
                                       .ToList(); 
```

# yui - 如何在 YUI DataTable 中以不同颜色显示字符串的每个单词？

> ID：10877429
> 
> 赞同：0
> 
> 时间：2012-06-04T06:58:09.880
> 
> 标签：yui

如何在 YUI DataTable 中以不同颜色显示字符串的每个单词？

我需要“标记”颜色为蓝色，“好”颜色为红色。

[http://i.stack.imgur.com/OSlvc.png](http://i.stack.imgur.com/OSlvc.png)

```
<script>
    YUI().use("datatable", function(Y) {

    var records = [
    { item: "widget", cost: 23.57, price: 47.5 },
    { item: "gadget", cost: 0.11, price: "Mark is good " },
    { item: "sprocket", cost: 4.08, price: 3.75 }
    ];

    var table = new Y.DataTable({
    columns: ["item","cost", "price"],
        data: records
    });
    table.render("#example");
    }); 

</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T04:58:19.930

使用列格式化程序。按空格拆分值字符串`o.value.split(/\s/)`并检查每个单词。如果它是您的目标词之一，请用元素包装它。为该元素分配一个适合添加颜色的 CSS 类。

例如[https://gist.github.com/2872732](https://gist.github.com/2872732)

# c# - 葡萄牙语字符的编码问题

> ID：10877430
> 
> 赞同：0
> 
> 时间：2012-06-04T06:58:21.813
> 
> 标签：c#, httpwebrequest

我正在为葡萄牙语网页做一个网络请求。得到结果后，我看到一些字符正在转换为哈希格式。

例子：

```
Source: PRAÇA DOS OMAGUÁS

Result I am getting : PRA&#199;A DOS OMAGU&#193;S 
```

我厌倦了将 webrequest 的编码格式设置为“IBM860”（参考：http: [//msdn.microsoft.com/en-us/library/system.text.encodinginfo.getencoding.aspx](http://msdn.microsoft.com/en-us/library/system.text.encodinginfo.getencoding.aspx)）。但它仍然无法转换。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T07:07:02.650

```
string s = System.Web.HttpUtility.HtmlDecode("PRA&#199;A DOS OMAGU&#193;S"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:19:27.163

```
> HttpUtility.HtmlDecode("PRA&#199;A DOS OMAGU&#193;S") 
```

您可以使用 HttpUtility.HtmlDecode

如果您使用的是 .NET 4.0+，您还可以使用 WebUtility.HtmlDecode，它不需要额外的程序集引用，因为它在 System.Net 命名空间中可用

[如何在 C# 中解码 HTML 字符？](https://stackoverflow.com/questions/122641/how-can-i-decode-html-characters-in-c)

# jquery - jqPlot 图表使用 asp.net MVC, JSON

> ID：10877438
> 
> 赞同：0
> 
> 时间：2012-06-04T06:59:15.867
> 
> 标签：jquery, asp.net-mvc, json, jqplot

我是 MVC 和 jQuery 和 jqPlot 的新手。

谁能举个例子，我可以在哪里找到演示项目或逐步实现的过程。

我需要的是：

*   如何返回 JSON 以查看。
*   添加视图时 - 它应该是部分视图还是普通视图？
*   如何使用 jQuery 从视图中获取 JSON。
*   如何在 jqPlot 中传递 JSON 对象？

提前非常感谢。

================================================

尝试使用下面的代码，它总是会出现**错误**部分，有人能解释一下是什么原因吗？

```
<!--[if lt IE 9]><script language="javascript" type="text/javascript" src="../Scripts/excanvas.js"></script><![endif]-->
        <script src="../js/jquery-1.3.2.min.js" type="text/javascript"></script>
        <script type="text/javascript" language="javascript" >
            $(document).ready(function () {
                $("#btnClick").click(function () {
                    alert('Inside Click Function');
                    $.ajax(
                        type: 'GET',
                        url: "JSONSample.aspx/GetItSerialized",
                        processData: true,
                        data: {},
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (data) {
                            $.each(data.d, function (index, item) {
                                alert('Inside Success');
                            });
                            //alert('Inside Success');
                            //processData(data);
                        },
                        error: function(jqXHR, textStatus, errorThrown) {alert('Error');}

                    });

                    function processData(data) {
                        alert('test');
                    }
                });
            });
        </script>

    <body>
        <form id="form1" runat="server">
        <div>  
        <input id="btnClick" runat="server" value="Click here" type="button" />
        </div>
        </form>
    </body>

public string GetItSerialized()
        {
            Employee oEmployee1 = new Employee { Name = "ABC", ID = "111", Age = "30" };
            Employee oEmployee2 = new Employee { Name = "FDF", ID = "rtrt", Age = "31" };
            Employee oEmployee3 = new Employee { Name = "dfdf", ID = "fdfd", Age = "20" };

            List<Employee> listEmp = new List<Employee>
            {
                oEmployee1,
                oEmployee2,
                oEmployee3
            };

            string str = (new JavaScriptSerializer().Serialize(listEmp));

            return str;
        }

    }

    public class Employee
    {
        public string Name { get; set; }
        public string Age { get; set; }
        public string ID { get; set; }
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-11T13:23:32.420

嗯，首先您提供的代码是一个 ASP.NET WebForms 示例。
关于如何将 jqPlot 与 MVC 一起使用的教程：[此处](http://growingtech.blogspot.com/2012/06/jqplot-line-with-aspnet-mvc-3.html)或[此处](http://growingtech.blogspot.com/2012/06/jqplot-bar-graph-with-aspnet-mvc-3.html)。
要回答您的其余问题：

1.  *如何将 JSON 返回到视图？*
    见答案没有。4

2.  *添加视图时 - 它应该是部分视图还是普通视图？*
    这实际上取决于您要完成的工作。如果您想创建类似小部件的东西，请使用部分视图。

3.  *如何使用 jQuery 从视图中获取 JSON？*
    我不太确定你是什么意思。

4.  *如何将 JSON 对象传递给 jqPlot？*
    调用将返回 json 对象的控制器操作。在本[教程](http://www.jqplot.com/deploy/dist/examples/data-renderers.html)中遵循此[示例](https://stackoverflow.com/questions/227624/asp-net-mvc-controller-actions-that-return-json-or-partial-html)

# php - 登录频道顾问

> ID：10877442
> 
> 赞同：0
> 
> 时间：2012-06-04T06:59:26.890
> 
> 标签：php, curl

我正在尝试登录频道顾问，但它输出错误：`HTTP/1.1 302 Moved Temporarily`。

但是上周它运行完美，我登录并检索了我的数据，现在我再次运行它有一个错误。

这是我的代码：

```
 $pages = array('home' => 
 'https://login.channeladvisor.com/?gotourl=https%3a%2f%2fcomplete.channeladvisor.com%2f', 
           'login' => 
 'https://login.channeladvisor.com/?gotourl=https%3a%2f%2fcomplete.channeladvisor.com%2f', 
           'data' => 
  'https://merchant.channeladvisor.com/AM/MyInventory/View_Inventory.aspx?apid=32001263'); 

  $ch = curl_init(); 
  //Set options for curl session 
  $options = array(CURLOPT_USERAGENT => 'Mozilla/12.0 (compatible; MSIE 6.0; Windows NT 5.1)', 
         CURLOPT_SSL_VERIFYPEER => FALSE, 
         CURLOPT_SSL_VERIFYHOST => 2, 
         CURLOPT_HEADER => TRUE, 
         CURLOPT_RETURNTRANSFER => TRUE, 
         CURLOPT_COOKIEFILE => 'cookies.txt', 
         CURLOPT_COOKIEJAR => 'cookies.txt'); 

//Hit home page for session cookie 
$options[CURLOPT_URL] = $pages['home']; 
curl_setopt_array($ch, $options); 
//curl_exec($ch); 

//Login 
$options[CURLOPT_URL] = $pages['login']; 
$options[CURLOPT_POST] = TRUE; 
$options[CURLOPT_POSTFIELDS] = 'username=xxxxx@gmail.com&password=xxxxxxx'; 
$options[CURLOPT_FOLLOWLOCATION] = false;
curl_setopt_array($ch, $options);
curl_exec($ch);

//Hit data page 
$options[CURLOPT_URL] = $pages['data'];
curl_setopt_array($ch, $options); 
$data = curl_exec($ch); 

//Output data
echo $data; 

//Close curl session 
curl_close($ch); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T15:20:20.320

如果您只想导出库存信息，ChannelAdvisor 拥有自己的 UI 可用库存导出服务。至少，您可以自动化您的代码以启动并下载导出的 csv 或 tab delim 文件：[http ://ssc.channeladvisor.com/howto/exporting-inventory](http://ssc.channeladvisor.com/howto/exporting-inventory)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T15:13:01.197

如果您正在寻找来自“https://merchant.channeladvisor.com/AM/MyInventory/View_Inventory.aspx”的数据，为什么不使用 API？

[http://developer.channeladvisor.com/display/cadn/Inventory+Service](http://developer.channeladvisor.com/display/cadn/Inventory+Service)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-04T07:56:36.503

我认为您应该处理来自 Channel Advisor 的此类更新，因此请遵循重定向。

由于我认为这不是使用 curl 登录 Channel Advisor 的常用方法，因此您将始终需要在每次 Channel Advisor 更新时更新您的代码。*它记得我们只能使用 curl 来检索 Google Analytics 数据：每次他们更新登录系统时，您都必须重写自己的 curl 登录方法 - 无聊*。

您可以阅读有关使用 curl的以下[答案。](https://stackoverflow.com/a/3520085/569101)`Header: Location`基本上：

```
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $url);
curl_setopt($ch, CURLOPT_HEADER, true);
curl_setopt($ch, CURLOPT_FOLLOWLOCATION, false);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE);
$a = curl_exec($ch);
if(preg_match('#Location: (.*)#', $a, $r))
 $l = trim($r[1]); 
```

# php - 如何将大量 wordpress 帖子导出到文本文档？

> ID：10877444
> 
> 赞同：0
> 
> 时间：2012-06-04T06:59:30.560
> 
> 标签：php, wordpress, export, server-response

我需要将某个类别（包含数千个帖子）的所有帖子导出到文本文档。然后有人会在这个文档中进行更正和更改，之后我必须将所有更新的帖子输入到 WP。
所以我决定最好的方法是制作一个 XML 文档（通过这种方式可以很容易地输入回帖）。
所以我的代码是：

```
require_once(dirname(__FILE__) . '/wp-blog-header.php');

$counter = 0;
$recorded = array();
$double=0;

$handle = fopen("all_posts.xml", "w");
fwrite($handle, "<all_posts>" . "\r\n"); // the root XML tag

// get all the categories from the global category  
$global_cat = get_categories(array("child_of"=>5, 'pad_counts'=>true, 'hierarchical' => 
false));

 foreach($global_cat as $child_cat){

global $post;
$args = array('numberposts' => 50000,'cat' => $child_cat->cat_ID);
print_r($child_cat); echo "<br>" . $counter ."<br>";
$q_posts = get_posts($args);
foreach($q_posts as $post){
    setup_postdata($post);

    if( in_array($post->ID, $recorded ) ) {continue;}
    $recorded[] = $post->ID;    

    $counter++;
    $title = get_the_title();
    $cur_categories = get_the_category();
    $cur_tags = get_the_tags();
    $d = get_the_date();
    $cont = get_the_content();

    fwrite($handle, "<post>" . "\r\n");

    fwrite($handle, "<title>" . $title . "</title>" . "\r\n");
    fwrite($handle, "<id>" . $post->ID . "</id>" . "\r\n");
    fwrite($handle, "<cur_cat>" . $child_cat->name . "</cur_cat>" . "\r\n");

    fwrite($handle, "<categories>\r\n");
        foreach ($cur_categories as $cat) {
            fwrite($handle, "<cat>" . $cat->cat_name . "</cat>");
        }               
    fwrite($handle, "\r\n</categories>" . "\r\n");

    fwrite($handle, "<tags>\r\n");
        foreach ($cur_tags as $tag) {
            fwrite($handle, "<tag>" . $tag->name . "</tag>");
        }               
    fwrite($handle, "\r\n</tags>" . "\r\n");
    fwrite($handle, "<date>" . $d . "</date>\r\n");

    fwrite($handle, "<content>\r\n" . $cont . "</content>\r\n\r\n");

    fwrite($handle, "</post>" . "\r\n");

}               

}
fwrite($handle, "</all_posts>");
fclose($handle); 
```

问题是，因为有10,000这样的东西，服务器没有响应[我认为是因为xml文件变得很大或者因为procceng php脚本的时间过长]。只有当我尝试从只有 2000 个帖子的类别中导出帖子时，它才能正常工作。
修复它的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:48:56.697

在您的代码顶部将 max_execution_time 设置为无限制（或几分钟）...

```
ini_set('max_execution_time', 0); 
```

甚至尝试提高 PHP 使用的内存限制

```
ini_set('memory_limit', '100M'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:44:54.997

您可能正在达到脚本的时间限制。这有时可以用[set_time_limit](http://php.net/set_time_limit)改变。

否则，您可以将其限制为一次导出几百页。只需更改运行之间的`offset`选项[`get_posts`](http://codex.wordpress.org/Template_Tags/get_posts)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T07:52:43.457

试试这个。

你在哪里：

```
$args = array('numberposts' => 50000,'cat' => $child_cat->cat_ID); 
```

放

```
$args = array('numberposts' => 50000,'cat' => $child_cat->cat_ID, 'post_status' => 'publish' ); 
```

这将确保您只有已发布的帖子。这是你想要的吗？或者你想要所有这些。

如果您想要所有这些，请尝试根据类别将所有代码放在一个while循环中，并将类别名称插入文件名中，因此有多个文件，但您仍然可以单独调用所有这些文件。这可能是您最好的选择，因为文件太大。

伊桑·布劳威尔

# bash - 如何检索文件中的指定参数（Shell Scripting）？

> ID：10877449
> 
> 赞同：1
> 
> 时间：2012-06-04T06:59:45.037
> 
> 标签：bash, unix

这是我的查询：

```
/path/newdir/newtext.csv 
```

newtext.csv 如下所示：

## 记录 1

```
line 1
line 2
Sample Number: 123456789 (line no. 3)
|
|
|
|
|
Time In: 2012-05-29T10:21:06Z (line no. 21)
|
|
|
Time Out: 2012-05-29T13:07:46Z (line no. 30) 
```

## 记录 2

```
line 1
line 2
Sample Number: 363214563 (line no. 3)
|
|
|
|
|
Time In: 2012-05-29T10:21:06Z (line no. 21)
|
|
|
Time Out: 2012-05-29T13:07:46Z (line no. 30) 
```

## 记录 3

```
line 1
line 2
Sample Number: 987654321 (line no. 3)
|
|
|
|
|
Time In: 2012-05-29T10:21:06Z (line no. 21)
|
|
|
Time Out: 2012-05-29T13:07:46Z (line no. 30) 
```

假设 newtext.csv 中有这样 100 条记录所以，现在我需要输入的 i/p 字符串的参数，如下所示

示例输入搜索字符串：

```
123456789 
```

示例输出：

```
Sample Number: 123456789
Time In: 2012-05-29T10:21:06Z
Time Out: 2012-05-29T13:07:46Z 
```

这正是我需要的。你能帮我么 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:25:08.900

对于普通输入^*字符串，

```
grep -F "InputString" -A27 inputFile.csv | sed -n '1p;19p;$p' 
```

对于模式（扩展正则表达式）^*字符串，

```
grep -E "InputPattern" -A27 inputFile.csv | sed -n '1p;19p;$p' 
```

### 脚本：

```
user$ cat script.sh

#!/bin/bash 
grep -F "$1" -A27 inputFile.csv | sed -n '1p;19p;$p'

user$ chmod +x script.sh
user$ ./script.sh "inputString" 
```

### 编辑：

基于非行号的解决方案，

```
#!/bin/bash 
grep -F "$1" -A27 inputFile.csv |sed -n "/$1/p;/^Time\s[^:]*:/p" 
```

******输入对于文件必须是唯一的。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:21:24.563

**试试这个**

**csv.txt（输入文件）**

```
Sample Number: 123456789 (line no. 3)
|
|
|
|
|
Time In: 2012-05-29T10:21:06Z (line no. 21)
|
|
|
Time Out: 2012-05-29T13:07:46Z (line no. 30)
line 1
line 2
Sample Number: 363214563 (line no. 3)
|
|
|
|
|
Time In: 2012-05-29T10:21:06Z (line no. 21)
|
|
|
Time Out: 2012-05-29T13:07:46Z (line no. 30)
line 1
line 2
Sample Number: 987654321 (line no. 3)
|
|
|
|
|
Time In: 2012-05-29T10:21:06Z (line no. 21)
|
|
|
Time Out: 2012-05-29T13:07:46Z (line no. 30) 
```

**csv.sh (代码)**

```
echo "Enter your search string:"
read name
grep -A 10 "$name" csv.txt | grep -v "|" | awk -F "(" '{print $1}' 
```

**输出**

```
Enter your search string: 123456789 

Sample Number: 123456789
Time In: 2012-05-29T10:21:06Z
Time Out: 2012-05-29T13:07:46Z 
```

# ios - 类似 Facebook 应用程序中的 iOS 视图

> ID：10877450
> 
> 赞同：0
> 
> 时间：2012-06-04T07:00:00.047
> 
> 标签：ios, view

我想实现位于主应用程序视图下方的菜单：

[http://a2.mzstatic.com/us/r1000/107/Purple/eb/62/0a/mzl.csgudeqz.320x480-75.jpg](http://a2.mzstatic.com/us/r1000/107/Purple/eb/62/0a/mzl.csgudeqz.320x480-75.jpg)

我想让它完全像在 Facebook 应用程序中所做的那样。

问题是我不知道如何同时在屏幕上显示两个视图：一个带有菜单，一个带有主应用程序屏幕。

我怎样才能实现这种行为？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-23T05:17:24.557

我知道这是个老问题，但如果有人还在寻找 Facebook UI，这里是 Facebook iOS 应用程序的精确克隆，带有滑动面板

[https://github.com/gresrun/GHSidebarNav](https://github.com/gresrun/GHSidebarNav)

这是另一个类似的控件

[https://github.com/gotosleep/JASidePanels](https://github.com/gotosleep/JASidePanels)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:05:54.207

[`PSStackedView`](https://github.com/steipete/PSStackedView)在 github 上查看。它并不完美，但效果相当好，就像 Facebook 的堆叠视图一样。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-23T05:53:47.493

这很简单

为菜单创建一个视图控制器（例如 MenuViewController）。

> CGRect currentframe = self.view.frame;
> 
> ```
> if (currentframe.origin.x < 0) {
> 
>     destination.origin.x = 0;
> 
> } else {
>     [self.view.superview addSubview:menuViewController.view];
> 
>     [menuViewController.view setFrame:self.view.frame];
> 
>     [self.view.superview sendSubviewToBack:menuViewController.view];
> 
>     currentframe.origin.x -= 300;
> }
> 
> [UIView animateWithDuration:0.10 animations:^{
> 
>     self.view.frame = currentframe;   
> 
> } completion:^(BOOL finished) {
> 
>     if (currentframe.origin.x == 0) {
> 
>       [menuViewController.view removeFromSuperview]; 
> 
>     }
> 
> }]; 
> ```

希望它会起作用

# node.js - 无效的 oauth2 令牌请求

> ID：10877451
> 
> 赞同：5
> 
> 时间：2012-06-04T07:00:13.867
> 
> 标签：node.js, oauth, google-api, oauth-2.0

我正在开发一个需要通过谷歌进行身份验证的节点应用程序。当我请求令牌时，[https](https://accounts.google.com/o/oauth2/token) ://accounts.google.com/o/oauth2/token会回复：

```
error: 400
{ 
  "error" : "invalid_request"
} 
```

我尝试在 curl 中发出相同的请求，并收到相同的错误，所以我怀疑我的请求有问题，但我不知道是什么。我在下面粘贴了我的代码：

```
var request = require('request');
var token_request='code='+req['query']['code']+
                  '&client_id={client id}'+
                  '&client_secret={client secret}'+
                  '&redirect_uri=http%3A%2F%2Fmassiveboom.com:3000'+
                  '&grant_type=authorization_code';
request(
    { method: 'POST',
      uri:'https://accounts.google.com/o/oauth2/token',
      body: token_request
    },
    function (error, response, body) {
        if(response.statusCode == 201){
            console.log('document fetched');
            console.log(body);
        } else {
            console.log('error: '+ response.statusCode);
            console.log(body);
        }
    }); 
```

我已经三重检查以确保我提交的所有数据都是正确的，但我仍然遇到同样的错误。我能做些什么来进一步调试呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T02:09:12.220

事实证明，request.js（https://github.com/mikeal/request）不会自动将内容长度包含在标题中。我手动添加了它，它在第一次尝试时就起作用了。我已经粘贴了下面的代码：

```
exports.get_token = function(req,success,fail){
    var token;
    var request = require('request');
    var credentials = require('../config/credentials');
    var google_credentials=credentials.fetch('google');
    var token_request='code='+req['query']['code']+
        '&client_id='+google_credentials['client_id']+
        '&client_secret='+google_credentials['client_secret']+
        '&redirect_uri=http%3A%2F%2Fmyurl.com:3000%2Fauth'+
        '&grant_type=authorization_code';
    var request_length = token_request.length;
    console.log("requesting: "+token_request);
    request(
        { method: 'POST',
          headers: {'Content-length': request_length, 'Content-type':'application/x-www-form-urlencoded'},
          uri:'https://accounts.google.com/o/oauth2/token',
          body: token_request
        },
        function (error, response, body) {
            if(response.statusCode == 200){
                console.log('document fetched');
                token=body['access_token'];
                store_token(body);
                if(success){
                    success(token);
                }
            }
            else {
                console.log('error: '+ response.statusCode);
                console.log(body)
                if(fail){
                    fail();
                }
            }
        }
    );
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T13:23:03.683

从这里[如何在 node.js 中发出 HTTP POST 请求？](https://stackoverflow.com/questions/6158933/http-post-request-in-node-js)您可以使用`querystring.stringify`转义请求参数的查询字符串。另外，您最好添加`'Content-Type': 'application/x-www-form-urlencoded'`POST 请求。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T12:26:31.823

在此处发布从 token_request var.that 生成的最终字符串可能有问题。或者可能是身份验证代码已过期或未正确添加到 URL。通常代码中包含需要转义的“/”。

# mysql - 如何使用mysql获得前五名

> ID：10877452
> 
> 赞同：0
> 
> 时间：2012-06-04T07:00:15.473
> 
> 标签：mysql, integer

如何获得整数的前 5 位？

非常感谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T07:03:47.890

MySQL 中的前 5 行：

```
SELECT * FROM table_name LIMIT 5 
```

32 位整数的前五位：

```
(a >> 27) 
```

MySQL 中 32 位整数字段的前五位：

```
SELECT (field >> 27) FROM table_name 
```

[整数类型（精确值） - INTEGER、INT、SMALLINT、TINYINT、MEDIUMINT、BIGINT](http://dev.mysql.com/doc/refman/5.5/en/integer-types.html)

[位功能](http://dev.mysql.com/doc/refman/5.0/en/bit-functions.html)

# xcode - 未知类型名称“命名空间”Xcode Boost

> ID：10877455
> 
> 赞同：11
> 
> 时间：2012-06-04T07:00:32.787
> 
> 标签：xcode, boost

我想在我的 Xcode 项目中使用 boost。（Xcode 版本 4.3.2）

我已经从 MacPorts 构建了 boost，并设置了环境变量。

但是当我构建prj时，出现了错误：

> **未知类型名称“命名空间”**

和下面的错误代码：

```
// This file is automatically generated. Do not edit.
// ['../../libs/compatibility/generate_cpp_c_headers.py']
// Wed Jul 23 12:11:19 2003 ('GMTST', 'GMTST')

#ifndef __CSTDDEF_HEADER
#define __CSTDDEF_HEADER

#include <stddef.h>

namespace std {
  using ::ptrdiff_t;
  using ::size_t;
}

#endif // CSTDDEF_HEADER 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-04-18T11:18:14.330

自动生成的代码是 C++，而不是 Objective-C。Objective-C 编译器拒绝无效关键字“命名空间”。

要使其正常工作，请按如下方式更改项目设置： - 转到项目设置并选择目标 - 选择构建设置 -> Apple LLVM 编译器 XX - 语言 -> 将源编译为并将其设置为允许混合目标的 Objective-C++ -C 和 C++。

# c# - 传递一个类/结构与传递多个参数

> ID：10877457
> 
> 赞同：4
> 
> 时间：2012-06-04T07:00:43.260
> 
> 标签：c#, performance, parameter-passing

传递一个类/结构与传递多个参数

我想知道性能方面的考虑。

将一个类或结构（哪个？）传递到一个方法调用中会更好**的性能，它包含两个 int 参数和一个对象引用，还是将这三个作为三个参数传递会更好？**

注意：我是在 Unity3D 平台上开发的，所以有些东西的工作方式可能与经典的 .NET 不同

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-04T07:09:01.020

如果你传递 a `class`，那么你需要做的第一件事就是创建一个对象，稍后需要对它进行垃圾回收。通常不是问题，但在某些 Unity 目标平台上，*如果*您这样做，可能会不受欢迎。

如果你通过一个`struct` *normal*，那么它需要复制结构。如果它大到足以让您询问有关封装的问题（即表示多个参数），那么它可能非常大，并且一直复制可能会很痛苦，特别是如果向下传递几层.

传递单个参数是众所周知的，应该不会造成大问题。4.0 中的可选参数可以减少添加更多参数的痛苦，*但*它们仍然被传递（只是使用它们的默认值）。

一个有趣**的统一**选项是通过`struct` *ref*传递 a ，因为这**不会**复制内容（它只是传递对您创建的值的引用，通常在堆栈上），并且**不需要**任何垃圾收集，即

```
var args = new SomeArgs(123, "abc", 23.4F, false); // <=== a struct
SomeMethod(ref args); 
```

但是，在大多数有用的情况下，我看不出这会给您带来多大的收益

```
SomeMethod(123, "abc", 23.4F, false); 
```

当然，除非您将参数向下传递几层 - 在这种情况下，它的优点是不需要任何复制。但请注意：调用堆栈中各层之间的值不再独立（常规参数，未传递`ref`，与方法隔离）。

我*认为*这至少描述了一些要*考虑*的事情，但我没有给你一个确凿的答案。如果你想要更科学的东西，你可能需要测量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:14:02.353

这取决于有多少参数。

如果你有 10 个参数，管理起来会非常困难（可读性和代码管理角度）。建议将所有这些参数集中在一个类中并通过该类。

从性能的角度来看，它会增加一点开销，但它比传递所有这些参数更有价值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T08:06:35.360

如果您只想传递对象类型数据，您可以尝试使用参数。

```
public static void myMethod(params object[] list)
    {
      // do something
    } 
```

您可以传递任意数量的参数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-04T08:24:56.973

如果性能是您关心的问题，那么您应该选择结构。与类相比，结构是轻量级的，它的背面带有很多数据结构。

# android - “无法启动活动，NullPointerException”的原因

> ID：10877459
> 
> 赞同：1
> 
> 时间：2012-06-04T07:00:53.420
> 
> 标签：android, eclipse, nullpointerexception

在我的主要活动中，我有两个按钮，单击其中一个按钮后，
它应该转到下一个活动，但它在 logcat 中给出以下错误：

```
FATAL EXCEPTION:main
java.lang.RuntimeException: Unable to start activity ComponentInfo{com.android.suven/com.android.suven.Create_Memo}: java.lang.NullPointerException
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
at android.app.ActivityThread.access$2300(ActivityThread.java:125)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
at android.app.ActivityThread.main(ActivityThread.java:4627)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:08:52.813

像这样注册另一个活动`AndroidManifest.xml`：

```
<activity android:name=".YourActivityName"/> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:25:09.743

首先检查您是否在 AndroidManifest.xml 中添加了？

```
<activity android:name=".SecondActivity"/> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T07:08:53.283

我猜你得到这个是因为你没有在`AndroidManifest.xml`文件中声明你的其他活动。确保您声明所有活动。

如果这不起作用，您可以尝试发布更多信息，例如 Manifest 文件的代码片段、在活动之间切换的代码、崩溃的行等。

# android - 片段最佳实践 - Android

> ID：10877461
> 
> 赞同：3
> 
> 时间：2012-06-04T07:00:55.787
> 
> 标签：android, android-fragments

我正在努力解决片段的结构，事情是......在活动中有两个片段。一个包含一个列表。打电话给这个`FragmentA`。另一个包含细节。打电话给这个`FragmentB`。

中的每个列表项`FragmentA`都有不同的视图`FragmentB`，那么处理这种情况的首选方法是什么？

谢谢你

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T07:10:23.547

在没有看到相关应用程序的复杂性的情况下，我建议每个不同的视图`FragmentB`都在其自己的片段中表示。

根据您`R.id.fragment_container`在. 像这样的东西：`FragmentB``FragmentA`

```
// Create new fragment and transaction
Fragment newFragment = new ExampleFragment();
FragmentTransaction transaction = getFragmentManager().beginTransaction();

// Replace whatever is in the fragment_container view with this fragment,
// and add the transaction to the back stack
transaction.replace(R.id.fragment_container, newFragment);
transaction.addToBackStack(null);

// Commit the transaction
transaction.commit(); 
```

# android - Android：saerchable.xml 和 searchSuggestThreshold 参数

> ID：10877468
> 
> 赞同：5
> 
> 时间：2012-06-04T07:01:21.843
> 
> 标签：android, android-searchmanager

我的项目中有搜索功能。在 searchable.xml 中，我只想在用户键入至少 3 个字符时限制搜索。

这可以通过 android:searchSuggestThreshold="3" 来完成，但在我的情况下，没有任何反应，用户在输入或更多字符时仍然可以执行搜索。

这是我的 searchable.xml：

```
<searchable xmlns:android="http://schemas.android.com/apk/res/android"
    android:label="@string/Label"
    android:hint="@string/Hint"
    android:searchSuggestThreshold="3"
    android:includeInGlobalSearch="true"/> 
```

这是清单中的 2 个搜索活动

```
 <activity android:name=".Search"
        android:configChanges="orientation|keyboardHidden">
          <intent-filter>   
        <action android:name="android.intent.action.SEARCH" />
        </intent-filter>
        <meta-data android:name="android.app.searchable"
               android:resource="@xml/searchable"/>   
        </activity>

         <activity android:name=".SearchInterface"
        android:configChanges="orientation|keyboardHidden">
         <meta-data android:name="android.app.default_searchable"
               android:value=".Search" />
         </activity> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-07T08:54:51.037

在回答您的问题之前，您必须在 AndroidManifest 中更改一件事。

```
 <meta-data android:name="android.app.default_searchable"
               android:value=".Search" /> 
```

必须在`<application></application>`标签之间，但不能在标签内`<activity></activity>`。因为它声明了在触发搜索意图时要调用的默认活动。之后尝试 android:searchSuggestThreshold 现在是否有效。作为一种解决方法，您可以做的是在您使用的 SearchHelper（管理 sql 查询的类）中，您从用户那里接收搜索输入作为参数，这样您就可以放置一个简单的 if。像这样：

```
public static Cursor getAutoCompleteCursor(String s) {
    Cursor cursor;
    if (s != null && s.length() > 2)
        cursor = searchAutoComplete(s);
    else
        cursor = null;
    return cursor;
} 
```

我希望你明白我的意思。有任何疑问请告诉我！

# ncurses - NCurses：设置屏幕上的最后一个字符（不启用滚动）

> ID：10877469
> 
> 赞同：0
> 
> 时间：2012-06-04T07:01:24.033
> 
> 标签：ncurses

假设您有一个维度为 ROWS 和 COLS 的 NCurses 窗口（可能是子窗口）。如何在 ROWS-1 和 COLS-1 设置字符。如果我在这个位置使用 waddstr 和一个字符，它就不起作用（引发用户异常）。我认为这是因为光标移动到了窗口外的位置？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T13:14:20.203

这种行为似乎是故意的：http: [//old.nabble.com/Setting-last-character-on-screen-%28without-scrolling-enabled%29-to33969235.html](http://old.nabble.com/Setting-last-character-on-screen-%28without-scrolling-enabled%29-to33969235.html)

> 检查可移植性： Solaris 10 返回 ERR IRIX64 返回 ERR HPUX 11.23 返回 OK Tru64 返回 ERR AIX 6.1 返回 OK
> 
> 尽管 HPUX 实现了 SVr4，但它是最后一个（它与其他系统的一些差异表明，实现者更多地依赖文档而不是交叉检查）。Tru64 在技术上是上面列出的最好的；Solaris 有很多代码腐烂。所以我发现没有理由改变这个怪癖。
> 
> ——托马斯·E·迪基

# ruby-on-rails - Rails：设计：用户确认注册后发送电子邮件

> ID：10877475
> 
> 赞同：5
> 
> 时间：2012-06-04T07:01:43.253
> 
> 标签：ruby-on-rails, devise, devise-confirmable

我的应用程序正在使用 Devise，并正确发送确认电子邮件，并在用户单击确认链接后正确确认用户。我还想在用户确认后发送第二封电子邮件。

关于如何延迟确认或两步确认有很多建议，但没有关于我正在寻找的内容（我可以找到）。

Devise::Module::Confirmable 文档告诉我要使用的方法是确认！，但我不知道该怎么做。有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T08:51:18.487

[Rails 设计：after_confirmation](https://stackoverflow.com/questions/4558463/rails-devise-after-confirmation)

只需定义一个 after_save 回调来检查用户是否被确认，如果是，则发送电子邮件。

如果您想节省一些 CPU 周期，您可以使用以下内容覆盖 Devise ConfirmationsController：

```
class ConfirmationsController < Devise::ConfirmationsController

    def show
        self.resource = resource_class.confirm_by_token(params[:confirmation_token])

        if resource.errors.empty?
            set_flash_message(:notice, :confirmed) if is_navigational_format?
            sign_in(resource_name, resource)

            # Send the user a second email          
            send_post_confirmation_email

            respond_with_navigational(resource){ redirect_to after_confirmation_path_for(resource_name, resource) }
        else
            respond_with_navigational(resource.errors, :status => :unprocessable_entity){ render :new }
        end
    end
end 
```

# javascript - 当 JSON 不包含任何数据时通知用户

> ID：10877480
> 
> 赞同：0
> 
> 时间：2012-06-04T07:02:16.113
> 
> 标签：javascript, json, cordova

我正在尝试制作一个 PhoneGap 应用程序，该应用程序使用 PHP getJSON 函数从 MYSQL 获取数据，然后将其作为列表发布在应用程序上。列表部分工作得很好，但如果服务器上没有数据，我想以某种方式通知用户。

现在它什么也没有显示，因为我正在尝试开发一个移动应用程序，所以用户可能只是认为连接速度很慢，即使没有什么可获取的应用程序仍在尝试获取数据。

这是我使用的代码：

```
function getEmployeeList() {
    $.getJSON(serviceURL + 'getemployees.php', function(data) {
       if(JSON.stringify(data) != JSON.stringify(oldData)){ 
            $('#employeeList li').remove();
            employees = data.key;
            $.each(employees, function(index, employee) {
                $('#employeeList').append('<li><a href="keikka.html?id=' + employee.IND + '">' +
                    '<h4>' + employee.OSO + '</h4>' +
                    '<img src="pics/' + employee.TILA + '.png"/>' +
                    '<p>' + employee.AIKA + '</p>' +'</a></li>');
        });
            $('#employeeList').listview('refresh');

            if(oldData != "")
               alert("New data!");       
            oldData = data;
        }
    });
} 
```

我怎样才能做到这一点，当 json 看起来像这样时`{"key":[]}`，它会发布一个类似“无数据”的文本

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T07:42:49.783

使用一些 ajax 调用从服务器检索数据。检查客户端的数据（让您的服务器返回一些错误代码），以便您知道没有要显示的数据。如果是这种情况，请显示无数据消息或任何最适合用户的信息。

就像是：

```
$.getJSON('someurl', function(data){
   if(data.key.length <= 0){
      $('#mydatacontainer').append('<span class="nodata">No data</span>');
   }
}); 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-06-04T07:14:00.720

```
if (empty($urJsonArray)) {
    echo '$urJsonArray is either 0, empty, or not set at all';
} 
```

# google-chrome - 每次加载新页面时如何执行脚本？

> ID：10877483
> 
> 赞同：0
> 
> 时间：2012-06-04T07:02:23.863
> 
> 标签：google-chrome, google-chrome-extension

我正在为 chrome 设计一个工具栏。这是我在 background.html 中的代码：

```
<script>
function addToolbar() {
  return function(info, tab) {
      chrome.tabs.executeScript(tab.id, {file: "toolbar.js"})
  };
};

addToolbar(); 
</script> 
```

在 toolbar.js 中有用于创建 iframe 并将其附加到文档的代码。问题是“addToolbar()”函数没有自动执行，所以工具栏没有出现。我怎样才能做到这一点 ？

编辑：我的toolbar.js代码：

```
var iframe = document.createElement("iframe");
iframe.setAttribute("src", "http://www.example.com/mytoolbar.html");
iframe.style.cssText='position:fixed;width:100px;height:50px;bottom:0px;left:0px;';
(document.body||document.documentElement).appendChild(iframe); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T08:44:34.883

您的函数`addToolbar`只是返回另一个函数。它不执行它。

如果要执行返回的函数，可以这样：

```
addToolbar()(); 
```

或者你应该直接执行你需要执行的，在`addToolbar`函数中：

```
function addToolbar(info, tab) {
  chrome.tabs.executeScript(tab.id, {file: "toolbar.js"})
}; 
```

# javascript - 在标签中调用 javascript 函数的更好方法

> ID：10877485
> 
> 赞同：38
> 
> 时间：2012-06-04T07:02:40.187
> 
> 标签：javascript, html

以下哪种方式是从 a 标签调用 js 函数的更好方法？

```
<a href="javascript:someFunction()">LINK</a> 
```

或者

```
<a href="#" onclick="someFunction();" return false;">LINK</a> 
```

我在[这里看到了这个问题](https://stackoverflow.com/questions/3681787/which-is-the-best-way-to-call-a-javascript-function-on-a-link)，但它说`<span onclick="someFunction()">`是一个更好的选择。但由于某些原因，我必须使用`<a>`链接。

**编辑：**我正在寻找一个跨浏览器和跨平台的解决方案，它也应该适用于安卓和 iPad。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-06-04T07:21:45.303

两者都不好。

行为应该独立于实际标记进行配置。例如，在 jQuery 中，您可能会执行类似的操作

```
$('#the-element').click(function () { /* perform action here */ }); 
```

在一个单独的`<script>`块中。

这样做的好处是它

1.  以与 CSS 分隔标记和样式相同的方式分隔标记和行为
2.  集中配置（这在某种程度上是 1 的推论）。
3.  使用 jQuery 强大的选择器语法可以轻松扩展以包含多个参数

此外，它会优雅地降级（但使用`onclick`事件也会如此），因为您可以为链接标签提供 a`href`以防用户未启用 JavaScript。

当然，如果您不使用 jQuery 或其他 JavaScript 库，这些参数*仍然有效（但为什么要这样做呢？）。*

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-06-04T07:23:57.233

第二种选择的一些优点：

1.  您可以使用`this`inside`onclick`来引用锚点本身（在选项 1 中执行相同操作将为您提供`window`）。

2.  您可以将 设置`href`为不兼容 JS 的 URL 以支持旧浏览器（或禁用 JS 的浏览器）；支持 JavaScript 的浏览器将改为执行该函数（以留在您必须使用的页面上`onclick="return someFunction();"`并`return false`从函数内部或`onclick="return someFunction(); return false;"`阻止默认操作）。

3.  我看到使用时发生`href="javascript:someFunction()"`了奇怪的事情并且函数返回了一个值；整个页面将被该值替换。

**陷阱**

内联代码：

1.  在范围内运行，`document`而不是在范围内`<script>`运行的标签内定义的代码`window`；因此，符号可能会根据元素`name`或`id`属性来解析，从而导致试图将元素视为函数的意外效果。

2.  更难重用；需要精细的复制粘贴才能将其从一个项目移动到另一个项目。

3.  增加页面的权重，而外部代码文件可以被浏览器缓存。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-04T07:29:04.363

我很想说这两者都是不好的做法。

应该放弃使用`onclick`or`javascript:`以支持从外部脚本侦听事件，从而更好地分离标记和逻辑，从而减少重复代码。

另请注意，外部脚本会被浏览器缓存。

看看[这个答案](https://stackoverflow.com/a/134957/272448)。

[这里](http://javascriptrules.com/2009/07/22/cross-browser-event-listener-with-design-patterns/)有一些实现跨浏览器事件监听器的好方法。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-06-05T09:50:47.223

现代浏览器支持[内容安全策略](http://en.wikipedia.org/wiki/Content_Security_Policy)或 CSP。这是最高级别的网络安全，如果可以应用它，强烈推荐，因为它完全阻止了所有[XSS 攻击](http://en.wikipedia.org/wiki/Cross-site_scripting)。

您的两个建议都因启用 CSP 而中断，因为它们允许内联 Javascript（可能由黑客注入）在您的页面中执行。

最佳做法是订阅 Javascript 中的事件，如 Konrad Rudolph 的回答。

# postgresql - 按字母和数字对 sql 查询中的结果进行排序

> ID：10877489
> 
> 赞同：0
> 
> 时间：2012-06-04T07:03:03.200
> 
> 标签：postgresql, select, numerical, alphabetical, database-table

我想从一个包含一个字母后跟一个数字的列（例如“column1”）（例如 z98、k87、a245、a241、d7、e91、 e32, b212, r101, r32)

有没有办法进行选择，使用第一个字母按字母顺序按此列对结果进行排序，然后使用它们后面的数字升序？（例如 a241、a245、b212、e32 等）目的是根据结果中的字母填充用户界面上的数据表，如下所示：

```
datatable_A= 
241 
245

datatable_B =
212

datatable_D= 
32
91

datatable_K=
87

datatable_R=
32
101

datatable_Z=
98 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T11:08:57.880

如果您的意思是数字应该以数字方式处理而不是字符串：

```
create table table1 (column1 text);
insert into table1 (column1) values
('z98'), ('k87'), ('a245'), ('a241'), ('d7'), ('e91'), ('e32'), ('b212'), ('r101'), ('r32')
;

select 
    substring(column1 from 1 for 1) as datatable, 
    substring(column1 from 2)::integer as "number"
from table1
order by 
    datatable, 
    "number"
;
 datatable | number 
-----------+--------
 a         | 241
 a         | 245
 b         | 212
 d         | 7
 e         | 32
 e         | 91
 k         | 87
 r         | 32
 r         | 101
 z         | 98
(10 rows) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:06:53.063

类似的东西`select 'a' || column from tableA union select 'b' || column from tableB ... order by column asc;`。
自己没有尝试过，但您应该研究一下。

# c++ - 在 C/C++ 中多次包含头文件

> ID：10877494
> 
> 赞同：48
> 
> 时间：2012-06-04T07:03:19.290
> 
> 标签：c++, c, header-files

在 C 或 C++ 中多次包含头文件是否有用？

如果从不使用该机制，为什么编译器会担心包含两次文件？如果它真的没用，如果新的编译器确保每个头文件只包含一次，会不会更方便？

编辑：

我知道有标准的做事方式，比如[include guards](http://en.wikipedia.org/wiki/Include_guard)和[pragma once](http://en.wikipedia.org/wiki/Pragma_once)，但你为什么还要指定呢？只包含一次文件不应该是编译器的默认行为吗？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-06-04T07:08:52.883

是的，它在使用预处理器生成代码或执行 Boost.PP 之类的技巧时很有用。

例如，请参阅 X 宏。基本思想是文件包含宏的主体和`#define`参数，然后`#include`是它。这是一个人为的例子：

宏.xpp

```
std::cout << MESSAGE;
#undef MESSAGE 
```

文件.cpp：

```
int main() {
# define MESSAGE "hello world"
# include "macro.xpp"
} 
```

这也允许您`#if`在参数上使用和朋友，这是普通宏无法做到的。

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2012-06-04T07:09:48.227

是的，多次包含标题*可能*很有用（尽管它相当不寻常）。典型的例子是`<assert.h>`，它的定义`asssert`不同，取决于是否`NDEBUG`定义。因此，包含它是有意义的，然后有一个（通常是有条件的）NDEBUG 定义，然后再次包含它，（至少可能）具有不同的定义`assert`：

> 根据包含的每个时间 `assert`的当前状态重新定义宏¹。`NDEBUG``<assert.h>`

然而，大多数标头都为了幂等而付出了一些努力（即，无论它们被包含的频率如何，都具有相同的效果）。

* * *

¹ C99，§7.2/1。

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2012-06-04T07:46:12.993

一个典型的例子（未经测试） - 要点是它考虑了一个枚举列表，因此它们在一个`enum`和流代码中一致地出现：

```
// states.h
X(Uninitialised)
X(Initialised)
X(Running)
X(Complete)
X(Shutdown)

// app.c++
#if defined(X)
# error X is already defined
#endif

enum States {
    #define X(TAG) TAG,
    #include "states.h"
    #undef X
    Extra_So_Trailing_Comma_Ignored
};

std::ostream& operator<<(std::ostream& os, const States& state)
{
    #define X(TAG) if (state == TAG) return os << #TAG;
    #include "states.h"
    #undef X
    return os << "<Invalid-State>";
} 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-06-04T07:06:11.160

是的，只包含一次会更方便，这就是您使用 #pragma once 的原因。在 C++ 中:)

编辑：

注意：#pragma once 是不可移植的。您可以使用

```
#ifndef FILENAME_H
#define FILENAME_H 
```

如果您希望它是可移植的，则在您的头文件顶部。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-06T11:36:37.517

每当您需要一些不想一次又一次地手动维护的“无聊”代码生成时，都可以使用多重包含。

经典示例是 C/C++ 枚举和相应的字符串，它们或多或少看起来像这样：

```
// MYENUM_VALUES.H
MYENUMVALUE(a)
MYENUMVALUE(b)
MYENUMVALUE(c)
MYENUMVALUE(d)

// MYENUM.H
#define MYENUMVALUE(x) x,
enum MyEnum
{
#include "MYENUM_VALUES.H"
}
#undef MYENUMVALUE

// MYENUMTOSTRING.C
#define MYENUMVALUE(x) case x : return #x;

const char * MyEnumToString(MyEnum val)
{
    switch (val)
    {
    #include "MYENUM_VALUES.H"
    default return "unknown";
    }
} 
#undef MYENUMVALUE 
```

* * *

## 回答 #6

> 赞同：-6
> 
> 时间：2012-06-04T07:09:17.120

```
#ifndef _INC_HEADER_
#define _INC_HEADER_

//header code

#endif 
```

`HEADER`标题名称在哪里

例如。`main_win.h`将会`_INC_MAIN_WIN_`

# java-me - J2ME 短信通知服务

> ID：10877497
> 
> 赞同：0
> 
> 时间：2012-06-04T07:03:48.863
> 
> 标签：java-me, sms

如何在从特定端口号接收短信时自动调用/唤醒我的应用程序？我如何在我的设备上检查这个有任何演示端口号可以尝试这个？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T07:34:34.357

只需学习并实现以下代码段，

**用于在特定端口上发送短信**

```
public class SendMessage 
{
    public static void execute(final String destination, final String port, final String message) 
    {
        Thread thread = new Thread(new Runnable() 
        {
            public void run() 
            {
                MessageConnection msgConnection;
                try 
                {
                    msgConnection = (MessageConnection)Connector.open("sms://"+destination+":" + port);
                    TextMessage textMessage = (TextMessage)msgConnection.newMessage(
                            MessageConnection.TEXT_MESSAGE);
                    textMessage.setPayloadText(message);
                    msgConnection.send(textMessage);
                    msgConnection.close();
                } 
                catch (IOException e) 
                {
                    e.printStackTrace();
                }
            }
        });

        thread.start();
    }
} 
```

**用于在特定端口上读取 SMS**

// 监听消息的线程

```
public class ListenSMS extends Thread 
{
    private MessageConnection msgConnection;
    private MessageListener listener;
    private String port;

    public ListenSMS(String port, MessageListener listener) 
    {
        this.port = port;
        this.listener = listener;
    }

    public void run() 
    {
        try 
        {
            msgConnection = (MessageConnection)Connector.open("sms://:" + port);
            msgConnection.setMessageListener(listener);
        } 
        catch (IOException e) 
        {
            e.printStackTrace();
        }
    }
} 
```

// 消息到达时

```
public void notifyIncomingMessage(MessageConnection conn) 
{
    Message message;
    try 
    {
        message = conn.receive();
        if (message instanceof TextMessage) 
        {
                    // here you invoke your application
            TextMessage tMessage = (TextMessage)message;
            formReceiver.append("Message received : "+tMessage.getPayloadText()+"\n");
        } 
        else 
        {
            formReceiver.append("Unknown Message received\n");
        }
    } 
    catch (InterruptedIOException e) 
    {
        e.printStackTrace();
    } 
    catch (IOException e) 
    {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
} 
```

# c# - 仅创建采用该类型实例的静态方法是不好的做法吗

> ID：10877510
> 
> 赞同：0
> 
> 时间：2012-06-04T07:04:43.300
> 
> 标签：c#, class-design

以这个类为例：

```
public class Account
{
    public string Code { get; set; }
    public string Description { get; set; }
    public DateTime CreatedOn { get; private set; }  

    public void Create()
    {
        // Invoke with new Account({...}).Create();
    }

    //Or

    public static void Create(Account account)
    {
        // Invoke with Account.Create(new Account({...}));
    }
} 
```

这两种`Create()`方法都将做同样的事情，但正如您所见，它们的调用方式不同。一种比另一种更好的做法吗？有没有写这样的代码的术语？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T07:30:04.347

在这种情况下，我建议您不要使用静态方法，因为您应该创建很多帐户，并且每个帐户都有自己不同的属性。但是我觉得这个方法`Create()`没有意义，因为可以直接使用构造函数来设置账号。所以我会这样做：

```
public class Account
{
      public string Code { get; set; }
      public string Description { get; set; }
      public DateTime CreatedOn { get; private set; }  

      public Account()
      {
          Description = string.Empty;
          CreatedOn = DateTime.Now;
          //Code = ...
      }

      public Account(string Description)
      {
          this.Description = Description;
          CreatedOn = DateTime.Now;
          //Code = ...
      }
} 
```

Ant 然后我将创建另一个类来管理帐户：

```
class AccountsManagement
{
      public List<Account> Accounts
      {
           get;
           set;
      } 

      public AccountsManagement()
      {
           Accounts = new List<Account>();
      }

      //...   

      public void Create()
      {
           Accounts.Add(new Account();
      }

      public void Create(string Description)
      {
           Accounts.Add(new Account(Description);
      }

      //Or

      public void AddAccount(Account account)
      {
           Accounts.Add(account);
      }

      //Find(), Delete()...
} 
```

所以继续演讲使用静态方法是不错的做法，但只有在适当的时候才应该使用它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:23:17.107

一般来说，我不知道这是好还是坏的做法。但是，在您给出的示例中，我倾向于“不良做法”（而且我想不出任何有用的理由将类型的实例传递给在该类型上声明的静态方法）。

当然，在您的示例中，您（IMO）正在创建一个不清楚的 API。我不确定是否；

*   Account.Create 旨在为帐户发出数据存储请求（当然属于您的对象模型中其他地方的功能）
*   是使用一些默认参数集创建 Account 实例的某种“便利”方法（可以说在 Account 的构造函数中会更好）
*   表示复制构造函数（在这种情况下，它应该是构造函数）
*   是 AccountFactory 的廉价实现（在这种情况下，您应该创建一个工厂！）

另一个考虑因素是测试 - 在对调用它们的任何东西进行单元测试时，静态方法可能会带来困难，因为它们可能不容易模拟或存根。

除此之外，从技术上讲，这并没有任何本质上的“错误”。但是，它会以其他方式影响您的设计（例如；由于它不是实例，因此无法访问实例成员）。

因此，我认为这种方法可能会导致一些混乱，但是，它也可能完全适合您的情况！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T07:34:01.967

如果方法的静态版本和实例版本都做同样的事情，那么我肯定会使用实例方法版本。有几个原因：

1.  **少写代码**。你宁愿不断地写`Account.Create(accountObj);`还是只是`accountObj.Create();`？
2.  **智能感知**。当我有一个自定义对象并且我不记得我对它所做的所有方法时，它通常可以帮助我键入`accountObj.`并获取下拉菜单以查看它使用的方法。如果您使用静态版本，该方法将不会显示，您可能需要几秒钟来记住如何使用/查找该`Account.Create()`方法。
3.  **这很有意义**。如果您有一个适用于自定义对象的单个实例的方法，那么它就是一个实例方法。

在我看来，在实例上使用静态版本的唯一原因是，如果您需要阻止该`Create()`方法访问帐户对象的私有成员。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-04T07:38:23.697

我能想到使用像您的 Create 这样的静态方法的唯一原因是您将默认构造函数设为私有，并希望仅通过您的辅助方法控制实例的创建。
这种设计实际上被微软的表达式树框架使用，你通过表达式类的静态方法创建实例，但是它们之间也有更复杂的抽象类层次结构

# java - 用于创建加密 SAML 断言的 Java 代码

> ID：10877513
> 
> 赞同：2
> 
> 时间：2012-06-04T07:05:12.267
> 
> 标签：java, single-sign-on, saml, saml-2.0, opensaml

如何在 java 中创建加密的 saml2.0 断言？

[从http://www.capcourse.com/Library/OpenSAML/index.html](http://www.capcourse.com/Library/OpenSAML/index.html)下载的示例项目

我是新手..有人可以提供这样做的步骤或链接..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-16T11:46:40.090

检查[此](https://wiki.shibboleth.net/confluence/display/OpenSAML/OSTwoUserManual)以获取一般信息

[这](https://wiki.shibboleth.net/confluence/display/OpenSAML/OSTwoUserManJavaXMLEncryption)是一个加密和解密示例。在使用它的功能之前不要忘记 BOOTSTRAP OpenSAML2，这是最常见的错误之一。

# perl - 在 Fedora17 上运行 Perl 时，打印语句没有输出

> ID：10877515
> 
> 赞同：0
> 
> 时间：2012-06-04T07:05:16.700
> 
> 标签：perl, fedora

我正在尝试在 Fedora17 上运行 Perl ...

这是我的perl代码...

```
#!/usr/bin/perl
print "test\n"; 
```

我已将它保存在桌面并使用 kconsole、perl test1.pl 运行我期待在我的屏幕上出现输出“测试”......但是，什么也没有出现......

我已经在 Fedora 支持论坛上问过了。但是，我也想问 Stackoverflow 社区...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-08T15:12:35.257

实际上代码有一个错误，它被指出并且问题已关闭..问题以'#'开头..vi编辑器意外添加了一个哈希，当我们在fedora17上运行vi时，这个问题发生了……它被报告给了 Fedora 社区！想知道评论和答案发生了什么！

# sharepoint-2010 - Another lists on site (Sharepoint 2010)

> ID：10877516
> 
> 赞同：0
> 
> 时间：2012-06-04T07:05:31.303
> 
> 标签：sharepoint-2010, spweb, spcontext

This is a question I can't handle, so please, give me some advice.

Here is my code for getting names of all lists:

```
private List<string> GetAllLists()
    {
        site = SPContext.Current.Site;
        web = site.OpenWeb();
        List<string> listNames = new List<string>();
        var count = web.Lists.Count;
        for (int i = 0; i < count; i++)
        {
            listNames.Add(web.Lists[i].Title);
        }
        return listNames;
    } 
```

It works, all ok. But when I want to connect to my sharepoint site from the internet or from phone, this method returns different names. All of them. Can you explain to me, why does this happens and what do I need to change?

Thanks!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T11:00:27.407

Assuming you're looking at the same site when you connect, (some of the) list names may be translated and you're getting a different result depending on the language your UI is running.

See [SPList.TitleResource on MSDN](http://msdn.microsoft.com/en-us/library/microsoft.sharepoint.splist.titleresource.aspx) for an example of how to get the list name in different languages.

# version-control - 合并文件时忽略某些*行*

> ID：10877518
> 
> 赞同：1
> 
> 时间：2012-06-04T07:05:37.153
> 
> 标签：version-control, mercurial, diff

我有一个带有两个分支的存储库，`A`并且`B`.

它们应该是相同的代码，但针对它们所依赖的库的不同版本。

所以`A/file1.js`可能有一个片段，如下所示：

```
this.actor.bar(); 
```

虽然`B/file1.js`可能有：

```
// `bar` had its name changed to `foo` in version X.Y of library Z
this.actor.foo(); 
```

然后我继续`A`说，做了一大堆与库的两个版本兼容的更改，`Z`并希望将它们合并到`B`.

**有什么办法可以告诉 mercurial，“进行合并但忽略`*.bar()`变为的行`*.foo()`”？**

基本上有一些代码块在分支之间`A`以及`B`它们所依赖的库版本不同，但我编写的代码使得除了这些行之外，其余代码是相同的。

我只是不想每次合并时都处理这些代码块，因为否则我更容易捏造合并并切换其中一些块。

我唯一能想到的就是以某种方式为每个文件设置不同的差异预设，每个文件调用每个文件`diff --ignore-matching-lines [impressively_long_argument]`都是自定义的——这似乎是错误的做法！

（我可以在 git 中执行此操作吗？这是一个我会切换版本控制系统的功能，尽管我不知道如何实现它。或者解决方案可能在于找到一个复杂的`diff`工具）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T15:28:49.650

Git 和 Mercurial 都比您想象的更容易处理这个问题（并且比 svn 或 CVS 更容易）。那是因为 git 和 Mercurial 合并*更改*而不是*差异*。

如果您有两个分支 A 和 B，并且在执行此操作时已更改`bar`为`foo`在分支 A 中：

```
hg update B
hg merge A 
```

它将合并当前 A 中尚未合并到 B中的所有*变更集*`bar`。这将包括您要`foo`更改的内容，您必须手动排除该特定更改**，但只有一次**。

下次你这样做：

```
hg update B
hg merge A 
```

它将再次合并到 A 中当前尚未合并到 A 的所有变更集中，但是由于执行`bar`to的变更集`foo`已经被合并，所以A 有s 并且 B 有s**并不重要，**因为那现在正在合并的变更集中没有创建差异，该更改不会*应用于*B 并且您不必再次手动拒绝它。`foo``bars`

 *这是具有完整图历史的 CVS 带来的主要优势之一。您没有合并两个快照，而是将分支 A 中的新差异应用到分支 B，因此如果差异不是新的，您不必重新拒绝它——系统会记住，*“哦，我记得，你不想要那个”*。*

# blackberry-simulator - 黑莓模拟器无法运行

> ID：10877521
> 
> 赞同：0
> 
> 时间：2012-06-04T07:06:00.613
> 
> 标签：blackberry-simulator

我正在构建一个黑莓应用程序。当我运行/调试项目时，它给出了一个错误：

![在此处输入图像描述](../Images/612d0a16731479fd056a76daafb45fe7.png)

一次又一次。我已经清理了项目，重新启动了 eclipse，但没有任何变化。项目运行良好，但突然发生了这种情况！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T06:13:55.523

在您的模拟器或 JDE 安装目录中，您可以找到`clean.bat`可以从命令提示符运行它。如果您只是双击它几次，它可能无法正常运行。所以指向对应JDE模拟器目录的command.bat的路径，运行clean.bat。

希望这能解决您的问题。

# c# - C# 委托中的线程睡眠时间

> ID：10877523
> 
> 赞同：1
> 
> 时间：2012-06-04T07:06:09.227
> 
> 标签：c#, multithreading, delegates

我正在使用一些代表在线程中显示或更改表单上的某些内容。事件方法如下。

```
private void PictureBoxImageSet(PictureBox PictrBox, Image Img)
{
    try
    {
        PictrBox.BeginInvoke((ThreadStart)delegate()
        {
            PictrBox.Image = Img;
        });
        Thread.Sleep(FORM_ITEM_INVOKE_TASK_SLEEP_VALUE);
    }
    catch (Exception ex)
    {
        MessageBox.Show(ex.ToString());
    }
} 
```

我总是必须使用 Thread.Sleep() 方法吗？如果我删除它，我的软件将如何受到此更改的影响？在这类事件中，线程睡眠值是多少？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T07:09:37.977

调用 PictureBoxImageSet 函数的代码将继续进一步执行，而不会延迟 thread.sleep 中使用的时间。

如果您正在使用图片更改事件，那么如果其他线程根据图片数据执行某些工作，则可能会产生影响。

如果要同步完成这项工作，则调用 PictrBox.Invoke 方法并删除 thread.sleep。它将保证在进一步执行代码之前设置图像。

# vb.net - 底层连接已关闭：接收时发生意外错误

> ID：10877526
> 
> 赞同：0
> 
> 时间：2012-06-04T07:06:11.910
> 
> 标签：vb.net, wcf, rest

当我使用以下代码调用 restful 服务时，出现错误

> 底层连接已关闭：接收时发生意外错误。

代码：

```
 Const url As String = "http://localhost:8003/Tracker/Tracker.svc/GetTrackerDetails"

        ServicePointManager.MaxServicePointIdleTime = 500
        ServicePointManager.UseNagleAlgorithm = True
        ServicePointManager.Expect100Continue = True
        ServicePointManager.CheckCertificateRevocationList = True
        ServicePointManager.DefaultConnectionLimit = ServicePointManager.DefaultPersistentConnectionLimit

        req = DirectCast(WebRequest.Create(url), HttpWebRequest)
        req.Method = "POST"
        req.ContentType = "application/xml; charset=utf-8"
        req.Timeout = 300000
        req.KeepAlive = False
        req.Headers.Add("SOAPAction", url)

        Dim xmlDoc = New XmlDocument With {.XmlResolver = Nothing}

        xmlDoc.Load(Server.MapPath("Request.xml"))
        Dim sXml As String = xmlDoc.InnerXml
        req.ContentLength = sXml.Length
        Dim sw = New StreamWriter(req.GetRequestStream())
        sw.Write(sXml)
        sw.Close()

        res = DirectCast(req.GetResponse(), HttpWebResponse)
        Dim responseStream As Stream = res.GetResponseStream()
        Dim streamReader = New StreamReader(responseStream)

        'Read the response into an xml document
        Dim soapResonseXmlDocument = New XmlDocument()
        soapResonseXmlDocument.LoadXml(streamReader.ReadToEnd())

        TextBox1.Text = Server.HtmlDecode(soapResonseXmlDocument.InnerXml)
        soapResonseXmlDocument.LoadXml(TextBox1.Text) 
```

在过去的几天里，我面临着这个错误。我的调用代码有什么问题。请帮帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:52:38.487

您应该在连接上安装一些日志记录，在这种情况下，我猜请求或响应对于客户端或服务器来说太大了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T03:54:56.453

当服务无法解析您的请求 XML 或在处理请求时出现未知异常错误时，可能会出现问题。

# java - 从 C 代码创建 JAVA 类

> ID：10877529
> 
> 赞同：2
> 
> 时间：2012-06-04T07:06:18.910
> 
> 标签：java, android, c, native-code, native-methods

我在java中有一个类，称为`XMLDOMDocument`这个类有一些方法`CreateXML`，`AddNode`等等`RemoveNode`。我在Java Native Interface的帮助下从C代码调用这个方法，但是为了做到这一点，我传递给我的JAVA类的C代码对象，然后通过调用`env->GetObjectClass(myclass)`我得到我的类来自该对象并调用 JAVA 类的方法。

我想知道我可以在不将我的类传递给 C 代码的情况下做同样的事情（调用 JAVA 方法）。我可以直接在 C 代码中创建 JAVA 类，然后调用它的方法吗？

***已编辑***

如果我的 C 代码中有 JavaVM，我可以借助该 Java VM 在 C 代码中创建一个新的 JAVA 类实例。

***已编辑***

我想我发现了一些有用[的东西 创建 Java 虚拟机](http://java.sun.com/docs/books/jni/html/invoke.html)，但我想了解必须说明什么价值`#define USER_CLASSPATH`？如果那必须是包名`com.fido.android.framework.service`

```
public class Prog {
     public static void main(String[] args) {
          System.out.println("Hello World " + args[0]);
     }
 }

#include <jni.h>

 #define PATH_SEPARATOR ';' /* define it to be ':' on Solaris */
 #define USER_CLASSPATH "." /* where Prog.class is */

 main() {
     JNIEnv *env;
     JavaVM *jvm;
     jint res;
     jclass cls;
     jmethodID mid;
     jstring jstr;
     jclass stringClass;
     jobjectArray args;

 #ifdef JNI_VERSION_1_2
     JavaVMInitArgs vm_args;
     JavaVMOption options[1];
     options[0].optionString =
         "-Djava.class.path=" USER_CLASSPATH;
     vm_args.version = 0x00010002;
     vm_args.options = options;
     vm_args.nOptions = 1;
     vm_args.ignoreUnrecognized = JNI_TRUE;
     /* Create the Java VM */
     res = JNI_CreateJavaVM(&jvm, (void**)&env, &vm_args);
 #else
     JDK1_1InitArgs vm_args;
     char classpath[1024];
     vm_args.version = 0x00010001;
     JNI_GetDefaultJavaVMInitArgs(&vm_args);
     /* Append USER_CLASSPATH to the default system class path */
     sprintf(classpath, "%s%c%s",
             vm_args.classpath, PATH_SEPARATOR, USER_CLASSPATH);
     vm_args.classpath = classpath;
     /* Create the Java VM */
     res = JNI_CreateJavaVM(&jvm, &env, &vm_args);
 #endif /* JNI_VERSION_1_2 */

     if (res < 0) {
         fprintf(stderr, "Can't create Java VM\n");
         exit(1);
     }
     cls = (*env)->FindClass(env, "Prog");
     if (cls == NULL) {
         goto destroy;
     }

     mid = (*env)->GetStaticMethodID(env, cls, "main",
                                     "([Ljava/lang/String;)V");
     if (mid == NULL) {
         goto destroy;
     }
     jstr = (*env)->NewStringUTF(env, " from C!");
     if (jstr == NULL) {
         goto destroy;
     }
     stringClass = (*env)->FindClass(env, "java/lang/String");
     args = (*env)->NewObjectArray(env, 1, stringClass, jstr);
     if (args == NULL) {
         goto destroy;
     }
     (*env)->CallStaticVoidMethod(env, cls, mid, args);

 destroy:
     if ((*env)->ExceptionOccurred(env)) {
         (*env)->ExceptionDescribe(env);
     }
     (*jvm)->DestroyJavaVM(jvm);
 } 
```

我还想知道将类对象从 java 传递到 C 和在 C 中直接创建 java 类之间的区别

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T08:27:32.083

CLASSPATH 的定义方式应该与您在启动 Java 虚拟机时传递它的方式相同。因此，如果您想在 com.fido.android.framework.service 包中创建一个类，您可以将生成的 C 可执行文件放在某个目录中，并将编译后的 Java 类放在 com/fido/android/framework/service 中子目录。这样您就不需要更改 CLASSPATH 定义

包名应该在 FindClass 调用中传递：

```
cls = (*env)->FindClass(env, "com/fido/android/framework/service/Prog"); 
```

# file-upload - 接收文件上传服务（反向CDN）

> ID：10877531
> 
> 赞同：2
> 
> 时间：2012-06-04T07:06:28.087
> 
> 标签：file-upload, upload

有许多服务可用于*向*用户提供内容。我正在寻找相反的东西：用于接收用户上传*的*内容的服务。

具体来说，我正在构建一个网络应用程序，其中上传的文件可能从 10MB 到 100MB 不等。我预计接收这么多数据会有很多问题，而我正在寻找的是为我处理这些问题的服务。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-21T15:45:08.170

您可以使用 Amazon S3 接收来自用户的上传。您可以生成一个签名的 HTML 表单，让您的用户将文件上传到指定的存储桶；您可以使用政策文件控制表格的到期时间。

[Amazon S3 开发人员指南：使用 POST 进行基于浏览器的上传](http://docs.amazonwebservices.com/AmazonS3/latest/dev/UsingHTTPPOST.html)

[文章：浏览器使用 HTML POST 表单上传到 S3](http://aws.amazon.com/articles/1434)

截至 2016 年 4 月，他们还有一个名为[Transfer Acceleration](https://docs.aws.amazon.com/AmazonS3/latest/dev/transfer-acceleration.html)的新功能，它在精神上更接近用于文件上传的实际“反向 CDN”。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-11T12:20:40.570

[Uploadcare](https://uploadcare.com)旨在减轻您接收、存储、处理和分发来自用户的文件和图像的痛苦。试试看，有[免费](https://uploadcare.com/accounts/create/free)计划。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-22T06:09:48.947

您实际上可以通过在您的网络应用程序中使用 HTML5/Flash 上传器来解决这个问题，而无需支付第三方费用。我特别推荐[Plupload](http://www.plupload.com/)（免费、开源）。它是一个 javascript 库，它使用客户端前端（HTML5、Flash、Silverlight 等）的选择来处理上传文件，这种方式不会触发浏览器超时，并允许用户查看他们的上传进度（具有 10Mb 限制的[演示）。](http://www.plupload.com/example_queuewidget.php)

除了脚本之外，您只需要服务器上的后端即可接收数据。您需要注意可能触发服务器端超时的任何事情，例如 PHP 的 MAX_FILE_SIZE 或请求超时。

plupload 包附带了示例前端和后端脚本，因此您应该可以快速启动并运行。

我已经使用 plupload 上传了 80Mb 的文件，所以我知道它可以工作。在典型的 DSL 连接上它会很慢，但没有上传服务可以避免这种情况。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-21T17:06:31.857

其他几个选项：

[https://www.yousendit.com/](https://www.yousendit.com/)

[http://www.uploadthingy.com/](http://www.uploadthingy.com/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-20T03:56:32.270

好像您正在寻找类似[Amazon S3](http://aws.amazon.com/s3/pricing/)或[Google Storage](https://developers.google.com/storage/)的东西。两者都有专用的 API，您只需为使用的存储付费。他们都有各种语言的库，以使集成更容易。

# xcode - Mac 二维码阅读器开发

> ID：10877540
> 
> 赞同：-2
> 
> 时间：2012-06-04T07:07:48.680
> 
> 标签：xcode, macos, qr-code

我正在尝试为 Mac 创建一个用于 QR 码解码的 Mac 应用程序。我找不到任何可以帮助我的图书馆。我找到了 Zbar，但它仅适用于 iphone，并且不支持外部 USB 摄像头。有没有人为 Mac 创建了一个 QR 码编码和解码应用程序以及如何创建的？如果有任何适用于 Mac 的库或我该如何继续，请提供帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T14:21:04.520

在[objc](http://code.google.com/p/zxing/source/browse/trunk/objc)目录中的[ZXing](http://code.google.com/p/zxing/)中有对 Cocoa 的支持。包装很粗糙，示例方式不多，但这是一个开始。

# android - Android动态图表

> ID：10877541
> 
> 赞同：0
> 
> 时间：2012-06-04T07:07:53.883
> 
> 标签：android, dynamic, graph, achartengine

我参考了@Caroilik [Android Dynamic Chart](https://stackoverflow.com/q/8878573/1434546)关于使用 Achartengine 绘制图表的答案。我正在尝试使用他提供的代码绘制三行，但似乎无法弄清楚如何做到这一点。任何人都可以帮忙吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-27T15:29:46.950

您必须`timeSeries`在`dataset`. 您必须通过移动一些实例来解决一些竞争条件。

多个系列的`dataset`and `renderer`where 已经存在。

```
import java.util.Date;
import java.util.Random;

import org.achartengine.ChartFactory;
import org.achartengine.GraphicalView;
import org.achartengine.chart.PointStyle;
import org.achartengine.model.TimeSeries;
import org.achartengine.model.XYMultipleSeriesDataset;
import org.achartengine.renderer.XYMultipleSeriesRenderer;
import org.achartengine.renderer.XYSeriesRenderer;

import android.app.Activity;
import android.graphics.Color;
import android.os.Bundle;
import android.util.Log;

public class ThreeTimeChart extends Activity {

    private static Random random = new Random();

    private static TimeSeries[] timeSeries;
    private static XYMultipleSeriesDataset dataset;
    private static XYMultipleSeriesRenderer renderer;
    private static XYSeriesRenderer rendererSeries;
    private static GraphicalView view;
    private static Thread mThread;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);     

        dataset = new XYMultipleSeriesDataset();

        renderer = new XYMultipleSeriesRenderer();
        renderer.setAxesColor(Color.BLUE);
        renderer.setAxisTitleTextSize(16);
        renderer.setChartTitle("Time");
        renderer.setChartTitleTextSize(15);
        renderer.setFitLegend(true);
        renderer.setGridColor(Color.LTGRAY);
        renderer.setPanEnabled(true, true);
        renderer.setPointSize(10);
        renderer.setXTitle("Time");
        renderer.setYTitle("Number");
        renderer.setMargins( new int []{20, 30, 15, 0});
        renderer.setZoomButtonsVisible(true);
        renderer.setBarSpacing(10);
        renderer.setShowGrid(true);

        rendererSeries = new XYSeriesRenderer();
        rendererSeries.setColor(Color.RED);
        rendererSeries.setFillPoints(true);
        rendererSeries.setPointStyle(PointStyle.CIRCLE);
        renderer.addSeriesRenderer(rendererSeries);
        rendererSeries = new XYSeriesRenderer();
        rendererSeries.setColor(Color.BLUE);
        rendererSeries.setFillPoints(true);
        rendererSeries.setPointStyle(PointStyle.CIRCLE);
        renderer.addSeriesRenderer(rendererSeries);
        rendererSeries = new XYSeriesRenderer();
        rendererSeries.setColor(Color.YELLOW);
        rendererSeries.setFillPoints(true);
        rendererSeries.setPointStyle(PointStyle.CIRCLE);
        renderer.addSeriesRenderer(rendererSeries);

        timeSeries = new TimeSeries[3];
        timeSeries[0] = new TimeSeries("Random 0");
        timeSeries[1] = new TimeSeries("Random 1");
        timeSeries[2] = new TimeSeries("Random 2");
        timeSeries[0].add(new Date(), random.nextInt(10));
        timeSeries[1].add(new Date(), random.nextInt(10));
        timeSeries[2].add(new Date(), random.nextInt(10));
    }

    @Override
    protected void onStart() {
        super.onStart();
        dataset.addSeries(timeSeries[0]);
        dataset.addSeries(timeSeries[1]);
        dataset.addSeries(timeSeries[2]);
        view = ChartFactory.getTimeChartView(this, dataset, renderer, "Test");
        view.refreshDrawableState();
        view.repaint();
        setContentView(view);
        mThread = new Thread(){
            public void run(){
                while(true){
                try {
                    Thread.sleep(2000L);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
                    timeSeries[0].add(new Date(), random.nextInt(10));
                    timeSeries[1].add(new Date(), random.nextInt(10));
                    timeSeries[2].add(new Date(), random.nextInt(10));
                    view.repaint();
                }
            }
        };
        mThread.start();
    }
} 
```

# vb.net - 如何在 Windows 7 或使用 vb.net 2010 上禁用屏幕保护程序、睡眠、锁定、休眠

> ID：10877545
> 
> 赞同：0
> 
> 时间：2012-06-04T07:08:09.490
> 
> 标签：vb.net, windows-7, power-management, screensaver

我不知道是否可能以及如何编码。

我创建了一个需要在 Windows 7 上以非管理员帐户运行的应用程序。如果 PC 进入睡眠/锁定/休眠/屏幕保护程序，它将无法运行。所以，我想使用 vb.net 2010 以编程方式禁用它们。任何人都可以帮助我吗？

顺便说一句，我已经尝试编辑 PC 的电源设置，使其永远不会休眠/休眠等。但不幸的是，它在几个小时后继续休眠。任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T07:18:33.287

尝试这个：

```
Private Const SPI_SETSCREENSAVERACTIVE As Integer = 17

Private Declare Function SystemParametersInfo Lib "user32" _
    Alias "SystemParametersInfoA" (ByVal uAction As Integer, _
    ByVal uParam As Integer, ByRef lpvParam As Integer, _
    ByVal uWinIni As Integer) As Integer

Public Function SetScreenSaverActive(ByVal Active As Boolean) As Boolean

    Dim Result As Integer = SystemParametersInfo(SPI_SETSCREENSAVERACTIVE, CInt(Active), 0, 0)
    Return (Result > 0)

End Function 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:31:46.757

[SetThreadExecutionState](http://msdn.microsoft.com/en-us/library/windows/desktop/aa373208%28v=vs.85%29.aspx) ( [VB](https://stackoverflow.com/questions/2479403/stop-the-screen-saver-and-hibernation-temporarily-in-vb-net) ) 可用于通知系统它正在使用中。对于 CD 刻录机和类似的东西，您可能需要使用[ShutdownBlockReasonCreate](http://msdn.microsoft.com/en-us/library/windows/desktop/aa376877%28v=vs.85%29.aspx)。

# vb.net - LinQ Group.Average 截断我的值

> ID：10877546
> 
> 赞同：0
> 
> 时间：2012-06-04T07:08:11.473
> 
> 标签：vb.net, linq, average, linq-group

我有以下表结构：

温度

```
col1 = Product (Integer)  
col2 = Customer (Integer)  
col3 = Center (Integer)  
col4 = Date (Date)  
col5 = Price (Double)  
col6 = Sales (Double) 
```

此示例行：

```
1;1;1;01.01.2012;4.39;20000  
1;1;1;02.02.2012;4.46;15000  
1;1;1;03.03.2012;4.22;25000 
```

以及以下 Linq 查询：

```
For Each item In From u In tempDT.AsEnumerable
Group u By Product = u("Product"), Customer = u("Customer"), Center = u("Center") Into Group
Select Product, Customer, Center, Price = Group.Average(Function(g) g("Price")), Sales = Math.Round(Group.Sum(Function(g) CDbl(g("Sales"))), 2)

tmpDt.Rows.Add(item.Product, item.Customer, item.Center, item.Price, item.Sales)
Next 
```

但结果我得到以下行：1;1;1;4.0;60000

Group.Average 截断“价格”列，怎么了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T07:13:03.247

我不清楚哪个重载会选择，因为它在编译时不知道类型。你可以试试：

```
Group.Average(Function(g) g.Field(Of Double)("Price")) 
```

如果这没有帮助，您可能应该在进行 LINQ 查询*之前*仔细检查这些值是否真的没有被截断，例如在填充数据表时。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:43:54.837

您的查询相当不可读，看看我的更改（例如使用强类型[`DataRow.Field`](http://msdn.microsoft.com/en-us/library/bb360891.aspx#Y0)扩展方法）：

```
Dim groups = From u In tempDT.AsEnumerable
             Group u By Key = New With {
                 .Product = u.Field(Of Integer)("Product"),
                 .Customer = u.Field(Of Integer)("Customer"),
                 .Center = u.Field(Of Integer)("Center")
             } Into PCCroup = Group
             Select New With {
                 .PCC = Key,
                 .Price = PCCroup.Average(Function(u) u.Field(Of Double)("Price")),
                 .Sales = Math.Round(PCCroup.Average(Function(u) u.Field(Of Double)("Sales")), 2)
             }

For Each item In groups
    tmpDt.Rows.Add(item.PCC.Product, item.PCC.Customer, item.PCC.Center, item.Price, item.Sales)
Next 
```

# java - 在 Gradle 中为 Osgi 项目添加依赖项

> ID：10877560
> 
> 赞同：3
> 
> 时间：2012-06-04T07:09:09.710
> 
> 标签：java, osgi, gradle

我有几个想要使用 gradle 构建的 osgi 项目。

当我尝试构建“顶级”项目时，即没有所需捆绑包的项目，它就像我期望的那样工作。

问题是当我尝试构建一个具有多个必需捆绑包的项目时。我希望 gradle 会这么好，只是为我解决这一切，但它似乎并不像那样工作。我是否需要将所有必需的捆绑包/插件添加到依赖项/编译中，还是其他问题？

我像疯子一样用谷歌搜索，但我找不到任何有用的信息。

有没有人遇到过类似的情况？

# java - 显示、缩放和缩放巨大的自定义绘画

> ID：10877561
> 
> 赞同：0
> 
> 时间：2012-06-04T07:09:10.547
> 
> 标签：java, swing, zooming, jscrollpane, affinetransform

我必须绘制一些点和一个多边形来将它们连接在一起。自定义绘画将在带有 JScrollPane 的 JPanel 上完成，并通过 AffineTransformation 支持一些缩放/缩放。在将 JPanel 首选尺寸设置为由点坐标定义的所需尺寸并进行重新验证后，绘图将正确显示并且可以滚动。只要点坐标不超过数据类型整数、缩放和 Dimension 类的限制设置的某些限制，一切都很好。

示例：想象坐标处的四个点

```
(10000,10000), (10000,-10000), (-10000,10000), (-10000,-10000). 
```

它们定义了以原点为中心的正方形的角。我的paintComponent 方法的简写形式：

```
@Override
protected void paintComponent(Graphics g) {
    super.paintComponent(g);
    Graphics2D g2d = (Graphics2D) g;

    // Backup original transform
    AffineTransform originalTransform = g2d.getTransform();

    // Set virtual drawing area to scroll through, scaled by zoomfactor
    double viewZoomFactor = 1.0; // Will be set to other values != 1.0 later
    // Because of the points coordinates a rectangle of size 20000 by 20000 is required
    this.setPreferedSize(new Dimension(20000 * viewZoomFactor,20000 * viewZoomFactor));
    this.revalidate();

    // Move point of origin to the center 
    Point pointOfOrigin = new Point(10000, 10000);
    // Translate all points and revert y-direction
    AffineTransform t = AffineTransform.getTranslateInstance(
                pointOfOrigin.x, this.getHeight() - pointOfOrigin.y)
    t.scale(viewZoomFactor, -viewZoomFactor);
    g2d.transform(t);

    this.drawPointsAndPolygonOnPanel();

    // Restore original transform
    g2d.setTransform(originalTransform);
} 
```

虽然 zoomFactor == 1.0 一个像素等于一个坐标值。

由于它们的构造函数`Point(int, int)`，这些点可以通过 [Integer.MIN_VALUE, Integer.MAX_VALUE] 放置在 [Integer.MIN_VALUE, Integer.MAX_VALUE] 的平面内。JPanels 的首选大小是 type `Dimension(int,int)`。通常宽度和高度的值是非负整数。

现在问题来自于巨大的坐标值：想象一组像这样的点：

```
(Integer.MAX_VALUE,Integer.MAX_VALUE), 
(Integer.MAX_VALUE,Integer.MIN_VALUE), 
(Integer.MIN_VALUE,Integer.MAX_VALUE), 
(Integer.MIN_VALUE,Integer.MIN_VALUE) 
```

我的第一个想法是引入另一个比例因子来缩小所有坐标值：

```
t.scale(viewZoomFactor * dataZoomFactor, -viewZoomFactor * dataZoomFactor); 
```

这将导致像素与坐标值的比率降低：viewZoomFactor = 1.0 处的 1 个像素 = 1/dataZoomFactor 坐标值。

当要绘制的点放置在上述极端位置时，如何实现整个绘图的 1:1 缩放、可滚动的可见部分？如果 viewZoomFactor > 1.0（放大镜）怎么办？

# sql - SQL中每日频率计算的季度数据？

> ID：10877564
> 
> 赞同：1
> 
> 时间：2012-06-04T07:09:21.767
> 
> 标签：sql, sql-server, sql-server-2008, tsql, date

我的问题是我有一些季度数据，但需要每天使用另一个每日值重新计算。基本上，我正在处理季度财务数据，但我需要使用每日价格数据重新计算每日频率的一些比率。在下面的这种情况下，每季度给我一个 c.atq 和 c.csh12q 的值，每天给我一个 s1.prccd 的值。我需要使用当前的 s1.prccd 计算当前 c.atq 的比率。当 c.atq 在季度末发生变化时，该过程应继续使用新值。

```
 select s1.DATADATE, c.ATQ, s1.PRCCD, c.ATQ/(s1.PRCCD*c.CSH12Q) as PATQ
 from sec_dprc s1 
 left outer join co_ifndq c 
 on s1.GVKEY = c.GVKEY
 and s1.DATADATE = c.DATADATE
 where s1.GVKEY = 008068
 order by s1.DATADATE 
```

这是结果的小表：

```
DATADATE            ATQ     PRCCD   PATQ
19/12/1984 00:00    NULL    28      NULL
20/12/1984 00:00    NULL    27.25   NULL
21/12/1984 00:00    NULL    27.5    NULL
24/12/1984 00:00    NULL    27.5    NULL
26/12/1984 00:00    NULL    27.5    NULL
27/12/1984 00:00    NULL    27.625  NULL
28/12/1984 00:00    NULL    27.75   NULL
31/12/1984 00:00    12273   28      4.400022371
02/01/1985 00:00    NULL    27.5    NULL
03/01/1985 00:00    NULL    26.75   NULL
04/01/1985 00:00    NULL    25      NULL
07/01/1985 00:00    NULL    24      NULL
08/01/1985 00:00    NULL    25      NULL
09/01/1985 00:00    NULL    25.375  NULL 
```

我需要在接下来的所有每日日期中复制 c.ATQ 的值，直到它在下个季度发生变化。

谢谢！！

第2部分：

```
GVKEY   rankx   rdq                 QTR ATQ         CSH12Q  DATADATE
008068  2   1984-02-03 00:00:00.000 1   11775.402   96.569  1983-12-31 00:00:00.000
008068  3   1984-05-07 00:00:00.000 2   11428.602   96.751  1984-03-31 00:00:00.000
008068  4   1984-08-02 00:00:00.000 3   11642.902   98.104  1984-06-30 00:00:00.000
008068  5   1984-10-18 00:00:00.000 4   11654.5     98.984  1984-09-30 00:00:00.000 
```

相似地：

```
DATADATE                ATQ     PRCCD   PATQ    datadate    rdq
1984-01-31 00:00:00.000 NULL    28      NULL    NULL    NULL
1984-02-01 00:00:00.000 NULL    28.625  NULL    NULL    NULL
1984-02-02 00:00:00.000 NULL    27.875  NULL    NULL    NULL
1984-02-03 00:00:00.000 11775.2 26.75   4.55841 1983-12-31  1984-02-03 00:00:00.000
1984-02-06 00:00:00.000 NULL    27      NULL    NULL    NULL
1984-02-07 00:00:00.000 NULL    26.875  NULL    NULL    NULL
1984-02-08 00:00:00.000 NULL    25.75   NULL    NULL    NULL 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:22:38.030

如果还没有链接季度日期的密钥，则可以使用类似的东西来模拟 id

```
 select DATEPART(YYYY,datetimevalue) * 10 + DATEPART(q,datetimevalue) 
```

语法方面，使用 function 看起来会更好，但它应该通过将连接的 datetime 部分更改为：

```
 DATEPART(YYYY,s1.DATADATE) * 10 + DATEPART(q,s1.DATADATE) = DATEPART(YYYY,c.DATADATE) * 10 + DATEPART(q,c.DATADATE) 
```

如果这给出了双重记录，则可以使用公共表表达式（with）首先分别获取季度数据。

# flash - Adobe 是否放弃了 AIR 来开发移动应用程序？

> ID：10877578
> 
> 赞同：0
> 
> 时间：2012-06-04T07:10:36.200
> 
> 标签：flash, apache-flex, mobile, air, adobe

Adobe 是否像使用 flex 和 flash 播放器一样放弃了 AIR 来开发移动应用程序？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T11:55:25.097

请阅读 Adob​​e 的[Flash 平台路线图](http://www.adobe.com/devnet/flashplatform/whitepapers/roadmap.html)了解更多信息。

Adobe 正在使用 AIR 构建与 Creative Cloud 集成的所有触控工具。我个人认为这是对平台的承诺。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T14:48:21.030

我最近参加了一个[关于网络和移动开发未来的会议](http://www.futureinsightslive.com)，Adobe 在那里大力推动其[PhoneGap](http://phonegap.com/)平台。

# django - 我应该使用 request.POST 还是 form.cleaned_data 中的文本

> ID：10877580
> 
> 赞同：4
> 
> 时间：2012-06-04T07:10:54.593
> 
> 标签：django, django-forms, django-views

这听起来像是一个微不足道的问题，但这对我来说是一场战斗。

对于表单并点击提交，应该使用`form.cleaned_data`访问表单数据还是查找`request.POST`？

人们通常唯一要做的`request.POST`就是查看提交按钮。但是如果我创建了一个提交按钮作为一个小部件，我也可以在 form.cleaned_data 中查找它。问题是，其他表单数据呢？它们也可以查找`request.POST`。

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-04T07:19:44.137

虽然您可以直接访问 request.POST，但最好访问 form.cleaned_data。这些数据不仅已经过验证，还将为您转换为相关的 Python 类型。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-13T14:23:12.990

例如，您可以这样做：

```
class YourForm(forms.Form):
    test = forms.CharField(label='A test label', widget=forms.Textarea(attrs={"placeholder":"Your Placeholder", "rows":6, "cols":45}), max_length=150)

if request.method == "POST":
    form = YourForm(request.POST)
    if form.is_valid():
        cleaned_test = form.cleaned_data["test"] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T16:23:49.870

您永远不应该使用 request.POST 数据保存在数据库中，因为 form.clean_data 会遍历所有这些[https://docs.djangoproject.com/en/dev/ref/forms/validation/](https://docs.djangoproject.com/en/dev/ref/forms/validation/)并使您的数据可以安全处理。

# c# - 如何在 asp.net 中管理多线程以填充标签？

> ID：10877583
> 
> 赞同：0
> 
> 时间：2012-06-04T07:10:59.723
> 
> 标签：c#, asp.net, multithreading, c#-4.0, asynchronous

我的 aspx 页面中有一个按钮和两个标签，我想在标签中显示文本，几秒钟后我想在按钮单击上用不同的文本填充第二个标签我的代码是 **源文件**

```
<asp:UpdatePanel ID="UpdatePanel1" runat="server" UpdateMode="Conditional">
    <ContentTemplate>
<asp:Label ID="lblFirst" runat="server" Text=""></asp:Label> 
 <asp:Label ID="lblSecond" runat="server" Text=""></asp:Label>
<asp:Button ID="btnFirst" runat="server" Text="First" 
            onclick="btnFirst_Click" />
 </ContentTemplate>
        </asp:UpdatePanel> 
```

和**代码文件**

```
 protected void btnFirst_Click(object sender, EventArgs e)
            {
                first();
                second();
            }
            private void first()
            {
                I am Calling a method form my class file which returns a string , and assigning to label first
//class1 obj=new class1();
//string result=obj.first()
           // lblFirst.Text =result;
            }
            private void second()
            {
                   I am Calling a method form my class file which returns a string , and assigning to label Second
//class2 obj=new class2();
//string result1=obj.Second()             
                lblSecond.Text = result1;
            } 
```

我收到两个回复，我想显示我得到的第一个回复而不等待第二个回复，并且在获得第二个回复后应该立即显示而不会丢失第一个回复，请给我任何紧急建议， **是否有任何其他程序可以获得这样的输出**

谢谢赫曼思

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T07:25:39.647

您不能在服务器代码中进行这样的延迟。在服务器代码呈现页面之前，页面不会发送到浏览器，这发生在控制事件之后。代码将等待七秒钟，然后呈现页面并将其发送到浏览器。

您必须使用客户端代码来获得您所追求的体验。服务器在发送到浏览器后无法将更改推送到网页。

```
protected void btnFirst_Click(object sender, EventArgs e) {
  string code =
    "window.setTimeout(function(){document.getElementById('" + lblFirst.ClientID + "').innerHTML='first filled'},1000);"+
    "window.setTimeout(function(){document.getElementById('" + lblSecond.ClientId + "').innerHTML='Second filled'},7000);";
  Page.ClientScript.RegisterStartupScript(this.GetType(), "messages", code, true);
} 
```

# c# - 使用 ASP.NET FormView 显示和更新混合数据源

> ID：10877585
> 
> 赞同：0
> 
> 时间：2012-06-04T07:11:09.743
> 
> 标签：c#, asp.net, objectdatasource, formview

我在 ASP.Net Webform 上有一个 FormView 和一个 ObjectDataSource。

现在，我要显示并允许编辑的数据如下：

访问所有这些属性的唯一方式：组织 ID

**公司**从 DB **LDAP 服务器**从/到 DB，KeyValuePair-like 表 **域名**从/到 DB，KeyValuePair-like 表 **使用 DHCP**从/到 DB，KeyValuePair-like 表 从/到 WMI 实用程序类的**IP 地址**，无存储在来自/到 WMI 实用程序类的 DB **子网掩码中，在 DB 中没有存储**

所以，我需要以某种方式在运行时创建一个类型为...嗯... SystemSetting 的实体并将其提供给 ObjectDataSource，它会处理 FormView 食物源。编辑时，我需要切换到编辑模式，更新时，我需要检索值/系统设置实体并手动将值分派到各自的位置。

现在我永远不会创建一个新实体。它总是显示和更新。并且永远只有一个实体。

那是理论。任何快速指针？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T09:57:06.610

最简单的解决方案是只创建一个`SystemSetting`具有您提到的类型的公共自动属性的类，然后从中制作`List<SystemSetting>`出来，并将其提供给`ObjectDataSource`（如果您的表没有固定长度，则使用 foreach 循环添加控制他们的`DataBinding`事件）。

在编辑时，如果您的表具有固定长度，那么只需双向数据绑定所有内容并且一切就绪，您将自动获得更新方法的更新`SystemSetting`类。`ObjectDataSource`

如果没有，则只需自己处理更新事件（指定幻像更新方法`ObjectDataSource`并立即取消它），逐个读取输入字段（将它们分组在每个表的单独容器下，或者让它们共享前缀或后缀id，所以你知道它们属于哪里），并将值发送到它们各自的位置。

您必须提供更多详细信息，或者更好的是代码示例，以获得更完整的解决方案。

# php - 如何将url ip隐藏到子域名

> ID：10877588
> 
> 赞同：0
> 
> 时间：2012-06-04T07:11:43.783
> 
> 标签：php, .htaccess

我是新来的。我想将 ip address/~foldername/ url 隐藏到域名 url，以便 url 中的地址更改为新 url 但它应该指向同一个目标文件夹？需要帮助

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T07:19:23.597

您需要设置一个重写规则`www.domain.com/folder`以重定向到`example.domain.com`（如果您想要另一个，这是您的新 url 更改）。然后设置 example.domain.com 要么谎报它是谁和在哪里，要么将 example.domain.com 上页面中的所有链接修复为`explicitly go to` [http://www.domain.com/folder](http://www.domain.com/folder)。

在 www.domain.com 的根 .htaccess 文件中：（重定向到子域）

```
RewriteRule ^folder/(.*) http://example.domain.com/$1 [R, L] 
```

# spring-mvc - 使用 JQueryMobile 创建一个 Spring MVC

> ID：10877589
> 
> 赞同：1
> 
> 时间：2012-06-04T07:11:46.477
> 
> 标签：spring-mvc, jquery-mobile

我必须使用 Spring MVC 和 Hibernate 创建一个 Web 应用程序。但条件是网络应用程序应该可以在所有智能手机（iPhone、Android、平板电脑以及桌面）上访问。

如果我使用的是手机，这意味着将显示更少的信息，如果我使用的是桌面，则将显示完整的站点。这意味着我需要为所有视图创建两种页面。

我指的是 JQuery Mobile，但不确定这些选择我能走多远。

如果我为所有设备和桌面呈现相同的 HTML。也请就此发表您的意见。

请指导我如何实现它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T08:21:45.230

Spring 提供了一个单独的框架来实现移动 web 应用程序。请检查此[链接](http://www.springsource.org/spring-mobile)以获取更多详细信息。

希望这对您有所帮助。干杯。

# coldfusion - cfchart x 轴间隔

> ID：10877590
> 
> 赞同：4
> 
> 时间：2012-06-04T07:11:58.617
> 
> 标签：coldfusion, cfchart, coldfusion-10

我在 CF10 中创建了一个 cfchart，它有 168 个数据点 - 即一周中的每个小时一个。我遇到的问题是 x 轴标签有点到处都是，这取决于我制作图表的宽度，例如目前它们是

```
1,4,7,14,22,30,38...103,115,127,129,151,168 
```

这对最终用户来说并不是那么直观。有没有办法定义特定的间隔来显示？例如，理想情况下，我希望间隔为：

```
0,24,48,72...168 
```

这可能吗？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T17:27:27.490

您可以通过使用 ColdFusion 附带的 WebCharts java 应用程序构建您自己的自定义图表 XML 来做到这一点，但是没有办法使用 cfchart 标记的内置属性来做到这一点。有[几篇](http://www.cfinsider.com/index.cfm/2009/11/25/Complex-Charting-in-ColdFusion-with-WebCharts)在线文章（搜索[ColdFusion Webcharts](http://www.google.com/search?client=safari&rls=en&q=coldfusion%20webcharts&ie=UTF-8&oe=UTF-8)）可以向您展示如何开始使用自定义图表。

# ios4 - Icon-72.png : 图标必须是 PNG 格式

> ID：10877592
> 
> 赞同：0
> 
> 时间：2012-06-04T07:12:24.350
> 
> 标签：ios4

我为 iphone/ipad 创建了一个应用程序。我被采取了应用程序徽标名称 Icon-72.png 格式。当我从应用程序加载器上传时，它显示一条错误消息

> Icon-72.png : 图标必须是 PNG 格式

请帮我做什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T07:30:20.417

可能是图标属性问题。[您可以使用网址http://iconverticons.com](http://iconverticons.com)转换图标。它帮助到我。希望它会为你做。

# java - Google AppEngine URL 查询字符串参数未传递给 Jersey GET 处理程序

> ID：10877594
> 
> 赞同：1
> 
> 时间：2012-06-04T07:12:34.793
> 
> 标签：java, google-app-engine, jersey

我已经使用 Jersey 实现了一种测试方法，可以在我的 Google AppEngine 本地开发服务器上运行。方法签名是：

```
@GET
public String sayHello(@QueryParam ("name") String id) 
```

我在我的网络浏览器中输入以下网址进行测试：

```
http://127.0.0.1:8888/sayhello?name=bill 
```

，于是浏览器收到预期的“你好，账单”响应。

但是，当我将此 appengine 应用程序部署到云时，我没有得到预期的响应。该名称将 null 回显为“Hello,”。我记录了收到的 QueryParam 值，并且日志确认查询参数没有传递到方法中。

```
code.rest.impl.Test sayHello: name QueryParam received is:null 
```

如果我还分配了@DefaultParam，则声明的默认参数会按预期替换空值。

为什么部署的云应用收不到 URL 查询参数，而本地开发服务器却正确接收？是否有我需要修改的安全配置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T18:16:27.777

我确定了为什么这不起作用。实际上有两个原因，但主要原因是我正在转发来自未注册 Google AppEngine 域的域的请求。两个请求都完好无损地收到，但查看日志，它们的处理方式不同。

从我无法控制的 Google Apps 域或任何常规域转发：

```
2012-06-04 13:18:48.146 /sayHello 200 443ms 0kb Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:12.0) Gecko/20100101 Firefox/12.0

12.216.181.76 - - [04/Jun/2012:10:18:48 -0700] "GET /program/sayHello?name=bill InfoByID HTTP/1.1" 200 52 "http://somedomain.org/sayHello?name=bill" 
```

来自我控制并与此 AppEngine 实例相关联的 Google Apps 域（请注意报告/处理请求的方式的差异）：

```
2012-06-04 13:18:41.312 /sayHello?name=bill 200 44ms 0kb Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:12.0) Gecko/20100101 Firefox/12.0

12.216.181.76 - - [04/Jun/2012:10:18:41 -0700] "GET /sayHello?name=bill HTTP/1.1" 200 169 - "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:12.0) Gecko/20100101 Firefox/12.0"... 
```

这不起作用的另一个（令人尴尬的）叠加原因是我从浏览器发出端口 443 请求来测试 Web 服务，因为我使用了一个自动添加 https: 的 Firefox 插件，而这只是一个 http Web 服务。

# c++ - 替换字符，如 replaceAll(string, start, end, '_', '-')

> ID：10877596
> 
> 赞同：1
> 
> 时间：2012-06-04T07:12:37.397
> 
> 标签：c++, stl, replace

我想`text=s_o_m_e=text`用`text=s-o-m-e=text`

我有一个开始和结束索引：

```
std::string str("text=s_o_m_e=text");

std::string::size_type start = str.find("text="), end;

if (start != std::string::npos) {
    end = str.find("=", start);

    if (end != std::string::npos) {
        //...
    }
} 
```

所以，我正在寻找这样的功能：

```
replaceAll(string, start, end, '_', '-'); 
```

向上：

```
std::replace(str.begin() + start, str.begin() + end, '_', '-'); 
```

谢谢，[高炉](https://stackoverflow.com/users/445976/blastfurnace)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-04T07:15:15.050

有一个功能`<algorithm>`。

```
std::replace(str.begin(), str.end(), '_', '-'); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-04T07:16:40.820

使用`std::replace`. [这里](http://en.cppreference.com/w/cpp/algorithm/replace)有更多细节。

# android - 如何使用android中的广播接收器来振动设备？

> ID：10877597
> 
> 赞同：2
> 
> 时间：2012-06-04T07:12:55.573
> 
> 标签：android, broadcastreceiver, android-vibration

```
public class MyBroadcastReceiver extends BroadcastReceiver{
    public void onReceive(Context context , Intent intent){
        Toast.makeText(context, "Your time is up", Toast.LENGTH_LONG).show();
        Vibrator vibrator; 
        // ERROR here (vibrator)context.getSystemService(Context.VIBRATOR_SERVICE);
        vibrator.vibrate(2000);
    }
} 
```

使用广播接收器在使用警报时振动设备时，出现如上所示的错误。这里出现错误的可能原因是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T07:55:54.187

尝试这个

```
Vibrator v;
v=(Vibrator)context.getSystemService(Context.VIBRATOR_SERVICE);
v.vibrate(3000); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T08:09:45.920

你允许了吗？

```
 <uses-permission android:name="android.permission.VIBRATE"></uses-permission> 
```

# nginx - 如何将主机限制为特定的 URI？

> ID：10877600
> 
> 赞同：0
> 
> 时间：2012-06-04T07:13:10.853
> 
> 标签：nginx

我的主机 ( `dev.foo.com`) 有一张如下图。大约1000个条目。

```
rewrite ^/2f7f29e4-14be-564a-85e0-5bb29b9fc33f/(.*)$ "/gajus kuizinas/2012 04 03 gappery/$1" last;
rewrite ^/cb6e7269-75c0-5926-b5d5-4e625e1a320d/(.*)$ "/gajus kuizinas/2012 04 07 gappery/$1" last;
rewrite ^/8b96e14f-09cd-55a5-9de3-19775b5ee2bb/(.*)$ "/gajus kuizinas/2012 05 17 followem/$1" last; 
```

有没有办法将主机限制为仅以给定 UUID 之一开头的 URI？换句话说，使任何其他路径不可访问，例如`dev.foo.com/public/[..]`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T12:14:33.227

```
location / {
    return 403;
}

location ~ ^/\w{8}-(?:\w{4}-){3}\w{12}/ {
    ...
} 
```

*   [http://wiki.nginx.org/Pitfalls](http://wiki.nginx.org/Pitfalls)
*   [http://wiki.nginx.org/IfIsEvil](http://wiki.nginx.org/IfIsEvil)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T08:26:56.543

在你的服务器或位置指令中添加这个：

```
 if ($request_uri !~ "^/\w{8}-(?:\w{4}-){3}\w{12}/.*") {
        return 403;
    } 
```

所以，正如医生所说，

$request_uri 此变量等于从客户端接收到的*原始*请求 URI，包括参数。它不能被修改。查看 $uri 以获取重写后/更改后的 URI。不包括主机名。示例：“/foo/bar.php?arg=baz”

如果 $request_uri 与您的 uuid 正则表达式不匹配，则 nginx 返回 403 错误（拒绝访问）。

* * *

编辑： 503 到 403 中的`if`.

# android - 2 FrameLayout之间的交互

> ID：10877602
> 
> 赞同：0
> 
> 时间：2012-06-04T07:13:48.090
> 
> 标签：android, navigation, android-framelayout

任何在 2 FrameLayout 或父按钮列表与 FrameLayout 之间进行交互的 Android 代码示例？

1.  将子活动添加到底部（主）FrameLayout
2.  添加新的 Child Activity 时显示类似推送动画的 iOS

===============

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">
    <LinearLayout 
    android:layout_width="fill_parent" 
    android:layout_height="100dp"
    android:orientation="horizontal" ><Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="B1" />

    <Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="B2" />

    <Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="B3" />

    <Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="B4" />

<Button
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="B5" />

</LinearLayout>

    <FrameLayout 
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"><TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="placeholder" />

</FrameLayout>

</LinearLayout> 
```

# debugging - 有人可以帮助我通过 IISnode 在 IIS express webmatrix 中调试我的 nodejs 应用程序吗？

> ID：10877607
> 
> 赞同：1
> 
> 时间：2012-06-04T07:14:10.487
> 
> 标签：debugging, node.js

我在我的 Windows 上使用 nodejs。我能够在 webmatrix 中运行我的代码。现在我有问题要调试它。

第一个问题是我可以通过 cmd 转到 --debug app.js 来运行应用程序，但 PORT 5858 不起作用。我认为我的防火墙已阻止访问它，但禁用防火墙后它不起作用。

我已阅读[http://codebetter.com/glennblock/2011/10/13/using-node-inspector-to-debug-node-js-applications-include-on-windows-and-using-ryppi-for-modules /](http://codebetter.com/glennblock/2011/10/13/using-node-inspector-to-debug-node-js-applications-including-on-windows-and-using-ryppi-for-modules/) .我在我的安装中发现他们没有纸男孩文件，所以我可以进行更改。

我尝试从 [http://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html](http://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html)和[https://github.com/tjanczuk/iisnode](https://github.com/tjanczuk/iisnode)运行相同的代码。我可以运行相同的代码并通过转到 /debug 在浏览器中的后缀对其进行调试。它不适用于具有 /login 之类的路由的代码，然后 /login/debug 不起作用。

汤姆在一年前在他们的博客上说它不支持快递。有人在windows上调试代码有经验吗？我的伙伴们正在使用 Linux 或 mac 并且能够以更好的方式运行它。有人可以帮我在 Windows 中运行我的代码吗？

谢谢。如果您有任何想法让它在我的窗户上工作，请帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T16:31:46.093

请确保您的 URL 重写规则设置为不会修改针对调试器的请求 URL。一个很好的样板 web.config 是在[http://tomasz.janczuk.org/2012/05/yaml-configuration-support-in-iisnode.html](http://tomasz.janczuk.org/2012/05/yaml-configuration-support-in-iisnode.html)。如果应用程序的入口点被称为 server.js 以外的其他名称，则可能需要对其进行修改。

然后，确保您使用正确的 URL 访问调试器。如果您的应用程序的入口点通常可以在 访问`http://localhost:12345/server.js`，那么调试器可以在`http://localhost:12345/server.js/debug`（而不是`http://localhost:12345/debug`）访问。

# java - 如何通过List限制迭代次数

> ID：10877608
> 
> 赞同：0
> 
> 时间：2012-06-04T07:14:10.433
> 
> 标签：java, arraylist, caldav

如何限制迭代器对我的列表的结果？

```
try {
    ArrayList<CalanderQueryOutput> results = new ArrayList<CalanderQueryOutput>();

    List<?> eventsToday = (List<?>) filter.filter(calendar.getComponents(Component.VEVENT));
    CalanderQueryOutput caldavOutput = new CalanderQueryOutput();

    for (Iterator<?> i = eventsToday.iterator(); i.hasNext();) {
    }
    results.add(caldavOutput);
} 
```

我只想列出最多十个结果

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:29:34.443

`break;`当计数器达到某个值时，您可以添加一个计数器和循环。

循环前：

```
int counter = 1; 
```

在循环：

```
if(counter >= 10)
   break;

/* loop code */

counter++; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T00:38:08.240

只需这样做：

```
...
for (Object event : eventsToday.subList(0, Math.min(9, eventsToday.size() - 1))) {
    // do something with "event"
}
... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T07:28:00.207

在循环中，使用计数器并像这样检查它：

```
if(counter < 10) results.add(caldavOutput);
.....
......
counter++; 
```

# c# - 从一组主题（表格中的一列）中查找讨论最多的主题

> ID：10877610
> 
> 赞同：0
> 
> 时间：2012-06-04T07:14:16.107
> 
> 标签：c#, asp.net, sql-server, sql-server-2008

我有一个`topics`datatype的数据库列`nvarchar`。我必须在这些记录中搜索以找到“趋势主题”并显示它们。

通过“趋势话题”，我的意思是说我想获得讨论最多的话题。例如，从 twitter 的提要标题中，我需要选择讨论最多的主题及其数量。

如何解决这个问题？请帮忙..

编辑：

我在表中有 4 条记录：

```
1 - Aenean at enim lorem ipsum dolor sit amet
2 - Morbi nulla diam, fermentum ullamcorper commodo blandit
3 - Quisque a sapien mi, ac congue orci
4 - Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
```

我必须从这些行中找到讨论最多的话题。例如：`Lorem ipsum dolor sit amet`出现在记录 1 和 4。所以，这是讨论最多的话题。同样，从数千行中，我需要找到 5 个主要讨论的主题。主题也可以是一个词。

注意：我没有为查询提供任何输入。

有什么办法可以达到目的（即使使用分析服务（SSAS））？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:21:10.747

您的问题不是很清楚-您能否提供一些可能存储在您的`topics`列中的示例？

我猜这个查询本身并不能解决你的问题：

```
SELECT topics, COUNT(*)
FROM dbo.YourTable
GROUP BY topics
ORDER BY COUNT(*) DESC 
```

# iphone - 德语本地化无法正常工作，默认显示英文文本

> ID：10877611
> 
> 赞同：1
> 
> 时间：2012-06-04T07:14:21.087
> 
> 标签：iphone, ios4, ios5, localization, internationalization

我已经用英语、德语和法语对 iPhone 项目进行了本地化。法语和英语在 iPhone/模拟器上更改语言时工作正常，但德语不能正常工作。

我已经更改了本地化下每种语言的 xib 文件中的文本。每当我尝试将语言更改为德语（比利时）时，模拟器/iphone上都会显示带有英文文本的XIB文件。

我曾尝试先更改地区（比利时），然后更改语言（德语），但没有运气。请帮助我。提前致谢。

# language-agnostic - PreUpdate、Update、PostUpdate……有人用更好的名字吗？

> ID：10877613
> 
> 赞同：0
> 
> 时间：2012-06-04T07:14:23.653
> 
> 标签：language-agnostic, naming-conventions

有没有人为这些类型的方法使用更漂亮的命名约定？我知道更好是主观的，但我讨厌他们。方法应该（通常）被命名为动词。Object.Move()，Object.Talk() 不是 Object.PreDatabaseUpdateStep()。

我一直在为我的 PreUpdate() 使用 Think()，与通常是纯物理的 Update() 相比，它通常是纯逻辑。我还没有想到 PostUpdate() 有什么更好的东西。

建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T07:19:44.753

务实的程序员应该始终努力设计代码以提高可读性。这些名字`PreUpdate`，`Update`和`PostUpdate`传达他们的意图比一个名字更清楚`Think`。

同样，我们可以从其他项目中寻找灵感。例如，JUnit 套件使用类似的命名约定`@Before`和`@After`（`@BeforeClass`和`@AfterClass`）注解。按照惯例，iOS 委托模式通常指定“Will”和“Did”（like`WillUpdateFoo`和`DidUpdateFoo`）方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T09:30:17.727

`PreUpdate`确实不是很具体。也许您可以更清楚地说明这些方法中发生了什么。

无论您为 Pre 和 Post 找到什么替代品。当你在不同的情况下使用相同的术语时，它不能有具体的信息。所以没多大关系。

`PrepareUpdate`和怎么样`FinishUpdate`？

在 C# 中，此类事件有一个命名约定，它使用时态。`Updating`在更新发生之前调用，`Updated`之后调用。就个人而言，我认为 Pre 和 Post 对每个人来说都更清楚，但我也使用这种命名约定。

# c# - 使用 C# 代码从 Active Directory 获取当前登录

> ID：10877614
> 
> 赞同：30
> 
> 时间：2012-06-04T07:14:24.693
> 
> 标签：c#, .net, active-directory

如何使用 C# 代码从 Windows Active Directory 获取当前用户的登录名？

* * *

## 回答 #1

> 赞同：58
> 
> 时间：2012-06-04T07:16:09.227

简单地，

```
string Name = new System.Security.Principal.WindowsPrincipal(System.Security.Principal.WindowsIdentity.GetCurrent()).Identity.Name; 
```

或者

```
string Name = System.Environment.UserName 
```

或者

```
string Name = Environment.GetEnvironmentVariable("USERNAME"); 
```

或者

```
string Name = System.Security.Principal.WindowsIdentity.GetCurrent().Name; 
```

作品:)

* * *

## 回答 #2

> 赞同：32
> 
> 时间：2012-06-04T07:17:10.797

如果您使用的是 .NET 3.5 及更高版本，则可以使用：

```
// set up domain context
PrincipalContext ctx = new PrincipalContext(ContextType.Domain);

// find current user
UserPrincipal user = UserPrincipal.Current;

if(user != null)
{
   string loginName = user.SamAccountName; // or whatever you mean by "login name"
} 
```

新的 S.DS.AM 使得在 AD 中与用户和组一起玩变得非常容易！

参考：

*   [在 .NET Framework 3.5 中管理目录安全主体](http://msdn.microsoft.com/en-us/magazine/cc135979.aspx)（此链接已存档，请[改用此](http://blogs.msdn.com/b/msdnmagazine/archive/2008/01/16/7120454.aspx)链接）
*   [System.DirectoryServices.AccountManagement 上的 MSDN 文档](http://msdn.microsoft.com/en-us/library/system.directoryservices.accountmanagement.aspx)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-10-01T05:43:04.240

```
System.DirectoryServices.AccountManagement.UserPrincipal.Current.Name 
```

这也为我工作！谢谢

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2018-11-21T08:53:04.407

我正在使用提供的其他解决方案获得“NT AUTHORITY\NETWORK SERVICE”，但 **System.Threading.Thread.CurrentPrincipal.Identity.Name.ToString()** 对我有用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-11-13T15:27:16.433

我认为这对我来说非常适合！

`<h5 class="mb-0 text-gray-800">Welcome, <span style="text-transform:capitalize">@User.Identity.Name.Replace("AD-GROUP-NAME\\", "").Replace(".", " ")</span></h5>`

# codeigniter - REST API 代码点火器

> ID：10877617
> 
> 赞同：-1
> 
> 时间：2012-06-04T07:14:39.660
> 
> 标签：codeigniter, rest

我有一个代码点火控制器，“TEST”。我想在 REST API 中访问这个控制器。

当我使用“ include_once(APPPATH.'/controllers/test.php'); ”包含此控制器文件时，一切正常。

但这是访问 REST API 中的控制器的唯一方法吗？还是有其他方法可以做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:16:02.430

我不完全确定您要做什么，但这看起来是一种相当不合逻辑的方法。

看看[创建自己的库](http://codeigniter.com/user_guide/general/creating_libraries.html)。REST API 应该很容易通过那里实现，而且更合乎逻辑。

# c# - IIS 7 中托管的简单 Asmx Web 方法中未解决的超时操作

> ID：10877619
> 
> 赞同：0
> 
> 时间：2012-06-04T07:14:47.030
> 
> 标签：c#, web-services, iis-7

我创建了一个简单的 Web Method，并将其托管在我的虚拟机（Windows Vista Ultimate）中的 IIS 7 上，如下所示

```
[WebMethod]
    public string HelloWorld()
    {
        return "Hello World";
    } 
```

然后，我写了一个简单的代码来消费这个web服务，如下图

```
static void Main(string[] args)
   {
       WebTest.Service1 ss = new TestConsumeWeb.WebTest.Service1();
       Console.WriteLine(ss.HelloWorld());
   } 
```

当我第一次尝试使用此 Web 服务时，它运行良好。但是，它在第​​二次尝试时没有表现出运气。为了让web服务重新工作，我找到了两种方法，

1.  重启IIS服务器，但时不时重启IIS是不可能的
2.  等待相对较长的时间（大约 20 分钟），它再次只工作一次。

有人可以告诉我可能出了什么问题吗？我列出了几种可能性，但我不确定它们是否是问题所在。

*   IIS安装问题？
*   应该使用异步web方法？
*   IIS 配置有问题？
*   编码有问题？
*   必须在 Web.config 文件中做些什么？

如果可以的话，我真的需要你的帮助，在此先感谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:38:28.667

Rajesh Subramanian 先生刚刚指出的问题

1.  在 IIS 管理器中的“应用程序池”节点下，后跟“高级设置”，“最大工作进程”的默认值默认设置为“1”
2.  在客户端从“Web Reference”更改为“Service Reference”很有魅力，我不知道为什么，但在我的情况下它是解决方案

再次感谢 Rajesh Subramanian 先生为我节省了大量时间！

# jquery - 如何将我的网页附加到另一个网页，就像聊天窗口附加到 gmail.com 一样？

> ID：10877620
> 
> 赞同：1
> 
> 时间：2012-06-04T07:14:59.747
> 
> 标签：jquery, jquery-ui, jquery-plugins, tornado

我设计了一个在龙卷风上运行的聊天应用程序。我可以在浏览器中将其打开为 localhost:8000。现在我需要将这个聊天窗口附加到我的网页上，就像 gmail 和 facebook 使用单独的“最小化”和“关闭”按钮将聊天附加到他们的网页上一样。

我尝试使用 jquerychat 插件，但在其文档中，它没有根据我的情况要求添加任何要打开的网站链接，如右下角的聊天窗口。我该怎么做？

# javascript - 我将一个函数（它本身有一个参数）作为参数传递给另一个函数以及如何获取参数

> ID：10877622
> 
> 赞同：2
> 
> 时间：2012-06-04T07:15:52.160
> 
> 标签：javascript

我将一个函数（它本身有一个参数，比如说para）作为参数传递给另一个函数函数b（）以及如何获取参数para。

这是一个简单的例子

```
<input type="button" onclick="sometest3()" value="Run test">

<script>
function sometest3() {

    // pass an anonymous function as a parameter which has
    // its own parameter "client"
    sometest('connection',function(client){client.getInfo();}) 
}

function sometest(eve,func) {

     // get this function's parameter which is "client" and pass
     // a reference of sometest2 to it. so in the callback I can use
     client.getInfo(); 
}

function sometest2() {
   this.getInfo=function (){alert("get it");};
}
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T07:26:56.030

你不能给出你发布的代码。传递给的匿名函数`sometest`作为局部变量保存，超出其范围的函数无法访问。

如果要`sometest`访问`client`，则必须传递它，以下使用局部变量：

```
function sometest3() {

    var client = {getInfo: function(){ /* whatever */}};

    sometest('connection', function(client){client.getInfo();}, client);
}

function sometest(eve, func, client) {

    // The client object has been passed from sometest3
    func(client);

} 
```

或者，您可以在闭包或全局变量中使其对两个函数都可用，或者对两个函数都可访问的某个对象的属性（本质上是相同的东西）。你的选择。

例如使用闭包：

```
var foo = (function() {
    var client = {getInfo: function(){ /* whatever */}};
    return {
        sometest3: function() {
            foo.sometest('connection', function(obj){obj.getInfo();}, client);
        },

        sometest: function(eve, func, client) {
            // The client object has been passed from sometest3
            func(client);
        }
    };
}()); 
```

然后将其称为`foo.sometest3()`.

### 编辑

添加调用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:31:03.437

如果你想知道一个函数中有多少个参数被命名，`func`你可以检查`func.length`。当然，这并不意味着您不能向该函数传递更多或更少的参数，而只是其中有多少存储在局部范围变量中。

但是，如果您想知道这些变量的名称，最好的办法是将函数转换为字符串并获取其声明：

```
var parms = String(func)
        .match(/function[^\(]*\(([^\)]*)/)[1]
        .split(/\s*,\s*/); 
```

（请注意，在`function`关键字及其声明之间添加注释可能会弄乱此方法。）

话虽如此，我看不出这对你有什么用......

# javascript - 如何保护 Flash 视频不被刷新？

> ID：10877624
> 
> 赞同：3
> 
> 时间：2012-06-04T07:16:02.897
> 
> 标签：javascript, css, flash, firefox

```
<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>flash video refresh</title>
</head>
<body>
    <div id="PlayerZone"><embed height="496" width="580" flashvars="flvid=19742822&amp;createtime=2012-4-19 13:46:33" wmode="opaque" allowscriptaccess="always" allowfullscreen="true" quality="high" bgcolor="#000000" name="player" id="player" src="swf/mine.swf" type="application/x-shockwave-flash"></div>
<a onclick="return test();" id="test">click me popup a div,and hide the scrollbar</a>
</body> 
```

上代码：</p>

例如，当我单击 a#test 按钮时，弹出一个 div，没问题，但我想在 div 弹出时隐藏滚动条。

我在 test() 函数中使用了 $('html').css('overflow','hidden') ，在大多数浏览器中都可以执行它，除了 FF（我使用的是 FF3.6）它会刷新 flash。

[https://bugzilla.mozilla.org/show_bug.cgi?id=90268](https://bugzilla.mozilla.org/show_bug.cgi?id=90268) （溢出/显示/位置导致此错误）

如何解决？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-08T12:52:55.393

```
 Hi thanks for asking these kind of question.

Better you use in a updated firefox version and try. if not 
     please refer this link this will help u i think. use local shared objects. 
    http://www.actionscript.org/forums/showthread.php3?t=79009
    http://flash.bigresource.com/How-to-protect-Flash-Videos-from-Being-Downloaded-KV9j8rfkn.html
    http://whatisgon.wordpress.com/2010/03/17/poking-around-in-the-firefox-cache-and-protecting-your-privacy-from-flash/ 
```

# hibernate - Hibernate：基于表名的列名？

> ID：10877626
> 
> 赞同：5
> 
> 时间：2012-06-04T07:16:07.287
> 
> 标签：hibernate, orm

在我的公司中，我们对表列有以下命名约定：

表：`TCARS` 列：`TCARS_ID, TCARS_BRAND_ID, TCARS_MODEL_ID`...等

我目前有这个实体类：

```
@Table(name="TCARS")
public class CarEntity {
    @Column(name="TCARS_ID")
    private int id;

    @Column(name="TCARS_BRAND_ID")
    private int brandId;

    // etc
} 
```

我想这样写我的课：

```
@Table(name="TCARS")
public class CarEntity {
    @Column(name="ID")
    private int id;

    @Column(name="BRAND_ID")
    private int brandId;

    // etc
} 
```

...并使用 Hibernate [NamingStrategy](http://docs.jboss.org/hibernate/core/3.6/javadocs/org/hibernate/cfg/NamingStrategy.html)来完成基于表名的列名。我遇到的问题是在 NamingStrategy 界面上，我在配置列名时无法访问表名，因此我无法在列名前加上表名。

有什么解决办法吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-08T08:52:03.860

NHibernate 在配置类上有一个 BeforeBind 事件，也许 Hibernate 也有。

```
// pseudocode
Hibernate.Cfg.Configuration config;

config.BeforeBindMapping + eventhandler
{
    HbmClass c = RootClasses[0];

    foreach(IColumnsMapping hascolumns in c.Items.OfType<IColumnsMapping>())
    {
        hascolumns.Columns[0].Text = c.Table.Name + hascolumns.Columns[0].Text;
    }
}; 
```

# image - 以编程方式生成正确显示在 Twitter 帖子上的动画 GIF？

> ID：10877628
> 
> 赞同：2
> 
> 时间：2012-06-04T07:16:10.243
> 
> 标签：image, twitter, imagemagick, gif

我能够利用 imagemagick 正确生成动画图像，并且可以毫无问题地将它们发布到 Twitter，但是在发布它们时，似乎 Twitter 以某种方式破坏了我猜测的动画组件，因为它正在重新编码图像。

在我的情况下，这不太理想，因为我需要每天将图像的统计汇编发布到帐户中，并且需要动画来保持完整性。我假设这是他们现在正在使用的 Photobucket 的一个功能。

如何对图像进行编码并上传以保持其完整性？我想知道直接上传到 TwitPic 或其他选项，或者可能更全面地探索 imagemagick 编码选项，以便它们与 Twitter 要求精确对齐，以便生成不需要重新编码的图像，但是我正在寻求这方面的帮助.

# jsf-2 - 如何在带有 to-view-id 的 portlet 环境中在 JSF Navigation-Rule 之后设置 Session-Parameter

> ID：10877629
> 
> 赞同：0
> 
> 时间：2012-06-04T07:16:11.967
> 
> 标签：jsf-2, portlet, portal

我们目前在使用 JSF2 的 portlet 环境中面临一个问题。

该应用程序正在为实际的用户会话创建动态门户页面……将其视为 Eclipse 编辑器视图，用户可以在其中编辑实体。所以现在我打电话给动态视图编辑器:-)

我们现在面临的问题，如下。用户导航到编辑器并在 portlet 上工作。当然，每个 portlet 中显示的视图会随着时间而变化。现在他想看看另一个编辑器中显示的另一个实体。**但是当他导航回第一个编辑器时，portlet 的状态又变回了默认视图。**

在 portlet 世界中，每个 portlet 都通过存储在 PortletSession 中的参数获得它应该显示的视图，我也可以轻松更改该参数。我知道这个参数造成了麻烦，因为当编辑器发生变化时，portlet 总是会检查这个参数来决定显示哪个视图。

```
request.getPortletSession().setAttribute("com.ibm.faces.portlet.page.view", "/MyPage.xhtml"); 
```

我的想法是，以某种方式向每个 JSF 导航添加一个回调，它将将此参数设置为导航将要显示的视图（可能包括视图参数）。是否有可能有一个标准的回调？如果没有，是否可以在设置此参数的导航规则中执行某种 EL？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T14:03:31.027

> *以某种方式为每个 JSF 导航添加回调*

您可以在 custom 中执行这项工作[`ConfigurableNavigationHandler`](http://docs.oracle.com/javaee/6/api/javax/faces/application/ConfigurableNavigationHandler.html)。这是一个启动示例：

```
public class MyNavigationHandler extends ConfigurableNavigationHandler {

    private NavigationHandler parent;

    public MyNavigationHandler(NavigationHandler parent) {
        this.parent = parent;
    }

    @Override
    public void handleNavigation(FacesContext context, String from, String outcome) {

        // TODO: Do your job here. 

        // Keep the following line untouched. This will perform the actual navigation.
        parent.handleNavigation(context, from, outcome);        
    }

    @Override
    public NavigationCase getNavigationCase(FacesContext context, String fromAction, String outcome) {
        return (parent instanceof ConfigurableNavigationHandler)
            ? ((ConfigurableNavigationHandler) parent).getNavigationCase(context, fromAction, outcome)
            : null;
    }

    @Override
    public Map<String, Set<NavigationCase>> getNavigationCases() {
        return (parent instanceof ConfigurableNavigationHandler)
            ? ((ConfigurableNavigationHandler) parent).getNavigationCases()
            : null;
    }

} 
```

要让它运行，请在以下位置注册它`faces-config.xml`：

```
<application>
    <navigation-handler>com.example.MyNavigationHandler</navigation-handler>
</application> 
```

# c# - 获取几何长度

> ID：10877631
> 
> 赞同：5
> 
> 时间：2012-06-04T07:16:31.703
> 
> 标签：c#, wpf, geometry, system.windows.media

有谁知道以像素为单位获取 WPF 几何体长度的有效方法？我知道 WPF 中的几何图形是基于矢量的，因此实际上没有像素长度。但是必须有可能根据可见的绘制图像获得长度。我的意思是，如果我在 1024x800 像素的图像中绘制一些几何图形，则必须能够获得这些几何图形的长度。

我在这里错了还是有任何可能且有效的方法来获取这些信息？

先感谢您！

迈克尔

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T13:24:08.977

我想出了一个解决方案，但不知道这是否是最有效（最快）的方法。请留下您的评论 - 谢谢大家！

```
 public static double GetLength(this Geometry geo)
    {
        PathGeometry path = geo.GetFlattenedPathGeometry();

        double length = 0.0;

        foreach (PathFigure pf in path.Figures)
        {
            Point start = pf.StartPoint;

            foreach (PolyLineSegment seg in pf.Segments)
            {
                foreach (Point point in seg.Points)
                {
                    length += Distance(start, point);
                    start = point;
                }
            }
        }

        return length;
    }

    private static double Distance(Point p1, Point p2)
    {
        return Math.Sqrt(Math.Pow(p1.X - p2.X,2) + Math.Pow(p1.Y - p2.Y,2));
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:32:19.153

```
var geometry = new EllipseGeometry(new Point(50,50), 45, 20);
var length = geometry.Bounds.Width; //or geometry.Bounds.Height 
```

注意：`EllipseGeometry`只是一个例子。所有派生自的类`Geometry`都有一个`Bounds`属性。

# android - 匿名发布

> ID：10877633
> 
> 赞同：1
> 
> 时间：2012-06-04T07:16:50.810
> 
> 标签：android, publish, anonymous

我编写了一段代码，该代码适用于一家公司的互联网服务，该公司不允许使用其他客户而不是他们的客户。但我做到了，它更快，更好，你有最爱……我的意思是它的改进。我联系了他们并为他们提供了解决方案，但他们不同意..（这是一个聊天服务，没什么特别的）

但我仍然想发布它。所以我的问题是：

*   我可以忘记 Google Play / Android Market，因为您注册的是关联的信用卡（真实姓名），对吗？（可能只会在我的博客（匿名博客）和一些非官方市场上发布）

*   创建 APK - 我有什么需要注意的步骤吗？我必须在申请表上签名，我应该使用假名吗？

我的意思是我没有做任何坏事，我只是想分享我的解决方案，但仍然没有遇到问题……

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T07:29:31.893

发现了一些非常有趣的东西：

[http://www.howtogeek.com/106175/the-top-5-alternatives-to-the-android-market/](http://www.howtogeek.com/106175/the-top-5-alternatives-to-the-android-market/)

# response - Fedex Web 服务错误响应

> ID：10877637
> 
> 赞同：0
> 
> 时间：2012-06-04T07:16:58.437
> 
> 标签：response, shipping, fedex

我正在使用 Fedex 网络服务来跟踪货件、创建新货件等。一切都很顺利，但从昨天开始，我没有从 Fedex 获得任何数据/响应来创建或跟踪货件。当我向 fedex Web 服务发送请求时，我会收到一个回复`false`​​作为响应。

令我惊讶的是，上个月我在使用他们的网络服务时没有遇到任何问题，但从昨天开始，我没有得到 Fedex 的有效回复。我正在使用测试帐户。

代码：

```
ProcessShipmentReply fedExReply = service.processShipment(request);
switch (fedExReply.HighestSeverity)
{
  case NotificationSeverityType.WARNING:
  case NotificationSeverityType.NOTE:
  case NotificationSeverityType.SUCCESS:
    rxrdreply = GetShipmentReply(isCodShipment, fedExReply, shipment);
    rxrdreply.ReferenceNumber = shipment.RefNumber;
    rxrdreply.Response = true;
    rxrdreply.Notification = GetNotifications(fedExReply);
    break;
  default:
    rxrdreply.Response = false;
    rxrdreply.ReferenceNumber = shipment.RefNumber;
    rxrdreply.Notification = GetNotifications(fedExReply);
    break;
  }
  return rxrdreply; 
```

来了，`fedExReply`来了`null`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T16:42:51.877

目前，我在测试环境中使用 Fedex Web 服务，自 2012 年 6 月 1 日起我无法使用任何服务。首先，我很惊讶，因为我实施的所有服务都运行良好，突然，我收到以下错误：**Code: 1000 Message: Authentication Failed**。

在 Fedex 开发者网站中，有一个部分用于讨论 Fedex 方面发生的一些变化。该公司写道：“ *FedEx 已将 Web 服务作为其新的集成选择标准，认识到这项技术的巨大优势。如果您使用 FedEx Ship Manager® API 和 FedEx Ship Manager® Direct 开发了与 FedEx 的集成解决方案，过去，您将需要过渡到 FedEx 网络服务，因为这些产品将于 2012 年**5 月 31 日停用**。鼓励开发人员通过立即切换到 FedEx 网络服务来利用我们的旧解决方案中未提供的新功能。* "

我的猜测是 5 月 31 日所做的一些更改影响了当前的测试用户。我向 Fedex 支持发送了一封电子邮件，但我仍在等待回复。

最好的！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T20:29:22.387

FedEx 会定期清除测试服务器。他们在 6 月 1 日星期五进行了更新，持续了 10 个小时，因此我希望请求更新的凭据可以解决您的问题。

您使用的是 Web 服务，而不是 XML API？

# php - 在 CAKEPHP 中的 `\app\Config\` 中将 `database.php.default` 重命名为 `database.php` 会出现错误

> ID：10877638
> 
> 赞同：2
> 
> 时间：2012-06-04T07:17:01.437
> 
> 标签：php, cakephp, database-connection, cakephp-2.1

在 CAKEPHP 中重命名`database.php.default`为`database.php`in`\app\Config\`会出错

我在 Windows 7 上的 XAMPP 上安装了 CAKEPHP 2.1.3 的新副本，但出现错误

```
Warning (2): include_once(D:\xampp\htdocs\cakephp\example\app\Config\database.php) [function.include-once]: failed to open stream: No such file or directory [CORE\Cake\Model\ConnectionManager.php, line 68]

Warning (2): include_once() [function.include]: Failed opening 'D:\xampp\htdocs\cakephp\example\app\Config\database.php' for inclusion (include_path='D:\xampp\htdocs\cakephp\example\lib;.;D:\xampp\php\PEAR') [CORE\Cake\Model\ConnectionManager.php, line 68] 
```

当我在不存在的`database.php`文件中查找文件时`\app\config\`

相反，我`database.php.default`发现`\app\Config\``\lib\Cake\Console\Templates\skel\Config`

当我重命名`database.php.default`to时`database.php`，它仍然给我一个错误。我需要如何连接到数据库和下一个程序才能继续。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T07:19:25.337

将配置文件从 移动`\lib\Cake\Console\Templates\skel\Config`到`D:\xampp\htdocs\cakephp\example\app\Config\`

或者创建一个新的内容：

```
class DATABASE_CONFIG {

    public $default = array(
        'datasource' => 'Database/Mysql',
        'persistent' => false,
        'host' => 'localhost',
        'login' => 'username',
        'password' => 'password',
        'database' => 'databas name',
        'prefix' => '',
        //'encoding' => 'utf8',
    );

} 
```

# jquery - 如何在 Jquery Mobile 中添加音频并在 Android 设备上播放（三星 Galaxy）

> ID：10877646
> 
> 赞同：0
> 
> 时间：2012-06-04T07:18:07.300
> 
> 标签：jquery, mobile

您能否提供教程如何在 jquery mobile 中添加音频播放器，然后使用可以在 android 设备上播放的 Android SDK 打包（三星 Galaxy android 2.3）

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T15:38:39.860

这个 Youtube 视频有帮助吗？

[http://www.youtube.com/watch?v=UwK96UfQPWo](http://www.youtube.com/watch?v=UwK96UfQPWo)

另外，我认为您可能希望将 Backbone.js 用于严肃的应用程序。看看这个： [http ://backstage.soundcloud.com/2011/08/building-the-soundcloud-mobile-site-using-backbone-js/](http://backstage.soundcloud.com/2011/08/building-the-soundcloud-mobile-site-using-backbone-js/)

这就是 Soundcloud Mobile 的制作方式。这是一个很棒的应用程序！

# ruby-on-rails - 通过向下箭头选择选项时，railsAutocomplete.select 不起作用

> ID：10877647
> 
> 赞同：1
> 
> 时间：2012-06-04T07:18:26.670
> 
> 标签：ruby-on-rails, ruby-on-rails-3, autocomplete

我正在使用 rails3-jquery-autocomplete 来实现自动完成功能，但是当我通过鼠标选择自动完成时，如果我通过键盘向下和箭头选择并单击输入，它不起作用我有以下代码。我错过了什么

```
 $(".text_field_title").live("focusout",function(){
    var name = $(this).attr("name");
    var value = $(this).val();
    var activity_id = $(this).attr("rel")
    var practice_plan_id = $(this).attr('practice_plan_id');

    $("#"+activity_id+"_title").bind('railsAutocomplete.select',function(event,data){
      var data = [
        {
          name : name,
          value : value
        },
        {
          name : "activity_id",
          value : activity_id
        },
        {
          name :"fav_id",
          value : data.item.id
        }
      ];

      $.ajax({
        type: 'POST',
        url: 'myurl',
        data: data,
        dataType: "script"
      });

    });
}); 
```

# javascript - 我应该如何在文件中构建我的 Javascript 代码？

> ID：10877649
> 
> 赞同：2
> 
> 时间：2012-06-04T07:18:40.133
> 
> 标签：javascript, jquery, html

平均而言，我有 30-50 行特定于页面的 javascript（这并不常见）。我应该如何构建我的 Javascript 代码，以便它以最佳方式下载到客户端。

如果我把它放在一个通用的 Javascript 文件中，那么初始页面下载将需要一些时间，因为它甚至会下载不用于该页面的 Javascript 代码。

如果我把它嵌入页面本身，那么缺点是它永远不会被缓存。

我应该如何以最佳方式构建它？我的申请大约有 30-50 页。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T07:20:49.777

开发时，使用逻辑文件夹结构，这样你就可以将所有文件放在一个文件夹中，你可以更容易地找到它们。在生产中，连接并缩小您的代码/文件，并使用对该缩小文件的一个引用。

如果您甚至在生产中也想分开，请考虑一种方法来尽可能多地连接文件并缩小这些文件。要在需要时加载文件，您可以将库视为[RequireJS](http://requirejs.org/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:22:26.363

我在 js 下具有与 html (php) 文件相同的目录/文件结构，所以当我在任何 url (/example1/example2) 上时，我包括 /js/example1/example2.js

# process - 如何杀死cygwin中的进程？

> ID：10877652
> 
> 赞同：30
> 
> 时间：2012-06-04T07:19:06.313
> 
> 标签：process, cygwin, kill

嗨，我有以下我无法杀死的过程：

![要杀死的进程。](../Images/680504eabe3719199e2a98c234c7ac32.png)

我在 windows xp 32 位中运行 cygwin。

我尝试发出以下命令：

```
/bin/kill -f 4760
/bin/kill -9 5000
kill -9 5000
kill 5000 
```

当我写 /bin/kill -f 4760 时，我收到消息“kill：无法打开 pid 4760”。

当我写 /bin/kill -9 5000 时，我收到消息“kill：5000：没有这样的进程”。

我根本不明白为什么这个过程不能被杀死。既然它有一个 WINID，它不应该被 /bin/kill -f 4760 杀死吗？

希望有人可以帮助 thx :)

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-06-04T07:27:36.253

该进程很可能从 Windows 被锁定。您收到“无法打开 PID XXX”的错误指出了这一点。确认尝试使用 windows taskkill 杀死它

```
 taskkill /PID 4760 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2015-07-21T02:53:15.007

奇怪的是，以下在 Cygwin 中有效：

```
echo PID1 PID2 PID3 | xargs kill -f 
```

例如：

```
ps -W | grep WindowsPooPoo | awk '{print $1}' | while read line; do echo $line | xargs kill -f; done; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-05T13:55:49.090

不同的 Windows 程序会以不同的方式处理`kill`发送的信号；它们从来没有像 Linux/Cygwin 程序那样被设计用来处理它们。

杀死 Windows 程序的唯一可靠方法是使用 Windows 特定工具，例如任务管理器或进程资源管理器。

也就是说，如果您还没有，您可能会在管理员模式下运行 Cygwin 终端（右键单击快捷方式并选择“以管理员身份运行”）。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-08-19T14:52:51.810

@Donal Tobin 提出的方法是正确的：

`kill -f <pid>`

但是，我不需要以管理员身份登录。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2018-05-16T02:52:08.107

## killall.sh - 按进程名称杀死。

```
#/bin/bash
ps -W | grep "$1" | awk '{print $1}' | xargs kill -f; 
```

## 用法：

```
$ killall <process name> 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2017-06-23T20:16:42.573

使用此行创建一个名为 killall.sh 的文件

```
ps -W | grep $1 | awk '{print $1}' | while read line; do echo $line | xargs kill -f; done; 
```

然后给它执行权限。

```
chmod 777 killall.sh 
```

在你的 .bash_profile 添加这一行

```
alias killall="~/killall.sh"   (point it to the correct location) 
```

然后你只需要输入“killall [name]”

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-04-10T06:35:08.243

对我来说，这个命令在 Cygwin 的 Windows 10 上不起作用**：**

```
$ kill -f 15916
bash: kill: (15916) - No such process 
```

取而代之的是，您可以使用下一个命令：

```
$ powershell kill -f 15916 
```

```
$ netstat -ano | grep ':8080' | awk '{print $5}' | xargs powershell kill -f 
```

```
$ netstat -ano | grep ':8080' | awk '{print $5}' | while read pid; do powershell kill -f $pid; done; 
```

```
$ netstat -ano | grep ':8080' | awk '{sub(/\r/,"",$5) ; print $5}' | while read pid; do taskkill /F /PID $pid; done;
SUCCESS: The process with PID 15916 has been terminated. 
```

# css - Sencha Touch：如何使用 css 更改选择字段的颜色？

> ID：10877654
> 
> 赞同：0
> 
> 时间：2012-06-04T07:19:19.760
> 
> 标签：css, sencha-touch-2

我们是否有任何指定的 css 用于为 sencha touch2 中的选择字段着色？

截至目前，我的选择字段代码如下：

```
{
    xtype: 'selectfield',
    options: [
    {text: 'AI',  value: 'first'},
    {text: 'AK', value: 'second'},
    {text: 'BR',  value: 'third'}
    ]
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T08:30:28.393

您可以为选择字段使用单独的 css 类。在“xtype”值之后使用“css：'yourclassname'”并将类定义为

```
.yourclassname{ background-color:#000;color:#fff;font:normal 12px Arial;} 
```

所以你的代码将是

```
 xtype: 'selectfield',
              cls:  'yourclassname',
              options: [
                        {text: 'AI',  value: 'first'},
                        {text: 'AK', value: 'second'},
                        {text: 'BR',  value: 'third'}
                        ] 
```

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T08:41:18.513

请检查：[http ://docs.sencha.com/touch/2-0/#!/guide/theming](http://docs.sencha.com/touch/2-0/#!/guide/theming)

使用 Sass & Compass 是设置应用程序样式的正确方法！

# android - 如何以编程方式在 android 中启动地图应用程序以显示方向？

> ID：10877656
> 
> 赞同：4
> 
> 时间：2012-06-04T07:19:21.827
> 
> 标签：android, dictionary, direction, driving-directions

我的客户要求我显示两个位置之间的方向。因此他希望我们的应用程序应该启动 android 的地图应用程序并显示两个位置之间的方向。我找不到这个问题的解决方案。

因此，任何人都可以告诉我如何以编程方式从我们当前的应用程序启动地图应用程序并显示 Android 中两个位置之间的方向。

我如何实现这一目标？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-04T07:29:50.730

试试这个：

```
Intent intent = new Intent(android.content.Intent.ACTION_VIEW, 
Uri.parse("http://maps.google.com/maps?saddr=20.344,34.34&daddr=20.5666,45.345"));
startActivity(intent); 
```

# android - android许可证的有效期？

> ID：10877660
> 
> 赞同：1
> 
> 时间：2012-06-04T07:19:31.663
> 
> 标签：android, android-lvl

如果我实施 android LVL 来许可我的 android 应用程序，我仍然有一些悬而未决的问题

1.  如果用户购买了许可证，用户使用我的应用程序的有效性是什么？我可以设置有效期吗，例如（允许付费用户在 LIMITED 1 年内使用我的应用程序的所有功能。之后再次要求用户购买/续订许可证）

2.  我可以为我的应用程序提供 15 天的免费试用，然后阻止应用程序的一些功能要求用户使用应用内计费购买高级版本吗？

3.  实现应用内计费的想法

4.  只有 GOOGLE CHECK OUT 是合法/可能的方式，支付宝实施是安全/正确的吗？

上述任何信息都将非常有帮助:)

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T08:57:36.553

1 和 2 - 不，目前不支持试用。如果他们购买了您的应用程序，他们可以永远使用它（至少在它在商店中可用之前），并且可以在多个设备上使用。不确定您对 3 的含义。对于 4，您需要咨询律师才能确定，但​​通常您不能使用第三方支付提供商（例如 PayPal）。

# java - 使用休眠 bean 验证的密码验证

> ID：10877668
> 
> 赞同：3
> 
> 时间：2012-06-04T07:20:21.473
> 
> 标签：java, regex, hibernate, hibernate-validator

我正在尝试根据一组规则验证用户输入密码，这里是这些规则。

1.  最少 6 个和最多 8 个字符。
2.  至少 1 个号码
3.  至少 1 个大写字母。
4.  不允许特殊字符

这就是我迄今为止在我的 bean 课上所做的

```
@NotNull(message = "{register.pwd.invalid}")
    @Size(min = 6, max = 8, message = "{register.pwd.invalid}")
    public String getPwd()
    {
        return pwd;
    } 
```

我相信剩下的部分我必须使用 regExp 但不确定我需要什么正则表达式，这就是我想出的

```
^.*(?=.{6,8})(?=.*\d)(?=.*[A-Z]).*$ 
```

我不确定表达式，因为我不擅长正则表达式，任何人都可以帮助我指出更正正则表达式

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T07:24:01.940

你离得很近

```
^(?=.*\d)(?=.*[A-Z]).{6,8}$ 
```

不要`.*`在开始时使用（它会破坏长度检查）并将长度检查移动到最后。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:24:26.753

删除第一个`.*`并锚定字符限制，例如：

```
^(?=.*\d)(?=.*[A-Z]).{6,8}$ 
```

# android - 有没有办法在android中同步2个数据库？

> ID：10877669
> 
> 赞同：1
> 
> 时间：2012-06-04T07:20:29.917
> 
> 标签：android, database, sync, provider

我看到很多关于在云服务器上同步 android 数据库的教程，但这不是我需要的。
我必须将我自己的应用程序提供程序与 android 本机提供程序（例如 MediaStore）同步。我仍在研究**AbstractSyncAdapter** API，不过，大多数教程再次使用它在服务器而不是另一个本地提供程序中同步。此外，它需要一个我认为对我的应用程序没有必要的帐户。

我已经考虑过其他选项，例如使用**ContentObserver**和捕获**ACTION_MEDIA_SCANNER_FINISHED**意图，但这意味着我必须检查整个数据库中所做的所有更改，因为我无法知道确切的行或列发生了哪些更改。顺便说一句，我正在使用 Android 2.2（Froyo/API 级别 8）进行开发。

# security - Zend 框架：我如何保护 zend url 模式？

> ID：10877670
> 
> 赞同：0
> 
> 时间：2012-06-04T07:20:35.103
> 
> 标签：security, zend-framework, url

我正在使用 url 重写控制器来制作自定义 url。不，我不知道如何保护它们，或者如果用户键入其他内容，那么我如何显示未找到页面错误。

这是我在应用程序索引中制作自定义网址的方式：

```
$route = new Zend_Controller_Router_Route_Regex(                        
                    '([A-Z]*(([\/][A-Z0-9\-]*([\/][A-Z]*)?)?))',
                    array('controller'=>'Uriprocess','action'=>'index'),
                    array(1 => 'URI')
                );
    $router->addRoute('URIPROCESS',$route); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T13:51:40.220

你应该检查[Zend_Controller_Plugin_ErrorHandler](http://framework.zend.com/manual/en/zend.controller.plugins.html#zend.controller.plugins.standard.errorhandler)

> 由于 ErrorHandler 插件不仅捕获应用程序错误，还捕获控制器链中因缺少控制器类和/或操作方法而引起的错误，因此它可以用作 404 处理程序。为此，您需要让错误控制器检查异常类型。

# c# - 如何获取所选文件的文件路径？

> ID：10877674
> 
> 赞同：-6
> 
> 时间：2012-06-04T07:21:17.833
> 
> 标签：c#

```
var dlg = new Microsoft.Win32.OpenFileDialog();
dlg.Filter = "(*.JPG;*.GIF)|*.JPG;*.GIF";
dlg.ShowDialog();
if (string.IsNullOrEmpty(dlg.FileName)) return;
var fs = new FileStream(dlg.FileName, FileMode.Open, FileAccess.Read);
var data = new byte[fs.Length];
fs.Read(data, 0, System.Convert.ToInt32(fs.Length));
fs.Close() 
```

我像这样浏览图片，但现在我也需要路径。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T07:35:08.497

利用`Path.GetDirectoryName(dlg.Filename)`

# git - 如何强制`git merge`？

> ID：10877677
> 
> 赞同：1
> 
> 时间：2012-06-04T07:21:28.330
> 
> 标签：git

[我遇到另一个问题](https://stackoverflow.com/questions/6114301/git-checkout-index-unable-to-create-file-file-name-too-long)中描述的“文件名太长”错误。我已经在远程仓库中修复了文件名，现在我正在尝试合并远程修复名称的更改。但是，git 不会让我合并，因为它认为我有未提交的更改（它无法创建的名称太长的文件）。有什么方法可以强制 git 合并吗？注意`git status`没有列出任何修改，除了打印文件名太长错误，所以我看不到如何在本地首先满足 git。特别是，git 不会*将*文件报告为 rm'd 或丢失。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:41:58.930

我能够通过执行`git reset --hard <remote>/<branch>`.

# regex - 如何编写正则表达式来匹配重复的字符串并指定重复的数字？

> ID：10877682
> 
> 赞同：0
> 
> 时间：2012-06-04T07:21:58.860
> 
> 标签：regex

例如，我想匹配文本文件中的字符串“abcabc”，其中两个（并且只有两个）“abc”连接在一起，并且“abcabc”的前面和末尾没有字符？

如果我使用 grep -n '(abc){2}' TEST，它不起作用

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:24:13.693

逃离父母：

```
grep -n '\(abc\)\{2\}' TEST 
```

如果您想`abcabc`在一行上单独匹配字符串，正如您的描述所暗示的那样，请使用：

```
grep -n '^\(abc\)\{2\}$' TEST 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:24:26.910

这是最短的选择：

```
^abcabc$ 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T07:24:34.847

尝试：

```
egrep '\b(abc){2}\b' input 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-05T03:23:19.423

谢谢大家，从你们的回答中，我想我已经得到了我需要的东西。

正如我在我的问题中所说，我想匹配“ `abcabc`”，其中 2 并且仅重复“ `abc`”，前后没有其他字符，但“ `abcabc`”不是该行中唯一的字符串。

所以答案是：

```
grep -n "\b\\(abc\\)\\{2\\}\b" filename 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-04T08:04:51.907

检查这是否合适。

```
$ grep '\<abcabc\>'
test
abcabc
abcabc
test abcabc
test abcabc
testabcabc 
```

# php - PHP中有效域名检查所需的正则表达式

> ID：10877687
> 
> 赞同：0
> 
> 时间：2012-06-04T07:22:18.673
> 
> 标签：php, regex

我需要一个正则表达式来检查域名，包括像 az AZ 0-9 这样的字符 -

还有没有下划线_字符的域名吗？

请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:36:09.337

我想这就是您要搜索的内容：

> ^[a-zA-Z0-9]+([a-zA-Z0-9-.]+)?.(com|org|net|mil|edu|de|COM|ORG|NET|MIL|EDU|德)$

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T08:11:13.610

这个正则表达式适用于任意数量的子域和所有顶级域（世界不仅仅是 murka）：

```
/^ (?: [a-z0-9] (?:[a-z0-9\-]* [a-z0-9])? \. )*  #Subdomains
   [a-z0-9] (?:[a-z0-9\-]* [a-z0-9])?            #Domain
   \. [a-z]{2,6} $                               #Top-level domain
/ix 
```

域名不能有下划线。仅 [a-zA-Z0-9] 以及连字符（如果它们不在子域名的开头或结尾）。

# perl - selenium webdriver 的哪些 Perl 绑定？

> ID：10877688
> 
> 赞同：1
> 
> 时间：2012-06-04T07:22:24.057
> 
> 标签：perl, binding, selenium

我是 selenium 2.0 的新手，通过 perl 和 java(maven-eclipse) 致力于自动化。我想知道 Se 的 perl 绑定不同。

Selenium 网站显示[https://metacpan.org/module/Selenium::Remote::Driver](https://metacpan.org/module/Selenium::Remote::Driver)

虽然 CPAN 也有 WWW:Selenium bundle....

在这种情况下使用哪个 perl 自动化？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-24T14:21:51.010

Selenium::Remote::Driver is the one you want. WWW:Selenium is old.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T11:48:34.137

您可以访问以下网址：

[http://repo1.maven.org/maven2/org/seleniumhq/selenium/client-drivers/selenium-perl-client-driver/](http://repo1.maven.org/maven2/org/seleniumhq/selenium/client-drivers/selenium-perl-client-driver/)

# javascript - 单词与正则表达式中的单词不相邻？

> ID：10877692
> 
> 赞同：0
> 
> 时间：2012-06-04T07:22:38.280
> 
> 标签：javascript, regex

我有一些不好的词，例如：

```
'aaa','bbb','ccc' 
```

（坏话也可以是，“约翰”，“保罗”，“林戈”）（对不起@cyilan）

我不想让另一个/相同的`bad word` **紧随**其后`bad word`

`aaa`后面可以跟一个非坏词，`then`也可以跟一个坏词：

```
 ...aaaRoyibbb...  //ok
  ...cccRoyiaaa...  //ok

   ...aaabbb...// NOT OK
   ...cccbbb...// NOT OK
   ...cccccc...// NOT OK 
```

*一个坏词不允许紧跟另一个/相同的坏词*

我尝试了一些正则表达式但没有成功..

任何帮助都感激不尽

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:28:20.200

```
var str = "...aaabbb...";
if(!str.test(/(?:aaa|bbb|ccc){2}/)){
    // passed
} 
```

Chat 透露，OP 真正想要的是：

```
/^(?!(?:aaa|bbb|ccc)|.*(?:aaa|bbb|ccc){2}|.*(?:aaa|bbb|ccc)$)/ 
```

但真的真的：

```
^(?!(?:aaa|bbb|ccc)\b|.*\b(?:aaa|bbb|ccc)\s+(?:aaa|bbb|ccc)\b|.*\b(?:aaa|bbb|cc‌​c)$) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:31:09.427

```
match = subject.match(/\b([a-z]{3})(?:(?!\1)|(?=\1))[a-z]+\b/i);
if (match != null) {
    // matched text: match[0]
    // match start: match.index
    // capturing group n: match[n]
} else {
    // Match attempt failed
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T07:32:52.790

您正在寻找的解决方案是 \b。\b 被定义为分词。如果它跟在空格或数字后面，那么如果后面的文本是字母，它就会匹配。如果它跟在字母后面，那么如果后面不是字母（即不是一个连续的词）就匹配。它可以有效地用作锚标记，如下所示：

```
\byourword\b 
```

它会匹配：

```
This is yourword, but not mine.
yourword is found in this sentence. 
```

但它不匹配：

```
When yourwordis found in other words, this will not match.
And ifyourword is at the end of another word, it will still not match. 
```

# android - 在 Android 中处理无效的 SQLite 查询

> ID：10877693
> 
> 赞同：3
> 
> 时间：2012-06-04T07:22:40.010
> 
> 标签：android, sqlite

我有一个简单的代码可以成功查询 SQLite 数据库并将结果从光标转换为字符串，以便在屏幕上显示。

我现在的问题是导致应用程序崩溃的无效查询。有没有办法成功处理无效查询？最好是可以防止我的应用程序崩溃并且只会将用户重定向到主页并显示警告的东西。

到目前为止，我的搜索方法如下所示：

```
public String search(DataBaseHelper myDB){
    SQLiteDatabase db = myDB.getReadableDatabase();
    Cursor cursor = db.rawQuery("SELECT BuildingColor, Room FROM LSBuildingsDB WHERE _id =" + newString, null);

    cursor.moveToFirst();

    String data = cursor.getString(cursor.getColumnIndexOrThrow("BuildingColor")) + " " +
                    cursor.getString(cursor.getColumnIndex("Room"));

    //Toast msg = Toast.makeText(getBaseContext(),data, Toast.LENGTH_SHORT);
    //msg.show();

    cursor.close();

    return data;

} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T07:28:10.583

```
Cursor cursor = NULL ;
try
{
   cursor = db.rawQuery("SELECT BuildingColor, Room FROM LSBuildingsDB WHERE _id =" + newString, null);
   if(cursor != NULL)
   {
      try {
         if (cursor.moveToNext()) {
            String data = cursor.getString(cursor.getColumnIndexOrThrow("BuildingColor")) + 
               " " + cursor.getString(cursor.getColumnIndex("Room"));
         } else {
            // Query result was empty, deal with it here.
         }
      } finally {
        // Cursors should be closed
        cursor.close();
      }
   }
}
catch (SQLiteException e) // (Exception e) catch-all:s are bad mmkay.
{
    //print exception
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:29:53.007

```
Cursor cursor = null;
String data = "";
try 
{
    cursor = db.rawQuery("SELECT BuildingColor, Room FROM LSBuildingsDB WHERE _id =" + newString, null);
}catch (Exception e) {
    // TODO: handle exception
} 
```

# c# - 从 MySQL 数据库中获取结构和数据并导入 SQLite 数据库？

> ID：10877695
> 
> 赞同：1
> 
> 时间：2012-06-04T07:22:43.727
> 
> 标签：c#, mysql, database, sqlite

我有一个程序，我想在线从我的 MySQL 数据库中获取数据，获取 sql 以逐个转储表，然后将数据转储并放入新的 SQLite 数据库中。一旦看到 SQLite DB 存在，它就不会再次运行，所以我不需要担心文件名等。

无论如何，对于我的主要问题：如何使用 C# 从 MySQL 数据库中获取数据转储，并将其转储到 SQLite DB 中，包括结构？

干杯

# jquery - 在 flexigrid 中动态添加数据

> ID：10877696
> 
> 赞同：1
> 
> 时间：2012-06-04T07:22:51.573
> 
> 标签：jquery, rows, dynamically-generated, flexigrid

我正在使用 flexigrid，并且数据被动态添加到该网格中。但由于某种原因，行的格式不正确（css 风格）。我尝试`jQuery('#tblEntAttributes').flexigrid();`在动态填充表后调用，其中 tblEntAttributes 是我的表名。但是这些行仍然显得迷失方向。按表格行包含普通文本以及一些复选框。

知道如何实现吗？

# r - R中向量的p值

> ID：10877698
> 
> 赞同：0
> 
> 时间：2012-06-04T07:22:59.900
> 
> 标签：r, statistics

我想在 中获取 F 值向量的 p 值`R`。

```
set.seed(12345)
dat <- data.frame(df = round(runif(n=10, min=5, max=10)), F=runif(n=10, min=1, max=50))
pf(q = dat[2], df1 = dat[1], df2 = dat[10, 1], ncp = 0, lower.tail = FALSE, log.p = FALSE) 
```

我可以通过元素来做到这一点，但无法弄清楚如何为向量实现这一点。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T07:27:14.960

该`pf()`函数适用于向量。尝试：

```
pf(q = dat$F, df1 = dat$df, df2 = dat[10, 1], 
   ncp = 0, lower.tail = FALSE, log.p = FALSE) 
```

# asp-classic - 基于 VB 脚本的 ASP Classic 应用程序在 IE 浏览器中不显示正确的输出

> ID：10877711
> 
> 赞同：0
> 
> 时间：2012-06-04T07:24:06.487
> 
> 标签：asp-classic, vbscript, iso-8859-1

我根本不了解 ASP Classic。我们有一个在 ASP Classic 中运行的应用程序。有许多以 .asp 扩展名结尾的页面。但是其中的 2 页并没有按应有的方式显示在浏览器中。所有其他页面显示良好。

名为reports.asp 的页面将提供所有报告的详细信息。以前很好用，现在突然坏了，不知道什么时候坏了。这是该页面上的代码块。：

[https://skydrive.live.com/?cid=91042bbe021e2dd7#cid=91042BBE021E2DD7&id=91042BBE021E2DD7%21136](https://skydrive.live.com/?cid=91042bbe021e2dd7#cid=91042BBE021E2DD7&id=91042BBE021E2DD7%21136)

结果显示是这样的：

[https://skydrive.live.com/?cid=91042bbe021e2dd7#cid=91042BBE021E2DD7&id=91042BBE021E2DD7%21181](https://skydrive.live.com/?cid=91042bbe021e2dd7#cid=91042BBE021E2DD7&id=91042BBE021E2DD7%21181)

它应该以表格格式显示

非常感谢任何帮助显示如上所示的文件。

让我知道如何调试此页面。提前致谢

尼克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T03:28:57.673

我可以通过重新创建一个新页面来获取表格。我已将第 59 行的代码从：

```
strLink = "../" & "RequisitionForm.asp?Cancel=Yes&DocketID=" & arrDockets(0, i) & "&Code=" & arrDockets(4, i) 
```

至

```
strLink = "../" & "RequisitionForm.asp?DocketID=" & arrDockets(0, i) & "&Code=" & arrDockets(4, i) 
```

我已经删除`Cancel=yes` 了更改的效果是什么？我不知道如果我进行这些更改会发生什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T21:38:37.577

我查看了您的 asp 代码，乍一看没有任何问题，但是您应该在具有调试功能的浏览器中打开它，例如带有 firebug 插件的 firefox，使插件处于活动/可行状态并切换到控制台窗口。错误应该与它们发生的行一起列出。

如果您在源头没有任何更改并且它曾经工作过，那么问题可能出在数据库或代码中的数据表示、特殊字符、显示日期的区域设置等。

# relational-database - 在给定 FD:s 的情况下找到候选键的方法？

> ID：10877720
> 
> 赞同：3
> 
> 时间：2012-06-04T07:24:33.603
> 
> 标签：relational-database, database-normalization, relational-algebra, functional-dependencies

我正在练习将一组函数依赖项和输出候选键作为输入。是否有一种算法，在这种情况下，为什么没有基于 Web 的实现，我可以在其中输入我的 FD:s 并作为输出获得超级键/候选键的列表？

我练习我在 SO 上找到的内容，一个合适的问题是 [如何找到给定关系的最高范式，](https://stackoverflow.com/questions/9402650/how-to-find-the-highest-normal-form-for-a-given-relation) 其中提到的函数依赖关系是

B->G

BI->CD

EH-> AG

G-> 德

当我尝试发现候选键是 BFHI 时，请检查我是否这样做正确：

FD B->G 可以重写为 ABCDEFHI->ABCDEFGHI，因此 ABCDEFHI 是一个超级键。FD BI->CD 可以重写为 ABEFGHI->ABCDEFGHI，因此 ABEFGHI 是一个超级键。FD EH->AG 可以重写为 BCDEEFHI->ABCDEFGHI，因此 BCDEEFHI 是一个超级键。FD G->DE 可以重写为 ABCFGHI->ABCDEFGHI，因此 ABCFGHI 是一个超级键。

在我们的超级键中，BFHI 存在于每一个中。因此 BFHI 是候选键，它不能进一步减少，这可以从检查中看出（？）

我的推理方式正确吗？

增广算法还可以处理另一个问题，如果可行的话， [数据库无关属性和分解](https://stackoverflow.com/questions/6824633/database-extraneous-attributes-and-decomposition)

在这里，FD:s 是

A->BCD

BC->DE

B->D

D->A

这里 FB A->BCD 可以写成 AEF->ABCDEF，因此 AEF 是一个超级键。FD BC->DE 可以重写为 ABCF->ABCDEF，因此 ABCF 是一个超级键。FD B->D 可以重写为 ABCEF->ABCDEF，因此 ABCEF 是一个超级键。FD D->A 可以重写为 BCDEF->ABCDEF，因此 BCDEF 是一个超级键。对于所有超级键，F 是每个超级键中唯一的成员，因此 F 是唯一的候选键。

这行得通吗？

感谢您的任何回答/评论

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T08:45:14.947

```
No, but as F is not in any of the FD:s then it has to be a member of every candidate key.

Also, A->BCD, BC->DE, B->D, D->A give us 
A+ (the cover of A) = ABCDE
B+ = ABCDE
C+ = C
D+ = ABCDE so the 
E+ = E
F+ = F.

The combinations giving ABCDEF are
AF
BF
DF
and hence the candidate keys are {AF, BF, DF}
and every enhancement of any of those three are the superkeys 
```

# google-sheets - 如何在javascript中将对象转换为范围类型的谷歌电子表格

> ID：10877724
> 
> 赞同：0
> 
> 时间：2012-06-04T07:25:23.460
> 
> 标签：google-sheets, google-apps-script

我正在研究在谷歌电子表格中做一些功能。

例如函数 test (searchvalue, searchrange) 调用：test("found", B3:C5)

参数 searchrange 是对象，基因类型是电子表格服务的范围，
但是我怎样才能将 searchrange 转换为谷歌电子表格的范围。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T19:28:05.910

当您在自定义函数上收到“范围”参数时，您会直接收到范围的值，而不是范围本身。

如果参数是单个单元格，您将直接收到其值。如果它是一个多单元格范围，您将收到一个值矩阵。无论多范围是单列还是单行（它始终是值矩阵）。

无论如何，我不建议您开发这样的功能，因为已经有一个原生电子表格功能，即`match`公式。使用本机公式总是比自定义函数更好，你应该避免自定义函数，它们很慢并且难以正确编写和使用。

# android - 如何从数据库中获取项目的值并将其设置为微调器值

> ID：10877731
> 
> 赞同：2
> 
> 时间：2012-06-04T07:26:04.313
> 
> 标签：android, database, spinner, android-arrayadapter, simplecursoradapter

我有一个数据库，该数据库填充了一个列表视图。当我长按列表视图中的列表项时，我会得到一个上下文菜单，我可以在其中选择进行编辑。单击编辑选项时，我打开一个活动并从数据库中获取各个字段的所有值。现在，我想从数据库中获取一个值并将其显示在微调器中。微调器已经具有这些值，并且正在从数据库中填充...我尝试了以下操作，但我收到一条错误消息，说我无法将 SimpleCursorAdapter 转换为 ArrayAdapter..

```
 String osub = cursor.getString(Database.INDEX_SUBJECT);
        Cursor cs = mDBS.querySub(osub);
        String subs = cs.getString(DatabaseSub.INDEX_SSUBJECT);
        if(cs!=null){
            ArrayAdapter<String> myAdap = (ArrayAdapter<String>) subSpinner.getAdapter();   
                              //cast to an ArrayAdapter

            int spinnerPosition = myAdap.getPosition(subs);

            //set the default according to value
            subSpinner.setSelection(spinnerPosition); 
```

请告诉我该怎么做.. 谢谢.. 我比较新，所以如果我忽略了某些东西，请告诉我。

谢谢..

**编辑**

`querySub`方法

```
public Cursor querySub(String sub) throws SQLException {
    Cursor cursor = mDatabase.query(true, DATABASE_TABLE, sAllColumns, "ssub like " + "'" + sub + "'", null, null, null, null, null);
    if (cursor.moveToNext()) {
        return cursor;
    }
    cursor.moveToFirst();
    return cursor;
} 
```

`Error Log`

```
06-05 12:11:14.144: E/AndroidRuntime(775): FATAL EXCEPTION: main
06-05 12:11:14.144: E/AndroidRuntime(775): java.lang.RuntimeException: Unable to start activity    ComponentInfo{an.droid.kit/an.droid.kit.DetailsActivity}: java.lang.ClassCastException:    android.widget.SimpleCursorAdapter cannot be cast to android.widget.ArrayAdapter
06-05 12:11:14.144: E/AndroidRuntime(775):  at  android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1956)
06-05 12:11:14.144: E/AndroidRuntime(775):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1981)
06-05 12:11:14.144: E/AndroidRuntime(775):  at android.app.ActivityThread.access$600(ActivityThread.java:123)
06-05 12:11:14.144: E/AndroidRuntime(775):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1147)
06-05 12:11:14.144: E/AndroidRuntime(775):  at android.os.Handler.dispatchMessage(Handler.java:99)
06-05 12:11:14.144: E/AndroidRuntime(775):  at android.os.Looper.loop(Looper.java:137)
06-05 12:11:14.144: E/AndroidRuntime(775):  at android.app.ActivityThread.main(ActivityThread.java:4424)
06-05 12:11:14.144: E/AndroidRuntime(775):  at java.lang.reflect.Method.invokeNative(Native Method)
06-05 12:11:14.144: E/AndroidRuntime(775):  at java.lang.reflect.Method.invoke(Method.java:511)
06-05 12:11:14.144: E/AndroidRuntime(775):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
06-05 12:11:14.144: E/AndroidRuntime(775):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
06-05 12:11:14.144: E/AndroidRuntime(775):  at dalvik.system.NativeStart.main(Native Method)
06-05 12:11:14.144: E/AndroidRuntime(775): Caused by: java.lang.ClassCastException:     android.widget.SimpleCursorAdapter cannot be cast to android.widget.ArrayAdapter
06-05 12:11:14.144: E/AndroidRuntime(775):  at an.droid.kit.DetailsActivity.dbToUI(DetailsActivity.java:217)
06-05 12:11:14.144: E/AndroidRuntime(775):  at an.droid.kit.DetailsActivity.onCreate(DetailsActivity.java:104)
06-05 12:11:14.144: E/AndroidRuntime(775):  at android.app.Activity.performCreate(Activity.java:4465)
06-05 12:11:14.144: E/AndroidRuntime(775):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
06-05 12:11:14.144: E/AndroidRuntime(775):  at     android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1920)
06-05 12:11:14.144: E/AndroidRuntime(775):  ... 11 more 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T16:38:53.920

我也遇到了类似的问题。**问题**：我不得不将微调器设置为特定的字符串值，而不知道该字符串值在微调器控件本身中的位置。我创建的解决方法是使用微调器控件并循环浏览其文本值。在每个位置，将微调器文本值与我想要设置的给定字符串值进行比较。如果匹配，则获取该当前位置并根据该位置设置我的微调器选择。

```
int spinnerPosition = 0;

for (int i = 0; i < yourSpinner.getCount(); i++) 
{
     Cursor cur = (Cursor)(yourSpinner.getItemAtPosition(i));

     //--When your bind you data to the spinner to begin with, whatever columns you
     //--used you will need to reference it in the cursors getString() method...

     //--Since "getString()" returns the value of the requested column as a String-- 
     //--(In my case) the 4th column of my spinner contained all of my text values 
     //--hence why I set the index of "getString()" method to "getString(3)"

     String currentSpinnerString = cur.getString(3).toString();
     if(currentSpinnerString.contains("place string you want to set the spinner to here"))
     {
        //--get the spinner position--
        spinnerPosition = i;
        break;
      }
 }

 yourSpinner.setSelection(spinnerPosition); 
```

# audio - 语音通话服务商

> ID：10877733
> 
> 赞同：1
> 
> 时间：2012-06-04T07:26:16.030
> 
> 标签：audio, service, sms, call, voip

有谁知道可以拨打电话以向全球任何电话号码读取内容的音频呼叫服务提供商？

我们的用例是
1，用户在手机上注册我们的产品。用户可能来自任何国家。
2，用户输入他的电话号码并发送到我们的服务器。
3、我们的服务器会生成4位数字作为他的验证码，并与他的电话号码一起发送给AUDIO CALL SERVICE PROVIDER。
4、AUDIO CALL SERVICE PROVIDER需要拨打此电话号码并读取验证码。
5、用户在我们的产品中输入此验证码即可完成我们的注册流程。

我们已经有一个 SMS 提供商，但是存在移植电话号码的问题，这可能会导致验证消息丢失，甚至一些电信运营商可能会阻止点对点消息。所以我们决定找一个语音通话服务商来保证用户注册成功作为第二种方式。

请告知可以满足我们要求的服务提供商。提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-12T00:24:30.457

你可以在这里参观。-- [https://www.speechtotextservice.com/](https://www.speechtotextservice.com/)

希望您喜欢他们的服务，并且这些提供商能够满足您的要求。

# python - 编码为 utf8 时丢失数据

> ID：10877734
> 
> 赞同：1
> 
> 时间：2012-06-04T07:26:17.267
> 
> 标签：python, encoding, twitter

我正在使用 python 并使用**Twitter api**接收有关用户的数据。我得到的是一个 json 编码的属性字典。例如

```
{

"id": 123456789,

"name": "ととり～む",

"screen_name": "somescreenname",

"description": "こんにちは♪ キャラ的にはこなたですが好きな子はつかさな私です。 ゲーム・漫画・アニメならなんでも好きです。 気が合う方はよろしくお願いします。 ",

} 
```

**注意：**这不是我收到的确切字典，而是针对问题进行的总结。

我的一些用户有另一种语言的数据，假设是**Japanese**。我想保存我的用户的**“名称”**。当我使用：

```
data["name"].encode('utf8') 
```

我仍然最终失去了一些像这样的角色￣ﾁﾨ￣ﾁﾨ￣ﾂﾊ￯ﾽﾞ￣ﾂﾀ。我不想丢失任何数据，我可以在这里应用的最佳机制是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T07:44:06.433

我想你会发现你实际上并没有丢失任何数据。你应该能够做到：

```
data['name'].encode('utf8').decode('utf8') 
```

并取回原始字符串。您可以将中间`bytes`对象写入磁盘，稍后再将其读回并对其进行解码以达到相同的效果。

您似乎担心的是打印编码字符串时出现的方块和其他废话 - 这几乎可以肯定是显示问题，而不是数据丢失。可能您的终端正在尝试以不同的编码解释字节，从而导致[Mojibake](http://en.wikipedia.org/wiki/Mojibake)。只要您小心地将编码直接保存在程序中，这不会给您带来问题 - 只需检查您是否可以进行上述往返。

# extjs - 如何在一页中显示extjs图表和extjs网格

> ID：10877737
> 
> 赞同：-1
> 
> 时间：2012-06-04T07:26:49.077
> 
> 标签：extjs, salesforce

在我的要求中，我必须显示饼图和网格面板，当我们单击命令链接时应该显示统计数据。所以我在 4.0.7 版本中开发了饼图，显示数据的网格面板是 3.1.1，当我单击带有数据的网格必须显示在同一页面中的链接时，我在图表上方显示了一个命令链接. 但是当我单击链接时，没有显示带有数据的网格。在错误控制台中，我正在显示不支持 ext_all.js。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T07:54:58.147

Salesforce 将 extJS3 用于他们自己的一些东西，如果您的页面使用工厂侧边栏等，那么您需要在沙盒模式下使用 extJS4。看[这里](https://stackoverflow.com/questions/9364033/what-is-an-extjs-sandbox)

# javascript - Bootstrap Tabs Hover 修改

> ID：10877739
> 
> 赞同：0
> 
> 时间：2012-06-04T07:27:01.807
> 
> 标签：javascript, css, tabs, hover, twitter-bootstrap

我更改了引导选项卡以在悬停时工作，并进行了一些更改以正确隐藏内容选项卡。

我希望它充当动态弹出/弹出层。

现在的问题是，当您将鼠标悬停在菜单上后未将鼠标悬停在任何内容上时，它无法正常工作。我希望它在悬停在相应的选项卡或内容本身上时可见。我快速更改原始脚本的问题在于，当您将选项卡留在左侧（第一个菜单项）或右侧（第三个菜单项）时，它仍然会显示内容。

它在以下 jsFiddle 中进行了说明：

[http://jsfiddle.net/WnQvF/27/](http://jsfiddle.net/WnQvF/27/)

一个简单，干净的解决方案将不胜感激。

# android - traceview 无法写入 sd 卡

> ID：10877740
> 
> 赞同：4
> 
> 时间：2012-06-04T07:27:08.547
> 
> 标签：android, debugging

我添加如下traceview代码：

```
Debug.startMethodTracing("perf_trance");
//code
Debug.stopMethodTracing(); 
```

然后，我在清单中设置了所需的权限。

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

但是当我运行我的应用程序以跟踪查看性能时，我得到了 RuntimeException：

```
06-04 14:57:23.083: E/AndroidRuntime(5584): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.myxx.testapp/com.myxx.testapp.MainActivity}: java.lang.RuntimeException: Unable to open trace file '/mnt/sdcard/perf_trance.trace': Permission denied
06-04 14:57:23.083: E/AndroidRuntime(5584):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2007)
06-04 14:57:23.083: E/AndroidRuntime(5584):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2034)
06-04 14:57:23.083: E/AndroidRuntime(5584):     at android.app.ActivityThread.access$600(ActivityThread.java:129)
06-04 14:57:23.083: E/AndroidRuntime(5584):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1185)
06-04 14:57:23.083: E/AndroidRuntime(5584):     at android.os.Handler.dispatchMessage(SourceFile:99)
06-04 14:57:23.083: E/AndroidRuntime(5584):     at android.os.Looper.loop(SourceFile:137)
06-04 14:57:23.083: E/AndroidRuntime(5584):     at android.app.ActivityThread.main(ActivityThread.java:4518)
06-04 14:57:23.083: E/AndroidRuntime(5584):     at java.lang.reflect.Method.invokeNative(Native Method)
06-04 14:57:23.083: E/AndroidRuntime(5584):     at java.lang.reflect.Method.invoke(Method.java:511)
06-04 14:57:23.083: E/AndroidRuntime(5584):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(SourceFile:809)
06-04 14:57:23.083: E/AndroidRuntime(5584):     at com.android.internal.os.ZygoteInit.main(SourceFile:576)
06-04 14:57:23.083: E/AndroidRuntime(5584):     at dalvik.system.NativeStart.main(Native Method)
06-04 14:57:23.083: E/AndroidRuntime(5584): Caused by: java.lang.RuntimeException: Unable to open trace file '/mnt/sdcard/perf_trance.trace': Permission denied
06-04 14:57:23.083: E/AndroidRuntime(5584):     at dalvik.system.VMDebug.startMethodTracingNative(Native Method)
06-04 14:57:23.083: E/AndroidRuntime(5584):     at dalvik.system.VMDebug.startMethodTracing(VMDebug.java:175)
06-04 14:57:23.083: E/AndroidRuntime(5584):     at android.os.Debug.startMethodTracing(SourceFile:496)
06-04 14:57:23.083: E/AndroidRuntime(5584):     at android.os.Debug.startMethodTracing(SourceFile:444)
06-04 14:57:23.083: E/AndroidRuntime(5584):     at com.mediatek.oobe.basic.MainActivity.onCreate(MainActivity.java:154)
06-04 14:57:23.083: E/AndroidRuntime(5584):     at android.app.Activity.performCreate(Activity.java:4479)
06-04 14:57:23.083: E/AndroidRuntime(5584):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1050)
06-04 14:57:23.083: E/AndroidRuntime(5584):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1971)
06-04 14:57:23.083: E/AndroidRuntime(5584):     ... 11 
```

不知道为什么traceview不能写入/mnt/sdcard/？

我还注意到目录的权限是d---rwxr-x，这是根本原因吗？

# android - Android，是否可以像 System.out.format("%02d", n); 这样格式化 textview？

> ID：10877742
> 
> 赞同：2
> 
> 时间：2012-06-04T07:27:30.723
> 
> 标签：android, textview, format

我有一个不同列的表。而不是为每个项目创建文本视图，我希望每一行都有一个文本视图。我想将每个项目一一添加到行字符串中。因为有些项目可能有 1 位数字，而另一些项目可能有两位数字，我想格式化它。

在 Java 中，我们执行以下操作：

```
intn = 7;
System.out.format("%0d", n);      //  -->  "07" 
```

是否可以对 textview 做同样的事情？如果是的话怎么做。谢谢

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-04T07:29:25.347

[http://developer.android.com/guide/topics/resources/string-resource.html](http://developer.android.com/guide/topics/resources/string-resource.html)

格式化字符串

```
<string name="welcome_messages">Hello, %1$s! You have %2$d new messages.</string>

Resources res = getResources();
String text = String.format(res.getString(R.string.welcome_messages), username, mailCount); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-04T07:30:26.247

可以的，参考[这个](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29)

```
String text = String.format("%0d", n);
textView.setText(text); 
```

# windows-phone-7 - 将图像从图像控件保存到 Windows Phone 7 中的图库

> ID：10877753
> 
> 赞同：2
> 
> 时间：2012-06-04T07:28:16.063
> 
> 标签：windows-phone-7, image-gallery

我在图像控件中有一个图像，如下所示：

```
<Image x:name="myImg" Source="Images/MyImg.png" /> 
```

如何将此图像保存到图像库中，以便我可以通过转到图库文件夹来查看。

我尝试了不同的代码，但无法保存。请帮助我。

**编辑：**

我在列表框中控制图像。我正在将列表框与来自 Web 服务的 IList 绑定。

因此，在绑定图像后，如果用户想要保存图像，他可以保存他想要保存的特定内容。

那么我怎样才能保存那个特定的图像。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T08:08:55.920

有一篇出色的 MSDN 文章描述了这种情况： [如何：为 Windows Phone 编码 JPEG 并保存到图片库](http://msdn.microsoft.com/en-us/library/ff769549%28v=VS.92%29.aspx)

`windows phone save image to media library`顺便说一句，它也是在[Google](https://www.google.com/#sclient=psy-ab&hl=en&q=windows%20phone%20save%20image%20to%20media%20library&oq=windows%20phone%20save%20image%20to&aq=1K&aqi=g-K2g-b1g-bK1&aql=&gs_l=hp.11.1.0i30l2j0i8j0i8i30.212.12947.0.14140.48.32.0.13.13.2.246.4033.7j20j3.30.0...0.0.MMYoB4IDSbg&pbx=1&bav=on.2,or.r_gc.r_pw.,cf.osb&fp=59f849ff23f382f&biw=1010&bih=783&pf=p&pdl=300)和[Bing](http://www.bing.com/search?q=windows+phone+save+image+to+library&qs=AS&form=QBLH&pq=windows+phone+save+ima&sc=3-22&sp=2&sk=AS1)上搜索时的第一个搜索结果链接。

您是否尝试过遵循本指南，如果是，您有什么问题？

保存它的基本代码：

```
private void btnSave_Click(object sender, RoutedEventArgs e)
{
    // Create a file name for the JPEG file in isolated storage.
    String tempJPEG = "TempJPEG";

    // Create a virtual store and file stream. Check for duplicate tempJPEG files.
    var myStore = IsolatedStorageFile.GetUserStoreForApplication();
    if (myStore.FileExists(tempJPEG))
    {
        myStore.DeleteFile(tempJPEG);
    }

    IsolatedStorageFileStream myFileStream = myStore.CreateFile(tempJPEG);

    // Create a stream out of the sample JPEG file.
    // For [Application Name] in the URI, use the project name that you entered 
    // in the previous steps. Also, TestImage.jpg is an example;
    // you must enter your JPEG file name if it is different.
    StreamResourceInfo sri = null;
    Uri uri = new Uri("[Application Name];component/TestImage.jpg", UriKind.Relative);
    sri = Application.GetResourceStream(uri);

    // Create a new WriteableBitmap object and set it to the JPEG stream.
    BitmapImage bitmap = new BitmapImage();
    bitmap.CreateOptions = BitmapCreateOptions.None;
    bitmap.SetSource(sri.Stream);
    WriteableBitmap wb = new WriteableBitmap(bitmap);

    // Encode the WriteableBitmap object to a JPEG stream.
    wb.SaveJpeg(myFileStream, wb.PixelWidth, wb.PixelHeight, 0, 85);
    myFileStream.Close();

    // Create a new stream from isolated storage, and save the JPEG file to the media library on Windows Phone.
    myFileStream = myStore.OpenFile(tempJPEG, FileMode.Open, FileAccess.Read);

    // Save the image to the camera roll or saved pictures album.
    MediaLibrary library = new MediaLibrary();

    if (radioButtonCameraRoll.IsChecked == true)
    {
        // Save the image to the camera roll album.
        Picture pic = library.SavePictureToCameraRoll("SavedPicture.jpg", myFileStream);
        MessageBox.Show("Image saved to camera roll album");
    }
    else
    {
        // Save the image to the saved pictures album.
        Picture pic = library.SavePicture("SavedPicture.jpg", myFileStream);
        MessageBox.Show("Image saved to saved pictures album");
    }

    myFileStream.Close();
} 
```

# wpf - 绑定异常但我不知道为什么？

> ID：10877754
> 
> 赞同：1
> 
> 时间：2012-06-04T07:28:20.200
> 
> 标签：wpf, binding

我有一个带有该代码的自定义用户控件：

```
public partial class AudioControl : UserControl
{
    public AudioControl()
    {
        InitializeComponent();
        Value = 0.1;
        DataContext = this;
    }

    public event RoutedPropertyChangedEventHandler<double> ValueChanged = delegate { };

    public int TextWidth
    {
        get { return (int)GetValue(TextWidthProperty); }
        set { SetValue(TextWidthProperty, value); }
    }

    public int SliderWidth
    {
        get { return (int)GetValue(SliderWidthProperty); }
        set { SetValue(SliderWidthProperty, value); }
    }

    public string Header
    {
        get { return (string)GetValue(TextBlock.TextProperty); }
        set { SetValue(TextBlock.TextProperty, value); }
    }

    //public double Value
    //{
    //    get { return (double)GetValue(Slider.ValueProperty); }
    //    set { SetValue(Slider.ValueProperty, value); }
    //}

    public double Value
    {
        get {
            return (double)GetValue(ValueProperty); 
        }
        set { 
            SetValue(ValueProperty, value);
        }
    }

    public static readonly DependencyProperty ValueProperty =
        DependencyProperty.Register("Value", typeof(double), typeof(AudioControl), new UIPropertyMetadata(0));

    public static readonly DependencyProperty TextWidthProperty =
        DependencyProperty.Register("TextWidth", typeof(int), typeof(AudioControl), new UIPropertyMetadata(0));

    public static readonly DependencyProperty SliderWidthProperty =
        DependencyProperty.Register("SliderWidth", typeof(int), typeof(AudioControl), new UIPropertyMetadata(0));

    private void Slider_ValueChanged(object sender, RoutedPropertyChangedEventArgs<double> e)
    {
        ValueChanged(this, e);
    }
} 
```

而这个 XAML：

```
<UserControl x:Class="Controller.Audio.AudioControl"
         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
         xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
         xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
         xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
         xmlns:Audio="clr-namespace:Controller.Audio"
         mc:Ignorable="d" 
         d:DesignHeight="23" d:DesignWidth="500" x:Name="audioControl">
<UserControl.Resources>
    <Audio:DoubleToIntConverter x:Key="doubleToInt"/>
</UserControl.Resources>
<Grid>
    <Grid.ColumnDefinitions>
        <ColumnDefinition Width="{Binding TextWidth}"/>
        <ColumnDefinition Width="40"/>
        <ColumnDefinition Width="{Binding SliderWidth}"/>
    </Grid.ColumnDefinitions>

    <Label x:Name="txtBlock" Margin="0,0,10,0">
        <Binding Path="Header"/>
    </Label>
    <Label Grid.Column="1" Content="{Binding ElementName=slider, Path=Value, Converter={StaticResource doubleToInt}}"/>
    <Slider x:Name="slider" Grid.Column="2" Style="{StaticResource Office2010SilverSliderStyle}" 
            Value="{Binding Path=Value, ElementName=audioControl}" Minimum="0.0" Maximum="1.0" LargeChange="0.25" TickFrequency="0.01" ValueChanged="Slider_ValueChanged"/>
</Grid> 
```

因此，如果我启动它，我会得到一个异常，即值绑定的某些东西是错误的。我还尝试了注释版本（价值属性）。也不例外，但如果我设置该属性的值，我的滑块不会改变。

有谁知道为什么？我从来没有做过这样的事情:(

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T09:20:06.727

以下依赖属性声明中存在错误：

```
public static readonly DependencyProperty ValueProperty =
    DependencyProperty.Register("Value", typeof(double), typeof(AudioControl), new UIPropertyMetadata(0)); 
```

这里的问题是您将依赖属性定义为 type `double`，但给它一个默认值`0`是`int`. 尝试更改`0`为`0.0`.

我运行了您的代码并遇到了异常。最里面的异常包含以下消息：

> 默认值类型与属性“值”的类型不匹配。

我将`0`上面一行中的更改为`0.0`，问题就消失了。

# jsp - 错误使用 用jsp在表中

> ID：10877756
> 
> 赞同：0
> 
> 时间：2012-06-04T07:28:47.803
> 
> 标签：jsp, if-statement, html-table

我正在使用 jsp 开发网络应用程序。

我想要做的是，如果变量不为空，我将显示它，但如果为空，我将`-`在表格行中显示字符。

到目前为止，这是我的代码，我从[这里学到了](https://stackoverflow.com/questions/4587397/how-to-use-if-else-option-in-jstl)

```
<table id="hor-minimalist-a" summary="Employee Pay Sheet">
    <caption>Riwayat Status</caption>
        <thead>
            <tr>
             <th scope="col">Status</th>
             <th scope="col">Tanggal</th>

            </tr>
        </thead>
        <tbody>
            <tr>  
             <td>Tanggal DP</td>
             <c:choose>
               <c:when test="${Transaction.tglDP}">
                <td>${Transaction.tglDP}</td>
               </c:when>
               <c:otherwise}>
                <td>-</td>
               </c:otherwise>
             </c:choose>
</tr>
</tbody>
</table> 
```

但是当我运行网站时，当该变量不为空时，它也会显示值和字符。

我在这里想念什么？

编辑：有关信息，Transaction.tglDP 类型是 java.util.Date

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T07:32:19.777

您可以使用 not empty 进行空检查，如果您想要 if else 阻止，您也不必执行多个操作，否则只需使用

```
<c:choose>
      <c:when test="${not empty  Transaction.tglDP}">
            <td>${Transaction.tglDP}</td>
      </c:when>
      <c:otherwise>
            <td>-</td>
      </c:otherwise>
</c:choose> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T12:36:27.010

最后我知道我的代码有什么问题。因为我是 jsp 的新手，并且我上面的问题中的链接没有提到使用 jstl 库，所以我认为这样编写代码就足够了。我自己的错误。我没有在我的库中包含 jstl.1.2.jar 并忘记放置这一行：

```
<%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%> 
```

并查看来自@mprabhat 的答案。谢谢大家:)

# android - 如何在 ViewPager 布局的页面之一中填充 Listview

> ID：10877757
> 
> 赞同：1
> 
> 时间：2012-06-04T07:28:49.710
> 
> 标签：android, listview, android-viewpager

我有一个关于 ViewPager 的非常基本的问题。我有一个包含 5 个页面的 ViewPagerActivity，除了 ViewPagerActivity.java 的 setContentView(R.layout.main) 中引用的 main.xml（参见下面的代码）之外，每个页面都有自己的布局 xml。

“中间”页面（middle.xml，它是 5 个布局 xml 之一）包括一个 Listview，它使用来自数据库的数据动态填充。

这是我的问题。我应该在哪里放置以下代码来填充 Listview 并设置 ClickListener？

```
mMemoListView = (ListView)findViewById(R.id.list_in_middle_layout);
mMemoListAdapter = new MemoListAdapter(this);
mMemoListView.setAdapter(mMemoListAdapter);
mMemoListView.setOnItemClickListener(new OnItemClickListener() {
    public void onItemClick(AdapterView<?> arg0, View arg1, int position, long arg3) {
         viewMemo(position);
}
   }); 
```

我不认为它会在 ViewPagerActivity.java 中，除非它可以通过 setContentView() 引用 main.xml 和 middle.xml。我也想过添加一个引用middle.xml的java类，但是我不知道当中间页面膨胀时如何激活它（？）。（请参阅下面的 MyPageAdapter 以了解每个页面是如何膨胀的。）

谢谢阅读。请随时要求进一步澄清。

这是 main.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">
<android.support.v4.view.ViewPager
android:layout_width="match_parent"
android:layout_height="match_parent"
android:id="@+id/myfivepanelpager"/>
</LinearLayout> 
```

这是middle.xml

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="#ffffffff"
>
<RelativeLayout
    android:id="@+id/titleLayout"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentTop="true"
    android:background="#ffffffff"
    >
    <com.ViewPager.TitleBackgroundButton
        android:id="@+id/titleBackgroundBtn"
             android:layout_width="fill_parent"
    android:layout_height="48dp"
    android:layout_alignParentTop="true"
        android:text="Memo"
        android:textSize="18dp"
        android:textStyle="bold"
        />
</RelativeLayout>
<ListView
    android:id="@+id/list_in_middle_layout"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_margin="4dp"
    android:layout_below="@+id/titleLayout"
    android:layout_above="@+id/buttonLayout"
    android:divider="#00000000"
    android:listSelector="#00000000"
    android:cacheColorHint="#00000000"
    />
<LinearLayout
    android:id="@+id/buttonLayout"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_marginTop="10dp"
    android:layout_marginBottom="10dp"
    android:layout_alignParentBottom="true"
    >
    <LinearLayout
    android:id="@+id/buttonLayout"
android:orientation="horizontal"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_gravity="center_horizontal"
>
<com.ViewPager.TitleBitmapButton
android:id="@+id/newMemoBtn"
android:layout_width="100dp"
android:layout_height="48dp"
android:text="New"
android:textSize="18dp"
android:textStyle="bold"
android:textColor="#ff420000"
/>
<com.ViewPager.TitleBitmapButton
android:id="@+id/closeBtn"
android:layout_width="100dp"
android:layout_height="48dp"
android:layout_marginLeft="20dp"
android:text="Close"
android:textSize="18dp"
android:textStyle="bold"
android:textColor="#ff420000"
/>
</LinearLayout>
</LinearLayout>
</RelativeLayout> 
```

这是 ViewPagerActivity.java

```
public class ViewPagerActivity extends Activity {
/** Called when the activity is first created. */

public static final String TAG = "ViewPagerActivity";
@Override
    public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.main);

            MyPagerAdapter adapter = new MyPagerAdapter();
            ViewPager myPager = (ViewPager) findViewById(R.id.myfivepanelpager);
            myPager.setAdapter(adapter);
            myPager.setCurrentItem(2);

    }

    private class MyPagerAdapter extends PagerAdapter {

            public int getCount() {
                    return 5;
            }

            public Object instantiateItem(View collection, int position) {

                    LayoutInflater inflater = (LayoutInflater) collection.getContext()
                                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);

                    int resId = 0;
                    switch (position) {
                    case 0:
                            resId = R.layout.farleft;
                            break;
                    case 1:
                            resId = R.layout.left;
                            break;
                    case 2:
                            resId = R.layout.middle;
                            break;
                    case 3:
                            resId = R.layout.right;
                            break;
                    case 4:
                            resId = R.layout.farright;
                            break;
                    }

                    View view = inflater.inflate(resId, null);

                    ((ViewPager) collection).addView(view, 0);

                    return view;
            }

            @Override
            public void destroyItem(View arg0, int arg1, Object arg2) {
                    ((ViewPager) arg0).removeView((View) arg2);

            }

            @Override
            public void finishUpdate(View arg0) {
                    // TODO Auto-generated method stub

            }

            @Override
            public boolean isViewFromObject(View arg0, Object arg1) {
                    return arg0 == ((View) arg1);

            }

            @Override
            public void restoreState(Parcelable arg0, ClassLoader arg1) {
                    // TODO Auto-generated method stub

            }

            @Override
            public Parcelable saveState() {
                    // TODO Auto-generated method stub
                    return null;
            }

            @Override
            public void startUpdate(View arg0) {
                    // TODO Auto-generated method stub

            }

    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T07:46:20.487

您应该将其添加到您的 switch case in instantiateItem 中：

```
public Object instantiateItem(View collection, int position) {

                View view=null;

                LayoutInflater inflater = (LayoutInflater) collection.getContext()
                                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);

                int resId = 0;
                switch (position) {
                case 0:
                        resId = R.layout.farleft;
                        view = inflater.inflate(resId, null);
                        break;
                case 1:
                        resId = R.layout.left;
                        view = inflater.inflate(resId, null);
                        break;
                case 2:
                        resId = R.layout.middle;
                        view = inflater.inflate(resId, null);
                        ListView memoListView = (ListView)view.findViewById(R.id.list_in_middle_layout);
                        MemoListAdapter memoListAdapter = new MemoListAdapter(this);
                        memoListView.setAdapter(memoListAdapter);

                        break;
                case 3:
                        resId = R.layout.right;
                        view = inflater.inflate(resId, null);
                        break;
                case 4:
                        resId = R.layout.farright;
                        view = inflater.inflate(resId, null);
                        break;
                }

                ((ViewPager) collection).addView(view, 0);

                return view;
        } 
```

# functional-dependencies - 识别功能依赖

> ID：10877763
> 
> 赞同：0
> 
> 时间：2012-06-04T07:29:18.263
> 
> 标签：functional-dependencies

关系：

```
Mobile (Phone number, phone model, owner name, firm name) 
```

公司名称是手机所有者工作的公司。功能依赖是：

```
Phone number -> phone model
Phone number -> owner name 
```

是对的还是我错过了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-07T19:18:50.723

我同意`Phone number -> owner name`（除非您还想将没有所有者的电话号码建模为 NULL 值）。我不太确定`Phone number -> phone model`应该成立：通常数字与 SIM 卡相关联，而不是与设备相关联。`owner name -> firm name`如果每个人都可以为一个且只有一个雇主工作，您还可以添加。或者，如果手机是由公司提供的，那么可以合理地假设每个公司都为每个员工提供了一个电话号码 ( `firm name, owner name -> Phone number`)。

换句话说，不同的功能依赖关系是可能的，这取决于您要建模的确切内容。

# java - String.replaceAll() 函数中的错误

> ID：10877766
> 
> 赞同：3
> 
> 时间：2012-06-04T07:29:30.310
> 
> 标签：java

我正在尝试以下代码：-

```
String x = "asdfg/dgws";
x.replaceAll("/", "\\"); 
```

但这是失败的。这给了我以下错误消息：-

```
Exception in thread "main" java.lang.StringIndexOutOfBoundsException: String index out of range: 1
    at java.lang.String.charAt(Unknown Source)
    at java.util.regex.Matcher.appendReplacement(Unknown Source)
    at java.util.regex.Matcher.replaceAll(Unknown Source)
    at java.lang.String.replaceAll(Unknown Source)
    at com.jai.SecLargest.main(SecLargest.java:13) 
```

我无法弄清楚为什么会出现这个异常？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-06-04T07:32:58.667

`String.replaceAll`最终使用（或等同于使用）[`Matcher.replaceAll`](http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#replaceAll%28java.lang.String%29)，其中包括在文档中：

> 请注意，替换字符串中的反斜杠 () 和美元符号 ($) 可能会导致结果与将其视为文字替换字符串时的结果不同。如上所述，美元符号可以被视为对捕获的子序列的引用，并且反斜杠用于转义替换字符串中的文字字符。

虽然您*可以*按照 AlexR 的回答转义反斜杠，但我强烈建议您`replace`改用：

```
String y = x.replace('/', '\\'); 
```

`replaceAll`这更清楚，IMO -除非你真的*想*通过正则表达式表达模式，否则不要使用。

另请注意，无论如何*编写*您的代码都是无操作的；字符串在 Java 中是不可变的，因此该`replaceAll`方法（和类似的方法）返回对经过修改的*新*字符串的引用。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-04T07:30:39.987

你应该说`x.replaceAll("/", "\\\\");`

反斜杠`\`必须转义两次：一次用于正则表达式引擎，一次用于 java 本身。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-12-07T16:05:50.467

你也可以使用[quoteReplacement()](https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#quoteReplacement(java.lang.String))方法，以防你真的需要一个正则表达式。

# javascript - 奇怪的 javascript 符号 - 带冒号的变量声明？

> ID：10877771
> 
> 赞同：2
> 
> 时间：2012-06-04T07:29:43.367
> 
> 标签：javascript

我一直在查看一些库 javascript 源代码，发现了一个我完全不明白的声明。该库基于**dojo**并使用其“类继承”实现。这是一个主题的代码的简化版本：

```
dojo.declare("myCustomClass", {
    constructor:function(){
        // what does this statement mean?
        isContentShowing : false;

        //here some code that uses isContentShowing in callbacks
        dojo.connect(this, "fakeEvent", this, function(){
            if(this.isContentShowing){
            //do some stuff
            }
            //do more stuff
        });
    }
}); 
```

那么问题来了，`isContentShowing: false;`内部函数体是什么意思呢？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-04T07:31:53.490

它不是一个变量。这是一个[标签](https://developer.mozilla.org/en/JavaScript/Reference/Statements/label)：

> 提供带有标识符的语句，您可以使用 break 或 continue 语句引用该标识符。

在这种情况下，它是*无用*的：它不用作标签，*不*执行赋值，并且评估结果`false`被丢弃。

考虑到下面的条件，我怀疑 a`=` *和* `this`被期望`this.isContentShowing = false`更有意义。也许原作者由于后来`this.isContentShowing`评估`undefined`（因此仍然是错误的，比如，好吧，`false`）而从未遇到/意识到这个错误。

或者，正如 Chris 在评论中建议的那样，意图可能是：

```
dojo.declare("myCustomClass", {
  isContentShowing : false, // but , and not ;
  constructor:...
}); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-04T07:37:33.960

这在 Javascript 中称为对象字面量。它包含键值对，例如：

```
var car = {
    color: 'blue',
    price: 10000
} 
```

所以当你打电话时`car['color'] or car.color`它会返回`blue`。在我的示例中，颜色是键，值是“蓝色”。这就是所谓的键值对。

无论如何，在您的示例中`this.isContentShowing`，默认情况下将返回 false。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-04T16:14:38.057

所以它看起来像是一个放错地方的语句（被解释为标签，正如@pst 所解释的那样）该属性很可能是`constructor:` 传递给的对象上的所有属性的对等点，这些属性`dojo.declare`都放在对象原型上。因为未定义的值是错误的，所以最终的行为几乎相同。在原型上声明虚假属性的价值是有限的，除非有人真的像这样迭代属性来检查是否存在`dojo.parse`。

# matlab - 在 Matlab 中连接来自不同单元格数组的数据

> ID：10877772
> 
> 赞同：0
> 
> 时间：2012-06-03T22:00:14.253
> 
> 标签：matlab, merge

我在 Matlab 中有单元格数组格式的数据，其中的列代表不同的项目。元胞数组具有不同的列，如下例所示：

```
a = {'A', 'B', 'C' ; 1, 1, 1; 2, 2, 2 } 
```

一个=

```
'A'    'B'    'C'
[1]    [1]    [1]
[2]    [2]    [2]

b = {'C', 'D'; 3, 3; 4, 4} 
```

b =

```
'C'    'D'
[3]    [3]
[4]    [4] 
```

我希望能够以下列方式加入不同的单元阵列：

c =

```
'A'    'B'    'C'    'D'
[1]    [1]    [1]    [NaN]
[2]    [2]    [2]    [NaN]
[NaN]  [NaN]  [3]    [3]
[NaN]  [NaN]  [4]    [4] 
```

在实际示例中，我有数百列和几行，因此手动创建新的单元格数组不是我的选择。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T02:05:50.937

我假设您只想根据它们的第一行加入这两个数组。

```
% get the list of all keys
keys = unique([a(1,:) b(1,:)]);

lena = size(a,1)-1;  lenb = size(b,1)-1;

% allocate space for the joined array
joined = cell(lena+lenb+1, length(keys));

joined(1,:) = keys;

% add a
tf = ismember(keys, a(1,:));
joined(2:(2+lena-1),tf) = a(2:end,:);

% add b
tf = ismember(keys, b(1,:));
joined((lena+2):(lena+lenb+1),tf) = b(2:end,:); 
```

这将为您提供连接的数组，除了它有空单元格而不是 NaN。我希望这没问题。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-04T05:10:03.920

如果您愿意将数据存储在数据集数组中（或为此目的将它们转换为数据集数组），您可以执行以下操作：

```
>> d1
d1 = 
    A    B    C
    1    1    1
    2    2    2
>> d2
d2 = 
    C    D
    3    3
    4    4
>> join(d1,d2,'Keys','C','type','outer','mergekeys',true)
ans = 
    A      B      C    D  
      1      1    1    NaN
      2      2    2    NaN
    NaN    NaN    3      3
    NaN    NaN    4      4 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T15:24:47.097

Here is my solution adapted from an [old another](https://stackoverflow.com/a/7921958/97160) to a similar question (simply transpose rows/columns):

```
%# input cell arrays
a = {'A', 'B', 'C' ; 1, 1, 1; 2, 2, 2 };
b = {'C', 'D'; 3, 3; 4, 4};

%# transpose rows/columns
a = a'; b = b';

%# get all key values, and convert them to indices starting at 1
[allKeys,~,ind] = unique( [a(:,1);b(:,1)] );
indA = ind(1:size(a,1));
indB = ind(size(a,1)+1:end);

%# merge the two datasets (key,value1,value2)
c = cell(numel(allKeys), size(a,2)+size(b,2)-1);
c(:) = {NaN};                         %# fill with NaNs
c(:,1) = allKeys;                     %# available keys from both
c(indA,2:size(a,2)) = a(:,2:end);     %# insert 1st dataset values
c(indB,size(a,2)+1:end) = b(:,2:end); %# insert 2nd dataset values 
```

Here is the result (transposed to match original orientation):

```
>> c'
ans = 
    'A'      'B'      'C'    'D'  
    [  1]    [  1]    [1]    [NaN]
    [  2]    [  2]    [2]    [NaN]
    [NaN]    [NaN]    [3]    [  3]
    [NaN]    [NaN]    [4]    [  4] 
```

* * *

Also here is the solution using the [DATASET](http://www.mathworks.com/help/toolbox/stats/dataset.html) class from the Statistics Toolbox:

```
aa = dataset([cell2mat(a(2:end,:)) a(1,:)])
bb = dataset([cell2mat(b(2:end,:)) b(1,:)])
cc = join(aa,bb, 'Keys',{'C'}, 'type','fullouter', 'MergeKeys',true) 
```

with

```
cc = 
    A      B      C    D  
      1      1    1    NaN
      2      2    2    NaN
    NaN    NaN    3      3
    NaN    NaN    4      4 
```

# jquery - 从特定 div 检索输入

> ID：10877778
> 
> 赞同：1
> 
> 时间：2012-06-04T07:30:02.913
> 
> 标签：jquery, html, forms, jquery-selectors, dialog

我目前有多个对话框，但我想保持元素“名称”原样，以便我可以在一个函数中处理它。

代码：

```
 <div class="hiddenInViewSource" id="dialog-properties-section" title="Control Properties">
        <div id="tabs-section">
            <ul>
                <li><a href="#tabs-section-basic">Basic</a></li>
            </ul>
            <div id="tabs-section-basic">
                Section Caption <br/><input type="text" name="label" /><br/>
                Section Introduction <br/><input type="text" name="additionalLabel" /><br/><br/>

                <br/><br/>

                <button>Save</button>
                <button>Cancel</button>
            </div>
        </div>
    </div>

    <div class="hiddenInViewSource" id="dialog-properties-simple" title="Control Properties">
        <div id="tabs-simple">
            <ul>
                <li><a href="#tabs-simple-basic">Basic</a></li>
            </ul>
            <div id="tabs-simple-basic">
                simple Caption <br/><input type="text" name="label" /><br/>

                <br/><br/>

                <button>Save</button>
                <button>Cancel</button>
            </div>
        </div>
    </div> 
```

现在我检索标签的值，例如：

```
 $('[name=label]').val(); 
```

但是，当然，现在它不知道应该从哪个 div 获取它并且它返回空。（因为只有 1 被填满，它会得到错误的。）

我的问题：

如何使用选择器从正确 div 的输入中检索值？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T07:35:30.453

`$('#tabs-simple input[name=label]').val();`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:33:17.710

在选择器中使用主包装器的 ID

```
 alert( $('#tabs-simple input[name=label]').val() ); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T07:33:27.407

```
$('#tabs-section-basic input[name=label]').val();

$('#tabs-simple-basic input[name=label]').val(); 
```

# php - 如何将 mysql_fetch_row 解析为 JSON 对象

> ID：10877780
> 
> 赞同：2
> 
> 时间：2012-06-04T07:30:10.080
> 
> 标签：php, mysql, json

我有以下代码：

```
<?php 
include 'db.php';
$con = mysql_connect($host,$user,$pass);
$dbs = mysql_select_db($databaseName, $con);

$tableName = "tbl_title";
$result = mysql_query("SELECT id, fld_title FROM $tableName");

$data = array();
while ( $row = mysql_fetch_row($result) )
{
    //$data[] = $row;
    //$data['item'][] = $row;
    //$data['item'][] = $row['id'].value;
    $id = $row['id'];
    $fld_title = $row['fld_title'];
    $data = array( "id" => $id, "fld_title" => $fld_title);

    //echo $row['id'] . " " . $row['fld_title'];
            //echo '<option value="'.$row->id.'">'.$row->fld_title.'</option>'; 
}
echo json_encode( $data );  
    //  echo $row[0] . " " . $row[1];
?> 
```

我试图以格式化的方式返回结果，但是，即使我从查询中获得结果，$id 和 $fld_title 也没有设置为值。我错过了什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-04T07:35:16.297

无需引用每一列。`$row`已经是一个数组了。我已更改为使用[mysql_fetch_assoc](http://php.net/mysql_fetch_assoc)，因为它提供了命名列。

```
$data = array();
while ( $row = mysql_fetch_assoc($result) )
{
    $data[] = $row;
}
echo json_encode( $data ); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-04T07:32:12.073

```
$data = array();
while ( $row = mysql_fetch_row($result) )
{
    $data[] = array( "id" => $row['id'] ,"fld_title" => $row['fld_title']);
}
var_dump(json_encode( $data )); 
```

更新
通过 id 获取它：（我猜它是独一无二的）

```
 $data = array();
    while ( $row = mysql_fetch_array($result) )
    {
        $data[$row['id']] = array( "id" => $row['id'] ,"fld_title" => $row['fld_title']);
    }
    var_dump(json_encode( $data )); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T07:31:52.633

您可能希望在循环中这样做：

```
$data[] = array( "id" => $id, "fld_title" => $fld_title); 
```

代替：

```
$data = array( "id" => $id, "fld_title" => $fld_title); 
```

这样每行一个数组会附加到输出数据数组上，否则您只会输出最后一项。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-04T07:37:17.910

当您可以直接从结果中获取结果时为什么要获取行，`associative array`这样您就不必进行额外的编码来格式化数据。

**利用**

[mysql_ fetch_ assoc](http://www.php.net/manual/en/function.mysql-fetch-assoc.php)函数来获取这些值。

还有一件事：fetchin row 只会给你数字键而不是关联键。

现在享受 ;)

# jquery - 如何控制/延迟同一元素上的后续点击事件

> ID：10877781
> 
> 赞同：0
> 
> 时间：2012-06-04T07:30:15.770
> 
> 标签：jquery

```
$navNext.click(function(event, $diff) {
        if(!$diff) {
            var $lastLi = $nav.find('li:last');
            var $lastLiRight = $lastLi.offset().left + $lastLi.outerWidth();
            if ($arrowsNavRight < $lastLiRight)
                $diff = Math.min($lastLiRight - $arrowsNavRight, 50);
        }

        if($diff) {
            $navPrev.show('fade');
            $nav.animate({
                left: '-='+$diff
                }, function(){
                showNavs();
            });
        }
}); 
```

这是一个`li`元素的点击处理程序。此计算用于导航`ul`可滚动选项卡列表。用户可以单击几次`li`以到达所需位置。但是当没有进一步滚动的空间时，我禁用它`li`。

问题是：如果用户点击这个`li`元素的速度太快，那么所有的点击事件都将在隐藏之前执行`li`（调用 showNavs 函数）。这可能导致`ul`.

我想控制随后的点击事件`li`。意思是，如果一次单击正在进行，则延迟下一次单击。有什么办法吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T07:38:48.017

使用`active`变量。如果事件触发，首先检查是否`active == false`. 如果没有，请不要运行您的脚本。如果它是假的，那么设置它`true`并做你的事情。当脚本运行时，没有其他事件会使该脚本运行。在脚本结束时，将`active`变量重置为 false 以启用新事件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T08:42:00.627

你可以做这样的事情

HTML

```
<a href="#" class="fastclick">Click</a>​ 
```

jQuery

```
var bool = 1;
var tmr;

$(".fastclick").live("click", function(e) {
    if(bool)
    {
        alert("next click after 3 sec");
        bool = 0;
        tmr = setInterval(doTmr,3000);
    }
});

function doTmr()
{
    if(!bool)
    {
        bool=1;
        clearInterval(tmr);
    }
}
​ 
```

[**工作示例**](http://jsfiddle.net/Bongs/ZD65a/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T07:47:22.273

我有类似的问题。我通过引入加载 gif 图像解决了它......当我想阻止用户单击页面上的任何内容时显示它并在上一个操作完成时隐藏它。

```
<script type="text/javascript"> 
function showLoadingBar() {     
$('#overlay').addClass('loading-indicator-overlay');
 $('#loadingbar').addClass('loading-indicator'); }
 function hideLoadingBar() {
 $('#overlay').removeClass('loading-indicator-overlay');
     $('#loadingbar').removeClass('loading-indicator'); } 
</script> 
```

并在正文部分添加以下内容：

```
<body>
 <div id="overlay"></div>
 <div id="loadingbar"></div>
 ....
 .... 
</body> 
```

添加以下样式

```
<style type="text/css">
.loading-indicator {
 position: absolute;
  height: 80px;
 width: 80px; 
 left: 50%; 
 top: 50%;
 z-index: 1001;
 background: url( '../images/loading.gif' );
 background-repeat: no-repeat;
 background-position: center center; }

//Class for overlay:

.loading-indicator-overlay {
 position: absolute;
  width:100%;
 height: 100%;
 z-index: 1000;
 background-color: black;
 opacity: 0.6; }
 </style> 
```

并`showLoadingBar()`在用户单击时`li`调用并`hideLoadingBar()`在您希望用户能够单击时调用`li`

# xml - XML 自定义序列化

> ID：10877782
> 
> 赞同：3
> 
> 时间：2012-06-04T07:30:19.670
> 
> 标签：xml, vb.net, xml-serialization, xml-parsing, xsd

我从无法控制的 Web 服务中获取此 xml 字符串：

```
<foo>
   <BIRTHTIME>02.06.2012-01:34.41 1338593681</BIRTHTIME>
</foo> 
```

目前，我将上述 xml 字符串反序列化为此类：

```
Public Class AppData
    Public BIRTHTIME As String
End class 
```

如您所见，AppData.BIRTHTIME 是字符串数据类型，但它必须是日期数据类型。我想要完成的是将 xml 字符串反序列化为此类：

```
Public Class AppData
    Public BIRTHTIME As Date
End class 
```

问题是，当我将 xml 反序列化为上述类时，我收到此错误“输入字符串的格式不正确”。. 有人可以提供一个优雅的解决方案来解决这个问题吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T19:05:33.680

您可以通过使用在（反）序列化时被忽略的属性来控制反序列化。

由于不清楚源日期字符串的最后一个数字部分代表什么，我的示例没有处理它 - 您可能需要扩展相应的 getter 和 setter 逻辑。

```
Public Class AppData
    Private birthdatetime As DateTime
    Private birthtimestring As String

    <XmlElement(ElementName := "BIRTHTIME")>
    Public Property DateString As String
        Get
            Return String.Format("{0:dd.MM.yyyy-HH:mm:ss} 1338593681", birthdatetime);
        End Get

        Set
            birthtimestring = Value
            Dim datetimepart As String() = birthtimestring.Split(New [Char]() {" "c})(0)
            Dim ci As New CultureInfo("de-DE")
            DateTime.TryParseExact(datetimepart, "dd.MM.yyyy-HH:mm:ss", ci, DateTimeStyles.None, birthdatetime)
        End Set
    End Property

    <XmlIgnore()>
    Public Property BirthDate As DateTime
        Get
            Return birthdatetime
        End Get

        Set
            birthdatetime = Value
        End Set
    End Property
End Class 
```

*免责声明：我不是很精通 VB.Net，所以我从 C# 翻译的示例可能包含一些错误。随意编辑任何错误*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T15:03:27.440

我建议使用 IXmlSerializable 接口并自己解析属性，因为它格式错误。

查看此页面以获取有关实施的更多信息：http: [//msdn.microsoft.com/en-us/library/system.xml.serialization.ixmlserializable.aspx](http://msdn.microsoft.com/en-us/library/system.xml.serialization.ixmlserializable.aspx)

# android - 如何将来自 onActivityResult 的数据添加到 onCreate 方法中 tablelayout 的特定选定行？

> ID：10877785
> 
> 赞同：0
> 
> 时间：2012-06-04T07:30:22.243
> 
> 标签：android, tablelayout

```
final TableRow tr1_vin_details = new TableRow(this);
inspStatus = new ImageView(this);
tr1_vin_details.setOnClickListener(new View.OnClickListener() {
@Override
public void onClick(View v) {
 // TODO Auto-generated method stub
 //TableRow tr = (TableRow) v.getParent();
 TableRow lTableRow = ((TableRow) v);
 TextView lTextView = (TextView) lTableRow.getChildAt(1);
 vinNum = lTextView.getText().toString();
 theTag = (Integer) v.getTag();
 Intent intent = new Intent(DeliveryInspectionActivity.this, ExceptionsActivity.class);
 //intent.putExtra("Row ID of a particular selected row:", rowId);
 intent.putExtra("Tag value", theTag);
 startActivityForResult(intent, 0); 
```

} });

现在我想将行 id(theTag) 值发送到 nextActivity，并且在 onActivityResult 中我想添加一些来自 NextActivity 的数据。代码是

```
protected void onActivityResult(int requestCode, int resultCode, Intent data){
if (resultCode == RESULT_OK) {
    id_row = data.getIntExtra("id of row:", 0);
    String str = String.valueOf(id_row);
    Toast.makeText(this, "You have selected row: " + " " + str, Toast.LENGTH_SHORT).show();
    int num_exceptions = data.getIntExtra("Number Of Exceptions", 0);
    TextView area_tv = new TextView(this);
    TextView type_tv = new TextView(this);
    TextView severity_tv = new TextView(this);
    if(num_exceptions > 0){
        inspStatus.setBackgroundResource(R.drawable.ir_vin_red_check);
        tv_area.setText(Html.fromHtml("<br> Area: "));
        tv_area.setTextColor(Color.BLACK);
        tv_type.setText(Html.fromHtml("<br> Type: "));
        tv_type.setTextColor(Color.BLACK);
        tv_severity.setText(Html.fromHtml("<br> Severity: "));
        tv_severity.setTextColor(Color.BLACK);
        openedRow1.removeAllViews();
        openedRow1.addView(tv_area);
        openedRow1.addView(tv_type);
        openedRow1.addView(tv_severity);

        openedRow2.removeAllViews();
        openedRow2.addView(area_tv);
        openedRow2.addView(type_tv);
        openedRow2.addView(severity_tv);

        tl_skiddetails.addView(openedRow1, id_row);
        tl_skiddetails.addView(openedRow2, id_row);
    }
} 
```

}

现在我的问题是，当 onclick 在 firstactivity 中的切换按钮时，我想在 FirstActivity 的 onCreate 方法中将打开的行 1 和打开的行 2 行添加到表布局中

我应该在哪里添加这些行，在 onActivityResult 或 onCreate 方法中......？当我在 OnActivityResult 中添加它时，应用程序被强制关闭。

06-04 12:40:58.216: E/AndroidRuntime(1642): java.lang.RuntimeException: 传递结果失败 ResultInfo{who=null, request=0, result=-1, data=Intent { (has extras) }}到活动 {net.mss.palsapp/net.mss.palsapp.DeliveryInspectionActivity}：java.lang.IllegalStateException：指定的孩子已经有一个父母。您必须首先在孩子的父母上调用 removeView()。

请帮助我...我长期以来一直在努力解决这个问题...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T09:15:20.437

如果您想将表格行动态添加到表格布局中，请遵循以下代码

```
// Get the TableLayout
    TableLayout tl = (TableLayout) findViewById(R.id.maintable);

 // Create a TableRow and give it an ID
        TableRow tr = new TableRow(this);
         tr.setId("unique id for table row");
        tr.setLayoutParams(new LayoutParams(
                LayoutParams.FILL_PARENT,
                LayoutParams.WRAP_CONTENT));

         // Create a TextView to house the name of the province
        TextView labelTV = new TextView(this);
        labelTV.setId("unique id");
        labelTV.setText("your text");
        labelTV.setTextColor(Color.BLACK);
        labelTV.setLayoutParams(new LayoutParams(
                LayoutParams.FILL_PARENT,
                LayoutParams.WRAP_CONTENT));
        tr.addView(labelTV);

        // Add the TableRow to the TableLayout
        tl.addView(tr, new TableLayout.LayoutParams(
                LayoutParams.FILL_PARENT,
                LayoutParams.WRAP_CONTENT)); 
```

# wpf - 防止 WPF 网格超出父边界

> ID：10877786
> 
> 赞同：0
> 
> 时间：2012-06-04T07:30:23.217
> 
> 标签：wpf, layout, expander, dockpanel

在我的 UI 中，我有一个两列一行的大网格。在右栏中，我有一个包含三行的网格，在顶行我有一个用户控件，在下面两行我有两个`Expander`对象，每个对象都包含一个`ItemsControl`在运行时填充的列表。有时，该列表会变得非常长，并且会从屏幕“溢出”到底部。

我想要做的是让用户看到两个扩展器，能够展开或折叠它们，同时保持它们都在视线范围内。我尝试将它们包装在`WrapPanel`s 或`StackPanel`但无济于事。

这里有一些代码可以帮助解释我的问题：

```
<Grid Grid.Row="1" x:Name="grid1">
<Grid.RowDefinitions>
    <RowDefinition Height="*" />
    <RowDefinition Height="*" />
</Grid.RowDefinitions>
<Expander Grid.Row="0" Header="Expander 1" x:Name="expander1" FontSize="14" IsExpanded="True">
    <Expander.Background>
        <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
            <GradientStop Color="#FFC4C4C4" Offset="0" />
            <GradientStop Color="White" Offset="1" />
        </LinearGradientBrush>
    </Expander.Background>
    <ContentPresenter Content="{Binding ViewModel.OpenAlerts, ElementName=m_viewControl}" ClipToBounds="True"/>
</Expander>
<Expander Grid.Row="1" x:Name="expander2" Header="Expander 2" FontSize="14" IsExpanded="True">
    <Expander.Background>
        <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
            <GradientStop Color="#FFC4C4C4" Offset="0" />
            <GradientStop Color="White" Offset="1" />
        </LinearGradientBrush>
    </Expander.Background>
    <ContentPresenter Content="{Binding ViewModel.ClosedAlerts, ElementName=m_viewControl}" ClipToBounds="True"/>
</Expander>
</Grid> 
```

任何帮助或提示将不胜感激！

谢谢，约翰。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:47:04.167

真的不清楚你在 中拥有什么样的 UI 元素`Expanders`，但是一个`ListBox`例子工作得很好，当项目数大于 Grid 行中分配的空间时，它会显示滚动条。

但是您也可以将项目列表包装在`StackPanel`a 中`ScrollViewer`，这也可以正常工作：

```
<Expander Grid.Row="0" Header="Expander 1" x:Name="expander1" FontSize="14" IsExpanded="True">
  <Expander.Background>
    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
      <GradientStop Color="#FFC4C4C4" Offset="0" />
      <GradientStop Color="White" Offset="1" />
    </LinearGradientBrush>
  </Expander.Background>
  <ScrollViewer>
    <StackPanel>
      <TextBlock>Test</TextBlock>
      <TextBlock>Test</TextBlock>
      <TextBlock>Test</TextBlock>
      <!-- etc.. -->
      <!-- etc.. -->
    </StackPanel>
  </ScrollViewer>
</Expander> 
```

这也应该对你有用。

# iphone - 使用 NSString 时发生内存泄漏

> ID：10877789
> 
> 赞同：0
> 
> 时间：2012-06-04T07:30:25.883
> 
> 标签：iphone, objective-c, memory-management

我有一个关于使用 NSString 的内存管理问题。看下面的简单代码：

```
NSString *catSeq = [[NSString alloc] init];

for (NSString *cat in cats) {
    catSeq = [catSeq stringByAppendingFormat:cat];
    catSeq = [catSeq stringByAppendingFormat:@"  "];
}

catLabel.text = catSeq;

[catSeq release];   

// This code expresses what all I want to do, but Memory leak happened
// below I delete lines of code to find out the reason

-----------------------------------------------------

NSString *catSeq = [NSString string];

for (NSString *cat in cats) {
    catSeq = [catSeq stringByAppendingFormat:cat];
    catSeq = [catSeq stringByAppendingFormat:@"  "];
}

catLabel.text = catSeq; 

// Memory leak not happened  
-----------------------------------------------------

NSString *catSeq = [[NSString alloc] init];

catLabel.text = catSeq; 

[catSeq release];   

// Memory leak not happened 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:38:38.713

试试这种方式，自动释放。

```
 NSString *catSeq = [[[NSString alloc] init]autorelease];

for (NSString *cat in cats) {
    catSeq = [catSeq stringByAppendingString:cat];
    catSeq = [catSeq stringByAppendingString:@"  "];
}

catLabel.text = catSeq; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T10:50:24.660

将您的代码更改为：

> NSString *catSeq = @"";
> 
> for (NSString *cat in 猫) {
> 
> ```
> catSeq = [catSeq stringByAppendingFormat:cat];
> catSeq = [catSeq stringByAppendingFormat:@"  "]; 
> ```
> 
> }
> 
> catLabel.text = catSeq;

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T07:37:54.697

使用其中一种方法

```
 catSeq = [catSeq stringByAppendingFormat:@"%@",cat];
    catSeq = [catSeq stringByAppendingFormat:@"%@",@"  "]; 
```

或者

```
 catSeq = [catSeq stringByAppendingString:cat];
    catSeq = [catSeq stringByAppendingString:@"  "]; 
```

# asp.net-mvc - Devexpress Grid MVC 3 Razor 引擎

> ID：10877794
> 
> 赞同：3
> 
> 时间：2012-06-04T07:30:46.977
> 
> 标签：asp.net-mvc, razor, grid, devexpress

我正在为 mvc3 razor 网站使用 devexpres 网格...所以当我尝试更改列位置时（标题过滤器拖放选项设置为 true）图标出现在不同的位置

图片链接[在这里](http://www.freeimagehosting.net/5qpnf)

我能做些什么建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T16:44:15.023

此问题似乎是由于在有问题的视图/页面上使用了某些特定的 CSS 规则引起的。

你能在[在线演示](http://demos.devexpress.com/MVC/GridView/FilterRow)中复制这种行为吗？

# xcode - 使用来自 Kumulos API 的数据填充 UiWebview 控件

> ID：10877797
> 
> 赞同：0
> 
> 时间：2012-06-04T07:31:04.293
> 
> 标签：xcode, uiwebview

我目前对 Xcode 和整个 Iphone App 开发非常陌生，但对 Javascript/HTML/SQL 相当精通。我正在考虑创建一个新的应用程序，该应用程序从 Kumulos 数据库（Kumulos API）中查询其数据。在我开始之前，我只想知道是否可以查询数据库（我知道如何做到这一点），但更重要的是将返回的数据加载到 webview 控件中。

类似于 facebook 应用程序的想法。我知道他们使用 webview 控件。

我已经搜索过，但目前还没有找到如何做到这一点的答案。

你能推荐一个更好的方法吗？

请原谅我缺乏编码示例。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T09:55:58.907

最好的方法是根据本指南在您的 Web 视图中创建由 javascript 调用的 objecive-C 方法：

[从 UIWebView 调用 Objective-C](http://blog.techno-barje.fr/post/2010/10/06/UIWebView-secrets-part3-How-to-properly-call-ObjectiveC-from-Javascript/)

这样你就可以调用一个objective-C函数来返回从Kumulos加载的数据，然后你可以在javascript中对加载的数据做你喜欢的事情。

# c++ - 如何处理返回指针的生命周期？

> ID：10877799
> 
> 赞同：1
> 
> 时间：2012-06-04T07:31:15.377
> 
> 标签：c++, reference, lifetime

我正在制作一组类来表示图像。此类的一个应用是在一组平铺图像上绘制图片。抽象图像类看起来像这样：

```
class Image
{
public:
    virtual Pixel* findPixel( Point p ) =0;
    virtual bool isDrawable( Point p ) =0;
    virtual bool contains( Point p ) =0;
}; 
```

我预见到的问题是，如果我开设这样的课程：

```
class TiledImage : public Image
{
    std::vector<Image*> tiles;

public:
    Pixel* findPixel( Point p )
    {
        // find the tile that contains the point.
        // ask it for the pixel that contains the point.
        // return the pixel.
    }

    // etc....

}; 
```

旨在根据需要创建、保存和删除非常大图像的子部分（图块），那么用户可以存储指向最终可能不再存在的 Pixel 对象的指针。

一种选择是要求用户在完成后重新检查像素，例如：

```
Pixel* p = image.findPixel( aPoint );
// do stuff
image.returnPixel( p ); // p is not guaranteed to be valid after this point.
p->doSomething(); // this is not guaranteed to work. 
```

我不太喜欢这样，因为如果用户不返回像素，那么它可能真的会干扰平铺图像的操作——忘记返回像素可能会导致它完全锁定，因为它不会无法删除不再需要的图块。它们将被锁定以保证指向像素的指针保持有效。用户可能很难发现锁定的原因。

此外，这种关注有点专业。在典型情况下，在图像消失之前，您不会期望像素消失。

有没有更好的方法来处理这种情况？智能指针？不要以某种方式返回参考？首先让 TiledImage 从 Image 继承没有意义吗？当我希望图形非常大时，我当然希望能够将 TiledImage 作为图像传递。

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-04T07:34:25.520

两种可能性（至少）：

*   使用`shared_ptr`（`boost`或`std`）：

    ```
    std::vector<shared_ptr<Image>> tiles; // No longer have to explicitly
                                          // delete the elements.

    shared_ptr<Pixel> findPixel( Point p )
    {
        ...
    }

    shared_ptr<Pixel> p = image.findPixel( aPoint ); 
    p->doSomething(); // Fine, as the internal pointer will not be
                      // deleted due to use of the smart pointer. 
    ```

*   返回的副本`Pixel`。这只有在`Pixel`始终期望找到 a 或者如果有可用的默认值可以返回以指示不存在时才可行。

次要的一点，所有成员函数都暗示它们不会改变`Image`，所以考虑制作它们`const`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:41:13.367

当向量被销毁时，诸如此类的迭代器`std::vector`显然会失效，我看不出这与您的情况有何不同。

我的建议是通过引用返回像素，因为这清楚地表明它没有移交所有权。此外，请提供有关失效行为的良好文档。

* * *

有一些关于 的建议，如果你采取这条路线，返回 a而不是 a`shared_ptr`似乎是一个不错的决定，因为所有权属于图像。`weak_ptr``shared_ptr`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T07:33:57.013

RAII 绝对是通往这里的道路。你的 Pixel 类应该调用`image.returnPixel(this)`它的析构函数并且`findPixel`应该返回一个`shared_ptr<Pixel>`. 如果用户完成后可能无法删除像素，则可以改为返回带有自定义删除器的 shared_ptr，该删除器不会删除像素，而是调用`returnPixel`。

# java - 实现应用程序的只读版本

> ID：10877803
> 
> 赞同：0
> 
> 时间：2012-06-04T07:31:43.180
> 
> 标签：java, web-applications, readonly

给定一个当前在服务器中运行的 Java Web 应用程序，将部署相同的应用程序（给它一个新的上下文名称，即 /app-readonly），但为它提供一个只读数据库帐户，这是我制作只读版本唯一需要的东西的 Web 应用程序。

我希望这个只读版本的应用程序能够查看、搜索，但是从屏幕触发的任何更新/创建都只会返回一个错误（这很好）。这是我能想到的最简单的解决方案，无需引入代码更改以对应用程序的用户访问控制进行更精细的控制。目前，用户访问控制仅规定用户可以访问哪些屏幕。它并不复杂，因为它没有规定用户可以在给定的可访问页面中做什么。

这是一种正确的方法还是我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:40:08.913

仅当您特别想部署新的 Web 应用程序时，这种方法才有效。

在我看来，您应该创建只读用户并将该用户的访问权限限制为搜索、查看。

在这种情况下，用户将无权执行插入、更新。

这种方法应该存在于您的项目中，谁可以访问什么？如果您必须部署一个仅用于查看的新应用程序，恕我直言，您需要重新审视您的访问控制设计。

# build - Eclipse CDT，构建静态库和共享库

> ID：10877807
> 
> 赞同：5
> 
> 时间：2012-06-04T07:31:57.817
> 
> 标签：build, shared-libraries, static-libraries, eclipse-cdt

如何使 Eclipse CDT 中的项目同时针对静态库和共享库？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-04T07:50:54.317

（假设您最初创建了一个共享库项目）

**为静态库创建一个新的构建配置**（就像你为调试/发布所做的那样）。

*   右键单击项目
*   构建配置
*   管理
*   新的（按照说明，例如名称：静态）
*   特性
*   C/C++ 构建
*   在“配置”下选择新配置
*   构建工件
*   工件类型：静态库

**构建您的配置**（例如发布、调试、静态）

*   右键单击项目
*   构建配置
*   建造
*   全部

*发布*和*调试*配置应该创建您的共享库
*静态*应该创建您的静态库

# forms - 如何取消选择表单中的单选按钮选择？

> ID：10877811
> 
> 赞同：0
> 
> 时间：2012-06-04T07:32:31.570
> 
> 标签：forms, symfony

实际上，我用单选按钮显示了许多项目的字段。此选项不是必需的，因此我将能够重置项目选择（如复选框但没有多项选择）。

```
# MyNiceBundle/Form/Type/TsakType.php
// This code display all project with radio button
$builder->add('project', 'entity', array(
    'class' => 'MyNiceBundle:Project',
    'property' => 'name',
    'multiple' => false,
    'required' => false,
    'expanded' => true,
    'query_builder' => function(EntityRepository $er) use ($user) {
        return $er->createQueryBuilder('p')
            ->innerJoin('p.collaborations', 'pc')
            ->andWhere('pc.participant = :participant')
            ->setParameter('participant', $user);
    })
); 
```

有没有一个选项可以做到这一点，或者我需要使用另一个小部件？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T12:04:03.650

实际上，在这种情况下应该显示一个可选择的空值（如“expanded”=> false）。不幸的是，这是一个已知的错误，尚未修复：[https ://github.com/symfony/symfony/issues/3154](https://github.com/symfony/symfony/issues/3154)

# php - 我如何将ANSII转换为DEC

> ID：10877815
> 
> 赞同：0
> 
> 时间：2012-06-04T07:32:57.470
> 
> 标签：php, int, varchar

基于这个公式`$tag= pack("H*",dechex(1146046298));`输出是 DOGZ

现在我需要那个公式的反面。一旦我输入 DOGZ，输出必须是 1146046298

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-08T08:44:35.157

> > 解码顺序：先`dechex`，后`pack`。与此相反的是首先`unpack`，然后`hexdec`...
> 
> 先生，我已经这样做了 >>> unpack("H*",hexdec('DOGZ')); 还是行不通

不，相反的`pack('H*', dechex(1146046298))`是`hexdec(unpack('H*', 'DOGZ'))`。而且由于`unpack`结果是一个数组，因此您还需要从数组中获取值。所以：

```
hexdec(current(unpack('H*', 'DOGZ'))) 
```

# iphone - 将 Web 链接添加到警报视图

> ID：10877817
> 
> 赞同：0
> 
> 时间：2012-06-04T07:33:01.040
> 
> 标签：iphone, ios, ios4

嗨，我想实现一个带有 Web 链接的警报视图。

是否可以？它不应该像警报视图中的按钮一样显示。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T08:04:43.380

将文本视图添加到 UIAlertView 并使用此启用属性

```
textview.dataDetectorTypes=UIDataDetectorTypeLink; 
```

它会工作的！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:39:38.827

## UIAlertView

```
UIAlertView *_alert = [[UIAlertView alloc] initWithTitle:@"Search Google?" 
                                                 message:@"Launch Google and search for something?" 
                                                delegate:self 
                                       cancelButtonTitle:@"Nah" 
                                       otherButtonTitles:@"Google It!",nil];
[_alert show]; 
```

## UIAlertView 委托

```
-(void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex 
{
    if( buttonIndex == 1 ) /* NO = 0, YES = 1 */
    {
        [[UIApplication sharedApplication] openURL:[NSURL URLWithString:@"http://google.com"]];
    }
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-04T07:40:35.367

请雇用`initWithTitle:message:delegate:cancelButtonTitle:otherButtonTitles:`。您可以将链接标题添加为 an`otherButtonTitles`和employee

```
 - (void)alertView:(UIAlertView *)alertView didDismissWithButtonIndex:(NSInteger)buttonIndex{} 
```

单击链接按钮时触发某些操作，例如转到网页。

# android - ListView 最后一个条目在返回单击时重复

> ID：10877827
> 
> 赞同：0
> 
> 时间：2012-06-04T07:34:13.163
> 
> 标签：android, android-listview, baseadapter

为什么Listview在返回单击时重复最后一个条目??????第一次使用ListView启动该类时，它显示的所有数据都是正确的，现在我单击一个列表项并再次从描述中按回，然后它重复最后一个条目。

例如

ListItems 是：A -> B -> C

现在我单击 B 并转到下一页，然后单击返回，然后列表是：

A -> B -> C -> C

当我再次按 A 并从该 A 描述页面中单击返回时，列表为：

A -> B -> C -> C -> C

为什么它重复最后一个条目？？？？

活动类代码如下：

```
 if(list.isEmpty())
                            {
                                if(adapter==null)
                                {
                                        adapter=new MyAdapter(context, list);
                                        ls.setAdapter(adapter);
                                }
                                adapter.notifyDataSetChanged();
                            }

     @Override
protected void onStop() {
    super.onStop();
   AppointmentListView.setVisibility(View.GONE);
}

@Override
protected void onRestart() {
    super.onRestart();
    AppointmentListView.setVisibility(View.VISIBLE);
} 
```

MyAdapter 类是：

```
public class MyAdapter extends BaseAdapter{

        public ArrayList<HashMap<String,String>> list;  
        Context context; 
        private LayoutInflater mInflater;
        String appointType;

        public MyAdapter(Context context, ArrayList<HashMap<String,String>> list)
        {  
            super();  
              this.context=context;
            this.list = list;  
            mInflater = LayoutInflater.from(context);

        } 

        @Override
        public int getCount() {
            // TODO Auto-generated method stub
            return list.size(); 
        }
        @Override
        public int getViewTypeCount()
        {
            return 1;

        }

        @Override
        public Object getItem(int position) {
            // TODO Auto-generated method stub
            return list.get(position);
        }

        @Override
        public long getItemId(int position) {
            // TODO Auto-generated method stub
            return position;
        }

        static class ViewHolder {  
            TextView AppTime_List;  
            TextView CustomerName_List;  
            TextView CustomerAddress_List;  
            TextView AppID_List;
            Button MapButton;
            }

    //  @Override
        public View getView(int position, View convertView, ViewGroup parent) {
            // TODO Auto-generated method stub

            ViewHolder holder;  

            if (convertView == null)  
            {  
                holder = new ViewHolder();  
            convertView = mInflater.inflate(R.layout.listviewsample, parent, false);  

            holder.AppTime_List = (TextView) convertView.findViewById(R.id.time);
            holder.CustomerName_List = (TextView) convertView.findViewById(R.id.name);
            holder.CustomerAddress_List = (TextView) convertView.findViewById(R.id.Address);
               convertView.setTag(holder);

            }  
            else  
            {  
            holder = (ViewHolder) convertView.getTag();

            }  

            appointType=(String)list.get(position).get("Name");

            holder.AppID_List.setText((String)list.get(position).get("ID"));
            holder.AppTime_List.setText((String)list.get(position).get("Time"));
            holder.CustomerName_List.setText((String)list.get(position).get("Name"));
            holder.CustomerAddress_List.setText((String)list.get(position).get("Address"));

            return convertView;  

        }

    } 
```

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T10:57:41.567

这里的问题在于 MyAdapter getCount 方法。现在在我的 MyAdapter 类中，我在顶部声明了 list_size：

```
 int list_size;

  public MyAdapter(Context context, ArrayList<HashMap<String,String>> list)
{  
    super();  
      this.context=context;
    this.list = list;  
    mInflater = LayoutInflater.from(context);
    list_size=list.size();

} 

  @Override
public int getCount() {
    // TODO Auto-generated method stub
    return list_size();
} 
```

# asp.net-mvc-3 - 在mvc3中填充jqplot饼图的所有切片

> ID：10877834
> 
> 赞同：0
> 
> 时间：2012-06-04T07:34:59.563
> 
> 标签：asp.net-mvc-3, jqplot

我正在`jQuery`使用 mvc3 创建一个移动应用程序。在此我创建了`jqPlot`饼图。

它不会为饼图的所有切片显示颜色，即即使图表中有四个切片，它有时也会显示一个切片的颜色，而对于其他三个切片，它显示白色背景而不是其定义的切片背景颜色。

我希望它每次都显示一个带有纯色填充的完整图表。

`jqPlot`饼图的图像：

[http://i.stack.imgur.com/qH4o9.png](http://i.stack.imgur.com/qH4o9.png)

我正在使用这段代码：

```
jQuery(document).ready(function ($) {
     var data = [
            ['Correct Answers', @Correct_Answer], ['Incorrect Answers', @Incorrect_Answer], ['Skipped Answers', @Skipped_Answer],
            ['Unseen Answers', @Unseen_Answer]
  ];
        var plot1 = $.jqplot('score_chart', [data],
    {
        seriesColors: ["#83abc0", "#64d6f4", "#3399ff", "#03597a"],
        highlightColors: ["#ADC7D5", "#99E3F6", "#78BAFE", "#568FA6"],
        seriesDefaults: {
            // Make this a pie chart.
            fill: true,
            renderer: $.jqplot.PieRenderer,
            rendererOptions: {
                // Put data labels on the pie slices.
                // By default, labels show the percentage of the slice.
                padding: 5,
                fill: true,
                fillAndStroke: true,
                showDataLabels: true
            }
        },

        legend: { show: true, location: legendlocation },

    });

}); 
```

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T09:20:12.283

您的问题不在此代码中。我从您提供的代码中做了一个示例，它工作正常。[看这里。](http://jsfiddle.net/G6gQk/5/)

您确定您已正确导入所有文件吗`JavaScript`？`CSS`

# java - 如何从 servlet 调用在同一 AppEngine 实例上运行的资源 url

> ID：10877837
> 
> 赞同：1
> 
> 时间：2012-06-04T07:35:12.510
> 
> 标签：java, google-app-engine, servlets

我已经用 Jersey实现了一些 RESTful 资源 URL，例如[http://myapp.appspot.com/temperature/get 。](http://myapp.appspot.com/temperature/get)我还有一个 servlet 在我想调用资源 url 的同一个 AppEngine 实例上运行。我的问题是我不知道如何引用 servlet 所在的正在运行的 Appengine 实例。换句话说，我想使用相当于 127.0.0.1 或 $SERVER_HOME 的 AppEngine。

我最初的方法是在 servlet 中做这样的事情：

```
URL url = new URL(getServletContext().getContextPath());
HttpURLConnection conn = (HttpURLConnection) url.openConnection(); 
```

，但 getContextPath() 返回一个空字符串（因为它应该，因为我没有将应用程序名称放在 url 中。

如何获取对应用程序基本位置的引用，以便可以引用其中运行的 url 资源？提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T08:01:11.380

要检查 URL 是否存在于同一台服务器计算机中，请执行以下操作：

```
String host = remoteHost;
int port = remotePort;
String remoteContext = //the application root you want to access;
String remtoePath =  // the servlet or path you want to access;
if((host.equals(request.getServerName()) || host.equals("localhost")) 
      && port == request.getServerPort(){
   ....
  ServletContext context = servletContext.get(remoteContext);
  RequestDispatcher dispatcher = context.getRequestDispatcher(remotePath);
     //if you want to forward
  //dispatcher.forward(request, response);
     //if you want to include
  //dispatcher.include(request, response);

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T16:28:09.553

相同的实例或相同版本的代码？您不能针对同一个实例。没有办法做到这一点。您可以定位相同的版本（yourdomain.appspot.com 或 latest.yourdomain.appspot.com）。如果您想知道您的应用程序是否在开发服务器中运行，您可以使用 SystemProperty 类

[https://developers.google.com/appengine/docs/java/javadoc/com/google/appengine/api/utils/SystemProperty](https://developers.google.com/appengine/docs/java/javadoc/com/google/appengine/api/utils/SystemProperty)

如果你想定位一个版本，你应该真的知道 url...如果没有，请使用 Ramesh 的建议。通常，我们在 servlet 中设置一个静态属性类，用于保存当前活动域的名称。或者只是使用 TaskQueues ......它们非常适合这个目的。

# objective-c - 使用类别向 UIView 添加数据

> ID：10877844
> 
> 赞同：0
> 
> 时间：2012-06-04T07:36:12.910
> 
> 标签：objective-c, ios, uiview, subclass, objective-c-category

我想扩展 iOS UIView 类，这样我就可以在我的 UIView 实例中存储一些我自己的数据和状态。我是 iOS 新手。我知道我无法将实例变量添加到类别中，所以大概我无法将新状态添加到我的 UIViews。

因此，我正在考虑创建一个 NSArray，其中我的每个 UIView 都有一个唯一标记，然后将其用作 NSArray 的索引，并且 NSArray 中的每个项目都包含有关该特定 UIView 的附加状态信息。这里的缺点是标签和 NSArray 的管理。如果我可以通过类别直接将状态添加到任何 UIView，那将更加直接。

谁能建议我向 UIViews 添加一些实例变量和状态的最佳方法？我正在使用很多 UIView 子类，因此并不想开始子类化 UIView。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:39:30.453

[关联引用](https://developer.apple.com/library/ios/documentation/Cocoa/Reference/ObjCRuntimeRef/index.html#//apple_ref/doc/uid/TP40001418-CH1g-SW51)可以让你做你想做的事，尽管我不确定你为什么不想子类化（你已经说过你有很多子类——也许更好的子类化策略会是更好的解决方案？）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-25T18:09:29.063

只需`UIView.tag`为此使用属性。它`NSInteger`（长），所以你可以在其他地方有一张地图。

# iphone - 导航栏后退按钮，文本不居中对齐

> ID：10877846
> 
> 赞同：8
> 
> 时间：2012-06-04T07:36:35.850
> 
> 标签：iphone, cocoa-touch, ipad, ios5, uinavigationbar

我正在使用外观代理自定义导航栏中的后退按钮，还设置图像和文本属性。一切正常，但后退按钮中的文本未居中对齐。

这是我的代码。

```
UIBarButtonItem *backButton = [[[UIBarButtonItem alloc] initWithTitle:title style:UIBarButtonItemStyleBordered target:nil action:nil] autorelease];
 UIImage *buttonBack32 = [[UIImage imageNamed:@"NavigationBackButton"] 
                         resizableImageWithCapInsets:UIEdgeInsetsMake(0, 10, 0, 5)];

[[UIBarButtonItem appearance] setBackButtonBackgroundImage:buttonBack32 forState:UIControlStateNormal barMetrics:UIBarMetricsDefault];
 [[UIBarButtonItem appearance] setTitleTextAttributes:
 [NSDictionary dictionaryWithObjectsAndKeys:
        [UIColor whiteColor], 
        UITextAttributeTextColor, 
        [UIColor colorWithRed:0.0 green:0.0 blue:0.0 alpha:0.8], 
        UITextAttributeTextShadowColor, 
        [NSValue valueWithUIOffset:UIOffsetMake(0, -1)], 
        UITextAttributeTextShadowOffset,
  [UIFont fontWithName:@"xxx" size:16.0], 
  UITextAttributeFont,
  nil] 
                                            forState:UIControlStateNormal]; 
self.navigationItem.backBarButtonItem = backButton; 
```

如果我将字体大小设置为“0.0”，那么文本会变得太小并且仍然没有居中对齐。

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-06-04T10:56:42.833

您可以使用 setTitlePositionAdjustment:forBarMetrics: 方法根据需要设置标题偏移量。例如：

```
[[UIBarButtonItem appearance] setTitlePositionAdjustment:UIOffsetMake(0.0f, 5.0f) forBarMetrics:UIBarMetricsDefault]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-09-23T21:07:26.100

要向上调整文本，我必须使用它：

```
 [[UIBarButtonItem appearance] setBackButtonTitlePositionAdjustment:UIOffsetMake(0, -1.5) forBarMetrics:UIBarMetricsDefault]; 
```

* * *

## 回答 #3

> 赞同：-4
> 
> 时间：2012-06-04T11:07:34.047

```
You can use this :

UIView* leftContainer = [[UIView alloc] initWithFrame:CGRectMake(0.0, 4.0, 70.0, 44.0)];
UIImage *profileImg = [UIImage imageNamed:@"account-btn.png"];
UIButton *profilebutton = [UIButton buttonWithType:UIButtonTypeCustom];
profilebutton.frame = CGRectMake(0.0, 7.0, 70.0, 30.0 );
[profilebutton setImage:profileImg forState:UIControlStateNormal];
[profilebutton addTarget:self action:@selector(profileBtnClicked) forControlEvents:UIControlEventTouchUpInside];
[leftContainer addSubview:profilebutton];

UIBarButtonItem* item = [[UIBarButtonItem alloc] initWithCustomView:leftContainer];
self.navigationItem.leftBarButtonItem = item;

[leftContainer release];
[item release]; 
```

# objective-c - 如何在 BlockCode 中捕获异常（目标 C）

> ID：10877848
> 
> 赞同：6
> 
> 时间：2012-06-04T07:36:46.913
> 
> 标签：objective-c, objective-c-blocks

是否有适当的方法来捕获块代码中的异常？

我得到以下代码：

```
void(^callback(int) = ^(int respond){
   [self DoSomethingWithRespond:respond]; //this throws an exception
};

-(void)DoSomethingWithRespond:(int)respond{
   if(respond == 400){
     NSException *exception = [NSException 
                              exceptionWithName:@"Failed" 
                              reason:logMessage 
                              userInfo:nil];
     @throw exception
   }
} 
```

回调方法从另一个线程调用。如果响应等于 400，则该`DoSomethingWithRespond`方法将抛出异常。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T12:31:41.017

```
 @try {
        <#statements#>
    }
    @catch (NSException *exception) {
        <#handler#>
    }
    @finally {
        <#statements#>
    } 
```

# windows-phone-7 - 我对窗口电话布局有疑问

> ID：10877850
> 
> 赞同：0
> 
> 时间：2012-06-04T07:37:12.377
> 
> 标签：windows-phone-7, stackpanel, panorama-control

我想在我的 xaml 代码中制作一个 2x2 的矩形。（我在 Windows Phone 布局中使用全景控件）像这样..

面向对象

面向对象

我使用此代码。

```
 <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel   FlowDirection="LeftToRight" Orientation="Horizontal" Margin="0,0,0,17">
                            <!--Replace rectangle with image-->
                            <Rectangle Height="100" Width="100" Fill="Orange" Margin="12,0,9,0"/>
                            <StackPanel  Width="311">
                                <TextBlock Text="{Binding LineOne}" TextWrapping="Wrap" Style="{StaticResource PhoneTextExtraLargeStyle}"/>
                                <TextBlock Text="{Binding LineTwo}" TextWrapping="Wrap" Margin="12,-6,12,0" Style="{StaticResource PhoneTextSubtleStyle}"/>
                            </StackPanel>
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </controls:PanoramaItem> 
```

但这使...

○

○

○

○

我怎么解决这个问题？让我知道！请！谢谢！:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T16:57:24.870

看起来您在模板中使用了一个列表框，但列表是直接向下的。您可以在列表框项目内做一些事情，使它们看起来以某种方式，但列表框将始终创建一个直接向上和向下的项目列表。

如果您想要网格模式，请使用网格控件以及 Grid.RowDefinitions 和 Grid.ColumnDefinitions 来制作正确的模式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T08:43:50.163

你的问题是标签还是？问题不是很清楚。如果我理解正确，这应该可以解决您的问题。

```
<StackPanel  Width="311" Orientation="Horizontal"> 
```

试试这个内部 Stackpanel

# ruby-on-rails - RSpec 路由识别

> ID：10877855
> 
> 赞同：1
> 
> 时间：2012-06-04T07:37:35.883
> 
> 标签：ruby-on-rails, ruby, rspec

我有一个有趣的情况，让我摸不着头脑。我创建了一个控制器（没有模型）来生成密码重置。我已经定义了一个到控制器的 RESTful 路由：

**路线.rb**

```
resources :password_resets 
```

我在控制器上创建了一些动作，特别是我的编辑动作：

**密码重置控制器.rb**

```
class PasswordResetsController < ApplicationController
  # code omitted
  def edit
    @user = User.find_by_password_reset_token!(params[:id])
  end
  # code omitted
end 
```

用户可以从我发送给用户的电子邮件中访问编辑：

**password_reset.html.haml**

```
%p To reset your password, click the URL below.
= edit_password_reset_url(@user.password_reset_token) 
```

到目前为止一切顺利，我已经设法使用了代码。然后我有测试我的邮件的规范：

```
 describe "password reset" do
    let(:user) { FactoryGirl.create(:user) }
    let(:mail) { UserMailer.password_reset(user) }

    it "sends user password reset url" do
      mail.to.should eq([user.email])
    end
  end 
```

令人惊讶的是，我得到以下信息：

```
 Failure/Error: let(:mail) { UserMailer.password_reset(user) }
 ActionView::Template::Error:
   No route matches {:action=>"edit", :controller=>"password_resets"}
 # ./app/views/user_mailer/password_reset.html.haml:5:in `_app_views_user_mailer_password_reset_html_haml__1760284087840822602_11954840'
 # ./app/mailers/user_mailer.rb:7:in `password_reset' 
```

然而，至少通过查看我的路线，路线匹配：

```
 password_resets GET    /password_resets(.:format)             password_resets#index
                       POST   /password_resets(.:format)             password_resets#create
    new_password_reset GET    /password_resets/new(.:format)         password_resets#new
   edit_password_reset GET    /password_resets/:id/edit(.:format)    password_resets#edit
        password_reset GET    /password_resets/:id(.:format)         password_resets#show
                       PUT    /password_resets/:id(.:format)         password_resets#update
                       DELETE /password_resets/:id(.:format)         password_resets#destroy 
```

我的测试/路线可能出现什么问题？

非常感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T09:22:29.040

检查工厂`user`是否有`password_reset_token`. 很可能它是 nil，你可以得到任何相同的路由错误`edit_something_url(nil)`

# html - html center div 总是在中间，另外两个是动态的

> ID：10877856
> 
> 赞同：0
> 
> 时间：2012-06-04T07:37:42.950
> 
> 标签：html

我想创建简单的 HTML。我想创建 3 个 div。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="generator" content="" />
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <link rel="stylesheet" type="text/css" href="style.css" media="screen">
    <title>My Site</title>
</head>
<body>
    <div id="top_left">
        &nbsp;
    </div>
    <div id="top_center">
        &nbsp;
    </div>
    <div id="top_right">
        &nbsp;
    </div>
</body>
</html> 
```

center div 是固定大小的，总是在中间。但第一个和第三个 div 是动态的。这个怎么做。

CSS

```
#top_left {
    background-image: url(images/pikacom_01.gif);
    background-repeat: repeat-x;    
    background-position: left;
    height: 85px;
}

#top_center {
    background-image: url(images/pikacom_02.gif);
    background-repeat: no-repeat;
    background-position: center;    
    width: 1024px;
    margin: 0 auto;
    height: 85px;
}

#top_right {
    background-image: url(images/pikacom_03.gif);
    background-repeat: repeat-x;
    background-position: right; 
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T07:48:18.967

```
<style type="text/css">
.left {float:left;}
.center {width:1024px;margin:0 auto;}
.right {float:right;}
</style>
<div class="right"></div>
<div class="left"></div>
<div class="center"></div> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:51:59.910

诀窍是给左列和右列的宽度为 50%，左或右浮动和分别向左或向右的负边距。负边距应该是您的中心列宽度的一半，因此在您的情况下为-512px。

然后在左右列内添加内容 div，并为它们提供相同值 (512px) 的正边距。

就是这样，看我的[演示](http://jsfiddle.net/Ggc7e/)。请注意 html 元素的更改顺序（中心位于最后）。此外，在演示中心，div 的宽度仅为 300px 以进行说明。

```
#top_left {
    background: #00f; // background-colors only added for illustration purposes
    background-image: url(images/pikacom_01.gif);
    background-repeat: repeat-x;    
    background-position: left;
    height: 85px;
    float: left;
    width: 50%;
    margin-left: -512px;
}
#top_left_content {
  margin-left: 512px;
}

#top_center {
    background: #f0f;
    background-image: url(images/pikacom_02.gif);
    background-repeat: no-repeat;
    background-position: center;    
    width: 1024px;
    margin: 0 auto;
    height: 85px;
}

#top_right {
    background: #ff0;
    background-image: url(images/pikacom_03.gif);
    background-repeat: repeat-x;
    background-position: right; 
    height: 85px;
    float: right;
    width: 50%;
    margin-right: -512px;
}
#top_right_content {
  margin-right: 512px;
} 
```

​</p>

# javascript - 检查用户是否订阅了 socket.io 中的某个频道

> ID：10877857
> 
> 赞同：3
> 
> 时间：2012-06-04T07:37:47.457
> 
> 标签：javascript, node.js, socket.io

是否可以检查用户是否订阅了 socket.io 中的某个频道？

假设我有一个名为 的频道`news`。用户在客户端订阅了该频道。但是该站点的数据是动态的，因此该站点的新闻选项卡可能随时都不会打开。如果新闻选项卡未在客户端打开，我不想为新闻选项卡创建内容。我知道当用户没有订阅`news`频道时，新闻标签没有打开。

有没有办法检查？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T19:33:51.143

您可以使用`io.sockets.clients('news')`，这将返回所有客户端的套接字 ID。如果你认识客户`socket.id`，你也可以打电话`io.sockets.manager.roomClients[socket.id]`（房间名称将有'/'前导字符）

这是我用于让我的管理员客户调用以获取每个房间的客户数量的示例：

```
socket.on('countClientsInRoom', function (room, callback) {
    var count = io.sockets.clients(room).length;
    callback(count);
}); 
```

# browser-cache - 网站可以缓存在浏览器缓存以外的任何地方吗？

> ID：10877858
> 
> 赞同：0
> 
> 时间：2012-06-04T07:37:51.787
> 
> 标签：browser-cache

我的客户在他的电脑上看到的网站版本与我在我的电脑上看到的不同。他声称要删除缓存。我正在使用通过“开发”菜单禁用缓存的 Safari，并且看到了正确版本的站点。

该网站是否可能以某种方式被我客户的 ISP 或类似的东西缓存？

***更新：***

我想我需要更好地描述这个问题：

我的客户有一个网络托管包，其中有他的域和电子邮件帐户。somedomain.com 的 A 记录已更改为指向 Behance 的 ProSite 托管服务。

问题是，当他访问 somedomain.com 时，他得到的 index.html 位于他的 Web 服务器的 public_html 目录中，而不是他的 ProSite。使用同一个域，我看到了 ProSite。他已经清除了缓存并在家里的电脑上尝试了同样的结果。这就是让我相信他的 ISP 存在某种缓存问题的原因。

对此我能做些什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T07:41:02.963

ISP 甚至客户站点的代理服务器可能会执行此操作。甚至某些（错误）配置中的网络压缩器。

根据站点的不同，您可能还会看到实际上不同的站点。例如，Google 使用 DNS 负载平衡重定向到不同的服务器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:46:06.100

你是对的。为了提高性能和从同一请求加载页面的速度，现代浏览器似乎非常擅长缓存。我自己也有同样的问题。要解决此问题，您应该在将项目部署到生产环境时标记项目的版本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-28T09:07:15.547

Based on the update, the problem was with DNS cache.

DNS can be cached at the following levels:

*   browser
*   operation system
*   router
*   DNS provider

And each of them has its own way to flush DNS cache. Except DNS provider where the only thing you can is to wait for cache invalidation. Though you can replace your current DNS provider with another one who won't have your domain in his cache. You have all the chances to find such if your domain isn't popular.

# c# - 如何使用 EMDK 2.6 关闭/重启移动设备（Win CE 6.0）？

> ID：10877860
> 
> 赞同：2
> 
> 时间：2012-06-04T07:37:52.987
> 
> 标签：c#, windows-ce, mobile-devices, motorola-emdk

我正在尝试使用 EMDK 2.6 关闭/重启我的摩托罗拉 MC9190，但我不知道如何实现这一点。有人可以为我指出正确的方向，我可以在哪个命名空间中找到此方法或发布示例？帮助文件只是为我提供了重启 RF 或 WLAN 等几个部分的方法：/

提前致谢。

PS：我不能使用外部组件作为解决方法！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-26T15:48:40.437

这是我用来软重置 Windows CE 设备的代码

```
 [DllImport("coredll.dll")]
    private static extern bool KernelIoControl(Int32 IoControlCode, IntPtr InputBuffer, Int32 InputBufferSize, byte[] OutputBuffer, Int32 OutputBufferSize, ref Int32 BytesReturned);
    private const uint FILE_DEVICE_HAL = 0x00000101;
    private const uint METHOD_BUFFERED = 0;
    private const uint FILE_ANY_ACCESS = 0;

    private static uint CTL_CODE(uint DeviceType, uint Function, uint Method, uint Access)
    {
        return ((DeviceType << 16) | (Access << 14) | (Function << 2) | Method);
    }

    public static void softReset()
    {
        byte[] OutputBuffer = new byte[256];
        Int32 OutputBufferSize, BytesReturned;
        OutputBufferSize = OutputBuffer.Length;
        BytesReturned = 0;

        Int32 IOCTL_HAL_REBOOT = (Int32)CTL_CODE(FILE_DEVICE_HAL, 15, METHOD_BUFFERED, FILE_ANY_ACCESS);

        KernelIoControl(IOCTL_HAL_REBOOT, IntPtr.Zero, 0, OutputBuffer, OutputBufferSize, ref BytesReturned);
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-02-02T12:55:36.440

使用此代码重新启动

```
[DllImport("coredll.dll")]
static extern int SetSystemPowerState(string psState, int StateFlags, int Options);
        const int POWER_FORCE = 4096;
        const int POWER_STATE_RESET = 0x00800000;

        private void SoftReset()
        {
            SetSystemPowerState(null, POWER_STATE_RESET, POWER_FORCE);
        } 
```

（包括 System.Runtime.InteropServices）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-26T11:38:12.993

我通常使用此代码段，您将在下面看到 CE 和 WM（已注释）。您只需为 CE 调用 ExitWindowsEx(2,0)，为 Windows Mobile 调用 SetSystemPowerState(NULL; POWER_STATE_RESET, 0)。

以下示例将重新启动延迟 48 小时。

// REBOOT.cpp : 定义控制台应用程序的入口点。//

```
#include "stdafx.h"
#include <windows.h>
#include <commctrl.h>
#include <Pm.h>

int _tmain(int argc, _TCHAR* argv[])
{
    SYSTEMTIME tSysTime;
    GetSystemTime(&tSysTime);

    if (tSysTime.wYear!= 2005)
    {
        int delay = 1000 *60 * 60 * 48;// 48 Hrs
        Sleep(delay);

        //windows Mobile
        //ExitWindowsEx(2,0);

        //windows CE
        return (int)SetSystemPowerState(NULL, POWER_STATE_RESET, 0);

    }

    return 0;
} 
```

# reporting-services - SSRS 2012：报告生成器和共享数据集的连接字符串

> ID：10877863
> 
> 赞同：3
> 
> 时间：2012-06-04T07:38:14.033
> 
> 标签：reporting-services, dataset, datasource, sql-server-2012

我们使用的是 SQL Server 2012：

*   一个团队开发数据仓库
*   一个团队使用报表生成器负责报表

我们使用共享数据集。

当`.rdl`文件保存在本地机器上时，我们可以看到它`<ReportServerURL>`完全嵌入到文件中，在共享数据集部分。我们如何才能轻松地`.rdl`在另一个报表服务器（生产环境）上部署，而无需编辑（手动/脚本）所有`.rdl`文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T17:43:12.917

据我所知`<ReportServerURL>`，这只是报表生成器的一个提示。它不被服务器使用，因此报表可以安全地部署到另一个报表服务器

# c# - 返回没有 XML 的 JSON

> ID：10877864
> 
> 赞同：1
> 
> 时间：2012-06-04T07:38:17.370
> 
> 标签：c#, xml, json, web-services

我有以下 JSON：

```
{ "Test": {"Header": {"Description": "OK", "Status": "000", "Timestamp": "1338805752" }, "Results": {"Sport": {"Country": { "League": [ {"Name": "ECB 40 League", "TargetURL": "\/Cricket\/International\/ECB 40 League", "Total": "5" }, {"Name": "Friends Life T20 2012", "TargetURL": "\/Cricket\/International\/Friends Life T20 2012", "Total": "0" }, {"Name": "Sri Lanka vs Pakistan (ODI Series)", "TargetURL": "\/Cricket\/International\/Sri Lanka vs Pakistan (ODI Series)", "Total": "0" }, {"Name": "Sri Lanka vs Pakistan 1st ODI", "TargetURL": "\/Cricket\/International\/Sri Lanka vs Pakistan 1st ODI", "Total": "1" }, {"Name": "Test Series", "TargetURL": "\/Cricket\/International\/Test Series", "Total": "1" } ], "Name": "International", "TargetURL": "\/Cricket\/International", "Total": "6" }, "Name": "Cricket", "Total": "5" } } }} 
```

当我从我的 C# 代码中返回它时，我是这样得到的：

```
<string xmlns="http://schemas.microsoft.com/2003/10/Serialization/">{ "HotOdds": {"Header": {"Description": "OK", "Status": "000", "Timestamp": "1338805752" }, "Results": {"Sport": {"Country": { "League": [ {"Name": "ECB 40 League", "TargetURL": "\/Cricket\/International\/ECB 40 League", "Total": "5" }, {"Name": "Friends Life T20 2012", "TargetURL": "\/Cricket\/International\/Friends Life T20 2012", "Total": "0" }, {"Name": "Sri Lanka vs Pakistan (ODI Series)", "TargetURL": "\/Cricket\/International\/Sri Lanka vs Pakistan (ODI Series)", "Total": "0" }, {"Name": "Sri Lanka vs Pakistan 1st ODI", "TargetURL": "\/Cricket\/International\/Sri Lanka vs Pakistan 1st ODI", "Total": "1" }, {"Name": "Test Series", "TargetURL": "\/Cricket\/International\/Test Series", "Total": "1" } ], "Name": "International", "TargetURL": "\/Cricket\/International", "Total": "6" }, "Name": "Cricket", "Total": "5" } } }}</string> 
```

这是函数的定义：

```
[OperationContract(Name = "GetHOSports")]
[ScriptMethod(ResponseFormat = ResponseFormat.Json)]
string GetSportsList(DateTime date, int sportID); 
```

我不明白为什么我要在 XML 元素中获取 JSON，有人吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T07:43:52.513

你不应该返回一个带有 json 的字符串，返回你想要序列化的对象`json`。您还应该能够删除`ResponseFormat`它的默认设置是`json`.

看看这个答案：[[ScriptMethod(ResponseFormat = ResponseFormat.Json)]](https://stackoverflow.com/questions/2851117/scriptmethodresponseformat-responseformat-json)

解释如何让你的脚本方法工作。

如果您没有对象模型来序列化它，那么您将很难使用 WCF。它是围绕将 .net 对象序列化为 json 或 xml 的原则设计的。

如果你有 json 字符串，我会选择像[Nancy](http://nancyfx.org/)这样的东西，它可以让你更自由地做你喜欢的事情:)，其中包括如果你想要 json 字符串。

像这样的东西的 nancy 模块看起来像这样：

```
public class SampleModule : Nancy.NancyModule 
{
    public SampleModule()
    {
        Get["/GetHOSports"] = parameters => {
            Response.ContentType = "application/json"
            Response.Content = s => {
                var sw = new StreamWriter(s) { AutoFlush = true };
                sw.Write("your json here");
            }
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:49:17.380

你有没有完成序列化：

```
 TestRootObject testRootObject = new TestRootObject();
    ......................
    ..............YOUR CODE..............
    ..................
    System.Web.Script.Serialization.JavaScriptSerializer oSerializer = 
             new System.Web.Script.Serialization.JavaScriptSerializer();
    return oSerializer.Serialize(testRootObject); 
```

你的 C# 类：

```
public class Header
{
    public string Description { get; set; }
    public string Status { get; set; }
    public string Timestamp { get; set; }
}

public class League
{
    public string Name { get; set; }
    public string TargetURL { get; set; }
    public string Total { get; set; }
}

public class Country
{
    public List<League> League { get; set; }
    public string Name { get; set; }
    public string TargetURL { get; set; }
    public string Total { get; set; }
}

public class Sport
{
    public Country Country { get; set; }
    public string Name { get; set; }
    public string Total { get; set; }
}

public class Results
{
    public Sport Sport { get; set; }
}

public class Test
{
    public Header Header { get; set; }
    public Results Results { get; set; }
}

public class TestRootObject
{
    public Test Test { get; set; }
} 
```

# qt - Qt：获取在 Xorg 中运行的所有可见窗口的快照？

> ID：10877866
> 
> 赞同：0
> 
> 时间：2012-06-04T07:38:33.143
> 
> 标签：qt, x11, xorg

我知道如何用它来检索当前窗口的快照`WId`，但是我怎样才能找到`WId`这个桌面上所有窗口的列表，这样我就可以找到所有的快照。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T15:26:28.673

您可能只想拍摄根窗口的快照。

如果您需要所有窗口的列表，请`XQueryTree`在根窗口上使用。请记住，部分被遮挡的窗口在任何快照上仍然会被遮挡。

# java - (objectinputstream) ObjectInput.readObject() 给了我一个空对象

> ID：10877869
> 
> 赞同：2
> 
> 时间：2012-06-04T07:38:46.980
> 
> 标签：java, android, serializable, objectoutputstream, objectinputstream

我有这堂课：

```
public class SaveState implements Serializable {
    private static final long serialVersionUID = 1L;
    public List<String> downloadedMagazinesIds = new ArrayList<String>();//id's de revistas descargadas
    public List<String> downloadedMagazinesSummaries = new ArrayList<String>();//página sumario de cada magazine
    public List<FullMagazine> downloadedMagazines = new ArrayList<FullMagazine>();//todos los magazines bajados
    public Magazines ms=null; //Esta clase contiene el array de previews de revistas generado con el parser de XML
} 
```

我使用这些方法将类（SaveState 对象）存储在 sdcard 中，并再次将文件中的对象读取到对象中：

```
public static void saveData(){
    ObjectOutput out;
    try {
        //primero comprobamos si existe el directorio, y si no, lo creamos.
        File folder = new File(Environment.getExternalStorageDirectory() + "/C/");
        if(!folder.exists())
            folder.mkdirs();

        File outFile = new File(Environment.getExternalStorageDirectory(), "/C/appSaveState.data");
        out = new ObjectOutputStream(new FileOutputStream(outFile)); 
        out.writeObject(saveState);
        out.close();
    } catch (Exception e) {e.printStackTrace();}
}

public static void loadData(){
    ObjectInput in;
    try {
        File inFile = new File(Environment.getExternalStorageDirectory(), "/C/appSaveState.data");
        in = new ObjectInputStream(new FileInputStream(inFile));        
        saveState=(SaveState) in.readObject();
        in.close();
    } catch (Exception e) {e.printStackTrace();}
} 
```

我存储对象，每次我的应用程序关闭时，我每次打开我的应用程序时都从 sdcard 读取对象，它工作正常。当我创建更新版本的应用程序（1.01）时，问题就来了。当我启动应用程序并尝试从 sdcard 读取文件时，文件被读取，但对象类的所有变量都是空的，而且它们真的不为空。

为什么我的代码不能正常工作？我应该怎么做才能修复它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T09:00:37.717

我试图编辑您的问题，使其更具可读性和可理解性。希望它能帮助你得到一些好的答案。

我建议以下

1.  尝试使用相同的 1.0 版本阅读它。这将消除任何“版本”/清单相关问题。
2.  您的 FullMagazine 可能是根本原因，请移除该对象并重试。

让我知道你发现了什么。这是一个有趣的问题。

# jquery - 为插件中的选项指定设置不起作用？

> ID：10877871
> 
> 赞同：0
> 
> 时间：2012-06-04T07:39:04.053
> 
> 标签：jquery, jquery-plugins, plugins

我是 jquery 插件的新手。我需要将 totalWidth 指定为选项，以便可以根据需要更改 scrollWidth。有人可以帮助我吗？

```
(function( $ ) {
    $.fn.scrollAnimation = function(options) {
            var totalWidth;
            var settings = $.extend( {
                                        'totalWidth'         :'totalWidth'
                                    }, options);

            return this.each(function() {

                    var element = $(this);
                    var offset_1 = $("ul li.list:first-child",element).position().left;
                    var offset_2 = $("ul li.list:nth-child(2)",element).position().left; 
                    var totalWidth =(offset_2-offset_1);

            $(".abc",element).click(function() {
                $(".images",element).not(":animated").animate({"scrollLeft":"-="+totalWidth},300);
                return false;
            });

            $(".def",element).click(function() {
                $(".images",element).not(":animated").animate({"scrollLeft":"+="+totalWidth},300);
                return false;
            });
         });
      };
})( jQuery ); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T07:50:53.667

像这样将设置添加到您的插件

`$.fn.scrollAnimation.settings={property:'value',totalWidth:'somevalue'};`

这将是您插件的默认设置。

您可以使用 $.extend 将用户给定选项和 $.fn.scrollAnimation.settings 的属性合并到一个对象中，从而优先于用户给定选项

`$.extend({},$.fn.scrollAnimation.settings,options);`

所以你更新的代码就像

```
(function( $ ,win, doc) {
    $.fn.scrollAnimation = function(options) {
            var totalWidth;
            var localsettings = $.extend( {},$.fn.scrollAnimation.settings,options);
                    ...
                    ...
                    ...
                 };

      $.fn.scrollAnimation.settings={property:'value',totalWidth:'somevalue'};
})( jQuery ,window,document,undefined); 
```

# android - 无法调用 onActivityResult 方法

> ID：10877872
> 
> 赞同：0
> 
> 时间：2012-06-04T07:39:04.167
> 
> 标签：android

嗨，在下面的代码之后，我无法调用 onActivityResult 方法。

```
private void ImageChooseOptionDialog() {

    Log.i(TAG, "Inside ImageChooseOptionDialog");
    String[] photooptionarray = new String[] { "Take a photo",
            "Choose Existing Photo" };

    Builder alertDialog = new AlertDialog.Builder(TabSample.tabcontext)
            .setItems(photooptionarray,
                    new DialogInterface.OnClickListener() {
                        @Override
                        public void onClick(DialogInterface dialog,
                                int which) {
                            if (which == 0) {
                                Log.i(TAG, "Which" + which);
                                Log.i(TAG,
                                        "Inside ImageChooseOptionDialog Camera");
                                _path = Environment
                                        .getExternalStorageDirectory()
                                        + File.separator
                                        + "TakenFromCamera.png";

                                Log.d(TAG, "----- path ----- " + _path);
                                media = _path;
                                // File file = new File(_path);
                                // Uri outputFileUri = Uri.fromFile(file);
                                // Intent intent = new Intent(
                                // android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
                                // intent.putExtra(MediaStore.EXTRA_OUTPUT,
                                // outputFileUri);
                                // startActivityForResult(intent, 1212);

                            } else if (which == 1) {
                                Log.i(TAG, "Which" + which);
                                Log.i(TAG,
                                        "Inside ImageChooseOptionDialog Gallary");
                                // Intent intent = new Intent();
                                // intent.setType("image/*");
                                // intent.setAction(Intent.ACTION_GET_CONTENT);
                                // startActivityForResult(Intent
                                // .createChooser(intent,
                                // "Select Picture"), 1);

                                Intent intent = new Intent(
                                        Intent.ACTION_GET_CONTENT);
                                intent.setType("image/*");
                                // intent.setAction(Intent.ACTION_GET_CONTENT);
                                startActivityForResult(Intent
                                        .createChooser(intent,
                                                "Select Picture"), 1);

                                Log.i(TAG, "end" + which);

                            }
                        }
                    });
    alertDialog.setNeutralButton("Cancel",
            new DialogInterface.OnClickListener() {
                @Override
                public void onClick(DialogInterface dialog, int which) {
                    dialog.dismiss();
                }
            });
    alertDialog.create().show();
} 
```

这是我的 onActivityResult 方法：

```
@Override
public void onActivityResult(int requestCode, int resultCode, Intent data) {
    Log.i(TAG, "Inside Onactivity Result");
    if (resultCode == RESULT_OK) {
        if (requestCode == 1) {
            Log.i(TAG, "Inside if else Onactivity Result");
            // currImageURI is the global variable I’m using to hold the
            // content:// URI of the image
            Uri currImageURI = data.getData();
            String path = getRealPathFromURI(currImageURI);
            Log.i(TAG, "Inside Onactivity Result Image path" + path);

        }
    }
} 
```

请让我知道我在哪里做错了。我正在调用 onActivityResult 方法 from which=1 在对话框出现后。但在 logcat 的 onActivityResult 方法中没有得到任何日志。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:47:26.707

这是因为，您可能没有得到 RESULT_OK。始终首先检查请求代码并在其中检查结果代码。如果您从图库中检索图像，请在 onActivityResult() 中尝试以下代码：

```
if (requestCode == TAKE_PICTURE_GALLERY) {
            if (resultCode == RESULT_OK) {

                final Uri selectedImage = data.getData();
                final String[] filePathColumn = { MediaStore.Images.Media.DATA };

                final Cursor cursor = getContentResolver().query(selectedImage,
                        filePathColumn, null, null, null);
                cursor.moveToFirst();

                final int columnIndex = cursor
                        .getColumnIndex(filePathColumn[0]);
                final String filePath = cursor.getString(columnIndex);
                cursor.close();
             }
} 
```

并在任何你想要的地方使用 filePath。我希望这能解决你的问题。谢谢 ：）

**更新：** 使用此代码开始您的画廊活动：

```
 imagePathURI = Uri.fromFile(new File(<your image path>));
        final Intent intent = new Intent(Intent.ACTION_PICK, imagePathURI);
                intent.setType("image/*");
                intent.putExtra(MediaStore.EXTRA_OUTPUT, imagePathURI);
                startActivityForResult(intent, TAKE_PICTURE_GALLERY); 
```

当您想从图库中检索图像时，MediaStore.EXTRA_OUTPUT 指的是 Intent-extra 的名称，用于指示用于存储请求的图像或视频的内容解析器 Uri。所以在这里，你必须传递你将收到你的图像的图像路径。 `imagePathURI = Uri.fromFile(new File(<your image path>));`// 这里将从您的图像路径创建一个文件。当您收到图像时，您可以从此图像路径访问图像。

# asp.net - 如何在 NopCommerce CMS 中进入管理页面

> ID：10877873
> 
> 赞同：2
> 
> 时间：2012-06-04T07:39:10.890
> 
> 标签：asp.net, nopcommerce

我已经使用正常登录页面使用安装期间提供的信息登录，但它说

```
Login was unsuccessful. Please correct the errors and try again.
The credentials provided are incorrect 
```

从哪里我可以去管理员页面链接？？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T11:25:24.663

首先检查`[Customer]`数据库中的表。检查用户名或电子邮件 ID 是否正确...

如果它们正确，则使用登录页面上的忘记密码链接。

可能是您的登录名或密码错误....

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-05-04T11:55:53.077

在 SQL 数据库中打开表 Customer 并找到内置系统用户，其`email = "builtin@search_engine_record.com"`.
在 nopCommerce 4.0 中 ID 为 7。
默认情况下，此用户处于活动状态。
设置它`Active = False`。
登录，您将在页面顶部看到管理员链接。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T09:33:31.397

您可以尝试通过**客户**表中的 SQL 重置密码，请确保将 PasswordSalt 设置为 Null。重置密码后。刷新您的页面并输入密码，登录后您可以在顶部看到指向**管理的链接**

# ios - OpenGL ES 1.1 clearColor 绘图

> ID：10877875
> 
> 赞同：0
> 
> 时间：2012-06-04T07:39:29.620
> 
> 标签：ios, opengl-es

如何在 OpenGL ES 1.1 中使用 [UIColor clearColor] 进行绘制？我想创建橡皮擦工具...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T12:35:50.443

您可以创建蒙版图像。有很多方法可以做到这一点，这对我有用：

我创建了一个带有黑色圆圈的图像，其余部分都是透明的。我从这个图像创建一个纹理并将其绘制为一个简单的纹理正方形，但使用这个混合函数：

```
glBlendFunc(GL_ZERO, GL_ONE_MINUS_SRC_ALPHA); 
```

不要忘记启用混合并在绘制调用完成后恢复您的混合功能（或者如果您不在其他任何地方使用它，请禁用混合）

# javascript - 如何为ios应用程序obj-c创建javascript接口？

> ID：10877878
> 
> 赞同：1
> 
> 时间：2012-06-04T07:39:42.737
> 
> 标签：javascript, objective-c, ios, interface

有谁知道如何在 iOS 中创建一个可以从 javascript 调用的 javascript 界面？我的目标是以原生方式保存来自网站的数据，而不是使用 html5 本地存储。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T08:34:37.997

如果我理解正确，您需要的是移动 webapp 打包解决方案。

这里最受欢迎的可能是[PhoneGap](http://phonegap.com/)，它支持包括 iOS 在内的许多平台。该产品是免费和开源的。您仍然需要使用 Apple 的 iOS 平台 SDK 并拥有开发者帐户。至于存储机制，我相信PhoneGap有一个解决方案（允许存储是持久的，而不是像浏览器的localStorage那样被清除）。

如果您想简化部署过程，您可能需要查看[appMobi](http://www.appmobi.com/)，它们构建在 PhoneGap 之上，提供自己的开发工具包和云部署服务。

另请参阅讨论不同套件的此线程： [Corona、Phonegap、Titanium 之间的比较](https://stackoverflow.com/questions/1482586/comparison-between-corona-phonegap-titanium)

UPD。您是否尝试过用于存储的[PhoneGap SQLite 插件？](https://github.com/davibe/Phonegap-SQLitePlugin)

# iphone - 当我们点击 ScrollView 时 NSTimer 停止

> ID：10877882
> 
> 赞同：1
> 
> 时间：2012-06-04T07:39:56.880
> 
> 标签：iphone, objective-c, ios

在我的应用程序中，我正在使用 UIScrollView，它具有 UIImageView(20) 来添加使用 **- (void)populateScrollView**方法的图像。

```
 - (void)populateScrollView
{
TonifyAppDelegate *appDelegate = (TonifyAppDelegate *)[UIApplication sharedApplication].delegate;
double x1 = 0, y1 = 3;
NSUserDefaults *ud = [NSUserDefaults standardUserDefaults];            
NSMutableArray *getEffectsImageData = [ud objectForKey:@"getimageeffects"];
imageViewsArray = [[NSMutableArray alloc] initWithCapacity:[getEffectsImageData count]];
for(int i = 0; i < [getEffectsImageData count]; i++)
{ 
    NSString *sfxUrlFileName = [ [getEffectsImageData objectAtIndex:i] lastPathComponent];
    NSLog(@"sfxUrlFileName: %@", sfxUrlFileName);
    NSData *imageData = [appDelegate readSongDataFromDocsDirectory:sfxUrlFileName];
     UIImage *image = [[UIImage alloc] initWithData:imageData];
    UIImageView *anImageView = [[UIImageView alloc]initWithImage:image];
    CGRect imageFrame = anImageView.frame;
    imageFrame.origin.x = x1;
    imageFrame.origin.y = y1;
    anImageView.frame = CGRectMake(x1, y1, 45, 41);
    anImageView.userInteractionEnabled = YES;
    [scrollView addSubview:anImageView];
    x1 += anImageView.frame.size.width + 3;
    if (anImageView && [anImageView isMemberOfClass: [UIImageView class]]) 
        [imageViewsArray addObject: anImageView];
}

NSLog(@"imageViewsArray:%@",imageViewsArray);
} 
```

并识别我使用的 UIScrollView 中的触摸

```
UITapGestureRecognizer *singleTap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(singleTapGestureCaptured:)];
    [scrollView addGestureRecognizer:singleTap]; 
```

同时我正在使用 NSTimer 运行歌曲，就像

```
myTimer = [NSTimer scheduledTimerWithTimeInterval:timeinterval target:self selector:@selector(**updatplayer**) userInfo:nil repeats:YES];
[[NSRunLoop mainRunLoop] addTimer:myTimer forMode:NSRunLoopCommonModes]; 
```

在**updatePlayer**方法中，我正在执行如下任务

```
- (void)updatplayer
{
TonifyAppDelegate *appDelegate = (TonifyAppDelegate *)[UIApplication sharedApplication].delegate;

if (mThresholdVal<mMainLoopLength) 
{
    mThresholdVal+=0.5; 
}
else
{
    mThresholdVal = 0.0;
}

if (divimageView)
{
    [divimageView removeFromSuperview];
}
if ([self isHeadsetPluggedIn]==NO) {
    UInt32 audioRouteOverride = kAudioSessionOverrideAudioRoute_Speaker;
    AudioSessionSetProperty (kAudioSessionProperty_OverrideAudioRoute,sizeof (audioRouteOverride),&audioRouteOverride);

}
else
{
    UInt32 audioRouteOverride = kAudioSessionOverrideAudioRoute_None;
    AudioSessionSetProperty (kAudioSessionProperty_OverrideAudioRoute,sizeof (audioRouteOverride),&audioRouteOverride); 
}
NSString *cu=[NSString stringWithFormat:@"%2.f",audioPlayer.currentTime];
NSString *du=[NSString stringWithFormat:@"%2.f",audioPlayer.duration];

NSLog(@"LOOP cu Duration = %@",cu);
NSLog(@"LOOP du = %@",du);

int curenttime=(int)[cu intValue];
NSLog(@"LOOP current Duration = %2.f",audioPlayer.duration);
if(curenttime==0)
{
    [audioPlayer play];

    x=20;
}

mixdata = [NSMutableDictionary dictionary];
{
    [activityIndicator stopAnimating];
    activityIndicator.hidden = YES;

    [divimageView setFrame:CGRectMake(x, 87, 12, 144)];
    [self.view addSubview:divimageView];  

    x=x+1;

    if ((x>19 && x< 480) && appDelegate.songURL != NULL) {
         [avplayer play];
            NSLog(@"mixdata:%@", mixdata);

    }
    else if((x>19 && x< 480) &&  (appDelegate.songIntroUrl || appDelegate.songMidUrl || appDelegate.songChorusUrl) )
    {
        [audioPlayer play];
    }
if (x==xCord && yCord<235)
{
    [audioPlayer1 play];
}
if (x==recXcord) 
{
    recaudioPlayer.volume = 10.0;
    [recaudioPlayer play];
    [activityIndicator stopAnimating];
    activityIndicator.hidden = YES;

}

   if(appDelegate.xCordArray!=NULL && [appDelegate.tagArray count]>0)
   {

       for(int i = 0; i<[appDelegate.xCordArray count];i++)
       {
            if (i ==  0){
            NSLog(@"sfxCount in i==0......%d",sfxCount);
            NSLog(@"[appDelegate.xCordArray count] in i==0......%d",[appDelegate.xCordArray count]);
            NSLog(@"[appDelegate.mMixedSFXTrack2Array count] in i==0......%d",[appDelegate.mMixedSFXTrack2Array count]);

               if (sfxCount-1 !=  [appDelegate.xCordArray count])
               {
                   if ([appDelegate.xCordArray count] > [appDelegate.mMixedSFXTrack2Array count] )
                   {
                   mShouldBufferUpdate = TRUE;
                   sfxCount  = [appDelegate.xCordArray count];
                }
               }
           }

           if (x==[[appDelegate.xCordArray objectAtIndex:i] intValue] && appDelegate.imgDragXCodr<480)
           {
               int j = [[appDelegate.tagArray objectAtIndex:i] intValue];
                //mShouldBufferUpdate = TRUE;
               [self getSetSongData:j :x];
               [audioPlayer2 play];

           }
    }
   }
    if(appDelegate.xCordTrack3Array!=NULL && [appDelegate.track3tagArray count]>0)
    {
        for(int i = 0; i<[appDelegate.xCordTrack3Array count];i++)
        {
            if (i ==  0)
            {

                if (sfxCount3-1 !=  [appDelegate.xCordTrack3Array count])
                {
                        if ([appDelegate.xCordTrack3Array count] > [appDelegate.mMixedSFXTrack3Array count] )
                        {
                            mShouldBuffer3Update = TRUE;
                            sfxCount3 = [appDelegate.xCordTrack3Array count];
                        }
                    }
                }

            if (x==[[appDelegate.xCordTrack3Array objectAtIndex:i] intValue] && appDelegate.imgDragXCodr1<480)
            {
                int j = [[appDelegate.track3tagArray objectAtIndex:i] intValue];
                [self getSetSongData:j :x];
                [trac3AudioPlayer play]; //For SFX Sounds

            }
        }
    }

if (x == 480)
{
    x=20;
}
}
} 
```

当我单击 scrollView 时，它会在 UIView（主视图）中生成一个图像，当时 NSTimer 正在暂停。

我们该如何解决这个问题。任何人都可以帮助或建议我。提前致谢。

# c++ - 包含 SDL 时，简单的 tcp echo 程序不起作用？

> ID：10877885
> 
> 赞同：1
> 
> 时间：2012-06-04T07:40:12.543
> 
> 标签：c++, c, runtime, sdl, winsock

我有一个奇怪的问题，每当我`#include "SDL/SDL.h"`，我的 Windows 套接字程序不执行。它编译但它在运行时不做任何事情。当我删除`#include "SDL/SDL.h"`标头，编译并运行时，它又开始工作了？？？。

我试图让 SDL 和我原来的套接字程序都工作，但我不明白这是怎么回事。

```
//#include "SDL/SDL.h"
#define _WIN32_WINNT 0x501
#include <iostream>
#include <windows.h>
#include <winsock2.h>
#include <ws2tcpip.h>
#include <string.h>
#include <ws2tcpip.h>
#define MAXLEN 80
using namespace std;

const int winsockVersion = 2;

int main( int argc, char* args[] ) { 

    WSADATA wsadata;
    if ( (WSAStartup(MAKEWORD(2,0),&wsadata)) == 0){
        cout<<"-[ WSAStartup Initialized. ]" << endl;

        char PORT[MAXLEN];
        char SERVER[MAXLEN];
        cout <<"Server: ";
        cin>>SERVER;
        cout <<"Port: ";
        cin>>PORT;

        struct addrinfo hints, *res;
        int sockfd;

        memset(&hints,0,sizeof hints);
        hints.ai_family = AF_UNSPEC;
        hints.ai_socktype = SOCK_STREAM;

        if (getaddrinfo(SERVER,PORT,&hints,&res) != 0){
            cout<<"-Getaddrinfo unsuccessful." << endl;
        }

        if ( (sockfd = socket(res->ai_family,res->ai_socktype,res->ai_protocol)) == -1 ){
            cout<<"-Unable to create socket." << endl;
        }

        if ( (connect(sockfd,res->ai_addr,res->ai_addrlen)) != -1 ){
            cout<<"-[ Connection Established. ]" << endl;
        }

        cout<<"-[ Client connecting to: ]" << res->ai_addr << endl;

        while(true){
            string text_buff;
            cout<<"Send: ";
            getline(cin,text_buff);
            if( (send(sockfd,text_buff.c_str(),text_buff.length()+1,0)) != -1 ){
                cout<<"-----------------------------------> Data sent!." << endl;
            }

            if ( text_buff == "quit" ){
                break;
            }

        }

    }else{
        cout<<"-WSAStartup Initialization failed." << endl;
        if(WSACleanup()!=0){
            cout<<"-WSACleanup Successful." << endl;
        }else{
            cout<<"-WSACleanup Failed." << endl;
        }
    }

    return 0;
} 
```

编译

```
g++ -o draft.exe draft.cpp -I"C:\compilers and libs\Libs\SDL\SDL devep\SDL-1.2.15\include" -L"C:\compilers and libs\Libs\SDL\SDL devep\SDL-1.2.15\lib" -lmingw32 -lSDLmain -lSDL -lws2_32 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-08T13:04:27.243

据我所知，SDL 用一些愚蠢的`#define main`技巧重写了 main 函数，它像这样拦截程序 main 。

因此， main 可能根本不会被调用。

如果我没记错的话，你的主要功能（参数）应该**是** `int main(int argc, char *argv[])`.

# visual-studio-2010 - 防止 strings.resx 中的注释冲突 (Visual Studio 2010)

> ID：10877893
> 
> 赞同：1
> 
> 时间：2012-06-04T07:40:50.447
> 
> 标签：visual-studio-2010, resources, versioning, conflict

假设一个国际开发团队，使用不同风格的`Visual Studio 2010`（理解：使用不同的语言），并致力于一个版本化的项目。

每次他们中的任何一个对 进行修改时`Strings.resx`，Visual Studio 都会愉快地**生成带有本地化注释的文件**。每次他们两个或更多同时这样做时，**都会出现一些非常烦人的冲突**，这不仅耗时，而且完全没有意义。开发人员很生气。

如何防止这种情况？有没有办法告诉 Visual Studio 不要重新生成这些评论，或者完全放弃它们？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T12:27:15.467

我不知道如何防止 Visual Studio 在`.Designer.cs`支持每个`.resx`文件的文件中生成本地化注释。我当然想知道。

在有人发现之前，每次您想要更改资源时，您都必须使用英语（或团队中大多数人共享的任何语言）设置 Visual Studio。

你可以这样做`Tools > Options > Environment > International Settings`（你需要重新启动VS）。

编程时，我不介意用英语而不是我的母语设置所有内容，因为异常和错误消息在使用英语时几乎总是更容易用谷歌搜索。

高温高压

# sql-server-2008 - 分页 SQL 查询中的动态排序依据

> ID：10877894
> 
> 赞同：1
> 
> 时间：2012-06-04T07:41:02.387
> 
> 标签：sql-server-2008, linq-to-sql

我想`orderby`在存储过程中使用分页和动态子句（多于一列）。我确实尝试过，但给了我一个错误

看来我不能在 rank() 上使用 Row_number()

> 窗口函数不能在另一个窗口函数或聚合的上下文中使用。

除了 linq to sql 之外，有没有其他方法可以实现这一目标

```
SELECT  [t8].[AssetId], 
            [t8].[WorkOrderId], 
            [t8].[IssueDescription] AS [WorkOrderDescription], 
            [t8].[value] AS [Type], 
            [t8].[WorkOrderStatusTypeName] AS [Status],
            [t8].[value2] AS [StartDate], 
            [t8].[CompletedDate] AS [CompleteDate], 
            [t8].[value22] AS [CompletedBy], 
            ISNULL([t8].[value3],0) AS [Hours]
    FROM    (
                SELECT  ROW_NUMBER() 
                    OVER (ORDER BY  CASE WHEN @sortColumnName = 'default' THEN (RANK() over( order by [t7].[WorkOrderStatusTypeId] ASC, [t7].[WorkOrderId])) END ,
                                    CASE WHEN @sortColumnName = 'WorkOrderId' AND @sortOrder = 'asc' THEN [t7].[WorkOrderId] END ASC,
                                    CASE WHEN @sortColumnName = 'WorkOrderId' AND @sortOrder = 'desc' THEN [t7].[WorkOrderId] END DESC
                    ) AS [ROW_NUMBER],  
                    [t7].[AssetId], 
                    [t7].[WorkOrderId], 
                    [t7].[IssueDescription], 
                    [t7].[value], 
                    [t7].[WorkOrderStatusTypeName], 
                    [t7].[value2], 
                    [t7].[CompletedDate],
                    [t7].[value22], 
                    [t7].[value3]
            from    --Different tables      
            ) as t8     
    WHERE       [t8].[ROW_NUMBER] BETWEEN ((@pageIndex-1) * @pageSize)+ 1 AND @pageIndex * @pageSize
    ORDER BY    [t8].[ROW_NUMBER] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T08:57:46.243

用过的

```
SELECT  CASE    
        WHEN @sortColumnName ='default' AND @sortOrder = 'asc'  then row_number() over (order by [t7].[WorkOrderStatusTypeId], [t7].[CompletedDate] ASC) 
        WHEN @sortColumnName ='WorkOrderId' AND @sortOrder = 'asc'  then row_number() over (order by [t7].[WorkOrderId] ASC) 
        WHEN @sortColumnName ='WorkOrderId' AND @sortOrder = 'desc' then row_number() over (order by [t7].[WorkOrderId] DESC)
        END AS [ROW_NUMBER], 
```

代替

```
SELECT  ROW_NUMBER() 
        OVER (ORDER BY  CASE WHEN @sortColumnName = 'default' THEN (RANK() over( order by [t7].[WorkOrderStatusTypeId] ASC, [t7].[WorkOrderId])) END ,
                        CASE WHEN @sortColumnName = 'WorkOrderId' AND @sortOrder = 'asc' THEN [t7].[WorkOrderId] END ASC,
                        CASE WHEN @sortColumnName = 'WorkOrderId' AND @sortOrder = 'desc' THEN [t7].[WorkOrderId] END DESC
        ) AS [ROW_NUMBER], 
```

不能将像 RowNumber() 和 Rank() 这样的嵌套窗口函数放在一起，而是可以在 case 语句中使用它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T19:39:23.430

似乎您希望默认顺序为两列，并且您尝试使用`RANK()`以尝试将两个默认排序条件放在一个 CASE 中。

显然，这是不可能的。一个明显的选择似乎是将两列分成两个 CASE，重复`@sortColumnName = 'default'`条件：

```
ROW_NUMBER() 
OVER (ORDER BY  CASE WHEN **@sortColumnName = 'default'** THEN **[t7].[WorkOrderStatusTypeId]** END ASC,
                CASE WHEN **@sortColumnName = 'default'** THEN **[t7].[WorkOrderId]** END ASC,
                CASE WHEN @sortColumnName = 'WorkOrderId' AND @sortOrder = 'asc' THEN [t7].[WorkOrderId] END ASC,
                CASE WHEN @sortColumnName = 'WorkOrderId' AND @sortOrder = 'desc' THEN [t7].[WorkOrderId] END DESC 
```

另一方面，很容易看出，第二个和第三个 CASE 可以合并为一个，因为当相应的条件为真时，两者都返回相同的表达式。所以，你可以这样做：

```
ROW_NUMBER() 
OVER (ORDER BY  CASE WHEN @sortColumnName = 'default' THEN [t7].[WorkOrderStatusTypeId] END ASC,
                CASE WHEN **@sortColumnName = 'default' OR @sortColumnName = 'WorkOrderId' AND @sortOrder = 'asc'** THEN [t7].[WorkOrderId] END ASC,
                CASE WHEN @sortColumnName = 'WorkOrderId' AND @sortOrder = 'desc' THEN [t7].[WorkOrderId] END DESC 
```

如您所见，第二个 CASE 用于`WorkOrderId ASC`在参数中明确指定该列时以及指定时设置排序`'default'`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-09-04T10:49:31.163

创建 Web API 时，进行动态排序的唯一方法，尤其是在多个 colmun 上，是构建 Sql 字符串并使用内置的 sprop 'SP_EXECUTESQL' 运行它。请参阅下面的解决方案示例，它返回一个分页列表，按多列字符串排序，并通过输出参数返回总行数。

**请注意，这样使用字符串直接拼接时，一定要先检查sql注入恶意代码的参数。在这里我必须检查 SearchTerm 和 SortTerm**

```
alter PROCEDURE [dbo].[usp_Ranking_SearchForPlayerByName]
    @SearchTerm varchar(100),
    @WeekNumber int,
    @Gender nchar(1),
    @SortTerm nvarchar(100),
    @PageSize int,
    @PageNumber int,
    @TotalCount int OUT
AS
BEGIN
    SET ANSI_NULLS, QUOTED_IDENTIFIER ON

    DECLARE @PreviousWeek int = dbo.PreviousWeekNo(@WeekNumber)
    DECLARE @Offset int = (@PageNumber - 1) * @PageSize

    DECLARE @sql nvarchar(max) = N'Select 
        h.PlayerID
        ,p.Forename as FirstName
        ,p.Surname as Lastname
        ,p.Gender as Gender
        ,''return country of residence'' as Country
        ,r.Name as Region
        ,h.Position as RankThisWeek
        ,previousWk.Position as RankLastWeek
        ,(previousWk.Position - h.Position) as Change
    From PlayerHistories h
        left outer join
            (Select * from PlayerHistories
                where WeekNumber = @PreviousWeek) previousWk on h.PlayerId = previousWk.PlayerId
        inner join Players p on h.PlayerId = p.Id
            left join Countries c on p.CountryId = c.Id
            left join Regions r on c.RegionId = r.Id
    Where h.WeekNumber = @WeekNumber And
        p.Gender = CASE When @Gender = ''M'' Then ''M'' When @Gender = ''F'' Then ''F'' Else p.gender End And
        p.FullName like ''%' + @SearchTerm + '%'' 
    Order by ' + @SortTerm + '
    OFFSET @offset ROWS FETCH NEXT @PageSize ROWS ONLY

    '   
    EXEC SP_EXECUTESQL @Sql,
        N'@PreviousWeek int, @WeekNumber int, @Gender nchar(1), @offset int, @PageSize int', 
        @PreviousWeek, @WeekNumber, @Gender, @offset, @PageSize;

    SELECT @TotalCount = 
        (SELECT Count(h.Id)
        From PlayerHistories h
            left outer join
                (Select * from PlayerHistories
                    where WeekNumber = @PreviousWeek) previousWk on h.PlayerId = previousWk.PlayerId
            inner join Players p on h.PlayerId = p.Id
        Where h.WeekNumber = @WeekNumber And
            p.Gender = CASE When @Gender = 'M' Then 'M' When @Gender = 'F' Then 'F' Else p.gender End And
            p.FullName like '%' + @SearchTerm + '%');

END 
```

使用以下语句测试调用它：

```
DECLARE @op int

exec dbo.usp_Ranking_SearchForPlayerByName 'smith',201715,'','LastName DESC, Gender, FirstName',10,1, @op OUTPUT

select @op 
```

# inheritance - 为什么初始化 Drive 类的实例时 Base 类和 Drive 类的构造函数都运行

> ID：10877896
> 
> 赞同：0
> 
> 时间：2012-06-04T07:41:03.930
> 
> 标签：inheritance, pointers, constructor, virtual, vtable

```
#include <iostream>
using namespace std;

class Base {
    public:
        Base() {
            cout << "In Base" << endl;
            cout << "Virtual Pointer = " << (int*)this << endl;
            cout << "Address of Vtable = "
            << (int*)*(int*)this << endl;
            cout << "Value at Vtable = "
            << (int*)*(int*)*(int*)this << endl;
            cout << endl;
        }

        virtual void f1() { cout << "Base::f1" << endl; }
};

class Drive : public Base {
    public:
        Drive() {
            cout << "In Drive" << endl;
            cout << "Virtual Pointer = "
            << (int*)this << endl;
            cout << "Address of Vtable = "
            << (int*)*(int*)this << endl;
            cout << "Value at Vtable = "
            << (int*)*(int*)*(int*)this << endl;
            cout << endl;
        }

        virtual void f1() { cout << "Drive::f2" << endl; }
};

int main() {
    Drive d;
    return 0;
} 
```

这个程序的输出是

```
In Base
Virtual Pointer = 0012FF7C
Address of Vtable = 0046C08C
Value at Vtable = 004010F0

In Drive
Virtual Pointer = 0012FF7C
Address of Vtable = 0046C07C
Value at Vtable = 00401217 
```

在我看来，当我初始化 Drive 实例时，只运行 Drive 类的构造函数，但在这个程序中，Base 的构造函数中的代码也运行。跟随输出，有些奇怪，我们只有 1 个实例，1 个虚拟指针，但我们有 2 个 Vtable。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T08:06:30.440

因为当你运行继承类的构造函数时，它的超类的构造函数会自动运行。就像您的编译器在 Drive 构造函数的第一行中为您提供了对 Base 构造函数的呼吁。对于您的编译器，Drive 构造函数如下所示：

```
 Drive() {
        Base();
        cout << "In Drive" << endl;
        cout << "Virtual Pointer = "
        << (int*)this << endl;
        cout << "Address of Vtable = "
        << (int*)*(int*)this << endl;
        cout << "Value at Vtable = "
        << (int*)*(int*)*(int*)this << endl;
        cout << endl;
    } 
```

# forms - 使用 JS 验证表单输入字段的最快方法

> ID：10877899
> 
> 赞同：0
> 
> 时间：2012-06-04T07:41:11.747
> 
> 标签：forms, validation, field

使用 javaScript 验证我的所有输入字段的最快方法是什么？我想检查这些字段是否已填写。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T07:43:36.230

我会使用[jQuery Validate](http://docs.jquery.com/Plugins/Validation)。

> 一行 jQuery 选择表单并应用验证插件。每个元素都有一些元数据来指定验证规则。

专门用于执行所需的文档位于

[http://docs.jquery.com/Plugins/Validation/Methods/required](http://docs.jquery.com/Plugins/Validation/Methods/required)

它需要添加 jQuery（如果您还没有使用它），但提供了一个快速而强大的验证框架。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:51:52.683

以下是我的 javascript 代码：

```
<script>
function Check(frm) 
{
  var input, EmptyFound=false; 
  var elem = document.getElementById('frmMain').elements;
  for(var i=0;i<elem.length;i++) 
  {
    input = elem[i];
    if(input.type == "text") 
    {
        if(input.value == "") 
       {
            EmptyFound = true;
            break; 
        }
    }

    return notEmpty; 
}
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T07:59:11.567

**您可以使用它来区分输入的不同类型**

这只是我项目中的一个示例

```
 //var frm_elements = document.mainForm.elements;
    //var frm_elements =document.getElementById('mainForm').elements;

    for (var i = 0; i < document.mainForm.elements.length; i++)
    {document.mainForm.elements[i];
        if(document.mainForm.elements[i]!=null)

        {

            var field_type = document.mainForm.elements[i].type;
            switch (field_type)
            {
                case "text":
                    if(document.mainForm.elements[i].name.indexOf("from")!='-1' &&
                        document.mainForm.elements[i].name.indexOf("frotom")!='-1' &&
                        !document.mainForm.elements[i].name.indexOf("serNo")!='-1' &&
                        !document.mainForm.elements[i].name.indexOf("repKey")!='-1' &&
                        !document.mainForm.elements[i].name.indexOf("orderKey")!='-1' &&
                        !document.mainForm.elements[i].name.indexOf("formatKey")!='-1' )
                    {
                        document.mainForm.elements[i].value = "";
                    }

                    break;
                case "password":
                case "textarea":
                case "hidden":
                /* frm_elements[i].value = "";
                    break;*/
            case "radio":
            case "checkbox":
            /*if (frm_elements[i].checked)
                    {
                        frm_elements[i].checked = false;
                    }
                    break;*/
        case "select-one":
        case "select-multi":
            if(document.mainForm.elements[i].name.indexOf("ddlMainSubModule")=='-1')
                document.mainForm.elements[i].selectedIndex = 0;
            break;
        default:
            break;
    }
} 
```

}

# java - Sencha Touch 2 煎茶地图上的多个经纬度

> ID：10877901
> 
> 赞同：0
> 
> 时间：2012-06-04T07:41:34.460
> 
> 标签：java, javascript, google-maps, sencha-touch-2

我正在构建一个包含地址列表的应用程序。这个应用程序的工作方式是，一旦用户单击列表中的每个项目（地址），下一页就会显示地图，并且地图有一个标记，指向所单击地址的确切位置。由于代码中规定的纬度和经度坐标，这成为可能。我的问题是我有多个地址，每个地址都有唯一的经度和纬度。我想让我的应用程序以这样的方式工作，当用户点击他们感兴趣的任何地址时，应用程序将打开一个页面并显示地图和一个指向地图上地址确切位置的标记。我的代码如下：它运行良好，但是当用户点击地址时，它会将它们带到相同的对数和纬度。

我的店铺：

```
Ext.define('List.store.Presidents', {
extend : 'Ext.data.Store',

config : {
    model : 'List.model.President',
    sorters : 'lastName',
    grouper : function(record) {
        return record.get('lastName')[0];
    },

    data : [{

        firstName : "Ikhlas HQ",
        lastName : "Tower 11A, Avenue 5, Bangsar South, No.8 Jalan Kerinchi 59200 Kuala Lumpur",
        latitude : 3.110649,
        longitude : 101.664991,
        id: 'm12',
    },
    {
        firstName : "PEJABAT WILAYAH SELANGOR",
        lastName : "No. 97, 97-1 & 97-2, Jalan Mahogani 5/KS7, Ambang Botanic, 41200 Klang,   Selangor",
        latitude : 3.003384,
        longitude : 101.45256,
        id: 'm1',
    }, ]

}
}); 
```

我的控制器：

```
Ext.define('List.controller.Main', {
extend: 'Ext.app.Controller',

config: {

    control: {
        'presidentlist': {
            disclose: 'showDetail'
        },
     }
 },
showDetail: function(list, record) {
            this.getMain().push({
                xtype: 'presidentdetail',
                title: record.fullName(),

listeners: {
            maprender: function(comp, map) {
                var position = new google.maps.LatLng(5.978132,116.072617);
                var marker = new google.maps.Marker({
                    position: position,
                    map: map
                        });
            google.maps.event.addListener(marker, 'click', function() {
                    infowindow.open(map, marker);
                        });
            setTimeout(function() {
                    map.panTo(position);
                }, 1000);

                },
           }, 
        })
     },
}); 
```

我的观点：

```
Ext.define('List.view.PresidentDetail', {
extend : 'Ext.Map',
xtype: 'presidentdetail',

    config: {
                title: 'Details',
                styleHtmlContent: true,
                scrollable: 'vertical',
                //useCurrentLocation: true,
                layout: 'fit',

    mapOptions: {
                zoom: 16,
                mapTypeId: google.maps.MapTypeId.ROADMAP,
                navigationControl: true,
                navigationControlOptions: {
                style: google.maps.NavigationControlStyle.DEFAULT
                 }
            },
    }

}); 
```

我的模型：

```
Ext.define('List.model.President', {
extend : 'Ext.data.Model',
config : {
    fields : ['firstName', 'middleInitial', 'lastName', 'latitude', 'longitude']
},
fullName : function() {
    var d = this.data, names = [d.firstName, (!d.middleInitial ? "" : d.middleInitial + "."), d.lastName];
    return names.join(" ");
}
}); 
```

请帮帮我。我需要用纬度和经度标记列表中的每个地址，以便当用户单击地址时，它将指向地图的确切位置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T06:27:36.407

看看 GitHub 上的 kentuni 应用程序。它在 sencha touch v1 中并使用传单，但它应该是一个很好的参考 - 它完全符合您想要的位置列表，单击时会推送带有标记的地图视图。

# javascript - 检查单元格中的文本是否为粗体

> ID：10877903
> 
> 赞同：1
> 
> 时间：2012-06-04T07:41:51.037
> 
> 标签：javascript, html-table

我有一个 html 表格。有些单元格是粗体，有些是正常的。我如何检查某个单元格是否为粗体（例如 i,j）并获取该单元格的文本而没有 tag 。

单元格只能有文本。如果它是粗体 - 它应该包含 tag `<b>`。例如：

```
<tr>
<td>
Not bold text
</td>
<td>
<b> Bold text </b>
</td>
</tr> 
```

PS 我不能使用 class 或 id 属性。
PSS 如果没有 jQuery 代码会更好，我们暂时不用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T12:40:24.903

请参阅此答案如何获取对单元格的引用：[https ://stackoverflow.com/a/3052862/34088](https://stackoverflow.com/a/3052862/34088)

你可以得到第一个孩子`cell.firstChild`。这为您提供了一个文本节点或一个`<B>`节点。您可以使用`node.nodeType`DOM 节点的 1 或文本节点的 3 来检查这一点。这使：

```
function isBold(table, rowIdx, columnIdx) {
    var row = table.rows[rowIdx];
    var cell = row.cells[columnIdx];
    var node = cell.firstChild;
    if( node.nodeType === 3 ) {
        return false;
    }

    return node.nodeName === 'b' || node.nodeName === 'B';
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:55:30.247

使用 css font-weight 属性来检测文本是否为粗体：

```
if ($("#td-id").css("font-weight") == "bold") {
  var boldText = $("#td-id").html();
  // Text is bold
} 
```

如果不使用 css，表格单元格内容内必须有`<strong>`-tag（或-tag）。`<b>`您可以使用以下代码提取粗体文本：

```
var boldText = $("#td-id strong").html();
if (boldText != NULL) {
   // Text is bold
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T07:55:18.680

这完全取决于您的 HTML。如果您使用`<b>`or`<strong>`标记，那么您可以轻松地从这些单元格中获取文本：`$('TD strong').text();`

如果您通过 CSS 类使文本变为粗体，那么您需要 css 类：`$('TD.classForBoldText').text();`

但是，如果您刚刚通过通用 css 将文本设置为粗体，`TD { font-weight: bold; }`那么您将无法获取特定单元格的文本。

# orchardcms - Orchard 1.4.2 中缺少投影、查询

> ID：10877904
> 
> 赞同：0
> 
> 时间：2012-06-04T07:41:58.487
> 
> 标签：orchardcms

我看不到仪表板的查询部分，也看不到它作为投影页面的一部分。

有什么改变吗？

在日志中，有一个错误：

```
Object reference not set to an instance of an object.
   at Szmyd.Orchard.Modules.Menu.Drivers.BreadcrumbsPartDriver.<>c__DisplayClass5.<Display>b__4()
   at Orchard.ContentManagement.Drivers.ContentPartDriver`1.<>c__DisplayClassd.<ContentShape>b__c(BuildShapeContext ctx) in C:\OrchardWebsite\src\Orchard\ContentManagement\Drivers\ContentPartDriver.cs:line 108
   at Orchard.ContentManagement.Drivers.ContentPartDriver`1.<>c__DisplayClass13.<ContentShapeImplementation>b__12(BuildShapeContext ctx) in C:\OrchardWebsite\src\Orchard\ContentManagement\Drivers\ContentPartDriver.cs:line 116
   at Orchard.ContentManagement.Drivers.ContentShapeResult.ApplyImplementation(BuildShapeContext context, String displayType) in C:\OrchardWebsite\src\Orchard\ContentManagement\Drivers\ContentShapeResult.cs:line 37
   at Orchard.ContentManagement.Drivers.ContentShapeResult.Apply(BuildDisplayContext context) in C:\OrchardWebsite\src\Orchard\ContentManagement\Drivers\ContentShapeResult.cs:line 21
   at Orchard.ContentManagement.Drivers.Coordinators.ContentPartDriverCoordinator.<>c__DisplayClassa.<BuildDisplay>b__9(IContentPartDriver driver) in C:\OrchardWebsite\src\Orchard\ContentManagement\Drivers\Coordinators\ContentPartDriverCoordinator.cs:line 49
   at Orchard.InvokeExtensions.Invoke[TEvents](IEnumerable`1 events, Action`1 dispatch, ILogger logger) in C:\OrchardWebsite\src\Orchard\InvokeExtensions.cs:line 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-13T16:09:22.110

我有同样的问题，发现**投影仪模块**被禁用。我不知道为什么它被禁用，但启用它是有意义的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T19:49:50.263

不，它还在那里。必须有其他事情发生，例如在加载模块时版本不匹配导致异常。你检查你的 app_data\logs 文件夹了吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-17T14:28:13.220

我遇到了与仪表板中未显示的查询相同的问题。禁用 Autoroute 模块并再次启用它对我有用。

# html - 视频在服务器上的 HTML5 中不起作用？

> ID：10877906
> 
> 赞同：0
> 
> 时间：2012-06-04T07:42:00.993
> 
> 标签：html, video

我正在使用 Firefox 12.0 版本，视频也无法在 Firefox、chrome 和 safari 中运行.....

在本地视频上工作，但在服务器上视频不工作，在服务器上，浏览器要求 MIME 类型......

我正在将此代码用于视频嵌入...

```
<video width="230" height="170" controls="controls">
    <source src="video/main.mp4" type="video/mp4; codecs="avc1.42E01E, mp4a.40.2"" />
    <source src="video/main.ogv" type="video/ogg; codecs="dirac, vorbis"" />
</video> 
```

请给我解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T18:00:51.560

这将有助于了解哪些软件正在从服务器提供视频文件。

你知道那个软件是否支持[HTTP Range 请求](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35)吗？Chrome 和 Firefox 将其用于音频和视频文件以检索文件的一部分，以避免下载可能非常大的文件，或允许用户向后、向前、暂停和播放媒体。本地文件支持范围和搜索，但并非所有 Web 服务器软件都支持。

# opencv - 设置 FlannBasedMatcher 的 Index- / Search-Parameters

> ID：10877908
> 
> 赞同：0
> 
> 时间：2012-06-04T07:43:00.343
> 
> 标签：opencv, javacv

我有一个关于 javaCVs FlannBasedMatcher 的问题。在 openCV 文档中，可以向构造函数提供索引/搜索参数，在 java 中它不起作用。那么如果不通过构造函数我该怎么做呢？

```
FlannBasedMatcher flannMatcher = new FlannBasedMatcher(indexParams, searchParams); // Doesn't work for me 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T12:54:41.427

Ok so the lines that enable the constructor to use the index- and searchParameters were commented out. The new release of javaCV will have that constructor as well!

# iphone - 音频 (mp3) 文件问题，按按钮次数不播放文件

> ID：10877909
> 
> 赞同：1
> 
> 时间：2012-06-04T07:43:07.130
> 
> 标签：iphone, ios

**我已经在记忆游戏**应用程序中单击按钮设置了音乐文件。

音乐正常播放了一段时间，但在点击按钮的数量后，应用程序会失去声音效果。

```
-(void)setButtons_AsPerTheMatrixSelection
{
    for ( i = 0 ; i < cv ; ++i )
    {
        for ( j = 0 ; j < ch ; ++j )
        {
            btnMatrix = [[[UIButton alloc] initWithFrame:CGRectMake(10+pw*j, 51+ph*i, width, height)] autorelease];
            btnMatrix.tag = i*ch+j;
            btnMatrix.userInteractionEnabled = TRUE;
            bulImageStatus = FALSE;
            [btnMatrix addTarget:self action:@selector(changeImage:) forControlEvents:UIControlEventTouchUpInside];
            [btnMatrix setImage:imgDefaultBG forState:UIControlStateNormal];
            [viewWithButtons addSubview:btnMatrix];

            [arrButton addObject:btnMatrix];
        }
    }
}    

-(void)changeImage:(id)sender
{
    NSString *musicPath = [[NSBundle mainBundle] pathForResource:@"ding" ofType:@"mp3"];
    if (musicPath) 
        TapSoud = [[AVAudioPlayer alloc] initWithContentsOfURL:[NSURL fileURLWithPath:musicPath] error:nil];

    [TapSoud setDelegate:self];
    [TapSoud prepareToPlay];
    [TapSoud play];
} 
```

这对于按下次数非常有效，但是在某些单击后我无法播放此按钮单击音。

可能是什么问题以及如何解决这个问题。

有没有其他方法可以播放音频文件？

请提出适当的解决方案。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:59:44.153

AVAudioPlayer 被一遍又一遍地分配，但从未释放。

尝试这个。

```
-(void)changeImage:(id)sender
{
    NSString *musicPath = [[NSBundle mainBundle] pathForResource:@"ding" ofType:@"mp3"];
    if (musicPath) {
        if(TapSoud){ // TapSound ? 
             [TapSoud release];
              TapSoud = nil;
        }
        TapSoud = [[AVAudioPlayer alloc] initWithContentsOfURL:[NSURL 
fileURLWithPath:musicPath] error:nil];
}

[TapSoud setDelegate:self];
[TapSoud prepareToPlay];
[TapSoud play]; 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T09:07:54.670

每次播放时使用相同的 AVAudioPlayer 参考：

```
-(void)changeImage:(id)sender
{
  NSString *musicPath = [[NSBundle mainBundle] pathForResource:@"ding" ofType:@"mp3"];
  if (musicPath) {
    if(!TapSoud){ // check TapSound has reference
         TapSoud = [[AVAudioPlayer alloc] initWithContentsOfURL:[NSURL fileURLWithPath:musicPath] error:nil];
         [TapSoud setDelegate:self]
    }
    else
    {
        NSNumber *time = [NSNumber numberWithDouble:0];
        //NSTimeInterval interval = [time doubleValue];
       [TapSoud playAtTime:[time doubleValue];// Smae Sound played at time 0:00
    }

  }
 } 
```

# python - 为什么 wx.EVT_SIZE 只在最大化时触发？

> ID：10877911
> 
> 赞同：0
> 
> 时间：2012-06-04T07:43:15.027
> 
> 标签：python, wxpython

我希望它在我调整窗口大小时触发。但它只在最大化和非最大化时触发。

如何修复它以触发每个调整大小事件？

如果是相关细节，我正在使用 Unity 开发 Ubuntu 11.10。

# c# - 如何将 .Net Framework 从 3.5 版更改为 4.0 版

> ID：10877913
> 
> 赞同：20
> 
> 时间：2012-06-04T07:43:29.663
> 
> 标签：c#, .net, visual-studio

我在 .NET Framework 3.5 中创建了一个类库。现在我想将 .NET Framework 版本更改为 4.0。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2012-06-04T07:46:20.347

在 Visual Studio 中：

1.  右键单击您的项目
2.  选择属性
3.  选择应用程序选项卡
4.  将目标框架更改为所需的框架

如果您在那里没有看到**.NET Framework 4**作为选项，请确保已安装它。

**编辑**

我认为这不是您要问的，但为了完整起见，也可以将现有 DLL 指向更高版本的 .NET Framework，而无需使用[Binding Redirects](http://msdn.microsoft.com/en-us/library/7wd6ex19%28v=vs.71%29.aspx)重新编译。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-04T07:47:26.243

1.  右键单击解决方案资源管理器中的项目并选择**Properties**。

2.  确保选择了**应用程序**选项卡。

3.  在**Target framework**下拉列表中选择所需的框架，例如**.NET Framework 4**。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-07-31T14:04:11.707

在**Visual Studio 2010**中：

1.  **右键单击**您的**项目**
2.  选择**属性**
3.  选择**编译**选项卡
4.  在底部，选择**高级编译选项**
5.  **将目标框架**更改为所需的框架

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-04T07:46:00.487

不幸的是，一旦创建就无法做到这一点`dll`。为此，您需要拥有类库的来源。

*   在解决方案资源管理器中右键单击项目，选择**属性。**

*   在**Application 选项卡中将****Target Framework**更改为**Desired one**。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-02-29T11:15:53.747

仅供参考 - 有一个适用于 Visual Studio（2013、2015）的“Target Framework Migrator”扩展工具，可以一次性完成解决方案中的所有项目。

我目前正在研究一个包含 100 多个项目的解决方案，并且一次只做一个项目 IMO 是不切实际的。

# java - 硬编码数组或资源字符串数组哪个更好用？

> ID：10877916
> 
> 赞同：5
> 
> 时间：2012-06-04T07:43:38.250
> 
> 标签：java, android

在我的 android 程序中使用什么更好：

在 mainActivity.java 中：

```
String[] st = {"Value1","Value2"}; 
```

或者

在 mainActivity.java 中：

```
String[] st = (String[]) getResources().getStringArray(R.array.Array1); 
```

在strings.xml中：

```
<string-array name="Array1">
    <item >Value1</item>
    <item >Value2</item>
</string-array> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-04T07:46:43.860

好吧，如果您需要`localize`（将其翻译成更多语言）您的字符串，我将使用第二种方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T07:46:38.567

第二种解决方案更好，因为您以后可以使用不同的语言（英语、德语等）[http://developer.android.com/guide/topics/resources/localization.html](http://developer.android.com/guide/topics/resources/localization.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T07:54:20.783

我还将建议像其他人建议的那样使用第二个。此外，如果您想要更改数组的元素或想要添加/删除数组的元素，它还可以帮助您。在这种情况下，您无需再次更改源代码并重新编译它。相反，您只需要更改 XML 文件并完成。

# css - 简单的边框褪色

> ID：10877917
> 
> 赞同：0
> 
> 时间：2012-06-04T07:43:49.483
> 
> 标签：css

不知道我做错了什么，但我试图在悬停时将 div 的边框从一种颜色淡化为下一种颜色。这就是我所拥有的

```
.box {
background: #212121;
border: 1px solid #464646;
-webkit-box-shadow: 0 0 5px #212121;
-moz-box-shadow: 0 0 5px #212121;
box-shadow: 0 0 5px #212121;
-moz-transition-property: all;
-webkit-transition-property: all;
-o-transition-property: all;
transition-property: all;
-moz-transition-duration: 0.5s;
-webkit-transition-duration: 0.5s;
-o-transition-duration: 0.5s;
transition-duration: 0.5s;
}

.box:hover{
border: 1px solid #f72c73;
} 
```

我做错了什么？

# gwt - GWT 编译挂起

> ID：10877922
> 
> 赞同：4
> 
> 时间：2012-06-04T07:44:13.077
> 
> 标签：gwt

我在Eclipse（Indigo，GWT 2.4，Linux Ubuntu）中创建了一个Google Web Toolkit项目，做了一些改动（主要是重命名了默认模块并添加了一个新模块），然后点击“GWT Compile”，然后什么也没发生——编译只是永远挂了。没有输出；右下角的进度条显示“0%”。

当我使用“loglevel = all”时，我得到一行输出“检查更新”，然后它挂起。

我尝试删除缓存 - 没有变化。

我尝试创建一个新项目并复制源文件 - 没有变化。

在此链接的帮助下：[http](http://comments.gmane.org/gmane.org.google.gwt/70561) : //comments.gmane.org/gmane.org.google.gwt/70561 我在编译器中添加了“-XdisableUpdateCheck”；现在编译完成了，但是，当我尝试在开发模式下运行（“运行为 - > Web 应用程序”）时，它说“开发模式正在加载......”并挂起。

我什至不知道如何开始调试。请给我一些提示！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-19T14:50:48.963

我遇到了类似的问题。这是我的事件序列：从 SVN 检查 GWT 项目 --> 尝试使用 Google-GWT 编译 --> 提供入口点模块 --> 我的日志级别是信息和输出样式 Obfoscated --> 点击编译.. 除了进度条停留在 0% 之外，什么也没有发生。试图谷歌并以多种方式找出解决方案，但无法得到正确的答案。一个技巧奏效了——>我从 Eclipse 工作区中删除了该项目，并将其作为现有项目从磁盘重新导入。这次 GWT 编译工作了。:)

为什么它起作用了？--> 当我们从 Eclipse 工作区中删除项目时，与该项目关联的所有库都会解除绑定并从类路径中删除。当您再次导入同一个项目并尝试在将所需的库添加到类路径之前编译 GWT 时，它将起作用。真正的冲突在于 GWT 库和 JBoss 5.0 库。GWT2.4 中似乎有一些他们需要解决的简单错误。在类路径中，如果您在 GWT 库之前的 jboss 和 Web App 库之前编译会卡住。

如果您遇到类似的问题，请从类路径中删除 jboss 和 Web 应用程序库并编译 GWT 模块，然后添加这些已删除的库，以便编译项目中的 JAva 源代码。祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-11T14:14:14.510

为 GWT 编译器提供选项 -XdisableUpdateCheck 为我解决了死锁问题。感谢您的提示。

将 GWT 2.5.0 与 java 一起使用：

```
$ java -version
java version "1.6.0_35"
Java(TM) SE Runtime Environment (build 1.6.0_35-b10)
Java HotSpot(TM) 64-Bit Server VM (build 20.10-b01, mixed mode)

$ cat /etc/issue
Fedora release 18 (Spherical Cow)
Kernel \r on an \m (\l)

$ uname -a
Linux myhostname 3.9.4-200.fc18.x86_64 #1 SMP Fri May 24 20:10:49 UTC 2013 x86_64 x86_64 x86_64 GNU/Linux 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-17T22:22:27.827

试试这个：右键单击-> google-> gwt compile->单击高级（底部）并在附加编译器参数中添加：

-XdisableUpdateCheck

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T21:32:21.390

完成本教程后，我遇到了同样的问题：[http ://www.javacodegeeks.com/2010/12/securing-gwt-apps-with-spring-security.html](http://www.javacodegeeks.com/2010/12/securing-gwt-apps-with-spring-security.html)

最后，它是我添加到构建路径中的一个不可靠的外部 JAR（教程中提到的 spring-context ）。我又拿了一份，现在一切都很好。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-20T21:11:58.837

这是针对这个的 FIX，因为我们无法在每次需要编译时都将 jBoss 库进出的整个业务继续下去`GWT`。问题在于`com.google.gwt.dev.javac.JdtCompiler.getCompilerOptions` ( `JdtCompiler.java`) 指的`CompilerOptions`是命运所希望的，指的是`jasper-jdt.jar`（位于`jboss`库中）中的实现，而不是`gwt`特定的实现。从 jBoss 库中获取它`jasper-jdt.jar`，你应该已经准备好了。`jasper-jdt.jar`如果您绝对需要来自;的任何课程，请不要担心 除了这个之外，还有很多可供选择的 Jasper 罐子可以满足您的需求。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-06-09T10:57:45.733

老问题，但今天我的一位同事也遇到了这个问题。事实证明，他在项目的共享包中使用了客户端包中的类（包括自己的类和 ...client.rpc.IsSerializable）。结果，GWT 构建在编译排列 0 时冻结。我假设它被困在编译共享类和客户端类之间的无限循环中。从共享类中删除客户端类的所有用法有所帮助。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-06-27T15:54:25.753

我可以通过将优化级别（控制台参数设置`-optimize 8`为 8，这意味着最多优化代码 8 次。默认为 9 级导致优化直到没有任何变化为止。似乎有一些情况会导致无限循环。

另请参阅 GitHub 上的此问题：

[https://github.com/gwtproject/gwt/issues/9452#issuecomment-259088434](https://github.com/gwtproject/gwt/issues/9452#issuecomment-259088434)

# android - 如何在文件的附加字符串中换行？

> ID：10877923
> 
> 赞同：0
> 
> 时间：2012-06-04T07:44:14.323
> 
> 标签：android, file, file-io, spinner, android-spinner

好的，所以我正在处理我询问用户输入的文件，我的程序用新的选择更新 Spinner。

这是写的代码：

```
public void writeOnFile(String string){
    try {
        FileOutputStream file = openFileOutput(fileName, Context.MODE_APPEND);
        file.write(string.getBytes());
        file.close();

    } catch (Exception e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
        }
    } 
```

并阅读：

```
public void readOnFile(){

    try {
        FileInputStream file = openFileInput(fileName);
        if(file!=null){
            InputStreamReader inputreader = new InputStreamReader(file);
            BufferedReader buffreader = new BufferedReader(inputreader);
            String course;
            while((course = buffreader.readLine()) != null){
                                         adapter.add(course);
                }

        }
        file.close();

    } catch (Exception e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
        }
    } 
```

这是我的微调器的代码：

```
courseSpinner = (Spinner) findViewById(R.id.courseSpinner);
    adapter = new ArrayAdapter <CharSequence> (this, android.R.layout.simple_spinner_item );

    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);

    readOnFile();
    adapter.add("The Country Club");
    courseSpinner.setAdapter(adapter); 
```

当我更新 Spinner 而不是看到“课程 1”和“课程”2 这两个选择时，我看到一个带有文本“课程 1 课程 2”的选择：/

我该如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T08:25:40.973

由于您将字符串解释为由换行符分隔，因此您需要将每个字符串写入文件中的换行符。

将您的编写代码更改为：

```
public void writeOnFile(String string){
try {
    FileOutputStream file = openFileOutput(fileName, Context.MODE_APPEND);
    file.write(string.getBytes());
    file.write("\n".getBytes());
    file.close();

} catch (Exception e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
    }
} 
```

# rest - 使用 REST 创建一个 BlogPost XWiki

> ID：10877925
> 
> 赞同：0
> 
> 时间：2012-06-04T07:44:22.447
> 
> 标签：rest, blogs, xwiki

我需要（使用 XWiki API REST）创建一个 BlogPost。但我不知道使用 REST ... 使用此命令：

```
$ curl -u Admin:admin -X PUT --data-binary "@newpage.xml" -H "Content-Type: application/xml" http://localhost:8080/xwiki/rest/wikis/xwiki/spaces/Main/pages/NewPage 
```

并使用此 XML 文件：

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<page xmlns="http://www.xwiki.org">     
        <title>Hello world</title>
        <syntax>xwiki/2.0</syntax>
        <content>This is a new page</content>
</page> 
```

我在空间中创建了一个页面`Main`。但我想在空间中发布一个 BlogPost `Blog`。我必须使用什么标记？（我在[这里](http://platform.xwiki.org/xwiki/bin/view/Features/XWikiRESTfulAPI#HSendingrepresentations)找到了这个命令）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T07:58:07.180

通常使用 REST，您希望将 PUT 消息发送到您希望创建（或更新）的 URL。因此，您将从：

```
http://localhost:8080/xwiki/rest/wikis/xwiki/spaces/Main/pages/NewPage
```

也许这个（假设你`BlogPost`在空间中创建`Blog`）：

```
http://localhost:8080/xwiki/rest/wikis/xwiki/spaces/Blog/pages/BlogPost
```

该命令的其余部分应该对您有用。由于它现在可以在主空间中创建一个页面，我希望它就足够了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-07T03:18:44.680

正确使用的命令是：

```
curl -u Admin:admin -X POST --data-binary "@blogpost.xml" -H "Content-Type: application/xml" http://localhost:8080/xwiki/rest/wikis/xwiki/spaces/Blog/pages/A+New+Blogpost/objects 
```

XML 文件应如下所示：

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object xmlns="http://www.xwiki.org"><className>Blog.BlogPostClass</className>
    <property name="category"><value>Blog.News</value></property>
    <property name="content"><value>This is the new blog post. You can use **wiki syntax** in it.

Don't forget to escape XML entities like &amp; and &lt;!</value></property>
    <property name="publishDate"><value>2012-06-06 12:00:00.0</value></property>
    <property name="published"><value>1</value></property>
    <property name="title"><value>Second blog post</value></property>
</object> 
```

需要注意的几点：

*   文档必须已经存在，这不适用于不存在的文档。因此，首先要做的是将`PUT`标题和父级添加到新文档中，然后您可以向其中添加对象。
*   创建对象的正确动词是`POST`，通过附加`/objects`到文档的 REST URL 获得 URL。
*   新创建对象的实际 REST URL 作为重定向返回。您可以拦截重定向并根据需要处理 URL，或者您可以让重定向通过，您将取回使用详细完整语法创建的对象。
*   通常，发送资源时使用与获取资源时返回的语法相同的语法，尽管并非需要所有数据。例如，我首先获取一个现有的 blogpost 对象，然后删除服务器不需要接收的所有内容，因为它可以在本地计算它，从而获得了该对象的 XML。
*   我注意到的一件事（我认为是一个错误）是，在获取资源时，XML 实体被编码两次（`&amp;#39;`），而发送的资源应该只编码一次（`&#39;`）。

# charts - 隐藏轴和网格线 Highcharts

> ID：10877927
> 
> 赞同：84
> 
> 时间：2012-06-04T07:44:27.460
> 
> 标签：charts, highcharts

我试图完全隐藏我的 Highcharts 图表的轴和网格线。到目前为止，我尝试将线条的宽度设置为 0，但没有成功。

```
xAxis: {
  lineWidth: 0,
  minorGridLineWidth: 0,
  lineColor: 'transparent'
} 
```

是否可以仅全局禁用轴线/刻度线和网格线以创建“普通”图？

* * *

## 回答 #1

> 赞同：154
> 
> 时间：2012-06-04T08:59:08.383

只需添加

```
xAxis: {
   ...  
   lineWidth: 0,
   minorGridLineWidth: 0,
   lineColor: 'transparent',
   ...          
   labels: {
       enabled: false
   },
   minorTickLength: 0,
   tickLength: 0
} 
```

到 xAxis 定义。

从 4.1.9 版开始，您可以简单地使用轴属性`visible`：

```
xAxis: {
    visible: false,
} 
```

* * *

## 回答 #2

> 赞同：78
> 
> 时间：2013-09-12T12:29:05.050

对于`yAxis`您还需要：

`gridLineColor: 'transparent',`

* * *

## 回答 #3

> 赞同：28
> 
> 时间：2015-12-02T22:53:56.433

如果您有比 Highcharts v4.9 更大的版本，您可以`visible: false`在`xAxis`和`yAxis`设置中使用。

例子：

```
$('#container').highcharts({

    chart: {
        type: 'column'
    },

    title: {
        text: 'Highcharts axis visibility'
    },

    xAxis: {
        visible: false
    },

    yAxis: {
        title: {
            text: 'Fruit'
        },
        visible: false
    }

}); 
```

* * *

## 回答 #4

> 赞同：22
> 
> 时间：2014-01-08T07:17:00.147

您还可以将 yAxis 上的网格线隐藏为：

```
yAxis:{ 
  gridLineWidth: 0,
  minorGridLineWidth: 0
} 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2015-01-06T23:30:21.023

我设法关闭了我的

```
 lineColor: 'transparent',
       tickLength: 0 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2015-03-05T14:38:42.213

如果您不想触摸配置对象，只需通过 css 隐藏网格：

```
.chart-container .highcharts-grid {
   display: none;
} 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2017-08-16T06:57:32.840

这对我来说一直很有效：

```
yAxes: [{
         ticks: {
                 display: false;
                }, 
```

# actionscript-3 - (AS3) 是否需要 removeEventListener？

> ID：10877928
> 
> 赞同：1
> 
> 时间：2012-06-04T07:44:27.777
> 
> 标签：actionscript-3

*removeEventListener 是否与 dealloc 一样必要？*

我知道在 AS3 中可能会出现内存泄漏，我只是想知道不删除事件侦听器是否是其中一种方法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T07:47:26.090

是的，因为您将一个实例“绑定”到另一个实例的范围内。因此，当错误地处理事件时，您将在整个应用程序中获得交叉引用，并且垃圾收集器将找不到任何可以从内存中释放的对象。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-04T09:41:14.617

是的，我创建了一个巨大的项目，没有删除任何 eventListener，并且在长时间使用后它确实获得了很多内存......

任何具有强引用的对象都不会被垃圾收集，直到强引用被删除......这适用于事件监听器，绑定等......

您可以使用`removeEventListener(Event.TYPE, function)` 或使用weakReference手动删除EventListener ...

使用 Wea​​kReference 添加事件侦听器您只需向 addMethod 添加更多参数...

`obj.addEventListener(Event.Type, Function, false, 0, true)`

`addEventListener(type:String, listener:Function, useCapture:Boolean=false, priority:int=0, useWeakReference:Boolean=false):void`

> **参数：**
> **type**事件的类型。
> **listener**处理事件的监听函数。此函数必须接受一个事件对象作为其唯一参数，并且不得
> **返回**任何内容，如下例所示：
> **function(evt:Event):void**
> 
> 该函数可以有任何名称。
> **useCapture**确定侦听器是在捕获阶段还是在目标和冒泡阶段工作。如果 useCapture 设置为 true，
> 则侦听器仅在捕获阶段而不是在目标或冒泡阶段处理事件。如果 useCapture 为 false，则侦听器仅在目标或冒泡阶段处理事件。要在所有三个阶段监听事件，调用 addEventListener() 两次，一次将 useCapture 设置为 true，然后再次将 useCapture 设置为 false。
> **优先事项**事件侦听器的优先级。优先级由 32 位整数指定。数字越大，优先级越高。所有优先级为 n 的侦听器在优先级为 n-1 的侦听器之前处理。如果两个或多个侦听器共享相同的优先级，则按添加顺序对其进行处理。默认优先级为 0。
> **useWeakReference**确定对侦听器的引用是强引用还是弱引用。强引用（默认）可防止您的侦听器被垃圾收集。弱引用不会。
> 类级成员函数不受垃圾影响

# javascript - 如何在jquery中获取唯一项目

> ID：10877930
> 
> 赞同：0
> 
> 时间：2012-06-04T07:44:37.173
> 
> 标签：javascript, jquery

我有如下的html文件：

```
<div id="ultreecurri" style="float:left;">
<ul>

<li id="li1" class="popupul" style="text-align: left;">International</li>
<li id="li10" class="popupul" style="text-align: left;">Science</li>
<li id="li332" class="popupul" style="text-align: left;">Physics</li>
<li id="li2" class="popupul" style="text-align: left;">Africa</li>
<li id="li3" class="popupul" style="text-align: left;">Asia</li>
<li id="li5" class="popupul" style="text-align: left;">Caribbean</li>
<li id="li8" class="popupul" style="text-align: left;">North America</li>
<li id="li9" class="popupul" style="text-align: left;">South America</li>
<li id="li1" class="popupul" style="text-align: left;">International</li>
<li id="li10" class="popupul" style="text-align: left;"> Science</li>
<li id="li332" class="popupul" style="text-align: left;">Physics</li>
<li id="li2" class="popupul" style="text-align: left;">Africa</li>
<li id="li3" class="popupul" style="text-align: left;">Asia</li>
<li id="li5" class="popupul" style="text-align: left;">Caribbean</li>
<li id="li8" class="popupul" style="text-align: left;">North America</li>
<li id="li9" class="popupul" style="text-align: left;">South America</li>
 </ul>
</div> 
```

我如何根据它们的 liids 获取 li 项目的唯一文本。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T07:53:19.790

```
var items = [],
    txt;
$( '#ultreecurri li' ).each( function() {
    // Cache the text to avoid retrieving twice the same property
    txt = $( this ).text();

    // If the text isn't in the array, add it
    if ( $.inArray( txt, items ) === -1 ) {
        items.push( txt );
    }
} );
console.log( items );​ // Array of unique values 
```

演示：http: [//jsfiddle.net/Ralt/Vz7ev/1/](http://jsfiddle.net/Ralt/Vz7ev/1/)

您会看到“科学”与“科学”不同。如果这让您感到困扰，您可能想要使用`$.trim`（去除前导和结尾空格）。只需更改以下内容：

```
// Replace this:
txt = $( this ).text();
// With this:
txt = $.trim( $( this ).text() ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:56:57.690

您的标记无效，因为您不允许为多个元素提供相同的 id。

话虽如此，如果您的问题是如何从 li 元素的内容中获取唯一值列表：

```
var workingObj = {},
    uniqueVals = [];

$("#ultreecurri li").each(function() {
   var val = $(this).html();
   if (!(val in workingObj)){
      workingObj[val] = true;
      uniqueVals.push(val);
   }
});

// uniqueVals array now contains one of each unique value. 
```

顺便说一句，设置相同的内联样式 ( `text-align: left;`) 会使标记变得丑陋，并使持续维护比需要的麻烦更多。我会删除这些并将其添加到您现有的`popupul`课程中。或者，如果您由于某种原因无法更改该类，请将其添加到您的样式表中：

```
#ultreecurri li { text-align: left; } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T08:07:17.957

标记包含如此多的重复项`ID`，因此它不是有效的标记。相反，我建议您删除重复的元素，从而在数组上有一个唯一的元素。

这是一个用于此目的的片段。

```
var list = {};
$('li').each(function() {
    var id = $(this).attr('id');
    if (list[id])
        $(this).remove();
    else
        list[id] = $(this);
}); 
```

# vb6 - VB6 - 远程桌面会话中的打印机集合

> ID：10877931
> 
> 赞同：1
> 
> 时间：2012-06-04T07:44:37.940
> 
> 标签：vb6

有谁知道包含 VB6 中打印机对象读取的所有打印机信息的文件在哪里？

我们通常编写如下代码：

```
For x in **Printers** 
...  ... ...
Next 
```

通常，我会将列表放入组合框中，以便用户选择打印机。

当使用上面的编码在服务器上运行应用程序以通过远程桌面会话进行打印时，我可以看到其他打印机也出现在列表中。我只想在会话中看到我自己的打印机而不是其他打印机。

在我看来，如果我能找到文件的位置，我想我可以做点什么。

任何额外的建议表示赞赏！:)

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-05-28T09:50:32.140

我正在使用以下代码（它现在有点旧，所以它可能会做得更好）

声明：

```
Public Declare Function EnumPrinters Lib "winspool.drv" Alias "EnumPrintersA" (ByVal Flags As Long, ByVal Name As String, ByVal Level As Long, ByRef pPrinterEnum As Byte, ByVal cdBuf As Long, ByRef pcbNeeded As Long, ByRef pcReturned As Long) As Long
Public Declare Function lstrcpy Lib "kernel32.dll" Alias "lstrcpyA" (ByVal lpString1 As String, ByVal lpString2 As Long) As Long
Public Declare Sub MoveMemory Lib "kernel32.dll" Alias "RtlMoveMemory" (Destination As Any, Source As Any, ByVal Length As Long)

'--------------------------------------------------------------
'EnumPrinters Flags
Public Const PRINTER_ENUM_CONNECTIONS As Long = &H4
Public Const PRINTER_ENUM_CONTAINER   As Long = &H8000
Public Const PRINTER_ENUM_DEFAULT     As Long = &H1
Public Const PRINTER_ENUM_EXPAND      As Long = &H4000
Public Const PRINTER_ENUM_FAVORITE    As Long = &H4
Public Const PRINTER_ENUM_HIDE        As Long = &H1000000
Public Const PRINTER_ENUM_ICON1       As Long = &H10000
Public Const PRINTER_ENUM_ICON2       As Long = &H20000
Public Const PRINTER_ENUM_ICON3       As Long = &H40000
Public Const PRINTER_ENUM_ICON4       As Long = &H80000
Public Const PRINTER_ENUM_ICON5       As Long = &H100000
Public Const PRINTER_ENUM_ICON7       As Long = &H400000
Public Const PRINTER_ENUM_ICON6       As Long = &H200000
Public Const PRINTER_ENUM_ICON8       As Long = &H800000
Public Const PRINTER_ENUM_ICONMASK    As Long = &HFF0000
Public Const PRINTER_ENUM_LOCAL       As Long = &H2
Public Const PRINTER_ENUM_NAME        As Long = &H8
Public Const PRINTER_ENUM_NETWORK     As Long = &H40
Public Const PRINTER_ENUM_REMOTE      As Long = &H10
Public Const PRINTER_ENUM_SHARED      As Long = &H20

Public Type PRINTER_INFO_1 'REAL API STRUCTURE FOR USE WITH EnumPrinters
  Flags         As Long
  pDescription  As Long
  pName         As Long
  pComment      As Long
End Type

Public Type PRINTER_INFO_1_VB
  Flags         As Long
  pDescription  As String
  pName         As String
  pComment      As String
End Type

Private Enum NEPrinterEnumLevel1
  pel1Local = PRINTER_ENUM_LOCAL
  pel1Name = PRINTER_ENUM_NAME
  pel1Default = PRINTER_ENUM_DEFAULT
  pel1Connections = PRINTER_ENUM_CONNECTIONS
  pel1Network = PRINTER_ENUM_NETWORK
  pel1Remote = PRINTER_ENUM_REMOTE
End Enum 
```

Sub 填充组合框：

```
'##############################################################################
'##
'##     Sub pFillcboPrinters
'##
'##############################################################################
Private Sub pFillcboPrinters()
  Dim atPIs() As PRINTER_INFO_1_VB
  Dim lCount  As Long
  Dim lIndex  As Long
  '--------------------------------------------------------------
  'Clear List
  Call cboPrinters.Clear
  '--------------------------------------------------------------
  'Get printers using the WinAPI
  lCount = fnEnumPrinters_PI1(atPIs(), pel1Local + pel1Connections)
  For lIndex = 1 To lCount
    Call cboPrinters.AddItem(atPIs(lIndex).pName)
  Next lIndex
  '--------------------------------------------------------------
  'No printers available?
  If cboPrinters.ListCount = 0 Then Call cboPrinters.AddItem("[No printers available]")
End Sub 
```

实际枚举打印机的例程：

```
'##############################################################################
'##
'##     Function fnEnumPrinters_PI1
'##
'##############################################################################
'!! WARNING: sName = vbNullString IS IMPORTANT, BECAUSE sName = "" GIVES ANOTHER RESULT
Private Function fnEnumPrinters_PI1(ByRef atPIs() As PRINTER_INFO_1_VB, _
                                    ByVal eEnum As NEPrinterEnumLevel1, _
                                    Optional ByVal bShared As Boolean = False, _
                                    Optional ByVal sName As String = vbNullString) As Long
  Dim abBuffer()  As Byte
  Dim lBufferSize As Long
  Dim lFlags      As Long
  Dim lIndex      As Long
  Dim lLenPI1     As Long
  Dim lNeeded     As Long
  Dim lResult     As Long
  Dim lReturn     As Long
  Dim tPI1        As PRINTER_INFO_1
  '--------------------------------------------------------------
  'Default no printers available
  lResult = 0
  ReDim atPIs(0)
  '--------------------------------------------------------------
  'Set the flags for EnumPrinters
  lFlags = eEnum
  If bShared Then lFlags = lFlags Or PRINTER_ENUM_SHARED
  '--------------------------------------------------------------
  'Start with a big buffer
  lBufferSize = 32767
  lNeeded = 0
  ReDim abBuffer(lBufferSize)
  lReturn = EnumPrinters(lFlags, sName, 1, abBuffer(0), lBufferSize, lNeeded, lResult)
  '--------------------------------------------------------------
  'Need a bigger buffer? try again with bigger buffer
  If (lReturn = 0) And (lNeeded > 0) Then
    ReDim abBuffer(lBufferSize)
    lReturn = EnumPrinters(lFlags, sName, 1, abBuffer(0), lBufferSize, lNeeded, lResult)
  End If 'If (lReturn=0) And (lNeeded>0)
  '--------------------------------------------------------------
  'Everything OK? and printers to retrieve?
  If (lReturn <> 0) And (lResult > 0) Then
    '--------------------------------------------------------------
    'Create enough entries for the Printerinfo's
    ReDim atPIs(lResult)
    lLenPI1 = Len(tPI1)
    '--------------------------------------------------------------
    'Buffer constist of first all PRINTER_INFO_1 and after that extra info,
    'but the PRINTER_INFO_1 contains the important information which get's
    'the other information, but we only use the PRINTER_INFO_1 info of the buffer
    For lIndex = 1 To lResult
      '--------------------------------------------------------------
      'Copy the info to the real API PRINTER_INFO_1
      Call MoveMemory(tPI1, abBuffer((lIndex - 1) * lLenPI1), lLenPI1)
      '--------------------------------------------------------------
      'Copy the information to the VB version
      With atPIs(lIndex)
        '--------------------------------------------------------------
        'Copy the flags
        .Flags = tPI1.Flags
        '--------------------------------------------------------------
        'Copy the Description
        .pDescription = Space$(lstrlen(tPI1.pDescription))
        Call lstrcpy(.pDescription, tPI1.pDescription)
        '--------------------------------------------------------------
        'Copy the name
        .pName = Space$(lstrlen(tPI1.pName))
        Call lstrcpy(.pName, tPI1.pName)
        '--------------------------------------------------------------
        'Copy the Comment
        .pComment = Space$(lstrlen(tPI1.pComment))
        Call lstrcpy(.pDescription, tPI1.pComment)
      End With 'With atPIs(lIndex)
    Next lIndex
  End If 'If (lReturn<>0) And (lResult>0)
  '--------------------------------------------------------------
  'Return the ammount of printers
  fnEnumPrinters_PI1 = lResult
End Function 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T10:30:07.657

我正在使用[它](https://stackoverflow.com/questions/1063874/retrieving-icons-of-current-user-printers)在组合框中枚举资源管理器打印机文件夹并显示它们的图标。也可以在 RDS 下工作。

# c++ - 更改模型后 QTableView 中的项目数量保持不变

> ID：10877932
> 
> 赞同：0
> 
> 时间：2012-06-04T07:44:41.063
> 
> 标签：c++, qt, view, model

我有一个具有以下模型的虚拟表视图实现：

```
class MyModel: public QAbstractListModel
{

    int columnCount (const QModelIndex & parent = QModelIndex() ) const { return 2; }
    int rowCount (const QModelIndex & parent = QModelIndex() ) const { return count; }
    QModelIndex parent (const QModelIndex & index ) const { return QModelIndex(); }
    QModelIndex index (int row, int column, const QModelIndex & parent = QModelIndex() ) const { return createIndex(row, column); }

QVariant data(const QModelIndex & index, int role) const
{
    int col = index.column();
    int row = index.row();

    if (role == Qt::DecorationRole && col == 0)
    {            
        return getIcon(row); // icons in the first column
    }
    else if (role == Qt::DisplayRole && col == 1)
    {
        return getText(row); // text in the second column            
    }
    else
    {
        return QVariant();
    }
}

void update()
{
  getNewText();
  getNewIcons();  
  emit dataChanged((index(0,0)), index(count-1,1));
}

} 
```

在第一次创建表视图并分配模型后，一切正常：我在表视图中得到了 10 个项目。

但后来我更新了模型，现在它有 12 个项目。仅显示其中的前 10 个。看起来它缓存了 10 的值并且不想更新它。

我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T08:29:49.867

我通过在方法中调用`beginRemoveRows`, `endRemoveRows`, `beginInsertRows`,解决了它`endInsertRows``update`

# postgresql - Postgresql 返回记录集

> ID：10877933
> 
> 赞同：1
> 
> 时间：2012-06-04T07:44:44.887
> 
> 标签：postgresql, select, boolean, row, plpgsql

我有一个自定义类型：

```
create type some_type as (
    some_bool_param     boolean, 
    str                 varchar
); 
```

我用这种类型的字段创建一个表并插入一些数据：

```
create table test_table (
    strs some_type
);

insert into test_table(strs) values
  ((false, 'First str'))
, ((false, 'Second str '))
, ((false, 'Third str'))
, ((false, 'Yet another str')); 
```

现在我尝试返回 setof`some_type`数据：

```
create or replace function get_str() returns setof some_type as
$$
declare
    r some_type;
begin
    for r in 
        select * from test_table loop
    return next r;
    end loop;
    return;
end; 
```

我打电话`get_str()`：

```
select * from get_str(); 
```

但是得到一个错误：

> ```
> ERROR:  error in boolean type value: "(f,"First str")"
> CONTEXT:  PL/pgSQL function "get_str" line 4 at FOR by result of SELECT 
> ```

我该如何解决？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-04T08:13:45.780

```
create or replace function get_str() returns setof some_type as
$$
declare
    r some_type;
begin
    for r in 
        select strs from test_table loop
    return next r;
    end loop;
    return;
end; 
```

以防万一：声明一个表也声明了它的行类型，所以这里不需要单独`CREATE TYPE`的。这也可以：

```
create table test_table (
    some_bool_param     boolean, 
    str                 varchar
);

insert into test_table values (false, 'First str');
insert into test_table values (false, 'Second str ');
insert into test_table values (false, 'Third str');
insert into test_table values (false, 'Yet another str');

create or replace function get_str()
returns setof test_table as
$$
    SELECT  *
    FROM    test_table;
$$
LANGUAGE sql; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-04T11:25:28.960

对于这种功能，您不再需要使用当前版本的 PostgreSQL 循环。改用[`RETURN QUERY`](http://www.postgresql.org/docs/current/interactive/plpgsql-control-structures.html#PLPGSQL-STATEMENTS-RETURNING)：

```
CREATE OR REPLACE FUNCTION get_str()
  RETURNS SETOF test_table AS
$func$
BEGIN
   RETURN QUERY
   TABLE test_table;  -- shorthand for: SELECT * FROM test_table
END
$func$  LANGUAGE plpgsql; 
```

或提供的@Quassnoi 之类的 SQL 函数。请注意，这将返回一个嵌套的复合类型 ( `SETOF test_table`, not `SETOF some_type`)。

**奇怪**的是，这也有效：

```
CREATE OR REPLACE FUNCTION get_str5()
  RETURNS SETOF **some_type** AS
$func$
   TABLE test_table;
$func$ LANGUAGE sql;
```

外部行包装器被默默地删除，这至少可以说是 Postgres 的一个古怪之处。

### 关于错误

您的功能将像这样工作：

```
CREATE OR REPLACE FUNCTION get_str()
  RETURNS TABLE (strs some_type) AS
$func$
BEGIN
   FOR strs IN
       SELECT **(t.strs).*** FROM test_table t
   LOOP
      RETURN NEXT r;
   END LOOP;
END
$func$ LANGUAGE plpgsql;
```

注意**粗体**部分。`FOR`对循环中的行或记录类型的分配是**逐个子字段**完成的。这通常很方便，但在使用嵌套复合类型时会让人感到困惑。

`some_type`您在表格行 ( ) 中有一个复合类型 ( `test_table`) -**两级**嵌套。这通常不是人们想要的，但这就是您向我们展示的。

您需要分解/解包*两次*。

*   您的原始代码仅使用`select * from test_table`.

*   @Quassnoi 的建议修复`select strs from test_table`以同样的方式失败： strs 通过直接引用从表行分解，但`strs`仍然是需要在分配之前自行分解的行类型。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-04T08:03:46.533

根据其声明，函数 get_str() 应该返回一组具有结构的记录，该`some_type`结构是 2 列，1 个布尔值和 1 个 varchar。

该函数实际上返回一组记录，其中包含 1 列类型`some_type`。

尝试替换`return next r;`为`return next r.strs;`

# python - Selenium/WebDriver 脚本被警报中断 - 异常“消息：u'Modal dialog present'”

> ID：10877935
> 
> 赞同：11
> 
> 时间：2012-06-04T07:44:54.780
> 
> 标签：python, selenium, webdriver

我在 Python/JS 和 Selenium/WebDriver 的自动化测试方面相当新，但我已经取得了一些进展！

现在我被困在某一点上，这真的很令人沮丧。

我正在测试的网站销售产品。我设法让我的脚本随机导航并进入付款页面，填写虚拟数据，使用以下方法提交数据：

```
browser.execute_script("document.Form.submit(); return true;")
browser.execute_script("processPayment(); return true;") 
```

通常，有一个“立即付款”按钮，单击该元素会导致相同的异常，我无法通过 WebDriver（无 WebElement）单击“确定/取消”，但我发现执行此 JS 代码可以获得过去了。我新加载的页面（在提交数据并确认发布后）确认并加载了所有正确的数据，但 Python 脚本被中断，我无法继续测试。

有解决方法吗？我想要它做的是忽略该模式对话框，等待下一个确认页面加载，然后继续定位元素，打印它们的值，存储它们等。

尝试使用：

```
wait = ui.WebDriverWait(browser,10)
wait.until(lambda browser: browser.title.lower().startswith('Your Receipt'))
print(browser.title) 
```

但是脚本被打断了。抱歉，如果已经回答，但我找不到它，而且我是新手！

提前致谢！

编辑：

做到了！在我的情况下，我只是稍微修改了我的代码

```
browser.execute_script("document.roomBookingForm.submit(); return true;")
alert = browser.switch_to_alert()
alert.dismiss()
browser.execute_script("processPayment(); return true;") 
```

新手请注意，您需要导入 Alert。

```
from selenium.webdriver.common.alert import Alert 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-05T00:39:02.937

请注意新手（像我一样）需要导入 Alert。

```
from selenium.webdriver.common.alert import Alert

... ... ... (code placeholder)

browser.execute_script("document.roomBookingForm.submit(); return true;")
alert = browser.switch_to_alert()
alert.dismiss()
browser.execute_script("processPayment(); return true;") 
```

刚刚添加了警报处理程序

# asp.net-mvc - jQuery 中的 ModelState.IsValid

> ID：10877939
> 
> 赞同：0
> 
> 时间：2012-06-04T07:45:15.457
> 
> 标签：asp.net-mvc, c#-4.0, jquery, razor

我有一个 cshtml 表单，我在其中输入标题和文本，我希望实现的是，如果一切都有效，即数据输入成功，我会显示一个图像面板，并获取新条目的 ID，以便我可以在图像面板中使用它。

目前我有以下内容： -

控制器 ：-

```
[HttpPost]
public ActionResult Create(Project project)
{
  var model = new CompositeImageModel(0);
  if (ModelState.IsValid)
  {
    model = new CompositeImageModel(project.ProjectID);
    ViewBag.ProjectID = project.ProjectID;
    db.Projects.Add(project);
    db.SaveChanges();

    return RedirectToAction("Index");
  }

  ViewBag.ProjectID = 0;

  return View(model);
} 
```

CSHTML:=

```
<script type="text/javascript">
$(document).ready(function () {
  var imageList = $('#imageList'),
      submitButt = $('#submitButt');

  //hide the imageList initially
  imageList.hide(); //hide all but the first paragraph

  //when the user clicks on the create button, display the imageList
  submitButt.click(function () {
    imageList.fadeIn('slow');
  });
});
</script>

@using (Html.BeginForm())
{
  @Html.ValidationSummary(true)

  <fieldset>
    <legend>Project</legend>

    <div class="editor-label">
      @Html.LabelFor(model => model.projectModel.ProjectTitle)
    </div>
    <div class="editor-field">
      @Html.TextBoxFor(model => model.projectModel.ProjectTitle, new { style = "width:460px" })
      @Html.ValidationMessageFor(model => model.projectModel.ProjectTitle)
    </div>

    <div class="editor-label">
      @Html.LabelFor(model => model.projectModel.ProjectText)
    </div>
    <div class="editor-field">
      @Html.TextAreaFor(model => model.projectModel.ProjectText, new { cols = 55, @rows = 5 })
      @Html.ValidationMessageFor(model => model.projectModel.ProjectText)
    </div>

    <div id='submitButt'>
      <input type="submit" value="Create" />
    </div>
  </fieldset>
}

<div id='imageList'>
  <h2>Upload Image(s)</h2>

  @{ Html.RenderPartial("~/Views/File/ImageUpload.cshtml", new MvcCommons.Models.CompositeImageModel((int)ViewBag.ProjectID)); }

</div>
<div>
  @Html.ActionLink("Back to List", "Index")
</div> 
```

我的想法是检查`ModelState.IsValid`jQuery 脚本内部，如果是 Is.Valid，则显示 imagePanel 并检索`ProjectID`ViewBag 内部。

但是我不确定如何检索它，如果它毕竟是最好的主意，或者可能有更好的主意。

感谢您的帮助和时间

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T09:25:31.847

最后，在看到这个优秀的[教程后，我选择了 Unobtrusive Ajax](http://duncanmcintyre.net/programming/mvc3-razor-unobtrusive-jquery)

# sql - 如何从结束日期获取事件的开始日期和结束日期

> ID：10877941
> 
> 赞同：3
> 
> 时间：2012-06-04T07:45:27.707
> 
> 标签：sql, oracle10g

我有一个包含事件及其结束日期的表格，如下所示 -

```
Event_id    Event_name        Event_end_date
1           Name Change       31-Mar-2010       (prior to 31-Mar-2010)
2           Parent change     31-Oct-2010       (Logically its duration is 1-Apr-2010 (31-Mar-2010 + 1(Day) ) to 31-Oct-2010)
3           Name Change       31-Jul-2011       (Logically its duration is 1-Nov-2010 (31-Oct-2010 + 1(Day) ) to 31-Jul-2011) 
```

所以我想写一个查询来得到如下结果 -

```
Event_id    Event_name     Event_start_date    Event_end_date
1           Name Change        -               31-Mar-2010
2           Parent change   1-Apr-2010         31-Oct-2010
3           Name Change     1-Nov-2010         31-Jul-2011 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T08:18:40.060

```
SELECT event_id, event_name,
   LAG (event_end_date ) OVER (ORDER BY event_end_date ASC )+1
                                                         event_start_date,
   event_end_date
 FROM event 
```

![在此处输入图像描述](../Images/cad6d2462d34ea06ae9caea838c5a072.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T08:19:40.133

```
select event_id,
       event_name, 
       (lag(event_end_date) over (order by event_end_date)) + 1 as event_start_date, 
       event_end_date
from event_table
order by event_end_date desc 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T08:23:30.653

我会用正则表达式来做:)

```
select event_id, 
       event_name, 
       REGEXP_SUBSTR(comments, ' \d+-\w{3}-\d{4} ') as event_start_date, 
       to_char(event_end_date,'dd-MON-yyyy')
from events 
```

[http://sqlfiddle.com/#!4/fa1e5/16/0](http://sqlfiddle.com/#!4/fa1e5/16/0)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-04T08:10:56.940

这可以通过使用 event_id 的 Self Left Outer Join 来连接表来完成。

```
 select t1.Event_id ,t1.Event_name, coalesce(t2.Event_end_date,'-'),
             t1.Event_end_date
      from event_table t1 
                left outer join event_table t2 
      on t1.Event_id=t2.Event_id+1 
```

这适用于mysql。也应该在oracle中工作。

# javascript - javascript/jquery 函数仅在前一个函数完成执行后运行

> ID：10877942
> 
> 赞同：0
> 
> 时间：2012-06-04T07:45:30.957
> 
> 标签：javascript, jquery, jquery-ui

我正在制作一个简单的 jquery 动画，其中我定义了两个函数作为 runit(); 和 runit2()。

我需要的是仅在 runit() 完成执行后才执行 runit2() ，但问题是两者似乎同时执行。

我在这里包括一个粗略的小提琴：http: [//jsfiddle.net/5444s/](http://jsfiddle.net/5444s/)

有人可以帮忙吗？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T07:51:00.947

你可以把你的`runit2()`电话放在`item2.fadeOut()`回调函数中。正如在函数`item2.fadeOut`末尾调用的那样`runit()`，`runit2()`将在将函数`runit();`
替换为之后执行`runit()`：

```
function runit(){
    var b = fixit("container3");
    item1.myFunction();
    item1.animate({left:"-="+b+"px",top:"-=140px"},"fast");
    item2.fadeOut(500,function(){
        $(this).css('zIndex','-1');
        runit2();
    });
} 
```

# asp.net-mvc-3 - 为 Asp.net MVC 3.. Solrnet 或 Ajax-Solr 集成 Solr

> ID：10877943
> 
> 赞同：2
> 
> 时间：2012-06-04T07:45:36.090
> 
> 标签：asp.net-mvc-3, solr, solrnet

我正在开发包含 200 000 种产品的电子商务网站，这些产品分布在 2 000 个类别/子类别中，并在每个类别的属性上应用了过滤器，例如品牌、价格范围、功能等。

该站点建立在 nop commerce、asp.net mvc 3.0 和 sql 2008 之上。

现在，我计划为 Faceted Product Search 和具有过滤功能的类别页面实施 Solr。

我应该使用 Ajax 方法使用 ajax-solr 从 Solr 查询结果或使用 solrnet 实现它的最佳方法是什么？什么在客户网站上响应更快？什么是快速实施？

我的目标是以最简单的方式首先通过搜索实现它，然后再为类别页面实现它。

我已经查看了 solrnet 上提供的代码和示例，但仍然不太清楚它集成了什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-07T16:02:06.270

我会推荐 solrnet。它将很好地集成到 ASP.NET MVC 3 环境中，并允许您利用依赖项注入、单元测试、日志记录、调试功能以及从长远来看可以提供更好的开发体验和更好的应用程序的所有优点。

我个人使用过 solrnet 和 ASP.NET MVC 3，可以证明它的性能和实用性。如果您有任何问题，您也可以在 stackoverflow 上找到好的答案；solrnet 的创建者 Mauricio 亲自回答了许多帖子。

我曾经使用过 ajax-solr，但立即发现它实际上只是作为一种在几个小时内启动并运行 solr 演示站点的简单方法有用。没有冒犯 ajax-solr 的创建者，但如果您有 .NET MVC 可供使用，那么 solrnet 是明确的选择。

solrnet 附带的示例 MVC 项目是一个有用的起点，尽管它不是 MVC 3。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:43:54.270

是苹果和橘子。如果要查询 Solr 服务器端，请使用 SolrNet。如果你想在客户端查询 Solr，那么你需要 Ajax-Solr。

# javascript - 如何在网格视图内的链接按钮的 Clientclick 事件上显示动态消息

> ID：10877945
> 
> 赞同：2
> 
> 时间：2012-06-04T07:45:41.500
> 
> 标签：javascript, jquery, asp.net, .net, gridview

我的 gridview 中有一个 linkBut​​ton ，其文本可以是“活动”或“非活动”。链接按钮的 OnClientClick 功能，我想显示一条动态消息。例如：

**情况1：**

如果 LinkBut​​ton 的 Text 处于活动状态：则 OnClientClick ，我想显示一条消息“将 ACTIVE 转换为 INACTIVE”

**案例二：**

如果 LinkBut​​ton 的 Text 为 InActive: 然后 OnClientClick ，我想显示一条消息“将 INACTIVE 转换为 ACTIVE”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T07:51:53.287

你的代码是....

**jQuery即客户端脚本**

您需要编写如下函数来检查链接的文本，并最好将确认消息发送给最终用户...

```
function confirmMessage(button)
{
  if ($(button).text() =="Active")
  {
    return confirm("Convert from active to inactive");
  }
  else
  {
    return confirm("Convert from inactive to active");
  }
} 
```

**象素**

将函数附加到链接按钮作为fllow ..这里我硬编码“text = Active”，它由eval函数替换......

```
<asp:GridView ID="GridView1"  runat="server" ShowFooter="true" AutoGenerateColumns="False" >
       <Columns>
                <asp:TemplateField>
                  <ItemTemplate>
    <asp:LinkButton ID="Button1" runat="server" Text="Active" OnClientClick="return confirmMessage(this);" />
                 </ItemTemplate>
        </Columns>
</asp:GridView> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-06T07:36:20.260

首先，您必须在单击链接按钮时获得特定的控件 ID。此后，您必须知道链接按钮的文本，然后您才能更改它是否处于活动状态，然后是非活动或活动。

前任：

```
 <asp:Button Text='<%#Eval("Type") %>' runat="server" OnClientClick="return changetext(this);" ID="btnType" />
     function changetext(cntl)
    {
        var id = cntl.id;
    var text=$('#id').val();
    var changedtext=text.toLower()=='active'?Inactive:Active;
     text.val(changedtext);
return false;
     } 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-11-09T06:10:33.053

这段代码可以帮助你..!! 网格视图中的模板字段

```
// the below is template field in the gridview all you need to do is add  //OnClientClick="return GetSelectedRow(this) to this
     <ItemTemplate>
                          <asp:LinkButton ID="lnkSelect" runat="server"  OnClientClick="return GetSelectedRow(this)" >Select</asp:LinkButton>

                      </ItemTemplate>
//then in javascrpt just write this code
<script type="text/javascript">
    function GetSelectedRowSalesCapital(lnk) {
                var row = lnk.parentNode.parentNode;
                var rowIndex = row.rowIndex - 1;
                  var text= row.cells[RequiredColumnIndexof link].getElementsById(lnkSelect).value;
               if(text=="Active")
               {
                alert("Convert ACTIVE into INACTIVE");
                 }
                 else if(text=="Inactive")
                 {
                  alert("Convert INACTIVE into ACTIVE ");
                 }
                return false;
            }

</script> 
```

# css - CSS背景网址不适用于Chrome

> ID：10877946
> 
> 赞同：0
> 
> 时间：2012-06-04T07:45:45.880
> 
> 标签：css, url, firefox, google-chrome, background

所以我有 Chrome v20.xxx，我正在尝试使用 CSS3 和背景 url 使我的博客上的图像看起来像有阴影。它与 FF 配合得很好，但 Chrome 没有显示背景图像。我的伪代码如下：

```
<p>
    <a>
        <span class="img_wrapper">
            <img class="with-borders">
        </span>
    </a>
</p> 
```

这是我的CSS：

```
img.with-borders, img.tn { 
    margin: 5px 0 0 0;
    padding: 8px;
    background: #f1f1f1;
    border: solid #777;
    border-width: 1px 2px 2px 1px;
    box-shadow: 0 15px 15px -15px rgba(0, 0, 0, 0.9);
    -webkit-transition: all 0.3s ease; -moz-transition: all 0.3s ease; -o-transition: all 0.3s ease;
    transition: all 0.3s ease;
}
span.img_wrapper {
    background: url('./images/et-image-sliderleft-shadow2.png') no-repeat left bottom, url('./images/et-image-sliderright-shadow2.png') no-repeat right bottom;
    padding-bottom: 14px;
} 
```

似乎 Chrome 通过包装器的跨度限制了背景图像的视图，而 Firefox 忽略了这种限制，让内部背景图像“溢出”内联元素，这正是我想要的。

请问，如何使它适用于 Chrome？

谢谢你。

PS：如果您愿意，我可以将其粘贴到 jsfiddle 上。

更新：屏幕截图：http: [//i.imgur.com/ISXDr.png](http://i.imgur.com/ISXDr.png)

更新#2：这里是 jsfiddle [http://jsfiddle.net/gNtea/](http://jsfiddle.net/gNtea/)。奇怪的是，在 jsfiddle 中查看它时它可以完美运行，而不是在[实时站点上](http://tambnguyen.com/4493-chemin-vert-giacomo-miceli/)。我认为这是相对路径问题，所以我将我的生产 CSS 切换为使用绝对路径，没有帮助。

更新＃3：我复制了网页的源代码，将其粘贴到 jsfiddle 上，它可以工作。我在实际的实时站点上查看该页面，它不起作用。怎么回事？[http://jsfiddle.net/eXYS9/](http://jsfiddle.net/eXYS9/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-02-13T13:16:52.943

简单地说图像的高度=）

```
li.current-menu-item a {
background: url("../images/bg_menu.png") repeat-x;    
height: 35px;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:49:59.453

span.img_wrapper { 背景： url('../images/et-image-sliderleft-shadow2.png') 没有重复左下角，url('./images/et-image-sliderright-shadow2.png') 没有- 重复右下角；底部填充：14px；}

使用**..[两个点]**而不是一个作为图像 url

# jquery - 如何为多个 id 附加点击处理程序并在 jquery 中识别处理程序中的 id？

> ID：10877953
> 
> 赞同：1
> 
> 时间：2012-06-04T07:46:42.497
> 
> 标签：jquery, jquery-selectors

我对 jquery 很陌生，有什么简单的方法可以做到这一点：

我的服务器端代码像这样吐出 html：

```
<div name="destinationName" id="1">NEW DELHI</div>  
<div name="destinationName" id="2">JAIPUR</div>

<div name="destinationContent" id="1" style=";">NEW DELHI details</div>
<div name="destinationContent" id="2" style="display:none;">JAIPUR details</div> 
```

默认情况下`New Delhi`，需要显示详细信息。当我单击 时`Jaipur`，我想显示`Jaipur`详细信息。当我`New Delhi`再次点击时，我只需要显示`New Delhi`详细信息。该行为类似于 jquery 选项卡。

**Javascript**：

```
<script type="text/javascript">
$(document).ready(function() {
    $('div[name="destinationName"]').click(function(){
        $('div[name="destinationContent"]:visible').hide();
        $('div[name="destinationContent"][id=this.id]').show();
       });
});
</script> 
```

[JSFiddle](http://jsfiddle.net/H8rAD/)

当我点击 时`Jaipur`，新德里和斋浦尔都被渲染了。当我调试代码时，

> $('div[name="destinationContent"][id=this.id]').show();

`this.id`是导致问题的原因。

**如何在上面的脚本中引用 this.id ？**

**PS**：如果我用“2”替换this.id，它工作正常。在控制台中，当我输出 `this'id' 时，它返回“2”。所以，我不确定如何解决这个问题。

* * *

另外，有人可以推荐我一种对相似 div 进行分组的好方法（我正在使用名称对相似的 div 和 id 进行分组，以识别该组中的元素）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T07:56:37.177

首先，它`id`是一个[*唯一*标识符](http://www.w3.org/TR/2012/WD-html5-20120329/global-attributes.html#the-id-attribute)，并且具有相同 ID 的多个元素可能会导致 jQuery 中出现不良行为。其次，除非您的页面具有[HTML5 doctype](http://dev.w3.org/html5/spec/syntax.html#the-doctype)`id`，否则不能（有效地）以数字开头。

所以关于你遇到的问题......

要使用选择器中的元素`id`，您需要在选择器字符串之外访问它，并将结果与​​选择器的其余部分连接起来，否则它只是字符串的一部分。您看到的错误是正确的，即 JavaScript 不知道是什么`this.id`，因此以下更改应该更正错误：

```
$('div[name="destinationContent"][id=' + this.id + ']').show(); 
```

但是，这并不能纠正重复`id`问题。最好为每一*对*使用唯一的类属性将 s 链接`<div>`在一起。

您还可以利用destinationContent 上的*class属性而不是自定义**名称*，以便您的 jQuery 选择器更容易编写（可以使用 (dot) 访问*类*`.`选择器），例如在[**这个 jsFiddle**](http://jsfiddle.net/69Jes/)

如果详细信息始终与标题的顺序相同，那么您可以使用元素的*索引*来简单地选择与标题相同的*destinationContent*，例如：

**编辑：**使用不依赖元素索引的替代解决方案更新了代码。

### HTML

```
<h3 class="delhi">NEW DELHI</h3>
<h3 class="jaipur" >JAIPUR</h3>
<hr/>
<div class="destinationContent">
    <div class="delhi">NEW DELHI details</div>
    <div class="jaipur">JAIPUR details</div>
</div>​​​​​​​​​​​​​​​​​​ 
```

### JavaScript

```
$(function() {
    var contents = $('.destinationContent div');
    contents.hide();

    $('h3').on('click', function(){
        contents.hide();
        $('.destinationContent div.' + this.className).show();
    });
});​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T07:54:37.823

首先，数字 ID 不是一个好主意。

其次，按照以下格式提供您的 div id：MyDiv-1 MyDiv-2 等等

那么，用户

```
$("[id^='MyDiv']").click(function(){ ... }); 
```

这将在所有具有从 MyDiv 开始的 Id 的 div 上挂钩事件

最后，在点击功能中

```
var id = $(this).attr("id").split("-")[1]; 
```

这将为您提供变量 id 中的数字 id。您可以使用它来决定显示哪个 div 以及隐藏哪个 div

您可以通过为您的联系人提供类似的 ID（例如“MyContent-1”等）来进一步自动化

然后您可以简单地将 id 附加到“MyContent”并调用 show()

```
$("[id^='MyContent']").hide()
$("#MyContent-"+id).show() 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T07:55:28.603

您不能在页面中重复 ID，并且 ID 在 html4 中不应为数字

正在将第一组 DIV 中的 ID 更改为`data-`属性，也更改`name`为类

```
<div class="destinationName" data-id="1">NEW DELHI</div>  
<div class="destinationName" data-id="2">JAIPUR</div> 
```

JS

```
$('.destinationName').click(function(){
     /* change other "name" attributes to class */
     $('.destinationContent').hide();  
     var id= $(this).data('id');
     $('#'+id).show();
 }) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-04T07:55:58.650

永远不要重复 id，因此我没有使用任何属性并做了这个

```
<script type="text/javascript">
$(document).ready(function() {
    $('div[name="destinationName"]').click(function(){
$('div[name="destinationContent"]').hide();        
$('div[name="destinationContent"]:contains('+this.innerHTML+')').show();

       });
});
</script> 
```

# c++ - 递归函数错误 Dev-C++

> ID：10877955
> 
> 赞同：0
> 
> 时间：2012-06-04T07:46:45.197
> 
> 标签：c++, algorithm, visual-c++, recursion, dev-c++

我有以下代码顺序搜索在 Visual C++ 中完美运行

```
#include<iostream>
using namespace std;

int seqSearch(int list[], int length, int item)
{
    int index = length-1;
    if (index < 0)
        return -1;
    if (list[index] == item)
        return (index);
    else seqSearch(list, index, item);
} // end seqSearch

int main () 
{

    int const length = 10;
    int item;
    int list[10] = { 2, 3, 4, 5, 20, 40, 80, 45, 99, 0};

    cout << "Please enter the value to be searched: ";
    cin>> item;

    if (seqSearch(list, length, item) == -1) cout << "Item not found." << endl;
    else cout <<"Item found at position: " << seqSearch(list, length, item) << " of list *Note: (first index of list start at 0)" << endl;

    system("pause");
    return 0; 
} 
```

但是在 Dev-C++ 中它总是显示结果 0，我尝试调试并查看索引是正确的，但为什么它显示 0？为什么我们在 VC++ 和 Dev-C++ 之间存在这种差异？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-04T08:34:30.067

该函数`int seqSearch`有一个代码路径，`else seqSearch(list, index, item);`不返回任何内容。将其更改为`else return seqSearch(list, index, item);`应该可以解决问题。

现在挖得有点深。

来自[n2960](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2009/n2960.pdf)草案：

> § 6.6.3/2
> 
> 从函数的末尾流出相当于没有值的返回；这会导致值返回函数中的未定义行为。

So as per the standard it is an undefined behavior.

Digging a little deeper:

*   Why is not returning from a non-void function not a compiler error?

Checking all code path to figure out if all of them return is a difficult operation and implementations are not required to check that.

*   Why is the code functionally working properly in VC++

This is architecture and [calling convention](http://en.wikipedia.org/wiki/X86_calling_conventions) dependent. Try following code:

```
#include <iostream>

int fun (int v)
{
    int a = v;
}

int main ()
{
    std::cout << fun(5) << std::endl;
} 
```

On different compilers the function `fun` returns either `0` or whatever value is passed to it. Basically it can return value of last evaluated expression.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-04T07:56:36.790

正确的方法定义应该是

```
int seqSearch(int list[], int length, int item)
{
    int index = length-1;
    if (index < 0)
        return -1;
    if (list[index] == item)
        return (index);
    else return seqSearch(list, index, item);
} 
```

你错过了退货声明。理想情况下，编译器应该会警告您，但我对 Dev-Cpp 使用的版本不太熟悉。

# android - Android 应用内结算意外响应

> ID：10877958
> 
> 赞同：9
> 
> 时间：2012-06-04T07:47:02.763
> 
> 标签：android, billing, in-app, merchant-account

我正在尝试实现 android 的 In app billing Dungeon 项目。

当我尝试购买我输入的物品时，我不断得到：

[06-04 10:37:33.343：E/Volley（1913）：[228] BasicNetwork.performRequest： https](https://android.clients.google.com/fdfe/completePurchase) ://android.clients.google.com/fdfe/completePurchase 的意外响应代码 500 06-04 10:37： 33.343: W/Finsky(1913): [1] CheckoutPurchase.onErrorResponse: DisplayErrorMessage [您的订单无法处理。请重试。] 06-04 10:37:33.343: E/Finsky(1913): [1] CheckoutPurchase.setError: type=UNKNOWN, code=-1, message=无法处理您的订单。请再试一次。

我在应用内产品中设置项目并发布它们

我签署了应用程序并通过 adb 将签署的应用程序上传到 Google play 和设备。-- 同样的错误我尝试发布应用程序然后将其下载到设备 -- 同样的错误

按“接受并购买”后弹出错误

我的想法是它可能与我的 Google 商家帐户有关，有什么想法吗？

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T20:39:40.237

确保您已将手机帐户设置为测试帐户，并且您的测试帐户与您的 Google Checkout 商家帐户不同（因为您不能自己操作）：

类似的问题：[在应用程序购买问题在android](https://stackoverflow.com/questions/8182272/in-app-purchase-issue-in-android)

*请注意，在撰写本文时，存在一个错误，即新测试帐户并不总是添加到旧应用程序中。您可以快速发布/取消发布您的应用程序作为一种解决方法，因为这将禁用测试帐户要求。或者，您可以对已启用应用内结算的应用的已发布版本使用 versionCode 进行测试。*

# ios5 - 动态生成的 UIButton 单击时出现 EXC_BAD_ACCESS 错误

> ID：10877962
> 
> 赞同：1
> 
> 时间：2012-06-04T07:47:21.557
> 
> 标签：ios5, xcode4.3

我编写了以下代码以在滚动视图中添加可选缩略图列表

```
while(element = [enumerator nextObject])
    {
        // Do your thing with the object.
        MenuUrl *menuUrl = (MenuUrl *) element;
        if([menuUrl.index isEqualToString:@"menu_url"] || [menuUrl.index isEqualToString:@"photos_url"])
            continue;
        //NSLog(@"%@", menuUrl.index);
        NSString *url = menuUrl.image.thumbUrl;

        dispatch_queue_t download_queue = dispatch_queue_create("image downloader", NULL);
        dispatch_async(download_queue, ^{
            UIImage *image = [UIImage imageWithData:[NSData dataWithContentsOfURL:[NSURL URLWithString: url]]];
            CGRect imageframe;
            imageframe.origin.x = 15+ 101.6*(imageNumber % 3);
            //NSLog(@"%d", imageNumber);
            imageframe.origin.y =  101.6*(imageNumber / 3);
            imageframe.size.height = 86.6;
            imageframe.size.width = 86.6;
            dispatch_async(dispatch_get_main_queue(), ^{

                UIButton *myButton0 = [[UIButton alloc] initWithFrame:imageframe];
                myButton0.tag = imageNumber;
                [myButton0 setBackgroundImage:image forState:UIControlStateNormal];
                [myButton0 addTarget:self action:@selector(showDetailImage) forControlEvents:UIControlEventTouchUpInside];
                [scrollView addSubview:myButton0];

            });
        });
        dispatch_release(download_queue);
        imageNumber = imageNumber + 1;

    }
    [self.view addSubview:scrollView]; 
```

现在，每当我选择任何缩略图时，都会收到 EXC_BAD_ACCESS 错误。为什么会这样？

# javascript - SimpleCartJS - 如何获取购物车中的所有商品？

> ID：10877971
> 
> 赞同：1
> 
> 时间：2012-06-04T07:48:13.247
> 
> 标签：javascript, salesforce, visualforce, force.com

我正在尝试将 SimpleScriptJS v3 集成到 Force.com visualforce 页面中。我能够从 Salesforce 查询产品并使用 SimpleCartJS 类参数显示它们。产品已正确添加到购物车，清空、删除、递增和递减链接完美运行。我不需要结帐到 PayPal、google 等。我需要的是当用户单击“ckeckout”按钮时直接在 salesforce 上创建记录到某个对象中，所以我需要获取购物车中的所有项目以便迭代和使用在 Salesforce 中创建记录的信息。

这是我的视觉力量页面：

```
<script src="{!$Resource.ShoppingCart_SimpleCart_JS}" type="text/javascript"/>
<script src="{!$Resource.ShoppingCart_JQuery_JS}" type="text/javascript"/>  

<apex:pageBlock >

    <apex:repeat value="{!existingProducts}" var="wrapper">
        <apex:outputPanel layout="block" style="float:left;padding-top:10px;padding-left:10px" styleClass="simpleCart_shelfItem">
            <apex:image value="/servlet/servlet.FileDownload?file={!wrapper.imageId}" width="150" height="150"/>
            <apex:outputPanel layout="block" style="text-align:center">
                <apex:outputText value="{!wrapper.product.Name}" styleClass="item_name"/><br/>
                <apex:outputText value="Price: ${!wrapper.price}" styleClass="item_price"/><br/>
                <apex:outputLink value="javascript:;" styleClass="item_add">Add to Cart</apex:outputLink><br/><br/>
            </apex:outputPanel>
        </apex:outputPanel>
    </apex:repeat>

    <apex:outputPanel layout="block" style="float:right;padding-top:10px;padding-right:10px">
        <apex:outputPanel styleClass="simpleCart_quantity"></apex:outputPanel>
        items - 
        <apex:outputPanel styleClass="simpleCart_total"></apex:outputPanel>

        <apex:outputPanel styleClass="simpleCart_items" layout="block"></apex:outputPanel>

        <apex:outputLink value="javascript:;" styleClass="simpleCart_checkout">Checkout </apex:outputLink>
        <apex:outputLink value="javascript:;" styleClass="simpleCart_empty"> Empty Cart</apex:outputLink>
    </apex:outputPanel>

    <apex:pageBlockButtons >
        <apex:commandButton value="Checkout" action="{!checkout}"/>
    </apex:pageBlockButtons>            
</apex:pageBlock> 
```

正如我所说，项目已正确添加并显示到购物车中（我的输出面板带有 styleClass="simpleCart_items" 属性）。

问题是，我怎样才能将所有购物车物品放入一个数组或其他东西中，以便对其进行迭代并使用它们。

谁可以帮我这个事？

非常感谢！！！

问候！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-03T16:43:34.090

您可以使用 SimpleCart 对象获取 items 数组：

```
simpleCart.each(function(item){
    console.log( item.get('quantity') + ' x ' + item.get('name') );
}); 
```

或者，您可以使用 .sendForm 方法将表单提交到自定义脚本。

# algorithm - XSLT：如何计算属性，用字符串匹配找到

> ID：10877973
> 
> 赞同：0
> 
> 时间：2012-06-04T07:48:21.330
> 
> 标签：algorithm, xslt, search, wildcard, xslt-2.0

我是全世界在 xslt 中编写代码的新手。我希望 xsl 代码查看我的 xml 文件中的每个节点/属性并搜索“__(string)”并计算“result=success/failed”。我在这个站点上找到了一个线程来帮助我一点： [你如何使用 XSLT 进行通配符匹配？](https://stackoverflow.com/questions/3942394/how-do-you-do-wildcard-matches-with-xslt)
我得到了我的 xsl 代码来查找字符串匹配。但是我的问题是，我不知道如何编写代码来计算给定字符串匹配的成功和失败？我希望输出看起来像这样：

```
 **(Casename)**  |  **(total success)** | **(total failed)**
     __(stringmatch1)|         2            |        0
     __(stringmatch2)|         0            |        2 
```

这是 xml 文件的示例：

```
<report>
     <programtest user="testuser">
           <programtest software="test">
               <programtest testname="SW log">
               </programtest>
               <programtest testname="HW log">
               </programtest>
               <programtest testname="loop_program_test">
                  <programtest casename="test" iteration="1" result="success">
                     <programtest casename="__temp1" type="specifictestcase" result="success" >
                      </programtest>
                      <programtest casename="__temp2" type="specifictestcase" result="failed" >
                      </programtest>
                  </programtest>
                  <programtest casename="test" iteration="2" result="success">
                      <programtest casename="__temp1" type="specifictestcase" result="success" >
                      </programtest>
                      <programtest casename="__temp2" type="specifictestcase" result="failed" >
                      </programtest>
                  </programtest>
               </programtest>
           </programtest>
     </programtest>
</report> 
```

任何帮助表示赞赏！:-)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T09:22:25.497

做得好

```
<xsl:variable name="matchedElements" select="//*[starts-with(@casename, '__')]"/>
<xsl:variable name="unmatchedElements" select="//*[not(starts-with(@casename, '__'))]"/> 
```

您可以找到元素，然后可以在需要时输出数字，例如

```
<table>
  <thead>
    <tr>
     <th>matched</th>
     <th>not matched</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><xsl:value-of select="count($matchedElements)"/></td>
      <td><xsl:value-of select="count($unmatchedElements)"/></td>
    </tr>
  </tbody>
</table> 
```

这有帮助吗？

我只是简单地使用过`starts-with(@casename, '__')`，根据你的需要你当然可以使用其他测试，比如`@casename = '__temp1'`或`matches(@casename, 'some regular expression pattern here')`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T10:01:24.830

我认为这是一个分组问题。您需要按每个特定**programtest**元素的 @casename 属性对结果进行分组。在 XSLT2.0 中，您可以通过**xsl:for-each-group**元素来执行此操作

```
<xsl:for-each-group select=".//programtest[@type='specifictestcase']" group-by="@casename"> 
```

然后，对于每个组，你会得到这样的成功次数

```
<xsl:value-of select="count(current-group()[@result='succes'])"/> 
```

（注意您的 XML 中可能有错字，不应该是“成功”而不是“成功”吗？）

这是完整的 XSLT

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
   <xsl:output method="html" indent="yes"/>
   <xsl:template match="/report">
      <table>
         <tr>
            <th>**(Casename)**</th>
            <th>**(total success)**</th>
            <th>**(total failed)**</th>
         </tr>
         <xsl:for-each-group select=".//programtest[@type='specifictestcase']" group-by="@casename">
            <tr>
               <td>
                  <xsl:value-of select="current-grouping-key()"/>
               </td>
               <td>
                  <xsl:value-of select="count(current-group()[@result='succes'])"/>
               </td>
               <td>
                  <xsl:value-of select="count(current-group()[@result='failed'])"/>
               </td>
            </tr>
         </xsl:for-each-group>
      </table>
   </xsl:template>
</xsl:stylesheet> 
```

应用于您的示例 XML 时，将输出以下内容

```
<table>
   <tr>
      <th>**(Casename)**</th>
      <th>**(total success)**</th>
      <th>**(total failed)**</th>
   </tr>
   <tr>
      <td>__temp1</td>
      <td>2</td>
      <td>0</td>
   </tr>
   <tr>
      <td>__temp2</td>
      <td>0</td>
      <td>2</td>
   </tr>
</table> 
```

# css - 悬停时带有边框半径的 CSS 菜单

> ID：10877975
> 
> 赞同：2
> 
> 时间：2012-06-04T07:48:30.230
> 
> 标签：css, drop-down-menu, menu

也许这是一个简单的解决方案，但我坚持下去。

在这里我有我的代码[http://jsbin.com/ejomuv](http://jsbin.com/ejomuv)纯 CSS 菜单

我想要做的是在悬停时设置下拉按钮底部 0px 边框半径，但仅在下拉菜单上设置。

我试过了，但它不起作用，我知道我做的不对：

```
#nav li a .nav-dropdown:hover {
    border-bottom-left-radius: 0px; 
    border-bottom-right-radius: 0px;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T08:31:56.717

由于带有下拉菜单的锚标记使用`action`而不是`href`，因此您可以使用以下选择器：

```
#nav > li:hover > a[action]{
    border-bottom-left-radius: 0px; 
    border-bottom-right-radius: 0px;  
} 
```

**工作示例：http: [//jsbin.com/ejomuv/7/](http://jsbin.com/ejomuv/7/)**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T07:50:30.767

如果引用是正确的（由于缺少 HTML，我无法判断）它应该可以正常工作。但我认为这正是问题所在。也许尝试在您的声明中添加一个 !important 标志，看看是否有帮助。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-04T08:49:37.207

`>`您可以使用（[子选择器](http://www.w3.org/TR/CSS2/selector.html#child-selectors)）定位元素。

```
#nav > li:hover > a {
    border-radius: 6px 6px 0 0;
} 
```

这将在结束时专门从`#nav`到孩子`li`，到孩子`a`。

# ruby-on-rails - Rails 3.2 force_ssl 登陆页面除外

> ID：10877976
> 
> 赞同：2
> 
> 时间：2012-06-04T07:48:38.520
> 
> 标签：ruby-on-rails, ruby, ssl

我想在除我的登录页面之外的所有路由上强制执行 SSL。我尝试在所有控制器中设置 force_ssl，对于包含 root 的控制器，我做了：

force_ssl :except => :index

但是，在我将它部署到 Heroku 上的暂存应用程序后，我的应用程序仍在主页上强制执行 ssl。是否需要执行其他操作才能在该特定路由上禁用 ssl？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-05T14:28:36.507

[rack-ssl-enforcer](https://github.com/tobmatth/rack-ssl-enforcer) gem 会帮助你

# php - 为什么 Flowplayer 开始静音？

> ID：10877979
> 
> 赞同：0
> 
> 时间：2012-06-04T07:49:22.250
> 
> 标签：php, jquery, flowplayer

我正在使用 3.2.7 版本的 Flowplayer，但几天前它开始表现得很奇怪。每当网站加载时，播放器都会显示为静音。

可能有什么问题不明白。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T09:41:20.360

Flowplayer saves user settings to cookies. If You open video within flowplayer and change the volume level, close the video/page/browser and open another video within flowplayer - the volume level should be the same as previously set.

If You open the video that starts muted that should be because of last setting the volume level to zero. Try next:

Open the video, press pause, set the volume level to maximum, press play, close video/page/browser and try to open another (or the same) video. The volume level should be set to max.

# c++ - 为什么对对象生成器调用的 r 值引用需要复制构造函数？

> ID：10877980
> 
> 赞同：8
> 
> 时间：2012-06-04T07:49:24.370
> 
> 标签：c++, visual-studio-2010, visual-c++, c++11, rvalue-reference

我在使用 Visual Studio 2010 C++ 的以下代码时遇到问题。

makeA() 只是 C++ 中的对象生成器习语（如 std::make_pair）

```
#include <stdio.h>

struct A{ // 7th line
    A() {}
    A(A &&) {printf("move\n");}
    ~A() {printf("~A();\n");}
private:
    A(const A &) {printf("copy\n");} // 12th line
};

A makeA()
{
    return A();
}

int main()
{
    A &&rrefA(makeA()); // 22nd line
    return 0;
} 
```

错误信息

```
2>d:\test.cpp(22): error C2248: 'A::A' : cannot access private member declared in class 'A'
2>          d:\test.cpp(12) : see declaration of 'A::A'
2>          d:\test.cpp(7) : see declaration of 'A'
2> 
```

我希望 makeA() 调用 A() 构造函数和 A(A &&) 构造函数，第 22 行调用 makeA() 而没有别的。（如果没有 RVO）编译器不应该要求 A(const A &) 构造函数可以访问，对吗？

你能告诉我代码有什么问题吗？

使用最新版本的 g++，'g++ -std=c++0x' 和 'g++ -std=c++0x -fno-elide-constructors' 编译代码没有任何错误。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-04T19:31:15.623

这是优化器中的一个错误。编译器试图省略移动，但仅被编程为省略复制构造函数——这首先需要存在复制构造函数才能被省略。

我不记得此错误的修复方法是什么（如果有的话），但它可能已在 SP1 中修复。

# java - '*' 作为参数更改为 ".classpath, .project, .settings, bin, src,"

> ID：10877986
> 
> 赞同：1
> 
> 时间：2012-06-04T07:50:08.350
> 
> 标签：java, arrays, parameters, multiplication

> **可能重复：**
> [Java 命令行参数。使用 * 作为乘法的参数](https://stackoverflow.com/questions/7441112/java-command-line-arguments-using-as-an-argument-for-multiplication)

我只是想写一个简单的计算器。如果我输入 2 * 3 作为参数，则数组将如下所示：

*[2，.classpath，.project，.settings，bin，src，3]*

我们在公司“版本：Indigo Service Release 2 Build id:20120216-1857”中安装的所有 Eclipse 都会发生这种情况

我的一个朋友没有这个问题，那么有人知道这个问题的根源吗？

问候

尼科

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T07:52:34.427

该参数`*`被 shell 解释器替换为当前工作目录中的文件列表。这通常发生在 Linux/Unix 平台上，但不会（必然）发生在 Windows 上。您的朋友使用 Windows 机器吗？

换句话说，这与 Java 无关，而是与 shell 命令解释器有关，它在执行`java`. 为避免这种情况，您需要用单引号引用敏感参数，例如`java MyApp 2 '*' 3`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T07:53:18.267

您在命令行上传递参数，其中 '*' 实际上是通配符；它将匹配当前目录中的所有文件（恰好是 .classpath、.project、.settings、bin、src。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T07:53:20.190

如果您在 Unix 下运行，这是命令行扩展的自然结果。使用`\*`或`"*"`。如果您使用的是 Windows，则不会发生这种情况。

# haskell - 大多数 Cabal 软件包实际上都在维护吗？

> ID：10877987
> 
> 赞同：0
> 
> 时间：2012-06-04T07:50:12.730
> 
> 标签：haskell

我想尝试看看 Haskell 是否真的可以用于游戏开发（我听说过 FRP，但我不确定它是否可以优雅地解决我想象的问题 - 我正在阅读[http://theses.fh- hagenberg.at/thesis/Meisinger10](http://theses.fh-hagenberg.at/thesis/Meisinger10)立即了解它）

无论如何 - 所以在这里[https://stackoverflow.com/questions/952841/exemplary-haskell-game-code](https://stackoverflow.com/questions/952841/exemplary-haskell-game-code)我读到 LambdaHack 将是一个很好的例子 - 它似乎工作，但似乎也有很多不推荐使用的代码它和它的依赖项（我收到了很多“不要使用这个，这将在下一个版本中删除”的警告。这些包实际上是否已经被维护了，或者我应该寻找其他的东西吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-04T11:58:32.707

Hackage 上有数千个开源库（目前大约超过 4000 个）。至于任何开源库集合，它们都有不同程度的维护者承诺。您可以使用已发布的有关包裹的数据来确定它是否符合您的质量水平。

事实上，新图书馆的生产速度正在呈指数级增长：

![在此处输入图像描述](../Images/52fe3cb2b3b1fa62dbd9df122b5d1c1e.png)

衡量维护者的承诺是选择要使用的库时要考虑的可能指标之一。为了帮助实现这一点，我们展示了维护者的发布记录。

# internet-explorer - 禁用的文本区域无法在 IE8 中滚动 - 解决方法？

> ID：10877988
> 
> 赞同：4
> 
> 时间：2012-06-04T07:50:12.413
> 
> 标签：internet-explorer, scroll, textarea

在 IE8 下，禁用的文本区域不会滚动。

例如：

```
<textarea style="width: 85%; overflow-y: scroll;" rows="2" name="blog[comment]" id="blog_comment" disabled="disabled" cols="30">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere, erat eu ornare eleifend, sapien eros faucibus metus, nec dapibus erat ante sed lorem. Cras tempus maximus eros, ut hendrerit est. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</textarea>
```

它在 FireFox 中运行良好，但在 IE8 中，用户无法滚动它，因此用户无法看到完整的评论。

它也适用于`readonly`，但我想使用`disabled`.

有修复或解决方法吗？

# c# - Outlook ItemChange 处理程序（使项目不可更改）

> ID：10877996
> 
> 赞同：1
> 
> 时间：2012-06-04T07:51:09.293
> 
> 标签：c#, event-handling, outlook, add-in

我编写了一个 Outlook 插件，它应该在写入后更改一个 Contactitem。我使用 ItemChange EventHandler

```
folder.ItemChange += new Outlook.ItemsEvents_ItemChangeEventHandler(ContactItemChange); 
```

但是当我编辑一个项目时，我的代码总是在后台运行，所以我无法编辑我的项目。

我已经尝试过 item.AfterWrite 和 item.Write 但事件永远不会触发。

```
 private void ContactItemChange(object item)
    {
        if (item is ContactItem)
        {
            ((ContactItem)item).AfterWrite += ThisAddIn_Write;
        }
    } 
```

需要帮忙！再见科诺比

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:51:36.060

您的活动注册可能会被垃圾收集。确保`folder`被声明为私有类成员，并且您还需要管理`ContactItems`（*`List<ContactItem>`或类似*）的私有类成员集合，以确保`AfterWrite`事件处理程序已正确注册且不会被丢弃。

作为参考，请参阅[此 SO 帖子，其中描述了事件处理的 VSTO 限制](https://stackoverflow.com/a/9539705/175679)以及如何正确附加到 Office 事件。

# java - javax.validation.constraints 中的无效转义序列

> ID：10877997
> 
> 赞同：0
> 
> 时间：2012-06-04T07:51:25.610
> 
> 标签：java, bean-validation, hibernate-validator

我正在尝试使用 Hibernate bean Validation 向我的 Bean 添加一个正则表达式。这是我的代码

```
@NotNull(message = "{register.pwd.invalid}")
    @Size(min = 6, max = 8, message = "{register.pwd.invalid}")
    @Pattern(regexp="^(?=.*\d)(?=.*[A-Z]).{6,8}$",message="{register.pwd.week}")
        public String getPwd()
    {
        return pwd;
    } 
```

但是使用这个我得到了以下错误

```
Invalid escape sequence (valid ones are  \b  \t  \n  \f  \r  \"  \'  \\ ) 
```

好像我无法逃避这些序列。有什么办法或java方法来处理这个，还是我需要在regExp中做一些事情来处理这一切

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T07:54:05.490

您需要转义字符串文字中的反斜杠：

```
regexp="^(?=.*\\d)(?=.*[A-Z]).{6,8}$" 
```

实际的字符串值此时只有一个反斜杠，因此正则表达式解析器将其视为“\d”。

请注意，这实际上与 Hibernate 等没有任何关系。您可以使用纯字符串看到相同的内容：

```
// This will give the same problem
String x = "^(?=.*\d)(?=.*[A-Z]).{6,8}$";

// Demo of fix
String working = "^(?=.*\\d)(?=.*[A-Z]).{6,8}$";
System.out.println(working); 
```

# ios - 如果 ios 5.0.1，SKPSMTPMessage 无法发送电子邮件

> ID：10877999
> 
> 赞同：2
> 
> 时间：2012-06-04T07:51:28.457
> 
> 标签：ios, xcode, email

我使用了 SKPSMTPMessage，它在 ios 4 和 5.1.1 上完美运行。

但是，当使用 5.0.1 时，我无法发送电子邮件。

日志

```
*** Terminating app due to uncaught exception 'HSK_CFUtilitiesErrorDomain', reason: 'Error writing bytes to stream!*** First throw call stack:(0x342a88bf 0x356c31e5 0x342a87b9 0x342a87db 0x150a9 0x16cd7 0x16133 0x34278463 0x3423d563 0x3423d511 0x3423d383 0x379ae119 0x3793ac69 0x3793abe9 0x3427f31f 0x3427cb03 0x3427c2cf 0x3427b075 0x341fe4dd 0x341fe3a5 0x30ae9fcd 0x327c6743 0x2c11 0x2ba0)terminate called throwing an exception( 
```