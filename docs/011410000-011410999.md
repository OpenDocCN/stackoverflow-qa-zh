# StackOverflow 问答 11410000-11410999

# android - 为什么 Google 的 Android C2DM 服务需要 android 版本高于 2.2？

> ID：11410010
> 
> 赞同：1
> 
> 时间：2012-07-10T09:06:15.447
> 
> 标签：android, notifications, push, message, android-c2dm

Google 的 Cloud Messaging 以前称为 C2DM bata，最近更名为 GCM，需要 android 2.2 版本。[https://developers.google.com/android/c2dm/](https://developers.google.com/android/c2dm/) 问题是为什么？C2DM 在 2.2 以上版本中使用了哪些早期版本不支持的新功能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:17:02.720

C2DM 已在 2.2 中引入，具有先前固件的 RO 没有特定服务来处理 C2DM 的意图

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:13:51.880

我认为这里没有人可以回答这个问题，因为这是 Google 的决定。

请记住，大多数 Android 设备已经是 Android 2.3 及更高版本。

[http://developer.android.com/about/dashboards/index.html](http://developer.android.com/about/dashboards/index.html)

# javascript - JSPX - 如何在 jspx 中添加 javascript

> ID：11410012
> 
> 赞同：0
> 
> 时间：2012-07-10T09:06:25.990
> 
> 标签：javascript, http-headers, spring-roo, jspx

在我的 Web 应用程序中，我使用的是 JSPX（Spring ROO）。我需要在 JSPX 中添加 javascript。任何人都可以分享任何有用的链接来指导我添加它。

实际上问题是当用户关闭浏览器时关闭会话。

我尝试在我的 JSPX 文件中添加以下代码以清除缓存。但我不知道如何添加它。

```
<head>
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="-1">
</head> 
```

任何人都可以帮我添加上面的代码或在我的 JSPX 文件中添加 javascript 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T21:13:16.580

如果您使用过 web mvc 脚手架，可以查看 \src\main\webapp\WEB-INF\tags\util\load-scripts.tagx 以了解 spring 是如何加载 dojo javascript 框架的。

但是，您可能想在继续之前阅读此[链接。](https://stackoverflow.com/questions/11411703/javascript-ajax-to-close-session-on-closing-browser-in-java)

# animation - 在精灵上运行 CCAnimation - 不要替换它

> ID：11410014
> 
> 赞同：0
> 
> 时间：2012-07-10T09:06:33.823
> 
> 标签：animation, cocos2d-iphone

我有一个精灵，我想运行一些动画，但是在我的动画中是否带有一些 alpha 的精灵。例如，假设您有一个角色（孙悟空），并且您想在其上运行“光环”动画。您将看到带有光环动画的悟空。

你是怎么做到的？对于运行动画，cocos2d 需要一个 ccsprite 并在动画运行时替换它。我无法将此动画添加到我的角色精灵中。

我已经通过创建“临时”精灵、向临时精灵添加动画、将临时精灵添加为角色精灵的孩子来实现它，但我不喜欢它。我认为还有另一种更好的方法...

感谢您的帮助，对不起我的英语；）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T16:01:32.543

如果不创建额外的精灵，您将无法做到这一点。但是你可以封装它。例如，通过为角色创建 CCNode 子类，其中将包含英雄主精灵和动画精灵。这样，您将隔离此类内的所有动画代码。

# c# - C# 中的 Java Robot 类等效代码

> ID：11410015
> 
> 赞同：12
> 
> 时间：2012-07-10T09:06:39.277
> 
> 标签：c#, java

有人可以帮我将以下 java 代码转换为 C#。

```
Robot robot = new Robot();
robot.keyPress(KeyEvent.VK_WINDOWS);
robot.keyPress(KeyEvent.VK_M);
robot.keyRelease(KeyEvent.VK_WINDOWS);
robot.keyRelease(KeyEvent.VK_M); 
```

我知道我们必须使用'user32.dll'。但我不确定我们必须调用哪些方法。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-10T09:14:38.447

如果您尝试模拟键盘按键，以下文章应该可以帮助您： http: [//www.codeproject.com/Articles/28064/Global-Mouse-and-Keyboard-Library](http://www.codeproject.com/Articles/28064/Global-Mouse-and-Keyboard-Library)

它有例子，所以它不应该太难理解。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2021-03-12T07:58:50.150

InputSimulator 是 C# 中的绝佳选择 - NuGet 将其加载到项目中。

VS Studio 2019 中的工作示例：在身份验证弹出窗口中，将文本输入到具有焦点（光标）的用户名文本框中，浏览器 dev-tools/inspect 元素未检测到该焦点以使用 selenium 进行自动化：

```
InputSimulator sim = new InputSimulator(); 
// enter username: QAUser01 
sim.Keyboard.TextEntry("QAUser01"); 
// press Tab key 
sim.Keyboard.KeyPress(VirtualKeyCode.TAB); 
// Enter Password 
sim.Keyboard.TextEntry("acb@123"); 
// submit enter 
sim.Keyboard.KeyPress(VirtualKeyCode.RETURN); 
```

更多可以参考这里：[C#等价于Java Robot类](https://stackoverflow.com/questions/49511160/c-sharp-equivalent-to-java-robot-class)

谢谢

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-06T17:51:33.553

JAVA Robot 类专为自动化测试而设计，在 HAL 层（硬件抽象层）或以下运行。简单地以编程方式生成键和鼠标移动与将键放入硬件键盘缓冲区或硬件鼠标电路不同。

# c# - 如何在 Windows Phone 应用程序中创建登录名？

> ID：11410016
> 
> 赞同：0
> 
> 时间：2012-07-10T09:06:41.773
> 
> 标签：c#, windows-phone-7, login

我想为我的应用程序制作登录页面...但是注册时不会保存数据...

这是我的代码...

```
//String data;
            Debug.WriteLine(username_signup_textbox.Text);
            Debug.WriteLine(password_signup_textbox.Password);
            WebClient signup = new WebClient();

            StringBuilder data = new StringBuilder();
            data.AppendFormat("{0}={1}&", "username", HttpUtility.UrlEncode(username_signup_textbox.Text));
            data.AppendFormat("{0}={1}", "password", HttpUtility.UrlEncode(password_signup_textbox.Password));
            //data = "username=" + username_signup_textbox.Text + "&password=" + password_signup_textbox.Text;
            //signup.Headers[HttpRequestHeader.ContentType] = "application/x-www-form-urlencoded";
            //signup.Headers[HttpRequestHeader.ContentLength] = data.Length.ToString();
            signup.Headers["Content-type"] = "application/xml";
            signup.Encoding = Encoding.UTF8; 

            Uri uri = new Uri("http://192.168.1.105/signup.xml", UriKind.Absolute);
            signup.UploadStringCompleted += new UploadStringCompletedEventHandler(signup_UploadStringCompleted);
            signup.UploadProgressChanged += new UploadProgressChangedEventHandler(signup_UploadProgressChanged);
            signup.UploadStringAsync(uri, "POST", data.ToString());
            Debug.WriteLine(data.ToString()); 
```

知道哪里不正确吗？谢谢你。

# git - 通过 https 更新 Git 子模块

> ID：11410017
> 
> 赞同：33
> 
> 时间：2012-07-10T09:07:01.297
> 
> 标签：git, proxy, git-submodules

我坐在只允许 http/https 流量的代理上，我可以从 Github 克隆存储库，但我必须使用 https URL 和用户名/密码来获取/推送。

现在我的问题是一个带有子模块的存储库，当我执行`git submodule update`它时超时，我只能假设这是因为它使用的是被阻止的 SSH 连接。（它甚至不要求我在私人仓库上输入密码）

* * *

## 回答 #1

> 赞同：56
> 
> 时间：2015-06-17T07:35:32.613

使用 https url编辑您的`.gitmodules`文件，例如：

```
[submodule "vendor/engines/fat_free_crm"]
    path = vendor/engines/fat_free_crm
    url = https://github.com/fatfreecrm/fat_free_crm.git 
```

然后运行`git submodule sync`以反映对文件的更改`.git/config`。

学分：[https ://stackoverflow.com/a/6632693/1273077](https://stackoverflow.com/a/6632693/1273077)

* * *

## 回答 #2

> 赞同：42
> 
> 时间：2012-07-10T09:09:55.267

在`.gitmodules`存储库根目录的文件中，以及在`.git/config`文件中，您应该找到子模块的部分。您可以在那里编辑 url，以便通过 https 请求而不是 ssh 访问它。

当然它可能已经是一个 ssh url，在这种情况下问题可能是其他问题，但这是首先要检查的地方。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2021-12-01T16:07:33.677

如果您不想自己手动更改 .gitmodules 文件，您现在可以使用 git CLI 来完成（确保您的 git 版本不太旧）。

这将为您进行更改：

```
git submodule  set-url [--] <path> <newurl> 
```

例子：

```
git submodule set-url somedir https://github.com/somename/somerepo.git 
```

# sql - 从另一个表更新数据

> ID：11410018
> 
> 赞同：1
> 
> 时间：2012-07-10T09:07:04.137
> 
> 标签：sql, sql-server

我需要从另一个表更新一些数据..

我想简单地将table1中col1的数据带到table2中的col1，这些行位于相同的位置，所以实际上不需要进行任何id-comparing ..

我怎样才能做到这一点？

```
-----------------------------------------
Db1.Table1 (Take yearModel from this table to update Table3)
-----------------------------------------
imgid          | int | PK |
yearModel      | int |
-----------------------------------------

-----------------------------------------
Db2.Table2 (Go by this table to update Table3)
-----------------------------------------
imgid          | int | PK |
uploadId       | int | FK (With table3.uploadId) |
------------------------------------------

------------------------------------------
Db2.Table3 (Update this table with the yearModel from table1)
-------------------------------------------
uploadId        | int | PK |
uploadYearModel | int | 
```

抱歉，我的数据库图表“thingy”由于某种奇怪的原因而崩溃了.. :( 我希望你能理解这个想法

我还应该提到 Table1 位于另一个数据库中..我不确定这是否重要..但好吧.. :)

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:13:01.037

如果您在两个表中都有一个公共键列并且此键列在两个表中具有相同的值（它们在两个表中引用相同的行），那么下面的查询应该可以工作：

```
UPDATE  Table1
SET     Column1 = t2.Column1
FROM    Table2 t2 INNER JOIN Table1 t1 ON t2.KeyColumn = t1.KeyColumn 
```

**编辑：**

```
UPDATE Table3 
SET    uploadYearModel = t1.yearModel 
FROM   Table1 t1
       INNER JOIN Table2 t2 ON t2.imgid = t1.imgid
       INNER JOIN Table3 t3 ON t3.uploadId = t2.uploadId 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:11:57.553

```
UPDATE table2 SET col1=(
       SELECT top 1 col1 FROM table1 WHERE table1.id=table2.id
) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:26:32.987

要更新现有记录：

```
UPDATE table2 
SET table2.c1 = table1.c1, 
table2.c2 = table1.c2,
table2.c3 = table1.c3
FROM table1, table2 
WHERE table1.c1 = table2.c1 
```

# mono - 在 Centos 上编译和安装 Mono - 无法通过“make”

> ID：11410020
> 
> 赞同：3
> 
> 时间：2012-07-10T09:07:09.903
> 
> 标签：mono, centos, gmcs

安装 Mono 的基本说明是：

tar xzvf mono-X.XX.tar.gz；cd mono-X.XX ./configure --prefix=/usr/local; 制作; 进行安装

所以我从[http://download.mono-project.com/sources/mono/](http://download.mono-project.com/sources/mono/)下载了最新版本并将其解压缩（但那是 bz2，使用 j 选项作为 tar）。

配置似乎工作正常。当我运行 make 时，它​​会在此之前插入 40 分钟左右：

```
make[5]: Entering directory `/usr/local/src/mono-2.11.2/mcs'
make[6]: Entering directory `/usr/local/src/mono-2.11.2/mcs'
make[6]: gmcs: Command not found
make[6]: *** [build/deps/basic-profile-check.exe] Error 127
make[6]: Leaving directory `/usr/local/src/mono-2.11.2/mcs'
make[6]: Entering directory `/usr/local/src/mono-2.11.2/mcs'
*** The compiler 'gmcs' doesn't appear to be usable.
*** Trying the 'monolite' directory.
make[7]: Entering directory `/usr/local/src/mono-2.11.2/mcs'
make[8]: Entering directory `/usr/local/src/mono-2.11.2/mcs'
Corlib not in sync with this runtime: expected corlib version 102, found 100.
Loaded from: /usr/local/src/mono-2.11.2/mcs/class/lib/monolite/mscorlib.dll
Download a newer corlib or a newer runtime at http://www.go-mono.com/daily.
make[8]: *** [build/deps/basic-profile-check.exe] Error 1
make[8]: Leaving directory `/usr/local/src/mono-2.11.2/mcs'
make[8]: Entering directory `/usr/local/src/mono-2.11.2/mcs'
*** The contents of your 'monolite' directory may be out-of-date
*** You may want to try 'make get-monolite-latest'
make[8]: *** [do-profile-check-monolite] Error 1
make[8]: Leaving directory `/usr/local/src/mono-2.11.2/mcs'
make[7]: *** [do-profile-check] Error 2 
```

几行后它退出。

我无计可施。无尽的谷歌并没有真正让我到任何地方，除了一些人说当你用日常构建覆盖 dll 时会发生这种情况。

这是一个全新的 CentOS 6.2 安装，包含 PHP、Apache、Mysql、Webmin，现在正在尝试 Mono。我已经下载了最新的单声道版本（2.11.2），但最后一个版本（2.11.1）也发生了同样的事情。

我接近放弃并切换到我们的网络服务器的 Debian，也许这是要走的路？

任何帮助表示赞赏。干杯

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-10-06T21:29:11.137

跑步：

```
make get-monolite-latest 
```

为我解决了问题（如您的错误日志建议）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T02:31:48.197

我刚刚在 Centos 6.3 上安装了 mono-2.11.3。2.11.3 有更新的 monolight 版本 104。尝试从这个链接获取它[https://wrench.mono-project.com/Wrench/ViewLane.aspx?lane_id=4&host_id=14&revision_id=12176](https://wrench.mono-project.com/Wrench/ViewLane.aspx?lane_id=4&host_id=14&revision_id=12176)

更新的单灯也在那里，但是包坏了，所以我只是抓住了完整的单灯包并安装了没问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-16T17:12:37.380

我遇到了同样的问题。答案中的链接不再起作用。

对我有用的 URL 是：http: [//download.mono-project.com/sources/mono/mono-2.11.3.tar.bz2](http://download.mono-project.com/sources/mono/mono-2.11.3.tar.bz2)

# c# - 在 ASP.NET 中加载类型失败？

> ID：11410021
> 
> 赞同：4
> 
> 时间：2012-07-10T09:07:12.940
> 
> 标签：c#, asp.net, code-behind

我在同一个目录中有两个文件，一个 ascx 文件和一个 ascx.cs 文件，其中定义了一个 C# 类。

这是我的 .ascx 文件中的代码

```
<%@ Control Language="C#" AutoEventWireup="true" CodeBehind="Test.ascx.cs" 
Inherits="SITE.UI.Controls.Test" %> 
```

这是 Test.ascx.cs 中的代码：

```
using System;
using System.Web.UI;

namespace SITE.UI.Controls
{
    public partial class Test : System.Web.UI.UserControl
    {

    }
} 
```

但是，每当我尝试构建站点时，我总是会收到此错误：

**错误 1 ​​无法加载类型“SITE.UI.Controls.Test”**

我确定我一定是在做一些明显错误的事情，但是经过一个多小时的颠簸之后，我一无所获。. .

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T09:19:47.113

Go into the Web Project properties -> Build settings and change the Output Path to bin\

If that don't work, check [this](https://stackoverflow.com/questions/1598829/parser-error-message-could-not-load-type-testmvcapplication-mvcapplication) post. Here are a lot of solutions for this problem.

Let me know it when it's fixed or not :)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-03-07T21:17:18.227

我将讲述我的情况以及对我有用的方法。我有一个运行良好的项目。由于未知原因，它得到了编译/构建错误。我在 Controls 文件夹中有用户控件。在处理 Web 处理程序的编译错误后，我的 Controls 文件夹中的每个用户控件都有一组新的错误。我尝试了很多事情，包括删除设计器文件（并创建另一个空文件），我得到的错误是无法加载类型'Name.Of.Class'（在指令行#1 <%@ Control %>）。

我的解决方案是：我添加了另一个名为 OriginalControlName2.ascx 的并行控件。然后将所有内容从@.ascx 复制到@2.ascx 和ascx.cs 相同。到目前为止一切顺利，新页面/控件没有编译错误。然后排除原文件，将#2文件的名称改为原文件名。错误列表归零。

以我所有的经验，我不知道是什么问题，但我得到了修复。

**************更新***************

每次我完成一组文件时，它都会继续到其他文件。我发现指令 <%@ Page/WebHandler/Control/ %> 有一个 CodeBehind 属性。当我将其更改为 CodeFile 时，错误消失了。它比添加新文件和移动所有代码要短得多。

祝你好运。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-03T12:11:32.457

当我遇到同样的错误时，只是想添加对我有用的东西。我做了一个 iisreset 解决了这个问题。

# android - android sqlite - 实例化创建插入搜索元素

> ID：11410022
> 
> 赞同：0
> 
> 时间：2012-07-10T09:07:18.807
> 
> 标签：android, sqlite

我是安卓新手。我想创建一个包含姓名和电话号码的数据库。我需要在这个数据库中添加或修改电话号码元素。有人可以帮我在数据库中创建一个包含这两个元素的表并检查是否存在特定名称。如果没有，我想创建添加将其添加到表中。如果名称存在，我希望能够修改电话号码。我只想创建一次表。我想我还需要检查表是否已创建。

有人可以给我一个完整的 android 示例，在数据库中实例化、创建、插入、删除或修改或搜索元素吗？请？

欣赏，。谢谢

基于学生数据库的示例 ( `http://androidpartaker.wordpress.com/2011/07/03/introduction-to-android-sqlite-database`)

我有：

```
if (cursor != null) {
            while (cursor.moveToNext()) {
                if (cursor.getString(1).equals("me")) value=i;
                Log.i("Student", "Student Name: " + cursor.getString(1)
                        + " Grade " + cursor.getString(2));

                i=i+1;
            }
        }

        Cursor cursor1 = dbUtil1.fetchStudent(value);
        if (cursor1 != null) {
            //while (cursor1.moveToNext())
            {

                Toast.makeText(this, "Student "+ "Student Name: " + cursor1.getString(1)
                        + " Grade " + cursor1.getString(2),Toast.LENGTH_LONG).show();

                //i=i+1;
            }
        } 
```

但无法正常工作。我哪里错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:14:52.660

这里：

[http://developer.android.com/guide/topics/data/data-storage.html#db](http://developer.android.com/guide/topics/data/data-storage.html#db)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:16:08.817

这是通过示例应用程序很好地介绍了 Android SQLite 数据库：[http ://androidpartaker.wordpress.com/2011/07/03/introduction-to-android-sqlite-database/](http://androidpartaker.wordpress.com/2011/07/03/introduction-to-android-sqlite-database/)

# regex - Perl Regex - 在 MATCH 的情况下获取偏移量作为行号而不是字符位置

> ID：11410023
> 
> 赞同：2
> 
> 时间：2012-07-10T09:07:23.153
> 
> 标签：regex, perl, offset

我正在读取字符串中的完整文件，然后进行正则表达式匹配，如下所示：

```
if($str =~ m/$regex/gc) {
     $offset = $+[0];
} 
```

使用此代码，我可以捕获最后一次成功匹配结束的位置。

现在这会将位置作为字符编号。

**有什么办法可以让我偏移为行号？**

我现在正在做的是计算从开始`$str`到结束的换行符的数量`$offset`。

我想知道是否有直接的方法来捕获正则表达式匹配的行号。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T10:51:46.123

与人们想象的相反，[Nahuel 的](https://stackoverflow.com/a/11411326/133939)使用建议[`$.`](http://perldoc.perl.org/perlvar.html)在这种情况下实际上是可行的。

这是因为人们可以像使用 Perl 的文件一样读取字符串：

```
use strict;
use warnings;

my $str = <<EOS;
spam
spam
spam
match
spam
match
EOS

open my $handle, '<', \$str or die $!;

while ( <$handle> ) {

    print $., "\n" if /match/;
} 
```

**输出**

```
4
6 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T10:25:13.207

参见 perldoc perlvar，特殊变量`$.`

编辑：评论后，抱歉我读得太快了

如果有很多匹配项，另一种解决方案可能是创建一个包含新行偏移量的数组：$a[0]-> 第 2 行的偏移量等，然后近似行号，最后增加或减少以找到线。如果最后一行不包含换行符，可能会出现问题。

```
# create an array with offset of new lines
@a=(0,0);push@a,$-[0]while$str=~/\n/gc;

if($str =~ m/$regex/gc) {
  $offset = $+[0]; 
  # get an approximation of line
  $l=int$offset*@a/$a[-1];
  # increment or decrement
  $l++while$a[$l+1]<$offset;
  $l--while$a[$l]>$offset;
} 
```

编辑：未经测试，更改初始化 @a=(0,0) 以避免最后 +2 并且如果在第一行 $l++while$a[$l+1]$offset 和 *@a 上匹配则安全

# actionscript-3 - 如何在 flex 中的 spark HSlider / VSlider 中显示刻度线？

> ID：11410025
> 
> 赞同：2
> 
> 时间：2012-07-10T09:07:27.473
> 
> 标签：actionscript-3, flex4

我想在 flex 中显示 HSlider 和 VSlider 中的刻度线。如果我使用 mx:HSlider 或 mx:VSlider 有显示刻度线的选项，但我在我的项目中使用 spark 组件，因为需要蒙皮并且我想在滑块中显示刻度线。有人有解决方案吗？

# android - Android png图像在内存中很大

> ID：11410027
> 
> 赞同：1
> 
> 时间：2012-07-10T09:07:28.780
> 
> 标签：android, image, png

我在 android 中有一个应用程序，它有一个`imageflipper`. 问题是，在将大约 8 张图像加载到内存后，出现内存不足错误。

好吧，我尝试进行动态图像加载，这样如果用户翻转 2 个图像，我会将下 2 个图像加载到内存并删除 2 个第一个图像。它有点工作，但它很丑陋，当用户将图像翻转回来时我遇到了麻烦（`imageflipper.showprevious()`）。

我不能真正转移所有图像并将新图像放在开头。

我的问题是：
有没有更好的方法来做这种事情？调整图像大小并没有真正帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:13:38.527

我使用下面的代码片段来解决与内存相关的问题，我们可以通过`isRecycled()`方法来解决这个问题。用你的添加这个代码，这`finalImage`是我的`BitmapDrawable`，`R.id.image_viewer`是我的 imageview，你可以改变它

```
 @Override
        protected void onDestroy() {

             finalImage.setCallback(null);
             if (!((BitmapDrawable) finalImage).getBitmap().isRecycled()) {
             ((BitmapDrawable) finalImage).getBitmap().recycle();
             }
             finalImage = null;
            unbindDrawables(findViewById(R.id.image_viewer));
            Runtime.getRuntime().gc();
            // scaledBitmap.recycle();
            System.gc();
            super.onDestroy();
        }

        private void unbindDrawables(View view) {
            if (view.getBackground() != null) {
                view.getBackground().setCallback(null);
            }
            if (view instanceof ViewGroup) {
                for (int i = 0; i < ((ViewGroup) view).getChildCount(); i++) {
                    unbindDrawables(((ViewGroup) view).getChildAt(i));
                }
                ((ViewGroup) view).removeAllViews();
            }
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:13:45.090

使用[BitmapFactory.Options](http://developer.android.com/reference/android/graphics/BitmapFactory.Options.html)

```
BitmapFactory.Options opts = new BitmapFactory.Options();
opt.inSampleSize = 2;
//this will decrease bitmap size,
// but also affect quality of the image, 
//so just play with this value to spot the good one;
Bitmap b = BitmapFactory.decodeFile(fileName, opts); 
```

# android - Android：自定义适配器与自定义微调器下拉 xml 布局给出错误

> ID：11410028
> 
> 赞同：5
> 
> 时间：2012-07-10T09:07:31.263
> 
> 标签：android, spinner, layout-inflater, custom-adapter

我有一个带有自定义适配器的微调器，我用来将微调器下拉中第一个元素的高度设置为零。我这样做是为了在我的微调器（第一个元素）中有一条默认消息，而用户无法单击它，因为它不可见。

```
package org.digitalhealthagency.elaj.util;

import java.util.ArrayList;

import org.digitalhealthagency.elaj.gui.R;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.SpinnerAdapter;
import android.widget.TextView;

public class CustomAdapter extends ArrayAdapter implements SpinnerAdapter{

    Context context;
    int textViewResourceId;
    ArrayList arrayList;

    public CustomAdapter(Context context, int textViewResourceId,  ArrayList arrayList) {
        super(context, textViewResourceId, arrayList);

        this.context = context;
        this.textViewResourceId = textViewResourceId;
        this.arrayList = arrayList;

    }

    @Override
     public View getDropDownView(int position, View convertView, ViewGroup parent){
       if (convertView == null)
       {
         LayoutInflater vi = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
         //convertView = vi.inflate(android.R.layout.simple_spinner_dropdown_item, null);
         convertView = vi.inflate(R.layout.spinner_item, null);
       }

       TextView textView = (TextView) convertView.findViewById(android.R.id.text1);
       textView.setText(arrayList.get(position).toString());//after changing from ArrayList<String> to ArrayList<Object>

       if (position  == 0) { 
          textView.setHeight(0);
      }
      else{
        textView.setHeight(100);
      }

       return convertView;
     }

} 
```

在`getDropDownView`我试图用 spinner_item.xml 而不是`android.R.layout.simple_spinner_dropdown_item`. 我的 spinner_item 如下所示，

```
<?xml version="1.0" encoding="utf-8"?>

  <CheckedTextView xmlns:android="http://schemas.android.com/apk/res/android" 
    android:drawableLeft="?android:attr/listChoiceIndicatorSingle"
    android:gravity="right|center_vertical"
    android:singleLine="true"
    android:layout_width="fill_parent"
    android:layout_height="?android:attr/listPreferredItemHeight"
    android:paddingRight="10dp"
    android:ellipsize="marquee" /> 
```

在我的活动代码中，我使用适配器如下，

```
 CustomAdapter adapter = new CustomAdapter(this, R.layout.spinner, subSpecialities);
        adapter.setDropDownViewResource(R.layout.spinner_item);
        mSubSpecialtySpinner.setAdapter(adapter); 
```

我在日志猫中收到以下错误，

```
07-10 10:49:34.103: E/AndroidRuntime(518): FATAL EXCEPTION: main
07-10 10:49:34.103: E/AndroidRuntime(518): java.lang.NullPointerException
07-10 10:49:34.103: E/AndroidRuntime(518):  at org.digitalhealthagency.elaj.util.CustomAdapter.getDropDownView(CustomAdapter.java:40)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.widget.Spinner$DropDownAdapter.getDropDownView(Spinner.java:569)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.widget.Spinner$DropDownAdapter.getView(Spinner.java:565)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.widget.AbsListView.obtainView(AbsListView.java:2033)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.widget.ListView.measureHeightOfChildren(ListView.java:1244)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.widget.ListView.onMeasure(ListView.java:1155)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.view.View.measure(View.java:12723)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4698)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1369)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.widget.LinearLayout.measureVertical(LinearLayout.java:660)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.widget.LinearLayout.onMeasure(LinearLayout.java:553)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.view.View.measure(View.java:12723)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4698)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1369)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.widget.LinearLayout.measureVertical(LinearLayout.java:660)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.widget.LinearLayout.onMeasure(LinearLayout.java:553)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.view.View.measure(View.java:12723)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4698)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.widget.FrameLayout.onMeasure(FrameLayout.java:293)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.view.View.measure(View.java:12723)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4698)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.widget.FrameLayout.onMeasure(FrameLayout.java:293)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.view.View.measure(View.java:12723)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4698)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.widget.FrameLayout.onMeasure(FrameLayout.java:293)
07-10 10:49:34.103: E/AndroidRuntime(518):  at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2092)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.view.View.measure(View.java:12723)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1064)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2442)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.os.Handler.dispatchMessage(Handler.java:99)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.os.Looper.loop(Looper.java:137)
07-10 10:49:34.103: E/AndroidRuntime(518):  at android.app.ActivityThread.main(ActivityThread.java:4424)
07-10 10:49:34.103: E/AndroidRuntime(518):  at java.lang.reflect.Method.invokeNative(Native Method)
07-10 10:49:34.103: E/AndroidRuntime(518):  at java.lang.reflect.Method.invoke(Method.java:511)
07-10 10:49:34.103: E/AndroidRuntime(518):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
07-10 10:49:34.103: E/AndroidRuntime(518):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
07-10 10:49:34.103: E/AndroidRuntime(518):  at dalvik.system.NativeStart.main(Native Method) 
```

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T09:09:29.243

`textView is null so NPE`..改变它`R.id.text1`而不是`android.R.id.text1`

```
TextView textView = (TextView) convertView.findViewById(android.R.id.text1);
                                                        ^^^^^^^^ 
```

# javascript - 如何在cordova的sqlite事务中传递参数

> ID：11410035
> 
> 赞同：2
> 
> 时间：2012-07-10T09:08:00.110
> 
> 标签：javascript, cordova

我有一个 bookid，我需要在科尔多瓦的 sqlite 交易中传递它，比如

```
var bookName = db.transaction（函数（tx）{
                    return tx.executeSql('SELECT * FROM Iqra_Book WHERE book_id=?',[1],function(tx,res){
                        var 长度 = res.rows.length;
                        console.log("长度：" + len);
                        返回 bkName = res.rows.item(0).book_name;
                    }
                , 函数 (e) {
                    return console.log("错误：" + e.message);
                });
            });

```

但我将此 booName 视为未定义。谁能帮我吗 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T10:06:19.320

您需要将变量传递给书籍 ID。离开“返回”，你不能只返回一个值，因为 Web 数据库异步工作

```
tx.executeSql('SELECT * FROM Iqra_Book WHERE book_id ="'+id+'"',[1],function(tx,res){ 
```

另外，换行

```
return bkName = res.rows[0].book_name; 
```

到

```
return bkName = results.rows.item[0].book_name; 
```

并检查它是否有效

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-06-22T16:44:08.273

您应该使用该方法的`values`参数`executeSql()`。

例如。

```
let id = //the ID of the item you are looking for
tx.execute('SELECT * FROM Iqra_Book WHERE book_id=?',[id])
     .then(queryResult => {
       console.log(queryResult.rows.item(0).book_name)
     }).catch(err => console.error(`ERROR: ${JSON.stringify(err)}`); 
```

**笔记**

*   `item()`是一个函数 - 你有这个权利，它不能作为数组访问，如上一个答案所示（我讨厌插件，但就是这样）
*   上一个示例中传递的值是 just `1`，所以我希望你想要的 ID 是 1。
*   `queryResult.rows`是一个类似列表的对象，我建议通过一个 for 循环，其限制为`queryResult.rows.length`除非（就像在这种情况下），你肯定知道只有**1 个**结果。

# c - 如何从 C 程序内部或使用内联汇编获取 C 函数的大小？

> ID：11410037
> 
> 赞同：7
> 
> 时间：2012-07-10T09:08:01.773
> 
> 标签：c, gcc, assembly, elf, gnu-assembler

**假设我有如下功能：**

```
# cat 003.c

int foo(int a, int b)
{
    return a+b;
} 
```

**并像这样编译它：**

```
gcc -S 003.c 
```

**得到以下汇编结果：**

```
 .file   "003.c"
     .text
 .globl foo
     .type   foo, @function
 foo:
 .LFB2:
     pushq   %rbp
 .LCFI0:
     movq    %rsp, %rbp
 .LCFI1:
     movl    %edi, -4(%rbp)
     movl    %esi, -8(%rbp)
     movl    -8(%rbp), %edx
     movl    -4(%rbp), %eax
     addl    %edx, %eax
     leave
     ret
 .LFE2:
     .size   foo, .-foo /* size of the function foo, how to get it?*/ 
```

上面的最后一行确实获得了函数的大小。编译器在哪里存储大小？**我可以使用C 或内联 asm**在我的原始 C 程序中以某种方式获取函数的大小吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-07-10T09:57:08.850

有关函数大小的信息存储在相应符号（名称）的*ELF 属性中。*如何以编程方式解析的 C 示例代码位于 Solaris 手册页的底部[`gelf_getsym(3ELF)`](http://docs.oracle.com/cd/E19683-01/817-0679/6mgfb878e/index.html)（Linux、*BSD 和 MacOS 中确实存在 libelf，您需要查找结构的`st_size`字段`GElf_Sym`），但您也可以使用 objdump / elfdump (Solaris) / readelf (Linux) 用于任务：

```
$ objdump -h -d --section=.text foo3.o

foo3.o：文件格式elf64-x86-64

部分：
Idx 名称大小 VMA LMA 文件关闭 Algn
  0 .文本 00000012 0000000000000000 0000000000000000 00000040 2**2
                  内容、分配、加载、只读、代码
[ ... ]
部分.text的反汇编：

0000000000000000 <foo>:
   0: 55 推送 %rbp
   1: 48 89 e5 移动 %rsp,%rbp
   4: 89 7d fc mov %edi,0xfffffffffffffffc(%rbp)
   7: 89 75 f8 移动 %esi,0xffffffffffffff8(%rbp)
   a: 8b 45 f8 mov 0xfffffffffffffff8(%rbp),%eax
   d: 03 45 fc 添加 0xfffffffffffffffc(%rbp),%eax
  10：c9请假
  11：c3 回复
```

这是针对您的代码的未优化编译，而优化版本是：

```
$ objdump -h -d --section=.text foo3.o

foo3.o：文件格式elf64-x86-64

部分：
Idx 名称大小 VMA LMA 文件关闭 Algn
  0 .文本 00000004 0000000000000000 0000000000000000 00000040 2**4
                  内容、分配、加载、只读、代码
[ ... ]
部分.text的反汇编：

0000000000000000 <foo>:
   0: 8d 04 37 lea (%rdi,%rsi,1),%eax
   3：c3 retq
```

注意“大小”从`0x12`变为`4`? 这就是来自`.size`汇编程序指令的内容。

尝试使用内联汇编为您提供函数大小/代码位置的“技巧”不考虑编译器生成的胶水代码（函数入口序言/退出尾声，内联代码生成......），也不考虑编译器重新- 订购内联汇编（gcc 这样做是臭名昭著的），因此相信这一点通常不是一个好主意。最后，这取决于你到底想做什么......

**编辑：**更多的参考，外部以及stackoverflow：

1.  从 gcc 邮件列表中，[线程上`sizeof(function)`](http://gcc.gnu.org/ml/gcc-help/2003-07/msg00076.html)
2.  [sizeof（函数名）返回什么？](https://stackoverflow.com/questions/2666392/what-does-sizeof-function-name-return)
3.  [在 C 中查找函数的大小](https://stackoverflow.com/questions/10966856/find-size-of-a-function-in-c)
4.  [LibELF 示例](http://sourceforge.net/projects/elftoolchain/files/Documentation/libelf-by-example/)sourceforge 项目（这是文档/教程）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:19:59.613

为什么不取函数指针和函数末尾当前地址的差呢？看看这个问题来恢复当前的 IP 地址：[Get address of current instruction for x86](https://stackoverflow.com/questions/7932287/get-address-of-current-instruction-for-x86)，可能是这个代码，[被盗形式的回复之一](https://stackoverflow.com/a/7932378/566608)：

```
unsigned long get_PC()
{
    unsigned long current_instruction;

    __asm__ __volatile__
    (
        "movq 8(%rbp), %rax\n\t"
        : "=a" (current_instruction)
    );

    return current_instruction;
} 
```

会做的伎俩，

# jquery - 媒体查询最大宽度在 Chrome 中以错误的宽度启动

> ID：11410038
> 
> 赞同：5
> 
> 时间：2012-07-10T09:08:04.400
> 
> 标签：jquery, google-chrome, media-queries

编辑：更多研究表明这实际上与[jQuery 在 Chrome 18.0.1025.168 中返回错误的宽度和高度有关](https://stackoverflow.com/questions/10465886/jquery-returns-wrong-witdh-and-height-in-chrome-18-0-1025-168)

我在当前的 wordpress 主题项目中设置了一些媒体查询和一些 javascript。一般来说，它们工作正常，但是（！）媒体查询：

```
@media only screen and (max-width: 980px) 
```

已经在 1075px 生效。

```
$(document).width()
1075
$("body").width()
1019.4444427490234 
```

这发生在 Chrome 中，但在 safari 中它的行为就像它应该的那样。我没有检查任何其他浏览器。

你能用javacript改变元素的宽度以某种方式破坏查询正确的“启动宽度”吗？

CSS：

```
@media only screen and (max-width: 1060px){
.excerpt{
    width: 500px;
    float: left;
    font-size: 13px;
}
}
@media only screen and (max-width: 980px){
.hentry{
    height: auto;
}
.thumbnail,.excerpt{
    float: none;
    max-height: none;
}
p{
    font-size: 15px;
}
#site-description{
    display: none;
}
} 
```

在此之前最新添加的 javascript：

```
if($(window).width()<1065 || $(document).width()<1065){
    if($(document).width()>980){
        $(".excerpt").width($(".hentry").width()-515);
    } else{
        $(".excerpt").css("width","");
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-05-15T11:12:57.797

你确定它与jQuery有关吗？

我遇到了同样的问题（媒体查询以错误的宽度触发），原因是我在 Chrome 中的缩放级别不是 100%。我知道，愚蠢的我。

只需按 cmd+0 或 ctr+0 即可默认为 100%。

# java - FilteredItemsSelectionDialog - 刷新内容提供者

> ID：11410039
> 
> 赞同：1
> 
> 时间：2012-07-10T09:08:05.243
> 
> 标签：java, eclipse, eclipse-plugin, jface

我有一个过滤的内容选择对话框，在视图菜单中我有添加额外过滤器的复选框。它的功能应该与“打开资源选择对话框”“CTRL + SHIFT + R”的“显示派生资源”复选框完全相同。我希望对话框清空其内容并重新调用“fillContentProvider()”。

有什么方法可以强制对话框调用“fillContentProvider()”。

我已经尝试过“刷新（）”方法，但它不符合我的需要。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-12T07:02:56.970

我认为该`refresh()`方法会做你想要的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-26T10:04:27.417

首先，您必须扩展 ViewerFilter 类，将其命名为 MyViewerFilter 并覆盖方法 select() 以满足我们的需要。

第二：在action的run()方法中调用addListFilter(filter)；其中 filter 是 MyViewerFilter 类型的对象，而不是调用 scheduleRefresh();

这样做将在每次单击复选框时更新内容提供者。

# azure - 用于 azure 的最佳配置管理软件

> ID：11410041
> 
> 赞同：0
> 
> 时间：2012-07-10T09:08:13.970
> 
> 标签：azure

我想知道哪个是Windows Azure云环境最好的在线配置管理软件。我想在云帐户上安装一个 SCM 工具，开发人员可以使用客户端应用程序访问该工具。

问候，

萨尔曼。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T06:44:46.653

Azure 现在支持 GIT，你应该试试。它允许您直接从 GIT 发布。此外，TFS 是一个不错的选择，您可以查看 tfspreview.com，它也与 Azure 很好地集成，您可以直接从那里发布。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:40:09.907

您在寻找什么功能？Quest 为 Windows Azure 制作了一些不错的工具。根据您的需求，Cerebrata、Opstera 或 Paraleap 的 AzureWatch 等其他供应商也可能是不错的选择。

# java - 为什么Runnable的run()不能抛出checked Exceptions？

> ID：11410042
> 
> 赞同：19
> 
> 时间：2012-07-10T09:08:15.460
> 
> 标签：java, java.util.concurrent

根据[JCIP](http://jcip.net/)第 6.3.2 节：

> Runnable 是一个相当有限的抽象；run 不能返回值或抛出检查异常。

`run()`不能返回一个值，因为它的返回类型是 void 但为什么不能抛出一个检查异常？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-07-10T09:14:40.577

它不能抛出受检异常，因为它没有被声明为从第一个版本中抛出受检异常，并且更改它太危险了。

最初`Runnable`只在包装中使用`Thread`，并且假定开发人员希望捕获所有检查的异常并处理它们，而不是将它们记录到`System.err`.

`Callable`当您可以将单个任务添加到`Executor`您可以在其中捕获结果`Future`以及引发的任何异常时添加。

`Callable`现在允许您返回一个值并可选地声明一个已检查的异常。

**顺便说一句**：你可以说你不想从可调用的返回或抛出检查异常的一种方法是使用类似的东西

```
Callable<Void> callable = new Callable<Void>() {
    public Void call() {
        // do something
        return null;
    }
}; 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-10T16:56:31.407

这不是问题的答案。相反，它是[Lukas Eder 的回答](https://stackoverflow.com/a/11410247/116639)的后续，展示了另一种将检查异常偷运到静态不允许的地方的方法。这依赖于这样一个事实，即如果使用 调用无参数构造函数[`newInstance`](http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#newInstance%28%29)，则它抛出的任何已检查异常都会向上转义。

```
public class Thrower {

    private static final ThreadLocal<Exception> toThrow = new ThreadLocal<Exception>();

    public static void throwUnsafely(Exception e) {
        try {
            toThrow.set(e);
            Thrower.class.newInstance();
        } catch (InstantiationException f) {
            throw new RuntimeException("unexpected exception while throwing expected exception", f);
        } catch (IllegalAccessException f) {
            throw new RuntimeException("unexpected exception while throwing expected exception", f);
        } finally {
            toThrow.remove();
        }
    }

    private Thrower() throws Exception {
        throw toThrow.get();
    }

} 
```

这是 A 类真正古老的黑帽 Java 巫术。永远不要这样做。除了在聚会上给人留下深刻印象。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-10T09:14:55.510

[`run()`](http://docs.oracle.com/javase/6/docs/api/java/lang/Runnable.html#run%28%29)不能抛出检查异常，因为它没有声明这样做。你不能在不声明的情况下抛出已检查的异常。

您也不能在覆盖或实现另一个不引发该异常的方法的方法上声明检查异常。因此， 的实现`Runnable`不能简单地将`throws`子句添加到`run()`.

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-10T09:21:20.613

您总是可以不安全地抛出已检查的异常：

```
import java.lang.reflect.Field;
import sun.misc.Unsafe;

public class UnsafeSample {
    public void methodWithNoDeclaredExceptions( ) {
        Unsafe unsafe = getUnsafe();
        unsafe.throwException( new Exception( "this should be checked" ) );
    }

    private Unsafe getUnsafe() {
        try {
            Field field = Unsafe.class.getDeclaredField("theUnsafe");
            field.setAccessible(true);
            return (Unsafe) field.get(null);
        } catch(Exception e) {
            throw new RuntimeException(e);
        }
    }

    public static void main( String[] args ) {
        new UnsafeSample().methodWithNoDeclaredExceptions();
    }
} 
```

在此处查看全文：

[http://java.dzone.com/articles/throwing-undeclared-checked](http://java.dzone.com/articles/throwing-undeclared-checked)。

另一种选择：

```
public class Test {
    public static void main(String[] args) {
        doThrow(new SQLException());
    }

    public static void doThrow(Exception e) {
        Test.<RuntimeException> doThrow0(e);
    }

    @SuppressWarnings("unchecked")
    public static <E extends Exception> void doThrow0(Exception e) throws E {
        throw (E) e;
    }
} 
```

这显示在这里：

[http://java.dzone.com/articles/throw-checked-exceptions](http://java.dzone.com/articles/throw-checked-exceptions)

说了这么多，千万别做！;-)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-08-05T10:00:43.607

我认为在 Runnable 中保留签名 void run() 背后的动机是它并不像其他方法那样被调用，而是被设计为由 CPU 线程调度程序调用。如果是这样，谁将接收它的返回值，谁将处理由此引发的检查异常。[UncaughtExceptionHandler](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Thread.UncaughtExceptionHandler.html)出现在 Java 5.0 中，用于处理线程抛出的未捕获异常。Executor Framework 将返回的值或抛出的异常（ExecutionException 中的包装器）保存为跨线程（如 Outer 类实例）共享的某些 Object 的状态，并将这些状态提供给 Future 的调用者（在其他线程中运行）。[得到](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/Future.html#get%28%29)（）。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-07-10T09:25:50.227

如果您查看[Runnable Interface](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Runnable.html)，您会发现该`void run()`方法未声明为抛出任何已检查的异常，并且您的 Thread 类实现了 Runnable Interface 。

[JLS](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.8)表示，如果在接口/超类中未声明方法 m1，则该方法不能引发异常。

# javascript - 如何重新定位一个div

> ID：11410047
> 
> 赞同：1
> 
> 时间：2012-07-10T09:08:28.420
> 
> 标签：javascript, jquery, css

如此屏幕截图所示，“投票”按钮如何与“查看结果”对齐：

![在此处输入图像描述](../Images/79f69cae12906c96630ee907ed0b7bc6.png)

在这个小提琴中，它们出现在彼此下方：

[http://jsfiddle.net/5YLNT/2/](http://jsfiddle.net/5YLNT/2/)

我想我需要隐藏css类：'.pds-links'然后以某种方式在新位置重新显示它？

小提琴背后的代码：

```
.pds-question-top {
font-size:10pt !important;
padding-top:1px !important;
padding-bottom:1px !important;
margin-top:1px !important;
margin-bottom:1px !important;
}

.pds-pd-link {
display:none !important;
}

.pds-box {
width:220px !important;
}

.pds-input-label {
width:85% !important;
}

.PDS_Poll {
margin-bottom:15px;
}

.pds-answer-span {
color:#00f;
}

.pds-vote {
background-color:#424242;
}

.pds-answer-text {
color:#00f;
padding-top:1px !important;
padding-bottom:1px !important;
margin-top:1px !important;
margin-bottom:1px !important;
}

.pds-answer-feedback {
padding-top:1px !important;
padding-bottom:1px !important;
margin-top:1px !important;
margin-bottom:1px !important;
}

.pds-votebutton-outer {
text-align:center;
}

.pds-answer-group {
padding-top:1px !important;
padding-bottom:1px !important;
margin-top:1px !important;
margin-bottom:1px !important;
height:auto;
overflow:hidden;
}

.pds-input-label,.pds-answer-input {
float:left;
}

.pds-view-results,.pds-links {
color:#FFF !important;
padding-top:1px !important;
padding-bottom:1px !important;
margin-top:1px !important;
margin-bottom:1px !important;
}

.pds-comments,.pds-return-poll {
color:#FFF !important;
}

<script type="text/javascript" charset="utf-8" src="http://static.polldaddy.com/p/6352993.js"></script>
<noscript><a href="http://polldaddy.com/poll/6352993/">This is very long test question to test how polldaddy handles questions that exceed that normal length............ yes a very long question indeed..............</a></noscript>

$(document).ready(function() {

}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T09:14:29.333

只需让 .pds-links 显示内联而不是块。

[http://jsfiddle.net/5YLNT/6/](http://jsfiddle.net/5YLNT/6/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:16:49.560

```
.pds-vote-button {
  float: left;
  margin: 0 8px;
} 
```

像这样的东西？它把按钮放在左边有一些边距，让它看起来更舒服……

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T09:11:45.873

您只需要使投票按钮浮动：左。

所以添加以下类：

```
 .pds-vote-button
 {
    float: left;
 } 
```

显然你也可以在这里调整边距。

这个小提琴显示了新版本：

[http://jsfiddle.net/5YLNT/4/](http://jsfiddle.net/5YLNT/4/)

# java - 将文本文件中的值相加

> ID：11410054
> 
> 赞同：0
> 
> 时间：2012-07-10T09:08:55.190
> 
> 标签：java, file-io, sum, bufferedreader

嗨，伙计们，我有一个文本文件，其中包含每行子字符串 (34, 47) 处的金额。我需要总结文件末尾的所有值。我有这个我已经开始构建的代码，但我不知道如何从这里开始：

```
public class Addup {

/**
 * @param args the command line arguments
 */
public static void main(String[] args) throws FileNotFoundException, IOException {
    // TODO code application logic here
    FileInputStream fs = new FileInputStream("C:/Analysis/RL004.TXT");
    BufferedReader br = new BufferedReader(new InputStreamReader(fs));
    String line;
    while((line = br.readLine()) != null){
        String num = line.substring(34, 47);

        double i = Double.parseDouble(num);
        System.out.println(i);
    }
}
} 
```

输出是这样的：

```
1.44576457E4
2.33434354E6
4.56875685E3 
```

金额有两位小数，我也需要两位小数的结果。实现这一目标的最佳方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:12:32.200

`DecimalFormat`是使用的最佳选择：

```
double roundTwoDecimals(double d) {
            DecimalFormat twoDForm = new DecimalFormat("#.##");
        return Double.valueOf(twoDForm.format(d));
} 
```

您可以将代码更改为：

```
public static void main(String[] args) throws FileNotFoundException, IOException {
    // TODO code application logic here
    double sum = 0.0;
    FileInputStream fs = new FileInputStream("C:/Analysis/RL004.TXT");
    BufferedReader br = new BufferedReader(new InputStreamReader(fs));
    String line;
    while((line = br.readLine()) != null){
        String num = line.substring(34, 47);

        double i = Double.parseDouble(num);
        sum = sum + i;
        DecimalFormat twoDForm = new DecimalFormat("#.##");
        System.out.println(Double.valueOf(twoDForm.format(i)));
    }
        System.out.println("SUM = " + Double.valueOf(twoDForm.format(sum)));
}
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:16:37.367

或者，用于`String.format`格式化双精度值。

```
System.out.println (String.format("%1.2f", i)); 
```

# php - 如何为 Sitemap.html 创建分层链接

> ID：11410060
> 
> 赞同：0
> 
> 时间：2012-07-10T09:09:14.260
> 
> 标签：php, sitemap

我需要创建一个类似于 apple.com/sitemap 的 HTML 站点地图，其中包含父类别和子类别。我已经创建了两个表：主要类别：

> 身份证 | 标题 | 网址

子类别为：

> ID|Parent_Category_ID|TITLE|URL ...

我如何检索它以使其显示如下内容：

Parent_Category

*   子猫
*   子猫

编辑：遵循一些在线建议，所以现在有一张桌子：

```
ID      Parent       Name        URL
1          0         Parent1     URL1
2          0         Parent2     URL2  
3          1         Sub1        URL3
4          0         Parent3     URL4
5          2         Sub2        URL5 
```

这是我可以使用它生成带有子类别的类别数组的代码

```
<?php

   include('config.php');   

echo '<pre>';

$categories = Sitemap::getTopCategories();
print_r($categories);

echo '</pre>';

class Sitemap
{ 

public static function getTopCategories()
{
    return self::getCategories('parent = 0');
}

public static function getCategories($where = '')
{
    if ($where) $where = " WHERE $where";
    $result = mysql_query("SELECT * FROM testing $where");

    $categories = array();

    while ($category = mysql_fetch_array($result)){
    $my_id = $category['id'];
    $category['children'] = Sitemap::getCategories("parent = $my_id");
            $categories[] = $category;
        }

    mysql_free_result($result);
    return $categories;
  }
 }
 ?> 
```

现在我必须遵循，以便它以正确的方式显示为 apple.com/sitemap。我已准备好使用 CSS 进行正确放置，但无法显示它。

请帮忙！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T09:47:37.137

这是我用来以正确格式获取数组的函数..

```
function outputCategories($categories, $startingLevel = 0)  
{

    foreach ($categories as $key => $category)
    {
        if (count($category['children']) > 0)
        {
            echo '<li><a title="'.$category['name'].'" href="'.$category['url'].'">'.$category['name'].'</a><ul>';
            outputCategories($category['children'], $startingLevel+1);
            echo "</li>";
        }
        else
        {
            echo '<li><a title="'.$category['name'].'" href="'.$category['url'].'">'.$category['name'].'</a></li>';
        }
    }
    echo "</ul>";
    return self;
} 
```

有关更多信息，请参阅此帖子：[链接](https://stackoverflow.com/questions/2794638/turn-database-result-into-array)

# c# - 如果给定的测试用例失败，则中止整个测试套件

> ID：11410062
> 
> 赞同：4
> 
> 时间：2012-07-10T09:09:20.567
> 
> 标签：c#, visual-studio-2010, testing

我在 Visual Studio 中编写了 5 个测试方法。

现在，如果我的第二个测试用例失败，我想退出（测试）程序。即假设我的代码到达第二个测试用例并且它失败了，那么整个要运行的测试套件应该被中止。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T15:06:20.480

我认为您正在寻找[Ordered Tests](http://msdn.microsoft.com/en-us/library/dd286704)。

创建一个`Ordered Test`并添加`Unit Tests`您想要的顺序。当其中一个`Unit Test`失败时，其余的都不会执行：

![在此处输入图像描述](../Images/750b11fbe53efe6d9bdfb3a8d3839e79.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:13:38.460

您始终可以使用 退出当前正在运行的整个“程序” `Environment.Exit()`。不要忘记还指定一个退出代码（通常，如果没有错误，退出代码为 0，如果发生错误，则为 > 0）。

实际上，如果某些单元测试碰巧失败，我认为结束程序没有用。但是，可以使用以下语句：

```
Environment.Exit(0) 
```

为了连续运行不同的（在您的情况下为 5 个）单元测试，您可以使用测试列表，请参阅[“如何使用测试列表”](http://msdn.microsoft.com/en-us/library/ms182461.aspx)以获取更多信息。

# jsp - 避免在 JSTL 中评估 c:if 标记内的代码

> ID：11410085
> 
> 赞同：1
> 
> 时间：2012-07-10T09:10:35.460
> 
> 标签：jsp, jsf, jstl

我需要为各种类使用模板，并且我试图避免对 c:if 中的代码进行评估，因为*bean*类`getPrintResource()`只有 if 扩展了一个特定的类。

我正在努力

```
<c:if test="${bean instanceOf PrintableClass}">...

<c:if test="${! empty bean.printResource}">... 
```

避免评估这个元素

```
<c:if test="${...}">
   <tag:printResource id="printBtn"
    rendered="#{bean.printable}"
    resource="#{bean.printResource}" 
       label="#{msg.print}">
   </tag:printResource>
</c:if> 
```

获得的唯一结果是`Property "printResource" not found on *bean*`

* * *

### 编辑

即使我能够为 c:if 构建一个有效的测试，该属性`resource`也将被评估为`Property "printResource" not found`无论如何。
我的问题是如果测试为假，则避免评估代码块

* * *

也许我的设计是错误的，或者这是不可能的......
谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-12T10:16:30.910

您可以检查 bean 是否是预期类的实例：

```
<c:if test="${bean.getClass().name =='my.package.PrintableClass'}"> 
```

或另一个等效条件：

```
<c:if test="${bean['class'].simpleName eq 'PrintableClass'}"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:36:26.430

创建一个自定义 EL 函数来检查它。就像是

```
<c:if test="${myFn:isPrintResourcePossible(bean)}"> 
```

EL 函数只是某个类中的静态方法，在标记库描述符中声明。

有关教程，请参阅[http://docs.oracle.com/javaee/1.4/tutorial/doc/JSIntro7.html](http://docs.oracle.com/javaee/1.4/tutorial/doc/JSPIntro7.html)。

# machine-learning - 将 LIBSVM grid.py 用于不平衡数据？

> ID：11410086
> 
> 赞同：7
> 
> 时间：2012-07-10T09:10:44.683
> 
> 标签：machine-learning, libsvm, text-mining, svm

我遇到了不平衡数据（90%、5%、5%）的三类问题。现在我想使用 LIBSVM 训练一个分类器。

问题在于 LIBSVM 优化其参数 gamma 和 Cost 以获得最佳精度，这意味着 100% 的示例被归类为 1 类，这当然不是我想要的。

我试过修改权重参数 -w 没有太大成功。

所以我想要的是，修改 grid.py 以优化成本和伽玛的精度和按类分开的召回率，而不是整体精度。有没有办法做到这一点？还是有其他脚本可以做这样的事情？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-10T15:08:21.190

-w 参数是不平衡数据所需要的。你试过什么了？

如果您的课程是：

*   0级：90%
*   第一类：5%
*   2级：5%

您应该将以下参数传递给 svm：

```
-w0 5 -w1 90 -w2 90 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-14T13:09:50.583

如果您想尝试替代方案，svmlight 系列中的一个程序[http://www.cs.cornell.edu/people/tj/svm_light/svm_rank.html](http://www.cs.cornell.edu/people/tj/svm_light/svm_rank.html)直接最小化 ROC 曲线下的区域。

与重新加权训练示例相比，最小化 AUC 可能会产生更好的结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-06T13:54:45.230

您可以使用 优化任何精度、召回率、F-score 和 AUC `grid.py`。调整是您必须更改`svm-train`LIBSVM 中使用的交叉验证评估度量。遵循[LIBSVM 网站上给出的程序](http://ntu.csie.org/~cjlin/libsvmtools/eval/index.html)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-03-22T15:51:13.647

如果您有不平衡的数据，您可能不应该优化准确性。而是优化 f 分数（或回忆，如果这对您更重要）。[您可以按照此处](http://ntu.csie.org/~cjlin/libsvmtools/eval/index.html)所述更改评估函数。

我认为您还应该优化 gamma 和 Cost，同时使用不同的类权重配置。为此，我通过传递不同的类权重（-wi 权重）修改了 grid.py 中的“get_cmd”函数。以我的经验，班级加权并不总是有帮助。

# c# - 为什么我的文件上传控件无法正常工作

> ID：11410088
> 
> 赞同：2
> 
> 时间：2012-07-10T09:10:55.860
> 
> 标签：c#, asp.net

我的 asp.net 页面中有一个 FileUpload 控件，它应该将我的图片上传到主机上的某个文件夹中。我设置了一个条件，即当它有文件时，它开始上传。这是代码。

```
 if (File2.HasFile)
 {
      string b = File2.FileName.ToString();
      File2.PostedFile.SaveAs(path + File2.FileName);
 } 
```

但条件永远不会为真。我在该页面中还有另外两个 FileUpload。它们工作正常。但这个工作不正常，条件总是为假。我应该怎么办？

这是 HTML 代码：

```
<asp:UpdatePanel ID="UpdatePanel3" runat="server">
                   <ContentTemplate>
                       <table cellpadding="0" cellspacing="0" class="style4" dir="rtl" 
                           style="border: thin solid #008080">
                           <tr>
                               <td>
                                   &nbsp;</td>
                               <td>
                                   &nbsp;</td>
                           </tr>
                           <tr>
                               <td>
                                   <div style=" border-width: thin; border-color: #008080; border-left-style: solid;">
                                       <asp:GridView ID="GridView2" runat="server" AllowPaging="True" 
                                           AutoGenerateColumns="False" CellPadding="4" DataSourceID="SqlDataSource4" 
                                           ForeColor="#333333" GridLines="None" onrowcommand="GridView2_RowCommand" 
                                           PageSize="6" Width="130px" Height="200px" ShowHeader="False">
                                           <AlternatingRowStyle BackColor="White" />
                                           <Columns>
                                               <asp:TemplateField>
                                                   <ItemTemplate>
                                                       <asp:LinkButton ID="LinkButton1" runat="server" 
                                                           CommandArgument='<%#Eval("PID") %>' CommandName="LnkEdit" 
                                                           Text='<%#Eval("Pname") %>'></asp:LinkButton>
                                                   </ItemTemplate>
                                               </asp:TemplateField>
                                           </Columns>
                                           <EditRowStyle BackColor="#7C6F57" />
                                           <FooterStyle BackColor="#1C5E55" Font-Bold="True" ForeColor="White" />
                                           <HeaderStyle BackColor="#1C5E55" Font-Bold="True" ForeColor="White" />
                                           <PagerStyle BackColor="#666666" ForeColor="White" HorizontalAlign="Center" />
                                           <RowStyle BackColor="#E3EAEB" />
                                           <SelectedRowStyle BackColor="#C5BBAF" Font-Bold="True" ForeColor="#333333" />
                                           <SortedAscendingCellStyle BackColor="#F8FAFA" />
                                           <SortedAscendingHeaderStyle BackColor="#246B61" />
                                           <SortedDescendingCellStyle BackColor="#D4DFE1" />
                                           <SortedDescendingHeaderStyle BackColor="#15524A" />
                                       </asp:GridView>
                                   </div>
                                   <asp:Label ID="Label18" runat="server"></asp:Label>
                               </td>
                               <td>
                                   <div style="float  :right">
                                       <table cellpadding="0" cellspacing="0" style="width: 500px">
                                           <tr>
                                               <td>
                                                   <asp:Label ID="Label1" runat="server" Text="نام"></asp:Label>
                                               </td>
                                               <td align="right">
                                                   <asp:TextBox ID="TxTEditname" runat="server"></asp:TextBox>
                                               </td>
                                           </tr>
                                           <tr>
                                               <td>
                                                   <asp:Label ID="Label15" runat="server" Text="زبان"></asp:Label>
                                               </td>
                                               <td align="right">
                                                   <asp:DropDownList ID="DropDownList4" runat="server">
                                                       <asp:ListItem Value="en">English</asp:ListItem>
                                                       <asp:ListItem Value="fa">فارسی</asp:ListItem>
                                                   </asp:DropDownList>
                                               </td>
                                           </tr>
                                           <tr>
                                               <td>
                                                   <asp:Label ID="Label2" runat="server" Text="توضیحات"></asp:Label>
                                               </td>
                                               <td align="right">
                                                   <asp:TextBox ID="TxTEditdes" runat="server" Height="102px" 
                                                       TextMode="MultiLine" Width="380px"></asp:TextBox>
                                               </td>
                                           </tr>
                                           <tr>
                                               <td>
                                                   <asp:Label ID="Label19" runat="server" Text="عکس جدید"></asp:Label>
                                               </td>
                                               <td align="right">
                                                   <asp:FileUpload ID="File2" runat="server" />
                                               </td>
                                           </tr>
                                           <tr>
                                               <td>
                                                   <asp:Button ID="Button1" runat="server" onclick="Button1_Click" 
                                                       Text="ثبت تغییرات" />
                                               </td>
                                               <td>
                                                   <asp:Label ID="Label17" runat="server"></asp:Label>
                                               </td>
                                           </tr>
                                       </table>
                                   </div>
                               </td>
                           </tr>
                       </table>
                   </ContentTemplate>

               </asp:UpdatePanel> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:35:38.227

从[MSDN](http://msdn.microsoft.com/en-us/library/bb386454.aspx)页面：

> 以下 ASP.NET 控件与部分页面更新不兼容，因此不适合在 UpdatePanel 控件中工作：
> 
> *   `FileUpload`并`HtmlInputFile`控制它们何时用于作为异步回发的一部分上传文件。
>     
>     
> *   -
>     
>     
> 
> 要在 *UpdatePanel*控件中使用`FileUpload`或控件，请将提交文件的回发控件设置为面板控件。`HtmlInputFile`*`PostBackTrigger`*

 *因此，您需要为回发控件（按钮等）设置 Triggers 属性

例子：

```
<asp:UpdatePanel ID="UpdatePanel1" runat="server">
        <ContentTemplate>
            <asp:FileUpload ID="FileUpload1" runat="server" />
            <asp:Button ID="Button1" runat="server" onclick="Button1_Click" Text="Button" />
        </ContentTemplate>
        <Triggers>
            <asp:PostBackTrigger ControlID="Button1" />
        </Triggers>
</asp:UpdatePanel> 
```

代码隐藏

```
protected void Button1_Click(object sender, EventArgs e)
  {
     if(FileUpload1.HasFile)
      {
        FileUpload1.SaveAs(MapPath("~/Files/" + FileUpload1.FileName));
      }
  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:14:40.803

有一个错误，您检查 File2 文件上传控件并在保存文件时写入 FileUpload2.FileName 。使用 Server.MapPath 方法给出正确的路径。

`File2.PostedFile.SaveAs(Server.MapPath("~/path")+File2.FileName`

这将是正确的代码

`File2.PostedFile.SaveAs(Server.MapPath("~/path")+File2.FileName`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T09:14:22.010

我看到了不同

```
string b = FileUpload2.FileName.ToString();
File2.PostedFile.SaveAs(path + FileUpload2.FileName); 
```

不应该

```
string b = File2.FileName.ToString();
File2.PostedFile.SaveAs(path + File2.FileName); 
```*

# c# - 从 VB 脚本调用 C# 函数不起作用

> ID：11410091
> 
> 赞同：-1
> 
> 时间：2012-07-10T09:11:15.487
> 
> 标签：c#, com, vbscript, tridion, tridion-2011

VB 脚本没有从工作流中调用 c# 方法。我做对了吗？我能够从服务器测试相同的代码。

```
Option Explicit
Dim testwfhandler
Set testwfhandler= CreateObject("CoreComponentWorkflow.WorkflowHandler")
If Not testwfhandler Is Nothing Then    
Call testwfhandler.test()    
End If
Set testwfhandler= Nothing 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-26T09:19:37.430

在过去的几天里，我一直在处理类似的问题。

毫无疑问，我的注册有问题。

就我而言，我使用位于以下位置的 regasm 注册了程序集：

*   C:\Windows\Microsoft.NET\Framework64\v4.0.30319

工作流代理是一个 32 位应用程序，所以我刚刚使用 regasm 可执行文件注册了程序集，位于：

*   C:\Windows\Microsoft.NET\Framework\v4.0.30319

像魅力一样工作

还要确保你构建你的 dll 以使用任何 CPU

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T11:24:39.077

这显然是您的大会注册的问题。您是“仅使用”RegAsm，还是使用了 RegAsm /codebase？

无论如何，在您的注册表中搜索“CoreComponentWorkflow.WorkflowHandler”。您应该找到一个具有较大 GUID 的键，并且在其下方应该有一系列其他注册表键。其中之一将被称为 InProcServer32，您应该在其中找到一些字符串值，包括“Assembly”和“Codebase”。

如果找到密钥，请仔细检查值是否正确。如果您没有找到密钥，请尝试再次注册您的程序集`RegAsm /codebase <path to your assembly>`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T10:11:25.560

您的 VB 似乎很好。确保您： 1) 注册您的程序集（使用 RegAsm）或将其放入 GAC。2) 将代码中的 ProgId 设置为“CoreComponentWorkflow.WorkflowHandler”。以下是有关 ProgIds 的更多信息：http: [//msdn.microsoft.com/en-us/library/system.runtime.interopservices.progidattribute (v=vs.90).aspx](http://msdn.microsoft.com/en-us/library/system.runtime.interopservices.progidattribute(v=vs.90).aspx)

# iphone - 从 NSMutableDictionary 中检索字符串值

> ID：11410092
> 
> 赞同：0
> 
> 时间：2012-07-10T09:11:16.007
> 
> 标签：iphone, xcode

我想从数据库中加载 tableView 值，用于测试目的 database.sqlite。它填充了以下内容：

1、一月

2、二月

... 向下 ...

12 月 12 日

如您所见，我正在使用 FMDB。以下行编译但崩溃：

```
NSString *myString = [[rows objectAtIndex:myNumber] objectForKey:@"MonthName"]; 
```

我在处理 Cocoa 中的 Ints 和 String 的不一致方式时遇到了问题，这是我的问题的一部分。此外，虽然那里有 NSLog 调试行，但这种方法看起来很复杂。你能给我什么建议？

```
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *docsPath = [paths objectAtIndex:0];
NSString *path = [docsPath stringByAppendingPathComponent:@"database.sqlite"];
FMDatabase *database = [FMDatabase databaseWithPath:path];
[database open];

NSLog(@"Open Database");
FMResultSet *results = [database executeQuery:@"SELECT * FROM monthly"];

while([results next]) {
    NSString *name = [results stringForColumn:@"name"];
    NSInteger age  = [results intForColumn:@"age"];

    // Stuff Data into Array
    NSMutableArray *rows = [[NSMutableArray alloc] init];
    NSMutableDictionary *firstRow = [NSMutableDictionary dictionaryWithObjectsAndKeys: [NSNumber numberWithInt:age], @"MonthID", [NSString stringWithFormat:@"%@", name], @"MonthName", nil];
    [rows addObject:firstRow];
    NSLog(@"Month: %@ - %d",name, age);
    int myNumber = [[firstRow objectForKey:@"MonthID"] intValue];

    // *** THE LINE BELOW IS GIVING ME PROBLEMS ***
    NSString *myString = [[rows objectAtIndex:myNumber] objectForKey:@"MonthName"];

    // NSLog(@"Month No: %@ - %d",myString, myNumber);
    NSLog(@"***** Month No: %d", myNumber);
    // [self.monthMonths myString]; 
}
[database close];
NSLog(@"Close Database"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:21:10.207

在循环`rows`外声明数组。`while`

将以下行移到`while`循环上方。

```
NSMutableArray *rows = [[NSMutableArray alloc] init]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:30:13.627

此行给出错误，因为您的索引或月份 id 从 1 开始，但是当您将其添加到数组中时：

```
[rows addObject:firstRow]; 
```

它在 0 索引处添加（默认起始索引）。因此，当您调用此行时：

```
NSString *myString = [[row s objectAtIndex:myNumber] objectForKey:@"MonthName"]; 
```

它试图在索引 1 处提取值，因为：

```
int myNumber = [[firstRow objectForKey:@"MonthID"] intValue]; 
```

它实际上试图在索引 1 处提取不存在的值，因为您的数组在索引 0 处仅包含 1 个值，因此它崩溃了。

编辑：尝试使用这个：

```
NSMutableArray *rows = [[NSMutableArray alloc] init];
while([results next]) {
    NSString *name = [results stringForColumn:@"name"];
    NSInteger age  = [results intForColumn:@"age"];

    NSMutableDictionary *firstRow = [NSMutableDictionary dictionaryWithObjectsAndKeys: [NSNumber numberWithInt:age], @"MonthID", [NSString stringWithFormat:@"%@", name], @"MonthName", nil];

// Stuff Data into Array
    [rows addObject:firstRow];
    NSLog(@"Month: %@ - %d",name, age);
    int myNumber = [[firstRow objectForKey:@"MonthID"] intValue]-1; //to get value at proper index...

    // *** THE LINE BELOW IS GIVING ME PROBLEMS ***
    NSString *myString = [[rows objectAtIndex:myNumber] objectForKey:@"MonthName"];

    // NSLog(@"Month No: %@ - %d",myString, myNumber);
    NSLog(@"***** Month No: %d", myNumber);
    // [self.monthMonths myString]; 
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:18:18.733

您可以将 int 值转换为字符串格式，

```
int myNumber = [[firstRow objectForKey:@"MonthID"] intValue];
NSString *myString = [NSString StringWithFormat:@"%d",[[rows objectAtIndex:myNumber] objectForKey:@"MonthName"]];

NSlog(@"MonthName :%@", MonthName); 
```

# php - 重新排序 RSS 提要中的项目

> ID：11410093
> 
> 赞同：0
> 
> 时间：2012-07-10T09:11:19.457
> 
> 标签：php, wordpress, simplepie

我有 2 个网站，我希望使用 RSS 提要显示另一个网站的一些帖子。

麻烦的是，默认似乎是按发布日期排序，而我需要按标题排序。我正在使用 Wordpress，它使用 SimplePie（我认为这很常见？）。

有没有办法在我展示它们之前重新排序这些项目？谢谢。

```
/**
 * $feed = the RSS feed to display (set via CMS option)
 * $num_posts = the number of posts to display from the feed (set via CMS option)
 */
$max_items = 0;
if($feed !== '') :
    $rss = fetch_feed($feed);
    if(!is_wp_error($rss)) :
        $max_items = $rss->get_item_quantity($num_posts);
        $rss_items = $rss->get_items(0, $max_items);
    endif;
endif; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T14:43:42.913

好的，所以我想出了一个似乎可行的答案。

```
require_once(ABSPATH . WPINC . '/class-feed.php');
require_once(ABSPATH . WPINC . '/class-simplepie.php');

class SimplePie_Custom_Sort extends SimplePie{

    /**
     * @var string How to order the feed
     * @access private
     */
    var $order_feed_by;

    /**
     * Sort the items that are to be displayed in an RSS feed
     */
    function sort_items($a, $b){

        /** Construct the sort function name */
        $sort_function = 'sort_items_'.$this->order_feed_by;

        /** Check if the sort function exists and call it (call 'parent::sort_items' if not) */
        if(method_exists($this, $sort_function)) :
            $this->$sort_function($a, $b);
        else :
            parent::sort_items($a, $b);
        endif;

    }

    /**
     * Sort function to sort posts in an RSS feed by title
     */
    function sort_items_title($a, $b){

        return $b->get_title() <= $a->get_title();

    }

}

function fetch_feed_custom($url, $order_by){

    $feed = new SimplePie_Custom_Sort();
    $feed->order_feed_by = $order_by;
    $feed->set_feed_url($url);
    $feed->set_cache_class('WP_Feed_Cache');
    $feed->set_file_class('WP_SimplePie_File');
    $feed->set_cache_duration(apply_filters('wp_feed_cache_transient_lifetime', 43200, $url));
    do_action_ref_array( 'wp_feed_options', array( &$feed, $url ) );
    $feed->init();
    $feed->handle_content_type();

    if($feed->error()) :
        return new WP_Error('simplepie-error', $feed->error());
    endif;

    return $feed;

} 
```

# php - 如何使用 PHP 将上传的 pdf 的第一页显示为缩略图？

> ID：11410096
> 
> 赞同：0
> 
> 时间：2012-07-10T09:11:29.610
> 
> 标签：php, pdf

我正在开发一个电子学习门户，但我发现很难将上传的 pdf 的第一页显示为缩略图。

任何提示、帮助或建议将不胜感激

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:16:16.280

[ImageMagick](http://php.net/manual/en/book.imagick.php)非常擅长将 PDF 导出和缩放为 PNG/JPG/GIF。大多数主机支持它，这是最快和最简单的方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:17:14.453

您需要使用[ImageMagick](http://us3.php.net/imagick)

## 例子：

```
<?php
$imagePreview = new imagick('file.pdf[0]');
$imagePreview->setImageFormat( "jpg" );
header( "Content-Type: image/jpeg" );
echo $imagePreview; 
```

# jquery - jQuery - 在元素创建时触发事件

> ID：11410106
> 
> 赞同：1
> 
> 时间：2012-07-10T09:12:04.230
> 
> 标签：jquery, events

jQuery 中是否有在创建 dom 元素时触发的事件？我尝试了加载，但是例如跨度将不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:15:12.860

你可以试试[`DOMNodeInserted`](http://www.w3.org/TR/DOM-Level-3-Events/#event-type-DOMNodeInserted)事件：

> 当 Attr 节点以外的节点被添加为另一个节点的子节点时，用户代理必须调度此事件类型。当一个 Attr 节点被添加到一个 Element 节点时，用户代理可以调度这个事件。必须在插入发生后调度此事件。该事件的事件目标必须是被插入的节点。

```
$(document).bind('DOMNodeInserted', function(){
     ...
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:18:04.107

可以帮助您的参考资料很少， [http](http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-eventgroupings-mutationevents) ://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-eventgroupings-mutationevents https://github.com/jollytoad/jquery.mutation -事件

但是你想要实现的是目前所有框架都在做的事情，比如 ember、angularjs 等等。我建议您学习其中的一个，尤其是有角度的我认为您想要获得的直接答案就在那里。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:18:50.143

您可以将创建元素的功能放入闭包中，并在创建一个新元素时触发另一个功能，例如

```
 var newElement=function(newElement){ 
                     var k=$(newElement);//Create a new element
/*You can add extra operations to the element*/
                     triggerFunction(someVariable); //Function triggered after the creation of new element
                     };

var triggerFunction=function(someVariable){//Some function}; 
```

希望下面的代码能很好地解释这种情况。这里我们有一个观察者，每当创建新元素时都会触发它。

# java - Eclipse 无法识别 java 包

> ID：11410111
> 
> 赞同：0
> 
> 时间：2012-07-10T09:12:10.253
> 
> 标签：java, eclipse, git, eclipse-plugin, egit

我使用 Eclipse 中的 git 插件将我的 java 项目添加到 github。我什至添加了 src 目录并提交。在我提交之后，程序说 in.jcap.sanctuary.pojo 包中的类 User 不是类型。

我多次重新启动项目，但是在提交到 git 存储库后，如果我在 eclipse 中创建任何新类，我会收到与上述相同的错误。我收到以下错误“在第 14 行发生错误，在生成的 java 文件中只能导入一个类型。in.jcap.sanctuary.pojo.User 解析为一个包”

# java - 使用 JQuery 和 JSON 将对象发送到 JAX-RS 时出错

> ID：11410115
> 
> 赞同：0
> 
> 时间：2012-07-10T09:12:30.170
> 
> 标签：java, javascript, jquery, jax-rs

我正在尝试将 javascript 对象发送到 JAX-RS 服务器。当我从 jquery 中 PUT 时，我得到一个服务器端异常。

这是我的服务器代码

```
//JAX-RS Server
@PUT
@Path("/edit/{project_key}/")
@Consumes({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })
public Response editAssociation(@PathParam("project_key") String projectKey,
    @FormParam("association") EditFieldAssociationModel association) {
        //TODO
        //Here i just put a debug break point
        return Response.noContent().build();
}

//EditFieldAssociationModel class    
@XmlRootElement(name = "EditFieldAssociationModel")
@XmlAccessorType(XmlAccessType.FIELD)
public class EditFieldAssociationModel {
    @XmlElement(name = "id")
    private Long id;

    @XmlElement(name = "method")
    private String method;

    @XmlElement(name = "jiraDefaultValue")
    private String jiraDefaultValue;

    @XmlElement(name = "externalDefaultValue")
    private String externalDefaultValue;

    //and public accessors
} 
```

还有我的js代码：

```
function(){
    var editasso = {id:asso_id,
            method:d.find(".sync-plugin-method").find('select').val(),
            jiraDefaultValue:d.find('.sync-plugin-jira-default-value').find('select').val(),
            externalDefaultValue:d.find('.sync-plugin-external-default-value').find('select').val()};

    AJS.$.ajax({
          url: AJS.contextPath()+"/rest/a-sync-rest/1.0/association/edit/"+getProjectKey(),
          type: "PUT",
          //TODO

          data: JSON.stringify(editasso),
          beforeSend: function(x) {
                if (x && x.overrideMimeType) {
                  //x.overrideMimeType("application/json; charset=UTF-8");
                  x.setRequestHeader("Content-type", "application/json; charset=UTF-8");
                  console.log("mime type override ok");
                }else{
                    console.log("unable to override mime type");
                }
           },
          dataType: "json",
          success: function(msg){
              dialog.remove();
              location.reload();
          },
          error : sync_plugin_error
    });
} 
```

我尝试使用 editasso 的其他值

```
var editasso = {association : {id:asso_id,
                        method:d.find(".sync-plugin-method").find('select').val(),
                        jiraDefaultValue:d.find('.sync-plugin-jira-default-value').find('select').val(),
                        externalDefaultValue:d.find('.sync-plugin-external-default-value').find('select').val()}}; 
```

帖子正文似乎是正确的：

```
{"association":{"id":"350","method":"com.a.jira.synchronization.KeepLatestSyncMethod","jiraDefaultValue":"Valeur 1","externalDefaultValue":"aa"}} 
```

例外是

```
org.codehaus.jackson.map.JsonMappingException: Can not deserialize instance of java.util.ArrayList out of START_OBJECT token 
```

有什么建议吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:28:15.500

问题已解决：EditFieldAssociationModel 不能使用与服务器到客户端类相同的注释。现在，我的课看起来像：

```
public class EditFieldAssociationModel {
    @JsonProperty("id")
    private Long id;

    @JsonProperty("method")
    private String method;

    @JsonProperty("jiraDefaultValue")
    private String jiraDefaultValue;

    @JsonProperty("externalDefaultValue")
    private String externalDefaultValue;

    //getters and setters
} 
```

它有效

# android - 活动组内的 Android 圆形按钮和微调器

> ID：11410118
> 
> 赞同：0
> 
> 时间：2012-07-10T09:12:33.777
> 
> 标签：android

我在活动组中有一个微调器和 2 个按钮。我想对按钮应用圆角。我已经为 Android 中的圆形按钮创建了 shape xml 资源文件。在布局中创建按钮时，我已将此资源文件指定为按钮的背景。但是在执行应用程序后，更改并没有反映出来。

我已将该屏幕的 ContentView 设置为：

```
setContentView(LayoutInflater.from(getParent()).inflate(R.layout.textmessage,null)); 
```

必须这样做才能使微调器在活动组中工作。如何在具有 Spinner 的活动组中将按钮设置为圆角？

任何帮助，将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:31:00.023

在 res/drawable 文件夹中创建一个 xml 文件。xml文件代码为：

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android" >

 <solid android:color="#dadada"/> 
    <corners
    android:topLeftRadius="13dip"
     android:topRightRadius="13dip"
     android:bottomLeftRadius="13dip"
     android:bottomRightRadius="13dip"/>
</shape> 
```

* * *

之后打开按钮 xml 文件并将按钮的属性设置为 android:background = "@drawable/xml 文件名"

希望它可以帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:28:44.077

在按钮上调用 setBackgroundResource 方法并传入按钮形状的 xml 文件。

此外，作为双重检查，请确保您的按钮使用常规 Activity 和标准布局文件显示为圆形。

仅供参考 ActivityGroup 现已弃用。

# ios - 如果不允许第三方付款，如何在 iPhone 中添加动态项目？

> ID：11410119
> 
> 赞同：0
> 
> 时间：2012-07-10T09:12:59.517
> 
> 标签：ios

我需要明白一点。Apple 已强制在 App 购买中使用虚拟物品或商品，并且不接受第三方支付解决方案。但是，如果项目是动态地从 CMS 进入 iPhone，那么我们不能在 App 购买中使用，因为应用内购买意味着必须输入一次数据。

谁能给我一个如何处理这种情况的解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:22:47.373

大多数人通过创建某种虚拟货币来处理这种情况，这些虚拟货币可以在应用程序中用于购买资源。例如，来自 Smule 的 Magic Piano（以及其他 Smule 应用程序）可让您购买“smoola”，以后可用于将歌曲和乐器添加到应用程序中。每天都有新歌出现，无需通过应用商店购买；取而代之的是，您从您的帐户中选择一个并使用 smoola 支付。您可以通过某些方式（例如观看视频）赚取一些 smoola，并且您可以使用应用内购买购买包 smoola，价格从 3 美元到 100 美元不等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:17:17.887

You just need to map your dynamic items with a product id in iTunes. Create new iTunes products in advance for your dynamic items.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T10:02:58.427

[这是](https://developer.apple.com/appstore/resources/approval/guidelines.html)文档。它简短但全面。在我看来，是的，你可以在应用程序中设置任何你想要的价格，只要你不指出用户可以从你的网站上以更低的价格购买同样的东西。

# macos - 如何找到第一个响应者辞职的对象（控制器或视图）？

> ID：11410121
> 
> 赞同：0
> 
> 时间：2012-07-10T09:13:06.963
> 
> 标签：macos, cocoa, nsresponder

当特定对象退出 FirstResponder 时，我想做一些清理活动。有什么方法可以检测对象是否已退出第一响应者状态。

我需要实施哪些方法才能知道这一点？对此有任何指示吗？

我已经通过了这个链接。但我并没有从中得到太多。

[NSTableView 和 NSOutlineView 在 tab 键上编辑](https://stackoverflow.com/questions/5600793/nstableview-nsoutlineview-editing-on-tab-key)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T10:07:26.803

根据[Apples 的 NSResponder 文档](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ApplicationKit/Classes/NSResponder_Class/Reference/Reference.html#//apple_ref/occ/cl/NSResponder)，您应该为您的子类覆盖该`resignFirstResponder`方法。

像这样的东西：

```
- (BOOL)resignFirstResponder
{
    [super resignFirstResponder];
    /* Your cleanup code here */
} 
```

# sql - user_objects 预言机

> ID：11410124
> 
> 赞同：0
> 
> 时间：2012-07-10T09:13:13.597
> 
> 标签：sql, oracle, constraints, user-object

`user_constraints`我只想问和有什么区别`user_objects`。

我有两个数据库并在两个数据库上运行导致唯一约束错误的脚本。

为了解决这个问题，我删除了`user_constraint`两个数据库的表约束。之后 DB1 运行没有错误。但是 DB2 失败了，我检查了`user_constraint`两个 db 并且删除了约束。

我被要求检查`user_objects`并发现 DB2与表中的`constraint_name`相同。`object_name``user_objects`

任何关于他们的关系、使用、相似之处等的信息都将不胜感激。

谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:26:41.430

应删除约束：

```
Alter table table_name drop constraint constraint_name; 
```

区别很简单：User_objects 包含数据库中的所有对象，而 user_constraints 仅包含约束。

# html - 这可能吗？溢出-y：使用溢出-x：滚动/自动可见

> ID：11410127
> 
> 赞同：1
> 
> 时间：2012-07-10T09:13:33.020
> 
> 标签：html, css, position, overflow, positioning

我们的团队有一个无法解决的问题：/ 我们制作了自己的网格控件。当您单击列名旁边的图标时，会出现弹出的 div（称为 divFilter），您可以在那里设置过滤。每列可以动态生成 div，因此我们可以在 5 个不同的地方拥有 5 个 divFilter。

它可以工作，但唯一的问题是，当 Grid 上有例如 1-2 条记录时，弹出的 div 将显示在父 div 的水平滚动下。我们已经尝试过使用 z-index，但看起来这行不通。我们可以设置溢出：可见，但我们还需要水平滚动（我们的网格最多有 50 列）。我们认为我们可以通过购买设置 overflow-y visible 和 overflow-x:scroll 来解决它，但根据我们的测试和该页面：[http](http://www.brunildo.org/test/Overflowxy2.html) ://www.brunildo.org/test/Overflowxy2.html这是不可能的（对于IE7，IE8）。

我还发现了这个类似的问题[CSS overflow-y:visible, overflow-x:scroll](https://stackoverflow.com/questions/5209545/css-overflow-yvisible-overflow-xscroll)，但是我们的弹出 div 必须是 position:absolute，因为我们需要将它们定位在列下。

有什么想法或解决方法吗？是否可以仅使用 CSS 设置而不使用 Javascript（用于动态更改 gridview 高度等）。

谢谢！！

**添加：**

好的，我在 jsFiddle 上为我的问题创建了非常简化的代码片段：http: [//jsfiddle.net/XL5JD/](http://jsfiddle.net/XL5JD/)

```
 <div id="divOuter" style="position: relative; overflow: scroll; height: 100%;">
    <div id="divGv" style="height:90px;width:3339px;background-color:#7A8B8B">
        <div id="divFilter" style="position:absolute;z-index:20px;background-color:#000000;width:30px;height:300px;margin:10px">   
</div>
</div>
    </div> 
```

如您所见，黑色 div(pop-up) 是隐藏的，我们需要使用垂直滚动条来查看其全部内容。使用滚动条来查看整个弹出窗口看起来不太好，所以我们希望黑色 div 显示在水平滚动条上方/上方，但是因为我们的 gridview（中间 div）可能非常宽，我们不能只设置溢出：对于第一个 div 可见。正如我之前所说，将位置更改为固定不是解决方案。我几乎可以肯定它不能仅通过使用 CSS 来完成，但我想在搞砸 JavaScript 之前先问一下 :)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T10:24:13.637

我认为最安全的解决方案是`min-height`在网格上设置一个。

此外，听起来您的网格需要 javascript 进行过滤等。那么为什么不使用 javascript 来巧妙地计算流行的过滤器 div 高度中的最小高度因子。

# java - 玩！2.0 应用程序启动时数据库覆盖。(MYSQL)

> ID：11410128
> 
> 赞同：0
> 
> 时间：2012-07-10T09:13:33.243
> 
> 标签：java, mysql, scala, playframework, playframework-2.0

每次我运行我的 Play！应用程序，我被告知我的数据库需要进化。这会覆盖我目前在数据库中的信息，我可能做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T09:58:46.240

这是正常的，当您在项目中使用自动生成的进化时，因此在首次运行后，您应该禁用它（通过从 中删除前 2 条注释行`1.sql`）并切换到手动进化。

[http://www.playframework.org/documentation/2.0.2/Evolutions](http://www.playframework.org/documentation/2.0.2/Evolutions)

当然，在接下来的演变中，您需要使用`ALTER`s 而不是`CREATE`s 来修改现有结构

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:21:58.637

您是否有任何附加到 application.conf 的数据源可能像数据库重置一样？我的意思是像一个引导程序。

我使用 Play 框架，但我没有看到它，在 Grails 中，您有一个配置选项供 DB 在应用程序启动时删除、更新或创建数据库。检查此配置选项在 Play 上是否可用，以及是否设置了它。

application.conf 文件会很有趣，你能把它放在这里并删除敏感数据吗？

希望能帮助到你。

# sql-server - 从另一台计算机连接到 SQL Server 数据库

> ID：11410132
> 
> 赞同：0
> 
> 时间：2012-07-10T09:13:38.507
> 
> 标签：sql-server, sql-server-2008-r2

我是 SQL Server 新手，一直在关注本[教程](http://msdn.microsoft.com/en-us/library/ms345343%28v=sql.105%29.aspx)

我仔细按照所有步骤操作，但是当我尝试从另一台计算机连接到数据库时，我收到错误

> 登录失败。登录来自不受信任的域，不能与`Windows authentication`. Microsoft SQL Server，错误：18452

我需要采取哪些步骤来解决此问题？

谢谢

（我在两台机器上都使用 SQL Server 2008 R2）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:43:24.563

**解释**

用户尝试使用无法验证的凭据登录。可能的原因有：

登录可能是 SQL Server 登录，但服务器只接受 Windows 身份验证。

您正在尝试使用 SQL Server 身份验证进行连接，但使用的登录名在 SQL Server 上不存在。

登录可能使用 Windows 身份验证，但登录是无法识别的 Windows 主体。无法识别的 Windows 主体意味着 Windows 无法验证登录。这可能是因为 Windows 登录来自不受信任的域。

有关详细信息，[请参阅这篇文章](http://www.microsoft.com/products/ee/transform.aspx?ProdName=Microsoft%20SQL%20Server&EvtSrc=MSSQLServer&EvtID=18452)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T11:08:32.563

右键单击您的**数据库**>>**属性**>>选择**文件**（在左上角）。>>点击**所有者**（右上角）弹出窗口显示>>点击 **浏览器**检查**Guest, NT Authority\System**

打开 sql 展开单击**安全**性>>右键单击**登录**>>**新登录**>>单击**搜索**（右上角）>>**高级**>>**立即查找**>>选择**访客/网络**
这将添加访客登录

这可以帮助你吗

# sitecore - 使用 ABDPDF 处理此案例

> ID：11410133
> 
> 赞同：0
> 
> 时间：2012-07-10T09:13:43.060
> 
> 标签：sitecore, abcpdf

我们有 ABCPDF 8 可用于这种情况。我们需要使用来自 CMS 的文本来重建包含标记和文本的现有 PDF。我们基本上想要做的是使用现有的 PDF 并将文本和图像块替换为我们的内容编辑器在 Sitecore 中指定的内容。我一直在查看 ABCPDF 的文档，但在这一点上它有点让人不知所措，因为这是我第一次尝试通过动态构建 PDF 来做任何事情。我发现可以使用 .GetText(""); 从现有 PDF 文档中读取文本。方法。此方法将接受 4 个参数，我已经尝试了 SVG 一个（返回 xml）。当我在 XmlDocument 中加载 xml 时，我发现很多我认为是一个文本块的文本块被分成不同的部分。例如：

```
 <text xml:space="preserve" x="215.4312" y="48.9478" font-size="9" font-family="Arial-BoldMT" fill="rgb(237, 106, 0)" textLength="94.032" transform="translate(215.4312, 48.9478) translate(-215.4312, -48.9478)">wijkverpleegkundige?</text>
<text xml:space="preserve" x="215.4312" y="61.9438" font-size="9" font-family="ArialMT" textLength="5.652" transform="translate(215.4312, 61.9438) translate(-215.4312, -61.9438)">&#8226;&#9;</text>
<text xml:space="preserve" x="223.9362" y="61.9438" font-size="9" font-family="ArialMT" textLength="49.509" transform="translate(223.9362, 61.9438) translate(-223.9362, -61.9438)">Lichamelijke</text>
<text xml:space="preserve" x="273.4452" y="61.9438" font-size="9" font-family="ArialMT" textLength="2.502" transform="translate(273.4452, 61.9438) translate(-273.4452, -61.9438)">&#9;</text>
<text xml:space="preserve" x="275.9472" y="61.9438" font-size="9" font-family="ArialMT" textLength="32.013" transform="translate(275.9472, 61.9438) translate(-275.9472, -61.9438)">controle</text>
<text xml:space="preserve" x="307.9602" y="61.9438" font-size="9" font-family="ArialMT" textLength="2.502" transform="translate(307.9602, 61.9438) translate(-307.9602, -61.9438)">&#9;</text>
<text xml:space="preserve" x="310.4622" y="61.9438" font-size="9" font-family="ArialMT" textLength="10.008" transform="translate(310.4622, 61.9438) translate(-310.4622, -61.9438)">op</text>
<text xml:space="preserve" x="320.4702" y="61.9438" font-size="9" font-family="ArialMT" textLength="2.502" transform="translate(320.4702, 61.9438) translate(-320.4702, -61.9438)">&#9;</text>
<text xml:space="preserve" x="322.9722" y="61.9438" font-size="9" font-family="ArialMT" textLength="42.021" transform="translate(322.9722, 61.9438) translate(-322.9722, -61.9438)">bloeddruk,</text>
<text xml:space="preserve" x="364.9932" y="61.9438" font-size="9" font-family="ArialMT" textLength="2.502" transform="translate(364.9932, 61.9438) translate(-364.9932, -61.9438)">&#9;</text>
<text xml:space="preserve" x="223.9362" y="74.9398" font-size="9" font-family="ArialMT" transform="translate(223.9362, 74.9398) translate(-223.9362, -74.9398)" 
```

我的第一个想法是获取所有文本块，然后用我自己的来自 CMS 的文本替换它们，但这似乎不是要走的路。我现在完全迷路了，不知道如何解决这个问题。

有什么方法可以在 ABCPDF 的对象中访问以下 XML，还是我做错了？

实现这一目标的最佳方法是什么？

# python - 在 django 中实现静态文件时出错

> ID：11410136
> 
> 赞同：1
> 
> 时间：2012-07-10T09:13:54.423
> 
> 标签：python, linux, ubuntu-10.04, django-urls

我的 settings.py 文件：-

```
STATIC_ROOT = '/home/pooja/Desktop/static/'

# URL prefix for static files.
STATIC_URL = '/static/'

# Additional locations of static files
STATICFILES_DIRS = (
                 '/home/pooja/Desktop/mysite/search/static',
          ) 
```

我的 urls.py 文件：-

```
from django.conf.urls import patterns, include, url
from django.contrib.staticfiles.urls import staticfiles_urlpatterns
from django.contrib import admin
admin.autodiscover()

urlpatterns = patterns('',
    url(r'^search/$','search.views.front_page'),
    url(r'^admin/', include(admin.site.urls)),
)
urlpatterns += staticfiles_urlpatterns() 
```

我使用 django 创建了一个应用程序，它在 10 个 xml 文档中搜索关键字，然后返回它们的频率计数，显示为图形表示和文件名列表及其各自的计数。现在列表具有超链接的文件名，我想在 django 服务器上显示它们当用户单击它们时，我在 django 中使用了静态文件配置。超链接以这种方式完成：

```
<ul> 
   {% for l in list1 %}
          <li><a href="{{STATIC_URL}}static/{{l.file_name}}">{{l.file_name}}</a{{l.frequency_count</li>
   {% endfor %}
</ul> 
```

现在，当我在服务器上运行我的应用程序时，一切都运行良好，但是一旦我单击文件名，它就会给我这个错误：

```
Using the URLconf defined in mysite.urls, Django tried these URL patterns, in this order:
^search/$
^admin/
^static\/(?P<path>.*)$
The current URL, search/static/books.xml, didn't match any of these. 
```

我不知道为什么会出现此错误，因为我已按照实现此目的所需的步骤进行操作。我已经发布了我的 urls.py 文件，它只显示错误。

我是 django 新手，所以

请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:15:04.067

我只需要在我的 settings.py 文件中写入：

```
STATIC_URL = 'search/static/' 
```

它刚刚工作:)

# php - foreach 没有从数组中获取所有值

> ID：11410139
> 
> 赞同：-2
> 
> 时间：2012-07-10T09:14:03.383
> 
> 标签：php, arrays, foreach

我有一个包含 15 个元素的数组。`count($array)`的输出是`15`.

但是当我使用下面的代码时，它计数为 9，而不是 15。

```
$i = 0;
foreach($array as $value)
{
    $n = $i++;
    echo $n;
} 
```

有问题的数组：

```
Array ( [0] => Array ( [link] => http://site.com/1572993-shoping-v-dubay [title] => SimpleXMLElement Object ( [0] => Шопинг в Дубай ) [pubDate] => SimpleXMLElement Object ( [0] => Tue, 10 Jul 2012 11:35:02 +0300 ) [description] => Емирство Дубай е най-популярния шопинг център на целия Среден Изток. Известен е с моловете си, където присъстват най-големите търговски марки на пазара. Но и със своите пазари, т.нар. сукове... [img] => http://site.com/attachments/stories-photos/0157/2993/thumb_medium/shoping-v-dubay.jpg?1341903321 ) [1] => Array ( [link] => http://site.com/1572081-pravila-pri-razpolagane-na-mebeli-v-hola-za-moya-dom [title] => SimpleXMLElement Object ( [0] => Правила при разполагане на мебели в хола - За моя дом ) [pubDate] => SimpleXMLElement Object ( [0] => Tue, 10 Jul 2012 11:15:02 +0300 ) [description] => Мебелите, които ще поставите в хола си, трябва да са разположени така, че да ви бъде удобно и уютно. [img] => http://site.com/attachments/stories-photos/0157/2081/thumb_medium/pravila-pri-razpolagane-na-mebeli-v-hola-za-moya-dom.jpg?1341822480 ) [2] => Array ( [link] => http://site.com/1572957-pritchite-dobroto-nastroenie-loshoto-nastroenie-i-dashterya-im-apatiya [title] => SimpleXMLElement Object ( [0] => Притчите: Доброто настроение, Лошото настроение и дъщеря им Апатия ) [pubDate] => SimpleXMLElement Object ( [0] => Tue, 10 Jul 2012 11:10:03 +0300 ) [description] => Веднъж Доброто и Лошото настроение се срещнали и били силно привлечени едно от друго. Лошото настроение било запленено от слънчевото излъчване и ефирността на  Доброто, а то от драматизма и загадъчността на Лошото. Решили да се оженят и от брака им се родило малко момиченце - Апатия. Апатия пораснала твърде бързо и дали заради грешки във възпитанието или поради несполучлива комбинация на гени, се превърнала в сериен убиец... [img] => http://site.com/attachments/stories-photos/0157/2957/thumb_medium/pritchite-dobroto-nastroenie-loshoto-nastroenie-i-dashterya-im-apatiya.jpg?1341901946 ) [3] => Array ( [link] => http://site.com/1571565-krasivasi-dieta-s-papesh [title] => SimpleXMLElement Object ( [0] => krasivasi: Диета с пъпеш! ) [pubDate] => SimpleXMLElement Object ( [0] => Tue, 10 Jul 2012 10:55:02 +0300 ) [description] => Тази диета ще ви помогне да се освободите от 3-4 нежелани килограма, само за 3 дни. [img] => http://site.com/attachments/stories-photos/0157/1565/thumb_medium/krasivasi-dieta-s-papesh.jpg?1341762339 ) [4] => Array ( [link] => http://site.com/1572883-zadarzhasht-sprey-za-udalzhavane-na-poloviya-akt-blog-za-mazhko-polovo-zdrave [title] => SimpleXMLElement Object ( [0] => Задържащ спрей за удължаване на половия акт | Блог за Мъжко Полово Здраве ) [pubDate] => SimpleXMLElement Object ( [0] => Tue, 10 Jul 2012 10:50:01 +0300 ) [description] => Експериментален спрей за забавяне на еякулацията прилаган пет минути преди секс, помага на мъжете да преодолеят преждевременната еякулация. Това потвърждават последните изследвания в областта. Спрей наречен PSD502, съдържа анестетици като лидокаин и прилокаин. Уникалното при този спрей е, че той .... [img] => http://site.com/attachments/stories-photos/0157/2883/thumb_medium/zadarzhasht-sprey-za-udalzhavane-na-poloviya-akt-blog-za-mazhko-polovo-zdrave.jpg?1341898251 ) [5] => Array ( [link] => http://site.com/1572812-kris-braun-s-parvi-1-album-vav-velikobritaniya-i-poreden-v-sasht [title] => SimpleXMLElement Object ( [0] => Крис Браун с първи №1 албум във Великобритания и пореден в САЩ | ) [pubDate] => SimpleXMLElement Object ( [0] => Tue, 10 Jul 2012 10:45:01 +0300 ) [description] => Албумът Fortune на американската R&B, хип-хоп и рап звезда Крис Браун, издаден на 3 юли 2012 година, оглави класациите за най-продавани във Великобритания и Америка [img] => http://site.com/attachments/stories-photos/0157/2812/thumb_medium/kris-braun-s-parvi-1-album-vav-velikobritaniya-i-poreden-v-sasht.jpg?1341871551 ) [6] => Array ( [link] => http://site.com/1572124-ludogorets-lokomotiv-plovdiv-superkupa-2012 [title] => SimpleXMLElement Object ( [0] => Лудогорец - Локомотив Пловдив І Суперкупа 2012 ) [pubDate] => SimpleXMLElement Object ( [0] => Tue, 10 Jul 2012 10:10:01 +0300 ) [description] => Двубоят между Лудогорец и Локомотив Пловдив за Суперкупата на България ще се изиграе на стадион Лазур в Бургас. Срещата ще бъде предавана пряко по канала на цифровия оператор "Булсатком" – ТВ+. Тимът от Разград постигна исторически дубъл през миналия сезон, като спечели "А" група и вдигна Купата на България. В този случай по регламент в мача за Суперкупата на страната шампионът трябва да се изправи срещу финалиста за Купата. Любопитното е, че стадионът на Черноморец прие и финала за Купата на България, в който Лудогорец обърна пловдивския Локо за 2:1 и триумфира с трофея. [img] => http://site.com/attachments/stories-photos/0157/2124/thumb_medium/ludogorets-lokomotiv-plovdiv-superkupa-2012.jpg?1341824396 ) [7] => Array ( [link] => http://site.com/1572888-za-stabilizirane-na-kravnoto-nalyagane-pri-sardechnosadovi-problemi [title] => SimpleXMLElement Object ( [0] => За стабилизиране на кръвното налягане, при сърдечносъдови проблеми! ) [pubDate] => SimpleXMLElement Object ( [0] => Tue, 10 Jul 2012 10:05:02 +0300 ) [description] => от рецептите на баба: Рецептата се използва за стабилизиране на кръвното налягане при сърдечносъдови заболявания, импотентност, фригидност и лечение аденом на простата. Използва се спиртен извлек от [img] => http://site.com/attachments/stories-photos/0157/2888/thumb_medium/za-stabilizirane-na-kravnoto-nalyagane-pri-sardechnosadovi-problemi.jpg?1341898654 ) [8] => Array ( [link] => http://site.com/1571598-parvite-patsienti-na-mobilen-stomatologichen-kabinet-poluchiha-bezplatni-protezi [title] => SimpleXMLElement Object ( [0] => Първите пациенти на мобилен стоматологичен кабинет получиха безплатни протези ) [pubDate] => SimpleXMLElement Object ( [0] => Tue, 10 Jul 2012 08:50:01 +0300 ) [description] => Мобилният стоматологичен кабинет на фондация „Св. Иван Рилски” преглежда пациенти вече и в селата Ясен, Подем и Върбица. И там на нуждаещите се възрастни хора ще бъдат поставени зъбни протези, дарени от фондацията. Следващите пациенти на д-р Петева и д-р Найденова ще бъдат от село Рибен... [img] => http://site.com/attachments/stories-photos/0157/1598/thumb_medium/parvite-patsienti-na-mobilen-stomatologichen-kabinet-poluchiha-bezplatni-protezi.jpg?1341768583 ) [9] => Array ( [link] => http://site.com/1571730-mneniya-na-potrebiteli-izprobvali-santament-otzivi-i-komentari-santament-produkt-za-profilaktika-i-lekuvane-na-ustnata-k [title] => SimpleXMLElement Object ( [0] => Мнения на потребители изпробвали Сантамент. Отзиви и коментари. Сантамент - продукт за профилактика и лекуване на устната кухина ) [pubDate] => SimpleXMLElement Object ( [0] => Tue, 10 Jul 2012 08:45:01 +0300 ) [description] => Отзиви на наши потребители Здравейте, на 34г.съм страдам от парадонтоза която е около 50%. Нямам клатещи зъби, но имам оголване на предени зъби. На скоро започнаха болки в венеца от горе в ляво и стоматолога каза че имам много голям джоб и от там ми идват болките. Изписа антибиотик, но въпреки това не намаляха болките. Болеше ме все едно зъб боли. Започнах да пия обезболяващи. Веднъж една приятелка ми препоръча Сантамента, нейната стоматоложка и го препоръчала, лекувала много бързо афтите с него. На нея й го изписала след зъбна операция. Поръчах го от вас и започнах да жабуркам сутрин обед и вечер интензивно Веднага след като започнах да го ползвам спряхя да ме болят венците а джобовите изчезнаха.Освен това лекувам афтите на дъщеря ми, която често страда от тях и мъжа ми го ползва за гърло, както бяхте ми препоръчали. Запалих всичките ми приятелки Много сме доволни! Страхотен препарат! Благодаря ви! ! Здравейте, дълги години се "боря" с парадонтозата лайка,... [img] => http://site.com/attachments/stories-photos/0157/1730/thumb_medium/mneniya-na-potrebiteli-izprobvali-santament-otzivi-i-komentari-santament-produkt-za-profilaktika-i-lekuvane-na-ustnata-kuhina.jpg?1341806662 ) [10] => Array ( [link] => http://site.com/1571899-koy-palnee-po-barzo-zhenite-ili-mazhete [title] => SimpleXMLElement Object ( [0] => Кой пълнее по-бързо, жените или мъжете? ) [pubDate] => SimpleXMLElement Object ( [0] => Tue, 10 Jul 2012 08:40:01 +0300 ) [description] => Последните проучвания на американските специалисти психолози констатираха, че женският мозък е така устроен, че му е по-трудно да се бори с апетита. Според последните статистики жените дебеланки са с цели 25% повече отколкото мъжете. Учените са на мнение, че това се дължи преди всичко на по-слабата воля и стреса в ежедневието на жената. Жените като цяло по-често прибягват до ползването на диети спрямо мъжете и по-малко се упражняват физически. Експериментът, на който били подложени мъжете и жените доброволци е бил да стоят гладни осемнайсет часа, а през това време е трябвало да изпълняват различни физически натоварвания. [img] => http://site.com/attachments/stories-photos/0157/1899/thumb_medium/koy-palnee-po-barzo-zhenite-ili-mazhete.jpg?1341817785 ) [11] => Array ( [link] => http://site.com/1572003-vnimanie-skriti-maznini [title] => SimpleXMLElement Object ( [0] => Внимание: Скрити мазнини ) [pubDate] => SimpleXMLElement Object ( [0] => Tue, 10 Jul 2012 08:35:01 +0300 ) [description] => В стремежа си да не пълнеем си купуваме само обезмаслено мляко и напълно се отказваме от кравето масло, но често напълно забравяме за продуктите, съдържащи т.нар. скрити мазнини. Изчислено е, че 25-30 г мазнини е дневният максимум за хората с наднормено тегло. Именно това количество е достатъчно на организма за обменните процеси, строежа и обновяването на клетките. [img] => http://site.com/attachments/stories-photos/0157/2003/thumb_medium/vnimanie-skriti-maznini.jpg?1341819984 ) [12] => Array ( [link] => http://site.com/1572223-9-yuli-mozhe-da-e-den-na-internet-sriv [title] => SimpleXMLElement Object ( [0] => 9 юли може да е ден на интернет срив ) [pubDate] => SimpleXMLElement Object ( [0] => Tue, 10 Jul 2012 08:20:01 +0300 ) [description] => Ако днес не сте успели да влезете в интернет от личния  или от служебния си компютър, то може би сте жертва на вирус.Както Медиапул информира, според редица експерти днешният 9 юли 2012 година, може да се окаже ден на изпитание за интернет потребителите. Денят  на Страшния съд за интернет, го нарича не на шега в. "Кориере дела сера". Десетки хиляди хора, чиито компютри са били заразени с вирус, открит през 2007 г. и наречен DNS Changer, са заплашени да не могат да влязат в интернет след 4 ч. по Гринуич тази нощ, този вирус отклонявал трафика към незаконни, учишлено манипулирани сайтове, така че киберпиратите да могат да "оберат" потребителите.  9 юли 2012 е денят, в който изтича срока на антивирусната програма , разработена от американското ФБР, посочва Франс прес, цитирана от БТА. Миналият ноември шест киберпирата от естонски произход и един руснак бях обвинени, че са разпространили вируса. Възможно е той да е нанесъл щети на 4 милиона компютри по света. След като конфискува сървър... [img] => http://site.com/attachments/stories-photos/0157/2223/thumb_medium/9-yuli-mozhe-da-e-den-na-internet-sriv.jpg?1341828319 ) [13] => Array ( [link] => http://site.com/1572559-krasivoto-si-e-krasivo-marmalad-net [title] => SimpleXMLElement Object ( [0] => Красивото си е красиво | Marmalad.net ) [pubDate] => SimpleXMLElement Object ( [0] => Tue, 10 Jul 2012 08:15:01 +0300 ) [description] => Добавете ни и във Фейсбук. Приятен и усмихнат ден! :) 09.07.2012г. [img] => http://site.com/attachments/stories-photos/0157/2559/thumb_medium/krasivoto-si-e-krasivo-marmalad-net.jpg?1341845034 ) [14] => Array ( [link] => http://site.com/1571798-dati-za-startirashti-kursove-po-shema-az-moga-poveche [title] => SimpleXMLElement Object ( [0] => Дати за стартиращи курсове по схема Аз Мога Повече ) [pubDate] => SimpleXMLElement Object ( [0] => Mon, 09 Jul 2012 22:55:01 +0300 ) [description] => Ако сте получили своето Уведомление по схема Аз Мога Повече, и търсите одобрен доставчик на обучение от Агенцията по Заетостта, предлагаме на вашето внимание да разгледате курсовете, които стартират през лятото. Успех и на тези, които все още очакват одобрени от Агенцията по Заетостта. Изберете си доставчик на обучение предварително, за да не губите време при одобрение. [img] => http://site.com/attachments/stories-photos/0157/1798/thumb_medium/dati-za-startirashti-kursove-po-shema-az-moga-poveche.jpg?1341813367 ) ) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:19:20.583

I setup [a test case on codepad.org](http://codepad.org/p4BwLdvE) that runs as expected:

```
Count is 15
0 => 1
1 => 2
2 => 3
3 => 4
4 => 5
5 => 6
6 => 7
7 => 8
8 => 9
9 => 0
10 => 1
11 => 2
12 => 3
13 => 4
14 => 5 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:21:15.200

你`$i`从 0 开始。这就是为什么。开始看== 。`$i`_`1``$n``15`

# web-services - 带有 Spring MVC 的 Apache CXF 客户端 - BindingInfo 不是 SOAPBindingInfo

> ID：11410155
> 
> 赞同：0
> 
> 时间：2012-07-10T09:15:17.550
> 
> 标签：web-services, spring, spring-mvc, cxf, dispatcher

我正在开发一个 spring MVC 项目，我需要从中访问一个 web 服务（客户端模式）

我的 Web 服务客户端是一个不同的 maven 项目，它在 JUnit 测试用例中运行良好。

当我将此作为依赖项添加到我的 Spring MVC 项目并访问 jar 文件时，我收到以下异常。

```
Jul 10, 2012 2:40:09 PM org.apache.catalina.core.StandardWrapperValve invoke
SEVERE: Servlet.service() for servlet [rest] in context with path [/mdot] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: Can not initialize SoapBinding, BindingInfo is not SoapBindingInfo] with root cause
java.lang.RuntimeException: Can not initialize SoapBinding, BindingInfo is not SoapBindingInfo
    at org.apache.cxf.binding.soap.SoapBindingFactory.createBinding(SoapBindingFactory.java:385)
    at org.apache.cxf.endpoint.EndpointImpl.createBinding(EndpointImpl.java:135)
    at org.apache.cxf.endpoint.EndpointImpl.<init>(EndpointImpl.java:82)
    at org.apache.cxf.jaxws.support.JaxWsEndpointImpl.<init>(JaxWsEndpointImpl.java:125)
    at org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.createEndpoint(JaxWsServiceFactoryBean.java:235)
    at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.createEndpoints(ReflectionServiceFactoryBean.java:328)
    at org.apache.cxf.service.factory.ReflectionServiceFactoryBean.create(ReflectionServiceFactoryBean.java:260)
    at org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.create(JaxWsServiceFactoryBean.java:202)
    at org.apache.cxf.frontend.AbstractWSDLBasedEndpointFactory.createEndpoint(AbstractWSDLBasedEndpointFactory.java:101)
    at org.apache.cxf.frontend.ClientFactoryBean.create(ClientFactoryBean.java:90)
    at org.apache.cxf.frontend.ClientProxyFactoryBean.create(ClientProxyFactoryBean.java:153)
    at org.apache.cxf.jaxws.JaxWsProxyFactoryBean.create(JaxWsProxyFactoryBean.java:151)
    at org.apache.cxf.jaxws.ServiceImpl.createPort(ServiceImpl.java:464)
    at org.apache.cxf.jaxws.ServiceImpl.getPort(ServiceImpl.java:331)
    at org.apache.cxf.jaxws.ServiceImpl.getPort(ServiceImpl.java:318)
    at javax.xml.ws.Service.getPort(Service.java:119)
    at com.test.wsdl.MyWebServiceSOAP_Service.getMyWebServiceSOAPPort(MyWebServiceSOAP_Service.java:63) 
```

我刚刚发现我的 mvc 项目中已经运行了一个 cxf 总线。

```
 <cxf:bus>
    <cxf:features>
        <cxf:logging />
    </cxf:features>
</cxf:bus> 
```

我找不到任何额外的配置，但我认为一些 REST 服务拦截器正在参与我的 SOAP 服务客户端或其他类似的冲突。任何的想法 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T11:45:14.750

我将代码从以编程方式创建 Web 服务更改为使用 spring，例如：

```
 <jaxws:client id="helloClient"
                  serviceClass="demo.spring.HelloWorld"
                  address="http://localhost:9002/HelloWorld" /> 
```

它也开始在集成项目中工作。但是我还不明白原因。如果有人能告诉我原因，那将很有帮助。

谢谢。

# php - 如何调整 file_get_contents 检索到的图像大小并将其保存在文件夹中？

> ID：11410156
> 
> 赞同：0
> 
> 时间：2012-07-10T09:15:21.467
> 
> 标签：php, file-get-contents

我想从 URL 中检索图像，调整其大小并将其保存到文件夹。

我有这段代码可以从 url 检索图像：

```
$url = 'http://www.example.com/image/test.jpg';
$img = 'images/newtest.jpg';    
file_put_contents($img, file_get_contents($url)); 
```

问题是在做之前`file_put_contents`，我想调整图像大小。我怎么能用php做到这一点？请帮助我，我在互联网上搜索过，但最终解释不清楚。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:24:25.560

如果你的服务器上安装了 imagemagick，你可以这样做......

```
$url = 'http://www.example.com/image/test.jpg';
$img = 'images/newtest.jpg';    
file_put_contents($img, file_get_contents($url));    
$image = new Imagick( $img );
    $imageprops = $image->getImageGeometry();
    if ($imageprops['width'] <= 200 && $imageprops['height'] <= 200) {
        // don't upscale
    } else {
        $image->resizeImage(200,200, imagick::FILTER_LANCZOS, 0.9, true);
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:18:39.087

You can use the [GD2](http://php.net/manual/en/book.image.php) or [ImageMagick](http://php.net/manual/en/book.imagick.php) libraries.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T09:24:29.763

您需要查看[GD Image Processing Library](http://www.php.net/manual/en/book.image.php)的文档，尤其是[`imagecreatefromjpeg()`](http://php.net/manual/en/function.imagecreatefromjpeg.php)函数。

一个实现这个技巧的示例函数如下所示：

```
function resize_jpeg( $original_image, $new_height, $new_width, $filename )
{  
   // Resize the original image
   $image_resized = imagecreatetruecolor($new_width, $new_height);
   $image_tmp = imagecreatefromjpeg ($original_image);
   imagecopyresampled($image_resized, $image_tmp, 0, 0, 0, 0, $new_width, $new_height, $width, $height);

   // Output
   imagejpeg($image_resized, $filename.".jpg", 100);
   imagedestroy($image_resized);
} 
```

该函数基本上创建一个具有新高度的图像参考，加载旧高度，然后重新采样。而不是`jpeg`你可以使用`png`and `gif`too。请小心，因为*GD*无法正确重新采样动画 GIF 文件。

`original_image`是要加载的图像的**文件路径**。`new_width`和`new_height`分别是目标宽度和高度的整数。`filename`是目标文件名，`.jpg`在本例中没有扩展名。

# ruby - 在 sublime text 2 中执行 Ruby 代码

> ID：11410158
> 
> 赞同：34
> 
> 时间：2012-07-10T09:15:26.613
> 
> 标签：ruby, sublimetext2

如何使用 ST2 运行 Ruby 文件并查看输出？我想我应该使用 build 命令。但如果我有这个：

```
def foobar
  "hello world"
end

puts foobar 
```

然后按 cmd + shift + b。我所看到的只是

```
[Finished in 0.1s] 
```

在 textmate 中，我可以使用 cmd + r （运行命令）并查看 ruby​​ 脚本的所有输出。

我错过了什么？

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-07-10T10:27:15.287

我没有保存文件。这就是为什么它不起作用。要运行文件而不先保存它（如 TextMate），您应该尝试使用 Anypreter 插件。

* * *

## 回答 #2

> 赞同：32
> 
> 时间：2012-07-10T09:32:02.490

我在这里使用 Windows，但请确保您选择了正确的构建系统：“工具 > 构建系统 > Ruby”，然后只需按 CTRL+B

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-08-30T15:16:40.790

供将来参考，希望它可以帮助某人：

我带着同样的问题来到这里。（在 Sublime Text 3 中）我遵循了答案：

*   选定的红宝石扩展（窗口右下角）
*   在菜单栏中选择：工具 > 构建系统 > Ruby
*   用名字保存文件
*   按下命令 + b

仍然看到：

`[Finished in 0.1s]`

最后（愚蠢的）问题是：控制台窗口只有一行大。所以我只看到了最后一行，也就是注释：

`[Finished in 0.1s]`

**解决方案：使控制台窗口更大**等等。我找不到任何设置。所以最后我用鼠标 [截图 Sublime Text 3 - 裁剪](https://i.stack.imgur.com/0W36z.png)

注意光标（和红宝石扩展）

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-09-28T17:55:27.503

总之，默认情况下（安装后）Sublime 文本具有“自动”构建系统，您应该将其更改为 ruby​​ 或您使用的任何语言。保存文件并按 ctrl + b（在 Windows 上） - 应该将输出运行到 ST 控制台。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-07-28T06:55:10.820

输入 control + ` （键盘上接近数字 1 的键，因此它将打开 sublime 文本底部的新窗口，您可以在其中输入 ruby​​ 代码并查看结果），但请确保您已正确安装 ruby​​ 并从终端设置路径

# jsf-2 - JSF 2.0 Flash 范围 - cookie 路径

> ID：11410161
> 
> 赞同：1
> 
> 时间：2012-07-10T09:15:42.723
> 
> 标签：jsf-2, servlet-filters, flash-scope

我一直在为 JSF 2.0 中的 Flash-scope（我知道它不像其他“范围”，但通常被称为一个）而苦苦挣扎。（莫哈拉）

我的问题是 flash-cookie 绑定到将对象放入 flash 中的视图路径。
这导致对象在重定向到同一应用程序中的不同路径后不可用。我们需要在重定向导航的另一端有可用的字符串（可能还有对象）。

我已经实现了一个`@WebFilter`目的是覆盖它并用`ServletResponse`以下包装器替换它。

```
private class ResponseWrapper extends HttpServletResponseWrapper{

    private final String path;

    public ResponseWrapper(HttpServletResponse response, String contextpath) {
        super(response);
        this.path = contextpath;
    }

    @Override
    public void addCookie(Cookie cookie) {

        // Hardcoded name from jsf-impl # com.sun.faces.context.flash.ELFlash  
        final String FLASH_COOKIE_NAME = "csfcfc";

        if (cookie.getName().equals(FLASH_COOKIE_NAME)){
            cookie.setPath(path);
        }
        super.addCookie(cookie);
    }

} 
```

实际上，此包装器将修改要绑定到应用程序上下文根的 flash-cookie。

我的问题是这是否会导致我不监督的其他问题。
我无法理解为什么`Flash`应该首先绑定到视图的路径。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-19T15:40:24.780

您的假设之​​一是不正确的：

> 是 flash-cookie 绑定到将对象放入 flash 中的视图的路径。

事实证明，Flash 作用域在重定向中幸存下来，只有一次。

> 换句话说，放置在 Flash 范围内的对象将在重定向后继续存在。 [http://mkblog.exadel.com/2010/07/learning-jsf2-using-flash-scope/](http://mkblog.exadel.com/2010/07/learning-jsf2-using-flash-scope/)

如果你弄乱了 cookie 和过滤器，你可能做错了什么。JSF 将这些概念抽象出来，因此您可以只使用 POJO 来完成您的工作。不要乱用 Java EE cookie，你会做比你需要做的更多的工作，而且你会立即创建非常脆弱的代码。

要使用 flash 范围，请像这样获取对它的引用：

```
Flash flash = FacesContext.getCurrentInstance().getExternalContext().getFlash(); 
```

放在：

```
flash.put("myObject", myObject); 
```

要得到：

```
Object myObject = flash.get("myObject"); 
```

您的 hack 会导致 JSF 出现问题吗？我可以肯定地说，如果不是现在，那么稍后当您尝试升级 Mojarra、使用不同的容器或切换到 MyFaces 时。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T17:41:40.037

这并不能真正回答您的问题，但请查看此问题和注释 -[在 post 在 JSF2 flash 范围中设置值后，在对页面的第二次 GET 请求时再次可见（Flash 范围被认为是有害的）](https://stackoverflow.com/questions/6705669/after-post-is-setting-a-value-in-jsf2-flash-scope-it-is-visible-again-on-second)

也许您应该改用[RenderScoped](http://docs.jboss.org/seam/3/faces/latest/reference/en-US/html/scopes.html#RenderScoped)（如果适用）？

# xcode - 如何从 Phonegap iOS 项目中删除未使用的框架和库？

> ID：11410162
> 
> 赞同：2
> 
> 时间：2012-07-10T09:15:42.837
> 
> 标签：xcode, ios5, cordova, phonegap-plugins

在一个空的 Phonegap/Cordava iOS 项目中，大约有 10 个链接库和框架（MediaPlayer、AddressBook 等）。我只使用核心位置框架，当我尝试删除其他框架时，构建失败。如何删除不必要的插件和框架？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T10:01:43.080

您可以尝试在“YourAppName/Supporting Files/Cordova.plist”中删除它们。当你在 Xcode 中打开文件时，你会看到一个 Dictionary “Plugins”。您可以通过删除字典中的字符串来删除未使用的框架。

# c++ - 理解一些疯狂的 C/C++ 声明

> ID：11410165
> 
> 赞同：6
> 
> 时间：2012-07-10T09:15:52.630
> 
> 标签：c++, c

> **可能重复：**
> [如何理解复杂的函数声明？](https://stackoverflow.com/questions/1448849/how-to-understand-complicated-function-declarations)

考虑：

```
char (*(*x())[5])() 
```

我如何剖析这个表达？

我认为它是一个返回大小为 5 的数组的函数，其成员是指向不接收输入并返回 char 的函数的指针。

我对吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-10T09:21:31.690

搜索“左右规则”

在你的情况下，它应该是：

```
 x          : x is a
         x()        : function
        *x()        : returning pointer to
       (*x())[5]    : a 5-element array of 
      *(*x())[5]    : pointer to
     (*(*x())[5])() : function
char (*(*x())[5])() : returning char 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-07-10T09:20:15.970

这些天我在 Stack Overflow 上看到了很多奇怪的声明。

当我懒惰时，我使用[cdecl.org](http://cdecl.org/)：

> “将 x 声明为函数返回指向数组 5 的指针的函数返回 char 的指针”

如果没有，则有[顺时针螺旋规则](http://c-faq.com/decl/spiral.anderson.html)。**<-*太棒了***

# mongodb - 在 mongodb 中导出存储为 Bindata 的文本

> ID：11410170
> 
> 赞同：0
> 
> 时间：2012-07-10T09:16:10.460
> 
> 标签：mongodb, text

我有一个相当大的数据集合，由第三方制作，它包含一个 Bindata“包”列，其中实际存储了纯 ASCII。我的意思是，他们可以将文本存储为字符串。

我必须以 csv 格式导出这个集合，这与 mongoexport 配合得很好，但输出包含“包”列的 base64 编码值。我需要该列中的实际文本，而不是`BinData(0,\"NDYuN.....==")`.

到目前为止，我尝试使用新列“rawData”更新集合，如下所示：

```
db.segments.find({"_id" : ObjectId("4fc79525f65181293930070b")}).forEach(function(data) {
  db.segments.update(
     {_id:data._id},
     {$set:{ "rawData" : data.package.toString() }}
  );
}); 
```

在我做对之前，我将查找限制在一个文档中。不幸的是 toString 并没有达到我期望的效果。

另外，我试过这个：

```
db.segments.find({"_id" : ObjectId("4fc79525f65181293930070b")}).forEach(function(data){
  data.package = new String(data.package);
  db.segments.save(data); 
}); 
```

结果更糟。

如果我用 php 读取文档，`$response = $db->execute('return db.segments.findOne()');`那么`print_r($response)`，我可以验证数据是否正确存储，如 base64。

我在任何地方都找不到解决方案，也许是因为没有人需要做像这样愚蠢的事情。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-10T18:22:29.437

JavaScript BinData 对象具有`base64()`和`hex()`方法，您可以使用它们来接收相应格式的字符串。至于将这些值解码为 JS 中的文本字符串，您有一些选择：

*   [如何使用 JavaScript 进行 base64 编码和解码？](https://stackoverflow.com/questions/2820249/how-do-i-base64-encode-and-decode-using-javascript)
*   [如何在 JavaScript 中将十六进制转换为 ASCII](https://stackoverflow.com/questions/3745666/how-to-convert-from-hex-to-ascii-in-javascript)

根据[BSON 规范](http://bsonspec.org/#/specification)，二进制数据字段由 32 位整数长度、子类型和字节数组组成。JS 中返回的 base64 和十六进制表示形式包含以整数长度为前缀的字节数组。这意味着在解码这些值之后，我们需要去掉前四个字节。这是使用这两个选项的示例：

```
// https://stackoverflow.com/a/3058974/162228
function decode_base64(s) {
    var e={},i,k,v=[],r='',w=String.fromCharCode,u=0;
    var n=[[65,91],[97,123],[48,58],[43,44],[47,48]];

    for(z in n){for(i=n[z][0];i<n[z][1];i++){v.push(w(i));}}
    for(i=0;i<64;i++){e[v[i]]=i;}
    function a(c){
      if(c<128)r+=w(c);else if(c>=192)u=c;else r+=w(((u&31)<<6)+(c&63));
    }

    for(i=0;i<s.length;i+=72){
        var b=0,c,x,l=0,o=s.substring(i,i+72);
        for(x=0;x<o.length;x++){
            c=e[o.charAt(x)];b=(b<<6)+c;l+=6;
            while(l>=8)a((b>>>(l-=8))%256);
        }
    }
    return r;
}

// https://stackoverflow.com/a/3745677/162228
function hex2a(hex) {
    var str = '';
    for (var i = 0; i < hex.length; i += 2)
        str += String.fromCharCode(parseInt(hex.substr(i, 2), 16));
    return str;
}

db.segments.find().forEach(function(doc){
    print(decode_base64(doc.package.base64()));
});

db.segments.find().forEach(function(doc){
    print(hex2a(doc.package.hex()));
}); 
```

这是我用来插入一些夹具数据的一个小的 PHP 脚本：

```
<?php

$mongo = new Mongo();
$c = $mongo->selectCollection('test', 'segments');
$c->drop();

$c->save(['package' => new MongoBinData('foo')]);
$c->save(['package' => new MongoBinData('bar')]);

foreach ($c->find() as $doc) {
    printf("%s\n", $doc['bindata']->bin);
} 
```

根据数据集的大小，在 PHP 中进行二进制字段转换可能更合理。如果您确实想使用 JavaScript，我肯定会建议通过 shell 客户端而不是 执行脚本`db.eval()`，这样您就不会使用长时间运行的 JS 函数来锁定数据库。

# python - 如何使用 xmpppy 发送数据？

> ID：11410171
> 
> 赞同：2
> 
> 时间：2012-07-10T09:16:12.337
> 
> 标签：python, xmpp, xmpppy

如何使用此方法通过 xmpppy 发送数据：http: [//xmpp.org/extensions/xep-0047.html#send](http://xmpp.org/extensions/xep-0047.html#send)

我想我应该使用 IBB 类，但不知道该怎么做。 [http://xmpppy.sourceforge.net/apidocs/](http://xmpppy.sourceforge.net/apidocs/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-11T06:28:30.857

首先，如果您使用的是 GoogleTalk，请确保发送者在接收者的名单上。接下来，在发送方：

```
from xmpp import *
cl=Client('example.com')
cl.connect()
cl.auth('sender', 'sender_pass')
ibb = filetransfer.IBB()
ibb.PlugIn(cl)

f = open('/tmp/foo')
ibb.OpenStream('123', 'receiver@example.com/resource', f) 
```

如果您没有先正确执行[XEP-95](http://xmpp.org/extensions/xep-0095.html) / [XEP-96](http://xmpp.org/extensions/xep-0096.html) ，则流 ID 是什么并不重要。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-11T09:26:49.513

我认为是这样的：

```
import StringIO
...
output = StringIO.StringIO()
output.write('String data')
output.close()

client.OpenStream('123', 'receiver@example.com/resource', output) 
```

# ios - 在 Cocos2d 中下载 SDWebImage 后打开 GL 错误

> ID：11410172
> 
> 赞同：2
> 
> 时间：2012-07-10T09:16:13.430
> 
> 标签：ios, opengl-es, cocos2d-iphone, sdwebimage

我正在使用层的 init 中的 SDWebImage 下载图像。

像这样的东西：

```
 NSURL *thumbnailURL = playerFacebookID.stringValue;        
    [[SDWebImageManager sharedManager] downloadWithURL:thumbnailURL
                                              delegate:self
                                               options:0
                                               success:^(UIImage *image) {
                                                   CCTexture2D *texture = [[CCTexture2D alloc] initWithCGImage:[[image resizeAndCropToSize:CGSizeMake(kThumbnailSizeInPixels, kThumbnailSizeInPixels)] CGImage] resolutionType:kCCResolutioniPhone];
                                                   localPlayerThumbnail.texture = texture;
                                                   [texture release];
                                               }
                                               failure:nil]; 
```

图像可以正常加载并且可以正常工作，但是在块启动后的一段时间内出现了 Open GL 错误，如下所示：

```
OpenGL error 0x0506 in -[CCSprite draw] 544
OpenGL error 0x0506 in -[CCSprite draw] 544
OpenGL error 0x0506 in -[CCTextureAtlas drawNumberOfQuads:fromIndex:] 556
OpenGL error 0x0506 in -[CCTextureAtlas drawNumberOfQuads:fromIndex:] 556
OpenGL error 0x0506 in -[CCSprite draw] 544 
```

现在奇怪的是，即使我删除了块内的代码，基本上 SDWebImageManager 的返回块什么也不做，它仍然给出错误消息。所以它与纹理的加载或任何这些调整大小功能无关。

目前我唯一能想到的是 SDWebImageManager 正在以某种方式改变 Open GL 上下文，或者正在做一些中断 Cocos2d 绘图调用的事情。

# iphone - iPhone - iphone 中的数据源和委托方法是什么？

> ID：11410175
> 
> 赞同：0
> 
> 时间：2012-07-10T09:16:23.140
> 
> 标签：iphone, delegates, datasource

> **可能重复：**
> [数据源和委托之间有什么区别？](https://stackoverflow.com/questions/2232147/whats-the-difference-between-data-source-and-delegate)

我是 iPhone 新手。我对什么是委托和数据源方法以及它们的作用感到困惑。有人可以向我解释这些差异吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:27:13.473

来自 Apple[在 Objective-C 编程](http://developer.apple.com/library/ios/#documentation/General/Conceptual/CocoaEncyclopedia/DelegatesandDataSources/DelegatesandDataSources.html)文档中的概念：

> **委托**委托是一个对象，当该对象遇到程序中的事件时，该对象代表另一个对象或与该对象协作。委托对象通常是响应者对象——即从 AppKit 中的 NSResponder 或 UIKit 中的 UIResponder 继承的对象——它响应用户事件。委托是一个对象，它被委托控制该事件的用户界面，或者至少被要求以特定于应用程序的方式解释该事件。
> 
> 为了更好地理解委托的价值，它有助于考虑一个现成的 Cocoa 对象，例如一个文本字段（NSTextField 或 UITextField 的实例）或表格视图（NSTableView 或 UITableView 的实例）。这些对象旨在以通用方式履行特定角色；例如，AppKit 框架中的窗口对象响应鼠标对其控件的操作并处理诸如关闭、调整大小和移动物理窗口之类的事情。这种受限和通用的行为必然会限制对象对事件如何影响（或将影响）应用程序其他地方的某些东西的了解，尤其是当受影响的行为特定于您的应用程序时。
> 
> 委托的编程机制使对象有机会协调它们的外观和状态与程序中其他地方发生的变化，这些变化通常由用户操作带来。更重要的是，委托使一个对象可以改变另一个对象的行为，而无需从它继承。委托几乎总是您的自定义对象之一，根据定义，它包含通用和委托对象不可能知道的特定于应用程序的逻辑。
> 
> **数据源**
> 
> 数据源类似于委托，不同之处在于，它不是被委托控制用户界面，而是被委托控制数据。数据源是由 NSView 和 UIView 对象（例如表视图和大纲视图）持有的出口，它们需要一个源来填充其可见数据行。视图的数据源通常是充当其委托的同一个对象，但它可以是任何对象。与委托一样，数据源必须实现一种或多种非正式协议的方法，以向视图提供所需的数据，并且在更高级的实现中，处理用户在此类视图中直接编辑的数据。
> 
> 与委托一样，数据源是必须存在才能从请求数据的对象接收消息的对象。使用它们的应用程序必须确保它们的持久性，必要时将它们保留在内存管理代码中。
> 
> 数据源负责将它们分发给用户界面对象的对象的持久性。换句话说，它们负责这些对象的内存管理。但是，每当诸如大纲视图或表格视图之类的视图对象从数据源访问数据时，只要它使用数据，它就会保留这些对象。但它不会使用很长时间的数据。通常它只保留数据足够长的时间来显示它。

# ruby-on-rails - rails中单元测试的问题

> ID：11410176
> 
> 赞同：0
> 
> 时间：2012-07-10T09:16:27.703
> 
> 标签：ruby-on-rails, ruby-on-rails-3, unit-testing

我正在尝试运行我的简单 UserTest

```
require 'test_helper'

class UserTest < ActiveSupport::TestCase

  fixtures :users

  test "user attributes must not be empty" do
    user = users(:valid_user)
    assert user.invalid?
    assert user.errors[:nome].any?
    assert user.errors[:cognome].any?
    assert user.errors[:localita].any?
    assert user.errors[:provincia].any?
    assert user.errors[:nazione].any?
    assert user.errors[:cap].any?
    assert user.errors[:indirizzo].any?
    assert user.errors[:civico].any?
    assert user.errors[:telefono].any?
    assert user.errors[:mail].any?
    assert user.errors[:username].any?
    assert user.errors[:password].any?
  end

end 
```

有了这个 users.yaml

```
valid_user:
  nome: prova
  cognome: prova
  localita: prova
  provincia: prova
  nazione: prova
  cap: 00000
  indirizzo: strada di prova
  civico: 1
  telefono: 1111111111
  mail: prova@prova.com
  username: prova
  password: prova 
```

但它返回此错误：

> 加载套件 /var/lib/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/rake_test_loader 开始 F 0.182523 秒内完成。
> 
> 1）失败：test_user_attributes_must_not_be_empty（UserTest）[../unit/user_test.rb：10]：断言失败，没有给出消息。
> 
> 1 次测试，2 次断言，1 次失败，0 次错误，0 次跳过

有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:21:44.343

好吧，失败的断言是

```
assert user.errors[:nome].any? 
```

这意味着属性没有错误：nome

你为什么断言该属性应该有错误对我来说完全是个谜

也许你想用`errors[:nome].none?`？

# c#-4.0 - “-”用于 NUnit 的 [Category] 名称

> ID：11410181
> 
> 赞同：1
> 
> 时间：2012-07-10T09:16:46.353
> 
> 标签：c#-4.0, nunit

任何人都知道为什么我不能用 NUnit 做以下事情？

```
[Test]
[Category(@"Non-Special Test")] 
```

我以为@之前会解决这个问题。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T09:49:19.383

是的，这是[nUnit 中的已知错误](https://bugs.launchpad.net/nunitv2/+bug/590717)，但您可以将`hyphen-minus ( - )`其替换为`dash ( — )`

例如：

```
[Category(@"Non—Special Test")] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:48:19.190

从 NUnit 2.5.6 开始，不允许使用 和 之类`-`的字符`+`。根据[此错误报告](https://bugs.launchpad.net/nunitv2/+bug/590717)，原因之一是在 NUnit 控制台运行程序参数列表中指定类别时无法识别这些字符。

# php - 基于统计信息选择正确类别的算法用户如何对项目进行分类

> ID：11410185
> 
> 赞同：0
> 
> 时间：2012-07-10T09:16:58.563
> 
> 标签：php, algorithm

我有一个类别有限的系统（大约 20 个）。每个用户都可以将这些类别分配给带有系统的项目（我们称之为`user categories`）。现在我想介绍所谓的`system categories`- 那些是根据用户如何分类的统计数据分配给项目的类别。我面临的问题是如何在以下情况下选择正确的类别：

```
item 1
cat A - 10 users
cat B - 7 users
cat C - 1 users
cat D - 0 users 
```

上面`system categories`的第 1 项应该是：A 或 AB 或 ABC ？

或其他情况：

```
item 2
cat A - 10 users
cat B - 10 users
cat C - 10 users
cat D - 5 users 
```

编辑：浏览后我认为这可以使用轮盘赌选择遗传算法来解决

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T12:06:51.113

[我在一篇文章（如 Buzzfeed 等）中的检测趋势“反应”（一个或多个）中](https://stackoverflow.com/questions/11366837/detect-trending-reactions-one-or-more-in-an-article-like-buzzfeed-and-other/11369635#11369635)回答了一个类似的问题，指出我将对此使用模糊逻辑。

我想向您说明，遗传算法是一种优化方法，它使用模拟进化（主要是繁殖和变异）的算子，而轮盘赌是一种用于选择将应用这些算子的当前解决方案的技术。尽管遗传算法已被用于分类问题，但我相信它们不是您目前所寻求的。

我认为您可能对“选择”一词的使用感到困惑，但我不认为遗传算法及其选择技术都不适用于这里。

# android - Android：多次注册一个接收器

> ID：11410187
> 
> 赞同：2
> 
> 时间：2012-07-10T09:17:02.667
> 
> 标签：android, notifications, broadcastreceiver, download-manager

我正在使用`DownloadManaegr`该类从服务器下载一个 Android 应用程序。下载完成时注册广播接收器。当`DownloadManager.ACTION_DOWNLOAD_COMPLETE`收到意图时，会显示一个条形通知。要安装应用程序，应单击通知。这就是我正在做的事情：

```
 DownloadManager dm = (DownloadManager) DownloadApplicationActivity.this.getSystemService(Context.DOWNLOAD_SERVICE);
    DownloadManager.Request req = new DownloadManager.Request(Uri.parse(MY_LINK));
    req.setTitle(MY_TITLE)
                    .setDescription("Downloading ....")
                    // download the package to the /sdcard/downlaod path.
                    .setDestinationInExternalPublicDir(
                            Environment.DIRECTORY_DOWNLOADS,
                            MY_PATH);
            long enqueue = dm.enqueue(req);
    registerReceiver(receiver, new IntentFilter(0DownloadManager.ACTION_DOWNLOAD_COMPLETE));        

    BroadcastReceiver receiver= new BroadcastReceiver() {
    @Override
    public void onReceive(Context context, Intent intent) {
        String action = intent.getAction();
        if (DownloadManager.ACTION_DOWNLOAD_COMPLETE.equals(action)) {
int id = 0;
            Query query = new Query();
            query.setFilterById(enqueue);
            Cursor c =dm.query(query);
            if (c.moveToFirst()) {
                int columnIndex = c.getColumnIndex(DownloadManager.COLUMN_STATUS);
                if (DownloadManager.STATUS_SUCCESSFUL == c.getInt(columnIndex)) {
                    // show a notification bar.
                    NotificationManager notificationManager = (NotificationManager) this.getSystemService(Context.NOTIFICATION_SERVICE);
                    Notification notification = new Notification(R.drawable.icon,"",System.currentTimeMillis());

                    notification.flags |= Notification.FLAG_AUTO_CANCEL;
                    notification.flags |= Notification.FLAG_NO_CLEAR;
                    Intent i = new Intent(Intent.ACTION_VIEW);
                    // when the notification is clicked, install the app.
                            i.setDataAndType(Uri.fromFile(new File(Environment
                                    .getExternalStorageDirectory() + APP_PATH)),"application/vnd.android.package-archive");
                            PendingIntent pendingIntent = PendingIntent.getActivity(
                                    activity, 0, i, 0);
                            notification.setLatestEventInfo(activity, MY_TEXT, MY_TEXT,pendingIntent);
                            notification.number += 1;
                            notificationManager.notify(id++, notification);
                   }
            }           
    }; 
```

同时下载两个应用时，只显示一个通知-第二个通知-。我错过了第一个。为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:22:48.507

因为您在您的情况下使用相同的 id 即“0”调用通知，并且文档说它每次都应该是唯一的。

我认为你应该每次都给出不同的数字来代替 0。

```
notificationManager.notify( 0, notification); 
```

以下是文件所说的..

```
public void notify (int id, Notification notification) 
```

发布要在状态栏中显示的通知。**如果您的应用程序已经发布了具有相同 id 的通知并且尚未取消，它将被更新的信息替换。**

# asp.net - 如何从 aspx 页面访问 httpapplicationcontext 变量？

> ID：11410190
> 
> 赞同：1
> 
> 时间：2012-07-10T09:17:12.270
> 
> 标签：asp.net, vb.net, c#-4.0

我使用以下代码在我的 Global.asax.cs 文件中创建了一个应用程序变量：-

```
protected void Application_Start(Object sender, EventArgs e)
{    
    Application["Visitors"] = 0;
}

protected void Session_Start(Object sender, EventArgs e)
{
     Application.Lock(); 
     Application["Visitors"] = Convert.ToInt32(Application["Visitors"]) + 1;
     Application.UnLock();
}

protected void Session_End(Object sender, EventArgs e)
{
     Application["Visitors"] = Convert.ToInt32(Application["Visitors"]) - 1;
} 
```

现在我想在我的**Classic aspx 页面**`Application["Visitor"]`中使用这个变量。我正在为此编写以下代码，但它给了我错误：-

 **```
Sub window_onLoad ()

     dim i 
     i= Application["Visitors"].ToString()

End sub 
```

你能帮我在不同的aspx页面上使用这个变量吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:23:35.153

如果您使用的是 vb.net，请使用必须使用 () 括号而不是 []：

```
Sub window_onLoad ()
 dim i 
 i= Application("Visitors").ToString()
End sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:02:04.683

您是否尝试`Application`在客户端 VB 脚本上获取服务器端值？是这样吗？比我认为这是不可能的，你将不得不在服务器端代码中做到这一点。**

# qt - 用 QTableWidget 中的表格小部件项目替换组合框

> ID：11410201
> 
> 赞同：0
> 
> 时间：2012-07-10T09:17:51.457
> 
> 标签：qt

我在我的应用程序的 QTableWidget 的一个单元格中有一个组合框小部件。用户在组合框中选择一个选项后，我想将选定的文本设置为同一单元格中的 QTableWidgetItem （其中存在组合框）。所以我想用一个表格小部件项目替换现有的组合框。调用表小部件的 removeCellWidget 似乎删除了组合框。如何在不实际删除组合框对象的情况下实现此效果？

谢谢，拉克什。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:35:26.790

使用[takeItem](http://qt-project.org/doc/qt-4.8/qtablewidget.html#takeItem)。它从表中删除项目而不删除它。

# javascript - 在 Sqlite 中创建表之前是否必须删除表？

> ID：11410202
> 
> 赞同：0
> 
> 时间：2012-07-10T09:17:54.760
> 
> 标签：javascript, sql, sqlite, cordova

当我初始化我的 Sqlite 数据库时，我将其设置如下：

```
 var db = window.openDatabase("Database", "1.0", "Cordova Demo", 20000);
 db.transaction(populateDB, errorCB, successCB);
 function populateDB(tx) {
tx.executeSql('DROP TABLE IF EXISTS TimeTable');
tx.executeSql('CREATE TABLE IF NOT EXISTS TimeTable (id  INTEGER PRIMARY KEY      AUTOINCREMENT, Day, Subject, StartingTime, EndingTime)');} 
```

现在，我不希望每次调用此函数时都删除表。但是当我删除这一行时：

```
tx.executeSql('DROP TABLE IF EXISTS TimeTable'); 
```

错误显示：

```
[INFO] Error processing SQL: 1 
```

有解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:28:32.240

您可以尝试那里发布的解决方案：

[phoneGap Android - 填充数据库一次“错误处理 SQL：1”](https://stackoverflow.com/questions/10942971/phonegap-android-populate-database-once-error-processing-sql1)

# iphone - Memory Warning error from Cache Images

> ID：11410203
> 
> 赞同：-2
> 
> 时间：2012-07-10T09:17:56.433
> 
> 标签：iphone, crash

I am storing high resolution images in iPhone cache . I am getting Memory warning and the app is crashing.

Please help me how to handle crash ?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:49:06.953

您可以缩小图像尺寸并保存。以下方法减小了图像的大小。
NSData *imageData = UIImageJPEGRepresentation(YOUR_IMAGE_OBJECT, 0.0);
第二个参数决定图像的质量和大小。它从 0.0 变为 1.0。
请试试这个

# bpel - 如果在一定时限内没有完成，如何终止一段时间？

> ID：11410204
> 
> 赞同：0
> 
> 时间：2012-07-10T09:18:00.660
> 
> 标签：bpel

假设我们在 BPEL 中有一个 while 循环

```
<while>...<while> 
```

如果10s内没有完成，是否可以终止它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T13:33:06.813

不，虽然活动不能声明超时。你可以做的是：

*   在循环中使用一个`<pick>`活动并添加一个`<onAlarm>`等待 10 秒的元素。但不确保任何消息处理时间不得超过 10 秒。
*   将`<scope>`with添加`<wait>`到您的循环中，并将处理添加到带有立即开始的 onAlarm 元素的事件处理程序。如果我没记错的话，事件处理程序将与范围一起终止。当等待活动返回时会发生这种情况，因此实际上事件处理程序中的所有活动也应该终止。我从来没有试过这个，所以我不确定这是否有效。

# java - 为什么 Object#wait 不是 Display.asyncExec 或 Display.asyncExec 的“合理机会”？

> ID：11410213
> 
> 赞同：0
> 
> 时间：2012-07-10T09:18:37.687
> 
> 标签：java, multithreading, swt

我试图在阅读 excel 文件时显示进度。我共享一个包含最大行号和读取的最后一个行号的对象。每 150 行我将值保存在我的对象中，我让它等待并且我的读取停止，直到对象被解锁。

在我的对话窗口中，我尝试`ProgressBar`使用对象中的值更新 using syncExec 或 asyncExec 方法。并且在调用方法后对象被解锁。

我知道这些方法正在等待最“合适”的场合在那里运行可运行文件。但是我似乎不明白的是，如果在调用这些方法时没有任何运行，为什么不执行这些方法？

我的实际情况是，asyncExec 仅在读取过程结束时更新 ProgressBar，synExec 挂起应用程序，因为它在 Object#wait 运行时无法执行。

感谢阅读，更感谢您的回答。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:25:53.257

下一个合理的机会发生在您的 runnable 到达事件循环队列的头部时。事件循环一直在运行，同时有可运行的对象在其中等待。我怀疑你正在死锁事件循环的线程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:26:52.303

**1.**不要使用等待，而是尝试使用java.util.concurrent包中的**CountDownLatch 。**

**2.**根据完成的工作更新进度条。

**3.**我希望你一次只看一张 Excel 表格。所以让**CountDownLatch 只设置 1 个计数器。**

**4.** excel 表读取完成后，**计数器变为 0，await() 方法之后的代码将执行。在这里，您将关闭对话框。**

**检查此链接：**

[http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/CountDownLatch.html](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/CountDownLatch.html)

# c++ - C++ vector memory errors for a start/stop sorting algorithm

> ID：11410218
> 
> 赞同：0
> 
> 时间：2012-07-10T09:19:07.220
> 
> 标签：c++, stl, vector, simulation

I have two problems, first the below code is quitting randomly because of a memory or uninitialized place error, I just can't see it. second, I'm not sure that the algorithm is correct. (The algorithm is suppose to simulate the [Hanbury Brown Twiss](http://en.wikipedia.org/wiki/Hanbury_Brown_and_Twiss_effect) photonics experiment for anyone who cares)

The vectors are made up of linearly increasing time stamps, where the stop signal is delayed by 180 seconds, if the i_th start signal is less than the i_th stop signal, the timer starts, ignoring all start signals until the timer meets a stop signal, and vica versa, if the timer is stopped, all stops should be ignored until a start is registered. The code should then [bucket sort](http://en.wikipedia.org/wiki/Bucket_sort) the time difference between these start/stops.

-If there is a name for this kind of sort please post it below.

The below code takes these filled vectors and tries to simulate this process. but I cant figure out what wrong with the memory issues before I get back to fixing the algorithm.

this is the code I have that doesn't work all the time, it works for start/stop vectors smaller than 10,000 double, but I need it to iterate through up to 100,000 doubles.

```
 while( starts.size() > 5 && stops.size() > 5 ){
      if( start.at(0) >= stop.at(0) ){
         thisStart = starts.at(0);
      }
      j=0;
      while( stops.at(j) <= starts.at(0) ){
         j++;
      }
      stops.erase(stops.begin(), stops.begin() + j + 1 );
      thisStop = stops.at(0);
      j=0;
      while( starts.at(j) <= thisStop){
         j++;
      }
      starts.erase(starts.begin(), starts.begin() + j+1 );
      bucketSort(thisStop - thisStart, bins, &counts);
   } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:28:50.523

```
while( stops.at(j) <= starts.at(0) ){
         j++;
      } 
```

如果没有找到`stops`小于或等于的元素，此循环将超出范围`starts[0]`。将`out_of_range`抛出异常，这`at()`就是应该做的。我不知道这是否是你的问题，因为你没有具体说明你得到什么样的错误，但这肯定是要寻找的东西。

您可能希望有这样的条件：

```
while (j < stops.size() && stops[j] <= starts[0]) { ... } 
```

# wcf - WCF 访问被拒绝

> ID：11410219
> 
> 赞同：-2
> 
> 时间：2012-07-10T09:19:13.720
> 
> 标签：wcf

我有一台带有本地化 WCF 服务的 PC，我可以在 C# 程序中添加对该服务的引用。但是，当我运行该程序时，我收到拒绝访问错误。除了拒绝访问之外，我没有得到任何其他信息。

有没有人对做什么有任何建议。我有另一台机器，它的设置看起来相同，但能够连接到同一台机器上的本地化版本。我已经查看了其他已经发布的问题，但似乎没有什么是正确的。

已编辑……

```
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
<system.diagnostics> 
       <sources> 
            <source name="System.IdentityModel" switchValue="All"> 
                <listeners> 
                    <add type="System.Diagnostics.DefaultTraceListener" name="Default"> 
                        <filter type="" /> 
                    </add> 
                    <add name="IdentityModelListener"> 
                        <filter type="" /> 
                    </add> 
                </listeners> 
            </source> 
        </sources> 
        <sharedListeners> 
            <add initializeData="C:\Tracing\App_identitymodellog.svclog"                    type="System.Diagnostics.XmlWriterTraceListener, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" 
         name="IdentityModelListener" traceOutputOptions="Timestamp, Callstack">
            <filter type="" /> 
        </add> 
    </sharedListeners> 
    <trace autoflush="true" /> 
</system.diagnostics> 
    <system.web>
<compilation debug="true" targetFramework="4.0">
        <assemblies></assemblies></compilation>
        <identity impersonate="true" userName="domain\username" password="password" />
    <hostingEnvironment shadowCopyBinAssemblies="false"/>
<trust level="Full" /> 
</system.web>
<system.serviceModel>
    <bindings>
        <basicHttpBinding>
            <binding closeTimeout="00:01:00" openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00" allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard" maxBufferSize="2147483647" maxBufferPoolSize="524288" maxReceivedMessageSize="2147483647" messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered" useDefaultWebProxy="true">
                <readerQuotas maxDepth="32" maxStringContentLength="2147483647" maxArrayLength="16384" maxBytesPerRead="4096" maxNameTableCharCount="16384" />
                <security mode="None">
                    <transport clientCredentialType="None" proxyCredentialType="None" realm="" />
                    <message clientCredentialType="UserName" algorithmSuite="Default" />
                </security>
            </binding>
        </basicHttpBinding>
    </bindings>
    <behaviors>
        <serviceBehaviors>
            <behavior>
                <serviceMetadata httpGetEnabled="true" />
                <serviceDebug includeExceptionDetailInFaults="false" />
            </behavior>
        </serviceBehaviors>
    </behaviors>
    <serviceHostingEnvironment multipleSiteBindingsEnabled="true" />
</system.serviceModel>
<system.webServer>
    <modules runAllManagedModulesForAllRequests="true" />
    <validation validateIntegratedModeConfiguration="false" />
</system.webServer> 
```

app.config 是：-

```
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <system.serviceModel>
<bindings>
  <basicHttpBinding>
    <binding name="BasicHttpBinding_IService" closeTimeout="00:01:00"
      openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
      allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard"
      maxBufferSize="65536" maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
      messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
      useDefaultWebProxy="true">
      <readerQuotas maxDepth="2147483647" maxStringContentLength="2147483647"
        maxArrayLength="2147483647" maxBytesPerRead="2147483647" maxNameTableCharCount="2147483647" />
      <security mode="None">
        <transport clientCredentialType="None" proxyCredentialType="None"
          realm="" />
        <message clientCredentialType="UserName" algorithmSuite="Default" />
      </security>
    </binding>
    <binding name="BasicHttpBinding_IService1" closeTimeout="00:01:00"
      openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
      allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard"
      maxBufferSize="65536" maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
      messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
      useDefaultWebProxy="true">
      <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
        maxBytesPerRead="4096" maxNameTableCharCount="16384" />
      <security mode="None">
        <transport clientCredentialType="None" proxyCredentialType="None"
          realm="" />
        <message clientCredentialType="UserName" algorithmSuite="Default" />
      </security>
    </binding>
  </basicHttpBinding>
</bindings>
<client>
  <endpoint address="http://localhost:2745/ActDemo/Service.svc"
    binding="basicHttpBinding" bindingConfiguration="BasicHttpBinding_IService"
    contract="ActWS.IService" name="BasicHttpBinding_IService" />
  <endpoint address="http://localhost/ActDemo/Service.svc"
    binding="basicHttpBinding" bindingConfiguration="BasicHttpBinding_IService1"
    contract="Act.IService" name="BasicHttpBinding_IService1" />
</client>
</system.serviceModel>
</configuration>` 
```

代码 ：-

```
using ActDemoApp;    

namespace ActDemoApp
{
    class Program
    {
        static void Main(string[] args)
        {

            string strXML="";
            string strRetXML = "";

            try
            {

                ActWS.IService oService;

                ActWS.Request oRequest = new ActWS.Request();
                ActWS.Response oResponse;

                ActWS.Acceptance oAccept = new ActWS.Acceptance();

                StreamReader streamReader = new StreamReader("c:\\temp\\Request.dat");
                strXML = streamReader.ReadToEnd();
                streamReader.Close();

                Stopwatch stopWatch = new Stopwatch();
                oRequest = new ActWS.Request();
                oService = new ActWS.ServiceClient("BasicHttpBinding_IService1");

                // To ignore BindingFailure, turn off Errors -> Managed Debugging Assitant -> BindingFailure

                oResponse = new ActWS.Response();

                strRetXML  = oService.MakeRequest(strXML);

                if (strRetXML == null)
                {
                    Console.WriteLine("XML was invalid");
                    Environment.Exit(0);
                } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T13:48:15.783

发现问题出在哪里，很可笑。虽然我认为这是 IIS 或 .NET 的原因，但我和问题一样接近问题。问题是 Windows 防火墙被设置为阻止包括网络流量在内的所有内容。问题发布在这里是因为我认为它是 .NET 代码。

感谢 Grzegorz、CodeCaster 和 Shailesh 花费时间阅读并提供建议。

# android - To adjust the view when keyboard is on the android

> ID：11410225
> 
> 赞同：0
> 
> 时间：2012-07-10T09:19:26.650
> 
> 标签：android

I have a activity in which there are 15 editText box. My problem is that when the soft keyboard comes up the editText present at bottom hides. I tried

android:windowSoftInputMode="adjustResize"

in Manifest file. But this did not worked.

I want edit Text boxes present at bottom to come up when they are clicked.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:21:26.517

在您的 xml 布局中，使 ScrollView 成为根父级，默认情况下它们会上升。

要强制 ScrollView 滚动到底部（如果默认情况下不滚动），您可以实现以下内容：

```
scrollView().post(new Runnable() {
    @Override
    public void run() {
        scrollView().fullScroll(ScrollView.FOCUS_DOWN);
    }
}); 
```

# node.js - Running Node.js App with cluster module is meaningless in Heroku?

> ID：11410226
> 
> 赞同：5
> 
> 时间：2012-07-10T09:19:37.963
> 
> 标签：node.js, heroku, cluster-computing

**Heroku** can run

## Web Dynos

and

## Worker Dynos

so that **Web Dynos** take care of routes

and worker **Worker Dynos** take care of processing works.

Since there is a unit of **Dyno**,

It seems using Node.js cluster module is meaningless to me on Heroku.

Because Node.js cluster module is to use all cores of server CPU

and **Dyno** seems virtual unit of CPU core to me.

Am I right? Or is it still worth to run a node.js app with cluster module?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-11T07:01:56.510

我发现使用集群模块确实值得

因为每个**测功机**有 4 个 CPU 内核。

* * *

**参考：** [http ://www.quora.com/Heroku/How-powerful-is-one-Heroku-dyno](http://www.quora.com/Heroku/How-powerful-is-one-Heroku-dyno)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-06-22T16:10:13.300

这是一个老问题，我想我应该更新一个更完整的答案。

根据他们文档上的[这张表](https://devcenter.heroku.com/articles/node-concurrency#defaults)

*   1X Dynos 有 1 个集群
*   2X Dynos 有 2 个集群
*   PX Dynos 有 12 个集群

因此，假设您使用的是 1X 测功机，则无需实施集群。如果您正在使用其他的，那么这样做是个好主意。

可以在 WEB_CONCURRENCY 环境变量中找到集群的数量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-18T14:03:46.347

这对我来说是个好消息，我认为测功机只是一个核心。实际上，我编写并开源了一个小型但制作精良的集群设置（由 redis 和作业队列支持）

[https://bitbucket.org/jeveloper/nodejscluster](https://bitbucket.org/jeveloper/nodejscluster)

# android - How to give libusb 0.1.12 permissions for Android?

> ID：11410228
> 
> 赞同：2
> 
> 时间：2012-07-10T09:19:45.340
> 
> 标签：android, android-ndk, libusb

I have to use libusb in my Android project. So far I have read alot on the internet that it is not so easy to use libusb with Android. I read something about init.rc and ueventd.rc and that I have to give some permissions for the usb. But because I am Android beginner I wanted to ask whether you could give me some more details how to make libusb work on Android. What are the steps needed to be done? Thanks in advance.

# http - How to send an HTTP POST method through a link href?

> ID：11410233
> 
> 赞同：0
> 
> 时间：2012-07-10T09:20:01.533
> 
> 标签：http, express, nodes, middleware

I have the following link and want to issue a `POST` method instead of default `GET` method.

```
<li><a href="/logout">logout</a></li> 
```

I know `connect` has a `methodOverride` middleware to handle form submission methods but it doesn't help with normal link href.

How could I achieve that?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-04-26T18:05:45.873

如果您想避免显示通过常规 GET 传递的变量，我建议使用`<input type="button" />`而不是`<a href="#"></a>`，以及一些隐藏的输入来传递数据，并在任何您想要的地方进行处理。

我的意思是，我没有看到有人想要更改锚点中的 GET 方法的任何其他原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T11:50:00.863

你不能；这不是 HTML 锚点的用途。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T12:25:01.733

您必须使用 Javascript 来执行此操作。Ruby on Rails 有一个 JavaScript 库，您可以使用它。

[https://github.com/rails/jquery-ujs/blob/master/src/rails.js](https://github.com/rails/jquery-ujs/blob/master/src/rails.js)

如果你导入你可以做

```
<a href='/stuff' data-method='delete'>destroy</a> 
```

我会使用 delete 注销，因为您正在销毁/删除会话。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T11:53:27.090

你可以使用javascript来做到这一点。只需将点击事件绑定到链接并执行 ajax 发布请求。

我会推荐使用[jquery ajax](http://api.jquery.com/jQuery.ajax/)。

# twitter-bootstrap - twitter-bootstrap 1.4 有 DatePicker 吗？

> ID：11410236
> 
> 赞同：1
> 
> 时间：2012-07-10T09:20:20.973
> 
> 标签：twitter-bootstrap

我无法在文档中找到任何日期选择器。这么明显的控制怎么会丢失？有没有第三方解决方案？

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T10:11:06.847

是的，有，看看这个链接：

[http://www.eyecon.ro/bootstrap-datepicker/](http://www.eyecon.ro/bootstrap-datepicker/)

外观和感觉都很好，使用也很简单。

# service - What is the best practice for formatting parameters in web service operations?

> ID：11410242
> 
> 赞同：1
> 
> 时间：2012-07-10T09:20:50.250
> 
> 标签：service, parameters, formatting, best-in-place

If a operation in a given web service accept a parameter, which can be in more than one given formats, what is the best practice of handling this scenario (at where do we format the parameter) ?

There are 2 places, where the formatting can be done.

1.  At the consumer's end
2.  Within the web service operation

Please make your suggestions.

* * *

The following is an example scenario. Suppose that the date of birth is captured by a web application. This consumes a web service. Also assume that those dates are stored in the database in YYYY-MM-DD format. Users are allowed to put a date in the following formats.

1.  YY-MM-DD
2.  YYYY-MM-DD

Suppose the date provided by a user is required to be compared with the date stored in the database. As stated above, provided date can be formated within the web application or can be done within the web service code.

# jquery - JQuery 和 z-index

> ID：11410249
> 
> 赞同：0
> 
> 时间：2012-07-10T09:21:27.050
> 
> 标签：jquery, z-index

我有两个 DIV：

```
<div id="div1"></div>
<div id="div2"></div> 
```

在特殊情况下**div2**采用 z-index:999。在那种情况下，我无法点击**div1**。定义的jquery函数：

```
$j = jQuery.noConflict();
$j(function() {
    $j(document).click( function(e) {
        var clicked = $j(e.target);
    })
}) 
```

所以，场景如下：

*   如果在具有相同 z-index 的任何 div 上发生单击，则调用 $j(document).click 函数

*   $j(document).click 函数，如果点击发生在具有**更大**z-index 的 div 上并且不会在点击另一个时调用

有没有办法处理整个屏幕上的所有点击？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:52:44.437

如果您想确保处理任何深度的任何 div 上的每次点击，您可以在单击文档时验证鼠标是否在上方，然后触发该 div 的单击事件。关于什么 ：

```
$(document).click(function(e){
    $('div').each(function(){
        if (e.pageX >= $(this).position.left &&
            e.pageX <= $(this).position.left+$(this).width() &&
            e.pageY >= $(this).position.top &&
            e.pageY <= $(this).position.top+$(this).height()
         ){
            $(this).trigger('click');
         }
    });
}); 
```

这是一个矫枉过正的解决方案，但它可能会起作用..希望这会有所帮助。

# java - Struts 1 和连接池

> ID：11410255
> 
> 赞同：0
> 
> 时间：2012-07-10T09:21:34.497
> 
> 标签：java, mysql, tomcat, connection-pooling, struts-1

我已经成功地在我的网络应用程序中使用了连接池（它不使用 Struts 框架）。现在我需要集成另一个开发人员编写的部分（使用 Struts 1 框架的部分）。问题是我没有成功使用 Struts 1 的池。

应该可以吗？

在我的 Tomcat context.xml 中，我有：

```
 <Resource name="jdbc/MyDB" auth="Container" type="javax.sql.DataSource"
          maxActive="100" maxIdle="30" maxWait="10000"
          username="auser" password="apwd" driverClassName="com.mysql.jdbc.Driver"
          url="jdbc:mysql://localhost:3306/mydb" 
          factory="org.apache.tomcat.jdbc.pool.DataSourceFactory" /> 
```

另一个开发人员正在使用来自 servlet 的连接执行如下：

```
 Class.forName("com.mysql.jdbc.Driver");
 con = (Connection) DriverManager.getConnection("jdbc:mysql://localhost:3306/mydb", "auser", "apwd"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:26:57.937

在 servlet 中使用类似这样的代码

```
// Obtain our environment naming context
Context initCtx = new InitialContext();
Context envCtx = (Context) initCtx.lookup("java:comp/env");

// Look up our data source
DataSource ds = (DataSource)
  envCtx.lookup("jdbc/MyDB");

// Allocate and use a connection from the pool
Connection conn = ds.getConnection();
... use this connection to access the database ...
conn.close(); 
```

有关更多详细信息，请参阅

[http://tomcat.apache.org/tomcat-5.5-doc/jndi-resources-howto.html](http://tomcat.apache.org/tomcat-5.5-doc/jndi-resources-howto.html)

[http://viralpatel.net/blogs/database-connection-pooling-tomcat-eclipse-db/](http://viralpatel.net/blogs/database-connection-pooling-tomcat-eclipse-db/)

# java - 使用coldfusion编写.properties文件

> ID：11410256
> 
> 赞同：4
> 
> 时间：2012-07-10T09:21:36.807
> 
> 标签：java, properties, coldfusion

有人已经做了这个吗？因为可以使用先生制作的JavaRB.cfc。Paul Hastings，但它提供了从属性文件中读取的可能性，而不是写入它？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-07-10T09:51:30.293

您可以使用底层的 Java Properties 类很容易地做到这一点：

```
<cfscript>
fos = CreateObject("java","java.io.FileOutputStream").init(ExpandPath("out.properties"));
props = CreateObject("java","java.util.Properties");

props.setProperty("site","stackoverflow.com");
props.setProperty("for","Stephane");

props.store(fos,"This is a properties file saved from CF");
</cfscript> 
```

虽然属性文件的格式非常简单，但您也可以使用 ColdFusion 文件函数来编写属性文件：

```
<cfscript>
props={"site"="stackoverflow.com","for"="Stephane"};
crlf=chr(13) & chr(10);

propFile = FileOpen(ExpandPath("out2.properties"),"write");
FileWrite(propFile,"##This is a properties file saved from CF" & crlf );
for(prop in props){
    FileWrite(propFile,prop & "=" & props[prop] & crlf);
}
FileClose(propFile);
</cfscript> 
```

它可能归结为您存储数据的位置。如果它在结构中，则使用 CF 可能更容易。如果它在 Java Properties 对象中，那么上面的代码非常少

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-01-30T08:32:27.357

如果将来有人偶然发现此页面，我还找到了如何从此[源](https://cflib.org/udf/readPropertiesFile)中读取属性。

鱼语者的评论如下：

```
Using Java in this scenario could be more efficient:

#myproperties
key=value

<cfscript>
props = createObject("java","java.util.Properties");
inputStream = createObject("java","java.io.FileInputStream").init(expandPath("my.properties"));
props.load(inputStream);
</cfscript>

Then anywhere below this:

props.getProperty("key") 
```

# android - 显示键盘时屏幕布局向上移动

> ID：11410257
> 
> 赞同：22
> 
> 时间：2012-07-10T09:21:42.680
> 
> 标签：android, layout, keyboard

假设我有以下布局：

[![在此处输入图像描述](../Images/0ddc8c1710c0b40d77d8d1a7b69d7782.png)](https://i.stack.imgur.com/9frnG.png)

当我点击底部的编辑文本时，我得到了这个：

[![在此处输入图像描述](../Images/7ba542c7ffcce0efa38aecd9ae3565af.png)](https://i.stack.imgur.com/iyn26.png)

正如您可以注意到顶部的图像向上并且整个布局移动。这是我用于此布局的 xml：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
   android:layout_width="fill_parent"
   android:layout_height="fill_parent"
   android:background="#FFFFFF" >

   <LinearLayout
       android:id="@+id/header"
       android:layout_width="fill_parent"
       android:layout_height="75dp"
       android:layout_alignParentLeft="true"
       android:layout_alignParentRight="true"
       android:layout_alignParentTop="true"        
       android:isScrollContainer="true"
       android:background="@drawable/header" >
   </LinearLayout>

   <ScrollView
       android:layout_width="fill_parent"
       android:layout_height="wrap_content"
       android:id="@+id/scrollauthentication"
       android:layout_below="@+id/header"
       android:background="#FFFFFF"
       android:fillViewport="true" >

       <RelativeLayout
           xmlns:android="http://schemas.android.com/apk/res/android"
           android:layout_width="fill_parent"
           android:layout_height="wrap_content"
           android:background="#FFFFFF" 
           android:id="@+id/authenticationrelativelayout">

           <TextView
               android:id="@+id/login"
               android:layout_width="wrap_content"
               android:layout_height="wrap_content"
               android:layout_alignParentLeft="true"
               android:layout_below="@+id/header"
               android:layout_marginLeft="30dp"
               android:layout_marginTop="20dp"
               android:text="login"
               android:textAppearance="?android:attr/textAppearanceMedium"
               android:textColor="@color/lighter_orange"
               android:textSize="28dp" />

           <TextView
               android:id="@+id/usernameTextView"
               android:layout_width="wrap_content"
               android:layout_height="wrap_content"
               android:layout_alignLeft="@+id/login"
               android:layout_below="@+id/login"
               android:layout_marginTop="16dp"
               android:text="username"
               android:textAppearance="?android:attr/textAppearanceMedium"
               android:textColor="@color/dark_gray" />

           <EditText
               android:id="@+id/user"
               android:layout_width="260dp"
               android:layout_height="42dp"
               android:layout_alignLeft="@+id/usernameTextView"
               android:layout_below="@+id/usernameTextView"
               android:background="@drawable/edittext_selector"
               android:imeOptions="actionDone"
               android:lines="1"
               android:paddingLeft="10dp" />

           <TextView
               android:id="@+id/passwordTextView"
               android:layout_width="wrap_content"
               android:layout_height="wrap_content"
               android:layout_alignLeft="@+id/user"
               android:layout_below="@+id/user"
               android:text="password"
               android:textAppearance="?android:attr/textAppearanceMedium"
               android:textColor="@color/dark_gray" />

           <EditText
               android:id="@+id/password"
               android:layout_width="260dp"
               android:layout_height="42dp"
               android:layout_alignLeft="@+id/passwordTextView"
               android:layout_below="@+id/passwordTextView"
               android:background="@drawable/edittext_selector"
               android:imeOptions="actionDone"
               android:inputType="textPassword"
               android:lines="1"
               android:paddingLeft="10dp" >

               <requestFocus />
           </EditText>

           <CheckBox
               android:id="@+id/remembercheckBox"
               android:layout_width="wrap_content"
               android:layout_height="wrap_content"
               android:layout_alignLeft="@+id/password"
               android:layout_below="@+id/password"
               android:layout_marginTop="37dp"
               android:button="@drawable/checkbox_selector"
               android:focusable="true" />

           <TextView
               android:id="@+id/rememberText"
               android:layout_width="wrap_content"
               android:layout_height="wrap_content"
               android:layout_alignBaseline="@+id/remembercheckBox"
               android:layout_alignBottom="@+id/remembercheckBox"
               android:layout_toRightOf="@+id/remembercheckBox"
               android:text="Remember me"
               android:textAppearance="?android:attr/textAppearanceMedium"
               android:textColor="@color/dark_gray" />
       </RelativeLayout>
   </ScrollView>

   <LinearLayout
       android:layout_width="fill_parent"
       android:layout_height="wrap_content"
       android:layout_marginLeft="30dp"
       android:layout_below="@+id/scrollauthentication"
       android:orientation="horizontal" >

       <Button
           android:id="@+id/loginButton"
           android:layout_width="wrap_content"
           android:layout_height="wrap_content"
           android:background="@color/button_selected"
           android:text="log in"
           android:textColor="@drawable/textblack_selected"
           android:textStyle="bold" >
       </Button>

       <Button
           android:id="@+id/forgotten"
           android:layout_width="wrap_content"
           android:layout_height="wrap_content"
           android:layout_marginLeft="10dp"
           android:background="@color/button_selected"
           android:text="forgotten password"
           android:textColor="@drawable/textblack_selected"
           android:textStyle="bold" />
   </LinearLayout>

</RelativeLayout> 
```

我还在此活动的清单文件中设置了这个：

```
android:windowSoftInputMode="adjustPan" 
```

那么有没有办法在显示键盘时阻止我的布局移动？谢谢！！！！

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-07-10T09:27:18.670

尝试使用

```
android:windowSoftInputMode="adjustPan|adjustResize" 
```

为活动。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-07-10T10:05:35.100

好吧，我没有在我的应用程序清单中提到任何“windowSoftInputMode”，它运行良好。键盘打开时屏幕不向上移动。试试这种方法 - 只需从清单中删除“windowSoftInputMode”参数。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-08-10T11:12:37.317

试试这个：

```
android:windowSoftInputMode="adjustNothing" 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-09-20T10:00:03.933

我的 EditText 也在不断上升。

向编辑文本添加重力似乎可以解决问题。键盘将我的 EditText 向上推，因此我在 XML 中的 Edit Text 底部添加了重力。

```
android:gravity=bottom 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-12-13T04:49:29.787

我已经有一个windowsoftInputMode来防止键盘打开，所以只需添加注释代码

*android:windowSoftInputMode="stateHidden|adjustPan|adjustResize"*

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-05-27T17:10:44.013

试试这个，对我来说它有效......

```
<CoordinatorLayout
android:fitsSystemWindows="true">
<AppBarLayout>
    <Toobar>
        <!--...-->
    </Toobar>
</AppBarLayout>
<include layout="@layout/content_main_message" /> <!--EditText here-->
</CoordinatorLayout> 
```

# python - 在同一文件夹中导入python

> ID：11410263
> 
> 赞同：1
> 
> 时间：2012-07-10T09:22:18.210
> 
> 标签：python, import, pep8

如果在同一文件夹中的另一个文件中导入文件。

文件结构：

```
.
├── b
│   ├── c.py
│   ├── d.py
│   └── __init__.py
└── __init__.py 
```

在 d.py 中：

```
import b.c
print "import successfully" 
```

**更新 1**：

我两个都用

```
python d.py 
```

和：

```
python b/d.py 
```

程序无法运行并引发 ImportError。

为了解决这个问题，我使用

```
 sys.path.insert(0, realpath(path_join(dirname(__file__), '../'))) 
```

但是，这似乎不是标准方式。

像一些著名的项目：龙卷风或其他什么，总是使用这种结构。但没有插入线。

如果导入语句在 unittest 文件中，则自动测试工具（如 sniffer、autonose）可以运行这种结构。

我不知道为什么。

PEP328 或 PEP366 并没有给我一个很好的解决方案。

PEP8 建议我这样做。

导入另一个模块（在另一个文件中）时也会出现此问题，例如：

```
├── a
│   ├── e.py
│   └── __init__.py
├── b
│   ├── c.py
│   ├── d.py
│   └── __init__.py
├── __init__.py 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:27:06.087

您应该使用`python b/d.py`而不是`python d.py`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-26T20:57:17.487

Vinayak 的答案非常适用于 Python v3.3.2。如果目录'dir'中存在一堆非OOP Python模块，则可以成功地将'dir'中存在的任何文件中的任何方法导入文件（也存在于'dir'中）。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-10T09:27:39.580

根据 PEP328，以下代码应该可以工作。

```
from . import c 
```

我的理解正确吗？

# linux - 外部命令错误：/usr/local/bin/snmpget：加载共享库时出错：libnetsnmp.so.20：无法打开共享对象文件

> ID：11410265
> 
> 赞同：2
> 
> 时间：2012-07-10T09:22:36.110
> 
> 标签：linux, shared-libraries, snmp, nagios, net-snmp

我可以通过命令行执行`snmpget`/`snmpwalk`和。`check_snmp`但是，当我通过 Nagios 执行此操作（在配置文件中创建主机和服务条目）时，我在特定主机下的服务的“状态信息”中看到此错误：

> 外部命令错误：/usr/local/bin/snmpget：加载共享库时出错：libnetsnmp.so.20：无法打开共享对象文件：没有这样的文件或目录
> 
> 操作系统：SLES 11

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-03-31T04:00:37.113

`libnetsnmp.so.XX` 如果在您的系统中，以下过程很有帮助。

首先搜索库 libnetsnmp.so.XX

```
sudo find / -name libnetsnmp.so* 
```

所以你会得到如下输出

```
/usr/lib/libnetsnmp.so.30
/usr/lib/libnetsnmp.so.15
/usr/lib/libnetsnmp.so.15.1.2
/usr/local/lib/libnetsnmp.so.30
/usr/local/lib/libnetsnmp.so
/usr/local/lib/libnetsnmp.so.30.0.2
/usr/local/lib/libnetsnmp.so.20
... 
```

现在将其链接`libnetsnmp.so.XX`到`/usr/lib/`

```
sudo ln -s /usr/local/lib/libnetsnmp.so.XX /usr/lib/libnetsnmp.so.XX 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:27:05.110

该程序错过了一个库。您可以使用以下方式找到程序所需的库列表`ldd`：

```
$ ldd /usr/local/bin/snmpget 
```

您将`not found`在缺少的库附近看到。

当您找到`snmget`需要的库时，这是一个特殊的位置（不是`/usr/lib`等等），您可以添加到`LD_LIBRARY_PATH`：

```
 $ LD_LIBRARY_PATH=/usr/local/path-to/lib ldd /usr/local/bin/snmpget 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-15T13:04:23.027

即使您将库路径添加到环境变量 LD_LIBRARY_PATH，您的程序也无法确定所需库的位置，因为它们尚未导出。您可以将其想象为您绘制地图以追踪某物，却忘记将地图放入包中，因此当您开始搜索时，您不知道该死的东西在哪里。线索是导出它们（位置）。如何 ？简单地说，在环境变量的任何更改之前使用关键字 export，例如： export LD_LIBRARY_PATH=/your/libraries/location/:$LD_LIBRARY_PATH

就是这样;-)

干杯

# sql-server - Gridview 没有在 aspx 页面中正确返回行

> ID：11410273
> 
> 赞同：2
> 
> 时间：2012-07-10T09:23:26.360
> 
> 标签：sql-server, stored-procedures

我必须创建一个存储过程，它将搜索数据库中的匹配行并将它们显示在 Gridview 中。用户可以通过选择多个选项的表单进行搜索，其中一些选项不是强制性的。

我创建了一个存储过程，但它仅在我在 SQL Server Management Studio 控制台中执行时才显示结果。存储过程未在 aspx 页面的 gridview 中显示任何记录。

请帮我看看我在这里做错了什么。

我创建的存储过程是这样的：

```
ALTER PROCEDURE dbo.ProcName    
@abc varchar(50) = null,    
@def varchar(50) = null,    
@ghi Int = null,    
@jkl varchar(50) = null,    
@mno varchar(50) = null    
As    
Begin    
SELECT abc,def,ghi,jkl,mno,rst from TableName    
where(@abc IS NULL OR abc= @abc)    
  AND (@def IS NULL OR def = @def)    
  AND (@ghi IS NULL OR ghi = @ghi)    
  AND (@jkl IS NULL OR jkl = @jkl)    
  AND (@mno IS NULL OR mno = @mno)    
End    
Go 
```

这是我在 asp.net 页面中用于在 gridview 中显示记录的代码：

```
Sub showResult(Source as Object, E as EventArgs)
Dim oConn As SQLConnection
Dim oComm As SQLCommand
Dim da As SqlDataAdapter
Dim ds As DataSet

Dim sSQL As String
Dim sConn As String
Dim strloc, listtype, roomno, furnishing, spec, forrent, price, area, email
strloc=List_Location.SelectedItem.Text
listtype=List_Type.SelectedItem.Text
roomno=List_RoomNo.SelectedItem.Value
furnishing=List_Furnishing.SelectedItem.Text
forrent=List_RentSale.SelectedItem.Value

sConn = ConfigurationManager.ConnectionStrings("xyz").ConnectionString
oConn = New SQLConnection(sConn)
oComm = New SQLCommand("SearchP",oConn)

oConn.Open()

oComm.CommandType = CommandType.StoredProcedure

oComm.Parameters.Add(New SqlParameter("@abc", SqlDbType.VarChar, 50))

oComm.Parameters("@abc").Value = strloc

oComm.Parameters.Add(New SqlParameter("@def", SqlDbType.VarChar, 50))
oComm.Parameters("@def").Value = listtype

oComm.Parameters.Add(New SqlParameter("@ghi", SqlDbType.Int))
oComm.Parameters("@ghi").Value = roomno

oComm.Parameters.Add(New SqlParameter("@jkl", SqlDbType.VarChar, 50))
oComm.Parameters("@jkl").Value = furnishing

oComm.Parameters.Add(New SqlParameter("@mno", SqlDbType.VarChar, 50))
oComm.Parameters("@mno").Value = forrent

da = New SqlDataAdapter(oComm)
ds = New DataSet()
Try
panel1.visible="true"
da.Fill(ds,"TableName")
myGridView.DataSource=ds.Tables("TableName").DefaultView
myGridView.EmptyDataText = "No records found"
myGridView.DataBind()
Catch ex As Exception
lblResults.text = ex.Message
Finally
oComm.Dispose()
oConn.Dispose()
oConn.Close()
End Try
End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T13:43:11.370

您的存储过程将参数评估为`@abc is null or abc = @abc`. 这意味着`null`如果用户不提供自己的值，您必须将值绑定到 ASPX 页面中的参数。从 ASPX 页面绑定一个空白值不会将 a 传递`null`给存储过程，因此它总是会计算`column = [blank value]`, 或`abc = [blank value]`。

假设网页中的列表在列表顶部（位置“0”）有一个项目，表示要从列表中选择某些内容，那么 ASPX 代码应该如下所示：

```
If List_Location.ItemIndex = 0 Then
  oComm.Parameters.AddWithValue("@abc", DBNull.Value)
Else
  oComm.Parameters.AddWithValue("@abc", List_Location.SelectedItem.Text) 
```

这样，`null`当用户没有选择一个值时，你就通过了，或者当他们选择了值时，你就通过了。然后，您的存储过程应该能够正确使用该`@abc is null or abc = @abc`语法。

# fill - QT在QMainWindow中最大化QGraphicsWebView

> ID：11410284
> 
> 赞同：0
> 
> 时间：2012-07-10T09:24:25.937
> 
> 标签：fill, qtwebkit, maximize

我需要使用支持 CSS 3D 的 QtWebKit，这就是我使用 QGraphicsWebView 和 QGLWidget 的原因，代码如下所示：

*主窗口.hpp：*

```
#include <QMainWindow>
#include <QGraphicsScene>
#include <QGraphicsView>
#include <QGraphicsWebView>

class MainWindow : public QMainWindow {
    Q_OBJECT;
    public:
        MainWindow(const char *url);
        void init();
    private:
        QGraphicsView *gview;
        QGraphicsScene *scene;
        QGraphicsWebView *web_view;
}; 
```

*主窗口.cpp：*

```
#include "MainWindow.hpp"
#include <QWebSettings>
#include <QGLWidget>
#include <QStatusBar>

MainWindow::MainWindow(const char *url) {
    setWindowTitle("QTWebKit Experiment");

    QWebSettings::globalSettings()->setAttribute(QWebSettings::AcceleratedCompositingEnabled, true);
    gview = new QGraphicsView(this);
    gview->setViewportUpdateMode(QGraphicsView::FullViewportUpdate);
    gview->setViewport(new QGLWidget(this));

    scene = new QGraphicsScene(gview);
    web_view = new QGraphicsWebView();

    scene->addItem(web_view);
    gview->setScene(scene);
    web_view->load(QString(url));
    web_view->setResizesToContents(true);

    setCentralWidget(gview);
}

void MainWindow::init() {
    show();
} 
```

问题是**web_view**没有填充 QMainWindow 小部件。我应该怎么做才能使网站充满窗口？

->[屏幕截图 - 谷歌在调整大小的 QMainWindow](http://regalis.com.pl/images/web_view.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T16:17:16.763

在将 QGraphicsWebView 添加到 QGraphicsScene 之前，您是否尝试过设置尺寸策略？

```
web_view->setSizePolicy(QSizePolicy.Expanding, QSizePolicy.Expanding); 
```

您还应该将您的小部件添加到布局中（属性 sizePolicy 是一种布局行为，因此您需要将您的小部件放入布局中）QVboxLayout 非常适合您的需求。

# java - 如何将解码的消息传递给下一个处理程序？

> ID：11410287
> 
> 赞同：0
> 
> 时间：2012-07-10T09:24:32.883
> 
> 标签：java, netty

我的第一个`ChannelHandler`管道是一个继承自`SimpleChannelUpstreamHandler`. 我已经覆盖了`messageReceived()`现在使用 JAIN SIP 解码传入消息（SIP 请求）的方法。我拥有的下`ChannelHandler`一个是 SIP 请求的验证器。但是，在这个处理程序中，我想使用 POJO，而不是使用`ChannelBuffer`.

如何将解码后的 POJO 传递给下一个处理程序？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T11:29:28.183

在这种情况下，您应该更好地扩展 OneToOneDecoder，因为它更易于处理。

如果您需要更复杂的解决方案（例如您获得一个框架并希望从中生成多个 pojo，您可以使用“Channels.fireMessageReceived(...)”将其交给 ChannelPipeline 中的下一个处理程序

# installscript - 如何查找安装是按用户还是按机器安装

> ID：11410289
> 
> 赞同：1
> 
> 时间：2012-07-10T09:24:38.617
> 
> 标签：installscript, installshield-2011

我已经在每台机器（所有用户）安装模式下在系统上安装了我的软件。在维护安装期间，我想知道软件是按用户还是按机器安装的？我怎样才能做到这一点？是否有任何 installscript 功能或属性可以告诉我以前的安装是按用户还是按机器安装？

# biztalk - 您可以在两个位置创建文件吗

> ID：11410290
> 
> 赞同：0
> 
> 时间：2012-07-10T09:24:42.927
> 
> 标签：biztalk, biztalk-2010

我有一个简单的界面，使用基于简单编排创建文本文件的数据库轮询。

该文件被输出到一个 FTP 文件夹，并由我们的客户获取。现在我们经常有一个客户端声称文件未发送或文件中的数据不完整，但由于他们已从 FTP 中删除了输出文件，因此我们没有此文件的副本。

我考虑在编排中创建两个发送端口，这样我就可以创建一个文件到 FTP 和一个存档文件夹。问题在于文件名是 DELSUP%datetime%.txt，所以这将导致我的备份文件的名称略有不同。有没有办法让发送端口创建一个备份文件？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-11T22:59:35.627

使用**SendPortGroup**而不是单个 SendPort。

在 SendPortGroup 中登记原始 FTP SendPort 和新的 FILE SendPort，然后更改编排配置以绑定到新的**SendPortGroup**而不是 FTP SendPort。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T09:27:05.640

是的，您只需要设置一个新的发送端口并将其配置为发送您首选名称的文件。您可以使用与 FTP 端口相同的消息。高温高压

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-10T10:19:51.257

您可以在文件适配器属性中使用 %SourceFileName% 宏：

![在此处输入图像描述](../Images/ab48a1e0732d7c58d5a80c9a34abbe83.png)

在您的情况下，您不需要做任何其他事情，因为适配器将从消息上下文属性中读取文件名`FILE.ReceivedFileName`，然后将保留文件名端到端设置。

# c++ - OpenGL读取和写入相同的纹理

> ID：11410292
> 
> 赞同：6
> 
> 时间：2012-07-10T09:24:48.680
> 
> 标签：c++, opengl

我有一个 RGBA16F 纹理，上面有深度、normal.x、normal.y。我想在纹理上读取 r、g、b 并写入 a。我将准确地击中每个像素一次。

如果我在这种情况下读取和写入相同的纹理，会不会出现性能问题？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-10T18:42:25.493

不会有性能问题。会有*功能问题*。如题，是行不通的。

您无法从通过 FBO 写入的图像中读取并期望获得合理的结果。这会产生未定义的行为。

如果您使用 shader_image_load_store 进行读/写，您也许可以侥幸逃脱。但即便如此，它也是一个读/修改/写操作；你必须写回你读过的阿尔法。

话虽如此，如果您确定您将“***准确地***击中每个像素一次”（强调添加），您确实有追索权。即[NV_texture_barrier](http://www.opengl.org/registry/specs/NV/texture_barrier.txt)。不要让这个扩展上的“NV”欺骗你；它也广泛应用于 AMD 硬件（所有 HD 系列卡）。此扩展允许您使用“屏障”函数（实际上是一个告诉 GPU 清除帧缓冲区和纹理缓存的函数），在调用之后，它将允许您在片段着色器中执行*一次*读取/修改/写入. 在第一次通过之后，您需要在第二次通过之间设置另一个障碍。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-10T10:10:25.203

> 如果我在这种情况下读取和写入相同的纹理，会不会出现性能问题？

纹理可以是数据源或目标，互斥。您不能同时为两者使用纹理。

此外，纹理写入（好吧，图像写入）仅在 OpenGL-4.2 中引入，并且它们的性能不是很好，因为 GPU 针对聚集读取进行了优化，而不是分散写入。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T19:21:52.357

您不能同时从单个纹理读取和写入。为了解决这个问题，您通常会创建另一个纹理，以便从一个纹理读取并写入另一个纹理。然后可以在着色器中一起或单独读取这两个纹理。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-04-22T18:39:36.120

如果您可以先编写然后将结果复制到纹理，则可以做到这一点。在这种情况下，您首先使用着色器进行渲染，然后在渲染完所有内容后，将结果复制到纹理中

```
glTexImage2D(GL_TEXTURE_2D, 0,GL_RGB, windowWidth, windowHeight, 0,GL_RGB, GL_UNSIGNED_BYTE, 0); 
```

并且还使用此纹理作为着色器的输入。

# internet-explorer - 使用 Powershell 杀死所有运行超过 5 分钟的 Internet Explorer 进程

> ID：11410293
> 
> 赞同：3
> 
> 时间：2012-07-10T09:24:49.883
> 
> 标签：internet-explorer, powershell, process, kill

我想杀死所有运行超过 5 分钟的 Internet Explorer 进程。这必须是使用 Powershell v1.0 的一行命令。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T09:50:17.260

其他方式：

```
 get-process iexplore | ? { ([DateTime]::Now - $_.StartTime).TotalSeconds -gt 300 } | stop-process 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T10:26:41.580

```
Get-Process iexplore -ErrorAction SilentlyContinue |
Where-Object { $_.StartTime -and (Get-Date).AddMinutes(-5) -gt $_.StartTime } |
Stop-Process 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:40:33.147

至少在 powershell v2 以下命令应该停止所有早于 5 分钟的 IE 进程：

```
Get-Process | 
    select -Property ProcessName, StartTime |
    ? { (($_.StartTime -ne $null) -and
         (([DateTime]::Now - $_.StartTime).TotalMinutes -ge 5) -and
         ($_.ProcessName -eq "iexplore")) } |
    Stop-Process 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-07-31T21:55:29.150

如果您只想删除第一个进程，CPU 使用率很高：

```
get-process iexplore | sort –descending cpu | select –First 1 | stop-process 
```

# c - 创建串口设备文件

> ID：11410296
> 
> 赞同：0
> 
> 时间：2012-07-10T09:25:01.330
> 
> 标签：c, linux, serial-port, rs485

我需要开发一个测试程序，从终端发送和接收数据到串口。
为此，我想创建虚拟设备文件并使用它。我通过使用命令做到了这一点：

> mknod -m 666 ttyS32 c 4, 500

设备文件已成功创建，但我无法向其写入数据。编程方式和终端方式都给出以下错误：

> 没有这样的设备或地址

在 CI 中使用标准文件 I/O 函数，在终端中我使用了“echo”命令。您对如何将数据写入串口设备文件有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:31:25.513

这是正确的。您可以使用 写入串行设备`echo`。您确定设备（不是设备文件）存在并且由驱动程序正确处理吗？

# java - 在Java中插入pdf时PDFBox模糊图像

> ID：11410304
> 
> 赞同：8
> 
> 时间：2012-07-10T09:25:40.503
> 
> 标签：java, image, pdfbox

我正在尝试在 PDF 中插入图像，但质量使图像不可读。如何提高最终 PDF 文档的质量？

我尝试过其他免费的非 GPL 许可库，我认为 pdfbox 是最好的，所以我希望能够使用 pdfbox。

```
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;

import javax.imageio.ImageIO;

import org.apache.pdfbox.exceptions.COSVisitorException;
import org.apache.pdfbox.pdmodel.PDDocument;
import org.apache.pdfbox.pdmodel.PDPage;
import org.apache.pdfbox.pdmodel.edit.PDPageContentStream;
import org.apache.pdfbox.pdmodel.font.PDFont;
import org.apache.pdfbox.pdmodel.font.PDType1Font;
import org.apache.pdfbox.pdmodel.graphics.xobject.PDJpeg;
import org.apache.pdfbox.pdmodel.graphics.xobject.PDXObjectImage;

public class pdfBoxTest {

    public static void WritteBufferedImageToPDF(BufferedImage buff)
    {

        PDDocument doc = null;
        PDPage page = null;
        PDXObjectImage ximage = null;
        try {
            doc = new PDDocument();
            page = new PDPage();
            doc.addPage(page);

            ximage = new PDJpeg(doc, buff, 1.0f);

            PDPageContentStream content = new PDPageContentStream(doc, page);

            content.drawImage(ximage, 0, 0);
            content.close();
            doc.save("C:/Users/crusader/Desktop/Hello World.pdf");
            doc.close();

        }
        catch (IOException ie){
            ie.printStackTrace();
            //handle exception
        }
        //save and close
 catch (COSVisitorException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

    }
    public static void main(String []args)
    {
        BufferedImage buff= null;

        try{

            buff = ImageIO.read(new File("C:/Users/crusader/Desktop","tests.jpg"));

        }
        catch(IOException ex)
        {
            ex.printStackTrace();
        }

        System.out.println(buff.getWidth());
        System.out.println(buff.getHeight());
        pdfBoxTest.WritteBufferedImageToPDF(buff);
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-13T04:33:24.867

我知道一个技巧可以帮助您在某些情况下使用 PDFBOX 提高质量，即缩放图像（我知道这不是一个非常聪明的解决方案，会增加 CPU 使用率、文件大小......但它确实有效）。

```
public class PdfBoxTest {

    public static void WritteBufferedImageToPDF(BufferedImage buff, int width, int height)
    {

        PDDocument doc = null;
        PDPage page = null;
        PDXObjectImage ximage = null;
        try {
            doc = new PDDocument();
            page = new PDPage();
            doc.addPage(page);

            ximage = new PDJpeg(doc, buff, 1.0f);

            PDPageContentStream content = new PDPageContentStream(doc, page);

            content.drawXObject(ximage, 0, 0, width, height);
            content.close();
            doc.save("C:/Users/crusader/DesktopHello World.pdf");
            doc.close();

        }
        catch (IOException ie){
            ie.printStackTrace();
            //handle exception
        }
        //save and close
        catch (COSVisitorException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

    }

    private static final int SCALE_FACTOR = 3;//increases file size and quality

    public static void main(String []args)
    {
        BufferedImage buff= null;
        BufferedImage resized = null;
        try{
            buff = ImageIO.read(new File("C:/Users/crusader/Desktop","tests.jpg"));
            resized = new BufferedImage(buff.getWidth()*SCALE_FACTOR, buff.getHeight()*SCALE_FACTOR, buff.getType());
            Graphics2D g = resized.createGraphics();
            g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);
            g.drawImage(buff, 0, 0, resized.getWidth(), resized.getHeight(), 0, 0, buff.getWidth(), buff.getHeight(), null);
            g.dispose();        
        }
        catch(IOException ex)
        {
            ex.printStackTrace();
        }

        System.out.println(buff.getWidth());
        System.out.println(buff.getHeight());

        PdfBoxTest.WritteBufferedImageToPDF(resized, buff.getWidth(), buff.getHeight());
    }
} 
```

*请让我知道这是否有帮助

# php - 使用 PHP 从数据库中过滤年龄

> ID：11410310
> 
> 赞同：0
> 
> 时间：2012-07-10T09:26:00.863
> 
> 标签：php, sql, database

我有一个数据库，其中包含一系列不同年龄段的人。在数据库中，年龄数据显示 6 个月为 6m，5 年为 5y，等等。我需要能够过滤我的数据，所以我只能看到 5 岁以下的年龄组。这就是我的 PHP 现在的样子。

```
$query = "SELECT DISTINCT code, minimumAge, description
          FROM recalls
          WHERE startBasis='age'
          ORDER BY code";
while ($row = mysql_fetch_array($result))
{
    if($row['minimumAge'] <= 5) {
        echo "<option value='" . $row['code'] . "'> "
          . $row['code'] . " " . $row['minimumAge'] . " " . $row['description'] 
          . "</option>";
    } 
```

目前，如果您有 6m 岁的人，它不会显示，因为数字高于 5，我如何让它包含 5y 岁以下但 5m 岁以上的人的信息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:42:53.267

如果您只想查询具有 minimumAge 的记录，例如“5y”或“4y”或“4y 3m”或“9m”等，您可以`REGEXP`在选择查询中使用运算符（[http://dev.mysql.com/doc/refman /5.0/en/regexp.html](http://dev.mysql.com/doc/refman/5.0/en/regexp.html) ):

```
$query = "SELECT DISTINCT code,minimumAge,description FROM recalls WHERE startBasis='age' AND minimumAge REGEXP '^([0-5]y|[0-9]m)|([0-5]y [0-9]m)&' ORDER BY code"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-02T16:48:18.710

或者也许没有正则表达式，只是从 WHERE 子句中的 minimumAge 中获取第一个字符 .. ？

懒得完全/彻底地检查它..但是想着以下几点：

```
SELECT DISTINCT code, minimumAge, description
FROM recalls
WHERE startBasis='age'
AND ( 1 * SUBSTR( minimumAge , 1 , 1 ) ) < 6
ORDER BY code 
```

所以，没有经过测试和东西。

# mysql - (My)SQL 全连接三表

> ID：11410312
> 
> 赞同：5
> 
> 时间：2012-07-10T09:26:20.630
> 
> 标签：mysql, sql, join

我有树表

```
ID    A
-----------
1     10

ID    B
-----------
1     20
2     30

ID    C
-----------
2     40
3     50 
```

谁能告诉如何制作这样的视图或查询打印？

```
ID     A      B      C      R (A + B - C)
-----------------------------------
1     10     20      0     30
2      0     30     40    -10
3      0      0     50    -50 
```

提前致谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-10T09:42:00.223

据我所知，MySql 中没有完全的外连接。因此，要执行您需要的操作，您应该在派生表中获得不同的 ID 并左连接原始表：

```
select ids.id,
       ifnull(table1.A, 0) A,
       ifnull(table2.B, 0) B,
       ifnull(table3.C, 0) C,
       ifnull(table1.A, 0) + ifnull(table2.B, 0) - ifnull(table3.C, 0) R
  from 
  (
    select id
      from table1
    union
    select id
      from table2
    union
    select id
      from table3
  ) ids
  left join table1
    on ids.id = table1.id
  left join table2
    on ids.id = table2.id
  left join table3
    on ids.id = table3.id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:53:59.940

```
select coalesce(a.Id, b.Id, c.Id) ID, 
       case when a.A > 0 then a.A else 0 end, 
       case when b.B > 0 then b.B else 0 end,
       case when c.C > 0 then c.C else 0 end,
       ifnull(a.A, 0) + ifnull(b2.B, 0) - ifnull(c.C, 0) R
 from tableA a
 right outer join tableB b on a.id = b.id
 right outer join tableC c on b.id = c.id; 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-10T09:48:01.033

试试这个

```
 select t1.ID, t1.A,t2.B,t3.C,t1.A+t2.B-t3.C as R
  from tableA t1
  full outer join tableB t2 on t1.id =t2.id
  full outer join tableC t3 on t1.id =t3.id 
```

# xml - java.lang.IllegalStateException: getOutputStream() 已在 JSF 2 中为此响应调用

> ID：11410313
> 
> 赞同：2
> 
> 时间：2012-07-10T09:26:23.140
> 
> 标签：xml, jsp, jakarta-ee, servlets, jsf-2

我有一个在 xml 中编写 jsp 页面的旧代码，我正在尝试将其转换为 JSF 2，但出现以下异常：

```
 Jul 10, 2012 11:34:57 AM com.sun.faces.application.view.FaceletViewHandlingStrategy handleRenderException
SEVERE: Error Rendering View[/pages/xmlservices/SendPic.xhtml]
java.lang.IllegalStateException: getOutputStream() has already been called for this response
    at org.apache.catalina.connector.Response.getWriter(Response.java:627)
    at org.apache.catalina.connector.ResponseFacade.getWriter(ResponseFacade.java:215)
    at javax.servlet.ServletResponseWrapper.getWriter(ServletResponseWrapper.java:105)
    at javax.servlet.ServletResponseWrapper.getWriter(ServletResponseWrapper.java:105)
    at javax.servlet.ServletResponseWrapper.getWriter(ServletResponseWrapper.java:105)
    at com.sun.faces.context.ExternalContextImpl.getResponseOutputWriter(ExternalContextImpl.java:723)
    at com.sun.faces.application.view.FaceletViewHandlingStrategy.createResponseWriter(FaceletViewHandlingStrategy.java:938)
    at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:377)
    at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:131)
    at org.springframework.faces.webflow.FlowViewHandler.renderView(FlowViewHandler.java:99)
    at com.ocpsoft.pretty.faces.application.PrettyViewHandler.renderView(PrettyViewHandler.java:163)
    at org.springframework.faces.webflow.FlowViewHandler.renderView(FlowViewHandler.java:99)
    at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:121)
    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
    at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)
    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:594)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at com.ocpsoft.pretty.PrettyFilter.doFilter(PrettyFilter.java:118)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:368)
    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:99)
    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:83)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:97)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:60)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:78)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:119)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:54)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:35)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilter(BasicAuthenticationFilter.java:177)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:187)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:105)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:57)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:169)
    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)
    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:70)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:684)
    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:471)
    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:402)
    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:329)
    at com.ocpsoft.pretty.PrettyFilter.doFilter(PrettyFilter.java:110)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:368)
    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:109)
    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:83)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:97)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:100)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:78)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:119)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:54)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:35)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilter(BasicAuthenticationFilter.java:177)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:187)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:105)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:79)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:169)
    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)
    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:198)
    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:964)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:304)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:619)
Jul 10, 2012 11:34:57 AM org.apache.catalina.core.ApplicationDispatcher invoke
SEVERE: Servlet.service() for servlet Faces Servlet threw exception 
```

**JSP/XML：**

```
<%@ page  language="java" import="java.net.* ,weather.*, XMLObjects.*,beans.*,daos.*,java.util.*,CampaignManipulation.*, adstreamer.*, java.net.*"%>

<%

        response.setContentType("text/xml");
        response.addDateHeader("Expires", 0);

        String urExit = "http://localhost:8080/myapp/anotherjsfxmlpage";
        response.addHeader("Refresh", urExit);

        XMLExecute exe = new XMLExecute();       
        out.print(exe.GetXMLObject()); // String representation  of xml code <CiscoIPPhoneExecute> .... </CiscoIPPhoneExecute>
%> 
```

**JSF/XHTML：**

```
<?xml version="1.0" encoding="UTF-8"?>
<f:view contentType="text/xml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core">
    <f:event type="preRenderView" listener="#{sendPicController.preRender}"/>
</f:view> 
```

**JSF/支持 Bean：**

```
public void preRender() throws Exception {

        log.debug("preRender");

        FacesContext ctx = FacesContext.getCurrentInstance();
        HttpServletRequest request = GeneralUtils.getHttpServlettRequest();
        HttpServletResponse response = GeneralUtils.getHttpServlettResponse();

        response.setContentType("text/xml");
        response.addDateHeader("Expires", 0);

        String urExit = "http://localhost:8080/myapp/anotherjsfxmlpage";
        response.addHeader("Refresh", urExit);

        response.getOutputStream().write(exe.GetXMLObject().getBytes()); // bytes representation  of xml
        response.getOutputStream().flush();
        response.getOutputStream().close();
        ctx.responseComplete();
    } 
```

请告知我为什么会收到此异常以及如何修复它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T10:22:30.263

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T11:33:40.347

my problem was that i was **forgetting** to **close the outputstream** in some **other place in the code** that was not posted above.

# css - CSS3 Animation Rotate，删除 animate 属性使动画恢复到其原始位置

> ID：11410315
> 
> 赞同：1
> 
> 时间：2012-07-10T09:26:29.943
> 
> 标签：css, css-animations

当我使用下面的代码使用 CSS3 旋转图形时（这只是 webkit 版本，但在我的样式表中有其他浏览器特定版本）。

```
.bottomSmallCogStopAnimating  {
   -webkit-animation-name: rotate;
   -webkit-animation-duration: 5000ms;
    -webkit-animation-iteration-count: infinite;
    -webkit-animation-timing-function: linear;
} 
```

我正在使用 jQuery 添加这个 css 类以通过删除动画名称来停止动画。

```
.stopAnimating {
  -moz-animation: none;
  -webkit-animation: none;
  animation: none;
} 
```

删除此属性似乎会将图形重置为其旋转前的状态，所以我看到的是图形弹回其原始旋转，这看起来很糟糕。

有没有办法阻止这种情况发生，所以浏览器会记住它的最后位置并在此时停止动画？

干杯，斯特凡

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:15:19.847

从 css 中删除动画，或将其设置为“无”，将恢复到初始状态。您可以使用以下命令暂停它：

```
document.getElementsByClassName('bottomSmallCogStopAnimating')[0].webkitAnimationPlayState = 'paused' 
```

或者添加一个类名：

```
.stopAnimating {
-webkit-animation-play-state: paused;
} 
```

我不确定您要做什么。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-11T22:51:48.070

当动画结束时，您正试图保持 100% 状态，对吧？所以动画从 0% 到 100% 动画，然后在 100% 上它保持这样，如果这就是你想要做的，那么你实际上想要添加这个：

```
-webkit-animation-fill-mode:forwards; 
```

不需要 js，这将在动画结束时保持 100% 状态。

# php - 如何通过 HP 或平板电脑拍摄照片并使用 PHP 自动上传？

> ID：11410321
> 
> 赞同：1
> 
> 时间：2012-07-10T09:26:42.207
> 
> 标签：php, javascript, jquery

你能帮我解决这个问题吗？我想用 PHP 编写程序并使用 Jquery mobile。我希望它从设备的相机中捕捉照片。

我可以使用什么方法或功能？一个php库还是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:42:12.083

首先，您在这里提到了多种编程语言。`Javascript`是一种客户端语言（这意味着它将直接从用户的设备运行）。`PHP`是一种服务器端脚本语言（这意味着您无法控制代码，它必须在服务器上运行）。

其次，据我所知，目前尚无法在浏览器中使用 Javascript 访问设备的摄像头。您将不得不使用设备的本机功能。我建议阅读有关 PhoneGap 库的信息。[PhoneGap](http://docs.phonegap.com/en/1.0.0/phonegap_media_capture_capture.md.html)将简化您想做的事情，并减少您为每个设备编写应用程序所需的学习时间，因为代码在多个平台上非常相似。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T18:34:06.770

如果设备上没有应用程序，您将无法访问相机。

对于某些设备，例如 Android，您可以在 HTML 表单中拥有一个上传文件字段，该字段可以访问用户的照片库（他们已经拍摄的照片）。然而，所有 iSheep 产品（iphone、ipad）都阻止了这种访问，并且**需要**为此应用程序。

```
<form ...>
<input type="file"/>
...
</form> 
```

我支持使用 PhoneGap 来帮助创建应用程序。您将能够编写在设备上运行的 javascript。但是，您必须为**每种**类型的设备创建应用程序。

# php - 使用 json_encode 时 PHP 数组被转换为 int

> ID：11410323
> 
> 赞同：-1
> 
> 时间：2012-07-10T09:26:54.283
> 
> 标签：php, json

我有以下数组结构：

```
Array
(
    [t] => 812
    [0] => Array
    (
        [5] => 649
        [6] => 12
    )

    [2] => Array
    (
        [0] => 10
    )

    [3] => Array
    (
        [0] => 1
    )

    [4] => Array
    (
        [0] => 152
    )
) 
```

目前所有的数组索引（除了 t）都是整数。

我想使用 json_encode() 将其转换为等效的 JSON，但是当我这样做时，其中只有一个索引（索引 0）的任何数组都会转换为整数而不是数组。

例如

```
[2] => Array
(
    [0] => 10
) 
```

转换为..

```
{"2":[10] 
```

代替..

```
{"2":[0:10] 
```

如果可以解决问题，那么 JSON 可以使用字符串索引而不是整数。

```
{"2":["0":10]} 
```

关于如何解决这个问题的任何想法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T09:29:10.893

它们不会转换为单个整数，而是转换为只有一个元素的数组！

在 JSON 中，方括号`[]`表示一个数组，而大括号`{}`表示一个对象。

如果您想强制`json_encode`输出对象，例如在您的示例中，您可以选择该选项`JSON_FORCE_OBJECT`（[请参阅文档](http://php.net/manual/en/function.json-encode.php)）：

```
$encoded = json_encode( yourArray, JSON_FORCE_OBJECT ); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T09:30:03.597

`JSON_FORCE_OBJECT`在`json_encode`. _

# sql - 选择 distinct 和 inner join 图像数据类型

> ID：11410333
> 
> 赞同：2
> 
> 时间：2012-07-10T09:27:15.933
> 
> 标签：sql, distinct, sql-server-2012

我正在尝试选择所有已下订单的唯一客户，但是当我尝试包含照片时出现错误。

```
Order Table
ID      |  CustomerID
-----------------------
1       |  2
2       |  1
3       |  2

Customer Table
ID      | Name   | Photo (image, null)
--------------------------
1       | John   | image
2       | Adam   | image
3       | Jack   | image

Expected result
   CustomerID  | Name   | Photo
--------------------------------
1              | John   | image
2              | Adam   | image 
```

到目前为止我的查询：

```
SELECT Distinct o.CustomerID, c.Name, c.Photo
FROM Order o 
inner join Customer c on o.CustomerID = o.ID 
```

这给出了以下错误：

> **图像数据类型不能选择为 DISTINCT，因为它不可比较。**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T09:35:00.443

查询应该是

```
select * from customers where id in (select customerID from orders) 
```

# php - mysql下一条记录，order by

> ID：11410335
> 
> 赞同：0
> 
> 时间：2012-07-10T09:27:16.267
> 
> 标签：php, mysql

我想要的是以下内容，我不知道是否可能，但我希望有人可以帮助我。

我有 2 个查询，第一个是选择指定记录的查询。

第二个查询是确定下一条记录。我知道我可以这样做：

```
SELECT * FROM table WHERE id > given_id ORDER BY id LIMIT 1 
```

现在的问题是 ORDER BY 是可变的（访问者可以更改排序顺序）

我只得到了要排序的 id 和表格（由 php 给出）。当排序顺序为例如 ORDER BY date 或 ORDER BY time 等时，我也想知道下一条记录。

有没有办法用 MYSQL 做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:32:10.787

为什么需要 2 个查询？使用一个查询 SELECT * FROM table WHERE id > given_id ORDER BY ?? （可能有页面大小限制），然后从上述结果集中获取您的记录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:39:30.463

试试这个：

```
select * from table  where id = (select min(id) from table where id > given_id); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:44:12.817

你可以这样做

```
-- skip 0, load one (same as LIMIT 1)
SELECT * FROM table WHERE id > given_id
ORDER BY id
LIMIT 0,1

-- skip one, load one
SELECT * FROM table WHERE id > given_id
ORDER BY id
LIMIT 1,1 
```

# maven-2 - Maven - 将 WSDL 自动生成的代码放在不同的文件夹中

> ID：11410337
> 
> 赞同：0
> 
> 时间：2012-07-10T09:27:20.440
> 
> 标签：maven-2, cxf, wsimport

我有一个目录，比如 2 个 wsdl 文件 - a.wsdl 和 b.wsdl。使用 Maven，我需要从 wsdl 文件自动生成类型，但将源文件放在不同的文件夹中。我的意思是我需要将 a.wsdl 生成的类型放在 target/generated/atypes 中，将 b.wsdl 中生成的类型放在 target/generated/btypes 中。提出这个问题的原因是 a.wsdl 和 b.wsdl 共享一些公共类型，并且当运行自动生成目标时，它会覆盖之前从 a.wsdl 生成的类型源。

现有插件似乎不可能做到这一点 - mojo、cxf-code-gen 等。或者有没有办法？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:39:47.890

[http://cxf.apache.org/docs/maven-cxf-codegen-plugin-wsdl-to-java.html](http://cxf.apache.org/docs/maven-cxf-codegen-plugin-wsdl-to-java.html)

似乎我们可以指定要读取的 wsdl 和插件执行的输出目录。尝试进行两次执行（具有不同的 ID），并为您的每个 wsdl 配置每个执行。

# search - 是否可以在 Solr 中配置增量导入而不对数据库模式进行任何更改？

> ID：11410339
> 
> 赞同：0
> 
> 时间：2012-07-10T09:27:30.610
> 
> 标签：search, solr

我想使用 solr 索引并希望配置 Delta Imports，对于 Delta Imports，我需要更改数据库模式以添加我不想做的最后修改的日期时间戳，

是否可以在 Solr 中配置增量导入而不对数据库模式进行任何更改？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:33:45.007

如果你想让你的表保持不变，你可以创建一个视图并添加必要的列来跟踪那里的变化，让你的表保持不变。

# css - 是否有任何好的风格指南争论应该用 css 圆角多少？

> ID：11410342
> 
> 赞同：2
> 
> 时间：2012-07-10T09:27:48.597
> 
> 标签：css

我正在与一位同事讨论在我们正在设计的网页上对元素进行多少舍入，这让我想知道是否有任何好的样式指南或设计手册来解决这些类型的设计问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T11:09:03.357

我想你正在寻找这样的东西？[指导](http://www.webdesignfromscratch.com/web-design/web-2-0-design-style-guide/)

我唯一知道的是我从一位比利时设计师那里读到的一篇文章，他正在对 Instagram 进行微调，在此之前他有一家公司很快被 Facebook 接管（不记得他们做了什么）。

他应用的规则非常简单：

1.  保持简单，而不是 500 个不同的地方供人们点击或聚焦。

2.  使用简单干净的布局，他给出的例子是早期的 facebook 版本之一。

3.  您总是可以改进设计，但不能通过添加东西作为布局。一块一块地取下来。

这就是我能说的。

**编辑**

找到一个好的设计网站，而不仅仅是一个网站。[地点](http://startupsthisishowdesignworks.com/)

**编辑 2**

在四处冲浪之后，我并没有真正找到边缘或类似东西应该有多锋利的指南，但我确实找到了何时使用它们：[SITE](http://designmodo.com/rounded-corners/)

# mysql - 分析连接以诊断“连接过多”错误

> ID：11410343
> 
> 赞同：0
> 
> 时间：2012-07-10T09:28:00.053
> 
> 标签：mysql

我的网站当前收到以下错误消息：`Error establishing a database connection`. 如果我继续 /phpma，我会收到这个：`#1040 - Too many connections`.

如果我重新启动`mysqld`，问题会暂时消失。

不幸的是，它现在已经回来了三遍。

我的专用盒子的内存也从 8Gb 降至不到 1Gb。

```
Total Memory    8181984 kB
Free Memory 99344 kB
Total Swap Memory   1051064
kB Free Swap Memory 0 kB 
```

如果我进入`mysql`服务器并执行`SHOW PROCESSLIST`，我会收到以下信息：

```
| 17181 | my_db | localhost | my_db | Query   | 35117 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'boraras-brigittae' AND wp_po |
| 17182 | my_db | localhost | my_db | Query   | 35118 | Waiting for table level lock | SELECT post_modified_gmt FROM wp_posts WHERE post_status = 'publish' AND post_type IN ('post', 'page |
| 17183 | my_db | localhost | my_db | Query   | 35117 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'boraras-brigittae' AND wp_po |
| 17184 | my_db | localhost | my_db | Query   | 35117 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'boraras-brigittae' AND wp_po |
| 17185 | my_db | localhost | my_db | Query   | 35041 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'akysis-vespa' AND wp_posts.p |
| 17186 | my_db | localhost | my_db | Query   | 35050 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('images','profiledotline-gif') A |
| 17187 | my_db | localhost | my_db | Query   | 35050 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('images','picarrow-gif') AND (po |
| 17188 | my_db | localhost | my_db | Query   | 35043 | Waiting for table level lock | SELECT post_modified_gmt FROM wp_posts WHERE post_status = 'publish' AND post_type IN ('post', 'page |
| 17189 | my_db | localhost | my_db | Query   | 35041 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('m','marginal') AND (post_type = |
| 17190 | my_db | localhost | my_db | Query   | 34989 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'piaractus-brachypomus' AND w |
| 17191 | my_db | localhost | my_db | Query   | 34989 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('w','wet-dry-filter') AND (post_ |
| 17192 | my_db | localhost | my_db | Query   | 34990 | Waiting for table level lock | SELECT SQL_CALC_FOUND_ROWS  wp_posts.ID FROM wp_posts  WHERE 1=1  AND wp_posts.post_type = 'post' AN |
| 17193 | my_db | localhost | my_db | Query   | 34954 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'corydoras-sterbai' AND wp_po |
| 17194 | my_db | localhost | my_db | Query   | 34954 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'piaractus-brachypomus' AND w |
| 17195 | my_db | localhost | my_db | Query   | 34955 | Waiting for table level lock | SELECT SQL_CALC_FOUND_ROWS  wp_posts.ID FROM wp_posts  WHERE 1=1  AND wp_posts.post_type = 'post' AN |
| 17196 | my_db | localhost | my_db | Query   | 34954 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'piaractus-brachypomus' AND w |
| 17197 | my_db | localhost | my_db | Query   | 34897 | Waiting for table level lock | SELECT SQL_CALC_FOUND_ROWS  wp_posts.ID FROM wp_posts  WHERE 1=1  AND wp_posts.post_type = 'post' AN |
| 17198 | my_db | localhost | my_db | Query   | 34955 | Waiting for table level lock | SELECT SQL_CALC_FOUND_ROWS  wp_posts.ID FROM wp_posts  WHERE 1=1  AND wp_posts.post_type = 'post' AN |
| 17199 | my_db | localhost | my_db | Query   | 34898 | Waiting for table level lock | SELECT post_modified_gmt FROM wp_posts WHERE post_status = 'publish' AND post_type IN ('post', 'page |
| 17200 | my_db | localhost | my_db | Query   | 34897 | Waiting for table level lock | SELECT SQL_CALC_FOUND_ROWS  wp_posts.ID FROM wp_posts  WHERE 1=1  AND wp_posts.post_type = 'post' AN |
| 17201 | my_db | localhost | my_db | Query   | 34898 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('forums','lofiversion','index-ph |
| 17202 | my_db | localhost | my_db | Query   | 34897 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('forums') AND (post_type = 'page |
| 17204 | my_db | localhost | my_db | Query   | 34897 | Waiting for table level lock | SELECT post_modified_gmt FROM wp_posts WHERE post_status = 'publish' AND post_type IN ('post', 'page |
| 17205 | my_db | localhost | my_db | Query   | 34897 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'sawbwa-resplendens' AND wp_p |
| 17206 | my_db | localhost | my_db | Query   | 34897 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'badis-sp-buxar' AND wp_posts |
| 17207 | my_db | localhost | my_db | Query   | 34898 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'melanotaenia-boesemani' AND  |
| 17208 | my_db | localhost | my_db | Query   | 34898 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'betta-prima' AND wp_posts.po |
| 17209 | my_db | localhost | my_db | Query   | 34865 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('forums') AND (post_type = 'page |
| 17210 | my_db | localhost | my_db | Query   | 34897 | Waiting for table level lock | SELECT SQL_CALC_FOUND_ROWS  wp_posts.ID FROM wp_posts  WHERE 1=1  AND wp_posts.post_type = 'post' AN |
| 17211 | my_db | localhost | my_db | Query   | 34898 | Waiting for table level lock | SELECT post_modified_gmt FROM wp_posts WHERE post_status = 'publish' AND post_type IN ('post', 'page |
| 17213 | my_db | localhost | my_db | Query   | 34864 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'piaractus-brachypomus' AND w |
| 17214 | my_db | localhost | my_db | Query   | 34864 | Waiting for table level lock | SELECT SQL_CALC_FOUND_ROWS  wp_posts.ID FROM wp_posts  WHERE 1=1  AND wp_posts.post_type = 'post' AN |
| 17215 | my_db | localhost | my_db | Query   | 34864 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('knowledge-base') AND (post_type |
| 17216 | my_db | localhost | my_db | Query   | 34865 | Waiting for table level lock | SELECT SQL_CALC_FOUND_ROWS  wp_posts.ID FROM wp_posts  WHERE 1=1  AND wp_posts.post_type = 'post' AN |
| 17217 | my_db | localhost | my_db | Query   | 34864 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'piaractus-brachypomus' AND w |
| 17218 | my_db | localhost | my_db | Query   | 34864 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'badis-sp-buxar' AND wp_posts |
| 17219 | my_db | localhost | my_db | Query   | 34864 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('forums','lofiversion','index-ph |
| 17220 | my_db | localhost | my_db | Query   | 34864 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'betta-prima' AND wp_posts.po |
| 17221 | my_db | localhost | my_db | Query   | 34864 | Waiting for table level lock | SELECT SQL_CALC_FOUND_ROWS  wp_posts.ID FROM wp_posts  WHERE 1=1  AND wp_posts.post_type = 'post' AN |
| 17222 | my_db | localhost | my_db | Query   | 34865 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'piaractus-brachypomus' AND w |
| 17223 | my_db | localhost | my_db | Query   | 34864 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'piaractus-brachypomus' AND w |
| 17224 | my_db | localhost | my_db | Query   | 34865 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'hemichromis-lifalili' AND wp |
| 17225 | my_db | localhost | my_db | Query   | 34864 | Waiting for table level lock | SELECT post_modified_gmt FROM wp_posts WHERE post_status = 'publish' AND post_type IN ('post', 'page |
| 17226 | my_db | localhost | my_db | Query   | 34862 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'apistogramma-borellii' AND w |
| 17227 | my_db | localhost | my_db | Query   | 34863 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'melanotaenia-lacustris' AND  |
| 17228 | my_db | localhost | my_db | Query   | 34862 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'melanotaenia-lacustris' AND  |
| 17229 | my_db | localhost | my_db | Query   | 34861 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'mikrogeophagus-altispinosus' |
| 17230 | my_db | localhost | my_db | Query   | 34861 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.ID = 25503 AND wp_posts.post_type = 'atta |
| 17231 | my_db | localhost | my_db | Query   | 34803 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'piaractus-brachypomus' AND w |
| 17232 | my_db | localhost | my_db | Query   | 34803 | Waiting for table level lock | SELECT SQL_CALC_FOUND_ROWS  wp_posts.ID FROM wp_posts  WHERE 1=1  AND wp_posts.post_type = 'post' AN |
| 17233 | my_db | localhost | my_db | Query   | 34803 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('knowledge-base') AND (post_type |
| 17234 | my_db | localhost | my_db | Query   | 34803 | Waiting for table level lock | SELECT post_modified_gmt FROM wp_posts WHERE post_status = 'publish' AND post_type IN ('post', 'page |
| 17235 | my_db | localhost | my_db | Query   | 34803 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('forums') AND (post_type = 'page |
| 17236 | my_db | localhost | my_db | Query   | 34803 | Waiting for table level lock | SELECT SQL_CALC_FOUND_ROWS  wp_posts.ID FROM wp_posts  WHERE 1=1  AND wp_posts.post_type = 'post' AN |
| 17237 | my_db | localhost | my_db | Query   | 34803 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('forums') AND (post_type = 'page |
| 17238 | my_db | localhost | my_db | Query   | 34788 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('m','migrate') AND (post_type =  |
| 17239 | my_db | localhost | my_db | Query   | 34788 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'hemichromis-lifalili' AND wp |
| 17240 | my_db | localhost | my_db | Query   | 34788 | Waiting for table level lock | SELECT post_modified_gmt FROM wp_posts WHERE post_status = 'publish' AND post_type IN ('post', 'page |
| 17241 | my_db | localhost | my_db | Query   | 34788 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('forums') AND (post_type = 'page |
| 17242 | my_db | localhost | my_db | Query   | 34788 | Waiting for table level lock | SELECT SQL_CALC_FOUND_ROWS  wp_posts.ID FROM wp_posts  WHERE 1=1  AND wp_posts.post_type = 'post' AN |
| 17243 | my_db | localhost | my_db | Query   | 34788 | Waiting for table level lock | SELECT post_modified_gmt FROM wp_posts WHERE post_status = 'publish' AND post_type IN ('post', 'page |
| 17244 | my_db | localhost | my_db | Query   | 34788 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('forums','lofiversion','index-ph |
| 17245 | my_db | localhost | my_db | Query   | 34788 | Waiting for table level lock | SELECT post_modified_gmt FROM wp_posts WHERE post_status = 'publish' AND post_type IN ('post', 'page |
| 17246 | my_db | localhost | my_db | Query   | 34788 | Waiting for table level lock | SELECT post_modified_gmt FROM wp_posts WHERE post_status = 'publish' AND post_type IN ('post', 'page |
| 17247 | my_db | localhost | my_db | Query   | 34788 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('forums') AND (post_type = 'page |
| 17248 | my_db | localhost | my_db | Query   | 34788 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'geophagus-brokopondo' AND wp |
| 17249 | my_db | localhost | my_db | Query   | 34788 | Waiting for table level lock | SELECT   wp_posts.* FROM wp_posts  WHERE 1=1  AND wp_posts.post_name = 'hyphessobrycon-amandae' AND  |
| 17253 | my_db | localhost | my_db | Query   | 34788 | Waiting for table level lock | SELECT SQL_CALC_FOUND_ROWS  wp_posts.ID FROM wp_posts  WHERE 1=1  AND wp_posts.post_type = 'post' AN |
| 17255 | my_db | localhost | my_db | Query   | 34786 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('knowledge-base') AND (post_type |
| 17260 | my_db | localhost | my_db | Query   | 34786 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('s','silver-sand') AND (post_typ |
| 17262 | my_db | localhost | my_db | Query   | 34786 | Waiting for table level lock | SELECT ID, post_name, post_parent FROM wp_posts WHERE post_name IN ('forums') AND (post_type = 'page |
| 25505 | root      | localhost | NULL      | Query   |     2 | NULL                         | SHOW PROCESSLIST 
```

我尝试`mysql`使用该`--log-slow-queries[slow-queries]`标志运行，但它似乎没有做任何事情 -`slow-queries`至少在我的盒子上的任何地方都找不到名为的文件。

我猜这是某个地方的可疑查询，但我不知道从哪里开始寻找！

* * *

**编辑：点击和设置**

*   MySQL 当前最多同时运行 500 个连接
*   PHP 的内存限制非常高（大约 1Gb），因为我正在尝试对脚本进行一些性能测试
*   仅此网站（框内还有其他网站；目前所有网站都受到此错误的影响）每周接收约 30,000 名独立访问者和 250,000 次点击

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:09:17.747

你可以试试这个来捕捉慢查询：

在 /etc/my.cnf 文件中，这是 mysql 配置文件

将这两行放在 [mysqld] 部分下

```
slow_query_log_file=/var/log/mysql-log-slow-queries.log
long_query_time=2 
```

希望这有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:52:52.690

根据我在高负载级别的经验，wordpress（我假设它是基于表名的 wordpress）对于慢速查询相当不利。一旦表达到一定的大小（post 表是这里的主要问题），查询就会变得非常慢，您需要优化以跟上步伐。

在 MySQL 优化术语中，它与分配给缓冲区和 MySQL 查询缓存的内存量有关，对于 wordpress，它关于尽可能多地从数据库中卸载。

从堆栈的顶部到底部，您可以执行一些不同的操作：

1.  WordPress 优化。简而言之，删除未使用的插件，添加页面缓存（W3 Total Cache 是黄金标准），尽可能多地从数据库中卸载。还要考虑减少您为每个帖子存储的“修订”数量（[请参见此处](http://codex.wordpress.org/Editing_wp-config.php#Post_Revisions)）。对于一个有 5 年历史的网站，您的修订版本可能比您发布的帖子多得多，这会减慢帖子查找速度（代码片段中的查询都是帖子查找）。

2.  MySQL 优化。这是一个棘手的问题，仅仅是因为你可以调整一大堆表盘，而找到合适的平衡是一门黑暗的艺术。那里有很多文章和教程，我没有任何具体的推荐，但是一个简单的谷歌会抛出很多关于你可以对 my.cnf 文件进行调整的信息。

# c++ - 如何查找其他 c 程序的运行时

> ID：11410345
> 
> 赞同：0
> 
> 时间：2012-07-10T09:28:06.180
> 
> 标签：c++, c, time

我想找到另一个程序运行的时间；我正在使用以下代码；

```
system("time ./a.out > garb"); 
```

它给出了非常奇怪的输出。

```
#include <stdio.h>

int main()
{

        long int i;

        for ( i = 0; i < 10000000; i++ ) {
                printf("Hello World!\n");
        }
        printf("C Program\n");
        return 0;
} 
```

输出

```
0.31user 0.10system 0:00.41elapsed 99%CPU (0avgtext+0avgdata 1744maxresident)k
0inputs+253912outputs (0major+149minor)pagefaults 0swaps 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:58:56.793

一种方法是使用`wait3`或`wait4`功能（如果您的系统中可用）。

```
pid_t wait3(int *status, int options, struct rusage *rusage);    
pid_t wait4(pid_t pid, int *status, int options, struct rusage *rusage); 
```

您的程序将在子进程退出后获取子进程的资源使用情况。

的所有字段`struct rusage`都没有更新，但前两个字段告诉你想要什么：

```
struct rusage {
    struct timeval ru_utime; /* user CPU time used */
    struct timeval ru_stime; /* system CPU time used */
    ... 
```

和是子进程使用`ru_utime`的`ru_stime`总 CPU 时间。

使用 of`wait3 / wait4`并不像调用`system()`函数那么简单。

编辑：您应该通过将这两个打印输出值相加来获得相同的结果`time`：

> 0.31用户 0.10系统

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:33:57.003

i think we can found another way instead of `time` in system. Something like :

```
#include <stdio.h>
#include <time.h>

int main() 
{
    clock_t start = clock();
    system('./a.out');
    printf("Time elapsed: %f\n", ((double)clock() - start) / CLOCKS_PER_SEC);
    return (0);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T10:10:26.847

英特尔处理器插入了一个 64 位的寄存器，以计算进程的时钟。

[http://en.wikipedia.org/wiki/Time_Stamp_Counter](http://en.wikipedia.org/wiki/Time_Stamp_Counter)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T10:12:05.090

在我看来，使用 C 的库函数或系统调用很难得到准确的结果。相反，最好使用 Performance API ( [PAPI](http://icl.cs.utk.edu/papi/) ) 以获得更准确的结果。具体可以看PAPI定义的这个[函数。](http://icl.cs.utk.edu/papi/docs/d2/d16/classPAPI__get__real__cyc.html)

# c++ - 带有嵌套模板的 C++ typedef 不是类、结构或联合类型

> ID：11410350
> 
> 赞同：5
> 
> 时间：2012-07-10T09:28:22.753
> 
> 标签：c++, templates, typedef, typename

我不确定为什么不使用 g++ 编译以下代码：

```
t.cpp: In instantiation of ‘Distrib<double>’:
t.cpp:28:56:   instantiated from ‘Sampler<Distrib<Solution<double> > >’
t.cpp:35:48:   instantiated from here
t.cpp:16:45: erreur: ‘double’ is not a class, struct, or union type
t.cpp:18:43: erreur: ‘double’ is not a class, struct, or union type 
```

我期待能够`AtomType`在嵌套模板中传播类型……</p>

```
#include <iostream>
#include <vector>

template<typename T>
class Solution
{
    public:
        typedef T AtomType;
};

template<typename SOLT>
class Distrib
{
    public:
        typedef typename SOLT::AtomType AtomType;
        typedef std::vector<AtomType> Matrix;

        Matrix matrix;
};

template<typename DT>
class Sampler
{
    public:
        typedef typename DT::AtomType AtomType;
        typedef typename Distrib<AtomType>::Matrix Matrix;

        Matrix matrix;
};

int main()
{
    Sampler< Distrib< Solution<double> > > sampler;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T09:33:10.257

In your `Distrib` template you have the following `typedef`

```
typedef typename SOLT::AtomType AtomType; 
```

Which means that any type you pass in as a template parameter, must have a `AtomType` as a member, and `double` has no such thing.

If you made a class like so

```
class Double
{
   typedef myType AtomType;
}; 
```

and passed that in as a template parameter to your `Distrib` template, it would compile, as `Double::AtomType` does exist.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-10T10:10:02.750

在你的`Sampler`课堂上，你有：

```
typedef typename Distrib<AtomType>::Matrix Matrix; 
```

这里，`AtomType`是`double`，所以这是

```
typedef typename Distrib<double>::Matrix Matrix; 
```

然后在你的`Distrib`课上，这条线

```
typedef typename SOLT::AtomType AtomType; 
```

扩展到

```
typedef typename double::AtomType AtomType; 
```

因此出现错误消息。我想你希望`Sampler`课堂上的那一行是：

```
typedef typename DT::Matrix Matrix; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T10:33:57.113

`Distrib`被模板化为`Solution`; 但是在`Sampler::Matrix`您`AtomType`用作模板参数的定义中。据推测，您只想要`Distrib`提供的类型`Sampler`：

```
template<typename DT>
class Sampler
{
    // ...
    typedef typename DT::Matrix Matrix;
}; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-10T09:50:00.500

类中的`Matrix`typedef`Distrib`正在使用`AtomType`，但我们期望的是`DT`：

```
typedef typename Distrib<DT>::Matrix Matrix; 
```

编译器看到`double`跨嵌套模板传播。

# android - Android：更改选项卡必须刷新我的数据库列表视图

> ID：11410355
> 
> 赞同：0
> 
> 时间：2012-07-10T09:28:47.073
> 
> 标签：android, database, tabs, refresh

我有一个使用标签主机制作的应用程序。单击时我需要刷新我的列表视图（第二个选项卡）。此视图包含数据库数据，很明显它需要始终保持最新状态（因为在整个应用程序中我进行了更新、插入、删除……我该怎么做？

这是选项卡调用的类中的 onCreate

```
 super.onCreate(savedInstanceState); 
    setContentView(R.layout.bookmarks); 
    final Database info=new Database(this); 
    final Timer t = new Timer(); 
    info.open(); 
    final Cursor data=info.getData(); 
    final ListView listView1 = (ListView) findViewById(R.id.list_mia); 
    String[] from = new String[] {"contenuto"};
    int[] to = new int[] { android.R.id.text1 };
    SimpleCursorAdapter adapter = new SimpleCursorAdapter(this,android.R.layout.simple_list_item_1, data, from, to); 
    listView1.setAdapter(adapter); 
```

这是选项卡类（“有罪的类是书签）

```
 super.onCreate(savedInstanceState);
    setContentView(R.layout.tabs);
    TabHost tabHost = getTabHost();
    // Tab per lettore
    TabSpec lettoretab = tabHost.newTabSpec("Lettore");
    lettoretab.setIndicator("Lettore", getResources().getDrawable(R.drawable.lettore));
    Intent lettoreIntent = new Intent(this, Lettore.class);
    lettoretab.setContent(lettoreIntent);
    // Tab per bookmarks
    TabSpec bookmarkstab = tabHost.newTabSpec("Bookmarks");
    bookmarkstab.setIndicator("Bookmarks", getResources().getDrawable(R.drawable.bookmarks));
    Intent bookmarksIntent = new Intent(this, Bookmarks.class);
    bookmarkstab.setContent(bookmarksIntent);
    // Tab per create
    TabSpec createtabs = tabHost.newTabSpec("Create");
    createtabs.setIndicator("Create", getResources().getDrawable(R.drawable.create));
    Intent createIntent = new Intent(this, Create.class);
    createtabs.setContent(createIntent);
    // Tab per feed
    TabSpec feedtabs = tabHost.newTabSpec("Feed");
    feedtabs.setIndicator("Feed", getResources().getDrawable(R.drawable.feed));
    Intent feedIntent = new Intent(this, Feeds.class);
    feedtabs.setContent(feedIntent);
    // Tab per actionmobileapp
    TabSpec actionmobileapptabs = tabHost.newTabSpec("App");
    actionmobileapptabs.setIndicator("App", getResources().getDrawable(R.drawable.actionmobileapp));
    Intent actionmobileappIntent = new Intent(this, Actionmobileapp.class);
    actionmobileapptabs.setContent(actionmobileappIntent);
    // Aggiungo i tabs
    tabHost.addTab(lettoretab);
    tabHost.addTab(bookmarkstab);
    tabHost.addTab(createtabs);
    tabHost.addTab(feedtabs);
    tabHost.addTab(actionmobileapptabs); 
```

我试过回忆 onResume 中的代码，但没有成功......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:38:28.413

```
TabHost tabHost = getTabHost();
            Intent intent = new Intent(this, c);
            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
            TabHost.TabSpec spec = tabHost.newTabSpec("tab" + labelId);
            View tabIndicator = LayoutInflater.from(this).inflate(
                    R.layout.tab_indicator, getTabWidget(), false);
            TextView title = (TextView) tabIndicator.findViewById(R.id.title);
            title.setText(labelId);
            ImageView icon = (ImageView) tabIndicator.findViewById(R.id.icon);
            icon.setImageResource(drawableId);

            spec.setIndicator(tabIndicator);
            spec.setContent(intent);
            tabHost.addTab(spec); 
```

将此添加到 addTab() 内的 TabActivity 类中。

谢谢....

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:36:07.723

这可能与此重复：

[SimpleCursorAdapter 不随数据库更改而更新](https://stackoverflow.com/questions/1985955/android-simplecursoradapter-not-updating-with-database-changes)

您应该查看您想要使用的 LoaderManager 的 Android 文档。

[LoaderManager 类参考和代码示例](http://developer.android.com/reference/android/app/LoaderManager.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:49:16.373

在 'Activity' 中公开 'adpater' 变量，并在这里`onResume`调用这个 mett是您新更新的光标。不要忘记调用它。`adapter.swapCursor(c)``c``notifyDataSetChanged()`

# html - CSS悬停中的图像调整大小不起作用

> ID：11410361
> 
> 赞同：0
> 
> 时间：2012-07-10T09:29:07.650
> 
> 标签：html, css

当我将鼠标悬停在图像上时，我必须放大图像，它应该从 100x75 像素放大到 300x225 像素。布局似乎工作正常，只是宽度在悬停时没有按比例放大。先感谢您。图像的缩放比例不应超过 300x225 像素。

CSS：

```
.hoverbox a .preview {
   display: none; 
}
.hoverbox a .preview img {
   display: inline; 
}
.hoverbox a:hover .preview {
   display: block;
   position: absolute;
   top: -1em;
   left: -2em;
   z-index: 10;
   border-width: 1px 1px 6px 1px; 
   border-style: solid; 
   border-color: #fff7ea;
   border-radius: 3px; 
   -moz-border-radius: 3px; 
   -webkit-border-radius: 3px; 
   -moz-box-shadow: 2px 2px 2px #161615;
   -webkit-box-shadow: 2px 2px 2px #161615;
   box-shadow: 2px 2px 2px #161615;
}
.hoverbox img {
   background: #fff;
   border-width: 1px 1px 6px 1px; 
   border-style: solid; 
   border-color: #fff7ea;
   border-radius: 3px; 
   -moz-border-radius: 3px; 
   -webkit-border-radius: 3px; 
   -moz-box-shadow: 2px 2px 2px #161615;
   -webkit-box-shadow: 2px 2px 2px #161615;
   box-shadow: 2px 2px 2px #161615;
       padding: 2px;
   vertical-align: top;
   width: 100px;
   height: 75px;
}
.hoverbox li
{
   background: transparent;
   display: inline;
   float: left;
   margin: 3px;
   padding: 5px;
   position: relative;
 }

.hoverbox .preview {
   width: 300px;
   height: 225px;
} 
```

HTML：

```
 <section>  
         <h1 class="headline">Feast your eyes.</h1>
         <ul class="hoverbox">
            <li>
                <a href="#"><img src="200opt.jpg" alt="descr"/><img src="200opt.jpg" alt="description" class="preview" /></a>
            </li>
         </ul>

    </section> 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:36:47.747

看看使用 Jquery 的这种方法：

```
$('img').hover(function(){

$(this).width('500px');
$(this).height('400px');

}, function(){

    // set default image width & height

$(this).width('400px');
$(this).height('300px');

})​ 
```

[例子](http://jsfiddle.net/GxjUt/3/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:34:25.757

```
.hoverbox img:hover{
  width: 300px;
  height: 225px;
} 
```

Working Fiddle with your class - [http://jsfiddle.net/cDxgj/2/](http://jsfiddle.net/cDxgj/2/)

Hope this helps!

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T09:37:06.547

也许你应该使用`img:hover`而不是`a:hover`在你的 CSS 中？没有必要缩放锚标签。似乎您正在尝试使房间更大，而不是房间中的图像？如果您希望锚标签也可以缩放，那么您只需使用`position:absolute;`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-10T09:40:23.423

```
<ul class="hoverbox">
          <li>
            <a href="#"><img src="200opt.jpg" alt="descr"/><img src="200opt.jpg" alt="description" class="preview" /></a>
           </li>
</ul> **/* close ul*/** 
```

# php - PHP调用function_exists中的函数

> ID：11410363
> 
> 赞同：3
> 
> 时间：2012-07-10T09:29:12.670
> 
> 标签：php, function

如果我使用`function_exists`如下：

```
if ( ! function_exists( 'get_value' ) ) :
    function get_value( $field ) {
    ..
    return $value;
}
endif; 
```

现在，当我在上述函数之前调用同一文件中的函数时，它会给出致命错误：

```
Fatal error: Call to undefined function get_value() ... 
```

但是，如果我在上述函数之后调用它，它将返回值而没有任何错误。

现在，如果我删除 function_exists 条件，即：

```
function get_value( $field ) {
    ..
    return $value;
} 
```

然后，如果我在同一文档中之前或之后调用此函数，它将起作用。为什么会这样？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T09:34:37.400

If you define the function directly without the if statement, it will be created while parsing / compiling the code and as a result it is available in the entire document.

If you put it inside the if, it will be created when executing the if statement and so it is not possible to use it before your definition. At this point, everything written above the if statement is executed already.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:38:58.280

您在声明它之前调用该函数，这就是它显示错误的原因。在 IF 语句上方声明您的功能，例如：

```
function get_value(){
//your statements
} 
```

和写

```
if(condition){
//your statements
} 
```

# compression - 使用 SQL Server 2008 R2 进行数据库压缩

> ID：11410365
> 
> 赞同：0
> 
> 时间：2012-07-10T09:29:22.373
> 
> 标签：compression, sql-server-2008-r2, backup

在 SQL Server 2008 R2 中，备份时压缩字段下有 3 种可用模式

1.  使用默认服务器设置
2.  压缩备份
3.  不要压缩备份

在这里我有一个问题，当我们通过选择选项进行备份时`Compress Backup`，它会影响数据库的任何类型的数据丢失或性能问题，或者它与选择`Do not Compress Backup`或`Use the default server setting`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T12:22:49.013

由于大多数系统受 I/O 限制而不是 CPU 限制，因此在启用压缩的情况下，备份几乎总是会更快完成（并且总是占用更少的磁盘空间，除非数据已经高度压缩或不可压缩）。它也将更便携，因为较小的文件对网络更友好。

在使用压缩时，我从未听说过任何数据丢失或性能损失的情况。唯一的例外是完全没有 I/O 约束但已经高度受 CPU 限制的系统（因为压缩会以 CPU 周期的一些 I/O 成本进行权衡）。

# cocos2d-iphone - cocos2d 中的移动层看起来不平滑

> ID：11410367
> 
> 赞同：2
> 
> 时间：2012-07-10T09:29:36.010
> 
> 标签：cocos2d-iphone, layer, cocos2d-x

我有如下代码

```
if(condition)
  sprite->setPosition(newPosition)
else
  layer->moveBy(diff) 
```

它工作正常，但运动不流畅..
（代码试图将精灵保持在中心，而精灵不在图层边界附近）

setPosition() 和 moveBy() 交替调用，我认为这会导致不平滑。

```
1\. move layer and sprite is also off the center.  
2\. move sprite to center
1\. go back to 1\. 
```

我怎样才能解决这个问题？我想知道我是否可以将精灵单独留在屏幕中央来移动图层。

# ruby-on-rails - rails导航栏上的登录表单

> ID：11410369
> 
> 赞同：0
> 
> 时间：2012-07-10T09:29:41.267
> 
> 标签：ruby-on-rails, ruby-on-rails-3, forms

我为导航栏创建了这个表单：

```
<form action="/sessions" method="post" class="well form-inline">  
<input id="user_email" name="user[email]" type="text" placeholder="Email">  
<input id="user_password" name="user[password]" type="password" placeholder="Password">  
<label class="checkbox">  
<input type="checkbox"> Remember me  
</label>  
<button name="commit" type="submit" class="btn">Sign in</button>  
</form> 
```

该表单位于导航栏上，我必须告诉它进入`sessions controller`并使用该`create`操作。这是怎么做的？我找了好几天！

……

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:42:01.487

这是erb吗？如果是这样，您应该使用 form_for 并简单地给它会话对象。见[这里](http://api.rubyonrails.org/classes/ActionView/Helpers/FormHelper.html#method-i-form_for)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:38:37.613

你可以这样做：

```
<% form_tag(:controller => "/search", :action => "create", :method => "post") do %>
    # The input fields and other fields
    # <%= input_tag(..params..) %> and so on
<% end %> 
```

如此处所述：[Rails Guides: Multiple Hashes in form helpers](http://guides.rubyonrails.org/form_helpers.html#multiple-hashes-in-form-helper-calls)

# jquery - jqGrid 导航器重新加载

> ID：11410371
> 
> 赞同：1
> 
> 时间：2012-07-10T09:29:46.803
> 
> 标签：jquery, jqgrid

我有一个 jqgrid 导航器，它将网格导出到 csv 中。

```
$('#jqgEndYear').jqGrid('navGrid', '#jqgpEndYear',
                { excel: true, add: false, del: false, edit: false, search: false },
                {}, {}, {});
$("#jqgEndYear").jqGrid('navButtonAdd', '#jqgpEndYear', {
                caption: "",
                onClickButton: function () {
                    alert(mapping);
                    $.post('@Url.Action("ExportEndYearSummaryToCsv")', {
                        clientId: '@Model.Division.Client.ClientID',
                        globalId: '@Model.GlobalId',
                        firstName: '@Model.FirstName',
                        lastName: '@Model.LastName',
                        mapping: mapping,
                        yearEnd: year
                    }, function (data) {
                        window.location.href = data;
                    });
                }
            }); 
```

提交表单时会填充我的 jqGrid。

```
 $('#reviewButton').click(function () {
        var year = $('#YearList').val();
        var mapping = $.trim($('#MappingList').val());          
        if (!firstClick) {
            var postdata = $("#jqgEndYear").jqGrid('getGridParam', 'postData');
            postdata.yearEnd = year;
            postdata.mapping = mapping;
            $("#jqgEndYear").trigger("reloadGrid");
        }
        else {
            firstClick = false;
            $('#jqgEndYear').jqGrid({
                //url from wich data should be requested
                url: '@Url.Action("YearEndReview")',
                //type of data
                datatype: 'json',
                //url access method type
                mtype: 'POST',
                postData: { mapping: mapping, yearEnd: year, clientId: '@Model.Division.Client.ClientID', globalId: '@Model.GlobalId' },
                ....
         } 
```

由于导航器是在第一次单击时定义的，如果我再次提交表单，“映射”和“年份”的值仍然是导出帖子中的旧值。

我怎么解决这个问题？

提前致谢

# vba - 增加 Excel PrintArea 的最大字符串长度

> ID：11410374
> 
> 赞同：1
> 
> 时间：2012-07-10T09:29:55.467
> 
> 标签：vba, excel

不久前我问了一个关于 Excel 打印区域的最大字符串长度的问题：

[Excel中PrintArea的最大字符串长度](https://stackoverflow.com/questions/6014807/maximum-string-length-of-printarea-in-excel)

对于 Excel 2010，打印区域设置为 255。

我认为这是一个只读属性，但是（在这里抓住稻草），有没有办法*增加*打印区域的长度？Excel插件可以吗？

如果没有，一旦达到最大值 255，我将不得不以编程方式设置一个新的打印区域。

**编辑：**

我试过下面的答案：

范围("A1:C3,A5:B6,C7:D8,E1:E2,G1:G2,A10:A11,A13:A14,A16:A17,A19:A20,A22:A23,A25:A26,A28:A29 ,A30:A31,A33:A35,A37:A38,A40:A41,A43:A44,A46:A47,A49:A50,A52:A53,A55:A56,A58:A59,A61:A63,A65:A66,A68 :A69,A71:A72,A74:A75,A77:A78,A80:A81,A83:A84,A86:A87,A88:A89,A91:A92").Name = "MyNamedRange"

工作正常 - 253 个字符。

范围("A1:C3,A5:B6,C7:D8,E1:E2,G1:G2,A10:A11,A13:A14,A16:A17,A19:A20,A22:A23,A25:A26,A28:A29 ,A30:A31,A33:A35,A37:A38,A40:A41,A43:A44,A46:A47,A49:A50,A52:A53,A55:A56,A58:A59,A61:A63,A65:A66,A68 :A69,A71:A72,A74:A75,A77:A78,A80:A81,A83:A84,A86:A87,A88:A89,A91:A92,A94:A95").Name = "MyNamedRange"

运行时错误 1004 -（261 个字符）

所以，我想现在我应该设置多个命名范围，然后设置活动图纸打印区域，依次使用每个命名范围？

非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T19:42:16.563

~~用命名范围作弊：~~

~~`Range("A1:C3,A5:B6,C7:D8").Name = "MyNamedRange"`
然后
`ActiveSheet.PageSetup.PrintArea = "MyNamedRange"`~~

似乎命名范围也有 255 个字符的限制。

下一个解决方案是隐藏您不想打印的行：

```
Private Sub Workbook_BeforePrint(Cancel As Boolean)
    If ActiveSheet.Name = "Sheet1" Then
        Cancel = True ' cancel default print method so we can print out stuff ourselves
        Application.EnableEvents = False
        Application.ScreenUpdating = False
        With ActiveSheet
            .Rows("12").EntireRow.Hidden = True ' hide the rows you want hidden
            .Rows("15").EntireRow.Hidden = True ' hide the rows you want hidden
            .PrintOut
            .Rows("12").EntireRow.Hidden = False ' unhide them after
            .Rows("15").EntireRow.Hidden = False
        End With
        Application.EnableEvents = True
        Application.ScreenUpdating = True
    End If
End Sub 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-14T21:26:28.783

我将总打印区域分成不超过 255 个字符的块。

我将每个块导出到一个单独的 excel 行中，然后遍历每一行，设置 excel 打印区域，然后打印。

# c - 字符串的宽度（以像素为单位）

> ID：11410375
> 
> 赞同：1
> 
> 时间：2012-07-10T09:29:58.440
> 
> 标签：c, linux, string, fonts, pixel

谁能告诉我如何以像素为单位计算字符串的宽度，提供以像素为单位的字体大小？我必须在linux下用C做吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T09:35:44.467

你不能自己做到这一点，除非你有一个定点字体（每个字符总是 X 像素宽）。在这种情况下，当然总宽度 = PixelPerChar * strlen(String)。

在比例字体的一般情况下，如果字符可能被“推得很近”，例如 A 和 V（一种称为“字距调整”的操作），您需要询问字体渲染库，例如 libGD2。这些库通常提供字符串的边界框，给定字体文件、大小、方向和其他参数。

使用[gdImageStringFT](http://www.boutell.com/gd/manual2.0.1.html#gdImageStringFT)的 GD2 示例：

```
int bbox[8]; // x,y of the rectangle bounding the text:
// see manual

gdImageStringFT(NULL,  // "Tell me only"
      bbox,0,
      "/home/lserni/fonts/Verdana.ttf",18,
      0.0,0,0,"Hello world"); 

if (checks on bbox OK)
{
   gdImageStringFT(gdHandle, bbox, 0, ...);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:34:24.000

在最基本的场景中，假设它是一个固定长度的字体：

```
int string_width = strlen(str) * CHAR_WIDTH_PX; 
```

其中 str 是 C 字符串，CHAR_WIDTH_PX 是字体的字符宽度。

但当然，在不同的框架和系统中，事情以不同的方式完成。为了帮助您解决这个问题，我们需要有关您的环境的更多信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:36:25.763

您可能需要类似[FreeType 库的东西](http://www.freetype.org/freetype2/docs/reference/ft2-toc.html)

# xcode - UIBarButtonItem，设置专属触控

> ID：11410379
> 
> 赞同：7
> 
> 时间：2012-07-10T09:30:10.890
> 
> 标签：xcode, touch, uibarbuttonitem

有没有办法进行`UIBarButtonItem`独家接触？目前，您可以同时选择多个，并且它不断使我的应用程序崩溃。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-05T08:23:39.377

比将导航栏子类化稍微简单的方法，但想法相同；

```
for(UIView *temp in self.navigationController.navigationBar.subviews)
{
    [temp setExclusiveTouch:YES];
} 
```

在添加条形按钮项目之后放置它。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-01-10T08:41:37.677

我通过继承 UINavigationBar 和覆盖 layoutSubviews 方法来解决这个问题。像这样的东西：

```
- (void)layoutSubviews {
    [super layoutSubviews];
    for (UIView *view in self.subviews) {
        view.exclusiveTouch = YES;
    }
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-05-13T13:40:56.793

回顾过去，我道歉。我偶然发现了这一点，并希望有比遍历子视图更好的方法。

我发现以下内容使 UIBarButtonItems 独占：

```
[self.navigationController.navigationBar setExclusiveTouch:YES]; 
```

iOS7可能已经继承了独家触摸。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-26T12:04:43.300

在 iOS 7 中它不起作用。我已经使用这种方法来尝试修复它。

```
for(UIView *temp in self.navigationController.navigationBar.subviews){
    [temp setExclusiveTouch:YES];
    for(UIView *temp2 in temp.subviews){
        [temp2 setExclusiveTouch:YES];
    }
 } 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-12-09T15:38:36.043

这不适用于使用 initWithTitle 创建的 UIBarButtonItem

# c# - c#组合框设置项目列表中的问题

> ID：11410387
> 
> 赞同：-6
> 
> 时间：2012-07-10T09:31:00.723
> 
> 标签：c#, combobox

我这里有 2 个组合框。cb1 和 cb2。我需要设置，当cb1.SelectedText =“aa”时，cb2中的项目列表将为“1,2,3”，当cb1.SelectedText =“bb”时，cb2中的项目列表将为“5， 6,7"; 我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:41:58.177

您需要`SelectedIndexChanged`为 cb1 连接事件 -

```
cb1.SelectedIndexChanged += new EventHandler(cb1_SelectedIndexChanged); 
```

根据 cb1 中的选定文本处理事件并填充 cb2，如下所示 -

```
void cb1_SelectedIndexChanged(object sender, EventArgs e)
    {
        // Get Selected Text of cb1
        string selectedText = cb1.SelectedText;

        // Populate cb2 based on the selectedText 
    } 
```

希望能帮助到你...

# directory - 向 jetty 添加多个资源目录

> ID：11410388
> 
> 赞同：13
> 
> 时间：2012-07-10T09:31:16.450
> 
> 标签：directory, jetty, embedded-jetty

希望在 Jetty 中使用多个静态目录。服务器运行时：

```
 http://localhost:8282/A
  http://localhost:8282/B 
  http://localhost:8282/C 
```

*   A 放在 X/V/A
*   B放在Q/Z/B
*   C放在P/T/C

以下失败：

```
 ResourceHandler resource_handler = new ResourceHandler();
    resource_handler.setWelcomeFiles(new String[]{"index.html"});
    resource_handler.setResourceBase(HTML_SITE);

    ResourceHandler resource_handler1 = new ResourceHandler();
    resource_handler1.setWelcomeFiles(new String[]{"index.html"});
    resource_handler1.setResourceBase(HTML_CLIENTZONE_SITE);

    // deploy engine
    WebAppContext webapp = new WebAppContext();

    String dir = System.getProperty("user.dir");
    webapp.setResourceBase(getWebAppPath());
    webapp.setContextPath("/");

     HandlerList handlers = new HandlerList();
    handlers.setHandlers(new Handler[]{resource_handler,resource_handler1 ,webapp,  new DefaultHandler()});
    server.setHandler(handlers); 
```

如何添加多个静态资源目录？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-07-18T00:25:50.497

从 6.1.12 开始，通过对 WebAppContext 的基础资源使用 ResourceCollection 来支持这一点：

```
Server server = new Server(8282);
WebAppContext context = new WebAppContext();
context.setContextPath("/");
ResourceCollection resources = new ResourceCollection(new String[] {
    "project/webapp/folder",
    "/root/static/folder/A",    
    "/root/static/folder/B",    
});
context.setBaseResource(resources);
server.setHandler(context);
server.start(); 
```

要随后打开文件，请使用 ServletContext（例如，WebAppContext），它可以是接口定义的一部分，例如：

```
 /**
   * Opens a file using the servlet context.
   */
  public default InputStream open( ServletContext context, String filename ) {
    String f = System.getProperty( "file.separator" ) + filename;
    return context.getResourceAsStream( f );
  } 
```

如：

```
 InputStream in = open( context, "filename.txt" ); 
```

`filename.txt`如果它存在于给定目录之一中，它将打开。请注意， getResourceAsStream 将返回`null`，而不是抛出异常，因此最好检查一下：

```
 public default InputStream validate( InputStream in, String filename )
    throws FileNotFoundException {
    if( in == null ) {
      throw new FileNotFoundException( filename );
    }

    return in;
  } 
```

然后您可以`open`按如下方式更新该方法：

```
return validate( context.getResourceAsStream( filename ), filename ); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-06-27T19:52:21.803

如果您想将独立资源目录“挂载”到服务器命名空间中的任意 URI，使用`DefaultServlet`具有独立`resourceBase`配置的多个实例是最佳选择。

以下代码段`/A/*`将从文件系统路径`X/V/A`和`/B/*`文件系统路径提供 URI `Q/Z/B`：

```
Server server = new Server();
SelectChannelConnector connector = new SelectChannelConnector();
connector.setPort(Integer.parseInt(port));
server.addConnector(connector);

ServletContextHandler servletHandler = new ServletContextHandler(null, "/", true, false);

// Configuration for serving /A/* from X/V/A
DefaultServlet aServlet = new DefaultServlet();
ServletHolder aHolder = new ServletHolder(aServlet);
aHolder.setInitParameter("resourceBase", "X/V/A");
aHolder.setInitParameter("pathInfoOnly", "true");
servletHandler.addServlet(aHolder, "/A/*");

// Configuration for serving /B/* from Q/Z/B
DefaultServlet bServlet = new DefaultServlet();
ServletHolder bHolder = new ServletHolder(bServlet);
bHolder.setInitParameter("resourceBase", "Q/Z/B");
bHolder.setInitParameter("pathInfoOnly", "true");
servletHandler.addServlet(bHolder, "/B/*");

HandlerList handlers = new HandlerList();
handlers.setHandlers(new Handler[] { servletHandler });
server.setHandler(handlers);

server.start(); 
```

注意：正如您从上面的代码中看到的那样，提供服务的目录的名称不需要与您的示例中`/A/*`的完全相同`A`。两个名称 - 要服务的目录的文件系统名称和将内容映射到的 URI - 是完全独立的。

# android - Eclipse 和互联网连接

> ID：11410393
> 
> 赞同：0
> 
> 时间：2012-07-10T09:31:36.927
> 
> 标签：android, eclipse

要测试使用互联网连接的应用程序，我需要一些东西来配置它的质量，有没有办法在 Eclipse 中做到这一点？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:35:12.660

如果您在 android 模拟器中进行测试，您可以使用 android adt 附带的 Emulator Control。您可以在 DDMS 视图中找到它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T09:36:13.913

您可以`-netdelay`在 Android 模拟器中使用参数来模拟慢速互联网连接。

看这里：

[http://developer.android.com/tools/help/emulator.html#startup-options](http://developer.android.com/tools/help/emulator.html#startup-options)

# c# - Orchard CMS 中的 1:1 实体映射

> ID：11410395
> 
> 赞同：0
> 
> 时间：2012-07-10T09:31:54.527
> 
> 标签：c#, nhibernate, orchardcms

我想知道是否可以在 Orchard CMS 中创建 1:1 映射，我将在一个实体上进行 PK，在另一个实体上使用 PFK 作为键。我很清楚如何在 NHibernate 中做到这一点，但我不太清楚是否有办法在 Orchard 中做到这一点。我是否应该扩展`SchemaBuilder`使用`DataMigrationImpl`，但我还需要一种方法来覆盖基于 NHibernate 约定的映射？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T06:29:59.340

[您可以在 Orchad CMS](http://docs.orchardproject.net/Documentation/Creating-1-n-and-n-n-relations)中查看此文档Creating-1-n-and-nn-relations 。我希望它会帮助你很多。

# ruby-on-rails - 为什么 RSpec 在尝试 click_button 时给出“尝试解锁未锁定的互斥锁”错误？

> ID：11410396
> 
> 赞同：0
> 
> 时间：2012-07-10T09:31:58.493
> 
> 标签：ruby-on-rails, rspec, capybara

我正在尝试测试登录时应该/不应该看到的链接，但 RSpec 抛出以下错误：

```
Failure/Error: before { sign_in user }
ThreadError:
  Attempt to unlock a mutex which is not locked
  # (eval):2:in `click_button'
  # ./spec/support/utilities.rb:5:in `sign_in'
  # ./spec/views/header_spec.rb:19:in `block (3 levels) in <top (required)>' 
```

我的测试块看起来像这样：

```
describe "when signed in" do
  let(:user) { FactoryGirl.create(:user) }
  before { sign_in user }

  it { should have_link("Sign out") }
  it { should_not have_link("Sign up") }
  it { should_not have_link("Log in") }
end 
```

还有我的登录功能：

```
def sign_in(user)
  click_link "Log in"
  fill_in "username", with: user.username
  fill_in "password", with: user.password
  click_button "Log me in!"
  cookies[:remember_token] = user.remember_token
end 
```

我试着换了

```
click_button "Log me in!" 
```

和

```
find(:button, "Log me in!").click 
```

并导致以下错误：

```
Nokogiri::CSS::SyntaxError:
   unexpected '!' after '[#<Nokogiri::CSS::Node:0x00000003645778 @type=:DESCENDANT_SELECTOR, @value=[#<Nokogiri::CSS::Node:0x000000036464e8 @type=:ELEMENT_NAME, @value=["Log"]>, #<Nokogiri::CSS::Node:0x000000036458b8 @type=:DESCENDANT_SELECTOR, @value=[#<Nokogiri::CSS::Node:0x00000003645f98 @type=:ELEMENT_NAME, @value=["me"]>, #<Nokogiri::CSS::Node:0x000000036459f8 @type=:ELEMENT_NAME, @value=["in"]>]>]>]'
 # (eval):3:in `_racc_do_parse_c'
 # (eval):3:in `do_parse'
 # (eval):2:in `find'
 # ./spec/support/utilities.rb:5:in `sign_in'
 # ./spec/views/header_spec.rb:19:in `block (3 levels) in <top (required)>' 
```

然后我尝试用“登录”替换我的按钮文本，不带感叹号，Capybara 抛出 ElementNotFound 错误：

```
Failure/Error: before { sign_in user }
 Capybara::ElementNotFound:
   Unable to find css "Log me in"
 # (eval):2:in `find'
 # ./spec/support/utilities.rb:5:in `sign_in'
 # ./spec/views/header_spec.rb:19:in `block (3 levels) in <top (required)>' 
```

总的来说，我对 RSpec 和 Rails 还是很陌生，但到目前为止，我已经能够很好地找到自己的方式。这个让我完全难住了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-14T17:44:05.910

所以昨晚胡思乱想之后，我终于找到了解决方案，并迅速开始面对桌面。我将 SessionsHelper 与我的 SessionsController 一起使用，并且在类之外有我的 include 语句：

```
include SessionsHelper

class SessionsController < ApplicationController
  def new
  end
  ...
  ...
  ...
end 
```

通过在类中移动 include 语句：

```
class SessionsController < ApplicationController
  include SessionsHelper

  def new
  end
  ...
  ...
  ...
end 
```

我所有的测试都开始通过了。虽然我的测试在 class 块之外使用 include 语句失败，但实际功能似乎工作正常。我可以登录/注销，cookie 被存储了正确的信息，并且我在服务器控制台中没有看到任何错误。

# php - MySQL - Workbench (PHP)：在没有 JOIN 查询命令的情况下链接多个表中的数据

> ID：11410397
> 
> 赞同：0
> 
> 时间：2012-07-10T09:31:58.487
> 
> 标签：php, mysql, mysql-workbench

MySQL - 工作台（PHP）：

是否可以在不使用 JOIN 或 INNER JOIN 查询命令的情况下链接关系数据库中的多个表，而无需在表中复制数据？

例如，我有两个带有列的表：

1.  TUsers（与 TCompanies 相关，1-n）

    *   ID_TUsers（唯一 ID）
    *   TUsers_UserName
    *   TUSers_UserContactNumber
2.  T公司

    *   ID_TCompanies（唯一 ID）
    *   TCompanies_CompanyName
    *   TCompanies_CompanyContactNumber

在本质上; 我想从 USERS 表中访问 COMPANY 数据，而无需在两个表之间进行 JOIN 查询...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:36:23.313

这取决于您要做什么，您可以使用 where 子句，但您似乎没有任何指示两个表之间连接的字段。两个表中是否有外键？

由于您现在提到您`TUsers_CompanyID`在`TUsers`表中有 a ，您可以执行以下操作：

```
SELECT TUsers.TUsers_UserName, TCompanies.TCompanies_CompanyName FROM TUsers, TCompanies WHERE TUsers.TUsers_CompanyID = TCompanies.ID_TCompanies; 
```

# java - 使用 JBoss jBPM 的 Grails 应用程序

> ID：11410398
> 
> 赞同：0
> 
> 时间：2012-07-10T09:32:02.220
> 
> 标签：java, grails, jboss, jbpm

我在 Grails 中有一个应用程序。现在我们的团队已经决定建立一个工作流程系统。JBoss jBPM 是最后的选择。将 jBPM 集成到 grails 应用程序是否可行？

将 jBPM 与 Grails 集成的挑战是什么？是否有任何其他轻量级且易于与 Grails 集成的 java 工作流引擎。

我们使用 STS IDE。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:37:01.683

JBoss JBPM 是带有 hibernate 数据库后端的纯 java 应用程序 - 您可以将它与 grails 集成。

# ruby-on-rails - 狂欢覆盖部分

> ID：11410400
> 
> 赞同：1
> 
> 时间：2012-07-10T09:32:04.640
> 
> 标签：ruby-on-rails, overriding, partial-views, spree

我可以在狂欢应用程序中进行`deface`部分吗？但不是一个元素。我需要覆盖所有视图。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T10:16:45.710

您可以替换整个模板。请参阅[“模板替换”部分下的指南](http://guides.spreecommerce.org/developer/view.html#template-replacements)。

例如添加您自己的文件`YOUR_SITE/app/views/spree/layouts/spree_application.html.erb`

当页面被渲染时，它将替换 Spree 使用的那个。

# javascript - 嵌套模型保存/与 Sencha Touch 2 同步 1 个请求

> ID：11410401
> 
> 赞同：1
> 
> 时间：2012-07-10T09:32:07.280
> 
> 标签：javascript, sencha-touch, extjs4, sencha-touch-2

是否可以 save() 一个父模型并让它也以嵌套的 JSON 格式发送相关数据，就像它是如何接收的一样？

所以我的数据结构是这样的：

活动有一个组织者活动有许多与会者

```
events: [
  {
    id: 1,
    name: 'Birthday Party',
    organiser: {
        id: 1,
        name: 'Jill'
    },
    attendees: [
        {
            id: 2,
            name: 'Bob'
        },
        {
            id: 3,
            name: 'Jill'
        }
    ]
  }
] 
```

然后我可以只做 events.save() 并且它还将包含嵌套的 hasOne 和 hasMany 数据，所以我不必再发出 2 个请求来将数据发送到服务器？

谢谢，多米尼克

# android - 使用字节大小生成的位图与原始位图不同？

> ID：11410404
> 
> 赞同：0
> 
> 时间：2012-07-10T09:32:23.133
> 
> 标签：android, bitmap, byte

将位图转换为字节后再次生成位图，但位图的大小从原始到生成不同。为什么？

> 原始位图宽度：284 高度：139
> 
> 位图样本大小因子：2
> 
> 转换后的图像宽度：142 高度：69

要转换使用以下代码：

```
 BitmapFactory.Options bitmapOptions = new BitmapFactory.Options();
        bitmapOptions.inSampleSize = powerOf2;
        bitmapOptions.inPurgeable = true;
        bitmapOptions.inInputShareable = true;
bmp = BitmapFactory.decodeByteArray(imgRawBytes, 0, imgRawBytes.length,
                        bitmapOptions); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T12:09:32.993

这是您设置后的预期行为`bitmapOptions.inSampleSize = 2`。事实上，正如文档中明确指出的那样，如果`inSampeSize > 1`，解码器将对原始图像进行二次采样。

从[文档](http://developer.android.com/reference/android/graphics/BitmapFactory.Options.html)：

> 如果设置为大于 1 的值，则请求解码器对原始图像进行二次采样，返回较小的图像以节省内存。样本大小是对应于解码位图中的单个像素的任一维度中的像素数。例如， inSampleSize == 4 返回的图像是原始宽度/高度的 1/4，像素数的 1/16。任何 <= 1 的值都被视为 1。注意：解码器将尝试满足此请求，但生成的位图可能具有与所请求的尺寸不同的尺寸。此外，2 的幂通常更快/更容易让解码器兑现。

# javascript - 用于编号导航的 jquery 插件

> ID：11410405
> 
> 赞同：1
> 
> 时间：2012-07-10T09:32:26.443
> 
> 标签：javascript, jquery, html, css

我想知道我在哪里可以找到一个 jquery 插件（或任何其他解决方案），这将帮助我制作一个“youtube like”评论导航。请参阅链接。

[https://www.dropbox.com/sh/pu9rv6hbbocqcyi/IEi8f6gn85#f:youtube_nav.png](https://www.dropbox.com/sh/pu9rv6hbbocqcyi/IEi8f6gn85#f:youtube_nav.png)

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:36:12.913

您可以使用：jQuery 分页

[http://www.jquery4u.com/plugins/10-jquery-pagination-plugins/](http://www.jquery4u.com/plugins/10-jquery-pagination-plugins/)

您只需要自定义按钮的 css

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:41:09.400

这是满足您要求的非常干净和优雅的解决方案

[jQuery分页](http://web.enavu.com/js/jquery/jpaginate-jquery-pagination-system-plugin/)

# swi-prolog - 在 XPCE 中描述对象列表

> ID：11410409
> 
> 赞同：0
> 
> 时间：2012-07-10T09:32:39.693
> 
> 标签：swi-prolog, xpce

我想在 XPCE 中制作一个动画，由任意数量的移动圆圈组成。圆圈在 Prolog 列表中给出，每个圆圈包含其坐标、半径和颜色。因此，列表如下所示： [[[1,2],20,red],[[40,2],15,green],...] 我当然可以生成一个圆圈，为其命名并着色如下：

```
new(@p,picture).
send(@p,display,new(@ci,circle(20)),point(1,2)).
send(@ci,fill_pattern,colour(red)). 
```

但是当我想代表整个列表时该怎么办？我会以某种方式需要动态名称，但是像

```
send(@p,display,new(@X,circle(20)),point(1,2)). 
```

其中 X 是前面指定的某个标识符，不被接受。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T13:19:06.757

类似的东西？

```
t1 :-
    L =  [[[1,2],20,red],[[40,2],15,green]] ,
     new(D,picture),
    maplist(my_display(D), L),
    send(D, open).

my_display(D, [[X,Y], R, Colour]) :-
    new(C, circle(R)),
    send(C, fill_pattern, colour(Colour)),
    send(D, display, C, point(X,Y)). 
```

# objective-c - 从 plist 中选择随机单词

> ID：11410412
> 
> 赞同：-2
> 
> 时间：2012-07-10T09:32:55.870
> 
> 标签：objective-c, ios, xcode

> **可能重复：**
> [显示来自 plist 的随机单词](https://stackoverflow.com/questions/11405047/displaying-a-random-word-from-a-plist)

我有一个包含一些单词的 plist 现在我尝试显示该 plist 的随机单词，但我的应用程序崩溃了，我不知道如何解决这个问题。

**这是我的代码：**

```
NSArray *randomAddons = [NSArray arrayWithContentsOfFile:[[NSBundle mainBundle] pathForResource:@"wordsENG" ofType:@"plist"]];

NSLog(@"Array: %@", randomAddons);

int randomIndex = arc4random() % [randomAddons count];

mainTextController.text = [username2 stringByAppendingString:[randomAddons objectAtIndex:randomIndex]]; 
```

**这是崩溃：**

```
Array: (
    (
    DANDAN,
    DONDON,
    SAMSAM,
    SANSAN
)
)
2012-07-10 11:23:28.047 spinningyarn[336:1bb03] -[__NSCFArray length]: unrecognized     selector sent to instance 0xa26cad0
2012-07-10 11:23:28.047 spinningyarn[336:1bb03] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[__NSCFArray length]: unrecognized selector sent to instance 0xa26cad0'
*** First throw call stack:
(0x1b04022 0x1ee0cd6 0x1b05cbd 0x1a6aed0 0x1a6acb2 0x1468bd9 0x115dc3 0x3de995 0x979ed9 0x981725 0x8ea4ab 0x9837c6 0x8c9885 0x2166330 0x2168509 0x1a3b803 0x1a3ad84 0x1a3ac9b 0x26287d8 0x262888a 0xb3d626 0x29e2 0x2955 0x1)
terminate called throwing an exception 
```

我希望有人可以帮助我

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T09:38:04.950

randomAddons 是一个包含一个数组的数组...

尝试这个：

```
NSArray *randomAddons = [(NSArray*)[NSArray arrayWithContentsOfFile:[[NSBundle mainBundle] pathForResource:@"wordsENG" ofType:@"plist"]] objectAtIndex:0];

NSLog(@"Array: %@", randomAddons);

int randomIndex = arc4random() % [randomAddons count];

mainTextController.text = [username2 stringByAppendingString:[randomAddons objectAtIndex:randomIndex]]; 
```

# ajax - ASP.Net MVC 3 Drop Down List

> ID：11410413
> 
> 赞同：0
> 
> 时间：2012-07-10T09:33:09.977
> 
> 标签：ajax, asp.net-mvc-3, jquery, asp.net-ajax

I am developing an ASP.Net MVC 3 Web Application. One of my Razor Views contains a few Textboxes and a Drop Down List. When the User selects an option from the Drop Down List, I need a Partial View, or something like this, to appear below the Drop Down List preferable without a post back.

The thing is, it isn't as easy as a simply JQuery Hide and Show for the Partial View, when the User selects an option from the Drop Down List, I need their option to be sent to a method in the Controller, perform some logic based on this option, and then return some data to the Partial View.

I haven't really got much experience with AJAX, but I get the feeling this is the technology I need to use in order to fulfil my problem.

Has anyone ever had to code anything similar to what I have described above? And if so, is AJAX what I need to use?

Also, if anyone knows of any tutorials or code snipets I could look at to help, that would be greatly appreciated.

Thanks.

**UPDATE**

I have followed Ryan's answer, but unfortunately I am still having some problems. I have created the following JavaScript file which is then referenced in my View

```
$(document).ready(function () {

$("#myDDL").change(ChangeEventOfDDL);

function ChangeEventOfDDL(){
var dropDownValue = $('#myDDL').val();
//alert(dropDownValue);
$.ajax({ type: "GET",
       url: '@Url.Action("SomePartialView","testAjax")',
       data: {
           id: dropDownValue
       },
       success: function(data) {
             $('#someDivToLoadContentTo').html(data);
       }
    });
}

}); 
```

View

```
 <select id="myDDL">
    <option></option>
    <option value="1">F1</option>
    <option value="2">F2</option>
    <option value="3">ST1</option>
    <option value="4">ST2</option>
    </select>

<div id="someDivToLoadContentTo">

</div> 
```

My Controller then looks like this

```
public class testAjaxController : Controller
{
    //
    // GET: /testAjax/

    LocumEntities context = new LocumEntities();

    public ActionResult SomePartialView(int id)
    {
        var test = "Hello World";

        return View(test);
    }
} 
```

However, my method 'SomePartialView' never gets hit. Does anyone know why?

Thanks.

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-10T09:41:52.173

是的，Ajax 将是这里最容易使用的东西。周围有很多很好的 Ajax 教程，请记住 Ajax 所做的实际上是后台 POST，因此您可以执行通常使用 MVC 执行的所有操作，除了在现有页面中。

我要让它工作的方法是让你的代码是这样的：

```
public class SomeController{
    public ActionResult SomePartialView(){
         // Do some logic
         return View("SomePartial");
    }
} 
```

您的 Ajax 将类似于：

```
function ChangeEventOfDDL(){
    $.ajax({
           url: '@Url.Action("SomePartialView","Some")',
           success: function(data) {
                 $('#someDivToLoadContentTo').html(data);
           }
    });
} 
```

我希望这至少有一点帮助。

使用 Ajax 至关重要的是，您可以将数据对象添加到函数中，该对象作为查询字符串传递。这意味着您可以使用 ajax 轻松地从页面发送值。使用上面的示例，Javascript 将是：

```
function ChangeEventOfDDL(){
    var dropDownValue = $('#ddl').val();
    $.ajax({
           url: '@Url.Action("SomePartialView","Some")',
           data: {
               id: dropDownValue
           }
           success: function(data) {
                 $('#someDivToLoadContentTo').html(data);
           }
    });
} 
```

Id 值与 MVC 类中方法的参数相关联：

```
public class SomeController{
    public ActionResult SomePartialView(int id){
         // Do some logic 
         var model = MakeModelWithSupplierId(id);
         return View("SomePartial",model);
    }
} 
```

那里有一个交互式局部视图，其中填充了下拉列表中的值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T09:43:13.860

由于控制器也可以返回部分视图，因此您可以执行以下操作：

```
$('#idofyourdropdown').change(function () {
 var theValue = $(this).val();

  $.post('@Url.Action("Action","Controller")', {nameOfParameter: theValue, function(data) {
     $('#divWhereYouWantToAttachData').html(data);
  });
}); 
```

在`change`您的下拉事件中，将所选值发送到您想要的控制器操作，该操作会将其传递给局部视图并返回呈现的 html。html 是在`data`var 中接收的，并且可以附加到 dom 中，无论您想要它在哪里（参见 jQuery 文档）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T09:42:22.770

这是一个常见的用例。

你需要做的是

*   创建一个可以获取您需要的参数的控制器方法（在您这样做之前阅读有关 MVC 模型绑定的信息）
*   编写 javascript，从表单中获取您想要的数据，并调用您的新控制器方法并呈现下面的结果

在 jQuery 中，它是这样的：

```
$("#yourDIV").load('/area/controller/method', { property1: 'asasd', property2: 'asdasdadfa'}) 
```

此调用的第二个参数应根据您从表单中收集的数据准备。（如果你不知道怎么做，那就学习 javascript）

# jquery - 隐藏没有特定类的表行

> ID：11410415
> 
> 赞同：2
> 
> 时间：2012-07-10T09:33:11.633
> 
> 标签：jquery

```
function filterRows(statusName) {
    $("#mainTable tbody tr."+statusName).hide();
} 
```

它隐藏了具有名为 的类的行`statusName`。如何仅隐藏没有的行？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T09:35:07.033

与[`:not()`选择器](http://api.jquery.com/not-selector/)

```
$("#mainTable tbody tr:not(."+statusName + ')').hide(); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-10T09:34:54.857

```
function filterRows(statusName) {
    $("#mainTable tbody tr."+statusName).siblings().hide();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:35:42.200

使用[`.hasClass()`](http://api.jquery.com/hasClass/)属性

```
$("#mainTable tbody tr").map( function(){
if(!$(this).hasClass('statusName'))
{
  $(this).hide();
}
}); 
```

[`Working DEMO`](http://jsfiddle.net/X7NjY/1)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T09:43:49.303

或者简单地说：

```
$('#mainTable tbody tr').each(function() {     
$(this).not('.selected').hide()
  }); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-10T09:53:52.483

我为此创建了一个快速 POC。这可以让您了解如何根据需要对其进行自定义。您可以直接复制以下代码并在浏览器中执行以查看结果。

```
<%@ Page Language="C#" AutoEventWireup="true" CodeBehind="Default.aspx.cs" Inherits="MVCDemoApp.Default" %>

<!DOCTYPE html>
<html>
<script src="Scripts/jquery-1.7.2.min.js" type="text/javascript"></script>
<head runat="server">
<title></title>
<style>
    .header
    {
        font-family: Verdana;
        font-size: large;
        background-color: Gray;
    }
</style>
</head>
<body>
<form id="form1" runat="server">
<div>
    <table style="widt: 100%" id="mainTable">
        <tr class="header">
            <td>
                Head
            </td>
        </tr>
        <tr>
            <td>
                No Class
            </td>
        </tr>
        <tr class="header">
            <td>
                Header Class
            </td>
        </tr>
    </table>
</div>
</form>
</body>
<script>
/*
//Hides the rows with classes
$('table tr[class="header"]').hide(); 
*/

//hides the rows without classes
$('table tr[class!="header"]').hide(); 
</script>
</html> 
```

# php - magento - cloning webshop results in http500 - PHP fatal error

> ID：11410424
> 
> 赞同：0
> 
> 时间：2012-07-10T09:33:45.850
> 
> 标签：php, magento, fatal-error, magento-1.6

i am trying to clone my webshop again for a test environment. (magento 1.6.2 on a dedicated server)

I never had any trouble doing this. I just deleted all the old content in FTP and DB and then i make a copy of the live store and synchronize the db.

Then i change the url in the db and the test-db in the local.xml.

I also clean the var/cache and var/session.

This always worked well.

But yesterday did the same ... but now i get a http 500 error. (white screen)

From the error logs: "GET / HTTP/1.1" 500 222 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64; rv:13.0) Gecko/20100101 Firefox/13.0.1"

and

PHP Fatal error: Call to a member function getCode() on a non-object in /var/www/vhosts/liefstoereigenwijs.nl/testwinkel/app/code/core/Mage/Core/Model/App.php on line 701

I tried to use the magento-cleanup.php and i also changed all permissions to 775\. But all without result ...

Has anyone have a clue?

UPDATE: In the system.log i see the following errors:

2012-07-10T12:33:53+00:00 ERR (3): Recoverable Error: Argument 1 passed to Mage_Core_Model_Store_Group::setWebsite() must be an instance of Mage_Core_Model_Website, null given, called in /var/www/vhosts/liefstoereigenwijs.nl/testwinkel/app/code/core/Mage/Core/Model/App.php on line 648 and defined in /var/www/vhosts/liefstoereigenwijs.nl/testwinkel/app/code/core/Mage/Core/Model/Store/Group.php on line 235 2012-07-10T12:33:53+00:00 ERR (3): Notice: Undefined index: 1 in /var/www/vhosts/liefstoereigenwijs.nl/testwinkel/app/code/core/Mage/Core/Model/App.php on line 701

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T13:45:18.040

Memcache 和/或 Varnish 缓存是问题所在。

我刷新了现场商店中的所有缓存，这就是我的解决方案。

# oop - error send email with phpmailer in server domain but succed in localhost

> ID：11410429
> 
> 赞同：0
> 
> 时间：2012-07-10T09:34:05.747
> 
> 标签：oop, phpmailer, php

i have detail error with this problem,

SMTP -> FROM SERVER:220-server.modulindo.com ESMTP Exim 4.77 #2 Wed, 11 Jul 2012 10:57:22 +0700 220-We do not authorize the use of this system to transport unsolicited, 220 and/or bulk e-mail. SMTP -> FROM SERVER: 250-server.modulindo.com Hello mail.modulindo.com [202.67.9.42] 250-SIZE 52428800 250-PIPELINING 250-AUTH PLAIN LOGIN 250 HELP SMTP -> ERROR: Password not accepted from server: 535 Incorrect authentication data SMTP -> FROM SERVER:250 Reset OK

please help me guys!?

i have a problem with phpmailer. i send email with phpmailer in localhost is succeed, but when i upload it in my server domain, there was an error happend. the error is..

*SMTP Error: Could not authenticate. Mailer Error: SMTP Error: Could not authenticate.*

this is my script..

```
....
$mail = new PHPMailer();

$mail->IsSMTP();

$mail->Mailer = "smtp";

$mail->Host = "ssl://smtp.gmail.com";

$mail->Port = 465;

$mail->SMTPAuth = true;

$mail->Username = "wasis85@gmail.com";

$mail->Password = "password"; 

$mail->From     = "wasis85@gmail.com";

$mail->FromName = "Wasis Lukito";

$mail->AddAddress($ema[$ari_no],"wasis");

$mail->AddCC("wasisl85@yahoo.com");

$mail->AddReplyTo("wasisl85@yahoo.com","Wasis Lukito");

$mail->WordWrap = 50;

$mail->IsHTML(true);

$mail->Subject  =  "Penolakan Data BPLPSE";

$mail->Body     =  "Alasan di tolak ";

$mail->AltBody  =  "This research is supported by Google.com";

... 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-13T16:12:20.857

我用评论（或取消）这一行解决了同样的问题

// $mail->IsSMTP();

这是因为从某些服务器我有同样的错误： SMTP 错误：无法验证（密码也不正确......等等）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:45:47.737

剧本似乎还不错。我相信您必须检查并确保您的服务器是否支持 SMTP，或者是否已为 SMTP 正确配置。

# android - JQuery AJAX Post fails on Android Tablets Running Honeycomb 3.2

> ID：11410431
> 
> 赞同：2
> 
> 时间：2012-07-10T09:34:14.513
> 
> 标签：android, ajax, jquery, android-3.0-honeycomb

I have a simple enough AJAX `'POST'`. It works on IOS phones and tablets (4.0 and 5) and appears to work on Android phones (2.1 and 4.0) but when it is run on two different android tablets both using Honeycomb 3.2 the `errorcallback` is executed everytime - even though the webservice recieves the post successfully.

```
 $.ajax({
          type: 'POST',
          url: url,
          cache: false,
          data: data,
          success: callback,
          error:(jqXHR, textStatus, errorThrown) 
          {
            alert(jqXHR); // [object, object]
            alert(textStatus); // "error"
            alert(errorThrown); // empty
          },
          crossDomain:true,  // This option has no effect on the outcome
          dataType: 'JSON'
        }); 
```

I am successfully using JQuery's ajax `'GET'` across all platforms its just the `'POST'` i'm having problem with. CORS is enabled on the server. Anyone come across this problem before? I tried to boot up the emulator to write out the errors but LOG cat just ignored them so I resorted to using alerts.

Interestingly when I navigate away from the page the success callback appears to fire...

# php - Making doctrine ORM work on PHP

> ID：11410432
> 
> 赞同：0
> 
> 时间：2012-07-10T09:34:23.383
> 
> 标签：php, orm, doctrine, doctrine-orm

I have tried to follow the "steps" detailed on the website but i couldn't make it work: [http://docs.doctrine-project.org/en/latest/reference/configuration.html](http://docs.doctrine-project.org/en/latest/reference/configuration.html)

I have downloaded the doctrine package. Then i have installed it using PEAR.

Now, i create a file called "test.php" with the following content:

```
//loding Setup from the doctrine package...
require 'vendor/Doctrine/ORM/Tools/Setup.php';

Doctrine\ORM\Tools\Setup::registerAutoloadPEAR();

use Doctrine\ORM\Tools\Setup;
use Doctrine\ORM\EntityManager;

$paths = array("/path/to/entities-or-mapping-files");
$isDevMode = false;

// the connection configuration
$dbParams = array(
    'driver'   => 'pdo_mysql',
'host'  => 'localhost',
    'user'     => 'admin',
    'password' => 'mypass',
    'dbname'   => 'test',
);

$config = Setup::createAnnotationMetadataConfiguration($paths, $isDevMode);
$em = EntityManager::create($dbParams, $config);

// or if you prefer yaml or xml
//$config = Setup::createXMLMetadataConfiguration($paths, $isDevMode);
//$config = Setup::createYAMLMetadataConfiguration($paths, $isDevMode); 
```

What else should i do to make it work? I can not currently do something like:

```
 print_r($em->getRepository("User")); 
```

It shows me many warnings, for example:

```
Class User does not exist and could not be loaded in 
Warning: array_reverse() expects parameter 1 to be array, boolean given in
Warning: Invalid argument supplied for foreach() in ..../Doctrine/ORM/Mapping/ClassMetadataFactory.php 
```

etc. The first one i guess is the key.

Something is missing but i dont know what. Thanks.

# list - 对齐列表元素 Sagemath

> ID：11410438
> 
> 赞同：0
> 
> 时间：2012-07-10T09:34:35.520
> 
> 标签：list, formatting, alignment, decimal, sage

我有一个包含数十万个数字的庞大列表。该列表在由 sagemath 生成时格式错误，但我必须采用下面显示的格式将其“提供”给另一个函数。以下是格式良好的列表示例：

```
 C=[
           (  7.850629, 25.421135, 22.162571),
           ( 37.706629, 28.421472,  0.229876),
           ( 37.560629, 21.421809, 18.320977),
           ( 39.238629, 26.422147, 18.442572),
           ( 35.087169,  0.419785, 15.055789),
           ] 
```

如您所见，所有元素都向右对齐，并且基于精度和小数位。所以我的问题是：**如何将格式错误的列表（如下所示）转换为上面格式正确的列表**

```
 B=[(37.074945, 22.414327,
9.756234), (37.074945, 22.414665,
1.669214), (37.074945, 22.415002,
8.571376), (37.074945, 22.41534,
1.294731), (37.074945, 22.415677,
5.753062), (37.074945, 22.416014,
7.519850)] 
```

（如果我可以再描述一下，我会说如果我的列表被认为是一个矩阵，那么它将有成千上万的行和三列）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T12:56:19.690

Sage 没有内置良好的对齐功能。如果您愿意将列表视为矩阵，则可以

```
sage: matrix(B)
[37.0749450000000 22.4143270000000 9.75623400000000]
[37.0749450000000 22.4146650000000 1.66921400000000]
[37.0749450000000 22.4150020000000 8.57137600000000]
[37.0749450000000 22.4153400000000 1.29473100000000]
[37.0749450000000 22.4156770000000 5.75306200000000]
[37.0749450000000 22.4160140000000 7.51985000000000] 
```

它缺少逗号和其他句法部分，但它正确对齐。如果您愿意使用 html 输出，则可以使用`html.table(B)`. 将来（请参阅[此可能的未来增强功能](http://trac.sagemath.org/sage_trac/ticket/13131)）应该有一个很好的“表格”功能，用于一般这样的漂亮显示器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-17T13:55:01.240

好吧，我认为这是一个普遍的 Python 问题。鉴于`C`您的评论，以下工作。这`"%9.5f"`是关键的见解：

```
for l in C:
    print "(%s)," % ', '.join("%9.5f"%i for i in l)
   ....:     
( 37.07494,  22.41433,   9.75623),
( 37.07494,  22.41466,   1.66921),
( 37.07494,  22.41500,   8.57138),
( 37.07494,  22.41534,  18.29473),
( 37.07494,  22.41568,   5.75306),
( 37.07494,  22.41601,  17.51985), 
```

# python - 无窗口绘图和写入图像文件

> ID：11410445
> 
> 赞同：4
> 
> 时间：2012-07-10T09:35:04.997
> 
> 标签：python, linux, matplotlib

我发现`matplotlib`仅使用将图表绘制到文件中并不像阅读教程看起来那么容易。在教程中解释说，您只需累积数据，然后：

```
import matplotlib.pyplot as plt
# ... fill variables with meaningful stuff
plt.plot(data.x,data.y,format_string)
plt.savefig(filename) 
```

并做了。如果您只是将其作为 shell 执行，那也可以正常工作。但是，如果您将此代码提供给没有任何窗口的进程（如 jenkins），那么您只会收到以下错误：

```
Traceback (most recent call last):
  File "./to_graph.py", line 89, in <module>
    main()
  File "./to_graph.py", line 78, in main
    plt.plot(warnings[0],warnings[1],args.format_warnings,label="Warnings")
  File "/usr/lib/pymodules/python2.7/matplotlib/pyplot.py", line 2460, in plot
    ax = gca()
  File "/usr/lib/pymodules/python2.7/matplotlib/pyplot.py", line 701, in gca
    ax =  gcf().gca(**kwargs)
  File "/usr/lib/pymodules/python2.7/matplotlib/pyplot.py", line 369, in gcf
    return figure()
  File "/usr/lib/pymodules/python2.7/matplotlib/pyplot.py", line 343, in figure
    **kwargs)
  File "/usr/lib/pymodules/python2.7/matplotlib/backends/backend_tkagg.py", line 80, in new_figure_manager
    window = Tk.Tk()
  File "/usr/lib/python2.7/lib-tk/Tkinter.py", line 1688, in __init__
    self.tk = _tkinter.create(screenName, baseName, className, interactive, wantobjects, useTk, sync, use)
_tkinter.TclError: no display name and no $DISPLAY environment variable 
```

据我了解堆栈跟踪行周围的源代码，此错误的原因是 backend_tkagg.py 期望使用现有窗口（请参阅堆栈跟踪中的 Tk.Tk() 行）。所以我想知道是否有办法用matplotlib（或python）绘制图表而不依赖于窗口（-manager）来完成工作。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T09:45:28.313

您需要设置一个将直接写入文件的后端。

有关详细信息，请参阅： http: [//matplotlib.sourceforge.net/faq/usage_faq.html#what-is-a-backend](http://matplotlib.sourceforge.net/faq/usage_faq.html#what-is-a-backend)

您需要在导入 pyplot 之前调用 matplotlib.use。

例如 ：

```
import matplotlib
matplotlib.use("AGG")
import pyplot
# continue as usual 
```

实际上，我刚刚发现这也是文档中给出的解决方案：

[http://matplotlib.sourceforge.net/faq/howto_faq.html#generate-images-without-having-a-window-appear](http://matplotlib.sourceforge.net/faq/howto_faq.html#generate-images-without-having-a-window-appear)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-24T18:00:20.417

谢谢！我也有这个问题。现在我可以使用图像生成 Raspberry 并在图形环境中使用 pyplot 未使用的变量保存。这是一个例子：

pi@raspberrypi /var/www $ cat testimgpython.py

```
import matplotlib
matplotlib.use('AGG')
import matplotlib.pyplot as plt
senial = [2, 3, 5, 8, 20, 50, 100]
tiempo = range(len(senial))
plt.plot(tiempo, senial)
plt.savefig('/var/www/imageSimple1.png')
print 'Hecho!' 
```

# android - Create an Android ImageButton with a Shape

> ID：11410448
> 
> 赞同：0
> 
> 时间：2012-07-10T09:35:12.657
> 
> 标签：android, android-layout

I have an ImageButton and want to scale the button in different sizes which means an image is not the right choice. So I was thinking of an ImageButton with a custom Shape as source.

I want the button to look like this:

![enter image description here](../Images/20d22dd44c5562a1b5723e27e7e38444.png)

I started with this, but got stuck with the rotate stuff:

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle" >

    <stroke
        android:width="2dp"
        android:color="@color/red" />
    <rotate
        android:fromDegrees="90"
        android:toDegrees="135" >
        <shape android:shape="line" >
            <stroke
                android:width="2dp"
                android:color="@color/red" >
            </stroke>
        </shape>
    </rotate>

    <padding
        android:bottom="7dp"
        android:left="7dp"
        android:right="7dp"
        android:top="7dp" />

</shape> 
```

This however does not rotate as I expect it to. Maybe I am completely wrong and need a push in the right direction. :-) Thanks.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:04:01.883

您是否考虑过使用 Bitmap 并根据您的需要使用 Bitmap.createScaledBitmap(...) 方法对其进行缩放。然后您可以轻松地将其转换为 BitmapDrawable，然后使用 (name-of-your-button).setBackgroundDrawable(nameOfBitmapDrawable); 将此 BitmapDrawable 指定为按钮的背景。

因此，您所要做的就是将该图像（您帖子中的那个）保存为可绘制的（可能是透明的PNG），然后将该可绘制的转换为位图。从那里，您只需按照我上面概述的步骤操作即可。希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-17T08:22:48.773

我通过自定义`Button`实现解决了这个问题并覆盖了如下所示的`onDraw()`方法：

```
@Override
public void onDraw(Canvas canvas)
{
    width = getMeasuredWidth();
    height = getMeasuredHeight();

    // diagonal top left | bottom right
    canvas.drawLine(0, 0, width, height, mPaint);

    // diagonal top right | bottom left
    canvas.drawLine(width, 0, 0, height, mPaint);

    // horizontal top
    canvas.drawLine(0, 0, width, 0, mPaint);

    // horizontal bottom
    canvas.drawLine(0, height, width, height, mPaint);

    // vertical left
    canvas.drawLine(0, 0, 0, height, mPaint);

    //vertical right
    canvas.drawLine(width, 0, width, height, mPaint);
} 
```

你必须`mPaint`根据你想要的笔画的颜色和大小等来设置自己。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T14:21:03.130

```
<shape xmlns:android="http://schemas.android.com/apk/res/android" 
             android:shape="rectangle"
             >
  <gradient android:angle="270"
            android:endColor="#000000"
            android:centerColor="#00ccff" 
            android:startColor="#000000"
           /> 
  <corners android:radius="5dp" /> 
  </shape>
Try this 
```

# c - Pthread 程序花费的时间比预期的要长

> ID：11410450
> 
> 赞同：1
> 
> 时间：2012-07-10T09:35:19.090
> 
> 标签：c, multithreading, opencv, pthreads, matrix-multiplication

你好，

我创建了一个多线程应用程序，用于使用 pthreads 将两个矩阵相乘，但令我惊讶的是，多线程程序花费的时间比我预期的要多。

我不知道我的代码中的问题在哪里，代码片段如下：

```
#include "pthreads.h"
#include "cv.h"
#include "cxcore.h"

CvMat * matA;       /* first matrix */
CvMat * matB;       /* second matrix */
CvMat * matRes;     /* result matrix */

int size_x_a; /* this variable will be used for the first  dimension */
int size_y_a; /* this variable will be used for the second dimension */

int size_x_b,size_y_b;
int size_x_res;
int size_y_res;

struct v {
  int i; /* row */
  int j; /* column */
};

void *printThreadID(void *threadid)
{
/*long id = (long) threadid;
//printf("Thread ID: %ld\n", id);

arrZ[id] = arrX[id] + arrY[id];

pthread_exit(NULL);*/
return 0;
}

int main()
{
/* assigining the values of sizes */
size_x_a = 200;
size_y_a = 200;
size_x_b = 200;
size_y_b = 200;

/* resultant matrix dimensions */
size_x_res = size_x_a;
size_y_res = size_y_b;

matA = cvCreateMat(size_x_a,size_y_a,CV_64FC1);
matB = cvCreateMat(size_x_b,size_y_b,CV_64FC1);
matRes = cvCreateMat(size_x_res,size_y_res,CV_64FC1);

pthread_t thread1;
pthread_t thread2;
pthread_t multThread[200][200];

int res1;
int res2;
int mulRes;
/*******************************************************************************/ 

/*Creating a thread*/
res1 = pthread_create(&thread1,NULL,initializeA,(void*)matA);
if(res1!=0)
{
    perror("thread creation of thread1 failed");
    exit(EXIT_FAILURE);
}

/*Creating a thread*/
res2 = pthread_create(&thread2,NULL,initializeB,(void*)matB);

if(res2!=0)
{
    perror("thread creation of thread2 failed");
    exit(EXIT_FAILURE);
}

pthread_join(thread1,NULL);
pthread_join(thread2,NULL);

/*Multiplication of matrices*/
for(int i=0;i<size_x_a;i++)
    {
  for(int j=0;j<size_y_b;j++)
      {
      struct v * data = (struct v*)malloc(sizeof(struct v));
      data->i = i;
      data->j = j;

mulRes = pthread_create(&multThread[i][j],NULL,multiplication,  (void*)data);
       }
    }

for(int i=0;i<size_x_a;i++)
{
for(int j=0;j<size_y_b;j++)
    {
    pthread_join(multThread[i][j],NULL);    
    }
}

for(int i =0;i<size_x_a;i++)
{
    for(int j = 0;j<size_y_a;j++)
    {
        printf("%f ",cvmGet(matA,i,j));
    }
}
return 0;
}

void * multiplication(void * param)
{
struct v * data = (struct v *)param;
double sum =0;
for(int k=0;k<size_x_a;k++)
    sum += cvmGet(matA,data->i,k) * cvmGet(matB,k,data->j); 

cvmSet(matRes,data->i,data->j,sum);
pthread_exit(0);

return 0;
}

void * initializeA(void * arg)
{
CvMat * matA  = (CvMat*)arg;
//matA = (CvMat*)malloc(size_x_a * sizeof(CvMat *));

/*initialiazing random values*/
for (int i = 0; i < size_x_a; i++) 
{
 for (int j = 0; j < size_y_a; j++) 
 {
    cvmSet(matA,i,j,size_y_a + j); /* just some unique number for each element */
 }
}
return 0;
}

void * initializeB(void * arg)
{
CvMat* matB  = (CvMat*)arg;
//matB = (CvMat*)malloc(size_x_b * sizeof(CvMat *));

/*initialiazing random values*/
for (int i = 0; i < size_x_b; i++) 
{
  for (int j = 0; j < size_y_b; j++) 
  {
    cvmSet(matB,i,j,size_y_b + j); /* just some unique number for each element */
  }
}
return 0;
}

void * initializeRes(void * arg)
{
CvMat * res  = (CvMat*)arg;
//res = (CvMat*)malloc(size_x_res * sizeof(CvMat *));

/* for matrix matRes, allocate storage for an array of ints */
for (int i = 0; i < size_x_res; i++) 
{
    for (int j = 0; j < size_y_res; j++) 
    {
        cvmSet(matRes,i,j,0);
    }
}
return 0;
} 
```

我第一次做这个多线程。请帮助我，任何建议或更正都会非常有帮助。

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T09:42:36.980

您正在创建大量线程，这将涉及大量上下文切换。如果每个线程都在进行纯计算，并且不涉及任何类型的等待（如网络、套接字等），那么线程没有理由比不线程更快。当然，除非您使用的是多 CPU/核心机器，否则您应该为每个核心创建一个线程。通过这种处理，比内核更多的线程只会减慢它的速度。

您可以做的是将工作集划分为可以排队的任务，并使用工作线程（一个/CPU 核心）将任务从公共工作队列中拉出。这是一个标准的生产者/消费者问题。

[这](http://en.wikipedia.org/wiki/Producer-consumer_problem)是有关生产者/消费者问题的一些通用信息。

自从我完成矩阵乘法以来已经有很长时间了，所以请耐心等待:) 看来您可以将以下内容划分为单独的任务：

```
/*Multiplication of matrices*/
for(int i=0;i<size_x_a;i++)
    {
  for(int j=0;j<size_y_b;j++)
      {
      struct v * data = (struct v*)malloc(sizeof(struct v));
      data->i = i;
      data->j = j;

      /* Instead of creating a thread, create a task and put it on the queue
       * mulRes = pthread_create(&multThread[i][j],NULL,multiplication,  (void*)data);
       */

      /* Im not going to implement the queue here, since there are several available
       * But remember that the queue access MUST be mutex protected. */
      enqueue_task(data);
       }
    } 
```

以前，您必须创建所谓的线程池（工作线程，每个 CPU 核心一个），其工作函数将尝试拉出队列并执行工作。有一些方法可以使用 pthread 条件变量来做到这一点，如果队列为空，线程将被阻塞/等待 cond var，一旦队列被填充，就会发出 cond var 信号，从而释放线程以便它们可以启动在职的。

如果这不是逻辑上的分工，而且你找不到，那么这个问题可能不适合多线程。

# php - javascript下拉列表未及时加载

> ID：11410456
> 
> 赞同：0
> 
> 时间：2012-07-10T09:35:34.303
> 
> 标签：php, javascript, wordpress, wordpress-theming

我的问题是我正在尝试创建一个 javascript 菜单，但脚本似乎加载得很慢而且很晚，所以它在最初几秒钟内无法正常工作。如果我错了，请纠正我。其次，我没有设法让每一列都能正常工作，有时它只是链接到同一个页面，无论我选择哪个选项，以及另一个对我的选择没有反应的问题，就像我没有做的那样即使我真的从菜单中选择了一些东西。

你知道可能是什么问题吗？用 JavaScript 做这件事是个坏主意吗？你会用 PHP 做吗？我还认为代码可能太长了。

这是我的问题的例子 -[链接](http://www.101greatgoals.com/drop-test-2/)

```
<div class="quick_width">
      <div class="quick_links"><img src="http://www.101greatgoals.com/wp-content/themes/tutorial/images/quick_links.jpg" width="102" height="37" alt=" "></div>
      <div class="green_bg">
        <div class="option_width">
          <div class="form_row_name_input1">
          <ul class="dropdownul">
<li id="categories">

<?php wp_dropdown_categories('show_option_none=Country'); ?>

<script type="text/javascript"><!--

var dropdown = document.getElementById("cat");

function onCatChange() {

if ( dropdown.options[dropdown.selectedIndex].value > 0 ) {

location.href = "<?php echo get_option('home');

?>/category/goals/"+dropdown.options[dropdown.selectedIndex].text.split(' ').join('-');

}

}

dropdown.onchange = onCatChange;

--></script>

</li>
</ul>
          </div>
          <div class="form_row_name_input1">
          <ul class="dropdownul">
<li id="categories">

<?php wp_dropdown_categories('taxonomy=teams&show_option_none=Teams&name=teamsmenu'); ?>

<script type="text/javascript"><!--

var dropdown = document.getElementById("teamsmenu");

function onCatChange() {

if ( dropdown.options[dropdown.selectedIndex].value > 0 ) {

location.href = "<?php echo get_option('home');

?>/?teams="+dropdown.options[dropdown.selectedIndex].text.split(' ').join('-');

}

}

dropdown.onchange = onCatChange;

--></script>

</li>
</ul>
          </div>

          <div class="form_row_name_input1">
          <ul class="dropdownul">
<li id="categories">

<?php wp_dropdown_categories('taxonomy=players&show_option_none=Players&name=playersmenu'); ?>

<script type="text/javascript"><!--

var dropdown = document.getElementById("playersmenu");

function onCatChange() {

if ( dropdown.options[dropdown.selectedIndex].value > 0 ) {

location.href = "<?php echo get_option('home');

?>/?players="+dropdown.options[dropdown.selectedIndex].text.split(' ').join('-');

}

}

dropdown.onchange = onCatChange;

--></script>

</li>
</ul>
          </div>

          <div class="form_row_name_input1">
          <ul class="dropdownul">
<li id="categories">

<?php wp_dropdown_categories('taxonomy=managers&show_option_none=Managers&name=managersmenu'); ?>

<script type="text/javascript"><!--

var dropdown = document.getElementById("managersmenu");

function onCatChange() {

if ( dropdown.options[dropdown.selectedIndex].value > 0 ) {

location.href = "<?php echo get_option('home');

?>/?managers="+dropdown.options[dropdown.selectedIndex].text.split(' ').join('-');

}

}

dropdown.onchange = onCatChange;

--></script>

</li>
</ul>
          </div>

          <div class="form_row_name_input1">
          <ul class="dropdownul">
<li id="categories">

<?php wp_dropdown_categories('taxonomy=clean_feeds&show_option_none=Other&name=othermenu'); ?>

<script type="text/javascript"><!--

var dropdown = document.getElementById("othermenu");

function onCatChange() {

if ( dropdown.options[dropdown.selectedIndex].value > 0 ) {

location.href = "<?php echo get_option('home');

?>/?clean_feeds="+dropdown.options[dropdown.selectedIndex].text.split(' ').join('-');

}

}

dropdown.onchange = onCatChange;

--></script>

</li>
</ul>
          </div>

        </div>
      </div>
      <div class="right_align"></div>
    </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-01T10:58:42.607

在这种情况下，我肯定会建议事先通过 PHP 创建 HTML 输出。这样，当页面加载时，您可以触发您的菜单脚本。

WordPress 参考中提供的[`wp_dropdown_categories()`函数](http://codex.wordpress.org/Function_Reference/wp_dropdown_categories#Dropdown_without_a_Submit_Button_using_JavaScript_.282.29)示例有一个很酷的示例，应该可以帮助您。它所做的基本上是替换生成的 HTML 的某些部分。在您的情况下，这些替换将主要在生成的 URL 中。为了清楚起见，此处复制了示例：

```
<li id="categories">
    <h2><?php _e('Posts by Category'); ?></h2>
    <form action="<?php bloginfo('url'); ?>/" method="get">
    <div>
    <?php
        $select = wp_dropdown_categories('show_option_none=Select category&show_count=1&orderby=name&echo=0');
        $select = preg_replace("#<select([^>]*)>#", "<select$1 onchange='return this.form.submit()'>", $select);
        echo $select;
    ?>
    <noscript><div><input type="submit" value="View" /></div></noscript>
    </div></form>
</li> 
```

# android - 如何查看手机上运行的Android应用程序数据库

> ID：11410462
> 
> 赞同：4
> 
> 时间：2012-07-10T09:35:47.417
> 
> 标签：android, sqlite, android-sqlite

我正在我的手机上安装和运行一个 android 应用程序，出于某些测试目的，我想查看我手机上的应用程序的数据库。现在我的问题是如何获取这些数据库和表格？？？？请提前回复谢谢......

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-10T09:50:33.597

要查看本地数据库的内容，您需要下载一个名为 Sqlite Studio 的软件：[http://sqlitestudio.one.pl/](http://sqlitestudio.one.pl/)

1.) 在您的计算机上下载并安装 Sqlite Studio

2.) 将手机连接到计算机，确保打开 USB 调试。USB 调试可以从设置 -> 应用程序 -> USB 调试（或设置 -> 开发人员选项 -> USB 调试，如果您使用冰淇淋三明治）激活。

3.) 在 Eclipse 中打开 DDMS 视图并在 DDMS 中打开文件资源管理器选项卡，然后转到数据 -> 数据 -> (name-of-your-application) -> 数据库。现在将数据库文件夹中的数据文件拉到您的计算机上。

4.) 打开 Sqlite Studio 并导入您刚刚从您的 android 手机中提取的数据文件。

5.) 查看数据库的内容！

希望这有帮助。如果您不明白，请毫不犹豫地澄清！

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-09-26T11:48:25.337

如果我们在模拟器上运行，Vishwa 描述的步骤是正确的。但对于真实设备，我们无法使用 DDMS 访问数据文件夹。您需要拥有具有 root 访问权限的手机才能浏览 Android 手机上的数据文件夹。这意味着您要么拥有开发者设备（ADP1 或来自 Google I/O 的 ION），要么您已经找到了以其他方式“root”手机的方法。

# google-plus - 我可以创建一个环聊“客户端”程序吗？（类似于 Google TalkAbout）

> ID：11410464
> 
> 赞同：3
> 
> 时间：2012-07-10T09:35:59.413
> 
> 标签：google-plus, google-talk, hangout

正如[Google Talk for Developers 网站](https://developers.google.com/talk/talk_developers_home)中所述，您可以使用提供的 API 来构建连接到 Google Talk 服务的客户端。

我想知道是否有可能（或者在不久的将来）建立一个与谷歌视频群聊类似的客户端。

我们假装是构建类似于云打印的东西，为云提供打印服务，但对于音频/视频流：摄像头和麦克风将取代打印机。

非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-20T11:44:05.200

谈话和所有 XMPP 的东西很快就会被放下。

新的环聊基础设施是专有的。它只有 API 可以将 Hangouts 集成到网页和应用程序中，但没有 API 或协议来创建替代的 Hangouts 客户端软件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-03T16:35:26.990

[https://github.com/tdryer/hangups](https://github.com/tdryer/hangups)是一个完全可以做到这一点的库，它带有一个用于 Linux 的命令行客户端。

[https://github.com/xmikos/qhangups](https://github.com/xmikos/qhangups)是一个基于 PyQt 的跨平台应用程序，旨在为基于 Chrome 的官方桌面应用程序提供开源替代方案。不幸的是，它在发布时不起作用，但作者正在调查这个问题。

# ios - 我想记住一个 (NSIndexPath *)indexPath 以便以后删除，但崩溃了

> ID：11410465
> 
> 赞同：1
> 
> 时间：2012-07-10T09:36:03.167
> 
> 标签：ios, xcode, uitableview, memory

我这样定义一个成员：

```
@property (nonatomic, retain)  NSIndexPath *deletingIndexPath; //记录当前需要删除的行 
```

并将其分配给

```
- (void)tableView:(UITableView *)atableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath
{
    ...
    deletingIndexPath = indexPath;
    ...
} 
```

并在另一个回调函数中使用它

```
NSArray *deleteIndexPaths = [NSArray arrayWithObjects:deletingIndexPath,nil];
[self.tableView deleteRowsAtIndexPaths:deleteIndexPaths withRowAnimation:UITableViewRowAnimationFade]; 
```

而且它崩溃了...

在模拟器中它说

```
2012-07-10 16:56:54.887 p[20972:16a03] *** Assertion failure in -[NSIndexPath row], /SourceCache/UIKit_Sim/UIKit-1914.84/UITableViewSupport.m:2606
2012-07-10 16:56:54.898 p[20972:16a03] Uncaught exception: Invalid index path for use with UITableView.  Index paths passed to table view must contain exactly two indices specifying the section and row.  Please use the category on NSIndexPath in UITableView.h if possible. 
```

谁能告诉我为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:38:15.713

你在ARC吗？如果不是，您必须保留您的实例。您分配的那个是在您使用它之前自动释放的。您可以使用`self.deletingIndexPath = indexPath;`这样该实例将由该属性保留

# c++ - 当我使用 while 循环进行操作时，意外的无限循环遍历

> ID：11410466
> 
> 赞同：-1
> 
> 时间：2012-07-10T09:36:03.733
> 
> 标签：c++

看下面的程序。编译它时，循环不会终止。这不是预期的行为。有人请解释一下这个原因吗？

```
#include<iostream.h>

int main()
{
    int nIntValue = 0;
    int nTempVal = 100;
    for( int nLoop = 1; nLoop <= 25; nLoop++ )
    {
        nTempVal = nTempVal / nLoop;
    }
    // Print the value of nIntVal
    while( nIntVal == 0 )
    {
        nIntVal += nTempVal;
        cout<<nIntVal;
    }
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T09:39:26.543

首先，什么是`nIntVal`？其次，假设它真的`nIntValue`，当您进入以下循环时：

```
while( nIntVal == 0 )
    {
        nIntVal += nTempVal;
        cout<<nIntVal;
    } 
```

它是 0。

至于 nTempVal，您将 100 除以`(1*2*3*...*25)`。您正在使用`int`类型，这意味着所有值都是四舍五入的。但即使你不这样做，第一个循环的确切结果也将`0.000000000000000000000006447`非常接近于零。

所以`nIntVal`和`nTempVal`都是 0，你被困在这里（0+0 = 0 并且循环永远不会结束）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-10T09:39:06.130

`nTempVal = 0`. 所以循环不会终止。

你可以很容易地找到这样的错误`debugger`

# android - 尝试打开流时出现 java.net.UnknownHostException

> ID：11410467
> 
> 赞同：0
> 
> 时间：2012-07-10T09:36:05.637
> 
> 标签：android, excel

我正在尝试使用以下代码从[http://udios.site88.net/Lunch.xls](http://udios.site88.net/Lunch.xls)使用 Jexcel API 加载 xls 文件：

```
URL url = new URL("http://udios.site88.net/Lunch.xls");
    InputStream in = url.openStream();
    Workbook workBook = null;
    workBook = Workbook.getWorkbook(in);
    Sheet sheet = workBook.getSheet(0);
    Cell cell;
    cell = sheet.getCell(21, 1);
    Toast.makeText(MainActivity.this, cell.getContents(), Toast.LENGTH_LONG*3).show(); 
```

但它会引发以下异常：

java.net.UnknownHostException: udios.site88.net 这发生在：InputStream in = url.openStream();

任何人都可以帮助我吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:38:57.783

您需要设置并确保您的设备上有互联网连接`<uses-permission android:name="android.permission.INTERNET" />`。`AndroidManifest.xml`

**编辑：**当我尝试在浏览器中访问 URL 时，似乎该地址由于恶意软件而被阻止。

# asp.net-mvc-3 - 将模型元数据应用于复杂对象

> ID：11410477
> 
> 赞同：0
> 
> 时间：2012-07-10T09:36:36.550
> 
> 标签：asp.net-mvc-3, modelmetadata

我有以下情况

```
public class Foo {
    public Bar FooBar { get; set; }
}

public class Bar {
    [DisplayFormatAttribute(ApplyFormatInEditMode = true, DataFormatString = "{0:d}")]
    public DateTime BirthDay { get; set; }
} 
```

现在，当我使用 EditorFor 时，我想在 DateTime 上应用 DataFormatString

```
@Html.EditorFor(x => x.FooBar.BirthDay); 
```

上面的代码没有使用 DisplayFormatAttribute 正确呈现日期，那么我该如何解决呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:42:28.140

我想你可能不得不使用这个。

```
public class Bar {
    [DataType(DataType.Date), DisplayFormat( DataFormatString="{0:dd/MM/yy}", ApplyFormatInEditMode=true )]
    public DateTime BirthDay { get; set; }
} 
```

或者你可以这样使用

```
[DisplayFormat(DataFormatString = "{0:d}")]
[DataType(DataType.Date)]
public DateTime BirthDay { get; set; } 
```

在你看来，你可以试试这个。

```
@Html.EditorFor(x => x.FoorBar.BirthDay.ToString("dd/MM/yyyy")) 
```

# java-me - 将 MIDlet 属性添加到 JAD 文件

> ID：11410478
> 
> 赞同：0
> 
> 时间：2012-07-10T09:36:38.650
> 
> 标签：java-me, midp, j2mepolish, cldc

我正在使用 J2ME Polish 为诺基亚 s40 手机构建应用程序。当我完成打包应用程序时，我发现清单文件中可用的清单属性：“MicroEdition-Configuration”和“MicroEdition-Profile”在 JAD 文件中不存在，即

```
MicroEdition-Configuration: CLDC-1.1
MicroEdition-Profile: MIDP-2.0 
```

我正在使用 Netbeans 构建我的项目，不知道问题出在哪里，有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T09:01:29.343

只需在 nbproject 文件夹中打开 build-impl.xml 并在 jad 部分添加以下内容：

```
attribute name="MicroEdition-Configuration" value="CLDC-1.1"/>

attribute name="MicroEdition-Profile" value="MIDP-2.0"/> 
```

当然相应地改变它们。

# c# - 如果我单击或将鼠标悬停在文本上，如何制作工具提示或弹出窗口

> ID：11410481
> 
> 赞同：0
> 
> 时间：2012-07-10T09:36:42.977
> 
> 标签：c#, asp.net

在我的 Asp 应用程序中，如果我分别将鼠标悬停或单击特定文本，我必须制作一个工具提示或弹出窗口。消息（工具提示或弹出窗口）是从数据库表中获取的。请帮我完成它。

![图片](../Images/8320afb0f83b294f591acc4d4436cbad.png)

您可以在上图中看到红色圆圈。如果我将鼠标悬停在“4”上，则必须查看从表中获取的工具提示或弹出窗口值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T12:43:47.200

```
In OnRowDataBound Event, you can make the paricular column as link... 

 e.Row.Cells[4].Text = "<a href= '#' style='cursor:pointer' onclick ='Popupwindow() class = 'linknormal'></a>"; 
```

上面的代码用于调用名为 popupwindow 的 javascript 函数...当使用单击该特定列时...javascript 函数将被 bw 触发..

Javascript代码：

```
 function popupwindow()
    {
    window.open(URL,name,specs,replace);
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:40:48.520

使用客户端代码和 JQuery ToolTip 插件。[http://docs.jquery.com/Plugins/Tooltip](http://docs.jquery.com/Plugins/Tooltip)

# ios - 播放 youtube 视频后，iPhone 在 Play&Record 中恢复 AudioSession

> ID：11410485
> 
> 赞同：1
> 
> 时间：2012-07-10T09:36:52.333
> 
> 标签：ios, youtube, voip, background-process, audiosession

我在 iOS 5.x 中的 VoIP 应用程序中管理 AudioSession（设置为 Play&Record 类别）中断时遇到问题。当我正在进行通话、进入后台并启动 youtube 应用程序时，会发生音频会话开始中断，我可以暂停当前通话。

问题是当我返回前台并想要响应我的呼叫时（没有杀死 youtube 应用程序，只需将其置于后台）：没有发生结束中断回调，即使我强制设置我之前的 audioSession 活动，它也会返回错误。
我检查音频资源是否可能被其他进程使用（使用 AudioSessionGetProperty (kAudioSessionProperty_OtherAudioIsPlaying,...) 但他们没有。如果我手动终止 youtube 应用程序，则会发生最终中断并且没有问题。

由于通常没有人手动杀死应用程序，我怎样才能恢复我的通话的音频会话？我检查了其他示例，Viber 可以正常工作，并且可以以某种方式“拦截”最终中断。

另一个奇怪的行为是，如果我在我的 AudioSession 中也设置了“allowMixing”类别，它在 iOS 5.x 中会被完全忽略（youtube 控制音频资源），而在 iOS 4.x 中它可以正常工作（也就是说我听在当代音频通话和 youtube 混合）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T14:54:53.430

我有一个类似的问题。我通过在中断回调中停止并（重新）启动我的音频单元来解决它。

# mysql - 我需要将自动修复设置为 mysql 表

> ID：11410486
> 
> 赞同：1
> 
> 时间：2012-07-10T09:36:58.683
> 
> 标签：mysql

我有一个包含数千个数据的表。我想为表设置自动修复。mysql会支持自动修复吗？什么是语法

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T12:20:00.953

在修复和检查表时，MySQL 提供了两种选择：

1.  MySQL 发行版附带了一个名为“ [myisamchk](http://dev.mysql.com/doc/refman/5.0/en/myisamchk.html) ”的工具，专门用于检查和修复 MyISAM 表（MySQL 使用的默认表类型）。该工具可以扫描您的数据库、识别问题、优化表以加快查找速度，并可选择修复损坏的表。从命令行调用 myisamchk 工具。
2.  除了上述工具之外，MySQL 还允许您使用 SQL 命令检查和修复表。CHECK TABLE、[REPAIR TABLE](http://dev.mysql.com/doc/refman/5.1/en/repair-table.html)和 OPTIMIZE TABLE 命令可以在正在运行的 MySQL 服务器上使用，并且需要通过 MySQL 客户端输入。

    > 例如：修复 [NO_WRITE_TO_BINLOG | 本地] 表 tbl_name [, tbl_name] ... [QUICK] [EXTENDED] [USE_FRM]

大多数时候，最好使用 myisamchk，因为它比使用 SQL 命令要快得多。

关于维修中的“自动”部分，我建议不要养成维修桌子的习惯。在我看来，您正在寻找一个泵来去除泄漏中的水。显而易见的事情不是修复泄漏和问题的原因吗？

删除一些内存繁重的功能或升级您的服务器。依靠脚本或其他东西来自动修复损坏的表是一个坏主意。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:54:37.803

您可以使用

```
 REPAIR TABLE `table_Name` 
```

有一些选项可用于修复关键字，您可以根据您的要求[在此处检查。](http://dev.mysql.com/doc/refman/5.1/en/repair-table.html)

# android - 指纹比对码

> ID：11410489
> 
> 赞同：0
> 
> 时间：2012-07-10T09:37:06.893
> 
> 标签：android, fingerprint

我已将 sqlite 数据库中的指纹印象保存为 bitmap 。任何人都可以帮我提供android代码的源代码或链接，以将两个指纹印象作为位图进行比较。为了平等而匹配。

我尝试过使用以下代码。但它与存储在数据库中的所有指纹印象相匹配。

```
public boolean compare(Bitmap imageToCompare , Bitmap imageInDb )
{
    System.out.println("Inside Compare");
    System.out.println("imageToCompare::::"+imageToCompare);
    System.out.println("imageInDb::::"+imageInDb);

    /*int width = imageToCompare.getWidth();
    System.out.println("width::::::"+width);
    int height = imageToCompare.getHeight();
    System.out.println("height::::"+height);
    int pixelCount = width * height;

    int width1 = imageInDb.getWidth();
    System.out.println("width1::::::"+width1);
    int height1 = imageInDb.getHeight();
    System.out.println("height1::::"+height1);*/
    int pixelCount = mImageWidth * mImageHeight;

    System.out.println("pixelCount::::"+pixelCount);
    int[] pixels1 = new int[pixelCount];
    int[] pixels2 = new int[pixelCount];
    System.out.println("11111111111111111");
    //imageToCompare.getPixels(pixels1, 0, 0, 0, width, height);
    imageToCompare.getPixels(pixels1, 0,mImageWidth, 0, 0, mImageWidth, mImageHeight);
    imageInDb.getPixels(pixels2, 0,mImageWidth, 0,0, mImageWidth, mImageHeight);
    System.out.println("22222222222222");
    for (int i = 0; i < pixelCount; i++) {
        if (pixels1[i] != pixels2[i]) {
            System.out.println("333333333333");
            return false;
        }
    }
    System.out.println("444444444444444444");
    return true;
} 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2020-09-22T13:10:33.293

您不能像字符串比较或逐像素比较那样进行比较。只有当您一次又一次地拥有相同的指纹图像时，才有可能。但在现实中，当你有两次指纹时，两个图像都会有一点点位置变化、角度变化和扫描质量的差异。所以字符串/像素比较是不可能的。

所有扫描仪都提供了用于捕获指纹并进行比较 (1:1) 的 SDK，您可以使用它来开发桌面应用程序。如果您需要在服务器上比对扫描的图像，那么您需要实现自己的自动手指识别算法或者您必须使用第三方服务，例如

1.  [凸轮](http://camsunit.com/application/javascript-based-fingerprint-scanner-for-website-authentication-and-attendance.html#compare-fingerprint)
2.  [M2Sys](http://www.m2sys.com)
3.  [神经技术](https://www.neurotechnology)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-10T09:48:34.480

要比较两个位图，您可以使用适用于 android 的 openCV 库。图像处理有很多功能，这个主题很广泛，取决于您需要的精度。您可以从 cvNorm 函数开始。

在下面的链接中，您将拥有在 Java 下编译的 openCV 库和示例，因此您不必用 C 编写本机代码。

[关联](http://sourceforge.net/projects/opencvlibrary/files/opencv-android/2.4.2/OpenCV-2.4.2-android-sdk.zip/download)

[openCV 网站](http://opencv.org/)

# java - “扩展”枚举

> ID：11410495
> 
> 赞同：2
> 
> 时间：2012-07-10T09:37:34.567
> 
> 标签：java, enums

我有多个枚举，它们都具有相同的构造函数和属性，如下所示：

```
enum Enum1 {
    A(1,2),
    B(3,4);

    public int a, b;
    private Enum1(int a, int b) {
        this.a = a;
        this.b = b;
    }
}

enum Enum2 {
    C(6,7),
    D(8,9);

    public int a, b;
    private Enum1(int a, int b) {
        this.a = a;
        this.b = b;
    }
} 
```

等等......不幸的是，Enum1 和 Enum2 已经扩展了 Enum，因此无法编写它们可以扩展的超类。还有其他方法可以存档吗？

**更新：**这里有一个“真实世界”的例子。想想一个经典的 rpg，你有物品、盔甲、武器等，它们会给你带来奖励。

```
enum Weapon {
    SWORD(3,0,2),
    AXE_OF_HEALTH(3,4,1);

    // bonus for those weapons
    public int strength, health, defense;
    private Weapon(int strength, int health, int defense) {
        this.strength = strength;
        this.health = health;
        this.defense = defense;
    }
}

enum Armour {
    SHIELD(3,1,6),
    BOOTS(0,4,1);

    // bonus
    public int strength, health, defense;
    private Weapon(int strength, int health, int defense) {
        this.strength = strength;
        this.health = health;
        this.defense = defense;
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T09:40:28.363

您必须将它们结合起来（如果那不是一个好主意，则不必）

```
enum Enum1 {
    A(1,2),
    B(3,4),
    C(6,7),
    D(8,9); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:42:14.593

```
No, you can't extend enums in Java. 
```

正如彼得所说，您可以将它们结合起来。

我是[这](https://blogs.oracle.com/darcy/entry/enums_and_mixins)可以帮助你。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T09:45:52.647

枚举扩展枚举。他们也不能扩展其他东西。但是，它们可以实现接口。

您可以让它们都实现一个通用接口，并将您的 getA()、getB() 方法放在接口上。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-03-23T09:08:12.487

您可以尝试使用它，然后将标志添加到您的枚举中：

```
 public class ExtendetFlags : Attribute
    {
        #region Properties

        /// 
        /// Holds the flagvalue for a value in an enum.
        /// 
        public string FlagValue { get; protected set; }

        #endregion

        #region Constructor

        /// 
        /// Constructor used to init a FlagValue Attribute
        /// 
        /// 
        public ExtendetFlags(string value)
        {
            this.FlagValue = value;
        }

        #endregion
    }

    public static class ExtendetFlagsGet
    {
        /// 
        /// Will get the string value for a given enums value, this will
        /// only work if you assign the FlagValue attribute to
        /// the items in your enum.
        /// 
        /// 
        /// 
        public static string GetFlagValue(this Enum value)
        {
            // Get the type
            Type type = value.GetType();

            // Get fieldinfo for this type
            FieldInfo fieldInfo = type.GetField(value.ToString());

            // Get the stringvalue attributes
            ExtendetFlags[] attribs = fieldInfo.GetCustomAttributes(
                typeof(ExtendetFlags), false) as ExtendetFlags[];

            // Return the first if there was a match.
            return attribs.Length > 0 ? attribs[0].FlagValue : null;
        }
    } 
```

使用很简单：

```
 `            [ExtendetFlags("test1")]
            Application = 1,
            [ExtendetFlags("test2")]
            Service = 2
`
```

# backup - 通过电子邮件和 svn 恢复 redmine 问题

> ID：11410496
> 
> 赞同：0
> 
> 时间：2012-07-10T09:37:34.870
> 
> 标签：backup, redmine

我们用 redmine 丢失了服务器。现在我们有了 redmine 和 svn 历史记录的旧数据库转储和电子邮件通知以及描述（描述包含问题数量和一些评论）。有人知道有什么方法可以恢复一些丢失的信息吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:47:02.880

好吧，因为我不确定我已经检查了 redmine 的手册页。也许您可以创建一个包含所有内容的存储库，然后从那里尝试将所有数据文件放到您的 redmine 服务器上的正确位置。 [http://www.redmine.org/projects/redmine/wiki/RedmineRepositories](http://www.redmine.org/projects/redmine/wiki/RedmineRepositories)

遗憾的是，没有关于备份或其他内容的文档。

祝你好运尝试修复它！

# linux - 发生中断或进程调度时是否需要保存标志寄存器？

> ID：11410497
> 
> 赞同：3
> 
> 时间：2012-07-10T09:37:35.743
> 
> 标签：linux, assembly, linux-kernel, x86

我知道当中断发生时所有通用寄存器都被压入堆栈，但我看不到标志寄存器保存的任何代码。像setl这样依赖于标志寄存器的汇编指令，如果标志寄存器损坏，在中断恢复时很容易产生错误结果。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T10:03:58.587

是的，`(e/r)flags`寄存器需要像这样跨上下文切换保存。

所有中断（硬件和软件，包括异常）都会自动将其保存在堆栈中，并且`iret`ISR 末尾的指令将其恢复。

系统调用使用相同或相似的机制并保留寄存器。

调度由中断或系统调用触发。所以，一切都涵盖了。

# c# - IIS 7.0 asp.net 会话超时

> ID：11410498
> 
> 赞同：2
> 
> 时间：2012-07-10T09:37:36.020
> 
> 标签：c#, asp.net, iis, ssl

我有以下要求：我有一个包含 2 个区域的网站

> 1) 公共 - 会话在代码中动态设置为 10 分钟（在页面请求处理期间）
> 2) 私有 - 在代码中动态设置会话为一小时（在页面请求处理期间）

我的问题是我有 2 个行为不同的环境：

> 1.  开发环境 - 按预期做出反应（公共和私有区域具有由代码定义的定义）。
> 2.  生产环境——所有区域都有 15（或 20）分钟的会话超时（时间取决于我定义环境的服务器）。

由于描述，我知道代码本身不是必需的。

现在，这两个环境之间的唯一区别是生产具有 SSL 加密。

为了使两个环境的行为相同，我需要添加什么？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T10:58:42.363

检查 IIS 本身的设置。我相信默认是 20 分钟，这可以解释为什么你会看到你所看到的。

> *   打开 IIS 管理器并导航到要管理的级别。有关打开 IIS 管理器的信息，请参阅打开 IIS 管理器 (IIS 7)。
>     有关导航到 UI 中的位置的信息，请参阅
>     IIS 管理器中的导航 (IIS 7)。
>     
>     
> *   在功能视图中，双击 ASP。
>     
>     
> *   在 ASP 页面上的服务下，展开会话属性。
>     
>     
> *   在超时字段中，输入格式为 hh:mm:ss 的超时值。例如，输入 00:15:00 表示 15 分钟。
>     
>     
> *   在“操作”窗格中，单击应用。

来自： [http ://technet.microsoft.com/en-us/library/cc725820(v=ws.10).aspx](http://technet.microsoft.com/en-us/library/cc725820(v=ws.10).aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:06:18.027

检查 Windows 事件日志以确保工作进程没有被强制回收。

你的代码中可能有一些东西会导致工作进程强制自己回收，在这种情况下，当会话被存储时，`inProc`它会丢失它所持有的所有会话值。

# java - Wicket - AjaxFormComponentUpdatingBehavior 和退格

> ID：11410500
> 
> 赞同：2
> 
> 时间：2012-07-10T09:38:03.247
> 
> 标签：java, ajax, wicket, onkeyup, backspace

当用户编写一些字符串时，我`TextField`添加了一个`AjaxFormComponentUpdatingBehavior`以获取当前值的位置。

```
filterByObject = new TextField<String>("filterByObject", true, new PropertyModel<String>(searchParams, "objectFilter"));
AjaxFormComponentUpdatingBehavior  changeFilterBinded = new AjaxFormComponentUpdatingBehavior ("onkeyup") {
    @Override
    protected void onUpdate(AjaxRequestTarget target) {                         
        target.addComponent(componentToUpdate);
    }
};
filterByObject.add(changeFilterBinded); 
```

当我在 里面放一些字符时`textfield`，`onUpdate`方法被正确调用，并且我的组件根据 的当前状态`searchParams`正确更改。不幸的是，当我`Backspace`用来取消我插入的内容时，`onUpdate`没有调用。

我尝试更改事件（`onkeypress`,等...） `onkeydown`，`onchange`但它不起作用。只能`onChange`工作，但我必须将焦点转移到另一个组件。

我怎样才能挽救这一天？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T09:58:04.057

由于按下退格键，字段中的输入是否无效（根据`setRequired`或`IValidator`添加到字段中）？如果是，[`onError`](http://wicket.apache.org/apidocs/1.4/org/apache/wicket/ajax/form/AjaxFormComponentUpdatingBehavior.html#onError%28org.apache.wicket.ajax.AjaxRequestTarget,%20java.lang.RuntimeException%29)则将调用该方法而不是`onUpdate`，因为用户输入将无效，因此不会到达具有 AjaxFormComponentUpdatingBehavior 的组件的 ModelObject。

```
AjaxFormComponentUpdatingBehavior  changeFilterBinded = 
  new AjaxFormComponentUpdatingBehavior ("onkeyup") {
    @Override
    protected void onUpdate(AjaxRequestTarget target) {     
        // Here the Component's model object has already been updated
        target.addComponent(componentToUpdate);
    }
    @Override
    protected void onError(AjaxRequestTarget target, RuntimeException e){
         // Here the Component's model object will remain unchanged, 
         // so that it doesn't hold invalid input
    }
}; 
```

请记住，任何`IFormValidator`涉及 ajax 化组件的组件都不会自动执行，因此如果是这种情况，您可能有兴趣在更新模型对象之前手动检查输入。您可以通过覆盖来告诉`AjaxFormComponentBehavior`不要自动更新模型对象[`getUpdateModel()`](http://wicket.apache.org/apidocs/1.4/org/apache/wicket/ajax/form/AjaxFormComponentUpdatingBehavior.html#getUpdateModel%28%29)。然后，在`onUpdate`方法中，通过`getConvertedInput()`.

作为旁注，`onkeyup`按下退格键时应该被解雇。至少它在[这个小提琴](http://jsfiddle.net/uFehs/)中确实如此，并且`onchange`通常`<input type="text">`在专注于它时触发。

此外，HTML5 引入了`oninput`事件处理程序，它可能更适合您的需求。即使在文本字段中复制/粘贴，它也会被触发。有关更多信息，请参阅以下链接：[使用 oninput 事件处理程序并将 onkeyup/onkeydown 作为其后备](http://mathiasbynens.be/notes/oninput)。

# jquery - 无法将创建的元素与 jquery 一起使用

> ID：11410504
> 
> 赞同：0
> 
> 时间：2012-07-10T09:38:13.117
> 
> 标签：jquery, element

我是 jquery 的新手，我遇到了一个有点奇怪的问题。在 jquery 中创建一个 div 后，我不能使用它，这个例子将告诉你问题是怎么回事！假设在 get.php 页面中只有：echo "test test"; 我文件中的代码：

```
<script type="text/javascript" src="jquery.min.js"></script>
<script type="text/javascript">
$(document).ready(function()
{
  $("#bda").click(function()
{
$.post("get.php",function(data){
$("#tdiv").append('<div class="info" >'+data +'</div>');
});     
});

$(".info").click(function()
{
  alert("done");
});
});
</script>     
</head>

<body>
 <div id="bda">click here</div>
 <div align="center" style="border:1px solid blue" id="tdiv">    
  example
 </div>
<div class="info" >it works here</div> 
```

有人能帮我吗..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:43:41.617

jQuery 所做的`$(".info")`是在您调用它时选择`.info`元素——这只是一个元素，因为另一个元素是稍后附加的（通过 ajax）。因此，该其他元素没有附加点击事件。因此，`.info`选择器实际上并没有被保存——只是元素被从文档中拉出，然后选择器被丢弃。

您想要的是，*当您单击*jQuery 时，jQuery 会根据选择器检查元素。您可以通过事件委托来做到这一点：

```
// When you click somewhere in the body, jQuery will check whether you
// clicked on a `.info` element and execute the function in that case.
// This also works for elements added later on.

$("body").on("click", ".info", function() { ... }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:42:58.213

当您向 DOM 插入新元素时，您应该委托事件：

```
$("body").on('click', '.info', function() {
  alert("done");
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:41:04.667

您在脚本执行时将 click 事件绑定到 info 类，但稍后在 ajax 过程中添加新的 div。您必须将点击事件重新分配给此类

尝试不绑定 .click()，改用 .on()，就像这里提到的：http: [//api.jquery.com/on/](http://api.jquery.com/on/)

```
$("body").on('click', '.info', function() {
  alert("done");
}); 
```

# c# - 如何在包含一个变量的类中使用多个属性？

> ID：11410506
> 
> 赞同：1
> 
> 时间：2012-07-10T09:38:17.313
> 
> 标签：c#, .net, properties, enums

我有一个名为“config”的类，它有一个名为“param”的私有字符串变量。

我需要从“config”类中获取“param”变量，有时是 int 类型，有时是 bool 类型或字符串。

据我了解，我需要在配置类中创建 3 个属性，每个属性都必须转换类型，如下所示：

第一个属性将字符串转换为 int，第二个属性将字符串转换为 bool，第三个属性为我获取字符串值。

该类应如下所示：

```
class Config
{
    private string param; 

   public int ParamAsInt
  {
    get 
    { 
        return int.Parse(param); 
    }
  }

  public bool ParamAsBool
  {
    get 
    { 
        return bool.Parse(param); 
    }
  }

  public string ParamAsString
  {
    get 
    { 
        return param; 
    }
  }

} 
```

但是我不知道如何根据我想出类的变量类型来使用这些属性。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T09:40:36.350

此代码不会编译 -`int`这些是保留关键字，不能用作标识符。您可以尝试将属性命名为, 等，或者尝试以下`Int32Value`操作：`StringValue`

```
public static implicit operator bool (Config config)
{
    return bool.Parse(config.param);
}

public static implicit operator int (Config config)
{
    return int.Parse(config.param);
} 
```

这将允许更简洁的代码：

```
Config c = GetConfig("foo");
var isFeatureEnabled = false || c;
var spacing = 23 + GetConfig("bar"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:49:23.120

你忘了给你的属性*名称*。您希望如何引用它们？像这样的东西：

```
class Config
{
    private string param; 

    public int ParamAsInt
    {
        get 
        { 
            return int.Parse(param); 
        }
    }

    public bool ParamAsBool
    {
        get 
        { 
            return bool.Parse(param); 
        }
    }

    public string ParamAsString
    {
        get 
        { 
            return param; 
        }
    }
} 
```

请注意，我还修复了您对`.Parse()`. C# 区分大小写。我也`bool.TryParse()`用`bool.Parse()`. 前者（如果使用正确，这不是因为它缺少参数）只会告诉你它*是否是*a `bool`，它不会告诉你`bool`实际*有*什么值。（例如，`bool.TryParse('false' out someBool)`将返回`true`。）

当然，这段代码有点危险。您需要从一些更具防御性的编程开始来检查这些值。基本上，查找`TryParse()`以及如何正确使用它。像这样的东西，例如：

```
public int ParamAsInt
{
    get 
    { 
        var tmp = default(int);
        if (int.TryParse(param, out tmp))
            return tmp;
        else
            // do something else? throw a specific exception? 
    }
} 
```

另外，这段代码的目的是什么？这似乎是一个非常仓促和糟糕的设计。对于任何给定的值`param`（顺便说一句，它是如何*设置*的？）这只是随机尝试为其公开类型化的属性。如果您猜对了，那么您仍然会遇到其他会引发异常的人。当然，有一种*更*清洁的方法来完成你想要做的事情。那*你*想做什么？

# wpf - 如何在没有任何 MVVM 框架的情况下使用 MVVM 关闭 WPF 子窗口？

> ID：11410512
> 
> 赞同：0
> 
> 时间：2012-07-10T09:38:41.083
> 
> 标签：wpf, mvvm

我对 MVVM 和 WPF 非常陌生。

我创建的应用程序有两个按钮，openWindow 和 closeWindow。我设法使用 ICommand 连接 openWindow 并打开一个新窗口 :) 我的问题是当我按下 closeWindow 时，如何关闭那个打开的窗口？

我没有使用任何 MVVM 框架，例如 MVVM Light 等。

非常感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:54:55.533

为什么要从另一个窗口关闭一个窗口？对我来说毫无意义，而且它不是那么用户友好。尽管如此，您始终可以在视图模型中公开一个视图可以订阅和响应的事件。您不会用此类事件破坏 mvvm 模式。

# android - 在android中获取存储信息

> ID：11410514
> 
> 赞同：1
> 
> 时间：2012-07-10T09:38:52.407
> 
> 标签：android, android-layout, android-intent, android-hardware

我想知道如何获取有关任何存储卡、Android 设备的内部存储的信息！我想要的是免费的、已使用的内存量，如果可能的话，还有关于内存卡的额外细节！（不是内部存储）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:44:23.283

这将帮助您获得外部存储的空闲内存：

```
StatFs stat = new StatFs(Environment.getExternalStorageDirectory().getPath());
long bytesAvailable = (long)stat.getBlockSize() * (long)stat.getAvailableBlocks();
long megAvailable = bytesAvailable / (1024 * 1024);
Log.d("","Available MB : "+megAvailable); 
```

希望这会帮助你。

# jquery - jQuery 移动：输入不是 jQuery 移动样式

> ID：11410519
> 
> 赞同：0
> 
> 时间：2012-07-10T09:39:02.917
> 
> 标签：jquery, mobile, input, styles, submit

```
@using (var form = Html.BeginForm("SearchCustomer","Home")){
@Html.ValidationSummary(true)
<table>
    <tr>
        <td>
            @Html.EditorFor(m => Model.SearchString)
        </td>
        <td>

        </td>
        <td>
                <input type="submit" name="foo" data-role="none" />
        </td>
    </tr>
</table> 

} 
```

我希望该输入采用 jQuery 移动样式，但如果我将数据角色设置为“按钮”，则页面为空。我能做些什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T13:55:58.197

来自 jQuery Mobile 文档：

> 为了简化样式，该框架自动将任何具有提交、重置、按钮或图像类型的按钮或输入元素转换为自定义样式按钮——**无需添加 data-role="button" 属性**。但是，如果需要，您可以直接调用任何选择器上的按钮插件，就像任何 jQuery 插件一样：
> 
> `$('[type='submit']').button();`
> 
> 为了保留绑定到原始按钮或输入的事件，框架通过使原始元素透明并将其定位在新按钮标记上来隐藏原始元素。当用户单击自定义样式按钮时，他们实际上是在单击原始元素。**为了防止表单按钮被转换为增强按钮，添加 data-role="none" 属性**，**将呈现原生控件**。

# java - 在 FlowLayout 中设置 JLabel 的大小

> ID：11410523
> 
> 赞同：5
> 
> 时间：2012-07-10T09:39:19.590
> 
> 标签：java, swing, jlabel, flowlayout

我有一个使用 FlowLayout 的 JPanel。我在 JPanel 中添加了一些 JLabel，使用 setPreferedSize() 调整它们的大小并将它们保存在一个列表 label_list 中。一切正常。然后我想改变它们的大小：

```
for(JLabel c:label_list){
c.setPreferedSize(new Dimension(10,10));
} 
```

它不起作用。

```
c.setBackground(Color.red) 
```

和类似的东西有效。为什么我不能在这里使用 setPreferedSize？

c.setBounds(1,1,10,10) 和 c.setSize(10,10) 有效，但是在我更新 UI（调整面板大小）之后，每个大小都会恢复正常。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T10:18:22.473

> 然后我想改变它们的大小：
> 
> for(JLabel c:label_list){ c.setPreferedSize(new Dimension(10,10)); }
> 
> 它不起作用。

您需要调用`revalidate()`标签的父级，以便它重新执行布局并强制执行它们的首选大小。

> c.setBounds(1,1,10,10) 和 c.setSize(10,10) 有效，但是在我更新 UI（调整面板大小）之后，每个大小都会恢复正常。

手动设置 bounds/size/location 与父容器的 LayoutManager 冲突。LayoutManager 的工作是定位和调整子组件的大小。

将布局设置为`null`并调用自己 setSize-setLocation/setBounds，或者使用 LayoutManager（推荐）并且永远不要调用 setSize-setLocation/setBounds。最多可以调用 setPreferred/setMaximum/setMinimum 大小，但尽量避免这种情况，因为它会导致交叉 L&F 问题。

# java - NGINX 与 Tomcat 配置

> ID：11410527
> 
> 赞同：8
> 
> 时间：2012-07-10T09:39:29.097
> 
> 标签：java, apache, tomcat, nginx, application-server

我是 Nginx 新手，我需要你的帮助，

根据许多论坛，我了解到我们所有的静态页面都存储在 Nginx 中。当有请求时，我必须将该请求传递给 tomcat 以获取数据，并在生成来自 tomcat 响应的响应之后。

目前，我刚刚完成了我的请求直接传递给tomcat并响应请求。但我认为这不是性能的解决方案。

所以有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-10T10:17:50.530

你可以使用 proxy_pass 映射到你的 tomcat 服务器端口，例如：如果你的 tomcat 端口是 8080，你的 conf/nginx.conf 应该这样配置：

```
...
http {
    ...

    server {
        location / {
            proxy_pass http://127.0.0.1:8080;
            proxy_set_header X-Real-IP $remote_addr;
        }
    }
} 
```

重新启动它 sbin/nginx -s reload，然后当你可以访问时`http://127.0.0.1`，请求转发到tomcat。

配置文件一般放在：

```
/etc/nginx/nginx.conf 
```

# css - 用我自己的 CSS 替换网站的 CSS

> ID：11410530
> 
> 赞同：3
> 
> 时间：2012-07-10T09:39:51.203
> 
> 标签：css, fiddler

我想知道是否可以用我自己的 CSS 覆盖网站的 CSS？我看过一篇关于如何`.js`用 Fiddler2 替换网站上的文件的博客。我猜这对于 CSS 文件也是可能的，还是有更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T21:50:14.383

[使用Fiddler](http://fiddler2.com)执行此操作很简单，并且与替换 JS 文件的方式完全相同。只需将站点的样式表拖放到 Fiddler 的 AutoResponder 选项卡，然后编辑文件或将其替换为您自己的。或者编写 FiddlerScript 来做同样的事情。这适用于任何浏览器。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T10:17:11.170

如果你使用 Firefox，你可以试试这个[插件](https://addons.mozilla.org/en-US/firefox/addon/stylish/)。

这[是同一个插件](https://chrome.google.com/webstore/detail/fjnbnpbmkenffdnngjfgmeleoegfcffe)，但这个是用于 chrome 的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:55:01.703

您可以使用浏览器为任何页面设置自定义样式表，如果这是您正在寻找的。

# android - 使用 GPS 提供程序未找到用户的当前位置

> ID：11410531
> 
> 赞同：0
> 
> 时间：2012-07-10T09:39:52.197
> 
> 标签：android, gps

我正在使用以下代码查找用户的当前位置

```
LocationManager locationManager = (LocationManager)getSystemService(Context.LOCATION_SERVICE);
locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 1000L, 500.0f, this);

public void onLocationChanged(Location location) {
    Log.e("changed","location");
    // TODO Auto-generated method stub
    showLocation(location); 
} 
```

但是找不到用户的位置。如果我将提供商更改为网络提供商，它的工作。但只有 GPS 提供商它不工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:45:30.427

你能详细说明一下吗？您需要通过 Long 或 Lat 在 mapview 中查找当前位置吗？如果这是您的问题，那么做一件事：通过 DDMS 手动发送或通过单击 mapview 生成 Lat 和 Lang 来查找 Lat 和 Long：可以通过以下方式完成：

```
 public void onLocationChanged(Location loc) {
         loc.getLatitude();
     loc.getLongitude();
        String Text = "My current location is: " + "Latitud = " + loc.getLatitude() + "Longitud = " + loc.getLongitude();
    Toast.MakeTest(getApplicationContext(),Text,Toast.Length_Long).show()
  } 
```

所以通过这个你可以得到你的 lat 和 Long。在 mapView 的点击监听器得到 Lat 和 Long 之后，你可以编写下面的代码：

```
 Projection proj = view1.getProjection();
  GeoPoint loc = proj.fromPixels((int)ev.getX(), (int)ev.getY()); 
   //Getting Lat and Log 
 String longitude =  Double.toString(((double)loc.getLongitudeE6())/1000000);
 String latitude = Double.toString(((double)loc.getLatitudeE6())/1000000);
  GeoPoint point = new GeoPoint(  (int) (loc.getLatitudeE6()),(int) (loc.getLongitudeE6()));
   //Getting location from lat and Long
   String address="";
    Geocoder geoCoder = new Geocoder(getBaseContext(), Locale.getDefault());
     try {
     List<Address> addresses = geoCoder.getFromLocation(point.getLatitudeE6()  / 1E6,     
    point.getLongitudeE6() / 1E6, 1);
    if (addresses.size() > 0) {
  for (int index = 0; index < addresses.get(0).getMaxAddressLineIndex(); index++)
    address += addresses.get(0).getAddressLine(index) + " ";
     }
     }
    catch (IOException e) {                
                              e.printStackTrace();
                          }   
      Toast t =Toast.makeText(getApplicationContext(), "Longitude: "+ longitude +"  Latitude: "+ latitude+" name: "+address, Toast.LENGTH_LONG);
      t.show(); 
```

当您单击 mapview 时，您将获得输出。对于 MapView 上的点击事件，请在 dispatchTouchEvent() 中编写上述代码为

```
 public boolean dispatchTouchEvent(MotionEvent ev) {
    int actionType = ev.getAction();
    switch (actionType) {
        case MotionEvent.ACTION_UP:
         //write above code here
              }
          } 
```

试试这个。编辑：使用下面给出的代码检查您的代码。

```
 public class MyLocationListener implements LocationListener {
    public void onLocationChanged(Location loc) {
        loc.getLatitude();
        loc.getLongitude();
        String Text = "My current location is: " + "Latitud = "
                + loc.getLatitude() + "Longitud = " +    loc.getLongitude();
       latituteField.setText(String.valueOf(loc.getLatitude()));
   longitudeField.setText(String.valueOf(loc.getLongitude()));
    }

       public void onProviderDisabled(String provider) {
   Toast.makeText(getApplicationContext(), "Gps Disabled", Toast.LENGTH_SHORT).show();
    }
     public void onProviderEnabled(String provider) {
 Toast.makeText(getApplicationContext(), "Gps Enabled",Toast.LENGTH_SHORT).show();
    }
    public void onStatusChanged(String provider, int status, Bundle extras) {
        }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:45:31.880

更改 requestLocationUpdates 方法，使其更新更快且坐标变化更少。将其更改为：-

`requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, this);`

现在就试试。如果可能的话，将手机移动几米，以便 GPS 卫星很快检测到它。我假设 GPS 已打开。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:48:39.150

首先检查您的 GPS 是否已启用或禁用。启用 GPS 后，使用位置侦听器获取当前位置。我正在使用以下代码获取 gps 位置

```
String sourceLat, sourceLong;
LocationManager locManager;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);        

    txtCurrLat = (TextView) findViewById(R.id.txtCurrLat);
    txtCurrLong = (TextView) findViewById(R.id.txtCurrLong);

    mapView = (MapView) findViewById(R.id.mapview);

    geoPoint = null;
    mapView.setSatellite(false);

    locManager = (LocationManager)getSystemService(Context.LOCATION_SERVICE); 
    locManager.requestLocationUpdates(LocationManager.GPS_PROVIDER,1000L,500.0f, locationListener);
    Location location = locManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);

    if(location != null)                                
    {
        double fromLat = location.getLatitude();
        double fromLong = roundTwoDecimals(location.getLongitude());

        Toast.makeText(getApplicationContext(), fromLat +fromLong+""  , Toast.LENGTH_SHORT).show();
        sourceLat = Double.toString(fromLat);
        sourceLong = Double.toString(fromLong);

        txtCurrLat.setText(sourceLat+","+sourceLong);   

        btnShow.setOnClickListener(this);
    }else{

        Toast.makeText(getApplicationContext(), "Location is not avilable", Toast.LENGTH_SHORT).show();
    }

}

private void updateWithNewLocation(Location location) {

    String latLongString = "";
    if (location != null) {
        double lat = location.getLatitude();
        double lng = location.getLongitude();
        sourceLat = Double.toString(lat);
        sourceLong = Double.toString(lng);
        latLongString =  sourceLat + "," + sourceLong;
    } else {
        latLongString = "No location found";
        Toast.makeText(getApplicationContext(), latLongString+"", Toast.LENGTH_SHORT).show();
    }
    txtCurrLat.setText(latLongString);
}

private final LocationListener locationListener = new LocationListener() {
    public void onLocationChanged(Location location) {
        updateWithNewLocation(location);
    }

    public void onProviderDisabled(String provider) {
        Toast.makeText( getApplicationContext(), "Gps is Disabled.Please enabale gps", Toast.LENGTH_SHORT ).show();
        updateWithNewLocation(null);
    }

    public void onProviderEnabled(String provider) {
        Toast.makeText( getApplicationContext(), "Gps is Enabled", Toast.LENGTH_SHORT).show();
    }

    public void onStatusChanged(String provider, int status, Bundle extras) {

    }
}; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T09:52:31.247

GPS 不提供“按需获取我的位置”功能。您必须耐心等待设备从多颗卫星获得修复。即使可以清楚地看到天空，这也可能需要几分钟。这就是操作系统将其作为回调实现的原因。onLocationChanged 在设备修复时运行，您只需等待它。

# android - Android（表格布局）

> ID：11410533
> 
> 赞同：0
> 
> 时间：2012-07-10T09:39:58.807
> 
> 标签：android, tablelayout

我正在尝试显示表格布局。我有以下错误：

```
java.lang.RuntimeException: Unable to start activity ComponentInfo{com.budget1/com.budget1.Report}: android.view.InflateException: Binary XML file line #2: Error inflating class Tablelayout 
```

我的xml代码是：

```
<?xml version="1.0" encoding="utf-8"?>
<Tablelayout xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="fill_parent" android:layout_height="fill_parent">
    <Tablerow>
 <Textview android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Enter your name">
     </Textview>
    <Edittext android:layout_width="150px" android:layout_height="wrap_content">
        </Edittext>
    <Button
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Submit"
    />
    </Tablerow>

 <Tablerow>
 <Textview android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Spanning Two columns" android:layout_span="2">
     </Textview>
    <Button
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Cancel"
    />
 </Tablerow>

</Tablelayout> 
```

请帮我..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:46:07.863

Android 布局 xml 文件区分大小写。使用 TableLayout、TableRow、TextView、EditText 等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:47:07.683

您没有为布局组件指定 ID。尝试使用参数为每个 TableRow、TextView 等添加唯一 ID`android:id="@+id/your_desired_id"`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:58:09.897

我像这样编辑了你的 xml 文件，它工作正常，

```
 <TableLayout

    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">

    <TableRow
            android:id="@+id/tableRow1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content">

        <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Enter your name"
                />

        <EditText
                  android:layout_width="150px"
                  android:layout_height="wrap_content"
                />

        <Button
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Submit"
                />
     </TableRow>

    <TableRow

        android:id="@+id/tableRow2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" >

        <TextView
                android:layout_width="wrap_content"
                  android:layout_height="wrap_content"
                  android:text="Spanning Two columns"
                  android:layout_span="2" />

        <Button
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Cancel"
                />
    </TableRow>

  </TableLayout> 
```

# c++ - CRichEditCtrl 在使用 MFC 编写的共享 dll 中无法正常工作？

> ID：11410541
> 
> 赞同：2
> 
> 时间：2012-07-10T09:40:37.477
> 
> 标签：c++, windows, dll, mfc

我正在编写一个用 MFC 编写的 DLL，供其他应用程序使用。
项目设置：
1\. 在静态库中使用 MFC
2\. 预处理器：AFXDLL
3\. MD Build

在调用内部调用 InitInstance 和 DLL main 的 CWinApp 之前，我还使用了 AFX_MANAGE_STATE (AfxGetStaticModuleState())。

此对话框中有选项卡，我只能看到第一个选项卡，所有其他选项卡都显示为空白。当我运行与 exe 相同的 DLL（需要更改）时，它工作正常。
当我调用 AfxGetApp() 时，DLL 也崩溃了吗？我想主要问题是由于 DOMODAL()。谁能告诉标签控制不起作用的问题是什么？

**更新**我发现**CRichEditCtrl**是问题所在。在对话框选项卡中，当我删除它时我也有这个它工作正常。谁能知道这个原因..我之前在 InitiInstance() 中使用过 AfxInitRichEdit2()

我是 MFC 的新手，如果您需要更多信息，请告诉我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T14:47:48.633

在使用富编辑控件之前，您必须调用[AfxInitRichEdit ()。](http://msdn.microsoft.com/en-us/library/tt1cfb9f.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T07:37:18.137

你调用`AfxInitRichEdit2`的`InitInstance`EXE？

试着把它放在 DLL 中`InitInstance`！

# dictionary - 密码生成器

> ID：11410542
> 
> 赞同：0
> 
> 时间：2012-07-10T09:40:37.570
> 
> 标签：dictionary, passwords

我需要生成一些密码（密码生成器），但我想避免可能相互混淆的字符（例如：Chair2bok）。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:45:25.017

你为什么不直接使用你想要使用的字符集而不是那些要避免的字符集呢？

一组标准的 64 个字符

```
!#%+23456789:=?@ABCDEFGHJKLMNPRS
TUVWXYZabcdefghijkmnopqrstuvwxyz 
```

更大的 88 个字符集

```
!"#$%&'()*+,-./23456789:;<=>?@ABCDEFGHJKLMNO
PRSTUVWXYZ[\]^_abcdefghijkmnopqrstuvwxyz{|}~ 
```

来源：[自动生成的密码中要避免的字符](https://stackoverflow.com/questions/55556/password-generation-best-practice)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-15T20:55:35.543

我在博客中介绍了如何在[此处](http://blog.digitaltools.com/post/2011/08/19/Generating-Passwords.aspx)为 SQL Server 生成强密码。它使用可以删除不需要的字符的字符串。我已经删除了一些像 1、I、0 和 O 的东西。

```
private static string CHARS_LCASE = "abcdefgijkmnopqrstwxyz";
private static string CHARS_UCASE = "ABCDEFGHJKLMNPQRSTWXYZ";
private static string CHARS_NUMERIC = "23456789";
private static string CHARS_SPECIAL = "*-+_%/";
private static string CHARS_ALL = CHARS_LCASE + CHARS_UCASE 
                                    + CHARS_NUMERIC + CHARS_SPECIAL; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-27T13:47:14.690

要生成各种复杂的密码，您可以使用这些服务。例如，[GetPas](http://getpas.ru/)（在线密码生成器）。

# iphone - 我通过 Web 服务获得 HTML 响应

> ID：11410545
> 
> 赞同：-1
> 
> 时间：2012-07-10T09:40:55.977
> 
> 标签：iphone

我通过 Web 服务获得 HTML 响应，我想要来自 Web 方法的 xml。我正在使用 TBXML xml 解析器。它偶尔会发生，例如在此示例中：

找不到资源。body{font-family:"Verdana";font-weight:normal;font-size: .7em;color:black;}p {font-family:"Verdana";font-weight:normal;颜色：黑色；上边距：-5px}b{字体系列：“Verdana”；字体粗细：粗体；颜色：黑色；上边距：-5px}............ .....................................................请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:42:59.337

对我来说看起来像一个网络服务错误，有什么问题？

# java - 当每个向量的元素具有不同的范围时如何计算2个向量的余弦相似度

> ID：11410550
> 
> 赞同：1
> 
> 时间：2012-07-10T09:41:07.977
> 
> 标签：java, algorithm, math

如何找到两个向量之间的余弦相似度并且向量的每个元素具有不同的范围？例如，每个向量有两个元素，`V = {v[0], v[1]}`例如{age, height}，其中年龄范围为30-70，身高范围为100cm-200cm，`v1 = {20, 175}, v2 = {35,192}`给出两个示例向量。

我知道余弦相似度 ( `sim`) 定义为`sim = (v1 dot v2 ) / (|v1| * |v2|)`，其中 dot 是 v1 和 v2 之间的点积，|v| 是向量的大小。但这是基于向量 V 中的每个元素具有相同的数据范围的假设，并且当每个元素具有不同的范围时不适用，例如我在这里使用的情况。

我能想到的一件事是`W = {w[0],w[1]}`对每个向量 v1 和 v2 应用一个权重向量来规范化向量中的每个元素。

那是

```
weighted_sim = ( sum (w[i] * v1[i] * v2[i]) )  / sqrt ( (sum (w[i] *v1[i]^2 ) ) * ( sum (w[i] *v2[i]^2 ) ) ) 
```

但是我很难在这里计算出权重向量 W 。

有人可以在这里帮助我吗？非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:40:38.503

我只是将两个测量值归一化，使其位于 [0,1] 范围内。所以归一化年龄`(real_age-30)/(70-30)`和归一化身高`(real_height-100)/(200-100)`。我注意到您的示例向量`V1`的年龄为 20 岁，超出了您指定的范围。

这些计算不会为您提供可以通过简单乘法应用于原始数据的权重。我会首先计算归一化向量，然后计算它们之间的向量相似度。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T03:59:55.447

您可能需要标准化，但这需要比两个输入向量更多的数据。当您想赋予其中一项功能（我认为这是两个功能）比另一项更重要/更不重要时，就会应用加权。

例如，我人为地考虑了应用标准化的整个范围（以整数步长），并将您的单个示例与标准化和无程序（即，对数据不做任何事情）进行了比较。这是结果：

```
(standardization) Similarity: 0.744599          Data: (-1.12599, 0.88339), (-0.259844, 1.47232).
(  normalization) Similarity: 0.978736          Data: (0.166667, 0.75), (0.416667, 0.92).
(           none) Similarity: 0.997788          Data: (20, 175), (35, 192). 
```

至少对我来说，使用标准化的结果更有意义。

以下是生成上述内容的示例基本代码：

```
import numpy

def cosine_dist(a, b): # Similarity between a and b
    return sum(a * b) / ((sum(a ** 2) * sum(b ** 2)) ** 0.5)

age_range = [10., 70.]
height_range = [100., 200.]

# Input.
age = numpy.array([20, 35])
height = numpy.array([175, 192])

# Normalization
age_n = numpy.array(age, dtype=float)
height_n = numpy.array(height, dtype=float)
age_n = (age_n - age_range[0]) / (age_range[1] - age_range[0])
height_n = (height_n - height_range[0]) / (height_range[1] - height_range[0])

# Standardization.
all_age = numpy.array(range(*map(int, age_range)))
all_height = numpy.array(range(*map(int, height_range)))
age_s = numpy.array(age, dtype=float)
height_s = numpy.array(height, dtype=float)
age_s = (age_s - all_age.mean()) / all_age.std()
height_s = (height_s - all_height.mean()) / all_height.std()

for name, a, h in [('standardization', age_s, height_s),
        ('normalization', age_n, height_n), ('none', age, height)]:

    data = numpy.array([(a[0], h[0]), (a[1], h[1])])
    data_s = '(%g, %g), (%g, %g)' % (data[0][0], data[0][1], data[1][0], data[1][1])
    print "(%15s) Similarity: %g\t\tData: %s." % (name, cosine_dist(*data),
            data_s) 
```

# mysql - 如何成功执行 MySQL 空间缓冲功能？

> ID：11410554
> 
> 赞同：2
> 
> 时间：2012-07-10T09:41:22.857
> 
> 标签：mysql, spatial-query

有没有人成功使用过 MySQL 空间缓冲功能？我在这里阅读了文档：[http ://dev.mysql.com/doc/refman/5.0/en/functions-that-c​​reate-new-geometries-from-existing-ones.html#function_buffer](http://dev.mysql.com/doc/refman/5.0/en/functions-that-create-new-geometries-from-existing-ones.html#function_buffer)

如文档中所述，缓冲区函数有 2 个参数。第一个是几何类型，第二个是距离。

我试着做一个几何变量

```
mysql> set @g1 = geomfromtext('POINT(1 1)');
Query OK, 0 rows affected (0.00 sec) 
```

然后，为了确保我的变量设置正确，我执行了一个查询。如果变量设置不正确，这样的查询将返回 NULL。在这种情况下，确认我的变量设置正确

```
mysql> select astext(@g1);
+-------------+
| astext(@g1) |
+-------------+
| POINT(1 1)  |
+-------------+
1 row in set (0.00 sec) 
```

我运行查询以选择文档中所述的缓冲区

```
mysql> select astext(buffer(@g1, 5));
ERROR 1305 (42000): FUNCTION module_devel.buffer does not exist 
```

我在这里想念什么吗？

**编辑**对不起，我想我想念这个：

> 12.17.5.3.2。空间运算符
> 
> OpenGIS 提出了许多其他可以生成几何图形的函数。它们旨在实现空间运算符。 **MySQL 中没有实现这些功能。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T11:18:53.993

这可能与[此](http://bugs.mysql.com/bug.php?id=23964)错误报告有关。您使用的是哪个 MySQL 服务器？也许你应该升级到[5.6](http://dev.mysql.com/doc/refman/5.6/en/mysql-nutshell.html)。

# javascript - 如何将不同的格式或样式应用于弹出窗口

> ID：11410556
> 
> 赞同：-1
> 
> 时间：2012-07-10T09:41:38.043
> 
> 标签：javascript, html, css, javascript-events

我以简单的格式显示一个弹出窗口。我想应用不同的打开弹出窗口的格式。如何应用格式或样式以使其在弹出窗口打开时看起来非常好？以下是我的源代码：

HTML：

```
<div onMouseOver="show('healing')" onMouseOut="hide('healing')"> 
  <div id="healing" class="bgdiv" > 
    <div id ="title" class="Title"> Healing</div>
    <img class="img"  src="images/healing.bmp"> 
    <div class="description" >Welcome Sir.</div>
  </div>
</div> 
```

CSS：

```
#showhealing, #innovations, #div3 {
    visibility: hidden;    
} 
```

JavaScript：

```
function show(id) {
    document.getElementById(id).style.visibility = "visible";
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:57:27.710

[PoeHaH](https://stackoverflow.com/users/1478601/poehah)是对的；您可以使用 CSS 设置弹出窗口的样式。学习 CSS 的一个很好的资源是[Mozilla 开发者网络](https://developer.mozilla.org/en-US/learn/css)。

例如，在你的 CSS 中试试这个：

```
#healing {
    visibility: hidden;
    border: 1px solid blue;
    background: grey;
} 
```

以上将为弹出窗口提供蓝色边框和灰色背景。不漂亮，我知道，但它证明了原则。

*顺便说一句，您的代码示例中存在一些差异（即在您拥有的 CSS 中`#showhealing`，在 HTML 中没有等效项）。*

# jsp - 将注释插入表达式语言

> ID：11410557
> 
> 赞同：3
> 
> 时间：2012-07-10T09:41:38.973
> 
> 标签：jsp, el

这样的事情可能吗？

```
${ long_boolean_expression_a <comment here>
|| long_boolean_expression_b <comment here>
|| long_boolean_expression_c <comment here>} 
```

?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T10:19:20.497

AFAIK 没有这样的规定可以在 EL 中添加评论。

# android - Android + JQM+ jsonp 无法始终如一地工作

> ID：11410560
> 
> 赞同：0
> 
> 时间：2012-07-10T09:41:46.290
> 
> 标签：android, jquery, ajax, cordova

我正在使用 JQM + PhoneGap 开发 Hybrid Android App 我正在使用 AJAX 执行 JSONP 请求

它适用于所有 Chrome PC 浏览器，在连接 WiFi 时也适用于我的 android 应用程序，但是当将网络连接更改为 3G 时，AJAX 请求没有响应。

我发现@BruceHill 相关的帖子写了以下内容：“移动运营商在将内容发送到手机之前进行内容修改，此修改破坏了 jQuery” [Jquery 移动页面无法在荷兰 3G 连接上正确加载](https://stackoverflow.com/questions/7930179/jquery-mobile-page-not-loading-correctly-on-netherlands-3g-connections)

虽然我不住在荷兰，但我尝试按照他的建议通过在远程服务器上定位所有 JS 文件并通过 CDN 调用它，但不幸的是它没有帮助。

我很乐意在这方面得到一些帮助......

这是我的 AJAX 请求：

```
$.mobile.allowCrossDomainPages = true;

$('#expertsListPage').live('pageshow', function (event) {
   $.mobile.showPageLoadingMsg(); 
    getExpertsList();
});

var catId;
var catName
function getExpertsList() {

    $('#expertsList li').remove();
    catId = getUrlVars()["id"];
    catName = getUrlVars()["cat"]  ;

    $('h1').text( unescape(catName) );

    var url = 'http://apis.mydomain.com/mydata.svc/jsonp' 

    $.ajax({
         cache: true,
         type: 'GET',
         url: url,
         dataType: 'jsonp' ,
         jsonp: 'callback',
         success:api_do
    });

}

var expertss;
function api_do(obj) {

    $('#expertsList li').remove();

    expertss = obj.experts;

    $.each(expertss, function (index, expert) {

        $('#expertsList').append('<li><a  href="ExpertDetails.html?id=' + expert.id + '&catid=' + catId +'&catName=' + catName + '">' +
                    '<img style="width:160px;height:160px;" src="' + expert.thumbnail + '"/>' +
                    '<h4>' + expert.name + '</h4>' +
                    '<p>' + expert.description + '</p>' +
                    '</a></li>');

    });

    $('#expertsList').listview('refresh');

    $.mobile.hidePageLoadingMsg();
}

function getUrlVars() {
    var varsExperts = [], hash;
    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
    for (var i = 0; i < hashes.length; i++) {
        hash = hashes[i].split('=');
        varsExperts.push(hash[0]);
        varsExperts[hash[0]] = hash[1];
    }
    return varsExperts;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T05:29:56.767

尝试将此代码添加到您的 javascript 中，可能会有所帮助。

```
$( document ).on( "mobileinit", function() {
                 // Make your jQuery Mobile framework configuration changes here!
    $.support.cors = true;
    $.mobile.allowCrossDomainPages = true;
}); 
```

# r - 如何控制 Hmisc 包中 latex() 中 longtable 的错误分页符？

> ID：11410562
> 
> 赞同：3
> 
> 时间：2012-07-10T09:41:53.033
> 
> 标签：r, latex, sweave, page-break, longtable

我正在使用 Hmisc 包中的 Sweave 和 latex() 在我的 PDF 中插入一个 longtable。

当我第一次这样做时，桌子很好地展开，用桌子填满了页面。

如果我再做一次，有些页面只有半满（如 PDF 的第 4 页），这看起来很奇怪而且有点错误，因为它似乎是不必要的空间。

有没有办法控制这个？或者我能做些什么来改善外观？特别是，如果我要添加一些文本和图表，第 4 页上的空白区域看起来不太好。

```
\documentclass{article}

\usepackage{Sweave}
\usepackage{longtable}
\usepackage{booktabs}

\begin{document}
\SweaveOpts{concordance=TRUE}

I want to insert this longtable
<<tab.R,echo=FALSE,results=tex>>=
library(Hmisc)
#library(xtable)
x <- matrix(rnorm(1000), ncol = 10)
x.big <- data.frame(x)
latex(x.big,"",file="",longtable=TRUE, dec=2,caption='First longtable spanning several pages')
@

then write some text. Maybe add a graph...

And then another table
<<tab.R,echo=FALSE,results=tex>>=
latex(x.big,"",file="",longtable=TRUE, dec=2,caption='Second longtable spanning wrongly')
@

\end{document} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-10T16:19:51.677

不要把这个问题交给 latex 组，这是 Hmisc/latex`\clearpage`默认每 40 行添加一个到 tex 的问题。检查参数`lines.page=40`。`latex`我不明白为什么设置了这个默认值，但是类似

```
latex(x.big,"",file="",longtable=TRUE, dec=2,
  caption='Second longtable spanning wrongly', lines.page=4000) 
```

让你解决问题。

# google-app-engine - 无法将 cron.xml 文件上传到应用引擎

> ID：11410566
> 
> 赞同：0
> 
> 时间：2012-07-10T09:42:10.863
> 
> 标签：google-app-engine, google-cloud-datastore

在我的 java 项目中创建一个新的 cron.xml 文件后，当我将我的应用程序上传到 GAE 时，会出现一些错误：
详细信息：
验证可用性：
将在 1 秒内再次检查。
将在 2 秒后再次检查。
将在 4 秒后再次检查。
将在 8 秒后再次检查。
关闭更新：新版本已准备好开始服务。

更新数据存储：
上传索引定义。
上传 cron jobs.com.google.appengine.tools.admin.HttpIoException：发布到 URL 时出错：[https](https://appengine.google.com/api/datastore/cron/update?app_id=aptosin&version=1&)
://appengine.google.com/api/datastore/cron/update?app_id=aptosin&version=1& 500 内部服务器错误

服务器错误 (500)
发生服务器错误。

cron.xml：

```
<?xml version="1.0" encoding="UTF-8"?>
<cronentries>
 <cron>
  <url>/url</url>
  <description>Backup data 02 times per day</description>
  <schedule>every 12 hours</schedule>
  <timezone>America/New_York</timezone>
  <target>ah-builtin-python-bundle</target>
 </cron>
</cronentries> 
```

URL： /_ah/datastore_admin/backup.create?name=BackupDaily &kind=Datastore&kind=Datastore&filesystem= blobstore&gs_bucket_name=smsspamfilteraptosin
有人能告诉我这里出了什么问题吗？
谢谢你。

# jquery - jQuery 实例互相覆盖

> ID：11410572
> 
> 赞同：0
> 
> 时间：2012-07-10T09:42:22.380
> 
> 标签：jquery, jqgrid, instances

我有上面的代码，它运行并将图标更改为加载图标，如果成功则更改为其他图标。无论如何，它在单个实例上工作得非常好；但是，例如，当我单击两个（或更多）时，它将使第一个实例带有加载图标，然后最后一个实例将其图标更改两次。

我想我明白发生了什么，那就是我的变量被新值覆盖了。我该如何解决？函数的每个实例不应该有自己的一组变量吗？现在在我看来变量（init_elem，closest_td，closest_tr）是全局的，因此被覆盖了？

“$(this)” 失去了它的上下文，因此我将它分配给变量的原因。我在 jqGrid 上使用它，因此需要 .on() 因为让它“通常”不起作用。我曾尝试使用 $.proxy; 但我以前从未使用过它，而且我似乎无法让它正常工作，因为 console.log'ing $(this).html() 显示的是对话框 html 而不是锚 html。

```
$(document).ready(function() {
    $("#acquire-dialog").dialog({
        autoOpen: false,
        modal: true
    });
});

$(document).on('click','.acquire-confirmation', function(event) {
    event.preventDefault(); 
    init_elem = $(this);
    closest_td = $(init_elem).closest("td");
    closest_tr = $(init_elem).closest("tr");
    process_id = $(this).attr("rel");

    $("#acquire-dialog").dialog('option', 'buttons', {
        "Confirm" : function() {
            restore_html = $(init_elem).closest("td").html();
            $(closest_td).html('<img class="qmark" title="Loading..." src="images/loading.gif">');
            $.post(
                'includes/_add_ajax.php', 
                {section: 'acquire_document', process_id: process_id},
                function(data){
                    $("#ajax_notifications").freeow(data.subject,data.message,{classes: [data.type] });
                    if (data.type == 'success')
                    {
                        $(closest_tr).find("div:first")
                            .removeClass('icon_status_0')
                            .addClass('icon_status_2')
                            .attr('title','You have acquired access to this document.');
                        if (typeof data.status !== "undefined")
                        {
                            var document_status = ['A','B','C'];

                            $(closest_td).prev().html(document_status[data.status]);
                            if (data.status == 1)
                                $(closest_td).html('<a class="qmark" target="_blank" title="Generate a return for this document." href="includes/generate_return.php?id='+ process_id +'"><img src="images/icon_pdf.png" border="0" /></a>');
                            else
                                $(closest_td).html('<img class="qmark" title="You can only generate a return for a document once its been served or a return of non-service has been issued." src="images/icon_question.png">');
                        }
                    }
                    else
                        $(init_elem).closest("td").html(restore_html);
                },
                'json'
            );
            $(this).dialog("close");
        },
        "Cancel" : function() {
            $(this).dialog("close");
        }
    });

    $("#acquire-dialog").dialog("open");

}); 
```

这是我对 $.proxy() 的尝试：

```
$.proxy($("#acquire-dialog").dialog("open"),this); 
```

和

```
$.proxy($("#acquire-dialog").dialog("open"),$(this)); 
```

最后也是事件绑定，尽管我认为这是不对的：

```
$(document).on('click','.acquire-confirmation', $.proxy(function(event) { ... },this)); // and $(this) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T11:39:46.443

您应该使用`var`关键字，否则您的变量将被覆盖

你可以在这里了解 JavaScript 中的变量范围 [什么是 JavaScript 中的变量范围？](https://stackoverflow.com/questions/500431/javascript-variable-scope)

# html - 设置宽度和 in IE9 The issue I'm having is options in a select box flow over the edge of the page (hiding the scroll bar). I'm trying to restrict the width of the options using CSS. Please say if there is a better way... This worked fine in I

> ID：11410575
> 
> 赞同：1
> 
> 时间：2012-07-10T09:42:36.040
> 
> 标签：html, css

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-10T09:53:23.260

浏览器以不同的方式实现`select`元素，通常使用或多或少不受 CSS 影响的内置例程。甚至不清楚您或其他使用很长选项文本的人希望发生什么——截断、换行、水平滚动，还是什么？

最好使用简洁的选项文本来避免这个问题。它们应该是替代品的可见名称，而不是小说。如果确实需要很长的名称，请使用一组单选按钮而不是`select`.

# delphi - Form Scaled 属性设置为 False，但控件仍在缩放

> ID：11410577
> 
> 赞同：1
> 
> 时间：2012-07-10T09:42:48.197
> 
> 标签：delphi, delphi-7

当计算机在 Windows 7 上将字体设置为 125% 时，我试图阻止 Delphi 7 应用程序缩放。

我已经浏览了所有表单并将它们的 scaled 属性都设置为 False，这解决了大多数表单上的问题，但是有一些在它们上动态创建了控件，控件仍在缩放，所以我在同一个表单上混合了一些缩放控件和一些未缩放控件。

有什么建议为什么这些控件仍在扩展？

例如，我们在表单上有一个 groupbox 控件。在窗体创建过程中，将动态创建另一个控件，并将 groupbox 作为其父级。正是这个控件仍在扩展。组框按应有的方式显示（即未缩放）。

# javascript - Google Maps V3 - json 标记加载问题（使用 Rails 3.1 获取数据）

> ID：11410578
> 
> 赞同：0
> 
> 时间：2012-07-10T09:42:48.760
> 
> 标签：javascript, jquery, google-maps-api-3, ruby-on-rails-3.1

我们正在 Rails 中构建一个谷歌地图应用程序，该应用程序最初使用 javascript json 标记生成函数（使用数据对象上的 rails .to_json 方法）加载一些制造商。

然后我们在缩放操作上有一个监听器，它直接将新的 json 文件加载到上面的相同标记函数中。

在初始加载时，标记会正常显示，但在缩放时似乎没有新的标记出现。检查 rails 日志，正在调用 json 文件，因此问题要么与 json 数据的处理方式有关，要么与标记的传递方式有关。

你们中的任何人都可以看到问题所在吗？

```
 var map;
    function initialize() {
      var myOptions = {
        zoom: <%= @zoom %>,
        center: new google.maps.LatLng(<%= @centre %>),
        mapTypeId: google.maps.MapTypeId.ROADMAP
      }; 

      map = new google.maps.Map(document.getElementById('map_canvas'),
          myOptions);

      stream_json = (<%= raw(@stream.to_json) %>);
      parse_json(stream_json); 

      google.maps.event.addListener(map, 'zoom_changed', function() {
        json_url = "/test?bounds="+map.getBounds()+"&zoom="+map.getZoom();
        stream_json = $.getJSON(json_url);
        parse_json(stream_json);
      });

      function parse_json(json) {
        if (json.length > 0) { 
          var markers = [];
          for (i=0; i<json.length; i++) {
            var place = json[i];
            alert(place.longitude +','+place.latitude);
            // addLocation(place);
            markers[i] = new google.maps.Marker({
              map: map,
              position: new google.maps.LatLng(place.latitude, place.longitude)
            });
          }
        }
      };

    }

    google.maps.event.addDomListener(window, 'load', initialize); 
```

非常感谢您可以发送给我们的任何指示！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T13:01:24.500

您没有正确使用[getJSON](http://api.jquery.com/jQuery.getJSON/)。这是一个异步调用，因此您需要提供一个回调：

```
 google.maps.event.addListener(map, 'zoom_changed', function() {
    json_url = "/test?bounds="+map.getBounds()+"&zoom="+map.getZoom();
    $.getJSON(json_url, function(data) {
      parse_json(data);
    });
  }); 
```

# ios - iOS中的正则表达式替换

> ID：11410582
> 
> 赞同：7
> 
> 时间：2012-07-10T09:43:00.407
> 
> 标签：ios, regex, nsregularexpression

我将需要将脏字符串替换为干净的字符串：

```
-(void)setTheFilter:(NSString*)filter
{
    [filter retain];
    [_theFilter release];

    <PSEUDO CODE>
    tmp = preg_replace(@"/[0-9]/",@"",filter);
    <~PSEUDO CODE>

    _theFilter = tmp;
} 
```

这应该消除所有数字，`filter`以便：

@"Import6652"
将产生 @"Import"

我怎样才能在 iOS 中做到这一点？

谢谢！

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-07-10T09:49:50.397

```
NSRegularExpression *regex = [NSRegularExpression regularExpressionWithPattern:
                              @"([0-9]+)" options:0 error:nil];

[regex replaceMatchesInString:str options:0 range:NSMakeRange(0, [str length]) withTemplate:@""]; 
```

**迅速**

```
do {
    let regex = try NSRegularExpression(pattern: "([0-9]+)", options: NSRegularExpressionOptions.CaseInsensitive)
    regex.replaceMatchesInString(str, options: NSMatchingOptions.ReportProgress, range: NSRange(0,str.characters.count), withTemplate: "")
} catch {} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T09:47:14.133

请参阅[NSRegularExpression的文档](https://developer.apple.com/library/mac/#documentation/Foundation/Reference/NSRegularExpression_Class/Reference/Reference.html)

特别是标题为**使用正则表达式替换字符串的部分**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-07-08T07:42:11.923

使用正则表达式的字符串替换代码

**斯威夫特3**

```
extension String {
    func replacing(pattern: String, withTemplate: String) throws -> String {
        let regex = try RegularExpression(pattern: pattern, options: .caseInsensitive)
        return regex.stringByReplacingMatches(in: self, options: [], range: NSRange(0..<self.utf16.count), withTemplate: withTemplate)
    }
} 
```

利用

```
var string: String = "Import6652"
do {
    let result = try string.replacing(pattern: "[\\d]+", withTemplate: "")
} catch {
    // error
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T09:48:53.187

虽然不是通过正则表达式，但您可以使用`stringByTrimmingCharactersInSet`

> **stringByTrimmingCharactersInSet**：
> 返回一个新字符串，该字符串通过从给定字符集中包含的接收器字符的***两端删除。***

结合

> **decimalDigitCharacterSet**
> 返回一个字符集，其中包含十进制数类别中的字符。

像这样：

```
[filter stringByTrimmingCharactersInSet:[NSCharacterSet decimalDigitCharacterSet]]; 
```

**警告**：它只会删除两端的字符。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-10T09:49:11.467

在 iOS 4.0+ 中，您可以使用`NSRegularExpression`：

用于`matchesInString:options:range:`获取所有匹配结果的数组。

然后从原始字符串中删除它们

# c - Arduino - 如何循环从 000000 到 FFFFFF 的十六进制颜色？

> ID：11410583
> 
> 赞同：1
> 
> 时间：2012-07-10T09:43:02.520
> 
> 标签：c, hex, arduino, rgb

我有一个涉及使用 3 色 LED 的 LED 模块的项目，可以通过传入 RGB 十六进制颜色来控制它，例如`22AAFF`

`000000`如果我从这个开始，我怎么能循环`FFFFFF`呢？

```
long color = 0x000000; 
```

我想要一个循环来执行每次迭代并显示每种可能的颜色，最终得到

```
color = 0xFFFFFF 
```

我不确定我对颜色的十六进制表示的理解是否有意义！？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-10T09:47:10.337

显而易见的有什么问题`for (int color = 0x000000; color <= 0xFFFFFF; ++color)`？

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-10T09:56:51.337

你可以这样做

```
for (int color = 0x000000; color <= 0xFFFFFF; ++color) 
```

但正如评论中提到的，这将需要很长时间才能显示所有 1600 万种颜色，更不用说 LED 无法显示所有这些颜色，所以你可能会想要这样的东西：

```
const int step = 8; // Select this to be a power of two if you want the maximum brightness to be reachable
for( int red = 0x00; red <= 0xFF; red += step ) {
    for( int green = 0x00; green <= 0xFF; green += step ) {
        for( int blue = 0x00; blue <= 0xFF; blue += step ) {
            const int color = blue << 16 + green << 8 + red;
            // Change the led settings here.
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-10T10:49:43.860

我认为您不想循环遍历所有颜色，而是遍历 HSV(HSB) 颜色模型中的 HUE 通道。如果是这样，您可以搜索将 HSV 值转换为 RGB 的函数的实现。您的代码将如下所示：

```
for(int hue=0; hue<360; hue++)
    setColorHSV(hue,1,1); 
```

[您可以在此处](http://eduardofv.com/read_post/179-Arduino-RGB-LED-HSV-Color-Wheel-)找到一种可能的实现方式。

如果你不想打扰这个功能，你可以使用这个虚拟循环：

```
unsigned int i;
for(i = 0; i <= 0xFF; i++)
{
    rgb = 0xFF0000 | i<<8;  
    setLed(rgb);
}
while(--i > 0)
{
    rgb = 0x00FF00 | i<<16; 
    setLed(rgb);
}
for(i = 0; i <= 0xFF; i++)
{
    rgb = 0x00FF00 | i; 
    setLed(rgb);
}
while(--i > 0)
{
    rgb = 0x0000FF | i<<8;  
    setLed(rgb);
}
for(i = 0; i <= 0xFF; i++)
{
    rgb = 0x0000FF | i<<16; 
    setLed(rgb);
}
while(--i > 0)
{
    rgb = 0xFF0000 | i;
    setLed(rgb);
} 
```

不幸的是，我无法对其进行测试，但我认为它应该可以正常工作。当然，您可以根据需要对其进行优化。

# r - R：循环添加到表中的新列，每列都填充了从不同 csv 文件聚合的数据

> ID：11410584
> 
> 赞同：0
> 
> 时间：2012-07-10T09:43:02.737
> 
> 标签：r, loops, time-series, trending

我正在努力弄清楚如何在 R 中做到这一点。我从一组约 50 个 csv 文件中获得了这样的数据，每个文件都详细说明了一个单独的图书销售交易：

```
**week 1**
**author** **title** **customerID**
author1 title1 1
author1 title2 2
author2 title3 3
author3 title4 3

**week 2**
**author** **title** **customerID**
author1 title1 4
author3 title4 5
author4 title5 1
author5 title6 6

... ~ 50 weeks, each from a separate csv file 
```

我想得到一个新表，每一行代表一个出现在完整数据集中的作者，以及我有数据的大约 50 周中的每一周的列。每个单元格应该是该作者在该周的图书销量。这可以简单地通过将该作者在该周的销售文件中的行数相加来计算。所以它应该看起来像这样：

```
**author** **week1** **week2** ... **week50**
author1 2 1 ...
author2 1 0 ...
author3 1 1 ...
author4 0 1 ...
author5 0 1 ...
... 
```

有任何想法吗？我知道如何获取唯一作者列表以制作第一列。而且我知道如何将每周的销售数据加载到数据框中。但我需要帮助自动化这个过程：1）迭代独特的作者 2）迭代每周的 csv 文件或数据框 3）总结该作者在该周的销售额 4）添加计数作为该单元格的值

有人可以帮忙吗？谢谢 ：-）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T11:24:18.767

```
text1<-"**week 1**
**author** **title** **customerID**
author1 title1 1
author1 title2 2
author2 title3 3
author3 title4 3
"

df1<-read.table(header=T,skip=1,stringsAsFactors=F,text=text1)
week1<-read.table(header=F,nrows=1,stringsAsFactors=F,text=text1,sep=";")
week1<-substr(week1,3,nchar(week1)-2)
df1$week<-rep(week1,nrow(df1))

text2<-"**week 2**
**author** **title** **customerID**
author1 title1 4
author3 title4 5
author4 title5 1
author5 title6 6
"

df2<-read.table(header=T,skip=1,stringsAsFactors=F,text=text2)
week2<-read.table(header=F,nrows=1,stringsAsFactors=F,text=text2,sep=";")
week2<-substr(week2,3,nchar(week2)-2)
df2$week<-rep(week2,nrow(df2))

df<-rbind(df1,df2)
names(df)<-c("author","title","customerID","week")

require(plyr)
agg<-ddply(df,~author*week,function(df) length(df$title))

require(reshape)
res<-cast(agg,author~week,value="V1",fill=0)
res

   author week 1 week 2
1 author1      2      1
2 author2      1      0
3 author3      1      1
4 author4      0      1
5 author5      0      1 
```

您只需要一个循环来读取您的数据。为此，您可以使用类似的东西

```
ff<-list.files(pattern="*.[Cc][Ss][Vv]")
for (i in 1:length(ff)){
  code for reading the data 
  and constructing the data.frame 
} 
```

# javascript - 使用 jquery.bassistance 验证对数字进行验证

> ID：11410586
> 
> 赞同：0
> 
> 时间：2012-07-10T09:43:10.240
> 
> 标签：javascript, jquery, validation

我使用了 jquery.bassistance 验证插件。用于验证我的字段。现在我想验证我的到达文本框。我希望他在这个盒子上验证。您在此复选框中使用的唯一字符是数字和 :。

我怎么能做到这一点。我现在使用了这段代码：

```
$(".validate").validate({
        rules: {
            email: {
                required: true,
                email: true
            },
            number: {
                required:true,
                minlength:3,
                phoneAus:true   
            },
            math: {
                equal: 11
            },
            agree: "required"
        },
        messages: {
            email: "Vul een geldig email adres in",
            agree: "Je moet nog akkoord gaan met voorwaarden"
        },
        errorLabelContainer: $("form .error-messages")
    }); 
```

但号码验证。验证数字。我该如何解决号码验证问题。接受 : 符号。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:55:04.933

尝试添加自定义正则表达式规则，这是一个起点，您需要根据您的特定要求更新正则表达式：

```
$(function ()
{
    $.validator.addMethod("customRegex", function(value, element) {
        return this.optional(element) || /^[0-9\:]+$/i.test(value);
    }, "must contain only numbers, or a colon.");

    $(".validate").validate({
        rules: {
            "fieldId": {
                required: true,
                customRegex: true,
            }
        },
        messages: {
            "fieldId": {
                required: "You must enter a xyz",
                customRegex: "format not valid"
            }
        }
    });
}); 
```

# eclipse - 如何以编程方式为弹出菜单添加子菜单？

> ID：11410589
> 
> 赞同：0
> 
> 时间：2012-07-10T09:43:21.693
> 
> 标签：eclipse, eclipse-plugin, eclipse-rcp

在我的插件中，我有一个带有菜单项“X”的弹出菜单，我想向该菜单项添加子菜单

并且子菜单中菜单项的数量和标签及其操作将发生变化。

我想我不能从 plugin.xml 中执行此操作，那么如何以编程方式执行此操作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T14:20:56.650

在您的**plugin.xml**中的**org.eclipse.ui.menus**下，添加一个**menuContribution**，它引用您的“根”菜单的 id，即您希望附加子菜单的菜单（在本例中为**menu:myDynamicMenuRoot** ):

```
<menuContribution
    allPopups="true"
    class="com.myCode.menus.MyDynamicMenuContributions"
    locationURI="menu:myDynamicMenuRoot">
</menuContribution> 
```

请注意，**allPopups="true"**确保您的子菜单将添加到您在应用程序的任何位置添加 的 ID**为 myDynamicMenuRoot的任何菜单中。**

最后，创建一个扩展 ExtensionContributionFactory 的类，它的工作是创建您的动态子菜单项。在这里，我根据我在**plugin.xml**中定义的命令添加项目：

```
public class MyDynamicMenuContributions extends ExtensionContributionFactory {
    private static final ImageDescriptor GREEN_STAR = Plugin.getImageDescriptor("icons/green_star.png");

    @Override
    public void createContributionItems(IServiceLocator serviceLocator, IContributionRoot additions) {
        // build a couple of command-based contribution parameters
        CommandContributionItemParameter pAA = new CommandContributionItemParameter(
            serviceLocator,
            "Submenu_CommandAA",
            "my.package.command.myCommandAA",
            SWT.PUSH);
        pAA.icon = GREEN_STAR;
        pAA.label = "Command AA";

        CommandContributionItemParameter pBB = new CommandContributionItemParameter(
            serviceLocator,
            "Submenu_CommandBB",
            "my.package.command.myCommandBB",
            SWT.PUSH);
        pBB.icon = GREEN_STAR;
        pBB.label = "Command BB";

        // create actual contribution items and add them to the given additions reference
        CommandContributionItem itemAA = new CommandContributionItem(pAA);
        itemAA.setVisible(true);
        additions.addContributionItem(itemAA, null);

        CommandContributionItem itemBB = new CommandContributionItem(pBB);
        itemBB.setVisible(true);
        additions.addContributionItem(itemBB, null);
    }
} 
```

# c# - 在c#中对两个列表使用foreach循环来获取列表值

> ID：11410593
> 
> 赞同：3
> 
> 时间：2012-07-10T09:43:27.150
> 
> 标签：c#, list, loops, foreach

```
List<String> listA = new List<string> { "A1", "A2" };
List<String> listB = new List<string> { "B1", "B2" };

for(int i = 0; i < listA.Count; i++)
{
    text += listA[i] + " and " + listB[i];
} 
```

我怎样才能使用`foreach`循环来做到这一点？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-10T09:46:41.757

您可以使用 Linq 和[`Zip`](http://msdn.microsoft.com/en-us/library/dd267698.aspx)方法：

```
List<String> listA = new List<string> { "A1", "A2" };
List<String> listB = new List<string> { "B1", "B2" };

foreach (var pair in listA.Zip(listB, (a,b) => new {A = a, B = b}))
{
    text += pair.A + " and " + pair.B;
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-10T09:48:09.037

你不能用`foreach`比你已经在做的更好的方法来做到这一点`for`——`foreach`实际上只有在只有一个序列要枚举时才能很好地工作。

但是，您可以使用 LINQ 非常方便地做到这一点：

```
text = string.Join("", listA.Zip(listB, (a, b) => a + " and " + b)); 
```

这需要 .NET 4[`Zip`](http://msdn.microsoft.com/en-us/library/dd267698.aspx)和 .NET 的[特定重载`string.Join`](http://msdn.microsoft.com/en-us/library/dd783876)。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-10T09:50:33.377

另一种方法是使用简单的枚举器：

```
IEnumerator<string>  enumerator = listB.GetEnumerator(); 
enumerator.MoveNext();
foreach(var stra in listA) {
    text += stra + " and " + enumerator.Current.ToString() + ", ";
    enumerator.MoveNext();
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-10T09:50:35.117

使用 LINQ

```
string text = listA.Zip(listB, (a, b) => new {A = a, B = b}).Aggregate("", (current, pair) => current + (pair.A + " and " + pair.B)); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-10T11:07:03.410

如果您不想使用 LINQ 并且希望它们并行迭代，那么您几乎没有选择 - 使用新类等，如下所示，或者您可以使用**foreach**，但仅限于其中一个列表，如下所示：

```
List<String> listA = new List<string> { "A1", "A2" };
List<String> listB = new List<string> { "B1", "B2" };
string text = "";
int i = 0;
foreach (string s in listA) {
   text += s + " and " + listB [i++] + "\n";
}
Console.WriteLine (text); 
```

或者使用 GetEnumerator 让它变得更好：

```
List<String> listA = new List<string> { "A1", "A2" };
List<String> listB = new List<string> { "B1", "B2" };
string text = "";       
List<string>.Enumerator e = listB.GetEnumerator ();
foreach (string s in listA) {
   e.MoveNext ();
   text += s + " and " + e.Current + "\n";
}
Console.WriteLine (text); 
```

你也可以自己创建一个 Enumberable 元集合，它总是会返回一个简单的字符串数组——为此你需要创建一个 Enumerator 和一个派生自 IEnumerable 的类：

首先是枚举器：

```
private class DoubleStringEnumerator : IEnumerator
{
    private DoubleString _elemList;
    private int _index;
    public DoubleStringEnumerator(DoubleString doubleStringObjt)
    {
        _elemList = doubleStringObjt;
        _index = -1;
    }
    public void Reset()
    {
        _index = -1;
    }
    public object Current {
        get {
            return _elemList.getNext();
        }
    }
    public bool MoveNext ()
    {
        _index++;
        if (_index >= _elemList.Length)
            return false;
        else
            return true;
    }
} 
```

**Current**方法并没有真正反映给定示例中的名称 - 但它是出于学习目的。

现在上课：

```
public class DoubleString : IEnumerable
{
    public int Length;
    List<String> listA;
    List<String> listB;
    List<string>.Enumerator eA,eB;
    public DoubleString(List<String> newA,List<String> newB)
    {
        if(newA.Count != newB.Count) {
            throw new Exception("Lists lengths must be the same");    
        }
        listA = newA;
        listB = newB;
        eA = listA.GetEnumerator ();
        eB = listB.GetEnumerator ();
        Length = listA.Count;
    }
    IEnumerator IEnumerable.GetEnumerator ()
    {
        return (IEnumerator)new DoubleStringEnumerator(this);
    }
    public string[] getNext ()
    {
        eA.MoveNext ();
        eB.MoveNext ();
        return new string[] {eA.Current ,eB.Current };
    }
} 
```

和代码本身：

```
List<String> listA = new List<string> { "A1", "A2" };
List<String> listB = new List<string> { "B1", "B2" };               
DoubleString newDoubleString = new DoubleString (listA, listB);             
string text = "";
foreach (string[] s in newDoubleString) {
    text += s[0] + " and " + s[1] + "\n";
}
Console.WriteLine (text); 
```

当然还是用LINQ更好。代码没有优化，但是我没有编译器，所以我的脑袋里写着——希望它能澄清一些事情。随意问的问题。

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2012-07-10T09:53:01.003

```
List<int> = new [] { 1, 2, 3, 4 };
List<String> words = new [] { "one", "two", "three" };

var numbersAndWords = numbers.Zip(words, (n, w) => new { Number = n, Word = w });
foreach(var nw in numbersAndWords)
{
    Console.WriteLine(nw.Number + nw.Word);
} 
```

* * *

## 回答 #7

> 赞同：-3
> 
> 时间：2012-07-10T09:54:34.147

**这是使用foreach的解决方案：**

```
string text = null;
int cnt = 0;

List<String> listA = new List<string> { "A1", "A2" };
List<String> listB = new List<string> { "B1", "B2" };

foreach (string i in listA)
  {
         text += listA[cnt] + " and " + listB[cnt];
         cnt++;
  } 
```

**谢谢和问候，
Subhankar**

# ruby-on-rails - 在红宝石中随时间迭代

> ID：11410596
> 
> 赞同：0
> 
> 时间：2012-07-10T09:43:38.310
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.1

我正在开发业务分析应用程序，我需要在特定月份的每小时基础上获取一些数据。例如，我想获取从 2012 年 6 月 1 日到 2012 年 6 月 30 日的数据，我需要获取这几天之间每小时的数据。比如 12:00 13:00,13:00-14:00 ....等。

我该怎么做。请告诉我。使用1.8.7平台。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T09:58:33.497

```
start = Date.new(2012, 6, 1).to_time.to_i
stop  = Date.new(2012, 6, 30).to_time.to_i

(start..stop).step(1.hour).each do |timestamp| 
  puts Time.at(timestamp)
end 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-10T10:07:05.463

如果您使用的是 Rails，则有一个 Date 方法`step`：[http ://corelib.rubyonrails.org/classes/Date.html#M001273](http://corelib.rubyonrails.org/classes/Date.html#M001273)

* * *

在纯红宝石上只需编写简单的循环：

```
t=Time.new(2012,01,01,0,0,0) #start time
max_time=Time.new(2012,01,31,23,59,59) #end time
step=60*60 #1hour
while t<=max_time
     p t #your code here
     t += step
end 
```

为了简化使用这个 ruby​​ 扩展：

```
module TimeStep

  def step(limit, step)  # :yield: time
    t = self
    op = [:-,:<=,:>=][step<=>0]
    while t.__send__(op, limit)
       yield t
       t += step
    end
    self
  end
end

Time.send(:include, TimeStep) #include the extension 
```

用法：

```
t=Time.new(2012,01,01,0,0,0)
t.step(Time.new(2012,01,31,23,59,59),3600) do |time|
  puts time
end 
```

您还可以向下迭代：

```
t=Time.new(2012,01,31)
t.step(Time.new(2012,01,1),-3600) do |time|
   puts time
end 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-10T09:57:44.090

我想这里已经有了[答案](https://stackoverflow.com/a/501291/1205299)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T09:58:50.267

是的，步骤很好！

```
a = Time.now
b = Time.now + 3600*8
(a..b).step(3600){|t| puts t} 
```

# python - 如何实现拖放 gui？

> ID：11410600
> 
> 赞同：0
> 
> 时间：2012-07-10T09:43:55.157
> 
> 标签：python, user-interface, drag-and-drop

我是 python 新手，希望为我编写的脚本编写一个简单的 GUI。我需要能够在窗口中拖放框。即，我将有一个空白字段，并在其下有一个由不同框表示的选项列表。然后我希望能够拖动文件中的选项并在添加它们时将它们列出。我知道这在使用 jQuery 的 javascript 中相对容易，但我不是在做一个 Web 应用程序。哪个 python gui 框架可以让我轻松地进行拖放？Tkinter，pyQT，wxPython？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:07:53.523

wxPython：

1.  [Boa 构造函数](http://boa-constructor.sourceforge.net/)-[示例](http://showmedo.com/videotutorials/video?name=4010000&fromSeriesID=401)
2.  [wxDesigner](http://www.roebling.de/sshots.html)

还有 qt 与 pyqt 和 pyside 的绑定，您可以在其中使用 QT Creator 来设计您的应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-15T04:42:31.227

您可以使用[Rapyd](http://www.bitflipper.ca/rapyd/)和 Tkinter 进行 python 开发。

这是一个开源开发环境，用于使用 Python、Tkinter 和可选的 Pmw 开发应用程序。

# search-engine - 停止部分页面被搜索引擎索引？

> ID：11410603
> 
> 赞同：0
> 
> 时间：2012-07-10T09:44:13.083
> 
> 标签：search-engine

如何停止搜索引擎索引我的页面的一部分？是否有用于此的 HTML5 元素？

它只是我想隐藏的一行文字（一位同事出于某种原因不想在谷歌上显示他们的名字）。我想我可以用 javascript 注入文本，但我听说谷歌有时会查看 javascript 文件。

我也想过使用图像而不是文本，但我担心这会如何跨设备和平台。我注意到在 mac 和 pc 上的文本渲染可能会有所不同，这是在我不得不考虑移动设备、视网膜显示器等之前。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T11:21:26.987

除非您使用上面已经列出的方法，否则您无法隐藏内容。最好的办法是在外部文件中使用 JavaScript，然后使用 robots.txt 阻止该文件。

# objective-c - Objective c - 取消 NSOperationQueue 中的操作

> ID：11410604
> 
> 赞同：0
> 
> 时间：2012-07-10T09:44:13.230
> 
> 标签：objective-c, ios, nsoperation, nsoperationqueue, afnetworking

我`AFNetworking` `AFHTTPClient`只是为了这个例子，但这个问题是关于`NSOperationQueue`一般的。

`AFHTTPClient`管理客户端发出的`NSOperationQueue`请求。

它还有一个`cancelAllOperations`方法可以遍历`self.operationQueue.operations`并调用`[operation cancel]`每个方法。

**如果我理解正确，它将取消队列中等待的所有操作——这意味着尚未开始的操作，但是当前正在运行的操作呢？他们不会被取消？？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:55:35.620

来自 Apple 的文档

> 对于当前正在执行的操作，取消意味着操作对象的工作代码必须检查取消状态，停止正在执行的操作，并将自己标记为已完成。对于已排队但尚未执行的操作，队列仍必须调用操作对象的 start 方法，以便它可以处理取消事件并将自己标记为已完成。
> 
> 一个操作保留在它的队列中，直到它报告它完成了它的任务。完成其任务并不一定意味着该操作已完成该任务。也可以取消操作。取消操作对象会使对象留在队列中，但会通知对象它应该尽快中止其任务。对于当前正在执行的操作，这意味着操作对象的工作代码必须检查取消状态，停止正在执行的操作，并将自身标记为已完成。对于已排队但尚未执行的操作，队列仍必须调用操作对象的 start 方法，以便它可以处理取消事件并将自己标记为已完成。

# themes - Cloud9 IDE 本地主题

> ID：11410610
> 
> 赞同：6
> 
> 时间：2012-07-10T09:44:35.720
> 
> 标签：themes, cloud9-ide

Cloud9 IDE 文档说您可以导入 Textmate 主题，但我无法弄清楚。有人可以逐步解释我如何做到这一点。顺便说一下，我试图在我的本地主机上包含主题。

我找到了这个链接，但我仍然不明白......

[https://groups.google.com/forum/#!msg/ace-discuss/kLgJFe2l2YY/47QvhIowqqMJ](https://groups.google.com/forum/#!msg/ace-discuss/kLgJFe2l2YY/47QvhIowqqMJ) 。

上面的 url 还提到能够编辑已经存在的主题。如果有人知道文件的位置/位置，这也会派上用场。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-06T17:31:44.407

假设我的主题名称是“pretty.tmTheme”，请按照以下步骤操作：

1.  将 pretty.tmTheme 复制到 'cloud9/node_modules/ace/tool/tmThemes/'
2.  转到 cloud9/node_modules/ace/tool/ 并运行“node tmtheme.js”
3.  前往 cloud9/
4.  运行'make ace'
5.  运行“制作主题”
6.  打开 cloud9/plugins-client/ext.themes_default/themes_default.js 并将您的主题添加到列表中。例如：'“漂亮”：“王牌/主题/漂亮”'
7.  运行 Cloud9 并从视图/主题列表中选择新主题。
8.  享受！;)

# ruby - 在插件中获取 Jekyll 配置

> ID：11410611
> 
> 赞同：20
> 
> 时间：2012-07-10T09:44:43.643
> 
> 标签：ruby, jekyll, liquid

我想对 Jekyll [Only First Paragraph 插件](https://github.com/sebcioz/jekyll-only_first_p)进行更改，以使生成“阅读更多”链接成为可配置选项。

为此，我需要能够访问插件中的 Jekyll 站点配置`AssetFilter`。有了可用的配置，我可以进行更改。我不知道如何使站点配置可用于插件。

下面的代码演示了我希望在哪里`site.config`可用：

```
require 'nokogiri'

module Jekyll
  module AssetFilter
    def only_first_p(post)
      # site.config needs to be available here to modify the output based on the configuration

      output = "<p>"
      output << Nokogiri::HTML(post["content"]).at_css("p").inner_html
      output << %{</p><a class="readmore" href="#{post["url"]}">Read more</a>}

      output
    end
  end
end

Liquid::Template.register_filter(Jekyll::AssetFilter) 
```

这可以实现吗？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-07-12T09:31:13.330

## 概述

您可以通过以下方式访问插件中的 Jekyll 配置选项：

```
Jekyll.configuration({})['KEY_NAME'] 
```

如果配置键包含嵌套级别，则格式为：

```
Jekyll.configuration({})['KEY_LEVEL_1']['KEY_LEVEL_2'] 
```

* * *

## 例子

如果 _config.yml 包含：

```
testvar: new value

custom_root:
    second_level: sub level data 
```

简单输出这些值的基本示例如下所示：

```
require 'nokogiri'

module Jekyll
  module AssetFilter
    def only_first_p(post)

      @c_value = Jekyll.configuration({})['testvar']
      @c_value_nested = Jekyll.configuration({})['custom_root']['second_level']

      output = "<p>"

      ### Confirm you got the config values
      output << "<br />"
      output << "c_value: " + @c_value + "<br />"
      output << "c_value_nested: " + @c_value_nested + "<br />"
      output << "<br />"
      ###

      output << Nokogiri::HTML(post["content"]).at_css("p").inner_html
      output << %{</p><a class="readmore" href="#{post["url"]}">Read more</a>}

      output
    end
  end
end

Liquid::Template.register_filter(Jekyll::AssetFilter) 
```

当然，您可能希望在尝试使用之前检查配置键/值是否已定义。这留给读者作为练习。

* * *

## 另一个可能的选择

[Jekyll 插件 Wiki 页面](https://github.com/mojombo/jekyll/wiki/Plugins)的“液体过滤器”部分包含以下内容：

> 在 Jekyll 中，您可以通过寄存器访问站点对象。例如，您可以像这样访问全局配置 (_config.yml)：@context.registers[:site].config['cdn']。

我还没有花时间让它工作，但它可能也值得一试。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2015-03-20T16:58:48.927

`Jekyll.configuration({})['KEY_NAME']`会破坏`--config`命令行选项，因为它总是会从 _config.yml 文件加载配置。另一个不好的副作用是它会再次读取 _config.yml 文件。

`context.registers[:site].config['KEY_NAME']`是正确的答案，因为它将从 Jekyll 已经加载的配置中获取密钥。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-08-15T13:15:02.550

如果您正在使用生成器（也是插件），则可以获得如下配置：

```
class MyPlugin < Jekyll::Generator
  def generate(site)
    puts site.config["max_posts"] # max_posts as defined in _config.yml 
```

您将获取站点作为参数，并且 .config 可作为哈希访问。

# c# - 如何确定 TreeView.SelectedNode 是父节点还是子节点

> ID：11410613
> 
> 赞同：0
> 
> 时间：2012-07-10T09:44:57.403
> 
> 标签：c#, asp.net, events, triggers, treeview

![在此处输入图像描述](../Images/df3c307e96ef11d11a7ad07d2098e614.png)我在我的 ASP.NET Web 应用程序中有一个 TreeView 控件，并且我在事件选择节点更改时遇到问题，我单击树视图中的某个节点但事件没有触发，我有一些未执行的指令，我也用调试器检查过。

```
<asp:TreeView ID="ArboreSarcini" runat="server" ImageSet="News" 
onselectednodechanged="ArboreSarcini_SelectedNodeChanged" NodeIndent="10" 
style="z-index: 1; left: 1px; top: 27px; position: absolute; height: 308px; width: 446px">
<HoverNodeStyle Font-Underline="True" BackColor="#99CCCC" Font-Size="12pt" />
<LeafNodeStyle ImageUrl="~/Poze/leaf.png" NodeSpacing="2px" />
<LevelStyles>
<asp:TreeNodeStyle BorderColor="Black" BorderStyle="Solid" BorderWidth="1px" 
Font-Names="Leelawadee" Font-Size="Medium" Font-Underline="False" 
ImageUrl="~/Poze/Root.png" />
<asp:TreeNodeStyle BorderColor="#003300" BorderStyle="Solid" BorderWidth="1px" 
Font-Names="Leelawadee" Font-Underline="False" ImageUrl="~/Poze/node.png" 
Width="400px" />
<asp:TreeNodeStyle BorderColor="#006600" BorderStyle="Solid" BorderWidth="1px" 
Font-Names="Leelawadee" Font-Underline="False" Height="10px" 
ImageUrl="~/Poze/leaf.png" Width="390px" />
</LevelStyles>
<NodeStyle Font-Names="Leelawadee" Font-Size="10pt" ForeColor="Black" 
HorizontalPadding="5px" NodeSpacing="2px" VerticalPadding="0px" 
ImageUrl="~/Poze/node.png" Width="0px" />
<ParentNodeStyle Font-Bold="False" Width="500px" />
<RootNodeStyle ImageUrl="~/Poze/Root.png" />
<SelectedNodeStyle Font-Underline="False" BackColor="#009148" BorderWidth="2px" 
Font-Bold="False" Font-Italic="True" Font-Size="12pt" />
</asp:TreeView> 
```

```
protected void Button1_Click(object sender, EventArgs e)
{
ArboreSarcini.Nodes.Clear();
populeaza_sarcini();

string sqlstring1 = "Select * from activitati";
System.Data.SqlClient.SqlConnection con1 = new System.Data.SqlClient.SqlConnection(
            "Data Source=BOGDAN-PC\\BOGDAN;Initial Catalog=ePlanning;Integrated Security=SSPI;Connect Timeout=10;TrustServerCertificate=True ");
System.Data.SqlClient.SqlCommand comm1 = new System.Data.SqlClient.SqlCommand(sqlstring1, con1);
System.Data.SqlClient.SqlDataReader reader1;
con1.Open();
reader1 = comm1.ExecuteReader();

while (reader1.Read())
{
foreach (Sarcina s in listaSarcini)
{
    if ((int)reader1["id_sarcina"] == s.Id_sarcina)
    {
        s.ListaActivitati.Add(new Activitate(Convert.ToInt32(reader1["id_activitate"]), reader1["descriere"].ToString()));
    }
}
}

TreeNode tatal = new TreeNode();
tatal.Value = DropListProiecte.SelectedItem.ToString();
//    ArboreSarcini.Nodes.Add(tatal);

TreeNode parentNode = new TreeNode();
foreach (Sarcina sarc in listaSarcini)
{
parentNode = new TreeNode( sarc.Id_sarcina.ToString() + ". " + sarc.Descriere.ToString());

foreach (Activitate act in sarc.ListaActivitati)
{
    TreeNode copil = new TreeNode(act.Id_activitate.ToString()+". "+act.Descriere.ToString() );
    parentNode.ChildNodes.Add(copil);
}
tatal.ChildNodes.Add(parentNode);
//parentNode.Collapse();

}
ArboreSarcini.Nodes.Add(tatal);
con.Close();
ArboreSarcini.ExpandAll();
}

    protected void ArboreSarcini_SelectedNodeChanged(object sender, EventArgs e)
{

    if (ArboreSarcini.SelectedNode.ImageUrl == "~/Poze/node.png")
    {

        System.Data.SqlClient.SqlConnection con = new System.Data.SqlClient.SqlConnection(
                      "Data Source=BOGDAN-PC\\BOGDAN;Initial Catalog=ePlanning;Integrated Security=SSPI;Connect Timeout=10;TrustServerCertificate=True ");
        //  string de_splituit = ArboreSarcini.SelectedNode.Text;
        string[] id_sarcina = ArboreSarcini.SelectedNode.Text.Split('.');

        string sqlstring = "Select * from sarcini where id_sarcina=" + id_sarcina[0] + ";";

        System.Data.SqlClient.SqlCommand comm = new System.Data.SqlClient.SqlCommand(sqlstring, con);
        System.Data.SqlClient.SqlDataReader reader;

        con.Open();
        reader = comm.ExecuteReader();
        while (reader.Read())
        {
            tbIDSarcina.Text = reader["id_sarcina"].ToString();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:52:55.217

> 默认情况下，TreeView 控件处理客户端上的展开-折叠功能，除非浏览器不支持客户端脚本或 EnableClientScript 属性设置为 false。如果 PopulateNodesFromClient 属性设置为 true 并且浏览器支持客户端脚本，则 TreeView 控件会从服务器检索数据，而不会将整个页面发回。
> 
> 当 TreeView 控件处于选择模式时，每次用户单击一个节点时，都会回发到服务器并引发 SelectedNodeChanged 事件。
> 
> 通常，您应该在 TreeView 控件处于选择模式或动态填充节点时处理回发事件。这是因为 PopulateOnDemand 或 PopulateNodesFromClient 属性设置为 true。

因此，请确认您设置了所有必需的属性。共享您的 HTML 可能会有所帮助。[在此处](http://msdn.microsoft.com/en-us/library/e8z5184w%28v=vs.80%29.aspx)阅读有关 asp.net 树视图的更多信息 TreeNode.Nodes 属性。获取分配给当前树节点的 TreeNode 对象的集合。

[http://msdn.microsoft.com/en-us/library/system.windows.forms.treenode.nodes.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.treenode.nodes.aspx)

# php - array_udiff 的特殊行为？

> ID：11410623
> 
> 赞同：1
> 
> 时间：2012-07-10T09:45:36.403
> 
> 标签：php, arrays

我有以下 PHP 脚本：

```
<?php
function filt($k, $l){
    if($k===$l){
        var_dump("valid: ".$k."-".$l);
        return 0;
    }
    return 1;
}
$a6=array(7, 9, 3, 33);
$a7=array(2, 9, 3, 33);
$u=array_udiff($a6, $a7, "filt");
var_dump($u);
?> 
```

使用以下输出：

```
string 'valid: 3-3' (length=10)

array
    0 => int 7
    1 => int 9
    3 => int 33 
```

据我所知，array_udiff 应该转储相等的值，只让第一个数组中的不同值。这里似乎有什么问题？我在 Windows 7 上运行 WampServer 版本 2.2。PHP 版本：5.3.9。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T09:53:24.280

请注意，文档说：

```
The comparison function must return an integer less than, equal to, or
greater than zero if the first argument is considered to be respectively
less than, equal to, or greater than the second. 
```

你不这样做。为了确保你这样做，只需让你的`filt`函数返回`$l - $k`

对此有一个简单的解释：元素可能按任何顺序排列。为了避免必须将每个元素与其他元素进行比较，它首先对它们进行排序。这就是为什么你需要 + / 0 / -

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-10T09:52:54.420

您没有返回所有必要的值（例如 -1、0、1）。请参阅：[array_udiff](http://php.net/manual/function.array-udiff.php)

```
$a6 = array(7, 9, 3, 33);
$a7 = array(2, 9, 3, 33);

$u = array_udiff($a6, $a7, function ($k, $l){
  return $k > $l ? 1 : ($k < $l ? -1 : 0);
});

print_r($u); 
```

# charts - 如何在谷歌图表中使用时间？

> ID：11410624
> 
> 赞同：1
> 
> 时间：2012-07-10T09:45:36.923
> 
> 标签：charts, data-visualization, google-visualization

我正在使用谷歌图表。[这是来自Google 网站](https://developers.google.com/chart/interactive/docs/datatables_dataviews#whatformat)的示例数据：

```
var data = new google.visualization.DataTable(
   {
     cols: [{id: 'task', label: 'Employee Name', type: 'string'},
            {id: 'startDate', label: 'Start Date', type: 'date'}],
     rows: [{c:[{v: 'Mike'}, {v: new Date(2008, 1, 28), f:'February 28, 2008'}]},
            {c:[{v: 'Bob'}, {v: new Date(2007, 5, 1)}]},
            {c:[{v: 'Alice'}, {v: new Date(2006, 7, 16)}]},
            {c:[{v: 'Frank'}, {v: new Date(2007, 11, 28)}]},
            {c:[{v: 'Floyd'}, {v: new Date(2005, 3, 13)}]},
            {c:[{v: 'Fritz'}, {v: new Date(2011, 6, 1)}]}
           ]
   }
) 
```

我也想在日期变量中使用小时和分钟。我在网站上没有找到示例语法，以前有人试过吗？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:54:05.560

Mozilla 开发者网络有大量的[JavaScript 参考](https://developer.mozilla.org/en/JavaScript/Reference)，包括[Date 对象](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date)。请参阅以下构造函数语法：

```
new Date()
new Date(milliseconds)
new Date(dateString)
new Date(year, month, day [, hour, minute, second, millisecond ]) 
```

因此，对于 2011-06-01 下午 1:37，您可以执行以下操作：

```
new Date(2011, 5, 1, 13, 37) 
```

请注意，月份是从零开始的，所以上面的 5 代表第 6 个月（即 6 月）。

* * *

*注意我对谷歌图表知之甚少，所以我会接受编辑以使这个问题与 OP 的问题更相关。*

# xquery - 如何使用 XQuery 将布尔值转换为整数？

> ID：11410629
> 
> 赞同：0
> 
> 时间：2012-07-10T09:45:51.947
> 
> 标签：xquery, osb

我试过：

```
{ xs:integer($contentAssetProvider/text()) } 
```

和

```
{ data($contentAssetProvider) cast as xs:integer? } 
```

但得到

```
Error executing the XQuery transformation: Error parsing XML: {err}XP0021: "false": can not cast to {http://www.w3.org/2001/XMLSchema}integer: error: decimal: Invalid decimal value: unexpected char '102' 
```

我会很感激任何意见。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:28:44.257

解决方法：{ xs:integer(xs:boolean(data($homepageAssetProvider))) }

# java - 是否允许重新打包 Oracle 的 JDBC 驱动程序？

> ID：11410636
> 
> 赞同：0
> 
> 时间：2012-07-10T09:46:26.327
> 
> 标签：java, oracle, jdbc, licensing

我想将我的 Java 程序作为 JAR 文件分发。我的程序需要 Oracle JDBC 驱动程序，该驱动程序也以 JAR 文件的形式提供。但该`java -jar`命令只接受一个 JAR 文件。因此我必须合并这两个 JAR 文件。这可以很容易地完成，但我可以这样做吗？我是否可以将我的程序作为包含 Oracle JDBC JAR 文件内容的 JAR 文件分发？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T09:48:14.667

> 但是 java -jar 命令只接受一个 JAR 文件。

这是不正确的。您的 JAR 文件可以包含一个带有 Class-Path: 条目的清单，该条目可以命名 Oracle .jar 文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T10:00:40.110

是的，您可以将 Oracle JDBC 驱动程序打包到您的 jar 文件中，只要您不修改 jar 文件或其中的任何文件。在某些库中，还需要将许可证文件包含在您的分发中 -您需要阅读相应 jar 文件的许可证详细信息。通用 Oracle 分发许可条款可在此处找到[http://www.oracle.com/technetwork/licenses/distribution-license-152002.html](http://www.oracle.com/technetwork/licenses/distribution-license-152002.html)

关于`java -jar`您问题的一部分，请参阅以下说明：

要启动可执行的 jar 文件，我们使用命令`java -jar executable.jar`

JVM 会查看 jar 文件的清单并执行 main 类的 main 方法 - 您在 jar 文件中指定。应用程序的任何依赖项都可以通过类路径设置来满足——我们不需要在启动应用程序时指定所有依赖项 jar 文件。

类路径设置有多种方式：

*   设置系统类路径（在 Windows`set CLASSPATH=app1.jar;app2.jar;driver.jar;`和 Unix/Linux 上`export CLASSPATH=app1.jar:app2.jar:app3.jar`）。当您可以控制系统变量并且它是受控环境时，此方法很有用，此方法不适用于将应用程序分发给客户端
*   在启动应用程序时提及类路径。这可以通过使用`-classpath`java comman 的选项来完成 - 例如，`java -classpath app1.jar;app2.jar;driver.jar -jar executable.jar`此方法对于快速测试很有用，并且如果要引用的 jar 文件的数量较少
*   指定 mainfest 类路径。这是打包应用程序的最佳选择。我们可以在清单类路径中指定依赖项，像这样 `Class-Path: app1.jar app2.jar driver.jar`

注意：请在类路径条目中使用正确的分隔符，例如在 windows 上`;`是类路径条目的分隔符，在 unix`:`上是分隔符，在清单类路径中，您可以使用空格`作为分隔符。此外，在提到 app1.jar/app2.jar/driver.jar 的地方，您必须使用 jar 文件的绝对或相对路径`

# proxy - 隐藏在代理后面似乎不起作用？

> ID：11410637
> 
> 赞同：0
> 
> 时间：2012-07-10T09:46:31.220
> 
> 标签：proxy, browser, ip-address, anonymous

我经常访问各种网站，并且喜欢从代理后面匿名访问。但是，似乎某些网站仍然能够检测到我的真实 IP 地址。我知道这一点是因为他们使用 IP 地址来尝试对我进行地理定位以获取服务。

1.  如果我使用代理，他们实际上是如何获得我的真实 IP 地址的？

2.  怎样才能真正的隐藏自己？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:51:23.057

您可以在网上找到的大多数代理都是所谓的“透明代理”。这意味着他们将自己标识为代理，甚至将您的真实 IP 地址提供给该站点。
这些代理通常用于在代理服务器而不是您的 PC 上加载页面。

老实说，IP 代理根本不会保护你。

您需要的是 VPN（虚拟专用网络），即网络隧道。
VPN 允许您通过该网络内的外部 PC 在线完成所有操作。您将获得该 PC 的 IP，并且所有加载等都发生在该 PC 上。

并非所有 VPN 都未被检测到。如果您总是想匿名浏览网页，您需要找到一些 HQ VPN（几乎免费），并且您需要经常更换 VPN。

尝试在 HideMyAss、SecurityKISS 上搜索……或者甚至是 TOR 网络

# ios - 尝试在 UITableView 中呈现大型柱状网格

> ID：11410641
> 
> 赞同：1
> 
> 时间：2012-07-10T09:46:44.667
> 
> 标签：ios, uitableview, ios5

我使用 uitableView 创建了一种 GRID。为此，我采用了各种标签来显示我正在使用线条图像的网格类型线条。因此，通过考虑 Grid，我的 tableview 大约有 88 列。

我的问题是当我向下滚动时，我得到了生涩的效果。它的性能很差。我正在创建大约 108 个标签，每行有 88 个标签和 86 个图像视图。

我需要遵循什么步骤来提高滚动性能？？？

我使用 clearColor 作为标签背景。但后来我删除了那些背景颜色。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:56:37.273

您需要为表格单元格提供重用标识符。否则，每次创建一个全新的单元格并消耗越来越多的内存。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
    static NSString *const kReuseIdentifer = @"ReuseIdentifer";

    UITableViewCell* cell = [tableView dequeueReusableCellWithIdentifier:identifier];
    if (cell == nil) {
       cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:kReuseIdentifier] autorelease];
    }

    return cell;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:21:04.147

再次阅读您的问题后，我认为您正在使用非常宽的表格视图水平和垂直滚动。如果是这种情况，那么您需要切换到 UIScrollView 并将每个项目附加到此视图。UIScrollView 只会加载可见的视图并提供您想要的滚动性能。

避免这种情况很重要：

```
// Using ARC, therefore no release on the UILabel
- (void) viewDidLoad {
    self.scrollView.backgroundColor = [UIColor whiteColor];

    UIFont *font = [UIFont systemFontOfSize:24]; 
    CGSize size = [@"10000:10000" sizeWithFont:font];

    _scrollView.contentSize = CGSizeMake(10000 * size.width, 10000 * size.height);

    for (int y = 0; y < 10000; y++) {
        for (int x = 0; x < 10000; x++) {
            NSLog(@"Loading: %d, %d", x, y);
            UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(x * size.width, y * size.height, size.width, size.height)];
            label.font = font;
            label.textAlignment = UITextAlignmentRight;
            label.text = [NSString stringWithFormat:@"%d:%d", x, y];
            [_scrollView addSubview:label];
        }
    }
} 
```

虽然这最终会加载，但加载所有这些标签需要很长时间，并且会消耗大量内存。你想像 TableView 一样延迟加载这个视图。今天晚上我会写一个例子。

# android - 我们可以将三星 Galaxy ace 设备操作系统从 2.3 升级到 4.0 或任何其他更高版本吗？

> ID：11410651
> 
> 赞同：0
> 
> 时间：2012-07-10T09:47:20.503
> 
> 标签：android

我正在使用带有 2.3.3 操作系统的三星 Galaxy ace 我想将我的设备操作系统升级到更高版本，这可能吗？如果可能的话，请告诉我程序...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:52:37.767

是的你可以。免责声明：风险自负

将 Galaxy ACE S5830 更新到 CyanogenMod 9

步骤 1\. 从此处下载 ICS CM9 的 zip 文件。单击下载。文件名应为 Samsung-Galaxy-Ace-ICS-CM9-Beta-8.zip 文件，文件大小为 125mb。单击下载并将其保存在您的 PC 上。

第 2 步。现在将智能手机连接到您的计算机，然后将上述固件 zip 移动到手机的 SD 卡上。现在断开设备与 PC 的连接，然后继续并关闭手机电源。

步骤 3 通过同时按住菜单中心按钮和电源按钮进入恢复模式。如果它启动到正常模式，那么您应该重复该操作。请记住，这应该在手机关机时完成。

第 4 步当 Clockmod Recovery 显示主屏幕时，您需要选择“从 sdcard 安装 zip”选项，然后“从 sdcard 选择 zip”。选择您在步骤 2 中移动的 zip 文件，然后确认安装新固件文件。

步骤 5 更新完成后，您需要返回主恢复菜单并选择“立即重新启动系统”。请注意，您的手机将使用新的自定义 ROM 执行首次启动。此外，这可能需要一段时间才能加载所有应用程序和 Android ICS 主屏幕。

但是，如果第一次启动加载时间过长，则意味着出现问题，您需要重复上述所有步骤。

就是这样，您已经在三星 Galaxy Ace S5830 上安装了带有 Android 4.0.3 ICS 的 CyanogenMod 9。如果您对此 rom 评论有任何问题，我们会为您的问题找到解决方案。

来源： [http ://techdraginfo.blogspot.com/2012/05/install-android-404-ics-update-on.htmlcream-sandwich/](http://techdraginfo.blogspot.com/2012/05/install-android-404-ics-update-on.htmlcream-sandwich/)

# java - Restlet - 发布对象（即使使用 Jaxb）不起作用

> ID：11410653
> 
> 赞同：1
> 
> 时间：2012-07-10T09:47:33.280
> 
> 标签：java, rest, jaxb, restlet, xstream

我尝试了两种方法：将对象作为对象发布或包装到 JAXBElement 中。没有什么对我有用。

```
//Create Object
Estate DTO estateOne = new EstateDTO("Hotel", "StreetOne", 1, 111111, "England", 1);

    ///setting up xstream
    XStream xstream = new XStream();
    xstream.processAnnotations(EstateResourceIF.class);
    xstream.processAnnotations(EstateDTO.class);
    xstream.autodetectAnnotations(true);

    xstream.setClassLoader(new EstateDTO().getClass().getClassLoader());
    xstream.alias("estateDTO", EstateDTO.class);
    xstream.alias("estateId", Integer.class);
            xstream.alias("estateName", String.class);

    //post object
    service.post(estateOne).write(System.out); 
```

我什至尝试将它包装在 JAXB 中：

```
 JAXBElement<EstateDTO> estate = new JAXBElement<EstateDTO>(new QName("estate"), EstateDTO.class, estateOne); 
```

同样的问题：我得到：

```
 Problem creating Marshaller

        javax.xml.bind.JAXBException: "com.bachelor.facade.object" doesnt contain ObjectFactory.class or jaxb.index
            at com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:197)
            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
            at java.lang.reflect.Method.invoke(Method.java:597)
            at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:128)
            at javax.xml.bind.ContextFinder.find(ContextFinder.java:277)
            at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:372)
            at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:337)
            at org.restlet.ext.jaxb.JaxbRepresentation.getContext(JaxbRepresentation.java:97)
            at org.restlet.ext.jaxb.internal.Marshaller$1.initialValue(Marshaller.java:68)
            at org.restlet.ext.jaxb.internal.Marshaller$1.initialValue(Marshaller.java:64)
            at java.lang.ThreadLocal.setInitialValue(ThreadLocal.java:141)
            at java.lang.ThreadLocal.get(ThreadLocal.java:131)
            at org.restlet.ext.jaxb.internal.Marshaller.getMarshaller(Marshaller.java:163)
            at org.restlet.ext.jaxb.internal.Marshaller.marshal(Marshaller.java:216)
            at org.restlet.ext.jaxb.JaxbRepresentation.write(JaxbRepresentation.java:530)
            at org.restlet.engine.io.BioUtils$1.run(BioUtils.java:305)
            at org.restlet.service.TaskService$1$1.run(TaskService.java:132)
            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
            at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
            at java.util.concurrent.FutureTask.run(FutureTask.java:138)
            at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)
            at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)
            at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
            at java.lang.Thread.run(Thread.java:662)
        Unable to locate marshaller.
        JAXB marshalling error caught.

        javax.xml.bind.JAXBException: Unable to locate marshaller.
            at org.restlet.ext.jaxb.internal.Marshaller.getMarshaller(Marshaller.java:166)
            at org.restlet.ext.jaxb.internal.Marshaller.marshal(Marshaller.java:216)
            at org.restlet.ext.jaxb.JaxbRepresentation.write(JaxbRepresentation.java:530)
            at org.restlet.engine.io.BioUtils$1.run(BioUtils.java:305)
            at org.restlet.service.TaskService$1$1.run(TaskService.java:132)
            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
            at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
            at java.util.concurrent.FutureTask.run(FutureTask.java:138)
            at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)
            at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)
            at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
            at java.lang.Thread.run(Thread.java:662)
        Problem creating Marshaller

        javax.xml.bind.JAXBException: "failure" doesnt contain ObjectFactory.class or jaxb.index
            at com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:197)
            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
            at java.lang.reflect.Method.invoke(Method.java:597)
            at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:128)
            at javax.xml.bind.ContextFinder.find(ContextFinder.java:277)
            at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:372)
            at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:337)
            at org.restlet.ext.jaxb.JaxbRepresentation.getContext(JaxbRepresentation.java:97)
            at org.restlet.ext.jaxb.internal.Marshaller$1.initialValue(Marshaller.java:68)
            at org.restlet.ext.jaxb.internal.Marshaller$1.initialValue(Marshaller.java:64)
            at java.lang.ThreadLocal.setInitialValue(ThreadLocal.java:141)
            at java.lang.ThreadLocal.get(ThreadLocal.java:131)
            at org.restlet.ext.jaxb.internal.Marshaller.getMarshaller(Marshaller.java:163)
            at org.restlet.ext.jaxb.internal.Marshaller.marshal(Marshaller.java:216)
            at org.restlet.ext.jaxb.JaxbRepresentation.write(JaxbRepresentation.java:538)
            at org.restlet.engine.io.BioUtils$1.run(BioUtils.java:305)
            at org.restlet.service.TaskService$1$1.run(TaskService.java:132)
            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
            at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
            at java.util.concurrent.FutureTask.run(FutureTask.java:138)
            at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)
            at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)
            at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
            at java.lang.Thread.run(Thread.java:662)
        Unable to locate marshaller. 
```

即使我尝试使用：

EstateResourceIF EstateResource = service.wrap(EstateResourceIF.class);

```
 List<Preference<MediaType>> acceptedMediaTypes = new ArrayList<Preference<MediaType>>();
    acceptedMediaTypes.add(new Preference(MediaType.APPLICATION_JSON));
    service.getClientInfo().setAcceptedMediaTypes(acceptedMediaTypes);

    estateResource.postEstate(estateOne); 
```

* * *

解决方案的更多事实：

EstateDTO 类：

```
 @XmlRootElement
    //JAX-RS supports an automatic mapping from JAXB annotated class to XML and JSON
    @XmlAccessorType(XmlAccessType.FIELD)
    public class EstateDTO implements Serializable{

        /**
         * 
         */
        private static final long serialVersionUID = -8545841080597549468L;

        @XmlElement(name="estateId")
        private String estateId;
        @XmlElement(name="owner")
        private String owner;
        @XmlElement(name="estateName")
        private String estateName;
        @XmlElement(name="street")
        private String street;
        @XmlElement(name="number")
        private int number;
        @XmlElement(name="extraAddressLine")
        private String extraAddressLine;
        @XmlElement(name="zip")
        private int zip;
        @XmlElement(name="country")
        private String country;

        private int space;
        private List<String> tenants = new ArrayList<String>();

        public EstateDTO() {

        }

        public EstateDTO(String estateName, String street, int number, int zip, String country, int space) {
            this.estateName = estateName;
            this.street = street;
            this.number = number;
            this.zip = zip;
            this.country = country;
            this.space = space;
        } 
```

编辑：

服务器端帖子

```
 @POST
        @Consumes({MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON})
        public Response postEstate(EstateDTO c) {
            //EstateDTO c = estate.getValue();
            System.out.println(c);
            String generatedId = generateID();
            c.setEstateId(generatedId);
            c.setOwner(sec.getUserPrincipal().getName());
            return postAndGetResponse(c);
        } 
```

cosole上的系统说

```
 EstateDTO [estateId=null, owner=null, estateName=null, street=null, number=0, extraAddressLine=null, zip=0, country=null, space=0, tenants=[]] 
```

postAndGetResponse 方法：

```
 private Response postAndGetResponse(EstateDTO estate) {
            Response res;
            System.out.println(estate);
            if(EstateDAO.instance.getEstateDao().containsKey(estate.getEstateId())) {
                res = Response.serverError().status(409).build();
            } else {
                res = Response.created(UriBuilder.fromUri(uriInfo.getAbsolutePath() + "/" + estate.getEstateId()).build()).entity(estate).build();
                EstateDAO.instance.getEstateDao().put(estate.getEstateId(), estate);
            }
            return res;
        } 
```

依赖项：

```
 <dependency>
                <groupId>org.restlet.jee</groupId>
                <artifactId>org.restlet</artifactId>
                <version>${restlet.version}</version>
        </dependency>
        <dependency>  
           <groupId>org.restlet.jee</groupId>  
           <artifactId>org.restlet.ext.xstream</artifactId>  
           <version>${restlet.version}</version>  
        </dependency>

        <dependency>  
           <groupId>org.restlet.jee</groupId>  
           <artifactId>org.restlet.ext.jackson</artifactId>  
           <version>${restlet.version}</version>  
        </dependency>

        <dependency>  
           <groupId>org.restlet.jee</groupId>  
           <artifactId>org.restlet.ext.jaxb</artifactId>  
           <version>${restlet.version}</version>  
        </dependency>

        <dependency>  
           <groupId>org.restlet.jee</groupId>  
           <artifactId>org.restlet.ext.json</artifactId>  
           <version>${restlet.version}</version>  
        </dependency>

        <dependency>  
           <groupId>org.restlet.jee</groupId>  
           <artifactId>org.restlet.ext.xml</artifactId>  
           <version>${restlet.version}</version>  
        </dependency>

        <!-- Jersey JAXB -->
         <!--   <dependency>
               <groupId>com.sun.jersey</groupId>
               <artifactId>jersey-json</artifactId>
               <version>1.12</version>
           </dependency>--> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:29:56.883

您的 JAXB 映射似乎是正确的，并且由于您已经映射了您的类，因此`@XmlRootElement`您不需要将对象包装在`JAXBElement`. 我还仔细检查了您的 XStream 映射似乎与您的 JAXB 映射匹配（见下文）。我目前的猜测是问题出在你的 post 方法上。您能否将服务中的 post 方法添加到您的问题中？

**房地产DTO**

我`EstateDTO`通过利用 JAXB 作为异常配置来简化您的课程。这意味着您只需要在行为与默认映射不同的地方添加注释。

包论坛11410653；

```
import java.io.Serializable;
import java.util.*;
import javax.xml.bind.annotation.*;

@XmlRootElement
//JAX-RS supports an automatic mapping from JAXB annotated class to XML and JSON
@XmlAccessorType(XmlAccessType.FIELD)
public class EstateDTO implements Serializable{

    /**
     * 
     */
    private static final long serialVersionUID = -8545841080597549468L;

    private String estateId;
    private String owner;
    private String estateName;
    private String street;
    private int number;
    private String extraAddressLine;
    private int zip;
    private String country;

    private int space;
    private List<String> tenants = new ArrayList<String>();

    public EstateDTO() {
    }

    public EstateDTO(String estateName, String street, int number, int zip, String country, int space) {
        this.estateName = estateName;
        this.street = street;
        this.number = number;
        this.zip = zip;
        this.country = country;
        this.space = space;
    }

} 
```

**演示**

下面是一些独立的 JAXB 代码，以确保一切正常。

```
package forum11410653;

import java.io.*;
import javax.xml.bind.*;
import com.thoughtworks.xstream.*;

public class Demo {

    public static void main(String[] args) throws Exception {
        EstateDTO estateDTO = new EstateDTO("Hotel", "StreetOne", 1, 111111,
                "England", 1);

        // setting up xstream
        XStream xstream = new XStream();
        xstream.processAnnotations(EstateDTO.class);
        xstream.autodetectAnnotations(true);

        xstream.setClassLoader(new EstateDTO().getClass().getClassLoader());
        xstream.alias("estateDTO", EstateDTO.class);
        xstream.alias("estateId", Integer.class);
        xstream.alias("estateName", String.class);
        StringWriter writer = new StringWriter();
        xstream.toXML(estateDTO, writer);

        String xml = writer.toString();
        System.out.println(xml);

        // setting up JAXB
        JAXBContext jc = JAXBContext.newInstance(EstateDTO.class);
        Unmarshaller unmarshaller = jc.createUnmarshaller();
        EstateDTO unmarshalled = (EstateDTO) unmarshaller
                .unmarshal(new StringReader(xml));

        Marshaller marshaller = jc.createMarshaller();
        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
        marshaller.marshal(unmarshalled, System.out);
    }

} 
```

**输出**

如您所见`estateName`，`street`、 和`country`已填充。

```
<estateDTO>
  <estateName>Hotel</estateName>
  <street>StreetOne</street>
  <number>1</number>
  <zip>111111</zip>
  <country>England</country>
  <space>1</space>
  <tenants/>
</estateDTO>
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<estateDTO>
    <estateName>Hotel</estateName>
    <street>StreetOne</street>
    <number>1</number>
    <zip>111111</zip>
    <country>England</country>
    <space>1</space>
    <tenants></tenants>
</estateDTO> 
```

# android - 收到错误“id 无法解析或不是字段”

> ID：11410654
> 
> 赞同：-3
> 
> 时间：2012-07-10T09:47:33.790
> 
> 标签：android

我在我的私人文件中收到“id 无法解析或不是字段”的错误`View.OnClickListner onSave = new View.OnclickListner()`。

我收到错误“参数 onSave 的非法修饰符；只允许使用 final”。

文件和布局文件中的 ID`activity.java`也相同。

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    Button save = (Button) findViewById(R.id.save);
    save.setOnClickListener(onSave);

    private View.OnClickListener onSave  = new View.OnClickListener() {
        public void onClick(View arg0) {
            // TODO Auto-generated method stub
            EditText name = (EditText)findViewById(R.id.name);
            EditText address = (EditText)findViewById(R.id.add); 
```

**布局代码**

```
<?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
                  android:layout_width="fill_parent"
                  android:layout_height="fill_parent"
                  android:orientation="vertical"
        <TableLayout
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:stretchColumns="1">

            <TableRow
                <TextView android:text="Name    :        " />
                <EditText android:id="@+id/name"></EditText>
             ></TableRow>

            <TableRow
                <TextView android:text="Address    :    "/>
                <EditText android:id="@+id/add"</EditText>
            ></TableRow>

            <Button
                android:id="@+id/button1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Save" />
        ></TableLayout>

        <TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="@string/hello" />
    </LinearLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:48:31.270

您的按钮 id 是`button1`, not `save`, 所以这一行：

```
Button save =(Button) findViewById(R.id.save); 
```

应该

```
Button save =(Button) findViewById(R.id.button1); 
```

或者，如果您想更清楚，可以将其更改为：

```
android:id="@+id/save_button" 
```

和

```
Button save =(Button) findViewById(R.id.save_button); 
```

# mysql - 如何从mysql表中检索上周，上个月的记录

> ID：11410663
> 
> 赞同：0
> 
> 时间：2012-07-10T09:48:14.303
> 
> 标签：mysql

我有一张如图所示的桌子

![mysql表](../Images/72c2fb4367840a87fc515e1362afdb81.png)

我想检索此信息。

1）从这个日期（无论是什么）上个月所有ip的总'page_views'

2）今天的“page_views”按“page”分组（例如：id=7 有 page =index.php 有 page_views =12 但在同一天 id=13 有相同的 page = index.php 和 page_views = 1）所以他们必须显示 index.php 的 page_view = 13

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:18:54.587

使用以下查询获取特定日期前一个月的日期。

```
select date_sub(current_date, INTERVAL 1 MONTH) . 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:25:15.517

*   1)

    ```
    SELECT SUM(page_views)
    FROM tbl
    WHERE date >= NOW() - INTERVAL 1 MONTH 
    ```

*   2)

    ```
    SELECT page, SUM(page_views)
    FROM tbl
    WHERE LEFT(date, 10) = CURDATE()
    GROUP BY page 
    ```

# ubuntu - 使用 monit 运行 logstash

> ID：11410667
> 
> 赞同：1
> 
> 时间：2012-07-10T09:48:21.927
> 
> 标签：ubuntu, monit

我正在尝试使用 monit 启动 logstash。我有一个目录，其中有 /home/slee/PROJECT/logstash。

首先，我创建了一个 bash 脚本（包装器）来按照 monit 站点中的建议运行 logstash。我创建了这个：

```
#!/bin/bash
export JAVA_HOME=/usr/local/java/
#CLASSPATH=/root/lo2/logstash/logstash-1.1.0-monolithic.jar
#CONFIG=/root/lo2/logstash/stag_conf.conf
CLASSPATH=/home/slee/PROJECT/logstash/logstash-1.1.0-monolithic.jar
CONFIG=/home/slee/PROJECT/logstash/local.conf

case $1 in
start)
    echo $$ > /var/run/logstash.pid;
    #exec 2>&1 java -jar $CLASSPATH agent -f $CONFIG -- web --backend elasticsearch:///?local 1> /var/log/apache2/logstash.log
    exec java -jar $CLASSPATH agent -f $CONFIG --log /var/log/logstash-indexer.out -- web --log /var/log/logstash-web.out --backend elasticsearch://localhost/
    ;;
stop)
    kill `cat /var/run/logstash.pid` ;;
*)
echo "usage: logstash {start|stop}" ;;
esac
exit 0 
```

如果我用 ./logstash start 运行它。它就像一个魅力，但如果我将它添加到监控中：

```
check process logstash with pidfile /var/run/logstash.pid
group system
start program = "/bin/bash /home/slee/PROJECT/twyxt/logstash/logstash.sh"
stop  program = "/bin/bash /home/slee/PROJECT/twyxt/logstash/logstash.sh"
if failed host localhost port 9292
protocol http then restart
if 5 restarts within 5 cycles then timeout 
```

它根本不启动logstash。谁能告诉我为什么？或者给我一个关于如何解决这个问题的想法。

我向 logstash 组发送了一封电子邮件，他们给了我这个链接[http://cookbook.logstash.net/recipes/using-upstart/#upstart%20logstash%20config](http://cookbook.logstash.net/recipes/using-upstart/#upstart%20logstash%20config)

我试过了，但我一直收到 slee@ubuntu:~/PROJECT/logstash/upstart/backup$ sudo initctl start logstash initctl: Unknown job: logstash

我不知道logstash 配置有什么问题，因为我将目录更改为我自己的。请帮忙。

最好的问候，史蒂文森李

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T19:21:30.913

根据我的经验，让 monit 启动 java 进程的唯一方法是使用`Java Service Wrapper`. 我见过一些例子，显示 monit 直接启动 java，但它们对我不起作用。

ElasticSearch 描述了[Java 服务包装器](http://www.elasticsearch.org/guide/reference/setup/installation.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T18:10:34.877

结帐[https://logstash.jira.com/browse/LOGSTASH-458](https://logstash.jira.com/browse/LOGSTASH-458)

我在启动脚本中添加了一个 HOME 变量，现在它通过 monit 启动

# c# - 如何在复制的 RavenDB 设置中诊断故障转移的原因？

> ID：11410674
> 
> 赞同：0
> 
> 时间：2012-07-10T09:49:00.927
> 
> 标签：c#, .net-4.0, ravendb

我创建了一个数据迁移工具，它从旧版 SQL 数据库中读取数据，将其转换为更合理的数据，然后将其存储在 RavenDB 中。

当我尝试在单个 Raven 会话中写入 22500 个 1KB 对象时，我收到以下错误：

`System.InvalidOperationException: Could not replicate POST operation to secondary node, failover behavior is: AllowReadsFromSecondaries`

该消息表明 Master Raven 实例遇到致命错误，迁移工具故障转移到 Slave Slave Raven 实例并尝试对其进行写入。我不知道是为什么。

背景资料：

*   .NET 4.0
*   RavenDB #2025-Unstable（由于依赖 Json.NET，无法使用稳定版本）
*   使用 RavenDB 复制包（复制配置正确）
*   写入操作包含在 TransactionScope 中（迁移工具的其他地方使用单独的 Raven 会话进行写入）
*   Windows 事件日志中没有错误

登录 Master Raven 实例包含以下错误：

```
System.Threading.ThreadAbortException: Thread was being aborted.
   at Microsoft.Isam.Esent.Interop.Implementation.NativeMethods.JetSeek(IntPtr sesid, IntPtr tableid, UInt32 grbit)
   at Microsoft.Isam.Esent.Interop.Implementation.JetApi.JetSeek(JET_SESID sesid, JET_TABLEID tableid, SeekGrbit grbit) in C:\Work\ravendb\SharedLibs\Sources\managedesent-61618\EsentInterop\JetApi.cs:line 3172
   at Microsoft.Isam.Esent.Interop.Api.TrySeek(JET_SESID sesid, JET_TABLEID tableid, SeekGrbit grbit) in C:\Work\ravendb\SharedLibs\Sources\managedesent-61618\EsentInterop\MoveHelpers.cs:line 127
   at Raven.Storage.Esent.StorageActions.DocumentStorageActions.EnsureDocumentIsNotCreatedInAnotherTransaction(String key, Guid txId) in c:\Builds\RavenDB-Unstable-v1.2\Raven.Storage.Esent\StorageActions\Util.cs:line 77
   at Raven.Storage.Esent.StorageActions.DocumentStorageActions.AddDocument(String key, Nullable`1 etag, RavenJObject data, RavenJObject metadata) in c:\Builds\RavenDB-Unstable-v1.2\Raven.Storage.Esent\StorageActions\Documents.cs:line 296
   at Raven.Database.DocumentDatabase.<>c__DisplayClass37.<Put>b__30(IStorageActionsAccessor actions) in c:\Builds\RavenDB-Unstable-v1.2\Raven.Database\DocumentDatabase.cs:line 480
   at Raven.Storage.Esent.TransactionalStorage.Batch(Action`1 action) in c:\Builds\RavenDB-Unstable-v1.2\Raven.Storage.Esent\TransactionalStorage.cs:line 328
   at Raven.Database.DocumentDatabase.Put(String key, Nullable`1 etag, RavenJObject document, RavenJObject metadata, TransactionInformation transactionInformation) in c:\Builds\RavenDB-Unstable-v1.2\Raven.Database\DocumentDatabase.cs:line 468
   at Raven.Database.DocumentDatabase.<>c__DisplayClass67.<Commit>b__64(DocumentInTransactionData doc) in c:\Builds\RavenDB-Unstable-v1.2\Raven.Database\DocumentDatabase.cs:line 654
   at Raven.Storage.Esent.StorageActions.DocumentStorageActions.CompleteTransaction(Guid txId, Action`1 perDocumentModified) in c:\Builds\RavenDB-Unstable-v1.2\Raven.Storage.Esent\StorageActions\General.cs:line 272
   at Raven.Database.DocumentDatabase.<>c__DisplayClass67.<Commit>b__63(IStorageActionsAccessor actions) in c:\Builds\RavenDB-Unstable-v1.2\Raven.Database\DocumentDatabase.cs:line 658
   at Raven.Storage.Esent.TransactionalStorage.ExecuteBatch(Action`1 action) in c:\Builds\RavenDB-Unstable-v1.2\Raven.Storage.Esent\TransactionalStorage.cs:line 374
   at Raven.Storage.Esent.TransactionalStorage.Batch(Action`1 action) in c:\Builds\RavenDB-Unstable-v1.2\Raven.Storage.Esent\TransactionalStorage.cs:line 334
   at Raven.Database.DocumentDatabase.Commit(Guid txId) in c:\Builds\RavenDB-Unstable-v1.2\Raven.Database\DocumentDatabase.cs:line 668
   at Raven.Database.Server.Responders.TransactionCommit.Respond(IHttpContext context) in c:\Builds\RavenDB-Unstable-v1.2\Raven.Database\Server\Responders\TransactionCommit.cs:line 28
   at Raven.Database.Server.HttpServer.DispatchRequest(IHttpContext ctx) in c:\Builds\RavenDB-Unstable-v1.2\Raven.Database\Server\HttpServer.cs:line 582
   at Raven.Database.Server.HttpServer.HandleActualRequest(IHttpContext ctx) in c:\Builds\RavenDB-Unstable-v1.2\Raven.Database\Server\HttpServer.cs:line 347 
```

使用带有复制的事务时，每个会话的写入次数是否有上限？
这可能是使用不稳定构建的结果吗？

**编辑：**在 RavenDB 谷歌群组上交叉发布：[https ://groups.google.com/forum/?fromgroups#!starred/ravendb/FZZ_Q1y59qI](https://groups.google.com/forum/?fromgroups#!starred/ravendb/FZZ_Q1y59qI)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T22:43:02.117

看起来这可能是一个错误。提供了一个repro，所以希望开发团队的人会调查它。

有关更多信息，请参阅 RavenDB Google 群组线程[https://groups.google.com/forum/?fromgroups#!starred/ravendb/FZZ_Q1y59qI](https://groups.google.com/forum/?fromgroups#!starred/ravendb/FZZ_Q1y59qI)。

~~随着更多信息的可用，将更新此答案。~~

**更新：**不支持在单个 DTC 会话中写入这么多对象：[https ://groups.google.com/d/msg/ravendb/FZZ_Q1y59qI/fimWkX8NZm0J](https://groups.google.com/d/msg/ravendb/FZZ_Q1y59qI/fimWkX8NZm0J)

# android - 如何在android中的9点连接到数据库？

> ID：11410679
> 
> 赞同：0
> 
> 时间：2012-07-10T09:49:31.350
> 
> 标签：android, android-service

在android中，我试图在预定义的时间访问数据库。在我的应用程序中，它运行一个简单的 android 服务，在其中我想在特定时间检查外部数据库（MySQL）。我正在使用 java web 服务来访问数据库。

```
public class DBService extends Service {

private static final String SOAP_ACTION = "http://dbconnectivity.com/test/";
private static final String METHOD_NAME = "test";
private static final String NAMESPACE = "http://dbconnectivity.com";
private static final String URL = "http://10.0.2.2:8089/DB_Connectivity/services/SqlConnectivity?wsdl";
String str;
@Override
public IBinder onBind(Intent intent) {
    // TODO Auto-generated method stub
    return null;
}

@Override
public void onCreate() {
    super.onCreate();

    //Toast.makeText(this, "Test", Toast.LENGTH_LONG).show();
    SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);          
    request.addProperty("time",0);
    SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);

    envelope.setOutputSoapObject(request);

    HttpTransportSE ht = new HttpTransportSE(URL);
    try {
        ht.call(SOAP_ACTION, envelope);
        SoapPrimitive response = (SoapPrimitive)envelope.getResponse();

        SoapPrimitive s = response;
        str = s.toString();

    } catch (Exception e) {
        e.printStackTrace();
    }
    Toast.makeText(this, "Test "+str, Toast.LENGTH_LONG).show();
}

@Override
public void onDestroy() {
    super.onDestroy();
    Toast.makeText(this, "Service destroyed ...", Toast.LENGTH_LONG).show();
}

} 
```

这个任务怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:52:04.150

查看 AlarmManager 类或查看[本](http://justcallmebrian.com/?p=129)教程并在指定时间运行 http poll 到 mysql 服务器（您需要一些 php 脚本从 MySQL 返回结果，因为 android 不支持直接 DB 连接）

# jquery - 如何从 iframe 中选择父页面中的 div

> ID：11410680
> 
> 赞同：0
> 
> 时间：2012-07-10T09:49:34.760
> 
> 标签：jquery, asp.net, iframe

我想从 iframe 中调用的页面中选择一个位于父 aspx 页面中的 div。我试过的是

`$(parent.document.getElementById('dvwdgloader2')).hide();`

但它只适用于IE，而不适用于其他浏览器？如何解决这个问题？

此外，iframe 页面在不同的端口上运行，这可能是萤火虫显示的问题

> 访问属性“$”的权限被拒绝

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-16T11:02:30.797

我发现如果 iframe 页面在不同的域上运行，您将无法从它们访问父页面元素。这就是为什么 firefox firebug 正在显示

> 访问属性“$”的权限被拒绝

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-08-21T06:49:34.997

试试这个：

```
parent.$('#dvwdgloader2').hide(); 
```

在选择器之前添加“父”关键字。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T09:53:40.847

我认为这是正确的方法

```
$('#dvwdgloader2', window.parent.document).hide(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T09:54:14.887

试试这个.. `$('iframe', parent.document).parents().find('#dvwdgloader2')`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-10T13:06:04.147

```
The following code will help for u... 
```

Javascript代码：

```
for (var i = 0; i < window.opener.document.forms[0].length; i++) {
                        if (window.opener.document.forms[0][i].tagName.toUpperCase() == "DIV") {
                            if (window.opener.document.forms[0][i].name == "divname") {

                            }
                        }
                    } 
```

# javascript - 淡入除某些类以外的整个页面

> ID：11410682
> 
> 赞同：1
> 
> 时间：2012-07-10T09:49:53.347
> 
> 标签：javascript, jquery, css

我想淡出整个页面的不透明度，然后除了页面加载时的某个类。（计时器）

我将能够将其调整到我当前的代码中。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T10:10:45.063

如果您不想淡出的元素是 body 的直接后代，那么您可以在一行中完成：

```
$("body").find(":not(.nofade)").fadeOut().fadeIn();​ // fade out/in all but class "nofade" 
```

演示：http: [//jsfiddle.net/Be2m5/](http://jsfiddle.net/Be2m5/)

（显然，您可以根据需要替换自己的动画方法。）

~~如果您不想淡出的元素是其他元素的后代，我不确定您是如何使其工作的，因为当父元素淡出时，它们会带走他们的孩子......~~

**编辑：**我想到有一种更好的方法来解决这个问题：与其淡入淡出元素，不如在整个页面上放置一个空白（白色背景）div，然后淡入以覆盖所有其他元素，除了对于“.nofade”。给“.nofade”元素一个高于`z-index`空白 div 的值：

```
<style>
.cover {
    position : absolute;
    top : 0px; bottom : 0px; left : 0px; right : 0px;
    background-color: white;
    z-index: 1;
    opacity : 0;
}
.nofade {
    position: relative;
    z-index: 2;
}​    
</style>
<script>
$(document).ready(function() {
     $("<div/>").addClass("cover")
                .appendTo("body")
                .animate({opacity:1}, 1000).delay(300)
                .animate({opacity:0}, 1000, function() { $(this).remove(); });
});
</script> 
```

演示：http: [//jsbin.com/ucofuz/2/edit#preview](http://jsbin.com/ucofuz/2/edit#preview)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:13:45.567

你可以试试这样的

```
<html>
<head>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#content-wrapperHide').fadeOut(1000);        
            $('#content-wrapperShow').fadeIn(1000);
        });
    </script>

    <style type="text/css">
        #content-wrapperShow
        {
            display: none;  
        }
    </style>
</head>

<body>
    <script type="text/javascript">
        <!--//--><![CDATA[//><!--
            document.write( '<div id="content-wrapperHide">' );
        //--><!]]>
    </script>
     Hide on load
    <script type="text/javascript">
        <!--//--><![CDATA[//><!--
            document.write( '</div><!-- content-wrapperHide -->' );
        //--><!]]>
    </script>

    <script type="text/javascript">
        <!--//--><![CDATA[//><!--
            document.write( '<div id="content-wrapperShow">' );
        //--><!]]>
    </script>
    Show on load
    <script type="text/javascript">
        <!--//--><![CDATA[//><!--
            document.write( '</div><!-- content-wrapperShow -->' );
        //--><!]]>
    </script>
</body>
</html> 
```

两个 div 容器。首先是隐藏页面加载，其次是显示。

[演示](http://jsfiddle.net/yG7k4/)

# c# - ActiveMQ 删除特定消息

> ID：11410683
> 
> 赞同：1
> 
> 时间：2012-07-10T09:49:53.257
> 
> 标签：c#, activemq

我使用以下代码在不删除的情况下接收消息。现在我需要添加一些过滤并删除一些消息。我的问题是如何删除特定消息而其他消息应保留在队列中？

```
 Uri connecturi = new Uri("activemq:tcp://model.net:61616");
    IConnectionFactory factory = new NMSConnectionFactory(connecturi);
    List<ModelBuilderBase> result = new List<ModelBuilderBase>();
    using (IConnection connection = factory.CreateConnection())
    using (ISession session = connection.CreateSession())
    {

        IDestination destination = SessionUtil.GetDestination(session, "queue://cidModelbuilderQ");
        using (IMessageConsumer consumer = session.CreateConsumer(destination))
        {
            connection.Start();
            var q = session.GetQueue("cidModelbuilderQ");
            var b = session.CreateBrowser(q);
            var msgs = b.GetEnumerator();
            while (msgs.MoveNext())
            {
                ITextMessage message = msgs.Current as ITextMessage;
                if (message.Properties[MANDATOR] == null || message.Properties[REFCODE] == null)
                    continue;
                var mandator = message.Properties[MANDATOR].ToString();
                var refCode = message.Properties[REFCODE].ToString();
                result.Add(ModelBuilderFactory.Instance.GetInstance(refCode, mandator));
            }
        }
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T12:23:16.280

使用选择器并获取这些消息。

创建消费者时，通过 IMessageConsumer consumer = session.CreateConsumer(destination,"REFCODE > 200") 或类似内容创建它，具体取决于您需要查找的内容。然后只需调用 consumer.receive(timeout_val); 直到您拉出队列中所有选定的消息。 [关于 AMQ 选择器的信息](http://activemq.apache.org/selectors.html)

# xml - XSLT 逗号分隔元素

> ID：11410684
> 
> 赞同：2
> 
> 时间：2012-07-10T09:49:53.563
> 
> 标签：xml, xslt

**我有以下 XML 文档：**

```
<?xml version="1.0" encoding="UTF-8"?>
<cars>
    <car>
        <entrydata columnnumber="4" name="Colour">
            <text>Red</text>
        </entrydata>
    </car>
    <car>
        <entrydata columnnumber="4" name="Colour">
            <textlist>
                <text>Yellow</text>
                <text>Blue</text>
            </textlist>
        </entrydata>
    </car>
</cars> 
```

**以及以下 XSLT 样式表：**

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:msxsl="urn:schemas-microsoft-com: xslt" exclude-result-prefixes="msxsl">
  <xsl:output method="xml" indent="yes"/>
  <xsl:template match="/">
    <records>
      <xsl:apply-templates select="//cars"/>
    </records>
  </xsl:template>
  <!--Top level template -->
  <xsl:template match="cars">
    <!-- Loop through each document (viewentry) and apply create the rows for each one-->
    <xsl:for-each select="car">
      <record>
        <xsl:attribute name="Colour">
          <xsl:value-of select="entrydata[@name='Colour']"/>
        </xsl:attribute>
       </record>
    </xsl:for-each>
  </xsl:template>
</xsl:stylesheet> 
```

**这会产生以下输出：**

```
<?xml version="1.0" encoding="UTF-8"?>
<records>
    <record Colour="Red"/>
    <record Colour="YellowBlue"/>
</records> 
```

我将如何修改 XSLT 文件以使输出变为（注意逗号分隔`<textlist>`）：

```
<?xml version="1.0" encoding="UTF-8"?>
<records>
    <record Colour="Red"/>
    <record Colour="Yellow, Blue"/>
</records> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T10:19:28.143

使用 XSLT 2.0，您可以使用

```
<record Colour="{string-join(entrydata[@name='Colour']/textlist/text, ', ')}"/> 
```

使用 XSLT 1.0 我会做

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:msxsl="urn:schemas-microsoft-com: xslt" exclude-result-prefixes="msxsl">
  <xsl:output method="xml" indent="yes"/>
  <xsl:template match="/">
    <records>
      <xsl:apply-templates select="//cars"/>
    </records>
  </xsl:template>
  <!--Top level template -->
  <xsl:template match="cars/car">
    <record>
        <xsl:attribute name="Colour">
          <xsl:apply-templates select="entrydata[@name='Colour']textlist/text"/>
        </xsl:attribute>
       </record>
  </xsl:template>
  <xsl:template match="textlist/text">
    <xsl:if test="position() > 1">
      <xsl:text>, </xsl:text>
    </xsl:if>
    <xsl:value-of select="."/>
  </xsl:template>
</xsl:stylesheet> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T12:10:28.963

**一个不那么冗长的纯“推送式”XSLT 1.0 解决方案，它不使用硬编码字符串作为生成属性的名称**：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <xsl:template match="cars">
     <records>
       <xsl:apply-templates/>
     </records>
 </xsl:template>
 <xsl:template match="car">
  <record>
   <xsl:apply-templates/>
  </record>
 </xsl:template>
 <xsl:template match="entrydata">
  <xsl:attribute name="{@name}">
   <xsl:apply-templates/>
  </xsl:attribute>
 </xsl:template>
 <xsl:template match="text">
  <xsl:if test="position() >1">, </xsl:if>
  <xsl:value-of select="."/>
 </xsl:template>
</xsl:stylesheet> 
```

**当此转换应用于提供的 XML 文档时：**

```
<cars>
    <car>
        <entrydata columnnumber="4" name="Colour">
            <text>Red</text>
        </entrydata>
    </car>
    <car>
        <entrydata columnnumber="4" name="Colour">
            <textlist>
                <text>Yellow</text>
                <text>Blue</text>
            </textlist>
        </entrydata>
    </car>
</cars> 
```

**产生了想要的正确结果**：

```
<records>
   <record Colour="Red"/>
   <record Colour="Yellow, Blue"/>
</records> 
```

**说明**：

正确使用模板、模式匹配、AVTs 和`position()`函数。

* * *

**二、更简单的 XSLT 2.0 解决方案**

```
<xsl:stylesheet version="2.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <xsl:template match="cars">
     <records>
       <xsl:apply-templates/>
     </records>
 </xsl:template>
 <xsl:template match="car">
  <record>
   <xsl:apply-templates/>
  </record>
 </xsl:template>
 <xsl:template match="entrydata">
  <xsl:attribute name="{@name}">
   <xsl:value-of select=".//text" separator=", "/>
  </xsl:attribute>
 </xsl:template>
</xsl:stylesheet> 
```

**当将此转换应用于同一个 XML 文档（如上）时，会产生相同的正确结果：**

```
<records>
   <record Colour="Red"/>
   <record Colour="Yellow, Blue"/>
</records> 
```

**说明**：

正确使用模板、模式匹配、AVT`separator`和`xsl:value-of`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T10:21:39.750

这个 XSLT 1.0 样式表可以解决问题...

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
<xsl:output method="xml" indent="yes"/>

  <xsl:template match="/">
    <records>
      <xsl:apply-templates select="*/*"/>
    </records>
  </xsl:template>

  <xsl:template match="car">
   <xsl:variable name="colour-list">
     <xsl:for-each select="entrydata[@name='Colour']/text |
                           entrydata[@name='Colour']/textlist/text">
       <xsl:value-of select="concat(.,', ')" />
     </xsl:for-each>  
   </xsl:variable>  
      <record Colour="{substring($colour-list,1,string-length($colour-list)-2)}"/>
  </xsl:template>
</xsl:stylesheet> 
```

但是最简单的解决方案的赢家是这个 XSLT 2.0 样式表......

```
<xsl:stylesheet version="2.0"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
<xsl:output method="xml" indent="yes"/>

<xsl:template match="/">
 <records>
  <xsl:apply-templates select="*/*"/>
 </records>
</xsl:template>

<xsl:template match="car">
 <record Colour="{string-join(entrydata[@name='Colour']/(text | textlist/text),', ')}"/>
</xsl:template>
</xsl:stylesheet> 
```

# php - 警告：preg_match()：未知修饰符“”在

> ID：11410686
> 
> 赞同：0
> 
> 时间：2012-07-10T09:49:54.290
> 
> 标签：php, regex, preg-match

我不明白出了什么问题，这个简单的正则表达式怎么会有这个错误。我可以输入任何我想要的，它总是会给我同样的错误。并且在消息本身中它没有显示导致问题的修饰符，修饰符只是空的。

```
public function getRows($content) {
    $regex = '/[a-z]+/';
    preg_match($content, $regex, $rows);
    print_r($rows); exit;
    return $return;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T09:51:26.417

第*一个*参数是正则表达式，*第二个*是主题：

> int preg_match ( 字符串 $pattern , 字符串 $subject ...

^(来自[手册中的 preg_match()](http://php.net/manual/en/function.preg-match.php))

所以这应该可以正常工作：

```
preg_match($regex, $content, $rows); 
```

# linux - Linux嵌入式系统上的文件写入慢

> ID：11410687
> 
> 赞同：1
> 
> 时间：2012-07-10T09:49:54.540
> 
> 标签：linux, file, file-io, embedded

我对同一个数据库文件进行了多次写入。我们在数据库文件中插入和更新许多条目。我已经看到文件中的插入和更新需要一些 (X) 毫秒才能完成任务。偶尔在 1500 次插入/更新后，插入和更新的时间是 20 倍。它再次开始正常插入/更新。我能知道这是什么原因吗。我的页面大小是 512 字节。我使用分页写入数据库文件。

# ios - 将新视图添加到视图控制器 - iOS

> ID：11410688
> 
> 赞同：0
> 
> 时间：2012-07-10T09:49:59.910
> 
> 标签：ios, xcode, subview

我正在开发一个应用程序，当我按下菜单按钮时，IBAction 会创建一个覆盖（添加子视图）。此子视图必须包含必须可访问的按钮。我最初犯了一个错误，将额外的按钮添加到前一个视图中。因此，当我按下菜单按钮时，新的覆盖层会弹出，额外的按钮无法访问。有什么建议吗？我是 iOS 编程的新手。谢谢

```
- (IBAction) btnMoveTo:(id)sender
{
 UIButton* button= (UIButton*)sender;

 [self overlayCheck];

 [movingButton setHidden:false];
 [movingButton2 setHidden:false];
 [movingButton3 setHidden:false];

 [movingButton moveTo:
 CGPointMake(125,250) duration:0.8 
              option:curveValues[selectedCurveIndex]];

 [movingButton2 moveTo:
 CGPointMake(25,250) duration:0.8 
              option:curveValues[selectedCurveIndex]];

 [movingButton3 moveTo:
 CGPointMake(225,250) duration:0.8 
              option:curveValues[selectedCurveIndex]];

}

-(void)overlayCheck{

 CGRect frame = [homeButton frame];
 UIView* view = [[UIView alloc] initWithFrame:CGRectMake(frame.origin.x - FrameSizeIncreaseAmount, frame.origin.y - FrameSizeIncreaseAmount, frame.size.width + FrameSizeIncreaseAmount * 2, frame.size.height + FrameSizeIncreaseAmount * 2)];
view.backgroundColor = [UIColor blackColor];

[self.view addSubview:view];

[UIView beginAnimations:@"fade in" context:nil];
[UIView setAnimationDuration:0.2];

[view setBackgroundColor:[[UIColor grayColor] colorWithAlphaComponent:MaxAlpha]];
[UIView commitAnimations];

} 
```

应该在新视图上的movingButton、movingButton2 和movingButton3。叠加层不允许我访问按钮。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T12:01:48.120

不确定我是否理解正确，但您应该将按钮添加到您在 overlayCheck 方法中创建的覆盖视图中：

```
-(void)overlayCheck
{
    CGRect frame = [homeButton frame];
    UIView* view = [[UIView alloc] initWithFrame:CGRectMake(frame.origin.x - FrameSizeIncreaseAmount, frame.origin.y - FrameSizeIncreaseAmount, frame.size.width + FrameSizeIncreaseAmount * 2, frame.size.height + FrameSizeIncreaseAmount * 2)];
    view.backgroundColor = [UIColor blackColor];

    // ---------------------------------------------
    // Becareful how you set the frame X-Y coordinate
    // for your button if your moving buttons uses
    // initWithFame:CGRectMake(X,Y,Width,Height);
    //
    // The X,Y are relative to the parent view
    // that you add the moving buttons to
    // ---------------------------------------------
    [view addSubview:movingButton1];
    [view addSubview:movingButton2];
    [view addSubview:movingButton3];

    [self.view addSubview:view];

    [UIView beginAnimations:@"fade in" context:nil];
    [UIView setAnimationDuration:0.2];

    [view setBackgroundColor:[[UIColor grayColor] colorWithAlphaComponent:MaxAlpha]];
    [UIView commitAnimations];
} 
```

# java - 如何在 JUnit 测试之间共享状态？

> ID：11410691
> 
> 赞同：5
> 
> 时间：2012-07-10T09:50:06.490
> 
> 标签：java, junit

我有一个测试类扩展`junit.framework.TestCase`了几个测试方法。每个方法打开一个到服务器的 HTTP 连接并交换请求和响应 json 字符串。一个方法得到一个名为 UID（类似于 sessionId）的字符串的响应，我需要在后续请求中使用它到服务器。

我以前将该字符串写入一个文件，我的下一个请求读取该文件的字符串。我一次运行一个方法。现在我试图在没有文件操作的情况下使用该字符串。我维护了一个 hastable（因为有很多 UID跟踪）在我的测试类中作为实例变量，但最终发现类正在为我的每个方法调用加载，因为我的静态块每次都在执行。这导致这些 UID 丢失。

我如何在不写入文件并从中读取的情况下实现这一目标？

我怀疑我的标题是否符合我的要求。有人请相应地编辑它。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-10T09:56:32.330

您将需要一个静态变量，因为每个测试都有自己的测试类实例。

使用此模式：

```
private static String uuid;

private void login() {
    // Run this only once
    if (null != uuid) return;

    ... talk to your server ...
    uuid = responseFromServer.getUuid();
}

@Test
public void testLogin() {
    login();
    assertNotNull( uuid );
}

@Test
public void someOtherTest() {
    login();

    ... test something else which needs uuid ...
}

@Test
public void testWithoutLogin() {
    ... usual test code ...
} 
```

这种方法确保`login()`为每个需要它的测试调用它，它是独立测试的，并且您可以独立运行每个测试。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-10T09:58:06.787

JUnit 将为每个测试创建一个新的类实例。因此，您可能应该使用[@BeforeClass](http://junit.sourceforge.net/javadoc/org/junit/BeforeClass.html)带注释的静态方法将此信息设置为静态信息并将其存储到类中。

有关更多信息，请参阅[此 SO 答案](https://stackoverflow.com/a/3353183/12960)。

# objective-c - NSInvocationOperation 访问错误导致崩溃

> ID：11410693
> 
> 赞同：0
> 
> 时间：2012-07-10T09:50:15.663
> 
> 标签：objective-c, memory-management, nsinvocationoperation

我遇到了一个大问题`NSInvocationOperation`。当我在我的 iPod 4 固件 5.0.1 上运行时，一切正常。但是在我的 iPhone 4，iOS 4.1 上，它崩溃了。这是我的代码：

```
CustomAnnotation *annotation = [[[ModelManager defaultModelManager] getAnnotationDictionaryInMemory] objectForKey:joltId];

if (annotation == nil)
   annotation = [[[ModelManager defaultModelManager] getAnnotationDictionaryInMemory] annotationWithInstagramId:eID];

if (annotation == nil)
    continue;
 //THIS ONE CRASH ON IPHONE 4 OS 4.1
NSDictionary *param = [[NSDictionary alloc] initWithObjectsAndKeys: @"aKey", @"aValue", nil];

NSInvocationOperation *op = [[NSInvocationOperation alloc] initWithTarget:annotation selector:@selector(updateAnnotation:) object:param];

[_queue addOperation:op];
[op autorelease]; 
```

updateAnnotation 函数在 CustomAnnotation 类中定义：

```
- (void)updateAnnotation:(id)sender {
//NSLog(@"UPDATE ANNOTATION ID: %@", self.annoID);
NSDictionary *senderDic = (NSDictionary *)sender;
UzooltAppDelegate* appDelegate = (UzooltAppDelegate*) [UIApplication sharedApplication].delegate;

if ([senderDic objectForKey:@"nb_rejolt"] != nil) {
    NSInteger new_nb_rejolts = [[senderDic objectForKey:@"nb_rejolt"] intValue];
    //if (new_nb_rejolts != rejolts) {
        //NSLog(@"update nb rejolts: %d", new_nb_rejolts);

        if (self.rejolts != new_nb_rejolts) {
            self.rejolts = new_nb_rejolts;
            //if (self.isGrouped)
            //    [self.masterAnnotation.annotationView performSelectorOnMainThread:@selector(updateAnnotationViewWithRejolts:) withObject:[NSString stringWithFormat:@"%d", rejolts] waitUntilDone:NO];
            //else

            if ([senderDic objectForKey:@"rejolt_fbid"] != nil) {
                NSString *fbRejoltsString = [senderDic objectForKey:@"rejolt_fbid"];
                self.fbRejolts = [[fbRejoltsString componentsSeparatedByString:@","] mutableCopy];
                [self.fbRejolts removeLastObject];
                [self updateNumberOfRejoltsFromFBFrds];
            }

            [self.annotationView performSelectorOnMainThread:@selector(updateAnnotationViewWithRejolts:) withObject:[NSString stringWithFormat:@"%d", rejolts] waitUntilDone:NO];
        }

        if (self.isGrouped) {
            if (self.masterAnnotation.isShowingRadius == NO && appDelegate.uMainViewController.isInGroup == NO && ( new_nb_rejolts > self.masterAnnotation.rejolts || (new_nb_rejolts == self.masterAnnotation.rejolts && self.getAge < self.masterAnnotation.getAge))) {
                [self.masterAnnotation removeFromGroupedAnnotations:self];
                self.annotationView.hidden = NO;
                [self.annotationView performSelectorOnMainThread:@selector(showWithAlpha:) withObject:[NSNumber numberWithFloat:annotationAlpha] waitUntilDone:NO];
                [[NSNotificationCenter defaultCenter] postNotificationName:@"need_group_annotations" object:nil];
            }
        }
    //}
}

if ([senderDic objectForKey:@"lifetime"] != nil) {
    float new_lifetime = [[senderDic objectForKey:@"lifetime"] floatValue]*3600;
    //NSLog(@"new lifetime: %.f", new_lifetime);
    if (new_lifetime != lifetime) {
        //NSLog(@"update lifetime");
        self.lifetime = new_lifetime;
    }
}

[self updateViewAlpha];

if ([senderDic objectForKey:@"radius"] != nil) {
    float new_radius = [[senderDic objectForKey:@"radius"] floatValue];
    if (new_radius != radius) {
        //NSLog(@"update lifetime");
        self.radius = new_radius;
    }
}

/*
if ([appDelegate.uMainViewController isMaximumZoomIn])
    [[self annotationView] performSelectorOnMainThread:@selector(setGroupNumberIndicatorVisible:) withObject:[NSNumber numberWithBool:YES] waitUntilDone:NO];
else
    [[self annotationView] performSelectorOnMainThread:@selector(setGroupNumberIndicatorVisible:) withObject:[NSNumber numberWithBool:NO] waitUntilDone:NO];
*/

if (isSelected == YES && isShowingRadius == NO ) {
    //NSLog(@"update details");
    [self performSelectorOnMainThread:@selector(updateDetailsView) withObject:nil waitUntilDone:NO];

    UzooltAppDelegate* appDelegate = (UzooltAppDelegate*) [UIApplication sharedApplication].delegate;
    if (isGrouped == YES && appDelegate.uMainViewController.isInGroup) {
        NSLog(@"grouped jolt rejolted");
        [self performSelectorOnMainThread:@selector(updateInGroupAnnotationView) withObject:nil waitUntilDone:NO];
    }
} 
```

}

不知道哪里错了？请帮我。谢谢大家！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T20:56:54.293

尝试在启用 NSZombies 的情况下运行。它至少应该提示您在释放对象后尝试访问的对象。

[NSZombies 启用，调试信息](https://stackoverflow.com/questions/9167810/nszombies-enabled-debug-information)

# javascript - 如何使用 jQuery / Javascript 在鼠标悬停时为 div 带来阴影效果

> ID：11410700
> 
> 赞同：3
> 
> 时间：2012-07-10T09:50:37.413
> 
> 标签：javascript, jquery, mouseevent

我在一个 html 页面中有很多 div。我需要使用 jQuery/Javascript 在鼠标悬停时为这些 div 提供阴影效果。如果最初要应用投影，我可以让它工作，但我无法在运行时让它工作。

需要应用阴影的 div 有一个公共类。在小提琴中是测试。

我创造了一个小提琴

[http://jsfiddle.net/bobbyfrancisjoseph/ZEuVE/2/](http://jsfiddle.net/bobbyfrancisjoseph/ZEuVE/2/)

它应该可以在 IE8 及更高版本上运行，所以我猜 CSS3 可以使用。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-10T09:54:34.030

使用这个 css 的阴影效果（覆盖大多数浏览器）：

```
.classWithShadow{
   -moz-box-shadow: 3px 3px 4px #000; 
   -webkit-box-shadow: 3px 3px 4px #000; 
   box-shadow: 3px 3px 4px #000; 
} 
```

使用以下jQuery：

```
$(".yourDiv").hover(function()
{ 
   $(this).toggleClass('classWithShadow');
}); 
```

完整代码在这里：http: [//jsfiddle.net/ZEuVE/3/](http://jsfiddle.net/ZEuVE/3/)

编辑：对不起，我编辑了你最初的小提琴而不是制作一个新的。但它有效^^ :)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-10T09:57:19.973

IE8 不支持 CSS3 阴影

适用于您的 IE8 及其他浏览器

```
$("div").hover(function() {
        $(this).css(
            "box-shadow", "10px 10px 5px #888"
        );
    }, function() {
        $(this).css(
            "box-shadow", "0px 0px 0px #888"
        );
    }); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-10T10:03:46.727

```
$("div").mouseover(function() {
     $(this).css("box-shadow", "5px 5px 5px #555");
  }).mouseleave(function(){
    $(this).css("box-shadow", "0px 0px 0px #555");
 }); 
```

或使用 mouseenter 事件

```
$("div").mouseenter(function() {
   $(this).css("box-shadow", "5px 5px 5px #555");
  }).mouseleave(function(){
    $(this).css("box-shadow", "0px 0px 0px #555");
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-10T10:08:00.083

`:hover`当 CSS伪类自身完美运行时，使用 jQuery 添加简单的悬停效果几乎没有意义。

您遇到的唯一问题是 IE8 不支持原生 CSS drop-shdows (box-shadow)。

要克服这个问题，您有两种选择；

1) 试图诱使微软的专有`DropShadow`和`Blur`过滤器产生类似于投影的东西。正如[本指南](http://www.boogdesign.com/b2evo/index.php/attempt-better-drop-shadows-in-ie8?blog=2)所示，这是可能的，但根据我使用 MS 过滤器的经验，这是您通往充满痛苦和痛苦的人生道路的第一步。过滤器会以无法预测的方式影响同一页面上其他看似无关的样式和元素。你真正能做的就是试试看。

2）使用图像。这很糟糕，如果 div 的大小都不同，则很难获得正确的图像。但是，如果您在仅 IE8 的样式表中执行此操作并事先知道尺寸，则它可以很好地工作。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-09-09T22:59:15.433

无论源 aspx 中的代码隐藏语言如何，这是通用答案。使用 & CSS

```
 <style>
    .img {

      border:2px solid #fff;
       box-shadow: 1px 1px .5px #ccc;
      -moz-box-shadow: 1px 1px .5px #ccc;
      -webkit-box-shadow: 1px 1px .5px #ccc;
      float:left;
      width:auto;
      border:solid;
      border-width:.25px;
      padding:15px;
      margin-right:20px;
      margin-bottom:20px;
      margin-top:20px;
      border-radius:5px;
     text-align:center;

    }
    .img:hover {
  box-shadow: 10px 10px 5px #ccc;
      -moz-box-shadow: 10px 10px 5px #ccc;
      -webkit-box-shadow: 10px 10px 5px #ccc;
       -webkit-transform: scale(1.25, 1.25);
    transform: scale(1.25, 1.25);
    background: linear-gradient(to bottom, #FFFFFF, #FFFFFF);
}

  </style>
         <MyShadowdivOnMousOver class="img">
        <MyShadowdivOnMousOver > 
```

# php - 无法在我的 .phtml 文件中显示 Zend 表单

> ID：11410706
> 
> 赞同：1
> 
> 时间：2012-07-10T09:51:08.873
> 
> 标签：php, zend-framework, zend-form

我正在使用 Zend Framework 开发一个小型 php 应用程序。我使用创建了一个表单，`Zend_Form`但是当我尝试在浏览器中显示它时，它无法正常工作。

这是我的表单类：

```
class IndexForm extends Zend_Form {

public function init(){

    $this->setAction('main/main');
    $this->setMethod('post');
    $username = $this->addElement('text','uname',array('filters'=>array('StringTrim','StringToLower'),
             'validators'=>array('Alpha',
                array('StringLength',false,array(3,20)),
            ),
            'required'=>true,
            'label'=>'User Name:'));

    $password = $this->addElement('password','pwd',array('filters'=>array('StringTrim'),
            'validtors'=>array('Alnum',
            array('StringLength',false,array(6,20)),),
            'required'=>true,
            'label'=>'Password:'
            ));

    $login = $this->addElement('submit', 'login', array(
            'required' => false,
            'ignore'   => true,
            'label'    => 'Login',
    )); 
    }
}

?> 
```

这是我的 IndexController.php

```
<?php

class IndexController extends Zend_Controller_Action {

public function init() {
    /*
     * Initialize action controller here
     */
}

public function indexAction() {
    include APPLICATION_PATH.'/models/Forms/IndexForm.php';
    $form = new IndexForm();
    $this->view->form = $form;
}

} 
```

这是我`index.phtml`的，我需要在其中显示表单。

```
<html>
<style>
</style>

<body><br>
<img alt="" src="http://localhost/Accounts/application/views/scripts/images/logo.png" width=200px height=80px><!-- see whether you can get the host name dynamically -->
<div id="text" >
<h1>Welcome</h1><br><hr>
<h4>Please Log in To View The Main Page</h4></div>

<?=$this->form?> <!--here I want to display the form-->

<div><?php include APPLICATION_PATH.'/views/scripts/layouts/footer.php';?>
</div>
</body>
</html> 
```

我得到的输出而不是表单是`form?>`.

为什么是这样？我的代码有什么问题？请帮我。

提前致谢

查鲁

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:53:52.740

检查 php.ini

```
short_open_tag = 1; 
```

并查看[http://www.php.net/manual/en/ini.core.php#ini.short-open-tag](http://www.php.net/manual/en/ini.core.php#ini.short-open-tag)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:56:28.240

第一次尝试

```
 <?php echo $this->form ?> 
```

如果这有效，那么您禁用了短标签。启用它使用

```
short_open_tag = 1; 
```

# java - 带有 Java 1.4.2 的 jsch-0.1.42 中的“身份验证失败”

> ID：11410708
> 
> 赞同：12
> 
> 时间：2012-07-10T09:51:18.343
> 
> 标签：java, jsch

我有这个简单的 Java 程序，它使用[Jsch](http://www.jcraft.com/jsch/)连接到 SFTP 服务器。

在 Java 1.4.2 上连接失败并出现“Auth fail”异常，但在 Java 1.7 上连接完美。

```
try {
    JSch jsch = new JSch();

    jsch.setKnownHosts(KNOWN_HOSTS_PATH);
    jsch.addIdentity(PRIVATE_KEY_PATH, PASSPHRASE);

    Session session = jsch.getSession(USERNAME, HOSTNAME, 22);
    session.connect(2500);

    Channel channel = session.openChannel("shell");
    channel.setInputStream(System. in );
    channel.setOutputStream(System.out);
    channel.connect();
} catch (Exception e) {
    e.printStackTrace(System.err);
} 
```

我使用的钥匙是`ssh-rsa 4096`位钥匙。`.pub`密钥文件与私钥位于同一目录中。

连接记录器时，我在异常之前看到以下消息（发生在`channel.connect();`）：

```
信息：连接到 <redacted> 端口 22
信息：已建立连接
信息：远程版本字符串：SSH-2.0-OpenSSH_5.1p1 Debian-5
信息：本地版本字符串：SSH-2.0-JSCH-0.1.42
信息：校验密码：aes256-ctr、aes192-ctr、aes128-ctr、aes256-cbc、aes192-cbc、aes128-cbc、3des-ctr、arcfour、arcfour128、arcfour256
信息： arcfour 不可用。
信息：arcfour128 不可用。
信息：arcfour256 不可用。
信息：已发送 SSH_MSG_KEXINIT
信息：已收到 SSH_MSG_KEXINIT
信息：kex：服务器->客户端 aes128-ctr hmac-md5 无
信息：kex：客户端->服务器 aes128-ctr hmac-md5 无
信息：已发送 SSH_MSG_KEXDH_INIT
信息：期待 SSH_MSG_KEXDH_REPLY
信息：ssh_rsa_verify：签名为真
信息：主机 '<redacted>' 是已知的并且计算 RSA 主机密钥
信息：已发送 SSH_MSG_NEWKEYS
信息：收到 SSH_MSG_NEWKEYS
信息：已发送 SSH_MSG_SERVICE_REQUEST
信息：收到 SSH_MSG_SERVICE_ACCEPT
INFO：可以继续的身份验证：publickey、keyboard-interactive、password
INFO：下一个认证方法：publickey
信息：可以继续的身份验证：密码
INFO：下一个身份验证方法：密码
信息：从 <redacted> 端口 22 断开连接
com.jcraft.jsch.JSchException：身份验证失败
        在 com.jcraft.jsch.Session.connect(Session.java:452)
        在 TestJsch.main(TestJsch.java:19)

```

当我用 Java 1.7 运行相同的程序时，它说

```
信息：连接到 <redacted> 端口 22
信息：已建立连接
信息：远程版本字符串：SSH-2.0-OpenSSH_5.1p1 Debian-5
信息：本地版本字符串：SSH-2.0-JSCH-0.1.42
信息：校验密码：aes256-ctr、aes192-ctr、aes128-ctr、aes256-cbc、aes192-cbc、aes128-cbc、3des-ctr、arcfour、arcfour128、arcfour256
信息：已发送 SSH_MSG_KEXINIT
信息：已收到 SSH_MSG_KEXINIT
信息：kex：服务器->客户端 aes128-ctr hmac-md5 无
信息：kex：客户端->服务器 aes128-ctr hmac-md5 无
信息：已发送 SSH_MSG_KEXDH_INIT
信息：期待 SSH_MSG_KEXDH_REPLY
信息：ssh_rsa_verify：签名为真
信息：主机 '<redacted>' 是已知的并且计算 RSA 主机密钥
信息：已发送 SSH_MSG_NEWKEYS
信息：收到 SSH_MSG_NEWKEYS
信息：已发送 SSH_MSG_SERVICE_REQUEST
INFO: SSH_MSG_SERVICE_ACCEPT receivedINFO: 可以继续的身份验证：publickey,keyboard-interactive,password
INFO：下一个认证方法：publickey
信息：身份验证成功（公钥）。
Linux <redacted> 2.6.26-2-amd64 #1 SMP Mon Jun 13 16:29:33 UTC 2011 x86_64

<服务器欢迎消息如下>

```

我已经为 1.4 VM 安装了 Java Cryptography Extensions (JCE)。

这个问题的根源可能是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-31T13:17:30.833

Java 在使用强加密算法方面存在限制。检查`$JRE_HOME/lib/security/US_Export_policy.jar`和的内容`$JRE_HOME/lib/security/local_policy.jar`。如果你发现这样的事情：

```
// File: default_local.policy
// Some countries have import limits on crypto strength.
// This policy file is worldwide importable.
grant {
    permission javax.crypto.CryptoPermission "DES", 64;
    permission javax.crypto.CryptoPermission "DESede", *;
    permission javax.crypto.CryptoPermission "RC2", 128,
                   "javax.crypto.spec.RC2ParameterSpec", 128;
    permission javax.crypto.CryptoPermission "RC4", 128;
    permission javax.crypto.CryptoPermission "RC5", 128,
          "javax.crypto.spec.RC5ParameterSpec", *, 12, *;
    permission javax.crypto.CryptoPermission "RSA", 2048;
    permission javax.crypto.CryptoPermission *, 128;
}; 
```

决定是下载并安装 JCE Unlimited Strength Jurisdiction Policy。以前，它位于 Sun 的网站上，现在我不知道在哪里可以找到它。

[您可以在本文](http://www.informit.com/articles/article.aspx?p=170967&seqNum=11)中阅读更多内容

编辑：经过一番研究，我发现我的答案不正确。

Java 1.4 不支持超过 2048 字节长度的 RSA 密钥[BUG 4524097](http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4524097)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-20T07:04:42.323

我对 jsch 的问题与权限有关。所以我会做以下事情来消除它们作为问题

1.  确保您可以使用生成的密钥在命令行上通过 ssh 连接到远程。
2.  输入密码并确保您可以连接到遥控器。
3.  检查本地目录和远程[良好 ssh 摘要](http://kimmo.suominen.com/docs/ssh/)的权限。
4.  尝试将本地主机用作远程主机。

未能下载源代码并在调试会话中单步执行。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-20T21:25:02.227

您是否尝试过使用 Open SSH 密钥？jsch 使用 Open SSH 密钥格式。您可以将现有的格式转换为 Open SSH 格式。方法如下：使用 putty keygen 并加载您现有的密钥。系统可能会提示您输入密码以进行解密。之后单击上面的转换选项并选择“导出 OpenSSH 密钥”。在上面的程序中使用这个新生成的密钥。希望这可以帮助。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-01-11T16:41:27.003

**此代码工作正常...**

```
public class Exec2 {

static String SSH_SERVER_PATH = "localhost";
static String SSH_SERVER_USERNAME = "root";
static String SSH_SERVER_PASSWORD = "root";

public static void main(String[] arg) {
    try {
        JSch jsch = new JSch();
        String host = SSH_SERVER_PATH;
        String user = SSH_SERVER_USERNAME;

        Session session = jsch.getSession(user, host, 22);

        // username and password will be given via UserInfo interface.

        UserInfo ui = new MyUserInfo();
        session.setUserInfo(ui);
        session.connect();

        String command = "uname";

        Channel channel = session.openChannel("exec");
        ((ChannelExec) channel).setCommand(command);

        channel.setInputStream(null);

        ((ChannelExec) channel).setErrStream(System.err);

        InputStream in = channel.getInputStream();

        channel.connect();

        byte[] tmp = new byte[1024];
        while (true) {
            while (in.available() > 0) {
                int i = in.read(tmp, 0, 1024);
                if (i < 0)
                    break;
                System.out.print(new String(tmp, 0, i));
            }
            if (channel.isClosed()) {
                System.out.println("exit-status: " + channel.getExitStatus());
                break;
            }
            try {
                Thread.sleep(1000);
            } catch (Exception ee) {
            }
        }
        channel.disconnect();
        session.disconnect();
    } catch (Exception e) {
        System.out.println(e);
    }
}

public static class MyUserInfo implements UserInfo, UIKeyboardInteractive {

    String passwd;

    public String getPassword() {
        return passwd;
    }

    public boolean promptYesNo(String str) {
        return true;
    }

    public String getPassphrase() {
        return null;
    }

    public boolean promptPassphrase(String message) {
        return true;
    }

    public boolean promptPassword(String message) {
        passwd = SSH_SERVER_PASSWORD;
        return true;
    }

    public void showMessage(String message) {
        System.out.println("message = " + message);
    }

    public String[] promptKeyboardInteractive(String destination,
            String name, String instruction, String[] prompt, boolean[] echo) {
        if (prompt[0].equals("Password: ")){
            String[] response = new String[1];
            response[0] = SSH_SERVER_PASSWORD;
            return response;
        }
        return null;
    }
}
} 
```

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2014-02-04T16:05:28.563

> public String getPassphrase() { return null; }
> 
> ```
> public boolean promptPassphrase(String message) {
>     return true;
> }
> 
> public boolean promptPassword(String message) {
>     passwd = SSH_SERVER_PASSWORD;
>     return true;
> }
> 
> public void showMessage(String message) {
>     System.out.println("message = " + message); 
> ```

# servlets - 在 tomcat ubuntu 中未引用更新的 servlet 类

> ID：11410711
> 
> 赞同：0
> 
> 时间：2012-07-10T09:51:26.450
> 
> 标签：servlets, ubuntu, tomcat6

我是 servlet 的初学者。我正在尝试在 ubuntu 中使用 tomcat 创建和运行 servlet。我面临一个问题。我可以通过在 web.xml 中添加条目来从 html 文件中调用 servlet。但是当我稍微改变一下java程序并重新编译并调用新的servlet类时，html似乎仍然调用旧的。

任何帮助表示赞赏。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:14:26.017

检查您是否正确地重新部署了应用程序。

Tomcat 默认支持`HOT Deployment`，您应该检查修改后的 servlet 是否反映在`TOMCAT_HOME/webapps/{application-name}/WEB-INF/classes`位置中。

.

**参考：**

*   [如何在不重新启动的情况下更新 JSP](https://stackoverflow.com/questions/11317469/how-do-i-update-my-jsp-files-without-restarting-the-whole-jboss-server/11322579#11322579)
*   [热部署](https://stackoverflow.com/questions/11132817/dont-want-to-build-again-and-again/11133628#11133628)
*   [WebLogic 和 Tomcat 中的热部署支持](https://stackoverflow.com/questions/10996977/jsp-deployment-without-war-file/10997149#10997149)

# c# - C# - 通过继承改变“where”限制

> ID：11410716
> 
> 赞同：0
> 
> 时间：2012-07-10T09:51:39.047
> 
> 标签：c#, oop, inheritance, generic-constraints

假设我有一个通用数据访问层，它应该支持不同的实现。为了实现这一点，我有一个基本接口`IPeristenceService`，它定义了访问持久层内数据的所有方法。界面可能如下所示：

```
public interface IPersistence
{
    TData GetData<TData, TKey>(TKey Key);
} 
```

所以持久化服务不能创建仅由它们的接口定义的对象的实例，所以限制 - 方法的实现是一个不错的决定`GetData`：

```
public interface IPersistence
{
    TData GetData<TData, TKey>(TKey Key) where TData : class, new();
} 
```

这非常简单，因为实现此接口的开发人员在尝试返回接口指针时将无法编译他们的代码。持久层内部的数据需要用实现的对象来表示，而不是接口！

现在假设我们正在创建一个持久化服务，它将数据持久化到一个关系数据库中，由实体表示。所有实体都继承自一个基本接口：`IEntity`. 传递非实体对象一定会失败，因为持久化服务只能持久化实体。所以我们需要验证传递的对象实例是否继承自`IEntity`. 在编译时使用 where-notation 是可能的，但只需实现这样的接口：

```
public class DbPersistence : IPersistence
{
    public TData IPersistence.GetData<TData, TKey>(TKey Key)
        where TData : IEntity, class, new();
    {
        // fancy data access code
    }
} 
```

不工作，是吗？！

有什么办法可以实现我想要做什么？

先感谢您 ：-）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T10:03:05.887

类型约束`TData`继承自您正在实现的接口方法，这就是为什么无法在实现上修改它们的原因。我能想到两种典型的解决方案：

### 将`IEntity`约束向上移动到接口定义

```
public interface IPersistence
{
    TData GetData<TData, TKey>(TKey Key) where TData : class, IEntity, new();
} 
```

这在很多情况下都是合适的，因为所有持久对象之间的一定数量的共同点既合理又合乎需要。

### 显式实现原始接口并公开实现专用接口

```
public interface IPersistence
{
    TData GetData<TData, TKey>(TKey Key) where TData : class, new();
}

public interface IDbPersistence
{
    TData GetData<TData, TKey>(TKey Key) where TData : class, IEntity, new();
}

public class DbPersistence : IPersistence, IDbPersistence
{
    TData IPersistence.GetData<TData, TKey>(TKey Key)
    {
        // fancy data access code
    }

    TData GetData<TData, TKey>(TKey Key)
    {
        return ((IPersistence)this).GetData<TData, TKey>(Key);
    }
} 
```

通过这种方式，您可以将自定义持久层用作更丰富的指定`IDbPersistence`，同时保持与数据访问层中仅知道`IPersistence`.

# android - 从android启动服务时的权限问题

> ID：11410718
> 
> 赞同：14
> 
> 时间：2012-07-10T09:51:43.250
> 
> 标签：android, android-intent, android-service, android-permissions

我已经编写了一个服务作为应用程序的一部分。我尝试使用以下代码从第二个应用程序调用此服务：

```
 Intent intent = new Intent () ;
    intent.setClassName("com.test" ,"com.test.DownloadService") ;
    // Create a new Messenger for the communication back
    Messenger messenger = new Messenger(handler);
    intent.putExtra("MESSENGER", messenger);
    intent.setData(Uri.parse("http://www.vogella.com/index.html"));
    intent.putExtra("urlpath", "http://www.vogella.com/index.html");
    this.startService(intent); 
```

它给出了以下异常

```
07-10 09:27:28.819: ERROR/AndroidRuntime(4226): FATAL EXCEPTION: main
    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.inject/com.inject.MyActivity}: java.lang.SecurityException: Not allowed to start service Intent { dat=http://www.vogella.com/index.html cmp=com.test/.DownloadService (has extras) } without permission not exported from uid 10109
    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1971)
    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1996)
    at android.app.ActivityThread.access$700(ActivityThread.java:126)
    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1156)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:4458)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
    at dalvik.system.NativeStart.main(Native Method)
    Caused by: java.lang.SecurityException: Not allowed to start service Intent { dat=http://www.vogella.com/index.html cmp=com.test/.DownloadService (has extras) } without permission not exported from uid 10109
    at android.app.ContextImpl.startService(ContextImpl.java:1122)
    at android.content.ContextWrapper.startService(ContextWrapper.java:359)
    at com.inject.MyActivity.onCreate(MyActivity.java:28)
    at android.app.Activity.performCreate(Activity.java:4465)
    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1935)
    ... 11 more 
```

为什么会出现此权限问题？

当我从同一个应用程序调用服务时，以下代码完美运行：

```
 Intent intent = new Intent(this, DownloadService.class);
    // Create a new Messenger for the communication back
    Messenger messenger = new Messenger(handler);
    intent.putExtra("MESSENGER", messenger);
    intent.setData(Uri.parse("http://www.vogella.com/index.html"));
    intent.putExtra("urlpath", "http://www.vogella.com/index.html");
    startService(intent); 
```

有人可以告诉我为什么当我从不同的应用程序调用服务时会出现此权限问题，尽管我已经在 App2 的清单中提供了所有必需的权限。

**编辑**

App2 清单

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
      package="com.inject"
      android:versionCode="1"
      android:versionName="1.0">
<uses-sdk android:minSdkVersion="14"/>
<uses-permission android:name="android.permission.INTERNET"/>
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
<application android:label="@string/app_name" android:icon="@drawable/ic_launcher">
    <activity android:name="MyActivity"
              android:label="@string/app_name">
        <intent-filter>
            <action android:name="android.intent.action.MAIN"/>
            <category android:name="android.intent.category.LAUNCHER"/>
        </intent-filter>
    </activity>
</application>
</manifest> 
```

包含服务的 App1 的清单

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
      package="com.test"
      android:versionCode="1"
      android:versionName="1.0">
<uses-sdk android:minSdkVersion="14"/>
<uses-permission android:name="android.permission.INTERNET"/>
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
<application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
    <activity
            android:name=".MainActivity"
            android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

        </intent-filter>
    </activity>

    <service android:name="DownloadService" >
    </service>
</application>
</manifest> 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-07-11T13:26:50.037

该服务对其他应用程序不可用，因为您尚未明确使其可用。您的服务需要这样定义：

```
<service android:name="DownloadService"
         android:exported="true">
</service> 
```

您不需要任何额外的权限（除非您想使用它们）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T09:54:54.967

你读过[文档](http://developer.android.com/reference/android/app/Service.html#Permissions)吗？这个问题很清楚：

> 当在其清单的标签中声明服务时，可以强制执行对服务的全局访问。通过这样做，其他应用程序将需要在自己的清单中声明相应的元素才能启动、停止或绑定到服务。
> 
> 从 GINGERBREAD 开始，在使用 Context.startService(Intent) 时，您还可以在 Intent 上设置 Intent.FLAG_GRANT_READ_URI_PERMISSION 和/或 Intent.FLAG_GRANT_WRITE_URI_PERMISSION。这将授予服务对 Intent 中特定 URI 的临时访问权限。访问将一直保持，直到服务为该启动命令或以后的命令调用 stopSelf(int)，或者直到服务完全停止。这适用于授予对未请求保护服务的权限的其他应用程序的访问权限，甚至在根本没有导出服务的情况下。
> 
> 此外，服务可以通过在执行该调用的实现之前调用 checkCallingPermission(String) 方法来保护对它的各个 IPC 调用的权限。
> 
> 有关一般权限和安全性的更多信息，请参阅安全性和权限文档。

`AndroidManifest.xml`如果您在阅读文档后仍有权限问题，请告诉我们。另请参阅清单中服务的[`exported`和`permission`](http://developer.android.com/guide/topics/manifest/service-element.html)属性。

# android - 获取当前位置的纬度和经度

> ID：11410719
> 
> 赞同：0
> 
> 时间：2012-07-10T09:52:04.063
> 
> 标签：android, latitude-longitude

我有一些代码可以用来获取经度和纬度...

这是代码

```
package ncsu.course.android.broadcastchatui1;

import java.util.ArrayList;
import java.util.Locale;

import org.apache.http.NameValuePair;
import org.apache.http.message.BasicNameValuePair;

import org.apache.http.NameValuePair;
import org.apache.http.message.BasicNameValuePair;

import java.io.IOException;
import java.util.List;

import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.location.Address;
import android.location.Geocoder;

import ncsu.course.android.broadcastchatui1.R;
import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.speech.tts.TextToSpeech;
import android.speech.tts.TextToSpeech.Engine;
import android.speech.tts.TextToSpeech.OnInitListener;
import android.speech.RecognizerIntent;

import android.util.Log;
import android.view.KeyEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.inputmethod.EditorInfo;
import android.widget.ArrayAdapter;
import android.widget.ImageButton;
import android.widget.EditText;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;

/**
 * This is the main Activity that displays GUI.
 */
public class BroadcastChat extends Activity {
    // Debugging

    double LATITUDE = 37.42233;
    double LONGITUDE = -122.083;

    private static final long MINIMUM_DISTANCE_CHANGE_FOR_UPDATES = 1; // in Meters
    private static final long MINIMUM_TIME_BETWEEN_UPDATES = 1000; // in Milliseconds

    protected LocationManager locationManager;

    private static final String TAG = "BcastChatUI";
    private static final boolean D = true;

    private Context _context;
    private TextToSpeech tts = null;
    private static int REQ_CODE = 1;
    private boolean ttsIsInit = false;
    private boolean awalan = false;
    private String pesan = "haha";
    private String tanya;

    private String siapa = "saya";
    private int SPEECH_REQUEST_CODE = 1234; 

    // Layout Views
    private ListView mConversationView;
    private EditText mOutEditText;
    private ImageButton mSendButton;

    // Name of the connected device
    private ArrayAdapter<String> mConversationArrayAdapter;
    private StringBuffer mOutStringBuffer;

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        _context = this.getApplicationContext();

        if(D) Log.e(TAG, "+++ ON CREATE +++");

        /* Use the LocationManager class to obtain GPS locations */

 locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);

        locationManager.requestLocationUpdates(
                LocationManager.GPS_PROVIDER, 
                MINIMUM_TIME_BETWEEN_UPDATES, 
                MINIMUM_DISTANCE_CHANGE_FOR_UPDATES,
                new MyLocationListener()
        );

        // Set up the window layout
        setContentView(R.layout.main);

    }

    private class MyLocationListener implements LocationListener {

        public void onLocationChanged(Location location) {
            String message = String.format(
                    "New Location \n Longitude: %1$s \n Latitude: %2$s",
                    location.getLongitude(), location.getLatitude()
            );
            Toast.makeText(BroadcastChat.this, message, Toast.LENGTH_LONG).show();
        }

        public void onStatusChanged(String s, int i, Bundle b) {
            Toast.makeText(BroadcastChat.this, "Provider status changed",
                    Toast.LENGTH_LONG).show();
        }

        public void onProviderDisabled(String s) {
            Toast.makeText(BroadcastChat.this,
                    "Provider disabled by the user. GPS turned off",
                    Toast.LENGTH_LONG).show();
        }

        public void onProviderEnabled(String s) {
            Toast.makeText(BroadcastChat.this,
                    "Provider enabled by the user. GPS turned on",
                    Toast.LENGTH_LONG).show();
        }

    }
    private void cektempat(){
         Geocoder geocoder = new Geocoder(this, Locale.ENGLISH);
        try {
            Location location = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);

            List<Address> addresses = geocoder.getFromLocation(LATITUDE, LONGITUDE, 1);

            if(addresses != null) {
                Address returnedAddress = addresses.get(0);
                StringBuilder strReturnedAddress = new StringBuilder("Anda ada di ");
                for(int i=0; i<returnedAddress.getMaxAddressLineIndex(); i++) {
                    strReturnedAddress.append(returnedAddress.getAddressLine(i)).append("\n");
                }
                pesan = strReturnedAddress.toString();
                String message = pesan;
                sendMessage(message);
                startTextToSpeech2();
            }
            else{

                pesan = "Maaf saya tidak tahu anda dimana";
                String message = pesan;
                sendMessage(message);
                startTextToSpeech2();
            }
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
            pesan = "IO EXCEPCTION ERROR";
            String message = pesan;
            sendMessage(message);
            startTextToSpeech2();
        }
    }

    public void onStart() {
        super.onStart();
        if(D) Log.e(TAG, "++ ON START ++");

        awalan = false;
        setupChat();
        startTextToSpeech();
        String message = "Selamat datang di kiosban";

        sendMessage(message);
    }

    private void startTextToSpeech() {
        Intent intent = new Intent(Engine.ACTION_CHECK_TTS_DATA);
        startActivityForResult(intent, REQ_CODE);
    }

    private void startTextToSpeech2() {
        Intent intent = new Intent(Engine.ACTION_CHECK_TTS_DATA);
        startActivityForResult(intent, REQ_CODE);
    }

    private void sendRecognizeIntent()
    {
        Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);
        intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,
                RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);
        intent.putExtra(RecognizerIntent.EXTRA_PROMPT, "Apa yang bisa kami bantu?");
        intent.putExtra(RecognizerIntent.EXTRA_MAX_RESULTS, 100);
        startActivityForResult(intent, SPEECH_REQUEST_CODE);
    }

    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        if (requestCode == REQ_CODE) {
            if (resultCode == Engine.CHECK_VOICE_DATA_PASS) {
                tts = new TextToSpeech(this, new OnInitListener() {
                    public void onInit(int status) {
                        if (status == TextToSpeech.SUCCESS) {
                            ttsIsInit = true;
                            if (tts.isLanguageAvailable(Locale.ENGLISH) >= 0)
                                tts.setLanguage(Locale.ENGLISH);
                            tts.setPitch(0.8f);
                            tts.setSpeechRate(1.0f);

                            if (awalan == false){
                            awalan = true;
                            awalspeak();
                            }

                            if (awalan == true){
                                speak();
                                }
                        }
                    }
                });
            } 

            /**if no voice data is currently available,
             * start a new activity using the ACTION_INSTALL_TTS_DATA action
             * from the TTS Engine class to initiate its installation
             */
            else {
                Intent installVoice = new Intent(Engine.ACTION_INSTALL_TTS_DATA);
                startActivity(installVoice);
            }
        }
        if (requestCode == SPEECH_REQUEST_CODE)
        {
            if (resultCode == RESULT_OK)
            {
                ArrayList<String> matches = data
                    .getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);

                if (matches.size() == 0)
                {
                    tts.speak("Heard nothing", TextToSpeech.QUEUE_FLUSH, null);
                }

                tanya = matches.get(0);
                String pertanyaan = tanya;

                sendTanya(pertanyaan);

            }
            }
            else
            {
                Log.d(TAG, "result NOT ok");
            }

        super.onActivityResult(requestCode, resultCode, data);
    }

    private void speak() {
        if (tts != null && ttsIsInit) {
            String text = pesan; 
            tts.speak(text, TextToSpeech.QUEUE_ADD, null); 
        }
    }

    private void jawab() {
        ArrayList<NameValuePair> postParameters = new ArrayList<NameValuePair>();

        postParameters.add(new BasicNameValuePair("tanya", tanya));

/*            String valid = "1";*/      

        String response = null;

        try {   
        response = CustomHttpClient.executeHttpPost("http://kiosban.com/android/jamesband.php", postParameters);

        String res = response.toString();

        res = res.trim();

        res = res.replaceAll("\\s+"," ");
        pesan = res;
        String message = pesan;

        if(res.equals("lokasi")){
            cektempat();    
        }else{
        sendMessage(message);
        startTextToSpeech2();
        }

        }
        catch (Exception e) {}
    }
    private void awalspeak() {
        if (tts != null && ttsIsInit) {
            String text = "selamat datang di kiosban";
            tts.speak(text, TextToSpeech.QUEUE_ADD, null);
        }
    }
    public synchronized void onResume() {
        super.onResume();
        if(D) Log.e(TAG, "+ ON RESUME +");
    }

    private void setupChat() {
        Log.d(TAG, "setupChat()");

        // Initialize the array adapter for the conversation thread
        mConversationArrayAdapter = new ArrayAdapter<String>(this, R.layout.message);
        mConversationView = (ListView) findViewById(R.id.in);
        mConversationView.setAdapter(mConversationArrayAdapter);

        // Initialize the compose field with a listener for the return key
        mOutEditText = (EditText) findViewById(R.id.edit_text_out);
        mOutEditText.setOnEditorActionListener(mWriteListener);
        mOutEditText.setVisibility(View.GONE);

        // Initialize the send button with a listener that for click events
        mSendButton = (ImageButton) findViewById(R.id.button_send);
        mSendButton.setOnClickListener(new OnClickListener() {
            public void onClick(View v) {
                if(D) Log.e(TAG, "[sendButton clicked]");
                // Send a message using content of the edit text widget
                sendRecognizeIntent();

            }
        });

        // Initialize the buffer for outgoing messages
        mOutStringBuffer = new StringBuffer("");
    }

    public synchronized void onPause() {
        super.onPause();
        if(D) Log.e(TAG, "- ON PAUSE -");
    }

    public void onStop() {
        super.onStop();
        if(D) Log.e(TAG, "-- ON STOP --");
    }

    public void onDestroy() {
        super.onDestroy();
        if(D) Log.e(TAG, "--- ON DESTROY ---");
    }

    private void sendMessage(String message) {

        // Check that there's actually something to send
        if (message.length() > 0 ) {
            // We will send a message via wifi 

            // Reset out string buffer to zero and clear the edit text field
            mOutStringBuffer.setLength(0);
            mOutEditText.setText(mOutStringBuffer);
        }else{

            Toast.makeText(this, "Please type a message", Toast.LENGTH_SHORT).show();
            return;

        } 

        // Add message to UI

        mConversationArrayAdapter.add("James Band:  " + message);   

    }

private void sendTanya(String pertanyaan) {

        // Check that there's actually something to send
        if (pertanyaan.length() > 0 ) {
            // We will send a message via wifi 

            // Reset out string buffer to zero and clear the edit text field
            mOutStringBuffer.setLength(0);
            mOutEditText.setText(mOutStringBuffer);
        }else{

            Toast.makeText(this, "Please type a message", Toast.LENGTH_SHORT).show();
            return;

        } 

        mConversationArrayAdapter.add("Me:  " + pertanyaan);
        jawab();
    }

    // The action listener for the EditText widget, to listen for the return key
    private TextView.OnEditorActionListener mWriteListener =
        new TextView.OnEditorActionListener() {
        public boolean onEditorAction(TextView view, int actionId, KeyEvent event) {
            // If the action is a key-up event on the return key, send the message
            if (actionId == EditorInfo.IME_NULL                 // return key 
                    && event.getAction() == KeyEvent.ACTION_UP) // the key has been released
            {
                String pertanyaan = view.getText().toString();
                sendTanya(pertanyaan);

            }
            if(D) Log.i(TAG, "END onEditorAction");
            return true;
        }
    };
} 
```

当我使用该代码时它的工作，它给出街道名称，脚本给我来自 LATITUDE 值和 LONGITUDE 值的街道名称，我手动插入它，

但是如果我更改下面的代码

```
List<Address> addresses = geocoder.getFromLocation(LATITUDE, LONGITUDE, 1); 
```

在 cektempat() 上；部分到

```
List<Address> addresses = geocoder.getFromLocation(location.getLatitude(), location.getLongitude(), 1); 
```

我的代码不起作用，我被设置了权限，但代码仍然不起作用..

有人可以帮助我吗？谢谢之前

这是日志猫

```
07-12 15:33:00.099: ERROR/ClockWidget(10768): getOrientation portrait
07-12 15:33:00.099: ERROR/ClockWidget(10768): drawDayText
07-12 15:33:00.099: ERROR/ClockWidget(10768): width= 50
07-12 15:33:00.099: ERROR/ClockWidget(10768): widthText= 62.0
07-12 15:33:00.099: ERROR/ClockWidget(10768): RIGHT
07-12 15:33:08.499: ERROR/AndroidRuntime(13866): /system/csc/customer.xml ==> cannot open file
07-12 15:33:08.499: ERROR/AndroidRuntime(13866): /system/csc/customer.xml can't open file
07-12 15:33:08.499: ERROR/AndroidRuntime(13866): /system/csc/feature.xml ==> cannot open file
07-12 15:33:09.539: ERROR/power(411): *** set_screen_state 1
07-12 15:33:09.549: ERROR/SensorManager(411): registerListener :: handle = 0  name= BMA220 delay= 60000 Listener= android.view.WindowOrientationListener$SensorEventListenerImpl@407b0938
07-12 15:33:09.549: ERROR/SensorHAL(411): +__poll_activate: handle=0 enabled=1
07-12 15:33:09.549: ERROR/SensorHAL(411): > Accelerometer Write /sys/class/input/input3/enable 1
07-12 15:33:09.579: ERROR/SensorManager(411): reg :: handle = 0
07-12 15:33:09.629: ERROR/BcastChatUI(13638): + ON RESUME +
07-12 15:33:10.049: ERROR/ClockWidget(10768): getOrientation portrait
07-12 15:33:10.049: ERROR/ClockWidget(10768): drawDayText
07-12 15:33:10.059: ERROR/ClockWidget(10768): width= 50
07-12 15:33:10.059: ERROR/ClockWidget(10768): widthText= 62.0
07-12 15:33:10.059: ERROR/ClockWidget(10768): RIGHT
07-12 15:33:10.089: ERROR/GlassLockScreenMusicWidget(411): onReceive() : intent=Intent { act=android.intent.action.SCREEN_ON flg=0x40000000 }
07-12 15:33:12.679: ERROR/InputDispatcher(411): channel '40547ff8 ncsu.course.android.broadcastchatui1/ncsu.course.android.broadcastchatui1.BroadcastChat (server)' ~ Consumer closed input channel or an error occurred.  events=0x8
07-12 15:33:12.679: ERROR/InputDispatcher(411): channel '40547ff8 ncsu.course.android.broadcastchatui1/ncsu.course.android.broadcastchatui1.BroadcastChat (server)' ~ Channel is unrecoverably broken and will be disposed!
07-12 15:33:13.129: ERROR/Launcher(511): MTP-LAUNCHER: media scanning not yet finished. 
07-12 15:33:20.209: ERROR/su(13918): sudb - Opening database
07-12 15:33:20.669: ERROR/su(13918): sudb - Database opened
07-12 15:33:20.699: ERROR/su(13918): sudb - Database closed
07-12 15:33:34.839: ERROR/AndroidRuntime(13967): /system/csc/customer.xml ==> cannot open file
07-12 15:33:34.839: ERROR/AndroidRuntime(13967): /system/csc/customer.xml can't open file
07-12 15:33:34.839: ERROR/AndroidRuntime(13967): /system/csc/feature.xml ==> cannot open file
07-12 15:33:37.419: ERROR/BcastChatUI(13986): +++ ON CREATE +++
07-12 15:33:37.609: ERROR/BcastChatUI(13986): ++ ON START ++
07-12 15:33:37.629: ERROR/BcastChatUI(13986): + ON RESUME +
07-12 15:33:37.649: ERROR/BcastChatUI(13986): - ON PAUSE -
07-12 15:33:37.879: ERROR/BcastChatUI(13986): + ON RESUME +
07-12 15:33:41.229: ERROR/BcastChatUI(13986): - ON PAUSE -
07-12 15:33:42.669: ERROR/UinboxLogger(14022): [UinboxReceiver] onReceive() >> Context is android.app.ReceiverRestrictedContext@40524348
07-12 15:33:44.899: ERROR/BcastChatUI(13986): -- ON STOP --
07-12 15:33:50.679: ERROR/InputDispatcher(411): channel '408bc300 ncsu.course.android.broadcastchatui1/ncsu.course.android.broadcastchatui1.BroadcastChat (server)' ~ Consumer closed input channel or an error occurred.  events=0x8
07-12 15:33:50.679: ERROR/InputDispatcher(411): channel '408bc300 ncsu.course.android.broadcastchatui1/ncsu.course.android.broadcastchatui1.BroadcastChat (server)' ~ Channel is unrecoverably broken and will be disposed!
07-12 15:34:00.069: ERROR/ClockWidget(10768): getOrientation portrait
07-12 15:34:00.069: ERROR/ClockWidget(10768): drawDayText
07-12 15:34:00.079: ERROR/ClockWidget(10768): width= 50
07-12 15:34:00.079: ERROR/ClockWidget(10768): widthText= 62.0
07-12 15:34:00.079: ERROR/ClockWidget(10768): RIGHT
07-12 15:34:16.109: ERROR/BcastChatUI(14164): +++ ON CREATE +++
07-12 15:34:16.249: ERROR/BcastChatUI(14164): ++ ON START ++
07-12 15:34:16.299: ERROR/BcastChatUI(14164): + ON RESUME +
07-12 15:34:16.339: ERROR/BcastChatUI(14164): - ON PAUSE -
07-12 15:34:17.129: ERROR/BcastChatUI(14164): + ON RESUME +
07-12 15:34:18.209: ERROR/GPSD(199): find_ril_request: not found.
07-12 15:34:18.399: ERROR/ClockWidget(10768): getOrientation portrait
07-12 15:34:19.579: ERROR/ClockWidget(10768): drawDayText
07-12 15:34:20.079: ERROR/ClockWidget(10768): width= 50
07-12 15:34:20.099: ERROR/ClockWidget(10768): widthText= 62.0
07-12 15:34:20.099: ERROR/ClockWidget(10768): RIGHT
07-12 15:34:26.399: ERROR/AndroidRuntime(14164): FATAL EXCEPTION: main
07-12 15:34:26.399: ERROR/AndroidRuntime(14164): java.lang.NullPointerException
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at ncsu.course.android.broadcastchatui1.BroadcastChat.cektempat(BroadcastChat.java:147)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at ncsu.course.android.broadcastchatui1.BroadcastChat.access$1(BroadcastChat.java:140)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at ncsu.course.android.broadcastchatui1.BroadcastChat$1.onEditorAction(BroadcastChat.java:442)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at android.widget.TextView.onKeyUp(TextView.java:4721)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at android.view.KeyEvent.dispatch(KeyEvent.java:1290)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at android.view.View.dispatchKeyEvent(View.java:3855)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:789)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:789)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:789)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:789)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchKeyEvent(PhoneWindow.java:1746)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at com.android.internal.policy.impl.PhoneWindow.superDispatchKeyEvent(PhoneWindow.java:1130)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at android.app.Activity.dispatchKeyEvent(Activity.java:2073)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchKeyEvent(PhoneWindow.java:1722)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at android.view.ViewRoot.deliverKeyEventToViewHierarchy(ViewRoot.java:2627)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at android.view.ViewRoot.handleMessage(ViewRoot.java:2030)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at android.os.Handler.dispatchMessage(Handler.java:99)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at android.os.Looper.loop(Looper.java:130)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at android.app.ActivityThread.main(ActivityThread.java:3687)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at java.lang.reflect.Method.invokeNative(Native Method)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at java.lang.reflect.Method.invoke(Method.java:507)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)
07-12 15:34:26.399: ERROR/AndroidRuntime(14164):     at dalvik.system.NativeStart.main(Native Method)
07-12 15:34:26.409: ERROR/(411): Dumpstate > /data/log/dumpstate_app_error
07-12 15:34:55.339: ERROR/power(411): *** set_screen_state 0
07-12 15:34:55.339: ERROR/SensorManager(411): unregisterListener:: all sensors,  listener = com.android.server.PowerManagerService$13@405198e0
07-12 15:34:55.349: ERROR/SensorManager(411): unregisterListener:: all sensors,  listener = android.view.WindowOrientationListener$SensorEventListenerImpl@407b0938
07-12 15:34:55.349: ERROR/SensorHAL(411): +__poll_activate: handle=0 enabled=0
07-12 15:34:55.349: ERROR/SensorHAL(411): > Accelerometer Write /sys/class/input/input3/enable 0
07-12 15:35:00.069: ERROR/ClockWidget(10768): getOrientation portrait
07-12 15:35:00.069: ERROR/ClockWidget(10768): drawDayText
07-12 15:35:00.079: ERROR/ClockWidget(10768): width= 50
07-12 15:35:00.079: ERROR/ClockWidget(10768): widthText= 62.0
07-12 15:35:00.079: ERROR/ClockWidget(10768): RIGHT
07-12 15:35:20.939: ERROR/power(411): *** set_screen_state 1
07-12 15:35:20.949: ERROR/SensorManager(411): registerListener :: handle = 0  name= BMA220 delay= 60000 Listener= android.view.WindowOrientationListener$SensorEventListenerImpl@407b0938
07-12 15:35:20.949: ERROR/SensorHAL(411): +__poll_activate: handle=0 enabled=1
07-12 15:35:20.949: ERROR/SensorHAL(411): > Accelerometer Write /sys/class/input/input3/enable 1
07-12 15:35:20.949: ERROR/SensorManager(411): reg :: handle = 0
07-12 15:35:21.209: ERROR/ClockWidget(10768): getOrientation portrait
07-12 15:35:21.209: ERROR/ClockWidget(10768): drawDayText
07-12 15:35:21.209: ERROR/ClockWidget(10768): width= 50
07-12 15:35:21.209: ERROR/ClockWidget(10768): widthText= 62.0
07-12 15:35:21.209: ERROR/ClockWidget(10768): RIGHT
07-12 15:35:21.299: ERROR/GlassLockScreenMusicWidget(411): onReceive() : intent=Intent { act=android.intent.action.SCREEN_ON flg=0x40000000 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T08:48:11.567

看起来你的位置是`null`。请注意，该设备无法立即获取您的位置。

这里有很多关于它的信息 [http://developer.android.com/guide/topics/location/strategies.html](http://developer.android.com/guide/topics/location/strategies.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T09:06:56.573

它看起来像 location 是空的，那么在你的`try catch`块代码中你应该添加一个`NullPointerException`以防止应用程序崩溃，因为 location 是`null`.

```
try {
    List<Address> addresses = geocoder.getFromLocation(LATITUDE, LONGITUDE, 1);

    if(addresses != null) {
        Address returnedAddress = addresses.get(0);
        StringBuilder strReturnedAddress = new StringBuilder("Anda ada di ");
        for(int i=0; i<returnedAddress.getMaxAddressLineIndex(); i++) {
            strReturnedAddress.append(returnedAddress.getAddressLine(i)).append("\n");
        }
        pesan = strReturnedAddress.toString();
        String message = pesan;
        sendMessage(message);
        startTextToSpeech2();

    } else{

        pesan = "Maaf saya tidak tahu anda dimana";
        String message = pesan;
        sendMessage(message);
        startTextToSpeech2();
    }
} catch (NullPointerException e) {
    pesan = "Maaf saya tidak tahu anda dimana";
    String message = pesan;
    sendMessage(message);
    startTextToSpeech2();
} 
```

检查此链接，也许可以帮助您的情况：
[the-simplest-and-most-robust-way-to-get-the-users-current-location](https://stackoverflow.com/questions/3145089/what-is-the-simplest-and-most-robust-way-to-get-the-users-current-location-in-a/3145655#3145655)

# sql-server - 在 SQL Server 中更改用户定义的表类型

> ID：11410722
> 
> 赞同：83
> 
> 时间：2012-07-10T09:52:23.970
> 
> 标签：sql-server, user-defined-types

如何在 SQL Server 中更改用户定义的表类型？

* * *

## 回答 #1

> 赞同：74
> 
> 时间：2013-01-23T04:35:29.207

> 据我所知，不可能更改/修改表类型。您可以创建具有不同名称的类型，然后删除旧类型并将其修改为新名称

[归功于](http://www.dotnetspider.com/member/jkrajes.aspx)jkrajes

根据[msdn](http://msdn.microsoft.com/en-us/library/bb522526%28v=sql.105%29.aspx)，就像“用户定义的表类型定义在创建后无法修改”。

* * *

## 回答 #2

> 赞同：40
> 
> 时间：2015-05-22T18:04:34.190

这是一种黑客攻击，但似乎确实有效。以下是修改表类型的步骤和示例。需要注意的是，如果您对表类型所做的更改是对该对象（通常是过程）的重大更改，则 sp_refreshsql 模块将失败。

1.  用于`sp_rename`重命名表类型，我通常只是将 z 添加到名称的开头。
2.  使用原始名称和您需要对表类型进行的任何修改创建一个新表类型。
3.  逐步检查每个依赖项并`sp_refreshsqlmodule`在其上运行。
4.  删除重命名的表类型。

* * *

```
EXEC sys.sp_rename 'dbo.MyTableType', 'zMyTableType';
GO
CREATE TYPE dbo.MyTableType AS TABLE(
    Id INT NOT NULL,
    Name VARCHAR(255) NOT NULL
);
GO
DECLARE @Name NVARCHAR(776);

DECLARE REF_CURSOR CURSOR FOR
SELECT referencing_schema_name + '.' + referencing_entity_name
FROM sys.dm_sql_referencing_entities('dbo.MyTableType', 'TYPE');

OPEN REF_CURSOR;

FETCH NEXT FROM REF_CURSOR INTO @Name;
WHILE (@@FETCH_STATUS = 0)
BEGIN
    EXEC sys.sp_refreshsqlmodule @name = @Name;
    FETCH NEXT FROM REF_CURSOR INTO @Name;
END;

CLOSE REF_CURSOR;
DEALLOCATE REF_CURSOR;
GO
DROP TYPE dbo.zMyTableType;
GO 
```

**警告：**

这可能会破坏您的数据库，因此您需要先在开发环境中进行测试。

* * *

## 回答 #3

> 赞同：15
> 
> 时间：2016-10-19T22:20:07.583

这里有一些简单的步骤，可以最大限度地减少乏味，并且不需要容易出错的半自动化脚本或昂贵的工具。

请记住，您可以从“对象资源管理器详细信息”窗口为多个对象生成 DROP/CREATE 语句（以这种方式生成时，DROP 和 CREATE 脚本被分组，这使得在 Drop 和 Create 操作之间插入逻辑变得容易）：

[![拖放并创建到](../Images/03323cd6d121bd1b5f717ec094574354.png)](https://i.stack.imgur.com/7KIN1.png)

1.  备份您的数据库以防万一！
2.  为所有依赖项自动生成 DROP/CREATE 语句（或为所有“可编程性”对象生成以消除查找依赖项的乏味）。
3.  在 DROP 和 CREATE [dependencies] 语句之间（在所有 DROP 之后，在所有 CREATE 之前），插入生成的 DROP/CREATE [table type] 语句，使用 CREATE TYPE 进行所需的更改。
4.  运行脚本，该脚本会删除所有依赖项/UDTT，然后重新创建 [UDTTs with alters]/dependencies。

* * *

如果您有较小的项目可能需要更改基础架构架构，请考虑消除用户定义的表类型。Entity Framework 和类似工具允许您将大部分（如果不是全部）数据逻辑移动到更易于维护的代码库中。

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2017-11-03T16:45:37.270

Simon Zeinstra 找到了解决方案！

但是，我使用了 Visual Studio 社区 2015，我什至不必使用架构比较。

使用 SQL Server 对象资源管理器，我在数据库中找到了我的用户定义表类型。我用鼠标右键单击表格类型并选择了 . 这在 IDE 中打开了一个代码选项卡，其中 TSQL 代码可见且**可编辑**。我只是更改了定义（在我的例子中只是增加了 nvarchar 字段的大小）并单击了选项卡左上角的 *更新数据库按钮。*

嘿普雷斯托！- 快速检查 SSMS 和 udtt 定义已被修改。

太棒了-谢谢西蒙。

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2017-04-25T10:22:01.297

如果可以在 Visual Studio 中使用数据库项目，则可以在项目中进行更改并使用架构比较将更改同步到数据库。

这样，删除和重新创建依赖对象由更改脚本处理。

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2015-09-07T10:38:28.397

您应该删除旧表类型并创建一个新表类型。但是，如果它有任何依赖项（任何使用它的存储过程），您将无法删除它。我已经发布了另一个关于如何自动化临时删除所有存储过程、修改表表然后恢复存储过程的过程的[答案。](https://stackoverflow.com/questions/1734541/how-to-alter-the-table-value-parameter/32422478#32422478)

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2014-08-14T13:13:40.463

你不能改变/修改你的类型。您必须删除现有的并使用正确的名称/数据类型重新创建它或添加一个新列/s

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2021-01-21T01:17:06.067

只需在我的一个项目中更改用户定义的表类型即可。以下是我采用的步骤：

1.  使用用户定义的表类型查找所有 SP。
2.  为找到的所有 SP 保存一个创建脚本。
3.  删除 SP。
4.  为您希望更改的用户定义表保存创建脚本。4.5 向用户定义的表类型添加您需要的附加列或更改。
5.  删除用户定义的表类型。
6.  为用户定义的表类型运行创建脚本。
7.  运行 SP 的创建脚本。
8.  然后开始相应地修改 SP。

# jquery-ui - 使用ajax从数据库中动态填充复选框

> ID：11410725
> 
> 赞同：0
> 
> 时间：2012-07-10T09:52:33.593
> 
> 标签：jquery-ui, jquery, checkbox

我是 JQuery 的新手。（我想使用 AJAX、JQuery、PHP 来实现）

我正在尝试从数据库中动态填充复选框列表。

我所拥有的是一个下拉菜单。根据我想查询数据库的选定选项，并根据我想动态显示复选框的记录集。

有什么建议么

```
<script>
     $(function(){
        $("#softwareapp").change(function(){
           if($(this).val() > 0){
           var app_id = $('#softwareapp').val();    
           $.ajax({         
                type: "POST",
                url: "<?php echo base_url(); ?>ajaxcalls/get_softwareappversions/"+app_id,
                data:{savid = $(this).val()},
                success: function(data){
                      var _table = $("<table></table>");
                      for(var i = 0; i< data.length; i++){
                          $("<tr></tr>").append($("<td></td>").html("<label><input type='checkbox' value='data[i]' name='softappver[]'/>" + data[i] + "</label>")).appendTo(_table);
                      }
                      $("#displayappversions").html("").append(_table);
                }
           });
           }
        });
     }) 
```

由于某种原因，这已停止工作。我正试图摆脱桌子上的东西。

以下是我的 HTML：

```
<select name="softwareapp" id="softwareapp">
    <option value="0" selected="selected">Please select</option>
    <option value="1">SAP</option>
    <option value="2">SAGE</option>
    <option value="3">SWIFT</option>
</select>

<div class="form-row"> 
    <p class="form-label">Application Version</p>
    <div class="form-item" id="displayappversions">
        <!--- VERSIONS ARE SUPPOSE TO COME HERE--->
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T10:00:43.037

```
<script type="text/javascript">
$(document).ready(function(){
  $("#vendor").change(function(){
    if($(this).val() > 0){
        $("#displayappversions").load("<?php echo base_url(); ?>ajaxcalls/get_softwareappversions/" + $(this).val());
    }
  });
}); 
```

我的 ajax 调用正在返回生成 chcek 框列表的 HTML。

# android - Android ApiDemos 示例应用程序错误

> ID：11410726
> 
> 赞同：0
> 
> 时间：2012-07-10T09:52:34.610
> 
> 标签：android, eclipse, adt

我在我的 Eclipse IDE 中创建了 Android ApiDemos 示例应用程序，但它抱怨许多错误（69 个错误和 100 个警告）。

我已经正确地包含了推荐的依赖 jar `android-support-v4.jar`。

我尝试了各种构建目标，从 Eclair 到 Jelly Bean。

我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T17:31:10.577

尝试清理您的项目：项目 > 清理

# java - 线程中的自定义函数

> ID：11410728
> 
> 赞同：0
> 
> 时间：2012-07-10T09:52:42.190
> 
> 标签：java, android

我有一个简单的问题：

我有一个名为 rlMF 的线程。我是这样创建的：

```
public Thread rlMF = new Thread(new Runnable() {
    public void run() {
        reloadMissingFiles();
        stopTh();
    }

    public void stopTh() {
        activityStopped = true;
    }
}); 
```

现在我想从外线程调用 stopTh 函数。为什么我不能简单地调用 rlMF.stopTh(); 我还能做什么？

例子：

```
protected void onPause() {
    Log.d("Info", "destroying...");
    activityStopped = true;
    rlMF.stopTh();
    super.onPause();
} 
```

不管用...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T09:54:35.300

因为可访问的接口来自`Thread`. 为了让您的方法可以从外部访问，您需要指定一个公开此方法的类型。

如果您仔细看一下，该方法是在`Runnable`. 甚至在`Thread`.

如果您真的需要访问该`Runnable`对象，您可能会有这样的事情：

```
class MyRunnable implements Runnable {
    public void run() {
    ...
    }

    public void fooBar() {
    ...
    }       
}

public void someMethod() {
    MyRunnable myRunnable = new MyRunnable();
    Thread thread = new Thread(myRunnable);
    ...
    myRunnable.fooBar();
    ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:06:18.053

弗朗西斯科方法的一个例子，除了你想要达到的目标。也许这可以为您指明正确的方向

```
public class CustomRun implements Runnable {
    public void run() {
        reloadMissingFiles();
        stopTh();
    }

    public void stopTh() {
        activityStopped = true;
    }
} 
```

在您的代码中

```
// start thread with custom runner
CustomRun runner = new CustomRun();
new Thread(runner).start();

// call your stopTh method on CustomRun class
protected void onPause() {
    Log.d("Info", "destroying...");
    activityStopped = true;
    runner.stopTh();
    super.onPause();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T10:58:18.487

您的目标是从`onPause`. 有几种方法可以做到这一点，但本质上，您需要在`reloadMissingFiles`.

**选项1**

您可以像以前一样使用布尔标志 - 您需要将其声明为`volatile`确保更改在线程之间可见：

```
private volatile boolean activityStopped = false;

public void reloadMissingFiles() {
    while (!activityStopped) {
       //load small chunks so that the activityStopped flag is checked regularly
    }
}

public Thread rlMF = new Thread(new Runnable() {
    public void run() {
        reloadMissingFiles(); //will exit soon after activityStopped has been set to false
    }
});

protected void onPause() {
    //This will stop the thread fairly soon if the while loop in
    //reloadMissingFiles is fast enough
    activityStopped = true;
    super.onPause();
} 
```

**选项 2（更好的方法）**

我不知道你在做什么`reloadMissingFiles`，但我想这是某种 I/O 操作，通常是可中断的。然后，您可以制定一个中断策略，在捕获到 InterruptedException 后立即停止：

```
public void reloadMissingFiles() {
    try {
        //use I/O methods that can be interrupted
    } catch (InterruptedException e) {
        //cleanup specific stuff (for example undo the operation you started
        //if you don't have time to complete it
        //then let the finally block clean the mess
    } finally {
        //cleanup (close the files, database connection or whatever needs to be cleaned
    }
}

public Thread rlMF = new Thread(new Runnable() {
    public void run() {
        reloadMissingFiles(); //will exit when interrupted
    }
});

protected void onPause() {
    runner.interrupt(); //sends an interruption signal to the I/O operations
    super.onPause();
} 
```

注意：您也可以阅读[这篇文章](http://forward.com.au/javaProgramming/HowToStopAThread.html)以获得更深入的版本。

# asp.net - Visual Studio 2010 中的 Ajax 3.5

> ID：11410731
> 
> 赞同：0
> 
> 时间：2012-07-10T09:52:45.473
> 
> 标签：asp.net, ajax, asp.net-ajax

我已将我的 Web 应用程序从 Visual Studio 2003（框架 1.1）转换为 Visual Studio 2010（框架 4.0）。转换后，我安装了 Ajax 3.5 并测试了我的 Web 应用程序。Web 应用程序运行良好，但 Ajax 不起作用。应用程序中也没有出现错误。

我能做些什么来让 Ajax 工作？？？

请建议...提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:09:47.430

这是解决方案：

1.  只需从页面中删除脚本管理器，然后从 Visual Studio 工具箱中重新添加它。
2.  关闭浏览器并运行它。

它应该可以正常工作。

# workflow-foundation-4 - SqlTrackingService 4.0 不跟踪在 3.5 框架中创建的工作流实例

> ID：11410733
> 
> 赞同：2
> 
> 时间：2012-07-10T09:52:51.033
> 
> 标签：workflow-foundation-4

我们在 3.5 框架下开发了一些工作流。我们在其中使用跟踪效果很好。我们正在尝试将我们的代码构建更改为 4.0 框架，并且我们没有遇到任何问题。工作流按原样转换。

在迁移到 4.0 后创建新的工作流程并对其进行跟踪时，它可以正常工作。但是，当尝试继续使用 3.5 构建的应用程序之前创建的工作流实例时，工作流会按预期运行，但 SqlTrackingService 不会写入跟踪数据。

我尝试调试程序集，但我注意到运行时没有看到关联的跟踪服务或找不到跟踪配置文件。

我注意到在 4.0.0.0 版本的 SqlTrackingService 的 [Type] 表中添加了一个新类型。

有没有人遇到过需要迁移到 4.0 框架但仍继续旧工作流程的情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T11:02:29.323

您可以 Workflow 跟踪迁移文件。 [http://www.microsoft.com/en-us/download/details.aspx?id=8349](http://www.microsoft.com/en-us/download/details.aspx?id=8349)

和迁移过程。 [http://msdn.microsoft.com/en-us/library/ff637729(v=azure.10).aspx](http://msdn.microsoft.com/en-us/library/ff637729(v=azure.10).aspx)

# ios - 是否可以构建一个形状不规则的按钮来覆盖地图？

> ID：11410738
> 
> 赞同：0
> 
> 时间：2012-07-10T09:53:02.087
> 
> 标签：ios, map

思路如下：视图包含地图（可以是可缩放的图像），地图被划分为区域，每个区域都是可触摸的，并带您进入更详细的视图（不是地图）。

我不是在寻求解决方案，而是在寻求总体方向，当然，如果这样的事情完全可能的话。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T09:57:31.783

您必须创建透明图像并更改 hittest 方法以不考虑透明区域。有关详细信息，请参阅此[链接](http://iphonedevelopment.blogspot.in/2010/03/irregularly-shaped-uibuttons.html)。

你也可以在 github 上看到[这个项目。](https://github.com/ole/OBShapedButton)

# version-control - AppCode 和 Mercurial 集成问题

> ID：11410741
> 
> 赞同：1
> 
> 时间：2012-07-10T09:53:12.967
> 
> 标签：version-control, mercurial, ide, appcode

在尝试访问[AppCode](http://www.jetbrains.com/objc/)中的 Mercurial 命令时，我收到以下错误消息：

> 中止：找不到存储库/src/project/subfolder1！

这确实是正确的，存储库是/src/project，而不是/src/project/subfolder1。

但是，项目文件位于 /src/project/subfolder1/。
我`Run hg as bash -c`在 AppCode 中尝试过使用“”而没有使用，但没有运气。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T10:59:28.853

在我的系统中，这是`/usr/local/bin/hg`

# c# - BlockingCollection 存在字节数组问题

> ID：11410743
> 
> 赞同：0
> 
> 时间：2012-07-10T09:53:18.467
> 
> 标签：c#, multithreading, blockingcollection

我遇到一个问题，其中一个带有字节 [20] 的对象被传递到一个线程上的 BlockingCollection 中，而另一个线程使用 BlockingCollection.Take() 返回带有字节 [0] 的对象。我认为这是一个线程问题，但考虑到 BlockingCollection 是一个并发集合，我不知道发生在哪里或为什么会发生这种情况。

有时在 thread2 上，myclass2.mybytes 等于 byte[0]。非常感谢有关如何解决此问题的任何信息。

[编辑] 原始代码。我删除了上面似乎运行良好的代码，所以我花时间浏览了我的原始代码并发布了它。

消息缓冲区.cs

```
public class MessageBuffer : BlockingCollection<Message>
{
} 
```

在具有 Listener() 和 ReceivedMessageHandler(object messageProcessor) 的类中

```
private MessageBuffer RecievedMessageBuffer; 
```

在线程 1

```
 private void Listener()
    {
        while (this.IsListening)
        {
            try
            {
                Message message = Message.ReadMessage(this.Stream, this);
                if (message != null)
                {
                    this.RecievedMessageBuffer.Add(message);
                }
            }
            catch (IOException ex)
            {
                if (!this.Client.Connected)
                {
                    this.OnDisconnected();
                }
                else
                {
                    Logger.LogException(ex.ToString());
                    this.OnDisconnected();
                }
            }
            catch (Exception ex)
            {
                Logger.LogException(ex.ToString());
                this.OnDisconnected();
            }
        }
    } 
```

Message.ReadMessage（NetworkStream 流，iTcpConnectClient 客户端）

```
 public static Message ReadMessage(NetworkStream stream, iTcpConnectClient client)
    {
        int ClassType = -1;
        Message message = null;

        try
        {
            ClassType = stream.ReadByte();
            if (ClassType == -1)
            {
                return null;
            }

            if (!Message.IDTOCLASS.ContainsKey((byte)ClassType))
            {
                throw new IOException("Class type not found");
            }

            message = Message.GetNewMessage((byte)ClassType);
            message.Client = client;
            message.ReadData(stream);

            if (message.Buffer.Length < message.MessageSize + Message.HeaderSize)
            {
                return null;
            }

        }
        catch (IOException ex)
        {
            Logger.LogException(ex.ToString());
            throw ex;
        }
        catch (Exception ex)
        {
            Logger.LogException(ex.ToString());
            //throw ex;
        }

        return message;
    } 
```

在线程 2

```
 private void ReceivedMessageHandler(object messageProcessor)
    {
        if (messageProcessor != null)
        {
            while (this.IsListening)
            {
                Message message = this.RecievedMessageBuffer.Take();
                message.Reconstruct();
                message.HandleMessage(messageProcessor);
            }
        }
        else
        {
            while (this.IsListening)
            {
                Message message = this.RecievedMessageBuffer.Take();
                message.Reconstruct();
                message.HandleMessage();
            }
        }
    } 
```

PlayerStateMessage.cs

```
public class PlayerStateMessage : Message
{
    public GameObject PlayerState;

    public override int MessageSize
    {
        get { return 12; }
    }

    public PlayerStateMessage()
        : base()
    {
        this.PlayerState = new GameObject();
    }

    public PlayerStateMessage(GameObject playerState)
    {
        this.PlayerState = playerState;
    }

    public override void Reconstruct()
    {
        this.PlayerState.Poisiton = this.GetVector2FromBuffer(0);
        this.PlayerState.Rotation = this.GetFloatFromBuffer(8);
        base.Reconstruct();
    }

    public override void Deconstruct()
    {
        this.CreateBuffer();
        this.AddToBuffer(this.PlayerState.Poisiton, 0);
        this.AddToBuffer(this.PlayerState.Rotation, 8);
        base.Deconstruct();
    }

    public override void HandleMessage(object messageProcessor)
    {
        ((MessageProcessor)messageProcessor).ProcessPlayerStateMessage(this);
    }
} 
```

Message.GetVector2FromBuffer(int bufferlocation) 这是抛出异常的地方，因为 this.Buffer 应该是 byte[0] 而应该是 byte[20]。

```
 public Vector2 GetVector2FromBuffer(int bufferlocation)
    {
        return new Vector2(
            BitConverter.ToSingle(this.Buffer, Message.HeaderSize + bufferlocation),
            BitConverter.ToSingle(this.Buffer, Message.HeaderSize + bufferlocation + 4));
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T23:17:06.587

所以这是一个很难解决的问题。据我所知，我只是收到随机字节，所以我改变了我的“消息”相当多。现在有一个头缓冲区和一个数据缓冲区。整个消息由一个开始标记和一个结束标记封装，而标题和数据缓冲区分别由不同的标记封装。这使我能够判断何时收到错误数据并可以丢弃该消息。如果消息确实被丢弃，在下一条消息读取时，它不会只检查接收到的前 4 个字节是否是开始标记，而是会逐字节读取，直到读取的最后 4 个字节等于标记。

# java - Spring mvc：在 HandlerInterceptor 的 postHandle 中更改响应对象

> ID：11410744
> 
> 赞同：0
> 
> 时间：2012-07-10T09:53:19.693
> 
> 标签：java, cookies, spring-mvc, interceptor

我正在尝试将最新时间保存在 cookie 中。因此，在每次控制器调用之后，我都使用 HandlerInterceptor 的 postHandle 来拦截调用。我正在更新 cookie 中的值。但价值观没有更新。任何人都知道为什么它不起作用。

编码：

```
@Override
public void postHandle(HttpServletRequest request,
            HttpServletResponse response, Object handler, ModelAndView ex)
            throws Exception {

        boolean isSet = true;
        if (request.getSession().getAttribute("userId") != null){
                for (Cookie cookies: request.getCookies()) {
                    if ("RequestTime".equals(cookies.getName())) {
                        isSet = false;
                         cookies.setValue(Long.toString(System.currentTimeMillis()));
                         response.addCookie(cookies);
                }
            }
            if(isSet){
                Cookie cookie = new Cookie("RequestTime", Long.toString(System.currentTimeMillis()));
                response.addCookie(cookie);
            }
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:05:25.637

当你创建cookie时，你应该设置cookie的路径，当你想在你的项目中共享这个cookie时，你应该将cookie路径设置为“/”，如

```
 if (request.getSession().getAttribute("userId") != null){
       Cookie cookie = new Cookie("RequestTime",Long.toString(System.currentTimeMillis()));
       cookie.setPath("/")
       response.addCookie(cookie); } 
```

默认 cookie 路径是当前请求 URL。

注意：如果您想共享来自不同子域的 cookie，您还应该设置 cookie 域。

`cookie.setDomain(".test.com")`

# android - 如何通过意图强制相机在Android中自动拍照

> ID：11410750
> 
> 赞同：2
> 
> 时间：2012-07-10T09:53:36.010
> 
> 标签：android, android-camera, android-camera-intent

我正在创建一个应用程序。并使用设备默认相机拍照。使用这个

```
Intent intent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
intent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);
startActivityForResult(intent, CAMERA_PICTURE); 
```

在`onActivityResult()`方法中，我再次调用上面的代码并[再次拍照](https://stackoverflow.com/questions/9347594/how-to-take-multiple-pictures-using-android-android-provider-mediastore-action-i)。

但我想一次拍多张照片。当相机被意图调用（而不是通过创建自定义相机活动）时，有什么方法可以自动拍照。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T09:58:17.727

通过发送意图，您只需对现有的相机应用程序说它启动并允许用户拍照 - 您完全受此应用程序的支配。其中一些可能包含一些未记录的参数，允许您自动拍摄图片。

[http://developer.android.com/guide/topics/media/camera.html#intent-image](http://developer.android.com/guide/topics/media/camera.html#intent-image)

如果您想拥有控制权，您应该自己编写相机应用程序。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T09:58:09.480

我想您必须编写自己的自定义相机，因为[MediaStore](http://developer.android.com/reference/android/provider/MediaStore.html)类中没有额外的允许拍摄另一张照片。

# php - 在 PHP 中为每个用户创建一个表？

> ID：11410751
> 
> 赞同：-4
> 
> 时间：2012-07-10T09:53:39.670
> 
> 标签：php, html, mysql, database-design

我对这一切都很陌生……为了我大学的一个项目工作，我决定制作一个在线购物网站。

我被困在注册部分。我希望用户自己有一个单独的表格，允许他们存储他们添加到购物车中的产品，以便他们以后也可以继续添加更多产品。

但正如我在所有链接中的其他问题中读到的那样，为每个用户创建一个表似乎是一个非常糟糕的主意。

但否则我该怎么做？请帮忙。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-10T10:04:12.393

让我详细解释一下。

我猜你已经为用户和产品创建了表。如果没有，那么您需要为用户和产品分别创建唯一值 user_id 和 product_id 的表。

现在使用以下字段创建 user_shopping 购物车表

*   用户身份
*   product_id
*   产品数量

您可以根据需要更新 user_shopping。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T09:55:41.290

制作***一个***包含列`user_id`和的表`product_id`。
这样您就可以将产品与用户关联起来，而无需为每个用户创建一个表格。

# tcp - 当 TCP 连接未正确关闭时从应用程序发送的 RST 数据包

> ID：11410754
> 
> 赞同：1
> 
> 时间：2012-07-10T09:53:43.047
> 
> 标签：tcp

我有一个基于 Web 服务的应用程序，其中 Web 服务器在特定端口上的应用程序中运行。最近在生产环境中，我注意到应用程序正在向客户端发送一个 RST 数据包来重置连接。在分析 TCP 转储后，我观察到 TCP 4 路连接关闭没有正常发生。应用程序 Web 服务器向客户端发送响应后，应用程序正在向客户端发送 FIN 数据包并接收 ACK，但客户端没有向应用程序发起 FIN 数据包，而是收到了一些请求数据包。此时，应用程序向客户端发送一个 RST 数据包，因为应用程序期待来自客户端的 FIN 数据包启动。这会导致请求数据包丢失。

请对上述情况发表评论。您的意见将不胜感激。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:02:20.800

客户端忽略套接字上的 EOS 条件并继续写入。然后，客户端将获得“对等方重置连接”。这基本上是一个应用程序协议错误。客户端不应该在同一个连接上发送另一个请求，或者服务器应该寻找它而不是在第一个响应后关闭连接。

# matlab - 使用 L2 范数最小化（Matlab）的 3D 数据集的直方图匹配

> ID：11410756
> 
> 赞同：1
> 
> 时间：2012-07-10T09:53:51.237
> 
> 标签：matlab, image-processing, histogram, least-squares

我需要对两组 3D 数据执行一些基本的直方图匹配。这是更大算法的一部分。

我的目标是通过最小化以下成本函数来执行此操作：

|| cumpdf(f(A)) - cumpdf(B) || .^2

在哪里：

cumpdf 是累积直方图

f() 是线性变换 a*A + b 其中 a/b 是要
确定的仿射系数

A是要变换的图像，B是要匹配的图像

我正在使用 lsqcurvefit 但是我遇到了一些麻烦，因此真的需要一些帮助。

```
A(maskA==0)=0;
B(maskB==0)=0;

[na,~] = hist(A(maskA~=0),500);
na = na ./ numel(A(maskA~=0));
x_data = cumsum(na);

[nb,~] = hist(B(maskB~=0),500);
nb = nb ./ numel(B(maskB~=0));
y_data = cumsum(nb);

xo = [1.5 -200];
[coeff,~] = lsqcurvefit(@cost,xo,x_data,y_data);

function F = cost(x,xc)
F = x(1).*A + x(2);
[nc,~] = hist(C(maskA~=0),500);
nc = nc / numel(C(maskA~=0));
xc = cumsum(nc); 
```

Amask 和 Bmask 只是代表我需要做的一些索引。

我的问题是：我知道以上是错误的。但是，关于成本函数和目标，我认为它最能代表我想做的事情。一些帮助我将不胜感激！

# r - 如何从数据集中生成关系矩阵？

> ID：11410764
> 
> 赞同：1
> 
> 时间：2012-07-10T09:54:06.650
> 
> 标签：r

我想使用 R 从已知关系列表中生成关系矩阵。例如，使用以下数据集：

```
John Green
Mary Blue
Mary Red
John Blue 
```

我想拥有 ：

```
 Green Blue Red
John     1     1   0
Mary     0     1   1 
```

我没有找到如何做到这一点。提前感谢您的任何建议。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T09:57:08.090

您可以使用`table`.

```
people <- c("John", "Mary", "Mary", "John")
cols <- c("Green", "Blue", "Red", "Blue")
df <- data.frame(people, cols)

table(df)

      cols
people Blue Green Red
  John    1     1   0
  Mary    1     0   1 
```

# php - 从 ajax 查询中检测服务器端问题

> ID：11410765
> 
> 赞同：0
> 
> 时间：2012-07-10T09:54:09.640
> 
> 标签：php, jquery, ajax

那是我的jQuery代码：

```
$(function() {  
$("#edit_union").click(function() {
    var tuzove = $("#tuzove").val();
    var description = $("#description").val();
    var union_owner = $("#union_owner").val();
    var union_name = $("#union_name").val();
    var uid = $("#uid").val();
    var dataString = 'tuzove='+ tuzove + '&description=' + description + '&union_owner=' + union_owner + '&union_name=' + union_name + '&uid=' + uid;  
    $.ajax({  
        type: "POST",  
        url: "ajax/admp_ajax.php",  
        data: dataString,  
        success: function() {
            $(".adm_panel_serach_user").append("<br/><span style=' color: #0099ff; font-weight: bold;'>Success.</span>");
        }  
    });
    return false;
});
}); 
```

也就是 ajax/admp_ajax.php 页面：

```
include_once 'classes/admin_panel.php';
$admpanel = new adminPanal();

if ($_POST['tuzove'] && $_POST['description'] && $_POST['union_owner'] && $_POST['union_owner'] && $_POST['uid'])
$admpanel->editUnion($_POST['tuzove'], $_POST['description'], $_POST['union_owner'], $_POST['union_name'], $_POST['uid']); 
```

那就是editUnion函数：

```
public function editUnion($tyzove, $description, $ownerName, $unionName, $unionId) {
    mysql_query("UPDATE `union` SET tuzove = '" . $tyzove . "', description = '" . mysql_real_escape_string($description) . "', owner_id = '" . $this->getUserId($ownerName) . "' WHERE name = '" . $unionName . "'");

    if ($ownerName == $ownerName)
        mysql_query("UPDATE users SET union_rank = '0', union_id = '0' WHERE username = '" . $ownerName . "'");

    mysql_query("UPDATE users SET union_rank = '1', union_id = '" . $unionId . "' WHERE username = '" . $ownerName . "'");
} 
```

问题是，当我单击 edit_union 按钮时写入 Success，但不更新 union :(。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T09:57:54.827

好吧，无论 sql 查询是否失败，您的 php 页面都会返回一些内容。这意味着除非由于某种原因无法加载页面，否则将始终触发成功。SQL 失败不会导致它失败。

因此，您将始终打印成功，但更新本身可能会失败。尝试在浏览器中自行运行 php 页面并查看 sql 出现的任何错误。您还可以尝试使用 php 中的 echo 语句将 sql 查询打印到屏幕上，然后将它们复制到 sql 命令行或 phpmyadmin 等。

还要注意的是，由于您的查询信息来自表单/输入字段，因此您需要非常小心以防止 sql 注入等。研究使用 mysqli 和准备好的语句。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T09:59:29.083

您的ajax成功函数没有做任何事情..它只是更新成功...根据JS方面这很好..检查正在发送的数据，..不要使用dataString ..infact 创建数据对象

```
var dataObject=new Object();
dataObject.union_name=union_name; 
```

调试您的服务器端代码..我认为数据未成功提交。

# ruby-on-rails - 如何在rails3.1中对下拉选定的更改事件调用特定操作

> ID：11410768
> 
> 赞同：0
> 
> 时间：2012-07-10T09:54:23.163
> 
> 标签：ruby-on-rails, ruby

我的页面上有 select_tag，这个下拉菜单有语言集合。现在我想根据下拉菜单中选择的语言更改所有消息。为此，我需要对选择更改采取行动。那么我将如何称呼它。

谢谢，拉利特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:36:52.050

当下拉更改使用 javascript 提交表单时，您可以在表单中使用下拉菜单。

# java - 从文件加载 RSA 公钥

> ID：11410770
> 
> 赞同：124
> 
> 时间：2012-07-10T09:54:27.390
> 
> 标签：java, openssl, rsa

我已经生成了一个私钥：

```
openssl genrsa [-out file] –des3 
```

在此之后，我生成了一个公钥：

```
openssl rsa –pubout -in private.key [-out file] 
```

我想用我的私钥签署一些消息，并用我的公钥验证一些其他消息，使用如下代码：

```
public String sign(String message) throws SignatureException{
    try {
        Signature sign = Signature.getInstance("SHA1withRSA");
        sign.initSign(privateKey);
        sign.update(message.getBytes("UTF-8"));
        return new String(Base64.encodeBase64(sign.sign()),"UTF-8");
    } catch (Exception ex) {
        throw new SignatureException(ex);
    }
}

public boolean verify(String message, String signature) throws SignatureException{
    try {
        Signature sign = Signature.getInstance("SHA1withRSA");
        sign.initVerify(publicKey);
        sign.update(message.getBytes("UTF-8"));
        return sign.verify(Base64.decodeBase64(signature.getBytes("UTF-8")));
    } catch (Exception ex) {
        throw new SignatureException(ex);
    }
} 
```

我找到了将我的私钥转换为 PKCS8 格式并加载它的解决方案。它适用于如下代码：

```
public PrivateKey getPrivateKey(String filename) throws Exception {

    File f = new File(filename);
    FileInputStream fis = new FileInputStream(f);
    DataInputStream dis = new DataInputStream(fis);
    byte[] keyBytes = new byte[(int) f.length()];
    dis.readFully(keyBytes);
    dis.close();
    PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);
    KeyFactory kf =
            KeyFactory.getInstance("RSA");
    return kf.generatePrivate(spec);
} 
```

最后我的问题是：**如何从文件中加载我的 RSA 公钥？**

我想也许我需要将我的公钥文件转换为 x509 格式，然后使用`X509EncodedKeySpec`. 但是我该怎么做呢？

* * *

## 回答 #1

> 赞同：352
> 
> 时间：2013-10-15T17:37:41.607

以下是[Zaki](https://stackoverflow.com/users/100836/zaki)提供[的链接](http://codeartisan.blogspot.com/2009/05/public-key-cryptography-in-java.html)中的相关信息。

> 生成 2048 位 RSA 私钥
> 
> `$ openssl genrsa -out private_key.pem 2048`
> 
> 将私钥转换为 PKCS#8 格式（以便 Java 可以读取）
> 
> `$ openssl pkcs8 -topk8 -inform PEM -outform DER -in private_key.pem -out private_key.der -nocrypt`
> 
> 以 DER 格式输出公钥部分（以便 Java 可以读取）
> 
> `$ openssl rsa -in private_key.pem -pubout -outform DER -out public_key.der`

**私钥**

```
import java.nio.file.*;
import java.security.*;
import java.security.spec.*;

public class PrivateKeyReader {

  public static PrivateKey get(String filename)
    throws Exception {

    byte[] keyBytes = Files.readAllBytes(Paths.get(filename));

    PKCS8EncodedKeySpec spec =
      new PKCS8EncodedKeySpec(keyBytes);
    KeyFactory kf = KeyFactory.getInstance("RSA");
    return kf.generatePrivate(spec);
  }
} 
```

**公钥**

```
import java.nio.file.*;
import java.security.*;
import java.security.spec.*;

public class PublicKeyReader {

  public static PublicKey get(String filename)
    throws Exception {

    byte[] keyBytes = Files.readAllBytes(Paths.get(filename));

    X509EncodedKeySpec spec =
      new X509EncodedKeySpec(keyBytes);
    KeyFactory kf = KeyFactory.getInstance("RSA");
    return kf.generatePublic(spec);
  }
} 
```

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2014-06-02T23:47:34.740

这个程序几乎用公钥和私钥做所有事情。可以得到der格式但保存原始数据（不编码base64）。我希望这对程序员有所帮助。

```
import java.io.ByteArrayOutputStream;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.PrintStream;
import java.security.InvalidKeyException;
import java.security.KeyFactory;
import java.security.KeyPair;
import java.security.KeyPairGenerator;
import java.security.NoSuchAlgorithmException;
import java.security.PrivateKey;
import java.security.PublicKey;
import java.security.Signature;
import java.security.SignatureException;

import sun.misc.BASE64Decoder;
import sun.misc.BASE64Encoder;
import sun.security.pkcs.PKCS8Key;
import sun.security.pkcs10.PKCS10;
import sun.security.x509.X500Name;

import java.security.spec.PKCS8EncodedKeySpec;
import java.security.spec.X509EncodedKeySpec;

/**
 * @author Desphilboy
 * DorOd bar shomA barobach
 *
 */
public class csrgenerator {

    private static PublicKey publickey= null;
    private static PrivateKey privateKey=null;
    //private static PKCS8Key privateKey=null;
    private static KeyPairGenerator kpg= null;
    private static ByteArrayOutputStream bs =null;
    private static csrgenerator thisinstance;
    private KeyPair keypair;
    private static PKCS10 pkcs10;
    private String signaturealgorithm= "MD5WithRSA";

    public String getSignaturealgorithm() {
        return signaturealgorithm;
    }

    public void setSignaturealgorithm(String signaturealgorithm) {
        this.signaturealgorithm = signaturealgorithm;
    }

    private csrgenerator() {
        try {
           kpg = KeyPairGenerator.getInstance("RSA");
        } catch (NoSuchAlgorithmException e) {
            e.printStackTrace();
            System.out.print("No such algorithm RSA in constructor csrgenerator\n");
        }
        kpg.initialize(2048);
        keypair = kpg.generateKeyPair();
        publickey = keypair.getPublic();
        privateKey = keypair.getPrivate();
    }

    /** Generates a new key pair 
    *
    * @param int bits 
    *   this is the number of bits in modulus must be 512, 1024, 2048  or so on 
    */
    public KeyPair generateRSAkys(int bits)
    {
          kpg.initialize(bits);
            keypair = kpg.generateKeyPair();
            publickey = keypair.getPublic();
            privateKey = keypair.getPrivate();
            KeyPair dup= keypair;
     return dup;
    }

     public static csrgenerator getInstance() {
            if (thisinstance == null)
                thisinstance = new csrgenerator();
            return thisinstance;
        }

     /**
      *  Returns a CSR as string  
      * @param cn  Common Name
      * @param OU  Organizational Unit 
      * @param Org  Organization
      * @param LocName Location name
      * @param Statename  State/Territory/Province/Region
      * @param Country    Country
      * @return     returns  csr as string.
      * @throws Exception
      */
     public String getCSR(String commonname, String organizationunit, String organization,String localname, String statename, String country ) throws Exception {
            byte[] csr = generatePKCS10(commonname, organizationunit, organization, localname, statename, country,signaturealgorithm);
            return new String(csr);
        }

     /** This function generates a new Certificate 
      * Signing Request. 
     *
     * @param CN
     *            Common Name, is X.509 speak for the name that distinguishes
     *            the Certificate best, and ties it to your Organization
     * @param OU
     *            Organizational unit
     * @param O
     *            Organization NAME
     * @param L
     *            Location
     * @param S
     *            State
     * @param C
     *            Country
     * @return    byte stream of generated request
     * @throws Exception
     */
    private static byte[] generatePKCS10(String CN, String OU, String O,String L, String S, String C,String sigAlg) throws Exception {
        // generate PKCS10 certificate request

        pkcs10 = new PKCS10(publickey);
       Signature   signature = Signature.getInstance(sigAlg);
        signature.initSign(privateKey);
        // common, orgUnit, org, locality, state, country
        //X500Name(String commonName, String organizationUnit,String organizationName,Local,State, String country)
        X500Name x500Name = new X500Name(CN, OU, O, L, S, C);
        pkcs10.encodeAndSign(x500Name,signature);
        bs = new ByteArrayOutputStream();
        PrintStream ps = new PrintStream(bs);
        pkcs10.print(ps);
        byte[] c = bs.toByteArray();
        try {
            if (ps != null)
                ps.close();
            if (bs != null)
                bs.close();
        } catch (Throwable th) {
        }
        return c;
    }

    public  PublicKey getPublicKey() {
        return publickey;
    }

    /**
     * @return
     */
    public PrivateKey getPrivateKey() {
        return privateKey;
    }

    /**
     * saves private key to a file
     * @param filename
     */
    public  void SavePrivateKey(String filename)
    {
        PKCS8EncodedKeySpec pemcontents=null;
        pemcontents= new PKCS8EncodedKeySpec( privateKey.getEncoded());
        PKCS8Key pemprivatekey= new  PKCS8Key( );
        try {
            pemprivatekey.decode(pemcontents.getEncoded());
        } catch (InvalidKeyException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        File file=new File(filename);
        try {

            file.createNewFile();
            FileOutputStream fos=new FileOutputStream(file);
            fos.write(pemprivatekey.getEncoded());
            fos.flush();
            fos.close();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

    }

    /**
     * Saves Certificate Signing Request to a file;
     * @param filename  is a String containing full path to the file which will be created containing the CSR.
     */
    public void SaveCSR(String filename)
    {
        FileOutputStream fos=null;
        PrintStream ps=null;
        File file;
        try {

            file = new File(filename);
            file.createNewFile();
            fos = new FileOutputStream(file);
            ps= new PrintStream(fos);
        }catch (IOException e)
        {
            System.out.print("\n could not open the file "+ filename);
        }

        try {
            try {
                pkcs10.print(ps);
            } catch (SignatureException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            ps.flush();
            ps.close();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            System.out.print("\n cannot write to the file "+ filename);
            e.printStackTrace();

        }

        }

    /**
     * Saves both public key and private  key to file names specified
     * @param fnpub  file name of public key
     * @param fnpri  file name of private key
     * @throws IOException
     */
    public static void SaveKeyPair(String fnpub,String fnpri) throws IOException { 

// Store Public Key.
X509EncodedKeySpec x509EncodedKeySpec = new X509EncodedKeySpec(
publickey.getEncoded());
FileOutputStream fos = new FileOutputStream(fnpub);
fos.write(x509EncodedKeySpec.getEncoded());
fos.close();

// Store Private Key.
PKCS8EncodedKeySpec pkcs8EncodedKeySpec = new PKCS8EncodedKeySpec(privateKey.getEncoded());
fos = new FileOutputStream(fnpri);
fos.write(pkcs8EncodedKeySpec.getEncoded());
fos.close();
}

    /**
     * Reads a Private Key from a pem base64 encoded file.
     * @param filename name of the file to read.
     * @param algorithm Algorithm is usually "RSA"
     * @return returns the privatekey which is read from the file;
     * @throws Exception
     */
    public  PrivateKey getPemPrivateKey(String filename, String algorithm) throws Exception {
          File f = new File(filename);
          FileInputStream fis = new FileInputStream(f);
          DataInputStream dis = new DataInputStream(fis);
          byte[] keyBytes = new byte[(int) f.length()];
          dis.readFully(keyBytes);
          dis.close();

          String temp = new String(keyBytes);
          String privKeyPEM = temp.replace("-----BEGIN PRIVATE KEY-----", "");
          privKeyPEM = privKeyPEM.replace("-----END PRIVATE KEY-----", "");
          //System.out.println("Private key\n"+privKeyPEM);

          BASE64Decoder b64=new BASE64Decoder();
          byte[] decoded = b64.decodeBuffer(privKeyPEM);

          PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(decoded);
          KeyFactory kf = KeyFactory.getInstance(algorithm);
          return kf.generatePrivate(spec);
          }

    /**
     * Saves the private key to a pem file.
     * @param filename  name of the file to write the key into 
     * @param key the Private key to save.
     * @return  String representation of the pkcs8 object.
     * @throws Exception
     */
    public  String  SavePemPrivateKey(String filename) throws Exception {
        PrivateKey key=this.privateKey;
          File f = new File(filename);
          FileOutputStream fos = new FileOutputStream(f);
          DataOutputStream dos = new DataOutputStream(fos);

          byte[] keyBytes = key.getEncoded();
          PKCS8Key pkcs8= new PKCS8Key();
          pkcs8.decode(keyBytes);
          byte[] b=pkcs8.encode();

          BASE64Encoder b64=new BASE64Encoder();
          String  encoded = b64.encodeBuffer(b);

          encoded= "-----BEGIN PRIVATE KEY-----\r\n" + encoded + "-----END PRIVATE KEY-----";

         dos.writeBytes(encoded);
         dos.flush();
         dos.close();

          //System.out.println("Private key\n"+privKeyPEM);
        return pkcs8.toString();

          }

    /**
     * Saves a public key to a base64 encoded pem file
     * @param filename  name of the file 
     * @param key public key to be saved 
     * @return string representation of the pkcs8 object.
     * @throws Exception
     */
    public  String  SavePemPublicKey(String filename) throws Exception {
        PublicKey key=this.publickey;  
        File f = new File(filename);
          FileOutputStream fos = new FileOutputStream(f);
          DataOutputStream dos = new DataOutputStream(fos);

          byte[] keyBytes = key.getEncoded();
          BASE64Encoder b64=new BASE64Encoder();
          String  encoded = b64.encodeBuffer(keyBytes);

          encoded= "-----BEGIN PUBLIC KEY-----\r\n" + encoded + "-----END PUBLIC KEY-----";

         dos.writeBytes(encoded);
         dos.flush();
         dos.close();

          //System.out.println("Private key\n"+privKeyPEM);
      return  encoded.toString();

          }

       /**
     * reads a public key from a file
     * @param filename name of the file to read
     * @param algorithm is usually RSA
     * @return the read public key
     * @throws Exception
     */
    public  PublicKey getPemPublicKey(String filename, String algorithm) throws Exception {
          File f = new File(filename);
          FileInputStream fis = new FileInputStream(f);
          DataInputStream dis = new DataInputStream(fis);
          byte[] keyBytes = new byte[(int) f.length()];
          dis.readFully(keyBytes);
          dis.close();

          String temp = new String(keyBytes);
          String publicKeyPEM = temp.replace("-----BEGIN PUBLIC KEY-----\n", "");
          publicKeyPEM = publicKeyPEM.replace("-----END PUBLIC KEY-----", "");

          BASE64Decoder b64=new BASE64Decoder();
          byte[] decoded = b64.decodeBuffer(publicKeyPEM);

          X509EncodedKeySpec spec =
                new X509EncodedKeySpec(decoded);
          KeyFactory kf = KeyFactory.getInstance(algorithm);
          return kf.generatePublic(spec);
          }

    public static void main(String[] args) throws Exception {
        csrgenerator gcsr = csrgenerator.getInstance();
        gcsr.setSignaturealgorithm("SHA512WithRSA");
        System.out.println("Public Key:\n"+gcsr.getPublicKey().toString());

        System.out.println("Private Key:\nAlgorithm: "+gcsr.getPrivateKey().getAlgorithm().toString());
        System.out.println("Format:"+gcsr.getPrivateKey().getFormat().toString());
        System.out.println("To String :"+gcsr.getPrivateKey().toString());
        System.out.println("GetEncoded :"+gcsr.getPrivateKey().getEncoded().toString());
        BASE64Encoder encoder= new BASE64Encoder();
        String s=encoder.encodeBuffer(gcsr.getPrivateKey().getEncoded());
        System.out.println("Base64:"+s+"\n");

        String csr = gcsr.getCSR( "desphilboy@yahoo.com","baxshi az xodam", "Xodam","PointCook","VIC" ,"AU");
        System.out.println("CSR Request Generated!!");
        System.out.println(csr);
        gcsr.SaveCSR("c:\\testdir\\javacsr.csr");
        String p=gcsr.SavePemPrivateKey("c:\\testdir\\java_private.pem");
        System.out.print(p);
        p=gcsr.SavePemPublicKey("c:\\testdir\\java_public.pem");
        privateKey= gcsr.getPemPrivateKey("c:\\testdir\\java_private.pem", "RSA");
        BASE64Encoder encoder1= new BASE64Encoder();
        String s1=encoder1.encodeBuffer(gcsr.getPrivateKey().getEncoded());
        System.out.println("Private Key in Base64:"+s1+"\n");
        System.out.print(p);

    }

    } 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2015-03-31T15:45:47.880

将密钥存储在 PEM 文件中后，您可以使用 BouncyCastle 提供的 PemObject 和 PemReader 类轻松读取它，如 [本教程](https://www.txedo.com/blog/java-read-rsa-keys-pem-file/)所示。

创建一个封装文件处理的 PemFile 类：

```
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStreamReader;

import org.bouncycastle.util.io.pem.PemObject;
import org.bouncycastle.util.io.pem.PemReader;

public class PemFile {

    private PemObject pemObject;

    public PemFile(String filename) throws FileNotFoundException, IOException {
        PemReader pemReader = new PemReader(new InputStreamReader(
                new FileInputStream(filename)));
        try {
            this.pemObject = pemReader.readPemObject();
        } finally {
            pemReader.close();
        }
    }

    public PemObject getPemObject() {
        return pemObject;
    }
} 
```

然后像往常一样实例化私钥和公钥：

```
import java.io.FileNotFoundException;
import java.io.IOException;
import java.security.KeyFactory;
import java.security.NoSuchAlgorithmException;
import java.security.NoSuchProviderException;
import java.security.PrivateKey;
import java.security.PublicKey;
import java.security.Security;
import java.security.spec.InvalidKeySpecException;
import java.security.spec.PKCS8EncodedKeySpec;
import java.security.spec.X509EncodedKeySpec;

import org.apache.log4j.Logger;
import org.bouncycastle.jce.provider.BouncyCastleProvider;

public class Main {

    protected final static Logger LOGGER = Logger.getLogger(Main.class);

    public final static String RESOURCES_DIR = "src/main/resources/rsa-sample/";

    public static void main(String[] args) throws FileNotFoundException,
            IOException, NoSuchAlgorithmException, NoSuchProviderException {
        Security.addProvider(new BouncyCastleProvider());
        LOGGER.info("BouncyCastle provider added.");

        KeyFactory factory = KeyFactory.getInstance("RSA", "BC");
        try {
            PrivateKey priv = generatePrivateKey(factory, RESOURCES_DIR
                    + "id_rsa");
            LOGGER.info(String.format("Instantiated private key: %s", priv));

            PublicKey pub = generatePublicKey(factory, RESOURCES_DIR
                    + "id_rsa.pub");
            LOGGER.info(String.format("Instantiated public key: %s", pub));
        } catch (InvalidKeySpecException e) {
            e.printStackTrace();
        }
    }

    private static PrivateKey generatePrivateKey(KeyFactory factory,
            String filename) throws InvalidKeySpecException,
            FileNotFoundException, IOException {
        PemFile pemFile = new PemFile(filename);
        byte[] content = pemFile.getPemObject().getContent();
        PKCS8EncodedKeySpec privKeySpec = new PKCS8EncodedKeySpec(content);
        return factory.generatePrivate(privKeySpec);
    }

    private static PublicKey generatePublicKey(KeyFactory factory,
            String filename) throws InvalidKeySpecException,
            FileNotFoundException, IOException {
        PemFile pemFile = new PemFile(filename);
        byte[] content = pemFile.getPemObject().getContent();
        X509EncodedKeySpec pubKeySpec = new X509EncodedKeySpec(content);
        return factory.generatePublic(pubKeySpec);
    }
} 
```

希望这可以帮助。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-04-24T20:55:55.663

下面的代码对我来说绝对没问题并且可以正常工作。此代码将通过 java 代码读取 RSA 私钥和公钥。可以参考[http://snipplr.com/view/18368/](http://snipplr.com/view/18368/)

```
import java.io.DataInputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;
import java.security.KeyFactory;
import java.security.NoSuchAlgorithmException;
import java.security.interfaces.RSAPrivateKey;
import java.security.interfaces.RSAPublicKey;
import java.security.spec.InvalidKeySpecException;
import java.security.spec.PKCS8EncodedKeySpec;
import java.security.spec.X509EncodedKeySpec;

public class Demo {
    public static final String PRIVATE_KEY="/home/user/private.der";
    public static final String PUBLIC_KEY="/home/user/public.der";

    public static void main(String[] args) throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {
        //get the private key
        File file = new File(PRIVATE_KEY);
        FileInputStream fis = new FileInputStream(file);
        DataInputStream dis = new DataInputStream(fis);

        byte[] keyBytes = new byte[(int) file.length()];
        dis.readFully(keyBytes);
        dis.close();

        PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);
        KeyFactory kf = KeyFactory.getInstance("RSA");
        RSAPrivateKey privKey = (RSAPrivateKey) kf.generatePrivate(spec);
        System.out.println("Exponent :" + privKey.getPrivateExponent());
        System.out.println("Modulus" + privKey.getModulus());

        //get the public key
        File file1 = new File(PUBLIC_KEY);
        FileInputStream fis1 = new FileInputStream(file1);
        DataInputStream dis1 = new DataInputStream(fis1);
        byte[] keyBytes1 = new byte[(int) file1.length()];
        dis1.readFully(keyBytes1);
        dis1.close();

        X509EncodedKeySpec spec1 = new X509EncodedKeySpec(keyBytes1);
        KeyFactory kf1 = KeyFactory.getInstance("RSA");
        RSAPublicKey pubKey = (RSAPublicKey) kf1.generatePublic(spec1);

        System.out.println("Exponent :" + pubKey.getPublicExponent());
        System.out.println("Modulus" + pubKey.getModulus());
    }
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-04-10T22:03:15.500

```
@Value("${spring.security.oauth2.resourceserver.jwt.key-value}")
RSAPublicKey key; 
```

键值可以是 uri（即“classpath:keys/pub.pcks8.pem”）或 pem 内容。

您必须包括以下部门：

```
compile project(':spring-security-config')
compile project(':spring-security-oauth2-jose')
compile project(':spring-security-oauth2-resource-server') 
```

# css - 两行 CSS 菜单 - IE7 上的 Bug-Z 索引

> ID：11410771
> 
> 赞同：0
> 
> 时间：2012-07-10T09:54:31.127
> 
> 标签：css, menu, internet-explorer-7, z-index

在我的菜单上，由于存在大量链接，第一级菜单位于两行。

我的错误是子菜单低于第一级的第二行。在 IE8、Firefox、Chrome 上我没有这个问题，但在 IE7 上是的。

这是我的代码：

[http://jsfiddle.net/Fp2VV/](http://jsfiddle.net/Fp2VV/)

预先感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:05:32.017

将以下属性与您的 CSS 代码一起使用。

```
Position:relative; 
```

# javascript - 如何使用 JavaScript 有效地验证我的 URL？

> ID：11410781
> 
> 赞同：3
> 
> 时间：2012-07-10T09:55:04.247
> 
> 标签：javascript, regex

我的正则表达式成功验证了许多 URL，除了`http://www.google`

这是我在 JSFiddle 中的 URL 验证器：http: [//jsfiddle.net/z23nZ/2/](http://jsfiddle.net/z23nZ/2/)

它正确验证了以下 URL：

`http://www.google.com` 给 **真**

`www.google.com` 给 **真**

`http://www.rootsweb.ancestry.com/~mopoc/links.htm` 给**真**

`http:// www.` 给出**错误**

...但不是这个：

`http://www.google` 给**真**

在这种情况下返回 true 是不正确的。我如何验证该案例？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:10:53.457

我认为你需要简化这一点。那里有很多 URL 验证正则表达式，但作为练习，我将通过我的思考过程来构建一个。

1.  首先，您需要匹配一个协议（如果有）：`/((http|ftp)s?:\/\/)?`
2.  然后匹配任何一系列非空白字符：`\S+`
3.  如果您尝试从文本中挑选出 URL，则需要寻找表明它是 URL 的迹象。寻找点或斜线，然后寻找更多的非空白：`[\.\/]\S*/`

现在把它们放在一起：

```
/(((http|ftp)s?:\/\/)|(\S+[\.\/]))\S*[^\s\.]*/ 
```

我猜你试图寻找`www.google`是因为新的顶级域名......事实上，这样的 URL 可能看起来像`google`，所以任何单词都可能是 URL。试图想出一个匹配有效 URL 而没有其他任何东西的包罗万象的正则表达式是不可能的，所以你最好只使用像上面这样简单的东西。

**编辑：**如果人们选择编写这样的新 URL，我会`|`在协议部分和非空格然后点或斜线部分之间插入一个匹配的部分`http://google`

**编辑 2：**查看下一个改进的评论。它确保`google.com`匹配，`http://google`匹配，甚至`google/`匹配，但不是`a.`.

# c++ - 为什么我需要 reinterpret_cast 将 Fred ** const 转换为 void ** const？

> ID：11410783
> 
> 赞同：12
> 
> 时间：2012-07-10T09:55:06.167
> 
> 标签：c++, void-pointers, reinterpret-cast, static-cast

我有一个指向 a 的指针的 const 指针，但`Fred`我不明白为什么 a`static_cast`还不够。

```
typedef struct {
    int n;
} Fred;

Fred *pFred;
Fred **const ppFred = &pFred;
void **const ppVoid = static_cast<void ** const>(ppFred); 
```

请有人可以解释为什么`reinterpret_cast`需要将指针转换为`Fred*`指针，`void*`但`static_cast`将指针转换为指针就`Fred`可以了`void`。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-10T10:12:10.900

不要求 a`Fred*`和 a`void*`具有相同的大小和表示。（我曾在他们没有的机器上工作过，尽管那是在我的 C++ 时代之前。）当你转换`Fred*`为 时 `void*`，你会得到一个新的指针，它可能具有不同的大小和表示形式，但没有关于大小和表示的信息`void*`指向的对象的表示。你知道它是未知的，使用它的唯一方法`void*`是将它转换回 `Fred*`（模数，如 cv-qualifiers）。当您转换`Fred**` 为 时`void**`，您正在从指向具体类型的指针（指向 a 的指针`Fred*`）转换为指向另一个具体类型的指针（指向 a 的指针）`void*`）。而且由于不能保证这两种具体类型具有相同的大小和表示形式，因此转换需要一个 `reinterpret_cast`. `void`是一种特殊的非具体类型，因此您可以 `static_cast`将指向任何类型的指针与指向`void`. `void*`只是另一种具体的指针类型，因此在指向它的指针之间进行转换遵循通常的规则（并且需要 a `reinterpret_cast`）。

在很多方面，情况很像`int`and `double`， where `void*`扮演`int`(say)的角色，扮演 的`Fred*`角色`double`。在and`static_cast`之间没有问题，但是在和require之间进行强制转换。`int``double``int*``double*``reinterpret_cast`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-10T10:06:34.667

所有对象指针都可以转换为`void*`，因此静态转换就可以了。但是，在`T*`和之间转换`U*`通常需要重新解释强制转换，因为任意指针不能相互转换。（和替代品`T = Fred*`，`U = void*`。）

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-10T10:08:50.523

`static_cast`将无法转换`Fred **`为，`void **`因为它不是明智的转换：指向`Fred*`和指向的指针`void*`不一定以相同的方式创建（即某些平台上的对齐问题）。您可以确定`void*`可以指向内存中任何字节的 a 也可以指向一个`Fred`对象，但`void**`指针并非如此。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-24T06:11:30.630

## 免责声明

**以下是为了使事情易于理解而**挥手致意，而不是技术上正确的描述。****

 **## 挥手的

一种可能的引入方式`void`是：

`void`与Java通用超类*相似*（不一样） 。`Object`

`void`可以看作是每个类和非类类型的抽象基。（使用这个比喻，`void`也将是一个准虚拟基类型：转换`void*`为永远不会模棱两可。）

因此，您可以将隐式转换从`T*`to`void*`视为派生到基的转换，而反过来`static_cast`就像派生向下转换的基。当 a`void*`没有真正指向 a`T`时，你不应该做 a `static_cast<T*>`（当 a`Base*`没有真正指向 a`Derived`时，你不应该做 a `static_cast<Derived*>`）。

## 免责声明，再次

**严重的是，** `void`它**不是**一个抽象基类，并且在许多情况下不能被正式视为一个：

*   您不能正式将其描述`void`为虚拟基（或`static_cast`会中断）或非虚拟基（或`void*`在使用多重继承时转换为模棱两可）。
*   没有`void&`类型。这个基类*隐喻*确实超出了指针。

请不要告诉人们“`void`是通用的 C++ 基类，如 Java 对象”。*如果没有完整的免责声明，请勿重复我在这里写的任何内容。*

**仅在某些情况下，** `void`出于指针隐式转换和强制转换的目的，它的行为类似于基类。

**您不能基于隐喻编写程序，**而是基于真正的 C++ 规则编写程序。

这个比喻可能会有所帮助。或不。无论哪种方式，*都不要试图根据隐喻得出合乎逻辑的结论。***

# php - XMLReader 未读取请求的所有元素

> ID：11410785
> 
> 赞同：0
> 
> 时间：2012-07-10T09:55:27.023
> 
> 标签：php, xml, xmlreader

所以我有这个 XML

```
<entry>
<id>ABC123</id>
<title type="text">title </title>
<author xmlns="http://www.w3.org/2005/Atom">
    <name>test.com</name>
</author>
<link rel="self" href="http://www.test.com/asdasd.html"/>
<updated>2012-07-04T06:12:15.337</updated>
<content type="xml">
    <listing systemId="thesystemid" url="www.myurl.com">
        <description>
            This is a description
        </description>
    </listing>
</content>
</entry> 
```

我将 XMLReader 与此代码一起使用，并使用以下代码提取数据：

```
$url = $product->content->listing['url'];
$id = $product->id;
$name = $product->title;
$desc = $product->content->listing->description; 
```

除了 $desc 之外，一切都被完美地拉入了

$product 已设置为“条目”

我只是不明白为什么，有什么想法吗？

错误是

```
Notice: Trying to get property of non-object in...... 
```

干杯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:09:30.977

检查这个

```
$aa= '<entry>
     <id>ABC123</id>
     <title type="text">title </title>
     <author xmlns="http://www.w3.org/2005/Atom">
     <name>test.com</name>
     </author>
     <link rel="self" href="http://www.test.com/asdasd.html"/>
     <updated>2012-07-04T06:12:15.337</updated>
     <content type="xml">
     <listing systemId="thesystemid" url="www.myurl.com">
     <description>
        This is a description
     </description>
     </listing>
     </content>
     </entry>';
  $xml = simplexml_load_string($aa);
  echo $xml->content->listing->description; 
```

这将起作用。享受。

# objective-c - 在objective-c中舍入一个浮点数

> ID：11410791
> 
> 赞同：8
> 
> 时间：2012-07-10T09:55:56.743
> 
> 标签：objective-c, floating-point, rounding

我想知道是否有一个简单的函数可以使用这样的示例。我有一个

```
float value = 1.12345; 
```

我想通过调用类似的东西来四舍五入

```
float value2 = [roundFloat value:value decimal:3];
NSLog(@"value2 = %f", value2); 
```

我得到“1.123”是否有任何`Library`或默认功能，或者我应该为这种类型的计算编写一个代码块？

提前感谢您的帮助

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-10T10:18:04.097

使用`NSLog(@"%f", theFloat)`总是输出六位小数，例如：

```
float theFloat = 1;
NSLog(@"%f",theFloat); 
```

输出：

```
1.000000 
```

换句话说，你永远不会`1.123`通过使用`NSLog(@"%f", theFloat)`.

小数点后三位截止：

```
float theFloat = 1.23456;
float newFLoat = (int)(theFloat * 1000.0) / 1000.0;
NSLog(@"%f",newFLoat); 
```

输出：

```
1.234000 
```

四舍五入到小数点后三位（使用`roundf()`/ `lroundf()`/ `ceil()`/ `floor()`）：

```
float theFloat = 1.23456;
float newFLoat = (int)(roundf(theFloat * 1000.0)) / 1000.0;
NSLog(@"%f",newFLoat); 
```

输出：

```
1.235000 
```

四舍五入到小数点后三位（肮脏的方式）：

```
float theFloat = 1.23456;
NSString *theString = [NSString stringWithFormat:@"%.3f", theFloat];
float newFloat = [theString floatValue];
NSLog(@"%@",theString);
NSLog(@"%f",newFloat); 
```

输出：

```
1.235
1.235000 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-10T10:16:49.137

对于打印值使用：

```
NSLog(@"value2 = %.3f", value2);
```

在计算之前四舍五入到 3 位小数并没有真正意义，因为`float`它不是一个精确的数字。即使你把它四舍五入`1.123`，它也会是这样的`1.122999999998`。

规则：

1.  通常你只为了打印结果而四舍五入——字符串格式化程序可以处理它（见上文）。
2.  对于精确计算（例如货币），不要使用浮点数，使用`NSDecimalNumber`或定点算术。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-11T00:12:32.897

浮点数没有小数位，它们有二进制位。小数基数有小数位。除非您转换为十进制基数，否则您不能将浮点数四舍五入到特定的小数位数。*没有返回*浮点值的例程、方法、函数等可以执行此任务。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T10:34:10.780

请注意，“圆”不一定是您想的那么简单的话题。例如

[DIY 计算器：舍入算法 101](http://www.diycalculator.com/sp-round.shtml)列出了 16 种不同的舍入方法。

[维基百科：四舍五入](http://en.wikipedia.org/wiki/Rounding)涵盖了很多相同的领域

Cplusplus 有一堆[舍入算法](http://www.cplusplus.com/forum/articles/3638/)的源代码，这些算法很容易翻译成 Objective-c

你想如何四舍五入取决于你对数据所做的事情的上下文。

我应该指出，Stack Overflow 已经有[很多其他关于在 Objective-c 中舍入的问题](http://www.google.com/search?q=round%20decimal%20places%20objective-c%20site%3astackoverflow.com&oq=round%20decimal%20places%20objective-c%20site%3astackoverflow.com)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-05T01:15:51.403

```
//Your Number to Round (can be predefined or whatever you need it to be)
float numberToRound = 1.12345;

float min = ([ [[NSString alloc]initWithFormat:@"%.0f",numberToRound] floatValue]);
float max = min + 1;
float maxdif = max - numberToRound;
if (maxdif > .5) {
    numberToRound = min;
}else{
    numberToRound = max;
}

//numberToRound will now equal it's closest whole number (in this case, it's 1) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-05-22T20:59:22.780

这是一个简单的方法：

```
float numberToRound = 1.12345f;
float remainder = numberToRound*1000.0f - (float)((int)(numberToRound*1000.0f));

if (remainder >= 0.5f) {
    numberToRound = (float)((int)(numberToRound*1000.0f) + 1)/1000.0f;
}
else {
    numberToRound = (float)((int)(numberToRound*1000.0f))/1000.0f;
} 
```

对于任意小数位，将上述代码中的 1000.0f 替换为

```
float mult = powf(10.0f, decimal); 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2012-07-10T10:05:00.927

尝试

```
#import <math.h>

float cutFloat( float number, int decimal) {
    number = number*( pow(10,decimal) );
    number = (int)number;
    number = number/( pow(10,decimal) ) ;

    return number;
} 
```

# python - 删除 site.py 后 Python 失败

> ID：11410792
> 
> 赞同：4
> 
> 时间：2012-07-10T09:56:08.980
> 
> 标签：python, setuptools

## tl;博士

我不小心删除了我的 Python 安装`site.py`文件。现在，当尝试启动 Python 时，它会抱怨，

> ImportError：找不到真正的“站点”模块

我尝试`site.py`从[setuptools](http://svn.python.org/projects/sandbox/branches/setuptools-0.6/site.py)`__boot`下载 a ，但这会导致该语句周围的方法无限递归`imp.load_module('site',stream,path,descr)`（第 37 行）。

**有没有办法在*不*重新安装 Python 的情况下解决这个问题？该`site.py`文件应该做什么？**

## 一些背景资料：

这是在我的主目录（`~/nfs`准确地说是 ）中安装了自定义 Python 的 Linux 服务器上。服务器上还有其他 Python 安装（不是我的——它是一团糟！），但它们`$PATH`的`$PYTHONPATH`设置方式是先找到我的安装。

至于我删除`site.py`文件的原因：我尝试执行 setuptools`setup.py`脚本，脚本告诉我删除文件，因为它“不是由 setuptools 创建的”。我傻傻地答应了。

我怀疑这个原始错误消息是由 setuptools 实现*不是*我的这一事实引起的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T10:00:27.617

该[`site`模块](http://docs.python.org/library/site.html)设置您的 python 模块搜索路径和其他一些东西。对python的正常运行有些关键。

您可以从 python 源存储库下载新副本：

*   对于[python 2.7](http://hg.python.org/cpython/raw-file/4f891f44ec15/Lib/site.py)
*   对于[蟒蛇 3.2](http://hg.python.org/cpython/raw-file/f86df559319d/Lib/site.py)

对于其他 python 版本，通常 URL`http://hg.python.org/cpython/file/*major*.*minor*/Lib/site.py`用于正确的标记版本，然后选择`raw`左侧菜单中的链接。

如果您从 Ubuntu 或 Debian 上的 linux 分发包安装了 python，则此文件已被自定义，您需要重新安装适当的 python-minimal 包。

# android - 无法在 Android 中获取 RadioButton onchecked() 的结果

> ID：11410795
> 
> 赞同：0
> 
> 时间：2012-07-10T09:56:18.903
> 
> 标签：android, radio-button, ischecked

我无法返回值。*单击同意*按钮时应用程序强制关闭。我无法从 i_am.isChecked() 获取所有其他单选按钮的值。

```
protected void onCreate(Bundle savedInstanceState) {
    final RadioButton i_am,practic,read_terms;
    i_am=(RadioButton)findViewById(R.id.first);
    practice=(RadioButton)findViewById(R.id.second);
    read_terms=(RadioButton)findViewById(R.id.third);

    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.termandconditionxml);

    Button agree_button=(Button)findViewById(R.id.Agree);
    agree_button.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            if(checker()) {
                Toast.makeText(getApplicationContext(), "done all cliked",Toast.LENGTH_LONG).show();
            }
            else {
// TODO Auto-generated method stub
                new AlertDialog.Builder(Termsandcondition.this)
                .setTitle("Error")
                .setMessage("Please verify ")
                .setPositiveButton("OK",null).show();

            }
        }

        private boolean checker() {
            // TODO Auto-generated method stub
            System.out.println("iamanhcp"+i_am.isChecked());
            if(i_am.isChecked()) {
                System.out.println("iahcp"+i_am.isChecked());
                if(practice.isChecked()) {  
                    System.out.println("iama"+practice.isChecked());    
                    if(read_terms.isChecked()) {    
                        System.out.println("iama"+read_terms.isChecked());
                        return true;    
                    }
                }
            }

            return false;
        }

    });
}//oncreate end 
```

==============================

```
07-05 15:36:14.301: W/dalvikvm(1702): threadid=1: thread exiting with uncaught exception (group=0x40014760)
07-05 15:36:14.332: E/AndroidRuntime(1702): FATAL EXCEPTION: main
07-05 15:36:14.332: E/AndroidRuntime(1702): java.lang.NullPointerException
07-05 15:36:14.332: E/AndroidRuntime(1702):     at com.andoid.Termsandcondition$1.checker(Termsandcondition.java:53)
07-05 15:36:14.332: E/AndroidRuntime(1702):     at com.andoid.Termsandcondition$1.onClick(Termsandcondition.java:36)
07-05 15:36:14.332: E/AndroidRuntime(1702):     at android.view.View.performClick(View.java:3110)
07-05 15:36:14.332: E/AndroidRuntime(1702):     at android.view.View$PerformClick.run(View.java:11934)
07-05 15:36:14.332: E/AndroidRuntime(1702):     at android.os.Handler.handleCallback(Handler.java:587)
07-05 15:36:14.332: E/AndroidRuntime(1702):     at android.os.Handler.dispatchMessage(Handler.java:92)
07-05 15:36:14.332: E/AndroidRuntime(1702):     at android.os.Looper.loop(Looper.java:132)
07-05 15:36:14.332: E/AndroidRuntime(1702):     at android.app.ActivityThread.main(ActivityThread.java:4123)
07-05 15:36:14.332: E/AndroidRuntime(1702):     at java.lang.reflect.Method.invokeNative(Native Method)
07-05 15:36:14.332: E/AndroidRuntime(1702):     at java.lang.reflect.Method.invoke(Method.java:491)
07-05 15:36:14.332: E/AndroidRuntime(1702):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841)
07-05 15:36:14.332: E/AndroidRuntime(1702):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599)
07-05 15:36:14.332: E/AndroidRuntime(1702):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:05:03.643

可能是因为你`getApplicationContext`在你的`Toast`. 改为使用`this`。要从您`RadioButton`的 s 中获取值，请使用`OnCheckedChangeListener`.

```
 Toast.makeText(this, "done all cliked",Toast.LENGTH_LONG).show(); 
```

和

```
 i_am.setOnCheckedChangeListener(this); 
```

希望这对您有所帮助。

# python - 关闭上/右轴刻度线

> ID：11410796
> 
> 赞同：17
> 
> 时间：2012-07-10T09:56:20.720
> 
> 标签：python, matplotlib

我想让右侧和上轴上的刻度不可见，并且不确定第三行应该是什么：

```
import matplotlib.pyplot as plt
plt.plot(X,Y)
#plt.upper_right_axis_ticks_off() 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-07-10T15:55:37.197

`ax.xaxis.set_ticks_position`正如@imsc 所指出的，您可以通过使用and方法将刻度的位置设置为底部和左侧（如果您不希望它们位于顶部和右侧）来调整刻度线的可见性 `ax.yaxis.set_ticks_position`。

如果您还想将轴本身设置为不可见，请查看[matplotlib.spines](http://matplotlib.sourceforge.net/api/spines_api.html?highlight=spines#matplotlib.spines)类。您只需`none`使用该`ax.spines[spine].set_color`方法设置刺的颜色。

如果您有很多图表要显示，并且不想每次都手动关闭轴/刻度线，那么下面的功能将为您完成这项工作。

基本上，您为每个轴定义所需的颜色（在这种情况下`none`将使其不可见），并且该函数还将“关闭”所有轴不可见的刻度线。我还添加了用于定义`linewidth`轴线的选项，以及刻度标签的 以及刻度标签`fontsize`和`pad`刻度之间的 。

```
def customaxis(ax, c_left='k', c_bottom='k', c_right='none', c_top='none',
               lw=3, size=12, pad=8):

    for c_spine, spine in zip([c_left, c_bottom, c_right, c_top],
                              ['left', 'bottom', 'right', 'top']):
        if c_spine != 'none':
            ax.spines[spine].set_color(c_spine)
            ax.spines[spine].set_linewidth(lw)
        else:
            ax.spines[spine].set_color('none')
    if (c_bottom == 'none') & (c_top == 'none'): # no bottom and no top
        ax.xaxis.set_ticks_position('none')
    elif (c_bottom != 'none') & (c_top != 'none'): # bottom and top
        ax.tick_params(axis='x', direction='out', width=lw, length=7,
                      color=c_bottom, labelsize=size, pad=pad)
    elif (c_bottom != 'none') & (c_top == 'none'): # bottom but not top
        ax.xaxis.set_ticks_position('bottom')
        ax.tick_params(axis='x', direction='out', width=lw, length=7,
                       color=c_bottom, labelsize=size, pad=pad)
    elif (c_bottom == 'none') & (c_top != 'none'): # no bottom but top
        ax.xaxis.set_ticks_position('top')
        ax.tick_params(axis='x', direction='out', width=lw, length=7,
                       color=c_top, labelsize=size, pad=pad)
    if (c_left == 'none') & (c_right == 'none'): # no left and no right
        ax.yaxis.set_ticks_position('none')
    elif (c_left != 'none') & (c_right != 'none'): # left and right
        ax.tick_params(axis='y', direction='out', width=lw, length=7,
                       color=c_left, labelsize=size, pad=pad)
    elif (c_left != 'none') & (c_right == 'none'): # left but not right
        ax.yaxis.set_ticks_position('left')
        ax.tick_params(axis='y', direction='out', width=lw, length=7,
                       color=c_left, labelsize=size, pad=pad)
    elif (c_left == 'none') & (c_right != 'none'): # no left but right
        ax.yaxis.set_ticks_position('right')
        ax.tick_params(axis='y', direction='out', width=lw, length=7,
                       color=c_right, labelsize=size, pad=pad) 
```

以下是如何使用它的示例：

```
import numpy as np
import matplotlib.pyplot as plt

fig, ([ax1, ax2], [ax3, ax4]) = plt.subplots(nrows=2, ncols=2)

for ax in [ax1, ax2, ax3, ax4]:
    ax.plot(np.random.randn(10), lw=2)

customaxis(ax1) #default: no right and top axis
customaxis(ax2, c_left='none', c_bottom='none', c_right='k', c_top='k')
customaxis(ax3, c_left='none', c_bottom='k', c_right='k', c_top='none')
customaxis(ax4, c_left='k', c_bottom='none', c_right='none', c_top='k')

plt.show() 
```

![刺](../Images/c5472b15f04c5928ea965c1b7f3adcb9.png)

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-07-10T10:43:17.383

看看[http://matplotlib.sourceforge.net/examples/pylab_examples/spine_placement_demo.html](http://matplotlib.sourceforge.net/examples/pylab_examples/spine_placement_demo.html)

```
import pylab as p
t = p.arange(0.0, 2.0, 0.01)
ax=p.subplot(111)
s = p.sin(2*p.pi*t)
ax.plot(t, s, color='r',linewidth=1.0)
ax.xaxis.set_ticks_position('bottom')
ax.yaxis.set_ticks_position('left')
p.show() 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-07-10T10:40:24.390

`tick_params`应该这样做。

我当前的计算机上没有安装 matplotlib，因此无法对其进行测试，但这应该可以：

```
import matplotlib.pyplot as plt

ax = plt.subplot(111)
plt.plot([0,1], [0,1])
ax.tick_params(labeltop='off', labelright='off')
plt.show() 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2017-12-26T06:41:13.817

```
plt.tick_params(top='off', right='off', which='both') 
```

我在 matplotlib 2.0 中使用上面的代码用 'on' 而不是 'off' 来显示顶部和右侧的刻度线以及默认的 'bottom' 和 'left'

# c - 查找出租车号码

> ID：11410798
> 
> 赞同：14
> 
> 时间：2012-07-10T09:56:30.353
> 
> 标签：c, algorithm, numbers, hardy-ramanujan

找到第一个`n`出租车号码。给定一个值`n`。我想找到前 n 个出租车号码。出租车是一个可以用不止一种方式表示为两个完美立方体之和的数字。

> （请注意，有两个**相关但不同** [的](http://oeis.org/A011541)集合称为“出租车号码”：[2 个多维数据集 的](http://oeis.org/A001235)**总和，以及 2[**个**](http://oeis.org/A001235)[正整数立方的总和的最小数字**`n`**](http://oeis.org/A011541)。这个问题是关于前一组，因为后一组只有前六个成员已知）**

 **例如：

```
1^3 + 12^3 = 1729 = 9^3 + 10^3 
```

我想大致了解一下算法或如何解决问题的 C 代码片段。

```
The first five of these are:

   I    J      K    L      Number 
---------------------------------
   1   12      9   10      1729       
   2   16      9   15      4104      
   2   24     18   20     13832       
  10   27     19   24     20683      
   4   32     18   30     32832 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2014-03-07T04:49:42.167

下面是用于打印 N ramanujan 数字的更好的 Java 代码，因为它的时间复杂度更低。因为，它只有一个 for 循环。

```
import java.util.*;
public class SolutionRamanujan 
{
    public static void main(String args[] ) throws Exception 
    {
        SolutionRamanujan s=new SolutionRamanujan();
        Scanner scan=new Scanner(System.in);
        int n=scan.nextInt();
        int i=0,k=1;
        while(i<n){
            if(s.checkRamanujan(k))
            {
                i=i+1;
                System.out.println(i+" th ramanujan number is "+k);
            }
            k++;
        }
        scan.close();
    }
    //checking whether a number is ramanujan number
    public boolean checkRamanujan(int a)
    {   
        int count=0;
        int cbrt=(int)Math.cbrt(a);
        //numbers only below and equal to cube th root of number
        for(int i=1;i<=cbrt;i++)
        {
            int difference=a-(i*i*i);
            int a1=(int) Math.cbrt(difference);                //checking whether the difference is perfect cube 

            if(a1==Math.cbrt(difference)){
                count=count+1;
            }
            if(count>2){            //checking if two such pairs exists i.e. (a*a*a)+(b*b*b)=(c*c*c)+(d*d*d)=number
                return true;
            }
        }
        return false;
    }
} 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-07-14T08:39:38.010

我发现可以通过以下方式获得答案：

```
#include<stdio.h>

int main() {
    int n, i, count=0, j, k, int_count;
    printf("Enter the number of values needed: ");
    scanf("%d", &n);
    i = 1;
    while(count < n) {
       int_count = 0;
       for (j=1; j<=pow(i, 1.0/3); j++) {
          for(k=j+1; k<=pow(i,1.0/3); k++) {
              if(j*j*j+k*k*k == i)
              int_count++;
          }
       }
       if(int_count == 2) {
          count++;
          printf("\nGot %d Hardy-Ramanujan numbers %d", count, i);  
       }
       i++;
    }
} 
```

既然`a^3+b^3 = n`，`a`应该小于`n^(1/3)`。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-10T10:41:19.770

**编辑**：对于那些不知道 R 是什么的人，这里有一个[链接](http://www.r-project.org/)。

我的 C 有点生疏……我会用 R 写一个解决方案，应该不难适应。该解决方案在 R 中运行得非常快，因此在 C 中应该更快。

```
# Create an hash table of cubes from 1 to 100

numbers <- 1:100
cubes <- numbers ^ 3

# The possible pairs of numbers
pairs <- combn(numbers, 2)

# Now sum the cubes of the combinations
# This takes every couple and sums the values of the cubes
# with the appropriate index 
sums <- apply(pairs, 2, function(x){sum(cubes[x])}) 
```

所以：

`numbers`将是：`1, 2, 3, 4, ..., 98, 99, 100`
`cubes`将是：`1, 8, 27, 64, ..., 941192, 970299, 1000000`
`pairs`将包含：

```
 [,1] [,2] [,3] [,4] [,5] ... [,4949] [,4950]
[1,]    1    1    1    1    1 ...      98      99
[2,]    2    3    4    5    6 ...     100     100 
```

`sums`将会：`9 28 65 126 217 344 ... 1911491 1941192 1970299`

快速检查我们是否在正确的轨道上......

```
> which(sums == 1729)
[1]  11 765  <--- the ids of the couples summing to 1729
> pairs[,11]
[1]  1 12
> pairs[,765]
[1]  9 10 
```

现在，让我们找出哪些是总和相同的夫妇。

`table(sums)`给我们一个简洁的总结，比如

```
> 9 28 35 65 72 91 ...                        1674 1729 1736    
  1  1  1  1  1  1 .... <lots of 1s here> ...    1    2    1 
```

所以我们只需要找出哪些元素`table(sums)`是 == 2

```
doubles <- which(table(sums) == 2)

taxi.numbers <- as.integer(names(doubles))
 [1]    1729    4104   13832   20683   32832   39312   40033   46683   64232   65728
[11]  110656  110808  134379  149389  165464  171288  195841  216027  216125  262656
[21]  314496  320264  327763  373464  402597  439101  443889  513000  513856  515375
[31]  525824  558441  593047  684019  704977  805688  842751  885248  886464  920673
[41]  955016  984067  994688 1009736 1016496 
```

最后（两两读取）对应的整数对

```
> pairs[,doubles]
     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13] [,14] [,15]
[1,]    1    9    2    9    2   18   10   19    4    18     2    15     9    16     3
[2,]   12   10   16   15   24   20   27   24   32    30    34    33    34    33    36
     [,16] [,17] [,18] [,19] [,20] [,21] [,22] [,23] [,24] [,25] [,26] [,27] [,28] [,29]
[1,]    27    17    26    12    31     4    36     6    27    12    38     8    29    20
[2,]    30    39    36    40    33    48    40    48    45    51    43    53    50    54
     [,30] [,31] [,32] [,33] [,34] [,35] [,36] [,37] [,38] [,39] [,40] [,41] [,42] [,43]
[1,]    38    17    24     9    22     3    22     5    45     8    36     4    30    18
[2,]    48    55    54    58    57    60    59    60    50    64    60    68    66    68
     [,44] [,45] [,46] [,47] [,48] [,49] [,50] [,51] [,52] [,53] [,54] [,55] [,56] [,57]
[1,]    32    30    51     6    54    42    56     5    48    17    38    10    45    34
[2,]    66    67    58    72    60    69    61    76    69    76    73    80    75    78
     [,58] [,59] [,60] [,61] [,62] [,63] [,64] [,65] [,66] [,67] [,68] [,69] [,70] [,71]
[1,]    52    15    54    24    62    30    57     7    63    51    64     2    41    11
[2,]    72    80    71    80    66    81    72    84    70    82    75    89    86    93
     [,72] [,73] [,74] [,75] [,76] [,77] [,78] [,79] [,80] [,81] [,82] [,83] [,84] [,85]
[1,]    30    23    63     8    72    12    54    20    33    24    63    35    59    29
[2,]    92    94    84    96    80    96    90    97    96    98    89    98    92    99
     [,86] [,87] [,88] [,89] [,90]
[1,]    60    50    59    47    66
[2,]    92    96    93    97    90 
```

所以：

1,12 和 9,10 给 1729
2,16 和 9,15 给 4104
2,24 和 18,20 给 13832
等等！

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-07-10T10:58:41.643

快速而幼稚的算法（如果我正确理解了问题）：

让我们计算从 1 到 N 的所有原生整数的立方；然后计算两个立方体的所有总和。这些和可以存储在三角矩阵中；避免填充整个方阵。最后，在你的三角矩阵中找到非唯一元素，这些就是 HR 数字（如果你让我这样称呼我们想要计算的数字）。此外，通过在保留原始索引的同时对数组进行排序，您可以轻松推断出这样一个数字的分解。

我的解决方案有一个小缺陷：我不知道如何根据您的输入 n 来修复 N，即我必须计算多少个立方体才能获得至少 n 个 HR 数字？留下有趣的问题。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-01-21T16:38:12.800

比上面的 Nikhitha Reddy 更好的算法。我们不必同时检查 (i,j) 和 (j,i) 。

这是Java代码。

```
import java.util.*;

public class efficientRamanujan{

public static void main(String[] args) {
    efficientRamanujan s=new efficientRamanujan();
        Scanner scan=new Scanner(System.in);
        int n=scan.nextInt();
        int i=0,k=1;
        while(i<n){
           if(s.efficientRamanujan(k))
        {
            i=i+1;
            System.out.println(i+" th ramanujan number is "+k);
        }
        k++;
    }
    scan.close();
   }

public boolean efficientRamanujan(int n){
    int count=0;

    int x = 1;
    int y = (int) Math.cbrt(n);

    while (x<y){

        int sum = (int) Math.pow(x,3) + (int) Math.pow(y,3);
        if(sum<n){
           x = x+1;
        }else if(sum>n){
           y = y-1;
        }else{
           count++;
           x = x+1;
           y = y-1;
    }

    if(count>=2){
        return true;
    }
}

return false;
}

  } 
```

参考： [博客](http://programmingpraxis.com/2012/11/09/taxicab-numbers/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-03-04T16:02:22.357

此解决方案（在 python 中）以自下而上的方法生成第一个 n 出租车号码。时间复杂度为 m^2，其中 m 是生成 n 个数字的最高数字。

```
def generate_taxi_cab_numbers(n):
    generated_number = 0
    v = {}
    c = {}
    i = 0
    while generated_number < n:
        c[i] = i*i*i
        for j in xrange(i):
            s = c[j] + c[i]
            if s in v:
                generated_number = generated_number + 1
                yield (s, (j, i), v[s])
            v[s] = (j,i)
        i = i + 1

def m(n):
    for x in generate_taxi_cab_numbers(n):
       print x 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-05-24T03:05:58.587

用 Python 编写解决方案有两种方法：动态编程和蛮力。

```
def ramanujanDynamicProgramming(n):
    numbers = []
    Ds = dict()

    # Init List
    for d in xrange(0, n ** 3):
        Ds[d] = False

    # Fill list
    for d in xrange(0, n):
        Ds[d**3] = d

    for a in xrange(0, n):
        for b in xrange(0, n):
            for c in xrange(0, n):

                if a != b and a != c and b != c:
                    d = a ** 3 + b ** 3 - c ** 3

                    if a != d and b != d and c != d and d >= 0 and d < n ** 3:
                        if Ds[d] != False:
                            numbers.append((a, b, c, Ds[d]))

        return numbers 
print "Dynamic Programming"
print ramanujanDynamicProgramming(n) 
```

DP 方法只需要 O(n^3)。

```
def ramanujanBruteForce(n):
    numbers = []
    for a in xrange(0, n):
        for b in xrange(0, n):
            for c in xrange(0, n):
                for d in xrange(0, n):
                    if a != b and a != c and a != d and b != c and b != d and c != d:
                        if a ** 3 + b ** 3 == c ** 3 + d ** 3:
                            numbers.append((a, b, c, d))

        return numbers
print "Brute Force"
print ramanujanBruteForce(n) 
```

BF 方法是 BF 是 O(n^4)。**

# java - 具有自定义距离的层次聚类

> ID：11410803
> 
> 赞同：1
> 
> 时间：2012-07-10T09:56:58.357
> 
> 标签：java, cluster-analysis, weka

我需要实现基于自定义距离的层次聚类算法。通过在数据库中查找与正在比较的对象的两个 id 关联的值来计算距离。有没有一种简单的方法可以在 Java 中做到这一点？我查看了 Weka 及其自定义距离函数，但我找不到定义实例的方法，因此当我在自定义距离函数中时，我可以获得两个原始对象的 ID。

任何帮助将不胜感激提前非常感谢罗塞拉

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:06:26.463

你可以看看 Apache Mahout。这是一个链接[Mahout Hierarchical clustering](https://cwiki.apache.org/MAHOUT/top-down-clustering.html)

该工具是用 Java 及其开源编写的。

# css - CSS 网格问题

> ID：11410809
> 
> 赞同：1
> 
> 时间：2012-07-10T09:57:17.570
> 
> 标签：css, less

这是代码示例：http: [//jsfiddle.net/gubvw/3/](http://jsfiddle.net/gubvw/3/)

如果您通过在测试窗口中拖动 sizer 来缓慢更改屏幕大小，您会看到数字列分散。

![列散射](../Images/3e5642f986da497c2c01e39a5f6000d8.png)

我能做些什么来解决这个问题？

**更新：**这是为 FLUID CSS GRID 系统制作 webapps 布局的。我不想得到桌子。该示例用于在调整大小和其他维度上测试此网格。

我认为问题出在浏览器中，它将 .cx1 计算为 55+43px 并将其四舍五入为像素，
而 .cx5 计算为 449+43px 而不是注意到 .cx1 舍入为 55px。

***专为 Dexter Huinda 设计的：***
有 100% 的宽度吗？和 12 列，右边距为 3.8%（最后一个除外）。

```
So for cx1 = (1*(100+3.8))/12-3.8 = 4.85%
for cx2 = 4.85*2+3.8 = 13.5%
for cx3 = 4.85*3+3.8*2 = 22.15%
and so on.
The main formula to calculate any column width from 1 to 12 is
       (a*(100+b))/12-b (where a = number of spanned columns and b is margin) 
```

有什么数学问题吗？

问题是为什么：`width(4.85%+3.8%+4.85%+3.8%+4.85%) <> width(22.15%)`

因此，如果您无需解释，请在任何 .cx 宽度中查找错误。你可以吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:10:49.563

您应该使用可以在 css 文件中提供的具有固定宽度的 div，或者您可以通过 table.xml 来制作它。实际上，您的 div 没有正确拧紧在一起。这是主要原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:11:20.027

我认为您的方法可以进行一些重新思考。

如果您需要对齐列，请使用表格或使用固定宽度的 div。您正在使用类，所以为什么不通过类应用固定宽度，而不是那里的百分比宽度。

结合使用固定宽度的字体也可以产生预期的效果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-11T09:14:42.807

解决方案在这里：http: [//jsfiddle.net/NwkPz/](http://jsfiddle.net/NwkPz/)。
感谢 Vasiliy Aksyonov（Web 标准日）和 Vadim Makeev（Opera 软件）
![是的](../Images/c7be1e2a2a1de9e326c6978e526ad916.png)

))

# qt - QDatastream 从 unsigned char* 缓冲区写入数据

> ID：11410812
> 
> 赞同：2
> 
> 时间：2012-07-10T09:57:25.060
> 
> 标签：qt

如何将 unsigned char* 缓冲区中的数据写入 QDatastream。有 writeBytes 和 writeRawData 方法。但他们接受 const char*。我可以使用 unsigned char* 吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T10:09:01.757

你可以投到`const char*`

```
unsigned char array[] =  {1,2,3,4,5};
QByteArray ba;
QDataStream datastream(&ba,QIODevice::ReadWrite);
datastream.writeRawData((const char*) array,5); 
```

# ruby-on-rails - 使用 Rails 跟踪更改 - “更改了吗？”

> ID：11410815
> 
> 赞同：0
> 
> 时间：2012-07-10T09:57:29.130
> 
> 标签：ruby-on-rails, internationalization

我正在使用 ruby​​ on rails 构建一个多语言网站，其中部分内容应该是用户生成的，并且他们应该能够为所有语言创建不同版本的内容。语言支持由 i18n gem 处理。

他们的部分内容是通过[http://daringfireball.net/projects/markdown/basics](http://daringfireball.net/projects/markdown/basics)使用 Markdown 创建的。

在我的数据库中，我为不同的语言环境保存：object.content_markdown_en、object.content_html_en、object.content_markdown_sv、object.content_html_sv 等等。

现在，如果用户更改内容，则应该生成新的 html。但是，如果他只对其中一种语言进行更改，似乎没有必要为所有语言环境重新生成 html。

我认为可能有一些方法可以使用类似的东西

```
if object.content_markdown_[locale]_changed?
  generate_new_html
end 
```

可以在所有可能的语言环境中循环运行。但我找不到任何好的方法来做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T10:38:03.453

怎么样：

```
[:en, :sv].each do |locale|
    if object.send("content_markdown_#{ locale }_changed?".to_sym)
        send("generate_new_#{ locale }_html".to_sym)
    end
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:37:54.057

您可以使用[`send`](http://ruby-doc.org/core-1.9.3/Object.html#method-i-send)按名称调用方法：

```
object.send("content_markdown_#{locale}_changed?".to_sym) 
```

您的循环将如下所示：

```
%w(en sv).each { |locale|
  if object.send("content_markdown_#{locale}_changed?".to_sym)
    generate_new_html
  end
} 
```

但是，使用单独的转换表可能是更好的方法。

# c# - System.data.services.client 在 Metro 风格应用程序中不适用？

> ID：11410820
> 
> 赞同：0
> 
> 时间：2012-07-10T09:58:02.407
> 
> 标签：c#, .net, microsoft-metro

我希望添加 BingSearchContainer（来自[http://datamarket.azure.com/](http://datamarket.azure.com/)）并且我需要添加 system.data.services.client 命名空间，但是即使我可以看到它出现在 Metro 风格应用程序的 .NET 中参考如果我在 objectbrowser 中检查它的存在，我根本无法添加它。有没有人有类似的经历？

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T03:33:26.830

我尝试了 BingSearchContainer，发现它对我来说太黑了。尝试使用轻量级 RESTful web 服务包装器连接到 bing 搜索，`RestSharp`而不是简单地处理这个问题——这是一个使用带有 Bing API 的 RestSharp 进行图像搜索的示例：

```
var client = new RestClient("https://api.datamarket.azure.com/Data.ashx/Bing/Search/v1/");
client.Authenticator = new HttpBasicAuthenticator(_key, _key); //_key is your unencrypted marketplace api key

var request = new RestRequest(String.Format("Image?Query='{0}'&Market='en-US'&Adult='Strict'&ImageFilters='Size:Small'&$top={1}&$skip={2}", query, rpp, page * rpp), Method.GET);

var json = client.Execute(request).Content; 
```

如果要将 json 反序列化为强类型类，请使用JSON 开源库`JsonConvert.Deserialize<T>(string json)`中提供的方法。`NewtonSoft`

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T21:42:36.100

我记得当我开始开发它时，我不得不为我的项目做类似的事情。但是，从那以后我更新了我的 Windows 8 和 VS 2012 安装。现在，当我转到“添加引用”时，我看不到为我的 Metro 应用程序添加或删除任何引用的选项。是否需要添加服务参考？也许这将解决问题。

# jquery - 为什么 HoverIntent 不起作用？

> ID：11410827
> 
> 赞同：1
> 
> 时间：2012-07-10T09:58:13.927
> 
> 标签：jquery, drop-down-menu, hover, hoverintent

我正在尝试制作一个下拉菜单，但是 hoverIntent 指令存在一些问题。

Javascript代码：

```
$('li.dropdown').hoverIntent(
    function() {
        $(this).find('ul.submenu').slideDown();
    },
    function() {
        $(this).find('ul.submenu').slideUp();
    }
); 
```

HTML 代码：

```
<div id="div_menu">    
      <ul class="menu"> 
           <li class="leaf"><a href="#" style="color:#2154A3;">Inici</a></li> 
           <li class="dropdown"> 
                <a href="#">Facultats</a> 
                <ul class="submenu">
                    <li style="margin:3px; border:none;"></li>
                    <li><a href="#">IQS</a></li> 
                    <li><a href="#">UIC</a></li> 
                    <li><a href="#">UPF</a></li> 
                    <li><a href="#">ESCI</a></li>
                </ul>
           </li> 
           <li class="leaf"><a href="./instalaciones.html">Instal·lacions</a></li> 
           <li><a href="">Contacte</a></li>  
     </ul>
</div> 
```

CSS 代码：

```
.leaf {
    border-right: solid 1px #333;
}

.dropdown {
    border-right: solid 1px #333;
} 
```

使用悬停功能它可以正常工作，但是如果我将鼠标放在“li”上，它会正确滑动，但如果之后我将鼠标移出并再次进入并再次离开，它将保持上下滑动。看起来如果有一个堆栈添加它发生的每个事件！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:27:35.943

正如[http://api.jquery.com/hover/](http://api.jquery.com/hover/)示例中所建议的那样，您可以使用 jQuery`stop()`来确保不会执行您不想要的额外动画。

```
$('ul.submenu').slideUp(); /* Hide your menu when the page gets loaded */

$('li.dropdown').hover(
    function() {
       $('ul.submenu').stop(true, false).slideToggle();
    }
); 
```

第一个参数 (true) 清除队列，第二个参数 (false) 立即停止当前动画。

# java - 带有虚拟主机的 Tomcat 管理器

> ID：11410830
> 
> 赞同：0
> 
> 时间：2012-07-10T09:58:20.443
> 
> 标签：java, tomcat, hosts

我在 Tomcat 的三个不同域下运行了三个 Web 服务。我的 server.xml 中有四个主机条目：

1.  本地主机
2.  Webservice1.com
3.  Webservice2.com
4.  Webservice3.com

目前我只能在 localhost 上访问 Tomcat Web Application Manager。如何让 Web 应用程序管理器在其他三台主机上运行。

塔里克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-02T18:35:32.763

你检查过你的日志文件吗？

此外，请确保您有其他三个服务的主机条目（即在您的主机文件中）。

你用的是什么版本的Tomcat？

最后，你检查过这里吗？

[http://tomcat.apache.org/tomcat-6.0-doc/virtual-hosting-howto.html#Webapps_Directory](http://tomcat.apache.org/tomcat-6.0-doc/virtual-hosting-howto.html#Webapps_Directory)

# c# - 反转一个 SPlist

> ID：11410831
> 
> 赞同：1
> 
> 时间：2012-07-10T09:58:20.227
> 
> 标签：c#, sharepoint

我需要以相反的顺序从列表中提取项目（从最后一个条目到第一个条目）。我设法得到了所有的物品，但是，从第一个到最后一个。这是我正在使用的部分代码：

该列表位于不同的网站集中。

```
 using (SPSite oSite = new SPSite("urltolist"))
        {

            using (SPWeb oWeb = oSite.RootWeb)
            {
                SPList FItem = oWeb.Lists["List"];

                foreach (SPListItem item in FItem.Items)             
                {
                 //Display entries
                }
             }
       } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T10:02:47.760

获取`SPListItemCollection`, 然后反向遍历它：

```
var itemCollection = FItem.Items;
for(int i = itemCollection.Count - 1; i >= 0; i--)
{
    var item = itemCollection[i];
    //Display entries
} 
```

如果你只是迭代`FItem.Items`（即`FItem.Items[i]`重复调用）你最终会重复查询列表，所以不要这样做。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T10:03:04.917

在这种情况下，您不需要处理 RootWeb。

```
using(var site = new SPSite("urltolist"))
{
    var list = site.RootWeb.Lists["List"];
    foreach(var li in list.Items.Cast<SPListItem>().Reverse().ToList())
    {
        // Display entries
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T15:14:07.303

您需要问的问题是项目的开始顺序 - 您这样做的方式，它们将按 ID 排序（类似于创建时间）。如果您想以另一种方式对它们进行排序，请使用带有 OrderBy 子句的 SPQuery 来检索列表项。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-10T15:19:59.053

这也可以通过 CAML 查询来完成。您需要退回所有物品吗？如果您可以限制查询，则可以使用 CAML 节点。

# android - Android SDK：媒体播放器 - 从 HTTP url 加载视频流

> ID：11410834
> 
> 赞同：4
> 
> 时间：2012-07-10T09:58:35.727
> 
> 标签：android, android-mediaplayer, android-video-player

我有一个带有以下代码的 MediaPlayerActivity： 此代码基本上尝试从 http url 获取视频流并加载它，但由于某种原因它不断崩溃。

```
public class MediaPlayerActivity extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        this.setContentView(R.layout.video_player);
        SurfaceView v = (SurfaceView) findViewById(R.id.surface_video); 
        SurfaceHolder holder = v.getHolder(); 
        holder.setFixedSize(400,300); 

        MediaPlayer mp = MediaPlayer.create(this, Uri.parse("http://stream-url.com/playlist.m3u8")); 
        mp.setDisplay(holder);
        //mp.setAudioStreamType(2); 
        try {
            //mp.prepare();
            mp.start();
        } catch (IllegalStateException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

    }

} 
```

视频播放器.xml：

```
<?xml version="1.0" encoding="utf-8"?> 
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" 
android:orientation="vertical" 
android:layout_width="fill_parent" 
android:layout_height="fill_parent" 
> 
<SurfaceView android:id="@+id/surface_video" 
android:layout_width="250px" 
android:layout_height="250px"> 
</SurfaceView> 
<LinearLayout 
android:orientation="horizontal" 
android:layout_height="wrap_content" 
android:layout_width="fill_parent" 
android:padding="10dip" 
> 
</LinearLayout> 
</LinearLayout> 
```

当我使用以下代码进行此活动时，它会崩溃：

```
Intent myIntent = new Intent(HomeActivity.this, MediaPlayerActivity.class);
                    HomeActivity.this.startActivity(myIntent); 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-10T10:22:15.027

没有日志，有两个建议：

1.  尝试实施`SurfaceHolder.Callback.surfaceCreated()`.
2.  尝试使用`MediaPlayer.create()`接受`SurfaceHolder`

## (1) 详情

当您调用`start()`. 您应该使用SurfaceHolder.Callback.surfaceCreated()` `MediaPlayer.setDisplay()`。`MediaPlayer.start() only after surface is created. To do this, you should add override`例如，您的代码可能如下所示。

```
public class MediaPlayerActivity extends Activity implements SurfaceHolder.Callback {
    MediaPlayer mp; 

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        this.setContentView(R.layout.video_player);
        SurfaceView v = (SurfaceView) findViewById(R.id.surface_video); 
        SurfaceHolder holder = v.getHolder(); 
        holder.setFixedSize(400,300);
        holder.addCallback(this). 

        mp = MediaPlayer.create(this, Uri.parse("http://stream-url.com/playlist.m3u8")); 

    @Override
    public void surfaceCreated(SurfaceHolder holder) {

        mp.setDisplay(holder); 
        try {
            mp.start();
        } catch (IllegalStateException e) {
            e.printStackTrace();
        }
    }
} 
```

## (2) 详情

似乎还有其他`MediaPlayer.create()`接受`SurfaceHolder`作为参数之一 - 你可以尝试一下：`http://developer.android.com/reference/android/media/MediaPlayer.html#create(android.content.Context, android.net.Uri, android.view.SurfaceHolder)`

# jquery - jQuery - 遍历数据存储对象

> ID：11410836
> 
> 赞同：0
> 
> 时间：2012-07-10T09:58:38.910
> 
> 标签：jquery

在尝试迭代使用 jQuery 数据函数存储的对象的属性时，我遇到了一些非常奇怪的事情。

这是事情（例如）：

```
wrapper.data( 'infos', {
    label: $('input[name*="label"]').val(),
    amount: $('input[name*="amount"]').val(),
    etc..
}); 
```

然后我尝试使用以下方法读取值：

```
$.each( wrapper.data('infos'), function(k,v) {
  console.log(k + ' > ' + v);
}); 
```

我得到了一个漂亮的输出，比如：

```
0 > undefined
1 > undefined
... 
239 > undefined 
```

如果我像输出这个对象一样，我可以毫无困难地读取属性。它与jquery缓存或其他什么有关吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:26:03.730

因为您的对象有一个`length`属性，所以它作为一个数组被插入，至少在 1.7.2 中，它是否是一个数组是通过以下方式确定的：

```
length = obj.length,            
isObj = length === undefined || jQuery.isFunction( obj ); 
```

所以你应该要么；

1.  将您的`length`财产称为其他名称
2.  请改用`for / in`循环。

    ```
    var data = wrapper.data('infos')

    for (var x in data) {
        if (data.hasOwnProperty(x)) { // omit properties from the prototype chain
            console.log(x + ' > ' + data[x]);
        }
    } 
    ```

# javascript - 如何使用 Javascript 进行分页？

> ID：11410839
> 
> 赞同：-2
> 
> 时间：2012-07-10T09:58:49.057
> 
> 标签：javascript, html

我正在为某个站点开发分页，我需要使用 Ajax 进行页面更改，因此我需要使用“ `<a>`”标签打印指向“1”、“2”、“3”页面的链接。我知道我需要为单击此链接添加 Javascript 事件处理程序，但我不需要该用户通过链接访问，我只需要 "1","2","3" 看起来像链接。我应该怎么办？有没有办法让数字看起来像链接？以及如何为单击链接添加 Javascript 事件处理程序？先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T12:40:41.937

而不是插入标签，只需插入`<span>`标签。
给他们一个特定的类，然后用 javascript 处理点击。

您的 html 代码可能如下所示：

```
<span class="my_link">1</span> <span class="my_link">2</span> <span class="my_link">3</span> 
```

在您的 css 中，您可以使用以下规则将链接样式的手插入悬停：

```
.my-link { cursor: pointer } 
```

然后，使用 JS 和 jQuery，处理点击

```
<script type="text/javascript">
  $('.my-link').click(function(){ #your stuff...  });
</script> 
```

# java - 将字符串转换为日期并格式化日期

> ID：11410844
> 
> 赞同：0
> 
> 时间：2012-07-10T09:58:56.697
> 
> 标签：java, android, date

我有包含日期​​的字符串变量。现在如何从该字符串变量中显示 7 月 15 日？（例如 2012-07-15）

```
String strdate = "2012-07-15";
SimpleDateFormat formatter = new SimpleDateFormat("yyyy-MMM-dd");
try {
    d1 = formatter.parse(strdate);
    System.out.println(d1 + "---date first---");
} catch (ParseException e) {
    e.printStackTrace();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:00:58.117

您的解析模板与您的示例不匹配：

```
SimpleDateFormat formatter = new SimpleDateFormat("yyyy-MM-dd"); 
```

（用`MM`而不是`MMM`）。

要输出 7 月 15 日，您可以使用第二个格式化程序：

```
SimpleDateFormat output = new SimpleDateFormat("MMMM dd");
System.out.println(output.format(d1)); //July 15 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T10:10:49.740

就像是，

```
try {
  String strdate = "2012-07-15";
  DateFormat df1 = new SimpleDateFormat("yyyy-MM-dd"");
  DateFormat df2 = new SimpleDateFormat("MMMM dd");
  System.out.println(df2.format(df1.parse(strdate)+ "---date first---");
}
catch (ParseException e) {
 // Exception handling
} 
```

# ios - 如何暂停 UIView 动画

> ID：11410848
> 
> 赞同：0
> 
> 时间：2012-07-10T09:59:08.637
> 
> 标签：ios, animation, uiview

在 iOS5.0 中使用块，假设我们有一个 UIViewAnimationOptionAutoreverse 动画，并且需要在反向动画开始之前放置一个延迟.. 我们该怎么做呢？

感谢您对此的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:20:05.803

```
The best way to pause and resume animation :

add QuartzCore framework 

then use the following apple's code 

-(void) pause
{

CFTimeInterval pausedTime = [m_pCustomImageBtnObj.layer convertTime:CACurrentMediaTime() fromLayer:nil];

    obj.layer.speed = 0.0;

    obj.layer.timeOffset = pausedTime;
}

-(void) resume
{

CFTimeInterval pausedTime = [obj.layer timeOffset];

    obj.layer.speed = 1.0;

    obj.layer.timeOffset = 0.0;

    obj.layer.beginTime = 0.0;

    CFTimeInterval timeSincePause = [obj.layer convertTime:CACurrentMediaTime() fromLayer:nil] - pausedTime;

    obj.layer.beginTime = timeSincePause;

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T17:42:22.623

不确定这是否正是您想要做的，但这是我用来将视图移动到屏幕上，暂停 1 秒钟，然后将视图移出屏幕的方法。

```
[UIView animateWithDuration:0.5 animations:^{
    self.view.frame = viewFrameOnScreen;
    self.view.alpha = 1.0;
} completion:^(BOOL finished){
    [UIView animateWithDuration:0.5 delay:1 options:0 animations:^{
        self.view.frame = viewFrameOffScreen;
        self.view.alpha = 0.0f;

    } completion:^(BOOL finished){}];
}]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T10:14:45.133

您可以尝试这样的动画完成块：

```
[UIView animateWithDuration:0.6 animations:^(void)
 {
     self.label.bounds = CGRectMake(10, 10, 200, 200); 

 }completion:^(BOOL finished) {
     [UIView animateWithDuration:0.6 animations:^(void)
      {
          self.label.bounds = CGRectMake(10, 10, 100, 100); 

      }completion:^(BOOL finished) {

      }];

 }]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T10:16:00.900

您应该为此使用关键帧动画。下面是一段代码来做反转旋转：

> ```
> self.animations = [NSDictionary dictionaryWithObjects:
>                    [NSArray arrayWithObjects:
>                     [CAKeyframeAnimation animationWithKeyPath:@"transform.rotation.z"],
>                     [CAKeyframeAnimation animationWithKeyPath:@"transform.rotation.z"]                         
> 
>                     , nil ]
>                                               forKeys:
>                    [NSArray arrayWithObjects: THERE_ANIM_KEY, BACK_AGAIN_ANIM_KEY , nil ]];
> CAKeyframeAnimation *kfAnim = [animations objectForKey: THERE_ANIM_KEY];
> kfAnim.duration = 2;
> kfAnim.repeatCount = 1;
> kfAnim.values = [NSArray arrayWithObjects: 
>                  [NSNumber numberWithFloat: 0.0 * M_PI],
>                  [NSNumber numberWithFloat: 1.0 * M_PI],
>                  [NSNumber numberWithFloat: 2.0 * M_PI],
>                  [NSNumber numberWithFloat: 2.0 * M_PI], //here is delay
>                  [NSNumber numberWithFloat: 1.0 * M_PI],
>                  [NSNumber numberWithFloat: 0.0 * M_PI],
>                  nil];
>  kfAnim.keyTimes = [NSArray arrayWithObjects: 
>  [NSNumber numberWithFloat: 0.0 ],
>  [NSNumber numberWithFloat: 0.3 ],     
>  [NSNumber numberWithFloat: 0.5 ],  //time of delaying in proportion of general animation duration   
>  [NSNumber numberWithFloat: 0.5 ],
>  [NSNumber numberWithFloat: 0.8 ],
>  [NSNumber numberWithFloat: 1.0 ], nil]; 
> ```

您也可以使用记住初始状态并重新设置动画

> *   (void)animationDidStop:(CAAnimation *)动画完成:(BOOL)标志

使用 performSelector:withObject:afterDelay: 的动画委托方法。这更简单且易于设置延迟。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-02-25T16:25:18.670

RIAZ 在 Swift 3 中的回答：

```
func pauseAnimation() {
    let pausedTime = obj.layer.convertTime(CACurrentMediaTime(), from: nil)
    obj.layer.speed = 0.0
    obj.layer.timeOffset = pausedTime
}

func resumeAnimation() {
    let pausedTime = obj.layer.timeOffset
    obj.layer.speed = 1.0
    obj.layer.timeOffset = 0.0
    obj.layer.beginTime = 0.0
    let timeSincePause = obj.layer.convertTime(CACurrentMediaTime(), from: nil) - pausedTime
    obj.layer.beginTime = timeSincePause
} 
```

# jquery - jQuery setTimeout 不适用于 1.7 版

> ID：11410849
> 
> 赞同：0
> 
> 时间：2012-07-10T09:59:20.953
> 
> 标签：jquery, settimeout

我正在使用下面的这个脚本，它在使用 jQuery 1.4 但不适用于 1.7.2 时有效：

```
<script>
    setTimeout(function(){
      if ($('#hpnews').length > 0) {
        $('#hpnews').fadeIn('slow');
      }
    }, 3000);
</script> 
```

现在有没有人为什么它不起作用？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:05:10.117

所以`setTimeout`只触发一次，并等待 3000 毫秒。

你确定你的 DOM 已经完全准备好了？

尝试以下操作：

```
<script>

    $(document).ready(function() {

        setTimeout(function(){
            if ($('#hpnews').length > 0) {
                $('#hpnews').fadeIn('slow');
            }
        }, 3000);

    });

</script> 
```

此外，在其中放置一个也可能很方便`alert()`，只是为了确保它肯定会触发。

**编辑**

根据您对 $ 不是函数的评论，$ 变量很可能被另一个框架（或类似框架）覆盖，以下方法之一将解决此问题。

```
$j = jQuery.noConflict();
$j(document).ready() // use $j instead of $

jQuery(document).ready() // or use the actual jQuery var 
```

# .htaccess - Cakephp 如何从 url 中删除尾随 '/' 以实现 SEO 目的

> ID：11410850
> 
> 赞同：3
> 
> 时间：2012-07-10T09:59:22.467
> 
> 标签：.htaccess, cakephp, cakephp-1.3

如何从 url 中删除尾随 '/'？

例如，我有一个 url `http://www.example.com/our_story`，它提供我们的故事页面。但`http://www.example.com/our_story/`也提供相同的页面。但我们的 seo 专家表示，这会在 google 列表中创建重复页面。

我的网站已经开发，他们告诉我将此 URL 重定向`http://www.example.com/our_story/`到`http://www.example.com/our_story`. 怎样才能做到这一点？我认为 .htaccess 应该会有所帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T12:52:24.347

您需要执行 301 重定向。这不完全是一个 cakePHP 问题，它更多的是 HTAccess。

此链接可能会有所帮助。

[http://bakery.cakephp.org/%20articles/view/4caea0e1-0e48-4b55-a9ce-46a082f0cb67](http://bakery.cakephp.org/%20articles/view/4caea0e1-0e48-4b55-a9ce-46a082f0cb67)

# php - 为什么即使在第一次加载页面时也会出现“错误的用户名/密码”警报？

> ID：11410858
> 
> 赞同：0
> 
> 时间：2012-07-10T09:59:39.880
> 
> 标签：php, mysql

我有一个登录表单，当我进入该页面时，它会自动给我警报消息。我还没有输入用户名和密码信息。
这是验证登录表单输入的页面，请看看为什么会这样？

```
<?
session_start();
include "config.php";

if(isset($_SESSION["login_user"]) AND isset($_SESSION['pass_user'])){
    $login_user = $_SESSION["login_user"];
    $pass_user = $_SESSION["pass_user"];

$sql = mysql_query("SELECT * FROM adm WHERE login = '$login_user'");
$cont = mysql_num_rows($sql);
while($linha = mysql_fetch_array($sql)){
    $pass_db = $linha['pass'];
}

if($cont == 0){
    unset($_SESSION["login_user"]);
    unset($_SESSION["pass_user"]);

    echo "
    <META HTTP-EQUIV=REFRESH CONTENT='0; URL=login.php'>
    <script type=\"text/javascript\">
    alert(\"Name of user dont match.\");
    </script>";

}

if($pass_db != $pass_user){//check pass

    unset($_SESSION["login_user"]);
    unset($_SESSION["pass_user"]);

    echo "
    <META HTTP-EQUIV=REFRESH CONTENT='0; URL=login.php'>
    <script type=\"text/javascript\">
    alert(\"Password dont match.\");
    </script>";

}

}else{

    echo "
    <META HTTP-EQUIV=REFRESH CONTENT='0; URL=login.php'>
    <script type=\"text/javascript\">
    alert(\"User and password dont match.\");
    </script>";

}

?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:03:44.817

这是因为以下 if 语句返回 false：

```
if (isset($_SESSION["login_user"]) AND isset($_SESSION['pass_user'])) 
```

发生这种情况时，将执行以下代码：

```
} else {
    echo "
    <META HTTP-EQUIV=REFRESH CONTENT='0; URL=login.php'>
    <script type=\"text/javascript\">
    alert(\"User and password dont match.\");
    </script>";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:03:37.400

请从您的代码中删除 else 语句。现在使用它。

```
 <?php
session_start();

include "config.php";

if(isset($_SESSION["login_user"]) AND isset($_SESSION['pass_user'])){

$login_user = $_SESSION["login_user"];
$pass_user = $_SESSION["pass_user"];

$sql = mysql_query("SELECT * FROM adm WHERE login = '$login_user'");
$cont = mysql_num_rows($sql);
while($linha = mysql_fetch_array($sql)){
$pass_db = $linha['pass'];
}

if($cont == 0){

unset($_SESSION["login_user"]);
unset($_SESSION["pass_user"]);

echo "
<META HTTP-EQUIV=REFRESH CONTENT='0; URL=login.php'>
<script type=\"text/javascript\">
alert(\"Name of user dont match.\");
</script>";

 }

if($pass_db != $pass_user){//check pass

unset($_SESSION["login_user"]);
unset($_SESSION["pass_user"]);

echo "
<META HTTP-EQUIV=REFRESH CONTENT='0; URL=login.php'>
<script type=\"text/javascript\">
alert(\"Password dont match.\");
</script>";

}

}

?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T10:07:43.757

我猜你刚刚放错了一个 else：

```
<?
session_start();

include "config.php";

if(isset($_SESSION["login_user"]) AND isset($_SESSION['pass_user'])){

    $login_user = $_SESSION["login_user"];
    $pass_user = $_SESSION["pass_user"];

$sql = mysql_query("SELECT * FROM adm WHERE login = '$login_user'");
$cont = mysql_num_rows($sql);
while($linha = mysql_fetch_array($sql)){
    $pass_db = $linha['pass'];
}

if($cont == 0){

    unset($_SESSION["login_user"]);
    unset($_SESSION["pass_user"]);

    echo "
    <META HTTP-EQUIV=REFRESH CONTENT='0; URL=login.php'>
    <script type=\"text/javascript\">
    alert(\"Name of user dont match.\");
    </script>";

}

if($pass_db != $pass_user){//check pass

    unset($_SESSION["login_user"]);
    unset($_SESSION["pass_user"]);

    echo "
    <META HTTP-EQUIV=REFRESH CONTENT='0; URL=login.php'>
    <script type=\"text/javascript\">
    alert(\"Password dont match.\");
    </script>";

}else{

    echo "
    <META HTTP-EQUIV=REFRESH CONTENT='0; URL=login.php'>
    <script type=\"text/javascript\">
    alert(\"User and password dont match.\");
    </script>";

}
}
?> 
```

但是，正如@David 所提到的，您不应该指定只有密码是错误的。

# internet-explorer - 模拟 Internet Explorer JavaScript 环境的 JavaScript 库？

> ID：11410860
> 
> 赞同：11
> 
> 时间：2012-07-10T09:59:45.603
> 
> 标签：internet-explorer, javascript, underscore.js, phantomjs

这不是复制[JS 库来模拟 Internet Explorer 吗？](https://stackoverflow.com/questions/10569512/js-library-to-simulate-internet-explorer)关于模拟 Internet Explorer 的 CSS 支持的问题；这是关于 JavaScript 函数的。

**是否存在可以模拟 Internet Explorer 等环境的 JavaScript 库，而涉及 JavaScript 函数？**

基本上，它将删除/覆盖旧版本 IE 不支持的函数（如 indexOf 等），或者至少强制以某种方式忽略对它们的任何调用。

*实际上，我正在寻找的是与[Underscore.js](http://underscorejs.org/)几乎相反的东西，理论上它甚至可以用来测试（在非 IE 浏览器中）Underscore.js 正在做它应该做的事情。*

*还是*模拟环境所需的工作量如此之小，以至于我可以自己快速完成？如果是这样，怎么做？

* * *

### 我想象的用例：

[使用此脚本在Phantom.js](http://phantomjs.org/)的 WebKit 浏览器中模拟 IE7 环境，以使用 Jasmine / QUnit / 等进行自动化（由 Jenkins）JavaScript 单元测试（未定）。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-10T10:10:54.610

我建议不要这样做，因为您将测试您对这个模拟的支持程度，而不是 IE7 本身。IE7 引擎大部分都符合标准，除了一些怪癖（如对悬空逗号的不良反应），当然还有最新标准中缺少的环境。大多数这些怪癖要么与其他浏览器一致，要么如果没有在 JS 中编写完整的 JS 引擎就无法轻松模拟。您可能需要[查阅 ES wiki 上的列表以获取更多详细信息](http://wiki.ecmascript.org/lib/exe/fetch.php?id=resources%3aresources&media=resources%3ajscriptdeviationsfromes3.pdf)（并注意“FF/Opera/Safari：相同”部分，您可能不想考虑 IE 与 ES 的差异）。

您最好的选择是使用真正的 IE7，顺便说一句，它具有[非常好的自动化界面](http://msdn.microsoft.com/en-us/library/aa752084%28v=vs.85%29.aspx)，几乎可以进行任何测试，或者至少是打开了兼容模式的更新 IE 版本。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-10-24T11:34:11.657

你可能会喜欢这样的东西：http: **[//triflejs.org/](http://triflejs.org/)**（目前处于测试阶段）

它是用于运行 Headless UI 测试的[phantomjs](https://github.com/ariya/phantomjs)的 IE 端口。

与 phantom 一样，它使用 V8 来运行 javascript API 可执行脚本，而不是 webkit，它使用 .NET [WebBrowser](http://msdn.microsoft.com/en-us/library/system.windows.forms.webbrowser.aspx)类来实例化一个简单的 IE 引擎。

IE 为运行早期版本提供了一个仿真环境，因此如果您安装了 IE9，它将以 IE7、IE8 和 IE9 运行。

![在此处输入图像描述](../Images/3706d921bc6968399f58a32cb1ab8264.png)

# html - 使用 Html Agility Pack 提取表格

> ID：11410864
> 
> 赞同：1
> 
> 时间：2012-07-10T09:59:53.703
> 
> 标签：html, vb.net, web-scraping, html-agility-pack

我正在尝试使用 Html Agility Pack 从网页中提取表格。到目前为止，我已经设法在它方面取得了一些进展。到目前为止，这是我的代码

```
 Dim web As New HtmlAgilityPack.HtmlWeb()
    Dim htmlDoc As HtmlAgilityPack.HtmlDocument = web.Load("--Website url--")
    Dim html As String = htmlDoc.DocumentNode.OuterHtml

    Dim tabletag = htmlDoc.DocumentNode.SelectNodes("//table") 
```

基本上我需要找到一个带有以下html标签的表格

```
 <table width="100%"  border="0" cellspacing="0" cellpadding="3" summary="Contains search results"> 
```

知道如何将表格搜索减少到该特定表格吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T12:22:53.980

您需要确定使该表在文档中所有表中唯一的原因。它可能是表的这些属性之一，例如`summary`使其唯一的属性。或者，它可能是您需要查找的表格内的子元素之一。由于您没有指定，我将展示一个如何根据`summary`属性限制结果的示例：

```
Dim tabletag = htmlDoc.DocumentNode.SelectNodes("//table[@summary='Contains search results']") 
```

# java - 无法使用 dropjava 命令从 Oracle 数据库中删除 jar

> ID：11410865
> 
> 赞同：2
> 
> 时间：2012-07-10T09:59:59.443
> 
> 标签：java, oracle

我正在尝试执行 dropjava 命令以将 jar 文件放入数据库中......

```
dropjava -u username/password@schema -v -r abc.jar 
```

...但它给了我以下错误：

```
ORA-29537: class or resource cannot be created or dropped directly 
```

问题是什么？

我使用以下命令加载了 JAR：

```
loadjava -u username/password@schema -v -r -f abc.jar 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2018-08-31T19:05:24.973

TL;DR：定义相同类的 java 源对象 ( `object_type='JAVA SOURCE'`) 已存在于数据库中。先放下吧。

* * *

```
$ oerr ora 29537 
```

> 29537, 00000, “类或资源不能直接创建或删除”
> // *原因：试图创建或删除**一个 Java 类**或资源，
> // **已知该类或资源是由现有 Java 源对象的编译产生的。**
> // *Action：通过作用于源来作用于类或资源，或者改变
> 源以使其不再定义类或资源。

考虑以下 MCVE：

```
$ echo "public class SomeClass { }" >SomeClass.java
$ javac SomeClass.java
$ jar -cvf SomeClass.jar SomeClass.class
$ conndb="user/pass@db_server/sevice_name"

$ loadjava -u $conndb -r -v SomeClass.jar
resolving: class SomeClass
Classes Loaded: 1

$ dropjava -u $conndb -v SomeClass.jar
dropping: class SomeClass 
```

到目前为止，一切都很好。现在，让我们创建定义相同类的 java 源对象：

```
$ sqlplus -l -s $conndb <<+++
create or replace and compile java source named "SomeClass" as
$(<SomeClass.java)
/
+++
Java created. 
```

那么这个类既不能被直接创建也不能被直接删除：

```
$ loadjava -u $conndb -r -v SomeClass.jar
Error while creating class SomeClass
    ORA-29537: class or resource cannot be created or dropped directly

$ dropjava -u $conndb -v SomeClass.jar
Error while dropping SomeClass
    ORA-29537: class or resource cannot be created or dropped directly 
```

删除定义具有相同名称的类的现有 java 源，它会再次工作：

```
$ sqlplus -l -s $conndb <<+++
drop java source SomeClass;
+++
Java dropped.

$ loadjava -u $conndb -r -v SomeClass.jar
resolving: class SomeClass
Classes Loaded: 1

$ dropjava -u $conndb -v SomeClass.jar
dropping: class SomeClass 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-10-07T13:49:03.803

删除某个日期之后创建的 java 资源的示例：

```
declare
  cursor c is 
   SELECT dbms_java.longname (t.object_name) long_n
   FROM 
    user_objects
   WHERE 
   (object_name NOT LIKE 'SYS_%' AND 
    object_name NOT LIKE 'CREATE$%' AND 
    object_name NOT LIKE 'JAVA$%' AND 
    object_name NOT LIKE 'LOADLOB%') AND
    object_type LIKE 'JAVA %' AND
    created > to_date('20190830', 'YYYYMMDD');

begin
  for i in c loop
    dbms_java.dropjava(i.long_n);
  end loop;
end;
/ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-11T08:05:34.023

这基本上是一个猜测，但我认为值得一试。

以适当的用户身份连接到您的数据库并尝试使用[PL/SQL 包 DBMS_JAVA](http://docs.oracle.com/cd/B19306_01/java.102/b14187/appendixa.htm)删除 JAR 。在 SQL*Plus 中看起来像 L

```
dbms_java.dropjava('-jarsasdbobjects abc.jar'); 
```

PL/SQL 采用与命令行相同的选项`dropjava`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-07-14T05:37:51.940

这个命令有效，我认为：

```
dropjava -u username/password@schema -v -r -f abc.jar 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2020-09-29T13:18:59.263

```
select 'exec dbms_java.dropjava('''||dbms_java.longname (object_name)||''');' from user_objects where object_type like '%JAVA%'; 
```

# ios - XCode 通用应用程序

> ID：11410867
> 
> 赞同：0
> 
> 时间：2012-07-10T10:00:01.457
> 
> 标签：ios, xcode, xib

我有一个适用于 iPad 和 iPhone 的通用 iOS 应用程序。我为 iPad 创建了一个带有 xib 及其的类。我现在如何为 iPhone 设计它？为 iPhone 创建另一个 xib？如果是这样，我如何以及在哪里告诉应用程序在需要时为 iPhone 加载 xib，因为现在它加载 iPad xib，当然一切都太大了。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:07:38.730

是的，您需要两个 nib 文件。您可以`initWithNibName`通过使用以下代码来检测设备类型来使用和指定 nib 的名称。

```
if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) 
```

这将允许您区分不同的设备

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T10:05:52.157

好吧，您的视图控制器有一个名为`initWithNibName: bundle:`. 做这个：

```
MyController *controller = [[MyController alloc] initWithNibName:[NSString stringWithFormat:@"myController_%@",deviceName] bundle:nil]; 
```

编辑：你必须制作 2 个 xib，对吗？将它们命名为 Settings_iPhone.xib 和 Settings_iPad.xib。当您想显示设置屏幕时，请继续声明

`NSString *deviceName = ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) ? @"iPhone" : @"iPad";`

在那之后 ：

```
Settings *controller = [[Settings alloc] initWithNibName:[NSString stringWithFormat:@"Settings_%@",deviceName] bundle:nil]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T10:13:51.103

当我需要做这样的应用程序时，我制作了 2 个 xib 文件，一个用于 iPad，一个用于 iPhone。第一个是使用视图控制器创建的。第二个是通过添加一个接口文件来创建的。我尝试获取有意义的名称（例如：ListNameVC.xib 和 ListNameVC_iPad.xib

在第二个xib上，你需要做两件事

*   文件的所有者类必须指向正确的 VC 类
*   您必须将对象中的视图与文件所有者中的视图插座链接（否则您将在执行时崩溃）。

有了这一切，您可以在创建视图控制器时根据设备调用正确的 xib：

```
ListeNameVC* listeNameVC

if(UI_USER_INTERFACE_IDIOM()==UIUserInterfaceIdiomPad){
    listeNameVC = [[ListeNameVC alloc] initWithNibName:@"ListeNameVC_iPad" bundle:nil];
} else {
    listeNameVC = [[ListeNameVC alloc] initWithNibName:@"ListeNameVC" bundle:nil];
} 
```

如果您需要在 iPhone 或 iPad 上做不同的事情，您可以在视图控制器中使用 UI_USER_INTERFACE_IDIOM。例如，如果您以编程方式放置 UIButton，或者如果您为 iPhone 和 iPad 设置一个名称的图像

镉

# android - 如何在android中进行NFC（近场通信）

> ID：11410868
> 
> 赞同：3
> 
> 时间：2012-07-10T10:00:06.510
> 
> 标签：android

我只想通过 NFC 将名片中的详细信息以编程方式扫描到我的本地应用程序（如地址、名称、公司名称）中。我对此没有太多想法。我需要设置哪些必要的步骤？我怎样才能开始在 android 中做这个应用程序？

还有一个，QR 扫描仪和 NFC 有什么不同？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:52:03.027

从广义上讲，NFC 是一种无线电通信技术，而 QR 是一种图像通信技术，因此尽管它们有一些共同点，例如通道编码，但它们通过完全不同的 API 在手机中可用。

就功能而言，NFC 比 QR 具有更多功能，但 QR 可以在更多设备上工作（此时）。

我实际上已经制作了一个同时支持 NFC 和 QR 的应用程序。您可以开始使用[NFC Eclipse 插件](http://code.google.com/p/nfc-eclipse-plugin/)（真正属于您的）和[XZing](http://code.google.com/p/zxing/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:10:41.040

NFC Android 指南：http: [//developer.android.com/guide/topics/connectivity/nfc/index.html](http://developer.android.com/guide/topics/connectivity/nfc/index.html)

QRCode 是二维条码。[ZXing](http://code.google.com/p/zxing/)是一个开源的多格式一维/二维条码图像处理库。

条形码不同于 NFC 标签。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T10:13:23.843

如果您正在使用 NFC，您需要的基本东西是支持 NFC 的手机和标签。我希望您知道这一点。其次，您应该[在此处浏览此链接](http://developer.android.com/guide/topics/connectivity/nfc/index.html)。它为您提供了 NFC 是什么的基本概念，您可以在此基础上进行构建。您想了解的有关 Android NFC 的所有信息都已在此处进行了描述。

就 QR 而言，它与 NFC 不同。但我想在这里说的一件事是，通过 NFC 将 QR 用于项目会降低成本，因为 QR 不需要像 NFC 这样的额外硬件支持做。但如果你想做一些新的事情，那么 NFC 可能就是你正在寻找的“东西”。

希望这能回答你的问题。如果您正在寻找更多的东西，那么也请提及，以便我稍后可以编辑我的答案..

# jquery - 在 Jquery ajax 中页面加载后引用 DIV

> ID：11410870
> 
> 赞同：-2
> 
> 时间：2012-07-10T10:00:15.263
> 
> 标签：jquery

如何在页面加载时使用 jquery ajax 刷新或重新加载 div

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:06:01.660

查看此代码。实际上它是通过使用完成的`$.load()`

```
<!DOCTYPE html>
<html>
<head>
  <style>
 body{ font-size: 12px; font-family: Arial; }
 </style>
  <script src="http://code.jquery.com/jquery-latest.js"></script>
</head>
<body>

<b>Footer navigation:</b>
<ol id="new-nav"></ol>

<script>
  $("#new-nav").load("/ #jq-footerNavigation li");
</script>

</body>
</html> 
```

此代码有助于加载 Div 中默认页面的下部导航

看看这个[链接](http://api.jquery.com/load/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:03:13.027

```
$(document).load(function() {
   $("#elementID").load('/path/to/remoteFile');
}); 
```

# ios - UIImageView 旋转的动画

> ID：11410871
> 
> 赞同：1
> 
> 时间：2012-07-10T10:00:26.523
> 
> 标签：ios, cocoa-touch, animation, uiview, uiimageview

在我的应用程序中，我想沿点击方向旋转图像视图。还将图像视图移动到点击位置。我已经完成了移动 UIImageView 的代码，但我无法弄清楚如何在点击方向上旋转图像。感谢任何帮助。以下是我移动和旋转的代码。但是旋转并没有给出正确的方向。

```
-(void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event{

UITouch *touch=[[event allTouches]anyObject];
touchedPoint= [touch locationInView:touch.view];

[UIImageView animateWithDuration:2.0 delay:0 options:UIViewAnimationOptionBeginFromCurrentState animations:^{

     float rangle11=[self calculate_degree:previousTouchedPoint touchp:touchedPoint];

    [UIView beginAnimations:nil context:NULL];
    [UIView setAnimationDuration:1.5];
    [UIView setAnimationDelegate:self];
    imageViews.transform = CGAffineTransformMakeRotation(rangle11);
    [UIView commitAnimations];

    [CATransaction begin];        
    CAKeyframeAnimation *pathAnimation = [CAKeyframeAnimation animationWithKeyPath:@"position"];
    pathAnimation.duration = 2.0f;
    pathAnimation.calculationMode = kCAAnimationPaced;

    pathAnimation.fillMode = kCAFillModeForwards;
    pathAnimation.removedOnCompletion = NO;

    [imageViews.layer setPosition:touchedPoint];
    [imageViews.layer addAnimation:pathAnimation forKey:@"animatePosition"];
    [CATransaction commit];
       previousTouchedPoint = touchedPoint ;

}
completion:^(BOOL finished){

                     }];

} 
```

# javascript - 如何使用 Javascript 或 jQuery 在表格中添加水平滚动属性

> ID：11410873
> 
> 赞同：0
> 
> 时间：2012-07-10T10:00:27.870
> 
> 标签：javascript, php, jquery

我正在用 PHP 做一个网站，我必须在表格中显示数据，我无法在该表格上显示整个数据，因为表格很大而且我的 div 很小，所以我决定在左侧添加一个滚动条和桌子的右侧。我添加了表格的图像。如何使用 Javascript 或 jQuery 滚动表格？

![在此处输入图像描述](../Images/ff0b4f0f617837e3e76f5ccf8fa62824.png)

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T10:16:38.450

我想你可以`scroll`像这样使用 in css：

```
overflow-x: scroll; 
```

[在这里](http://www.w3schools.com/cssref/tryit.asp?filename=trycss_overflow)查看演示

或者你可以在 Jquery 中使用[Tiny Scrollbar](http://baijs.nl/tinyscrollbar/)插件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:09:20.703

您可以使用 jqgrid，它为表格视图提供更多额外功能。

通过这个 -
[http://www.trirand.com/blog/jqgrid/jqgrid.html](http://www.trirand.com/blog/jqgrid/jqgrid.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T10:28:43.943

你可以加

```
overflow-x: scroll; 
```

通过在您的表格或您正在使用的 div 标签中使用这行代码

IE

```
<table style="overflow-x: scroll;">
....
</table>

<div style="overflow-x: scroll;">
....
</div > 
```

希望它对你有用

# java - 在不允许的地方处理空值

> ID：11410876
> 
> 赞同：1
> 
> 时间：2012-07-10T10:00:40.520
> 
> 标签：java, android

我在 mClass 构造函数中有以下代码：

```
public mClass(Context ctx) {
    super();
    this.ctx = ctx;
} 
```

上下文不能为空，因为它是对象操作所必需的。因此，如果我允许创建一个新的 mClass(null)，它将在稍后中断。

我想在创建对象时崩溃，因为发生不正确的情况时。这样做的标准方法是什么？

例如制作

```
public mClass(Context ctx) {
    super();
    if(ctx==null) throw new Exception ("....");
    this.ctx = ctx;
} 
```

强制将该方法声明为异常抛出者，我不想这样做，因为传递空值并不常见

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-10T10:02:30.703

投掷[`java.lang.IllegalArgumentException`](http://docs.oracle.com/javase/1.6/docs/api/java/lang/IllegalArgumentException.html)，

这是一个运行时异常，所以你不需要强制处理它，如果它被抛出，应用程序将崩溃（如果它没有被处理）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T10:35:43.703

如果`MyClass`不能负责构建它自己的`Context`，你应该像你一样注入它。抛出一个`RuntimeException`或任何子类将用于空检查，但`IllegalArgumentException`在这里最合适。

不要忘记将 ctx 字段设为[final](http://www.javapractices.com/topic/TopicAction.do?Id=23)，它将使您的代码更加健壮。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-10T10:16:40.393

您可以通过将类的构造函数设为私有来避免[从构造函数中抛出异常，](https://stackoverflow.com/questions/1371369/can-constructors-throw-exceptions-in-java)从而确保客户端只能通过构建器创建类的实例。构建器可以在构造对象之前检查提供的构造函数依赖项的有效性，如下所示：

```
public class MyClass {

    public static class MyClassBuilder {
        private Context ctx;

        public MyClassBuilder setContext(Context ctx) {
            this.ctx = ctx;

            return this;
        }

        public MyClass build() {
            if(ctx==null) {
                throw new IllegalArgumentException ("");
            } else {
                return new MyClass(this.ctx);
            }
        }
    }

    private final Context ctx;

    private MyClass(Context ctx) {
        super();
        this.ctx = ctx;
    }
} 
```

# .htaccess - 找不到页面应该与重写规则 htacces 一起使用

> ID：11410877
> 
> 赞同：1
> 
> 时间：2012-07-10T10:00:44.983
> 
> 标签：.htaccess, mod-rewrite, errordocument

我想将我的 url 从 php 扩展重写为 html。如果找不到该文件，那么它应该重定向到某个客户页面（404.php）。

我写了这样的规则：

```
RewriteEngine on
RewriteRule ^$ front/index.php?query=$1 [NC,L,QSA]
RewriteRule (.*)\.(html) ?page=$1 [L,NC,QSA]
ErrorDocument    404    /expertLocal/?page=404 
```

使用这个我面临这样的问题。[http://somedomain.com/expertLocal/contact.html](http://somedomain.com/expertLocal/contact.html)

它将工作文件因为我有contact.php 页面。如果我会写 somedomain.com/expertLocal/contactxyz.php 然后它会重定向到 404.php 页面但是如果我会在地址栏中写[http://somedomain.com/expertLocal/contactxyz.html](http://somedomain.com/expertLocal/contactxyz.html)那么它会给出警告而不是 404 .php 页面。

这是因为我使用了我自己的框架，并且在这个结构文件中首先重定向到控制器索引文件，然后在其中包含请求的文件。

```
include(FRONT_CONTROLLER_PATH . $page . '.php');   like this. 
```

你能帮帮我吗？

提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T05:22:59.017

我不确定您的框架，但如果有帮助，请检查以下代码。

```
$filename = FRONT_CONTROLLER_PATH . $page . '.php';
if (file_exists($filename)) 
{
       include($filename); 
}
else
{
       // include 404 page here
} 
```

# debian - 如何让我的 wlan 适配器启动并运行

> ID：11410879
> 
> 赞同：1
> 
> 时间：2012-07-10T10:00:58.647
> 
> 标签：debian, wifi

我刚拿到 ZyXEL NWD2105，这是我在支持的 USB 适配器[列表中找到的一个小型 wlan USB 适配器。](http://wiki.debian.org/rt2800usb)

我已经完成了

*   sudo apt-get install wpasupplicant，我已经是最新版本了
*   sudo apt-get install 固件-ralink
*   sudo nano /etc/network/interfaces

我的配置看起来像：

```
auto eth0
iface eth0 inet static
        address 192.168.1.10
        netmask 255.255.255.0
        gateway 192.168.1.1

auto wlan0
iface wlan inet dhcp
        wpa-ssid <my ssid>
        wpa-psk <aes key>
#        address 192.168.1.11
#        netmask 255.255.255.0
#        gateway 192.168.1.1 
```

*   sudo ifup wlan0，IT 状态：忽略未知接口 wlan0=wlan0。

那么，有人知道我错过了什么吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T10:29:52.420

哦！

```
auto wlan0
iface wlan inet dhcp 
```

本来应该

```
auto wlan0
iface wlan0 inet dhcp 
```

# ruby-on-rails - Rails 文件上传 gem 像 Paperclip，没有 ImageMagick 依赖？

> ID：11410882
> 
> 赞同：1
> 
> 时间：2012-07-10T10:01:04.517
> 
> 标签：ruby-on-rails, ruby-on-rails-3, paperclip

对于 Rails 3.2.x 项目，是否有`Paperclip`不需要 ImageMagick 的 gem 替代方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:16:37.820

[CarrierWave](https://github.com/jnicklas/carrierwave)有简单的上传界面。

缩略图生成器有 RMagick 和 MiniMagic 实现。

[MiniMagic](https://github.com/jnicklas/carrierwave#using-minimagick)让您拥有 ImageMagick 的强大功能，而无需担心安装所有 RMagick 库：

```
class AvatarUploader < CarrierWave::Uploader::Base
  include CarrierWave::MiniMagick

  process :resize_to_fill => [200, 200]
end 
```

# textures - 是否可以使用 three.js .obj 文件格式加载器加载多个纹理文件？

> ID：11410883
> 
> 赞同：1
> 
> 时间：2012-07-10T10:01:06.840
> 
> 标签：textures, three.js

我有 .obj 文件，每个文件都有几个纹理文件。three.js 是否开箱即用，可以为 .obj 文件加载多个纹理？有一些示例代码吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T15:12:43.083

`OBJLoader`尚未加载纹理或材质。

# algorithm - 大 n 和 k 的二项式系数 (nCk) 与素数 (P) 的可分性

> ID：11410884
> 
> 赞同：0
> 
> 时间：2012-07-10T10:01:11.850
> 
> 标签：algorithm, math, language-agnostic, binomial-coefficients

在数学中，二项式系数是一系列正整数，在二项式定理中作为系数出现。nCk 表示从 n 个不同对象中选择 k 个对象的方法的数量。

但是当n和k太大的时候，我们经常在对一个素数P进行模运算后保存。请计算n有多少个二项式系数在对P进行模运算后变为0。

## 输入

第一个输入是一个整数 T，即测试用例的数量。

以下 T 行中的每一行都包含 2 个整数，n 和素数 P。

## 输出

对于每个测试用例，输出一行包含 nCk (0<=k<=n) 的数量，每个 nCk 经 P 模运算后为 0。

## 样本输入

```
3

2 2

3 2

4 3 
```

## 样本输出

```
1

0

1 
```

由于约束非常大，动态规划将不起作用。我想要的只是一个想法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-23T03:08:08.510

This is a problem about math.

```
import java.io.*;
import java.math.BigInteger;
import java.util.*;

public class Solution{
public static void main(String[] args){
    Scanner scan=new Scanner(System.in);
    int T=Integer.parseInt(scan.nextLine());
    int i,j;
    long p;
    long y;
    int[] digit=new int[501];
    int[] odigit=new int[501];
    int[] res=new int[501];
    int[] ans=new int[501];
    while(0!=(T--)){
        String[] line=scan.nextLine().split(" ");
        p=Integer.parseInt(line[1]);
        for(i=0;i<line[0].length();i++)
            digit[i+1]=odigit[i]=(line[0].charAt(i))-48;
        digit[0]=odigit[0]=line[0].length()+1;
        //基转换
        //进制转换，10进制转换成p进制
        res[0]=0;
        while(digit[0]>1){
            y=0;i=1;
            ans[0]=digit[0];
            while(i<digit[0]){
                y=y*10+digit[i];
                ans[i++]=(int)((double)y/(double)p);
                y%=p;
            }
            res[++res[0]]=(int)y;
            i=1;
            while(i<ans[0]&&ans[i]==0)
                i++;
            digit[0]=1;
            for(j=i;j<ans[0];j++)
                digit[digit[0]++]=ans[j];
        }
        res[0]++;
        //大数相乘
        BigInteger odata=new BigInteger(line[0]);
        BigInteger pdata=new BigInteger("1");
        for(i=1;i<res[0];i++)
            pdata=pdata.multiply(new BigInteger((res[i]+1)+""));
        odata=odata.subtract(pdata).add(new BigInteger("1"));
        System.out.println(odata.toString());
    }
}
} 
```

* * *

EDIT (code shorten by nhahtdh):

```
import java.math.BigInteger;
import java.util.*;

class Solution {

  // Get the base b intepretation of n
  private static ArrayList<Integer> toBase(BigInteger n, BigInteger b) {
    ArrayList<Integer> out = new ArrayList<Integer>();

    while (!n.equals(BigInteger.ZERO)) {
      out.add(n.mod(b).intValue());
      n = n.divide(b);
    }

    return out;
  }

  public static void main(String[] args){
    Scanner scan = new Scanner(System.in);
    int T = scan.nextInt();

    while((T--) > 0){
      BigInteger n = scan.nextBigInteger();
      BigInteger p = scan.nextBigInteger();

      ArrayList<Integer> res = toBase(n, p);

      BigInteger pdata = BigInteger.ONE;
      for (int i: res) {
        pdata = pdata.multiply(BigInteger.valueOf(i + 1));
      }

      BigInteger output = n.subtract(pdata).add(BigInteger.ONE);

      System.out.println(output);
    }
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-02-05T16:56:51.963

引自[卢卡斯定理](https://en.wikipedia.org/wiki/Lucas%27_theorem)页面：

> 二项式系数 \tbinom{m}{n} 可被素数 p 整除当且仅当 n 的基数 p 位中至少有一个大于 m 的相应位。

# android - Eclipse 安装新软件不工作

> ID：11410888
> 
> 赞同：0
> 
> 时间：2012-07-10T10:01:56.683
> 
> 标签：android, eclipse

我刚刚从 eclipse.org 下载了最新版本的 eclipse classic，我正在尝试安装 ADK（Android 开发人员工具包），我被告知要下载`org.eclipse.wst.xml.core`0.0.0。

要下载这个我发现我必须去安装新软件并添加存储库[下载 Eclipse Juno](http://download.eclipse.org/releases/juno/)并`wst.xml.core`从那里下载插件但是我得到的只是待处理。已经这样半个小时了，我只有 eclipse 存储库有问题。

有想法该怎么解决这个吗？

**编辑：**问题似乎已经解决，似乎是存储库滞后的地方。现在正常工作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T12:45:40.967

我有同样的问题。我修复它的方式：

1.  帮助->安装新软件：
2.  输入： http: [//download.eclipse.org/releases/juno](http://download.eclipse.org/releases/juno)或[http://download.eclipse.org/releases/indigo](http://download.eclipse.org/releases/indigo)（如果您使用的是 3.7 版）
3.  选择最后一项：WST适配器->安装

而已！

# php - 这段代码中的 $json->SearchResponse->Errors 是什么意思？

> ID：11410889
> 
> 赞同：1
> 
> 时间：2012-07-10T10:01:58.503
> 
> 标签：php, json

```
$body = file_get_contents($url);   //defined somewhere else

$json = json_decode($body);
if(isset($json->SearchResponse->Errors)) 
    throw new Exception ("search Error"); 
```

`$json->SearchResponse->Errors`指的是什么？我的意思是这是否会查看正文（或）searchresponse 的内容并且错误是对象..？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T10:05:50.487

它在由提交的响应中搜索`$body`相应条目`SearchResponse`及其下方`Errors`。

如果它找到任何对象（这可能表明在处理请求时发生了错误），它会将这个错误转换为 PHP 异常，这可能会通过`try catch`在代码中的其他地方使用来捕获。

可能触发此行为的 JSON 响应可能如下所示

```
{ 
  "SearchResponse": {
    "Error": "Something went wrong here!"
  }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T10:06:20.567

在序列化为 JSON 的对象中，有一个名为 的对象`SearchResponse`，它有一个名为 的属性`Errors`。如果第二个参数[`json_decode()`](http://uk.php.net/json_decode)为 false（这是默认值），`{}`将被反序列化为`stdClass`Objects（true 将生成关联数组）。

所以 JSON 可能是这样的：

```
{
    "SearchResponse" : {
        "Errors" : 1
    }
} 
```

# cassandra - 我如何查询这个 Cassandra 数据模型设计

> ID：11410892
> 
> 赞同：0
> 
> 时间：2012-07-10T10:02:08.010
> 
> 标签：cassandra, phpcassa, datamodel

我**在 cassandra 中设计数据模型时**遇到了疑问。

即我创建了这个 CF

**Page-Followers{ "page-id" : { "user-id" : "time" } }**

我想对上述 CF 进行 2 个查询。

**1)**获取所有关注特定页面的**用户 ID**（作为使用phpcassa的**multiget**函数的**数组）。**
**2）**检查特定用户是否正在关注特定页面。
ie user-id = 1111 的用户是否关注页面 page-id=100。

那么，我如何根据该 CF 进行这些查询。

**注意：** 我不想为这种情况创建一个新的 CF。因为对于这个用户操作（即用户点击页面上的关注按钮），必须在 3 个 CF 中插入数据，如果我为此创建了另一个 CF，那么必须将数据插入总共 4 个 CF。它可能会导致性能问题。

如果你**在 phpcassa 中举个例子**，那就太好了......

**另一个疑问**是：-
因为我已经为我的大学社交网站创建了 cassandra 数据模型（即页面关注者、用户关注者、通知、警报，...... ETC）。
对于每个用户操作，我必须将数据插入 2 个或 3 个或更多 CF，所以这会导致性能问题吗？？？是好设计吗？？

请帮助我...

在此先感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-11T17:53:53.337

一般来说，在 Cassandra 中进行数据建模时，您首先查看您的查询，然后构建一个适合该查询的数据模型。

对于您的情况，您可以执行以下操作（我对 phpcassa 没有经验，所以我只能给您方法，您必须弄清楚 phpcassa 位）

1) 以起始列为 '' 和结束列为 '' 进行切片查询，并将范围设置为一个非常大的值。这将返回所有列。

2）只需为rowkey = 100和userid = 1111做一个get列。如果值不为null，则用户关注页面。

Cassandra 针对写入进行了高度优化。使用 Cassandra 对数据进行建模的推荐方法是以非规范化方式写入，甚至写入多个 CF。写信给 2 或 3 个家庭应该不是问题。您始终可以使写入异步以实现更好的性能。

编辑：[http](http://thobbs.github.com/phpcassa/tutorial.html) : //thobbs.github.com/phpcassa/tutorial.html 是 phpcassa 的好地方。

# c# - 为什么iis主机应用程序不让登录？

> ID：11410893
> 
> 赞同：-3
> 
> 时间：2012-07-10T10:02:11.843
> 
> 标签：c#, asp.net, iis

我已经将我的应用程序托管到 IIS -7 并且它可以正常浏览但它现在不允许我登录，因为我已经检查它有正确的连接字符串，它在我的日志页面上抛出错误

说明：执行当前 Web 请求期间发生未处理的异常。请查看堆栈跟踪以获取有关错误及其源自代码的位置的更多信息。

```
Exception Details: System.NullReferenceException: Object reference not set to an instance of an object.

Source Error: 

Line 96:         SqlParameter[] arrParams = new SqlParameter[0];
Line 97:         _userDetails = Data.GetSQLQueryResults(sqlQuery, 0, arrParams);
Line 98:         if (_userDetails.Rows.Count != 0)
Line 99:         {
Line 100:            _userAccountID = _userDetails.Rows[0]["UserAccountID"].ToString();

Source File: d:\Projects\June 20\CorrDefensev2\App_Code\UserInfo.cs    Line: 98 

Stack Trace: 

[NullReferenceException: Object reference not set to an instance of an object.]
   UserInfo.setUserData(MembershipUser membershipUser) in d:\Projects\June 20\CorrDefensev2\App_Code\UserInfo.cs:98
   UserInfo..ctor(String username) in d:\Projects\June 20\CorrDefensev2\App_Code\UserInfo.cs:76
   Account_Login.Login1_LoggingIn(Object sender, LoginCancelEventArgs e) in d:\Projects\June 20\CorrDefensev2\MyPublic\Login.aspx.cs:76
   System.Web.UI.WebControls.Login.OnLoggingIn(LoginCancelEventArgs e) +115
   System.Web.UI.WebControls.Login.AttemptLogin() +85
   System.Web.UI.WebControls.Login.OnBubbleEvent(Object source, EventArgs e) +101
   System.Web.UI.Control.RaiseBubbleEvent(Object source, EventArgs args) +37
   System.Web.UI.WebControls.ImageButton.OnCommand(CommandEventArgs e) +125
   System.Web.UI.WebControls.ImageButton.RaisePostBackEvent(String eventArgument) +177
   System.Web.UI.WebControls.ImageButton.System.Web.UI.IPostBackEventHandler.RaisePostBackEvent(String eventArgument) +10
   System.Web.UI.Page.RaisePostBackEvent(IPostBackEventHandler sourceControl, String eventArgument) +13
   System.Web.UI.Page.RaisePostBackEvent(NameValueCollection postData) +36
   System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint) +5563

the solution: all i had to use sql server authentication that is a connection string in web.config with the username, password, and it works fantastic... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T07:22:41.507

```
 SqlParameter[] arrParams = new SqlParameter[0];
 _userDetails = Data.GetSQLQueryResults(sqlQuery, 0, arrParams); 
```

您正在传递其中包含零个元素的 arrParams，您的查询可能需要一些参数来返回结果。正如您现在所得到的那样，您有可能为 _userDetails 设置了 null 值。您可以通过在 _userDetails 上检查 null 来防止异常

```
if (_userDetails != null && _userDetails.Rows.Count != 0)
{

} 
```

找出确切原因

```
if (_userDetails != null)
{
   //No data table returned
   if( _userDetails.Rows.Count != 0)
   {
        //No record found
   }
} 
```

# python - json 如何将 None 转储为空字符串

> ID：11410896
> 
> 赞同：9
> 
> 时间：2012-07-10T10:02:21.670
> 
> 标签：python, json

我希望 Python`None`在 json 中编码为空字符串如何？下面是 的默认行为`json.dumps`。

```
>>> import json
>>> json.dumps(['foo', {'bar': ('baz', None, 1.0, 2)}])
'["foo", {"bar": ["baz", null, 1.0, 2]}]' 
```

我应该覆盖json编码器方法还是有其他方法？

输入数据并不像上面的例子那么简单，在每次请求时，它都可以更改为不同的数据结构。很难编写更改数据结构的函数。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-10T10:04:32.157

在您正在编码的对象中，使用空字符串而不是`None`.

这是一个未经测试的函数，它遍历一系列嵌套字典以将所有`None`值更改为`''`. 添加对列表和元组的支持留给读者作为练习。:)

```
import copy

def scrub(x):
    ret = copy.deepcopy(x)
    # Handle dictionaries. Scrub all values
    if isinstance(x, dict):
        for k,v in ret.items():
            ret[k] = scrub(v)
    # Handle None
    if x == None:
        ret = ''
    # Finished scrubbing
    return ret 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-10T10:05:05.203

最好处理要编码的数据并将`None`s 替换为空字符串。毕竟，这就是你想要的。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-05-06T19:07:24.593

这是一个稍微改进的版本，它也可以处理列表和元组：

```
def scrub(x):
    # Converts None to empty string
    ret = copy.deepcopy(x)
    # Handle dictionaries, lits & tuples. Scrub all values
    if isinstance(x, dict):
        for k, v in ret.items():
            ret[k] = scrub(v)
    if isinstance(x, (list, tuple)):
        for k, v in enumerate(ret):
            ret[k] = scrub(v)
    # Handle None
    if x is None:
        ret = ''
    # Finished scrubbing
    return ret 
```

`jsonschmea`我在使用模块时使用它。似乎它无法处理`None`类型，并抛出：`jsonschema.exceptions.ValidationError: None is not of type u'string'`。所以这可以解决问题。

# c# - 在安装期间使您的 C# 应用程序成为默认应用程序

> ID：11410899
> 
> 赞同：1
> 
> 时间：2012-07-10T10:02:32.410
> 
> 标签：c#, .net

我创建了一个 MP3 音乐播放器，使用 Visual Studio 安装程序（安装项目）创建了它的设置文件，但需要帮助使其成为 Windows 的默认播放器，不是手动而是使用代码，或者使用安装项目，有人可以帮忙吗

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T10:06:08.413

使用默认程序设置默认用户体验。用户可以从控制面板或直接从开始菜单访问默认程序。设置程序访问和默认值 (SPAD) 工具是 Windows XP 用户的主要默认设置体验，现在是默认程序的一部分。

当用户使用默认程序设置程序默认值时，默认设置通常仅适用于该用户，而不适用于可能使用同一台计算机的其他用户。默认程序提供一组 API，使独立软件供应商 (ISV) 能够将其程序或应用程序包含在默认系统中。API 集还帮助 ISV 更好地管理其默认状态。

[http://msdn.microsoft.com/en-us/library/windows/desktop/cc144154%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/cc144154%28v=vs.85%29.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:08:15.907

我认为您应该通过阅读以下链接获得足够的信息：

您需要创建一个自定义的自`InstallerClass` [定义安装程序类](https://stackoverflow.com/questions/1226930/custom-installer-class)

然后手动摆弄注册表 [如何将文件扩展名与C#中的当前可执行文件相关联](https://stackoverflow.com/questions/69761/how-to-associate-a-file-extension-to-the-current-executable-in-c-sharp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T11:16:33.163

另一种选择 - 如果您使用的是 Visual Studio 安装程序项目，看起来您也可以使用设计器创建文件关联：http: [//msdn.microsoft.com/en-us/library/k3bb4tfd.aspx](http://msdn.microsoft.com/en-us/library/k3bb4tfd.aspx)。

# c# - 即使单元格值未通过验证，我如何才能从 dataGridView 单元格中移出一条路？

> ID：11410900
> 
> 赞同：0
> 
> 时间：2012-07-10T10:02:33.543
> 
> 标签：c#, winforms, c#-4.0, datagridview

我正在验证未绑定的 dataGridView 控件中的单元格值，但我不喜欢这种行为。

当在单元格中输入无效值时，我无法离开该单元格，这很好。当我从单元格中清除无效数据并将其留空或为空时，我仍然无法离开单元格并且我不喜欢那样。即使我按 Escape 键撤消我在单元格中键入的无效数据，在该特定单元格中输入有效值之前，我也无法移动到 dataGridView 中的任何其他单元格。这意味着我无法取消例如缺少单列值的行的条目。

要离开单元格，我必须输入至少一个 0（零），但我不想这样做，我希望能够说好的，让我中止输入整个记录，或重置单元格值清空，突出显示它，移动到另一个单元格，然后稍后再返回。

```
private void dataGridViewSales_CellValidating(object sender, DataGridViewCellValidatingEventArgs e)
            {
                switch (this.dataGridViewSales.Columns[e.ColumnIndex].Name)
                {   
                    case "Qty":
                        {
                            decimal qty;

                            if (!decimal.TryParse(e.FormattedValue.ToString(), out qty))
                            {
                                e.Cancel = true;
                                this.dataGridViewSales.Rows[e.RowIndex].ErrorText = "The quantity sold must be a numeric value";
                                dataGridViewSales.EditingControl.BackColor = Color.Red;
                            }
                        }
                        break;
                }
            } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T11:41:52.730

谢谢，是这样弄的

```
if (this.dataGridViewSales.Rows[e.RowIndex].IsNewRow || string.IsNullOrEmpty(e.FormattedValue.ToString()))
    {
    return;
    }
    else
    {
    e.Cancel = true;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T11:19:28.437

```
if (!string.IsNullOrEmpty(e.FormattedValue.ToString()) &&
    !decimal.TryParse(e.FormattedValue.ToString(), out qty))
{
    e.Cancel = true;
    ...
} 
```

# c#-3.0 - 我怎样才能获得ram序列号？

> ID：11410909
> 
> 赞同：2
> 
> 时间：2012-07-10T10:03:06.527
> 
> 标签：c#-3.0

我需要知道如何获得 RAM（物理内存）序列号。我正在使用 C# 并使用 WMI 获取硬件信息，但序列号在另一台计算机上返回 null。我想知道如何获取它并在任何计算机（不是 WMI）上工作，如果没有其他方法可以用 C++ 编写它并在此函数和我的应用程序之间建立连接？

这是我的一些代码： WqlObjectQuery Memory3_objectQuery = new WqlObjectQuery("Select * from Win32_PhysicalMemory"); ManagementObjectSearcher Memory3_Searcher = new ManagementObjectSearcher(Memory3_objectQuery); foreach（Memory3_Searcher.Get() 中的 ManagementObject MO2）{

```
cmd.Parameters.Clear();
cmd.Parameters.AddWithValue("@Component_Type", "RAM");      

try
{
    Model = MO2["Model"].ToString();
    if (Model != null)
    {
        cmd.Parameters.AddWithValue("@Model", Model);
    }
    else { }
}
catch (NullReferenceException) { }

try
{
    Capacity = MO2["Capacity"].ToString();
    if (Capacity != null)
    {
        cmd.Parameters.AddWithValue("@Capacity", Capacity);
    }
    else { }
}
catch (NullReferenceException)
{ }
try
{
    Serial = MO2["SerialNumber"].ToString();
    if (Serial != null)
    {
        cmd.Parameters.AddWithValue("@SerialNumber", Serial);
    }
    else { }
}
catch (NullReferenceException)
{
}
try
{
    Manufacturer = MO2["Manufacturer"].ToString();
    if (Manufacturer != null)
    {
        cmd.Parameters.AddWithValue("@Manufacturer", Manufacturer);
    }
    else { }
}

catch (NullReferenceException)
{
}

// Console.WriteLine("Serial Number Bank" + count + ": " + s);
try
{
    s = MO2["MemoryType"].ToString();
    if (s.Equals("21"))
    {
        s = "DDr2";
        cmd.Parameters.AddWithValue("@Memory_Type", s);
    }
    else if (s.Equals("20"))
    {
        s = "DDr";
        cmd.Parameters.AddWithValue("@Memory_Type", s);
    }
    else if (s.Equals("17"))
    {
        s = "SDRAM";
        cmd.Parameters.AddWithValue("@Memory_Type", s);
    }
}
catch (NullReferenceException) { }
cmd.Parameters.AddWithValue("@Computer_Name", myHost);
cmd.ExecuteNonQuery();
cmd.Parameters.Clear(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-25T06:39:51.837

```
//SEE http://licensetoolkit.com/blog/hardware-identification-using-ram/
//using System.Management;
public static void OutputRamInformation()
{
    // Create our WMI searcher to do our query
    ManagementObjectSearcher searcher = new
           ManagementObjectSearcher( "select * from Win32_PhysicalMemory" );
    // Now loop through all the item found with the query
    int ram = 1;
    foreach ( ManagementObject obj in searcher.Get() )
    {
        Console.WriteLine( String.Format( "RAM #{0}:" , ram ) );
        // Now step through each of the properties and output their values
        foreach ( PropertyData property in obj.Properties )
        {
            if ( property.Value != null )
            {
                Console.WriteLine( property.Name + " = " +
                     property.Value.ToString() );
            }
        }
        Console.WriteLine( "---------------------------------" );
        // Increment our ram chip count
        ram++;
    }
    // Wait for a keypress before continuting
    Console.WriteLine( "Press any key to continue..." );
    Console.ReadKey();
} 
```

# jquery - jquery ajax 中止

> ID：11410911
> 
> 赞同：0
> 
> 时间：2012-07-10T10:03:10.787
> 
> 标签：jquery

我正在研究一种自动完成搜索选项，`jquery's abort function`因为我需要中止上一个调用并让新调用开始于`keypress`下面的每个是代码

```
if(ajaxCall) ajaxCall.abort();
ajaxCall = $.ajax({
    url: '<?php echo base_url(); ?>welcome/' + target,
    beforeSend: function() {},
    complete: function() {},
    data: data,
    type: 'post',
    success: function(result) {
        ....
    }
}); 
```

虽然它工作正常但是，我担心它的使用是否可以使用这种方法，因为我可以在萤火虫控制台中看到很多中止的调用？我认为中止的呼叫并没有从服务器中真正中止，而是仅从浏览器中止，我是对的吗？

这种方法还有其他替代方法吗？或者可以使用它吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:05:06.150

当您调用时，HTTP 连接将被终止`abort()`。这是否会停止您的 PHP 脚本（看起来您正在使用 CodeIgniter）取决于您的服务器设置，但默认设置是，是的。

不管服务器是否完成请求，它的结果*永远不会*发送给客户端，所以结果永远不会*显示*。

但是，我会问您*为什么*要中止每个请求。如果我正在编写自动完成代码，我会在发送请求之前检测到一段时间的不活动（例如用户停止输入），*或者*允许请求完成并显示；*一些*结果（即使它们有 1 个字符）总比没有结果好，对吧？

# java - 使用 Bluecove 编译和运行 Java 应用程序时出现问题 (NoClassDefFoundError)

> ID：11410914
> 
> 赞同：0
> 
> 时间：2012-07-10T10:03:21.450
> 
> 标签：java, ubuntu, noclassdeffounderror, bluecove

我有这个使用蓝牙的应用程序，所以我需要 bluecove 和 bluecove-gpl 包，当我在 NetBeans 中运行它时，我完全没有问题，并且工作得很好。但我仍然无法从命令行编译和运行（Ubuntu 11.04）。

我正在使用这一行进行编译：

`$ javac -Xlint:unchecked -classpath bluecove-2.1.0.jar:bluecove-gpl-2.1.0.jar Client.java`

它不会返回错误，它会生成一个 .class 文件

然后我尝试像这样运行 .class 文件：

`java -classpath bluecove-2.1.0.jar:bluecove-gpl-2.1.0.jar Client`

但它返回一个`NoClassDefFoundError`. 找不到主类：`SPPClient`。

为什么会这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:05:41.367

您可能需要将*当前*目录（或*您的*类文件所在的任何目录）添加到类路径中。

尝试类似的东西

```
java -classpath .:bluecove-2.1.0.jar:bluecove-gpl-2.1.0.jar Client 
```

或者

```
java -classpath bin:bluecove-2.1.0.jar:bluecove-gpl-2.1.0.jar Client 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:07:23.783

您需要在清单文件中有主类定义：

```
Main-Class: classname 
```

# javascript - HTML5/jQuery 动画上的计时器/间隔

> ID：11410920
> 
> 赞同：0
> 
> 时间：2012-07-10T10:03:45.727
> 
> 标签：javascript, css, html

我希望在图像上创建一个类似于弹出/跳动/脉冲效果的 HTML5/jQuery。

我有一个图像弹出的 HTML5 示例，现在这只适用于 Hoverover。

我正在使用标准 CSS3 和 HTML5 在图像上创建放大效果。

效果如下：[http ://codecanyon.net/theme_previews/1318001-killer-css3-image-hover-effects?index=1](http://codecanyon.net/theme_previews/1318001-killer-css3-image-hover-effects?index=1)

我想在页面加载时每 5 秒自动执行一次。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T11:21:50.980

您可以尝试使用 jQuery 函数：`setInterval`或`setTimeout`.

# shell - 如何转义下面的序列，以便在 shell 脚本中使用 sed 替换文本？

> ID：11410923
> 
> 赞同：0
> 
> 时间：2012-07-10T10:03:47.770
> 
> 标签：shell, sed, replace

查找 /cygdrive/c/xampp/htdocs/news4u -type f -exec sed -i 's/document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' 类型='text/javascript'%3E%3C/script%3E"));/(function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;ga.src = ('https:' == document.location.protocol ?'https://ssl':'http://www') + '.google-analytics.com/ga.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();/g' {} \;

这导致错误`sed: -e expression #1, char 93: unknown option to`s'`

我正在使用 Windows 并使用“cygwin”来运行 shell 脚本。

如何解决这个问题，并且应该转义单引号，因为它再次包含在单引号中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:10:02.750

正则表达式`/`中的转义（例如这里：）或使用其他分隔符（例如，代替）。`sed``google-analytics.com/ga.js``s^^^``s///`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:22:16.457

`/`正如 Igor 所提到的，要转义，您可以使用另一个分隔符。

喜欢

```
echo //// | sed 's@////@====@' 
```

但也有很多`'`需要逃避。

至少有两种方式：

第一个：

```
echo "111'222\"333" | sed 's/1'\''2/___/;s/2"3/__/;' 
```

第二个：

```
echo "111'222" | sed "s/1'2/___/;s/2\"3/__/;" 
```

你不能只是逃避`'`就好`'\''`，因为两者之间绝对无关紧要`'`。转义字符在那里不起作用。因此，您首先需要让转义字符与转义一起`'`使用，然后才能使用它。因此我们使用`''\'''`建筑。但是转义字符可以正常工作`""`，因此您可以使用`"\""`.

```
find /cygdrive/c/xampp/htdocs/news4u/apps/frontend/modules/alerts/templates \
-type f -exec sed -i "s@document.write(unescape(\"%3Cscript src='\" + gaJsHost + \"google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E\"));@(function() { var ga = document.createElement('script'); ga.type = 'text\/javascript'; ga.async = true;ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com\/ga.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();@g" {} \; 
```

应该可以正常工作。

# hibernate - hbm 文件属性使用

> ID：11410925
> 
> 赞同：0
> 
> 时间：2012-07-10T10:03:58.140
> 
> 标签：hibernate

我是hibernate的新手，在编写一个.hbm文件时，我想到了几个问题，并将它们发布在SO上希望得到答案

问：我们将 pojo 的属性映射到 db 字段

```
<property name="birth_dt" type="date"> <column name="BIRTH_DATE" length="4" /> </property> 
```

**属性标签内的类型**属性如何帮助/不帮助以及类型为“日期”和“java.util.Date”之间的区别是什么？**列标签内的长度**属性如何帮助/不帮助？

我想了解的是：这些属性有什么用

TIA

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:19:32.997

Type: it is the type from the Hibernate type system. You may, for instance, use a custom type here. When mapping a basic value type, there is no difference between specifying the java type name or the Hibernate type, see the [reference documentation](http://docs.jboss.org/hibernate/orm/4.1/manual/en-US/html/ch05.html#mapping-types-basictypes).

Length: it is used for schema generation for data types which support a length, like varchar.

# javascript - 未捕获的 ReferenceError：未定义 msgbox（匿名函数）

> ID：11410930
> 
> 赞同：0
> 
> 时间：2012-07-10T10:04:21.557
> 
> 标签：javascript, ajax

```
//////////////////main.js file attached
function msgbox (title,text,type,time)
    {
        ///////////////////////////////////////////
        var img = "<img src='image/"+type+".png' /> ";
        $("#window .wtext").html("<table border='0'><tr><td>"+img+"</td><td>"+text+"</td></tr></table>");
        $("#window .wtitle").html(title);

        ///////////////////////////////////////////
        //$("#window .wtext").css("height",(parseInt($("#window").css("height"),10)-65)+"px");
        get_center("window");
        ///////////////////////////////////////////
        $("#window").fadeIn();
        if (time!=0)
        {
            var t = window.setInterval(function(){
                $("#window").fadeOut();
                window.clearInterval(t);
            },time*1000);
        }
    }

//////////////////myajax.js file attached
function toggle_div ()
{
   msgbox("title","text","ok",3);
} 
```

当我从 myajax.js 调用 msgbox 时遇到问题。我怎样才能使用我的功能。它正在从另一个文件工作。我应该使用一些东西来声明全局函数吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:54:07.627

您需要将 main.js 和 myajax.js 添加到标签内的 html 页面中。然后你可以直接调用你的函数。

```
<script type="text/javascript" src="main.js"></script>
<script type="text/javascript" src="myajax.js"></script> 
```

# amazon-ec2 - Amazon CloudWatch 上是否有 Amazon 防火墙\端口嗅探器指标？

> ID：11410931
> 
> 赞同：0
> 
> 时间：2012-07-10T10:04:23.423
> 
> 标签：amazon-ec2, amazon-cloudwatch

Amazon CloudWatch 上是否有 Amazon 防火墙\端口嗅探器指标？任务是：跟踪特定端口上 Amazon EC2 机器上的流量。这可以通过 Amazon CloudWatch API 实现吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T00:08:44.210

我不知道这些指标是公开的。但是，鉴于任务：

> 在特定端口上跟踪 Amazon EC2 机器上的流量

您当然可以使用以下工具监控给定 EC2 实例上的流量：

*   iptraf
*   tcpdump

有关详细信息，请参阅[http://www.cyberciti.biz/tips/top-linux-monitoring-tools.html](http://www.cyberciti.biz/tips/top-linux-monitoring-tools.html) #13 和 #14。

# php - 从 PHP 中的字符串名称调用静态方法

> ID：11410932
> 
> 赞同：14
> 
> 时间：2012-07-10T10:04:27.660
> 
> 标签：php, yii, static-methods

我需要调用一个类的静态方法，但我只有一个类名，没有它的实例。我正在这样做。

```
$class = new "ModelName";
$items = $class::model()->findAll(); 
```

它可以在我的计算机上运行，​​但是当我移动到服务器时，它会抛出一个`unexpected T_PAAMAYIM_NEKUDOTAYIM`，所以我认为它实际上期望模型是一个变量而不是一个方法。

PS：如果有帮助，那就是 Yii 框架，所以如果有其他方法可以调用 find() 函数，我可以。

提前致谢

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-07-10T10:08:11.283

这是因为您的服务器运行的 PHP 版本早于 5.3.0，其中不支持此语法。

从[范围解析运算符](http://www.php.net/manual/en/language.oop5.paamayim-nekudotayim.php)的文档中：

> 从 PHP 5.3.0 开始，可以使用变量来引用类。变量的值不能是关键字（例如 self、parent 和 static）。

无论如何，您始终可以使用[`call_user_func`](http://php.net/manual/en/function.call-user-func.php)：

```
$class = "ModelName"; // the "new" in your example was a typo, right?
$items = call_user_func(array($class, 'model'))->findAll(); 
```

# c# - 从 c# 中的 SetdllDirectory 中指定的路径加载 dll

> ID：11410940
> 
> 赞同：6
> 
> 时间：2012-07-10T10:04:49.650
> 
> 标签：c#, c, windows, winapi

我是 dotnet 的新手。我有一个 dotnet dll，它`c`使用`DllImport`. 我想将所有 dll 放在一个与应用程序位置不同的文件夹中。我不想修改环境变量。所以我使用`setdlldirectory`API 并通过`Assembly.Loadfrom(..)`. 我`SetdllDirectory`通过验证`GetDllDirectory(..)`. 但它既不从该文件夹加载 C# dll 也不加载 c dll。我可以`C#`通过在`Assembly.Loadfrom`. 但无法加载c dll。

提前致谢！！

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-07-10T17:06:33.350

我建议在运行时将目录路径添加到 PATH 环境变量，使用以下代码：

```
var dllDirectory = @"C:/some/path";
Environment.SetEnvironmentVariable("PATH", Environment.GetEnvironmentVariable("PATH") + ";" + dllDirectory); 
```

这样，更改只会影响正在运行的进程，并在退出时被丢弃。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T16:22:16.410

查看[LoadFrom](http://msdn.microsoft.com/en-us/library/1009fa28.aspx#Y0)的文档，您会发现它说：*如果 assemblyFile 存在本机映像，则不使用它。程序集不能作为域中性加载。*

我相信您需要将 DLL 目录添加到 EXE 的路径中。

# javascript - 怪癖模式和标准模式 JavaScript 的区别

> ID：11410941
> 
> 赞同：2
> 
> 时间：2012-07-10T10:04:51.683
> 
> 标签：javascript, html, internet-explorer, internet-explorer-9, quirks-mode

IE 9 中这两种模式的 JavaScript 有什么不同吗？如果是，它们是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T16:18:02.700

1.  IE9标准文档模式支持ECMAScript ，[第五版特性](http://es5.github.com/)`forEach`，所以，、、、、、等方法都得到了很好的支持。[更多关于](http://blogs.msdn.com/b/ie/archive/2010/06/25/enhanced-scripting-in-ie9-ecmascript-5-support-and-more.aspx)`every``map``Array``defineProperty``keys``Object`

2.  IE9 标准文档模式支持增强的 DOM 可编程性。（可能不是您感兴趣的，但确实如此）。[更多关于](http://blogs.msdn.com/b/ie/archive/2010/09/02/dup-exploring-ie9-s-enhanced-dom-capabilities.aspx)

3.  IE9 消除了IE8 JavaScript 实现与[ECMAScript 第三版规范之间的一些关键](http://bclary.com/2004/11/07/)[差异](https://stackoverflow.com/questions/3679233/are-there-still-ecmascript-3-implementation-differences-in-major-browsers)。

4.  Quirks 模式支持 IE6 的 JavaScript 功能，类似于 IE5 的行为以及 IE6、IE7 和 IE8 的 Quirks 模式行为。

5.  IE9 标准模式发生了一些变化，例如[不再支持`arguments.caller`](http://msdn.microsoft.com/en-us/library/gg622933(v=vs.85))[JavaScript 属性枚举差异](http://msdn.microsoft.com/en-us/library/gg622937.aspx)等。阅读有关此内容[的 Windows Internet Explorer 9 中的功能更改。](http://msdn.microsoft.com/en-us/library/gg130950(v=vs.85))

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T10:35:23.893

是的，有一些差异。

例如，在 quirks 模式下，document.body（`body`-element）是根元素，而在标准模式下，它是`html`-element（document.documentElement）。

在尝试计算视口尺寸时，这可能会产生令人困惑的效果。

# java - 如何通过 GroupsSettings-api 使用服务帐户 OAuth 2.0 流程

> ID：11410942
> 
> 赞同：1
> 
> 时间：2012-07-10T10:04:56.753
> 
> 标签：java, google-api, google-api-java-client

[在此页面上](http://code.google.com/p/google-api-java-client/wiki/OAuth2)使用 google-api-java-client我们可以了解一些流程。

服务帐户流程适用于日历 api：

```
GoogleCredential credential = new GoogleCredential.Builder().setTransport(HTTP_TRANSPORT)
                    .setJsonFactory(JSON_FACTORY)
                    .setServiceAccountId("[[]]")
                    .setServiceAccountScopes(CalendarScopes.CALENDAR)
                    .setServiceAccountPrivateKeyFromP12File(new File("key.p12")).build(); 
```

但我们一直：

```
503 Service Unavailable
{
  "code" : 503,
  "errors" : [ {
    "domain" : "global",
    "message" : "Backend Error",
    "reason" : "backendError"
  } ],
  "message" : "Backend Error"
} 
```

如果我们使用`GroupssettingsScopes.APPS_GROUPS_SETTINGS`（api 控制台为此请求授予访问权限）。

我们必须在旧的 2 legged OAuth 1.0a 附近使用一种机制来管理 GApps 帐户的组。

提前谢谢了

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-17T15:02:26.410

使用 Groups Settings API，您需要模拟 Google Apps 用户。并且该用户需要是管理员。

另外，我个人注意到最好将服务帐户ID提供给该`setServiceAccountId()`方法。

这对我有用：

```
GoogleCredential credential = new GoogleCredential.Builder().setTransport(new NetHttpTransport())
                .setJsonFactory(new GsonFactory())
                .setServiceAccountId("516444413363-4i0cvva2abc8a3t63bbq1a9rfqe42p70@developer.gserviceaccount.com")
                .setServiceAccountScopes(Collections.singletonList("https://www.googleapis.com/auth/apps.groups.settings"))
                .setServiceAccountUser("admin@my.doma.in")
                .setServiceAccountPrivateKeyFromP12File(new File("key.p12")).build(); 
```

# php - 电子邮件中的 From 参数显示托管服务提供商电子邮件

> ID：11410944
> 
> 赞同：0
> 
> 时间：2012-07-10T10:05:02.707
> 
> 标签：php, codeigniter, email, email-headers

我正在使用 codeigniter 2.X 并且我的应用程序托管在 Justhost 上，
应用程序运行良好，直到几天前 justhost 升级服务器，升级后传出电子邮件显示错误来自电子邮件地址。

这是应用程序后的调试输出

```
User-Agent: Codeigniter
Date: Tue, 10 Jul 2012 03:54:17 -0600
From: "example.com" 
Return-Path: 
Reply-To: "example.com" 
X-Sender: no-reply@example.com
X-Mailer: Codeigniter
X-Priority: 3 (Normal)
Message-ID: <4ffbfbc917091@example.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; boundary="B_ALT_4ffbfbc9170e1" 
```

在我的收件箱中，我收到以下详细信息

```
Date: Tue, 10 Jul 2012 03:54:17 -0600
From: user@just61.justhost.com
Reply-To: "example.com" <no-reply@example.com>
X-Sender: no-reply@example.com
X-Mailer: codeigniter
X-Priority: 3 (Normal)
Message-ID: <4ffbfbc917091@example.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; boundary="B_ALT_4ffbfbc9170e1"
X-Identified-User: {:just61.justhost.com:user:just61.justhost.com} {sentby:program running on server} 
```

任何输入将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T11:14:38.833

Justhost 这样做很疯狂，他们需要创建有效的电子邮件地址以供使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-08T09:49:47.713

我知道这是一个旧线程，但它仍然出现在谷歌搜索中，非常接近顶部。所以是的，电子邮件地址需要存在于服务器上。还有这个。 [https://my.justhost.com/hosting/help/206](https://my.justhost.com/hosting/help/206)

# asp.net - 为什么这个 DropDownList 没有在这个 GridView 中更新？

> ID：11410951
> 
> 赞同：0
> 
> 时间：2012-07-10T10:05:19.403
> 
> 标签：asp.net, sql, sql-server-2008-r2

我有以下数据库设计：

```
Employee Table: Username, Name, JobTitle, BadgeNo, IsActive, DivisionCode
Divisions Table: SapCode, DivisionShortcut 
```

我有一个 GridView，我用它来添加、删除和更新/编辑员工信息。此信息是员工用户名、姓名、徽章编号、职位名称、IsActive 和部门快捷方式。部门将列在 DropDownList 中。我编写了代码，但出现以下错误：*

> 列名“DivisionShortcut”无效。

*   ASP.NET 代码：

    ```
     <asp:TemplateField HeaderText="Division">
                    <ItemTemplate>
                        <%# Eval("DivisionShortcut")%>
                    </ItemTemplate>
                    <EditItemTemplate>
                        <asp:DropDownList ID="DivisionsList" runat="server" DataSourceID="DivisionsListDataSource"
                                            DataTextField="DivisionShortcut" DataValueField="SapCode"></asp:DropDownList>
                    </EditItemTemplate>
                </asp:TemplateField>

                <asp:BoundField DataField="Username" HeaderText="Network ID" ReadOnly="True" 
                    SortExpression="Username" />

                <asp:TemplateField HeaderText="Name">
                    <ItemTemplate>
                        <%# Eval("Name")%>
                    </ItemTemplate>
                    <EditItemTemplate>
                        <asp:TextBox ID="txtEmployeeName" runat="server" Text='<%# Bind("Name")%>' />
                    </EditItemTemplate>
                </asp:TemplateField>

                <asp:TemplateField HeaderText="Job Title">
                    <ItemTemplate>
                        <%# Eval("JobTitle")%>
                    </ItemTemplate>
                    <EditItemTemplate>
                        <asp:TextBox ID="txtJobTitle" runat="server" Text='<%# Bind("JobTitle")%>' />
                    </EditItemTemplate>
                </asp:TemplateField>

                <asp:TemplateField HeaderText="Badge No.">
                    <ItemTemplate>
                        <%# Eval("BadgeNo")%>
                    </ItemTemplate>
                    <EditItemTemplate>
                        <asp:TextBox ID="txtBadgeNo" runat="server" Text='<%# Bind("BadgeNo")%>' />
                    </EditItemTemplate>
                </asp:TemplateField>

                <asp:TemplateField HeaderText="Is Active?">
                    <ItemTemplate>
                        <%# Eval("IsActive")%>
                    </ItemTemplate>
                    <EditItemTemplate>
                        <asp:CheckBox ID="isActive" runat="server" 
                                      Checked='<%# Eval("IsActive").ToString().Equals("True") %>'/>
                    </EditItemTemplate>
                </asp:TemplateField>

                <asp:TemplateField HeaderText="Delete?">
                    <ItemTemplate>
                        <span onclick="return confirm('Are you sure to Delete the record?')">
                            <asp:LinkButton ID="lnkB" runat="Server" Text="Delete" CommandName="Delete"></asp:LinkButton>
                        </span>
                    </ItemTemplate>
                </asp:TemplateField>
            </Columns>
        </asp:GridView>
        <asp:SqlDataSource ID="SqlDataSource1" runat="server" 
            ConnectionString="<%$ ConnectionStrings:UsersInfoDBConnectionString %>" 

            SelectCommand="SELECT     dbo.Divisions.DivisionShortcut, dbo.employee.Username, dbo.employee.Name, dbo.employee.JobTitle, dbo.employee.BadgeNo, dbo.employee.IsActive
                            FROM         dbo.Divisions INNER JOIN
                                        dbo.employee ON dbo.Divisions.SapCode = dbo.employee.DivisionCode"
            UpdateCommand="UPDATE [employee], [Divisions] SET [Name] = @Name, [JobTitle] = @JobTitle, 
                                                [BadgeNo] = @BadgeNo, [DivisionShortcut] = @division WHERE [Username] = @Username"
            DeleteCommand="DELETE FROM [employee] WHERE [Username] = @Username">
            <UpdateParameters>
                <asp:Parameter Name="Name" Type="String"  />
                <asp:Parameter Name="JobTitle" Type="String" />
                <asp:Parameter Name="BadgeNo" Type="String" />
                <asp:Parameter Name="DivisionShortcut" Type="String" />
                <asp:Parameter Name="Username" Type="String" />
            </UpdateParameters>
            <DeleteParameters>
                <asp:Parameter Name="Username" Type="String" />
            </DeleteParameters>
        </asp:SqlDataSource> 
    ```

我忘了提到 DropDownList 有一个 SqlDataSource。

```
<asp:SqlDataSource ID="DivisionsListDataSource" runat="server" 
            ConnectionString="<%$ ConnectionStrings:UsersInfoDBConnectionString %>" 
            SelectCommand="SELECT * FROM Divisions">
        </asp:SqlDataSource> 
```

**更新：**

```
 //For editing any row in the GridView
        protected void GridView1_RowEditing(object sender, GridViewEditEventArgs e) 
        {
            GridView1.EditIndex = e.NewEditIndex;
        }

    //For updating the information in any row in the GridView
        protected void GridView1_RowUpdating(object sender, GridViewUpdateEventArgs e)
        {
            GridViewRow gvrow = GridView1.Rows[e.RowIndex];

            DropDownList DivisionsList = (DropDownList)gvrow.FindControl("DivisionsList"); 

            TextBox txtEmployeeName = (TextBox)gvrow.FindControl("txtEmployeeName");
            TextBox txtJobTitle = (TextBox)gvrow.FindControl("txtJobTitle");
            TextBox txtBadgeNo = (TextBox)gvrow.FindControl("txtBadgeNo");

            CheckBox isActive = (CheckBox)gvrow.FindControl("isActive");

            //For getting the ID (primary key) of that row
            string username = GridView1.DataKeys[e.RowIndex].Value.ToString();

            string name = txtEmployeeName.Text;
            string jobTitle = txtJobTitle.Text;
            string badgeNo = txtBadgeNo.Text;
            string division = DivisionsList.SelectedValue.ToString();

            UpdateEmployeeInfo(username, name, jobTitle, badgeNo, division);
        }
private void UpdateEmployeeInfo(string username, string name, string jobTitle, string badgeNo, string division)
    {
        string connString = ConfigurationManager.ConnectionStrings["UsersInfoDBConnectionString"].ConnectionString;
        SqlConnection conn = new SqlConnection(connString);
        string update = @"UPDATE Employee SET Name = @Name, JobTitle = @JobTitle, 
                                                BadgeNo = @BadgeNo, DivisionShortcut = @division
                            WHERE Username = @Username";
        SqlCommand cmd = new SqlCommand(update, conn);

        cmd.Parameters.AddWithValue("@Name", name);
        cmd.Parameters.AddWithValue("@JobTitle", jobTitle);
        cmd.Parameters.AddWithValue("@BadgeNo", badgeNo);
        cmd.Parameters.AddWithValue("@division", division);
        cmd.Parameters.AddWithValue("@Username", username);
        //cmd.Parameters.AddWithValue("@IsActive", isActive.checked);

        try
        {
            conn.Open();
            cmd.ExecuteNonQuery();
            conn.Close();

            GridView1.EditIndex = -1;
            //            SqlDataSource1.UpdateCommand = @"UPDATE Employee SET Name = @Name, JobTitle = @JobTitle, 
            //                                                BadgeNo = @BadgeNo 
            //                                                WHERE Username = @Username";
            //            SqlDataSource1.Update();
        }
        catch (Exception ex)
        {
            throw ex;
        }
        finally
        {
            cmd.Dispose();
            conn.Close();
            conn.Dispose();
        }
        GridView1.DataBind();
    } 
```

错误是： *System.Data.SqlClient.SqlException：列名“DivisionShortcut”无效。*

在 UpdateEmployeeInfo() 的 Catch 块中触发

**更新 2：**

DivisionShortcut 的更新查询如下所示：

```
UPDATE Divisions SET [DivisionShortcut] = @division WHERE SapCode = @SapCode 
```

**但是它将如何更新？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T12:58:24.527

“DivisionShortcut”列存在于表 Divisions 中。并且由于发生错误，您正在员工表中对其进行更新。`DivisionShortcut`请从此更新查询中删除该列

```
string update = @"UPDATE Employee SET Name = @Name, JobTitle = @JobTitle, 
                                            BadgeNo = @BadgeNo, DivisionShortcut =  @division
                        WHERE Username = @Username"; 
```

并编写另一个更新查询来更新 Divisions 表中的 DivisionShortcut。

但是它将如何更新？您必须像调用 Update Employee 一样调用此查询。或者您可以将两个查询放在同一个更新命令中。

```
string update = @"UPDATE Employee SET Name = @Name, JobTitle = @JobTitle, 
BadgeNo = @BadgeNo, DivisionShortcut = @division WHERE Username = @Username; 
UPDATE Divisions SET [DivisionShortcut] = @division WHERE SapCode = @SapCode;" 
```

**更新的答案：** 错误：`The error is: Must declare the scalar variable "@SapCode"` 像这样向您的命令对象添加一个新参数

```
cmd.Parameters.AddWithValue("@SapCode", sapcode); 
```

**再次更新答案：**

```
string query = "Select sapcode from Divisons where Divison.DivisonCode = Employees.DivisonCode" 
```

要从员工表中获取最新的部门代码，您可以使用 sql server **ScopeIdentity()**函数。

# gnome - 如何让 Gnome-do 或 Ubuntu Dash 打开现有应用程序？

> ID：11410952
> 
> 赞同：1
> 
> 时间：2012-07-10T10:05:24.273
> 
> 标签：gnome, ubuntu-12.04, quicksilver

我刚刚升级到 Ubuntu 12.04 并且还安装了 GNOME Do 作为任务启动器。如果我已经打开了一个 Firefox 浏览器窗口，并且我使用热键打开 Gnome-do 并输入 Firefox + enter，它会打开一个全新的窗口，而不是专注于我已经打开的窗口。

我已经习惯了 Mac OS X 的 Quicksilver，如果它已经存在，它会让你重新回到打开的应用程序上。是否可以使用 GNOME Do 或 Ubuntu Dash 进行复制？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-03-06T15:29:15.553

对于 mac 键盘，这可能会有所不同，但在 windows 键盘上，组合键是 win+numkey，其中 num 是应用程序在启动器中的顺序。

您可以按住win键并获得应用程序的叠加，以及相应的数字来打开它们。

希望有帮助！

# android - Android for XML Schema 上的 JAXB 替代方案？

> ID：11410954
> 
> 赞同：2
> 
> 时间：2012-07-10T10:05:29.553
> 
> 标签：android, xml, jaxb, xsd

有没有像桌面上的 JAXB 一样的 Android 轻量级库？给出一个 XML 模式，创建代码来解析、验证、操作，然后再次编写它。这些文件已经存在，因为它是一个财务应用程序，所以必须触及任何未修改的内容。包括空格、排序和字符编码。（我用 JAXB 做了很多年，它工作得很好，但由于缺少 JAXB 和它的足迹，我无法将该代码移植到 Android。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:21:34.360

您可以尝试[Simple Framework](http://simple.sourceforge.net/)或[Castor](http://castor-data-binding.github.io/castor/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-17T22:23:44.150

以下内容对我**有用**：

1.  创建验证实用程序。
2.  将 xml 和 xsd 都放入 android 操作系统上的文件中，并针对它使用验证实用程序。
3.  使用 Xerces-For-Android 进行验证。

Android确实支持我们可以使用的一些包，我创建了我的xml验证实用程序，基于：[http ://docs.oracle.com/javase/1.5.0/docs/api/javax/xml/validation/package-summary.html](http://docs.oracle.com/javase/1.5.0/docs/api/javax/xml/validation/package-summary.html)

我最初的沙盒测试使用 java 非常顺利，然后我尝试将其移植到 Dalvik 并发现我的代码不起作用。Dalvik 不支持某些东西，所以我做了一些修改。

我找到了对 android 的 xerces 的引用，所以我修改了我的沙盒测试（**以下不适用于 android，之后的示例可以**）：

```
import java.io.File;

import javax.xml.XMLConstants;
import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.transform.Source;
import javax.xml.transform.dom.DOMSource;
import javax.xml.transform.stream.StreamSource;
import javax.xml.validation.Schema;
import javax.xml.validation.SchemaFactory;
import javax.xml.validation.Validator;

import org.w3c.dom.Document;

/**
 * A Utility to help with xml communication validation.
 */
public class XmlUtil {

    /**
     * Validation method. 
     * Base code/example from: http://docs.oracle.com/javase/1.5.0/docs/api/javax/xml/validation/package-summary.html
     * 
     * @param xmlFilePath The xml file we are trying to validate.
     * @param xmlSchemaFilePath The schema file we are using for the validation. This method assumes the schema file is valid.
     * @return True if valid, false if not valid or bad parse. 
     */
    public static boolean validate(String xmlFilePath, String xmlSchemaFilePath) {

        // parse an XML document into a DOM tree
        DocumentBuilder parser = null;
        Document document;

        // Try the validation, we assume that if there are any issues with the validation
        // process that the input is invalid.
        try {
            // validate the DOM tree
            parser = DocumentBuilderFactory.newInstance().newDocumentBuilder();
            document = parser.parse(new File(xmlFilePath));

            // create a SchemaFactory capable of understanding WXS schemas
            SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);

            // load a WXS schema, represented by a Schema instance
            Source schemaFile = new StreamSource(new File(xmlSchemaFilePath));
            Schema schema = factory.newSchema(schemaFile);

            // create a Validator instance, which can be used to validate an instance document
            Validator validator = schema.newValidator();
            validator.validate(new DOMSource(document));
        } catch (Exception e) {
            // Catches: SAXException, ParserConfigurationException, and IOException.
            return false;
        }     

        return true;
    }
} 
```

上面的代码必须进行一些修改才能与 xerces for android ( [http://gc.codehum.com/p/xerces-for-android/](http://gc.codehum.com/p/xerces-for-android/) ) 一起使用。你需要SVN来获取项目，以下是一些婴儿床笔记：

```
download xerces-for-android
    download silk svn (for windows users) from http://www.sliksvn.com/en/download
        install silk svn (I did complete install)
        Once the install is complete, you should have svn in your system path.
        Test by typing "svn" from the command line.
        I went to my desktop then downloaded the xerces project by:
            svn checkout http://xerces-for-android.googlecode.com/svn/trunk/ xerces-for-android-read-only
        You should then have a new folder on your desktop called xerces-for-android-read-only 
```

使用上面的jar（最终我会把它做成一个jar，直接将它复制到我的源代码中以便快速测试。如果你想这样做，你可以用Ant快速制作jar（[http://ant.apache .org/manual/using.html](http://ant.apache.org/manual/using.html) ))，我能够获得以下内容来进行我的 xml 验证：

```
import java.io.File;
import java.io.IOException;

import mf.javax.xml.transform.Source;
import mf.javax.xml.transform.stream.StreamSource;
import mf.javax.xml.validation.Schema;
import mf.javax.xml.validation.SchemaFactory;
import mf.javax.xml.validation.Validator;
import mf.org.apache.xerces.jaxp.validation.XMLSchemaFactory;

import org.xml.sax.SAXException;

/**
 * A Utility to help with xml communication validation.
 */public class XmlUtil {

    /**
     * Validation method. 
     * 
     * @param xmlFilePath The xml file we are trying to validate.
     * @param xmlSchemaFilePath The schema file we are using for the validation. This method assumes the schema file is valid.
     * @return True if valid, false if not valid or bad parse or exception/error during parse. 
     */
    public static boolean validate(String xmlFilePath, String xmlSchemaFilePath) {

        // Try the validation, we assume that if there are any issues with the validation
        // process that the input is invalid.
        try {
            SchemaFactory  factory = new XMLSchemaFactory();
            Source schemaFile = new StreamSource(new File(xmlSchemaFilePath));
            Source xmlSource = new StreamSource(new File(xmlFilePath));
            Schema schema = factory.newSchema(schemaFile);
            Validator validator = schema.newValidator();
            validator.validate(xmlSource);
        } catch (SAXException e) {
            return false;
        } catch (IOException e) {
            return false;
        } catch (Exception e) {
            // Catches everything beyond: SAXException, and IOException.
            e.printStackTrace();
            return false;
        } catch (Error e) {
            // Needed this for debugging when I was having issues with my 1st set of code.
            e.printStackTrace();
            return false;
        }

        return true;
    }
} 
```

**一些旁注：**

为了创建文件，我制作了一个简单的文件实用程序来将字符串写入文件：

```
public static void createFileFromString(String fileText, String fileName) {
    try {
        File file = new File(fileName);
        BufferedWriter output = new BufferedWriter(new FileWriter(file));
        output.write(fileText);
        output.close();
    } catch ( IOException e ) {
       e.printStackTrace();
    }
} 
```

我还需要写一个我可以访问的区域，所以我使用了：

```
String path = this.getActivity().getPackageManager().getPackageInfo(getPackageName(), 0).applicationInfo.dataDir; 
```

有点hackish，它有效。我确信有一种更简洁的方法可以做到这一点，但是我想我会分享我的成功，因为我没有找到任何好的例子。

# javascript - JavaScript 简单的回显/打印查询

> ID：11410955
> 
> 赞同：0
> 
> 时间：2012-07-10T10:05:29.673
> 
> 标签：javascript, html, forms, input

我知道这是基本的东西，但是在对谷歌、这个网站和其他网站进行了数小时的研究之后，我根本无法解释为什么这段代码不起作用。它没有。有人可以找出错误吗？提前谢谢了：

JavaScript 位：

```
<script language="text/JavaScript">

function myFunction() {

var date1;
date1=getElementByID("date1").value;

document.getElementByID("calculate").innerHTML=date1;

}

</script> 
```

HTML 位（绝对有效，它是一个包含大量表单、表格的相当大的文件）

```
 <html>
<head></head>
<body>
    <div id="wrap">
<h2>JavaScript</h2>
<form>
<table>
<tr>    
<th><input type=text id="date1" value="09:00" size=15></td></th></tr></table></form>

<table>
<tr>    
    <th bgcolor="#eeaaaa" align=center><em></em> <input type=button id=pay id="calculate" size=15 value="Click"></th></tr></table>

<table>
<tr>    
    <th><p id="calculate" size=15> </p></td></th></tr></table>
    </div>
</body>
</html> 
```

​</p>

​</p>

我已经尝试了不同的方法，更改语法，清除杂乱，但似乎没有任何效果。

我感谢任何建设性的意见/批评。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T10:09:39.773

`id=pay id="calculate"`您的第二个输入有两个 id ..`id`需要是唯一的

```
<script language="text/javascript">

function myFunction() {

var date1;
date1=document.getElementById("date1").value;

document.getElementById("calculate").innerHTML=date1;

}

</script> 
```

最重要的是..你没有打电话`myFunction`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:09:48.453

`#calculate`（带有`id="calculate"`）的元素是一个`input`元素。您不使用`innerHTML`but设置其值`value`（就像您在读取 ​​. 中的值时所做的那样`#date1`）

您可能希望使用在线 HTML 验证器或至少更强大的 HTML 编辑器来帮助您编写代码。

# c# - NetworkCredentials 中的用户权限掩码

> ID：11410960
> 
> 赞同：3
> 
> 时间：2012-07-10T10:05:48.600
> 
> 标签：c#, sharepoint, wss-3.0, networkcredentials

虽然我目前正在我们的 Sharepoint 服务器上开发这个 WinForms 应用程序，但我打算让完成的程序在域上的任何计算机上运行。我正在使用 WSS Web 服务从 Sharepoint 获取我使用的所有信息。

我已经编写了一些代码，它将检查 Sharepoint 权限掩码，对掩码进行逻辑或，以获取它涵盖的所有权限，但我无法返回当前用户的 Sharepoint 掩码。我希望用户能够通过 Windows 身份验证直接登录，所以这是我的直接想法。

```
NetworkCredential credentails = CredentialCache.DefaultNetworkCredentials;
var userInfo = userGroupService.GetUserInfo(credentails.UserName); 
```

但是，尽管我能够返回整个 Sharepoint 站点的权限集合`DefaultNetworkCredentials`（如以下代码段所示），但属性是空字符串，因此我无法使用它来获取用户名。

```
permissionService.Credentials = CredentialCache.DefaultNetworkCredentials;
permissionService.Url = "http://localhost/mySite/_vti_bin/Permissions.asmx";
// Web service request works
XmlNode node = permissionService.GetPermissionCollection(siteName, "Web");
// But I need to identify current user from this collection somehow still 
```

我读到 Windows 身份验证存在[双跳问题](http://weblogs.asp.net/owscott/archive/2008/08/22/iis-windows-authentication-and-the-double-hop-issue.aspx)，我想避免这种问题，但是当我在运行 Sharepoint 和 IIS 的服务器上进行开发时，我看不到这会导致立即出现问题。

有没有办法解决这个问题或更好的方法来获取当前用户的权限掩码？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T08:49:18.733

如果 wss 的当前用户将始终与当前登录到 pc 的用户相同

```
var userInfo = userGroupService.GetUserInfo(Environment.UserDomainName +@"\"+ Environment.UserName); 
```

或获取当前登录用户的权限

```
XmlNode currentUserPermission = userGroupService.GetRolesAndPermissionsForCurrentUser(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-28T04:38:50.870

您正在处理身份验证无法超越一个远程主机的问题；这被称为“单跳”限制。

为了克服这个问题，您必须进入“约束委派”，其中明确授权计算机/帐户接收和接受来自另一台计算机/帐户的身份验证凭据。这是通过在委派的任一“端”上定义适当的服务主体名称 (SPN) 在 Active Directory 中设置的。

您可以在此处获取有关约束委派的更多详细信息[。](http://wcfsecurity.codeplex.com/wikipage?title=What%20is%20constrained%20delegation?)

祝你好运！设置 CD 可能有点痛苦，因此请谨慎行事。

# php - MySQL 日期错误

> ID：11410961
> 
> 赞同：1
> 
> 时间：2012-07-10T10:05:50.217
> 
> 标签：php, mysql

MySQL 告诉我语法错误，但我不知道在哪里。谁能帮我？

```
$dt = $xml->item->parameter[2];
$to = date('Y-m-d H:i:s',strtotime($dt));
$query = sprintf("select * from me,val where group_id=%s AND m_id= me_id AND time_stamp <= $to",mysql_real_escape_string($gid));
$result= mysql_query($query) or die(mysql_error());

while ($row=mysql_fetch_array($result)){ 
```

解析为日期有效。提前致谢。

> 错误：您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的“23:59:59”附近使用正确的语法

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T10:08:01.950

您必须将日期 ( `$to`) 放在单引号中：

```
"select * from me,val where group_id=%s AND m_id= me_id AND time_stamp <= '$to'" 
```

为了避免这些（以及许多其他）问题，您可能需要考虑使用准备好的语句（看看[PDO](http://de2.php.net/manual/en/class.pdo.php)或[mysqli](http://de2.php.net/manual/en/book.mysqli.php)）而不是旧的（和不推荐使用的）`mysql_*`函数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T10:09:14.943

```
$query = sprintf("select * from me,val where group_id=%s AND m_id= me_id AND time_stamp <= '$to'",mysql_real_escape_string($gid)); 
```

或者

```
$query = sprintf("select * from me,val where group_id=%s AND m_id= me_id AND time_stamp <= %s",mysql_real_escape_string($gid),$to); 
```

你应该`date`用单引号括起来

# python - Python 套接字缓冲：消息框架

> ID：11410963
> 
> 赞同：0
> 
> 时间：2012-07-10T10:05:51.997
> 
> 标签：python, sockets, tcp-ip

我正在通过 TCP/IP 套接字从外部硬件（Zigbee 接收器）接收数据流（46 字节）到 PC。然后通过使用 Python 编程，我试图从 TCP/IP 套接字接收到的数据流中提取消息。

我的 python 源代码和从数据流中提取的数据，在下面的链接中给出

[https://docs.google.com/document/pub?id=1pYASqImWm4HkKrDbeal8fTBsh_GojBQLXixxbMQBlU](https://docs.google.com/document/pub?id=1pYASqImWm4HkKrDbeeal8fTBsh_GojBQLXixxbMQBlU)

正如我们所知“TCP/IP 对数据流进行操作，而不是通过数据包”

如果我在单个流中收到完整的数据包，我可以提取数据。但有时，在两个数据流中接收到单个数据包（损坏），那时我无法从流中提取我的消息。

我对python编程不太熟悉，所以任何人都可以帮我解决这个问题。

我正在寻找任何好的示例（编程）来管理 TCP/IP 套接字上传入数据流的中断，方法是将这些流作为完整数据包存储在缓冲区中，然后使用分隔符提取消息。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T11:19:04.237

这应该有效：

```
import socket

def connect(addr):
    con = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    con.connect(addr)
    return con 

addr = ('127.0.0.1', 7777)
client_socket = connect(addr)
packet_size = 46
data = ""
while True:
    while len(data) < packet_size:
        d = client_socket.recv(1024)
        if not d:
            client_socket.close()
            client_socket = connect(addr) 
        else:
            data += d
    packet, data = data[:packet_size], data[packet_size:]
    lqi = ord(packet[27])
    ... 
```

# android - Android 变暗屏幕并显示进度

> ID：11410965
> 
> 赞同：-1
> 
> 时间：2012-07-10T10:05:52.643
> 
> 标签：android, progress-bar

我正在使用 AsyncTask 在我的应用程序中上传/下载一些数据。我想要的是，当 AsyncTask 正在运行时，整个屏幕应该变暗/禁用，并且只要任务正在运行，就会在屏幕中间显示一个 ProgressBar。

像这样的东西 ![像这样的东西](../Images/0d151cd557fe6df0cbb9de50d11f75b9.png)

欢迎任何想法/建议。真的需要在我的应用程序中实现它！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T10:12:13.887

默认的“对话”主题就是这样做的。你可以这样做

*   启动一个以对话框为主题的新活动
*   该活动的 xml 必须没有背景图像/颜色
*   在新活动中显示您的对话框
*   完成活动，当根据您的程序逻辑关闭对话框时

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:11:50.683

图片中的对话是一个`Dialogue Activity`。您可以在 Goolge 上搜索如何实现`dialogue Activity` :)

# facebook - 更改密码，访问令牌无效

> ID：11410966
> 
> 赞同：13
> 
> 时间：2012-07-10T10:05:54.270
> 
> 标签：facebook, passwords, token

facebook 页面的网站提要已损坏，我收到以下消息：

```
"message":"Error validating access token: The session has been invalidated 
  because the user has changed the password.",
"type":"OAuthException","code":190,"error_subcode":460 
```

已经提出了类似的问题，但我注意到其中一些问题已经很老了，我想确保答案是最新的。

我可以在不重新申请新令牌的情况下解决错误吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2016-08-18T20:31:10.360

我通过转到 Facebook 开发人员中心的相关应用程序并重置 Facebook 应用程序密钥来解决此问题（即使重新授权也不起作用）。这是我可以修复它的唯一方法，并且非常令人沮丧和荒谬，因为用户更改了他们的登录密码，它破坏了 API/应用程序。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-10T15:53:59.050

不，您需要重新验证用户身份。请参阅此处：~~[处理无效/过期的访问令牌操作方法](https://developers.facebook.com/docs/authentication/access-token-expiration/)~~ [：处理过期的访问令牌](https://developers.facebook.com/blog/post/2011/05/13/how-to--handle-expired-access-tokens/)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-13T13:07:57.127

我注意到您尚未接受答案，所以我想我会尝试提供帮助。我遇到了类似的问题，这个答案对我[有用 https://stackoverflow.com/a/12654266/32348](https://stackoverflow.com/a/12654266/32348)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-11T13:17:55.743

还有一个突出的错误导致许多用户出现此问题。请订阅，以便它得到它需要的关注:-)

[https://developers.facebook.com/bugs/284696814962357](https://developers.facebook.com/bugs/284696814962357)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-10-20T13:38:23.530

这发生在我使用 {SNAP} Social Networks Auto Poster 时，因为我的 Facebook 帐户的密码已更改。

解决步骤：

*   删除在 {SNAP} 设置菜单中设置的完整社交帐户（重新授权不会解决问题，如 snap 客户支持所建议的那样）
*   转到developers.facebook 并更改您的APP Secret。
*   使用您的 APP ID 和新的 APP Secret 在 {SNAP} 中重新开始并创建一个新的社交帐户。

那应该这样做。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-07-31T05:30:09.883

您收到此消息是因为您可能更改了 Facebook 帐户的密码。另一方面，您的 Instagram 帐户密码保持不变。最简单的方法是更改​​您的 Instagram 密码。点击在 Instagram 应用中设置，点击重置密码。该程序可能会向您发送重置密码链接。去做吧。使用新密码重新连接您的 Instagram。该应用程序将要求您继续使用您的 Facebook 帐户，并且您以这种方式重新获得了 instagram 发布广告的权限。你准备好了！

快乐的广告。

# django - 带有徽标图像的 django pdf

> ID：11410976
> 
> 赞同：4
> 
> 时间：2012-07-10T10:06:32.983
> 
> 标签：django

我使用比萨创建了发票 Pdf 文本模板。但我想在 pdf 文件中显示徽标（图像）以及文本。我不知道如何在 pdf 中显示图像。我的看法如下：

```
def generate_invoice(request, user_id = None):
    personal_html = ''
    personal_html += 'hai'

    fileread = str(settings.TEMPLATE_DIRS[0])+str('/invoice.html')
    fr = open(fileread, "r").read()
    fr = fr.replace('personal_details', personal_html)
    result = StringIO.StringIO()
    pdf = pisa.CreatePDF(
                        fr,result
                        )
    filewrite = str(settings.TEMPLATE_DIRS[0]) + str('/invoice_write.html')
    empty = ""
    fw = open(filewrite, 'w')
    fw.write(empty)
    fw.write(fr)
    fw.close()
    PaymentPdf.objects.filter(invoicepdf = user_id).delete()
    pdf_contents     = render_to_pdf1('invoice_write.html',result)
    file_to_be_saved = ContentFile(pdf_contents)
    random_str       = ''.join(random.sample((string.ascii_lowercase + string.ascii_uppercase + string.digits), 8))
    resume_name      = (str(user_id) + "_" + random_str + ".pdf").replace("@", '')
    resume           = PaymentPdf.objects.create(name = resume_name, invoicepdf_id = user_id, created_by = request.user)
    resume.name.save(resume_name ,file_to_be_saved)
    file_path = PaymentPdf.objects.get(invoicepdf = user_id).name
    pdf_file = str(file_path).split("media")[1]
    return HttpResponseRedirect('/site_media' + pdf_file)

def render_to_pdf1(template_src, context_dict):
    template = get_template(template_src)
    context  = Context(context_dict)
    html     = template.render(context)
    result   = StringIO.StringIO()
    pdf      = pisa.pisaDocument(StringIO.StringIO(html.encode("ISO-8859-1")), result)
    return result.getvalue() 
```

有人帮我在pdf中显示图像吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T12:12:54.453

在 Django 中参考[Pisa (XHTML -> PDF) 不会在 PDF 中显示图像](https://stackoverflow.com/questions/7289592/pisa-xhtml-pdf-in-django-will-not-display-images-in-pdf)，并添加行

```
links    = lambda uri, rel: os.path.join(settings.MEDIA_ROOT, uri.replace(settings.MEDIA_URL, ''))
pdf      = pisa.pisaDocument(StringIO.StringIO(html.encode("UTF-8")),dest=result, link_callback=links) 
```

在视图的 render_to_pdf1 和 html 中：

```
<img src="/site_media/img/logo.jpg"/ height="55" width="275"> 
```

它会起作用的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T11:52:00.650

我认为*html*包含这样的内容：

```
<img src="/media/xxx.jpg"/> 
```

比萨需要这样的东西：

```
<img src="http://mydomain.foo/media/xxx.jpg"/> 
```

# playframework-2.0 - 播放框架 2.0.2 SQL Server 配置

> ID：11410981
> 
> 赞同：4
> 
> 时间：2012-07-10T10:06:59.157
> 
> 标签：playframework-2.0

我在连接到 SQL Server 时遇到问题：

在我的`application.conf`我有：

```
db.default.driver=com.microsoft.sqlserver.jdbc.SQLServerDriver
db.default.url="jdbc:sqlserver://localhost\\SQLEXPRESS:1433;databaseName=testdb;user=sa;password=***;" 
```

当我运行应用程序时，出现错误：

> play.api.Configuration$$anon$1：配置错误
> [找不到驱动程序：[com.microsoft.sqlserver.jdbc.SQLServerDriver]]

请帮帮我

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-10T11:05:07.483

您需要类路径中的 Sql Server 驱动程序。你可以通过创建一个 lib/ 目录并将 SQL Server 驱动程序 jar 放在那里，或者更新你的 SBT 依赖项来做到这一点。见[http://www.playframework.org/documentation/2.0.2/SBTDependencies](http://www.playframework.org/documentation/2.0.2/SBTDependencies)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-04-06T09:06:31.583

您需要下载官方的 MS SQL Server 驱动程序[https://www.microsoft.com/en-us/download/details.aspx?id=11774](https://www.microsoft.com/en-us/download/details.aspx?id=11774)

然后将驱动 jar 复制`sqljdbc4.jar`到项目根目录下的 lib 文件夹中（正如 Adam 之前提到的）。

# batch-file - .bat 重命名文件名删除前 x 个字符和后 x 个字符

> ID：11410982
> 
> 赞同：3
> 
> 时间：2012-07-10T10:07:02.223
> 
> 标签：batch-file

我需要重命名某个文件夹中的文件，就像解释它需要通过删除我设置的第一个 x 字符和最后一个 x 字符来重命名一个文件夹中的文件名一样。有人可以告诉我怎么做吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-10T10:55:58.680

干得好：

```
@echo off
setlocal enabledelayedexpansion
set X=3
set FOLDER_PATH=.
pushd %FOLDER_PATH%
for %%f in (*) do if %%f neq %~nx0 (
    set "filename=%%~nf"
    set "filename=!filename:~%X%,-%X%!"
    ren "%%f" "!filename!%%~xf"
)
popd 
```

此脚本进入文件夹（由 指定）并从每个文件的*文件名*`FOLDER_PATH`中删除第一个和最后一个`X`字符（保留其扩展名）。根据需要进行修改。*`X``FOLDER_PATH`*

# android - 在android中创建一个下拉列表而不是微调器

> ID：11410984
> 
> 赞同：2
> 
> 时间：2012-07-10T10:07:13.187
> 
> 标签：android

在我的应用程序中，我想创建一个显示数据的下拉菜单，但下拉菜单看起来像 web 中所示的下拉菜单，而不是微调器。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-11T14:19:02.890

我在 github 上创建了一个下拉演示项目来帮助解决这个问题，我很想念视图/小部件。

它基于用于显示当前选择的备选方案的文本视图（标题）和包含备选方案的线性布局。当点击标题时，我会在线性布局中使用备选方案进行动画处理，一旦选择了 alt，线性布局就会被动画化。

该项目可以在这里找到：

[https://github.com/erbsman/DropDownDemo](https://github.com/erbsman/DropDownDemo)

希望这可以帮助 ：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:21:42.030

你可以像这样创建一个动画类

```
public class DropDownAnimation extends Animation {
    public int height, width;

    @Override
    public void initialize(int width, int height, int parentWidth,
            int parentHeight) {
        // TODO Auto-generated method stub
        super.initialize(width, height, parentWidth, parentHeight);
        this.width = width;
        this.height = height;
        setDuration(500);
        setFillAfter(true);
        setInterpolator(new LinearInterpolator());
    }

    Camera camera = new Camera();

    @Override
    protected void applyTransformation(float interpolatedTime, Transformation t) {
        // TODO Auto-generated method stub
        super.applyTransformation(interpolatedTime, t);

        Matrix matrix = t.getMatrix();
        camera.save();

        camera.getMatrix(matrix);
        matrix.setTranslate(0, (height * interpolatedTime));

        matrix.preTranslate(0, -height);
        camera.restore();

        this.setAnimationListener(this);
    } 
```

并像这样使用它：

```
 LinearLayout ll = (LinearLayout) findViewById(R.id.parentLayout);
    ll.startAnimation(new DropDownAnimation()); 
```

# html - 我应该使用引导程序吗？

> ID：11410985
> 
> 赞同：7
> 
> 时间：2012-07-10T10:07:20.500
> 
> 标签：html, css, twitter-bootstrap

我即将开始一个非常大的前端构建项目，并且可能会为许多站点重用相同的网格。我团队中的后端开发人员对 Bootstrap 以及我们应该如何使用它赞不绝口。

我已经开始使用它，它非常好，但是我们的网格变得比 Bootstrap 更复杂。因此，我深入研究了 LESS 文件并添加了一些我自己的规则并修改了响应式网格。我可能还需要在其中更改和添加媒体查询。

所以我的问题是，考虑到我必须对 Bootstrap 进行相当多的更改和自定义，**最好的做法**是这样做还是从头开始创建我的网格/框架？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-10T12:35:35.920

我建议您使用引导程序并根据需要应用自定义。在我们的例子中，我们提供了几个额外的 .less 文件，并在 bootstrap.less 中 @import 它们。我们将一个用于变量，在 variables.less 的正下方导入，另一个用于类，在 boostrap.less 列表的末尾导入。这样，您可以确保您可以覆盖变量和类，并包含您自己的，同时保持与未来引导程序更新的兼容性

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T10:14:48.840

首先检查您必须在 twitter bootstrap 中构建多少东西才能使其与您的框架相匹配。我认为 twitter bootstrap 带有响应式网格，因此您不必使用很多东西 + Less 可以自定义您想要的方式。检查[http://twitter.github.com/bootstrap/less.html](http://twitter.github.com/bootstrap/less.html)

如果没有。的功能太多了，然后考虑项目预算以及将来如何使用 twitter bootstrap。它会回答我猜想的一切:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T10:10:42.717

看看 jqgrid [http://www.trirand.com/blog/jqgrid/jqgrid.html](http://www.trirand.com/blog/jqgrid/jqgrid.html)，它可以在很大程度上进行自定义..只需稍加调整，我们就可以将其与 BootStrap 集成

# c# - 如果你改变它们的身份，HashSets 不会保持元素的唯一性

> ID：11410994
> 
> 赞同：6
> 
> 时间：2012-07-10T10:07:42.753
> 
> 标签：c#, .net, clr, hashset

在使用`HashSets`C# 时，我最近遇到了一个烦人的问题：`HashSets`不保证元素的唯一性；它们不是集合。他们所做的保证是，当被调用时，如果集合中`Add(T item)`的任何项目是 ，则不会添加该项目。如果您操作集合中已有的项目，这将不再成立。一个演示的小程序（来自我的 Linqpad 的 copypasta）：`item.equals(that)``true`

```
void Main()
{
    HashSet<Tester> testset = new HashSet<Tester>();
    testset.Add(new Tester(1));
    testset.Add(new Tester(2));
    foreach(Tester tester in testset){
      tester.Dump();
    }
    foreach(Tester tester in testset){
      tester.myint = 3;
    }
    foreach(Tester tester in testset){
      tester.Dump();
    }
    HashSet<Tester> secondhashset = new HashSet<Tester>(testset);
    foreach(Tester tester in secondhashset){
      tester.Dump();
    }
}

class Tester{
  public int myint;

  public Tester(int i){
    this.myint = i;
  }

  public override bool Equals(object o){
    if (o== null) return false;
    Tester that = o as Tester;
    if (that == null) return false;
    return (this.myint == that.myint);
  }

  public override int GetHashCode(){
    return this.myint;
  }

  public override string ToString(){
    return this.myint.ToString();
  }
} 
```

它会愉快地将集合中的项目操作为相等，仅在构建新的 HashSet 时将它们过滤掉。当我想使用需要知道条目是唯一的集合时，有什么建议？滚动我自己的，其中 Add(T item) 添加项目的副本，枚举器枚举包含项目的副本？这带来了挑战，即每个包含的元素都应该是可深度复制的，至少在影响其平等的项目中是这样。

另一种解决方案是推出自己的解决方案，并且只接受实现 INotifyPropertyChanged 的​​元素，并对事件采取行动以重新检查是否相等，但这似乎严重限制，更不用说引擎盖下的大量工作和性能损失.

我想到的另一个可能的解决方案是确保构造函数中的所有字段都是只读的或常量。所有解决方案似乎都有很大的缺点。我还有其他选择吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-10T10:13:27.623

你真的在谈论对象身份。如果您要对项目进行哈希处理，它们需要具有某种身份，以便可以进行比较。

*   如果情况发生变化，则它不是有效的身份方法。您目前拥有`public int myint`. 它确实应该是`readonly`，并且只能在构造函数中设置。
*   如果两个对象在概念上是不同的（即您想在您的特定设计中将它们视为不同），那么它们的哈希码应该不同。
*   如果您有两个具有相同内容的对象（即具有相同字段值的两个值对象），那么它们应该具有相同的哈希码并且应该相等。
*   如果您的数据模型说您可以拥有两个具有相同内容但它们不能相等的对象，您应该使用代理 id，而不是散列内容。
*   也许你的对象应该是不可变的值类型，所以对象不能改变
*   如果它们是可变类型，您应该分配一个代理 ID（即一个从外部引入的，如递增的计数器 id 或使用对象的哈希码），对于给定的对象，它永远不会改变

这是您的`Tester`对象的问题，而不是集合的问题。您需要认真考虑如何定义身份。这不是一个容易的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T10:18:15.040

当我需要一个有保证的唯一项目的一维集合时，我通常会选择`Dictionary<TKey, Tvalue>`：你不能添加相同的元素`Key`，另外我通常需要为项目附加一些属性并且`Value`派上用场（我的首选值类型`Tuple<>`是许多价值观...）。

当然，它不是性能最高的解决方案，也不是最不占用内存的解决方案，但我通常没有性能/内存问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T10:21:39.630

您应该实现自己的[IEqualityComparer](http://msdn.microsoft.com/en-us/library/ms132151.aspx)并将其传递给 HashSet 的构造函数，以确保您获得所需的相等比较器。

正如 Joe 所说，如果您希望集合保持唯一性，甚至超出 `.Add(T item)`您需要使用由构造函数创建且没有公开可见的集合属性的 ValueObjects。IE

# android - iScroll 4 无法正常工作

> ID：11410996
> 
> 赞同：5
> 
> 时间：2012-07-10T10:07:52.620
> 
> 标签：android, cordova, iscroll

我已经下载了 iScroll.js 并在我的一个 phonegap 项目中使用，即

```
<script type="application/javascript" src="iscroll.js"></script>
<script type="text/javascript">
var myScroll;
function loaded() {
myScroll = new iScroll('wrapper');
}
document.addEventListener('DOMContentLoaded', loaded, false);
</script> 
```

它也不适用于普通浏览器，但是**当我检查元素时它开始工作得非常好？**不知道是什么问题...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T14:11:25.983

不要定义存在内容的内部 div 的高度和宽度。并在内容完全动态呈现后创建对象 iScroll。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-10T11:05:59.230

**如何使用 iScroll**

1) 需要阻止标准触摸事件的默认行为。通过在 touchmove 事件中添加**preventDefault()**很容易做到这一点。

2)在 DOMContentLoaded 或窗口加载时初始化*iScroll对象。*

将您的代码更改为，

```
 function loaded() {
        document.addEventListener('touchmove', function(e){ e.preventDefault(); });
        myScroll = new iScroll('wrapper');
}
document.addEventListener('DOMContentLoaded', loaded, false); 
```

希望它有所帮助。

# c# - 如何在 wpf 中将标签内容（在 XAML 文件中）更改为小写和大写

> ID：11410998
> 
> 赞同：1
> 
> 时间：2012-07-10T10:07:53.530
> 
> 标签：c#, wpf, storyboard

```
<Storyboard x:Key="ShiftAltClickValue2Animate">

        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(ContentControl.Content)" Storyboard.TargetName="lbl_AWithDiaeresis">
            <DiscreteObjectKeyFrame KeyTime="0:0:0.2" Value="Ä"/>
            <DiscreteObjectKeyFrame KeyTime="0:0:0.4" Value="ä"/>
        </ObjectAnimationUsingKeyFrames>
    </Storyboard> 
```

**我在 wpf 中创建了一个故事板。然后将相同的故事板应用到后面代码**中的许多控件。所以我必须在 Freame by Frame中将标签内容**从大写更改为小写，从小写更改为大写。**

上面的代码对于一个控件是可能的，而在多个控件中是不可能的。我该怎么做。