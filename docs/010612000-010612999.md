# StackOverflow 问答 10612000-10612999

# java - 使用 JMF 从网络摄像头拍摄快照

> ID：10612000
> 
> 赞同：0
> 
> 时间：2012-05-16T04:28:45.490
> 
> 标签：java, jmf

我想通过java从网络摄像头拍摄快照。我跟着[这个问题](https://stackoverflow.com/questions/1078689/how-to-take-single-snapshots-from-a-webcam)来到了这个[例子](http://www.comp.rgu.ac.uk/staff/fh/CM4062/mis/jmf/FrameGrab.html)。但是下面一行出现了一个空指针异常 -

```
Buffer buf = frameGrabber.grabFrame();
Image img = (new BufferToImage((VideoFormat) buf.getFormat())
                .createImage(buf));
        buffImg = new BufferedImage(img.getWidth(this), img.getHeight(this),
                BufferedImage.TYPE_INT_RGB); 
```

通过调试器，我观察到缓冲区实际上并不包含数据。于是我就去创建frameGrabber。

```
frameGrabber = (FrameGrabbingControl) player
                .getControl("javax.media.control.FrameGrabbingControl"); 
```

这段代码有问题吗。因为 JMFStudio 在我的机器上运行良好，但代码无法访问它。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:51:32.980

我找到了解决方案。JMF 需要时间进行初始化。在示例中，我们必须切换一条线。放在

```
new Timer(3000, this).start(); 
```

在 try catch 之下。

整个块如下所示。

```
 try {
            player = Manager.createRealizedPlayer(cdi.getLocator());
            player.start();
        } catch (NoPlayerException e) {
            e.printStackTrace();
        } catch (CannotRealizeException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
            new Timer(3000, this).start();
        // Grab a frame from the capture device
        frameGrabber = (FrameGrabbingControl) player
                .getControl("javax.media.control.FrameGrabbingControl"); 
```

# has-and-belongs-to-many - 如何拆分我的 HABTM 标签？

> ID：10612001
> 
> 赞同：0
> 
> 时间：2012-05-16T04:28:51.310
> 
> 标签：has-and-belongs-to-many, cakephp-2.1

我想在帖子的添加表单中取一个字段，在空格处展开，并将每个单词保存为标签，即 HasAndBelongsToMany Post。因此，对于每个无法识别的标签，它都会创建一个新标签，但如果该标签已经存在，它只会在 posts_tags 表中创建一个新引用。我尝试过使用 saveAll、saveAssociated 和一些 foreach hack，但我不确定哪里出了问题，但我不知道如何保存关联数据。任何关于如何将标签数据从表单获取到数据库的大纲都将不胜感激。

```
//in model
public function parseTags($data) {
    $str = $data['Tag'][0]['title'];
    $tags = explode('',$str);
    for ($i=0; $i<count($tags); $i++) {
        $data['Tag'][$i]['title'] = $tags[$i];
    }
    return $data;
}

//in view
echo $this->Form->input('Tag.0.title',array('label'=>'Tags'));

//in controller
public function add() {
    if ($this->request->is('post')) {
        $this->Question->create();
        $this->request->data['Question']['user_id'] = $this->Auth->user('id');
        $this->request->data = $this->Question->parseTags($this->request->data);
        if ($this->Question->saveAll($this->request->data)) {
            $this->Session->setFlash(__('The question has been saved'), 'default', array('class' => 'success'));
            $this->redirect(array('action' => 'index'));
        } else {
            $this->Session->setFlash(__('The question could not be saved. Please, try again.'));
        }
    }
    $users = $this->Question->User->find('list');
    $this->set(compact('users'));
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-18T17:45:38.933

你必须先检查Tag之前是否保存过，如果没有保存，你可以保存它。因此，在您保存模型之前，您的所有标签都已保存。

像这样的东西：

```
/* $tag_list is exploded tags*/

        foreach ($tag_list as $tag) {
            $res = $this->Tag->find('first', array('conditions' => array('Tag.name' => $tag)));
            if ($res != array()) {
                $tag_info[] = $res['Tag']['id'];
            } else {
                $this->Tag->create();
                $this->Tag->save(array('Tag.name' => $tag));
                $tag_info[] = sprintf($this->Tag->getLastInsertID());
            }

        }
        $this->model->data['Tag']['Tag'] = $tag_info; 
```

# jquery - 当其他切换打开时Jquery关闭切换

> ID：10612004
> 
> 赞同：2
> 
> 时间：2012-05-16T04:29:29.177
> 
> 标签：jquery, toggle

我有两个滑动面板，panel1 向下滑动，而 panel2 从左侧滑动。我想在打开 panel2 时关闭 panel1。我知道已经回答了许多类似的问题，但我不知道如何在我的网站中应用这些问题。

```
$(document).ready(function(){
  $(".slide-btn1").click(function(){
    $("#panel1").toggle("slow");
    $(this).toggleClass("active");
    return false;
  });
  $(".slide-btn2").click(function(){
    $("#panel2").slideToggle("slow");
    $(this).toggleClass("active");
    return false;
  });
}); 
```

编辑：这是我到目前为止所做的[http://jsfiddle.net/Pukau/9CFgR/2/](http://jsfiddle.net/Pukau/9CFgR/2/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-16T12:47:19.040

```
$(document).ready(function(){
    $(".slide-btn1").click(function(){
           $("#panel2").slideUp("fast");
            $('.active').removeClass('active');
        $("#panel1").toggle("fast");
        $(this).toggleClass("active");
        return false;
    });
        $(".slide-btn2").click(function(){
             $("#panel1").slideUp("fast");
           $('.active').removeClass('active');
        $("#panel2").slideToggle("slow");
        $(this).toggleClass("active");
        return false;
    });
});​ 
```

对于现场演示，请参阅此链接：http: [//jsfiddle.net/nanoquantumtech/HT9Bx/](http://jsfiddle.net/nanoquantumtech/HT9Bx/)

# android - 如何从 ContextItemSelected listview android中的菜单删除中删除联系人数据

> ID：10612005
> 
> 赞同：-1
> 
> 时间：2012-05-16T04:29:41.503
> 
> 标签：android, android-contacts, android-menu, android-context, android-cursor

我已经尝试过这段代码，但是当我单击删除菜单 ContextItemSelected 时，列表视图中没有丢失任何数据

```
public boolean onContextItemSelected(MenuItem item)
    {
        switch (item.getItemId()) 
        {
        case DELETE_ID:
            AdapterView.AdapterContextMenuInfo menuinfo;
            menuinfo = (AdapterContextMenuInfo)item.getMenuInfo();
            int id = menuinfo.position;
            deleteContact(id);
            populateContactList();
            return true;
        }
        return super.onContextItemSelected(item);
        }

    public static boolean deleteContact(int id) {

        Uri contactUri = Uri.withAppendedPath(PhoneLookup.CONTENT_FILTER_URI, Uri.encode(phone));
        Cursor cur = ctx.getContentResolver().query(contactUri, null, ContactsContract.Contacts._ID + "=" + id, null, null);
        try {
            if (cur.moveToFirst()) {
                do {
                    if (cur.getString(cur.getColumnIndex(PhoneLookup.DISPLAY_NAME)).equalsIgnoreCase(name)) {
                        String lookupKey = cur.getString(cur.getColumnIndex(ContactsContract.Contacts.LOOKUP_KEY));
                        Uri uri = Uri.withAppendedPath(ContactsContract.Contacts.CONTENT_LOOKUP_URI, lookupKey);
                        ctx.getContentResolver().delete(uri,ContactsContract.Contacts._ID + "=" + id, null);
                        return true;
                    }

                } while (cur.moveToNext());
            }

        } catch (Exception e) {
            System.out.println(e.getStackTrace());
        }
        return false;
    } 
```

还有其他方法可以删除联系人吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T04:36:18.087

在上下文项选定值上，您还必须检查在哪个列表视图项上下文菜单中创建，为此您可以编写

```
if(itemID == 1)

{
AdapterView.AdapterContextMenuInfo menuinfo;
menuinfo = (AdapterContextMenuInfo)item.getMenuInfo();

int index_id = menuinfo.position;
deletedata(index_id); 
```

在 index_id 中，您获得了创建上下文菜单的列表视图项，之后您可以触发查询方法以及您想要对数据执行的任何操作。:)

# java - Jackson SAX 解析器在解析巨大的 JSON 时抛出异常

> ID：10612006
> 
> 赞同：1
> 
> 时间：2012-05-16T04:29:44.287
> 
> 标签：java, android, json, jackson

我正在尝试使用 Jackson SAX 解析器实现 JSON 数组迭代器（请不要问为什么）。我的应用程序应该可以处理大文件（最多 5 MiB），这是个问题。

这就是我初始化 JsonParser 并调用迭代器创建的方式。我创建了 InputStream，并使用放置在 \raw 文件夹中的 JSON 进行了初始化。

```
    私有 JsonArrayIterator getIterator(String needle) 抛出 IOException
    {
        InputStream inputStream = getApplicationContext().getResources().openRawResource(R.raw.products);
        inputStream.mark(-1);

        尝试 {
        JsonParser jsonParser = createJsonParser(inputStream);

        // 一些不相关的代码

        返回新的 JsonArrayIterator(jsonParser);
    } 捕捉（IOException e）{
        e.printStackTrace();
    } 最后 {
        inputStream.close();
    }

        返回空值；
    }

```

这是我的迭代器类。

```
    私有对象 parseNextObject() 抛出 IOException {
        // 由于某些原因，我没有使用 ObjectMapper
        HashMap nextObject = new HashMap();

        int objectsCount = 1;

        而（对象计数> 0）{
            JsonToken currentToken = currentParser.nextValue();

            如果（currentToken == JsonToken.START_OBJECT）{
                ++对象计数；
            }
            否则如果（currentToken == JsonToken.END_OBJECT）{
                --对象计数；
            }
            否则如果（currentToken == JsonToken.START_ARRAY）{
                字符串 currentName = currentParser.getCurrentName();
                ArrayList 列表 = 新的 ArrayList(100);
                JsonArrayIterator it = new JsonArrayIterator(currentParser);

                而（it.hasNext（））{
                    list.add(it.next());
                }

                nextObject.put(currentName, list);
            }
            别的 {
                // 这里抛出异常
                nextObject.put(currentParser.getCurrentName(), currentParser.getText());
            }
        }

        currentParser.nextToken(); // 跳过 END_OBJECT
        返回下一个对象；
    }

```

它似乎工作得很好......哦，等等。

我在一些大文件中有 3 个部分（命名数组）。它首先成功解析（一个很小的，小于 1000 字节）。但我无法解析下一个。

下一个数组具有带有简单对象的嵌套数组（如下所示）：

```
    {
        “特性”：[
            {
                "id":"1",
                "标题":"\u0426\u0432\u0435\u0442",
                “价值观”：[
                    {
                        "id":"1_2",
                        “标题”：“\u0427\u0435\u0440\u043d\u044b\u0439”
                    },
                    {
                        "id":"1_5005",
                        “标题”：“\u0417\u0435\u043b\u0435\u043d\u044b\u0439”
                    },
                    {
                        "id":"1_5006",
                        “标题”：“\u0421\u0435\u0440\u044b\u0439”
                    }
                ]
            }
        ]
    }

```

对于值中的一个对象，我调用 nextObject.put。currentParser.getCurrentName() 成功运行并返回正确的字符串，但 currentParser.getText() 失败。这不是 JSON 问题：它完美地映射到 iOS 上。这不是对象或迭代器创建问题：我可以删除解析器抛出异常的地方，但它会在同一个地方失败。

这是堆栈跟踪：

```
    05-15 21:57:28.617：错误/AndroidRuntime（14758）：致命异常：主要
    java.lang.NullPointerException：资产
    在 android.content.res.AssetManager.readAsset（本机方法）
    在 android.content.res.AssetManager.access$700(AssetManager.java:36)
    在 android.content.res.AssetManager$AssetInputStream.read(AssetManager.java:576)
    在 com.fasterxml.jackson.core.json.UTF8StreamJsonParser.loadMore(UTF8StreamJsonParser.java:174)
    在 com.fasterxml.jackson.core.base.ParserBase.loadMoreGuaranteed（ParserBase.java:425）
    在 com.fasterxml.jackson.core.json.UTF8StreamJsonParser._finishString2(UTF8StreamJsonParser.java:1930)
    在 com.fasterxml.jackson.core.json.UTF8StreamJsonParser._finishString(UTF8StreamJsonParser.java:1911)
    在 com.fasterxml.jackson.core.json.UTF8StreamJsonParser.getText(UTF8StreamJsonParser.java:276)
    在 ru.studiomobile.JsonArrayIterator.parseNextObject(JsonArrayIterator.java:57)
    在 ru.studiomobile.JsonArrayIterator.next(JsonArrayIterator.java:73)
    在 ru.studiomobile.JsonArrayIterator.parseNextObject(JsonArrayIterator.java:47)
    在 ru.studiomobile.JsonArrayIterator.next(JsonArrayIterator.java:73)
    在 ru.studiomobile.MainActivity$2.onClick(MainActivity.java:81)
    在 android.view.View.performClick(View.java:3127)
    在 android.view.View$PerformClick.run(View.java:12025)
    在 android.os.Handler.handleCallback(Handler.java:587)
    在 android.os.Handler.dispatchMessage(Handler.java:92)
    在 android.os.Looper.loop(Looper.java:132)
    在 android.app.ActivityThread.main(ActivityThread.java:4126)
    在 java.lang.reflect.Method.invokeNative(Native Method)
    在 java.lang.reflect.Method.invoke(Method.java:491)
    在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:844)
    在 com.android.internal.os.ZygoteInit.main(ZygoteInit.java:602)
    在 dalvik.system.NativeStart.main（本机方法）

```

我注意到有一个叫做 Utf8StreamJsonParser 的东西。它有一个名为 _inputEnd 的字段等于 4000（为什么是 4000？）。当其他字段 _inputPtr 变大时，它会引发异常。我该如何处理？我尝试使用具有预定义块大小的 BufferedInputStream 而不是 InputStream 但它没有效果。

## 更新

有关某些行的信息

```
    47: 列表.add(it.next());  
    73: 返回 parseNextObject();  
    75: e.printStackTrace();

```

没什么特别的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T16:17:37.503

这是一个明显的问题：我忘记了在创建解析器后我关闭了流......

# sql - 如何显示员工和参与者的总数，以及所有部门的参与百分比？

> ID：10612007
> 
> 赞同：1
> 
> 时间：2012-05-16T04:29:49.077
> 
> 标签：sql, database, sql-server-2008-r2

我有以下数据库设计：

```
Employees Table: EmployeeID, Name, OrgCode
Departments Table: OrgCode, DepartName
CompleteSurvey Table: ID, ParticipantID 
```

我需要开发一个查询，该查询将显示一个表格，该表格显示所有部门的员工总数以及所有部门完成调查的参与者总数。

我可以通过以下查询找到所有部门的员工总数：

```
SELECT     COUNT(DISTINCT dbo.Employees.EmployeeID) AS [Total Number of Employees]
FROM         dbo.Departments INNER JOIN
                      dbo.Employees ON dbo.Departments.OrgCode = dbo.Employees.OrgCode CROSS JOIN
                      dbo.CompleteSurvey 
```

然后，我可以通过以下查询找到所有部门的参与者总数：

```
SELECT     COUNT(DISTINCT dbo.CompleteSurvey.ID) AS [Total Number of Participants]
FROM         dbo.Departments INNER JOIN
                      dbo.Employees ON dbo.Departments.OrgCode = dbo.Employees.OrgCode INNER JOIN
                      dbo.CompleteSurvey ON dbo.Employees.EmployeeID = dbo.CompleteSurvey.RespondantID 
```

但我应该只有一个查询。

例如，如果 A 部门有 100 名员工，参与者的数量是 50 / 100，B 部门有 80 名员工，参与者的数量是 30

查询应显示以下内容：

**各部门员工总数=180**

**各部门总人数=80**

**所有这些的完成百分比 = 80/180 = 44%**

**那么该怎么做呢？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T06:09:14.410

我不知道 SQL Server，我希望 Oracle 解决方案也能提供帮助：

```
select e.employees, c.respondents, (c.respondents / e.employees) * 100 percentage
  from (select count(*) employees from employees) e,
       (select count(*) respondents from complete_survey) c 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-17T07:58:49.433

您不需要`Department`在这些计算中涉及该表：

```
SELECT
  TotalEmployees          = COUNT(*),
  TotalParticipants       = COUNT(s.ParticipantID),
  ParticipationPercentage = COUNT(s.ParticipantID) * 100.0 / COUNT(*)
FROM dbo.Employee e
  LEFT JOIN (SELECT DISTINCT ParticipantID FROM dbo.CompleteSurvey) s
    ON e.EmployeeID = s.ParticipantID 
```

# c# - C#添加组合框动态丢失其他组合框中的选定项目

> ID：10612009
> 
> 赞同：0
> 
> 时间：2012-05-16T04:29:54.810
> 
> 标签：c#, .net, winforms

在表单上，​​我有一个默认组合框，我有另一个按钮，允许用户添加更多组合框，但是，当用户动态添加新组合框时，默认组合框中的现有选定值会发生变化，但想法是添加了许多组合框，如果用户选择了任何内容，则每个先前添加的 ComboBox 都不会丢失选择。有人能指出正确的方向吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T14:38:02.887

你对你的问题不是很清楚，但是我建议`BindingContext`在将它添加到表单之前为你的控件设置一个新的。
祝你好运。

# css - CSS IE8 照片被隐藏

> ID：10612011
> 
> 赞同：0
> 
> 时间：2012-05-16T04:30:05.757
> 
> 标签：css, internet-explorer-8

在我的画廊中，我有位于无序列表中的缩略图。由于某种原因，它们不会在 IE8 中显示。谁能解释为什么？

[www.melbournedodgeball.com.au/dodgeball2012/photos](http://www.melbournedodgeball.com.au/dodgeball2012/photos)

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T04:48:40.183

请使用 clearfix 这个方法，添加这个代码

```
<ul class="clearfix gallery"> 
   <li></li>
</ul>

.gallery ul li {width:223px; float:left;}
.gallery ul li a {width:100%;} 
```

# java - NetBeans 安装程序插件

> ID：10612012
> 
> 赞同：0
> 
> 时间：2012-05-16T04:30:06.940
> 
> 标签：java, netbeans, installation

我正在使用 NetBeans IDE 7.1。我正在寻找如何为应用程序创建安装程序 (*.exe)，我在[这里](https://blogs.oracle.com/geertjan/entry/generate_a_netbeans_platform_installer)找到了一个教程，但我在项目属性中找不到安装程序选项。我可以从哪里下载安装程序插件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:44:25.347

作者在教程中提供的示例仅在您创建基于[NBI](http://wiki.netbeans.org/NBI)构建的“NetBeans 平台应用程序”项目（您可以在 New Project->NetBeans Modules 下找到它）时才有效。

但是，这篇其他帖子（[从 Netbeans 6.9.1 制作 .exe 安装程序](https://stackoverflow.com/questions/5650798/making-exe-installer-from-netbeans-6-9-1)）可能会帮助您实现目标。

# android - 识别 Android 中两个不同图库项目的 onItemClick

> ID：10612021
> 
> 赞同：0
> 
> 时间：2012-05-16T04:31:10.073
> 
> 标签：android, android-gallery, onitemclicklistener, onitemclick

在我的活动中，我有两个**图库**项目。我正在实施`OnItemClickListener`，所以我必须覆盖`onItemClick`方法。我已将侦听器设置如下，

```
eBookGallery.setOnItemClickListener(this);
eBrochuresGallery.setOnItemClickListener(this); 
```

这两个画廊从两个不同的**ArrayList**加载。我想要的是，当我单击**eBookGallery**时，我想从**eBookArrayList**获取数据，当我单击**eBrochuresGallery**时，我想从**eBrochureArrayList**获取数据。

如何使用单一`onItemClick`方法完成该任务。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T04:39:43.460

该`onItemClick`方法中的第一个参数标识了`AdapterView`单击发生的位置。

```
public void onItemClick (AdapterView<?> parent, View view, int position, long id){
    if(parent == eBookGallery){
        //Click on an eBookGallery item
    }else if(parent == eBookBrochuresGallery){
        //Click on an eBookBrochuresGallery item
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T04:44:30.637

当用户点击android中的任何东西时，如果用户点击它，我们会在它上面添加点击监听器，然后监听器返回一个视图，根据它，视图是这些对象，我们可以使用findviewbyid从视图中获取id。在 id 的基础上，我们可以识别然后查看。

# javascript - 类更改的事件触发器

> ID：10612024
> 
> 赞同：43
> 
> 时间：2012-05-16T04:31:48.017
> 
> 标签：javascript

我希望在更改包含**触发器**类的 div 标签时**触发我的事件。**

 **> 我不知道如何让它监听班级的添加事件。

```
<div id="test">test</div>

<script type="text/javascript">
    document.getElementById.setAttribute("class", "trigger");

    function workOnClassAdd() {
       alert("I'm triggered");
    }
</script> 
```

* * *

## 回答 #1

> 赞同：64
> 
> 时间：2018-12-24T13:28:20.547

未来就在这里，您可以使用[*MutationObserver*](https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver)接口来监视**特定**的类更改。

```
let targetNode = document.getElementById('test')

function workOnClassAdd() {
    alert("I'm triggered when the class is added")
}

function workOnClassRemoval() {
    alert("I'm triggered when the class is removed")
}

// watch for a specific class change
let classWatcher = new ClassWatcher(targetNode, 'trigger', workOnClassAdd, workOnClassRemoval)

// tests:
targetNode.classList.add('trigger') // triggers workOnClassAdd callback
targetNode.classList.add('trigger') // won't trigger (class is already exist)
targetNode.classList.add('another-class') // won't trigger (class is not watched)
targetNode.classList.remove('trigger') // triggers workOnClassRemoval callback
targetNode.classList.remove('trigger') // won't trigger (class was already removed)
targetNode.setAttribute('disabled', true) // won't trigger (the class is unchanged) 
```

我用一个简单的类包装了*MutationObserver ：*

```
class ClassWatcher {

    constructor(targetNode, classToWatch, classAddedCallback, classRemovedCallback) {
        this.targetNode = targetNode
        this.classToWatch = classToWatch
        this.classAddedCallback = classAddedCallback
        this.classRemovedCallback = classRemovedCallback
        this.observer = null
        this.lastClassState = targetNode.classList.contains(this.classToWatch)

        this.init()
    }

    init() {
        this.observer = new MutationObserver(this.mutationCallback)
        this.observe()
    }

    observe() {
        this.observer.observe(this.targetNode, { attributes: true })
    }

    disconnect() {
        this.observer.disconnect()
    }

    mutationCallback = mutationsList => {
        for(let mutation of mutationsList) {
            if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
                let currentClassState = mutation.target.classList.contains(this.classToWatch)
                if(this.lastClassState !== currentClassState) {
                    this.lastClassState = currentClassState
                    if(currentClassState) {
                        this.classAddedCallback()
                    }
                    else {
                        this.classRemovedCallback()
                    }
                }
            }
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2012-05-16T04:51:51.580

好吧，有[突变事件](https://developer.mozilla.org/en/DOM/Mutation_events)，但它们已被弃用，未来会有突变观察者，但它们不会在很长一段时间内得到完全支持。那么在此期间你能做什么呢？

您可以使用计时器来检查元素。

```
function addClassNameListener(elemId, callback) {
    var elem = document.getElementById(elemId);
    var lastClassName = elem.className;
    window.setInterval( function() {   
       var className = elem.className;
        if (className !== lastClassName) {
            callback();   
            lastClassName = className;
        }
    },10);
} 
```

运行示例：[jsFiddle](http://jsfiddle.net/gJgmV/1/)

* * *

## 回答 #3

> 赞同：19
> 
> 时间：2020-06-18T12:25:47.693

这是一个简单的基本示例，说明如何在 Class 属性更改[MutationObserver API上触发](https://developer.mozilla.org/en/docs/Web/API/MutationObserver)**回调**

```
const attrObserver = new MutationObserver((mutations) => {
  mutations.forEach(mu => {
    if (mu.type !== "attributes" && mu.attributeName !== "class") return;
    console.log("class was modified!");
  });
});

const ELS_test = document.querySelectorAll(".test");
ELS_test.forEach(el => attrObserver.observe(el, {attributes: true}));

// Example of Buttons toggling several .test classNames
document.querySelectorAll(".btn").forEach(btn => {
  btn.addEventListener("click", () => ELS_test.forEach(el => el.classList.toggle(btn.dataset.class)));
});
```

```
.blue {background: blue;}
.gold {color: gold;}
```

```
<div class="test">TEST DIV</div>
<button class="btn" data-class="blue">BACKGROUND</button>
<button class="btn" data-class="gold">COLOR</button>
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2021-12-18T15:08:39.113

可以使用此功能观察元素`onClassChange`何时发生变化`classList`

```
function onClassChange(element, callback) {
  const observer = new MutationObserver((mutations) => {
    mutations.forEach((mutation) => {
      if (
        mutation.type === 'attributes' &&
        mutation.attributeName === 'class'
      ) {
        callback(mutation.target);
      }
    });
  });
  observer.observe(element, { attributes: true });
  return observer.disconnect;
}

var itemToWatch = document.querySelector('#item-to-watch');
onClassChange(itemToWatch, (node) => {
  node.classList.contains('active')
    ? alert('class added')
    : alert('class removed');
  node.textContent = 'Item to watch. classList: ' + node.className;
});

function addClass() {
  itemToWatch.classList.add('active');
}

function removeClass() {
  itemToWatch.classList.remove('active');
}
```

```
<div id="item-to-watch">Item to watch</div>
<button onclick="addClass();">Add Class</button>
<button onclick="removeClass();">Remove Class</button>
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-08-26T06:55:27.637

我需要一个项目的类更新监听器，所以我做了这个。我最终没有使用它，所以它没有经过全面测试，但在支持 Element.classList DOMTokenList 的浏览器上应该没问题。

奖励：允许“链接” 4 种支持的方法，例如`el.classList.remove(“inactive”).remove(“disabled”).add(“active”)`

```
function ClassListListener( el ) {
  const ecl = el.classList;
  ['add','remove','toggle','replace'].forEach(prop=>{
    el.classList['_'+prop] = ecl[prop]
    el.classList[prop] = function() {
      const args = Array.from(arguments)
      this['_'+prop].apply(this, args)
      el.dispatchEvent(new CustomEvent(
        'classlistupdate',
        { detail: { method: prop, args } }
      ))
      return this
    }
  })
  return el
} 
```

用途：

```
 const el = document.body

ClassListListener(el).addEventListener('classlistupdate', e => {
    const args = e.detail.args.join(', ')
    console.log('el.classList.'+e.detail.method+'('+args+')')
}, false)

el.classList
  .add('test')
  .replace('test', 'tested') 
```**

# java - 在 java 中使用 removeCharAt() 的困难

> ID：10612026
> 
> 赞同：0
> 
> 时间：2012-05-16T04:32:02.780
> 
> 标签：java

我正在尝试编译我的代码，但收到以下错误：

```
Project3.java:228: error: cannot find symbol
       tokens[k] = removeCharAt(0, tokens[k]);
                   ^
symbol:   method removeCharAt(int,String)
location: class Project3
1 error 
```

我不知道如何申请`removeCharAt`，这是我的代码：

```
import java.io.IOException;

/****************************************************************************************************************************************************

                                                               Boat Class

    by: Joseph King

    The Boat class is a superclass for the Raceboat and SailBoat classes.  The class is composed of the following:

    The boat name

    A boolean speed variable

    A method to name the boat

    A method to launch the boat and print the name

    An abstract method to go faster

    A method to increase speed

    An abstract method to go slower

    A method to decrease speed

    An abstract method to indicate the boat's speed state
****************************************************************************************************************************************************/
abstract class Boat{

    String boatName = (" ");
    boolean addSpeed = false;

    void christenBoat(String name){

        boatName = name;

    }

    void launchBoat(){

        System.out.println("The " + boatName + " is ready to launch...\n");

    }

    public abstract void goFast();

    void increaseSpeed(){

        addSpeed = true;

    }

    public abstract void goSlow();

    void decreaseSpeed(){

        addSpeed = false;

    }

    public abstract void whatIsBoatState();
}

/****************************************************************************************************************************************************

                                                             SailBoat Class

    by: Joseph King

    The SailBoat class is a subclass for the Boat Class.  The class modifies the Boat Class as follows:

    The go fast method indicates that sail boats go faster by raising the main sail

    The go slow method indicates that sail boats go slower by lowering the main sail

    The final method checks if the sail boat is going fast or slow and indicates the appropriate message
****************************************************************************************************************************************************/
class SailBoat extends Boat{

    public void goFast(){

        System.out.println("The " + boatName + " is hoisting the main!");
        addSpeed = true;

    }

    public void goSlow(){

        System.out.println("The " + boatName + " is lowering the sail!");
        addSpeed = false;

    }

    public void whatIsBoatState(){

        if(addSpeed){

            System.out.println("\tthe sail is up, ahead full!\n");

        }else{

            System.out.println("\tbut the sail is down, hoist the main!\n");

        }
    }
}

/****************************************************************************************************************************************************

                                                             RaceBoat Class

    by: Joseph King

    The RaceBoat class is a subclass for the Boat Class.  The class modifies the Boat Class as follows:

    The go fast method indicates that race boats go faster by increasing the throttle

    The go slow method indicates that race boats go slower by decreasing the throttle

    The final method checks if the race boat is going fast or slow and indicates the appropriate message
****************************************************************************************************************************************************/
class RaceBoat extends Boat{

    public void goFast(){

        System.out.println("The " + boatName + " is throttling forward!");
        addSpeed = true;

    }

    public void goSlow(){

        System.out.println("The " + boatName + " is throttling backward!");
        addSpeed = false;

    }

    public void whatIsBoatState(){

        if(addSpeed){

            System.out.println("\tshe is at full throttle, ahead full!\n");

        }else{

            System.out.println("\tbut the throttle is down, increase throttle!\n");

        }
    }
}

/****************************************************************************************************************************************************

                                                            Project3 Class

    by: Joseph King

    This class contains the main class for the program, the algorithm is as follows:

    Create references for the boat array, characters for the first and second letter and an index

    The array is then created

    The program then checks to ensure if any args parameters were supplied at the command line

    If not, it prints a statement and terminates the program

    If so the program continues and enters a loop which

    Isolates the first letter in the args parameter and ensures it is a capital letter

    If a 'B', 'C' or 'N' a race boat is created

    If not a sail boat is created

    It then isolates the second letter in the args parameter and ensures it is a capital letter

    If an 'A' or an 'E' the boat increases it speed

    If not it decreases its speed

    The program then prints out the name and state of the boat and goes back to the beginning of the loop until all args parameters are processed

    Once the loop is completed the program ends
****************************************************************************************************************************************************/
class Project3{

    public static void main(String[] args){

        System.out.println("\n");

        Boat[] boatArray;
        String result = null; 
        char firstChar;
        char firstLetter;
        char secondLetter;
        int i;

        boatArray = new Boat[args.length];

        if(args.length > 0){

            for(i = 0 ; i < args.length ; i++){

                String delimiters = "[ ]";
                int limit = 0;

                String[]tokens = args[i].split(delimiters, limit);

                for( int k = 0 ; k < tokens.length ; ++k ){

                    firstChar = tokens[k].charAt(0);

                    if(firstChar == ' '){

                        break;

                    }else{

                        if(Character.isUpperCase(firstChar)){

                            break;

                        }else{

                            firstChar = Character.toUpperCase(firstChar);
                            tokens[k] = removeCharAt(tokens[k], 0);
                            tokens[k] = firstChar + tokens[k];

                        }

                        result = result + tokens[k];

                        if( k != tokens.length - 1 ){

                            break;

                        }else{

                            result = result.trim();
                            args[i] = result;
                            result = null;

                        }
                    }
                }       

                // firstLetter = Character.toUpperCase(args[i].charAt(0));

                firstLetter = args[i].charAt(0);

                if((firstLetter == 'B') || (firstLetter == 'C') || (firstLetter == 'N')){

                    boatArray[i] = new RaceBoat();
                    boatArray[i].christenBoat(args[i]);

                }else{

                    boatArray[i] = new SailBoat();
                    boatArray[i].christenBoat(args[i]);

                }

                secondLetter = Character.toUpperCase(args[i].charAt(1));

                if((secondLetter == 'A') || (secondLetter == 'E')){

                    boatArray[i].increaseSpeed();

                }else{

                    boatArray[i].decreaseSpeed();

                }
            }

            for(i = 0 ; i < args.length ; i++){

                boatArray[i].launchBoat();
                boatArray[i].whatIsBoatState();

            }

        }else{

            System.out.println("\nOops... you forgot to enter ship names!\n\n\nPlease try again!");

        }

        System.out.println("\n\n(press ENTER to exit)\n\n");

        try{

            System.in.read();

        } catch(IOException e){

            return;
        }
    }
} 
```

有人可以指出我缺少什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T04:33:59.357

您调用该方法`removeCharAt`，但您没有在任何地方声明它。换句话说，您缺少方法的实现`removeCharAt`。

# php - MySQL 超时后删除

> ID：10612032
> 
> 赞同：1
> 
> 时间：2012-05-16T04:32:31.167
> 
> 标签：php, mysql

我有一个 PHP 文件，它经常运行以删除旧数据行。在 PHP 文件中，我有示例。

```
mysql_query("DELETE FROM table1 where timeout < $timestamp"); 
```

我最近注意到的问题，因为我有大约 11 行用于 11 个不同的表，每隔一段时间就会同时运行一次。

我现在注意到我添加的更多行不会删除某些表上的行。如果我像这样手动运行它

```
DELETE FROM table1 where timeout < 1337143007 
```

它会很好地删除旧行。那么我是否遗漏了一些东西，我是否一次将 Delete From 运行到多个表上？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T04:40:23.327

```
mysql_query("DELETE FROM table1 where timeout < $timestamp"); 
```

这里唯一可能的罪魁祸首是你的`$timestamp`。
尝试在运行时回显/记录查询，您可能会找到罪魁祸首。

# jquery - 如何在 jquery 文件上传 options.done 回调之间插入？

> ID：10612033
> 
> 赞同：0
> 
> 时间：2012-05-16T04:32:45.293
> 
> 标签：jquery, jquery-ui, jquery-ui-widget

我正在使用：[https ://github.com/blueimp/jQuery-File-Upload](https://github.com/blueimp/jQuery-File-Upload)

基本上，我需要能够保存当前`done`回调并在我自己的`done`回调中调用它，这非常复杂（我不熟悉 jquery ui 小部件）。

这是我试图工作但无济于事的代码：

```
var $el = $('#fileupload');
$el.fileupload();
var olddone = $el.fileupload('option', 'done');
$el.fileupload('option', 'done', function(e, data) {
    data = ... manipulate data ...;
    return olddone(e, data);
}); 
```

我已经尝试了主题的各种变体：

```
return olddone.call(this, e, data); 
```

和：

```
return olddone.call($el.data('fileupload'), e, data); 
```

和：

```
return olddone.call($el[0], e, data); 
```

所有错误基本上都告诉我这`this`是不正确的，并且上下文不适合所有以下调用。我究竟做错了什么？如何或多或少地将特定回调**子类化但仍使用/调用原始回调？**

更糟糕的是，复制`done`回调的源代码`olddone`（而不是保存引用并调用它）似乎也不起作用。

`this`jQuery UI Widget 选项函数的上下文是什么？为什么这么复杂？我错过了什么？

**编辑：** 在阅读了一些小部件文档之后，似乎所有方法总是使用小部件实例调用`this`，那么为什么下面的工作不正确呢？

```
olddone.call($el.data('fileupload'), e, data) 
```

**更新：**

我试图`done:`在这里保留回调`options`：[https ://github.com/blueimp/jQuery-File-Upload/blob/75d11179fd9c248c061c8eb428782bb556c8db0a/js/jquery.fileupload-ui.js#L139](https://github.com/blueimp/jQuery-File-Upload/blob/75d11179fd9c248c061c8eb428782bb556c8db0a/js/jquery.fileupload-ui.js#L139)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-17T01:27:58.963

发现我滥用了传入的数据，我真的只需要正确使用它。这是我需要让它工作的最终代码。

```
var olddone = $el.data('fileupload').options.done;
$el.fileupload('option', 'done', function(e, data) {
    data.result = ... manipulate data ...;
    return olddone.call(this, e, data);
}); 
```

`olddone.call(this, ...)`事实证明，出于某种原因，它仍然是必要的。不确定为什么`this`是从当前上下文继承的，而是未定义的。

# actionscript-3 - 如何在从库加载的 MC 中分配组件的属性？

> ID：10612036
> 
> 赞同：1
> 
> 时间：2012-05-16T04:32:59.553
> 
> 标签：actionscript-3, oop, flash-cs5

我有一个库项目：里面`MovieClip`有一个`ComboBox`组件。该项目具有分配给它的类，`myMC`。

我想要实现的是来自主要电影的调用如下`var mmc:myMC = new myMC( stage);`：

1.  初始化`ComboBox`实例的值；
2.  将 myMC 实例放在舞台上（或在另一个 MC 内）。

所以在 myMC Constructor 里面我写了这样的东西：

```
public function myMc( theStage:flash.display.Stage) {
    if( stage == null) this.addEventListener( Event.ADDED_TO_STAGE, init);
    theStage.addChild( this);
}

public function init( e:Event = null) {
    var Data:Array= new Array(
        {'label1' : 'item1'},
        {'label2' : 'item2'},
        {'label3' : 'item3'}
    );
    cbox.dataProvider = new DataProvider( Data);
} 
```

`cbox`是 myMC 中 ComboBox 实例的名称。

发生的情况是 ComboBox 没有分配任何值。这是我的问题的一个简化示例，而实际案例涉及更多 UI 组件——它们都错过了它们的值。

调试器显示正确类型的组件对象和值 - 但它们从显示的阶段对象中丢失！

请解释一下，我做错了什么 - 为什么舞台上的实例与 AS 实例化的对象有所不同？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T08:31:37.403

好的，似乎是我的错误：错误的类型和混乱的代码。

这是一个毕竟有效的例子。因此，通过自己的构造函数将对象放在舞台上可能不是最佳实践，但是这是可行的。[工作示例](http://dl.dropbox.com/u/3533396/SO/libraryAddExample.zip)来源。

主文档有一个类 DocTest：

```
package  {
    import flash.display.Sprite;
    import libItem;
    public class DocTest extends Sprite {
        public function DocTest() {
            var instance:libItem = new libItem( this);
        }
    }
} 
```

库项目内部有一个 ComboBox 和一个文本字段，并附有以下类代码：

```
 package  {
    import fl.data.DataProvider;
    import flash.display.Sprite;
    import flash.events.Event;

    public class libItem extends Sprite{

        public function libItem( theParent:flash.display.Sprite) {
            if( stage == null) this.addEventListener( Event.ADDED_TO_STAGE, init);
            else init();
            theParent.addChild( this);
        }

        public function init( e:Event = null) {
            var Data:Array= new Array(
                {label:'label1', data: 'item1'},
                {label:'label2', data: 'item2'},
                {label:'label3', data: 'item3'}
            );
            cbox.dataProvider = new DataProvider( Data);
            x = 200;
            y = 100;
            myText.text = 'Woo-hoo!';
        }
    }
} 
```

希望这可以帮助某人。抱歉，这个问题很聪明。

# php - php regexp 从数组 print_r 中获取字符串，如字符串

> ID：10612038
> 
> 赞同：0
> 
> 时间：2012-05-16T04:33:18.997
> 
> 标签：php, preg-match

我试图在这里列出如何匹配看起来像数组 printr 的字符串。

```
variable_data[0][var_name] 
```

我想从上面的例子中得到 3 个字符串，variable_data，0 和 var_name。上面的例子保存在数据库中，所以我可以重新创建相同的数组结构，但我卡住了。如果字符串（如上）在该结构中，if case 也应该查找，否则不需要 preg_match。

注意：我不想序列化该数组，因为数组“可能”包含一些在反序列化时可能会破坏它的字符，并且我还需要数组中的该值完全可见。

任何具有正则表达式技能的人可能知道这种方法吗？

***解决方案：***

```
(\b([\w]*[\w]).\b([\w]*[\w]).+(\b[\w]*[\w])) 
```

应该跳过第 2 个索引...但我仍然得到我想要的 :)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T04:40:51.960

不是没有，但你不能做..

```
$result = explode('[', someString);
foreach ($result as $i => $v) {
    $temp = str_replace(']'. ''. $result[$i]);
    //Do something with temp
} 
```

显然你需要根据你在做什么来编辑上面的内容，但它非常简单，甚至给你同样的灵活性，你不需要调用匹配引擎......

我不认为我们在这里为人们构建正则表达式......相反，请参阅[http://regexpal.com/](http://regexpal.com/)以获取带有视觉辅助的正则表达式测试器/构建器。

此外，人们通常不知道如何正确使用它们，然后由其他人为它们创建表达方式来培养。

请记住，尽管您的请求看起来并不复杂，但复杂的表达式可能会产生可怕的性能开销......

然后在它强制发布您完成的 RegEx 并回答您自己的问题后，最高 1337ne$$ :)

但既然我很好，这是你的奖励：

```
\[.+\]\[\d+\] 
```

或者

```
 [a-z]+_[a-z]+\[.+\]\[\d+\] 
```

取决于你想从字符串中匹配什么（你没有指定）所以我假设所有

两者执行如下：

```
arr_var[name][0]; //Matched

arr_var[name]; //Not matched

arr_var[name][0][1];//Matched

arr_var[name][2220][11];//Matched 
```

再次，测试它们并在上面的链接中通过视觉帮助理解。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-17T07:38:38.793

***解决方案：***

```
(\b([\w]*[\w]).\b([\w]*[\w]).+(\b[\w]*[\w])) 
```

应该跳过这两个第一个索引......但我仍然得到我想要的:)

***编辑***

这是改进的一个：

```
$str = "variable[group1][parent][child][grandchild]";
preg_match_all('/(\b([\w]*[\w]))/', $str,$matches);
echo '<pre>';
    print_r($matches);
echo '</pre>';

// Output
Array  
        (  
            [0] => variable  
            [1] => group1  
            [2] => parent  
            [3] => child  
            [4] => grandchild  
        ) 
```

# asp.net - ASP.NET 照片上传

> ID：10612040
> 
> 赞同：0
> 
> 时间：2012-05-16T04:33:25.237
> 
> 标签：asp.net

使用以下代码将照片上传到我的服务器时，我收到了错误的值。这在调试模式下以及在 localhost 中发布时都可以正常工作。

```
string filePath = Path.Combine(HttpContext.Server.MapPath("../Uploads"), date);

if (!Directory.Exists(HttpContext.Server.MapPath("../Uploads")))
{      
       Directory.CreateDirectory(HttpContext.Server.MapPath("../Uploads"));
}

file.SaveAs(filePath); 
```

有人可以指出我做错了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:03:24.113

好的，我假设您正在使用 File Upload 控件，或者如果您想在您的 asp.net 页面中使用 FileUpload 控件，您可以使用下面的示例代码。

1.  添加 FileUpload 控件（这里我添加了 ajax 异步 FileUpload 控件并命名为 asyncFileUpload。

2.  编写一个方法并在需要时调用它。

    公共 int AsyncFileUpload()

    ```
    {
        string xlsFile = AsyncFileUpload1.FileName;
        if (AsyncFileUpload1.HasFile)
        {
            string FileName = Path.GetFileName(AsyncFileUpload1.PostedFile.FileName);
            string Extension = Path.GetExtension(AsyncFileUpload1.PostedFile.FileName);

            string FilePath = Server.MapPath("~/Uploads/" + FileName);
            if (Extension == ".doc")//check the file extension here
            {
                AsyncFileUpload1.SaveAs(FilePath);
            }
        }
    } 
    ```

# php - 在 PHP 文件中隐藏 MySQL 数据库密码的问题

> ID：10612041
> 
> 赞同：3
> 
> 时间：2012-05-16T04:33:25.773
> 
> 标签：php, mysql, connection, securestring

我有一个带有表单的 HTML 文件，一旦用户单击“提交”，就会调用一个 PHP 文件，该文件连接到 MySQL 数据库并使用表单中的数据对其进行更新。

问题是，如何在我的 PHP 代码文件中屏蔽/隐藏 MySQL 数据库的密码？

我正在阅读有关使用“配置”文件和/或将内容移动到不同目录中以防止其他人访问它们的各种内容-理论上我明白了-但是我应该采取的实际步骤是什么做到这一点？比如我从哪里开始？第 1 步是什么，第 2 步是什么，等等？每个人似乎都提供了一小段代码，但我还没有找到任何关于此的好的从头到尾的教程。

我打电话给 GoDaddy - 我的帐户和数据库所在的位置 - 看看他们的技术支持人员是否可以提供帮助 - 没有人能够告诉我具体要做什么，从哪里开始等。

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-16T04:43:22.397

我认为这里的其他答案没有抓住重点。如果我没记错的话，你说的是你的mysql用户密码。首先用于建立与数据库的连接的那个。对？

好吧，你不要隐瞒这一点。它在一个 php 文件中，该文件是代码。公众无法阅读您的代码（假设您的服务器是安全的）所以不用担心。是的，您的密码只是作为文本存储在 php 文件中。没关系。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-16T04:43:41.650

PHP 文件可以包含文档根目录之外的其他 PHP 文件。因此，如果您制作一个配置文件（在您的情况下，它可能只是定义一堆变量的文件的一个花哨的名称）并将其放在您的网络服务器的文档根目录之外，然后将此文件包含在您面向客户端的 PHP 中文件，这应该可以解决问题。

将它放在面向客户端的 PHP 文件和文档根目录之外的原因是，如果通过某种利用，某人能够以某种方式访问​​实际的 PHP 代码。

**编辑**以下来自 OP 的评论：

您的配置文件可能与任何其他 PHP 文件一样，以 . 开头`<?php`和结尾`?>`。在两者之间，您将至少定义一个或两个变量 -`$db_username`并将`$db_password`它们设置为等于它们对应的值。记下您放置此文件的位置，在需要建立数据库连接的文件中，只需放置`include('/path/to/config/file');`并使用您在 mysql_connect 命令中定义的变量即可。

# coldfusion - 无法在冷融合中初始化 org.apache.poi.xslf.usermodel.XMLSlideShow

> ID：10612042
> 
> 赞同：0
> 
> 时间：2012-05-16T04:33:37.530
> 
> 标签：coldfusion, powerpoint, apache-poi

```
<cfscript>
filepath = ExpandPath("./1.ppt");
fis = CreateObject( "java", "java.io.FileInputStream" ).init(filepath);
//initialize slideshow object with input stream
src = createObject("java","org.apache.poi.xslf.usermodel.XMLSlideShow").init(fis);
fis.close();
</cfscript> 
```

我无法在冷融合中初始化 org.apache.poi.xslf.usermodel.XMLSlideShow 对象。出现以下错误：找不到接受类型参数（ java.io.FileInputStream ）的类 org.apache.poi.xslf.usermodel.XMLSlideShow 的构造函数

请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T06:50:29.610

我知道您说您使用的是 POI 3.8，但错误消息说您使用的是旧版本。

正如安东尼所提到的，ColdFusion 9 与旧版本 (POI 3.5) 捆绑在一起`createObject()`使用。在 3.5 版中没有`XMLSlideShow(InputStream)`构造函数。因此出现错误消息。

有两 (2) 种方法可以加载更新版本的 POI：

1.  使用[JavaLoader](https://github.com/markmandel/JavaLoader)并行运行较新的版本

2.  **替换**`{cf_root}\lib`. _ 然后重新启动 CF 服务器。*注意：我没有亲自做过，所以我不知道这样做是否会破坏其他功能*

# jquery - 在 jQuery mobile 中获取选项按钮的值

> ID：10612047
> 
> 赞同：8
> 
> 时间：2012-05-16T04:34:09.470
> 
> 标签：jquery, jquery-mobile

如果我有以下 jQuery 移动 html；

```
<fieldset data-role="controlgroup" data-type="horizontal" name="Smoker" id="Smoker">
  <input name="radio3" id="radio3" value="Yes" type="radio" />
  <label for="radio3">Yes</label>
  <input name="radiobuttons1" id="radio4" value="No" type="radio" />
  <label for="radio4">No</label>
</fieldset> 
```

我以为我可以在 jQuery 中做到这一点；

```
$("#Smoker").val() 
```

然而，这不会产生任何结果。事实上，我是否需要查询两个输入以查看哪个输入已被检查，或者是否有一个不错的 jQuery Mobile 方法来执行此操作？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-05-16T04:37:48.980

尝试

```
$("#Smoker :radio:checked").val(); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-16T04:35:46.767

首先，您的单选按钮应该具有相同的名称属性，否则选择一个不会取消选择另一个，因此您应该使用以下内容而不是当前标记

```
<fieldset data-role="controlgroup" data-type="horizontal" name="Smoker" id="Smoker">
  <input name="smokerRdo" id="radio3" value="Yes" type="radio" />
  <label for="radio3">Yes</label>
  <input name="smokerRdo" id="radio4" value="No" type="radio" />
  <label for="radio4">No</label>
</fieldset> 
```

至于获取值，它与常规 jQuery 相同，但是您尝试获取字段集的值，而不是单选组，而是尝试

```
 $('input[name=smokerRdo]:checked').val() 
```

# facebook - 多个 Facebook 评论，多个推文（多帐户）

> ID：10612050
> 
> 赞同：0
> 
> 时间：2012-05-16T04:34:27.990
> 
> 标签：facebook, facebook-graph-api, twitter

我不是 Facebook 和 Twitter API 方面的专家，我非常希望能在我的项目中提供一些介绍和可能的指导。

这就是我正在尝试做的事情，我首先想知道这是否可能。

我正在为用户构建带有复选框选项的 WP 小部件，以允许在他的 Facebook 墙上生成评论并使用他的 Twitter 帐户发布推文。注释应该从自定义输入字段中获取值并以这种方式构建自己。

同时，我想在我的 fb 和 twitter 帐户上生成关于使用我的小部件的新用户的帖子。

这可能吗？您能否给我一些链接，这些链接是完成这项工作所必需的。否则，作为最接近的替代效果，您的建议是什么。

非常感谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T14:35:34.227

嗯 - 看起来与您的其他[问题](https://stackoverflow.com/questions/10627031/facebook-like-comments-without-fb-buttons/10654466#10654466)相似。我在那里解释了你应该如何从 FB 开始。使用 Twitter，它非常相似：

1.  首先你需要创建一个应用程序：[https ://dev.twitter.com/apps/new](https://dev.twitter.com/apps/new)

2.  使用该应用程序的凭据，您必须要求用户允许您的应用程序代表用户发布（即您需要获取访问令牌）：[https ://dev.twitter.com/docs/auth/obtaining-access-tokens](https://dev.twitter.com/docs/auth/obtaining-access-tokens)

3.  获得访问令牌后，您可以使用 REST API 做任何您想做的事情：[https](https://dev.twitter.com/docs/api) ://dev.twitter.com/docs/api - 包括发布推文。

关于：

> 同时，我想在我的 fb 和 twitter 帐户上生成关于使用我的小部件的新用户的帖子。

它与上述方法没有什么不同——但您应该使用自己的 twitter 帐户名（或 Facebook 中的 /me/）。当然，您必须授权您自己的应用程序来执行此操作。

# node.js - 大型多文件节点项目中的 require()

> ID：10612051
> 
> 赞同：1
> 
> 时间：2012-05-16T04:34:30.127
> 
> 标签：node.js

我正在开发一个大型 Node 项目。自然，我想将其分解为多个源文件。我在我的大部分源文件中都使用了来自标准库的许多模块，而且还有很多我自己的文件几乎可以在任何地方使用。

我一直在通过`require`在每个源文件的开头包含一个巨大的块来完成这项工作，但这感觉非常多余。有一个更好的方法吗？或者这是 Node 令人钦佩的模块系统的预期结果？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-02T07:03:46.483

您可以使用*容器*模块来加载一系列模块。例如，给定以下项目结构：

```
lib/
    index.js
    module1.js
    module2.js
main.js 
```

您可以`index.js`导入库中的其他模块。

```
# index.js
module.exports.module1 = require('./module1');
module.exports.module2 = require('./module2'); 
```

然后`main.js`只需要导入一个模块：

```
# main.js
var lib = require('./lib');

lib.module1.doSomething();
lib.module2.doSomethingElse(); 
```

这种技术可以扩展，减少多余的进口。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-16T06:48:30.010

我通常会说 require 块比在 Node.js 中使用 global 更好。

您需要记住，requires 是被缓存的，因此当您将它们放入所有代码模块中时，您将始终获得相同的实例，而不是每次都获得新的实例。

这样做可以确保您在所需的位置获得具有预期名称空间的适当代码，而使用 global 将包含您不需要的东西。使用 require 以 Node 方式执行此操作也会使您的代码更具可移植性。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-16T04:48:52.813

好吧，这里有几件事。

首先，如果您的许多文件一遍又一遍地需要相同的库，您可能需要退后一步，确定您是否真的以正确的方式分解代码。也许有一个更好的组织，其中某些库只需要源文件的子集？

其次，请记住该对象在您的 Node.js 应用程序中的所有 d 文件`global`之间共享。`require`例如，您的“根”源文件`index.js`可以执行以下操作`global.fs = require('fs');`，然后可以从您的所有各种文件中访问它。这将消除对`require`充满`require`s 的文件的需要。（在 Node.js 中`global.`，与浏览器不同，您必须通过前置显式声明您正在访问全局变量。）

这对于 CRUD 类型的 Express 应用程序可能是一个好主意，在这些应用程序中，您有很多几乎相同的控制器代码，但每个视图必须略有不同，并且您只想将它​​们分开而不是针对任何特定的组织结构，但只是为了更容易调试（此文件中的错误，而不是该文件中的错误）。如果应用程序的结构比这更复杂，请在使用该技巧之前牢记针对全局变量的常见警告。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-05-10T06:23:45.883

通过 require-file-directory 需要多个没有绝对路径的文件。

1- 在单个语句中可能需要多个文件。2- 可以只要求文件名。

访问解决方案：[https ://www.npmjs.com/package/require-file-directory](https://www.npmjs.com/package/require-file-directory)

# cuda - CUDA 使用解释器还是编译器？

> ID：10612058
> 
> 赞同：2
> 
> 时间：2012-05-16T04:35:35.257
> 
> 标签：cuda

这是一个有点愚蠢的问题，但我想知道 CUDA 是使用解释器还是编译器？我想知道，因为我不太确定 CUDA 如何设法让源代码在具有不同计算能力的两张卡上运行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T04:46:15.267

[来自维基百科](http://en.wikipedia.org/wiki/CUDA)：

> 程序员使用“C for CUDA”（带有 Nvidia 扩展和某些限制的 C），通过 PathScale Open64 C 编译器编译。

所以，你的答案是：**它使用编译器。**

并谈到它可以在多张卡上运行的原因（[来源](http://developer.nvidia.com/cuda-faq)）：

> CUDA C/C++ 提供了一种抽象，它是您表达您希望程序如何执行的一种方式。编译器生成的 PTX 代码也不是硬件特定的。在运行时，为特定的目标 GPU 编译 PTX - 这是每次发布新 GPU 时都会更新的驱动程序的责任。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T04:47:29.730

这些官方文档[CUDA C Programming Guide](http://developer.download.nvidia.com/compute/DevZone/docs/html/C/doc/CUDA_C_Programming_Guide.pdf)和[The CUDA Compiler Driver (NVCC)](http://developer.download.nvidia.com/compute/DevZone/docs/html/C/doc/nvcc.pdf)解释了编译过程的所有细节。

从第二个文件：

> nvcc 模仿 GNU 编译器 gcc 的行为：它接受一系列常规编译器选项，例如用于定义宏和包含/库路径，以及用于指导编译过程。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-02T18:06:12.603

不仅限于 cuda ，directx 或 opengl 中的着色器也符合某种字节码，并由底层驱动程序转换为本机代码。

# c - 如何使这个结构实例在 C 中易变？

> ID：10612068
> 
> 赞同：2
> 
> 时间：2012-05-16T04:36:22.510
> 
> 标签：c, function, struct, volatile

我正在使用通用缓冲区 .c/.h 文件。我想创建一个限定为 volatile 以用作 com 缓冲区的实例。

下面的代码说明了问题，限定符丢失了？？将缓冲区地址传递给成员函数时。

代码段使用 'const' 限定符作为示例，我假设 'volatile' 的行为方式相同。使用 Rowley ARM GCC 编译器。

```
typedef struct buff_t {
  char buffchar;
  int index;
  }buff;

void buff_init( buff *thisbuff ) {
  thisbuff->buffchar = 'x';
  thisbuff->index = 0;
  }

int main(void)
{

  buff memBuffer;
  buff const UARTBuffer;
  buff *buff_ptr;

  buff_ptr = &memBuffer;
  buff_init( buff_ptr );          /* struct elements initialized as expected */

  // UARTBuffer.buffchar = 'y';   /* this caught by compiler as error to read-only object */
  buff_ptr = &UARTBuffer;         /* compile warning: assignment discards 'const' qualifier from pointer target type */
  buff_init( buff_ptr );          /* UARTBuffer elements also initialized, expected const??? */

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T04:40:53.580

代码尝试`const`通过指针修改结构对象，因此调用 **Undefined Behavior(UB)**。简而言之，它是无效代码。避免这种情况的唯一方法是不编写调用 UB 的代码。
请注意，编译器允许您编写此类代码并朝自己的脚（而不是脸）开枪并不意味着您应该这样做。如果您有枪，则有责任明智地使用它。

要将变量标记为`volatile`您只需要`volatile`在其声明期间添加关键字，就像`const`在程序中一样。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-16T04:42:24.907

限定符是每个指针的属性，分别。

如果一个对象是`const`，并且您将非`const`指针指向它，则它不会生成指针`const`。编译器可能会警告您，或者您可能会在尝试写入时崩溃（与 无关`volatile`），但指针不会被视为`const`.

在您的情况下，`buff_ptr`and `buff_init`'s`thisbuff`都应该有限定符。

# excel - 如果发现 N/A，VBA excel 代码删除行

> ID：10612072
> 
> 赞同：1
> 
> 时间：2012-05-16T04:36:55.577
> 
> 标签：excel, vba

我正在寻找一种方法来查找`N/A`整个列中的单元格，然后如果`N/A`找到则删除整行。我找到了这个 VBA 代码，但它对我不起作用，因为它只选择一列。请帮忙（我在 Excel Mac 2011 中处理大约 300000 行）

```
Sub DeleteBlankARows() 
    With Application 
        .Calculation = xlCalculationManual 
        .ScreenUpdating = False 
        Dim r As Long 
        For r = Cells(Rows.Count, 11).End(xlUp).Row To 1 Step -1 
            If Cells(r, 11) = "" Then Rows(r).Delete 
        Next r 
        .Calculation = xlCalculationAutomatic 
        .ScreenUpdating = True 
    End With 
End Sub 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T07:19:26.327

另一种方法是用于`Find`快速测试单元格是什么`NA()`（我假设您正在测试`=NA()`作为公式单元格 - 如果它们是，我可以更新，或者也可以是文本）

此代码用于`SpecialCells`仅搜索错误值。

```
Sub GetNA()
Dim rng1 As Range
Dim rng2 As Range
Dim rng3 As Range
Dim strFA As String

On Error Resume Next
Set rng1 = ActiveSheet.UsedRange.SpecialCells(xlFormulas, xlErrors)
On Error GoTo 0

If rng1 Is Nothing Then
    MsgBox "No NA() cells"
    Exit Sub
End If

With rng1
    Set rng2 = .Find("=NA()", LookIn:=xlFormulas)
    If Not rng2 Is Nothing Then
        strFA = rng2.Address
        Set rng3 = rng2.EntireRow
        Do
            Set rng2 = .FindNext(rng2)
            Set rng3 = Union(rng3, rng2.EntireRow)
        Loop While Not rng2 Is Nothing And rng2.Address <> strFA
    End If
    If Not rng3 Is Nothing Then rng3.Delete
End With

End Sub 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T06:43:23.977

试试这个（在 Windows XP / Excel 2007 上测试，但它应该在 Mac / Office 2011 上工作）：

```
Option Explicit

Sub DeleteNARows()
    Dim r As Long
    Dim iCol As Long
    With Application
        .Calculation = xlCalculationManual
        .ScreenUpdating = False
        .DisplayAlerts = False
        For iCol = 1 To Cells(1, Columns.Count).End(xlToLeft).Column
            For r = Cells(Rows.Count, iCol).End(xlUp).Row To 1 Step -1
                If Application.WorksheetFunction.IsNA(Cells(r, iCol)) Then Rows(r).Delete
            Next r
        Next iCol
        .Calculation = xlCalculationAutomatic
        .ScreenUpdating = True
        .DisplayAlerts = True
    End With
End Sub 
```

`#N/A`请注意，您可以（并且可能必须）在代码开头更改要检查 fot 的列

# android - 用户按主页时如何停止活动？

> ID：10612073
> 
> 赞同：0
> 
> 时间：2012-05-16T04:36:58.413
> 
> 标签：android, android-activity

我正在创建一个音乐应用程序。我遇到了一个问题：当用户按下返回/主页时，音乐继续播放。

[这是我的APK文件](http://www.orkun2u.com/MyTest.apk)

如何让用户返回主活动并清除当前活动（播放音乐）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T04:39:22.520

您需要覆盖`onPause()`或`onStop()`停止那里的音乐。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T06:59:56.280

尝试覆盖该`onWindowsFocusChanged(boolean hasFocus)`方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T04:39:53.397

您可以使用 Activity 的 onPause() 来停止或暂停 Mediaplayer。

像这样覆盖 onPause()，

```
@Override
protected void  onPause()
{
    super.onPause();
  if(mediaplayer!=null)
{
    mediaplayer.pause();
}
} 
```

当你再次进入你的活动时，像这样覆盖 onResume()，

```
@Override
            protected void onResume() {
                super.onResume();

 if(mediaplayer!=null)
{
    mediaplayer.start();
}
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-16T04:51:38.427

在 onpause 和 onstart 之间切换很重要 onPause() 方法被重写以将播放器控制权授予此实例。你也可以参考[这个](http://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/media/MediaPlayerDemo_Audio.html)

```
package org.example.audio;

import android.app.Activity;
import android.media.MediaPlayer;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.Toast;

public class AudioDemo extends Activity implements OnClickListener {
    private static final String TAG = "AudioDemo";
    private static final String isPlaying = "Media is Playing"; 
    private static final String notPlaying = "Media has stopped Playing"; 

    MediaPlayer player;
    Button playerButton;

    public void onClick(View v) {
        Log.d(TAG, "onClick: " + v);
        if (v.getId() == R.id.play) {
            playPause();
        }
    }

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        player = MediaPlayer.create(this, R.raw.robotrock);
        player.setLooping(false); // Set looping

        // Get the button from the view
        playerButton = (Button) this.findViewById(R.id.play);
        playerButton.setText(R.string.stop_label);
        playerButton.setOnClickListener(this);

        // Begin playing selected media
        demoPlay();

        // Release media instance to system
        player.release();

    }

    @Override
    public void onPause() {
        super.onPause();
        player.pause();
    }

    // Initiate media player pause
    private void demoPause(){
            player.pause();
            playerButton.setText(R.string.play_label);
            Toast.makeText(this, notPlaying, Toast.LENGTH_LONG).show();
            Log.d(TAG, notPlaying);
    }

    // Initiate playing the media player
    private void demoPlay(){
            player.start();
            playerButton.setText(R.string.stop_label);
            Toast.makeText(this, isPlaying, Toast.LENGTH_LONG).show();
            Log.d(TAG, isPlaying);
    }

    // Toggle between the play and pause
    private void playPause() {
        if(player.isPlaying()) {
          demoPause();
        } else {
          demoPlay();
        }   
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-16T05:19:30.317

当用户单击返回按钮时，控件进入以下方法（在您的代码中插入此方法）

```
 @Override
    public boolean onKeyDown(int keyCode, KeyEvent event) {
    super.onKeyDown(keyCode, event);
            if (keyCode == KeyEvent.KEYCODE_BACK) {
                    // code to pause or stop the music!!!!
            }
            **return false;**
        } 
```

# javascript - 您可以从 Web 浏览器加载 Socket.IO (express) 服务器吗？

> ID：10612074
> 
> 赞同：0
> 
> 时间：2012-05-16T04:37:02.533
> 
> 标签：javascript, sockets, node.js

你知道，一个网络服务器。现在我的 Socket.IO 服务器从一个 JavaScript 文件的 BATCH 文件加载。您可以使用节点并从 Web 浏览器加载 socket.io 服务器吗？就像一个网络服务器实用工具或类似的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T04:56:26.710

[由于WebSockets](https://developer.mozilla.org/en/WebSockets)的设计，这显然是不可能的。它从一个特殊的 HTTP 请求开始，在握手之后，丢弃 HTTP 协议并将其分解为 WebSocket 协议——一个几乎裸露的协议，类似于（但比原始 TCP 更易于管理）。因为 Web 浏览器无法处理 HTTP 请求，所以它永远无法将套接字作为服务器启动。

这是专门完成的，因此不可能编写一个驱动式僵尸网络网站，以在用户不知情的情况下使用数十台用户的计算机进行 DDOS 攻击，以及其他安全问题。

因此，如果 Flash 支持这种行为，我不会感到惊讶。;)（我知道 Java 可以，但谁启用 Java 小程序？）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T06:35:11.503

我会说你*可以*。并不是说我能想到一个好的用例。

您需要将启动代码放在 Web 服务器可以运行它的地方，并且您需要让 Web 服务器向浏览器返回一些信息以允许其连接。在套接字服务器启动后，您还必须将 socket.io 代码插入浏览器。

所以我*认为*这确实是可能的，但相当复杂，收效甚微。我想一个可能的用例是在失败后重新启动套接字服务器。实际上我会用一种稍微不同的方式来做这件事，可能是通过从 Node.js 调用外部脚本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T04:43:23.710

幸运的是，答案是否定的。如果你的意思是加载/启动，不。但是您可以在服务器上创建一个脚本，一旦客户端请求 url，就可以启动另一台服务器。

# c++ - 存储大整数

> ID：10612079
> 
> 赞同：0
> 
> 时间：2012-05-16T04:37:24.470
> 
> 标签：c++, integer, store, sqrt

**整数**：3322000011111010203100311011211322020110122010113111301101000200

以位为单位的整数需要 log2 的整数，即 211.xxxx 舍入 212 位

scriptlance 上的一些程序说取这个值的平方根会导致小，但他需要大量没有的钱。**sqrt**是 57636793900346419278364744407607.475108338

现在 log2 (sqrt Integer) = 105.5 位

但是我担心如果我们不完美地存储 sqrt 我们无法恢复原始值，

**问题**：我们能否将这个平方根存储为 105.5 位（将其舍入，如 13 字节 + 2 位等），然后读取并平方值以获取原始值？

请指导我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T06:23:09.867

> 但是我担心如果我们不完美地存储 sqrt 我们无法恢复原始值，
> 
> 问题：我们可以将这个平方根存储在 105.5 位中（将它像 13 字节 + 2 位等四舍五入），然后读取并平方值以获取原始值吗？

不。

基本上，您是在问是否可以获取 212 位信息，通过取平方根将它们压缩为 106 位，然后能够恢复原始数据而不会丢失。这是无法做到的。

如果可能的话，您可以对 106 位应用相同的技术，将它们压缩到 52 位，然后再压缩到 26 位，依此类推，最终将任意数量的数据压缩到不到一位，*同时仍然能够恢复原始数据*。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-30T13:36:30.973

> 问题：我们能否将这个平方根存储为 105.5 位（将其舍入，如 13 字节 + 2 位等），然后读取并平方值以获取原始值？

不，您需要取整数（不是浮点数）的 log_2 来查看它需要多少位。例如：Log_2(256) = 8 位。该数字可以存储为 0x10000000。但是，Log_2(256.123456789) ~= 8 位也是如此。然而，第二个数字显然有更多信息。

为了解决这个问题，您可以将您的值乘以 2 或 10 的幂并将其存储为整数（这基本上是定点：[http](http://en.wikipedia.org/wiki/Fixed-point_arithmetic) ://en.wikipedia.org/wiki/Fixed-point_arithmetic ）。因此，在您的示例中，将 57636793900346419278364744407607.475108338 乘以 10^9 得到整数：57636793900346419278364744407607475108338，这就是您要存储的内容。其中的 Log_2 是 135.4，因此您至少需要 136 位信息才能准确存储该数字。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T07:19:48.260

你不能这样做，因为数字的平方根并不总是整数。而且你不能准确地存储浮点数。所以，问题是： 1.如果你存储平方根，那么你将不得不存储浮点数。它本身占用更多空间，而且也不准确。2\. 正如 AIX 所指出的，如果可能的话，您可以迭代相同的过程，然后可以仅恢复任意长数字，可能只有 2 个字节。一个字节用于存储值，另一个用于存储平方的次数。

# jquery - 单击时将具有多个类的 DIV 替换为新类

> ID：10612086
> 
> 赞同：1
> 
> 时间：2012-05-16T04:37:51.600
> 
> 标签：jquery

我的 HTML 如下。

```
<div class="box w-25 h-25">
<p>test</p>
</div>
<div class="box w-30 h-30">
<p>test</p>
</div>
<div class="box w-30 h-30">
<p>test</p>
</div> 
```

和我的 CSS

```
.test {
width:100%
height:100%
z-index: 999
}

.box {
....
}

.w-25{ width: 25%; }
.w-30{ width: 30%; }
.w-40{ width: 40%; }

.h-25{ height: 25%; }
.h-30{ height: 30%; }
.h-40{ height: 40%; } 
```

当我用 jQuery 单独单击它们以创建叠加效果时，是否可以用 .test 替换原始类？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T04:40:59.443

### 删除/替换类

有几种方法可以删除所有类，只留下一个。你可以使用`$.attr`：

```
$(".box").on("click", function(){
  $(this).attr("class", "test");
}); 
```

这会将 的完整值设置`class`为单个类名。或者，您可以`className`在元素本身上设置：

```
$(".box").on("click", function(){
  this.className = "test";
}); 
```

或者，您可以不带任何参数调用（删除所有类），然后通过添加您的类`$.removeClass()`来跟进：`test`

```
$(".box").on("click", function(){
  $(this).removeClass().addClass("test");
}); 
```

### 避免歧义

我假设您在页面上没有任何其他`.box`元素 - 如果有，则需要稍微修改此处使用的选择器以仅影响我们希望定位的框。

如果这些盒子在一个更大的容器中：

```
<div id="boxes">
  <div class="box w-25 h-25">...</div>
  <div class="box w-30 h-30">...</div>
</div> 
```

我们可能会更改选择器以包含容器`id`：

```
$("#boxes .box").on("click" function(){
  /* React */
}); 
```

### 切换开/关

从评论中，OP 表示希望*记住*原始类，并`.test`在第二次单击该元素时将其替换掉。以下是一种可能的解决方案：

```
$(".box").on("click", function(){
  // Store original class attribute as data
  $(this).data("o") || $(this).data("o", $(this).attr("class"));
  // Set new class attribute to test, or to original
  $(this).attr("class", function(i,o){
    return o != $(this).data("o") ? $(this).data("o") : "test" ;
  });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:26:59.880

这将继续用 切换`box`类`test`。另外，我添加了检查，其中只有当 div 有其他类，即 w-xx 和 h-xx 时，才会更改类。

@Jonathan，请看看我们如何改进这个。我在这里创建了演示：http: [//jsbin.com/ucotot/](http://jsbin.com/ucotot/)

```
$(function() {
  $('div.box').click ( function () {
    var classes = $(this).attr ('class').split(' ');

    var widthClassFound = false;
    var heightClassFound = false;
    for ( i = 0; i < classes.length; i++ ){
      if ( classes[i].match("^w-") ){
        widthClassFound = true;
    }

      if ( classes[i].match("^h-") ){
        heightClassFound = true;
    }

    }

    if ( widthClassFound && heightClassFound ) {
      if ( $(this).data('originalClass') ) {
        $(this).removeClass().addClass($(this).data('originalClass'));
        $(this).removeData('originalClass'); 
      }else{

      $(this).data ( 'originalClass', $(this).attr ('class') ); //Saving all class box, w-xx , h-xx
       $(this).removeClass('box').addClass('test');

      }

    }

  });

}); 
```

**编辑**

上面的代码使用 切换`box`类`test`，因为@Clement 要求使用`test`以下代码切换所有类。见演示：http: [//jsbin.com/ucotot/3](http://jsbin.com/ucotot/3)

```
 $(function() {
  $('div.box, div.test').click ( function () {
    if ( $(this).data('originalClass') ) {  // if 'originalClass' is present in data then use it and return;
         $(this).removeClass().addClass($(this).data('originalClass'));
        $(this).removeData('originalClass'); 

      return;

    }

    var classes = $(this).attr ('class').split(' ');

    var widthClassFound = false;
    var heightClassFound = false;
    for ( i = 0; i < classes.length; i++ ){
      if ( classes[i].match("^w-") ){
        widthClassFound = true;
    }

      if ( classes[i].match("^h-") ){
        heightClassFound = true;
    }

    }

    if ( widthClassFound && heightClassFound ) {

      $(this).data ( 'originalClass', $(this).attr ('class') ); //Saving all class box, w-xx , h-xx
       $(this).removeClass().addClass('test');

    }

  });

}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T04:52:22.890

```
$(".box").on("click", function(){
  $(this).removeClass(). // remove all class
         addClass("test");
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-16T04:47:38.590

如果你想从 aa div 中删除所有类，你所要做的就是：

`$('.box').attr('class', 'test');`

这将用您想要的任何内容替换整个类属性。或者你可以清空类属性：

`$('.box').attr('class', '');`

然后对您需要以编程方式使用的任何类执行 addClass ：

`$('.box').addClass('test');`

# knockout.js - ObservableArray 仅在 Remove 后更新 UI

> ID：10612090
> 
> 赞同：1
> 
> 时间：2012-05-16T04:38:12.153
> 
> 标签：knockout.js

我似乎偶然发现了 KnockoutJS 的一个有趣的异常现象。

我有一个带有 ko.observableArray 的对象。

我可以在应用绑定之前以编程方式将项目添加到数组中。当 UI 更新时，它看起来是正确的。然后，当我单击一个按钮以将一个项目添加到数组时，它看起来好像什么也没发生。但是，当我从数组中删除一个项目时，UI 会更新。

```
 var Feature = function (desription, price)
 {
    var self = this;

    var _description = desription;
    self.description = ko.observable(_description);

    var _price = price;
    self.price = ko.observable(_price);
}

var ItemFeature = function(feature) 
 {
    var self = this;

    var _feature = feature;
    self.feature = ko.observable(_feature);
}

var Item = function ()
{
    var self = this;

    self.featuresList = [
    new Feature("Feature 1", 1.50),
    new Feature("Feature 2", 2.00)
    ];

    self.features = ko.observableArray();

    self.addNewFeature = function () {
        self.features().push(new ItemFeature(self.featuresList[0]));
    }

    self.removeFeature = function (sender) {
        self.features.remove(sender);
    }
}

var _viewModel = new Item();
_viewModel.addNewFeature();
ko.applyBindings(_viewModel); 
```

和标记：

```
 <table>
            <thead><tr>
                <th>Feature</th>
                <th>Cost</th>
            </tr></thead>
            <tbody data-bind="foreach: features">
                <tr>
                    <td><select data-bind="options: $root.featuresList, value: feature, optionsText:'description'"></select></td>
                    <td data-bind="text: feature().description"></td>
                    <td data-bind="text: feature().price"></td>
                    <td><a href="#" data-bind="click: $root.removeFeature">Remove</a></td>
                </tr>
            </tbody>
        </table>

        <a href="#" data-bind="click: addNewFeature">Add a feature</a> 
```

我也整理了一个例子。 [http://jsfiddle.net/Q6J6a/7/](http://jsfiddle.net/Q6J6a/7/)

我觉得我错过了一些小东西，但它并没有向我跳出来。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T04:47:36.987

你想做：

```
self.features.push(new ItemFeature(self.featuresList[0])); 
```

而不是：

```
self.features().push(new ItemFeature(self.featuresList[0])); 
```

因此，您希望调用`push`observableArray 而不是底层数组，以便它通知订阅者。

[http://jsfiddle.net/rniemeyer/Q6J6a/8/](http://jsfiddle.net/rniemeyer/Q6J6a/8/)

# map - 在地图中反向查找

> ID：10612093
> 
> 赞同：11
> 
> 时间：2012-05-16T04:38:36.263
> 
> 标签：map, clojure, key-value

我必须使用一个值从地图中提取一个键。除了自己实现反向查找之外，还有其他方法吗？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-10-26T01:32:07.837

我认为这`map-invert`是正确的做法。

[从文档：](http://clojuredocs.org/clojure_core/clojure.set/map-invert)

```
;; Despite being in clojure.set, this has nothing to do with sets. 

user=> (map-invert {:a 1, :b 2})
{2 :b, 1 :a}

;; If there are duplicate keys, one is chosen:

user=> (map-invert {:a 1, :b 1})
{1 :b}

;; I suspect it'd be unwise to depend on which key survives the clash. 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-05-16T04:49:42.550

您可以使用 2 行函数非常轻松地反转地图：

```
(defn reverse-map [m]
  (into {} (map (fn [[a b]] [b a]) m)))

(def a {:a 1 :b 2 :c 3})

(reverse-map a)
=> {1 :a, 3 :c, 2 :b}

((reverse-map a) 1)
=> :a 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-05-16T06:46:45.247

尝试

```
(some #(if (= (val %) your-val) (key %)) your-map) 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-08-12T09:43:31.557

如果您正在使用 ClojureScript 或者您需要另一种选择:)

`(zipmap (vals m) (keys m))`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-08T21:18:25.940

另一个：

```
(defn reverse-map [m]                                                                                                                          
  (apply hash-map  (mapcat reverse m)))  

(defn reverse-lookup [m k]                                                                                                                     
  (ffirst (filter (comp #{k} second) m))) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-03-13T19:22:23.690

如果您想保留密钥，最好只是反转地图，但将旧密钥收集在集合/列表等中......

```
(defn map-inverse [m]
  (reduce (fn [m' [k v]] (update m' v clojure.set/union #{k})) {} m))

(defn map-inverse [m]
  (reduce (fn [m' [k v]] (update m' v conj k)) {} m)) 
```

# node.js - 将元素添加到 MongoDb 中的孙子集合

> ID：10612095
> 
> 赞同：0
> 
> 时间：2012-05-16T04:38:48.293
> 
> 标签：node.js, mongodb

我有一个像这样的 MongoDb 文档

```
"schools":
[
    "name" : "University",
    "classes" :
    [
        {
            "name":"Chem",
            "teachers":
                [
                    "Joe",
                    "Bill"
                ]
        },
        {
            "name":"Math",
            "teachers":
                [
                    "Julie",
                    "Phil"
                ]
        },
    ],
    // More schools/classes/teachers here
] 
```

如何在数学课上添加新老师？

（我在 node.js 中写这个）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T05:02:35.557

对于您列出的特定情况，您可以这样做：

```
myDocument.schools[0].classes[1].teachers.push("A new teacher");
myDocument.save(); 
```

对于一般情况（例如，将教师添加到名为“xyz”的课程中），您必须遍历适当的数组才能找到您要查找的项目。

# jquery - 为什么第二个淡入淡出不起作用？

> ID：10612098
> 
> 赞同：0
> 
> 时间：2012-05-16T04:39:23.300
> 
> 标签：jquery, fadein, fade, fadeout

我试图在鼠标进入时将一个图像淡化到第二个，并在鼠标离开时反转。我想要的效果可以在[http://mango.com](http://mango.com)找到他们的任何产品图片。这是下面的脚本。

```
<div id="fade">
    <img src="two.gif" width="100" height="100" id="two1" class="after" style="display:none;"/>
    <img src="one.gif" width="100" height="100" id="one1" class="before" />
</div>
<div id="fade">
    <img src="two.gif" width="100" height="100" id="two2" class="after" style="display:none;" />
    <img src="one.gif" width="100" height="100" id="one2" class="before" style="" />
</div>
<script type="text/javascript">
$('#one1,#one2').mouseenter(function(){
    $(this).fadeOut(500);
    $(this).prev('img').fadeIn(500);
});
$('#two1,#two2').mouseleave(function(){
    $(this).fadeOut(500);
    $(this).prev('img').fadeIn(500);
});
</script> 
```

它会消失一次，但下一次两个图像都会消失。请任何人都可以发布代码或参考任何工作相同的代码/插件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T04:48:03.913

你在哪里

```
$('#two1,#two2').mouseleave(function(){
$(this).fadeOut(500);
$(this).prev('img').fadeIn(500);
}); 
```

你应该有

```
$('#two1,#two2').mouseleave(function(){
$(this).fadeOut(500);
$(this).next('img').fadeIn(500);
}); 
```

您刚刚忘记在 mouseleave 上将“下一个”切换为“上一个”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T04:51:31.147

试试这个。

```
$('#one1,#one2').mouseenter(function(){
    $(this).fadeOut(500);
    $(this).parent().find('.after').fadeIn(500);
});

$('#two1,#two2').mouseleave(function(){
    $(this).fadeOut(500);
    $(this).parent().find('.before').fadeIn(500);
}); 
```

[http://jsfiddle.net/g5XF2/](http://jsfiddle.net/g5XF2/)上的示例

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-16T04:52:46.643

在 mouseleave 事件功能中使用 next() 而不是 prev()

```
 $(document).ready(function()
        {
            $('#one1,#one2').mouseenter(function()
            {
                $(this).fadeOut(500);
                $(this).prev('img').fadeIn(500);
            });

            $('#two1,#two2').mouseleave(function()
            {
                $(this).fadeOut(500);
                $(this).next('img').fadeIn(500);
            });
        }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-16T05:12:44.080

```
$('#one1,#one2').mouseenter(function() {
    $(this).fadeOut(500, function() {
       $(this).prev('img').fadeIn(500);
    });

});
$('#two1,#two2').mouseleave(function() {
    $(this).fadeOut(500, function() {
      $(this).next('img').fadeIn(500);
    });
});​ 
```

[演示](http://jsfiddle.net/qytkS/2/)

# ajax - jquery对话框问题

> ID：10612100
> 
> 赞同：1
> 
> 时间：2012-05-16T04:39:27.647
> 
> 标签：ajax, jquery-ui, jquery

此时我正在使用下面的代码打开一个对话框来编辑mysql记录，但我的问题是我用来打开对话框的按钮正在通过一个while循环来允许我编辑任何记录但是发生了什么是顶部按钮会弹出对话框，但是第二个第三个等等我已经弄清楚为什么会发生这种情况，这是因为它们都有相同的“id”，但我的问题是有什么办法可以调出每当我单击任何按钮而不在其中写入 100 个对话框时，都会出现对话框。

```
 $( "#edit" ).dialog({
                autoOpen: false,
                draggable: false,
                modal: true,
                width: "322",
                buttons: {
                    "Add to Log": function() {
                      $( this ).dialog( "close" );  
                    },
                    Exit: function() {
                        $( this ).dialog( "close" );
                    }
                }

            });

            $( "#editi" ).click(function() {
                $( "#edit" ).dialog( "open" );
                return false;
            });
</script>

 <button id="editi">Edit</button> // normally goes thru a while loop and is reapeted 5 or 6 times but only the frist one genrated works

    <div class="edit" id="edit" title="Edit Entry" style="font-size:15px">
    <p>hello</p> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T04:48:39.047

```
$("#edit").dialog({
                autoOpen: false,
                draggable: false,
                modal: true,
                width: "322",
                buttons: {
                    "Add to Log": function() {
                      $( this ).dialog( "close" );  
                    },
                    Exit: function() {
                        $( this ).dialog( "close" );
                    }
                }

            });

/*this is the area that is looped*/
            $(".editi").click(function() {
                $( "#edit" ).dialog( "open" );
                return false;
            });
</script>

 <button class="editi">Edit</button>

    <div class="edit" id="edit" title="Edit Entry" style="font-size:15px">
    <p>hello</p> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T04:44:35.080

您是否多次重复相同的 id (editi)？您可能想要创建一个类似 buttonClass 的类并以这种方式连接按钮：

```
 $( ".buttonClass" ).click(function() { 
            $( "#edit" ).dialog( "open" ); 
            return false; 
        }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T04:47:38.350

将类保留为 editi 而不是将其保留为 id 并为此：

```
$('.editi').click(function(){
   //do what you want to do
}) 
```

# c# - 在外部生成卫星组件

> ID：10612101
> 
> 赞同：0
> 
> 时间：2012-05-16T04:39:39.467
> 
> 标签：c#

我有一个第三方应用程序，其中有附属程序集。此应用程序是强名称签名的。我正在外部创建第三方应用程序未包含的新卫星程序集。但由于主程序集是强签名的，我新创建的程序集没有被应用程序识别。如何做到这一点？

请指教

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:22:43.517

您也可以签署您的附属程序集。如果主程序集只需要签名的 DLL，这将有所帮助。如果它要求 DLL 使用与其自身相同的密钥进行签名，那么您可能不走运。

# java - 通过 Key 获取实体时数据存储区抛出异常

> ID：10612108
> 
> 赞同：1
> 
> 时间：2012-05-16T04:40:13.413
> 
> 标签：java, google-app-engine, google-cloud-datastore, objectify

在过去的几个小时里，我开始在按键获取实体时遇到异常：

```
Caused by: java.lang.NullPointerException
    at com.google.appengine.api.datastore.PropertyContainer.getProperties(PropertyContainer.java:48)
    at com.googlecode.objectify.impl.Transmog.load(Transmog.java:336)
    at com.googlecode.objectify.impl.ConcreteEntityMetadata.toObject(ConcreteEntityMetadata.java:203)
    at com.googlecode.objectify.impl.AsyncObjectifyImpl$1.wrap(AsyncObjectifyImpl.java:82)
    at com.googlecode.objectify.impl.AsyncObjectifyImpl$1.wrap(AsyncObjectifyImpl.java:69)
    at com.google.appengine.api.utils.FutureWrapper.wrapAndCache(FutureWrapper.java:57)
    at com.google.appengine.api.utils.FutureWrapper.get(FutureWrapper.java:98)
    at com.google.appengine.api.utils.FutureWrapper.get(FutureWrapper.java:90)
    at com.google.appengine.api.utils.FutureWrapper.get(FutureWrapper.java:90)
    at com.googlecode.objectify.impl.ResultAdapter.get(ResultAdapter.java:29)
    at com.googlecode.objectify.impl.ObjectifyImpl.get(ObjectifyImpl.java:63) 
```

它们是间歇性的，大约有 50% 的时间被抛出。

更新

第二行代码抛出异常：

```
Objectify ofy = ObjectifyService.begin();
retVal = ofy.get(entityKey); 
```

添加日志以查看 entityKey 的值....

更新 2

添加日志记录后，我可以确认密钥是非空的，并且当我使用密钥通过数据存储查看器获取实体时，它工作得很好。

更新 3

我可以确认这是与 Memcache 相关的问题。禁用对象化缓存后，我不再收到此错误。因此，要么这是 objectify 中的一个错误（不太可能是因为我没有更改/升级我们的 objectify 库），要么是 appengine memcache 服务发生了某种变化。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T17:31:31.740

谷歌似乎打破了实体类的序列化/反序列化。他们随后回滚了导致问题的更新并解决了问题。感谢 Alfred、Chris 和其他在听到这个问题的几个小时内解决了这个问题的人。

不幸的是，这不是任何正常的错误捕获机制（即序列化异常）都可以处理的问题。memcache 调用成功并返回一个 Entity 对象，但随后对 Entity 对象的 getProperties() 调用失败。讨厌的虫子。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T10:05:48.730

只是有同样的错误。

刷新缓存纠正了它，不要问为什么，我不知道但它有效。

我在google group of objectify上发布了一个问题。它目前处于适度状态。我希望能理解这个奇怪的错误......

要刷新缓存，请转到您的 appengine 控制台 > Memcache Viewer > 刷新缓存

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-05-17T10:56:53.390

您是否在 appengine-web-app.xml 中声明了 GAE 线程安全？Objectify 文档指出：

会话缓存不是线程安全的。您永远不应该在线程之间共享 Objectify 实例。

[http://code.google.com/p/objectify-appengine/wiki/IntroductionToObjectify](http://code.google.com/p/objectify-appengine/wiki/IntroductionToObjectify)

# c++ - C++ 中的 void 算术

> ID：10612118
> 
> 赞同：0
> 
> 时间：2012-05-16T04:41:55.500
> 
> 标签：c++, void-pointers

我有一个结构：

```
struct {
  Header header;
  uint32_t var1;
  uint32_t var2;
  char var3;
  char var4[4];
}; 
```

你得到了提示。问题是我通过网络接收字节数组，我首先必须先解析 Header。所以我先解析头部，然后我必须解析结构的其余部分。

我试过，

```
void* V = data;  // which is sizeof(uint32_t) * 2 + sizeof(char) * 5 
```

然后尝试像 (V)、V+sizeof(uint32_t) ... 等那样解析它。

但它给出了编译器错误。如何通过网络解析该结构的其余部分？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T05:32:57.787

C++ 中数据的基本单位是`char`. 它是可以寻址的最小类型，根据定义它的大小为 1。此外，语言规则特别允许将所有数据视为字符序列。所有 I/O 都以字符序列（或流）的形式发生。

因此，您的原始数据缓冲区应该是一个`char`数组。

（另一方面， a`void *`在 C++ 中的用途非常具体且有限；它的主要目的是指定对象在内存中的*地址*。例如，的结果`operator new()`是 a `void *`。）

# jakarta-ee - Apache Tomcat 发送重定向

> ID：10612121
> 
> 赞同：0
> 
> 时间：2012-05-16T04:42:06.380
> 
> 标签：jakarta-ee, networking, tomcat

我有一个 apache tomcat 服务器，它运行在具有一个网络接口的服务器上，该网络接口具有本地 IP，如 LOCALIP，但用户希望在公共 IP 上看到服务器，如 PUBLICIP，他们不应该在本地 IP 上看到服务器。所有这些配置都是在硬件防火墙上进行的。

用户使用地址 PUBLICIP/mainpage 访问应用程序，应用程序检查用户是否通过身份验证。如果用户未通过身份验证，则用户重定向到 PUBLICIP/login。当用户重定向到 /login 页面时，他将看到页面未找到 (404)，但如果他在浏览器中手动键入 PUBLICIP/登录地址，他可以看到登录页面。

我们使用 HttpServletResponse.sendRedirect 将用户重定向到登录页面。

我认为这是一个重定向问题，因为出于安全考虑，对 PUBLICIP 的任何 ping 请求都将被防火墙丢弃。servlet 尝试重定向到公共 IP 地址。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T18:30:38.217

[通常，在连接器](http://tomcat.apache.org/tomcat-7.0-doc/config/http.html#Common_Attributes)上使用 proxyPort 和 proxyName来告诉 Tomcat 反向代理（例如防火墙/负载平衡器）正在使用的公共 IP/DNS 名称和端口，以确保由生成的链接（例如重定向） Tomcat 使用公共 IP/名称和端口。

# joomla - joomla 中的新模板无法正常工作

> ID：10612122
> 
> 赞同：0
> 
> 时间：2012-05-16T04:42:13.330
> 
> 标签：joomla, joomla-template

我已经成功上传了我的新模板，但在网站上出现以下错误 500 - 无法加载渲染器类错误详细信息如下：您可能无法访问此页面，因为：

```
an out-of-date bookmark/favourite
a search engine that has an out-of-date listing for this site
a mistyped address
you have no access to this page
The requested resource was not found.
An error has occurred while processing your request. 
```

请帮我 ：（

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T04:44:24.360

根据我对 Joomla 的经验，这意味着您有 404 而不是 500 错误。您能否提供一个指向您遇到错误的网站的链接？另外，您使用的是什么模板和版本的 joomla？

# php - 获取数组中重复次数最多的值

> ID：10612126
> 
> 赞同：4
> 
> 时间：2012-05-16T04:42:24.230
> 
> 标签：php, arrays

我有一个这样的数字数组：

```
$array = array(1,1,1,4,3,1); 
```

如何获得最多重复值的计数？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-05-16T04:45:41.723

这应该有效：

```
$count=array_count_values($array);//Counts the values in the array, returns associatve array
arsort($count);//Sort it from highest to lowest
$keys=array_keys($count);//Split the array so we can find the most occuring key
echo "The most occuring value is $keys[0][1] with $keys[0][0] occurences." 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-16T04:48:20.070

我认为 array_count_values 函数对你有用。查看本手册了解详情： http: [//php.net/manual/en/function.array-count-values.php](http://php.net/manual/en/function.array-count-values.php)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-05-16T04:50:00.433

您可以使用以下方法计算数组中值的出现次数`array_count_values`：

```
$counts = array_count_values($array); 
```

然后对计数进行反向排序：

```
arsort($counts); 
```

然后检查最高值以获取您的模式。

```
$mode = key($counts); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-05-16T04:59:42.577

如果您的数组仅包含字符串或整数，您可以使用`[array_count_values](http://ar2.php.net/manual/en/function.array-count-values.php)`and `[arsort](http://ar2.php.net/manual/en/function.arsort.php)`：

```
$array = array(1, 1, 1, 4, 3, 1);

$counts = array_count_values($array);
arsort($counts); 
```

这会将最常用的元素保留为 的第一个元素`$counts`。之后可以[得到计数的数量和价值](https://stackoverflow.com/questions/6608934/popping-the-key-value-from-an-associative-array-in-php)。

重要的是要注意，如果原始数组中有多个出现次数相同的元素，我不能确定你会得到哪一个。一切都取决于 和 的`array_count_values`实现`arsort`。如果您需要任何特定的，您将需要彻底测试以防止以后出现错误，**不要做任何假设**。

如果您需要任何特定的，最好不要`arsort`自己使用和编写归约循环。

```
$array = array(1, 1, 1, 4, 3, 1);

/* Our return values, with some useless defaults */
$max = 0;
$max_item = $array[0];

$counts = array_count_values($array);
foreach ($counts as $value => $amount) {
    if ($amount > $max) {
        $max = $amount;
        $max_item = $value;
    }
} 
```

在 foreach 循环之后，`$max_item`包含在原始数组中出现最多的最后一项，只要按照`array_count_values`找到的顺序返回元素（根据文档的示例似乎就是这种情况）。通过使用非严格比较（`$amount >= $max`而不是`$amount > $max`），您可以让第一个项目在原始数组中出现最多。

您甚至可以通过这种方式将所有元素与最大出现次数联系起来：

```
$array = array(1, 1, 1, 4, 3, 1);

/* Our return values */
$max = 0;
$max_items = array();

$counts = array_count_values($array);
foreach ($counts as $value => $amount) {
    if ($amount > $max) {
        $max = $amount;
        $max_items = array($value);
    } elif ($amount = $max) {
        $max_items[] = $value;
    }
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-05-16T04:49:30.013

```
$vals = array_count_values($arr);
asort($vals);
//you may need this end($vals);
echo key($vals); 
```

我不记得asort默认排序是asc还是desc，你可以看到代码中的注释。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-06-07T21:42:44.597

```
<?php
$arrrand = '$arr = array(';
for ($i = 0; $i < 100000; $i++)
{
    $arrrand .= rand(0, 1000) . ',';
}
$arrrand = substr($arrrand, 0, -1);
$arrrand .= ');';
eval($arrrand);
$start1 = microtime();
$count = array_count_values($arr);
$end1 = microtime();
echo $end1 - $start1;
echo '<br>';
$start2 = microtime();
$tmparr = array();
foreach ($arr as $key => $value);
{
    if (isset($tmparr[$value]))
    {
        $tmparr[$value]++;
    } else
    {
        $tmparr[$value] = 1;
    }
}
$end2 = microtime();
echo $end2 - $start2; 
```

在这里检查两种解决方案：1`array_count_values()` 手动。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-07-03T14:49:07.693

```
<?php

$input = array(1,2,2,2,8,9);

$output = array();
$maxElement = 0;

for($i=0;$i<count($input);$i++) {
    $count = 0;
    for ($j = 0; $j < count($input); $j++) {
        if ($input[$i] == $input[$j]) {
            $count++;
        }
    }
    if($count>$maxElement){
        $maxElement = $count;
        $a = $input[$i];
    }
}

echo $a.' -> '.$maxElement; 
```

输出将是 2 -> 3

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2014-03-03T13:43:11.790

```
$arrays = array(1, 2, 2, 2, 3, 1); // sample array

$count=array_count_values($arrays); // getting repeated value with count

asort($count); // sorting array 

$key=key($count);

echo $arrays[$key];   // get most repeated value from array 
```

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2015-04-09T06:00:05.843

字符串 S;

```
 Scanner in = new Scanner(System.in);

    System.out.println("Enter the String:  ");

    S = in.nextLine();

    int count =1;
    int max = 1;
    char maxChar=S.charAt(0);
    for(int i=1; i <S.length(); i++)
    {
        count = S.charAt(i) == S.charAt(i - 1) ? (count + 1):1;

        if(count > max)
        {
            max = count;
            maxChar = S.charAt(i);
        }
    }

    System.out.println("Longest run: "+max+", for the character "+maxChar); 
```

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2016-04-12T12:16:18.130

这是解决方案

类测试类{

```
public $keyVal;
public $keyPlace = 0;

//put your code here
public function maxused_num($array) {
    $temp = array();
    $tempval = array();
    $r = 0;
    for ($i = 0; $i <= count($array) - 1; $i++) {
        $r = 0;
        for ($j = 0; $j <= count($array) - 1; $j++) {
            if ($array[$i] == $array[$j]) {
                $r = $r + 1;
            }
        }
        $tempval[$i] = $r;
        $temp[$i] = $array[$i];
    }
    //fetch max value
    $max = 0;
    for ($i = 0; $i <= count($tempval) - 1; $i++) {
        if ($tempval[$i] > $max) {
            $max = $tempval[$i];
        }
    }
    //get value 
    for ($i = 0; $i <= count($tempval) - 1; $i++) {
        if ($tempval[$i] == $max) {
            $this->keyVal = $tempval[$i];
            $this->keyPlace = $i;
            break;
        }
    }

    // 1.place holder on array $this->keyPlace;
    // 2.number of reapeats $this->keyVal;
    return $array[$this->keyPlace];
} 
```

}

$catch = new TestClass(); $array = array(1, 1, 1, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 3, 1, 2, 3, 1, 1, 2 , 5, 7, 1, 9, 0, 11, 22, 1, 1, 22, 22, 35, 66, 1, 1, 1); echo $catch->maxused_num($array);

# mysql - ejb 中的排序规则的非法混合

> ID：10612129
> 
> 赞同：0
> 
> 时间：2012-05-16T04:42:46.110
> 
> 标签：mysql, ejb

在具有数据库排序规则的 MySQL 5.1 上`latin1_general_ci`，当我`UPDATE`：

```
异常 [EclipseLink-4002] (Eclipse Persistence Services - 2.2.0.v20110202-r8913): org.eclipse.persistence.exceptions.DatabaseException
内部异常：java.sql.SQLException：排序规则（latin1_general_ci，IMPLICIT）和（latin1_swedish_ci，IMPLICIT）的非法混合操作'='
错误代码：1267
调用： UPDATE medicaltestdetails, TL_medicaltestdetails SET medicaltestdetails.Status = TL_medicaltestdetails.Status WHERE medicaltestdetails.TestDate = TL_medicaltestdetails.TestDate AND medicaltestdetails.TestSerial = TL_medicaltestdetails.TestSerial AND medicaltestdetails.ConsultantId = TL_medicaltestdetails.Consultant_medicaltestdetails.TestTime
查询：UpdateAllQuery(referenceClass=Medicaltestdetails sql="CREATE TEMPORARY TABLE IF NOT EXISTS TL_medicaltestdetails (Chg BIGINT, Remarks VARCHAR(255), Result VARCHAR(255), Status VARCHAR(255), TestDesc VARCHAR(255), TestType VARCHAR(255) , TestDate DATE NOT NULL, TestSerial VARCHAR(255) NOT NULL, ConsultantId VARCHAR(255) NOT NULL, TestTime INTEGER NOT NULL, PRIMARY KEY (TestDate, TestSerial, ConsultantId, TestTime))")

```

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-20T13:46:11.700

您可能已将 '&characterEncoding=UTF-8' 添加到我的 JDBC 连接字符串中。如果

```
mysql> show variables like "collation_database";
    +--------------------+-----------------+
    | Variable_name      | Value           |
    +--------------------+-----------------+
    | collation_database | utf8_general_ci |
    +--------------------+-----------------+ 
```

不是那样的

```
mysql> show table status;
    +--------------+-----------------+
    | Name         | Collation       |
    +--------------+-----------------+
    | my_view      | NULL            |
    | my_table     | utf8_unicode_ci |
    ... 
```

不是那样的

做：

```
ALTER DATABASE mydb DEFAULT COLLATE utf8_unicode_ci; 
```

并更改字段的编码：

```
ALTER TABLE my_table MODIFY COLUMN my_column column_type CHARACTER SET utf8 COLLATE utf8_unicode_ci [NOT NULL]; 
```

或更改表的编码：

```
ALTER TABLE my_table CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci 
```

再见

卢卡

# c# - 使用 C# 在预先打印的纸质表单上的特定位置打印文本

> ID：10612130
> 
> 赞同：4
> 
> 时间：2012-05-16T04:43:12.420
> 
> 标签：c#, printing

我需要像在打印纸的特定位置打印纸质文本一样打印。原因是打印是在已经打印的表单上完成的，其中包含名字和姓氏等字段。所以当我得到这个人的名字时，它应该以纸质形式在分配的空间内打印。

想知道是否有任何现有的库可以让我使用 X 和 Y 坐标等坐标系在特定位置打印。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T05:02:43.713

这是让您入门的东西......
[http://msdn.microsoft.com/en-us/library/aa287530(v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/aa287530(v=vs.71).aspx)

使用该教程，我建议您大致在页面的四个角处打印，这样您就知道打印坐标系。

使用它和一把好的尺子，您可以找出纸质表单上的字段在哪里，并将它们转换为代码上的 xy 坐标。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T04:45:47.423

尝试使 PDF 与表单页面大小相同，并在其上适当放置文本。然后将 PDF 打印到已在纸张中加载预打印表格的打印机尝试。

我会留给你找到一个可以处理 PDF 的库。在 Python 上，我会使用`reportlab`. 查找本地 C# 等效项。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-11-20T07:04:15.817

尝试制作一个 C# 表单并添加一个打印功能，您可以手动设置 x 和 y 坐标，您的文本将在该坐标处打印在表单上。

> 只需编辑新点（x，y）

```
private void printDocument1_PrintPage(object sender, System.Drawing.Printing.PrintPageEventArgs e)
    {
        e.Graphics.DrawString("Rangoli Travels", new Font("Arial",12,FontStyle.Regular),Brushes.Black, new Point(10,10);
    } 
```

# php - zf2.0 和 php5.4 的 php_memcache.dll

> ID：10612137
> 
> 赞同：0
> 
> 时间：2012-05-16T04:43:24.213
> 
> 标签：php, zend-framework, memcached, zend-framework2

我用的是memcached，之前的环境（xampp1.73）php5.3和zf1。没问题。我升级了php5.4和zf2，memcached模块报错，怎么办？谁能给我一个支持php5.4的memcache.dll

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-27T13:10:13.387

您的模块是使用 Visual Studio 6 编译器 (VC6) 编译的，但 PHP5.4 是使用 Visual Studio 9 编译器 (VC9) 编译的，因此该模块与您的 PHP 不兼容。您将需要使用 Visual Studio 9 编译器编译 Memcached。

有关如何为您的 PHP 获取正确的 Memcache DLL 的信息，请参阅此线程：[为 PHP 5.4 构建/获取 php_memcache.dll 的最简单方法](https://stackoverflow.com/questions/8966532/easiest-way-to-build-obtain-php-memcache-dll-for-php-5-4)

# ruby-on-rails - 如何仅从 Mailman 电子邮件中获取文本部分？

> ID：10612143
> 
> 赞同：1
> 
> 时间：2012-05-16T04:43:59.887
> 
> 标签：ruby-on-rails, ruby, gem, mailman-gem

我正在使用[Mailman](https://github.com/titanous/mailman) gem 来处理我的 Rails 应用程序的传入电子邮件。我的应用程序在纯文本电子邮件中查找 YAML 文档，然后将其加载到 Ruby 对象中以供应用程序进一步操作。

但是，我希望能够提前计划可能会使用多部分电子邮件进行响应的电子邮件客户端。我需要获取电子邮件的纯文本部分并将其传递给 YAML 解析器。

出于某种原因，它在解析 YAML 时仍然存在问题。我猜是因为这里并没有真正得到纯文本部分。

有没有更好的方法来使用 Mailman 获取电子邮件的文本/纯文本部分？我应该废弃 Mailman 并用 ActionMailer 来代替它吗？

```
Mailman::Application.run do
    default do
        begin
            message.parts.each do |part|
                Mailman.logger.info part.content_type
                if part.content_type == 'text/plain; charset=ISO-8859-1' # My poor way of getting the text part
                    the_yaml = part.body.decoded.scan(/(\-\-\-.*\.\.\.)/m).first.last # Find the YAML doc in the email and assign it to the_yaml
                    ruby_obj = YAML::load(the_yaml.sub(">", "")) # Remove any >'s automatically added by email clients

                    if ruby_obj['Jackpots']
                        ruby_obj['Jackpots'].each do |jackpot|
                            jp = Jackpot.find(jackpot['jackpot']['id'])
                            jp.prize = jackpot['jackpot']['prize']
                            jp.save
                        end
                    end
                end
            end
        rescue Exception => e
                Mailman.logger.error "Exception occurred while receiving message:\n#{message}"
                Mailman.logger.error [e, *e.backtrace].join("\n")
        end
    end
end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T13:58:02.673

我能够找到更好的方法来处理获取电子邮件的文本部分。

```
Mailman::Application.run do
    default do
        begin           
            if message.multipart?
                the_message = message.text_part.body.decoded
            else
                the_message = message.body.decoded
            end

            the_yaml = the_message.sub(">", "").scan(/(\-\-\-.*\.\.\.)/m).first.last
            ruby_obj = YAML::load(the_yaml)

            if ruby_obj['Jackpots']
                ruby_obj['Jackpots'].each do |jackpot|
                    jp = Jackpot.find(jackpot['jackpot']['id'])
                    jp.prize = jackpot['jackpot']['prize']
                    jp.save
                end
            end

        rescue Exception => e
                Mailman.logger.error "Exception occurred while receiving message:\n#{message}"
                Mailman.logger.error [e, *e.backtrace].join("\n")
        end
    end
end 
```

然后通过调试器运行它并在成功解析文本部分后进行检查。它会挂断 YAML 加载。事实证明，我的几行太长了，电子邮件客户端插入了一个换行符，破坏了我的 YAML 中的评论，从而破坏了整个 YAML 文档。

# asp.net-mvc-3 - MVC 3.0 使用 firebug/开发者工具保护表单内容不被修改

> ID：10612146
> 
> 赞同：1
> 
> 时间：2012-05-16T04:44:16.110
> 
> 标签：asp.net-mvc-3

我有一个表单（例如员工详细信息修改表单），其中唯一 ID（例如 emp id）保存在隐藏的表单字段中，并且在回发表单时在模型中可用。

该 ID 将用于数据库更新。

但用户可以使用萤火虫/开发者工具进行修改。我们如何保护它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T04:58:19.500

我不知道这是正确的解决方案，但是您可以将其存储在其中`id`，`session variable`并且当您发回表单时，您可以从中检索它`session`并进一步处理它以保存在数据库中...

# asp.net-mvc - 在 MVC 中使用 Knockout.js 的含义

> ID：10612150
> 
> 赞同：3
> 
> 时间：2012-05-16T04:44:32.957
> 
> 标签：asp.net-mvc, knockout.js

我看到在我的 MVC 项目中使用 Knockout.js 有很多优势，但在开始之前，我想确定使用它是否有任何影响，或者在使用 Knockout.js 时要采取的预防措施

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-16T04:48:25.583

从 ASP.NET MVC4 开始，默认情况下包含 KnockoutJS，因此可以肯定地说，您将在未来的 ASP.NET MVC 中看到很多它。

最终，您不必担心与 ASP.NET MVC 的 Knockout 发生任何类型的冲突。它不会与任何 DataAnnotations 或其他自动脚手架 JavaScript 冲突。

您不会免费获得任何淘汰赛脚手架（不像 DataAnnotations 和 jQuery 验证），因此您只能在您将其显式编码到视图或自己部分的情况下使用它。

我在 MVC4 和 Node.JS 应用程序中大量使用 Knockout，它与 jQuery 配合使用效果很好——在任何一个平台上都没有遇到任何问题。

# database - 同一数据库中的事务表和报告表

> ID：10612153
> 
> 赞同：0
> 
> 时间：2012-05-16T04:44:50.790
> 
> 标签：database

我确实阅读了有关事务和报告数据库的帖子。我们有一个用于报告（历史）目的和事务性的表，例如：带有字段
orderid、ordername、orderdesc、datereceived、dateupdated、confirmOrder 的订单

将这张表拆分为neworder和orderhistrory是不是一个好主意新的ordertable记录了当天的交易（对于当天收到的订单，每毫秒选择，插入和更新活动）。稍后我们将此表与订单历史合并

这是推荐的方法吗？您认为这会最大程度地减少数据库的负载和处理时间吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T17:14:32.243

回答您的第二个问题：不。将数据从一个地方移动到另一个地方是一种额外的负担，如果您使用事务表进行报告，则不会有这种负担。但在做出此决定之前，您还需要问一些其他问题。

1.  **这些报告多久运行一次？** 如果您每小时运行一次这些报告，将它们放在同一个表中可能是有意义的。但是，如果此报告需要一段时间才能运行，您需要注意不要占用将其用作事务表的其他客户端的资源。
2.  **这些报告需要更新到什么程度？** 如果报告的运行时间少于每天或每周，那么在报告中拥有最新数据可能并不重要。

这就是报告表的用武之地。我见过的方法通常涉及拥有一个“数据仓库”，无论是作为单个表还是整个数据库实现。该仓库按计划填充事务表中的数据，随后触发生成报告。这似乎是您建议的方法，并且是完全有效的方法。最终，您需要回答的一个问题是您希望服务器*何时处理负载。*如果这可以在非高峰时段按计划完成，我会说去吧。如果它需要在任何给定时间运行，那么您可能希望保留单表方法。

当然，没有什么说你不能两者兼得。我见过一些系统，它们具有在事务表上运行的小型按需报告、历史数据的预定仓库以及针对该历史数据的长时间运行的报告。这实际上只是您希望数据的实时性的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T23:56:08.713

PostgreSQL 支持基本的表分区，它允许将逻辑上是一张大表分割成更小的物理块。[此处提供更多信息](http://www.postgresql.org/docs/8.3/static/ddl-partitioning.html)。

# android - 我怎么知道应用程序在 android 的后台运行了多长时间？

> ID：10612155
> 
> 赞同：1
> 
> 时间：2012-05-16T04:45:02.263
> 
> 标签：android, background

我想计算其他应用程序（例如：-音乐）在我的应用程序的后台运行多长时间。我已经看到这个[链接](https://stackoverflow.com/questions/4133262/how-to-know-for-how-much-long-the-application-is-running-in-android)没有得到任何有用的信息来满足我的期望。

我认为 android 中会有一些 API 来计算这个，因为“备件”应用程序的工作与我预期的一样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T04:55:35.180

请参阅下面的链接，您可能会[在此处找到一些使用完整信息](https://stackoverflow.com/questions/3903650/time-that-an-application-is-running)

或者您可以参考备用零件的[链接](http://www.java2s.com/Open-Source/Android/android-core/platform-development/com/android/spare_parts/SpareParts.java.htm)

# r - 如何在 R 图中更改 Xlab、Ylab 和 XY 轴颜色和字体大小的值

> ID：10612156
> 
> 赞同：5
> 
> 时间：2012-05-16T04:45:10.370
> 
> 标签：r, plot

我想改变颜色和字体大小：

1.  实验室，
2.  实验室，
3.  X 和 Y 轴的值
4.  面板边框（颜色）

在 R 图中有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-05-16T05:31:48.773

下面的代码演示了一些较低级别的绘图函数，这些函数提供了您想要的那种细粒度的控制。有关更多选项，请参阅多个功能的帮助页面。

```
plot(rnorm(99), bty="n", axes=FALSE, xlab="", ylab="")
box(col="dodgerblue")
axis(1, col="dodgerblue", col.ticks="green", col.axis="orange", cex.axis=2)
axis(2, col="dodgerblue", col.ticks="green", col.axis="orange", cex.axis=0.8)
mtext("Index", side=1, line=3, col="red", cex=2)
mtext("Value", side=2, line=3, col="purple", cex=0.8) 
```

（生成的情节很丑陋，我会让你自己运行代码，而不是在这里重现它！）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-16T05:22:29.097

查看 ?par 帮助页面以及相关的[Quick-R 教程](http://www.statmethods.net/advgraphs/parameters.html)，了解可以更改以修饰或注释基本 R 图的参数的概述。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2021-01-19T10:05:32.737

仅在此处使用 ggplot2 是您的时间序列图。

```
your_data%>%
  ggplot(aes(x=Date, y=Transactions))+geom_line(colour='gold', size=1)+
  theme(panel.background = element_rect(fill='#363636'), plot.background = element_rect(fill='#363636'), 
        axis.text = element_text(colour='white', size = 10), axis.title = element_text(colour='white', size=12), 
        plot.title = element_text(colour='white'))+
  geom_vline(xintercept = as.Date(c('2020-11-08', '2020-11-29')), col='red', size=1)+
  labs(title='Total Transactions') 
```

# java - 处理大型 XLSX 文件的 API

> ID：10612157
> 
> 赞同：0
> 
> 时间：2012-05-16T04:45:12.660
> 
> 标签：java, apache-poi

我有一个问题。有没有`API`可以处理`xlsx`和`xls`归档的。要求是我有一个excel文件。我必须加密某些特定列的值。在不影响单元格颜色、单元格公式、单元格日期格式、单元格货币格式、图表等单元格格式的情况下。我使用了`APACHE POI`库。我没有成功。它非常慢并且不适用于大文件。我也搜索过，`google`但我没有得到正确的结果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:00:12.090

POI 的替代方案是[JXL](http://sourceforge.net/projects/jexcelapi/)。我们成功地将它用于相当大的文件。

# java - 存储输入，并根据输入打印出字符串 - Java

> ID：10612159
> 
> 赞同：-1
> 
> 时间：2012-05-16T04:45:27.297
> 
> 标签：java

我有一个问题，我不知道如何解决。

```
 thisPizza = pizzaPick.nextInt();

               if((thisPizza > 0) && (thisPizza < pizza.length))
               {
                orderList[pizzaCount++] = thisPizza;
                sizeMethod();
                System.out.println("\nSubtotal: $" + moneyCounter + "\n");
               } 
```

现在，在我的程序中发生的事情是，它提示用户输入他们想要的披萨，然后在最后将其打印出来。它还询问披萨的大小......如果他们输入 1，它会很大，如果他们输入 2，它会很小......我需要的是最后打印出顺序（就像在这个'for'语句中）

```
 for (int i = 1; i < pizzaCount; i++)
    {
     System.out.println (pizza[orderList[i]]);
    } 
```

但随后也会根据他们为每个比萨选择的尺寸打印出比萨的尺寸（即小或大）。所以如果他们选择 1，它会很小，如果他们选择 2，它会很大......所以最终的结果会是这样的：

2- 火腿 - 大

1- 奶酪 - 小

10-意大利-小

3-培根-大

5- 素食 - 大

我已经可以打印出比萨饼了，我只需要它打印出每个披萨的大小，就在它旁边。谢谢！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T06:56:06.370

为您的 Pizza 创建一个类，然后您可以很好地处理您的输出和属性（请参阅此示例代码）。然后对于输出只需使用`System.out.println(myPizzaObject.toString());`：

```
class Pizza {
    String name;
    int size;
    String sizeName;
    ...
    public Pizza(String name, int size) {
        this.name = name;
        this.size = size;
        parseSizeName(this.size);
    }

    private parseSizeName(int size) {
        switch (size) {
            case 1:
                this.sizeName = "Large"; break;
            case 2:
                this.sizeName = "Small"; break;
        }
    }

    public String toString() {
        return "Name: " + this.name + ", Size: " + this.sizeName;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:08:20.207

你能不能在你的`println`语句中调用一个方法来获取披萨的大小并返回一个带有大小的字符串。例如。

```
System.out.println (pizza[orderList[i]] + pizzaSize(i))

private String pizzaSize(int i)
{
String large = "large";
String small = "small";

if(sizeArray[i] == 1)
return large;

else if (sizeArray[i] == 2)
return small;
} 
```

抱歉，如果代码不完美，我只是在学习，但无论如何我的两美分值得

# ant - 如何从ant中的csv文件中提取值？

> ID：10612160
> 
> 赞同：1
> 
> 时间：2012-05-16T04:45:38.743
> 
> 标签：ant

`Washington`
`New York`
`New Delhi`
`India`
`United States Of America`

在 ant 中，我想将所有值提取为单独的值，如华盛顿、新、德里、印度、美国、美国、美国。尽管我能够将它们逐行提取为

```
<loadfile property="message" srcFile="../Ant_Scripts/Name.csv"/>
<target name="init">
<for list="${message}" delimiter="${line.separator}" param = "val">
<echo message=${val}/> 
```

但我无法将它们提取为单独的单位，一旦我到达新德里或纽约，我也应该能够分别获得新德里和德里。

* * *

> 你能发布你的蚂蚁脚本吗？ Satya

```
 <loadfile property="message" srcFile="../Ant_Scripts/Name.csv"/>
    <target name="init">
         <for list="${message}" delimiter="${line.separator}" param = "val">
              <sequential>
                   <echo>$val</echo>
              </sequential>
         </for>
    </target>
</project> 
```

此代码将逐行打印所有名称，但在此之后，我想根据空格分隔这些行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T12:18:32.573

有一个基本错误：

[http://dailyraaga.wordpress.com/2010/12/21/ant-for-loop/](http://dailyraaga.wordpress.com/2010/12/21/ant-for-loop/)

*   您必须使用 @{param} 访问 CSV 元素，而不是 ${param}。这个循环使用属性，而不是属性；）

还有一项任务可能会满足您的线分离需求：

*   [http://ant.apache.org/manual/Tasks/fixcrlf.html](http://ant.apache.org/manual/Tasks/fixcrlf.html)

# php - Troubleshooting "Warning: session_start(): Cannot send session cache limiter - headers already sent"

> ID：10612163
> 
> 赞同：15
> 
> 时间：2012-05-16T04:45:54.497
> 
> 标签：php, session

i am getting **Warning: session_start() [function.session-start]: Cannot send session cache limiter - headers already sent (output started at** error

If i submit form data to a different file for processing, it works. But if i submit form data to the same page, it gives this error.

please suggst

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="style.css" rel="stylesheet" type="text/css" />
<title>Welcome</title>

<script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript">
$(document).ready(function () { 

    $('#nav li').hover(
        function () {
            //show its submenu
            $('ul', this).slideDown(100);

        }, 
        function () {
            //hide its submenu
            $('ul', this).slideUp(100);         
        }
    );

});
    </script>

</head>

<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td class="header">&nbsp;</td>
  </tr>
  <tr>
    <td class="menu"><table align="center" cellpadding="0" cellspacing="0" width="80%">
    <tr>
    <td>

    <ul id="nav">
    <li><a href="#">Catalog</a>
    <ul><li><a href="#">Products</a></li>
        <li><a href="#">Bulk Upload</a></li>
        </ul>
        <div class="clear"></div>
        </li>

    <li><a href="#">Purchase  </a>

    </li>
    <li><a href="#">Customer Service</a>
    <ul>
        <li><a href="#">Contact Us</a></li>
        <li><a href="#">CS Panel</a></li>

    </ul>           
        <div class="clear"></div>
    </li>
    <li><a href="#">All Reports</a></li>
    <li><a href="#">Configuration</a>
    <ul> <li><a href="#">Look and Feel </a></li>
         <li><a href="#">Business Details</a></li>
         <li><a href="#">CS Details</a></li>
         <li><a href="#">Emaqil Template</a></li>
         <li><a href="#">Domain and Analytics</a></li>
         <li><a href="#">Courier</a></li>
         </ul>
    <div class="clear"></div>
    </li>
    <li><a href="#">Accounts</a>
    <ul><li><a href="#">Ledgers</a></li>
        <li><a href="#">Account Details</a></li>
        </ul>
         <div class="clear"></div></li>

</ul></td></tr></table></td>
  </tr>
  <tr>
    <td valign="top"><table width="80%" border="0" align="center" cellpadding="0" cellspacing="0">
      <tr>
        <td valign="top"><table width="100%" border="0" cellspacing="0" cellpadding="2">
          <tr>
            <td width="22%" height="327" valign="top"><table width="100%" border="0" cellspacing="0" cellpadding="2">
              <tr>
                <td>&nbsp;</td>
                </tr>
              <tr>
                <td height="45"><strong>-&gt; Products</strong></td>
                </tr>
              <tr>
                <td height="61"><strong>-&gt; Categories</strong></td>
                </tr>
              <tr>
                <td height="48"><strong>-&gt; Sub Categories</strong></td>
                </tr>
            </table></td>
            <td width="78%" valign="top"><table width="100%" border="0" cellpadding="0" cellspacing="0">
              <tr>
                <td>&nbsp;</td>
                </tr>
              <tr>
                <td>
                  <table width="90%" border="0" cellspacing="0" cellpadding="0">
                    <tr>
                      <td width="26%">&nbsp;</td>
                      <td width="74%"><h2>Manage Categories</h2></td>
                    </tr>
                  </table></td>
                </tr>
              <tr>
                <td height="30">&nbsp;

                </td>
                </tr>
              <tr>
                <td>

</td>
                </tr>

                <tr>
                <td>
                <table width="49%" align="center" cellpadding="0" cellspacing="0">
                <tr><td>

<?php

                if (isset($_SESSION['error']))

                {

                    echo "<span id=\"error\"><p>" . $_SESSION['error'] . "</p></span>";

                    unset($_SESSION['error']);

                }

                ?>

                <form action="<?php echo $_SERVER['PHP_SELF']; ?>" method="post" enctype="multipart/form-data">

                <p>
                 <label class="style4">Category Name</label>

                   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="text" name="categoryname" /><br /><br />

                    <label class="style4">Category Image</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                    <input type="file" name="image" /><br />

                    <input type="hidden" name="MAX_FILE_SIZE" value="100000" />

                   <br />
<br />
 <input type="submit" id="submit" value="UPLOAD" />

                </p>

                </form>

                             <?php

session_start();

require("includes/conn.php");

function is_valid_type($file)

{

    $valid_types = array("image/jpg", "image/jpeg", "image/bmp", "image/gif", "image/png");

    if (in_array($file['type'], $valid_types))

        return 1;

    return 0;
}

function showContents($array)

{

    echo "<pre>";

    print_r($array);

    echo "</pre>";
}

$TARGET_PATH = "images/category";

$cname = $_POST['categoryname'];

$image = $_FILES['image'];

$cname = mysql_real_escape_string($cname);

$image['name'] = mysql_real_escape_string($image['name']);

$TARGET_PATH .= $image['name'];

if ( $cname == "" || $image['name'] == "" )

{

    $_SESSION['error'] = "All fields are required";

    header("Location: managecategories.php");

    exit;

}

if (!is_valid_type($image))

{

    $_SESSION['error'] = "You must upload a jpeg, gif, or bmp";

    header("Location: managecategories.php");

    exit;

}

if (file_exists($TARGET_PATH))

{

    $_SESSION['error'] = "A file with that name already exists";

    header("Location: managecategories.php");

    exit;

}

if (move_uploaded_file($image['tmp_name'], $TARGET_PATH))

{

    $sql = "insert into Categories (CategoryName, FileName) values ('$cname', '" . $image['name'] . "')";

    $result = mysql_query($sql) or die ("Could not insert data into DB: " . mysql_error());

  header("Location: mangaecategories.php");

    exit;

}

else

{

    $_SESSION['error'] = "Could not upload file.  Check read/write persmissions on the directory";

    header("Location: mangagecategories.php");

    exit;

}

?> 
```

Here is the code for Display

```
<?php  
                  require("includes/conn.php"); 

                $sql = "select CategoryID, CategoryName, FileName, Status from Categories";

                $result = mysql_query($sql) or die ("Could not access DB: " . mysql_error());

                while ($row = mysql_fetch_assoc($result))

                {

                     echo "<table border='0' cellpadding='10'>";

                                        echo "<tr><td>  </td><td>Category ID</td><td>Category Name</td><td>Status</td><td>Edit</td><td>Delete</td></tr>";

                                        echo "<tr><td> <img src=\"images/" . $row['FileName'] . "\" alt=\"\" /> </td>";
                                        echo "<td>". $row['CategoryID'] . "</td>";
                                            echo "<td>". $row['CategoryName'] . "</td>";
                                            echo "<td>". $row['Status']. "</td>";
                                            echo "<td> <a href= 'edit.php?CategoryID=" .$row['id']. "'> Edit </a></td>";
                                            echo "<td> <a href= 'delete.php?CategoryID=" .$row['id']. "'> Edit </a></td>";
                                         echo "</tr> </table>";

                }

            ?> 
```

Nothing is happening here. Please suggest

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-05-16T05:22:16.113

You will find I have added the session_start() at the very top of the page. I have also removed the session_start() call later in the page. This page should work fine.

```
<?php
session_start();
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="style.css" rel="stylesheet" type="text/css" />
<title>Welcome</title>

<script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript">
$(document).ready(function () { 

    $('#nav li').hover(
        function () {
            //show its submenu
            $('ul', this).slideDown(100);

        }, 
        function () {
            //hide its submenu
            $('ul', this).slideUp(100);         
        }
    );

});
    </script>

</head>

<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td class="header">&nbsp;</td>
  </tr>
  <tr>
    <td class="menu"><table align="center" cellpadding="0" cellspacing="0" width="80%">
    <tr>
    <td>

    <ul id="nav">
    <li><a href="#">Catalog</a>
    <ul><li><a href="#">Products</a></li>
        <li><a href="#">Bulk Upload</a></li>
        </ul>
        <div class="clear"></div>
        </li>

    <li><a href="#">Purchase  </a>

    </li>
    <li><a href="#">Customer Service</a>
    <ul>
        <li><a href="#">Contact Us</a></li>
        <li><a href="#">CS Panel</a></li>

    </ul>           
        <div class="clear"></div>
    </li>
    <li><a href="#">All Reports</a></li>
    <li><a href="#">Configuration</a>
    <ul> <li><a href="#">Look and Feel </a></li>
         <li><a href="#">Business Details</a></li>
         <li><a href="#">CS Details</a></li>
         <li><a href="#">Emaqil Template</a></li>
         <li><a href="#">Domain and Analytics</a></li>
         <li><a href="#">Courier</a></li>
         </ul>
    <div class="clear"></div>
    </li>
    <li><a href="#">Accounts</a>
    <ul><li><a href="#">Ledgers</a></li>
        <li><a href="#">Account Details</a></li>
        </ul>
         <div class="clear"></div></li>

</ul></td></tr></table></td>
  </tr>
  <tr>
    <td valign="top"><table width="80%" border="0" align="center" cellpadding="0" cellspacing="0">
      <tr>
        <td valign="top"><table width="100%" border="0" cellspacing="0" cellpadding="2">
          <tr>
            <td width="22%" height="327" valign="top"><table width="100%" border="0" cellspacing="0" cellpadding="2">
              <tr>
                <td>&nbsp;</td>
                </tr>
              <tr>
                <td height="45"><strong>-&gt; Products</strong></td>
                </tr>
              <tr>
                <td height="61"><strong>-&gt; Categories</strong></td>
                </tr>
              <tr>
                <td height="48"><strong>-&gt; Sub Categories</strong></td>
                </tr>
            </table></td>
            <td width="78%" valign="top"><table width="100%" border="0" cellpadding="0" cellspacing="0">
              <tr>
                <td>&nbsp;</td>
                </tr>
              <tr>
                <td>
                  <table width="90%" border="0" cellspacing="0" cellpadding="0">
                    <tr>
                      <td width="26%">&nbsp;</td>
                      <td width="74%"><h2>Manage Categories</h2></td>
                    </tr>
                  </table></td>
                </tr>
              <tr>
                <td height="30">&nbsp;

                </td>
                </tr>
              <tr>
                <td>

</td>
                </tr>

                <tr>
                <td>
                <table width="49%" align="center" cellpadding="0" cellspacing="0">
                <tr><td>

<?php

                if (isset($_SESSION['error']))

                {

                    echo "<span id=\"error\"><p>" . $_SESSION['error'] . "</p></span>";

                    unset($_SESSION['error']);

                }

                ?>

                <form action="<?php echo $_SERVER['PHP_SELF']; ?>" method="post" enctype="multipart/form-data">

                <p>
                 <label class="style4">Category Name</label>

                   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="text" name="categoryname" /><br /><br />

                    <label class="style4">Category Image</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                    <input type="file" name="image" /><br />

                    <input type="hidden" name="MAX_FILE_SIZE" value="100000" />

                   <br />
<br />
 <input type="submit" id="submit" value="UPLOAD" />

                </p>

                </form>

                             <?php

require("includes/conn.php");

function is_valid_type($file)

{

    $valid_types = array("image/jpg", "image/jpeg", "image/bmp", "image/gif", "image/png");

    if (in_array($file['type'], $valid_types))

        return 1;

    return 0;
}

function showContents($array)

{

    echo "<pre>";

    print_r($array);

    echo "</pre>";
}

$TARGET_PATH = "images/category";

$cname = $_POST['categoryname'];

$image = $_FILES['image'];

$cname = mysql_real_escape_string($cname);

$image['name'] = mysql_real_escape_string($image['name']);

$TARGET_PATH .= $image['name'];

if ( $cname == "" || $image['name'] == "" )

{

    $_SESSION['error'] = "All fields are required";

    header("Location: managecategories.php");

    exit;

}

if (!is_valid_type($image))

{

    $_SESSION['error'] = "You must upload a jpeg, gif, or bmp";

    header("Location: managecategories.php");

    exit;

}

if (file_exists($TARGET_PATH))

{

    $_SESSION['error'] = "A file with that name already exists";

    header("Location: managecategories.php");

    exit;

}

if (move_uploaded_file($image['tmp_name'], $TARGET_PATH))

{

    $sql = "insert into Categories (CategoryName, FileName) values ('$cname', '" . $image['name'] . "')";

    $result = mysql_query($sql) or die ("Could not insert data into DB: " . mysql_error());

  header("Location: mangaecategories.php");

    exit;

}

else

{

    $_SESSION['error'] = "Could not upload file.  Check read/write persmissions on the directory";

    header("Location: mangagecategories.php");

    exit;

}

?> 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-05-09T14:31:36.300

I had the same issue, but my solution wasn't as obvious as the suggested ones. It turned out that my php-file was written in UTF-8, which caused issues. I copy/pasted the content of the entire file into a new php-file (Notepad++ tells me this is written in ANSI rather than UTF-8), and now it work flawlessly.

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2016-03-01T01:13:24.437

The answer is above by Ross.

Firstly, putting session_start() as the first line of code will mean that you cannot deserialise any objects correctly into session variables.

The reason for getting this issue is 99% likely to be trailing spaces at the end of your include files (yes - I know it sounds unlikely but just try it). The offending file is in the error message. I wanted to back up Ross answer which worked for me but this site is counter intuitive.

IGNORE the nonsense answers. Remove the trailing spaces, newlines etc... and all will be well. ROSS knows what he is talking about. Putting session_start() at the top of your file DOES work but it isnt the correct solution.

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2012-05-16T04:48:41.743

replace `session_start();` with `@session_start();` in your code

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2012-05-16T04:49:19.947

This should solve your problem. session_start() should be called before any character is sent back to the browser. In your case, HTML and blank lines were sent before you called session_start(). [Documentation here](http://php.net/manual/en/function.session-start.php).

To further explain your question of why it works when you submit to a different page, that page either do not use session_start() or calls session_start() before sending any character back to the client! This page on the other hand was calling session_start() much later when a lot of HTML has been sent back to the client (browser).

The better way to code is to have a common header file that calls connects to MySQL database, calls session_start() and does other common things for all pages and include that file on top of each page like below:

```
include "header.php"; 
```

This will stop issues like you are having as also allow you to have a common set of code to manage across a project. Something definitely for you to think about I would suggest after looking at your code.

```
<?php
session_start();

                if (isset($_SESSION['error']))

                {

                    echo "<span id=\"error\"><p>" . $_SESSION['error'] . "</p></span>";

                    unset($_SESSION['error']);

                }

                ?>

                <form action="<?php echo $_SERVER['PHP_SELF']; ?>" method="post" enctype="multipart/form-data">

                <p>
                 <label class="style4">Category Name</label>

                   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="text" name="categoryname" /><br /><br />

                    <label class="style4">Category Image</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                    <input type="file" name="image" /><br />

                    <input type="hidden" name="MAX_FILE_SIZE" value="100000" />

                   <br />
<br />
 <input type="submit" id="submit" value="UPLOAD" />

                </p>

                </form>

                             <?php

require("includes/conn.php");

function is_valid_type($file)

{

    $valid_types = array("image/jpg", "image/jpeg", "image/bmp", "image/gif", "image/png");

    if (in_array($file['type'], $valid_types))

        return 1;

    return 0;
}

function showContents($array)

{

    echo "<pre>";

    print_r($array);

    echo "</pre>";
}

$TARGET_PATH = "images/category";

$cname = $_POST['categoryname'];

$image = $_FILES['image'];

$cname = mysql_real_escape_string($cname);

$image['name'] = mysql_real_escape_string($image['name']);

$TARGET_PATH .= $image['name'];

if ( $cname == "" || $image['name'] == "" )

{

    $_SESSION['error'] = "All fields are required";

    header("Location: managecategories.php");

    exit;

}

if (!is_valid_type($image))

{

    $_SESSION['error'] = "You must upload a jpeg, gif, or bmp";

    header("Location: managecategories.php");

    exit;

}

if (file_exists($TARGET_PATH))

{

    $_SESSION['error'] = "A file with that name already exists";

    header("Location: managecategories.php");

    exit;

}

if (move_uploaded_file($image['tmp_name'], $TARGET_PATH))

{

    $sql = "insert into Categories (CategoryName, FileName) values ('$cname', '" . $image['name'] . "')";

    $result = mysql_query($sql) or die ("Could not insert data into DB: " . mysql_error());

  header("Location: mangaecategories.php");

    exit;

}

else

{

    $_SESSION['error'] = "Could not upload file.  Check read/write persmissions on the directory";

    header("Location: mangagecategories.php");

    exit;

}

?> 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2012-05-16T05:23:26.680

use `ob_start();` before `session_start();` at top of your page like this

```
<?php
ob_start();
session_start(); 
```

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2013-12-16T01:04:55.390

For others who may run across this - it can also occur if someone carelessly leaves trailing spaces from a php include file. Example:

```
 <?php 
    require_once('mylib.php');
    session_start();
 ?> 
```

In the case above, if the mylib.php has blank spaces after its closing ?> tag, this will cause an error. This obviously can get annoying if you've included/required many files. Luckily the error tells you which file is offending.

HTH

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2015-02-03T04:42:22.280

Generally this error arise when we send header after echoing or printing. If this error arise on a specific page then make sure that page is not echoing anything before calling to start_session().

Example of Unpredictable Error:

```
 <?php //a white-space before <?php also send for output and arise error
session_start();
session_regenerate_id();

//your page content 
```

One more example:

```
<?php
includes 'functions.php';
?> <!-- This new line will also arise error -->
<?php
session_start();
session_regenerate_id();

//your page content 
```

Conclusion: Do not output any character before calling session_start() or header() functions not even a white-space or new-line

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2017-10-23T04:57:53.750

Just replace session_start with this.

```
if (!session_id() && !headers_sent()) {
   session_start();
} 
```

You can put it anywhere, even at the end :) Works fine for me. $_SESSION is accessible as well.

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2012-05-16T04:49:54.443

use `session_start()` at the top of the page.

for more details please read the link [session_start](http://php.net/manual/en/function.session-start.php)

* * *

## 回答 #11

> 赞同：3
> 
> 时间：2016-08-14T09:47:27.703

I was able to solve similar `Warning: session_start(): Cannot send session cache limiter - headers already sent` by just removing a space in front of the `<?php` tag.

It worked.

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2017-01-17T05:37:58.680

I had a website transferring from one host to another, it seemed to work fine on the old host but a few pages on the new host threw the error

```
Warning: session_start(): Cannot send session cache limiter - headers already sent
```

while I always kept the

```
 <?php
session_start(); 
```

at the top of the page no spaces and nothing inserted before

it really bugged me that I stared every page with the session opening, and it worked on some pages and run through a bug on others I picked the pages that had the problems, backed them up, created new blank pages and simply copied and pasted the code as is, saved and uploaded and boom, problem gone!

this is something you guys may need to consider, it may have been the encoding of the page, or something, not sure the exact source of the problem, but here is a fix to look at in case you guys run into a similar problem

cheers!

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2016-05-06T05:54:41.520

In my case I had to set the file encoding without BOM.

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2018-09-22T02:11:22.650

This started for me when I redirected my site to https:// (for SSL Certificate). From my experience with this issue, the `session_start()` had to be before the browser saw any HTML code. For my example, I was using `session_start()` in nav.php to determine the options of the navigation bar. I ended up placing `session_start()` right after the php comments in the index.php file and every page which called nav.php. I was able to keep the php comments before `session_start()` but could not keep the HTML comments above the php.

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2019-01-24T09:01:19.273

Check any extra space before php tag.

# backbone.js - _.each 在 BackboneJS

> ID：10612171
> 
> 赞同：0
> 
> 时间：2012-05-16T04:47:10.747
> 
> 标签：backbone.js

```
var MenuListView = Backbone.View.extend({
            el : '#menus',
            reset : function() {
                var hIndex = this.getTheMenuIndexHighlighting();
                _.each(this.model.models[hIndex].attributes.subMenus, function(model, index) {
                    model.set({highlight : false});
                });
    }); 
```

_.each 在上面的代码中没有旋转。

**更新** 这里是我的子菜单 json

```
[ {title:'Applications',bmUrl:'',id:'1',subMenus:[ {title: 'MsWord', bmUrl : 'msword.com';, id: 1, subMenus: null}, {title: 'MsExcel', bmUrl : 'msexcel.com';, id: 2, subMenus: null}, {title: 'MsPP', bmUrl : 'mspp.com';, id: 3, subMenus: null}, {title: 'MsOneNote', bmUrl : 'msonenote.com';, id: 4, subMenus: null}, {title: 'MsOutlook', bmUrl : 'msoutlook.com';, id: 5, subMenus: null} ],imgUrl:''}] 
```

任何人都可以告诉我为什么吗？

将 _.each 替换为 $.each 会旋转循环，但不会触发适当的模型视图更新方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T05:50:18.070

你应该改变这一行

```
this.model.models[hIndex].attributes.subMenus 
```

至

```
this.model.at(hIndex).get("subMenus") 
```

编辑：- 通过这样说，我假设 subMenus 本身就是一个集合
，但现在看来它是一个数组并且通过下划线站点**_.each() 不适用于数组**，只能用于集合。其中每个 jquery 都可以应用于数组。

[http://documentcloud.github.com/underscore/#arrays](http://documentcloud.github.com/underscore/#arrays)
链接到下划线网站请注意，每个数组都不包括在内

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:18:08.900

看来答案肯定要靠猜测来给出，因为您发布的代码量很少。但这是我的尝试

*   我认为这应该 `this.model.models[hIndex].attributes.subMenus`转换为`this.collection.models[hIndex].attributes.subMenus`假设 this.model 指的是肯定具有模型属性的集合。

*   其次，如果您需要索引处的模型，则[`at`](http://documentcloud.github.com/backbone/#Collection-at)集合中有方法，因此简化为`this.collection.at(hIndex).attributes,subMenus`

*   第三，因为我们使用集合（指子菜单）你现在可以这样做`this.collection.at(hIndex).get("subMenus").each(function(subMenu){alert(subMenu.toJSON());})`

您的最终代码必须是（带有大量假设）

```
var MenuListView = Backbone.View.extend({
    el: '#menus',
    reset: function () {
        var hIndex = this.getTheMenuIndexHighlighting();
        this.collection.at(hIndex).get("subMenus").each(function (subMenu) {
            alert(subMenu.toJSON());
        })
    }); 
```

### 更新

因为你似乎仍然是 BBjs 世界的菜鸟。创建一个像下面这样的视图实例，你将让上面的代码像 jiffy 一样工作

`var viewInstance = new MenuListView({collection:Menu})`

其中 Menu 是`new`Collection 的 instance( ) （您使用的）

# c# - 将 .txt 转换为 .xml

> ID：10612185
> 
> 赞同：0
> 
> 时间：2012-05-16T04:48:35.033
> 
> 标签：c#, xml, text

我正在寻找一种在 C# 中输入文本文件并输出 xml 的方法。经过一番搜索，我找到了输入字符串并输出为xml的方法，并将一些文本手动输入到C#源代码中，然后输出为xml，而不是导入文本文件并输出。我需要这个，因为我有一个应用程序可以将一些特定于计算机的信息保存到 txt 文件中。我想制作一个 C# 程序，它接受这个 .txt 并将其输出为 .xml 。所有 .txt 文件都将具有相同的格式。如果可能的话，我希望它输出如下：

```
<Data>
    <Info>#</Info> 
```

文本文件的所有内容都将输出到# 区域。感谢您的帮助！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-16T04:59:55.493

假设您需要为 txt 中的每一行添加 xml 元素，您可以编写类似于以下 (XLINQ)。

```
String[] data = File.ReadAllLines("TextFile.txt");
XElement root = new XElement("root",
                            from item in data
                            select new XElement("Line",item));
root.Save("XmlFile.Xml"); 
```

输出

```
 <root>
    <Line>Hello</Line>
    <Line>World</Line>
    </root> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-16T04:59:01.040

下面将打开一个文件，读取内容，创建一个新的 XML 文档，然后将结果保存到与原始文件相同的路径，仅带有 XML 扩展名。

```
var txt = string.Empty;

using (var stream = File.OpenText(pathToFile))
{
    txt = stream.ReadToEnd();
}
var xml = new XDocument(
    new XElement("Data",
        new XElement("Info", txt)));

xml.Save(Path.ChangeExtension(pathToFile, ".xml")); 
```

# mysql - 如何在不索引列的情况下在我的 innodb 表中添加外键约束？

> ID：10612192
> 
> 赞同：0
> 
> 时间：2012-05-16T04:49:09.550
> 
> 标签：mysql, phpmyadmin

我读了一些关于表索引的建议，我发现当你的 sql 查询运行缓慢时应该稍后引入索引。

我的问题是我在一张表中索引了几乎所有列。此表绑定到其他表，例如用户表列国家绑定到国家表

```
user table          country table
id                  id
countryId           name 
```

我在 countryId 列中添加了一个索引，以便我可以将它链接到国家表的 id，因为当我在列上没有索引时我无法创建外键约束。

基本上我有很多列链接到其他表只是为了向我的列添加约束。

例如，country 表不超过 100，所以如果有人不小心插入了 101 的值，mysql 将不会接受该数据，因为 country 表只有 1-100..

那么如何在避免添加索引的情况下仍然具有表数据约束的功能呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T04:52:29.937

1.  这个建议太糟糕了。

2.  您将要搜索的或需要特定约束（例如唯一值）的索引列。

不添加索引的唯一原因是它们确实占用空间。但是，除非您处理的数据如此之多以至于需要数据库管理员，否则您可能不必担心它。

# git - 有什么工具可以让我轻松理解 git 冲突文件吗？

> ID：10612198
> 
> 赞同：2
> 
> 时间：2012-05-16T04:49:46.090
> 
> 标签：git, merge, git-merge, merge-conflict-resolution

我合并了两个分支，但最终的文件是这样的：

```
<<<<<<< HEAD
this is line -1.
this is line -2.
this is line -3.
=======
this is line b1.
this is line b2.
this is line b3.
>>>>>>> addSomePrefix 
```

我不知道它代表什么，他们是否有任何 GUI 工具可以以更易于阅读的格式显示数据？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T04:54:01.953

这是冲突的结果。

您应该手动编辑文件，解决冲突（基本上这意味着选择要保留的代码）。

现在 === 上面的代码是旧代码，=== 下面是你的新代码（我认为是这样的！）。

对于一般的 git 用法，我还推荐使用[gitg](http://git.gnome.org/browse/gitg/) (Linux) / [gitx](http://gitx.frim.nl/index.html) (Mac) 之类的 gui 工具。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T05:05:48.623

一些 Git 客户端提供了一个“diff3”冲突解决工具（一个 3 个面板视图，可帮助您通过单击几下鼠标来解决冲突）。您可以尝试例如[SmartGit](http://www.syntevo.com/smartgit/index.html)。

但是，正如已经说过的，手动解决冲突也是一种选择，它并不难......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T07:32:45.867

您可以将[`meld`](http://meldmerge.org/)其用作合并的可视化工具，它可以很好地进行 3 向合并，向您显示公共根并允许从合并的两侧拉入更改。

要在您运行时调用它，`git mergetool`请将以下内容添加到您的 git 配置中

```
[merge]
   summary = false
   tool = "meld"

[mergetool "meld"]
  cmd = meld \
   -a \
   "$PWD/$BASE" \
   "$PWD/$LOCAL" \
   "$PWD/$REMOTE" \
   -o "$PWD/$MERGED"
   keepBackup = false
   trustExitCode = false 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-13T13:37:32.997

您可以检查 ECMerge（我工作的工具），它使用“打开冲突文件”菜单或从其 shell 扩展名加载 Git 冲突文件，并显示它们以便让您解决冲突。

顺便说一句，它适用于大多数其他 VCS（如 Bazaar、Darcs、CVS、SVN 等）。

ECMerge 与 git 集成，有一个预先注册的工具，当配置为使用 git 命令行时，它还可以浏览 Git 存储库（本地和裸存储库）。

# javascript - 如何等到添加表单数据后才追加数据？

> ID：10612201
> 
> 赞同：0
> 
> 时间：2012-05-16T04:50:01.080
> 
> 标签：javascript, forms, jquery, javascript-events

当我单击#screenrId 时，它会提交默认数据，而没有时间添加用户输入的新数据。如何在添加表单输入字段数据之前等待追加数据？

[http://jsfiddle.net/XVCVE/1/](http://jsfiddle.net/XVCVE/1/)

```
<script type="text/javascript">    
$(document).ready(function() {      
    Screenr.Recorder( { subject:""}).appendTo("screenrId");        
});        
</script>     
<form>    
    <h4>Subject <input name="subject" id='subject' type="text" ></h4>
</form>
<div id="screenrId" ></div> 
```

我正在尝试在添加表单数据之前将其添加到 screen.recorder 函数？`Screenr.Recorder( { subject:""})`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:07:56.283

很确定我刚刚修复了它：http: [//jsfiddle.net/XVCVE/3/](http://jsfiddle.net/XVCVE/3/)

问题：

1.  jsfiddle 中的“javascript”部分假定为原始 javascript，没有`<script>`标签，所以我将该代码移到顶部。
2.  您有一种非常奇怪的方法来确保使用正确的 HTTP 协议（​​HTTP 或 HTTPS）来加载 3rd 方库，如果您*不编写*`http:`or ，浏览器会自动执行此操作`https:`。

在那之后，按钮在稍许延迟后出现。

# java - 何时应通告异常以及何时应处理异常的拇指规则

> ID：10612203
> 
> 赞同：1
> 
> 时间：2012-05-16T04:50:10.763
> 
> 标签：java, exception, exception-handling

我有`x`一个方法，它调用`y`它里面的另一个方法，它调用了一个抛出异常的方法`MyException`。此时我有两个选择，要么宣传我的方法`x`，但有例外`MyException`......比如

```
public void x() throws MyException {
// call to y
} 
```

（因为用这样`y`的条款做广告`throws`......）

```
public void y() throws MyException {
// code
} 
```

或者将调用包装`y`在我的方法`x`中的 try catch 块中并处理它？像这样..

```
public void x() {
 try {
   // call to y
 } catch (MyException e) {
   // handle exception
 } 
} 
```

什么是拇指规则？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:27:52.343

答案很简单：

如果你能处理内部异常，你应该抓住它并做一些合理的事情

如果你*不能*处理它，你有两个选择：

1.  如果异常是*特定于实现*的，则捕获它并抛出调用者可以接受的异常（通常包装实际异常）
2.  如果异常在你的调用者的域中，声明为抛出它并让*你的*调用者处理它

以下是每种类型的一些示例：

### 示例 1：处理它：

```
public void deleteFile(String filename) {
    File file = new File(filename);
    try {
        file.delete();
    } catch (FileNotFoundException e) {
        // No big deal - it was already deleted
    }
} 
```

### 示例 2：包装它：

```
public void changePassword(String username, String password) throws UserUpdateException {
    try {
        // execute SQL to update the password
        // but storing the user in a DB is an imlementation choice
        // we could use a file on disk or a remote web service to store user info
    } catch (SQLException e) {
        throw new UserUpdateException(e);
    }
} 
```

### 示例 3：什么都不做：

```
public void insertIntoDatabase(Record record) throws SQLException {
    // execute SQL on the database
    // using a DB is implied - let the exception bubble up
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T05:00:18.490

如果您的方法可以与其调用者保持合同，而不管异常如何，那么异常就是它可以并且可能应该处理的事情。

如果调用者发现他们说“做 x”而感到困惑，并且做“x”的“y”部分存在内部问题，因为“x”并没有真正完成，那么你应该暴露异常（或其他以 a`MyException`为原因的异常）。

并且 - 考虑调用者是否可以合理地处理异常，或者程序是否有任何理由继续，如果答案是否定的，请分别考虑使用 a`RuntimeException`或`Error`。

反正我就是这么说的。

# c# - 比较双精度和十进制我应该将双精度转换为十进制还是将十进制转换为双精度？

> ID：10612207
> 
> 赞同：19
> 
> 时间：2012-05-16T04:50:46.160
> 
> 标签：c#

我需要比较两个值。一个值`price`代表某物的当前价格，`decimal`因为您实际上可以按此价格买卖某物。

另一个值是`estimatedPrice`数学计算的结果，所以`double`因为它只是`estimation`而且你实际上不能通过这个做任何“操作”`esitmatedPrice`

现在我想买if `price < estimatedPrice`。

那么我应该将价格转换为两倍还是将估计价格转换为小数？

我知道在施法后我会得到“另一个”数字，但似乎我没有其他选择。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-05-16T05:03:59.970

这取决于数据。十进制具有更高的精度；double 的范围更大。如果双精度值可能超出小数范围，则应将小数转换为双精度（或者，如果双精度值超出小数范围，则实际上您可以编写一个返回结果而不进行转换的方法；请参见下面的示例）。

在这种情况下，双精度值似乎不太可能超出小数范围，因此（特别是因为您正在处理价格数据）您应该将双精度值转换为十进制。

示例（可以使用一些逻辑来处理 NaN 值）：

```
private static int Compare(double d, decimal m)
{
    const double decimalMin = (double)decimal.MinValue;
    const double decimalMax = (double)decimal.MaxValue;
    if (d < decimalMin) return -1;
    if (d > decimalMax) return 1;
    return ((decimal)d).CompareTo(m);
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-16T04:54:54.837

[十进制与双倍！- 我应该使用哪一个以及何时使用？](https://stackoverflow.com/questions/1165761/decimal-vs-double-which-one-should-i-use-and-when)

如果您更关心精度，请转换为十进制。如果不是，请选择双打。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T04:59:39.017

我以前从未在软件中处理过价格问题，但据我所知，很多都处理整数。例如，对于 $1.23，将其存储为整数 123。当您将结果输出给用户时，会在最后完成转换为小数。

同样，对于您的估计价格，您能否处理（比方说）大 100 倍的数字？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-16T05:07:11.063

我建议您转换为**十进制**。因为您似乎想要操纵货币价值。但我可以给出这个简短的答案：为了准确（专门为金融应用程序操纵货币价值）应用程序使用小数。如果您喜欢更少的资源和更快的速度，请使用双倍。

# android - 如何将地图视图渲染为圆形？

> ID：10612210
> 
> 赞同：1
> 
> 时间：2012-05-16T04:51:25.880
> 
> 标签：android, android-mapview

不要与在地图视图上画一个圆圈相混淆。我正在努力完成以下工作。

![在此处输入图像描述](../Images/a16388d5aab400fa711cd1c4d69411a7.png)

我应该以及如何：a）将 MapView 创建为另一个视图上的圆形视图？b) 渲染 MapView 全屏并用透明圆圈覆盖另一个视图？

我不确定这些选项中的任何一个是否可能，我认为它们是可能的。如果有帮助，作为用户工作流程的一部分，不透明区域将有几个按钮，但最终会消失，用户将留下全屏地图进行交互。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-04-27T11:29:37.373

我发现的一种解决方法是通过操作[CardViewcornderRadius](http://developer.android.com/reference/android/support/v7/widget/CardView.html)属性并将 MapView 包装在其中。将 cardCornerRadius 设置为 layout_width 和 layout_height 的一半*将*创建*一个*圆形 View，您可以在其中添加 MapView。如果您不想要阴影，请将 cardElevation 设置为 0dp。

这是代码示例

```
<android.support.v7.widget.CardView
    android:layout_width="200dp"
    android:layout_height="200dp"
    app:cardCornerRadius="100dp">

    <com.google.android.gms.maps.MapView
      android:layout_width="match_parent"
      android:layout_height="match_parent"/>

  </android.support.v7.widget.CardView> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:07:43.277

你可以玩画布。圆角 MapView 参见以下链接：-

[http://blog.blundell-apps.com/rounded-corners-mapview/](http://blog.blundellapps.co.uk/rounded-corners-mapview/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T05:08:22.363

试试这个代码

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    mapView = (MapView) findViewById(R.id.mapview);
    MapController mc = mapView.getController();
    MyLocationOverlay myLocationOverlay = new MyLocationOverlay(MainMap.this, mapView);
    mapView.getOverlays().add(myLocationOverlay);
    mc.animateTo( new GeoPoint(lat, lng));
    mc.setZoom(15);
    mapView.invalidate();
} 
```

不要忘记添加 overlay.enableMyLocation(); 在 onresume() 和 overlay.disableMyLocation() 中；在暂停

如果你想在你的点周围画圆圈，而不是上面的代码，你可以使用下面的示例代码：

```
Point screenPnts =new Point();
GeoPoint curr_geopoint = new GeoPoint((int)(location.getLatitude()*1E6),(int)(location.getLongitude()*1E6));
mapview.getProjection().toPixels(curr_geopoint, screenPnts);
canvas.drawCircle(screenPnts.x, screenPnts.y, 15, paint); 
```

# c# - 带有远程 C# 的 FileDialog

> ID：10612216
> 
> 赞同：0
> 
> 时间：2012-05-16T04:51:51.793
> 
> 标签：c#, winforms

我需要用 C# 开发一个应用程序，就像 SQL Management Studio 中的还原数据库。它基本上是一个远程显示服务器上的文件/文件夹的 FileDialog。我认为它非常简单，但是由于我开始使用 Remote (.NET) 开发应用程序，因此我需要一些帮助。当然，我不是要求有现成的代码，我会很感激一些教程以及如何开始远程开发和使用 Windows 窗体。

谢谢 ！

狮子座

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:25:44.190

这取决于您对远程计算机的网络访问权限。如果您有权访问文件系统，您只需将常规文件对话框指向正确的网络路径即可。

如果您无法访问远程机器的文件系统，则需要创建一个在该机器上运行并提供对文件的访问权限的代理。你可以这样做，但除非你真的很小心，否则你会引入一个重大的安全漏洞。相反，您可以只启用常规的 Windows 网络文件访问。

# c++ - Boost python，将原始指针与托管指针进行比较？

> ID：10612218
> 
> 赞同：1
> 
> 时间：2012-05-16T04:52:24.087
> 
> 标签：c++, python, boost

所以我`std::map<KeyType, std::shared_ptr<ValueType>>`使用`map_indexing_suite`.

在代码的其他地方，我`ValueType`使用原始指针存储对映射中对象的引用`ValueType*`，因为这些容器不拥有`ValueType`对象，映射拥有。

我的问题是，我怎样才能以一种可以将该引用与共享指针进行比较的方式将原始指针公开给 python？像这样的东西：

```
valueRef = getRawReference()
for x in myMap:
    if x.data() == valueRef:
        print "match" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T16:53:29.620

自己找到了答案。

首先定义两个方法：

```
bool eq(std::shared_ptr<ValueType> lhs, ValueType* rhs)
{
    return lhs.get() == rhs;
}

bool neq(std::shared_ptr<ValueType> lhs, ValueType* rhs)
{
    return lhs.get() != rhs;
} 
```

然后在您的 BOOST_PYTHON_MODULE 中：

```
bp::def("getRawReference", getRawReference, bp::return_value_policy<bp::reference_existing_object>())

bp::class_<ValueType, std::shared_ptr<ValueType>>("ValueType")
    .def("__eq__", eq)
    .def("__neq__", neq); 
```

# jquery - jQuery Ajax 请求问题

> ID：10612220
> 
> 赞同：0
> 
> 时间：2012-05-16T04:52:41.933
> 
> 标签：jquery

我在 jQuery ajax 请求中遇到问题。一旦我使用 ajax 作为 post 甚至 get 发送请求。它不断添加 NaNundefiened。 `clearNaNgreen`

[JavaScript]；

```
$("#btnSubmit1").click(function() {
    var criminality = $('select#criminality option:selected').val();
    var color1 = $("select#color1 option:selected").val();
    var business = $("select#business option:selected").val();
    var color2 = $("select#color2 option:selected").val();
    var civil = $("select#civil option:selected").val();
    var color3 = $("select#color3 option:selected").val();
    var bankruptcy = $("select#bankruptcy option:selected").val();
    var color4 = $("select#color4 option:selected").val();
    var education = $("select#education option:selected").val();
    var color5 = $("select#color5 option:selected").val();
    var candidateID = $("input#choosecandidate_hidden").val();

    var dataString =    'criminality='+ criminality + '&color1=' + color1 + '&business=' + business
                        + '&color2='+ color2 + '&civil=' + civil + '&color3=' + color3  + '&bankruptcy=' + bankruptcy+
                        + '&color4='+ color4 + '&education=' + education + '&color5=' + color5+
                        + '&report_status='+ report_status + '&color9=' + color9+'&report_form_name=report_form1&candidate_id='+candidateID;
                        //alert (dataString);return false;

    $.ajax({
        type: "POST",
        url: "report_submit_ajax.php",
        data: dataString,
        success: function() {
            alert('Form has been sumbmitted successfully');
        }
    });

    return false;
}); 
```

[HTML]

```
<form id="report_form1" class="form" name="report_form">
    <fieldset>
        <legend>Executive Summary:</legend>
        <table cellspacing="10" border="0">
            <tbody>
                <tr>
                    <td><b>Criminality/Integrity Check</b></td>
                    <td><select id="criminality" name="criminality">
                            <option value="clear">Clear</option>
                            <option value="verified">Verified</option>
                            <option value="verified_des_mijor">Verified with Major Discrepancy</option>
                            <option value="verified_des_minor">Verified with Minor Discrepancy</option>
                        </select></td>
                    <td><select id="color1" name="color1">
                            <option style="color: green;" value="green">Green</option>
                            <option style="color: blue;" value="blue">Blue</option>
                            <option style="color: yellow;" value="yellow">Yellow</option>
                            <option style="color: red;" value="red">Red</option>
                        </select></td>
                </tr>
                <tr>
                    <td><b>Highest Education Check</b></td>
                    <td><select id="education" name="education">
                            <option value="clear">Clear</option>
                            <option value="verified">Verified</option>
                            <option value="verified_des_mijor">Verified with Major Discrepancy</option>
                            <option value="verified_des_minor">Verified with Minor Discrepancy</option>
                        </select></td>
                    <td><select id="color5" name="color5">
                            <option style="color: green;" value="green">Green</option>
                            <option style="color: blue;" value="blue">Blue</option>
                            <option style="color: yellow;" value="yellow">Yellow</option>
                            <option style="color: red;" value="red">Red</option>
                        </select></td>
                </tr>
                <tr>
                    <td><b>Second Profession Reference Check</b></td>
                    <td><select id="employment_check_2" name="employment_check_2">
                            <option value="clear">Clear</option>
                            <option value="verified">Verified</option>
                            <option value="verified_des_mijor">Verified with Major Discrepancy</option>
                            <option value="verified_des_minor">Verified with Minor Discrepancy</option>
                        </select></td>
                    <td><select id="color7" name="color7">
                            <option style="color: green;" value="green">Green</option>
                            <option style="color: blue;" value="blue">Blue</option>
                            <option style="color: yellow;" value="yellow">Yellow</option>
                            <option style="color: red;" value="red">Red</option>
                        </select></td>
                </tr>
                <tr>
                    <td><b>Report Status</b></td>
                    <td><select id="report_status" name="report_status">
                            <option value="clear">Clear</option>
                            <option value="verified">Verified</option>
                            <option value="verified_des_mijor">Verified with Major Discrepancy</option>
                            <option value="verified_des_minor">Verified with Minor Discrepancy</option>
                        </select></td>
                    <td><select id="color9" name="color9">
                            <option style="color: green;" value="green">Green</option>
                            <option style="color: blue;" value="blue">Blue</option>
                            <option style="color: yellow;" value="yellow">Yellow</option>
                            <option style="color: red;" value="red">Red</option>
                        </select></td>
                </tr>
            </tbody>
        </table>
    </fieldset>
    <input id="btnSubmit1" type="button" name="btnSubmit1" value="Update">
</form> 
```

这是我得到的确切帖子

```
bankruptcy  undefinedNaNundefined
business    undefined
candidate_id    78
civil   undefined
color1  green
color2  undefined
color3  undefined
color5  greenNaNundefined
color6  undefined
color8  undefinedNaNclear
color9  green
criminality clear
education   clear
employment_check_2  clearNaNgreen
professional_reference  undefined
report_form_name    report_form1 
```

如您所见，它生成了如此有趣的单词。有什么解决办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:03:37.100

在这里检查... [http://jsfiddle.net/laupkram/5RF6j/](http://jsfiddle.net/laupkram/5RF6j/)

您给我们的东西中缺少一些元素，因此它会创建 undefined

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T04:58:17.270

您的选择器返回的元素与您预期的不同。结果在某些情况下，由于多个值的组合方式，您有时会得到未定义或 NaN（非数字）值连接在一起。

我强烈建议在您的浏览器中使用 JavaScript 调试器（通常由 F12 提供）并检查每个 $(....) 表达式的结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T10:09:19.940

```
 $("#btnSubmit1").live('click', function (e) {
            e.preventDefault();

            alert($('form#report_form1').serialize());

            $.ajax({
                type: "POST",
                url: "report_submit_ajax.php",
                data: $('form#report_form1').serialize(),
                success: function () {
                    alert('Form has been sumbmitted successfully');
                }
            });

            //return false;
        });​ 
```

对于现场演示，请参阅此链接：http: [//jsfiddle.net/nanoquantumtech/5RF6j/1/](http://jsfiddle.net/nanoquantumtech/5RF6j/1/)

供参考，请参阅此链接：[http ://api.jquery.com/serialize/](http://api.jquery.com/serialize/)

# websphere - WAS 8 中的 JSP/servlet 版本？

> ID：10612225
> 
> 赞同：5
> 
> 时间：2012-05-16T04:53:18.380
> 
> 标签：websphere

哪个版本的 JSP/servlet 在 websphere 8 中？我将 IBM RAD 8 与 websphere 8 一起使用，想知道 JSP/servlet 容器是否支持 EL 中的“最新”servlet 容器应该执行的方法调用。它可以？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2016-03-27T04:53:08.807

WebSphere 8/8.5/8.5.5 支持相同的 Servlet (3.0)、JSP (2.2) 和 JSF (2.0) 版本。唯一的变化是 JDBC 版本，你可能不那么依赖。

参考：[https ://en.wikipedia.org/wiki/IBM_WebSphere_Application_Server#Version_history](https://en.wikipedia.org/wiki/IBM_WebSphere_Application_Server#Version_history)

旁注：自web.xml 中声明的Servlet/WebApp 版本**2.5以来，IBM 开始拥有扩展名为 xm** **l**而不是 xm **i的内部 ibm-web-bnd 和 ibm-web-ext 文件**

 **参考下图。

[![在此处输入图像描述](../Images/5b685f040fa53e09a802cf7f54475f20.png)](https://i.stack.imgur.com/leukC.png)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-16T14:42:48.787

根据InfoCenter 中的[规范和 API 文档](https://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.nd.multiplatform.doc/ae/rovr_specs.html)，WebSphere v8 支持 JEE6、Java Servlet 3.0 和 JSP 2.2。**

# asp.net - 错误 500 - 我的服务器出现内部服务器错误

> ID：10612228
> 
> 赞同：0
> 
> 时间：2012-05-16T04:53:47.913
> 
> 标签：asp.net, iis

我在我的 IIS 网络服务器中运行 ASP.NET 项目，我收到了这个错误。在我的本地主机服务器中一切正常，但是在将我的代码上传到服务器后，我收到了这种错误。

我的 Web.Config 文件包括

```
<?xml version="1.0"?>
<configuration>
<!--    <system.diagnostics>
        <trace autoflush="true" indentsize="0">
            <listeners>
                <!--<add name="MyListener" type="System.Diagnostics.TextWriterTraceListener" initializeData="C:\temp\webmail.log"/>-->
            </listeners>
        </trace>
    </system.diagnostics> -->
    <appSettings>
    <add key="dataFolderPath" value="App_Data\"/>
    <add key="WebMailFolderPath" value=""/>
  </appSettings>
    <system.web>
    <pages enableEventValidation="false" enableViewState="false" enableViewStateMac="false">
    <!--  <controls>
        <add tagPrefix="asp" namespace="System.Web.UI" assembly="System.Web.Extensions, Version=1.0.61025.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        <add tagPrefix="asp" namespace="System.Web.UI.WebControls" assembly="System.Web.Extensions, Version=1.0.61025.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
      </controls> -->
    </pages>
        <httpRuntime maxRequestLength="32768" executionTimeout="3600"/>
    <httpHandlers>
      <add verb="GET,HEAD" path="ScriptResource.axd" type="System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=1.0.61025.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" validate="false"/>
    </httpHandlers>
    <httpModules>
      <add name="ScriptModule" type="System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=1.0.61025.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"/>
    </httpModules>
    <compilation defaultLanguage="c#" debug="false">
      <assemblies>
        <add assembly="System.Web.Extensions, Version=1.0.61025.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
      </assemblies>
    </compilation>
        <customErrors mode="Off" />
        <trace enabled="false" requestLimit="10" pageOutput="false" traceMode="SortByTime" localOnly="true"/>
        <sessionState mode="InProc" stateConnectionString="tcpip=127.0.0.1:42424" sqlConnectionString="data source=127.0.0.1;Trusted_Connection=yes" cookieless="false" timeout="1000"/>
        <globalization requestEncoding="utf-8" responseEncoding="utf-8"/>
    </system.web>
</configuration> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T04:57:42.700

我直接看到这行格式不正确。您在其他中包含一个推荐。以太删除所有行，以太删除内部推荐。

```
<!--    <system.diagnostics>
        <trace autoflush="true" indentsize="0">
            <listeners>
                <!--<add name="MyListener" type="System.Diagnostics.TextWriterTraceListener" initializeData="C:\temp\webmail.log"/>-->
            </listeners>
        </trace>
    </system.diagnostics> --> 
```

也看看这个答案：[https ://stackoverflow.com/a/5385884/159270](https://stackoverflow.com/a/5385884/159270)

500 Internal Server 错误是一般公共消息，避免提供有关错误的详细信息。您需要做的是打开公共错误以查看实际发生的情况，更正并再次关闭它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-03T09:15:29.977

在 aspx 页面的 page 指令中添加以下选项：

```
<%@ Page Title="" Language="C#" .... EnableEventValidation="false"
ValidateRequest="false" %> 
```

这对我有用。

# java - servlet 中的身份验证和授权

> ID：10612231
> 
> 赞同：1
> 
> 时间：2012-05-16T04:54:16.287
> 
> 标签：java, servlets, jboss, authorization, basic-authentication

我正在使用 jboss 服务器。我想使用 web.xml 文件进行 BASIC 身份验证。我怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T05:00:27.657

[如何为基本身份验证配置 JBoss](http://www.xinotes.org/notes/note/880/)的教程应该可以帮助您

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-16T05:05:09.330

步骤是

1.  在 web.xml 中为安全页面添加安全约束
2.  在 web.xml 中应用登录配置
3.  在 jboss-web.xml 中应用安全域
4.  为用户和角色创建属性文件

[以下链接通过示例https://community.jboss.org/wiki/BASICAuthentication](https://community.jboss.org/wiki/BASICAuthentication)很好地解释了这一点

users.properties 文件使用以下格式：

```
username1=password1
username2=password2 
```

roles.properties 文件使用以下格式：

```
username1=role1,role2,...
username1.RoleGroup1=role3,role4,...
username2=role1,role3,... 
```

此链接提供有关用户和角色属性文件的更多详细信息。 [https://community.jboss.org/wiki/UsersRolesLoginModule](https://community.jboss.org/wiki/UsersRolesLoginModule)

# ruby-on-rails-3 - Rails 3 railscast #196，3.times 循环不起作用

> ID：10612235
> 
> 赞同：0
> 
> 时间：2012-05-16T04:55:08.673
> 
> 标签：ruby-on-rails-3, railscasts

我发现了很多关于这个 Railscast 的帖子，但所有的建议都没有帮助我。我已经能够在视图中呈现一个嵌套的表单字段，但只有一个，而不是我在控制器中调用的 3 个。当我提交时，我收到错误：无法批量分配受保护的属性：线索

章节.rb

```
class Chapter < ActiveRecord::Base
 belongs_to :trail
 has_many :clues, :dependent => :destroy
 accepts_nested_attributes_for :clues
 attr_accessible :asset, :assetkind, :description, :gate, :name, :trail, :trail_id, :cover
.
.
.

end 
```

线索.rb

```
class Clue < ActiveRecord::Base
 attr_accessible :chapter_id, :theclue, :typeof, :chapter
 .
 .
 .
 belongs_to :chapter
end 
```

在 railcast 中，它说使用 :clues 的等价物，这会呈现 3 个字段。但在我的，它没有渲染字段。相反，我使用@chapter.clues，它只呈现一个。

我制作新章节时的表格。

```
<h1>Add a New Chapter</h1>
<h3>Add To Trail : <%= @trail.title %></h3><br>
<%= form_for [@trail, @trail.chapters.build] do |f| %>

<h6>About the Chapter</h6>
    <%= f.label :name, 'Chapter Name' %>
    .
    .
    .
<h6>Progressing the Story</h6>
    <%= f.fields_for @chapter.clues do |builder| %>
    <p>
        <%= builder.label :theclue, "Enter Clue" %>
        <%= builder.text_area :theclue, :rows => 2 %>
    </p>
<% end %>
     .
     .
     .
<% end %> 
```

我的 chapters_controller.rb 新

```
class ChaptersController < ApplicationController

def new
  @trail = Trail.find(params[:trail_id])
  @chapter = Chapter.new
  @title = "Chapter"
  3.times { @chapter.clues.build }
  logger.debug "CHAPTER!!!!!!!!!!!!new: am i in a trail? #{@trail.to_yaml}"
  logger.debug "CHAPTER!!!!!!!!!!!!new: am i in a clue? #{@chapter.clues.to_yaml}"
end 
```

我的日志显示了 3 条线索，但属性为空（没有：id）。这是有问题的迹象吗？因此，即使我的日志显示了 3 个线索对象，我的视图也只显示了一个。

想法？感谢关于 stackoverflow 的建议，我已经添加到 chapter.rb

```
attr_accessible :clues_attributes 
```

并且没有运气，同样的行为和错误，无论有没有。

在此先感谢您的时间

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T18:26:41.193

我自己想通了。不知道为什么，我会推测，如果我不在，欢迎有人更好地解释它。

问题在这里：

```
<%= form_for [@trail, @trail.chapters.build] do |f| %> 
```

我改为：

```
<%= form_for @chapter do |f| %> 
```

然后我不得不在我的 chapters_controller 中改变一些东西来制作 trails 对象并捕获 id。但是，在我进行此更改后，我的 3 个线索字段开始出现在视图中，并且我关于质量分配的错误消失了。

我认为我之前创建的章节是空的并且没有真正生成，只保存信息，因此尝试使用线索 form_for 保存嵌套信息是临时数据的另一个步骤......在我的控制器中创建对象然后填充它形式更加充实......我知道真正的技术......就像我说的，我让它工作了，不要问我如何......但我开始理解 Rails 的想法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T14:28:10.513

> 当我提交时，我收到错误：无法批量分配受保护的属性：线索

这告诉您该属性不受批量分配的保护。基本上，您能够设置它的唯一方法是通过代码中的方法，而不是通过用户输入。（通常通过模型上的 update_attributes 分配。）

您需要做的是在models/chapter.rb 中将:clue 添加到attr_accessible。

您可能还想添加 :clues - 我认为它实际上应该给您提供 :clues 受保护的错误。您可能会遇到 :clue_ids 的问题。无论它说什么都是受保护的，只需在该模型中放入 attr_accessible 方法，您就应该能够从用户输入中更新它。

# apache - lbmethod_heartbeat:notice - 安装 apache2.4.2 后没有来自 mod_heartmonitor 的 slotmem --error

> ID：10612242
> 
> 赞同：10
> 
> 时间：2012-05-16T04:56:40.583
> 
> 标签：apache

在启动网络服务器时，error_log 显示

```
[Wed May 16 03:48:53.027372 2012] [lbmethod_heartbeat:notice] [pid 1114:tid 3075385024] AH02282: No slotmem from mod_heartmonitor
[Wed May 16 03:48:53.028312 2012] [mpm_event:notice] [pid 1114:tid 3075385024] AH00489: Apache/2.4.2 (Unix) configured -- resuming normal operations
[Wed May 16 03:48:53.028351 2012] [core:notice] [pid 1114:tid 3075385024] AH00094: Command line: '/usr/local/apache2/bin/httpd' 
```

阿帕奇配置：

```
# ./configure --prefix=/usr/local/apache2 --enable-mods-shared=all --enable-deflate --enable-proxy --enable-proxy-balancer --enable-proxy-http --with-included-apr 
```

我正在被禁止你没有权限访问/在此服务器上错误

这是error_log中产生的错误

```
[Wed May 16 03:49:20.116317 2012] [authz_core:error] [pid 5015:tid 2946440000] [client 127.0.0.1:59386] AH01630: client denied by server configuration: /home/gowtham/webSites/ferry/ 
```

这个错误是因为 lbmethod_heartbeat:notice 吗？

或者 DocumentRoot 目录上的权限配置错误？但是该指令的配置是从一个工作的网络服务器中获取的，所以我认为块中没有错误。我什至尝试给予

```
chown -R [apache_user:apache:group] /home/Necktwi/webSites/ferry 
```

和 /home/Necktwi 得到了 chmod -R 766

谢谢

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-07-03T15:24:35.280

这些消息是不相关的。通常会遇到“AH02282：没有来自 mod_heartmonitor 的 slotmem”消息（这实际上不是错误）但仍然有一个正常运行的服务器。

通常，您可以通过注释掉 httpd.conf 中的心跳负载平衡器方法模块来抑制该消息（当然，除非您实际使用它）。有人[建议](http://mail-archives.apache.org/mod_mbox/httpd-dev/201211.mbox/%3C1162516276.8579887.1353080461144.JavaMail.root@consol.de%3E)在默认配置中禁用此功能，但显然还没有。

```
#LoadModule lbmethod_heartbeat_module modules/mod_lbmethod_heartbeat.so 
```

身份验证或授权模块之一可能存在问题，导致服务器拒绝请求。您可以尝试禁用以“auth”开头的模块`httpd.conf`以及配置中的任何限制。

# android - 运行和调试时找不到类“com.google.......”错误 - Android 编程

> ID：10612247
> 
> 赞同：-1
> 
> 时间：2012-05-16T04:57:17.457
> 
> 标签：android, android-asynctask

这是我收到的错误；

```
05-16 04:42:07.579: E/dalvikvm(548): Could not find class 'com.google.web.bindery.requestfactory.shared.impl.AbstractRequestContext$MyConstraintViolation', referenced from method com.google.web.bindery.requestfactory.shared.impl.AbstractRequestContext$StandardPayloadDialect.processPayload
05-16 04:42:08.209: E/dalvikvm(548): Could not find class 'javax.validation.ConstraintViolation', referenced from method com.google.web.bindery.requestfactory.shared.Receiver.onConstraintViolation 
```

所以这里是主类的代码。它在我只是为了试验而制作 的*Hello Toast*消息之后停止工作。

```
package com.ncwitmobileapp;
import com.ncwitmobileapp.R;
import com.ncwitmobileapp.client.MyRequestFactory;
import com.ncwitmobileapp.client.MyRequestFactory.HelloWorldRequest;
import com.ncwitmobileapp.client.MyRequestFactory.NCWITMOBILEAPPRequest;

import com.google.gwt.core.client.GWT;
import com.google.web.bindery.requestfactory.shared.Receiver;
import com.google.web.bindery.requestfactory.shared.ServerFailure;

import android.R.color;
import android.app.Activity;
import android.content.Context;
import android.os.AsyncTask;
import android.os.Bundle;
import android.text.Editable;
import android.util.Log;
import android.view.View;
import android.view.Window;
import android.widget.Button;
import android.widget.EditText;
import android.widget.Toast;

public class Login_Screen extends Activity
{
    private static final String TAG = "Techchicks";

    /**
     * The current context.
     */
    private Context mContext = this;

    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        requestWindowFeature(Window.FEATURE_NO_TITLE); 
        super.onCreate(savedInstanceState);      
        setContentView(R.layout.logins);

        final Button login = (Button)findViewById(R.id.login);
        login.setOnClickListener(new View.OnClickListener() {
            public void onClick(View lb) {
                //communicate with App Engine
                //goes to the Menu Page

                //gets username and password from user(Editables)

                EditText un=(EditText)findViewById(R.id.username);
                EditText ps=(EditText)findViewById(R.id.password);

                final String username = un.getText().toString();
                final String password = ps.getText().toString();
                final Context context = getApplicationContext();
                CharSequence text = "Hello toast!";
                int duration = Toast.LENGTH_SHORT;

                Toast toast = Toast.makeText(context, text, duration);
                toast.show();

                login.setEnabled(false);
                Log.i(TAG, "preparing request to send to server");
                login.setEnabled(false);
                Log.i(TAG, "preparing request to send to server");

                // Use an AsyncTask to avoid blocking the UI thread
                new AsyncTask<Void, Void, String>() {
                    private String message;

                    @Override
                    protected String doInBackground(Void... arg0) {

                        MyRequestFactory requestFactory = Util.getRequestFactory(mContext, MyRequestFactory.class);

                        final NCWITMOBILEAPPRequest request = requestFactory.nCWITMOBILEAPPRequest();
                        Log.i(TAG, "Sending request to server");
                        request.getAuthenticatedTechicksmember(username, password).fire(new Receiver<String>() {
                            @Override
                            public void onFailure(ServerFailure error) {
                                message = "Failure: " + error.getMessage();
                            }

                            @Override
                            public void onSuccess(String result) {
                                message = result;
                                Log.i(TAG,"got back a hello world message");
                            }
                        });
                        CharSequence tet = message;
                        int duration = Toast.LENGTH_SHORT;

                        Toast toast = Toast.makeText(context, tet, duration);
                        toast.show();
                        return message; 
                    }

                }.execute();

            }
        });

        Button register = (Button)findViewById(R.id.register);
        register.setOnClickListener(new View.OnClickListener() {
            public void onClick(View lb) {
                //goes to the Registration Page
            }
        });

        Button forgotpassword = (Button)findViewById(R.id.forgotpassword);
        forgotpassword.setOnClickListener(new View.OnClickListener() {
            public void onClick(View lb) {
                //goes to the Forgot Password Page
            }
        });
    }
} 
```

**这是来自服务类的代码：**

```
package com.ncwitmobileapp.server;

import java.util.List;
import java.util.logging.Logger;

import com.ncwitmobileapp.annotation.ServiceMethod;

public class NCWITMOBILEAPPService {

     private static final Logger log = Logger.getLogger(NCWITMOBILEAPPService.class.getName());

      public NCWITMOBILEAPPService() {
      }

    @ServiceMethod
    public Techicksmember createTechicksmember() {
        // TODO Auto-generated method stub
        return null;
    }

    @ServiceMethod
    public static String getAuthenticatedTechicksmember(String userName, String password) {
         log.info("Called authenticateTechicksmember");
         log.info("userName = " + userName + " password = " + password);
        // return ("Success");

        Datastore db = new  Datastore();
        Techicksmember member = db.find(userName);
        if (member==null){
            return "Member not existant";
        }
        if (member.getPassword()==password){
            return "Identity validated!";
        }

        return "Identity Invalidated";

    }

    @ServiceMethod
    public Techicksmember readTechicksmember(Long id) {
        // TODO Auto-generated method stub
        return null;
    }

    @ServiceMethod
    public Techicksmember updateTechicksmember(Techicksmember techicksmember) {
        // TODO Auto-generated method stub
        return null;
    }

    @ServiceMethod
    public void deleteTechicksmember(Techicksmember techicksmember) {
        // TODO Auto-generated method stub

    }

    @ServiceMethod
    public List<Techicksmember> queryTechicksmembers() {
        // TODO Auto-generated method stub
        return null;
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:50:21.450

似乎编译器无法找到您要导入的文件的位置。[如此处](http://developer.android.com/reference/packages.html)所见，`com.google.web`它不是 Android 的标准包。如果您在其他地方有这些文件，您可能需要调整构建路径以包含它们的位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T06:34:05.723

是的，如上所述，只需在构建路径中包含所需的 jar 文件。

# mysql - “mysql -v”命令行错误（linux/ubuntu）

> ID：10612251
> 
> 赞同：0
> 
> 时间：2012-05-16T04:57:54.867
> 
> 标签：mysql, linux, ubuntu, command-line, bitnami

```
bitnami@ip-10-99-67-123:~/.rvm/gems$ ruby -v
ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-linux]

bitnami@ip-10-99-67-123:~/.rvm/gems$ rails -v
Rails 3.2.3

bitnami@ip-10-99-67-123:~/.rvm/gems$ mysql --version
mysql  Ver 14.14 Distrib 5.5.22, for debian-linux-gnu (x86_64) using readline 6.2

bitnami@ip-10-99-67-123:~/.rvm/gems$ mysql -v
ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)
bitnami@ip-10-99-67-123:~/.rvm/gems$ 
```

知道为什么会这样吗？

`mysql -v`我只收到命令错误

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:13:47.383

```
 ·   --verbose, -v

       Verbose mode. Produce more output about what the program does. This option can be given multiple times to produce more and more output. (For example, -v -v -v produces table output format even in
       batch mode.)

   ·   --version, -V

       Display version information and exit. 
```

你想要什么 ？详细还是版本？

如果你想要服务器端版本，连接到服务器，发送查询`status;`

您应该使用完整的参数连接服务器，例如：

```
> mysql --user=user --password=password --host=serverip 
```

或者把 args 放在`~/.my.cnf`

就像我的一样：

```
[mysql]
default-character-set=utf8
prompt="\\u@\\h \\r:\\m:\\s > "
user=user
password=DqvQ86ls1VQit617C
host=127.0.0.1
port=3306 
```

# php - 每分钟将用户的地理位置发送到服务器

> ID：10612252
> 
> 赞同：4
> 
> 时间：2012-05-16T04:58:02.587
> 
> 标签：php, jquery, mysql, geolocation

我正在尝试编写一个应用程序，每分钟左右将用户的地理位置发送到 MYSQL 数据库。这是我现在拥有的代码，但它不起作用。我需要如何更改它才能使其正常工作？

JS：

```
<!DOCTYPE html>
<html>
<head>
<script src="js/jquery.js"></script>
</head>

<body>
<script>
setInterval ( "onPositionUpdate()", 10000 );
function onPositionUpdate(position)
            {
                var lat = position.coords.latitude;
                var lng = position.coords.longitude;
                jQuery.ajax({ type: "POST", 
                    url:  "myURL/location.php", 
                    data: 'x='+lat+ '&y='+lng , 
                    cache: false, 
                        });
                        }

            if(navigator.geolocation)
               navigator.geolocation.watchPosition(onPositionUpdate);
            else
                alert("navigator.geolocation is not available");

</script>
</body>
</html> 
```

和 PHP：

```
<?php
  include 'config.php';

  // database connection
  $conn = new PDO("mysql:host=$dbhost;dbname=$dbname",$dbuser,$dbpass);

  // new data

  $x = @$_POST['x'];
  $y = @$_POST['y'];
  // query
  $sql = "update locations set x=?, y=? where username = asd";
  $q = $conn->prepare($sql);
  $q->execute(array($x), ($y));
?> 
```

而且我想这不是发送多个变量的正确方法，是吗？Firebug 的控制台向我展示

```
 missing } after property list
[Break On This Error]   

data: 'x='+lon+'&y='+lat; 
```

当我只使用一个值时，它只会将该变量发布到服务器一次，然后控制台给出：

```
position is undefined
[Break On This Error]   

var lat = position.coords.latitude; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-16T05:06:07.047

您需要执行以下操作：

```
var currPosition;
navigator.geolocation.getCurrentPosition(function(position) {
    updatePosition(position);
    setInterval(function(){
        var lat = currPosition.coords.latitude;
        var lng = currPosition.coords.longitude;
        jQuery.ajax({
            type: "POST", 
            url:  "myURL/location.php", 
            data: 'x='+lat+'&y='+lng, 
            cache: false
        });
    }, 1000);
}, errorCallback); 

var watchID = navigator.geolocation.watchPosition(function(position) {
    updatePosition(position);
});

function updatePosition( position ){
    currPosition = position;
}

function errorCallback(error) {
    var msg = "Can't get your location. Error = ";
    if (error.code == 1)
        msg += "PERMISSION_DENIED";
    else if (error.code == 2)
        msg += "POSITION_UNAVAILABLE";
    else if (error.code == 3)
        msg += "TIMEOUT";
    msg += ", msg = "+error.message;

    alert(msg);
} 
```

# php - 如何在php中的字符串上添加退格键

> ID：10612255
> 
> 赞同：-1
> 
> 时间：2012-05-16T04:58:37.220
> 
> 标签：php

我有一个字符串 php：

```
$text = "search";
$text = "&nbsp;".$text."&nbsp"; // OR $text = " ".$text." "; 
```

当我回显 $text 是结果错误时，如何在字符串上添加退格键

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:27:14.947

你错过了第二行的最后一个分号，你`&nbsp`应该是`&nbsp;`

```
$text = "search";
$text = "&nbsp;".$text."&nbsp;"; // OR $text = " ".$text." "; 
```

# iphone - 在 NSMutableArray 中排序对象

> ID：10612256
> 
> 赞同：1
> 
> 时间：2012-05-16T04:58:49.500
> 
> 标签：iphone

我的 NSMutableArray 包含 GroupUser 对象的列表：

```
@interface GroupUser : NSObject {

    NSString *groupUser_name;//user name
    NSString *groupUser_customMsg;
    NSString *groupUser_emailId;
    NSString *groupUser_groupName;
    NSString *groupUser_aliasName;
    int groupUser_imageId;
    int groupUser_state;//whether user is online( value 0) offline(value 1) or busy(value 2)
    int groupUser_type;             
} 
```

现在我想对列表进行排序： 1\. 基于 groupUser_state 2\. 基于 groupUser_name

例如:: 1\. Sam Offline（值 1） 2\. Ravi Online（值 0） 3\. Amit Online（值 0） 4\. Ganga Online（值 0） 5\. Durga 离线（值 1）

排序后的输出应该是:: 1\. Amit Online 2\. Ganga Online 3\. Ravi Online 4\. Durga Offline 5\. Sam Offline

通过提供相同的代码来帮助我.. 提前谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T05:10:42.190

```
NSSortDescriptor *desc=[NSSortDescriptor  sortDescriptorWithKey:@"groupUser_state" ascending:YES];
NSArray *yourArray;
[yourArray sortedArrayUsingDescriptors:[NSArray arrayWithObject:desc]]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:20:44.297

或者，您可以调用 NSMutableArray 的 -sortUsingSelector:，但是您的自定义对象应该提供一种进行比较的方法，如下所示：

```
- (NSComparisonResult) compareSomeVariable:(GroupUser*) otherUser
{
    // Assumes ivar _someVariable is numeric; use NSString methods to compare
    // strings, etc.

    if(this->_someVariable < otherObject->_someVariable){
        return NSOrderedAscending;
    }
    else if(this->_someVariable > otherObject->_someVariable){
        return NSOrderedDescending;
    }
    else{
        return NSOrderedSame;
    }
} 
```

并像这样对它们进行排序：

```
[array sortUsingSelector:@selector(compareSomeVariable:)]; 
```

缺点是你必须在你的类中定义这个自定义方法。您可以有几种不同的方法来根据不同的标准对对象进行排序。

# twitter-bootstrap - 使用网格系统时是否可以偏移部分网格？

> ID：10612259
> 
> 赞同：0
> 
> 时间：2012-05-16T04:59:07.053
> 
> 标签：twitter-bootstrap, offset

我想知道是否可以通过网格的部分或百分比而不是整个网格宽度来抵消。

例如，我有：

```
 <div class="span1 offset6" > 
```

...而且我希望它向左多一点，我应该只添加一个 <id> 并放置一个 css“左”还是可以通过 6.5 之类的东西来抵消（例如）？

也许我想多了（或者可能还不够：p

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T12:19:37.467

您总是可以在页面顶部添加一个自定义类，其中包含您想要增加偏移量的数量。如果您将以下样式放在脑海中：

```
<style type="text/css">
 .offset6-5 {
  margin-left: 540px;
 }
</style> 
```

您现在有一个在 Twitter 引导程序 .offset6 类之间偏移的类，该类具有 500px 偏移量和 .offset7 类具有 580px 偏移量。您当然必须小心通过创建最终改变整体网格大小的自定义宽度来摆脱网格系统的其余部分。（例如，您的 960 像素网格现在为 1000 像素。）

希望有帮助。

# php - 数组占用太多内存

> ID：10612260
> 
> 赞同：1
> 
> 时间：2012-05-16T04:59:32.827
> 
> 标签：php, arrays, memory

我正在创建一个数组来保存从查询返回的值 - 似乎添加到多维数组会导致脚本占用多达 125Mb 的内存，并且考虑到数组应该保存的数据总量不超过 5Mb很奇怪：

这是我正在做的事情：

```
try 
{
    if (!$link = mysql_connect(DB_Host, DB_User, DB_Password))
            Throw New Exception(mysql_error());
    if (!mysql_select_db("Spexplus_Demo"))
            throw New Exception(mysql_error());
} 
catch (Exception $e) 
{
    echo $e->getMessage().$e->getTraceAsString();
    exit(1);
}

$query = "select cda.categoryid as categoryId, 
                  cda.templatetype as templateType, 
                  hn.headerid as headerId, 
                  hn.name as headerName, 
                  an.attributeid as attributeId, 
                  an.name as attributeName
                  from categorydisplayattributes cda 
                  join categoryheader ch on cda.headerid = ch.headerid 
                  and cda.templatetype = ch.templatetype 
                  and cda.categoryid = ch.categoryid 
                  join headernames hn on cda.headerid = hn.headerid 
                  and hn.localeid = 1
                  join attributenames an on cda.attributeid = an.attributeid 
                  and an.localeid = 1";

$result = mysql_query($query);

while($row = mysql_fetch_assoc($result))

        {
            $categorydisplayattributes[$row['categoryId']][$row['templateType']][$row['headerId']][$row['headerName']][$row['attributeId']][$row['attributeName']] =array() ;
        }

echo "Memory After CDA:".memory_get_usage(TRUE).Line_Terminator;
exit(); 
```

当我检查时，查询结果本身不会超过 5Mb 左右，但是，以这种方式将值分配给数组会导致峰值 - 还有其他人遇到过这样的事情吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T05:05:06.037

```
 while($row = mysql_fetch_assoc($result))

           {

//concatenate the values using '.' if string 

$index = $row['categoryId']][$row['templateType']][$row['headerId']][$row['headerName']][$row['attributeId']][$row['attributeName'];

                $categorydisplayattributes[$index] =array() ;
            } 
```

试试看。

# graphics - 在路径追踪中处理点光源和精确反射

> ID：10612262
> 
> 赞同：5
> 
> 时间：2012-05-16T04:59:37.443
> 
> 标签：graphics, 3d, raytracing, montecarlo

尝试实现蒙特卡洛路径跟踪时，我在光采样过程中遇到了障碍。

通常，程序如下：

*   追踪从相机（或前一点）开始的光线，直到到达表面点。
*   到达表面点后，在场景中的光源上随机生成一个点。
*   计算几何项，描述光是否可以到达表面上的当前点（该项为 0 或 1）。
*   如果此几何项为 1，则通过乘以衰减因子（光的距离）和材料的 BRDF 来计算该光的贡献。

我省略了一些关于如何随机选择事物的细节，但暂时不要介意（参见例如“分布光线追踪中的灯具采样”）。

在我看来，问题在于 BRDF 和光源中的光分布都不是实际函数，而是度量。
例如，对于每个入射角，完美反射镜的 BRDF 是反射方向上的狄拉克增量“函数”（即，支持在一个点上的度量，该点的质量为 1）。类似地，点光源（与面光源相对）由狄拉克增量建模，而不是密度函数。

弄清区别似乎很重要，因为它允许适当的重要性抽样。例如，在对 BRDF 进行采样时，可以：

*   均匀采样所有出射方向，并通过相应的反射分布“函数”进行缩放，
*   直接根据 BRDF 采样，之后不缩放。

介于两者之间的任何事情都是可能的，而且很重要，因为对于复杂的 BRDF，完美的重要性采样是不可能的。
现在，在 BRDF 实际上是一个狄拉克 delta 的情况下，我们看到根据 BRDF 采样变得非常重要：随机采样，我们必须以概率 1 消除贡献（因为 BRDF 在单点上得到支持，当均匀采样方向时，我们有概率 0 选择），但是如果我们碰运气并得到反射方向（质量所在的位置），那么我们必须将贡献缩放到无限大！如果我们根据 BRDF 进行采样，我们总是会生成反射方向，并且不必缩放任何东西（特别是不会遇到任何无穷大）。

**那么我的问题如下：**如果它们都是一般度量而不仅仅是函数，你如何将 BRDF 乘以光的贡献？在考虑 BRDF 的重要性采样和场景中的灯光分布时，如何在这一步正确地“重要性采样”？（光的采样过程应同时考虑光分布和 BRDF，以避免无穷大。）

理想情况下，人们需要永远不会产生无穷大的抽样程序，无穷大应该只是不良抽样机制的产物（如上文所述）。因此，对于随后的四种情况，计算出的贡献应该始终是有限的：

*   带有区域光的连续 BRDF（例如朗伯漫反射材质）
*   带点光源的连续 BRDF
*   带区域光的离散 BRDF（例如完美镜子）
*   带点光源的离散 BRDF

当然，理想情况下，这适用于 BRDF 和灯光的任何测量，但似乎能够正确处理上述 4 种情况是大部分工作所在。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-03T21:58:46.753

如果你有一个从完全镜面反射路径到点光源的狄拉克三角洲，你仍然可以评估三角洲的*总*积分贡献。（如果您的 BRDF*不是*纯粹的镜面反射狄拉克三角洲，您可以并且可能应该使用普通的光线追踪来处理它......）

请注意，此“增量路径”的作用与普通光线路径不同。具体来说，普通光线的颜色表示[亮度](http://en.wikipedia.org/wiki/Luminance)（单位：流明/球面度/m^2），它不随距离变化，而且——不考虑 BRDF 采样——仅乘以反射和透射系数。

但是，“delta ray”的颜色表示[照度](http://en.wikipedia.org/wiki/Illuminance)（单位：流明/m^2），它*不*随距离变化（下降为 1/r^2）。此外，与亮度不同，增量路径将受到沿路径的镜面反射器和折射器曲率的影响。

为了考虑弯曲镜面的近轴行为，您需要评估射线源相对于另一端视角的导数。这应该可以用 2x2 雅可比矩阵表示，该矩阵在每次反射时乘以表示表面局部曲率的雅可比矩阵。你的距离计算也会修改这个矩阵——例如，考虑到一个完美的镜头可能会在你接近焦点时产生随距离*增加的照度。*这也表明您将需要处理可能的奇点，其中焦散聚焦点光源......

因为您的帧缓冲区具有有限的分辨率，所以渲染增量通常应该（在焦散奇点之外）产生有限的（尽管可能非常高）亮度。为简单起见，假设每个样本只对一个像素有贡献：上面的单位建议您必须将“增量路径”的照度除以像素的立体角，以使其与普通像素的亮度相当射线。（请注意，立体角会因像素而异——对于标准相机，您必须包含一个`cos(theta)`因素）

您应该能够执行类似的操作来在非镜面表面终止纯镜面路径。我猜想“三角洲射线”的统计数据也可能与传统射线的统计数据不同；你需要弄清楚它们是如何融入你的蒙特卡洛框架的。

# facebook-graph-api - 使用开放图操作邀请用户加入您的应用？

> ID：10612264
> 
> 赞同：0
> 
> 时间：2012-05-16T04:59:40.033
> 
> 标签：facebook-graph-api

我正在尝试发布操作以邀请用户使用我的应用。我定义了一个“邀请”自定义操作，其中相关对象是预定义的“配置文件”对象。我正在尝试以一种可以发布“用户 X 邀请用户 Y”操作的方式使用它。我以前做过自定义操作，所以我知道这个练习。

我设法使用我的测试用户进行 API 调用，并且我从 API 中获得了一个新的已发布操作 ID。但是，我没有在发送方或接收方的提要或时间线上看到该操作。

重要笔记：

*   用户是测试用户（两者）并且未提交操作，但是，在相同条件下做类似的事情（使用不同类型的对象）效果很好。
*   对于对象 URL，我使用的是 Facebook 图形 URL (https://graph.facebook.com/xxxx)。API 似乎吃得很好。

我究竟做错了什么？

PS。如果您能想到一种更好的方式来实现邀请机制，而不是请求对话框，我愿意接受建议。需要明确的是，我没有“publish_stream”权限，但我有“publish_actions”。

附带说明：我不确定如何（或是否）通知接收者（动作对象）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T12:25:30.820

```
make a Folder named as : Controls

Then add this: InviteControl.aspx
simply write :
<span id="invitespan" runat="server"></span>

InviteControl.ascx.cs : 

public partial class Controls_InviteControl : System.Web.UI.UserControl
{
    /// <summary>
    /// Show border or not
    /// </summary>
    public bool ShowBorder { set { showBorder = value; } }

    /// <summary>
    /// Display email section
    /// </summary>
    public bool EmailInvite { set { emailInvite = value; } }

    /// <summary>
    /// Number of rows. Allowed values are from 3 to 10\. Default value is 5.
    /// </summary>
    public int Rows { set { rows = value; } }

    /// <summary>
    /// Number of columns. Allowed values are from 2,3 and 15\. Default value is 5.
    /// </summary>
    public int Colums { set { colums = value; } }

    /// <summary>
    /// Set comma separated string of friend ID which you don't want to be in invite list
    /// </summary>
    public string ExcludeFriends { set { excludeFriends = value; } }

    /// <summary>
    /// IList of friend IDs which you don't want to be in invite list
    /// </summary>
    public IList<long> ExcludeFriendsList
    {
        set
        {
            if (value != null)
            {
                int i = 0;
                StringBuilder s = new StringBuilder();
                foreach (long id in value)
                {
                    i++;
                    s.Append(id.ToString());
                    if (i < value.Count)
                    {
                        s.Append(",");
                    }
                }
                excludeFriends = s.ToString();
            }
        }
    }

    /// <summary>
    /// URL where application should be redirected, after an invitation is sent.
    /// Default is application Canvas URL taken from web.config file.
    /// </summary>
    public string ActionUrl { set { actionUrl = value; } }

    /// <summary>
    /// URL where user will be redirected after the invite request is accepted.
    /// If it's not set, ActionUrl is used.
    /// </summary>
    public string AcceptUrl { set { acceptUrl = value; } }

    /// <summary>
    /// Main description which will apear on invite request
    /// </summary>
    public string Content { set { content = value; } }

    /// <summary>
    /// Application name displayed on send button and invite request title.
    /// Default is name taken from web.config file
    /// </summary>
    public string AppName { set { appName = value; } }

    /// <summary>
    /// Title of confirmation button inside invite request. Default value is 'Accept'
    /// </summary>
    public string ConfirmButtonTitle { set { confirmButtonTitle = value; } }

    /// <summary>
    /// Main title of control
    /// </summary>
    public string MainTitle { set { mainTitle = value; } }

    /// <summary>
    /// Refresh display of the control
    /// </summary>
    public void Refresh()
    {
        if (mainTitle == null) throw new Exception("Invite Friends Error:  Main Title is not set.");        
        if (content == null) throw new Exception("Invite Friends Error:  Content is not set.");

        if (confirmButtonTitle == null) throw new Exception("Invite Friends Error:  Confirm Button Title is not set.");
        if (actionUrl == null) actionUrl = Core.AppConfig.AppCanvasUrl;

        if (acceptUrl == null) acceptUrl = actionUrl;
        if (appName == null) appName = Core.AppConfig.AppName;

        StringBuilder html = new StringBuilder();
        html.Append("<fb:serverfbml ");
        html.Append("width='" + width + "'>");
        html.Append("<script type='text/fbml'>");
        html.Append("<div style='" + cssStyle + "' class='" + cssClass + "'>");
        html.Append("<fb:fbml>");
        html.Append("<fb:request-form method=\"POST\" action=\"");
        html.Append(actionUrl);
        html.Append("\" content=\"");
        html.Append(content);
        html.Append("<fb:req-choice url='");
        html.Append(acceptUrl);
        html.Append("' label='");
        html.Append(confirmButtonTitle);
        html.Append("' />\" type=\"");
        html.Append(appName);
        html.Append("\" invite=\"true\">");
        html.Append("<fb:multi-friend-selector target=\"_top\" condensed=\"false\" exclude_ids=\"");
        html.Append(excludeFriends);
        html.Append("\"  actiontext=\"");
        html.Append(mainTitle);
        html.Append("\" showborder=\"");
        html.Append(showBorder);
        html.Append("\" rows=\"");
        html.Append(rows);
        if (colums < 5) // fixing bug in FBML (if columns == 5 it renders as it as 4)
        {
            html.Append("\" cols=\"");
            html.Append(colums);
        }
        html.Append("\" email_invite=\"");
        html.Append(emailInvite);
        html.Append("\" />");
        html.Append("</fb:request-form> ");
        html.Append("</fb:fbml>");
        html.Append("</div>");
        html.Append("</script>");
        html.Append("</fb:serverfbml>");

        invitespan.InnerHtml = html.ToString();
    }

    /// <summary>
    /// Page Load
    /// </summary>
    /// <param name="sender"></param>
    /// <param name="e"></param>
    protected void Page_Load(object sender, EventArgs e)
    {
        if (!Page.IsPostBack)
        {
            Refresh();
        }
    }

    /// <summary>
    /// Private members
    /// </summary>
    private string excludeFriends = "";
    private string actionUrl = null;
    private string acceptUrl = null;
    private string content = null;
    private string confirmButtonTitle = "Accept";
    private string appName = null;
    private string mainTitle = null;
    private bool showBorder = true;
    private bool emailInvite = true;
    private int rows = 4;
    private int colums = 4;
    private string cssStyle = "";
    private string cssClass = "";
    private int width = 625;

    /// <summary>
    /// Obsolete members/methods
    /// </summary>
    [Obsolete("You shouldn't use this property anymore. Use AppName instead")]
    public string SendButtonTitle { set { appName = value; } }
}

Then add a page : InviteFriends.aspx

copy and paste this :

<%@ Page Language="C#" AutoEventWireup="true" CodeFile="InviteFriends.aspx.cs" Inherits="InviteFriends"
    EnableViewState="false" %>

<%@ Register Src="~/Controls/InviteControl.ascx" TagName="Invite" TagPrefix="cc" %>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title>
        <%= Core.AppConfig.AppName %></title>

    <script type="text/javascript">
        window.fbAsyncInit = function() {
            FB.Canvas.setAutoGrow();
        }
    </script>

</head>
<body>
    <div id="page">
        <div>
            <asp:Literal runat="server" ID="lInitFB" />
            <form id="form1" runat="server">
            <div runat="server" id="dvCanvas">
                <div id="workfield">
                    <div id="invite">
                        <cc:Invite runat="server" ID="ccInvite" ActionUrl="http://cflluxury.allsocialassets.com/InviteFriends.aspx"
                            Content="Invite to Luxury app" ConfirmButtonTitle="Confirm" MainTitle="Luxury App" />
                    </div>
                </div>
            </div>
            </form>
        </div>
    </div>
    <div id="fb-root">
    </div>

    <script src="http://connect.facebook.net/en_US/all.js"></script>

    <script>
        FB.init({
            appId: '414171951949853',
            status: true, // check login status
            cookie: true, // enable cookies to allow the server to access the session
            xfbml: true // parse XFBML
        });
    </script>
</body>
</html>

Then give a link to that invite page from your default page: 

<a href="InviteFriends.aspx">Invite Friend</a>

Hope it will help. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-11T05:49:31.073

如果没有他们首先授权您的应用并同意事先发布这些操作，您就无法将 OG 操作发布到用户朋友的墙上。此外，接收邀请并不是行动的目的。Facebook 的政策也不允许您在一个操作中标记两个用户，除非他们实际一起执行了该操作（字面意思是在同一位置，或者实际上在您的应用程序中）。

# jquery - 刷新 HTML 页面

> ID：10612268
> 
> 赞同：2
> 
> 时间：2012-05-16T05:00:09.620
> 
> 标签：jquery, python, html

> **可能重复：**
> [如何使用 JQuery 刷新页面？](https://stackoverflow.com/questions/5404839/how-can-i-refresh-a-page-with-jquery)

如何使用 Django views.py 或 Jquery 中的某些内容触发页面重新加载？基本上，当您单击 Web 浏览器的 URL 栏并按 Enter 键时，我希望页面以相同的方式自动重新加载。

谢谢，亚历克斯

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-05-16T05:04:35.193

在 javascript 中，您可以将页面刷新为：

```
window.location.reload() 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-16T13:21:15.110

不要过度使用自动整页刷新；它们很贵。考虑以合理的时间间隔执行 AJAX 调用以仅刷新您需要的信息。

# c# - 如何在asp.net中获取当前选定TreeNode的前一个节点和下一个节点？

> ID：10612272
> 
> 赞同：0
> 
> 时间：2012-05-16T05:00:26.970
> 
> 标签：c#, asp.net, c#-4.0, treeview

我在 asp.net 页面中创建了 TreeView。当用户选择任何节点时，我想获取当前选定 TreeNode 的前一个 TreeNode 和下一个 TreeNode。C# windows 窗体应用程序中有一个方法。但它不可用在 Web 控件 TreeView 中。

例如 ： ![在此处输入图像描述](../Images/17ce14b94103459853fc5fe471f1d04e.png)

认为，

1.  用户选择“销售订单详细信息”，然后我想获取上一个节点 ->“产品线销售”和下一个节点 ->“区域销售明细”

    2.用户选择“SampleReports”然后我想获取上一个节点->“员工”和下一个节点->“公司销售”。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-05-16T06:08:53.343

这会为您提供所选节点的索引，然后您可以尝试根据要选择的索引指定邻居节点。我希望它有所帮助。

```
 TreeNode obj = new TreeNode();
  obj = treeView1.SelectedNode;
  index = treeView1.Nodes.IndexOf(obj);
  TreeNode oTreeNode = treeView1.GetNodeFromIndex((index-1).ToString());
  oTreeNode.select();
  TreeNode oTreeNode2 = treeView1.GetNodeFromIndex((index+1).ToString());
  oTreeNode2.select(); 
```

# inheritance - 如何在自定义字段类型中获取当前字段名称

> ID：10612274
> 
> 赞同：1
> 
> 时间：2012-05-16T05:00:37.913
> 
> 标签：inheritance, sitecore, sitecore6

我正在尝试在我正在构建的自定义 Sitecore 字段上检索当前字段名称。换句话说，如果我的自定义字段类型应用于名为“元标题”的字段，我需要能够检索该名称。

[本教程](http://sdn.sitecore.net/Articles/API/Creating%20a%20Composite%20Custom%20Field/Define%20the%20Properties%20of%20the%20Control.aspx)意味着您所要做的就是创建一个名为 FieldName 的公共自动属性，剩下的就是历史......遗憾的是，它似乎不起作用（FieldName 始终为 null 或空）。

有任何想法吗？我试过继承`Sitecore.Web.UI.HtmlControls.Control`，`Sitecore.Shell.Applications.ContentEditor.Text`但没有运气。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T17:50:05.647

您应该可以通过创建 FieldID 属性来访问控件中的字段 ID。这应该等同于定义字段的模板字段项的 ID。因此，您可以通过

```
var fieldItem = Sitecore.Context.ContentDatabase.GetItem(this.FieldID);
var fieldName = fieldItem.Name; 
```

Sitecore 可以在您的控件上设置的属性的完整列表可以在 中找到`Sitecore.Shell.Applications.ContentEditor.EditorFormatter.SetProperties`。

```
ReflectionUtil.SetProperty(editor, "ID", field.ControlID);
ReflectionUtil.SetProperty(editor, "ItemID", field.ItemField.Item.ID.ToString());
ReflectionUtil.SetProperty(editor, "ItemVersion", field.ItemField.Item.Version.ToString());
ReflectionUtil.SetProperty(editor, "ItemLanguage", field.ItemField.Item.Language.ToString());
ReflectionUtil.SetProperty(editor, "FieldID", field.ItemField.ID.ToString());
ReflectionUtil.SetProperty(editor, "Source", field.ItemField.Source);
ReflectionUtil.SetProperty(editor, "ReadOnly", readOnly);
ReflectionUtil.SetProperty(editor, "Disabled", readOnly); 
```

# android - 如何获取发送和接收的电子邮件信息？

> ID：10612275
> 
> 赞同：1
> 
> 时间：2012-05-16T05:00:45.397
> 
> 标签：android

我正在实现一个与邮件服务器相关的应用程序。

至于我的要求，我想获取有关邮件的信息，

从手机发送的邮件和收到的邮件的数量。

是否可以获取邮件信息。

如果有人知道解决方案，请帮助我。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:11:00.033

Mail没有标准的API，但是如果阅读android源代码（您感兴趣的版本），您就可以弄清楚。

# c++ - MST Kruskal 算法（时限）

> ID：10612278
> 
> 赞同：1
> 
> 时间：2012-05-16T05:00:55.447
> 
> 标签：c++, kruskals-algorithm

所以我有一个任务，我能够编写一个代码并且它可以工作，但是对于大数字它太慢了，也许你可以帮助我改进它，时间限制是 3s。我想听听一些想法。在这个作业中，我们必须找到最小生成树。

输入将是：

```
 1\. number of testcases,
  2\. number of nodes,
  3\. a number that says how long can tha longest edge be,
  4\. all the coordinates of the nodes 
```

那么输出应该是最小值。MST 的距离，如果没有 MST，则输出应为 -1。

这是一个例子：

```
 Input:
    1     //number of testcases
    6 5   //number of nodes, max. length of an edge
    3 6   //x-,y-coordinates
    4 7
    8 1
    4 4
    2 7
    3 3

  Output:
  11 
```

这是代码：

```
#include<iostream>
#include<cstdio>
#include<string>
#include<algorithm>
#include<deque>
#include<vector>
#include<cmath>
#include<cstdlib>

using namespace std;

#define edge pair<int,int>//format (w,(u,v))
                          //(weights, (node,node))
deque<pair<double,edge> > G,MST;
deque<int> parent(1000);
int N,E,diff;
int total;
double sum;
deque<int> X,Y;

int findset(int x,deque<int>parent){
    if(x!=parent[x])
        parent[x]=findset(parent[x],parent);
    return parent[x];                    
}                                                                    

int Kruskal(){
    for(int i1=0;i1<N;i1++){ //calculate  distance between each node
        for(int j1=i1;j1<N;j1++){
            int A,B;
            double C;
            A=((X[i1]-X[j1])*(X[i1]-X[j1])); 
            B=((Y[i1]-Y[j1])*(Y[i1]-Y[j1]));
            C=sqrt(A+B);
            G.push_back(pair<double,edge>(C,edge(i1,j1)));
         }
    }

    E=G.size();//how many edges
    int i,pu,pv;
    sum=0;
    stable_sort(G.begin(),G.end());  
    for (i=total=0;i<E;i++){
        pu=findset(G[i].second.first, parent);
        pv=findset(G[i].second.second, parent);
        if(pu!=pv){
            MST.push_back(G[i]);
            total+=G[i].first;
            sum+=G[i].first;

            if(G[i].first>diff)
                return -1;
            parent[pu]=parent[pv];
        }
    }
    return 0;
}  

int main(){
    int t,nodes;
    double w;
    diff=0;
    for(cin>>t ; t>0 ; t--){
        N=0;
        diff=0;
        X.clear();
        Y.clear();
        MST.clear();
        G.clear();
        X.resize(0);
        Y.resize(0);

        cin>>N; //how many nodes
        for(int i=0; i<N; i++)
            parent[i]=i;
        cin>>diff;
        nodes=N;

        for(nodes; nodes>0;nodes--){        //coordinates of nodes
            int x,y;
            cin>>x;
            X.push_back(x); 
            cin>>y;
            Y.push_back(y);
        }

        int a=0;
        if(Kruskal()==0){
            a=sum;
            cout<<a<<endl;
        }
        else
            cout<<-1<<endl;           
    }
    system("pause");
    return 0;                                       
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-12T07:52:40.500

您已经实现了一个[联合查找算法](http://en.wikipedia.org/wiki/Disjoint-set_data_structure)来确定与当前边相连的两个顶点是否属于同一个组件。然而，你做“联合”的方式，

```
parent[pu]=parent[pv]; 
```

可能导致从元素到根的线性路径。防止这种情况的正确方法是将较小的子树附加到较大的子树上。然而，只是随机（统一）决定做任何一个

```
parent[pu]=parent[pv]; 
```

或者

```
parent[pv]=parent[pu]; 
```

应该做的伎俩。

# web-services - 访问 Web 服务 WSDL 文件

> ID：10612281
> 
> 赞同：0
> 
> 时间：2012-05-16T05:01:23.073
> 
> 标签：web-services, web-applications

我对 Web 服务相当陌生，并且有以下疑问。

我的理解是Web Service 使用WSDL 来描述它的Service Contract 即它支持的操作、绑定和Web 服务的地址。

现在，如果我想编写一个想要使用来自任何 Web 服务的服务的 Web 应用程序，我如何获取它的 WSDL 文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:23:08.127

您尚未指定编写 Web 应用程序所使用的语言，所以让我给您一个通用的答案。您需要一个**肥皂客户端**来与 Web 服务进行协商。肥皂客户端有几种可能的选择。例如：

1.  蟒蛇：[泡沫](https://fedorahosted.org/suds/wiki/Documentation)
2.  PHP：[SoapClient 类](http://php.net/manual/en/class.soapclient.php)
3.  红宝石：[SOAP4R](http://raa.ruby-lang.org/project/soap4r/)
4.  C#：[只需添加服务引用（本机可用）](https://stackoverflow.com/questions/963794/which-c-sharp-soap-client-library-is-easiest-to-use)
5.  Java：我找到的[SoapUI](http://www.soapui.org/)简短[示例](http://www.ibm.com/developerworks/xml/library/x-soapcl/)

# java - Java 2D 数组问题

> ID：10612282
> 
> 赞同：0
> 
> 时间：2012-05-16T05:01:23.760
> 
> 标签：java, multidimensional-array, indexoutofboundsexception

嗨，我正在编写一个在 java 中使用二维 int 数组的程序。每当我尝试用两个不同的数字创建数组时，它都会抛出一个 ArrayIndex 越界。

这方面的一个例子是......

```
 private int[][] tileMap;

public EditWindow(int rows, int columns, int tileSize){

    this.columns = columns;
    this.rows = rows;
    this.tileSize = tileSize;

    addMouseListener(this);

    tileMap = new int[rows][columns];

} 
```

例如，如果我将行和列设置为 10，则代码运行完美，但一旦我将其设置为两个不同的值（例如 10 和 20），它就会引发错误。

如果有什么我没有解释清楚，或者您需要更多代码来理解这个问题，请告诉我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:05:52.603

我的猜测是您将数组声明为`int[rows][columns]`，但是使用转置的行/列值对其进行迭代，例如：

```
for (int row = 0; row < rows; row++)
    for (int col = 0; col < columns; col++)
        int tile = tileMap[col][row]; // oops - row/col transposed 
```

这种情况（或类似情况）可以解释为什么具有相同的值不会爆炸，但不同的值会爆炸。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:08:23.240

您在此处发布的代码很好。ArrayIndexOutOfBoundsException 通常在您*访问*数组时抛出，而不是创建它。我猜你的代码中某处有一个嵌套的 for 循环。就像是：

```
for (int currRow=0; currRow<this.rows; currRow++)
{
   for (int currCol=0; currCol<this.columns; currCol++)
   {
      do something(tileMap[currRow][currCol]);
   }

} 
```

这就是您需要查看的代码。确保您的 'currRow' 和 'currCol' 以正确的方式使用，并且在每个地方都使用正确的。

如果您以错误的方式获取数组索引（tileMap[ **currCol** ][ **currRow** ] 而不是 tileMap[currRow][currCol]），那么除了行 == 列（因为如果他们'相同，您永远不会尝试找到不退出的列或行）

# android - 在Android上制作动画时如何设置按钮不可点击？

> ID：10612283
> 
> 赞同：9
> 
> 时间：2012-05-16T05:01:25.083
> 
> 标签：android, button

如何使按钮在进行`translate.animate`中时不可点击。我试过了`button.setclickable(false)`，`button.setEnabled(false)`两者都对我有用。

这是我的代码：

```
b2.setOnClickListener(new OnClickListener()
{
  public void onClick(View v)
  {
    if(i%2==0)
    {
      //b2.setClickable( false );
      //            Toast toast1 = Toast.makeText(getBaseContext(), "Success", 1);
      //            toast1.show();
      if(i==0)
      {
        //b2.setOnClickListener(null);
        b2.setEnabled(false);
        //b2.setClickable(false);
        int modifierY;
        modifierY=-70;
        Animation translateAnimation=new TranslateAnimation(0, 0, 0, modifierY);
        translateAnimation.setDuration(600);
        translateAnimation.setFillEnabled(true);
        MyAnimationListener listener=new MyAnimationListener(b2, modifierY,SimpleViewPagerforAndroidActivity.this);
        translateAnimation.setAnimationListener(listener);
        // b2.setOnClickListener(null);
        Animation translateAnimation1=new TranslateAnimation(0, 0, 0,0 );
        translateAnimation1.setDuration(1000);
        translateAnimation1.setFillEnabled(true);
        MyAnimationListener listener1=new MyAnimationListener(main, 0,SimpleViewPagerforAndroidActivity.this);
        translateAnimation1.setAnimationListener(listener1);

        main.setVisibility(RelativeLayout.VISIBLE);
        /*  long time =AnimationUtils.currentAnimationTimeMillis();

        main.invalidate(); 
        b2.invalidate(); 

        translateAnimation.setStartTime(time);
        translateAnimation1.setStartTime(time);*/
        main.startAnimation(translateAnimation1);

        b2.startAnimation(translateAnimation);
        i++;
        //   b2.setOnClickListener(this);
      }
      else
      {
        //b2.setOnClickListener(null);
        b2.setEnabled(false);
        //b2.setClickable(false);
        int modifierY;
        modifierY=-70;
        Animation translateAnimation=new TranslateAnimation(0, 0, 0, modifierY);
        translateAnimation.setDuration(1000);
        translateAnimation.setFillEnabled(true);
        MyAnimationListener listener=new MyAnimationListener(b2, modifierY,SimpleViewPagerforAndroidActivity.this);
        translateAnimation.setAnimationListener(listener);

        Animation translateAnimation1=new TranslateAnimation(0, 0, 0,-150 );
        translateAnimation1.setDuration(600);
        translateAnimation1.setFillEnabled(true);
        MyAnimationListener listener1=new MyAnimationListener(main, -150,SimpleViewPagerforAndroidActivity.this);
        translateAnimation1.setAnimationListener(listener1);

        main.setVisibility(RelativeLayout.VISIBLE);
        /*   long time =AnimationUtils.currentAnimationTimeMillis();

        main.invalidate(); 
        b2.invalidate(); 

        translateAnimation.setStartTime(time);
        translateAnimation1.setStartTime(time);*/
        main.startAnimation(translateAnimation1);

        b2.startAnimation(translateAnimation);
        //   b2.setOnClickListener(this);
        i++;
      }
    }
    else 
    {
      //b2.setOnClickListener(null);
      b2.setEnabled(false);
      //b2.setClickable(false);

      Animation translateAnimation=new TranslateAnimation(0, 0, 0,150 );
      translateAnimation.setDuration(1000);
      translateAnimation.setFillEnabled(true);
      MyAnimationListener listener=new MyAnimationListener(main, 150,SimpleViewPagerforAndroidActivity.this);
      translateAnimation.setAnimationListener(listener);
      Animation translateAnimation1=new TranslateAnimation(0, 0, 0,70 );
      translateAnimation1.setDuration(600);
      translateAnimation1.setFillEnabled(true);
      MyAnimationListener listener1=new MyAnimationListener(b2, 70,SimpleViewPagerforAndroidActivity.this);
      translateAnimation1.setAnimationListener(listener1);
      /* long time =AnimationUtils.currentAnimationTimeMillis();

      main.invalidate(); 
      b2.invalidate(); 

      translateAnimation.setStartTime(time);
      translateAnimation1.setStartTime(time);
      main.startAnimation(translateAnimation1);

      b2.startAnimation(translateAnimation);*/
      b2.startAnimation(translateAnimation1);
      main.startAnimation(translateAnimation);
      i++;
      //b2.setOnClickListener(this);
    }
  }
}); 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-06-26T10:15:55.450

检查按钮单击*动画*是否完成，使用`hasEnd`属性检查以下代码：

```
if (!(animation.hasEnded()) {
  button.setClickable(false);  
}
else{
 button.setClickable(true);  
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-10-26T21:34:18.733

我`button.setEnabled(false)`用来禁用触摸事件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T09:40:47.660

首先使按钮可选择。那么这些东西就会起作用。

> Button.setSelected(true);

# javascript - 增强千位分隔符的正则表达式？

> ID：10612286
> 
> 赞同：2
> 
> 时间：2012-05-16T05:01:49.360
> 
> 标签：javascript, regex, performance, separator

我看到了这个漂亮的脚本来为 js 数字添加千位分隔符：

```
function thousandSeparator(n, sep)
{
    var sRegExp = new RegExp('(-?[0-9]+)([0-9]{3})'),
        sValue = n + '';
    if(sep === undefined)
    {
        sep = ',';
    }
    while(sRegExp.test(sValue))
    {
        sValue = sValue.replace(sRegExp, '$1' + sep + '$2');
    }
    return sValue;
} 
```

用法 ：

```
thousandSeparator(5000000.125, '\,') //"5,000,000.125" 
```

但是，我无法接受*while 循环*。

我正在考虑将正则表达式更改为：`'(-?[0-9]+)([0-9]{3})*'` *星号*...

但是现在，我该如何应用替换语句？

现在我将拥有`$1`并且`$2..$n`

如何增强替换功能？

*ps代码取自这里[http://www.grumelo.com/2009/04/06/thousand-separator-in-javascript/](http://www.grumelo.com/2009/04/06/thousand-separator-in-javascript/)*

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2018-04-09T10:06:11.927

不需要使用replace，你可以直接添加`toLocaleString`：

```
console.log((5000000.125).toLocaleString('en')); 
```

更多信息：[https ://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-16T05:43:32.923

你的假设

> 现在我将有 $1 和 $2..$n

是错的。你有两组，因为你有两组括号。

```
 (-?[0-9]+)([0-9]{3})*
1\.  ^^^^^^^^^^
2\.            ^^^^^^^^^^ 
```

然后你**重复**第二组。如果第二次匹配，它会覆盖第一次匹配的结果，当它匹配第三次时，它会覆盖......

这意味着当匹配完成时，`$2`包含该组的最后一个匹配的值。

**第一种方法**

```
(\d)(?=(?:[0-9]{3})+\b) 
```

并替换为

```
$1, 
```

[在 Regexr 上](http://regexr.com?30vem)查看

它的缺点是它确实在点的右侧也插入了逗号。（我正在做。）

**第二种方法**

```
(\d)(?:(?=\d+(?=[^\d.]))(?=(?:[0-9]{3})+\b)|(?=\d+(?=\.))(?=(?:[0-9]{3})+(?=\.))) 
```

并替换为

```
$1, 
```

[在 Regexr 上](http://regexr.com?30vev)查看

所以现在它变得有点复杂了。

```
(\d)                   # Match a digit (will be reinserted)
(?:
    (?=\d+(?=[^\d.]))  # Use this alternative if there is no fractional part in the digit
    (?=(?:\d{3})+      # Check that there are always multiples of 3 digits ahead
    \b)                # Till a word boundary
    |                  # OR
    (?=\d+(?=\.))      # There is a fractional part
    (?=(?:\d{3})+      # Check that there are always multiples of 3 digits ahead
    (?=\.))            # Till a dot
) 
```

**问题：** 如果后面没有字符串的结尾，它也匹配小数部分。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-16T05:18:54.137

这是一个丑陋的脚本来对比你漂亮的脚本。

```
10000000.0001 .toString().split('').reverse().join('')
.replace(/(\d{3}(?!.*\.|$))/g, '$1,').split('').reverse().join('') 
```

由于我们没有lookbehinds，我们可以通过反转字符串并使用lookaheads来作弊。

在这里，它再次以更可口的形式出现。

```
function thousandSeparator(n, sep) {

    function reverse(text) {
        return text.split('').reverse().join('');
    }

    var rx = /(\d{3}(?!.*\.|$))/g;

    if (!sep) {
        sep = ',';
    }

    return reverse(reverse(n.toString()).replace(rx, '$1' + sep));

} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-12-16T16:46:25.713

这个怎么样：

```
result = "1235423.125".replace(/\B(?=(\d{3})+(?!\d))/g, ',') //1,235,423.125 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-16T05:28:45.373

**试试这个：**

```
result = subject.replace(/([0-9]+?)([0-9]{3})(?=.*?\.|$)/mg, "$1,$2"); 
```

[在这里](http://regexr.com?30ve4)测试

# python - 从python中的列表/序列创建动态子列表

> ID：10612288
> 
> 赞同：0
> 
> 时间：2012-05-16T05:02:21.093
> 
> 标签：python

我试图编写一个函数来创建一组动态子列表，每个子列表包含传递给它的列表中的 5 个元素。这是我对代码的尝试

```
def sublists(seq):
    i=0
    x=[]
    while i<len(seq)-1:
        j=0
        while j<5:
            X.append(seq[i]) # How do I change X after it reaches size 5?
     #return set of sublists 
```

编辑：

样本输入：`[1,2,3,4,5,6,7,8,9,10]`

预期输出：`[[1,2,3,4,5],[6,7,8,9,10]]`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T05:14:49.910

好吧，对于初学者来说，您需要（或至少应该）有两个列表，一个临时列表和一个永久列表，您需要返回（此外，您需要增加 j 和 i，或者更实际地，使用 for 循环，但我假设你只是忘了发布）。

*EDIT*删除了第一个代码，因为给出的样式与预期结果不匹配，请参阅其他两种可能性。

或者，更明智地：

```
def sublists(seq):
    x=[]
    for i in range(0,len(seq),5):
        x.append(seq[i:i+5])
    return x 
```

或者，更明智的是，一个简单的列表推导：

```
def sublists(seq):
    return [seq[i:i+5] for i in range(0,len(seq),5)] 
```

当给出列表时：

```
l = [1,2,3,4,5,6,7,8,9,10] 
```

他们会回来

```
[[1, 2, 3, 4, 5], [6, 7, 8, 9, 10]] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:08:13.257

“动态子列表”是指将列表分成五个元素的组吗？这类似于您的方法：

```
def sublists(lst, n):
    ret = []
    i = 0
    while i < len(lst):
        ret.append(seq[i:i+n])
        i += n
    return ret 
```

或者，使用迭代器：

```
def sublists(seq, n):
    it = iter(seq)
    while True:
        r = list(itertools.islice(it, 5))
        if not r:
            break
        yield r 
```

这将返回一个列表的迭代器，列表长度最多为 5。（如果您`list`拨打电话，如果您没有以相同的顺序访问迭代器，则会发生奇怪的事情。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T05:08:31.087

你考虑过使用[`itertools.combinations(...)`](http://docs.python.org/library/itertools.html#itertools.combinations)吗？

例如：

```
>>> from itertools import combinations
>>> l = [1,2,3,4,5,6]
>>> list(combinations(l, 5))
[(1, 2, 3, 4, 5), (1, 2, 3, 4, 6), (1, 2, 3, 5, 6), (1, 2, 4, 5, 6), (1, 3, 4, 5, 6), (2, 3, 4, 5, 6)] 
```

# sparql - windows中创建的TDB数据集不能在Linux中使用

> ID：10612289
> 
> 赞同：-1
> 
> 时间：2012-05-16T05:02:27.053
> 
> 标签：sparql, jena

在Linux中使用Jena创建TDB数据集时，TDB数据也可以在Windows中使用。但是如果我在Windows中创建一个然后复制到Linux，执行sparql查询时没有结果。Java代码相同，我在三台电脑上测试了这个问题，其中一台是我的电脑（我的电脑上安装了 Win 7 和 Ubuntu），它们都无法执行任何结果。

我的意思是，在Windows中创建的TDB可以执行sparql查询并返回结果集，但在Linux中不能使用相同的Java代码。而在Linux中创建的TDB，在Windows中使用它是可以的。

有什么问题吗？有人知道吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T09:43:01.020

在从 Windows 复制到 Linux 之前和之后，您是否检查过 MD5 校验和是否相同？以防万一问题与复制过程有关。否则，这个问题可能最好在[Jena 用户支持列表中](http://jena.apache.org/help_and_support/index.html)讨论。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-17T14:31:18.163

正如您在 users@jena.apache.org 邮件列表中所说，您没有正确关闭 TDB 数据集。这回答了你的问题。

[http://markmail.org/message/sjdvgrcw2b6hn5sf](http://markmail.org/message/sjdvgrcw2b6hn5sf)

# php - 如何创建没有页码的php分页

> ID：10612290
> 
> 赞同：1
> 
> 时间：2012-05-16T05:02:33.023
> 
> 标签：php, zend-framework, pagination, zend-framework2, zend-paginator

我需要创建分页，它不应该有页码，就像我有它一样，然后我需要在页面加载时加载所有数据。（我被命令这样做）

我有点失落。不知道从哪里开始 即使是一点帮助也非常感谢。

*   使用 zend 框架 2(MVC)
*   php和zend新手
*   不喜欢使用库

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T06:27:28.367

我假设，你的意思是你的页面上的结果不能列出页码，而只是一个前进和后退按钮。您跟踪用户当前正在查看哪些偏移/限制结果，并且根据用户是否单击后退/前进，您将向服务器发送适当的请求，其中偏移和限制作为参数。基于 php/Zend 的服务器应该根据这个偏移量和限制返回结果。

我已经初步了解了[Zend Pagination](http://framework.zend.com/manual/en/zend.paginator.usage.html)，在我看来它应该适合你。

# grails - 如何给 s2ui 提交按钮命名

> ID：10612292
> 
> 赞同：1
> 
> 时间：2012-05-16T05:02:41.267
> 
> 标签：grails, user-interface, spring-security

我正在使用以下代码

> s2ui:submitButton elementId='reset' form='resetPasswordForm' messageCode='spring.security.ui.resetPassword.submit(msg)'/>

这给了我 Msg+ 一个没有价值的按钮。

我希望按钮的值应该包含味精。我什至尝试给出显式值字段，但它不考虑它。

那我该如何编辑按钮的值。+

如何对齐 s2ui 表单。

问题出在标签库中

> def submitButton = { attrs ->
> String form =getRequiredAttribute(attrs, 'form', 'submitButton')
> String elementId = getRequiredAttribute(attrs, 'elementId', 'submitButton') > String text = resolveText(attrs) def writer = getOut( )
> // writer << """ // writer << ">${text}\n"
> writer << "\n" String javascript = """\$("#${elementId}").button( ); \$('#${elementId}').bind('click', function() { document.forms.${form}.submit();});"""
> writeDocumentReady writer, javascript
> }

因此，这用于将值设置为 null 并将测试显示为带有空白按钮的链接

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T04:44:38.110

我得到的问题实际上是在标签库中..

但是由于我无法将插件的本地更改提交到服务器，因此没有帮助。因此，我们可能也应该在托管应用程序的服务器上编辑插件，或者创建自己的 taglib 而不是使用插件。

所以目前我正在使用我自己的提交按钮。

# javascript - 如何将方法设为私有并在 Coffeescript 中继承？

> ID：10612293
> 
> 赞同：2
> 
> 时间：2012-05-16T05:02:42.950
> 
> 标签：javascript, coffeescript, private-members

如何将方法“btnClick”设为私有？

```
class FirstClass
  constructor: ->
    $('.btn').click @btnClick

  btnClick: =>
    alert('Hi from the first class!')

class SecondClass extends FirstClass
  btnClick: =>
    super()
    alert('Hi from the second class!')

@obj = new SecondClass 
```

[http://jsfiddle.net/R646x/17/](http://jsfiddle.net/R646x/17/)

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-05-16T05:27:13.590

JavaScript 中没有私有，所以 CoffeeScript 中也没有私有。您可以像这样在班级级别将事情设为私有：

```
class C
    private_function = -> console.log('pancakes') 
```

这`private_function`只会在`C`. 问题是它`private_function`只是一个函数，它不是`C`. 您可以使用[`Function.apply`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/apply)or解决这个问题[`Function.call`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/call)：

```
class C
    private_function = -> console.log('pancakes')
    m: ->
        private_function.call(@) 
```

因此，在您的情况下，您可以执行以下操作：

```
class FirstClass
    btnClick = -> console.log('FirstClass: ', @)
    constructor: ->
        $('.btn').click => btnClick.call(@)

class SecondClass extends FirstClass
    btnClick = -> console.log('SecondClass: ', @) 
```

演示：http: [//jsfiddle.net/ambiguous/5v3sH/](http://jsfiddle.net/ambiguous/5v3sH/)

或者，如果您不需要`@`特别`btnClick`做任何事情，您可以按原样使用该功能：

```
class FirstClass
    btnClick = -> console.log('FirstClass')
    constructor: ->
        $('.btn').click btnClick 
```

演示：http: [//jsfiddle.net/ambiguous/zGU7H/](http://jsfiddle.net/ambiguous/zGU7H/)

# rest - 如何从 Azure webrole 的启动任务使用的 REST 服务获取 DNS 名称

> ID：10612295
> 
> 赞同：1
> 
> 时间：2012-05-16T05:02:54.153
> 
> 标签：rest, azure, exe, servicestack

我已经确认，如果没有证书和管理 API，就无法获取 DNS 名称和环境详细信息（暂存与生产）。

但是，让我们考虑一下我的情况，因为我的启动任务（exe）使用 REST 服务来发布一些数据，所以在那个 REST 服务中我可以做一些技巧来获取 DNS 名称吗？

我试过以下

**HttpContext.Current.Request.UserHostName**但它与 **HttpContext.Current.Request.UserHostAddress相同**

如果有人做过这种伎俩，请给我建议。

**更新**

使用 HostName & HostAddress 我能够获取该 webrole 的 IP（通过浏览器请求确认）但是当我尝试使用 nslookup 命令时，它说我 **不存在域**

Azure 不支持反向查找吗？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T16:21:23.813

在我研究了上述细节之后，我会说使用上述技巧，您将获得有关您的服务的面向外部的 VIP 地址。

让我们考虑在这种情况下，它会如下所示，如果您的应用程序配置了端口 80，您可以在任何浏览器中使用此 IP 地址进行验证，并且您做到了：

```
65.52.14.112 
```

现在让我们在 IP 地址上运行 nslook，它肯定会返回您所说的：

```
C:\myTools>nslookup 65.52.14.112
Server:  router.belkin
Address:  192.168.2.1

*** router.belkin can't find 65.52.14.112: Non-existent domain 
```

现在让我们考虑一下您知道托管服务名称（这是我的服务，我知道名称），所以让我们尝试使用 nslookup ：

```
C:\myTools>nslookup azurevmassistant.cloudapp.net
Server:  router.belkin
Address:  192.168.2.1

Non-authoritative answer:
Name:    azurevmassistant.cloudapp.net
Address:  65.52.14.112 
```

正如您在上面看到的，主机名解析了 IP 地址，仅此而已。此外，您还需要了解在上述两种情况下，您使用的是 Windows Azure 负载均衡器，而不是服务本身。

我能够验证，到目前为止，Windows Azure 不支持“反向查找”，如果您认为这很重要，那么很有机会让您的声音被听到并在此处提交请求：[http ://www.mygreatwindowsazureidea.com /pages/34192-windows-azure-feature-voting](http://www.mygreatwindowsazureidea.com/pages/34192-windows-azure-feature-voting)

# c# - 在 Windows Phone 7 中调整列表框的高度？

> ID：10612297
> 
> 赞同：0
> 
> 时间：2012-05-16T05:03:10.763
> 
> 标签：c#, windows-phone-7

我想根据 windows phone 7 silverlight 中绑定到它的项目来调整列表框的高度以动态增加或减少。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T05:21:12.250

尝试将列表框的高度设置为`Auto`

# php - 在 Magento 属性中存储值

> ID：10612298
> 
> 赞同：0
> 
> 时间：2012-05-16T05:03:14.100
> 
> 标签：php, magento, attributes, feed

我正在设置一个 magento 提要，但我卡住了，因为我需要系统自动计算最后几个属性的值。

如何让 magento 创建一个具有 MAX 销售价格、MAX 标价和评级的属性，我还需要 2 个属性 1 用于折扣金额，最后一个用于折扣百分比。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T14:52:22.620

如果我正确理解您的问题，您可能会使用`afterLoad`一些 Magento 对象的事件。这适用于 Magento 中的大多数模型。

## 前言

一般来说，Magento 中使用的大多数模型（例如，核心库中的产品、订单等，以及您将在具有 db 访问权限的自定义模块中定义的每个模型）都扩展了类`Mage_Core_Model_Abstract`，它提供了某些“事件”-基于的方法。

这些方法是`_afterDelete`、`_afterDeleteCommit`、`_afterLoad`、`_afterSave`、`_afterSavecommit`、`_beforeLoad`和`_beforeSave`（`_beforeDelete`在 Magento >1.4.2.0 中）。

## 覆盖模型

我假设，您希望在产品上具有自动计算的属性。这里的第一步是创建一个新的自定义模块，它会覆盖 Magento 产品的核心模型。在新创建的模型中，您可以使用以下条目`./app/code/local/YourNamespace/YourModule/etc/config.xml`：

```
[...]
<global>
[...]
    <models>
        <catalog>
        <rewrite>
            <product>YourNamespace_YourModule_Model_Product</product>
        </rewrite>
    </catalog>
    </models>
[...]
<global>
[...] 
```

然后，您可以覆盖`Product`模型，如名为的文件中所示`./app/code/local/YourNamespace/YourModule/Model/Product.php`：

```
<?php
class YourNamespace_YourModule_Model_Product extends Mage_Catalog_Model_Product
{
    protected function _afterLoad()
    {
        parent::_afterLoad();

        //your voodoo goes here.
        $my_awesome_calculated_value = $this->getData('my_awesome_float_attribute') / 2;
        $this->setData('my_awesome_calculated_value', $my_awesome_calculated_value);
    }
} 
```

有了这个，只要你加载了一个模型，你就有机会以你能想到的任何方式使用该计算值。请记住，*每次*加载产品时都会执行此代码，这可能非常频繁（如果它是产品，那就是），所以不要太鲁莽。

另请记住，在您的代码执行完成后，该值将丢失，因为该值仅在模型“存在”时才存在。如果要存储它，还可以覆盖`_beforeSave`或创建占位符属性，每次加载模型时都会填充这些属性，然后再保存。

对于 for`discount_amount`和`discount_percentage`i 的属性，我会使用相同的策略：

1.  加载模型
2.  计算`dicount_amount`and `discount_percentage`in`_afterLoad`并将其存储在模型中
3.  与模型一起工作。

## 附录

如果您是 Magento 新手并且不明确知道如何创建新模块，您可以从[http://www.magentocommerce.com/wiki/5_-_modules_and_development/0_-_module_development_in_magento/custom_module_with_custom_database_table](http://www.magentocommerce.com/wiki/5_-_modules_and_development/0_-_module_development_in_magento/custom_module_with_custom_database_table)开始（虽然它有点过时) 或查看stackoverflow。

lg,

还有祝你好运，

弗洛

# c# - 如何获取服务器上打开的 HTTP 连接的总数？

> ID：10612300
> 
> 赞同：2
> 
> 时间：2012-05-16T05:03:30.587
> 
> 标签：c#, .net, windows, winapi, .net-4.0

我想获取 Windows 在给定时间点接收的打开 HTTP（TCP 端口 80）连接的总数。

.NET 中有什么方法可以得到这个吗？

我需要以某种方式查询[IPGlobalProperties.GetActiveTcpConnections](http://msdn.microsoft.com/en-us/library/system.net.networkinformation.ipglobalproperties.getactivetcpconnections.aspx)吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-16T05:12:56.400

为我工作：

```
var properties = IPGlobalProperties.GetIPGlobalProperties();
var httpConnections = (from connection in properties.GetActiveTcpConnections()
                       where connection.LocalEndPoint.Port == 80
                       select connection); 
```

# progress-4gl - 使用 progress 4gl 创建 PDF 格式的工资单并通过电子邮件发送给员工

> ID：10612305
> 
> 赞同：-2
> 
> 时间：2012-05-16T05:03:49.540
> 
> 标签：progress-4gl

我需要创建一个包含工资单详细信息的 pdf 文件，例如（DA、HRA、Basic、休假......等），方法是从可更新的浏览器中将休假作为输入值，并以表格形式生成报告将发送给员工和银行的 pdf 文件，以便将金额记入各自的工资账户。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-03T04:21:19.933

如果您尝试从 Progress 中创建 PDF 文档，您可以使用 PDFinclude（一个免费的 Libre 开源软件代码）来执行此操作。请参阅[http://www.oehive.org/pdfinclude](http://www.oehive.org/pdfinclude)以开始使用。

# har - 通过命令行工具从给定 url 生成 har 文件的详细过程

> ID：10612314
> 
> 赞同：5
> 
> 时间：2012-05-16T05:04:12.310
> 
> 标签：har

有人可以建议如何通过 linux 中的命令行从给定的 url 生成 har 文件吗？非常感谢使用的详细工具和指南。

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-16T15:32:51.673

您可以使用[phantomjs](http://phantomjs.org/)来完成这项工作。

```
phantomjs examples/netsniff.js "some_url" > out.har 
```

或查看[BrowserMob 代理](https://github.com/webmetrics/browsermob-proxy)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-08-18T15:46:36.347

我曾使用 PhantomJS 生成 HAR 文件，但与 Chrome、Firefox 等实际浏览器生成的 HAR 文件相比，它们并不可靠。使用 selenium 和 BrowsermobProxy，您可以使用 Python 脚本直接从浏览器生成 HAR 文件，例如：

```
from browsermobproxy import Server
from selenium import webdriver
import json

server = Server("path/to/browsermob-proxy")
server.start()
proxy = server.create_proxy()
profile = webdriver.FirefoxProfile()
profile.set_proxy(self.proxy.selenium_proxy())
driver = webdriver.Firefox(firefox_profile=profile)
proxy.new_har("http://stackoverflow.com", options={'captureHeaders': True})
driver.get("http://stackoverflow.com")    
result = json.dumps(proxy.har, ensure_ascii=False)
print result
proxy.stop()    
driver.quit() 
```

如果您正在寻找使用 Chrome 和 Firefox 无头生成 HAR 和性能数据的命令行工具，请查看[Speedprofile](https://github.com/parasdahal/speedprofile/)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-09-29T16:37:32.340

Phantomjs 的 har 文件是资产的缩写列表。换句话说，当您使用 Chrome 或其他浏览器访问网页时，文件会在几秒钟内加载。

但是 phantomjs 会在所有资产有时间加载之前拍摄该网站的即时快照。

它还排除了数据和图像文件（因为它们不是 har 规范的一部分）

您可以通过修改 netsniff.js 示例文件来解决此问题。

我已经分叉了该项目并在下面的链接中进行了这些修改。请注意，我已将计时器设置为在生成 har 之前等待 20 秒。我还添加了一些错误处理来忽略 js 错误。添加了错误处理位以处理 phantomjs 在遇到错误时创建无效的 har 文件。（我还注释掉了排除数据/图像文件的功能）

所以这可能不是你想要的。但对于您或任何其他希望使用 phantomjs 的人来说，这是一个起点。

在这些更改之后，我从持续获得四个资产文件增加到大约 25 个。

[https://github.com/associatedpress/phantomjs/blob/netsniff-timer/examples/netsniff.js](https://github.com/associatedpress/phantomjs/blob/netsniff-timer/examples/netsniff.js)

# iphone - 关闭 iPhone 中的 UIAlertView 时发出警告

> ID：10612317
> 
> 赞同：0
> 
> 时间：2012-05-16T05:04:39.047
> 
> 标签：iphone, ios

我收到以下警告-

```
 warning: passing argument 1 of 'dismissWithClickedButtonIndex:animated:' makes integer from pointer without a cast

[alertForLoading dismissWithClickedButtonIndex:nil animated:YES]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:08:38.587

`dismissWithClickedButtonIndex:animated`期望 a`NSInteger`作为参数并且您指定 nil。

将 nil 替换为您想要按下的按钮的索引，如下所示：

```
 [alertForLoading dismissWithClickedButtonIndex:0 animated:YES]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:34:39.927

“dismissWithClickedButtonIndex”接受任何整数。此方法调用以下 UIAlertViewDelegate 方法

```
- (void)alertView:(UIAlertView *)alertView willDismissWithButtonIndex:(NSInteger)buttonIndex 
```

有关更多信息，请参阅参考：[UIAlertViewDelegate 协议参考](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIAlertViewDelegate_Protocol/UIAlertViewDelegate/UIAlertViewDelegate.html)

# iphone - 在 iPhone sdk 上的 Photoshop 中完美连接两条线

> ID：10612318
> 
> 赞同：0
> 
> 时间：2012-05-16T05:04:40.620
> 
> 标签：iphone, ios, xcode

我想在触摸已经存在的线端点后喜欢用户画线以在 iPhone sdk 上的 UIGraphics 中完美地连接边缘。如果有可能？或不可能？，

如果可能的话，这对任何代码或示例有何帮助？

谢谢！

# javascript - javascript:window.close(); 不关闭 IE 8 中的选项卡

> ID：10612321
> 
> 赞同：2
> 
> 时间：2012-05-16T05:04:50.680
> 
> 标签：javascript, internet-explorer, adobe-captivate

它在 Chrome 中工作，我认为它曾经在 IE8 中工作......但似乎没有。

```
javascript:window.open('', '_self', ''); window.close();alert('test'); 
```

我得到的只是`alert`.

基本上，我正在尝试执行一个在浏览器中作为`a`链接可以正常工作的函数，但是在按钮上使用相同的代码来吸引“执行 javascript”，这是行不通的。

然后我想我会`javascript:`在 IE 中使用它来测试它......它不会关闭它。

这是怎么回事？
它快把我逼疯了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T23:24:59.903

我发现这行得通

```
top.close(); 
```

从浏览器地址栏中

```
javascript:top.close(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-04-13T20:32:24.383

我不知道为什么，但是下面链接中的示例对我不起作用。

[http://www.w3schools.com/jsref/met_win_close.asp](http://www.w3schools.com/jsref/met_win_close.asp)

工作过：

```
window.close(); 
```

没用：

```
myWindow.close(); 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2018-07-17T15:55:18.583

## 更好的演示：

onclick="javascript: window.open('', '_self', ''); window.close();"

# sqlite - 黑莓中的 SQLite 加密

> ID：10612326
> 
> 赞同：0
> 
> 时间：2012-05-16T05:05:17.537
> 
> 标签：sqlite, blackberry, mobile, encryption

如何为我的应用程序使用的 SQLite 数据库提供无缝加密。我正在寻找类似于[SQLCypher](http://sqlcipher.net/documentation)的东西，它透明地处理幕后的加密，这样应用程序就不必担心它。尽管有适用于 Android 和 iOS 的版本，但在他们的网站上没有提到用于 BlackBerry 的 SQLCypher 的版本。是否可以使用 SQLCypher 或者是否有替代方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T06:46:39.760

RIM 为使用 SQLite 提供了一个加密接口。它很容易使用。请参阅带有适当参数的[DatabaseSecurityOptions](http://www.blackberry.com/developers/docs/7.1.0api/net/rim/device/api/database/DatabaseSecurityOptions.html)和[DatabaseFactory](http://www.blackberry.com/developers/docs/7.1.0api/net/rim/device/api/database/DatabaseFactory.html) .create() 或[DatabaseFactory .open()。](http://www.blackberry.com/developers/docs/7.1.0api/net/rim/device/api/database/DatabaseFactory.html)通过使用 CodeSigningKey，只有在同一设备上使用相同密钥签名的应用程序才能读取数据库。如果将数据库移动到不同的设备，则数据将不可读。如果数据库被其他应用程序访问，它将不可读。

# android - 将 EditETxt 光标移动到可跨文本的末尾？

> ID：10612327
> 
> 赞同：0
> 
> 时间：2012-05-16T05:05:17.923
> 
> 标签：android, android-edittext, cursor-position

我有 Edittext ，我在其中设置了可跨文本，我希望光标位于可跨文本的末尾。以便用户可以从键盘手动输入。

我已经试过了

```
ObjectOfEdietext.setSelection(ObjectOfEdietext.getText().lenght()); 
```

但这对我不起作用。但是，如果我在 Editext 上设置普通文本并执行相同操作，则效果很好。谁能指出什么问题？？

提前致谢

**编辑** 在这里，我发现我在编辑文本上设置的用于使跨度文本可点击的 LinkMovementMethod 禁用了 edittext 光标的问题。我面临的另一个大问题是当我在edittext上设置可点击的跨文本然后光标移动到0位置，所以我无法在文本末尾移动光标以从键盘添加文本！有没有人遇到过这样的问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:27:16.503

试试这个代码

```
ObjectOfEdietext.setSelection(ObjectOfEdietext.getText().toString().lenght()); 
```

我亲自尝试过以下代码及其工作

```
et_from.setText(new SpannableString("my starting Address"));
et_from.setSelection(et_from.getText().length()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-27T20:39:09.007

试试看，它是 100% 工作的：

```
yourEditText.post(new Runnable() {
     @Override
     public void run() {
        yourEditText.setSelection(yourBubbleText.length());
     }
}); 
```

# java - 两者中哪一个是创建和销毁对象的更好方法？

> ID：10612335
> 
> 赞同：0
> 
> 时间：2012-05-16T05:06:12.120
> 
> 标签：java

我在第 26 和 27 行有一个问题：

```
String dumb = input.nextLine();
output.println(dumb.replaceAll(REMOVE, ADD)); 
```

我希望我能够将其缩小到一行并能够节省空间，所以我做到了：

```
output.println(new String(input.nextLine()).replaceAll(REMOVE, ADD)); 
```

但现在我想知道性能。我知道这个程序很安静，不需要优化，但我想学习这个。
我看它的方式，在第一个场景中，我正在创建一个哑字符串对象，但是一旦我离开循环，对象就会被放弃，JVM 应该清理它，对吗？但是 JVM 清理废弃对象的速度是否比程序执行循环的速度更快？还是程序完成后会有几个字符串对象等待垃圾回收？

我的逻辑是否正确，在第二种情况下，String对象是动态创建的，一旦程序通过那条线就被销毁？这实际上是性能提升吗？

如果你能帮我解决这个问题，我将不胜感激。

谢谢你，

ps 如果您想知道程序（我假设它是直截了当的）它接收输入文件、输出文件和两个单词，程序获取输入文件，用第二个单词替换第一个单词并将其写入第二个文件。如果您实际上已经阅读了这篇文章，并且想提出一些可以让我的代码变得更好的方法，请这样做。我将不胜感激。

```
import java.io.File;
import java.util.Scanner;
import java.io.PrintWriter;

public class RW {

    public static void main(String[] args) throws Exception{
        String INPUT_FILE = args[0];
        String OUTPUT_FILE = args[1];
        String REMOVE = args[2];
        String ADD = args[3];

        File ifile = new File(INPUT_FILE);
        File ofile = new File(OUTPUT_FILE);

        if (ifile.exists() == false) {
            System.out.println("the input file does not exists in the current folder");
            System.out.println("please provide the input file");
            System.exit(0);
        }

        Scanner input = new Scanner(ifile);
        PrintWriter output = new PrintWriter(ofile);

        while(input.hasNextLine()) {
            String dumb = input.nextLine();
            output.println(dumb.replaceAll(REMOVE, ADD));
        }
        input.close();
        output.close();

    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T05:29:31.467

我要说的第一件事是：

不要担心过早地优化性能。Java 编译器很聪明，它会为你优化很多这些东西，即使没有优化，你也只需要极少*的*时间。你去那里的流 IO 已经运行了比你所说的时间长几个数量级的时间。

最*重要*的是代码易于理解。你有一个很好的代码风格，从你的例子开始，所以坚持下去。这两个代码片段中的哪一个更容易被*您以外*的人阅读？*那*是最好的选择。:)

也就是说，以下是对您的问题的一些更具体的答案：

1.  垃圾收集绝对会拾取在循环范围内实例化的对象。它在循环内实例化的事实意味着，一旦它超出范围，Java 就已经将其标记为清理。下次 GC 运行时，它会清理所有标记为清理的东西。

2.  内联创建对象仍将创建一个对象。构造函数仍然被调用，内存仍然被分配......在引擎盖下，它们真的非常相似。只是在一种情况下该对象具有名称，而在另一种情况下则没有。通过将两行代码合二为一，您不会节省任何实际资源。

3.  “input.nextLine()” 已经返回了一个字符串，所以你不需要将它包装在一个新的 String() 中。（所以是的，删除它实际上*会*导致实例化的对象减少！）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T05:27:40.830

一旦超出范围，本地对象就有资格进行 GC。这并不意味着 GC 会立即清理它们。符合条件的对象经历了一个生命周期。GC 可能会也可能不会立即收集它们。

就您的程序而言，除了一两行之外，没有什么可以优化的。下面是一个重组的程序。

```
import java.io.File;
import java.util.Scanner;
import java.io.PrintWriter;

public class Test {
    public static void main(String[] args) throws Exception {
        String INPUT_FILE = args[0];
        String OUTPUT_FILE = args[1];
        String REMOVE = args[2];
        String ADD = args[3];

        File ifile = new File(INPUT_FILE);
        File ofile = new File(OUTPUT_FILE);
        if (ifile.exists() == false) {
            System.out.println("the input file does not exists in the current folder\nplease provide the input file"); 
            System.exit(0);
        }
        Scanner input = null;
        PrintWriter output = null;
        try {
            input = new Scanner(ifile);
            output = new PrintWriter(ofile);
            while (input.hasNextLine()) {
                output.println(input.nextLine().replaceAll(REMOVE, ADD));
            }
        } finally {
            if (input != null)
                input.close();
            if(output != null)
                output.close();
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-16T05:40:31.727

如果您担心对象的创建和性能，请使用分析器来测量您的代码。请记住，这样做`new String(input.nextLine())`是完全没有意义的，因为它会`input.nextLine()`返回一个不可变的 String 实例。所以就做吧`output.println(input.nextLine().replaceAll(REMOVE, ADD));`。

# java - 我的 java for 循环跳过了一步

> ID：10612337
> 
> 赞同：3
> 
> 时间：2012-05-16T05:06:36.500
> 
> 标签：java, loops, for-loop, java.util.scanner

我正在为我在技术部门做的一门课程中的练习编写应用程序。它应该实例化 5 个类的对象`Book`，其中包含书名、作者和页数的数据字段。我在使用`for.. loop`. 在第一个循环之后，它每次都会跳过一个步骤，我不知道为什么。这是我的代码

```
import java.util.*;
public class LibraryBook2
{
    public static void main(String[]args)
{
    String name;
    String author;
    int pages;
    Book[] novel = new Book[5];
    novel[0] = new Book();
    novel[1] = new Book();
    novel[2] = new Book();
    novel[3] = new Book();
    novel[4] = new Book();
    Scanner kb = new Scanner(System.in);
    for (int i = 0; i< novel.length;)
    {   
        System.out.println("Please Enter the books title");
        name = kb.nextLine();
        novel[i].setTitle(name);
        System.out.println("Please enter the books author");
        author = kb.nextLine();
        novel[i].setAuthor(author);
        System.out.println("Please enter the number of pages in this book");
        pages = kb.nextInt();
        novel[i].setPages(pages);
        System.out.println(""+novel[i].title);
        System.out.println(""+novel[i].author);
        System.out.println(""+novel[i].pages);
        ++i;
    }
    for (int x = 0; x<novel.length; x++)
    {
    System.out.print(""+ novel[x].title + "\n" + novel[x].author + "\n" + novel[x].pages);
    }
  }
} 
```

在第一个`for`循环中，它循环一次，打印书名、作者和我输入的页数，就像它应该的那样。但第二次，它打印“请输入书名”，然后直接跳到第二次`println`，无需等待输入。我是对象数组的新手，一般是java，所以任何帮助表示赞赏。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T05:10:21.730

让我猜猜，您正在为页数输入类似“13<enter>”的内容，对吧？

您使用的程序错误。在书中的页数之后不要按 Enter。立即键入下一本书的标题，不要有空格或任何内容。代码读取一个整数，然后读取标题的一行。所以你不能在整数和标题之间放*任何东西*，因为这不是代码所期望的。

这使得该程序非常难以使用，因为在您已经输入标题后会出现输入标题的提示。这是一种非常愚蠢的程序编写方式，你不觉得吗？

一个简单的解决方法：在 之后`kb.nextInt`，调用`kb.nextLine`并将空行扔掉。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T05:18:03.250

这一行：

```
name = kb.nextLine(); 
```

正在读取尽可能多的字符，直到找到一个换行符，然后也读取该字符。而这一行：

```
pages = kb.nextInt(); 
```

正在读取一系列数字字符，但保持换行符不变。

下一次循环时，会出现一个尚未读取的换行符。所以 kb.nextLine() 尽职尽责地读取该字符（即使它之前没有字符）并继续。

您可能想要做的是确保在下一次循环*之前*从输入缓冲区中删除这个额外的换行符。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T05:21:49.787

像这样更改代码：

```
public static void main(String []arg){
    String name;
    String author;
    String pages;
    Book[] novel = new Book[2];
    novel[0] = new Book();
    novel[1] = new Book();
    novel[2] = new Book();
    novel[3] = new Book();
    novel[4] = new Book();
    Scanner kb = new Scanner(System.in);
    for (int i = 0; i< novel.length;)
    {   
        System.out.println("Please Enter the books title");
        name = kb.nextLine();
        novel[i].setTitle(name);
        System.out.println("Please enter the books author");
        author = kb.nextLine();
        novel[i].setAuthor(author);
        System.out.println("Please enter the number of pages in this book");
        pages = kb.nextLine();
        novel[i].setPages(Integer.parseInt(pages));
        System.out.println(""+novel[i].title);
        System.out.println(""+novel[i].author);
        System.out.println(""+novel[i].getPages());
        ++i;
    }
    for (int x = 0; x<novel.length; x++)
    {
    System.out.print(""+ novel[x].title + "\n" + novel[x].author + "\n" + novel[x].pages);
    } 
```

将页码读取为 nextLine ，而不是整数。

# php - 使用 PHP 解析来自引用者的搜索查询

> ID：10612338
> 
> 赞同：1
> 
> 时间：2012-05-16T05:06:37.313
> 
> 标签：php, switch-statement, http-referer

我正在尝试从搜索引擎推荐中获取搜索查询。大多数使用 ?q 参数传递搜索查询，但是雅虎正在使用 ?p 所以我尝试使用 switch 语句但无济于事。这是我所拥有的：

```
<?php
$parse = parse_url($_SERVER["HTTP_REFERER"]);
$se = $parse["host"];
$raw_var = explode("&", $parse["query"] );
foreach ($raw_var as $one_var) {
$raw = explode("=", $one_var);
$var[$raw[0]] = urldecode ($raw[1]);
}
$se = explode (".", $se);
switch ($se[1]) {
case "yahoo":
$sekeyword = $var["p"];
break;
default:
$sekeyword = $var["q"];
}

print_r ($se);
echo "<br>";
echo "search query is: $sekeyword";

?> 
```

这是我所看到的：

$se =`Array ( [0] => au [1] => search [2] => yahoo [3] => com )`

$sekeyword 为空，但是如果我在开关中将默认 $var 指定为“p”，则来自 yahoo 的搜索查询将正确传递。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T05:22:30.430

您正在继续`switch`，`$se[1]`但在您的情况下，字符串“yahoo”在`$se[2]`..

# c - sizeof(struct ExampleStruct) 或 sizeof( *VarExampleStruct) - 哪个是更好的编码实践？

> ID：10612346
> 
> 赞同：4
> 
> 时间：2012-05-16T05:07:47.667
> 
> 标签：c, structure

在向 malloc 调用提及结构的大小时，是提及结构的名称还是解除引用的结构指针变量更好？

例子：

```
struct ExampleStruct
{
  int x;
  char arr[40];
};

int main()
{

  struct ExampleStruct *Y = NULL;

  Y = malloc(sizeof(struct ExampleStruct)); //Is this better?

  Y = malloc(sizeof(*Y)); //Is this better?  

} 
```

我个人更喜欢`sizeof(struct ExampleStruct)`，因为我看到许多开发人员在第二种方法中犯了遗漏“*”的错误，即他们错误地键入它`malloc(sizeof(Y))`，在这种情况下，分配的内存将只有 4 个字节。但是，我也看到它也被普遍使用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-16T05:11:25.173

我绝对更喜欢第二个。如果每个声明的类型`Y`发生变化，该行仍然可以正常工作。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-16T05:43:36.483

我查看了 K&R 2nd Edition，发现了 3 个相关的使用示例`malloc()`：

*   第 142 页：`return (struct tnode *) malloc(sizeof(struct tnode));`

*   第 145 页：`np = (struct nlist *) malloc(sizeof(*np));`

*   第 146 页：`return (Treeptr) malloc(sizeof(Treenode));`

没有特别讨论不同的形式。序言中有一条注释“我们广泛使用 Bjarne Stroustrup 的 C++ 翻译器对我们的程序进行本地测试”。这是在 1989 年 C 标准定稿之前编写的（我的副本在封面上有“基于提议的 ANSI C 草案”，所以当时没有标准编译器），这可以解释每次`malloc()`调用时的显式转换——这些在 C++ 中是必需的。

因此，“创始人”使用了这两种形式。

现代风格是使用`sizeof(*variable)`符号（并且在 C 中省略强制转换），这样即使变量的类型发生变化，您也不必更改此代码。添加演员表，这种好处就消失了。

Most of my older code tends to use the `sizeof(type)` notation, in part in emulation of the style in K&R C. Most of my newer code now uses the `sizeof(*variable)` notation. When I expect to compile the code with C++ as well as C, I put the cast in too.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-16T05:37:12.400

我更喜欢：

```
Y = malloc(sizeof(struct ExampleStruct)); 
```

因为，这是数据类型，您可以将其相乘以用于其他目的。前任：

```
Y = malloc(sizeof(struct ExampleStruct) * 5); 
```

前任：

```
int *i; 
```

我更喜欢：

```
i = malloc(sizeof(int)); 
```

比，

```
i = malloc(sizeof(*i); 
```

另外，提醒一下，这个变量`i`是指向 的指针`int`，`Y`也是指向 的指针`struct ExampleStruct`。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-16T05:39:47.597

第二种的典型论点是当 Y 的类型改变时，`malloc()`仍然有效。但是，通常在语句后面有初始化代码，初始化 Y 的旧类型。如果它仍然适用于新类型，您至少必须检查它。将类型更改为“正常工作”涉及更多计划。

但另外，第二个通常是更少的代码编写和更少的代码稍后阅读。

我更愿意更进一步，在这种情况下使用 Create 和 Destroy 函数。Create 函数不返回 void 指针，而是返回正确的类型。因此，如果 Y 的类型发生了变化，但我没有更改调用（并查看以下初始化代码），那么编译器会给我一个错误。

`malloc()`另外，这使得资源管理比在代码中随机调用和调用要容易得多`free()`。

# iphone - UIAlertView 在 iPhone 应用程序中未正确显示

> ID：10612347
> 
> 赞同：2
> 
> 时间：2012-05-16T05:07:55.113
> 
> 标签：iphone, xcode

在 iphone 应用程序中，我使用 alertview 检查文本框值是否为空，然后它应该显示警报，否则移动到下一个屏幕，但是当我再次输入值时，警报视图显示我不知道是什么问题

如果我也输入值，它总是显示是否为真

```
 -(IBAction)buttonClick{
   if (monthTextField.text=@"") {

    UIAlertView * alert = [[UIAlertView alloc] initWithTitle:@"Error" message:@"Please enter values first" delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];
    [alert show];
    [alert release];

}

 else if (motionSicknessTextField.text=@"") {

    UIAlertView * alert = [[UIAlertView alloc] initWithTitle:@"Error" message:@"Please enter values first" delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];
    [alert show];
    [alert release];

}

else if (prescriptionTextField.text=@"") {

    UIAlertView * alert = [[UIAlertView alloc] initWithTitle:@"Error" message:@"Please enter values first" delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];
    [alert show];
    [alert release];

}

else if (otherMeansTextField.text=@"") {

    UIAlertView * alert = [[UIAlertView alloc] initWithTitle:@"Error" message:@"Please enter values first" delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];
    [alert show];
    [alert release];

}
else if (cereniaTextField.text=@"") {

    UIAlertView * alert = [[UIAlertView alloc] initWithTitle:@"Error" message:@"Please enter values first" delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];
    [alert show];
    [alert release];

}
else if (costToClientTextField.text=@"") {

    UIAlertView * alert = [[UIAlertView alloc] initWithTitle:@"Error" message:@"Please enter values first" delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];
    [alert show];
    [alert release];

}

else if (clinicMarkup.text=@"") {

    UIAlertView * alert = [[UIAlertView alloc] initWithTitle:@"Error" message:@"Please enter values first" delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];
    [alert show];
    [alert release];

}
   else{    

GraphsViewController*targetController=[[GraphsViewController alloc]init];

NSString*dogswithMotionSickness=motionSicknessTextField.text;
NSString*valueOne=cereniaTextField.text;
NSString*valueTwo=prescriptionTextField.text;
NSString*valueThree=otherMeansTextField.text;
NSString*valueFour=overtheCounterTextField.text;
cerenia=cereniaTextField.text;

NSString*costToClient=costToClientTextField.text;
NSString*clinicalMarkup=clinicMarkup.text;
perMonth=monthTextField.text;

targetController.perMonth=perMonth;
targetController.dogswithMotionSickness=dogswithMotionSickness;

targetController.valueOne=valueOne;
targetController.valueTwo=valueTwo;
targetController.valueThree=valueThree;
targetController.valueFour=valueFour;
targetController.cerenia=cerenia;
targetController.costToClient=costToClient;

targetController.clinicalMarkup=clinicalMarkup;

[self.navigationController pushViewController:targetController animated:YES];

  }} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:13:32.097

如果要检查空字符串，请使用：

```
if([monthTextField.text isEqualToString:@""]) 
```

或者

```
if(monthTextField.text.length > 0) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T11:06:53.273

我在 AppName-Prefix.pch 文件中定义了这两个宏

```
#define IS_EMPTY_STRING(str) (!(str) || ![(str) isKindOfClass:NSString.class] || [(str) length] == 0)
#define IS_POPULATED_STRING(str) ((str) && [(str) isKindOfClass:NSString.class] && [(str) length] > 0) 
```

这样我可以检查空字符串和零字符串对象。

```
IS_EMPTY_STRING(myString); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T11:17:50.267

也使用

```
if ([motionSicknessTextField.text isEqualToString:@""] || [motionSicknessTextField.text isEqualTo:nil]) 
```

它是带有 nil 的过滤器，也是 textField 的空白对象或值

# asp.net - Global.asax 是如何工作的？

> ID：10612351
> 
> 赞同：0
> 
> 时间：2012-05-16T05:08:18.370
> 
> 标签：asp.net, asp.net-mvc, httpapplication

在 global.asax 中，这些事件如何

```
 Application_Start
   Application_End
   Session_Start
   Session_End
   Application_BeginRequest
   Application_AuthenticateRequest
   Application_Error 
```

连接到 System.Web.HttpApplication 类中的相应事件处理程序

谢谢 ！

编辑：也许这就是我想要的[链接](http://www.west-wind.com/weblog/posts/2009/Jun/18/How-do-ASPNET-Application-Events-Work)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T05:23:35.757

当 ASP.NET 启动您的应用程序时，它会创建您的应用程序`HttpApplication`实现的一个实例，它由 Global.asax 表示。然后它使用反射来查找使用正确参数命名的方法，以匹配每个事件。它找到的那些，它会自动为您附加为事件处理程序。

# sql - SQL 查询 - 如何不包含某些结果

> ID：10612356
> 
> 赞同：2
> 
> 时间：2012-05-16T05:08:32.877
> 
> 标签：sql, postgresql

如果在我无法正确形式化之前提出这个问题，我深表歉意。我在表中有一个代码列，想要查询它，但删除了一些带有特定代码的元素。假设我想获取代码从 4 开始的元素，但不包括代码中第 6 个数字为 9 (1121290) 的元素。

代码列包含最大长度为 8 个字符的数字字符串。我想拿几乎所有以 4 开头的东西，除了以 411、427 和 428 开头的元素

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:20:58.923

是的，您可以这样进行查询：-

我有 6 位代码的列元素。

我正在获取第 1 位为 4 或第 6 位为 9 的元素。

我们必须使用`%`and`_`来获取..

```
SELECT element  FROM "table" WHERE element LIKE '%4____9%'; 
```

试试这个它会工作。

除了以 411、427 和 428 开头的元素之外，所有以 4 开头的元素：-

```
 SELECT element  FROM "table" WHERE element LIKE '%4__'; 
```

第一个数字是 4 而第 6 个不是 9：我测试了这个，它工作正常试试这个：-

```
SELECT element  
FROM "table" 
WHERE element NOT LIKE '%_____9' and element LIKE '%4_____' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T05:27:26.123

在 where 子句中简单地拼出每个条件可能是最简单的：

```
WHERE code like '4____9%' AND code NOT LIKE '411%' AND code NOT LIKE '427%' AND code NOT LIKE '428%' 
```

额外的条件不会对查询的效率造成太大的影响；无论如何，它必须扫描从*4*开始的每一行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T05:18:01.173

假设您的“CODE”字段是 varchar 并且您使用的是 SQL Server，您可以使用以下查询

```
select * from yourTable
where code like '4%'
AND CHARINDEX('9',code)<>6 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-16T06:20:28.667

这是一个更紧凑的版本。

```
`SELECT * FROM table_name WHERE code IN ('4%') and code NOT IN ('411%','427%', '428%','_____9%');` 
```

# namespaces - Web 主机 DNS - 它如何识别您的帐户？

> ID：10612359
> 
> 赞同：1
> 
> 时间：2012-05-16T05:09:04.153
> 
> 标签：namespaces, dns

今天，我在 JustHost 注册了一个虚拟主机，并在 NetFirms 注册了我的域名。JustHost 告诉我输入`NS1.JUSTHOST.COM`并`NS2.JUSTHOST.COM`作为我在 NetFirms 的 DNS 命名空间来重定向网站以指向我的 JustHost 服务器。我的问题是 NetFirms 如何理解 JustHost 上的哪个账户是我的，因为我提供了一个不包含任何关于我的账户信息的一般地址？

如果我使用了任何不正确的术语，我深表歉意，因为我还不太了解互联网的工作原理。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:22:18.647

您输入的是 DNS 服务器信息。网络托管公司已经知道他们为您设置了哪个 IP 地址，这就是 DNS 所做的一切；将主机名解析为 IP 地址（反之亦然，如果它们设置正确的话）。域名注册商并不关心你的网络服务器在哪里（甚至你提供什么样的服务；它可能是 SMTP、或 IMAP，或几个，或根本没有）；他们只需要知道将那些想问的人送到哪里。

一旦从 DNS 服务器获得您的 IP 地址的人连接到该 IP 地址上的 www 服务器，客户端就会发送它所请求的 URL，然后由服务器解析。（最初的 HTTP 规范没有在请求中包含 URL 的主机名部分，所以从技术上讲，请求将主机名部分放在请求的`Host:`属性中，而不是主请求行。我不认为这个细节有对您来说任何意义，但如果您将阅读虚拟主机，这可能有助于理解它。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:13:52.257

我会对此发表评论，但我还没有选择。

Justhost 是否为您提供添加托管域的选项？将 DNS 指向 Justhost 后，您应该能够将域添加为 Justhost 上的托管域，并且它应该可以从那里工作。（随着 DNS 更改的传播，最长可能需要 24 小时）。

# vim - 在 Windows 上设置 gVim

> ID：10612362
> 
> 赞同：5
> 
> 时间：2012-05-16T05:09:39.900
> 
> 标签：vim, windows-7, permissions

我试图让 gVim 在 Windows 7 机器上工作，但遇到以下问题：

*   每当我尝试更改 _vimrc 文件时，我都会收到一条消息，说我没有在此位置保存的权限。这是在我的家用电脑上。

*   我似乎无法更改保存我编辑的文件的目录。目前它们都被保存到我的桌面上。我试过 :set dir=path to where I want to save ...没有成功。

我想通过 vimtutor 运行；但是，每当我在 cmd 中键入 vimtutor 时，vim 都会闪烁打开一秒钟然后关闭。

如何更改 _vimrc 文件以及如何设置已编辑文件的目标位置？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-16T15:48:11.210

我发现很多人的做法不同。这是我在 Windows 上组织配置的方式。

*   首先请注意，我不相信将我的 vim 配置与股票 vim 安装混合。所以我不会在`%PROGRAMFILES%`or中编写或修改文件`%PROGRAMFILES(x86)%`。
*   我的 vim 配置适用于不同的平台（OS X、linux、windows）。我将它们组织在一个`.vim`文件夹和一个`.vimrc`文件中。
*   我的一些 Windows 机器有 cygwin，而另一些没有。在没有 cygwin 的那些上，我将`.vim`文件夹和`_vimrc`文件放在`%USERPROFILE%`. 在使用 cygwin 的那些上，我将我的`.vim`文件夹和`_vimrc`文件放在我的 cygwin 用户的主目录中。
*   `%HOME%`Windows OOTB 上没有定义，所以我定义它。我发现`setx.exe`很容易...
    *   示例：`setx HOME %USERPROFILE%`或`setx HOME d:\cygwin\home\myname`
    *   或者，您可以通过控制面板添加环境变量。
*   `.vim`请注意，您可以将文件夹和`_vimrc`文件复制/存储在`%HOME%`. 但我喜欢将它们保存在我机器上其他地方的 git repo 中并链接到它们。在 Windows 上，我使用`mlink /d %HOME%\.vim location_of_vim_folder`链接`.vim`文件夹。并`mlink /h %HOME%\_vimrc location_of_dot_vimrc_file`链接`.vimrc`到`_vimrc`文件。
*   请注意，您应该对`%HOME%`上面定义的文件夹具有写入权限......所以这应该可以解决您的权限问题。（您需要成为管理员才能写信`%PROGRAMFILES%`或`%PROGRAMFILES(x86)%`
*   在我的`vimrc`中，我有一些用于 Windows 的样板材料：

    ```
    "g:my_vim_dir is used elsewhere in my vim configurations
    let g:my_vim_dir=expand("$HOME/.vim")

    "$HOME/.vim and $HOME/.vim/after are in the &rtp on unix
    "But on windows, they need to be added.
    if has("win16") || has("win32") || has("win64")
      "add g:my_vim_dir to the front of the runtimepath
       execute "set rtp^=".g:my_vim_dir
      "add g:my_vim_dir\after to the end of the runtimepath
      execute "set rtp+=".g:my_vim_dir."\\after"
      "Note, pathogen#infect() looks for the 'bundle' folder in each path
      "of the &rtp, where the last dir in the '&rtp path' is not 'after'. The
      "<path>\bundle\*\after folders will be added if and only if
      "the corresponding <path>\after folder is in the &rtp before
      "pathogen#infect() is called.  So it is very important to add the above
      "'after' folder.
      "(This applies to vim plugins such as snipmate, tabularize, etc.. that
      " are loaded by pathogen (and perhaps vundle too.))

      " Not necessary, but I like to cleanup &rtp to use \ instead of /
      " when on windows machines
      let &rtp=substitute(&rtp,"[/]","\\","g")

      "On windows, if called from cygwin or msys, the shell needs to be changed 
      "to cmd.exe to work with certain plugins that expect cmd.exe on windows versions   
      "of vim.
      if &shell=~#'bash$'
        set shell=$COMSPEC " sets shell to correct path for cmd.exe
      endif
    endif

    "Then I load pathogen... (Or if you prefer, you could load vundle bundles here if you wish ) 
    ```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-16T17:14:29.517

> 我似乎无法更改保存我编辑的文件的目录。目前它们都被保存到我的桌面上。我试过 :set dir=path to where I want to save ...没有成功。

`dir`是*交换文件*的位置，它们是 Vim 在运行时使用的特殊备份文件。

您想要的是`cd`或`lcd`更改当前目录。`:help cd`在 Vim 中输入以获取更多信息。

> 如何更改 _vimrc 文件以及如何设置已编辑文件的目标位置？

我的 Vim 文件夹 ($VIM) 中有 _vimrc，所以当我想将 Vim 放在新的 Windows 机器上时，我只需复制整个文件夹。

# ms-access - 访问：文本在报告中 Can Grow=Yes 的文本框显示中被截断

> ID：10612364
> 
> 赞同：4
> 
> 时间：2012-05-16T05:09:43.660
> 
> 标签：ms-access, vba, textbox

在 Access 2010 报告的详细信息区域中，我有两个文本框，一个在另一个之上。它们都`Can Grow`设置为`Yes`，细节区域本身也是如此。

当*两个*文本框都必须增长以容纳它们的内容时，并且底部文本框中的文本很长，它的文本就会被截断。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-02T20:41:32.530

是的，这是一个已知的错误。它基于字体和打印机。[另一位用户声称切换到 Arial 解决了这个问题](http://answers.microsoft.com/en-us/office/forum/office_2010-access/access-2010-truncation-of-calibri-rich-text-in/8b6242b3-4a8b-4553-969c-42b0ca709849)。他的问题是**Calibri**字体，而我的问题是**Tahoma**字体。

我的经验是它也取决于打印机，因为我的客户会在一台打印机上遇到这个错误，而不是在另一台打印机上使用同一台计算机。

切换到**Arial**字体对我们俩都有效。除了这里已经提到的测试之外，我没有找到哪些字体有问题以及哪些字体有效的列表。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-24T07:31:44.197

您的文本框的格式是否设置为`Rich Text`？

如果是，[这是一个已知的错误](http://social.msdn.microsoft.com/Forums/en-US/accessdev/thread/648dd3a2-28c1-4f0d-853c-ef932c58519f)。到目前为止，我们发现的唯一解决方法是避免在报告中使用富文本。已经作为富文本存储在数据库中的文本可以使用[PlainText 方法](http://msdn.microsoft.com/en-us/library/office/bb224580.aspx)转换为纯文本（即，将 ControlSource 设置为`=PlainText([field])`）。

我们也遇到了这个问题，所以如果您发现任何其他解决方法或解决方案，请给我留言。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-05-03T16:22:14.610

我尝试了在这里和其他地方可以找到的所有建议：更改字体、打印机、验证的纯文本等。但没有解决这个问题。

这是最终对我有用的方法：

*   将报表打开到“打印预览”视图。

*   单击功能区上的页面设置。

*   单击“页面设置”窗口中的“列”选项卡。

*   在“列大小”部分中，单击“与详细信息相同”框。

# asp.net-mvc-3 - 不方便渲染局部视图 MVC 3

> ID：10612367
> 
> 赞同：1
> 
> 时间：2012-05-16T05:10:32.973
> 
> 标签：asp.net-mvc-3, viewmodel, partial-views

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:23:01.590

在您的主视图（编辑）中传递 LocationViewModel ，因为部分视图需要此模型而您没有将其传递`@Html.RenderPartial`

```
@model RolMVC3.Models.USER

@{
    ViewBag.Title = "Edit User";
}

        ....
        ....

@{Html.RenderPartial("_LocationEdit",YourLocationViewMODEL);}

        ....
        .... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:13:18.837

当您调用 RenderPartial 时，您需要传入 LocationViewModel 的模型类型。您现在的编辑视图中似乎没有这个，所以您需要 a) 从控制器将其添加到 viewbag 并通过您的 RenderPartial 调用传递它，或者 b) 在编辑视图中更改模型类型（您可能需要一个包含用户和 locationviewmodel 信息的包装器）

**[编辑]** 源代码如下所示：

```
// ViewModel
namespace RolMVC3.Areas.Distributor.Models

    {
        public class EditPageViewModel
        {  
            public LocationViewModel LocationViewModel {get;set;]
            public USER User { get; set; }
        }

    }

// Edit View
    @model RolMVC3.Areas.Distributor.Models.EditPageViewModel

    @{
        ViewBag.Title = "Edit User";
    }

            ....
            ....

    @Html.RenderPartial("_LocationEdit",Model.LocationViewModel);

            ....
            .... 
```

# c# - 使用 Linq 修剪掉重复项

> ID：10612374
> 
> 赞同：2
> 
> 时间：2012-05-16T05:11:19.053
> 
> 标签：c#, linq, c#-4.0

我正在使用返回重复 ID 的 API。我需要使用 EF 将这些值插入到我的数据库中。在尝试添加对象之前，我想修剪掉所有重复项。

我有一个我正在尝试编写的代码的小例子。

```
 var itemsToImport = new List<Item>(){};
        itemsToImport.Add(new Item() { Description = "D-0", Id = 0 });            
        for (int i = 0; i < 5; i++)
        {
            itemsToImport.Add(new Item(){Id = i,Description = "D-"+i.ToString()});
        }

        var currentItems = new List<Item>
                        {
                            new Item() {Id = 1,Description = "D-1"},
                            new Item(){Id = 3,Description = "D-3"}
                        };
        //returns the correct missing Ids
        var missing = itemsToImport.Select(s => s.Id).Except(currentItems.Select(s => s.Id));

        //toAdd contains the duplicate record. 
        var toAdd = itemsToImport.Where(x => missing.Contains(x.Id));
        foreach (var item in toAdd)
        {
            Console.WriteLine(item.Description);
        } 
```

即使有重复，我需要更改什么来修复我的变量“toAdd”以仅返回一条记录？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T05:22:57.797

您可以通过按 Id 分组，然后选择每个组中的第一项来执行此操作。

```
var toAdd = itemsToImport
              .Where(x => missing.Contains(x.Id)); 
```

变成

```
var toAdd = itemsToImport
              .Where(x => missing.Contains(x.Id))
              .GroupBy(item => item.Id)
              .Select(grp => grp.First()); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-16T05:41:34.630

按照 Jon Skeet 在 [https://stackoverflow.com/a/2298230/385844](https://stackoverflow.com/a/2298230/385844)中的建议，使用来自[MoreLINQ的 DistinctBy](http://morelinq.googlecode.com)

调用看起来像这样：

```
var toAdd = itemsToImport.Where(x => missing.Contains(x.Id)).DistinctBy(x => x.Id); 
```

如果您出于某种原因不想（或不能）使用 MoreLINQ，DistinctBy 很容易自己实现：

```
static IEnumerable<T> DistinctBy<T, TKey>(this IEnumerable<T> sequence, Func<T, TKey> projection)
{
    var set = new HashSet<TKey>();
    foreach (var item in sequence)
        if (set.Add(projection(item)))
            yield return item;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T05:22:45.853

您可以使用该`Distinct`功能。不过，您需要覆盖`Equals`and `GetHashCode`in `Item`（假设它们包含相同的数据）。

或用于`FirstOrDefault`获取具有匹配 Id 的第一个项目。

```
itemsToImport.Where(x => missing.Contains(x.Id)).FirstOrDefault() 
```

# python - 为什么在我的 for 循环 python 使用 ubuntu 后我不能读取文件

> ID：10612375
> 
> 赞同：1
> 
> 时间：2012-05-16T05:11:22.927
> 
> 标签：python, printing, for-loop, readfile

由于某种原因，在我的 for 循环之后，我无法读取输出文本文件。例如 ：

```
for line in a:
 name = (x)
 f = open('name','w')
for line in b:
 get = (something)
 f.write(get)
for line in c:
 get2 = (something2)
 f.write(get2)

 (the below works if the above is commented out only)

f1 = open(name, 'r')
for line in f1:
 print line 
```

如果我注释掉循环，我就可以读取文件并打印内容。

我对编码非常陌生，并且猜测这是我所缺少的显而易见的东西。但是我似乎无法弄清楚。我用过谷歌，但我读得越多，我就越觉得我错过了一些东西。任何建议表示赞赏。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T05:24:16.493

@bernie 在他上面的评论中是正确的。问题是当你这样做时`open(..., 'w')`，文件被重写为空白，但 Python/操作系统实际上并没有将你的东西写到`write`磁盘上，直到它的缓冲区被填满或者你调用`close()`. （这种延迟有助于加快速度，因为写入磁盘很慢。）您也可以`flush()`在不关闭文件的情况下调用强制执行此操作。

bernie 提到的`with`声明如下所示：

```
 with open('name', 'w') as f:
     for line in b:
         b.write(...)
     for line in c:
         b.write(...)
 # f is closed now that we're leaving the with block
 # and any writes are actually written out to the file

 with open('name', 'r') as f:
     for line in f:
         print line 
```

如果您使用的是 Python 2.5 而不是 2.6 或 2.7，则必须`from __future__ import with_statement`在文件顶部执行操作。

# javascript - 如何在画布上绘制适合给定矩形的文本？

> ID：10612377
> 
> 赞同：3
> 
> 时间：2012-05-16T05:11:26.247
> 
> 标签：javascript, text, canvas, drawing

我正在使用画布创建一些图像。我希望能够在画布上以给定的矩形（即偏移 x、偏移 y、宽度和高度）绘制文本，并且该文本尽可能大而不会溢出，如果可能的话，使用自动换行。是否可以？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T05:42:11.650

这是可能的。

1.  no-wrapping：你可以使用`CanvasRenderingContext2D.measureText()`方法，它接受一个字符串，并返回一个对象 { width: float }。您必须通过使用字体大小进行一些数学运算来找出高度。然后只需以二进制搜索方式枚举字体大小。很快你就会找到最适合画布的尺寸。

2.  环绕：您必须找出字符串中的环绕点并自己计算它们的宽度和高度。

但是有一个更好更简单的方法来做到这一点。

创建一个 hidden(visibility: hidden not display: none) div，定义它的宽度，然后把你的文本放在里面。枚举字体的大小，并检查它是否溢出或增长太高。

# javascript - 字符串到 jQuery 函数

> ID：10612378
> 
> 赞同：3
> 
> 时间：2012-05-16T05:11:28.443
> 
> 标签：javascript, jquery

# 概述

我试图找到与选择属性值匹配的 jQuery 函数并在选择上运行该函数。

## 例子。

```
$('[data-store="' + key + '"]').each(function() {
var $callback = $(this).attr('data-filter');
if($callback != null) {
    var fn = window['$.fn.nl2br()'];
    if(jQuery.isFunction(fn)) {
        $(this).fn();
    }
}
$(this).setValue(value);
}); 
```

# 问题 1

我不确定如何从字符串创建 jQuery 函数调用。

我知道我可以像这样调用函数 $(this)'onclick'; 但是我无法在尝试调用它之前检查它是否存在。

通常我可以这样做： var strfun = 'onclick'; var fn = body[strfun];

```
if(typeof fn === 'function') {
    fn();
} 
```

这似乎失败了：

```
var fn = window['$.fn.nl2br()'];
if(jQuery.isFunction(fn)) {
    $(this).fn();
} 
```

**编辑：**

我似乎在这方面取得了成功：

```
if($callback != null) {
    var fn = $(this)[$callback]();
    if( typeof fn === 'function') {
        $(this)[$callback]();
    }
} 
```

# 问题 2

使用 jQuery.isFunction() 如何检查方法是否存在？你能用 jQuery.isFunction() 做到这一点吗？

## 例子

声明函数：

```
$.fn.nl2br = function() {
    return this.each(function() {
        $(this).val().replace(/(<br>)|(<br \/>)|(<p>)|(<\/p>)/g, "\r\n");
    });
}; 
```

测试函数是否存在，这些选项失败：

```
jQuery.isFunction($.fn.nl2br); // = false
jQuery.isFunction($.fn['nl2br']()); //false 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-16T05:19:05.040

JavaScript 中的函数是通过它们的名称来引用的，就像任何其他变量一样。如果您定义`var window.foobar = function() { ... }`，您应该能够通过`window.foobar`and引用该函数`window['foobar']`。通过添加`()`，您正在执行该功能。

在您的第二个示例中，您应该能够通过以下方式引用该函数`$.fn['nl2br']`：

```
$.fn.nl2br = function() {
    return this.each(function() {
        $(this).val().replace(/(<br>)|(<br \/>)|(<p>)|(<\/p>)/g, "\r\n");
    });
};

console.log(jQuery.isFunction($.fn['nl2br'])); 
```

查看一个工作示例 - [http://jsfiddle.net/jaredhoyt/hXkZK/1/](http://jsfiddle.net/jaredhoyt/hXkZK/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T05:18:56.247

```
var fn = window['$.fn.nl2br'](); 
```

和

```
jQuery.isFunction($.fn['nl2br']); 
```

# jquery - Jquery hide() 具有特定类的所有元素，除了一个

> ID：10612379
> 
> 赞同：30
> 
> 时间：2012-05-16T05:11:30.410
> 
> 标签：jquery

```
<div class='hide'>A</div>
<div class='hide'>B</div>
<div class='hide' id='1'>C</div> 
```

我有一个名为 showOne 的函数，它应该隐藏所有元素，然后显示 id='1' 的元素。

```
function showOne(id) {
// Hide all elements with class = 'hide'
$('#'+id).show();
} 
```

如何在 jquery 中隐藏所有带有 class = 'hide' 的元素？

* * *

## 回答 #1

> 赞同：51
> 
> 时间：2012-05-16T05:17:37.093

尝试类似：

```
function showOne(id) {
    $('.hide').not('#' + id).hide();
}

showOne(1);​ 
```

演示：http: [//jsfiddle.net/aymansafadi/kReZn/](http://jsfiddle.net/aymansafadi/kReZn/)

我同意@TheSystemRestart，“注意：不要只使用数字ID”。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-05-16T05:13:54.300

```
$('div.hide').hide(300,function() {  // first hide all `.hide`
   $('#'+ id +'.hide').show(); // then show the element with id `#1`
}); 
```

***注意：不要只使用数字 ID。不允许。[读这个](https://stackoverflow.com/questions/7987636/why-cant-i-have-a-numeric-value-as-the-id-of-an-element)***

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-03-31T08:35:49.503

您必须通过 css 类名访问元素。要做到这一点，请使用**.** 操作员

```
$('.hide').hide(); 
```

它将隐藏所有 div。

现在按 id 显示一个 div；

```
$('#elemID').show(); 
```

或者您也可以使用

```
$('.hide').eq(0).show(); 
```

它将显示第一个具有类*hide*的 div 。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-16T05:14:34.980

我几乎为解决方案如此简单而感到羞耻，而且我在写完问题后就发现了它。只是：

```
$('.hide').hide(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-16T05:25:38.703

尝试：

```
function showOne(id) { 
    $('.hide').hide();
    $('#'+id).show(); 
} 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-05-16T05:15:20.007

您可以使用隐藏类为隐藏的所有组件**。** $('.hide').hide();

# html - 消除内联块图像下方的空间

> ID：10612380
> 
> 赞同：62
> 
> 时间：2012-05-16T05:11:33.133
> 
> 标签：html, css, layout

如何摆脱图像底部和包装器之间的空间，同时将图像保持为内联块？为什么会这样？

[http://jsfiddle.net/dJVxb/2/](http://jsfiddle.net/dJVxb/2/)

**HTML：**

```
<div id="wrapper">
<img src="https://twimg0-a.akamaihd.net/profile_images/1735360254/icon_reasonably_small.jpg" >                 
</div> 
```

**CSS：**

```
​#wrapper {
    background:green;
}
img {
    display:inline-block; 
    margin:0;
} 
```

![在此处输入图像描述](../Images/449d962aae01e58e5a1693864ef46455.png) ​</p>

* * *

## 回答 #1

> 赞同：154
> 
> 时间：2012-05-16T05:20:16.603

写`vertical-align:top;`。像这样写：

```
img {
    display:inline-block; 
    margin:0;
    vertical-align:top;
} 
```

检查这个[http://jsfiddle.net/dJVxb/4/](http://jsfiddle.net/dJVxb/4/)

* * *

## 回答 #2

> 赞同：54
> 
> 时间：2014-01-18T00:44:48.597

如果还有内联文本，则增加的空间可以为下降者腾出空间。降序是字母向下延伸的部分，如“y”和“g”。

如果您需要保留or的`vertical-align`属性，您可以通过设置to来解决这个问题。`center``baseline``line-height``0`

# sql-server - t-sql 代码：@emp 的语法不正确 - 必须声明标量变量 @handle

> ID：10612384
> 
> 赞同：-3
> 
> 时间：2012-05-16T05:12:11.143
> 
> 标签：sql-server, tsql

执行此代码时发生了许多错误：

> @emp 的语法不正确 - 第 11 行
> 
> 必须声明标量变量 @handle -- 第 19 行
> 必须声明标量变量 @handle -- 第 32 行

* * *

```
/*Delete the selected list  */
use database 

/* create procedure with in scehema */
Create procedure schema.Proc_delete_emp    
                 @emp varchar(50) =0
                 @displayname nvarchar(50)=0
                 @userId int =0
AS 
BEGIN 
    /* Internal variables */ 
    DECLARE @Handle INT  

    @emp =select emp from dbo.emp_list  
    /*definition of emp_list table (userid,emp)*/   

    /* Insert the list  into audit table  */
    INSERT INTO schema.tbl_audit(@emp, @displayname, @UserID)   
    VALUES('emp', CURRENT_USER, system_user) 

    /* Get Handle */ 
    SELECT @Handle = SCOPE_IDENTITY()  -- get handle

    Select handle 
    From schema.tbl_emp_list 
    Where delete_handle = 0 and card_type = 'n'   --/** Normal**/

    /* delete the inserted list from the original table  */
    Delete from dbo.emp_list
    Where pan in (select card_ID from schema.tbl_emp_list ) 

    /* Update table inside the schema */
    Update schema.tbl_emp_list 
    Set delete_handle = @handle 
    Where delete_handle=0 and card_type ='n';
end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T05:31:09.193

第一个错误很明显 - 此行无效：

```
 @emp =select emp from dbo.emp_list 
```

您需要改用它：

```
 SELECT @emp = emp FROM dbo.emp_list 
```

另外：由于您将结果存储到单个变量中，因此您需要确保此`SELECT`语句最多只能返回 1 行 - 否则您会收到其他错误....

其他的有点不清楚 - 您是否发布了包含所有内容的*真实脚本？*我几乎在想你可能`GO`在某些地方有一些你没有展示的陈述——这可以解释错误 #2 和 #3

而且：我相信你需要用逗号分隔你的过程参数 - 我很惊讶这也不会导致错误......另外：如果你定义类型的参数`VARCHAR(50)`并且`NVARCHAR(50)`- 你不能将它们初始化为`0`(那是一个INT）-您需要对字符串使用有意义的值-例如`''`（空字符串）

用这个：

```
CREATE PROCEDURE schema.Proc_delete_emp    
             @emp varchar(50) = '',
             @displayname nvarchar(50) = '',
             @userId INT = 0 
```

此外，`INSERT`这里的这种说法也是完全错误的......

```
INSERT INTO schema.tbl_audit(@emp, @displayname, @UserID)   
VALUES('emp', CURRENT_USER, system_user) 
```

该`INSERT`语句需要列出它想要使用的表名和列名 - 但您不能将列名定义为变量 - 它们需要拼写出来。因此，将其更改为：

```
INSERT INTO schema.tbl_audit(emp, displayname, UserID)   -- use *your* column names here
VALUES('emp', CURRENT_USER, system_user) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T07:10:34.710

添加到 marc_s 提到的内容

您需要将存储过程参数放在括号中

```
CREATE PROCEDURE schema.Proc_delete_emp   (
             @emp varchar(50) = '',
             @displayname nvarchar(50) = '',
             @userId INT = 0
             ) 
```

# c++ - Arduino 的 C++ 类文件中的字符串未编译

> ID：10612385
> 
> 赞同：6
> 
> 时间：2012-05-16T05:12:19.353
> 
> 标签：c++, string, arduino

我正在用 C++ 为 Arduino[草图](http://www.arduino.cc/en/Tutorial/Sketch)编写一个堆栈类。我相信它完全符合 AVR（如果这就是它的名字；我不记得确切的话）编译器；我已经使用了 all `malloc`and`free`而不是`new`and`delete`等等。

所以我的班级有一个 .h 文件。我已将它导入到草图中，但是当我尝试编译时，出现以下错误：

```
In file included from sketch_may15a.cpp:1:
/CStack.h:58:18: error: string: No such file or directory
In file included from sketch_may15a.cpp:1:
CStack.h:61: error: variable or field 'Error' declared void
CStack.h:61: error: 'string' was not declared in this scope 
```

这是我班的前几行：

```
#include <string>
using namespace std;
void Error(string message) { 
```

所以Arduino编译器找不到`<string>`，接下来的几个问题似乎与它有关（不确定是什么`variable or field Error declared void`意思，我的错误函数只是用于调试目的）。

我知道 Arduino 草图支持字符串而不需要导入，但我不确定它如何与 C/C++/.h 文件一起使用。我试过用谷歌搜索它，但没有太多文档。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-16T09:47:48.213

Arduino 草图不支持任何 C++ 标准库，因为它们是使用[不支持它的 avr-libc](http://www.nongnu.org/avr-libc/user-manual/FAQ.html#faq_cplusplus)编译的。但是，Arduino 确实提供了[`String`](http://arduino.cc/en/Reference/StringObject)应该做你需要的类。

如果您正在编写一个库，您还需要`#include <Arduino.h>`（或者`#include <Wiring.h>`如果您使用的是 Arduino IDE 的 1.0 之前版本）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-06-25T00:39:31.967

由于堆碎片和其他问题，建议不要在微处理器中使用 String 类

新的 SafeString 库（可从库管理器中获得）解决了所有这些问题，并且完全安全，永远不会导致您的草图重新启动。

[请参阅https://www.forward.com.au/pfod/ArduinoProgramming/SafeString/index.html](https://www.forward.com.au/pfod/ArduinoProgramming/SafeString/index.html)上的详细教程

# excel - Excel - 将多列合并为一列

> ID：10612386
> 
> 赞同：3
> 
> 时间：2012-05-16T05:12:37.807
> 
> 标签：excel, vba

我的excel表格看起来像这样

```
 c1        c2      c3      c4

ROW1   abc      def      1       2

ROW2   abc      def      3       4

ROW3   klm      efg     11       5

ROW4   klm      efg     12      89 
```

我想将数据组合成一列，用一个逗号分隔重复的 c1 条目。所以excel表应该是这样的，

```
 c1        c2      c3      c4

ROW1   abc      def      1,3     2,4

ROW2   klm      efg     11,12    5,89 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-16T06:38:40.377

这段代码将

*   在当前工作表上的 A:D 列上运行
*   将 A 列和 B 列中常见的记录与 C 列和 D 列的组合值分别组合在一起
*   运行不区分大小写
*   输出到新工作表

![在此处输入图像描述](../Images/ee28e2bd5acad049d6652ca4da1a71ab.png)

```
 Sub QuickCombine()
    Dim X()
    Dim Y()
    Dim objDic As Object
    Dim lngRow As Long
    Dim lngCol As Long
    Dim ws As Worksheet

    X = Range([a1], Cells(Rows.Count, "D").End(xlUp))
    Y = X
    Set objDic = CreateObject("scripting.dictionary")

    For lngRow = 1 To UBound(X, 1)
        If Not objDic.exists(LCase$(X(lngRow, 1) & X(lngRow, 2))) Then
            objDic.Add LCase$(X(lngRow, 1) & X(lngRow, 2)), lngRow
        Else
            Y(lngRow, 1) = vbNullString
            Y(objDic.Item(LCase$(X(lngRow, 1) & X(lngRow, 2))), 3) = Y(objDic.Item(LCase$(X(lngRow, 1) & X(lngRow, 2))), 3) & "," & X(lngRow, 3)
            Y(objDic.Item(LCase$(X(lngRow, 1) & X(lngRow, 2))), 4) = Y(objDic.Item(LCase$(X(lngRow, 1) & X(lngRow, 2))), 4) & "," & X(lngRow, 4)
        End If
    Next

    Set ws = Sheets.Add

    ws.[a1].Resize(UBound(X, 1), UBound(X, 2)) = Y
    ws.Columns("A").SpecialCells(xlBlanks).EntireRow.Delete

End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:16:57.743

您可以使用 excel 连接函数来执行此操作。这是一个[很好的教程的链接](http://office.microsoft.com/en-us/excel-help/concatenate-HP005209020.aspx)

此外，为了处理重复项，您可以让 excel 突出显示重复项，以便轻松删除它们。[看这里](http://office.microsoft.com/en-us/excel-help/locate-duplicates-by-using-conditional-formatting-HA001136616.aspx)

# regex - 在使用 VIM 进行搜索和替换时，如何保留分组文本并在替换部分中重用它？

> ID：10612388
> 
> 赞同：5
> 
> 时间：2012-05-16T05:12:41.800
> 
> 标签：regex, vim, replace

在 VIM（**编辑**MacVim 快照 64）中，我正在寻找一种方法来转换这些文本行

```
can_check_steps = 1
can_edit_work_type = 1
can_edit_vendor = 1
can_edit_place = 1 
```

到

```
'can_check_steps': can_check_steps,
'can_edit_work_type': can_edit_work_type,
'can_edit_vendor': can_edit_vendor,
'can_edit_place': can_edit_place, 
```

我知道如何分别添加前导单引号并将其转换`=`为`:`多行字符替换（我从[这个问题](https://stackoverflow.com/questions/9549729/in-vim-how-do-i-effectively-insert-the-same-characters-across-multiple-lines)中学到的东西）和基本搜索和替换。

但我真的不知道如何重复每行的变量名。我也开始认为应该有一种方法可以在一个命令中使用类似的分组表达式（使用`(`和`)`在正则表达式中“捕获”）来完成这一切。

我知道如何在 Python 中使用代码行来执行此操作，但我真的不知道如何在 VIM 中使用该`s/search_for_this/replace_that/options`格式来执行此操作。

* * *

**编辑：**

阅读答案后，为什么这不起作用？

```
^\s*(\w+) = 1\s*$/'\1': \1,/g 
```

对于@Jonathan Leffler，**:set all** in MacVim 产生

```
--- Options ---
  aleph=224           bufhidden=          cscopequickfix=   noerrorbells          fsync               includeexpr=      nomacmeta             omnifunc=           report=2            showmatch           tabline=          nottimeout          nowildignorecase
  antialias           buflisted         nocscoperelative      esckeys           nofullscreen          incsearch           magic               operatorfunc=     norevins              showmode            tabpagemax=10       ttimeoutlen=-1      wildmenu
noarabic              buftype=          nocscopetag           eventignore=      nogdefault            indentexpr=         makeef=           nopaste             norightleft           showtabline=1       tabstop=4           ttybuiltin          wildmode=full
  arabicshape         cdpath=,,           cscopetagorder=0    expandtab           guifont=          noinfercase           makeprg=make        pastetoggle=        ruler               sidescroll=0        tagbsearch        nottyfast             wildoptions=
noallowrevins         cedit=^F          nocscopeverbose     noexrc                guifontwide=      noinsertmode          matchtime=5         patchexpr=          rulerformat=        sidescrolloff=0     taglength=0         ttymouse=           window=83
noaltkeymap           charconvert=      nocursorbind          fileencoding=       guipty              isprint=@,161-255   maxcombine=2        patchmode=          scroll=41           smartcase           tagrelative         ttyscroll=999       winheight=1
  ambiwidth=single  nocindent           nocursorcolumn        fileformat=unix     guitablabel=%M%t    joinspaces          maxfuncdepth=100  nopreserveindent    noscrollbind          smartindent         tags=./tags,tags    undodir=.         nowinfixheight
  autochdir           cinoptions=         cursorline          filetype=           guitabtooltip=      key=                maxmapdepth=1000    previewheight=12    scrolljump=1        smarttab            tagstack          noundofile          nowinfixwidth
  autoindent          cmdheight=1         debug=            nofkmap               helpheight=20       keymap=             maxmem=751782     nopreviewwindow       scrolloff=0         softtabstop=0       term=builtin_gui    undolevels=1000     winminheight=1
noautoread            cmdwinheight=7    nodelcombine          foldclose=          helplang=en         keymodel=           maxmemtot=751782    printdevice=      nosecure            nospell             notermbidi            undoreload=10000    winminwidth=1
noautowrite           colorcolumn=        dictionary=         foldcolumn=0      nohidden              keywordprg=man -s   menuitems=25        printencoding=      selectmode=         spellfile=        noterse               updatecount=200     winwidth=20
noautowriteall        columns=269       nodiff                foldenable          history=1000        langmap=            modeline            printfont=courier   shell=/bin/bash     spelllang=en        textauto            updatetime=4000     wrap
  background=dark   nocompatible          diffexpr=           foldexpr=0        nohkmap               langmenu=none       modelines=5         printmbcharset=     shellcmdflag=-c     spellsuggest=best notextmode            verbose=0           wrapmargin=0
nobackup              concealcursor=      diffopt=filler      foldignore=#      nohkmapp              laststatus=2        modifiable          printmbfont=        shellquote=       nosplitbelow          textwidth=0         verbosefile=        wrapscan
  backupcopy=auto     conceallevel=0    nodigraph             foldlevel=0         hlsearch          nolazyredraw        nomodified            printoptions=       shelltemp         nosplitright          thesaurus=          virtualedit=        write
  backupext=~         completefunc=       display=            foldlevelstart=-1   icon              nolinebreak           more                prompt              shellxquote=        startofline       notildeop           novisualbell        nowriteany
  balloondelay=600  noconfirm             eadirection=both    foldmethod=manual   iconstring=         lines=84            mouse=a             pumheight=0       noshiftround          suffixesadd=        timeout             warn                writebackup
noballooneval       nocopyindent        noedcompatible        foldminlines=1    noignorecase          linespace=0       nomousefocus          quoteescape=\       shiftwidth=4        swapfile            timeoutlen=1000   noweirdinvert         writedelay=0
  balloonexpr=        cpoptions=aABceFs   encoding=utf-8      foldnestmax=20    noimcmdline         nolisp                mousehide         noreadonly          noshortname           swapsync=fsync      title               whichwrap=b,s
nobinary              cryptmethod=zip     endofline           formatexpr=         imdisable         nolist                mousetime=500       redrawtime=2000     showbreak=          switchbuf=          titlelen=85         wildchar=<Tab>
nobomb                cscopepathcomp=0    equalalways         formatoptions=tcq   iminsert=2          listchars=eol:$     number            norelativenumber      showcmd             synmaxcol=3000      titlestring=        wildcharm=0
  browsedir=last      cscopeprg=cscope    equalprg=           formatprg=          imsearch=2          loadplugins         numberwidth=4       remap             noshowfulltag         syntax=             transparency=0      wildignore=
  backspace=indent,eol,start
  backupdir=.,~/tmp,~/
  backupskip=/tmp/*,/var/folders/70/f8c54mjn4vg_wztz9bd17lp40000gn/T/*
  breakat= ^I!@*-+;:,./?
  casemap=internal,keepascii
  cinkeys=0{,0},0),:,0#,!^F,o,O,e
  cinwords=if,else,while,do,for,switch
  clipboard=autoselect
  comments=s1:/*,mb:*,ex:*/,://,b:#,:%,:XCOMM,n:>,fb:-
  commentstring=/*%s*/
  complete=.,w,b,u,t,i
  completeopt=menu,preview
  define=^\s*#\s*define
  directory=.,~/tmp,/var/tmp,/tmp
  errorfile=errors.err
  errorformat=%*[^"]"%f"%*\D%l: %m,"%f"%*\D%l: %m,%-G%f:%l: (Each undeclared identifier is reported only once,%-G%f:%l: for each function it appears in.),%-GIn file included from %f:%l:%c:,%-GIn file included from %f:%l:%c\,,%-GIn file included from %f:%l:%c,%-GIn file
 included from %f:%l,%-G%*[ ]from %f:%l:%c,%-G%*[ ]from %f:%l:,%-G%*[ ]from %f:%l\,,%-G%*[ ]from %f:%l,%f:%l:%c:%m,%f(%l):%m,%f:%l:%m,"%f"\, line %l%*\D%c%*[^ ] %m,%D%*\a[%*\d]: Entering directory `%f',%X%*\a[%*\d]: Leaving directory `%f',%D%*\a: Entering directory `%f
',%X%*\a: Leaving directory `%f',%DMaking %*\a in %f,%f|%l| %m
  fileencodings=ucs-bom,utf-8,default,latin1
  fileformats=unix,dos
  fillchars=vert:|,fold:-
  foldmarker={{{,}}}
  foldopen=block,hor,mark,percent,quickfix,search,tag,undo
  foldtext=foldtext()
  formatlistpat=^\s*\d\+[\]:.)}\t ]\s*
  fuoptions=maxvert,maxhorz
  grepformat=%f:%l:%m,%f:%l%m,%f  %l%m
  grepprg=grep -n $* /dev/null
  guicursor=n-v-c:block-Cursor/lCursor,ve:ver35-Cursor,o:hor50-Cursor,i-ci:ver25-Cursor/lCursor,r-cr:hor20-Cursor/lCursor,sm:block-Cursor-blinkwait175-blinkoff150-blinkon175
  guioptions=egmrLtT
  helpfile=/Applications/MacVim.app/Contents/Resources/vim/runtime/doc/help.txt
  highlight=8:SpecialKey,@:NonText,d:Directory,e:ErrorMsg,i:IncSearch,l:Search,m:MoreMsg,M:ModeMsg,n:LineNr,r:Question,s:StatusLine,S:StatusLineNC,c:VertSplit,t:Title,v:Visual,V:VisualNOS,w:WarningMsg,W:WildMenu,f:Folded,F:FoldColumn,A:DiffAdd,C:DiffChange,D:DiffDelete
,T:DiffText,>:SignColumn,-:Conceal,B:SpellBad,P:SpellCap,R:SpellRare,L:SpellLocal,+:Pmenu,=:PmenuSel,x:PmenuSbar,X:PmenuThumb,*:TabLine,#:TabLineSel,_:TabLineFill,!:CursorColumn,.:CursorLine,o:ColorColumn
  include=^\s*#\s*include
  indentkeys=0{,0},:,0#,!^F,o,O,e
  isfname=@,48-57,/,.,-,_,+,,,#,$,%,~,=
  isident=@,48-57,_,192-255
  iskeyword=@,48-57,_,192-255
  lispwords=defun,define,defmacro,set!,lambda,if,case,let,flet,let*,letrec,do,do*,define-syntax,let-syntax,letrec-syntax,destructuring-bind,defpackage,defparameter,defstruct,deftype,defvar,do-all-symbols,do-external-symbols,do-symbols,dolist,dotimes,ecase,etypecase,eva
l-when,labels,macrolet,multiple-value-bind,multiple-value-call,multiple-value-prog1,multiple-value-setq,prog1,progv,typecase,unless,unwind-protect,when,with-input-from-string,with-open-file,with-open-stream,with-output-to-string,with-package-iterator,define-condition,h
andler-bind,handler-case,restart-bind,restart-case,with-simple-restart,store-value,use-value,muffle-warning,abort,continue,with-slots,with-slots*,with-accessors,with-accessors*,defclass,defmethod,print-unreadable-object
  matchpairs=(:),{:},[:]
  maxmempattern=1000
  mkspellmem=460000,2000,500
  mousemodel=popup_setpos
  mouseshape=i-r:beam,s:updown,sd:udsizing,vs:leftright,vd:lrsizing,m:no,ml:up-arrow,v:rightup-arrow
  nrformats=octal,hex
  paragraphs=IPLPPPQPP TPHPLIPpLpItpplpipbp
  path=.,/usr/include,,
  printexpr=system('open -a Preview '.v:fname_in) + v:shell_error
  printheader=%<%f%h%m%=Page %N
  rightleftcmd=search
  runtimepath=~/.vim,/Applications/MacVim.app/Contents/Resources/vim/vimfiles,/Applications/MacVim.app/Contents/Resources/vim/runtime,/Applications/MacVim.app/Contents/Resources/vim/vimfiles/after,~/.vim/after
  scrollopt=ver,jump
  sections=SHNHH HUnhsh
  selection=inclusive
  sessionoptions=blank,buffers,curdir,folds,help,options,tabpages,winsize
  shellpipe=2>&1| tee
  shellredir=>%s 2>&1
  shortmess=filnxtToO
  spellcapcheck=[.?!]\_[\])'"^I ]\+
  statusline=%F%m%r%h%w[%L][%{&ff}]%y[%p%%][%04l,%04v]
  suffixes=.bak,~,.o,.h,.info,.swp,.obj
  termencoding=utf-8
  titleold=Thanks for flying Vim
  toolbar=icons,tooltips
  toolbariconsize=small
  ttytype=builtin_gui
  viewdir=~/.vim/view
  viewoptions=folds,options,cursor
  viminfo='100,<50,s10,h 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-16T08:05:50.810

那应该做的工作：

```
%s/\v(\w+).*/'\1': \1, 
```

我认为您的查询不起作用，因为`+`符号之前需要斜杠`\`。在我的查询中，我使用了`\v`允许我跳过一些斜杠的“非常神奇”选项。

看`:h /magic`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-16T05:23:04.950

```
:s/^\([^ ]*\) .*$/'\1': \1,/ 
```

匹配部分从行首开始，捕获一系列非空白，然后是未捕获的空白和其他任何内容。替换部分以引号、您记住的内容、引号、冒号、空格、您再次记住的内容和逗号开头。

* * *

### 不同的行为`vim`

> 奇怪，反斜杠`(`甚至`)`不匹配我的 VIM 中的任何内容，即 MacVim 快照 64（尽管它仍然说它是 Bram Moolenar 的 7.3.390）。使用`\v`@Tassos 的答案似乎有效。

在 Mac OS X 10.7.4 上，我使用`vim`from `/usr/bin`which 将自己标识为：

```
VIM - Vi IMproved 7.3 (2010 Aug 15, compiled Jun 24 2011 20:00:09)
Compiled by root@apple.com
Normal version without GUI.  Features included (+) or not (-):
-arabic +autocmd -balloon_eval -browse +builtin_terms +byte_offset +cindent 
-clientserver -clipboard +cmdline_compl +cmdline_hist +cmdline_info +comments 
-conceal +cryptv +cscope +cursorbind +cursorshape +dialog_con +diff +digraphs 
-dnd -ebcdic -emacs_tags +eval +ex_extra +extra_search -farsi +file_in_path 
+find_in_path +float +folding -footer +fork() -gettext -hangul_input +iconv 
+insert_expand +jumplist -keymap -langmap +libcall +linebreak +lispindent 
+listcmds +localmap -lua +menu +mksession +modify_fname +mouse -mouseshape 
-mouse_dec -mouse_gpm -mouse_jsbterm -mouse_netterm -mouse_sysmouse 
+mouse_xterm +multi_byte +multi_lang -mzscheme +netbeans_intg -osfiletype 
+path_extra -perl +persistent_undo +postscript +printer -profile -python 
-python3 +quickfix +reltime -rightleft -ruby +scrollbind +signs +smartindent 
-sniff +startuptime +statusline -sun_workshop +syntax +tag_binary 
+tag_old_static -tag_any_white -tcl +terminfo +termresponse +textobjects +title
 -toolbar +user_commands +vertsplit +virtualedit +visual +visualextra +viminfo 
+vreplace +wildignore +wildmenu +windows +writebackup -X11 -xfontset -xim -xsmp
 -xterm_clipboard -xterm_save 
   system vimrc file: "$VIM/vimrc"
     user vimrc file: "$HOME/.vimrc"
      user exrc file: "$HOME/.exrc"
  fall-back for $VIM: "/usr/share/vim"
Compilation: gcc -c -I. -D_FORTIFY_SOURCE=0 -Iproto -DHAVE_CONFIG_H -arch i386 -arch x86_64 -g -Os -pipe
Linking: gcc -arch i386 -arch x86_64 -o vim -lncurses 
```

我也在`vim`Linux 机器上使用，它的行为与 wrt 正则表达式相同。其中一个版本将其自身标识为：

```
VIM - Vi IMproved 7.0 (2006 May 7, compiled Nov  5 2008 11:07:46)
Included patches: 1, 3-4, 7-9, 11, 13-17, 19-26, 29-31, 34-44, 47, 50-56, 58-64, 66-73, 75, 77-92, 94-107, 109, 202, 234-235, 237
Modified by <bugzilla@redhat.com>
Compiled by <bugzilla@redhat.com>
Huge version without GUI. 
```

我不确定是否有任何值得展示的东西`:set all`。这是 Mac 版 Vim 的输出：

```
 ambiwidth=single    foldclose=          omnifunc=           syntax=
noautochdir           foldcolumn=0        operatorfunc=       tabline=
  autoindent          foldenable        nopaste               tabpagemax=10
  autoprint           foldexpr=0          pastetoggle=        tabstop=4
noautoread            foldignore=#        patchexpr=          tagbsearch
noautowrite           foldlevel=0         patchmode=          taglength=0
noautowriteall        foldlevelstart=-1 nopreserveindent      tagrelative
  background=light    foldmethod=manual   previewheight=12    tags=./tags,tags
  backspace=2         foldminlines=1    nopreviewwindow       tagstack
nobackup              foldnestmax=20      printdevice=        term=xterm-color
  backupcopy=auto     formatexpr=         printencoding=      termencoding=
  backupext=~         formatoptions=tcq   printfont=courier noterse
nobeautify            formatprg=          printmbcharset=     textauto
nobinary              fsync               printmbfont=      notextmode
nobomb              nogdefault            printoptions=       textwidth=0
  bufhidden=          helpheight=20       prompt              thesaurus=
  buflisted           helplang=en         pumheight=0       notildeop
  buftype=          nohidden              quoteescape=\       timeout
  cedit=^F            history=20        noreadonly            timeoutlen=1000
  charconvert=      nohlsearch            redrawtime=2000   notitle
nocindent           noicon              norelativenumber      titlelen=85
  cinoptions=         iconstring=         remap               titlestring=
  cmdheight=1       noignorecase          report=2          nottimeout
  cmdwinheight=7      iminsert=0        noruler               ttimeoutlen=-1
  colorcolumn=        imsearch=0          rulerformat=        ttybuiltin
  columns=80          includeexpr=        scroll=32           ttyfast
nocompatible        noincsearch         noscrollbind          ttymouse=xterm
  completefunc=       indentexpr=         scrolljump=1        ttyscroll=999
noconfirm           noinfercase           scrolloff=0         undodir=.
nocopyindent        noinsertmode        nosecure            noundofile
  cpoptions=aABceFs   isprint=@,161-255   selectmode=         undolevels=1000
  cryptmethod=zip     joinspaces          shell=/bin/sh       undoreload=10000
  cscopepathcomp=0    key=                shellcmdflag=-c     updatecount=200
  cscopeprg=cscope    keymodel=           shellquote=         updatetime=4000
  cscopequickfix=     keywordprg=man -s   shelltemp           verbose=0
nocscopetag           langmenu=           shellxquote=        verbosefile=
  cscopetagorder=0    laststatus=1      noshiftround          virtualedit=
nocscopeverbose     nolazyredraw          shiftwidth=4      novisualbell
nocursorbind        nolinebreak         noshortname           warn
nocursorcolumn        lines=66            showbreak=        noweirdinvert
nocursorline        nolisp              noshowcmd             whichwrap=b,s
  debug=            nolist              noshowfulltag         wildchar=<Tab>
nodelcombine          listchars=eol:$     showmatch           wildcharm=0
  dictionary=         loadplugins         showmode            wildignore=
nodiff                magic               showtabline=1     nowildmenu
  diffexpr=           makeef=             sidescroll=0        wildmode=full
  diffopt=filler      makeprg=make        sidescrolloff=0     wildoptions=
nodigraph             matchtime=5       nosmartcase           window=0
  directory=/tmp      maxcombine=2      nosmartindent         winheight=1
  display=            maxfuncdepth=100  nosmarttab          nowinfixheight
  eadirection=both    maxmapdepth=1000    softtabstop=0     nowinfixwidth
noedcompatible        maxmem=450298     nospell               winminheight=1
  encoding=utf-8      maxmemtot=450298    spellfile=          winminwidth=1
  endofline           menuitems=25        spelllang=en        winwidth=20
  equalalways         modeline            spellsuggest=best   wrap
  equalprg=           modelines=0       nosplitbelow          wrapmargin=0
noerrorbells          modifiable        nosplitright          wrapscan
  esckeys           nomodified            startofline         write
  eventignore=        more                statusline=       nowriteany
  expandtab           mouse=              suffixesadd=        writebackup
noexrc                mousemodel=extend   swapfile            writedelay=0
  fileencoding=       mousetime=500       swapsync=fsync
  fileformat=unix     number              switchbuf=
  filetype=           numberwidth=4       synmaxcol=3000 
```

您描述的行为听起来好像正在使用 PCRE（Perl 兼容的正则表达式）。也许`-perl`配置中的相关在那里。我在显示的设置中看不到任何可能改变正则表达式模式的东西。也许你可以运行你的 MacVim 并`macvim --version`显示`: set all`. 哦，drat，您没有足够的权限将它们编辑到此消息中。我找到了一个 80 列的窗口，可用于显示`:set all`信息并粘贴到 SO；我通常使用 120 列窗口。

请在我的个人资料中找到我的电子邮件并将数据发送给我。我很想知道 MacVim 设置有什么不同（如果我有时间使用它，我可以将它们设置回“正常”）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-16T05:16:06.813

来自 vimregex.com：

> 您可以将模式表达式的一部分用“(”和“)”括起来，并在替换模式中通过它们的特殊编号 \1、\2 ... \9 来引用它们。典型示例是交换该行的前两个单词：
> 
> s:(\w+)(\s+)(\w+):\3\2\1:
> 
> 其中 \1 保存第一个单词，\2 - 中间的任意数量的空格或制表符，\3 - 第二个单词。如何决定哪个数字持有哪对 () ？- 从左边开始计数“（”。

# animation - 等待 UIView 动画循环完成的最佳方法是什么？

> ID：10612389
> 
> 赞同：2
> 
> 时间：2012-05-16T05:12:43.643
> 
> 标签：animation, uiview, core-animation, uiviewanimation, catransaction

我正在尝试循环多个`UIViews`并在每个上执行动画，但我想知道所有动画何时完成。动画循环完成后调用函数的最佳方法是什么？或者，有没有办法等到一切都完成？

我尝试使用`setAnimationDidStopSelector`，但它不会触发。在这种情况下，我通过让它们淡出然后被移除来清除游戏板上的一些“筹码”（NumberedChipView 是 UIView 的子类）。在筹码离开棋盘之前，游戏无法继续。

```
[UIView beginAnimations:nil context:nil]; 
[UIView setAnimationDelegate: self];
[UIView setAnimationDidStopSelector:@selector(animationDidStop)]; 

// clear chips 
for (HexagonalTile *aTile in tilesToClear) {

    NumberedChipView *chipView = [self chipViewForColumn:aTile.column andRow:aTile.row];

    [UIView animateWithDuration:0.5 delay:0.3 options:UIViewAnimationCurveLinear animations:^{
        chipView.alpha = 0.0; 
    } 
        completion:^(BOOL finished){

         if (finished) {

             [chipView removeFromSuperview]; 
             [self.chipViews removeObject:chipView];

         }
     }]; 
}

[UIView commitAnimations]; 
```

我也试过`CATransaction`无济于事：

```
[CATransaction begin];  

[CATransaction setCompletionBlock:^{
    [self animationFinished]; 
}];  

// clear chips 
for (HexagonalTile *aTile in tilesToClear) {

    NumberedChipView *chipView = [self chipViewForColumn:aTile.column andRow:aTile.row];

    [UIView animateWithDuration:0.5 delay:0.3 options:UIViewAnimationCurveLinear animations:^{
        chipView.alpha = 0.0; 
    } 
        completion:^(BOOL finished){

         if (finished) {

             [chipView removeFromSuperview]; 
             [self.chipViews removeObject:chipView];

             //NSLog(@"clearing finished"); 
         }
     }]; 
}

[CATransaction commit]; 
```

**更新：**

我现在可以让选择器触发，但它不会等待动画循环完成。

```
[UIView setAnimationDidStopSelector:@selector(animationDidStop:finished:)]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-17T23:21:43.467

您的 for 循环以相同的延迟和持续时间触发所有动画，因此它们将同时开始和结束。

您的完成方法将为您的每个动画调用一次。

您可以稍微重写您的代码以在进入循环之前将计数器设置为零，并在每一步之后将其递增。当索引小于数组计数时，传递一个 nil 完成块。一旦索引 == 数组计数，您就位于最后一项，因此请传入一个完成块，其中包含您想要在最后一个动画完成后调用的代码。

请注意，您可以使用这种索引方法使每个动画在不同的时间开始，方法是根据索引值增加延迟量：

```
delay = .3 + (0.5 * index); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-20T07:17:35.300

这就是最终为我工作的东西。我意识到 UIView animateWithDuration 方法没有与开始/提交部分相关联。相反，开始/提交部分标记了“隐式”动画操作的区域，所以我可以只设置动画中的属性，它会被隐式动画。

例如，在下面的动画中，我简单地将chipView 的alpha 属性设置为“0.0”，并且chipView（一个UIView）被隐式动画化为消失。

```
[UIView beginAnimations:@"tilescleared" context:nil]; 
[UIView setAnimationDelegate: self];
[UIView setAnimationDelay:0.3]; 
[UIView setAnimationDuration:0.5]; 
[UIView setAnimationDidStopSelector:@selector(animationDidStop:finished:context:)]; 

for (HexagonalTile *aTile in tilesToClear) {

    NumberedChipView *chipView = [self chipViewForColumn:aTile.column andRow:aTile.row];

    chipView.alpha = 0.0; 

}

[UIView commitAnimations]; 
```

然后，在我的 animationDidStop 方法中，我执行“清理”并从超级视图中移除和筹码。这个 animationDidStop 方法只有在循环中的所有 chipView 动画都完成时才会被触发，这是我试图弄清楚的棘手问题。

```
- (void)animationDidStop:(NSString *)animationID finished:(NSNumber *)finished context:(void *)context 
{

    if ([animationID isEqualToString:@"tilescleared"]
                  && [finished boolValue]) {

       for (HexagonalTile *aTile in self.animationInfo.tilesToClear) {

           NumberedChipView *chipView = [self chipViewForColumn:aTile.column andRow:aTile.row];

           [chipView removeFromSuperview]; 
           [self.chipViews removeObject:chipView];
       }

   }

} 
```

# redirect - 绝对网址的基本网址重定向

> ID：10612391
> 
> 赞同：4
> 
> 时间：2012-05-16T05:12:44.427
> 
> 标签：redirect, url-rewriting, base

我正在处理一个烦人的问题。我必须对一个大型网站进行一些更改，该网站的源代码不受我控制（分包）。通常我会尝试重建站点的本地副本以测试我的更改。现在的问题是，几乎所有在 URL 中用于图像、css、链接等的路径都是指向根目录的相对路径，例如

href="/style/main.css"

这是一个问题，因为我是在内网服务器上开发的，并且我把这个项目放到了一个嵌套目录中，所以项目文件的 URL 是 sth。像

[http://myIntranet.com/checkout/project](http://myIntranet.com/checkout/project)

发生的情况是第一个示例中的路径无法正确解析。所以我尝试使用基本标签来设置链接应该被解析为的目录

当路径为

href="样式/main.css"

开始时没有斜杠，但是当斜杠存在时失败，因为（我认为）链接是从服务器主机解析的，而不是从标签中的 URI 解析的。

那么......是否有可能使“/dir/file.html”链接从根目录而不是服务器根目录解析？还是我必须手动从路径中删除所有前置斜杠（呃）？

提前致谢。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:21:38.860

如果您在网站上进行本地开发，您可以执行以下任一操作。两者都涉及将您的项目移动到基本文件夹中，而不是使用文档根目录中的子文件夹。

**不同端口上的虚拟主机**

在您的 Web 服务器中，创建另一个[侦听端口](http://httpd.apache.org/docs/2.0/mod/mpm_common.html#listen)和[虚拟主机](http://httpd.apache.org/docs/2.0/vhosts/examples.html)。

`http://localhost:81`重新启动后，您可以使用您选择的任何端口号访问您的 Web 服务器。

**同一端口上的虚拟主机**

只创建另一个虚拟主机（如上），但确保使用命名虚拟主机。

重新启动后，您必须使用简单的文本编辑器在主机文件（`c:\windows\system32\drivers\etc\hosts`或）中添加另一个条目：`/etc/hosts`

```
127.0.0.1 localhost myproject1.self.com 
```

上面的行应该已经存在，所以你可以继续添加更多的名字：

```
127.0.0.1 localhost myproject1.self.com myproject2.self.com 
```

**个人喜好**

我喜欢第二个选项，因为我不必弄乱端口，Facebook API 之类的东西可以按您的预期继续工作。

我希望这一切都有意义，否则请告诉我。

# iphone - 在 rootViewController 以外的 UIViewController 上添加 UITabBarController 或类似的用户界面视图

> ID：10612392
> 
> 赞同：2
> 
> 时间：2012-05-16T05:12:47.730
> 
> 标签：iphone, objective-c, xcode, uitabbarcontroller, uitabbar

我正在尝试创建一个应用程序，该应用程序从 rootViewController 导航到 nextViewController ，`UINavigationBar`它`UITabBarController`与几个. 所以请建议。对于编程和使用 Interface Builder 的建议将不胜感激。谢谢`UIView``UITabBar``UITabBarItems`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T10:02:56.700

如果您阅读 Apple 的文档，您会发现很明显 Apple 认为 UITabBarController 应该只用作根视图控制器。

我相信例外情况可能是您在进入应用程序之前已经说过用于登录的临时视图控制器。

如果您希望在基于 navigationController 的应用程序中使用 tabBarController 类型的行为，那么您可能应该在 UINavigationController 中使用带有 UIToolBars 的 UIViewControllers 而不是 UITabBarController。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-17T12:02:19.530

我认为[这篇](http://idevrecipes.com/2010/12/16/raised-center-tab-bar-button/)文章可以帮助你。我正在尝试用 Storyboard 做一个自定义标签栏（如foursquare）......

# .net - Eftpos Hypercom T4220 .net 集成

> ID：10612400
> 
> 赞同：1
> 
> 时间：2012-05-16T05:13:53.423
> 
> 标签：.net, serial-port, hex, ascii

我正在尝试编写一个应用程序以通过.NET 中的串行向 Eftpos Hypercom T4220 发送信息。

我曾尝试在控制台测试应用程序中使用串行端口发送信息并获得任何响应但无济于事 -

```
_port = new SerialPort("COM1", 9600, Parity.None, 8, StopBits.One);
_port.DataReceived += new SerialDataReceivedEventHandler(port_DataReceived);
_port.ErrorReceived += new SerialErrorReceivedEventHandler(port_ErrorReceived);
_port.Handshake = Handshake.None;
_port.Encoding = Encoding.ASCII;
_port.Open();
_port.Write("test"); 
```

处理程序没有收到任何消息，我也尝试过发送字节，上面的端口配置附带了一些模型文档。

该文档还声明它需要发送一个开始代码（0x02），然后是消息，然后是结束代码（0x03）。

以前有没有人有过这些运气？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:42:18.330

你如何将 HexString 转换为字节？你需要在 _port.Write() 函数之前完成它！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:47:04.333

另外，您还应该定义要发送到串行机器的字节的偏移量和长度，因为大多数机器都需要这些信息。

# c# - 在 C# 中，如何使用 Excel 互操作来加快写入多个单元格值

> ID：10612402
> 
> 赞同：8
> 
> 时间：2012-05-16T05:14:00.600
> 
> 标签：c#, excel, range, sparse-matrix

我有一个硬件，我得到了 30 个数据点。在使工作表可见之前，这些点中的每一个都记录在电子表格中的几个不同位置，然后另一个程序接管 excel 电子表格。需要在其他程序接管之前将所有这些值写入电子表格。如果我单独写入每个单元格，则写入大约需要 50 毫秒，完成数据采集大约需要 1.25 秒。

如果我可以一次将所有值写入电子表格，我觉得这将显着加快所有这些单元格的写入速度。我看到的问题是 Ranges 非常适合更新我的数据不连续的连续单元格。本质上，这将是我想写的一个例子：
A1 = 1
B23 = a
F8 =
2012/12/25 D53 = 4.1235
B2 = 5

我尝试创建一个范围为“A1、B23、F8、D53、B2”，然后使用值数组设置值。我尝试了 3 个不同的数组：object[5]、object[1,5] 和 object[5,1]。这些都将范围内指定单元格的值设置为我在所有情况下创建的数组的第一个索引。

有没有一种方法可以更新这 30 个单元格数据，而无需一次遍历一个单元格？

谢谢，汤姆

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T03:04:42.963

如果您的架构允许，另一个想法是使用具有连续矩形范围的隐藏工作表，为其部分设置名称并在所有其他工作表上使用这些名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:36:55.003

我将定义一个矩形范围对象，其中包括要修改其值的所有单元格。`object[,]`从该范围的 value 属性中获取一个矩形数组。将新值写入数组，然后使用修改后的数组设置范围的值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-08T15:01:51.357

您可以将值写入位于某处的连续单元格，例如在 X 列中，并在目标单元格中​​包含引用这些更新单元格的公式。因此单元格 A1 将具有公式“=X1”，单元格 B23 将具有公式“=X2”，依此类推。

# ruby-on-rails - Rails 3.2嵌套表单未显示

> ID：10612404
> 
> 赞同：1
> 
> 时间：2012-05-16T05:14:49.700
> 
> 标签：ruby-on-rails, ruby-on-rails-3, associations, nested-attributes, simple-form

无论我做什么，我的朋友嵌套表单字段都不会显示..我相信正确设置了accepts_nested_attributes？..

```
 views/user_steps/show.html.erb

    <%= simple_form_for @user do |f| %>

    <%= f.input :city %>
    <%= f.input :address %>
    <%= f.input :zipcode %>
    <%= f.input :date_of_birth %>
    <%= f.input :gender, :collection => ['male','female'] %>

    <%= f.association :interests, :as => :check_boxes, :label => false %>

    <%= f.association :holidays, :as => :check_boxes, :label => false %>

    <%= f.simple_fields_for :friends do |friend_f| %>
    <%= friend_f.input :name %>
    <%= friend_f.input :dob %>
    <%= friend_f.input :gender %>
     <% end %>

    <%= f.button :submit %>
    <%end%>

class UserStepsController < ApplicationController

  def show
    @user = current_user 
  end

  def update
    @user = current_user
    @user.attributes = params[:user]
    @friend = Friend.new(params[:friend])
  end

  def new
    @user = User.new
    @user.build_friend
  end

end

class UsersController < ApplicationController
  before_filter :authenticate_user!

  def index
    authorize! :index, @user, :message => 'Not authorized as an administrator.'
    @users = User.paginate(:page => params[:page])
  end

  def show
    @user = User.find(params[:id])
  end
  def create
    @user = User.new(params[:user])

    respond_to do |format|
      if @user.save
        format.html { redirect_to @user, notice: 'Friend birthday(1) was successfully created.' }
        format.json { render json: @user, status: :created, location: @user }
      else
        format.html { render action: "new" }
        format.json { render json: @user.errors, status: :unprocessable_entity }
      end
    end
  end

  def update
    @user = User.find(params[:id])

     respond_to do |format|
      if @user.update_attributes(params[:user])
        format.html { redirect_to @user, notice: 'User was successfully updated.' }
        format.json { head :no_content }
      else
        format.html { render action: "edit" }
        format.json { render json: @user.errors, status: :unprocessable_entity }
      end
    end
  end

  # DELETE /users/1
  # DELETE /users/1.json
  def destroy
    @user = User.find(params[:id])
    @user.destroy

    respond_to do |format|
      format.html { redirect_to users_url }
      format.json { head :no_content }
    end
  end
end

class User < ActiveRecord::Base
  attr_accessible :name, :email, :password, :password_confirmation, :interests_attributes, :remember_me, :city, :zipcode, :date_of_birth, :gender, :address, :interest_ids, :holiday_ids
  has_and_belongs_to_many :holidays
  has_and_belongs_to_many :interests
  has_many :friends
  accepts_nested_attributes_for :friends,  allow_destroy: true
  accepts_nested_attributes_for :interests, allow_destroy: true
  accepts_nested_attributes_for :holidays, allow_destroy: true

class Friend < ActiveRecord::Base
  belongs_to :user
  attr_accessible :dob, :gender, :name
end 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-16T05:17:34.780

我的猜测是`@user`没有朋友，所以没有什么可以渲染的。

如果这是创建一个新用户，并且您希望他们也能够填写他们的朋友，请做一个`@user.friends.build`地方，这将为他们添加一个空朋友，并且应该允许嵌套字段呈现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-25T00:36:48.040

我在网上多次找到这个答案。我正在使用 ruby​​-2.2.0 和 rails 4.2.0。我想知道这是否已经改变，或者它是否是我特有的。

我不得不使用。 `@user.build_friends`

# bash - 为什么 wget 给我两个不同的总下载时间？

> ID：10612406
> 
> 赞同：5
> 
> 时间：2012-05-16T05:14:53.503
> 
> 标签：bash, time, download, wget

的最后 3 行`wget -i urls.txt`：

```
FINISHED --2012-05-16 12:58:08--
Total wall clock time: 1h 56m 52s
Downloaded: 1069 files, 746M in 1h 52m 49s (113 KB/s) 
```

有两个不同的时间：

```
1h 56m 52s
1h 52m 49s 
```

为什么它们不同？他们代表什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T07:53:10.413

挂钟时间或实时时间是人类对时间流逝的感知。那将是作为人类用户的时间，我们将体验到什么。在这种情况下，wget 完成其工作所花费的时间可能少于实际时间，但实际时间是软件完成其实际工作所花费的时间与它等待硬盘、网络等资源的时间之和。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-16T07:40:59.923

当您有挂钟时间和更短的时间时，更短的时间通常是用户时间和缺少的时间系统时间（在内核中花费的时间）或等待文件描述符之类的时间。（但我还没有检查 wget 的情况）。如果你好奇开始`time wget http://some.url`或查看`/proc/<wget-pid>/stat`它的运行情况（假设你在 linux 上运行）。

# php - PHP 安全登录/注销：注销问题

> ID：10612411
> 
> 赞同：1
> 
> 时间：2012-05-16T05:15:34.763
> 
> 标签：php, mysql, login, logout

我有一个 PHP 登录/注销系统。注销的代码如下：

```
if($_POST['submit']=='logOut')
{
    setcookie('userName','', time()-60*60*24*100);
    setcookie('login','', time()-60*60*24*100);
    header("Location: index.php");
    exit;
} 
```

正在通过以下方式检查用户的登录状态：

```
<?php
if(!$_COOKIE['login']):
// If you are not logged in
?> 
```

据我所知，这应该将用户注销，但似乎没有这样做。该站点可以在 novabvuild.comlu.com 查看，并且可以使用默认登录信息（admin、admin）。这样大家就可以看到问题了。登录似乎工作正常，但注销运行不正常。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:26:39.430

尝试添加路径：

```
setcookie("userName", "", mktime(12,0,0,1, 1, 1970), "/"); 
```

你也可能逃脱：`unset($_COOKIE['cookieName']);`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:27:15.723

尝试：

```
unset($_COOKIE[login]) and unset($_COOKIE[userName]) 
```

或者

```
setcookie("login") and setcookie("userName") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T05:35:58.980

使用会话而不是 cookie，在用户登录时设置会话，在用户注销时取消设置/销毁会话

```
if($_POST['submit']=='logOut')
{
    unset($_SESSION['userName']);
    unset($_SESSION['login']);
    header("Location: index.php");
    exit;
}
else if($_POST['submit']=='login')
{
    $_SESSION['userName']=$userName;
    $_SESSION['login']=$login;
} 
```

希望这会帮助你。

# dependencies - 了解终止

> ID：10612413
> 
> 赞同：2
> 
> 时间：2012-05-16T05:16:04.263
> 
> 标签：dependencies, terminate, termination

我正在阅读一篇论文“Termination of term rewriting using dependency pairs”（Thomas Arts，Jurgen Giesl）。在示例中：

```
minus (x,0) -> x
minus (s(x), s(y)) -> minus (x,y)
quot (0, s(y)) -> 0
quote (s(x), s(y)) -> s (quot (minus (x, y), s(y))) 
```

它说： ”`However, the TRS above is not compatible with a simplification ordering, because the left-hand side of the last quot-rule is embedded in its right-hand side if y is instantiated with s (x). Therefore these techniques cannot prove termination of this TRS"`

我不明白“ `if y is instantiated with s (x)`”。如果可能的话，你能帮我理解吗？PS：如果这边不是问这种问题的地方，请你帮我知道我在哪里可以问？非常感谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:22:47.637

对我来说听起来也有点奇怪，但是，如果我是你，我会直接联系 J. Giesl 在他的网站上进行澄清。verify.rwth-aachen.de/giesl
你的文章有任何联系信息吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T15:39:14.627

我是 Jürgen Giesl 小组的博士生，让我们看看 :)

考虑一下您使用 term “到达”此规则的情况`quot(s(x), s(s(x))`。这正是“如果 y 用 s(x) 实例化”这句话的意思。

然后可以应用规则，给出`s(quot(minus(x, s(x)), s(s(x))))`. 如您所见，原始术语嵌入在结果术语中（阅读：仅考虑子术语可以产生原始术语）。在这种情况下，不能使用简化顺序来证明终止（但依赖对有帮助）。

供将来参考：我们很乐意回答此类问题，请不要犹豫直接与我们联系！

# php - 使用 php 将包含多字节内容（阿拉伯语和日语）的 csv 导入 mysql 表

> ID：10612415
> 
> 赞同：1
> 
> 时间：2012-05-16T05:16:25.403
> 
> 标签：php, mysql, csv, multibyte

使用 php 导入包含多字节内容（阿拉伯语和日语）的 csv。php 的 fgetcsv() 与多字节字符串（如（阿拉伯语、韩语）不兼容）。php中是否有其他可用的函数/方法在这种情况下会有所帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T06:20:23.987

您是否尝试过切换 setlocale()？[http://au2.php.net/manual/en/function.setlocale.php](http://au2.php.net/manual/en/function.setlocale.php)

这应该将语言环境转换为适当的语言并正确读取 csv。

（未经测试 - 但这就是手册中所说的！）

# java - 在 JNI 中通过引用传递原始数据类型

> ID：10612418
> 
> 赞同：3
> 
> 时间：2012-05-16T05:16:45.810
> 
> 标签：java, c, java-native-interface

我是一名嵌入式 C 程序员，正在使用 JNI 将我用本机 C/C++ 编写的代码与 Java 集成。我很想知道原始 data_type 是否可以通过引用传递？我指的是这个链接[http://java.sun.com/docs/books/jni/html/objtypes.html#5279](http://java.sun.com/docs/books/jni/html/objtypes.html#5279) 这对我的事业没有帮助。

基本上我想要实现的是这样的： // 获取由本地调用更新的 val int nativeFunc(short val); Java函数：

```
class main
{
   short val;
   val = 0;
   nativeFunc(val);
   System.out.println(val)
}

int nativeFunc(short val)
{
   // Code to update OUt param val
   // Need this portion
} 
```

我不知道这是不是一个非常简单的答案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T06:45:32.070

Java 始终是按值传递的。有关讨论，请参阅[Java 是“按引用传递”还是“按值传递”？](https://stackoverflow.com/questions/40480/is-java-pass-by-reference)

您可以从函数中*返回*修改后的原语，也可以将其更改为获取包含原语*的对象。*

# jquery - jQuery数字上下滚动效果

> ID：10612420
> 
> 赞同：1
> 
> 时间：2012-05-16T05:16:54.177
> 
> 标签：jquery, jquery-effects

如何开发这样的效果
[http://www.yourmoneysite.com/companies/asian-paints-ltd/ASIANPAINT](http://www.yourmoneysite.com/companies/asian-paints-ltd/ASIANPAINT)

当值发生变化时，数字会上下滚动

谢谢，新泽西州

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:22:44.683

看到这个，它和你想要的东西有多么相似

[http://bloggingsquared.com/jquery/flipcounter/](http://bloggingsquared.com/jquery/flipcounter/)

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js" type="text/javascript"></script>
<script src="js/jquery.easing.1.3.js" type="text/javascript"></script>
<script src="js/jquery.flipCounter.1.2.pack.js" type="text/javascript">

</script>

 $("selector").flipCounter(); 
```

# silverlight - Silverlight/XNA 数据绑定异常

> ID：10612423
> 
> 赞同：2
> 
> 时间：2012-05-16T05:17:24.190
> 
> 标签：silverlight, data-binding, xna, scoreloop

我必须以免责声明开头。我是一名新手程序员，我已经尝试自己解决这个问题好几天了，但现在已经完全用完了想法/博客文章/演练和其他来源。我非常感谢您花时间阅读并可能回复。

我正在尝试将 scoreloop 集成到我正在开发的游戏中，但是通过数据绑定和列表框得到了一些非常奇怪的结果。我的测试（如下）暗示我必须在绑定方面做错了什么，但疯狂的是**它在我第一次使用它时确实有效，但不适用于后续级别**。这是我正在使用的重要代码：

XAML：

```
<ListBox x:Name="LeftListBox" Margin="12,48,0,128" ItemsSource="{Binding}" Background="{x:Null}" HorizontalAlignment="Left" Width="240">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel Margin="0,0,0,17">
                        <StackPanel Margin="0,0,0,0" Orientation="Horizontal" HorizontalAlignment="Left">
                            <TextBlock Text="{Binding Rank}" TextWrapping="NoWrap"  />
                            <TextBlock Text="." Width="54"/>
                            <TextBlock Text="{Binding Result}" TextWrapping="NoWrap" Width="76"/>
                            <TextBlock Text="{Binding User.Login}" TextWrapping="NoWrap"/>
                        </StackPanel>                           
                    </StackPanel>
                </DataTemplate>
            </ListBox.ItemTemplate>             
        </ListBox> 
```

我注册了一个事件以在加载分数时触发，这将设置绑定并记录调试消息：

```
LeftListBox.DataContext = App._scoresController.Scores;
Debug.WriteLine("Scores Loaded"); 
```

App._scoresController.Scores 包含 User.Login、Rank 和 Result。

在我通过一个级别后，它会降低分数并将它们显示在他的列表框中，就像我期望的那样。尽管列表框为空白，但只要它通过相同的循环进入下一个级别。“Scores Loaded”的调试行总是被记录，所以我知道事件正在触发。

**到目前为止我在测试中所做的事情：**

1.  为绑定日志打开 ALL 并且在输出中看不到任何内容。
2.  在 Debug "Scores Loaded" 行设置一个断点，可以看到每次它到达那里时，它都正确分配了 datacontext，正确的字段名称完全匹配
3.  尝试使用 Dispatcher.BeginInvoke(LoadScores); 确保我是在 UI 线程之外进行的，以防万一这是线程问题
4.  将堆栈面板上的背景颜色设置为我可以使用的颜色，以确保它不会被其他控件或情节提要动画折叠或隐藏
5.  创建同一个列表框的副本，在同一个 LoadScores() 方法中设置 listbox.datacontext = this，然后设置要绑定到的局部变量。发现这表现出相同的行为，在我第二次去设置数据上下文时消失了
6.  创建列表框的副本并删除所有绑定，手动设置三个文本字段。这不会消失，但每次我通过一个级别时都会出现
7.  击败一个级别（让它工作），击败另一个级别（让它消失），离开游戏发生的 gamepage.xaml/gamepage.xaml.cs（比如 mainpage.xaml，然后回到游戏页面.这并不能解决问题，所以我假设问题比gamepage.xaml/gamepage.xaml.cs内部的问题更高

我觉得我必须做一些令人痛苦的愚蠢/显而易见的事情，但我是一个新手程序员，只是根据需要拾取碎片，这是我第一次进入数据绑定世界。我将不胜感激任何建议。

在此先感谢您的时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-17T18:24:19.567

我发现了问题。当我说我永远不会离开 GamePage.xaml.cs 和 Gamepage.xaml 时，我错了。

我重新检查了我的代码，发现我实际上是跳到一个列出下一个级别详细信息的转换页面，然后返回到 GamePage。

每当我离开页面时，App._scoresController.Scores 就会发生奇怪的事情。如果我在 GamePage.xaml.cs 中创建了一个私有 _scoresController.Scores 并使用它而不是 App 中的那个，那么一切正常。Scoreloop 看起来有些奇怪。

# c# - 用于计数的信号量实现。当前运行的实例数

> ID：10612425
> 
> 赞同：5
> 
> 时间：2012-05-16T05:17:34.203
> 
> 标签：c#, semaphore

我正在研究多实例应用程序。c# 中有什么方法可以知道当前正在运行多少个实例。
我使用一段代码来计算我的应用程序名称的窗口进程，但这不是一个好方法。

```
string fileName = Process.GetCurrentProcess().MainModule.FileName;
int count = 0;
foreach (Process p in Process.GetProcesses())
{
    try
     {
        if (p.MainModule.FileName == fileName)
        {
            count++;
        }
    }
    catch { }
}

MessageBox.Show("Total Instances Running are " + count); 
```

是否可以通过使用*信号量*或一些增量和减量计数器来完成，该计数器在创建新实例时加一，在实例关闭时减一。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:21:09.257

A[`Semaphore`](http://msdn.microsoft.com/en-us/library/system.threading.semaphore.aspx)帮助您倒计时，当您到达 0 时阻止您。您可以使用全局信号量，但您必须将其初始化为足够高的值并开始倒计时。

我认为总而言之，您自己的解决方案可能是最干净的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T12:13:26.070

为什么不使用共享内存？当然，您必须使用对所有进程可见的互斥锁来保护它，但是通过这种方式，您可以在所有进程之间存储常用数据。

我想你必须 P/Invoke 平台例程是为了创建共享内存，但它真的很简单。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-16T13:07:38.810

管理多个进程从来都不是问题。操作系统在它们之间竖起了一堵大墙，使它几乎任何东西都变得困难和昂贵。您正在使用的代码也不例外，迭代正在运行的进程很昂贵。始终首先考虑改用线程并在 .NET 程序中寻找 AppDomains，这是一个明确发明的功能，旨在提供进程可以提供的那种隔离，但没有消除互操作障碍的成本。

如果您致力于多进程解决方案，那么您几乎总是需要一个单独的进程来充当仲裁者。负责确保工作进程启动并在其中一个因未处理的异常而死时做一些有意义的事情。这本身就是一件很难处理的事情，因为没有好的方法可以获取有关它死亡原因的任何信息，并且您丢失了大量的状态。典型的结果是整个应用程序出现故障，除非您为这些过程提供非常简单的事情来做，而您可以轻松地做到这一点。

这样的仲裁进程对实例进行廉价计数没有问题，它可以使用 Process.Exited 事件来维护一个计数器。一个事件，而不是必须轮询。

# php - 网站管理员代码的动态更改

> ID：10612429
> 
> 赞同：1
> 
> 时间：2012-05-16T05:17:37.630
> 
> 标签：php

首先道歉，如果问题标题误导了你。这是我想要实现的目标。

我希望站长来到我的网站，复制一段代码（基本上它会在站长的网站上显示图像），然后将其粘贴到他们的网站上以宣传我的网站。直到现在我都很好，并且成功地做到了。现在，我希望图像具有将从我的网站获取的动态排名。因此，当网站管理员将代码粘贴到他们的网站上时，图像上显示的排名（作为文本）会根据我的数据库设置而变化。

谁能让我知道如何实现这一目标..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-25T19:50:42.223

您可以按照 aniruddha 的建议制作 iframe，也可以使用 javascript。请参阅 Twitter、Facebook 和 Google 日历，了解它们的各种小部件是如何工作的。

我为您提供了一些非常简化的实现，以了解它们是如何工作的。但最好看看上面提到的例子。忽略此处示例中的安全问题。只是想展示它在最简单的层面上是如何工作的。

**iFrame 示例**

Iframe 示例的客户端代码：

```
<html>
    <head>
    </head>
    <body>
        <h1>User Website Title</h1>

        <p>Some random user text</p>

        <p>Iframe version here</p>
            <!--This is the code that the client would paste in to their website -->
        <iframe src="http:/your.domain.com/server_iframe_test.php?user=TestUser" height="30" width="500" scrolling="no" frameBorder="0"></iframe>
            <!-- End client iframe code to paste-->
    </body>
</html> 
```

在您的服务器上，您可以将页面用作 iFrame 的源。我在这里调用我的 server_iframe_test.php：

```
<?php 
//Generating a random number to show that page will update on reload
$randomNumber = rand(1, 999);

//In the src of the iframe we will send a get parameter called user to determine which user we should look up
$data = array('user' => $_GET['user'], 'rank' => $randomNumber, 'image' => 'http://url/to/some/image.png');

?>

<!-- This is the output that will be generated in the iframe -->
<div class="widget_wrapper"><?php echo $data['user'] ?>: <?php echo $data['rank']  ?> and <?  echo $data['image']  ?></div> 
```

**Javascript 示例**

对于 javascript 示例，可以使用 JSONP 跨域进行 ajax 调用。您可以在此处阅读它的工作原理：http: [//www.ibm.com/developerworks/library/wa-aj-jsonp1/](http://www.ibm.com/developerworks/library/wa-aj-jsonp1/)

这是javascript版本的客户端：

```
<html>
    <head>
    <!-- I'm cheating here by including jquery in the head. My test script needs it-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    </head>
    <body>
        <h1>User Website Title</h1>

            <!--Code that user pastes into their page-->

            <!--First get the script from your domain-->
        <script src="http://your.domain.com/test_widget.js"></script>

            <!--This code is also pasted by the client. We use this to set user name and then render the html. Also I added an id to the script tag here to know where to append the html. This is a more of a shortcut.-->
        <script id="test_widget_script">
            var widget = new testWidget('TestUser');
            widget.render();
        </script>

            <!-- Widget will render html here -->

        <!--End Code to Paste-->
        <p>Some random user text</p>

    </body>
</html> 
```

这是名为的服务器端 js 脚本`test_widget.js`：

```
var testWidget = function(user){    
    var _user = user;
    this.render = function() {
            //We make a JSONP call here to our php script which generates the data for the user. Note the &callback?. We need to add this to make it a JSONP call.
        $.getJSON('http://your.domain.com/test_js.php?user=' + _user + '&callback=?', function(data){
            //Append html result after the js tag with the following id
            $("#test_widget_script").after('<div class="widget_wrapper">' + _user + ': ' + data.rank + ' and ' + data.image + '</div>');
        });
    }
} 
```

这是`test_js.php`处理请求的 php 文件：

```
<?php 

$randomNumber = rand(1, 999);

$data = array('user' => $_GET['user'], 'rank' => $randomNumber, 'image' => 'http://url/to/some/image.png');

//We need to make the content type javascript
header("Content-type: text/javascript");

?>

<?php //Here we take the name of the callback passed as a GET parameter and use it as a function to pass in our json data. We don't call the function in php, but when the text gets returned, jQuery knows how to handle the response. ?>
<?php echo $_GET['callback'] ?>(<?php echo json_encode($data); ?>); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T07:41:48.490

我认为您的服务器端脚本页面的 src 需要一个 iframe，它将从您的服务器获取具有图像排名的渲染代码。iframe 的目的是渲染整个 html。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T07:46:44.403

从这里修改代码[http://php.net/manual/en/function.imagettftext.php](http://php.net/manual/en/function.imagettftext.php)

用你的等级制作图像。这是基于该代码的测试示例，请注意您需要 GD 和 truetype。您需要做的就是发送一个链接并使用一个 get 变量来设置哪个用户，这样您就可以从您的数据库中获得正确的排名。我不会编码那部分。

```
// Create the image
$im = imagecreatetruecolor(400, 30);

// Create some colors
$white = imagecolorallocate($im, 255, 255, 255);
$grey = imagecolorallocate($im, 128, 128, 128);  
$black = imagecolorallocate($im, 0, 0, 0);
imagefilledrectangle($im, 0, 0, 399, 29, $white);

// The text to draw (your ranking)
$text = '21'; // <== change this as you need over time
// Replace path by your own font path
$font = 'arial.ttf';

// Add some shadow to the text
imagettftext($im, 20, 0, 11, 21, $grey, $font, $text);

// Add the text
imagettftext($im, 20, 0, 10, 20, $black, $font, $text);

// Using imagepng() results in clearer text compared with imagejpeg()
imagepng($im);
imagedestroy($im);
?> 
```

# iphone - Removing viewcontrollers from navigation stack in the right way

> ID：10612431
> 
> 赞同：2
> 
> 时间：2012-05-16T05:18:02.003
> 
> 标签：iphone, ios, uiviewcontroller, uinavigationcontroller

I have 5 view controllers(say A,B,C,D,E) in my navigation stack. ViewController E is in the top of the stack. On a button click in ViewController E, I want to move to ViewController C. For that I am using the following code.

```
NSMutableArray *navigationarray = [NSMutableArray arrayWithArray:self.navigationController.viewControllers];
[navigationarray removeObjectAtIndex:4];
[navigationarray removeObjectAtIndex:3];
self.navigationController.viewControllers = navigationarray;
[navigationarray release]; 
```

Is there a better way to do this, where I can check which viewController is being removed from the navigation array

Edit: In this case, could I check whether the viewcontroller being removed `isKindOfClass` of the class of the particular view controller like

```
if ([[navigationarray objectAtIndex:4] isKindOfClass:[MyClass class]]) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T05:21:18.947

Popping view controller from navigation controller is the easy way. This will remove VC E and D.

```
[self.navigationController popToViewController:viewControllerC animated:YES]; 
```

# java - 无法使用线程执行代码块中的所有语句

> ID：10612436
> 
> 赞同：2
> 
> 时间：2012-05-16T05:18:47.320
> 
> 标签：java, multithreading, groovy

我正在尝试读取文件夹中的多个文件并使用线程同时处理它们。

程序的结构是这样的：

```
// Assuming there are 5 files in the directory

// creating the threads
ExecutorService pool = Executors.newFixedThreadPool(5)
ExecutorCompletionService service = new ExecutorCompletionService(pool)

directory.listFiles().each { eachFile ->
   service.submit(new FileReader(eachFile, param2))
}

// the FileReader class
class FileReader implements Callable {
    File file
    String param
    FileReader(File file, String param){
        this.file = file
        this.param = param
    }

   Object call(){
      LOG.info("Processing file" + filePath)
      ConfigInfo configInfo = new ConfigInfo()
  configInfo.setFilePath(filePath);
  configInfo.setReaderUid(readerUid);
  configInfo.setPatternsMap(patternsMap);
  new LogfileDataProcessor(configObject, param).processFileContent()
   }

} 
```

这里的 call 方法创建另一个对象并在其上调用一个方法。

但奇怪的是，程序在调用方法中执行了一些行后终止（它没有到达其中的最终语句）。我在这里很困惑。有人可以对正在发生的事情有所了解。请帮我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:49:28.680

您需要您的程序等待线程完成。例如，您可以为此使用 CountDounLatch：

```
CountDownLatch latch = new CountDownLatch(numberOfFilesInDirectory);

directory.listFiles().each { eachFile ->
   service.submit(new FileReader(eachFile, param2))
}

latch.await();

// And in your Callable:
class FileReader implements Callable {
File file
String param
FileReader(File file, String param){
    this.file = file
    this.param = param
}

public Object call() {
    try {
    LOG.info("Processing file" + filePath)
    ConfigInfo configInfo = new ConfigInfo()
    configInfo.setFilePath(filePath);
    configInfo.setReaderUid(readerUid);
    configInfo.setPatternsMap(patternsMap);
    new LogfileDataProcessor(configObject, param).processFileContent();
    } finally {
        latch .countDown();
    }
} 
```

您可以将闩锁作为构造函数参数传递给线程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:48:21.907

首先，你怎么知道你的`call`方法中只执行了几行而不是全部？我看到您发布的代码发生这种情况的唯一方法是创建该`ConfigInfo`对象会引发异常。

`Callable`我尝试重现您所描述的场景，但只有在我将工作卸载到新的守护进程时，我才设法让我的程序退出`Thread`。有关我的 SSCCE，请参见下文。根据您是否将`thread.setDaemon( true );`调用留在其中，程序会在所有`Thread`s 执行后很好地完成，或者在任何输出写入控制台之前完成。

```
import java.util.concurrent.Callable;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class ExecutorServiceDemo {
  private static ExecutorService pool = Executors.newFixedThreadPool( 5 );

  private static void createAndExecuteThreads(){
    for( int i =0; i< 5; i++ ){
      pool.submit( new DummyCallable( "Callable " + i ) );
    }
  }

  public static void main( String[] args ) {
    createAndExecuteThreads();
    pool.shutdown();
  }
  private static class DummyCallable implements Callable<Object>{
    private final String message;

    private DummyCallable( String amessage ) {
      message = amessage;
    }

    @Override
    public Object call() throws Exception {
      Runnable runnable = new Runnable() {
        @Override
        public void run() {
          try {
            Thread.sleep( 5000 );
            System.out.println( "message = " + message );
          } catch ( InterruptedException e ) {
            e.printStackTrace();
          }
        }
      };
      Thread thread = new Thread( runnable );
      thread.setDaemon( true );
      thread.start();
      return null;
    }
  }

} 
```

你有可能在你的`new LogfileDataProcessor(configObject, param).processFileContent()`方法中做类似的事情吗？

# javascript - Javascript 使用哈希值重新加载页面

> ID：10612438
> 
> 赞同：88
> 
> 时间：2012-05-16T05:18:51.647
> 
> 标签：javascript, jquery

经过一些处理后，我试图在外部 javascript 文件中使用此语句刷新页面。

```
window.location.href = window.location.href 
```

它完美地重新加载页面，但我想在重新加载后滚动到特定位置。所以，我把它放在页面上。

```
<a name="uploadImgSection"></a> 
```

并将javascript更改为

```
window.location.href = window.location.href + "#mypara"; 
```

此代码也不会重新加载/刷新页面

```
window.location.hash = "#uploadImgSection";
window.location.href = window.location.href; 
```

当我这样做时，它根本不会重新加载页面。有什么办法可以用滚动条位置重新加载页面吗？

* * *

## 回答 #1

> 赞同：167
> 
> 时间：2012-05-16T05:40:35.647

```
window.location.href += "#mypara";
location.reload(); 
```

首先添加哈希，然后重新加载页面。哈希将保留在那里，并且页面被重新加载。

经测试，有效。

* * *

**ps：**如果 URL 中已经存在哈希，您可能需要直接更改它`location.hash`而不是`.href`.

* * *

## 回答 #2

> 赞同：42
> 
> 时间：2013-10-03T23:08:54.440

我想更新这个问题，因为我发现 using`window.location.href += "#mypara"`会继续将参数附加到 url，即使它存在。我发现更好的方法是使用

```
window.location.hash = "#mypara"
location.reload(); 
```

* * *

## 回答 #3

> 赞同：27
> 
> 时间：2013-09-16T18:16:49.237

这真的是一个老帖子，我仍然会尝试用正确的答案组合来回答。

1.  `location.reload()`并`location.reload(true)`在浏览器上像 F5 一样工作。如果之前加载完成，这会将所有表单数据发送回服务器。
2.  `location.href`在浏览器识别到 URL 更改之前不会刷新页面。哈希 (#paramname) 的更改不符合 URL 更改的条件，因此仅仅做是 `location.href+="#paramname"`行不通的。

因此，`location.href+="?anything#paramname"`应该将页面重新加载为新请求，就像`?anything`URL 中的更改一样。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-04-11T03:02:57.900

```
var loc = location.hash;
location.hash = " ";
location.hash = loc; 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-05-16T05:30:01.897

试试这个

```
 var urlString=window.location.href;
           var url=urlString.split("#")[0];
           window.location.href = url + "#mypara"; 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2014-02-05T07:37:33.353

这对我有用：

```
var tabValue = document.URL;
window.location = tabValue.substring(0, tabValue.lastIndexOf("#"));
window.location.hash = "#tabs-3"; //Whatever is your hash value
location.reload(); 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2015-11-18T18:46:07.893

这对我有用

```
$('body').on('click', '.className', function () {
    var data = $(this).attr('href');
    alert(data);
    window.location.reload();
}); 
```

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2017-01-31T10:20:38.690

这对我有用

```
window.location.href = baseUrl + "#/m/team";
 location.reload(); 
```

# amazon-ec2 - 格式化和挂载所有可用实例存储设备的脚本

> ID：10612440
> 
> 赞同：5
> 
> 时间：2012-05-16T05:18:55.233
> 
> 标签：amazon-ec2, amazon-web-services, amazon-ebs

Amazon为 EC2 实例[提供实例存储](http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/InstanceStorage.html)。如果您使用自己的 AMI，这些文件不会自动为您格式化或安装。您需要手动格式化并安装它们。

[此处列出了](http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/InstanceStorage.html#InstanceStoreDeviceNames)可用的设备，并根据实例类型而有所不同。例如，m1.small 将具有与 c1.xlarge 不同的可用实例存储设备。

我正在寻找一个脚本

1.  检测实例类型是什么。也许通过使用 `curl -s http://169.254.169.254/latest/meta-data/instance-type`
2.  格式化并挂载可用于该实例类型但尚未格式化/挂载的所有设备。

可能的？完成了？有它？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-29T03:17:23.470

所以，这就是我为此构建的。

```
#!/bin/bash

# This script formats and mounts all available Instance Store devices

##### Variables
devices=( )

##### Functions

function add_device
{
    devices=( "${devices[@]}" $1 )
}

function check_device
{
    if [ -e /dev/$1 ]; then
        add_device $1
    fi
}

function check_devices
{
    check_device sda2
    check_device sda3
    check_device sdb
    check_device sdc
    check_device sdd
    check_device sde
}

function print_devices
{
    for device in "${devices[@]}"
    do
        echo Found device $device
    done
}

function do_mount
{
    echo Mounting device $1 on $2
fdisk $1 << EOF
n
p
1

w
EOF
# format!
mkfs -t xfs -f $1

mkdir $2
mount $1 $2

echo "$1   $2      xfs     defaults          0 0" >> /etc/fstab

}

function mount_devices
{
    for (( i = 0 ; i < ${#devices[@]} ; i++ ))
    do
        mountTarget=/mnt
        if [ $i -gt 0 ]; then
            mountTarget=/mnt$(($i+1))
        fi
        do_mount /dev/${devices[$i]} $mountTarget
    done
}

##### Main

check_devices
print_devices
mount_devices 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-17T10:49:31.973

```
#!/bin/bash
#SETUP RAID0
checkAllDevices()
{
    devicemount=/ephemeral
    logicalname=/dev/md0
    deviceslist=( '/dev/xvdb' '/dev/xvdc' '/dev/xvdd' '/dev/xvde' )
    for device in ${deviceslist[@]}; do
        if ([ -b $device ]) then
            aDevices=( "${aDevices[@]}" $device )
        fi
    done
    if [ "${#aDevices[@]}" -gt '1' ];then
        yes | mdadm --create $logicalname --level=0 -c256 --raid-devices=${#aDevices[@]} ${aDevices[@]}
        echo \'DEVICE ${aDevices[@]}\' > /etc/mdadm.conf
        mdadm --detail --scan >> /etc/mdadm.conf
        blockdev --setra 65536 $logicalname
        mkfs.xfs -f $logicalname > /dev/null
        mkdir -p $devicemount
        mount -t xfs -o noatime $logicalname $devicemount
        if [ ! -f /etc/fstab.backup ]; then
            cp -rP /etc/fstab /etc/fstab.backup
            echo "$logicalname $devicemount    xfs  defaults  0 0" >> /etc/fstab
        fi        
    else
        echo "Required more than one devices"
    fi
}

#MAIN FUNCTION 
aDevices=()
checkAllDevices 
```

# iphone - 如何从 iPhone 上的蓝牙低功耗标签中识别按键？

> ID：10612442
> 
> 赞同：0
> 
> 时间：2012-05-16T05:19:00.507
> 
> 标签：iphone, xcode, ios5, bluetooth, core-bluetooth

我目前正在从事一个涉及与低功耗蓝牙标签和 iPhone 交互的项目。我想知道如何在 iPhone 上的蓝牙标签上注册一个按键。即当用户按下标签上的某个键时，iPhone 上的应用程序应该能够识别并执行某个功能（比如发出声音）。

我使用的是德州仪器 2540 标签，并参考了他们的示例代码。在他们的代码中，

> > 必须启用按键通知。当在标签上按下一个键时，相应的服务和特征 UUID 值会更新。在应用程序中，“didUpdateValueForCharacteristic”委托方法被调用并且可以调用适当的函数。

然而，设计蓝牙标签的公司坚持要在 iPhone 应用程序上创建一个服务（iPhone 充当蓝牙服务器），并且蓝牙标签会提醒充当客户端的 iPhone。

我的代码摘录是

> 定义 Key_Press_Notification_Service 0xFFE0
> 定义 Key_Press_Notification_Characterisitc 0xFFEA
> 
> -(void) enableButtons:(CBPeripheral *)p
> {
> [自我通知：Key_Press_Notification_Service characteristicUUID:Key_Press_Notification_CharacterisitcUUID p:p on:YES];
> }
> 
> // -(void) notification... 方法
> 
> // - (void)peripheral:(CBPeripheral *)peripheral didUpdateValueForCharacteristic.. 方法

你能帮我看看这是否可能吗？以及如何注册从蓝牙标签按下的键以在 iPhone 上识别？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T19:56:13.253

曼茹阿，

拥有外围设备和 forCharacteristic:characteristic 后，您只需要启用通知：

```
// begin notification for the characteristic.
[peripheral setNotifyValue:YES forCharacteristic:characteristic]; 
```

然后，您使用您的 CBPeripheralDelegate 接收更新：

```
- (void)peripheral:(CBPeripheral *)peripheral didUpdateValueForCharacteristic:(CBCharacteristic *)characteristic error:(NSError *)error 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T07:17:52.040

这看起来像[http://developer.bluetooth.org/gatt/profiles/Pages/ProfileViewer.aspx?u=org.bluetooth.profile.find_me.xml](http://developer.bluetooth.org/gatt/profiles/Pages/ProfileViewer.aspx?u=org.bluetooth.profile.find_me.xml)中描述的“FindMe 配置文件”场景。“Find me locator”（蓝牙标签）和“Find me target”（iPhone）每个都应该有一个“Immediate Alert”服务。[http://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.immediate_alert.xml](http://developer.bluetooth.org/gatt/services/Pages/ServiceViewer.aspx?u=org.bluetooth.service.immediate_alert.xml)中描述了即时警报服务行为。

当在您的标签上按下一个键时，它应该对驻留在 iPhone 上的警报级别特性执行写入操作。

或者，您可以制作自己的自定义配置文件。即，标签上的某些特性会在按下某个键时发出通知。然后，您的 iPhone 应用程序将订阅此特性并收到任何按键通知。自定义配置文件当然意味着您的标签不会与蓝牙智能就绪设备开箱即用兼容。

# iphone - 在 iOS 中获取崩溃位置

> ID：10612444
> 
> 赞同：0
> 
> 时间：2012-05-16T05:19:12.597
> 
> 标签：iphone, ios

我的应用程序崩溃了，我无法追踪。在我得到的日志中：

> [CFString release]：消息发送到释放的实例 0xeb8a560

即使在调试时，我也无法追踪崩溃。我放置了断点并启用了 NSZombie，但仍然没有帮助。有没有人有一些想法来获取崩溃的位置？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T07:44:39.500

要获取崩溃的确切位置，您需要添加 'Exception BreakPoint' ，这会将断点添加到崩溃发生的确切位置。

在 xcode 4 的左侧栏中：

1.  点击断点选项卡（第 6 个选项卡结束）
2.  点击窗口左下角的 + 按钮
3.  点击“添加异常断点”
4.  在弹出窗口中点击“完成”

在 Xcode 4 中引用[“运行 > 在 Objective-C 异常上停止”？](https://stackoverflow.com/questions/4961770/run-stop-on-objective-c-exception-in-xcode-4)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T05:29:05.297

一个字符串对象过度释放。您可以创建一个异常断点来查找它崩溃的位置。您也可以尝试`bt`在 GDB 中使用来获取崩溃日志。

这个[链接](http://www.raywenderlich.com/10209/my-app-crashed-now-what-part-1)有很多技巧和窍门。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T13:44:09.027

这种类型的错误（使用类保留/释放内存管理）也可以使用 Zombies Instrument 进行调试。通常（并非总是）您可以看到已释放对象被保留/释放的历史记录，并找出为什么会从您的身下消失。

# android - Android 中的活动

> ID：10612450
> 
> 赞同：0
> 
> 时间：2012-05-16T05:19:40.707
> 
> 标签：android, android-activity

由于我是 android 新手，因此尝试详细学习基础知识。基本上我是一个`iOS`程序员。我想知道如何将“android 中的活动”与 iOS 进行比较。这意味着，与 iOS 相比，android 中的 Activity 是什么。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T05:36:23.353

查看活动文档所有这些都在其中，其中许多包含比我在这里列出的更多的细节。

1.只要屏幕的内容视图发生变化（由于调用Window.setContentView或Window.addContentView），就会调用这个钩子。

2.activity启动完成时调用（在onStart()和onRestoreInstanceState(Bundle)被调用之后）。

3.在活动恢复完成时调用（在调用 onResume() 之后）。

4.每当窗口焦点改变时，都会调用这个钩子。

5.当活动由于用户选择而即将进入后台时，作为活动生命周期的一部分被调用。例如，当用户按下 Home 键时，会调用 onUserLeaveHint()，但是当有来电导致通话中的 Activity 自动被带到前台时，被中断的 Activity 不会调用 onUserLeaveHint() . 在调用它的情况下，此方法会在活动的 onPause() 回调之前调用。这个回调和 onUserInteraction() 旨在帮助活动智能地管理状态栏通知；具体来说，用于帮助活动确定取消通知的适当时间。

6.每当按键、触摸或轨迹球事件被分派到活动时调用。

7.当窗口已附加到窗口管理器时调用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T05:38:19.700

Android 中的 Activity 就像 iOS 中的控制器。它接收 UI 事件、与数据模型交互并更新 UI。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-16T05:38:41.027

`Activity`虽然在 iOS SDK中没有 1:1 匹配，但`UIViewController`它是最接近的匹配。

[为 iOS 开发人员开始 Android](http://clayallsopp.posterous.com/building-an-android-app-from-scratch-or-this)可以帮助您在编写您的第一个 Android 应用程序时覆盖一些基础。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-16T05:21:17.370

最好读一下：

[http://developer.android.com/reference/android/app/Activity.html](http://developer.android.com/reference/android/app/Activity.html)

# javascript - 我怎样才能将它更改为触摸事件，以便它可以在 ipad 上运行？

> ID：10612451
> 
> 赞同：0
> 
> 时间：2012-05-16T05:19:57.317
> 
> 标签：javascript, jquery, ajax

这是我的代码

```
onmouseout="if ($find('MainContent_ctl01_txtInsDate') != null) $find('MainContent_ctl01_txtInsDate').buttonMouseOut(event);"
onmouseup="if ($find('MainContent_ctl01_txtInsDate') != null) $find('MainContent_ctl01_txtInsDate').customButtonMouseUp(event);"
onmousedown="if ($find('MainContent_ctl01_txtInsDate') != null) $find('MainContent_ctl01_txtInsDate').customButtonMouseDown(event);" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T08:10:49.550

有[jQuery mobile](http://jquerymobile.com/)支持移动设备的[触摸事件](http://jquerymobile.com/test/docs/api/events.html)。

# jsp - jsp通过jquery调用2个servlet

> ID：10612452
> 
> 赞同：0
> 
> 时间：2012-05-16T05:20:04.157
> 
> 标签：jsp, jquery, servlets

**背景：** 我有 - Search.jsp、SearchResult.java 和 SearchDetails.java 文件。我需要在表单提交时通过 jquery/(ajax?) 将搜索值发布到 SearchResult servlet，并将结果显示在 1 列表中。之后，该用户可以单击任何行以在同一页面中查看该结果的详细信息。在这种情况下，我的计划是在特定行的单击事件上，我必须通过 jquery-ajax 调用 SearchDetails servlet。

**问题：** 我现在可以在动态填充的表中获取搜索结果，并且在每一行中我都在 /link 标记中填充结果。1\. 请告诉我如何将结果填充到表格中，以便我可以进行分页等。 2\. 如何调用 SearchDetails servlet，并将隐藏值存储在动态填充的 td 中。

**我的经验：**我从过去 1 个月开始研究 jsp、servlet、jquery-ajax。但是.net 持续了 7 年。

搜索.jsp：

```
<script> 
 $(document).ready(function() { 
     $('#btnSearch').click(function() { 
        $mobileNo = document.getElementById("txtMobileNo").value;
        $.post('BE_AccountSearch', {mobileNo:$mobileNo}, 
        function(responseText){ 
              $('#dvSearchResultSub').html(responseText); 
         }); 
     }); 
 }); 
</script> 
<form id="form" method="post"> 
     <input name="txtMobileNo" id="txtMobileNo" autofocus> 
     <input type="button" id="btnSearch" value="Search"/> 
     <div id="dvSearchResultSub"></div> 
</form> 
```

SearchResult.java (servlet):

```
out.println("<table>"); 
for (int i = 0; i < memberList.size(); i++){ 
  out.println("<tr>"); out.println("<td>"); 
  out.println("<a id=\"memberList\" href=\"BE_AccountDetails?uln=" + memberList.get(i).getUsername() + "\">"); 
  out.println(memberList.get(i).getUsername());
  out.println("</a>"); 
  out.println("</td>"); 
 out.println("</tr>"); 
} 
out.println("</table>"); 
out.println("</div>"); 
out.flush(); 
out.close(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T08:24:50.630

我用于此类任务 jqGrid。它嵌入了ajax。您所要做的就是将其插入您的页面并创建处理查询的 servlet/控制器。

从你的代码看起来一切都很好。不知道问题出在哪里。尝试在打开 FireBug 的 FireFox 中运行它并查看跟踪 - 如果它没有显示动态结果，则应该有错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T06:08:49.177

使用 Java MVC（模型视图控制器）将参数从 jsp 传递到 Java 并返回给 Jsp。[你可以在这里](http://www.roseindia.net/tutorial/java/jdbc/javamvcdesignpattern.html)得到一些帮助。

要使用 AJAX 在 jsp 上填充表，您可以使用[Datatables](http://datatables.net/)。数据表在表上提供了很多功能，如分页、搜索、排序等。

我希望这有帮助。如果您已经开始使用代码，请提供一些代码以及您的问题。

# iphone - 在 iPhone iOS 5 应用程序中使用 SQLite 数据库？

> ID：10612454
> 
> 赞同：1
> 
> 时间：2012-05-16T05:20:10.753
> 
> 标签：iphone, ios, database, sqlite

仍在`Coredata framework`用于 iPhone 应用程序。我想`SQLite database`在我的应用程序中使用 switch。我知道一些 MySQL 查询的基础知识。我们的 SQLite 是和 MySQL 相关还是不同？还有我们如何才能`SQLite into XCode 4.2`和 iPhone 应用程序集成？我想阅读一些关于我使用谷歌学习资料的 SQLite 数据库的基础知识，但无法获得准确的资料。我也去过`W3Schools.com there they provided SQL queries`。我在那里开始了我的学习。

谁能建议如何在我们的 iPhone 项目中实现 SQLite？在哪里了解 SQLite 数据库？我们在 iOS 5 中使用的是哪个版本的 SQLite？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:25:24.073

将 sqlite3 库添加到您的项目中：

1.  在项目设置页面中选择目标。

2.  单击“构建阶段”选项卡，

3.  展开“将二进制文件与库链接”，

4.  点击“+”，

5.  将 sqlite 添加到您的目标。

然后你可以使用 SQLite 的 C API。

也有[Objective-C 包装器](https://stackoverflow.com/questions/640885/best-cocoa-objective-c-wrapper-library-for-sqlite-on-iphone)。

# ruby-on-rails - 在这种情况下我应该创建多少个控制器来坚持“Rails Way”？

> ID：10612456
> 
> 赞同：0
> 
> 时间：2012-05-16T05:20:18.893
> 
> 标签：ruby-on-rails, model-view-controller

我是 Rails 的新手（和 Web 开发 [但不是 Ruby 的新手]），并且仍然对约定有所了解，更不用说 MVC。

我有一组（简化的）模型如下，为清楚起见排除了 belongs_to 关联：

```
Contact (has_many :accounts)
Account (has_many :service_1s, has_many :service_2s)
Service1 (has_many :service_1_usage_records)
Service1UsageRecords (has_many :service_1_usage_records_historical)
Service1UsageRecordsHistorical ()
Service2 (has_many :service_2_usage_records)
Service2UsageRecords () 
```

我需要从 Web 界面访问联系人、帐户、服务 1 和服务 2 的 REST 操作。其他模型用于后端。这是否意味着，在这种情况下，我需要四个控制器来处理我需要的四组 REST 操作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:25:42.827

将控制器视为控制对资源的访问。您可以制作一个控制器来做所有事情，但是将控制器保持为每个资源一个控制器更易于维护，Rails 敦促您这样做（路由等）

根据您的描述，听起来确实需要 4 个控制器。如果您需要通过网络直接访问任何其他资源，您可能需要更多控制器，但如果不需要，您提到的 4 个应该没问题。

# java - 任何类似于 open xml sdk 2.0 的 Java api？

> ID：10612457
> 
> 赞同：0
> 
> 时间：2012-05-16T05:20:36.823
> 
> 标签：java, xml, apache-poi, openxml

是否有任何类似于 open **xml sdk 2.0的****java api**。只是我需要将 open office xml excel 文件转换为 .xlsx 文件。

 **我使用 xml 和 xslt 创建的 office xml excel 文件。我尝试使用**apache poi**读取 xml excel 文件，但出现无效的标头格式异常。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-16T07:41:18.133

好吧，我相信处理`*.xlsx`文件的最佳 API 是[Apache POI](http://poi.apache.org/)（它`*.xlsx`从 3.7 左右开始支持）。

一些替代方案：

*   有一个名为[JExcel API](http://jexcelapi.sourceforge.net/)的项目，但在过去 3 年左右的时间里没有太多活动（我不确定它是否`*.xlsx`只处理格式`*.xls`，但我可能错了）。
*   我不确定，但[OpenOffice UDK](http://www.openoffice.org/udk/)也可能对您有所帮助。不幸的是，它只是一个绑定，并且需要一个已安装的实现（即，您必须安装[OpenOffice](http://openoffice.hu/)才能使用它），如果您在服务器端没有任何 X 服务器，这并不总是有效的要求。
*   另一种选择是通过[Jacob](http://danadler.com/jacob/)通过 COM 使用它。优点是您可以访问所有数据，*缺点是**COM*，您需要在计算机上安装 Excel（当然，它是特定于 Windows 的解决方案）。

**我相信坚持使用 Apache POI 的最佳方式，**如果您只想读/写单元格数据，通常就足够了。**

# php - 标头过期不起作用

> ID：10612464
> 
> 赞同：1
> 
> 时间：2012-05-16T05:21:15.807
> 
> 标签：php, caching, header, http-headers

我测试了我在[这个网站上](http://www.sitepoint.com/caching-php-performance/)找到的这个脚本：

```
function setExpires($expires) {
header(
'Expires: '.gmdate('D, d M Y H:i:s', time()+$expires).'GMT');
}
setExpires(10);
echo ( 'This page will self destruct in 10 seconds<br />' );
echo ( 'The GMT is now '.gmdate('H:i:s').'<br />' );
echo ( '<a href="'.$_SERVER['PHP_SELF'].'">View Again</a><br />' ); 
```

当我刷新页面时，时间每秒更新一次，而不是每 10 秒更新一次。

**“如果我们点击这个链接，我们会注意到时间每十秒更新一次”**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T10:23:08.583

好的，我希望你没有犯这个错字，但我还是会向你指出：

```
header('Expires: '.gmdate('D, d M Y H:i:s', time()+$expires).'GMT'); 
```

字段后面应该有一个空格`seconds`：

```
header('Expires: '.gmdate('D, d M Y H:i:s ', time()+$expires).'GMT');
//                                       ^-- add space here 
```

# python - 添加到布局的 PyQt4 自定义小部件（已加载 uic）不可见

> ID：10612467
> 
> 赞同：2
> 
> 时间：2012-05-16T05:21:23.063
> 
> 标签：python, widget, custom-controls, pyqt4

我已经在 pyqt4 中创建了一个自定义小部件，我已经对其进行了处理和测试，现在准备将其加载到我的主窗口中。由于它没有出现在设计器中，我需要手动将其手动添加到我的主窗口中。

我的小部件使用 uic 来加载 ui 文件，而不是将其转换为 py 文件（到目前为止它更快更轻松），所以它看起来像这样：

```
class widgetWindow(QtGui.QWidget):
    def __init__(self, parent = None):
        super(widgetWindow, self).__init__(parent)
        self.ui = uic.loadUi("widget.ui")
    #everything else 
```

现在在我的主类中（为简洁起见）我创建布局，将小部件添加到布局中，然后将其添加到主小部件

```
class main(QtGui.QMainWindow):
    def __init__(self, parent = None):
        super(main, self).__init__(parent)
        self.ui = uic.loadUi("testWindow.ui")
        mainlayout  = QtGui.QVBoxLayout()
        window = widgetWindow(self)
        mainlayout.addWidget(window)
        centerWidget = QtGui.QWidget()
        centerWidget.setLayout(mainlayout)
        self.ui.setCentralWidget(centerWidget) 
```

没有抛出任何错误，它会为小部件腾出空间，但它根本不会显示任何东西。

添加行 window.ui.show() 只会弹出一个新窗口，覆盖它应该在主窗口上占据的空间。我错过了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T18:30:02.970

对 uic 加载器进行更多研究，有两种方法可以加载 ui 文件。我在问题中使用它的方式是一种方式，另一种方式是使用 uic.loadUiType()。这将创建由类对象继承的基类和表单类，而不仅仅是 QtGui.QWidget 类对象。

```
widgetForm, baseClass= uic.loadUiType("addTilesWidget.ui")

class windowTest(baseClass, widgetForm):
    def __init__(self, parent = None):
        super(windowTest, self).__init__(parent)
        self.setupUi(self) 
```

这样，小部件可以按预期加载到另一个表单中。至于为什么，我还没有找到答案。

有关不同设置类型的更多信息：http: [//bitesofcode.blogspot.com/2011/10/comparison-of-loading-techniques.html](http://bitesofcode.blogspot.com/2011/10/comparison-of-loading-techniques.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T07:11:17.597

尝试将 parent 参数添加到 loadUi 语句中：

```
 self.ui = uic.loadUi("widget.ui",parent)
    self.ui = uic.loadUi("testWindow.ui",self) 
```

并在您的主要课程结束时尝试以下行。

```
 self.setCentralWidget(centerWidget) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T07:14:45.033

您需要指定“centerWidget”是主窗口的中心小部件。即你的*主类*代码应该有这样一行： *self.setCentralWidget(centerWidget)*

 `````
class main(QMainWindow):
    def __init__(self, parent = None):            
        super(main, self).__init__(parent)
        ....
        self.setCentralWidget(centerWidget) 
`````

# java - 谁发起领导人选举

> ID：10612472
> 
> 赞同：-1
> 
> 时间：2012-05-16T05:21:40.287
> 
> 标签：java, algorithm

谁在没有领导者的点对点网络中发起领导者选举？这是我在接收消息时实现的一些代码。

```
if (message.startsWith(ELECTION)) {
        int recievedID = Integer.parseInt(ripMessage(ELECTION, message));
        if (processID > recievedID) {
            sendToAll(ELECTION + processID);
        } else if (processID < recievedID) {
            sendToAll(ACKNOWLEDGE);
        }
    } else if (message.startsWith(ACKNOWLEDGE)) {
        ackRecv++;
        if (connections.size() == ackRecv) {
            connection.sendMessage(LEADER + processID);
            this.isLeader = true;
            this.leaderID = processID;
            ackRecv = 0;
        }
    } else if (message.startsWith(LEADER)) {
        int recievedID = Integer.parseInt(ripMessage(LEADER, message));
        this.leaderID = recievedID;
        this.isLeader = false;
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T08:57:17.870

通常在点对点系统中，不会有领导者。

在这种情况下，领导人选举没有意义。

有各种点对点算法 - 例如[Chord](http://en.wikipedia.org/wiki/Chord_%28peer-to-peer%29)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-16T16:40:49.470

查看[Paxos 共识算法](http://en.wikipedia.org/wiki/Paxos_algorithm)。对于 P2P 案例，算法本身可能会矫枉过正......仍然可能作为您需要解决的问题列表有用。

超短版 - 大多数参与者（法定人数）必须同意最高版本的选举消息 {leader, version}。如果多轮选举几乎同时开始，则可能需要多轮选举。

# jquery - jQuery 在子窗口中不起作用？

> ID：10612481
> 
> 赞同：1
> 
> 时间：2012-05-16T05:22:41.600
> 
> 标签：jquery, window, cross-window-scripting

当我写：

```
var x = window.open('','','width=480,height=500');
x.document.write('
<html>
<head>
<link rel="stylesheet" type="text/css" href="chat.css" / >
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"><' +'/script>
<script type="text/javascript">
alert("hi");
<' + '/script>
</head>
<body><p>hi</p></body>
</html>'); 
```

我得到警报。

但如果我这样做——

```
 x.document.write('
<html>
<head>
<link rel="stylesheet" type="text/css" href="chat.css" / >
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js">
<' +'/script>
<script type="text/javascript">
$(function(){
alert("hi");
});
<' + '/script>
</head>
<body><p>hi</p></body>
</html>'); 
```

然后它不起作用。它什么也不做。我整晚都在想办法解决这个问题。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:33:49.647

这是因为 jQuery 永远不会触发 DOM 就绪事件，除非您`.close()`在写入文档后正确地写入它：

```
var x = window.open('','','width=480,height=500'),
x.document.write('all your html and script here');
x.document.close(); 
```

应得的信用：[window.open 和 $(document).ready](https://stackoverflow.com/questions/2226163/window-open-and-document-ready)

# jquery - 使用 jquery 禁用所有选择？

> ID：10612493
> 
> 赞同：2
> 
> 时间：2012-05-16T05:23:06.693
> 
> 标签：jquery

我有一个帖子表单，第一个下拉列表用于选择类别，第二个下拉列表用于选择子类别。第二个根据选择的第一个类别而变化。

我有很多下拉菜单，我会根据所选类别显示最正确的下拉菜单。

我需要禁用所有下拉菜单并启用该下拉菜单，以便我可以正确提交表单。

```
<select name='dropdown'></select>
<select name='dropdown'></select>
<select name='dropdown' id='1'></select> 
```

如何禁用`name = 'dropdown'`除 id='1' 之外的所有选择？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-16T05:26:05.503

```
$('select.dropdown').attr('disabled', true);
$('select#1').attr('disabled',false); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T05:23:57.570

```
$('select.dropdown').prop('disabled', true);
$('select.dropdown#1').prop('disabled', false); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-16T05:41:29.413

请在 jquery 行下方使用。

```
$('select:not("#1")').attr('disabled', true);​​​ 
```

jsfiddle 演示[在这里](http://jsfiddle.net/umeshpatil86/n9af3/)

有关更多信息，请访问[jquery 文档](http://api.jquery.com/not-selector/)。

# android - Android Preference OnPreferenceClickListener( ) OnPreferenceClick( ) 参数，是否无关紧要？

> ID：10612496
> 
> 赞同：0
> 
> 时间：2012-05-16T05:23:21.720
> 
> 标签：android, preferences

在 Preferences 活动中使用此代码来了解何时单击了重置首选项：

```
 Preference reset = findPreference(res.getString(R.string.reset_text));
    reset.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {

        public boolean onPreferenceClick(Preference p) {
            // TODO stuff              
            return true;
        }
    }); 
```

我认为参数*Preference p*将始终是*重置*的Preference，因为这是单击它的专用侦听器。我对吗？还是我必须检查是否单击了正确的首选项？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:26:08.410

你说的对。如果是专用侦听器，则无需检查参数。但是您可能会注意到，如果需要，可以跨首选项共享侦听器实例，在这种情况下，参数将唯一标识被单击的首选项。

# .htaccess - url重写和htaccess规则

> ID：10612501
> 
> 赞同：1
> 
> 时间：2012-05-16T05:23:37.440
> 
> 标签：.htaccess, url-rewriting

我已经重写了 URL 重写规则，但是当我尝试访问网站管理面板时，服务器向我显示 404 错误，而前端正在使用重写规则。

写了以下规则

```
Options +FollowSymlinks
RewriteEngine on
RewriteBase / 
```

对于管理面板

```
RewriteRule ^admin/page/([a-zA-Z0-9_-]+)\.html$ admin/page.php?page=$1
RewriteRule ^admin/page/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/(.*)$ admin/page.php?page=$1&$2=$3 
```

对于前端

```
RewriteRule ^(.*)\.html$ $1.php [nc] 
```

虽然前端规则工作正常，但我可以使用 www.blabla.com/index.html 访问该网站。书面规则自动将.php文件转换为.html

此外，这些规则在我的本地主机和 UAT 服务器上运行良好，但在生产服务器上这些规则不起作用。

任何人都可以建议我做错了什么，或者 .htaccess 或 mod_rewrite 有什么我可以做一些调整的地方。

请建议......

# excel - 在 VBA 用户窗体中关闭打开的工作簿时出错

> ID：10612502
> 
> 赞同：6
> 
> 时间：2012-05-16T05:23:37.900
> 
> 标签：excel, vba, macos

在一个子例程中，我想打开一个工作簿，从中读取一些内容，然后关闭它。
出于某种原因，我收到一个错误：

```
Run-time error '1004':

Method 'Close' of object _Workbook failed 
```

我已经确定了一个最小的代码片段来重现该问题。
创建一个新的excel文件。在其中创建一个用户表单。在此基础上，使用以下 Click 事件代码创建一个命令按钮：

```
Private Sub CommandButton1_Click()
    Dim filename As String
    Dim opened_workbook As Workbook

    filename = Application.GetOpenFilename()    ' User selects valid Excel file
    Set opened_workbook = Application.Workbooks.Open(filename)
    ' File operations would occur here
    opened_workbook.Close    ' Exception thrown here

    MsgBox "If you got here, it worked!"
    Unload Me
End Sub 
```

真正让我感到困惑的是，当命令按钮不在用户窗体上（直接在工作表上的普通按钮上）时，相同的代码不会发生此错误。

我什至不知道还要报告什么或在哪里解释这种行为（除了 StackOverflow！）。我正在使用 Excel for Mac 2011 编写 VBA，如果有所不同，我可以迁移到 Windows Excel 2010。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-16T08:17:33.827

是的，在 Excel 2011 中，这是一个错误（*未记录 - 我还没有找到它的文档*）。您必须稍微修改代码。试试这个

```
Private Sub CommandButton1_Click()
    Dim filename As String
    Dim opened_workbook As Workbook

    filename = Application.GetOpenFilename()    ' User selects valid Excel file
    Set opened_workbook = Application.Workbooks.Open(filename)

    Unload Me

    opened_workbook.Close    

    MsgBox "If you got here, it worked!"
End Sub 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-08-31T18:29:15.023

我在 Mac 上的 Excel 11 上遇到了这个确切的问题（在 Windows 上运行良好的 Excel 2013），只有从用户窗体调用的模块子中发生了错误。如果有人（像我一样）试图从不在用户窗体本身内部的模块（或其他位置）中的子/函数中使用 workbook.close 方法，则不能使用“我”。“我”只能在用户窗体代码本身中使用。

而不是“卸载我”使用卸载功能和您的用户窗体的名称。

```
Unload UserFormName 
```

# php - NULL 附加到传递给函数的数组

> ID：10612519
> 
> 赞同：1
> 
> 时间：2012-05-16T05:26:04.747
> 
> 标签：php, codeigniter, null

尝试将数组传递给更新 MySQL 表中数据的函数时，我遇到了一个奇怪的错误。

我的触发器

```
$input_data = array(
  'field0' => 'abc',
  'field1' => '123'
);

// var dump #1
var_dump($input_data);
// gives expected result (2 element array)

$this->user->update_user_info($input_data); 
```

用户模型

```
function update_user_info($new_data) {
    // var dump #2
    var_dump($new_data);

    // this gives:
    // array(2) {
    //    ["field0"] => string(3) "abc"
    //    ["field1"]=> string(3) "123"
    // }
    // NULL
} 
```

那个结尾的 NULL 是从哪里来的？我正在尝试将其与 Codeigniter 的活动记录更新类一起使用，但由于该 NULL 而失败。

我试图通过循环遍历 foreach 将它复制到一个新数组，但 NULL 值跟随新数组，即使它似乎不在数组中。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T17:45:12.277

NULL 显然不在数组中；它在第二次调用 update_user_info() 函数时打印。您应该尝试找出 update_user_info() 函数被调用两次的原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-08T17:27:43.513

对上述“答案”表示歉意，我是该网站的新手，看不到评论按钮：p

我已经根据我自己的情况解决了这个问题，这可能适用于你。

正如我之前所说，我的问题是相同的，原因是没有正确返回两个函数 - 我返回了辅助函数，即我的数组被传递给的那个函数。

```
function update_user_info($new_data) {

    // var dump #2
    var_dump($new_data);
    return;

} 
```

但是在第一个函数中，我在调用第二个函数后没有返回，希望这是有道理的，这对你也有帮助，这对我来说真是令人沮丧！

# jquery - 单击图像时更改隐藏字段的值（rails和jquery）

> ID：10612522
> 
> 赞同：1
> 
> 时间：2012-05-16T05:26:29.787
> 
> 标签：jquery, image, input

我正在尝试将隐藏输入字段的值更改为单击图像的来源。出于某种原因，该字段没有获得价值。我究竟做错了什么？

图片...

```
<li><h><img src="/images/frame1.png"></h></li>
<li><h><img src="/images/frame2.png"></h></li>
<li><h><img src="/images/frame3.png"></h></li> 
```

隐藏字段：

```
<%= f.hidden_field :frame, :id => "frame", :name => "frame" %> 
```

jQuery代码：

```
<script type="text/javascript" language="javascript">
$(function() { 
    $("h img").click(function() {
        var imageId = $("img").attr("src");
        $("#frame").val(imageId);
    });
});​
</script> 
```

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:29:01.030

```
 $("h img").click(function() {
        var imageId = $(this).attr("src"); // or can use this.src instead
        $("#frame:hidden").val(imageId);
    }); 
```

# c++ - Qt 程序编译失败

> ID：10612523
> 
> 赞同：1
> 
> 时间：2012-05-16T05:26:31.227
> 
> 标签：c++, qt, qt4, qt-creator

我正在编写这个简单的 Qt 应用程序，但它显示以下错误。谁能解释我为什么会收到这些错误？下面是代码片段：

```
#include <QTextStream>

int main()
{
   QTextStream out(stdout);
   out << "console application\n";
} 
```

编译步骤如下：

```
qmake -project 
qmake .pro file 
make 
```

完成上述步骤后，以下是我得到的输出：

```
g++ -c -pipe -g -Wall -W -O2 -D_REENTRANT  -DQT_NO_DEBUG -DQT_THREAD_SUPPORT -DQT_SHARED -DQT_TABLET_SUPPORT -I/usr/share/qt3/mkspecs/default -I. -I. -I/usr/include/qt3 -o text.o text.cpp
text.cpp:1:23: error: QTextStream: No such file or directory
text.cpp: In function ‘int main()’:
text.cpp:5: error: ‘QTextStream’ was not declared in this scope
text.cpp:5: error: expected ‘;’ before ‘out’
text.cpp:6: error: ‘out’ was not declared in this scope
make: *** [text.o] Error 1 
```

平台：Linux

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-16T05:34:12.137

使用`qmake`and`make`而不是手动调用编译器。

```
cd YourProject/
qmake -project
qmake
make
./YourProjectTarget 
```

并确保`qmake`您调用的版本是 Qt4 版本，而不是 Qt3。您似乎安装了这两个版本，并且您可能正在调用 Qt3 版本。

试试这个：

```
qmake -version 
```

输出应该是这样的

```
QMake version 2.01a
Using Qt version 4.8.1 in /usr/lib/x86_64-linux-gnu 
```

为了确保您调用的是正确的`qmake`（Qt4），通常您可以将`qmake`命令替换为`qmake-qtX`，其中`X`是 Qt 版本。

```
cd YourProject/
qmake-qt4 -project
qmake-qt4
make
./YourProjectTarget 
```

# javascript - 使用 AJAX 运行实时时钟

> ID：10612527
> 
> 赞同：0
> 
> 时间：2012-05-16T05:26:44.650
> 
> 标签：javascript, ajax, scope

既然帮助我让 AJAX 运行得很好，我在用它运行时钟功能时遇到了问题......

时钟代码（位于头部）：

```
<script type="text/javascript">

var ampm = "AM"; //Default
var message="";

function startTime()
{
var today = new Date(); //Number goes here
var h=today.getHours();
var m=today.getMinutes();
var s=today.getSeconds();
// add a zero in front of numbers<10
m=checkTime(m);
s=checkTime(s);
h=checkTime2(h);
document.getElementById('clocktxt').innerHTML=h+":"+m+":"+s+ " " +ampm + " " + message;
//t=setTimeout('startTime()',500);
}

function checkTime(i)
{
if (i<10)
  {
  i="0" + i;
message = "How long you gonna sit there?";
  }
return i;
}

function checkTime2(i)
{
if (i>12)
  {
  i=i-12;
ampm="PM";
  }
return i;
}

//setInterval(startTime,1000);

</script> 
```

AJAX 代码（文档底部）：

```
<script type='text/javascript'>
function CheckForChange(){
    //alert("<?echo (count($listArray)) . ' and ' . count(file($filename_noformat))?>");
    //if (<?echo count($listArray)?> == <?echo count(explode("\n", $filename_noformat))?>){
        //setInterval("alert('Yup, it is 1')", 5000);

        //alert('Now it is changed');
    //}

    var ajaxReady = new XMLHttpRequest();
    ajaxReady.onreadystatechange = function(){
        if (ajaxReady.readyState == 4){
            //Get the data
            //document.getElementById('clocktxt').innerHTML = ajaxReady.responseText;
            //startTime();
            //alert("here");
            //alert(ajaxReady.responseText);
        }
    }
    ajaxReady.open("GET","ServerTime.php",true);
    ajaxReady.send(null);
}

setInterval(CheckForChange(), 1000);
setInterval(startTime(),1000);
</script> 
```

我想要做的是将来自 ServerTime.php 的输入（它只是 Unix 纪元的毫秒数）传递到时钟中，因此 AJAX 每秒都会更新时钟，并且时钟函数以新的开始运行每秒的价值......在我意识到时钟甚至没有被调用之前，我曾经有时钟函数的参数。

你觉得哪里不对？我猜这与时钟有关，时钟的调用者位于两个不同的脚本标签中，但我想不出如何绕过它。出于某种原因，当我将 AJAX 部分移动到同一个脚本标签中时，跟随时钟，没有任何反应。

致 Kolink：我有这个

```
function getTheNow(){
TIMESTAMP = <?php echo time(); ?>000;
    offset = new Date().getTime()-TIMESTAMP;
    setInterval(function() {
        var now = new Date();
        now.setTime(now.getTime()-offset);
        // print out the time according to the variable `now`
//alert(now);
    },5000);
return now;
}

function startTime()
{
var now = getTheNow;
//alert(now);
var today = new Date(); //Number goes here
var h=today.getHours();
var m=today.getMinutes();
var s=today.getSeconds();
// add a zero in front of numbers<10
m=checkTime(m);
s=checkTime(s);
h=checkTime2(h);
document.getElementById('clocktxt').innerHTML=h+":"+m+":"+s+ " " +ampm + " " + message;
t=setTimeout('startTime()',500);
}

function checkTime(i)
{
if (i<10)
  {
  i="0" + i;
message = "How long you gonna sit there?";
  }
return i;
}

function checkTime2(i)
{
if (i>12)
  {
  i=i-12;
ampm="PM";
  }
return i;
}

setInterval(startTime,1000); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T05:32:44.540

计算机时钟并非如此不准确，以至于您必须每秒重新同步它们。每十分钟尝试一次，甚至每小时尝试一次。

事实上，我只是完全取消了同步。这样做要容易得多：

```
<script type="text/javascript">
    TIMESTAMP = <?php echo time(); ?>000;
    offset = new Date().getTime()-TIMESTAMP;
    setInterval(function() {
        var now = new Date();
        now.setTime(now.getTime()-offset);
        // print out the time according to the variable `now`
    },1000);
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T05:33:07.253

JavaScript 101 错误

```
setInterval(CheckForChange(), 1000);
setInterval(startTime(),1000); 
```

您不是在分配函数，而是在调用/执行它们并说应该设置从这些函数返回的内容。删除 () 以便您引用函数。

```
setInterval(CheckForChange, 1000);
setInterval(startTime,1000); 
```

# vhdl - 带有状态机的 VHDL 输出声明

> ID：10612533
> 
> 赞同：0
> 
> 时间：2012-05-16T05:27:15.880
> 
> 标签：vhdl

我正在尝试用 VHDL 编写一个将扫描 4x4 键盘的状态机。我希望 keyP 在开始时和重置后设置为 0。我还希望`Col`在开始时和重置后将其设置为“1111”。

由于我不完全精通 VHDL 编程，我确信这只是一个愚蠢的语法错误。
我得到的错误是：

> 错误 (10818)：无法在 Lab_7_Keypad.vhd(39) 中推断“Col[0]”的寄存器，因为它没有在时钟沿之外保持其值

, `Col[1]`, `Col[2]`,`Col[3]`和 for`keyP`也一样。

这是我开始这一切的代码。有人可以告诉我我哪里出错了吗？

谢谢

```
ENTITY Lab_7_Keypad IS
PORT(
    nReset          :   IN  STD_LOGIC;
    clk             :   IN  STD_LOGIC;
    row             :   IN  STD_LOGIC_VECTOR (3 downto 0);
    Col             :   OUT STD_LOGIC_VECTOR (3 downto 0);
    data            :   OUT STD_LOGIC_VECTOR (3 downto 0);
    keyP            :   OUT STD_LOGIC);

    END Lab_7_Keypad;

ARCHITECTURE a OF Lab_7_Keypad IS   
TYPE STATE_TYPE IS ( Col1Set, Col2Set, Col3Set, Col4Set );
SIGNAL  coltest :   STATE_TYPE;

BEGIN
PROCESS (clk, nReset )
BEGIN
    keyP <= '0';
    Col <= "1111";
    IF nReset = '0' THEN                        --  asynch Reset to zero
        coltest <=  Col1Set;
        Col <="1111";
        keyP <= '0';
    ELSIF clk'EVENT AND clk = '1' THEN          --  triggers on PGT

        CASE coltest IS
            WHEN Col1Set => 
            Col <="1110";
                CASE row IS
                    WHEN    "1110"=>--row 1
                    data <= "0001";
                    keyP <= '1';
                    WHEN    "1101"=>--row 2
                    data <= "0100";
                    keyP <= '1';
                    WHEN    "1011"=>--row 3
                    data <= "0111";
                    keyP <= '1';
                    WHEN    "0111"=>--row 4
                    data <= "1110";
                    keyP <= '1';
                    WHEN OTHERS => coltest <= Col2Set;
                END CASE;
  --And continues with same Case statements three more times. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T09:05:11.797

您的综合错误是由于您在进程的异步复位或时钟边缘之外分配给**col**和**keyP**的事实，这没有正确描述寄存器。删除这些分配，错误应该会消失。

```
PROCESS (clk, nReset )
BEGIN
    --keyP <= '0';  <------- BAD!
    --Col <= "1111"; <------- BAD!
    IF nReset = '0' THEN                        --  asynch Reset to zero
        coltest <=  Col1Set;
        Col <="1111";
        keyP <= '0';
    ELSIF clk'EVENT AND clk = '1' THEN          --  triggers on PGT

        CASE coltest IS
            WHEN Col1Set => 
            Col <="1110";
                CASE row IS
                    WHEN    "1110"=>--row 1
                    data <= "0001";
                    keyP <= '1';
                    WHEN    "1101"=>--row 2
                    data <= "0100";
                    keyP <= '1';
                    WHEN    "1011"=>--row 3
                    data <= "0111";
                    keyP <= '1';
                    WHEN    "0111"=>--row 4
                    data <= "1110";
                    keyP <= '1';
                    WHEN OTHERS => coltest <= Col2Set;
                END CASE;
  --And continues with same Case statements three more times. 
```

# iphone - 在部分中按字母顺序排列 tableview 数据

> ID：10612537
> 
> 赞同：0
> 
> 时间：2012-05-16T05:27:33.487
> 
> 标签：iphone, objective-c, uitableview

我有一个数组中的数据列表。

我实现了代码以在表格视图中显示该数组中的数据。

正常显示现在我需要按字母顺序和部分显示数据如下。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T07:06:14.047

排序使用：-

```
NSSortDescriptor *sortParam= [NSSortDescriptor sortDescriptorWithKey:@"name" ascending:YES];
[yourArray sortUsingDescriptors:[NSArray arrayWithObject:sortParam]]; 
```

`viewdidload`在将其分配给表之前对其进行排序。

# iphone - NSSortDescriptor

> ID：10612547
> 
> 赞同：0
> 
> 时间：2012-05-16T05:28:41.183
> 
> 标签：iphone, objective-c

请给我建议，我该如何解决这个问题..  

```
NSSortDescriptor *sortDescriptor = [[NSSortDescriptor alloc] initWithKey:@"Weight" ascending:NO selector:@selector(localizedStandardCompare:)];
  NSArray *sortedArray = [arrayToSort sortedArrayUsingDescriptors:[NSArray arrayWithObject:sortDescriptor]]; 
```

我得到输出：

```
-[__NSCFNumber length]: unrecognized selector sent to instance 0x6a81cf0
2012-05-16 09:54:21.480 MedzioSearch[2188:f803] *** WebKit discarded an uncaught exception in the webView:shouldInsertText:replacingDOMRange:givenAction: delegate: <NSInvalidArgumentException> -[__NSCFNumber length]: unrecognized selector sent to instance 0x6a81cf0 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T05:59:11.377

什么样的物体在`arrayToSort`里面？他们的“重量”属性是什么类型的？

猜测一下，有些对象有一个 Weight 属性，`NSString`而有些对象的 Weight 属性是一个`NSNumber`. 因此，排序试图做类似的事情`[someString localizedStandardCompare:someNumber]`。在 内部`-[NSString localizedStandardCompare:]`，它调用`-length`的是一个`NSNumber`并且不识别该选择器的参数。

顺便说一句，属性名称应以小写字母开头，除非它们以首字母缩写词或首字母缩写（如“URL”或“TIFF”）开头。因此，您的属性应命名为“重量”，而不是“重量”。

# ios - 任何成熟的iOS应用程序自动测试解决方案？

> ID：10612551
> 
> 赞同：2
> 
> 时间：2012-05-16T05:29:04.503
> 
> 标签：ios, automated-tests

作为 iOS 开发人员而不是 QA，我对这个话题很陌生。是否可以在真实设备中为 iOS 应用程序构建自动测试？如果是，任何成熟的解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T06:18:12.910

我喜欢[KIF](https://github.com/square/KIF "国际电影节")。

易于使用，它可以让您在 Objective-C 中编写测试。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-17T13:19:54.773

我知道您询问了成熟的解决方案，但[Telerik 的 iOS 测试工作室](http://www.telerik.com/automated-testing-tools/ios-testing/ios-application-testing.aspx)是您可能会研究的东西，即使它处于测试阶段。（免责声明：我为 Telerik 工作并帮助推广这些工具。）

我们在本机设备上工作，无需越狱。也不需要网络共享或 wifi/网络连接，因此您可以在完全断开连接的模式下工作，以确保您的应用程序的离线使用正常工作。Test Studio for iOS 还避免了基于位置的定位器，因此非常灵活。它也适用于本机应用程序 (UIKit)、Web 应用程序和混合应用程序。

# android - 适用于 Android 的回收站，可以存储已删除的消息、视频、文件等

> ID：10612554
> 
> 赞同：0
> 
> 时间：2012-05-16T05:29:33.450
> 
> 标签：android

我想`Recycle bin`为android平台开发一个应用程序。为此，我想要一些想法，以便我可以开始这个项目。我想知道如何设计一个高效的回收站，可以存储已删除的消息、视频、mp3、其他文件等。我只是参考这篇文章[如何实现“回收站”功能？](https://stackoverflow.com/questions/6072828/how-can-i-implement-recycle-bin-functionality)，我可以在android中使用这种方式还是请建议是否有其他替代方式？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T06:16:56.137

您不能在 3rd 方应用程序中以绑定现有应用程序的方式执行此操作。

*   您可以通过构建功能并说服其他应用程序创建者将内容交给您而不是删除它们来做到这一点。

*   您可以通过修改 android 系统将内容移动到回收站而不是删除它们来对文字文件（视频、mp3 等）执行此操作，但这不会影响消息等数据库对象

*   您可以修改Android系统的sqlite数据库库，将删除的消息放在某个地方，但是原始应用程序将无法访问已删除的消息，除非这些应用程序使用回收站知识进行了重建。

您的想法也存在相当多的隐私/安全问题。

# ios - 如何根据图像分辨率确定最大比例尺

> ID：10612557
> 
> 赞同：0
> 
> 时间：2012-05-16T05:30:05.470
> 
> 标签：ios, image, resources, dpi

实际上，我想将 iPhone 中使用的图像缩放到 iPad。

我有一张分辨率为 300 dpi 的图像。

它的大小是 320 * 127。

**我最多可以缩放这个图像多少，这样它就不会模糊？**

因为我被图像的分辨率与其最大尺寸之间的关系所困扰。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T22:45:10.807

我认为您不了解分辨率的概念。

您的要求只是“这样它就不会模糊”。如果您缩放图像大于*或*小于其原始分辨率（我假设是“320 * 127”），则显示设备必须减少或增加像素数。它通过插值或“模糊”像素颜色来做到这一点。

现在，如果您要问的是，您可以在多大程度上改变图像的比例以使人眼无法分辨出差异，这是一个不同的问题。

# iphone - 如何在 iPhone 应用中使用 Dropbox Api 共享文档？

> ID：10612560
> 
> 赞同：2
> 
> 时间：2012-05-16T05:30:22.230
> 
> 标签：iphone, ios, dropbox, dropbox-api

我正在使用 dropbox Api 为 iOS 编写一个应用程序。我的应用程序具有以下功能， 1\. 用户必须能够登录到他的 Dropbox 帐户，创建文档和上传。2\. 他必须能够查看他的文件夹和文件内容。3\. 用户必须具备与他人共享文件的规定。

我已经完成了前 2 个任务，但发现很难共享文档。我已经提到了保管箱开发者论坛，但没有得到任何解决方案。谁能告诉我该怎么做？

提前致谢。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-31T13:52:47.193

您可以拨打以下电话：

```
NSString *path = @"/yourfile.jpg";
[[self restClient] loadSharableLinkForFile:path]; 
```

然后设置委托方法：

```
- (void)restClient:(DBRestClient*)restClient loadedSharableLink:(NSString*)link forFile:(NSString*)path
{
    NSLog(@"link is %@", link);
}
- (void)restClient:(DBRestClient*)restClient loadSharableLinkFailedWithError:(NSError*)error
{    
    NSLog("%@", [error localizedDescription]); 
} 
```

您可以通过查看 DBRESTClient.h 中的框架来找到您需要的所有调用。

祝你好运！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-16T16:49:20.580

Dropbox API 提供 /shares 调用 ( [https://www.dropbox.com/developers/reference/api#shares](https://www.dropbox.com/developers/reference/api#shares) ) 以允许您创建只读可共享链接 ( [https://www.dropbox.com/help/ 167](https://www.dropbox.com/help/167) ) 到用户 Dropbox 中的任何文件或文件夹。此调用可通过官方 Dropbox iOS SDK 中 DBRESTClient.m 中的 loadShareableLinkForFile: 函数获得。（Dropbox API 目前不提供任何读取/写入共享文件夹的调用。）

# android - Android 如何观察 Opera 和 Dolphin 浏览器或所有浏览器

> ID：10612561
> 
> 赞同：2
> 
> 时间：2012-05-16T05:30:28.207
> 
> 标签：android, browser, web-controls, contentobserver, parental-control

我正在 android 中实现网络阻止（家长控制）。我可以使用以下代码仅观察 Android 的默认 Internet 浏览器的 url 点击（当用户想要访问某个网站时）：

```
getContentResolver().registerContentObserver(Browser.BOOKMARKS_URI, true, new MyContentObserver(mHandler, getApplicationContext())); 
```

但我无法观察其他浏览器，如 Opera 和 Dolphin。

请告诉我如何收听这些浏览器？

如果我必须提供 Browser.BOOKMARKS_URI 以外的东西？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-31T23:54:28.327

您可以将 uri`content://com.android.chrome.browser/bookmarks`用于 chrome 浏览器。这样你就可以支持两个浏览器。

任何人都可以在没有 API 支持的情况下开发自己的浏览器，因此您无法为所有浏览器制作应用程序。

# nsis - 显示产品版本？

> ID：10612562
> 
> 赞同：1
> 
> 时间：2012-05-16T05:30:48.227
> 
> 标签：nsis

我的产品版本为 wxyz 我对该产品的升级版本为 wxyz+1。但要求是在升级版本ie之前的第四个字段；z 不应该被检查...即；myproduct 不应该考虑 z 字段.....请回答我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-17T11:55:14.097

在这种情况下，这可能是一个解决方案（基于[http://nsis.sourceforge.net/Sort_String_2](http://nsis.sourceforge.net/Sort_String_2)）。我创建了测试注册表项只是为了检查您的`{3.1.123 4.0.112 4.1.119}`. 请替换为您的应用程序使用的那个。

```
Name "TrimTest2"
OutFile "TrimTest2.exe"

!include "TextFunc.nsh"
!include "nsDialogs.nsh"
!include "LogicLib.nsh"
!include "WinMessages.nsh"
!include "WordFunc.nsh"
!insertmacro VersionCompare

Function AdvStrSort
  Exch $0 ; input string
  Exch
  Exch $1 ; count to get part
  Exch
  Exch 2
  Exch $2 ; get ammount of chunks from end
  Exch 2
  Push $3
  Push $4
  Push $5
  Push $6
  Push $7
  StrCpy $0 " $0"
  StrCpy $3 0
  StrCpy $4 0
  loop:
    IntOp $3 $3 - 1
    StrCpy $6 $0 1 $3
    StrCmp $6 "" skip
    StrCmp $6 " " roger ; to change chunk seperators, edit this (" ")
    Goto loop
  roger:
    StrCpy $7 $0 "" $3
    IntOp $4 $4 + 1
    StrCmp $4 $2 0 loop
    StrCmp $1 $2 0 +3
    StrCpy $0 $7
    Goto end
  skip:
    StrCpy $4 0
    StrLen $5 $7
  top:
    IntOp $4 $4 + 1
  loop2:
    IntOp $5 $5 - 1
    StrCpy $3 $7 1 -$5
    StrCmp $3 "" end
    StrCmp $3 " " 0 loop2 ; to change chunk seperators, edit this too (" ")
    StrCmp $4 $1 0 top
    StrCpy $0 $7 -$5
  end:
    StrLen $1 $0
    IntOp $1 $1 - 1
    StrCpy $0 $0 $1 -$1
  Pop $7
  Pop $6
  Pop $5
  Pop $4
  Pop $3
  Pop $2
  Pop $1
  Exch $0 ; output string
FunctionEnd

Section
  ReadRegStr $R1 HKLM "SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\UserApplicationName" "Version"
Push 1 ; get text after 1st chunk from string end
 Push 1 ; get 1 chunk before the 1st
  Push "$R1" ; input string (string that has spaces)
    Call AdvStrSort
  Pop $R0
MessageBox MB_ICONEXCLAMATION "Result: $R0"
${VersionCompare} $R0 "5.0.114" $R2
 ;MessageBox MB_ICONEXCLAMATION "Result: $R2"
  ${If} $R2 == 1 ;if 5.0.114 is lower that $R0
    MessageBox MB_ICONEXCLAMATION "Your App Version is newer than this version of update"
  ${EndIf}
  ${If} $R2 == 0 ;versions are equal
    MessageBox MB_ICONEXCLAMATION "Your App Version is equal to this version of update"
  ${EndIf}
  ${If} $R2 == 2 ;if 5.0.114 is higher that $R0
    MessageBox MB_ICONEXCLAMATION "Your App Version is older and will be updated"
  ;here you can write your update section
  ${EndIf}
SectionEnd 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-17T10:27:33.610

您可以从注册表中读取您的应用程序版本并将其保留为变量，然后将其修剪为特定数量的字符。检查[http://nsis.sourceforge.net/TrimText:_Trim_text_e.g._to_fit_in_a_label](http://nsis.sourceforge.net/TrimText:_Trim_text_e.g._to_fit_in_a_label)

`ANSI NSIS`如果您安装了这样的版本，下面的脚本将适用，如果没有，请`ReadRegStr`相应地更改。

```
Name "TrimTest"
OutFile "TrimTest.exe"

!include "TextFunc.nsh"
!include "nsDialogs.nsh"
!include "LogicLib.nsh"
!include "WinMessages.nsh"
!include "WordFunc.nsh"
!insertmacro VersionCompare

Function TrimText
 Exch $R0 ; char
 Exch
 Exch $R1 ; length
 Exch 2
 Exch $R2 ; text
 Push $R3
 Push $R4

 StrLen $R3 $R2
 IntCmp $R3 $R1 Done Done

 StrCpy $R2 $R2 $R1

 StrCpy $R3 0
  IntOp $R3 $R3 + 1
  StrCpy $R4 $R2 1 -$R3
  StrCmp $R4 "" Done
  StrCmp $R4 $R0 0 -3

  IntOp $R3 $R3 + 1
  StrCpy $R4 $R2 1 -$R3
  StrCmp $R4 "" Done
  StrCmp $R4 $R0 -3

  IntOp $R3 $R3 - 1
  StrCpy $R2 $R2 -$R3
  StrCpy $R2 $R2

 Done:
 StrCpy $R0 $R2
  Pop $R4
  Pop $R3
  Pop $R2
  Pop $R1
  Exch $R0 ; output
FunctionEnd

!macro TrimText Text Length Char Var
  Push "${Text}"
  Push "${Length}"
  Push "${Char}"
   Call TrimText
  Pop "${Var}"
!macroend

!define TrimText "!insertmacro TrimText"

Section
  ReadRegStr $0 HKLM "SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\NSIS ANSI" "DisplayVersion"
  ${TrimText} $0 7 "-" $R0 
;set max lenght to 7, where only 6 chars are needed, as trimmer will stop on - char
;in your case you will probably want to trim to first . from right side
  ;${TrimText} "string" "max_length" "up_to_char" "$out_var"
  MessageBox MB_ICONEXCLAMATION "Line: $R0"
  ;Input $0 from registry should be "2.46.4-ANSI" if the latest ANSI NSIS is installed
  ;$R0 after trimm will be "Line: 2.46.4"
${VersionCompare} $R0 "2.46.6" $R2
  ${If} $R2 == 1 ;if 2.46.6 is lower that $R0
    MessageBox MB_ICONEXCLAMATION "Your App Version is newer than this version of update"
  ${EndIf}
  ${If} $R2 == 0 ;versions are equal
    MessageBox MB_ICONEXCLAMATION "Your App Version is equal to this version of update"
  ${EndIf}      
  ${If} $R2 == 2 ;if 2.46.6 is higher that $R0
    MessageBox MB_ICONEXCLAMATION "Your App Version is older and will be updated"
  ;here you can write your update section
  ${EndIf}
SectionEnd 
```

# c# - 无法在 Visual Studio 中更改异常的前景色

> ID：10612563
> 
> 赞同：3
> 
> 时间：2012-05-16T05:30:49.237
> 
> 标签：c#, visual-studio, colors, resharper

我正在尝试修复[Resharper Sons of Obsidian 配色方案](http://studiostyl.es/schemes/resharper-son-of-obsidian)中的错误，该错误将异常突出显示为无法阅读的海军蓝色。我已经搜索了所有颜色组合，但似乎无法隔离颜色。

我还安装了 VSCommands，我试图禁用所有文本处理以删除它可能正在执行的任何突出显示。

![在此处输入图像描述](../Images/c8d43ac8198825cb0b506f0b07422665.png)

请让我知道如何将其设置为正常颜色。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-17T14:12:11.157

您是否看到所有异常的颜色，还是只看到 NotImplementedException 的颜色？

默认情况下，ReSharper 设置类似“TODO”项目的样式（工具 | 选项 | 字体和颜色 | Resharper Todo 项目）。

如果你不想这样，你可以去 ReSharper | 选项 | 工具 | 待办事项并从列表中删除“未实施”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-07-12T06:55:49.260

正如 Brian 提到的，ReSharper 将其归类`NotImplementedException`为 TODO 项目，可以`ReSharper Todo Item → Foreground`在颜色主题设置的条目下找到：

[![在此处输入图像描述](../Images/c4c445f64b41a09df632855a131e5808.png)](https://i.stack.imgur.com/AXSsh.png)

# iphone - PresentViewController 不呈现视图

> ID：10612564
> 
> 赞同：0
> 
> 时间：2012-05-16T05:30:50.157
> 
> 标签：iphone, ios

```
-(void) switchtodetail{
    LocorecoDetailViewController *detail_view_controller = [[LocorecoDetailViewController alloc] init];
    [self presentViewController:detail_view_controller animated:YES completion:nil];
} 
```

上面的代码不存在`detail_view_controller`。更多信息`LocorecoDetailViewController`，它是使用 Master-Detail 应用程序模板时自动生成的详细视图控制器模板

所以我有一个控制器`SearchController`，它提供一个模式视图来添加一个问题。`Searchcontroller`是有`switchtodetail`功能的。`Switchtodetail`呈现一个模态控制器，以添加一个问题。添加问题后，我需要呈现一个新的视图控制器（详细视图控制器）所以流程是`SearchController`-> 添加问题（模态） -> 添加回后`Searchcontroller`-> `LocorecoDetailViewcontroller`。最后一个链接是坏掉的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T05:39:32.353

如果以上两个不起作用，请尝试以下操作：

```
 -(void) switchtodetail{

      LocorecoDetailViewController *detail_view_controller = [[LocorecoDetailViewController alloc] initWithNibName:@"LocorecoDetailViewController" bundle:nil];
      [self presentModalViewController:detail_view_controller animated:YES];

} 
```

我通常用它来展示视图控制器。我认为这三个中的一个绝对可以帮助您解决问题。一切顺利！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T06:39:52.993

您好，请指定您要加载的笔尖名称，因此请更改行

```
 LocorecoDetailViewController *detail_view_controller = [[LocorecoDetailViewController alloc] init]; 
```

至

```
 LocorecoDetailViewController *detail_view_controller = [[LocorecoDetailViewController alloc] initWithNibName:@"LocorecoDetailViewController" bundle:nil]; 
```

并从下一个代码中删除完成：nill 部分

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T05:34:18.997

利用：

```
[self presentModalViewController:detail_view_controller animated:YES]; 
```

希望这会奏效。

# javascript - Google plusone 按钮显示其弹出窗口已损坏

> ID：10612565
> 
> 赞同：0
> 
> 时间：2012-05-16T05:30:55.597
> 
> 标签：javascript, html, css, google-plus-one

我在网页中使用了 Google Plusone 按钮，但出现问题。
![在此处输入图像描述](../Images/5dfea83171b7925e1c5a18edb3fce9df.png)

请告诉我我该怎么做？文字出框，左侧框不正常。

这就是我在代码中输入的内容：

```
<!-- Place this tag where you want the +1 button to render -->
<g:plusone size="medium"></g:plusone>

<!-- Place this render call where appropriate -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script> 
```

# javascript - 单个页面中两组复选框的复选框检查功能，不能单独调用功能

> ID：10612569
> 
> 赞同：1
> 
> 时间：2012-05-16T05:31:48.700
> 
> 标签：javascript, jquery, html

我在一页中有两组输入复选框。我为每个集合添加了一个“检查”功能，每个集合都有不同的功能。我会树立一个榜样，

```
<div id="set1">
for(var i=0;i<n;i++)
<input type="checkbox" class=filter[i] onclick="clickCheck(filter[i])">array values
}
</div>

<div id="set2">
(for var j=0;j<n;j++)
<input type="checkbox" name="facets" value=array[j]>array values
}
</div> 
```

我已经使用了 jquery 函数，例如

```
$("#set1 :checkbox").click(checkFacetSelectionCount);    
checkFacetSelectionCount()
{
$('#set1 :input[type=checkbox]:checked').each(function() {
                    alert("Checked");
} 
```

和

```
clickCheck(s)
{
if ($("#set2").is(':checked')) 
  {
  alert(s);
  }
else
  {
   alert("Nothing Checked");
  } 
```

, 这两个功能在单击复选框时被激活，所以发生的情况是，每当我单击任何一个集合时，这两个功能集都会被激活。我怎样才能防止这种情况？我怎样才能以不同的方式调用这两个函数？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:33:53.913

我觉得

第一个应该

```
$('#set1 :input[type=checkbox]:checked')
{function body;} 
```

另一个应该

```
$('#set2 :input[type=checkbox]:checked')
       ^ 2 instead of 1
{function body;} 
```

# hibernate - 将加入的 JPA 继承引入现有数据库

> ID：10612574
> 
> 赞同：1
> 
> 时间：2012-05-16T05:32:01.940
> 
> 标签：hibernate, inheritance, jpa

这是我找不到解决方案的问题，我想，这要么是不可能的，要么我的整个想法走错了方向。

最初我的 JPA 层次结构的一部分是这样的：

```
@MappedSuperclass
public abstract class AbstractEntity {
    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    protected Long id;
    ..... 
}

@Audited
@Entity
@Table(name = "T_MEETING")
public class Meeting extends AbstractEntity implements Groupable {...}

@Audited
@Entity
@Table(name = "T_QUESTION")
public class Question extends AbstractEntity implements Groupable {...} 
```

该数据库已经使用了一段时间，直到出现某些对象中需要自定义字段为止。

我决定遵循以下路线 - 将抽象实体作为具有自定义字段的对象的基础：

```
@Audited
@Entity
@Table(name = "T_CF_OBJECT")
@Inheritance(strategy = InheritanceType.JOINED)
@PrimaryKeyJoinColumn(name = "ID", referencedColumnName = "CF_OBJECT_ID")
public abstract class EntityWithCustomFields extends AbstractEntity {...}

@Audited
@Entity
@Table(name = "T_QUESTION")
public class Question extends EntityWithCustomFields implements Groupable {...}

@Audited
@Entity
@Table(name = "T_MEETING")
public class Meeting extends EntityWithCustomFields implements Groupable {...} 
```

我尝试了不同的选择，但总是有一个问题：

1.  我猜，JPA 提供程序（在我的情况下是休眠）首先插入父级，因此它`CF_OBJECT_ID`是`null`

    Hibernate：插入 t_cf_object (id, cf_object_id) 值 (null, ?) Hibernate: 插入 t_meeting (active, date, c_group, last_notification_date, only_for_members, place, questions_order, subject, update_date, id) 值 (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

2.  如果我在基本实体上省略`@PrimaryKeyJoinColumn`注释，则其后代的 s`Id`和`Id`s 用作连接列，它导致子类表没有相同的 id。一开始这很好，但是我们已经在两个表中拥有大量记录，并且它们在`id`列中具有相同的值。更改表中的 s 不是一种选择`id`。

在我的情况下使用继承的正确方法是什么，所以它尽可能无缝地进入？很高兴了解如何首先使休眠持久子类实例，然后将其 id 传递给持久化的超类。必须有注释，对吧？

**编辑：至于使用建议`@MappedSuperclass`**

`@MappedSuperClass`由于以下原因，我真的不能使用 a 。父类`EntityWithCustomFields`用于通过类的`ManyToOne`关系来引用`CustomFieldValue`。在代码中，它如下所示：

```
@Entity
@Audited
@Table(name = "T_CF_VALUES")
public class CustomFieldValue extends AbstractEntity {
    @ManyToOne
    @JoinColumn(name = "customFieldObject", nullable = false)
    private EntityWithCustomFields customFieldObject;
    ....
}
@Audited
@Entity
@Table(name = "T_CF_OBJECT")
@Inheritance(strategy = InheritanceType.JOINED)
@PrimaryKeyJoinColumn(name = "ID", referencedColumnName = "CF_OBJECT_ID")
public abstract class EntityWithCustomFields extends AbstractEntity {
    @OneToMany(fetch = FetchType.LAZY, mappedBy = "customFieldObject", cascade = CascadeType.ALL)
    private List<CustomFieldValue> customFields;
    ....
 } 
```

我不认为`@MappedSuperclass`可以用于这种东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:56:57.660

在我看来，您不希望这里的实体继承，而是为您的具有自定义字段的实体提供一个额外的映射超类。

当您具有真正的 is-a 函数关系时，必须使用实体继承。例如，一张发票可能有一个产品列表，而产品实体将是继承树（蔬菜、肉类、服装等）的根。在这种情况下，蔬菜是一种产品，当然两个产品可能没有相同的 ID，因为例如价格实体可以通过外键引用产品，如果两个产品具有相同的 ID，它就不会根本不工作。

在您的情况下，具有自定义字段的实体完全不相关。它们只是碰巧有公共字段，您想通过将这些公共字段放在超类中来考虑这一点。这就是 MappSuperclass 的用途。并且这些自定义字段应该在每个实体表中重复。无论如何，这将比联合继承更有效（这会导致更多的查询，以及更复杂和更难优化的查询）。

# video - 块运动补偿编码器 - 如何处理参考帧中的块噪声？

> ID：10612577
> 
> 赞同：6
> 
> 时间：2012-05-16T05:32:38.737
> 
> 标签：video, encoding, compression, video-encoding

我不精通视频压缩，但目前正在从事一个使用 H.264 压缩残差图像的项目

我的问题更多的是关于视频编码器的一般性质。据我了解（正如维基百科解释的那样），块运动补偿编码器将当前帧划分为一些不重叠的块，对于它检查当前块来自的参考帧中的每个块，然后计算期望的块和运动补偿的块，然后它以某种方式对该残差进行编码。

维基百科指出：“块运动补偿的主要缺点是它在块边界处引入了不连续性（块伪影）。这些伪影以锐利的水平和垂直边缘的形式出现，人眼很容易发现并产生振铃效应（高频子带中的大系数）在用于残差帧的变换编码的傅里叶相关变换中。”

因此，由于参考帧已经包含块伪影（因为它已被编码），然后将这些块伪影移入当前块并计算残差，然后由块伪影在边界处创建的高频移位的块也将显示为残差中的不连续性。不连续性通常不利于压缩。

运动补偿块编码器是否在压缩残差之前以某种方式处理此块伪影？因为它确切地知道块是如何移动的，所以它知道块边界的位置，并且可以在编码残差之前或同时对它们做一些事情，去除/忽略这个地方不必要的高频。如果在像 H.264 这样的编解码器中执行这样的事情，有人可以解释编码器如何做到这一点的主要概念，给出一些术语等等吗？编码器如何处理参考帧中的块伪影？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-25T13:46:25.287

@Mat：这是一个很好的问题，很可能是视频编码研究的一个开放领域。简短的回答是，据我所知，今天的视频编码器并没有明确地做任何事情来处理块伪影对运动估计的影响。

在低细节区域的快速运动的情况下，如果存在明显的块伪影，运动矢量有时可能是块大小的倍数:) 或者换句话说，运动估计会找到前一帧中的块，并且不是原始图像的细节。这可能很少见；它既需要快速运动，图像的特征相当少的区域，也需要明显不足的比特率。您可能可以构建证明这一点的合成视频序列。块边界的知识是否有帮助尚不清楚；如果块边缘在下一帧的残差中引入高频分量，那么我们必须花费比特来擦除/纠正那些人为引入的分量，无论我们是否知道它们来自块伪影......即使这样,

但是，现代编解码器（例如 H.264 和 VP8）具有[环路去块滤波器](http://en.wikipedia.org/wiki/Deblocking_filter)，换句话说，解码帧在用作参考之前被去块，这可以减少块噪声，因此可能会最大限度地减少您遇到的问题的影响正确识别。

# facebook - Facebook 新应用程序 ID 不工作，而旧 ID 在同一程序中工作

> ID：10612584
> 
> 赞同：0
> 
> 时间：2012-05-16T05:33:15.517
> 
> 标签：facebook

我已经生成了一个新的 facebook 应用程序 ID 和密码，我做得正确，我得到了密钥，但是当我在我的应用程序中使用这个密钥时，它返回一条消息，而同一个程序与其他一些密钥一起正常工作；我收到的消息是：错误：此端点已被弃用。要暂时重新启用它，您可以禁用“august_2012”平台迁移，它将在 2012 年 8 月 1 日永久禁用。

有时错误是：您的应用未针对 facebook 配置。

我创建了另一个有同样问题的应用程序。

请告诉我是什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T07:18:05.537

`Settings\Advanced`在部分下禁用`August 2012 Breaking Changes`，`July 2012 Breaking Changes`并且应该可以正常工作。

但是，您应该修改您的应用功能，因为从 8 月起它将停止正常工作。

# extjs - 如何将精灵添加到煎茶触摸图表

> ID：10612586
> 
> 赞同：2
> 
> 时间：2012-05-16T05:33:29.783
> 
> 标签：extjs

我在窗口面板中有煎茶甜甜圈图，在另一个面板中有文本精灵。但我需要将此精灵与圆环图集成，这样如果我移动图表，添加的文本精灵也会相应移动。

这是我的代码：

```
Ext.setup({
    tabletStartupScreen: 'tablet_startup.jpg',
    phoneStartupScreen: 'phone_startup.jpg',
    tabletIcon: 'icon-ipad.png',
    phoneIcon: 'icon-iphone.png',
    glossOnIcon: false,

    requires: ['Ext.chart.Panel',
        'Ext.chart.axis.Numeric',
        'Ext.chart.axis.Category',
        'Ext.chart.series.Pie'],
    onReady: function () {

    var donut = false;
        window.initExample('Pie Chart',
            "This example's uses many interactions.<br><ul>" +
                "<li>Dragging the Pie Chart will rotate it.</li>" +
                "<li>Tap and hold will bring up additional information about a slice</li>" +
                "<li>Double-Tap will reset the chart back to the initial state (after confirmation)</li>");
        window.createPanel(new Ext.chart.Chart({
            themeCls: 'pie1',
            theme: 'Demo',
            store: store1,
            shadow: false,
            animate: true,
            insetPadding: 20,
            legend: {
                position: 'left'
            },
            interactions: [
                {
                    type: 'reset',
                    confirm: true
                },
                {
                    type: 'rotate'
                },
                'itemhighlight',
                {
                    type: 'iteminfo',
                    gesture: 'longpress',
                    listeners: {
                        show: function (interaction, item, panel) {
                            var storeItem = item.storeItem;
                            panel.setHtml(['<ul><li><b>Month: </b>' + storeItem.get('name') + '</li>', '<li><b>Value: </b> ' + storeItem.get('2007') + '</li></ul>'].join(''));
                        }
                    }
                }
            ],
            series: [
                {
                    type: 'pie',
                    field: '2007',
                    showInLegend: true,
                    highlight: false,
                    donut: 50,
                    listeners: {
                        'labelOverflow': function (label, item) {
                            item.useCallout = true;
                        }
                    },
                    // Example to return as soon as styling arrives for callouts
                    callouts: {
                        renderer: function (callout, storeItem) {
                            callout.label.setAttributes({
                                text: storeItem.get('name')
                            }, true);
                        },
                        filter: function () {
                            return false;
                        },
                        box: {
                            //no config here.
                        },
                        lines: {
                            'stroke-width': 2,
                            offsetFromViz: 20
                        },
                        label: {
                            font: 'italic 14px Arial'
                        },
                        styles: {
                            font: '14px Arial'
                        }
                    },
                    label: {
                        field: 'name'
                    }
                }
            ]
        }));
            mydrawComponent = new Ext.draw.Component({
               id:'mydrawComponent',
            fill:'blue',
            height: '100%',
            width: '100%',
            fullscreen: true,
            items: [{type: 'text',
                'text-anchor':'center',
                fill: 'black',
                font: '20px Arial',
                text: 'Investment',
                x: 860,
                y: 380,
                zIndex: 2},
                {type: 'text',
                'text-anchor':'center',
                fill: 'black',
                font: 'Bold 30px Arial',
                text: '$165m',
                x: 860,
                y: 410,
                zIndex: 3}]
        }).show();
        new Ext.chart.Panel({
        fullscreen: true,
        title: 'Text',
        items: mydrawComponent
          });
    }
}); 
```

这是煎茶触摸甜甜圈图的 JavaScript 代码。这是html代码：

```
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="../CSS/sencha-touch.css" type="text/css">
    <link rel="stylesheet" href="../CSS/touch-charts-demo.css" type="text/css">

    <title>Donut Chart</title>
    <script type="text/javascript" src="../JS/sencha-touch.js"></script>
    <script type="text/javascript" src="../JS/touch-charts.js"></script>
    <script type="text/javascript" src="../JS/examples.js"></script>
    <script type="text/javascript" src="donutchart.js"></script>
</head>
<body></body>
</html> 
```

我在考虑两种不同的方法：

1）如果我们可以获得圆环图中心点的 X/Y 坐标，那么我们可以将精灵添加到该 X/Y 坐标。

2）我们可以将面板添加到图表中，然后将drawComponent或sprite添加到该面板。

请让我知道我们如何做到这一点。

谢谢！！

# java - jdk1.6更新32和JavaFX2.1能用吗？

> ID：10612591
> 
> 赞同：1
> 
> 时间：2012-05-16T05:33:44.533
> 
> 标签：java, cross-platform, javafx-2, jdk1.6, embedded-browser

我正在尝试通过使用 jdk1.6 update 32 创建一个使用 JavaFX2.1 的嵌入式浏览器，但是看起来所有程序都因为 jdk1.6u32 而无法运行。但在要求中明确提到 JavaFx2.1 将与 jdk1.6update 32 一起使用。

有谁知道是什么原因？

我现在正在尝试运行 javaFx2.1 和下面的示例程序

[http://docs.oracle.com/javafx/2/swing/SimpleSwingBrowser.java.htm](http://docs.oracle.com/javafx/2/swing/SimpleSwingBrowser.java.htm)

在使用 jkd1.6u32 和 jdk1.7u4 执行上述程序时，程序编译并执行但不显示任何页面。我在控制台上看到以下错误：

```
Device "Mobile Intel(R) 4 Series Express Chipset Family" (\\.\DISPLAY1) initialization failed : 
WARNING: bad driver version detected, device disabled. Please update your driver to at least version 6.14.10.5303 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-17T06:10:41.167

最好安装 java 的 1.7 update 4 版本，因为捆绑了 java fx 2.1 可能对你有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-17T17:32:40.047

我发现这是我的 java 编译器和 java 运行时 env 之间版本不匹配的问题。

# maven - 目前没有可用的原型。当索引完成更新时，原型列表将刷新

> ID：10612599
> 
> 赞同：29
> 
> 时间：2012-05-16T05:34:25.220
> 
> 标签：maven, m2eclipse, nexus

**在安装了m2eclipse**的Eclipse 中，当我选择

> 文件 > 新建 > 项目... > Maven > Maven 项目

和

> 使用默认工作区位置

和

> 目录：Nexus 索引器

选中后，将显示以下错误消息：

> 目前没有可用的原型。当索引完成更新时，原型列表将刷新。

为什么会出现这个错误？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-06-03T19:29:32.553

我有同样的问题，通过添加远程目录解决了： [http ://repo1.maven.org/maven2/archetype-catalog.xml](http://repo1.maven.org/maven2/archetype-catalog.xml)

我在以下位置找到了这个解决方案：http: [//jira.talendforge.org/secure/attachment/36787/DeveloperGuide-Feedback.pdf](http://jira.talendforge.org/secure/attachment/36787/DeveloperGuide-Feedback.pdf)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2015-07-08T09:30:52.813

在这种情况下，您可以使用另一种解决方案，您需要使用 eclipse 配置本地目录：

1-假设您需要使用mave目录：[http ://repo1.maven.org/maven2/archetype-catalog.xml](http://repo1.maven.org/maven2/archetype-catalog.xml)

2-从您的网络浏览器下载文件[http://repo1.maven.org/maven2/archetype-catalog.xml](http://repo1.maven.org/maven2/archetype-catalog.xml)并将其保存在 ~/.m2/archetype-catalog.xml

3 现在进入eclipse“Window-->Preferences-->maven-->Archetypes”然后点击“Add Local catalogue”并将ctalogue文件设置为~/.m2/archetype-catalog.xml，保存退出

4-现在回到 Eclipse 并尝试使用新的本地目录原型创建项目，它应该可以工作

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-03-28T12:25:57.270

更新了远程目录链接：[https ://repo1.maven.org/maven2/archetype-catalog.xml](https://repo1.maven.org/maven2/archetype-catalog.xml)

复制链接并添加远程原型或下载 XML 文件并选择本地原型选项并遵循 @sofiene-zaghdoudi 的解决方案。

# javascript - 对象的数组属性

> ID：10612603
> 
> 赞同：0
> 
> 时间：2012-05-16T05:34:40.337
> 
> 标签：javascript

在对象的非数组属性中：

```
function myObj()
{
  this.code = "code";
  this.name = "name";
} 
```

我可以使用以下方法检索它们的值：

```
 myCode = myObj.code; 
```

或者：

```
 myCode = myObj["code"]; 
```

使用数组：

```
function myObj()
{
  this.code = ["code1","code2"];
  this.name = ["name1","name2"];
} 
```

我必须得到“code2”所以我的语法应该是：

```
 myCode = myObj.code[1]; 
```

现在我的问题是，如何使用另一种方式获得“code2”（使用大括号和括号中的属性）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T05:36:03.790

你的意思是这样吗？

```
myCode = myObj['code'][1]; 
```

# svn - 从 SVN 历史记录中删除修订

> ID：10612604
> 
> 赞同：0
> 
> 时间：2012-05-16T05:34:59.817
> 
> 标签：svn

我错误地将一些敏感数据提交到了 SVN。我不希望我的合作者看到这些数据。我可以将 SVN 恢复到以前的状态并从 SVN 历史记录中删除最新版本（假装根本没有进行最新提交）吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T07:37:07.003

从 SVN 中删除修订版是相当有问题的（请参阅@juergend 提供[的链接）。](https://stackoverflow.com/questions/747713/subversion-retract-accidental-checkin)它是故意这样做的。想到的一种可能的解决方法是：在您意外提交之前从修订版分支并禁止访问原始分支。

# android - 在 ACTION_SEND 上设置接收方 emain

> ID：10612608
> 
> 赞同：0
> 
> 时间：2012-05-16T05:35:45.410
> 
> 标签：android, email

我已经设置了收件人电子邮件地址，但是当我尝试在手机上使用它时，收件人地址为空，您必须手动填写。我认为代码很好我不知道有什么问题

```
CODE:
Intent mail = new Intent(android.content.Intent.ACTION_SEND);
mail.putExtra(android.content.Intent.EXTRA_EMAIL, "..@gmail.com");
mail.setType("plain/text");
startActivity(mail); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-10T04:44:20.483

```
String[] reciver  = new String[]{
                        "reciver01@gmail.com",
                        "reciver02@gmail.com",
                         ...
                     };
mailIntent.putExtra(android.content.Intent.EXTRA_EMAIL, reciver); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:55:03.327

尝试填写所有可用选项，例如主题、文本。

```
final Intent emailIntent = new Intent(android.content.Intent.ACTION_SEND);

emailIntent.setType("plain/text");

emailIntent.putExtra(android.content.Intent.EXTRA_EMAIL, "Receiver@gmail.com");

emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, "Your Subject Here");

emailIntent.putExtra(android.content.Intent.EXTRA_TEXT, "Body Part here");

startActivity(emailIntent); 
```

希望您已正确授予所有权限。

一些参考资料。[链接 1](http://www.helloandroid.com/tutorials/how-send-email-your-application) ,[链接 2](https://stackoverflow.com/questions/2020088/sending-email-in-android-using-javamail-api-without-using-the-default-built-in-a/2033124#2033124)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-05-16T05:40:48.390

也许您应该在此处插入收件人电子邮件：

```
mail.putExtra(android.content.Intent.EXTRA_EMAIL, "receiver@gmail.com"); 
```

# c++ - 在一维数组中提取常见的一维序列？

> ID：10612612
> 
> 赞同：0
> 
> 时间：2012-05-16T05:35:49.107
> 
> 标签：c++

如何从二维阵列中挑选出最好的统一一维阵列？

我有两个二维数组：11 x 10 示例：

```
 4 8 12 12 12 14 16 18 4 1 0 
  5 7 11 12 13 11 15 18 3 2 1
  8 3 12 14 18 19 20 21 8 5 4 ,
  8 2 11 12 17 17 19 20 7 4 3 ,
  4 7 11 11 11 15 17 19 5 1 1 ,
  3 8 11 13 11 15 14 17 4 1 0 ,
  4 7 12 13 13 14 16 19 3 1 1 ,
  5 9 11 12 13 15 17 19 5 0 1 ,
  9 7 25 22 24 18 23 17 3 3 3 ,
  4 8 13 13 13 15 17 17 5 2 0 , 
```

这里我们有大小为 11x10 的 2d 数组 - 需要分析并且必须找出具有共同点的常见 1d 数组。

找到最佳关闭数字及其差异 - 并继续为数组中的所有相应列做。

下面的答案应该是这样的 - 找到对应的非常列并与下一行列进行比较 - 如果它在 (5) 以下有一些差异，则两行的两列都相同并处理同一行的下一列..处理直到找到至少附近有 5 个匹配项的 1 行

```
4 8 11 12 13 13 15 18 4 1 0 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T06:54:29.587

你为什么不做这样的事情

```
int[] count(int[][] array)
int result[11];

for(int x = o; x<= 11;x++)
{
int temp[10];
 for(int y = o; y<= 10;y++)
{
 temp[y] = array[y][x];
}
result[x] = getHighest(temp);
}
return result;
}

int getHighest(int[] array)
{
 int size = array.length;
 int[size][1] temp; 

 for(int x; x<= size;x++)
{
 int z = array[x];
 temp[z][0]++;

}
int highest = -1;
for(int z; z<= size;z++)
{
 int z = array[x];
 int h = temp[z][0];
 if(h > highest)
 {
  highest = h;
 }
}
return highest;
} 
```

像这样，但是我的 C++ 有点生锈了，如果有任何错误，请见谅。

# jquery - 动画箭头指针

> ID：10612616
> 
> 赞同：2
> 
> 时间：2012-05-16T05:36:18.357
> 
> 标签：jquery

我一直在寻找一种方法来创建一个动画箭头，该箭头指向网页上的 div 元素，但收效甚微。

原因是我需要吸引用户注意特定的 div。

如果有帮助，我正在使用 jQuery。我找到了 PointPoint，但鼠标边缘只有一个箭头。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:58:37.413

对于动画光标，您必须有一个要使用的`.ani`文件（动画光标）。

HTML 示例：

```
<div class="item1">abcdefgh</div>

<div class="item2">asdasdasdasdas</div> 
```

CSS 示例

```
.cursor1 { cursor: help;}

.item1 { line-height: 20px;
         border: 1px solid #000;
          height: 100px;   
          width: 100px;               
} 
```

如需自定义光标，请在此处阅读：http: [//beradrian.wordpress.com/2008/01/08/cross-browser-custom-css-cursors/](http://beradrian.wordpress.com/2008/01/08/cross-browser-custom-css-cursors/) 以在上述 CSS 中使用。

和 JavaScript：

```
$(function() {
    $(".item1").on("mouseover mouseout", function() {
        $(this).toggleClass("cursor1");       
    });        
}); 
```

我的回答是，我从您的询问中了解到。

# sql-server - SQL Server 2008 R2 缺少参数

> ID：10612618
> 
> 赞同：3
> 
> 时间：2012-05-16T05:36:27.717
> 
> 标签：sql-server, asp.net-mvc, sql-server-2008, asp.net-mvc-2, ado.net

我的`System.Data.SqlClient`报告说我忘了传递一个参数。

好吧，我一直在为此挠头。

我在 VS2008 中使用 SQL Server 2008 R2 和 Asp.Net MVC2。

这是屏幕。

![在此处输入图像描述](../Images/a8b1f6e7bd214be89051091f042fa808.png)

我错过了什么 ？

**编辑**

这是存储过程标头

```
ALTER  PROCEDURE [dbo].[ClientMst_AUTO](@Params VARCHAR(50),@result   xml output)
as
BEGIN 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T06:53:13.673

乍一看，代码看起来不错-我看到的唯一*可能*解释该行为的一点是：您已将参数定义`@result`为`ParameterDirection.InputOutput`-但您没有在*输入*端为该参数提供任何值...

`parm2`在添加到`cmd.Parameters`集合之前尝试添加此行：

```
parm2.Value = string.Empty; 
```

这有什么改变吗？

**或者：**只需将参数定义为`ParameterDirection.Output`（而不是`InputOutput`） - 这是否解决了问题？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T06:07:21.933

如果您不打算将值传递给`@result`参数，请设置`parm2.Direction`为`ParameterDirection.Output`.

# sencha-touch - 嵌套列表工具栏

> ID：10612619
> 
> 赞同：0
> 
> 时间：2012-05-16T05:36:37.543
> 
> 标签：sencha-touch, extjs, sencha-touch-2, nested-lists

我正在创建一个嵌套列表并使用“setBackText（）”在项目点击上设置 BackText。这很好用。但同时，我也希望设置工具栏的标题。

编码：

```
onItemTap : function(nestedList, list, index, node, record, e) {
                        var partsOfStr = record.get('text').split(';');
                        val = partsOfStr[2];
                        currDocument = val;
                        Ext.getCmp('nestedList').setTitle('HII');
                        Ext.getCmp('nestedList').setBackText(currDocument);

                    }, 
```

似乎不适合我。

有什么建议么？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T07:59:09.363

`updateTitleText`默认设置为*for*`true`，`nestedlist`因此如果您使用`data`商店为您的 设置数据`nestedlist`，您`title`将始终根据您选择的数据类别进行设置。

所以，设置

```
updateTitleText: false 
```

然后尝试`title`像这样动态设置，

```
Ext.getCmp('nestedList').setTitle('HII'); 
```

# javascript - 使用 attr 更改 img 源在 ios5 上不起作用

> ID：10612621
> 
> 赞同：1
> 
> 时间：2012-05-16T05:36:55.053
> 
> 标签：javascript, jquery, image, ios5, attributes

我正在尝试更改图像的来源，并且当您单击另一个位置时不会淡入，它的设置是这样的

```
$('.thumbs').bind('click', function() {
  $('#MyT').attr('class', 'wierd');
  $('#MyT').fadeIn(0);
}); 
```

当我在 Chrome 上测试它时它运行良好，但是当我将它上传到 iPad 时，它不会改变源。我在这里做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-16T05:39:13.160

更改图像的类值不会更改其`src`. 如果你想改变它的来源，你会做这样的事情：

```
$(".thumbs").on("click", function(){
  $("#MyT").attr("src", "image2.png").fadeIn("slow");
}); 
```

我假设`<img src="foo.png" id="MyT" />`您的页面上当然有一个。

# java-native-interface - jdk1.0 如何在原生代码和 Java 代码之间缺乏清晰的分离？

> ID：10612623
> 
> 赞同：2
> 
> 时间：2012-05-16T05:37:04.230
> 
> 标签：java-native-interface, native, java

来自[IBM 链接：](http://www.ibm.com/developerworks/java/library/j-jni/index.html)

> JDK 1.0 版本包括一个较早的本机方法接口，该接口在本机代码和 Java 代码之间缺乏清晰的分离。在这个接口中，native 将直接进入 JVM 结构，因此无法跨 JVM 实现、平台甚至 JDK 版本进行移植。使用 JDK 1.0 模型升级具有大量本机的应用程序的成本很高，开发可以与多个 JVM 实现一起运行的本机也是如此。

本机意味着什么*将直接进入 JVM 结构，因此不能跨 JVM 实现移植*？我不明白这一点。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-16T05:59:27.627

[当前 JNI](http://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/intro.html)的文档包含有关旧接口的有趣信息：

> JDK 1.0 附带了一个本地方法接口。不幸的是，这个接口不适合其他 Java VM 采用有两个主要原因。
> 
> 首先，本机代码将 Java 对象中的字段作为 C 结构的成员进行访问。但是，Java 语言规范没有定义对象在内存中的布局方式。如果 Java VM 在内存中以不同的方式布局对象，那么程序员将不得不重新编译本地方法库。
> 
> ...

这意味着本机代码可以*直接*访问内存中对象的值，而不是通过一些 API。这相当于直接访问 Java 中的字段，而不是使用 getter/setter。这意味着在不破坏与使用旧本机接口的任何代码的兼容性的情况下，永远无法更改字段的底层布局。

我在[这里找到了 JDK 1.0.2 的本机方法教程的副本](http://journals.ecs.soton.ac.uk/java/tutorial/native/index.html)。它包括一个关于[从本机代码处理 Java 对象](http://journals.ecs.soton.ac.uk/java/tutorial/native/implementing/objects.html)的部分。

现代 JNI 仅通过方法调用提供对 Java 对象字段的访问。这样，对象的布局和许多其他东西就可以在不破坏兼容性的情况下改变。

# jsf - JSF 2.0 页面导航不起作用

> ID：10612629
> 
> 赞同：0
> 
> 时间：2012-05-16T05:38:04.183
> 
> 标签：jsf, jakarta-ee, jsf-2, primefaces

我在我的网络项目中使用 JSF 2.0。但就我而言，导航无法正常工作。我认为这个问题是由于文件层次结构的变化而引起的，因为操作方法工作正常。我附上快照以了解文件的层次结构。

![在此处输入图像描述](../Images/2197d3fb1faaf71c0d6db7b83b99117b.png)

如果有人可以帮助克服这一点，我将非常感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T06:18:24.563

您必须添加`ajax="false"`primefaces commandButtons 才能执行导航或使用简单的`<h:commandButton`...

如果你想使用 primefaces ajax 按钮，那么你应该起诉重定向，

像这样

```
 <p:commandButton action="home?faces-redirect=true" value="Redirect to home"/> 
```

还可以在这里查看类似的问题：

[PrimeFaces commandButton 无法导航或更新](https://stackoverflow.com/q/4639205/617373)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T12:08:21.563

升级到 PrimeFaces 3.2。然后你就可以通过ajax导航了。`@all`在该版本之前不支持更新/渲染。如果无法升级，则需要引入以下 JavaScript hack：

```
var originalPrimeFacesAjaxResponseFunction = PrimeFaces.ajax.AjaxResponse;
PrimeFaces.ajax.AjaxResponse = function(responseXML) {
    var newViewRoot = $(responseXML.documentElement).find("update[id='javax.faces.ViewRoot']").text();

    if (newViewRoot) {
        document.open();
        document.write(newViewRoot);
        document.close();
    }
    else {
        originalPrimeFacesAjaxResponseFunction.apply(this, arguments);
    }
}; 
```

将其放入您在标签`.js`末尾导入的文件中。`<h:head>`例如

```
<h:head>
    ...
    <h:outputScript name="js/primeFacesAll.js" />
</h:head> 
```

# python - linux上wxPython应用程序中的OpenGL上下文选择

> ID：10612630
> 
> 赞同：1
> 
> 时间：2012-05-16T05:38:11.417
> 
> 标签：python, linux, opengl, wxpython

我有一个 wxpython 程序，它使用两个单独的 OpenGL 窗口（或者更具体地说是笔记本中的两个单独的选项卡）。每个窗口都有自己的`wx.glcanvas.GLCanvas`. 在 MS Windows 上，这两个窗口的行为独立，正如预期的那样。然而，在 linux 上，在一个窗口中发出的 opengl 命令似乎以一种不完全明显的方式影响另一个窗口（一些位在一个窗口上绘制，一些在另一个窗口上，有些根本没有，似乎应用了照明和 alpha 混合设置对两者。在发出任何*应该*将它们定向到当前窗口和上下文的OpenGL命令之前，我正在调用每个画布`SetCurrent`的处理程序。值得注意的是，这似乎确实适用于Windows。`OnPaint`

 *如果这可能会有所作为，我有一个 nVidia 显卡。*

# html - 标签在 IE9 中重复

> ID：10612632
> 
> 赞同：1
> 
> 时间：2012-05-16T05:38:34.710
> 
> 标签：html, internet-explorer-9

我在 IE9 中面临一个独特的行为。我已经创建了标签在 IE9 中自动重复的主页。在 Html 源代码中，只有一个标签副本，但是当我借助开发人员工具和选择器功能查看页面时，我发现了两个 . 如果我在 IE 压缩模式下打开同一页面，一切正常。任何人都可以帮助我解决问题。我的代码如下。

```
enter code here
<div class="memberLayer">
<p>
<span id="m:i:ptHome:t:j_id312">
<span>Card Member
</span>
</p>
<div class="applyButton_new" id="div-parent-apply-now">
<span id="pre"  style="height: 40px; padding-top: 10px; padding-bottom: 10px; padding-left: 6px">&nbsp;</span>
<span id="post" style="height: 40px; padding-top: 10px; padding-bottom: 10px; padding-left: 10px; margin-left: -3px;">&nbsp;</span>
</div>
</div>

CSS used for this is 

.memberLayer {
    background: url(../images/Apply-box-copy-2.png) no-repeat scroll 0 0 transparent;
    position: relative;
    left: 173px;
    top: -313px;
    font: normal 12px Arial, Helvetica, sans-serif;
    color: #fff;
    line-height: 1.20;
    width: 291px;
    height: 98px;
    padding: 10px;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-06-26T14:59:57.983

我的问题是结束锚标记缺少正斜杠。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T06:44:26.240

看起来这可能是由不正确的标记引起的。

`<span>`您有打开但从未关闭的 HTML 标签，所以这可能会以某种方式混淆开发人员工具栏？

检查您的所有标记都是有效的 HTML，希望这能解决问题。

# iphone - 除了缩略图方法之外，还有其他方法可以在 Iphone 中截取视频吗？

> ID：10612634
> 
> 赞同：12
> 
> 时间：2012-05-16T05:38:37.677
> 
> 标签：iphone, objective-c, image-capture

除了缩略图方法之外，还有其他方法可以截取视频吗？如果是，那么请告诉我，如果不是，请告诉我如何调整具有相同分辨率的缩略图图像的大小？我在截取视频时遇到问题。我用过这个：-

[如何从 iPhone 中通过 MPMediaPlayerController 播放的视频中截取屏幕截图？](https://stackoverflow.com/questions/10582943/how-to-take-a-screenshot-from-an-video-playing-through-mpmediaplayercontroller-i)

在此之后，我使用了我得到这个的图像的合并![分辨率问题](../Images/787f0f77e3d279ae6e0725aa798f057b.png)

这里的图像质量是我的大问题。

我要这个

![所需输出](../Images/44b06c4c5779387967f4838c3163d9d8.png)

我只想要上面屏幕截图中显示的视频和绘图，结果相同。请帮忙谢谢:)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-25T06:45:07.220

除了缩略图方法之外，还有一种方法可以获取视频的屏幕截图。！！！

方法是这样的：-

```
- (UIImage *)imageFromVideoURL 
{
// result 
UIImage *image = nil;

// AVAssetImageGenerator
AVAsset *asset = [[AVURLAsset alloc] initWithURL:appDelegate.videoURL options:nil];; 
AVAssetImageGenerator *imageGenerator = [[AVAssetImageGenerator alloc] initWithAsset:asset];
imageGenerator.appliesPreferredTrackTransform = YES;

// calc midpoint time of video
Float64 durationSeconds = CMTimeGetSeconds([asset duration]);
CMTime midpoint = CMTimeMakeWithSeconds(durationSeconds/2.0, 600); 

// get the image from 
NSError *error = nil; 
CMTime actualTime;
CGImageRef halfWayImage = [imageGenerator copyCGImageAtTime:midpoint actualTime:&actualTime error:&error];

if (halfWayImage != NULL) 
{
    // cgimage to uiimage
    image = [[UIImage alloc] initWithCGImage:halfWayImage];
    [dic setValue:image forKey:kImage];
    NSLog(@"Values of dictonary==>%@", dic);
    NSLog(@"Videos Are:%@",appDelegate.videoURLArray);
    CGImageRelease(halfWayImage);
}
return image;
} 
```

但是我的问题仍然是我在视频上绘图时我无法通过绘图叠加获得视频的屏幕截图，因此我必须使用图像合并。

谢谢 ：）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-16T07:32:06.250

试试下面的代码。

```
 moviePlayer = [[MPMoviePlayerController alloc] init];
    containerView =[[UIView alloc]initWithFrame:CGRectMake(40,130, 240,219)];
    [moviePlayer setContentURL:[NSURL fileURLWithPath:moviePath]];
    [[moviePlayer view] setFrame:CGRectMake(0, 0, containerView.frame.size.width, containerView.frame.size.height)];  // frame must match parent view
    [self.view addSubview:containerView];
    [containerView addSubview: [moviePlayer view]];
    [moviePlayer setFullscreen:YES animated:YES]; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-01T06:39:14.920

这将在您想要的时间点为您提供视频播放器的屏幕截图。这是一个标准的方法，通过时间选项来获取玩家的缩略图。

```
MPMoviePlayerController *player = [[MPMoviePlayerController alloc] initWithContentURL:videoURL];
UIImage *thumbnail = [player thumbnailImageAtTime:60.0 timeOption:MPMovieTimeOptionNearestKeyFrame];

UIImageView *imagV=[[UIImageView alloc]initWithImage:thumbnail];
[imagV setFrame:CGRectMake(self.view.center.x, self.view.center.y, 200.0, 200.0)]; 
```

# oracle - 如何声明 SQLCA.SQLERRD？

> ID：10612636
> 
> 赞同：0
> 
> 时间：2012-05-16T05:38:39.010
> 
> 标签：oracle, plsql

我正在尝试在 oracle 存储过程中使用 insert....select...stmt 将记录插入表中。如何找到使用 SQLERRD 插入的记录数？

```
recIn number;
Insert into t1 ....Select.....;
recIn := SQLCA.SQLERRD(3);
....
....
PLS-00201: identifier 'SQLCA.SQLERRD' must be declared 
```

是抛出的错误信息。你如何声明 SQLCA.SQLERRD？

```
using Oracle 9.2

bcs 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T06:00:25.073

你在使用 PL/SQL 吗？或者您使用的是 Pro*C/C++？ `SQLCA.SQLERRD`将在 Pro*C/C++ 中定义，它不会在 PL/SQL 中定义。由于您没有为 Pro*C 标记问题，我猜您只是在使用 PL/SQL。

在 PL/SQL 中，您只需`SQL%ROWCOUNT`在运行 SQL 语句后引用即可获取行数。就像是

```
DECLARE
  l_num_rows INTEGER;
BEGIN
  INSERT INTO t1( <<list of columns>> )
    SELECT <<list of columns>>
      FROM <<some tables>>
     WHERE <<some predicates>>
  l_num_rows := sql%rowcount;
  dbms_output.put_line( 'The statement inserted ' || l_num_rows || ' rows.';
END; 
```

# php - 在 PHP 中实现下拉组合框

> ID：10612640
> 
> 赞同：1
> 
> 时间：2012-05-16T05:39:13.183
> 
> 标签：php, javascript, html

我正在尝试实施小时/分钟/（上午/下午）控制。类似于 Hotmail 在其日历下的内容。有谁知道从哪里开始？

该控件在视觉上是一个文本字段；但是，单击它可以让您通过键入输入时间，或从下拉列表（显示在文本字段下方）中选择时间。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:42:13.487

这不是你会用 PHP 做的事情，而是用像[jQueryUI](http://jqueryui.com/home)这样的客户端技术。我建议你看看[`$.datepicker()`](http://jqueryui.com/demos/datepicker/)插件。这个插件将使用一行 JavaScript 完成您所要求的工作：

```
$("#mydate").datepicker(); 
```

这将导致以下结果：

![在此处输入图像描述](../Images/1370cd2780be30af5350cecd078fc749.png)

您可以利用大量选项和配置来真正自定义用户可以选择的数据，以及用户与小部件交互的一般方式。

有关更多信息，请参阅文档：http: [//jqueryui.com/demos/datepicker/](http://jqueryui.com/demos/datepicker/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T07:12:25.110

这是用于在组合框中生成时间，包括分钟。

```
$times = array();

$start = strtotime('8:00am');
$finish = strtotime('12:00am tomorrow');

while($start <= $finish) {
    $times[] = date('g.ia', $start);
    $start += strtotime('+30 min', 0);
}

var_dump($times); 
```

我希望这可以帮助你。谢谢。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T05:44:30.823

这在 PHP 中是不可能的，你需要使用 JavaScript。

有什么理由不能使用 jQuery 或 YUI 小部件？

如果由于某种原因不能，您需要从绑定`onmousedown`文本框的事件开始，并让它绘制一个带有日期/时间的下拉菜单。

希望这有助于给你一些方向。

# rating - 如何计算评分？

> ID：10612643
> 
> 赞同：1
> 
> 时间：2012-05-16T05:39:24.910
> 
> 标签：rating

我的问题更数学化。网站上有一个帖子。用户可以喜欢和不喜欢它。并且在帖子下面写了例如-5不喜欢和+23喜欢。基于这些值，我想在 0-10 或（-10-0 和 0-10）范围内进行评级。如何正确制作？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-16T06:00:53.000

这可能无法回答您的问题，因为您需要 [-10,10] 之间的评分，但[这篇博](https://www.evanmiller.org/how-not-to-sort-by-average-rating.html)文描述了为有正面和负面评分的项目（在您的情况下是喜欢和不喜欢）评分的最佳方法。

一个简单的方法，如

*   （正面评级）-（负面评级），或
*   （正面评级）/（总评级）

不会给出最佳结果。

相反，他使用了一种称为*二项式比例置信区间*的方法。

博文的相关部分复制如下：

> **正确的解决方案**：分数 = 伯努利参数的威尔逊分数置信区间的下限
> 
> *说什么*：我们需要平衡正面评价的比例和少量观察的不确定性。幸运的是，Edwin B. Wilson 于 1927 年计算出了这方面的数学。我们要问的是：*鉴于我的评分，有 95% 的可能性是正面评分的“真实”部分至少是什么？*威尔逊给出了答案。仅考虑正面和负面评级（即不是 5 星等级），正面评级比例的下限由下式给出：

[![公式](../Images/dce73e8970a77c99b64754c61b8d895d.png)](https://i.stack.imgur.com/1A7wO.png)
[（来源：[evamiller.org](http://www.evanmiller.org/rating-equation.png)）]

> （在表示加/减的地方使用减来计算下限。）这里 p 是观察到的正评级分数，zα/2 是标准正态分布的 (1-α/2) 分位数，n 是总数评分数。

在这里，它是用 Ruby 实现的，同样来自博客文章。

```
require 'statistics2'

def ci_lower_bound(pos, n, confidence)
    if n == 0
        return 0
    end
    z = Statistics2.pnormaldist(1-(1-confidence)/2)
    phat = 1.0*pos/n
    (phat + z*z/(2*n) - z * Math.sqrt((phat*(1-phat)+z*z/(4*n))/n))/(1+z*z/n)
end 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-16T06:06:57.643

这是 Shepherd 答案的扩展。

```
total_votes = num_likes + num_dislikes;
rating = round(10*num_likes/total_votes); 
```

这取决于您的应用程序的访问者数量。假设您预计大约有 100 位用户对您的应用进行评分。当第一个用户点击不喜欢时，我们将根据上述方法将其评分为 0。但这在逻辑上是不正确的......因为我们的样本非常小，无法使其为零。只有一个积极的相同 - 我们的应用程序获得 10 评级。

更好的做法是为分子和分母添加一个常数值。假设我们的应用程序有 100 名访问者，可以安全地假设在我们获得 10 次起伏之前，我们不应该走极端（既不是 0 也不是 10 评级）。所以只需为每个喜欢和不喜欢添加 5 个。

```
num_likes = num_likes + 5;
num_dislikes = num_dislikes + 5;
total_votes = num_likes + num_dislikes;
rating = round(10*(num_likes)/(total_votes)); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-16T05:49:00.020

听起来你想要的基本上是喜欢/不喜欢的百分比。我会做 0 到 10，而不是 -10 到 10，因为这可能会造成混淆。所以在 0 到 10 的范围内，0 表示“所有不喜欢”，10 表示“都喜欢”

```
total_votes = num_likes + num_dislikes;
rating = round(10*num_likes/total_votes); 
```

基本上就是这样。

# windows - 使用 VB.NET 在 Windows 7 中删除文件

> ID：10612648
> 
> 赞同：1
> 
> 时间：2012-05-16T05:40:01.057
> 
> 标签：windows, vb.net, delete-file

我在 vb.net 中编写了以下代码来删除该文件。

```
If File.Exists(strPath & "\ReportEng.ini") = True Then
File.SetAttributes(strPath & "\ReportEng.ini", FileAttributes.Normal)
File.Delete(strPath & "\ReportEng.ini")
End If
File.Copy("\\192.168.0.1\SAP_Shared\AddonExtra\ReportEng.ini", strPath & "\ReportEng.ini") 
```

此代码在 windows xp 中完美运行。但在 Windows 7 中，我无法删除它。从开发人员的角度来看，这个操作系统是忙碌的操作系统。出现某些或其他问题，Microsoft 在构建此操作系统时没有考虑开发人员。

如何在 Windows 7 中删除文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T17:39:04.830

这样做很容易；

```
If My.Computer.FileSystem.FileExists("C:\somefile.ext") Then 'Check whether file exists
        My.Computer.FileSystem.DeleteFile("C:\somefile.ext") 'Delete the file!
End If 
```

祝你今天过得愉快！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T18:21:08.957

您不需要删除文件：有一个重载[File.Copy Method (String, String, Boolean)](http://msdn.microsoft.com/en-us/library/9706cfs5.aspx)允许覆盖。

你没有说你得到了什么错误。我怀疑这是因为用户没有对该目录的写访问权。您可能应该使用 `Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData)`or 也许返回的目录的子目录`.LocalApplicationData`，而不是包含该程序的目录。

此外， using`Path.Combine(strPath, "ReportEng.ini")`是您组合路径的方式 - 它会为您处理例如尾随路径分隔符。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-05-16T05:56:46.053

与 Windows 文件系统交互的首选方法使用以下命名空间：

```
Imports Microsoft.VisualBasic.FileIO.FileSystem 
```

要删除文件：

```
Dim FileLocation As String = strPath & "\ReportEng.ini"
If Not GetDirectoryInfo(FileLocation).Exists Then
  GetFileInfo(FileLocation).Delete()
End If 
```

# java - Jquery Autocomplete 令牌输入在 safari 和 chrome 中不起作用

> ID：10612651
> 
> 赞同：0
> 
> 时间：2012-05-16T05:40:11.260
> 
> 标签：java, jquery, jsp

自动完成令牌输入框在 IE 和 Firefox 中正常工作，但在 safari 和 crome 中不起作用。

这是代码的一部分

```
 <script type="text/javascript" src="<%=path%>/js/jquery-1.4.4.min.js"></script>
//for auto complete
    <script type="text/javascript" src="<%=request.getContextPath()%>/js/jqueryAutocomplete/jquery.autocomplete.js"></script>
    <script type="text/javascript" src="<%=request.getContextPath()%>/js/jqueryAutocomplete/jquery.ajaxQueue.js"></script>
    <link type="text/css" media="screen" rel="stylesheet" href="<%=request.getContextPath()%>/css/jqueryAutocomplete/jquery.autocomplete.css" />

    $j(document).ready(function(){

    $j("#id_CBRERegion").tokenInput(path + "fetchAutoCompleteResult.do?method=regionList", {
            theme: "facebook",
            queryParam: "search",
            minChars: 1,
            preventDuplicates: true,
            hintText:"CBRE Region",
            prePopulate: selRegCode              
        });
        $j('#id_CBRERegion').prev().find("input").blur();
        registerAutoEvent('id_CBRERegion','id_CBRERegion_Temp');
        if(document.getElementById('id_CBRERegion').value != "") {
            $j('#id_CBRERegion_Temp').hide();
        } else if(document.getElementById('id_CBRERegion').value == "") {
            $j('#id_CBRERegion_Temp').next().hide();
        }   
    }); 
```

请建议..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T18:59:02.747

我刚刚在 Chrome 和 Safari 中访问了[http://jqueryui.com/demos/autocomplete/并且它工作正常。](http://jqueryui.com/demos/autocomplete/)

从 css 到数据，许多因素都可能导致问题。

解决和学习该功能的最佳方法。

*   从一个简单的例子开始
*   慢慢地添加你的位，直到你看到它失败。

# python - python中的链接函数应用程序

> ID：10612652
> 
> 赞同：0
> 
> 时间：2012-05-16T05:40:16.910
> 
> 标签：python, function

python中是否有将相同函数`multiple times`应用于变量（及其输出）的快捷方式？

就像是：

```
# n times foo(x) 
```

代替

```
foo(foo(foo...(foo(x))))...) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-16T05:42:19.517

```
for i in range(n):
    x = foo(x) 
```

如果您需要保留 x，请使用不同的名称

```
baz = x
for i in range(n):
    baz = foo(baz) 
```

如果您迫切需要捷径（例如 codegolf）

```
reduce(lambda x,y:foo(x),[x]*n) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-16T05:42:26.940

```
def double(x):
    return x * 2

i = 44
for i in xrange(1,100):
    i = double(i) 
```

你的意思是一个简单的for循环吗？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-16T05:51:15.240

我能想到的一种方法是创建一个通用递归函数来做到这一点

```
def repeatX(foo, output, count):
      if not count:
         return output
      else:
         return repeatX(foo, foo(output), count -1) 
```

# javascript - 有没有办法检测何时通过 jquery 设置值？

> ID：10612654
> 
> 赞同：2
> 
> 时间：2012-05-16T05:40:30.677
> 
> 标签：javascript, jquery

我有几个只读文本字段和一个用普通的旧 javascript 编写的日期选择器。问题是我需要检测何时设置文本，但由于整个站点都使用相同的 js，所以我不能真正将代码（如`something.trigger('change')`）放入 js 文件中。有没有其他方法可以在不修改日历js的情况下检测到变化？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T05:45:09.447

如果在某些情况下使用 JavaScript 更改值，那么 onchange 不会触发。

有[突变事件](https://developer.mozilla.org/en/DOM/Mutation_events)，但它们已被弃用，未来会有突变观察者，但很长一段时间内不会完全支持。那么在此期间你能做什么呢？

您可以使用计时器来检查元素。

```
function addValueListener(elemId, callback) {
    var elem = document.getElementById(elemId);
    var lastValue = elem.value;
    window.setInterval( function() {   
       var value = elem.value;
        if (value !== lastValue) {
            callback();   
            lastValue = value;
        }
    },10);
} 
```

写成 jQuery：

```
function addValueListener(elemId, callback) {
    var elem = $(elemId);
    var lastValue = elem.val();
    window.setInterval( function() {   
        var value = elem.val();
        if (value !== lastValue) {
            callback();   
            lastValue = value;
        }
    },10);
} 
```

运行示例：[jsFiddle](http://jsfiddle.net/85Vu7/)

# mongodb - 在 mongodb 中使用“group by”选择 Max()

> ID：10612660
> 
> 赞同：24
> 
> 时间：2012-05-16T05:40:51.607
> 
> 标签：mongodb

请帮我将此选择语句转换为 mongodb：

```
Select Name, Max(Value) From table1 Group By Name 
```

我阅读了这份文件：[http ://www.mongodb.org/display/DOCS/Aggregation#Aggregation-Group](http://www.mongodb.org/display/DOCS/Aggregation#Aggregation-Group)

但仍然不知道如何应用 Max() 方法而不是 SUM() 作为该文档。

谢谢你。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-05-16T09:17:16.817

我创建了 Mongo Collection 如下。

```
{ "_id" : ObjectId("4fb36bfd3d1c88bfa15103b1"), "name" : "bob", "value" : 5 }
{ "_id" : ObjectId("4fb36c033d1c88bfa15103b2"), "name" : "bob", "value" : 3 }
{ "_id" : ObjectId("4fb36c063d1c88bfa15103b3"), "name" : "bob", "value" : 7 }
{ "_id" : ObjectId("4fb36c0c3d1c88bfa15103b4"), "name" : "john", "value" : 2 }
{ "_id" : ObjectId("4fb36c103d1c88bfa15103b5"), "name" : "john", "value" : 4 }
{ "_id" : ObjectId("4fb36c143d1c88bfa15103b6"), "name" : "john", "value" : 8 }
{ "_id" : ObjectId("4fb36c163d1c88bfa15103b7"), "name" : "john", "value" : 6 } 
```

然后通过使用以下代码，我将其按名称和 max(value) 分组

```
db.table1.group(
    {key: {name:true},
        reduce: function(obj,prev) { 
            if (prev.maxValue < obj.value) { 
                prev.maxValue = obj.value; 
            }  
        },
    initial: { maxValue: 0 }}
); 
```

结果显示为

```
[
    {
        "name" : "bob",
        "maxValue" : 7
    },
    {
        "name" : "john",
        "maxValue" : 8
    }
] 
```

使用聚合框架要简单得多。通过使用聚合框架，您可以使用以下代码获得相同的结果。

```
db.table1.aggregate([
    {
       $group:{_id:"$name", "maxValue": {$max:"$value"}}
    }
]); 
```

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-11-07T18:29:47.517

使用聚合框架：

```
db.table1.aggregate({$group:{'_id':'$name', 'max':{$max:'$value'}}}, 
{$sort:{'max':1}}).result 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2017-06-15T18:36:26.680

```
var myresult = db.table1.aggregate([{ 
    $group: {
        _id:"$Name",                                                                     
        value: { $max: "$Value" } 
    } 
}]);
print(myresult) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-16T09:05:36.967

由于 MongoDB 支持 mapreduce 下面的功能应该做。

```
db.employee.insert({name:"Tejas",Value:2})
db.employee.insert({name:"Tejas",Value:3})
db.employee.insert({name:"Varma",Value:1})
db.employee.insert({name:"Varma",Value:6})

var map=function(){
var key={name:this.name};
var value={value:this.Value};
emit(key,value);
};

var reduce=function(key,values){
var max=-1;
values.forEach(function(value){
            if(max==-1){
        max=value['value'];
    }
    if(max<value['value']){
        max=value['value'];
    }
});
return {max:max};
}; 
```

db.employee.mapReduce(map,reduce,{out:{inline:1}});

# regex - 使用 perl 匹配整个句子中特定单词的正则表达式

> ID：10612661
> 
> 赞同：0
> 
> 时间：2012-05-16T05:40:55.503
> 
> 标签：regex, perl

我想要一个 perl 中的正则表达式，它可以从给定的句子“XML 数据库中的设备”中去掉大写的单词。我可以说整个句子将来会发生变化，包括现在的空格。只有“xml”这个词是固定的，它周围的所有东西都是易变的。所以我想要一个强大的正则表达式，它可以承受“xml”单词之前/之后的空格和单词数量的任何变化。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T09:40:30.523

$string = "来自 XML 数据库的设备"; $string =~ s/\bXML\b\s//;

这也会在 XML 之后占用一个空格..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:42:56.613

尝试使用单词边界锚 \b：`\bXML\b`

# jar - SmartGWT - 如何为 smartGWT UI 对话框创建 .jar 文件

> ID：10612666
> 
> 赞同：0
> 
> 时间：2012-05-16T05:41:40.683
> 
> 标签：jar, smartgwt

我创建了一个 SmartGWT 应用程序，它显示一个 UI 对话框（在对话框中显示一些控件）。

这个对话框应用程序已经过测试并且运行良好，但现在我必须将它作为 jar 文件分发，以便其他 SmartGWT 项目可以将它用作小部件。

我正在寻找一种方法，如何将此组件“RemoteFileDialog”作为 jar 文件发送，以便任何其他 SmartGWT Web 应用程序都可以使用它来显示文件浏览器。是否有任何详细的文件/参考资料可以让我完全理解？

我使用 jar cvf ... 命令为此对话框应用程序创建了 jar 文件。

当我在目标 smartGwt 示例项目中使用此 .jar 时，无法找到 .jar 中包含的类

可以肯定的是，我在 eclipse ide 中执行了以下步骤。

1.  通过“添加外部 jars”将 jar 添加到构建路径

2.  模块继承：更改 gwt.xml 文件

3 做 gwtc 测试模块是否正确继承。GWT 编译工作没有警告或错误。

但是，当我尝试在下面给出的测试代码中创建对话框类的实例（jar 文件的一部分）时，eclipse 无法识别或提示我添加所需的导入，就像它对所有其他 jar 文件所做的那样. 代码：

即使我自己手动添加了 import 语句，它仍然会在这些行出现编译错误。

我想要一种从 SmartGWT 项目创建 .jar 文件的正确方法，以便它可以在另一个 smartGWT 项目中用作 .jar 文件。

任何帮助和线索都非常感谢..

这是我的环境，如果有意义的话：！

SmartGWT 3.0 GWT 2.4 浏览器：Firefox 7.0.1 开发环境：Ubuntu11.10 上的 Eclipse Indigo

问候，房车

添加 .gwt.xml 文件的内容...

## 这个为widget项目文件：RemoteFileBrowser.gwt.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<module rename-to='remotefilebrowser'>
<!-- Inherit the core Web Toolkit stuff.                        -->
<inherits name='com.google.gwt.user.User'/>

<!-- Inherit the default GWT style sheet.  You can change       -->
<!-- the theme of your GWT application by uncommenting          -->
<!-- any one of the following lines.                            -->
<inherits name='com.google.gwt.user.theme.clean.Clean'/>
<!-- <inherits name='com.google.gwt.user.theme.standard.Standard'/> -->
<!-- <inherits name='com.google.gwt.user.theme.chrome.Chrome'/> -->
<!-- <inherits name='com.google.gwt.user.theme.dark.Dark'/>     -->

<!-- Other module inherits                                      -->
<inherits name='com.smartgwt.SmartGwt'></inherits>
<inherits name="com.smartgwt.tools.SmartGwtTools"></inherits>
<!-- Specify the app entry point class.                         -->
<entry-point class='com.comviva.remotefilebrowser.client.RemoteFileBrowser'/>

<!-- Specify the paths for translatable code                    -->
<source path='client'/>
<source path='shared'/>

</module> 
```

## 这个用于使用小部件的宿主项目：文件：GWTSample.gwt.xml

```
 <?xml version="1.0" encoding="UTF-8"?>
    <module rename-to='gwtsample'>
<!-- Inherit the core Web Toolkit stuff. -->
<inherits name='com.google.gwt.user.User' />

<!-- Inherit the default GWT style sheet. You can change -->
<!-- the theme of your GWT application by uncommenting -->
<!-- any one of the following lines. -->
<inherits name='com.google.gwt.user.theme.clean.Clean' />
<!-- <inherits name='com.google.gwt.user.theme.standard.Standard'/> -->
<!-- <inherits name='com.google.gwt.user.theme.chrome.Chrome'/> -->
<!-- <inherits name='com.google.gwt.user.theme.dark.Dark'/> -->
<inherits name="com.smartgwt.SmartGwt" />
<!-- <inherits name="com.comviva.scheduler.SchedulerWidget"></inherits> -->
<inherits name="com.comviva.remotefilebrowser.RemoteFileBrowser"></inherits>
<inherits name="com.smartgwt.tools.SmartGwtTools"></inherits>

<!-- Other module inherits -->

<!-- Specify the app entry point class. -->
<entry-point class='com.rv.gwtsample.client.GWTSample' />

<!-- Specify the paths for translatable code -->
<source path='client' />
<source path='shared' />

    </module> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T12:07:05.033

在您的`RemoteFileBrowser.gwt.xml`中，您可以使用以下命令将模块重命名为更简单的名称：

`<module rename-to='com.foo.MyModule'>`

然后，当在另一个项目中包含这个“小部件”时，你可以这样做：

`<inherits name="com.foo.MyModule" />`

检查此链接以获取更多信息：[https ://developers.google.com/web-toolkit/doc/latest/DevGuideOrganizingProjects](https://developers.google.com/web-toolkit/doc/latest/DevGuideOrganizingProjects)

**注意，模块名区分大小写**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-17T08:42:58.343

经过一番挣扎，我可以找到解决方案，在下面发布，因为这可能对像我这样的其他新手有用:)

*   构建jar文件的方式不正确。
*   由于我手动创建了一个 .jar 文件（不是通过 eclipse），它没有在 com/comviva/remotefilebrowser/*.class 下添加我的 RemoteFileDialog 的 .class 文件。相反，类文件是从 /war/WEB-INF/classes 等位置添加的。
*   因此，即使导入了 .jar，也无法识别它。

我现在使用 eclipse 导出选项创建 .jar 并选择要包含的文件/资源​​列表。

# javascript - 从逗号分隔的字符串javascript创建html表

> ID：10612667
> 
> 赞同：2
> 
> 时间：2012-05-16T05:42:02.120
> 
> 标签：javascript, html, string, function, html-table

我正在尝试编写一个 Javascript 函数，它将文本写入（最终）创建以下 html 表（我将向它传递不同的长度参数以创建数百个表）：

```
<table>
    <tr><td><u>School</u></td>
    <td><u>Percent</u></td>
    <tr><td>School 1: </td>
    <td>Percent1</td></tr>
    <tr><td>School 2: </td>
    <td>Percent2</td></tr>
    <tr><td>School 3: </td>
    <td>Percent3</td></tr>  
</table> 
```

我的输入是逗号分隔的字符串：

```
var school_list = "School 1, School 2, School 3"
var pct_list = "Percent1, Percent2, Percent3" 
```

函数需要传入school_list和pct_list，返回上面html表格代码的字符串。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-16T05:47:22.910

像这样的东西：

```
var schoolArr = school_list.split(',');
var pctArr = pct_list.split(',');
var table = "<table>";
for (var i=0; i< schoolArr.length; i++) {
    table = table + "<tr><td>"+ schoolArr[i]+"</td><td>"+ pctArr[i] +"</td></tr>"; 
}
table = table + "</table>";

return table; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-16T06:16:57.510

[您可以使用Jsfiddle 演示](http://jsfiddle.net/umeshpatil86/8uJTp/)尝试以下代码 ::

```
function createTable(tab) {
  var tar = document.getElementById(tab);
  var table = document.createElement('TABLE');
  table.border = '1';
  var tbdy = document.createElement('TBODY');
  table.appendChild(tbdy);
  for (var j = 0; j < 4; j++) {
    var tr = document.createElement('TR');
    tbdy.appendChild(tr);
    for (var k = 0; k < 2; k++) {
      var td = document.createElement('TD');
      td.width = '100';
      if (k == 0) td.innerHTML = "School" + (j + 1);
      else td.innerHTML = "Percent" + (j + 1);
      tr.appendChild(td);
    }
  }
  tar.appendChild(table);
}

createTable('tab');
```

```
<div id="tab"></div>
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T05:50:27.677

```
var numberOfSchools = school_list.split(',');
var numberOfPercent = pct_list.split(',');
var htmlOutput= '<table><tr><td><u>School</u></td><td><u>Percent</u></td>';
for(var i = 0 ; i < numberOfSchools.length; i++)
{
htmlOutput +=  "<tr><td>" + numberOfSchools[i] + "</td>";
htmlOutput += "<td>"+numberOfPercent[i] +"</td></tr>"

}
htmlOutput += "</table>" 
```

并返回 htmlOutput

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-16T05:56:18.677

```
var schools = school_list.split(/,\s*/g).join('</td><td>');
var pcts = pct_list.split(/,\s*/g).join('</td><td>');
return '<table><tr><td>' + schools + '</td></tr><tr><td>' + pcts + '</td></tr></table>' 
```

或者更好的方法是在 DOM 中构建整个表格并将其直接放入文档中。

```
function appendTD(tr, content) {
  var td = document.createElement('td');
  td.appendChild(document.createTextNode(content));
  tr.appendChild(td);
}
var table = document.createElement('table');
school_list.split(/,\s*/g).forEach(appendTD.bind(null, table.appendChild(document.createElement('tr'))));
pct_list.split(/,\s*/g).forEach(appendTD.bind(null, table.appendChild(document.createElement('tr'))));

someParent.appendChild(table); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-16T06:15:22.820

这是一个 DOM 方法，强调了为什么 innerHTML 如此受欢迎。DOM 方法最近执行起来相当快，但是代码量有点烦人，除非有充分的理由使用它。

使用几个辅助函数可以显着减少代码量，因此它与 innerHTML 方法相当：

```
var school_list = "School 1, School 2, School 3" 
var pct_list = "Percent1, Percent2, Percent3" 

function makeTable(schools, percents) {

  // Turn input strings into arrays
  var s = schools.split(',');
  var p = percents.split(',');

  // Setup DOM elements
  var table = document.createElement('table');
  var tbody = table.appendChild(document.createElement('tbody'));
  var oRow = document.createElement('tr');
  var row;

  oRow.appendChild(document.createElement('td'));
  oRow.appendChild(document.createElement('td'));
  table.appendChild(tbody);

  // Write header
  row = tbody.appendChild(oRow.cloneNode(true));
  row.childNodes[0].appendChild(document.createTextNode('School'));
  row.childNodes[1].appendChild(document.createTextNode('Percent'));

  // Write rest of table
  for (var i=0, iLen=s.length; i<iLen; i++) {
    row = tbody.appendChild(oRow.cloneNode(true));
    row.childNodes[0].appendChild(document.createTextNode(s[i]));
    row.childNodes[1].appendChild(document.createTextNode(p[i]));
  }
  document.body.appendChild(table);
} 
```

它可以在加载事件之后调用，或者只是放在文档中合适的地方：

```
window.onload = function() {
  makeTable(school_list, pct_list);
} 
```

# xcode - 自动参考计数关闭，

> ID：10612669
> 
> 赞同：0
> 
> 时间：2012-05-16T05:42:10.170
> 
> 标签：xcode, automatic-ref-counting

我正在使用 xcode 4.2 我在我的项目中使用了一些库，这些库在“发布”时显示错误，所以我关闭了 ARC。

我的应用程序运行良好，但现在在我的项目中我无处使用任何对象的释放，所以我的对象仍在内存中或已释放？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T06:19:35.807

它们仍在内存中并被泄露。使用仪器帮助找到所有泄漏点。

# android - 滚动以动态获取新项目时如何在列表视图中显示最后一个项目？

> ID：10612670
> 
> 赞同：0
> 
> 时间：2012-05-16T05:42:10.950
> 
> 标签：android, android-listview

我的应用程序中有一个列表视图，最初显示 10 个项目，当我滚动到底部时，它每次都会动态添加 10 个项目。我的问题是当我滚动到底部时，显示转到列表中的第一项（不是新添加的 10 项），所以我需要一直向下滚动。

我用了

```
ListView.setSelection(totalItemCount - 9); 
```

显示新添加的 10 项中的第一项。但这里发生的情况是显示实际上转到列表视图的第一项，但它再次自动滚动到新添加的 10 项的第一项。所以，这里的用户体验会很糟糕......我希望它改变，这样它就不会进入列表视图的顶部。希望我解释清楚，请帮助，谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:54:42.203

当您向下滚动并开始获取新数据时，您应该使用此方法将您的最后可见位置存储在一些变量中：

```
int firstVisiblePosition = listView.getFirstVisiblePosition(); 
```

**编辑** 试试这个：

```
View view = listView.getChildAt(0);
int distFromTop = (view == null) ? 0 : view.getTop(); 
```

然后在完成加载数据后，您应该使用以下命令设置此位置：

```
listView.setSelectionFromTop(firstVisiblePosition, distFromTop); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:51:16.340

您可能想要覆盖列表视图的 onSizeChanged(...) 方法。

我猜那是它导航到它的顶部。

尝试这样的事情：

```
@Override
protected void onSizeChanged(int w, int h, int oldw, int oldh) {
super.onSizeChanged(w, h, oldw, oldh);
setSelection(getCount()-9); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T05:54:04.013

我不认为手动设置选择是一个好的用户体验（因为他们可以查看列表中的顶部项目）。

一旦您动态检索到要添加到列表中的新项目集，您可以简单地调用 addAll() 方法，然后使用 notifyDatasetChanged() 通知适配器需要刷新内容。Listviews 很聪明地记住刷新时的当前位置。

# javascript - jQuery在延迟悬停时交换div

> ID：10612676
> 
> 赞同：0
> 
> 时间：2012-05-16T05:42:35.757
> 
> 标签：javascript, jquery

我正在尝试创建两个使用悬停事件的“按钮”，隐藏一些 div，然后在它们的位置显示其他一些。然后我试图延迟交换回默认 div。

一切正常，除非您从一个按钮转到另一个按钮，此时您会同时显示许多 div，直到延迟过去。如果我们不使用延迟，它会完美运行。

的JavaScript：

```
jQuery(function ($) {

$('#servers-btn').hover(
   function() {
    $('#servers, #servers-heading, #servers-arrow').show(0);
    $('#default, #default-heading').hide(0);
   }, 
   function() {
   setTimeout( function() {
        $('#servers, #servers-heading, #servers-arrow').hide(0);
        $('#default, #default-heading').show(0);
        },1000)
    }
);

$('#hosting-btn').hover(
   function() {
    $('#hosting, #hosting-heading, #hosting-arrow').show(0);
    $('#default, #default-heading').hide(0);
   }, 
   function() {
   setTimeout( function() {
        $('#hosting, #hosting-heading, #hosting-arrow').hide(0);
        $('#default, #default-heading').show(0);
        },1000)
    }
);

}); 
```

我假设我需要让一个悬停功能知道另一个悬停功能，以便它可以取消超时，我只是不知道该怎么做。

编辑 - 刚刚整理代码将所有 div 放入一个隐藏/显示中。

另外，我可能应该提到#default、#servers 和#hosting div 出现在完全相同的位置。所以需要同时立即切换（上面就是这样）。

编辑 - 在这里使用 clearTimeout 的最新尝试[http://jsfiddle.net/KH4tt/1/](http://jsfiddle.net/KH4tt/1/) - 但不能让它正常工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:54:32.230

您可以在 jquery 中使用 .delay() 函数（我使用的是 Jquery 1.7.1 版本），如下例所示：

```
$(selector).delay(1000).hide("slow"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:48:29.273

尝试这样的事情

```
$('#servers-btn').hover(
   function() {
    $('#servers, #servers-heading, #servers-arrow').show(0);
    $('#default, #default-heading').hide(1000, function() {
        $('#servers, #servers-heading, #servers-arrow').hide(0);
        $('#default, #default-heading').show(0);
    });
   }
); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T23:23:57.207

好的，这是使用 clearTimeout() 函数取消在 mouseleave (hover handlerOut) 上使用的 setTimeout() 产生延迟的最后一件事：

```
jQuery(function($) {

var timeoutserver;

function canceltimeout() {
if (timeoutserver) {
    window.clearTimeout(timeoutserver);
    timeoutserver = null;
}
}

function closeServertime() {
    timeoutserver = window.setTimeout(function() {
        $('#servers, #servers-heading, #servers-arrow').hide(0);
        $('#default, #default-heading').show(0);
    }, 1000);        
}

function closeHostingtime() {
    timeoutserver = window.setTimeout(function() {
        $('#hosting, #hosting-heading, #hosting-arrow').hide(0);
        $('#default, #default-heading').show(0);
    }, 1000);        
}

$('#servers-btn').hover(

function() {
    canceltimeout();
    $('#servers, #servers-heading, #servers-arrow, ').show(0);
    $('#default, #default-heading, #hosting, #hosting-heading, #hosting-arrow').hide(0);
}, function() {
    closeServertime();
});

$('#hosting-btn').hover(

function() {
    canceltimeout();
    $('#hosting, #hosting-heading, #hosting-arrow').show(0);
    $('#default, #default-heading, #servers, #servers-heading, #servers-arrow').hide(0);
}, function() {
    closeHostingtime();
});

}); 
```

# c# - 我无法创建包含对象内部属性数组的对象

> ID：10612677
> 
> 赞同：0
> 
> 时间：2012-05-16T05:42:40.947
> 
> 标签：c#, arrays, asp.net-mvc-3

我是 c# MVC3 的新开发人员。我有一个问题，我无法创建包含对象内部属性数组的对象。

例如，我想为 10 个数组创建实例 ABC.Property[]。

ABC.Property[0]

ABC.Property[1]

ABC.Property[2] ........... ABC.Property[10]

我使用调试模式检查并发现 ABC.Property[] 为空。所以我不能将该值添加回该对象的数组。

如何用属性数组创建对象？

谢谢你。

```
namespace finance3.Models
{
public class Expected_and_Risk
{

    public decimal[] Prop { get; set; }
    public decimal[] Forecast { get; set; }
    public string[] Name { get; set; }
    public decimal[] AxB { get; set; }
    public decimal[] PowAxB { get; set; }

    public decimal  ExpectValue(Expected_and_Risk abc)
    {

        decimal count = abc.Forecast.Count();

        Expected_and_Risk Result = new Expected_and_Risk();

        for (int i = 0 ; i < count ; i++)
        {
            // here is the problem
            // i cannot add new data to array because it has no dimemsion and i tried this
            //
            // Expected_and_Risk[] Result = new Expected_and_Risk[10];
            //
            // but it didn't work

            Result.Name[i] = abc.Name[i];
            Result.Prop[i] = abc.Prop[i];
            Result.Forecast[i] = abc.Forecast[i];
            Result.AxB[i] = abc.Prop[i] * abc.Forecast[i];

            decimal a = Result.AxB[i];
            decimal sumAxB =+ a;

            double temp = (double)(a * a) ;
            Result.PowAxB[i] = (decimal)(temp);

        }

        return Convert.ToDecimal(Result); 
    }
}

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T05:48:12.690

您需要在您的类中添加一个[构造函数](http://msdn.microsoft.com/en-us/library/ace5hbzh.aspx)，并且在该构造函数中您可以定义属性的大小

```
public class Expected_and_Risk
{
//......//your code here
    public Expected_and_Risk()
      {
      this.Prop  = new decimal[10]; // this will define an array of 10 decimal elements for Prop
      }
} 
```

另请阅读有关面向对象编程的信息，另请查看这篇文章[C# 中的构造函数简介](http://www.codeproject.com/Articles/7011/An-Intro-to-Constructors-in-C)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-16T05:48:54.597

目前，您在*内* `Expected_and_Risk`有数组，但您从未初始化变量。您*可以*在构造函数中这样做：

```
public Expected_and_Risk(int count)
{
    Name = new string[count];
    ...
} 
```

...但我认为这实际上是一个令人讨厌的设计。任何时候你有很多集合，都具有相同的计数，`x[0]`对应于`y[0]`等等`z[0]`，你应该考虑拥有*一个*自定义类型的集合来表示这些属性的封装。例如：

```
// Must be an int, not a decimal - you can't create an array with a decimal count
int count = abc.Forecast.Count();

// Note: rename type to follow .NET naming conventions
Expected_and_Risk[] results = new Expected_and_Risk[count];
for (int i = 0; i < count; i++)
{
    results[i].Name = abc[i].Name;
    ...
} 
```

...除了当然现在`abc`也是一个数组。（不清楚您是否真的只是想复制这里的所有值，或者您是否涉及一些业务逻辑。有更好的复制值的方法。）

或者，如果您确实*需要*在 中的集合`Expected_and_Risk`，您可能需要考虑使用`List<T>`而不是数组。这样您就不需要预先指定计数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T05:56:49.837

更好的方法可能是将以下方法添加到 Expected_and_Risk 类 **中并从构造函数中调用它。**

**编辑** - 完成编辑以使 Initialize 私有，并在构造函数中调用它。

```
void Initialize(int size)
{
    Prop = new decimal[size];
    AxB = new decimal[size];
    Forecast = new decimal[size];
    PowAxB = new decimal[size];
    Name = new string[size];
}

    public Expected_and_Risk(int size)
    {
      ....
      Initialize(size);
    } 
```

之后在 ExpectValue 中使用它

```
Expected_and_Risk Result = new Expected_and_Risk(size)// size is 10 in example; 
```

# java - 如何解决对 android 的多个版本化 jar 依赖？

> ID：10612680
> 
> 赞同：1
> 
> 时间：2012-05-16T05:42:57.437
> 
> 标签：java, android, jar, amazon-s3, amazon-web-services

我有一个具有以下依赖项的 android 项目：

*   杰克逊核心asl-1.8.2.jar
*   jackson-mapper-asl-1.8.2.jar

现在，我正在尝试使用以下 AWS android 库 jar 将文件上传到 S3

*   aws-android-sdk-1.2.2-core.jar
*   aws-android-sdk-1.2.2-s3.jar

问题是 aws-android-sdk-1.2.2-core.jar 包含为 jackson-core-asl-1.8.7 编译的类文件（与 v1.8.2 不向后兼容）。

我该如何解决这个依赖问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:53:55.197

您可以使用[jarjar](http://code.google.com/p/jarjar/)来更改jackson-core-asl-1.8.2.jar 的包，或者将您的项目迁移到1.8.7。

# netbeans - Java 可执行 jar 文件未正常运行

> ID：10612682
> 
> 赞同：-1
> 
> 时间：2012-05-16T05:42:58.747
> 
> 标签：netbeans, executable, java

我使用 netbeans IDE 构建了一个可执行的 jar 文件，它在我的系统中运行良好，但昨天我把它交给了我的朋友，他抱怨文件没有运行，它只是显示启动屏幕然后关闭，他有 JRE 6安装。

我无法解决问题。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:59:42.233

问题是，您使用 JDK7 构建 jar 并希望在 JDK6 上运行它。它会变成错误。尝试使用JDK6降级并再次构建jar。

右键单击您的项目属性并选择`Libraries`并更改 Java 平台。

![在此处输入图像描述](../Images/a993b4d0f0b2c910ec828c90ed4dc5c2.png)

如果JDK6没有出来，请确保从`Tools > Java Platforms`和`Add Platform...`

![在此处输入图像描述](../Images/95491b841db8d6044d5e62b2518ac0b9.png)

# c# - 在 C# 中从 mysql DB 为 Flash FLV 播放器创建 XML 播放列表

> ID：10612684
> 
> 赞同：0
> 
> 时间：2012-05-16T05:43:27.343
> 
> 标签：c#, mysql, xml, visual-studio

我试图为一个大学项目创建一个页面，该页面从存储在 Mysql 数据库中的数据中动态显示 Flash 播放器中的视频列表。我已经让播放器从一个简单的 XML 列表正确运行，但我需要从数据库中获取正确的数据并将其转换为 XML 列表，以根据当前选择的视频显示播放列表。

XML 列表如下所示：

```
 <?xml version="1.0" encoding="utf-8"?> 
<item> 
   <list name="A really awesome video of Declan's face." videotitle="Declan Video" link="0001.flv" > 
       <thumb>thumb/1.jpg</thumb> 
   </list> 
   <list name="Test content - Video of Wenlong and Jing" videotitle="Final matrix demo 2" link="test1.flv" > 
       <thumb>thumb/2.jpg</thumb> 
   </list> 
   <list name="Video of Wenlong and Jing" videotitle="Matrix film demo 1" link="test2.flv" > 
       <thumb>thumb/1.jpg</thumb> 
   </list> 
   <list name="Video of Wenlong and Jing" videotitle="Final matrix demo 2" link="test4.flv" > 
       <thumb>thumb/2.jpg</thumb> 
   </list> 
   <list name="Video of Wenlong and Jing" videotitle="Matrix film demo 1" link="wenlong1.flv" > 
       <thumb>thumb/1.jpg</thumb> 
   </list> 

   </list> 

</item> 
```

关于如何最好地实现这一目标的任何想法？帮助将不胜感激。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T06:26:02.473

您是否尝试过使用结果集中的 XDocument 手动创建 XML 文件？

现在您还没有提供任何从 MySql 服务器中获取数据的示例代码，或者没有提供用于读取 mysql 数据存储的参数的示例。只需很少的信息就可以真正为您提供一个基本方法，该方法采用数据表（具有特定列名）并返回一个简单的格式化 xml 文档。

```
public static XDocument CreatePlaylist(System.Data.DataTable DataTable)
        {
            var xDoc = new XDocument(new XDeclaration("1.0", "utf-8", "yes"));
            var xItem = new XElement("item");
            foreach (var row in DataTable.Rows.OfType<System.Data.DataRow>())
                xItem.Add(new XElement("list",
                            new XAttribute("name", row["name"].ToString()),
                            new XAttribute("videotitle", row["videotitle"].ToString()),
                            new XAttribute("link", row["link"].ToString()),
                            new XElement("thumb", row["thumb"].ToString())));
            xDoc.Add(xItem);
            return xDoc;
        } 
```

这个小片段很简单，它只是接受数据表作为参数，然后为您创建一个 XDocument。现在要求数据表必须具有列名称、视频标题、链接和拇指。

现在继续前进，您可以简单地调用此方法，该方法将返回 XDocument 对象，从那里调用 XDocument 的 .ToString() 方法将为您提供 xml。但是有一个问题（总是有一个问题）。调用 .ToString() 方法时，XDocument 不包括 Xml 声明。如果您调用 .Save() 方法，它将输出 Xml 声明。

我有另一个简单的方法，它允许您将 XDocument 输出到 Xml 声明完整的字符串。该方法如下。

```
public static string XDocToStringWithDeclaration(XDocument doc)
        {
            string xString;
            using (var sw = new System.IO.MemoryStream())
            {
                using (var strw = new System.IO.StreamWriter(sw, System.Text.UTF8Encoding.UTF8))
                {
                    doc.Save(strw);
                    xString = System.Text.UTF8Encoding.UTF8.GetString(sw.ToArray());
                }
            }
            return xString;
        } 
```

您会看到该方法将调用 xDocument 的 Save() 方法，但是会将其保存到 MemoryStream 中，然后将 memorystream 作为字符串输出。

现在要将它们联系在一起，我有一个简单的控制台应用程序，您可以查看并了解它们是如何组合在一起的。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Xml.Linq;

namespace ConsoleApplication1
{
    class Program
    {
        static void Main(string[] args)
        {
            var dt = new System.Data.DataTable();
            dt.Columns.Add("name");
            dt.Columns.Add("videotitle");
            dt.Columns.Add("link");
            dt.Columns.Add("thumb");

            for (int i = 0, j = 5; i <= j; i++)
            {
                var row = dt.NewRow();
                row["name"] = string.Format("video {0}", i);
                row["videotitle"] = string.Format("video {0}", i);
                row["link"] = string.Format("/someurl/video{0}.avi", i);
                row["thumb"] = string.Format("/someurl/video{0}.png", i);
                dt.Rows.Add(row);
            }
            var xmlDoc = CreatePlaylist(dt);

            Console.WriteLine(XDocToStringWithDeclaration(xmlDoc));

            Console.WriteLine("{0}Finished... Press a key", Environment.NewLine);
            Console.ReadKey();

        }

        public static string XDocToStringWithDeclaration(XDocument doc)
        {
            string xString;
            using (var sw = new System.IO.MemoryStream())
            {
                using (var strw = new System.IO.StreamWriter(sw, System.Text.UTF8Encoding.UTF8))
                {
                    doc.Save(strw);
                    xString = System.Text.UTF8Encoding.UTF8.GetString(sw.ToArray());
                }
            }
            return xString;
        }

        public static XDocument CreatePlaylist(System.Data.DataTable DataTable)
        {
            var xDoc = new XDocument(new XDeclaration("1.0", "utf-8", "yes"));
            var xItem = new XElement("item");
            foreach (var row in DataTable.Rows.OfType<System.Data.DataRow>())
                xItem.Add(new XElement("list",
                            new XAttribute("name", row["name"].ToString()),
                            new XAttribute("videotitle", row["videotitle"].ToString()),
                            new XAttribute("link", row["link"].ToString()),
                            new XElement("thumb", row["thumb"].ToString())));
            xDoc.Add(xItem);
            return xDoc;
        }
    }
} 
```

我希望这有帮助。

干杯，尼科

# eclipse - 在 Centos 中使用 xming 运行 eclipse 失败

> ID：10612689
> 
> 赞同：0
> 
> 时间：2012-05-16T05:43:58.713
> 
> 标签：eclipse, windows-7, centos, xming

win7下Xming安装正确，DISPLAY设置也正确。错误输出如下：

> (Eclipse:20845): GLib-GObject-WARNING **: 无效 (NULL) 指针实例
> 
> （Eclipse：20845）：GLib-GObject-CRITICAL **：g_signal_connect_data：断言“G_TYPE_CHECK_INSTANCE（实例）”失败
> 
> （Eclipse：20845）：Gtk-CRITICAL **：gtk_settings_get_for_screen：断言“GDK_IS_SCREEN（屏幕）”失败
> 
> （Eclipse：20845）：Gtk-WARNING **：未设置 GtkWindow 的屏幕；在使用该窗口之前，您必须始终为 GtkWindow 设置一个屏幕
> 
> （Eclipse：20845）：Gtk-WARNING **：未设置 GtkWindow 的屏幕；在使用该窗口之前，您必须始终为 GtkWindow 设置一个屏幕
> 
> （Eclipse：20845）：Gdk-CRITICAL **：gdk_screen_get_display：断言“GDK_IS_SCREEN（屏幕）”失败
> 
> （Eclipse：20845）：Gdk-CRITICAL **：gdk_display_get_pointer：断言“GDK_IS_DISPLAY（显示）”失败
> 
> （Eclipse：20845）：Gtk-WARNING **：未设置 GtkWindow 的屏幕；在使用该窗口之前，您必须始终为 GtkWindow 设置一个屏幕
> 
> （Eclipse：20845）：Gdk-CRITICAL **：gdk_screen_get_n_monitors：断言“GDK_IS_SCREEN（屏幕）”失败
> 
> （Eclipse：20845）：Gtk-WARNING **：未设置 GtkWindow 的屏幕；在使用该窗口之前，您必须始终为 GtkWindow 设置一个屏幕
> 
> （Eclipse：20845）：Gdk-CRITICAL **：gdk_screen_get_monitor_geometry：断言“GDK_IS_SCREEN（屏幕）”失败
> 
> （Eclipse：20845）：Gdk-CRITICAL **：gdk_screen_get_default_colormap：断言“GDK_IS_SCREEN（屏幕）”失败
> 
> （Eclipse：20845）：Gdk-CRITICAL **：gdk_colormap_get_visual：断言“GDK_IS_COLORMAP（颜色图）”失败
> 
> （Eclipse：20845）：Gdk-CRITICAL **：gdk_screen_get_default_colormap：断言“GDK_IS_SCREEN（屏幕）”失败
> 
> （Eclipse：20845）：Gdk-CRITICAL **：gdk_screen_get_root_window：断言“GDK_IS_SCREEN（屏幕）”失败
> 
> （Eclipse：20845）：Gdk-CRITICAL **：gdk_screen_get_root_window：断言“GDK_IS_SCREEN（屏幕）”失败
> 
> （Eclipse：20845）：Gdk-CRITICAL **：gdk_window_new：断言“GDK_IS_WINDOW（父）”失败
> 
> Java 运行时环境检测到一个致命错误：
> 
> SIGSEGV (0xb) 在 pc=0x00000033e3076946，pid=20845，tid=47306623174400
> 
> JRE 版本：6.0_26-b03 Java VM：Java HotSpot(TM) 64 位服务器 VM（20.1-b02 混合模式 linux-amd64 压缩 oops）有问题的框架：C [libgdk-x11-2.0.so.0+0x76946] __float128 +0x16
> 
> 包含更多信息的错误报告文件保存为：/home/chandler/software/eclipse/hs_err_pid20845.log
> 
> 如果您想提交错误报告，请访问：http:
> [//java.sun.com/webapps/bugreport/crash.jsp](http://java.sun.com/webapps/bugreport/crash.jsp) 崩溃发生在 Java 虚拟机之外的本地代码中。请参阅有问题的框架以了解报告错误的位置。

# ruby-on-rails - 使用 Twitter Bootstrap 的 data-toggle="tab" 在两个不同的地方返回标签内容

> ID：10612695
> 
> 赞同：0
> 
> 时间：2012-05-16T05:44:47.310
> 
> 标签：ruby-on-rails, twitter-bootstrap

我通过在导航栏中指定 data-toggle="tab" 来激活 bootstrap.js 选项卡：

```
<li><a href="#tab2" data-toggle="tab">Look Inside</a></li> 
```

然后，返回这些选项卡的内容：

```
<div class="tab-content">
<div class="tab-pane active" id="tab1">Content
</div>
</div> 
```

我想知道如何将相同的内容返回到页面上的两个不同位置，每个位置都在单独的 div 中。截至目前，我补充说：

...在第一个 div 关闭后第二次（我必须关闭它，因为我在顶部内容和底部内容之间有一个水平导航栏）并且它不返回内容。

有什么方法可以让我将“标签内容”称为其他东西，并且仍然让它保持 twitter 引导功能。

泰

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-17T21:52:45.973

有两种方法可以做到这一点。一种是纯 CSS，利用引导下拉菜单将打开任何菜单这一事实。例如：

myvew.html.haml

```
%ul.nav.nav-pills
  %li.dropdown
    %a.dropdown-toggle{"data-toggle" => "dropdown"}
      Foo
      %b.caret
    %ul.dropdown-menu{style: "position: relative; top: -10px;"}
      %li Bar1
    %ul.dropdown-menu
      %li Bar2 
```

这将做的是，当单击“Foo”链接时，会显示“Bar1”和“Bar2”。

* * *

但是，我更喜欢这种方法：在“Foo”链接上注册一个事件侦听器，然后事件侦听器切换`.show()`或`.hide()`为目标`div`s。

```
$(document).ready(function() {
  $('#myclickdiv').click(function() {
    $('.mydivs').collapse("show");
  });
}); 
```

# objective-c - 仅当小于 1 时如何将浮点数渲染为 2 个空格

> ID：10612698
> 
> 赞同：1
> 
> 时间：2012-05-16T05:45:04.363
> 
> 标签：objective-c, ios

在 iOS 中，我有一个距离选择器：

```
 0.25 miles
  1.00 miles
  3.00 miles 
```

并呈现为：

```
cell.textLabel.text=[NSString stringWithFormat: @"%.2f miles", [i floatValue]]; 
```

我将如何渲染：

```
0.25
1 
3 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T05:52:02.140

尝试使用`NSNumberFormatter`. 一个简短的例子：

```
NSNumberFormatter *numberFormatter = [[NSNumberFormatter alloc]init];
[numberFormatter setMaximumFractionDigits:2];
[numberFormatter setMinimumFractionDigits:0];
[numberFormatter setNumberStyle:NSNumberFormatterDecimalStyle];
double d1 = 0.25;
double d2 = 1.00;
double d3 = 3.00;
NSLog(@"d1: %@\nd2: %@\nd3: %@", [numberFormatter stringFromNumber:[NSNumber numberWithDouble:d1]], [numberFormatter stringFromNumber:[NSNumber numberWithDouble:d2]], [numberFormatter stringFromNumber:[NSNumber numberWithDouble:d3]]); 
```

输出：

```
2012-05-16 07:50:17.153 testApp[266:207] d1: 0,25
d2: 1
d3: 3 
```

希望能帮助到你

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-16T05:49:35.673

你的意思是，**如果**它小于一个，做别的事情？

```
if ([i floatValue]<1) {
   cell.textLabel.text=[NSString stringWithFormat: @"%.2f miles", [i floatValue]];
}
else {
   cell.textLabel.text=[NSString stringWithFormat: @"%.0f miles", [i floatValue]];
} 
```

# php - 从 flv 视频中解开 mp4

> ID：10612702
> 
> 赞同：1
> 
> 时间：2012-05-16T05:45:37.000
> 
> 标签：php, ffmpeg, containers, flv, mp4

我使用 ffmpeg 将 mp4 (h264) 文件包装在 flv 容器中。我需要这样做以将元数据注入到 flv 中，以便伪流到 Flash 播放器。

我的问题是，一旦包装好的 flv 文件在我的服务器上，有没有办法使用 PHP 将 mp4 文件输出到浏览器？这样我就可以只拥有一个 flv 文件，但将其作为 mp4 发送到移动设备并作为 flv 发送到支持 Flash 的设备？

据我了解，mp4 没有重新编码，只是给出了一个 flv 标头。我希望有一种方法可以获取 mp4 数据并即时将其吐出。

# vim - 忽略 vimdiff 输出中的新行

> ID：10612706
> 
> 赞同：3
> 
> 时间：2012-05-16T05:46:39.890
> 
> 标签：vim, vimdiff

我知道我可以忽略 vimdiff 中的空格`se diffopt+=iwhte`

但我也想忽略 vimdiff 中的换行符。我该怎么做？

例如

> > 如果 (a>b){
> > bar()`

不会显示差异

> > 如果（a>b）{酒吧（）

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T06:30:24.437

要真正省略添加的行，您必须编写一个自定义差异函数 cp。`:help diff-diffexpr`.

如果您只是不想看到添加的线条（因为它们在视觉上过于分散注意力），您可以修改`DiffAdd`突出显示组以显示白底白字（或控制台中的黑底白字）文本（或任何其他低对比度的颜色，以类似的方式：

```
:highlight DiffAdd ctermfg=black ctermbg=NONE guifg=bg guibg=NONE 
```

# php - 如何在静态方法中使用 sfRequest 实例？

> ID：10612708
> 
> 赞同：0
> 
> 时间：2012-05-16T05:47:17.507
> 
> 标签：php, symfony1, static-methods

我正在使用 symfony 1.0.6，在操作文件中我们可以使用设置错误，

```
$this->getRequest()->setError("email", "The email address does not look valid.  Please re-check  the address."); 
```

但是在 /lib/model/User.php 使用时，带有静态函数

```
 public static function createNewUser() { 
 if(preg_match("/\bUsername\b/i", $err)) {
                        $sf_request->setError('rusername', "Username already taken. Please choose a different one");    
                    }
                    if(preg_match("/\bemail\b/i", $err)) {
                       $sf_request->setError('Email', "This email address is already registered. Please use another");
                    }

 } 
```

它导致错误：“未定义的变量：sfRequest”。

如何使用 sfrequest 实例在静态方法中设置错误？可以在抽象类时创建 sfRequest 实例吗...？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:58:57.090

1.06 已经很老了，官方不再支持了。我建议您考虑升级到[1.4.x](http://www.symfony-project.org/doc/1_4/)，或者如果您对项目不太深入，请查看[symfony2](http://symfony.com/)。不确定 1.06 但在 1.4.x 中你可以这样做：

```
sfContext::getInstance()->getRequest(); 
```

# .net - 应该使用哪种脚本语言来自动化 .net 构建

> ID：10612711
> 
> 赞同：0
> 
> 时间：2012-05-16T05:47:31.033
> 
> 标签：.net, build, clearcase, cruisecontrol.net

我想知道可以使用哪种脚本语言通过巡航控制和清除案例来自动构建.net。

.net 有在构建时需要提及的参考资料。

我正在使用与透明外壳集成的巡航控制。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T05:55:16.827

考虑到 CruiseControl 可以调用您想要的任何脚本，您可以使用：

*   perl（并从那里调用 cleartool 命令：请参阅“[如何从 Perl 与 ClearCase 交互？](https://stackoverflow.com/questions/2273200/how-can-i-interact-with-clearcase-from-perl/2273896#2273896) ”）
*   或 CAL（并使用 C# 程序或 VB 脚本，如[本问题所示](https://stackoverflow.com/questions/6739000/clearcase-checking-in-and-out-using-c-sharp/6739459#6739459)）
*   一个 NANT 脚本，使用`exec`任务来调用 cleartool。
    见“ [`NAnt -> Help -> Task Reference -> <exec>`](http://nant.sourceforge.net/release/latest/help/tasks/exec.html)”页。

南特示例：

```
<exec program="cmd" commandline="/c cd /path/to/view" />
<exec program="cleartool" commandline="yourClearToolCommand" /> 
```

这些脚本将由与 CruiseControl 集成的[ClearCase 触发器之一触发。](http://cruisecontrol.sourceforge.net/main/configxml.html#clearcase)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T07:59:58.420

尽管 CC 确实支持许多构建引擎，[http://cruisecontrol.sourceforge.net/](http://cruisecontrol.sourceforge.net/)，但它们在 .NET 世界中都不是很流行。

如果您使用的是 CruiseControl（不是 CruiseControl .NET），则没有对 MSBuild 的内置支持，您必须使用`<exec>`从 .NET Framework 安装文件夹启动 MSBuild.exe，（一跳）

[http://cruisecontrol.sourceforge.net/main/configxml.html#exec](http://cruisecontrol.sourceforge.net/main/configxml.html#exec)

或者你可以从 CC 中调用 NAnt，并使用 NAnt 中的任务来执行 MSBuild 进行项目编译。（然后两跳）

# html - 在容器 div 中垂直对齐表格

> ID：10612712
> 
> 赞同：2
> 
> 时间：2012-05-16T05:47:42.213
> 
> 标签：html, css, vertical-alignment

我正在尝试在父 div 中对齐动态大小的表。父容器的高度已设置，内表的高度未知（可变）。我不认为边距/相对定位调整会起作用，因为表格的大小是未知的。这可以做到吗？现在代码看起来像：

html:

```
<div id="wrapper">
 <div id="board">
      <table id="evolve">...</table>
 </div> 
</div> 
```

CSS：

```
#wrapper {
    width: 100%; 
    height: 100%; 
}
#board {
    position: relative;
    margin: auto; 
    width: 265px; 
    height: 222px; 
    text-align: center;
    vertical-align: middle;
    border: 1px solid black;
}
.evolve {
    border: 1px black solid;
    margin: auto;
    position: relative;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:54:52.143

你想要的css代码

```
#board {
    display:table-cell;
    width: 265px; 
    height: 222px; 
    text-align: center;
    vertical-align: middle;
    border: 1px solid black;
}
.evolve {
    border:solid 1px black;
        } 
```

**更新** 您将需要根据包装器宽度更改填充左（如果将其设置为 100% 则它将起作用）

```
#wrapper {
    height: 100%;
    padding-left:36%;
}
#board {
    display:table-cell;
    width: 265px; 
    height: 222px; 
    vertical-align: middle;
    border: 1px solid black;
}
.evolve {
    border: 1px black solid;
   } 
```

一旦我找到更好的解决方案，我会更新它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T05:59:57.240

您可以定义`line-height`与 的 相同`height`的`DIV`。像这样写：

```
#board {
    position: relative;
    margin: auto;
    width: 265px;
    height: 222px;
    text-align: center;
    vertical-align: middle;
    border: 1px solid black;
    line-height:222px;
}
#board .evolve {
    border: 1px black solid;
    margin: auto;
    position: relative;
    line-height:1.5;
} 
```

检查这个[http://jsfiddle.net/X4L5A/1/](http://jsfiddle.net/X4L5A/1/)

# reporting-services - 条件过滤器 SSRS

> ID：10612719
> 
> 赞同：1
> 
> 时间：2012-05-16T05:48:33.300
> 
> 标签：reporting-services, ssrs-2008

我的情况是

1.  我有一个参数，这是一个列表，允许多个值。这意味着列表中的第一条记录是“全选”

2.  当用户选择所有我需要在我的报告中包含与列表匹配的所有记录以及空白的记录。（我的数据集正在返回这些）

3.  当用户只选择 1 个或几个时，我只想包含这些记录。没有那些是空白的

我的问题：我在我的数据集中有一个过滤器，它在列表中评估参数，但我需要添加一个条件过滤器，以便在选择将“选择所有”时，我尝试使用表达式，但这没有工作

过滤表达式 `Fields!NAME.Value in = Parameters!List.Value` ！！！！！！！！！！！！工作正常

但我需要像这样改变它

```
If Parameters!List.Value  =  'Select All' Then
   Fields!NAME.Value in = Parameters!List.Value  or Fields!NAME.Value = " "
Else
   Fields!NAME.Value in = Parameters!List.Value
End 
```

谁能给个建议，我可以解决吗！！！

我在 SSRS R2 工作

谢谢！！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-29T20:54:10.347

这对我有用

表达式：=IIF(Parameters!pLocation.Value <> "All Locations", Fields!LOCATION.Value, FALSE)
运算符：=
Value: =IIF(Parameters!pLocation.Value <> "All Locations",Parameters!pLocation.Value ， 错误的）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-22T07:38:26.497

如果您在数据集上使用过滤器，请尝试以下操作：

```
Expression: [NAME]
Operator: IN
Value (fx): =Split(Replace(Join(Parameters!List.Value, ","), "Select All", " "), ",") 
```

尝试沿着这条路工作。基本上，您可以使用 Join() 将多值项重构为字符串，然后使用 Split() 将其再次解构为数组；在两者之间，您可以操作它们，以进行修改（例如将“全选”转换为“”）、添加（模仿“或”）或删除额外的项目。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-16T12:09:43.340

有一个替代方案。

向参数数据集值添加一项，将“不可用”作为标签和值为 null 的值。那么存储过程将不会有任何变化，您可以检索数据。如果用户选择特定项目，那么他将仅获得这些值。如果他选择全部，那么他将获得 null 的数据以及所有其他人。

希望这会有所帮助

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-03-02T22:12:40.117

如果你这样做，你可以将逻辑放在一个位置。您对参数进行过滤，除非它是所有值，否则过滤器始终匹配。就是干净一点。

表达式：=IIF(Parameters!pLocation.Value <> "All Locations", Fields!LOCATION.Value, "All Locations")

运算符：=

值：=Parameters!pLocation.Value

# javascript - 我们如何冻结html表中的第一列和标题（有多行）

> ID：10612726
> 
> 赞同：1
> 
> 时间：2012-05-16T05:49:13.423
> 
> 标签：javascript, freeze

我已经尝试了很多解决方案来冻结第一列和标题（有多行），但在每个解决方案中我都必须使用自定义 css（根据解决方案的 css）。

就我而言，我无法更改以前的 CSS。我想要在 div 滚动上我可以冻结我的表（这是动态的）的代码。

请提供解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T06:06:17.343

我已经这样做了：

```
<table style="table-layout: fixed">
    <tr>
        <td><div style="width:100px; position:fixed;">Frozen Header text</div></td>
    </tr>
    <tr>
        <td>Some data</td>
    </tr>
<table> 
```

我不知道如何让第一列也被冻结，但我想你可以尝试使用相同的策略，以及使用`<col>`标签进行格式化，类似于：

```
<col style="width:100px; position:fixed;" /> 
```

试试看，请告诉我们你的情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-11T18:00:15.993

为了实现我的彗星 jquery 和 css 使用。这里是插件：[链接](http://www.jsclasses.org/package/486-JavaScript-Make-table-rows-and-columns-not-scroll.html)

这是一个 jQuery 插件，可以让表格的行和列不滚动。

它可以获取给定的 HTML 表格对象并将其设置为可以冻结给定数量的列或行或两者，因此固定的列或行不会滚动。

要冻结的行应该放在表头部分。

它还可以结合使用 colspan 或 rowspan 属性来冻结行和列。

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2012-05-16T06:17:49.120

Fix header 相对简单，易于实现。列是另一回事。

例如：

```
<table>
  <tr class="header"><td>header</td></tr>
  <tr><td>body</td></tr>
</table> 
```

您必须监视 onscroll 事件，并检测标题是否不在视野范围内。当它不在视野范围内时，使用 getBoundingClientRect() 检索 tr.header 的大小参数（也包括里面的 TD），以及它的 clientX 和 clientY。使用 cloneElement(true) 克隆 tr.header 并将其放在同一个表中。然后将大小参数分配给它的 TD，并使这个克隆的元素固定在屏幕上。

此解决方案不会影响您的表格样式或布局，虽然它确实很复杂。

# c++ - 我的动态数组模板类正在做奇怪的事情

> ID：10612727
> 
> 赞同：0
> 
> 时间：2012-05-16T05:49:26.563
> 
> 标签：c++, string, class, templates, memory

[编码](http://pastebin.com/NpdYgj7L)

我在处理字符串时遇到问题。每当我尝试一个字符串时，我都会得到一个可爱的小错误代码：

```
arraytest.exe 中 0x77e815de 处未处理的异常：0xC0000005：
访问冲突读取位置 0xabababab。
```

它可以很好地处理 int、double 和 char。我还尝试了与我使用的完全相同的测试字符串（字母表）作为 char*，它也做得很好。它只是在弦上呕吐，原因我无法理解。我真的不知道下一步该去哪里。有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T06:46:19.257

您的重新分配代码有问题`push_back`

```
template<class type>
void DynamicArray<type>::push_back(type newValue)
{
        ++_size;   // <=== **

        if (_size > _capacity) // If size larger than capacity
        {
                _capacity *= CAPACITY_MULT; // double capacity
                type* tempArray = new type[_capacity];// Create temporary array with new capacity
                // Copy array values into temporary array

                for (int i = 0; i < _size; i++)    // <=== **
                {
                        tempArray[i] = dynArray[i];
                }
                // Delete dynArray
                delete[] dynArray;
                // Insert new value at end of temporary array
                // Set dynArray to temporary array
                dynArray = tempArray;
        }

        dynArray[_size - 1] = newValue;
} 
```

在检查是否有空间容纳新元素*之前*，首先增加当前容器的大小。然后在将旧值复制到新数组时使用新大小。

这似乎适用于原始类型，但 a`std::string`将尝试复制其自己的内部数据（不存在）并可能导致访问冲突。

# windows-phone-7.1 - 获取放置在 App.xaml 中的按钮的单击事件

> ID：10612729
> 
> 赞同：0
> 
> 时间：2012-05-16T05:49:30.643
> 
> 标签：windows-phone-7.1

我的 App.xaml 页面中有一个样式，如下所示

```
<Style x:Key="ListBoxMore" TargetType="ListBox">
    <Setter Property="Background" Value="Transparent"/>
    <Setter Property="Foreground" Value="{StaticResource PhoneForegroundBrush}"/>
    <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled"/>
    <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Visible"/>
    <Setter Property="BorderThickness" Value="0"/>
    <Setter Property="BorderBrush" Value="Transparent"/>
    <Setter Property="Padding" Value="0"/>
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="ListBox">
                <ScrollViewer x:Name="ScrollViewer" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Foreground="{TemplateBinding Foreground}" Padding="{TemplateBinding Padding}">
                     <StackPanel>
                        <ItemsPresenter/>
                        <Button Content="Load More..." Click="btnLoadMore_Click" Name="btnLoadMore"  Visibility="Visible" Background="White" Foreground="Black"></Button>
                     </StackPanel>
                </ScrollViewer>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

我在 4 个不同的页面中使用这种风格。我需要在这些页面中获取“加载更多”按钮的点击事件。我怎样才能在我的 Windows Phone 应用程序中得到这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T08:20:15.987

你不能。

相反，请尝试使用`Command`可以绑定到 ViewModel 的。

或者，将重新设置样式的列表框转换为自定义控件，然后您可以在那里拥有一个集中的事件处理程序。

# android - 如何减小apk文件的大小？

> ID：10612733
> 
> 赞同：1
> 
> 时间：2012-05-16T05:49:51.583
> 
> 标签：android

我正在开发一个包含 13.56MB .apk 文件的应用程序。它包含 70 个 .png 图像。并且有图像透明度，所以它必须是 .png 格式。我必须添加更多图像。那么你有什么解决方案来减少应用程序的内存。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T05:52:59.143

请使用 9 补丁图像。

九个补丁图像在设计按钮时特别有用。当除了图像的其余部分外，它们的边框被拉伸时，自定义绘制的按钮看起来会变形和像素化。

[官方文档](http://developer.android.com/guide/developing/tools/draw9patch.html)和[其他资源](http://www.androiddom.com/2011/05/android-9-patch-image-tutorial.html)以获得进一步的帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-19T07:13:52.047

使用以下事物

1.  使用小 png 在不降低质量的情况下减小图像大小[https://tinypng.com](https://tinypng.com)
2.  使用工具 AndroidUnusedResources 删除不必要的资源 [https://code.google.com/p/android-unused-resources/](https://code.google.com/p/android-unused-resources/)
3.  使用 JarJar.jar 工具重新打包 jar 或库。如果您使用的是 GooglePlayServices.jar，那么它太大了

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-06-03T10:31:06.837

电池减小apk大小的方法。拆分 apk 和`minifyEnabled=true`.

```
buildTypes {
    release {
        minifyEnabled true
        proguardFiles getDefaultProguardFile('proguard-android.txt')
    }
}

splits {
    abi {
        enable true
        reset()
        include 'armeabi', 'armeabi-v7a', 'arm64-v8a', 'x86'
        universalApk false
    }
} 
```

# android - 无法在设备上安装 ClubDangoV2Released.apk：打开的文件太多

> ID：10612736
> 
> 赞同：3
> 
> 时间：2012-05-16T05:50:15.113
> 
> 标签：android

我收到以下错误，不知道为什么。前一段时间，我的应用程序已正确安装在手机上，但现在此错误消息被触发。

```
[2012-05-16 11:18:56 - ClubDangoV2Released] Failed to install ClubDangoV2Released.apk on device 'S55706733529a': Too many open files
[2012-05-16 11:18:56 - ClubDangoV2Released] com.android.ddmlib.SyncException: Too many open files
[2012-05-16 11:18:56 - ClubDangoV2Released] Launch canceled! 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-17T10:41:47.177

有时看起来机器人很疯狂。

禁用和启用 USB 调试对我有用。

如果需要更详细的讨论，此链接将有助于
“http://groups.google.com/group/android-developers/browse_thread/thread/32865e6b95a9c546?pli=1”

# android - 当视图处于不可见状态时会检测到触摸吗？

> ID：10612740
> 
> 赞同：7
> 
> 时间：2012-05-16T05:50:21.880
> 
> 标签：android

我在我的应用程序中使用了 CustomSlider，并且我已将其设置为不可见。

当用户拖动或触摸它（从上到下）时，我的应用程序需要使滑块可见。这可能吗？我将如何实现它？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-10-26T20:40:59.583

我需要使用 ImageView 来执行此操作，并且仍然可以获得触摸事件。解决方案是 setAlpha(0.0f) 隐藏图像并仍然获取事件。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-05-16T06:40:28.620

将在`View`您的活动的可见部分检测到触摸事件。当一个`View`实例是`hidden / invisible`时，你不能与之交互。

您需要父视图/可见视图上的运动处理程序来确定是否需要显示滑块（如果运动是垂直的）。

# git - 太多标签会导致 Git 出现问题吗？

> ID：10612742
> 
> 赞同：28
> 
> 时间：2012-05-16T05:50:30.040
> 
> 标签：git

我每天都必须在 Git 存储库中创建几个标签。
当我有很多标签时，它会使我的存储库变得迟缓或导致其他问题吗？

注意：我使用的是 GitHub，但请笼统地回答。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-05-16T06:05:18.117

[（带注释的）标签](http://git-scm.com/book/en/Git-Internals-Git-References#Tags)不会使 Git 变得迟钝，只会更难使用，因为您将更难在所有中间标签中找到相关标签。

*最坏的情况是，如果必须显示数千个*标签，它会使您的 Web 界面（如 GitHub）变得迟缓。

也许所有这些标签都不需要推送，在这种情况下，您可以考虑制作中间本地[“轻量级”标签](http://git-scm.com/book/en/Git-Basics-Tagging#Lightweight-Tags)。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2016-08-08T18:00:47.617

在 Windows 上使用 Git 2.8.1，当有很多标签（15000 左右）时，我遇到了某些命令的轻微缓慢，包括：

*   `git log`（与`--decorate`）

*   `git status`

*   在 Visual Studio 中查看历史记录。

*   分离 head 时使用命令提示符（因为 Git Bash 将当前修订版漂亮地打印在当前目录旁边）。

这些命令都检查标签以装饰显示的修订。这些命令中的每一个都比没有标签的时间长约 1-2 秒。

**更新：**运行`git gc`（没有`--prune`像我以前那样）大大加快了 Git。真正的罪魁祸首可能是频繁的变基。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-08-09T22:09:33.680

我一直在使用 3 位数的版本号作为我发布给同事的标签。这会导致后勤问题，因为我想以更精细的粒度发布。

我一直担心更频繁的标签会减慢 Git 存储库的速度，但这里给出的答案肯定会消除这种担忧。

我现在将转向 4 位样式，如@VonC 给出的链接示例所示：[“Lightweight”标签](http://git-scm.com/book/en/Git-Basics-Tagging#Lightweight-Tags)。我应该早点这样做。我会选择完整的“注释”标签。每月发布不到 10 个版本，Git 甚至都不会注意到。

# xpages - 多米诺服务器搭建网站

> ID：10612743
> 
> 赞同：3
> 
> 时间：2012-05-16T05:50:42.640
> 
> 标签：xpages, lotus-domino

我需要制作一个托管在多米诺骨牌服务器上的小型网站，但据我所知，我不能使用简单的 .html 文件或 .php 文件，而是使用一些奇怪的东西，例如 .nsf，对吧？此外，我不清楚使用多米诺服务器部署网页的语言是什么，以及是否有一本关于它的好书。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-16T06:49:48.320

从 Lotus Domino 8.5.x 开始，您可以使用 XPages 创建 Web 应用程序。XPages “*基于 Web 开发语言和标准，包括 JavaScript、Ajax、Java、Dojo Toolkit、服务器端 JavaScript 和 JavaServer Faces* ”（来源：[http](http://en.wikipedia.org/wiki/XPages) ://en.wikipedia.org/wiki/XPages ）。

如果您有兴趣了解有关 XPages 的更多信息，以下书籍非常有用： [掌握 XPages：XPages 应用程序开发和 XSP 语言的分步指南](https://rads.stackoverflow.com/amzn/click/com/0132486318)

如果不能选择使用 XPages，还有一种使用 Lotus Domino 创建 Web 应用程序的“经典”方法。以下书籍很好地概述了该方法： [IBM Lotus Domino：经典 Web 应用程序开发技术](https://rads.stackoverflow.com/amzn/click/com/1849682402)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-16T07:37:31.747

您可以使用简单的静态 html 文件，但 Domino 的美妙之处在于您可以使用后端数据库进程开发动态创建的网站。

如果你只想用 html 做一些事情，那么将你的 html 文件放到 /domino/html 文件夹中，它们就会被送出。

如果您想做一些更强大的事情，请从[http://www.xpages.info](http://www.xpages.info)开始，它由 Domino 的开源社区运行。

有很多现成可用的项目，例如 Wiki、“团队室”、讨论论坛、博客和文档库。其中一些也与 domino 安装一起打包。其中一些是内容管理系统，具有与 wordpress 或 Joomla 相同的功能，可能对您很有效。

一些例子：http: [//xpages.info/XPagesHome.nsf/Demos.xsp](http://xpages.info/XPagesHome.nsf/Demos.xsp)

与任何平台一样，都有怪癖和陷阱，但它是一个出色的平台。如果您需要更好的引导，请与我联系。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-16T06:58:33.500

您可以使用 domino/html 方法，也可以使用 Domino 中新的 Web 开发界面和环境，从 8.5 开始，称为 XPages。它是一种源自 JSP（Java 服务器页面）的技术，使用标准 Web 方法和技术，例如 Java、JavaScript、AJAX、DOJO、CSS，与预定义的自定义控件一起使用，为您提供拖放式开发方法。

市场上有几本书，其中一本即将发行：

[XPages 便携式命令指南：XPages 应用程序开发和 XSP 语言的精简资源](http://www.ibmpressbooks.com/bookstore/product.asp?isbn=9780132943055)

[精通 XPages：XPages 应用程序开发和 XSP 语言的分步指南](http://www.ibmpressbooks.com/bookstore/product.asp?isbn=9780132694902)

[XPages 扩展库：下一代 XPages 组件的分步指南](http://www.ibmpressbooks.com/bookstore/product.asp?isbn=9780132901864)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-05-16T07:39:57.457

对于教学视频，有[XPages.tv（视频）](http://xpages.tv/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-05-16T05:59:51.463

虽然 Domino 服务器通常用于托管 Notes 应用程序（**.nsf**文件），但您可以使用它来托管原始 HTML 文件。默认根目录是`domino\html`目录。

[Web 服务器配置](http://publib.boulder.ibm.com/infocenter/domhelp/v8r0/index.jsp?topic=%2Fcom.ibm.help.domino.admin.doc%2FDOC%2FH_OVERVIEW.html)文档对此有更多详细信息。

[为网站文档配置 HTML、CGI、图标和 Java 文件](http://publib.boulder.ibm.com/infocenter/domhelp/v8r0/index.jsp?topic=/com.ibm.help.domino.admin.doc/DOC/H_CONFIGURE_INTERNET_SITES_DOCUMENT_STEPS.html)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-05-17T06:55:26.163

以下技术说明详细说明了如何在 Domino 服务器上运行 PHP，尽管 Domino 本身没有 PHP。

[http://www-01.ibm.com/support/docview.wss?uid=swg21099845](http://www-01.ibm.com/support/docview.wss?uid=swg21099845)

还有这篇关于如何为 Domino 创建 PHP 的文章。

[http://www.ibm.com/developerworks/lotus/library/domino-php/](http://www.ibm.com/developerworks/lotus/library/domino-php/)

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2019-10-15T13:55:54.407

## 在与 domino 目录不同的位置托管静态 html 文件

如果您想将静态 html 文件保存在不同的位置，`domino\html`那么您可以通过以下方式执行此操作：

1.  为您的 domino 服务器配置一个新网站：

[https://www.ibm.com/support/knowledgecenter/SSKTMJ_10.0.1/admin/conf_configuringhtmlcgiiconandjavafilesforwebsite_t.html](https://www.ibm.com/support/knowledgecenter/SSKTMJ_10.0.1/admin/conf_configuringhtmlcgiiconandjavafilesforwebsite_t.html)

2.  将文件复制到服务器磁盘上的指定文件夹。

**例子：**

* * *

网站：

[![在此处输入图像描述](../Images/196112f4bd6613cd9c420b039c625a20.png)](https://i.stack.imgur.com/VgZD2.png)

多米诺服务器上的文件：

[![在此处输入图像描述](../Images/3a94997bab18fc4c12b29919ab9c2680.png)](https://i.stack.imgur.com/JXTOe.png)

在浏览器中打开：

[![在此处输入图像描述](../Images/5cd0ca4dbdc26b7dac13bf91f2785645.png)](https://i.stack.imgur.com/TmiX9.png)

*通过这种方法，我在 domino 服务器上部署了一个完整的 Angular 单页应用程序。*

# c++ - c++如何包含（循环依赖）？

> ID：10612744
> 
> 赞同：2
> 
> 时间：2012-05-16T05:51:00.880
> 
> 标签：c++

我有 Environment.h 文件：

```
#include <windows.h>
#include "interfaces.h"

#ifndef ENVIRONMENT_H
#define ENVIRONMENT_H

class Environment {};
#endif 
```

我有 Interfaces.h 文件：

```
#ifndef INTERFACES_H
#define INTERFACES_H

class IMoving {
    public: 
        virtual void Move() = 0;          
};

#endif 
```

在 IMoving 界面中，我想获得一个 Environment 类，以了解如何移动

```
class IMoving {
    public: 
        virtual void Move(Environment*) = 0;          
}; 
```

如果我想这样做，我需要包含 environment.h

```
#include "Environment.h" 
```

在这里我得到一个错误，因为 Environment.h - 包括 Interfaces.h 和 Interfaces.h - 包括 Environtment.h。那么如何使它工作呢？

**抱歉拼写错误**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-16T05:58:23.730

看起来你拼错了几次类名（Environtment，Envrirontment）。这可能是您问题的根源吗？

否则我通常使用[转发声明](http://www-subatech.in2p3.fr/~photons/subatech/soft/carnac/CPP-INC-1.shtml)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-16T05:59:38.630

对于[循环依赖](http://en.wikipedia.org/wiki/Circular_dependency)，可以使用前向声明

在接口定义上方的 Interfaces.h 中，前向声明`Environment`如下：

```
class Environment; 
```

然后，当您在一个类中实现 IMoving 时，您将在其实现 (cpp) 文件中包含 Environment.h。

[您可以在此处](https://stackoverflow.com/questions/4757565/c-forward-declaration)阅读有关前向声明的更多信息。

# c++ - STL Map 不会擦除

> ID：10612749
> 
> 赞同：0
> 
> 时间：2012-05-16T05:51:28.583
> 
> 标签：c++, map, erase

我的程序中有以下方法。

奇怪的是我调用擦除后数据没有被删除。

任何的想法？

```
map<int,obj>::iterator it = this->indexMap.find(id);
if(it != this->indexMap.end())
{
    int mapSize = this->indexMap.size();
    int dataSize = (*it).second.getDataMap().size();

    //copy data to another node | even when it doesn't get into this if condition, it does not remove the data
    if(mapSize> 1 && dataSize != 0)
    {
        it++;
        this->copyData(id,it->first);
        it--;
    }

    //remove peer | i've tried id and it, both does not work
    this->indexMap.erase(it);

    map<int,obj>::iterator iter = this->indexMap.find(id);
    if(iter == this->indexMap.end())
    {
        cout << "ERROR" << endl;
    }
} 
```

输出：

```
 ERROR 
```

谢谢！:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-16T05:57:03.233

这个块：

```
map<int,obj>::iterator iter = this->indexMap.find(id);
if(iter == this->indexMap.end())
{
    cout << "ERROR" << endl;
} 
```

如果在地图中找不到`ERROR`带有键的元素，则打印出来。`id`因此它已被删除。

# android - Android - 处理应用程序崩溃

> ID：10612751
> 
> 赞同：3
> 
> 时间：2012-05-16T05:51:34.703
> 
> 标签：android, crash

我想知道是否有办法处理应用程序崩溃。我的意思是，如果我们可以检测到崩溃并在发生崩溃时保存一些数据，因为如果应用程序崩溃，我需要将一些值保存到 SharedPreference 中。

这可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T05:56:07.880

是的，有一个用于报告或处理崩溃报告的开源项目。试试这个链接 [ACRA](http://code.google.com/p/acra/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T05:56:25.760

您可以使用 Try...Catch...finally 阻止捕获异常，当异常发生时，finally 块内容肯定有效，即使异常处理与否。

# coffeescript - 为什么在使用“x？”时不检查函数参数“x”是否为“未定义”？

> ID：10612752
> 
> 赞同：6
> 
> 时间：2012-05-16T05:51:36.727
> 
> 标签：coffeescript

[以下 CoffeeScript 代码](http://coffeescript.org/#try%3a%0A%20%20foo%20=%20%28x%29%20-%3E%0A%20%20%20%20alert%28%22hello%22%29%20unless%20x?%0A%20%20%20%20alert%28%22world%22%29%20unless%20y?%0A%0A)：

```
foo = (x) ->
  alert("hello") unless x?
  alert("world") unless y? 
```

编译为：

```
var foo;

foo = function(x) {
  if (x == null) {
    alert("hello");
  }
  if (typeof y === "undefined" || y === null) {
    return alert("world");
  }
}; 
```

为什么不检查is`foo`的论点，而is？`x``undefined``y`

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-05-16T06:20:53.203

未定义检查是为了防止在检索不存在的标识符的值时引发的 ReferenceError 异常：

```
>a == 1
ReferenceError: a is not defined 
```

编译器可以看到 x 标识符存在，因为它是函数参数。

编译器无法判断 y 标识符是否存在，因此需要检查 y 是否存在。

```
// y has never been declared or assigned to
>typeof(y) == "undefined"
true 
```

# csv - 如何配置 bulkloader.yaml 以将数据从 csv 上传到数据存储

> ID：10612753
> 
> 赞同：1
> 
> 时间：2012-05-16T05:51:53.243
> 
> 标签：csv, datastore, bulkloader

我正在尝试使用 appcfg.py 将 csv 文件上传到数据存储区。我正在使用的命令是这样的：

appcfg.py upload_data --application=s~hay-fe --kind=CasillaFinal --filename=CasillaFinal.csv --url=http://hay-fe.appspot.com/remote_api --config_file=bulkloader.yaml

然后我得到下一个错误：

BadArgumentError：需要一个整数 id 或字符串名称作为参数 2；收到无（无类型）。

这是我的 CasillaFinal.csv： [http ://pastebin.com/embed_js.php?i=7dp24Yn1](http://pastebin.com/embed_js.php?i=7dp24Yn1)

这是我的 bulkloader.yaml： [http ://pastebin.com/embed_js.php?i=iPE8PcZQ](http://pastebin.com/embed_js.php?i=iPE8PcZQ)

我认为问题在于第一列（ID），因为我没有任何导入转换，但我不知道如何进行此转换。

在这里，您有“表”的 java 定义：

```
private @Id Long id;
private Key<EntidadFederativa> claveEntidad;
private int seccion;
private String tipoCasilla;
private String domicilio;
private String ubicacion;
private String referencia;
private String latitud;
private String longitud;
private int distrito;
private int claveMunicipio;
private String municipio;
private String letraInicial;
private String letraFinal;
private String casillaEspecial; 
```

如您所见，我正在使用 objectify 来实现持久性。

顺便说一句，我想知道列的顺序是否重要，因为数据存储管理中的顺序与 csv 文件中的顺序不同。这是数据存储中的顺序：

id|casillaEspecial|claveEntidad|claveMunicipio|distrito|domicilio|latitud|letraFinal|letraInical|longitud|municipio|referencia|seccion|tipoCasilla|ubicacion

而在 csv 中是：

id|claveEntidad|seccion|tipoCasilla|domicilio|ubicacion|referencia|latitud|longitud|distrito|claveMunicipio|municipio|letraInicial|letraFinal|casillaEspecial

最后，我想知道订单索引是从 0 开始还是从 1 开始，因为错误表示错误在参数 2 中（期望整数 id 或字符串名称作为参数 2）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-17T04:16:23.973

我发现它缺少 csv 文件中的标题，当我添加它开始工作的标题时。

# iphone - 如何识别在 Objective-C 中单击了哪个按钮？

> ID：10612754
> 
> 赞同：3
> 
> 时间：2012-05-16T05:51:54.093
> 
> 标签：iphone, ios, ipad, uibutton, sender

我是一名新的 iPad 开发人员。

我以编程方式创建了 UIButton，我想在其中识别用户点击了哪个按钮，并据此我想做一些操作。

我应该如何识别这个？

这是我的代码片段：

```
for(int i=0;i<[_array count];i++)
    {

        UIButton *button = [UIButton buttonWithType:UIButtonTypeRoundedRect];
        button.tag=count;
        [button addTarget:self 
                   action:@selector(aMethod:)
         forControlEvents:UIControlEventTouchDown];

        button.backgroundColor=[UIColor redColor];
        [button setTitle:@"Show View" forState:UIControlStateNormal];
        button.frame = CGRectMake(xpos, 270.0, 200.0, 150.0);

        [self.view addSubview:button];            
    } 
```

**这就是我现在正在做的事情：**我想我会给每个按钮分配计数，然后我会将这个计数传递给按钮单击方法。这是一个好主意吗？有没有其他可能的方法？

在按钮点击我打电话`aMethod`：

```
-(void)aMethod:(id)sender{
    NSLog(@"btn clicked");

} 
```

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-05-16T05:54:17.927

```
-(void)aMethod:(UIButton*)sender{
    NSLog(@"btn clicked %d", sender.tag);

} 
```

# c - char *myString 和 myString[] 之间的区别

> ID：10612757
> 
> 赞同：-2
> 
> 时间：2012-05-16T05:52:02.797
> 
> 标签：c

> **可能重复：**
> [C 中的 char s[] 和 char *s 有什么区别？](https://stackoverflow.com/questions/1704407/what-is-the-difference-between-char-s-and-char-s-in-c)
> [char a[] = “string”; 和有什么区别？和 char *p = “字符串”；](https://stackoverflow.com/questions/9460260/what-is-the-difference-between-char-a-string-and-char-p-string)

我想知道下面两个 C 语言中的字符串声明有什么区别

```
char *myString = "This is a C character string"; 
```

和

```
char myString[] = "This is a C character array"; 
```

我知道第一个是指针，第二个是数组，但我无法区分。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:59:32.150

除了 Binyamin Sharet 的回答，在第一种情况下您可以更改`myString`指针，但在第二种情况下您不能。因此，这段代码将编译并运行并打印“ello”：

```
#include <stdio.h>

int main(int argc, char **argv)
{
    char *myString = "Hello\n";

    myString++;

    printf("%s", myString);
} 
```

但是这段代码不会编译：

```
#include <stdio.h>

int main(int argc, char **argv)
{
    char myString[] = "Hello\n";

    myString++;

    printf("%s", myString);
} 
```

# c++ - 类枚举的正确位置

> ID：10612766
> 
> 赞同：0
> 
> 时间：2012-05-16T05:53:01.457
> 
> 标签：c++, class, enums

我认为这更像是一个文体问题，但我有一个带有统计分布类型枚举的类（仅在该类中使用）：

```
Entity {
public:
  enum DistributionType {NORM, UNIFORM_INT, UNIFORM_SPECIFIED, BINOMIAL };
  distributionType ds;
...
} 
```

我想将 DistributionType 值作为构造函数的参数：

```
Entity salesVolume = new Entity(Entity::DistributionType.NORM); 
```

但这不起作用（我猜它在传递一个 int 值时需要 DistributionType ？）

**使用属于同一类的枚举值调用构造函数的正确方法是什么？**我可以通过类型转换为 int 来做到这一点，但这似乎不是很紧。我也可以从类中排除枚举并单独定义它（我已经看到了）——这是一种更常见的方法吗？

多谢你们

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T06:00:54.947

使用枚举，没有“命名空间”，所以你需要这个：

```
Entity* salesVolume = new Entity(Entity::NORM); 
```

C++11 提供了“枚举类”或[“强类型枚举”](http://en.wikipedia.org/wiki/C%2B%2B11#Strongly_typed_enumerations)来解决这种奇怪的问题。它还允许您将枚举名称用作传统枚举的“范围”，因此您也可以这样做：

```
Entity* salesVolume = new Entity(Entity::DistributionType::NORM); // C++11 only 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T06:21:13.987

您可以将其称为`Entity::NORM`或者，更明确地（在 C++11 中）`Entity::DistributionType::Norm`，.

但是，从风格上看，这不是 Java。您展示的代码将比仅使用 C++ 中的自然编码方式、使用自动变量（“在堆栈上”创建的变量）更慢并且可能泄漏内存。您的代码也不会编译，因为`new`为您提供了指向该对象的指针。然而，而不是

```
Entity * salesVolume = new Entity(Entity::NORM); 
```

更喜欢

```
Entity salesVolume(Entity::NORM); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T06:19:24.483

你能请你得到什么错误，因为这段代码应该可以工作，唯一的问题是：

1.  您已将 ds 定义为 distributionType ，而它应该是 DistributionType （大写“D”）。
2.  实体 salesVolume = new Entity(Entity::DistributionType.NORM); 应该替换为

实体 *salesVolume = new Entity(Entity::Entity.NORM);

请注意 sa;esVolume 之前的“*”。即你必须将它声明为指针。

# android - 如何确保我的视频不会在我的 Android 应用程序之外播放？

> ID：10612767
> 
> 赞同：-1
> 
> 时间：2012-05-16T05:53:02.823
> 
> 标签：android, video, copy-protection

在我的应用程序中有 3 个视频，我只想在我的应用程序中播放视频，我想保护这些视频，防止显示和播放来自 FileExplorer 和 Gallery 的视频。

我尝试了加密和解密方法，我使用加密存储了视频，但是当我先播放该视频时，我解密视频然后播放，但在这种情况下，解密过程非常大，因此用户必须等待很长时间。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T06:00:43.867

使用一些奇怪的扩展名存储您的视频，并在您的应用程序中加载该视频时更改为原始扩展名。

![在此处输入图像描述](../Images/c624f24fa4655aa2fd45ccfb153c04d7.png)

这里 Pani_-myEdit.myext 是带有 .myext 扩展名的重命名视频文件，它显示了上述选项

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-27T21:50:11.473

愿意在开始播放之前解密整个视频会使用户面临明显的延迟。您应该探索一种[流式解决方案](http://developer.android.com/guide/topics/media/mediaplayer.html#mediaplayer)来避免这个问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-16T05:58:10.920

为了为您的视频文件提供强大的安全性，**加密-解密**是必要的。没有其他方法可以阻止其他应用程序或用户从设备访问它们。但是这个过程对访问这些文件的性能有很大的影响。

如果您将视频文件存储在`/asset`目录中，则可以通过将`.apk`文件提取为`zip`.

此外，即使应用程序包的内部存储`/data/data/<package_name>/files`也不能安全地存储这些文件，某些文件资源管理器和设备的 root 权限可以轻松访问它们。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-16T06:14:59.230

如果您想将文件存储在 sd 卡上，则没有这种方法.. 视频将可见.. 即使它们在您的数据文件夹中.. 可以从文件资源管理器中查看。如果您在资产文件夹中包含视频，那么即使您的文件资源管理器也看不到它们…… `Encryption-Decryption`这是隐藏文件的一种昂贵方式。

`use asset folder`在你的安卓项目中

# c# - 如何使用断开连接的数据库将数据从数据库绑定到列表框

> ID：10612776
> 
> 赞同：0
> 
> 时间：2012-05-16T05:53:27.660
> 
> 标签：c#, data-binding, dataset, database-connection

我有一个列表框，想用数据库中的数据填充它，这两者必须链接，所以如果我从列表框中选择一个值，我可以使用数据库中的条目。

我正在使用断开连接的数据库女巫通过连接字符串进行连接：

```
conn = new SqlConnection(Properties.Settings.Default.DBConnectionString) 
```

我已经阅读了数据集，并认为我需要创建一个并将其用作我的列表框数据源，然后为了使数据显示看起来整洁，我需要设置显示名称。

有人可以告诉我如何在我的数据库中创建一个连接到我的表的数据集，然后告诉我如何绑定它。

数据库称为**TagCloudDB**，表称为**Tag**，只是**listbox1**。

这是我到目前为止的代码，但它只是用 System.Data.DataRowView 填充列表框。

```
using (var conn = new SqlConnection(Properties.Settings.Default.DBConnectionString))
            {
                conn.Open();

                SqlDataAdapter daTags
                = new SqlDataAdapter("Select * From Tag", conn);

                DataSet dsTags = new DataSet("TagCloud");

                daTags.FillSchema(dsTags, SchemaType.Source, "Tag");
                daTags.Fill(dsTags, "Tag");

                daTags.MissingSchemaAction = MissingSchemaAction.AddWithKey;
                daTags.Fill(dsTags, "Tag");

                DataTable tblTag;
                tblTag = dsTags.Tables["Tag"];

                dplTags.DataSource = dsTags;
                dplTags.DataMember = "Tag";
                dplTags.DataBind();
            } 
```

我在 VB 的拼贴中做了一些类似的事情，他们有一个**ValueMember**和**Displaymember**，在 C# 中是什么等价物

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T06:18:44.063

```
SqlConnection _connection = new Connection(connectionString)
SqlDataAdapter _adapter = new SqlDataAdapter(_connection, "select * from tag")
DataTable _table = new DataTable()
_adapter.Fill(_table)

_connection.Close();

foreach(DataRow _row in _table.Rows)
{
 listbox.AddItem(new Item(_row["column1"], _row["column2"])
} 
```

你不需要弄乱数据表。它自动与 sql 查询绑定。

# php - 如何通过 php 从 xml 获取结果？

> ID：10612777
> 
> 赞同：0
> 
> 时间：2012-05-16T05:53:53.233
> 
> 标签：php, xml

我有以下 XML 字符串。我想从此 XML 中获取特定结果，该结果通过选择动态更改。

```
<response uri="/crm/private/xml/Campaigns/getMyRecords">
  <result>
    <Campaigns>
      <row no="1">
        <FL val="CAMPAIGNID">536661000000249003</FL>
        <FL val="SMOWNERID">536661000000051003</FL>
        <FL val="Campaign Owner">
          <![CDATA[gunjan.sharma]]>
        </FL>
        <FL val="Campaign Name">
          <![CDATA[Test Campaign]]>
        </FL>
        <FL val="Status">
          <![CDATA[Active]]>
        </FL>
        <FL val="Expected Revenue">
          <![CDATA[0]]>
        </FL>
        <FL val="Budgeted Cost">
          <![CDATA[0]]>
        </FL>
        <FL val="Actual Cost">
          <![CDATA[0]]>
        </FL>
        <FL val="SMCREATORID">536661000000051003</FL>
        <FL val="Created By">
          <![CDATA[gunjan.sharma]]>
        </FL>
        <FL val="MODIFIEDBY">536661000000051003</FL>
        <FL val="Modified By">
          <![CDATA[gunjan.sharma]]>
        </FL>
        <FL val="Created Time">
          <![CDATA[2012-05-14 20:33:56]]>
        </FL>
        <FL val="Modified Time">
          <![CDATA[2012-05-14 20:33:56]]>
        </FL>
        <FL val="Campaign No">
          <![CDATA[TCam002]]>
        </FL>
        <FL val="Campaigns Source">
          <![CDATA[Share Junction]]>
        </FL>
      </row>
      <row no="2">
        <FL val="CAMPAIGNID">536661000000198011</FL>
        <FL val="SMOWNERID">536661000000051003</FL>
        <FL val="Campaign Owner">
          <![CDATA[gunjan.sharma]]>
        </FL>
        <FL val="Campaign Name">
          <![CDATA[Share Junction]]>
        </FL>
        <FL val="Status">
          <![CDATA[Active]]>
        </FL>
        <FL val="Expected Revenue">
          <![CDATA[0]]>
        </FL>
        <FL val="Budgeted Cost">
          <![CDATA[0]]>
        </FL>
        <FL val="Actual Cost">
          <![CDATA[0]]>
        </FL>
        <FL val="SMCREATORID">536661000000051003</FL>
        <FL val="Created By">
          <![CDATA[gunjan.sharma]]>
        </FL>
        <FL val="MODIFIEDBY">536661000000051003</FL>
        <FL val="Modified By">
          <![CDATA[gunjan.sharma]]>
        </FL>
        <FL val="Created Time">
          <![CDATA[2012-05-07 21:43:33]]>
        </FL>
        <FL val="Modified Time">
          <![CDATA[2012-05-07 21:43:33]]>
        </FL>
        <FL val="Campaign No">
          <![CDATA[CAM01]]>
        </FL>
        <FL val="Campaigns Source">
          <![CDATA[Share Junction]]>
        </FL>
      </row>
    </Campaigns>
  </result>
</response> 
```

我想获得 Campaign No = CAM01 的行。我怎样才能？

* * *

我只想运行这种类型的查询

> 从 Campaign No = '$val' 的 Campaigns 中选择 CAMPAIGNID

* * *

或将其转换为数组

* * *

是否可以？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T06:17:58.747

我希望链接可以帮助你

[1\. 使用 PHP DOM 构建动态 XML 文档](http://www.techrepublic.com/article/dynamic-xml-document-construction-with-the-php-dom/6141415)

[2\. 用 PHP 解析 XML](http://developer.sitemason.com/parsing_xml_php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T06:53:43.263

以下是要做的事情，只需几个步骤：

1.  加载 XML 文件
2.  获取第一个元素的名称
3.  使用 children() 函数创建一个将在每个子节点上触发的循环
4.  输出每个子节点的元素名称和数据

使用简单 XML 提取数据的示例代码如下，

```
<?php
 $xml = simplexml_load_file("test.xml");

 echo $xml->getName() . "<br />";

 foreach($xml->children() as $child)
 {
  echo $child->getName() . ": " . $child . "<br />";
 }
?> 
```

这应该可以帮助您检索数据。谢谢。

# php - PHP MYSQL - 多个查询和输出

> ID：10612778
> 
> 赞同：0
> 
> 时间：2012-05-16T05:53:54.713
> 
> 标签：php, mysql

我非常感谢您为我提供的任何反馈和时间。

我正在开发一个 PHP 页面，该页面使用 1 个表查询数据库，并且似乎被卡住了。SQL 不是我的强项，所以我寻求一些帮助。我正在使用附加了 MYSQL 的 PHP。

**数据库**

我有一个表“产品”，其中包含：

```
1ID, 2Product Description, 3Price, 4Category, 5Size, 6Price-Category 
```

我想运行一个查询来确定哪些产品按尺寸（完全匹配）和价格类别（相等或更高）匹配。因此，我想到了以下过程：

```
A - run queries to identify different products by Category (one for Category A, one for Category B)
B - compare query A and B by Size and Price-Category
C - Display Results by ID for Category A 
```

我想根据我的 Query A Product 的 ID 输出结果：

```
1ID|2Product Description|3Price|4Category|5Size|6Price-Category|7Query B Details
1   Product              100    Cat       100   1               ID, Product. etc.
                                                                ID, Product. etc.
                                                                ID, Product. etc.

2   Product              200    Cat       100   2               ID, Product. etc.
                                                                ID, Product. etc.
                                                                ID, Product. etc. 
```

关于如何构建它的任何想法？

提前致谢！

到目前为止我尝试过的代码（我目前尝试从两个表中获取它们，但最初它们在一个表中！！！）

```
$query = "SELECT betten.m3, betten.Shortcode, betten.CodePDT, betten.PVCons, betten.CAT, betten.size1, betten.size2, betten.m3, betten.SIZE, betten.PRICERANGE, som.CodePDT2, som.Shortcode2, som.PRICECLASS, som.PVCons2, som.CAT2, som.size1a, som.size2a, som.m3a, som.SIZETWO FROM betten LEFT JOIN som ON betten.m3 = som.m3a ORDER BY CodePDT ";  
        $result = mysql_query($query) or die(mysql_error());
        // Print out the contents of each row into a table 
        while($row = mysql_fetch_array($result)){
            echo "<tr><td>";
            echo $row['CodePDT']. "</td><td>".$row['Shortcode']. "</td><td>". $row['PVCons']."</td><td>". $row['CAT']. "</td><td>". $row['SIZE']. "</td><td>". $row['m3']."</td><td>". $row['PRICERANGE']. "</td><td>". $row['CodePDT2']. "</td><td>". $row['Shortcode2']. "</td><td>". $row['PVCons2']. "</td><td>". $row['CAT2']. "</td><td>". $row['SIZETWO']. "</td><td>". $row['m3a']. "</td><td>". $row['PRICECLASS']. "</td><td>";
            echo "</td></tr>";
        } 
```

更新：

这有效，但 GROUP_CONT 除外。没有，我得到结果，但逐行。使用 GROUP_CONT 我得到一个错误“检查与您的 MySQL 服务器版本相对应的手册，以获取在 'GROUP_CONCAT(som.S...." 附近使用的正确语法

```
SELECT `betten`.*, `som`.*
FROM betten
    LEFT JOIN som ON betten.m3 = som.m3a    
    WHERE SIZE LIKE SIZETWO    
GROUP_CONCAT(som.Shortcode2) AS Dude
    GROUP BY betten.CodePDT    
    ORDER BY CodePDT ASC 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T17:07:24.710

通过以下方式实现：

```
$query = ("SELECT
    r.rangename as rRangename,  /* Get Ranges from Rangetable */
    r.rangevalue as rRangevalue,
    m.name as mName, /* Get Fields from main Products */
    m.Code as mCode,
    m.Range as mRange,
    SUBSTRING_INDEX(GROUP_CONCAT(f.productcode ORDER BY f.index_id ASC SEPARATOR ','),',',3) as fCodes, /* Get Fields from Cross Selling and list them seperatly */
    SUBSTRING_INDEX(GROUP_CONCAT(f.name ORDER BY f.index_id ASC SEPARATOR ','),',',3) as fNames,
    SUBSTRING_INDEX(GROUP_CONCAT(f.range ORDER BY f.index_id ASC SEPARATOR ','),',',3) as fRanges

FROM
    crossproducts f
JOIN /* Match main products with cross via m3 */
    mainproduct m
ON
    m.m3 = f.m3 
JOIN /* Match ranges and assign values for cross */
    ranges r
ON
    r.rangename = f.range
JOIN /* Match ranges and assign values for main */
    ranges s
ON
    s.rangename = m.Range
WHERE /* Only get Items that are equal or higher price range */
    r.rangevalue - s.rangevalue > -1

GROUP BY /* And finally group them by main Product Code */
    m.Code;"); 
```

# jquery - Asp.net 重置字段和确认取消

> ID：10612781
> 
> 赞同：1
> 
> 时间：2012-05-16T05:53:59.053
> 
> 标签：jquery, asp.net

我在我的 asp.net 应用程序中使用母版页，我想在单击`Cancel`按钮时重置字段。

我可以通过将 onClientClick 事件添加为

```
OnClientClick="this.form.reset();return false;" 
```

它可以工作，但是，我已经使用此功能来显示确认取消弹出窗口，例如，

```
OnClientClick="return confirmCancel()" 
```

这个 confirmCancel() 写在名为的 js 文件中`Custom.js`，它位于名为`Script`.

我需要显示这个`confirmCancel()`弹出窗口，如果我同意它应该清除表格，我该如何实现这一点，任何人都可以在这里帮助我......

这是 confirmCancel() 方法

```
function confirmCancel() {
var c = confirm("Confirm Cancel?");
if (c) {
    return true;
}
else {
    return false;
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T06:08:48.023

你（们）能做到

```
OnClientClick="return (confirm('Clear Form ?') && this.form.reset(),false)" 
```

我在这里做了一个简单的测试：http: [//jsfiddle.net/LY3dd/4/](http://jsfiddle.net/LY3dd/4/)

我在这里所做的，通过添加`&&`javascript 首先运行`confirm`，如果返回 true，则运行第二部分，即重置。如果`confirm`返回 false，则停在那里（并且不清除表单）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T06:11:44.063

不知道confirmCancel函数中写了什么，它应该根据用户确认返回true或false，例如

```
function confirmCancel () {
var answer = confirm("Leave ?")
if (answer){
    return true;
        }
else{
    return false;
}
} 
```

并像这样修改客户端点击功能

```
OnClientClick="if (confirmCancel()) { this.form.reset();return true; } else {return false;}" 
```

# asp.net-mvc-3 - 在 MVC3 中的页面刷新后，如何将注意力集中在用户所在的同一字段上

> ID：10612782
> 
> 赞同：1
> 
> 时间：2012-05-16T05:54:02.533
> 
> 标签：asp.net-mvc-3

这个问题似乎很基本，但我会问。

在 MVC3 中的页面刷新后，是否有一种标准方法可以将焦点保留在同一字段（用户所在的位置，刷新前）。

为简单起见，我将采用一个简单的场景。场景就像

我在一个页面上有三个控件。

1.  一个文本框---名称
2.  下拉列表---国家）
3.  另一个下拉菜单---城市（根据在字段 2 中选择的国家/地区从服务器加载城市，这会导致页面刷新）

我想要的是，

页面刷新后，焦点将放在 Country 字段上。

我希望，这个问题是有道理的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T06:01:08.487

要实现您想要的，只需使用 jQuery 的 .focus 函数 ( [http://api.jquery.com/focus/](http://api.jquery.com/focus/) )。

您可能需要考虑通过 jQuery 或[jQuery UI](http://jqueryui.com/)动态加载下拉列表，以免页面刷新。

# ios - 解析受密码保护的 HTML

> ID：10612786
> 
> 赞同：0
> 
> 时间：2012-05-16T05:54:23.733
> 
> 标签：ios, asiformdatarequest

我只想在登录后从页面中检索源（字符串）。当我按下登录按钮时，它会给我第一页（登录页面）的源。无论我输入正确还是错误的密码，结果都是一样的。您的帮助将不胜感激。

`- (IBAction)buttonPressed:(id)sender {

```
// PERFORM LOGIN
url = [NSURL URLWithString:@"https://www.page asking username and password/"]; 
ASIFormDataRequest *request = [ASIFormDataRequest requestWithURL:url];
[request setRequestMethod:@"POST"];
[request setPostValue:userName.text forKey:@"UserID"];
[request setPostValue:password.text forKey:@"Password"];
[request setDelegate:self];

[request setDidFailSelector:@selector(PostFailed:)];
[request setDidFinishSelector:@selector(PostFinished:)];
[request startSynchronous]; 
```

}

```
- (void)PostFailed:(ASIHTTPRequest *)theRequest
{
//notify user
UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Error" message:@"Error sending request to the server" delegate:nil cancelButtonTitle:@"OK" otherButtonTitles:nil];
[alert show];

}

- (void)PostFinished:(ASIHTTPRequest *)theRequest 
```

{
//在这里获取您的回复数据...

```
// ATTEMPT TO ACCESS ACCOUNT SUMMARY DATA
url = [NSURL URLWithString:@"https://www.page after I loged in"]; 
ASIHTTPRequest *mainRequest = [ASIHTTPRequest requestWithURL:url]; 

[theRequest setDelegate:self];
[mainRequest startAsynchronous]; 

NSLog(@"Response %d ==> %@", theRequest.responseStatusCode, [theRequest responseString]); 
```

} `

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T06:13:08.167

您尝试检索的站点很可能使用`Cookies`. 由于您正在发出原始 HTTP 请求，而不是代表您存储 cookie，因此您始终会被重定向到登录页面，因为您始终保持未经身份验证。

要访问更多站点，您必须在代码中实现 cookie 处理。

# pom.xml - 常春藤没有忽略在 pom 中标记为排除的罐子

> ID：10612790
> 
> 赞同：0
> 
> 时间：2012-05-16T05:54:43.637
> 
> 标签：pom.xml, ivy

这是我的 ivy.xml：

```
<dependencies defaultconf="default">
    <dependency org="com.mycompany" name="custom" rev="1.0"/>
</dependencies> 
```

ivysettings.xml：

```
<ivysettings>
    <settings defaultResolver="repo.mycompany.com" />
    <resolvers>
        <ibiblio name="repo.mycompany.com" root="http://repo.mycompany.com/maven/" m2compatible="true" usepoms="true" />
    </resolvers>
</ivysettings> 
```

工件 com.mycompany:custom:1.0 创建为 maven pom 并发布到 repo.mycompany.com：

```
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.mycompany</groupId>
    <artifactId>custom</artifactId>
    <version>1.0</version>
    <packaging>pom</packaging>

    <dependencies>
        <dependency>
            <artifactId>commons-logging</artifactId>
            <groupId>commons-logging</groupId>
            <version>1.1</version>
            <exclusions>
                 <exclusion>
                     <groupId>logkit</groupId>
                     <artifactId>logkit</artifactId>
                 </exclusion>
                <exclusion>
                    <groupId>avalon-framework</groupId>
                    <artifactId>avalon-framework</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>javax.servlet</groupId>
                    <artifactId>servlet-api</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
    </dependencies>
</project> 
```

当我用这样的代码下载常春藤库时：

```
<target name="ivy-init">
    <mkdir dir="${internal-libs}"/>
    <ivy:settings file="${ivy.settings.dir}/ivysettings.xml"/>
    <ivy:retrieve pattern="${internal-libs}/[artifact]-[revision].[ext]" sync="true"  />
</target> 
```

ivy 下载排除了 deps avalon-framework:avalon-framework:4.1.3 和 logkit:logkit:1.0.1

为什么？我在 pom 中排除了它！

如何用 ivy 排除它，保持相同的简单 ivy.xml？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-17T05:15:09.610

在接下来的步骤中解决此问题：

1.  查看我的 pom.xml 并将排除添加到其他工件取决于 commons-logging:commons-logging
2.  更新到最新的常春藤
3.  清理本地常春藤缓存

# python - Python：什么是“来自导入 * 安全”模块？

> ID：10612798
> 
> 赞同：2
> 
> 时间：2012-05-16T05:55:29.750
> 
> 标签：python, module, namespaces

我正在查看“Python 中的成语和反成语”[部分](http://docs.python.org/howto/doanddont.html#when-it-is-just-fine)，它讨论了模块“宣传自己是`from import *`安全的”时的情况。

从这个意义上说，有哪些模块是安全的？我认为这种感觉不同于简单的“导入安全”（没有来自，没有明星）的模块。

从这个意义上说，为什么要一个模块是安全的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T05:58:34.303

这意味着它不使用包括该模块在内的其他模块常用的名称`__builtin__`。例如，如果一个模块具有“def ord(x)”或“def int(x)”，则它是不安全的，因为它们是 python 内置的。

# c# - 如何使用c#拦截和更改httprequests

> ID：10612799
> 
> 赞同：0
> 
> 时间：2012-05-16T05:55:38.393
> 
> 标签：c#, .net, web-services, httpmodule

我正在使用 c# 开发一个 web 服务。可以使用过滤器（使用 HttpModule）拦截客户端请求。但是如何修改请求。我可以像这样获取请求

```
 Stream InputStrm = App.Context.Request.InputStream; 
```

我想解密请求并将其重新设置。我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T06:06:45.090

这取决于您使用的 Web 服务技术。如果您使用 Web API 或 MVC，则使用`ActionFilter`. 如果您使用 asmx，则使用`SoapExtension`. 如果您使用 WCF，则有各种扩展点。如果它只是一个 Web 请求，则可以通过说where是一个类`HttpModule`来应用过滤器，例如. Request.Filter 应该以相同的方式工作。 [http://www.15seconds.com/issue/020417.htm](http://www.15seconds.com/issue/020417.htm)是一篇旧文章，但显示了一些关于这些 Response.Filter 类的信息。`HttpContext.Current.Response.Filter = new SomeFilter( HttpContext.Current.Response.Filter )``SomeFilter``public class SomeFilter : Stream {`

# javascript - 使用 HTML 和 Javascript 启用/禁用选项卡

> ID：10612801
> 
> 赞同：0
> 
> 时间：2012-05-16T05:56:03.840
> 
> 标签：javascript, css, html-lists

我已经能够启用和禁用 HTML 和 Javascript 中的选项卡。我希望当前选项卡之前的选项卡的颜色应该不同并且被禁用，并且当前选项卡旁边的选项卡的颜色应该被禁用并且颜色不同

例如：- Step1 **Step2** Step3 Step4

假设选择了 Step2 选项卡，我希望 Step1 的颜色应该是绿色并且应该被禁用，Step3 和 Step4 的颜色应该是蓝色并且应该被禁用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T06:00:28.177

试试这个：http: [//jsfiddle.net/LQg7W/](http://jsfiddle.net/LQg7W/)

或者这个：http: [//jsfiddle.net/i_like_robots/cc324/](http://jsfiddle.net/i_like_robots/cc324/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T06:00:39.450

您可以使用 JQuery 插件而不是使用纯 JavaScript。请参考这些链接以获取一些标签导航插件。您可以下载并轻松配置。

[http://webdesignledger.com/tutorials/11-useful-jquery-tab-navigation-solutions](http://webdesignledger.com/tutorials/11-useful-jquery-tab-navigation-solutions) http://jqueryui.com/demos/tabs/

# mysql - 如何使用 `exec_insert` 方法？

> ID：10612808
> 
> 赞同：4
> 
> 时间：2012-05-16T05:56:34.810
> 
> 标签：mysql, ruby-on-rails, ruby, database, ruby-on-rails-3

我正在使用 Ruby on Rails 3.2.2 并且正在运行以下原始 SQL：

```
sql = "INSERT INTO articles (`title`, `user_id`) VALUES #{inserts.join(", ")}"
ActiveRecord::Base.connection.execute(sql) 
```

但是，我想使用 Ruby on Rails[`exec_insert`](http://api.rubyonrails.org/classes/ActiveRecord/ConnectionAdapters/DatabaseStatements.html#method-i-exec_insert)方法，但没有很好的文档。那么，我怎样才能使用该`exec_insert`方法来制作我上面所说的相同的东西（也许使用类似的东西`Article.connection.exec_insert(...)`）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2018-07-05T18:24:52.617

你可以用`exec_query`这个

```
ActiveRecord::Base.connection().exec_query('INSERT INTO articles(title, user_id) VALUES($1, $2)', 'someQueryName', [[nil, title], [nil, user_id]]) 
```

**请注意**，我已经**为 Postgres**使用并测试了 $1, $2，因为 $1,$2 是用于在 postgres 中绑定准备查询的约定。

*MySql 和其他数据库可能会有所不同。对于 Mysql，我认为它应该`?`代替 $1、$2 等*，这取决于数据库如何提供绑定

此外，您可能需要设置`prepare_query: true`一些。参考 - [http://api.rubyonrails.org/classes/ActiveRecord/ConnectionAdapters/DatabaseStatements.html#exec_query](http://api.rubyonrails.org/classes/ActiveRecord/ConnectionAdapters/DatabaseStatements.html#exec_query)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-05-16T06:05:29.283

`exec_insert`是一种内部方法，可能不是您想要的。你所拥有的应该没问题。

如果您真的打算使用它，并且需要示例，那么测试套件可能是找到它们的最佳位置。一个例子是[here](https://github.com/rails/rails/blob/master/activerecord/test/cases/adapters/sqlite3/sqlite3_adapter_test.rb#L43)。

# java - IntelliJ IDEA 无法设置 JDK

> ID：10612813
> 
> 赞同：56
> 
> 时间：2012-05-16T05:57:00.143
> 
> 标签：java, intellij-idea, settings

我正在尝试在 IntelliJ IDEA 中设置 JDK，无论我做什么，或者我选择的任何 JDK 版本，都没有任何反应。仍然存在以下情况： ![在此处输入图像描述](../Images/0a52c69a36222c40dd5d45ba04efe559.png)

所以我告诉 IDEA 它应该使用什么 JDK，但它仍然要求我设置一个 JDK。这是一个错误还是我错过了什么？我可以应用任何解决方法使一切正常吗？

## 添加

我设置 JDK 的步骤：设置前的情况：
![在此处输入图像描述](../Images/2613ba19a9906b30e4da12504ca54013.png)

第一步：
![在此处输入图像描述](../Images/e67620c73b9dddf9ac8e0a26ea56c4c3.png)

第二步：
![在此处输入图像描述](../Images/34fdef5d13c448e8bbaa5f0a61c12909.png)

第三步：
![在此处输入图像描述](../Images/42001f9d4a59eb61876d077e5b06833c.png)

设置JDK后的情况： ![在此处输入图像描述](../Images/c79f64dea38897269a3ff8b0e1398872.png)

开发工具包：
![在此处输入图像描述](../Images/2377055d8fc9908d663bd93e1e437e16.png)

模块设置：
![在此处输入图像描述](../Images/cc0b1a4213162cbb26e2453c3ca8d769.png)

* * *

## 回答 #1

> 赞同：80
> 
> 时间：2012-05-16T14:33:35.367

`File`| `Invalidate Caches`是您遇到此类问题时应该尝试的第一件事。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-05-16T06:25:43.760

在“项目视图”中选择您的模块，然后在“项目设置”中按 F4 选择“模块”。在“模块设置”概述中，您可以添加/删除模块 SDK。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-10-20T21:11:58.273

以下这对我有用：

在项目视图中选择您的模块

按 F4

前往 SDK

选择你的 SDK

确保里面有各种罐子。否则，选择正确的目录。

就我而言，即使选择了正确的目录，类路径、源路径等都是空的。

于是只好又选择了一次jdk安装目录，把所有的jar都加载了，问题解决了。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-07-10T15:28:06.077

在我的情况下，只是`File | Invalidate Caches`没有`Restart`工作。右键单击该项目并转到`Module Settings`，我没有在 下选择 SDK `Project Settings->Project`。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-09-11T21:20:24.613

我按照以下步骤

1.  按 F4
2.  在项目设置中选择模块
3.  从下拉菜单中设置模块 SDK 或添加新的。
4.  申请并确定

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-08-07T16:49:53.263

对于像我这样的人，正在寻找一种在 UBUNTU Linux 上的 IDEA 中设置离线文档的方法。您应该安装 openjdk-8-doc（或一般情况下的 openjdk-X-doc）包，然后转到`File`| `Project Structure`| `SDKs`| `1.8`（仍然`1.X`一般），然后选择选项卡`Documentation Paths`并在那里添加路径`/usr/lib/jvm/java-1.8.0-openjdk-amd64/docs/api`。

请注意，Java 文档的安装路径在您的机器上可能会有所不同。您可以检查`dpkg-query -L openjdk-8-doc | less`在 shell 中执行的 Java 文档安装的路径。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-10-19T09:50:38.487

我在控制台中看到了这个异常：

```
NoClassDefFoundError: com/intellij/remote/RemoteSdkConnectionAcceptor 
```

这是由 Intellij IDEA 2016.2.5 上的 python 社区版插件引起的。

更新/禁用插件后，我能够再次设置 SDK。

# javascript - XUL JS 打印错误到控制台

> ID：10612817
> 
> 赞同：0
> 
> 时间：2012-05-16T05:57:48.797
> 
> 标签：javascript, xul, xulrunner

我真的是一个 XUL 初学者，我拼命地尝试编写一个应用程序，当按下按钮时将打印“Hello world”到控制台，我还需要显示调试信息。虽然我没有找到令人印象深刻的 XUL 傻瓜文档和教程。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T06:00:36.883

检查这是否有帮助：

[https://developer.mozilla.org/en/Debugging_a_XULRunner_Application](https://developer.mozilla.org/en/Debugging_a_XULRunner_Application)

# jquery - A Good jQuery Image Slideshow -（像 jQuery Cycle 插件）

> ID：10612819
> 
> 赞同：1
> 
> 时间：2012-05-16T05:58:16.077
> 
> 标签：jquery, slideshow

我知道....每个人都在寻找一个好的 jQuery 幻灯片。让我明确一点，我不是在寻找像[FancyBox](http://fancybox.net)这样的幻灯片。我需要一个内联的、自动旋转的幻灯片，比如[Cycle](http://jquery.malsup.com/cycle/)。我刚刚完成了网络搜索，并且我看到了很多好的，但我不得不放弃其中的大部分，原因是：

1.  我需要一个幻灯片，它允许一个固定的容器（水平和垂直）居中（水平和垂直）具有不同大小的图像。
2.  我需要能够将图像包装在超链接中，以将用户引导至图像特定的 url。

我认为[Cycle](http://jquery.malsup.com/cycle/)会起作用，但它最终也未能满足我的要求。通过检查 Cycle 的 js 文件，我看到了活动幻灯片的 css.left 和 css.top 被强制到的位置：0。这破坏了我将幻灯片置于其容器内的可能性。

提前感谢您的意见！

# spring - Spring 3.1 无参数缓存抽象

> ID：10612820
> 
> 赞同：9
> 
> 时间：2012-05-16T05:58:21.063
> 
> 标签：spring, caching

在阅读 Spring 3.1 中的新[缓存抽象](http://blog.springsource.org/2011/02/23/spring-3-1-m1-caching/)时，我想将此功能应用到我的项目中。

我可以缓存对没有参数的方法的调用吗？

```
@Cacheable("xCache")
public List<X> loadAllX() {
    ...
} 
```

链接的博客文章指出

> 使用方法参数作为键执行缓存查找

所以应该不可能缓存这个方法，对吧？

**简短的回答：**是的，没有任何参数的方法将像任何其他方法一样被缓存。我想该方法的缓存中只有一个条目。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-24T16:40:50.280

*您可以通过使用“缓存 SpEL 可用元数据*”来覆盖此行为，如下所述：

[http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/cache.html#cache-spel-context](http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/cache.html#cache-spel-context)

在您的示例中，您可以指定以下内容：

```
@Cacheable(value = "xCache", key = "#root.methodName") 
public List<X> loadAllX() { 
    ... 
} 
```

这将使用键“loadAllX”缓存“xCache”中的 X 列表

# mysql - jdbc 到 MYSQL 错误：没有找到适合 jdbc:mysql://localhost:3306/test?user='root'&password='' 的驱动程序

> ID：10612821
> 
> 赞同：0
> 
> 时间：2012-05-16T05:58:23.533
> 
> 标签：mysql, jsp, jdbc, sqlexception

我有以下代码连接到 mysql 数据库：

```
public static void insertIntoDatabase(String code,String name,String temp,String hum,String del) {
    Connection con = null;
    ResultSet rs = null;

    String url = "jdbc:mysql://localhost:3306/test";
    String user = "root";
    String password = "";

    try {
        Class.forName("com.mysql.jdbc.Driver");
        con = DriverManager.getConnection(url, user, password);
        rs = con.prepareStatement("CREATE TABLE IF NOT EXISTS AiportDetails(code VARCHAR(50) PRIMARY KEY, " +
                "name VARCHAR(50), temp VARCHAR(50), hum VARCHAR(50), del VARCHAR(50)) ENGINE=InnoDB;").executeQuery();
        rs = con.prepareStatement("INSERT INTO AirportDetails(code,name,temp,hum,del) VALUES("+code+","+
                name+","+temp+","+hum+","+del+");").executeQuery();
    } catch (SQLException ex) {
        ex.printStackTrace();
    } finally {
        try {
            if (rs != null) {
                rs.close();
            }
            if (con != null) {
                con.close();
            }

        } catch (SQLException ex) {
            ex.printStackTrace();
        }
    }
} 
```

我收到以下错误：

```
java.lang.ClassNotFoundException: com.mysql.jdbc.Driver 
```

**注意**我在网上找到的一些常见更正是：

```
1\. The driver is not in the /WEB-INF/lib folder.
2\. The url is wrong. 
```

我不认为这是我的代码的情况。
谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T06:05:04.480

如果您在第一次连接之前没有加载驱动程序，就会发生这种情况。

```
Class.forName("com.mysql.jdbc.Driver"); 
```

可以肯定的是，司机必须进入`/WEB-INF/lib`，而不是进入`/WEB-INF`。顺便说一句，您已经找到了一些 SQL 注入漏洞。看`PreparedStatement`。`finally`也可以改进，就像你现在拥有的那样，抛出异常`con`时永远不会关闭。`rs.close()`

# php - Zend 注册表不工作

> ID：10612823
> 
> 赞同：0
> 
> 时间：2012-05-16T05:58:28.640
> 
> 标签：php, zend-framework

我的引导程序中有以下代码

```
protected function _userSession(){
    $session=new Zend_Session_Namespace("userIdentity");
    $session->greet="Hello!!!!!";
    Zend_Registry::set("session", $session);        
} 
```

在控制器中我写：

```
public function index() {
    $session = Zend_Registry::get("session");
    echo $session->greet;        
} 
```

但它会显示如下错误消息：没有为密钥“会话”注册条目。这段代码有什么问题。任何解决方案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T06:09:29.587

我认为您只需要将用户会话的引导方法更改为`_initUserSession()`

根据您的设置方式，引导程序将自动调用所有以`_init`

见这里： http: [//framework.zend.com/manual/en/zend.application.theory-of-operation.html#zend.application.theory-of-operation.bootstrap.resource-methods](http://framework.zend.com/manual/en/zend.application.theory-of-operation.html#zend.application.theory-of-operation.bootstrap.resource-methods)

如果您有`index.php`zend 使用的默认值，那么您的引导程序将自动调用所有以`_init`

因此，如果您有以下情况：

`$application->bootstrap()->run();`

但如果你这样做：

```
$application->bootstrap(array(
    'FrontController',
    'Layout',
    'View',
    'Db'))->run(); 
```

以上只会为您的数组中列出的那些调用 init 方法。

# local-storage - 本地存储实现

> ID：10612826
> 
> 赞同：1
> 
> 时间：2012-05-16T05:58:41.917
> 
> 标签：local-storage, sencha-touch-2

我正在尝试将我的配置页面保存在本地存储中并稍后检索它。我不太确定该怎么做。当我尝试使用“store.load”加载商店但它说加载未定义。

我的配置页面代码是

```
var flag = 1;
var count = 3;
var apptitle;
Ext.define("InfoImage.view.Settings",{
                    extend : 'Ext.form.Panel',
                    requires : [
                    //'InfoImage.view.workItemPanel',
                    'Ext.TitleBar', 'Ext.field.Text', 'Ext.field.Toggle',
                            'Ext.field.Select', 'Ext.layout.HBox',
                            'Ext.field.Number', 'Ext.field.Checkbox',
                            'Ext.form.FieldSet', 'Ext.field.Password',
                            'Ext.field.Url' ],
                    xtype : 'settingsPanel',
                    id : 'settings',
                    config : {
                        //store:'configStore',
                        scrollable : {
                            direction : 'vertical'
                        },
                        items : [
                                {
                                    xtype : 'toolbar',
                                    ui : 'dark',
                                    docked : 'top',
                                    id:'myTitle',
                                    title : 'InfoImage Settings',
                                    items : [
                                    {
                                        xtype : 'button',
                                        iconCls : 'home',
                                        iconMask : true,
                                        ui : 'normal',
                                        id : 'homeSettingbtn'
                                    },

                                    {xtype: 'spacer'},
                                    {
                                        xtype : 'button',
                                        //text:'Save',
                                        iconCls : 'save_fin',
                                        iconMask : true,
                                        ui : 'normal',
                                        id : 'savebtn',
                                        handler : function() {
                                        }
                                    }, 
                                    {
                                        xtype : 'button',
                                        //text:'Default',
                                        iconCls : 'default',
                                        iconMask : true,
                                        ui : 'normal',
                                        handler : function() {
                                            var form = Ext.getCmp('settings');
                                            form.reset();
                                        }

                                    }

                                    ]
                                },

                                {
                                    //fieldset defined for the Server Configuration details to be entered.
                                    xtype : 'fieldset',
                                    title : 'Server Configuration',
                                    defaults : {
                                        xtype : 'selectfield',
                                        labelWidth : '30%',
                                    },
                                    items : [
                                            {
                                                xtype : 'urlfield',
                                                name : 'servname',
                                                id : 'servname',
                                                label : 'Server Name',
                                                labelWidth : '30%'
                                            },
                                            {
                                                xtype : 'numberfield',
                                                id : 'port',
                                                name : 'port',
                                                label : 'Port',
                                                value : '80',
                                                labelWidth : '30%'
                                            },
                                            {
                                                xtype : 'selectfield',
                                                name : 'protocol',
                                                id : 'protocol',
                                                label : 'Protocol',
                                                labelWidth : '30%',
                                                usePicker : false,
                                                //ui:'action',
                                                //styleHtmlContent:true,
                                                //visible:true,
                                                //fieldStyle:'background-color:#FFF;',
                                                handler : function() {
                                                },
                                                options : [ {
                                                    text : 'HTTP',
                                                    value : 'HTTP'
                                                }, {
                                                    text : 'HTTPS',
                                                    value : 'HTTPS'
                                                }

                                                ]
                                            }

                                    ]
                                },
                                {
                                    //fieldset defined for the User Configuration details to be entered.
                                    xtype : 'fieldset',
                                    title : 'User Configuration',
                                    items : [ {
                                        xtype : 'textfield',
                                        name : 'username',
                                        id : 'username',
                                        label : 'User Name',
                                        labelWidth : '30%'
                                    }, {
                                        xtype : 'passwordfield',
                                        name : 'password',
                                        id : 'password',
                                        label : 'Password',
                                        labelWidth : '30%'
                                    }, {
                                        xtype : 'textfield',
                                        id : 'domain',
                                        name : 'domain',
                                        label : 'Domain',
                                        labelWidth : '30%'
                                    } ]
                                },

                                {
                                    //fieldset defined for the App Subtitle to be entered.
                                    xtype : 'fieldset',
                                    items : [ {
                                        xtype : 'textfield',
                                        name : 'apptitle',
                                        id : 'apptitle',
                                        label : 'App Subtitle',
                                        labelWidth : '30%',
                                        value : 'Mobile Client Work Manager'
                                    } ]
                                }

                        ]

                    }
                }); 
```

我的controller.js中的代码是

```
Ext.getCmp('settings').getStore().load(); 
```

我应该做什么将这些数据存储在本地存储中并检索它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-26T14:36:10.207

我认为问题出在这里：

```
//store:'configStore', 
```

也许你应该取消注释它。

从 localStorage 读取数据：

```
Ext.getCmp('settings').getStore().load(); 
```

将数据写入本地存储：

```
Ext.getCmp('settings').getStore().add(data);
Ext.getCmp('settings').getStore().sync(); 
```

sync() 方法用于将 Sencha Storage 与 HTML5 localStorage 同步（如果我做对了 - 它对我有用）

# jsp - 从 request.getParameter 获取空值

> ID：10612827
> 
> 赞同：0
> 
> 时间：2012-05-16T05:58:45.177
> 
> 标签：jsp

在我的应用程序中，在加入的帮助下，我在我的 jsp 页面中显示动态值，如下所示：

```
<%  while(rs.next()){ %>
<td><input type="checkbox" name="chkName" onclick="selectall()"></td> 
<td><input type="text"  name="empId" value="<%= rs.getString(1)%> "  disabled="disabled"  maxlength="10"></td>
<td><input type="text" name="device" value="<%= rs.getString(2)%>"  disabled="disabled" maxlength="10"></td>
<td><input type="text"  name="features" value="<%= rs.getString(3)%>"  disabled="disabled" maxlength="60"></td>
<td><input type="password" name="password" disabled="disabled"></td>
<td><input type="text"  name="policyName" value="<%= rs.getString(4)%>"  disabled="disabled" maxlength="10"></td>
</tr>
<% } 
```

每当我从另一个 servlet 调用时（因为我想显示从这个 jsp 到另一个 jsp 的获取）`request.getParameter("empId")`，它正在获取“NULL”值。我认为，我必须使用 set（`session.setAttribute()`或`request.setParameter()`）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T06:19:01.240

您可以将 empId 作为参数传递给此 JSP。

如果您使用的是 get，那么您可以通过 URL 传递它。喜欢 yoururl.com?empId=xyz

如果您使用的是 post，您可以创建一个名为 empId 的表单属性。

# c# - 如何在列表框中找到最小值的索引c#

> ID：10612828
> 
> 赞同：1
> 
> 时间：2012-05-16T05:58:45.760
> 
> 标签：c#, winforms

我正在使用此代码来查找列表框的最小值，

```
var low = lowestlow.Items.Cast<object>()
.Select(obj => Convert.ToDouble((decimal.Round(Convert.ToDecimal(obj), 2))));
double llvalue = low.Min(); 
```

`llvalue`我想在列表框中找到最小值的索引`lowestlow`。

我不知道该怎么做。

谁能帮帮我吗。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T06:11:32.887

尝试`lowestlow.Items.IndexOf(lowestlow.Items.FindByValue(llvalue))`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T06:09:48.470

```
object item =    lowestlow.Items.Min(i => i)
int index = lowestlow.IndexOf(item); 
```

我不知道你在列表中有什么也许你必须强制转换它或定义一个参数（如果列表中有一个对象

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T06:13:31.280

你也可以试试 linq 方法

```
int minValue = 0;

if (listBox1.Items.Count > 0)
{
minValue = Convert.ToInt32(listBox1.Items[0]);
maxValue = Convert.ToInt32(listBox1.Items[0]);
}
for (int i = 0; i < listBox1.Items.Count; i++)
{
if (minValue > Convert.ToInt32(listBox1.Items[i]))
{
minValue = Convert.ToInt32(listBox1.Items[i]);
} 
}
int LOWEST = listBox1.IndexOf(minValue); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-16T06:17:37.543

如果`Integer`ListBox 中有，可以使用下面的 linq 来获取最低的索引（第一次出现）。

```
Dim convertedList = ListBox1.Items.Cast(Of String).ToList()
Dim lowest = convertedList.IndexOf(convertedList.Where(Function(x) x <= convertedList.Min()).First()) 
```

返回 8 in 和以下数字：

```
8
2
3
4
5
6
2
10
0 <--
11
12
13
14 
```

# algorithm - 三角形网格的四面体方向

> ID：10612829
> 
> 赞同：9
> 
> 时间：2012-05-16T05:58:53.460
> 
> 标签：algorithm, math, geometry, computational-geometry

我有 2 个三角形和顶点 p0、p1、p2、p3。这两个三角形共享一条边。从这两个三角形中，我想制作一个由 4 个顶点给出的四面体。我使用的库要求“应给出 4 个顶点，以便在从外部查看时，定义图形中四面体面的四个顶点三元组以逆时针顺序出现” ![绘画](../Images/e1cac3ef87a9cd19f803666fc7f0dbb2.png)。假设两个三角形之一是 p0、p1、p2，我将法线计算为 (p1-p0) (cross) (p2-p0)。有人可以告诉我一种方法来确保满足这个条件吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-05-16T22:44:01.500

简短的回答：

条件是`p3`必须在由 确定的平面的正确一侧`(p0, p1, p2)`。

因此，在计算该平面的法线之后，您需要通过取点积来确定从（比如说）`p0`到的向量`p3`是指向法线的相同方向还是相反方向`dot(normal, p3-p0)`。

* * *

从数学上讲：

您需要找到由四个点的齐次坐标形成的 4x4 矩阵的行列式。行列式的符号决定是否满足条件；适当的符号取决于所使用的确切约定，但理想情况下它应该是正数：

```
require:
  0 < det(p0, p1, p2, p3)

  == det [ p0.x p0.y p0.z 1 ]
         [ p1.x p1.y p1.z 1 ]
         [ p2.x p2.y p2.z 1 ]
         [ p3.x p3.y p3.z 1 ] 
```

如果一组特定的有序点具有负行列式，您可以通过交换任意两个点来修复它（这将否定行列式）：

```
e.g., swapping p0 and p2:

det(p0, p1, p2, p3) = - det(p2, p1, p0, p3)
     ^       ^               ^       ^ 
```

或者，更一般地，在四个顶点的[偶数和奇数排列](http://en.wikipedia.org/wiki/Parity_of_a_permutation)之间切换。

如果行列式为零，则四个点是共面的，不能这样固定。

* * *

最后，代码：

使用 3-d 矢量数学计算此行列式的一种相对简单的方法：

```
let:  v1 = p1 - p0
      v2 = p2 - p0
      v3 = p3 - p0
      norm12 = cross(v1, v2)
   -> determinant = dot(norm12, v3) 
```

最终行列式也称为 v1、v2 和 v3 的“三重乘积”。

请注意，我一直犹豫尝试从您的问题中解码确切的符号约定（即，您是否需要行列式为正或负）：您提供的措辞和图表有点令人困惑。

但是，由于您拥有原始库及其文档，因此您最适合回答这个问题。作为最后的手段，您可以尝试经验方法：尝试两个标志，然后选择一个不会爆炸的...

# maven-2 - 无法从存储库下载工件 maven-compiler-plugin

> ID：10612838
> 
> 赞同：1
> 
> 时间：2012-05-16T05:59:34.537
> 
> 标签：maven-2

我创建了一个 maven 项目并想将 java 编译器版本更改为 1.6，所以我添加了 ff：

```
<build>
    <plugins>
        <plugin>
            <artifactId>org.apache.maven.plugins</artifactId>
            <groupId>maven-compiler-plugin</groupId>
            <version>2.3.2</version>
            <configuration>
                <source>1.6</source>
                <target>1.6</target>
            </configuration>
        </plugin>
    </plugins>
</build> 
```

当我在 Eclipse 中运行任何 Maven 目标时，它可以工作。但是当我在终端运行时，我得到了 ff 错误：

```
Project ID: maven-compiler-plugin:org.apache.maven.plugins

Reason: POM 'maven-compiler-plugin:org.apache.maven.plugins' not found in repository: Unable to download the artifact from any repository

  maven-compiler-plugin:org.apache.maven.plugins:pom:2.3.2

from the specified remote repositories:
  central (http://repo1.maven.org/maven2),
  apache.repo (https://repository.apache.org/content/repositories/releases),
  jboss.repo.deprecated (https://repository.jboss.org/nexus/content/repositories/deprecated), 
```

知道是什么导致了这个问题吗？

我能够通过更新到 maven3 来解决这个问题。但是我现在的问题是，虽然我将 maven-compiler-plugin 版本指定为 2.4，但我仍然在日志中看到 2.3.2。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-17T05:04:56.250

您的 groupId 和 artifactId 是相反的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-16T08:52:39.963

如果 Eclipse 和命令行创建不同的结果，那么它们使用不同的本地 Maven 存储库。默认是在`$HOME/.m2/repository/`. 所以第一步是找出哪个（命令行或Eclipse）使用不同的本地缓存以及为什么。

下一个问题是下载失败的原因。通常的原因是 Maven 尝试下载并得到了错误。Maven 会记住错误并且不会重试。要强制它重试，您必须删除该文件夹`$M2_REPO/repository/org/apache/maven/plugins/maven-compiler-plugin/2.3.2/`。

最后，当您配置 2.4 但在日志中看到 2.3.2 时，您要么构建了构建的 POM 之一的错误项目，要么覆盖了编译器插件的版本。

为避免此类问题，请使用父 POM，将所有版本保存在`dependencyManagement`（用于依赖项）和`pluginManagement`（用于插件）元素中。这样，您将永远不必在模块 POM 或从该版本继承的其他项目中定义版本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T00:03:07.070

从存储库安装 maven 3 并在 /etc/environment 中添加 maven3 主页后，我忘记做的是重新启动我的机器，之后它就可以工作了。

我的 /etc/environment 现在看起来像：

```
M3_HOME="/home/edward/java/apache/maven-3.0.4"
MAVEN_HOME="/home/edward/java/apache/maven-3.0.4"
M3="home/edward/java/apache/maven-3.0.4"

PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/home/edward/java/apache/maven-3.0.4" 
```

以下是我卸载和安装 maven 3 的方法： http: [//czetsuya-tech.blogspot.com/2012/05/how-to-install-maven-3-in-ubuntu-1110.html](http://czetsuya-tech.blogspot.com/2012/05/how-to-install-maven-3-in-ubuntu-1110.html)

# javascript - 鼠标悬停效果在每个项目上运行

> ID：10612842
> 
> 赞同：0
> 
> 时间：2012-05-16T05:59:41.597
> 
> 标签：javascript, jquery, hover

我在单个页面上出现 5 次 UL。因此，当我将鼠标悬停在一个图像上时，UL 的每个实例都会运行相同的效果（即，它会更改所有 5 次出现的 HTML）。

我想在单个 UL 上执行脚本，以便效果在我鼠标悬停而不是全部的相应 UL 上运行。

实时代码示例：http: [//jsfiddle.net/5FPSc/](http://jsfiddle.net/5FPSc/)

提前致谢。任何帮助/指针都会有很大帮助。/ 总务署

HTML：

```
<ul class="answerOptions">
    <li data-score="0" data-answer="A" class="answer-1">
      <figure><img src="assets/images/styles/quiz/ques2_A.jpg" alt="" title="" />
        <figcaption>Dinner and a movie</figcaption>
      </figure>
    </li>
    <li data-score="1" data-answer="B" class="answer-2">
      <figure><img src="assets/images/styles/quiz/ques2_B.jpg" alt="" title="" />
        <figcaption>2 words: Laser Tag</figcaption>
      </figure>
    </li>
    <li data-score="0" data-answer="C" class="answer-3">
      <figure><img src="assets/images/styles/quiz/ques2_C.jpg" alt="" title="" />
        <figcaption>Stroll through the park and a picnic</figcaption>
      </figure>
    </li>
    <li data-score="0" data-answer="D" class="answer-4">
      <figure><img src="assets/images/styles/quiz/ques2_D.jpg" alt="" title="" />
        <figcaption>Skydiving</figcaption>
      </figure>
    </li>
    <li data-score="4" data-answer="E" class="answer-5">
      <figure><img src="assets/images/styles/quiz/ques2_E.jpg" alt="" title="" />
        <figcaption>Art gallery and wine tasting</figcaption>
      </figure>
     </li>
</ul>
    <div class="answerItem-1"></div> 
```

脚本 ：

```
$('.answerOptions figure').hover(function(){
    $(".answerItem-1").html($(this).find("figcaption").html());
},function(){
if($('figure').hasClass('selected') != true){
    $(".answerItem-1").html("");
}
else {
      $(".answerItem-1").html($("figure.selected").find("figcaption").html());
}
}); 
$('.answerOptions figure').click(function(){    
    $('figure').removeClass('selected');
    $(this).addClass("selected");   
    $(".answerItem-1").html($(this).find("figcaption").html());
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T06:31:06.753

我认为你应该使用客观的概念，使 LI 标签有自己的事件处理程序。只需看看下面的脚本，并请参考您的代码。

```
$('ul.answerOptions').delegate('li.answer-1', 'hover', function(event) {

    if (event.type == 'mouseenter') {
        console.log('inbound');
        var $target = $(this).parents('div.question').find('div.answerItem-1');
        var showText = '';
        showText = $(this).find('figcaption').html();
        $target.html(showText);
    } else if (event.type == 'mouseleave') {
        var $target = $(this).parents('div.question').find('div.answerItem-1');
        $target.html('');
    }
});​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T06:14:04.003

不要使用类，使用 Id。类悬停效果在所有项目上运行，id 在页面上只能是一个。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T06:16:19.897

它们都“弹出”的原因是因为这条线：`$(".answerItem-1")`你选择了每个`.answerItem-1`，你有一堆。您需要设置唯一标识符。我会做这样的事情：

```
<figure rel="q1">
...
<div id="q1" class="answerItem-1"></div>

//jquery code
var q = $(this).attr('rel');  
$('#'+q).html($(this).find("figcaption").html()); 
```

[http://jsfiddle.net/5FPSc/4/](http://jsfiddle.net/5FPSc/4/)

# jquery - typewatch 中的“elem.type 未定义”

> ID：10612846
> 
> 赞同：0
> 
> 时间：2012-05-16T05:59:50.533
> 
> 标签：jquery, ruby-on-rails, ruby-on-rails-3, jquery-plugins, typewatch

我从[github](https://github.com/dennyferra/TypeWatch)页面下载了 typewatch 文件，将它放在我的 vendor/assets/javascripts 文件中，并在我的 application.js 中以正常方式要求它然后我执行以下代码（如 github 页面所示）

```
$(function () {
    var options = {
        callback: function(){ alert("changed search text"); },
        wait: 50,
        highlight: true,
        captureLength: 2
    }
    $('#search').typeWatch( options );
}); 
```

它根本不起作用。它还破坏了我拥有的[后伸](http://srobbin.com/jquery-plugins/backstretch/)功能。任何帮助将不胜感激，这变得非常烦人:(

更新：

Firebug 给出以下错误：插件[代码第 38 行中的“elem.type is undefined”](https://github.com/dennyferra/TypeWatch/blob/master/jquery.typewatch.js)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T05:48:25.477

正如你所报告`<form id="search" method="get" action="/concerts" accept-charset="UTF-8">`的，`console`在评论中显示。这意味着它正在搜索`type`dom的属性。你正在将`form`dom 传递给它。相反，您应该通过该`input`领域。像`$('#search_input_field').typeWatch(options);`

# php - 如何满足内置读取操作仅在加载页面 10 秒后生成操作的新要求？

> ID：10612849
> 
> 赞同：0
> 
> 时间：2012-05-16T05:59:55.560
> 
> 标签：php, javascript, facebook-opengraph

我昨天提交了内置的读取操作，今天它提出了需要更改的标签，说明

> 我们正在更新内置阅读操作的要求，以便仅在用户登陆包含文章的页面后 10 秒生成内置操作 - 这强烈表明用户已阅读文章

我正在使用 php，我认为我们不能在 php 中执行此操作，因为 php 是服务器端语言，所以我应该使用 JavaScript 还是有更好的选择？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T19:12:07.603

是的，使用 Javascript 发布用户的读取操作。类似的东西（完全未经测试）

```
setTimeout(function() {
  FB.api('/me/news.reads', {article: document.location.href}, function(response) {
    // note the response if you want
  });
}, 10000); 
```

# colors - AppleScript、InDesign 和色板

> ID：10612851
> 
> 赞同：0
> 
> 时间：2012-05-16T06:00:20.730
> 
> 标签：colors, applescript, adobe-indesign

在基于文本文件中的条目创建样本时，我遇到了一些障碍。我可以正常读取文件，但是当涉及到实际创建样本（或编辑现有样本）时，它会失败。

假设 c1 的值为“0,100,100,5”，这是编辑现有的：

```
set swatch ("CLIENT1") to c1 
```

这是创建一个新的：

```
make new color with properties {model:process, space:CMYK, color value:{c1}, name:"CLIENT1"} 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T17:19:09.140

因为变量**c1**是一个字符串，而不是一个列表。

您需要一个包含**integer**的列表。

这是一个解决方案：

```
set c1 to "0,100,100,5"
set c1 to run script "{" & c1 & "}" 
```

- 编辑 ：

这是更改现有样本颜色的方法

```
tell active document
    set color value of swatch "CLIENT1" to c1 -- change one property

    -- or change properties 
    set properties of swatch "CLIENT1" to {model:process, space:CMYK, color value:c1} 
```

# json - 带单引号的错误查询

> ID：10612854
> 
> 赞同：0
> 
> 时间：2012-05-16T06:00:30.933
> 
> 标签：json, quotes, encode

我的查询中的单引号有问题：

```
myquery =" select x from sometable where x = 'abc' ";
String enc = URLEncoder.encode(myquery, "utf-8"); 
```

编码结果：x%3D%27abc% *27*

然后我使用 HTTP 连接来解析*myquery*和 php 文件//。我得到错误：

> Errorquery: select x from sometable where x =\'abc\'

*myquery*（单引号/'abc'）有问题吗？

# makefile - 输入/输出对的 Makefile

> ID：10612859
> 
> 赞同：3
> 
> 时间：2012-05-16T06:00:51.450
> 
> 标签：makefile

我有成对的输入/输出文件。我从脚本生成输出文件的名称：`output=$(generate input)`. 例如，这些对可能是：

```
in1.c      out1.o
in2.txt    data.txt
in3        config.sh
sub/in1.c  sub/out1.o 
```

所有这些对都遵循makefile 中的*相同规则集：*

```
$(out): $(in) $(common) 
    $(run) $< > $@ 
```

**编写这样的 Makefile 的简洁有效的方法是什么？**

我宁愿避免从另一个脚本生成 Makefile。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T07:23:08.807

我不会从脚本生成 Makefile 片段，但您可以使用`include`：

```
INS := in1.c in2.txt in3 sub/in1.c

include rules.mk

rules.mk: Makefile
        rm -f $@
        for f in $(INS); do \
                out=`generate "$$f"`; \
                echo -e "$$out: $$f\n\t\$$(run) \$$<> > \$$@\n\n" >> $@; \
        done 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-16T07:30:39.617

如果您`include`的文件 gmake 将尝试在任何其他目标之前生成并包含它。将此与默认规则相结合应该可以让您接近您想要的

```
# makefile
gen=./generate.sh
source=a b c
run=echo

# Phony so the default rule doesn't match all
.PHONY:all
all:

# Update targets when makefile changes
targets.mk:makefile
    rm -f $@
    # Generate rules like $(target):$(source)
    for s in $(source); do echo "$$($(gen) $$s):$$s" >> $@; done
    # Generate rules like all:$(target)
    for s in $(source); do echo "all:$$($(gen) $$s)" >> $@; done

-include targets.mk

# Default pattern match rule
%:
    $(run) $< > $@ 
```

用`generate.sh`like进行测试

```
#!/bin/bash
echo $1 | md5sum | awk '{print $1}' 
```

给我吗

```
$ make
rm -f targets.mk
for s in a b c; do echo "$(./generate.sh $s):$s" >> targets.mk; done
for s in a b c; do echo "all:$(./generate.sh $s)" >> targets.mk; done
echo a > 60b725f10c9c85c70d97880dfe8191b3
echo b > 3b5d5c3712955042212316173ccf37be
echo c > 2cd6ee2c70b0bde53fbe6cac3c8b8bb1 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-16T08:09:13.657

> 编写这样的 Makefile 的简洁有效的方法是什么？

可以给定输入列表和生成输出文件名的 shell 脚本，以使用 GNU make 功能生成目标、依赖项和规则：

```
all :

inputs := in1.c in2.txt in3 sub/in1.c
outputs :=

define make_dependency
  ${1} : ${2}
  outputs += ${1}
endef

# replace $(shell echo ${in}.out) with your $(shell generate ${in})
$(foreach in,${inputs},$(eval $(call make_dependency,$(shell echo ${in}.out),${in})))

# generic rule for all outputs, and the common dependency
# replace "echo ..." with a real rule
${outputs} : % : ${common}
    @echo "making $@ from $<"

all : ${outputs}

.PHONY : all 
```

输出：

```
$ make
making in1.c.out from in1.c
making in2.txt.out from in2.txt
making in3.out from in3
making sub/in1.c.out from sub/in1.c 
```

在上面的 makefile 中，使用了一个强大的 GNU make 构造所使用的一点点：`$(eval $(call ...))`. 它要求make扩展宏以产生一段文本，然后将该段文本评估为一段makefile，即make生成飞行的makefile。

# java - 是否有集成 Spring-MVC 和 Spring-Data-JPA 的示例 Web 项目？

> ID：10612862
> 
> 赞同：0
> 
> 时间：2012-05-16T06:00:55.243
> 
> 标签：java, spring, jpa, spring-mvc, spring-data-jpa

我看到很多 spring-data-jpa 的例子，但不是使用 spring-mvc 的 web 项目，目前我尝试在我的项目中使用 spring-data-jpa，但是失败了，请参阅我[的帖子](https://stackoverflow.com/questions/10544694/my-repository-cant-initialize-automatically-while-using-spring-data-jpa#comment13660373_10544694)here。而且我没有找到解决我的问题的解决方案。谁能给我一个骨架项目，所以我可以重新开始。或者你能给我一些建议，比如使用spring-data-jpa，配置有什么特别的吗？春天的版本？spring data jpa 的教程听起来简单方便，但和我的场景不太一样。感谢您的反馈。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-17T19:38:23.093

下午，为此写了一个小例子，位于：

[https://github.com/donkeystalk/d3](https://github.com/donkeystalk/d3)

希望这可以帮助你！知道我试图帮助你解决你之前的问题，并认为一个完整的例子是有序的！

# php - 如何在 php 中解析“db2 list utility show detail”的输出？

> ID：10612866
> 
> 赞同：0
> 
> 时间：2012-05-16T06:01:12.247
> 
> 标签：php, parsing

我想要一个函数来返回最好的关联数组的多维数组。我将整个输出分成三个部分，以使其更好地阅读。

解析此类文本的最佳方法是什么？输出会是什么样的

```
$output = array
  (
  "18"=>array(
    "type"=>"backup",
    "name"=>"PLC",
    "Description"=>"offline db",
    "state"=>"Executing",
    "Start Time"=>"05/16/2012 10:55:45.240272"
  ),  
  "17"=>array(
    "type"=>"restore",
    "name"=>"TYNDALE",
    "Description"=>"db",
    "state"=>"Executing",
    "Start Time"=>"05/16/2012 10:49:53.340805"
  ),
  "15"=>array(
    "type"=>"restore",
    "name"=>"carinya",
    "Description"=>"automatic incremental db",
    "state"=>"Executing",
    "Start Time"=>"05/16/2012 10:48:21.423945"
  )
  ); 
```

第 1 + 2 + 3 节是从 linux 命令返回的`db2 list utilities show detail`。所以这将是 php.ini 中的一组行。

**第一节**

```
ID                               = 18
Type                             = BACKUP
Database Name                    = PLC
Partition Number                 = 0
Description                      = offline db 
Start Time                       = 05/16/2012 10:55:45.240272
State                            = Executing
Invocation Type                  = User
Throttling:
   Priority                      = Unthrottled
Progress Monitoring:
   Estimated Percentage Complete = 0
      Total Work                 = 3320093100 bytes
      Completed Work             = 255380 bytes
      Start Time                 = 05/16/2012 10:55:45.240303 
```

**第二节**

```
ID                               = 17
Type                             = RESTORE
Database Name                    = TYNDALE
Partition Number                 = 0
Description                      = db 
Start Time                       = 05/16/2012 10:49:53.340805
State                            = Executing
Invocation Type                  = User
Progress Monitoring:
      Completed Work             = 117444608 bytes
      Start Time                 = 05/16/2012 10:49:53.340819 
```

**第三节**

```
ID                               = 15
Type                             = RESTORE
Database Name                    = CARINYA
Partition Number                 = 0
Description                      = automatic incremental db 
Start Time                       = 05/16/2012 10:48:21.423945
State                            = Executing
Invocation Type                  = User
Progress Monitoring:
   Phase Number                  = 1
      Total Work                 = 16781312 bytes
      Completed Work             = 16781312 bytes
      Start Time                 = 05/16/2012 10:48:21.423954

   Phase Number [Current]        = 2
      Description                = 20120513023104
      Completed Work             = 272633856 bytes
      Start Time                 = 05/16/2012 10:48:23.502822

   Phase Number                  = 3
      Description                = 20120514021520
      Completed Work             = 0 bytes
      Start Time                 = Not Started 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-17T03:46:21.657

所以我使用的代码是

```
function db2listutilities(){
    global $db2Path;

    $status = array();
    $ProgressMonitoring=false;

    $cmd = $db2Path . "db2 list utilities show detail" ;
    unset($output);
    exec($cmd, $output);
    foreach ($output as $line){
        if( strpos($line,'Progress Monitoring:') !== false ){
            $ProgressMonitoring=true;
        }
        $tmp_array=explode("=", $line);
        if (count($tmp_array)>1){
            switch (trim($tmp_array[0])) {
                case 'ID':
                    $id=$tmp_array[1];
                    $ProgressMonitoring=false;
                break;
                case 'Type':
                    $status[$id]['Type']=$tmp_array[1];
                break;
                case 'Database Name':
                    $status[$id]['Database Name']=$tmp_array[1];
                break;
                case 'Description':
                    if (!$ProgressMonitoring) {$status[$id]['Description']=$tmp_array[1];}
                break;

                case 'Start Time':
                    if (!$ProgressMonitoring) {$status[$id]['Start Time']=$tmp_array[1];}
                break;
                case 'State':
                    $status[$id]['State']=$tmp_array[1];
                break;

            }
        }
    }
    $return=array();
    foreach ($status as $st) {
        $return[] = $st['Database Name']." - ".strtolower($st['Type'])." - ".$st['State']." - ".date("H:i",strtotime($st['Start Time']))."<BR>";
    }
    return implode("",$return);
} 
```

# php - 谁能解释 PHP 中的 uksort() 是如何工作的？

> ID：10612867
> 
> 赞同：2
> 
> 时间：2012-05-16T06:01:14.333
> 
> 标签：php

我`uksort`在 PHP 手册中读过，但很难理解。

谁能帮我吗？

这是一个例子：

```
 <?php  
 function my_sort($x, $y)  
 {  
   if ($x == $y) return 0;  
   return ($x > $y) ? -1 : 1;  
 }  
 $people = array(
   "10" => "javascript",  
   "20" => "php", "60" => "vbscript",  
   "40" => "jsp");  
 uksort($people, "my_sort");  
 print_r($people);  
 ?> 
```

这里发生了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T06:32:02.310

如[手册](http://php.net/uksort)中所述，您的函数（`my_sort`在这种情况下）应返回：

*   `-1`如果您认为`$a`小于，则为负整数（在这种情况下）`$b`
*   `$a`如果您认为大于，则为正整数`$b`
*   `0`如果你认为它们是一样的。

正如您可能已经猜到的，`uksort`将使用您的比较函数来查看元素在排序数组中的顺序。它会多次调用你的函数，每次都用两个键。您将它们与键进行比较并返回结果。

这个想法是您可以编写自己的比较函数来做一些不平凡的事情，例如，如果您希望某个键始终是第一个。您的简单示例可以改用常规[krsort](http://php.net/krsort)。

# java - twitter4j 配置

> ID：10612870
> 
> 赞同：2
> 
> 时间：2012-05-16T06:01:30.330
> 
> 标签：java, api, properties, twitter4j

我正在尝试将 twitter4j 配置为流式传输推文

1.  我已经从 twitter 获得了（消费者密钥/秘密、访问令牌和访问秘密）
2.  我创建了一个新的 java 项目并将 twiiter4j 作为库导入

现在我想知道如何配置它（[http://twitter4j.org/en/configuration.html](http://twitter4j.org/en/configuration.html)）

第一种方法：
保存一个名为“twitter4j.properties”的标准属性文件。将其放置到当前目录，即类路径目录的根目录中。

我正在使用 netbeans，想知道在创建属性文件时应该选择的文件类型以及我必须将它放在哪里？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T06:49:37.063

回答您的问题：

1.  选择一个普通的文本文件类型，添加内容并将其重命名为`twitter4j.properties`
2.  您可以将文件放在项目的根文件夹中，也可以放在`classpath`. 只要确保文件夹在 中`classpath`，这就是需要注意的地方。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T07:32:07.347

再会。

在独立应用程序的生产环境中使用**twitter4j.properties**文件并不是更好的方法。因为您需要保证没有任何用户无法读取您的密钥。

因此，最好使用带有硬编码密钥的配置工厂类并在流程上进行配置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T14:38:43.153

查看此示例，它适用于普通 Twitter 对象，但同样的方法也适用于 TwitterStream。基本上，将 ConfigurationBuilder [Twitter 4j 与 Netbeans 一起](https://stackoverflow.com/questions/10068976/twitter-4j-with-netbeans)使用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-01-18T07:43:53.893

参考以下代码：

```
//Configuration for twitter4j
        ConfigurationBuilder cb = new ConfigurationBuilder();
cb.setDebugEnabled(true)
  .setOAuthConsumerKey("*********************")
  .setOAuthConsumerSecret("******************************************")
  .setOAuthAccessToken("**************************************************")
  .setOAuthAccessTokenSecret("******************************************");

//Example for fetching public tweets 
//Sample which gives all tweets of Kim Kardarshian

    TwitterFactory tf = new TwitterFactory(cb.build());
    Twitter twitter = tf.getInstance();
    int pageno = 1;
    String user = "@KimKardashian";
    List<Status> statuses = new ArrayList<Status>();

    while (true) {
      try {
        int size = statuses.size(); 
        Paging page = new Paging(pageno++, 100);
        statuses.addAll(twitter.getUserTimeline(user, page));
        if (statuses.size() == size)
          break;
      }
      catch(TwitterException e) {
        e.printStackTrace();
      }
    }

//sample which gives "n" (here 10) tweets of particular user
        try{
         Twitter twitter = TwitterFactory.getSingleton();
         Paging p = new Paging();
          p.setCount(10);
         statuses.addAll(twitter.getUserTimeline("user",p));
       }catch(Exception e)
      { e.printStackTrace(); }
        for (Status st:statuses) {
            System.out.println(st.getText());
        } 
```

# java - 如何在 java 中使用 FFMPEG？

> ID：10612871
> 
> 赞同：6
> 
> 时间：2012-05-16T06:03:35.870
> 
> 标签：java, ffmpeg

我正在使用以下命令将图像序列转换为视频。

```
ffmpeg -r 1 -i sample%d.png -s 320x240 -aspect 4:3 output.flv 
```

这对我来说很好！

现在我正在尝试使用上面的命令来运行 java 代码。

如何使用`Runtime.getRuntime()`我的 java 代码运行 ffmpeg 命令。

请分享你的想法..

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-16T06:09:21.450

```
Runtime.getRuntime().exec("ffmpeg -r 1 -i sample%d.png -s 320x240 -aspect 4:3 output.flv"); 
```

# ruby-on-rails - 如何在控制器之外使用布局和查看脚本？

> ID：10612872
> 
> 赞同：0
> 
> 时间：2012-05-16T06:04:06.253
> 
> 标签：ruby-on-rails, ruby

我正在创建一个新类，而不是控制器，也不是模型，也不是邮件程序，它将充当一种控制器。

它将有一个`render`方法，该方法需要呈现与此类关联的 HTML 视图脚本和布局。

我如何利用 Rails 在我的课程中已经提供的功能来呈现这些视图？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T06:09:28.500

[AbstractController](http://apidock.com/rails/v3.2.3/AbstractController)，特别是[AbstractController::Rendering](http://apidock.com/rails/v3.2.3/AbstractController/Rendering)可能是我首先要看的。那里可能有一些你可以使用的东西。

# c# - 以列表为参数的重载函数

> ID：10612873
> 
> 赞同：1
> 
> 时间：2012-05-16T06:04:18.330
> 
> 标签：c#, .net, list, generics, overloading

我想创建一个以 C# List 数据类型作为参数的函数。

```
public void foo(List<Something> obj)
{
...
} 
```

但我想将任何类型的 List 类型传递给函数，我的意思是，像这样

```
List<Class1> obj1 = new List<Class1>();
foo(obj1);

List<Class2> obj2 = new List<Class2>();
foo(obj2); 
```

我可以做这样的事情吗？这该怎么做？提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-16T06:06:47.860

`foo`为您的方法添加一个通用参数。

```
public void foo<T>(List<T> obj)
{
...
} 
```

[你可以在这里](http://msdn.microsoft.com/en-us/library/twcad0zb%28v=vs.110%29.aspx)找到更多关于它们的信息。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-16T06:06:55.837

使用[泛型](http://msdn.microsoft.com/en-us/library/512aeb7t%28v=vs.80%29.aspx)。

```
public void foo<T>(List<T> obj)
{
...
} 
```

打电话

```
 foo<Class1>(new List<Class1>());
 foo<Class2>(new List<Class2>()); 
```

以上可以通过使用[泛型类型推断进一步简化](https://msmvps.com/blogs/jon_skeet/archive/2008/08/06/making-the-most-of-generic-type-inference.aspx)

```
 foo(new List<Class1>());
 foo(new List<Class2>()); 
```

# opengl-es-2.0 - gl_position 和可变变量之间的区别？

> ID：10612875
> 
> 赞同：1
> 
> 时间：2012-05-16T06:04:33.940
> 
> 标签：opengl-es-2.0

大家好，我是 OpenGL ES 2.0 的新手。我对 gl_position 和可变变量感到困惑，两者都将是顶点着色器的输出。可变变量将被传递给片段着色器，gl_position 呢？gl_position 是否影响片段着色器中的变量。gl_position=vec4(-1); 这是什么意思。请帮助我以更好的方式理解这些事情。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T07:51:03.423

gl_Position 是特殊变量。它用于计算片段着色器将计算/着色的片段（它计算其位置）。所有其他变化都直接插入到基元中。

gl_Position 在片段着色器中不可用。但是有可用的 gl_FragCoord 变量，它是从 gl_Position 计算出来的，所以它的 x/y 值从 0 变为 1（从屏幕一侧到另一侧），z 是从 0（近平面）到 1（远平面）的深度。w 类似于 1/gl_Position.w （请随意查看它在 OpenGL|ES2 规范中的确切含义）。

# iphone - 如何在多表视图中过滤数据

> ID：10612878
> 
> 赞同：1
> 
> 时间：2012-05-16T06:04:58.487
> 
> 标签：iphone, ios, ipad

我打算启动一个 iPad 应用程序...

在我的应用程序中，将有 3 个 UITabels 连接到 SQLite3。如何将所有 3 个表连接在一起并相互控制表中的数据？

例如

```
IF I have 3 tables 
Tabel 1: Name;
Tabel2: Country;
Tabel3: Gender; 
```

表名显示大量不同名称的数据。假设如果选择一个名为 Alex 的名称。另一个名字应该从列表中消失，并且在 Country 表中应该只列出与 Alex 相关的国家名称（如果中国没有 Alex，那么中国不应该出现）。性别表应该只列出男性。

以同样的方式，如果我选择美国。其他名称 Country 表应消失，并且应仅在名称列表中列出相关名称。性别表也是如此。

任何人都可以给我一些想法或建议。

任何示例或链接都受到高度赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T06:09:16.683

虽然您可以使用`UITableViewDelegate`和`UITableViewDataSource`协议手动实现此类行为，但这似乎是一个完美的示例，可以用来`CoreData`代替手动构建复杂的模型。

CoreData 是苹果开发的一项技术，用于简化依赖于这种相对简单的数据关系的应用程序的创建。

[http://developer.apple.com/library/ios/#DOCUMENTATION/DataManagement/Conceptual/iPhoneCoreData01/Introduction/Introduction.html](http://developer.apple.com/library/ios/#DOCUMENTATION/DataManagement/Conceptual/iPhoneCoreData01/Introduction/Introduction.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T06:09:38.580

没有什么比连接到 sqlite 更好的了。你只需要创建一个 sqlite db ..存储你的详细信息并访问它。如果执行了任何存储操作，只需向持有 tableview 的类发送一条消息以更新它们的行。我假设你知道UItableview 它的委托方法，数据源等。

```
[table reloaddata]; 
```

如果表在同一个 VIEWCONTROLLER 中，您已经知道已经进行了更改，您可以通过从 sqlite 中提取数据来重新加载表。

为了让您的工作变得简单易行，您可以使用[FMDB](https://github.com/ccgus/fmdb)作为 sqlite 包装器。

[Sqlite 教程](http://www.techotopia.com/index.php/An_Example_SQLite_based_iPhone_Application)

[Wnderlich 的 Sqlite 教程](http://www.raywenderlich.com/913/sqlite-101-for-iphone-developers-making-our-app)

你可以使用 Firefox 的 splitebrowser 插件来查看 sqlitedb

# c++ - 使用 Qt + Opencv 时未定义的 Opencv 参考

> ID：10612879
> 
> 赞同：1
> 
> 时间：2012-05-16T06:04:59.257
> 
> 标签：c++, opencv, qt4

您好，我基本上是在尝试制作一个应用程序，在标签中显示并将 Opencv Iplimage 转换为 QImage，我做了一个简单的示例，它工作得很好，但是现在当我尝试将该图像转换集成到另一个项目时，我得到未定义的 Opencv 函数像这样的引用：来自 Highgui 对 `cvQueryFrame'all 的未定义引用

我实际上使用了我第一次尝试图像转换时使用的相同库路径，只是这次它不起作用。我对 Qt 很陌生，我不知道问题可能出在哪里：

```
 #include <qt4/QtGui/QApplication>
 #include "myqtapp.h"
 #include <iostream>
 #include <stdlib.h>
 #include <stdio.h>
 #include <opencv/highgui.h>
 #include <opencv/cv.h>

 using namespace std;
 int main(int argc, char *argv[])
 {

QApplication app(argc, argv);
myQtApp *dialog = new myQtApp;
//********************************************************************************************************
QImage myImage; 
QLabel label_5;
IplImage* frame;   
//label_5 = new QLabel(myQtAppDLG); //Not using this Yet
CvCapture* capture = cvCreateFileCapture( "garden.bmp" );  
frame = cvQueryFrame( capture );
cvCvtColor(frame,frame,CV_BGR2RGB); 
myImage = QImage((unsigned char *)frame->imageDataOrigin,frame->width,frame->height,QImage::Format_RGB888);  
//label_5.setPixmap(QPixmap::fromImage(myImage)); //Not using this Yet
//********************************************************************************************************
dialog->show();  
return app.exec(); 
```

}

```
 main.cpp:(.text+0x44): undefined reference to `cvCreateFileCapture'
 main.cpp:(.text+0x4c): undefined reference to `cvQueryFrame'
 main.cpp:(.text+0x62): undefined reference to `cvCvtColor' 
```

正如您所看到的，我尝试做的第一件事就是使用一些 Opencv 函数，如 CvQueryFrame，有趣的是我使用了与我第一次使用完全相同的包含路径，还链接了完全相同的动态库。我尝试了不同的路径和编译器，但似乎没有任何效果，我不知道错误可能出在哪里。我正在使用 Linux Ubuntu 和 Netbeans C++，有什么提示吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T07:41:38.613

您错过了在库路径中包含 highgui 库。cvCreateFileCapture 和 cvCvtColor 是该库的一部分。

# windows-phone-7 - 如何根据 xaml 中的 windows phone 主题选择我的图像

> ID：10612882
> 
> 赞同：1
> 
> 时间：2012-05-16T06:05:11.087
> 
> 标签：windows-phone-7, xaml

在我的 xaml 代码中，我有这个：

```
<Button  Grid.ColumnSpan="2" Grid.Row="3" Height="72"  Name="btnSend" Click="btnSend_Click">
      <Button.Background>
          <ImageBrush x:Name="imButton" ImageSource="/icons/appbar.feature.email.rest.png" Stretch="None"/>
      </Button.Background>
</Button> 
```

对于 imageSource，我使用了来自 sdk 的默认图标，我的问题是当我在灯光下更改主题时，图标不会改变并保持白色。更改主题时如何更改此图像？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T08:56:06.490

您可以使用透明来解决此问题。

首先，为这个按钮创建一个样式：

```
<phone:PhoneApplicationPage.Resources>
    <Style x:Key="IconButton" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderBrush" Value="{StaticResource PhoneForegroundBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource PhoneForegroundBrush}"/>
        <Setter Property="BorderThickness" Value="{StaticResource PhoneBorderThickness}"/>
        <Setter Property="FontFamily" Value="{StaticResource PhoneFontFamilySemiBold}"/>
        <Setter Property="FontSize" Value="{StaticResource PhoneFontSizeMediumLarge}"/>
        <Setter Property="Padding" Value="10,3,10,5"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Grid Background="Transparent">
                        <VisualStateManager.VisualStateGroups>

                        </VisualStateManager.VisualStateGroups>
                        <Border x:Name="ButtonBackground" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" CornerRadius="0" Margin="{StaticResource PhoneTouchTargetOverhang}">
                            <Grid x:Name="ContentContainer" OpacityMask="{TemplateBinding Content}" Background="{TemplateBinding Foreground}"/>
                        </Border>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style> 
```

之后使用它如下：

```
<Button Style="{StaticResource IconButton}" >
    <ImageBrush ImageSource="/icons/home.png">
</Button> 
```

更多信息尝试在[这里找到](http://timdams.wordpress.com/2011/06/21/creating-a-wp7-app-supporting-dark-and-light-themes/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T08:17:27.737

按钮图像颜色的自动转换仅在 AppBar 上完成。对于所有其他图像，您必须自己进行测试。
像这样的东西会起作用：

```
var isLightTheme = (Visibility)Application.Current.Resources["PhoneLightThemeVisibility"] == Visibility.Visible; 
```

然后，您可以使用该布尔值来确定要显示的图像。可能建议为每个图像的不同版本使用标准命名约定，这样可以更轻松地使用转换器。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-05-16T06:42:37.083

您只需要使用“白色”图标。您可以在 Microsoft SDKs\Windows Phone\v7.1\Icons\dark 中找到它

# javascript - 带有 SQL 绑定和 LargeJsonResult 的 jqxGrid 为空

> ID：10612887
> 
> 赞同：0
> 
> 时间：2012-05-16T06:05:25.557
> 
> 标签：javascript, jquery, asp.net-mvc, json, jqxgrid

我在让 jqxGrid 与我的 SQL 数据绑定和 largejsonresult 一起工作时遇到问题。这是我当前的代码。

控制器：

```
public LargeJsonResult GetCustomers()
    {
        var dbResult = db.CPTs.ToList();
        var customers = from customer in dbResult

                        select new
                        {
                            customer.CPT1,
                            customer.MOD,
                            customer.SDESC,
                            customer.FAGE,
                            customer.TAGE
                        };
        return new LargeJsonResult { Data = customers, JsonRequestBehavior = System.Web.Mvc.JsonRequestBehavior.AllowGet };
    } 
```

看法：

```
<script type="text/javascript">
    $(document).ready(function () {
        // prepare the data
        var source = {
            datatype: "json",
            datafields: [{ name: 'CPT1' }, { name: 'MOD' },
            { name: 'SDESC' }, { name: 'FAGE' }, { name: 'TAGE' }, ],
            url: 'dbCPT/GetCustomers'
        };
        $("#jqxgrid").jqxGrid({
            source: source,
            theme: 'classic',
            columns: [{ text: 'Company Name', datafield: 'CompanyName',
                width: 250
            }, { text: 'CPT Code', datafield: 'CPT1', width: 150 },
{ text: 'Short Description', datafield: 'SDESC', width: 180 },
{ text: 'FAGE', datafield: 'From Age', width: 200 },
{ text: 'TAGE', datafield: 'To Age', width: 120}]
        });
    });
</script>

<h2>Index</h2>
<div id="jqxgrid"></div> 
```

如果我直接运行 dbCPT/GetCustomers，我会得到一个输出文件，其中包含我要提取的所有数据，但是当转到 dbCPT 页面时，网格中不会出现任何内容。

如果您需要更多我的代码来提供帮助，请告诉我。

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-17T07:16:58.910

我做了那个工作。在下面的代码中，我使用的是 jqxDataAdapter，但我认为没有必要。

**JavaScript**

```
var source = {
    datatype: "json",
    datafields: [{ name: 'CompanyName' }, { name: 'ContactName' },
    { name: 'ContactTitle' }, { name: 'Address' }, { name: 'City'} ],
    url: 'Customers/GetCustomers'
};
var dataAdapter = new $.jqx.dataAdapter(source);

$("#jqxgrid").jqxGrid({
    source: dataAdapter,
    theme: 'classic',
    columns: [{ text: 'Company Name', datafield: 'CompanyName', width: 250 },
                { text: 'Contact Name', datafield: 'ContactName', width: 150 },
                { text: 'Contact Title', datafield: 'ContactTitle', width: 180 },
                { text: 'Address', datafield: 'Address', width: 200 },
                { text: 'City', datafield: 'City', width: 120}]
}); 
```

**C＃**

```
public LargeJsonResult GetCustomers2()
{
    var dbResult = db.Customers.ToList();
    var customers = from customer in dbResult
                    select new 
                    { 
                        customer.CompanyName, 
                        customer.ContactName, 
                        customer.ContactTitle, 
                        customer.Address, 
                        customer.City 
                    };
    return new LargeJsonResult { Data = customers, JsonRequestBehavior = System.Web.Mvc.JsonRequestBehavior.AllowGet };
} 
```

确保您使用的是最新版本的 jqxGrid 和 LargeJsonResult 的正确实现。

# jquery - jQuery - 有人可以给我一个独立的 jQuery css 函数代码吗？

> ID：10612891
> 
> 赞同：-2
> 
> 时间：2012-05-16T06:05:46.120
> 
> 标签：jquery, css

在 jquery 1.4.1 源码中，这个 css 函数是：

```
css: function( elem, name, force, extra ) {
        /// <summary>
        ///     This method is internal only.
        /// </summary>
        /// <private />

        if ( name === "width" || name === "height" ) {
            var val, props = cssShow, which = name === "width" ? cssWidth : cssHeight;

            function getWH() {
                val = name === "width" ? elem.offsetWidth : elem.offsetHeight;

                if ( extra === "border" ) {
                    return;
                }

                jQuery.each( which, function() {
                    if ( !extra ) {
                        val -= parseFloat(jQuery.curCSS( elem, "padding" + this, true)) || 0;
                    }

                    if ( extra === "margin" ) {
                        val += parseFloat(jQuery.curCSS( elem, "margin" + this, true)) || 0;
                    } else {
                        val -= parseFloat(jQuery.curCSS( elem, "border" + this + "Width", true)) || 0;
                    }
                });
            }

            if ( elem.offsetWidth !== 0 ) {
                getWH();
            } else {
                jQuery.swap( elem, props, getWH );
            }

            return Math.max(0, Math.round(val));
        }

        return jQuery.curCSS( elem, name, force );
    },

    curCSS: function( elem, name, force ) {
        /// <summary>
        ///     This method is internal only.
        /// </summary>
        /// <private />

        var ret, style = elem.style, filter;

        // IE uses filters for opacity
        if ( !jQuery.support.opacity && name === "opacity" && elem.currentStyle ) {
            ret = ropacity.test(elem.currentStyle.filter || "") ?
                (parseFloat(RegExp.$1) / 100) + "" :
                "";

            return ret === "" ?
                "1" :
                ret;
        }

        // Make sure we're using the right name for getting the float value
        if ( rfloat.test( name ) ) {
            name = styleFloat;
        }

        if ( !force && style && style[ name ] ) {
            ret = style[ name ];

        } else if ( getComputedStyle ) {

            // Only "float" is needed here
            if ( rfloat.test( name ) ) {
                name = "float";
            }

            name = name.replace( rupper, "-$1" ).toLowerCase();

            var defaultView = elem.ownerDocument.defaultView;

            if ( !defaultView ) {
                return null;
            }

            var computedStyle = defaultView.getComputedStyle( elem, null );

            if ( computedStyle ) {
                ret = computedStyle.getPropertyValue( name );
            }

            // We should always get a number back from opacity
            if ( name === "opacity" && ret === "" ) {
                ret = "1";
            }

        } else if ( elem.currentStyle ) {
            var camelCase = name.replace(rdashAlpha, fcamelCase);

            ret = elem.currentStyle[ name ] || elem.currentStyle[ camelCase ];

            // From the awesome hack by Dean Edwards
            // http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291

            // If we're not dealing with a regular pixel number
            // but a number that has a weird ending, we need to convert it to pixels
            if ( !rnumpx.test( ret ) && rnum.test( ret ) ) {
                // Remember the original values
                var left = style.left, rsLeft = elem.runtimeStyle.left;

                // Put in the new values to get a computed value out
                elem.runtimeStyle.left = elem.currentStyle.left;
                style.left = camelCase === "fontSize" ? "1em" : (ret || 0);
                ret = style.pixelLeft + "px";

                // Revert the changed values
                style.left = left;
                elem.runtimeStyle.left = rsLeft;
            }
        }

        return ret;
    } 
```

但它不能单独使用，谁能给我一个css函数的独立代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T06:11:32.220

不，jQuery 非常复杂，因此您不能只从源代码中获取一种方法并使用它。

您可以编写一个简单的 CSS 函数，例如：

```
var css = function(element, property, value) {
    element.style += '; ' + property + ':' + value;
}; 
```

或者用哈希来做：

```
var css = function(element, property, value) {
    if (typeof property == 'object' && value === undefined) {
        // handle css(elem, { prop : value });
        var styles = '';
        for (i in property) {
            styles += '; ' + i + ':' + property[i];
        }
        element.style += styles;
    }
    else {
        // handle css(elem, prop, value);
        element.style += '; ' + property + ':' + value;
    }
}; 
```

# c++ - H264解析——切片头检测

> ID：10612893
> 
> 赞同：4
> 
> 时间：2012-05-16T06:06:04.247
> 
> 标签：c++, c, visual-c++, h.264

我知道在 h264 中我们可以通过位模式检测 NAL 单元`0x000001`。

是否有等效的方法来检测 NAL 单元中的切片标头？如何处理多层 NAL 单元？

目前我正在使用 h264 的解析代码并在相应的结构中获取切片标头。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-05-16T10:33:47.027

[切片报头语法在H.264 标准](http://www.itu.int/rec/dologin_pub.asp?lang=e&id=T-REC-H.264-200305-S!!PDF-E&type=items)的第 36 页（第 7.3.3 节）中进行了讨论。

可能值得一看[参考软件](http://iphome.hhi.de/suehring/tml/)。

# javascript - 添加使用 JS 的日期输入的第二次使用使它们都不起作用

> ID：10612895
> 
> 赞同：0
> 
> 时间：2012-05-16T06:06:11.897
> 
> 标签：javascript, html

我有三个选择，一个是月，一个是天，一个是年。我有一些基本的 JS，当三个选择之一被修改时，它会更新一个文本输入框。

HTML：

```
<select name="month" class="month" onchange="setDate(this,day,year)">
    <option value="1">January</option>...
</select>
<select name="day" class="day" onchange="setDate(month,this,year)">
    <option value="1">1</option>...
</select>
<select name="year" class="year" onchange="setDate(month,day,this)">
    <option value="2012">2012</option>...
</select>
<input type="text" name="hidden" value="" /> 
```

这工作得很好，但我想添加另一组这三个输入。当我这样做（制作上面的 HTML 的另一个副本）时，它们都不起作用。也就是说，文本输入框没有被更新/给定日期，因为选择被修改（选择）。

JavaScript（相关部分）：

```
function setDate(month_selection, day_selection, year_selection)
{
    //Month, Day and Year variables created

    form.hidden.value = month + '/' + day + '/' + year;
} 
```

关于为什么它只有在我只有一个上面的 HTML 副本时才有效以及如何解决这个问题以便我可以拥有两组这些选择的任何想法？

编辑：我通过为 HTML 的每个“副本”提供输入以及选择不同的名称来解决问题。

我现在遇到了一个新问题，即如何根据正在更改的输入来更新正确的文本框。

如果我把它放在我的 setDate 函数的末尾：

```
form.hidden.value = month + '/' + day + '/' + year;
form.hidden_two.value = month + '/' + day + '/' + year; 
```

当其中任何一个发生更改时（显然），它将更新它们的文本框。有谁知道让它更新正确的文本框的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T06:16:44.673

只是一个想法，但是您是否要更改新输入的名称？如果您有两个“隐藏”输入框，那么它将不起作用。

新的东西 ：

当然，您必须将名称更改为所有字段 = 月、日、年和隐藏。然后在您的 JS 函数中，您可以确定哪个字段更改提示脚本执行......我会这样想：

```
function setDate(month_selection, day_selection, year_selection)
{
   if (month_selection.name=='month'){
      var hidden = document.getElementsBynName('hidden');
   } 
   if (month_selection.name=='month_two'){
      var hidden = document.getElementsByName('hidden_two');
   } 

//Month, Day and Year variables created

   hidden.value = month + '/' + day + '/' + year;
} 
```

这不是一个精确的解决方案，只是一个指向如何解决它的指针。

# audio - 如何在 Cocos2d 中使用 NSArray 播放随机声音

> ID：10612897
> 
> 赞同：0
> 
> 时间：2012-05-16T06:06:20.880
> 
> 标签：audio, random, cocos2d-iphone, nsarray

每当用户触摸按钮时，我都会尝试随机播放声音。到目前为止，这是我的代码：

```
-(void) playEffect {    
    NSArray *array = [NSArray arrayWithObjects:@"1.mp3", "2.mp3", "3.mp3", nil];
    int index;
    index = random() % array.count;
    sound *theSound = [array objectAtIndex:index]; 
    [theSound play];    
}

-(void)ccTouchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {
    UITouch *touch = [touches anyObject];
    //Blah, blah, blah

    //PLAY RANDOM SOUND
    [self playEffect];  
} 
```

提前感谢您的时间和帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T10:17:51.810

您可以为此使用 CocosDenshion。喜欢

```
[[SimpleAudioEngine sharedEngine] playEffect: pathToYourSoundFile]; 
```

# ios - 是否需要在ipad上添加mobileprovision文件来测试ipa文件

> ID：10612903
> 
> 赞同：0
> 
> 时间：2012-05-16T06:07:00.413
> 
> 标签：ios, ipad

我有 ipad 应用程序我已经制作了 ipa 文件并发送给客户端进行测试 它没有安装在 ipad 上

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T06:15:50.647

是的，您的客户还需要安装 Mobile Provision 文件。还要确保您客户的 iPad 设备标识符实际上包含在您正在使用的配置文件中。

在我工作的公司中，我们依靠[TestFlight](https://testflightapp.com/)为我们处理所有这些技术细节，而不是手动发送构建和配置文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T06:13:55.310

是的，您还需要发送 Mobile Provision 文件。检查[“Beta 测试人员如何安装应用程序？” 这里的部分](http://www.raywenderlich.com/1669/how-to-host-a-beta-test-for-your-ios-app)

# jquery - jQuery 替代 PHP foreach()

> ID：10612904
> 
> 赞同：1
> 
> 时间：2012-05-16T06:07:12.940
> 
> 标签：jquery, json

当我像这样手动推送参数时： aoData.push( { "name": "process", "value": "fetch" } ); 它运行良好，没有任何错误消息。

但是，现在我想在脚本顶部声明数组 tableXtraPostParams 并将这个数组的参数一一推送到 aoData

这是一段代码工作正常

```
var tableXtraPostParams = {
    "process":"fetch",
    "which":"mine"
};
$.each(tableXtraPostParams, function(n, v){
    aoData.push( {
       "name": n, 
       "value": v
    } );
}); 
```

但是我在 JS 日志中收到错误消息

语法错误，无法识别的表达式：[object Object]

![在此处输入图像描述](../Images/07138acf71071679f0a584724b74d458.png)

我在这里想念什么？

任何建议将不胜感激！

# 更新

我知道这个错误与我的修改有关。（因为当我删除时`$.each`，我没有收到任何这样的错误）

这是Aodata在推送之前的样子

```
[Object { name="sEcho", value=1}, Object { name="iColumns", value=8}, Object { name="sColumns", value=""}, Object { name="iDisplayStart", value=0}, Object { name="iDisplayLength", value=25}, Object { name="mDataProp_0", value=0}, Object { name="mDataProp_1", value=1}, Object { name="mDataProp_2", value=2}, Object { name="mDataProp_3", value=3}, Object { name="mDataProp_4", value=4}, Object { name="mDataProp_5", value=5}, Object { name="mDataProp_6", value=6}, Object { name="mDataProp_7", value=7}, Object { name="sSearch", value=""}, Object { name="bRegex", value=false}, Object { name="sSearch_0", value=""}, Object { name="bRegex_0", value=false}, Object { name="bSearchable_0", value=true}, Object { name="sSearch_1", value=""}, Object { name="bRegex_1", value=false}, Object { name="bSearchable_1", value=true}, Object { name="sSearch_2", value=""}, Object { name="bRegex_2", value=false}, Object { name="bSearchable_2", value=true}, Object { name="sSearch_3", value=""}, Object { name="bRegex_3", value=false}, Object { name="bSearchable_3", value=true}, Object { name="sSearch_4", value=""}, Object { name="bRegex_4", value=false}, Object { name="bSearchable_4", value=true}, Object { name="sSearch_5", value=""}, Object { name="bRegex_5", value=false}, Object { name="bSearchable_5", value=true}, Object { name="sSearch_6", value=""}, Object { name="bRegex_6", value=false}, Object { name="bSearchable_6", value=true}, Object { name="sSearch_7", value=""}, Object { name="bRegex_7", value=false}, Object { name="bSearchable_7", value=true}, Object { name="iSortingCols", value=1}, Object { name="iSortCol_0", value=0}, Object { name="sSortDir_0", value="asc"}, Object { name="bSortable_0", value=true}, Object { name="bSortable_1", value=true}, Object { name="bSortable_2", value=true}, Object { name="bSortable_3", value=true}, Object { name="bSortable_4", value=true}, Object { name="bSortable_5", value=true}, Object { name="bSortable_6", value=true}, Object { name="bSortable_7", value=true}] 
```

这是推后

```
[Object { name="sEcho", value=1}, Object { name="iColumns", value=8}, Object { name="sColumns", value=""}, Object { name="iDisplayStart", value=0}, Object { name="iDisplayLength", value=25}, Object { name="mDataProp_0", value=0}, Object { name="mDataProp_1", value=1}, Object { name="mDataProp_2", value=2}, Object { name="mDataProp_3", value=3}, Object { name="mDataProp_4", value=4}, Object { name="mDataProp_5", value=5}, Object { name="mDataProp_6", value=6}, Object { name="mDataProp_7", value=7}, Object { name="sSearch", value=""}, Object { name="bRegex", value=false}, Object { name="sSearch_0", value=""}, Object { name="bRegex_0", value=false}, Object { name="bSearchable_0", value=true}, Object { name="sSearch_1", value=""}, Object { name="bRegex_1", value=false}, Object { name="bSearchable_1", value=true}, Object { name="sSearch_2", value=""}, Object { name="bRegex_2", value=false}, Object { name="bSearchable_2", value=true}, Object { name="sSearch_3", value=""}, Object { name="bRegex_3", value=false}, Object { name="bSearchable_3", value=true}, Object { name="sSearch_4", value=""}, Object { name="bRegex_4", value=false}, Object { name="bSearchable_4", value=true}, Object { name="sSearch_5", value=""}, Object { name="bRegex_5", value=false}, Object { name="bSearchable_5", value=true}, Object { name="sSearch_6", value=""}, Object { name="bRegex_6", value=false}, Object { name="bSearchable_6", value=true}, Object { name="sSearch_7", value=""}, Object { name="bRegex_7", value=false}, Object { name="bSearchable_7", value=true}, Object { name="iSortingCols", value=1}, Object { name="iSortCol_0", value=0}, Object { name="sSortDir_0", value="asc"}, Object { name="bSortable_0", value=true}, Object { name="bSortable_1", value=true}, Object { name="bSortable_2", value=true}, Object { name="bSortable_3", value=true}, Object { name="bSortable_4", value=true}, Object { name="bSortable_5", value=true}, Object { name="bSortable_6", value=true}, Object { name="bSortable_7", value=true}, Object { name="process", value="fetch"}, Object { name="which", value="all"}] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T07:24:33.880

您是否包含了 datatables.js 文件？例如，

```
<script type="text/javascript" src="/js/dataTables/jquery.dataTables.js"></script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T07:25:49.490

除非您实际上将自己的代码放入 jquery.js，否则该错误与您的代码无关。

但是，具有该名称的文件已损坏。您是否修改了该文件中的任何内容？如果没有，只需使用来自[http://jquery.com/的新副本恢复它](http://jquery.com/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T21:24:06.043

使用`tableExtraParams.foreach`. 而 $.each 的第二个参数，`function (k, v)`不是那样工作的。它需要两个参数，*index*和*key*。k 将等于 0,1,2,3 等，v 将等于“进程”，“哪个”等。如果要获取键/值对，请使用

```
var tableXtraPostParams = {
    "process":"fetch",
     "which":"mine"
};
$.each(tableXtraPostParams, function(n, v){
    aoData.push({
        "name": v, 
        "value": tableXtraPostParams[v]
    });
}); 
```

# uiwebview - 在 UIWebView 中检测触摸事件

> ID：10612907
> 
> 赞同：1
> 
> 时间：2012-05-16T06:07:33.757
> 
> 标签：uiwebview

我想完成这样一个需求，在界面嵌入UIWebView控件时，当用户点击空白区域和链接的区域时，跳转到不同的新界面，但我无法区分两者。有人可以帮助我吗？

我尝试在 UIWebView 上放置一个透明的 NSView，并覆盖 touchesDidBegin 等，然后将它们发送到您的 webview。例如：但是 UIWebView 不能接受触摸事件。</p>

# xcode - 命令 /Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin/clang++ 失败，退出代码为 1

> ID：10612908
> 
> 赞同：0
> 
> 时间：2012-05-16T06:07:37.900
> 
> 标签：xcode

当我尝试使用 Xcode（4.3.2 版本）打开这个项目时，Xcode 本身正在崩溃。所以我尝试使用 4.2.1 版本运行这个应用程序。由于退出代码 1 错误，我仍然无法运行该应用程序。

这是崩溃报告 4.3.2

```
Process:         Xcode [2754]
Path:            /Applications/Xcode.app/Contents/MacOS/Xcode
Identifier:      com.apple.dt.Xcode
Version:         4.3.2 (1177)
Build Info:      IDEApplication-1177000000000000~6
App Item ID:     497799835
App External ID: 7171108
Code Type:       X86-64 (Native)
Parent Process:  launchd [124]

Date/Time:       2012-05-16 11:10:04.196 +0530
OS Version:      Mac OS X 10.7.3 (11D50d)
Report Version:  9

Interval Since Last Report:          85377 sec
Crashes Since Last Report:           24
Per-App Interval Since Last Report:  169728 sec
Per-App Crashes Since Last Report:   22
Anonymous UUID:                      AFF60601-8342-44D3-996E-A9C618654CF5

Crashed Thread:  12

Exception Type:  EXC_CRASH (SIGABRT)
Exception Codes: 0x0000000000000000, 0x0000000000000000

Application Specific Information:
ProductBuildVersion: 4E2002
UNCAUGHT EXCEPTION (NSInternalInconsistencyException): ASSERTION FAILURE in /SourceCache/IDEXcode3ProjectSupport/IDEXcode3ProjectSupport-1197/Xcode3Sources/XcodeIDE/Frameworks/DevToolsBase/pbxcore/Target.subproj/PBXTargetBuildContext.m:1890
Details:  Assertion failed: [filePath isAbsolutePath]
Object:   <PBXTargetBuildContext: 0x4025f1ae0>
Method:   -setHeadermapToolInvocation:forFilePath:
Thread:   <NSThread: 0x402ffc440>{name = (null), num = 16}
Backtrace:
  0  0x0000000110b65c8f -[PBXTargetBuildContext(DependencyGraphEvents) handleFailureInMethod:object:fileName:lineNumber:messageFormat:arguments:] (in DevToolsCore)
  1  0x000000010d224635 _DVTAssertionFailureHandler (in DVTFoundation)
  2  0x0000000110b5d248 -[PBXTargetBuildContext setHeadermapToolInvocation:forFilePath:] (in DevToolsCore)
  3  0x0000000110bade52 -[XCCompilerSpecification computeDependenciesForFilePath:ofType:outputDirectory:inTargetBuildContext:] (in DevToolsCore)
  4  0x0000000110c4884e -[XCBuildRuleDGSnapshot(DependencyGraphCreation) computeDependenciesForFilePath:ofType:forBuildFileReference:withOutputDirectory:additionalProperties:inTargetBuildContext:] (in DevToolsCore)
  5  0x0000000110c41647 -[XCSourcesBuildPhaseDGSnapshot(DependencyGraphCreation) _computeDependenciesForFilePath:ofType:forBuildFileReference:usingBuildRule:inTargetBuildContext:processedPaths:] (in DevToolsCore)
  6  0x0000000110c41d25 -[XCSourcesBuildPhaseDGSnapshot(DependencyGraphCreation) computeDependenciesForFilePath:ofType:forBuildFileReference:usingBuildRule:inTargetBuildContext:] (in DevToolsCore)
  7  0x0000000110c422c3 -[XCSourcesBuildPhaseDGSnapshot(DependencyGraphCreation) computeDependenciesForBuildFileReference:inTargetBuildContext:] (in DevToolsCore)
  8  0x0000000110c36c0c -[XCBuildPhaseDGSnapshot(DependencyGraphCreation) computeDependenciesForAllBuildFileReferencesInTargetBuildContext:] (in DevToolsCore)
  9  0x0000000110c43ab0 -[XCSourcesBuildPhaseDGSnapshot(DependencyGraphCreation) computeDependenciesForAllBuildFileReferencesInTargetBuildContext:] (in DevToolsCore)
 10  0x0000000110c44450 -[XCSourcesBuildPhaseDGSnapshot(DependencyGraphCreation) computeDependenciesInTargetBuildContext:] (in DevToolsCore)
 11  0x0000000110bb111e -[XCProductTypeSpecification computeDependenciesInTargetBuildContext:] (in DevToolsCore)
 12  0x0000000110c324d3 -[XCNativeTargetDGSnapshot(DependencyGraphCreation) computeDependenciesInTargetBuildContext:] (in DevToolsCore)
 13  0x0000000110b54f81 -[PBXTargetBuildContext createDependencyGraphWithTargetDGSnapshot:] (in DevToolsCore)
 14  0x0000000110b66c15 -[PBXTargetBuildContext(DependencyGraphEvents) dg_setTargetSnapshot:] (in DevToolsCore)
 15  0x00007fff90ccdf4c __invoking___ (in CoreFoundation)
 16  0x00007fff90ccdde4 -[NSInvocation invoke] (in CoreFoundation)
 17  0x0000000110b66010 -[PBXTargetBuildContext(DependencyGraphEvents) processDependencyGraphEvents] (in DevToolsCore)
 18  0x00007fff90ccdf4c __invoking___ (in CoreFoundation)
 19  0x00007fff90ccdde4 -[NSInvocation invoke] (in CoreFoundation)
 20  0x0000000110ba97e1 -[XCInvocationQueue _processNextInvocationInThreadSlotNumber:] (in DevToolsCore)
 21  0x0000000110ba9c48 -[XCInvocationQueue _processInvocationsInThreadSlotNumber:] (in DevToolsCore)
 22  0x00007fff915e074e -[NSThread main] (in Foundation)
 23  0x00007fff915e06c6 __NSThread__main__ (in Foundation)
 24  0x00007fff91e168bf _pthread_start (in libsystem_c.dylib)
 25  0x00007fff91e19b75 thread_start (in libsystem_c.dylib) 
```

4.2.1 退出码1报错：

```
Ld build/Debug-iphonesimulator/OMH.app/OMH normal i386
    cd /Users/deepthi/OMH-Funambol
    setenv MACOSX_DEPLOYMENT_TARGET 10.6
    setenv PATH "/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Developer/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin"
    /Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin/clang++ -arch i386 -isysroot /Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.0.sdk -L/Users/deepthi/OMH-Funambol/build/Debug-iphonesimulator -L/Users/deepthi/OMH-Funambol -F/Users/deepthi/OMH-Funambol/build/Debug-iphonesimulator -F/Users/deepthi/OMH-Funambol/CrashReporter -filelist /Users/deepthi/OMH-Funambol/build/iPhoneMH.build/Debug-iphonesimulator/OMH.build/Objects-normal/i386/OMH.LinkFileList -mmacosx-version-min=10.6 -Xlinker -objc_abi_version -Xlinker 2 -ObjC /Users/deepthi/OMH-Funambol/build/Debug-iphonesimulator/../iPhone-Debug-iphonesimulator/libfunambol.a -Xlinker -no_implicit_dylibs -D__IPHONE_OS_VERSION_MIN_REQUIRED=30103 /Users/deepthi/OMH-Funambol/three20/Build/Products/Debug-iphonesimulator/libThree20UI.a /Users/deepthi/OMH-Funambol/three20/Build/Products/Debug-iphonesimulator/libThree20UINavigator.a -framework AddressBookUI -framework MessageUI -framework MediaPlayer -framework ImageIO -framework CoreLocation -lsqlite3 -weak_framework EventKit -framework AssetsLibrary -framework AddressBook -framework CFNetwork -framework SystemConfiguration -framework QuartzCore -framework UIKit -framework Foundation -framework CoreGraphics -framework CrashReporter -o /Users/deepthi/OMH-Funambol/build/Debug-iphonesimulator/OMH.app/OMH

Command /Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin/clang++ failed with exit code 1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T06:15:47.480

我怀疑您的命令行工具尚未安装。

来自 Xcode 的在线文档：

命令行工具是可选的 默认情况下，命令行工具不与 Xcode 4.3 捆绑在一起。相反，可以选择使用“下载”首选项面板的“组件”选项卡安装它们。

[https://developer.apple.com/library/ios/#documentation/DeveloperTools/Conceptual/WhatsNewXcode/Articles/xcode_4_3.html](https://developer.apple.com/library/ios/#documentation/DeveloperTools/Conceptual/WhatsNewXcode/Articles/xcode_4_3.html)

# flash - 如何使用 Flash/wowza 从一系列位图创建视频流

> ID：10612909
> 
> 赞同：0
> 
> 时间：2012-05-16T06:07:38.900
> 
> 标签：flash, video, streaming, bitmapdata, wowza

请建议，谷歌搜索失败。

我需要从一系列位图（即 Bitmapdata.draw() ）创建视频流。可能吗？似乎我可以将任何内容放入 Netstream.send()，但我应该手动编码图像，还是有一些框架功能？我计划使用 wowza 服务器作为后端。任何指向示例的链接都会有所帮助。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-20T08:32:45.643

停止研究流媒体服务器（如 Wowza）并开始研究编码器，如[FFmpeg](http://ffmpeg.org)。流媒体服务器用于传送内容，而不是编码内容。您正在流式传输的内容需要被编码为定义良好的格式/编解码器/标准。例如。h264。

# ruby-on-rails - 在主页上显示数据库中的所有帖子

> ID：10612910
> 
> 赞同：0
> 
> 时间：2012-05-16T06:07:42.720
> 
> 标签：ruby-on-rails

我正在开发一个网站。我想显示所有用户的所有帖子。但我收到以下错误消息：

nil:NilClass 的未定义方法 `each' 提取的源代码（在第 3 行附近）：

\app\view\static_pages\home.html.erb：

```
 <div class="span8">    
     <ul class="microposts">
       <% @microposts.each do |micropost| %>
         <li>
           micropost.content
         </li> 
```

我已经在 \app\controller\static_pages_controller.rb 中定义了：

```
class StaticPagesController < ApplicationController

  def home
    if signed_in?
      @micropost  = current_user.microposts.build
      @feed_items = current_user.feed.paginate(page: params[:page])
    end
  end

  def index
    @microposts = Micropost.all
  end
end 
```

少了什么东西？我的数据库中已经有 310 个示例帖子...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T06:10:13.567

您要在哪个页面上显示帖子？如果是`home`，那么您应该修改您的`home`操作以加载所有帖子：

```
def home
  if signed_in?
    @micropost  = current_user.microposts.build
    @feed_items = current_user.feed.paginate(page: params[:page])
  end

  @microposts = Micropost.all
end 
```

也许这是`@feed_items`您想在`home`页面上显示的？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-16T06:17:58.640

您正在主视图中迭代 @microposts 实例变量，但您已在主操作中定义了 @micropost。你这样做是错误的。

您需要在主页视图中定义 @microposts 实例变量，以便您可以在页面上获取所有帖子。

# ruby-on-rails - 载波不渲染，路径存在但图像不显示

> ID：10612914
> 
> 赞同：2
> 
> 时间：2012-05-16T06:08:12.577
> 
> 标签：ruby-on-rails, carrierwave

我一直在尝试从载波渲染图片。我相信它已正确上传，因为当我查看页面源时，我看到了

```
<img alt="Photo_44" src="/uploads/user/image/59/Photo_44.jpg" /> 
```

但是，通过单击该 src url，我得到

```
No route matches [GET] "/uploads/user/image/59/Photo_44.jpg" 
```

我使用载波的默认设置。图像确实正确上传到我的用户表中的图像列和本地路径

sasha/Desktop/rails_projects/myproject/public/uploads/user/image/59/Photo_44.jpg

也存在。但是它不会正确显示。我一直在关注railscasts

[http://railscasts.com/episodes/253-carrierwave-file-uploads?autoplay=true](http://railscasts.com/episodes/253-carrierwave-file-uploads?autoplay=true)

和阅读

[https://github.com/jnicklas/carrierwave](https://github.com/jnicklas/carrierwave)

但我似乎无法弄清楚出了什么问题。我上传图片的地方在这里

```
<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), 
            :html => { :method => :put, :multipart => true }) do |f| %>
    <%= devise_error_messages! %>
    <%= render '/shared/fields', object: f.object, f: f %>
    <%= f.submit "Save changes", :class => "btn btn-large btn-primary", :style =>"display:block;" %>
    <div class="edit_avatar" >
        <%= f.file_field :image %>
    </div>
<% end %> 
```

我试图通过...渲染它

```
<%= image_tag @user.image_url.to_s %> 
```

我究竟做错了什么？帮助将不胜感激=）谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T06:33:00.647

`config.serve_static_assets = true`如果你还没有尝试设置，应该会有所帮助。

# android - 索尼 Xperia Play 控制映射

> ID：10612921
> 
> 赞同：1
> 
> 时间：2012-05-16T06:09:06.020
> 
> 标签：android, cocos2d-android, sony

我正在为 Sony xperia play 开发游戏。

任何人都可以帮我映射设备的控制按钮。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T16:28:15.507

![在此处输入图像描述](../Images/7a568973904c7cdb37bbe6dab0a87f08.png) 你可以去这里获取更多关于键码的信息[http://developer.sonymobile.com/wp/2011/02/13/xperia-play-game-keys/](http://developer.sonymobile.com/wp/2011/02/13/xperia-play-game-keys/)

# android - GridView 自动回收视图？

> ID：10612922
> 
> 赞同：3
> 
> 时间：2012-05-16T06:09:06.783
> 
> 标签：android, drag-and-drop, scroll, android-gridview

我有一个空的`GridView`地方，我使用拖放来添加一些图像，但我遇到了麻烦，因为如果调用键盘或滚动 GridView，它会消除或将图像放置在错误的位置。

例如：

这是空的`GridView`。我无法插入图像，或者不知道如何插入。所以我会尝试这样做

```
[  ][  ][  ][  ][  ]
[  ][  ][  ][  ][  ]
[  ][  ][  ][  ][  ]
[  ][  ][  ][  ][  ] 
```

然后我使用拖放并添加一些图片（数字是图片）

```
[ 1][  ][  ][ 4][  ]
[  ][  ][  ][  ][  ]
[  ][  ][ 2][  ][ 5]
[  ][ 3][  ][  ][  ] 
```

然后我点击一个按钮来添加一个整数，所以我用其他类调用其他类，`xml`如果`EditText`我点击它来写入整数，键盘会弹出，`GridView`然后当我回到它时会做这样的事情。

```
[  ][  ][  ][  ][  ]
[ 2][  ][ 3][  ][  ]
[  ][  ][  ][ 4][  ]
[ 1][ 5][  ][  ][  ] 
```

如果我滚动它也一样。我希望我已经清楚了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-18T16:23:03.033

有趣而愚蠢的事情，它通过使 child width 得到修复`fill_parent`。

# c# - 如何在 C# 中跟踪应用程序的打开实例

> ID：10612927
> 
> 赞同：1
> 
> 时间：2012-05-16T06:09:26.543
> 
> 标签：c#, semaphore, multiple-instances

我想确保在我的项目中相互排斥以安装更新。
该项目是多实例的，这意味着一个人可以打开一个实例而无需关闭其他打开的实例。有一个称为`installUpdates()`安装可用更新的函数。由于存在多个实例，因此只有其中一个需要安装更新。我想确保只有一个实例会安装更新。
我正在将一个名为`noOfInstances`（信号量）的全局变量初始化为`0`. 一旦打开一个新实例，变量将增加 1。如果有 4 个打开的实例，则值为`noOfInstances`4。一旦关闭实例，该值将减少 1。对于安装我正在写的更新：-

```
if(noOfInstances == 1)
{
   InstallUpdates();
} 
```

现在我的问题是如何以编程方式跟踪我的项目是否打开了一个实例？每个实例可能有一些我无法识别的唯一 ID。我正在使用 windows 环境来开发我的 c# 应用程序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-16T06:16:44.257

全局互斥锁可能是一种更好的机制，可以更好地控制对仅一次函数的访问。在这种情况下，我会尝试获取一个短暂超时的互斥锁。如果您未能获得它 - 其他人拥有它。如果成功，请测试是否需要更新，如果需要，请安装更新。

优化可能是将测试移到互斥锁之外 - 但如果在互斥锁范围内需要更新，您仍然需要重新测试。

[在 C# 中使用全局互斥锁的好模式是什么？](https://stackoverflow.com/questions/229565/what-is-a-good-pattern-for-using-a-global-mutex-in-c)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T06:16:24.970

您可以像这样获得正在运行的进程：

```
using System.Diagnostics;

int GetInstanceCount(ExeName)
{
    Process[] processlist = Process.GetProcessesByName(ExeName);
    int NoOfInstances = processlist.Count;
    return NoOfInstances;
} 
```

现在像这样实现：

```
string ExeName = "notepad.exe"//Say Notepad
if(GetInstanceCount(ExeName) == 1)
{
   InstallUpdates();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T06:16:36.707

您可以使用[Process.GetProcesses](http://msdn.microsoft.com/en-us/library/x8b2hzk8)按名称获取进程

```
var processes = Process.GetProcesses Method (ProcessName)
if (processes!= null)
{
  int runningInstances = processes.Length;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-16T06:30:59.160

虽然我过去实现了@stephbu 的互斥模式，但最近的要求是，如果程序启动两次，则应该将正在运行的实例置于最前面。

为此，我尝试连接到命名管道。如果我无法连接，这是第一个实例，我创建命名管道然后正常执行操作。如果我可以连接，这是第二个实例，我通过管道发送命令并退出。

在命名管道上接收命令我可以做任何我想做的事情，比如把主窗口带到顶部。

但是，此解决方案仅在您确实想对管道进行上述操作时才有意义。如果您只想阻止应用程序运行两次，@stephbu 的 mutex 答案是可行的方法。

# android - Android SharedPreferences 是怎么用的？

> ID：10612931
> 
> 赞同：1
> 
> 时间：2012-05-16T06:09:33.460
> 
> 标签：android, preferences, default-value

我正在努力恢复我在preferences.xml 中指定的默认值，这是我的代码：

```
 Preference reset = findPreference(res.getString(R.string.DEFAULT_PREFS));
    reset.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {

        public boolean onPreferenceClick(Preference p) {
            SharedPreferences sp = PreferenceManager.getDefaultSharedPreferences(Preferences.this);
            sp.edit().clear().commit();
            PreferenceManager.setDefaultValues(Preferences.this, R.layout.preferences, true);
            return true;
        }
    }); 
```

这段代码是我对函数*setDefaultValues(context, resId, readAgain)*的android开发者参考的理解：

> **参数**
> 
> > *上下文* 共享首选项的上下文。
> > *resId* 首选项层次结构 XML 文件的资源 ID。
> > *readAgain* 是否重新读取默认值。
> > 
> > 注意：这不会将首选项重置为其默认值。对于该功能，请**使用 getDefaultSharedPreferences(Context) 并清除它，然后调用此方法并将此参数设置为 true**。

好吧，**它不起作用**，执行此代码后首选项值相同。然后我查看了 SharedPreferences 变量 sp，它指向路径中系统生成的文件：/ data/data/<packagename>/shared_prefs/
<packagename>_preferences.xml
，我只能假设它与我在我创建了活动。

```
 addPreferencesFromResource(R.layout.preferences); 
```

同样检查 sp 变量，哈希表具有所有首选项，但没有默认值字段。

**编辑：** 在我被要求之前，这里是preferences.xml 文件的摘录

```
<?xml version="1.0" encoding="utf-8"?>
<PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android" >

<EditTextPreference
    android:defaultValue="5000"
    android:key="@string/MAX_MESSAGES"
    android:numeric="integer"
    android:summary="@string/MAX_MESSAGES_desc"
    android:title="@string/MAX_MESSAGES_title" />

<EditTextPreference
    android:defaultValue="10"
    android:key="@string/VIEW_EDGE_ROWS"
    android:numeric="integer"
    android:summary="@string/VIEW_EDGE_ROWS_desc"
    android:title="@string/VIEW_EDGE_ROWS_title" />

<ListPreference
    android:defaultValue="0"
    android:entries="@array/level_list"
    android:entryValues="@array/level_values"
    android:key="@string/INITIAL_ORG"
    android:summary="@string/INITIAL_ORG_desc"
    android:title="@string/INITIAL_ORG_title" />

<ListPreference
    android:defaultValue="2"
    android:entries="@array/view_list"
    android:entryValues="@array/view_values"
    android:key="@string/INITIAL_VIEW"
    android:summary="@string/INITIAL_VIEW_desc"
    android:title="@string/INITIAL_VIEW_title" />

<CheckBoxPreference
    android:defaultValue="true"
    android:key="@string/AUTOSCROLL"
    android:summary="@string/AUTOSCROLL_desc"
    android:title="@string/AUTOSCROLL_title" />

<CheckBoxPreference
    android:defaultValue="true"
    android:key="@string/SEND_THEN_EXIT"
    android:summary="@string/SEND_THEN_EXIT_desc"
    android:title="@string/SEND_THEN_EXIT_title" />

<Preference
    android:key="@string/DEFAULT_PREFS"
    android:summary="@string/DEFAULT_PREFS_desc"
    android:title="@string/DEFAULT_PREFS_title" />

</PreferenceScreen> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-17T05:23:03.277

到目前为止，这是我的解决方案。在调试 Android 源代码后，我发现它`setDefaultValues()`不可靠并且无法按预期工作（至少根据我的预期）。
我现在手动恢复默认值。我有一张可以从默认值中获取的地图。

**这是一个有趣的注释**：检查 Preference 类显示它有一个名为的字段`mDefaultValue`，其中包含首选项的默认值。但是这个字段**只能**通过`setDefaultValue()`方法来设置，没有方法可以获取。它会让我不再需要地图

这是我现在使用的代码，经过测试和工作：

```
 Preference reset = findPreference(getResources().getString(R.string.DEFAULT_PREFS));
    reset.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {

        public boolean onPreferenceClick(Preference p) {
            SharedPreferences sp = PreferenceManager.getDefaultSharedPreferences(Preferences.this);
            SharedPreferences.Editor editor = sp.edit();
            editor.clear();
            // PreferenceManager.setDefaultValues(Preferences.this, R.layout.preferences, false);
            for(int i = 0; i < getPreferenceScreen().getPreferenceCount(); i++) {
                restoreDefault(editor, getPreferenceScreen().getPreference(i));
            }
            editor.commit();
            return true;
        }
    } 
```

```
private void restoreDefault(Editor editor, Preference p) {
    if(p instanceof PreferenceCategory) {
        PreferenceCategory pCat = (PreferenceCategory) p;
        for(int i = 0; i < pCat.getPreferenceCount(); i++) {
            restoreDefault(editor, pCat.getPreference(i));
        }
    }
    if(p instanceof ListPreference) {
        editor.putString(p.getKey(), resMap.get(p.getKey())._default);
    }
    if(p instanceof EditTextPreference) {
        editor.putString(p.getKey(), resMap.get(p.getKey())._default);
    }
    if(p instanceof CheckBoxPreference) {
        editor.putBoolean(p.getKey(), resMap.get(p.getKey())._default.equals("true"));
    }
} 
```

另一个注意事项：`editor.commit()`更新首选项文件，但不更新首选项屏幕。您必须使用侦听器 ( `OnSharedPreferenceChangeListener()`) 更新每个首选项。

# c# - 如何在实体框架中为以下场景编写查询？

> ID：10612937
> 
> 赞同：1
> 
> 时间：2012-05-16T06:09:53.633
> 
> 标签：c#, .net, entity-framework

表：

**用户**

```
userid       username     imageurl
1            venkat       http://test.jpg
2            raghu        http://test1.jpg
3            ravi         http://test2.jpg 
```

**朋友们**

```
id    userid    frienduserid     status
1     1           2              true
2     2           1              false 
```

**日志状态**

```
id   userid   sessionid
1     1       7482748
2     1       8274282
3     2       3123123 
```

如果我通过`userid=1`然后需要拉他的朋友`username,imageurl,status`和他的任何朋友至少有一个`sessionid`然后给状态为“真实”。

由于我能够加入用户，朋友表给他的朋友`username,imageurl`和`status`. 但是如何检查他至少有一个`sessionid`？

我的查询：

```
var result = from pa in cxt.Users
             join us in cxt.Friends on pa.User_Id equals us.Friend_UserId
             where us.User_Id == incID 
             select new
                    {
                       us.frienduserid,
                       pa.User_Name,
                       pa.ImageURL,
                       us.status
                    }; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-16T06:34:37.003

```
var result = 
from user in cxt.Users
join friend in cxt.Friends on user.UserId equals friend.FriendUserId
where user.UserId == incId
select new
{
    FriendUserId = friend.FriendUserId,
    UserName = user.UserName,
    ImageUrl = user.ImageUrl,
    Status = cxt.LogStatus.Any(s=>s.UserId == user.UserId)
}; 
```

# c# - 使用 ILSpy，我如何导航到资源字符串？

> ID：10612939
> 
> 赞同：1
> 
> 时间：2012-05-16T06:10:01.837
> 
> 标签：c#, asp.net-mvc, ilspy

我正在浏览`System.Web.Mvc`库，但不知道如何导航到资源文件。

我看到这样一行代码...

```
throw new ArgumentException(MvcResources.Common_NullOrEmpty, "contentPath"); 
```

所以我点击了`Common_NullOrEmpty`，这带来了这里

```
// System.Web.Mvc.Resources.MvcResources
internal static string Common_NullOrEmpty
{
    get
    {
        return MvcResources.ResourceManager.GetString("Common_NullOrEmpty", MvcResources.resourceCulture);
    }
} 
```

我试过搜索`Common_NullOrEmpty`没有结果。

这些资源埋在哪里？更重要的是，我将如何自己找到这个？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-16T06:14:59.750

您可以在 Tree View 中的 Assembly 下找到资源：

![资源](../Images/11a91b472d75146b981d7289b73b5cb7.png)

然后您会在右侧看到一个表格，其中包含所有字符串：

![资源字符串](../Images/fa8695c551d0ba71d526b1c8788671f3.png)

有时，如果我在该列表中找不到它们，我必须单击资源视图顶部的“保存”并在 NotePad++ 中查看它们。

# zend-framework - zendframe 中的下载应用程序如何工作

> ID：10612940
> 
> 赞同：1
> 
> 时间：2012-05-16T06:10:06.697
> 
> 标签：zend-framework

我正在使用 zend 框架作品。我想在我的应用程序中包含文件下载部分。我正在使用此代码

```
> header('Content-Type: application/doc'); header('Pragma: no-cache');
> header('Content-Disposition: attachment; filename="'.$resume.'"');
> readfile(RESUME_PATH_WS . $resume); 
```

但是这段代码不起作用。它返回 0byte 的文件。请帮助我如何在zend框架中下载文件

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T06:15:01.263

```
 public function downloadAction() {

           $this->_helper->layout->disableLayout();
            $this->_helper->viewRenderer->setNoRender();

            $filename = $this->_request->getParam('filename');

            $filePath = folder/path to file/ . $filename;

            if (file_exists($filePath)) {
                $fileName = basename($filePath);
                $fileSize = filesize($filePath);

                header("Cache-Control: private");
                header("Content-Type: application/stream");
                header("Content-Length: " . $fileSize);
                header("Content-Disposition: attachment; filename=" . $fileName);

                readfile($filePath);
                exit();
            } else {
                die('The provided file path is not valid.');
            }
        } 
```

只需在您的 html 端

```
<a href="path to your controller/downloadaction/filename/<name of file you want to download>">Download</a> 
```

# asp.net-mvc - 基于工作组的 ASP.NET MVC 内网应用

> ID：10612954
> 
> 赞同：0
> 
> 时间：2012-05-16T06:12:36.403
> 
> 标签：asp.net-mvc, workgroup

Intranet 应用程序是否`ASP.NET MVC`仅打算用作`Windows-domain based`应用程序，或者有可能在内部运行它`workgroup`？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T07:04:49.913

MVC（模型视图控制器）是一种开发应用程序（Web + 桌面）的方式，可以用作 Windows 域应用程序或工作组内部或两者都没有

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T06:46:23.270

该词[`Intranet`](http://en.wikipedia.org/wiki/Intranet)与任何网络操作系统（Windows 域、工作组等）都没有关联。您如何构建基于 Web 的应用程序（使用任何语言）与谁可以访问它无关。因此，要回答您的直接问题，您可以使用 ASP.Net MVC 构建一个本地网络上的任何人都可以访问的网站，前提是您以这种方式配置网站和/或托管环境 (IIS)。

# core-data - 获取 entity.attribute == @"somevalue" 的请求

> ID：10612955
> 
> 赞同：7
> 
> 时间：2012-05-16T06:12:42.653
> 
> 标签：core-data, attributes, nspredicate, nsfetchrequest

如何设置获取请求以仅从具有一个特定值的实体属性中提取数据？这是我之前使用的基本代码。

```
-(void)fetchResults
{
    NSFetchRequest *fetchRequest = [NSFetchRequest fetchRequestWithEntityName:self.entityDescription.name];
    NSString *cacheName = [self.entityDescription.name stringByAppendingString:@"Cache"];

    // predicate code
    if (self.predicate != nil) {
        [fetchRequest setPredicate:self.predicate];
    }
    // end of predicate code

    NSSortDescriptor *sortDescriptor = [NSSortDescriptor sortDescriptorWithKey:@"name" ascending:YES];
    [fetchRequest setSortDescriptors:[NSArray arrayWithObject:sortDescriptor]];

    self.fetchedResultsController = [[NSFetchedResultsController alloc] initWithFetchRequest:fetchRequest managedObjectContext:self.managedObjectContext sectionNameKeyPath:nil cacheName:cacheName];

    BOOL success;
    NSError *error;
    success = [self.fetchedResultsController performFetch:&error];
    if (!success)
    {
        NSLog(@"%@", [error localizedDescription]);
    }
} 
```

我一直在看这个页面：[http](http://bit.ly/KevYwR) ://bit.ly/KevYwR这是正确的方向吗？

我需要使用`NSPredicate`还是可以不用？

感谢您的帮助，指出正确的方向等。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-05-16T07:54:52.990

设置 a`NSFetchRequest`相当于 SQL 语言中的 SELECT 语句。

这里有一个简单的例子：

```
NSFetchRequest *request = [[NSFetchRequest alloc] init];
[request setEntity:[NSEntityDescription entityForName:@"EntityName" inManagedObjectContext:moc]];

NSError *error = nil;
NSArray *results = [moc executeFetchRequest:request error:&error];

// error handling code 
```

该数组`results`包含 sqlite 文件中包含的所有托管对象。如果要获取特定对象（或更多对象），则需要对该请求使用谓词。例如：

```
NSPredicate *predicate = [NSPredicate predicateWithFormat:@"attribute == %@", @"Some Value"];
[request setPredicate:predicate]; 
```

在这种情况下`results`，包含属性等于的对象`Some Value`。设置谓词等于将 WHERE 子句放在 SQL 语句中。

**笔记**

我想实体的名称是`EntityName`，它的属性被称为`attribute`字符串类型。

有关更多信息，我建议您阅读 Core Data 编程指南和`NSFecthRequest`课程参考。

*   [http://developer.apple.com/library/iOS/#documentation/Cocoa/Conceptual/CoreData/cdProgrammingGuide.html](http://developer.apple.com/library/iOS/#documentation/Cocoa/Conceptual/CoreData/cdProgrammingGuide.html)

*   [https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/CoreDataFramework/Classes/NSFetchRequest_Class/NSFetchRequest.html](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/CoreDataFramework/Classes/NSFetchRequest_Class/NSFetchRequest.html)

希望能帮助到你。

# iphone - 从视图中隐藏一些元素后使 UIView 自动调整大小

> ID：10612957
> 
> 赞同：0
> 
> 时间：2012-05-16T06:12:50.620
> 
> 标签：iphone

我有一个子视图，在隐藏此子视图中的一些元素后需要调整大小

我可以通过设置 Frame 来做到这一点，但我想使用类属性**autoresizesSubviews**

所以任何人都可以帮助我如何通过一个例子来使用它。

我正在以这种方式使用但它不起作用

```
[lbl setHidden:TRUE];
[txt setHidden:TRUE];
[txt setHidden:TRUE];
 addView.autoresizesSubviews=TRUE;
[self.view addSubview:addView]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T06:15:58.960

```
addView.autoresizingMask = mask; 
```

mask 是**UIViewAutoresizing的类型**

这是我的定义，

```
#define FlexibleT                       UIViewAutoresizingFlexibleTopMargin
#define FlexibleB                       UIViewAutoresizingFlexibleBottomMargin
#define FlexibleL                       UIViewAutoresizingFlexibleLeftMargin
#define FlexibleR                       UIViewAutoresizingFlexibleRightMargin
#define FlexibleH                       UIViewAutoresizingFlexibleHeight
#define FlexibleW                       UIViewAutoresizingFlexibleWidth

#define FixedMarginT                    FlexibleW | FlexibleB 
#define FixedMarginB                    FlexibleW | FlexibleT 
#define FixedMarginL                    FlexibleH | FlexibleR
#define FixedMarginR                    FlexibleH | FlexibleL
#define FixedHorizental                    FlexibleW | FlexibleT | FlexibleB
#define FixedVertical                   FlexibleH | FlexibleL | FlexibleR 
#define FixedALL                        FlexibleW | FlexibleH
#define FixedCenter                     FlexibleL | FlexibleR | FlexibleT | FlexibleB 
```

你可以这样设置

```
addView.autoresizingMask = FixedVertical; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-16T06:16:39.867

好吧，如果您知道框架大小，则可以使用 UIView 的**绑定**或**框架**属性

# django - 如何测试一个广泛使用 sphinxsearch 的 django 应用程序？

> ID：10612964
> 
> 赞同：0
> 
> 时间：2012-05-16T06:13:39.367
> 
> 标签：django, sphinx, django-testing, django-sphinx

我有一个 django 驱动的网站，它使用 sphinxsearch 进行搜索和查询。Django 测试平台创建了一个测试数据库，您的所有测试用例都在该数据库中进行测试。但是我原来的狮身人面像索引器仍然会索引原来的数据库。我想知道解决这个问题的最佳策略是什么。我很想知道一些现有的 django 应用程序来解决这个问题或获得一些关于如何解决这个问题的指示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T07:33:37.773

不需要做太多事情：在运行测试时更改 sphinx 的设置。如果您在 django project.settings 文件中指定 sphinx 设置，则必须这样做：

1.  创建一个 sphinx 测试数据库
2.  创建一个 settings.py 专门用于测试
3.  python ./manage.py 测试 --settings=project.sphinxtest.settings

如果您在别处指定 sphinx 设置，请执行类似操作。重要的是在测试时为 sphinx 使用不同的设置，因为在那里您指定了 sphinx 应该使用的数据库。

如果没有有关您的实施的更多详细信息，这是可以说对您的最大帮助...

# oracle11g - hyperion中的稀疏和密集

> ID：10612970
> 
> 赞同：0
> 
> 时间：2012-05-16T06:14:16.063
> 
> 标签：oracle11g, hyperion, essbase

我是 Hyperion Essbase 的新手。

SPARSE 和 DENSE Dimension 有什么区别？是否有任何文件可以帮助我解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T13:20:11.010

Essbase[数据库管理员指南](http://docs.oracle.com/cd/E17236_01/epm.1112/esb_dbag/frameset.htm?launch.html)包含您需要了解的有关 Essbase 多维数据库中维度的所有`SPARSE`信息`DENSE`。

从指南：

> 大多数多维数据库本质上是稀疏的；他们缺少大多数成员组合的数据值。稀疏维度是填充的可用数据位置百分比较低的维度。

当您想到 essbase 多维数据集时，请将您的`DENSE`维度视为多维数据集的轴（X、Y、Z）。(X, Y, Z) 的所有交点总是有数据点（即使它们是空的）。

将您的`SPARSE`维度视为一组这些多维数据集，这些多维数据集仅在存在稀疏维度的该值的数据时才存在。

只有当数据实际存在时，数据才会存储在磁盘上以获取 SPARSE 维度的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-02-22T14:26:32.730

在 Essbase 中，有两种类型的数据库。1\. ASO 2\. BSO

对于 BSO，Essbase 将维度分为两种类型（密集和稀疏） 密集维度：具有高可用性数据的维度。稀疏维度：那些数据的可用性较低。

在 Essbase 中，*data 存储在数据块中。*dense member决定数据块的大小。*稀疏成员决定数据块（.ind）的位置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-12-17T05:26:02.613

仅供参考：通过此链接，它涵盖了 Hyperion 的工作原理，它也将满足您的问题。

```
https://docs.oracle.com/cd/E12825_01/epm.111/esb_dbag/frameset.htm?dinconc.htm 
```

谢谢。

# android - 传递对象流使用意图方法

> ID：10612978
> 
> 赞同：0
> 
> 时间：2012-05-16T06:15:32.423
> 
> 标签：android

如果我使用这样的**意图方法**，如何将对象流（例如：BufferedReader 或 DataOutputStream n 等）传递给其他活动**（从 Client_layoutActivity.class 到 chat_wall.class ）**：

 **```
 Intent i = new Intent(Client_layoutActivity.this, chat_wall.class);
        startActivity(i); 
```

我制作了一个包含多个页面的聊天应用程序。**第一个页面是登录页面**。在第一页中，客户端使用套接字与服务器进行通信。**登录过程成功后，服务器将发送“登录成功”**。**之后，客户端将布局从第一页（登录页面）更改为第二页（聊天墙页面）**。**我的意思是从第一页使用套接字、BufferedReader 和 DataOuputstream 方法（我假设登录过程的套接字仍然连接，所以我仍然可以使用这个套接字在第二页进行通信 - 聊天过程）**。所以我想将对象 Socket、BufferedReader 和 DataOuputstream 传递到第二页以使用它。我在下面写我的代码：

**第 1 页：用于登录目的**

```
public void login(){
    try {
    String name     = usrname.getText().toString(); // usrname is android object edit 
                                                       text 
    String pass     = password.getText().toString();// password is android   
                                                               object edit text 

    String sending  = "login."+name + "." + pass + "." +"\n";
     System.out.println("Sending Message: "+sending);

    Socket clientsock = new Socket("192.168.136.6", 28000);
    System.out.println("connect to the server...");

    BufferedReader in    = new BufferedReader(new  
    InputStreamReader(clientsock.getInputStream()));
    DataOutputStream out = new DataOutputStream(clientsock.getOutputStream());

    out.writeBytes(sending);    

    String line = in.readLine();

    if (line.contentEquals("login success")){
        Toast.makeText(this, "login success", Toast.LENGTH_SHORT).show();
        Toast.makeText(this, "receive data from 
    server:"+clientsock.getInetAddress(), Toast.LENGTH_SHORT).show();
        Intent i = new Intent(Client_layoutActivity.this, chat_wall.class);
        startActivity(i); 

    } else {
        Toast.makeText(this, "Error ", Toast.LENGTH_SHORT).show();
    }

}
catch (Exception e)
{
    System.out.println(e);
    System.out.println("Connection Failed");
} 
```

**第 2 页：用于聊天目的**

```
package com.willis.layout;

import java.io.*;
import java.net.*;

import android.widget.*;
import android.os.Bundle;
import android.view.*;
import android.view.View.OnClickListener;
import android.app.Activity;
import android.R.integer;

 public class chat_wall extends Activity {

Client_layoutActivity ob;   
public EditText chatroom;    
   public Button sendbtn;

 public void onCreate(Bundle savedInstanceState){
  super.onCreate(savedInstanceState);
  setContentView(R.layout.chatwall);       

  sendbtn = (Button)findViewById(R.id.sendmsg);
  sendbtn.setOnClickListener(new OnClickListener() {
      public void onClick(View view) {                  

              sendingmsg();                                         
          }
      });

 chatroom = (EditText)findViewById(R.id.chatroom);     

 }   

 public void sendingmsg (){    

   try
    {   

        BufferedReader in    = new BufferedReader(new 
            InputStreamReader(clientsock.getInputStream()));
        DataOutputStream out = new DataOutputStream(clientsock.getOutputStream());

    String name     = chatroom.getText().toString();            
    String send = "chat."+name+". \n";

        System.out.println("Sending message: "+send);
        out.writeBytes(send);

        String msgin = in.readLine();
        Toast.makeText(this, msgin, Toast.LENGTH_SHORT).show();

    }
    catch (Exception e)
    {
        System.out.println(e);
        System.out.println("Connection Failed");
    }
    }

     } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-16T07:59:01.290

据我了解，您想要的是使用相同的套接字进行登录和聊天。与其在活动之间发送`Socket`对象，`Intent`不如考虑另一种选择：

1.  定义一个类来管理打开的套接字并创建它的静态实例或使其成为单例。
2.  使用[文档](http://developer.android.com/reference/android/app/Service.html#LocalServiceSample)`Service`中描述的本地。在其中定义您的and方法并在其上绑定：`sendingmsg``login``Activity``onResume`

    ```
    private ChatService mService;
    ...
    @Override
    protected void onResume() {
        doBindService();
        sendbtn.setOnClickListener(new OnClickListener() {
            public void onClick(View view) {
                mService.sendingmsg();
            }
        });
    }

    @Override
    protected void onPause() {
        doUnbindService();
    } 
    ```**

# java - 在 JBoss 中获取到数据库的连接？

> ID：10612979
> 
> 赞同：3
> 
> 时间：2012-05-16T06:15:33.643
> 
> 标签：java, postgresql, servlets, jboss

这是我的 jboss/deploy/postgres-ds.xml 文件。此处给出了连接 url、用户名和密码。如何在我的 servlet 中获得到该数据库的连接。

```
<local-tx-datasource>
        <jndi-name>PostgresDS</jndi-name>
        <connection-url>jdbc:postgresql://localhost:5432/postgres</connection-url>
        <driver-class>org.postgresql.Driver</driver-class>
        <user-name>postgres</user-name>
        <password>qwerty</password>
            <!-- sql to call when connection is created
            <new-connection-sql>some arbitrary sql</new-connection-sql>
            -->

            <!-- sql to call on an existing pooled connection when it is obtained from pool 
            <check-valid-connection-sql>some arbitrary sql</check-valid-connection-sql>
            -->

          <!-- corresponding type-mapping in the standardjbosscmp-jdbc.xml (optional) -->

      </local-tx-datasource> 
```

我是否应该在每个 servlet 中获得这样的连接：

```
Connection conn =null; // Create connection object
        String database = "postgres"; // Name of database
        String user = "postgres"; //
             String password = "qwerty";
             String url = "jdbc:postgresql://localhost:5432/" + database;
ResultSet rs = null;
             ResultSetMetaData rsm = null;  
 try{
Class.forName("org.postgresql.Driver").newInstance();
//.newInstance()
} catch(Exception e) 
   {
System.err.println(e);
}

try{
conn = DriverManager.getConnection(url, user, password);

}catch(SQLException se) 
{
System.err.println(se);
} 
```

如果每次都必须这样做，那么为什么要在 postgres-ds.xml 文件中提供 url、用户名和密码呢？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-16T06:21:53.683

您可以使用 DataSource 来获取 Connection 之类的

```
javax.naming.Context ic = new javax.naming.InitialContext();
javax.naming.Context ctx = (javax.naming.Context) ic.lookup("java:");
javax.sql.DataSource ds = (javax.sql.DataSource) ctx.lookup("PostgresDS");
java.sql.Connection con = ds.getConnection(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-16T06:23:22.257

不——在 J2EE 应用程序（如基于 JBoss 的应用程序）中使用“数据源”和打开标准 JDBC 连接（就像在简单的 Java 应用程序中所做的那样）或多或少是相互排斥的。

您的应用程序通常会做其中之一。在您的情况下，请使用数据源。

这是一个很好的片段，说明*了这两种*方法：使用 JNDI 数据源，并直接打开 JDBC 连接：

[http://www.javapractices.com/topic/TopicAction.do?Id=127](http://www.javapractices.com/topic/TopicAction.do?Id=127)

```
/** Uses JNDI and Datasource (preferred style).   */
static Connection getJNDIConnection(){
String DATASOURCE_CONTEXT = "java:comp/env/jdbc/blah";

Connection result = null;
try {
  Context initialContext = new InitialContext();
  if ( initialContext == null){
    log("JNDI problem. Cannot get InitialContext.");
  }
  DataSource datasource = (DataSource)initialContext.lookup(DATASOURCE_CONTEXT);
  if (datasource != null) {
    result = datasource.getConnection();
  }
  else {
    log("Failed to lookup datasource.");
  }
}
catch ( NamingException ex ) {
  log("Cannot get connection: " + ex);
}
catch(SQLException ex){
  log("Cannot get connection: " + ex);
}
return result; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T06:19:16.140

如果您正在使用 JBoss，建议您利用[**JPA**](http://www.oracle.com/technetwork/java/javaee/tech/persistence-jsp-140049.htm)等包含的 EE API 。

因此，您无需在任何地方重新输入您的连接信息。只需让容器将一个注入`EntityManager`到您的 servlet 中（假设您使用 EE 6 和[**CDI**](http://seamframework.org/Weld)）或创建类似[**DAO**](http://en.wikipedia.org/wiki/Data_access_object)的东西（没有 EE6）。

您可能想看看这个在 JBoss 上使用 Hibernate 的[**JPA 示例。**](http://docs.jboss.org/hibernate/orm/3.6/quickstart/en-US/html/hibernate-gsg-tutorial-jpa.html)

# facebook - 如何检查用户是否喜欢 facebook 应用程序？

> ID：10612984
> 
> 赞同：0
> 
> 时间：2012-05-16T06:16:10.497
> 
> 标签：facebook, facebook-like

以前，我使用以下代码检查用户是否喜欢 facebook 应用程序：

```
 $fql= "SELECT uid FROM page_fan WHERE page_id = '$appid' and uid='".$me['id']."'";
    $param=array(
        'method'    => 'fql.query',
        'query'     => $fql,
        'access_token' => $access_token
    );
    $fqlResult1   =   $facebook->api($param);
    $hasliked = count($fqlResult1); 
```

但是现在这段代码不再起作用了。这个问题有什么解决办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-10T06:54:08.577

Facebook 已经阻止了我们可以检查 Facebook 应用程序是否从大约 6.8 个月开始被阻止的功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-17T13:19:41.270

您可以在像这样进行 api 调用时指定您的页面 id 来检查

```
https://graph.facebook.com/me/Likes/" + pageId/appId + "?access_token=" + oAuthToken 
```

如果响应包含数据，则表示您的页面/应用程序被喜欢，否则不喜欢。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T06:21:27.140

你可以使用：

```
$facebook->api("/$user/likes"); 
```

它为用户提供了喜欢的列表。如果您的应用程序在列表中，则用户不喜欢它。你是不是有这样的意思。

# java - 如何让 JasperReports 在程序加载时请求参数？

> ID：10612986
> 
> 赞同：0
> 
> 时间：2012-05-16T06:16:14.270
> 
> 标签：java, jasper-reports, report, ireport

我创建了一个加载 JR 报告的程序。我在报告上放置了一个参数，以便每当加载报告时，它都会要求一个值。当我在我的java程序上传递一个参数时它工作正常

```
Map parameters = new HashMap();
parameters.put("VoucherNo", oclsJVHeader.getJournalVoucherNo()); 
...
JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, conn); 
```

但是当我尝试在没有参数的情况下加载它时，

```
JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, null, conn); 
```

它说“该文档没有页面”。我在想，因为我让参数在我的代码不传递参数时使用提示，所以当我加载它时它会要求提示。

```
<parameter name="VoucherNo" class="java.lang.String" isForPrompting="true"> 
```

所以我的问题是，当我不传递参数时，如何让报告提示输入值？我需要为此更改我的java代码吗？

顺便说一句，这是我加载报告的代码：

```
 FileInputStream fs = new FileInputStream(reportPath+reportFile);
 JasperDesign jasperDesign = JRXmlLoader.load(fs);
 JasperReport jasperReport = JasperCompileManager.compileReport(jasperDesign);
 JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters,  conn); //could be null or parameters
 JFrame jframe = new JFrame("Journal Voucher");
 jframe.getContentPane().add(new JRViewer(jasperPrint));
 jframe.pack();
 jframe.setExtendedState(javax.swing.JFrame.MAXIMIZED_BOTH);
 jframe.setVisible(true); 
```

我正在为我的项目使用*iReport*和*NetBeans*。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-16T07:12:45.670

AFAIK，该`isForPrompting`参数仅由 iReport 和 JasperServer 使用（并且可以由任何其他生成报告的通用应用程序使用）。

无论如何，JasperReport 应该如何知道它应该如何询问参数值？如果你的应用程序是一个 webapp？还是命令行应用程序？Jasper Reports 生成报告。您应该提供必要的 GUI。

# javascript - 检查更改的文本

> ID：10612989
> 
> 赞同：2
> 
> 时间：2012-05-16T06:16:25.780
> 
> 标签：javascript, jquery, .net

如何在打开页面后检查所有文本框、下拉菜单或其他元素中的数据是否已更改（想使用 javascript 或 jquery 进行检查）？谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-16T06:17:41.807

```
$("input,textarea,select").on("change",function(){
    //do things
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-16T06:40:42.420

检查突变事件
[http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-eventgroupings-mutationevents](http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-eventgroupings-mutationevents)

定义一个`IsDirty()`函数，
将更改事件处理程序附加到页面中的首选元素

```
(function($){
  $.fn.OldHtml = "";
  $.fn.Attach= function() {
     $.fn.OldHtml = this.html();
  };

  $.fn.IsDirty = function() {
     return !($.fn.OldHtml == this.html())
  };
})(jQuery);

$(document).ready(function(){
    $("#Div1").Attach();//init tracking
    $("#Div2").Attach();//init tracking

    $("#change").click(function(){
        $("#Div1").html("test");//make a change
    });

    $("#check").click(function(){
        alert("Div1 Is Changed:"+$("#Div1").IsDirty()+"\nDiv2 Is Changed:"+$("#Div2").IsDirty());
    });
});​ 
```

也许还有其他可用的替代品，但这个工程
演示：http: [//jsfiddle.net/6aVjg/4/](http://jsfiddle.net/6aVjg/4/)

问候，
新泽西州

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-16T06:30:07.640

```
 <%: Html.TextBoxFor(model => model.TripNumber, new { @tabindex = "1", maxlength = "20", onchange ="CheckDirty();" })%>

  var isDirty = false;

 function CheckDirty() {
        $('input[type=text],textarea,select,input[type=checkbox],input[type=radio]').change(function () {
            if (!isDirty) {
                isDirty = true;
            }
        });
    } 
```