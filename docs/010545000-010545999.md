# StackOverflow 问答 10545000-10545999

# linux - 如何使用 linux crontab 命令

> ID：10545011
> 
> 赞同：0
> 
> 时间：2012-05-11T03:22:57.180
> 
> 标签：linux, shell, crontab, command-prompt

我是 linux crontab 命令的新手，我在网上找到了关于该命令的解释

```
*     *     *   *    *        command to be executed
-     -     -   -    -
|     |     |   |    |
|     |     |   |    +----- day of week (0 - 6) (Sunday=0)
|     |     |   +------- month (1 - 12)
|     |     +--------- day of        month (1 - 31)
|     +----------- hour (0 - 23)
+------------- min (0 - 59) 
```

根据此描述，月份中的某天和星期几是相互矛盾的论点。如果我说一周中的每一天，然后我指定一个月中的特定日期，那么它就是冲突的。所以我的问题是为什么人们将星期几和月份的参数放入其中。

提前感谢您的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T03:49:51.480

因为通常要求例如在每个星期一或每个月的 1 日运行一个程序。

# git - 致命：关闭 sha1 文件时出错：输入/输出错误

> ID：10545013
> 
> 赞同：7
> 
> 时间：2012-05-11T03:23:15.763
> 
> 标签：git

我该怎么办？

```
git push
Counting objects: 30, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (14/14), done.
fatal: error when closing sha1 file: Input/output error
error: pack-objects died of signal 13
error: failed to push some refs to '...' 
```

我从类似问题的[答案中尝试了以下内容](https://stackoverflow.com/questions/685319/git-pull-error-unable-to-create-temporary-sha1-filename)

```
git repack
git prune
git gc --aggressive 
```

没有什么帮助。遥控器是一个挂载的 AFS 文件系统，几年来我一直在毫无意外地推动它。我不在配额附近，而且我有权限（我可以毫无问题地触摸此文件系统上的文件）。Git 版本 1.7.5.4。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-07T11:30:42.683

这是**超出磁盘配额**的结果。我得到了同样的错误，没有额外的解释。然后我注意到我的磁盘配额超出了。释放一些磁盘空间后，我能够执行原始的 git 操作。

PS：就我而言，错误条件阻止了**本地**git 存储库中的任何更改。我无法执行任何 add/commit/push/gc （都给出了上述 sha1 文件错误）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-11T03:42:34.070

正如评论中所指出的，显然这是远程文件服务器的问题。等了一会儿，我能够顺利推动。

# c++ - 可变字符串比较

> ID：10545021
> 
> 赞同：4
> 
> 时间：2012-05-11T03:24:34.170
> 
> 标签：c++, variadic-functions

我正在使用一些旧代码（碰巧是文本游戏）并想替换模式

```
strcasecmp(variable, "something") == 0 || strcasecmp(variable, "something else") == 0 
```

有更好的东西，比如

```
in_list(variable, "something", "something else") 
```

我认为可变参数函数是合适的。但是当我查看联机帮助页时，我发现无法判断您何时用完了参数（`va_arg`在导致未定义行为时调用）。那么我该如何处理呢？

也许有一些方法可以绕过这个限制。也许我可以`#define`在列表末尾添加某种哨兵，以便我可以检查它，尽管它看起来不优雅。我想我可以将其替换为具有 1、2、... 参数的宏系列，直到某个合理的限制，尽管这感觉像是一个 hack。

这样做的正确方法是什么？假设我不愿意重写程序以使用该`string`类型并且我坚持使用`char*`s。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-11T03:36:35.897

假设您可以使用 C++11 功能，我会让该函数采用`std::set`支持初始化列表的集合类型（例如，），因此您可以使用类似的东西：

```
in_list(variable, {"something", "something else", "yet a third thing"}); 
```

编辑：这是一个快速演示：

```
#include <string>
#include <set>
#include <iostream>

bool in_list(std::string const &value, std::set<std::string> const &list) {
    return list.find(value) != list.end();
}

int main(){
    std::cout << std::boolalpha << in_list("true", {"this", "is", "a", "true", "statement"}) << "\n";

    std::cout << in_list("false", {"this", "is", "a", "true", "statement"});
    return 0;
} 
```

这可以用 g++ 4.7.0 干净地编译，并产生预期的输出：

```
true
false 
```

是的，没有理由不这样做，`std::set`将是手头工作的合理选择。就您对`char *`vs.的担忧`std::string`而言：`std::string`支持从 的隐式转换`char *`，因此您可以将 a 传递`char *`给函数（正如我在上面所做的那样），它将`std::string`自动转换为。换句话说，（大多数）其他代码可以通过`char *`，而不必担心该代码将其视为的次要细节`std::string`。

# opengl - opengl 3.3+ 与 glsl 130 代码不兼容？

> ID：10545022
> 
> 赞同：2
> 
> 时间：2012-05-11T03:24:37.550
> 
> 标签：opengl, glsl, backwards-compatibility, vertex-shader

我遇到了一个问题，即我的 glsl 130 代码无法在我的现​​代（ATI 5850）硬件上正常运行，而相同的代码在我拥有的带有 NVIDIA 卡的旧笔记本电脑上运行得非常好。无论 opengl 是什么，情况都是如此我使用的上下文。发生的是向量：in_position、in_colour 和 in_normal 在新硬件上没有正确绑定。看来我被迫在较新的硬件上使用较新版本的 glsl (330)。

这是顶点着色器的 glsl 代码。它相当简单和基本。

```
#version 130

uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat4 modelMatrix;
uniform mat4 normalMatrix;

in vec4 in_position;
in vec4 in_colour;
in vec3 in_normal;

out vec4 pass_colour;

smooth out vec3 vNormal;

void main()
{
   gl_Position = projectionMatrix * viewMatrix * modelMatrix * in_position;
   vec4 vRes = normalMatrix*vec4(in_normal, 0.0); 
   vNormal = vRes.xyz;
   pass_colour = in_colour;
} 
```

会发生以下情况的数据：

```
in vec4 in_position;
in vec4 in_colour;
in vec3 in_normal; 
```

不绑定或不完全。这些值被奇怪地扭曲了。根据我的测试，其他一切正常。将版本更改为 330 并使用 location 关键字修复了该问题，但这也使代码与旧版本的 opengl 不兼容...

这是我用来指定这些位置的代码示例。

对于程序：

```
glBindAttribLocation(LD_standard_program, 0, "in_position");
glBindAttribLocation(LD_standard_program, 1, "in_colour");
glBindAttribLocation(LD_standard_program, 2, "in_normal"); 
```

以及后来的数据本身：

```
--- code to buffer vertex data
glEnableVertexAttribArray(0);
glVertexAttribPointer((GLuint) 0, 4, GL_FLOAT, GL_FALSE, 0, 0);
--- code to buffer colour data
glEnableVertexAttribArray(1);
glVertexAttribPointer((GLuint) 1, 4, GL_FLOAT, GL_FALSE, 0, 0);
--- code to buffer normal data
glEnableVertexAttribArray(2);
glVertexAttribPointer((GLuint) 2, 3, GL_FLOAT, GL_FALSE, 0, 0); 
```

我的问题是：opengl 不应该向后兼容吗？我开始担心我必须为每个版本的 opengl 编写单独的着色器，以使我的程序在不同的硬件上运行......因为绑定这些属性是非常基本的功能，我怀疑这是 ATI 实现中的错误...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T04:09:59.737

你是在 glLinkProgram 之前调用 glBindAttribLocation 吗？调用 after 不会产生任何效果，因为顶点属性仅在 glLinkProgram 期间被分配索引。

在 GLSL 3.30+ 中，有更好的方法可以直接在 GLSL 代码中指定属性索引：

```
layout(location=0) in vec4 in_position;
layout(location=1) in vec4 in_colour;
layout(location=2) in vec3 in_normal; 
```

编辑：哦，我已经跳过了你尝试过布局关键字的部分。

# javascript - 如何以更优雅的方式书写闪烁

> ID：10545024
> 
> 赞同：3
> 
> 时间：2012-05-11T03:25:40.217
> 
> 标签：javascript, jquery

目标：编写一个 js（使用 jquery），将执行 2 行闪烁。

我目前拥有的是

```
var $second_row = $('table tr:eq(1)'),
    target_color = 'PaleGreen',
    original_color = $second_row.css('background-color');

$second_row.css('background-color', target_color);
scheduleOriginalColor();

function scheduleTargetColor() {
    setTimeout(function() {
        $second_row.css('background-color', target_color);
        scheduleOriginalColor(true);
    }, 500);
}

function scheduleOriginalColor(stop) {
    setTimeout(function() {
        $second_row.css('background-color', original_color);

        if (!stop) {
            scheduleTargetColor();
        }
    }, 500);
}
​ 
```

[http://jsfiddle.net/zerkms/ecfMU/1/](http://jsfiddle.net/zerkms/ecfMU/1/)

但它看起来很难看，我相信有更好的写法。

有什么建议吗？

**UPD**：这是我的第二次尝试，更清楚一点：http: [//jsfiddle.net/zerkms/ecfMU/2/](http://jsfiddle.net/zerkms/ecfMU/2/)

```
var $second_row = $('table tr:eq(1)'),
    target_color = 'PaleGreen',
    original_color = $second_row.css('background-color');

setRowColor(target_color, 500);
setRowColor(original_color, 1000);
setRowColor(target_color, 1500);
setRowColor(original_color, 2000);

function setRowColor(color, timing) {
    setTimeout(function() {
        $second_row.css('background-color', color);
    }, timing);
}
​ 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-11T03:33:41.180

试试这个，使用`toggleClass`和背景颜色：

```
var blink = setInterval(function() {
    $('table tr:eq(1)').toggleClass('highlight');
}, 500);
setTimeout(function() {
    clearInterval(blink);
}, 2100); // run 4 times, added a little padding time just in case 
```

```
.highlight {
    background-color:PaleGreen;
} 
```

演示：http: [//jsfiddle.net/ecfMU/10/](http://jsfiddle.net/ecfMU/10/)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-05-11T03:39:05.197

下面让您定义元素、颜色、闪烁次数和速度。另一个额外的好处是它不需要任何 jQuery 的膨胀。尽可能始终支持原始 JavaScript。

```
function flashBG( e, c, x, z ) {
  var d = e.style.backgroundColor, i = 0, f = setInterval(function(){
    e.style.backgroundColor = ( e.style.backgroundColor == d ) ? c : d ;
    ++i == ( x * 2 ) && clearInterval( f );
  }, z );
} 
```

像这样称呼它：

```
flashBG( document.body, "PaleGreen", 2, 500 ); 
```

演示：http: [//jsbin.com/axuxiy/3/edit](http://jsbin.com/axuxiy/3/edit)

为了便于阅读，以下内容可能更具教育意义：

```
function flashBG( element, color, flashes, speed ) {
  var original = element.style.backgroundColor;
  var counter  = 0;
  var interval = setInterval(
    function() {
      if ( original === element.style.backgroundColor ) {
        element.style.backgroundColor = color; 
      } else {
        element.style.backgroundColor = original;
      }
      if ( ++counter == ( flashes * 2 ) ) {
        clearInterval( interval );
      }
    }, speed );
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-05-11T03:36:38.190

Javascript 不是我的强项——所以我可能会弄错一些语法。

**编辑：[演示](http://jsfiddle.net/ecfMU/16/) 编辑＃2：易于扩展 -[彩虹版](http://jsfiddle.net/Fh5N8/)**

然而......一个非常简单的方法是在一个数组中使用颜色，以及一个带有索引的 int var。然后只有一个预定的功能，像这样：

```
//Somewhere else we have:
//var colorArray = blah... blah.. blahh, it has values [palegreen,regularwhite]

//blah blah scheduleColor(0);
//var numBlinks = 2;

//then for your scheduler
function scheduleColor(ind) {
    $second_row.css('background-color', colorArray[ind % colorArray.length]);
    if (ind < (colorArray.length * numBlinks) - 1) {
        setTimeout(function() {
            scheduleColor(ind + 1);
        }, 500);
    }
} 
```

基本思想是迭代而不是两个调度器，你有一个。另外，您可以轻松地将其设置为闪烁任意次数，或循环显示多种颜色。

哎呀，如果你愿意，你可以让它在彩虹中循环。

*编辑了一些语法/更正。*

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-05-11T03:48:45.107

我给你的答案是韦斯利和里卡多的答案的混合体，所以我不能为此付出太多。我是 .delay() 和 .queue() 以及 .toggleClass()。我认为它结束了一段很好的代码。

一些CSS：

```
.highlight {
    background-color:PaleGreen;
} 
```

和 JS：

```
var $second_row = $('table tr:eq(1)');

function blink(el) {
    el.addClass('highlight');
    for(i=0; i<3; i++) {
        el.delay(500).queue(function() {
            $(this).toggleClass('highlight');
            $(this).dequeue();
        });
    }
}

blink($second_row);​ 
```

[小提琴](http://jsfiddle.net/luhn/S7SZM/2/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-05-11T03:36:45.437

```
var $second_row = $('table tr:eq(1)'),
    target_color = 'PaleGreen',
    original_color = $second_row.css('background-color');

$second_row.css('background-color', target_color).delay(500).queue(function(){
    jQuery(this).css('background-color', original_color);
}); 
```

工作：**[小提琴](http://jsfiddle.net/ecfMU/11/)**

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-05-11T03:41:16.560

你能添加jQuery UI吗？

如果是这样，您可以为背景设置动画以实现更平滑的过渡。

[http://jsfiddle.net/ecfMU/18/](http://jsfiddle.net/ecfMU/18/)

# iphone - 将选定的联系人复制到其他 UITableView iPhone

> ID：10545034
> 
> 赞同：0
> 
> 时间：2012-05-11T03:28:17.417
> 
> 标签：iphone

我想知道，如何将选定的联系人从一个 tableview 复制并显示到另一个 tablview。我在表格视图中列出了联系人。我可以选择多选联系人。当我点击完成（选择后）时，我需要将选定的联系人复制到另一个表格视图。有人可以指导我如何实现它。

示例示例或代码将非常有用。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T04:19:32.017

您必须为您的 First tableview 提供数据源。所以你可以使用 **DidSelectRowAtIndex**方法，1）获取 indexpath.row 并将项目从指定 indexpath.row 的数据源复制到一个新数组（这将成为你的第二个 tableview 的数据源。

如下所示：

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
//customArray is datasource for this tableview
NSString *item=    [self.customArray objectAtIndex:indexPath.row];
//arr is datasource for second tableview
    [arr addObject:item];
} 
```

希望能帮助到你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T07:49:21.417

```
lowerLblItem_Unit_Cost.text = [NSString stringWithFormat:@"%@", [delegate.addItem_UnitCost objectAtIndex:indexPath.row]];
    lowerLblItem_Unit_Cost.backgroundColor = [UIColor clearColor];

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
//customArray is datasource for this tableview
NSString *item=    [self.customArray objectAtIndex:indexPath.row];
//arr is datasource for second tableview
    [arr addObject:item];

or // you can use your own label

lowerLblItem_Unit_Cost.text = [NSString stringWithFormat:@"%@", [delegate.addItem_UnitCost objectAtIndex:indexPath.row]];
    lowerLblItem_Unit_Cost.backgroundColor = [UIColor clearColor]; 

} 
```

# android - 如何在 Android 上使用 jTwitter 发送推文？

> ID：10545036
> 
> 赞同：0
> 
> 时间：2012-05-11T03:28:44.313
> 
> 标签：android, service, oauth, signpost, jtwitter

有没有人在 Android 上通过 jTwitter 成功发送过推文？

我被身份验证困住了。我可以成功地将用户重定向到 twitter，授权我的应用程序并使用`new OAuthSignpostClient(CONSUMER_KEY, CONSUMER_SECRET, CALLBACK_URL)`. 然后我存储`oauth_token`和`oauth_verifier`回调 URL，并尝试再次使用 OAuthSignpostClient 更新状态：

```
OAuthSignpostClient client = new OAuthSignpostClient(TwitterOAuthActivity.CONSUMER_KEY, TwitterOAuthActivity.CONSUMER_SECRET, accessToken, accessTokenSecret);

// Ready to go!
Twitter twitter = new Twitter(null, client);
CharSequence date = DateFormat.format("dd.MM.yyyy @ hh:mm:ss", new Date());
twitter.updateStatus("Yay. It works! " + date); 
```

以 a 结尾`TwitterException`而没有 a 由以下原因引起：

```
05-11 12:24:32.643: E/AndroidRuntime(25897): winterwell.jtwitter.TwitterException$E401: Could not authenticate with OAuth.
05-11 12:24:32.643: E/AndroidRuntime(25897): http://api.twitter.com/1/statuses/update.json (anonymous)
05-11 12:24:32.643: E/AndroidRuntime(25897):    at winterwell.jtwitter.URLConnectionHttpClient.processError(URLConnectionHttpClient.java:425) 
05-11 12:24:32.643: E/AndroidRuntime(25897):    at winterwell.jtwitter.OAuthSignpostClient.post2_connect(OAuthSignpostClient.java:345) 
```

有谁知道我的问题在哪里？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T10:44:38.067

来自回调 url 的验证器是一个临时键。它让您解锁您拥有的 OAuthSignpostClient 对象。您不能使用它来构造新的 OAuthSignpostClient。

您需要致电：

```
client.setAuthorizationCode(verifier);
// The client can now be used!
// To use it again, without the oauth dance, store _these_ tokens:
String[] tokens = client.getAccessToken(); 
```

您可能还想查看新的 AndroidTwitterLogin 类，它使事情变得简单：

```
AndroidTwitterLogin atl = new AndroidTwitterLogin(myApp, 
                MY_TWITTER_KEY,MY_TWITTER_SECRET,MY_TWITTER_CALLBACK) {                 

    protected void onSuccess(Twitter jtwitter, String[] tokens) {
        jtwitter.setStatus("I can now post to Twitter!");
        // Recommended: store tokens in your app for future use
        // with the constructor OAuthSignpostClient(String consumerKey, String consumerSecret, String accessToken, String accessTokenSecret)
    }
};
atl.run(); 
```

# android - android：如何在主题中定义自定义颜色、可绘制对象等？

> ID：10545039
> 
> 赞同：2
> 
> 时间：2012-05-11T03:29:00.740
> 
> 标签：android

我希望我能解释我所追求的。本质上，我的用户要求我在我的应用程序中允许不同的外观，我希望我可以使用主题来做到这一点。

我希望我能做这样的事情：

```
<style name="NewTheme" parent="android:Theme.Dark">
  <item name="labelColor">#f90</item>
  <item name="buttonColor">#fff</item>
  <item name="buttonBg">@drawable/button</item>
</style>
<style name="OldTheme" parent="android:Theme.Dark">
  <item name="labelColor">#fa0</item>
  <item name="buttonColor">#88f</item>
  <item name="buttonBg">@drawable/button_old</item>
</style> 
```

然后在我的 styles.xml 中引用这些值：

```
<style name="labelStyle">
  <item name="android:textColor>@labelColor</item>
</style>
<style name="buttonStyle">
  <item name="android:textcolor">@buttonColor</item>
  <item name="android:background">@buttonBg</item>
</style> 
```

我知道这种语法是错误的，但正确的语法可能是什么？基本上，我想创建一组属性（颜色、背景、其他一些东西）并根据主题选择它们。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T04:15:31.487

要在 Android 中使用主题和样式，您必须：

1.  在themes.xml 中定义一个或多个主题，并在那里设置您的样式定义。

2.  在 attrs.xml 中定义自定义属性，也就是自定义样式。

3.  在styles.xml 中描述您的自定义样式的值。

4.  在你的布局文件中，给你的视图一个样式属性，它有一个自定义样式名称作为它们的值。

5.  在 AndroidManifest.xml 或 Activity 的 onCreate() 中设置应用程序或活动的主题。这是通过在调用 setContentView() 之前在 Activity 的 onCreate() 方法中调用 setTheme() 来完成的。

6.  要更改主题，您只需重新启动您的活动。

![在此处输入图像描述](../Images/dc9bfeeeb47723f08a36ff795f040ba8.png)

建议您看一下本[教程](http://www.androidengineer.com/2010/06/using-themes-in-android-applications.html)，它涉及程序员想要在 android 主题上工作的所有内容（文本颜色、文本格式、可绘制状态列表等......）

# python - 如何在函数中使用局部变量并返回它？

> ID：10545041
> 
> 赞同：8
> 
> 时间：2012-05-11T03:29:12.930
> 
> 标签：python, function, variables, return

我正在尝试创建一个脚本来设置一个局部变量，从一个函数中引用它，并且可以将操纵值返回到主范围（或者它被称为什么；我是 Python 新手）

我已经简化了我的代码，以展示我想要完成的最基础的工作，我认为是将模块中的本地导入到功能块中。

我已经通过使用来实现这一点`globals`，但这不是最好的解决方案。. .

```
chambersinreactor = 0;
cardsdiscarded = 0;

def find_chamber_discard(): 
    """Find chambers and discard in row (reads each player slot)"""
    chambersinreactor = 0; # Resets the variable, not what I want
    cardsdiscarded = 0; # Resets the variable, not what I want
    chambersinreactor += 1
    cardsdiscarded += 1
    return # Don't know what to put here

find_chamber_discard()

print chambersinreactor # prints as 0, should be 1
print cardsdiscarded    # prints as 0, should be 1 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-05-11T03:44:52.597

函数不必知道它们被调用的范围；函数的重点是制作一个可重用的代码块，可以从不同的地方多次调用。

您通过函数的输入变量将信息*传递*给函数。该函数通过返回信息将信息传回给它的调用者。

管理范围的变量是该范围内代码的工作，而**不是**它调用的任何函数。如果您需要将变量设置为由函数确定的值，那么您可以让函数返回这些值并使用它们来设置变量。如果函数计算的值取决于调用范围内的变量值，那么您需要将它们作为参数传递给函数。你调用的函数不应该知道你正在使用什么变量，也不应该弄乱它们。

把所有这些放在一起，你想要做的是这样的：

```
def find_chamber_discard(chambersinreactor, cardsdiscarded):
    chambersinreactor += 1
    cardsdiscarded += 1
    return (chambersinreactor, cardsdiscarded)

chambersinreactor = 0;
cardsdiscarded = 0;

chambersinreactor, cardsdiscarded = find_chamber_discard(chambersinreactor, cardsdiscarded)

print chambersinreactor
print cardsdiscarded 
```

有一些方法可以通过全局变量或操纵可变数据结构来解决这个问题，但最终它们会使您的程序不那么灵活，并且更有可能包含难以发现的错误。这些技术有一席之地，但是您要与函数进行信息交流的第一种方法实际上应该是传递参数和接收返回值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-11T05:45:04.497

一种方法是使用可变值，例如字典或列表：

```
settings = dict(
    chambersinreactor = 0,
    cardsdiscarded = 0
)

def find_chamber_discard():
    settings['chambersinreactor'] += 1
    settings['cardsdiscarded'] += 1

find_chamber_discard()

print settings['chambersinreactor']
print settings['cardsdiscarded'] 
```

但是，如果您有一个正在更改某些状态的函数，那么最好将它们全部包装在类中，因为这就是它们的用途：

```
class CardCounter(object):
    def __init__(self):
        chambersinreactor = 0
        cardsdiscarded = 0

    def find_chamber_discard(self, hand):
        for card in hand:
            if card.is_chamber:
                self.chambersinreactor += 1
            if card.is_discarded:
                self.cardsdiscarded += 1 
```

如果你正在做的是计数，也许你可以使用 Counter：

```
from collections import Counter

def test_for_chamberness(x): return x == 'C'
def test_for_discarded(x): return x == 'D'

def chamber_or_discard(card):
    if test_for_chamberness(card):
        return 'chambersinreactor'
    if test_for_discarded(card):
        return 'cardsdiscarded'

hand = ['C','C','D','X','D','E','C']

print Counter(
    x for x in (chamber_or_discard(card) for card in hand) if x is not None
) 
```

就个人而言，我会选择类方法，甚至可能包装 Counter，因为它将所有相关功能保持在一起。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-11T03:53:02.420

```
#!/usr/bin/env python
chambersinreactor = 0; cardsdiscarded = 0;

def find_chamber_discard():
    chambersinreactor = 0
    cardsdiscarded = 0
    chambersinreactor += 1 
    cardsdiscarded += 1 
    return(chambersinreactor, cardsdiscarded)

#Here the globals remain unchanged by the locals.
#In python, a scope is similar to a 'namespace'
find_chamber_discard()

print chambersinreactor #prints as 0
print cardsdiscarded 

#I've modified the function to return a pair (tuple) of numbers.
#Above I ignored them. Now I'm going to assign the variables in the 
#main name space to the result of the function call.
print("=====with assignment===")
(chambersinreactor, cardsdiscarded) = find_chamber_discard()

print chambersinreactor #  now prints as 1
print cardsdiscarded 

# Here is another way that doesn't depend on returning values.
#Pass a dictionary of all the main variables into your function
#and directly access them from within the function as needed

print("=======using locals===")
def find_chamber_discard2(_locals):
    _locals['chambersinreactor'] += 1
    _locals['cardsdiscarded'] += 1
    return

find_chamber_discard2(locals())

print chambersinreactor #incremented the value, which was already 1
print cardsdiscarded 
```

# ejb - 如何在 JBoss AS 7.x 上查找 ejb

> ID：10545043
> 
> 赞同：2
> 
> 时间：2012-05-11T03:29:33.173
> 
> 标签：ejb, jndi, lookup, jboss7.x

我尝试使用 ejb 查找 jndi 名称。那 ejb 是同一个 jboss 服务器然后是成功的。但是ejb是其他jboss服务器然后失败了。我的源代码：

```
Hashtable<String, String> env = new Hashtable<String, String>();
env.put("java.naming.provider.url","jnp://192.168.100.10:8484");
env.put("java.naming.factory.initial",
                "org.jboss.as.naming.InitialContextFactory");
env.put("java.naming.factory.url.pkgs",
                "org.jboss.as.naming.interfaces.java");
env.put("java.naming.security.principal", "Admin");
env.put("java.naming.security.credentials",
            "password");
Context context = new InitialContext(env);
IMyLogic infoLogic = (IMyLogic) context.lookUp("java:global/MyApplication/MyModule/MyLogic!org.test.interfaces.IMyLogic"); 
```

IMyLogic ejb 192.168.100.10 jboss 作为 7.1 部署。我尝试将 192.168.100.15 jboss 查找为 7.1。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T18:24:44.373

您应该使用本指南从独立客户端对 EJB 进行远程调用：

[https://docs.jboss.org/author/display/AS71/EJB+invocations+from+a+remote+client+using+JNDI](https://docs.jboss.org/author/display/AS71/EJB+invocations+from+a+remote+client+using+JNDI)

或者，如果您在另一个 JBoss 实例中，请使用随附的文章：

[https://docs.jboss.org/author/display/AS71/EJB+invocations+from+a+remote+server+instance](https://docs.jboss.org/author/display/AS71/EJB+invocations+from+a+remote+server+instance)

# android - Android中的音频麦克风直播

> ID：10545048
> 
> 赞同：3
> 
> 时间：2012-05-11T03:30:11.830
> 
> 标签：android, live-streaming

我是直播的新手。我在创建录制文件的实时流时遇到问题。我可以将音频文件上传到服务器并使用媒体播放器从 url 播放，但我不希望这是我想要的，因为我将它广播给所有人，当我完成我的演讲时，它会停止广播。是否可行。如果可行那怎么办？

我可以使用 Amazon CloudFront 执行此操作吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T04:16:06.713

据我所知，您可以使用[Spydroid](http://code.google.com/p/spydroid-ipcamera/)

它基本上用于视频流，但您也可以将其用于音频流，然后您必须更改其用于音频流的代码.. 其次，您将需要一些媒体服务器，我更喜欢您使用 Red5 媒体服务器，因为它是开源[Red 5](http://code.google.com/p/red5/)

red5 支持音频和视频流，但你必须稍微研究一下

# python - 模拟 Django 模型和 save()

> ID：10545049
> 
> 赞同：6
> 
> 时间：2012-05-11T03:30:11.637
> 
> 标签：python, django, unit-testing, django-models, mocking

我有以下情况：

在我的models.py

```
class FooBar(models.Model):
    description = models.CharField(max_length=20) 
```

在我的 utils.py 文件中。

```
from models import FooBar

def save_foobar(value):
    '''acts like a helper method that does a bunch of stuff, but creates a 
    FooBar object and saves it'''

    f = FooBar(description=value)
    f.save() 
```

在测试.py

```
from utils import save_foobar

@patch('utils.FooBar')
def test_save_foobar(self, mock_foobar_class):

    save_mock = Mock(return_value=None)
    mock_foobar_class.save = save_mock

    save_foobar('some value')

    #make sure class was created
    self.assertEqual(mock_foobar_class.call_count, 1) #this passes!!!

    #now make sure save was called once
    self.assertEqual(save_mock.call_count, 1) #this fails with 0 != 1 !!! 
```

这是我正在尝试做的事情的简化版本......所以请不要挂断为什么我有一个 utils 文件和一个辅助函数（在现实生活中它做了几件事）。另外，请注意，虽然简化了，但这是我的问题的实际工作示例。对 test call_count 的第一次调用返回 1 并通过。但是，第二个返回 0。所以，看起来我的补丁正在工作并被调用。

如何测试不仅创建了 FooBar 的实例，而且还调用了它的 save 方法？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-14T14:16:19.900

这是您的问题，您目前有：

```
mock_foobar_class.save = save_mock 
```

因为`mock_foobar_class`是一个模拟的类对象，并且该`save`方法是在该类的实例（而不是类本身）上调用的，所以您需要断言 save 是在类的返回值（又名实例）上调用的。

试试这个：

```
mock_foobar_class.return_value.save = save_mock 
```

我希望这会有所帮助！

# php - 获取包含 PHP 中提供的值的数组

> ID：10545056
> 
> 赞同：0
> 
> 时间：2012-05-11T03:31:51.097
> 
> 标签：php, arrays, search

我有这个数组：

```
Array
(
  [0] => CMS_ADMIN
  [1] => CMS_ACADEMIC
  [2] => CMS_FINANCE
  [3] => HRM_HR
  [4] => SRM_D
  [5] => SRM_CNC
  [6] => SRM_TM
  [7] => SRM_DE
) 
```

我想通过使用提供的单词搜索数组值来获取数组。假设我只是提供“CMS”字样，那么我将如何将 [0] => CMS_ADMIN, [1] =>CMS_ACADEMIC, [2] => CMS_FINANCE 分配给新数组。请帮忙....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T03:36:27.117

使用如下所示的函数：

```
function array_filter_prefix($array, $prefix) {
  $result = array();
  foreach ($array as $value) {
    if (strpos($value, $prefix) === 0) {
      $result[] = $value;
    }
  }
  return $result;
} 
```

给定一个输入数组 ，`$test`然后您可以这样做以获得结果：

```
$result = array_filter_prefix($test, 'CMS');
print_r($result); 
```

[键盘在这里](http://codepad.org/GrGVpGET)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T03:41:41.480

PHP 5.3 中的击球手风格

```
$prefix = "CMS";

$new = array_filter($array, function ($str) use ($prefix) {
    return (strpos($str, $prefix) === 0);
}); 
```

# php - 在 SQL 查询中从别名设置变量

> ID：10545066
> 
> 赞同：0
> 
> 时间：2012-05-11T03:33:07.253
> 
> 标签：php, sql, alias

我有一个简单的 JOIN 查询：

```
$lstCheck = $dbWHMCS->query('SELECT * FROM tblmonitorports mp 
                            INNER JOIN tblmonitorhosts h ON h.hst_id = port_mon 
                            INNER JOIN tblhosting ho ON ho.id = h.hst_serverid
                            INNER JOIN tblclients cl ON cl.id = ho.userid');

while ($data = $lstCheck->fetch())
{
            $serveridx = $data['ho.id'];
            $clientid = $data['cl.id'];
} 
```

我的问题是我在 tblhosting 和 tblclients 表中都有一个“id”列，所以我的变量都有相同的 id。我尝试在上面的示例中使用别名（ho. 和 cl.）设置它，但它不起作用。如何在上面的示例中执行此操作？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T03:41:03.693

这个怎么样？（对 php 细节有点生疏，但应该这样做）：

```
 $lstCheck = $dbWHMCS->query('SELECT ho.id hid, cl.id cid FROM tblmonitorports mp 
                            INNER JOIN tblmonitorhosts h ON h.hst_id = port_mon 
                            INNER JOIN tblhosting ho ON ho.id = h.hst_serverid
                            INNER JOIN tblclients cl ON cl.id = ho.userid');

while ($data = $lstCheck->fetch())
{
            $serveridx = $data['hid'];
            $clientid = $data['cid'];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T03:44:43.660

您正在选择带有通配符的记录，`*`因此您不能选择这样的字段。

根据您的查询`h.hst_serverid`并`ho.userid`具有与您想要的完全相同的值。所以只需这样做

```
while ($data = $lstCheck->fetch())
{
            $serveridx = $data['hst_serverid'];
            $clientid = $data['userid'];
} 
```

但是，选择特定的行可能听起来也更好

```
$lstCheck = $dbWHMCS->query('SELECT ho.id hid, cl.id cid, ....');

while ($data = $lstCheck->fetch())
{
            $serveridx = $data['hid'];
            $clientid = $data['cid'];
} 
```

# c++ - Rand_Max*(max-min)+min << 那是什么？

> ID：10545068
> 
> 赞同：2
> 
> 时间：2012-05-11T03:33:25.870
> 
> 标签：c++, stl, random, c++11, srand

```
generate(vec.begin(), vec.end(), [=](){return static_cast<T>(static_cast<double>(ran())
/RAND_MAX*(max-min)+min); }); 
```

问题：**RAND_MAX*(max-min)+min);**

好的，所以我知道这件事中的算法、lambda 表达式和捕获子句。我的问题对所有这些都很荒谬。上面加粗的文字是什么意思。我的意思是，我知道它是随机值生成过程的一部分。但不知道到底是怎么回事。所以有人可以分解那个微小的小代码。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-11T03:48:58.793

`static_cast<double>(ran())/RAND_MAX*(max-min)+min);`

我假设您输入错误`rand()`，它返回一个从 0 到 RAND_MAX 的伪随机整数。让我们以稍微澄清优先级的方式重写它：

`(T) ( (((double) rand() / RAND_MAX) * (max-min) ) + min`

所以它的作用是：

1.  `rand()`: take a random integer between 0 and RAND_MAX
2.  `(double) / RAND_MAX`: divide as double by RAND_MAX, yielding a uniformly distributed double between 0 and 1:
3.  `* (max-min)`: multiply by the range `(max-min)`, yielding a double from 0 to (max-min)
4.  `+min`: add the minimum to yield a random double between min and max
5.  `static_cast<T>`: cast it back to the original type

The result is a uniformly distributed random number of type T between `min` and `max`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-11T03:38:27.690

这是一个随机函数，其缺点是受限于 min（因为 rand 块可能返回零）并限制为 max，因为即使它返回 100% 的 max-min，并添加到 min，你也会达到最大值

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-11T03:41:25.207

该表达式`static_cast<double>rand()/RAND_MAX`创建一个介于 0.0 和 1.0 之间的数字，
当您将其乘以 时`(max-min)`，您会更改范围，当您添加时，`min`您会移动范围。所以，在那个表达式之后，你有一个随机数（双精度），范围从`min`到`max`。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-05-11T03:43:55.270

您需要查看整个表达式：`static_cast<double>(rand()) /RAND_MAX*(max-min)+min)`. 具有显式分组的看起来像：`(static_cast<double>(rand()) /RAND_MAX)*(max-min)+min)`.
第一组返回一个介于 0 和 1 之间的随机值，因为`rand()`返回一个介于 0 到 RAND_MAX 之间的值。第二组将 0 到 1 范围转换`min`为`max`范围。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-11T03:55:24.640

the ran() function returns a random value between min and max ?

but sometimes we need a random value between A and B (min and max). So we can adjust the result for it.

```
a is double, so we use a static_cast! 
a = rand()      ; 0     <=   a   <= RAND_MAX
a = a/RAND_MAX  ; 0     <=   a   <= 1
a = B * a       ; 0     <=   a   <= B
a = min +a      ; 0+min <=   a   <= B+min 
```

to produce min <= a <= max,

```
B+min = max
B = max-min 
```

in other hands

```
a = rand()/RAND_MAX*(max-min) + min 
```

is a random number between min and max.

# shell - 在终端上具有自己的目录的初始多屏幕

> ID：10545070
> 
> 赞同：0
> 
> 时间：2012-05-11T03:33:41.593
> 
> 标签：shell

我想在 host1 上打开一个屏幕并将目录更改为 $HOME/bin。host2 并将目录更改为 $HOME/prj。

这是我的脚本，但 chdir 不能工作。

```
#!/bin/bash

start_host() {
    screen ssh $1
    sleep 1
    screen -X chdir $2
}

[ x"$TERM" = x"screen" ] || exec screen -ln -S xxx -c /dev/null $0
sleep 1
screen -X zombie cr
screen -X caption always "%{= wk}%-w%{= BW}%n:%t%{-}%+w%-="

screen /bin/bash
start_host host1 bin
start_host host2 prj 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-23T06:18:28.657

这是我尝试错误后的解决方案。

```
#!/bin/bash
start_host() { # <host> <dir>
  screen ssh $1
  screen -X eval "stuff 'cd $2'" "stuff \015"
  screen -X select 0
}

[ x"$TERM" = x"screen" ] || exec screen -l -c /dev/null $0 $*
screen -X caption always "%{= wk}%-w%{= BW}%n:%t%{-}%+w%-="

start_host host1 bin
start_host host2 prj
read -p "Press enter to quit all windows" a
screen -X quit 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-15T14:22:47.097

我想，您的问题是您启动屏幕（在 function 中`start_host`）而不是处于分离模式。这意味着该命令会`screen ssh $1`阻止该功能，并且执行过程在完成之前无法继续`screen`。

我建议使用`-d -m`以分离模式启动屏幕：

```
start_host() {
  screen -d -m ssh $1
  sleep 1
  screen -X chdir $2
} 
```

# ruby-on-rails - 我如何按 created_at 的顺序列出所有评论？

> ID：10545073
> 
> 赞同：1
> 
> 时间：2012-05-11T03:33:51.390
> 
> 标签：ruby-on-rails, ruby-on-rails-3, mongodb, mongoid

我有：

```
class Article
  include Mongoid::Document

  embeds_many :comments
end

class Comment
  include Mongoid::Document

  embedded_in :article
end 
```

由于`Comment`是`Article`. 我将如何按顺序列出**所有**评论`created_at`？

我应该构造它以使 Comment 不是嵌入的，`Article`还是有上述模式的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T04:22:06.767

如果您尝试在他们文章的上下文之外查询评论，那么显然评论应该是顶级实体而不是嵌入式实体。

在嵌入式情况下，您可以使用 map-reduce 或聚合框架。常规查询语言在这里对您没有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T09:04:48.097

为什么不只是`default_scope :order => 'created_at DESC'`？（或 ASC）。

无论如何，您将希望它们在整个站点中保持一致的顺序。

# iphone - UIInterfaceOrientation 更改在子视图中不起作用

> ID：10545075
> 
> 赞同：0
> 
> 时间：2012-05-11T03:33:57.250
> 
> 标签：iphone, ios, ipad, uiinterfaceorientation

我正在向应用程序添加 UIInterfaceOrientation 更改。我的应用程序不是基于选项卡或导航的。我在其他之上添加子视图。

我浏览了文档为什么界面方向更改不起作用？ [http://developer.apple.com/library/ios/#qa/qa1688/_index.html](http://developer.apple.com/library/ios/#qa/qa1688/_index.html)

我发现主窗口控制界面方向的变化。

但是现在由于我的应用不是基于标签或基于导航的，还有什么方法可以实现吗？

PS：在我的应用程序中，只有启动屏幕才能正常工作，用于界面方向更改，而不是添加的子视图。

请帮忙

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T03:38:07.537

使用以下方法调整子视图的大小。或使用[autoresizingMask](http://developer.apple.com/library/ios/#documentation/uikit/reference/uiview_class/uiview/uiview.html)

```
 -(void)willAnimateRotationToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration
  {
    if(toInterfaceOrientation == UIInterfaceOrientationPortrait){

        viewInformationContainer.frame = CGRectMake(0, 61, 320, 403);// here you can change resize or subviews

    }
    else if (toInterfaceOrientation == UIInterfaceOrientationLandscapeRight || toInterfaceOrientation == UIInterfaceOrientationLandscapeLeft) {

        viewInformationContainer.frame = CGRectMake(0, 0, 480, 227);//here you can change resize or subviews

        }
} 
```

希望对你有帮助...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T04:24:31.800

阅读上面发布的评论，您面临的问题是我可以说您添加了子视图的层次结构。考虑以下情况

1）我将视图控制器（VC），导航控制器，标签栏控制器直接添加到窗口。后续视图将正确通知任何方向更改。

2）我向窗口添加了一个父视图控制器，然后将一些其他视图控制器的视图添加到我的父视图控制器中，在这种特殊情况下，您将在父 VC 中正确调用方向更改委托方法，但在随后的您已将其视图添加到父 VC 的视图控制器

我曾经在我的应用程序窗口中添加了一个基本视图控制器，其中基本控制器有一个 ScrollView ，后来我将四个视图控制器的子视图添加到滚动视图。

![在此处输入图像描述](../Images/3dd551ed3d8bdde6062c6788cb91654b.png)

*   (void)viewDidLoad {

    ```
    DNAppDelegate *appDelegate = (DNAppDelegate*)[UIApplication sharedApplication].delegate;

    CGRect viewCustormFrame = appDelegate.viewCustomTabBar.frame;
    viewCustormFrame.origin.y = self.view.frame.size.height-35;

    if(UIInterfaceOrientationIsPortrait([UIApplication sharedApplication].statusBarOrientation)) {
        viewCustormFrame.size.width = self.view.frame.size.width;
    }
    else {
        viewCustormFrame.size.width = self.view.frame.size.width;
    }

    [self.view addSubview:appDelegate.viewCustomTabBar];
    appDelegate.viewCustomTabBar.frame = viewCustormFrame;

    [srclViewMainContent addSubview:appDelegate.homeController.view];
    [srclViewMainContent addSubview:appDelegate.newsListController.view];
    [srclViewMainContent addSubview:appDelegate.columnController.view];
    [srclViewMainContent addSubview:appDelegate.whatsOnController.view];

    currentVisisbleController = appDelegate.homeController;

    [self resetAllSizes];
    [super viewDidLoad]; 
    ```

    }

在上述情况下，虽然我在基本 VC 中调用了所有方向委托方法，但在其他四个 VC 中没有调用 .. 所以我不得不调整类似的东西

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {
     DNAppDelegate *appDelegate = (DNAppDelegate*)[UIApplication sharedApplication].delegate;
    [appDelegate.homeController shouldAutorotateToInterfaceOrientation:interfaceOrientation];
    [appDelegate.newsListController shouldAutorotateToInterfaceOrientation:interfaceOrientation];
    [appDelegate.columnController shouldAutorotateToInterfaceOrientation:interfaceOrientation];
    [appDelegate.whatsOnController shouldAutorotateToInterfaceOrientation:interfaceOrientation];
    return (interfaceOrientation == UIInterfaceOrientationLandscapeLeft || interfaceOrientation == UIInterfaceOrientationPortrait);
}

- (void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration {
    DNAppDelegate *appDelegate = (DNAppDelegate*)[UIApplication sharedApplication].delegate;

    currentPageOffset = srclViewMainContent.contentOffset.x/srclViewMainContent.frame.size.width;
    [appDelegate.homeController willRotateToInterfaceOrientation:toInterfaceOrientation duration:(NSTimeInterval)duration];
    [appDelegate.newsListController willRotateToInterfaceOrientation:toInterfaceOrientation duration:(NSTimeInterval)duration];
    [appDelegate.columnController willRotateToInterfaceOrientation:toInterfaceOrientation duration:(NSTimeInterval)duration];
    [appDelegate.whatsOnController willRotateToInterfaceOrientation:toInterfaceOrientation duration:(NSTimeInterval)duration];
}

- (void)didRotateFromInterfaceOrientation:(UIInterfaceOrientation)fromInterfaceOrientation {

    DNAppDelegate *appDelegate = (DNAppDelegate*)[UIApplication sharedApplication].delegate;
    [self resetAllSizes];
    CGRect visibleRect = CGRectMake(currentPageOffset*srclViewMainContent.frame.size.width, 0, srclViewMainContent.frame.size.width, srclViewMainContent.frame.size.height);
    [srclViewMainContent scrollRectToVisible:visibleRect animated:NO];

    [appDelegate.homeController didRotateFromInterfaceOrientation:fromInterfaceOrientation];
    [appDelegate.newsListController didRotateFromInterfaceOrientation:fromInterfaceOrientation];
    [appDelegate.columnController didRotateFromInterfaceOrientation:fromInterfaceOrientation];
    [appDelegate.whatsOnController didRotateFromInterfaceOrientation:fromInterfaceOrientation];

} 
```

即从Base VC 在各自的VC 上调用这些委托方法。我必须这样做，因为我的应用程序已经完全构建，后来我不得不更改架构以允许在各种视图之间滚动，但我已经通过使用四个视图控制器实现了这些视图。

简而言之，任何直接添加到窗口的 VC（也包括导航控制器、选项卡栏控制器、拆分视图控制器）都会将这些方向更改委托方法传播给后续 VC，但视图控制器不会将这些委托方法传递给即将到来的 VC

我希望这能给你一些见解。以防万一您遇到任何好的解决方案，请发布作为答案并与我们所有人分享。

# python - IOError：[Errno 2]没有这样的文件或目录Python

> ID：10545077
> 
> 赞同：1
> 
> 时间：2012-05-11T03:34:04.510
> 
> 标签：python, file, file-io, io

我有这段代码，试图找到`*.vm`文件，并将它们发送给另一个

我做的模块，它应该读取这些行。

这是主文件：

```
def VMTranslte(fileName):
print "FILEOVER ",fileName
from parser import Parser
from codeWriter import CodeWriter
if (fileName[-3:] == ".vm"):
    outputFile = fileName[:-3]+".asm"
    myWrite = CodeWriter(outputFile)
    myWrite.setFileName(fileName)
    myParser = Parser(fileName)
    myWrite.setFileName(fileName);
    translate(myParser,myWrite)
else:
    if fileName[-1:] == "/": <===== CHECKS FOR DIRECTORY
        mystr = fileName.split('/')[-2]
        mystr = mystr.split('.')[0]+".asm"
        outputFile = fileName+mystr
    else:
        outputFile = fileName+".asm"
    myWrite = CodeWriter(outputFile)
    for child in os.listdir(fileName):
        if child.endswith('.vm'): <===== CHECK IF THERE IS *.vm FILE
            print "CHILD: ",child <===== PRINTS THE FILE WANTED (MEANING FINDS IT)
            myWrite.setFileName(child);
            myParser = Parser(child) <===== CALLS THE READER MODULE DESCRIBED AT THE BOTTOM
            translate(myParser,myWrite) 
myWrite.close() 
```

应该读取行的模块：

```
#Constructor for Parser module.
def __init__(self,fileName):
    import re
    self.cmds = []
    self.counter = 0
    myFile = open(fileName, 'r') <=====ERROR OVER HERE
    fLines = myFile.readlines()
    for value in fLines : 
        lineStrip = value.strip()
        if not (re.match("//",lineStrip) or len(lineStrip)==0):
            self.cmds.append(lineStrip) 
```

错误是：

```
 File "/Users/***/Desktop/dProj7/parser.py", line 19, in __init__
  myFile = open(fileName, 'r')
  IOError: [Errno 2] No such file or directory: 'BasicTest.vm' 
```

很明显，脚本找到了文件，（他进入第一个循环），

这是怎么回事？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T03:42:46.267

os.listdir 不包含路径，仅包含文件名。您可能想调用 Parser`os.path.join(fileName, child)`作为参数。

# perl - 在perl中使用fork时如何在子进程和父进程之间共享变量

> ID：10545078
> 
> 赞同：12
> 
> 时间：2012-05-11T03:34:25.463
> 
> 标签：perl, global-variables, ipc, fork, shared

我在我的代码中使用了 fork。在我的代码中调用 fork 之前，父进程声明了一个全局变量。因此，在 fork 调用之后，子进程会在自己的线程堆栈上获得全局变量的单独副本，或者共享全局变量的现有父实例。所以我想这里有三种可能性 1）子进程获得在父进程中声明的全局变量的单独实例 2）子进程与父线程共享全局变量。（这可能不是真的） 3）子进程没有任何关于父线程中全局变量的信息

如果 2 或 3 个选项为真，我想知道是否有任何方法可以获取全局变量及其在子进程中父线程中声明的“执行 fork() 时的状态/值”。

如此广泛地说，是否有任何方法可以访问父进程变量以及使用 fork() 创建的子进程中的状态。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-05-11T04:58:40.087

每个进程都有自己的内存空间。一个进程不能正常访问另一个进程的内存。

在 的情况下`fork`，子进程的内存空间作为父进程的精确副本开始。这包括变量、代码等。在一个中更改其中任何一个都不会更改另一个中的任何类似变量。

所以这是答案＃1。

* * *

即使可以，您应该问的问题也不是“我如何共享变量？” 但是“我如何交换数据？”。拥有一个受控通道不太容易出错，因为它提供了更松散的耦合和更少的远距离动作。

管道通常用于在父子之间进行通信，但还有许多其他选项。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T08:36:59.570

这是案例“1）子进程获得在父进程中声明的全局变量的单独实例”。

分离进程的意义在于分离内存。因此，一旦分叉发生，您就不能在父进程和子进程之间共享变量。

您应该查看[perlipc](http://perldoc.perl.org/perlipc.html)手册页，其中列出了进程间通信 (IPC) 的一些其他选项。并查看有关父子通信的其他 StackOverflow 问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-22T09:49:33.280

代码示例：

```
my $ipckey = IPC_PRIVATE;
my $idshm = shmget( $ipckey, 200, 0666 ) || die "\nCreation shared memory failed $! \n";

shmread( $idshm, $xxx, 0, 1 ) || warn "\n\n shmread $! \n";

shmwrite( $idshm, $xxx , 0, 1 ) || warn "\n\n shmwrite $! \n"; 
```

# gwt - 如何在 GWT menuItem 附近添加图标（首选 UI 活页夹代码）？

> ID：10545080
> 
> 赞同：0
> 
> 时间：2012-05-11T03:35:11.493
> 
> 标签：gwt, menuitem, css-sprites

也许这很简单，但我确实找到了解决方案。我只想在菜单项附近有一个图像（就像“黑色三角形”一样简单）。如果可以使用 UI 活页夹，那就更好了。我只知道有 .setHTML(html) 函数...我想要一个示例，其中要加载的图像（“黑色三角形”）是一个精灵...

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T10:34:20.043

如果你想使用精灵，你基本上可以从这个答案[https://stackoverflow.com/a/4548524/291741改编这个例子](https://stackoverflow.com/a/4548524/291741)

然后你可以简单地设置精灵`<div>`：

```
<g:MenuBar>
  <g:MenuItem>Tools
    <g:MenuBar vertical="true">
      <g:MenuItem>
        <div class="{myResources.myCss.myBackground}"/> Triangle
      </g:MenuItem>
    </g:MenuBar>
  </g:MenuItem>
</g:MenuBar> 
```

~~`<g:Image resource="..."/>`但是使用 a不是更容易吗？~~（不，见评论）

# xml - 这个 XML 导入有问题吗？

> ID：10545083
> 
> 赞同：0
> 
> 时间：2012-05-11T03:35:56.517
> 
> 标签：xml, wsdl, xsd, suds

我正在使用一个导致我的 SOAP 客户端 (Python SUDS) 出现问题的 WSDL。在开发人员添加`<xs:import>`到 WSDL 之前，我的 SOAP 客户端正在工作，但现在它阻塞了我的 SOAP 客户端。

奇怪的是，一些命名空间引用了一个不存在的命名空间 URL。即使它没有解决，我也能够在它工作时调用 SOAP 方法。

我的感觉是进口造成了问题。任何人都可以验证此 WSDL 片段是否正确或有效？[这个](https://fedorahosted.org/suds/wiki/TipsAndTricks#Schema-TypeNotFound)页面让我相信一个`schemaLocation`属性是必要的，但我什至不知道该放什么。

```
<wsdl:definitions xmlns:ns1="http://org.apache.axis2/xsd" 
  xmlns:ns="http://sdk.mc.nonexistent.com" xmlns:nsv1="http://v1.sdk.mc.nonexistent.com" 
  xmlns:wsaw="http://www.w3.org/2006/05/addressing/wsdl" 
  xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" 
  xmlns:mcxsv1="http://v1.sdk.mc.nonexistent.com/xsd" 
  xmlns:mcxs="http://sdk.mc.nonexistent.com/xsd" 
  xmlns:xs="http://www.w3.org/2001/XMLSchema" 
  xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" 
  xmlns:soap12="http://schemas.xmlsoap.org/wsdl/soap12/" 
  targetNamespace="http://sdk.mc.nonexistent.com">

<wsdl:types>
<xs:schema attributeFormDefault="qualified" elementFormDefault="qualified" targetNamespace="http://sdk.mc.nonexistent.com/xsd">
  ...
</xs:schema>
<xs:schema attributeFormDefault="qualified" elementFormDefault="qualified" targetNamespace="http://v1.sdk.mc.nonexistent.com/xsd">
  <xs:import namespace="http://sdk.mc.nonexistent.com/xsd"/>
  <xs:complexType name="MethodFault_v1">
    <xs:choice>
      <xs:element minOccurs="0" name="faultMessage" type="xs:string"/>
      <xs:element minOccurs="0" name="event" type="mcxs:EventMoref"/>
      <xs:element minOccurs="0" name="eventData" type="mcxs:EventData"/>
    </xs:choice>
  </xs:complexType>
...
</xs:schema> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T04:04:57.093

您是正确的，导入可能是问题的根源。命名空间通常由看起来像 URL 的字符串组成，尽管它们只是用作唯一的字符串。在 URL 实际解析的地方，它可以帮助解决您在此处遇到的问题，即拉入命名空间中定义的类型。

import 语句的目的是将命名空间与定义命名空间组件的模式文件连接起来。正确的格式是：

```
<xs:import namespace="http://sdk.mc.nonexistent.com/xsd" schemaLocation="{schema file URL}" /> 
```

其中模式文件 URL 可以是与 wsdl 位于同一位置的文件的名称、文件系统路径或可通过网络访问的某个 URL。

如果 WSDL 中没有组件使用这些名称空间的类型，则可以使用对名称空间的引用而不支持定义（模式）的 wsdl。在这种情况下，EventMoref 和 EventData 类型来自缺少的模式，如果没有模式文件，则无法正确使用 WSDL。

如果您可以访问服务提供商，最好的办法是询问丢失模式的位置。

# html - css 不会加载，资源被解释为样式表，但使用 MIME 类型 application/x-httpd-php 传输

> ID：10545085
> 
> 赞同：1
> 
> 时间：2012-05-11T03:36:07.420
> 
> 标签：html, hyperlink, http-headers

我已经尝试了一切，但无法弄清楚这一点，我对服务器和设置它们并不十分了解，该网站所在的公司决定在 GoDaddy 服务器上运行他们的网站，这让我相信这可能是这个问题，但我会尽力解释这个问题。

我有一个简单的 HTML 页面，带有一些 css ...当 css 包含在页面本身上时，它可以正常工作。

IE

```
<html>
<head>
     <style>
#topbanner {
position:absolute;
top: 0;
height: 40px;
width:100%;
background-color:#000;
opacity: .5;
}
#map {
margin: 0 auto;
background: url(img/jeanmap.png);
height:679px;
width: 1024px;
position: relative;
}
      </style>
</head>
<body>
   etc... etc... 
```

但是，当我通过样式表链接相同的 css 样式时，我的页面上什么也没有，实际上什么也没有。

IE

```
 <html>
<head>
<link href="css/style.css" rel="stylesheet" type="text/css" />
</head>
<body>
   etc... etc... 
```

在 Firefox 中测试时，我没有收到任何错误，我可以看到 .css 文件中的所有样式并且可以下载它，在 Chrome 中我看不到我的样式但可以下载它，在 Chrome 中我收到以下错误，`Resource interpreted as Stylesheet but transferred with MIME type application/x-httpd-php`

我还链接到一些 javascript 脚本，这些脚本给出了相同的错误但确实加载了，但显然没有任何作用，因为我的 css 是空的。

这里到底是什么问题，我以前从未发生过这种情况，我很迷茫。

我不相信它是服务器问题，因为在根文件夹中我做同样的事情并且工作正常，这只是在一个文件夹中，它仍然无法在那里工作

澄清这是我的文件结构

```
root/

    index.php
    css/
    img/
    js/
    problematic folder/
                  index.php
                  css/
                     style.css
                  img/
                  js/ 
```

有另一个 css 文件夹和另一个 img 文件夹和另一个 js 文件夹的原因是因为这是一个辅助项目，最终将在它自己的服务器上结束，但现在为了测试和制定它嵌套在我的服务器上的设计。

我的根文件夹中有一个我的 .htaccess，其中包含以下内容...

```
# add various mime types
AddType text/html .html .htm
AddType image/x-icon .ico
AddType text/css .css
AddType text/javascript .js
AddType audio/mpeg .mp3
AddType audio/mp4 .m4a
AddType audio/ogg .ogg
AddType audio/ogg .oga
AddType audio/webm .webma
AddType audio/wav .wav
AddType video/mp4 .mp4
AddType video/webm .webm
AddType video/ogg .ogg 
```

并且还尝试在有问题的目录中添加一个 htaccess 文件，但这也没有帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T04:17:03.353

这可能是服务器配置问题。如果您使用的是 Apache 看[这里](http://httpd.apache.org/docs/current/mod/mod_mime.html#addtype)。

```
AddType text/css .css 
```

# javascript - 如何使用“q”模块重构猫鼬代码？

> ID：10545087
> 
> 赞同：17
> 
> 时间：2012-05-11T03:36:21.983
> 
> 标签：javascript, asynchronous, mongoose, promise, q

我正在使用 mongoose 将一些数据插入 mongodb。代码如下所示：

```
var mongoose = require('mongoose');
mongoose.connect('mongo://localhost/test');
var conn = mongoose.connection;

// insert users
conn.collection('users').insert([{/*user1*/},{/*user2*/}], function(err, docs) {
    var user1 = docs[0], user2 = docs[1];

    // insert channels
    conn.collection('channels').insert([{userId:user1._id},{userId:user2._id}], function(err, docs) {
        var channel1 = docs[0], channel2 = docs[1];

        // insert articles
        conn.collection('articles').insert([{userId:user1._id,channelId:channel1._id},{}], function(err, docs) {
            var article1 = docs[0], article2 = docs[1];

        }
    });
}; 
```

你可以看到那里有很多嵌套的回调，所以我正在尝试使用[q](https://github.com/kriskowal/q)来重构它。

我希望代码看起来像：

```
Q.fcall(step1)
.then(step2)
.then(step3)
.then(step4)
.then(function (value4) {
    // Do something with value4
}, function (error) {
    // Handle any error from step1 through step4
})
.end(); 
```

但我不知道该怎么做。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-05-11T14:54:38.247

您需要使用[README](https://github.com/kriskowal/q#adapting-node)和 Wiki中的`Q.nfcall`文档。所有的 Mongoose 方法都是 Node 风格的。我还将使用而不是手动解构。`.spread``.then`

```
var mongoose = require('mongoose');
mongoose.connect('mongo://localhost/test');
var conn = mongoose.connection;

var users = conn.collection('users');
var channels = conn.collection('channels');
var articles = conn.collection('articles');

function getInsertedArticles() {
    return Q.nfcall(users.insert.bind(users), [{/*user1*/},{/*user2*/}]).spread(function (user1, user2) {
        return Q.nfcall(channels.insert.bind(channels), [{userId:user1._id},{userId:user2._id}]).spread(function (channel1, channel2) {
            return Q.nfcall(articles.insert.bind(articles), [{userId:user1._id,channelId:channel1._id},{}]);
        });
    })
}

getInsertedArticles()
    .spread(function (article1, article2) {
        // you only get here if all three of the above steps succeeded
    })
    .fail(function (error) {
        // you get here if any of the above three steps failed
    }
); 
```

在实践中，您很少会想要使用`.spread`，因为您通常会插入一个您不知道其大小的数组。在这种情况下，代码可能看起来[更像这样](https://gist.github.com/2660323)（这里我也说明了`Q.nbind`）。

* * *

与原始版本比较不太公平，因为您的原始版本没有错误处理。原版的更正节点样式版本如下所示：

```
var mongoose = require('mongoose');
mongoose.connect('mongo://localhost/test');
var conn = mongoose.connection;

function getInsertedArticles(cb) {
    // insert users
    conn.collection('users').insert([{/*user1*/},{/*user2*/}], function(err, docs) {
        if (err) {
            cb(err);
            return;
        }

        var user1 = docs[0], user2 = docs[1];

        // insert channels
        conn.collection('channels').insert([{userId:user1._id},{userId:user2._id}], function(err, docs) {
            if (err) {
                cb(err);
                return;
            }

            var channel1 = docs[0], channel2 = docs[1];

            // insert articles
            conn.collection('articles').insert([{userId:user1._id,channelId:channel1._id},{}], function(err, docs) {
                if (err) {
                    cb(err);
                    return;
                }

                var article1 = docs[0], article2 = docs[1];

                cb(null, [article1, article2]);
            }
        });
    };
}

getInsertedArticles(function (err, articles) {
    if (err) {
        // you get here if any of the three steps failed.
        // `articles` is `undefined`.
    } else {
        // you get here if all three succeeded.
        // `err` is null.
    }
}); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-11T16:08:19.547

使用替代的[延迟](https://github.com/medikoo/deferred)承诺实现，您可以执行以下操作：

```
var mongoose = require('mongoose');
mongoose.connect('mongo://localhost/test');
var conn = mongoose.connection;

// Setup 'pinsert', promise version of 'insert' method
var promisify = require('deferred').promisify
mongoose.Collection.prototype.pinsert = promisify(mongoose.Collection.prototype.insert);

var user1, user2;
// insert users
conn.collection('users').pinsert([{/*user1*/},{/*user2*/}])
// insert channels
.then(function (users) {
  user1 = users[0]; user2 = users[1];
  return conn.collection('channels').pinsert([{userId:user1._id},{userId:user2._id}]);
})
// insert articles
.match(function (channel1, channel2) {
  return conn.collection('articles').pinsert([{userId:user1._id,channelId:channel1._id},{}]);
})
.done(function (articles) {
  // Do something with articles
}, function (err) {
   // Handle any error that might have occurred on the way
}); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-12-09T16:24:47.827

考虑[Model.save](http://mongoosejs.com/docs/api.html#model_Model-save)而不是[Collection.insert](http://mongoosejs.com/docs/api.html#collection_Collection-insert)（在我们的例子中完全一样）。

**你不需要使用[Q](https://github.com/kriskowal/q)**，你可以自己包装[save](http://mongoosejs.com/docs/api.html#model_Model-save)方法并直接返回一个[Mongoose Promise](http://mongoosejs.com/docs/api.html#promise_Promise)。

首先创建一个实用方法来包装保存函数，这不是很干净，但类似于：

```
 //Utility function (put it in a better place)
  var saveInPromise = function (model) {

    var promise = new mongoose.Promise();

    model.save(function (err, result) {
      promise.resolve(err, result);
    });

    return promise;
  } 
```

然后你可以使用它而不是 save 来链接你的承诺

```
 var User = mongoose.model('User');
  var Channel = mongoose.model('Channel');
  var Article = mongoose.model('Article');

  //Step 1
  var user = new User({data: 'value'});
  saveInPromise(user).then(function () {

    //Step 2
    var channel = new Channel({user: user.id})
    return saveInPromise(channel);

  }).then(function (channel) {

    //Step 3
    var article = new Article({channel: channel.id})
    return saveInPromise(article);

  }, function (err) {
    //A single place to handle your errors

  }); 
```

我想这就是我们正在寻找的那种简单……对吧？当然，实用功能可以通过与 Mongoose 更好的集成来实现。

让我知道你对此有何看法。

* * *

顺便说一下，Mongoose Github 中有一个关于这个确切问题的问题：

*   **[为模型保存操作添加“承诺”返回值](https://github.com/LearnBoost/mongoose/issues/1431)**

我希望它会很快得到解决。我认为这需要一些时间，因为他们正在考虑从[mpromise](https://github.com/aheckmann/mpromise)切换到[Q](https://github.com/kriskowal/q)：请参阅[此处](https://github.com/LearnBoost/mongoose/issues/1446)和[此处](https://github.com/LearnBoost/mongoose/issues/1699)。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-04-14T19:41:51.247

两年后，这个问题刚刚出现在我的 RSS 客户端...

自 2012 年 5 月以来，事情发生了一些变化，我们现在可能会选择以不同的方式解决这个问题。更具体地说，自从决定`Array.prototype.reduce`在 ECMAScript5 中包含（和其他数组方法）以来，Javascript 社区已经变得“具有减少意识”。`Array.prototype.reduce`一直（并且仍然）可以作为 polyfill 使用，但当时我们中的许多人都很少欣赏它。当然，那些走在曲线前面的人可能会反对这一点。

问题中提出的问题似乎是公式化的，规则如下：

*   数组中的对象作为第一个参数传递，`conn.collection(table).insert()`构建如下（其中`N`对应于对象在数组中的索引）：
    *   [ {}, ... ]
    *   [ {userId:userN._id}, ... ]
    *   [ {userId:userN._id, channelId:channelN._id}, ... ]
*   表名（按顺序）是 : `users`, `channels`, `articles`.
*   对应的对象属性是 : `user`, `channel`, `article`（即不带复数“s”的表名）。

[Taoofcode](http://taoofcode.net/promise-anti-patterns/)的这篇文章中的一个通用模式，用于进行串行异步调用：

```
function workMyCollection(arr) {  
    return arr.reduce(function(promise, item) {
        return promise.then(function(result) {
            return doSomethingAsyncWithResult(item, result);
        });        
    }, q());
} 
```

通过非常轻松的适应，可以使用此模式来编排所需的顺序：

```
function cascadeInsert(tables, n) {
    /* 
    /* tables: array of unpluralisd table names
    /* n: number of users to insert.
    /* returns promise of completion|error
     */
    var ids = []; // this outer array is available to the inner functions (to be read and written to).
    for(var i=0; i<n; i++) { ids.push({}); } //initialize the ids array with n plain objects.
    return tables.reduce(function (promise, t) {
        return promise.then(function (docs) {
            for(var i=0; i<ids.length; i++) {
                if(!docs[i]) throw (new Error(t + ": returned documents list does not match the request"));//or simply `continue;` to be error tolerant (if acceptable server-side).
                ids[i][t+'Id'] = docs[i]._id; //progressively add properties to the `ids` objects
            }
            return insert(ids, t + 's');
        });
    }, Q());
} 
```

最后，这是返回承诺的工作函数`insert()`：

```
function insert(ids, t) {
    /* 
    /* ids: array of plain objects with properties as defined by the rules
    /* t: table name.
    /* returns promise of docs
     */
    var dfrd = Q.defer();
    conn.collection(t).insert(ids, function(err, docs) {
        (err) ? dfrd.reject(err) : dfrd.resolve(docs);
    });
    return dfrd.promise;
} 
```

因此，您可以指定传递给`cascadeInsert`的参数、实际表/属性名称和要插入的用户数。

```
cascadeInsert( ['user', 'channel', 'article'], 2 ).then(function () {
   // you get here if everything was successful
}).catch(function (err) {
   // you get here if anything failed
}); 
```

这很好用，因为问题中的表格都有常规复数形式（用户 => 用户，频道 => 频道）。如果其中任何一个是不规则的（例如刺激 => 刺激，孩子 => 孩子），那么我们需要重新考虑 - （并且可能实现查找哈希）。无论如何，适应将是相当微不足道的。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-09-17T11:53:46.590

今天我们也有[mongoose-q](https://github.com/iolo/mongoose-q)。一个 mongoose 插件，它为您提供诸如 execQ 和 saveQ 之类的东西，它们返回 Q 承诺。

# python - 递归查找已更改的文件

> ID：10545096
> 
> 赞同：1
> 
> 时间：2012-05-11T03:37:00.750
> 
> 标签：python

我正在尝试编写一个简单的脚本来递归地翻阅目录并检查是否有任何文件已更改。到目前为止，我只有遍历：

```
import fnmatch
import os 
from optparse import OptionParser

rootPath = os.getcwd() 
pattern = '*.js' 

for root, dirs, files in os.walk(rootPath):    
    for filename in files:        
        print( os.path.join(root, filename)) 
```

我有两个问题：

**1\. 如何判断文件是否被修改？**

**2\. 如何查看目录是否被修改？**- 我需要这样做，因为我希望遍历的文件夹*很大*。如果我可以检查目录是否已被修改并且不会递归地翻阅未更改的目录，这将有*很大*帮助。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T03:43:31.340

如果要比较两个文件夹之间的两个文件，则可以对这两个文件使用[os.path.getmtime()](http://docs.python.org/library/os.path.html#os.path.getmtime)并比较结果。如果它们相同，则它们没有被修改。请注意，这将适用于文件和文件夹。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T03:46:41.893

判断文件是否已被修改的典型快速方法是使用`os.path.getmtime(path)`（假设是 Linux 或类似环境）。这将为您提供修改时间戳，您可以将其与存储的时间戳进行比较以确定文件是否已被修改。

`getmtime()`也适用于目录，但它只会告诉您文件是否已在目录中添加、删除或重命名；它不会告诉您目录中的文件是否已被修改。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T07:58:10.000

这是我自己对您可能正在寻找的内容的实现。请注意，除了时间戳之外，您可能还想跟踪已添加或删除的文件（就像我一样）。如果没有，您可以在线更改代码：

```
if now == before: 
```

这是代码：

```
# check if any txt file in folder "wd" has been modified (rewritten added or deleted)
def src_dir_modified(wd):
    now = []
    global before
    all_files = glob.glob(os.path.join(wd,'*.txt'))

    for infile in all_files:
        now.append([infile, os.stat(infile).st_mtime])
    if now == before: # compare files and their time stamps
        return False
    else:
        before = now
        print 'Source code has been modified.'
        return True 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-11T08:26:32.990

如果您可以承认使用命令行工具，则可以使用`rsync`而不是重新发明轮子。`rsync`使用文件修改时间和文件大小来确定文件是否已更改。

`rsync --verbose --recursive --dry-run dir1 dir2``dir1`应该得到和中的文件之间的差异`dir2`。您可以将输出写入日志文件以对其进行操作。

# iphone - 当手机进入待机模式时，iPhone 上的 WebSocket 连接断开

> ID：10545097
> 
> 赞同：1
> 
> 时间：2012-05-11T03:37:01.373
> 
> 标签：iphone, safari, websocket, socket.io

我有一个 Web 应用程序，可以在页面就绪时创建到服务器的 WebSocket 连接。但是，一旦手机进入睡眠/待机状态然后我将其唤醒，应用程序似乎已失去该连接。这是预期的吗？如何在我的 Safari 网页中对此进行编码，以便我可以检测连接丢失并检测手机何时退出待机状态以便我可以重新连接？我在后端使用 node.js，在服务器和客户端使用 socket.io 库。

谢谢！

# sql - 获取 LEFT OUTER JOIN 的第一行

> ID：10545098
> 
> 赞同：2
> 
> 时间：2012-05-11T03:37:02.030
> 
> 标签：sql, oracle, left-join

我有 3 张桌子：

```
(SELECT DISTINCT ID
FROM IDS)a
LEFT OUTER JOIN
(SELECT NAME, ID
FROM NAMES)b
ON a.ID = b.ID
LEFT OUTER JOIN
(SELECT ADDRESS FROM ADDRESSES
WHERE ROWNUM <2
ORDER BY UPDATED_DATE DESC)c
ON a.ID = c.ID 
```

一个 ID 只能有一个名称，但可以有多个地址。我只想要最新的。即使我猜有一个地址，此查询也会将地址返回为 null，因为它只从表中获取第一个地址，然后尝试将其 LEFT JOIN 连接到它找不到的地址的 ID。编写此查询的正确方法是什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-11T04:21:55.160

尝试**保持 DENSE_RANK**

数据源：

```
CREATE TABLE person
    (person_id int primary key, firstname varchar2(4), lastname varchar2(9))
/
INSERT ALL
    INTO person (person_id, firstname, lastname)
         VALUES (1, 'john', 'lennon')
    INTO person (person_id, firstname, lastname)
         VALUES (2, 'paul', 'mccartney')
SELECT * FROM dual;

CREATE TABLE address
    (person_id int, address_id int primary key, city varchar2(8))
/
INSERT ALL
    INTO address (person_id, address_id, city)
         VALUES (1, 1, 'new york')
    INTO address (person_id, address_id, city)
         VALUES (1, 2, 'england')
    INTO address (person_id, address_id, city)
         VALUES (1, 3, 'japan')
    INTO address (person_id, address_id, city)
         VALUES (2, 4, 'london')
SELECT * FROM dual; 
```

询问：

```
 select  

      p.person_id, p.firstname, p.lastname,

      x.recent_city

    from person p
    left join (

        select person_id,      

            min(city) -- can change this to max(city). will work regardless of min/max

            -- important you do this to get the recent: keep(dense_rank last)

            keep(dense_rank last order by address_id) 
               as recent_city

        from address 
        group by person_id

    ) x on x.person_id = p.person_id 
```

现场测试：[http ://www.sqlfiddle.com/#!4/7b1c9/2](http://www.sqlfiddle.com/#!4/7b1c9/2)

* * *

并非所有数据库都具有与 Oracle 的 KEEP DENSE_RANK 窗口函数类似的功能，您可以改用普通窗口函数：

```
select  

  p.person_id, p.firstname, p.lastname,

  x.recent_city, x.pick_one_only

from person p
left join (

    select 

        person_id,      

        row_number() over(partition by person_id order by address_id desc) as pick_one_only,
        city as recent_city

    from address 

) x on x.person_id = p.person_id and x.pick_one_only = 1 
```

现场测试：[http ://www.sqlfiddle.com/#!4/7b1c9/48](http://www.sqlfiddle.com/#!4/7b1c9/48)

* * *

或者使用元组测试，应该在不支持窗口功能的数据库上工作：

```
select  

  p.person_id, p.firstname, p.lastname,

  x.recent_city

from person p
left join (

    select   
        person_id,city as recent_city    
    from address 
    where (person_id,address_id) in

          (select person_id, max(address_id)
           from address
           group by person_id)

) x on x.person_id = p.person_id 
```

现场测试：[http ://www.sqlfiddle.com/#!4/7b1c9/21](http://www.sqlfiddle.com/#!4/7b1c9/21)

* * *

不过，并非所有数据库都支持像前面代码中那样的元组测试。您可以使用 JOIN 代替：

```
select  

  p.person_id, p.firstname, p.lastname,

  x.recent_city

from person p
left join (

    select 

        address.person_id,address.city as recent_city

    from address 
    join 
    (
          select person_id, max(address_id) as recent_id
           from address
           group by person_id
    ) r 
    ON address.person_id = r.person_id
    AND address.address_id = r.recent_id

) x on x.person_id = p.person_id 
```

现场测试：[http ://www.sqlfiddle.com/#!4/7b1c9/24](http://www.sqlfiddle.com/#!4/7b1c9/24)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-11T03:52:51.220

您可以使用分析功能`RANK`

```
(SELECT DISTINCT ID
   FROM IDS) a
LEFT OUTER JOIN
(SELECT NAME, ID
   FROM NAMES) b
ON a.ID = b.ID
LEFT OUTER JOIN
(SELECT ADDRESS ,
        rank() over (partition by id
                         order by updated_date desc) rnk
   FROM ADDRESSES) c
ON (    a.ID = c.ID 
    and c.rnk = 1) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-11T03:53:08.313

目前无法访问任何数据库，您应该能够做到

```
(SELECT DISTINCT ID 
    FROM IDS) a LEFT OUTER JOIN
(SELECT NAME, ID 
    FROM NAMES)b ON a.ID = b.ID LEFT OUTER JOIN
(SELECT TOP 1 ADDRESS 
    FROM ADDRESSES 
    ORDER BY UPDATED_DATE DESC) c ON a.ID = c.ID 
```

如您所见，“地址”处的“TOP 1”将仅返回结果集的第一行。另外，你确定 a.ID 和 c.ID 是一样的吗？
我想您需要类似 .... c ON a.ID = c.AddressID 如果没有，我不完全确定您如何将多个地址链接到一个 ID。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-11T04:00:45.123

```
(SELECT DISTINCT ID
FROM IDS)a
LEFT OUTER JOIN
(SELECT NAME, ID
FROM NAMES)b
ON a.ID = b.ID
LEFT OUTER JOIN
(SELECT ADDRESS, ROWNUMBER() OVER(PARTITON BY ID ORDER BY UPDATED_DATE DESC) RN
 FROM ADDRESSES 
)c
ON a.ID = c.ID
where c.RN=1 
```

# php - 在php中比较不同季节的日期

> ID：10545099
> 
> 赞同：1
> 
> 时间：2012-05-11T03:37:02.917
> 
> 标签：php, date

嗨，我使用php存储了一个从表单中获取的日期，现在我想检查日期是否在季节中。我编写的代码如下：

```
$year = 2012;
$month1 = $_POST["month1"];
$date = $_POST["date"];
$result = "{$year}/{$month1}/{$date}";
echo $result; 
```

现在

```
// finding first saturday in febraury
    $saturday = strtotime('First Saturday '.date('F o', mktime(0,0,0, $month, 1, $year)));
    echo "this is the first saturday in the given year:";
    echo date('Y/m/d', $saturday);

 // calculating first 12 weeks after the first saturday
    echo "<br/>";
    $season1 = strtotime ( '+12 week' , $saturday);
    echo "<br/>this is the first season:";
    echo date('Y/m/d', $season1);
    echo "<br/>";

 // calculating the one week gap after the first 12 weeks
    $season2 = strtotime ('+1 week' , $season1);
    echo "<br/>this is the first week break:";
    echo date('Y/m/d', $season2);
    echo "<br/>"; 
```

在这里我需要做的是检查用户给出的日期是在第 1 季还是第 2 季..为此我尝试了

```
if ($result <= $season1)
    {
     echo "League yet to be opened";
    }
    else 
    {
    echo "league 1 is opened";
    } 
```

但是这里没有检查条件，同样我需要检查用户输入的日期有 8 个季节我该怎么做.. 非常感谢任何帮助.. 提前谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T04:16:15.193

我建议你使用这样的代码和逻辑组织

从 POSTed 定义当前日期

不要忘记确保数据是安全的

年、月和日（日）必须是数字，才能使此逻辑起作用。

```
$year = 2012;
$month1 = $_POST["month1"];
$date = $_POST["date"]; 
```

定义你的季节数组

```
$seasons = array(
   1 => array(
              'season_name' => 'first_season',
              'year_start' => 2012, 'year_end' => 2012, 
              'month_start' => 1, 'month_end' => 2, 
              'day_start' => 10, 'day_end' => 20
              ), 
   2 => array(
              'season_name' => 'second_season',
              'year_start' => 2012, 'year_end' => 2012, 
              'month_start' => 2, 'month_end' => 3, 
              'day_start' => 30, 'day_end' => 15
              ) 
 ); 
```

处理数据以定义季节

```
$season_match = array();
foreach($seasons as $season){
   if($year >= $season['year_start']) && if($year <= $season['year_end']){
       if($month >= $season['month_start']) && if($season<= $season['month_end']){
           if($date >= $season['date_start']) && if($season<= $season['date_end']){
               $seasons_match[] = $season['season_name'];
           }
       }
   }
} 
```

测试错误并回显结果季节

```
if(count($season_match) == 0){
   echo 'Date is out of any season';
}
esleif(count($season_match) >1){
   echo 'ERROR: Date can be for more then one season at once';
}
else{
   echo $season_match; // This is the name of our season!
} 
```

这是简单而清晰地解决您的任务的一般逻辑，我没有测试过。

# javascript - 在 jQuery 中添加字符串

> ID：10545104
> 
> 赞同：0
> 
> 时间：2012-05-11T03:37:21.607
> 
> 标签：javascript, jquery, string, operator-keyword

我需要在 jQuery 中获取一个字符串来确定一个整数值，然后将字母“px”添加到字符串中。

所以，这就是我所拥有的：

```
$(function(){
    var embed_height = $('.embedheight').height();
    if( embed_height < 160 )
    {
        var imheight = embed_height-10;
        var infowidth = imheight+10+"px";                    
            $('.embedinfo').css('left','infow');
    }
}); 
```

我需要的是变量 infowidth 例如`135px`

目前，该 jQuery 函数不起作用

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T03:39:07.923

为什么？jQuery 会自动将单位 (px) 转换为整数：

```
var infowidth = imheight+10;
$('.embedinfo').css('left', infowidth); 
```

[在这里](http://jsfiddle.net/rjzaworski/QF3Bn/)玩弄它。

# c# - 无法从配置中获取 FileInfo

> ID：10545122
> 
> 赞同：0
> 
> 时间：2012-05-11T03:39:59.680
> 
> 标签：c#, configuration, app-config

```
<configuration>
  <configSections>
  <sectionGroup name="loggingConfigs">

    <section name="LoggingParameters"
          type="Framework.Logging.LoggingParameters, Framework.Logging" />

  </sectionGroup>
    </configSections>

  <loggingConfigs>

    <LoggingParameters

        myconfig="C:mydir\mypath1\mypath2\log4net.config" 

      />

  </loggingConfigs>
</configuration>   

public class LoggingParameters : ConfigurationSection
{

    [ConfigurationProperty("myconfig", IsRequired = true)]
    private string ConfigFileLoc
    {
        get { return (string)this["myconfig"]; }
    }

    public FileInfo MyConfigFile
    {
        get
        {
            string s = ConfigFileLoc;  <--- getting empty string here..don't know why
            return new FileInfo(s);
        }

    }
} 
```

当我在我的应用程序的其他地方进行以下调用时，

```
FileInfo f = new Framework.Logging.LoggingParameters().MyConfigFile; 
```

**ConfigFileLoc 总是返回空白。**我不知道为什么它是空白**的..为什么字符串是空的**..请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T04:22:38.633

我不得不删除 SectionGroup （不知道这是否对你有要求）

```
 <configSections>    
      <section name="LoggingParameters"
            type="Framework.Logging.LoggingParameters, Framework.Logging" />      
  </configSections>
  <LoggingParameters myconfig="C:mydir\mypath1\mypath2\log4net.config" /> 
```

并使用此代码获取 FileInfo（路径不再为空）

```
LoggingParameters config = (LoggingParameters)ConfigurationSettings.GetConfig("LoggingParameters");
FileInfo fInfo = config.MyConfigFile; 
```

[Scott Mitchell 的这篇文章](http://www.4guysfromrolla.com/articles/032807-1.aspx)可能会对您有所帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T04:34:07.807

我会避免手动编写配置访问代码。foob​​ar 太容易了。查看这个插件，它可以让您直观地设计您的配置。让它为您编写样板代码，而您只专注于可视化设计器和您的问题域。

[http://csd.codeplex.com/](http://csd.codeplex.com/)

# html - CSS 无法正确显示内容

> ID：10545126
> 
> 赞同：0
> 
> 时间：2012-05-11T03:40:39.900
> 
> 标签：html, css

我正在尝试为我自己的博客创建一个社交小部件，但我不知道为什么当我所有内容都有效时，我的意思是没有语法错误并且没有正确显示在我的博客上？

代码很长，我想我不应该把它包括在这里吗？

所以我确实在这里包含了代码[http://jsfiddle.net/naKEv/](http://jsfiddle.net/naKEv/)

我试图让它类似于这个

![在此处输入图像描述](../Images/737fd031902875312ef85502d631a4cc.png)

但是当它显示在我的博客上时，我的显示不正确。

我也在使用 css sprices 来组合图片，但我想这不是问题，因为如果我使用表格来创建代码，它仍然会显示但不是它应该的方式。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T03:47:54.627

`#share_icons`您已经固定了删除它的高度。

[演示](http://jsfiddle.net/naKEv/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T03:48:06.203

请检查您的 TAG 的检查：

```
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></span></a>
        </th> 
```

您的`</th>`, `</span>`&`</a>`已关闭但未开始检查。

# editor - Sublime tmLanguage 文件和 sublime-settings 文件

> ID：10545130
> 
> 赞同：4
> 
> 时间：2012-05-11T03:41:11.633
> 
> 标签：editor, text-editor, sublimetext, textmatebundles, sublimetext2

我有两个关于 Sublime Text Editor 2 的问题。

**我的第一个问题是，**我在 Packages/User 文件夹中保存了几个不同的 .tmLanguage 文件（例如：Console.tmLanguage）或 .tmbundle（例如：Handlebars.tmbundle）。但是当初始加载时它不会被 Sublime 检测到。如果我将它们移动到 Package 文件夹下，sublime 会将它们视为颜色语法设置。

我认为所有内容都应该存储在用户文件夹中，以便在更新或任何其他可能的覆盖情况时不会被删除。**当它们存储在用户文件夹中时，我该怎么做才能让 sublime 看到这些文件。**

我已经将这些文件移动了几个不同的位置。当我初始化 sublime 时，我收到此错误“加载语法文件“Packages/User/Console.tmLanguage”时出错：解析 plist xml 时出错：无法在文件“Packages/User/Console.tmLanguage”中打开文件“

我对此错误进行了研究，其中一个文件可能使用了已缓存的颜色设置。我不记得哪个在使用它。**如何清除所有缓存以消除此初始加载错误？**

**我的第二个问题是**，我正在通过 Dropbox 共享 Windows 和 Mac 的 Preferences.sublime-settings 文件。但是Mac有高分辨率，window没有。Mac 需要 21 的字体大小才能在 Windows 上显示相同的大小（ font-size: 14 ）。每次同步设置时，我都必须从设置文件中切换此值。所以我创建了两个不同的文件，Preferences (OSX).sublime-settings 和 Preferences (Windows).sublime-settings 只保存字体大小设置。它似乎适用于 Windows，但 Mac 只是忽略该文件，根本没有应用字体大小。它太小了，我看不到。**任何想法我该如何解决？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-07-29T06:32:00.913

我解决了第二个问题（即消除显示差异）如下：

1.  创建将“镜像” Default.sublime-package 的默认文件夹：

窗口 7：

```
%USERPROFILE%\AppData\Roaming\Sublime Text 3\Packages\Default 
```

Mac OS X：

```
~/Library/Application Support/Sublime Text 3/Packages/Default 
```

从 Default.sublime-package 中提取两个文件到这个文件夹中：

```
Preferences (OSX).sublime-settings
Preferences (Windows).sublime-settings 
```

我使用以下设置在 Windows 7/XP 和配备 Retina 的 MacBook 上获得**相同的**外观和感觉：

视窗：

```
{
    "font_face": "Consolas",
    "font_size": 11,
    "line_padding_top": -1
} 
```

Mac OS X：

```
{
    "font_face": "Consolas",
    "font_size": 14,
    "line_padding_bottom": -1,
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-19T15:52:42.403

根据Sublime Text 论坛中的[这篇](http://www.sublimetext.com/forum/viewtopic.php?f=2&t=1975&p=9095&hilit=overwrite%20tmlanguage#p9095)文章，您需要从 /Packages 文件夹和 .tmlanguage.cache 文件中删除现有的 .tmlanguage 文件并重新启动 Sublime Text 以确认程序不再读取它们。然后您可以将您的 .tmlanguage 或 .tmbundle 文件放在 /Packages/User 中。

我不清楚您收到的错误消息是否表明位置有问题，而不是 plist 文件本身有问题。您可以尝试使用免费的 plist 编辑器之一来确保文件本身的结构正常。

祝你在 Mac/Windows 显示差异上好运。我不知道你会如何解决这个问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-18T09:16:11.303

对于 Windows 删除 - 删除所有 sublime 文件

C:\Users\\AppData\Roaming

# java - 包含一些 Graphics2D 对象的 JFrame.pack() 会阻止包含对象的可见性

> ID：10545132
> 
> 赞同：1
> 
> 时间：2012-05-11T03:41:19.853
> 
> 标签：java, swing, jframe, graphics2d, paintcomponent

我有一个包含一些简单形状的 JFrame，它们是 Ellipse2D。我希望框架调整大小以紧贴`(240, 240)`尺寸中的对象

当我打包 JFrame 时，它​​的大小调整为最小窗口大小，而不是包含的对象的大小。

我还应该说，如果我`setSize(240, 240)`在 JFrame 上使用，它会设置外部窗口大小，而不是所包含对象的大小，因此 Windows UI 覆盖了所包含 Graphics2D 对象的一半。

如何相对于包含的 Graphics2D 对象的大小调整 JFrame 的大小。我看到他们没有`setPreferredSize()`使这变得异常复杂的方法。

```
 import java.awt.Color;
import java.awt.Dimension;
    import java.awt.Graphics;
    import java.awt.Graphics2D;
    import java.awt.RenderingHints;
    import java.awt.geom.Ellipse2D;

    import javax.swing.JFrame;
import javax.swing.JPanel;

    public class GUIMain extends JPanel{

        private int maxwidth = 240;

        @Override
        public Dimension getPreferredSize() {
            return new Dimension(maxwidth, maxwidth);
        }

        @Override
        public void paintComponent( Graphics g )
        {
            Graphics2D g2d = (Graphics2D) g;
            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);

            float i;
            float imax = 4;
            Ellipse2D.Double circle = new Ellipse2D.Double();

            for( i = imax; i > 0; i--){
                circle.width = (int)maxwidth*(i/imax);
                circle.height = (int)maxwidth*(i/imax);
                circle.x = (maxwidth/2)-(circle.width/2);
                circle.y = (maxwidth/2)-(circle.width/2);

                if((i % 2) == 0){
                    g2d.setColor(Color.red);
                }else{
                    g2d.setColor(Color.blue);
                }
                g2d.fill(circle);
            }
        }

        public static void main(String[] args) {

            JFrame frame = new JFrame("Lame...");
            frame.add(new GUIMain());
            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
            //frame.setSize(maxwidth, maxwidth);
            frame.pack();
            frame.setLocationRelativeTo(null);
            frame.setVisible(true);
            frame.setResizable(false);
        }

    } 
```

编辑：好的，现在我已经修改了上面的代码。除了窗口出现在 12px 底部右侧的填充之外。看起来像这样。

[http://i.imgur.com/Ilp39.jpg](http://i.imgur.com/Ilp39.jpg)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-11T03:47:17.093

您可能不是直接在 JFrame 中绘制 Ellipse2D 对象，而是在`paintComponenet(...)`JFrame 显示的 JPanel 的方法中绘制。您将需要覆盖`getPreferredSize()`此 JPanel 的 ，以便它计算并返回一个允许显示所有 Ellipses 的 Dimension。

# javascript - 传统文件的require.js订单插件问题

> ID：10545135
> 
> 赞同：0
> 
> 时间：2012-05-11T03:41:26.063
> 
> 标签：javascript, internet-explorer-9, requirejs

我使用 require.js 有以下代码。

实用程序.js：

`define(["thirdparty-script-A.js"], function(){ ... });`

应用程序.js：

`define(["utilities", "order!thirdparty-script-A.js", "order!thirdparty-script-B.js"], function(){ ... });`

`thirdparty-script-B.js`如果尚未完成加载（执行） ，则依赖于`thirdparty-script-A.js`并且将无法正确加载。`thirdparty-script-A.js`

总而言之，依赖结构看起来像这样：

```
 utilities +---> thirdparty-script-A.js <---+ thirdparty-script-B.js

        ^                   ^                          ^
        |                   |                          |
        |                   +                          |
        |                                              |
        +------------+ application.js +----------------+ 
```

看着萤火虫，我看到获取顺序是：

1.  公用事业
2.  第三方脚本-A.js
3.  应用
4.  第三方脚本-B.js

通过使用 console.log() 进行调试（从理论上讲），加载（执行）顺序为：

1.  第三方脚本-A.js
2.  公用事业
3.  第三方脚本-B.js
4.  应用

**现在问题来了。** 在大多数情况下，上述方法在 firefox、chrome 和 IE9 中运行良好。但是，存在由于 thirdparty-script-A.js 尚未完成加载而导致第三方脚本 B.js 无法加载的情况。事实上，console.logs 显示thirdparty-script-B.js 执行了**FIRST**，然后是thirdparty-A.js，实用程序，最后是应用程序。到底是怎么回事？到目前为止，我只能在IE9中重现这个问题。

这很奇怪，因为在 application.js 中，我使用 order 插件来保证两个第三方脚本加载的顺序。然而脚本执行乱序。

经过进一步调查，我注意到只有在thirdparty-script-A.js 的获取时间比thirdparty-script-B.js 长时才会出现问题。这让我猜测顺序！插件不适用于define()。理论上，thirdparty-script-B.js 应该等待执行，即使 thirdparty-script-A.js 需要 20 秒来获取和加载。就是这样安排的！行为，不是吗？

另一种理论是，如果任何文件按顺序排列，它将不起作用！在链上的另一个模块中是必需的（utilities.js 中的thirdparty-script-A.js）。

我确实有一个解决方法。那就是将 application.js 包装在 require() 中并让它首先加载所有传统脚本。

`require(["order!thirdparty-script-A.js", "order!thirdparty-script-B.js", "application"], function(app){ //app.init }`

然而，对于 60 多个脚本应用程序，需求列表可能会变得又长又乱……

谁能启发我为什么要定义（）和订购！表现得像他们一样吗？

非常感谢！

是的，第三方脚本-A 和 B 被缓存。=)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T03:54:22.520

诀窍是将所有内容包装在模块中。我通常对依赖 jQuery 的第三方插件进行这种“重新打包”。这样，您可以确定 jQuery`$`在插件加载时已加载（并且存在）。在这种方法中，不需要订单插件。

通过“重新打包”，您只需将插件代码`define()`及其依赖项包装在一个调用中，然后正常加载它。

在应用中：

```
define(['utilities','scriptA','scriptB'],function(){
    //application code
}); 
```

在实用程序中：

```
define(['scriptA'],function(){
    //utilities code
}); 
```

在脚本B中

```
define(['scriptA'],function(){
    //scriptB code
}); 
```

在脚本A中

```
define(function(){
    //scriptA code
}); 
```

所以顺序是：

```
Loading |      Application       A
        |   Utilities, Script B  |
        V       Script A         | Execution
         \----->----->----->----/ 
```

ScriptA*本来可以*更早地加载和执行，因为 Application 依赖于它。但为了安全起见，你应该这样做。这样，您可以确定依赖项已正确加载。

# php - 更新不起作用

> ID：10545138
> 
> 赞同：0
> 
> 时间：2012-05-11T03:42:24.880
> 
> 标签：php, sql-update

我一直在尝试更新由 UPDATE 按钮触发的数据库中的表，但不知何故它不起作用，每当我更改值然后单击更新按钮时，它只会刷新值，不会发生更新/更改..请帮助

```
<?php
session_start();
require_once("dbconnect.php");

$webhost=$_GET["webhost"];

$requesttitle=$_POST["requesttitle"];
$requesturl=$_POST["requesturl"];
$requestcap=$_POST["requestcap"];
$requestdestype=$_POST["requestdestype"];
$requestdbtype=$_POST["requestdbtype"];
$deptname=$_POST["deptname"];
$contactname=$_POST["contactname"];
$contactnum=$_POST["contactnum"];
$contactemail=$_POST["contactemail"];
$startdate=$_POST["startdate"];
$enddate=$_POST["enddate"];

if(isset($_POST['button']))
{

$sql="update webhostrequest set requesttitle='$requesttitle', ";
    $sql.="requesturl='$requesturl', requestcap='$requestcap', ";
    $sql.="requestdestype='$requestdestype', requestdbtype='$requestdbtype', ";
    $sql.="deptname='$deptname', contactname='$contactname', ";
    $sql.="contactnum='$contactnum', contactemail='$contactemail' ';
    $sql.="startdate='$startdate',  enddate='$enddate', recentact=now() where requestid='$id'";

$result = mysql_query($sql) or die ("Error in editing item. ".mysql_error());
}
header("location: editwebhost.php?webhost=$webhost");
exit;

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T03:58:52.090

$id 未在您的代码中设置。因此，由于“WHERE”规定仅使用 requestid =$id 更新条目，因此可能是缺少的链接？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T04:09:48.177

尝试将 $sql 回显到页面，这样您就可以看到您的代码正在生成什么查询。然后尝试直接运行查询（通过 phpMyAdmin 或者您访问您的数据库）。

您是否从“或死（）”中得到任何错误？

# java - 无法从另一个普通的 Http Servlet 访问过滤器 Servlet 的会话属性

> ID：10545142
> 
> 赞同：0
> 
> 时间：2012-05-11T03:42:51.653
> 
> 标签：java, servlets

我这里有个问题：

在我使用过滤器 servlet 设置会话属性后，我尝试在另一个普通的 http servlet 中检索会话属性，但看起来 getAttribute('system.userinfo') 无法检索任何内容。这有什么问题？谢谢！

```
public void doFilter(ServletRequest request, ServletResponse response,
        FilterChain chain) throws IOException, ServletException {
    HttpServletRequest httpReq = (HttpServletRequest) request;
    HttpServletResponse httpResp = (HttpServletResponse) response;
    HttpSession session = httpReq.getSession();

    httpReq.setCharacterEncoding("UTF-8");

    UserDTO dto = new UserDTO();
    session.setAttribute("system.userinfo", dto);

    chain.doFilter(request, response);

}

public class FileUpload extends HttpServlet {
    @SuppressWarnings("unchecked")
    public void doPost(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        response.setContentType("text/html");
        response.setCharacterEncoding("UTF-8");

        // cannot get anything here
        UserDTO userinfo = (UserDTO)request.getSession(false).getAttribute("system.userinfo");

        }
} 
```

两个 servlet 都在同一个 Web 应用程序中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T05:06:06.057

似乎您没有在您认为在过滤器中创建的 servlet 中获得会话。在过滤器中，您使用的是始终创建新会话的 req.getSession()。在您提供 request.getSession(false) 的 servlet 中，如果不存在会话，则容器应该返回 null 或返回现有会话。您使用的是哪个 servlet 容器？如果您使用的是 IDE，您能否放置一个调试点并比较会话 ID 以确认它们是否相同？另外，您的 UserDTO 是否可序列化？

# php - MySQL 查询计数行并返回出现次数最多的行

> ID：10545148
> 
> 赞同：-1
> 
> 时间：2012-05-11T03:43:45.473
> 
> 标签：php, mysql, database

这是我的问题。

我有一个我拼凑在一起的广播电台的数据库。

目前，我正在使用 php 脚本查询 mysql 数据库并通过帖子插入行，另一个返回最后播放的歌曲，另一个显示最后 10 首歌曲。

从过去 3 个月开始，我有 48k 行 ID 艺术家标题日期和时间。

到目前为止，我正在尝试做的事情是创建一个脚本来查询数据库计算每个标题的行数，然后返回包含出现最多 desc 到最少的标题的行之一。

我想返回 40 行播放次数最多的歌曲。

返回最后播放的歌曲没有问题，但我不知道从哪里开始查询。

更复杂的是，我在每次广告插播时都会输入一个插播行，这会导致播放次数最多的歌曲被插播。哈哈。

最后，我如何缓存这些数据以每小时更新一次，以便每次加载页面时我都不会进行大型查询。

我很感激这方面的一些帮助。还有哪里是学习更多像这样的高级查询的好地方。我现在才进入这个水平。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T03:51:37.850

```
select Artist, Title, count(*) as PlayCount
from MyTable
where Title <> 'Break'
group by Artist, Title
order by count(*) desc
limit 0, 40 
```

# html - IE9：锚标签大小和悬停问题

> ID：10545150
> 
> 赞同：0
> 
> 时间：2012-05-11T03:43:54.050
> 
> 标签：html, css, navigation, internet-explorer-9, drop-down-menu

我正在尝试创建一个导航栏 - 使用常用的东西。它在 Firefox 和 Chrome 中按预期工作，但在 IE9 中没有。显然有两个问题：

1.  顶层的锚标记不填充包含的 li。正如您将在代码中看到的那样，我使用了 display:block, height: 100% 和 width:100%。
2.  顶级项目的悬停不会带出较低级别的项目。悬停会改变字体和背景。

关于这两个主题有很多文章和论坛帖子 - 我希望我已经理解并已经实施了所讨论的解决方案。但也许我错过了一些简单的东西。

css 文件：dropdown-menu.css

```
#navigation-ul {

padding: 0;

margin: 0;

list-style: none;

height: 35px; /* this height must match the #navigation-ul li.top height */ 

position: relative;

z-index: 200;

font-family: Arial,Helvetica,sans-serif;

}

#navigation-ul li.top {

display: block;

float: left;

height: 35px;

width: 150px;

/* This was the original size

height: 30px;

width: 100px;

*/

background-color: #E1E1E3;

filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#FFFFFF",

    endColorstr="#C4C4C4" ); /* for IE */

background: -webkit-gradient(linear, left top, left bottom, from(#FFFFFF),

    to(#C4C4C4) ); /* for webkit browsers */

background: -moz-linear-gradient(top, #FFFFFF, #C4C4C4);

/* for firefox 3.6+ */

border-right: 4px groove #D1D1D1;

}

#navigation-ul li a.top_link {

display: block;

float: left;

height: 100%;

width: 100%; 

line-height : 33px;

color: #003570;

text-decoration: none;

font-size: 14px;

font-weight: bold;

padding: 0;

cursor: pointer;

text-align: center;

line-height: 33px;

}

#navigation-ul li a.top_link span {

color: #003570;

font-size: 14px;

float: left;

display: block;

padding: 0;

height: 100%;

width: 100%;

}

#navigation-ul li a.top_link span.down {

color: #003570;

font-size: 14px;

float: left;

display: block;

padding: 0;

height: 100%;

width: 100%;

}

#navigation-ul li:hover a.top_link {

height: 100%;

color: #FF0000;

text-decoration: underline;

filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#C4C4C4",

    endColorstr="#FFFFFF" ); /* for IE */

background: -webkit-gradient(linear, left top, left bottom, from(#C4C4C4),

    to(#FFFFFF) ); /* for webkit browsers */

background: -moz-linear-gradient(top, #C4C4C4, #FFFFFF);

/* for firefox 3.6+ */

}

#navigation-ul li:hover a.top_link span {

height: 150%;

color: #FF0000;

text-decoration: underline;

filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#C4C4C4",

    endColorstr="#FFFFFF" ); /* for IE */

background: -webkit-gradient(linear, left top, left bottom, from(#C4C4C4),

    to(#FFFFFF) ); /* for webkit browsers */

background: -moz-linear-gradient(top, #C4C4C4, #FFFFFF);

/* for firefox 3.6+ */

}

#navigation-ul li:hover a.top_link span.down {

height: 150%;

color: #FF0000;

text-decoration: underline;

filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#C4C4C4",

    endColorstr="#FFFFFF" ); /* for IE */

background: -webkit-gradient(linear, left top, left bottom, from(#C4C4C4),

    to(#FFFFFF) ); /* for webkit browsers */

background: -moz-linear-gradient(top, #C4C4C4, #FFFFFF);

/* for firefox 3.6+ */

}

/* Default list styling */

#navigation-ul li:hover {

position: relative;

z-index: 200;

}

#navigation-ul li:hover ul.sub {

left: 0px;

top: 50px; /* (top level li height is YYpx) + (xx% of that (= 0.xx*YY px) height increase on hover) */

padding: 0;

white-space: nowrap;

width: 200px;

height: auto;

z-index: 300;

}

#navigation-ul li:hover ul.sub li {

display: block;

height: 30px;

border-bottom: 1px solid #FF0000;

background-color: #E1E1E3; 

filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#C4C4C4",

    endColorstr="#FFFFFF" ); /* for IE */

background: -webkit-gradient(linear, left top, left bottom, from(#C4C4C4),

    to(#FFFFFF) ); /* for webkit browsers */

background: -moz-linear-gradient(top, #C4C4C4, #FFFFFF);

position: relative;

float: left;

width: 200px;

font-weight: normal;

}

#navigation-ul li:hover ul.sub li a {

display: block;

font-size: 12px;

height: 100%;

width: 100%;

line-height: 18px;

text-indent: 5px;

color: #003570;

text-decoration: none;

}

#navigation-ul li ul.sub li a.fly {

/* background: #bbd37e url(arrow.gif) 80px 6px no-repeat; */

}

#navigation-ul li:hover ul.sub li a:hover {

color: #FF0000;

font-weight: bold;

text-decoration: underline;

}

/* Hover effect over the 2nd level li*/

#navigation-ul li:hover ul.sub li a.fly:hover {

filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#FFFFFF",

    endColorstr="#C4C4C4" ); /* for IE */

background: -webkit-gradient(linear, left top, right top, from(#FFFFFF),

    to(#C4C4C4) ); /* for webkit browsers */

background: -moz-linear-gradient(left, #FFFFFF, #C4C4C4);

color: #FF000;

font-weight: bold;

width: 105%;

border-bottom: 1px solid #FF0000;

text-decoration: underline;

}

#navigation-ul li:hover li:hover ul,#navigation-ul li:hover li:hover li:hover ul,#navigation-ul li:hover li:hover li:hover li:hover ul,#navigation-ul li:hover li:hover li:hover li:hover li:hover ul

{

left: 210px; /* (higher level li width is 200px) + 5% (=10px) increase during hover */

top: 0px;

background: #C4C4C4;

padding: 0px;

margin-bottom: 1px;

white-space: nowrap;

/* width: 150px; */

z-index: 400;

height: auto;

}

#navigation-ul ul,#navigation-ul li:hover ul ul,#navigation-ul li:hover li:hover ul ul,#navigation-ul li:hover li:hover li:hover ul ul,#navigation-ul li:hover li:hover li:hover li:hover ul ul

{

position: absolute;

left: -9999px;

top: -9999px;

width: 0;

height: 0;

margin: 0;

padding: 0;

list-style: none;

}

/* Hover effect over the 2nd level li - going from 2nd level to 3rd level*/

#navigation-ul li:hover li:hover a.fly,#navigation-ul li:hover li:hover li:hover a.fly,#navigation-ul li:hover li:hover li:hover li:hover a.fly,#navigation-ul li:hover li:hover li:hover li:hover li:hover a.fly

{

filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#FFFFFF",

    endColorstr="#C4C4C4" ); /* for IE */

background: -webkit-gradient(linear, left top, right top, from(#FFFFFF),

    to(#C4C4C4) ); /* for webkit browsers */

background: -moz-linear-gradient(left, #FFFFFF, #C4C4C4);

color: #FF000;

font-weight: bold;

width: 105%;

border-bottom: 1px solid #FF0000;

text-decoration: underline;

}

#navigation-ul li:hover li:hover li a.fly,#navigation-ul li:hover li:hover li:hover li a.fly,#navigation-ul li:hover li:hover li:hover li:hover li a.fly

{

background: #bbd37e url(arrow.gif) 80px 6px no-repeat;

color: #000;

border-color: #bbd37e;

} 
```

javascript 文件：dropdown-menu.js

```
SampleHover = function() {

var cssRule;

var newSelector;

for (var i = 0; i < document.styleSheets.length; i++) {

    for (var j = 0; j < document.styleSheets[i].rules.length ; j++) {

        cssRule = document.styleSheets[i].rules[j];

        if (cssRule.selectorText.indexOf("li:hover") != -1) {

            newSelector = cssRule.selectorText.replace(/li:hover/gi, "li.hover");

            document.styleSheets[i].addRule(newSelector , cssRule.style.cssText);

        }

    }

}

var liElements = document.getElementById("navigation-ul").getElementsByTagName("li");

for ( var i = 0; i < liElements.length; i++ ) {

    liElements[i].onmouseover = function() {

        this.className = this.className + " hover";

    };

    liElements[i].onmouseout = function() {

        this.className = this.className.replace(new RegExp(" hover\\b"), "");

    };

}

};

if (window.attachEvent) {

window.attachEvent("onload", SampleHover); 

} 
```

html文件：sample.html

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<title>Sample</title>
<meta name="description" content=""></meta>
<meta name="keywords" content=""></meta>
<meta name="robots" content="index, follow"></meta>

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>

<link rel="stylesheet" href="sample.css"
    type="text/css" title="Sample Style" media="screen, print"></link>
<link rel="stylesheet" href="dropdown-menu.css"
    type="text/css" />

<script type="text/javascript" src="dropdown-menu.js"></script>

</head>

<body style="align: CENTER;">

<div id=main style="width: 960px; margin: 0 auto;">

    <div id=header>

<div id="navigation-div" style="padding-bottom: 5px; margin-bottom: 5px;">

<!--  <span class="preload1"></span> <span class="preload2"></span> -->

<ul id="navigation-ul"
    style="display:inline-block; border: 1px solid #D1D1D1; margin-left: 0px; border-radius: 5px;">
    <li class="top" style="border-radius: 5px 0 0 5px;"><a
        class="top_link" href="/index">Home</a></li>

    <li class="top"><a id="Solutions" class="top_link down"
        href="/solutions"><span class="down">Solutions</span></a>
        <ul class="sub">

            <li><a class="fly" href="/solutions/business">Business
                    Solutions</a>
                <ul>
                    <li><a href="/solutions/business/investment-decision">Investment
                            Decisions</a></li>
                    <li><a href="/solutions/business/product-mgmt">Product
                            Management</a></li>
                </ul></li>
            <li><a class="fly" href="/solutions/software">Software
                    Solutions</a></li>

            <li><a class="fly" href="/solutions/engineering">Engineering
                    Solutions</a></li>
        </ul></li>

    <li class="top" ><a
        id="Industries" class="top_link" href="/industries"><span
            class="down">Industries</span></a></li>

    <li class="top" ><a
        id="KnowledgeBase" class="top_link" href="/knowledgebase"><span
            class="down">KnowledgeBase</span></a></li>

    <li class="top" style="border: none; width: 342px; border-radius: 0 5px 5px 0;"></li>

</ul>

</div>
</div>
</body>
</html> 
```

如果您将这三个文件保存在同一目录中，您应该能够重现我所看到的内容。谢谢您的帮助。

普拉杰什

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-02T06:36:33.480

在标签下添加这行`<head>`代码

```
<meta http-equiv="X-UA-Compatible" content="IE=9"/> 
```

像这样

```
<html>
   <head>
       <meta http-equiv="X-UA-Compatible" content="IE=9"/>
        <!-- Your codes / styles / scripts -->
       </head>
       <body>
         <!-- your codes-->
       </body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T22:07:58.063

这篇文章的最后一行[向元素添加渐变会破坏 IE](https://stackoverflow.com/questions/10418680/adding-gradient-to-element-breaks-css-functionality-in-ie)中的 CSS 功能！以下是对未来可能面临类似问题的人们的一些值得注意的观察。

1.  当然，IE 过滤器渐变与 ul 或 li 配合得不是很好——这意味着如果将渐变应用于 li，则 li 会获得渐变，但它的所有子项都被隐藏（或者在将鼠标悬停在顶级 li)。
2.  但是，如果将过滤器应用于 li 内部的元素（例如 li 内部的 div），则渐变和下拉都起作用。
3.  就我而言，我希望我的顶级 li 在悬停时增加高度，并使 sub-ul 顶部开始低于顶部 li 结束的位置。由于过滤器最初没有工作，li 没有被任何背景填充，因此顶级 li 和 sub-ul 之间存在间隙。我应该遵循具有默认平面背景的最佳做法，以防过滤器不起作用。当我在过滤器被注释掉的情况下这样做时，下拉菜单运行良好（顶层 li 和 sub-ul 之间没有不连续性）。
4.  我最初遵循的建议并对[下拉菜单在 IE9 中不起作用](https://stackoverflow.com/questions/10226159/drop-down-menu-doesnt-work-in-ie9)感到高兴，结果证明这是一个没有解决方案的问题。在过滤器前面添加 ms- 或 -ms 或任何与此相关的内容基本上只是注释掉过滤器行。

# apache-flex - Flex fileReference 以 utf-8 格式保存，采用 BOM 编码格式

> ID：10545153
> 
> 赞同：0
> 
> 时间：2012-05-11T03:44:33.380
> 
> 标签：apache-flex, utf-8, character-encoding, byte-order-mark

我想以 utf-8 编码格式保存文件（不是没有 BOM 的 utf-8）。Adobe Charset 支持页面上没有明确的信息

（http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/charset-codes.html）

我想将文件保存为带有 csv 扩展名的 utf-8 格式。我尝试了以下方法，但我得到了我想要的：

```
byte.writeMultiBytes(fileContent,"utf-8"); 
```

我也试过，

unicode-1-1-utf-8、unicode-2-0-utf-8、x-unicode-2-0-utf-8。

我也尝试过其他方法，但仍然没有获得所需的编码格式：

writeUTF(var:String) writeByte(var:String)

这是我现在拥有的，

```
var fileReference:FileReference = new FileReference();  
var bytes:ByteArray = new ByteArray();

// SAVING file in utf-8 encoding format.
bytes.writeUTFBytes(this.fileContents);
fileReference.save(bytes, "PluginLog.csv");
closePopup(null); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T20:36:50.830

答案 intuidev 也对我有帮助。它用Java显示了答案。这是我在 Actionscript 中复制它的方式：

```
public function writeFileWithUTF8Bom(data:String, fileName:String):void {
    var fileRef:FileReference = new FileReference();
    var b:ByteArray = new ByteArray();
    // Include the byte order mark for UTF-8
    b.writeByte(0xEF);
    b.writeByte(0xBB);
    b.writeByte(0xBF);
    b.writeUTFBytes(data);
    fileRef.save(b, fileName);          
} 
```

# json - 将json数据发送到mvc3中的httppost操作后如何防止重定向到查看

> ID：10545157
> 
> 赞同：0
> 
> 时间：2012-05-11T03:44:56.407
> 
> 标签：json, asp.net-mvc-3, jquery

我在开发单页 Web 应用程序时遇到问题。

当 jQuery 将 json 发送到 HTTPPOST 操作时：

```
$('#user_dialog .create').click(function () {
                            var user = getInfoUser();
                            $.ajax({
                                url: '@Url.Action("Create", "User")',
                                async: false,
                                type: 'POST',
                                data: JSON.stringify(user),
                                datatype: 'json',
                                contentType: 'application/json;charset=utf-8',
                                success: function (data) {
                                    $('#user_dialog').dialog("close");
                                }
                            });
                        }); 
```

我在控制器中的 HTTPPOST 操作将处理请求

```
[HttpPost]
  public String Create(UserAddViewModel model)
        {
            try
            {
                // TODO: Add insert logic here

                return JsonConvert.SerializeObject(true);
            }
            catch
            {
                return JsonConvert.SerializeObject(false);
            }
        } 
```

并且我的 jQuery*成功*回调函数将被触发并接收到数据“真”。

但现在的问题是在此之后，页面将被重定向到**/User/Create**视图页面

我不希望它重定向到页面，我只想通过我的 jQuery 代码处理 UI。

那是因为它是 HTTPPOST 动作吗？

实际原因是什么以及如何解决？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-11T03:49:15.330

据推测，您单击的内容是 URL。您没有阻止默认事件（加载 url）在您的点击事件中发生

```
$('#user_dialog .create').click(function (event) {
    event.preventDefault();
    //rest of function 
```

每当单击事件完成时，接下来会发生默认事件（如果是链接则加载 URL，如果是提交按钮则提交表单，切换复选框等）。为了防止这种情况，您必须使用`preventDefault()`或返回 false 显式执行此操作。有关文档，请参阅[http://api.jquery.com/event.preventDefault/](http://api.jquery.com/event.preventDefault/)。

# html - 文本字段不显示初始值

> ID：10545158
> 
> 赞同：12
> 
> 时间：2012-05-11T03:44:56.720
> 
> 标签：html, css

好的，因为我不擅长 css，所以我使用了一个免费的 css 模板，并且在某个地方搞砸了，因为现在文本字段没有显示初始值。

**我在页面上的任何地方都**测试了一个纯文本字段，但是当我创建一个新的 html 文件、链接 css 并创建一个显示值的文本字段时，该值没有显示。

您能否指出导致此问题的原因以及我如何解决它，或解释我如何覆盖导致此问题的原因？

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-05-11T03:46:38.323

TEXTAREA 不使用 value 属性。它们显示开始标签和结束标签之间包含的内容。

例如，

```
<textarea name="comment">I really like this article!</textarea> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-05-16T01:11:28.060

您可以使用 jquery 选择器和 val() 来初始化值。就像`$("[name=pageDescribe]").val("here a value");`

# php - 谷歌地图 api v3 问题

> ID：10545161
> 
> 赞同：0
> 
> 时间：2012-05-11T03:46:19.077
> 
> 标签：php, google-maps-api-3

我正在使用谷歌地图 API v3，但我遇到了问题。

我需要用不止一张地图显示它们，而且我不知道地图的数量。

这里的代码php代码：

```
<script type="text/javascript"
        src="http://maps.googleapis.com/maps/api/js?key=AIzaSyA5DRxSgUpWIfkLYULGijHXFQdogRElRIg&sensor=false">
</script>
<?php
for ($i = 1; $i <= 4; $i++) {
    echo "map n:" . $i . "<br/>";
    ?><script>
        function initialize(ltd,lgd) {
            var myOptions = {
                center: new google.maps.LatLng(ltd, lgd ),
                zoom: 15,
                panControl: false,
                zoomControl: false,
                mapTypeControl: false,
                scaleControl: false,
                streetViewControl: false,
                overviewMapControl: false,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            var map = new google.maps.Map(document.getElementById("map_canvas<?php echo $i ?>"),
            myOptions);
            google.maps.event.addListener(map, 'click', function(event) {
                placeMarker(event.latLng);
            });
            var marker;
            marker = new google.maps.Marker({
                position: new google.maps.LatLng(ltd, lgd),
                map: map
            });
        }
    </script>
    <?php echo "<body onload='initialize(36.835769,10.247693)'>"; ?>
    <div id="map_canvas<?php echo $i ?>" style="margin-top:18px; width: 136px; height: 136px;"></div>
    <?php
}
?> 
```

谢谢你的帮助 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T21:30:14.040

您正在创建函数初始化多次，什么没用，每次都会覆盖该函数。

仅使用该函数 1 次并将地图的 id 作为参数传递：

```
<script type="text/javascript"
        src="http://maps.googleapis.com/maps/api/js?sensor=false">
</script>
<script>
        function initialize(ltd,lgd,map) {
            var myOptions = {
                center: new google.maps.LatLng(ltd, lgd ),
                zoom: 15,
                panControl: false,
                zoomControl: false,
                mapTypeControl: false,
                scaleControl: false,
                streetViewControl: false,
                overviewMapControl: false,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            var map = new google.maps.Map(document.getElementById(map),
            myOptions);
            google.maps.event.addListener(map, 'click', function(event) {
                placeMarker(event.latLng);
            });
            var marker;
            marker = new google.maps.Marker({
                position: new google.maps.LatLng(ltd, lgd),
                map: map
            });
        }
    </script>
<?php
for ($i = 1; $i <= 4; $i++) {
    echo "map n:" . $i . "<br/>";
    ?>
    <div id="map_canvas<?php echo $i ?>" 
         style="margin-top:18px; width: 136px; height: 136px;"></div>
    <script>
    google.maps.event
     .addDomListener(window, 
                    'load', 
                    function()
                    {
                     initialize(36.835769,
                                10.247693,
                                'map_canvas<?php echo $i;?>')});
    </script>
    <?php
}
?> 
```

# ruby-on-rails-3 - 使用 chargify_api_ares gem 的 nil:NilClass 的未定义方法“路径”

> ID：10545162
> 
> 赞同：5
> 
> 时间：2012-05-11T03:46:19.850
> 
> 标签：ruby-on-rails-3, chargify

我觉得这应该是一个简单的问题，但我正在拔头发试图追查它。我安装了 chargify_api_ares gem，但甚至不能做一些基本的事情，比如

```
Chargify::Subscription.create 
```

当我收到此路径错误时。我觉得这一定是一个宝石问题，但不知道从哪里开始。

更新： bundle show chargify_api_ares 显示了正确的路径，我只是无法访问它。仍在尝试随机环境相关的事情。

看起来这是问题的根源，在 active_resource\base.rb 中：

```
# Gets the \prefix for a resource's nested URL (e.g., <tt>prefix/collectionname/1.json</tt>)
      # This method is regenerated at runtime based on what the \prefix is set to.
      def prefix(options={})
        default = site.path
        default << '/' unless default[-1..-1] == '/'
        # generate the actual method based on the current site path
        self.prefix = default
        prefix(options)
      end 
```

据我了解，Chargify.subdomain 应该设置 site.path，但我对 activeresource 的了解还不够好，还不知道发生了什么并将继续挖掘。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-09T05:25:37.377

我也有同样的问题。我在控制台上执行了以下操作

```
Chargify.configure do |c|
  c.api_key   = "<<api_key>>"
  c.subdomain = "<<subdomain>>"
end 
```

之后执行任何 Chargify 控制台命令都很好。

# python - 在 Python 中刷新文件内容是什么意思？

> ID：10545167
> 
> 赞同：4
> 
> 时间：2012-05-11T03:46:51.430
> 
> 标签：python

我正在尝试通过阅读文档来自学 Python。我试图了解刷新文件缓冲区的含义。根据文档，“file.flush”执行以下操作。

```
Flush the internal buffer, like stdio‘s fflush().
This may be a no-op on some file-like objects. 
```

我不知道“内部缓冲区”和“无操作”是什么意思，但我认为它表示`flush`将数据从某个缓冲区写入文件。

因此，我运行这个文件来切换中间行的井号。

```
with open("myFile.txt", "w+") as file:
    file.write("foo")
    file.write("bar")
    # file.flush()
    file.write("baz")
    file.write("quux") 
```

但是，`myFile.txt`无论是否调用`file.flush()`. 有什么作用`file.flush()`？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-11T03:57:02.473

Python 缓冲写入文件。也就是说，`file.write`在数据实际写入硬盘驱动器之前返回。这样做的主要动机是少数大写比许多小写快得多，因此通过保存输出`file.write`直到积累一点，Python 可以保持良好的写入速度。

`file.flush`强制在那个时刻写出数据。当您知道可能需要一段时间才能写出更多数据，但您希望其他进程能够查看您已经写入的数据时，这是手。想象一个增长缓慢的日志文件。您不希望在建立足够的条目以使数据以一大块写出之前等待很长时间。

在任何一种情况下，`file.close`都会导致剩余数据被刷新，因此代码中的“quux”将被写出`file`（这是一个非常糟糕的名字，因为它会隐藏内置`file`构造函数）超出`with`上下文管理器的范围并获取关闭。

注意：您的操作系统会自己进行一些缓冲，但我相信每个实现 Python 的操作系统都会尊重`file.flush`将数据写入驱动器的请求。如果我错了，请有人纠正我。

顺便说一句，“no-op”的意思是“没有操作”，因为它实际上不会做任何事情。例如，StringIO 对象操作内存中的字符串，而不是硬盘驱动器上的文件。`StringIO.flush`可能只是立即返回，因为它真的没有什么可做的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-11T03:52:20.753

缓冲区内容可能会被缓存以提高性能。刷新确保内容完全写入磁盘，避免数据丢失。例如，当您希望在进行下一个文件操作之前将要求用户输入的行完全打印在屏幕上时，它也很有用。

# c - C - 共享内存转换为结构

> ID：10545172
> 
> 赞同：3
> 
> 时间：2012-05-11T03:47:30.900
> 
> 标签：c, shared-memory

我必须完成我的 C 程序，但是我被困在任务的共享内存部分。

基本上这就是我应该做的： `MapViewOfFile`返回一个指针`void`，你可以将它转换为你喜欢的任何东西。我建议您创建 struct 来表示您希望内存具有的结构，并将返回指针转换为该结构。”

我调用了该`MapViewOffFile`函数，但我不明白我应该如何将结构指向它。代码：

```
typedef struct {
        LARGE_INTEGER start;
        LARGE_INTEGER end;
        LARGE_INTEGER frq;
} TimeOfSharing;

TimeOfSharing timing;

HANDLE fileView;
fileView = MapViewOfFile(fileHandle, FILE_MAP_READ | FILE_MAP_WRITE,PAGE_READONLY, 0, 0); 
```

那么我如何指向`fileView`我的结构呢？（我需要从另一个进程中获取结构）

希望我足够清楚！非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T03:52:57.373

`MapViewOfFile`实际上返回一个指向 void 的指针，而不是一个`HANDLE`.

你只需要适当地转换它：

```
TimeOfSharing *timing = (TimeOfSharing *)MapViewOfFile(...);

// Then access as you see fit, e.g.:
LARGE_INTEGER length;

length.QuadPart = timing->end.QuadPart - timing->start.QuadPart; 
```

如果您真的需要/想要实际复制数据，而不仅仅是就地访问它：

```
TimeOfSharing my_copy = *(TimeOfSharing *)MapViewOfFile(...); 
```

# salesforce - System.Exception：太多的记录类型描述：101

> ID：10545174
> 
> 赞同：0
> 
> 时间：2012-05-11T03:47:45.200
> 
> 标签：salesforce, apex-code

我遇到了一个例外

```
System.Exception: Too many record type describes: 101 
```

我知道这是州长限制例外。

有几个地方我在触发器的 If 语句中检查记录类型。

```
for(Opportunity o : Trigger.new)
{
   if ( ( o.TotalOpportunityQuantity != Trigger.OldMap.get(o.Id).TotalOpportunityQuantity) && o.RecordTypeId == varRectype) 
     {
                 // do something
     }

     // i am also checking in another if statement for o.RecordTypeId == varRectype with a combination of other fields.

 } 
```

有没有其他人得到这个错误。关于造成这种情况的任何指示都会有很大帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-29T19:48:52.637

您应该打开 Developer Console，然后重复导致此异常的操作。然后查看调试日志，看看这个异常是在什么时候触发的。您在上面列出的代码不应触发此调控器限制，因为它与“描述”无关。

另外，您是否安装了任何托管软件包？其中的代码可能会触发此州长限制。调试日志会告诉你更多。

# objective-c - 循环所有网点

> ID：10545176
> 
> 赞同：0
> 
> 时间：2012-05-11T03:48:04.583
> 
> 标签：objective-c, loops, outlet

我想在我拥有的每九个插座（UIButton，称为 btn1、btn2、btn3 ... btn9）上循环一次，例如：

```
for(int i = 0; i < 9; i++) {
    [[btn(%@), i] setImage:someOne forState:UIControlStateNormal]; // I know that this is ridiculous, but it's just a way to demonstrate what I'm saying. :-)
} 
```

任何提示？

非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T03:55:14.010

您可能想查看`IBOutletCollection`（[apple doc here](http://developer.apple.com/library/ios/documentation/uikit/reference/UIKitConstantsReference/Reference/reference.html#//apple_ref/doc/uid/TP40007526-CH3-SW4)），它允许您将多个按钮连接到同一个插座并像常规一样访问它们`NSArray`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T03:58:09.157

让您想要循环的所有出口在单独的视图上循环。

```
for(int subviewIter=0;subviewIter<[view.subviews count];subviewIter++)
{
    UIbutton *button = (UIbutton*)[view.subviews objectAtIndex:subviewIter];
    // Do something with button.
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T03:59:00.117

在创建`UIButton`时，您可以设置按钮的标签属性。现在可以通过多种方式访问​​该按钮，例如 -

```
NSArray *subViews = self.view.subviews;
for (int index = 0; index < [subViews count]; index++) {
    if ([subViews objectAtIndex:index] isKindOfClass:[UIButton Class]) {
    //Button is accessible now, Check for tag and set image accordingly.
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-11T04:03:37.617

如果您想这样做，您应该考虑聚集所有 UIView 实例或在您的情况下：按钮。我建议您将所有按钮添加到数组或任何其他有助于您管理对象的数据格式中。

如果您想在不使用外部对象的情况下这样做，我建议您将所有按钮添加到超级视图，然后，您将能够使用：mySuperview.subviews 属性遍历超级视图的子视图。

您还可以在初始化后立即为每个按钮（标签）提供一个唯一的 ID 号，然后您可以使用给定的标签访问该按钮：

```
myButton.tag = 1;
//Access the button using:
UIButton *b = (UIButton *) [superview viewWithTag:1]; 
```

# ios5 - 使用 UIActivityIndi catorView 和 CorePlot-CocoaTouch 会导致内存问题

> ID：10545178
> 
> 赞同：0
> 
> 时间：2012-05-11T03:48:06.813
> 
> 标签：ios5, core-plot, uiactivityindicatorview

在 IOS5.1 应用程序中使用 CorePlot-Cocoa Touch。由于散点图、dataForPlots、图例等的设置需要时间，因此决定包含一个 UIActivityIndi​​catorView 以指示用户正在发生某些事情。

```
- (void)viewWillAppear:(BOOL)animated
{

   [super viewWillAppear:animated];

   progressInd = [[UIActivityIndicatorView alloc] initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleGray];
   progressInd.center = self.view.center;
   [progressInd sizeToFit];
   progressInd.hidden = NO;
   progressInd.alpha = 1.0;

  [self.view addSubview:progressInd];
  [progressInd startAnimating];
  [self.view bringSubviewToFront:progressInd];

  [self performSelectorInBackground:@selector(DoMakeupPlot) withObject:nil];   

}

- (void)DoMakeupPlot
{
    … set up plot
    … including datasource and delegate

   [progressInd stopAnimating];
   [progressInd removeFromSuperview];
   progressInd = nil;
} 
```

现在这似乎有时会起作用，但很明显有 2 个线程调用绘图数据源例程：

> -(NSUInteger)numberOfRecordsForPlot:(CPTPlot *)plot
> 
> -(NSNumber *)numberForPlot:(CPTPlot *)plot field:(NSUInteger)fieldEnum recordIndex:(NSUInteger)index

这有时会导致内存问题和应用程序崩溃。

尝试从上述 2 个例程中退出这 2 个线程，但这会导致其他问题。

现在在使用这个 UIActivityIndi​​catorView 之前，上面的 2 个例程是从 MainThread 调用的，一切都很好。

还用 MBProgressHud 试过这个，显然有同样的问题。

```
- (void)viewWillAppear:(BOOL)animated
{
    [super viewWillAppear:animated];

    HUD = [[MBProgressHUD alloc] initWithView:self.view];
    [self.view addSubview:HUD];

    HUD.delegate = self;
    HUD.labelText = @"Loading";
    HUD.detailsLabelText = @"plot data";
    HUD.square = YES;

    [HUD showWhileExecuting:@selector(DoMakeupPlot) onTarget:self withObject:nil animated:YES];
} 
```

如何在完成设置后删除执行数字运算的线程，而 MainThread 执行 UIActivityIndi​​catorView？

帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T20:37:24.867

在完成之前不要设置数据源`-DoMakeupPlot`。这样，绘图就不会尝试从尚未准备好的数据源加载数据。

# jquery - 使用单选按钮选择一行并使用 jquery &struts2 中的按钮传递值

> ID：10545179
> 
> 赞同：0
> 
> 时间：2012-05-11T03:48:07.563
> 
> 标签：jquery, jqgrid, struts2, radio-button

我必须使用单选按钮选择一行网格并通过单击“下一步”按钮传递值。

我正在使用struts2

我的jsp代码包含：

```
$(document).ready(function () { 

        $("#flowPathTable").jqGrid({
                jsonReader: { 
                repeatitems: false,
                id: "rowid",
                root: function (obj) { return obj; },
                page: function (obj) { return 1; },
                total: function (obj) { return 1; },
                records: function (obj) { return obj.length; }
                },
                url: jqDataUrl,
                datatype: "json",
                mtype: "POST",
        colNames:["","CityName"]
        colModel :[ name:'radioid', index:'radioid', width:'20%',align:'center', formatter: radio, editable:false, sortable: false, resizable:false},
        {name:"strCity", index:"strCity"}],
        loadonce: true,
        caption:"Select City"
        });
        });

    function radio(value, options, rowObject){
                var radioHtml = '<input type="radio" value=' + value + ' name="radioid"/>';
                return radioHtml;
    }

 <s:submit type="image" src="../../images/next.png" "/> 
```

单击“下一步按钮”时，必须传递值。我该怎么做呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T03:55:30.873

如果所有单选按钮的名称都是“radioid”，那么您可以通过以下方式访问所选值

```
var selected = $("input[name='radioid']:checked").val(); 
```

将此代码放在单击下一步按钮上

# linux - setuid 处的不安全 ENV 变量

> ID：10545185
> 
> 赞同：-1
> 
> 时间：2012-05-11T03:49:25.783
> 
> 标签：linux, perl

我正在使用此代码，当我从 root 运行它时它工作正常，但是当我将 root 权限设置为它时会抛出一个错误，提示“insecure $ENV{PATH} at line system”perl $qtool -d $mqueue_directory*$queue_id” ;"

我的脚本在路径 /scripts/deferred.pl

```
#!/usr/bin/perl

use strict;

my $qtool = "/usr/local/bin/qtool.pl";
my $mqueue_directory = "/var/spool/mqueue";
my $messages_removed = 0;
my @rf_id;
my @date;
my $temp
my @write_array;
my $to;
my $from;
use Untaint;
use File::Find;
# Recursively find all files and directories in $mqueue_directory
use Untaint;
find(\&wanted, $mqueue_directory);

sub wanted {
   # Is this a qf* file?
   if ( /^qf(\w{14})/ ) {
      my $qf_file = $_;
      my $queue_id = $1;
      my $deferred = 0;
      my $from_postmaster = 0;
      my $delivery_failure = 0;
      my $junk_mail = 0;
      open (QF_FILE, $_);
      while(<QF_FILE>) {
         $deferred = 1 if ( /^MTemporarily/ | /^Mhost map: lookup/ | /^MUser unknown/ );
         $delivery_failure = 1 if \
            ( /^H\?\?Subject: DELIVERY FAILURE: (User|Recipient)/ );
         if ( $deferred && $from_postmaster && $delivery_failure ) {
            $junk_mail = 1;
                     }
      $temp=$qf_file.':';
      if($junk_mail){
      while(<QF_FILE>){
      chomp;
      if(/rRFC822;/){
      $temp.=subdtr($_,9)
      }
      if(/H?D?Date:/){
      $temp.=':'.substr($_,10);
      push @write_array, $temp."\n";
      }
      }
      }
      }
      close (QF_FILE);
      my $subqueue_id = substr($queue_id,9);
      if ($junk_mail) {
         print "Removing $queue_id...\n";
         system "perl $qtool -d $mqueue_directory*$queue_id";
         $messages_removed++;
      }
   }
}
open (MYFILE,">/scripts/mail.txt");
print MYFILE "@write_array";
close (MYFILE);
$to='yagya@mydomain.in';
$from='system@mydomain.in';
$subject='deleted mails';

open(MAIL,"|/usr/sbin/sendmail -t");
print MAIL "To: $to\n";
print MAIL "From: $from\n";
print MAIL "Subject: $subject\n\n";
print MAIL "@write_array\n";
close(MAIL);

print "\n$messages_removed total \"double bounce\" message(s) removed from ";
print "mail queue.\n"; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-11T06:25:08.333

Setuid 程序自动在污点模式下运行。这一切都在[perlsec](http://perldoc.perl.org/perlsec.html)中进行了解释，包括错误消息中的文本。通常，如果您将错误消息粘贴到搜索引擎中，您会很快找到如何处理它。[在使用 -T switch 运行时，](https://stackoverflow.com/questions/4552197/insecure-envenv-while-running-with-t-switch)您可能还会看到Insecure $ENV{ENV} 。

# javascript - jQuery Masonry——在窗口调整大小事件中限制为最大宽度？

> ID：10545188
> 
> 赞同：4
> 
> 时间：2012-05-11T03:49:34.780
> 
> 标签：javascript, jquery, max, jquery-masonry, css

我正在使用[jQuery Masonry](http://masonry.desandro.com/demos/centered.html)来显示一个盒子网格（大小都一样）。

[这是我的测试站点。](http://test.davewhitley.com/not-wp/wb/projects.php)

当浏览器宽度为 1100 像素或以下时效果很好。

在 1270px 及以上查看时，Masonry 不断在右侧添加列。

我在外部容器上设置了最大宽度，但 Masonry 似乎没有承认它，只是不断扩大 Masonry 容器的宽度。

在[Masonry Centered 页面上](http://masonry.desandro.com/demos/centered.html)，您可以看到它是居中的，但没有限制宽度。随着浏览器宽度的增加，它只会不断扩展并添加更多列。

我如何添加一个硬性规则来说明“这是最大宽度。停止尝试添加更多列。”

谢谢

**更新** [这是一个 jsfiddle](http://jsfiddle.net/26dsg/4/embedded/result)，虽然我不确定它是否设置正确。最好只是去[我的测试站点](http://test.davewhitley.com/not-wp/wb/projects.php)看看问题。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-23T17:47:58.457

在砌体容器的父元素上设置 a`max-width`对我有用。这不是您要找的结果吗？

```
#wrapper { max-width: 990px; } 
```

# eclipse - eclipse+FDT无法加断点

> ID：10545189
> 
> 赞同：0
> 
> 时间：2012-05-11T03:49:42.820
> 
> 标签：eclipse, flash, fdt

我正在使用 Eclipse 3.7.1 和 FDT 3.5 来开发我的程序，一个网页游戏。现在我可以使用我的 Internet Explorer 构建项目并对其进行调试，控制台窗口打印我通过我的代码跟踪的所有内容，但我无法在编辑器排水沟上添加任何断点，在行号之前，双击。如果我右键单击编辑器排水沟，只有“添加书签”和“添加任务”之类的选项，我已经安装了flashplayer_11_ax_debug。那是什么问题？我很担心，因为我的老板正在等待为我的工作.......任何帮助都是值得期待和尊重的。非常感谢大家**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T12:41:38.237

FDT 3.5 不再受支持，尤其是更高的 Eclipse 版本（例如 3.7.1）。

当 FDT 3.5 发布时，Eclipse 大约是 3.3 / 3.4。尝试下载 FDT 3.5 的独立副本或将 FDT 3.5 插件与基于版本 3.3 或 3.4 的 Eclipse 一起使用。

您还可以升级到最新的 FDT。升级价格并不高。

[http://fdt.powerflasher.com/buy-download/](http://fdt.powerflasher.com/buy-download/)

# vba - 在 Access 2007 中以连续形式向每条记录添加复选框

> ID：10545191
> 
> 赞同：1
> 
> 时间：2012-05-11T03:49:59.273
> 
> 标签：vba, ms-access-2007

我是 VBA 和 Access 的新手。我必须创建一个库存贷款表单，使用户能够查看和更新​​用户的项目贷款详细信息。我创建了一个显示查询记录结果的连续表单（表单的我的 RecordSource 就是这个查询）。

我目前有一个名为“Loan Details”的表，其中包含一个名为“Return status”的布尔列。我已使用此列将一个复选框绑定到它，并将该复选框与记录一起放置。我想创建这样一个用户可以选择特定记录的复选框，然后单击“更新返回状态”按钮，有 vba 代码使用查询将“返回状态”再次更改为 True。

但是，该复选框不允许我选择（我认为这是因为该复选框仅显示“返回状态”值）而且我不太确定如何去做。

我知道这是一个常见问题，但我尝试在网上搜索并找不到任何解决我问题的方法。

对不起，如果我听起来不清楚！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-14T08:50:02.847

该查询看起来不像是可更新的。要检查，请尝试更改文本框并查看 MS Access 窗口底部的状态栏。它将从“表单视图”之类的内容更改为“此记录集不可更新”。简单地从隐式连接更改为显式连接可能会有所帮助。

显式连接

```
 SELECT * 
 FROM items
 INNER JOIN (
    SELECT [Pdt ID] 
    FROM [Loan Detail] 
    WHERE [Loan Detail].[EmpID] = Forms![Update Form]![IDText]) AS pdtList 
 ON pdtList.[Pdt ID] = items.ID 
```

BTW * 几乎总是一个坏主意，您应该列出您需要的字段（列）。

# c# - 非常简单的c#提交按钮

> ID：10545192
> 
> 赞同：0
> 
> 时间：2012-05-11T03:50:00.527
> 
> 标签：c#, asp.net

我的页面顶部有几个 ImageButton，然后中间有一个文本框和按钮。如果您在文本框中键入，然后在键盘上按 Enter 键，浏览器会跟随第一个 ImageButton 的链接，而不是文本框旁边的提交按钮。我遇到了这个问题，不得不将图像按钮放在页面底部以使其正常工作，在这种情况下这不是一个好的解决方法。我尝试设置 UseSubmitBehavior="true" ，但这无济于事。我尝试将文本框和按钮放在单独的 DIV 和单独的面板中，也没有用

页面顶部

```
 <div style="position:absolute; left: 70% ; top: 5%;">
    <asp:ImageButton ID="imgFB" runat="server" ImageUrl="Images/facebook_icon.jpg"  PostBackUrl="http://www.facebook.com/832586561" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <asp:ImageButton ID="imgLI" runat="server" ImageUrl="Images/linkedin_logo.jpg" PostBackUrl="http://www.linkedin.com/pub/scott-selby/33/304/44a" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <asp:ImageButton ID="imgCB" runat="server" ImageUrl="Images/careerbuilder_logo.jpg" PostBackUrl="http://www.careerbuilder.com" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <asp:ImageButton ID="imgCP" runat="server" ImageUrl="Images/codeplex_logo.jpg" PostBackUrl="http://www.codeplex.com" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</div> 
```

页面中间

```
 <div ID="formPanel" runat="server" style="position:absolute; top:235px;">
         <asp:TextBox ID="txtNewCity" runat="server"></asp:TextBox>
         <asp:Button ID="btnChangeCity" runat="server" Text="Change City" UseSubmitBehavior="true" />
    </div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T03:55:27.520

`<form/>`您可以通过属性设置默认按钮。

```
<form defaultbutton="btnChangeCity" id="form1" runat="server">
  ...
</form> 
```

或使用[面板](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.panel.defaultbutton.aspx)控件设置默认按钮。

```
<asp:Panel ID="Panel1" runat="server" DefaultButton="btnChangeCity">
  <asp:TextBox ID="txtNewCity" runat="server"></asp:TextBox>
  <asp:Button ID="btnChangeCity" runat="server" Text="Change City" />
</asp:Panel> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T03:56:13.557

你用它来包围你的控件`<div>`是个好主意，但要让它完全运行你还需要`<form>`。如果您只是没有包含它，则提交按钮也必须具有`OnClick="sub"`属性。

[在这里](http://www.w3schools.com/aspnet/aspnet_forms.asp)阅读更多。

# actionscript-3 - 添加停止（）；到时间轴上的影片剪辑导致所述影片剪辑中的补间不播放，影片剪辑只是跳到结尾

> ID：10545193
> 
> 赞同：0
> 
> 时间：2012-05-11T03:50:05.293
> 
> 标签：actionscript-3, flash, actionscript, flash-cs5

我有一个由 3 个独立符号组成的影片剪辑。其中 2 个符号的 alpha 补间超过 60 帧。1 个符号根本没有补间。所有符号都位于单独的图层中，并且在第 60 帧上有一个带有关键帧的第 4 个空图层，用于操作脚本。

第 60 帧上的动作脚本只是“stop();” .

我正在从文档类动态地将影片剪辑的实例添加到舞台。当我有“stop();” 在那里，影片剪辑出现在舞台上并直接跳到第 60 帧，并成功停止。

没有“停止（）；” 在那里，movieclip 完美地播放了 alpha 补间，但显然是连续循环的。

手动调度 Event.COMPLETE 并监听它也不起作用，我也不希望那样做。

这是将影片剪辑添加到舞台的代码：

```
//initialize the gameplay, remove title screen.
    private function initialize_gameplay():void
    {

        //remove the title screen
        initialize_title_screen(true);

        this.screen_transition_obj  = new tide_out_video();         
        this.addChild(this.screen_transition_obj);

        this.game_board = new tidepool_gameboard();

        this.screen_transition_obj.addEventListener(Event.COMPLETE,swap_transition_video_for_screen);

    }

    //replace the current transition video with the screen it was transitioning to
    private function swap_transition_video_for_screen(e:Event){

        this.addChild(this.game_board);

        if(this.screen_transition_obj != null){
            if(this.getChildByName(this.screen_transition_obj.name)){
                this.removeChild(this.screen_transition_obj);
            }
            this.screen_transition_obj.removeEventListener(Event.COMPLETE, swap_transition_video_for_screen);
            this.screen_transition_obj = null;
        }

    } 
```

影片剪辑的类是**tidepool_gameboard**，存储对它的引用的文档类的属性是**game_board**。

知道为什么要放置**stop();** 在影片剪辑的第 60 帧上导致它跳到结尾而不进行补间？

## **更新：**

立即将影片剪辑添加到舞台，而不是作为事件侦听器的结果正常工作，只有在事件侦听器中添加影片剪辑时才会出现问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T16:55:58.373

我不敢相信我忽略了这一点，因为它现在对我来说似乎相当明显。

在问题中发布的代码中，我初始化了**this.game_board**的一个新实例，然后在基于视频剪辑的事件侦听器延迟后将其添加到舞台。动画正在播放，但它是在剪辑添加到舞台之前播放的。

感谢回答[这个问题的](https://stackoverflow.com/questions/1838951/dynamically-adding-movieclip-to-stage-as3)**alecmce 。**

我做了他的 Event.ADDED_TO_STAGE 事件监听器，它起作用了，这让我意识到，MovieClip 不会等到它被添加到舞台上才开始播放自己的时间线，它只是在您实例化对象的那一刻开始。

这是新的、功能齐全的代码：

```
 //initialize the gameplay, remove title screen.
    private function initialize_gameplay():void
    {

        //remove the title screen
        initialize_title_screen(true);

        this.screen_transition_obj  = new tide_out_video();
        this.addChild(this.screen_transition_obj);

        this.screen_transition_obj.addEventListener(Event.COMPLETE,swap_transition_video_for_screen);

    }

    //replace the current transition video with the screen it was transitioning to
    private function swap_transition_video_for_screen(e:Event)
    {

        this.game_board = new tidepool_gameboard();
        this.addChild(this.game_board);

        if (this.screen_transition_obj != null)
        {
            if (this.getChildByName(this.screen_transition_obj.name))
            {
                this.removeChild(this.screen_transition_obj);
            }
            this.screen_transition_obj.removeEventListener(Event.COMPLETE, swap_transition_video_for_screen);
            this.screen_transition_obj = null;
        }
    } 
```

# testing - Rails 3.2.3 Rake Cucumber：未加载库

> ID：10545195
> 
> 赞同：1
> 
> 时间：2012-05-11T03:50:26.270
> 
> 标签：testing, cucumber, ruby-on-rails-3.2

在将我的 ruby​​ 更新到 1.9.3 并将 rails 更新到 3.2.3 之后，我一直在尝试遵循[RailsApp Projects devise、rspec 和 cucumber](http://railsapps.github.com/tutorial-rails-devise-rspec-cucumber.html)的教程，并且在步骤中尝试 cucumber 时遇到了问题

```
rake cucumber 
```

并得到一个 rake aborted 错误

```
dlopen(/Users/Aurelien/.rvm/gems/ruby-1.9.3-p194/gems/nokogiri-1.5.2/lib/nokogiri/nokogiri.bundle, 9): Library not loaded: /opt/local/lib/libiconv.2.dylib
  Referenced from: /Users/Aurelien/.rvm/gems/ruby-1.9.3-p194/gems/nokogiri-1.5.2/lib/nokogiri/nokogiri.bundle
  Reason: Incompatible library version: nokogiri.bundle requires version 8.0.0 or later, but libiconv.2.dylib provides version 7.0.0 - /Users/Aurelien/.rvm/gems/ruby-1.9.3-p194/gems/nokogiri-1.5.2/lib/nokogiri/nokogiri.bundle 
```

任何人都遇到了类似的问题并找到了解决方案，这将有很大帮助。当前的gem文件：

```
gem 'rails', '3.2.3'
gem 'sqlite3'
group :assets do
  gem 'sass-rails',   '~> 3.2.3'
  gem 'coffee-rails', '~> 3.2.1'
  gem 'uglifier', '>= 1.0.3'
end

gem 'jquery-rails'
gem "rspec-rails", ">= 2.9.0.rc2", :group => [:development, :test]
gem "factory_girl_rails", ">= 3.1.0", :group => [:development, :test]
gem "email_spec", ">= 1.2.1", :group => :test
gem "cucumber-rails", ">= 1.3.0", :group => :test
gem "capybara", ">= 1.1.2", :group => :test
gem "database_cleaner", ">= 0.7.2", :group => :test
gem "launchy", ">= 2.1.0", :group => :test
gem "devise", ">= 2.1.0.rc"
gem "cancan", ">= 1.6.7"
gem "rolify", ">= 3.1.0"
gem "bootstrap-sass", ">= 2.0.1"
gem "nokogiri" 
```

在 features/support/env.rb 中

```
require 'cucumber/rails'
.
.
.
Capybara.default_selector = :css
.
.
.
ActionController::Base.allow_rescue = false
.
.
.
begin
  DatabaseCleaner.strategy = :transaction
rescue NameError
  raise "You need to add database_cleaner to your Gemfile (in the :test group) if you wish to use it."
end 
```

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-11T04:09:24.357

显然问题来自nokogiri。我卸载了 nokogiri gem，然后重新安装它，现在似乎可以工作了。

一个重要的注意事项，网上有很多垃圾：不要触摸，除非你真的知道你在做什么，/opt/local/lib/libiconv.2.dylib 文件，否则它可能会导致 OSX 应用程序出现问题。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-05-30T13:53:43.633

我在 OSX 上遇到了同样的问题。

在我的 .bash_profile 中，我有：

导出 DYLD_LIBRARY_PATH=$DYLD_LIBRARY_PATH:/usr/local/mysql/lib:/usr/lib/

我删除了 /usr/lib 并且一切正常。

为了调试这个我开始：

1.  找到 libiconv.dylib
2.  oTool -L {lib} - 用于上一步中的每个库。

/usr/lib 中的系统版本是 7.0 版，这是错误的根源。然后我意识到系统正在回退到旧版本的库......因此导致我的环境变量。

如果遇到此问题，请先检查 LD_LIBRARY_PATH 和 DYLD_LIBRARY _PATH！

# javascript - 在dojo中编码，1.得到错误所有者文档为空或不是对象，2.更改后按钮标签未更新

> ID：10545196
> 
> 赞同：0
> 
> 时间：2012-05-11T03:50:53.180
> 
> 标签：javascript, dojo

1.  我创建了一个这样的标签

    ```
    <label id="unit">Unit</label> 
    ```

我正在尝试以编程方式更改标签，编写代码，

```
dojo.place('<label>'+grid.getItem(itr-1).unit+'</label>', dojo.byId('unit'), 'replace'); 
```

但 IE7 抛出错误，ownerDocument 为 null 或不是对象。

就好像我在 dojo.addOnload 函数中执行操作一样，它工作得非常好。

2\. 我尝试更改按钮的标签，例如

```
 saveButton.label="Modify"; 
```

当我给的时候，alert(saveButton.label); 新值会显示，但不会在屏幕上更新。

请提供以上两种解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T17:00:58.023

它不是`saveButton.label="Modify"` 它`saveButton.innerHTML`

# ios - 如何使用asiformdatarequest上传图片

> ID：10545200
> 
> 赞同：3
> 
> 时间：2012-05-11T03:51:29.120
> 
> 标签：ios, image-uploading, asiformdatarequest

我打算使用 asiformdatarequest.my 代码将图像上传到服务器，例如：

```
UIImage *image = [UIImage imageNamed:@"testicon.jpg"];
    NSData *imgData = [[NSData alloc] initWithData:UIImageJPEGRepresentation((image), 0.5)];
    NSURL *url = [NSURL URLWithString:[NSString stringWithFormat:ADDRESS,myType,action]];

    ASIFormDataRequest *currentRequest = [ASIFormDataRequest requestWithURL:url];
    [currentRequest setPostFormat:ASIMultipartFormDataPostFormat];
    [currentRequest addRequestHeader:@"Content-Type" value:@"multipart/form-data"];
    [currentRequest setRequestMethod:@"POST"];
    [currentRequest setPostValue:@"1" forKey:@"user_id"];

    NSLog(@"responseString = %@",responseString); 
```

但是服务器没有返回正确的结果。这可能是什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T03:54:37.607

您没有设置数据-

```
[currentRequest setData:imgData forKey:@"file"]; 
```

# php - 将两行 python 代码转换为 PHP

> ID：10545202
> 
> 赞同：1
> 
> 时间：2012-05-11T03:51:45.207
> 
> 标签：php, python

我有这两行用 python 编写的代码，我想将它们转换为 php，请帮助我不知道如何在 php 中执行此操作。

```
#code in python:
vowels= re.compile(ur'[\u064B-\u0652]')
newstr = vowels.sub('', str) 
```

谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T04:00:02.383

我相信你想要的是 PHP 的[`preg_replace()`](http://php.net/manual/en/function.preg-replace.php). 我不知道 PHP 如何处理 Unicode，所以我不确定您是否可以按原样采用 Python 模式并将其与 PHP 一起使用，但使用的语法`preg_replace()`如下所示：

```
<?php
$mystring = "jask;lfjalksdf"
$pattern = "/\u064B-\u0652/";
$replacement = "";

echo preg_replace($pattern, $replacement, $mystring);
?> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-11T05:22:58.157

我认为这是等效的：

```
<?php
    $vowels ='/[\x{064B}-\x{0652}]/u'; 
    $newstr = preg_replace($vowels,"",$str); 
```

字符串应该是 UTF-8 编码的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-11T03:55:28.173

re.compile() 意味着它编译一个正则表达式。看看[这个](http://weblogtoolscollection.com/regex/regex.php)以获得一些帮助。

sub 函数本质上是将 str 添加到正则表达式的开头。

有关 python 正则表达式的更多信息可以在[这里找到](http://docs.python.org/library/re.html)

# ios - 是否有任何集成了 twitter 和 facebook 的单点登录项目

> ID：10545214
> 
> 赞同：1
> 
> 时间：2012-05-11T03:53:07.137
> 
> 标签：ios, facebook, twitter, single-sign-on, sharekit

我正在开发一个 ios 应用程序，我希望允许用户使用 Twitter 和 Facebook 登录。[有没有像ShareKit](http://getsharekit.com)这样的开源项目集成了两者？或者是否有项目集成到 ShareKit 中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T06:16:19.517

现在，您在 iOS SDK 中拥有了 twitter 框架。所以我建议你坚持下去。另一方面，Facebook 仍然不是 iOS SDK 的一部分。不过，将它集成到您​​的应用程序中非常简单（如果您能够自己花 20 分钟来学习它）。你可以[在这里查看](http://developers.facebook.com/docs/mobile/ios/build/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T07:09:35.150

其他可能性是使用[ShareKit 2.0](https://github.com/ShareKit/ShareKit)。不再维护原始 ShareKit。[ShareKit 2.0](https://github.com/ShareKit/ShareKit)使用 iOS5 Twitter 框架和 Facebook SSO。如果您决定使用[ShareKit 2.0](https://github.com/ShareKit/ShareKit)，请确保遵循更新的[安装指南](https://github.com/ShareKit/ShareKit/wiki/Installing-sharekit)。您可以快速预览 ShareKit 能够运行演示应用程序的功能。

# sql - SQL Server 2005 中的日期时间转换

> ID：10545215
> 
> 赞同：-2
> 
> 时间：2012-05-11T03:53:07.623
> 
> 标签：sql, datetime

为什么

```
select cast('''1900-01-01''' as datetime) 
```

在 SQL Server 2005 中失败？

它显示错误消息：

> 从字符串转换日期时间时转换失败。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T03:57:18.360

你有一个无效的参数。它应该是

```
cast('1900-01-01' as datetime) 
```

有关更多信息，请参见此处：[CAST 和 CONVERT](http://msdn.microsoft.com/en-us/library/ms187928.aspx)以及[如何从字符串转换为日期时间？](http://www.sqlusa.com/bestpractices/datetimeconversion/)

# php - ZFDebug Toolbar 如何记录自定义消息？

> ID：10545217
> 
> 赞同：0
> 
> 时间：2012-05-11T03:53:18.083
> 
> 标签：php, debugging, zend-framework

如何在 ZFDebug 工具栏中记录自定义消息或记录输出？

我用谷歌搜索并找不到一个例子。我开始知道有一个叫做文本插件的东西。但我不知道如何使用它。谁能给我一个例子？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T17:14:41.860

添加例如和错误消息很简单：

```
ZFDebug_Controller_Plugin_Debug_Plugin_Exception::errorHandler($level, $message, $file, $line); 
```

当您想向 ZFDebug 添加新选项卡时，只需编写您自己的插件即可。然后在初始化 ZFDebug 时将写入的类包含到选项中。

# python - PyCrypto 生成错误的签名

> ID：10545222
> 
> 赞同：10
> 
> 时间：2012-05-11T03:53:47.850
> 
> 标签：python, pycrypto

正如下面的代码所示，我在使用 PyCrypto 时遇到了重大问题。一个问题是测试用例不会以可重复的方式失败，而是在使用不同密钥的不同平台上具有不同的原因。

请注意，测试用例为 Alice 和 Bob 提供了两组密钥，第一组由 OpenSSL 生成，第二组由 PyCrypto 生成（取消注释“备用密钥”部分）。

测试用例是一个简单的往返：

1.  Alice 生成对称密钥并加密数据
2.  Alice 用 Bob 的公钥加密对称密钥，然后用她的私钥对加密的密钥进行签名（在这个简单的测试用例中不使用散列）。
3.  Bob 用 Alice 的公钥验证签名，并用他的私钥解密对称密钥。
4.  Bob 使用对称密钥解密数据。

以下是一些示例运行的结果：

## 在具有 OpenSSL 密钥的 Linux 上

```
attempts: 1000
 success: 0
mismatch: 0
    fail: 1000
  Bad signature = 993
  Ciphertext too large = 7 
```

## 在 Linux 上使用 PyCrypto 密钥

```
attempts: 1000
 success: 673
mismatch: 0
    fail: 327
  AES key must be either 16, 24, or 32 bytes long = 3
  Ciphertext too large = 324 
```

## 在具有 OpenSSL 密钥的 Windows 上

```
attempts: 1000
 success: 993
mismatch: 0
    fail: 7
  AES key must be either 16, 24, or 32 bytes long = 3
  Bad signature = 4 
```

## 在带有 PyCrypto 密钥的 Windows 上

```
attempts: 1000
 success: 994
mismatch: 0
    fail: 6
  AES key must be either 16, 24, or 32 bytes long = 6 
```

这是测试用例：

```
from Crypto import Random
from Crypto.PublicKey import RSA
from Crypto.Cipher import AES
from Crypto.Util.number import long_to_bytes, bytes_to_long
from base64 import b64encode, b64decode

rng = Random.new().read

# openssl genrsa -out alice.rsa 1024
alice_private_key = RSA.importKey('''
-----BEGIN RSA PRIVATE KEY-----
MIICXAIBAAKBgQDcWasedZQPkg+//IrJbn/ndn0msT999kejgO0w3mzWSS66Rk3o
Nab/pjWFFp9t6hBlFuERCyyqjwFbqrk0fPeLJBsKQ3TOxDTXdLd50nIPZFgbBmtP
khKTd7tydB6GacMsLqrwI7IlJZcD7ts2quBTNgQAonkr2FJaWyJtTbb95QIDAQAB
AoGAbnIffD/w+7D5ZgCeTAKv54OTjV5QdcGI/OI1gUYrhWjfHAz7JcYms4NK1i+V
r9EfcJv8Kb/RHphZVOoItM9if5Rvaf890r4T+MUUZbl4E7LwEWBuASe6RPyI8Dao
uTOomFlKDjT5VbcBx+WOD+upmrjAwcolyLVulQ5g9Z59pW0CQQDybUKrz4EVzKMx
rpAx0gIzkvNpe/4gxXBueyWqUTASiSwojyZFY6g25KVMuW16fSsRStptm6NpumxB
XVojid7nAkEA6K/7VZd2eMq0O/MP2LT1n6dzx7130Y1g9HWbjsLTRWevGYytcD0O
ldebQxgCbLftuvkcpRtbmIjOsbji4dRfUwJBAJiQolC1+irZ6iouDZkM7U2/wWg1
HC1LlAIzhfS1u2cu5Jdx30fz+7zwEAdE+t0HQL9VODmapTC4ncBVG5EaBykCQB0L
4s8DckmP3EHjjKXbqRG+AIj9kNh60pCRodKHZYIzeDszQW9SX+C6omoUtDDIIQgH
EtlVefCnm026K7BPJ3sCQAdhylJJ/ePSiY9QriPG/KTZR2aprF8eM1UrRebH2S0S
4hZZmqYH/T/akHVxPsyuqyzoZGbVj6kauRhWbBLmpWk=
-----END RSA PRIVATE KEY-----
'''.strip())

# openssl rsa -in alice.rsa -out alice.pub -pubout
alice_public_key = RSA.importKey('''
-----BEGIN PUBLIC KEY-----
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDcWasedZQPkg+//IrJbn/ndn0m
sT999kejgO0w3mzWSS66Rk3oNab/pjWFFp9t6hBlFuERCyyqjwFbqrk0fPeLJBsK
Q3TOxDTXdLd50nIPZFgbBmtPkhKTd7tydB6GacMsLqrwI7IlJZcD7ts2quBTNgQA
onkr2FJaWyJtTbb95QIDAQAB
-----END PUBLIC KEY-----
'''.strip())

# openssl genrsa -out bob.rsa 1024
bob_private_key = RSA.importKey('''
-----BEGIN RSA PRIVATE KEY-----
MIICXwIBAAKBgQDddMPxMRIe34mNYbldimaZ1j4Zw/kqPHkOfbzBhp3XR254eSQO
Ne9DgaLQhw16n4o3FFP8aijlotw/LUfKosEldmiCFuZdTiMP/49a5CbQ/End+Z38
tHIzmGv7qjtkU7K8Eu/J5/y3wqBNAkfejC4j8MNxg8eBBGTq8okra8in8wIDAQAB
AoGBAKmueSAKME81iiipMyWoEPtYe9a0IOsq0Lq4vvMtmS1FTzDB6U12J/D6mGzc
vggxy+5uBfgGw3VINye1IyfxUrlbD0iycMY0dZUgm0QetOOnv8ip/cSKpAilvK+B
H4q9ES0L2M/XOZoFgSmg58HS9UJfcXz95un8WRxSvn26lH3BAkEA/VZoZmTJ5W5f
NwqxbWmOokRn+hBOl1hOvCDbRjuMKWNdQSFSmsQtjbGorNYfT4qrL4SxPbE3ogAe
Pw9zxHbWkwJBAN/IlQtCfncEZ/3wYCS2DxEbO5NPEBTUQgOGzauQ4/lzU5k73gXL
ZiHZYdwNUPY359k+E26AAEBG5A+riI1VZSECQQCYR7Jlqjv6H4g4a8MPQ54rR/dA
R0EWlExvpUhpRS4RStspZUBkK3w+agY8LlGP3Ijd/WMU9Eu+o1eLDFzIQa7lAkEA
kViwJV4M0bSU7oRfjbiJ1KyBZ04kvcKXFb9KejJjP7O+Cnqt28meDkIoo0oq2aC5
/4moCU8t2pGwstTQnitmwQJBAPSIOKujoLp23e4KCbB8ax9meY+2jaWTtf5FPpSV
tHs1WhlITxCowbjF+aWGsypitdT596cHFKAV0Om89vf6R0U=
-----END RSA PRIVATE KEY-----
'''.strip())

# openssl rsa -in bob.rsa -out bob.pub -pubout
bob_public_key = RSA.importKey('''
-----BEGIN PUBLIC KEY-----
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDddMPxMRIe34mNYbldimaZ1j4Z
w/kqPHkOfbzBhp3XR254eSQONe9DgaLQhw16n4o3FFP8aijlotw/LUfKosEldmiC
FuZdTiMP/49a5CbQ/End+Z38tHIzmGv7qjtkU7K8Eu/J5/y3wqBNAkfejC4j8MNx
g8eBBGTq8okra8in8wIDAQAB
-----END PUBLIC KEY-----
'''.strip())

# Alternate keys (uncomment for PyCrypto keys)
#alice_private_key = RSA.generate(1024, rng)
#alice_public_key = alice_private_key.publickey()
#bob_private_key = RSA.generate(1024, rng)
#bob_public_key = bob_private_key.publickey()

def generate(data, signature_key, encryption_key):
    # Generate encrypted data
    symmetric_key = rng(16)
    symmetric_cipher = AES.new(symmetric_key)
    padded_data = data + (' ' * (16 - divmod(len(data), 16)[1]))
    encrypted_data = bytes(symmetric_cipher.encrypt(padded_data))

    # Encrypt the symmetric key
    encrypted_key = bytes(encryption_key.encrypt(symmetric_key, None)[0])

    # Sign the encrypted key
    signature = long_to_bytes(signature_key.sign(encrypted_key, None)[0])

    return encrypted_key, signature, encrypted_data

def validate(encrypted_key, signature, encrypted_data, verification_key, decryption_key):
    # Verify the signature
    if not verification_key.verify(encrypted_key, (bytes_to_long(signature),)):
        raise Exception("Bad signature")

    # Decrypt the key
    symmetric_key = decryption_key.decrypt((encrypted_key,))

    # Decrypt the data
    symmetric_cipher = AES.new(symmetric_key)
    return symmetric_cipher.decrypt(encrypted_data).strip()

def test():
    attempts = 1000
    success = 0
    mismatch = 0
    fail = 0
    causes = {}
    for _ in range(attempts):
        data = b64encode(Random.new().read(16))
        try:
            encrypted_key, signature, encrypted_data = \
                generate(data, alice_private_key, bob_public_key)
            result = validate(encrypted_key, signature, 
                encrypted_data, alice_public_key, bob_private_key)
            if result == data:
                success += 1
            else:
                mismatch += 1
        except Exception as e:
            fail += 1
            reason = str(e)
            if reason in causes:
                causes[reason] += 1
            else:
                causes[reason] = 1

    print("attempts: %d" % attempts)
    print(" success: %d" % success)
    print("mismatch: %d" % mismatch)
    print("    fail: %d" % fail)
    for cause, count in causes.items():
        print("  %s = %d" % (cause, count))

test() 
```

PyCrypto 似乎是这样一个篮子，有什么理由吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-11T12:29:27.803

首先，我会考虑使用 OpenSSL 密钥的情况。最重要的事实是 Bob 的 RSA 模数 ( `bn`) 略小于 Alice 的 RSA 模数 ( `an`)。

错误`Ciphertext too big`显示在“发件人”（即在`generation`函数内）。您“签名”的密文保证小于`an`（因为加密是模计算的`an`），但有时（由于明文是随机的）碰巧大于`bn`. 在这种情况下，签名是不可能的。

据我所知，仅当您安装了 GMP 库时才会执行检查并引发异常，这在 Linux 系统上通常是这种情况。在 Windows 上，很难安装这样的库，并且 pycrypto 依赖于纯 python 代码。在这种情况下不会引发异常（尽管应该，但两个版本的行为方式应该相同），并且您将默默地得到错误的值作为签名 ( `Bad signature`)。

当`AES key must be either 16, 24, or 32 bytes long`您的随机 AES 密钥以`0x00`. 由于 RSA 原语将字节字符串转换为整数，因此前导零将在此过程中丢失，并且您将在接收端返回该错误。

如果您即时生成 RSA 密钥，在 50% 的情况下`bn>an`，您会看到更少的错误。

我无法理解为什么在使用 OpenSSL 密钥的 Linux 上 100% 的测试会失败，但我想有类似的原因可以解释这一点。

一般来说（这也适用于所有其他加密库），所有问题的根本原因是您使用的是*原始*RSA 机制。除了考虑限制和使用 API 的正确方法之外，您还有一个很大的安全漏洞。**必须始终**使用某种形式的安全填充，否则攻击者很容易破坏您的方案。

在 PyCrypto 中，可以通过 PKCS#1 模块为[RSA 签名](https://www.dlitz.net/software/pycrypto/api/current/Crypto.Signature-module.html)和[RSA 加密](https://www.dlitz.net/software/pycrypto/api/current/Crypto.Cipher.PKCS1_OAEP-module.html)提供适当的协议。但是，请注意，必须对消息散列（例如 SHA1）进行签名，并对比 RSA 模数小得多的有效负载进行加密。

# php - 如何使用 uniqid 生成 6 个字符长度的 ID？

> ID：10545226
> 
> 赞同：3
> 
> 时间：2012-05-11T03:54:39.393
> 
> 标签：php, random, unique

我的网站有一个部分为每个帖子生成一个唯一的 ID，然后将其发送到数据库。问题是生成的 ID 总长度为 16 个字符，我只需要 id 为 6 个字符。

这是用于生成 ID 的代码：

```
$order_id  = uniqid(rand(10,1000), false); 
```

有什么方法可以完成这样的改变吗？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-05-11T07:59:32.633

为什么不在数据库中使用 auto_incremental 呢？所以第一个 id 是 1，然后是 2，依此类推。如果您只需要 6 位数字，这将产生 999 999 个不同的键。

* * *

此处先前接受的答案（`substr()`用于从 中获取前 6 个字符`uniqid()`）不是 100% 安全的。`uniqid`将产生一个唯一的 id，其中整个 id 都是唯一的。通过删除这些字符，您最终可能会得到重复。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-12-24T06:27:20.967

正如**OptimusCrime**上面所说，您可以在数据库中使用 auto_increment 和 PHP 函数**str_pad**。例如：

```
<?php

$input = 5;
echo str_pad($input, 6, "0", STR_PAD_LEFT); 
```

上面的代码将生成 6 位字符串，因此您可以使用函数来获取任何您想要的字符串：

```
000005 
```

# javascript - 从客户端上传文件而不使用 Fileupload 控件

> ID：10545227
> 
> 赞同：0
> 
> 时间：2012-05-11T03:54:51.630
> 
> 标签：javascript, asp.net-mvc-3, client

> **可能重复：**
> [在没有打开文件对话框的情况下将文件从客户端上传到服务器](https://stackoverflow.com/questions/10578803/upload-file-from-client-to-server-without-openfile-dialog)

我想在服务器上上传文件，但我只有文件路径（本地路径，如：`D:\FolderName\FileName.txt)`。有没有办法用文件路径在服务器上上传本地系统文件。我尝试使用服务器端但不可能。是否可以通过 javascript /jquery。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T04:08:35.773

我不确定我是否完全理解你想要做什么。我假设您在客户端计算机上有一个文件，并希望通过 HTTP 将其上传到服务器，就像您在 Web 表单上使用文件上传元素一样，但您不想使用浏览器。

我会使用命令行“curl”命令。查看[http://curl.haxx.se/docs/httpscripting.html](http://curl.haxx.se/docs/httpscripting.html)

# jquery - 从动态创建的列表视图中获取个人值

> ID：10545228
> 
> 赞同：0
> 
> 时间：2012-05-11T03:55:02.333
> 
> 标签：jquery, html, jquery-mobile

大家好，我有一个问题要问。我如何检索用户单击的某些值，例如，如果用户单击动态创建的列表视图中的第三个链接，它将能够检索值 47 并在用户单击第一个链接时检索值 44 等等. 下面是源代码

*   SUPDBL（高级双人间/双床间）

    ### - 房价包含早餐。- 客房配备 01 张双人床或 02 张单人床。- 免费无线上网。

    ### 价格：160.00 美元 154152

    *   DLXDBL（豪华双人/双床）

    ### - 房价包含早餐。- 客房配备 01 张双人床或 02 张单人床。- 免费无线上网。- 免费02瓶饮用水。

    ### 价格：175.00 美元 154518

    *   CCRTWIN（高级双人间/双床间）

    ### - 房价包含早餐。- 配备 01 张双人床或 02 张单人床的客房。- 在高级酒廊免费享用咖啡和茶。- 免费迎宾饮品和水果拼盘。- 免费无限使用 WiFi 上网。- 客房内赠送 02 瓶饮用水。- 客房位于较高楼层，享有古晋市的偏执景观。-房间全新配备液晶电视。

    ### 价格：220.00 美元 154884

    *   FML（家庭房）

    ### - 房价包含 03 名成人或 02 名成人和 02 名儿童的早餐。- 客房配备 01 张特大床和 01 张单人床。- 免费无线上网。- 免费02瓶饮用水。

    ### 价格：205.00 美元 155250

    *   ROOMONLY（仅限高级客房 - 促销）

    ### - 房价不含早餐。- 客房配备 01 张双人床或 02 张单人床。- 免费无线上网。

    ### 价格：145.00 美元 157957

    *   3D2NSUP（高级房3天/2夜特惠）

    ### - 至少 02 晚入住我们的高级客房 - 配备 01 张双人床或 02 张单人床的客房。- 房价包括最多 02 人的每日自助早餐 - 免费 WiFi 上网

    ### 价格：150.00 美元 158323

    *   ROOMONLY（仅限豪华间 - 促销）

    ### - 房价不含早餐 - 带 01 张双人床或 02 张单人床的客房 - 免费 WiFi 上网 - 免费 02 瓶饮用水

    ### 价格：160.00 美元 158689

    *   3D2NDLX（豪华房3天/2晚特价）

    ### - 至少 02 晚入住我们的豪华客房 - 配备 01 张双人床或 02 张单人床的客房。- 房价包括最多 02 人的每日自助早餐 - 免费 WiFi 上网 - 客房内免费 02 瓶饮用水

    ### 价格：165.00 美元 159055

    *   ROOMONLY（超级特卖）

    ### - 房价不含早餐 - 带 01 张双人床或 02 张单人床的客房 - 免费 WiFi 上网

    ### 价格：100.00 美元 174897

```
 <div data-role="content">
  <script type="text/javascript">

      function test(e) {
          $('#divContent ul li lblSeq').each(function () {
              alert($(this).html());
          });
      }
  </script> 
```

文件保护后的代码 void Page_Load(object sender, EventArgs e) { if (!Page.IsPostBack) { divContent.InnerHtml = this.BindHtml(); }

```
}
protected string BindHtml() 
{
    StringBuilder sb = new StringBuilder();
    var list = GetRateList();
    foreach(RateType r in list)
    {
        string sr = string.Format("<ul data-role='listview' onclick='test(this);' data-inset='true' data-theme='e'><li><a href='Room.aspx'<h3>{1} ({2}) </h3><h3>  {3} </h3><h3>{4} <span id='lblSeq' style='visibility:hidden; '>{0}</span></h3> </a></li></ul>"
          , r.SeqNo, r.ShortCode, r.Title, r.Description , String.Format( "Price: {0:c}",r.Rate) );
        sb.Append(sr);
    }
    return sb.ToString();
}

protected List<RateType> GetRateList()
{
    String lblCheckInDate = Request.Cookies["CheckInDate"].Value;
    DateTime CheckInDate = DateTime.Parse(lblCheckInDate);

  return RateTypeService.GetRateTypeList(13, CheckInDate);
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T09:06:21.870

Use onclick() event for li tag and pass the values to function what you want.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-14T03:38:51.483

像这样检查：

在后面添加这一行

```
 foreach(RateType r in list) 
{ 
    string param ="'"+r.SeqNo+"'";
    string sr = string.Format("<ul data-role='listview' onclick='test("+param +");' data-inset='true' data-theme='e'><li><a href='Room.aspx'<h3>{1} ({2}) </h3><h3>  {3} </h3><h3>{4} <span id='lblSeq' style='visibility:hidden; '>{0}</span></h3> </a></li></ul>" 
      , r.SeqNo, r.ShortCode, r.Title, r.Description , String.Format( "Price: {0:c}",r.Rate) ); 
    sb.Append(sr); 
} 
```

并检索价值

```
function test(code){ 
```

警报（代码）；}

# linq - 如何改进此 Linq Multiple OrderBy Generic 方法？

> ID：10545229
> 
> 赞同：1
> 
> 时间：2012-05-11T03:55:07.823
> 
> 标签：linq, generics, lambda, sql-order-by, expression

以下多个 OrderBy 会起作用吗？

```
products.OrderBy<MyType>(sortPrm[0], sortPrm[1]).OrderBy<MyType>(sortPrm[3],sord); 
```

我正在使用如下所示的自定义 OrderBy 通用方法，该方法不返回 IOrderedQueryable，因此我无法调用 ThenBy 方法。sortPrm 只是一个字符串数组，它包含我的排序列和排序方向信息，这些信息是从使用分隔符拆分为数组的字符串输入创建的

```
 public static IQueryable<T> OrderBy<T>(this IQueryable<T> query, string sortColumn, string direction)
    {
        string methodName = string.Format("OrderBy{0}",
            direction.ToLower() == "asc" ? "" : "descending");

        ParameterExpression parameter = Expression.Parameter(query.ElementType, "p");

        MemberExpression memberAccess = null;
        foreach (var property in sortColumn.Split('.'))
            memberAccess = MemberExpression.Property
               (memberAccess ?? (parameter as Expression), property);

        LambdaExpression orderByLambda = Expression.Lambda(memberAccess, parameter);

        MethodCallExpression result = Expression.Call(
                  typeof(Queryable),
                  methodName,
                  new[] { query.ElementType, memberAccess.Type },
                  query.Expression,
                  Expression.Quote(orderByLambda));
        return query.Provider.CreateQuery<T>(result);
    } 
```

已编辑：它似乎确实适用于生成的查询，如下所示：唯一奇怪的是 orderby 列在生成的查询中被颠倒了；所以我只是颠倒了放置它们的顺序：

```
products.OrderBy<MyType>(sortPrm[3],sord ).OrderBy<MyType>(sortPrm[0],sortPrm[1]); 
```

这是生成的查询：

```
 {SELECT [t1].[value] // all the columns selected
...
...
    FROM (
        SELECT CONVERT(Int,[t0]. // all the columns selected
...
... AS [t0]
        ) AS [t1]
    ORDER BY [t1].[/*my LAST orderby column*/], [t1].[[/*my FIRST orderby column*/] //Note the order is reversed
    }   System.Linq.IQueryable</*my iqueryable class*/> {System.Data.Linq.DataQuery</*my iqueryable class*/>} 
```

# select - Mybatis Nested Select for Association/Collection 不起作用

> ID：10545232
> 
> 赞同：1
> 
> 时间：2012-05-11T03:55:19.790
> 
> 标签：select, nested, associations, mybatis

我正在尝试使用结果图部分测试 Mybatis 的用户手册。Mybatis 版本：mybatis-3.1.0

```
<setting name="lazyLoadingEnabled" value="false" />

<resultMap id="blogMap" type="blog">
<constructor>
    <idArg column="id" javaType="_long" />
    <arg column="title" javaType="String" />
</constructor>
<association property="author" javaType="author" column = "author_id"           select = "getAuthor"/>
</resultMap>

<select id="getBlog" parameterType="Long" resultMap="blogMap">
    select
    b.id,
    b.title
    from
    blog b
    where b.id = #{id} 
</select>

<select id="getAuthor" parameterType="Long" resultType="author">
    select
    a.id ,
    a.username,
    a.password
    from author a
where a.id = #{id} 
</select> 
```

我的 Java 类：

```
public class Blog {
private long id;
private String title;

private Author author;
private List<Post> posts;
      //getter, setters and the constructor

public class Author {
private long id;
private String username;
private String password;
private String email;
private String bio;
private String favouriteSection; 
```

最后，我的测试模块

```
 BlogMapperInterface bm = context.getBean("blogMapper",BlogMapperInterface.class);
   Blog b = bm.getBlog(1); 
```

调试堆栈跟踪

```
[10/05/12 06:45:19:019 SGT] DEBUG datasource.DataSourceUtils: Fetching JDBC Connection from DataSource
[10/05/12 06:45:19:019 SGT] DEBUG BlogMapperInterface.getBlog: ooo Using Connection        [jdbc:oracle:thin:@*, UserName=*, Oracle JDBC driver]
[10/05/12 06:45:19:019 SGT] DEBUG BlogMapperInterface.getBlog: ==>  Preparing: select b.id, b.title from blog b where b.id = ? 
[10/05/12 06:45:19:019 SGT] DEBUG BlogMapperInterface.getBlog: ==> Parameters: 1(Long)
[10/05/12 06:45:19:019 SGT] DEBUG BlogMapperInterface.getBlog: <==    Columns: ID, TITLE
[10/05/12 06:45:19:019 SGT] DEBUG BlogMapperInterface.getBlog: <==        Row: 1, first blog
[10/05/12 06:45:19:019 SGT] DEBUG datasource.DataSourceUtils: Returning JDBC Connection to DataSource 
```

为什么不调用 getAuthor？每当我调用 getBlog() 时不应该调用它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-27T14:35:10.580

因为从 getBlog 得到的结果中没有 author_id 列。

尝试：

```
 select
    b.id,
    b.title,
    b.author_id
    from
    blog b
    where b.id = #{id} 
```

# delphi - 我想在 delphi 7 上安装包 rave report 5.0

> ID：10545234
> 
> 赞同：0
> 
> 时间：2012-05-11T03:55:27.263
> 
> 标签：delphi, installation, delphi-7, rave-reports

我安装了 Delphi 7，但 Rave 报告没有在托盘组件上自动注册，所以我单击组件 -> 安装包..-> 单击添加 -> 选择 RVreport50.bpl 但显示错误“package e:\Delphi7se\Rave5\RVreport50.bpl cant安装，因为它不是设计时包”。

谁能帮我 ！

我想安装 rave 报告并在 delphi 7 上使用，我以前没有在 delphi 上使用过 rave 报告。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T16:22:56.717

错误描述非常清楚，您尝试安装运行时包，尝试安装 rave 报告的设计时包或使用此工具的安装程序。

# php - 在windows下从php执行python脚本

> ID：10545239
> 
> 赞同：10
> 
> 时间：2012-05-11T03:55:46.683
> 
> 标签：php, python, command-line

好的，这适用于我的 linux 服务器，但我正在家里的 PC 上测试我的网站，并试图让 php 执行我的 python 脚本，当然 \ 是 WINDOWS 只有当我在我的 linux 机器上时路径会发生变化。

```
$pyscript = 'C:\\wamp\\www\\testing\\scripts\\imageHandle.py';
$python = 'C:\\Python27\\python.exe';
$filePath = 'C:\\wamp\\www\\testing\\uploads\\thumbs\\10-05-2012-523.jpeg'

exec('$python $pyscript $filePath', $output, $return ); 
```

这适用于我的 linux 机器，但不适用于我的 windows 测试服务器。如何让它在 Windows 上运行？哦，这也适用于直接从 Windows 中的命令提示符运行时

编辑：

这是解决方案：

```
exec("$python $pyscript $filePath", $output); 
```

我以前用单引号代替双引号，把单引号改成双引号解决了这个问题。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-05-11T04:11:17.217

我觉得奇怪的是 filePath`C:\\wamp\\....` 可以在 Linux 机器上工作。无论如何，您是否尝试过不逃避斜线？

该问题可能与几件事有关，包括实现不同程序执行功能的操作系统特定方法。我建议只是通过不同的选项，我总是将命令放入一个变量中，然后打印出变量，这样我就可以看到我将要运行的内容，如果你看到两个斜杠，那么你可能知道没有需要尝试逃避斜线，但是如果不将其打印到屏幕上，您将不会知道。

尝试通过其他流程执行功能来查看适合您的功能。 [http://www.php.net/manual/en/ref.exec.php](http://www.php.net/manual/en/ref.exec.php)

我发现最像在命令行运行它的一个是反引号运算符，然后是`system`

尝试这样的事情。

```
$pyscript = 'C:\\wamp\\www\\testing\\scripts\\imageHandle.py';
$python = 'C:\\Python27\\python.exe';
$filePath = 'C:\\wamp\\www\\testing\\uploads\\thumbs\\10-05-2012-523.jpeg'

$cmd = "$python $pyscript $filePath";
echo $cmd;
`$cmd`

$pyscript = 'C:\wamp\www\testing\scripts\imageHandle.py';
$python = 'C:\Python27\python.exe';
$filePath = 'C:\wamp\www\testing\uploads\thumbs\10-05-2012-523.jpeg'

$cmd = "$python $pyscript $filePath";
echo $cmd;
`$cmd` 
```

编辑：啊！我只是想通了，你用单个勾号''包围你的命令，这意味着里面的变量没有被替换。请改用双引号。这将解决问题，但我仍然建议您在运行命令之前回显该命令，以便您可以看到正在运行的命令，并且能够识别出这样的问题。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2020-10-24T19:31:58.600

这是一个非常古老的线程，但仍然出现在 Google 的第一批结果中，因此值得更新。

在 2020 年，Under`Python 3.8`和`Windows 10`正确的解决方案很简单：

```
<?
$output = shell_exec('C:\path\to\pythonscript.py');
print ($output);
?> 
```

其他一切都会导致错误。我花了好几个小时才弄清楚。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-03-21T05:36:51.053

> 在 XAMPP SERVER 我的 index.py 文件就像

```
from wordsegment import load, segment
load()
print(segment('morerecentlythedevelopmentwhichisapotent')) 
```

*我的 index.php 文件就像*

```
<html>
<head>
  <title>py script</title>
</head>

<body>
  <h1>Hey There!Python Working Successfully In A PHP Page.</h1>
  <?php
    $python = `python index.py`;
    echo $python;
    ?>
</body>
</html> 
```

> 现在运行 index.php 文件。
> 
> ```
>  Hope this will help you 
> ```

# javascript - 谷歌地图 api 标记 Javascript

> ID：10545240
> 
> 赞同：0
> 
> 时间：2012-05-11T03:55:49.773
> 
> 标签：javascript, jquery, google-maps, google-maps-api-3, google-maps-markers

我有一个 javascript，它在运行时会从我设置的 MYSQL 表中构建一个 XML 文件。它可以正常工作，并且按计划绘制所有标记。现在，我正在尝试绑定一些下拉过滤器。我已经浏览了许多示例，但无法使其适用于我的示例。

我为下拉列表添加了变量，如下所示：

```
var MeetingType = document.getElementById("Meeting_Type");
var type = MeetingType.options[MeetingType.selectedIndex].text;
var DayofMeeting = document.getElementById("Day_of_Meeting");
var day = DayofMeeting.options[DayofMeeting.selectedIndex].text;
var TimeofMeeting = document.getElementById("Time_of_Meeting");
var time = TimeofMeeting.options[TimeofMeeting.selectedIndex].text; 
```

现在我试图在创建标记后创建一个数组，所以我可以像这样过滤它们：

```
for (var i = 0; i < placemarkers.length; i++) {
    if (placemarkers[i].type==type&&placemarkers[i].day==day&&placemarkers[i].time==time){
    placemarkers[i].setMap(MYMAP.map);
    }else{
    clearOverlays();
    mymarkers=[]
        }
    }
} 
```

这是整个代码。谁能帮我把这些值放入一个数组中？我的不工作。

```
$(document).ready(function() {
$("#map").css({
    height: 500,
    width: 600
});
var myLatLng = new google.maps.LatLng(43.653823, -79.382843);
MYMAP.init('#map', myLatLng, 11);

$("#showmarkers").click(function(e){
    MYMAP.placeMarkers('include/xml.php');
});
});

var MYMAP = {
map: null,
bounds: null
}

MYMAP.init = function(selector, latLng, zoom) {
var myOptions = {
    zoom:zoom,
    center: latLng,
    mapTypeId: google.maps.MapTypeId.ROADMAP
}
this.map = new google.maps.Map($(selector)[0], myOptions);
this.bounds = new google.maps.LatLngBounds();
}

var markerfilter = new Array();
MYMAP.placeMarkers = function(filename) {
$.get(filename, function(xml){
    $(xml).find("marker").each(function(){
        var name = $(this).find('name').text();
        var address = $(this).find('address').text();
        var address2 = $(this).find('address2').text();
        var Meeting_Type = $(this).find('Meeting_Type').text();
        var Time_of_Meeting = $(this).find('Time_of_Meeting').text();
        var Day_of_Meeting = $(this).find('Day_of_Meeting').text();
        var Open_Meeting = $(this).find('Open_Meeting').text();
        var Wheelchair = $(this).find('Wheelchair').text();
        var ASL = $(this).find('ASL').text();
        var Comments = $(this).find('Comments').text();
        markerfilter.push(marker);

        var MeetingType = document.getElementById("Meeting_Type");
        var type = MeetingType.options[MeetingType.selectedIndex].text;
        var DayofMeeting = document.getElementById("Day_of_Meeting");
        var day = DayofMeeting.options[DayofMeeting.selectedIndex].text;
        var TimeofMeeting = document.getElementById("Time_of_Meeting");
        var time = TimeofMeeting.options[TimeofMeeting.selectedIndex].text;

        // create a new LatLng point for the marker
        var lat = $(this).find('lat').text();
        var lng = $(this).find('lng').text();
        var point = new google.maps.LatLng(parseFloat(lat),parseFloat(lng));

        // extend the bounds to include the new point
        MYMAP.bounds.extend(point);

        var marker = new google.maps.Marker({
            position: point,
            map: MYMAP.map
        });

        var infoWindow = new google.maps.InfoWindow();
        var html='<b><u>'+name+'</b></u><br />'+address2+'<br />'+address+'<br />'+Meeting_Type+',&nbsp'+Time_of_Meeting+',&nbsp'+Day_of_Meeting+'<br />Open Meeting:&nbsp'+Open_Meeting+'<br />Wheelchair Accessible:&nbsp'+Wheelchair+'<br />ASL:&nbsp'+ASL+'<br />Comments:&nbsp'+Comments;
        google.maps.event.addListener(marker, 'click', function() {
            infoWindow.setContent(html);
            infoWindow.open(MYMAP.map, marker);
        });
        MYMAP.map.fitBounds(MYMAP.bounds);
    });
});
} 
```

我已经编辑了我的代码以反映我所做的一些更改，但它仍然无法正常工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T04:01:43.880

如果有帮助，请尝试使用 jQuery Map Marker 插件，因为它具有很好的灵活性/下面是该插件的链接

[http://www.welancers.com/jquery-map-marker-plugin/](http://www.welancers.com/jquery-map-marker-plugin/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-13T15:34:59.817

在不知道其余代码的情况下，最直接的方法是

```
 var marker = new google.maps.Marker({
        position: point,
        map: MYMAP.map
    });
    mymarkers.push(marker); 
```

# python - 从列表中删除重复值

> ID：10545241
> 
> 赞同：0
> 
> 时间：2012-05-11T03:56:05.903
> 
> 标签：python, list

先上代码：

```
li = [32,45,23,66,66,89,27]
print li
for k in li:
    if k == 66:
        li.remove(k)
print li 
```

结果：

```
> [32, 45, 23, 66, 66, 89, 27] 

> [32, 45, 23, 66, 89, 27] 
```

这是我的问题：当我删除第一个**66**时，第二个和其他项目将向前移动一个索引，下一个`k`将是**89**。第二个**66**还在。我怎样才能删除它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T04:03:31.857

最常见的方法是遍历列表的*副本*，而不是原始列表：

```
for k in li[:]:
    #do stuff 
```

但是，我更喜欢使用列表理解：

```
[k for k in li if k != 66] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-11T04:03:39.390

请参阅我对循环问题的回答，[同时遍历列表并删除重复出现的元素](https://stackoverflow.com/questions/7131457/loop-problem-while-iterating-through-a-list-and-removing-recurring-elements/7131481#7131481)，以了解您遇到此问题的原因。

在这种情况下，您可以这样做：

```
li = [item for item in li if item != 66] 
```

做一个新的清单。

如果你必须做很多 s，列表推导也会更快，`remove`因为每个`remove`都必须遍历整个列表，而列表推导只遍历整个列表一次。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T04:03:08.690

我猜你想要做的是[这个](https://stackoverflow.com/questions/1207406/remove-items-from-a-list-while-iterating-in-python)。所以在你的情况下：

```
li = [32,45,23,66,66,89,27]
print li
li[:] = [x for x in li if x != 66]
print li 
```

当然，如果你**想** 用普通的 for 循环来做，你总是可以`li`反向迭代：

```
li = [32,45,23,66,66,89,27]
print li
for k in reversed(li):
    if k == 66:
        li.remove(k)
print li 
```

但请注意，这是非常低效的。因为`remove` **搜索**第一次出现并删除它。因此，您可以多次有效地迭代列表。

# html - 向下填充侧边栏

> ID：10545244
> 
> 赞同：0
> 
> 时间：2012-05-11T03:56:21.240
> 
> 标签：html, css

我一直在练习如何创建模板。我的第一个问题是如果内容的长度不足以填满整个屏幕，如何将页脚粘贴在屏幕底部。使用本教程解决了这个问题[http://matthewjamestaylor.com/blog/keeping-footers-at-the-bottom-of-the-page](http://matthewjamestaylor.com/blog/keeping-footers-at-the-bottom-of-the-page)

我的另一个问题是如何将侧边栏一直填充到页脚。

这是html：

```
<div id="wrapper">
    <div id="header">
        header here
    </div>
    <div id="container">
        <div id="sidebar">
            sidebar here
        </div>
        <div id="content">
            content here
        </div>
    </div>
    <div class="cls"></div>
    <div id="footer">
        footer here
    </div>
</div> 
```

这是CSS：

```
body{
    padding: 0;
    margin: 0;
}
.cls{
    clear:both;
}
#wrapper{
    min-height: 100%;
    position: relative;
}
#header{
    background-color: #DDDDDD;
    height: 60px;
}
#container{
    padding-bottom: 60px;
    width: 100%;
}
#sidebar{
    background-color: #87CEFA;
    width: 220px;
    float: left;
    padding-right: 20px;
}
#content{
    width: 75%;
    float:right;
}
#footer{
    background-color: #CCCCCC;
    bottom: 0;
    position: absolute;
    width: 100%;
    height: 60px;
} 
```

打开图片链接，左侧的那个就是我现在所拥有的……我希望结果是右侧的 [http://www.4shared.com/photo/CoXrUWP2/template.html](http://www.4shared.com/photo/CoXrUWP2/template.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T08:23:47.537

```
#sidebar{
    background-color: #87CEFA;
    width: 220px;

    min-height:600px;
    height:auto !important;
    height:600px;   

    float: left;
    padding-right: 20px;
} 
```

**试试这个，看看它是否对你有用？**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T05:23:25.890

有三种主要方法可以实现这一目标。

一种是使用表格布局，我会警告不要这样做。

第二个是在#container 元素上设置背景。在 Photoshop 中，使用 220 像素的侧边栏创建一个图像，并使用其中的一部分使侧边栏的外观延伸到 #container 元素的整个高度。

第三种是使用 JQuery 将 #sidebar 元素调整为容器的高度，如下所示：

```
$("#sidebar").height( $("#container").height() ); 
```

# sql - 经典 ASP 嵌套 if else 条件未执行

> ID：10545245
> 
> 赞同：1
> 
> 时间：2012-05-11T03:56:31.240
> 
> 标签：sql, asp-classic, if-statement, vbscript, sql-server-2000

它是我使用 Classic ASP 制作的简单登录表单，用户和管理员可以使用相同的表单登录。

在数据库的“用户”表中，我创建了一个名为“状态”的字段，数据类型为 BIT（即“0”或“1”）值被接受。默认情况下，每个新注册用户的值为“0”。

我已经通过了一个查询，如果状态为“0”，则应将特定用户或管理员重定向到 Authentication.asp 页面，他将在其中回答一些问题，然后单击 SUBMIT，数据库中的状态值将设置为“1” . “1”表示用户或管理员已经填写了认证表格，可以重定向到他想要的页面，而不是重定向到Authentication.asp页面。为此，我使用了 If-elseif-else 语句。我重新检查了很多次，我的 if-else 语句似乎没有任何遗漏。但是即使我在数据库的状态列中手动输入“1”作为状态，我总是被重定向到身份验证页面。这是我的代码。

```
Session("Username")=request.form("user_name")
    if request.Form("sub_but") <> "" then
    sql = "SELECT * FROM Users WHERE UserName='"&request.form("user_name")&"' AND Password='"&request.form("pwd")&"'"
    rs.open sql, con, 1, 2  
    if rs.EOF then
            response.Write("<script language='javascript'>{attention_emp();}</script>")
        else
        if(rs("status")=1 & rs("login_type")="admin") then
                  Response.Redirect ("admin.asp")
        elseif(rs("status")=1 & rs("login_type")="emp") then
                      response.Redirect("leave.asp")
        else
                      response.Redirect("auth.asp") 
        end if  
    end if

    rs.close
    end if 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-11T04:14:12.917

不要使用“&”使用以下内容：

```
if(rs("status")=1 AND LCase(rs("login_type"))="admin") then
              Response.Redirect ("admin.asp")
    elseif(rs("status")=1 AND LCase(rs("login_type"))="emp") then
                  response.Redirect("leave.asp")
    else
                  response.Redirect("auth.asp") 
    end if 
```

在 vbScript 中，“&”是字符串连接运算符而不是逻辑运算符。这是[vbScript 运算符](http://www.tizag.com/vbscriptTutorial/vbscriptoperators.php)的列表。

**编辑**还请注意，字符串比较区分大小写。我已更改比较以将数据库输出转换为小写。这也可能是您的问题的一个因素。

还要注意@Mirko 的评论！！！

**编辑 2 从评论中澄清**

如果您仍然总是被重定向到身份验证页面，则需要确定实际原因。对条件语句进行硬编码应该有助于将其排除为原因。另一种调试方法是拆分语句而不是重定向。见下文：

```
if(rs("status")=1 AND LCase(rs("login_type"))="admin") then
    Response.Redirect ("admin.asp")
elseif(rs("status")=1 AND LCase(rs("login_type"))="emp") then
    response.Redirect("leave.asp")
else
    Response.Write "Status: " & rs("status") & "<br />"
    Response.Write "Is Status 1: " & (rs("status")=1)  & "<br />"
    Response.Write "Login Type: " & rs("login_type") & "<br />"
    Response.Write "Is Login Type admin: " & (rs("login_type") = "admin") & "<br />"
    Response.Write "Is Login Type emp: " & (rs("login_type") = "emp") & "<br />"
end if 
```

这将帮助您确定if 和 if/else 语句中什么是**真的**，什么是**假的。**一旦你这样做了，你应该更清楚是什么导致你得到的行为。隔离并解决问题后，放回重定向。

# ios - MDM：APNS 通知未到达 iPhone

> ID：10545246
> 
> 赞同：2
> 
> 时间：2012-05-11T03:56:33.513
> 
> 标签：ios, ruby, apple-push-notifications, mdm

通知没有到达终端。请告诉我。你好。谢谢你。

iPhone 4S iOS 5.1 我编写了以下 ruby​​ 脚本。它从 MDM 服务器执行。但是，通知不到达iPhone终端。请告诉我。."mobileconfig" 的设置已完成，主题和设备令牌已被 PUT 到 MDM 服务器。检查是否也可以获取正确的信息， 确认在 APNs 中对 iPhone 终端进行了消息或徽章的更新。只有 MDM 的 APNs 不会到达 iPhone 终端。我想解决这个问题。如果你愿意，请帮助我。

```
#!/usr/bin/ruby -Ku
require 'openssl'
require 'socket'

(msg = []) << "dd0b64b77ebcac2092d6fe644d4db04e39d577c0228cf2187d8f87966aff8234"
device  = msg.pack("H*")
socket = TCPSocket.new('gateway.sandbox.push.apple.com',2195)
#socket = TCPSocket.new('gateway.push.apple.com',2195)
context = OpenSSL::SSL::SSLContext.new('SSLv3')
context.cert = OpenSSL::X509::Certificate.new(File.read('nj_dev_apns-dev.pem'))
context.key  = OpenSSL::PKey::RSA.new(File.read('nj_dev_apns-dev-key-noenc.pem'))
ssl = OpenSSL::SSL::SSLSocket.new(socket, context)
ssl.connect

payload = <<-EOS
{
    #"mdm":"{<PushMagic>}"
    {"mdm":"7C68976X-E70D-485Q-8CA7-7AC48F2F5F4A"}
}
EOS

(message = []) << ['0'].pack('H') << [32].pack('n')
  << device << [payload.size].pack('n') << payload
ssl.write(message.join(''))
ssl.close
socket.close 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-17T02:58:14.767

我的建议是首先尝试生产 APNS，所以使用这个 url:gateway.push.apple.com，如果你使用 IPCU 来生成 mobileconfig，那么在 MDM 有效负载中不要选择“使用开发 APNS 服务器”选项。也看到[这个](https://stackoverflow.com/questions/10571190/apns-notifications-not-reaching-devices-enrolled-in-apple-mdm)。

# java - Java GPA 数组扫描器输入和计算

> ID：10545249
> 
> 赞同：2
> 
> 时间：2012-05-11T03:57:26.403
> 
> 标签：java, arrays, loops, methods, user-input

我正在尝试使用扫描仪输入来计算带有数组的 GPA。我认为while循环是最好的，但我不确定。我有一种方法可以尝试从扫描仪输入到阵列中计算 GPA。附上我的代码。让我知道最简单的方法是什么。

```
import java.util.Scanner;

public class gpaArrayInput
{

/**
 * @param args
 */
public static void main(String[] args)
{
    // TODO Auto-generated method stub

    Scanner scan = new Scanner (System.in);

    int i = 0;
    //double average;
    int grades[]=new int [i];

    for (i=0; i<grades.length;i++){

    System.out.println ("Enter your final class grades for the semester: ");
        grades[i]=scan.nextInt();

    averageMethod();
    }}

public static void averageMethod()
{
    double sum=0;
    double average;

    for(int i=0; i<grades.length;i++)
    {

        sum += grades[i];

    }

    average = sum/grades.length;

    System.out.println("Your grade average is: "+average);
}

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T05:26:19.387

这是[扫描仪文档](http://docs.oracle.com/javase/6/docs/api/java/util/Scanner.html)。

经过快速测试，这似乎有效：

```
import java.util.Scanner;

class ClassNamesShouldBeCapitalized
{
    public static void main(String[] args)
    {
        Scanner gradeScanner = new Scanner(System.in);

        int gradeCounter = 0;
        int gradeTotal = 0;

        System.out.println("Input grade: " );

        while(gradeScanner.hasNextInt()) {
            int nextGrade = gradeScanner.nextInt();
            System.out.println("Recorded grade: " + nextGrade);
            System.out.println("Input grade: " );
            gradeTotal += nextGrade;
            gradeCounter++;
        }

        if (gradeCounter > 0) {
            double avg = gradeTotal / gradeCounter;
            System.out.println("Here's your average: " + avg);
        }
        else {
            System.out.println("No grades found.");
        }
    }
} 
```

# java - Java中的反向正则表达式

> ID：10545250
> 
> 赞同：4
> 
> 时间：2012-05-11T03:57:26.960
> 
> 标签：java, regex, reverse

如何在Java中反转正则表达式？例如，'ab.+de' => 'ed.+ba'。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-11T04:00:53.677

实际上，倒转大海捞针要比倒转针容易得多。而且由于`Matcher`需要 a`CharSequence`而不是 a `String`，因此您可以通过简单地包装来以微不足道的开销来做到这一点（请参阅[Reverse a string in Java, in O(1)?](https://stackoverflow.com/questions/3109914/reverse-a-string-in-java-in-o1)`String`的答案）。

有了这些知识，您就可以创建一个替代版本`Matcher`，看起来似乎是反转模式，但实际上只是反转输入。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-11T04:06:28.817

哇。

您需要为正则表达式构建解析器并反转所有标记/部分。

在这种情况下

ab.+de 是

a , b, .+ , d , e

反过来这是

e、d、.+、b、a

现在想象组

((ab)(.+de))

反过来是

((ed.+)(ba))

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-01-14T19:37:04.253

[Tiago Peczenyj](https://stackoverflow.com/users/1148194/tiago-peczenyj)是正确的，需要处理反向引用、捕获组和命名组。命名组因为在 Java RegEx 中没有限制命名组需要按名称反向引用，所以它可以像任何其他捕获组一样按数字反向引用。

如果有人对 Java 解决方案感兴趣，我实现了一个库来做到这一点。[https://github.com/vsch/reverse-regex](https://github.com/vsch/reverse-regex)。

处理所有有效的 Java 正则表达式结构，并提供实用程序类来包装模式、匹配器和反向搜索的输入，以处理所有需要的映射和反转。

# javascript - jQuery Mobile 在页面转换时闪烁

> ID：10545251
> 
> 赞同：2
> 
> 时间：2012-05-11T03:57:40.407
> 
> 标签：javascript, jquery, html, jquery-mobile, cordova

我正在使用 jquery mobile 1.0 和 cordova-1.6.0 开发 iPad 应用程序。我的应用程序运行良好。

当我使用 jquery mobile 1.1 时，页面在页面转换时闪烁。这是什么原因？

* * *

是 jQuery mobile 1.1 的错误吗？

请问你能帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T07:30:18.083

这是 jQuery 移动错误，已在其最新的 jQuery 移动版本（1.1.1）中修复。请查看[http://jquerymobile.com/blog/2012/07/12/jqm-1-1-1/](http://jquerymobile.com/blog/2012/07/12/jqm-1-1-1/)

# c++ - 需要有关函数和指针的作业帮助

> ID：10545252
> 
> 赞同：1
> 
> 时间：2012-05-11T03:57:58.067
> 
> 标签：c++, function

假设 f() 返回一个对整数 ( `int & f();`) 的引用，`f()+=5;`并且`f()=f()+5;`是不同的，解释如何并给出 f() 的伪代码来说明这种差异。

如果 p 是 an `int *p`，C++ 中的这两条语句有什么区别：

```
if (p!=NULL && *p !=0).... 
if (*p !=0 && p !=NULL).... 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T04:08:19.410

首先，您可以`f()`声明两个静态变量和一个指向其中一个的静态指针。

然后为每次调用交替返回它们，例如（伪代码，因为它是家庭作业）：

```
def f():
    static var1 = 0;
    static var2 = 42;
    static pointer curr_var = reference of var1
    if curr_var == reference of var1:
        curr_var = reference of var2
    else:
        curr_var = reference of var1
    return curr_var 
```

或者，更糟糕的是：

```
def f():
    static var1 = array[1024];
    static idx = -1;
    idx = (idx + 1) % 100
    return reference of var1[idx] 
```

`*p`对于您的第二个问题，提示是和之间的区别`p`。例如，在`p`它本身可能为 NULL 的情况下，我不会使用第二个。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T04:08:10.430

`f()+=5`如果在每次调用时返回对不同整数的引用，则可能与`f()`= `f()`+5不同。`f()`这只有`f()`在每次调用时从某个不同的全局变量中读取时才会发生。

`if (p!=NULL && *p !=0)`和之间的区别在于`if (*p !=0 && *p !=NULL)`，第一个检查是否`p`为 null，然后检查指向的是否`int`为`p`is `0`。第二个只检查指向的是否`int`是`p`（`0`并执行此检查两次）。

# iphone - 解决编译器中的警告：将“BarCodeViewController *_strong”发送到不兼容类型“id”的参数 '

> ID：10545254
> 
> 赞同：0
> 
> 时间：2012-05-11T03:58:14.260
> 
> 标签：iphone, ios, xcode, delegates

我有 2 个视图控制器，`PerksDetailsViewController`并且`BarcodeViewController`. 我使用委托将`Card`PerksDetailsVC 中的一个类和一个 perk 点传递给 BarcodeVC。

我的应用程序有效，但我想摆脱这个警告：`Sending 'BarCodeViewController *_strong' to parameter of incompatible type 'id<PerksDetailsDelegate>'`

来自这条线`[self setDelegate:barCodeVC];`

方法里面

```
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{
    if ([segue.identifier isEqualToString:@"showBarCode"]) {
        BarcodeViewController *barCodeVC = (BarcodeViewController *)segue.destinationViewController;

        [self setDelegate:barCodeVC];

    }
} 
```

下面是一些可能有助于找到错误部分的代码

PerksDetailsViewController.m

```
#import Card.h
#import PerksDetailsViewController.h
#import BarcodeViewController.h

@interface PerksDetailsViewController () 

@end

@implementation
@synthesize delegate = _delegate;
@synthesize myCard = _myCard;

- (IBAction)redeemPressed:(id)sender {
    // get required points of a perk selected

     NSNumberFormatter * f = [[NSNumberFormatter alloc] init];
     [f setNumberStyle:NSNumberFormatterDecimalStyle];

     self.pointsRequired = [f numberFromString: (self.pointsLabel.text)];

    NSLog(@"points required by the perk %@", self.pointsRequired);

    [self.delegate perksDetailsViewController:self didPassRequiredPoints:self.pointsRequired withCard:self.myCard];
}

- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{
    if ([segue.identifier isEqualToString:@"showBarCode"]) {
        BarcodeViewController *barCodeVC = (BarcodeViewController *)segue.destinationViewController;

        [self setDelegate:barCodeVC];

    }
}

@end 
```

PerksDetailsViewController.h

```
#import <UIKit/UIKit.h>
#import "Card.h"
#import "BarcodeViewController.h"

@class PerksDetailsViewController;

@protocol PerksDetailsDelegate <NSObject>

- (void)perksDetailsViewController:(PerksDetailsViewController *)sender
             didPassRequiredPoints: (NSNumber *) requiredPoints
                          withCard: (Card *) selectedCard;

@end

@interface PerksDetailsViewController : UIViewController 

@property (nonatomic, strong) id <PerksDetailsDelegate> delegate;

@property (nonatomic, strong) Card *myCard;

@end 
```

条码视图控制器.m

```
#import "PerksDetailsViewController.h"

@interface BarcodeViewController () <PerksDetailsDelegate>
@end

@implementation BarcodeViewController
@synthesize myCard = _myCard;
@synthesize resultingPoints = _resultingPoints;

- (void)perksDetailsViewController:(PerksDetailsViewController *)sender didPassRequiredPoints:(NSNumber *)requiredPoints withCard:(Card *)selectedCard 
{

    double perksPoints = [requiredPoints doubleValue];

        self.myCard = selectedCard;
        self.resultingPoints = [NSNumber numberWithDouble:[selectedCard subtractPoints:perksPoints] ];
}

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T04:01:51.167

在 BarCodeViewController 的 .h 实现中，您需要告诉编译器您实现了协议。

```
@interface BarCodeViewController : UIViewController <PerksDetailsDelegate> {
...
} 
```

# iphone - 带有 UIKeyboard + 自定义工具栏布局的 iPhone/iOS

> ID：10545256
> 
> 赞同：1
> 
> 时间：2012-05-11T03:58:25.560
> 
> 标签：iphone, objective-c, ios, ios5, uikeyboard

我最近从 github 克隆了 QuickDialog 项目并使用它。

他们似乎使用默认的 iOS 键盘，但具有额外的自定义视图，即具有“上一个”、“下一个”和“完成”的行。截图如下2张图片：

![截图 1](../Images/ddfd326554bb26f1bfd4a8c84f2eaca7.png)

![截图 2](../Images/25cc28ac3103d2153024e816e2dc7a0e.png)

而无论是什么，默认值`UIKeyboard`都不会有该行`UIKeyboardType`。

我试图查看源代码以了解他们是如何实现的，但没有运气。有谁知道他们是怎么做这种键盘的？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T05:39:15.660

为此，您必须在键盘上添加工具栏。使用键盘通知（KeyboardWillShow & KeyboardWillHide）在键盘上显示工具栏。您也可以参考以下网址

[https://github.com/SimonBS/BSKeyboardControls](https://github.com/SimonBS/BSKeyboardControls)

[https://github.com/wannabegeek/PickerTableViewCell](https://github.com/wannabegeek/PickerTableViewCell)

[https://github.com/danielamitay/DAKeyboardControl](https://github.com/danielamitay/DAKeyboardControl)

# ruby - Ruby 删除第一个空格后的所有内容

> ID：10545266
> 
> 赞同：1
> 
> 时间：2012-05-11T04:00:37.970
> 
> 标签：ruby, ruby-1.8.7

```
<%= @contact.foo_help %> 
```

输出一个数字 id 和 title（它们之间有一个空格），例如：29292 This Is A Title。我只想要号码。它不会总是相同数量的数字，而且我偶尔会在标题中使用数字。

我在想最简单的方法是在第一个空格之后 gsub 一切，但我是这个框架的两个弱点，无法正确使用语法！请帮忙

```
<%= @contact.foo_help.gsub( \s ' ')  %> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-11T04:09:49.253

```
@contact.foo_help.gsub(/\s.+/, '') 
```

将匹配一个空格后跟一个或多个任意字符，并替换为空字符串。

Rubular 非常适合这种事情[http://rubular.com/](http://rubular.com/)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-11T04:07:45.993

我认为最简单/最干净的事情是使用[`String#[]`](https://ruby-doc.org/core/String.html#method-i-5B-5D)正则表达式参数：

```
<%= @contact.foo_help[/\d+/] %> 
```

例如：

```
>> '29292 This Is A Title.'[/\d+/]
=> "29292"
>> '29292 This 9999 Is A Title.'[/\d+/]
=> "29292" 
```

您也可以将其收紧一点并将正则表达式锚定在字符串的开头：

```
<%= @contact.foo_help[/\A\d+/] %> 
```

但我不知道你是否需要额外的噪音。

基本思想是说出你的意思（“给我字符串开头的数字，我知道它会以数字开头”），而不是抓住你不想要的东西然后扔掉。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-05-11T04:19:16.417

试试这个

```
str = "29292 This Is A Title"
number = str.to_i
=> 29292
number.class
=> Fixnum

'29292 555 This Is A Title 8989'.to_i
=> 29292 
```

希望这会帮助你。

# ajax - AddThis 和 AJAX 加载不会更改标题和 URL

> ID：10545271
> 
> 赞同：2
> 
> 时间：2012-05-11T04:01:17.940
> 
> 标签：ajax, addthis

我目前正在通过 AJAX 加载内容的网站上工作，每条内容都有一些 AddThis 共享按钮。

因此，在内容加载并添加到 div 容器后，我重新加载 AddThis 脚本以使其再次工作：

```
var script = 'http://s7.addthis.com/js/250/addthis_widget.js#pubid=myid&domready=1';
if(window.addthis) window.addthis = null;
$.getScript( script ); 
```

但是当我分享页面时，我注意到标题和网址没有改变，我确实手动更改了标题：

```
var title = $(response).find('h2').text();
window.document.title = title;
window.history.pushState({path: href}, title, href); 
```

为什么 AddThis 不使用这个新的标题和 URL？同样对于 Facebook 共享，它使用第一个内容中的图像。（可能是因为网址错误）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-14T03:32:00.760

显然我忘了调用 addthis.update()，这解决了我的问题。

[AddThis 按钮不会更新以包含片段（#Hash 标签）](https://stackoverflow.com/questions/7514878/addthis-buttons-wont-update-to-include-fragment-hash-tag)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-03T18:30:59.817

你也可以试试这个（我在 IE8 中发现了一个错误，因为 AddThis 用于..in：

```
for(var i = 0; i < addthis.links.length; i++){
    addthis.links[i].share.url = "new url";
    addthis.links[i].share.title = "new title";
} 
```

# objective-c - CoreData 属性命名和动态设置实体属性

> ID：10545277
> 
> 赞同：0
> 
> 时间：2012-05-11T04:02:27.040
> 
> 标签：objective-c, ios, core-data

我正在开发一个函数来从我的网络服务中获取 JSON 数据，比如说书籍。这是一个示例 JSON

```
"books" : [
    {
        name : "this is book name",
        isbn_number : "this is isbn number of the book"
        author_id : "the author id related to this book"
    },
    {
        name : "this is second book name",
        isbn_number : "this is isbn number of the second book"
        author_id : "the author id related to this second book"
    },
] 
```

我想将数据保存到 sqlite 的方式是这样的

```
NSMutableArray * bookList = [JSONDataFromServer objectForKey:@"books"];

[bookList enumerateObjectsUsingBlock:^(id book, NSUInteger idx, BOOL *stop){

    Book *bookObject = (Book *)[NSEntityDescription insertNewObjectForEntityForname:@"Book"
                            inManagedObjectContect:mangedObjectContext];

    for (id key in book) {
        SEL selector = NSSelectorFromString(key);
        if ([bookObject respondToSelector:selector]){
            // do something to set bookObject attribute (which is the name as key)
        }
    }

    if (![managedObjectContext save:&error]){
        NSLog(@"%@", [error localizedDescription]);
    }
}

*** I hope you can see what I'm doing *** 
```

通过这样做，我不必手动设置每个属性的值。我只需要更新应用程序迁移以匹配 Web 服务器，确保 JSON 正确。但问题是。

1.  对于 Web 服务（Ruby on Rails），我们通常用小写命名，用下划线（author_id）替换空格。但是在这里，在 Objective-C 中，删除空格并将每个单词的第一个字符替换为大写（authorId）。那么，实体属性名称应该是什么，book.author_id 还是 book.authorId？如果我在 Web 服务中使用相同的格式，会有什么问题吗？（作者 ID）

    注意：我可以在服务器端只用一行代码轻松转换名称。所以，这些都很好，只是想把它做好并避免未来的问题

2.  如何动态设置值。我相信一定有办法做到这一点。我尝试了以下代码但没有运气

    `[book performSelector:selector] = [book objectForKey:key];`

注意：这背后的原因是网络服务目前正在开发中，它的数据库每天都在更新。

***编辑***

找到问题 2 的解决方案

```
[book performSelector:sel withObject:value]; 
```

我要做的是以某种方式将 author_id 转换为 setAuthor_id（或 authorId 为 setAuthorId）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T04:37:56.803

关于您的第二个问题，您是否使用 xcode 生成数据库对象的可视化地图？即这本书？（您似乎已经这样做了）然后为您的图书实体生成一个 NSManagedObject 。即Book.hm

然后，您可以使用点符号访问/更改 bookObject 的属性，即 bookObject.name = [book ObjectForKey:@"name"]; bookObject.id = [book ObjectForKey:@"id"] 等，因为您的书本属性将是 Book.hm 中定义的属性。

对于您的第一个问题，当您在书或其他对象上生成 NSManagedObject 时，xCode 会自动为您完成。这实际上取决于您如何添加/设置图书对象的实体，如果您将其设置为 author_id，那么您可以将其作为 book.author_id 访问。

# http - 如何在网页上显示 httpget 响应？

> ID：10545284
> 
> 赞同：-2
> 
> 时间：2012-05-11T04:03:09.643
> 
> 标签：http, jsp, get

我需要显示从服务器到网页的 http 获取响应。我正在使用 jsp 页面和 Apache Tomcat 7.0。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T12:33:40.190

如果您需要在自己的 HTML 中内联结果，请使用[JSTL](https://stackoverflow.com/tags/jstl/info) [`<c:import>`](http://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/c/import.html)。

```
<c:import url="http://example.com/some-fragment.html" /> 
```

但是，如果结果实际上是整个 HTML 页面，当您将其包含在自己的 HTML 中时会导致 HTML 格式错误，则使用[HTML](https://stackoverflow.com/tags/html/info) [`<iframe>`](http://www.w3.org/TR/html4/present/frames.html#h-16.5)。

```
<iframe src="http://stackoverflow.com"></iframe> 
```

# php - 如何在php会话中删除多个项目？

> ID：10545289
> 
> 赞同：0
> 
> 时间：2012-05-11T04:03:42.710
> 
> 标签：php, session

嗨，我有一个购物车，但我的问题是当我删除多个项目时它不会处理但是如果我只删除复选框上的一个项目它工作得很好这是我下面的代码我想弄清楚我的代码是否有问题：

```
 $cart = $_SESSION['items'];

if(isset($_POST['del'])) {

  if ($cart) {
  $newcart = array();
  foreach ($cart as $item) {

    foreach ($_POST['itemid'] as $del) {
        $delete = $del;
    }

    if ($del != $item) {

          if ($newcart != '') {
            $newcart[] = $item;
          } else {
            $newcart[] = $item;
          }

    }   

  }
  $cart = $newcart; 
  }

}

$_SESSION['items'] = $cart; 
```

这是我的表格：

```
<form action="cart.php" method="post">
<table>
<tr>
<td><input type="checkbox" name="itemid[]" value="1"></td><td>Item 1</td><td>5</td>
</tr>
<tr>
<td><input type="checkbox" name="itemid[]" value="2"></td><td>Item 2</td><td>5</td>
</tr>
<tr>
<td><input type="checkbox" name="itemid[]" value="3"></td><td>Item 3</td><td>5</td>
</tr>
<tr>
<td><input type="checkbox" name="itemid[]" value="4"></td><td>Item 4</td><td>5</td>
</tr>
<tr>
<td colspan="2"><input type="submit" name="del" value="Delete"></td>
</tr>
</table>
</form> 
```

如果我检查多个项目并提交删除按钮，则该项目没有被删除，但如果我只检查一个项目已删除。

感谢您的帮助，非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T04:08:47.163

您在代码中有 name="items" ，但您正在寻找 $_POST['itemid'] - 它们应该彼此相同吗？看起来您对会话值感到困惑。

* * *

发布您的编辑：

```
foreach ($_POST['itemid'] as $del) { 
    $delete = $del; 
} 
```

将仅将最后的项目保留为 $delete。你可以试试

```
foreach ($cart as $item) { 

    if (!in_array($item, $_POST['itemid'])) { 

        if ($newcart != '') { 
            $newcart[] = $item; 
        } else { 
            $newcart[] = $item; 
        } 

    }    
} 
```

# ios - NSNumberFormatter 格式化货币不适用于浮点数

> ID：10545290
> 
> 赞同：0
> 
> 时间：2012-05-11T04:04:09.533
> 
> 标签：ios

我正在使用 NSNumberFormatter 格式化货币，但是当我使用浮点数时格式化程序不起作用。但是，当我使用双倍时它可以工作。我需要它来处理浮点数，因为我不需要双倍工作。

```
float t1 = 999999.99;
NSNumberFormatter *formatter = [[NSNumberFormatter alloc] init];
[formatter setNumberStyle:NSNumberFormatterCurrencyStyle];
[formatter setAllowsFloats:YES];
[formatter setMaximumFractionDigits:2];
[formatter setAlwaysShowsDecimalSeparator:YES];
[formatter setGeneratesDecimalNumbers:YES];
NSString *formattedOutput = [formatter stringFromNumber:[NSNumber numberWithFloat:t1]];
NSLog(@"Output as currency: %@", formattedOutput); 
```

此输出 - 作为货币的输出：$1,000,000.00 而不是 $9,99,999.99

提前感谢您对此的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T05:44:28.537

为避免浮点数（和双精度数）的舍入问题，对于货币，您应该使用 NSDecimalNumber。您的问题中列出的所有现有代码都可以与它们一起使用。只需摆脱您的浮动并改用以下行：

```
NSDecimalNumber *t1 = [NSDecimalNumber decimalNumberWithString:@"999999.99"]; 
```

（请注意，还有其他方法可以创建 NSDecimalNumber，具体取决于您填充变量的方式。）

# forms - 如何从应用程序内截取表单？

> ID：10545293
> 
> 赞同：2
> 
> 时间：2012-05-11T04:04:40.143
> 
> 标签：forms, vb6, screenshot, clipboard

什么代码可以有效地截取 a`Form`并将该图像的副本放到剪贴板上？

所以我想要类似的东西：`Form.CopyScreenshotToClipboard`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T10:03:16.473

1.  在设计时创建一个隐藏的 PictureBox
2.  使用[Deanna 的答案](https://stackoverflow.com/a/10123008/588306)将表单绘制到 PictureBox 中。使用 form.hWnd 获取 hWnd
3.  [然后像这样](http://www.vbaccelerator.com/home/VB/Tips/Copy_the_entire_contents_of_a_PictureBox_to_the_Clipboard/article.asp)将图片框内容复制到剪贴板

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T09:04:40.317

只是一个想法，当您的表单是焦点表单时模拟 ALT+PRNSCN 怎么样？

这将制作表单的屏幕截图并将其放入剪贴板。

# c# - 单选按钮分组 asp.net

> ID：10545299
> 
> 赞同：-1
> 
> 时间：2012-05-11T04:05:34.860
> 
> 标签：c#, asp.net, radio-button, overriding, viewstate

我正在尝试将单选按钮与 groupname 属性组合在一起。由于渲染时 asp.net 中的命名约定，它不起作用。

所以我尝试继承单选按钮控件并覆盖单选按钮并创建自己的控件..

它解决了分组问题，但由于某种原因它没有处理视图状态......所以我所有的单选按钮都是无视图状态的......

这是我的代码：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Web.UI.WebControls;
using System.Web.UI;

namespace CustomControl
{
    public class GroupRadioButton : RadioButton
    {
        public GroupRadioButton()
            : base()
        { }

        protected override void Render(HtmlTextWriter writer)
        {
            base.Render(new GroupedRadioButtonTextWriter(writer,this.GroupName));
        }
    }

    public class GroupedRadioButtonTextWriter : HtmlTextWriter
    {
        private string groupName;

        public GroupedRadioButtonTextWriter(HtmlTextWriter baseWriter, string groupName) : base(baseWriter)
        {
            this.groupName = groupName;
        }

        public override void AddAttribute(HtmlTextWriterAttribute key, string value)
        {
            if (key == HtmlTextWriterAttribute.Name)
            {
                base.AddAttribute(key, this.groupName);
            }
            else
            {
                base.AddAttribute(key, value);
            }
        }
    }
} 
```

谁能帮忙？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T04:25:05.873

[考虑到RadioButtonList](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.radiobuttonlist.aspx)是您应该使用的组件这一事实，我认为您通过实现自己的单选按钮来滥用您的时间。

# java - 根据对象中的变量对对象的数组列表进行排序

> ID：10545300
> 
> 赞同：5
> 
> 时间：2012-05-11T04:05:36.487
> 
> 标签：java, sorting, object, arraylist

我有一个对象数组列表

数组列表中的对象是名为“ModuleInfo”的大学信息（课程、作业、**日期到期**）

dateDue 已格式化为整数 YYYYMMDD（来自日历）

我已经研究了人们这样做的其他一些方法，但我无法理解我需要做什么。

理想情况下，因为我在创建数组列表时已经声明它将包含“ModuleInfo”对象，所以我可以只使用 Collection.sort(moduleDB, ModuleInfo.getDateDue) 或类似的东西。moduleDB 是数组列表

任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-11T04:18:05.707

如果你想用`Collections.sort(List list)`你的列表来排序，你的对象必须实现这个`Comparable`接口。

```
public class ModuleInfo implements Comparable<ModuleInfo> {

    /* Your implementation */

    public int compareTo(ModuleInfo info) {
        if (this.dateDue < info.dateDue) {
            return -1;
        } else if (this.dateDue > info.dateDue) {
            return 1;
        } else {
            return 0;
        }
    }
} 
```

然后调用`Collections.sort(moduleDB)`where `moduleDB`has type `ArrayList<ModuleInfo>`。

ps 如上一篇文章所述，您还可以让您的类实现该`Comparator`接口以获得相同的结果。

# c - 运行守护程序后找不到守护程序日志

> ID：10545301
> 
> 赞同：2
> 
> 时间：2012-05-11T04:05:54.260
> 
> 标签：c, linux, daemon

这是我的守护进程：

```
#include <sys/types.h>
#include <sys/stat.h>
#include <stdio.h>
#include <stdlib.h>
#include <fcntl.h>
#include <errno.h>
#include <unistd.h>
#include <syslog.h>
#include <string.h>

using namespace std;

#define DAEMON_NAME "vdaemon"

void process(){

    syslog (LOG_NOTICE, "Writing to my Syslog");
}   

int main(int argc, char *argv[]) {

    //Set our Logging Mask and open the Log
    setlogmask(LOG_UPTO(LOG_NOTICE));
    openlog(DAEMON_NAME, LOG_CONS | LOG_NDELAY | LOG_PERROR | LOG_PID, LOG_USER);

    syslog(LOG_INFO, "Entering Daemon");

    pid_t pid, sid;

   //Fork the Parent Process
    pid = fork();

    if (pid < 0) { exit(EXIT_FAILURE); }

    //We got a good pid, Close the Parent Process
    if (pid > 0) { exit(EXIT_SUCCESS); }

    //Change File Mask
    umask(0);

    //Create a new Signature Id for our child
    sid = setsid();
    if (sid < 0) { exit(EXIT_FAILURE); }

    //Change Directory
    //If we cant find the directory we exit with failure.
    if ((chdir("/")) < 0) { exit(EXIT_FAILURE); }

    //Close Standard File Descriptors
    close(STDIN_FILENO);
    close(STDOUT_FILENO);
    close(STDERR_FILENO);

    //----------------
    //Main Process
    //----------------
    while(true){
        process();    //Run our Process
        sleep(2);    //Sleep for 2 seconds
    }

    //Close the log
    closelog ();
} 
```

我像这样编译它，

```
gcc vdaemon.cpp -o vdaemon 
```

并运行它

```
./vdaemon 
```

然后当我得到

```
shishir@dewsworld:~/daemon$ ps -A | grep --color='auto' "vdaemon"
 5060 ?        00:00:00 vdaemon 
```

然后我没有日志

```
shishir@dewsworld:~/daemon$ dmesg | grep --color='auto' "Writing to my Syslog"
shishir@dewsworld:~/daemon$ 
```

我需要知道如何获取日志。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T05:25:59.850

[您的代码与daemon(3)](http://linux.die.net/man/3/daemon)库函数几乎相同，您应该在调用之后（即*在-s**之后）调用*[openlog](http://linux.die.net/man/3/openlog) ，而不是之前。*`daemon`*`fork`**

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T07:49:56.643

建议您查看该`/var/log/messages`区域以查看`syslog`守护程序将写入的位置。如果您仍然无法在那里找到您的消息，那么您应该查看您的 syslog 守护程序的配置。它可能正在丢弃 LOG_NOTICE 消息或 LOG_USER 消息。您可以在系统级别配置 syslog 守护程序报告的内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T04:20:57.977

看看`/var/log/messages`，它应该在那里。`dmesg`默认显示系统消息缓冲区**

# php - PHP - 删除重复的标点符号？

> ID：10545303
> 
> 赞同：2
> 
> 时间：2012-05-11T04:05:56.377
> 
> 标签：php

假设您有以下字符串：`Hello... how are you!!?? I'm bored!!`

我希望尽可能删除背靠背的标点符号，并在出现类似于“！？”的情况时保留问号。过滤后的字符串应如下所示：

`Hello. how are you? I'm bored!`

最佳答案是解决此问题的最简洁的解决方案。我希望正则表达式将是解决这个问题的最佳方法，但是我对正则表达式的了解最多非常非常有限，而且我不知道如何解决这个问题。但是，我对非正则表达式解决方案非常满意！对您提供的任何代码的解释（除非非常简单）也会很好。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T04:07:32.850

```
$str = preg_replace('~[?!]{2,}~', '?', preg_replace('~([.,!?])(\\1+)~', '\\1', $str)); 
```

或一次`preg_replace`通话（感谢 Alix Axel）

```
$str = preg_replace(array('~([.,!?])(\\1+)~', '~[?!]{2,}~'), array('\\1', '?'), $str); 
```

只需在大括号中列举您关心的所有标点符号

**UPD**：`!?`用另一个正则表达式处理它

解释这一切意味着什么：

```
preg_replace('~([.,!?])(\\1+)~', '\\1', $str) 
```

表达式的意思是 -仅当它前面至少有一个相同的字符时才`([.,!?])(\\1+)`找到任何一个，其中- 是对前一个匹配的引用，并且是。`.,!?``\\1+``\\1``+``at least one`

并仅用单个字符替换所有这些。

外部表达式`[?!]{2,}`表示`find all ? or ! if they are at least 2 in a row`并将其替换为`?`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T04:15:27.363

你可以使用 preg_replace：

```
$a="Hello... how are you!!?? Im bored!!!!!!"; echo preg_replace("/([.!?])+/iS","$1",$a);

=> Hello. how are you? Im bored! 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T04:26:12.847

```
$string = "Hello... how are you!!?? I'm bored!!"
$new_string = $string;
foreach(array('.',',','?','!') as $value) {
  $i = ;
  do {
    $prev_string = $new_string;
    $string = str_replace($value . $value,$value,$string;
    $i++;
  } while ($string !== $prev_string && $i<100)
} 
```

这摆脱了重复但不是？！？。

我认为第二个解决方案会起作用，保持“bad_chars”的第一个。如果您想保留最后一个，也有解决方案。

```
<?php
$string = str_split($string);
$new_string = array();
$i = 0;
foreach($string as $key => $char) {
    echo 'Processing: ' . $char . '<br />';
    $prev_key = $key - 1;
    $prev_char = $string[$prev_key];
  if($i!== 0) {
    if(in_array($char,$bad_chars) && in_array($prev_char,$bad_chars) ) {
      // do nothing
    } else {
      $new_string[] = $char;
    }
  } else {
    $prev_char = $char;
    $new_string[] = $prev_char;
  }
  $i++;
}
$string = implode('',$string);
$new_string = implode('',$new_string);
?><br />

<?php echo $string; ?><br />
<?php echo $new_string; ?><br /> 
```

# java - 在 Java 中将英寸转换为英尺英寸并作为返回语句输出

> ID：10545309
> 
> 赞同：-1
> 
> 时间：2012-05-11T04:06:51.057
> 
> 标签：java, if-statement, return

所以我制作了一个将高度转换为字符串“5英尺8英寸”返回的方法，老师给了我们这个方法，所以它将是一个返回而不是显示

这是我到目前为止所拥有的，但我确定你可以在退货中写什么，因为它只需要一种类型

```
 public String convertHeightToFeetInches(int newHeight)
{
    int leftOver = newHeight % IN_PER_FOOT;
    if(newHeight < (IN_PER_FOOT * 2)){
        return "1 foot" + leftOver + "inches";

} 
```

}

每次我运行类似的东西时，我都会收到一个返回语句错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T04:44:54.557

鉴于这是您的代码：

```
public String convertHeightToFeetInches()
{
  int leftOver = newHeight % IN_PER_FOOT;
  if(newHeight < (IN_PER_FOOT * 2)){
    System.out.println("1 foot" + leftOver + "inches");
  }
} 
```

要返回字符串，只需执行以下操作：

```
public String convertHeightToFeetInches()
{
  int leftOver = newHeight % IN_PER_FOOT;
  if(newHeight < (IN_PER_FOOT * 2))
  {
    return "1 foot" + leftOver + "inches";
  }
} 
```

但是请注意，这不会在“1 英尺”和“X 英寸”之间放置任何空格。你会得到这个：

> 1英尺3英寸

您需要添加一些空格。当然，为了获得额外的荣誉，当余数为零时，也许您希望它简单地说“1 英尺”而不是“1 英尺 0 英寸”。在这种情况下，您需要在 a 中构建字符串[`StringBuilder`](http://docs.oracle.com/javase/6/docs/api/java/lang/StringBuilder.html)，然后在完成后返回结果。您是现有代码，使用`StringBuilder`become （但仍然没有所需的空格字符）：

```
public String convertHeightToFeetInches()
{
  StringBuilder buff = new StringBuilder();
  int leftOver = newHeight % IN_PER_FOOT;

  if(newHeight < (IN_PER_FOOT * 2))
  {
    buff.append("1 foot");
    buff.append(leftOver);
    buff.append(inches);
  }

  return buff.toString();
} 
```

我会把你留在那里……看你怎么走……

* * *

编辑：

> 我很沮丧，因为我所做的每一种方法都会收到返回语句错误

在您目前的代码中，您有两种可能的执行路径，但只有一个路径返回一个值。

```
public String convertHeightToFeetInches()
{
  int leftOver = newHeight % IN_PER_FOOT;
  if(newHeight < (IN_PER_FOOT * 2))
  {
    return "1 foot" + leftOver + "inches";    // we return a value - good
  }
  else                                        // there is also this execution path ...
  {
                                              // ... and you don't return anything - bad
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T04:53:15.660

//在你的实例变量中

```
public static final int IN_PER_FOOT = 12;
private int height; 
```

//你的方法

```
public String convertheightToFeetInches() 
{
    int leftOver = (height %= IN_PER_FOOT);
    int newHeight = (height % IN_PER_FOOT);
    return newHeight + "Foot" + leftOver + "Inches";
} 
```

//我的高度方法没有显示，但它很简单，你应该已经得到了那个部分

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T04:11:16.220

`String`将返回类型更改为`int`返回类型，不要忘记在方法末尾返回值。

```
public int convert heightToFeetInches() {
    int leftOver = (heightInInches % 12);
    return leftOver;
} 
```

或者，如果您想像这样返回`String`：

```
public String convert heightToFeetInches() {
    int leftOver = (heightInInches % 12);

    return String.valueOf(leftOver);
} 
```

OOT：您以前是 C/C++/C# 程序员吗？`heightToFeetInches()`如果是，请确保不要使用所有方法和变量来使第一个单词小写，`HeightToFeetInches()`以防止对其他程序员产生误解。因为在 Java 中，我们使用大写来表示它是`class`or并且使用小写来表示它是or`interface`的第一个单词。`method``variable`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-11T04:16:27.697

想一想如何在不返回的情况下编写字符串 - 只是一个普通的打印语句。然后，不是打印它，而是返回该字符串。

您可以稍后从中打印返回的结果；例如`System.out.println(convertFeetToHeightInches("68 inches"));`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-11T08:32:12.137

只需创建一个字符串对象并为其分配一个空值。稍后，您可以将结果存储在此对象中并返回*，*如下所示：

```
public String convertHeightToFeetInches(int newHeight) {    

    final int IN_PER_FOOT = 12;
    int leftOver = newHeight % IN_PER_FOOT;
    String result = "";
    if(newHeight < (IN_PER_FOOT * 2)){
        result = "1 foot " + leftOver + " inches";

    } else {

        } return result;

} 
```

您可以这样调用该方法：

```
String conversion = convertHeightToFeetInches(5); 
```

# c# - 如何取消选择树视图中的选定项目

> ID：10545316
> 
> 赞同：0
> 
> 时间：2012-05-11T04:08:02.193
> 
> 标签：c#, wpf, mvvm, treeview, treeviewitem

我正在开发一个 WPF 应用程序，用户可以通过单击下一个/上一个按钮或在树视图中选择特定页面来选择在页面之间导航。

```
<TreeView Background="Transparent" Cursor="Hand" ItemsSource="{Binding Path=TreeItems}" local:TreeViewExtensions.SelectedItemChanged="{Binding Path=SelectedItemChangedCommand}" ItemContainerStyle="{StaticResource TreeViewItemStyle}" >
     <TreeView.ItemTemplate>
          <DataTemplate>
               <TextBlock Text="{Binding DisplayName}" />
          </DataTemplate>
     </TreeView.ItemTemplate>
</TreeView>
<Button Content="&lt; Prev" Name="btnPrev" Command="{Binding Path=MovePreviousCommand}"/>
<Button Content="Next &gt;" Name="btnNext" Command="{Binding Path=MoveNextCommand}"/> 
```

现在的问题是，当用户单击特定页面名称时，应用程序将导航到特定页面。如果用户单击下一页或上一页，则会导航到下一页或上一页。在这种情况下，如果用户单击先前选择的树视图项目，它将不会导航到该特定页面，因为它已被选中。

谁能告诉我，当用户单击“下一步”或“上一个”按钮时，如何取消选择树视图的选定项目。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T05:53:23.773

使用类似这样的东西来取消选择选定的项目

```
<TreeView MouseLeftButtonDown="TreeView_MouseLeftButtonDown">
    <TreeViewItem Header="Employee1">
        <TreeViewItem Header="Jesper"/>
        <TreeViewItem Header="Aaberg"/>
        <TreeViewItem Header="12345"/>
    </TreeViewItem>
    <TreeViewItem Header="Employee2">
        <TreeViewItem Header="Dominik"/>
        <TreeViewItem Header="Paiha"/>
        <TreeViewItem Header="98765"/>
    </TreeViewItem>
</TreeView> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T18:23:08.743

在单击 Prev 或 Next 时，您可以将 treeView 节点的 selectedItem 值设置为 true 并将焦点设置在该节点上。先前选择的节点，未选择的事件将被触发。

# java - 开关盒中的枚举引用

> ID：10545322
> 
> 赞同：7
> 
> 时间：2012-05-11T04:08:39.637
> 
> 标签：java, enums, switch-statement

```
enum Color {RED, GREEN, BLUE};
class SwitchEnum
{
  public static void main(String[] args)
  {
    Color c = Color.GREEN;
    switch(c)
    {
      case RED:
        System.out.println("red");
        break;
      case GREEN:
        System.out.println("green");
        break;
      case BLUE:
        System.out.println("blue");
        break;
    }
  }
} 
```

上面的代码编译得很好并给出了预期的输出。

我的问题是为什么在创建颜色引用“c”时，我们需要通过枚举的名称（即 Color.GREEN）来引用它，但在这种情况下，只有枚举值就足够了。不应该是

```
case Color.RED: 
```

ETC？？？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-11T04:11:32.093

不，不应该。Java 编译器足够聪明，可以知道您正在打开 a `Color`，因此该语言允许这种快捷方式（正如 Paul 所说，需要它）。实际上，switch 语句的整个编译过程取决于编译器是否知道您正在打开什么，因为它会根据您指定的枚举值的索引将 switch 转换为跳转表。直到最近你才能够打开非数字的东西，比如`String`.

语言规范的相关部分在[JLS 第 14.11 章](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11)中：

> ```
> ...
> SwitchLabel:
>    case ConstantExpression :
>    case EnumConstantName :
>    default :
> 
> EnumConstantName:
>    Identifier 
> ```

如果你想深入了解为什么语言是这样设计的，那将很难客观地回答。语言设计是微妙的，你必须考虑到赋值语法是在添加枚举支持之前多年写的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-11T04:12:24.650

这是一种语言约定。许多不同的语言都有枚举，并不是所有的语言都让你这样做。在 Java 的情况下，由于命名空间，您可以使用 Color.RED 或其他方式。通过这样做，您可以拥有多个具有相同变量名的枚举，并且它们不会发生冲突。

switch 语句不需要您执行 Color.RED（并允许您简单地声明 RED）的原因是 switch 语句知道它是 Color 类型的枚举，并在该名称空间中查找。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-11T05:25:54.130

在行

```
Color c = Color.GREEN; 
```

是`Color.`必需的，因为 Java 编译器不会`Color.GREEN`从声明 ( `Color c`) 中推断分配的表达式 ( ) 的类型。出于同样的原因，您必须编写：

```
ArrayList<String> x = new ArrayList<String>(); 
```

而不仅仅是

```
ArrayList<String> x = new ArrayList(); 
```

（这实际上在 Java 7 中已部分修复，但这是另一回事。）在`switch(...)`声明中，`case`从 the 的类型推断出 the 的类型`switch`。

# python - matplotlib - 带有误差条对象的多轴图例

> ID：10545330
> 
> 赞同：1
> 
> 时间：2012-05-11T04:09:40.253
> 
> 标签：python, matplotlib

我无法在具有两个轴集和一个误差条的图上获取图例。代码如下：

```
rect = 0.1, 0.1, 0.8, 0.8
fig = p.figure()

ax1 = fig.add_axes(rect)
errorplot = ax1.errorbar(x, y, yerr = yerr, fmt = "o", label = r"errorbar")
plot1 = ax1.plot(x1, y1, "^", color = "#00FF7F", label = r"plot")
ax1.yaxis.tick_left()
ax1.xaxis.tick_bottom()
ax2 = fig.add_axes(rect, frameon=False)
ax2.yaxis.tick_right()
ax2.yaxis.set_label_position('right')
ax2.xaxis.tick_top()
ax2.xaxis.set_label_position('top')
plot2 = ax2.plot(z, al, color = "#CD8500", linewidth =2, label= r"plot2")
k = list(errorplot[:1])
plots = k + plot1 + plot2
labels = [l.get_label() for l in k]
ax1.legend(plots, labels, loc = 2 )
ax1.legend(loc = 2)
p.savefig("test.pdf") 
```

如果 plot1 不是误差线图，则此方法有效。有什么建议可以在一个框中获得所有情节的图例吗？

提前非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-12-09T07:30:16.473

使用[这个问题](https://stackoverflow.com/questions/14344063/single-legend-for-multiple-axes)的代码应该可以工作：

```
h1, l1 = ax1.get_legend_handles_labels()
h2, l2 = ax2.get_legend_handles_labels()
ax1.legend(h1+h2, l1+l2, loc=2) 
```

# ruby - Ruby - rails - ajax 分页

> ID：10545336
> 
> 赞同：0
> 
> 时间：2012-05-11T04:10:29.790
> 
> 标签：ruby, ruby-on-rails-3

这不是进行ajax调用。我猜它是javascript，在控制台上请求显示为“html”而不是“JS”。我有类似的 javascripts 为其他 ajax 工作，但不知道这里有什么问题。

_list_page.html.erb

```
<div class="digg_pagination">
    <div class="page_info">
      <%= page_entries_info @list_page %>
    </div>
    <%= will_paginate @list_page, :container => true, ,  :remote => true %>
  </div> 
```

JS 在 list_page.js.erb 文件中呈现 -

```
$(".pagination a").click(function() {
        $.ajax({
          type: "GET",
          url: $(this).attr("href")
        });
        return false;
    }); 
```

**编辑：**试过 jQuery 绑定，没有用。由于某种原因，单击事件与元素没有绑定。

```
$(".pagination a").bind('click', function(event) {
alert('User clicked on "test"'); # Even this isn't working
 $.ajax({
          type: "GET",
          url: $(this).attr("href")
        });
        return false;
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T05:50:24.757

我不明白您为什么要使用 will_paginate 进行显式 ajax 调用，此功能是内置于此 gem 中的。您可以使用 :renderer => "RemoteLinkRenderer" 进行 ajax 调用。

喜欢 ：

```
<%= will_paginate @events, :renderer => "RemoteLinkRenderer",:remote => {, :update => "events_container", :loading => visual_effect(:appear, "loader"),:complete =>visual_effect(:fade,"loader" ) } %> 
```

有关更多详细信息，请查看： http: [//www.botvector.net/2008/08/willpaginate-on-ajax.html](http://www.botvector.net/2008/08/willpaginate-on-ajax.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T07:07:10.613

[在这里](https://stackoverflow.com/a/5373041/1285061)找到答案。will_paginate 未更新为与 Rails 3 一起使用。

# php - php导出excel一些数据

> ID：10545337
> 
> 赞同：0
> 
> 时间：2012-05-11T04:10:32.450
> 
> 标签：php, export-to-excel

我有想要在 Excel 表单中显示的信息。我不想简单地打印数据库中的数据。我想控制格式，但无法正确显示信息。

我的代码是：

```
$rep_disp = new new_report($db_link);
$rep_disp->export_summary_report_to_csv();
$out = '';
$i = 1;
foreach($rep_disp->inc_inc_t_list as $inc_t)
{
    $inc_current = '';
    $inc_current = reset($rep_disp->inc_t_curr_list[$inc_t]);
    $inc_t_amo = $rep_disp->inc_t_amo_tot[$inc_t][$inc_current];
    $out.= ','.$rep_disp->disp_inc_t_name($inc_t).',"","","","","'.$inc_t_amo.'","'.$rep_disp->disp_curr_name($inc_current).'",';
    foreach($rep_disp->inc_loc_list[$inc_t] as $inc_loc)
    {
        $k = 0;
        $out.= '\n,"","","'.$rep_disp->disp_loc_name($inc_loc).'",';

        foreach ($rep_disp->inc_cur_list[$inc_t][$inc_loc] as $inc_curr)
        {                                                                       
            /*emptying the variable to ensure a new information on each line or no display if there's none*/
            $inc_t_amo = '';
            $inc_current = '';/*this is the current currency that we are working on. It's independent from the foreach loop we use for the currency*/
            $inc_var_test = next($rep_disp->inc_t_curr_list[$inc_t]);/*will use to check if there's information to show*/
            if($inc_var_test <> '' and isset($rep_disp->inc_t_amo_tot[$inc_t][$inc_var_test]))
            {
                $inc_t_amo = $rep_disp->inc_t_amo_tot[$inc_t][$inc_var_test];
                $inc_current = $rep_disp->disp_curr_name($inc_var_test);
            }
            if($k == 0)
            {
                $out.='"'.$rep_disp->inc_loc_tot_list[$inc_t][$inc_loc][$inc_curr].'","'.$rep_disp->disp_curr_name($inc_curr).'","","'.$inc_t_amo.'","'.$inc_current.'",\n';
            }
                elseif($k > 0)
                {
                    $out.= '\n,"","","","'.$rep_disp->inc_loc_tot_list[$inc_t][$inc_loc][$inc_curr].'","'.$rep_disp->disp_curr_name($inc_curr).'","","'.$inc_t_amo.'","'.$inc_current.'",\n';
                }
            $k++;
         }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T04:47:10.763

我使用[http://pear.php.net/package/Spreadsheet_Excel_Writer](http://pear.php.net/package/Spreadsheet_Excel_Writer)，尽管它看起来不再维护。

# data-structures - 如果双哈希函数也失败了怎么办

> ID：10545341
> 
> 赞同：0
> 
> 时间：2012-05-11T04:11:16.320
> 
> 标签：data-structures, hash, hashtable, double-hashing

> 考虑使用带有散列函数的开放寻址将键 10、22、31、9、15、28、62、88 插入到长度为 m = 11 的散列表中`h(k) = k mod m`。说明使用 h2(k) = 1 + (k mod(m-1)) 的双重散列插入这些键的结果。

以下是我的方法。

```
0 -> 22 , Since 22 mod 11 = 0
1 ->
2 ->
3 ->
4 ->
5 ->
6 ->
7 ->
8 ->
9 -> 31 , Since 31 mod 11 = 9
10 -> 10 , Since 10 mod 11 = 10 
```

好的，当尝试将密钥 9 放入哈希表时，问题就来了。

h(9) = 9 mod 11，即 9。我不能放 9，因为 9 已经消失了。然后我尝试给定 h2(9) = 1 + (9 mod (11-1)) 的双哈希函数，它是 10，它又消失了。所以我仍然不能将 9 放入哈希表中。在这种情况下我该怎么办。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T04:41:01.333

像这样使用两个哈希函数：

```
hi=(h(key)+i*h1(key))％m 0≤i≤m-1 
```

换句话说：您每次都*增加*第二个哈希函数的值，并`h1`根据需要进行环绕。

因此，您要查找密钥的地址列表如下：

```
h(key), h(key)+h1(key), h(key)+2*h1(key), ... , h(key)+n*h1(key) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T06:13:25.777

最后我可以使用维基解释找到答案。[http://en.wikipedia.org/wiki/Double_hashing](http://en.wikipedia.org/wiki/Double_hashing)

h(9) = 9 mod 11，即 9。

h2(9) = 1 + (9 mod (11-1)) 即 10。

所以密钥应该是 (9 + 10) mod 11，即 8。

然后

8 -> 9

# c# - 访问类的属性值

> ID：10545348
> 
> 赞同：1
> 
> 时间：2012-05-11T04:12:26.820
> 
> 标签：c#, reflection

这可能是非常基本的..

我有一堂课

```
[Version("2"), Caching(false)]
class Sample 
{
.....
} 
```

如何在 C# 中访问属性版本和缓存的值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T04:14:32.447

查看[使用反射访问属性（C# 和 Visual Basic）](http://msdn.microsoft.com/en-us/library/z919e8tw.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T04:14:51.980

其实不是那么基本。做到这一点的方法是通过反思。

[这](http://msdn.microsoft.com/en-us/library/aa288454%28v=vs.71%29.aspx)是一个关于如何做到这一点的微软教程。

反射是一种有趣的新技术，它允许您从侧面查看类 -> 访问私有和受保护的字段和函数以及属性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T04:25:38.450

您可以使用 fastflect API 来执行此操作。它提供了扩展方法，使您所描述的反射任务变得容易。

[http://fasterflect.codeplex.com/](http://fasterflect.codeplex.com/)

# c# - 在单页应用程序 MVC 中排序/过滤数据

> ID：10545349
> 
> 赞同：0
> 
> 时间：2012-05-11T04:12:40.447
> 
> 标签：c#, asp.net-mvc, mvvm

我正在使用 SPA MVC 4 构建 Web 应用程序。我想知道是否有一些方法可以在 MVVM 中过滤和排序数据？我已经阅读了几个教程，但没有工作。

[http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/sorting-filtering-and-paging-with-the-entity-framework-in-an-asp-net- mvc-应用程序](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/sorting-filtering-and-paging-with-the-entity-framework-in-an-asp-net-mvc-application)

```
public ViewResult Index(string sortOrder, string searchString)
        {
            ViewBag.FirstNameSortParm = String.IsNullOrEmpty(sortOrder) ? "FirstName desc" : "";
            ViewBag.LastNameSortParm = sortOrder == "LastName" ? "LastName desc" : "LastName";

            using (DnaPatientTrackerEntities1 DptEntity = new DnaPatientTrackerEntities1())
            {
                var UserGroup = from s in DptEntity.Users
                                select s;

                if (!String.IsNullOrEmpty(searchString))
                {
                    UserGroup = UserGroup.Where(s => s.FirstName.ToUpper().Contains(searchString.ToUpper())
                                           || s.LastName.ToUpper().Contains(searchString.ToUpper()));
                }

                switch (sortOrder)
                {
                    case "FirstName desc":
                        UserGroup = UserGroup.OrderByDescending(s => s.FirstName);
                        break;
                    case "LastName":
                        UserGroup = UserGroup.OrderBy(s => s.LastName);
                        break;
                    case "LastName desc":
                        UserGroup = UserGroup.OrderByDescending(s => s.LastName);
                        break;
                    default:
                        UserGroup = UserGroup.OrderBy(s => s.FirstName);
                        break;
                }
                ViewBag.Users=UserGroup;
                return View();
            } 
```

[http://www.asp.net/single-page-application/spa-samples/sample-bigshelf-application/big-shelf-code](http://www.asp.net/single-page-application/spa-samples/sample-bigshelf-application/big-shelf-code)

```
 self.selectSortOption = function (users) {
        self.nav.navigate({ sort: users.LastName, page: 1 });
    } 
```

我在 KnockOut js 主页中发现我们可以获得一个自定义 javascript 函数，但是当我尝试创建用于排序/过滤的自定义函数时，我的 index.cshtml 出现加载错误。它自动导航到编辑器视图...

如果您有任何想法，请与我分享

更新：

我正在使用 SPA MVC4，所以我的视图包括：_Editor.cshtml、_Grid.cshtml、_Paging.cshtml、_Index.cshtml。我正在处理 _Grid.cshtml

_Grid.cshtml：

```
<h2>Users (<span data-bind="text: users().length"></span>)</h2>

@using (Html.BeginForm())
{
    <p>
        Find by name: @Html.TextBox("SearchString")  
        <input type="submit" value="Search" /></p>
}
<tr>
    <th></th>
    <th>
        @Html.ActionLink("First Name", "Index", new { sortOrder = ViewBag.FirstNameSortParm })
    </th>   
    <th>
        @Html.ActionLink("Last Name", "Index", new { sortOrder = ViewBag.LastNameSortParm })
    </th>
</tr>
<p><a href="#" data-bind="click: sortUserByFirstName">LastName</a></p>
<table>
    <thead>
        <tr>
             <th>UserID</th>
             <th>CreatedDate</th>
             <th>UpdatedDate</th>
             <th>FirstName</th>
             <th>MiddleName</th>
             <th>LastName</th>             
             <th>Status</th>
        </tr>
    </thead>

    <tbody data-bind="foreach: users">
    @*<tr><a href="#" data-bind="text: text, 
                   click: $parent.selectSortOption,
                   css: { selected: $parent.nav.params().sort == id }">Sort</a></tr>*@
        <tr data-bind="css: { added: IsAdded, updated: IsUpdated, deleted: IsDeleted, error: EntityError }">
            <td data-bind="text: UserID"></td>
            <td data-bind="text: CreatedDate"></td>
            <td data-bind="text: UpdatedDate"></td>
            <td data-bind="text: FirstName"></td>
            <td data-bind="text: MiddleName"></td>
            <td data-bind="text: LastName"></td>            
            <td data-bind="text: StatusText"></td>
            <td><a href="#" data-bind="click: $parent.openEditor">Edit</a></td>
        </tr>
    </tbody>
</table>

<p><a href="#" data-bind="click: createUser">Create new</a></p>
<button data-bind="click: saveAll">Save all</button>
<button data-bind="click: revertAll">Revert all</button> 
```

# javascript - 当涉及重音等时，如何从 javascript 以 GET 请求的形式重现 url 编码？

> ID：10545350
> 
> 赞同：5
> 
> 时间：2012-05-11T04:12:41.987
> 
> 标签：javascript, encoding, forms

假设我有一个像这样的简单表格：

```
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  </head>
  <body>
    <div id="search">
      <form method="GET" action="/super-action">
        <input type="text" name="q" />
      </form>
    </div>
  </body>
</html> 
```

输入如下：`@tags "Cinéma Whatever"`

表单 GET 请求会生成如下所示的 url：`/super-action?q=%40tags+"Cinéma+Whatever"`

现在我想在 location.hash 中使用 javascript 来重现它，使用井号而不是斜线，例如：`/super-action#q=%40tags+"Cinéma+Whatever"`

但是有了可用的功能，我得到了结果：

*   转义（输入）：`@tags%20%22Cin%E9ma%20Whatever%22`
*   编码URI（输入）：`@tags%20%22Cin%C3%A9ma%20Whatever%22`
*   编码URI组件（输入）：`%40tags%20%22Cin%C3%A9ma%20Whatever%22`
*   $(form).serialize()，不带 q=：`%40tags+%22Cin%C3%A9ma+Whatever%22`

问题：如何使输入值`@tags "Cinéma Whatever"`看起来像表单 GET 请求会执行的操作：`%40tags+"Cinéma+Whatever"`使用 javascript？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-14T15:52:00.497

根据[RFC 1738](http://www.rfc-editor.org/rfc/rfc1738.txt)，`/super-action?q=%40tags+"Cinéma+Whatever"`在 URL 内无效：

> 因此，只有字母数字、特殊字符“$-_.+!*'()”和用于其保留目的的保留字符可以在 URL 中未编码地使用。

这意味着您*无法*生成包含该子字符串的有效 URL。您**必须**`"`对特殊字符和进行编码`é`，否则生成的字符串不是 URL。

*您认为*这是有效的原因可能是您的浏览器在欺骗您：它可能会以部分编码的形式显示 URL，以便在地址栏中更容易阅读。尝试使用像 Wireshark 这样的协议分析器来检查通过网络发送的*实际*URL 路径。

**更新：**我很快确认了这一点，响应表单提交而发送的 HTTP 标头如下：

```
GET /?q=%40tags+%22Cin%C3%A9ma+Whatever%22 HTTP/1.1 
```

所以它首先是 UTF-8 编码，然后是 URL 编码。

# ios - NSManagedObjectContext 保存方法抛出异常

> ID：10545351
> 
> 赞同：0
> 
> 时间：2012-05-11T04:12:59.083
> 
> 标签：ios, core-data, save, nsmanagedobjectcontext

我查看了所有报告问题的帖子`managedObjectContext save:` 但是，我没有发现任何似乎可以解决我所看到的问题的东西。大多数人在协调他们的 FRC 与 tableView 时遇到问题。这是不同的。

当我在 NSManagedObjectContext 实例上调用 save 时，问题就暴露了。捕获并记录异常读取：“无法使用非集合对象执行集合评估”。有谁知道这可能意味着什么？

```
 @try {
        if ([self.managedObjectContext hasChanges]) {
            @synchronized(managedObjectContext) {
                if(![managedObjectContext save:&error]) {
                    NSLog(@"\n\n---------UNRESOLVED ERROR--------------\n\n UserInfo: \n%@, %@", error, [error userInfo]);
                    [self.managedObjectContext rollback];
                }
            }
        }
    }
    @catch (NSException *exception) {
        NSLog(@"\n\n---------UNRESOLVED ERROR--------------\n\n exception: \n%@\n%@", exception, error);
    } 
```

我唯一的线索是这个问题的可重复性。这发生在我取消保留的 fetchedResultsController 访问器之后，然后使用一组谓词实例化一个新的访问器。

```
 if(searchFetchedResultsController) {
            self.searchFetchedResultsController = nil;
        }

        self.searchFetchedResultsController = [predicateBuilder createSearchInContext:managedObjectContext forDelegate:self withSortDescriptors:self.sortDescriptors forEntityName:@"Record"];

        NSError *error = nil;
        [self.searchFetchedResultsController performFetch:&error];

        if(error)
            NSLog(@"\nfetch error: %@", error); 
```

稍后我将通过使用正常的访问器构造来保留一个没有谓词的新 NSFetchedResultsController。

```
 if(fetchedResultsController) {
            self.fetchedResultsController = nil;
        }

        NSError *error = nil;
        if (![self.fetchedResultsController performFetch:&error]) {
            NSLog(@"Unresolved error %@, %@", error, [error userInfo]);
            abort();
        } 
```

稍后我将添加一个 Record managedObject；节省; 并遇到保存抛出的异常。

有趣的是，这种情况每次都会发生，而且只有在我的谓词查询数字或日期时才会发生。查询字符串时不会**发生。**所以，我认为我的查询构造似乎是唯一的区别。事实是，两者都在创建有效的谓词（通过 SUBQUERY），因为 fetch 不会失败。所以，如果有区别，我无法告诉你它可能是什么。

其他值得注意的事情是我“分配”一个 FRC 的每个地方，它看起来像这样：

```
[[NSFetchedResultsController alloc] initWithFetchRequest:fetchRequest managedObjectContext:managedObjectContext sectionNameKeyPath:nil cacheName:nil]; 
```

注意 nil cacheName 和 sectionNameKeyPath

我使用两个指针来阐明我的谓词 FRC 和非谓词 FRC。我知道如果我不提它会惹恼某人。

```
-(void) setSearchFilteredNames:(BOOL)boolValue {
    searchFilteredNames = boolValue;
    if(boolValue) {
        self.searchFetchedResultsController.delegate = self;
        self.fetchedResultsController.delegate = nil;
        //self.fetchedResultsController = nil; //lazy regeneration
    } else {
        self.searchFetchedResultsController.delegate = nil;
        //self.searchFetchedResultsController = nil; //lazy regeneration
        self.fetchedResultsController.delegate = self;
    }
} 
```

此外，当我捕捉到异常时，新对象会被持久化。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T16:32:16.043

我想我工作太晚了...

据我所知，当数据模型中感兴趣的属性的关键路径中没有一对多关系时，使用 SUBQUERY 填充 NSPredicates 是不好的做法。

这真的很令人困惑，因为搜索仍然会执行，并返回我预期的结果。直到我添加了一个与我的 SUBQUERY 谓词无关的带有 FRC 的新托管对象后，问题才显现出来。

我希望这可以帮助别人...

# .net - 为什么卸载强制 IIS、Visual Studio？

> ID：10545352
> 
> 赞同：3
> 
> 时间：2012-05-11T04:13:06.967
> 
> 标签：.net, iis, installation, uninstallation

我在 Visual Studio 2008 中的 .NET 解决方案有

1.  ASP.NET 网站项目
2.  网站的web部署项目
3.  自定义动作库
4.  网络设置项目

我可以构建设置并安装它。但是，在我的开发机器（Windows 7）上卸载期间，我被要求关闭 Visual Studio，然后才能继续卸载。

在 preprod 服务器 (windows web server 2008 R2) 上，在卸载期间要求用户停止 IIS 工作进程 - 这绝对是不可取的。

有什么办法可以阻止卸载这样做吗？

# jquery - 如果最近的 td.classname 中有一个复选框，请选中它

> ID：10545355
> 
> 赞同：2
> 
> 时间：2012-05-11T04:13:44.663
> 
> 标签：jquery, checkbox

我有一个预订表格，其中列出了带有单选按钮的课程，用于预订课程。如果班级已满，等候名单复选框会出现在班级单选按钮所在的行上。在 jQuery 中，如果单击完整类单选按钮，我希望 jQuery 选中等待列表复选框。td class="wailist" 将出现在每一行中，但复选框仅在类已满时才会出现在 HTML 中。到目前为止，我的 jQuery-

```
var $class_table = JQuery('table.courses');
$class_table.find('input.radio').click(function (event)
{
   //if this row has a td.waitlist with a checkbox in it then check that box
 }); 
```

这是 HTML 片段：

```
<tr class="course_full">
<td class="course_select", colspan=2>
    <label>
        <input type="radio" name="course[1][1]"
                id="course_id_1_9"
               value="9"
                >
        Geometry 2                                              
    </label>
</td>                                       
<td class="credit_recovery"> 
    <label>
        <input type="checkbox" name="credit_recovery[1][9]"
                id="credit_recovery_id_1_9"
                >
    </label>
</td> 
<td class="waitlist">
        <label>
            <input type="checkbox" name="waitlist[1][9]"
                    id="waitlist_id_1_9"
                    >
        </label>
</td> 
```

我在每一个“这个”、“最近的”、“找到”等方面都失败了。也许需要涉及长度？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T04:29:39.103

`click`活动有效吗？如果不是，我建议[`:radio`](http://api.jquery.com/radio-selector/)选择器：

```
$class_table.find(":radio").click(function(event) { 
```

如果是，那么下一步是相对于找到的收音机定位您的复选框。您可以简单地`parent`按照@Imdad 的建议使用（或多次调用父母），或者，[`closest`](http://api.jquery.com/closest/). 在您的回调中：

```
$(this).closest('tr').find('.waitlist :checkbox').attr('checked', true); 
```

它将定位父行（无论您的单选按钮嵌套多深），然后在列**内**`waitlist`搜索带有 class 的复选框。`find`仅当结果为非空时，最后一次调用才会生效。[jsFiddle](http://jsfiddle.net/mgibsonbr/hTWwt/1/)的工作示例

如果您希望在导航结构时更明确，您可以根据您的 HTML 片段找到正确的列，其中包含 2 次调用`parent`和 1次调用：`siblings`

```
$(this)
   .parent().parent().siblings('.waitlist')
   .find(':checkbox').attr('checked', true); 
```

[这里](http://jsfiddle.net/mgibsonbr/hTWwt/)的工作示例应该产生与第一个相同的结果。

（*注：*清理答案，保留正确内容）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T04:17:04.367

你可以试试

```
$class_table.find('input.radio:first-child').click(function (event) 
```

查看更多关于 :first-child 访问[first-child-selector](http://api.jquery.com/first-child-selector/.)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-11T04:21:58.573

试试这个

```
 var $class_table = JQuery('table.courses');
    $class_table.find('input.radio').click(function (event)
    {
      if($(this).parent().hasClass("waitlist"))
      {
        //DO your thing
      }
    }); 
```

如果单选按钮不是 td 的直接子级，那么您可能必须执行 .parent().parent()

你也可以试试`.parent().next(".waitlist") or .parent().prev(".waitlist")`

让我知道是否不起作用

# sql - 对联合 SQL Server 运行查询时，数据会发生什么情况？

> ID：10545366
> 
> 赞同：0
> 
> 时间：2012-05-11T04:15:14.383
> 
> 标签：sql, sql-server, azure-sql-database, partitioning, tempdb

SQL Azure 为您提供了设置联合 SQL 服务器的选项 - 例如，本质上通过某个键将您的数据跨多个服务器分区。但是，当您运行时`select * from order`，它会为您将所有数据重新组合在一起，并且整个过程对您的应用程序是透明的。

现在，假设我有一个可以自由使用临时表的存储过程。所以在这样的情况下：

```
-- query uses data from each partitioned server
select tbl1.Column1, tbl2.Column2
into #tmpTable
from tbl1
join tbl2.id = tbl1.id
where tbl2.Column3 = '234'

-- also uses data from each partitioned server
select #tmpTable.*
from tbl3
join tbl3.fkey = #tmpTable.Column1 
```

在这种情况下，数据是否每次都从一台服务器流向主服务器？临时表实际存储在哪里？全部在主盒子上，还是在联邦盒子之间分开？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T05:45:24.893

我对 SQL Azure 联盟还不是很了解，但是我能够为您获得以下信息：

如果您指的是 sql azure 中的联合，那么联合今天不会将您的查询扇出到所有成员。您基本上有一个数据库集合，事务和查询的范围保持在服务器端的单个成员中。

有了这个，临时表就没有什么神秘之处了。每个成员只是另一个带有自己的 tempdb 的 sql azure db。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-11T12:08:22.570

阿夫卡什是正确的。联邦被拆分为联邦成员，这些成员是不共享任何内容的数据库的集合。当您运行 SELECT * FROM Order 之类的语句时，假设 Order 表已被联合，返回的记录取决于您使用的联合成员。

[USE FEDERATION](http://msdn.microsoft.com/en-us/library/windowsazure/hh597457.aspx)命令允许您在不断开/重新连接的情况下切换联合成员。您的代码需要知道联邦成员列表并遍历每个成员以获取所有记录；一次一个联盟成员。然后在客户端代码上，聚合所有记录集以创建应用程序可以使用的单个数据集。您可以编写代码以并行执行所有这些请求。

您可以看到如何使用我在 codeplex 上发布的库来实现这一点。它被称为[Enzo Shard Library](http://enzosqlshard.codeplex.com/)。您需要下载包含联邦代码的 BETA 版本。该代码将允许您使用多个线程跨联合成员获取所有记录，以获得最佳性能。

# c# - 在 C# 中使用循环从列表创建对象

> ID：10545375
> 
> 赞同：0
> 
> 时间：2012-05-11T04:16:33.020
> 
> 标签：c#, list, groupbox

背景：在大多数情况下，我是自学 C#，所以如果这是一些头脑简单的问题，我深表歉意。我正在创建邮件列表的效果（每个对象都有名称、地址、联系信息等），并将在标签中打印出来（每个打印页将有两列和四行）。我在 formMain 中有一个列表，您可以在其中添加、编辑和删除单个标签，并且我有一个用于从列表中选择的单个条目的表单 printPreview(one)。

问题：我正在尝试为整个列表创建打印预览表单；为列表中的每个对象生成一个组框（包含一个文本框和图片框）——这样我就可以将标签的数量作为对象——然后用列表中每个对象的内容填充每个框。每个组框、文本框和图片框都具有特定的大小，并且将被隔开，以便每个标签之间有空间。所以这是我试图实现的伪代码；

```
//box[num] contains
//text box at location(6,19)
//picture box at location(222,19)

int locX = 0;
int locY = 0;
listObj = list.first;

for (int i = 0; i < list.count; i++)
{
  //create box[i] at location (locX, locY);
   box[i].textbox.text = listObj.text;
   box[i].picturebox.image = Image.FromFile(listObj.photoLocation);
   if(i%2)
   {
       locX+=400;
    }
   else
   {
       locY+=248;
       locX=0;
    }
   listObj = listObj.next;
} 
```

现在，我知道那里有很多漏洞，但我只需要基本的：如何让我的程序以等于列表中对象数量的形式创建新的组框？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T04:51:45.893

你的措辞让我有点吃惊，但我会尝试解决这个问题。如果我走远了，请原谅我。

回答直接、简单的答案；向表单添加组框：

```
 GroupBox groupbox1 = new System.Windows.Forms.GroupBox();
groupbox1.Location = new System.Drawing.Point(x, y);
form1.Controls.Add(groupbox1);

Textbox textbox = new System.Windows.Forms.Textbox();
textbox.Location = new System.Drawing.Point(x2, y2);
groupbox1.Controls.Add(textbox);

// same for picturebox, where x/x2 and y/y2 are your calculated 
// placements of the controls 
```

使它们的数量与列表中的数量相等将需要某种迭代；您必须创建一个列表并添加它们，或者只是 for(i=0 -> N) 添加它们。您必须根据您希望它的外观（边距、填充、大小等）计算出每个位置的数学。

现在，更详细一点：

我认为 TableLayoutPanel 或 FlowLayoutPanel 非常适合您正在做的事情。将 Table/FlowLayoutPanel 拖放到您的对话框中，然后在您的代码中以编程方式制作您的组框并将它们添加到表中。两者都非常擅长为您处理控制定位。如果您事先调整表格大小，则无需担心找到位置，您可以一次添加一个，然后布局面板处理其余部分。

```
 foreach(GroupBox groupbox in labelGroupBoxes)
{
    tableLayoutPanel.Controls.Add(groupbox);
} 
```

我认为，您需要考虑几件事。Winform 控件的 FlowlayoutPanel、TableLayoutPanel 和 Autosize 属性是少数。创建你的新表单，添加一个布局面板，开始创建你想要的标签大小的组框，如果你使用那个，将 tablelayoutpanel 的行/列大小设置为 AutoSize，然后开始粘贴它们。

这是关于表格布局面板的一个相当不错的视频，我找不到我真正想要的那个......

[http://msdn.microsoft.com/en-us/vstudio/Video/bb798032](http://msdn.microsoft.com/en-us/vstudio/Video/bb798032)

flowlayoutpanel 上的视频：

[http://msdn.microsoft.com/en-us/vstudio/Video/bb798028](http://msdn.microsoft.com/en-us/vstudio/Video/bb798028)

# wpf - WPF 派生的 Grid 控件控件模板

> ID：10545377
> 
> 赞同：0
> 
> 时间：2012-05-11T04:17:00.917
> 
> 标签：wpf, wpf-controls

我有一个从 DataGrid 派生的 MyGridControl。

我想在网格的右上角（不在网格中，在网格上方）放置 2 个命令按钮，这样我将在 WPF 窗口中放置的每个网格都会出现这 2 个按钮。

我怎样才能为它写一个控制模板？

或者还有其他方法吗？

一件重要的事情，我可以使用自定义控件来做到这一点，但我希望 MyGridControl 应该派生自 DataGrid 而不是 UserControl，以便所有 DataGrid 属性都可以轻松地暴露给我的窗口。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T12:38:52.230

我没有得到**这个**...

> 一件重要的事情，我可以使用自定义控件来做到这一点，但我希望 MyGridControl 应该派生自 DataGrid 而不是 UserControl，**以便所有 DataGrid 属性都可以轻松地暴露给我的窗口。**

回到您的查询，您可以创建一个用户控件并在 GroupBox 中的该用户控件中“装饰”网格并覆盖其`HeaderTemplate`以将两个按钮托管到右上角

或者

您可以在网格的右上角附加一个弹出窗口来托管按钮。

# c++ - c ++ sizeof在给出错误未处理的异常

> ID：10545381
> 
> 赞同：0
> 
> 时间：2012-05-11T04:17:17.620
> 
> 标签：c++, crash, runtime-error, sizeof

这只是一个基本的打印句子数组字符串。我是 c++ 新手，只使用过 JAVA 和类似的语言，以前从未使用过 c。尝试通过每种不同的排序算法和数据结构来学习它。

但在我开始之前，只测试我的字符串数组会给我一个错误。我不知道为什么它给我一个错误。编译正常实际上运行并打印预期的内容，但如果您正在调试它会崩溃并出现错误。谁能向我解释为什么会这样。尝试`size()`并`length()`来自 c++ 库，但必须使用 sizeof() '

```
//BubbleSort.cpp
#include "stdafx.h"
#include <string>
#include <iostream>
using namespace std;

int main()
{
    string something[14];
    something[0] = "Kate";
    something[1] = "likes";
    something[2] = "lots";
    something[3] = "of";
    something[4] = "cake";
    something[5] = "in";
    something[6] = "her";
    something[7] = "mouth";
    something[8] = "and";
    something[9] = "will";
    something[10] = "pay";
    something[11] = "a";
    something[12] = "lot";
    something[13] = "lol";
    int some = sizeof(something);
    some--;
    for (int i = 0; i < some; i++)
    {
        cout << something[i] << " " ;
    }
    system("pause");
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-11T04:22:14.110

`sizeof(something)`不会像您期望的那样返回 14，但它会返回`sizeof(string)*14`，因此您在尝试打印时遇到缓冲区溢出。你需要的是

```
some = sizeof(something)/sizeof(string) 
```

或如@Tiago 所述，您可以使用

`some = sizeof(something)/sizeof(something[0])`

同样正如@James 建议的那样，您应该研究`std:vector`.

# php - 如何在PHP中通过键将项目添加到数组

> ID：10545382
> 
> 赞同：0
> 
> 时间：2012-05-11T04:17:20.373
> 
> 标签：php, arrays

我通常通过在 PHP 中将项目添加到数组中

```
$a = array();
$a['key'] = 'value'; 
```

但它给了我一个未定义索引的 E_NOTICE 警告。

如何正确通过 Key 将项目添加到数组中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T04:20:08.873

首先，阅读[这个](http://php.net/manual/en/language.types.array.php)。它解释了有关数组的一切。

其次，您的代码看起来不错。你确定你正确地声明了你的数组吗？发布您的确切代码 - 通过更改名称和值来混淆您的代码无济于事 - 特别是因为它很容易掩盖错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T04:19:51.620

那根本不应该发出任何警告，您确定问题不在于`value`？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T04:22:59.960

您可以通过执行以下操作将值添加到数组中：

```
$a = array(
    'key' => 'value',
    'key2' => 'value2'
); 
```

等等等等。这只有在您创建一个包含所有已知键的数组时才真正可行。如果您想要超级完整并且没有像这样的时间头，您可以创建一个空数组并稍后用值填充它：

```
$a = array(
    'key' => '',
    'key2' => ''
);

$a['key']  = 'value';
$a['key2'] = 'value2'; 
```

# python - 如何检查python中的变量是否为空？

> ID：10545385
> 
> 赞同：32
> 
> 时间：2012-05-11T04:18:15.193
> 
> 标签：python

我想知道python是否有任何函数，例如php空函数（http://php.net/manual/en/function.empty.php），它使用以下标准检查变量是否为空

```
"" (an empty string)
0 (0 as an integer)
0.0 (0 as a float)
"0" (0 as a string)
NULL
FALSE
array() (an empty array) 
```

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-05-11T04:23:07.243

另请参阅this previous answer推荐`not`关键字

[如何在 Python 中检查列表是否为空？](https://stackoverflow.com/questions/1725517/how-to-check-if-a-list-is-empty-in-python)

它不仅仅适用于列表：

```
>>> a = ""
>>> not a
True

>>> a = []
>>> not a
True

>>> a = 0
>>> not a
True

>>> a = 0.0
>>> not a
True

>>> a = numpy.array([])
>>> not a
True 
```

值得注意的是，它不适用于“0”作为字符串，因为该字符串实际上包含一些东西——一个包含“0”的字符。为此，您必须将其转换为 int：

```
>>> a = "0"
>>> not a
False

>>> a = '0'
>>> not int(a)
True 
```

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2012-05-11T04:20:34.717

是的，[`bool`](http://docs.python.org/library/functions.html#bool)。它不完全一样—— `'0'`is `True`，但是`None`, `False`, `[]`, `0`, `0.0`, and `""`are all `False`。

`bool``if`当您在条件（如or`while`语句、条件表达式或布尔运算符）中计算对象时，会隐式使用。

如果您想像 PHP 那样处理包含数字的字符串，您可以执行以下操作：

```
def empty(value):
    try:
        value = float(value)
    except ValueError:
        pass
    return bool(value) 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2018-02-14T16:34:41.433

只需使用`not`：

```
if not your_variable:
    print("your_variable is empty") 
```

并供您`0 as string`使用：

```
if your_variable == "0":
    print("your_variable is 0 (string)") 
```

将它们结合起来：

```
if not your_variable or your_variable == "0":
    print("your_variable is empty") 
```

Python是关于简单的，所以这个答案:)

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-05-11T04:19:55.233

见第 5.1 节：

[http://docs.python.org/library/stdtypes.html](http://docs.python.org/library/stdtypes.html)

可以测试任何对象的真值，用于 if 或 while 条件或作为以下布尔运算的操作数。以下值被认为是错误的：

`None`

`False`

任何数字类型的零，例如 , `0`, `0L`, 。`0.0``0j`

任何空序列，例如`''`, `()`, `[]`.

任何空映射，例如`{}`.

用户定义类的实例，如果该类定义了一个`__nonzero__()`or`__len__()`方法，当该方法返回整数零或 bool 值时`False`。[1]

所有其他值都被认为是真的——所以许多类型的对象总是真的。

除非另有说明，否则具有布尔结果的操作和内置函数始终返回`0`或`False`为假和`1`或为真。`True`（重要的例外：布尔运算总是返回它们`or`的`and`操作数之一。）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2022-02-21T06:35:49.790

您可以使用**not**关键字。

```
if not a
    print("a is empty") 
```

# php - 如何从 postgres 数据库中搜索带单引号的字段？

> ID：10545387
> 
> 赞同：3
> 
> 时间：2012-05-11T04:18:19.430
> 
> 标签：php, database, postgresql

我有一个可能包含单引号的字段，它与单引号一起存储在数据库中。例如，字段可能是这样的。

1|xyz的朋友|21.3

2|你好，tty的朋友|42.2

用户输入需要显示值的搜索查询。

例如，如果用户输入--> xyz's 存储在变量中（PHP）

我做不到

```
select * from table where field LIKE '%variable%' 
```

因为变量中已经有引号。并且 postgres 不允许我在 %variable% 周围使用双引号

我也试过做这样的事情

```
select * from table where field LIKE E'%variable%' 
```

使用转义序列，但这也不起作用。有什么帮助吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-11T04:43:05.727

不要试图自己引用东西，使用图书馆。在这种情况下，您需要[`pg_escape_string`](http://php.net/manual/en/function.pg-escape-string.php). 因此，添加百分比包装器，然后将其提供给`pg_escape_string`然后将结果放入您的 SQL 中。

顺便说一句，在 PostgreSQL 字符串文字中转义单引号的正确方法是将它加倍，如果你有`"it's"`一个字符串，那么数据库希望`'it''s'`在 SQL 中看到。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T04:24:19.720

您必须使用 \ 转义引号字符，例如

```
select * from table where field LIKE E'%xyz\'s%' 
```

在使用它之前，您应该能够将字符串中的 ' 替换为 \' 。

另请注意，在查询中直接使用用户输入的查询参数通常是一个**非常糟糕的主意。**PHP 可能有一个模块可以为您清理输入；你应该使用它。

# gerrit - Gerrit：内联代码注释

> ID：10545388
> 
> 赞同：1
> 
> 时间：2012-05-11T04:18:20.443
> 
> 标签：gerrit

Gerrit 是否像[phabricator](https://secure.phabricator.com/D583#inline-835)那样支持内联注释？

![在此处输入图像描述](../Images/ee3af4ceb4bdb9f7966edd7a1d28215e.png)

有人可以帮我理解吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T17:43:46.360

是的，当然，这是 Gerrit 的主要功能之一。这是我在 Android Gerrit 实例上快速找到的一个随机示例：[https ://android-review.googlesource.com/#/c/31832/2/libc/bionic/libc_init_dynamic.c](https://android-review.googlesource.com/#/c/31832/2/libc/bionic/libc_init_dynamic.c)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-03-02T07:52:50.140

在 gerrit 页面展开文件中，选择要注释的代码块。将出现工具提示“按评论”。

[![在此处输入图像描述](../Images/2cb1579b5d0941e4f631e788ea5bd4c8.png)](https://i.stack.imgur.com/6qm1B.png)

按此工具提示并输入评论。要发布对此提交的评论回复。

[![在此处输入图像描述](../Images/a61701769f927d803641d9b081569b9d.png)](https://i.stack.imgur.com/n8KKK.png)

# php - 为 CMS 制作一个 SEO 友好的 URL

> ID：10545392
> 
> 赞同：0
> 
> 时间：2012-05-11T04:19:26.853
> 
> 标签：php, codeigniter, seo

我正在尝试使用 Codeigniter 创建一个内容管理系统。我有一个页面显示文章标题列表。当任何用户单击任何文章标题时，它会将用户带到单独页面中该文章的详细信息。

我正在使用以下代码显示文章标题列表：

```
 <a href="<?php echo base_url(); ?>article/<?php echo $row['article_id']; ?>">
 <?php echo $row['article_title']; ?></a> 
```

当任何用户单击上面的链接时，它会获取 article_id 并转到以下控制器

控制器：

```
function index($id){

   $this->load->model('mod_articles');
    $data['records']=$this->mod_articles->list_articles($id);
    $this->load->view('view_article',$data);
} 
```

模型 ：

```
 function list_articles($id)
    {   
        $this->db->select('*');
        $this->db->from('article');
        $this->db->where('article_id', $id); 
        $query = $this->db->get();
        return $query->row_array();

    } 
```

现在，当我显示结果时，在浏览器的地址栏中，链接看起来像这样 -

```
 localhost/cms/article/1         //<< here localhost/cms/ is my base_url 
```

根据这个[网站](http://cmsteachings.com/frienly-urls-good-seo)，一个很好的 SEO 友好 URL 的例子是`http://www.mysite.com/joomla-seo-tips`。

现在我的问题是如何使我的 URL 看起来像`localhost/cms/article/my-article-title`而不是在链接末尾显示文章的 id？

为了实现这一点，我应该查询我的文章标题而不是文章 ID，还是有一些更好的方法可以做到这一点？

请分享您对此的想法。

提前致谢 ：）

## 编辑

那么，在保存我的内容之前，我应该运行以下代码获取`$article_slug`然后保存它吗？

```
function create_slug($string){
$slug=preg_replace('/[^A-Za-z0-9-]+/', '-', $string);
return $slug;
}

$article_slug= create_slug('My Name ');   // as you suggested I will create a new column for this 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T04:26:33.013

当你保存记录时，通过`url_title()`在标题上运行给它一个 URL slug（这应该是一个唯一的列，确保在保存时检查重复的条目）。

`url_title("My page title!")`应该返回类似的东西`my-page-title`，请参阅[url 帮助程序](http://codeigniter.com/user_guide/helpers/url_helper.html)。我通常`strtolower`也使用蛞蝓，看起来 CI 允许上限。

当您查询内容时，通过 获取它`slug`，例如：

```
$this->db->where('slug', $this->uri->segment(1))->get('articles'); 
```

当然，使用`slug`你的链接而不是 ids。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T04:28:24.733

您的“文章”表可以包含一个附加字段（“slug”是它的常用名称，因此在您的示例中可能是“article_slug”），它既用作 URL 的一部分，又用作查询的字段。通常，CMS 会将“slug”显示为可编辑字段，但会使用转换后的页面标题的值预先填充它（通常通过将标题小写、将空格转换为破折号并清除任何 URL 不友好字符，如引号）。

# rubymotion - 在控制器中访问 NSManagedObject NSString 时出现 NoMethodError

> ID：10545398
> 
> 赞同：0
> 
> 时间：2012-05-11T04:20:23.827
> 
> 标签：rubymotion

大部分代码直接来自 RubyMotion Locations 示例。

我定义了一个简单的 NSManagedObject：

```
class Text < NSManagedObject
  def self.entity
    @entity ||= begin
      # Create the entity for our Text class. The entity has 2 properties. 
      # CoreData will appropriately define accessor methods for the properties.
      entity = NSEntityDescription.alloc.init
      entity.name = 'Text'
      entity.managedObjectClassName = 'Text'
      entity.properties = ['main', NSStringAttributeType,'display',NSStringAttributeType].each_slice(2).map do |name, type|
            property = NSAttributeDescription.alloc.init
            property.name = name
            property.attributeType = type
            property.optional = false
            property
          end
      entity
    end
  end 
end 
```

我似乎无法访问控制器内的显示方法：

```
def tableView(tableView, cellForRowAtIndexPath:indexPath)
    cell = tableView.dequeueReusableCellWithIdentifier(CellID) || UITableViewCell.alloc.initWithStyle(UITableViewCellStyleSubtitle, reuseIdentifier:CellID)
    text = TextStore.shared.texts[indexPath.row]

    cell.textLabel.text = text.display
    cell.detailTextLabel.text = text.main[0,10] + "...."
    cell
  end 
```

我不断收到此异常：

```
Terminating app due to uncaught exception 'NoMethodError', reason: 'text_controller.rb:40:in `tableView:cellForRowAtIndexPath:': private method `display' called for #<Text_Text_:0x8d787a0> (NoMethodError) 
```

我尝试对 Text 类和 TextStore 类（模型）进行各种更改。到目前为止，还没有解决这个问题。我在 Apple 的在线文档中进行了一些研究，但没有找到任何线索。

我已经通过使用 main 属性来解决它。我希望有人可以帮助我理解为什么我会看到这种行为。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T13:52:52.973

尽管我在任何地方都找不到它的文档，但它似乎`display`是 RubyMotion 中几乎每个对象的私有方法。`display`除非您指定属性，否则即使是完全空白的类也会引发异常：

```
(main)>> class Foo; end
=> nil
(main)>> f = Foo.new
=> #<Foo:0x8ee2810>
(main)>> f.display
=> #<NoMethodError: private method `display' called for #<Foo:0x8ee2810>>

(main)>> class Foo; attr_accessor :display; end
=> nil
(main)>> f = Foo.new
=> #<Foo:0xa572040>
(main)>> f.display
=> nil 
```

我的猜测是，在 NSManagedObject 的工作方式中，它最初并不知道被管理的对象有一个`display`属性，所以它会抛出关于私有方法的错误。虽然可能有办法解决这个问题，但我会避免使用与这些私有方法冲突的变量名。

# php - TCPDF如何设置两种文字颜色？

> ID：10545405
> 
> 赞同：4
> 
> 时间：2012-05-11T04:22:05.423
> 
> 标签：php, tcpdf

目前我正在尝试自定义 whmcs 发票 pdf。他们有以下代码

```
 # Payment Status
$endpage = $pdf->GetPage();
$pdf->setPage($startpage);
$pdf->SetXY(85,$addressypos);
if ($status=="Cancelled") {
    $statustext = $_LANG["invoicescancelled"];
    $pdf->SetTextColor(245,245,245);
} elseif ($status=="Unpaid") {
    $statustext = $_LANG["invoicesunpaid"];
    $pdf->SetTextColor(204,0,0);
} elseif ($status=="Paid") {
    $statustext = $_LANG["invoicespaid"];
    $pdf->SetTextColor(153,204,0);
} elseif ($status=="Refunded") {
    $statustext = $_LANG["invoicesrefunded"];
    $pdf->SetTextColor(34,68,136);
} elseif ($status=="Collections") {
    $statustext = $_LANG["invoicescollections"];
    $pdf->SetTextColor(255,204,0);
}
$pdf->SetFont('freesans','B',12);
$pdf->Cell(110,20,strtoupper($statustext),0,0,'C');
$pdf->setPage($endpage);

?> 
```

此代码产生这种格式，

例如，如果 paymenet 是“Unpaid”，代码会产生这个 echo 语句

> 未付（红色）

所以我想做的是，我想在“UNPAID”前面添加这个文本“Status：”，例如，当回显时，它会变成这样

> “状态：未支付”

我可以通过添加此代码来获得它

```
} elseif ($status=="Unpaid") {
        $statustext = $_LANG["statustext"];
    $statustext = $_LANG["invoicesunpaid"];
    $pdf->SetTextColor(245,245,245); 
```

但是因为这段代码

```
$pdf->SetTextColor(245,245,245); 
```

状态：也变成（红色）。

我可以实现什么来获得状态：文本黑色和 UNPAID 保持为“RED”。

请指出我。谢谢你。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-08-01T07:59:06.597

在我需要写一些东西之前，我已经通过设置文本颜色来实现不同的文本： $pdf->SetTextColor(0,0,0);

这是我的代码示例：（实际编写的文本在此 if 语句之外，但我更改了文本的背景，因此我需要将文本颜色更改为可见）

```
 if ($row_cnt > ($sticker_count / 2)) {
        $pdf->SetTextColor(0,0,0);
        $pdf->ImageSVG($file='images/sticker_29072013.svg', $xsi, $ysi, $w='60', $h='30', $link='', $align='', $palign='', $border, $fitonpage=false);
        $pdf->ImageSVG($file='images/qr_29072013.svg', $xqi, $yqi, $w='30', $h='30', $link='', $align='', $palign='', $border, $fitonpage=false);
    }
    else {
        $pdf->SetTextColor(255,255,255);
        $pdf->ImageSVG($file='images/blacksticker_29072013.svg', $xsi, $ysi, $w='60', $h='30', $link='', $align='', $palign='', $border, $fitonpage=false);
        $pdf->ImageSVG($file='images/blackqr_29072013.svg', $xqi, $yqi, $w='30', $h='30', $link='', $align='', $palign='', $border, $fitonpage=false);
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-11T05:32:15.270

您可以使用替换来执行此操作`$pdf->Cell`，`$pdf->writeHTMLCell`因此源将如下所示：

```
} elseif ($status=="Unpaid") {
    $statustext = $_LANG["statustext"];
    $statustext .= "<font color=red>".$_LANG["invoicesunpaid"]."</font>";
...
$pdf->writeHTMLCell(110, 20, '', '', $statustext , 1, 1, 1, true, 'J', true); 
```

这是该功能的文档[。](http://www.tcpdf.org/doc/code/classTCPDF.html#a8458280d15b73d3baffb28eebe2d9246)希望能帮助到你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-27T12:58:57.993

有 2 个选项供您选择：

**1）在单独的单元格中**输出两个单词，即首先是“状态：”，然后是“未付费”。像这样：

```
$endpage = $pdf->GetPage();
$pdf->setPage($startpage);
$pdf->SetXY(85,$addressypos);
$pdf->SetFont('freesans','B',12);

// First output "Status:" in black color.
$pdf->setTextColor( array(0,0,0) );
$pdf->Cell(110,20,'Status:',0,0,'L'); // Not centered anymore!

// Now run your existing condition to get the status text/color:
if ($status=="Cancelled") {
    $statustext = $_LANG["invoicescancelled"];
    $pdf->SetTextColor(245,245,245);
} elseif ($status=="Unpaid") {
    $statustext = $_LANG["invoicesunpaid"];
    $pdf->SetTextColor(204,0,0);
} elseif ($status=="Paid") {
    $statustext = $_LANG["invoicespaid"];
    $pdf->SetTextColor(153,204,0);
} elseif ($status=="Refunded") {
    $statustext = $_LANG["invoicesrefunded"];
    $pdf->SetTextColor(34,68,136);
} elseif ($status=="Collections") {
    $statustext = $_LANG["invoicescollections"];
    $pdf->SetTextColor(255,204,0);
}

// Output the status text at X = 125 (1.5cm further to the right!)
// Note that the word "Status" above used X = 110\. 
$pdf->Cell(125,20,strtoupper($statustext),0,0,'L'); // Not centered anymore!
$pdf->setPage($endpage); 
```

2) 使用**HTML 标记**和 writeHTMLCell() 输出文本：

```
$endpage = $pdf->GetPage();
$pdf->setPage($startpage);
$pdf->SetXY(85,$addressypos);
$pdf->SetFont('freesans','B',12);

// Now run your existing condition to get the status text/color:
if ($status=="Cancelled") {
    $statustext = $_LANG["invoicescancelled"];
    $color = 'rgb(245,245,245)';
} elseif ($status=="Unpaid") {
    $statustext = $_LANG["invoicesunpaid"];
    $color = 'rgb(204,0,0)';
} elseif ($status=="Paid") {
    $statustext = $_LANG["invoicespaid"];
    $color = 'rgb(153,204,0)';
} elseif ($status=="Refunded") {
    $statustext = $_LANG["invoicesrefunded"];
    $color = 'rgb(34,68,136)';
} elseif ($status=="Collections") {
    $statustext = $_LANG["invoicescollections"];
    $color = 'rgb(255,204,0)';
}

// Now build an HTML string for the status:
$html = '<font color="black">Status:</font> '.
    '<font style="color:$color">$statustext</font>';

// Output the HTML code
$pdf->writeHTMLCell(110,20,0,0,$html); 
$pdf->setPage($endpage); 
```

# android - 多屏

> ID：10545414
> 
> 赞同：0
> 
> 时间：2012-05-11T04:23:09.430
> 
> 标签：android, android-layout

```
 public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        initControls();

    } 
```

我是一个菜鸟 android 编码器。我已经编写了一个单屏应用程序，可以按我的意愿运行，但我想添加额外的屏幕，即按一个按钮，一个新屏幕打开，按一个按钮，恢复以前的屏幕。如何向我的程序添加视图？我的一个 xml 文件是 res/layout/main.xml。如何添加其他视图并在它们之间随意切换？我正在使用 ant 和控制台进行开发……没有 Eclipse。

感谢您帮助菜鸟:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T04:41:51.653

你必须看看[Intents](http://developer.android.com/reference/android/content/Intent.html)和[Activties](http://developer.android.com/reference/android/app/Activity.html) .. 这是一个很好的例子。

[http://www.vogella.com/articles/AndroidIntent/article.html](http://www.vogella.com/articles/AndroidIntent/article.html)

[http://marakana.com/forums/android/examples/65.html](http://marakana.com/forums/android/examples/65.html)

意图用于从一个活动传递到另一个活动，活动只是一个带有 UI 小部件的屏幕，用于交互。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-11T04:42:39.010

有多种方法可以向您的应用程序添加新屏幕。

主要方法是创建另一个 Activity，例如您在那里的那个，但将不同的 xml 布局附加到它。您可以在此处查看如何调用另一个活动。[http://developer.android.com/guide/topics/fundamentals/activities.html](http://developer.android.com/guide/topics/fundamentals/activities.html)

您还可以使用专门为此任务制作的小部件，例如 ViewFlipper 或 ViewPager。

您最好通读 Android 文档的基础知识，以确定最适合您的应用程序的内容。[http://developer.android.com/guide/topics/fundamentals.html](http://developer.android.com/guide/topics/fundamentals.html)

# javascript - 功能在 Firefox 中不起作用

> ID：10545415
> 
> 赞同：-3
> 
> 时间：2012-05-11T04:23:18.543
> 
> 标签：javascript, firefox

为什么这在 Firefox 中不起作用？

```
<li class="selected"><a onclick="tabbing(this, p1)" href="javascript:void(0)">ABC</a></li>
<li><a onclick="tabbing(this, p2)" href="javascript:void(0)">XYZ</a></li>

<div id="p1"></div>
<div id="p2"></div> 
```

```
function tabbing(ex,id){ 
    alert(ex)    
} 
```

p1 和 p2 只是我的 AJAX 结果的容器。

**编辑**：我找到了解决方案。我不只传递 id 名称，而是将这一行作为参数传递：

```
document.getElementById('p1') 
```

所以现在是这样的：

```
tabbing(this, document.getElementById('p1')) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T04:25:27.817

在我看来，`p1`并`p2`没有定义。为了在这样的语句中使用它们： ，必须定义 `tabbing(this, p2)`变量。`p2`

你的意思是作为变量传递还是作为字符串传递`p1`？`p2`

如果你打算`p1`和`p2`成为字符串，那么你应该像这样传递它们：

```
<li class="selected">
    <a onclick="tabbing(this, 'p1')" href="javascript:void(0)">ABC</a>
</li>
<li>
    <a onclick="tabbing(this, 'p2')" href="javascript:void(0)">XYZ</a>
</li> 
```

# javascript - Blackberry Web Works如何在每次启动应用程序时触发事件

> ID：10545423
> 
> 赞同：2
> 
> 时间：2012-05-11T04:24:34.020
> 
> 标签：javascript, jquery, html, blackberry, blackberry-webworks

```
<html>
  <head>
    <meta name="viewport" id="viewport" content="height=device-height,width=device-width,user-scalable=no"/>
    <script type="text/javascript">
    function helloWorld() {
     alert("Hello World");
    }
    </script>
  </head>
  <body onload="helloWorld();">
   <h1>Hello World</h1>
  </body>
</html> 
```

我有一个使用类似于上面的 Blackberry WebWorks 构建的应用程序。每次用户打开应用程序时，我都需要触发上述 helloWorld() 函数。

问题是“onload”功能仅在应用程序首次启动时触发，或者当用户通过单击“手机上的挂断按钮”退出应用程序时，而不是在单击“手机上的后退按钮”时触发。

有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T21:53:57.693

I think that you are interested in launching the function not only every time the app is started, but also when the app is retrieved from the background (this means when your app is not closed, but it is running in the background although you are not interacting with it).

I suggest you use Cordova (former Phonegap) and take a look at the ["resume" event](http://docs.phonegap.com/en/1.7.0/cordova_events_events.md.html#resume). Using the example given there, I think you would need something like this:

```
<html>
<head>
  <title>Cordova Resume Example</title>

  <script type="text/javascript" charset="utf-8" src="cordova-1.7.0.js"></script>
  <script type="text/javascript" charset="utf-8">

  // Call onDeviceReady when Cordova is loaded.
  // At this point, the document has loaded but cordova-1.7.0.js has not.
  // When Cordova is loaded and talking with the native device,
  // it will call the event `deviceready`.
  function onLoad() {
    document.addEventListener("deviceready", onDeviceReady, false);
  }

  // Cordova is loaded and it is now safe to make calls Cordova methods
  function onDeviceReady() {
      document.addEventListener("resume", onResume, false);
      // Call the function you are interested in.
      helloWorld();
  }

  // Handle the resume event
  function onResume() {
    helloWorld();
  }

  function helloWorld(){
    alert('Hello World');
  }
  </script>
</head>
<body onload="onLoad()">

</body>
</html> 
```

You may download the files you need [here](http://phonegap.com/download). I haven't test the code. Try it and let me know if it works for you.

# ios - 带有文本编辑字段的 UIView

> ID：10545425
> 
> 赞同：0
> 
> 时间：2012-05-11T04:24:41.100
> 
> 标签：ios, ios5

我的观点首先关注文本编辑器，这会导致键盘弹出。我想避免这种情况，让用户在键盘弹出之前点击文本字段。

我怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T04:27:50.053

您是否在代码中的某处将文本字段设置为 firstResponder（即，使用 [textView becomeFirstResponder]）？如果是这样，您不需要这样做 - 当您点击文本字段时会自动发生。

# android - 在android中按下后退时如何将图像更改回原始状态

> ID：10545427
> 
> 赞同：1
> 
> 时间：2012-05-11T04:25:14.940
> 
> 标签：android, eclipse-adt

问题是我做了一个应用程序，其中有图标..当我们点击图标时，它会改变它的图像..（即它会发光）。并打开另一个活动..但是当按下返回时，它仍然处于发光状态..所以我想在按下返回时将其恢复为原始状态

```
package sditm.app;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ImageView;
import android.widget.Toast;

public class page1 extends Activity {
/** Called when the activity is first created. */
ImageView about;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.page1);

    about=(ImageView)findViewById(R.id.imageView6);

    about.setClickable(true);

   about.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-gener2ated method stub
            about.setImageResource(R.drawable.helps);
            Intent i=new Intent(getApplicationContext(),aboutActivity.class);
            startActivity(i);
            Toast.makeText(getApplicationContext(), "Enter all fields", Toast.LENGTH_SHORT).show();
            about.setImageResource(R.drawable.help);

        }
    });

}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T04:35:02.807

用于`onResume()`恢复图像以前的状态：

```
 @Override  
    protected void onResume() {  
        about.setImageResource(R.drawable.imageView6);
        super.onResume();  
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T04:33:05.793

在您的主要活动中覆盖 onResume() 方法并在按下返回时执行您实际想要的操作，然后尝试。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T04:33:18.883

只需通过此[活动生命周期](http://developer.android.com/reference/android/app/Activity.html)。

您还可以使用 onResume() ，它可以在您想要返回 Activity 时为您提供帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-11T04:34:24.980

您可以在 OnbackPressed() 中完成当前活动并重新开始此活动。当您按下返回按钮时，将调用此方法。或者您可以尝试将 onTouch 事件用于图标图像

```
about.setOnTouchListener(new OnTouchListener() {

        @Override
        public boolean onTouch(View v, MotionEvent event) {
            if(event.getAction()==MotionEvent.ACTION_UP)
            {
                 about.setImageResource(R.drawable.help);

                 Intent i=new Intent(getApplicationContext(),aboutActivity.class);
                startActivity(i);

            }
            if(event.getAction()==MotionEvent.ACTION_DOWN)
            {
                 about.setImageResource(R.drawable.help);
            }
            return false;
        }
    }); 
```

它可能会帮助你..

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-11T04:35:25.947

您可以使用选择器为不同的状态定义不同的图像，比如正常、聚焦、按下。

否则，您可以使用 onStart 方法，只要您的活动在窗口上，就会调用此方法。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-05-11T04:35:42.873

代替 ImageView 使用可以使用按钮，并且您可以自定义更改每个事件中的按钮颜色或图像...点击此链接..[单击此处](http://www.learntoprogram.tv/2011/11/21/android-development-creating-custom-buttons/)

# python - django cmdline(manage.py shell) 获取 DoesNotExist

> ID：10545428
> 
> 赞同：0
> 
> 时间：2012-05-11T04:25:15.937
> 
> 标签：python, django, shell

众所周知，在 django 框架中，我运行：

```
python manage.py shell 
```

然后，从网络上创建一个对象（模型），我可以通过网络获取这个对象

但是，当我尝试通过之前启动的 django shell 获取它时，我得到了 DoesNotExist 异常

```
DoesNotExist: QueueData matching query does not exist. 
```

cat 获得这个新对象的唯一方法是退出旧的 django shell，然后启动一个

问题是：**我如何从之前启动的 django shell 获取由 web 创建的新对象，而不重新运行 django shell？**

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T04:52:57.907

实际上他们都读取了你的数据库，所以即使你从 web 创建一个对象实例，你也需要能够从你的 django shell 访问这个对象

只需查询您的对象即可查看您创建的所有对象

Yourmodel.objects.all()

# ios - 在前台和后台无限运行任务

> ID：10545433
> 
> 赞同：0
> 
> 时间：2012-05-11T04:25:46.170
> 
> 标签：ios, xcode, gps, nstimer, background-process

如果有人对此做出分类回答，我将非常感激。尽管我已经阅读了更多有关此后台执行的文档，但当我在编码中实现这些时却遇到了奇怪的行为。

我的应用程序支持后台模式 (GPS)，我可以看到位置更新定期打印在日志中。我有一个 NSTimer 正在运行，它将每 1 小时将位置更新发送到我的服务器。奇怪的是计时器工作了好几个小时，然后突然停止了。

我有两个问题一直在问我，尽管我已经阅读了一些苹果文件。

1 - 是否可以使用计时器在后台/前台无限运行任务？如果计时器不是选项，我可以使用什么 API 来无限运行任务。

2 - 如果用户可以选择为我的应用禁用定位服务，我就走了。我不希望用户为我的特定应用禁用定位服务。可以这样做吗？

请帮忙！！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T07:14:22.173

我无法真正回答您的第一个问题，但请记住：您应该“在后台运行时做最少的工作。[...] 在后台执行花费过多时间的应用程序可能会被系统限制或终止“（[来源](http://developer.apple.com/library/ios/#documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/ManagingYourApplicationsFlow/ManagingYourApplicationsFlow.html)）。

你有要求`UIBackgroundMode:location`吗？如果没有，您只能在后台执行代码一段有限的时间。

关于您的第二个问题：在能够获取用户位置之前，应用程序会向用户询问权限。可以拒绝此权限，然后您将无权访问用户位置。即使权限被授予，用户也可以随时撤回权限。所以，是的，用户可以为您的应用禁用定位服务。

# c++ - _CrtMemDumpAllObjectsSince() 函数如果调用 delete 数组而不是 delete []array 则无法检测到泄漏

> ID：10545436
> 
> 赞同：0
> 
> 时间：2012-05-11T04:26:22.690
> 
> 标签：c++, arrays, memory-leaks, delete-operator

这是一些示例代码：

```
#include <crtdbg.h>
#include <windows.h>

#ifdef _DEBUG
#define new DEBUG_CLIENTBLOCK
#endif

int main()   
{
   int* arr = new int[10];
   delete arr;     //not using delete [] arr
   _CrtMemDumpAllObjectsSince(NULL); // dumping leak logs 

  return 0;
} 
```

如您所见，我没有使用过`delete [] arr`，但仍然没有泄漏。

谁能更正它并解释为什么`_CrtMemDumpAllObjectsSince()`不在上面的代码中倾倒泄漏。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T04:42:49.017

官方的回答是，与 配对`new[]`会`delete`产生未定义的行为，因此您不能指望从那时起发生任何有用的事情。

通常更有帮助的非官方答案是，当您执行此操作 ( `new[]`with `delete`) 时，通常会发生内存块返回到堆中，*但*不会在数组中的对象上调用析构函数。换句话说，这些对象没有被正确地销毁，*但是*被占用的内存被释放了。因为它只检查内存块是否已被释放（并且不知道 dtors），`_CrtMemDumpAllObjectsSince()`所以不会注意到任何问题。

另一方面，考虑这样的事情：

```
class stupid {
    char *junk;
public:
    stupid() { junk = new char[10]; }
    ~stupid() { delete [] junk; }
};

int main() {
    stupid *stuff = new stupid[10];

    delete stuff;
    // delete [] stuff;
    _CrtMemDumpAllObjectsSince(NULL);
    return 0;
} 
```

这可能会按原样泄漏内存，但是当您使用`delete [] stuff;`而不是时停止泄漏它`delete stuff;`（实际上，进行快速检查，我发现至少对我来说它会按原样崩溃，所以您仍然可能无法获得泄漏报告，但你肯定会很快知道有什么问题）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T04:43:18.393

用于数组的 Visual c++ 删除运算符被记录为具有不可预测的结果。我认为因为你有一个整数数组，所以内存被正确释放，因为数组中的每个元素如果不被破坏就没有副作用。

尝试对用户定义类型的数组执行相同的操作，其中每个对象为某些内容分配自己的内存并在析构函数中释放它。我相信你会有不同的结果。

# windows - 如何在 Windows 上禁用 emacs 中的哔声

> ID：10545437
> 
> 赞同：55
> 
> 时间：2012-05-11T04:26:22.863
> 
> 标签：windows, emacs, beep

嗨，我是 Emacs 的新手，我在我的 Windows 机器上下载了 GNU emacs。我刚刚完成了简短的教程，但我发现每当我点击文件的开头/结尾以及在许多其他情况下都会发出哔声，这让我有点不安。

我在网上搜索，我发现有人说把这个

```
(setq visible-bell 1) 
```

在我的 .emacs 文件中，但我不知道该怎么做。首先，我的 .emacs 文件在哪里，它是什么？还是有其他方法可以做到这一点？我的意思是在 emacs 窗口菜单中有*Options -> Customize Emacs*但我找不到设置在哪里。我觉得在那里很难找到东西，除非你已经知道它在哪里。

* * *

## 回答 #1

> 赞同：110
> 
> 时间：2012-05-11T05:36:52.917

您有几个选项，其中一个不需要您知道文件在哪里；但是在适当的时候，您几乎肯定会想要对文件进行更改，所以让我们从那里开始。

> 首先，我的 .emacs 文件在哪里，它是什么？

您还可以选择该文件的名称。`~/.emacs`是默认值，但也可以是`~/.emacs.el`或`~/.emacs.d/init.el`。（我个人更喜欢后者，以便将所有与 Emacs 相关的文件保存在同一`.emacs.d`目录下，但我们将使用默认值，您以后可以随时重命名文件。）

所以首先，检查你是否有一个现有的文件。

`C-h``v` `user-init-file` `RET`

默认情况下，它会向您显示一个以结尾的文件路径`/.emacs`（即使该文件不存在），但是（在您的情况下不太可能）它以结尾的可能性，`/.emacs.el`或者`/.emacs.d/init.el`这意味着您有一个现有的 init 文件那个位置。

使用以下适当的一项加载该文件：

*   `C-x``C-f` `~/.emacs` `RET`
*   `C-x``C-f` `~/.emacs.el` `RET`
*   `C-x``C-f` `~/.emacs.d/init.el` `RET`

或者，无论它在哪里，您都可以加载它：
`M-:` `(find-file user-init-file)` `RET`

然后你可以简单地将该行代码添加到文件中：

```
(setq visible-bell 1) 
```

保存文件：

`C-x``C-s`

并且下次启动 Emacs 时，它将使用该设置。

您还可以通过在右`C-x``C-e`括号后用光标键入来立即评估设置。

既然您知道如何做到这一点，另一种方法是：

*   `M-x` `customize-variable` `RET` `visible-bell` `RET`
*   单击“切换”按钮以打开设置。
*   单击“保存以供将来的会话”按钮将其保存到您的初始化文件中。

如果您然后查看您的 init 文件，您会看到它已添加到该`(custom-set-variables ...)`部分。

至于你的 .emacs 文件*是*什么，它是一个 Emacs Lisp (elisp) 代码的个人库，在你启动 Emacs 时会自动加载和评估。所有 Emacs 配置和定制都是用这种语言编写的（实际上大部分编辑器本身也是如此）。

您可以在内置手册中阅读有关 init 文件和自定义 Emacs 的更多信息，方法是键入：

`M-:` `(info "(emacs) Customization")` `RET`
或者 `C-h``i``g` `(emacs) Customization` `RET`

您可能需要先学习如何使用信息阅读器。您可以从`*info*`缓冲区键入`h`开始其教程，并`d`返回到顶级页面（顶部有一些有用的注释）。

> 还是有其他方法可以做到这一点？我的意思是在 emacs 窗口菜单中有 Options -> Customize Emacs 但我找不到设置在哪里。

“特定选项”->“可见钟”是该方法的答案。但是请注意，并非所有内容都可以通过这些菜单获得，因此这并不总是答案，而且很多人完全禁用了菜单栏，因为没有它就可以访问所有内容。（我更倾向于建议通过浏览菜单来发现一些人们认为足够有用的选项，但要确保你不依赖它们。）

> 我觉得在那里很难找到东西，除非你已经知道它在哪里。

这在一定程度上是正确的，但 Emacs 的自文档方面意味着即使您不知道*在哪里*查找，您几乎总能找出您是否知道*如何*查找。

诚然，即使这样做也有一定的学习曲线，但我建议尽可能多地了解 Emacs 的这一方面。这将使您开始：

[http://emacswiki.org/emacs/SelfDocumentation](http://emacswiki.org/emacs/SelfDocumentation)

* * *

## 回答 #2

> 赞同：34
> 
> 时间：2014-07-02T08:33:02.493

要完全关闭警报，请使用：

```
(setq ring-bell-function 'ignore) 
```

在您的 .emacs 文件中，该文件位于您的 HOME 文件夹中

# css - Border-radius CSS 属性曲线外

> ID：10545438
> 
> 赞同：13
> 
> 时间：2012-05-11T04:26:29.877
> 
> 标签：css

如何使边界半径曲线向外？

![在此处输入图像描述](../Images/8f208e59b409a48363e395ea72e322fa.png)

边界半径要向外弯曲的底侧。如何用 CSS3 做到这一点？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-05-11T04:51:09.670

是的，您可以在没有任何额外标记的情况下执行此操作。像这样写：

**CSS**

```
.active{
    border:1px solid red;
    border-bottom:0;
    width:80px;
    height:40px;
    margin:30px;
    position:relative;
    -moz-border-radius:5px 5px 0 0;
    -webkit-border-radius:5px 5px 0 0;
    border-radius: 5px 5px 0 0;
}
.active:after,
.active:before{
    content:'';
    width:40px;
    height:30px;
    border:1px solid red;
    position:absolute;
    bottom:-3px;
    border-top:0;
}
.active:after{
    border-left:0;
    -moz-border-radius:0 0 5px 0;
    -webkit-border-radius:0 0 5px 0;
    border-radius: 0 0 5px 0;
    left:-41px;
}
.active:before{
    border-right:0;
    -moz-border-radius:0 0 0 5px;
    -webkit-border-radius:0 0 0 5px;
    border-radius: 0 0 0 5px;
    right:-41px;
} 
```

**HTML**

```
<div class="active">hi</div> 
```

检查这个[http://jsfiddle.net/p6sGJ/](http://jsfiddle.net/p6sGJ/)

# c# - 如何在 C# 中使用计时器？

> ID：10545440
> 
> 赞同：0
> 
> 时间：2012-05-11T04:26:45.653
> 
> 标签：c#

我希望我的函数每 2 秒执行一次，以检查是否有任何新用户，以便我可以为他们创建一个新日志。这是在控制台应用程序中，所以我使用了 Thread。但是我的控制台在运行一次该功能后关闭。只要我运行控制台，我就希望计时器运行，并且我的 createLog 函数将每 2 秒执行一次。我对 C# 比较陌生，所以也许我的计时器概念是完全错误的。请帮忙...

```
namespace ConsoleApplication1
{
    class Program
    {
        public static Hashtable clientsList = new Hashtable();

        static void Main(string[] args)
        {
            Timer t = new Timer(createLog, null, 0, 2000);

            IPAddress ip = IPAddress.Parse("127.0.0.1");
            TcpListener serverSocket = new TcpListener(ip, 9888);
            TcpClient clientSocket = default(TcpClient);
            int counter = 0;

            serverSocket.Start();
            .... //this main is monitoring the network....
           console.read();
        }

 private static void createLog(object state)
        {
         //this function checks the database and if there is new user it will create a new text file for he/she. 

        }
  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T04:35:15.363

您需要像`Console.ReadLine`在调用之后那样进行阻塞调用`Start`以保持前台线程运行。此外，您的 Timer 有资格进行垃圾收集，因为它在创建后不再被引用。在 Main 方法的末尾使用`GC.KeepAlive`以防止计时器被 GC'd。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T04:30:38.953

Winforms/Console 应用程序 -> [比较 .NET Framework 类库中的计时器类](http://msdn.microsoft.com/en-us/magazine/cc164015.aspx)

WPF ->[使用 Dispatcher 构建更具响应性的应用程序](http://msdn.microsoft.com/en-us/magazine/cc163328.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T04:29:37.513

由于这是一个控制台应用程序，您需要添加一些东西`Console.ReadLine()`来保持应用程序处于活动状态，直到用户想要关闭它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-11T04:30:14.137

也许[FluentScheduler](http://fluentscheduler.codeplex.com/documentation)可以提供帮助。

```
using FluentScheduler;

public class MyRegistry : Registry
{
    public MyRegistry()
    {
        // Schedule an ITask to run at an interval
        Schedule<MyTask>().ToRunNow().AndEvery(2).Seconds();

        // Schedule a simple task to run at a specific time
        Schedule(() => Console.WriteLine("Timed Task - Will run every day at 9:15pm: " + DateTime.Now)).ToRunEvery(1).Days().At(21, 15);

        // Schedule a more complex action to run immediately and on an monthly interval
        Schedule(() =>
        {
            Console.WriteLine("Complex Action Task Starts: " + DateTime.Now);
            Thread.Sleep(1000);
            Console.WriteLine("Complex Action Task Ends: " + DateTime.Now);
        }).ToRunNow().AndEvery(1).Months().OnTheFirst(DayOfWeek.Monday).At(3, 0);
    }
} 
```

# xpath - XQuery 在 baseX 中返回错误

> ID：10545442
> 
> 赞同：3
> 
> 时间：2012-05-11T04:27:19.423
> 
> 标签：xpath, xquery, basex

以下是 XML 文件 -

```
<Chapters>
  <Chapter>
    <Name>Introduction</Name>
    <Heads>
       <Head>
         <No>1</No>
         <Title>History of Internet</Title>
         <Desc>
         ..............
         </Desc>    
      </Head>
      <Head>
         <No>2</No>
         <Title>History of HTML</Title>
         <Desc>
         ..............
         </Desc>    
      </Head>
    </Heads>
  </Chapter>
  <Chapter>
    <Name>Learn HTML</Name>
    <Heads>
      <Head>
         <No>1</No>
         <Title>Browsers</Title>
         <Desc>
         ..............
         </Desc>    
     </Head>
     <Head>
         <No>2</No>
         <Title>Browser War</Title>
         <Desc>
         ..............
         </Desc>    
     </Head>
     <Head>
         <No>3</No>
         <Title>HTML, DHTML</Title>
         <Desc>
         ..............
         </Desc>    
      </Head>
    </Heads>
  </Chapter>
</Chapters> 
```

我想列出 Chapters/Chapter/Name=Introduction 和 Chapters/Chapter/Heads/Head/No=1 以下是我在 baseX 中执行的查询 -

/Chapters/Chapter[contains(Name,'Introduction') and contains(Heads/Head/No,'1')]/Heads/Head/Title

这就是错误 -

`Query: Chapters/Chapter[contains(Name,'Introduction') and contains(Heads/Head/No,'1')]/Heads/Head/Title`

`Error: [XPTY0004] Single item expected, (element No { ... }, element No { ... }) found.`

根据 baseX 网站，错误 XPTY0004 的描述是 -

`This error is raised if an expression has the wrong type, or cannot be cast into the specified type. It may be raised both statically (during query compilation) or dynamically (at runtime).`

我做错了什么？？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-11T12:42:42.470

```
/Chapters/Chapter
   [contains(Name,'Introduction') 
  and 
   contains(Heads/Head/No,'1')
   ]
     /Heads/Head/Title 
```

**的第一个参数`contains()`必须是单个字符串**，但对于上述表达式中的第二个引用`contains()`，该参数的`Heads/Head/No`计算结果为两个元素。

**表达式的更正是**：

```
/Chapters/Chapter
   [Name[contains(.,'Introduction')]
  and 
   Heads/Head/No[contains(.,'1')]
   ]
     /Heads/Head/Title 
```

**备注**：看来您实际上需要测试是否相等 - 而不是包含。这可以通过多种方式表达，其中之一是：

```
/Chapters/Chapter
   [Name eq 'Introduction']
  and 
   Heads/Head/No[. eq '1']
   ]
     /Heads/Head/Title 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-11T07:48:28.200

`fn:contains($arg1 as xs:string?, $arg2 as xs:string?) as xs:boolean`测试字符串`$arg2`是否包含在`$arg1`. 它需要每个参数（或空值`()`）的单个字符串。

路径步骤（此处`Heads/Head/Title`：）返回所有适合的元素，因此所有头部的所有标题。如果您删除章节“简介”的第二个标题，您的查询将成功运行。

`contains`这样做是错误的。`=`比较一组语义。使用约翰的解决方案或更接近你的解决方案（但约翰的可能会更快）：

```
/Chapters/Chapter[Name='Introduction' and Heads/Head/No='1']/Heads/Head/Title 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-21T11:12:20.417

只是为了完整性和其他人处理相同问题的后续行动：

您的代码将不起作用，正如已经指出的那样，`contains`它不接受字符串序列作为其第一个参数。

```
(: ssce: :)
let $doc := <doc>
            <a>
              <b>foo</b>
              <b>bar</b>
            </a>
          </doc>
return $doc/a[contains(b, "bar")] 
```

但是有一个简单的结构可以克服这一点。

```
(: ssce, this time working: :)
let $doc := <doc>
            <a>
              <b>foo</b>
              <b>bar</b>
            </a>
          </doc>
return $doc/a[some $b in b/text() satisfies contains($b, "bar")] 
```

这些所谓的[量化表达式](http://www.w3.org/TR/xquery/#id-quantified-expressions) (`some $var in expr`和`every $var in expr`) 是表达您实际在做什么的简洁方式。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-11T06:23:53.800

这将解决目的

```
/Chapters/Chapter[Name='Introduction']/Heads/Head[No='1']/Title 
```

但我无法回答您的问题...即我无法解释您的查询导致错误的原因！

# dotnetnuke - DNN - 渲染的 aspx 页面显示类似于二进制数据的数据

> ID：10545444
> 
> 赞同：0
> 
> 时间：2012-05-11T04:27:41.663
> 
> 标签：dotnetnuke, upgrade

我有一个 DNN 站点，我将其更新为更新的 5.6.4 版本。

登录后，它会将我重定向到我的页面。而不是页面，它向我显示了一些无法识别的字符段落，而不是实际的 UI。下面是显示给我的内容。

网站网址：`http://localhost/SiteName/Default.aspx?TabId=38`

内容：

�w�c�<em>ϯ�k������Ng�����������������������7������w������ 7����?����/����w.>��;����&����������������+��_�?

...这持续了超过 10k 个字符。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T10:15:41.957

该错误表明您有**HTTP 压缩**问题。

当有多个压缩方案同时工作时，压缩会变得很棘手。在 DotNetNuke 安装中，您可以启用压缩：

*   IIS 静态/动态压缩
*   Telerik RadCompression
*   DotNetNuke 压缩
*   3rd 方 DNN 模块，如 PageBlaster
*   其他 3rd 方组件库，例如。DevExpress 回调压缩

ASP.NET 回发和 AJAX 回调通常首先失败。在您的情况下，您似乎可以通过 GET 请求访问登录页面，但回发失败。

有时它只是一个不起作用的特定组合。例如，我遇到过 IIS 6 + RadCompression + DotNetNuke 压缩在 Firefox 3.6 中破坏回发的情况。Chrome 和 IE 都很好，Firefox 也可以使用 IIS 7.X。

压缩问题的一个简单解决方案是禁用 3rd 方压缩方案，直到一切恢复正常。IIS 压缩本身很少引起问题。

### 如何禁用 Telerik RadCompression

`httpmodules`在 web.config 中，从和部分中删除 RadCompression `system.webserver`。

[请参阅文档](http://www.telerik.com/help/aspnet-ajax/compression.html)。

### 如何禁用 DotNetNuke 压缩

如果可以进入主机设置，请在主机设置 - 性能设置 - 压缩设置中禁用压缩。

[更多信息](http://www.mitchelsellers.com/blogs/2008/04/15/dotnetnuke-performance-settings-explained!.aspx)

![在此处输入图像描述](../Images/1f89b5a3d8dd284a327ede1fb3716838.png)

或者，您可以在数据库中更新此设置：

```
UPDATE HostSettings
   SET SettingValue = 0
 WHERE SettingName = 'HttpCompression' 
```

# compiler-construction - 用解释语言编写操作系统

> ID：10545448
> 
> 赞同：0
> 
> 时间：2012-05-11T04:27:52.160
> 
> 标签：compiler-construction, operating-system, interpreter

是否可以使用未编译的语言（即解释为 python）或不使用运行时（如 Java）编写操作系统？虚拟机不需要在操作系统之上运行吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-11T04:32:46.963

微软研究院创建了一个名为[Singularity](http://research.microsoft.com/en-us/projects/singularity/)的操作系统。

这是一个研究项目，我认为他们需要一些低级代码来启动启动过程（在某些时候操作系统需要与硬件对话）。

[维基百科说](http://en.wikipedia.org/wiki/Singularity_%28operating_system%29)：

> 最低级别的 x86 中断调度代码是用汇编语言和 C 编写的。一旦该代码完成其工作，它就会调用内核，内核的运行时和垃圾收集器是用 Sing#（Spec# 的扩展版本，本身是扩展C#) 并在不受保护的模式下运行。硬件抽象层用 C++ 编写并在保护模式下运行。还有一些 C 代码来处理调试。在 16 位实模式引导阶段调用计算机的 BIOS；在 32 位模式下，Singularity 不再调用 BIOS，而是调用用 Sing# 编写的设备驱动程序。在安装过程中，使用 Bartok 编译器将通用中间语言 (CIL) 操作码编译为 x86 操作码。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-11T04:31:27.317

当然。只是不要期望它很快，这就是为什么没有人这样做。

您可能必须在解释器中做一些有趣的事情（虚拟指令），以允许您的操作系统更改机器状态（寄存器和堆栈、内存映射、I/O 设备寄存器），以及允许硬件的特定机器中断转换为解释代码的执行，并退出以从中断返回。而且您可能对初始启动逻辑有一段艰难的时间；您的解释器显然无法将自己从磁盘加载。

但是对于大多数操作系统，如果做得好，例如使用 JIT 编译器，它会非常便携，并且实际上可能相当快。[您希望 JIT 编译器使用相同的语言进行编码，并接受自 JIT 处理]。

早在 1980 年代，我就在 OS 360 系统的这种架构中提出了一种编译为虚拟机解释代码的类 C HLL，并且几乎完成了构建它的交易。本来会很有趣的。呃，好吧。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T04:45:08.580

是的，如果您在虚拟机中思考，这是可能的。

例如，您可以在 java 中创建一个小版本的 minix 以在 JVM 的顶部运行。但我不知道有人这样做的原因，除了太多的空闲时间:)

一个操作系统需要非常精简和快速。如果您选择 python，则在每个操作中都有 python 解释器开销。即使您考虑系统的一小部分，例如设备驱动程序：想象一下 python 解释器在内核空间中运行一段时间......

但对于教育或特殊情况（arduino？嵌入？）它是可以接受的。我认为 lua 可能是一个好主意，因为解释器非常小。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-11T09:04:20.390

有大量的国产 Forth 操作系统。Forth 在某种程度上处于被“解释”的边缘（但我宁愿远离这个术语，它太模糊且被广泛滥用）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-11-16T14:07:09.577

除原始机器代码外，每种语言/编译器都使用一些运行时。例如 C 有一个叫做 crt0 的东西，它是任何 C 程序的一组执行启动例程。更不用说广泛使用的 libc。所以你无法避免它，正确的问题是：运行时应该有多大/效率？它应该如何表现？例如：我需要垃圾收集器吗？

现在必须将一些关键的操作系统部分编译为原始机器代码。否则 CPU 将不知道如何执行它。毕竟CPU只理解机器码。此外，它必须遵循引导过程，这意味着编译后的代码必须与 bios 或 uefi 或您用于引导的任何内容兼容。最后，为了利用所有/大多数 CPU 功能，必须在编译时发出一些原始机器代码或在运行时进行 jitted。例如 CPU 内核。虽然技术上没有必要，但您可能不想要一个不知道如何使用多个 CPU 内核的操作系统。

然后你几乎可以做任何你想做的事情。例如，您可以在自定义操作系统中嵌入 Java 运行时，并只让 Java 程序在其中运行。您可能仍然需要一些低级语言来实现一些低级功能，如硬件驱动程序。

请注意，从技术上讲，所有这些都可以用任何语言编写。即使您的操作系统是基于 Java 的，也可以完全用 Python 编写。归根结底，操作系统只是任何语言都可以发出的字节序列。尽管用 Python 从头开始​​编写所有内容是一个我不推荐的核心想法。

# javascript - Node.js - 为什么在使用 mocha 和zombie 进行测试时会出现泄漏？

> ID：10545449
> 
> 赞同：5
> 
> 时间：2012-05-11T04:27:57.583
> 
> 标签：javascript, node.js, mocha.js, zombie.js

我试图让僵尸与 mocha 一起工作，但除非我使用 mocha --ignore-leaks 命令选项，否则我的测试总是失败并出现错误：

```
Error: global leaks detected: k, i, name, chars, char 
```

我的测试看起来与此线程中解释的完全一样： [Mocha and ZombieJS](https://stackoverflow.com/questions/9350232/mocha-and-zombiejs)

我希望我可以在那里发布我的问题，但作为一个新手，我不能评论这个帖子，只能问一个新问题。

你知道我为什么会得到这些泄漏吗？我正在使用 mocha 1.0.3 和僵尸 1.0.0。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-11T04:51:37.110

泄漏可能来自您自己的代码或您使用的 node_modules。Mocha 应该给出一些关于泄漏位置的提示，例如忘记用**var**声明局部变量。

```
// global leaks
a = 1;

// no leaks
var a = 1; 
```

您可能也有兴趣在 coffeescript 中编写 Node.js 应用程序，因为它可以帮助您避免类似的错误。（**它使用 var 自动初始化变量**）[http://coffeescript.org/](http://coffeescript.org/)

有一个模板可以帮助您从这里开始[https://github.com/twilson63/express-coffee](https://github.com/twilson63/express-coffee)

# javascript - Windows Server 2008 中 Msxml2.ServerXmlHttp 的“错误：自动化服务器无法创建对象”

> ID：10545453
> 
> 赞同：0
> 
> 时间：2012-05-11T04:28:16.163
> 
> 标签：javascript, msxml6

我收到此错误：“错误：自动化服务器无法创建对象”

当我尝试在 Windows Server 2008 中使用 java 脚本创建 Msxml2.ServerXmlHttp 对象时。

如果我将此 IE 设置更改为“初始化和脚本 ActiveX 控件未标记为安全”，此错误就会消失。

但为什么需要更改此 IE 设置？在 Windows 7 中无需任何设置更改即可使用相同的方法。

谢谢文卡特什

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T18:41:12.283

这是因为这个特定的 ActiveX 控件已被标记为“不安全的脚本”。

# r - rJava 警告含义

> ID：10545458
> 
> 赞同：1
> 
> 时间：2012-05-11T04:28:44.313
> 
> 标签：r, package

我正在尝试为 R 编译一个包，它使用`openNLP`依赖于`rJava`. 编译失败并显示以下消息：

![在此处输入图像描述](../Images/5f1b195826f3babee60cff80269cd169.png)

当我尝试在 R 中加载包时，它说：

```
library(openNLP)
Warning message:
replacing previous import ‘show’ when loading ‘rJava’ 
```

我无法编译包，因为它会终止进程，因为包由于此错误而无法加载（我认为）。我尝试更新 Java 但这并不能解决此问题。

请帮忙。

Win 7 机器上的 R 2.15.0

这是我的 Java 和 R 信息的屏幕截图： ![在此处输入图像描述](../Images/6e8bfdd0e10bc73050313baa14d3b3b6.png)

![在此处输入图像描述](../Images/a4a111f844ee87639118bfa9930c158b.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-02T03:08:50.070

问题出在 32 位 Windows 和 64 位 java 之间。我下载了 32 位 java 并且它工作了（虽然我仍然收到警告）

# ios - CLLocationManager startUpdatingLocation 导致滞后

> ID：10545464
> 
> 赞同：0
> 
> 时间：2012-05-11T04:29:48.723
> 
> 标签：ios, cllocationmanager

我注意到在我的应用程序中，当我调用 startUpdatingLocation 时，我的 UI 会短暂锁定，而我认为设备会收集位置数据。这是典型的吗？有什么方法可以限制吗？这是我的代码的样子

```
 -(void)getUserLocation {
    if (!locationManager) 
    {
        locationManager = [[CLLocationManager alloc]init];
    }

    [locationManager setDelegate:self];
    [locationManager startUpdatingLocation];

}

-(void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation {

    self.userCoordinate = newLocation.coordinate;

    NSLog(@"user coordinate in location manager: %f,%f",self.userCoordinate.latitude,self.userCoordinate.longitude);
    [locationManager stopUpdatingLocation];
    locationManager = nil;

    userLocationAvailable = YES;
    [self getDataForScrollView];

} 
```

有任何想法吗？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T05:08:06.947

那是因为您在主线程中获取位置，而主线程用于负责 UI 的东西。即用户触摸事件。这就是为什么你觉得你的应用程序有点滞后。

如果您在主线程中执行一项大型任务（例如从 Web 服务器获取数据），这是很正常的。您可以放置​​一个“正在加载”的旋转视图来指示用户，而不是让您的 UI 冻结。

或者，您可以尝试在另一个线程中获取位置。我也试图这样做，但我还没有成功。所以我目前正在使用第一种方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-01T15:16:00.343

您可能会受益于我在后台对定位服务的使用。本质上，我在主线程中设置了位置管理器，但接收到位置事件的所有处理都是在后台线程上完成的。

这将允许您的主线程继续进行而不会阻塞。

在此处查看代码[TTLLocationHandler GitHub 存储库](http://github.com/dsdavids/TTLocationHandler/ "TTLLocationHandler")

# salesforce - 如何将视觉力量电子邮件模板中的记录显示为他们创建的顺序？

> ID：10545466
> 
> 赞同：0
> 
> 时间：2012-05-11T04:29:57.980
> 
> 标签：salesforce, apex-code, visualforce

我在 saleforce 和 visualforce 电子邮件模板中有一张自定义对象票证，它使用票证自定义对象，如下所示

```
 <apex:repeat var="cx" value="{!relatedTo.E_Ticket_s__r}">
 <tr>
 <td>
  <apex:outputText value="{!cx.Airline__c}" escape="false" /> 
 </td>
 </tr>
 </apex:repeat> 
```

它工作得很好，但我需要按照他们创建的顺序打印记录。假设我创建了第一家加拿大航空公司，然后是印度航空公司，然后是英国航空公司，订单将是加拿大航空公司印度航空公司英国航空公司。

但是在电子邮件中，我收到的不是排序顺序，如何对记录进行排序并在电子邮件中显示。据我所知，客户对象有一个标准字段属性名称“E-Ticket # Name”，即自动编号。

任何帮助是极大的赞赏。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T15:02:35.343

如果将门票放入控制器中的集合变量中，则可以在 SOQL 查询中使用*order by*对它们进行排序。然后，您的*apex:repeat*将根据集合的顺序显示它们。

```
<apex:repeat var="cx" value="{!tickets}">
  <tr>
    <td>
      <apex:outputText value="{!cx.Airline__c}" escape="false" /> 
    </td>
  </tr>
</apex:repeat>

// within the controller

public List<E_Ticket_s__c> tickets() {
  List<E_Ticket_s__c> results = new List<E_Ticket_s__c>([
    SELECT Id, Airline__r.CreatedDate, Airline__c
    FROM E_Ticket_s__c
    ORDER BY Airline__r.CreatedDate
  ]);

  return results;
} 
```

唯一的问题是没有允许您对 sObject 列表进行排序的 List 方法，因此如果您需要在 SOQL 之外进行排序，则需要“自己动手”。

# gwt - 如何在 GWT 中使用同步调用或等待调用完成

> ID：10545471
> 
> 赞同：-2
> 
> 时间：2012-05-11T04:30:26.547
> 
> 标签：gwt, web

此方法正在更新测试变量。但问题是，如果条件不等待调用完成，而是执行并产生错误的结果。任何建议。

```
((GWTServiceUsersAsync)GWT.create(GWTServiceUsers.class)).checkSession(callbackcheck);

if(test==0) {
  MessageBox.alert("Access denied", "Access denied, please log in", null);
  return 0;
} else {
  return 1;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T06:38:33.813

异步意味着您不知道回调何时发生，这就是它不等待的原因。同样在 java 中，我们通常使用 booleans(true, false) 而不是数字。这是一个关于你会做什么的例子：

```
 GWTServiceUsersAsync service = GWT.create(GWTServiceUsersAsync.class)
    service.checkSession(new AsyncCallback() {
       public void onSuccess(boolean test) {
         if(!test) {
            MessageBox.alert("Access denied", "Access denied, please log in", null);
            responseHandlingMethod(true);
         }
         responseHandlingMethod(test);
       }

        public void onFailure(Exception e) {
             responseHandlingMethod(test);
        }
    } 
```

然后可以在 responseHandlingMethod 中处理检查会话后的其余代码。我建议遵循一些谷歌的教程，比如[谷歌 RPC 教程](https://developers.google.com/web-toolkit/doc/latest/tutorial/RPC)。

# algorithm - 网络流中的循环

> ID：10545472
> 
> 赞同：0
> 
> 时间：2012-05-11T04:30:27.660
> 
> 标签：algorithm, graph-algorithm

我正在阅读 Robert Sedwick 写的算法书。

> 注：“s”为源，“t”为罐。
> 
> 用从“t”到“s”的边来扩充任何流网络，流量和容量等于网络的值，并且知道对于扩充网络中的任何节点集，流入等于流出。这样的流称为循环，这种结构表明最大流问题简化为找到使沿给定边缘的流最大化的循环的问题。
> 
> 给定一组循环和每个循环的流量值，通过跟踪每个循环并将指示的流量添加到每个边缘，很容易计算相应的循环。相反的性质更令人惊讶；我们可以找到一组等效于任何给定循环的循环（每个循环都有一个流量值）。
> 
> 流动分解定理：任何循环都可以表示为沿着一组最多 E 个有向循环的流动。

我对上述解释的问题

1.  要求用示例解释作者的意思以及我们如何减少“maxflow 问题简化为找到使给定边缘的流量最大化的循环的问题。”？

2.  任何人都可以用下面的简单例子来解释。

> “给定一组循环和每个循环的流量值，通过跟踪每个循环并将指示的流量添加到每个边缘，很容易计算出相应的循环。相反的性质更令人惊讶；我们可以找到一组循环（每个都有一个流量值）相当于任何给定的流通量。”

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T06:19:22.777

1.  如果源 s 和汇 t 存在最大流问题，则只需添加边 t->s 即可将此问题转换为最大循环问题。从 s 到 t 的原始最大流量现在转换为最大循环 s--->t->s。

2.  如果您有一个循环列表（图中的闭合路径）并且每个循环都与流 N 相关联，那么您可以遍历所有循环并将流值 N 添加到循环经过的那些边缘。以这种方式，图表中的每条边都会有一个为其计算的流量值，这就是图表中的总流通量。相反，该定理说，只要你在总图中有一个循环，它就可以分解成循环。这是最大循环的示例，在每条边上，符号 a(b) 表示流量为 a，边的最大容量为 b：

    ```
     3(3)     2(2)
    a ----> b -----> c 
    ^       |1(1)    |
    |3(3)   V        V 2(4)
    d<------e<-------f
       3(4)     2(3) 
    ```

对应的循环是：流量值为 1 的 abeda 和流量值为 2 的 abcfed。这两个循环共同定义了最大循环，如上所示。

# javascript - IMG SRC 标签和 JavaScript 数组

> ID：10545475
> 
> 赞同：0
> 
> 时间：2012-05-11T04:31:02.550
> 
> 标签：javascript, image

是否可以从数组 IMG SRC 标签中调用 JavaScript 函数来获取多个 url 图片？

像这样：

```
var imgsBlocks = new Array( '/1.png', '/2.png', '/3.png');
function getImageUrl(elemid) {  
var ind = document.getElementById(elemid).selectedIndex;
document.getElementById("get_img").src=imgsBlocks[ind]; 
} 
```

我试着用这个打电话：

```
<img src="'+imgsBlocks[2]+'" id="get_img"/> 
```

或者

```
<img src="'+imgsBlocks[3]+'" id="get_img"/> 
```

它不工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T05:12:08.110

请检查任一图像是否存在于您尝试分配的同一位置。您的代码看起来不错，最初您可以通过硬编码图像 url 来验证它是否显示在页面上，例如

```
document.getElementById("get_img").src='/1.png'; 
```

以及如果图像位于网页的同一位置，那么您不需要写“/”，只需写图像的名称，即“1.png”

# ios - 为什么将 GL_ELEMENT_ARRAY_BUFFER 绑定到 0 会产生 memmove 错误？

> ID：10545479
> 
> 赞同：3
> 
> 时间：2012-05-11T04:31:32.293
> 
> 标签：ios, opengl-es-2.0

我有一个错误，花了我相当长的时间来修复。在我评论以下行之前，我不断收到 EXC_BAD_ACCESS 和对 memmove 错误的引用，没有任何进一步的描述：

[自加载着色器]；

```
glGenVertexArraysOES(1, &_vao);
glBindVertexArrayOES(_vao);

// Vertex Buffer
glGenBuffers(1, &_vertexBuffer);
glBindBuffer(GL_ARRAY_BUFFER, _vertexBuffer);
glBufferData(GL_ARRAY_BUFFER, sizeof(Vertices), Vertices, GL_STATIC_DRAW);

glEnableVertexAttribArray(ATTRIB_VERTEX);
glVertexAttribPointer(ATTRIB_VERTEX, 3, GL_FLOAT, GL_FALSE, sizeof(Vertex), 0);

glEnableVertexAttribArray(ATTRIB_TEXTURE);
glVertexAttribPointer(ATTRIB_TEXTURE, 2, GL_FLOAT, GL_FALSE, sizeof(Vertex), (GLvoid*) (sizeof(float) * 7));

// Index Buffer
glGenBuffers(1, &_indexBuffer);
glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, _indexBuffer);
glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(Indices), Indices, GL_STATIC_DRAW);

glBindBuffer(GL_ARRAY_BUFFER,0);  

////////// COMMENTED THIS ONE //////////////
//glBindBuffer(GL_ELEMENT_ARRAY_BUFFER,0);//
////////////////////////////////////////////

glBindVertexArrayOES(0); 
```

我认为将缓冲区绑定到 0 意味着取消绑定它，所以我真的无法理解这将如何使我的应用程序崩溃。

谢谢提供信息！我只是不关心这个问题......

我的结构：

```
const Vertex Vertices[4] = {
    {{0.75, -1, 0}, {1, 0, 0, 1},     {0.125, 0.833496}},
    {{0.75, 1, 0}, {0, 1, 0, 1},      {0.125, 1}},
    {{-0.75, 1, 0}, {0, 0, 1, 1},     {0,     1}},
    {{-0.75, -1, 0}, {0, 0, 0, 1},    {0,     0.833496}},
};

const GLushort Indices[6] =
{
    0, 1, 2,
    2, 3, 0
}; 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-25T15:09:05.617

从您的代码来看，这个函数看起来好像在某个初始化例程中，您在其中初始化属性数据，这些数据存储在绑定的 VAO 中，因此在绘制时您只需要绑定 VAO。

VAO 反过来封装了绘制 VBO 所需的所有状态，即属性的启用标志（由 设置`gl(En/Dis)ableVertexAttribArray`）、属性源和属性（使用 设置`glVertexAttribPointer`）**以及**当前绑定的索引缓冲区（使用 设置`glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, ...)`）。请注意，它不存储当前绑定的顶点缓冲区，因为此信息存储在属性状态中。

所以发生的情况是，您创建并绑定索引缓冲区，设置其数据，然后解除绑定，此时 VAO 仍处于活动状态。`GL_ELEMENT_ARRAY_BUFFER`因此VAO状态将存储`0`. 当你现在用

```
glBindVertexArrayOES(_vao);
glDrawElements(...); 
```

没有缓冲区限制并且`glDrawElements`失败，因为 VAO 不适用于客户端阵列。您要么必须对索引数据使用 VBO，要么绘制非索引图元（使用`glDrawArrays`）。

也不会

```
glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, _indexBuffer);
glBindVertexArrayOES(_vao);
glDrawElements(...); 
```

工作，因为绑定的索引缓冲区在绑定时被 VAO 覆盖（其索引缓冲区为`0`）。如果您先绑定 VAO，然后绑定索引缓冲区，它会起作用，但这只会规避问题。

从概念上讲，绑定`GL_ELEMENT_ARRAY_BUFFER`是 VAO 状态的一部分，因此您不应`0`在 VAO 初始化例程中将其绑定到（仅当您不需要任何索引数据时）。在使用 VAO 时，您也不允许将客户端数组用于索引或顶点数据。如果您不想绘制索引几何图形，只需使用`glDrawArrays`而不是`glDrawElements`，但无论如何索引缓冲区已过时。

# gerrit - Gerrit & Phabricator 评论

> ID：10545480
> 
> 赞同：13
> 
> 时间：2012-05-11T04:31:39.080
> 
> 标签：gerrit, phabricator

有人做过[Phabricator](http://phabricator.org/)和[Gerrit](http://code.google.com/p/gerrit/)之间的评论吗？我正在寻找一种审查工具，并希望根据以下情况选择一种：

*   使用方便
*   功能全面
*   社区活动
*   和收养

编辑：我使用**Git**

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-28T17:17:41.910

我试图比较它们，这些是我发现的最显着的差异

**格里特**

*   +充当存储库，因此您推送到它，它会为您的提交创建一个审查问题
*   +没有审查就不会通过任何提交，因为不可能忘记创建审查问题
*   - 仅适用于 git
*   - 根本无法处理提交后审查（审计）。

**制造者**

*   +处理 git、svn 和 hg
*   +让您通过魔术创建提交后的提交审查（先驱）
*   +集成大量工具
*   -集成大量工具（是的，这既好又坏）
*   - 提交前代码审查是可选的。您将差异发送到差异，一旦获得批准，您就会推送到您的回购。在我看来，这不是非常用户友好，但如果您将每个问题/未来提交保留在它自己的分支中，则可能是可以管理的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-11T17:54:54.460

免责声明 - 我对 Phabricator 不是很熟悉。

似乎 Phabricator 包含的工具不仅仅是代码审查。错误跟踪、源代码浏览、wiki——这些是 Gerrit 不包括但旨在与外部工具一起使用的东西。

我不确定 Phabricator 可以使用哪个 SCM 工具。Gerrit 只支持 git。

Gerrit 社区非常活跃 - 我们刚刚结束了十几个最活跃的开发人员之间的为期 1 周的黑客马拉松。Gerrit 被许多大公司使用，并得到了很多支持。查看 Phabricator 的活动提要，它似乎也非常活跃。

Gerrit 的改编很大程度上是由 Android 驱动的。任何致力于 Android 的公司都可能会设置 Gerrit 实例，因为这是上游 Android 使用的。在许多情况下，当他们看到 Gerrit 提供的所有好处时，Gerrit 的使用将在整个公司传播（这就是我公司和其他几家公司发生的情况）。Gerrit 也在 Wikimedia、QT 等地的 Android 商店之外迅速发展。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-02T04:38:08.940

Phabricator 很好，但它的差异无法处理大提交[[详细信息]](http://www.phabricator.com/docs/phabricator/article/Differential_User_Guide_Large_Changes.html)并显示令人困惑的错误。这真是一个大问题。此外，你应该对 git 有一个清晰的概念，以便顺利地使用 phabricator。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-01-31T19:13:37.020

当我现在在 Phabricator 工作时，它有很多出色的功能，从存储库托管到代码审查再到代码提交。Phabricator 真的是一个很酷的工具。它与 Jira 和许多其他工具集成。而且，做这件事的人都很好，你提出的每一个问题，他们都会很快给你解决。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-05-23T07:45:45.317

我选择Phabricator的原因：

*   它适用于 SVN。
*   易于安装。

我不是 linux 人，但我在 VM 中运行了一个 ubuntu 映像并在其上安装了 Phabricator 以及 svn 等

我没有使用过 gerrit，但如果它与 SVN 一起使用就可以了。IMO 它看起来更好（功能方面）。

# android - GridView 的 ImageAdapter 不起作用

> ID：10545484
> 
> 赞同：0
> 
> 时间：2012-05-11T04:32:19.850
> 
> 标签：android, gridview, custom-adapter

我有一个关于`ImageAdapter`填充`GridView`. 以下是我的代码`Activity`：

```
public class RestListActivity extends Activity {
    //ImageButton [] buttons;
    RelativeLayout rl;
    int restCount = 0;
    //Resources a;
    int resIndex = 0;
    boolean resFound = false;
    int last;
    int resCount = 0;
    TextView tv;
    ViewFlipper vf;
    private static final int SWIPE_MIN_DISTANCE = 120;
    private static final int SWIPE_MAX_OFF_PATH = 250;
    private static final int SWIPE_THRESHOLD_VELOCITY = 200;
    private GestureDetector gestureDetector;
    View.OnTouchListener gestureListener;
    Vector<Bitmap> iconBmp;
    Vector<GridView> gvs;
    Vector<ImageAdapter> ias;

    // TODO Auto-generated constructor stub
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.restlist);
        rl = (RelativeLayout) findViewById(R.id.layoutRestPage);

        //a=this.getResources();
        boolean done = true;

        tv = (TextView) findViewById(R.id.textView1);
        tv.setText("Sistemi kullandığınız için teşekkür ederiz!");

        Button nb = (Button) findViewById(R.id.nextButton);
        nb.setOnClickListener(new OnClickListener() {
            public void onClick(View view) {
                vf.setInAnimation(RestListActivity.this, R.anim.view_right_transition_in);
                vf.setOutAnimation(RestListActivity.this, R.anim.view_right_transition_out);
                vf.showNext();
            }
        });
        Button pb = (Button) findViewById(R.id.prevButton);
        pb.setOnClickListener(new OnClickListener() {
            public void onClick(View view) {
                vf.setInAnimation(RestListActivity.this, R.anim.view_left_transition_in);
                vf.setOutAnimation(RestListActivity.this, R.anim.view_left_transition_out);
                vf.showPrevious();
            }
        });
        Button backButton = (Button) findViewById(R.id.restButton);
        backButton.setOnClickListener(new OnClickListener() {
            public void onClick(View view) {
                Log.i("ACTION", "AD BUTTON CLICKED");
                try {
                    Intent i = new Intent(RestListActivity.this, AVMOrderSystemMain.class);
                    startActivity(i);
                } catch (Exception e) {
                    Log.i("cort", e.toString());
                }
            }
        });
        Button hb = (Button) findViewById(R.id.helpButton);
        hb.setOnClickListener(new OnClickListener() {

            public void onClick(View v) {
                // TODO Auto-generated method stub
                Toast.makeText(RestListActivity.this,
                        "\tSiparis vermek için bir restoran reklamına tıklayarak\n" +
                                "ilgili restoranın sayfasına gidebilir, ya da restoranlar\n" +
                                "listesinden bir restoran seçerek, yine ilgili restoranın\n" +
                                "sayfasına gidebilirsiniz.\n" +
                                "\tBu sayfadan menü tercihinizi yaparak detayları belirledikten\n" +
                                "sonra siparişinizi onaylayarak ödemeniz gereken tutarı\n" +
                                "öğrenebilirsiniz\n", Toast.LENGTH_LONG).show();
            }
        });

        gestureDetector = new GestureDetector(new MyGestureDetector());
        gestureListener = new View.OnTouchListener() {
            public boolean onTouch(View v, MotionEvent event) {
                if (gestureDetector.onTouchEvent(event)) {
                    return true;
                }
                return false;
            }
        };
        //************************************************************************************
        //************************************************************************************
        //************************************************************************************
        ias = new Vector<ImageAdapter>();
        iconBmp = new Vector<Bitmap>();
        gvs = new Vector<GridView>();
        for (int i = 0; i < StaticParameters.getCompleteData().getRestaurantsVector().size(); i++) {
            System.out.println("_______________________________________-_-_-_-" +
                    StaticParameters.getCompleteData().getRestaurantsVector().get(i).getActiveImage());
            byte[] imgBytes = FileHandler.readFile2(this, "main_icons", StaticParameters.getCompleteData().getRestaurantsVector().get(i).getActiveImage());
            iconBmp.add(BitmapFactory.decodeByteArray(imgBytes, 0, imgBytes.length));
            System.out.println("///////////////77"+imgBytes.length);
        }
        System.out.println("))))))))))))))" + iconBmp.size());
        //************************************************************************************
        vf = (ViewFlipper) findViewById(R.id.restFlipper);

        int count = iconBmp.size();
        Log.i("THE SIZE", "=" + count);

        for (int y = 0; y < iconBmp.size(); y+=6) {
            System.out.println("0000000000000000___");
            Vector<Bitmap> bmpSubSet = new Vector<Bitmap>();
            for (int o = 0; o < 6 && o + y < iconBmp.size(); o++) {
                System.out.println("INSIDE!!!!");
                bmpSubSet.add(iconBmp.get(o + y));
            }
            ImageAdapter ia = new ImageAdapter(this);
            ia.setBitmaps(bmpSubSet);
            ias.add(ia);
            GridView gv = new GridView(this);

            gv.setId(y);
            gv.setLayoutParams(new GridView.LayoutParams(800, 600));
            gv.setBackgroundColor(Color.WHITE);
            gv.setNumColumns(3);
            gv.setColumnWidth(GridView.AUTO_FIT);
            gv.setVerticalSpacing(5);
            gv.setHorizontalSpacing(5);
            gv.setStretchMode(GridView.STRETCH_COLUMN_WIDTH);

            System.out.println("++++++++++++++++4"+ia.restLogos.size());
            gv.setAdapter(ia);
            gv.setOnItemClickListener(new OnItemClickListener() {
                public void onItemClick(AdapterView<?> parent, View v, int position, long id) {
                    try {
                        /*Intent i = new Intent(RestListActivity.this,RestPageActivity.class);
                     RestPageActivity.setText(h);
                     startActivity(i);*/
                    } catch (Exception e) {
                        Log.i("cort", e.toString());
                    }
                }
            });
            vf.addView(gv);
        }

        //////////////////////////////////////////////////////

    }

    class MyGestureDetector extends SimpleOnGestureListener {
        @Override
        public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {
            try {
                if (Math.abs(e1.getY() - e2.getY()) > SWIPE_MAX_OFF_PATH)
                    return false;
                // right to left swipe
                if (e1.getX() - e2.getX() > SWIPE_MIN_DISTANCE && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {
                    vf.setInAnimation(RestListActivity.this, R.anim.view_left_transition_in);
                    vf.setOutAnimation(RestListActivity.this, R.anim.view_left_transition_out);
                    vf.showPrevious();
                } else if (e2.getX() - e1.getX() > SWIPE_MIN_DISTANCE && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {
                    vf.setInAnimation(RestListActivity.this, R.anim.view_right_transition_in);
                    vf.setOutAnimation(RestListActivity.this, R.anim.view_right_transition_out);
                    vf.showNext();
                }
            } catch (Exception e) {
                // nothing
            }
            return false;
        }
    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {
        if (gestureDetector.onTouchEvent(event))
            return true;
        else
            return false;
    }
} 
```

以下是`ImageAdapter`：

```
public class ImageAdapter extends BaseAdapter {
    private Context mContext;
    private ArrayList <Integer> restLogoIDs=new ArrayList<Integer>();
    private Resources res;
    Vector <Bitmap>  restLogos=new Vector<Bitmap>();
    public ImageAdapter(Context c) {
        mContext = c;
    }
    public void setResources(Resources r)
    {
        res=r;
    }
    public void setImageIDs(ArrayList <Integer> restLogoIDs)
    {
        this.restLogoIDs=restLogoIDs;
    }
    ////////////////////////////////////////////////////////
    public void setBitmaps(Vector <Bitmap> restLogos)
    {
        this.restLogos=restLogos;
        System.out.println("$$$$$$$$$$$$$$$$$$$$"+restLogos.size());
    }
    ////////////////////////////////////////////////////////
    public int getCount() {
        return restLogoIDs.size();
    }

    public Object getItem(int position) {
        return null;
    }

    public long getItemId(int position) {
        return 0;
    }

    // create a new ImageView for each item referenced by the Adapter
    public View getView(int position, View convertView, ViewGroup parent) {
        System.out.println("=============xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx---"+position);
        ImageView imageView;
        if (convertView == null) {  // if it's not recycled, initialize some attributes
            imageView = new ImageView(mContext);
            imageView.setLayoutParams(new GridView.LayoutParams(180, 180));
            imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
            //imageView.setPadding(8, 8, 8, 8);
        } else {
            imageView = (ImageView) convertView;
        }

        //BURASI DEĞİŞECEK!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
        //imageView.setImageResource(restLogoIDs.get(position));
        imageView.setImageBitmap(restLogos.get(position));
        return imageView;
    }
    // references to our images
} 
```

`Bitmaps`当我在 main 中设置它们之后在适配器中打印数量和大小时`Activity`，我看到数量`Bitmaps`是正确的。由于某种原因，`getView()`没有从适配器调用。我可以看到，`GridView`但它是空的。我能得到一些帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T05:02:14.387

适配器的方法`getCount`返回的`0`意思是适配器没有元素并且不调用该`getView`方法：

```
public int getCount() {
        return restLogoIDs.size(); // you only instantiate restLogoIds, you never add some values to it
} 
```

取而代之的是`restLogoIds`，您从不分配任何值（其大小为`0`），而是使用`restLogos`您实际分配的一些值，以便`restLogoIds`在设置适配器时它不为空或添加一些值。

# android - R.java 中的值是否在运行时或运行之间发生变化？

> ID：10545488
> 
> 赞同：4
> 
> 时间：2012-05-11T04:32:58.503
> 
> 标签：android

我正在设计一种将一些值存储在与一组视图相关的 SharedPreferences 中的方法。该方法将由一堆子类运行，因此我需要一种简单的方法来存储首选项的名称，并且我正在考虑使用视图的 R.id 值，因为我已经将它们放在 ArrayList 中对于另一种方法。但是，我有点担心这些值可能会在运行之间发生变化，这将有效地使存储的首选项无效。他们有没有在发展之外发生变化？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-11T04:34:06.770

两者都没有，它们在编译之间发生了变化。

R 是在应用程序的构建过程中自动生成的类。然后编译并在您的应用程序中用作普通类。

来自 Android 文档 -[访问资源](http://developer.android.com/guide/topics/resources/accessing-resources.html)：

> 当您的应用程序被编译时，aapt 会生成 R 类，其中包含 res/ 目录中所有资源的资源 ID。对于每种类型的资源，都有一个 R 子类（例如，所有可绘制资源的 R.drawable），对于该类型的每种资源，都有一个静态整数（例如，R.drawable.icon）。此整数是可用于检索资源的资源 ID。

# java - 如何向活动线程列表发送消息？

> ID：10545491
> 
> 赞同：0
> 
> 时间：2012-05-11T04:33:21.580
> 
> 标签：java

我制作了一个简单的聊天应用程序，它使用线程连接服务器和客户端。我想向所有活跃的客户发送消息。如何向活动线程列表发送消息？我使用方法flush()但未能向所有活动客户端发送消息我找到了一种在google中显示线程列表的方法，如下所示：

```
public static void listThreads(ThreadGroup group, String indent) {
    System.out.println(indent + "Group[" + group.getName() + 
                    ":" + group.getClass()+"]");
    int nt = group.activeCount();
    Thread[] threads = new Thread[nt*2 + 10]; //nt is not accurate
    nt = group.enumerate(threads, false);

    // List every thread in the group
    for (int i=0; i<nt; i++) {
        Thread t = threads[i];
        System.out.println(indent + "  Thread[" + t.getName() 
                    + ":" + t.getClass() + "]");
    }

    // Recursively list all subgroups
    int ng = group.activeGroupCount();
    ThreadGroup[] groups = new ThreadGroup[ng*2 + 10];
    ng = group.enumerate(groups, false);

    for (int i=0; i<ng; i++) {
        listThreads(groups[i], indent + "  ");

}
}
} 
```

发送消息的方法：

```
class ChatThread extends Thread{
    static Vector<ChatThread> chatthread = new Vector<ChatThread>(2);
    private String rslt;
    private BufferedReader in;
    private PrintWriter out;
    private Socket sock;

    public ChatThread (Socket socket) throws IOException {
        this.sock = socket;
        in  = new BufferedReader(
              new InputStreamReader(socket.getInputStream()));
        out = new PrintWriter(
              new OutputStreamWriter(socket.getOutputStream())); }

    public void run(){

        String line;
        synchronized(chatthread) {
        chatthread.addElement(this); }
        String portnum = Integer.toString(sock.getPort());

        try {

        line = in.readLine()+portnum;
        String[] mssgin = line.split("\\.");

        for(int i = 0; i < chatthread.size(); i++) {

                ChatThread handler =
                (ChatThread)chatthread.elementAt(i);
                handler.out.println(line + "\r");

                if(teksmasuk[0].contentEquals("login")){
                    MysqlConn ceklogin = new MysqlConn();
                    rslt = ceklogin.login(line); 
                    System.out.println(rslt);
                    handler.out.flush();

                }else if(mssgin[0].contentEquals("reg")){
                    Registrasi regis = new Registrasi();
                    rslt = regis.register(line);
                    System.out.println(rslt);
        handler.out.flush();
                }
                else {          
                System.out.println("Waiting...");
                }               

        }
        } catch (IOException e) {
            e.printStackTrace();
        } catch (InstantiationException e) {
            e.printStackTrace();
        } catch (IllegalAccessException e) {
            e.printStackTrace();
        } catch (ClassNotFoundException e) {
        } 
        finally {
            try {
                in.close();
                out.close();
                sock.close();
                } catch(IOException ioe) {
                } finally {
                synchronized(chatthread) {
                chatthread.removeElement(this);
                }
                }
        }

    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T04:44:29.157

这有一些一般的设计问题。您不应该尝试向特定线程发送消息；您应该尝试向特定客户端发送消息。尝试将线程彼此完全隔离；他们唯一的互动应该是通过他们彼此建立的流。

# android - Phonegap Jquery 移动应用程序

> ID：10545497
> 
> 赞同：2
> 
> 时间：2012-05-11T04:34:04.933
> 
> 标签：android, jquery-mobile, cordova

我一直在用 Phonegap 和 Jquery mobile 开发一个应用程序，我在点击事件上添加了一个声音。每次按下任何按钮时，它都会播放声音。问题是当我在安卓手机上使用该应用程序时。它首先在按钮单击或点击时播放其默认声音，然后播放 mysound。

有没有办法使用phonegap或eclipse设置关闭android上的默认声音？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T07:54:33.727

您可以尝试使用[event.preventDefault();](http://www.w3schools.com/jquery/event_preventdefault.asp)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-10T14:22:08.727

认为您应该添加`event.preventdefault()`到点击事件函数的末尾。这通常用于防止事件的默认操作。

# mysql - 除了性能之外，还有其他需要考虑以字符串格式存储除 id 和 fk 之外的所有内容吗？

> ID：10545501
> 
> 赞同：0
> 
> 时间：2012-05-11T04:34:38.407
> 
> 标签：mysql, database

我想知道数据库值类型背后的想法是什么。除了使用空间和性能外，为什么表字段需要具体为int、float或其他类型。这是任何结果吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T04:43:39.680

通过使用允许数据库帮助您保持数据清洁的数据类型 - 如果您应该在数量字段中有一个 int ，它可以确保您不会不小心在其中粘贴日期。

它还使您不必进行奇怪的转换来进行比较等。例如，作为字符串，您将如何准确比较日期？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T04:43:05.067

关于为什么要使用数字属性的简单示例：

从员工中选择最高（薪水）；从员工中选择姓名，其中薪水 > 2*avg_salary；

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-11T04:48:36.817

MYSQL 中的某些函数会根据数据类型而有所不同。例如，如果向 MAX 函数传递字符串值，它将返回基于字符的最大 STRING 值，如果您希望它根据数值对值进行排序，那么您将不走运。是的，MYSQL 有时会在需要时将事物转换为数值，但你不能指望它。这是因为字符串从根本上不同于数值 - 并且被区别对待。

此外，MYSQL 的数据类型比您想象的要少——很多只是决定最大存储空间等的别名。SQLite3（用于 iOS 和其他东西）只有 5 种数据类型 - Null、Integer、Real、Text 和 Blob。

最后，您说忽略性能，但是性能在 MYSQL*中非常重要，尤其是对于大型数据集。*在检查 100000 行以获得最大值时，如果它们本来应该是数字，为什么还要将每个行从数字转换为字符串？

# java - 为不同的事件监听器重用相同的变量

> ID：10545502
> 
> 赞同：-1
> 
> 时间：2012-05-11T04:34:43.560
> 
> 标签：java, android

我有一些变量（编辑文本和文本视图）和一些按钮，我希望每个按钮对相同的变量执行不同的操作。反正我不需要为每个 onClickListener 定义所有变量吗？我看过[这篇文章](https://stackoverflow.com/questions/3120544/variable-onclick-listener-android)，但我认为我的问题与此相反！

例如，考虑让一些编辑文本获取数字，然后一些按钮对它们执行 * 、 / 、+ 、 - 操作。

此外，是否可以在另一个中使用 onCliclListener 的结果？如何？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T04:43:54.867

在您的活动中实现 onClickListener。

将您的变量声明为活动类的字段，例如

```
int x=10;
int y=20;
int result=0; 
```

设置 setOnClickListener(this); 到您的每个按钮。

在 onClick 方法中，执行以下操作：

```
public void onClick(View view)
{

    if(view == btn1)
    {
       result=x+y;
    }
    if(view == btn2)
    {
       result=y-x;
    }
} 
```

# jquery - 为带有链接的图片创建网格视图是否容易？

> ID：10545503
> 
> 赞同：0
> 
> 时间：2012-05-11T04:34:50.317
> 
> 标签：jquery, gridview, sharepoint-2010, image

我需要创建一个如下所示的视图。不知道这个视图叫什么。我在某个地方看到了这个视图网格。我有一个带有图片库的共享点站点。该库有一堆带有超链接列和活动（y/n）列的图片。

在 sharepoint 中创建如下视图有多容易？我不是在寻找基于视觉工作室项目的解决方案。我很喜欢 jquery 或任何其他简单的方法来实现这一点。请建议。

这是一个示例视图 [http://i.stack.imgur.com/2acLM.png](http://i.stack.imgur.com/2acLM.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T05:03:08.197

我建议您使用内容查询 Web 部件来显示图像。然后，使用 CSS（使这些图像浮动：左）并修复内容查询 Web 部件的宽度以制作一个 3 列的相册。请参考这个问题和答案：[https ://sharepoint.stackexchange.com/questions/34052/getting-last-three-images-with-xsllistviewwebpart/34072#34072](https://sharepoint.stackexchange.com/questions/34052/getting-last-three-images-with-xsllistviewwebpart/34072#34072)

# java - 如何验证用户点击了我发送给他/她的电子邮件中的链接？

> ID：10545507
> 
> 赞同：8
> 
> 时间：2012-05-11T04:35:17.487
> 
> 标签：java, email, authentication

[这是一个更集中的问题，由此处较早的帖子](https://stackoverflow.com/questions/10544488/java-how-to-check-if-user-clicked-on-or-replied-to-email-as-part-of-email-auth#10544890)引发。我需要通过证明他/她可以访问它来验证用户的电子邮件地址。我在下面复制了您在加入开发者论坛或用户组时希望看到的通用电子邮件身份验证。作为注册过程的一部分，您将提供您的电子邮件地址，然后您会收到一封电子邮件，要求您单击某些内容以验证您的电子邮件地址。

当用户单击电子邮件中的链接时，我需要对发生的任何事情进行编码。所以我的问题是——我该怎么做？

涉及哪些技术？任何人都可以引导我完成这些步骤吗？我更喜欢 Java 或 Linux 脚本语言，例如 bash。更好的是，是否有任何为此目的开发的软件可以安装在我的 Linux 服务器上并以某种方式集成它以与我的数据库通信？这在实践中是如何做到的？如果它已经可用，我不想重新发明它。

```
To confirm your email address of: 

youremail@yourdomain.net 

please send a short reply to this address: 

users-sc.1496854427.ckdpbmhncdlkjadkajfpecc-mylist=yourdomain.net@listdomain.com 

Usually, this happens when you just hit the "reply" button. 
If this does not work, simply copy the address and paste it into 
the "To:" field of a new message. 

or click here: 
mailto:users-sc.1496854427.ckdpbmhncdlkjadkajfpecc-mylist=yourdomain.net@listdomain.com  

This confirmation serves two purposes. First, it verifies that I am able 
to get mail through to you. Second, it protects you in case someone 
forges a subscription request in your name. 

Some mail programs are broken and cannot handle long addresses. If you 
cannot reply to this request, instead send a message to 
<users-request@listdomain.com> and put the 
entire address listed above into the "Subject:" line. 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-11T04:50:29.377

在您的用户数据库中，您需要有一个登台用户表（或在主用户表中添加一列指示用户是否处于活动状态并将指示器默认为“否”）。当用户第一次注册时，您会从用户的部分信息中生成一个唯一的哈希码，例如在用户主键和名称上使用 md5（或其他一些您可以通过解密获得的用户变量集）。将此哈希码作为您发送给用户的链接中的查询字符串参数。最后，当用户单击链接时，从查询字符串中获取哈希码，对其进行解密并将解密后的值与数据库中的用户行进行匹配。如果找到匹配项，则将“活动”指示器设置为 true，然后立即执行。或者，如果您使用临时表，则将用户记录移动到“活动用户”

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-11T04:55:48.497

回复一封独特的电子邮件以验证某人的电子邮件有一个固有的缺陷，它可以被伪造（除非您检查标题和 IP）。例如，我访问您的网站进行注册。你告诉我在 回复`users-sc.1496854427.ckdpbmhncdlkjadkajfpecc-mylist=yourdomain.net@listdomain.com`。我使用`mail()`垃圾邮件机器人的功能进行回复。游戏结束。目的失败。

相反，您可以在我的注册 ID 上向我发送验证链接。就像是`example.com/verify?userid=1&hash=67gk65fs6714fgsHguj`

在用户表中：

```
id|username|status|onetimehash
--+--------+------+-------------------------
 1|testuser|    0 |67gk65fs6714fgsHguj 
```

现在，在您的验证调用中检查用户 ID 和哈希。如果它们与您的数据库中的值匹配，您可以安全地验证用户。为了生成哈希，您可以将用户名的 md5 或 sha1 值与一些盐（如时间戳）或一些随机数混合。

**更新** 如果您使用以前的解决方案，即捕获用户的回复以验证电子邮件，您将必须设置自己的邮件服务器。[Fetchmail](http://fetchmail.berlios.de/)可以帮助你。您必须以编程方式读取电子邮件标题并从`<to>,<from> or <subject>`字段中提取所需信息。比如 userid=1496854427 和 hash=ckdpbmhncdlkjadkajfpecc。在此过程中您*可能*需要正则表达式。一旦你有了这些值，就很简单了，对照数据库值检查它们。

底线是：前一种方法不仅更乏味，而且比后者更容易受到攻击。大多数 webapps 使用第二种解决方案，因为它更干净、更明智。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-12T11:19:58.693

**我知道BalusC**给出的最佳答案的
链接是链接：[更好的答案](https://stackoverflow.com/questions/5431061/how-send-automatic-reply-on-particular-email-id-when-an-user-registers)。
我已经在我的项目中实现了这一点。希望这对其他人有帮助。

# javascript - 如何在 JavaScript 中将 undefined 与布尔值结合使用？

> ID：10545515
> 
> 赞同：1
> 
> 时间：2012-05-11T04:36:51.023
> 
> 标签：javascript

例如假设我有

```
var myVar; 
```

如果我做

```
console.log((myVar != undefined) && true); 
```

它按预期返回 false。有没有可能做一些更接近的事情

```
console.log(myVar && true); 
```

它不那么冗长。目前上述返回未定义我想假。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-11T04:39:32.960

如果我对您的理解正确，您想变成`undefined`并变成. 如果是这样，这应该可以正常工作：`false``false``true``true`

```
console.log(!!myVar); 
```

每个都`!`将值转换为布尔值并返回相反的值。相反的相反与原始相同，除了“转换为布尔”部分，这正是您想要的。

有关详细信息，请参阅[此问题](https://stackoverflow.com/q/784929)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-11T04:39:47.980

将布尔值拖出“真实”或“虚假”值的一种方法是使用`!!`

```
console.log(!!myVar); 
```

# iphone - 如何以编程方式创建 sqlite 数据库？

> ID：10545520
> 
> 赞同：10
> 
> 时间：2012-05-11T04:37:24.940
> 
> 标签：iphone, sqlite

我是 iPhone 开发的新手。我已经使用 mac os x 中的终端创建了数据库。现在我正在尝试在 iPhone 应用程序中使用`objective- C`. 有人可以告诉我一个很好的网站，我可以在其中查看正在运行的示例应用程序，是否有任何网站可以学习本教程？请有人帮助我。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-05-11T04:47:55.740

来自[Techtopia 的教程](http://www.techotopia.com/index.php/An_Example_SQLite_based_iPhone_Application)：

```
NSString *docsDir;
NSArray *dirPaths;

// Get the documents directory
dirPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
docsDir = [dirPaths objectAtIndex:0];

// Build the path to the database file
databasePath = [[NSString alloc] initWithString: [docsDir stringByAppendingPathComponent: @"contacts.db"]];

NSFileManager *filemgr = [NSFileManager defaultManager];

if ([filemgr fileExistsAtPath: databasePath ] == NO) {
    const char *dbpath = [databasePath UTF8String];

    if (sqlite3_open(dbpath, &contactDB) == SQLITE_OK) {
        char *errMsg;
        const char *sql_stmt = "CREATE TABLE IF NOT EXISTS CONTACTS (ID INTEGER PRIMARY KEY AUTOINCREMENT, NAME TEXT, ADDRESS TEXT, PHONE TEXT)";

        if (sqlite3_exec(contactDB, sql_stmt, NULL, NULL, &errMsg) != SQLITE_OK) {
            status.text = @"Failed to create table";
        }
        sqlite3_close(contactDB);
    }
    else {
        status.text = @"Failed to open/create database";
    }
}
[filemgr release]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T05:56:08.800

```
#pragma mark - SQLite

-(void)createDatabase
{
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES); 
    NSString *documentsDirectory = [paths objectAtIndex:0];

    databasePath = [[NSString alloc]initWithString:[documentsDirectory stringByAppendingPathComponent:@"timings.db"]];

    if ([[NSFileManager defaultManager] fileExistsAtPath:databasePath] == FALSE)
    {
        if (sqlite3_open([databasePath UTF8String], &timingsDatabase) == SQLITE_OK)
        {
            const char *sqlStatement = "CREATE TABLE IF NOT EXISTS TIMINGS (ID INTEGER PRIMARY KEY AUTOINCREMENT, TIMESTAMP TEXT, TIMING TEXT)";
            char *error;
            sqlite3_exec(timingsDatabase, sqlStatement, NULL, NULL, &error);
            sqlite3_close(timingsDatabase);
        }
    }
}

-(void)storeTiming
{
    if (sqlite3_open([databasePath UTF8String], &timingsDatabase) == SQLITE_OK)
    {
        NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
        [dateFormatter setDateFormat:@"HH:mm:ss.SSS"];

        NSString *insertStatement = [NSString stringWithFormat:@"INSERT INTO TIMINGS (TIMESTAMP, TIMING) VALUES (\"%@\", \"%@\")", [dateFormatter stringFromDate:startDate], stopWatchLabel.text];

        char *error;
        sqlite3_exec(timingsDatabase, [insertStatement UTF8String], NULL, NULL, &error);
        sqlite3_close(timingsDatabase);

        [dateFormatter release];
    }
}

-(void)getTimings
{
    if (sqlite3_open([databasePath UTF8String], &timingsDatabase) == SQLITE_OK)
    {
        NSString *queryStatement = [NSString stringWithFormat:@"SELECT TIMESTAMP, TIMING FROM TIMINGS"];

        sqlite3_stmt *statement;
        if (sqlite3_prepare_v2(timingsDatabase, [queryStatement UTF8String], -1, &statement, NULL) == SQLITE_OK)
        {
            while (sqlite3_step(statement) == SQLITE_ROW) {
                NSLog(@"Timestamp: %s Timing: %s", sqlite3_column_text(statement, 0), sqlite3_column_text(statement, 1));
            }
            sqlite3_finalize(statement);
            sqlite3_close(timingsDatabase);
        }  
    }
} 
```

检查这些示例：

1.  [http://www.techotopia.com/index.php/An_Example_SQLite_based_iOS_4_iPhone_Application](http://www.techotopia.com/index.php/An_Example_SQLite_based_iOS_4_iPhone_Application)
2.  [http://www.icodeblog.com/2008/09/22/iphone-programming-tutorial-creating-a-todo-list-using-sqlite-part-4/](http://www.icodeblog.com/2008/09/22/iphone-programming-tutorial-creating-a-todo-list-using-sqlite-part-4/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-07-06T07:26:42.423

在 xcode 中创建 Sqlite 数据库

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    // Override point for customization after application launch.

    [self createDb];

    return YES;
}

-(void)createDb
{
    NSArray *dir=NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);

    NSString *dbPath=[NSString stringWithFormat:@"%@/userDb.sqlite",[dir lastObject]];

    sqlite3 *db;

    NSFileManager *fm=[NSFileManager new];

    if([fm fileExistsAtPath:dbPath isDirectory:nil])
    {
        NSLog(@"Database already exists..");
        return;
    }

    if (sqlite3_open([dbPath UTF8String],&db)==SQLITE_OK)
    {
        const char *query="create table user (userName VARCHAR(20),userAdd VARCHAR(20), userPass VARCHAR(20))";

        if (sqlite3_exec(db, query, NULL, NULL, NULL)==SQLITE_OK)
        {
            NSLog(@"User table created successfully..");
        }else
        {
            NSLog(@"User table creation failed..");
        }

    }else
    {
        NSLog(@"Open table failed..");
    }
    sqlite3_close(db);

} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-11T04:50:04.727

如果您想使用 Database for Data Persistance 查看[CoreData](http://developer.apple.com/library/mac/#documentation/cocoa/conceptual/coredata/cdprogrammingguide.html)，它是为应用程序存储大量数据的好资源，尽管 CoreData 不是数据库，但请记住。

您可以在 iOS 平台上非常轻松地使用 SQLite，但没有像使用 CoreData 那样为您提供开发它的可视化工具

如果您要存储少量数据，请考虑将信息存储到 plist 中。

如果你要存储一些字符串、整数或布尔值，你应该使用 NSUserDefaults

如果没有更多信息，我无法确定什么是最适合您的方法

其他资源：

1.  [核心数据教程](http://developer.apple.com/library/ios/#DOCUMENTATION/DataManagement/Conceptual/iPhoneCoreData01/Articles/01_StartingOut.html)
2.  [数据管理](https://developer.apple.com/technologies/ios/data-management.html)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-05-11T06:52:12.490

为您的 iPhone 应用程序创建数据库有点冗长，但它有很多步骤，但它非常简单：

首先您应该下载 mozilla fire fox 并下载其附加组件，您可以通过单击工具找到 sqlite 数据库选项选项。您可以创建一个包含列和行的新数据库文件。它只是创建数据库文件的简单过程，之后您可以将该文件包含到您的 X 代码项目中。

例如：- 就像您通常包含在 Xcode 项目中的图像一样。

之后编写以下代码对我来说很好:)

在你的 。m 文件写入以下 sqlite 代码

```
#import "YourHeaderFile"

static sqlite3 *database = nil;
static sqlite3_stmt *addStmt = nil;
static sqlite3_stmt *updateStmt = nil;

@implementation 'YourImplementClass'

- (NSString *) getDBPath {

    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory , NSUserDomainMask, YES);
    NSString *documentsDir = [paths objectAtIndex:0];
    return [documentsDir stringByAppendingPathComponent:@"YourDataBaseFileName.sqlite"];
}

- (void) insertValueToDatabase {

    NSString *dbPath =[self getDBPath];

    NSString *select_Meal = dummy_select_Meal;
    NSString *dateTime = dummy_date_Time;
    NSString *location = dummy_location;
    NSString *mealItem = dummy_mealItem;

    if (sqlite3_open([dbPath UTF8String], &database) == SQLITE_OK) {

        const char *sqlDB = "Insert into iHad(Mealtype,DateAndTime,Location,Mealitem) VALUES (?,?,?,?)";

        if(sqlite3_prepare_v2(database, sqlDB, -1, &addStmt, NULL) != SQLITE_OK)
            NSAssert1(0, @"Error while creating add statement. '%s'", sqlite3_errmsg(database));

        sqlite3_bind_text(addStmt, 1, [select_Meal UTF8String], -1, SQLITE_TRANSIENT);
        sqlite3_bind_text(addStmt, 2, [dateTime UTF8String], -1, SQLITE_TRANSIENT);
        sqlite3_bind_text(addStmt, 3, [location UTF8String], -1, SQLITE_TRANSIENT);
        sqlite3_bind_text(addStmt, 4, [mealItem UTF8String], -1, SQLITE_TRANSIENT);

        if(SQLITE_DONE != sqlite3_step(addStmt))
            NSAssert1(0, @"Error while inserting data. '%s'", sqlite3_errmsg(database));
        //else
            //SQLite provides a method to get the last primary key inserted by using sqlite3_last_insert_rowid
            //coffeeID = sqlite3_last_insert_rowid(database);

        //Reset the add statement.
        sqlite3_reset(addStmt);

    }
    else
        sqlite3_close(database); 

} 
```

为了保存，您可以创建这样的方法

```
-(void)saveButtonClick
{

    if (![dummy_select_Meal length] || ![dummy_mealItem length])
    {
        UIAlertView *alert = [[UIAlertView alloc] init];
        [alert setTitle:@"Select Meal Type/Meal Item"];
        [alert setDelegate:self];
        [alert addButtonWithTitle:@"Ok"];
        [alert show];
        [alert release];
    }

    else
    {
        indicator = [[UIActivityIndicatorView alloc] initWithFrame:CGRectMake(30,30,50,50)];
        indicator.activityIndicatorViewStyle = UIActivityIndicatorViewStyleGray;//UIActivityIndicatorViewStyleWhiteLarge;//

        [self insertValueToDatabase];-----------------------> To insert data into data base

        iHadAppDelegate *delegate = [[UIApplication sharedApplication]delegate];
        [delegate readMealsFromDatabase];

        [rootController reloadTable_SaveButton];

    }
    [rootController showTablePopupAction:nil];

} 
```

如果您有任何问题，请回复我，我会帮助您:)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-06-16T18:02:04.103

在 didFinishLaunchingWithOptions 调用此函数：

```
 -(void)createdb
  {
       NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,      NSUserDomainMask, YES);
       NSString *documentsDirectory = [paths objectAtIndex:0];
       NSString *dbPath = [documentsDirectory stringByAppendingPathComponent:@"emp.sqlite"];

       NSURL *dbURL = [NSURL fileURLWithPath:dbPath];

       // copy a database from the bundle if not present
       // on disk
       NSFileManager *fm = [NSFileManager defaultManager];
       if (![fm fileExistsAtPath:dbPath])
       {
             NSURL *bundlePath = [[NSBundle mainBundle] URLForResource:@"emp" withExtension:@"sqlite"];
             NSError *error = nil;
            if (!bundlePath || ![fm copyItemAtURL:bundlePath toURL:dbURL error:&error])                         
            {
               NSLog(@"error copying database from bundle: %@", error);
            }
       }
       else
       {
             NSLog(@"Success in Copy file");
       }
  } 
```

[单击此处下载完整示例](http://zero-error-script.blogspot.in/2014/06/how-to-create-sqlite-database-in.html)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-12-16T02:23:18.717

在内存警告后调用此函数。

-(IBAction)saveData:(UIButton *)sender {

```
sqlite3_stmt *statement;
const char *dbPath = [databasePath UTF8String];

if(sqlite3_open(dbPath, &contactDB)== SQLITE_OK){

    NSString *insertSQL = [NSString stringWithFormat:@"INSERT INTO CONTACTS(NAME,ADDRESS,PHONE)VALUES(\"%@\",\"%@\",\"%@\")",_name.text,_address.text,_phoneNo.text];

    const char *insert_stmt = [insertSQL UTF8String];
    sqlite3_prepare_v2(contactDB, insert_stmt, -1, &statement, NULL);
    if (sqlite3_step(statement)== SQLITE_DONE) {
        _status.text = @"Contact added";
        _name.text = @"";
        _address.text  = @"";
        _phoneNo.text = @"";
    }else{
        _status.text = @"Failed to add contact";
    }
    sqlite3_finalize(statement);
    sqlite3_close(contactDB);

} 
```

}

# excel-2007 - 需要有关 excel 公式的帮助

> ID：10545530
> 
> 赞同：0
> 
> 时间：2012-05-11T04:40:23.857
> 
> 标签：excel-2007

我的 Excel 中有 30 多列和 500 多行。我有结束 12 列的 Excel 计算。这对于所有 500 行都是相同的。但我无法跟踪它，因为我使用了一些合并的行。

我的计算是使用同一行中不同列的值。根据某些条件，我合并了一些行。我的问题是因为我在 2 列中间合并了一些行，所以公式的跟踪无法正常工作。所以每次如果有任何更改我都必须手动修改 500 行 od 公式，这真的需要很长时间。 **示例公式：* *=IF(AND($B$7=0,$L$7=0),SUM((AD7* $L$2),(T7*$I$7),(Q7*$H$7)),0)** 上面的 B 和 L 是合并的列值

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T06:58:56.680

我只是跟踪所有 500 多行的公式，我使用“替换”功能 wrt 合并单元格来相应地更新公式

# math - 缩放到 3D 屏幕空间选择框

> ID：10545537
> 
> 赞同：3
> 
> 时间：2012-05-11T04:40:58.147
> 
> 标签：math, opengl, 3d, directx, zooming

我想知道能够缩放到 3D 屏幕空间选择框/窗口的最佳算法。

我目前可以使用它，但是当与目标的距离很大时，它似乎无法正确放大。

目前，它通过计算选择框相对于视口宽度/高度的比例来工作，并将该比例应用于相机与其目标的距离/范围。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-05-11T21:06:21.560

其实没那么简单。看这张图（为简单起见，它是一个 2D 投影）：

![截锥体1](../Images/9aeb86979185f395cecab17cd618d35e.png)

蓝色区域是当前相机的视锥。黄色区域是屏幕矩形选区覆盖的蓝色平截头体的一部分。目的是制作一个最能代表黄色区域的新平截头体。问题是新的平截头体应该以何种方式适合黄色区域。

下图展示了一种可能性：

![截锥体2](../Images/992a4e8b57ee1816ca514f889741ad60.png)

新相机的视锥为紫色，相机的眼睛位于绿线上。假设新相机与旧相机具有相同的属性（fovy、znear、zfar、aspect），我们可以计算它的新位置和方向。

现在进行一些计算：

近平面的高度和宽度：

```
h = 2 * tan(fovy/2) * znear
w = aspect * h 
```

矩形的屏幕空间坐标：

```
rectangle = ( x0, y0, x1, y1 ) 
```

矩形的屏幕空间中心：

```
rcenter = ( (x0+x1)/2, (y0+y1)/2 ) 
```

另一张用于阐明下一个计算的图像：

![截锥体3](../Images/1ab11c87a2d62cbbb139b45850588f8a.png)

位于近平面上的视图空间向量，从近平面的中心指向矩形的中心：

```
center = ( (rcenter.x / screen_width  - 0.5) * w,
           (0.5 - rcenter.y / screen_height) * h, 0 ) 
```

然后我们必须将此向量转换为世界空间：

```
centerWS = center.x * camera_right_dir + center.y * camera_up_dir 
```

相机的新方向（dir2n）：

```
dir1 = camera_dir * znear
dir2 = dir1 + centerWS
dir2n = normalize(dir2) 
```

相机的新位置（pos2）：

为了简化计算，我做了一些假设。大约新的和旧的近平面是平行的，所以：

```
(w, h) / dist = (w * (x1-x0)/screen_width, h * (y1-y0)/screen_height) / znear
(1, 1) / dist = ( (x1-x0)/screen_width, (y1-y0)/screen_height) / znear
(1/dist, 1/dist) = ( (x1-x0)/screen_width, (y1-y0)/screen_height) / znear 
```

因此：

```
dist = znear * screen_width / (x1-x0) 
```

应该等于：

```
dist = znear * screen_height / (y1-y0) 
```

仅当矩形与屏幕具有相同的比例时才是正确的，您可以通过在用户绘制矩形时锁定矩形的比例来保证这一点，或者您可以仅使用矩形的宽度`(x1-x0)`而忽略其高度`(y1-y0)`，反之亦然。

最后：

```
pos2 = pos1 + dir2n * (dist-znear) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T13:41:11.890

我的理解是，您在屏幕上绘制了一个矩形以与窗口边界对齐，并使该矩形内的所有内容都放大。

如果我是对的，我们在这里试图实现的是将近平面与绘制矩形的假想平面对齐。

为此，我们必须使用一些三角函数。假设我们对齐矩形的顶部和底部：

我们应该将近平面的高度计算为：
`H = tan(fovy/2) * nearPlane;`--------(1)

近平面上绘制矩形的高度：

```
fraction = WindowHeight / rectangle height;  
h = H * fraction; ---------(2) 
```

为了使近平面与假想平面对齐，相机必须向前移动。假设D是向前移动的距离，那么按几何，
`h / nearPlane = H / (nearPlane+D)`--------(3)

使用等式（2），等式（3）可以简化为：

```
fraction / nearPlane = 1 / (nearPlane+D) 
```

给出 D 为：

```
D = (nearPlane / fraction)  - nearPlane; 
```

或者

```
D = nearPlane * (1-fraction)/fraction; 
```

现在将相机向前移动 D. 就可以了。

如果矩形没有居中对齐，计算会稍微复杂一些。

# jquery-mobile - Jquery mobile：禁用“点击切换”固定页眉和页脚

> ID：10545540
> 
> 赞同：4
> 
> 时间：2012-05-11T04:41:36.953
> 
> 标签：jquery-mobile

我在 jquery mobile 中禁用了点击切换，如下所示。

`$(function(){ $('[data-role=header],[data-role=footer]').fixedtoolbar({ tapToggle:false }); });`

遵循[Jquery mobile 上的 Q：禁用“点击切换”固定页眉和页脚](https://stackoverflow.com/questions/9232415/jquery-mobile-disable-tap-to-toggle-fixed-header-and-footer)

现在我的内容被页眉剪裁了。寻找解决方案。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-03T02:40:56.263

当我尝试使用 fixedtoolbar({ tapToggle:false }); 以编程方式禁用 Taptoggle 时遇到了同样的问题；

我很幸运在我的标题中使用了 data-tap-toggle="false" 标记，而不是完全禁用了 taptoggle。虽然添加 data-tap-toggle="false" 可能需要做更多的工作，但至少它可以工作！

我在尝试自己解决这个问题时发现了这个问题，并决定尝试一下。我在这里找到了信息：http: [//jquerymobile.com/test/docs/toolbars/bars-fixed-options.html](http://jquerymobile.com/test/docs/toolbars/bars-fixed-options.html)

文档在 tap-toggle 部分下说明了这一点：此选项也作为数据属性公开：data-tap-toggle="true"。我决定将其设置为 false，它解决了我的问题。不再有轻触，也不再重叠！我的大多数标题现在看起来像这样：

```
<div data-role="header" data-id="jqmheader" data-position="fixed" data-tap-toggle="false"> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-01-09T17:52:24.007

要以编程方式更改它，您需要执行以下操作：

```
$.mobile.toolbar.prototype.options.updatePagePadding = false;
$.mobile.toolbar.prototype.options.hideDuringFocus = "";
$.mobile.toolbar.prototype.options.tapToggle = false; 
```

用 jQuery Mobile 1.4.0 尝试过

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T23:07:14.657

**FYI**
This is how it is done programatically with JQuery:

```
$("[data-role=header], [data-role=footer]").fixedtoolbar({ tapToggle: true }); 
```

This will toggle from the default state set in the page container tag.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-14T20:07:06.890

如果您在单个页面上调用它，则不会发生这种情况。

例如

> $("#pageA , #pageB , #pageC").bind('pageinit',function() { $(this).find("[data-role=header] , [data-role=footer]").固定工具栏({ tapToggle: false }); });

使用 1.2.0 JQM

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-02-25T13:07:25.100

或者就像这样：

```
<div data-role="page" ... data-hide-during-focus="" ... >...</div>
```

在 jQuery Mobile 1.4.5 上测试

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-05-11T05:40:57.847

默认情况下，jquery mobile 会自动计算页面填充。因此，您的页面似乎不正确，这就是为什么内容位于标题下方并且看起来被剪裁的原因。

您可以通过 JQM 禁用自动更新页面填充并自行设置。在这里查看 updatePagePadding 属性：http: [//jquerymobile.com/test/docs/toolbars/bars-fixed-options.html](http://jquerymobile.com/test/docs/toolbars/bars-fixed-options.html)

还需要进行修复，如下所述：[https ://github.com/jquery/jquery-mobile/issues/4223](https://github.com/jquery/jquery-mobile/issues/4223)

问候。

# python - 将列表转换为字典

> ID：10545544
> 
> 赞同：0
> 
> 时间：2012-05-11T04:41:54.090
> 
> 标签：python

我想将下面的数据转换为一个字典，第一列作为 ID 号，其余元素作为值

```
EDF768, Bill Meyer, 2456, Vet_Parking

TY5678, Jane Miller, 8987, AgHort_Parking

GEF123, Jill Black, 3456, Creche_Parking 
```

到目前为止，我已经打开了文件并将数据转换为列表。但我无法将其转换为字典，因为它说明序列太长。

```
def createNameDict():
      file = open("C:\Users\user\Desktop\\ParkingData_Part2.txt","rt")
      contents = file.read()
      print contents,"\n"
      data_list = [line.split(",")  for line in contents.split("\n")]
      print data_list, "\n"
      dict_list = []
      data_dict = {}
      for line in data_list:
        key = line[0]
        value = (line[1], line[2], line[3])
        data_dict[key] = value
        data_dict = dict()

        dict_list.append(data_dict)
        # start dictionary over
        #print data_dict
      print (data_list)

      file.close() 
```

我的输出是：

```
[['EDF768', ' Bill Meyer', ' 2456', ' Vet_Parking'], 
['TY5678', ' Jane Miller', ' 8987', ' AgHort_Parking'], 
['GEF123', ' Jill Black', ' 3456', ' Creche_Parking'], 
['ABC234', ' Fred Greenside', ' 2345', ' AgHort_Parking'], 
['GH7682', ' Clara Hill', ' 7689', ' AgHort_Parking'], 
['JU9807', ' Jacky Blair', ' 7867', ' Vet_Parking'], 
['KLOI98', ' Martha Miller', ' 4563', ' Vet_Parking'], 
['ADF645', ' Cloe Freckle', ' 6789', ' Vet_Parking'], 
['DF7800', ' Jacko Frizzle', ' 4532', ' Creche_Parking'], 
['WER546', ' Olga Grey', ' 9898', ' Creche_Parking'], 
['HUY768', ' Wilbur Matty', ' 8912', ' Creche_Parking']] 
```

有人可以给我提示将上面的列表转换为字典，例如：

```
{'EDF768': ' Bill Meyer', ' 2456', ' Vet_Parking'} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-11T05:07:02.313

使用 csv 模块：

```
import csv

d = {}

with open('ParkingData_Part2.txt','r') as fh:
    for line in csv.reader(fh):
        key = line.pop(0)
        d[key] = [item.strip() for item in line]

print d 
```

返回

```
{'TY5678': ['Jane Miller', '8987', 'AgHort_Parking'], 'GEF123': ['Jill Black', '3456', 'Creche_Parking'], 'EDF768': ['Bill Meyer', '2456', 'Vet_Parking']} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T04:45:24.850

```
 for line in data_list:
    key = line[0]
    value = (line[1], line[2], line[3])
    data_dict[key] = value
    dict_list.append(data_dict)
    data_dict = dict() 
```

`data_dict()`在上面写的最后一行，*在*将它附加到`dict_list`. 只需切换两行（如上所示）。

**编辑** 使您的输出成为纯字典（我假设您的所有键都是唯一的）：

```
def createNameDict():
    with open("C:\Users\user\Desktop\\ParkingData_Part2.txt","r") as f:
        contents = file.read()
    print contents,"\n"
    data_list = [line.split(",")  for line in contents.split("\n")]
    print data_list, "\n"
    data_dict = {}
    for line in data_list:
        data_dict[line[0]] = line[1:]
    print (data_dict)
    return data_dict 
```

请注意，您想要的输出有点模棱两可——`dict`您提供的示例格式不正确，将生成 SyntaxError。我相信你的意思`{'EDF768': ('Bill Meyer', ' 2456', ' Vet_Parking')}`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-11T04:53:02.453

每次构建字典的方式有点尴尬。只需简化它：

```
 dict_list = []
  # data_dict = {}  get rid of this
  for line in data_list:
    data_dict = {line[0]: line[1:]}
    dict_list.append(data_dict) 
```

无需每次都声明和清除字典。

如果您真正想要的只是一本字典，请执行以下操作：

```
 data_dict = {} 
  for line in data_list:
    data_dict[line[0]] = line[1:] 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-11T04:57:56.360

尝试这个：

```
data_dict = {lsitem[0]:lsitem[1:] for lsitem in data_list} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-05-11T05:02:08.727

对于初学者，请使用 csv 模块，它使您的文件的读取变得更加容易：

```
import csv

def createNameDict():
    data_file = csv.reader(open('ParkingData_Part2.txt', 'rb'))
    return dict(
        (line[0], line[1:]) for line in data_file
    ) 
```

# silverlight - WP7：我可以更改全景视图的字体大小吗？在银光工作中

> ID：10545545
> 
> 赞同：0
> 
> 时间：2012-05-11T04:41:57.763
> 
> 标签：silverlight, windows-phone-7, font-size, panorama-control

> **可能重复：**
> [如何更改全景项目标题的字体大小？](https://stackoverflow.com/questions/6019009/how-to-change-font-size-of-panorama-item-header)

我编写了这样的全景视图：

```
`<controls:Panorama Title="test">` 
```

在 WP7 银光中。无论如何我可以更改字体大小或事件字体系列吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T06:45:58.300

当然。

您可以为此使用模板。

例如

```
<controls:Panorama Title="test">
<controls:Panorama.TitleTemplate>
                <DataTemplate>
                    <Grid Margin="0,80,0,0">
                        <TextBlock Foreground="Black" FontSize="20" Text="{Binding}"/>
                    </Grid>
                </DataTemplate>
            </controls:Panorama.TitleTemplate>
</controls:Panorama> 
```

# javascript - 我如何遍历一组复选框

> ID：10545546
> 
> 赞同：1
> 
> 时间：2012-05-11T04:42:13.120
> 
> 标签：javascript, jquery, checkbox

```
var days = ['daily', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun']; 
```

这些是我的复选框。每个复选框都有唯一的 id。backup_freq_daily、backup_freq_monday 等。每当我点击daily 或monday 或thu 或thu 等时，我都需要进行一些操作。

```
$('#bm_freq_daily,#bm_freq_mon,#bm_freq_tues,#bm_freq_weds,#bm_freq_thur,#bm_freq_fri,#bm_freq_sat,#bm_freq_sun').click(some_operation); 
```

我怎么能写一个for循环？

```
for (var dx = 0; dx < days.length; dx ++ ) {
  $("#bm_freq_daily").click(some_operation);
} 
```

这是行不通的，我只想循环遍历所有天[]，当用户 clcik 复选框我循环数组并查找单击了哪个 id 时。
提前感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T04:46:50.997

您可以使用[.each()](http://api.jquery.com/each/)方法对其进行迭代，方法是在复选框中添加一个 CSS 类。

像这样的东西

```
$('.yourCheckboxClass:checked').each(function(index, Elem)
{
  if($(this).id=="something")
   { //then do something 
   }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T04:48:28.523

```
$('#yourParent :checkbox').each(function(){
  $(this).click(some_operation);
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T04:46:43.030

使用 Find.You 标记 jquery，所以我尝试在 jquery 中放置一个示例。

```
var Days= $('#divDays').find('input.YourDayClass:checked');
                    $.each(Days, function(index, item) {
                        if ($(this).attr("checked")) {
                           //What You try to Do
                        }
                    }); 
```

我认为样品可以帮助你。

# coffeescript - Spine.js 获取自定义记录

> ID：10545548
> 
> 赞同：1
> 
> 时间：2012-05-11T04:42:19.460
> 
> 标签：coffeescript, spine.js

我有一个`spine.js`应用程序，我试图获取`users`最近在该网站上发表评论的人的列表。我的服务器路径是`/users/recently_commented`.

我尝试创建一个类方法：

Spine.js 视频模型

```
class App.User extends Spine.Model
  @configure 'User', 'name'
  @extend Spine.Model.Ajax

  @recentlyCommented: ->
    $.get @url("recently_commented") 
```

当我传递`User.recentlyCommented`给我的视图时，它会返回`undefined`。

我将如何获取这些记录？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-13T17:09:22.483

我认为你打电话的方式有些问题[`$.get`](http://api.jquery.com/jQuery.get/)。

首先，`$.get`它是异步的，因此`User.recentlyCommented`将返回一个[`jqXHR`](http://api.jquery.com/Types/#jqXHR)而不是用户实例列表。

其次，您应该`$.get`使用某种回调函数调用以在`recently_commented`数据到达时对其进行处理：

```
$.get @url('recently_commented'), (data) ->
    # Now convert 'data' to User model instances,
    # if this function cares about its context then
    # you'll probably want to use => to define it. 
```

`$.get`您的视图还需要以某种方式侦听“新模型”创建的事件，因为用户直到（因此`recentlyCommented`）返回一段时间后才会存在。

抱歉，但我不了解 Spine，所以我不知道这里的惯用方法是什么。

# ruby-on-rails - Paperclip 不允许上传 jpg，即使它在内容类型中已被指定。

> ID：10545557
> 
> 赞同：0
> 
> 时间：2012-05-11T04:43:06.210
> 
> 标签：ruby-on-rails, ruby-on-rails-3, paperclip

我正在使用回形针来接受图像上传。我的附件有以下验证：

```
validates_attachment :image, content_type: { content_type: ['image/jpg', 'image/png'] }, size: { in: 0..500.kilobytes } 
```

上传 png 工作正常，但上传 jpeg 不起作用，并导致表单中显示的保存错误。错误在 image_content_type 上。我该如何调试这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T04:46:07.697

我相信要使用的[正确 MIME 类型](http://en.wikipedia.org/wiki/JPEG)是`image/jpeg`：

```
validates_attachment :image, content_type: { content_type: ['image/jpeg', 'image/png'] }, size: { in: 0..500.kilobytes } 
```

# jquery - JQuery fadeIn fadeOut 平滑问题

> ID：10545559
> 
> 赞同：0
> 
> 时间：2012-05-11T04:43:16.063
> 
> 标签：jquery, html

我有以下代码，用于在悬停状态下淡入和淡出。

```
$(function(){
    $("#bottomIco ul li a").hover(function(){
        $(this).children("#gray").fadeOut("100",function(){
            $(this).parent().children("#actual").fadeIn("100");
        });
    },function(){
        $(this).children("#actual").fadeOut("100",function(){
            $(this).parent().children("#gray").fadeIn("100");
        });
    });
}); 
```

它有效，但是当我将鼠标悬停在#gray 中时，出现空白，然后#actual div 出现。

我需要让它平滑，即当我悬停时不需要空白。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T04:48:04.533

你得到“空白”的原因是因为你正在淡入淡出`#actual`的回调`#gray`。这意味着您正在等待`#gray`完全淡出，然后淡入`#actual`。

尝试同时进行淡出和淡入。

```
$(this).children("#gray").fadeOut(100);
$(this).children("#actual").fadeIn(100); 
```

由于两个淡入淡出都是异步运行的，它们将在大约同一时间执行，可能会延迟一毫秒或两秒。

这样做时你唯一需要考虑的是它们会同时渲染到屏幕上，所以如果你想要一个淡入淡出的过渡，你需要考虑定位。

```
#bottomIco ul li a { position: relative; }

    #bottomIco ul li a.fade #gray,
    #bottomIco ul li a.fade #actual {
        position: absolute;
        top: 0;
        left: 0;
    } 
```

`fade`然后，当您在两者之间消失时，只需应用和删除课程。

```
var $this = $(this);
$this.addClass("fade");
$this.children("#gray").fadeOut(100);
$this.children("#actual").fadeIn(100, function() {
    $this.removeClass("fade");
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T06:16:52.280

我认为使用 CSS3 将是一个更优雅的解决方案。您可以发布一个 jsfiddle 以便我为您整理吗？

# html - .asp 页面不会更新

> ID：10545565
> 
> 赞同：1
> 
> 时间：2012-05-11T04:44:18.967
> 
> 标签：html, caching, asp-classic

我正在为一个客户的项目工作，该客户的网站是几年前用 .asp 开发的。

我正在实施一种新设计（html/css），并且一直在浏览 .asp 页面并删除旧的 HTML 并用我开发的新代码替换它。

当页面在网站上实时加载时，页面不会显示任何变化。当我在文本编辑器中打开 .asp 文件时，新代码就在那里。我已阅读此内容，似乎服务器可能正在缓存 .asp 文件，但我不知道如何清除此缓存，因为我只是在简单的文本编辑器 (textmate) 中编辑文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T17:01:32.627

`Ctrl`通常用++强制浏览器刷新`Shift`应该`R`刷新服务器上的页面。在极少数情况下，您必须对每个页面都执行此操作。在 IIS 5 和 IIS 6 中经历并解决了这个问题，所以如果你在更高版本的 IIS 中出现同样的情况，请尝试一下。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-05-11T04:58:44.060

你清除浏览器缓存了吗？基于 ASP 页面的 NET 框架，在 %Windows%\Microsoft.NET\Framework\\Temporary ASP.NET Files 中创建临时文件。删除在那里创建的所有文件并使用 CTRL+F5 刷新 ASP 页面。

* * *

## 回答 #3

> 赞同：-5
> 
> 时间：2012-05-23T18:25:34.880

原来是一个简单的 IIS 设置被另一个设置。网络管理员找到了修复程序。

谢谢大家！

# iphone - .plist 中的 Xcode4 ExternalHosts

> ID：10545567
> 
> 赞同：2
> 
> 时间：2012-05-11T04:44:43.633
> 
> 标签：iphone, objective-c, xcode, cordova

我是 Xcode 和 Mac 环境的新手，我正在尝试设置一个 PhoneGap / Cordova 应用程序，我得到了一个

```
ERROR whitelist rejection 
```

我做了一个彻底的谷歌搜索，一切都说我需要编辑我的 .plist 文件并添加到 ExternalHosts 键。

好吧，我的应用程序没有 ExternalHosts 密钥，所以从我在网上看到的随机图片中，我添加了一个 ExternalHosts 密钥作为数组并尝试添加我需要的站点，所以现在我的 Xcode .plist 文件看起来像这样：

![Xcode](../Images/7a9412b00158c01fef95e22d1b23322e.png)

如您所见，我尝试了域方式和实际 URI，但我仍然收到相同的白名单拒绝错误。

有人可以指出如何让这个工作的正确方向吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T15:14:45.200

我想到了。我试图将 ExternalHosts 添加到应用程序构建文件中。

发现我正在寻找的文件位于 /Resources/Supporting Files/Cordova(|Phonegap).plist

# delphi - 如何使用 Delphi 解析和删除发件箱中的本地 MAPI 消息库消息

> ID：10545570
> 
> 赞同：0
> 
> 时间：2012-05-11T04:44:53.553
> 
> 标签：delphi, mapi

我有一个使用 Outlook 发送到分发列表的第三方应用程序。我认为这是使用扩展 MAPI 完成的。如果生成大量邮件，Outlook 可能会挂起，我想创建一个服务来读取存储在 MessageStore 的发件箱中的邮件，通过 SMTP 网关发送电子邮件并从发件箱中删除发送的邮件。所有这些都应该在不需要运行 Outlook 的情况下完成 - 但仍然会安装 Outlook。

我想知道如何在不使用任何第三方商业组件的情况下使用 Delphi 完成我刚才描述的内容。我已经研究了很多天，但找不到任何示例代码或示例。虽然有很多简单的 MAPI 代码。感谢任何指针。:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T07:16:03.743

您需要的是 Outlook 自动化，为此您需要查看 Dmitry 已经提到的 Outlook 对象模型。

MSDN 上提供了有关 Outlook 对象模型的文档：http: [//msdn.microsoft.com/en-us/library/aa221870 (v=office.11​​).aspx](http://msdn.microsoft.com/en-us/library/aa221870(v=office.11).aspx)

这应该让您开始从任何应用程序自动化 Outlook：http: [//msdn.microsoft.com/en-us/library/aa209963](http://msdn.microsoft.com/en-us/library/aa209963(v=office.11).aspx) (v=office.11​​).aspx是的，它是关于从 Visual Basic 应用程序自动化 Outlook，但无论您使用哪种环境来自动化 Outlook，这些概念都是相同的。

此外，Deborah Pate 的网站虽然似乎不再定期更新，但仍然包含有关从 Delphi 自动化任何 Office 应用程序的非常有价值的信息：http: [//www.djpate.freeserve.co.uk/Automation.htm](http://www.djpate.freeserve.co.uk/Automation.htm)

从那里继续，这个问题将帮助您开始查找发件箱：[Outlook 对象模型 - 检测邮箱](https://stackoverflow.com/questions/5498441/outlook-object-model-detecting-mailboxes)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T05:42:43.467

Outlook 异步发送消息，因此我认为问题是第三方应用程序 使用 Outlook 对象模型*生成消息（这发生在 Outlook 主线程上）。*一旦消息被提交，它们将被异步发送。

# javascript - Jquery 填充输入或文本区域

> ID：10545573
> 
> 赞同：8
> 
> 时间：2012-05-11T04:45:05.170
> 
> 标签：javascript, jquery

```
<div id="example"></div>
  <script type="text/javascript">
             jah = "<p>Browser CodeName: " + navigator.appCodeName + "</p>";
             jah+= "<p>Browser Name: " + navigator.appName + "</p>";
             jah+= "<p>Browser Version: " + navigator.appVersion + "</p>";
             jah+= "<p>Cookies Enabled: " + navigator.cookieEnabled + "</p>";
             jah+= "<p>Platform: " + navigator.platform + "</p>";
             jah+= "<p>User-agent header: " + navigator.userAgent + "</p>";

             document.getElementById("example").innerHTML=jah;

             </script> 
```

我正在使用上面的代码来编译一些我需要从表单中收集的浏览器信息。如何将该信息传递给 Input 或 Textarea？

提前致谢！

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-05-11T04:49:47.020

通过使用[`$.val`](http://api.jquery.com/val/). 假设`#example`是一个指向有问题的输入字段的选择器，您可以使用如下内容：

```
$('#example').val(jah); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-11T07:28:39.570

如果你想使用纯 JavaScript 而不是 jQuery，试试这个：

```
<form><textarea id="ta"></textarea></form>
<script type="text/javascript">
    jah = "whatever you want";
    var ta = document.getElementById('ta');
    ta.value = jah;
</script> 
```

分配`.value`等于 jQuery 函数`.val(v);`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-11T04:49:54.343

就像这样使用 jQuery 的[val](http://api.jquery.com/val/)方法`$('#Id').val(jah);`

其中 Id 是 textarea 的输入 id。:)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-11T04:48:16.683

```
$('#myinput').val($('#example').find('p').text()); 
```

其中“myinput”是您的文本区域的 id。之后粘贴此行

```
document.getElementById("example").innerHTML=jah; 
```

# mysql - 如何去除重复并获得最大价值

> ID：10545576
> 
> 赞同：0
> 
> 时间：2012-05-11T04:45:20.717
> 
> 标签：mysql, sql

我正在尝试构建一个 SQL 语句，该语句将选择最高 id，但如果存在重复项，则仅选择最高值。

**id - 值**

*   1491825 - 3339
*   1491824 - 3170
*   1491823 - 3143
*   1491822 - 3422
*   1491821 - 3422
*   1491820 - 3422
*   1491819 - 3422
*   1491818 - 3422
*   1491817 - 3261
*   1491816 - 3170
*   1491815 - 3170
*   1491814 - 3170
*   1491813 - 3170
*   1491812 - 3170
*   1491811 - 3170
*   1491810 - 3170
*   1491809 - 3170
*   1491808 - 3170
*   1491807 - 3251
*   1491806 - 3422

**预期输出**：

**id - 值**

*   1491825 - 3339
*   1491824 - 3170
*   1491823 - 3143
*   1491822 - 3422
*   1491817 - 3261
*   1491807 - 3251

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T04:55:58.867

```
select max(id),value From foo
group by value
order by max(id) desc 
```

见：[http ://www.sqlfiddle.com/#!3/4ee34/3](http://www.sqlfiddle.com/#!3/4ee34/3)

*编辑。该死。被旁观者打败。*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T04:53:30.667

像这样的东西怎么样

```
SELECT  MAX(id) as id
        value
FROM    YourTable
GROUP BY value 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-05-11T05:22:21.583

MAX() 函数是正确的并且是最佳答案

# android - 创建网站启动器 - 希望它在启动浏览器后关闭

> ID：10545578
> 
> 赞同：1
> 
> 时间：2012-05-11T04:45:28.283
> 
> 标签：android

这是我的第一个安卓应用。我四处搜索并尝试了不同的方法来创建一个可以打开浏览器访问我的网站的应用程序。

它运行良好，只是它一直在运行。如果我重新打开它，它只是一个带有标题的黑屏，因为它已经完成了启动浏览器的工作。

代码是：

```
package pro.linuxos.weblaunch;
import android.app.Activity;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.webkit.WebView;
public class LinuxOSProWeblaunchActivity extends Activity
{
WebView webview;
@Override
public void onCreate(Bundle savedInstanceState)
{
super.onCreate(savedInstanceState);
Intent viewIntent = new Intent("android.intent.action.VIEW", Uri.parse("http://LinuxOS.pro"));  
startActivity(viewIntent);
}
} 
```

现在我查看它时可能有一些额外的 webview 内容:) 我正在使用它，但是在打开 javascript 时遇到了问题。

无论如何，有没有办法在它启动浏览器后退出，这样我就不必退出它来再次使用它？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T04:48:28.173

当然，只需在[`finish()`](https://developer.android.com/reference/android/app/Activity.html#finish%28%29)之后立即调用该方法`startActivity()`。

# c# - 在hbm文件中写HQL有什么好处？

> ID：10545580
> 
> 赞同：0
> 
> 时间：2012-05-11T04:45:48.193
> 
> 标签：c#, nhibernate

我正在像这样在 hbm 文件中编写 HQL

```
<query name="GetFabric">
        <![CDATA[Select F.FabricName,FS.FabricSeasonName from Fabric F,FabricSeason FS where F.FabricSeasonID=FS.ID]]>
    </query> 
```

但是我们可以在代码文件中编写查询，那么编写 HQL（HBM 文件或代码文件）的更好方法是什么

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-11T05:19:26.653

我将 HQL 嵌入文件的主要原因`HBM`很简单：-

> 构建会话工厂时解析/检查/缓存 HQL 元数据

这意味着如果您有错误，您将在代码启动时了解它们。HQL 也被缓存并准备好运行。在代码中使用 HQL 意味着在第一次运行时需要解析和缓存 HQL，因此第一次运行代码会稍微慢一些。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T04:57:57.647

如果只需要在单个函数中执行查询，我会将其嵌入代码中，但是如果我需要在不同的项目/类中运行此查询，则将其放入 hbm.xml

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T05:09:22.057

放置在 Hibernate 映射文件中的命名查询是：

*   比分散在 Java 代码中的查询更容易维护
*   全局可访问，因此您可以一次定义一个查询并在代码中多次使用它
*   更安全，它们可以防止 SQL 注入攻击

# php - 我的 Paypal IPN 脚本每次都被点击两次是否正常？

> ID：10545581
> 
> 赞同：3
> 
> 时间：2012-05-11T04:45:55.583
> 
> 标签：php, paypal

我目前正在使用 Paypal 的沙箱在 PHP 中测试 IPN 脚本。

它似乎工作正常，除了它似乎每次都被击中两次。我在顶部放了一些代码，只是为了给我发送电子邮件警报，这样我就知道脚本已经执行了。每笔交易我都会收到两次警报。

我什至可以在我的脚本中注释掉除该行之外的所有内容，并且我仍然得到它两次，所以我认为我可以合理地确定问题不在我的 IPN 脚本中，而是在 Paypal 端。

我不知道这是否意味着我的 Paypal 帐户中的某些设置有误，或者我不理解 Paypal 工作的正常部分或发生了什么。不过，我很确定我的 IPN 脚本不应该为每笔交易运行两次。

我的 IPN 脚本会被击中两次是有原因的吗？有什么我可以或应该做的吗？

* * *

***更新：***

1.  我已经确认每次都会发生双重打击。

2.  我收到的两封电子邮件实际上存在差异。第一个有一个`payment_date`变量，第二个有一个`subscr_date`变量。该`subscr_date`变量设置为在`payment_date`.

虽然似乎正在发生的所有事情都是我收到两个通知，一个是付款通知，另一个是订阅开始，但这仍然让我感到奇怪。我对 IPN 脚本的理解是，它的目的是让我可以根据成功的付款在我的数据库（或其他任何东西）中执行更改。如果他们每次都想打我两次，那么我打算执行的任何更改都会进行两次，我认为这显然不是理想的方法。

此外，由于客户购买***的是***订阅，因此他们似乎每次都给我两个关于同一事物的通知，但名称不同。也比较奇怪。

所以我仍然想知道......这是否正常，我应该怎么做才能防止我的代码被执行两次？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-17T15:51:47.920

您将收到 2 个不同的 IPN 事件 - 1 个确认付款，1 个确认订阅开始。

请参阅此处的 IPN 订阅事件[http://www.paypalobjects.com/en_US/ebook/subscriptions/notifications.html#1032718](http://www.paypalobjects.com/en_US/ebook/subscriptions/notifications.html#1032718)和此处的 IPN 订阅变量[http://www.paypalobjects.com/en_US/ebook/subscriptions/Appx -ipn_subscription_variables.html](http://www.paypalobjects.com/en_US/ebook/subscriptions/Appx-ipn_subscription_variables.html)（向下滚动到表 A.2）了解您可以在每种类型中看到的内容。

还有一些 IPN 事件，例如标记订阅结束，这些事件与付款没有直接关系。

# amazon-ec2 - 如何在扩展策略中启动多个实例？

> ID：10545583
> 
> 赞同：0
> 
> 时间：2012-05-11T04:46:17.483
> 
> 标签：amazon-ec2, amazon-cloudformation, autoscaling

我使用云形成模板来自动扩展应用程序，但我想使用一次扩展策略启动两个实例

就像当我扩展我的 Web 应用程序时，我的数据库实例也将在信息模板中使用不同的用户数据启动

任何人都知道如何在一个启动配置中启动多个实例。如果任何机构已经实施，请帮助我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-12T22:12:09.390

它是缩放策略调用的“调整”参数，as-put-scaling-policy，[见参考](http://awsdocs.s3.amazonaws.com/AutoScaling/latest/as-qrc.pdf)

1 表示每个触发器放大一个，2，放大两个，-2，缩小两个，等等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-16T04:19:20.640

你不能。Scaling Group 是一组用于扩展的相同资源，Launch 配置是启动实例的单个配置。

您*可以*做的是从一个警报中触发两个策略。沿着那条路走下去。

# c++ - 特定类型列表的函数重载

> ID：10545590
> 
> 赞同：3
> 
> 时间：2012-05-11T04:47:34.053
> 
> 标签：c++, templates, c++11, overloading

我正在尝试为类型列表编写一些适配器代码。以下是用于此目的的实验代码：

```
struct null
{
};

template<typename first, typename second>
struct cell
{
    typedef first head;
    typedef second tail;
};

template <
    typename T1 = null, typename T2 = null, typename T3 = null,
    typename T4 = null, typename T5 = null, typename T6 = null,
    typename T7 = null, typename T8 = null, typename T9 = null,
    typename T10 = null, typename T11 = null, typename T12 = null,
    typename T13 = null, typename T14 = null, typename T15 = null,
    typename T16 = null, typename T17 = null, typename T18 = null
>
struct type_list
{
private:
    typedef typename type_list <
        T2, T3, T4, T5, T6, T7, T8, T9, T10,
        T11, T12, T13, T14, T15, T16, T17, T18
    >::type tail;

public:
    typedef cell<T1, tail> type;
};

template<>
struct type_list<>
{
    typedef null type;
};

template<typename T>
void test(T);

#include <cstdio>

template<typename T1, typename T2>
void test(typename type_list<T1, T2>::type)
{
    // won't be instantiated
    printf("type_list<T1, T2>::type\n");
}

template<typename T1, typename T2>
void test(cell<T1, cell<T2, null>>)
{
    printf("cell<T1, cell<T2, null>>\n");
}

int main()
{
    // Below causes compile error when 'void test(cell<T1, cell<T2, null>>)' is absence
    test(type_list<int, int>::type());
} 
```

输出：

```
cell<T1, cell<T2, null>> 
```

我想使用`void test(type_list<T1, T2>::type)`而不是`void test(cell<T1, cell<T2, null>>)`因为前者更简洁一点。我的问题是

*   我不能使用前一个的具体原因是什么？
*   有什么解决方法吗？（直接使用除外`cell`：（）

当然， type_list 只是类型列表生成的包装器，所以 'just erase `::type`after the `type_list<blah>`' 不能是一个选项。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T05:30:21.983

存在：

```
template<typename T>
void test(T); 
```

使其成为您的函数调用的最佳匹配（直到您输入单元格重载）。尝试将您的函数调用更改为：

```
test<int,int>(type_list<int, int>::type()); 
```

# css - 支持 RTL 语言的 Twitter Bootstrap CSS

> ID：10545594
> 
> 赞同：37
> 
> 时间：2012-05-11T04:48:14.480
> 
> 标签：css, twitter-bootstrap, arabic, right-to-left, persian

我刚刚发现[Twitter Bootstrap](https://github.com/twbs/bootstrap)，我想知道它是否有从右到左 (RTL) 的版本。有人知道吗？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-05-13T13:21:05.520

我建议这个[http://pyjamacoder.com/2012/02/01/twitter-bootstrap-v2-rtl-edition/](http://pyjamacoder.com/2012/02/01/twitter-bootstrap-v2-rtl-edition/)

演示：[http ://donaldducky.github.com/bootstrap-rtl/](http://donaldducky.github.com/bootstrap-rtl/)

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-05-20T16:43:16.527

我喜欢这个：[http](http://rbootstrap.ir/)
://rbootstrap.ir/ 它工作得很好。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2014-01-27T10:28:20.333

**对于引导程序 3**；我推荐[这个图书馆](https://github.com/morteza/bootstrap-rtl)。它在 Bootstrap 核心之上工作（将其视为 Bootstrap 主题），它为您提供了在不失去 RTL 支持的情况下保持[Bootstrap 核心](http://getbootstrap.com/)最新的优势。

**对于引导程序 2**；我会建议[这个存储库](https://github.com/donaldducky/bootstrap-rtl)。它独立工作（不使用 Bootstrap 核心作为依赖项）。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-09-17T18:07:02.107

bootstrap 3 阿拉伯语 RTL ... 链接：[https ://github.com/zeroxme/bootstrap-3-arabic](https://github.com/zeroxme/bootstrap-3-arabic)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2017-06-15T10:55:19.000

我在这里的回答是：

bootstrap-3-3-7-rtl 和 RTL Bootstrap 4.0.0-alpha.6.1

[我的答案](https://stackoverflow.com/a/44565587/5881949)

感谢[parsmizban.com](https://parsmizban.com/t/bootstrap-3-3-7-rtl)的创建和分享。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-09-29T12:39:54.567

这对于 bootstrap 3 RTL 支持来说非常好。[http://www.eyadio.com/post/2013/08/29/Twitter-Boostrap-version-3-with-RTL-support](http://www.eyadio.com/post/2013/08/29/Twitter-Boostrap-version-3-with-RTL-support)

# git - 通过 Homebrew 安装 Git 不会默认切换到 Homebrew

> ID：10545601
> 
> 赞同：5
> 
> 时间：2012-05-11T04:48:50.180
> 
> 标签：git, failed-installation

我有 OS X Lion，它带有 Git 版本 1.7.7.5 (Apple Git-26)。

然后我用 Homebrew 安装了 Git 1.7.10.1，一切都很顺利。

但是当我这样做时`git --version`，它仍然显示 Git 版本 1.7.7.5。

有人有这个问题吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-11T04:55:14.583

尝试更改您的路径顺序，`.bashrc`并在之前放置`/usr/local/bin`（Brew 使用）`/usr/bin`（具有默认 git）。它应该可以解决问题。

# php - PHP脚本强制下载文本文件

> ID：10545603
> 
> 赞同：0
> 
> 时间：2012-05-11T04:48:57.300
> 
> 标签：php, text, download, mime

我有一个由 php 脚本使用带有空格的 str_pad() 创建的文本文件，我想下载相同的文件而不会丢失这些空格。当我使用 ftp 下载时，没有问题，文本文件中的所有空格都完好无损。但是当我使用这个下载脚本让用户可以下载时，它会给出垃圾字符而不是空格，并且数据会被打乱。如果用户有任何其他方式下载此文件，请提供帮助。

我要下载的 php 文件 - download.php：

```
<?php
function output_file($file, $name, $mime_type='')
{

if(!is_readable($file)) die('File not found or inaccessible!');

 $size = filesize($file);
 $name = rawurldecode($name);

 $known_mime_types=array(
"txt" => "text/plain",
"html" => "text/html",
"php" => "text/plain"
 );

 if($mime_type==''){
     $file_extension = strtolower(substr(strrchr($file,"."),1));
 if(array_key_exists($file_extension, $known_mime_types)){
    $mime_type=$known_mime_types[$file_extension];
 } else {
    $mime_type="application/force-download";
 };
 };

 @ob_end_clean();

 if(isset($_SERVER['HTTP_RANGE']))
 {
list($a, $range) = explode("=",$_SERVER['HTTP_RANGE'],2);
list($range) = explode(",",$range,2);
list($range, $range_end) = explode("-", $range);
$range=intval($range);
if(!$range_end) {
    $range_end=$size-1;
} else {
    $range_end=intval($range_end);
}

$new_length = $range_end-$range+1;
header("HTTP/1.1 206 Partial Content");
header("Content-Length: $new_length");
header("Content-Range: bytes $range-$range_end/$size");
 } else {
$new_length=$size;
header("Content-Length: ".$size);
 }

 $chunksize = 1*(1024*1024); 
 $bytes_send = 0;
 if ($file = fopen($file, 'r'))
 {
if(isset($_SERVER['HTTP_RANGE']))
fseek($file, $range);

while(!feof($file) &&
    (!connection_aborted()) &&
    ($bytes_send<$new_length)
      )
{
    $buffer = fread($file, $chunksize);
    print($buffer); //echo($buffer);
    flush();
    $bytes_send += strlen($buffer);
}
 fclose($file);
 } else
 die('Error - can not open file.');

die();
}

set_time_limit(0);

$file_path=$_REQUEST['filename'];

output_file($file_path, ''.$_REQUEST['filename'].'', 'text/plain');

?> 
```

调用 download.php 的 HTML 文件

```
<html>
<head>
<title>Downloading Text file</title>
</head><body>
<br>
<br>
<a href='download.php?filename=Text1.txt'>Download print file </a><br>
<br>
<br>
</body>
</html> 
```

我的原始 Text1.txt 文件输出由 php 脚本使用 str_pad() 创建：

```
 3M India Ltd                                                   78788
       No.2, Abbayappa Layout, 4th Main, NS Palaya,                               
       Bannerghatta Road, Bangalore 560 076                           11/05/2012
                                                                        10:10:57

              500                          322
                                           AAACB5984DXM001            29400127541
                                           KA-01-N-2345               29400127541 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T05:23:15.407

试试这个，看看会发生什么。为线

> if ($file = fopen($file, 'r'))

改成

> if (fopen($file, 'r'))

# asp.net-mvc-areas - asp.net mvc 从根返回视图

> ID：10545608
> 
> 赞同：1
> 
> 时间：2012-05-11T04:49:55.590
> 
> 标签：asp.net-mvc-areas

我在 mvc 的两个不同位置有相同的控制器名称。一个在根中，另一个在区域中。区域中控制器的 Index 操作从根返回视图。

有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T21:00:53.803

我刚刚发生了这种情况。这是因为视图不在该地区的正确路径上。我已经重命名了控制器和调用视图中的所有链接，但是由于该区域`area/views/camphome/index.cshtml`的名称错误，因此它没有被拾取，而是返回`/views/home/index.cshtml`。

因此，请检查该区域中是否没有匹配的`/controller/action.cshtml`.

我还安装了 NuGet -`RouteDebugger`所以我可以发现调用了正确的控制器，只是渲染了错误的视图。

# android - 如何在android中检测短信删除？

> ID：10545611
> 
> 赞同：2
> 
> 时间：2012-05-11T04:50:10.137
> 
> 标签：android, sms, detect

在 Android 中是否可以通过编程方式检测到消息已从 Android 的消息存储中删除。如果是，我们是否有权访问哪些 SMS 被删除的信息。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T04:58:42.723

我能想到的最好的方法是您可以[`ContentObserver`](http://developer.android.com/reference/android/database/ContentObserver.html)在 SMS/MMS 内容提供商上注册一个（我认为是`content://mms-sms`），每当发生更改时，您都会收到回调。请注意，您需要扫描`ContentProvider`并保存其当前状态，然后每次发生更改时，您都需要搜索`ContentProvider`以找出更改的内容：没有预先打包的方式来通知用户删除了特定消息.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-31T19:00:35.303

只需使用此代码

```
try {
        Uri uriSms = Uri.parse("content://sms/inbox");
        Cursor c = context.getContentResolver().query(
                uriSms,
                new String[] { "_id", "thread_id", "address", "person",
                        "date", "body" }, "read=0", null, null);

        if (c != null && c.moveToFirst()) {
            do {
                long id = c.getLong(0);
                long threadId = c.getLong(1);
                String address = c.getString(2);
                String body = c.getString(5);
                String date = c.getString(3);
                if (message.equals(body) && address.equals(number)) {
                    // mLogger.logInfo("Deleting SMS with id: " + threadId);
                    context.getContentResolver().delete(
                            Uri.parse("content://sms/" + id), "date=?",
                            new String[] { <your date>});
                    Log.e("log>>>", "Delete success.........");
                }
            } while (c.moveToNext());
        }
    } catch (Exception e) {
        Log.e("log>>>", e.toString());
    } 
```

# core-data - Xcode 4.3 中的核心数据和 UIManagedDocument：无法合并模型

> ID：10545613
> 
> 赞同：3
> 
> 时间：2012-05-11T04:50:30.280
> 
> 标签：core-data, xcode4.3, uimanageddocument

我要感谢所有为本网站做出贡献的人。我是一个编程菜鸟，你们都帮了我很多忙。话虽如此，让我们继续我的最新问题！

我正在创建一个使用 a`UIManagedDocument`为我存储核心数据模型的应用程序。我使用`UIManagedDocument`以下代码创建，但现在使用 Xcode 4.3.2（随 Mac App Store 更新的版本）我遇到了问题。

这是代码：

```
 NSURL *url = [[[NSFileManager defaultManager] URLsForDirectory:NSDocumentDirectory inDomains:NSUserDomainMask] lastObject];
    url = [url URLByAppendingPathComponent:@"MyFile"];

    NSLog(@"\n\n This line does print. \n\n");
    UIManagedDocument *document = [[UIManagedDocument alloc] initWithFileURL:url];
    NSLog(@"\n\n This line does not print \n\n"); 
```

我在控制台中收到如下错误：

**由于未捕获的异常“NSInvalidArgumentException”而终止应用程序，原因：“无法将模型与名为“Foo”的两个不同实体合并**

事情就是这样，我不想让版本或类似的东西起作用。我只是用两种类型的实体创建一个数据模型，并试图在我的应用程序中打开一个 UIManagedDocument：超级简单，对吧？

我已经卸载了 Xcode 并重新安装了它，但没有成功。我还删除了我的核心数据模型并从头开始重做，但没有运气。

我完全迷失了，已经花了大约 2 个晚上试图解决这个问题。

帮我！请！谢谢阅读。如果您需要更多信息，请告诉我。我会给你我的灵魂的答案...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T02:46:28.380

所以我想通了。

我很难相信我必须继承 UIManagedDocument。最终我没必要。我的文件链接到项目的方式存在一些问题。

我按照这里的步骤，现在一切都很好

[core data application is Crashing in iphone device](https://stackoverflow.com/questions/6706505/core-data-application-is-crashing-in-iphone-device)

# wpf - 如何知道按钮在堆栈面板或网格中可见

> ID：10545614
> 
> 赞同：1
> 
> 时间：2012-05-11T04:50:31.043
> 
> 标签：wpf, button, grid, stackpanel

我在运行时在堆栈面板（和滚动视图中的网格）中添加按钮。所以有些按钮是可见的，有些是不可见的，取决于堆栈面板（和网格）的高度。这里的可见性意味着堆栈面板（和网格）的显示区域但是当用户滚动时，接下来的一些按钮变得可见。实际上，当任何按钮可见时，我想从网上下载图像。所以我想问一下这种类型的要求是否有任何可用的事件？

请建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T05:01:59.733

[http://blogs.msdn.com/b/llobo/archive/2007/01/18/elements-visibility-inside-scrollviewer.aspx](http://blogs.msdn.com/b/llobo/archive/2007/01/18/elements-visibility-inside-scrollviewer.aspx)

或者，如果您可以选择自定义 StackPanel，则
可以使用[数据可视化](http://www.codeproject.com/Articles/34405/WPF-Data-Virtualization)

如果需要确定元素是否在 Mouse 上可见，
可以使用 Visual Tree Helper 或[Mouse.DirectlyOver](http://msdn.microsoft.com/en-us/library/system.windows.input.mouse.directlyover%28v=vs.85%29.aspx)。

[wpf 查找控件的方法](https://stackoverflow.com/questions/636383/wpf-ways-to-find-controls)

[VisualTreeHelper.HitTest](http://msdn.microsoft.com/en-us/library/ms608753.aspx)

[http://lukieb.blogspot.in/2008/07/visualtreehelperhittest.html](http://lukieb.blogspot.in/2008/07/visualtreehelperhittest.html)

[http://rongchaua.net/blog/c-wpf-hit-testing-example/](http://rongchaua.net/blog/c-wpf-hit-testing-example/)

# php - 从多个表中删除

> ID：10545617
> 
> 赞同：0
> 
> 时间：2012-05-11T04:50:57.900
> 
> 标签：php, mysql, codeigniter

所以我试图从多个表中删除（在这种情况下 6）。我尝试使用 INNER JOINS 在一个查询中从它们中删除所有行，但无法使其正常工作。

这是我令人讨厌的工作：

```
 // Delete course and everything linked to it (topics, badges, dotpoints, questions & answers)   
        $topic = $this->db->query("SELECT * FROM course_topics WHERE course_id = ".$row_id);    
        foreach ($topic->result() as $t)
        {
            $badge = $this->db->query("SELECT * FROM course_topic_badges WHERE topic_id = ".$t->id);    
            foreach ($badge->result() as $b)
            {
                $dotpoint = $this->db->query("SELECT * FROM course_topic_dotpoints WHERE badge_id = ".$row_id);
                foreach ($dotpoint->result() as $d)
                {
                    $question = $this->db->query("SELECT * FROM quiz_questions WHERE dotpoint_id = ".$d->id);
                    foreach ($question->result() as $q)
                    {
                        $answer = $this->db->query("SELECT * FROM quiz_answers WHERE question_id = ".$q->id);
                        foreach ($answer as $a)
                        {
                            $this->db->query("DELETE FROM quiz_answers WHERE question_id = ".$q->id);
                        }
                        $this->db->query("DELETE FROM quiz_questions WHERE dotpoint_id = ".$d->id);
                    }
                    $this->db->query("DELETE FROM course_topic_dotpoints WHERE badge_id = ".$b->id);
                }
                $query = $this->db->query("DELETE FROM course_topic_badges WHERE topic_id = ".$t->id);
            }
            $query = $this->db->query("DELETE FROM course_topics WHERE course_id = ".$row_id);
        }
        $query = $this->db->query("DELETE FROM courses WHERE id = ".$row_id); 
```

我怎样才能简化这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T05:10:14.200

您可以简化这一点：

```
$answer = $this->db->query("SELECT * FROM quiz_answers WHERE question_id = ".$q->id); 
foreach ($answer as $a) 
{ 
    $this->db->query("DELETE FROM quiz_answers WHERE question_id = ".$q->id); 
} 
```

只需 $this->db->query("DELETE FROM quiz_answers WHERE question_id = ".$q->id);

另一个选项（如果您有权限）是设置外键和“ON DELETE CASCADE”。[http://dev.mysql.com/doc/refman/5.5/en/innodb-foreign-key-constraints.html](http://dev.mysql.com/doc/refman/5.5/en/innodb-foreign-key-constraints.html)

否则，在不了解数据库结构的情况下，将很难推荐更多内容。您可以使用子选择，但您仍然需要一些级联。

另一种选择是更改数据库结构以包含基于多个字段的主键（例如 course_topic_dotpoints 将是“topic_id，badge_id，dotpoint_id”），然后您可以一次性删除更多 - 但这可能需要相当多的更改.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T05:26:34.607

```
you need to SET FOREIGN_KEY_CHECKS = 0;
you can read more dev.mysql.com/doc/en/innodb-foreign-key-constraints.html
SET @BACKUP_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS; 
SET @@FOREIGN_KEY_CHECKS=0;

-- Do stuff here

SET @@FOREIGN_KEY_CHECKS=@BACKUP_FOREIGN_KEY_CHECKS;
SET @BACKUP_FOREIGN_KEY_CHECKS=NULL; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T06:42:11.153

好吧，我为自己创建了一个函数，它将从多个表中删除这是它

```
 function delete_multiple_rows($table    ,   $condition  ,   $join_condition)
    {
        $table_count    =   count($table);
        $join_count     =   count($join_condition) + 1; 

        if($table_count ==  $join_count)
        {
            if(count($condition)>0)
            {
                $delete_query    =  'DELETE '.  implode(' , ',$table)   .' FROM '.$table[0];

                $counter    =   1;
                foreach($join_condition as $key => $value)
                {
                    $delete_query   .=  ' LEFT JOIN '   .   $table[$counter]    .   ' ON '  .   $key    .   ' = '   .   $value;
                    $counter++;
                }

                $condition_counter  =   1; 

                foreach($condition as $key  => $value)
                {
                    if($condition_counter > 1)
                    {
                        $delete_query   .=  ' AND ';
                    }else{
                        $delete_query   .=  ' WHERE ';
                    }
                    $delete_query   .=  $key    .   ' = '   .   $value;
                    $condition_counter++; 
                }           
                $delete_query;              
                $this->db->query($delete_query);

            }else{
                echo 'This query requires at least 1 where condition.';
            }       
        }else{

            $table_count    =   count($table)   -   1;
            echo 'At least '    .   $table_count    .   ' join conditions must be provided.';
        }
    } 
```

如何使用

这些是控制器方法参数

```
$table  =   array('table1','table2','table3');
$condition  =   array('id'=>1,'2nd_condition'=>'blah');
$join_condition =   array(
                    'table1.column' =>  'table2.column',
                    'table1.column' =>  'table3.column'
                    ); 
```

这很完美

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-11T14:51:32.343

您可能应该在 mysql 数据库中设置一些触发器，而不是发送查询。

> 分隔符 $
> CREATE TRIGGER Trigger_Name BEFORE DELETE ON some_table
> FOR EACH ROW BEGIN DELETE FROM some_other_table WHERE some_id = NEW.id;
> 结束 $

将它放在 PHPMYADMIN 中的 SQL 中，它将创建一个名为 Trigger_Name 的触发器（并不重要）。

Every time you execute a delete function on some_table, it will delete the row in some_other_table with the id you have.

read [http://dev.mysql.com/doc/refman/5.0/en/create-trigger.html](http://dev.mysql.com/doc/refman/5.0/en/create-trigger.html) for more information.

# css - CSS3 验证器在渐变代码上显示 5 错误

> ID：10545622
> 
> 赞同：1
> 
> 时间：2012-05-11T04:51:30.723
> 
> 标签：css

当我尝试通过 CSS3 W3.org Validator 验证我的 Gradient css 时，它显示错误

**对不起！我们发现了以下错误（5）**

我的代码是

```
background: linear-gradient(top, #1e5799 0%,#2989d8 50%,#207cca 51%,#7db9e8 100%); 
```

错误[http://www.freeimagehosting.net/uy82i](http://www.freeimagehosting.net/uy82i)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-30T04:50:09.030

好吧，Rizwan，首先，您使用的网站[http://jigsaw.w3.org/css-validator/#validate_by_input](http://jigsaw.w3.org/css-validator/#validate_by_input)不完全支持 CSS3。

来自：[关于 CSS 验证器](http://jigsaw.w3.org/css-validator/about.html)

> **那么，这是关于什么是正确的 CSS 什么不是的权威？**
> 
> 不。它是一个有用且可靠的工具，但它是一个软件工具，并且像所有软件一样，它也有一些错误和问题。层叠样式表的实际参考是 CSS 规范。
> 
> 默认情况下，此验证器会根据 CSS 2.1 规范中定义的语法、属性和值检查样式表，但可以使用选项检查其他 CSS 配置文件。

如果您查看[错误和问题](https://www.w3.org/Bugs/Public/)，您会发现以下错误：[linear-gradient as a background-image](https://www.w3.org/Bugs/Public/show_bug.cgi?id=16235)，它无法识别线性渐变。

-webkit-gradient 是特定于浏览器的，w3.org 验证器将无法识别它。

最后的建议，不要过分依赖验证器，它们可能会帮助您发现错误，但它们并非 100% 正确。对于 CSS3，最好在浏览器中测试这些属性并查看它们是否正常工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-31T07:07:23.193

W3 渐变在 -webkit-gradient 上给你错误，因为它只支持谷歌浏览器 w3.org 只验证那些在所有浏览器中验证的样式，如字体、宽度、高度

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T12:19:05.023

你所拥有的很好。它引发这些错误的唯一原因是它尚未最终确定，因此验证者认为这不存在。您可以尝试从[令人印象深刻](http://www.impressivewebs.com/css3-linear-gradient-syntax/)的webse.com中尝试不同的浏览器支持。如果你这样做，它会在网站上运行它只是不会认为它在验证器中是正确的，因为那个命令的东西还没有最终确定。希望这有帮助！伊桑·布劳威尔

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-04T23:47:54.670

**听听人们在告诉你什么**；linear-gradient 还不是 CSS3 规范的一部分，因此它被正确地标记为无效代码。

多个浏览器已经实现了他们自己的标签版本（moz-、webkit-等），因此他们可以及早提供这些功能。一旦线性渐变完全设计并被 CSS3 规范接受，这些供应商特定的前缀将消失，线性渐变在 W3C 验证工具中将不再无效。

在那之前，您所能做的就是提供特定于供应商的标签、CSS3 标准标签和旧浏览器后备。此外，根据您的判断，与您的客户进行友好的聊天可以大有帮助。尝试解释您正在使用的前沿代码确实为使用旧浏览器的用户提供了优雅的回退（它是对的吗？）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-29T16:24:28.380

它显示一个错误，因为`-webkit-gradient`它不是由 CSS3 定义的。它特定于基于 WebKit 的浏览器，例如 Chrome。

尝试`linear-gradient`改用。但是，目前我所知道的浏览器都没有支持它。

任何以`-webkit-`、`-moz-`、`-o-`或开头的内容`-ms-`都特定于浏览器。他们这样做是为了支持尚未最终确定的新功能或规范。

[http://www.colorzilla.com/gradient-editor/](http://www.colorzilla.com/gradient-editor/)是创建跨浏览器渐变的绝佳工具。

# php - 鼠标悬停下拉数据

> ID：10545626
> 
> 赞同：0
> 
> 时间：2012-05-11T04:51:48.927
> 
> 标签：php, javascript, html

我正在编写一个 php 页面，当鼠标悬停在链接上时，更多链接和一些信息应该下拉。问题是，我不知道该怎么做。

我已经输入了一些 javascript，我可以得到我想要下拉的 div 的 id。但是，设置可见性不起作用，因为这只会使该块出现或消失。我需要添加和删除块吗？如果解决方案不需要重新加载页面，我更愿意，并且 css 充其量是最后的手段。

```
<script type="text/javascript">
function showElement(id){
    document.getElementById(id).style.visibility = "visible";
}
function hideElement(id){
document.getElementById(id).style.visibility = "hidden";
}
</script> 
```

对于那些建议我使用 jquery 的人，这是我的尝试，基于你给我的内容和一些谷歌搜索：

```
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript">
    $(document).ready( function() {
        $('a#').each( function(){
            var $id = $(this).attr('id');
            $('a#'+$id).hover(function(){
                $('div#'+$id).toggle();
            });
        });
    });
    </script> 
```

它不起作用。诚然，这并不奇怪，因为我在昨天之前从未看过 jquery。不过，我不知道它有什么问题（可能很多事情）。它试图做的是遍历所有链接，然后将鼠标悬停在上面时，应显示具有相同名称的 div。或者这就是理论。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T05:13:30.540

请考虑使用像[jquery](http://jquery.com/)这样的 javascript 库来操作 dom 元素。下面是一个非常基本的`hover`函数示例。

[http://jsfiddle.net/LC7Fy/1/](http://jsfiddle.net/LC7Fy/1/)

查看[jquery 文档](http://docs.jquery.com/Main_Page)以获取其他使用示例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T05:40:43.780

您的 javascript 代码中有拼写错误。你用过`getElemtneById`，但应该是`getElementById`。

并用于`style.visibility = "visible";`使必须是`visiblity:hidden`css 属性的可见 div 或 span 。那么只有这样才能工作。如果有，`display:none`那么您可以使用 javascript，如下所示。

```
<script type="text/javascript">
 function showElement(id){
    document.getElementById(id).style.display = "block";
 }
 function hideElement(id){
    document.getElementById(id).style.display = "none";
 }
 </script> 
```

希望对你有帮助，谢谢

# c# - C# datetime 午夜时间格式

> ID：10545631
> 
> 赞同：3
> 
> 时间：2012-05-11T04:52:43.017
> 
> 标签：c#

我想运行一个报告，我想将参数传递为昨天上午 12 点（午夜）的开始时间和今天凌晨 12 点（午夜）的结束日期，如何在 c# 中以日期时间格式获取午夜时间

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-11T04:56:01.800

没有任何时间的当前日期（午夜）

```
DateTime.Today 
```

昨天午夜

```
DateTime.Today.AddDays(-1) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-11T04:58:24.527

[日期时间.今天](http://msdn.microsoft.com/en-us/library/system.datetime.today.aspx)

> 设置为今天日期的对象，时间组件设置为 00:00:00。

```
Console.Write(DateTime.Today); 
```

输出：

> 2012 年 5 月 11 日上午 12:00:00

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-11T04:57:44.823

答案就在这里。只是你必须正确搜索。无论如何这里就是答案，只需使用

DateTime.Today 为今天的日期

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-11T05:02:54.217

你如何通过以下格式？`yyyy-MM-dd HH:mm:ss`所以如果应用在你的代码中：

应该`2012-05-12 00:00:00`是`2012-05-13 00:00:00`

不要忘记包括时间。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-05-11T05:30:29.270

```
From Date: DateTime.Today.AddDays(-1)
To Date:   DateTime.Today 
```

# php - PHP str.replace：一次两个或多个？

> ID：10545632
> 
> 赞同：0
> 
> 时间：2012-05-11T04:52:45.237
> 
> 标签：php, str-replace

假设我有一个这样的字符串：

> $str = "{aaa,aa,a,aaaaaaaa,aaaaaaa,aaaaaaa}";

我想同时**删除`{`&只`}`使用`str_replace`一次**.. 可能吗？

我试过了

> $str = str_replace ('}', '{', '', $str);
> 
> $str = str_replace('}'&'{', '', $str);
> 
> $str = str_replace ('}'||'{', '', $str);
> 
> $str = str_replace ('}''{', '', $str);

没有一个工作...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T04:56:01.173

```
$str = str_replace(array('}', '{'), '', $str); 
```

[`str_replace`](http://php.net/str_replace)接受数组作为它的第一个和第二个参数

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-11T04:57:49.987

你可以给一个数组来替换 str 看看

```
$search = array("}", "{");
$text= str_replace($search, "", $text); 
```

在这里阅读：[str-replace](http://www.php.net/manual/en/function.str-replace.php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-11T04:56:03.723

```
str_replace (array('}', '{'), '', $str); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-11T04:57:40.503

```
$str = str_replace(array('{', '}'), '', $str); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-11T04:55:49.393

您想要做的是使用 preg_replace 函数，而不是使用正则表达式一次替换多个项目。您想要做的可以通过以下方式完成：

```
$str = preg_replace('/({|})/', '', $str); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-05-11T05:06:08.893

$search = 数组("}", "{"); $text=str_replace($search, "", $text);

你可以阅读更多：- [http://php.net/manual/en/function.str-replace.php](http://php.net/manual/en/function.str-replace.php)

例子

```
<?php
// Order of replacement
$str     = "Line 1\nLine 2\rLine 3\r\nLine 4\n";
$order   = array("\r\n", "\n", "\r");
$replace = '<br />';

// Processes \r\n's first so they aren't converted twice.
$newstr = str_replace($order, $replace, $str);

// Outputs F because A is replaced with B, then B is replaced with C, and so on...
// Finally E is replaced with F, because of left to right replacements.
$search  = array('A', 'B', 'C', 'D', 'E');
$replace = array('B', 'C', 'D', 'E', 'F');
$subject = 'A';
echo str_replace($search, $replace, $subject);

 // Outputs: apearpearle pear
// For the same reason mentioned above
$letters = array('a', 'p');
$fruit   = array('apple', 'pear');
$text    = 'a p';
$output  = str_replace($letters, $fruit, $text);
echo $output;
?> 
```

# mfc - MFC 中 CStringData GetData() 中的异常错误

> ID：10545633
> 
> 赞同：-1
> 
> 时间：2012-05-11T04:52:48.347
> 
> 标签：mfc, cstring

在我的函数中，我将一个全局 CString 分配给头文件中声明的变量。但它显示未处理的异常错误。我的代码

```
CString sReceiceStr = _T("");   //Global variable

void CChatServerDlg::AddMsg( userinfo *udata, CString sIP)
{

sReceiceStr.Format("%s : %s  : %s : %s : %s",udata->cSessionID ,udata->cTraineeName, udata->cPassword, udata->cClientServerMsg, udata->cInsName);

sTempassign = sReceiceStr;   //sTempassign is declared in Headerfile of this dlg class 
```

它在上面的行中显示错误。IT 在 CStringData GetData() 中显示错误

请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T07:08:28.630

尝试静态转换数据之类的，

```
sReceiceStr.Format( _T("%s"), (LPCTSTR)udata->cSessionID); 
```

# sql - SQL Server：在单个事务中处理大量数据

> ID：10545636
> 
> 赞同：0
> 
> 时间：2012-05-11T04:53:03.710
> 
> 标签：sql, sql-server, transaction-log

我在 SQL Server 上有一个非常大的表，大约有 10 亿行，我们需要使用这样一个简单的代码将数据从这个表迁移到另一个表：

```
SET XACT_ABORT ON
BEGIN TRAN

INSERT INTO TargetTable
SELECT Col1, Col2, ... ColN 
FROM 
    HugeTable ht 
    INNER JOIN AnotherHugeTable aht ON aht.ID = ht.ColN
WHERE ColX IS NOT NULL

COMMIT TRAN 
```

单笔交易可以吗？在这种情况下你会怎么做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-11T04:59:07.663

这将取决于您运行它的环境和业务需求。

请记住，您的事务日志可能会变得很大……（您多久备份一次 TLog？）

如果可能的话，分成 10,000 个（或 100,000 个）的批次。

如果你的表有数十亿行，你应该研究表分区（需要企业版的 SQL Server）。

# ruby-on-rails - 如何访问habtm关系中的数据

> ID：10545640
> 
> 赞同：0
> 
> 时间：2012-05-11T04:53:33.480
> 
> 标签：ruby-on-rails, ruby-on-rails-3

尝试实现 has_and_belongs_to_many 关系 一个文档有很多组 一组有很多文档

创建了一个连接表调用documents_group

模型

```
class Group < ActiveRecord::Base
  has_many :users
  has_and_belongs_to_many :documents
end 
```

模型 2

```
class Documents < ActiveRecord::Base
  belongs_to :user
  has_and_belongs_to_many :groups
  has_attached_file :avatar, :styles => { :medium => "300x300>", :thumb => "100x100>" }
  before_post_process :resize_images

  def image?
    avatar_content_type =~ %r{^(image|(x-)?application)/(bmp|gif|jpeg|jpg|pjpeg|png|x-png)$}
  end

private

  def resize_images
    return false unless image?
  end
end 
```

控制器创建 def create @document = Documents.all

```
 @document = Documents.create( params[:document] )

 @document.user_id = current_user.id
 @document.save
 redirect_to root_path
 end 
```

迁移是

```
 def self.up
     create_table :documents_groups ,:id => false do |t|
      t.integer :documents_id
      t.integer :group_id
     end

    end 
```

现在我想访问所有文档对应一个组怎么办

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T05:11:55.837

要访问一个组的所有文档，只需调用`#documents`特定的组模型。例如：

```
Group.find(params[:id]).documents #=> Collection of groups documents as Array 
```

不过，您可能会遇到问题，因为您似乎从未将新文档分配给组。您可以通过多种方式做到这一点，一种可能的方式是在`@document.save`in之前添加以下内容`DocumentsController#create`（假设您有一个名为 的参数`group_id`）

```
@document.group = Group.find(params[:group_id]) 
```

# django - 在 Windows 上设置 Celery 以运行 Django Cron 作业

> ID：10545641
> 
> 赞同：1
> 
> 时间：2012-05-11T04:53:51.330
> 
> 标签：django, celery, django-celery

我正在 windowsxp、sp2 上的 Django 1.3.1 中开发应用程序。

我需要每隔一段时间发送邮件。因此我选择了芹菜来做这件事。

但是我没有得到任何关于 celery 的正确文档以及如何在 windows 上将它与 django 集成。

请发送任何链接，指导我从在 Windows 上使用 celery 的第一步开始。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T04:55:30.697

尝试通过任务管理器调用 django 命令很容易实现 [https://docs.djangoproject.com/en/dev/howto/custom-management-commands/](https://docs.djangoproject.com/en/dev/howto/custom-management-commands/)

所以创建你的邮件命令并从任务管理器任务中调用它

# java - 如何在android中解析XML并将其存储在类中

> ID：10545642
> 
> 赞同：0
> 
> 时间：2012-05-11T04:53:54.943
> 
> 标签：java, android, xml, xml-parsing, android-xml

```
<layout>

<menu1>
    <title>Oil Painting</title>
    <sectioncount>5</sectioncount>
    <cost>0</cost>
    <appcode>0</appcode>
    <section1.1>
        <title>Oil Painting basics</title>
        <subtitle>9 minutes 57 secs*!How to do Oil Painting</subtitle>
        <video1.1></video1.1>
        <imgvideo>Landscape19.jpg</imgvideo>
        <description>video1.html</description>
    </section1.1>
    <section1.2>
        <title>Advacned Oil Painintg</title>
        <subtitle>6 minutes 23 secs*!Advanced Oil Painting</subtitle>
        <video1.2></video1.2>
        <imgvideo>Landscape19.jpg</imgvideo>
        <description>video1.html</description>
    </section1.2>
    <section1.3>
        <title>Watercolors basic</title>
        <subtitle>9 minutes 51 secs*!How to use watercolors</subtitle>
        <video1.3></video1.3>
        <imgvideo>fifa.jpg</imgvideo>
        <description>video1.html</description>
    </section1.3>
    <section1.4>
        <title>Watercolors Advanced</title>
        <subtitle>3 minutes 46 secs*!Advacned training- Watercolors</subtitle>
        <video1.4></video1.4>
        <imgvideo>fifa.jpg</imgvideo>
        <description>video1.html</description>
    </section1.4>
    <section1.5>
        <title>Enamel Painting Basic</title>
        <subtitle>1 minute 56 secs*!Advacned training- Watercolors</subtitle>
        <video1.5></video1.5>
        <imgvideo>fifa.jpg</imgvideo>
        <description>video1.html</description>
    </section1.5>     
</menu1>

<menu2>
    <title>Graphite Pencil Sketching</title>
    <sectioncount>4</sectioncount>
    <cost>.99</cost>
    <appcode>0</appcode>
    <section2.1>
        <title>Basic Graphite Pencil Sketching</title>
        <subtitle>5 minutes 29 secs*!What you need to know</subtitle>
        <video2.1></video2.1>
        <imgvideo>fifa.jpg</imgvideo>
        <description>video1.html</description>
    </section2.1>
    <section2.2>
        <title>Advanced Graphite Pencil Sketching</title>
        <subtitle>3 minutes*!The proffessional way</subtitle>
        <video2.2></video2.2>
        <imgvideo>fifa.jpg</imgvideo>
        <description>video1.html</description>
    </section2.2>
    <section2.3>
        <title>Graphite Pencil Tools</title>
        <subtitle>5 minutes*!what should you use</subtitle>
        <video2.3></video2.3>
        <imgvideo>Landscape19.jpg</imgvideo>
        <description>video1.html</description>
    </section2.3>
    <section2.4>
        <title>Do's and Don't of Graphite Pencil Sketching</title>
        <subtitle>5 minutes*Cautions and precautions</subtitle>
        <video2.4></video2.4>
        <imgvideo>Landscape19.jpg</imgvideo>
        <description>video1.html</description>
    </section2.4>
</menu2>

<menu3>
    <title>Pen Sketching</title>
    <sectioncount>3</sectioncount>
    <cost>0</cost>
    <section3.1>
        <title>Basic Pen Sketching</title>
        <subtitle>2 minutes*!what you need to know</subtitle>
        <video3.1></video3.1>
        <imgvideo>fifa.jpg</imgvideo>
        <description>video1.html</description>
    </section3.1>
    <section3.2>
        <title>Advanced Pen Sketching</title>
        <subtitle>3 minutes*!proffessional approach</subtitle>
        <video3.2></video3.2>
        <imgvideo>fifa.jpg</imgvideo>
        <description>video1.html</description>
    </section3.2>
    <section3.3>
        <title>Pen Sketching Tools</title>
        <subtitle>3 minutes*!which pens to use</subtitle>
        <video3.3></video3.3>
        <imgvideo>fifa.jpg</imgvideo>
        <description>video1.html</description>
    </section3.3>
</menu3>
</layout> 
```

1.  我想解析这个 xml 代码
2.  我可以得到所有的值，但是我有问题如何将它存储在类中并检索它并在列表视图中显示它。我可以获得标题，部分代码。但问题是如何获取多个部分的子节点并将其存储在 ArrayList 中。
3.  请帮我解析这个xml。我有我正在处理的代码，但它太乱了。但如果有人想看到，我可以展示出来。

-

```
public class twitterFeedHandler extends DefaultHandler

StringBuilder sb = null;
String ret = "";
boolean bStore = false;
int howMany = 0;
Context context;
String a;
boolean config = false;
boolean menu = false;
Boolean section = false;

String elementValue = null;
Boolean elementOn = false;

private final static String TAG_Layout = "layout";
private final static String TAG_COnfig = "configuration";
private final static String TAG_Menu = "menu";

public static XMLGettersSetters data = null;
public static XMLGettersSettersMenu datamenu = null;

twitterFeedHandler() {
}

}

@Override
public void startDocument() throws SAXException {

}

@Override
public void endDocument() throws SAXException {

}

@Override
public void startElement(String namespaceURI, String localName,
        String qName, Attributes atts) throws SAXException {

    try {

        elementOn = true;

        if (localName.equals(TAG_Layout)) {
            data = new XMLGettersSetters();
            datamenu = new XMLGettersSettersMenu();
        }if (localName.equals(TAG_COnfig)) {

            config = true;
            Log.i("Config localName", "configuration start");

        } else if (localName.equals(TAG_Menu)) {

            Log.i("Menu localName", "menu1 start");

            if (localName.equals("section1")) {
                if(localName.equals("stitle1"))
                Log.i("Section localName", "section start");
                section = true;

            }

            menu = true;

            Log.i("DATA --- > Menu ", datamenu.getCompany().toString());
        }

    } catch (Exception ee) {

        Log.d("error in startElement", ee.getStackTrace().toString());
    }
}

@Override
public void endElement(String namespaceURI, String localName, String qName)
        throws SAXException {

    if (localName.equals("configuration")) {

        Log.i("Config localName", "configuration end");
        bStore = false;
    } else if (localName.equals("menu")) {
        Log.i("Menu localName", "menu end");

        if (localName.equals("section1")) {
            Log.i("Section localName", "section end");
            section = false;
        }
        menu = false;
    }
     if(localName.equals("title"))
         datamenu.setTitle(elementValue);
     if(localName.equals("sectioncount"))
         datamenu.setCompany_SectionCount(elementValue);
     if(localName.equals("section1"))
         if(localName.equals("stitle1"))
             datamenu.setSection(elementValue);

     Log.i("Menu localName214213132132132"," " + datamenu.getCompany_SectionCount() + " size " + datamenu.getSection());
    elementOn = false;

    }

@Override
public void characters(char[] ch, int start, int length)
        throws SAXException {

    if (elementOn) {
        elementValue = new String(ch, start, length);
        Log.i("--------->Name", section + " " );

        if (config && menu == false)
            data.setCompany(elementValue);
        else 
            datamenu.setCompany(elementValue);

        elementOn = false;
    }

}

public class XMLGettersSetters {
    private ArrayList<String> company = new ArrayList<String>();

    public ArrayList<String> getCompany() {
        return company;
    }

    public void setCompany(String company) {
        this.company.add(company);

    }
}

public class XMLGettersSettersMenu {
    private ArrayList<String> company = new ArrayList<String>();
    private ArrayList<String> title = new ArrayList<String>();
    private ArrayList<String> section_count = new ArrayList<String>();
    private ArrayList<String> section = new ArrayList<String>();

    public ArrayList<String> getCompany() {
        return company;
    }

    public void setCompany(String company) {
        this.company.add(company);

    }

    public void setTitle(String company) {
        this.title.add(company);

    }

    public ArrayList<String> getTitle() {
        return title;
    }

    public void setCompany_SectionCount(String company) {
        this.section_count.add(company);

    }

    public ArrayList<String> getCompany_SectionCount() {
        return section_count;
    }

    public void setSection(String company) {
        this.section.add(company);

    }

    public ArrayList<String> getSection() {
        return section;
    }
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T08:57:54.143

i used this code to parse xml

```
xml is like this

<point>
  <ImageFile name="hi"/>
</point>

NodeList image = doc.getElementsByTagName("Point");
            Node singleTerminalNode = image.item(i);
            Element firstLevel = (Element)singleTerminalNode;
            NodeList value1Nodes = (firstLevel).getElementsByTagName("ImageFile");
            imagess = ((Element)value1Nodes.item(imageindex)).getAttribute("name");
            System.out.println("image index issssssssss " + imageindex); 
```

hope this will help you

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T05:31:58.963

使用 SAX 解析器；这是最好的选择。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T05:55:22.970

> 我想解析这个 xml 代码

=> 实现 SAX 解析器

> 我可以获取所有值，但我有问题如何将它存储在类中并检索它并在列表视图中显示它。我可以获得标题，部分代码。但问题是如何获取多个部分的子节点并将其存储在 ArrayList 中。

对于这个问题，我建议您创建一个具有标题、副标题和其他属性的类，并为其创建 Getter/setter 方法。

**为什么我建议这个解决方案？** 因为您正在尝试创建不同的 ArrayList：

```
private ArrayList<String> company = new ArrayList<String>();
private ArrayList<String> title = new ArrayList<String>();
private ArrayList<String> section_count = new ArrayList<String>();
private ArrayList<String> section = new ArrayList<String>(); 
```

相反，您可以创建单个 ArrayList 并每次添加对象。

在解析整个 XML 结束时，您将拥有包含多个对象的 ArrayList，现在您可以使用此 ArrayList 为 ListView 创建适配器。

# c++ - 返回 boost multi_index 接口时 C++ 中的 const 混淆

> ID：10545644
> 
> 赞同：0
> 
> 时间：2012-05-11T04:54:04.203
> 
> 标签：c++, boost, constants, boost-multi-index

我在对变量进行 const 操作时遇到问题。我已将问题简化为以下程序：

```
#include <string>
#include <iostream>
#include <boost/multi_index_container.hpp>
#include <boost/multi_index/member.hpp>
#include <boost/multi_index/ordered_index.hpp>
#include <boost/multi_index/sequenced_index.hpp>

using boost::multi_index::multi_index_container;
using boost::multi_index::ordered_non_unique;
using boost::multi_index::ordered_unique;
using boost::multi_index::indexed_by;
using boost::multi_index::member;
using boost::multi_index::sequenced;

struct employee_entry
{
   employee_entry( const std::string& first,
                   const std::string& last,
                   long id):
                   first_name_(first),
                   last_name_(last),
                   id_(id)
   {}
   std::string first_name_;
   std::string last_name_;
   long id_;
};

typedef multi_index_container<
employee_entry, indexed_by<
   ordered_unique<member<employee_entry, std::string , &employee_entry::first_name_> >
   , ordered_non_unique<member<employee_entry, std::string , &employee_entry::last_name_> >
   , ordered_non_unique<member<employee_entry, long , &employee_entry::id_> >
    ,sequenced<>
   >
> employee_set;

using boost::multi_index::nth_index;
using boost::multi_index::get;

typedef nth_index<employee_set, 0>::type first_name_view;

class A
{
private:
    employee_set m_employees;
public:
    first_name_view& get()
    {
        return m_employees.get<0>();
    }

};

int main()
{
    A *a = new A;
   first_name_view& fnv = a->get();

   fnv.insert(employee_entry("John", "Smith", 110));
   fnv.insert(employee_entry("John1", "Hunk", 97));

   const A *a1 = a;
   first_name_view& fdv = a1->get();

   for(first_name_view::iterator it = fdv.begin(), it_end(fdv.end()); it != it_end; ++it)
   {
      //....
   }
   return 0;
} 
```

假设变量**a1 必须是常量**，我得到编译错误：

```
$ c++ dr2.cpp 
dr2.cpp: In function ‘int main()’:
dr2.cpp:66:35: error: passing ‘const A’ as ‘this’ argument of ‘first_name_view& A::get()’ discards qualifiers [-fpermissive] 
```

如果您能帮我解决问题，我将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-11T05:18:52.567

你需要一个函数的`const`重载`get()`，你可以在一个`const`对象上调用它；它必须返回一个`const`引用，因为它只能调用以下的`const`重载`employee_set::get()`：

```
class A
{
private:
    employee_set m_employees;
public:
    first_name_view& get()
    {
        return m_employees.get<0>();
    }
    first_name_view const & get() const   //< Add this
    {
        return m_employees.get<0>();
    }
}; 
```

然后你需要用它来初始化一个`const`引用：

```
first_name_view const & fdv = a1->get();
             // ^^^^^ add this 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-11T04:57:44.033

`a1`是一个常量指针，但该方法`A:get()`可能会修改对象的内容，因为该**方法未标记为`const`**.

在参数列表之后添加一个 const 限定符：

```
first_name_view& get() const
{
    return m_employees.get<0>();
} 
```

# c - 如何知道在编译过程中是否定义了宏？

> ID：10545645
> 
> 赞同：0
> 
> 时间：2012-05-11T04:54:19.460
> 
> 标签：c, macros

让我们在代码的某些部分中说已经定义了一个宏。在编译期间，我想了解它是否已定义并正在使用。我该怎么做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-11T04:58:58.583

用指令检查并用`#ifndef`指令抛出错误`#error`：

```
#ifndef A_MUST_HAVE_MACRO
#error "A must have macro not defined"
#endif 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-11T04:56:44.940

有两种方法：

```
#ifdef MACRO
// ... (code here will only be compiled if macro is defined)
#endif 
```

或者

```
#if defined(MACRO)
// ...
#endif 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-11T05:00:05.827

如果您使用的是 gcc 编译器，那么您可以通过使用 -E 选项了解它是否正在使用（并且间接地，如果它已定义）。gcc 的手册页说明如下：

> ```
>  -E  Stop after the preprocessing stage; do not run the compiler proper.  
>    The output is in the form of preprocessed source code, which is sent 
>    to the standard output.  Input files which don't require preprocessing 
>    are ignored. 
> ```

我认为其他编译器会有类似的选项。尝试找到一个在预处理阶段（宏被替换的地方）之后停止的选项。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-11T04:58:12.443

如果您希望在某些已定义或未定义的情况下停止编译，请使用 C 预处理器的[`#error`](http://gcc.gnu.org/onlinedocs/cpp/Diagnostics.html)指令。该页面的示例：

```
 #ifdef __vax__
 #error "Won't work on VAXen.  See comments at get_last_object."
 #endif 
```

该消息将导致编译错误。

# algorithm - Web 应用程序的实时预测建模工具

> ID：10545646
> 
> 赞同：2
> 
> 时间：2012-05-11T04:54:33.947
> 
> 标签：algorithm, prediction

我有一个购物网站。我想建立一个简单的预测模型来预测用户在单次访问时购买某种产品的可能性（在每个页面上花费的时间，她来自哪里，她红了多少评论等），当他可能留下一页等

在 Ruby on Rails、Python 或 Java 中有哪些可用的工具来完成这项任务？典型的统计建模技术（例如逻辑回归、线性回归）是否适用于这种情况？

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-11T12:41:37.267

我会尝试将问题简化为分类问题 - 并使用[机器学习](http://en.wikipedia.org/wiki/Machine_learning)现有工具来获得答案。

以下是您需要采取的一些步骤：

1.  使用您的数据并**从中提取定义的特征**。例如，一个特征可以是：访问的页面数或在网站上花费的时间，或者您可以从数据中提取的任何其他内容。
2.  **定义您想要“预测”**（分类）的特征是什么。一个简单的例子可能是：购买产品（让我们从购买任何产品开始，您可以稍后尝试增强它）。
3.  **创建一个训练集**。训练集包含尽可能多的分类示例。（例如：用户我访问了 5 个不同的页面并花了 4 分钟，已知分类：没有购买产品）。
4.  鉴于此信息，您可以**运行任何现有的分类算法**，以尝试预测非分类用户所做的事情，仅考虑她的特征。

**您可以为此使用的一些算法的简短列表：**

1.  [SVM](http://en.wikipedia.org/wiki/Support_vector_machine) - 不直观 - 但被许多可用的最佳分类算法认为。
2.  [K 最近邻](http://en.wikipedia.org/wiki/K-nearest_neighbor_algorithm)- 非常直观且易于编程，而且训练集可以很容易地迭代增加，但如果特征数量很多，通常是一个糟糕的决定。
3.  [决策树](http://en.wikipedia.org/wiki/Decision_tree_learning)算法，尤其是[C4.5](http://en.wikipedia.org/wiki/C4.5)：允许非常快速的分类，并且生成的树对人类来说是直观且可读的。

[**我不知道 Ruby on rails 或 python 工具，但在 Java 中 - 有一个名为Weka**](http://www.cs.waikato.ac.nz/ml/weka/)的开源项目，它具有这些分类算法等等。

笔记：

您可以通过在训练集上使用[交叉验证](http://en.wikipedia.org/wiki/Cross-validation_%28statistics%29)来评估您的算法并获得您的[混淆矩阵](http://en.wikipedia.org/wiki/Confusion_matrix)（评估算法的正确程度和错误程度以及如何） 。

# android - 在 samsung tab 10.1 上安装的应用程序未在 samsung tab 7.7 上安装

> ID：10545647
> 
> 赞同：2
> 
> 时间：2012-05-11T04:54:44.180
> 
> 标签：android

我有一个获取设备 ID 的应用程序。它正在安装在手机和三星平板电脑 10.1 上。但是当我的一位朋友尝试在三星 Galaxy Tab 7.7 上安装它时，它没有安装。这背后的原因可能是什么？获取设备ID的代码如下：`TelephonyManager telephonyManager = (TelephonyManager) mContex.getSystemService(Context.TELEPHONY_SERVICE) telephonyManager.getDeviceId()`提前致谢。

# c++ - 关于 boost::asio 套接字和阻塞

> ID：10545652
> 
> 赞同：3
> 
> 时间：2012-05-11T04:55:52.290
> 
> 标签：c++, sockets, boost, boost-asio

所以我尝试了 boost::asio 并测试了阻塞回声示例。他们似乎并没有完全阻止它。至少不像我预期的那样。

是否有可能摆脱任何类型的缓冲或您可以拥有的最小缓冲区大小是多少？看起来 10000 字节太小了。

以下代码在阻塞之前运行了 2 次写入。如果我在写入中添加 boost::asio::transfer_exactly(10000) 参数，它仍然是 2\. boost::asio::transfer_exactly(5000) 让我获得 5 次写入。

那么这个网络/io/asio 的东西是如何工作的呢？就像我只想发送一个字节并等待它到达另一端，而不需要任何额外的通信。

服务器：

```
boost::asio::io_service io_service;

tcp::acceptor a(io_service, tcp::endpoint(tcp::v4(), 12346));
tcp::socket sock(io_service);

a.accept(sock);
sock.non_blocking(false);
boost::asio::socket_base::send_buffer_size option(10000);
sock.set_option(option);

while(true) {
    char data[10000];

    boost::asio::socket_base::bytes_readable bytes_readable_cmd(true);
    sock.io_control(bytes_readable_cmd);
    std::size_t bytes_readable = bytes_readable_cmd.get();
    if(bytes_readable) {
        /**/
    }

    boost::asio::write(sock, boost::asio::buffer(data, 10000));
    printf("#\n");Sleep(10);
} 
```

客户：

```
boost::asio::io_service io_service;

tcp::resolver resolver(io_service);
tcp::resolver::query query(tcp::v4(), "localhost", "12346");
tcp::resolver::iterator iterator = resolver.resolve(query);

tcp::socket sock(io_service);
boost::asio::connect(sock, iterator);
sock.non_blocking(false); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-11T10:24:37.677

我认为在这种情况下，`write`实际上只有在底层缓冲区已满时才会阻塞。

[来自msdn](http://msdn.microsoft.com/en-us/library/windows/desktop/ms740149%28v=vs.85%29.aspx)的这句话在这里很合适：

> 发送功能的成功完成并不表示数据已成功交付和接收到接收者。该函数仅表示数据发送成功。
> 
> 如果传输系统中没有可用的缓冲区空间来保存要传输的数据，则 send 将阻塞，除非套接字已置于非阻塞模式。

我尝试写入超过 64KB（完全从 65537 开始），它在第一次调用时被阻塞。

这不是 Asio 的工作方式，而是 TCP 和套接字的工作方式。这个[答案](https://stackoverflow.com/a/8405794/1341535)也可能有帮助。

我想您需要从客户端显式发送收据确认，即推出您自己的应用层协议。

# php - 如何在使用 jquery 重新加载页面时使用 post 发送数据

> ID：10545657
> 
> 赞同：0
> 
> 时间：2012-05-11T04:56:19.393
> 
> 标签：php, jquery, post

我知道在使用 jquery 重新加载页面的一部分时使用 get 发送数据。

但是我需要在重新加载页面部分时使用 post 发送数据。这是我重新加载页面部分的代码

```
$("#show").fadeOut('slow').load("listusers.php?data"+data).fadeIn('slow'); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T04:58:43.783

从[文档](http://api.jquery.com/load/)中，

> 如果数据作为对象提供，则使用 POST 方法；否则，假定为 GET。

因此，假设这`data`是一个 javascript 对象，您可以`listusers.php`通过简单地传递它来发布：

```
$("#show").fadeOut('slow').load("listusers.php", data).fadeIn('slow'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T05:03:16.333

这会让我更干净，

```
$("#show").fadeOut('slow', function() {
  //load after fadeout
   $.post("listusers.php",{Data:data},function(data){
       //fade in after load
      $("#show").html(data).fadeIn('slow');
   });
}); 
```

# objective-c - 来自 iPod 库的 .m4a 原始数据未播放

> ID：10545658
> 
> 赞同：3
> 
> 时间：2012-05-11T04:56:40.067
> 
> 标签：objective-c, ios, m4a, avassetreader

所以我面临一个非常奇怪和奇怪的问题，想知道是否有其他人遇到过这个问题。我从手机音乐库中获取 MPMediaItem 的原始数据，然后通过 HTTP 将其发送到其他地方播放。我的问题出现的地方是，当我从 .m4a 类型的文件中获取原始数据时，它似乎缺少部分。例如，如果我从 iTunes 检查的原始文件是 7.4mb，那么从我的代码中得到的大小是 7.3mb。我做了一些研究，发现 .m4a 文件实际上是一个封装，我认为我没有得到文件的封装，只是原始音乐数据，因此它是不可识别的。这是我的代码，它为我提供了来自 MPMediaItem 的原始音乐数据

```
 NSError * error = nil;
                    MPMediaQuery *query = [MPMediaQuery albumsQuery];
                    NSArray * songs = query.items;  
                    MPMediaItem * song = [songs objectAtIndex:socket_data_index];  
                    AVURLAsset *songAsset = [AVURLAsset URLAssetWithURL:[song valueForProperty:MPMediaItemPropertyAssetURL] options:nil];
                    AVAssetReader * reader = [[AVAssetReader alloc] initWithAsset:songAsset error:&error];                  
                    AVAssetTrack * songTrack = [songAsset.tracks objectAtIndex:0];
                    AVAssetReaderTrackOutput * output = [[AVAssetReaderTrackOutput alloc] initWithTrack:songTrack outputSettings:nil];
                    [reader addOutput:output];                         
                    [output release]; 

                    [reader startReading];

                    while (reader.status == AVAssetReaderStatusReading)
                    {                            
                        AVAssetReaderTrackOutput * trackOutput = (AVAssetReaderTrackOutput *)[reader.outputs objectAtIndex:0];
                        CMSampleBufferRef sampleBufferRef = [trackOutput copyNextSampleBuffer];                            
                        if (sampleBufferRef)
                        {
                            CMBlockBufferRef blockBufferRef = CMSampleBufferGetDataBuffer(sampleBufferRef);

                            size_t length = CMBlockBufferGetDataLength(blockBufferRef);
                            NSMutableData * data = [[NSMutableData alloc] initWithLength:length];
                            CMBlockBufferCopyDataBytes(blockBufferRef, 0, length, data.mutableBytes);

                            [data_to_return appendData:data];
                            [data release];

                            CMSampleBufferInvalidate(sampleBufferRef);
                            CFRelease(sampleBufferRef);
                        }
                    }

                    if (reader.status == AVAssetReaderStatusFailed || reader.status == AVAssetReaderStatusUnknown)
                    {
                        // Something went wrong. Handle it.
                    }

                    if (reader.status == AVAssetReaderStatusCompleted)
                    {                         

                       return [[[HTTPDataResponse alloc] initWithData:data_to_return] autorelease];
                    }

                    [reader release]; 
```

我会并且将获得手机库中 .mp3 文件的正确数据，但是当涉及到 .m4a 时，它似乎缺少某些部分。

再次感谢您抽出宝贵时间帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T14:11:08.710

我遇到了同样的问题。AVAssetReader 仅返回原始音频数据。它适用于 .mp3，因为文件格式只是一堆帧，其中包含播放器播放文件所需的所有内容。您可能会注意到导出的文件中缺少所有 id3 信息。

.m4a 音频文件是包装 aac 音频数据的容器。您只收到了音频数据，没有进一步的信息，即采样率或搜索表。

您的问题的解决方法可能是使用 AVAssetExportSession 将 AVAssetTrack 导出到手机上的文件并从那里流式传输文件。我尝试了这个并编写了一个有效的 .m4a 文件。

以下代码基于[Apple 示例如何导出修剪后的音频资产](http://developer.apple.com/library/ios/#qa/qa1730/_index.html)：

```
// create the export session
AVAssetExportSession *exportSession = [AVAssetExportSession
                                       exportSessionWithAsset: songAsset
                                       presetName:AVAssetExportPresetAppleM4A];
if (nil == exportSession)
    NSLog(@"Error");

// configure export session  output with all our parameters
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *basePath = ([paths count] > 0) ? [paths objectAtIndex:0] : nil;
NSString *filePath = [NSString stringWithFormat: @"%@/export.m4a", basePath];

exportSession.outputURL = [NSURL fileURLWithPath: filePath]; // output path
exportSession.outputFileType = AVFileTypeAppleM4A; // output file type

[exportSession exportAsynchronouslyWithCompletionHandler:^{
    if (AVAssetExportSessionStatusCompleted == exportSession.status)
    {
        NSLog(@"AVAssetExportSessionStatusCompleted");
    }
    else if (AVAssetExportSessionStatusFailed == exportSession.status)
    {
        // a failure may happen because of an event out of your control
        // for example, an interruption like a phone call comming in
        // make sure and handle this case appropriately
        NSLog(@"AVAssetExportSessionStatusFailed");
    }
    else
    {
        NSLog(@"Export Session Status: %d", exportSession.status);
    }
}]; 
```

该解决方案的缺点是，while 文件必须写入磁盘。我仍在寻找更好的方法来处理 .m4a 文件。

# .net - 在 GotFocus 事件中选择 TextBox 的所有内容

> ID：10545660
> 
> 赞同：0
> 
> 时间：2012-05-11T04:57:00.603
> 
> 标签：.net, wpf, textbox, wpf-controls, focus

我正在开发 WPF 应用程序，其中有一些显示美元金额的文本框。每当焦点出现在文本框上时，我只想选择文本框中的所有内容。

为了达到同样的效果，我在“GotFocus”事件上使用了文本框的 SelectAll() 方法，但它不能按预期工作。

请让我知道如何才能发挥作用。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T07:29:19.827

您可以为此创建附加行为并将其用于所需的文本框。此处详细说明了此方法-

[http://eladm.wordpress.com/2009/04/02/attached-behavior/](http://eladm.wordpress.com/2009/04/02/attached-behavior/)

此类行为的代码也可[在此处](http://thumbler.googlecode.com/svn-history/r4/trunk/Thumbler/View/TextBoxBehavior.cs)和[此处获得](https://trac.cc.jyu.fi/projects/gko/browser/WPF/DrawAnywhere/trunk/DrawAnywhere/Utils/SelectAllOnFocus.cs?rev=268)

如果您希望应用程序中的所有文本框默认都具有此功能，请查看此处 -

[如何在焦点上选择 WPF 文本框中的所有文本](http://www.intertech.com/Blog/post/How-to-Select-All-Text-in-a-WPF-Content-on-Focus.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T09:55:34.640

在启动时，为文本框注册一个全局事件处理程序，例如

```
 EventManager.RegisterClassHandler(typeof(System.Windows.Controls.Primitives.TextBoxBase), UIElement.GotFocusEvent, new RoutedEventHandler(TextBoxBaseGotFocus)); 
```

TextBoxBaseGotFocus 方法是这样的：

```
 private static void TextBoxBaseGotFocus(object sender, RoutedEventArgs e)
{
     // Get the TextBoxBase
     var elem = sender as System.Windows.Controls.Primitives.TextBoxBase;
     if (elem != null)
     {
         elem.SelectAll();
     }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T05:19:56.247

您是否尝试过处理 FocusableChanged 事件 [http://msdn.microsoft.com/en-us/library/system.windows.uielement.focusablechanged.aspx](http://msdn.microsoft.com/en-us/library/system.windows.uielement.focusablechanged.aspx)

您可以在 FocusableChanged 事件处理程序中检查 IsFocused。如果 IsFocused 为真，则可以调用 SelectAll 以下是伪代码

```
textBox.FocusableChanged += (s,e) =>
{
   if(textBox.IsFocused)
     testBox.SelectAll();
} 
```

EDIT1
如上不起作用，您可以尝试 FocusManger.GetFocusedElement。
[确定焦点元素](http://blogs.msdn.com/b/luc/archive/2010/08/05/silverlight-wpf-debugging-determining-the-focused-element.aspx)

```
public DebugFocusedElementProxy()
{
    var timer = new DispatcherTimer();
    timer.Interval = TimeSpan.FromMilliseconds(100);
    timer.Tick += (o, ea) =>
    {
        var fe = FocusManager.GetFocusedElement();
        if (fe != null)
        {
            var element = fe as FrameworkElement;
            if (!string.IsNullOrEmpty(element.Name) &&
                 String.Equals(element.Name, textBox))
            {
                textBox.SelectAll();
            }
        }
    };
    timer.Start();
} 
```

//注意 textBox.SelectAll 可能需要在[Dispatcher Thread上调用](http://www.switchonthecode.com/tutorials/working-with-the-wpf-dispatcher)

# actionscript-3 - 为什么没有皮肤的 FLVPlayback 渲染为不可见？

> ID：10545661
> 
> 赞同：0
> 
> 时间：2012-05-11T04:57:17.567
> 
> 标签：actionscript-3, flash, flvplayback

我使用 Adob​​e Flash Professional CS5.5、Flash Player 11.2.202.235、ActionScript 3 运行以下代码：

```
var camera:Camera = Camera.getCamera();
var localVideo:FLVPlayback = ...; // Instantiated by the IDE

[..]

localVideo.getVideoPlayer(localVideo.activeVideoPlayerIndex);
videoPlayer.attachCamera(camera); 
```

通常，本地摄像机的源会显示在内部`localVideo`，但如果我将 FLVPlayback 皮肤设置为“无”，则视频组件根本不会呈现（它是完全透明的）。我要做的就是为没有任何按钮的实时视频源呈现 FLVPlayback。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T05:10:18.577

经过进一步调查，事实证明，当皮肤设置为“无”时，您需要明确地将视频播放器标记为可见：

```
videoPlayer.visible = true; 
```

有谁知道这是为什么？

# jquery - 从 jquery 数据表切换到 slickgrid

> ID：10545664
> 
> 赞同：3
> 
> 时间：2012-05-11T04:57:40.040
> 
> 标签：jquery, slickgrid

我在我的 jquery 应用程序中使用数据表。现在我想从数据表切换到 slickgrid，因为如果存在更多行数，数据表需要更多时间来呈现。所以想使用其他一些 jquery pluins 来处理具有丰富性能的表。

有没有人有一个从jquery数据表转换为slickgrid的例子。请帮忙。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-10T00:25:17.270

与 Sparklines 结合使用 DataTables 时，我遇到了同样的问题。我发现，当行在 fnDrawCallback 回调中可见时渲染迷你图，它的性能比我在前面渲染所有迷你图要好得多。

# asp.net-mvc-3 - 使用清单 作为 ASP.NET MVC3 的 Web Grid 中的模型

> ID：10545674
> 
> 赞同：4
> 
> 时间：2012-05-11T04:57:59.713
> 
> 标签：asp.net-mvc-3, razor, webgrid

我将 List 作为模型传递给 WebGrid 构造函数。

`@model List<string>`

`@{ var grid = new WebGrid(Model); }`

`<div> @grid.GetHtml() </div>`

我期待得到我的带有网格的字符串列表。但我得到了字符串的长度。奇怪的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T06:09:57.577

这很奇怪，但解释是*WebGrid*查找行对象的公共属性以便将它们显示为列；碰巧**Length**是**String**类型公开的唯一属性。

请注意，您可以通过明确指定**格式**来获得所需的行为：

```
@grid.GetHtml(
    columns: new[] {
        g.Column(format: (item) => item)
    }
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-29T09:41:13.743

```
@{
Boolean access = ViewBag.accesscontrols;   
}
<h1 class="header_text_pink">Vendor Master List<img    
src='@Url.Image("~/content/images/question_mark.png")' alt="" class="information_icon"   
/></h1>
<span>@Html.RenderNotificationMessage()</span>
<div class="si_top_main_table" id="tableDiv_Arrays">
<div class="search_pink">
<div  class="tablesorter_pink" id="targetContainer">
@{
List<FCC.POSS.Common.Models.Employee> listmodel = ViewBag.EmployeeList;
ViewBag.Title = "Employee Master";
} 
@if (listmodel != null)
{
if (listmodel.Count > 0)
{
List<WebGridColumn> gridColumn = new List<WebGridColumn>();
var grid = new WebGrid(source: listmodel,
rowsPerPage: listmodel.Count(),
canSort: true,
canPage: true);
gridColumn.Add(grid.Column("Fname", header: "First Name"));
gridColumn.Add(grid.Column("Lname", header: "Last Name"));
gridColumn.Add(grid.Column("Address", header: "Address"));
gridColumn.Add(grid.Column("City", header: "City"));
gridColumn.Add(grid.Column("Phoneno", header: "Phone no"));
gridColumn.Add(grid.Column("Passportno", header: "Passport no"));
gridColumn.Add(grid.Column("Civilid", header: "Civil Id"));
gridColumn.Add(grid.Column("Gender", header: "Gender"));
gridColumn.Add(grid.Column("Createddt", header: "Created Date"));
gridColumn.Add(grid.Column("Deleteddt", header: "Deleted Date"));
gridColumn.Add(grid.Column("Isdelete", header: "Is Deleted ?"));
// gridColumn.Add(grid.Column("View", format:@<text><span style=" background-
color:Blue;  
color:Green">@Html.ModalDialog("View","ag",null,Url.Action("Details","Employee",new 
{item.Id}),false)</span></text>));
@grid.GetHtml(
tableStyle:"display tablesorter_usermaster",
columns:grid.Columns(gridColumn.ToArray()),
htmlAttributes: new { id = "mst_WebGrid", @style = "width:100%;" });
}
} 
</div>
</div>
</div>
<h2>Index</h2> 
```

# css - 如何使普通按钮看起来在煎茶中被按下？

> ID：10545677
> 
> 赞同：2
> 
> 时间：2012-05-11T04:58:13.380
> 
> 标签：css, sencha-touch, sencha-touch-2

当用户按下它时，如何使普通按钮看起来被按下？还有当点击另一个按钮时如何使它看起来正常？我们可以使用分段按钮来做到这一点。但是如何使用普通按钮来实现呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T05:14:00.037

在`sencha-touch-debug.css`中，查看为按下的`confirm button`..应用的 css

```
/* line 73, ../themes/stylesheets/sencha-touch/default/_mixins.scss */
.x-button.x-button-confirm.x-button-pressing, .x-button.x-button-confirm.x-button-pressing:after, .x-button.x-button-confirm.x-button-pressed, .x-button.x-button-confirm.x-button-pressed:after, .x-button.x-button-confirm.x-button-active, .x-button.x-button-confirm.x-button-active:after, .x-toolbar .x-button.x-button-confirm.x-button-pressing, .x-toolbar .x-button.x-button-confirm.x-button-pressing:after, .x-toolbar .x-button.x-button-confirm.x-button-pressed, .x-toolbar .x-button.x-button-confirm.x-button-pressed:after, .x-toolbar .x-button.x-button-confirm.x-button-active, .x-toolbar .x-button.x-button-confirm.x-button-active:after, .x-button.x-button-confirm-round.x-button-pressing, .x-button.x-button-confirm-round.x-button-pressing:after, .x-button.x-button-confirm-round.x-button-pressed, .x-button.x-button-confirm-round.x-button-pressed:after, .x-button.x-button-confirm-round.x-button-active, .x-button.x-button-confirm-round.x-button-active:after, .x-toolbar .x-button.x-button-confirm-round.x-button-pressing, .x-toolbar .x-button.x-button-confirm-round.x-button-pressing:after, .x-toolbar .x-button.x-button-confirm-round.x-button-pressed, .x-toolbar .x-button.x-button-confirm-round.x-button-pressed:after, .x-toolbar .x-button.x-button-confirm-round.x-button-active, .x-toolbar .x-button.x-button-confirm-round.x-button-active:after, .x-button.x-button-confirm-small.x-button-pressing, .x-button.x-button-confirm-small.x-button-pressing:after, .x-button.x-button-confirm-small.x-button-pressed, .x-button.x-button-confirm-small.x-button-pressed:after, .x-button.x-button-confirm-small.x-button-active, .x-button.x-button-confirm-small.x-button-active:after, .x-toolbar .x-button.x-button-confirm-small.x-button-pressing, .x-toolbar .x-button.x-button-confirm-small.x-button-pressing:after, .x-toolbar .x-button.x-button-confirm-small.x-button-pressed, .x-toolbar .x-button.x-button-confirm-small.x-button-pressed:after, .x-toolbar .x-button.x-button-confirm-small.x-button-active, .x-toolbar .x-button.x-button-confirm-small.x-button-active:after {
  background-color: #628904;
  background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #3e5702), color-stop(10%, #507003), color-stop(65%, #628904), color-stop(100%, #648c04));
  background-image: -webkit-linear-gradient(#3e5702, #507003 10%, #628904 65%, #648c04);
  background-image: linear-gradient(#3e5702, #507003 10%, #628904 65%, #648c04);
} 
```

您可以在`app.css`文件中包含此 css，然后通过设置`pressedCls`属性将其应用于您的按钮。

```
pressedCls: 'x-button-pressed' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-12T10:30:40.513

roadRunner 的答案是用户**按住**它时的解决方案，而根据您提到的分段按钮，我认为您的意思是**单击**按钮。

如果是这样，为了回答你的问题，我假设你有 2 `Ext.Button`，`button_1`并且`button_2`（与`id`他们的名字相同）

当您单击`button_1`并希望它看起来像被按下时：

```
Ext.getCmp('button_1').setCls('x-button-pressing'); 
```

当您单击 时`button_2`，以类似方式执行并更改 的外观`button_1`：

```
Ext.getCmp(`button_2`).setCls('x-button-pressing');
Ext.getCmp(`button_1`).setCls(''); 
```

希望这可以帮助。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-06-09T19:59:42.050

启用切换应该可以工作。toggleGroup 是将某些按钮分组到一个组中。

```
 {
                                        xtype: 'button',
                                        id: 'btnId'
                                        enableToggle: true,
                                        text: 'Toggele Button',
                                        toggleGroup: 'accountbuttons'
                                    } 
```

# visual-studio-2010 - XML 数据驱动的 Selenium 测试

> ID：10545684
> 
> 赞同：0
> 
> 时间：2012-05-11T04:58:55.297
> 
> 标签：visual-studio-2010, selenium, selenium-webdriver

我一直在使用与 Microsoft 测试管理器链接的 Visual Studio 2010，使用 Team Foundation Server 来运行 MTM 数据驱动的 Selenium WebDriver 测试。这一直运行良好，我对此感到非常满意。我的问题是，有时我还希望在“每个测试”的基础上运行一组单独的数据，以支持 MTM 中的数据（例如，MTM 将具有登录用户/密码数据，并且此 XML 文件将具有导入数据有效用户）。

现在通过每个测试，我的意思是为 MTM 中的每个数据行访问一行 XML（或 CSV，如果这更容易的话）。或者，是否有一个地方可以初始化一个 TestMethod，而不是在 TestMethod 的每个数据行迭代之前在 Visual Studio 中调用的初始化。或者最后，是否有可能找出正在执行的测试迭代（例如，当前正在使用哪个数据行）。

我知道这是以相当混乱的方式编写的，但我正在努力使它更容易理解！如果有任何混淆或模棱两可，请告诉我，我会努力解决它们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-14T06:49:49.357

*我通过在每个测试文件中使用一个全局int*来找到我自己的解决方案（尽管有点 hacky），该全局int启动为 0。然后在每个测试结束时我增加它（真的很明显）。我选择实现一个标准的 XMLreader 并利用这个全局 int，尽管在一个文件中的 TestMethods 之间进行更改时会有点棘手。我可以通过“如果*XML 元素的数量*==*当前 XML 元素*索引；然后*i* = 重新初始化”来做到这一点。

希望这可以在某个时候帮助某人！

# nuget - NuGet 包还原 - 解决方案中的 .nuget 文件夹 - 提交到存储库？

> ID：10545687
> 
> 赞同：19
> 
> 时间：2012-05-11T04:59:07.413
> 
> 标签：nuget

启用 NuGet 包还原时，它会在我的解决方案中添加以下内容：

/.nuget
/.nuget/NuGet.exe
/.nuget/NuGet.targets

由于这些是我的解决方案的一部分，因此在没有这些文件的情况下将解决方案提交到我的存储库意味着我的解决方案中将缺少引用，但删除文件夹或这些文件中的任何一个意味着未启用 NuGet 包还原。

鉴于设置包还原的部分目的是让我*不必*将二进制文件提交到存储库，那么强制 NuGet.exe 进入解决方案的目的是什么？

是否假设将一个小的 .exe 提交到存储库是为了消除提交其他二进制文件的需要而付出的小代价？或者我是否应该也从存储库中排除这些并告诉开发人员第一次检查我的存储库并启用包还原？当持续集成在我的解决方案中遇到缺少引用时怎么办？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-05-11T06:05:03.510

将 .nuget 文件夹提交到存储库背后的意义在于，您可以使用启用此功能时安装的完全相同版本的 nuget.exe 来设置解决方案以使用包还原。

您的项目文件依赖于使用 nuget.exe 的 nuget.targets MSBuild 指令，并且这两个文件被视为链接在一起，因为 MSBuild 指令使用 nuget.exe API。完全有可能有一天会得到不同版本的 nuget.exe 和 nuget.targets。它在后台使用 NuGet.Build 和 NuGet.Commandline 包。这也是为什么通常为解决方案设置一次包还原，而不是由每个开发人员单独设置的原因。

此外，您无需在每个构建服务器上安装 nuget.exe，并且您的构建服务器可以使用不同版本的 nuget.exe 构建解决方案，这是一个额外的好处，无需额外的努力。是的，人们也可以认为这是一个很小的代价:-)

如果您的 CI 遇到缺少引用，请检查以下内容：

*   您的构建服务器无法访问 NuGet 包源
*   您的构建服务器在 NuGet 包源上找不到 NuGet 包（检查它是否存在或您是否指向正确的包源）

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-08-22T05:09:23.173

您不必将 nuget.exe 提交到源代码管理。NuGet.targets 会从 nuget.org 下载最新的 NuGet.exe（如果缺失）。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-11-06T09:49:49.893

如果您遵循@Richard Szalay 的回答（不提交 nuget.exe），并且由于某些原因 Visual Studio 不会自动下载 nuget.exe，请确保您在 nuget.targets 文件中将以下设置设置为**true ：**

```
<!-- Download NuGet.exe if it does not already exist --> 
<DownloadNuGetExe Condition=" '$(DownloadNuGetExe)' == '' ">true</DownloadNuGetExe> 
```

关闭 VS 解决方案，重新打开并构建它。Visual Studio 现在应该会自动下载 nuget.exe。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-11-08T13:36:17.463

对于`.gitignore`，添加以下行。

```
.nuget/
!.nuget/packages.config 
```

# url - 如何在不引起 AV 误报的情况下访问网页？

> ID：10545695
> 
> 赞同：0
> 
> 时间：2012-05-11T05:00:08.270
> 
> 标签：url, alarm, launch, antivirus

我正在用 C# 编写一个 Winforms 应用程序，该应用程序需要用户的一些输入并将其附加到特定网站的硬编码 URL 的末尾。然后我的程序将生成的字符串传递给 Process.Start，如下所示： System.Diagnostics.Process.Start(fullURL)

这具有在网站上搜索用户字符串的效果。

每当执行该行代码时，卡巴斯基防病毒软件都会发出有关类似于“PDM.Hidden Data sent”的行为的警告。如果我将这个程序分发给其他人，我不希望他们担心我给他们某种恶意软件的可能性。是否有某种方法可以浏览到动态构建的 URL，而不会使像卡巴斯基这样的 AV 程序引发这样的不必要的警告？

在此线程中：[调用 shellexecte 会导致防病毒软件发出警告？](https://stackoverflow.com/questions/2872256/call-to-shellexecte-causes-antivirus-to-give-a-warning) ...我注意到一个关于将应用程序发送到卡巴斯基并带有“误报”评论的有趣提示。但我真的希望有一个基于代码的解决方案可以避免这样做。毕竟，某些应用程序的帮助系统会将您带到其制造商的网站是很常见的。你认为他们如何在不引起误报的情况下做到这一点？

谢谢，

拉里

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T05:11:28.057

如果您在 winforms 应用程序中使用 WebBrowser 控件加载页面，您的用户是否可以接受？

[http://msdn.microsoft.com/en-us/library/system.windows.forms.webbrowser.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.webbrowser.aspx)

# ios5 - ipad：如何在我的应用程序中检测 ipad3？

> ID：10545697
> 
> 赞同：0
> 
> 时间：2012-05-11T05:00:19.617
> 
> 标签：ios5, xcode4.2, ipad-3

我在一个有图像的应用程序中工作，现在的问题是 ipad3 有视网膜显示 ios5 中有什么方法可以识别设备是 ipad3 还是 ipad2。我希望我的应用程序在这两个设备。是否有任何解决方案

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T05:05:33.047

你不能只使用@2x 后缀吗？

例如，您有用于常规 ipad 的图像 fancyBackground.png 和用于视网膜显示的 fancyBackground@2x.png？

当您执行此操作时，它将自动为设备具有的显示类型使用正确的图像（如果存在，视网膜设备将使用@2x 后缀的图像文件）。

您可以使用以下方法检测设备是否为 iPad：

```
UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad 
```

您可以使用以下方法检测设备是否为视网膜：

```
[[UIScreen mainScreen] respondsToSelector:@selector(scale)] && [[UIScreen mainScreen] scale] >= 2.0 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-12T09:54:16.043

*   (NSString *)deviceVersion

{

```
size_t size;
sysctlbyname("hw.machine", NULL, &size, NULL, 0);
char *answer = (char*)malloc(size);
sysctlbyname("hw.machine", answer, &size, NULL, 0);
NSString *platform = [NSString stringWithCString:answer encoding: NSUTF8StringEncoding];
free(answer);
NSLog(@"Platform: %@", platform);

return platform; 
```

}

这是通过您可以检测天气设备是 ipad2、ipad3、ipod.. 的方法。您可以返回一个值并检查一个值，无论它是什么。

# jquery - html5 音频导致 javascript 问题

> ID：10545698
> 
> 赞同：0
> 
> 时间：2012-05-11T05:00:29.143
> 
> 标签：jquery, html, html5-audio

我正在创建一系列包含音频标签的幻灯片。在第二个幻灯片面板中，我添加了一个名为“tester”的类。单击下一个和上一个控件时，脚本会检查当前面板是否包含“tester”类。如果是这样，我正在尝试使用该类来播放当前显示的音频元素。这是我正在尝试使用的函数，它从脚本的前面提取值，但您可以看到足够多的内容来了解​​它是如何工作的。

```
 var playauto = checkAuto($($('.slide')[position]));

  if(playauto) {
  var autoplayer=document.getElementById('audio2'); 
    autoplayer.play();      
}

 else {
    var autoplayer=document.getElementById('audio2'); 
    autoplayer.pause(); 
   }

 function checkAuto(sliders) {
 if(sliders.hasClass('testers')) {
   return true;
 } else {
   return false;
 }
 } 
```

发生的情况是有问题的音频元素将开始播放，但是，来回滑动面板的脚本似乎被禁用......并且面板将不再滑动。如果我将警报放在 if/else 块中，它们就可以正常工作。我已经发布了工作版本和非工作版本，希望有人能够提示我。有问题的面板是具有三个可单击 li 元素的面板，所有这些都需要单击才能获得“下一个”按钮淡入（在非工作版本中不起作用）。工作版本：[http](http://www.jontakiff.com/slide-folders/working/skeleton.html) ://www.jontakiff.com/slide-folders/working/skeleton.html 。面板滑动正常，但第二个面板音频文件不会自动播放。非工作版本：[http ://www.jontakiff.com/slide-folders/notworking/skeleton.html](http://www.jontakiff.com/slide-folders/notworking/skeleton.html). 如果有人在这里提供线索，我将非常感激！

# javascript - 制作网页的离线版本

> ID：10545704
> 
> 赞同：1
> 
> 时间：2012-05-11T05:01:55.837
> 
> 标签：javascript, html

我有一个网页，我希望它在连接互联网时也应该离线工作，它应该缓存文件，当我们断开网络连接时它应该可以正常工作我正在为此使用清单文件。但它没有完成。有什么办法要解决这个问题，或者我必须使用一些脚本来缓存数据。它仅适用于 Firefox 的离线版本，但不适用于 ipad 设备，因此如何解决此问题

一些清单文件代码

```
 CACHE MANIFEST
 CACHE:
 index.html
 brd_icon.png
 newstyle_tester.css
 draxxin.pdf
 exede.pdf
 js/jquery-1.7.2.min.js
 js/script.js
 js/jquery.queryloader2.js

 image/startbutton.png
 image/mockup_splash_1.png
 image/testing_file_3.png
 image/overview.gif
 image/strategy.gif
 image/draxxin.gif
 image/excede.gif
 image/reference.gif
 image/results.gif
 image/seperator.png
 image/overview_active.png 
```

以下是未缓存数据的网页链接。

[http://celeritas-solutions.com/pah_brd_v1/](http://celeritas-solutions.com/pah_brd_v1/)

# objective-c - 将 UIImageView 裁剪为 9 块

> ID：10545707
> 
> 赞同：0
> 
> 时间：2012-05-11T05:02:14.043
> 
> 标签：objective-c, crop, cgrect

我需要将 UIImage 拆分为 9 个按钮。现在我有九个按钮完全占据了整个 iPad 屏幕，但我想在九个空间中裁剪大图像，特别是在按钮大小/位置上。

现在我有这个代码：

```
CGRect cropRect = CGRectMake(button.frame.origin.x, button.frame.origin.y, button.frame.size.width, button.frame.size.height);
CGImageRef croppedImage = CGImageCreateWithImageInRect([image CGImage], cropRect);

[button setImage:image forState:UIControlStateNormal];

CGImageRelease(croppedImage); 
```

**但是**，所有按钮都显示相同的图像。

任何人都知道发生了什么以及如何解决这个问题（将图像裁剪成九块，在按钮的 X、Y、宽度和重量中）？

我在这方面真的很新。

- 编辑 -

我只是改变了：

```
[button setImage:[UIImage imageWithCGImage:croppedImage] forState:UIControlStateNormal]; 
```

谢谢，马丁皮尔奇！:-)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T06:04:50.570

您正在将原始图像设置为按钮。尝试这样设置：

```
[button setImage:[UIImage imageWithCGImage:croppedImage] forState:UIControlStateNormal]; 
```

希望能帮助到你

# javascript - 事件处理 101 - 如何从外部捕获事件 在嵌入式

> ID：10545709
> 
> 赞同：0
> 
> 时间：2012-05-11T05:02:24.977
> 
> 标签：javascript, jquery

我希望有一种方法可以使用一个事件处理程序来做到这一点。请允许我解释一下：

考虑到这个简单的 html 片段，它复制了我正在处理的东西的想法：

```
<div class="navRow">
     <!-- 5 child divs in here -->
    <div id="box-bambin" class="yellow-box navbox">
    Content 1
    </div>

    <div id="box-mamiepom" class="green-box navbox">
    Content 2
    </div>

    <div id="box-amusailes" class="orange-box navbox">
    Content 3
    </div>

    <div id="box-fracomousse" class="red-box navbox">
    Content 4
    </div>

    <div id="box-pommeEnchantee" class="blue-box navbox">
        Content 5
    </div>

</div> 
```

我已经为所有内部 div 分配了事件处理程序，但我很确定可以在外部 div 上设置一个事件处理程序并捕获内部 div 上的事件。当我在外部 div .navRow 上设置事件处理程序时，我的鼠标会捕获外部 div 事件。

```
 $('.navRow', context).mouseover(function (event, domEle) {      

     var targetBox =  $(event); 

     console.log("captured event target = " + event.currentTarget);

        $('.navRow').each(function(){
            if($(this).attr('id') == $(event.target).attr('id')){
               // Found match do nothing.
              console.log("matched = " + $(this).attr('id'));
            } else{
              console.log("this = " + $(this).attr('class'));
              //* change for image.
            }
        });

  }); 
```

在这一点上，我只是想获得鼠标悬停的内部 div。拜托，我非常需要任何关于我正在做的不良用法的批评/提示。我尝试过的任何东西都没有给我鼠标悬停的内部元素#id。

我尝试了 .target 和 currentTarget 属性，但它们没有给出正确的内部 div 对象 ID。

有没有办法解决这个问题，或者所有内部对象都需要绑定到事件处理程序？

*   我有一段类似的代码可以与内部事件处理程序一起正常工作，只是想复制代码行为，如果可能的话，使用一个事件处理程序。

我在想这就是更大的应用程序的工作方式，我的意思是没有所有这些事件处理程序会在某种程度上简化事情，似乎？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-11T05:08:36.917

然后[`on()`](http://api.jquery.com/on/)在父级上使用（jQuery 1.7+）作为“单手”，并[`siblings()`](http://api.jquery.com/siblings/)获取其他不是目标的。

```
//"attach to .navRow an onmouseover for .navbox"
$('.navRow').on('mouseover','.navbox',function () {      

     //the target. "this" is the DOM element .navbox
     //to use jQuery on it, we wrap it in $();
     var target = $(this);

     //the siblings that are not the targets
     //since "target" is already a jQuery object
     //we can use siblings() on it to get its siblings
     var nonTargets = target.siblings(); 

}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-11T05:08:03.280

您可以使用 jQuery 的新[$.on](http://api.jquery.com/on/)方法通过一个事件绑定到父对象来完成此操作，如下所示

```
$('.navRow').on('mouseover','.navbox',function(){
   // now source object is this
   $source = $(this);
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-11T05:15:45.720

如果您正在寻找点击了哪个 .navbox，那么您应该有

```
$('.navbox').each(function(){ 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-11T05:41:55.627

使用[事件委托](http://www.nczonline.net/blog/2009/06/30/event-delegation-in-javascript/)的另一种方法可能是：

```
$('.navRow').mouseover(function (evt, domEle) {      
     evt = evt || event;
     var targetBox =  $(evt.target || evt.srcElement); 
     console.log("You hovered #" + targetBox.attr('id'));
}); 
```

这样您仍然可以检索事件启动元素 ( `div.navrow`)。

这是一个显示此方法和委托方法的[jsfiddle](http://jsfiddle.net/KooiInc/aDaRj/)`.on`

# extjs - Sencha Touch 2 搜索列表

> ID：10545711
> 
> 赞同：1
> 
> 时间：2012-05-11T05:02:34.993
> 
> 标签：extjs, sencha-touch-2

在设计和让搜索字段工作时遇到问题，我不知道如何让这个工作，我可以在 Sencha Touch 2 上看到任何文档或示例代码。任何帮助将不胜感激。这是我目前的阶段：

```
`Ext.define('ikhlas.view.SearchProfile', {
extend: 'Ext.Panel',
xtype: 'searchpanel',

    config:{
            title: 'Search',
                iconCls: 'search',
                scrollable: true,
                styleHtmlContent: true,

    items: [
        {
            xtype: 'fieldset',
                title:'Search Profile',
                iconCls:'add',

    items: [

            {

            xtype: 'searchfield',
                name:'searchfield',
                placeHolder:'Search',
            },

           ]    

        },

           ]

        }

});` 
```

我的控制器看起来像这样（注意已经完成，我不知道如何开始帮助）：

```
Ext.define('ikhlas.controller.SearchField',{
extend: 'Ext.app.Controller',

config:{
    refs:{
        submitpanel:'loginpanel'
    },

control:{

    }
},

  }); 
```

这是我要自动搜索的数据列表：

```
data: [
            {firstName: 'Tommy',   lastName: 'Maintz'},
            {firstName: 'Rob',     lastName: 'Dougan'},
            {firstName: 'Ed',      lastName: 'Spencer'},
            {firstName: 'Jamie',   lastName: 'Avins'},
            {firstName: 'Aaron',   lastName: 'Conran'},
            {firstName: 'Dave',    lastName: 'Kaneda'},
            {firstName: 'Michael', lastName: 'Mullany'} 
```

我希望搜索字段的工作方式是当用户输入字符时，它会自动弹出建议，就像：[http ://docs.sencha.com/touch/2-0/#!/example/search -列表](http://docs.sencha.com/touch/2-0/#!/example/search-list)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T05:51:56.307

在您的控制器中，您应该监听两个事件，clearicontap 和 keyup 用于搜索字段。

```
...
control: {
    'searchfield': {
        keyup: 'onSearchQueryChanged',
        clearicontap: 'onSearchReset'
    }
},

onSearchQueryChanged: function(field) {
    // as in sample
    //get the store and the value of the field
        var value = field.getValue(),
            store = this.getStore(); //you should actually point to the real store

        //first clear any current filters on thes tore
        store.clearFilter();

        //check if a value is set first, as if it isnt we dont have to do anything
        if (value) {
            //the user could have entered spaces, so we must split them so we can loop through them all
            var searches = value.split(' '),
                regexps = [],
                i;

            //loop them all
            for (i = 0; i < searches.length; i++) {
                //if it is nothing, continue
                if (!searches[i]) continue;

                //if found, create a new regular expression which is case insenstive
                regexps.push(new RegExp(searches[i], 'i'));
            }

            //now filter the store by passing a method
            //the passed method will be called for each record in the store
            store.filter(function(record) {
                var matched = [];

                //loop through each of the regular expressions
                for (i = 0; i < regexps.length; i++) {
                    var search = regexps[i],
                        didMatch = record.get('firstName').match(search) || record.get('lastName').match(search);

                    //if it matched the first or last name, push it into the matches array
                    matched.push(didMatch);
                }

                //if nothing was found, return false (dont so in the store)
                if (regexps.length > 1 && matched.indexOf(false) != -1) {
                    return false;
                } else {
                    //else true true (show in the store)
                    return matched[0];
                }
            });
        }
},

onSearchReset: function(field) {
    this.getStore().clearFilter();
}

... 
```

此示例将模拟与 ST2 SDK 中相同的行为，即过滤`Ext.List`. 自然，您最终可能会实现自己的过滤逻辑。

请注意，这`searchfield`只不过是一个样式化的`textfield`，通常在右侧带有清晰的按钮（取决于浏览器/操作系统），如 HTML5 中所定义。

# cakephp - Cakephp 输入类型收音机。如何将表单助手用于具有一些描述和文本段落的单选选项。

> ID：10545714
> 
> 赞同：1
> 
> 时间：2012-05-11T05:03:03.487
> 
> 标签：cakephp, cakephp-2.0

我想使用`Cakephp Form`助手来创建单选按钮。但我有文字段落和每个单选选项的一些设计。

如何使用 插入这些类型的单选按钮`Cakephp Form helper`。我见过之前、之后和分隔符选项。

谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T09:46:50.010

如果表单助手没有完成您需要做的事情，您可以使用自己的助手对其进行扩展，或者简单地在表单中手动创建标记。

确保正确命名字段，否则表单帖子的格式将不适合 CakePHP 处理。

# string - 在java中检查字符串内容语言

> ID：10545717
> 
> 赞同：0
> 
> 时间：2012-05-11T05:03:26.403
> 
> 标签：string

> **可能重复：**
> [Java 中的语言识别](https://stackoverflow.com/questions/2310536/language-recognition-in-java)

我需要检查字符串中存在的数据语言。请对此有所帮助。

例如：

```
String str ="Sample"; 
```

str 字符串由英语语言数据组成。

```
String str1 = "عينة"; 
```

str 字符串由阿拉伯语言数据组成。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T05:17:27.317

有可用的外部库。

[这是其中之一](http://code.google.com/p/language-detection/)

# c# - 当我们将线程的引用更改为 null 时会发生什么？

> ID：10545718
> 
> 赞同：1
> 
> 时间：2012-05-11T05:03:27.730
> 
> 标签：c#, .net, multithreading, clr

我正在运行一个 while 循环，它永远跟踪一些事件，如果我遇到任何异常，我会将其引用更改为 null，希望当前线程将被中止并创建该线程的新引用。中止当前线程并启动新线程是正确的还是更好的方法。

我正在尝试这样做：

```
Thread th;

Main()
{
    th = new thread(myfunction);
    th.Start();
}

void myfunction()
{
    while(true)
    {
        try
        {
            // something interesting here.
        }
        catch(exception)
        {
            th = null;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T05:07:31.940

清理该线程所需的任何内容，然后像这样跳出 while 循环：

```
void runningOnThread()
{
    while (true)
    {
        try
        {
            //...
        }
        catch (Exception e)
        {
            break;
        }
    }

    //thread cleanup code goes here, if you have any.
} 
```

捕获异常时记录异常是个好主意。这样你就知道什么时候遇到了异常。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T05:08:16.253

唯一会发生的事情是 Thread 将仍然无法从 Enclosure 类访问。

如果没有进一步的处理，这样做会使线程无法从 GC[应用程序根](http://www.c-sharpcorner.com/UploadFile/ankithakur/GCAlgorithm12222005224854PM/GCAlgorithm.aspx)中获取。这使得对象在下一次 GC 触发器中可用于垃圾收集。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-11T05:08:54.403

你需要做：

```
return; 
```

代替：

```
th = null; 
```

因为线程将继续运行。线程对象不会被收集，因为只要代码正在运行，它就会一直被引用。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-11T05:21:05.753

首先，如果遇到异常，在担心启动新线程之前，请确保您实际处理了异常并确保重新启动的线程能够成功运行。否则，你只会得到一个持续不断的崩溃线程流，以及一个在处理异常队列时断断续续的程序。只是一些思考的食物。

现在，回答这个问题，最好的情况是对线程的引用清零只会让你陷入无限循环，最坏的情况是你稍后尝试使用'th'并且你得到一个异常，因为它是空的。取消对线程的引用不会以某种方式让它意识到它需要重新启动自己，而不是取消对作为函数参数提供的参数的引用。如果您绝对需要某种中止/重新启动线程的能力，请考虑执行以下操作之一：

1.  当线程崩溃并跳出 while 循环时引发事件，或者
2.  设置一个布尔/枚举标志来说明线程正在做什么，并让主线程不时检查它以确保它没有被设置为错误状态。

这是代码完全不在我的脑海中，不是很好，但会给你一个大致的想法：

```
delegate void ThreadCrashedEvent();
Event ThreadCrashedEvent threadCrashed;

Thread th;

Main()
{
    threadCrashed += OnThreadCrashed();
    th = new thread(myfunction);
    th.Start();
}

void OnThreadCrashed()
{
    th = new thread(myfunction);
    th.Start();
}

void myfunction()
{
    while(true)
    {
      try
      {
          LetsGetDangerous();
      }
      catch(exception)
      {
          if(threadCrashed != null)
          {
              threadCrashed();
              return;
          }
      }
} 
```

# php - 无法让 PHP file_exists 正常工作

> ID：10545719
> 
> 赞同：0
> 
> 时间：2012-05-11T05:03:38.570
> 
> 标签：php, wordpress, file-exists

如果 PDF 存在，我正在尝试获取链接到同名 PDF 的缩略图，但如果 PDF 不存在，则不链接到任何内容。这是我的代码：

```
<?php 
if ( function_exists('has_post_thumbnail') && has_post_thumbnail() ) {
$full_image_url = wp_get_attachment_image_src( get_post_thumbnail_id(), 'full') ;
$pdf = substr_replace($full_image_url , 'pdf', strrpos($full_image_url[0] , '.') +1);

$filename = $pdf[0];
if (file_exists($filename)) {
echo '<a href="' . $pdf[0] . '" title="' . the_title_attribute('echo=0') . '" . target="_blank" >';
the_post_thumbnail('Full Size');
echo '</a>';
  }
else {
echo "The file $filename exists";
  }
 }
?> 
```

目前， else 语句只是为了证明它是否找到了文件。它似乎是，因为它显示`The file http://localhost/AWAD/wp-content/uploads/2012/03/+D.pdf exists`。如果我去掉条件，帖子缩略图会显示一个指向 PDF 的链接。我只是无法获得工作的条件。

谁能发现它为什么不起作用？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-11T05:07:16.820

您应该将您的 FS 上的路径传递给[`file_exists`](http://php.net/manual/ru/function.file-exists.php)，您现在正在传递一个 URL

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T05:11:43.057

我很确定`file_exists`想要一个完整的文件路径，而不是 URL。因此，您可能希望使用 WordPress`wp_uploads_dir`函数来获取上传目录的基本路径，然后将路径的其余部分附加到该路径的末尾，然后将该字符串传递给`file_exists`. 希望这是有道理的。

# php - 如何使用 JQuery Ajax 获取 FCKEditor 的内容

> ID：10545721
> 
> 赞同：2
> 
> 时间：2012-05-11T05:04:27.523
> 
> 标签：php, jquery, fckeditor

我正在使用 FCKEditor。我正在使用 ajax 保存表单值，但 FCKEditor 值的内容没有保存到 mysql 表中。我能为此做些什么？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T13:34:32.307

试试这个。

```
<script language="JavaScript">
        function GetData()
        {
            var inst = FCKeditorAPI.GetInstance("description");
            var sValue = inst.GetHTML();
            alert(sValue);
        }
    </script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T11:39:27.323

试试这个

**JS**

```
var inst = FCKeditorAPI.GetInstance("description");
var sValue = inst.GetHTML();

if(sValue) {
    $("#showfckdatid").val(sValue);   
}
var formdata = $("#addfrmid").serialize();
var  request = $.ajax({
                   url:"<?=site_url("admin/content/add_act")?>",
                   type:"POST",
                   data:formdata,
                   dataType:"html"
               });
               request.done(function(data) {
                   alert(data);
               });
               request.fail(function(jqXHR, textStatus) {
                   alert( "Request failed: " + textStatus );
               }); 
```

**HTML**

```
<input type="hidden" name="showfckdat" id="showfckdatid"> 
```

并在表单中添加一个隐藏字段

# joomla - joomla - 未定义的变量：幻灯片

> ID：10545726
> 
> 赞同：0
> 
> 时间：2012-05-11T05:04:58.210
> 
> 标签：joomla, joomla-template

我是 Joomla 的新手。我在本地管理安装 xampp 和 joomla。我尝试安装模板，它工作正常，但如下图所示抛出错误。请帮忙。谢谢![错误](../Images/3a8ea0809804c70201420bac9ccd48b8.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T06:47:54.147

它只是一个通知，这意味着您的变量没有用值初始化，通知在开发过程中很好，但是一旦完成，您可以隐藏/关闭这些通知/错误。

> 转到您的管理后端-> 站点-> 全局配置-> 服务器。在“服务器设置”选项卡下，根据您的要求更改“错误报告”设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-20T13:17:20.417

很好的提示，问题解决了！

转到您的`admin backend > site > Global Configuration > Server`. 在选项卡下根据您的要求`Server Settings`更改设置。`Error Reporting`

# html - 传递多个参数可以在 Html.Action 中使用

> ID：10545730
> 
> 赞同：0
> 
> 时间：2012-05-11T05:05:41.390
> 
> 标签：html, asp.net-mvc

如何使用 Html.Action 传递多个参数。

```
@ Html.Action("StringName","ActionName","Controller",new{id=param1,name=param2}) 
```

请让我知道这是正确的格式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T05:08:26.603

*编辑：这个答案是针对`ActionLink`. 您仍然可以使用参数来调用操作（使用时直接调用`Html.Action`）*

您可以只传递它们（就像您在示例中所做的那样）。在路由中找不到的所有参数都用作查询字符串参数。

您可以在另一个动作中捕获所有这些。

请注意，所有值都应该是正确的 C# 声明，因此要将第二个参数作为字符串传递，您需要使用双引号（如在常规 C# 代码中）：

```
@Html.Action("StringName","ActionName","Controller",new{id=param1,name="param2"}) 
```

# java - 将java字符串转换为7位字符串

> ID：10545732
> 
> 赞同：1
> 
> 时间：2012-05-11T05:06:06.573
> 
> 标签：java, android, string, sms

我正在加密一个字符串说“hello hr u”使用加密算法并将加密的字符串作为`b�*-ت5Tr���6=`

这个字符串我们不能作为短信发送
所以我想通过将其转换为 7 位来转换为支持短信的格式。
在接收端，我们必须转换回 8 位并解密。
我怎样才能做到这一点？

注意：我已经使用 Base64 转换为支持短信的格式，但长度正在增加。所以我无法发送更多字符

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T22:07:50.300

我假设您的问题类似于：

> 如何在不增加消息大小的情况下将二进制数据作为有效的 SMS 文本传输？

答案是——你不能——至少不能 100% 确定。

您的加密算法可能会创建一些`byte[]`字节**数组**（

我看到的唯一选择是尝试在加密之前或之后压缩信息 - 取决于您选择的压缩算法 - 然后**Base64**对其进行编码。这会给你一个更好的机会来限制大小 - 但没有确定性。（除非你找到一种压缩算法，它承诺对每个输入压缩超过 33%。

另一种方法是将消息跨越两条 SMS 消息 - 假设您被允许这样做。

# php - mysql 中的 DATE_DIFF 错误

> ID：10545734
> 
> 赞同：1
> 
> 时间：2012-05-11T05:06:20.360
> 
> 标签：php, mysql, date, server-side, datediff

我一直在尝试在 mySQL 中实现 DATE_DIFF 时出错。

我正在尝试获取“hm_date”和现在之间**的天**数，并将该数字显示在名为“total_days”的不同字段中。

在服务器端执行此操作，我的代码出现错误：#1305 - FUNCTION naturan8_41q.DATE_DIFF 不存在

```
SELECT * FROM reg_add WHERE DATE_DIFF(hm_date,total_days) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T05:08:21.433

[`DATEDIFF`](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_datediff)是正确的名称，没有空格（确实，它与`DATE_ADD`and令人困惑和不一致`DATE_FORMAT`）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T05:09:17.337

```
SELECT DATEDIFF(curdate(), hm_date) as total_days FROM reg_add 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-11T05:11:31.853

您正在使用`DATE_DIFF`，这就是错误。**DATEDIFF**是正确的函数名称。

更正的查询：`SELECT DATEDIFF(curdate(),hm_date) as total_days FROM reg_add.`

# login - 如何在 Magento 中添加自定义登录标题而不是“客户登录”？

> ID：10545735
> 
> 赞同：0
> 
> 时间：2012-05-11T05:06:33.777
> 
> 标签：login, default, page-title, magento-1.6

我正在为我们的电子商务商店使用 magento 1.6.1.0。唯一的问题是客户要求从登录页面中删除“客户登录”。如何从每个页面中删除 magento 默认页面标题。请有人知道这个问题的解决方案，请ping你的答案..

谢谢你提前..

此致..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T13:12:28.693

打开这个文件**app/code/core/Mage/Customer/Block/Form/Login.php**，找到“_prepareLayout()”函数。注释掉“setTitle”命令。

所以你的代码现在看起来像这样。

```
 protected function _prepareLayout()
    {
        //$this->getLayout()->getBlock('head')->setTitle(Mage::helper('customer')->__('Customer Login'));
        return parent::_prepareLayout();
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T15:43:20.297

要修改客户登录页面，您可以编辑模板文件。尝试`app/design/frontend/default/default/customer/form/login.phtml`或您使用的任何主题。

# java - 解析不同时区的日期

> ID：10545738
> 
> 赞同：4
> 
> 时间：2012-05-11T05:07:27.757
> 
> 标签：java, postgresql, timezone

即使有大约 15 年的 Java 经验，人们总是会在处理日期和时间的话题上磕磕绊绊......

情况如下：我从某个外部系统获得时间戳作为`String`表示。时间戳的语义是它代表一个 UTC 日期。这个时间戳必须放在一个实体中，然后放在一个`TIMESTAMP`字段中的 PostgreSQL 数据库中。此外，我需要将与本地时间（在我的情况下为 CEST）相同的时间戳放入实体中，然后放入`TIMESTAMP WITH TIME ZONE`字段中的数据库中。

什么是正确的方法来确保无论执行代码的机器的设置是什么，时间戳都正确存储在实体中（以使用其他 UTC 时间戳进行一些验证）和数据库中（稍后在报告中使用它们上）？

这是代码，在我的本地机器上运行良好：

```
SimpleDateFormat sdfUTC = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS");
sdfUTC.setTimeZone(TimeZone.getTimeZone("UTC"));
Date utcTimestamp = sdfUTC.parse(utcTimestampString);
// getMachinesTimezone is some internal util method giving the TimeZone object of the machines Location
Calendar localTimestamp = new GregorianCalendar(getMachinesTimezone());
localTimestamp.setTimeInMillis(utcTimestamp.getTime()); 
```

但是在服务器上执行相同的代码时，会导致不同的时间，所以我认为这不是正确的处理方式。有什么建议么？

PS：我在这个论坛上搜索时读到了 Joda Time，但是在给定的项目中我无法引入新的库，因为我只更改了现有的模块，所以我必须使用标准的 JDK1.6

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-11T05:22:14.693

如果我理解正确，您需要在您正在打印的同一数据/日历对象上设置时区。像这样：

```
private Locale locale = Locale.US;
private static final String[] tzStrings = {
    "America/New_York",
    "America/Chicago",
    "America/Denver",
    "America/Los_Angeles",
};

  Date now = new Date();
  for ( TimeZone z : zones) {
        DateFormat df = new SimpleDateFormat("K:mm a,z", locale);
        df.setTimeZone(z);
        String result = df.format(now);
        System.out.println(result); 
  } 
```

如果我将时区设置为 SimpleDateFormat 它工作正常。

这是示例代码...

```
String date="05/19/2008 04:30 AM (EST)";
SimpleDateFormat sdf = new SimpleDateFormat("MM/dd/yyyy hh:mm aaa (z)");
TimeZone.setDefault(TimeZone.getTimeZone("PST"));
long millis = sdf.parse(date).getTime();
sdf.setTimeZone(TimeZone.getDefault());
System.out.println(sdf.format(new Date(millis))); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T05:13:47.373

我认为您必须在 Calendar 对象中设置目标时区。我认为是这样的：

```
Calendar localTimestamp = new GregorianCalendar(TimeZone.getTimeZone("GMT+10"));
localTimestamp.setTimeInMillis(utcTimestamp.getTime()); 
```

在其他情况下，Java 采用日历实例的默认系统时区。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-05-11T05:42:08.110

您可以通过以下示例代码来完成。

```
Date date = new Date();

DateFormat formatter = new SimpleDateFormat("dd MMM yyyy HH:mm:ss z");
formatter.setTimeZone(TimeZone.getTimeZone("CET"));

Date date1 = dateformat.parse(formatter.format(date));

// Set the formatter to use a different timezone
formatter.setTimeZone(TimeZone.getTimeZone("IST"));

Date date2 = dateformat.parse(formatter.format(date)); 
// Prints the date in the IST timezone
//    System.out.println(formatter.format(date)); 
```

# css - 使用 primefaces 3.1 实现自定义 CSS

> ID：10545741
> 
> 赞同：1
> 
> 时间：2012-05-11T05:07:49.177
> 
> 标签：css, jsf-2, primefaces

我正在使用 Primefaces 3.1，我正在尝试为按钮实现自定义 css。

我的页面定义如下：

```
<h:head>
<title>Primefaces 3.1</title>
<f:facet name="last">             
    <meta http-equiv="X-UA-Compatible" content="EmulateIE8" /> 
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>                           
    <link type="text/css" rel="stylesheet" href="../resources/Styles/stylesheet.css" />
    <link rel="stylesheet" href="../resources/Styles/pfOverride.css" type="text/css" />
    </f:facet> 
</h:head> 
```

命令按钮如下所示：

```
<p:commandButton id="button1" styleClass="custButton".... 
```

pfOverride.css 有以下内容：

```
.ui-button {
    background-color: #b2f5g3;
    border-color: black;    
}

.ui-button-text {
    background-color: #b2f5g3;
.ui-button-text-only .ui-button-text {
    font-size: 9pt; 
    color: black;
} 
```

并且 custButton 也设置了不同的值，

我的问题是 pfoverride.css 正在工作，但样式表没有。有人可以告诉我我错过了什么或做错了什么，我`!important`也试过推杆，但没有运气。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T06:46:00.977

如果您将右括号添加到`.ui-button-text`并使用正确的十六进制值（`g`不是十六进制数字），这应该可以工作：

```
.ui-button-text {
    background-color: #b2f5f3;
}
.ui-button-text-only .ui-button-text {
    font-size: 9pt; 
    color: black;
} 
```

# perl - perl excel转pdf

> ID：10545747
> 
> 赞同：1
> 
> 时间：2012-05-11T05:08:07.360
> 
> 标签：perl, excel, file, pdf

我正在使用带有 excel 模板的 perl 来尝试使为客户创建发票有点自动化。我唯一的问题是，当我完成后，我真的很希望能够将这个 excel 文件转换为 PDF，但我似乎找不到任何可以执行此类操作的 perl 模块。有人听说过这样的事情吗？我知道它可以以某种方式完成，因为 word 和 open office 可以做到！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T07:29:37.820

只需掏出[unoconv](http://dag.wieers.com/home-made/unoconv/)。

也有[与 UNO 的 Perl 绑定](http://sf.net/projects/perluno/)，但上次我查看时，它们不起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T05:14:09.543

您可能必须先转换/展平 Excel 文件，然后想办法将其输入，但这可能会让您朝着正确的方向前进[http://metacpan.org/pod/PDF::Create](http://metacpan.org/pod/PDF::Create)

# ipad - Ipad uisplitviewcontroller - 如何设置和调用masterviewcontroller表从detail重新加载数据

> ID：10545748
> 
> 赞同：1
> 
> 时间：2012-05-11T05:08:13.837
> 
> 标签：ipad, uisplitviewcontroller

我正在使用 iPad UISplitviewcontrol，左侧为 master，右侧为 detail。在master上，我有一个NSMutableArray *data，调用self.data = myarraydata，调用self.tableview reloaddata并工作，当点击master上的一行时，数据传递到右边的细节没有任何问题。

但是，从细节方面，我想将master的self.data设置为不同的数组，并调用master的reload data方法。我已经阅读了代表，并遍历导航树以获取主表对象，但没有运气。

任何帮助都可以提供有关如何实现此目的的示例或剪辑吗？

TIA。

# c - 范围内的整除对

> ID：10545759
> 
> 赞同：3
> 
> 时间：2012-05-11T05:09:35.133
> 
> 标签：c, algorithm, number-theory

我需要帮助找出解决这个问题的更好方法（可能是一个更数学的方法！）。以下是详细信息：

问题陈述：

*给定 N 和 M，您需要找出有多少对 a,b (1 <= a < b <=N) 使得 (a+b) 可以被 M 整除。例如，当 N=4 和 M=3 ，有 2 个可能的对，它们的总和可以被 M 整除，它们是 (1,2) 和 (2,4)。*

*约束：1 <= N <= 10^9 和 2 <= M <= 10^9。* 时间限制：1秒

在我的算法中，我循环了 N 次，使其成为 O(N) 算法。这是代码：

```
#include <stdio.h>
typedef unsigned long long ULL;
int main()
{
    int t,m,n,a; ULL ans=0;
    scanf("%d\n",&t);
    while(t--) // test cases
    {
            // Main logic
        scanf("%d %d",&n,&m);
        ans=0;
        for(a=1;a<n;a++)
            ans += (n+a)/m - (a*2)/m;
        printf("%llu\n",ans);
    }
    return 0;
} 
```

我只是检查在 (2a,n+a) 范围内有多少数可以被 M 整除，其中 1 =< a < n。如果您查看范围内所有*(a,b)*的总和，您就会知道我为什么选择*(2a,n+a)*。

然而，这种*O(N)*方法并不是很快。对于 N=10 ⁹和 M=2，程序在 12 秒内将答案打印为 249999999500000000，这非常慢。还可以使用哪些其他方法？我想不出更好的方法。请帮忙！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T06:46:03.233

您可以简单地计算，而不是测试。

让我们列出所有可能的对：

```
(1, N - (N+1)%M),
(1, N - M - (N+1)%M),
(1, N - 2*M - (N+1)%M),
...
(2, N - (N+1)%M - 1),
(2, N - M - (N+1)%M - 1),
(2, N - 2*M - (N+1)%M - 1),
... 
```

（我们需要`(N+1)%M`从元组的第二个元素中减去，以使元素和可被 M 整除）

更一般地，给定`N`且`M`> 0，每对`(a, b)`具有`1 <= a < b <= N`这样的`a+b % M == 0`必须具有以下形式：

`(i+1, N - d*M - (N+1)%M - i)`对于`0 <= d`和`0 <= i`

现在您必须回答以下两个问题：

*   的最大值是`i`多少？
*   给定`i`， 的最大值是多少`d`，即对于每个有效`i`，存在多少对`(i+1, ...)`？

一旦你发现了，你应该能够想出一个公式来确定恒定时间内有效对的数量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T11:41:05.043

```
ans = n / m * (n - 1)
    + (n / m) * (n / m - 1) / 2 * m
    + (n % m + m / 2) / m * (n - m + n % m)
    + (n - m + n % m) % m * (n / m)
    - (n / m) * (n / m - 1) * m
    - (m / 2) * (n / m)
    - (n % m) * (n / m * 2)
    - (n % m / ((m + 1) / 2)) * (n % m % ((m + 1) / 2)); 
```

# android - Android：视频录制引发错误

> ID：10545760
> 
> 赞同：1
> 
> 时间：2012-05-11T05:09:57.393
> 
> 标签：android, video

所以我正在尝试使用内置的相机活动来使用以下代码录制视频：

```
 Intent videoIntent = new Intent(MediaStore.ACTION_VIDEO_CAPTURE);
    videoIntent.putExtra(MediaStore.EXTRA_OUTPUT, fileURI);
    videoIntent.putExtra(MediaStore.EXTRA_DURATION_LIMIT, 60);
    startActivityForResult(videoIntent, VIDEO_ACTIVITY); 
```

调试时fileURI的值为：file:///mnt/sdcard/Spootur/Videos/c14e0eb2-0737-4931-9898-e85d10bab74e.mp4，videoIntent的mExtras值为：

```
Bundle[{output=file:///mnt/sdcard/Spootur/Videos/c14e0eb2-0737-4931-9898-e85d10bab74e.mp4, android.intent.extra.durationLimit=60}] 
```

当我开始录制时，一切正常，但是当我重新单击录制按钮停止录制时，相机应用程序会抛出这个：

```
05-11 01:08:11.325: E/AndroidRuntime(3748):     at com.sec.android.app.camera.CamcorderEngine.renameTempFile(CamcorderEngine.java:1352)
05-11 01:08:11.325: E/AndroidRuntime(3748):     at com.sec.android.app.camera.CamcorderEngine.doStopVideoRecordingSync(CamcorderEngine.java:849)
05-11 01:08:11.325: E/AndroidRuntime(3748):     at com.sec.android.app.camera.CeStateRecording.handleRequest(CeStateRecording.java:69)
05-11 01:08:11.325: E/AndroidRuntime(3748):     at com.sec.android.app.camera.CeRequestQueue.startFirstRequest(CeRequestQueue.java:123)
05-11 01:08:11.325: E/AndroidRuntime(3748):     at com.sec.android.app.camera.CeRequestQueue.access$200(CeRequestQueue.java:32)
05-11 01:08:11.325: E/AndroidRuntime(3748):     at com.sec.android.app.camera.CeRequestQueue$MainHandler.handleMessage(CeRequestQueue.java:60) 
```

关于可能导致此问题以及如何解决的任何想法？谢谢！

另外：我可以确认录制的视频文件位于该 URI。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-11T05:27:52.603

实际上，我发现在某些情况下`MediaStore.EXTRA_OUTPUT`无法正常工作，所以另一种技巧是将捕获的视频文件存储在`onActivityResult()`

```
protected void onActivityResult(int requestCode, int resultCode, Intent intent) {
  super.onActivityResult(requestCode, resultCode, intent);

  if (resultCode == RESULT_OK) 
   {   
    try {
         AssetFileDescriptor videoAsset = getContentResolver().openAssetFileDescriptor(intent.getData(), "r");
         FileInputStream fis = videoAsset.createInputStream();
         File videoFile = new File(Environment.getExternalStorageDirectory(),"<VideoFileName>.mp4"); 
         FileOutputStream fos = new FileOutputStream(videoFile);

         byte[] buffer = new byte[1024];
         int length;
         while ((length = fis.read(buffer)) > 0) {
               fos.write(buffer, 0, length);
          }       
         fis.close();
         fos.close();
       } catch (IOException e) {
          // TODO: handle error
         }
    }
 } 
```

试试上面的代码，让我知道你的成功。

# javascript - Twitter Bootstrap Popver 中的谷歌地图

> ID：10545768
> 
> 赞同：2
> 
> 时间：2012-05-11T05:10:45.043
> 
> 标签：javascript, html, google-maps, twitter-bootstrap

我正在使用 Twitter 的 Bootstrap，并希望在[popover](http://twitter.github.com/bootstrap/javascript.html#popovers)中显示 Google Map 。

它现在的工作方式我正在做这样的事情

```
$ ->
  $('.thumbnails a.js-popover').popover
    html: true,
    content: ->
      uid = $(this).data('profileUid')
      popover_container = $('.popover-contents:data(profileUid=' + uid + ')')
      _.each window.Maps, (map) ->
        google.maps.event.trigger map, 'resize' // I hoped this would re-draw the map
      popover_container.html() 
```

弹出框从隐藏的 div 加载它的内容`.popover-contents`，并连接到`a`with data 属性（这样我就可以找到正确的弹出框来显示）

![当不在弹出窗口中时，地图可以完美运行](../Images/f2cd79338549b5ea3f0b11ee8dc2d9e3.png)

该地图在不在弹出窗口中时可以完美运行，我认为它与通过`html()`jQuery 复制到另一个 DOM 元素有关。Twitter 的引导程序不提供`modal opened`回调，我真的不确定如何使地图工作。

![在此处输入图像描述](../Images/9eee75a2b55612947aea74939b9d238e.png)

正如您可以看到地图在完整的个人资料页面上正常工作，标记是相同的（rails 部分），并且 javascript 也是共享的 - 我只能假设 GoogleMaps API 真的不喜欢它的*dom*搞砸了，并因此引起问题。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-11T05:21:34.153

如果您使用弹出框，最好的办法可能是使用[谷歌的静态 API](https://developers.google.com/maps/documentation/staticmaps/)并避免与交互式地图相关的麻烦。从文档中借用一个*非常*简单的案例，您可能会执行以下操作：

```
var options = { content: '<img src="http://maps.googleapis.com/maps/api/staticmap?center=Brooklyn+Bridge,New+York,NY&zoom=14&size=512x512&maptype=roadmap&sensor=false">' };

$('#example').popover(options) 
```

将其包装成可重用的函数会产生：

```
var getMap = function(opts) {
  var src = "http://maps.googleapis.com/maps/api/staticmap?",
      params = $.extend({
        center: 'New York, NY',
        zoom: 14,
        size: '512x512',
        maptype: 'roadmap',
        sensor: false
      }, opts),
      query = [];

  $.each(params, function(k, v) {
    query.push(k + '=' + encodeURIComponent(v));
  });

  src += query.join('&');
  return '<img src="' + src + '" />';
}

var content = getMap({center: 'Fritz-Walter Stadion, Kaiserslautern'});
$('#example').popover({ content: content }) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T05:28:33.067

**此处可能会找到另一个有效答案，但这不是我采用的解决方案。**

似乎被广泛接受的是，在不可见的 DOM 元素中渲染 Google 地图会导致渲染错误，以及解决方案（摘自[http://sethmatics.com/articles/classipress-hidden-map-tab-and-redraw-google -map-canvas/](http://sethmatics.com/articles/classipress-hidden-map-tab-and-redraw-google-map-canvas/)）看起来像这样：

```
 jQuery('.tabprice ul.tabnavig li a').click(function() {
    if(jQuery(this).attr('href') == '#priceblock1') {
        //the element has to be visible on the page for google maps to render properly
        jQuery('#priceblock1').show();
        //rebuild the google map canvas to the proper size
        google.maps.event.trigger(map, 'resize'); 
        //ClassiPress javascript function to build map at address
        codeAddress(); 
    }
}); 
```

我确实认为可能值得将 dom 元素从屏幕的左/右/底部移开很远，以避免它向用户闪烁，或者使用 Z-Indexing 执行某些操作以确保用户不会看到一个不受欢迎的弹出窗口。

然而，就我而言，rjz 建议的静态地图 API 是完美的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-31T18:13:17.967

问题是 google maps api 需要容器的可见元素，因此您应该在**shown.bs.modal**事件处理程序中调用 api。像这样的东西：

```
$picker.popover({
    html: true,
    content: '<div class="superPopover">'
});

$picker.on('shown.bs.popover', function () {
    var $container = $('.superPopover');
    new google.maps.Map($container[0]);
}); 
```

# crystal-reports - 为什么运行总计仅适用于第一个声明的变量？

> ID：10545769
> 
> 赞同：0
> 
> 时间：2012-05-11T05:11:17.970
> 
> 标签：crystal-reports, cumulative-sum

我使用三个公式在报告的页脚中显示总页数：

@InitializeTotals（放置在页眉中）

```
whileprintingrecords;
global currencyvar totalsssprem:=0;
global currencyvar totalhdmfprem:=0;
global currencyvar totalphilhealth:=0;
global currencyvar totalsalcal:=0;
global currencyvar totalhdmfloan:=0;
global currencyvar totalhousing:=0;
global currencyvar totallending:=0;
global currencyvar totalcashadv:=0;
global currencyvar totaldamages:=0;
global currencyvar totalcashbnd:=0;
global currencyvar totalfines:=0;
global currencyvar totallosttck:=0;
global currencyvar totalothers:=0;
global currencyvar totalasscntr:=0;
global currencyvar totalcndonation:=0;
global currencyvar totalnetpay:=0; 
```

@IncrementTotals（放在详细信息部分）

```
whileprintingrecords;
global currencyvar totalsssprem;
global currencyvar totalhdmfprem;
global currencyvar totalphilhealth;
global currencyvar totalsalcal;
global currencyvar totalhdmfloan;
global currencyvar totalhousing;
global currencyvar totallending;
global currencyvar totalcashadv;
global currencyvar totaldamages;
global currencyvar totalcashbnd;
global currencyvar totalfines;
global currencyvar totallosttck;
global currencyvar totalothers;
global currencyvar totalasscntr;
global currencyvar totalcndonation;
global currencyvar totalnetpay;
totalsssprem:= totalsssprem + {deposit_summary.sss_prem};
totalhdmfprem:= totalhdmfprem + {deposit_summary.hdmf_prem};
totalphilhealth:= totalphilhealth + {deposit_summary.philhealth};
totalsalcal:= totalsalcal + {deposit_summary.sal_cal};
totalhdmfloan:= totalhdmfloan + {deposit_summary.hdmf_loan};
totalhousing:= totalhousing + {deposit_summary.housing};
totallending:= totallending + {deposit_summary.lending};
totalcashadv:= totalcashadv + {deposit_summary.cash_adv};
totaldamages:= totaldamages + {deposit_summary.damages};
totalcashbnd:= totalcashbnd + {deposit_summary.cash_bnd};
totalfines:= totalfines + {deposit_summary.fines};
totallosttck:= totallosttck + {deposit_summary.lost_tck};
totalothers:= totalothers + {deposit_summary.others};
totalasscntr:= totalasscntr + {deposit_summary.ass_cntr};
totalcndonation:= totalcndonation + {deposit_summary.cndonation};
totalnetpay:=totalnetpay + {@net_pay}; 
```

以及页脚中每个变量的显示公式。它们看起来都是这样的：

```
whileprintingrecords;
global currencyvar totalsssprem;
totalsssprem 
```

这将显示第一个变量 (totalssprem) 的正确总数，但其余的在页脚中显示为 0.00。有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T14:48:20.247

首先想到的是您的一个（或多个）字段可能为空，这会导致公式出错。在你的增量公式中尝试这样的行，看看它是否有帮助：

`if not(isnull({deposit_summary.sss_prem})) then totalsssprem:=totalsssprem+{deposit_summary.sss_prem};`

# sql-server - 在sql server的select语句中使用case返回多个字段

> ID：10545774
> 
> 赞同：1
> 
> 时间：2012-05-11T05:11:45.323
> 
> 标签：sql-server, sql-server-2005

我有一个表 tb3，其中 id、name、sal 将使用语句显示，只有当标志为“Y”时`SELECT`，城市、描述字段才需要显示在同一语句中。`SELECT`我如何使用`CASE`语句来做到这一点？

```
 id    name    sal city    descrip flag
       7    john    80000.00    Canada  prog    y
       6    jone    90000.00    NY  test    y
       3    san 70000.00    NY        lead  y
       2    sam 70000.00    Cali    sub n
       1    sally   60000.00    Canada  archi   n
       4    carl    70000.00    SA  plain   n 
```

我需要做这样的事情..我知道这是错误的，但是请看一下示例..

```
 declare @test varchar(1)
       select @test=flag from tb3
       select id,name,case @test
       when 'Y' then select city,descrip from tb3
       when 'n' then 'inactive'
       end as status from tb3 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T06:30:20.867

SQL 中的结果集具有一组*固定*的列 - 您不能逐行更改列的数量。如果你想要的东西要么是 columns`city`要么`descrip`是 word `inactive`，那么你必须将这两列连接成一个值：

```
select id,name,
   CASE WHEN flag='Y' then city + ',' + descrip ELSE 'inactive' END as status
from tb3 
```

或者，您可以将它们保留为两列，并`NULL`在不合适时将它们设置为：

```
select id,name,
   CASE WHEN flag='Y' then city END as city,
   CASE WHEN flag='Y' then descrip END as descrip
from tb3 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T05:21:09.583

您可以直接使用标志列的名称，如下所示

**更新：**

```
select id,name ,case flag
when 'Y' then (city +' ' +descrip )
when 'N' then 'inactive'
end as status 
from tb3 
```

你如何使用@test，因为它是 varchar(1) 变量，它将保存“Y”或“N”，这将只返回一种类型的结果。如果最后一行标志值为“Y”，则所有行都将显示城市，描述，如果最后一行标志值为“N”，则无论该行的标​​志列结果如何，它将显示“非活动”。

# image-processing - 用于 ROI 选择的编程相机

> ID：10545775
> 
> 赞同：1
> 
> 时间：2012-05-11T05:11:53.310
> 
> 标签：image-processing, opencv, camera

我想使用相机传输 ROI 而不是完整图像。我这样做是为了增加从相机到 PC 的（有用的）数据传输率（更少的数据，更少的时间），我将对 ROI 进行一些图像处理。基本上，用户将定义 ROI 的坐标，相机将使用该坐标捕获 ROI，并将***仅***将此 ROI 通过 USB 或 gigaBitEthernet 发送到 PC。

是否有可能以编程方式执行此操作，因为我的应用程序将需要动态变化的投资回报率。我们是否有一些 API 可以让我们定义 ROI 并相应地对相机进行编程？

我将在整个应用程序中使用 C/C++ 和 OpenCV。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T14:24:34.427

> 我们是否有一些 API 可以让我们定义 ROI 并相应地对相机进行编程？

这一切都取决于您的相机和驱动程序。[Point Gray](http://www.ptgrey.com)生产的一些相机具有此功能，并且它们带有一个 SDK，该 SDK 提供了一个用于设置 ROI 的 API。

# php - Sphinx_Query 失败：没有启用本地索引来搜索

> ID：10545778
> 
> 赞同：4
> 
> 时间：2012-05-11T05:11:56.540
> 
> 标签：php, mysql, sphinx

嗨，我在我的测试服务器中配置了 sphinx 搜索。

现在我收到这种错误“Sphinx_Query failed: no enabled local index to search”。

我不明白为什么会出现这个错误。任何机构都可以帮助我。

这是我的狮身人面像会议

```
source objectcollection
{
    type                    = mysql
    sql_host                = localhost
    sql_user                = root
    sql_pass                = root
    sql_db                  = mydatabase
    sql_port                = 3306  

    sql_query                       = \
        SELECT id, id as mid  obtype_id, searchtext from tab_objectcollection;

    sql_attr_uint           = mid
    sql_attr_uint           = obtype_id
    sql_query_info      = SELECT * FROM tab_objectcollection WHERE id=$id

}

index combinedobject
{
    source              = objectcollection
    path                = /usr/local/sphinx/var/data/objectcollection
    morphology          = stem_en
    min_stemming_len    = 4
    stopwords           = /usr/local/sphinx/var/data/stopwords.txt
    min_word_len        = 3
    min_prefix_len      = 3
    min_infix_len       = 0
    enable_star         = 1
    phrase_boundary = ., ?, !, U+2026 # horizontal ellipsis
    phrase_boundary_step = 100
    html_strip = 1

}

indexer
{
        # memory limit, in bytes, kiloytes (16384K) or megabytes (256M)
        # optional, default is 32M, max is 2047M, recommended is 256M to 1024M
        mem_limit = 256M

        # maximum xmlpipe2 field length, bytes
        # optional, default is 2M
        #
        max_xmlpipe2_field = 16M

        # write buffer size, bytes
        # several (currently up to 4) buffers will be allocated
        # write buffers are allocated in addition to mem_limit
        # optional, default is 1M
        #
        #write_buffer = 16M
}

searchd
{
    listen              = 3312
    max_matches         = 10000
    log                 = /usr/local/sphinx/var/log/searchd.log
    query_log           = /usr/local/sphinx/var/log/query.log
    pid_file            = /usr/local/sphinx/var/log/searchd.pid
} 
```

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-12T22:03:02.793

你

1.  实际建立索引 - 即称为“索引器”程序，以制作索引文件。
2.  启动搜索守护进程 -`searchd`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-10T13:11:27.663

我认为这个错误意味着 sphinx 在您的索引中找不到由“路径”指定的文件。就我而言，我有：

```
path = /var/lib/sphinxsearch/data/delta 
```

我已经`indexer`成功地运行了（或者我认为）是这样的：

```
indexer delta --rotate 
```

它说收集了一些文件。但是它实际上创建了*这些*文件：

```
/var/lib/sphinxsearch/data/delta.new.sp? 
```

并且`searchd`无法旋转文件。因此说出日志：

```
WARNING: rotating index 'delta': rename '/var/lib/sphinxsearch/data/delta.mvp' to '/var/lib/sphinxsearch/data/delta.old.mvp' failed: No such file or directory 
```

解决方案是：删除这些`new`文件并在`indexer`没有`--rotate`第一次的情况下运行。

`--rotate`第一次不起作用的事实对我来说似乎有点错误，但我真的懒得提交错误报告。它可能需要我注册或一些废话。无论如何，希望这会有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T08:25:24.810

我对您的问题的理解是，在配置文件中，您必须提及要将哪些表或数据编入其中。Sphinx 守护进程也可能存在问题，它无法创建索引数据并将其写入文件。请检查上述内容。希望能以某种方式有所帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-11T20:59:08.780

这似乎是 sphinx 2.0.5 的问题，它在此处归档：

[http://sphinxsearch.com/bugs/view.php?id=1268](http://sphinxsearch.com/bugs/view.php?id=1268)

尝试使用不同的版本（我尝试了 2.0.6 并且问题消失了）

# asp.net - 与 SQL Server 的非受信任连接的风险？

> ID：10545782
> 
> 赞同：0
> 
> 时间：2012-05-11T05:12:10.230
> 
> 标签：asp.net, sql-server, security, sqlconnection, trustedconnection

不使用受信任的连接有什么风险？

例如，这是一个场景：我创建了一个非常简单的应用程序，它只有 4-5 行代码，它使用 SQL 连接和我在 web.config 中的连接字符串，并向我的数据库发送一个选择命令，并显示结果一个界面。

这里的安全弱点是什么？

编辑：

我知道受信任的连接与身份验证有关，我想知道的是，如果我不使用它，我不知道系统如何被黑客入侵？（我将在我公司的服务器上使用我的应用程序，并且该应用程序是公共应用程序，因此每个公司成员都可以使用它，那么如果它是本地公司应用程序，我为什么需要信任连接？）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T08:10:54.917

反过来看，可信连接的主要好处是您不必在应用程序中管理密码。如果您的应用程序需要密码才能连接到 SQL Server，那么您将密码（或连接字符串）放在哪里，以便应用程序用户（或其他开发人员、系统管理员或外部顾问等）无法读取它，但您可以需要时仍可轻松更改？

用户通常可以读取文件或注册表中的密码，因为当他们运行应用程序时，它必须检索密码，因此用户需要访问权限。或者系统管理员或顾问可以访问应用程序配置文件所在的文件系统。可以使用某种形式的加密来混淆密码，但是您必须保护和管理解密密钥。在应用程序中对密码进行硬编码使其难以更改，并且密码很可能在源代码控制系统中可见，这通常是一个相对不安全的系统（实际上，如果不是设计使然的话）。您可以创建一个 Web 服务，应用程序从启动时获取密码，但是您必须以某种方式验证对服务的访问权限。

使用受信任的身份验证通过让操作系统负责身份验证而完全避免了所有这些，除非您是世界级的安全程序员，否则 Windows 提供的机制可能比您自己创建的机制更可靠。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-11T08:44:51.750

> 我将在我公司的服务器上使用我的应用程序，并且该应用程序是公共应用程序，因此每个公司成员都可以使用它，那么如果它是本地公司应用程序，我为什么需要信任连接？

非可信连接中的安全风险在于您如何存储 SQL Server 密码并在应用程序中使用它们。如果您将密码存储在配置文件或程序中的硬代码中，任何其他有权访问您的代码的开发人员都可以查看它，最坏的情况是可以更改数据库，从而可能破坏应用程序或窃取敏感信息。这也将是隐私泄露，您的公司可能会因此被起诉（您无法想象会发生什么）。

@Pondlife 也很好地阐述了。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-11T05:27:05.670

AFAIK，可信连接提供的唯一额外安全层是身份验证。如果您使用受信任的连接，那么 Windows 将在 Active Directory 中验证您的连接。

一个快速的谷歌产生这个链接：

[什么是可信连接？](https://stackoverflow.com/questions/1250552/what-is-a-trusted-connection)

# objective-c - IOS 5中是否有任何有序的字典集合？

> ID：10545785
> 
> 赞同：1
> 
> 时间：2012-05-11T05:12:18.973
> 
> 标签：objective-c, ios5, collections, nsdictionary, nsmutabledictionary

我的问题是我正在使用字典中的表数据源。这本词典包含 20 多个元素。

我需要搜索字典中存在的元素，并且需要将该元素滚动到可见单元格。

我的问题是我找到了该元素，但它不在可见区域内。我需要将其滚动到可见区域。

我怎样才能得到索引？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-11T05:16:23.137

简短的回答？没有。不过我知道那种感觉，这让我...

更长的答案？是吗？我不久前的搜索把我带到了[这个可爱的小页面](http://cocoawithlove.com/2008/12/ordereddictionary-subclassing-cocoa.html)。这家伙为有序字典提供了一个漂亮、整洁的小课堂。我建议阅读全文，它很好地解释了事情。

基本要点是它同时维护 NSMutableArray 和 NSMutableDictionary，使用数组作为索引，使用字典作为键。很简单，真的。

# c - 如何在 C 中连接客户端/服务器（Beej 的网络编程指南）

> ID：10545787
> 
> 赞同：6
> 
> 时间：2012-05-11T05:13:02.847
> 
> 标签：c, sockets, networking, connect

我正在阅读此处的 C 网络编程简单教程： [https ://beej.us/guide/bgnet/html/multi/index.html](https://beej.us/guide/bgnet/html/multi/index.html)

看完之后，我的计划是实现一个测试客户端/服务器程序，然后开始玩，修改东西，添加东西等等。我实现了这里找到的程序（第一个处理 TCP 连接的客户端/服务器集） ： [https ://beej.us/guide/bgnet/html/multi/clientserver.html](https://beej.us/guide/bgnet/html/multi/clientserver.html)

基本上，“服务器”运行在一台机器上，当客户端连接时，服务器只发送“Hello, world!”。当我在同一台机器上运行两者并连接到本地主机时，这工作正常。

但是，我无法在不同的机器之间连接（在 Debian 和 OpenBSD 服务器上都试过，没有 iptables/pf 规则集）。连接只是超时，我不确定为什么。我可以 ping 和 ssh 进入两者。

任何人，特别是熟悉本教程的任何人，都可以为我指明正确的方向吗？

编辑：服务器上没有 X，所以没有截图，但是 netstat -tlnp | grep 3490 什么也没给我。

netstat -an 显示在 3490 上侦听的 tcp 连接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T07:12:50.143

在`if (bind(sockfd, p->ai_addr, p->ai_addrlen) == -1) {`打印出`p->ai_addr`我打赌它的值之前，它是 127.0.0.1。这将导致通信在一台计算机上正常工作，但不会发生在其他任何地方。

要监听所有接口，请绑定 0.0.0.0。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T07:27:58.157

我没有看到您的 servinfo 在代码中的任何位置填写

// 服务器应该允许来自任何 IP 地址的连接

```
 serv_info.sin_addr.s_addr = INADDR_ANY; 
```

此外，您可能需要填写家庭和端口

// 填写服务器的地址族

```
 serv_addr.sin_family = AF_INET; 
```

要了解更多详细信息，这是我在论坛 [http://forum.codecall.net/topic/63924-a-simple-tcp-server-using-linux-c-api/上写的一个工作服务器](http://forum.codecall.net/topic/63924-a-simple-tcp-server-using-linux-c-api/)

# c# - Mutex 控制台发布

> ID：10545798
> 
> 赞同：0
> 
> 时间：2012-05-11T05:14:25.557
> 
> 标签：c#

这是一个控制台应用程序，当我运行下面的程序时，它会显示一个控制台，并且我已经从 bin 目录执行了 3 个其他控制台，现在我的问题是
当 1 个控制台已完成其任务时。控件不会转到其他控制台，它显示相同的显示正在运行（控制台 1）。Running 如何在其他控制台上显示。

```
class Program
{
    static Mutex m = new Mutex(true, "demo");

    public static void Main()
    {
        if (!m.WaitOne(1000))
        {
            Console.WriteLine("another");
            Console.ReadLine();
        }
        else
        {
            try
            {
                run();
            }
            finally
            {
                m.ReleaseMutex();
            }
        }
    }
    public static void run()
    {
        Console.WriteLine("running");
        Console.ReadLine();
        Thread.Sleep(1000);
          m.ReleaseMutex();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T05:40:36.190

您的程序会因为它用于用户输入的 readline 而被卡住，请尝试使用互斥锁，例如下面

```
using (var mutex = new Mutex(false, "demo"))
 {
        mutex.WaitOne(); 
        run(); 
        mutex.ReleaseMutex();
} 
```

# mercurial - 从特定日期克隆 hg 目录

> ID：10545800
> 
> 赞同：9
> 
> 时间：2012-05-11T05:15:39.110
> 
> 标签：mercurial

有没有办法在特定日期获取 hg 存储库的副本？

例如，在颠覆中我会使用：

```
svn checkout -r {2012-04-04} ... 
```

它会检查 4 月 4 日出现的修订。

在 git 中它有点复杂，但可以做到：

```
git checkout `git rev-list -n 1 --before="2012-04-04" master` 
```

你能在 hg 中做同样的事情吗？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-05-11T08:38:45.417

（**编辑：**我对 revsets 的热爱使我忽略了一个明显的答案：`hg update --date 2012-04-04`应该为您提供截至该日期的最新版本。）

如果您已经克隆了整个存储库（日期规范似乎无法使用`clone`），您可以这样做

```
hg update --rev "date('< 2012-04-04')" 
```

如果存储库有可能在您想要的日期有多个头/分支，您将不得不在更多条件下将其缩小到正确的变更集：

```
hg update --rev "date('< 2012-04-04') and branch(v1.1)" 
```

查看`hg help revsets`并`hg help dates`了解更多信息。

稍后，如果您想回到小费，只需

```
hg update 
```

# wordpress - 从posts_meta 表中列出美国各州的帖子

> ID：10545804
> 
> 赞同：-1
> 
> 时间：2012-05-11T05:16:10.807
> 
> 标签：wordpress, listings

我正在开发一个监狱数据库 WordPress 网站，我想在一个页面上显示所有美国州，然后单击一个州应将您带到一个页面以列出该州的所有监狱，一旦单击该监狱应显示该监狱数据

每个监狱都存储为 post，监狱信息存储在 posts_meta 表中

除了按州列出监狱之外，该网站的其余部分运行良好，我无法实施 3 页流程，而且我也是 WordPress 新手

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T13:24:35.173

我相信您最好将 states 用作[Taxonomy](http://codex.wordpress.org/Taxonomies)。

# c# - C# 如何获取外部浏览器中每个浏览器选项卡的唯一 PID，即。铬/火狐/IE

> ID：10545807
> 
> 赞同：1
> 
> 时间：2012-05-11T05:16:23.753
> 
> 标签：c#, browser, tabs, pid

当打开 Windows 任务管理器查看所有打开进程的 PID 时，我可以看到我的 Chrome 浏览器中所有打开的选项卡都有自己唯一的 PID，但是无论使用哪个选项卡时，我都会得到相同的 PID：

```
[DllImport("user32.dll")]
static extern IntPtr GetForegroundWindow();

[DllImport("user32.dll")]
static extern uint GetWindowThreadProcessId(IntPtr hWnd, out uint lpdwProcessId);

IntPtr hwnd = GetForegroundWindow();
GetWindowThreadProcessId(hwnd, out pid); 
```

有谁知道如何唯一标识浏览器选项卡？更进一步，有没有人知道当浏览器标签改变状态或焦点时如何捕捉事件？任何浏览器 - Chrome、Firefox、IE

下面是我在前台窗口更改时捕获 WinEventHook 事件的完整代码：

```
using System;
using System.Runtime.InteropServices;
using System.Text;
using System.Windows.Forms;
using System.Diagnostics;
using System.IO;

namespace focusWindow2
{
public partial class Form1 : Form
{
    [DllImport("user32.dll")]
    static extern IntPtr SetWinEventHook(SystemEvents eventMin, SystemEvents eventMax, IntPtr hmodWinEventProc,
    SystemEventHandler lpfnWinEventProc, uint idProcess, uint idThread, uint dwFlags);

    [DllImport("user32.dll")]
    [return: MarshalAs(UnmanagedType.Bool)]
    static extern bool UnhookWinEvent(IntPtr hWinEventHook);

    [DllImport("user32.dll")]
    static extern uint GetWindowThreadProcessId(IntPtr hWnd, out uint lpdwProcessId);

    delegate void SystemEventHandler(IntPtr hWinEventHook, SystemEvents @event, IntPtr hwnd, int idObject, int idChild,
      uint dwEventThread, uint dwmsEventTime);

    enum SystemEvents
    {
        ForegroundWindowChanged = 0x3  // EVENT_SYSTEM_FOREGROUND - The only flag we care about
    }

    IntPtr _WinEventHook;
    SystemEventHandler _WinEventHookHandler;

    public Form1()
    {
        InitializeComponent();

        // Create the handler
        _WinEventHookHandler = new SystemEventHandler(WinEventHook);

        // Set the hook
        _WinEventHook = SetWinEventHook(SystemEvents.ForegroundWindowChanged, SystemEvents.ForegroundWindowChanged,
        IntPtr.Zero, _WinEventHookHandler, 0, 0, 0);

        this.FormClosing += delegate
        {
            UnhookWinEvent(_WinEventHook);
        };

    }

    private void WinEventHook(IntPtr hWinEventHook, SystemEvents @event, IntPtr hwnd, int idObject, int idChild,
  uint dwEventThread, uint dwmsEventTime)
    {
        uint pid = 0;
        GetWindowThreadProcessId(hwnd, out pid);
        Process p = Process.GetProcessById((int)pid);

        string procName = Path.GetFileName(p.ProcessName);

        textBox1.Text += procName + "  " + pid + "\r\n";

    }
} 
```

}

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T06:35:26.090

你将无法做你想做的事——至少不能以一种可靠的方式。

浏览器的实现方式不同。FireFox 和较旧的 IE 版本使用单进程模型，IE9 是多进程的，但出于性能原因，每个进程将多个选项卡分组，Chrome 每个选项卡执行一个进程。其他浏览器/浏览器版本可以随心所欲（但很可能是单进程）。您必须为要支持的浏览器编写特定的代码，并且您将处理非常深入的实现细节。

对于 Chrome，iirc 模型是一个处理渲染的“宿主窗口”。处理每个选项卡的进程是“工作进程”，主机和工作人员之间来回通信......如果 Chrome 没有用于获取工作进程 PID 的官方 API，那么不要打扰 :)

# java - Java AST 的 Java 安全异常

> ID：10545809
> 
> 赞同：1
> 
> 时间：2012-05-11T05:17:09.430
> 
> 标签：java, exception, abstract-syntax-tree, securityexception

我在我的办公室使用 eclipse 32bit 并开发一个 java 代码来解析 JavaAST，但是当我尝试在家里运行该程序时，我得到了这个异常。我还提供了发生异常的位置。

如何解决此异常？

例外线

```
ASTParser parser = ASTParser.newParser(AST.JLS3); 
```

安全异常

```
Exception in thread "main" java.lang.SecurityException: class "org.eclipse.core.runtime.Plugin"'s signer information does not match signer information of other classes in the same package
    at java.lang.ClassLoader.checkCerts(ClassLoader.java:943)
    at java.lang.ClassLoader.preDefineClass(ClassLoader.java:657)
    at java.lang.ClassLoader.defineClass(ClassLoader.java:785)
    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)
    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:423)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    at java.lang.ClassLoader.defineClass1(Native Method)
    at java.lang.ClassLoader.defineClass(ClassLoader.java:791)
    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)
    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:423)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    at org.eclipse.jdt.core.dom.ASTParser.initializeDefaults(ASTParser.java:235)
    at org.eclipse.jdt.core.dom.ASTParser.<init>(ASTParser.java:218)
    at org.eclipse.jdt.core.dom.ASTParser.newParser(ASTParser.java:118)
    at tester.runTest.main(runTest.java:33) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T05:27:46.687

请参阅 Java 文档中的此页面：[在 JAR 文件中密封包](http://docs.oracle.com/javase/tutorial/deployment/jar/sealman.html)。这是您看到的错误的可能原因。

简而言之，当一个 jar 文件被密封时，JVM 假定该 jar 包中的**每个**类都必须在该 jar 中定义。如果你的项目的其他部分有一些代码属于同一个包，它会将 is 视为安全异常。

检查您在家里运行的代码的结构是否与您在办公室运行的代码相似。您可能在常规`.java`文件中定义了一些可以从 CLASSPATH 访问的类，这些类属于该 jar 文件中定义的相同包。尝试从您的项目中删除任何不必要的依赖项（使其看起来尽可能接近您的工作环境），看看是否能解决您的问题。

*编辑：*我可能误以为**签**了**名**；那么，相关文档是[Signing and Verifying JAR Files](http://docs.oracle.com/javase/tutorial/deployment/jar/signindex.html)。可能的原因和可能的解决方案保持不变，但......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-23T17:33:54.637

此错误是由两次添加 jar 引起的。如果您添加多个共享某些类的 jar，它将以您现在看到的错误结束。

我建议您尝试删除并发 jar，然后测试您的代码。

希望这可以帮助！

# c# - 无法将“System.DBNull”类型的对象转换为“System.String”类型。错误

> ID：10545811
> 
> 赞同：1
> 
> 时间：2012-05-11T05:17:29.017
> 
> 标签：c#, sql, arraylist

我不断收到此错误，因为该记录的 VendorID 为空。我已经看到这个问题已经被问过几次了，似乎我应该在它转换它并将它输入到 dbtable 之前检查是否为 null，但我不知道该怎么做。

```
public static PartOrder findPartOrder(string orderNo)
    {
        PartOrder aPartOrder = new PartOrder();
        OleDbDataAdapter myAdapter = new OleDbDataAdapter();
        if (aConnection.State == ConnectionState.Closed)
            aConnection.Open();
        OleDbCommand cmd = aConnection.CreateCommand();
        OleDbDataReader dbReader = null;
        cmd.CommandText = "SELECT * FROM PartOrder WHERE OrderNo = '" + orderNo + "'";
        dbReader = cmd.ExecuteReader();

        while (dbReader.Read())
        {
            aPartOrder.OrderNo = (string)dbReader.GetValue(0);
            aPartOrder.Length = (string)dbReader.GetValue(1);
            aPartOrder.Finish = (string)dbReader.GetValue(2);
            aPartOrder.Cost = (string)dbReader.GetValue(3);
            aPartOrder.PartDrawingNo = (string)dbReader.GetValue(4);
            aPartOrder.VendorId = (string)dbReader.GetValue(5);
            aPartOrder.ShopId = (string)dbReader.GetValue(6);
            aPartOrder.Completed = (string)dbReader.GetValue(7);
        }

        dbReader.Close();
        return aPartOrder;
    } 
```

再次，“aPartOrder.VendorId = (string)dbReader.GetValue(5);”这一行 收到错误，因为 VendorId 为空。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T05:21:35.230

对于这个特定的行，试试这个：

```
aPartOrder.VendorId = dbReader.GetValue(5)==DBNull?"":dbReader.GetValue(5).value; 
```

更好的是编写一个辅助函数：

```
private static string MyToString(object o)
{
    if(o == DBNull.Value || o == null) 
       return "";

    return o.ToString();
} 
```

并使用它：

```
aPartOrder.VendorId = MyToString(dbReader.GetValue(5)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T05:21:36.483

**单行答案**

```
aPartOrder.VendorId = dbReader.IsDBNull(5) ? "" :(string)dbReader.GetValue(5); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T05:20:47.820

使用`OleDbDataReader.IsDBNull(ordinal)`来验证字段值。

```
if(!dbReader.IsDBNull(5))
  aPartOrder.VendorId = dbReader.GetString(5); 
```

* * *

建议：始终使用参数/预编译的 sql 语句来防止[SQL-Injection](http://en.wikipedia.org/wiki/SQL_injection)攻击。

```
cmd.CommandText = "SELECT * FROM PartOrder WHERE OrderNo = @OrderNo";
cmd.Parameters.Add("@OrderNo",System.Data.OleDb.OleDbType.VarChar,20).Value=orderNo;
dbReader = cmd.ExecuteReader(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-11T05:24:03.440

`dbReader.GetValue(5).HasValue ? dbReader.GetValue(5).ToString() : String.Empty`

# url - 用 PHP 编码 URL，显示 + 而不是 %20

> ID：10545816
> 
> 赞同：0
> 
> 时间：2012-05-11T05:17:57.457
> 
> 标签：url, encoding

我想对帖子的标题进行编码，以便将其添加到我的 URL 中。问题是 urlencode() 给了我一个 URL，例如：

标题：

```
Samsung Nexus S + Hard Case 
```

网址：

```
Samsung%20Nexus%20S%20+%20Hard%20Case 
```

我想要一个更友好的，比如：

```
Samsung+Nexus+S+Hard+Case 
```

我不知道“+”符号会发生什么。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T05:19:27.153

将空格替换为`+`since`%20`是空格的 url 编码。下面是 PHP 中的空间替换示例：

```
str_replace(' ', '+', $url_encoded_string); 
```

# sql - 检查分钟数是否被 5 整除

> ID：10545818
> 
> 赞同：0
> 
> 时间：2012-05-11T05:18:13.627
> 
> 标签：sql, sql-server-2005

我在 sql-server 2005 数据库中将时间存储为十进制（9,2）列。

时间表示为
Time timeInDecimal
1H 20Min 1.33
1H 30Min 1.50
等等

我正在寻找一种简单的方法来检查除整小时以外的分钟数是否没有被 5 整除。
我希望找到的值是时间为 1H:23Min 但不是 1H:25MIN。
我只是不想比较时间的一小部分。

我现在的做法是：

```
RIGHT(CONVERT(varchar(5),DATEADD(minute,ROUND(timeInDecimal * 60,0),0),108),1) not in ('0','5') 
```

但这似乎并不是处理这个问题的理想方法。

感觉我可以为此使用模运算符，但是如何？还是有更好的方法？

希望得到一个快速的答复。
亲切的问候
安德烈亚斯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T05:27:30.857

使用模运算符，两次：

```
ROUND((timeInDecimal % 1) * 60, 0) % 5 <> 0 
```

这将：

1.  获取小数部分并将其转换为分钟。
2.  将其四舍五入到最接近的分钟（0.33 小时 -> 20 分钟，而不是 19.80）。
3.  检查它是否能被 5 整除。

# jakarta-ee - 一个 JSF 页面创建一个单独的 JSF 页面？

> ID：10545821
> 
> 赞同：0
> 
> 时间：2012-05-11T05:18:30.943
> 
> 标签：jakarta-ee, dynamic, jsf-2

我仍然无法找到这个 JSF 2.x 问题的解决方案：

*   运行的 JSF 页面是否有可能`.../myapp/page-manager.html`创建一个**全新**的JSF 页面`.../myapp/new-page1.html`（通过*页面管理器*创建的页面定义并存储在后端数据库中）并将生成的页面添加到现有的（爆炸的）WAR 结构中（或至少将其保存在记忆）被送达？

**请注意：它是关于创建一个***FacesServlet*
可以像任何常规页面一样处理 的全新页面，而不是关于如何动态更改预先存在的页面上的某些组件并支持在数据库中。后者只是问题的一部分。

 *我很高兴尽快获得一些有用的提示（由于它在当前项目中的重要性）。
非常感谢，娜塔莉亚。*

# android - 如何从接收器拨打服务电话取决于是否连接了互联网？

> ID：10545822
> 
> 赞同：4
> 
> 时间：2012-05-11T05:18:44.173
> 
> 标签：android, using, broadcast

我知道如何在活动中检查互联网是否可用，我的要求是，实际上我在设备离线（没有互联网）时将一些值存储在 DB 中，当涉及到在线时，必须将 DB 值传递给服务器没有用户交互。我怎么能做到这一点。我得到了这个例子[如何在整个应用程序中定期检查 Internet 连接？](https://stackoverflow.com/questions/10350449/how-to-check-the-internet-connection-periodically-in-whole-application)但它只适用于一项活动，如何使其成为全球性的。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-11T05:58:19.020

在您的接收器中使用它

```
<receiver android:name=".UpdateReceiver" >
        <intent-filter>
            <action android:name="android.net.conn.CONNECTIVITY_CHANGE" />
        </intent-filter>
    </receiver> 
```

您的更新接收者

```
 public class UpdateReceiver extends BroadcastReceiver {

@Override
public void onReceive(Context context, Intent intent) {

      ConnectivityManager connectivityManager = (ConnectivityManager) 
                                   context.getSystemService(Context.CONNECTIVITY_SERVICE );
      NetworkInfo activeNetInfo = connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);
      boolean isConnected = activeNetInfo != null && activeNetInfo.isConnectedOrConnecting();   
      if (isConnected)       
          Log.i("NET", "connecte" +isConnected);   
      else Log.i("NET", "not connecte" +isConnected);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T05:21:32.370

试试这个功能

```
public static boolean isInternetAvailable(Context context) {
            ConnectivityManager cm =
                (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);
            NetworkInfo netInfo = cm.getActiveNetworkInfo();
            if (netInfo != null && netInfo.isConnectedOrConnecting()) {
                return true;
            }
            return false;
        } 
```

并在清单中

```
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/> 
```

请享用..

# c - 通常使用什么库来开发像俄罗斯方块这样的简单游戏？

> ID：10545828
> 
> 赞同：0
> 
> 时间：2012-05-11T05:19:25.717
> 
> 标签：c

我将在实践中开发俄罗斯方块。但我不知道如何开始，尤其是图形部分 - 如何绘制框架和块？如何在屏幕上移动它们？您能否向我介绍一些有用的库或工具？

编程语言是c。（如果这样做了，我打算用 c++ 和 python 再做一次。:) Windows 或 Unix-like 都可以。如果是便携的就更好了。

我知道 openGL，DirectX 是重量级的库。它是否有效地适合像俄罗斯方块这样的小游戏？有什么轻量级的吗？哪个更好？

如果您能向我推荐一些材料或链接，我将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T05:22:55.277

如果您想将游戏保持在窗口中而不是全屏，那么任何实现某种类型的可绘制画布小部件的库都可以使用。跨平台候选包括[Qt](http://qt.nokia.com/)、[WxWidgets](http://www.wxwidgets.org/)、[FLTK](http://www.fltk.org/)、[GTK+](http://www.gtk.org/)等。如果您想保持在 Windows 等单一平台上，则可以使用[GDI+](http://msdn.microsoft.com/en-us/library/ms533798%28v=vs.85%29.aspx)等较低级别的 Win32 API 。正如我在第一句话中提到的，对于大多数这些库/API，您会希望使用它们的可绘制画布小部件，允许您在窗口上绘制字符形状。您还可以使用某种类型的计时器事件以固定的时间间隔定期更新绘制的窗口。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T05:31:54.673

您可以使用 SDL - 简单且支持许多平台

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-11T06:20:01.550

我建议[SDL](http://www.libsdl.org/)或[Allegro](http://www.allegro.cc/)。两者都提供了获取输入以及进行图形和音频输出的简单方法。两者都是多平台的。

# c++ - 用于处理重复事件的开源库

> ID：10545832
> 
> 赞同：0
> 
> 时间：2012-05-11T05:19:38.820
> 
> 标签：c++, c, ruby, recurrence

我想实现一个日历应用程序并想要处理重复事件，因为重复计算很复杂我想知道是否有任何开源库可用。我希望这些库在 C/C++ 中。我发现一些使用 ruby​​ 的库。但我不确定如何在 C++ 环境中使用它们。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-17T10:04:05.870

是的，您可以使用[libical](http://sourceforge.net/projects/freeassociation/)，它允许您扩展[iCalendar](https://www.rfc-editor.org/rfc/rfc5545)提议标准中的所有重复。当心：实现一个*严肃*的日历应用程序需要付出*巨大*的努力。除非您被迫这样做，否则请三思而后行。

# ios5 - iOS应用程序中的录音机

> ID：10545833
> 
> 赞同：0
> 
> 时间：2012-05-11T05:19:42.277
> 
> 标签：ios5

我正在开发带有录音机的 iOS 应用程序。我正在使用 AVAudioRecorder 以及 AVAudioPlayer。我在同一视图中使用了这两个。我的应用程序还需要在后台模式下播放和录制音频。当我在这里尝试时一切正常。我尝试了很多不同的东西，但我的应用程序不断被拒绝。请给我解决方案。我如何为这种情况设置 AVAudioSession。

# playframework - play2.0框架中如何创建自定义编译错误页面？

> ID：10545835
> 
> 赞同：4
> 
> 时间：2012-05-11T05:20:31.997
> 
> 标签：playframework, playframework-2.0

我想用我自己的错误消息自定义我的编译错误消息页面。

我怎样才能做到这一点？play 2.0会在哪里配置编译错误页面？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T23:18:16.787

最好的办法是创建自己的全局对象，重载 onError(...) 并呈现您自己的页面而不是默认页面。

详细信息可以在[此处的文档中找到](http://www.playframework.org/documentation/2.0/JavaGlobal)

鉴于默认错误页面有多么有用，我喜欢在开发时保留这些错误，并在生产中展示一些对用户更友好的东西。因此，我通常会执行以下操作：

```
public class Global extends GlobalSettings {
    @Override
    public Result onError(Http.RequestHeader requestHeader, Throwable throwable) {        
        if (Application.isDevelopment()) {
            return super.onError(requestHeader,throwable);
        }
        // customer facing
        Application.sendErrorEmail("Error occurred on production server: "+throwable.getMessage());
        // give the customer a reasonable message without giving away any internal details
        return internalServerError("Sorry, but an unexpected error occurred.  Please contact the administrator if this error continues.");
    }

    ...
} 
```

# windows-phone-7 - windows phone push notificatin 的后端服务应该始终是云应用程序吗？

> ID：10545843
> 
> 赞同：1
> 
> 时间：2012-05-11T05:21:13.353
> 
> 标签：windows-phone-7

我想开发一个使用 MSPN 服务的应用程序。我的后端服务是否必须是云服务

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T07:38:52.123

没有办法确定服务是否是云服务（没有反竞争），因此您应该能够使用任何 Web 服务，无论它是否使用 Azure 等云服务实现 - 如我理解它，对于认证，它必须是一个网络服务，而不是依赖于安装在私人网络上的 PC 上的*东西。*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T08:50:08.163

不，你不需要它是一个云服务，你甚至可以用 PHP 或类似的方式实现你的推送服务。但这有限制，它不能定期运行脚本或类似的东西。所有推送通知都必须手动发送。

为此，您需要 2 个核心组件（在我的 PHP 示例中）。

1.  您有一个页面，电话应用程序可以在该页面上注册他的 MSPN Push-Uri，然后将其存储到数据库中。

2.  获取 Uri(s) 然后向它​​们发送推送通知的页面

# model-view-controller - 具有多个屏幕的 UI 的服务层

> ID：10545860
> 
> 赞同：0
> 
> 时间：2012-05-11T05:23:12.943
> 
> 标签：model-view-controller, design-patterns, model, mvp, service-layer

我正在构建一个winforms屏幕。屏幕上会显示

```
类别1
  子 1-1
  子 1-2
  子 1-3
类别2
  子 2-1

```

点击`sub-1-1`会弹出画面，显示sub-1-1相关数据；sub-1-2, ... 等也一样。所以总共会有 5 个表单（1 个主表单 + 4 个弹出表单用于上面的示例（实际上将有大约 30 个子类别））。

我有`Categories`, `sub-1-1`, `sub-1-2`, ...,的模型`sub-2-1`。我正在写一个服务层。我应该这样做，

```
public class ServiceLayer 
{
  CategoriesModel GetCategories();
  Sub11Model GetSub11();
  Sub12Model GetSub12();
  Sub13Model GetSub13();
  Sub21Model GetSub21();
  .....
} 
```

或者每个表单都有它现在的服务类实例？

```
public class ICategoryService { ... }
public class ISubCategoryService<T> 
{
  T GetSub();
}

var sub11 = new SubService<Sub11Model>();
var sub12 = new SubService<Sub12Model>();
var sub13 = new SubService<Sub13Model>();
var sub21 = new SubService<Sub21Model>();
.... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T05:32:10.290

第一个看起来像[GOD](http://en.wikipedia.org/wiki/God_object)类，可能会违反大多数[SOLID](http://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29)原则。它会使代码难以重构，即使它只是一个[门面](http://en.wikipedia.org/wiki/Facade_pattern)。

您当然应该使用只处理[一项职责](http://blog.gauffin.org/2011/07/single-responsibility-prinicple/)的较小接口。

# python-3.x - 基本 Python 计算

> ID：10545862
> 
> 赞同：-1
> 
> 时间：2012-05-11T05:23:20.053
> 
> 标签：python-3.x

如果出现以下情况，您将如何获得 1.75：

```
num2=24
num1=3
total=14

print('Subtotal left: %.1f' % (num2/(num1*total))) 
```

他们是另一种编写此计算以获得该结果的方法吗？我只能得到 0.4、2.3 等我知道 Python 遵循 PEMDAS 我已经尝试了整晚以获得该结果，但不幸的是我对 Python 还不够聪明。

请帮忙！:)

干杯。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T05:28:32.537

```
14/(24/3)==1.75 
```

我会把编码留给你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-04-21T14:39:32.810

你可以试试：

```
result = (total*num1)/num2
print("Subtotal left: %f" % result) 
```

输出：

```
Subtotal left: 1.75 
```

# c - 获取 void* 的大小以创建简单的通用动态分配数组 - C

> ID：10545868
> 
> 赞同：5
> 
> 时间：2012-05-11T05:24:16.670
> 
> 标签：c, arrays, memory-management, dynamic-arrays

我在 C 中创建了一个简单的动态数组。

```
typedef struct varray_t
{
    void **memory;
    size_t allocated;
    size_t used;
    int index;              
} varray;

void
varray_init(varray **array)
{
    *array = (varray*) malloc (sizeof(varray));    
    (*array)->memory = NULL;
    (*array)->allocated = 0;
    (*array)->used = 0;
    (*array)->index = -1;
}

void
varray_push(varray *array, void *data, size_t size)
{
    if ((array->allocated - array->used) < size) {
        array->memory = realloc(array->memory, array->allocated + size);
        array->allocated = array->allocated + size;
    }

    array->used = array->used + size;   
    array->memory[++array->index] = data;
}

int
varray_length(varray *array)
{
    return array->index + 1;
}

void
varray_clear(varray *array)
{
    int i;
    for(i = 0; i < varray_length(array); i++)
    {
        array->memory[i] = NULL;
    }    
    array->used = 0;
    array->index = -1;
}

void 
varray_free(varray *array)
{
    free(array->memory);
    free(array);
}

void*
varray_get(varray *array, int index)
{
    if (index < 0 || index > array->index)
        return NULL;

    return array->memory[index];
} 
```

这工作正常。但是要将项目添加到数组中，调用者必须传入要添加的元素的大小。我想不出另一种方法来获取传入的大小`void*`。我想知道是否有更好的设计方法`varray_push(varray *array, void *data, size_t size)`可以`size`推断出来？

任何帮助都会很棒

**建议后编辑的代码**

我的数组将只包含指针元素。我根据 Blastfurnace 的建议修改了代码。新代码将按`sizeof(void*)`常数比例使用和调整内存大小，以在插入时获得摊销的常数时间。

```
void
varray_push(varray *array, void *data)
{
    size_t toallocate;
    size_t size = sizeof(void*);
    if ((array->allocated - array->used) < size) {
        toallocate = array->allocated == 0 ? size : (array->allocated * 2);
        array->memory = realloc(array->memory, toallocate);
        array->allocated = array->allocated + toallocate;
    }

    array->memory[++array->index] = data;
    array->used = array->used + size;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T05:42:20.550

如果数组一次只包含一种类型，那么您可以将数组类型的大小存储在 varray_init 中。

另外，我的建议是，不是为每个元素分配新鲜的内存，而是每次都可以为恒定大小分配内存，即首先为 16 个元素分配内存，然后当你发现数组已满时，将元素重新分配为 16 + 16 = 32 个元素。通过这种方式，您可以避免一次又一次地调用 malloc，并且单独为小尺寸数据保持 malloc 并不是一个好主意。

编辑：在考虑 Blastfurnace 评论之后，我觉得如果您的意图是存储数据而不是指向数据的指针，那么您实际上应该对数据进行 memcpy 而不是分配。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T06:19:13.710

我有一个简单易用的链表实现，您可以使用它。我不会说这是教科书的质量，但很容易：[https ://github.com/inorton/xrlist](https://github.com/inorton/xrlist)

```
#include <stdio.h>
#include "xrlist.h"

xr_list_t * mylist = xrlist_new();

xrlist_push(mylist, (void*) ptr1);
xrlist_push(mylist, (void*) ptr2); 
```

你像这样迭代： -

```
xr_list_item_t * iter = mylist->head;
while ( iter != NULL ) 
{
  printf(" * item [0x%x] contains [%s]\n",
    (unsigned int) iter->object, (char*) iter->object );
  iter = iter->next; 
} 
```

你也有通常的删除/添加/释放功能。在此处查看**[更多示例](https://github.com/inorton/xrlist/blob/master/tests/list.c)**。

如果你想要像字典这样的随机访问数据，你也可以试试[https://github.com/inorton/xrhash](https://github.com/inorton/xrhash)

# mysql - 重复日历事件和一些期末数学

> ID：10545869
> 
> 赞同：13
> 
> 时间：2012-05-11T05:24:39.013
> 
> 标签：mysql

我正在尝试使用 PHP/MySQL 在日历上臭名昭著的重复事件。我终于找到了一些似乎有效的东西。我在[这里找到了答案，](https://stackoverflow.com/a/5186095/158126)但我很难完成它。

我的第一张桌子“活动”。

```
ID    NAME
1     Sample Event
2     Another Event 
```

我的第二个表 'events_meta 存储重复数据。

```
ID    event_id      meta_key           meta_value
1     1             repeat_start       1336312800 /* May 7th 2012 */
2     1             repeat_interval_1  432000 /* 5 days */ 
```

repeat_start 是一个没有时间作为 unix 时间戳的日期，而 repeat_interval 是间隔之间的秒数（432000 是 5 天）。

然后我有以下 MySQL，我从上面的链接稍微修改了它。下面使用的时间戳（1299132000，即 2012 年 5 月 12 日）是没有时间的当天。

```
SELECT EV.*
FROM `events` EV
RIGHT JOIN `events_meta` EM1 ON EM1.`event_id` = EV.`id`
RIGHT JOIN `events_meta` EM2 ON EM2.`meta_key` = CONCAT( 'repeat_interval_', EM1.`id` )
WHERE EM1.meta_key = 'repeat_start'
    AND (
        ( CASE ( 1336744800 - EM1.`meta_value` )
            WHEN 0
              THEN 1
            ELSE ( 1336744800 - EM1.`meta_value` ) / EM2.`meta_value`
          END
        )
    ) = 1 
```

在上面的 MySQL 中，以下代码`EM1.'meta_value'`从当前日期中减去 repeat_start 字段 ()，然后除以重复间隔字段 ( `EM2.'meta_value'`)。

```
ELSE ( 1336744800 - EM1.`meta_value` ) / EM2.`meta_value` 
```

或者

```
TODAYS DATE - START DATE / 5 DAYS 
```

所以这里是数学：

```
1336744800 - 1336312800 = 432000
432000 / 432000 = 1 
```

现在效果很好。但是，如果我提前 5 天将当前时间戳更改为 1336312800，即 17th Mat 2012，它看起来有点像这样：

```
1336312800 - 1336312800 = 864000
86400 / 432000 = 2 
```

哪个不起作用，因为它等于 2 而在 MySQL 中它需要等于 1。所以我想我的问题是，如何让 MySQL 识别一个整数而不是必须这样做？

```
...
WHERE EM1.meta_key = 'repeat_start'
    AND (
        ( CASE ( 1336744800 - EM1.`meta_value` )
            WHEN 0
              THEN 1
            ELSE ( 1336744800 - EM1.`meta_value` ) / EM2.`meta_value`
          END
        )
    ) = IN (1,2,3,4,5,6,7,8,....) 
```

希望我是有道理的，我希望这只是一个简单的数学问题或 MySQL 具有的函数会有所帮助:) 感谢您的帮助！

**编辑：答案**

感谢下面的@eggypal，我找到了答案，当然很简单！

```
SELECT EV.*
FROM elvanto_calendars_events AS EV
RIGHT JOIN elvanto_calendars_events_meta AS EM1 ON EM1.`event_id` = EV.`id`
RIGHT JOIN elvanto_calendars_events_meta AS EM2 ON EM2.`meta_key` = CONCAT( 'repeat_interval_', EM1.`id` )
WHERE EM1.meta_key = 'repeat_start'
AND ( ( 1336744800 - EM1.`meta_value` ) % EM2.`meta_value`) = 0 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-11T11:05:22.310

尚不完全清楚您希望查询*做什么*，但是您的问题的要点使我倾向于建议您研究模块化算术：在 SQL 中，当除以时`a % b`返回*余数*- 如果没有余数（即）， then必须是 的精确*倍数*。`a``b``a % b = 0``a`*`b`*

 *在您的情况下，我*认为*您正在尝试查找事件开始和某个给定文字之间的时间是事件间隔的精确倍数的事件：即 `(literal - event_start) % event_interval = 0`. 如果它不为零，则该值是下一次发生之后的时间`literal`（因此，要确定下一次发生是否发生在某个时间段内，比如一天，我们将测试余数是否小于常数，例如`(literal - event_start) % event_interval < 86400`）。

如果这不是您所追求的，请准确说明您的查询要达到的目标。*

# struts2 - Struts2 Fileupload过程中出现空指针异常

> ID：10545873
> 
> 赞同：2
> 
> 时间：2012-05-11T05:25:42.500
> 
> 标签：struts2

我正在 Struts2 应用程序中执行文件上传过程。当我在动作类中显示文件名和内容类型时，它显示空指针异常。

我已经包含了 jar 文件并使用了以下代码。

在上传.jsp

```
<s:form action="saveBulkStores.action" method="POST" enctype="multipart/form-data">
   <s:actionmessage name="message"/>
   <s:label value="File Name : *" />
   <s:file name="upload"  label="File" size="40"/>  
   <br> 
   <br> 
   <s:submit name="ADD" value="UPLOAD"/>
   <input type="button" onClick="cancelFunction()" name="Cancel" value="Cancel" tabindex="10"> 
</s:form> 
```

在 struts.xml 中

```
<action name="saveBulkStores" class="com.rewardz.action.FilesUploadAction" method="saveBulkStores">  
   <interceptor-ref name="fileUpload">
      <param name="maximumSize">52428800</param>
   </interceptor-ref>
   <interceptor-ref name="basicStack"/> 
   <result name="input">/uploadfile.jsp</result>
   <result name="viewFile">/viewfile.jsp</result> 
   <result name="Reload">/uploadfile.jsp</result> 
</action> 
```

在动作类中：

```
private File file;
private String contentType;
private String filename;

public void setUpload(File file) {
   this.file = file;
}

public void setUploadContentType(String contentType) {
   this.contentType = contentType;
}

public void setUploadFileName(String filename) {
   this.filename = filename;
}

public String saveBulkStores() throws IOException{
   System.out.println("check Bulk upload file");  
   String filePath = request.getRealPath("/");
   System.out.println("Server path:" + filePath);

   System.out.println("UPLOADFILECONTENT TYPE:"+contentType);
   System.out.println("UPLOADFILENAME:"+filename);
   System.out.println("UPLOADFILE:"+file);  

   System.out.println("**********************************");

   value = "viewFile";

   System.out.println("Forward Value:"+value);
   return value;
} 
```

Server.log 中的输出：（使用 GlassFish Server）

```
check Bulk upload file
C:\glassfish3_installer\glassfish\domains\domain1\applications\My_Application\
UPLOADFILECONTENT TYPE:null
UPLOADFILENAME:null
UPLOADFILE:null 
```

所以请任何人帮助我获取Struts2上传过程中的文件名，文件路径。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T06:24:19.843

嗨 Shiva，问题出在您在动作类中使用的标签上。

```
<s:file name="upload"  label="File" size="40" /> 
```

在您的操作类中不存在上传属性的地方有一个属性文件文件您使用文件而不是上传，这样可以解决您的问题

```
<s:file id="file" name="file"  /> 
```

# c# - 如何在 ebay FindingAPI 搜索中使用或格式化关键字

> ID：10545877
> 
> 赞同：1
> 
> 时间：2012-05-11T05:26:17.820
> 
> 标签：c#, ebay-api

我正在使用以下代码根据关键字搜索项目：

```
using System;
using System.IO;
using System.Collections.Generic;
using System.Text;
using ConsoleApplication1.EbayServiceReference;
using System.ServiceModel;
using System.ServiceModel.Channels;

namespace ConsoleApplication1
{
    class Program
    {
        static void Main(string[] args)
        {
            TextWriter tw = new StreamWriter("1001.txt");
            using (FindingServicePortTypeClient client = new FindingServicePortTypeClient())
            {
                MessageHeader header = MessageHeader.CreateHeader("My-CustomHeader", "http://www.mycustomheader.com", "Custom Header");
                using (OperationContextScope scope = new OperationContextScope(client.InnerChannel))
                {
                    OperationContext.Current.OutgoingMessageHeaders.Add(header);
                    HttpRequestMessageProperty httpRequestProperty = new HttpRequestMessageProperty();
                    httpRequestProperty.Headers.Add("X-EBAY-SOA-SECURITY-APPNAME", "myappid");
                    httpRequestProperty.Headers.Add("X-EBAY-SOA-OPERATION-NAME", "findItemsByKeywords");
                    httpRequestProperty.Headers.Add("X-EBAY-SOA-GLOBAL-ID", "EBAY-US");
                    OperationContext.Current.OutgoingMessageProperties[HttpRequestMessageProperty.Name] = httpRequestProperty;

                    FindItemsByKeywordsRequest request = new FindItemsByKeywordsRequest();

                    request.keywords = "gruen wristwatch parts -(sara,quartz,embassy,bob,robert,elephants,adidas)";
                    FindItemsByKeywordsResponse check = client.findItemsByKeywords(request);
                    int totalEntries = check.paginationOutput.totalEntries;
                    Console.WriteLine(totalEntries);
                    int totalPages = (int)Math.Ceiling((double)totalEntries / 100.00);

                    for (int curPage = 1; curPage <= totalPages; curPage++)
                    {
                        PaginationInput pagination = new PaginationInput();

                        pagination.entriesPerPageSpecified = true;
                        pagination.entriesPerPage = 100;
                        pagination.pageNumberSpecified = true;
                        pagination.pageNumber = curPage;
                        request.paginationInput = pagination;

                        FindItemsByKeywordsResponse response = client.findItemsByKeywords(request);

                        foreach (var item in response.searchResult.item)
                        {
                            Console.WriteLine(item.viewItemURL.ToString());
                            tw.WriteLine(item.viewItemURL.ToString());
                        }
                    }
                }
            }

            tw.Close();
            Console.WriteLine("end");
            Console.ReadKey();
        }
    }
} 
```

这是原始关键字集：

> > gruen 手表零件 -sara -quartz -embassy -bob -robert -elephants -adidas

如果我使用这个关键字集，它会返回 3 个项目：结果在[这里](http://www.ebay.com/sch/i.html?_nkw=gruen%20wristwatch%20parts%20-sara%20-quartz%20-embassy%20-bob%20-robert%20-elephants%20-adidas%20&_sacat=0&_odkw=gruen%20-sara%20-quartz%20-embassy%20-bob%20-robert%20-elephants%20-adidas%20wristwatch%20parts&LH_Auction=1&_osacat=0)

我已将其格式化为`FindingAPI`根据此[参考使用](http://developer.ebay.com/devzone/finding/Concepts/FindingAPIGuide.html#usekeywords)

> > gruen 手表零件-（萨拉、石英、大使馆、鲍勃、罗伯特、大象、阿迪达斯）

它返回 13 个项目。我认为它也应该返回 3 个项目。造成这种差异的原因是什么，我可以使用替代语法获得预期结果吗？

# javascript - 在使用 javascript 和 jQuery lib 与元素交互之前实现等待元素存在 N 秒

> ID：10545879
> 
> 赞同：3
> 
> 时间：2012-05-11T05:26:24.270
> 
> 标签：javascript, jquery

我有以下代码：

```
var play = function() {
    $(steps).each(function(i, e) {
        $(this).is(':visible') 
            ? $(this).click()
            : console.log($(this).html() + ': not visible');
    });
}; 
```

这段代码的问题在于，如果元素可见，它会**立即**单击该元素。但是，我想在单击元素之前等待/轮询该元素最多**N秒。**关于如何实现这一点的任何建议？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T05:29:29.183

然后使用`setTimeout()`. 由您决定如何通过/获得`N`

```
var play = function() {
    $(steps).each(function(i, e) {

        //preserve target since "this" in the timeout may be different
        var target = $(this);

        setTimeout(function(){
            if(target.is(':visible')){
                 target.click();
            }
        },N); //Click and check after N milliseconds

    });
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T05:29:38.123

关于什么...

```
setTimeout(function(){ $(this).click(); }, 5000) // 5 sec 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T06:31:04.677

我想你可能想要一个 setInterval 作为轮询部分。也许是这样的：

[http://jsfiddle.net/GVu98/](http://jsfiddle.net/GVu98/)

基本上只需设置一个间隔，该间隔将继续运行，直到您等待的东西出现，然后清除间隔。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-11T05:30:59.870

```
var play = function() {
    $(steps).each(function(i, e) {
        $(this).is(':visible') 
            ? setTimeout(function(){ $(this).click(); }, TIME),
            : console.log($(this).html() + ': not visible');
    });
}; 
```

其中 TIME 是您要等待的毫秒数 :)

# wordpress - 如何在自定义页面上使用 wordpress 设置和会话信息？

> ID：10545886
> 
> 赞同：0
> 
> 时间：2012-05-11T05:27:13.147
> 
> 标签：wordpress

我是为 wordpress 网站设计应用程序的新手。这是我第一次在 wordpress 环境中创建应用程序。我正在创建一个 PHP 脚本**getinfo.php**，它将提供一个 json 对象，其中包含有关 wordpress 中当前登录用户的信息。为此，我需要知道初始化 wordpress 后端 PHP 环境的 php 代码。

例如，包括一个 php 文件或调用一个函数，该函数将从 wordpress 网站的数据库中加载用户的会话信息。

例如，如果任何基本的 PHP 网站将当前登录用户的信息存储在 $_SESSION 变量中。对于这样的网站，我将在**getinfo.php**中编写以下代码以从用户会话中获取信息。

```
session_start();
$username = $_SESSION['username'];
$userid = $_SESSION['userid'];
$email = $_SESSION['email']; 
```

在 wordpress 环境中获取完全相同信息的代码是什么？
如何在 wordpress 中初始化会话对象？
以及如何访问它？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T07:53:44.317

wordpress 没有使用`$_SESSION`- 但您可以通过全局`$current_user`对象获取用户信息。

wp 中的上述内容应如下所示：

```
if (is_user_logged_in()) {
    global $current_user;
    get_currentuserinfo();

    echo 'Username: ' . $current_user->user_login . "\n";
    echo 'User email: ' . $current_user->user_email . "\n";
    echo 'User first name: ' . $current_user->user_firstname . "\n";
    echo 'User last name: ' . $current_user->user_lastname . "\n";
    echo 'User display name: ' . $current_user->display_name . "\n";
    echo 'User ID: ' . $current_user->ID . "\n";
} 
```

# c# - 在 ASP.Net 中创建动态 Div 标签

> ID：10545890
> 
> 赞同：0
> 
> 时间：2012-05-11T05:27:32.323
> 
> 标签：c#, asp.net, web-applications, dynamic, html

我正在开发 Web 应用程序。在那我使用这么多的 Div 打开弹出窗口。现在我的要求是为该弹出窗口创建动态 div，并且该 div 的所有内容都来自数据库。

那么任何人都可以告诉我如何以编程方式动态创建 Div 吗？

我的 Div 示例代码..

```
 <div id="Popup" runat="server" class="hidden-content">
            <table width="auto">
                <tr>
                    <td style="font-size: 20px; font-weight: bold; text-align: center;">
                        <p>
                        </p>
                        <b>Diabetes</b>
                    </td>
                </tr>
                <tr>
                    <td style="font-size: 15px; text-align: left;">
                        <p>
                            Type I diabetes (also known as juvenile diabetes) is the less common form of diabetes.
                            It usually is diagnosed during childhood or teen years and requires treatment with
                            insulin.
                        </p>
                    </td>
                </tr>
            </table>
        </div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T05:33:29.453

我会在页面中插入 PlaceHolder 或 Literal 控件，并在 PageLoad 或 PageRender 上插入 html 控件/文本。

如果您使用占位符控件，您可以使用 System.Web.UI.HtmlControls 中的 HTML 控件创建内容。

通过使用占位符控件，您还可以编写一个自定义 WebControl，您可以在站点内的其他位置重复使用该控件。然后可以在运行时将其添加到占位符控件中。

对于 liteal，您只需将控件 div HTML 附加为文本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T05:40:15.323

您可以使用 stringbuilder 添加 html 使用下面的 cose 以编程方式添加 html。

```
 using System.Text;

 StringBuilder strdiv = new StringBuilder();
 strdiv.Append("Put your Html here");
 strdiv.Append("Add much as you want "); 
```

之后将该字符串生成器分配给标签，以便在 html 中获得一个标签，其 id 为“ **htmllabel** ”，添加以下行以在标签中附加 html。

```
 htmllabel.Text = strdiv.ToString(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T05:42:07.923

您需要使用名为 asp:Panel 的已定义服务器控件，该控件将呈现为 div。以编程方式创建面板并将它们添加到您的页面：例如 Page.Controls.Add(myPanel);

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-11T06:24:43.467

我正在开发一个 Web 应用程序，在该应用程序中我需要与您从这里需要的相同的东西，您将得到一些想法并根据您的要求进行一些修改。[在这里查看我的文章](http://www.c-sharpcorner.com/UploadFile/086dd0/lightbox-in-Asp-Net-connected-with-sqlserver/)

如果您有任何疑问，请询问。

谢谢 ：-）

# php - 从 Paypal 检索银行提款

> ID：10545899
> 
> 赞同：1
> 
> 时间：2012-05-11T05:28:41.897
> 
> 标签：php, paypal

有没有办法使用 Paypal API 检索银行提款？
它在这里说：
[https://cms.paypal.com/us/cgi-bin/?cmd=_render-content&content_ID=developer/e_howto_api_nvp_r_GetTransactionDetails](https://cms.paypal.com/us/cgi-bin/?cmd=_render-content&content_ID=developer/e_howto_api_nvp_r_GetTransactionDetails)
“某些交易的详细信息无法使用 GetTransactionDetails 检索。您无法获取例如，银行转账取款。”
但是有什么办法吗？我真的需要检索这些数据。

谢谢。

# android - 在列表视图中显示来自 web 服务的大数据的最佳方法/模式

> ID：10545904
> 
> 赞同：3
> 
> 时间：2012-05-11T05:29:00.727
> 
> 标签：android, web-services, design-patterns, listview

这会更长，但我需要解释一下。

我有一个应用程序需要在列表视图中显示数千个项目的数据。这可以与具有特定类别的大量应用程序的 Google Play 商店进行比较。（其中大多数应用程序使用延迟加载，当用户向下滚动时加载越来越多的数据。另一个应用程序是 Gmail 应用程序对话列表。我们不断滚动以加载更多。我们可以在 Google 图片搜索桌面版中看到相同的内容。）

但是上面对填充列表项有一个限制，最后它只是停止加载更多数据。但是，如果它是按字母顺序排列的人名列表怎么办。我不能停止列出几个名字。也不希望有一个字母选择加载列表。

什么是理想的解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T05:48:28.767

在服务器端实现**分页**机制，以便您逐页拥有特定数量的记录，这样您将实现与 Google play 和其他应用程序相同的加载更多功能。

# vb6 - VB 6 SP6数据报告中报告宽度大于纸张宽度错误

> ID：10545911
> 
> 赞同：2
> 
> 时间：2012-05-11T05:29:48.920
> 
> 标签：vb6

即使将方向更改为横向，我也收到此错误。

```
Feepurpose.Orientation = rptOrientLandscape
Feepurpose.Show 
```

我设置的属性

LeftMargin - 1440 RightMargin - 1440 ReportWidth - 8655 Paperwidth - 10800

我正在使用 VB6 Service Pack 6

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-28T06:29:43.073

将 leftmargin , rightmargin, topmargin, top,Right,Left 设置为零。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-15T14:21:17.580

当您将鼠标移动到“报告区域”的右侧时，您会发现一个图标，该图标是一个“带有左右箭头的垂直线”，当您将鼠标移动到“报告区域”的底部时，您将找到一个图标，该图标是附在其上的“带有上下箭头的水平线”。只需调整布局并保存报告，看看它是否有效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-11-06T22:07:12.690

我的问题通过删除该`report.refresh`功能得到解决。

```
 Set report.DataSource = myRS
        report.BottomMargin = 0
        report.LeftMargin = 0
        report.RightMargin = 0
        report.TopMargin = 0
        '------ report.refresh 
        report.Show 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2017-10-13T00:47:17.433

```
Set borderstyle = 4 
```

4 = vbfixedToolWindow 用于报告，它应该可以工作

# tomcat - 在 tomcat 7.0 中配置 tomcat 以支持 ssl 的问题

> ID：10545922
> 
> 赞同：6
> 
> 时间：2012-05-11T05:31:32.180
> 
> 标签：tomcat, ssl

为了在 tomcat 中支持 ssl ....我制作了一个 Keystore 文件。包含自签名证书.....然后打开tomcat 7.0的server.xml文件并在server.xml中找到此代码

```
`     <!-- Define a SSL HTTP/1.1 Connector on port 8443
     This connector uses the JSSE configuration, when using APR, the
     connector should be using the OpenSSL style configuration
     described in the APR documentation -->

     <!-- <Connector port="8443" protocol="HTTP/1.1" SSLEnabled="true"
           maxThreads="150" scheme="https" secure="true"
           clientAuth="false" sslProtocol="TLS" /> -->    ` 
```

并从连接器中删除注释并将**KeystoreFile**条目和**KeystorePass**条目放入未注释的连接器代码中，如下所示......

```
`    <Connector port="8443" protocol="HTTP/1.1" SSLEnabled="true"
      maxThreads="150" scheme="https" secure="true"
      clientAuth="false" sslProtocol="TLS" **keystoreFile**="d:\cpademo.keystore"
     **keystorePass**="cpademo"/>      `

The above code works in tomcat 6.0...and allow https connection with tomcat but i get the error in tomcat 7.0 log file which indicate that it does not suppoert connection to https 8443 connection. Error in log file is following as.....

ERROR:

SEVERE: Failed to initialize end point associated with ProtocolHandler ["http-ap
r-8443"]
java.lang.Exception: Connector attribute SSLCertificateFile must be defined when
using SSL with APR
    at org.apache.tomcat.util.net.AprEndpoint.bind(AprEndpoint.java:484)
    at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:554) 
```

请帮我解决这个问题。提前感谢

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-05-11T07:32:46.277

您将 APR/native 连接器与 JSSE 连接器（BIO 和 NIO）的 SSL 配置一起使用。最简单的解决方法是在 server.xml 中注释掉 APR 生命周期侦听器。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-11-03T20:16:55.197

你必须`protocol`从

```
protocol="HTTP/1.1" 
```

至

```
protocol="org.apache.coyote.http11.Http11NioProtocol" 
```

这是一篇好文章 [http://java.dzone.com/articles/setting-ssl-tomcat-5-minutes](http://java.dzone.com/articles/setting-ssl-tomcat-5-minutes)

mkyong 的文章已经过时，缺少我上面提出的更改。

# wso2 - WSO2 - 通过自定义 UI 连接到 WS02 数据服务/ESB

> ID：10545923
> 
> 赞同：0
> 
> 时间：2012-05-11T05:31:38.277
> 
> 标签：wso2, wso2esb, esb, wso2dss

我需要使用 extJS/JSP 创建一个自定义用户界面，这将允许我执行以下操作

1）使用类似于carbon UI的UI创建数据服务并部署。

2) 使用类似于 carbon UI 的 UI 创建一个 esb 服务并部署它。

我找不到可以与其他用户界面集成并提供此功能的 API。

阿什什

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T10:11:18.540

是的，您可以创建自己的 UI。这可以通过我们拥有的设计功能实现，即前端/后端分离。基本上对于每个组件，我们都有一个前端 UI 组件和一个核心后端组件。这两者使用 Web 服务相互通信。基本上，后端组件从安全的 Web 服务中公开其功能，我们称之为“管理服务”。这些管理服务是从前端组件的 JSP 调用的。因此，如果您使用 JSP 或任何其他技术编写我们自己的 UI 逻辑，您只需要有一种方法来调用那些安全的管理 Web 服务来获得您需要的功能。基本上所有的功能，比如保存数据服务、ESB 代理服务等等，都可以使用这些管理服务来完成。对于 Carbon 3.2.x 平台，[https://svn.wso2.org/repos/wso2/branches/carbon/3.2.0/service-stubs](https://svn.wso2.org/repos/wso2/branches/carbon/3.2.0/service-stubs)。

干杯，安佳娜。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-05-14T18:44:39.797

您可以使用 carbon studio（现为 WSO2 Developer Studio）。

# android - 使用 HTML 构建 android 应用程序

> ID：10545929
> 
> 赞同：2
> 
> 时间：2012-05-11T05:32:36.280
> 
> 标签：android, html

我是一名 Android 新手，我想学习如何使用 HTML 构建 Android 应用程序。最好的开始方式是什么？请推荐一些好的链接和电子书。

另外，我想从基础学习到高级主题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T05:42:42.173

为此使用电话间隙。

这是一个开始的链接

[http://www.mobiledeveloperssolutions.com/home/start](http://www.mobiledevelopersolutions.com/home/start)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T05:43:21.217

使用[PhoneGap库](http://phonegap.com)制作android应用`HTML`，基本上是javascript

无需使用原生 android sdk

对于移动 UI，您可以使用[JQUERY MOBILE](http://jquerymobile.com/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T06:43:56.940

使用应用加速器！！！它是多平台的，文档比竞争对手更好。

[http://www.appcelerator.com/platform](http://www.appcelerator.com/platform)

[http://docs.appcelerator.com/titanium/2.0/index.html](http://docs.appcelerator.com/titanium/2.0/index.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-10-08T12:50:04.177

你可以使用phonegap、cooconjs，最新的是crosswalk。最简单的是使用[adobe phonegap builder](https://build.phonegap.com/)的 phonegap 。您还可以在社区论坛中查看 consturct 2 网站，了解如何使用这些服务将 html 转换为 apk。

根据我的经验，phonegap build 是最容易使用的服务，只需将 html 文件和配置文件上传到zip 文件中的[Adob​​e Phonegap Build](https://build.phonegap.com/)即可。但是，当我在我的 android 2.3.4 中使用它时，一些动画（css 动画）无法正常工作，但是使用另一部手机（android 4+），它看起来非常好，正如我预期的那样。

需要注意的是，phonegap 是一个可以在你的 eclipse 中使用的库。同时，Phonegap Build 是 Adob​​e 的一项服务，可以让我们轻松制作 apk/ios 文件。

另一个服务 cocoonjs，apk 文件在任何 android 设备上都很好（只要我尝试过），他们说他们在应用程序中添加了图形加速器。该服务的弱点是apk文件太大。

最后一个是人行横道。我从来没有使用过这个应用程序，但据我所知，这也是一个很好的应用程序。

希望能帮助到你...

# google-maps - 谷歌地图的使用

> ID：10545930
> 
> 赞同：-2
> 
> 时间：2012-05-11T05:32:42.587
> 
> 标签：google-maps

我在我的网站中使用谷歌地图，我希望谷歌地图带有用户界面，即当用户选择位置并按下提交按钮后，地图应该显示位置。为此，我编写了一个代码。但它不能正常工作。任何人都可以帮助我正确编写此代码以正常工作吗？

```
<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no">

<script type="text/javascript" src="http://maps.google.com/maps/api/js?
sensor=false"></script>
<script type="text/javascript">

        function initialize() {
        var latlng = new google.maps.LatLng(0, 0);
        var myOptions = {
                zoom: 1,
                center: latlng,
                mapTypeId: google.maps.MapTypeId.ROADMAP
        };
    var map = new google.maps.Map(document.getElementById("map_canvas"),
        myOptions);
        position: latlng,
        map: map,
            });
  }

function selectedLocation() {
 var selected = document.getElementById("location").value;
  if (selected == "Location 1") {
        var location1 = new google.maps.LatLng(48.017, 37.914);
        map.setCenter(location1);
        map.setZoom(12);
}
 else if (selected == "Location 2") {
        var location2 = new google.maps.LatLng(50.269, 28.665);
        map.setCenter(location2);
        map.setZoom(12);
}
}
</script>
</head>
<body onload="initialize()">

  <p>
        <form action="#" >
    <select  id="location">
        <option value="None">-</option>
        <option value="Location 1">Location 1</option>
        <option value="Location 2">Location 2</option>
    </select>
<button type="button" onclick="selectedLocation()">submit</button>
</form>
  </p>
  <div id="map_canvas" style="width:600px; height:400px"></div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T05:42:29.403

您的代码中有两个错误：

**错误 #1** 您似乎有一个复制/粘贴错误，因此您有一个选项片段（见下文星号之间）：

```
var map = new google.maps.Map(document.getElementById("map_canvas"),
        myOptions);
        **position: latlng,
        map: map,
            });** 
```

**错误 #2**`map`您的变量 关联范围存在问题。它应该是全局的，因此您应该在初始化函数之外声明它。

* * *

下面的工作代码：

```
<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no">

<script type="text/javascript" src="http://maps.google.com/maps/api/js?
sensor=false"></script>
<script type="text/javascript">
var map;
        function initialize() {
        var latlng = new google.maps.LatLng(0, 0);
        var myOptions = {
                zoom: 1,
                center: latlng,
                mapTypeId: google.maps.MapTypeId.ROADMAP
        };
    map = new google.maps.Map(document.getElementById("map_canvas"),
        myOptions);
  }

function selectedLocation() {
 var selected = document.getElementById("location").value;
  if (selected == "Location 1") {
        var location1 = new google.maps.LatLng(48.017, 37.914);
        map.setCenter(location1);
        map.setZoom(12);
}
 else if (selected == "Location 2") {
        var location2 = new google.maps.LatLng(50.269, 28.665);
        map.setCenter(location2);
        map.setZoom(12);
}
}
</script>
</head>
<body onload="initialize()">

  <p>
        <form action="#" >
    <select  id="location">
        <option value="None">-</option>
        <option value="Location 1">Location 1</option>
        <option value="Location 2">Location 2</option>
    </select>
<button type="button" onclick="selectedLocation()">submit</button>
</form>
  </p>
  <div id="map_canvas" style="width:600px; height:400px"></div>
</body>
</html> 
```

# mysql - 如何确定某个值是否出现在 GROUP BY 组中

> ID：10545932
> 
> 赞同：9
> 
> 时间：2012-05-11T05:32:57.523
> 
> 标签：mysql

给定表格`foo`：

```
Num   Letter
------------
1     A
1     B
1     B
2     C
3     A
3     C
3     D 
```

如果我这样做，`SELECT * GROUP BY Num`我当然会得到这样的东西：

```
Num   Letter
------------
1     A
2     C
3     A 
```

我想改进的是：

```
Num   Has_No_Letter_C
---------------------
1     Yes
2     No
3     No 
```

可能有一个简单的`SELECT IF ()`加号`ORDER BY`，但我现在看不到它......

在我的真实示例中，结果表被编辑到另一个表中，如果我的另一个表有= 4 行`LEFT JOIN`，我希望能够拒绝`No`条目但保留`NULL`s 。`bar``Num`

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-05-11T05:47:03.690

`SUM(condition)`内使用`IF`：

```
SELECT   Num,
         IF(SUM(Letter = 'C'), 'Yes', 'No') AS Has_Letter_C
FROM     my_table
GROUP BY Num 
```

你的`JOIN`然后变成：

```
SELECT   another_table.Num
FROM     another_table LEFT JOIN my_table ON another_table.Num = my_table.Num
GROUP BY another_table.Num
HAVING   my_table.Num IS NULL OR SUM(my_table.Letter = 'C') > 0 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T05:46:30.157

如果你`LEFT JOIN`把表放在自己身上，你可以很容易地确定是否有对应的值。

如果您将值“C”考虑在内，这可以完成工作：

```
SELECT    t1.num, 
          IF(ISNULL(t2.num),"Yes","No") AS "Has_No_Letter_C"
FROM      yourtable AS t1
LEFT JOIN yourtable AS t2 ON t1.num=t2.num AND t2.`letter` = "C"
GROUP BY  num; 
```

# iphone - 当我从不同设备浏览时，facebook 如何有不同的布局？

> ID：10545935
> 
> 赞同：0
> 
> 时间：2012-05-11T05:33:30.990
> 
> 标签：iphone, facebook, ipad, templates, layout

我想知道 facebook 如何在不同的设备上显示不同类型的布局？我在桌面浏览器上看到标准模板，在移动设备和 iPhone 和 iPad 上不同，

这些布局是根据从哪个设备访问或facebook自动检测设备并显示适当的布局而创建和设置的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T12:43:22.220

我相信 Facebook 使用 wurfl 进行设备检测 - 或者他们的网站声称已经有一段时间了：[http ://wurfl.sourceforge.net/](http://wurfl.sourceforge.net/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T05:53:10.203

在使用桌面时，您正在浏览[http://facebook.com/](http://facebook.com/)并从移动[http://m.facebook.com/](http://m.facebook.com/) Facebook 正在检测设备类型并根据设备显示内容。

使用媒体查询，您可以以不同的布局显示同一页面。请参阅此[http://webdesignerwall.com/tutorials/css3-media-queries](http://webdesignerwall.com/tutorials/css3-media-queries)

# javascript - 需要将以下代码转换为json

> ID：10545939
> 
> 赞同：-2
> 
> 时间：2012-05-11T05:34:32.357
> 
> 标签：javascript, dojo

我的程序中有以下 dojo 代码，我想将 code、client.key、date_joined 等值作为 json 传递。下面我有我的脚本

```
<table>
  <tr>
    <td>
       <a href="/api/client/{{ client.key }}">{{ client.name }}</a>
    </td>
    <td>
       <form method="get" action="/api/authorize">
       <input type="hidden" name="redirect_uri" value="http://127.0.0.1:8000/api/client   /{{client.key}}/" />  
       <input type="hidden" name="response_type" value="code" />
       <input type="hidden" name="client_id" value="{{client.key}}" />
       <input type="hidden" name="scope" value="date_joined" /> 
       <input type="submit" value="Request" />
       </form>
    </td>
  </tr>
</table> 
```

我需要帮助将上述代码的参数转换为 json，并且我有以下脚本

```
<script type="text/javascript">
    $(document).ready(function(){
    $('a.authenticate').click(function(e){
    e.preventDefault();
    var token = this.id.replace("_", "");
    $.ajax({
        url: this.href,
        dataType: "jsonp",

        beforeSend: function(xhr){
                xhr.setRequestHeader("Authorization", "Bearer " + token)
                    },
        success: function(data) {
        var response = [];
        for(key in data){
        response.push(key + ":" + data[key]);
                     }
        alert(response.join('\n'));
                      },
             });
          });
    });
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T07:43:28.817

```
$(document).ready(function () {
        $('a.authenticate').click(function (e) {
            e.preventDefault();
            var token = this.id.replace("_", "");
            $.ajax({
                url: "http://127.0.0.1:8000/api/client",
                dataType: "json",
                data: '{"Client.key":"'+your value+'"}',
                //beforeSend: function(xhr){  
                // xhr.setRequestHeader("Authorization", "Bearer " + token); 
                // },  
                success: function (data) {
                    //var response = [];      
                    //for(key in data){     
                    //response.push(key + ":" + data[key]);   
                    //  alert(response.join('\n'));  
                }
            });
        });
    }); 
```

对您的代码稍作修改，如果发送 json 对象提及数据类型为 json 并遵循 json 对象格式。有关 json 对象的更多信息，请尝试[http://www.json.org/](http://www.json.org/)

# c# - 使用组合框组中的选定项填充列表

> ID：10545940
> 
> 赞同：-1
> 
> 时间：2012-05-11T05:34:58.853
> 
> 标签：c#, wpf, wpf-controls

我正在遍历容器中的一组组合框，我想用组合框中的选定项目填充一个列表。如何填充列表？

```
List<Item> items = new List<Item>();

foreach (var Cbox in CBoxContainer.Children.OfType<ComboBox>())
{
    if (Cbox.SelectedItem != null)
    {

    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T06:23:51.560

```
items.Add(Cbox.SelectedItem); 
```

我认为您已经创建了一个名为`Item`并分配 ValueMemberPath 和 DisplayMemberPath 作为类的一些属性的`Item`类。

```
myfirstcombobox.ValueMemberPath = "firstpropertyofItemclass"
myfirstcombobox.DisplayMemberPath = "secondpropertyofItemclass" 
```

我得出这个结论是因为您创建的列表就像

```
List<Item> items = new List<Item>(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T06:25:55.687

我猜你只需要一个函数来将 CBox.SelectedItem 转换为 Item，并将其添加到列表中。

```
Item ConvertToItem(Object obj)
{
  ....
}

foreach (var Cbox in CBoxContainer.Children.OfType<ComboBox>())
{
  if (Cbox.SelectedItem != null)
  {
   items.Add(ConvertToItem(CBox.SelectedItem));
  }
} 
```

# c - c中的垃圾值

> ID：10545941
> 
> 赞同：-8
> 
> 时间：2012-05-11T05:35:01.760
> 
> 标签：c

我的代码是

```
#include<stdio.h>
#include<conio.h>
main()
{
    int p;
    scanf("%d",p);
    printf(p*10);
} 
```

但是它赋予垃圾价值，为什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-11T05:35:31.193

您需要`&p`在`scanf`通话中使用。您还需要在`printf()`调用中使用格式字符串。

以下是您的代码存在的主要问题的列表：

*   `scanf("%d", p)`- 您需要将指针传递给 int，而不是 int。现在，您正在写入未初始化的 int 变量包含的任何地址/值。
*   `printf(p*10)`- 您需要将格式字符串作为第一个参数传递，并根据格式字符串传递值作为以下参数。在您的情况下，`"%d"`打印一个整数，然后`p`（或`p*10`）作为第二个参数。

这是固定代码：

```
int main()
{
    int p;
    scanf("%d", &p);
    printf("%d\n", p*10);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T05:37:50.630

您只需打印此未初始化变量的值。

scanf 需要一个指针来写答案。你提供一个看起来像内存地址的整数。例如，尝试使用 -Wall 进行编译

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T09:03:53.083

```
scanf("%d",p);
printf(p*10); 
```

令我惊讶的是，这确实有效！尤其是`printf`命令。

您需要阅读C 中的`Format Specifiers`和`printf`And`scanf`命令。:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-24T18:26:02.580

使用`reference operator(&)`in`scanf`和`format specifier`in `printf`。

`garbage`如果您不使用`'&'`运算符，您总是会得到一个值，`scanf`因为输入的值不会存储在`memory location`您的`variable`. 它不知道在哪里存储..

它会扫描您的值，但不会存储在变量中。获得垃圾值的原因是您正在使用一个`local`变量并且它的内存位置是`STACK`.

# xcode - 在我的 iOS 应用程序中集成 Google Analytics easytracker

> ID：10545946
> 
> 赞同：5
> 
> 时间：2012-05-11T05:35:41.957
> 
> 标签：xcode, ios5, google-analytics

easytracker 的描述如下：

```
 Use TrackedUIViewController to automatically emit pageviews when the view
// associated with the controller appears. 
```

然后，如果您查看示例，他们会执行以下操作：

```
#import "EasyTracker.h"

@interface FirstViewController : TrackedUIViewController 
```

但是在我的情况下，界面如下所示：

```
@interface MyTableViewController : UITableViewController<FBRequestDelegate,
FBDialogDelegate,UIGestureRecognizerDelegate>{
    User *user;
    Fam *fam;
} 
```

我应该怎么做才能添加跟踪？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-05T12:03:39.290

您可以在这里进行**手动屏幕跟踪** [，这是 google doc](https://developers.google.com/analytics/devguides/collection/ios/v2/screens)。

> 手动屏幕跟踪
> 
> 要手动跟踪屏幕视图，请调用 trackView:，如下例所示：

```
id<GAITracker> googleTracker = [[GAI sharedInstance] trackerWithTrackingId:@"YOUR-IUD"];
[googleTracker trackView:@"home screen"]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T02:19:38.670

好吧，如果您尝试使用 UITableViewController，那可能意味着您的视图控制器中有一个表格视图。要保留该功能，您需要自己创建一个表格视图，并将您的视图控制器分配为该表格视图的数据源和委托。这样，您的视图控制器将继续实现表视图的数据源和委托方法。我建议使用 Interface Builder，并将表格视图放到 MyTableViewController 上。

您的界面将如下所示：

```
@interface MyTableViewController : TrackedUIViewController <UITableViewDataSource, UITableViewDelegate> 
```

您也很可能会发现自己需要将表格视图作为视图控制器上的属性连接起来。

```
@property (strong) UITableView *tableView; 
```

# java - SFTP 和骆驼。无法将目录更改为。无效的私钥

> ID：10545948
> 
> 赞同：1
> 
> 时间：2012-05-11T05:35:50.793
> 
> 标签：java, sftp, apache-camel

我需要通过 sftp 连接到 ftp 服务器。我通过 ftp 和 ftps 成功连接了骆驼。

```
public static RouteBuilder getRouteBuilderSFTPS() {
        return new RouteBuilder() {
            public void configure() {
                from("sftp://666.66.666.66:22/POLP-FROAKS?fileName=testMsg.txt&username=POLP-FROAKS&password=pass&strictHostKeyChecking=no&ciphers=blowfish-cbc,aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,aes192-cbc,aes256-cbc").
                to("file://target/test-reports667");
            }
        };
    } 
```

我得到响应 org.apache.camel.component.file.GenericFileOperationFailedException: Cannot change directory to: POLP-FROAKS

完整日志：

```
16:25:32,758  INFO (main) [DefaultCamelContext] Apache Camel 2.9.2 (CamelContext: camel-1) started in 0.472 seconds
Apache Camel 2.9.2 (CamelContext: camel-1) started in 0.472 seconds
16:25:33,749 DEBUG (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpConsumer] Not connected/logged in, connecting to: sftp://POLP-FROAKS@216.66.216.10:22
Not connected/logged in, connecting to: sftp://POLP-FROAKS@216.66.216.10:22
16:25:33,753 DEBUG (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] Using ciphers: blowfish-cbc,aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,aes192-cbc,aes256-cbc
Using ciphers: blowfish-cbc,aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,aes192-cbc,aes256-cbc
16:25:33,764 DEBUG (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] Using StrickHostKeyChecking: no
Using StrickHostKeyChecking: no
16:25:33,769  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> Connecting to 216.66.216.10 port 22
JSCH -> Connecting to 216.66.216.10 port 22
16:25:34,099  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> Connection established
JSCH -> Connection established
16:25:34,476  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> Remote version string: SSH-2.0-OpenSSH_4.3
JSCH -> Remote version string: SSH-2.0-OpenSSH_4.3
16:25:34,476  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> Local version string: SSH-2.0-JSCH-0.1.48
JSCH -> Local version string: SSH-2.0-JSCH-0.1.48
16:25:34,476  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256
JSCH -> CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256
16:25:34,760  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> aes256-ctr is not available.
JSCH -> aes256-ctr is not available.
16:25:34,760  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> aes192-ctr is not available.
JSCH -> aes192-ctr is not available.
16:25:34,760  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> aes256-cbc is not available.
JSCH -> aes256-cbc is not available.
16:25:34,760  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> aes192-cbc is not available.
JSCH -> aes192-cbc is not available.
16:25:34,760  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> arcfour256 is not available.
JSCH -> arcfour256 is not available.
16:25:34,761  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> CheckKexes: diffie-hellman-group14-sha1
JSCH -> CheckKexes: diffie-hellman-group14-sha1
16:25:34,768  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> diffie-hellman-group14-sha1 is not available.
JSCH -> diffie-hellman-group14-sha1 is not available.
16:25:34,804  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> SSH_MSG_KEXINIT sent
JSCH -> SSH_MSG_KEXINIT sent
16:25:34,988  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> SSH_MSG_KEXINIT received
JSCH -> SSH_MSG_KEXINIT received
16:25:34,988  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: server: diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
JSCH -> kex: server: diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
16:25:34,988  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: server: ssh-rsa,ssh-dss,ssh-dss,ssh-rsa
JSCH -> kex: server: ssh-rsa,ssh-dss,ssh-dss,ssh-rsa
16:25:34,988  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: server: aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,arcfour128,arcfour256,arcfour,aes192-cbc,aes256-cbc,aes128-ctr,aes192-ctr,aes256-ctr
JSCH -> kex: server: aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,arcfour128,arcfour256,arcfour,aes192-cbc,aes256-cbc,aes128-ctr,aes192-ctr,aes256-ctr
16:25:34,988  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: server: aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,arcfour128,arcfour256,arcfour,aes192-cbc,aes256-cbc,aes128-ctr,aes192-ctr,aes256-ctr
JSCH -> kex: server: aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,arcfour128,arcfour256,arcfour,aes192-cbc,aes256-cbc,aes128-ctr,aes192-ctr,aes256-ctr
16:25:34,988  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: server: hmac-md5,hmac-sha1,hmac-ripemd160,hmac-sha1-96,hmac-md5-96
JSCH -> kex: server: hmac-md5,hmac-sha1,hmac-ripemd160,hmac-sha1-96,hmac-md5-96
16:25:34,988  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: server: hmac-md5,hmac-sha1,hmac-ripemd160,hmac-sha1-96,hmac-md5-96
JSCH -> kex: server: hmac-md5,hmac-sha1,hmac-ripemd160,hmac-sha1-96,hmac-md5-96
16:25:34,988  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: server: none,zlib@openssh.com
JSCH -> kex: server: none,zlib@openssh.com
16:25:34,988  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: server: none,zlib@openssh.com
JSCH -> kex: server: none,zlib@openssh.com
16:25:34,988  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: server: 
JSCH -> kex: server: 
16:25:34,988  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: server: 
JSCH -> kex: server: 
16:25:34,988  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: client: diffie-hellman-group1-sha1,diffie-hellman-group-exchange-sha1
JSCH -> kex: client: diffie-hellman-group1-sha1,diffie-hellman-group-exchange-sha1
16:25:34,988  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: client: ssh-rsa,ssh-dss
JSCH -> kex: client: ssh-rsa,ssh-dss
16:25:34,989  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: client: blowfish-cbc,aes128-ctr,aes128-cbc,3des-ctr,3des-cbc
JSCH -> kex: client: blowfish-cbc,aes128-ctr,aes128-cbc,3des-ctr,3des-cbc
16:25:34,989  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: client: blowfish-cbc,aes128-ctr,aes128-cbc,3des-ctr,3des-cbc
JSCH -> kex: client: blowfish-cbc,aes128-ctr,aes128-cbc,3des-ctr,3des-cbc
16:25:34,989  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: client: hmac-md5,hmac-sha1,hmac-sha1-96,hmac-md5-96
JSCH -> kex: client: hmac-md5,hmac-sha1,hmac-sha1-96,hmac-md5-96
16:25:34,989  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: client: hmac-md5,hmac-sha1,hmac-sha1-96,hmac-md5-96
JSCH -> kex: client: hmac-md5,hmac-sha1,hmac-sha1-96,hmac-md5-96
16:25:34,989  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: client: none
JSCH -> kex: client: none
16:25:34,989  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: client: none
JSCH -> kex: client: none
16:25:34,989  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: client: 
JSCH -> kex: client: 
16:25:34,989  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: client: 
JSCH -> kex: client: 
16:25:34,989  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: server->client blowfish-cbc hmac-md5 none
JSCH -> kex: server->client blowfish-cbc hmac-md5 none
16:25:34,989  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> kex: client->server blowfish-cbc hmac-md5 none
JSCH -> kex: client->server blowfish-cbc hmac-md5 none
16:25:35,015  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> SSH_MSG_KEXDH_INIT sent
JSCH -> SSH_MSG_KEXDH_INIT sent
16:25:35,015  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> expecting SSH_MSG_KEXDH_REPLY
JSCH -> expecting SSH_MSG_KEXDH_REPLY
16:25:35,451  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> ssh_rsa_verify: signature true
JSCH -> ssh_rsa_verify: signature true
16:25:35,455  WARN (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> Permanently added '216.66.216.10' (RSA) to the list of known hosts.
JSCH -> Permanently added '216.66.216.10' (RSA) to the list of known hosts.
16:25:35,455  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> SSH_MSG_NEWKEYS sent
JSCH -> SSH_MSG_NEWKEYS sent
16:25:35,455  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> SSH_MSG_NEWKEYS received
JSCH -> SSH_MSG_NEWKEYS received
16:25:35,466  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> SSH_MSG_SERVICE_REQUEST sent
JSCH -> SSH_MSG_SERVICE_REQUEST sent
16:25:35,779  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> SSH_MSG_SERVICE_ACCEPT received
JSCH -> SSH_MSG_SERVICE_ACCEPT received
16:25:36,093  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> Authentications that can continue: publickey,keyboard-interactive,password
JSCH -> Authentications that can continue: publickey,keyboard-interactive,password
16:25:36,094  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> Next authentication method: publickey
JSCH -> Next authentication method: publickey
16:25:36,095  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> Authentications that can continue: password
JSCH -> Authentications that can continue: password
16:25:36,095  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> Next authentication method: password
JSCH -> Next authentication method: password
16:25:36,835  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> Authentication succeeded (password).
JSCH -> Authentication succeeded (password).
16:25:37,932  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] Connected to sftp://POLP-FROAKS@216.66.216.10:22
Connected to sftp://POLP-FROAKS@216.66.216.10:22
16:25:37,932  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpConsumer] Connected and logged in to: sftp://POLP-FROAKS@216.66.216.10:22
Connected and logged in to: sftp://POLP-FROAKS@216.66.216.10:22
16:25:38,966  WARN (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [RemoteFilePollingConsumerPollStrategy] Trying to recover by disconnecting from remote server forcing a re-connect at next poll: sftp://POLP-FROAKS@216.66.216.10:22
Trying to recover by disconnecting from remote server forcing a re-connect at next poll: sftp://POLP-FROAKS@216.66.216.10:22
16:25:38,966 DEBUG (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpConsumer] Disconnecting from: sftp://POLP-FROAKS@216.66.216.10:22
Disconnecting from: sftp://POLP-FROAKS@216.66.216.10:22
16:25:38,966  INFO (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [SftpOperations] JSCH -> Disconnecting from 216.66.216.10 port 22
JSCH -> Disconnecting from 216.66.216.10 port 22
16:25:38,971  INFO (Connect thread 216.66.216.10 session) [SftpOperations] JSCH -> Caught an exception, leaving main loop due to socket closed
JSCH -> Caught an exception, leaving main loop due to socket closed
16:25:38,977  WARN (Camel (camel-1) thread #1 - sftp://216.66.216.10:22/POLP-FROAKS) [RemoteFilePollingConsumerPollStrategy] Consumer Consumer[sftp://216.66.216.10:22/POLP-FROAKS?ciphers=blowfish-cbc,aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,aes192-cbc,aes256-cbc&fileName=testMsg.txt&password=******&strictHostKeyChecking=no&username=POLP-FROAKS] could not poll endpoint: Endpoint[sftp://216.66.216.10:22/POLP-FROAKS?ciphers=blowfish-cbc,aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,aes192-cbc,aes256-cbc&fileName=testMsg.txt&password=******&strictHostKeyChecking=no&username=POLP-FROAKS] caused by: Cannot change directory to: POLP-FROAKS
org.apache.camel.component.file.GenericFileOperationFailedException: Cannot change directory to: POLP-FROAKS
    at org.apache.camel.component.file.remote.SftpOperations.doChangeDirectory(SftpOperations.java:423)
    at org.apache.camel.component.file.remote.SftpOperations.changeCurrentDirectory(SftpOperations.java:410)
    at org.apache.camel.component.file.remote.SftpConsumer.doPollDirectory(SftpConsumer.java:78)
    at org.apache.camel.component.file.remote.SftpConsumer.pollDirectory(SftpConsumer.java:50)
    at org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:100)
    at org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:138)
    at org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:90)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
    at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:662)
Caused by: 2: No such file
    at com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2569)
    at com.jcraft.jsch.ChannelSftp._stat(ChannelSftp.java:2018)
    at com.jcraft.jsch.ChannelSftp.cd(ChannelSftp.java:316)
    at org.apache.camel.component.file.remote.SftpOperations.doChangeDirectory(SftpOperations.java:421)
    ... 15 more 
```

我有相同的代码，但没有骆驼，它可以工作。骆驼版有什么问题？我也有点困惑为什么服务器不问我关于私钥的问题？

更新：

我正在尝试添加私钥：

```
JSch.setLogger(new MyJschLogger());
            JSch ssh = new JSch();

            final byte[] privateKey = getPrivateKeyAsByteStream(privateKeyPath);
            final byte[] passPrivateKey = "".getBytes();
            //TODO DB: invalid private key. If not use private key than we can download file
            ssh.addIdentity(username, privateKey, null, passPrivateKey);

            session = ssh.getSession(username, server, port);
            session.setPassword(password);
            session.setConfig("StrictHostKeyChecking", "no");

            session.connect();
            channel = session.openChannel("sftp");
            channel.connect();
            ChannelSftp sftp = (ChannelSftp) channel;

            final Vector files = sftp.ls(".");
            Iterator itFiles = files.iterator();
            while (itFiles.hasNext()) {
                System.out.println("Index: " + itFiles.next());
            }

            sftp.get(remoteFile, localFile);
            sftp.exit(); 
```

已读取密钥，但出现错误：

```
com.jcraft.jsch.JSchException: invalid privatekey: POLP-FROAKS
    at com.jcraft.jsch.IdentityFile.<init>(IdentityFile.java:302)
    at com.jcraft.jsch.IdentityFile.newInstance(IdentityFile.java:135)
    at com.jcraft.jsch.JSch.addIdentity(JSch.java:390)
    at com.nxsystems.camel.Main.retrieveFileViaSFTP(Main.java:204)
    at com.nxsystems.camel.Main.main(Main.java:29)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120) 
```

密钥是用 PuTTY 生成的。FilleZilla 正常接受密钥。为什么？？？？

更新：noup。问题不在钥匙上。我使用 puttyge.exe->conversion 将 putty 格式的密钥转换为 openssh 格式，JSCH 成功接受了它。但是旧错误“无法将目录更改为...”又回来了...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-11T11:18:51.077

最近在更改目录时遇到了同样的问题。解决方案是从[文档](http://camel.apache.org/ftp2.html)中设置 stepwise=false ：

> URI 选项：逐步，默认 = true：Camel 2.6：是否应使用逐步遍历目录。逐步意味着它将一次 CD 一个目录。请参阅下面的更多详细信息。如果您不能使用这种方法，您可以禁用它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T06:30:01.553

您将 POLP-FROAKS 指定为 FTP 服务器的起始目录。所以当 Camel 登录到 FTP 服务器时，它会在登录后做一个 CD POLP-FROAKS。如果您不应该更改为子目录，则将其从端点 uri 中删除。例如，它只是

```
from("sftp://666.66.666.66:22/?xxx... 
```

# javascript - 工具提示有时会保留在滑动 div 内元素的页面上

> ID：10545952
> 
> 赞同：10
> 
> 时间：2012-05-11T05:36:04.500
> 
> 标签：javascript, jquery, css, twitter-bootstrap

我们正在为其中一个项目使用引导程序，并面临提供的工具提示插件问题。它实际上不是引导程序中的错误，而是在我们使用它的情况下产生了问题。

我们有一个进入内容 div 的滑动滑块。以及用于使用工具提示隐藏/显示效果的按钮。基于 jQuery UI 滑动的滑动效果。

问题是：

当我们点击隐藏侧边栏按钮，同时在幻灯片动画时将鼠标移出按钮悬停时，有时工具提示不会被隐藏，而是停留在页面上。

这也发生在显示侧边栏上。当它发生时，它看起来非常糟糕和错误。

我们如何解决这个问题？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-05-13T05:53:09.147

理查德在引导论坛上回答（[https://github.com/r1ch0](https://github.com/r1ch0)）

只需在单击按钮时手动隐藏工具提示，然后触发幻灯片动画。

```
 $('#button').on('click', function () {
  $(this).tooltip('hide')
  $('#sidebar').slide() // replace with slide animation
}) 

```

复制自：[https ://github.com/twitter/bootstrap/issues/3446](https://github.com/twitter/bootstrap/issues/3446)

发布在这里只是因为其他人可以找到它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-04-15T10:01:14.273

我使用了 Krunal 贡献（+1 btw），这对我帮助很大，但并没有完全解决问题。
当我点击按钮时，工具提示消失了，但是当我的鼠标悬停它时又回来并再次卡住，直到我点击其他地方。

所以我发现工具提示在*悬停*时出现，同时也在*聚焦*元素时出现。
最后我写了这个：

```
$('button').on('click', function () {
    $(this).blur()
}) 
```

而且效果很好。
谢谢。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-01T14:08:25.267

[在https://github.com/twitter/bootstrap/pull/4104](https://github.com/twitter/bootstrap/pull/4104)上似乎有一个适当的解决方案（不涉及手动清理），希望很快就会发布。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-11T07:40:48.353

如果您使用的是引导工具提示，那么如何添加延迟选项：

```
jQuery('#example').popover(delay: { show: 100, hide: 100 }) 
```

如果工具提示类似于图像中的 alt 标签，则使用 jQuery 将其删除。

```
<script type="text/javascript">
jQuery(document).ready(function() {
  jQuery("img").removeAttr("alt");
});
</script> 
```

# ios - 如何录制正在运行的 iOS 应用程序的视频以供促销使用？

> ID：10545954
> 
> 赞同：3
> 
> 时间：2012-05-11T05:36:35.000
> 
> 标签：ios, video-recording

我需要知道如何录制 iOS 应用程序的视频以供促销使用。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2015-02-03T13:14:44.827

现在，在 OSX Yosemite 中，Quick Time Player 具有一个内置功能，可以记录您的 iPhone 屏幕。

*   使用 Lightning 线缆将手机连接到 Mac
*   打开快速时间
*   文件 > 新记录
*   这将打开您的网络摄像头流，但您可以选择录制按钮右侧的源：只需选择您的 iPhone。
*   记录。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-11T06:00:35.160

有两种方法可以做到这一点。如果您想使用 iOS 模拟器运行您的应用程序，则可以使用音频/视频屏幕捕获软件，例如[http://camstudio.org/](http://camstudio.org/)或[http://www.techsmith.com/camtasia.html](http://www.techsmith.com/camtasia.html)。

如果您需要录制在 iOS 设备上运行的应用程序的视频，则需要稍微复杂的设置。您将需要 Apple TV [http://www.apple.com/appletv/](http://www.apple.com/appletv/)和 DVR。您可以将 Apple TV 连接到 DVR，然后从 DVR 将输出电缆连接到电视或显示器。iPhone 和 Apple TV 需要进行**镜像**配置。之后，当您在 DVR 上录制正在运行的 iOS 应用程序时，您应该能够投影并看到您的 iOS 应用程序在屏幕上运行（通过 Wi-Fi）。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-12-04T21:33:24.143

我建议这个应用程序[http://soundstageapp.com/](http://soundstageapp.com/)

它在视频中捕获应用程序操作，并为整个宣传视频的制作提供工具。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-11T05:46:07.223

据我所知，您只能在越狱的 iOS 设备上执行此操作。谷歌屏幕录像机。

# python - 从多个文件创建熊猫数据框

> ID：10545957
> 
> 赞同：18
> 
> 时间：2012-05-11T05:36:56.747
> 
> 标签：python, pandas

我正在尝试创建一个熊猫`DataFrame`，它适用于单个文件。如果我需要为具有相同数据结构的多个文件构建它。因此，我有一个文件名列表，而不是单个文件名，我想从中创建`DataFrame`.

不确定`DataFrame`在 pandas 中追加到 current 的方法是什么，或者 pandas 有没有办法将文件列表吸入`DataFrame`.

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-01-23T22:58:43.570

pandas`concat`命令是你的朋友。假设您将所有文件都放在一个目录 targetdir 中。你可以：

1.  列出文件
2.  将它们加载为熊猫数据框
3.  并将它们连接在一起

`

```
import os
import pandas as pd

#list the files
filelist = os.listdir(targetdir) 
#read them into pandas
df_list = [pd.read_table(file) for file in filelist]
#concatenate them together
big_df = pd.concat(df_list) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-12T12:35:10.603

可能非常低效，但......

为什么不使用`read_csv`, 构建两个（或更多）数据框，然后使用 join 将它们放在一起？

也就是说，如果您提供一些数据或您迄今为止使用的一些代码，那么回答您的问题会更容易。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-11T06:17:58.383

我可能会尝试在将文件提供给熊猫之前将它们连接起来。如果您在 Linux 或 Mac 中，您可以使用`cat`，否则一个非常简单的 Python 函数可以为您完成这项工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-11T16:55:31.843

这些文件是否为 csv 格式。您可以使用 read_csv。 [http://pandas.sourceforge.net/io.html](http://pandas.sourceforge.net/io.html)

读取文件并将其保存在两个数据帧中后，您可以合并两个数据帧或向两个数据帧之一添加其他列（假设公共索引）。熊猫应该能够填补缺失的行。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-02-04T01:06:16.240

```
import os
import pandas as pd
data = []

thisdir = os.getcwd()

for r, d, f in os.walk(thisdir):
    for file in f:
        if ".docx" in file:
            data.append(file)

df = pd.DataFrame(data) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2022-02-04T19:37:27.870

这是一个简单的解决方案，它避免使用列表来保存所有数据框，如果您不需要它们在列表中，它会为每个文件创建一个数据框，然后您可以使用`pd.concat`它们。

```
import fnmatch

# get the CSV files only
files = fnmatch.filter(os.listdir('.'), '*.csv')
files 
```

输出现在是名称列表：

```
['Feedback Form Submissions 1.21-1.25.22.csv',
 'Feedback Form Submissions 1.21.22.csv',
 'Feedback Form Submissions 1.25-1.31.22.csv'] 
```

现在创建一个简单的新名称列表，以便更轻松地使用它们：

```
# use a simple format
names = []
for i in range(0,len(files)):
    names.append('data' + str(i))
names

['data0', 'data1', 'data2'] 
```

您可以使用所需的任何名称列表。下一步获取文件名和名称列表，然后将它们分配给名称。

```
# i is the incrementor for the list of names
i = 0

# iterate through the file names
for file in files:
    # make an empty dataframe
    df = pd.DataFrame()
    # load the first file in
    df = pd.read_csv(file, low_memory=False)
    # get the first name from the list, this will be a string
    new_name = names[i]
    # assign the string to the variable and assign it to the dataframe 
    locals()[new_name] = df.copy()
    # increment the list of names
    i = i + 1 
```

您现在有 3 个单独的数据帧，分别命名为 data0、data1、data2，并执行如下命令

```
data2.info() 
```

# javascript - 函数返回错误的索引值

> ID：10545959
> 
> 赞同：0
> 
> 时间：2012-05-11T05:37:08.500
> 
> 标签：javascript, jquery

你好，在我的网页中，DOM 元素的某些部分是动态生成的，我在 jquery 中创建了一个函数来获取 mousedown 事件上 DOM 元素的索引值。但我的函数总是返回 7。这是我的 dom 结构和函数代码：

```
<div id = "viewer">
<div id="pageContainer1" >
    <canvas id="page2" width="741" height="959"></canvas>
    <div class="textLayer">
        <div>......some text here....</div>
        <div>......some text here....</div>
        <div>......some text here....</div>
    </div>
</div>
<div id="pageContainer2" >
    <canvas id="page2" width="741" height="959"></canvas>
    <div class="textLayer">
        <div>......some text here....</div>
        <div>......some text here....</div>
        <div>......some text here....</div>
    </div>
</div>

<div id="pageContainer3" >
    <canvas id="page3" width="741" height="959"></canvas>
    <div class="textLayer">
        <div>......some text here....</div>
        <div>......some text here....</div>
        <div>......some text here....</div>
    </div>
</div>​
</div>

<script>
    var indexInital, pageStr, containerStr, selector;
    //function for highlighting
    $(function() {
    $(window).scroll(function(){
        pageStr = String(PDFView.page);
        containerStr = "\"#pageContainer".concat(pageStr);
        selector = containerStr.concat(" > .textLayer > div\"");    
        });
});

    $(function() {
    $('#viewer').on('mousedown', selector ,function () {   
       indexInitial = $(this).index();
       console.log(indexInitial);   });
});

</script> 
```

上面代码中只有id为viewer的div是静态的，里面的div是动态生成的

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-11T07:17:43.633

我猜你真的想找到`this`相对于它的`<div>`s的索引`.textLayer`。所以鉴于此：

```
<div class="textLayer">
    <div>......some text here....</div>
    <div>Pancakes</div>
    <div>......some text here....</div>
</div> 
```

如果你点击`<div>Pancakes</div>`你想得到一个。如果这是正确的，那么你想像这样绑定你的处理程序：

```
$('#viewer').on('mousedown', '.textLayer div', function() { /* ... */ }); 
```

你可以完全抛弃你的`selector`变量。然后，在处理程序内部，您可以这样做：

```
$(this).siblings().add(this).index(this); 
```

获取本地索引`this`或者你可以这样做：

```
$(this).closest('.textLayer').find('div').index(this); 
```

演示：http: [//jsfiddle.net/ambiguous/U97DG/](http://jsfiddle.net/ambiguous/U97DG/)

该[`siblings`](http://api.jquery.com/siblings/)函数从侧面寻找与 相同深度的元素`this`，然后我们使用;`this`放入集合中。[`add`](http://api.jquery.com/add/)这为我们`this`及其兄弟提供了一组元素，因此我们可以[`index(this)`](http://api.jquery.com/index/)用来找出`this`该集合中的位置。

`<div class="textLayer">`另一种方法是使用DOM 将 DOM 备份到最近的位置[`closest`](http://api.jquery.com/closest/)，然后`<div>`使用 ; 抓取其中的所有 s [`find`](http://api.jquery.com/find/)；对于您的 HTML 结构，它为我们提供了一组元素，`siblings`我们`add`可以`index(this)`再次使用这些元素来找出位置`this`。

`<div class="textLayer">`当您添加和删除元素或其中的`<div>`s时，任何一种方法都将继续有效。

# java - 如何在 Java 中使用 TimeZone 处理夏令时

> ID：10545960
> 
> 赞同：64
> 
> 时间：2012-05-11T05:37:10.657
> 
> 标签：java, date, calendar, timezone

我必须在我的 Java 应用程序中打印 EST 时间。我已使用以下方法将时区设置为 EST：

```
Calendar cal = Calendar.getInstance(TimeZone.getTimeZone("EST")); 
```

但是当在这个时区遵循夏令时时，我的代码不会打印正确的时间（它打印的时间少 1 小时）。

无论是否遵守夏令时，如何使代码始终读取正确的时间？

PS：我尝试将时区设置为 EDT，但并没有解决问题。

* * *

## 回答 #1

> 赞同：115
> 
> 时间：2012-05-11T05:50:41.000

这是开始的问题：

```
Calendar cal = Calendar.getInstance(TimeZone.getTimeZone("EST")); 
```

应完全避免使用 3 个字母的缩写，以支持 TZDB 区域 ID。EST 是东部*标准*时间 -*标准*时间从不遵守 DST；这不是一个完整的时区名称。它是用于*部分*时区的名称。（不幸的是，我还没有找到一个关于“半时区”概念的好词。）

您想要一个*完整*的时区名称。例如，`America/New_York`在东部时区：

```
TimeZone zone = TimeZone.getTimeZone("America/New_York");
DateFormat format = DateFormat.getDateTimeInstance();
format.setTimeZone(zone);

System.out.println(format.format(new Date())); 
```

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2016-01-05T01:33:02.183

其他答案是正确的，尤其是[Jon Skeet 的](https://stackoverflow.com/a/10546083/642706)答案，但已经过时了。

# java.time

这些旧的日期时间类已被Java 8 及更高版本中内置的[java.time框架所取代。](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html)

如果您只是想要 UTC 的当前时间，请使用`Instant`该类。

```
Instant now = Instant.now(); 
```

`EST`不是时区，正如[Jon Skeet 的正确答案](https://stackoverflow.com/a/10546083/642706)中所解释的那样。这样的 3-4 个字母代码既不标准化也不唯一，进一步混淆了夏令时 (DST)。使用“大陆/地区”格式的正确时区名称。

也许您的意思是北美东海岸的东部标准时间？还是埃及标准时间？还是欧洲标准时间？

```
ZoneId zoneId = ZoneId.of( "America/New_York" );
ZoneId zoneId = ZoneId.of( "Africa/Cairo" );
ZoneId zoneId = ZoneId.of( "Europe/Lisbon" ); 
```

使用任何此类`ZoneId`对象将当前时刻调整到特定时区以生成[`ZonedDateTime`](http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html)对象。

```
ZonedDateTime zdt = ZonedDateTime.now( zoneId ) ; 
```

通过从第一个对象生成另一个 ZonedDateTime 对象，将该 ZonedDateTime 调整到不同的时区。java.time 框架使用[不可变对象](https://en.wikipedia.org/wiki/Immutable_object)而不是更改（变异）现有对象。

```
ZonedDateTime zdtGuam = zdt.withZoneSameInstant( ZoneId.of( "Pacific/Guam" ) ) ; 
```

[![Java 中的日期时间类型表，包括现代和传统。](../Images/021d7fb8a36d60b63810e66ddb5f78e4.png)](https://i.stack.imgur.com/V7t6V.png)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-09-07T13:58:13.943

您可以输入“EST5EDT”，而不是输入“EST”作为时区。正如您所指出的，仅“EDT”不起作用。这将解决夏令时问题。代码行如下所示：

```
Calendar cal = Calendar.getInstance(TimeZone.getTimeZone("EST5EDT")); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-12-14T18:55:28.767

根据这个[答案](https://stackoverflow.com/a/1060517/1515058)：

```
TimeZone tz = TimeZone.getTimeZone("EST");
boolean inDs = tz.inDaylightTime(new Date()); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-10-15T14:58:00.767

```
private static Long DateTimeNowTicks(){
    long TICKS_AT_EPOCH = 621355968000000000L;
    TimeZone timeZone = Calendar.getInstance().getTimeZone();
    int offs = timeZone.getRawOffset();
    if (timeZone.inDaylightTime(new Date()))
        offs += 60 * 60 * 1000;
    return (System.currentTimeMillis() + offs) * 10000 + TICKS_AT_EPOCH;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-07-26T09:45:42.543

```
public static float calculateTimeZone(String deviceTimeZone) {
    float ONE_HOUR_MILLIS = 60 * 60 * 1000;

    // Current timezone and date
    TimeZone timeZone = TimeZone.getTimeZone(deviceTimeZone);
    Date nowDate = new Date();
    float offsetFromUtc = timeZone.getOffset(nowDate.getTime()) / ONE_HOUR_MILLIS;

    // Daylight Saving time
    if (timeZone.useDaylightTime()) {
        // DST is used
        // I'm saving this is preferences for later use

        // save the offset value to use it later
        float dstOffset = timeZone.getDSTSavings() / ONE_HOUR_MILLIS;
        // DstOffsetValue = dstOffset
        // I'm saving this is preferences for later use
        // save that now we are in DST mode
        if (timeZone.inDaylightTime(nowDate)) {
            Log.e(Utility.class.getName(), "in Daylight Time");
            return -(ONE_HOUR_MILLIS * dstOffset);
        } else {
            Log.e(Utility.class.getName(), "not in Daylight Time");
            return 0;
        }
    } else
        return 0;
} 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2016-01-04T17:40:01.413

在java中，DateFormatter默认使用DST，为了避免夏令时（DST）你需要手动做一个技巧，
首先你必须得到DST偏移量，即应用了多少毫秒的DST，例如某处DST也是45分钟对于某些地方，它是 30 分钟
，但在大多数情况下，DST 是 1 小时
，您必须使用 Timezone 对象并检查日期是否属于 DST，然后您必须手动将 DST 的偏移量添加到其中。例如：

```
 TimeZone tz = TimeZone.getTimeZone("EST");
 boolean isDST = tz.inDaylightTime(yourDateObj);
 if(isDST){
 int sec= tz.getDSTSavings()/1000;// for no. of seconds
 Calendar cal= Calendar.getInstance();
 cal.setTime(yourDateObj);
 cal.add(Calendar.Seconds,sec);
 System.out.println(cal.getTime());// your Date with DST neglected
  } 
```

* * *

## 回答 #8

> 赞同：-3
> 
> 时间：2014-08-08T05:34:25.340

实现 TimeZone 类以将时区设置为 Calendar 负责夏令时。

java.util.TimeZone 表示时区偏移量，还计算夏令时。

示例代码：

```
TimeZone est_timeZone = TimeZoneIDProvider.getTimeZoneID(TimeZoneID.US_EASTERN).getTimeZone();
Calendar enteredCalendar = Calendar.getInstance();
enteredCalendar.setTimeZone(est_timeZone); 
```

# extjs - Ajax.request using ExtJs

> ID：10545961
> 
> 赞同：4
> 
> 时间：2012-05-11T05:37:20.223
> 
> 标签：extjs, extjs4

I'm having difficulty loading JSON content from a file. `console.log` prints `"server-side failure with status code 0"`, meaning that the request failed.

My JSON file URL is correct and the file is present at the given address.

Firebug shows the error:

```
"NetworkError: 405 Not Allowed - http://localhost:8080/4910.json?_dc=1336714070619 
```

and the Net tag shows status `405 not allowed`.

Any ideas on why this is happening?

```
Ext.Ajax.request({
                   url: 'http://localhost:8080/4910.json',
                   success: function(response, opts) {
                      var obj = Ext.decode(response.responseText);
                      console.log(obj[0].name);
                   },
                   failure: function(response, opts) {
                      console.log('server-side failure with status code ' + response.status);
                   }
                }); 
```

Also, what is adding the parameter `_dc=1336714070619` to the end of the GET request?

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-11T09:58:21.797

仅供参考..

对于**谁正在添加参数 _dc**。dc 代表**禁用缓存**。
默认情况下，extjs 中的每个请求都会自动附加请求变量**_dc**。更多[信息](http://docs.sencha.com/ext-js/4-0/#!/api/Ext.Ajax-property-disableCaching)

如果您不想要它，只需设置`disableCaching: false`您的要求

```
Ext.Ajax.request({
    disableCaching: false,
    url: 'http://localhost:8080/4910.json',
    ......
}); 
```

对于**为什么不允许**。
尝试打开不带 的 JSON URL 路径`_dc`，或者您的服务器可能有问题。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-11T07:01:04.137

if the file you accessing is in the same domain, you can directly give the relative path there.

**if the request is cross-domain:** If you need to read data from another domain and can't set up a proxy server (some software that runs on your own domain's web server and transparently forwards requests to domainB.com, making it look like they actually came from domainA.com), you can use Ext.data.proxy.JsonP and a technique known as JSON-P (JSON with Padding), which can help you get around the problem so long as the server on domainB.com is set up to support JSON-P responses. See JsonPProxy's introduction docs for more details.

**Check** [http://docs.sencha.com/ext-js/4-0/#!/api/Ext.data.proxy.JsonP](http://docs.sencha.com/ext-js/4-0/#!/api/Ext.data.proxy.JsonP)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-11T06:42:23.130

我认为您应该使用相对路径`url`（此处的相对路径是与 js 文件进行比较），例如，`4910.json`如果 json 文件与您的 js 文件位于同一文件夹中，则应该是这样。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-11T13:58:51.880

也许，错误的服务器端口？

这对我很有用：

```
Ext.Ajax.request ({
    url: 'http://localhost:80/sof/json.json' ,
    disableCaching: false ,
    success: function (res) {
        // JSON is {name:val, type:val}
        console.log (Ext.JSON.decode(res.responseText).name);
    } ,
    failure: function () {
        console.log ('error');
    }
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-13T20:55:51.550

Check about your webserver settings. My MAMP on OSX has localhost:8888.

Every time I use a file on localhost I use relative paths.

Have you tried to change the file permissions with CHMOD? Maybe you can't even open it in your browser?

Have you tried to write to the file from within php and checked afterwards?

# android - 从被杀死的 Android 应用程序中恢复

> ID：10545962
> 
> 赞同：3
> 
> 时间：2012-05-11T05:37:23.523
> 
> 标签：android

发生了什么：

1.  我打开我的应用程序，然后按主页按钮离开它片刻。
2.  我进入`Settings > Applications > Manage Applications > Running`，在缓存的后台应用程序列表中找到我的应用程序，然后停止它。
3.  然后我按住主页按钮并在最近的应用程序列表中选择我的应用程序，再次运行它。

[注意：这些步骤只是我强制测试人员看到的相同症状的方式——他们只是正常进出应用程序，而不是强制关闭。]

它在我离开它的活动中打开，但状态不佳。第一个问题是保存用户信息的内存已经消失（如果应用程序被杀死，这很有意义）。我通过使 User 类可序列化并将当前用户对象存储`onSaveInstanceState`在`onCreate`. 同样，我必须重新创建我`ClientConnectionManager`的网络才能再次工作。

“重新加载”的活动运行得很好，我可以导航到并使用*新创建*的活动，但如果我改为点击后退按钮以返回在我强制停止应用程序之前创建的活动，我会收到一个异常说用户类不存在（ClassNotFoundException，显然是在进行拆包时）。

为什么会这样？当应用程序被杀死但仍然知道重新打开时要返回哪个活动时，处理这种情况的正确方法是什么？应用程序未运行但未完全关闭的这种状态的名称是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-11T05:56:29.977

1.  您可以指定哪些活动将出现在“最近的应用程序”中，并确保仅包括主要`Activity`或任何其他“安全” `Activity`（`android:excludeFromRecents`）
2.  [`FLAG_ACTIVITY_LAUNCHED_FROM_HISTORY`](http://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_LAUNCHED_FROM_HISTORY)您可以通过在您的启动中查找来识别“从历史中启动”案例`Intent`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-11T05:57:31.700

当应用程序终止时（由操作系统或用户强制终止），完整的活动堆栈将被清除。所以后栈中没有活动，当你重新启动它时，前台的活动是后栈中唯一的活动。所以你不能从栈顶*返回。*也可能发生后退堆栈被清除，只留下[任务和后退堆栈中提到的根活动](http://developer.android.com/guide/topics/fundamentals/tasks-and-back-stack.html)

> 如果用户长时间离开一个任务，系统会清除该任务除根Activity之外的所有Activity。当用户再次返回任务时，仅恢复根活动。系统的行为方式是这样的，因为在很长一段时间后，用户可能已经放弃了他们之前正在做的事情，并且正在返回任务开始新的事情。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-12T02:17:58.577

解决方案是让我的 User 类实现`Parcelable`。由于我不明白的原因，我可以在保存实例状态时将我的用户`Bundle`作为`Serializable`对象放入，并在恢复最后一个可见活动时成功将其拉出，但是当后台堆栈中的活动重新启动时它无法处理该捆绑包中的该对象。

现在我的应用程序从后台被杀中恢复。我赞成@avimak 和@Rajesh，因为这两个答案都教会了我很多东西。谢谢。

# ajax - commandlink、outputlink、commanbutton、rich:menuItem 使用

> ID：10545964
> 
> 赞同：1
> 
> 时间：2012-05-11T05:37:30.480
> 
> 标签：ajax, jsf-2, richfaces

*我在基于JSF 2*的应用程序中遇到了一个困难。
我想使用从一个视图到另一个视图的导航以及通过**rich:menuItem**传递的值，

1.  所以我尝试使用**h:outputLink**并且它也可以导航，但是在导航以显示所需的结果集之前没有传递我想要传递的值。
2.  对于**a4j:commandLink**也是如此。
3.  然后我使用**a4J:commandButton**本身通过 action 和 actionListener 执行此操作。在这里， *Action*将导航到下一个视图，*Listener*会将值传递给所需的类，并且“listener 将在操作之前被调用”。执行此操作的代码是....

    ```
    <rich:menuItem ajaxSingle="true">
         <a4j:commandButton value="Show Particulars" action="details" event="onclick" actionListener="#{payeeParticularsController.showParticulars}"/>
    </rich:menuItem> 
    ```

但是这个按钮使用起来真的很尴尬。
因此，任何人都可以通过使用 outputLink、commandLink、rich:menuItem（最好这样做）或任何其他用户友好的方式来帮助我做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T06:41:55.867

试试这个方法，如果有帮助

```
<h:commandLink id="btn" value="Show Particulars" action="{payeeParticularsController.showParticulars}">
     <f:param name="menuItem" value="#{}" />
 </h:commandLink> 
```

其中命令链接将菜单项作为参数

更新：在豆子里

```
public String showParticulars(){
   // get the f:parama value using facesContect
   // use it as required
   ...
   return "\newView.xhtml";
} 
```

更新 2：

如果上述方法不起作用，请尝试这种方式

```
 <rich:menuItem submitMode="ajax" value="Show Particulars" action="#{Bean.showParticulars}" >
 </rich:menuItem> 
```

豆子是

```
public String showParticulars() 
{
      ..
return "/logout.xhtml";
} 
```

submitMode="ajax" 将帮助您使其作为 commandLink 工作，并且 Bean 的 show details() 将导航到另一个视图

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T11:58:39.290

试试这个。它对我有用。

```
<rich:menuItem submitMode="none">
   <h:commandLink value="Show Particulars" action="details" actionListener="#{payeeParticularsController.showParticulars}"/>
</rich:menuItem> 
```

或者如果你有 ajax

```
<rich:menuItem submitMode="none">
   <a4j:commandLink value="Show Particulars" reRender="body" action="details" actionListener="#{payeeParticularsController.showParticulars}"/>
</rich:menuItem> 
```

而且，我建议在菜单中使用属性**immediate="true"**。

参考：[http ://docs.jboss.org/richfaces/latest_3_3_X/en/devguide/html/rich_menuItem.html](http://docs.jboss.org/richfaces/latest_3_3_X/en/devguide/html/rich_menuItem.html)

# java - How to send a certificate, with specified Provider, and to receive it on another side?

> ID：10545967
> 
> 赞同：1
> 
> 时间：2012-05-11T05:37:49.327
> 
> 标签：java, security, certificate, liferay, pkcs#12

How to send a certificate, which was created from keystore, with specified Provider, and to receive it on another side? I send it like a string in encoded by Base64 format, and cannot to convert it to Certificate, can anyone show how to transmit certificates? I have a file .p12, in Liferay system I should process verification of signed file using certificate, which must be uploaded from my applet to the server, and check sign.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T05:40:59.390

您必须将该证书值转换为`Base64`格式，然后转换为`Hex`格式，然后您必须将该数据解析到另一端。另一方面，接收该数据，然后转换`Hex`为`Base64`只有您必须处理该值。

如果你不这样做，那么你将不得不面对的问题`BadPaddingException`。

希望这会帮助你。

# javascript - Validation in Dynamically Generated forms in Extjs

> ID：10545969
> 
> 赞同：3
> 
> 时间：2012-05-11T05:38:13.843
> 
> 标签：javascript, validation, extjs

I'm doing eforms framework design, In this there will be multiple products available and each product will have different kind of forms. On drag and drop it'll appear in the form panel, these form panel data's are retreived from Json file. We have json file for each forms. If i want to add validations to those fields in forms means how can I accomplish this, bcoz form fields are available in json which will be dynamically generate on drag and drop.

Can u guys help me with this.

thanks and regards rajNaveen

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T09:22:29.257

您是否将模型与表格相关联？如果是这样，您可以将验证逻辑放入模型中。例如：

```
Ext.define('MyModel', {
    extend: 'Ext.data.Model',
    fields: ['field1', 'field2'],
    validations: [
         { type: 'presence', field: 'field1' }
    ]
}); 
```

有关验证配置的更多信息： [http ://docs.sencha.com/ext-js/4-1/#!/api/Ext.data.validations](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.data.validations)

但是你需要一点魔法才能让他们使用表单。这是来自控制器的代码（使用 MVC）：

```
onFormSave(): function() {
    var form = this.form.getForm(),
        updatedRecord = MyModel.create();
    form.updateRecord(updatedRecord); //saved all the data from the form, to empty object
    var errors = updatedRecord.validate(); //validate the object
    if (errors.isValid()) { //if the object is valid, then save the data to the model associated with the form.
        form.updateRecord(form.getRecord());
    }
    else {
         form.markInvalid(errors);
    }
} 
```

这里面的逻辑非常简单，我创建了一个对象的新实例并验证它。如果验证成功，则将数据保存到表单内的对象中，该对象将被提交，如果没有，则显示错误。

# perl - “ppm.bat 安装失败：找不到任何提供 MinGW 的软件包”

> ID：10545976
> 
> 赞同：4
> 
> 时间：2012-05-11T05:38:42.870
> 
> 标签：perl

我正在尝试在 Windows 7中安装缺少的 Perl 模块 ( [Palm::PDB )。](http://p3rl.org/Palm%3a%3aPDB)

我尝试了以下方法：

1.  使用 Perl 包管理器：不幸的是，它似乎没有找到我想要的模块。

2.  使用命令提示符在 Windows 中启动 CPAN shell：不幸的是，它显示以下错误。我已经安装了 MinGW 并且还设置了路径。

    ```
    D:\Scripts>perl -MCPAN -e 'shell' install Palm::PDB

    It looks like you don't have a C compiler and make utility installed.  Trying
    to install dmake and the MinGW gcc compiler using the Perl Package Manager.
    This may take a few minutes...

    ppm.bat install failed: Can't find any package that provides MinGW

    It looks like the installation of dmake and MinGW has failed.  You will not be
    able to run Makefile commands or compile C extension code.  Please check your
    internet connection and your proxy settings! 
    ```

有没有其他简单的方法可以在 Windows 上安装 Perl 模块？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-11T06:16:39.910

您的 ActiveState Perl 安装有问题，因为它会自动为您安装 dmake 和 MinGW。

如果您安装了 dmake.exe，请尝试通过运行以下命令来安装 MinGW：

```
ppm install MinGW
perl Makefile.PL
dmake
dmake test
dmake install 
```

MinGW 和 dmake 也被安装到 C:\Perl\site\bin 中。确保此目录在您的 PATH 上（默认情况下由 ActivePerl 安装程序完成）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-11T08:24:08.333

在 Windows 上使用 Perl 的一种简单方法是使用最新版本的[StrawberryPerl](http://strawberryperl.com/)。它`dmake`捆绑了一个 C 编译器 (gcc)。该`cpan`命令开箱即用。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-11T06:14:42.800

ActiveState 对他们为 PPM 发布的所有模块进行审查。所以它通常没有需求不高的模块，或者最近发布的模块。

让这个在 Windows 上运行的最快方法是安装[Strawberry Perl](http://strawberryperl.com/)，因为开箱即用，它带有一个可以与 CPAN 一起使用的 C 编译器。这将使您免于配置 MingW 的所有麻烦。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-11T05:42:33.047

cpan 尝试查找 C 编译器 - 可能此模块或某些依赖项具有本机代码（对于数据库驱动程序更常见）。MingW 是 Windows 的 gcc 端口。

如果还是不行，尝试用linux安装虚拟机并安装gcc :)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-02-22T04:56:23.070

我解决了，我清理了 ActivePerl 的 AppData 文件夹。

> C:\Users\%YOUR_USERNAME%\AppData\Local\ActiveState\ActivePerl\

删除该文件夹中的所有数据。并重新运行`ppm`！有效。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2019-09-16T12:07:19.007

对我来说，从该位置清除内容后它起作用 C:\Users\%YOUR_USERNAME%\AppData\Local\ActiveState\ActivePerl\

```
C:\WINDOWS\system32>ppm install MinGW 
```

正在下载 ActiveState 包存储库 dbimage...完成正在下载 MinGW-4.6.3...完成正在下载 dmake-4.11.20080107...完成正在解压 MinGW-4.6.3...完成正在解压 dmake-4.11.20080107...完成正在生成MinGW-4.6.3 的 HTML...完成为 dmake-4.11.20080107 生成 HTML...完成更新站点区域中的文件...完成 3697 个文件已安装

谢谢@Void

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-02-03T13:22:01.413

perl -MCPAN -e 外壳

> 安装 SOAP::Lite

如果有人在 Windows 10 上遇到同样的问题，请在 Windows 命令行上使用上述命令。它对我有用。

# php - php获取mysql查询行

> ID：10545978
> 
> 赞同：0
> 
> 时间：2012-05-11T05:38:50.880
> 
> 标签：php, mysql

我从我的 php 类 2 个不同的方法中检索到 2 个 mysql 查询，它们看起来如下

```
 SELECT
domains.id,  domains.name, domains.meta_title,
domains.meta_keywords,  domains.meta_description,
produkt_modul.keywords, produkt_modul.program_id,produkt_modul.title, produkt_modul.items, produkt_modul.search_type
 FROM domains
 JOIN produkt_modul ON domains.id = produkt_modul.domains_id WHERE domains.name='$domain_name' ORDER BY position 
```

正在为我的产品模块和第二个模块获取行

```
SELECT
domains.id, text_module.position, text_module.title, text_module.text
FROM    domains
JOIN    text_module
ON  domains.id = text_module.domains_id
WHERE   domains.name='$domain_name' AND active= 1 ORDER BY position 
```

应该给我文本模块的行。

当我在视图中生成行的 html 输出时，我想在位置值之后订购主题。

例如应该是什么样子：

```
text_modul pos1
prod_modul pos2
prod_modul pos3
text_modul pos4 
```

行的实际视图看起来

```
text_modul1
text_modul4
prod_modul2
prod_modul3 
```

如何以正确顺序获取主题的方式获取行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T05:52:20.047

目前尚不清楚该`position`列的来源，但我猜`produkt_module`and`text_module`表都有一个`position`列。

要在 SQL 中执行此操作，您可以使用 UNION 并对组合结果进行排序。限制是联合在一起的两个结果必须具有相同数量的列，并且列必须是兼容的类型：

```
SELECT title, position FROM (
  SELECT p.title, p.position
  FROM produkt_module p
  JOIN domains d ON d.id = p.domains_id
  WHERE d.name = '$domain_name'
    UNION
  SELECT t.title, t.position
  FROM text_module t
  JOIN domains d ON d.id = t.domains_id
  WHERE d.name = '$domain_name'
  AND t.active
) ORDER BY position; 
```

您还可以将两个结果集读入一个数组并在 PHP 中对其进行排序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T06:28:46.137

以下是如何在 PHP 中执行此操作。请注意，此代码假定`position`在两者`produkt_module`和`text_module`结果中都是唯一的。

```
$allrows = array();
$res = mysql_query(/* your first query on produkt_module */);
while ($row = mysql_fetch_assoc($res) {
    $row['type'] = 'p';
    $allrows[$row['position']] = $row;
}

$res = mysql_query(/* your second query on text_module */);
while ($row = mysql_fetch_assoc($res) {
    $row['type'] = 't';
    $allrows[$row['position']] = $row;
}

ksort($allrows);  // sort all rows by position

foreach ($allrows as $pos => $row) {
    if ($row['type'] == 'p') {
        /* display a produkt_module row, i.e $row['title'], etc. */
    } elseif ($row['type'] == 't') {
        /* display a text_module row */
    }
} 
```

# vba - 如何检查给定点是否在选定的行中

> ID：10545979
> 
> 赞同：1
> 
> 时间：2012-05-11T05:38:51.730
> 
> 标签：vba, line, point, autocad

我有一条线，现在我随机给了一个点。我想检查给定点是否在线？

我正在使用带有 vba 的 AutoCAD

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T06:45:42.550

也许你可以通过创建一个点实体并使用 IntersectWith 方法来实现这一点。

# android - Webview 客户端不监听 shouldOverrideUrlLoading

> ID：10545980
> 
> 赞同：1
> 
> 时间：2012-05-11T05:38:55.217
> 
> 标签：android, webview

在我的应用程序中，第一次有一个登录屏幕，它显示在 Web 视图中。在该屏幕中将出现一个弹出窗口，其中包含用户名和密码。在按下登录按钮时提供详细信息后，提交用户名和密码，它将调用一个用于用户名和密码验证的 php 代码，该代码将重定向到一个链接，该链接将在 web 视图中重新加载。加载此 URL 后，我必须侦听 URL，如果 URL 符合某些考虑，我想完成 webview 活动并继续下一个活动。

问题是当我无法收听登录后生成的 URL 时。由于 Login 按钮没有登录，所以 shouldOverrideUrlLoading 没有调用。我尝试使用 onPageFinished、onLoadResource、onPageStarted。但只有少数设备调用这些函数。

我想在按下登录按钮后获取 URL。有没有其他方法可以解决这个问题。

这是我的代码：

```
public class AndroidTestActivity extends Activity {
/** Called when the activity is first created. */
WebView mWebView;
Context ctx;
String str = "";

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    ctx = this;

    mWebView = (WebView) findViewById(R.id.mywebview);
    mWebView.setWebViewClient(new MyWebClient());
    mWebView.setScrollBarStyle(WebView.SCROLLBARS_INSIDE_OVERLAY);
    WebSettings webSettings = mWebView.getSettings();
    webSettings.setSavePassword(false);
    webSettings.setSaveFormData(false);
    webSettings.setJavaScriptEnabled(true);

    mWebView.setWebChromeClient(new WebChromeClient() {
        @Override
        public boolean onJsAlert(WebView view, String url, String message,
                android.webkit.JsResult result) {
            // Required functionality here
            return super.onJsAlert(view, url, message, result);
        }
    });
    mWebView.loadUrl("http://This is my log in screen");

}

class MyWebClient extends WebViewClient {
    MyWebClient() {
        Log.e("test", "Inside WebViewClient");
    }

    public void onPageStarted(WebView view, String url, Bitmap favicon) {
        Log.e("onPageStarted", url);
        str = str + "onPageStarted : " + url + "\n";
    }

    public void onLoadResource(WebView view, String url) {
                    Log.e("onLoadResource", url);
        str = str + "onLoadResource : " + url + "\n";
    }

    public void onPageFinished(WebView view, String url) {
        Log.e("onPageFinished", url);
        str = str + "onPageFinished : " + url + "\n";
    }

    public boolean shouldOverrideUrlLoading(WebView view, String url) {
        Log.e("shouldOverrideUrlLoading", url);
        str = str + "shouldOverrideUrlLoading : " + url + "\n";
        return true;
    }

}

} 
```

谢谢问候，狙击手。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T10:38:46.437

如果您可以访问登录屏幕 html 页面并且可以更改它，那么我建议您使用 javaScriptInterface 来处理登录按钮的 onClickListener。

下面的链接显示了使用 javascriptInterface 获取 html 按钮单击并从该 clickEvent 调用 android 函数的方法。

[在android webview中使用javascript](https://stackoverflow.com/questions/10472839/using-javascript-in-android-webview/10481108#10481108)

希望这对你有帮助...

# multithreading - 线程具有相同的优先级..然后如何通信

> ID：10545981
> 
> 赞同：0
> 
> 时间：2012-05-11T05:39:03.480
> 
> 标签：multithreading, process, communication

考虑有 2 个进程，每个进程有 2 个线程......说...... A ， B （第一个进程）和 C ， D （第二个优先级）所有这些线程都具有相同的优先级......你如何与这些线程进行 b/w 通信。 .

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T06:02:03.563

进程间通信是一个很大的话题，正确的解决方案取决于问题。[维基百科](http://en.wikipedia.org/wiki/Inter-process_communication)上列出了一些最常见的进程间通信方法，尽管您可能想阅读一本关于该主题的好书。

# ios - iOS泄漏仪器保留计数

> ID：10545989
> 
> 赞同：0
> 
> 时间：2012-05-11T05:39:59.000
> 
> 标签：ios, memory-management, memory-leaks

我的泄漏工具表明我的保留计数为 2，但我只释放对象一次。我查看了我的代码，但找不到第二个分配。泄漏仪器有没有办法向我指示分配对象的所有位置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T06:12:27.783

好吧，至少能够知道泄漏的是哪种对象已经很重要了。你试过**静态分析器**吗？因为它可能会帮助你处理这些事情。另一件事，仅仅因为您分配一次，并不意味着您只有一个保留计数。大多数与内存管理相关的问题（根据我的经验）都与糟糕的架构有关，你很快就会发现自己面对的是意大利面条式的代码。告诉我你是否将你的对象传递给另一个班级？例如，作为代表？

# objective-c - 如何使子视图保持不透明

> ID：10545990
> 
> 赞同：1
> 
> 时间：2012-05-11T05:40:07.143
> 
> 标签：objective-c

从这个意义上说，我遇到了麻烦：

我创建了一个 UIView 并将 alpha 值设置为 0.5，然后添加一个 alpha 值为 1 的子视图，当我运行应用程序时，子视图也变得透明，如何保持子视图不透明？

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-11T06:00:18.707

正如您所注意到的，在父视图上设置 alpha 也会影响所有子视图。我所做的是不理会 alpha，并为父视图使用带 alpha 的背景颜色，为子视图使用不透明的背景颜色。

例如，在一些随机视图控制器中：

```
UIView *transparentView = [[UIView alloc] initWithFrame:self.view.bounds];
transparentView.backgroundColor = [[UIColor blackColor] colorWithAlphaComponent:0.5];

UIView *opaqueView = [[UIView alloc] initWithFrame:CGRectMake(50, 50, 200, 200)];
opaqueView.backgroundColor = [UIColor whiteColor];
[transparentView addSubview:opaqueView];
[self.view addSubview:transparentView]; 
```

# powershell - 在 SharePoint 网站上添加新的快速启动导航链接

> ID：10545991
> 
> 赞同：1
> 
> 时间：2012-05-11T05:40:11.707
> 
> 标签：powershell, sharepoint, navigation

我想使用 powershell 将 QuickLaunch 链接添加到站点。

我目前使用的脚本是：

```
$web = Get-SPWeb http://sp_3/Deps
$node = New-Object -TypeName Microsoft.SharePoint.Navigation.SPNavigationNode 
    -ArgumentList "LinkTitle", "http://sp_3/Deps/SUP"
$web.Navigation.QuickLaunch.Add($node);
$web.Update() 
```

这会导致以下错误：

```
Can not find an overload for the "Add" and the number of arguments: "1."  line: 1 char: 32  
     + $ Web.Navigation.QuickLaunch.Add <<<< ($ node);
     + CategoryInfo: NotSpecified: (:) [], MethodException
     + FullyQualifiedErrorId: MethodCountCouldNotFindBest 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T23:13:01.200

啊! [这个页面](http://get-spscripts.com/2011/03/managing-quick-launch-navigation-in.html)有最优秀的教程和例子。这对我有用（SP 2010）

```
$quickLaunch = $currentWeb.navigation.quicklaunch
$libheading = $quickLaunch | where { $_.Title -eq "Libraries" }
$newnode = New-Object Microsoft.SharePoint.Navigation.SPNavigationNode($whattitle, $myurllink, $true)
$libheading.Children.AddAsLast($newnode)
$currentweb.update() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-11T06:59:07.967

The method [`SPNavigationNodeCollection.Add`](http://msdn.microsoft.com/en-us/library/microsoft.sharepoint.navigation.spnavigationnodecollection.add.aspx) needs a second parameter - an existing [`SPNavigationNode`](http://msdn.microsoft.com/en-us/library/microsoft.sharepoint.navigation.spnavigationnode.aspx) to place the newly added one behind it. You can find one [by URL](http://msdn.microsoft.com/en-us/library/microsoft.sharepoint.navigation.spnavigation.getnodebyurl.aspx), e.g., or by enumerating the collection. Or just place your new one to the front ([`AddAsFirst`](http://msdn.microsoft.com/en-us/library/microsoft.sharepoint.navigation.spnavigationnodecollection.addasfirst.aspx)) or to the back ([`AddAsLast`](http://msdn.microsoft.com/en-us/library/microsoft.sharepoint.navigation.spnavigationnodecollection.addaslast.aspx)).

```
$web.Navigation.QuickLaunch.AddAsLast($node) 
```

**Update:** How to add a link to the Sites group:

```
$quickLaunch = $web.Navigation.QuickLaunch
# Print the $quickLaunch collection and choose a property
# identifying the best the link group you want. I chose URL.
$sitesUrl = "/sites/team/_layouts/viewlsts.aspx"
$sitesGroup = $quickLaunch | Where-Object { $_.Url -eq $sitesUrl }
$sitesGroup.Children.AddAsLast($node) 
```

--- Ferda

# html - 调整内部内容大小时，字段集未调整大小

> ID：10545993
> 
> 赞同：4
> 
> 时间：2012-05-11T05:40:15.943
> 
> 标签：html, css

```
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
 <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
 <style type="text/css">
        .box
        {
            background-color:Gray;
            width:300px;
            height:400px;
            position:relative;
            padding-top : 50px;
            padding-bottom : 50px;
            padding-left : 50px;
            padding-right : 50px;
        }

        fieldset
        {
            border-color : Red;
            width : 50% !important;
            padding-top : 50px;
            padding-bottom : 50px;
            padding-left : 50px;
            padding-right : 50px;
        }
 </style>
<script type="text/javascript">
    $(document).ready(function () {
        $("#resizable").resizable();
    });
</script>
</head>
<body>
<fieldset id="fdemo">
<div id="resizable" style="width: 100px; height: 100px;" class='box'></div>
</fieldset>
</body>
</html> 
```

上面附加的是带有字段集和字段集中可调整大小的 div 的 html 代码。

我的用户可以将 div 调整为他希望的任何宽度。在我的实际应用程序中，我还有其他调整大小的元素。所以这只是一个相关的演示。如果我的用户将控件（在本例中为字段集中的 div）调整为大于字段集宽度的宽度，则字段集的宽度应该增加，以便 div 包含在字段集的范围内。

当您执行上述代码并将 IE8 或 IE9 置于 quirks 模式时，您会注意到实现了所需的行为，字段集的宽度增加并且 div 包含在字段集中。

但是，当文档进入标准模式（即 IE8 标准模式或 IE9 标准模式）时，调整 div 的大小不会调整字段集的大小。字段集保持原样，div 移出和移出字段集。

我无法理解为什么会发生这种情况，并且不知道可能导致此问题发生的任何财产的可用性或不可用性。

我需要一个解决方案，允许上述内容在 IE7、IE8 和 IE9 上运行。我知道这很可能是与 css 相关的问题，所以我想要一个可以在全球范围内应用的 css 解决方案。

任何帮助，将不胜感激。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-11T06:23:59.577

我整理了一个 jsfiddle 作为起点：http: [//jsfiddle.net/Rwdck/1/](http://jsfiddle.net/Rwdck/1/)

根据要求在 IE 9 标准模式下进行测试。

我注意到这可以`width : 50% !important;`防止`fieldset`调整大小超出某个点（这是有道理的）。宽度看起来不均匀，因为宽度计算为宽度 + 填充 + 边框，所以 50% 实际上大于可用区域的 50%（除非`box-sizing`设置为`border-box`，这在 IE 7 中不受支持）。

当我删除`width : 50% !important;`时，字段集与框一起调整大小，但它以 100% 宽度开始（因为它是块元素），我怀疑这是所需的行为。

无论如何，我没有发现字段集没有在逻辑上调整大小（或不调整大小）及其内容的情况。

这是一个示例，其中我删除了宽度限制`fieldsets`并将它们浮动：http: [//jsfiddle.net/Rwdck/5/](http://jsfiddle.net/Rwdck/5/)

这可能更接近所需的行为，因为它提供了流畅的布局和`fieldsets`您所期望的调整大小。我在 IE 7/8/9 标准中进行了测试，并且调整大小工作正常。我确实注意到 IE 7 中的 jQuery UI 或 JSFiddle 脚本错误。

这是另一个使用的示例`display: inline-block`- [http://jsfiddle.net/Rwdck/8/](http://jsfiddle.net/Rwdck/8/)

# php - 下拉列表选项

> ID：10545997
> 
> 赞同：1
> 
> 时间：2012-05-11T05:40:52.110
> 
> 标签：php, drop-down-menu

标记，

```
<span style="padding-left: 76px">
 <span style="padding-left:5px">
  <select id="select1" name="requestdbtype" value="<?php echo $type ?>">
   <?php
    $options = array('DB2' => 'DB2',
            'MySQL' => 'MySQL',
            'Oracle' => 'Oracle',
            'PostgreSQL' => 'PostgreSQL',
            'SQLite' => 'SQLite',
            'SQL Server' => 'SQL Server',
            'Sybase' => 'Sybase');
            foreach($options as $value => $type){
                          echo "<option value='$value'>".$row['requestdbtype']."</option>";
            }
      ?>
  </select>
 </span>
</span> 
```

我无法显示选项。当前显示的选项应该是 的值`$row['requestdbtype']`。但我的显示器只显示当前值作为所有选项，请帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-11T05:45:16.633

显而易见的答案是，当然所有的下拉选项都会显示相同的内容。如果你注意的话，$row['requestdbtype'] 每次都会是一样的。

**我假设您尝试做的是，使用该数组中的所有内容，但将等于 $row['requestdbtype'] 的那个设置为当前选中。**这很简单：

```
foreach($options as $value => $type){
    $selected = ($type == $row['requestdbtype']) ? "selected='selected'" : "";
    echo "<option value='$value' $selected>$type</option>";
} 
```

请注意，***($blah == $blah2) ？"some blah" : "other blah"***被称为三元运算符。它所做的是检查***($blah == $blah2)***以查看它是真还是假，如果为真，则返回***"some blah"***，否则返回***"other blah"***

三元运算符对于紧凑的代码非常有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-11T05:44:06.010

尝试：

```
foreach( $options as $value => $type ) {
   echo "<option value='" . $value . "'>" . $type . "</option>";
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-11T05:44:27.113

```
foreach($options as $value => $type){
    echo "<option value='".$value."'>".$type."</option>";
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-11T05:45:00.077

你必须使用`selected='selected'`属性。

```
foreach($options as $value => $type)
 {
  $select="";
  if($value==$row["requestdbtype"])
    $select="selected='selected'";
  echo "<option  $select value='$value'>$row[requestdbtype]</option>";
  } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-11T05:50:21.913

您需要`$row['requestdbtype']`用于比较，而不是在您的 HTML 中。`select`还要注意标签的语法：

```
<select id="select1" name="requestdbtype">
<?php
$options = array('DB2' => 'DB2',
    'MySQL' => 'MySQL',
    'Oracle' => 'Oracle',
    'PostgreSQL' => 'PostgreSQL',
    'SQLite' => 'SQLite',
    'SQL Server' => 'SQL Server',
    'Sybase' => 'Sybase');
foreach ( $options as $value => $type ) : ?>
  <option value="<?php echo $value; ?>"<?php if ( $value == $row['requestdbtype'] ) echo ' selected="selected"'; ?>><?php echo $type; ?></option>
<?php endforeach; ?>
</select> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-05-11T05:54:01.340

我认为您的代码必须是

```
 foreach($options as $value => $type){
      if($value == $row['requestdbtype']) 
          echo "<option value='$value'  selected = 'selected' >".$type."</option>";
      else
          echo "<option value='$value' >".$type."</option>";
  } 
```

我不知道你的`$row['requestdbtype']`价值是多少，但请检查这是否是`$type`在如果条件`$type`代替`$value`显示当前选项显示已选择的情况下。在您的代码中`$row['requestdbtype']`，这是在选择框中仅显示当前选项次数的主要原因。

我希望它对你有帮助谢谢。