# StackOverflow 问答 11256000-11256999

# html - 如何使用媒体查询在移动设备上查看时事通讯中的图像？

> ID：11256000
> 
> 赞同：0
> 
> 时间：2012-06-29T04:17:45.057
> 
> 标签：html, css, mobile, media-queries

我想提高在移动设备上阅读时事通讯的用户的可用性。

为了做到这一点，我想根据设备的屏幕宽度缩放我的图像。

以下代码*在*桌面浏览器（带有`min-width`）中有效，但在使用时会失败`min-device-width`。

我看到的不是两个相邻的缩放图像，而是一个全尺寸图像，另一个缩放到大约 2px/2px。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//E" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd”&gt;
<html>
    <head>
       <title></title>
    </head>
<body>

<style type="text/css">
    @media only screen and (min-device-width : 100px) and (max-device-width : 480px) {
        body {
            background: red;
        }
        table[class='element'] {
          width: 100%;
        }
        table[class='element'] img {
            width: 100%;
            height: auto;
        }
    }
</style>

<table class="element" align="center" border="0" cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td><img src="http://www.dummyimage.com/360x270/ddd/fff.jpg" alt="" height="270" width="360"></td>
      <td><img src="http://www.dummyimage.com/360x270/ccc/fff.jpg" alt="" height="270" width="360"></td>
    </tr>
  </tbody>
</table> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T05:22:07.583

尝试将其添加到头部并`height="270" width="360"`从代码中删除，应用 css ...

```
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"> 
```

# c# - 尝试在 Windows 窗体应用程序中更改字符串的特定字符，C#

> ID：11256001
> 
> 赞同：-1
> 
> 时间：2012-06-29T04:17:54.863
> 
> 标签：c#, string

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;

namespace WindowsFormsApplication1
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        private void button1_Click(object sender, EventArgs e)
        {
            string name = textBox1.Text;

            if (textBox1.Text.Contains("l"))
            {
                textBox1.Text.Replace("l", "s");
            }
            string nameA = textBox1.Text;
            MessageBox.Show(nameA);
        }
    }
} 
```

基本上，我想要做的是，让用户输入一个名称，将名称中的“l”字符更改为“s”。并在按下按钮时将结果显示在消息框中。但是，无论我尝试了什么，“l”都不会改变。

编辑：谢谢大家，我不敢相信这是愚蠢的事情。哇V_V

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-29T04:21:34.220

```
textBox1.Text = textBox1.Text.Replace("l", "s"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-29T04:31:44.063

Since strings are immutable you have assign back the text after doing the replace.

Also you can just use `textBox1.Text = textBox1.Text.Replace("l", "s");` and avoid the `Contains` check, since if the replacement is not found in the `string` `Replace` will return the original text.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T04:23:22.193

```
if (name.Contains("l"))
{
    name = name.Replace("l", "s");
    textBox1.Text = name;
}

MessageBox.Show(name); 
```

# python - 带 Flask 的后台工作人员

> ID：11256002
> 
> 赞同：42
> 
> 时间：2012-06-29T04:18:10.060
> 
> 标签：python, flask

我有一个基于 python/Flask 构建的 webapp，它有一个相应的后台作业，可以连续运行，定期轮询每个注册用户的数据。

我希望这个后台作业在系统启动时启动并继续运行直到它关闭。我没有设置 /etc/rc.d 脚本，而是让烧瓶应用程序在应用程序启动时产生一个新进程（使用多处理模块）。

因此，使用此设置，我只需要部署 Flask 应用程序，这样后台工作程序也会运行。

这有什么缺点？这是一个完整而彻底的黑客攻击，在某种程度上是脆弱的，还是一个很好的方式来设置一个具有相应后台任务的 web 应用程序？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2017-07-04T21:24:16.673

您的方法的缺点是有很多方法可能会失败，尤其是在停止和重新启动烧瓶应用程序时。

*   你将不得不处理优雅的关闭，让你的工作人员有机会完成当前的任务。
*   有时，当您重新启动烧瓶应用程序时，您的工作人员不会准时停止，并且可能会在您启动另一个工作人员时逗留。

以下是我建议的一些方法，具体取决于您的限制：

### 脚本 + crontab

您只需要编写一个脚本来执行您想要的任何任务，并且`cron`每隔几分钟就会为您运行一次。*优点*：`cron`会定期为您运行，并在系统启动时启动。*缺点*：如果任务花费的时间太长，您可能会同时运行多个脚本实例。[你可以在这里](https://askubuntu.com/questions/142002/generic-solution-to-prevent-a-long-cron-job-from-running-in-parallel)找到一些解决这个问题的方法。

### 监督者

`supervisord`是处理不同守护进程的一种巧妙方法。您可以将其设置为运行您的应用程序、后台脚本或[两者](http://supervisord.org/configuration.html#group-x-section-settings)，并让它们从服务器启动。唯一的缺点是您必须安装`supervisord`并确保其守护程序在服务器启动时正在运行。

### uwsgi

`uwsgi`是部署烧瓶应用程序的一种非常常见的方式。它几乎没有可以用来管理后台工作人员的[功能。](http://uwsgi-docs.readthedocs.io/en/latest/AttachingDaemons.html)

### 芹菜

[Celery](http://docs.celeryproject.org/) 是一个基于分布式消息传递的异步任务队列/作业队列。它专注于实时操作，但也支持调度。我认为这是为烧瓶应用程序或任何其他基于 python 的应用程序**调度后台任务的最佳解决方案。**但是使用它会带来一些额外的体积。您将至少介绍以下流程： - 代理（rabbitmq 或 redis） - 工作人员 - 调度程序

您还可以`supervisord`管理上述所有进程，并在服务器启动时启动它们。

## 结论

在您减少流程数量的过程中，我强烈建议您使用`crontab`基于解决方案的解决方案，因为它可以让您走得更远。但请确保您的后台脚本留下执行痕迹或某种形式的日志。

# android - 根据单击的图像播放声音

> ID：11256004
> 
> 赞同：0
> 
> 时间：2012-06-29T04:18:19.890
> 
> 标签：android, android-mediaplayer

当我单击`Array`. 我想要做的是当你点击不同的图片时播放不同的声音。

到目前为止，这是我的 Java 代码：

```
public class gorendis extends Activity implements MediaPlayer.OnCompletionListener{
    private ImageView play;
    private ImageView a2;
    private MediaPlayer mp;

    @Override
    public void onCreate(Bundle icicle) {
        super.onCreate(icicle);
        setContentView(R.layout.huruf);

        play=(ImageView)findViewById(R.id.a1);
        a2=(ImageView)findViewById(R.id.a2);
        //gambar=(ImageButton)findViewById(R.id.gambar);

        //gambar.setImageResource(R.drawable.a1);

        play.setOnClickListener( new View.OnClickListener() {
            public void onClick(View view) {
                play();
            }
        });

        a2.setOnClickListener( new View.OnClickListener() {
            public void onClick(View view) {
                play();
            }
        });

        setup();
    }

    @Override
    public void onDestroy() {
        super.onDestroy();
    }

    public void onCompletion(MediaPlayer mp) {
        stop();
    }

    private void stop() {
        // TODO Auto-generated method stub
    }

    private void play() {
        mp.start();
        play.setEnabled(true);
    }

    private void loadClip() {
        try {
            mp=MediaPlayer.create(this, R.raw.doajodoh);
            mp.setOnCompletionListener(this);
        } catch (Throwable t) {
            goBlooey(t);
        }
    }

    private void setup() {
        loadClip();
        play.setEnabled(true);
    }

    private void goBlooey(Throwable t) {
        AlertDialog.Builder builder=new AlertDialog.Builder(this);

        builder.setTitle("Exception!")
               .setMessage(t.toString())
               .setPositiveButton("OK", null)
               .show();
    }
} 
```

主要布局 XML：

```
<?xml version="1.0" encoding="utf-8"?>
<ScrollView>

    <LinearLayout>

        <ImageView
            android:id="@+id/play"
            android:layout_width="wrap_content"
            android:layout_height="53px"
            android:background="@android:color/transparent"
            android:scaleType="fitCenter"
            android:src="@drawable/a1" >
        </ImageView>

        <ImageView
            android:id="@+id/a2"
            android:layout_width="wrap_content"
            android:layout_height="53px"
            android:background="@android:color/transparent"
            android:scaleType="fitCenter"
            android:src="@drawable/a2" >
        </ImageView>
    </LinearLayout>

</ScrollView> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-04T08:42:40.050

如果您只是想在 buttonclick 上播放不同的声音，那么我建议您这样做：

*   使用`setTag()`按钮的方法。喜欢`button1.setTag(0);` 或`button1.setTag("guitarmusic");`
*   您会注意到该`View.OnClickListener's` `onClick()`方法获得了一个`View`as 参数。
*   您知道，您`OnClickListener`仅将其设置为按钮，因此您可以`View`在`onClick()`方法中将其转换为`Button`喜欢 `Button clicked = (Button) view;`
*   然后您可以访问之前为按钮设置的标签，也可以投射它们，例如：`Integer buttonTag = (Integer) clicked.getTag();`
*   然后你可以通过一个简单的[switch](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html)来决定你想要播放的声音，比如：`switch(buttonTag){case 0: play first sound... break; ...}`

这样你就不需要单独的 OnClickListener 来播放你想要播放的每个声音:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-04T07:27:16.860

最后我找到了这个解决方案..这个工作，即使是长代码！

```
public class part1 extends Activity implements MediaPlayer.OnCompletionListener{
       /** Called when the activity is first created. */

    private ImageView a2;
    private ImageView a3;
    private ImageView a4;

    @Override
    public void onCreate(Bundle icicle) {
        super.onCreate(icicle);
        setContentView(R.layout.main);

        a2=(ImageView)findViewById(R.id.a2);
        a3=(ImageView)findViewById(R.id.a3);
        a4=(ImageView)findViewById(R.id.a4);

        a2.setOnClickListener(new View.OnClickListener() {
            public void onClick(View view) {

                a2();
            }               
        });
        setup();

        a3.setOnClickListener(new View.OnClickListener() {
            public void onClick(View view) {

                a3();
            }               
        });
        setup2();
        a4.setOnClickListener(new View.OnClickListener() {
            public void onClick(View view) {
                a4();
            }
        });
        setup3();

        public void onCompletion(MediaPlayer mp) {
        stop();
    }

    private void stop() {
        mp.stop();

    }

    private void a2() {
        mp.stop();
        loadClip();
        mp.start();

        a2.setEnabled(true);
    }
    private void a3() {
        mp.stop();
        loadClip2();
        mp.start();

        a3.setEnabled(true);
    }
    private void a4() {
        mp.stop();
        loadClip3();
        mp.start();

        a4.setEnabled(true);
    }

    private void loadClip() {

        try {
            mp=MediaPlayer.create(this, R.raw.a2);
            mp.setOnCompletionListener(this);

        }
        catch (Throwable t) {
            goBlooey(t);
        }
    }
    private void loadClip2() {

        try {
            mp=MediaPlayer.create(this, R.raw.a3);
            mp.setOnCompletionListener(this);

        }
        catch (Throwable t) {
            goBlooey(t);
        }
    }

    private void loadClip3() {

        try {
            mp=MediaPlayer.create(this, R.raw.a4);
            mp.setOnCompletionListener(this);

        }
        catch (Throwable t) {
            goBlooey(t);
        }
    }

    private void setup() {
        loadClip();
        a2.setEnabled(true);
    }
    private void setup2() {
        loadClip2();
        a3.setEnabled(true);
    }

    private void setup3() {
        loadClip3();
        a4.setEnabled(true);
    }

    private void goBlooey(Throwable t) {
        AlertDialog.Builder builder=new AlertDialog.Builder(this);

        builder
            .setTitle("Exception!")
            .setMessage(t.toString())
            .setPositiveButton("OK", null)
            .show();
    } 
```

# php - 在 MAMP 中设置环境变量？

> ID：11256008
> 
> 赞同：27
> 
> 时间：2012-06-29T04:18:55.473
> 
> 标签：php, macos, mamp

我假设 MAMP 环境变量可以在 ~/.bash_profile 中设置，但似乎在那里设置它们并不总是立即生效。例如，我只是在我的 .bash_profile 中设置了一个变量，并尝试重新启动 MAMP 服务器、重新启动 MAMP 本身，甚至注销我的计算机，但似乎没有任何效果。在我的环境中仍然无法访问该变量。是否有另一种方法来设置我缺少的 MAMP 环境变量，或者是否有需要清除的缓存？

提前致谢。

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2014-03-31T21:59:29.737

`additional parameters for <VirtualHost>:`您还可以在主机设置面板的扩展选项卡中的部分中在 MAMP Pro（MAMP 中不可用）中设置 PHP 环境变量。

![mamp设置php环境变量](../Images/ab562f671b60005f4d45adf994ebee4b.png)

屏幕截图来自 MAMP Pro v 3.0.3

* * *

## 回答 #2

> 赞同：36
> 
> 时间：2012-07-04T02:19:44.343

MAMP 将`/Applications/MAMP/Library/bin/envvars`在启动 apache 时将 的内容加载到其环境变量中。因此，您可以编辑文件并添加：

```
MY_VAR="foo"
export MY_VAR 
```

然后像这样访问该变量：

```
echo $_ENV["MY_VAR"]; 
```

印刷：

```
foo 
```

**OSX Yosemite 更新：**

重命名`envvars`为`_envvars`

请参阅：[Mavericks 上的 MAMP Pro 3.05 更新为 Yosemite - Apache 无法启动](https://stackoverflow.com/questions/25139599/mamp-pro-3-05-on-mavericks-updated-to-yosemite-apache-does-not-start)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2015-10-16T09:11:19.537

您可以在 Apache 配置中设置环境变量...

```
/Applications/MAMP/conf/apache/httpd.conf

SetEnv MY_VAR theValue
SetEnv ANOTHER thisIsTheValue 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-03-20T14:42:12.837

MAMP 正在寻找“/Applications/MAMP/Library/bin/envvars”，如果文件没有，只需创建它并添加您的环境变量。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-29T04:34:03.350

我假设您在谈论本地服务器？

我注意到，如果您查看 apache 可以运行多个实例的进程，您可能需要检查这些进程。如果是，请单独退出它们，因为在重新启动所有实例之前，重新启动不会接受新的更改。有什么可以尝试的。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-01-13T23:53:11.587

如果您仍然无法获取环境变量：

你可能需要编辑你**真正的**httpd.conf

> ~/库/应用程序支持/appsolute/MAMP PRO/

代替

> /应用程序/MAMP/conf/apache/

此外，您可能需要使用**getenv()**而不是**$_ENV**

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-03-23T16:06:24.703

但它不适用于 El Capitan。您应该禁用[系统完整性保护](https://en.wikipedia.org/wiki/System_Integrity_Protection)。

[原来的](https://stackoverflow.com/a/33001009/2309309)

# jquery - 我怎样才能创建像 tabzilla 这样的东西？

> ID：11256009
> 
> 赞同：1
> 
> 时间：2012-06-29T04:19:13.680
> 
> 标签：jquery, css, mozilla

页面顶部有一个导航栏，可以向下移动并在[Mozilla.org](http://mozilla.org)（我认为它称为 tabzilla）中显示菜单，我想知道如何创建这样的东西？jquery中是否有任何库或现成的源代码？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-08T22:57:56.047

作为一个实验，我将 Tabzilla 拉出来并将其设置为独立的：[https ://github.com/msenateatplos/tabzilla](https://github.com/msenateatplos/tabzilla)

jQuery 库仍然是远程的。

您可以编辑 CSS 文件或写入 LESS 并使用 npm 的 less 模块编译成 css。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-11T15:46:08.003

如果您使用 Bootstrap 3.0，这是我的建议：[http ://antonakoglou.com/making-tabzilla-with-bootstrap/](http://antonakoglou.com/making-tabzilla-with-bootstrap/)

如果您赶时间，请在此处查看：http: [//jsbin.com/EkAweqA/1](http://jsbin.com/EkAweqA/1)

我想有人也可以为 Foundation 框架做类似的事情。

# r - 在 R 中绘制图例时如何正确转义连续的两位点样式（pch）值

> ID：11256027
> 
> 赞同：1
> 
> 时间：2012-06-29T04:22:56.387
> 
> 标签：r, graph, legend

我正在尝试在 R 中绘制一个具有三种不同点样式的图例，它们都具有两位数的 pch 值。我用反斜杠对每个值进行了转义，但 R 没有正确读取，我无法找出正确的语法。下面是一个玩具示例，以及输出图。此语法适用于单个数字 pch 值。正确转义两位数 pch 值的秘诀是什么？

```
y1 = 1:10
y2 = rep(5,10)
y3 = seq(3.5,4.4,.1)
x = 1:10
plot(x,y1, pch=19, lty=1, type="b", ylab="")
lines(x,y2, pch=15, lty=2, type="b", col="red")
lines(x,y3, pch=17, lty=3, type="b", col="blue")
legend(1,10, 
   c("Y1","Y2","Y3"), 
   lty=c(1,2,3), 
   pch=c("\19\15\17"), 
   col=c("black","red","blue")) 
```

![在此处输入图像描述](../Images/4429963ad450c78aa13ae6cf0f2bf83d.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T04:59:09.360

正如乔兰在他的评论中所说，就做`pch=c(19,15,17)`.

# sql-server-2005 - sql server 2005 安装中的问题

> ID：11256028
> 
> 赞同：0
> 
> 时间：2012-06-29T04:23:08.073
> 
> 标签：sql-server-2005, installation

我尝试安装 sql server 2005。安装后我想打开 sql server 2005。所以我只需点击 stat -> All Programs -> Microsoft SQL Server 2005 但只有子菜单（配置工具），如下图所示.所以我无法打开sql server 2005。

![Sql](../Images/1d6457c6b6a23aa523e384c397800a65.png)

上面的屏幕排序取自另一个系统。

![我有](../Images/d7e6624995b3e188cb7d22d79a3c39a8.png)

上面的屏幕排序取自我的系统。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T04:41:23.033

看看 [这个](http://egranthalaya.nic.in/How_to_Install_and_setup_SQL_Server_2005_Manually.pdf)链接。它会对你有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T04:44:29.543

从菜单中选择`Sql Server Management Studio`它在第一次选择时在菜单中的最后一个

![在此处输入图像描述](../Images/9ff219fc18cf08912a99b24b7e2fef26.png)

# ios - “找不到符号：___CFObjCIsCollectable”错误的奇怪行为

> ID：11256029
> 
> 赞同：2
> 
> 时间：2012-06-29T04:23:14.767
> 
> 标签：ios, avfoundation

因此，我已经阅读了一些有关此的帖子，并且在使用 AVAudioPlayer 时也遇到了麻烦/奇怪的行为。以下两种方法尝试都会产生错误（最后引用），但音频实际上与第一个一起播放。第二次尝试时，没有音频播放。奇怪的。

音频与此一起播放，其中“audioPlayer”被声明为 IVAR：

```
-(void) URplay:(UserRecording *)recording {
    NSError *error;
    audioPlayer = [[AVAudioPlayer alloc] initWithData:self.audioData error:&error];
   [audioPlayer play];
} 
```

音频无法播放，其中“audioPlayer”在方法中被实例化：

```
-(void) URplay:(UserRecording *)recording {
   NSError *error;
   AVAudioPlayer *audioPlayer = [[AVAudioPlayer alloc] initWithData:self.audioData error:&error];
  [audioPlayer play]; 
```

}

这是错误代码：

```
Error loading /System/Library/Extensions/AudioIPCDriver.kext/Contents/Resources/AudioIPCPlugIn.bundle/Contents/MacOS/AudioIPCPlugIn: dlopen(/System/Library/Extensions/AudioIPCDriver.kext/Contents/Resources/AudioIPCPlugIn.bundle/Contents/MacOS/AudioIPCPlugIn, 262): Symbol not found: ___CFObjCIsCollectable

Referenced from: /System/Library/Frameworks/Security.framework/Versions/A/Security

Expected in: /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.1.sdk/System/Library/Frameworks/CoreFoundation.framework/CoreFoundation in /System/Library/Frameworks/Security.framework/Versions/A/Security

2012-06-28 21:07:08.424 My Life: the Musical[6151:12303] Error loading /System/Library/Extensions/AudioIPCDriver.kext/Contents/Resources/AudioIPCPlugIn.bundle/Contents/MacOS/AudioIPCPlugIn:  dlopen(/System/Library/Extensions/AudioIPCDriver.kext/Contents/Resources/AudioIPCPlugIn.bundle/Contents/MacOS/AudioIPCPlugIn, 262): Symbol not found: ___CFObjCIsCollectable

Referenced from: /System/Library/Frameworks/Security.framework/Versions/A/Security Expected in: /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.1.sdk/System/Library/Frameworks/CoreFoundation.framework/CoreFoundation in /System/Library/Frameworks/Security.framework/Versions/A/Security

2012-06-28 21:07:08.471 My Life: the Musical[6151:12303] Error loading /System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn:  dlopen(/System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn, 262): Symbol not found: ___CFObjCIsCollectable  Referenced from: /System/Library/Frameworks/Security.framework/Versions/A/Security Expected in: /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.1.sdk/System/Library/Frameworks/CoreFoundation.framework/CoreFoundation in /System/Library/Frameworks/Security.framework/Versions/A/Security

2012-06-28 21:07:08.482 My Life: the Musical[6151:12303] Error loading /System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn:  dlopen(/System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn, 262): Symbol not found: ___CFObjCIsCollectable

Referenced from: /System/Library/Frameworks/Security.framework/Versions/A/Security

Expected in: /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.1.sdk/System/Library/Frameworks/CoreFoundation.framework/CoreFoundation in /System/Library/Frameworks/Security.framework/Versions/A/Security

2012-06-28 21:07:08.504 My Life: the Musical[6151:12303] Error loading /System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn:  dlopen(/System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn, 262): Symbol not found: ___CFObjCIsCollectable

Referenced from: /System/Library/Frameworks/Security.framework/Versions/A/Security

Expected in: /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.1.sdk/System/Library/Frameworks/CoreFoundation.framework/CoreFoundation in /System/Library/Frameworks/Security.framework/Versions/A/Security
2012-06-28 21:07:08.514 My Life: the Musical[6151:12303] Error loading /System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn:  dlopen(/System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn, 262): Symbol not found: ___CFObjCIsCollectable

Referenced from: /System/Library/Frameworks/Security.framework/Versions/A/Security

Expected in: /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.1.sdk/System/Library/Frameworks/CoreFoundation.framework/CoreFoundation in /System/Library/Frameworks/Security.framework/Versions/A/Security

2012-06-28 21:07:08.533 My Life: the Musical[6151:12303] Error loading /System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn:  dlopen(/System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn, 262): Symbol not found: ___CFObjCIsCollectable

Referenced from: /System/Library/Frameworks/Security.framework/Versions/A/Security

Expected in: /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.1.sdk/System/Library/Frameworks/CoreFoundation.framework/CoreFoundation in /System/Library/Frameworks/Security.framework/Versions/A/Security

2012-06-28 21:07:08.551 My Life: the Musical[6151:12303] Error loading /System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn:  dlopen(/System/Library/Extensions/AppleHDA.kext/Contents/PlugIns/AppleHDAHALPlugIn.bundle/Contents/MacOS/AppleHDAHALPlugIn, 262): Symbol not found: ___CFObjCIsCollectable

Referenced from: /System/Library/Frameworks/Security.framework/Versions/A/Security Expected in: /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.1.sdk/System/Library/Frameworks/CoreFoundation.framework/CoreFoundation in /System/Library/Frameworks/Security.framework/Versions/A/Security 
```

# bash - 使用 [ 和 [[ 的条件表达式之间的区别

> ID：11256034
> 
> 赞同：2
> 
> 时间：2012-06-29T04:24:01.930
> 
> 标签：bash, syntax, conditional

两者之间的确切区别是什么：

```
if [ $? -ne 0 ]; 
```

和

```
if [[ $? -ne 0 ]]; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T04:28:37.437

[如此处](http://tldp.org/LDP/Bash-Beginners-Guide/html/sect_07_02.html)所述：

> 相反`[`，`[[`防止变量值的分词。因此，如果 `VAR="var with spaces"`，您不需要`$VAR`在测试中使用双引号 - 即使使用引号仍然是一个好习惯。此外，`[[`防止路径名扩展，因此带有通配符的文字字符串不会尝试扩展为文件名。使用`[[`,`==`并将`!=`右侧的字符串解释为要与左侧的值匹配的 shell glob 模式，例如：`[[ "value" == val* ]]`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-29T04:26:05.973

空无一人。不过，`[[`...`]]`语法介绍了您可以使用条件表达式执行的其他一些操作。来自`help [[`：

```
Returns a status of 0 or 1 depending on the evaluation of the conditional
expression EXPRESSION.  Expressions are composed of the same primaries used
by the `test' builtin, and may be combined using the following operators:

  ( EXPRESSION )    Returns the value of EXPRESSION
  ! EXPRESSION              True if EXPRESSION is false; else false
  EXPR1 && EXPR2    True if both EXPR1 and EXPR2 are true; else false
  EXPR1 || EXPR2    True if either EXPR1 or EXPR2 is true; else false

When the `==' and `!=' operators are used, the string to the right of
the operator is used as a pattern and pattern matching is performed.
When the `=~' operator is used, the string to the right of the operator
is matched as a regular expression. 
```

# php - 联系我们表格提交

> ID：11256036
> 
> 赞同：2
> 
> 时间：2012-06-29T04:24:10.680
> 
> 标签：php, joomla, joomla1.5, contact-form

我们如何知道在 Joomla 1.5 的模块上提交了联系我们表单。

我知道在**components\com_contact\controller.php上提交联系我们表单****函数 submit()**后执行。

 **但是，如果提交了联系我们表单，我们必须从模块中插入一些值到数据库中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T04:27:05.650

Joomla 有不同的插件提供“联系我们”页面。我看到的那些，不要在数据库中插入任何记录——他们只是使用 sendmail 或其他一些实用程序通过电子邮件向您发送票证。

如果您指的是[此代码](http://www.reference.joomlademo.de/nav.html?components/com_contact/controller.php.source.html)，那么您可以在第 214 行看到一封电子邮件已发送。**

# silverlight-4.0 - 打开 silverlight 应用程序时找不到解决方案的映射

> ID：11256039
> 
> 赞同：1
> 
> 时间：2012-06-29T04:24:39.617
> 
> 标签：silverlight-4.0, silverlight-3.0

我正在尝试打开 silverlight 项目。它里面有 12 个项目。最后两个项目没有正确加载。我正在尝试重新加载这两个项目，打开一个弹出窗口，要求下载 Silverlight 运行时（silverlight developer.exe）。下载此软件时出现错误消息：**已安装了 64 位版本的 silverlight**。

我关闭了视觉工作室，我再次重新打开了同一个项目，最后两个项目没有正确加载。您能否给我任何建议，为什么我会遇到问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T08:53:37.477

我认为您在旧版本的 Silverlight 中开发了该应用程序。你的笔记本电脑/电脑现在有最新版本。

或者

您损坏了 silverlight 运行时。所以删除当前安装并再次重新安装 silverlight 运行时。

# java - R.java 没有更新

> ID：11256049
> 
> 赞同：3
> 
> 时间：2012-06-29T04:26:18.010
> 
> 标签：java, android, eclipse, r.java-file

我无法构建我的应用程序，因为`R.java`不会更新 ID。我更新了 id`main.xml`但旧值仍然存在。这显然会阻止它构建。有没有什么办法解决这一问题？我可以`R.java`通过重命名变量并保持引用不变来手动更新，还是不安全？除了下面发布的 3 行代码和未使用的变量警告之外，没有其他问题。

**StopwatchAppActivity.java：**

```
pauseBtn = (Button)   findViewById(R.id.pause_btn);
resetBtn = (Button)   findViewById(R.id.reset_btn);
timeDisp = (TextView) findViewById(R.id.time_tv); 
```

**主.xml：**

```
<TextView
    android:id="@+id/time_tv"
    ... />

<Button
    android:id="@+id/pause_btn"
    ... />

<Button
    android:id="@+id/reset_btn"
    ... /> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-29T04:38:42.937

1.  检查所有的 XML，
2.  项目 -> 清洁，
3.  右键单击-> 修复项目属性，
4.  重复。
5.  也许尝试重新启动 Eclipse

我的 R 代问题恐慌清单

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T04:34:37.070

如果您遇到相同的问题，请开玩笑清理项目并重新构建它，从 Eclipse 中删除 R.java，它将使用新值自动重新创建。

注意：检查项目中导入的 R.java 包。如果它是 android.R 开玩笑替换为你的包名.R;

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T16:10:26.943

当您进行项目/清理时，如果您的资源名称中有错误，例如带有大写字母的图像，它将无法正常运行。在清理之后查看控制台错误消息。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-20T05:30:15.317

从项目中删除不需要的文件并从清单文件中删除不需要的代码。R.java 将自动更新:)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-03-13T12:47:00.013

我有同样的问题。唯一最终解决的问题是删除使用图形布局自动生成的 id 文本。只要我手动输入“@+id/...”，.java 文件就会识别它。

# ruby-on-rails - 使用 Heroku 扩展 Dynos

> ID：11256053
> 
> 赞同：2
> 
> 时间：2012-06-29T04:26:39.373
> 
> 标签：ruby-on-rails, heroku, hosting, scalability

我目前在 Heroku 上托管了一个 ruby​​ on rails 应用程序，我正在使用 New Relic 进行监控。我的应用程序在使用时有些滞后，我的 New Relic 监视器显示以下内容：

![新遗物图](../Images/85c1d54921585d76e8bb262a5e9be157.png)

鉴于大部分时间都花在请求队列上，这是否意味着如果我使用额外的工作人员测功机，我的应用程序会更好地扩展？或者这是我可以通过优化我的代码来解决的问题？对不起，如果这是一个愚蠢的问题，但我是一个完全的新手，感谢所有的帮助。谢谢！

== 编辑 ==

只是想确保我在不得不支付额外的 moolah 之前对此非常清楚。所以New Relic还给了我浏览器端的以下统计数据，你可以在这里看到：

![NewRelicBrowserGraph](../Images/7e4f918648674e6d524d8a33b10e049e.png)

此图显示用户花费的大部分时间都在等待 Web 应用程序。我可以将此归因于我的应用程序大部分时间都在请求队列中吗？换句话说，最终用户体验到的 1.3 秒响应时间目前仅靠代码优化几乎无法减少？（基本上我在问我是否必须花钱）谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T04:29:37.567

*请求队列*基本上意味着“等待 Web 实例可用于处理请求”。

因此，在响应时间上获得一些速度的最简单和最快的方法是增加 Web 实例的数量，以允许您的应用程序更快地处理更多请求。

优化您的代码以将每个单独的请求加速到您的应用程序每分钟可以处理更多请求的速度可能是可能的——这将更快地将请求从队列中拉出并减少整体请求排队问题。

随着时间的推移，尽一切可能优化代码仍然是一个好主意。但首先，添加更多工作人员，您的请求排队问题很可能会减少或消失。

**编辑**

有了你的额外信息，总的来说，我相信故事还是一样的——尽管在花钱之前深入了解是件好事。

1.  当您有请求排队时，这是因为请求正在等待*Web 实例*可以为他们的请求提供服务。添加更多 Web 实例会通过使更多实例可用来直接影响这一点。

2.  您可以很好地优化应用程序，从而显着减少处理每个请求的时间。如果发生这种情况，那么它也会通过让请求等待更短的时间来获得服务来减少请求排队。

我建议现在为用户提供更多*Web 实例*以立即解决排队问题，然后尽可能优化代码（假设这是您的首要任务）。而且，无论您的应用程序响应速度有多快，如果您的用户增长，您将需要实施更多的 Web 实例来跟上 - 顺便说一句，这是一个很好的问题，因为您的用户也在增长。

祝你好运！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-04-30T16:35:53.023

我只是想把这个扔进去，即使这个特定的问题似乎已经回答了。我从 New Relic 和 Engine Yard 的人那里找到了这篇博文：[博](http://blog.newrelic.com/2013/01/22/understanding-new-relic-queuing/)文。

这里的**tl;dr**是 New Relic 中的请求排队*不一定*是请求实际上在队列中排队并且无法得到处理。由于 New Relic 是如何计算这个指标的，它本质上是读取 nginx 在标头中设置的时间戳，并从`Time.now`New Relic 方法获取它时减去它。然而，New Relic 会在你的代码的任何钩子被调用*后运行。*`before_filter`因此，如果您在这些`before_filter`s 中运行大量计算密集型或数据库密集型代码，那么您看到的可能实际上是请求延迟，而不是排队。

您实际上可以检查队列以查看其中的内容。如果您使用Passenger，这真的很简单——只需`passenger status`在命令行上输入。这将向您显示有关每个乘客工作人员的大量信息，包括队列中的请求数量。如果您使用前面的 with 运行`watch`，该命令将每 2 秒执行一次，因此您可以看到队列如何随时间变化（因此只需执行`watch passenger status`）。

对于 Unicorn 服务器，这有点困难，但有一个可以运行的 ruby​​ 脚本，可[在此处](https://github.com/jaustinhughey/unicorn-status)获得。该脚本实际上检查了独角兽套接字中有多少请求等待工作人员接收。因为它正在检查套接字本身，所以运行此命令的频率不应超过 ~3 秒左右。GitHub 上的示例使用 10。

如果您看到大量排队请求，那么添加水平扩展（通过 Heroku 上的更多 Web 工作者）可能是一个合适的措施。但是，如果队列很低，但 New Relic 报告请求队列很高，那么您实际上看到的是请求延迟，您应该检查您`before_filter`的 s，或者将它们的范围仅限于那些绝对需要它们的方法，或者继续工作优化那些过滤器正在执行的代码。

我希望这对以后来这个线程的人有所帮助！

# google-apps-script - Google 应用脚本中的 if 或条件公式公式

> ID：11256059
> 
> 赞同：0
> 
> 时间：2012-06-29T04:27:17.423
> 
> 标签：google-apps-script, google-sheets

我正在尝试使用谷歌应用程序脚本将条件公式放入电子表格中，但我没有办法解决这个问题。

与所需 GAS 等效的 VBA 为：

> 子老化()
> 
> 用于 ADVANCES 的 Rem 老化板
> 
> 范围（“ap2：ap4000”）
> 
> .Formula = "=IF(u2="""","""",if(u2<0,""RC 后报告的交付"",IF(AND(u2>=0,u2<31),""年龄 0-30"",IF(AND(u2>=31,u2<=60),""年龄 31-60"",IF(AND(u2>=61,u2<=90),""年龄 61 -90"",IF(AND(u2>=91,u2<=120),""年龄 91-120"",IF(and(u2>120,u2<=180),""年龄 121-180" ",IF(u2>180,""超过 6 个月"",""""))))))))"
> 
> .Value = .Value
> 
> 结束于
> 
> 结束子

请在 GAS 中建议与此等效的 VBA。

谢谢

同样的问题发布在[https://productforums.google.com/forum/#!category-topic/docs/spreadsheets/how-do-i/desktop/H2dXGR7arvU](https://productforums.google.com/forum/#!category-topic/docs/spreadsheets/how-do-i/desktop/H2dXGR7arvU)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T11:02:37.370

1.  我认为您可以通过不对每个条件检查两次来降低复杂性
2.  在JS中你可以在里面放单引号和双引号，或者在里面放“和\”。
3.  您可以将 ArrayFormula 用于此类任务，甚至可以消除 Google Apps Script 或 VBA（最终只是一个公式）

SpreadsheetApp.getRange("AP2").setFormula('IF(U2:U4000="","",IF(U2:4000<0,"RC 后报告的交付",IF(U2:U4000<=30,"老化0-30",IF(U2:U4000<=60,"老化 31-60",IF(U2:U4000<=90,"老化 61-90",IF(U2:U4000<=120,"老化 91- 120",IF(U2:U4000<=180,"老化121-180","超过6个月","")))))))');

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T19:46:32.587

您可以使用[`Range.setFormula()`](https://developers.google.com/apps-script/class_range#setFormula)在单元格中设置公式。

```
SpreadsheetApp.getActiveRange().setFormula('=SUM(A1:A100)'); 
```

# xsd - 在 xsd 中书写模式

> ID：11256061
> 
> 赞同：1
> 
> 时间：2012-06-29T04:27:44.573
> 
> 标签：xsd, pattern-matching, xsd-validation

我正在尝试为 xsd 中的元素应用模式。

元素是 XHTML 类型。

我想应用这样的模式。

```
<a attributes="some set of attributes"><img attributes="some set of attribtes"/></a> 
```

规则：

```
 <a> tag with attributes followed by <img> with attributes. 
```

样本有效数据：

```
 <a xlink:href="some link" title="Image" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/1999/xhtml">
    <img  alt="No Image" title="No Image" xlink:href="soem path for image" xlink:title="Image" xmlns="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" />
  </a> 
```

无效的：

```
 <a>data<img/></a>--Data Present, no attributes
    <a><img>abcd</img></a>--data Present, No attributes
    <a><img/></a>---No attributes 
```

任何人都可以建议如何为此编写模式。

```
 <xsd:restriction base="xs:string">
            <xs:pattern value="Need help"/>             
        </xsd:restriction> 
```

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-17T01:00:54.830

XSD `pattern`facet 用于使用正则表达式来约束简单类型（即表示该类型实例的文字字符串集）的“词法空间”。要求某些元素必须具有属性对您没有帮助。

如果您希望出现特定属性（例如`title`，元素`xlink:href`上和元素上），在模式中这样做的最简单方法是根据需要声明这些属性。例如，XHTML 1.0 strict 的架构（在[http://www.w3.org/TR/xhtml1-schema/#xhtml1-strict](http://www.w3.org/TR/xhtml1-schema/#xhtml1-strict)上）声明了和都需要：`a``title``alt``img``src``alt``img`

```
<xs:element name="img">
  <xs:complexType>
    <xs:attributeGroup ref="attrs"/>
    <xs:attribute name="src" use="required" type="URI"/>
    <xs:attribute name="alt" use="required" type="Text"/>
    ...
  </xs:complexType>
</xs:element> 
```

如果您想要的只是要求使用*某些*属性，但您不在乎哪个属性，XSD 不会使任务变得简单：在 XSD 1.0 中没有方便的方式说“我不在乎出现哪个属性，但必须有一个”。您*可以*通过在 XSD 1.1 中使用断言或通过在 XSD 架构之外使用 Schematron 架构来强制执行这样的约束（即使像我这样的一些观察者觉得它有点奇怪）。

# java - 可以在 oncreate() 中播放 soundPool 吗？

> ID：11256062
> 
> 赞同：3
> 
> 时间：2012-06-29T04:27:53.980
> 
> 标签：java, android, android-activity, soundpool

我正在开发一个应用程序，其中当启动新活动时，它应该开始播放声音。所以我用 mediaplayer 在 oncreate 中播放声音，效果很好。但是当我尝试使用 soundpool 时，通过在活动的 oncreate 中加载和播放它。它没有播放。我选择 soundpool，因为它比媒体播放器好。

可能是什么问题？Soundpool 在 oncreate 中不起作用吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T12:26:15.287

或者，您可以覆盖 OnWindowFocusChanged 以在 Activity 启动时播放文件...

像这样的东西...

```
 public class YourActivity extends Activity {
  .
  .
  .
   private Handler mHandler;

   public void onCreate(Bundle savedInstanceState) {
   .
   .
   .
   this.mHandler = new Handler();

   .
   .
   .

   }

public void onWindowFocusChanged(boolean paramBoolean)
      {

 if (paramBoolean)
                 {
          this.mHandler.postDelayed(new Runnable()
          {
            public void run()
            {

                // Refer to the answer above to create the play function for your soundfile ... 

            YourActivity.this.play("The sound from the sound pool");
            }
          }
          , 1000L);
      } 
```

}

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-17T09:57:52.413

也许您只需要在 onCreate 方法中设置一个睡眠。

我在尝试编写一个有时需要在醒来后立即播放声音的应用程序时遇到了几乎相同的问题。最终，经过多次试验和错误，我发现它在日志输出中输入了错误“sample NOT READY”。问题是加载声音文件是异步发生的，如果您在加载之前尝试播放声音，它会失败。

据说您可以使用一种称为 setOnLoadCompleteListener 的机制，但我还没有看到一个实际有用的示例。在上面显示的来自 mirroredAbstraction 的示例中（假设它按广告宣传的那样工作），如果声音尚未加载，那么它不会播放声音，这与您现在所拥有的几乎相同。

如果该示例以某种方式神奇地“修复”了您的问题，那么我建议这只是因为这两个方法调用中的所有额外开销基本上让您的声音在播放之前有时间加载。您可能已经在加载播放之间的 onCreate 中使用简单的 SystemClock.sleep(100) 实现了相同的结果。

根据您声音的大小，您可能需要延长延迟，但是对不同延迟进行一些实验应该会告诉您需要多少。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-29T06:58:17.253

你可以在任何地方玩它，

用一个简单的例子来演示

创建一个方法`initializeSoundPool`

```
private void initializeSoundPool(){
        mSoundPool = new SoundPool(2, AudioManager.STREAM_MUSIC, 0);
        mSoundPool.setOnLoadCompleteListener(new OnLoadCompleteListener() {
                public void onLoadComplete(SoundPool soundPool, int sampleId,
                        int status) {
                    loaded = true;
                }
            });
            soundID = mSoundPool.load(this, R.raw.glassbreak, 1);        
        } 
```

然后创建一个方法`playFile`

```
private void playFile(){
 AudioManager audioManager = (AudioManager) getSystemService(AUDIO_SERVICE);
         float actualVolume = (float) audioManager
                 .getStreamVolume(AudioManager.STREAM_MUSIC);
         float maxVolume = (float) audioManager
                 .getStreamMaxVolume(AudioManager.STREAM_MUSIC);
         float volume = actualVolume / maxVolume;
         if (loaded) {
             mSoundPool.play(soundID, volume, volume, 1, 0, 1f);
             Log.e("Test", "Played sound");
         }
} 
```

然后`onCreate`像这样称呼他们

```
 private  SoundPool mSoundPool; 
    private int soundID;
    boolean loaded = false;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.spxml);
        initializeSoundPool();
            playFile();
    } 
```

或者甚至更好地调用`initializeSoundPool`，`onCreate`然后调用 playFile in `onResume`。

# sql - sqlite中的选择查询不返回任何内容

> ID：11256073
> 
> 赞同：1
> 
> 时间：2012-06-29T04:29:12.767
> 
> 标签：sql, sqlite

我正在使用 Firefox sqlite 管理器插件，并且我有一个名为 -drinktable 的数据库表。我需要提取标题与某个字符串匹配的所有列。这是我现在正在运行的查询 -

**`SELECT * FROM drinktable where title = 'First Drink';`**

但它不会返回任何东西。它只显示数据库中的 4 列，但这些列中没有任何内容。有人可以告诉我为什么吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T04:31:32.873

> 我有一个名为-drinktable 的数据库表。

你的问题中有一件事。您的表名是`drinktable`并且您正在查询`first`，是不是一个错字。在 SQL Select 语句中，您在 from 之后指定表名，在 where 子句中指定列名

```
SELECT * FROM drinktable where first =  'First Drink';

Select * from <TableName> where <ColumnName> = 'Value to compare'; 
```

如果您的表名是 first 而列名是可饮用的，那么现在有可能存在列`drinktable`设置为“First Drink”的行。您可能有空格或其他一些字符。尝试

```
SELECT * FROM first where drinktable like  '%First Drink%'; 
```

**编辑：**

根据您编辑的问题，您可能有空格或其他字符，请尝试：

```
SELECT * FROM drinktable where title like '%First Drink%'; 
```

# sql - SQL最近邻查询（电影推荐算法）

> ID：11256074
> 
> 赞同：2
> 
> 时间：2012-06-29T04:29:15.700
> 
> 标签：sql, algorithm, stored-procedures, nearest-neighbor

需要帮助使这个（某种）工作查询更加动态。

我有三个表 myShows、TVShows 和 Users

*   我的节目
    *   身份证（PK）
    *   用户（FK 到用户）
    *   节目（FK 到电视节目）

想接受这个查询并将其更改为一个存储过程，我可以将用户 ID 发送到该存储过程中并让它完成其余的工作......

```
SELECT showId, name, Count(1) AS no_users
FROM
    myShows LEFT OUTER JOIN
              tvshows ON myShows.Show = tvshows.ShowId
WHERE
    [user] IN (
        SELECT [user]
           FROM
               myShows
           WHERE
               show ='1' or show='4'
          )
    AND
    show <> '1' and show <> '4'
GROUP BY
    showId, name
ORDER BY
    no_users DESC 
```

这现在有效。但正如您所看到的，问题出在 WHERE （*show ='1' 或 show='4'*）和 AND （*​​ show <> '1' 和 show <> '4'*）语句中，这些语句当前是硬编码值，这就是我需要动态的，因为我不知道用户是否需要检查 3 或 30 个节目。

这个过程的效率有多低？这将用于可能获得大量用户的 iPad 应用程序。我目前运行的电影 API (IMDbAPI.com) 每小时点击量约为 13 万次，并且必须进行大量数据库/代码优化以使其快速运行。再次感谢！

如果您想要用于测试的数据库架构，请告诉我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T08:49:22.623

这将满足您的要求

```
select name, count(distinct [user]) from myshows recommend
inner join tvshows on recommend.show = tvshows.showid
where [user] in 
(   
    select other.[user] from 
        ( select show from myshows where [User] = @user ) my,
        ( select show, [user] from myshows where [user] <> @user ) other
    where my.show = other.show
)   
and show not in ( select show from myshows where [User] = @user ) 
group by name
order by count(distinct [user]) desc 
```

如果您的 SQL 平台支持`WITH`公用表表达式，则可以优化上述内容以使用它们。

随着数据大小的增加，它会变得高效吗？不，它会有效吗？不会。如果只有一个用户与您选择的用户分享了一个节目，并且他们观看了一个热门节目，那么该热门节目将上升到排名前列。

我会推荐

a) 回顾你对推荐节目的看法

b) 定期计算结果，而不是按需执行。

# xcode - 如何裁剪我的 UIPickerView？

> ID：11256075
> 
> 赞同：0
> 
> 时间：2012-06-29T04:29:17.767
> 
> 标签：xcode, uipickerview, crop

这是我的水平 UIPickerView（通过旋转和缩放 ori UIpicker）：htp://s7.postimage.org/qzez9d0pn/Original.png

现在，我想做的是切断这两个空间：[http ://s7.postimage.org/bryzp08uz/Process.png](http://s7.postimage.org/bryzp08uz/Process.png)

要获得更好的外观结果：[http ://s7.postimage.org/6ulf3w6vv/Result.png](http://s7.postimage.org/6ulf3w6vv/Result.png)

**有人请帮我怎么做...？**

我的旋转和缩放代码：

```
thePickerView.delegate = self;
thePickerView.showsSelectionIndicator =YES;
thePickerView.center = CGPointMake(xVar, yVar); // position
CGAffineTransform rotate = CGAffineTransformMakeRotation(-3.14/2); // rotate
rotate = CGAffineTransformScale(rotate, 0.1, 1); // scale
[thePickerView setTransform:rotate];

UILabel *theview[num]; 
CGAffineTransform rotateItem = CGAffineTransformMakeRotation(3.14/2);

for (int i=0;i<num;i++) {  
    theview[i] = [[UILabel alloc] init];
    theview[i].text = [NSString stringWithFormat:@"%d",i+1];
    theview[i].textColor = [UIColor blackColor];
    theview[i].frame = CGRectMake(0,0, 100, 100);
    theview[i].backgroundColor = [UIColor clearColor];
    theview[i].textAlignment = UITextAlignmentCenter;
    theview[i].shadowColor = [UIColor whiteColor];
    theview[i].shadowOffset = CGSizeMake(-1,-1);
    theview[i].adjustsFontSizeToFitWidth = YES;

    theview[i].transform = CGAffineTransformScale(rotateItem, 1, 10);
}
itemArray = [[NSMutableArray alloc] init];
for (int j=0;j<num;j++) {[itemArray addObject:theview[j]];}
[thePickerView selectRow:row inComponent:0 animated:NO];
[self.view addSubview:thePickerView]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T14:25:02.953

我在搜索和等待更好的编码答案时的临时解决方案是创建一个覆盖背景图像然后透明 PickerView 的期望空间 =.=

# ajax - 如何防止 SuperAgent AJAX 调用 OPTIONS？

> ID：11256077
> 
> 赞同：5
> 
> 时间：2012-06-29T04:29:37.537
> 
> 标签：ajax, superagent

我在 Firefox 上找到了 SuperAgent (http://visionmedia.github.com/superagent/) 问题的根源。不确定 SuperAgent 是否在其 AJAX 调用中执行此操作，或者 FireFox 是否正在触发它。

本质上，每次我进行 AJAX 调用时，都会在实际 AJAX 调用之前在 URL 上触发一个 OPTIONS 方法。很烦人，因为服务器目前不支持 OPTIONS。我怎样才能拨打电话，而不会使服务器变得废话和重新编码？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-29T05:23:39.233

好的，发现了更多细节。值得庆幸的是，在 Safari 上进行的测试让我对实际发生的事情有了更深入的了解，我在这里应用了我的知识。

这似乎是浏览器`OPTIONS`在进行实际 AJAX 调用之前调用方法的标准。显得有些霸道。

所以为了解决这个问题，我只是在我的反向代理服务器中添加了一个包罗万象的功能来处理每个`OPTIONS`调用。您可以查看以下代码的问题：

[玩！2.0 轻松修复路由器包罗万象的 OPTIONS 响应？](https://stackoverflow.com/questions/11256241/play-2-0-easy-fix-to-options-response-for-router-catch-all)

如果您想了解更多有关浏览器为何这样做的信息，请参阅此处：

[为什么我收到的是 OPTIONS 请求而不是 GET 请求？](https://stackoverflow.com/questions/1256593/jquery-why-am-i-getting-an-options-request-insted-of-a-get-request)

`OPTIONS`来自CORS标准。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T12:47:07.577

在 phantomjs 中禁用 web-secuty 也有助于解决这个问题（[--web-security=no](https://github.com/ariya/phantomjs/wiki/API-Reference)）。因为我无权访问 API 服务器来更改 OPTION 方法。

# javascript - javascript读取前五个值

> ID：11256081
> 
> 赞同：3
> 
> 时间：2012-06-29T04:29:54.547
> 
> 标签：javascript, loops, foreach

我在一个`forEach`子句中获取一些值

```
 data.forEach(function(content){
  ...
  controller.setAttribute(value from data);
  ...} 
```

这对我有用。但是数据循环迭代了近 20 次。我的控制器只能取 5 个值。因此，我在上面示例中的控制器正在`last five`取值。

如何在读取`first five`值后限制我的数据退出。我需要在那里有一些柜台，对吧？

或者有没有其他方法让控制器只读`first five`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T04:32:48.173

您可以使用 JavaScript 的[`Array#slice`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/slice)方法：

```
data.slice(0, 5).forEach(function (content){
  // ...
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-29T04:33:06.893

如果我理解正确，这应该有效：

```
for (i=0; i<Math.min(data.length, 5); ++i) {
  controller.setAttribute(value from data[i])
} 
```

但是，由于您似乎正在使用具有 的实现`Array.forEach`，所以这将是：

```
data.slice(0,5).forEach(function(content) {
   controller.setAttribute(value from content)
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-29T04:33:15.510

如果您使用[ECMA`forEach`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/forEach)，回调接收三个参数，第二个是索引。

```
data.forEach(function(content, index) {
   if (index >= 5) return;
  // ...
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-29T04:33:22.880

您可以在 value 参数之后传递一个 index 参数并使用它：

```
data.forEach(function(content, index){
   if (index < 5) {
       controller.setAttribute(value from data);
   }
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-29T04:33:00.577

您可以为此使用计数器或 for 循环。例子：

```
for(var i=0; i<5; i++){
    controller.setAttribute(data[i]);
} 
```

# java - Installed Ubuntu and now eclipse wont work

> ID：11256084
> 
> 赞同：0
> 
> 时间：2012-06-29T04:30:33.533
> 
> 标签：java, eclipse, ubuntu

I have just install ubuntu on my laptop as a dual boot. I also install Eclipse but can't get any of my java programs to work. The error message is below. Any help would be appreciated.

```
Exception in thread "main" java.lang.UnsupportedClassVersionError: SquareRootTest : Unsupported major.minor version 51.0
    at java.lang.ClassLoader.defineClass1(Native Method)
    at java.lang.ClassLoader.defineClass(ClassLoader.java:634)
    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
    at java.net.URLClassLoader.defineClass(URLClassLoader.java:277)
    at java.net.URLClassLoader.access$000(URLClassLoader.java:73)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:212)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:205)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:321)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:294)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:266)
Could not find the main class: SquareRootTest. Program will exit. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T09:29:38.893

看来您已经从以前的操作系统工作区复制了项目文件夹，其中包含编译`.class`文件，我认为这是您的问题。

无论如何，您可以在这里尝试的是 - 只需`.class`从工作区中删除所有与项目相关的文件，eclipse 将自动重新编译您的所有`.java`文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T08:22:54.270

原因是 SquareRootTest 类是使用 Java 7（类版本 51.0）编译的，而您正试图使用​​老一代的 JVM 运行它。尝试运行 java -version 以查看您使用的 JVM，同时查看 eclipse 首选项。你还应该清理你的项目以确保它被重新编译......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T11:29:36.743

你需要在你的 ubuntu 上安装 java 7。还要确保将 java 7 作为 ubuntu 桌面的默认设置。按照此链接执行此操作：

[http://www.devsniper.com/ubuntu-12-04-install-sun-jdk-6-7/](http://www.devsniper.com/ubuntu-12-04-install-sun-jdk-6-7/)

# php - how to save cropped image

> ID：11256085
> 
> 赞同：4
> 
> 时间：2012-06-29T04:31:11.470
> 
> 标签：php, javascript, jquery, jcrop

Downloaded the code for cropping image from the following link:

[http://deepliquid.com/content/Jcrop.html](http://deepliquid.com/content/Jcrop.html)

This is the code in crop.php page:

```
<?php

/**
 * Jcrop image cropping plugin for jQuery
 * Example cropping script
 * @copyright 2008-2009 Kelly Hallman
 * More info: http://deepliquid.com/content/Jcrop_Implementation_Theory.html
 */

if ($_SERVER['REQUEST_METHOD'] == 'POST')
{
    $targ_w = $targ_h = 150;
    $jpeg_quality = 90;

    $src = 'demo_files/pool.jpg';
    $img_r = imagecreatefromjpeg($src);
    $dst_r = ImageCreateTrueColor( $targ_w, $targ_h );

    imagecopyresampled($dst_r,$img_r,0,0,$_POST['x'],$_POST['y'],
    $targ_w,$targ_h,$_POST['w'],$_POST['h']);

    header('Content-type: image/jpeg');
    imagejpeg($dst_r,null,$jpeg_quality);

    exit;
}

// If not a POST request, display page below:

?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
        <script src="js/jquery.min.js"></script>
        <script src="js/jquery.Jcrop.js"></script>
        <link rel="stylesheet" href="css/jquery.Jcrop.css" type="text/css" />
        <script language="Javascript">

            $(function(){

                $('#cropbox').Jcrop({
                    aspectRatio: 1,
                    onSelect: updateCoords
                });

            });

            function updateCoords(c)
            {
                $('#x').val(c.x);
                $('#y').val(c.y);
                $('#w').val(c.w);
                $('#h').val(c.h);
            };

            function checkCoords()
            {
                if (parseInt($('#w').val())) return true;
                alert('Please select a crop region then press submit.');
                return false;
            };

        </script>

</head>

<body>
<!-- This is the image we're attaching Jcrop to -->
        <img src="demo_files/pool.jpg" id="cropbox" />

        <!-- This is the form that our event handler fills -->
        <form action="crop.php" method="post" onsubmit="return checkCoords();">
            <input type="hidden" id="x" name="x" />
            <input type="hidden" id="y" name="y" />
            <input type="hidden" id="w" name="w" />
            <input type="hidden" id="h" name="h" />
            <input type="submit" value="Crop Image" />
        </form>
</body>
</html> 
```

The cropping is done perfectly and displayed the cropped image successfully.

But i want to save the cropped image into a directory .

How can i do this?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T04:41:14.473

尝试这个：

```
imagejpeg($dst_r, 'yourfilename.jpg', $jpeg_quality);

// Remove from memory - don't forget this part
imagedestroy($dst_r); 
```

更多信息 [http://www.php.net/manual/en/function.imagejpeg.php](http://www.php.net/manual/en/function.imagejpeg.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-01-17T16:25:44.407

这是我的做法。

改变这个：

```
imagejpeg($dst_r,$src,$jpeg_quality); 
```

至

```
imagejpeg($dst_r);// Output

imagedestroy($dst_r);// Free the memory 
```

# php - Call function to new window/tab then redirect to other function

> ID：11256086
> 
> 赞同：1
> 
> 时间：2012-06-29T04:31:17.327
> 
> 标签：php, codeigniter

I am making a report with fpdf. My problem is I want to call the function that using fpdf class in new window after processing save to database, like this: I can figure like this 1\. First I have to save to the database, with the data posted form form html. 2\. Call fpdf function to print the result with the same data with the first process. 3\. redirect to index function to show that data has been saved into database.

my code like this :

```
//save to database
$this->My_model->insert($data);

//call the pdf function
$this->print_the_result($data);

//redirect
redirect('my_class/index'); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T13:30:34.160

Codeigniter 的重定向仅适用于它操作的窗口，因为服务器不知道有关客户端（浏览器）的任何信息。

（一般解释的）解决方法在[http://codeigniter.com/forums/viewthread/110435/#557038](http://codeigniter.com/forums/viewthread/110435/#557038)进行了解释：

“您需要将它们发送到带有 HTML 输出的页面，该页面使用 JavaScript 打开新窗口”

话虽如此，您可能需要 View 模块的一些帮助来进行重定向。

# c++ - How to write a drop-in replacements for fundamental type (float) that override operator== in C++?

> ID：11256087
> 
> 赞同：2
> 
> 时间：2012-06-29T04:31:25.060
> 
> 标签：c++

We can not compare binary floating point directly. I am writting a drop-in replacements class for float which override the bulti-in compare operators::

```
template<class U>
class Float {
    private:
        U val;
    public:
        Float(U v = 0): val(v) {}
        operator U() const { return val; }

        friend bool operator<(Float a, Float b) { return a.val + 1e-6 < b.val; }
        friend bool operator==(Float a, Float b) { return !(a < b) && !(b < a); }

        friend Float operator*(Float a, Float b) { return a.val * b.val; }
        template<class T>
        friend Float operator*(T a, Float b) { return a * b.val; }
        template<class T>
        friend Float operator*(Float a, T b) { return a.val * b; }
}; 
```

Now we can write something like this::

```
#include<assert.h>
int main() {
    Float<double> a = 0.2, b = 0.02;
    assert(a * a == 2 * b);
} 
```

However, this code will show a unexpected behavior::

```
#include<complex>
int main() {
    std::complex< Float<double> > a(0.2);
    a * 2.0;
} 
```

It will call `Float::operator*(std::complex<Float<double> >, Float)` again and again like a recursive endless loop, and finally get stack overflow. How to fix this?

**Edit**

DeadMG and Charles Bailey point out that From ISO/IEC 14882:2011, 26.4: "The effect of instantiating the template complex for any type other than float, double, or long double is unspecified."

Maybe I have given a wrong counter example. We could still discuss how to write a good drop-in replacements class for fundamental type.

Let me clear my motivation, `assert(0.1 * 0.1 == 0.01);` is counterintuitive. That is why I write a Float class which used "almost equal" behavior to compare two floating number.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T04:46:09.420

使您的构造函数显式。

```
a * 2.0; 
```

隐式构造一个浮点数，然后调用：

```
template<class T>
friend Float operator*(T a, Float b) 
{
    return a * b.val;
} 
```

当您在 b.val 上调用 * 运算符时，这反过来又隐式构造了另一个 Float；然后你从那里递归。

在我提出完整的修复建议之前，您需要进一步充实您的预期行为。

我用来探索它并测试修复的代码：

```
#include <iostream>

template<class U>
class Float {
    private:
        U val;
    public:
        explicit Float(U v = 0): val(v) 
        {
            std::cout << "constructor ";
        }
        operator U() const { return val; }

        friend bool operator<(Float a, Float b) { return a.val + 1e-6 < b.val; }
        friend bool operator==(Float a, Float b) { return !(a < b) && !(b < a); }

        friend Float operator*(Float a, Float b) { return a.val * b.val; }
    template<class T>
    friend Float operator*(T a, Float b) 
    {
        std::cout << "here";
        return a * b.val;
     }

        template<class T>
        friend Float operator*(Float a, T b) { return a.val * b; }
};

#include<complex>
int main() {
    std::complex< Float<double> > a(0.2);
    a * 2.0;
} 
```

# javascript - 如何使用变量访问对象属性

> ID：11256091
> 
> 赞同：21
> 
> 时间：2012-06-29T04:31:51.610
> 
> 标签：javascript, variables, object, properties

我有一个对象

```
var Messages = {
'fullName' : 'Tell us your cool name dude..! e.g. Yousuf Iqbal',
'userName' : 'Choose a catchy username. Remember! It should be available :)',
'password' : 'Choose a top secret password with special chars, numbers and alphabets',
'rePassword' : 'Retype the password you just typed. But, don\'t try to copy!',
'bYear' : 'Tell the year, in which this bomb blasted'
}; 
```

和一个变量..

```
var attribute = $('#userinfo form input').attr('name'); 
```

现在我想像这样使用这个变量来选择消息对象属性..

```
var message = Messages.attribute; 
```

但它不起作用..并且还尝试了以下..

```
var message = Messages+'.'+attribute; 
```

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2012-06-29T04:34:56.217

方括号：

```
message = Messages[ attribute ]; 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-29T04:35:15.313

```
var message = Messages[attribute]; 
```

# java - 项目意外停止

> ID：11256092
> 
> 赞同：0
> 
> 时间：2012-06-29T04:32:12.310
> 
> 标签：java, android, eclipse

我正在尝试编写代码以将我的电源线放在手机上。

我试图调试代码，我猜错误在 LocationListener ll=new myLocationListener();

## 轨道移动类

```
package prakash.work.trackmobile;

import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Bundle;
import android.app.Activity;
import android.content.Context;
import android.widget.TextView;

public class getCords extends Activity {

TextView longi;
TextView lat;
TextView tv=(TextView) findViewById(R.id.tv);
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.get_cords);

    longi=(TextView) findViewById(R.id.longi);
    lat=(TextView) findViewById(R.id.lat);

    LocationManager lm=(LocationManager) getSystemService(Context.LOCATION_SERVICE);
    LocationListener ll=new myLocationListener();
    lm.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, ll);

}
class myLocationListener implements LocationListener{

    public void onLocationChanged(Location arg0) {
        if(arg0 != null)
        {
            tv.setText("Working");
            double plongi=arg0.getLongitude();
            double plat=arg0.getLatitude();

            longi.setText(Double.toString(plongi));
            lat.setText(Double.toString(plat));
        }

    }

    public void onProviderDisabled(String arg0) {
        // TODO Auto-generated method stub

    }

    public void onProviderEnabled(String arg0) {
        // TODO Auto-generated method stub

    }

    public void onStatusChanged(String arg0, int arg1, Bundle arg2) {
        // TODO Auto-generated method stub

    }

}
} 
```

## ##XML布局文件##

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" 
android:orientation="vertical">

<TextView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Latitude"
    android:textAppearance="?android:attr/textAppearanceMedium" />

<TextView
    android:id="@+id/lat"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text=""
    android:textAppearance="?android:attr/textAppearanceMedium" />

<TextView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Longitude"
    android:textAppearance="?android:attr/textAppearanceMedium" />

<TextView
    android:id="@+id/longi"
    android:text=""
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:textAppearance="?android:attr/textAppearanceMedium" />

<TextView
    android:id="@+id/tv"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:textAppearance="?android:attr/textAppearanceLarge" />

</LinearLayout> 
```

## ＃＃显现＃＃

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="prakash.work.trackmobile"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="15" />
<uses-permission
android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permission
android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-permission
 android:name="android.permission.ACCESS_LOCATION_EXTRA_COMMANDS" />
<uses-permission
android:name="android.permission.ACCESS_MOCK_LOCATION" />
<uses-permission
android:name="android.permission.CONTROL_LOCATION_UPDATES" />
<uses-permission android:name="android.permission.INTERNET" />

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name=".getCords"
        android:label="@string/title_activity_get_cords" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
</application>

</manifest> 
```

或者还有什么我需要研究如何与听众合作

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T04:48:30.720

> TextView tv=(TextView) findViewById(R.id.tv);

你需要把它放在你的`public void onCreate(Bundle savedInstanceState) {`方法中`setContentView(R.layout.get_cords);`

```
TextView longi;
TextView lat;
TextView tv;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.get_cords);
    tv=(TextView) findViewById(R.id.tv);
    longi=(TextView) findViewById(R.id.longi);
    lat=(TextView) findViewById(R.id.lat); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-29T04:39:05.610

您通常会在 log cat 的前几行（这是第 5 行）中查看错误无法启动 getcords。尝试重新启动模拟器，因为这也是一个已知错误，如果错误再次出现，请在 android 清单中的 .getCords 前面添加包。（prakash.work.trackwork

# ruby - How do I start redis as a rakefile task

> ID：11256094
> 
> 赞同：0
> 
> 时间：2012-06-29T04:32:53.210
> 
> 标签：ruby, rake, redis, rakefile

I am trying to create a rakefile that runs both redis and irb. I have figured out how to run IRB (the first task runs), but when I try to run the redis task I see the error:

rake aborted! wrong number of arguments

Exactly what is wrong? My code is below:

```
task :default do
  require 'irb' 
  IRB.start
end

task :init do
  require 'redis'
  exec {'redis-server'}
end 
```

Command I use to run the code:

bundle exec rake (or rake :init, depending on which one I want to run)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:58:35.737

您收到一个参数错误，因为`exec`需要一个字符串参数，并且您正在向它发送一个块。`exec`不会对您的块做任何事情并想要一个字符串。

用于`exec "redis-server"`正确执行命令。

希望结果是您正在寻找的。不知道你为什么需要 redis，因为你没有使用 gem，你只是在执行一个命令。`redis-server`此任务的行为与仅在命令行上运行没有什么不同。

# jquery - 仅在一个元素的子元素上运行 JQuery 脚本

> ID：11256097
> 
> 赞同：0
> 
> 时间：2012-06-29T04:33:03.573
> 
> 标签：jquery, jquery-selectors, children

是否有一种简单的方法可以仅在一个特定表单上运行 JQuery 脚本，并且它是子级而不影响网站上的其他表单。

目前我将子选择器与任何其他选择器一起使用，但是是否有一个命令可以让以下选择器在我的表单的子级中匹配？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T04:51:30.503

您可以使用[查找](http://api.jquery.com/find/)：

```
$('#myform').find('.otherclass').css({color: 'red'}) 
```

选择器`.otherclass`仅在内部搜索`#myform`。

并进行了一次小的重构：

```
var $f = function(selector) { return $('#myform').find(selector); } 
```

您可以使用：

```
$f('.otherclass').css({color: 'red'}) 
```

获取 jQuery 函数的作用域版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T04:57:12.653

或者你可以直接使用

```
$('#myform .otherclass').css({color: 'red'}) 
```

您也可以使用上述语法添加事件处理程序。前任。

```
$('#myform .otherclass').click(function(){
// Some code
}) ; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T05:04:45.713

向下导航 DOM 层次结构的方法 方法描述

children() - 选择 jQuery 对象中所有元素的子元素

children(selector) - 选择与选择器匹配并且是 jQuery 对象中元素的子元素的所有元素

contents() - 返回 jQuery 对象中所有元素的子元素和文本内容

find() - 选择 jQuery 对象中元素的后代

find(selector),find(HTMLElement),find(HTMLElement[]) - 选择匹配选择器并且是 jQuery 对象 find(jQuery) 中元素的后代的元素

或者

关系选择器选择器描述

选择器选择器 - 选择匹配第二个选择器并且是与第一个选择器匹配的元素的后代的元素

selector > selector - 选择匹配第二个选择器并且是第一个选择器匹配的元素的子元素的元素

selector + selector - 选择匹配第二个选择器并且是匹配第一个选择器的元素的下一个兄弟的元素

selector ~ selector - 选择匹配第二个选择器并且是匹配第一个选择器的元素的兄弟（并且出现在之后）的元素

# objective-c - 在目标 C 中创建类似 instagram 的移轴滤镜

> ID：11256100
> 
> 赞同：2
> 
> 时间：2012-06-29T04:33:07.953
> 
> 标签：objective-c, ios, image-processing, uiimageview, instagram

我试图在 iOS 中创建图像的移轴滤镜，例如 instagram 或 iDarkroom。

我提出的方法是对部分图像使用不同的高斯模糊级别。但我不知道如何控制该区域以应用不同的高斯模糊级别，尤其是当用户可以通过旋转、缩放等更改效果区域时。

很抱歉我的复杂演示文稿，但简单地说，我想为 iOS 创建一个 tilf-shift 工具，就像在 Instagram 中一样。

我搜索并找到了这个强大的框架[https://github.com/BradLarson/GPUImage](https://github.com/BradLarson/GPUImage)，但是如果将这个巨大的框架包含到我的小应用程序中，这不是一个好的解决方案

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T15:03:03.123

我找到了解决方案：

使用过滤器**GPUImageGaussianSelectiveBlurFilter**并在此代码上更改计算*distanceFromCenter ：*

```
distanceFromCenter = abs((textureCoordinate2.x - excludeCirclePoint.x) *
aspectRatio*cos(angle) + (textureCoordinate2.y-excludeCirclePoint.y)*sin(angle)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T03:47:55.530

GPUImage 框架非常适合我的问题。GPUImageGaussianSelectiveBlurFilter 用于径向倾斜移位，作为 Oleg Kovtun 的上述答案，GPUImageTiltShiftFilter 用于线性倾斜。

更新某人需要的答案

# android - 在 Android SDK 中读取文件

> ID：11256102
> 
> 赞同：0
> 
> 时间：2012-06-29T04:33:22.093
> 
> 标签：android, file, sdk

我有一个名为“全球”的课程和另外两个活动。在每个活动中，我想创建一个 Global 类的实例，用于读取名为“textfile”的文本文件的第一行。由于某种原因，它不起作用

这是 Global 类的代码（在文件 Global.java 中）：

```
import android.app.Activity;
public class Global extends Activity {
    public String line;
    public Global() {
        InputStream file = getResources().openRawResource(R.raw.textfile);
        BufferedReader input = new BufferedReader(new InputStreamReader(file));
        try {
            line = input.readLine();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
} 
```

这是一个名为“HelloWorld”的活动代码（在文件 HelloWorld.java 中），它有一个 Global 类的实例，用于显示“textfile”的第一行

```
public class HelloWorld extends Activity{   
    Global gb;
    TextView myTV;
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.helloworld);
            gb=new Global();
        myTV = (TextView) findViewById(R.id.textView1);
        myTV.setText("First line is: "+gb.line);
    } 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:06:51.760

```
import android.app.Activity;
public class Global extends Activity {
    static String line="";

    public Global(Activity mainactivity)
    {
        InputStream file = mainactivity.getResources().openRawResource(R.raw.textfile);
        BufferedReader input = new BufferedReader(new InputStreamReader(file));
        try {
            line = input.readLine();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
} 

public class HelloWorld extends Activity{   
    Global gb;
    TextView myTV;
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.helloworld);
        gb=new Global((Activity)this);
    myTV = (TextView) findViewById(R.id.textView1);
        myTV.setText("First line is: "+gb.line);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T04:45:32.087

试试这个....

```
 public class Global extends Activity {
            public String line;
            public Global() {

               try{

  InputStream inputStream = getApplicationContext().getResources().openRawResource(R.raw.textfile);

                 InputStreamReader inputreader = new InputStreamReader(inputStream);

                BufferedReader input = new BufferedReader(inputreader);
                String s = null;

                 while ((s=input.readLine())!=null)
                    {
                       line = s;
                    }
                 }catch(Exception ex){
                     ex.printStackTrace();
                  }
            }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T04:53:54.120

> 不需要有全局扩展活动类。
> 
> 您可以做的是在全局构造函数中传递上下文。

正确的方法是

**HelloWorld.java**

```
import android.app.Activity;
import android.os.Bundle;
import android.widget.TextView;

    public class HelloWorld extends Activity{   
        Global gb;
        TextView myTV;
        protected void onCreate(Bundle savedInstanceState) {
            // TODO Auto-generated method stub
            super.onCreate(savedInstanceState);
            setContentView(R.layout.helloworld);

            gb=new Global(this);

            myTV = (TextView) findViewById(R.id.textView1);
            myTV.setText("First line is: "+gb.getLine());
        }
    } 
```

**全球.java**

```
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;

public class Global {
    private AbcActivity abcActivity;
    public String line;

    public Global(AbcActivity abcActivity) {
        this.abcActivity = abcActivity;
    }

    public String getLine() {
        InputStream file = abcActivity.getResources().openRawResource(
                R.raw.textfile);
        BufferedReader input = new BufferedReader(new InputStreamReader(file));
        try {
            line = input.readLine();
            return line;
        } catch (IOException e) {
            e.printStackTrace();
            return "Error reading File!";
        }
    }

} 
```

# iphone - iPhone中的消息/短信处理

> ID：11256117
> 
> 赞同：0
> 
> 时间：2012-06-29T04:35:28.343
> 
> 标签：iphone, ios, sms

如何检索手机中的所有消息/短信并在我自己的应用程序中显示？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-29T04:38:43.423

在设备越狱之前，您无法从 iphone public api 检索消息

# java - 空的 在 JSF 2.0 中

> ID：11256122
> 
> 赞同：1
> 
> 时间：2012-06-29T04:36:05.697
> 
> 标签：java, jsf-2, glassfish, facelets, managed-bean

我正在使用 JSF 2.0 facelets，我正在尝试从数据库中获取所选项目的值，我尝试了 @PostConstruct 方式，但它抛出了一个异常，我将很快写下所有内容，

我尝试了相同的数据库连接和实体，它运行良好。

我还应该提到，在这里我使用字符串发送到 selectItems，在我使用 SelectItem List 之前，它也没有用，

有趣的是，当我错误地在 while 循环中插入了一个 try 和 catch 块时（稍后你会看到），它抛出异常但一遍又一遍，这意味着列表不是空的，而是它只是没有进入页面。

是什么云造成的？

我的jsf代码

```
<h:selectOneMenu >
  <f:selectItems value="#{settingsBean.countryItems}" />
</h:selectOneMenu> 
```

我的托管 bean

```
@Named(value = "settingsBean") 
```

@RequestScoped 公共类 SettingsBean {

```
/**
 * Creates a new instance of SettingsBean
 */
 private String favorits;
private String hobbies;
private String aboutme;
private String education;
private String country;
private String listCountry;
private List<String> countryItems;
private List<Countries> countries;

@EJB
CountriesFacadeLocal cin = new CountriesFacade();

public SettingsBean() {

}
@PostConstruct
public void init()
{
    countries = cin.getAll();
    if(!countries.isEmpty())
    {
        int i =0;
        ListIterator iterator = countries.listIterator();
      while(iterator.hasNext())
      {
          listCountry = countries.get(i).getCountry();
            countryItems.add(i, listCountry);
      }                    
    }
} 
```

我的国家门面代码

```
@Override
    public List<Countries> getAll()
    {
        try{
        em.flush();
        Query query = em.createNamedQuery("Countries.findAll");
        List<Countries> countryList = query.getResultList();
        if(countryList!= null)
        {
            return countryList;
        }
        else
            return null;
        }
        catch(Exception e)
        {
            return null;
        }
    } 
```

我的堆栈跟踪

```
org.jboss.weld.exceptions.WeldException: WELD-000049 Unable to invoke [method] @PostConstruct public com.readme.user.signup.SettingsBean.init() on com.readme.user.signup.SettingsBean@606e86
    at org.jboss.weld.bean.AbstractClassBean.defaultPostConstruct(AbstractClassBean.java:595)
    at org.jboss.weld.bean.ManagedBean$ManagedBeanInjectionTarget.postConstruct(ManagedBean.java:200)
    at org.jboss.weld.bean.ManagedBean.create(ManagedBean.java:340)
    at org.jboss.weld.context.AbstractContext.get(AbstractContext.java:121)
    at org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:99)
    at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:87)
    at com.readme.user.signup.org$jboss$weld$bean-web-ManagedBean-class_com$readme$user$signup$SettingsBean_$$_WeldClientProxy.getFavorits(org$jboss$weld$bean-web-ManagedBean-class_com$readme$user$signup$SettingsBean_$$_WeldClientProxy.java)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at javax.el.BeanELResolver.getValue(BeanELResolver.java:302)
    at com.sun.faces.el.DemuxCompositeELResolver._getValue(DemuxCompositeELResolver.java:176)
    at com.sun.faces.el.DemuxCompositeELResolver.getValue(DemuxCompositeELResolver.java:203)
    at com.sun.el.parser.AstValue.getValue(AstValue.java:116)
    at com.sun.el.parser.AstValue.getValue(AstValue.java:163)
    at com.sun.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:219)
    at org.jboss.weld.el.WeldValueExpression.getValue(WeldValueExpression.java:55)
    at com.sun.faces.facelets.el.TagValueExpression.getValue(TagValueExpression.java:109)
    at javax.faces.component.ComponentStateHelper.eval(ComponentStateHelper.java:194)
    at javax.faces.component.ComponentStateHelper.eval(ComponentStateHelper.java:182)
    at javax.faces.component.UIOutput.getValue(UIOutput.java:169)
    at com.sun.faces.renderkit.html_basic.HtmlBasicInputRenderer.getValue(HtmlBasicInputRenderer.java:205)
    at com.sun.faces.renderkit.html_basic.HtmlBasicRenderer.getCurrentValue(HtmlBasicRenderer.java:355)
    at com.sun.faces.renderkit.html_basic.HtmlBasicRenderer.encodeEnd(HtmlBasicRenderer.java:164)
    at javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:875)
    at com.sun.faces.renderkit.html_basic.HtmlBasicRenderer.encodeRecursive(HtmlBasicRenderer.java:312)
    at com.sun.faces.renderkit.html_basic.GridRenderer.renderRow(GridRenderer.java:185)
    at com.sun.faces.renderkit.html_basic.GridRenderer.encodeChildren(GridRenderer.java:129)
    at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:845)
    at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1756)
    at javax.faces.render.Renderer.encodeChildren(Renderer.java:168)
    at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:845)
    at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1756)
    at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1759)
    at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:401)
    at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:131)
    at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:288)
    at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:121)
    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
    at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)
    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:594)
    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1539)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:281)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
    at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:655)
    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:595)
    at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:98)
    at com.sun.enterprise.web.PESessionLockingStandardPipeline.invoke(PESessionLockingStandardPipeline.java:91)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:162)
    at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:330)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:231)
    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:174)
    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:828)
    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:725)
    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1019)
    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:225)
    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)
    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)
    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)
    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)
    at com.sun.grizzly.ContextTask.run(ContextTask.java:71)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)
    at java.lang.Thread.run(Thread.java:722)
Caused by: java.lang.reflect.InvocationTargetException
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.jboss.weld.util.reflection.SecureReflections$13.work(SecureReflections.java:305)
    at org.jboss.weld.util.reflection.SecureReflectionAccess.run(SecureReflectionAccess.java:54)
    at org.jboss.weld.util.reflection.SecureReflectionAccess.runAsInvocation(SecureReflectionAccess.java:163)
    at org.jboss.weld.util.reflection.SecureReflections.invoke(SecureReflections.java:299)
    at org.jboss.weld.introspector.jlr.WeldMethodImpl.invoke(WeldMethodImpl.java:193)
    at org.jboss.weld.bean.AbstractClassBean.defaultPostConstruct(AbstractClassBean.java:591)
    ... 66 more
Caused by: java.lang.NullPointerException
    at com.readme.user.signup.SettingsBean.init(SettingsBean.java:56)
    ... 76 more 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T07:12:40.560

原因是 SettingsBean 第 56 行中的 NullPointerException。我不知道这一行中写了什么，但检查您的代码，可能是类变量`countryItems`从未初始化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-06T13:46:40.717

不要将 EJB 注释与 new as countriesFacadeLocal cin = new countriesFacade(); 混淆 如果您决定使用容器逻辑作为 EJB，您应该坚持这一点。否则，您的字段根本不会被初始化（EJB 也不是新的），因此为 null。

# r - “mktdata [, keep] 中的错误：维数不正确”，因为库存“T”指的是 TRUE？

> ID：11256123
> 
> 赞同：3
> 
> 时间：2012-06-29T04:36:15.983
> 
> 标签：r, quantmod, quantstrat

我在尝试在用符号“T”引用的股票 AT&T 上运行 quantstrat 示例时遇到问题。我相信这是因为 R 在某个地方认为这个 T 指的是 TRUE。这是我的代码：

```
library(quantstrat)
ticker="T"
total_hist.start = as.Date("2006-06-22")
total_hist.end   = as.Date("2008-06-20")
total_hist = total_hist.end - total_hist.start

currency("USD")
stock(ticker,currency="USD",multiplier=1)

getSymbols(ticker,from=total_hist.start,to=total_hist.end,to.assign=TRUE)
init.date = initDate=total_hist.start-1
strat.name<- "MyStrat"
port.name <- "MyPort"
acct.name <- "MyAcct"

TradeSize = 1000
initEq=as.numeric( TradeSize*max(Ad(get(ticker)) ) )

port <- initPortf(port.name,ticker,initDate=init.date)
acct <- initAcct(acct.name,portfolios=port.name, initDate=init.date, initEq=initEq)
ords <- initOrders(portfolio=port.name,initDate=init.date)
strat<- strategy(strat.name)

strat<- add.indicator(strategy = strat, name = "SMA", arguments = list(x=quote(Ad(mktdata)), n=20),label= "ma20" )

strat<- add.indicator(strategy = strat, name = "SMA", arguments = list(x=quote(Ad(mktdata)), n=50),label= "ma50")
strat<- add.signal(strat,name="sigCrossover",arguments = 
list(columns=c("ma20","ma50"),relationship="gte"),label="ma20.gt.ma50")

strat<- add.signal(strat,name="sigCrossover",arguments =   
list(column=c("ma20","ma50"),relationship="lt"),label="ma20.lt.ma50")
strat<- add.rule(strategy = strat,name='ruleSignal', arguments = list(sigcol="ma20.gt.ma50",sigval=TRUE,  
orderqty=TradeSize, ordertype='market', orderside='long', pricemethod='market'),type='enter', path.dep=TRUE)

strat<- add.rule(strategy = strat,name='ruleSignal', arguments = list(sigcol="ma20.lt.ma50",sigval=TRUE, orderqty='all', 
ordertype='market', orderside='long', pricemethod='market'),type='exit', path.dep=TRUE)

out<-try(applyStrategy(strategy=strat, portfolios=port.name)) 
```

我现在收到此错误消息：

```
Error in mktdata[, keep] : nombre de dimensions incorrect 
```

我尝试了另一只股票，如安捷伦科技，其符号为“A”，但我没有收到此错误，所以我几乎可以肯定问题出在 T 与 TRUE 一样的事实。谢谢您的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T12:02:24.400

您的问题不在于*quantstrat*，而在于*getSymbols*

```
> head(T)
[1] TRUE
> get('T')
[1] TRUE
> getSymbols(T,from=total_hist.start,to=total_hist.end,to.assign=TRUE)
Error in do.call(paste("getSymbols.", symbol.source, sep = ""), 
list(Symbols = current.symbols, : could not find function "getSymbols.TRUE"
> getSymbols('T',from=total_hist.start,to=total_hist.end,to.assign=TRUE)
[1] "T"
> head(T)
           T.Open T.High T.Low T.Close T.Volume T.Adjusted
2006-06-22  27.34  27.44 27.13   27.29 14123800      19.85
2006-06-23  27.15  27.61 27.05   27.37 10474500      19.91
2006-06-26  27.32  27.53 27.19   27.33 11311200      19.88
2006-06-27  27.38  27.49 27.29   27.35  9869100      19.89
2006-06-28  27.27  27.44 27.24   27.41 14853300      19.94
2006-06-29  27.42  27.79 27.42   27.70 17314300      20.15 
```

一种解决方法是改为执行以下操作：

```
stock('ATT',currency='USD')
ticker<-'ATT'
ATT<-getSymbols('T',from=total_hist.start,to=total_hist.end,auto.assign=FALSE) 
```

这将避免 R 中的任何 T/F 与 TRUE/FALSE 混淆（这总是一个可怕的想法，imo）。

问候，

*   布赖恩

# jquery - 撤消 jquery 动画

> ID：11256133
> 
> 赞同：0
> 
> 时间：2012-06-29T04:38:22.487
> 
> 标签：jquery, jquery-animate, z-index

我制作了一个动画，其中 4 个 div 在另一个 div 的“后面”滑动。我需要一个重置按钮来再次显示所有 div，所以我想我可以撤消动画。因此，例如，如果我向左动画 -100 像素，我想我可以动画向右 +100 像素。那个动画什么也没做。我做了一个js小提琴。如果代码太多，请告诉我。

[http://jsfiddle.net/R2ARv/3/](http://jsfiddle.net/R2ARv/3/)

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T04:49:16.130

如果你使用 += 和 -=，你可以像这样制作动画对立面：

```
left -=100px
left +=100px 
```

left -=100px 的相反动画是 left +=100px。

要使用您正在使用的正常定位，您必须知道或保存之前的左侧位置并动画回到该位置。

因此，如果 left 以前为零，那么这些将相互反转，因为这些是绝对位置，而不是相对于先前的位置：

```
left -100px
left 0 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T04:50:10.267

如果要向左反转：-100px，请向左：+100px 或向右：-100px。

左：-100px 等于右：+100px。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T04:51:45.900

[http://jsfiddle.net/HxxUp/](http://jsfiddle.net/HxxUp/)

只需将 left 设置回 0。这会将元素重新定位回它们原来的位置，前提是它们不是绝对定位的。

```
$("#back-to-main").click(function(){
        $("#div-link2").animate({"left": "0"}, 1500);
        $("#div-link3").animate({"left": "0"}, 1500);
        $("#div-link4").animate({"left": "0"}, 1500);
        $("#div-link5").animate({"left": "0"}, 1500);

       //other code
}); 
```

# html - 为现有网站添加深色背景封面

> ID：11256135
> 
> 赞同：0
> 
> 时间：2012-06-29T04:38:36.003
> 
> 标签：html, css

我正在建立一个网站，我想在用户填写表格时添加一个深色的半透明背景图像来掩盖背景。我想知道您将如何做到这一点，因为我当前的实现不起作用。

目前，当我尝试实现它时，半透明背景不会水平拉伸页面的整个宽度，并且似乎在页面底部创建了不需要的垂直空间块。我现有的解决方案涉及创建一个 div 并使用`position:relataive; top:-1100px; left:0px;`将这个 div 准确地放置在我想要的位置。

在网站上，这个半透明的背景位于名为“Find Us”的第四页也是最后一页。单击标有“反馈”的流苏将显示一个表格。目前，由于背景繁忙，表格难以阅读，因此我想使用半透明背景封面来“模糊”当前页面上除表格之外的所有内容。

在我尝试添加半透明背景之前的演示：[http ://www.sfu.ca/~jca41/stuph/it/website01/template.html](http://www.sfu.ca/~jca41/stuph/it/website01/template.html)

我尝试添加半透明背景后的演示： [http ://www.sfu.ca/~jca41/stuph/it/website02/template.html](http://www.sfu.ca/~jca41/stuph/it/website02/template.html)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T04:41:37.463

将 CSS 更改为`#cover`：

```
#cover {
  position:absolute;
  top:0px;
  left:0px;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T04:46:56.257

你的封面 div 的 z-index 比流苏 div 多。将流苏 div 的 z-index 设置为 120，并且您已经使用 z-index 115 进行了覆盖。检查是否有效。

# adobe - InDesign CS5 / 脚本：我可以将 TIFF 和 PNG 图像转换为“黑白”吗？

> ID：11256138
> 
> 赞同：0
> 
> 时间：2012-06-29T04:38:50.807
> 
> 标签：adobe, adobe-indesign, extendscript

我有一个脚本，它可以扫描文档中的所有图像类型，将它们全部转换为黑白，然后将黑白图像导出到新文件夹。

* * *

似乎 InDesign 将导出这些图像文件格式：（  `JPEG, TIFF, and PNG`它不**导出**GIF 文件）。

但是，InDesign 似乎没有 TIFF 和 PNG 文件的`ColorSpace.GRAY`or`ColorSpaceEnum.GRAY`属性（但它**确实**具有 JPEG 文件的此属性）。

* * *

*   那么，有没有办法在 InDesign 的 Extendscript 中将 TIFF 和 PNG 文件转换为黑白文件？

*   如果**没有**，不为这些文件类型提供黑白转换的原因是什么？

* * *

这是我的代码，到目前为止只导出黑白 JPEG 文件：

```
var document = app.activeDocument;
var newFolder = createFolder(document); // if subdirectory DNE, create this folder with the function below

saveAllImages(document, newFolder); // with the function below

function createFolder(doc)
{
    try
    {
      /*
         * type-casting the filePath property (of type object) into a String type;
         * must be a String type to concatenate with the subdirectory variable (also of type String)
         */
        var docPath = String(doc.filePath);
        var subdirectory = "/BLACK AND WHITE IMAGES";
    }
    catch(e)
    {
        alert(e.message);
        exit();
    }

    var imagesFolder = docPath + subdirectory; // concatenating the two variables
    if(!Folder(imagesFolder).exists)
    {
        Folder(imagesFolder).create();
    }

    return imagesFolder; // for instantiation outside of this function

} // end of function createFolder

function saveAllImages(doc, folder)
{
    var imgs = doc.allGraphics;
    var fileName = "";
    var img = "";
    var imgType = "";

    for(var i = 0; i < imgs.length; i++)
    {
        if(imgs[i].itemLink != null)
        {
            fileName = imgs[i].itemLink.name;
            img = new File(folder + "/" + fileName); // each image instantiated here
            imgType = imgs[i].imageTypeName; // image type is determined here (.tif, .jpg, .png, etc..)

            alert("This is a " + imgType + " file.");

            /*
                * array for image options, instantiated from the function below;
                * options[0] is the "MAXIMUM" image quality property, &
                * options[1] is the "GRAY" image conversion property;
                */
            var options = convertToBlackAndWhite(imgType);

            // each image exported to the new folder here, by file type
            switch(imgType)
            {
                case "GIF":
                    alert("This script cannot convert and export the GIF file:\n\t" + fileName + " !");
                    break;

                case "TIFF":

            case "EPS":

                case "JPG":
                    options[0]; // maximum image quality
                    options[1]; // black & white conversion

                    imgs[i].exportFile(ExportFormat.JPG, img, false);
                    break;

                case "PNG":
                    options[0]; // maximum image quality
                    options[1]; // black & white conversion

                    imgs[i].exportFile(ExportFormat.PNG_TYPE, img, false);
                    break;

                default:
                    alert("\tUnlisted image type: " + imgType + "!\nAdd this type to the switch statement.");
                    break;
            } // end of switch statement

        } // end of if statement
    } // end of for loop

} // end of function saveAllImages

        function convertToBlackAndWhite(fileType)
        {
            // array for image-quality and color-conversion values
            var settings = [];

            // each image exported to the new folder here, by file type
            switch(fileType)
            {
                case "TIFF":

                case "PNG":

            case "EPS":

                case "JPG":
                    settings[0] = "app.jpegExportPreferences.jpegQuality = JPEGOptionsQuality.MAXIMUM"; // maximum image quality
                    settings[1] = "app.jpegExportPreferences.jpegColorSpace = JpegColorSpaceEnum.GRAY"; // black & white conversion
                    break;

                default:
                    break;

            } // end of switch statement

            return settings; // for instantiation outside of this function

        } // end of function convertToBlackAndWhite 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T09:14:08.527

> 那么，有没有办法在 InDesign 的 Extendscript 中将 TIFF 和 PNG 文件转换为黑白文件？

不是我知道的。

> 如果没有，不为这些文件类型提供黑白转换的原因是什么？

他只有上帝知道：D

鉴于您的期望，我宁愿将这些图像操作委托给 Photoshop，您可以在其中使用任何您想要的格式和任何设置。您可以使用 BridgeTalk 对象或拥有一个运行 Ps 的热文件夹（用于 ex 的 applescript）。或者，您可以使用 doScript 根据您的操作系统调用 applescript 或 visualbasic，并让它们运行您可能拥有的一些转换工具。

祝你好运。

洛伊克

PS：另请参阅此工具。也许它有一些你可以用 JS 调用的 API [http://www.rorohiko.com/wordpress/indesign-downloads/color2gray/](http://www.rorohiko.com/wordpress/indesign-downloads/color2gray/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T23:03:49.217

*因此，尽管*我一直在研究使用`BridgeTalk`.到所需的格式。 但是，.PDF**不能**被强制转换为不同的文件格式，因为它们会被错误地格式化和损坏。 这是我的工作代码，与上面的代码非常相似，只是做了一些修改：

 ***```
var document = app.activeDocument;
var newFolder = createFolder(document); // if subdirectory images DNE, create this folder with the function below

saveAllImages(document, newFolder); // with the function below

//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

function createFolder(doc)
{
    try
    {
      /*
         * type-casting the filePath property (of type object) into a String type;
         * must be a String type to concatenate with the subdirectory variable (also of type String)
         */
        var docPath = String(doc.filePath);
        var subdirectory = "/BLACK AND WHITE IMAGES";
    }
    catch(e)
    {
        alert(e.message);
        exit();
    }

    var imagesFolder = docPath + subdirectory; // concatenating the two variables
    if(!Folder(imagesFolder).exists)
    {
        Folder(imagesFolder).create();
    }

    return imagesFolder; // for instantiation outside of this function

} // end of function createFolder

//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

function saveAllImages(doc, folder)
{
    var imgs = doc.allGraphics;
    var fileName = "";
    var img = "";
    var imgType = "";

    for(var i = 0; i < imgs.length; i++)
    {
        if(imgs[i].itemLink != null)
        {
            fileName = imgs[i].itemLink.name;
            var str = fileName.substr(0, fileName.length - 4) + ".tif"; // converting all file types to .TIF
            img = new File(folder + "/" + str); // each image instantiated here
            imgType = imgs[i].imageTypeName; // image type is determined here (.tif, .jpg, .png, etc..)

            //alert("The file \"" + fileName + "\"\n\tis a " + imgType + " file.");

            /*
                * array for image options, instantiated from the function below;
                * options[0] is the "MAXIMUM" image quality property, &
                * options[1] is the "GRAY" image conversion property;
                */
            var options = convertToBlackAndWhite(imgType);

            // each image exported to the new folder here, by file type
            switch(imgType)
            {
                case "GIF":
                    alert("This script cannot convert and export the GIF file:\n\t" + fileName + " !");
                    break;

                case "Adobe PDF":
                    // PDF file type does not have the maximum image quality property
                    options[1]; // black & white conversion

                    imgs[i].exportFile(ExportFormat.PDF_TYPE, img, false);
                    break;

                case "EPS":
                    // PDF file type does not have the maximum image quality property
                    options[1]; // black & white conversion

                    imgs[i].exportFile(ExportFormat.EPS_TYPE, img, false);
                    break;

                case "Windows Bitmap":
                case "PNG":
                case "TIFF":
                case "JPEG":
                    options[0]; // maximum image quality
                    options[1]; // black & white conversion

                    imgs[i].exportFile(ExportFormat.JPG, img, false);
                    break;

                default:
                    alert("\tUnlisted image type: " + imgType + "!\nAdd this type to the switch statement.");
                    break;
            } // end of switch statement

            replaceWithNewImage(doc, fileName, img); // with the function below

        } // end of if statement
    } // end of for loop

} // end of function saveAllImages

//---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

        function convertToBlackAndWhite(fileType)
        {
            // array for image-quality and color-conversion values
            var settings = [];

            // each image exported to the new folder here, by file type
            switch(fileType)
            {
                case "Adobe PDF":
                    settings[0] = ""; // PDF file type does not have the maximum image quality property
                    settings[1] = "app.pdfExportPreferences.pdfColorSpace = PDFColorSpace.GRAY"; // black & white conversion
                    break;

                case "EPS":
                    settings[0] = ""; // EPS file type does not have the maximum image quality property
                    settings[1] = "app.epsExportPreferences.epsColorSpace = EPSColorSpace.GRAY"; // black & white conversion
                    break;

                case "Windows Bitmap":
                case "PNG":
                case "TIFF":
                case "JPEG":
                    settings[0] = "app.jpegExportPreferences.jpegQuality = JPEGOptionsQuality.MAXIMUM"; // maximum image quality
                    settings[1] = "app.jpegExportPreferences.jpegColorSpace = JpegColorSpaceEnum.GRAY"; // black & white conversion
                    break;

                default:
                    break;
            } // end of switch statement

            return settings; // for instantiation outside of this function

        } // end of function convertToBlackAndWhite 
```

Though I did not use `BridgeTalk`, I am still looking into this and have found a good reference here: [http://www.kasyan.ho.com.ua/convert_cmyk-rgb_images_to_grayscale.html](http://www.kasyan.ho.com.ua/convert_cmyk-rgb_images_to_grayscale.html).

And for ideas on *not* overwriting the original images: [http://forums.adobe.com/message/4292613#4292613](http://forums.adobe.com/message/4292613#4292613).***

# x86 - x86 assembly: printing integer to the console after mul (seg fault)

> ID：11256143
> 
> 赞同：1
> 
> 时间：2012-06-29T04:39:13.257
> 
> 标签：x86, stdout, nasm, sys, dword

I'm trying to learn x86 assembly. The book I'm using is `Assembly Language - Step by Step, Programming With Linux` (and I'd have to say it's pretty good). I've learned a lot so far, but I feel as though I should also be challenging myself to stay ahead in many respects so I can learn faster through doing (I can do follow along, top-down learning, but I find it tediously slow).

So, I figured it would be a cool idea to try and multiply two registers (32-bit) and then output the data to the console.

The problem is that when I execute the program (I'm using NASM, just as the book does - no Insight debugger though), I receive a segmentation fault. I've done a fair amount of debugging in **gdb** with this little hammer out, but for whatever reason I can't seem to figure out what the issue is.

I'd like to know why I'm receiving a segmentation fault, and what a good way would be to reprimand the issue. Also, if the comments I've made in the code don't match up with what exactly is happening, I'd be grateful if anyone could correct me on that.

Here's my code so far (it's well commented)

Thanks.

**teh codez**

```
section .data
;TODO

section .bss
valueToPrint: resb 4            ;alloc 4 bytes of data in 'valueToPrint'

section .text

global _start

_mul:
    mov eax, 0x2A ;store 42 in eax
    mov edx, 0x2A ;store 42 in edx
    mul eax
    ret

_safe_exit:
    mov eax, 1  ;initiate 'exit' syscall
    mov ebx, 0  ;exit with error code 0
    int 0x80    ;invoke kernel to do its bidding 

_start:
    nop                         ;used to keep gdb from complaining

    call _mul                       ;multiply the values
    mov [valueToPrint], eax         ;store address of eax in the contents of valueToPrint
    mov eax, 4                      ;specify a system write call - aka syswrite
    mov ebx, 1                      ;direction used to make the syswrite call output to console - i.e. stdout
    mov dword [ecx], valueToPrint   ;store valueToPrint in ecx: ecx represents the syswrite register
    int 0x80                        ;invoke kernel based on the given parameters

    call _safe_exit 
```

**Edit**

Also, I'm running Arch Linux, if that makes a difference.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T05:10:39.763

此行导致分段错误：

```
mov dword [ecx], valueToPrint 
```

你告诉它存储`valueToPrint`在 address 的内存位置`ecx`。您永远不会初始化`ecx`（内核可能会在程序启动时为您将其初始化为 0），因此当您取消引用它时，您将访问一个无效的内存位置。

系统调用采用[`write(2)`](http://linux.die.net/man/2/write)3 个参数：寄存器中的文件描述符编号`ebx`、指向要写入的字符串的指针以及要写入`ecx`的字节数`edx`。因此，如果您只想打印结果的原始二进制数据，您可以传递 的地址`valueToPrint`，并告诉它从该地址打印 4 个字节。在本例中，`valueToPrint`是 1764（十六进制中的 0x6e4），因此这段代码将打印出`e4 06 00 00`x86 上的 4 个字节，即 little-endian：

```
mov [valueToPrint], eax   ; store the result into memory
mov eax, 4                ; system call #4 = sys_write
mov ebx, 1                ; file descriptor 1 = stdout
mov ecx, valueToPrint     ; store *address* of valueToPrint into ecx
mov edx, 4                ; write out 4 bytes of data
int 0x80                  ; syscall 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T05:32:49.963

编辑！（忘记了一个cmp！）

以 10 为基数输出值...

```
; assuming value is in EAX (only)
.loop1:
    div   10      ; divide by 10, leave result in eax, REMAINDER in edx
    push  eax     ; save value
    mov   eax,edx
    or    eax,0x30 ; convert 0-9 to '0'-'9' (ascii 0x30='0')
    call  display_a_char ; (you write this!)
    pop   eax
    or    eax,eax ; set flags (edit!)
    jnz   .loop1
; all done, maybe put a \n return or something here 
```

# iphone - numberOfRowsInSection 已调用但 cellForRowAtIndexPath 未调用

> ID：11256145
> 
> 赞同：2
> 
> 时间：2012-06-29T04:40:14.583
> 
> 标签：iphone, ios, facebook, parsing, tableview

在我的 tableView **numberOfRowsInSection**被调用了两次但**cellForRowAtIndexPath**没有被调用？我想在 tableView 中显示 Facebook 好友列表（如果 cellForRowAtIndexPath 称我的问题已解决）。

我在这里的数组中得到了正确的值，但是第一次调用表方法时，因为好友列表的解析未完成，它不会转到**cellForRowAtIndexPath**但下次我重新加载数据时，它在**numberOfRowsInSection**中显示值 194（我的朋友在 facebood）但仍然没有去**cellForRowAtIndexPath**。我对这个问题感到很厌倦？

```
@implement RootViewController

//In this view i do two things. First use FBFeedPost to Fetch the Friend List from    Facebook and Second navigate to FBFriends view

FBFeedPost *post = [[FBFeedPost alloc]initWithFriendList:self.imageView.image];
    [post publishPostWithDelegate:self];

FBFriends *friendList=[[FBFriends alloc]initWithNibName:@"FBFriends" bundle:[NSBundle mainBundle]];
[[self navigationController] pushViewController:friendList  animated:YES];

@end

@implement FBFeedPost

//After parsing friends list i pass Array to a FBFriend class function   

FBFriends *obj1=[[FBFriends alloc]init];
[obj1 getFreindName:nameItems];

@end

@implement FBFriends

-(void)getFreindName:(NSMutableArray *)friendName
{
    friendsArray=friendName;

    NSLog(@"the count of name is %d",[friendsArray count]);// here i get right answer.

    [self.tableView reloadData];

}

@end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:39:52.533

@Stack.Blue：好的，您为 tableView 使用了什么属性？使用`@property(nonatomic,retain)UITableView *tableView;` 或下一个选项是您可以尝试在方法中添加表格。`viewWillAppear`如果它有效，请告诉我。

# internet-explorer - Selenium webdriver中的WebBrowser闪烁

> ID：11256146
> 
> 赞同：0
> 
> 时间：2012-06-29T04:40:19.307
> 
> 标签：internet-explorer, selenium, build-automation

我正在使用 selenium webdriver 并在 IE10 上运行它。webbrowser 闪烁和测试失败以及此问题的解决方案。它在 Firefox 中运行良好

实际上网页闪烁并且所有其他测试用例都失败说“元素未显示”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-06-04T15:59:38.450

我在 IE 中截屏时遇到了同样的闪烁问题，我在整个互联网上进行了搜索，但没有找到解决此问题的方法。

我找到了这个为测试步骤截屏的替代解决方案。

我没有使用 webdriver API 来截屏，而是依靠 Java Robot API 来截屏。

使用以下代码在 IE 中截取屏幕截图，而不会出现任何闪烁。

```
public static boolean TakeScreenshot(String filePath){
    boolean b = false;
    try {
        BufferedImage image = new Robot().createScreenCapture(new Rectangle(Toolkit.getDefaultToolkit().getScreenSize()));

        b = ImageIO.write(image, "png", new File(filePath));            

    } catch (Exception e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    return b;
} 
```

让我知道此解决方案是否适合您....

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-24T09:16:11.880

在 IE 6 和 8 浏览器中也发生在我身上。窗口只是随机地最大化和最小化自己，所有测试都失败了。日志中也没有相关的堆栈跟踪。有人知道这是什么一回事吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-29T11:31:03.663

检查框架是否在每个步骤后记录屏幕截图。如果您删除 IE 的屏幕截图方法。然后它不会闪烁..试一试..

# jpa - Closing EntityManager org.datanucleus.exceptions.NucleusUserException

> ID：11256150
> 
> 赞同：0
> 
> 时间：2012-06-29T04:40:47.473
> 
> 标签：jpa, datanucleus, entitymanager

I have the method below:

```
public List<Profile> listProfiles(){
    EntityManager em = EMF.get().createEntityManager();
    List<Profile> list = null;
    try{

        Query q = em.createQuery("SELECT p FROM Profile p");
        list = (List<Profile>)q.getResultList();

    } catch(NoResultException ex){
        System.out.println("ERROR CATCHED: " + ex.getMessage());
    } finally{
        em.close(); 
    }

    return list;
} 
```

Accessing the return list will throw an error: `org.datanucleus.exceptions.NucleusUserException: Object Manager has been closed`

One trick I found is to add list.size() before closing entity manager:

```
finally{
    list.size();
    em.close(); 
} 
```

Should I close entity manager? Or are there concepts I missed?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T06:17:44.533

另一个“概念”是使用 GAE JPA 插件的 v2。它是很久以前发布的。

# java - 将此作为参数传递

> ID：11256158
> 
> 赞同：3
> 
> 时间：2012-06-29T04:42:29.977
> 
> 标签：java, parameters, this, keyword

我见过将关键字`this`作为输入参数传递的代码。 **例如：**

```
getContainer(this); 
```

关键字`this`是什么意思？我听说它指的是类本身的一个实例（或类似的东西），但它是如何工作的？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-29T05:37:46.950

[从 Java 规范的 15.8.3 开始：](http://docs.oracle.com/javase/specs/jls/se5.0/html/expressions.html#15.8.3)

> 关键字 this 只能用在实例方法、实例初始化器或构造器的主体中，或者在类的实例变量的初始化器中。如果它出现在其他任何地方，则会发生编译时错误。当用作主要表达式时，关键字 this 表示一个值，该值是对调用实例方法的对象（第 15.12 节）或正在构造的对象的引用。this 的类型是关键字 this 出现的类 C。在运行时，引用的实际对象的类可能是 C 类或 C 的任何子类。
> 
> [...]
> 
> 关键字 this 也用于特殊的显式构造函数调用语句，它可以出现在构造函数体的开头（第 8.8.7 节）。

所以是的，一个类可以使用 this 关键字来引用它自己。`this`当方法中的局部变量与类成员变量同名时，也需要该关键字，以区分它们。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-29T04:44:38.127

`this`指当前实例调用了哪个方法，

因此它将引用传递给调用该成员方法的当前实例

```
class MyRunnable implements Runnable {
    Thread t;
    public MyRunnable() {
        this.t = new Thread(this); //here it passes reference to current instance of `Runnable`
    }

    public void run() {

    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-10-01T04:31:08.520

`this`也可以通过传递调用类的实例给被调用类。例如

```
public class Caller{
        public void callerClassMethod1(){
            new Called(this).
        }

        public void callerClassMethod2(){
        }
    }

class Called{
    private Caller caller;
    public Called(Caller caller){
       this.caller=caller;
    }
    public void calledClassMethod1(){
        //.... Do something before
        caller.callerClassMethod2();
        //..... Do something after        

    }
} 
```

这样，您可以分离 2 个类的职责，同时保持它们耦合。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-06-29T05:03:07.877

在java中，我们有类并创建这些类的实例（对象）。因此，当对象需要指向或引用自身时，就会使用**this**关键字。

# java - 扩展特定的 JTree 路径

> ID：11256159
> 
> 赞同：8
> 
> 时间：2012-06-29T04:42:32.433
> 
> 标签：java, swing, jtree

我在扩展 JTree 节点时遇到问题。当使用选择一个节点时，我开始除了所选节点的路径和要折叠的所选节点本身之外的所有内容。我试过使用

```
tree.collapsePath(new TreePath(tree.getModel().getRoot()));
tree.expandPath(new TreePath(e111.getPath())); 
```

像这样的东西，但它似乎没有效果，我真的不知道我该怎么做

这是我的树的样子：

[http://img220.imageshack.us/img220/3450/jtreepng.png](http://img220.imageshack.us/img220/3450/jtreepng.png)

如果我单击 1.1.1，我希望其他所有内容都被折叠，但 1.1.1 节点和路径中的元素。

这是我创建的应用程序：

```
public class SelectableTree extends JFrame implements TreeSelectionListener {
public static void main(String[] args) {
    new SelectableTree();
}

DefaultMutableTreeNode root;
DefaultMutableTreeNode e1;
DefaultMutableTreeNode e2;
DefaultMutableTreeNode e3;

DefaultMutableTreeNode e11;
DefaultMutableTreeNode e22;
DefaultMutableTreeNode e33;

DefaultMutableTreeNode e111;
DefaultMutableTreeNode e222;
DefaultMutableTreeNode e333;

DefaultMutableTreeNode aChild;
private JTree tree;
private JTextField currentSelectionField;

public SelectableTree() {
    super("JTree Selections");
    WindowUtilities.setNativeLookAndFeel();
    addWindowListener(new ExitListener());
    Container content = getContentPane();
    root = new DefaultMutableTreeNode("Root");

    e1 = new DefaultMutableTreeNode("1");
    e2 = new DefaultMutableTreeNode("2");
    e3 = new DefaultMutableTreeNode("3");

    e11 = new DefaultMutableTreeNode("1.1");
    e22 = new DefaultMutableTreeNode("2.2");
    e33 = new DefaultMutableTreeNode("3.3");

    e111 = new DefaultMutableTreeNode("1.1.1");
    e222 = new DefaultMutableTreeNode("2.2.2");
    e333 = new DefaultMutableTreeNode("3.3.3");

    root.add(e1);
    root.add(e2);
    root.add(e3);
    e1.add(e11);
    e2.add(e22);
    e3.add(e33);
    e11.add(e111);
    e22.add(e222);
    e33.add(e333);

    tree = new JTree(root);
    tree.addTreeSelectionListener(this);
    content.add(new JScrollPane(tree), BorderLayout.CENTER);
    currentSelectionField = new JTextField("Current Selection: NONE");
    content.add(currentSelectionField, BorderLayout.SOUTH);
    setSize(250, 275);
    setVisible(true);
}

public void valueChanged(TreeSelectionEvent event) {
    tree.clearSelection();
    tree.collapsePath(new TreePath(tree.getModel().getRoot()));
    tree.expandPath(new TreePath(e111.getPath()));
} 
```

编辑：奇怪的是`tree.collapsePath`作品很好，似乎 `tree.expandPath(new TreePath(e111.getPath()));`是问题所在

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-29T10:25:29.190

Swing GUI 对象应该*只*在[事件分派线程](http://download.oracle.com/javase/tutorial/uiswing/concurrency/initial.html)上构建和操作。

![在此处输入图像描述](../Images/0a1d4988b381919e3c73bd4c44be011c.png)

```
import java.awt.BorderLayout;
import java.awt.EventQueue;
import javax.swing.JFrame;
import javax.swing.JScrollPane;
import javax.swing.JTextField;
import javax.swing.JTree;
import javax.swing.event.TreeSelectionEvent;
import javax.swing.event.TreeSelectionListener;
import javax.swing.tree.DefaultMutableTreeNode;
import javax.swing.tree.TreePath;

public class SelectableTree extends JFrame implements TreeSelectionListener {

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {

            @Override
            public void run() {
                new SelectableTree();
            }
        });
    }
    DefaultMutableTreeNode root;
    DefaultMutableTreeNode e1 = new DefaultMutableTreeNode("1");
    DefaultMutableTreeNode e2 = new DefaultMutableTreeNode("2");
    DefaultMutableTreeNode e3 = new DefaultMutableTreeNode("3");
    DefaultMutableTreeNode e11 = new DefaultMutableTreeNode("1.1");
    DefaultMutableTreeNode e22 = new DefaultMutableTreeNode("2.2");
    DefaultMutableTreeNode e33 = new DefaultMutableTreeNode("3.3");
    DefaultMutableTreeNode e111 = new DefaultMutableTreeNode("1.1.1");
    DefaultMutableTreeNode e222 = new DefaultMutableTreeNode("2.2.2");
    DefaultMutableTreeNode e333 = new DefaultMutableTreeNode("3.3.3");
    DefaultMutableTreeNode aChild;
    private JTree tree;
    private JTextField currentSelectionField;

    public SelectableTree() {
        super("JTree Selections");
        setDefaultCloseOperation(EXIT_ON_CLOSE);
        root = new DefaultMutableTreeNode("Root");
        root.add(e1);
        root.add(e2);
        root.add(e3);
        e1.add(e11);
        e2.add(e22);
        e3.add(e33);
        e11.add(e111);
        e22.add(e222);
        e33.add(e333);

        tree = new JTree(root);
        tree.addTreeSelectionListener(this);
        add(new JScrollPane(tree), BorderLayout.CENTER);
        currentSelectionField = new JTextField("Current Selection: NONE");
        add(currentSelectionField, BorderLayout.SOUTH);
        setSize(250, 275);
        setLocationRelativeTo(null);
        setVisible(true);
    }

    @Override
    public void valueChanged(TreeSelectionEvent event) {
        tree.expandPath(new TreePath(e11.getPath()));
        currentSelectionField.setText(event.getPath().toString());
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-29T06:21:31.217

您是否检查过该`expandPath`方法的javadoc。该方法完全按照它的描述进行：

> 如果路径中的最后一项是叶子，则这将无效。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-02-21T02:37:34.817

采用

```
tree.setSelectionPath(new TreePath(e111.getPath())); 
```

代替

```
tree.expandPath(new TreePath(e111.getPath())); 
```

# java - 来自 XML 数据的网格

> ID：11256160
> 
> 赞同：0
> 
> 时间：2012-06-29T04:42:42.677
> 
> 标签：java, xml

我已经创建了 jsp 页面来显示来自 xml 数据的网格。下面我展示了我的jsp（解析jsp

) 页面和 xml (display.xml) 页面。

## 解析.jsp

```
%@ page contentType="text/html"%> 

%@ page import="javax.xml.parsers.DocumentBuilderFactory, 

javax.xml.parsers.DocumentBuilder,org.w3c.dom.*" 

%>  

% 

DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance(); 

DocumentBuilder db = dbf.newDocumentBuilder(); 

Document doc = db.parse("http://10.100.133.106:50000/XMII/CM/Glory/Sample/display.xml"); 

NodeList nl= doc.getElementsByTagName("title"); 

NodeList n2= doc.getElementsByTagName("author"); 

NodeList n3= doc.getElementsByTagName("year");  

NodeList n4= doc.getElementsByTagName("price"); 

%>  

html> 

body><center> 

table width="500" border="0" cellspacing="0" cellpadding="0"> 

tr>  

td style="background:#000033;color:#FFFFFF;font-weight:bold;">Title/td> 

td style="background:#000033;color:#FFFFFF;font-weight:bold;">Author/td> 

td style="background:#000033;color:#FFFFFF;font-weight:bold;">Year/td> 

td style="background:#000033;color:#FFFFFF;font-weight:bold;">Price/td> 

/tr> 

tr>  

<% 

for(int i=0;i<3;i++) 

{ 

%> 

<td><%= nl.item(i).getFirstChild().getNodeValue() %></td> 

<td><%= n2.item(i).getFirstChild().getNodeValue() %></td> 

<td><%= n3.item(i).getFirstChild().getNodeValue() %></td> 

<td><%= n4.item(i).getFirstChild().getNodeValue() %></td> 

</tr> 

<%  

} 

%> 
/table> 

/center> 

/body> 

/html> 
```

## 显示.xml

```
?xml version="1.0" encoding="ISO-8859-1" ?> 

bookstore> 

book category="COOKING"> 

title lang="en">Everyday Italian/title> 

author>Giada De Laurentiis/author>  

year>2005/year> 

price>30.00/price> 

/book> 
book category="CHILDREN"> 

title lang="en">Harry Potter/title> 

author>J K. Rowling/author>  

year>2005/year> 

price>29.99/price> 

/book> 

book category="WEB"> 

title lang="en">Learning XML/title> 

author>Erik T. Ray/author>  

year>2003/year> 

\price>39.95/price> 

\book> 

\/bookstore> 
```

执行时收到以下错误报告。

> 错误：“请求处理期间发生应用程序错误。”
> 
> 故障排除指南 [https://sdn.sap.com/irj/sdn/wiki?path=/display/JSTS/Home](https://sdn.sap.com/irj/sdn/wiki?path=/display/JSTS/Home)
> 
> 细节：
> 
> org.xml.sax.SAXParseException：文档中根元素之后的标记必须格式正确。在 com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:264) 在 com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:292)在 javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:165)
> at JEE_jsp_CM_Glory_Sample_displayXML_8904750_1340860399234_1340860399922._jspService(JEE_jsp_CM_Glory_Sample_displayXML_8904750_1340860399234_1340860399922.java:51) at com.sap.engine.services.servlets_jsp.lib.jspruntime.JspBase.service(JspBase.java:102) at com.sap.engine.services.servlets_jsp.server.Invokable .invoke(Invokable.java:140) 在 com.sap.engine.services.servlets_jsp.server.servlet.JSPServlet.service(JSPServlet.java:436) 在 com.sap.engine.services.servlets_jsp.server.servlet.JSPServlet .service(JSPServlet.java:240) 在 javax.servlet.http.HttpServlet.service(HttpServlet.java:847)
> 在 com.sap.engine.services.servlets_jsp.server.runtime.FilterChainImpl.runServlet(FilterChainImpl.java:162) 在 com.sap.engine.services.servlets_jsp.server.runtime.FilterChainImpl.doFilter(FilterChainImpl.java:81)在 com.sap.xmii.system.SecurityFilter.doFilter(SecurityFilter.java:96) 在 com.sap.engine.services.servlets_jsp.server.runtime.FilterChainImpl.doFilter(FilterChainImpl.java:73) 在 com.sap.xmii .system.SecurityFilter.doFilter(SecurityFilter.java:96) 在 com.sap.engine.services.servlets_jsp.server.runtime.FilterChainImpl.doFilter(FilterChainImpl.java:73) 在 com.sap.engine.services.servlets_jsp.server .HttpHandlerImpl.runServlet(HttpHandlerImpl.java:461) 在 com.sap.engine.services.servlets_jsp.server.HttpHandlerImpl.handleRequest(HttpHandlerImpl.java:298) 在 com.sap.engine.services.httpserver.server。RequestAnalizer.startServlet(RequestAnalizer.java:397) 在 com.sap.engine.services.httpserver.server.RequestAnalizer.startServlet(RequestAnalizer.java:386) 在 com.sap.engine.services.servlets_jsp.filters.DSRWebContainerFilter.process( DSRWebContainerFilter.java:48) 在 com.sap.engine.services.httpserver.chain.AbstractChain.process(AbstractChain.java:78) 在 com.sap.engine.services.servlets_jsp.filters.ServletSelector.process(ServletSelector.java: 83) 在 com.sap.engine.services.httpserver.chain.AbstractChain.process(AbstractChain.java:78) 在 com.sap.engine.services.servlets_jsp.filters.ApplicationSelector.process(ApplicationSelector.java:243) 在 com .sap.engine.services.httpserver.chain.AbstractChain.process(AbstractChain.java:78) 在 com.sap.engine.services.httpserver.filters.WebContainerInvoker。com.sap.engine.services.httpserver.chain.HostFilter.process(HostFilter.java:9) 处的流程(WebContainerInvoker.java:78) com.sap.engine.services.httpserver.chain.AbstractChain.process(AbstractChain. java:78) 在 com.sap.engine.services.httpserver.filters.ResponseLogWriter.process(ResponseLogWriter.java:60) 在 com.sap.engine.services.httpserver.chain.HostFilter.process(HostFilter.java:9)在 com.sap.engine.services.httpserver.chain.AbstractChain.process(AbstractChain.java:78) 在 com.sap.engine.services.httpserver.filters.DefineHostFilter.process(DefineHostFilter.java:27) 在 com.sap .engine.services.httpserver.chain.ServerFilter.process(ServerFilter.java:12) 在 com.sap.engine.services.httpserver.chain.AbstractChain.process(AbstractChain.java:78) 在 com.sap.engine.services .httpserver.filters.MonitoringFilter。com.sap.engine.services.httpserver.chain.ServerFilter.process(ServerFilter.java:12) 上的流程（MonitoringFilter.java:29） com.sap.engine.services.httpserver.chain.AbstractChain.process（AbstractChain. java:78) 在 com.sap.engine.services.httpserver.filters.MemoryStatisticFilter.process(MemoryStatisticFilter.java:43) 在 com.sap.engine.services.httpserver.chain.ServerFilter.process(ServerFilter.java:12)在 com.sap.engine.services.httpserver.chain.AbstractChain.process(AbstractChain.java:78) 在 com.sap.engine.services.httpserver.filters.DSRHttpFilter.process(DSRHttpFilter.java:42) 在 com.sap .engine.services.httpserver.chain.ServerFilter.process(ServerFilter.java:12) 在 com.sap.engine.services.httpserver.chain.AbstractChain.process(AbstractChain.java:78) 在 com.sap.engine.services .httpserver.server.Processor。在 com.sap.engine.services.httpserver.server.Processor$FCAProcessorThread.process(Processor.java:247) 上的 chainedRequest(Processor.java:428) 在 com.sap.engine.services.httpserver.server.rcm.RequestProcessorThread。在 com.sap.engine.core.thread.execution.Executable.run(Executable.java:122) 在 com.sap.engine.core.thread.execution.Executable.run(Executable. java:101) 在 com.sap.engine.core.thread.execution.CentralExecutor$SingleThread.run(CentralExecutor.java:327)engine.core.thread.execution.Executable.run(Executable.java:101) 在 com.sap.engine.core.thread.execution.CentralExecutor$SingleThread.run(CentralExecutor.java:327)engine.core.thread.execution.Executable.run(Executable.java:101) 在 com.sap.engine.core.thread.execution.CentralExecutor$SingleThread.run(CentralExecutor.java:327)

但是xml数据得到了很好的证实。请解决这个问题

问候，

# c# - VS2010 检测是wss3.0还是MOSS 2007

> ID：11256163
> 
> 赞同：0
> 
> 时间：2012-06-29T04:43:04.567
> 
> 标签：c#, sharepoint

谁能告诉我如何检测 webpart 是否在 wss3.0 或 MOSS 2007 下运行？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:55:19.573

我假设您的意思是以编程方式：尝试`SPFarm.Local.BuildVersion`按照this [blog post](http://www.collaboris.com/blogs/collaboris-blog/mark-jones/2012/04/06/how-to-programmatically-detect-the-version-of-sharepoint-2007-and-2010)和this [SO question](https://stackoverflow.com/questions/2205148/determine-which-edition-of-sharepoint-is-installed)中的描述使用。

# node.js - Node.js / Socket.io 与 IIS & 自身共享端口

> ID：11256164
> 
> 赞同：2
> 
> 时间：2012-06-29T04:43:07.963
> 
> 标签：node.js, iis, socket.io, windows-server

可以将 Socket.io（在 node.exe 上运行）制作成

*   与 IIS 实例共享端口 80 和（可能是 443）
*   用一个端口使用机器的所有内核？

当然，同时做这两件事：一个 IIS 实例和多个节点线程/进程都在同一个端口上服务。

Windows现在提供进程间端口共享有一段时间了，所以理论上应该是可以的。有关详细信息，请参阅[http://msdn.microsoft.com/en-us/library/ms730158.aspx](http://msdn.microsoft.com/en-us/library/ms730158.aspx)：

> 但是因为 WCF 和 IIS 6.0 都使用内核模式 HTTP 堆栈 (HTTP.sys)，与 IIS 5.1 不同，IIS 6.0 可以与运行在同一台机器上的其他自承载 WCF 服务共享端口 80。

我想对于我问题的 IIS 部分，问题是： node.exe 使用**http.sys**吗？

# php - 多个输入字段 jquery.autocomplete

> ID：11256167
> 
> 赞同：3
> 
> 时间：2012-06-29T04:43:29.753
> 
> 标签：php, jquery, autocomplete, textfield

我想为许多文本输入字段自动完成...但是有了这个自动完成

```
<html><head><script type="text/javascript" src="jquery-1.4.js"></script>
<script type='text/javascript' src='jquery.autocomplete.js'></script>
<link rel="stylesheet" type="text/css" href="jquery.autocomplete.css" />
<link rel="stylesheet" href="main.css" type="text/css" />

<script type="text/javascript">

$().ready(function() {
      $("#perkiraan").autocomplete("proses_akun.php", { width:350, max:28, scroll:false });
});

</script>
</head>
<body>
<div class="demo" style="width: 250px;">
<div>
<p>Nama Akun : <input type="text" id="perkiraan"  name="perkiraan" size="65"></p>
</div>
</div>
<div id="pilihan">
</div>

<div class="demo" style="width: 250px;"><div>
<p>Nama Akun : <input type="text" id="perkiraan"  name="perkiraan" size="65"></p>
</div>
</div>  

<div id="pilihan">
</div>
</body>
</html> 
```

我知道它是因为这个 jquery 只有一个同名允许...但是我想在第一个使用 javascript 的情况下添加更多输入文本（第二个、第三个等），而无需复制粘贴 scriot 并更改其名称...帮助请，，，，

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-29T05:07:28.537

**工作演示** [http://jsfiddle.net/nckYT/](http://jsfiddle.net/nckYT/)

请注意，DOM 不应该具有与`id`上面示例中的元素相同的属性。即`id="perkiraan"` **解决方案**改用`class`属性。

我认为官方文档说，如果有多个相同`id`的，那么它将最后一个`id`-ied 元素作为标识的元素。

**进一步对于多个元素**，您可以像这样使用 class 元素进行自动完成`$( ".perkiraan" ).autocomplete({`，它将自动完成与所有带有 class 的元素一起附加`perkiraan`。**或者**您可以链接不同`id`的 s，`$( "#perkiraan, #foo" ).autocomplete({`但添加类会解决问题

希望这会有所帮助，如果我错过了什么，请让我知道，`:)`

**因为**

```
<body><div class="demo" style="width: 250px;">
    <div><p>Nama Akun : <input type="text" class="perkiraan"  name="perkiraan" size="65"></p></div></div><div id="pilihan"></div>
    <div class="demo" style="width: 250px;">
<div><p>Nama Akun : <input type="text" class="perkiraan"  name="perkiraan" size="65"></p></div></div>  <div id="pilihan"></div></body> 
```

**图像 1 输入 1** ![在此处输入图像描述](../Images/42ff068e891d0ff405c8a76608d2a8a4.png)

**图像 2 输入 2** ![在此处输入图像描述](../Images/f5b9d6f0b346516916a8f2e4652c67a6.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:33:33.423

它很简单，只需更改`$("#perkiraan").autocomplete`为`$(".classname").autocomplete` 即可完成

**注意**：所有文本字段中的类名应相同

# mysql - 如何在 symfony2 中用学说 2 锁定整个表？

> ID：11256169
> 
> 赞同：7
> 
> 时间：2012-06-29T04:43:35.063
> 
> 标签：mysql, symfony, locking, doctrine-orm

我需要用学说锁定整个表（而不是单行），如果可能的话，我想在没有本机查询的情况下这样做。

[悲观锁定](http://doctrine-orm.readthedocs.io/projects/doctrine-orm/en/latest/reference/transactions-and-concurrency.html)的文档仅描述了如何通过这些方法锁定特定实体：

*   实体管理器#find
*   实体管理器#lock
*   查询#setLockMode

我有一个事务需要插入一行，其值取决于表中其余行的值，因此我需要防止两个事务同时在该表上执行。

我正在使用显式事务划分，它应该可以很好地与锁定配合使用（根据上面的文档）。

**注意**：在这种情况下，乐观锁定还不够好，我负担不起重试事务。此外，查询不应该很慢，因此性能不是问题。

**编辑**：我举个例子。想象一下，您想手动构建一个 auto_increment，并且您必须从表中选择 max() 以获取上一个结果才能插入下一个结果。您必须确保没有两个事务尝试插入相同的值，以防它们同时选择 max()。

当 auto_increment 不好时，我正在寻找此问题的通用解决方案，例如使用字符串、多列、散列或您必须对前一个行集进行的任何计算。

锁定是一个可靠的解决方案，与乐观锁定不同，您不必重试错误。

那么，有没有办法在学说中使用表锁定？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-04-08T19:06:21.870

到目前为止，按照建议，我尝试了这个：

```
$em->getConnection()->exec('LOCK TABLES table_name WRITE;'); //lock for write access

// calculate $new_number...

// persist $new_number on table_name...
$table_name->setCalculatedNumber($new_number);
$em->persist($table_name);
$em->flush();

$em->getConnection()->exec('UNLOCK TABLES;'); 
```

我用 JMeter 对其进行了测试，并且锁定在负载很重（16 个请求/秒）的情况下无法正常工作。跟踪显示其他实例在明确放弃之前获得了锁。问题（正如 Jens 所建议的）是 flush() 隐式以 START TRANSACTION 开头，这会删除表锁。使用本机更新为我解决了这个问题：

```
$em->getConnection()->exec('LOCK TABLES table_name WRITE;'); //lock for write access

// calculate $new_number...

// persist $new_number on table_name...
$em->getConnection()->executeUpdate("UPDATE table_name set ...;");    

$em->getConnection()->exec('UNLOCK TABLES;');
$em->refresh($table_name); 
```

需要尾随 refresh() 以使计算出的数字在后续查询结果中可用

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-12-11T21:14:24.480

可能被 Doctrine2 ORM 复制[更新选择](https://stackoverflow.com/questions/12971249/doctrine2-orm-select-for-update)

下面是一些相关代码：

```
try {
    $entity = $em->find('User', $theEntityId, LockMode::OPTIMISTIC, $expectedVersion);

    // do the work

    $em->flush();
} catch(OptimisticLockException $e) { 
    echo "Sorry, but someone else has already changed this entity. Please apply the changes again!";
} 
```

LockMode::OPTIMISTIC 参数可能会提供您需要的内容。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-03T12:09:30.510

通过查看 Doctrine 2.x 中的文档，我认为没有支持锁定整个表的方法。您当然可以尝试通过 Doctrine 单独锁定所有记录，但这会很麻烦并且不是一个好主意。

相反，我会使用 Doctrine 实体管理器在数据库上执行原始 SQL ......

`$em->getConnection()->exec('LOCK TABLES table_name WRITE;'); //lock for write access`

然后在你完成更新后......

`$em->getConnection()->exec('UNLOCK TABLES;');`

编辑：

来自关于表锁的[MySQL 文档...](http://dev.mysql.com/doc/refman/5.0/en/lock-tables.html)

> *   持有锁的会话可以读写表。
>     
>     
> *   只有持有锁的会话才能访问该表。在释放锁之前，没有其他会话可以访问它。
>     
>     
> *   当持有 WRITE 锁时，其他会话对表的锁请求会阻塞。

我认为这里的第二点是关键，只有您的会话可以读/写该表。

# php - Developer.ean 未通过传递行程 ID 和姓氏来响应预订详细信息

> ID：11256170
> 
> 赞同：0
> 
> 时间：2012-06-29T04:43:49.867
> 
> 标签：php, xml, api, zend-framework

我正在使用 developer.ean.com 进行 PHP 开发。我想通过 developer.ean.com 中的这些 url 获取有关客户预订详细信息的 API

描述和图表：http: [//developer.ean.com/docs/read/hotels/version_3/request_itinerary#ItineraryQuery](http://developer.ean.com/docs/read/hotels/version_3/request_itinerary#ItineraryQuery)

示例：http: [//developer.ean.com/docs/read/hotels/version_3/request_itinerary/examples/XML_Itinerary_Record](http://developer.ean.com/docs/read/hotels/version_3/request_itinerary/examples/XML_Itinerary_Record)

DFD 清楚地显示您可以使用电子邮件 ID 或姓氏与行程 ID 和确认 ID。

所以我使用了以下代码：

```
public function apiurlAction() {
        //API URL                
        $url = "http://api.ean.com/ean-services/rs/hotel/v3/itin";

        $append = "?cid=55505";
        $append .= "&apiKey=cbrzfta369qwyrm9t5b8y8kf";
        $append .= "&minorRev=13&locale=en_US&en_EN¤cyCode=USD";
        return $url . $append;
    }

public function reservationdetailsAction() {
        //getting ItineraryID and emailID
        $itineraryID = $this->_getParam('itineraryID');
        //$emailID = $this->_getParam('emailID');
        $lastName = $this->_getParam('lastName');

        //passing Itinerary ID and EmailID to XML
        $xml = "<HotelItineraryRequest>"; //Open XML        
        $xml.="<itineraryId>$itineraryID</itineraryId>";
        $xml.="<email>$emailID</email>";
        $xml.="<lastName>$lastName</lastName>";
        $xml.="</HotelItineraryRequest >";
        //Created the complete url and use curl for executing it
        $sendurl = $this->apiurlAction() . "&xml=" . urlencode($xml);

        $curl = curl_init();
        curl_setopt($curl, CURLOPT_URL, $sendurl);
        curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);
        $result = curl_exec($curl);
        curl_close($curl);

        $array = json_decode($result, true);

//        echo "<pre>";
//        print_r($array);
//        exit;

        $this->view->customerReservationDetails = $array;
    } 
```

在这里，我通过传递行程 ID 和电子邮件 ID 获取 API 预订详细信息。但不能通过传递带有姓氏的行程 ID 来获得。

与确认 ID 相同的问题。我没有通过使用 emailid 和姓氏传递确认 ID 来获取任何数据。

有什么解决办法。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T05:34:43.817

在同一个开发中，我的预订页面上出现价格不匹配问题，而成功页面和确认电子邮件中的价格却很好。定价和税金在预订页面上返回更多。响应按原样返回，因为我们无法计算自己的总数，无法跟踪此问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T06:48:57.177

developer.ean.com API 存在问题。

您可以使用他们的沙箱检查它：

请参阅此链接：

[http://devhub.ean.com/V3sandbox/itineraryForm.asp](http://devhub.ean.com/V3sandbox/itineraryForm.asp)

# jsf - 列出所有出现验证错误的 Richfaces TabPanel 选项卡

> ID：11256173
> 
> 赞同：0
> 
> 时间：2012-06-29T04:44:20.073
> 
> 标签：jsf, richfaces, seam

我有一个`rich:tabpanel`带有几个选项卡的选项卡，每个选项卡中都包含一些输入。选项卡面板具有`switchType="client"`标签属性值。还有一个提交表单的提交按钮（commandButton）。

我想在网页顶部显示一条消息，列出所有输入导致验证错误的选项卡。欢迎任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T16:54:41.307

您可以使用（作为模式面板）通过使用inside[`<rich:popupPanel>`](http://showcase.richfaces.org/richfaces/component-sample.jsf?demo=popup&sample=modalPopup)来显示您想要的消息。`<h:messages>`验证您的所有输入，如果有错误，则添加一条新消息，在`<oncomplete>`您的显示弹出面板的 javascript 方法中`<a4j:commandButton>`通知用户操作结果。

# perl - Perl 和 Matlab 之间的数据/IO 通信

> ID：11256177
> 
> 赞同：3
> 
> 时间：2012-06-29T04:44:45.347
> 
> 标签：perl, matlab, io, communication

我是 MATLAB 和 Perl 的活跃用户，我使用 MATLAB 作为平台来运行主要程序，以及调用 Perl 和 Java 类等其他脚本。

**但是，我从来没有找到一种在 Matlab 中重用 Perl 输出的好方法，而不使用 CSV/Excel/txt 文件作为 IO 中值。**

我非常感谢任何促进 Perl 和 Matlab 之间交流的想法。或者，您能否推荐其他便于使用 Matlab 的类似语言？

提前非常感谢！

乔。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-09T13:53:00.177

从 Matlab 帮助我学会了使用`eval()`.

所以假设你的 perl 脚本`multiply.plx`执行

```
$a=$ARGV[0];

$b=$ARGV[1];

$result=$a*$b;

print "$result"; 
```

在 Matlab 中只需调用

```
a=perl('multiply.plx','2','3');
b=eval(a); 
```

变量`a`将是一个字符串，而变量`b`是一个数字。但是，这仅适用于标量，我无法将数字列表/散列转换为矩阵/向量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T08:47:05.380

您是否尝试过使用内置函数[PERL](http://www.mathworks.com/help/techdoc/ref/perl.html)。它运行提供的 Perl 脚本并返回结果：

```
[result,status] = perl('hello.pl','World') 
```

在哪里

### 你好.pl

```
$input = $ARGV[0]; 
print "Hello $input."; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-08T19:10:43.090

我可能会建议从 Perl 调用 Matlab，而不是从 Matlab 调用 Perl。为此，我推荐[Inline::Octave](https://metacpan.org/module/Inline%3a%3aOctave)。希望您的 Matlab 代码无需大修即可在 Octave 中运行。

我有一个使用 Perl 和 Octave 一起构建中型科学程序的成功故事。Perl 非常适合收集数据、为 Octave 脚本和批处理准备输入。Octave 代码只能专注于计算任务的核心。[PDL](https://metacpan.org/module/PDL)是另一种选择，但我切换回 Octave，因为重写原始代码太难了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-29T08:16:31.083

你试过java作为中介吗？就像是

```
x      = java.lang.Runtime.getRuntime();
process= x.exec('/bin/perl params');
reader = java.io.BufferedReader(java.io.InputStreamReader(process.getInputStream()));
...
reader.readLine() 
```

您可以对输出流执行相同的操作以将数据发送到 perl？似乎相对简单，但可能不是最经济的解决方案。

# java - 如何使用 LWJGL 创建球体和 3d 线

> ID：11256182
> 
> 赞同：2
> 
> 时间：2012-06-29T04:45:35.270
> 
> 标签：java, 3d, geometry, lwjgl

如何使用 LWJGL 创建球体和 3d 线？（您能否提供代码的完整源代码？）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T09:03:26.533

**创建球体的简单代码：**

您将了解如何使用 LWJGL 创建一个简单的球体

```
public static void main(String[] args) {
     SphereDemo test = new SphereDemo();
     test.run();
}

private void run() {
     try {
     init();
     render(); // render graphics
     Display.sync(70); // sync to fps
     Display.update(); // update the view/screen
     } catch (Exception e) {
          e.printStackTrace();
          System.exit(1);
     }
}

private void render() {
     glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);
     glLoadIdentity();
     glTranslatef(0.0f, 0.0f, zTranslation);
     renderSphere(-2f, -0.5f, -1f);
     renderSphere(-1f, -0.5f, -2f);
     renderSphere(-0f, -0.5f, -3f);
     renderSphere(1f, -0.5f, -4f);
     renderSphere(2f, -0.5f, -5f);
}

private void renderSphere(float x, float y, float z) {
     glPushMatrix();
     glTranslatef(x, y, z);
     Sphere s = new Sphere();
     s.draw(0.4f, 16, 16);
     glPopMatrix();
}

private void init() {
     createWindow();
     initGL();
}

private void createWindow() {
    try {
         Display.setDisplayMode(DISPLAY_MODE);
         Display.setTitle(WINDOW_TITLE);
         Display.create();
    } catch (LWJGLException e) {
         e.printStackTrace();
    }
}

private void initGL() {
     glClearDepth(1.0f); // clear depth buffer
     glEnable(GL_DEPTH_TEST); // Enables depth testing
     glDepthFunc(GL_LEQUAL); // sets the type of test to use for depth
     // testing
     glMatrixMode(GL_PROJECTION); // sets the matrix mode to project
     float fovy = 45.0f;
     float aspect = DISPLAY_MODE.getWidth() / (float) DISPLAY_MODE.getHeight();
     float zNear = 0.1f;
     float zFar = 100.0f;
     GLU.gluPerspective(fovy, aspect, zNear, zFar);
     glMatrixMode(GL_MODELVIEW);
     glHint(GL_PERSPECTIVE_CORRECTION_HINT, GL_NICEST);
} 
```

# java - 如何在表单中添加多个单选按钮以及如何在 java 中连接两个表单？

> ID：11256184
> 
> 赞同：1
> 
> 时间：2012-06-29T04:46:07.443
> 
> 标签：java, swing, layout-manager, jradiobutton, buttongroup

我对 JAVA 完全陌生。我想创建一个带有两个单选按钮的表单，一个用于学生，另一个用于教师。当用户单击学生时，应打开另一个与学生相关的表单，当用户单击教师时，应打开教师表单，然后要求用户输入相关数据....这是我的第一个代码....

```
import java.awt.*;

import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JRadioButton;
import javax.swing.border.EmptyBorder;

public class Frm1 extends JFrame {

    private JPanel contentPane;

    /**
     * Launch the application.
     */
    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {
            public void run() {
                try {
                    Frm1 frame = new Frm1();
                    frame.setVisible(true);

                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        });
    }

    /**
     * Create the frame.
     */
    public Frm1() {
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setBounds(100, 100, 450, 300);
        contentPane = new JPanel();
        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
        contentPane.setLayout(new BorderLayout(0, 0));
        setContentPane(contentPane);
        JRadioButton rb1=new JRadioButton("STUDENT");
        add(rb1);
        JRadioButton rb2=new JRadioButton("TEACHER"); 
        add(rb2);

    }

} 
```

it adds only teacher radio button to the form not the student,can any one help plus how will i make the program to go to teacher or student form when respective radio button is selected.

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T05:02:09.763

那是因为您使用的是 BorderLayout 而没有指定按钮的放置位置。要测试它，请注释 contentPane.setLayout(new BorderLayout(0, 0)); 你会看到它们并排出现。

要了解有关布局的更多信息，您应该尝试从此链接[“布局管理器的视觉指南”中学习它们](http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-29T05:17:05.513

有关布局的更多信息布局[管理器的可视指南](http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)
请参阅以下代码..

```
 /**
 * Create the frame.
 */
public Frm1() {
    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    setBounds(100, 100, 450, 300);
    contentPane = new JPanel();
    contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
    //contentPane.setLayout(new BorderLayout(0, 0));   //this is your problem 
    setContentPane(contentPane);

    JRadioButton rb1=new JRadioButton("STUDENT");
    contentPane.add(rb1);
    JRadioButton rb2=new JRadioButton("TEACHER"); 
    contentPane.add(rb2);
    //Group the radio buttons.
    ButtonGroup group = new ButtonGroup();
    group.add(rb1);
    group.add(rb2);
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-29T05:25:50.757

使用**按钮组...**

```
ButtonGroup group = new ButtonGroup();
JRadioButton mbutt1 = new JRadioButton("Yes");
JRadioButton mbutt2 = new JRadioButton("No");
group.add(mbutt1);
group.add(mbutt2); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-29T06:03:04.870

你显然有很多学习和学习的未来。这是解决此问题的（许多）方法之一。

```
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.ButtonGroup;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JRadioButton;
import javax.swing.border.EmptyBorder;

public class Test extends JFrame {

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {
            public void run() {
                try {
                    new Test().setVisible(true);
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        });
    }

    private JPanel cards;
    private CardLayout cardLayout;
    private static final String studentTag = "student";
    private static final String teacherTag = "teacher";

    public Test() {
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setBounds(100, 100, 450, 300);
        JPanel contentPane = new JPanel(new GridLayout(2,1));
        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
        add(contentPane);

        JPanel radioPanel = new JPanel(new GridLayout(0,1));
        JRadioButton studentButton = new JRadioButton("Student");
        studentButton.setActionCommand(studentTag);
        studentButton.setSelected(true);
        JRadioButton teacherButton = new JRadioButton("Teacher");
        teacherButton.setActionCommand(teacherTag);
        ButtonGroup group = new ButtonGroup();
        group.add(studentButton);
        group.add(teacherButton);
        radioPanel.add(studentButton);
        radioPanel.add(teacherButton);
        contentPane.add(radioPanel);

        cardLayout = new CardLayout();
        cards = new JPanel(cardLayout);
        JPanel studentCard = new JPanel(new BorderLayout());
        studentCard.add(new Label("Student card"), BorderLayout.CENTER);
        JPanel teacherCard = new JPanel(new BorderLayout());
        teacherCard.add(new Label("Teacher card"), BorderLayout.CENTER);
        cards.add(studentCard, studentTag);
        cards.add(teacherCard, teacherTag);
        contentPane.add(cards);
        ActionListener listener = new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                cardLayout.show(cards, e.getActionCommand());
            }
        };
        studentButton.addActionListener(listener);
        teacherButton.addActionListener(listener);
        pack();
    }
} 
```

# c# - 如何在运行时在 expando 上添加对象属性？

> ID：11256188
> 
> 赞同：2
> 
> 时间：2012-06-29T04:46:28.237
> 
> 标签：c#, model-view-controller, expandoobject

[我在这里](https://stackoverflow.com/questions/5204382/adding-expando-properties-to-a-typed-object-at-runtime-in-c-sharp)阅读了一些关于 expando 对象的文章，但我想实现不同的目标。
我想在运行时添加具有动态属性的属性对象，为其赋值，然后稍后检索：

```
 private static readonly ConditionalWeakTable<object, ExpandoObject> props = new ConditionalWeakTable<object, ExpandoObject>();
    public static void AddDataExtension(this object key, dynamic value)
    {
        props.Add(key, value);
    }

    public static dynamic GetDataExtension(this object key)
    {
        ExpandoObject ex = null;
        return props.TryGetValue(key, out ex);
    } 
```

用法：

```
'Insert data at runtime'
instance.AddDataExtension("Hello", "hi");

'Get the data at runtime'
instance.GetDataExtension("Hello") 
```

但我收到此错误：

```
The best overloaded method match for 'System.Runtime.CompilerServices.ConditionalWeakTable<object,System.Dynamic.ExpandoObject>.Add(object, System.Dynamic.ExpandoObject)' has some invalid arguments 
```

我想我滥用了这个属性，这可能实现吗？如果是，如何？请帮忙。

**编辑**

这是完整的课程：

```
public static class instance
{
    private static readonly ConditionalWeakTable<object, ExpandoObject> props = new ConditionalWeakTable<object, ExpandoObject>();
        public static void AddDataExtension(this object key, dynamic value)
        {
            props.Add(key, value);
        }

        public static dynamic GetDataExtension(this object key)
        {
            ExpandoObject ex = null;
            return props.TryGetValue(key, out ex);
        } 
} 
```

我想要实现的是：
我将有随机变量，例如，“ `photo_01, photo_12, photo_15, name_01, name_02, age_01, age_02`”
如果可能的话，我想以这种方式使用该方法：

```
id = <fetch from dbase>
instance.AddDataExtension("photo_" + id, byte[]); 
```

然后检索值：

```
instance.GetDataExtension("photo_" + id) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:46:22.463

我没有看到您从 ExpandoObject 继承，因此您可能需要这样做。ExpandoObject 有很好的基础设施，您可以使用它来创建您的动态类型。

这是一篇关于创建动态类型的更详细的文章：http: [//www.codeproject.com/Articles/62839/Adventures-with-C-4-0-dynamic-ExpandoObject-Elasti](http://www.codeproject.com/Articles/62839/Adventures-with-C-4-0-dynamic-ExpandoObject-Elasti)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-04-18T09:06:48.020

使用 conditionalWeakTable 和 dynamics，您可以在几行中实现动态扩展属性：

```
using System.Dynamic;
using System.Runtime.CompilerServices;

namespace ExtensionProperties
{
    /// <summary>
    /// Dynamically associates properies to a random object instance
    /// </summary>
    /// <example>
    /// var jan = new Person("Jan");
    ///
    /// jan.Age = 24; // regular property of the person object;
    /// jan.DynamicProperties().NumberOfDrinkingBuddies = 27; // not originally scoped to the person object;
    ///
    /// if (jan.Age &lt; jan.DynamicProperties().NumberOfDrinkingBuddies = 27)
    /// Console.WriteLine("Jan drinks too much");
    /// </example>
    /// <remarks>
    /// If you get 'Microsoft.CSharp.RuntimeBinder.CSharpArgumentInfo.Create' you should reference Microsoft.CSharp
    /// </remarks>
    public static class ObjectExtensions
    {
        ///<summary>Stores extended data for objects</summary>
        private static ConditionalWeakTable<object, object> extendedData = new ConditionalWeakTable<object, object>();

        /// <summary>
        /// Gets a dynamic collection of properties associated with an object instance,
        /// with a lifetime scoped to the lifetime of the object
        /// </summary>
        /// <param name="obj">The object the properties are associated with</param>
        /// <returns>A dynamic collection of properties associated with an object instance.</returns>
        public static dynamic DynamicProperties(this object obj) => extendedData.GetValue(obj, _ => new ExpandoObject());
    }
} 
```

使用示例在 xml 注释中：

```
var jan = new Person("Jan");

jan.Age = 24; // regular property of the person object;
jan.DynamicProperties().NumberOfDrinkingBuddies = 27; // not originally scoped to the person object;

if (jan.Age && jan.DynamicProperties().NumberOfDrinkingBuddies == 27)
{
    Console.WriteLine("Jan drinks too much");
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-02T10:07:58.437

这是不可能的，因为 ExpandoObject 是密封的。

# php - 在 URL 中使用双斜杠有什么缺点吗？

> ID：11256190
> 
> 赞同：15
> 
> 时间：2012-06-29T04:46:51.550
> 
> 标签：php, url, url-rewriting, uri, url-routing

我用 PHP 编写了自己的 MVC 框架，它使用以下格式的 url：

`/controller/method/param1/param2/param...`

我已经做到了，因此可以忽略“默认”方法（默认情况下`index()`），因此这会导致 URL 像`/controller//param1/param2/param...`. 例如，一个 URL：`/view//panel-glide/3`将`index('panel-glide', 3)`在`view`控制器中调用。

这很好用，但我担心搜索引擎或一些较旧的浏览器在看到双斜杠时可能会吓坏，因为我认为我以前从未真正使用过它们。

有人知道我使用它可能会遇到的任何问题吗？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-29T04:56:03.817

WebMasters 上有一个现有的答案，讨论了[有两个斜线的危险](https://webmasters.stackexchange.com/a/8381)。它讨论了很多 Apache，但这些想法应该是普遍适用的。

本质上，我认为不推荐。`/foo/bar`而且`/foo//bar`真的应该是**两条完全不同的路**。每个斜线都很重要，规避标准化的尝试必然会反过来咬你。

正如答案中提到的，相对路径失败也存在**非常现实的**危险。一些浏览器会*正确地*`../../fizz`认为来自`/foo/bar//baz`is的相对路径`/foo/bar/fizz`，而另一些浏览器会将双斜杠视为单个，并选择`/foo/fizz`.

另外，我认为这看起来很有趣。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-29T04:58:20.953

Apache 将多个斜杠视为一个斜杠。这会影响诸如 之类的事情`RewriteRules`，例如，如果您有这样的规则：

```
RewriteRule ^user/(.*)/([0-9]+)$ /user.php?id=$2 [QSA,L] 
```

这将捕获诸如`user/nomaD/500`但它不会捕获的链接，`user//500`因为它将其视为`user/500`

~~因此，换句话说，我认为您的设置不会起作用，因为它会将所有参数`param1`视为`method`并向左移动，除非它们属于特定类型。~~我想这不会影响您的具体情况，但在很多情况下，这将是使用`//`.

# ajax - Safari 5.1 是否忽略 Access-Control-Allow-Origin * 通配符？

> ID：11256191
> 
> 赞同：3
> 
> 时间：2012-06-29T04:46:52.763
> 
> 标签：ajax, cross-domain

尝试从 https 到 http 进行跨协议、相同的域请求。我已将响应标头设置为读取`Access-Control-Allow-Origin: *`，这确实在 Chrome 中有效。但是，它在 Safari 中不起作用。

Safari 是否忽略通配符？它是否给出了错误的错误，并且确实存在不同的问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T04:58:13.947

发现事实并非如此。相反，Safari 在 AJAX 调用之前对服务器进行了 OPTIONS 调用，而在我的情况下，我的服务器框架在没有额外编码的情况下不支持它。

您可以在文档中看到它：

[http://developer.apple.com/library/safari/#documentation/appleapplications/Conceptual/SafariJSProgTopics/Articles/XHR.html](http://developer.apple.com/library/safari/#documentation/appleapplications/Conceptual/SafariJSProgTopics/Articles/XHR.html)

# android - ICS 中类似 Gmail 的视图

> ID：11256198
> 
> 赞同：1
> 
> 时间：2012-06-29T04:48:00.713
> 
> 标签：android, android-layout, android-view

我在布局方面遇到问题，想创建一个类似于 ICS gmail 视图的视图，其中有 4 个部分。第一个是标题栏，第二个是正文，第三个是消息的摘要，第四个是始终存在的菜单栏。我也想要同样的行为，你可以左右滑动来获取下一条消息。有人可以指出我如何做这样的事情的正确方向吗？对不起我的新手，因为我正在学习，希望这不是一个愚蠢的问题......

![上面解释的视图截图](../Images/ad0bc29f6f570da5ee25360a167c74ec.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T05:53:34.207

希望我的回答对你有所帮助。尽管您所问的内容非常广泛，而且您还没有尝试过任何代码。我会要求你先这样做。了解相对和线性布局的机制。所以这里有一些指导方针。

#1。你所代表的可以通过实现[这个](http://android-developers.blogspot.in/2011/04/customizing-action-bar.html)来完成（来自android开发者博客）这是我发现有用的最好的方法，或者很棒的开源[ActionBarSherlock](http://actionbarsherlock.com/)通读他们的[文档](http://actionbarsherlock.com/usage.html)以获得更好的理解。

#2。你提到的可以用`viewPager`一个很好的例子来使用它可以在[这里找到](http://mobile.tutsplus.com/tutorials/android/android-user-interface-design-horizontal-view-paging/)

我想＃3rd必须是一个显示统计数据的布局。（对不起，我没有 ICS 驱动的安卓手机）

和＃4。你可以检查这个[SO question](https://stackoverflow.com/questions/8465258/how-can-i-force-the-action-bar-to-be-at-the-bottom-in-ics)和[this](http://android-ed.blogspot.in/2011/12/using-actionbar-at-bottom-of-screen.html)

**在这一切之前。请编码并向我们展示您所拥有的东西，我们可以向您展示更好的方法，或者如果您太好了，我们将不胜感激。**

# eclipse - Eclipse 将 c++ 文件标记为不正确并且不允许编译

> ID：11256201
> 
> 赞同：2
> 
> 时间：2012-06-29T04:48:27.243
> 
> 标签：eclipse, android-ndk

截至昨天，我有一个非常烦人的问题：

*   我正在使用红杉
*   如果我在不打开任何 c++ 文件的情况下导入项目，我可以毫无问题地进行编译，但就像我打开其中任何一个文件一样，几乎所有文件都会被红色卷曲下划线标记。
*   错误好像我没有包含 jni.h、GLES2/gl2.h、字符串等等，包括我自己的标题。这些错误不会让我编译。
*   已安装 C++ 插件。

最大的问题是，只要我不碰 jni 文件夹，Eclipse 就会将它们编译成可以工作的 apk。可能是什么原因造成的，我该如何解决？

编辑：我收到一些错误和警告：

```
make: *** No rule to make target `all'.
Invalid project path: Include path not found (D:\usr\include).
Invalid project path: Include path not found (D:\usr\lib\gcc\i686-pc-cygwin\4.5.3\include\c++). 
```

EDIT2：如果我使用命令行然后在没有设置sequoyah的项目上按编译，我可以编译。一切都会好起来的，除了如果 eclipse 不起作用，我不知道在这些 cpp 文件上使用什么 IDE ......

PS 你们这些通过命令行编译原生代码的人，你用什么编辑器来编写代码本身？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-29T09:08:43.267

许多问题中很少有：

*   空包含在 Properties->C/C++ general->Paths and symbols 下（需要添加 C:\android-ndk-r8\platforms\android-9\arch-arm\usr\include 和许多其他带有头文件的文件夹）
*   同样在 Properties->C/C++ Build section Behavior 中删除了 clean 选项并将 Build 字段留空。
*   在 Properties 的 Builders 部分中删除了 cdt 和 make 文件选项。所以现在我只在eclipse中编辑文件并编译vie cmd。

帮助的页面：

[mhandroid.wordpress.com](http://mhandroid.wordpress.com/2011/01/23/using-eclipse-for-android-cc-development/)

[stackoverflow.com](https://stackoverflow.com/questions/7166441/eclipse-cdt-c-c-code-completion-problem-in-ndk-java-project)

# google-chrome-extension - contentscript、动态创建的 iframe、postmessage

> ID：11256204
> 
> 赞同：1
> 
> 时间：2012-06-29T04:48:51.403
> 
> 标签：google-chrome-extension, content-script

我正在尝试从内容脚本中注入 iframe。从内容脚本中，向 iframe 发布消息，但没有多大成功。这是我得到的最接近的。控制台中没有错误/警告，但它不起作用（警报测试）。

**内容脚本：**

```
var iframe = document.createElement("iframe");
iframe.setAttribute("src", "https://www.com/iframe.php");
iframe.id = "iframe01";
document.getElementsByTagName("body")[0].appendChild(iframe);

//then I inject this "web_accessible_resources" script

var script = document.createElement("script");
script.type = "text/javascript";
script.src = chrome.extension.getURL("postMessage.js");
document.getElementsByTagName("head")[0].appendChild(script); 
```

**postMessage.js**

```
window.postMessage({msg: "test"}, "*"); 
```

我也试过

```
top.postMessage({msg: "test"}, "*"); 
```

和

```
var iframe = document.getElementById('iframe01');
iframe.contentWindow.postMessage({msg: "test"}, "*"); 
```

编辑：我试图确保 iframe 在 postMessage 之前加载，即使我在那里发出警报，它也会提醒我 iframe 已加载。

```
var iframe = document.getElementById('iframe01');
if (ifrm_prsto.contentWindow.document)
    //do postMessage 
```

EDIT2：我确实通过将 iframe 从 contentscript 移动到 inject.js 脚本来使其工作。并不完全理想，但我想我现在确实可以使用它。

**iframe.php**

```
window.addEventListener("message", function(e) {alert("test");}); 
```

然而，我可以做相反的事情，从 iframe 与父脚本交谈。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T23:51:10.650

我有相反的问题。我正在尝试从 iframe 中关闭透明 iFrame，这需要内容脚本找到 iframe 并将其从页面中删除。

我一直在尝试各种形式的使用：

```
chrome.extension.sendRequest(function())
var port = chrome.extension.connect({})
var port = chrome.tabs.connect({}) 
```

然而，iframe 有一个奇怪的上下文，并且在使用这些方法中的任何一个都有问题。到目前为止，我所拥有的最好的是 iFrame 可以打开一个端口并向后台脚本发送消息，然后后台脚本可能能够将消息发送回同一选项卡上的内容脚本。

# iphone - 如何知道哪个枚举当前用完了多个枚举

> ID：11256207
> 
> 赞同：0
> 
> 时间：2012-06-29T04:49:43.433
> 
> 标签：iphone

我是 iPhone 编程的新手。在我的项目中，我有`enum`一个头文件：

```
enum SelectionType
{

    BookSelection,
    StartChapter,
    EndChapter
}SType; 
```

在我的项目中，我想知道`enum`我现在有哪些。为此，我尝试了以下方法，但它不起作用：

```
NSLog(@"stype is %c",SType); 
```

我应该使用哪个格式说明符来获取枚举`NSLog`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T05:03:25.493

你必须自己做。C没有这种反射能力。这是您可以使用的功能：

```
const char *STypeName(SType t)
{
    switch (t) {
    case BookSelection: return "BookSelection";
    case StartChapter: return "StartChapter";
    case EndChapter: return "EndChapter";
    default: return NULL;
    }
} 
```

然后您可以调用该函数`SelectionTypeName`来获取名称：

```
SType stype = ...;
NSLog(@"stype = %s", STypeName(stype)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T04:59:45.450

```
enum SelectionType {

BookSelection==0,//system provide the default value 0 for first enum then increase by one.
StartChapter==1,
EndChapter==2
}SType;
//then you check with 

if(sType==0)
  {
 //do something
}

else if(sType==1)
{

}

else
{

}
//you can use 
NSLog(@"Enum number=%i",sType); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T04:59:56.910

enum 基本上是 int 数据类型。您应该使用 %d 格式说明符。

# android - android创建下拉列表

> ID：11256209
> 
> 赞同：1
> 
> 时间：2012-06-29T04:50:04.213
> 
> 标签：android, android-layout

我如何在 android 上创建一个下拉列表？我用谷歌搜索并找到了很多结果，但来自官方 android 网站，这是被禁止的

我发现了一个叫`List View`

我该如何使用它（如果它是我必须构建的正确组件）

我将添加这些行，因为 stackoverflow 不允许我提交问题

```
<tag status="remove" because="can't add question"/>
int i=0; while(i=1;i<4;i++)
system.out.println("sorry");
<?Php
$word="sorry";
echo $word;
?> 
```

### 添加代码后

```
public class getCellsFromServer extends
            AsyncTask<String, Integer, String[]> {
        ProgressDialog dialog;

        @Override
        protected void onCancelled() {
            super.onCancelled();
        }

        @Override
        protected void onPostExecute(String[] results) {
            super.onPostExecute(results);
            final MyData items [] = new MyData[results.length];
            for(int i=0;i<results.length;i++){
                items[i]= new MyData(results[i],results[i]);
            }
            ArrayAdapter<MyData> adapter = new ArrayAdapter<MyData>(this,
                    android.R.layout.simple_spinner_item, items);
            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
            spinner.setAdapter(adapter);

        }

        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            dialog = new ProgressDialog(AnswerQuestion.this);
            dialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);
            dialog.setMax(100);
            dialog.show();
        }

        @Override
        protected void onProgressUpdate(Integer... values) {
            super.onProgressUpdate(values);
            dialog.incrementProgressBy(values[0]);
        }

        @Override
        protected String[] doInBackground(String... params) {
            for (int i = 0; i < 20; i++) {
                publishProgress(5);
                try {
                    Thread.sleep(88);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
            }
            dialog.dismiss();
            URI website;
            try {
                HttpClient client = new DefaultHttpClient();
                website = new URI(
                        "http://10.0.2.2:8080/LocalizedBasedComptitionServer/GetCells");
                HttpPost request = new HttpPost();
                request.setURI(website);
                HttpResponse response = client.execute(request);
                ObjectInputStream in = new ObjectInputStream(response.getEntity().getContent()); //Android
                String commingArray ="";
                int c=0;
                c=in.read();
                while(c!=-1){
                    commingArray+=(char)c;
                    c=in.read();
                }
                String[] ar = commingArray.split(",");
                return ar;
            } catch (URISyntaxException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (ClientProtocolException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            return null;
        }
        class MyData {
            public MyData(String spinnerText, String value) {
                this.spinnerText = spinnerText;
                this.value = value;
            }

            public String getSpinnerText() {
                return spinnerText;
            }

            public String getValue() {
                return value;
            }

            public String toString() {
                return spinnerText;
            }

            String spinnerText;
            String value;
        }

    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-29T05:41:37.577

我有一个使用常量的例子，希望对你有帮助

常数

```
public static final CharSequence[] DAYS_OPTIONS  = {"Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"}; 
```

微调器的设置

```
ArrayAdapter<String> adapter = new ArrayAdapter<String> (this, android.R.layout.simple_spinner_item, DAYS_OPTIONS);
        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        spinner.setAdapter(adapter); 
```

希望这可以解决您的问题。

* * *

**更多解释示例**

***活动代码***

```
public class SpinnerTest extends Activity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        Spinner s = (Spinner) findViewById(R.id.spinner);
        //Prepar adapter 
        //HERE YOU CAN ADD ITEMS WHICH COMES FROM SERVER.
        final MyData items[] = new MyData[3];
        items[0] = new MyData("key1", "value1");
        items[1] = new MyData("key2", "value2");
        items[2] = new MyData("key3", "value3");
        ArrayAdapter<MyData> adapter = new ArrayAdapter<MyData>(this,
                android.R.layout.simple_spinner_item, items);
        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        s.setAdapter(adapter);
        s.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
            public void onItemSelected(AdapterView<?> parent, View view,
                    int position, long id) {
                MyData d = items[position];

                //Get selected value of key 
                String value = d.getValue();
                String key = d.getSpinnerText();
            }

            public void onNothingSelected(AdapterView<?> parent) {
            }
        });
    }

    class MyData {
        public MyData(String spinnerText, String value) {
            this.spinnerText = spinnerText;
            this.value = value;
        }

        public String getSpinnerText() {
            return spinnerText;
        }

        public String getValue() {
            return value;
        }

        public String toString() {
            return spinnerText;
        }

        String spinnerText;
        String value;
    }
} 
```

***布局为***

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    >

    <Spinner android:id="@+id/spinner"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:drawSelectorOnTop="true"
        android:prompt="@string/item_prompt"
    />

</LinearLayout> 
```

这里是[如何在android中动态地将项目添加到微调器？](https://stackoverflow.com/questions/2160518/how-to-add-items-to-the-spinner-dynamically-in-android)

# ios - 原生视频预览 iOS

> ID：11256211
> 
> 赞同：1
> 
> 时间：2012-06-29T04:50:11.920
> 
> 标签：ios

在 Safari 中播放视频之前，iOS 是否会显示带有播放按钮的本机视频预览？我想在我的应用程序中本地执行此操作。至少，我希望能够使用播放按钮，然后只是放置在一个视图中，当它被点击时，用视频视图替换那个视图。这可能吗？

![预览图像](../Images/318b1355f2c8cf011cacc25fdd30abe9.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T05:57:58.347

播放按钮不被 iOS 暴露，制作你自己的，或者使用 webview。

# mysql - 嵌套查询和事务

> ID：11256212
> 
> 赞同：0
> 
> 时间：2012-06-29T04:50:17.540
> 
> 标签：mysql, nested-queries, nested-query

**更新#1：**查询在左连接行上给了我语法错误（在左连接中独立运行查询可以完美地工作）

```
SELECT b1.company_id, ((sum(b1.credit)-sum(b1.debit)) as 'Balance'

FROM MyTable b1
JOIN CustomerInfoTable c on c.id = b1.company_id

#Filter for Clients of particular brand, package and active status
where c.brand_id = 2 and c.status = 2 and c.package_id = 3

LEFT JOIN
(
  SELECT b2.company_id, sum(b2.debit) as 'Current_Usage'
  FROM MyTable b2
  WHERE year(b2.timestamp) = '2012' and month(b2.timestamp) = '06'
  GROUP BY b2.company_id
)
b3 on b3.company_id = b1.company_id
group by b1.company_id; 
```

**原帖：**

我在同一张表中跟踪借方和贷方。该表具有以下架构：

```
| company_id | timestamp | credit | debit |
| 10 | MAY-25 | 100 | 000 |
| 11 | MAY-25 | 000 | 054 |
| 10 | MAY-28 | 000 | 040 |
| 12 | JUN-01 | 100 | 000 |
| 10 | JUN-25 | 150 | 000 |
| 10 | JUN-25 | 000 | 025 | 
```

作为我的结果，我想看看：

```
| Grouped by: company_id | Balance* | Current_Usage (in June) |
| 10 | 185 | 25 |
| 12 | 100 | 0 |
| 11 | -54 | 0 | 
```

**余额：**由 (sum(credit) - sum(debits))* 计算 - 时间戳无关紧要
**Current_Usage：**由 sum(debits) 计算 - 但*仅*适用于 JUN 中的借方。

问题：如果我立即按 JUN 时间戳过滤，它不会计算所有时间的余额，而只会计算 6 月份任何交易的余额。

如何按月计算当前使用量，但表中所有交易的余额。我一切正常，除了它只将 JUN 结果过滤到我的代码中的当前使用计算中：

```
SELECT b.company_id, ((sum(b.credit)-sum(b.debit))/1024/1024/1024/1024) as 'BW_remaining', sum(b.debit/1024/1024/1024/1024/28*30) as 'Usage_per_month'

FROM mytable b

#How to filter this only for the current_usage calculation?
WHERE month(a.timestamp) = 'JUN' and a.credit = 0

#Group by company in order to sum all entries for balance
group by b.company_id
order by b.balance desc; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T17:02:39.973

好的，感谢@Kshitij，我让它工作了。如果其他人遇到同样的问题，我就是这样解决的：

```
SELECT b1.company_id, ((sum(b1.credit)-sum(b1.debit)) as 'Balance',
  (
  SELECT sum(b2.debit)
  FROM MYTABLE b2
  WHERE b2.company_id = b1.company_id and year(b2.timestamp) = '2012' and month(b2.timestamp) = '06'
  GROUP BY b2.company_id
  ) AS 'Usage_June'

FROM MYTABLE b1

#Group by company in order to add sum of all zones the company is using
group by b1.company_id
order by Usage_June desc; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:02:52.430

您在这里需要的是一个带有子查询的连接，它将根据月份进行过滤。

```
SELECT T1.company_id, 
       ((sum(T1.credit)-sum(T1.debit))/1024/1024/1024/1024) as 'BW_remaining', 
       MAX(T3.DEBIT_PER_MONTH)
FROM MYTABLE T1
LEFT JOIN 
(
  SELECT T2.company_id, SUM(T2.debit) T3.DEBIT_PER_MONTH
  FROM MYTABLE T2
  WHERE month(T2.timestamp) = 'JUN'
  GROUP BY T2.company_id
)
T3 ON T1.company_id-T3.company_id
GROUP BY T1.company_id 
```

我还没有测试查询。我要说明的重点是如何加入现有查询以获取每月使用量。

# android - SQLITE 每月使用 SUM 查询 GROUP BY

> ID：11256216
> 
> 赞同：1
> 
> 时间：2012-06-29T04:51:19.130
> 
> 标签：android, sql, database, sqlite

我已经被这个问题困扰了一段时间（Android SQLITE）。我有 2 列 - 日期和金额。日期以 YYYYMMDD 格式存储。

## 日期金额

20120521--------50
20120506--------40
20120311-------30
20120202-------20
20120125--------10

我需要的是一个 SQL 查询（Android SQLITE），它将输出两列 - 月份和截至该月的累计总数。如果一个月没有任何交易，它仍然应该评估累计总数。

所以我需要的输出（注意四月没有交易）

## 月累计-总计

5月-------150
APR-------60
MAR-------60
FEB-------30
JAN--------10

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:48:32.120

它应该工作：

```
SELECT  strftime('%m', date), SUM(Amount)
FROM    myTable
GROUP BY strftime('%m', date) 
```

对不起，我忘记了你问题的这一部分“..如果一个月没有任何交易，它仍然应该评估累计总数。”

解决方案：简单的解决方案是在表中包含所有月份的 DUMMY 条目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T06:22:34.883

困难，因为简单的方法是编写一个存储过程来完成它，但在 sqlite 中不受支持。但是看看这个 - 也许这种方式可能对 [Android 有用 - 为 SQLite 列维护“累积和”的简单/有效方法](https://stackoverflow.com/questions/9723299/android-easy-efficient-way-to-maintain-a-cumulative-sum-for-a-sqlite-column) 您也可以尝试在 android 端进行累积加法

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-29T05:30:47.797

你不能像这样计算。你可以通过两种方式做到这一点：

1.  按月份分组，然后在 Android 端总结并添加缺少的月份。
2.  尝试使用存储过程来实现。（对于您的情况，我不确定在 sql lite 上是否可行。）阅读[此](http://chriswolf.heroku.com/articles/2011/01/26/adding-stored-procedures-to-sqlite)

所以我会选择第一个选项。

# php - 如何查找网站使用了哪种数据库技术。

> ID：11256218
> 
> 赞同：4
> 
> 时间：2012-06-29T04:51:42.803
> 
> 标签：php, mysql

是否可以找到用于网站的数据库技术。例如。www.example.com/

我想知道example.com的mysql或oracle等数据库技术

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-29T04:57:06.547

不，那里没有。许多较大的站点/公司发布了他们使用的技术，但是如果您想了解某个随机站点的数据库后端，则不能

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T04:52:54.597

没有。除非编码器正确处理了 db 异常！！！

# asp.net - 使用 HttpContext.Current.Application 存储值

> ID：11256220
> 
> 赞同：0
> 
> 时间：2012-06-29T04:51:55.790
> 
> 标签：asp.net, asp.net-4.0

我们有一个在 .NET Framework 4.0 上运行的 ASP.NET 页面。

目前，我们在**HttpContext.Current.Application["keyToTheValue"]**中存储了一些在应用程序的整个运行期间应该可用的值。

这是存储值的错误位置，我们需要无限期的时间，或者我们如何配置应用程序不回收这些值？

哦，重要的是要注意：我们实际上是在集成模式下运行页面，这可能对应用程序缓存有一些影响。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:02:42.373

使用 Application 对象没有任何问题，但是如果您想在应用程序关闭的情况下保留数据（这迟早会发生），您最好将值存储在数据库中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T05:03:18.087

这取决于数据和环境，但对于简单数据，使用应用程序获取全局值可能没问题。您应该查看 System.Web.Caching 命名空间以了解更高级的方案。此外，如果您在某种网络场或集群中，您可能需要滚动自己的全局数据存储，以便可以在多个服务器之间共享它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-29T05:12:04.580

如果您的数据是敏感的，则将其存储在您的数据库中以供使用它的生命周期..它不是那么敏感，然后使用持久性 Cookie 并将其有效期设置为最长...

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-29T05:24:38.463

将数据存储在应用程序中没有问题。但是它有限制，它会随着 IIS 的重置而重置。所以根据你的场景使用它。

# javascript - 对javascript回调函数感到困惑

> ID：11256225
> 
> 赞同：1
> 
> 时间：2012-06-29T04:52:43.950
> 
> 标签：javascript, callback

我编写了两个函数，`callback`将由以下函数调用`fn`：

```
var callback = function (num) {
        return num + 1;    
}
var fn = function (callback) {
    callback();
}

fn(callback(5)); 
```

萤火虫告诉我：`number is not a function`，我知道回调是立即执行的，我怎么能让它执行在返回函数`fn`中的num，函数只允许参数`fn``fn``callback`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:04:19.233

您的示例不是很好，因为实际上不需要第二个功能。但这就是我所做的一切：

```
function makeCallback(num)
{
    return function()
    {
        return num+1;
    }
}

fn = function (callback)
{
    callback.apply(this);
} 
```

看到通常在对象上下文中调用回调（DOM 元素，处理事件时等）您可能想要调用回调函数，您作为要在对象的上下文中调用的参数传递。

闭包一开始有点令人生畏且难以理解，但在 youtube 上有一些与 Douglas Crockford 合作的精彩视频，这些视频很好地解释了他们的工作原理

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T05:17:31.990

`callback(5)`不是函数，只是结果值。所以.. callback() 是必须的功能。

```
var callback = function (num) {
        return function(){
                return num + 1;
        };    
}
var fn = function (callback) {
    return callback();
}

fn(callback(5)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T04:55:16.827

当你调用`callback`它时，它返回 5 + 1 到`fn`- 并且`6()`是无效的 JavaScript。

```
callback(5) === 6
fn(callback(5)) === fn(6)
fn(6) === 6() 
```

您可以修改`callback`以返回一个将一个添加到提供的参数的函数：

```
var callback = function(num) {
    return function() {
        return num + 1;
    };
} 
```

现在，当您调用`callback()`它时，它会返回一个*函数*而不是一个数字 - 返回的函数可以访问您传递给“工厂”函数的数字，并且无论何时*调用*它都会返回该数字加一。因此：

```
callback(5) === function() { var num = 5; return num + 1; }
fn(callback(5)) === fn(function() { var num = 5; return num + 1; })
fn(function() { var num = 5; return num + 1; }) === (function() { var num = 5; return num + 1; })() 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-29T04:57:48.257

这是由于参数命名而发生的。您使用参数的方式会调用`6()`最终不正确的函数。

所以，使用以下（IMO，这就是你正在尝试的）

```
var callback = function (num) {
        return num + 1;    
}
var fn = function (num) {
    callback(num);
}

fn(callback(5)); 
```

[演示](http://jsfiddle.net/afqTM/)

### 到目前为止，您尝试创建一个回调函数。您只在函数中缺少一个 return 语句查看结果。

```
var callback = function (num) {
        return function(){
                return num + 1;
        };    
}
var fn = function (callback) {
    return callback();
}

console.log(fn(callback(5))); 
```

[演示](http://jsfiddle.net/afqTM/2/)

# ios - iOS 中的 [Class new] 和 [[Class alloc] init] 有什么区别？

> ID：11256228
> 
> 赞同：71
> 
> 时间：2012-06-29T04:53:00.573
> 
> 标签：ios, objective-c, new-operator, allocation, init

> **可能的重复：**
> [Objective-C 中的 alloc、init 和 new](https://stackoverflow.com/questions/3330963/alloc-init-and-new-in-objective-c)

我对`[Class new]`和 有点困惑`[[Class alloc] init]`。我已经`content`使用`[Class new]`and 定义了一个对象`[[Class alloc] init]`。

```
(1). NSMutableArray *content = [NSMutableArray new];
(2). NSMutableArray *content = [[NSMutableArray alloc] init]; 
```

`[Class new]`我的问题是关于和之间的区别`[[Class alloc] init]`。对我来说，（1）和（2）是相似的。如果（1）和（2）相似，那么为什么我们`[[Class alloc] init]`大部分时间都使用，而`[Class new]`不是？我认为应该有一些不同。

请解释一下两者的区别，优点和缺点？

* * *

## 回答 #1

> 赞同：134
> 
> 时间：2012-06-29T05:03:35.383

**Alloc：** NSObject 的类方法。返回接收类的新实例。

**Init** : NSObject 的实例方法。由子类实现以在分配内存后立即初始化新对象（接收器）。

**新**：NSObject 的类方法。分配接收类的新实例，向其发送初始化消息，并返回初始化对象。

**Release** : NSObject 委托的实例方法。减少接收者的引用计数。

**Autorelease** : NSObject 委托的实例方法。将接收者添加到当前的自动释放池中。

**Retain：** NSObject 委托的实例方法。增加接收器的引用计数。

**Copy：** NSObject 委托的实例方法。返回一个作为接收者副本的新实例。

所以总而言之，我们可以说

**alloc 与 init 一起使用**

**新 = 分配 + 初始化**

* * *

## 回答 #2

> 赞同：29
> 
> 时间：2012-06-29T05:03:16.920

该`+new`方法只是`+alloc`和的简写`-init`。所有权语义是相同的。使用的唯一好处`+new`是它更简洁。如果您需要为类的初始化程序提供参数，则必须使用`+alloc`and`-initWith...`方法。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-06-29T05:01:13.377

此处：[Objective-C 中的 alloc、init 和 new](https://stackoverflow.com/questions/3330963/alloc-init-and-new-in-objective-c)

基本上这是一个现代与传统的问题。init 相对于 new 最直接的优势是有很多自定义的 init 方法。

# android - 从 AsynTask 将下载进度条更新到通知区域

> ID：11256229
> 
> 赞同：4
> 
> 时间：2012-06-29T04:53:30.657
> 
> 标签：android, notifications

我已经将异步任务实现到服务中。这是我正在调用的进度通知的初始化`onPreExecute`。

```
mProgressNotificationManager = (NotificationManager) this
            .getSystemService(Context.NOTIFICATION_SERVICE);

    CharSequence tickerText = "Download";

    mProgressNotification = new Notification(R.drawable.ic_launcher, tickerText, System.currentTimeMillis());
    context = this.getApplicationContext();

    Intent mNotificationIntent = new Intent(context, ActivityClass.class);
    PendingIntent mPendingIntent = PendingIntent.getActivity(context, 0, mNotificationIntent, 0);
    //mProgressNotification.flags |= Notification.FLAG_AUTO_CANCEL;
    mProgressNotification.flags = mProgressNotification.flags | Notification.FLAG_ONGOING_EVENT;
    CharSequence title = "Downloading initializing...";
    RemoteViews contentView = new RemoteViews(getPackageName(),
            R.layout.noti);
    contentView.setImageViewResource(R.id.status_icon,
            R.drawable.ic_launcher);
    contentView.setTextViewText(R.id.status_text, title);
    contentView.setProgressBar(R.id.status_progress, 100, 0, false);
    mProgressNotification.contentView = contentView;
    mProgressNotification.contentIntent = mPendingIntent;
    mProgressNotificationManager.notify(STATUS_BAR_NOTIFICATION, mProgressNotification); 
```

在那之后`doInBackground`，我已经实现了我的下载程序，之后我正在更新下载进度，

```
@Override
    protected void onProgressUpdate(Integer... progress) {
        super.onProgressUpdate(progress);

        int mDownloadProgress = progress[0];
        // Log.d(TAG,"AsyncTask : download In progress");           
        CharSequence title =  "fileName" +":  "  + mDownloadProgress + "%";
        mProgressNotification.contentView.setTextViewText(R.id.status_text, title);
        mProgressNotification.contentView.setProgressBar(R.id.status_progress, 100,
                mDownloadProgress, false);
        mProgressNotificationManager.notify(STATUS_BAR_NOTIFICATION, mProgressNotification);            

    } 
```

它工作正常.. 正确更新，但问题是，通知栏被挂起。我不能上下通知栏。我想更新通知栏，例如从 Google 市场 (Play) 下载任何应用程序。

谢谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T00:53:49.530

似乎正在发生的事情是您正在替换通知，这意味着有一个新的通知要显示。

您需要做的是更新通知而不是替换它。

看看这个:)

[http://developer.android.com/guide/topics/ui/notifiers/notifications.html#Updating](http://developer.android.com/guide/topics/ui/notifiers/notifications.html#Updating)

# excel - 如何在 Excel 中自动复制行？

> ID：11256235
> 
> 赞同：1
> 
> 时间：2012-06-29T04:54:09.947
> 
> 标签：excel

我有一个看起来像这样的 excel 文件：
row1_cell1 row1_cell2 row1_cell3
row2_cell1 row2_cell2 row2_cell3
row3_cell1 row3_cell2 row3_cell3

我如何制作工作表中每一行的三个（或任意数量）副本，我想在复制行之后添加这些副本？So, in the end i would like to have this kind of a result:
row1_cell1 row1_cell2 row1_cell3
row1_cell1 row1_cell2 row1_cell3 row1_cell1 row1_cell2 row1_cell3 row2_cell1
row2_cell2 row2_cell3 row2_cell1 row2_cell2 row2_cell3
row2_cell1 row2_cell2
row2_cell3 row3_cell1
row3_cell2 row3_cell3
row3_cell1 row3_cell2
row3_cell3
row3_cell1 row3_cell2 row3_cell3

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T13:50:04.617

这就是我对工作表上的所有行执行此操作的方式：

```
Option Explicit

Sub MultiplyRows()
Dim RwsCnt As Long, LR As Long, InsRw As Long

RwsCnt = Application.InputBox("How many copies of each row should be inserted?", "Insert Count", 2, Type:=1)    
If RwsCnt = 0 Then Exit Sub
LR = Range("A" & Rows.Count).End(xlUp).Row

Application.ScreenUpdating = False
For InsRw = LR To 1 Step -1
    Rows(InsRw).Copy
    Rows(InsRw + 1).Resize(RwsCnt).Insert xlShiftDown
Next InsRw
Application.ScreenUpdating = True

End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T06:41:03.960

没有直接的方法可以像您想要的那样交错粘贴它们。但是，您可以创建一个临时 VBA 来执行您想要的操作。

例如，您可以：-

1.  在 Excel 文件中创建一个 VBA 过程（如下所示）。
2.  为其分配键盘快捷键（例如 Ctrl+Q）。
    *   为此，请按 Alt+F8，然后选择宏，然后单击“选项”。
3.  选择要复制的单元格，然后按 Ctrl+C。
4.  选择要粘贴的单元格，然后按 Ctrl+Q（或您选择的任何键盘快捷键）。
5.  输入要复制的次数。（在您的示例中，它将是 3。）
6.  哇！:D
7.  现在您可以删除 VBA 过程。:)

VBA代码：

```
Sub PasteAsInterleave()
    Dim startCell As Range
    Dim endCell As Range
    Dim firstRow As Range
    Dim pasteCount As Long
    Dim rowCount As Long
    Dim colCount As Long
    Dim i As Long
    Dim j As Long
    Dim inputValue As String

    If Application.CutCopyMode = False Then Exit Sub

    'Get number of times to copy.
    inputValue = InputBox("Enter number of times to paste interleaved:", _
                 "Paste Interleave", "")
    If inputValue = "" Then Exit Sub  'Cancelled by user.

On Error GoTo Error
    pasteCount = CInt(inputValue)
    If pasteCount <= 0 Then Exit Sub
On Error GoTo 0

    'Paste first set.
    ActiveSheet.Paste
    If pasteCount = 1 Then Exit Sub

    'Get pasted data information.
    Set startCell = Selection.Cells(1)
    Set endCell = Selection.Cells(Selection.Cells.count)
    rowCount = endCell.Row - startCell.Row + 1
    colCount = endCell.Column - startCell.Column + 1
    Set firstRow = Range(startCell, startCell.Offset(0, colCount - 1))

    'Paste everything else while rearranging rows.
    For i = rowCount To 1 Step -1
        firstRow.Offset(i - 1, 0).Copy

        For j = 1 To pasteCount
            startCell.Offset(pasteCount * i - j, 0).PasteSpecial
        Next j
    Next i

    'Select the pasted cells.
    Application.CutCopyMode = False
    Range(startCell, startCell.Offset(rowCount * pasteCount - 1, colCount - 1)).Select
    Exit Sub

Error:
    MsgBox "Invalid number."
End Sub 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-11-04T05:09:02.753

旧线程，但有人可能会觉得这很有用：以下信息是从[这里复制的](https://excel.tips.net/T003067_Copying_Formulas_using_a_Pattern.html)

我需要做几乎相反的事情。我需要公式每 22 行增加 1，将 21 行留空。我对上面的公式进行了修改，效果很好。这是我使用的：

```
=IFERROR(INDIRECT("J"&((ROW()-1)*1/22)+1),"") 
```

该信息在“J”列中。

“IFERROR”部分处理结果行计算不是整数时收到的错误，并在该单元格中放置一个空白。

希望有人觉得这很有用。我一直在寻找这个解决方案，但今天我真的需要它。谢谢。

# java - 使用 java.io.file 在 Mac 中访问文件

> ID：11256236
> 
> 赞同：0
> 
> 时间：2012-06-29T04:54:20.473
> 
> 标签：java, file, osx-snow-leopard

我正在使用`java.io.File`在 java 中创建一个新文件。在 Mac-Os 上，我使用的是在 windows 上运行良好但在 mac 上运行良好的相同代码。

我在用

```
File file = new File(path); 
```

创建一个新文件。

在 Windows 中：我使用`String path = "C:\test\1.html";` 它工作正常。

在 Mac 上：我想创建文件`"/Users/pls/1.html"` 但它抛出错误为

```
java.io.FileNotFoundException : /Users/pls/1.html (No such file or directory) 
```

请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T08:22:45.117

不要手动编写分隔符，请改用系统独立[文件](http://download.oracle.com/javase/6/docs/api/java/io/File.html#separator).分隔符。

```
String path = File.separator+"Users"+File.separator+"pls"+File.separator+"1.html";
File file = new File(path); 
```

# c# - 通过 DataTable 访问用于填充 DataGridView 的对象

> ID：11256237
> 
> 赞同：0
> 
> 时间：2012-06-29T04:54:35.267
> 
> 标签：c#, events, datagridview, datatable

我正在尝试访问用于在此方法中填充 DataGridview 的对象：

```
void memberDataGridView_SelectionChanged(object sender, EventArgs e)
{
  foreach (DataGridViewCell cell in memberDataGridView.SelectedCells)
  {
    foreach (DataGridViewRow row in memberDataGridView.Rows)
    {
       if (row.Cells.Contains(cell))
       {
          //here is where I want to access the object that was used to build this row.
          //it will be added as a comboboxitem
       }
  }
} 
```

这是使用 DataTable 添加到 gridview 的对象的代码

```
DataRow row = _loadMembersTable.NewRow();
row["Member Name"] = member.InternalLabel;
row["Type"] = member.MemberType;
_loadMembersTable.Rows.Add(row);
memberDataGridView.DataSource = _loadMembersTable; 
```

当我在 selectionChanged 中需要它时，构建 DataTable 以找到该成员对象时，我该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T05:04:45.617

我不确定我是否正确理解了您的问题。我认为您只是将对象成员属性分配给数据表列，而不是它本身的对象。因此，您不能直接从数据表中获取“成员”类型的对象。

如果您在内存中维护了一个成员集合，则可以针对`Member Name`列查询数据表，然后搜索内存中维护的成员集合。

或者，您可以向成员类型的 DataTable 添加新列，然后将对象添加到数据表本身。

添加列

```
_loadMemebersTable.Columns.Add("MemberObj",typeof(Member)); 
```

设置值

```
row["MemberObj"] = member; 
```

# ajax - 玩！2.0 轻松修复路由器包罗万象的 OPTIONS 响应？

> ID：11256241
> 
> 赞同：1
> 
> 时间：2012-06-29T04:54:58.987
> 
> 标签：ajax, playframework-2.0, options

在进行 AJAX 调用时遇到一些烦人的问题，仅仅是因为如今几乎每个浏览器都在实际 AJAX 调用之前对服务器进行了 OPTIONS 调用。

因为我正在使用 Play！2.0，是否有任何简单的方法可以使用 OPTIONS 方法对任何路由进行通配符响应？

例如，在我的路线中执行以下操作： `OPTIONS /* controllers.Options.responseDef`

*是*的，我知道新的 Play！没有内置通配符，但需要有一个解决方案，因为所有浏览器都越来越多地在 AJAX 调用之前调用 OPTIONS。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T07:47:40.230

不完全是通配符，但您可以使用`route`跨越多个斜杠段的 a：

```
OPTIONS   /*wholepath     controllers.Options.responseDef(wholepath)
OPTIONS   /               controllers.Options.responseDef 
```

它应该匹配所有请求：

```
OPTIONS    /a
OPTIONS    /a/b
OPTIONS    /a/b/c 
```

注意：那是我的想法，所以也许你需要润色一下。我现在不能自己检查。

检查手册的“[跨越多个/](http://www.playframework.org/documentation/2.0.2/ScalaRouting)的动态部件”部分。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-02-20T17:31:46.757

让单个控制器端点匹配所有 OPTIONS 请求的一种非常简洁的方法是覆盖[Play 的 Global object](https://www.playframework.com/documentation/2.3.x/ScalaGlobal)`onRouteRequest`的方法。以下版本将所有请求路由到一个名为.`onRouteRequest``OptionsController.options`

```
import play.api.mvc._

...

override def onRouteRequest(request: RequestHeader): Option[Handler] = {
  request.method match {
    case "OPTIONS" => Some(OptionsController.options)
    case _ => super.onRouteRequest(request)
  }
} 
```

# clojure - 使用 clojure 的 core.logic/core.match 解决 Dinesman 的多住宅示例

> ID：11256242
> 
> 赞同：5
> 
> 时间：2012-06-29T04:55:13.640
> 
> 标签：clojure, clojure-core.logic

在观看了 Sussman 的讲座[http://www.infoq.com/presentations/We-Really-Dont-Know-How-To-Compute](http://www.infoq.com/presentations/We-Really-Dont-Know-How-To-Compute)后，我受到启发，尝试了一下 core.logic 和 core.match。我知道的唯一例子是我小时候做过的那些约束问题解决者。这是一个在 SICP 课程中使用的示例，并且在演讲中被提及：

> 贝克、库珀、弗莱彻、米勒和史密斯住在一栋只有五层楼的公寓的不同楼层。贝克不住在顶层。库珀不住在底层。弗莱彻既不住在顶层也不住在底层。米勒住在比库珀更高的楼层。史密斯不住在弗莱彻家附近的楼层。弗莱彻不住在库珀附近的楼层。每个人都住在哪里？

我在 Rosettacode 网站上找到了这个： [http ://rosettacode.org/wiki/Dinesman%27s_multiple-dwelling_problem#PicoLisp](http://rosettacode.org/wiki/Dinesman%27s_multiple-dwelling_problem#PicoLisp)

但不太清楚这如何转化为clojure。我希望有人可以提供使用 core.logic 或 core.match 解决此问题的示例

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-01T08:27:14.457

这是 core.logic 中的一个解决方案。它不完全等同于 picolisp 算法，因为我们没有可用的相同原语，但它是相同的一般思想。感谢您向我介绍这个问题 - 发明很有趣`permuteo`，`beforeo`而且我有了第一个使用的借口`conda`。 **编辑**：使用`conda`那里是可怕和错误的，我又回到了`conde`现在。哦，好吧，总有一天。

```
(ns dwelling.core
  (:refer-clojure :exclude [==])
  (:use clojure.core.logic))

(defn rembero [x l out]
  (fresh [head tail]
    (conso head tail l)
    (conde [(== x head) (== out tail)]
           [(fresh [new-out]
              (conso head new-out out)
              (rembero x tail new-out))])))

(defn permuteo [a b]
  (conde [(emptyo a) (emptyo b)]
         [(fresh [head tail b-tail]
            (conso head tail a)
            (rembero head b b-tail)
            (permuteo tail b-tail))]))

(defn beforeo [x y l]
  (fresh [head tail]
    (conso head tail l)
    (conde [(== x head) (fresh [more-tail]
                          (rembero y tail more-tail))]
           [(beforeo x y tail)])))

(defn not-adjacento [x y l]
  (fresh [head tail more]
    (conso head tail l)
    (resto tail more)
    (conde [(== x head) (membero y more)]
           [(== y head) (membero x more)]
           [(not-adjacento x y tail)])))

(run* [tenants]
  (fresh [a b c d e]
    (== [a b c d e] tenants)
    (permuteo tenants '[Cooper Baker Fletcher Miller Smith])
    (!= e 'Baker)
    (!= a 'Cooper)
    (!= a 'Fletcher)
    (!= e 'Fletcher)
    (beforeo 'Cooper 'Miller tenants)
    (not-adjacento 'Smith 'Fletcher tenants)
    (not-adjacento 'Fletcher 'Cooper tenants)))

;; ([Smith Cooper Baker Fletcher Miller]) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-29T06:11:51.913

我自己刚开始接触 LP，我的第一个尝试是[https://github.com/amalloy/doors ，它是](https://github.com/amalloy/doors)[http://rooms.jmpup.com](http://rooms.jmpup.com)上自动生成的逻辑谜题的求解器。现在我定义了一些对所有谜题普遍有用的关系，但我还没有做任何工作以编程方式将特定谜题实际翻译成 core.logic。你可以看到我手动翻译的一个谜题——[网页展示](http://rooms.jmpup.com/room.php?seed=345&level=0&rcnt=0&rank=0)和[core.logic 编码](https://github.com/amalloy/doors/blob/master/resources/sample.clj)。也许这会让您了解如何使用 core.logic，尽管我自己还是新手，所以肯定会有不完美之处。

## 编辑

查看 picolisp 解决方案后，我认为它不会直接转换为 core.logic，因为据我所知，直接否定支持还不存在。

# html - 页脚不粘在页面末尾

> ID：11256244
> 
> 赞同：0
> 
> 时间：2012-06-29T04:55:21.337
> 
> 标签：html, css

我有一个带有页眉、内容和页脚的页面。我在页面上面临的问题是，在页脚之后有一个灰色背景，并且页脚没有粘在页面的末尾。

我在这里上传了我的 html... [http://cruzer.net76.net/temp.html](http://cruzer.net76.net/temp.html)

任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T04:57:39.433

在[Stylesheet](http://cruzer.net76.net/temp.css)中，设置 `magin-top: 0`在第 300 行（.wStoryFooterTxt 样式的一部分）；

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:03:12.810

你的身高百分比是关闭的。目前，标题的高度为 20%。`detailsContent`80%，页脚 40px；

将页脚百分比更改为 20% 并调整另一个，应该没问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T05:05:42.620

在页脚标签中使用它

```
#footer
{
    clear:both;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-29T05:07:56.220

你可以试试这个css作为页脚div：

位置：绝对；底部：0px；

这对我有用，希望它也对你有用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-29T05:00:29.573

删除CSS 中的`margin-top`内部`.wStoryFooterTxt`类

# python - 这个简单的 python 元类有什么问题？

> ID：11256246
> 
> 赞同：6
> 
> 时间：2012-06-29T04:55:41.570
> 
> 标签：python, metaclass

> 题外话开始

我刚刚了解了 Python 中的元类。我不认为 python 的创建者希望每个人都使用它们。我的意思是命名一些在大多数情况下可能不是类的元类足以让大多数人远离这个概念！

> 题外话结束

**关于我的问题。我编写了这个简单的元类来为模块中创建的所有类添加一个默认的文档字符串。但它不起作用：**

```
def metest(cls,name,bases,dict):
    cls.setattr(cls,'__doc__',"""Default Doc""")
    return type(cls,(),{})

__metaclass__=metest

class test(object):
    pass

print test.__doc__

t=test()

print t.__doc__ 
```

输出：

```
None
None 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-29T05:23:42.653

我不完全熟悉你正在做的全局方法，这样设置`__metaclass__`。据我所知，它是另一种有效的风格。

但我将提供一个我熟悉的示例：

```
class MeTest(type):
    def __new__(cls,name,bases,dict):
        dict['__doc__'] = """Default Doc"""
        return type.__new__(cls,name,bases,dict)

class Test(object):
    __metaclass__ = MeTest 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-29T06:06:29.047

我让你的例子工作：

```
def metest(name, bases, dict):
    print name, bases, dict
    dict['__doc__'] = """New Doc"""
    cls = type(name+"_meta", bases, dict)
    return cls

class Test(object):
    "Old doc"
    __metaclass__ = metest

print Test
print Test.__doc__

t = Test()

print t.__doc__ 
```

1.  使用“元类”。
2.  更正“类创建函数”的签名。遗嘱由`cls`我们创建。
3.  有一个“旧”和一个“新”文档字符串以便区分。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-29T05:13:05.113

请参阅此答案：[Python 元类和对象基类](https://stackoverflow.com/questions/7958212/python-metaclass-and-the-object-base-class)

提供`object`基类会覆盖模块级元类并将其替换为`type`（的元类`object`）。

此外，您的元类有问题，即使您应用它（通过`__metaclass__`在类内设置）也无法工作。它应该只接受三个参数。您通常会看到接受四个的示例，但那是因为元类通常是，你猜怎么着，一个*class*，所以它接受一个额外的“self”参数（按照惯例`cls`，元类调用它）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-29T07:01:40.853

可能这就是你想要的。继承 from`object`会生成元类`type`，所以如果你想使用全局元类，你不能这样做

```
def metest(name, bases, dct):
    dct['__doc__'] = """Default Doc"""
    return type(name, bases, dct)

__metaclass__=metest

class test:
    pass

print test.__doc__

t=test()

print t.__doc__ 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-03-31T07:09:05.570

正如上面 BrenBarn 所述，您的模块级元类被覆盖。要解决此问题，请尝试将其编码为*返回 cls*而不是将其设置为类实例。

# c# - Windows Phone 保留页面状态不起作用

> ID：11256247
> 
> 赞同：0
> 
> 时间：2012-06-29T04:55:44.253
> 
> 标签：c#, windows-phone

当我转到另一个页面时，我试图保留页面状态，但由于某种原因，当我返回此页面时，这些项目将返回到它们的默认状态。为什么它不起作用？它似乎完美地遵循了教程......

```
 protected override void OnNavigatedFrom(System.Windows.Navigation.NavigationEventArgs e)
    {
        base.OnNavigatedFrom(e);

        State["Title"] = TitleTextBox.Text;

        //all of those are RadioButtons - if their is a better way to do it then please comment :)
        int i = new int();
        if (RB0.IsChecked.Value)
            i = 0;
        else if (RB1.IsChecked.Value)
            i = 1;
        else if (RB2.IsChecked.Value)
            i = 2;
        else if (RB3.IsChecked.Value)
            i = 3;
        State["CheckedRB"] = i;

    }

    protected override void OnNavigatedTo(System.Windows.Navigation.NavigationEventArgs e)
    {
        base.OnNavigatedTo(e);

        if (State.ContainsKey("Title"))
            TitleTextBox.Text = State["Title"] as string;
        if (State.ContainsKey("CheckedRB"))
        {
            int i = (int)State["CheckedRB"];

            if (i == 0)
                RB0.IsChecked = true;
            else if (i == 1)
                RB1.IsChecked = true;
            else if (i == 2)
                RB2.IsChecked = true;
            else if (i == 3)
                RB3.IsChecked = true;
        }
     } 
```

**编辑：**我通过添加断点来追踪问题。

```
 protected override void OnNavigatedFrom(System.Windows.Navigation.NavigationEventArgs e)
    {
        base.OnNavigatedFrom(e);

        State["Title"] = TitleTextBox.Text;
        string look0 = WorkOutName.Text; 
        string look = State["WorkOutName"] as string; 

        int i = new int();
        if (RB0.IsChecked.Value)
            i = 0;
        else if (RB1.IsChecked.Value)
            i = 1;
        else if (RB2.IsChecked.Value)
            i = 2;
        else if (RB3.IsChecked.Value)
            i = 3;
        State["CheckedRB"] = i;   <-------- breakpoint 
```

结果如下：

```
(OnNavigatedFrom)
look0 : "Text From TextBox"
look1 : "Text From TextBox"
i : (0, 1, 2, or 3) 
```

与 OnNavigatedTo 相同：

```
 protected override void OnNavigatedTo(System.Windows.Navigation.NavigationEventArgs e)
    {
        base.OnNavigatedTo(e);

        if (State.ContainsKey("Title"))
            TitleTextBox.Text = State["Title"] as string; <--breakpoint
        if (State.ContainsKey("CheckedRB"))
        {
            int i = (int)State["CheckedRB"]; <--breakpoint

            if (i == 0)
                RB0.IsChecked = true;
            else if (i == 1)
                RB1.IsChecked = true;
            else if (i == 2)
                RB2.IsChecked = true;
            else if (i == 3)
                RB3.IsChecked = true;
        }
     } 
```

**并且它们中的任何一个（在 OnNavigatedTo 上）都没有熄灭。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T17:28:10.107

我试过你的代码，它似乎工作正常。我不知道这是否是您的情况，但请记住，如果您在应用程序中有以下导航流程：

```
Page1 (forward navigation)-> Page2 (back navigation)-> Page1 (forward navigation)-> Page2 
```

如果您在第一次访问时将状态保存在 Page2 中，再次返回 Page2 时将不会保留该状态，这是因为在进行后退导航时该页面被丢弃，该页面的状态字典也是如此。您可以在[文档](http://msdn.microsoft.com/en-us/library/ff967548%28v=vs.92%29.aspx)中阅读更多相关信息。

# wpf - 带有 UI（服务器端）+ 客户端 UI 的 WCF Windows 服务

> ID：11256249
> 
> 赞同：0
> 
> 时间：2012-06-29T04:56:04.557
> 
> 标签：wpf, wcf, windows-services, client-server

我正在制作一个应用程序，它将成为服务器端的客户端/服务器（两个 WPF）我希望制作一个将与客户端通信的 WCF（Windows 服务）

但我希望我的 WCF 服务的某些设置是可配置的（路径、端口、凭据绑定等）。这就是服务器端 GUI 出现的地方。

如何使服务器端的 Presenration Layer 配置 Windows 服务（包括 WCF 特定属性）

# php - 使用 PHP 在 MySQL 中插入 UTF-8 NSString

> ID：11256251
> 
> 赞同：0
> 
> 时间：2012-06-29T04:56:28.690
> 
> 标签：php, mysql, objective-c, utf-8

我有一个 Objective-C NSString（比如，'Gabriel García Márquez'），我想通过 POST 请求传递给 PHP，然后调用 MySQL 插入将字符串添加到 utf8-bin 列。麻烦的是，字符串在此过程中会发生一些变形，我已经阅读了有关该主题的每篇 Stack Overflow 帖子以防止它发生。

POST 请求（使用字符集 UTF-8）包含“Gabriel Garc\U00eda M\U00e1rquez”。

如果我立即将该字符串插入 utf8-bin 列而不进行编码或解码，则 MySQL 中的结果为“4761627269656c2047617263c3ad614dc3a1727175657a”。如果我将字符串包装在 utf8_decode() 中，结果是“Gabriel Garc”。如果我将字符串包装在 utf8_encode() 中（嘿，为什么不呢？），结果与第一个字符串相同。

为了防止这篇文章变成垃圾，我缺少什么？

一些使这更加令人沮丧的注释：

*   我在插入查询之前调用 mysql_set_charset('UTF8', $conn) 。
*   该表在 utf8_bin 中整理，列是 utf8_bin。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-01T06:19:57.367

糟糕...这是一个 phpMyAdmin 错误。令人惊讶的是，“4761627269656c2047617263c3ad614dc3a1727175657a”在不同的环境中是正确的——它可以在 MySQL Workbench 中以可读的方式打印。我只花了两天时间才弄清楚...

# javascript - Firefox 中的 Javascript 错误不在 IE 和 Chrome 中

> ID：11256257
> 
> 赞同：1
> 
> 时间：2012-06-29T04:57:21.350
> 
> 标签：javascript, internet-explorer, validation, firefox, google-chrome

我使用以下函数进行十进制验证。文本框只允许输入数字和.（点）符号。它在 IE 和 Chrome 中工作正常。我的问题是我得到**事件未定义错误**。如何解决这个问题？我有很多文本框验证。所以我像普通一样创建十进制验证，

```
//Call the Function
                             $('.decimalValidate').live('keypress',function(){
                                  var decimalid=$(this).attr("id");
                                  var decimalval=$('#'+decimalid).val();
                                  var decimalvalidate=ApplyDecimalFilter(decimalval);
                                  if(decimalvalidate == false)
                                  return false;
                             }); 
```

//十进制验证功能。它只允许一个 . symbol.everything 在 IE 和 Chrome 上运行良好

```
function ApplyDecimalFilter(id)
    {
        try {
              return NewDecimalFilter(id, event);

        } catch (e) {
            alert(e.message);
        }
    }

function NewDecimalFilter(o, event) {

        if (event.keyCode > 47 && event.keyCode < 58) {
            return true;
        }
        if ((event.keyCode == 8 || event.keyCode == 46) && o.indexOf('.') == -1)  {
            return true;
        }
        return false;
    } 
```

我在文本框中使用这个 decimalValidate 类，例如，

```
input type="text" id="InputLoanAmount" class="decimalValidate" style="width:100px" 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-29T05:01:23.570

在 Firefox 中，`event`不是全局的。`window.event`是`undefined`。您需要将事件作为参数传递。顺便说一句，如果你使用 jQuery >= 1.7 ，你应该使用`.on`而不是。`.live`

```
$('.decimalValidate').live('keypress', function (e) {
    var decimalid = $(this).attr("id");
    var decimalval = $('#' + decimalid).val();
    var decimalvalidate = ApplyDecimalFilter(decimalval, e);
    if (decimalvalidate == false) return false;
});

function ApplyDecimalFilter(id, event) {
    try {
        return NewDecimalFilter(id, event);

    } catch (e) {
        alert(e.message);
    }
} 
```

***[现场演示](http://jsfiddle.net/DN7zE/8/)***。

# objective-c - NSString包含objective-c中的sql查询

> ID：11256264
> 
> 赞同：0
> 
> 时间：2012-06-29T04:58:04.923
> 
> 标签：objective-c

我有一个看起来像这样的 sql 查询 -

```
NSString *createSQL = @"SELECT ingredients, recipe FROM drinktable where title like '%_drinkName%'"; 
```

_drinkName**也是**一个变量。在 Objective-C 中写这个的正确语法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T05:02:50.507

假设 _drinkName 是一个 NSString，尝试：

```
NSString *createSQL = [NSString stringWithFormat:@"SELECT ingredients, recipe FROM drinktable WHERE title LIKE '%%%@%%'", _drinkName]; 
```

（请注意，您的每个 % 都需要加倍。而 %@ 用于字符串格式参数。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:05:40.143

因为 NSString 是一个对象，你可以用另一个字符串`stringWithFormat`替换说明符`%@`

```
NSString *createSQL = [NSString stringWithFormat: @"SELECT ingredients, recipe FROM drinktable where title like '%@'", _drinkName]; 
```

这将替换`%@`为 _drinkName 的值

# performance - ADO.NET 实体 OrderBy VS。查看订购方式？

> ID：11256265
> 
> 赞同：0
> 
> 时间：2012-06-29T04:58:06.633
> 
> 标签：performance, ado.net, entity, sql-order-by

最近我在做 ADO.NET 实体编程，我注意到每个实体都有**OrderBy**方法，但是考虑到性能，我应该在数据库中创建一个带有**Order By的****视图**而不是在实体中使用**OrderBy吗？**

 ****在我看来，实体将首先将数据库中的所有结果集返回到内存中然后进行排序，但是来自数据库的**视图**将在数据库级别进行排序并返回排序后的结果集。如果在那种情况下，第二种方式会更好，对吗？

如果我错了，请纠正我:-)

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:38:59.880

我在实体框架方面的经验有限，但`order by`在视图中不起作用（请参阅[这篇文章](http://blog.sqlauthority.com/2010/08/23/sql-server-order-by-does-not-work-limitation-of-the-views-part-1/)）。

[这里](https://stackoverflow.com/questions/547278/what-are-good-design-practices-when-working-with-entity-framework)似乎有一些关于实体框架最佳实践的重要信息。您还可以考虑使用 SQL Profiler 来查看在运行时针对 SQL 服务器运行的查询，或者使用[本文](http://msdn.microsoft.com/en-us/magazine/gg490349.aspx)所述的 Entity Framework Profiler 。****

# playframework - intellij play framework 2.0.2 配置

> ID：11256266
> 
> 赞同：3
> 
> 时间：2012-06-29T04:58:13.660
> 
> 标签：playframework, intellij-idea, playframework-2.0

知道如何配置 Intellij Idea 以在播放控制台中使用 2.0.2 播放框架吗？

我已将我的应用程序更新为 2.0.2 （在 Intellij 之外），但无法在 Intellij 内部运行它，因为控制台总是以**2.0.1**启动。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T10:00:15.310

几天前我也遇到了这个问题，并在我发现暂时可以解决它之后创建了一篇关于它的博客文章：[http ://wordpress.rintcius.nl/post/update-play-framework-configuration -in-intellij](http://wordpress.rintcius.nl/post/update-play-framework-configuration-in-intellij)

总结一下（Linux 上的 IntelliJ 11.1.2）：

1.  关闭 IntelliJ
2.  打开文件~/.IntelliJIdea11/config/options/other.xml
3.  更改此条目中的房屋价值： `<component name="PlayframeworkConfiguration" home="$USER_HOME$/programs/play-2.0.1" />`

# sql-server-2005 - JDBC API forName 异常 (ClassNotFoundException)

> ID：11256268
> 
> 赞同：0
> 
> 时间：2012-06-29T04:58:16.563
> 
> 标签：sql-server-2005, jdbc

我是 JDBC 应用程序开发的新手。我正在使用 Visual Studio 2005 编写一个 JDBC 应用程序。我需要将我的应用程序连接到 MS SQL Server 2005。我已经安装了 JDBC 驱动程序 3.0。我的机器上还安装了 Java 运行时版本 1.6。

我正在编写一个简单的代码来连接到 SQL 服务器。我已经在 inviromnet 变量列表中设置了 CLASSPATH。这是代码

```
package MyJDBCApp;

import java.sql.*;
import java.util.*;

public class Connect
{
   public static void main(String[] args)
   {
        String url = "jdbc:sqlserver://NOI1-501791:1433;databaseName=test;user=sa; password=asdf1234;";
        Connection con;
        Statement stmt;
        try
        {
           Class.forName("com.sqlserver.jdbc.SQLServerDriver");
        }
        catch (java.lang.ClassNotFoundException e)
        {
           System.err.print("ClassNotFoundException: ");
           System.err.println(e.getMessage());
        }
        try
        {
            con = DriverManager.getConnection(url);
            if (con != null)
                con.close();
        }
        catch (SQLException ex)
        {
           System.err.println("SQLException: " + ex.getMessage());
        }   
   }
} 
```

当我每次遇到 Class not found 异常都尝试调试此应用程序时。谁能帮我解决这个问题。

提前致谢。问候祖拜尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T06:21:32.433

您通常不应该使用`CLASSPATH`环境变量。它主要是 Java 早期的产物。通常程序有自己的私有类路径。

在 IDE 内部，类路径是项目类路径（也称为构建路径），在 IDE 外部，它通常`Class-Path:`是 jar 清单中的条目。

只有在没有其他方法设置类路径的情况下运行命令行（使用or`CLASSPATH`时完成），才会使用环境变量。`java -jar``java -cp`

因此，您需要将 JDBC 驱动程序添加到项目类路径中。此外，如果您使用 sqljdbc4.jar（这是 MS SQL Server JDBC 3.0 中的 JDBC 4 驱动程序），那么您甚至不需要这样做`Class.forName(...)`，因为 JDBC 4 引入了自动驱动程序注册。

# android - 我们如何在屏幕上显示图表？

> ID：11256279
> 
> 赞同：1
> 
> 时间：2012-06-29T04:59:53.040
> 
> 标签：android, graph, achartengine

我正在使用图表引擎，其中的放大和缩小功能将图表从屏幕上移开。我想让图表适合屏幕。有什么方法可以让图表在屏幕上可见，即始终适合可见部分？

我正在使用这种方法：

```
private XYMultipleSeriesRenderer getLineRenderer(int[] lineColor, PointStyle[] styles) {

    XYMultipleSeriesRenderer renderer = new XYMultipleSeriesRenderer();
    renderer.setAxesColor(Color.BLUE);
    renderer.setAxisTitleTextSize(16);
    renderer.setChartTitle("Time");
    renderer.setChartTitleTextSize(15);
    renderer.setFitLegend(true);
    renderer.setPanEnabled(true, true);
    renderer.setYLabels(6);
    renderer.setMargins(new int[] { 20, 30, 15, 0 });
    renderer.setZoomButtonsVisible(true);
    renderer.setBarSpacing(10);
    renderer.setShowGrid(true);
    renderer.setYAxisMin(Common.min - 1);
    renderer.setYAxisMax(Common.max + 1);
    XYSeriesRenderer rendererSeries = new XYSeriesRenderer();
    rendererSeries.setColor(Color.RED);
    renderer.addSeriesRenderer(rendererSeries);
    rendererSeries.setFillPoints(true);
    rendererSeries.setLineWidth(3);

    return renderer;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T06:52:46.093

我找到了我的查询的解决方案

```
 renderer.setPanEnabled(false);
       renderer.setPanEnabled(false, false); 
```

它工作正常

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:39:01.150

你可以用两个东西，

要么禁用缩放功能

`renderer.setZoomEnabled(false, false);`

或者，为缩放设置限制

`renderer.setZoomLimits(arg0); // arg0 = new double[]{-20,20,-20,20}; anything you want`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T08:34:07.417

您可以执行以下任一操作：

```
renderer.setPanEnabled(false); 
```

或者

```
renderer.setPanLimits(limits); 
```

# jquery - jquery测试解析json后数组是否存在

> ID：11256281
> 
> 赞同：1
> 
> 时间：2012-06-29T05:00:16.537
> 
> 标签：jquery, json

我试图让我的表单字段在 onchange 事件之后提交。

返回的 Json 值如下所示：

```
{ "data": [ { "name":"p_data1,KEY=1", "value":"2", "error":"no error" } ] } 
```

我将向此字符串添加一个数组以指定任何其他也需要更新的字段（例如“总计”），如下所示：

```
{ "data": [ { "name":"p_data1,KEY=1", "value":"2", "error":"no error", "toUpdate": [ { "name":"p_total_data1" , "value":"999" } ] } ] } 
```

所以我只想在 toUpdate 数组存在时运行更新总脚本。我的问题是如果我使用 if 语句

```
if(typeof results.data[0].toUpdate[0].name == 'undefined'){} 
```

或者

```
if(null != results.data[0].toUpdate[0].name){} 
```

或者

```
if(results.data[0].toUpdate[0].name.length){} 
```

都给出错误“results.data[0].toUpdate[0].name is undefined”。如何测试它是否已定义？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-29T05:06:06.287

`results.data[0].toUpdate`在尝试访问其属性之前，您需要检查是否存在：

```
if (results.data[0].toUpdate && results.data[0].toUpdate[0].name){
  // perform the update
} 
```

如果第一个条件评估为假（或任何“假”值），则`&&`操作员将短路并且根本不会评估第二个条件，从而防止您看到错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T05:11:17.910

检查`result`对象的所有元素是否`undefined`存在

```
if(results !='undefined' && results.data!='undefined' && results.data[0]!='undefined' && results.data[0].toUpdate != 'undefined' && results.data[0].toUpdate[0] != 'undefined' && typeof results.data[0].toUpdate[0].name != 'undefined')
{
  //
}
else
{
 //
} 
```

# c# - 如何在c#中获取日期选择器的输入ID？

> ID：11256283
> 
> 赞同：0
> 
> 时间：2012-06-29T05:00:30.800
> 
> 标签：c#, javascript, asp.net

我正在使用 datapicker jquery，但它无法在 C# 中获取输入 ID。如果我给出 runat=server，我可以在 c# 中调用输入 ID，但它在页面中不起作用。任何人都可以帮助我，我是 Dnn 的新手。任何答案将不胜感激。谢谢你。

```
enter code here
<div class="demo">

<p>Date: <input id="datepicker"   type="text"  />

</p>

</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T05:07:20.390

将文本框与 DatePicker 一起使用

```
<asp:TextBox ruat="server" ID="txtDate" ></asp:TextBox> 
```

要访问它，请使用`ClientID`

```
<script type="text/javascript">

    $(function() {

     $("#<%= txtDate.ClientID %>").datepicker();       

    });   

   </script> 
```

*编辑：根据评论*

在定义您`txtDate`的 inaspx 页面后，`runat="server"`您可以在后面的代码中访问它，例如：

```
string value = txtDate.Text; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T05:05:56.143

是的，因为当您添加 runat 服务器时，id 会被 asp 重命名，如果您使用的是 .net 4.0，请尝试使用类似这样的方式设置客户端 id 模式静态

或者如果你不使用 .net 4.0 那就试试这个

```
<p>Date: <input id="datepicker"  ClientIDMode="Static  type="text" runat="server"  /> 
```

或者如果你不使用 .net 4.0 那就试试这个

```
$("#<%= datepicker.ClientID %>").datepicker(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T05:10:18.953

您可以使用文本框的 CssClass 通过以下方式获取日期选择器：

```
 <asp:TextBox ID="txtDate" runat="server" CssClass="DatepickerInput" /> 
```

您可以通过以下方式使用 jquery 代码：

```
$(document).ready(function () {
    $(".DatepickerInput").datepicker({ dateFormat: 'dd/mm/yy' });

}); 
```

# php - 使用调用从sql数据库获取信息的php函数的javascript编辑html..复杂...

> ID：11256284
> 
> 赞同：0
> 
> 时间：2012-06-29T05:00:30.757
> 
> 标签：php, javascript, html, sql

每次更改列表之前，我都会尝试编辑选择列表。我想要做的是将已经存在的列表更改为另一个列表，由一个 php 函数调用，该列表从第一个列表和一个 sql 数据库中生成一个新信息列表。

很难解释，所以这是我的代码：

我的代码的基础

```
//php & html
....

$cli = lastNameList();       //first list
$tli = firstNameList();   //second list

echo"

$cli
<div id='editHtml'>$tli</div>

";

.... 
```

函数 (php)

```
//the functions

function lastNameList(){

$options="<select id='lastNames'>"; 

$sql="SELECT * FROM lastName";
$result=mysql_query($sql); 

$options.="<option value='blank'>-- last names --</option>" ;
while ($row=mysql_fetch_array($result)) { 

$name=$row["name"]; 

$options.="<option value='$name'>$name</option>"; 
} 

$options.= "</SELECT>";
return "$options";
}

function firstNameList(){

$options="<select id='firstNames' style='margin-right:40px;'>"; 
```

这里有问题：

```
$sql="SELECT DISTINCT Name FROM firstName WHERE LastName ='lastNameSelectedGoesHere'";
//how do i get the value of the last name so i could make a query for it?

//using distinct to make sure there are no duplicates

$result=mysql_query($sql); 

$options.="<option value='blank'>-- first name --</option>" ;
while ($row=mysql_fetch_array($result)) { 

$name=$row["Name"]; 
$options.="<option value='$name'>$name</option>"; 
} 

 $options.= "</SELECT>";
return "$options";
} 
```

js（如果重要，在 php 文件中）

```
echo"  <script type='text/javascript'>
$('#lastNames').change(function() {

 document.getElementById('eTech').innerHTML="; 

 $ll = firstNameList();
 echo"$ll;

});"; 
```

所以你可以看到我的js文件在一个php文件中，它确实有效，我试图在那里做的是生成一个新的名字列表来替换旧的，但我失败了......任何人都有答案或建议我应该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:12:00.577

使用 ajax 和 jquery 一点也不复杂！

一个快速肮脏的方法是这样做

```
<div id="firstName"></div>
<script type='text/javascript'>
$('#lastNames').change(function() {
$('#firstName').load('getfirstname.php?lastname=' + $(this).val());
});
</script> 
```

对于 getfirstname.php 页面

```
$lastName = mysql_real_escape_string($_GET['lastname']);
$sql="SELECT DISTINCT Name FROM firstName WHERE LastName ='$lastName'";

//using distinct to make sure there are no duplicates

$result=mysql_query($sql); 
$options="<select id='firstNames' style='margin-right:40px;'>";
$options.="<option value='blank'>-- first name --</option>" ;
while ($row=mysql_fetch_array($result)) { 

$name=$row["Name"]; 
$options.="<option value='$name'>$name</option>"; 
} 

 $options.= "</SELECT>";
echo $options; 
```

这是一个非常简单的页面，展示了如何使用 ajax 和 jquery 执行 php 代码。

```
<?
if(!isset($_GET['value'])):?>
<script src="jquery-1.7.1.js"></script>
<select id="select" >
<option value="1">1</option>
<option value="2">2</option>
<option value="3">3</options>
</select>

<div id="phpoutput"></div>

<script>
    $('#select').change(function() {
    $('#phpoutput').load('?value=' + $(this).val());
    });

</script>
<?else:
    $val = $_GET['value'];
    echo "$val sent to server. $val*3 = " . $val *3;
 ?>
<?endif;?> 
```

# iphone - iPhone：我是否必须为所有图像提供视网膜和非视网膜图像？

> ID：11256285
> 
> 赞同：3
> 
> 时间：2012-06-29T05:00:34.850
> 
> 标签：iphone, ios, retina-display

我听说您需要为视网膜和非视网膜创建图像。
您需要将它们命名为 image@2x.png 用于视网膜，而 image.png 用于非视网膜。

但我想对视网膜和非视网膜都使用 image.png。
并在程序中缩小它，因为通过代码调整图像大小比使用绘画工具重新创建图像更容易。

可以使用以下代码执行此操作：

```
[button setImage:[UIImage imageNamed:@"image.png"] forState:UIControlStateNormal]; 
```

```
UIImageView *imageView = [[UIImageView alloc] init];
imageView.frame = CGRectMake(20, 20, 40, 40);
imageView.image = [UIImage imageNamed:@"image.png"]; 
```

image.png 缩小为按钮大小或图像视图大小。

这是一种常见的方式吗？
这种方式有什么缺点吗？
如果应用程序没有 image.png 和 image@2x.png，苹果会拒绝吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T05:11:00.967

**[EDIT1 - 特殊情况]**

然而，这个问题有一个特殊情况。由于 Apple 当前的 2x 算法本质上是像素加倍（在每个方向上），如果您的图像仅由垂直和水平线组成，那么我会着手提供这些图像作为 1x 并让 API 自动放大这些图像，一个示例将是一个看起来像这样的按钮的图像

![在此处输入图像描述](../Images/41d9bf1cedb211b4a92d2d59f689d05b.png)

因为这将有零问题升级并且仍然看起来非常清晰！！！（在两部 iPhone 和两部 iPad 上测试）

**[原创]** 如果您只是为了显示而这样做，那么一种方法是简单地提供图像，因为它应该只用于视网膜，并允许 UIImageView 自动缩小图像以用于非视网膜显示器。它会这样做，不会被苹果拒绝。

对于retina显示，UIImageView自然会在每个方向上占据2x像素的空间，因此当图像被读入Retina显示时，API会识别出不需要缩放！！！

不过要小心！！！缩小图像可以说按钮可以产生使您的图像或按钮看起来不干净/像素化的效果。这就是为什么“建议”同时提供两者的原因，比如说基于矢量的图像，您将能够为给定的分辨率生成最高质量的图像。有点取决于您要如何使用图像。

作为旁注。我建议如果您确实选择了调整大小选项，那么您尝试预先识别设备的屏幕分辨率并在初始化按钮或 UIImageView 等时仅调整一次图像的大小（如果需要，在我的情况下，对于较小的分辨率）。 .. 这样您就不会在每次需要将其渲染到屏幕时都遭受性能下降的困扰。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T05:10:02.040

好吧，您可能不想听到这个，但最好使用绘画工具。如果您让设备每次都调整图像大小，它会减慢您的应用程序 - 取决于您执行此任务的频率。我认为苹果不会因为您不包含 @2x 图像而拒绝您。我之前忘记了它们，没有任何问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T05:08:02.753

如果您不想包含 @2x 图像，那么您的应用程序将适用于视网膜和非视网膜 iphone。Apple 不会为此拒绝您的二进制文件。
唯一的缺点是您将显示正常图像，而不是视网膜的高质量图像。

# xml - XSLT 转换

> ID：11256286
> 
> 赞同：3
> 
> 时间：2012-06-29T05:00:53.297
> 
> 标签：xml, xslt, transformation

我有一个 XML 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<Batch BatchID="896" BatchName="20120629.130504">
    <Document DocumentType="XML Question">
        <Fields>
            <Field FieldName="Doc_ID">1</Field>
            <Field FieldName="Vendor_Code">126400</Field>
            <Field FieldName="Property_Code">10519</Field>
            <Field FieldName="Invoice_Num">20509</Field>
        </Fields><Files />
    </Document>
</Batch> 
```

我想使用 XSLT 文件将其转换为如下所示：

```
<?xml version="1.0" standalone="yes"?>
<ABCRelease>
  <ABC>
    <Doc_Id>1345</Doc_Id>
    <Vendor_Code>134500</Vendor_Code>
    <Property_Code>105559</Property_Code>
    <Invoice_Num>2034539</Invoice_Num>
  </ABC>
</ABCRelease> 
```

我第一次玩 XML，今天我花了很多时间才走得更远，并就该主题进行了大量搜索。有没有人能够帮助我并提供一些可以实现这一点的示例代码？

我的问题是提取 FieldName 值并将其插入到 <> 中，例如：

```
<Field FieldName="Doc_ID">1</Field> 
```

至

```
<Doc_Id>1345</Doc_Id> 
```

真的很感激你的帮助。

史蒂文

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:11:03.570

**这种转变**：

```
<xsl:stylesheet version="1.0"
 xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <xsl:template match="Fields">
   <ABCRelease>
    <ABC>
      <xsl:apply-templates/>
    </ABC>
   </ABCRelease>
 </xsl:template>

 <xsl:template match="Field">
  <xsl:element name="{@FieldName}">
    <xsl:value-of select="."/>
  </xsl:element>
 </xsl:template>
</xsl:stylesheet> 
```

**应用于提供的 XML 文档时：**

```
<Batch BatchID="896" BatchName="20120629.130504">
    <Document DocumentType="XML Question">
        <Fields>
            <Field FieldName="Doc_ID">1</Field>
            <Field FieldName="Vendor_Code">126400</Field>
            <Field FieldName="Property_Code">10519</Field>
            <Field FieldName="Invoice_Num">20509</Field>
        </Fields>
        <Files />
    </Document>
</Batch> 
```

**产生想要的正确结果：**

```
<ABCRelease>
   <ABC>
      <Doc_ID>1</Doc_ID>
      <Vendor_Code>126400</Vendor_Code>
      <Property_Code>10519</Property_Code>
      <Invoice_Num>20509</Invoice_Num>
   </ABC>
</ABCRelease> 
```

**说明**：

正确使用**[`<xsl:element>`](http://www.w3.org/TR/1999/REC-xslt-19991116#section-Creating-Elements-with-xsl%3aelement)**和[**AVT**](http://www.w3.org/TR/1999/REC-xslt-19991116#attribute-value-templates)（属性值模板）。

# python - 如何在 Python 中组合数值列数据？

> ID：11256289
> 
> 赞同：2
> 
> 时间：2012-06-29T05:01:05.147
> 
> 标签：python

我是 Python 的初学者，我不知道如何执行以下操作：

我有一个数字数据的文本文件，格式如下：

```

1461.5 5 9 -18 32
1462 21 5 -6 32
1462 5 4 -23 32
1462.5 17 6 -7 30
1464 11 6 -14 31
1464 8 2 -22 32
1464.5 9 5 -17 31
1465 6 16 -7 29
1467 9 6 -17 32
1467.5 14 9 -8 31
1469.5 13 5 -12 30
1469.5 14 10 -7 31
1471 15 7 -9 31
1471 12 8 -10 30
1471.5 13 11 -7 31
1472 27 4 -1 32
1472 7 13 -8 28
1472 8 8 -14 30
```

我想了解如何识别第一列中具有相同值的行，在其他列中添加相应的项目，并删除第一列中的重复条目，以便生成的输出如下所示：

```
1461.5 5 9 -18 32
1462 26 9 -29 64
1462.5 17 6 -7 30
1464 19 8 -36 63
1464.5 9 5 -17 31
1465 6 16 -7 29
1467 9 6 -17 32
1467.5 14 9 -8 31
1469.5 27 15 -19 61
1471 27 15 -19 61
1471.5 13 11 -7 31
1472 42 25 -23 90
```

如果它能让事情变得不那么复杂，那么第一列中的所有数字都可以提前四舍五入为整数（这对后续计算几乎没有影响）。

注意：实际的文本文件包含 23,000 行。第一列中的值按升序排列。

谢谢，亚当

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T05:32:57.777

```
from collections import defaultdict
D = defaultdict(list)
with open("data.txt") as f:
    for row in f:
        row = row.split()
        D[float(row[0])].append([int(x) for x in row[1:]])

for k,v in sorted(D.items()):
    print k, [sum(x) for x in zip(*v)] 
```

**编辑：**由于输入文件总是有序的，你可以做得更好

```
from itertools import groupby
with open("data.txt") as f:
    for k,v in groupby(f, key=lambda x:x.split()[0]):
        print k, map(sum, zip(*[map(int, x.split()[1:]) for x in v])) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T06:46:58.237

这有效：

```
with open('data.txt') as data:
   d={}
   for row in data:
      l=row.split()
      key=l[0]
      l=[int(e) for e in l[1:]]
      if key in d:
         d[key]=[x+y for x,y in zip(l,d[key])]
      else:
         d[key]=l  

for e in sorted(d.keys()):
    t=tuple([e]+list(map(str,d[e])))
    print("{:<7} {:<3} {:<3} {:<3} {:<3}".format(*t)) 
```

印刷：

```
1461.5  5   9   -18 32 
1462    26  9   -29 64 
1462.5  17  6   -7  30 
1464    19  8   -36 63 
1464.5  9   5   -17 31 
1465    6   16  -7  29 
1467    9   6   -17 32 
1467.5  14  9   -8  31 
1469.5  27  15  -19 61 
1471    27  15  -19 61 
1471.5  13  11  -7  31 
1472    42  25  -23 90 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-05-31T12:09:40.610

对于这类工作，我强烈推荐[pandas包。](http://pandas.pydata.org/)

加载数据：

```
import io
import pandas as pd

data = """
1461.5  5   9   -18 32
1462    21  5   -6  32
1462    5   4   -23 32
1462.5  17  6   -7  30
1464    11  6   -14 31
1464    8   2   -22 32
1464.5  9   5   -17 31
1465    6   16  -7  29
1467    9   6   -17 32
1467.5  14  9   -8  31
1469.5  13  5   -12 30
1469.5  14  10  -7  31
1471    15  7   -9  31
1471    12  8   -10 30
1471.5  13  11  -7  31
1472    27  4   -1  32
1472    7   13  -8  28
1472    8   8   -14 30
"""

df = pd.read_csv(io.StringIO(data), sep=' *', engine='python', names=['a', 'b', 'c', 'd', 'e']) 
```

`df`数据框现在包含您的示例数据：

```
df
Out[90]: 
         a   b   c   d   e
0   1461.5   5   9 -18  32
1   1462.0  21   5  -6  32
2   1462.0   5   4 -23  32
3   1462.5  17   6  -7  30
4   1464.0  11   6 -14  31
5   1464.0   8   2 -22  32
6   1464.5   9   5 -17  31
7   1465.0   6  16  -7  29
8   1467.0   9   6 -17  32
9   1467.5  14   9  -8  31
10  1469.5  13   5 -12  30
11  1469.5  14  10  -7  31
12  1471.0  15   7  -9  31
13  1471.0  12   8 -10  30
14  1471.5  13  11  -7  31
15  1472.0  27   4  -1  32
16  1472.0   7  13  -8  28
17  1472.0   8   8 -14  30 
```

按第一列对该数据框进行分组，并将所有其他列相加，只需一行：

```
df2 = df.groupby('a').agg(sum).reset_index()
df2
Out[92]: 
         a   b   c   d   e
0   1461.5   5   9 -18  32
1   1462.0  26   9 -29  64
2   1462.5  17   6  -7  30
3   1464.0  19   8 -36  63
4   1464.5   9   5 -17  31
5   1465.0   6  16  -7  29
6   1467.0   9   6 -17  32
7   1467.5  14   9  -8  31
8   1469.5  27  15 -19  61
9   1471.0  27  15 -19  61
10  1471.5  13  11  -7  31
11  1472.0  42  25 -23  90 
```

# java - Java多态方法无法解析

> ID：11256292
> 
> 赞同：0
> 
> 时间：2012-06-29T05:01:25.390
> 
> 标签：java, compiler-errors, polymorphism, abstract-class, subclass

我是一个编程新手，所以请多多包涵。我搜索并找不到可以回答这个问题的现有线程。我编写了以下代码，该代码应该根据安全对象是被用户识别为股票还是债券来吐出 stock.toString() 或 bond.toString() 罐头短语。但是，我收到“无法解决安全性”编译器错误。我想这是一个问题，因为安全对象的类不是在编译时定义的。真的吗？如果是这样，有什么办法可以在不诉诸反射方法的情况下解决这个问题？谢谢！

```
public static void main(String[] args) {

    double thePrice;
    double theShares;
    double theEarnings;
    double theRate;
    String securityType;

    Scanner in = new Scanner(System.in);

    System.out.println("Is it a stock or a bond?");
    securityType = in.nextLine();

    if (securityType.compareToIgnoreCase("stock") == 0) {
        System.out.println("Successfully set to STOCK");
        System.out.println("What are the earnings?");
        theEarnings = in.nextDouble();
        Stock security = new Stock();
        security.setEarnings(theEarnings);
    }

    else if (securityType.compareToIgnoreCase("bond") == 0) {
        System.out.println("Successfully set to BOND");
        System.out.println("What is the rate?");
        theRate = in.nextDouble();
        Bond security = new Bond();
        security.setRate(theRate);
    }

    System.out.println("What is the price");
    thePrice = in.nextDouble();     

    System.out.println("How many shares are there?");
    theShares = in.nextDouble();

    security.setPrice(thePrice);
    security.setShares(theShares);

    System.out.println(security);
} 
```

感谢@Jigur Joshi、@penartur 和其他人。这是我们提出的解决方案，但如果有更好的选择，请告诉我。如果securityType既不是“股票”也不是“债券”，我正在添加一个else语句来清理:)

```
public static void main(String[] args) {

                ...
    Security security = null;
    String securityType;

    Scanner in = new Scanner(System.in);

    System.out.println("Is it a stock or a bond?");
    securityType = in.nextLine();

    System.out.println("What is the price"); 
    thePrice = in.nextDouble();      

    System.out.println("How many shares are there?"); 
    theShares = in.nextDouble(); 

    if (securityType.compareToIgnoreCase("stock") == 0) {
        System.out.println("Successfully registered STOCK");
        security = new Stock();
        System.out.println("What are the earnings?"); 
        theEarnings = in.nextDouble(); 
        ((Stock) security).setEarnings(theEarnings); 
    }

    if (securityType.compareToIgnoreCase("bond") == 0) {
        System.out.println("Successfully registered BOND");
        security = new Bond();
        System.out.println("What is the rate?"); 
        theRate = in.nextDouble(); 
        ((Bond) security).setRate(theRate);
    }

    security.setPrice(thePrice); 
    security.setShares(theShares); 

        System.out.println(security); 

} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-29T05:03:43.683

在 if else 之外声明它，以便在 if else 之后可用

假设`Stock`是 的超类`Bond`，如果不声明`security`为

```
 Object security = null; 
```

做了

```
 Stock security = null;
 if (securityType.compareToIgnoreCase("stock") == 0) {
        System.out.println("Successfully set to STOCK");
        System.out.println("What are the earnings?");
        theEarnings = in.nextDouble();
        security = new Stock();
        security.setEarnings(theEarnings);
    }

    else if (securityType.compareToIgnoreCase("bond") == 0) {
        System.out.println("Successfully set to BOND");
        System.out.println("What is the rate?");
        theRate = in.nextDouble();
        security = new Bond();
        security.setRate(theRate);
    } 
```

* * *

**看**

*   [§ 14.4.2 局部变量声明的范围](http://docs.oracle.com/javase/specs/jls/se5.0/html/statements.html#263461)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-29T05:03:32.763

问题不在于类型。

您已经`security`在内部范围内定义了，它根本不存在于外部（您在哪里执行`security.setPrice`. 更糟糕的是，代码无法轻松修复，因为`security`根本不会定义（无论是否是内部范围）当`securityType`既不是“债券”也不是“股票”时。

但是我想你想要做的是：

```
public static void main(String[] args) {

    double thePrice;
    double theShares;
    double theEarnings;
    double theRate;
    String securityType;

    Scanner in = new Scanner(System.in);

    System.out.println("Is it a stock or a bond?");
    securityType = in.nextLine();

    System.out.println("What is the price");
    thePrice = in.nextDouble();     

    System.out.println("How many shares are there?");
    theShares = in.nextDouble();

    if (securityType.compareToIgnoreCase("stock") == 0) {
        System.out.println("Successfully set to STOCK");
        System.out.println("What are the earnings?");
        theEarnings = in.nextDouble();
        Stock security = new Stock();
        security.setEarnings(theEarnings);
        security.setPrice(thePrice);
        security.setShares(theShares);
        System.out.println(security);
    }

    else if (securityType.compareToIgnoreCase("bond") == 0) {
        System.out.println("Successfully set to BOND");
        System.out.println("What is the rate?");
        theRate = in.nextDouble();
        Bond security = new Bond();
        security.setRate(theRate);
        security.setPrice(thePrice);
        security.setShares(theShares);
        System.out.println(security);
    }

} 
```

当然，这是一个糟糕的解决方案，但您必须首先澄清自己的任务。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-29T05:08:20.827

问题出在变量的范围内。`security`仅在 if/else 块内定义。

您可以将代码更改为以下内容：

```
Object security; //you can use common superclass of Bond and Stock (maybe Security?)

if (securityType.compareToIgnoreCase("stock") == 0) {
    /* ... */
    Stock stock = new Stock();
    stock.setEarnings(theEarnings);
    security = stock;
}

else if (securityType.compareToIgnoreCase("bond") == 0) {
    /* ... */
    Bond bond = new Bond();
    bond.setRate(theRate);
    security = bond;
}

/* ... */
System.out.println(security); 
```

# mysql - 查找点范围内的路线

> ID：11256295
> 
> 赞同：1
> 
> 时间：2012-06-29T05:02:07.837
> 
> 标签：mysql, google-maps, routes, geospatial, polyline

我正在寻找一种使用谷歌地图获取预定义纬度点并找到通过 20 英里范围内的路线的方法。路线的起点和终点存在于 MySQL 数据库中。

1.  在存储路线时，最好包括构成路线的所有折线吗？
2.  我应该存储 RouteBoxer 坐标并找到包含预定义纬度点的所有框吗？这可能是 20 英里距离的 3 倍
3.  我应该如何存储预定义纬度点和路线信息的数据？

**编辑：**

这篇文章可能会带来一些想法，但我仍然不确定最好的方法？我关心扩展，因为我正在考虑 50,000 多条路线和数千条路线。

-->[查找点的 x 距离附近有多少个（googlemap）多边形](https://stackoverflow.com/questions/7461295/find-how-many-googlemap-polygons-near-x-distance-of-a-point?rq=1)

-->[在 MySQL 中获取接近 lat,long 的多边形](https://stackoverflow.com/questions/1902287/get-polygons-close-to-a-lat-long-in-mysql)

--> [MySQL 查找最接近点的多边形](https://stackoverflow.com/questions/4879337/mysql-find-polygon-nearest-to-point)

非常感谢！

大卫

# .net - 部署后显示我的 Windows 应用程序的背景图像时出错

> ID：11256297
> 
> 赞同：3
> 
> 时间：2012-06-29T05:02:11.000
> 
> 标签：.net, visual-studio-2010, windows-xp, windows-applications, servicepacks

我正在使用 C Sharp 在 Visual Studio 2010 中构建一个 Windows 应用程序。问题不在于任何代码。部署后出现问题。当我制作了应用程序的可执行 .exe 时，它​​可以在 Windows 7、Window Vista 等操作系统上正常工作，但是当我安装具有操作系统 Windows Xp 和 Service Pack 2 的应用程序时，它不会显示任何背景图像或 3。

谁能给我一个可行的解决方案！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:02:41.887

由于您的应用程序是使用**Visual Studio 2010**制作的，因此需要在您的**Windows XP3**机器上安装[**Microsoft Visual C++ 2010 Redistributable Package**](http://www.microsoft.com/en-us/download/details.aspx?id=5555)。

 ****如果**Windows XP**机器为**SP2**，则需要先升级到**SP3**。

用于此答案的参考：[**Windows XP 上的 Visual Studio 2010 应用程序**](http://social.msdn.microsoft.com/Forums/en/vcgeneral/thread/abea2416-b7cc-4e48-9135-9795f1ea6264)

让我们搁置我刚刚写的内容，因为您提到该应用程序正在您的 Windows XP 系统中运行，但没有背景或图像。这些资产是否应该是程序应用程序目录中的有形对象？如果是这样，请扫描整个硬盘驱动器以查看这些图像是否以某种方式安装在不同的路径中。

另一个提示，首先尝试这个，是在***不同***的Windows 7 或 Vista 机器上安装你的**.exe 。**如果这台不同的 Windows 机器也显示相同的缺失背景和图像，那么很明显**.exe**没有正确创建并且正在使用项目资产而不是在正常工作的机器上安装的应用程序资产。****

# ruby-on-rails - Resque 工人人数不准确

> ID：11256301
> 
> 赞同：2
> 
> 时间：2012-06-29T05:03:06.597
> 
> 标签：ruby-on-rails, redis, resque

在我的 Resque Web UI 中，它表示当前有 N 个 M 工人正在工作。在这种情况下，M 是不正确的。发生这种情况是因为我在没有先关闭工作人员的情况下重新启动了几个 Resque 实例，我猜 SIGKILL 会使工作人员在 Redis 缓存中保持活动状态。

我正在运行的 Resque 实例的数量会根据任何给定时间的队列/系统负载不断增加和减少。有没有可能我可以更新根据 Redis 运行的实际工作人员的数量，使其始终保持同步？无论如何，让这个数字准确会很棒。

# python - 我如何让班级互相交谈？

> ID：11256305
> 
> 赞同：0
> 
> 时间：2012-06-29T05:03:15.073
> 
> 标签：python, wxpython

这是情况

```
class App(wx.Frame):
    def __init__(self,parent,id=-1,title='Test App'):
        wx.Frame.__init__(self,parent,id,title,size=((1050,690)))

        self.mode = 'Test'

class SetModes:
    def __init__(self):
        self.GetModes = App(None,-1)

        self.appmode = ''

    def SetMode(self):
        self.appmode = self.GetModes.mode 
```

现在这只是一个示例脚本，因为我已经知道这行不通，但它显示了我本质上想要做的事情。让我澄清一下：

我想从应用程序类中获取和设置一些变量。我希望能够从我的“SetModes”课程中做到这一点。问题是我无法创建它的实例，因为我无法为实例分配父级，因此 self.GetModes 方法不起作用，它告诉我实例不能“没有”父级，所以这是否意味着如果我只想使用它的一些变量和函数，我就无法创建我的 App 类的实例？

那么我该如何让它发挥作用。我可以让一个班级与需要父母的班级进行交流吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:39:02.713

我认为您的部分问题是框架需要从`wx.App`实例内部初始化，然后`MainLoop()`必须调用（请参阅[本教程](http://wiki.wxpython.org/Using%20wxPython%20Demo%20Code)。请注意框架如何具有父级`None`）。

之后，像 jdi 这样的解决方案将起作用。但是，如果可以避免的话，我仍然不喜欢使用引用。对于在直接孩子上调用函数的父母来说，这没关系，但我个人的规则是我的班级不能看到他们不直接拥有的任何对象（即不了解孩子的孩子）。

我是[PubSub](http://wiki.wxpython.org/WxLibPubSub)的忠实粉丝，用于在不相关的类之间进行通信。与`wx.Event`对象不同，不需要任何层级关系。与 jdi 提出的参考解决方案不同，类根本不需要了解彼此的结构。

归根结底，在您的应用程序中，*没有*实例可以`SetModes`存在实例吗？如果不是，您可以将' 逻辑合并到 ' 中吗？如果是，那么明确处理的编码是糟糕的设计。*`App``SetModes``App``SetModes``App`*

 *使用`PubSub`，您从 发送请求消息`SetModes`。`App`看到消息，然后可以发送响应消息，由`SetModes`. 完全分离，完全异步。`SetModes`不需要了解任何关于`App`的信息，只需要了解消息格式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:36:54.653

仅仅因为 wx.Frame 需要父级，并不意味着您不能在另一个未关联的类中分配对它的引用。只需像往常一样将您的 App 实例作为父对象，但将引用传递给您的 SetModes：

```
app = App(parent)
setModes = SetModes()
setModes.GetModes = app 
```

这归结为您的程序的设计问题。小部件需要父母。*

# .net - 又名 infoof 的财产——通过 Rosyln？

> ID：11256309
> 
> 赞同：5
> 
> 时间：2012-06-29T05:03:30.870
> 
> 标签：.net, roslyn

几年前，Eric Lippert写了一篇关于假设的 infoof 运算符的博客，它允许您在编译时而不是在运行时获取方法/属性信息[。](http://blogs.msdn.com/b/ericlippert/archive/2009/05/21/in-foof-we-trust-a-dialogue.aspx)基本上说这是一匹漂亮的小马，但没有独角兽......

我读了一些关于 Rosyln 在编译时重写代码的能力，使用 Roslyn 实现 infoof 有多难？

**编辑：**我认为这可能是获取 Eric 所说的所有内容的一种方式，但如果不是，我应该稍微分解一下这些功能。

1.  获取属性名称。
2.  获取属性类型。
3.  获取属性访问器。
4.  获取方法名称。
5.  得到他所说的infoof的一切......

以重构安全的方式，在编译时得到验证。就我个人而言，1 涵盖了我实际使用的大约 90%（用于获取呼叫者姓名的新呼叫者信息属性实际上可以涵盖大约 60%，但当然，如果有一种方法可以在该方法的内部和外部工作，这将是可取的）。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-29T05:32:43.133

您可以轻松地使用 Roslyn 将一个有效的 C# 代码重写为另一个有效的 C# 代码。但这并不意味着为语言添加扩展。

Roslyn*也*解析无效代码（如果你想在不完整的行上将它用于 IntelliSense，它必须解析），但由于它是无效的，因此不能保证它会正确执行（因为不清楚究竟是什么“正确”意思是）。另外，我认为它将使用的结构`infoof`对您来说不是很方便。

总结一下：这不是 Roslyn 的用途，这样做可能是个坏主意。但我认为使用 Roslyn 做到这一点并非不可能。

# java - 我们可以将 java .class 转换为 .java 文件，那么 java 是如何被称为安全语言的

> ID：11256313
> 
> 赞同：0
> 
> 时间：2012-06-29T05:03:44.130
> 
> 标签：java, security, class, decompiler

是否有任何转换器可以将我们编译的`.class`（Abc.class）转换为`.java`（Abc.java）。如果我们能做到这一点，那么我们称之为 Java 的方式就是安全语言。有没有其他方法可以将我们的类转换为 .java 文件

我提出了有关 java 安全性的问题，还请注意

谢谢你们

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-29T05:06:47.390

有反编译.class文件的工具，比如JAD [http://en.wikipedia.org/wiki/JAD_(JAva_Decompiler](http://en.wikipedia.org/wiki/JAD_(JAva_Decompiler) )

从这个意义上说，如果您要分发类文件，我不会说 java 是安全的。但是，您可以采取一些措施，例如使用混淆器，例如 ProGuard (http://proguard.sourceforge.net/)

# python - 如何搜索由空格分隔的字符？

> ID：11256316
> 
> 赞同：-1
> 
> 时间：2012-06-29T05:04:30.173
> 
> 标签：python, python-2.7

我有一个包含普通字符串的文本文件。就是这样的字符，由空格分隔。

我想搜索“A”，后跟一个空格。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:16:37.610

通过使用`import RE`您可以在匹配正则表达式的文本中进行搜索。

如果您正在查看出现空间的位置，您可以尝试以下操作

```
import re
with open("text", "r") as text:
    [i.start() for i in re.finditer(" ", text.read()] 
```

这将返回出现空格的位置列表。

如果您要明确查找“A”后跟空格的时间，则可以使用

```
import re
with open("text", "r") as text:
    [i.start() for i in re.finditer("A ", text.read()] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:10:50.497

```
with open("testfile", "r") as testfile:
    positions = [i for i, x in enumerate(testfile.read()) if x == ' ']
print positions 
```

# c# - 跨多个任务共享 BlockingCollection

> ID：11256321
> 
> 赞同：0
> 
> 时间：2012-06-29T05:04:49.390
> 
> 标签：c#, .net, multithreading, task-parallel-library

这是我的场景。我从外部数据源获取大量数据，我必须在两个地方本地写入。其中一个目的地的写入速度非常慢，但另一个目的地非常快（但我不能依靠它来读取和写入缓慢的目的地）。为此，我使用了生产者-消费者模式（使用 BlockingCollection）。

我现在遇到的问题是我必须在两个 BlockingCollection 中对数据进行排队，这会占用太多内存。我的代码看起来与下面的示例非常相似，但我真的很想从一个队列中驱动两个任务。有谁知道这样做的正确方法是什么？下面的代码效率低下吗？

```
class Program
{
    const int MaxNumberOfWorkItems = 15;
    static BlockingCollection<int> slowBC = new BlockingCollection<int>(MaxNumberOfWorkItems);
    static BlockingCollection<int> fastBC = new BlockingCollection<int>(MaxNumberOfWorkItems);

    static void Main(string[] args)
    {
        Task slowTask = Task.Factory.StartNew(() =>
        {
            foreach (var item in slowBC.GetConsumingEnumerable())
            {
                Console.WriteLine("SLOW -> " + item);
                Thread.Sleep(25);
            }
        });

        Task fastTask = Task.Factory.StartNew(() =>
        {
            foreach (var item in fastBC.GetConsumingEnumerable())
            {
                Console.WriteLine("FAST -> " + item);
            }
        });

        // Population two BlockingCollections with the same data. How can I have a single collection?
        for (int i = 0; i < 100; i++)
        {
            while (slowBC.TryAdd(i) == false)
            {
                Console.WriteLine("Wait for slowBC...");
            }

            while (fastBC.TryAdd(i) == false)
            {
                Console.WriteLine("Wait for 2...");
            }
        }

        slowBC.CompleteAdding();
        fastBC.CompleteAdding();

        Task.WaitAll(slowTask, fastTask);

        Console.ReadLine();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T08:36:42.833

1.  使用生产者-消费者队列来传输单个整数是非常低效的。你是在块中接收它，所以为什么不将队列输入为 '*chunk' 并发送整个块，立即在同一个 ref 处创建/分离一个新块。rx 的变量。下一批数据？这就是 PC 队列通常用于处理大量数据的方式 - 排队 refs/pointers，而不是实际数据。线程具有共享内存空间，（一些开发人员似乎认为这只会导致问题），所以使用它 - 队列指针/引用并将 MB 数据作为一个指针安全地传输。只要您在下一行代码中总是在将旧线程排队后创建/分离一个新线程，生产者和消费者线程就永远不会在同一个块上运行。

    对于大块，排队 *chunks 的效率要高出 10 倍。

2.  将 *chunks 发送到快速链接，然后从那里将它们“转发”到慢速链接。

3.  如果慢速链接不会阻塞您的系统并导致最终的 OOM 错误，您可能需要全面的流量控制。我通常做的是修复总缓冲区大小的“整体”配额，并在启动时创建一个块池（池是另一个 BlockingCollection，在启动时填充 *new(chunks)）。生产者线程使块出列，用数据填充它们，将它们排队到 FAST 线程。FAST 线程处理接收到的块，然后将 *chunk 排队到 SLOW 线程。SLOW 线程处理相同的数据，然后重新池化“已使用”块以供生产者线程重新使用。这形成了一个流量控制系统——如果 SLOW thred 太慢，生产者最终尝试从一个空池中分离出一个 *chunk 并阻塞在那里，直到 SLOW 线程重新池化一些使用过的 *chunk 并因此向生产者线程发出再次运行的信号。您可能需要在慢速线程中使用一些策略来使其操作超时并提前转储其 *chunk，因此删除数据 - 您必须根据您的总体要求决定一个策略 - 显然不可能将数据连续排队到快速除非缓慢的消费者转储一些数据，否则永远缓慢的消费者不会出现内存溢出。

编辑 - 哦，是的，使用池消除了已用块上的 GC，进一步提高了性能。

一种总体流策略是不在慢线程中转储任何数据。随着持续的高数据流，*chunks 最终将全部位于快速和慢速线程之间的队列中，并且生产者线程确实会阻塞在空池中。然后，网络连接将应用其自己的流控制来停止网络对等方通过 TCP 发送更多数据。这将流控制从你的慢线程一直延伸到对等点。

# javascript - 在 Graphiti.js 中设置操作

> ID：11256322
> 
> 赞同：0
> 
> 时间：2012-06-29T05:04:49.503
> 
> 标签：javascript

我正在寻找 Graphiti.js 中的集合操作。我找到了一种方法`createSet()`，它是模板方法。我尝试使用它，但收到一条错误消息“画布未定义”。如何使用`createSet()`创建集合？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T13:17:24.700

用于分组形状的 API 仅作为内部 API 可用（装饰对象）。

对不起。

# php - 错误 310 (net::ERR_TOO_MANY_REDIRECTS)：重定向太多。

> ID：11256325
> 
> 赞同：0
> 
> 时间：2012-06-29T05:05:00.953
> 
> 标签：php, wordpress

我已经上传了 wordpress 文件，当我访问我的域时出现此错误... 错误 310 (net::ERR_TOO_MANY_REDIRECTS)：重定向太多。

[http://www.ikirsha.com](http://www.ikirsha.com)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:16:37.167

几点建议——

1.  您是否将 [wp-prefix]_options 表中的 siteurl 和 home 选项（option_name 列）从[http://domain.com](http://domain.com)更改为[http://www.domain.com](http://www.domain.com)？
2.  检查您的 htaccess 文件..是否正确配置
3.  上传的时候先列出deactivate plugins，看看是不是因为任何插件
4.  您是否禁用或阻止了本网站要求的 cookie？检查浏览器设置

检查这些要点并告诉我

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-03T20:02:08.447

我以前遇到过这个问题。尝试重置您的永久链接。将您的 .htaccess 代码重写为：

```
<IfModule mod_rewrite.c> 
RewriteEngine On 
RewriteBase / 
RewriteRule ^index\.php$ - [L] 
RewriteCond %{REQUEST_FILENAME} !-f 
RewriteCond %{REQUEST_FILENAME} !-d 
RewriteRule . /index.php [L] 
</IfModule> 
```

它应该将其设置为默认永久链接。

# java - 如何使用 ASM 检查方法的局部变量？

> ID：11256326
> 
> 赞同：2
> 
> 时间：2012-06-29T05:05:16.813
> 
> 标签：java

如何使用[ASM](http://asm.ow2.org/)检查方法的局部变量？我知道使用反射是不可能的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:47:15.063

[http://asm.ow2.org/eclipse/index.html](http://asm.ow2.org/eclipse/index.html)

> 如果“与编辑器链接”打开，那么 Java 编辑器中的任何选择都将跟随选择适当的字节码标签，反之亦然。

**注意：**只有当您的字节码包含源代码行/局部变量信息时，这种双向选择才有效。如果您不确定您的编译器是否生成调试信息，请检查您的编译器设置。

如果 " `show raw bytecode`" 关闭，则将显示局部变量名称而不是索引，将完全限定名称替换为简单的类名称，并将原始类型缩写解码为可读名称。

如果“ `show current element only`”打开，则仅显示当前字段/方法节点的字节码（如果光标位于字段/方法名称或正文中）。

[作者主页](http://andrei.gmxhome.de/bytecode/index.html)（来源）中提供了更多详细信息。

# regex - 正则表达式模式

> ID：11256330
> 
> 赞同：-3
> 
> 时间：2012-06-29T05:05:28.263
> 
> 标签：regex

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T05:35:57.243

您可以使用 XPath 以完全防弹的方式做到这一点：

```
//*[local-name()='a' and count(@*)>0 and *[local-name()='img' and count(@*)>0] and count(.//*)=1 and normalize-space(.)=''] 
```

这将选择本地名称为“a”且没有非重要文本内容、属性的所有元素以及具有属性的单个“img”元素。

但是，由于您的示例代码显然是带有名称空间的 XML 和所有，也许您可​​以重新表述您的问题以说出您的总体任务是什么，而不是“我应该使用什么正则表达式”。至少，您似乎应该关注这些名称空间，而不是将名称空间声明视为属性。

例如，也许你真正的意思是这个？

```
//xhtml:a[@xlink:href and xhtml:img[@xlink:href] and count(.//*)=1 and normalize-space(.)=''] 
```

# php - 如何使用 PHP 授予在在线网络服务器中创建和删除文件夹的文件权限

> ID：11256335
> 
> 赞同：0
> 
> 时间：2012-06-29T05:05:47.287
> 
> 标签：php, codeigniter

谁能告诉如何授予或设置在网络服务器中创建和删除文件夹的文件权限！

创建文件夹

```
 mkdir("FolderName", 0755, true); 
```

删除文件夹

```
 $files = glob("FolderName" . '*', GLOB_MARK );
chmod("FolderName", 0777);
foreach( $files as $file ){
    if( substr( $file, -1 ) == '/' )
        delTree( $file );
    else
        unlink( $file );
}
rmdir( "FolderName" ); 
```

问题是我可以在本地服务器中创建和删除文件夹，但我无法在在线服务器中执行此操作？那么谁能告诉如何使用php通过代码启用权限？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T05:13:52.957

在 Linux 中，您希望包含您正在创建的目录的主目录与您的 Web 服务器的用户名和密码相同，在这种情况下，我猜是 Apache。通常它类似于 www-data.www-data - 所以你可以运行：

chown www-data.www-data

chmod 664

如果您仍然遇到问题，请尝试在 /tmp 中创建您的目录 - 虽然这不是永久解决方案，但它会让您知道您的代码是否正常工作。

# html - 纯 CSS 下拉菜单边框仅在外部

> ID：11256339
> 
> 赞同：5
> 
> 时间：2012-06-29T05:06:25.203
> 
> 标签：html, css, border, drop-down-menu

我正在制作一个纯 css 下拉菜单（此处的代码：http: [//jsfiddle.net/SeXyv/7/](http://jsfiddle.net/SeXyv/7/)），我希望只在外面有一个边框，而不是在项目之间。

我遇到的问题是 js.fiddle 示例中“主题”和“子主题 1”之间的边界。我可以在两者之间找到一个边界，但我只希望它在右上角作为轮廓，而不是直接在两个链接之间（金色和灰色相遇的地方）

有谁可以帮我离开这里吗？

谢谢

编辑：这是我想要的边框的图片，用红色圈出的部分，一旦到达上面的标签，边框就会停止： [http ://tinypic.com/view.php?pic=300ehxt&s=6](http://tinypic.com/view.php?pic=300ehxt&s=6)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-29T05:49:47.440

基本上，您在下拉菜单中的最后一个元素上放置下边框，在第一个元素上放置上边框，然后让触发下拉菜单的元素具有比菜单更高的 z-index，然后将菜单向上推菜单

```
#menu li:hover a {/*increace the z-index over that of the menu*/
    ...
    position:relative;
    z-index:5;
}
#menu li:hover li:first-child a{/*first menuitem gets a top border */
    border-top:2px black solid;
}
#menu li:hover li:last-child a{/*last menuitem gets a bottom border */
    border-bottom:2px black solid;
}
#menu li:hover ul{/* move up menu to cover up part of top border*/
    position:relative;
    top:-2px;
} 
```

[http://jsfiddle.net/SeXyv/14/](http://jsfiddle.net/SeXyv/14/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:18:57.603

添加`<li style="z-index: 5"><a href="#" class="bordertest" >Topic</a>`到您的 HTML。并添加所需的类。

[在这里工作小提琴](http://jsfiddle.net/SeXyv/13/)

调整角等。

# ios - iOS iPad panic 崩溃日志解读

> ID：11256343
> 
> 赞同：1
> 
> 时间：2012-06-29T05:07:17.843
> 
> 标签：ios, crash, panic

谁能帮我解释这个恐慌崩溃日志？这发生在许多图像的旋转过程中......如果有帮助的话，它涉及到javascript。

```
Incident Identifier: AD3EB83A-2379-4876-BCB3-6C9A4B5DC862
CrashReporter Key:   e580be25a4b36b96f0d033b88c3cfebf6232e309
Hardware Model:      iPad2,1
Date/Time:       2012-06-27 14:26:41.182 +0200
OS Version:      iPhone OS 5.1.1 (9B206)

panic(cpu 1 caller 0x801c6fdb): mbuf_watchdog: 4 waiters stuck for 12 secs
13872/13872 mbufs in use:
    13868 mbufs allocated to data
    4 mbufs allocated to packet headers
13748/13748 mbuf 2KB clusters in use
0/122 mbuf 4KB clusters in use
31452 KB allocated to network (approx. 98% in use)

mbuf leak detection table:
    total captured: 31701 (one per 500)
    total allocs outstanding: 42
    new hash recorded: 27032 allocs, 26944 traces
    hash collisions: 18 allocs, 4669 traces
    overwrites: 26449 allocs, 0 traces
    lock conflicts: 0

top 5 outstanding traces:
[1] 29 outstanding alloc(s), 30 hit(s), 1 collision(s)
[2] 5 outstanding alloc(s), 26 hit(s), 0 collision(s)
[3] 3 outstanding alloc(s), 2546 hit(s), 0 collision(s)
[4] 3 outstanding alloc(s), 1844 hit(s), 0 collision(s)
[5] 1 outstanding alloc(s), 4662 hit(s), 4661 collision(s)

    trace [1]   trace [2]   trace [3]   trace [4]   trace [5]  
    ----------  ----------  ----------  ----------  ---------- 
 1: 0x801bff71  0x801bff71  0x801bff71  0x801bff71  0x801bff71  
 2: 0x801b0df3  0x801b0df3  0x801b0e2b  0x801b0df3  0x801b0df3  
 3: 0x801bf8b5  0x801c12db  0x801c12db  0x801bf871  0x801b0f39  
 4: 0x801b0c67  0x801c9517  0x801c9517  0x801b0c67  0x801c08bb  
 5: 0x801c12db  0x801cece3  0x801cece3  0x801c12db  0x802b7855  
 6: 0x801c9517  0x801ceb05  0x801ceb05  0x801c9517  0x801be739  
 7: 0x801cece3  0x801e1bd8  0x801e1bd8  0x801cece3  0x8010e8d5  
 8: 0x801ceb05                          0x801ceb05  0x802b91f5  
 9: 0x801e1bd8                          0x801e1bd8  0x802b937f  
10:                                                 0x802b8591  
11:                                                 0x8002425b  
12:                                                             
13:                                                             
14:                                                             
15:                                                             
16:                                                             

Debugger message: panic
OS version: 9B206
Kernel version: Darwin Kernel Version 11.0.0: S 
```

感谢您的任何见解。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-01T11:00:43.420

您应该使用工具来检查内存分配和内存泄漏。也可能是应用程序太长时间没有响应并被杀死，文本`4 waiters stuck for 12 secs`可能表明这一点。崩溃报告的内容和格式非常独特，还没有见过。所以这些只是猜测。

# java - Java Servlet 和 Jquery

> ID：11256349
> 
> 赞同：2
> 
> 时间：2012-06-29T05:08:06.303
> 
> 标签：java, jquery, servlets

我目前正在制作一个`Java Servlet`可以*响应 jquery 调用*并发送回我的网页使用的数据。但这只是使用该`doGet`方法的响应。

有没有办法在 a 中有多个方法`Servlet`并分别用 调用它们`JQuery`？

即有一个名为Hello 的方法，它返回一个字符串“Hello”，另一个名为Bye 的方法返回一个字符串“Bye”。有没有办法使用*Jquery*或其他一些技术来做这种事情？

我对 servlet 很陌生，所以我仍然不确定它们完全能够做什么。那么`doGet`“进入”的唯一方法是什么，而我只是从那里分支响应？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T05:11:31.633

使用 Servlet，您可以调用服务方法，因此对于您的场景，您可以传递参数来决定从哪个方法调用`doGet()`

您还可以使用标头检查来识别请求是否来自 AJAX

还有其他可用的技术可以让您直接调用方法参见 JSF、DWR

**看**

*   [如何在不渲染页面的情况下使用 Openfaces/JSF 调用方法？](https://stackoverflow.com/questions/6128065/how-to-invoke-a-method-with-openfaces-jsf-without-rendering-page)
*   [如何通过单击html页面中的菜单从jsp调用java方法？](https://stackoverflow.com/questions/10983961/how-to-call-a-java-method-from-jsp-by-clicking-a-menu-in-html-page)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:40:33.780

Servlet 容器`Http`从 Servlet 3.0 开始支持自定义方法。例如，

```
public void doHello(HttpServletRequest req, HttpServletResponse res) {
   //implement your custom method
} 
```

Servlet 中的上述方法可以使用`hello`http 方法调用。

但我不确定是否`jquery`支持调用自定义 HTTP 方法。

如果它没有，那么你唯一的选择。

*   使用 GET 和 action 参数调用 Servlet。
*   读取动作参数并使用反射调用方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T05:23:34.630

我个人在我的控制器（servlet）中使用反射，这基本上让我实现了这一点。

如果我有一个名为 UserController 的 servlet

调用 servlet 的主 url 将是 /user。知道了这一点，我总是将我的第一个参数传递为 ?action=add

然后在我的 servlet 中，我有一个名为 add 或 actionAdd 的方法。无论您喜欢哪个。

然后我使用以下代码；

```
String str = String str = request.getParameter("action").toLowerCase();
Method method = getClass().getMethod(str, HttpServletRequest.class, HttpServletResponse.class);
method.invoke(this, request, response); 
```

解释：

str 将具有动作参数值，在这种情况下添加。方法方法将是对具有给定名称（str）及其预期参数类型的方法的引用。

然后我调用该方法，传递上下文、请求和响应。

add 方法看起来像这样；

```
public void add(HttpServletRequest request,HttpServletResponse response) throws ServletException, IOException { 
    //do add stuff

        String url = "/user/index.jsp";
        RequestDispatcher dispatcher = context.getRequestDispatcher(url);
        request.setAttribute("User", user);
        dispatcher.forward(request, response); 
} 
```

我不知道只传回一个字符串。但这应该让你有一个基本的想法。

**请注意，反射可能会让您付出代价，尽管它不应该像这样真正影响您。由于方法名称/签名需要完美匹配，因此很容易出错。**

所以从 jquery 你会做一个 ajax 请求到 url：

```
 localhost/projectname/user/add (if you use urlrewrite)
 or
 localhost/projectname/user?action=add (if you dont) 
```

# ios - 关于 MKAnnotation 和 NSString 内存泄漏问题的建议

> ID：11256351
> 
> 赞同：1
> 
> 时间：2012-06-29T05:08:25.053
> 
> 标签：ios, xcode, memory-management, memory-leaks, mkannotation

我正在制作一个应用程序，在地图上显示用户以及多个餐厅列表。当用户点击一个图钉时，它会存储注释中的坐标，并将它们与用户进行比较，以确保它们不同。一旦确定它们不同，它就会将商家的坐标和用户的坐标一起发送给 Google 以请求方向。代码工作正常，但为了做到这一点，我必须以导致内存泄漏的方式声明一些变量。我希望清理代码并了解我出错的地方以及应该处理的正确方法。

所以下面是我从被点击的注释中获取坐标的代码。如果我尝试初始化 selectedAnnotation 并`viewDidLoad`通过 put`selectedAnnotation = [[MapLocation alloc] init];`然后分配它的内存，它仍然显示为内存泄漏。作为参考，`selectedAnnotation`是一个 MapLocation（符合 MKAnnotation）变量，作为一个属性，我拥有它（非原子，保留）和@synthesize（d）。

我以为只要在内存中分配，只要在viewDidUnload中将其值设置为nil并在dealloc中释放，就应该没有内存问题。我错过了什么？下面是我在 viewDidLoad 中为 selectedAnnotation 分配内存时内存泄漏的屏幕截图以及下面提供的代码。如果我已经分配了内存，并检查变量是否存在，为什么还要为变量分配内存？这发生在我点击的任何餐厅 pin 上，但显然不是在用户的 pin 上，因为在这种情况下我有释放它的代码。

![在此处输入图像描述](../Images/2f01df3757fcf6d1d7971349ba4cc124.png)

```
-(void)mapView:(MKMapView *)mapView didSelectAnnotationView:(MKAnnotationView *)view
{
     //NSLog(@"Selected annotation view");

     // if we don't have the place holder already allocated
     // lazy load the MapLocation placeholder variable
     if(!selectedAnnotation)
     {
         selectedAnnotation = [[MapLocation alloc] init];
     }

     // save the annotation clicked 
     selectedAnnotation = view.annotation;

     // if the annotation selected was is the same as the user's location
     if((selectedAnnotation.coordinate.latitude == savedUserLocation.coordinate.latitude) &&      (selectedAnnotation.coordinate.longitude == savedUserLocation.coordinate.longitude))
     {
         // set it to nil and release it
         selectedAnnotation = nil;
         [selectedAnnotation release];
     } 
} 
```

我在使用以下方法时遇到了类似的内存问题。我从 Google 引入 JSON 数据，以提取用户位置的地址和坐标以显示在 AnnotationView 中。我创建了所有必要的数组和字典来访问信息，但是一旦我为它们分配内存并将它们的值分配给savedUserLocation，如果我尝试释放说NSDictionary变量userLocation，即使作为此方法中的最后一行代码，应用程序因`"[CFDictionary release]: message sent to deallocated instance 0x83ccb60"`. 我很确定这是因为我`savedUserLocation`通过指针设置值，一旦内存被释放，信息就不再存在，那么将内存分配/释放到我可以访问信息的位置的正确方法是什么，不会导致内存泄漏？我也尝试过使用`autorelease`，但同样的问题仍然存在。

这是放置用户密码的代码。

```
 - (void)fetchedData:(NSData *)responseData 
{
    //parse out the json data

   NSError *error;
    NSDictionary *json = [NSJSONSerialization 
                          JSONObjectWithData:responseData //1

                          options:kNilOptions 
                          error:&error];

    NSArray *results = [json objectForKey:@"results"]; //2
    NSUInteger counter = [results count];

NSDictionary *userLocation = [[NSDictionary alloc] init];
//NSString *address = [[NSString alloc] init];                           
for(NSUInteger i=0; i < counter; i++)
{
    userLocation = [results objectAtIndex:i];

    // 2) Get the funded amount and loan amount
    NSString *address = [[NSString alloc] initWithString:[userLocation objectForKey:@"formatted_address"]];
    NSArray *types = [userLocation objectForKey:@"types"];
    NSDictionary *geometry = [userLocation objectForKey:@"geometry"];
    NSDictionary *location = [geometry objectForKey:@"location"];
    float lat = [[location objectForKey:@"lat"] floatValue];
    float lon = [[location objectForKey:@"lng"] floatValue];

    CLLocationCoordinate2D newCoordinates;
    newCoordinates.latitude = lat;
    newCoordinates.longitude = lon;

    // count how many types there are
    NSUInteger numberOfTypes = [types count];
    NSString *type = [[NSString alloc] init];

    for(NSUInteger j=0; j < numberOfTypes; j++)
    {
        type = [types objectAtIndex:j];

        if([type rangeOfString:@"street_address" options:NSCaseInsensitiveSearch].location != NSNotFound)
        {
            NSLog(@"%@", address);  
            if(!savedUserLocation)
            {
                savedUserLocation = [[MapLocation alloc] init];
            }

            [savedUserLocation setTitle:@"You are here!"];
            [savedUserLocation setSubtitle:address];
            [savedUserLocation setCoordinate:newCoordinates];
        }
    }
}

// determine which location is closest to the user by calling this function
MapLocation *closestLocation = [self determineClosestLocationToUser:allLocations locationOfUser:savedUserLocation];

// send in the user location and the closest store to them to determine appropriate zoom level and 
// to center the map between the two
[self determineMapCenterAndZoomLevelFromUser:savedUserLocation andClosestLocation:closestLocation];

if(!pinDropped)
{
    // add the annotation to the map and then release it
    [mapView addAnnotation:savedUserLocation];
    pinDropped = true;
    }
} 
```

感谢您提供任何和所有帮助/建议/建议。我真的很想了解我做错了什么的具体细节，因为我认为我对它有相当不错的把握。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T13:43:13.750

在`didSelectAnnotationView`中，您有以下代码：

```
selectedAnnotation = nil;
[selectedAnnotation release]; 
```

这会导致内存泄漏，因为您正在*设置*`selectedAnnotation`然后`nil`调用它。 *`release`*

 *调用`release`什么都不做，因为`selectedAnnotation`在`nil`那个时候，调用`nil`什么也不做。这意味着已分配的内存永远不会释放，但由于指针变量已设置为`nil`，当`didSelectAnnotationView`再次调用时，您的代码会分配一​​个新对象。

您应该切换两个语句的顺序（`release` *先**调用然后*设置为`nil`）。

***但是***，您不需要分配新对象只是为了保留对“选定注释”的引用。

声明一个常规 ivar（不是保留属性）并将其设置为等于所选注释应该可以工作。

此外，地图视图已经有一个名为的属性`selectedAnnotations`，您应该可以使用它（因此您不需要维护自己的 ivar 或属性）。地图视图的属性是 an`NSArray`但总是包含 0 或 1 个对象。`count`在访问索引 0 处的对象之前，请务必检查它。

在中，您有几个由不必要的调用`fetchedData`引起的内存泄漏。 它们不是必需的，因为在调用之后，您将直接为刚刚为其分配内存的指针分配一个新的引用。`alloc`
`alloc`

例如，`userLocation`is `alloc`'d 在 for 循环之前，但在循环内部，您直接将该变量指向`results`数组中的一个对象。

这意味着最初分配给`userLocation`它的内存在没有引用的情况下被废弃。当您尝试调用`release`on 时`userLocation`，它正在尝试释放未由 in 中的代码分配的对象`fetchedData`。

至少要修复`userLocation`，只需声明变量而不是`alloc`//它`init`。`release`

变量`address`和`type`( `NSString`) 有类似的问题。*

# visual-studio-lightswitch - 在 Lightswitch 中，如何添加引用视图的新实体？

> ID：11256353
> 
> 赞同：0
> 
> 时间：2012-06-29T05:08:36.267
> 
> 标签：visual-studio-lightswitch

我正在尝试创建一个简单的 Lightswitch 应用程序，其中包含一个表（“事务”实体）和一个视图（“发票”实体）。在这种情况下，Invoices 视图是通过 Transactions.InvoiceId 分组从 Transactions 表生成的。然后视图通过一对多关系引用表，这样 Invoice 在 Transaction 上显示为导航属性，而 Transactions 在 Invoice 上显示为导航属性。一切都 100% 完美运行，直到我尝试创建新事务并保存它，此时 Lightswitch 中的验证规则会触发“发票：引用的发票未设置或不再存在”。发票不存在是正确的——我要保存的交易将是新发票的第一个。

目前，我正在通过处理 Saving 事件并在我自己的 DataWorkspace 中手动创建 Transaction 来规避这个问题，但这感觉就像是 hack，并且不允许我针对我的 Transaction 实体中的其他字段使用 Lightswitch 的内置验证。

有什么办法可以告诉 Lightswitch 跳过对 Invoice 导航属性的验证，但保持其他属性不变？或者还有其他方法可以完成我想做的事情吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-30T06:45:08.147

您提到的 Saving 事件是 Invoice_Saving 方法？

您的关系为发票提供了“交易”导航属性。这就是您需要创建新交易的方式，在 Incoice_Saving 方法中，添加：

VB: Me.Transactions.AddNew()

C#：this.Transactions.AddNew();

如果您这样做，则发票尚未保存并不重要，在保存过程中将全部处理。

# javascript - 在页面选项卡中加载时，Javascript SDK 不返回页面 id、管理员、喜欢

> ID：11256355
> 
> 赞同：0
> 
> 时间：2012-06-29T05:08:53.660
> 
> 标签：javascript, facebook

使用 FB.login 登录时，response.authResponse 不包含 ID、admin、like 的 page 属性。

但是，如果我们在 PHP 中加载页面，它确实会将其包含在签名请求 (getSignedRequest) 中。

我认为它使用 javascript 可以正常工作。

问题是，如果您主要开发一个 javascript 应用程序，那么除非您使用服务器，否则您将无法检测到该页面。使用 javascript 登录后需要刷新，以便服务器可以解析签名的请求。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T08:02:13.117

> 使用 javascript 登录后需要刷新，以便服务器可以解析签名的请求。

不一定是“刷新”——AJAX 请求也可以。

> 有任何想法吗？

如果在您的情况下往返服务器不可行，您还可以在客户端解析签名的请求 - 对于 base64 解码，现代浏览器知道该方法`window.atob`，而对于旧浏览器，您可以从 Web 获取脚本来执行此操作。不过，这只是对签名的请求进行*解码，而没有实际**验证*它。如果您也需要这样做，则必须使用服务器端方法，因为这需要您的应用程序密码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-31T06:23:38.017

如果您想使用 Javascript api 获取已签名的请求，您可以使用它`FB.getLoginStatus()`来检索已签名的请求。也就是说，如果用户登录到您的应用程序/网站。如果没有，您可以调用 FB.login 方法。我试过这个方法：

```
<script type="text/javascript">

            window.fbAsyncInit = function() {
                FB.init({ appId: 'YOUR_APP_ID', //change the appId to your appId
                    status: true, 
                    cookie: true,
                    xfbml: true,
                    oauth: true});

               function updateButton(response) {

                 console.log(response); 

                 if(response.status == 'connected'){
                     //alert('Yes Connected');

                    console.log(response.authResponse.signedRequest);  
                    //This log can be seen through the firebug extention in console tab 
                 }
                 else{
                     alert('Not Connected');
                 }

                }

                // run once with current status and whenever the status changes
                FB.getLoginStatus(updateButton);

            };

            (function() {
                var e = document.createElement('script'); e.async = true;
                e.src = document.location.protocol 
                    + '//connect.facebook.net/en_US/all.js';
                document.getElementById('fb-root').appendChild(e);
            }());

        </script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-05T00:48:16.290

Can't be done. Facebook only sends the page tab info to the server as part of the signed request get variable.

# matlab - Matlab原生方法消除xy点

> ID：11256356
> 
> 赞同：2
> 
> 时间：2012-06-29T05:08:53.473
> 
> 标签：matlab

所以我有一组两个 x、y、z 点列表。

```
List1 and List2. 
```

我想删除 List1 中存在的所有点，这些点也存在于 List2 中。在此示例中，List2 中的大多数点（可能 100%）将存在于 List1 中。例子：

清单 1

```
1, 2, 3
4, 5, 6
7, 8, 9 
```

清单2

```
7, 8, 9 
```

输出

```
1, 2, 3
4, 5, 6 
```

这将发生在每个列表大小的数千个点上。显然，这可以通过遍历 List2 并搜索时间为 O(n*m) 的列表 1 来完成。有没有更快、更原生的 matlab 方法来做到这一点？

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-29T05:19:18.603

尝试： `SETDIFF(List1, List2, 'rows')`

（我不知道这有多有效，但由于它是一种本机方法，它可能已经过优化。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-29T05:29:50.880

@Turix 的`setdiff`选项应该有效。另一种选择（只是为了踢）是

```
List1(~ismember(List1,List2,'rows'), :); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-29T19:21:30.747

我发现了一种稍微快一点（虽然不太通用）的方法来做到这一点。第一个答案，请耐心等待我学习格式化...

我没有发现值得注意的缩放效果，因此我将使用以下 Lists 对象作为示例：

```
example_step=3;
max_value_outer=example_step*333;
max_value_inner=example_step*33;
List1=[1:example_step:max_value_outer; 2:example_step:max_value_outer; 3:example_step:max_value_outer]';
List2=[1:example_step:max_value_inner; 2:example_step:max_value_inner; 3:example_step:max_value_inner]'; 
```

Turix 的内置 setdiff 调用提供了迄今为止最好的结果，在不到 3 秒的时间内运行以下代码块：

```
tic; 
  for i=1:10000 result=setdiff(list1,list2,'rows'); 
  end;
toc
>> Elapsed time is 2.821303 seconds. 
```

但是，如果您的示例数据集代表您的数据是向量、整数并且在合理有限的范围内的事实，那么您可以通过使用 sub2ind 比较等价的线性索引而不是三元组来加快速度，如下所示：

```
range=max_value_outer*ones(1,3);
[c,ia] = setdiff(sub2ind(range,List1(:,1),List1(:,2),List1(:,3)), sub2ind(range,List2(:,1),List2(:,2),List2(:,3))); result=List1(ia,:);
  result=List1(ia,:); 
```

如果您运行 10,000 次以按行与直接 setdiff 进行比较，您会得到这个

```
tic;
for i=1:10000 
  range=max_value_outer*ones(1,3); 
  [c,ia] = setdiff(sub2ind(range,List1(:,1),List1(:,2),List1(:,3)), sub2ind(range,List2(:,1),List2(:,2),List2(:,3))); 
  result=List1(ia,:); 
end; 
toc
>> Elapsed time is 2.285992 seconds. 
```

因此 setdiff(,,'row) 的执行时间减少了 %20 左右，而 for 循环实现减少了大约 98%（未显示）。根据您的数据的具体情况，我可以想到一些可能会进一步加快速度的想法。例如，如果您正在考虑的 maximum_value 与内存相比相对较小，您可以通过将样本空间映射到内存来利用线性索引，然后使用 List1 中的线性索引设置高位，然后使用 List2 中的设置来设置他们低。任何保持高位的位都将在 List1 上，但不在 List2 上。[这里](http://www.mathworks.com/matlabcentral/fileexchange/4518-matlab-graphviz-interface/content/my_setdiff.m)有一个简化版本，尽管我不保证该实现。

希望有帮助！

# java - 为什么我的对象的颜色随机变化？

> ID：11256357
> 
> 赞同：0
> 
> 时间：2012-06-29T05:09:09.197
> 
> 标签：java, colors

我的容器中有一个对象的两个副本，它们是同步的（不是 Java 意义上的，只是因为无论我对一个对象做什么，我也对另一个对象做）。他们都描绘出使用箭头键绘制的图案。
问题是颜色偶尔会随机恢复为黑色，这是不可预测的（对于两个对象来说不是同时）。这是我认为所有相关的代码；肯定所有时间 setColor 被称为：

```
public class UserRavelDialog extends Component implements Runnable {
...
in init():
colors = new Color[] { 
            new Color (245, 240, 80),   //set colors for the elements
            new Color (100, 50, 50),    
            new Color (255, 0, 0),      
            new Color (255, 0, 200),    
            new Color (0, 0, 200)};     

    bb.setColor(colors[0]);  //bb is the backbuffer graphics object

public void render(){    //this draws the current color around a black cursor, or white if inactive
    Color temp = bb.getColor();

    if(temp.equals(Color.black))
        System.out.print("!");

    if (!isActive)
        bb.setColor(Color.white);
    bb.fillRect((int)p.x - 1, (int)p.y - 1, 3, 3); //p is a Point2D.Double for the cursor position
    bb.setColor(Color.black);
    bb.fillRect((int)p.x, (int)p.y, 1, 1);
    bb.setColor(temp);

    update(getGraphics());
}

private void toggleColour(int arg) {
    if (arg < colors.length)
        bb.setColor(colors[arg]);
}

public void keyPressed(KeyEvent e){
for (int i = 0 ; i < colors.length ; i++){
            if (e.getKeyCode() == keys[i+9])
                toggleColour(i);
        }
} 
```

因此，当我创建可能的颜色选项时，在 init 中调用 setColor，当用户按下键更改颜色时，在 toggleColour 中调用 setColor，它用于渲染，但总是重新设置为当前颜色。

奇怪的是，`if (temp.equals(Color.black))`当翻转发生时条件被输入，所以看起来好像`bb.setColor(temp)`刚刚没有发生在之前的渲染中......
为什么会发生这种情况，我该如何解决它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T06:02:52.813

这个解决方案解决了这个问题，即使我不明白为什么原始程序不起作用。
如果您创建一个（全局）Color 变量，并在 init 和 toggleColour 中设置此变量，您可以在 render 中使用它，您无需担心 temp 变量（您想要返回的唯一颜色实例）不知何故迷路了。所以：

```
in init():
currColor = colors[0];
bb.setColor(currColor);

public void render(){
    if (!iActive)
        bb.setColor(Color.white);
    bb.fillRect((int)p.x - 1, (int)p.y - 1, 3, 3);
    bb.setColor(Color.black);
    bb.fillRect((int)p.x, (int)p.y, 1, 1);
    bb.setColor(currColor);

    update(getGraphics());
}
private void toggleColour(int arg) {
    if (arg < colors.length) {
        currColor = colors[arg];
        bb.setColor(currColor);
    }
} 
```

# php - 强制下载并加载新页面

> ID：11256360
> 
> 赞同：0
> 
> 时间：2012-06-29T05:09:46.253
> 
> 标签：php, redirect, header, download, refresh

我希望这个问题足够简单。

我正在使用以下类型的代码强制下载：

```
if ($ext = ppt){                        
header("Content-disposition: attachment; filename= '$filename'");
header('Content-type: application/vnd.ms-powerpoint');
readfile('$file'); 
```

但是，我真正需要的是强制下载并重定向到新页面。

上一个脚本当前位于我要重定向到的页面上。我有那个页面的链接。我想要的是，当用户去他们的时候，它会强制下载。但是，现在我得到的是，用户看到页面的 INSTEAD 只强制下载。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T05:25:48.650

正如您所收集的，启动下载将有效地阻止您在该脚本之外执行任何操作。

您最好的选择是使下载脚本成为一个单独的页面，然后从您的链接加载新页面。然后从新页面，在新窗口/标签中打开下载页面（[这个答案](https://stackoverflow.com/a/1066461/628267)是一个很好的例子）。这是大多数下载站点的工作方式，例如 Sourceforge。

# php - 如何让我的朋友从我的网站在我的 Facebook 页面墙上发帖？

> ID：11256361
> 
> 赞同：0
> 
> 时间：2012-06-29T05:09:48.567
> 
> 标签：php, javascript, facebook, facebook-graph-api, facebook-javascript-sdk

好的，这个问题很简单：我有一个 facebook 页面和一个网站。人们可以在 facebook 页面墙上发布东西（显然），我想在我的网站上放一个按钮，让他们在我的 facebook 墙上发布（消息或图片）。

编辑：我尝试使用评论框，它不允许用户直接发布到我的 Facebook 页面墙（这是我想要的）。

编辑：我目前正在使用[post 对象调查已弃用的 facebook 功能](http://developers.facebook.com/docs/reference/api/post/)

有任何想法吗 ？任何事情，即使是远程连接到我如何做到这一点，都受到高度赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T05:48:00.987

听起来有点冒险的操作；评论框（由 l​​oler 建议）是最安全的，因为它包含在内。

但如果你必须继续前进，你应该能够做到。警告-除非您以其他方式审核帖子，否则不建议这样做-让其他人在您的墙上发帖可能违反条款和条件，因此请先检查！

1.  为自己创建一个“应用程序”
2.  登录到您自己的应用程序，使令牌成为长期存在的令牌并存储该令牌。
3.  （请记住定期延长您的令牌以防止它在 60 天后用完）。

然后，分别：

1.  创建一个接受要发布到 Facebook 的详细信息的 PHP 表单（或其他页面）
2.  然后通过 PHP 使用 Graph API 使用您保存的令牌（以及您的应用程序凭据）发布。

不要通过 Javascript 执行此操作，因为您需要访问令牌，并且您不想向世界透露它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-29T05:14:24.923

Facebook推出[Facebook评论框](http://developers.facebook.com/docs/reference/plugins/comments/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-02T20:13:41.207

为了澄清一点，我想在我的 facebook 页面上使用“发布”按钮，让任何用户使用我的 facebook 应用程序直接发布到我的 facebook 页面墙上。如果你想这样做，这是你需要做的

1) 获得应用程序代表他们发布的权限。为此，需要将用户重定向到：

```
https://www.facebook.com/login.php?api_key=<your-api-key>&
cancel_url=<your-cancel-url>&display=popup&
fbconnect=1&next=<your-success-url>&
return_session=1&session_version=3&v=1.0&req_perms=email%2Cpublish_stream 
```

2) 初始化 Facebook Javascript SDK 后，使用以下函数：

```
FB.api('/mypage/feed', 'post', { body: 'the body', message: 'some-text' }, function(response) {
        if (!response || response.error) {
            alert('Error occured');
        } else {
            alert('Post ID: ' + response);
        }
        }); 
```

# sip - SDP sendonly 是指在这种情况下打开一个 RTP 音频流吗？

> ID：11256362
> 
> 赞同：1
> 
> 时间：2012-06-29T05:09:50.023
> 
> 标签：sip, sdp, freeswitch

我是 sip/sdp 世界的新手。
根据我对 SDP 协议的理解，如果我们定义 a=sendonly 从 sip 服务器到客户端软电话，软电话应该打开一个 RTP 会话进行监听，但它不应该向目的地发送任何 RTP 数据包。我对么？

就我而言，我听不到任何声音进来，并且有一个 RTP 流可以上传音频。注意：我使用的是多播地址。

这是一个 SIP/SDP 转储（从服务器到客户端软电话）：

```
    SIP/2.0 200 正常
    通过：SIP/2.0/UDP 192.168.8.219:5060;branch=z9hG4bK-d8754z-b394381274917501-1---d8754z-;rport=5060
    来自：;tag=d67855ee
    收件人：;tag=KQQHgQ93Sjg1F
    呼叫 ID：YTExMzkwZDdhMGM1NTJmMDJlMGFiYjgxMGI1ZDNmMDI。
    CSeq: 2 邀请
    接触：
    用户代理：FreeSWITCH-mod_sofia/1.2.0-rc2+git~20120623T054003Z~65b2f2d2e7+unclean~20120623T083401Z
    接受：申请/sdp
    允许：邀请、确认、再见、取消、选项、消息、更新、信息、注册、参考、通知、发布、订阅
    支持：定时器、前置条件、路径、替换
    允许事件：talk、hold、presence、dialog、line-seize、call-info、sla、include-session-description、presence.winfo、message-summary、refer
    内容类型：应用程序/sdp
    内容处置：会话
    内容长度：265

    v=0
    o=FreeSWITCH 1340907341 1340907343 IN IP4 224.168.168.168
    s=自由开关
    c=IN IP4 224.168.168.168
    t=0 0
    a=只发送
    m=音频 34567 RTP/AVP 0 101
    a=rtpmap:0 PCMU/8000
    a=rtpmap:101 电话事件/8000
    a=fmtp:101 0-16
    a=silenceSupp:off - - - -
    a=ptime:20

```

我使用另一个软件电话在该地址和端口上多播声音（通过wireshark验证）。为什么我听不到声音？

顺便说一句，我使用的是 xlite 软件电话，服务器是 freeswitch。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-29T20:51:30.520

`a=sendonly`正如您所怀疑的那样，是单向流。服务器说它会发送数据，不会接收数据，所以客户端必须打开一个监听端口。你在做正确的事。

如果您没有收到音频，可能是时候拿出像[Wireshark](http://www.wireshark.org/)这样的分析工具来查看服务器是否真的在发送任何 RTP 数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-30T18:07:04.950

您为此通信配置多播地址是否有特定原因？

多播交付取决于您的网络如何为此做好准备。此外，如果您的本地以太网交换机配置为使用 IGMP Snooping，它们将不会传递任何多播流量，除非有来自客户端的显式 IGMP 加入消息。此外，客户端应该具有多播功能，以便能够开始接收特定多播组中的多播流量。

# perl - 随时间减小变量的值

> ID：11256365
> 
> 赞同：3
> 
> 时间：2012-06-29T05:10:03.603
> 
> 标签：perl

我想用 perl 编写一个脚本，为变量“10”定义一个值。然后，它将要求用户通过标准输入输入该变量的值。如果用户在固定的时间间隔内输入值，则取该值，否则通过取默认值 10 继续程序。

我不知道该怎么做。我想到了这样的事情.. $t = 120（120秒）每秒减少“$ t”的值，如果用户输入某个值然后退出循环并继续，否则当$ t变为0时，取默认值并继续。但是，我不知道如何随着时间的推移减少变量的值以及询问用户的输入。

我可以做到这一点，随着时间的推移减少变量的值，但在那之内，我无法接受输入。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-29T06:32:06.917

这是一个简单的示例，说明如何使用警报信号进行操作。

```
use strict;
use warnings;

my $input = eval {
    my $tmp;

    # this sub will be called after the timeout set by the alarm below
    local $SIG{ALRM} = sub {
        print "timeout - using default value 10\n";
        $tmp = 10;
    };

    print "enter input: ";
    alarm 10;    # wait for 10 secs
    $tmp = <>;
    alarm 0;     # turn off alarm if we got input within 10 secs
    $tmp;
};

print "the value is: $input\n"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T14:19:38.890

我认为您正在寻找[Prompt::Timeout](http://search.cpan.org/perldoc/Prompt%3a%3aTimeout)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-29T07:44:00.437

您*也可以使用***IO::Select**完成此操作

 **```
use strict;
use IO::Select;

my $value = 10;
my $obj = IO::Select->new(\*STDIN);
foreach my $hand ($obj->can_read(2)) {
    $value = <$hand> ;
}
print "value is :$value:\n" ; 
```**

# wcf - WCF 客户端与服务器通信时应用程序挂起

> ID：11256366
> 
> 赞同：0
> 
> 时间：2012-06-29T05:10:09.027
> 
> 标签：wcf, wcf-data-services, wcf-ria-services

我是 WCF 的初学者。当我运行应用程序时，它可以工作，但是当客户端与服务器通信时，应用程序挂起，当它开始通信时我无法在应用程序中做任何事情。你能提出一些想法来纠正这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T06:19:35.167

设置一个自己的线程来执行 WCF 调用，一种可能性是使用 Thread 类，请参阅 [http://msdn.microsoft.com/en-us/library/system.threading.thread.aspx](http://msdn.microsoft.com/en-us/library/system.threading.thread.aspx)

请注意，如果您处理/显示从 WCF 调用返回的结果，则必须采取特殊预防措施，因为这将在您的主 UI 线程之外（如果您不使用 SynchronizationContext 等...）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T08:55:47.140

WCF 数据服务客户端 API 内置了异步调用 WCF 数据服务的方法：http: [//msdn.microsoft.com/en-us/library/dd756365.aspx](http://msdn.microsoft.com/en-us/library/dd756365.aspx)

# codeigniter - 如何使用 CodeIgniter 在 HMVC 上的模块文件夹外加载模块？

> ID：11256372
> 
> 赞同：0
> 
> 时间：2012-06-29T05:11:08.533
> 
> 标签：codeigniter, module, hmvc

由于我没有在网上其他任何地方找到它，我希望我不是在问一个愚蠢的问题。

所以我的应用程序上有这个结构：

```
My APP
|_
  Controllers
|_
  Modules
  |_
    bar
  |_
    foo
|_
  Views 
```

我可以使用以下代码在 foo 的视图上加载 bar 模块：

```
<?php echo Modules::run('bar/bar/index'); ?> 
```

但是我无法使用上面的代码在 MyAPP 视图上加载相同的模块。

我错过了什么？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:07:17.033

那么你也可以这样做

```
<?php echo Modules::run('../bar/bar/index'); ?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T05:55:16.343

愚蠢的我，我在模块文件夹之外的所有控制器上扩展 CI_Controller 而不是 MX_Controller。希望这对其他人有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-06-30T11:27:36.810

如果您在内部模块控制器中扩展了 MX_controller，它将自动从根视图文件夹文件中呈现视图。

# grails - 如何重定向两个动作而不是一个动作

> ID：11256379
> 
> 赞同：-1
> 
> 时间：2012-06-29T05:12:13.583
> 
> 标签：grails

这是我的控制器：

```
def save = {
    def productNameInstance = new ProductName(params)
    if (pharmacyMasterUpdateCompositeService.addProductName(productNameInstance)) {
        flash.message = "${message(code: 'default.created.message', args: [message(code: 'productName.label', default: 'ProductName'), productNameInstance.id])}"
        redirect(action: "show", id: productNameInstance.id)
    }
    else {
        render(view: "create", model: [productNameInstance: productNameInstance])
    }
} 
```

其中 addProductName(productNameInstance) 正在调用另一个类中定义的服务。在这里，如果您看到重定向仅在操作时发生：“显示”，如果页面已创建。我的问题是如何在我的“打印”操作下载 pdf 文件的同时重定向两个操作，如“显示”和“打印”？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-06-29T09:29:39.633

您可以使用[链式](http://grails.org/doc/latest/guide/theWebLayer.html#redirectsAndChaining)方法。

```
def save = {
def productNameInstance = new ProductName(params)
if (pharmacyMasterUpdateCompositeService.addProductName(productNameInstance)) {
   //...        
  chain(action: "print", params: [id: roductNameInstance.id])
}
else {
    render(view: "create", model: [productNameInstance: productNameInstance])
}

def print = {
//...
chain(action: "show", params: params)
}

def show  = {  }

} 
```

# javascript - 检测方法何时在 javascript (event) 中运行

> ID：11256382
> 
> 赞同：0
> 
> 时间：2012-06-29T05:12:44.817
> 
> 标签：javascript, variables, inject

我希望在运行方法之前将变量注入页面。情况如下

```
CUSTOM JS CAN GO HERE

my.var = 'cake';
my.function(); 
```

我无权直接修改页面，但是页面顶部有一个内容区域，如果需要，我可以添加一些 JS。基本上我需要在 my.function() 运行之前用其他东西覆盖 my.var 变量。有没有办法做到这一点？（该站点正在运行 jQuery 1.4.2。

谢谢丹

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T05:19:58.443

> 基本上我需要在 my.function() 运行之前用其他东西覆盖 my.var 变量。有没有办法做到这一点？

```
var oldfunction = my.function;
my.function = function () {
    my.var = "whatever you want";
    oldfunction.apply(this, arguments);
} 
```

当然，如果`my`或`my.function`没有被您无法在调用之前直接修改的代码覆盖`my.function`（原样`my.var`）。

例如，在以下场景中：

```
///your code goes here

///code you cannot modify below
var my = {};
my.function = something;
my.var = 'cake';
my.function(); 
```

你想要的东西是不可能的（除非你能够以`something`同样的方式重新定义或其中的东西）。

基本上，在这种情况下，你唯一能做的就是写（假设`something`是`function () { alert(my.var) }`）

```
var oldalert = window.alert;
window.alert = function (message) {
    oldalert(message === 'cake' ? 'whatever you want' : message);
} 
```

嗯，你有一个想法。

**在两者之间注入**一些代码，从另一方面来说，是`my.var = 'cake';`不可能**的**。粗略地说，您可以在两个选项之间进行选择，即您的代码是在 之前还是之后执行。在之后但之前执行您的代码是不可能的（如果我们谈论的是生产环境；当然，如果您需要修改以进行调试，您可以使用调试器手动执行任何操作）。`my.function();`**`my.var = 'cake';``my.function();``my.var = 'cake';``my.function();``my.var`**

# asp.net-mvc-3 - 在 View Mvc3 中显示模型分配的名称

> ID：11256383
> 
> 赞同：0
> 
> 时间：2012-06-29T05:12:49.230
> 
> 标签：asp.net-mvc-3, viewbag

这是我的观点

```
@

using (Html.BeginForm("Display", "Home", @FormMethod.Post))
    {
    <div>Name:<a>@ViewBag.st</a><br /></div>
       <a></a>
    <div>City:<a>America</a></div>
    <br />
     <input type="submit" value="Submit" /> 
    <br />
    } 
```

这是模型类

公共类用户 { 私有字符串 m_name = string.Empty;

```
public string Name
{
    get
    {
        return m_name;
    }
    set
    {
        m_name = value;
    }
} 
```

}

这是我的控制器类

```
[HttpGet]
         public ActionResult Viewdetails()
         {
            User ur=new User();
            ur.Name = "Danny";
            ViewBag.st = ur.Name;
           return View();
         }

        [HttpPost, ActionName("Viewdetails")]
        public ActionResult Test()
        {
            return View();
        }
         [HttpPost]
         public ActionResult Display()
         {
             return View();
         }
    } 
```

现在如何在我的 Viewdetails.cshtml 中显示 Danny 而不是使用

```
@Viewbag 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-29T06:40:13.493

您可以使用输入字段，以便在提交表单时将其值发送到`Display`操作。另外，让我们清理一下您的代码并摆脱`ViewBag`.

所以你有一个很好的模型：

```
public class User
{
    public string Name { get; set; }
} 
```

然后你可以有一个带有 2 个动作的控制器 - 一个填充模型并将其传递给`Viewdetails.cshtml`视图，另一个动作在提交表单并呈现`Display.cshtml`视图时调用：

```
public class HomeController: Controller
{
    [HttpGet]
    public ActionResult Viewdetails()
    {
        User ur = new User();
        ur.Name = "SravanKumar";
        return View(ur);
    }

    [HttpPost]
    public ActionResult Display(User ur)
    {
        return View(ur);
    }
} 
```

然后在您的`Viewdetails.cshtml`视图中，您将使用模型来呈现输入字段而不是链接：

```
@model User
@using (Html.BeginForm("Display", "Home", FormMethod.Post))
{
    <div>Name: @Html.EditorFor(x => x.Name)</div>
    <div>City: Secunderabad</div>
    <br />
    <input type="submit" value="Submit" /> 
} 
```

在你的`Display.cshtml`视野内：

```
@model User
<div>Thanks for choosing the name: @Model.Name</div> 
```

# iphone - NSNotificationCenter 一篇帖子导致观察者被调用两次

> ID：11256389
> 
> 赞同：10
> 
> 时间：2012-06-29T05:13:15.207
> 
> 标签：iphone, objective-c, ios, ipad

我有以下代码：

```
 [[NSNotificationCenter defaultCenter] postNotificationName:kNewsfeedFetchCompleted object:self userInfo:userinfo]; 
```

只有这个，没有其他地方。这是我设置观察者的方式：

```
 [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(newsfeedFetchCompleted:) name:kNewsfeedFetchCompleted object:nil]; 
```

问题是当我发表一篇文章时，newsfeedFetchCompleted 被调用了两次。这怎么可能？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-06-29T05:18:43.877

当您的 addObserver 代码执行两次时，这是可能的。通知函数将在注册时被调用多次。

因此，请确保您添加观察者的代码只执行一次。因此，您可以将其保存在 viewDidLoad 或 init 方法中。

如果您将其放在 viewWillAppear 中，则在 viewWillDisAppear 中删除观察者。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-29T05:18:25.100

在添加观察者之前，请确保删除之前添加的观察者。

```
[[NSNotificationCenter defaultCenter]removeObserver:self];
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(newsfeedFetchCompleted:) name:kNewsfeedFetchCompleted object:nil]; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-29T05:17:48.827

`newsfeedFetchCompleted`如果您为通知多次添加了相同的观察者，则有可能。您应该将 addObserver 调用与 removeObserver 调用相匹配。

例如，如果您在 UIViewController 的 viewWillAppear/viewWillDidAppear/ViewDidLoad 中添加了观察者，则应该在 viewWillDisappear/viewDidDisappear/ViewDidUnload 中将其删除。

addObserver 的相应删除调用是`removeObserver:name:object:`

更多信息可以在[NSNotificationCenter 文档中找到](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/nsnotificationcenter_Class/Reference/Reference.html)

# java - 当 Tomcat 前面的 Apache HTTPD 时 WebSocket 连接中断

> ID：11256391
> 
> 赞同：7
> 
> 时间：2012-06-29T05:13:25.763
> 
> 标签：java, apache, tomcat, websocket

我尝试在本地机器上使用 Tomcat 实现的 WebSockets。当我只使用 tomcat 时，一切正常，但是当我开始使用 bundle Apache + mod_jk + Tomcat 浏览器时，几秒钟后显示**“与 ws://example.com/test/echoMessage 的连接在页面加载时被中断”**工作的。WebSocket 连接在此之后关闭。

谁能告诉我如何解决它？

我有：Apache HTTPD 2.2.18、mod_jk 1.2.37、Tomcat 7.0.28

这是我使用的服务器端代码：http: [//svn.apache.org/viewvc/tomcat/trunk/webapps/examples/WEB-INF/classes/websocket/](http://svn.apache.org/viewvc/tomcat/trunk/webapps/examples/WEB-INF/classes/websocket/)和客户端：http: [//svn.apache.org /viewvc/tomcat/trunk/webapps/examples/websocket/](http://svn.apache.org/viewvc/tomcat/trunk/webapps/examples/websocket/)

浏览器：Firefox 12、Chrome 19

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T09:51:38.553

我会研究 Apache mod_proxy 是否能够在 TCP 级别透明地转发流量。因为 WebSocket 可能需要通过它。IOW：mod_proxy 是否能够透明地反向代理 WebSocket 流量？

但是你为什么还要让 Apache 参与进来呢？它不会增加任何价值，只会增加更多可以破坏的部分。那当然是针对WebSocket ..

# php - PHP cURL 动态地址

> ID：11256392
> 
> 赞同：0
> 
> 时间：2012-06-29T05:13:33.570
> 
> 标签：php, curl

在我的组织中，我可以通过在浏览器的 URL 中键入该打印机的 IP 来访问所有打印机详细信息。打印机的“日志”页面有一个动态 URL（每个瞬间都有一个“虚拟”变量变化。它们的源代码涉及 Date 和 getTime 函数的使用）。嗯，这是我为生成日志页面的动态 http 地址而编写的代码。

```
 <html>
<head>

<script type="text/javascript">
function getu() {
    var now_time = new Date();
 var cgi_str = "http://10.128.57.200/jlp.cgi?Flag=Html_Data&LogType=0&Dummy=" + now_time.getTime();
      document.getElementById("address").value=cgi_str ;
    } 
</script>
  </head>

<body onLoad="getu()">

<form id="mldsform" action="curlexp2.php"  method="post" >
<input type="hidden" id="address" name="address" />
<input type="submit" name="submit" value="Log In" />

</form>

  </body>   
  </html> 
```

curlexp2.php 的代码如下：

```
<?php
$proxy = "10.128.60.40:3128";
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL,$_POST["address"]);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_HEADER, 0);
curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);
curl_setopt($ch, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows NT 5.1; rv:13.0) Gecko/20100101 Firefox/13.0.1');
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_HTTPPROXYTUNNEL, 1);
curl_setopt($ch, CURLOPT_PROXY, "$proxy");

$result= curl_exec ($ch);
echo $result;
curl_close ($ch);  
?> 
```

这就是我在执行时得到的：

```
User information is disabled.
This operation cannot be accepted. User certification is invalid or date expired.
Update page.
                                                         OK 
```

但是，当我只是回显 $_POST["address"] 时，我能够得到正确的地址。任何线索任何人？在此先感谢您的帮助..

# lightbox - JWPlayer 的灯箱效果

> ID：11256396
> 
> 赞同：1
> 
> 时间：2012-06-29T05:13:37.573
> 
> 标签：lightbox, jwplayer

谁能告诉如何为 JWPlayer 设置灯箱风格的效果？例如，单击 VideoHive 主页上的任何缩略图：http: [//videohive.net/](http://videohive.net/)。然后单击视频预览，JWPlayer 会像灯箱图像一样打开。在某些情况下，播放器也会调整大小，但不会全屏。这一切是如何完成的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T15:38:07.497

我设法使用 Lightbox Plus 插件的内联灯箱设置功能来完成这项工作，如下所述：

[http://www.longtailvideo.com/support/forums/jw-player/setup-issues-and-embedding/27431/running-jw-player-in-a-lightbox](http://www.longtailvideo.com/support/forums/jw-player/setup-issues-and-embedding/27431/running-jw-player-in-a-lightbox)

# python-2.7 - qwtplot 的定义

> ID：11256404
> 
> 赞同：0
> 
> 时间：2012-06-29T05:16:46.873
> 
> 标签：python-2.7, pyqt4, qwt

这是我的第一篇文章，希望不要破坏一些东西:)。在 Windows 上，有两个版本的 python2.7，32 位和 64 位都带有 pyqt 和 qwt5 我从某个星期开始尝试 pyqt，今天我尝试在 Windows 上使用我在 linux 上编写的 python/pyqt/pyqwt 代码，但是提示说：

```
C:\Users\bomba\Desktop\conversione_python\guibms>python-32 interfaccia_mark3.2.p
y
Traceback (most recent call last):
  File "interfaccia_mark3.2.py", line 14, in <module>
    from PyQt4.Qwt5.qplt import *

  File "C:\Python27-32bit\lib\site-packages\PyQt4\Qwt5\qplt.py", line 95, in <mo
dule>

    Y1 = Left   = QwtPlot.yLeft

NameError: name 'QwtPlot' is not defined 
```

有人可以解释一下吗？

我真的很感激

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-30T10:49:06.767

你还没有定义`Qwtplot`对象。尝试使用：

```
import PyQt4.Qwt5 as Qwt
plot = Qwt.QwtPlot() 
```

然后根据需要使用该`plot`对象。

# asp.net - 在gridview中水平显示多行

> ID：11256410
> 
> 赞同：0
> 
> 时间：2012-06-29T05:17:52.957
> 
> 标签：asp.net, gridview

我有一个要求，我需要在 gridview 中显示我的记录，如下所示：

图片 图片名称 名称 地址 地址

图片 图片
名称 名称
地址 地址

等等........

我无法以上述格式显示我的记录。是否可以在网格视图中使用，或者我需要使用任何其他控件。请指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:48:57.530

您可以使用`Datalist`which 将允许您设置`RepeatDirection`为垂直或水平显示。以及`RepeatColumns`要显示的列数。

对于列标题，您可以这样做：

```
Rows[0].HeaderCell.value = "image"; 
```

........
等其他人。

检查此以获取更多信息： [Datalist](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.datalist)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:29:51.933

你可以用一个 jquery 插件试试这个——

[使用jquery的gridview](http://jquerygridview.com/)

或者检查这个链接也可以查看网格视图——

[Gridview jquery 提示和技巧](http://www.dotnetfunda.com/articles/article970-aspnet-gridview-jquery-tips-and-tricks-part-1.aspx)

# jquery - jQuery 禁用移动视图时的功能；或者当屏幕宽度等于或小于 769px

> ID：11256416
> 
> 赞同：3
> 
> 时间：2012-06-29T05:18:40.053
> 
> 标签：jquery

我的 JQuery 上有悬停状态：

```
$('.navigation a').hover(
        function () {
            $(this).next('span').show();
        },
        function () {
            $(this).next('span').hide();
        }
    ); 
```

现在我希望当用户的屏幕分辨率为 769 像素或更低时禁用悬停状态。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-29T05:58:45.090

我找到了答案。

```
if ( $(window).width() > 769) {
$('.navigation a').hover(
        function () {
            $(this).next('span').show();
        },
        function () {
            $(this).next('span').hide();
        }
    );
} 
```

# gcc - 在 GNU GCC 4.5.3 中，将 int 类型转换为 short

> ID：11256423
> 
> 赞同：0
> 
> 时间：2012-06-29T05:19:31.600
> 
> 标签：gcc, compiler-theory

我想知道，当两个整数相乘并将结果类型转换为short并分配给short时，编译器会将其解析为什么？下面是代码片段

```
int a=1,b=2,c;
short x=3,y=4,z;

int p;
short q;

int main()
{

c = a*b; /* Mul two ints and assign to int
            [compiler resolves this to __mulsi3()] */

z = x*y; /* Mul two short and assign to short
            [compiler resolves this to __mulhi3()] */

p = (x*y); /* Mul two short and assign to int
              [compiler resolves this to __mulsi3()] */

q =(short)(a*b); /* Mul two ints typecast to short and assign to short
                    [compiler resolves this to __mulhi3()] */

return 0;

} 
```

在 for 的情况下`q =(short)(a*b);`，应该执行前两个整数乘法（使用`__mulsi3()`），然后将其分配给 short。但这里不是这种情况，编译器类型将两者都转换为`a`和`b`，然后调用`__mulhi3()`.

我想知道如何更改 gcc 源代码 [哪个文件]，以便我可以实现上述要求。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T05:26:53.213

编译器可以分析代码并看到当您立即将结果转换为 a`short`时，可以将乘法作为乘法来完成，`short`而不会影响结果。这与您的示例的情况二完全相同。

结果是一样的，你不必担心使用哪个乘法函数。

# java - 根据屏幕大小自动调整UI，Java Swing中的UI

> ID：11256427
> 
> 赞同：5
> 
> 时间：2012-06-29T05:19:57.763
> 
> 标签：java, swing, user-interface

我正在开发一个软件，它可以在从笔记本电脑屏幕到电视屏幕的不同屏幕尺寸的显示器上运行。我想知道 java swing 功能，它可以根据屏幕尺寸自动调整组件

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-29T06:22:42.197

以下代码将返回屏幕宽度和高度

```
Toolkit toolkit =  Toolkit.getDefaultToolkit ();
Dimension dim = toolkit.getScreenSize();
frame.setSize(dim.width,dim.height);//here frame is your container 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-29T06:37:51.093

您可以使用**ToolKit**，但**拥有屏幕宽度和高度的一半总是更好**。

```
Toolkit t = Toolkit.getDefalutToolKit();
Dimension d = t.getScreenSize();

int h = d.height;
int w = d.width;

myframe.setSize( w/2 , h/2 ); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-29T06:37:36.940

Swing 布局是您正在寻找的东西：http: [//docs.oracle.com/javase/tutorial/uiswing/layout/using.html](http://docs.oracle.com/javase/tutorial/uiswing/layout/using.html)

有一些布局类型可以根据应用程序大小动态重新排列组件。您可以在我上面给出的链接中看到布局选项。

使用布局填充组件，然后让您的应用程序全屏运行。

# asp.net - 将 SQL Server 2005 托管到网站

> ID：11256429
> 
> 赞同：0
> 
> 时间：2012-06-29T05:20:29.837
> 
> 标签：asp.net, sql-server-2005

问这个问题我可能看起来很傻。但由于我仍然是一名学习者，所以我发布了这个问题。

我已经启动了我的 asp.net 网站，但我无法理解如何托管数据库，即 SQL Server 2005。我已将 mdf 文件添加到远程网站，将 web.config 中的连接字符串更改为 localhost数据源。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T05:26:03.540

您必须在运行您的网站的远程服务器上安装 Sql Server。那已经完成了吗？

您可以下载 Sql Server 2008 Express 以开始使用并将其安装在远程服务器上。

您在哪里托管您的网站？是在你自己的服务器上吗？

如果是第 3 方托管站点，他们可能已经运行了 sql server。你可以和他们核实一下。

（您可能应该提供更多关于您在何处以及如何托管您的应用程序以获得更好的反馈的详细信息。）

# github - 如何在一般 github 的 markdown 中显示数学方程式（不是 github 的博客）

> ID：11256433
> 
> 赞同：222
> 
> 时间：2012-06-29T05:21:28.367
> 
> 标签：github, markdown, mathjax

经过调查，我发现 mathjax 可以做到这一点。但是当我在我的降价文件中编写一些示例时，它没有显示正确的方程式：

我在markdown文件的头部添加了这个：

```
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script> 
```

并输入 mathjax 语句：

```
\(E=mc^2\)，$$x_{1,2} = \frac{-b \pm \sqrt{b^2-4ac}}{2b}.$$ 
```

但是 github 没有显示任何数学符号！请帮助我，谢谢！告诉我如何在 github markdown 页面中显示数学符号。

* * *

## 回答 #1

> 赞同：189
> 
> 时间：2012-06-29T06:08:14.723

> 但是 github 没有显示任何数学符号！请帮助我，谢谢！

GitHub markdown 解析由**[SunDown](https://github.com/vmg/sundown)** (ex libUpSkirt) 库执行。

该库的座右铭是*“C 中符合标准、快速、* **安全** *的降价处理库”*。考虑到您的问题，重要的词是“安全”：)。

实际上，允许执行 javascript 有点偏离 MarkDown 标准的 text-to-HTML 合同。

此外，所有看起来像 HTML 标记的东西要么被转义，要么被剥离。

> 告诉我如何在一般 github markdown 中显示数学符号。

您最好的选择是找到一个类似于**[yuml.me](http://yuml.me/diagram/scruffy/class/samples)**的网站，该网站可以通过解析提供的 URL 查询字符串来生成动态图像。

## 更新

我发现一些为用户提供此类服务的网站：**[codedogs.com](http://latex.codecogs.com/)**（*似乎不再支持嵌入*）或**[iTex2Img](http://www.sciweavers.org/free-online-latex-equation-editor)**。您可能想尝试一下。当然，其他的可能存在，一些 Google-fu 会帮助你找到它们。

给定以下降价语法

```
![equation](http://www.sciweavers.org/tex2img.php?eq=1%2Bsin%28mc%5E2%29&bc=White&fc=Black&im=jpg&fs=12&ff=arev&edit=) 
```

它将显示以下图像

![方程](../Images/828f7daf05fe8738ddc9cbd65c496325.png)

**注意**：为了正确显示图像，您必须确保 url 的查询字符串部分是**[百分比编码](http://en.wikipedia.org/wiki/Percent-encoding)**的。您可以轻松找到在线工具来帮助您完成该任务，例如**[www.url-encode-decode.com](http://www.url-encode-decode.com/urlencode)**

* * *

## 回答 #2

> 赞同：182
> 
> 时间：2017-12-13T17:17:59.617

Markdown 支持内联 HTML。内联 HTML 可用于快速和简单的内联方程，以及使用外部工具进行更复杂的渲染。

## 快速简单的内联

对于快速简单的内联项目，请使用 HTML &[实体代码](https://www.w3schools.com/html/html_entities.asp)。将这个想法与 markdown 中的下标文本结合的一个例子是：h [θ] (x) = θ [o] x + θ [1] x，其代码如下。

```
 h<sub>&theta;</sub>(x) = &theta;<sub>o</sub> x + &theta;<sub>1</sub>x 
```

可以在[此处](http://sites.psu.edu/symbolcodes/codehtml/#math)找到常用数学符号的 HTML & 实体代码。希腊字母代码[在这里](https://www.keynotesupport.com/websites/greek-letters-symbols.shtml)。

虽然这种方法有局限性，但它几乎适用于所有降价，并且不需要任何外部库。

## 使用 LaTeX 和 Codecogs 进行复杂的可扩展内联渲染

如果您的需求更大，请使用 CodeCogs 等外部 LaTeX 渲染器。[使用CodeCogs 编辑器](https://www.codecogs.com/latex/eqneditor.php)创建方程。选择 svg 进行渲染，选择 HTML 作为嵌入代码。SVG 在调整大小时呈现良好。当您查看源代码时，HTML 允许您轻松阅读 LaTeX。从页面底部复制嵌入代码并将其粘贴到您的降价中。

```
<img src="https://latex.codecogs.com/svg.latex?\Large&space;x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}" title="\Large x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}" /> 
```

![](../Images/80459d5a0ea6c7e1747aba9d47c6c50b.png "\大 x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}")

以降价表示成为

```
![\Large x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}](https://latex.codecogs.com/svg.latex?\Large&space;x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}) 
```

![\大 x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}](../Images/80459d5a0ea6c7e1747aba9d47c6c50b.png)

这结合了这个[答案](https://stackoverflow.com/a/45603559)和这个[答案](https://stackoverflow.com/a/42368229)。

*GitHub*仅支持有时使用上述原始 html 语法为我提供可读的 LaTeX。如果上述方法对您不起作用，则另一种选择是选择*URL 编码*渲染并使用该输出手动创建如下链接：

![\大 x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}](../Images/84a3c0ec4c821022cde0e3692b501d5c.png)

```
![\Large x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}](https://latex.codecogs.com/svg.latex?x%3D%5Cfrac%7B-b%5Cpm%5Csqrt%7Bb%5E2-4ac%7D%7D%7B2a%7D) 
```

这会手动将 LaTex 合并到替代图像文本中，并使用编码的 URL 在 GitHub 上呈现。

## 多线渲染

如果您需要多行渲染，请查看此[答案](https://stackoverflow.com/a/41341966)。

* * *

## 回答 #3

> 赞同：28
> 
> 时间：2020-04-16T13:40:40.280

现在是2020年了，让我总结一下源代码存储库主机的数学公式渲染支持的进展情况。

## GitHub 和比特桶

GitHub 和 Bitbucket**仍然不支持**数学公式的渲染，无论是默认分隔符还是其他。

> [Bitbucket Cloud / BCLOUD-11192 -- 在 MarkDown 文档中添加 LaTeX 支持 (BB-12552)](https://jira.atlassian.com/browse/BCLOUD-11192)
> 
> [GitHub / markup -- 渲染数学方程式](https://github.com/github/markup/issues/897)
> 
> [GitHub / 标记 -- 支持乳胶](https://github.com/github/markup/issues/1294)
> 
> [GitHub 社区论坛 -- [功能请求] Markdown 中的 LaTeX 数学](https://github.community/t5/GitHub-API-Development-and/FEATURE-REQUEST-LaTeX-Math-in-Markdown/td-p/28595)
> 
> [talk.commonmark.org -- 可以将数学公式添加到降价中](https://talk.commonmark.org/t/can-math-formula-added-to-the-markdown/3140/6)

GitHub 近年来几乎没有取得任何实质性进展。

## GitLab

GitLab 已经得到支持，但不是最常用的方式。它使用自己的分隔符。

```
This math is inline $`a^2+b^2=c^2`$.

This is on a separate line

```math
a^2+b^2=c^2
``` 
```

> [GitLab 风味的 Markdown——数学](https://docs.gitlab.com/ee/user/markdown.html#math)

## 谁支持通用分隔符？

[Hugo 使用的 Markdown 解析器](https://github.com/yuin/goldmark)

## 其他渲染方式

*   使用 web api 根据[A hack for show LaTeX formulas in GitHub markdown](https://gist.github.com/a-rodin/fef3f543412d6e1ec5b6cf55bf197d7b)进行渲染，甚至可以编写 jupyter notebook。

*   [自述文件2tex](https://github.com/leegao/readme2tex)

* * *

## 回答 #4

> 赞同：18
> 
> 时间：2021-05-26T19:59:41.690

另一种可能是依赖 GitHub 自己的 notebook 渲染器。这甚至可以在 SO 中使用。

要呈现`x_{1,2} = \frac{-b \pm \sqrt{b^2-4ac}}{2b}`使用以下 HTML`img`标记：

```
<img src="https://render.githubusercontent.com/render/math?math=x_{1,2} = \frac{-b \pm \sqrt{b^2-4ac}}{2b}"> 
```

现场演示：

![](../Images/78288be0e0b7202645ae2d48dbb9fc6e.png)

**这种方法的优点是您可以直接在 Markdown 中编辑公式，并且预览会相应更新。**
您可以通过编辑此答案来尝试一下。（如果它们没有添加到答案中，请丢弃您的编辑；））

来源：[https ://gist.github.com/a-rodin/fef3f543412d6e1ec5b6cf55bf197d7b](https://gist.github.com/a-rodin/fef3f543412d6e1ec5b6cf55bf197d7b)

* * *

## 回答 #5

> 赞同：15
> 
> 时间：2016-10-14T20:50:44.690

另一种解决方法是使用 jupyter 笔记本并在单元格中使用 markdown 模式来呈现方程式。

基本的东西似乎工作得很好，比如中心方程

```
\begin{equation}
...
\end{equation} 
```

或内联方程

```
$ \sum_{\forall i}{x_i^{2}} $ 
```

虽然，我真正想要的一个功能根本没有在 github 中呈现`\mbox{}`，这真是太糟糕了。但是，总而言之，这是在 github 上渲染方程式的最成功的方式。

* * *

## 回答 #6

> 赞同：14
> 
> 时间：2016-08-13T08:48:42.690

如果只是想自己在浏览器中显示数学，您可以尝试使用[带有 MathJax 的 Chrome 扩展 GitHub](https://chrome.google.com/webstore/detail/github-with-mathjax/ioemnmodlmafdkllaclgeombjnmnbima)。这很方便。

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2018-06-02T09:52:54.597

虽然 GitHub 不会解释 MathJax 公式，但您可以自动生成一个新的 Markdown 文档，其中的公式被图像替换。

我建议你看看 GitHub 应用[TeXify](https://github.com/apps/texify)：

> GitHub 应用程序在您的推送中查找扩展名为 *.tex.md 的文件，并将其 TeX 表达式呈现为 SVG 图像

它是如何工作的（来自[源存储库](https://github.com/agurodriguez/github-texify)）：

> 每当您推送时，TeXify 都会在您的最后一次提交中运行并搜索 *.tex.md 文件。对于其中的每一个，它将运行 readme2tex ，它将采用美元符号之间的 LaTeX 表达式，将其转换为纯 SVG 图像，然后将输出保存到一个 .md 扩展文件中（这意味着一个名为 README.tex.md 的文件将被处理，输出将保存为 README.md)。之后，输出文件和新的 SVG 图像将被提交并推送回您的存储库。

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2019-11-24T00:52:40.667

我使用下面提到的过程将方程转换为降价。这对我来说非常有效。它非常简单！

比方说，我想表示矩阵乘法方程

# 第1步：

从这里获取公式的脚本 - [https://csrgxtu.github.io/2015/03/20/Writing-Mathematic-Fomulars-in-Markdown/](https://csrgxtu.github.io/2015/03/20/Writing-Mathematic-Fomulars-in-Markdown/)

**我的例子：**我想表示`Z(i,j)=X(i,k) * Y(k, j); k=1 to n`一个求和公式。 参考网站，需要的脚本是=>

[![在此处输入图像描述](../Images/5a525eb725228159053295281825309e.png)](https://i.stack.imgur.com/uebGg.png)

`Z_i_j=\sum_{k=1}^{10} X_i_k * Y_k_j`

# 第2步：

使用 URL 编码器 - [https://www.urlencoder.org/](https://www.urlencoder.org/)将脚本转换为有效的 url

**我的示例：**

[![在此处输入图像描述](../Images/e050c6dfc408a570d76023f545747427.png)](https://i.stack.imgur.com/1M8GG.png)

# 第 3 步：

**使用此网站通过在“eq”**请求参数中复制粘贴步骤 2 的输出来生成图像`http://www.sciweavers.org/tex2img.php?eq=<b><i>paste-output-here</i></b>&bc=White&fc=Black&im=jpg&fs=12&ff=arev&edit=`

-**我的示例：**
[http ://www.sciweavers.org/tex2img.php?eq=Z_i_j=\sum_{k =1}^{10}%20X_i_k%20*%20Y_k_j&bc=白&fc=黑&im=jpg&fs=12&ff=arev&edit=](http://www.sciweavers.org/tex2img.php?eq=Z_i_j=%5Csum_%7Bi=1%7D%5E%7B10%7D%20X_i_k%20*%20Y_k_j&bc=White&fc=Black&im=jpg&fs=12&ff=arev&edit=)

[![在此处输入图像描述](../Images/40caf44a67dce0aebbe226e82d72b919.png)](https://i.stack.imgur.com/0z6Zy.png)

# 第4步：

使用 markdown 语法的参考图像 - `![alt text](enter url here)`

-**将其复制到您的 markdown 中，您就可以开始了：**

`![Z(i,j)=X(i,k) * Y(k, j); k=1 to n](http://www.sciweavers.org/tex2img.php?eq=Z_i_j%3D%5Csum_%7Bi%3D1%7D%5E%7B10%7D%20X_i_k%20%2A%20Y_k_j&bc=White&fc=Black&im=jpg&fs=12&ff=arev&edit=)`

### 下图是markdown的输出。欢呼！！

[![在此处输入图像描述](../Images/39fb5f76926af99b1970e98b6e33c667.png)](https://i.stack.imgur.com/SkPCS.png)

* * *

## 回答 #9

> 赞同：3
> 
> 时间：2021-05-10T15:00:04.293

我刚刚发布了一个小小的 Chrome 扩展程序[xhub](https://github.com/nschloe/xhub)，它可以让你在 GitHub 页面中使用 LaTeX 数学（以及更多）。

[![在此处输入图像描述](../Images/e12765654e45d70685b20f2f3928aa6b.png)](https://i.stack.imgur.com/CFXrp.png)

优点：

*   你不必在你的仓库中设置任何东西，只需在你的 Markdown 中使用数学（来自[GitLab](https://docs.gitlab.com/ee/user/markdown.html#math)的语法）：

    ```
    Some display math:
    ```math
    e^{i\pi} + 1 = 0
    ```
    and some inline math, $`a^2 + b^2 = c^2`$. 
    ```

*   它适用于浅色和深色背景。
*   您可以复制并粘贴数学

缺点：

*   您必须安装一次浏览器扩展程序。

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2018-12-30T20:38:00.117

您的问题有一个很好的解决方案 - 使用[TeXify](https://github.com/apps/texify) github 插件（由[Tom Hale](https://stackoverflow.com/a/50655632/860099)回答提到 - 但我在下面的给定链接中开发了他的答案） - 有关此 github 插件的更多详细信息以及为什么这是您可以在该[答案](https://stackoverflow.com/a/53981118/860099)中找到的好方法的解释。

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2018-06-30T19:01:00.703

我在降价文件的头部使用了以下内容

```
<script type="text/javascript" async
src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js? 
config=TeX-MML-AM_CHTML"
</script> 
```

然后输入以下 mathjax 语句
$$x_{1,2} = \frac{-b \pm \sqrt{b^2-4ac}}{2b}.$$
它对我有用

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2021-01-22T11:43:35.983

“快速而肮脏”的解决方案是使用标准 TeX 方程维护标准 .md 文件，例如 .md 文件`_README.md`。当您满意时，通过[Pandoc](https://pandoc.org/)传递整个文件以从标准转换`Markdown` 为`Markdown (Github flavour)`，并将输出复制到`README.md`.

您可以[在线执行此操作](https://pandoc.org/try/?text=&from=markdown&to=gfm&standalone=0)以快速周转，或在本地安装/配置 Pandoc。

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2021-01-28T20:16:26.820

Mathcha 是一个复杂的数学编辑器，但它可用于渲染单个方程式并将它们保存为纯 html，然后您可以将其作为内联 html 添加到文档中，或者您可以保存为 SVG 并作为图像插入。 [https://www.mathcha.io/](https://www.mathcha.io/)

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2014-09-19T14:20:32.650

关于 tex→image 转换，工具 LaTeXiT 产生更高质量的输出。我相信它在大多数 TeX 发行版中是标准的，但如果你还没有它，你当然可以在网上找到它。您需要做的就是将它放入 TeX，将图像拖到桌面，然后从桌面拖到图像托管站点（我使用 imgur）。

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2022-01-27T22:53:46.293

TeXify 不再工作。查看我的 repo [readme2tex-action](https://github.com/tuyenld/readme2tex-action)以了解如何创建 Github 操作。

*   将 action.yml 文件添加到您的存储库中`.github/workflows/action.yml`。
*   `main`如有必要，更改分支名称。

# ruby - 红宝石“错误恢复下一个”功能

> ID：11256434
> 
> 赞同：1
> 
> 时间：2012-06-29T05:21:28.723
> 
> 标签：ruby

有没有办法在 ruby​​ 中执行旧的“on error resume next”例程？

我已经从其他地方动态填充了一系列值（准确地说是从 MQTT 主题中读取），然后我想对它们进行一堆数值计算并发布结果。这些值应该是数字，但可能缺少或非数字。

目前我的代码看起来像

```
values=[]

//values get loaded here 

begin
  Publish('topic1',value[0]*10+value[1])
rescue TypeError,NoMethodError,ZeroDivisionError
end

begin
  Publish('topic2',value[3]/value[4])
rescue TypeError,NoMethodError,ZeroDivisionError
end

//etc etc 
```

如果由于任何原因计算失败，程序应该跳过该步骤并继续。

它有效，但肯定有比所有相同的 begin..rescue 块更好的方法吗？毕竟，Ruby 是关于“DRY”的。

有没有办法重写上面的内容，以便使用单个 begin..rescue 构造，同时仍然允许尝试所有计算？

**更新**

做类似的事情有多安全

```
def safe_Publish(topic,value)
  return if value.nil?
  Publish(topic,value)
end 
```

并使用 safe_Publish('topic2',(value[3]/value[4] rescue nil)) 调用

主要问题是，上面的内容不仅捕获了我所期待的所有异常，这让我有点紧张。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:50:35.487

`on error resume next`编码风格真的很危险——因为它让你很难找到你不小心引入程序的新错误。相反，我会编写一个不抛出这些异常的不同版本的发布：

```
def try_publish(topic_name)
  begin
    Publish('topic1',yield)
  rescue TypeError,NoMethodError,ZeroDivisionError
    # are you sure you don't want to do anything here? Even logging the errors
    # somewhere could be useful.
  end
end 
```

然后，您可以使用以下命令调用它：

```
try_publish('topic1') { value[0]*10+value[1] } 
```

如果表达式抛出 TypeError、NoMethodError 或 ZeroDivisionError，它们将被捕获并忽略。

现在您的原始方法不需要任何救援。

* * *

如果你真的想要一个`on error resume next`，你可以通过猴子修补`raise`内核中的方法来做到这一点，但那将是一个可怕的想法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:33:31.633

这显示了如何将一堆快速操作包装到一个循环中，每个操作都受到开始/救援的保护：

```
values = [1,2,3,0,4]
ops = [ ->{values[0]/values[1]}, ->{values[2]/values[3]} ]

ops.each do |op|
  begin
    puts "answer is #{op.call}"
  rescue ZeroDivisionError
    puts "cannot divide by zero"
  end
end 
```

但是，我更喜欢该`safe_publish`方法，因为您可以对其进行单元测试，并且它将进行安全调用和处理错误的逻辑封装在一个地方：

```
def safe_publish(topic, &block)
  begin
    value = block.call
    publish(topic, value)
  rescue
    # handle the error
  end
end 
```

然后您可以使用以下代码调用它：

```
safe_publish 'topic0' do
  value[0]*10+value[1]
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T06:47:26.917

如果您更仔细地考虑一下自己在做什么以及*为什么*要这样做`on error resume next`，我想您会发现您实际上并不需要抑制*所有*异常。正如其他发帖者所指出的那样，这将使查找和修复错误变得困难。

您的问题是您从互联网上抓取了一堆数字，并想对它们进行一些计算，但有些可能无效或丢失。对于无效/缺失的数字，您希望跳过任何使用这些数字的计算。

一些可能的解决方案：

1.  预先过滤您的数据并删除任何无效数字。
2.  将您想要执行的每个计算都放入一个自己的方法中。`rescue Exception`在方法定义上加上一个。
3.  为不会引发除以零等异常的数字类定义“安全”包装器。使用这些包装器进行计算。

“包装器”可能看起来像这样（不要指望完整的、经过测试的代码；这只是为了给你一个想法）：

```
# This is not designed for "mixed" arithmetic between SafeNumerics and ordinary Numerics,
# but if you want to do mixed arithmetic, that can also be achieved
# more checks will be needed, and it will also need a "coerce" method
class SafeNumeric
  attr_reader :__numeric__
  def initialize(numeric)
    @__numeric__ = numeric.is_a?(String) ? numeric.to_f : numeric
  end

  def zero?
    @__numeric__.zero?
  end
  def /(other)
    if other.zero? || @__numeric__.nil? || other.__numeric__.nil?
      SafeNumeric.new(nil) # could use a constant for this to reduce allocations
    else
      SafeNumeric.new(@__numeric__ / other.__numeric__)
    end
  end

  def to_s; @__numeric__.to_s; end
  def inspect; @__numeric__.inspect; end

  # methods are also needed for +, -, *
end 
```

然后像这样使用它：

```
numbers = scraped_from_net.map { |n| SafeNumeric.new(n) }
# now you can do arithmetic on "numbers" at will 
```

# javascript - 从浮动 div 中获取元素窗口位置

> ID：11256435
> 
> 赞同：2
> 
> 时间：2012-06-29T05:21:51.130
> 
> 标签：javascript

通常要获取我使用的任何元素的窗口位置：

```
while(el) {
    x += el.offsetLeft;
    y += el.offsetTop;
    el = el.offsetParent;
} 
```

但是，当元素位于浮动 div 中时，我遇到了问题。

```
<div id="wrapper">
    <div id="floatLeft" style="float: left; width: 20%;"></div>
    <div id="floatRight" style="float: right; width: 80%;">
        <div>I want to find the window pos of this</div>
    </div>
</div> 
```

在上述元素嵌套在浮动 div 中的情况下，它仅返回从右 div 边缘的偏移量。当然这是一个简化的例子，在现实世界的情况下，正确的 div 会有多个嵌套元素等。不过，如何修改我用来考虑浮动元素的 javascript？

编辑：问题实际上在于我定位绝对元素的方式，而不是与浮动 div 的偏移量有关。这个问题是空的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T05:25:36.337

尝试使用 jQuery：

```
while(el) {
    x += $(el).offset().left;
    y += $(el).offset().top;
} 
```

# iphone - 如何在 ipad 中获取 imageview 的标签值

> ID：11256442
> 
> 赞同：0
> 
> 时间：2012-06-29T05:22:55.547
> 
> 标签：iphone, ios, xcode, ipad, imageview

嗨，我有一个 ipad 应用程序，我可以看到很多小图像。每个图像视图都有标签值。现在我的工作是当用户触摸任何可用的图像视图时，我们必须在 ipad 中获取特定的图像视图标签值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T05:29:00.927

为图像添加 TapGesture。然后您可以记录它以查看图像的标签是什么。以便能够获取该特定的 imageview 标签值。像这样：

```
NSInteger i;
    for (i=0; i<10; i++) 
    {
        UIImageView *imageView = [[UIImageView alloc] initWithFrame:CGRectMake(x, y, width, height)];
        imageView.userInteractionEnabled = YES;
        imageView.tag = i;

        NSLog(@"%d", imageView.tag);

        UITapGestureRecognizer *tap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(imageTag:)];
        [imageView addGestureRecognizer:tap];
    }

- (void)imageTag:(id)sender {
    switch (((UIGestureRecognizer *)sender).view.tag)      
{
    case 0:
    ...
    case 1:
    ...
  }
} 
```

# c# - 是否可以在 SharePoint 2007 中使用 jquery 调用页面方法？

> ID：11256443
> 
> 赞同：0
> 
> 时间：2012-06-29T05:23:23.140
> 
> 标签：c#, jquery, ajax, sharepoint-2007, moss

我们有一个自定义 aspx 页面，其中代码隐藏类部署在 GAC 的 DLL 中。我正在尝试使用 jquery 在代码隐藏中调用一个方法来获取文本框的自动完成行为。该方法具有 [WebMethod] 属性。该代码在测试 asp.net 应用程序中运行良好，但在部署到 SharePoint 服务器时，我收到“httpexception - 目录 C:\Inetpub\wwwroot...\catalogs\masterpage 不存在。无法开始监视文件更改“ 错误。页面中没有 scriptmanager 标签。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T05:41:50.337

在你后面的代码中，在你的函数 [WebMethod] 上方添加他的属性，然后你应该可以通过 Jquery 调用它

更多信息请看这里 [http://msdn.microsoft.com/en-us/library/byxd99hx%28v=vs.71%29.aspx](http://msdn.microsoft.com/en-us/library/byxd99hx%28v=vs.71%29.aspx)

将此添加到您的 asp.net 表单标签下

```
<asp:ScriptManager ID="scriptManager" EnablePageMethods="true" runat="server"/> 
```

在您的代码后面的文件中添加此功能

```
[System.Web.Services.WebMethod]
public static string SayHi()
{
    return "Hi";
} 
```

并将其添加到您的 aspx 文件中

```
 <script>
        function GetHi() {

            PageMethods.SayHi(onComplete);
        }

        function onComplete(result) {
            alert(result);
        }

        GetHi();
</script> 
```

并尽量不要将您的代码隐藏在您的 GAC 中

# android - 使用phonegap并在本地运行时出现ajax导航错误

> ID：11256447
> 
> 赞同：1
> 
> 时间：2012-06-29T05:23:38.480
> 
> 标签：android, cordova, android-emulator

对不起，完整的新手问题，但我运气不好。我已经使用 phonegap 插件通过 eclipse 创建了一个项目，并将其作为 android 应用程序部署到平板电脑上以在本地运行 - 但我得到了“注意：如果在本地查看，导航可能无法工作”栏被添加到底部页面。我该如何解决这个问题？我想如果它以这种格式打包，我就不必在平板电脑上安装安卓网络服务器并通过浏览器运行它？非常感谢所有指导。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T08:40:20.740

我遇到了同样的错误，结果发现 jquery.mobile 被包含两次。删除孪生参考导致删除注释。

# javascript - 没有进度条的 Ajax 上传

> ID：11256452
> 
> 赞同：0
> 
> 时间：2012-06-29T05:24:27.980
> 
> 标签：javascript, ajax, file-upload

我有一些 ajax 上传的代码。它向我的 servlet 发送请求，一切正常。但是代码包含我不需要的进度条。你能帮我删除我不需要的行吗？上传文件后如何用我的内容刷新 DIV 的另一个问题？当我使用此代码将参数发送到 jsp 页面时

```
$.post(
            "deletePoly.jsp",
            {ids:ch.toString()},
           function(per){
          $("#WRAPlist").load("listing.jsp");
            }
          ); 
```

我要在哪里放线

```
$("#WRAPlist").load("listing.jsp"); 
```

这是上传代码

变量请求；

```
 function ajaxFunction()
    {
        var url = "Upload_Servlet";

        if (window.XMLHttpRequest) // Non-IE browsers
        { 
            req = new XMLHttpRequest();
            req.onreadystatechange = processStateChange;

            try 
            {
                req.open("GET", url, true);
            } 
            catch (e) 
            {
                alert(e);
            }
            req.send(null);
        } 
        else if (window.ActiveXObject) // IE Browsers
        { 
            req = new ActiveXObject("Microsoft.XMLHTTP");

            if (req) 
            {
                req.onreadystatechange = processStateChange;
                req.open("GET", url, true);
                req.send();
            }
        }
    }

    function processStateChange()
    {

         *  State   Description
         *  0       The request is not initialized
         *  1       The request has been set up
         *  2       The request has been sent
         *  3       The request is in process
         *  4       The request is complete

        if (req.readyState == 4)
        {
            if (req.status == 200) // OK response
            {
                var xml = req.responseXML;

                // No need to iterate since there will only be one set of lines
                var isNotFinished = xml.getElementsByTagName("finished")[0];
                var myBytesRead = xml.getElementsByTagName("bytes_read")[0];
                var myContentLength = xml.getElementsByTagName("content_length")[0];
                var myPercent = xml.getElementsByTagName("percent_complete")[0];

                // Check to see if it's even started yet
                if ((isNotFinished == null) && (myPercent == null))
                {
                    document.getElementById("initializing").style.visibility = "visible";

                    // Sleep then call the function again
                    window.setTimeout("ajaxFunction();", 100);
                }
                else 
                {
                    document.getElementById("initializing").style.visibility = "hidden";
                    document.getElementById("progressBarTable").style.visibility = "visible";
                    document.getElementById("percentCompleteTable").style.visibility = "visible";
                    document.getElementById("bytesRead").style.visibility = "visible";

                    myBytesRead = myBytesRead.firstChild.data;
                    myContentLength = myContentLength.firstChild.data;

                    if (myPercent != null) // It's started, get the status of the upload
                    {
                        myPercent = myPercent.firstChild.data;

                        document.getElementById("progressBar").style.width = myPercent + "%";
                        document.getElementById("bytesRead").innerHTML = myBytesRead + " of " + 
                            myContentLength + " bytes read";
                        document.getElementById("percentComplete").innerHTML = myPercent + "%";

                        // Sleep then call the function again
                        window.setTimeout("ajaxFunction();", 100);
                    }
                    else
                    {
                        document.getElementById("bytesRead").style.visibility = "hidden";
                        document.getElementById("progressBar").style.width = "100%";
                        document.getElementById("percentComplete").innerHTML = "Done!";
                    }
                }
            }
            else
            {
                alert(req.statusText);
            }
        }

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:28:18.180

删除这些代码行然后它不会显示进度条..

```
document.getElementById("initializing").style.visibility = "hidden";
document.getElementById("progressBarTable").style.visibility = "visible";
document.getElementById("percentCompleteTable").style.visibility = "visible";
document.getElementById("bytesRead").style.visibility = "visible";

myBytesRead = myBytesRead.firstChild.data;
myContentLength = myContentLength.firstChild.data;

if (myPercent != null) // It's started, get the status of the upload
{
   myPercent = myPercent.firstChild.data;
   document.getElementById("progressBar").style.width = myPercent + "%";
   document.getElementById("bytesRead").innerHTML = myBytesRead + " of " + 
                            myContentLength + " bytes read";
   document.getElementById("percentComplete").innerHTML = myPercent + "%";

   // Sleep then call the function again
   window.setTimeout("ajaxFunction();", 100);
   }
   else
   {
     document.getElementById("bytesRead").style.visibility = "hidden";
     document.getElementById("progressBar").style.width = "100%";
     document.getElementById("percentComplete").innerHTML = "Done!";
   } 
```

# iphone - refreshObject 如何在嵌套的托管对象上下文中工作？

> ID：11256453
> 
> 赞同：0
> 
> 时间：2012-06-29T05:24:30.250
> 
> 标签：iphone, objective-c, ios, core-data

假设我在父主队列并发类型上有一个对象，并且我更改了它的一个属性值。然后，在不保存的情况下，我对子私有队列类型执行一个获取请求，以获取包含该对象的数组。我遇到的问题是，有时我得到的对象没有包含在主线程上进行的未决更改，尽管它应该。

但是，如果我调用`[childMOC refreshObject:object mergeChanges:YES];`，我确实会收到待处理的更改。但是文档中的描述说这种方法

> “更新托管对象的持久属性以使用持久存储中的最新值。

" 那么这些值不就是保存到磁盘的值，因此它不包括任何未决的更改吗？

我对这种方法的工作原理有点困惑..

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-29T07:44:26.243

使用嵌套的托管对象上下文，子上下文将看不到直接对父上下文所做的任何更改。如果您想要最新的更改，您将始终需要在子上下文中刷新您的对象。

是的，刷新包括来自父上下文的未决更改。文档需要在这方面进行更新。

更改传播仅从子上下文自动（保存时）进行 -> 父上下文。

# android - 视频在 youtube、Android 上上传时旋转

> ID：11256455
> 
> 赞同：1
> 
> 时间：2012-06-29T05:24:39.860
> 
> 标签：android, youtube, google-api

我尝试使用 android 将视频从 SD 卡上传到 youtube。我正在使用 Google API 进行 youtube 上传。视频上传成功，但旋转了 180 度。我正在使用以下代码-

```
YouTubeService service = new YouTubeService(Strings.YOUTUBE_CLIENT_ID,Strings.YOUTUBE_DEV_ID);
try{
    service.setUserCredentials("abc123@gmail.com", "ag23sjafaar");
} catch (AuthenticationException ex){
    Log.e("AuthenticationError",":"+ex.getMessage());
    return;
}

File videoFile = new File(Strings.VIDEO_PATH);
if(!videoFile.exists()){
    Log.e("FileUploadErr","FileNotFound");
    return;
}

String mimeType = "video/*";
String videoTitle = name;
VideoEntry newEntry = new VideoEntry();
YouTubeMediaGroup mg = newEntry.getOrCreateMediaGroup();
mg.addCategory(new MediaCategory(YouTubeNamespace.CATEGORY_SCHEME,"Travel"));
mg.setTitle(new MediaTitle());
mg.getTitle().setPlainTextContent(videoTitle);
mg.setKeywords(new MediaKeywords());
mg.getKeywords().addKeyword("Travel");
mg.setDescription(new MediaDescription());
mg.getDescription().setPlainTextContent(videoTitle);
MediaFileSource ms = new MediaFileSource(videoFile,mimeType);
newEntry.setMediaSource(ms);
try{
    VideoEntry createdEntry = service.insert(new URL(Strings.YOUTUBE_VIDEO_UPLOAD_URL), newEntry);      
} catch(ServiceException se){
    Log.e("UploadVideo",":" + se.getMessage());         
} catch (MalformedURLException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
} catch (IOException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
} 
```

**更新：** 如果我从 SD 卡浏览视频并使用模拟器上传到 youtube。它工作正常。

# android - ListView 未通知适配器更改

> ID：11256458
> 
> 赞同：0
> 
> 时间：2012-06-29T05:24:51.380
> 
> 标签：android, listview, adapter

日志猫：

```
06-28 22:21:11.031: E/AndroidRuntime(1282): java.lang.IllegalStateException: The content of the adapter has changed but ListView did not receive a notification. Make sure the content of your adapter is not modified from a background thread, but only from the UI thread. [in ListView(16908298, class android.widget.ListView) with Adapter(class android.widget.ArrayAdapter)] 
```

代码：

```
 protected void onPostExecute(Void v) {          
        items.add(NewItem);
        Collections.sort(items);
        adapter.notifyDataSetChanged();
    } 
```

问题：我还想在哪里更新 ListView？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:29:17.650

```
 @Override
    protected Void doInBackground(Void... params) {

        try {
            arrayCountries = objwscountry.CountryCode();
        } catch (Exception e) {
            e.printStackTrace();
        }
        return null;
    }

@Override
    protected void onPostExecute(Void result) {
        super.onPostExecute(result);

        progressDialog.dismiss();

        MyAdapter adapter = new MyAdapter(arrayCountries);
        // apply the Adapter:
        spinCountry.setAdapter(adapter);
    } 
```

看到这段代码完美无缺。

# c# - 如何在C#中获取昨天的日期

> ID：11256459
> 
> 赞同：54
> 
> 时间：2012-06-29T05:25:01.933
> 
> 标签：c#, asp.net

我想使用 C# 在我的 ASP.NET Web 应用程序中检索昨天的日期。我曾尝试寻找解决方案，但没有取得太大成功。我使用的代码只输出今天的日期：

```
string yr = DateTime.Today.Year.ToString();
string mn = DateTime.Today.Month.ToString();
string dt = DateTime.Today.Day.ToString();
date = string.Format("{0}-{1}-{2}", yr, mn, dt); 
```

我怎样才能得到昨天的日期？

* * *

## 回答 #1

> 赞同：147
> 
> 时间：2012-06-29T05:26:34.443

使用[DateTime.AddDays()](http://msdn.microsoft.com/en-us/library/system.datetime.adddays.aspx)方法，其值为`-1`

```
var yesterday = DateTime.Today.AddDays(-1); 
```

那会给你：`{6/28/2012 12:00:00 AM}`

你也可以使用

```
DateTime.Now.AddDays(-1) 
```

这将为您提供当前时间的上一个日期，例如 `{6/28/2012 10:30:32 AM}`

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-06-29T05:28:25.170

**您发布的代码是错误的。**

您不应多次调用`DateTime.Today`. 如果您碰巧在日期更改时运行该代码，您可能会得到完全错误的结果。例如，如果您在 2011 年 12 月 31 日运行它，您可能会得到“2011-1-1”。

使用单个调用，`DateTime.Today`然后使用`ToString`适当的格式字符串来根据需要格式化日期。

```
string result = DateTime.Today.AddDays(-1).ToString("yyyy-MM-dd"); 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-06-29T05:27:44.070

您将通过以下代码片段获得昨天的日期。

```
DateTime dtYesterday = DateTime.Now.Date.AddDays(-1); 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-06-29T05:41:02.553

**您不需要`DateTime.Today`多次**调用，只需一次使用它并以您想要的格式格式化日期对象..就像那样

```
 string result = DateTime.Now.Date.AddDays(-1).ToString("yyyy-MM-dd"); 
```

或者

```
 string result = DateTime.Today.AddDays(-1).ToString("yyyy-MM-dd"); 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-06-29T05:26:28.230

```
var yesterday = DateTime.Now.AddDays(-1); 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2012-06-29T05:27:01.963

像这样的东西应该工作

```
var yesterday = DateTime.Now.Date.AddDays(-1); 
```

`DateTime.Now`为您提供*当前*日期和时间。

如果您希望删除 time 元素，则将其添加`.Date`到仅日期即 time is `00:00:00`。

终于`.AddDays(-1)`去掉1天给你昨天。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2012-06-29T05:29:46.400

```
string result = DateTime.Now.Date.AddDays(-1).ToString("yyyy-MM-dd"); 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2019-03-05T09:11:38.680

```
DateTime dateTime = DateTime.Now ; 
string today = dateTime.DayOfWeek.ToString();
string yesterday = dateTime.AddDays(-1).DayOfWeek.ToString(); //Fetch day i.e. Mon, Tues
string result = dateTime.AddDays(-1).ToString("yyyy-MM-dd"); 
```

上面的代码片段将起作用。还建议制作 DateTime.Now 的单个实例；

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-06-29T05:30:30.353

`DateTime.Today`正如它所暗示的那样，是今天的日期，您需要在前一天获取日期，因此您可以使用减去一天`AddDays(-1)`；

DateTime 中有足够的选项可以`ToShortDateString`根据您的文化获得格式，您无需单独连接它们。

您也可以在实例`.ToString()`版本中拥有理想的格式`DateTime`

# iphone - 通过 Iphone、MFMessageComposeViewController 发送短信

> ID：11256462
> 
> 赞同：1
> 
> 时间：2012-06-29T05:25:30.153
> 
> 标签：iphone, ios, mfmailcomposeviewcontroller, mfmessagecomposeview

我正在尝试通过设备发送短信。但是上线就崩溃了

```
[self presentModalViewController:picker animated:YES]; 
```

代码：

```
MFMessageComposeViewController *picker = [[MFMessageComposeViewController alloc] init];
        picker.messageComposeDelegate = self;

        picker.recipients = rec; // your recipient number or self for testing
        picker.body = billInfo;

        [self presentModalViewController:picker animated:YES];
        [picker release]; 
```

错误日志：

```
Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: 'Application tried to present a nil modal view controller on target <billSummary: 0xfc7e780>.' 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T05:34:31.177

你检查过 +[MFMessageComposeViewController canSendText] 吗？从文档中，

在使用该类之前，您必须始终通过调用 canSendText 类方法检查当前设备是否配置为发送 SMS 消息。如果用户的设备未设置为发送 SMS 消息，您可以通知用户或简单地禁用应用程序中的 SMS 功能。如果 canSendText 方法返回 NO，则不应尝试使用此接口。

它可能不起作用的其他原因：

```
No SIM card?
Device isn't running iOS 4.
Device is an iPod Touch/iPad.
"Device" is actually the simulator. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:30:41.127

```
[self presentModalViewController:picker.view animated:YES];

<MFMessageComposeViewControllerDelegate> 
```

应该添加到您班级的 .h 中。

MFMessageComposeViewController 是 UINavatigationController 的子类。

所以应用 pushViewController 而不是 presentmodalviewController

# asp.net-mvc-3 - MVC Razor 只读 TextBoxFor

> ID：11256465
> 
> 赞同：0
> 
> 时间：2012-06-29T05:25:42.377
> 
> 标签：asp.net-mvc-3, razor

在 MVC 3 Razor 项目中，我`DisplayFormat`在 ViewModel 中定义了格式化 DateTime 属性

```
[DisplayFormat(DataFormatString = "{0:dd-MMM-yyyy}", ApplyFormatInEditMode = true)]
[Display(Name = "Posted Date")]
public DateTime PostedDate { get; set; } 
```

我需要在视图中将该字段设为只读

```
@Html.TextBoxFor(model => model.PostedDate, new { @readonly = "readonly" }) 
```

但是在其中显示日期时`TextBoxFor`不应用 DisplayFormat。如果我更改`TextBoxFor`为`EditorFor`DisplayFormat 已应用但不能应用只读 CSS 属性。

如何应用日期格式并使文本框只读？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T05:32:36.787

您仍然可以使用编辑器进行渲染时我相信根据您的情况它仍然应该在渲染后渲染到文本框您可以使用简单的 jquery 函数将只读属性添加到渲染的文本框

```
$("#PostedDate").attr("readonly", "readonly"); 
```

不确定它是否是最好的解决方案，但你可以试试

# java - 为什么它总是返回原始值？

> ID：11256468
> 
> 赞同：0
> 
> 时间：2012-06-29T05:26:01.350
> 
> 标签：java, android, syntax, casting

我有以下功能

```
private Integer calculateWeeklyValue(String p_Value, String Frequency) {

    if (p_Value.length() == 0)
        p_Value = "0";
    Integer Value = Integer.parseInt(p_Value);
    if (Frequency.equals("W"))
        return (Integer)Value;
    else if (Frequency.equals("F"))
        return (Integer)((Value / 2));
    else if (Frequency.equals("M"))
        return (Integer)((Value * 12) / 52);
    else if (Frequency.equals("Q"))
        return (Integer)((Value * 4) / 52);
    else if (Frequency.equals("Y"))
        return (Integer)(Value / 52);
    else
        return 0;

} 
```

它总是返回变量“Value”的结果，即使它匹配不同的情况。例如。它转到“返回（整数）（（值* 12）/ 52）；” 但随后返回 0 并返回“值”。可能是一个愚蠢的问题，但坚持这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T05:29:58.510

使用. 并`int`检查您`Value`的始终为 0。

```
 int Value = Integer.parseInt(p_Value); and return type also `int`. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:29:17.603

看起来 的长度`p_Value`始终为 0。此外，用大写首字母命名变量也是不好的做法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T05:38:19.173

您只需要将方法的返回类型从 Integer 更改为 double 或 long 或 float，因为 int 始终返回数字而不是小数部分，并且您的计算正在返回`.something`并且已转换为`0`，因此请确保使用此类计算方法的返回类型是总是加倍或浮动等。

```
private Integer calculateWeeklyValue(String p_Value, String Frequency) {}

                     to 

private double calculateWeeklyValue(String p_Value, String Frequency) 
```

# c++ - （定义一个宏来）方便OpenGL命令调试？

> ID：11256470
> 
> 赞同：7
> 
> 时间：2012-06-29T05:26:13.627
> 
> 标签：c++, debugging, opengl, error-handling, compiler-errors

有时需要很长时间插入条件打印并`glGetError()`使用一种二进制搜索形式检查以缩小范围，其中第一个函数调用是 OpenGL 首先报告错误。

我认为如果有一种方法可以构建一个宏，我可以将所有可能失败的 GL 调用包装起来，然后有条件地`glGetError`立即调用，那将是一件很酷的事情。在为特殊目标编译时，我可以让它`glGetError`以非常高的粒度进行检查，而为典型的发布或调试进行编译时，这不会被启用（我只会每帧检查一次）。

这样做有意义吗？稍微搜索一下，我发现一些人建议`glGetError`在每次非绘制 gl-call 之后调用，这与我所描述的基本相同。

那么在这种情况下，我可以做些什么聪明的事情（上下文：我正在使用 GLEW）来简化以这种方式检测我的 gl 调用的过程？在这一点上，将我的代码转换为围绕每个 OpenGL 函数调用包装一个宏将是大量的工作。如果我可以做一些聪明的事情，并且无需手动确定要检测的代码部分（尽管这也有潜在的优势......但不是真的），我*真的*不关心性能，那将是很棒的在我调试错误源时）。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-06-29T08:29:36.070

尝试这个：

```
void CheckOpenGLError(const char* stmt, const char* fname, int line)
{
    GLenum err = glGetError();
    if (err != GL_NO_ERROR)
    {
        printf("OpenGL error %08x, at %s:%i - for %s\n", err, fname, line, stmt);
        abort();
    }
}

#ifdef _DEBUG
    #define GL_CHECK(stmt) do { \
            stmt; \
            CheckOpenGLError(#stmt, __FILE__, __LINE__); \
        } while (0)
#else
    #define GL_CHECK(stmt) stmt
#endif 
```

像这样使用它：

```
GL_CHECK( glBindTexture2D(GL_TEXTURE_2D, id) ); 
```

如果 OpenGL 函数返回变量，那么记得在 GL_CHECK 之外声明它：

```
const char* vendor;
GL_CHECK( vendor = glGetString(GL_VENDOR) ); 
```

这样，如果定义了 _DEBUG 预处理器符号，您将进行调试检查，但在“发布”构建中，您将只有原始的 OpenGL 调用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T06:11:27.663

[`BuGLe`](http://www.opengl.org/sdk/tools/BuGLe/index.php)听起来它会做你想做的事：

*   转储所有 GL 调用的文本日志。
*   截屏或拍摄视频。
*   在每次调用`glGetError`后调用以检查错误，并包装 glGetError 以便此检查对您的程序是透明的。
*   捕获并显示统计信息（例如帧速率）
*   强制线框模式
*   从驱动程序内部的分段错误中恢复回溯，即使驱动程序是在没有符号的情况下编译的。

# android - 在异步任务中解析 JSON 时强制关闭

> ID：11256474
> 
> 赞同：0
> 
> 时间：2012-06-29T05:26:46.480
> 
> 标签：android, json, parsing, android-asynctask

我试图在后台解析 json 时显示进度对话框（使用异步任务），但是每当我尝试这样做时，我都会强制关闭，只要我在没有异步任务的情况下使用它，json 就会正常工作。

**这是我的代码：**

```
package com.Parsing.SOAPParsing;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;

import org.json.JSONArray;
import org.json.JSONObject;
import org.ksoap2.SoapEnvelope;
import org.ksoap2.serialization.SoapObject;
import org.ksoap2.serialization.SoapPrimitive;
import org.ksoap2.serialization.SoapSerializationEnvelope;
import org.ksoap2.transport.HttpTransportSE;
import android.app.Activity;
import android.app.ProgressDialog;
import android.os.AsyncTask;
import android.os.Bundle;
import android.util.Log;
import android.widget.Button;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;

public class MainActivity extends Activity {

    private static final String SOAP_ACTION = "http://tempuri.org/testService";
    private static final String METHOD_NAME = "testService";
    private static final String NAMESPACE = "http://tempuri.org/";
    private static final String URL = "http://testService/webservice.asmx";

    TextView tv, optionA, optionB, optionC, optionD, optionE;
    ArrayList<HashMap<String, String>> testList = new ArrayList<HashMap<String, String>>();

    private String result;

    int j = 0;
    int k;
    String questions[] = new String[12];

    String opA[] = new String[12];
    String opB[] = new String[12];
    String opC[] = new String[12];
    String opD[] = new String[12];
    String opE[] = new String[12];

    ListView list;
    Button next;
    Button previous;
    int i;
    String v;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        tv = (TextView) findViewById(R.id.questions);

        Fetch fetch = new Fetch(); // Calling async task
        fetch.execute();

    }

    public class Fetch extends AsyncTask<String, Void, Void> {

        private ProgressDialog dialog = new ProgressDialog(MainActivity.this);

        @Override
        public void onPreExecute() {
            this.dialog
                    .setMessage("Loading database. Please wait..."
                            + "\n\n\n\n This will will only load for once when you install the application");
            this.dialog.show();
        }

        @Override
        public Void doInBackground(String... params) {
            for (k = 1; k <= 10; k++) {
                try {

                    SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);
                    request.addProperty("QuestionId", Long.valueOf(k));

                    SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(
                            SoapEnvelope.VER11);
                    envelope.dotNet = true;
                    envelope.setOutputSoapObject(request);

                    HttpTransportSE androidHttpTransport = new HttpTransportSE(
                            URL);

                    androidHttpTransport.call(SOAP_ACTION, envelope);
                    SoapPrimitive response = (SoapPrimitive) envelope
                            .getResponse();
                    result = response.toString();

                    try {
                        JSONObject o = new JSONObject(result);
                        Iterator<String> it = o.keys();

                        while (it.hasNext()) {
                            JSONArray ja = o.optJSONArray(it.next());
                            if (ja != null) {

                                for (i = 0; i <= ja.length(); i++) {
                                    String v = ja.get(i).toString();
                                    Log.i("value", i + " = " + v);

                                    if (i == 0) {
                                        opA[k - 1] = v;
                                    }

                                    if (i == 1) {
                                        opB[k - 1] = v;
                                    }
                                    if (i == 2) {
                                        opC[k - 1] = v;
                                    }
                                    if (i == 3) {
                                        opD[k - 1] = v;
                                    }
                                    if (i == 4) {
                                        opE[k - 1] = v;
                                    }

                                    if (i == 7) {

                                        questions[k - 1] = v;

                                    }
                                }
                            }

                        }

                    } catch (Exception e) {
                        e.printStackTrace();
                    }

                } catch (Exception e) {
                    tv.setText(e.getMessage());
                }
            }
            return null;
        }

        public void onPostExecute(final Void unsed) {
            if (this.dialog.isShowing()) {
                this.dialog.dismiss();
                Toast.makeText(MainActivity.this, opB[k], Toast.LENGTH_LONG)
                        .show();
            }
        }
    }
} 
```

我坚持这一点，如果错误很愚蠢，我很抱歉，因为我对此真的很陌生。

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T05:27:56.663

因为您正在从 doInBackground 访问 UI 元素

```
 @Override
   public Void doInBackground(String... params) {
  //YOUR CODE....
     } catch (Exception e) {

      tv.setText(e.getMessage()); //HERE YOU ARE ACCESSING TEXTVIEW FROM doInBackground

      }
//YOUR CODE... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T06:07:40.463

你可以做的是：

*   将 Asynctask 的返回类型更改为 String
*   从 doInBackground 方法返回必要的字符串
*   在 onPostExecute 方法中将此字符串更新为您的文本视图

我已将您的代码更新如下。

```
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;

import org.json.JSONArray;
import org.json.JSONObject;

import android.app.Activity;
import android.app.ProgressDialog;
import android.os.AsyncTask;
import android.os.Bundle;
import android.util.Log;
import android.widget.Button;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;

import com.qualstream.telfaz.R;

public class MainActivity extends Activity {

    private static final String SOAP_ACTION = "http://tempuri.org/LoadQuestionDetail";
    private static final String METHOD_NAME = "LoadQuestionDetail";
    private static final String NAMESPACE = "http://tempuri.org/";
    private static final String URL = "http://www.beyyondcareers.com/webservice.asmx";

    TextView tv, optionA, optionB, optionC, optionD, optionE;
    ArrayList<HashMap<String, String>> testList = new ArrayList<HashMap<String, String>>();

    private String result;

    int j = 0;
    int k;
    String questions[] = new String[12];

    String opA[] = new String[12];
    String opB[] = new String[12];
    String opC[] = new String[12];
    String opD[] = new String[12];
    String opE[] = new String[12];

    ListView list;
    Button next;
    Button previous;
    int i;
    String v;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.test);

        tv = (TextView) findViewById(R.id.textview123);

        Fetch fetch = new Fetch(); // Calling async task
        fetch.execute();

    }

    public class Fetch extends AsyncTask<Void, Void, String> {

        private ProgressDialog dialog = new ProgressDialog(MainActivity.this);

        @Override
        public void onPreExecute() {
            this.dialog
                    .setMessage("Loading database. Please wait..."
                            + "\n\n\n\n This will will only load for once when you install the application");
            this.dialog.show();
        }

        @Override
        public String doInBackground(Void... params) {
            for (k = 1; k <= 10; k++) {
                try {

                    SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);
                    request.addProperty("QuestionId", Long.valueOf(k));

                    SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(
                            SoapEnvelope.VER11);
                    envelope.dotNet = true;
                    envelope.setOutputSoapObject(request);

                    HttpTransportSE androidHttpTransport = new HttpTransportSE(
                            URL);

                    androidHttpTransport.call(SOAP_ACTION, envelope);
                    SoapPrimitive response = (SoapPrimitive) envelope
                            .getResponse();
                    result = response.toString();

                    try {
                        JSONObject o = new JSONObject(result);
                        Iterator<String> it = o.keys();

                        while (it.hasNext()) {
                            JSONArray ja = o.optJSONArray(it.next());
                            if (ja != null) {

                                for (i = 0; i <= ja.length(); i++) {
                                    String v = ja.get(i).toString();
                                    Log.i("value", i + " = " + v);

                                    if (i == 0) {
                                        opA[k - 1] = v;
                                    }

                                    if (i == 1) {
                                        opB[k - 1] = v;
                                    }
                                    if (i == 2) {
                                        opC[k - 1] = v;
                                    }
                                    if (i == 3) {
                                        opD[k - 1] = v;
                                    }
                                    if (i == 4) {
                                        opE[k - 1] = v;
                                    }

                                    if (i == 7) {

                                        questions[k - 1] = v;

                                    }
                                }
                            }

                        }

                    } catch (Exception e) {
                        e.printStackTrace();
                    }

                } catch (Exception e) {
                    return e.getMessage();
                }
            }
            return "";
        }

        @Override
        public void onPostExecute(String result) {
            if (this.dialog.isShowing()) {
                this.dialog.dismiss();
                tv.setText(result);
                Toast.makeText(MainActivity.this, opB[k], Toast.LENGTH_LONG)
                        .show();
            }
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T05:58:08.337

您无法从**doInBackground**方法访问 UI 元素，并且**tv**变量是一个 UI 元素。

```
tv.setText(e.getMessage()); 
```

相反，您可以使用[**onProgressUpdate**方法](http://developer.android.com/reference/android/os/AsyncTask.html#onProgressUpdate%28Progress...%29)来访问 UI 元素。如果您在doInBackground中调用[**publishProgress**](http://developer.android.com/reference/android/os/AsyncTask.html#publishProgress%28Progress...%29) **，则会自动调用onProgressUpdate**方法。

# jquery - 使用 jQueryMobile + PhoneGap 中的多页模板在页面之间导航时出现闪烁问题

> ID：11256476
> 
> 赞同：5
> 
> 时间：2012-06-29T05:27:00.913
> 
> 标签：jquery, css, cordova

我一直在尝试解决在页面之间导航时页面闪烁两次的问题。我尝试添加以下CSS

```
.ui-page {
    -webkit-backface-visibility: hidden;
} 
```

添加此 css 代码后，行为仍然无法预测。最初没有闪烁，但点击几下后它开始闪烁。

谁能为此提出适当的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-23T14:59:13.233

JQM 知道 Cordova Phonegap 存在问题，主要问题是它真的很慢，分页可能会出现诸如闪烁、缺少动画等问题。

您可以尝试其他框架，例如 jQT (jQTouch) 或新的 Intel AppFramework（不像 jQT 那样花哨，但速度非常快）。

还有一个非常好的（商店中提供完整的应用程序）开始它是由 Andrew Trice 制作的使用不同库的应用程序：[https ://github.com/triceam/Fresh-Food-Finder](https://github.com/triceam/Fresh-Food-Finder)

顺便说一句，使用 Cordova / Phonegap 时没有赢家框架，这取决于您要实现的目标。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-23T15:55:33.397

这可能会有所帮助：[在页面之间导航时闪烁](https://stackoverflow.com/questions/5953753/flickering-when-navigating-between-pages/16989794#16989794)

您可以尝试添加视口元标记，因为这为我解决了它：

# ipad - iPad 中带有图像的动画

> ID：11256482
> 
> 赞同：0
> 
> 时间：2012-06-29T05:27:34.100
> 
> 标签：ipad, animation, uigesturerecognizer, caanimation

嗨，我有一张像桌子圆顶的图像。当用户从左向右滑动时，我想顺时针移动它，当用户从右向左滑动时，我想逆时针移动它。

就像实时移动圆桌一样。如何在应用程序中执行此操作？

我正在使用以下代码进行旋转。它来自轨迹球示例。我遇到的问题是当图像旋转时，它会改变它的位置。

```
- (CATransform3D)rotationTransformForLocation:(CGPoint)location 
{  
    CGFloat trackBallCurrentPoint[3] = {location.x - trackBallCenter.x, location.y - trackBallCenter.y, 0.0f};

    if(fabs(trackBallCurrentPoint[0] - trackBallStartPoint[0]) < kTol && fabs(trackBallCurrentPoint[1] - trackBallStartPoint[1]) < kTol) 
    {
        return CATransform3DIdentity;
    }

    CGFloat dist = trackBallCurrentPoint[0] * trackBallCurrentPoint[0] + trackBallCurrentPoint[1] * trackBallCurrentPoint[1];
    if(dist > trackBallRadius * trackBallRadius) 
    {
        // outside the center of the sphere so make it zero
        trackBallCurrentPoint[2] = 0.0f;
    } 
    else 
    {
        trackBallCurrentPoint[2] = sqrt(trackBallRadius * trackBallRadius - dist);
    }

    // cross product yields the rotation vector
    CGFloat rotationVector[3];
    rotationVector[0] =  trackBallStartPoint[1] * trackBallCurrentPoint[2] - trackBallStartPoint[2] * trackBallCurrentPoint[1];
    rotationVector[1] = -trackBallStartPoint[0] * trackBallCurrentPoint[2] + trackBallStartPoint[2] * trackBallCurrentPoint[0];
    rotationVector[2] =  trackBallStartPoint[0] * trackBallCurrentPoint[1] - trackBallStartPoint[1] * trackBallCurrentPoint[0];

    // calc the angle between the current point vector and the starting point vector
    // use arctan so we get all eight quadrants instead of just the positive ones

    // cos(a) = (start . current) / (||start|| ||current||)
    // sin(a) = (||start X current||) / (||start|| ||current||)
    // a = atan2(sin(a), cos(a))
    CGFloat startLength = sqrt(trackBallStartPoint[0] * trackBallStartPoint[0] + trackBallStartPoint[1] * trackBallStartPoint[1] + trackBallStartPoint[2] * trackBallStartPoint[2]);
    CGFloat currentLength = sqrt(trackBallCurrentPoint[0] * trackBallCurrentPoint[0] + trackBallCurrentPoint[1] * trackBallCurrentPoint[1] + trackBallCurrentPoint[2] * trackBallCurrentPoint[2]);
    CGFloat startDotCurrent = trackBallStartPoint[0] * trackBallCurrentPoint[0] + trackBallStartPoint[1] * trackBallCurrentPoint[1] + trackBallStartPoint[2] * trackBallCurrentPoint[2]; // (start . current)

    // start X current we have already calcualted in the rotation vector
    CGFloat rotationLength = sqrt(rotationVector[0] * rotationVector[0] + rotationVector[1] * rotationVector[1] + rotationVector[2] * rotationVector[2]);

    CGFloat angle = atan2(rotationLength / (startLength * currentLength), startDotCurrent / (startLength * currentLength));

    // normalize the rotation vector
    rotationVector[0] = rotationVector[0] / rotationLength;
    rotationVector[1] = rotationVector[1] / rotationLength;
    rotationVector[2] = rotationVector[2] / rotationLength;

    CATransform3D rotationTransform = CATransform3DMakeRotation(angle, rotationVector[0], rotationVector[1], rotationVector[2]);
    return CATransform3DConcat(baseTransform, rotationTransform);
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T16:48:24.407

看看我提出的一个问题......你可能正在尝试做同样的事情（我认为这个问题没有涵盖它，但是在旋转工作之后我实现了平移手势以允许用户旋转光盘方向）

[如何在透视图中围绕其中心旋转平面对象？](https://stackoverflow.com/questions/9423892/how-to-rotate-a-flat-object-around-its-center-in-perspective-view)

# php - TYPO3：有没有办法在 Alt-Doc 表单中使用 javascript？

> ID：11256495
> 
> 赞同：1
> 
> 时间：2012-06-29T05:29:24.100
> 
> 标签：php, javascript, content-management-system, typo3, typoscript

我想知道有没有办法添加自己的 javascript 代码，这些代码将在 Alt-Doc.php 的表单处理中执行。

我需要根据其他选择框（选择事件）更改选择框值。

可能吗 ？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T07:06:59.593

You can use the `$TCA['tt_content']['ctrl']['requestUpdate'] = "yourfieldname"` to let TYPO3 add the js code (`onchange` event) to the given field. You can then write different palettes to yout TCA with different values. It's done this bay by tt_content (field `CType`) and also in the pages table (type sysfolder vs. "normal page").

The other form elements completely change in those two cases. Of course, this will cause a reload of the whole form, so you should place a field with this behavior at the top of the form.

# facebook - 是否可以在不打开任何弹出窗口的情况下触发 FB.login 功能（以便我记录现有用户）？

> ID：11256499
> 
> 赞同：0
> 
> 时间：2012-06-29T05:29:50.170
> 
> 标签：facebook

我的想法是自动触发 FB.Login 功能，如果用户已经授予我的应用程序的权限，我会登录他，如果他没有，我不希望该功能打开使用 Facebook 登录弹出窗口。

我想这样做是为了在用户进入我的“登录”页面时直接对用户进行身份验证，这样他们就不必单击“使用 Facebook 登录”。如果用户尚未授予权限，他将留在页面中并可以选择单击“使用 Facebook 登录”。

基本上我想运行 FB.login 函数但阻止它打开弹出窗口。只有当他不需要授予权限时，这才会记录用户。这可能吗？

# ios - 尝试使用带有动作手势的 AVAudioPlayer 不起作用

> ID：11256506
> 
> 赞同：0
> 
> 时间：2012-06-29T05:30:04.240
> 
> 标签：ios

因此，我尝试使用与视图的连接来启动带有摇晃动作的声音文件。我的代码抛出错误 No visible @interface for 'AVAudioPlayer' 声明选择器 'playsound'。

这是 ViewController.m

```
#import "aniMateViewController.h"
#import <AVFoundation/AVFoundation.h>
#import <AudioToolbox/AudioToolbox.h>

@interface aniMateViewController ()

@end

@implementation aniMateViewController
@synthesize playSound;

-(BOOL)canBecomeFirstResponder
{
    return YES;

}

-(void)motionBegan:(UIEventSubtype)motion withEvent:(UIEvent *)event
{
    if (motion == UIEventSubtypeMotionShake)
        {   NSLog(@"Device started shaking!");
            NSURL *url = [NSURL fileURLWithPath:[NSString stringWithFormat:@"%@/play.mp3", [[NSBundle mainBundle] resourcePath]]];
            NSError *error;
            audioPlayer = [[AVAudioPlayer alloc] initWithContentsOfURL:url error:&error];
            audioPlayer.numberOfLoops = 0;
            [audioPlayer playSound];

        }
} 
```

h文件在这里

```
#import <UIKit/UIKit.h>
#import <AVFoundation/AVFoundation.h>
#import <AudioToolbox/AudioToolbox.h>

@interface aniMateViewController : UIViewController
{
    AVAudioPlayer *audioPlayer;
    IBOutlet UIView *start;
}

@property (weak, nonatomic) IBOutlet UIView *playSound;

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T05:43:35.497

在接口中使用这个添加 AVAudioPlayer 委托：

```
 -(void)motionBegan:(UIEventSubtype)motion withEvent:(UIEvent *)event
  {
    if (motion == UIEventSubtypeMotionShake)
    {   
      NSLog(@"Device started shaking!");

       NSURL *url = [NSURL fileURLWithPath:[NSString stringWithFormat:@"%@/play.mp3", [[NSBundle mainBundle] resourcePath]]];
      audioPlayer = [[AVAudioPlayer alloc] initWithContentsOfURL:url error:NULL];
      audioPlayer.delegate = self;
       [url release];

      [audioPlayer prepareToPlay];
      [audioPlayer play];
   }
 } 
```

# sql - SQL：如何避免在单个查询中调用多个函数？

> ID：11256508
> 
> 赞同：0
> 
> 时间：2012-06-29T05:30:11.967
> 
> 标签：sql, sql-server-2008

我有一个接受标量值函数的查询 2 次，在选择列表中的字段的一个位置和连接条件中的第二个位置。我的问题是如何避免在单个查询中调用该函数？谢谢。

```
SELECT   i.Id, i.Name, . . . . . dbo.IsItemCApproved(C.Id) AS [Status], . . 
FROM @Item i 
JOIN Card C ON C.ItemId = i.Id 
AND C.Deadline IS NOT NULL 
AND dbo.IsItemCApproved(C.Id) = 'False' 
AND C.IsDeleted = 0 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T05:34:58.383

使用 CTE

```
with cte 
as 
(
    select
        id,
        calculated = myFunction(field1, field2)
    from
        table1
)
select
    id,
    field1,
    field2,
    calculated
from
    table1
inner join
    cte on cte.id = table1.id
where 
    cte.calculated = @someCondition 
```

或子查询

```
select
    id,
    field1,
    field2,
    calculated
from
(
    select 
        field1,
        field2,
        calculated = myFunction(field1, field2)
    from
        table1
) t
where
    calculated = @someCondition 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T05:59:12.583

```
Select * from
(
SELECT   i.Id, i.Name, . . . . . dbo.IsItemCApproved(C.Id) AS [Status], . . 
FROM @Item i 
JOIN Card C ON C.ItemId = i.Id 
AND C.Deadline IS NOT NULL 
AND C.IsDeleted = 0
)A
WHERE [Status] = 'False' 
```

# android - 在活动组android内部没有调用backpress

> ID：11256515
> 
> 赞同：0
> 
> 时间：2012-06-29T05:31:07.353
> 
> 标签：android

在我的 android 应用程序中，我在选项卡中使用活动组，我也在维护先前屏幕的列表。问题是，如果我们在屏幕加载后立即按下，则不会调用 Backpress 方法并且应用程序会退出，而如果我在屏幕上延迟说 30 秒后做同样的事情，它会按预期工作。根本无法解决问题。已经调试了代码并注意到新屏幕已添加到堆栈列表中，但 backpress 方法本身不是调用。尝试在活动和选项卡组类中实现回压，但没有用。请让我知道我哪里出错了。我用来添加活动的代码是

```
Intent intent = new Intent(context, TrialActivity.class);
intent.putExtra("feedId", moreitems.get(arg2).getItem_id());
intent.putExtra("heading", moreitems.get(arg2).getItem_name());
TabGroupActivity parentActivity = (TabGroupActivity) ((Activity) context)
                    .getParent();
 parentActivity.startChildActivity(moreitems.get(arg2).getItem_name()
            + Calendar.getInstance().getTimeInMillis(), intent); 
```

MyTabgroup 类是

```
@SuppressWarnings("deprecation")
public class TabGroupActivity extends ActivityGroup {

    private ArrayList<String> mIdList;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        if (mIdList == null)
            mIdList = new ArrayList<String>();
    }
    @Override
    protected void onPause()
    {
        super.onPause();
    }

    @Override
    protected void onResume() {
        // to start the first activity every time on reload( on focus of tab).

        // remove the search activity if it is in the stack
        if (mIdList != null && mIdList.size() > 0) {
            int index = -1;
            for (int i = 0; i < mIdList.size(); i++) {
                String firstId = mIdList.get(i);
                if (firstId != null
                        && "search".equalsIgnoreCase(firstId.substring(0,
                                firstId.length() - 1))) {
                    index = i;
                }

            }
            if (index != -1) {
                LocalActivityManager manager = getLocalActivityManager();
                manager.destroyActivity(mIdList.get(index), true);
                mIdList.remove(index);
                index--;
                String lastId = mIdList.get(index);

                Intent lastIntent = manager.getActivity(lastId).getIntent();

                Window newWindow = manager.startActivity(lastId, lastIntent);
                setContentView(newWindow.getDecorView());
            }

        }
        super.onResume();
    }

    /**
     * This is called when a child activity of this one calls its finish method.
     * This implementation calls {@link LocalActivityManager#destroyActivity} on
     * the child activity and starts the previous activity. If the last child
     * activity just called finish(),this activity (the parent), calls finish to
     * finish the entire group.
     */

    @Override
    public void finishFromChild(Activity child) {

        LocalActivityManager manager = getLocalActivityManager();
        int index = mIdList.size() - 1;

        if (index < 1) {
            Alerts.exit("Confirm",
                    "Do you really wish to exit from iDream Media?", this);
            return;
        }

        manager.destroyActivity(mIdList.get(index), true);
        mIdList.remove(index);
        index--;
        String lastId = mIdList.get(index);
        Intent lastIntent = manager.getActivity(lastId).getIntent();

        Window newWindow = manager.startActivity(lastId, lastIntent);
        setContentView(newWindow.getDecorView());
    }

    /**
     * Starts an Activity as a child Activity to this.
     * 
     * @param Id
     *            Unique identifier of the activity to be started.
     * @param intent
     *            The Intent describing the activity to be started.
     * @throws android.content.ActivityNotFoundException.
     */
    public void startChildActivity(String Id, Intent intent) {

        Window window = getLocalActivityManager().startActivity(Id,
                intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP));
        if (window != null) {
            mIdList.add(Id);
            setContentView(window.getDecorView());
        }
    }

    /**
     * The primary purpose is to prevent systems before
     * android.os.Build.VERSION_CODES.ECLAIR from calling their default
     * KeyEvent.KEYCODE_BACK during onKeyDown.
     */
    @Override
    public boolean onKeyDown(int keyCode, KeyEvent event) {
        if (keyCode == KeyEvent.KEYCODE_BACK) {
            // onBackPressed();
            // preventing default implementation previous to
            // android.os.Build.VERSION_CODES.ECLAIR
            return true;
        }
        return super.onKeyDown(keyCode, event);
    }

    /**
     * Overrides the default implementation for KeyEvent.KEYCODE_BACK so that
     * all systems call onBackPressed().
     */
    @Override
    public boolean onKeyUp(int keyCode, KeyEvent event) {
        if (keyCode == KeyEvent.KEYCODE_BACK) {
            onBackPressed();
            return true;
        }
        return super.onKeyUp(keyCode, event);
    }

    /**
     * If a Child Activity handles KeyEvent.KEYCODE_BACK. Simply override and
     * add this method.
     */
    @Override
    public void onBackPressed() {
        int length = mIdList.size();
        if (length > 1) {
            Activity current = getLocalActivityManager().getActivity(
                    mIdList.get(length - 1));
            current.finishFromChild(current);
        }
    }

} 
```

请让我知道我哪里出错了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-30T12:09:24.047

我终于发现问题是因为广告显示在标签顶部。参考下面的链接并得到解决。 [带有选项卡和 ActivityGroup 的后退按钮行为](https://stackoverflow.com/questions/7174624/back-button-behavior-with-tabs-and-activitygroup)

# objective-c - 下拉 UITextfield 动画

> ID：11256518
> 
> 赞同：0
> 
> 时间：2012-06-29T05:31:25.333
> 
> 标签：objective-c, animation, uiview, uitextfield

目前，我有一个“使用电子邮件注册”按钮，单击时隐藏并显示包含 3 个 UITextfields 的视图。

```
- (IBAction)hideButton:(id)sender {
[self.emailSignUp setHidden:YES];
[self.emailView setHidden:NO];
[self.signUp setHidden:NO];} 
```

我想为文本字段添加一个动画，以便在点击按钮时下拉。这可能吗？如果可以，请提供一些示例代码？先感谢您！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:56:43.827

您可以使用基于块的 [UIView animationWith...] 方法之一并更改视图的框架，或者您可以执行类似

`[UIView beginAnimations:@"Animation" context:NULL];`
// 假设您的视图位于屏幕底部的操作。
`self.textView.frame = CGRectOffset(self.textView.frame, 0, -self.TextView.frame.size.height);`
`[UIView commitAnimations];`

# javascript - 方法实现差异..需要一些理解

> ID：11256521
> 
> 赞同：2
> 
> 时间：2012-06-29T05:31:55.543
> 
> 标签：javascript, jquery

先说对不起。因为我不知道这个问题是否有效。如果有人能解决我的疑问，我会很高兴。

基本上：调用如下方法有什么不同：

1.  对象.方法名（）；

2.  $('#element').methodname();

两种方式都可以调用，但是两者之间有什么不同，其中标准使第一类和第二类方法。它在核心 javascript 中也可用吗？

如果我有一个函数，是否可以始终进行 2 种类型的方法调用？

任何人都可以提供一些很好的参考来正确理解吗？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T05:35:21.130

第一种语法：

```
object.methodName(); 
```

表示要调用一个函数，`methodName()`该函数被定义为 的属性`object`。

第二种语法：

```
$('#element').methodname(); 
```

说调用一个函数`$()`（为了使它工作）必须返回一个对象，然后调用`methodname()`该返回的对象。

你说*“双向调用是有效的”* - 所以大概你有一些类似这样的代码：

```
var myObject = $('#element');
myObject.methodname(); 
```

这种将`$()`函数结果存储在变量中的概念通常称为“缓存”jQuery 对象，如果您计划在该对象上调用很多方法，效率会更高，因为每次调用 jQuery`$()`函数时都会创建另一个 jQuery目的。

*“它在核心 javascript 中也可用吗？”* 是的，*如果*您实现返回对象的函数。也就是说，JS 支持这个（它必须支持，因为 jQuery 只是一个 JS 库）但它不会自动发生，你必须编写适当的函数代码。例如：

```
function getObject() {
   return {
      myMethod1 : function() { alert("myMethod1"); return this; },
      myMethod2 : function() { alert("myMethod2"); return this; }
   };
}

getObject().myMethod1().myMethod2(); 
```

在我看来，更深入地解释这个概念超出了 Stack Overflow 答案的范围——你需要阅读一些 JavaScript 教程。[一旦您了解了 JS 基础知识， MDN 的 Working With Objects](https://developer.mozilla.org/en/JavaScript/Guide/Working_with_Objects)文章是一个很好的起点（可以说使用对象*是*JS 基础，但显然我的意思是比这更基础的东西）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T05:35:38.477

差异非常微妙。

```
object.methodname(); 
```

这是 JavaScript 手头有对象的时候。

```
$('#element').methodname(); 
```

If you are using jQuery, you are asking jQuery to select the object that has the id of `#element`. After that you invoke the method on the selected object.

# asp.net - 获取没有 Request 对象的 asp.net 服务器和应用程序 url

> ID：11256524
> 
> 赞同：3
> 
> 时间：2012-06-29T05:32:30.043
> 
> 标签：asp.net

有没有办法在没有访问**请求**对象的情况下获取服务器 url（例如： [http ://www.myapp.com:8080/applicationFolder）？](http://www.myapp.com:8080/applicationFolder)

 **我需要 aplication_start 处的 url，并且在某些类中，包含所有好东西的**Request**对象不可用。

**注意**：我知道可以使用获取应用程序文件夹

```
VirtualPathUtility.ToAbsolute("~/"); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T05:50:42.973

HttpContext.Current.Request 是一个静态属性，它始终返回当前为会话执行的 Request 对象。

我认为您需要一个自定义解决方案来知道在应用程序启动后何时发出第一个请求，然后您可以发送任何您想要的电子邮件。这是与此处解决方案类似的问题[http://weblogs.asp.net/reganschroder/ archive/2008/07/25/iis7-integrated-mode-request-is-not-available-in-this-context-exception-in-application-start.aspx](http://weblogs.asp.net/reganschroder/archive/2008/07/25/iis7-integrated-mode-request-is-not-available-in-this-context-exception-in-application-start.aspx)这首先在 BeginRequest 事件中进行初始化检查。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-19T02:57:54.033

可以有许多不同的地址都指向同一个 ASP.NET 网站，例如使用 IP 地址或名称。可能有多个 DNS 名称指向同一个 ASP.NET 应用程序。因此，Global 的父类 HttpApplication 不知道访问者将使用哪个 URL。连 IIS 都不知道。因此，您必须等待第一个请求，然后在请求中检查访问者使用哪个 URL 访问您的站点。像这样的东西：

```
string baseUrl = Context.Request.Url.GetLeftPart(UriPartial.Authority); 
```

在 Global.Application_Start 期间必须使用 Context 来访问请求，因为 Global.Request 尚未初始化。**

# java - 如何在方法调用中从集合转换为列表？

> ID：11256527
> 
> 赞同：-3
> 
> 时间：2012-06-29T05:32:42.210
> 
> 标签：java, list, methods, set

我想在方法调用中从集合转换为列表。现在这就是我所做的：

```
List<Integer> lrsIdList = new ArrayList<Integer>();
lrsIdList.addAll(repaymentMap.keySet());
getObjects(lrsIdList) 
```

我该怎么做呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T05:37:28.443

假设您的`repaymentMap.keySet()`退货`Set<Integer>`

```
getObjects(new ArrayList<Integer>(repaymentMap.keySet())); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T05:40:26.817

您可以通过将 Set 实例传递给 List 实现类（如 ArrayList）的构造函数来将 Set 转换为 List。

```
List<String> list = new ArrayList<String>(hashset); 
```

# c# - 实体框架中 Where 子句中的 MAX

> ID：11256531
> 
> 赞同：3
> 
> 时间：2012-06-29T05:33:05.283
> 
> 标签：c#, asp.net, entity-framework

我有这样的 SQL 查询

```
SELECT WI.[WorkItemID]  ,[WorkItemNumber]  ,[ToDate]     
FROM [WorkItem] AS WI INNER JOIN  [WorkItemTrack] AS WT on WI.WorkItemID=WT.WorkItemID
WHERE MAX([ToDate]) BETWEEN @StartDate AND @EndDate 
```

和相应的实体框架查询是

```
 workItems = from wi in workItems.Where(p => p.IsActive)
             join wt in entityCollection.WorkItemTrack on wi.WorkItemID equals wt.WorkItem.WorkItemID
             where wt.ToDate >= fromdate && wt.ToDate <= todate
             select wi; 
```

在这里，我无法在 Enitity Framework Query 中将 MAX 用于 wt.ToDate

请帮我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:51:27.553

where 子句中的最大值不应该起作用。

> “聚合可能不会出现在 WHERE 子句中，除非它位于 HAVING 子句或选择列表中包含的子查询中，并且被聚合的列是外部引用。”

但是，如果您想要基于某个列的最高结果，请尝试按该列添加订单，然后获取该集合的最高结果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T05:49:09.603

您是否尝试过[SqlServer.Max()](http://msdn.microsoft.com/en-us/library/bb399163%28v=vs.90%29.aspx)方法。这些是您可以使用的聚合方法

例子

```
SELECT VALUE SqlServer.MAX(p.ListPrice)
FROM AdventureWorksEntities.Product as p 
```

# linq-to-sql - 在 LinqToSql 实体类中访问不相关的实体

> ID：11256535
> 
> 赞同：0
> 
> 时间：2012-06-29T05:33:27.983
> 
> 标签：linq-to-sql, entity, datacontext

在 LinqToSql 中，如果我想访问实体部分类中的非相关实体，如何在不创建新实体的情况下执行此操作`DataContext`？

这是场景：

我有桌子`Client`，`IssueType`和`ClientIssueType`。如果不想使用默认值， A`Client`可以指定一个列表。我在表中有默认值，其中 a为.`IssueTypes``IssueTypes``IssueTypes``ClientIssueType``ClientId``null`

在我的`Client`部分中，我想尝试检索 all `IssueTypes`，如果没有找到，则返回所有 default `IssueTypes`。`IssueTypes`我可以看到使用 a访问的唯一方法`null ClientId`是通过 new 访问表`DataContext`，一旦我想开始将它们分配给`Issues`.

我哪里错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-30T09:10:45.470

我通过将逻辑从实体部分类移到 DataContext 部分类中解决了这个问题。当我调用该方法时，我传入了`Client`实体。

# android - 调用 Web 服务时不显示进度对话框

> ID：11256539
> 
> 赞同：-1
> 
> 时间：2012-06-29T05:34:10.710
> 
> 标签：android

我是安卓新手。我想在用户单击登录按钮时显示进度对话框。我试过了，但对话框没有显示

```
btn_logIn.setOnClickListener(new OnClickListener() {
     @Override
     public void onClick(View view) {
         getUserCredentials();
     }
}); //end of anonymous class

private void showProgressDialog() {     
    if (dialog == null) {       
        dialog = new ProgressDialog(this);          
    }
    dialog.setMessage("Please Wait. Your authentication is in progress");
    dialog.setButton("Cancel", new DialogInterface.OnClickListener() {
        @Override
        public void onClick(DialogInterface dialog, int which)              
            dialog.dismiss();               
        }           
    }); //end of anonymous class        
    dialog.show();  
} //end of showProgressDialog()

private void getUserCredentials() {

    EditText txt_userName = (EditText) findViewById(R.id.txt_userName);
    String userName = txt_userName.getText().toString();

    EditText txt_password = (EditText) findViewById(R.id.txt_password);
    String password = txt_password.getText().toString();

    if (userName != null && !userName.trim().equals("") && password != null && !password.trim().equals("")) {                   
        showProgressDialog();       
        callWebService(userName, password);         
    }
} //end of getUserCredentials()

private void callWebService(String userName, String password) {

    try {

        SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);
        request.addProperty("userName", userName);
        ....            
        Object result = envelope.getResponse();             
        if (result.equals("true")) {                
            dialog.dismiss();
            Toast.makeText(this, result.toString(), Toast.LENGTH_SHORT).show();

        } else {                
            dialog.dismiss();
            Toast.makeText(this, result.toString(), Toast.LENGTH_SHORT).show();                             
        }

     } catch (SocketTimeoutException e) {            
         dialog.dismiss();
         Toast.makeText(this, "Service is not connected, Please make sure your server is running", Toast.LENGTH_LONG).show();                       
    }  catch(Exception e) {         
        e.printStackTrace();
        dialog.dismiss();
        Toast.makeText(this, "Unable to connect, please try again later. Thank you", Toast.LENGTH_LONG).show();                     
     }
} //end of callWebServide() 
```

我做错什么了吗。当我单击登录按钮并且服务未运行时，它显示消息“**服务未连接，请确保您的服务器正在运行”**，但对话框未显示...为什么？我的逻辑是用户单击登录时按钮和字段有值然后开始显示进度对话框，如果发生任何事情，例如结果出现或服务器未运行或发生任何异常，然后我删除对话框并显示适当的消息，但对话框没有显示...为什么？我做错了什么？请帮助..

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T05:42:33.303

当任务启动时使用 AsyncTask 初始化您的小部件，然后从 run 方法调用您的 web 服务并在 stop 方法上关闭您的进度条。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:55:12.133

试试这个，

像这样更改您的 getUserCredentials()，

```
private void getUserCredentials() {

    EditText txt_userName = (EditText) findViewById(R.id.txt_userName);
    String userName = txt_userName.getText().toString();

    EditText txt_password = (EditText) findViewById(R.id.txt_password);
    String password = txt_password.getText().toString();

    if (userName != null && !userName.trim().equals("") && password != null && !password.trim().equals("")) {                   
        showProgressDialog();
 Thread t=new Thread(new Runnable() {

        public void run() {
             callWebService(userName, password);  

        }
    });   t.start();    
  }
} 
```

而你的**callWebService**方法是这样的，

```
private void callWebService(String userName, String password) {

try {

    SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);
    request.addProperty("userName", userName);
    ....            
    Object result = envelope.getResponse();             
    if (result.equals("true")) {                
        dialog.dismiss();
        Toast.makeText(this, result.toString(), Toast.LENGTH_SHORT).show();

    } else {  
        ActivityName.this.runOnUiThread(new Runnable() {

    public void run() {
         dialog.dismiss();
        Toast.makeText(this, result.toString(), Toast.LENGTH_SHORT).show();  

    }
});              

    }

 } catch (SocketTimeoutException e) {  
      ActivityName.this.runOnUiThread(new Runnable() {

    public void run() {
          dialog.dismiss();
     Toast.makeText(this, "Service is not connected, Please make sure your server is running", Toast.LENGTH_LONG).show();                       
    }
});           

}  catch(Exception e) {         
    e.printStackTrace();
 ActivityName.this.runOnUiThread(new Runnable() {
    public void run() {
           dialog.dismiss();
    Toast.makeText(this, "Unable to connect, please try again later. Thank you", Toast.LENGTH_LONG).show();                       
    }
});   

 } 
```

}

**更新 1**

要从您的评论中回答您的问题，

1）是的异步任务更有效。它有自己的方法来完成我在此处描述的相同任务。

AsyncTask 有以下方法，

**i)onPreExecute()-可用于启动对话框 ii)doInBackground()-充当后台线程。iii)onPostExecute()-在结束时调用它，您可以在其中关闭对话框。**

我没有提到的原因是，您可能必须更改工作代码的结构以适应异步任务。

2) **runonUiThread** - 顾名思义，其中的任何内容都将被视为在主 UI 线程中运行。所以基本上要更新屏幕，你必须使用它。还有其他可用的方法，例如也可以执行相同任务的处理程序。

# javascript - Javascript`typeof`验证问题

> ID：11256541
> 
> 赞同：0
> 
> 时间：2012-06-29T05:34:36.143
> 
> 标签：javascript, oop

我开始在 JS 中学习 OOP，我遇到了这个问题，当返回 false时我`alert()`不会触发。`validateString`我尝试`personOne.setFirstName('');`但`alert()`不会触发。

```
//define Name class 
function Name () {
    this.firstName = '';
    this.lastName = '';
    this.middleName = '';
    this.details = {
        eyeColor: '',
        hairColor: ''
    }
};

var validateString = function(p) {
    return typeof p != "undefined" && $.trim(p).length;
};

//begin Name methods
Name.prototype.getFullName = function() {
    return this.firstName + ' ' + this.middleName + ' ' + this.lastName;
};
Name.prototype.setFirstName = function(p) {
    if (validateString) {
        this.firstName = p;
    } else {
        alert('Please enter a valid first name.');
    }
};
Name.prototype.setLastName = function(p) {
    if (validateString) {
        this.lastName = p;
    } else {
        alert('Please enter a valid last name.');
    }
};
Name.prototype.setMiddleName = function(p) {
    if (validateString) {
        this.middleName = p;
    } else {
        alert('Please enter a valid middle name.');
    }
};
Name.prototype.setHairColor = function(p) {
    this.details.hairColor = p;
};
Name.prototype.setEyeColor = function(p) {
    this.details.eyeColor = p;
};

//end Name methods

var personOne = new Name();
personOne.setFirstName('John');
personOne.setLastName('Doe');
personOne.setMiddleName('Barry');
personOne.setEyeColor('Brown');
personOne.setHairColor('Black');
document.write(personOne.getFullName());
document.write(personOne.details.eyeColor);
document.write(personOne.details.hairColor); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T05:36:27.730

您需要将参数传递给`validateString`.

```
if (validateString(p)) {
  //etc
} 
```

**编辑：** ...而且，正如@potench 所提到的，该`if`语句被评估的原因`true`是因为：

```
if (myFunc) {
  //blah
} 
```

意思是“如果`myFunc`作为定义的变量存在”。在这种情况下，它与`if (3)`or相同`if (true)`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:52:42.867

`validateString`在这种情况下你不需要。考虑

```
Name.prototype.setFirstName = function(p) {
  this.firstName = p || alert('please enter a first name');
} 
```

这称为[短路布尔值](http://en.wikipedia.org/wiki/Short-circuit_evaluation)。如果未提供参数，或者参数为空字符串，则会触发警报并`this.firstName will be undefined. If you need to check te length of`使用 p`，使用：

```
Name.prototype.setFirstName = function(p) {
  this.firstName = (p && p.trim().length) || alert('please enter a first name');
} 
```

# css - 在三个浮动 div 下格式化 div

> ID：11256542
> 
> 赞同：1
> 
> 时间：2012-06-29T05:34:39.297
> 
> 标签：css, html, css-float

我有一个网站的一部分，其中有三个相邻的 div。然后在这些之下，还有另一个 div。但是，位于三个浮动 div 下方的 div 显示在页面顶部。如何使 div 位于三个浮动 div 下方？

有问题的 div 是称为页脚的 div

html:

```
 <div id="bodyholder"> 
 <div id="leftholder">
 Welcome to the website.... <br>
 <br style="line-height:10px">
 <img src="images/1_p1.jpg" align="left" style="margin-right:19px" alt="" border="0">
 <br>Lorem ipsum dolor sit amet, consectetur adipisicing elit sed do eiusmod tempor.     <br>
 <br style="line-height:40px">
 Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque      laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi      architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia.                             
 </div>
<div id="middleholder">
<img src="images/p1.png" alt="Statistics"/>
<img src="images/p2.png" alt="Schoolwork"/>
<img src="images/p3.png" alt="In the News"/>
</div>
 <div id="rightholder">
 Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque      laudantium, totam rem aperiam, eaque ipsa quae.<br>
 <br style="line-height:10px">
 <img src="images/1_p1.jpg" align="left" style="margin-right:19px" alt="" border="0">
 <br>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque.<br>
 <br style="line-height:40px">
 Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil      molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur? quis      nostrum exercitationem ullam vel eum iure reprehenderi.                            
 </div>
    <div id="footer">
            <div id="footerinner">                                             
    <div class="vlinks">vel eum iure reprehenderi</div>
            </div>
    </div>

 </div> 
 </div> 

 </body>
 </html> 
```

和CSS

```
 body {
padding:0;
margin:0;
background-image: url(images/background.gif);
background-repeat: repeat;
background-position: center top;
font-size:12px;
    font-family:Verdana;
color:#FFFFFF;
line-height:14px;
vertical-align:top;

 }
 #top{
 width: 766px;  

 }

 #fullholder{
margin: 0 auto;
width:766px;
height:100%;
border-width: 1px;
border-style: solid;
border-color: #fff;
background-color: #000;

 }
 #nav{
background-color: #000;
height:84px;
 }

 ul#list-nav {
list-style:none;
padding:0;
width:764px;
height: 84px;
margin-left: 2px;
margin-top: 0px;
 }

 ul#list-nav li {
display:inline;

 }

 ul#list-nav li a {
text-decoration:none;
font-weight:bold;
font:24px "Times New Roman", Times, serif;
line-height:78px;
text-align:center
    list-style-type:none;
padding-top:2px;
padding-bottom:2px;
width:125px;
background:#b99757;
color:#FFFFFF;
float:left;
text-align:center;
border:1px solid #fff;
 }

 ul#list-nav li a:hover {
background:#a2abb2;
color:#000
 }

 #list-nav #menu_active a{
 background:#a2abb2;
 color:#000;
 }

 #bodyholder{
border-left-width: 1px;
border-left-style: solid;
border-left-color: #fff;
border-right-width: 1px;
border-right-style: solid;
border-right-color: #fff;
border-top-width: 2px;
border-top-style: solid;
border-top-color: #000;
margin-left:2px;
width:760px;
height:470px;
background-image: url(images/1_bg.gif);
background-repeat: repeat-x;
 }

 #leftholder{
float: left;
margin-top: 5px;
margin-left: 5px;
border:10px solid #A2ABB2;
padding:10px 20px;
background:#000000;
width:215px;
height:354px;
border-radius:25px;
-moz-border-radius:25px;    
font-family: "Times New Roman", Times, serif;
font-size: 14px;
color: #FFF;
display:block;
 }

 #middleholder
 {
float: left;
margin-top: 5px;
margin-left: 8px;   
width:191px;
height:354px;   
display:block;
 }

 #rightholder{
float: left;
margin-top: 5px;
margin-left: 1px;
border:10px solid #A2ABB2;
padding:10px 20px;
background:#000000;
width:215px;
height:354px;
border-radius:25px;
-moz-border-radius:25px;    
font-family: "Times New Roman", Times, serif;
font-size: 14px;
color: #FFF;
display:block;
 }

 #rightholdertwo{
float: left;
margin-top: 5px;
margin-left: 1px;
border:10px solid #A2ABB2;
padding:10px 20px;
background:#000000;
width:215px;
height:354px;
border-radius:25px;
-moz-border-radius:25px;    
font-family: "Times New Roman", Times, serif;
font-size: 14px;
color: #FFF;
display:block;
 }
 #leftholdertwo{
float: left;
margin-top: 5px;
margin-left: 5px;
border:10px solid #A2ABB2;
padding:10px 20px;
background:#000000;
width:215px;
height:354px;
border-radius:25px;
-moz-border-radius:25px;    
font-family: "Times New Roman", Times, serif;
font-size: 14px;
color: #FFF;
display:block;
 }

 #footer{
width: 760px;
background-color:#000000;
height: 55px;
font-family:Tahoma;
font-size:14px;

 } 
 #footerinner{
-moz-border-radius: 15px;
border-radius: 15px;
width: 734px;
height: 28px;
font-family:Tahoma;
font-size:14px;
background-color: #A2ABB2;
margin: 0 auto;
padding-left: 15px;
padding-top:11px;
color: #000;
 } 
```

有任何想法吗？有人可以发布 id 需要更改以使其工作的 css 吗？而且我不只是想使用400px的margin-top ...我希望它实际上被格式化（试图像那样修复它）。有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T05:50:31.583

您没有从其上方的浮动 div 中清除页脚，这就是为什么您的页脚显示在顶部的原因。我已经清除了你的页脚，现在工作正常：

```
#footer{
    width: 760px;
    background-color:#000000;
    height: 55px;
    font-family:Tahoma;
    font-size:14px;
    clear:both;
} 
```

我希望你正在寻找这样的东西：http: [//jsbin.com/avaheg/5/edit](http://jsbin.com/avaheg/5/edit)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-29T05:48:20.053

设置页脚 div 的样式，如下所示：

```
clear: both; 
```

并将定位更改为`position: relative;`如果您将其定位为绝对；

在这里查看效果：http: [//jsfiddle.net/KnK9W/](http://jsfiddle.net/KnK9W/)

# php - PHP 5.1.6 中的 JSON 支持

> ID：11256544
> 
> 赞同：0
> 
> 时间：2012-06-29T05:35:04.653
> 
> 标签：php, json

PHP 5.1.6 中的 JSON 支持有什么可能的方式...？JSON 功能在 ajax 调用中非常有用。在 AJAX 中是否有任何其他方法可以代替 JSON 支持...？谁能告诉我？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:41:50.473

正如 xdazz 所说，您确实应该更新您的 PHP 以填补安全漏洞，但作为快速修复，您可以下载 PEAR 模块并将其包含在您的文件中。

[http://download.pear.php.net/package/Services_JSON-1.0.3.tgz](http://download.pear.php.net/package/Services_JSON-1.0.3.tgz)从这个页面： http: [//pear.php.net/package/Services_JSON/download](http://pear.php.net/package/Services_JSON/download)

# eclipse - 在 pentaho 中，在 Eclipse 中配置 Tomcat 服务器期间，我无法在 ant 中构建 dev-rebuild 文件

> ID：11256551
> 
> 赞同：0
> 
> 时间：2012-06-29T05:35:52.843
> 
> 标签：eclipse, tomcat, ivy, pentaho

我正在使用 ubuntu 操作系统，我已经开始使用 eclipse 在 pentaho-BI 上工作。刚刚开始使用此链接中提到的逐步配置：[pentaho startup](http://wiki.pentaho.com/display/ServerDoc2x/01.+Setting+Up+Your+Environment+in+2.0)

我已经检查了双项目

但我在使用 Sysdeo Eclipse Tomcat Launcher 在 Eclipse 中配置 Tomcat 服务器时发现问题...给定链接的第三步：[使用 Sysdeo Eclipse Tomcat Launcher 在 Eclipse 中配置 Tomcat 服务器](http://wiki.pentaho.com/display/ServerDoc2x/05.+Debugging+with+Tomcat+in+Eclipse+IDE+in+2.0+using+Sysdeo+Eclipse+Tomcat+Launcher)..

一些常春藤得到解决，但随后在构建和构建失败时出错......:(

输出如下所示：

```
--------------------------------------------------------------------- 
```

[ivy:resolve] :: 问题总结 ::

[常春藤：解决] :::: 警告

[ivy:resolve] 未找到模块：pentaho#pentaho-open-admin-console-package;2.0.0-SNAPSHOT

[常春藤：解决] ====本地：试过

[常春藤：解决] /home/hardik/.ivy2/local/pentaho/pentaho-open-admin-console-package/2.0.0-SNAPSHOT/ivys/ivy.xml

[ivy:resolve] -- 神器 pentaho#pentaho-open-admin-console-package;2.0.0-

快照！pentaho-open-admin-console-package.jar：

[常春藤：解决] /home/hardik/.ivy2/local/pentaho/pentaho-open-admin-console-package/2.0.0-SNAPSHOT/jars/pentaho-open-admin-console-package-2.0.0-SNAPSHOT 。罐

[常春藤：解决] ==== 共享常春藤：试过

[ivy:resolve] ttp://repo.pentaho.org/artifactory/repo/pentaho/pentaho-open-admin-console-package/2.0.0-SNAPSHOT/pentaho-open-admin-console-package-2.0.0 -SNAPSHOT.ivy.xml

[ivy:resolve] ==== shared-mvn: 试过

[ivy:resolve] ttp://repo.pentaho.org/artifactory/repo/pentaho/pentaho-open-admin-console-package/2.0.0-SNAPSHOT/pentaho-open-admin-console-package-2.0.0 -SNAPSHOT.pom

[ivy:resolve] -- 工件 pentaho#pentaho-open-admin-console-package;2.0.0-SNAPSHOT!pentaho-open-admin-console-package.jar:

[ivy:resolve] ttp://repo.pentaho.org/artifactory/repo/pentaho/pentaho-open-admin-console-package/2.0.0-SNAPSHOT/pentaho-open-admin-console-package-2.0.0 -SNAPSHOT.jar

[常春藤：解决] ====公开：尝试过

[ivy:resolve] ttp://repo1.maven.org/maven2/pentaho/pentaho-open-admin-console-package/2.0.0-SNAPSHOT/pentaho-open-admin-console-package-2.0.0-SNAPSHOT .pom

[ivy:resolve] -- 工件 pentaho#pentaho-open-admin-console-package;2.0.0-SNAPSHOT!pentaho-open-admin-console-package.jar:

[ivy:resolve] ttp://repo1.maven.org/maven2/pentaho/pentaho-open-admin-console-package/2.0.0-SNAPSHOT/pentaho-open-admin-console-package-2.0.0-SNAPSHOT 。罐

[ivy:resolve] :::::::::::::::::::::::::::::::::::::::::::::: ：

[ivy:resolve] :: 未解决的依赖关系 ::

[ivy:resolve] :::::::::::::::::::::::::::::::::::::::::::::: ：

[ivy:resolve] :: pentaho#pentaho-open-admin-console-package;2.0.0-SNAPSHOT: 未找到

[ivy:resolve] :::::::::::::::::::::::::::::::::::::::::::::: ：

[常春藤：解决]

[ivy:resolve] :: 使用详细信息或调试消息级别获取更多详细信息

构建失败

/home/hardik/workspace/bi-platform-v2/branches/2.0/bi-platform-b​​uild/dev_build.xml:84：执行此行时出现以下错误：

/home/hardik/workspace/bi-platform-v2/branches/2.0/bi-platform-assembly/common.xml:194：无法解决依赖关系：

```
resolve failed - see output for details 
```

总时间：27秒

由于我不能放置超过 2 个链接，我已经从所有 http 中删除了 h，这不是一个错误..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T21:13:47.433

看起来版本 2.0-SNAPSHOT 无法从存储库中获得。看：

*   [http://repo.pentaho.org/artifactory/repo/pentaho/pentaho-open-admin-console-package/](http://repo.pentaho.org/artifactory/repo/pentaho/pentaho-open-admin-console-package/)

我建议编辑项目的 ivy.xml 文件并修改修订版。也许改用“2.0.0.stable”？

# java - servlet 加载异常

> ID：11256554
> 
> 赞同：1
> 
> 时间：2012-06-29T05:36:02.783
> 
> 标签：java, servlets

当我尝试在服务器上运行时，出现以下严重错误：

我的路径中包含最新的 Spring-servlet 和 spring-ws jar。我不想因为添加你不需要的代码而负担过重，所以你认为我应该包括的任何部分都让我知道。我确定这只是我忘记或放错地方的小东西。

```
INFO: Starting Servlet Engine: Apache Tomcat/7.0.27
02/07/2012 1:56:02 PM org.apache.catalina.core.ApplicationContext log
INFO: Marking servlet weather as unavailable
02/07/2012 1:56:02 PM org.apache.catalina.core.StandardContext loadOnStartup    

SEVERE: Servlet /weatherWS threw load() exception
java.lang.ClassNotFoundException: org.springframework.ws.transport.http.MessageDispatcherServlet
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1711)
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1556)
at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:525)
at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:507)
at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:124)
at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1136)
at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1080)
at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5015)
at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5302)
at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:895)
at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:871)
at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:615)
at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:649)
at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1585)
at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
at java.util.concurrent.FutureTask.run(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
at java.lang.Thread.run(Unknown Source)
29/06/2012 3:29:23 PM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler ["http-bio-8080"]
29/06/2012 3:29:23 PM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler ["ajp-bio-8009"]
29/06/2012 3:29:23 PM org.apache.catalina.startup.Catalina start
INFO: Server startup in 232 ms 
```

我已经仔细检查了，我的 spring-ws jar 下确实包含了 org.springframework.ws.transport.http.MessageDispatcherServlet。此文件夹包含在库构建路径下仍然遇到同样的问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:00:34.167

确保`spring-ws-*.jar`在你的日志中有一个`classpath`，日志本身说它找不到类。

```
java.lang.ClassNotFoundException: org.springframework.ws.transport.http.MessageDispatcherServlet 
```

[可以在此处](http://www.jarfinder.com/index.php/java/info/org.springframework.ws.transport.http.MessageDispatcherServlet)找到包含此类的 jar 。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T05:41:51.140

这是一个旧链接，但它应该为您指明正确的方向：

*   [http://www.coderanch.com/t/443071/Spring/spring-MessageDispatcherServlet-class-not-found](http://www.coderanch.com/t/443071/Spring/spring-MessageDispatcherServlet-class-not-found)

以下是来自 jarfinder.com 的结果：

*   [http://www.jarfinder.com/index.php/java/info/org.springframework.ws.transport.http.MessageDispatcherServlet](http://www.jarfinder.com/index.php/java/info/org.springframework.ws.transport.http.MessageDispatcherServlet)

底线：确保你有正确的 spring-ws-core-xxx.jar

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-29T05:56:02.093

确保在 WEB-INF/lib 目录中复制包含 org.springframework.ws.transport.http.MessageDispatcherServlet 的相关 jar

在这里可以找到包含此类的罐子[http://www.jarfinder.com/index.php/java/info/org.springframework.ws.transport.http.MessageDispatcherServlet](http://www.jarfinder.com/index.php/java/info/org.springframework.ws.transport.http.MessageDispatcherServlet)

# ios - 在 Iphone 上连接 Vpon Adwhirl

> ID：11256556
> 
> 赞同：0
> 
> 时间：2012-06-29T05:36:21.413
> 
> 标签：ios, xcode, adwhirl

我尝试在 Iphone 上连接 Vpon Adwhirl ，我的 iphone 应用程序上的广告显示，但我有一个问题，因为我看到一个错误

```
2012-06-29 13:24:21.001 Butter[3083:17603] Cannot create ad network config from {
    key = "";
    nid = ;
    nname = "";
    priority = ;
    type =;
    weight = ;
}: Ad network type 21 not supported, no adapter found 
```

“不支持广告网络类型 21”，这是什么意思？

我点击了广告网络，但我的开发者面板没有改变？

请给我一些建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T20:36:05.207

广告网络 21 标识 BrightRoll 网络。此错误表示您的应用程序中未包含 BrightRoll 适配器或 BrightRoll SDK。

# paypal - 使用 PayPal 进行试用申请

> ID：11256559
> 
> 赞同：0
> 
> 时间：2012-06-29T05:37:02.753
> 
> 标签：paypal, credit-card

假设客户已注册免费试用，如果他们想继续服务，则应仅在试用期结束时收费。我希望通过 PayPal 的 API 执行以下操作：

*   在存储他们的抄送数据之前，请检查卡是否有效
*   在 PayPal 上创建、更新、删除和获取信用卡信息
*   还将用户的抄送数据链接到他们在我的系统上的用户名或 ID
*   存储抄送数据，但稍后向客户收费（试用应用程序需要）

这些在 PayPal 上可行吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T17:57:09.163

您无法在 PayPal 中执行上述某些功能。

这是您可以在 PayPal 中执行的操作。

***第一个选项***- DoReferenceTransactionReq（收费时间和金额可能会有所不同）

***1）首先***从客户的信用卡中扣款（假设是 5 美元）

2）保存该交易ID

3）参考该交易ID进行下一次计费（不再需要信用卡）

***第二个选项***- CreateRecurringPaymentsProfileReq（定期时间和金额是固定的）

1）根据时间（例如，日、周、年）创建循环配置文件

2) PayPal 将自动向客户的帐户收费

Authorize.Net 也具有称为 CIM（客户信息管理器）的相同功能。存储/访问用户配置文件和支付配置文件更容易。此外，您不需要先向客户的信用卡收费。

# javascript - 如何在 Pyramid/Pylon 中返回 javascript

> ID：11256560
> 
> 赞同：2
> 
> 时间：2012-06-29T05:37:21.223
> 
> 标签：javascript, python, pyramid

如何在 Pyramid/Pylon 框架中返回一些 javascript 代码或带有视图可调用对象的 javascript 文件？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-29T08:03:07.963

您可以像使用任何模板/视图可调用一样执行此操作。这没什么不同。我仍然建议这样设置内容类型。

```
from pyramid.view import view_config

@view_config(name='javascript', renderer='templates/javascript.mako')
def my_js_view(request):
    request.response.content_type = 'application/javascript'
    return {... params ...} 
```

它与其他观点并没有真正的不同。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-29T10:02:27.320

什么*样*的javascript？动态生成的，还是静态的？

静态时，只需像 CSS 和图像一样使用[静态视图](http://docs.pylonsproject.org/projects/pyramid/en/latest/narr/assets.html)来提供它。

如果是动态的，则使用[模板](http://docs.pylonsproject.org/projects/pyramid/en/latest/narr/templates.html)生成 javascript 文件并使用正确的内容类型提供服务；这是一个使用[Chameleon 文本渲染器](http://docs.pylonsproject.org/projects/pyramid/en/latest/narr/templates.html#templating-with-chameleon-text-templates)的示例，但您当然可以使用自己喜欢的模板引擎：

```
@view_config(name='generated_javascript', renderer='templates/generated_javascript.txt')
def generated_javascript(request):
    request.response.content_type = 'text/javascript'
    # The returned dict holds items your template can access when
    # generating the javascript.
    return dict(foo='bar', spam='eggs') 
```

请注意，我[`content_type`在 Response 对象上设置了属性，](http://docs.pylonsproject.org/projects/pyramid/en/latest/api/response.html#pyramid.response.Response.content_type)以确保浏览器能够识别您生成的 JavaScript。

然后，您的模板可以访问`dict`您返回的值以及一些额外的[系统值](http://docs.pylonsproject.org/projects/pyramid/en/latest/narr/templates.html#system-values-used-during-rendering)，就像任何其他模板一样。

请注意，最佳实践是尽量减少动态 JavaScript 的使用，并尽可能多地以静态方式提供它。任何（动态）上下文信息都应该真正包含在您生成的 HTML 中，然后您的静态 JavaScript 可以加载和使用这些信息。然后，您的所有访问者都可以缓存您的静态 JavaScript，从而显着提高性能。请参阅[JavaScript 文件的变色龙模板？](https://stackoverflow.com/q/11155947)有关如何实现这一目标的一些提示。

# groovy - Gradle 依赖和路径中的空间

> ID：11256561
> 
> 赞同：0
> 
> 时间：2012-06-29T05:37:23.483
> 
> 标签：groovy, javafx-2, gradle

我正在创建一个 Gradle 插件

当我尝试为有空间的 project.dependencies compile 设置 jar 路径时，出现异常

```
* What went wrong:
A problem occurred evaluating root project 'visage-gradle-sample'.
> No signature of method: org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.compile() is applicable for argument types: (org.gradle.api.internal.file.collections.DefaultConfigurableFileCollection) values: [file collection]
Possible solutions: module(java.lang.Object) 
```

我正在尝试在 MyPlugin 应用方法中设置它

```
 private void configureSetup(project) {

    final javafxHome = System.env["JAVAFX_HOME"]

    def jfxJar =''

    if (javafxHome) {
        jfxJar = "${javafxHome}${File.separator}rt${File.separator}lib${File.separator}jfxrt.jar"
    }
    else{
        final javaHome = System.env["JAVA_HOME"]
        jfxJar = "${javaHome}${File.separator}jre${File.separator}lib${File.separator}jfxrt.jar"
    }

    if(!(new File(jfxJar)).exists())
    throw new StopExecutionException("JAVAFX_HOME is not set or your JDK is not having JAVAFX jar.")

        project.dependencies  {
          compile project.files(jfxJar)
    }

} 
```

我正在尝试设置位于以下路径中的 JavaFX 2 jfxrt.jar

```
 C:\Program Files\Oracle\JavaFX 2.1 SDK\rt\lib\jfxrt.jar 
```

调试显示

```
 15:36:31.036 [ERROR] [org.gradle.BuildExceptionReporter] Caused by: groovy.lang.MissingMethodException: No signature of method: org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.compile() is applicable for argument types: (org.gradle.api.internal.file.collections.DefaultConfigurableFileCollection) values: [file collection]
 Possible solutions: module(java.lang.Object)
 15:36:31.051 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.methodMissing(DefaultDependencyHandler.groovy:94)
 15:36:31.067 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.invokeMethod(DefaultDependencyHandler.groovy)
 15:36:31.082 [ERROR] [org.gradle.BuildExceptionReporter]        at org.visage.gradle.plugin.VisagePlugin$_configureSetup_closure1.doCall(VisagePlugin.groovy:122)
 15:36:31.098 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.util.ConfigureUtil.configure(ConfigureUtil.java:141)
 15:36:31.114 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.util.ConfigureUtil.configure(ConfigureUtil.java:90)
 15:36:31.129 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.project.AbstractProject.dependencies(AbstractProject.java:879)
 15:36:31.129 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.Project$dependencies.call(Unknown Source)
 15:36:31.160 [ERROR] [org.gradle.BuildExceptionReporter]        at org.visage.gradle.plugin.VisagePlugin.configureSetup(VisagePlugin.groovy:121)
 15:36:31.176 [ERROR] [org.gradle.BuildExceptionReporter]        at org.visage.gradle.plugin.VisagePlugin.this$2$configureSetup(VisagePlugin.groovy)
 15:36:31.176 [ERROR] [org.gradle.BuildExceptionReporter]        at org.visage.gradle.plugin.VisagePlugin$this$2$configureSetup.callCurrent(Unknown Source)
 15:36:31.207 [ERROR] [org.gradle.BuildExceptionReporter]        at org.visage.gradle.plugin.VisagePlugin.apply(VisagePlugin.groovy:67)
 15:36:31.207 [ERROR] [org.gradle.BuildExceptionReporter]        at org.visage.gradle.plugin.VisagePlugin.apply(VisagePlugin.groovy)
 15:36:31.223 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultProjectsPluginContainer.providePlugin(DefaultProjectsPluginContainer.java:107)
 15:36:31.239 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultProjectsPluginContainer.addPluginInternal(DefaultProjectsPluginContainer.java:71)
 15:36:31.254 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultProjectsPluginContainer.apply(DefaultProjectsPluginContainer.java:37)
 15:36:31.270 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.applyPlugin(DefaultObjectConfigurationAction.java:101)
 15:36:31.285 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.access$200(DefaultObjectConfigurationAction.java:32)
 15:36:31.301 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction$3.run(DefaultObjectConfigurationAction.java:72)
 15:36:31.317 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.execute(DefaultObjectConfigurationAction.java:114)
 15:36:31.348 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.project.AbstractProject.apply(AbstractProject.java:840)
 15:36:31.364 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.Project$apply.call(Unknown Source)
 15:36:31.379 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.project.ProjectScript.apply(ProjectScript.groovy:34)
 15:36:31.395 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.Script$apply.callCurrent(Unknown Source)
 15:36:31.410 [ERROR] [org.gradle.BuildExceptionReporter]        at build_1c4c4h5n90lk41hinuth6in4rk.run(D:\MyWorkBench\jugchennai\visage-gradle-plugin\visage-gradle-sample\build.gradle:8)
 15:36:31.410 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:52)
 15:36:31.426 [ERROR] [org.gradle.BuildExceptionReporter]        ... 29 more
 15:36:31.442 [ERROR] [org.gradle.BuildExceptionReporter]
 15:36:31.457 [LIFECYCLE] [org.gradle.BuildResultLogger] 
```

如何克服路径中的空间？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-29T15:29:26.397

看起来问题与路径中的空格无关。我假设代码不应用`java`插件，因此没有`compile`配置。

顺便说一句，`File.separator`将路径传递给 Gradle 时永远不需要使用。只需使用`/`，Gradle 就会做正确的事情。

# android - 如何使用 simple_list_item_2 设置 ListView 的两行？

> ID：11256563
> 
> 赞同：39
> 
> 时间：2012-06-29T05:37:42.687
> 
> 标签：android, android-widget

因此，以下将创建一个 ListView，其中行的“主要”文本视图由 values 数组填充。

```
ArrayAdapter<String> adapter = new ArrayAdapter<String>(this, 
    android.R.layout.simple_list_item_2, android.R.id.text1, values); 
```

将第三个参数更改为 android.R.id.text2 设置“辅助”文本视图。有没有简单的方法来设置两者？

* * *

## 回答 #1

> 赞同：122
> 
> 时间：2013-08-30T09:29:47.217

这个问题在谷歌中排名很高，但我认为给定的答案太复杂了。[正如其他](https://stackoverflow.com/questions/16062569/how-to-construct-and-display-the-info-in-simple-list-item-2)答案中所指出的，可以使用 ArrayAdapter 以非常简单的技巧实现所需的功能。

您可以覆盖 ArrayAdapter 的 getView 方法：

```
ArrayAdapter adapter = new ArrayAdapter(context, android.R.layout.simple_list_item_2, android.R.id.text1, list) {
  @Override
  public View getView(int position, View convertView, ViewGroup parent) {
    View view = super.getView(position, convertView, parent);
    TextView text1 = (TextView) view.findViewById(android.R.id.text1);
    TextView text2 = (TextView) view.findViewById(android.R.id.text2);

    text1.setText(persons.get(position).getName());
    text2.setText(persons.get(position).getAge());
    return view;
  }
}; 
```

如果您没有注意到：诀窍是提供`android.R.id.text1`as（主要是不必要的）参数，否则调用`super`将导致异常。

此外，此解决方案不使用`TwoLineListItem`API 17 中已弃用的 .

* * *

## 回答 #2

> 赞同：47
> 
> 时间：2012-06-29T05:49:36.590

AFAIK simple_list_item_2 包含一个包含两个 TextView 的 TwoLineListItem。ArrayAdapter 在这里不起作用，您要么必须创建一个自定义适配器，要么使用支持它的适配器，如 SimpleCursorAdapter。

```
ListAdapter adapter = new SimpleCursorAdapter(
                 this,
                 android.R.layout.simple_list_item_2,
                 mCursor,     // Pass in the cursor to bind to.
                 new String[] {People.NAME, People.COMPANY}, // Array of cursor columns to bind to.
                 new int[] {android.R.id.text1, android.R.id.text2});  // Parallel array of which template objects to bind to those columns.

         // Bind to our new adapter.
         setListAdapter(adapter); 
```

> 或者如果你不想要 SimpleCursorAdapter 你将不得不创建自定义 ArrayAdapter 或 BaseAdapter

创建一个自定义 ArrayAdapter，将对象（有两个项目）数组应用到自定义适配器，并将其提供给 getListView.setAdapter。

覆盖 ArrayAdapter 的 getView 方法以将您的名称字符串应用到自定义列表行视图中的 TextViews。

关注 Snippet 将对您有所帮助。

**SampleActivity.java**

```
package org.sample;

import java.util.ArrayList;

import android.app.ListActivity;
import android.content.Context;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.TextView;
import android.widget.TwoLineListItem;

public class SampleActivity extends ListActivity {

    @Override
    public void onCreate(Bundle icicle) {
        super.onCreate(icicle);

        Person person;

        ArrayList<Person> persons = new ArrayList<Person>();

        person = new Person();
        person.setName("Vipul");
        person.setAge(20);
        persons.add(person);

        person = new Person();
        person.setName("Anil");
        person.setAge(22);
        persons.add(person);

        setListAdapter(new MyAdapter(this, persons));
    }

} 
```

**人.java**

```
class Person {
    String name;
    int age;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

} 
```

**我的适配器.java**

```
class MyAdapter extends BaseAdapter {

    private Context context;
    private ArrayList<Person> persons;

    public MyAdapter(Context context, ArrayList<Person> persons) {
        this.context = context;
        this.persons = persons;
    }

    @Override
    public int getCount() {
        return persons.size();
    }

    @Override
    public Object getItem(int position) {
        return persons.get(position);
    }

    @Override
    public long getItemId(int position) {
        return 0;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {

        TwoLineListItem twoLineListItem;

        if (convertView == null) {
            LayoutInflater inflater = (LayoutInflater) context
                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            twoLineListItem = (TwoLineListItem) inflater.inflate(
                    android.R.layout.simple_list_item_2, null);
        } else {
            twoLineListItem = (TwoLineListItem) convertView;
        }

        TextView text1 = twoLineListItem.getText1();
        TextView text2 = twoLineListItem.getText2();

        text1.setText(persons.get(position).getName());
        text2.setText("" + persons.get(position).getAge());

        return twoLineListItem;
    }
} 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2015-04-28T07:03:31.543

希望这对你有帮助

```
ArrayAdapter<CustomObject> adapter = new ArrayAdapter<CustomObject> (_context, android.R.layout.simple_list_item_2, android.R.id.text1, listCustomObject) {

                                @Override
                                public View getView(int position,
                                        View convertView, ViewGroup parent) {
                                    View view = super.getView(position, convertView, parent);

                                    TextView text1 = (TextView) view.findViewById(android.R.id.text1);
                                    TextView text2 = (TextView) view.findViewById(android.R.id.text2);

                                    text1.setText(listCustomObject.get(position).getText1());

                                    text2.setText( listCustomObject.get(position).getText2() );

                                    return view;
                                }

                            }; 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-29T06:10:25.177

这个也可以试试......

```
adapter = new ArrayAdapter(this,android.R.layout.simple_list_item_2,values){
            @Override
            public View getView(int position, View convertView, ViewGroup parent){

               TwoLineListItem   row = (TwoLineListItem)super.getView(position, convertView, parent);

                row.getText1().setText(values.get***());
                row.getText2().setText(values.get****());

                return row;
            }
        };
    setAdapter(adapter); 
```

# php - 如何计算一段时间内的访问次数php

> ID：11256564
> 
> 赞同：0
> 
> 时间：2012-06-29T05:37:42.597
> 
> 标签：php, sql

如何在php和sql中计算一段时间内页面上的访问次数

现在我拥有的是一个名为每页访问次数的字段。但这只是一个数字，它不会告诉您访问的时间。我不介意只为计算某个月的访问量而开设一个新专栏。但我该怎么做呢？

我为什么要这样做？只是为了向我展示哪些网站页面比其他页面改进更多的月度报告。想法？代码？

一切都受欢迎

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T09:31:00.353

如果只是为了快速跟踪，您可以在每个页面中包含一个计数器脚本。这是 PHP 中的一个非常粗略的说明：

```
<?php
    $datafile = 'pick_a_filename.txt';
    if(file_exists($datafile)) {
        $count = file_get_contents($datafile);
        $count++;
        $fp = fopen($datafile, 'w');
        fwrite($fp, $count);
        fclose($fp);
    } else {
        $count = 1;
        $fp = fopen($datafile, 'w');
        fwrite($fp, $count);
        fclose($fp);
    }
?> 
```

然后每个月检查创建的文件，或者添加一个脚本，每个月将内容附加到统计文件中。如果有大量流量，请在写入之前包含一个 LOCK_EX 和一个随机延迟，这样当两个人同时写入时计数不会重置 - 即使在我只使用 LOCK_EX 的小网站上也发生过这种情况！随机延迟修复了它。

# c++ - 使用 Boost.asio 将 UDP 数据包发送到公共 IP

> ID：11256567
> 
> 赞同：3
> 
> 时间：2012-06-29T05:37:49.177
> 
> 标签：c++, tcp, udp, boost-asio, p2p

我想将 UDP 数据包发送到我的静态 IP `122.***.***.***`，其中 UDP 服务器侦听端口 1213。

```
udp::resolver resolver(io_serviceSend);
    udp::resolver::query query(udp::v4(),"122.***.***.***","1213");
    udp::endpoint receiver_endpoint = *resolver.resolve(query);

    udp::socket socket(io_serviceSend);
    socket.open(udp::v4());

    boost::shared_ptr<std::string> message(new std::string("Transfer"));

    socket.send_to(boost::asio::buffer(*message), receiver_endpoint); 
```

但这失败了。是不是因为我将它发送到私有端口而不是发送到 NAT 的端口。但对于 TCP，它可以完美运行。有人可以解释我的理论或发布一个好的链接。

我的服务器代码是

```
UDPTunnel::UDPTunnel(boost::asio::io_service& io_service)
:socket_(io_service, udp::endpoint(udp::v4(), 1213))
{
start_receive();
}

void UDPTunnel::start_receive()
{
    socket_.async_receive_from(
            boost::asio::buffer(recv_buffer_), remote_endpoint_,
            boost::bind(&UDPTunnel::handle_receive, this,
            boost::asio::placeholders::error,
            boost::asio::placeholders::bytes_transferred));
    cout << "\nUDP Started To Listening";
}

void UDPTunnel::handle_receive(const boost::system::error_code& error,std::size_t)
{
 cout << "\nUDP Recieved Message";
 if (!error || error == boost::asio::error::message_size)
  {
  cout << "\nRecieved Message";
  } 
```

}

# wpf - 在WPF中获取datagrid的datagridrow

> ID：11256568
> 
> 赞同：0
> 
> 时间：2012-06-29T05:37:53.030
> 
> 标签：wpf, wpfdatagrid

我在代码中使用了这一行，但它没有给出行对象，行为空。

```
DataGridRow row = 
   (DataGridRow)dtgSensorReadingList.ItemContainerGenerator.ContainerFromItem(channelGrid.Items[i]); 
```

数据网格 Xaml 代码：

```
<DataGrid Visibility="Hidden" VirtualizingStackPanel.VirtualizationMode="Standard" 
    CanUserAddRows="False" ColumnHeaderHeight="32" MinColumnWidth="65" 
    HorizontalGridLinesBrush="DarkKhaki" VerticalGridLinesBrush="DarkKhaki" 
    BorderBrush="DarkKhaki" Block.TextAlignment="Center" AutoGenerateColumns="True" 
    CanUserResizeColumns="False" CanUserReorderColumns="False" HorizontalAlignment="Left" 
    Margin="63,540,0,0" Name="dtgSensorReadingList" ItemsSource="{Binding}" Grid.Row="1" 
    Height="Auto" VerticalAlignment="Top" MaxWidth="1920" Width="Auto">
    <DataGrid.Resources>
        <Style TargetType="{x:Type DataGridColumnHeader}">
            <Setter Property="Background" Value="SteelBlue" />
            <Setter Property="Foreground" Value="white" />
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
        </Style>
        <Style TargetType="{x:Type DataGridRowHeader}">
            <Setter Property="Background" Value="Transparent" />
        </Style>
        <Style x:Key="Body_Content_DataGrid_Centering" TargetType="{x:Type DataGridCell}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type DataGridCell}">
                        <Grid Background="{TemplateBinding Background}">
                            <ContentPresenter VerticalAlignment="Center" />
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </DataGrid.Resources>
</DataGrid> 
```

请让我知道如何获得 DatGridRow ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T06:17:51.900

如果您想要选定的行，您可以绑定到数据网格中的 SelectedItem。

请告诉我们您想要实现的目标。

# vb.net - 打印可滚动的 vb.net 表单

> ID：11256572
> 
> 赞同：0
> 
> 时间：2012-06-29T05:38:51.537
> 
> 标签：vb.net

我尝试了 Visual Studio Power Pack 中的 PRINTFORM、PRINTDOCUMENT，但我也无法打印完整的可滚动表单。我正在使用视觉工作室 2010。

谁能帮我？先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T05:44:34.510

设置[PrintForm.PrintOption](http://msdn.microsoft.com/en-us/library/microsoft.visualbasic.powerpacks.printing.printform.printoption%28v=vs.80%29.aspx)。

```
PrintForm1.Print(Me, Scrollable) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-25T05:23:35.193

试试 Visual Basic PowerPacks。将`PrintAction`属性设置为`PrintToPrinter`。

```
PrintForm1.Print(Me, PowerPacks.Printing.PrintForm.PrintOption.Scrollable) 
```

# google-docs - 谷歌文档篡改

> ID：11256573
> 
> 赞同：0
> 
> 时间：2012-06-29T05:38:54.020
> 
> 标签：google-docs

注意：抱歉，这不是编程问题，但我不知道发布此查询的网站。所以我想你们中的任何人都可以帮助我解决这个问题。

查询：我使用 google docs 创建了一个 excel 表来帮助用户在线填写他们的详细信息。但我的问题是每个用户都可以访问此工作表。一些用户篡改了工作表并删除了所有数据。谷歌文档是否提供了一种机制来防止数据被篡改？我该怎么办？我应该使用其他东西来存储用户的数据，以便没有用户可以篡改数据吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-30T05:27:55.150

使用 Google 表单功能并将您的 Google 电子表格设置为私人

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-14T10:48:51.050

如果您转到*数据 > 受保护的工作表和范围*，您可以调整谁可以处理数据的设置。然而，最好的办法可能是使用 Google 表单，它允许您以结构化格式收集数据并将其转储到电子表格中。这真的是你最好的选择......

# hadoop - Hadoop 上的获取失败太多

> ID：11256578
> 
> 赞同：0
> 
> 时间：2012-06-29T05:39:18.540
> 
> 标签：hadoop, apache-pig, hdfs

我是 Hadoop/Pig 初学者。

我正在尝试构建一个 hadoop 集群。一个数据节点和一个主节点也作为数据节点。我已按照以下说明进行操作：http: [//www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-multi-node-cluster/](http://www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-multi-node-cluster/)

当我尝试运行示例 hadoop 示例时。我收到“太多获取失败”。

我在 master 和 slave 的 /etc/hosts 中配置了 master 和 host 的所有名称。我还将 somaxconn 值更改为 1024。

我在这里想念什么？请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-30T13:04:08.833

这是一个已知的问题。检查 HDFS 错误数据库以了解此错误的状态及其修复。解决方法是使用/替换 jetty.jar 最新或更高版本 > 1.26 其他选项是增加获取尝试，在 mapred-site.xml

# c# - 将 wstring、字符串和对枚举变量的引用从 C# 传递到 C++（非托管 DLL）

> ID：11256580
> 
> 赞同：0
> 
> 时间：2012-06-29T05:39:50.100
> 
> 标签：c#, c++, enums, wstring

我有一个 C++ DLL，其中导出了以下函数。

```
double getDouble(std::wstring filename, std::string ID, status &stCode);

int getInt(std::wstring filename, std::string ID, status &stCode);

float getFloat(std::wstring filename, std::string ID, status &stCode);

string getString(std::wstring filename, std::string ID, status &stCode);

int* getIntArray(std::wstring filename, std::string ID, status &stCode);

float* getFloatArray(std::wstring filename, std::string ID, status &stCode);

string* getStringArray(std::wstring filename, std::string ID, status &stCode); 
```

其中状态是枚举类型...

现在我想在我的 C#.NET 应用程序中使用这个 DLL……谁能告诉我如何在 C# 中声明受人尊敬的方法，并且可以调用这些方法……提前致谢……

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T03:34:17.597

Yes. You can. Actually, not `std::string`, `std::wstring`, any standard C++ class or your own classes can be marshaled or instantiated and called from C#/.NET. You will need to write a wrapper class for each of the C++ class before you can marshal them in .NET.

The basic idea of instantiating a C++ object from .NET world is to allocate exact size of the C++ object from .NET, then call the constructor which is exported from the C++ DLL to initialize the object, then you will be able to call any of the functions to access that C++ object, if any of the method involves other C++ classes, you will need to wrap them in a C# class as well, for methods with primitive types, you can simply P/Invoke them. If you have only a few methods to call, it would be simple, manual coding won't take long. When you are done with the C++ object, you call the destructor method of the C++ object, which is a export function as well. if it does not have one, then you just need to free your memory from .NET.

Here is an example.

```
public class SampleClass : IDisposable
{    
    [DllImport("YourDll.dll", EntryPoint="ConstructorOfYourClass", CharSet=CharSet.Ansi,          CallingConvention=CallingConvention.ThisCall)]
    public extern static void SampleClassConstructor(IntPtr thisObject);

    [DllImport("YourDll.dll", EntryPoint="DoSomething", CharSet=CharSet.Ansi,      CallingConvention=CallingConvention.ThisCall)]
    public extern static void DoSomething(IntPtr thisObject);

    [DllImport("YourDll.dll", EntryPoint="DoSomethingElse", CharSet=CharSet.Ansi,      CallingConvention=CallingConvention.ThisCall)]
    public extern static void DoSomething(IntPtr thisObject, int x);

    IntPtr ptr;

    public SampleClass(int sizeOfYourCppClass)
    {
        this.ptr = Marshal.AllocHGlobal(sizeOfYourCppClass);
        SampleClassConstructor(this.ptr);  
    }

    public void DoSomething()
    {
        DoSomething(this.ptr);
    }

    public void DoSomethingElse(int x)
    {
        DoSomethingElse(this.ptr, x);
    }

    public void Dispose()
    {
        Marshal.FreeHGlobal(this.ptr);
    }
} 
```

For the detail, please see the below link,

[C#/.NET PInvoke Interop SDK](http://www.xinterop.com/index.php/2013/04/13/introduction-to-c-pinvoke-interop-sdk/)

(I am the author of the SDK tool)

Once you have the C# wrapper class for your C++ class ready, it is easy to implement `ICustomMarshaler` so that you can marshal the C++ object from .NET.

[http://msdn.microsoft.com/en-us/library/system.runtime.interopservices.icustommarshaler.aspx](http://msdn.microsoft.com/en-us/library/system.runtime.interopservices.icustommarshaler.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:56:41.937

```
 [DllImport("external.dll", SetLastError = true, CallingConvention = CallingConvention.Cdecl)]
    public static extern MbStatus queue_accept(
        int reader,
        [MarshalAs(UnmanagedType.LPStr)] string status); 
```

查找 DllImport 属性的参数。根据您的 DLL，这些可能需要调整！

旁注：我通常将外部 dll 包装在接口和代码层中，以将其解耦以进行测试并使用依赖注入加载它。我也不会更改命名约定。

```
public interface IExternalDllInterop
{
    MB_STATUS queue_accept(int reader, string status);
}

public class AmbInterop : IAmbInterop
{
    public MbStatus queue_accept(int reader, string status)
    {
        return StaticAmbInterop.mb_queue_accept(reader, message, status);
    }
} 
```

# ios - 安全注意事项：能否拦截 UIWebView / UIWebViewDelegate

> ID：11256581
> 
> 赞同：0
> 
> 时间：2012-06-29T05:39:52.820
> 
> 标签：ios, oauth

从用户的角度来看，让应用程序不离开应用程序可能会带来安全风险。就像让应用程序在应用程序本身的 UIWebView 中处理登录视图一样。

您不应该在 .plist 中使用自定义 URL 方案吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T06:10:36.657

这一切都取决于你想做什么。您将用户留在您的应用程序中的次数越多，他停留和使用它的时间就越长。

通常使用 a 是一个出价的想法`UIWebView`，因为与原生界面相比，用户体验并不相同。

关于 Oauth，即使是询问用户凭据和/或批准的对话框也可能被编码，您需要做的就是在用户提交时在正确的 URL 上发布数据。

如果您真的想使用 Web 视图，那么最好将其包含在应用程序中，总体上用于身份验证。

# android - XML 中的边距/填充百分比

> ID：11256582
> 
> 赞同：8
> 
> 时间：2012-06-29T05:39:57.327
> 
> 标签：android, layout

我是android开发的新手。我想在 Xml 中设置边距和填充，而不是在 dp 或 px 中，而是在百分比中。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-29T06:16:56.807

这是不可能的，尽管你最好通过在你的java代码中像下面这样获取屏幕的宽度和高度来做到这一点，并且

```
 Display display = getWindowManager().getDefaultDisplay(); 
 int width = display.getWidth();
 int height = display.getHeight(); 
```

然后根据屏幕尺寸计算您的边距，并将其设置为

```
 setmargin(int x) //method of view/layout. 
```

通过这种方式，您可以根据屏幕大小设置边距，而不是针对所有屏幕固定，基本上它就像以百分比设置，但来自 Java 代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-10-10T13:54:10.993

ConstraintLayout 中引入的[指南](https://medium.com/google-developers/building-interfaces-with-constraintlayout-3958fa38a9f7)使这成为可能。

这是放置在屏幕宽度的 60% 和屏幕高度的 25% 处的 TextView 的示例：

[![布局编辑器](../Images/2bc367ad244dcd9c47161108ed355710.png)](https://i.stack.imgur.com/0OWGV.png)

```
<?xml version="1.0" encoding="utf-8"?>
<android.support.constraint.ConstraintLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <TextView
        android:id="@+id/textView"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="TextView"
        app:layout_constraintLeft_toLeftOf="@+id/guideline1"
        app:layout_constraintTop_toTopOf="@+id/guideline2" />

    <android.support.constraint.Guideline
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:id="@+id/guideline1"
        android:orientation="vertical"
        app:layout_constraintGuide_percent="0.6" />

    <android.support.constraint.Guideline
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:id="@+id/guideline2"
        android:orientation="horizontal"
        app:layout_constraintGuide_percent="0.25" />

</android.support.constraint.ConstraintLayout> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T06:25:17.987

如果您尝试在控件之间以百分比共享屏幕宽度。在 android 中做到这一点的最好方法是`weight`为它们使用属性。检查以下 URL 以获取更多详细信息。

[Android 布局参数指南](http://developer.android.com/reference/android/widget/LinearLayout.LayoutParams.html)

问候， 阿基夫·哈米德

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-11-13T06:46:43.543

虽然已经很晚了，但可以使用 Android percentRelativeLayout [https://developer.android.com/reference/android/support/percent/PercentRelativeLayout.html](https://developer.android.com/reference/android/support/percent/PercentRelativeLayout.html) 可以使用具有某些属性的百分比，但并非所有属性都受支持。百分比仍然不支持填充，而边距是。

# java - 从一段字符串中选择一个单词？

> ID：11256584
> 
> 赞同：4
> 
> 时间：2012-06-29T05:40:04.410
> 
> 标签：java, string

我试图找出Java中是否有任何方法可以实现以下目标。

我想向方法传递一个参数，如下所示

```
"(hi|hello) my name is (Bob|Robert). Today is a (good|great|wonderful) day." 
```

我希望该方法选择括号内以“|”分隔的单词之一 并返回带有随机选择的单词之一的完整字符串。Java 有什么方法可以解决这个问题，还是我必须自己在循环中使用逐个字符检查来编写代码？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-29T05:44:11.933

您可以通过正则表达式对其进行解析。

正则表达式是`\(\w+(\|\w+)*\)`；在替换中，您只需将参数拆分为“|” 并返回随机词。

就像是

```
import java.util.regex.*;

public final class Replacer {

  //aText: "(hi|hello) my name is (Bob|Robert). Today is a (good|great|wonderful) day."
  //returns: "hello my name is Bob. Today is a wonderful day."
  public static String getEditedText(String aText){
    StringBuffer result = new StringBuffer();
    Matcher matcher = fINITIAL_A.matcher(aText);
    while ( matcher.find() ) {
      matcher.appendReplacement(result, getReplacement(matcher));
    }
    matcher.appendTail(result);
    return result.toString();
  }

  private static final Pattern fINITIAL_A = Pattern.compile(
    "\\\((\\\w+(\\\|\w+)*)\\\)",
    Pattern.CASE_INSENSITIVE
  );

  //aMatcher.group(1): "hi|hello"
  //words: ["hi", "hello"]
  //returns: "hello"
  private static String getReplacement(Matcher aMatcher){
    var words = aMatcher.group(1).split('|');
    var index = randomNumber(0, words.length);
    return words[index];
  }

} 
```

（请注意，这段代码只是为了说明一个想法而编写的，可能不会编译）

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-29T05:51:19.303

可能有帮助，

将三个字符串 ("hi|hello")、(Bob|Robert) 和 (good|great|wonderful) 作为参数传递给该方法。

内部方法将字符串拆分为数组，`firststringarray[]=thatstring.split("|");`将其用于其他两个。

并使用[它](http://www.java-forums.org/new-java/26509-how-do-i-return-random-string-array.html)来使用随机字符串选择。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-29T05:44:03.437

据我所知，java没有任何方法可以直接做到这一点。

我必须为它编写代码或正则表达式

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-29T06:00:23.250

Java 没有为此提供任何现成的方法。您可以使用 Penartur 描述的 Regex 或创建自己的 java 方法来拆分字符串并存储随机单词。如果遵循第二种方法，StringTokenizer 类可以为您提供帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-29T05:47:17.010

我不认为 Java 有任何东西可以直接做你想做的事。就个人而言，我不会基于正则表达式或字符来做事，而是制作一个类似的方法：

```
String madLib(Set<String> greetings, Set<String> names, Set<String> dispositions)
{
    // pick randomly from each of the sets and insert into your background string
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-29T05:51:08.670

对此没有直接的支持。理想情况下，您不应该尝试低级别的解决方案。

您应该搜索“随机句子生成器”。你写作的方式

```
`(Hi|Hello)` 
```

等等称为语法。您必须为语法编写一个解析器。同样，编写解析器有很多解决方案。有指定语法的标准方法。寻找 BNF。

解析器和生成器问题已经解决了很多次，问题中有趣的部分将是编写语法。

# jsf-2 - EJB 未在托管 Bean 中序列化

> ID：11256587
> 
> 赞同：1
> 
> 时间：2012-06-29T05:40:30.483
> 
> 标签：jsf-2, websphere, ejb-3.0

我的应用服务器是 WebSphere Application Server V8。我有一个会话范围的托管 bean，我在其中使用 @EJB 注释注入了 EJB（EJB 3.0）。EJB 是无状态的。

```
 @ManagedBean
   @SessionScoped
    public class MyBean extends BaseBackingBean implements
    Serializable {

@EJB
private IDetails custInfo; 
```

我正在分析会话数据并注意到 NotSerializableException

```
java.io.NotSerializableException: com.ejb.EJSLocal0SLDetailsImpl_081f812d at
java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1184) at
java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1537) at
java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1502) at
java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1420) at
java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178) at 
```

现在我尝试将 EJB 标记为瞬态，并且它可以正常工作而不会引发 NotSerializableException 异常。

```
@EJB
private transient IDetails custInfo; 
```

这是正确的实现还是可以替代的解决方案？

我已经提到[EJB 应该是实例变量并在 JSF Managed Beans 中标记为瞬态吗？](https://stackoverflow.com/questions/9823300/should-ejbs-be-instance-variables-and-marked-as-transient-in-jsf-managed-beans)其中提到不需要将 EJB 标记为瞬态；那么有什么问题呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T17:23:36.210

在具有本地和远程接口的 WAS V8 上实现了 POC 代码，注意到以下几点：

**一个。使用 Local 接口（EJB 不实现 Serializable）**

```
// Initializing the EJB in the servlet
SerializableTestEJBLocal localSrvlt=new SerializableTestEJB(); 
//Try to serialize
FileOutputStream objFOS = new FileOutputStream("D:\\MYTEST\\testsrv.txt");
ObjectOutputStream objOpStr = new ObjectOutputStream(objFOS);
objOpStr.writeObject(localSrvlt); 
```

这导致了*java.io.NotSerializableException: com.ibm.test.SerializableTestEJB at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:..* 为了防止这种情况，EJB 必须显式实现 Serializable。

**湾。使用远程接口（EJB 不实现可序列化）**

```
//Obtain Remote Stub. 
SerializableTestEJBRemote seremoteSrvlt=(SerializableTestEJBRemote)PortableRemoteObject.narrow(homeObject, SerializableTestEJBRemote.class);

//Try serialization
FileOutputStream objFOS = new FileOutputStream("D:\\MYTEST\\testsrv.txt");
ObjectOutputStream objOpStr = new ObjectOutputStream(objFOS); 
objOpStr.writeObject(seremoteSrvlt); 
```

序列化成功。

结论：

远程接口的内在机制是获取存根或代理，以允许使用此代理模式进行客户端-服务器通信。这涉及数据的编组和解组，因此代理存根默认是可序列化的，因此 EJB 不需要实现可序列化接口。

但是本地接口不涉及远程查找和存根处理程序。EJB 初始化类似于初始化本地可用的类，因此默认情况下不提供序列化。在这种情况下，EJB 将需要实现可序列化接口，或者需要将对象声明为瞬态以跳过序列化。

我将变量声明为瞬态。这可能是 WebSphere 特定的解决方案

# extjs4.1 - ext4.1中如何设置列布局

> ID：11256589
> 
> 赞同：0
> 
> 时间：2012-06-29T05:40:35.030
> 
> 标签：extjs4.1

我对 EXTJS 4.1 布局有疑问。

如何在 ext 4.1 中设置面板的列布局。

在Mozilla它的工作正常。

但在 IE 中，它没有呈现，而且 IE 正在尝试关闭。

示例代码是，

```
 var panel1 = getPanel1();
          var panel2 = getPanel2();
          var panel3 = Ext.create('Ext.Panel',{
           layout:{type:'table',columns:2},
           title:'Panel3',
           items:[panel1,panel2],
           renderTo:Ext.getBody()
          }); 
```

请给我一个解决方案，在 ext4.1 的列中呈现面板......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T19:38:31.913

您是否尝试过他们在文档中显示的示例？

```
Ext.create('Ext.panel.Panel', {
    title: 'Column Layout',
    width: 350,
    height: 250,
    layout:'column',
    items: [{
        title: 'Column 1',
        columnWidth: 0.50
    },{
        title: 'Column 2',
        columnWidth: 0.50
    }],
    renderTo: Ext.getBody()
 }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T15:38:13.387

我知道一种可行的方法是使用 hbox 布局，因为我在我的代码中这样做。我相信这是您示例的等效布局：

```
var panel1 = getPanel1();//make sure this panel contains flex: .5
var panel2 = getPanel2();//make sure this panel contains flex: .5
var panel3 = Ext.create('Ext.Panel',{
   layout:{type:'hbox'},
   title:'Panel3',
   items:[panel1,panel2],
   renderTo:Ext.getBody()
}); 
```

# c++ - C ++ Unordered_Map：在编译时接收“错误：'['令牌之前的预期不合格ID”

> ID：11256591
> 
> 赞同：2
> 
> 时间：2012-06-29T05:41:35.797
> 
> 标签：c++, hash, map, compiler-errors, unordered-map

我有一个 unordered_map（在 C++ 中），它将一个 int 与一个类 Item 的对象配对。我在文件开头初始化我的无序映射：

```
#include <iostream>
#include <unordered_map>
using namespace std;
typedef std::unordered_map<int, Item> MyList; 
```

从那时起，每当我尝试使用 MyList 时，例如：

```
Item item1;
MyList[12] = item1; 
```

当我在终端中编译时，我在所述行收到一个错误：“错误：'[' token 之前的预期 unqualified-id”。有什么想法可能是错的吗？下面是我如何使用它并收到相同或类似错误的另一个示例。

```
void itemManager::removeItem(int x)  {
    MyList.erase(x);
} 
```

产生：“错误：'.'之前的预期主表达式 令牌”

请并感谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T05:46:18.743

MyList 是一种类型：

```
typedef std::unordered_map<int, Item> MyList; 
```

但是您像对象一样使用它：

```
MyList[12] = item1; 
```

也许将 typedef 放在那里是错误的。

# hudson - 在 Hudson 中运行 Javadoc 和 Sonar

> ID：11256596
> 
> 赞同：2
> 
> 时间：2012-06-29T05:41:53.870
> 
> 标签：hudson

？我正在尝试使用 Maven3 一起运行 SOnar 和 Javadoc。然而，在运行 javadoc:javadoc 和 sonar:sonar 之前，它们似乎都调用了一个干净的监狱。因此，其中一个的输出会丢失。我的 pom 条目是

```
<build>

            <plugin>
              <groupId>org.codehaus.mojo</groupId>
              <artifactId>sonar-maven-plugin</artifactId>
              <version>2.0</version>
        </plugin>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-javadoc-plugin</artifactId>
            <version>2.8.1</version>
            <executions>
              <execution>
                <id>attach-javadocs</id>
                <goals>
                  <goal>jar</goal>
                </goals>
              </execution>
            </executions>
        </plugin>
</build> 

<reporting>
<plugins>
         <plugin>
    <groupId>org.codehaus.mojo</groupId>
    <artifactId>findbugs-maven-plugin</artifactId>
    <version>2.5</version>
    <configuration>
        <threshold>Low</threshold>
        <effort>Max</effort>
    </configuration>
    </plugin>
    <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-jxr-plugin</artifactId>
        <version>2.3</version>
    </plugin>
    <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-javadoc-plugin</artifactId>
        <version>2.8.1</version>
    </plugin>
</plugins>
</reporting> 
```

我的 Maven 条目有什么问题吗？有人可以澄清我如何才能实现这两个目标。

# php - 无法获取 AJAX 表单来提交 MySQL 数据

> ID：11256597
> 
> 赞同：0
> 
> 时间：2012-06-29T05:41:54.477
> 
> 标签：php, javascript, mysql, ajax

我有这两个文件：

```
<?php
include('db.php');

?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Generic Title</title>
<script type="text/javascript" src="http://ajax.googleapis.com/
ajax/libs/jquery/1.5/jquery.min.js"></script>
<script type="text/javascript">
$(document).ready(function()
{
$(".edit_tr").click(function()
{
var ID=$(this).attr('id');
$("#time_"+ID).hide();
$("#character_"+ID).hide();
$("#message_"+ID).hide();
$("#status_"+ID).hide();
$("#time_input_"+ID).show();
$("#character_input_"+ID).show();
$("#message_input_"+ID).show();
$("#status_input_"+ID).show();
}).change(function()
{
var ID=$(this).attr('id');
var time=$("#time_input_"+ID).val();
var character=$("#character_input_"+ID).val();
var message=$("#message_input_"+ID).val();
var status=$("#status_input_"+ID).val();
var dataString = 'id='+ ID +'&time='+ time + '&character='+ character + '&message='+ message+ '&status='+ status;
$("#character_"+ID).html('<img src="load.gif" />');

if(time.length>0 && message.length>0 && character.length>0 && status.length>0)
{
$.ajax({
type: "POST",
url: "table_edit_ajax.php",
data: dataString,
cache: false,
success: function(html)
{

$("#time_"+ID).html(time);
$("#character_"+ID).html(character);
$("#message_"+ID).html(message);
$("#status_"+ID).html(status);
}
});
}
else
{
alert('Enter something.');
}

});

$(".editbox").mouseup(function() 
{
return false
});

$(document).mouseup(function()
{
$(".editbox").hide();
$(".text").show();
});

});
</script>
<style>
body
{
font-family:Arial, Helvetica, sans-serif;
font-size:14px;
}
.editbox
{
display:none
}
td
{
padding:7px;
}
.editbox
{
font-size:14px;
width:135px;
background-color:#ffffcc;

border:solid 1px #000;
padding:4px;
}
.edit_tr:hover
{
background:url(edit.png) right no-repeat #80C8E5;
cursor:pointer;
}

th
{
font-weight:bold;
text-align:left;
padding:4px;
}
.head
{
background-color:#333;
color:#FFFFFF

}

</style>

</head>

<body bgcolor="#dedede">
<div style="margin:0 auto; width:750px; padding:10px; background-color:#fff; height:800px;">
<table width="100%">
<tr class="head">
<th>Time</th><th>Character</th><th>Message</th><th>Status</th>
</tr>
<?php
$sql=mysql_query("select * from script");
$i=1;
while($row=mysql_fetch_array($sql))
{
$id=$row['id'];
$character=$row['character'];
$time=$row['time'];
$message=$row['message'];
$status=$row['status'];

if($i%2)
{
?>
<tr id="<?php echo $id; ?>" class="edit_tr">
<?php } else { ?>
<tr id="<?php echo $id; ?>" bgcolor="#f2f2f2" class="edit_tr">
<?php } ?>
<td width="10%" class="edit_td">
<span id="time_<?php echo $id; ?>" class="text"><?php echo $time; ?></span>
<input type="text" value="<?php echo $time; ?>" class="editbox" id="time_input_<?php echo $id; ?>" />
</td>
<td width="25%" class="edit_td">
<span id="character_<?php echo $id; ?>" class="text"><?php echo $character; ?></span> 
<input type="text" value="<?php echo $character; ?>"  class="editbox" id="character_input_<?php echo $id; ?>"/>
</td>
<td width="55%" class="edit_td">
<span id="message_<?php echo $id; ?>" class="text"><?php echo $message; ?></span> 
<input type="text" value="<?php echo $message; ?>"  class="editbox" id="message_input_<?php echo $id; ?>"/>
</td>
<td width="10%" class="edit_td">
<span id="status_<?php echo $id; ?>" class="text"><?php echo $status; ?></span> 
<input type="text" value="<?php echo $status; ?>"  class="editbox" id="status_input_<?php echo $id; ?>"/>
</td>
</tr>

<?php
$i++;
}
?>

</table>
</div>
</body>
</html> 
```

和

```
<?php
include("db.php");
if($_POST['id'])
{
$id=mysql_escape_String($_POST['id']);
$time=mysql_escape_String($_POST['time']);
$character=mysql_escape_String($_POST['character']);
$message=mysql_escape_String($_POST['message']);
$status=mysql_escape_String($_POST['status']);
$sql = "update script set time='$time',character='$character',message='$message',status='$status' where id='$id' ";
mysql_query($sql)
    or die("display_db_query:" . mysql_error());
}
?> 
```

他们似乎没有抛出错误，但编辑也没有提交到数据库。我哪里错了？

db.php 包含带有所有正确“东西”的连接脚本（所有正确的字段都显示，UPDATE 似乎不想正确播放）

[在http://demos.9lessons.info/table_edit/TableEdit.htm](http://demos.9lessons.info/table_edit/TableEdit.htm)有一个工作演示来展示它应该做什么（大部分代码是借用的）

在此先感谢您提供的任何帮助，我是一个难过的菜鸟。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:24:22.033

*字符*是 MySQL 中的[保留字](http://dev.mysql.com/doc/refman/5.5/en/reserved-words.html)。如果你想使用它，你需要用反引号来逃避它

```
UPDATE script SET time='$time', `character` = '$character' ... 
```

# zend-framework - Zend MVC 查询字符串重写

> ID：11256604
> 
> 赞同：1
> 
> 时间：2012-06-29T05:42:44.670
> 
> 标签：zend-framework, iis-7, url-rewriting

背景：我正在使用 IIS 7 (Windows 2008) 和 Zend Framework

我正在做的是重写链接 site/blog?Id=1 到 site/blog/1 谁能告诉我为什么这不起作用？

```
<rule name="RedirectUserFriendlyURL1" stopProcessing="true">
    <match url="^blog$" />
    <conditions>
        <add input="{REQUEST_METHOD}" pattern="^POST$" negate="true" />
        <add input="{QUERY_STRING}" pattern="^Id=([^=&amp;]+)$" />
    </conditions>
    <action type="Redirect" url="blog/{C:1}" appendQueryString="false" />
</rule>
<rule name="RewriteUserFriendlyURL1" stopProcessing="true">
    <match url="^blog/([^/]+)/?$" />
    <conditions>
        <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" />
        <add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" />
    </conditions>
    <action type="Rewrite" url="blog?Id={R:1}" /> 
```

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:30:57.713

改用这个作为zend doc中的提及

```
 <?xml version="1.0" encoding="UTF-8"?>
    <configuration>
         <system.webServer>
             <rewrite>
                 <rules>
                     <rule name="Imported Rule 1" stopProcessing="true">
                         <match url="^.*$" />
                         <conditions logicalGrouping="MatchAny">
                             <add input="{REQUEST_FILENAME}"
                                 matchType="IsFile" pattern=""
                                 ignoreCase="false" />
                             <add input="{REQUEST_FILENAME}"
                                 matchType="IsDirectory"
                                 pattern="" ignoreCase="false" />
                         </conditions>
                         <action type="None" />
                     </rule>
                     <rule name="Imported Rule 2" stopProcessing="true">
                         <match url="^.*$" />
                         <action type="Rewrite" url="index.php" />
                     </rule>
                 </rules>
             </rewrite>
         </system.webServer>
    </configuration> 
```

[源代码](http://framework.zend.com/manual/en/zend.controller.router.html)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-29T06:14:15.993

在您的 .htaccess 文件中尝试以下代码：

```
RewriteRule    ^blog/([0-9]+)/?$    blog?id=$1    [NC,L]    # Handle requests 
```

# wpf - 可以将数学运算符应用于绑定路径吗？

> ID：11256608
> 
> 赞同：15
> 
> 时间：2012-06-29T05:43:23.233
> 
> 标签：wpf, xaml, silverlight, binding, converter

我可以有以下（`ActualWidth`除以2）吗？

```
<StackPanel Name="SP2" Width="{Binding ElementName=SP1, Path=ActualWidth/2}"> 
```

似乎对我不起作用。

谢谢。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-06-29T08:03:11.503

您可以使用自定义转换器直接在 XAML 中执行简单计算。

例如，看一下这个实现：

[`MathConverter`](http://www.ikriv.com/en/prog/code/wpf/MathConverter/index.shtml)

简单用法：

```
<RotateTransform Angle="{Binding Text, ElementName=Seconds,
    Converter={ikriv:MathConverter}, ConverterParameter=x*6}" /> 
```

* * *

经典的方法是创建一个只读的计算属性。所以在这个简单的例子中，您可以添加第二个属性`HalfWidth`。

```
public double HalfWidth
{
    get
    {
        return ActualWidth / 2.0;
    }
} 
```

坏消息是，当`ActualWidth`更新时，`StackPanel`绑定到的视图上的`HalfWidth`不会更新。这是因为视图不知道`HalfWidth`发生了变化。

`HalfWidth`通过在 的 setter 中引发属性更改事件`ActualWidth`，视图将查询`HalfWidth`并检索正确的值。

```
private double _actualWidth;
public double ActualWidth
{
    get
    {
        return _actualWidth;
    }
    set
    {
        if (_actualWidth != value)
        {
            _actualWidth = value;
            OnPropertyChanged("ActualWidth");
            OnPropertyChanged("HalfWidth");
        }
    }
} 
```

这种方法的主要问题是，当我们有大量没有设置器的计算属性时，它很快就会变成一场噩梦。

这就是为什么（在 MVVM 模式中）我个人更喜欢使用自定义转换器。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-29T05:55:09.150

不，您只能在绑定中使用属性（在某些情况下还可以使用数组/集合的索引）。

相反，您需要绑定到返回预期值的通知属性（例如 ActualWidth/2），或者使用返回值并应用您的计算的转换器。

# javascript - 无法将 Canvas 定位在页面顶部

> ID：11256609
> 
> 赞同：0
> 
> 时间：2012-06-29T05:43:23.880
> 
> 标签：javascript, html, css, html5-canvas

我正在尝试在我的网站中实现[Google 球 HTML5 画布徽标](http://rawkes.com/lab/google-balls-logo)（最终我会将“Google”这个词更改为我的名字）。但是，我已经有一个菜单，我无法让徽标出现在菜单上方。

当我评论 CSS3 的最后一块时（如下所示），徽标出现在顶部，但菜单消失了。

这是我现在得到的（没有评论我的 CSS3 中的最后一个块）： ![在此处输入图像描述](../Images/50446136a6177a4cfd3243a6bf91706d.png)

请注意，Google 球和菜单上方都有60 像素的**菜单边距。**理想情况下，我想将**菜单边距**增加到 150 像素，然后在菜单上方居中添加“myName”球。

这是 HTML5 代码：

谷歌球.html：

```
<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="css/style.css">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
    <title>myHomepage</title>
</head>
<body>
    <canvas id= "c" width="400" height="400"></canvas>
    <ul id="menu">
        <li><a href="#">Home</a></li>
        <li><a href="#">Blog</a></li>
        <li><a href="#">About</a></li>
        <li><a href="#">Contact</a></li>
    </ul>
    </body>
</html> 
```

我的 CSS3 代码：

样式.css：

```
/* This is for the menu */

#menu, #menu ul {
    margin: 0;
    padding: 0;
    list-style: none;
}

#menu {
    width: 960px;
    margin: 60px auto;
    border: 1px solid #222;
    background-color: #111;
    background: -webkit-gradient(linear, center top, center bottom, from(#444), to(#111));
    border-radius: 6px;
    box-shadow: 0 1px 1px #777;
}

#menu:before,
#menu:after {
    content: "";
    display: table;
}

#menu:after {
    clear: both;
}

#menu li {
    float: left;
    border-right: 1px solid #222;
    box-shadow: 1px 0 0 #444;
    position: relative;
}

#menu a {
    float: left;
    padding: 12px 30px;
    color: #999;
    text-transform: uppercase;
    font: bold 12px Arial, Helvetica;
    text-decoration: none;
    text-shadow: 0 1px 0 #000;
}

/* This is for Google balls */

/* If I comment the following, I will see Google balls at 
 * the top of the page (which is what I want), but the menu disappears!*/

#c {
    position: absolute;
} 
```

我的 JavaScript 代码：

主.js：

```
$(function() {
    var canvas = $("#c");
    var canvasHeight;
    var canvasWidth;
    var ctx;
    var dt = 0.1;

    var pointCollection;

    function init() {
        updateCanvasDimensions();

        var g = [new Point(202, 78, 0.0, 9, "#ed9d33"), new Point(348, 83, 0.0, 9, "#d44d61"), 
        new Point(256, 69, 0.0, 9, "#4f7af2"), new Point(214, 59, 0.0, 9, "#ef9a1e"), new Point(265, 36, 0.0, 9, "#4976f3"), 
        new Point(300, 78, 0.0, 9, "#269230"), new Point(294, 59, 0.0, 9, "#1f9e2c"), new Point(45, 88, 0.0, 9, "#1c48dd"), 
        new Point(268, 52, 0.0, 9, "#2a56ea"), new Point(73, 83, 0.0, 9, "#3355d8"), new Point(294, 6, 0.0, 9, "#36b641"), 
        new Point(235, 62, 0.0, 9, "#2e5def"), new Point(353, 42, 0.0, 8, "#d53747"), new Point(336, 52, 0.0, 8, "#eb676f"), 
        new Point(208, 41, 0.0, 8, "#f9b125"), new Point(321, 70, 0.0, 8, "#de3646"), new Point(8, 60, 0.0, 8, "#2a59f0"), 
        new Point(180, 81, 0.0, 8, "#eb9c31"), new Point(146, 65, 0.0, 8, "#c41731"), new Point(145, 49, 0.0, 8, "#d82038"), 
        new Point(246, 34, 0.0, 8, "#5f8af8"), new Point(169, 69, 0.0, 8, "#efa11e"), new Point(273, 99, 0.0, 8, "#2e55e2"), 
        new Point(248, 120, 0.0, 8, "#4167e4"), new Point(294, 41, 0.0, 8, "#0b991a"), new Point(267, 114, 0.0, 8, "#4869e3"), 
        new Point(78, 67, 0.0, 8, "#3059e3"), new Point(294, 23, 0.0, 8, "#10a11d"), new Point(117, 83, 0.0, 8, "#cf4055"), 
        new Point(137, 80, 0.0, 8, "#cd4359"), new Point(14, 71, 0.0, 8, "#2855ea"), 
        new Point(331, 80, 0.0, 8, "#ca273c"), new Point(25, 82, 0.0, 8, "#2650e1"), new Point(233, 46, 0.0, 8, "#4a7bf9"), 
        new Point(73, 13, 0.0, 8, "#3d65e7"), new Point(327, 35, 0.0, 6, "#f47875"), new Point(319, 46, 0.0, 6, "#f36764"), 
        new Point(256, 81, 0.0, 6, "#1d4eeb"), new Point(244, 88, 0.0, 6, "#698bf1"), new Point(194, 32, 0.0, 6, "#fac652"), 
        new Point(97, 56, 0.0, 6, "#ee5257"), new Point(105, 75, 0.0, 6, "#cf2a3f"), new Point(42, 4, 0.0, 6, "#5681f5"), 
        new Point(10, 27, 0.0, 6, "#4577f6"), new Point(166, 55, 0.0, 6, "#f7b326"), new Point(266, 88, 0.0, 6, "#2b58e8"), 
        new Point(178, 34, 0.0, 6, "#facb5e"), new Point(100, 65, 0.0, 6, "#e02e3d"), new Point(343, 32, 0.0, 6, "#f16d6f"), 
        new Point(59, 5, 0.0, 6, "#507bf2"), new Point(27, 9, 0.0, 6, "#5683f7"), new Point(233, 116, 0.0, 6, "#3158e2"), 
        new Point(123, 32, 0.0, 6, "#f0696c"), new Point(6, 38, 0.0, 6, "#3769f6"), new Point(63, 62, 0.0, 6, "#6084ef"), 
        new Point(6, 49, 0.0, 6, "#2a5cf4"), new Point(108, 36, 0.0, 6, "#f4716e"), new Point(169, 43, 0.0, 6, "#f8c247"), 
        new Point(137, 37, 0.0, 6, "#e74653"), new Point(318, 58, 0.0, 6, "#ec4147"), new Point(226, 100, 0.0, 5, "#4876f1"), 
        new Point(101, 46, 0.0, 5, "#ef5c5c"), new Point(226, 108, 0.0, 5, "#2552ea"), new Point(17, 17, 0.0, 5, "#4779f7"), 
        new Point(232, 93, 0.0, 5, "#4b78f1")];

        gLength = g.length;

        // I commented this so that Google balls appear at the top of the page
        //
        //for (var i = 0; i < gLength; i++) {
        //  g[i].curPos.x = (canvasWidth/2 - 180) + g[i].curPos.x;
        //  g[i].curPos.y = (canvasHeight/2 - 65) + g[i].curPos.y;

        //  g[i].originalPos.x = (canvasWidth/2 - 180) + g[i].originalPos.x;
        //  g[i].originalPos.y = (canvasHeight/2 - 65) + g[i].originalPos.y;
        //};

        pointCollection = new PointCollection();
        pointCollection.points = g;

        initEventListeners();
        timeout();
    };

    function initEventListeners() {
        $(window).bind('resize', updateCanvasDimensions).bind('mousemove', onMove);

        canvas.get(0).ontouchmove = function(e) {
            e.preventDefault();
            onTouchMove(e);
        };

        canvas.get(0).ontouchstart = function(e) {
        e.preventDefault();
        };
    };

    function updateCanvasDimensions() {
        canvas.attr({height: $(window).height(), width: $(window).width()});
        canvasWidth = canvas.width();
        canvasHeight = canvas.height();
        draw();
    };

    function onMove(e) {
        if (pointCollection)
            pointCollection.mousePos.set(e.pageX, e.pageY);
    };

    function onTouchMove(e) {
        if (pointCollection)
        pointCollection.mousePos.set(e.targetTouches[0].pageX, e.targetTouches[0].pageY);
    };

    function timeout() {
        draw();
        update();
        setTimeout(function() { timeout() }, 30);
    };

    function draw() {
        var tmpCanvas = canvas.get(0);
        if (tmpCanvas.getContext == null) {
            return; 
        };

        ctx = tmpCanvas.getContext('2d');
        ctx.clearRect(0, 0, canvasWidth, canvasHeight);

        if (pointCollection)
            pointCollection.draw();
    };

    function update() {     
    if (pointCollection)
        pointCollection.update();
};

    function Vector(x, y, z) {
        this.x = x;
        this.y = y;
        this.z = z;

        this.addX = function(x) {
            this.x += x;
        };

        this.addY = function(y) {
            this.y += y;
        };

         this.addZ = function(z) {
             this.z += z;
        };

         this.set = function(x, y, z) {
             this.x = x; 
             this.y = y;
             this.z = z;
         };
    };

    function PointCollection() {
        this.mousePos = new Vector(0, 0);
        this.points = new Array();

        this.newPoint = function(x, y, z) {
            var point = new Point(x, y, z);
            this.points.push(point);
            return point;
        };

        this.update = function() {      
            var pointsLength = this.points.length;
            for (var i = 0; i < pointsLength; i++) {
                var point = this.points[i];
                if (point == null)
                    continue;
                var dx = this.mousePos.x - point.curPos.x;
                var dy = this.mousePos.y - point.curPos.y;
                var dd = (dx * dx) + (dy * dy);
                var d = Math.sqrt(dd);

                if (d < 150) {
                    point.targetPos.x = (this.mousePos.x < point.curPos.x) ? point.curPos.x - dx : point.curPos.x - dx;
                    point.targetPos.y = (this.mousePos.y < point.curPos.y) ? point.curPos.y - dy : point.curPos.y - dy;
                } else {
                    point.targetPos.x = point.originalPos.x;
                    point.targetPos.y = point.originalPos.y;
                };
                point.update();
            };
        };

        this.draw = function() {
            var pointsLength = this.points.length;
            for (var i = 0; i < pointsLength; i++) {
                var point = this.points[i];

                if (point == null)
                    continue;
                point.draw();
            };
        };
    };

    function Point(x, y, z, size, colour) {
        this.colour = colour;
        this.curPos = new Vector(x, y, z);
        this.friction = 0.8;
        this.originalPos = new Vector(x, y, z);
        this.radius = size;
        this.size = size;
        this.springStrength = 0.1;
        this.targetPos = new Vector(x, y, z);
        this.velocity = new Vector(0.0, 0.0, 0.0);

        this.update = function() {
            var dx = this.targetPos.x - this.curPos.x;
            var ax = dx * this.springStrength;
            this.velocity.x += ax;
            this.velocity.x *= this.friction;
            this.curPos.x += this.velocity.x;

            var dy = this.targetPos.y - this.curPos.y;
            var ay = dy * this.springStrength;
            this.velocity.y += ay;
            this.velocity.y *= this.friction;
            this.curPos.y += this.velocity.y;

            var dox = this.originalPos.x - this.curPos.x;
            var doy = this.originalPos.y - this.curPos.y;
            var dd = (dox * dox) + (doy * doy);
            var d = Math.sqrt(dd);

            this.targetPos.z = d/100 + 1;
            var dz = this.targetPos.z - this.curPos.z;
            var az = dz * this.springStrength;
            this.velocity.z += az;
            this.velocity.z *= this.friction;
            this.curPos.z += this.velocity.z;

            this.radius = this.size*this.curPos.z;
            if (this.radius < 1) this.radius = 1;
        };

        this.draw = function() {
            ctx.fillStyle = this.colour;
            ctx.beginPath();
            ctx.arc(this.curPos.x, this.curPos.y, this.radius, 0, Math.PI*2, true);
            ctx.fill();
        };
    };

    init();
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T00:18:25.880

没有看到一些工作代码（比如在 jsfiddle 上）有点棘手，但我猜你需要浮动菜单和徽标（画布）元素，确保在菜单元素上调用 clear:left 以强制它到下一个等级。

编辑：您希望徽标居中；使用可以使用`margin: 0 auto;`

# java - JScrollPanes、JTextAreas 和最大尺寸

> ID：11256610
> 
> 赞同：1
> 
> 时间：2012-06-29T05:43:24.663
> 
> 标签：java, swing, jscrollpane, gridbaglayout, sizing

*上下文*：在抽认卡应用程序中，我有一个视图`CardData`（代表抽认卡一侧的数据结构）。它的最基本形式是`String text`. 视图（称为`CardDataView`）由`text`不可编辑`JTextArea`的`JScrollPane`.

有一次，我需要（垂直）排列一堆这些`CardDataView`s，所以我把它们放在一个垂直的`Box`.

`pack`这就是问题所在：当我将窗口从“首选”大小（由 本质上，**它在不应该调整文本区域的大小。**

这是我的代码（精简和简化）：

```
public class DebugTest {

    public static void main(String[] args) {
        CardDataView cdv = new CardDataView(new CardData(
                "Lorem ipsum dolor sit amet filler filler filler"));
        JFrame frame = new JFrame();
        frame.add(new JScrollPane(cdv), BorderLayout.CENTER);
        frame.pack();
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setVisible(true);
    }

}

class CardData {
    private String text; // text on the card

    /*
     * NOTE: This class has been simplified for SSCCE purposes. It's not really
     * just a String field in production; rather, it has an image and other
     * properties.
     */

    public CardData(String text) {
        super();
        this.text = text;
    }

    public String getText() {
        return text;
    }

}

class CardDataView extends Box {
    private JTextArea txtrText; // the text area for the text

    /*
     * NOTE: As with CardData, this class has been simplified. It's not just a
     * JTextArea; it's also an ImageView (custom class; works fine), among other
     * things.
     */

    public CardDataView(CardData data) {
        super(BoxLayout.Y_AXIS);
        txtrText = new JTextArea();
        txtrText.setLineWrap(true);
        txtrText.setRows(3);
        txtrText.setEditable(false);
        txtrText.setWrapStyleWord(true);
        final JScrollPane scrollPane = new JScrollPane(txtrText);
        add(scrollPane);
        txtrText.setText(data.getText());
    }
} 
```

现在，*真正*让我感到困惑的事情（除非我做错了）是，如果我基本上内联数据和视图类，只需创建一个带有文本和滚动窗格的文本区域（即使设置相同的行数） ，相同的换行设置等），它的行为符合预期。会发生什么？

关注点： - 所有进口都井然有序。- 如果您想知道为什么`CardLayoutView`是`Box`: 在生产中，它不仅仅是一个文本框。当它是 a`JPanel`和 I`setLayout`而不是`super`. - 如果我根本不使用`CardData`该类（并手动设置文本区域的文本），也会发生同样的故障。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T19:48:34.043

把我的评论回答：

使用`GridBagLayout`with`GridBagConstraints.VERTICAL/NONE`作为`gridBagLayoutObject.fill`值，而不是`BoxLayout`. 由于在向 的 中添加组件时`CENTER`，`JFrame`从不`BorderLayout`尊重`preferredSize()`组件的`CENTER`。因此尝试将你的东西添加到 a然后`JPanel`把它`JPanel`放在`CENTER`.`JFrame`

# xml - 如何从 Mathematica 将数字作为文本字段导出到 Excel？

> ID：11256618
> 
> 赞同：1
> 
> 时间：2012-06-29T05:44:06.643
> 
> 标签：xml, excel, wolfram-mathematica

我有一个包含“+74951234567”形式的电话号码的列表，我希望将其导出到 Excel 中，不带引号，保留带有加号的原始外观。在 Excel 中，我可以将单元格格式设置为“文本”，然后输入不带引号的 +74951234567 不会导致将其转换为数字。`Export`是否可以在*Mathematica*中强制创建文本单元格？

## 更新

我找到了一种方法，可以得到我想要的：我需要将表格导出为 XML 数据并添加格式信息。例如，中的`"ss:StyleID" -> "s21"`语句`XMLElement["Cell", {"ss:StyleID" -> "s21"}, {XMLElement["Data", {"ss:Type" -> "String"}, {"+74951234567"}]}]`将单元格格式化为“文本”。

我通过将表格保存为 Excel 中的“XML 表格”然后在*Mathematica*`Import`中生成的文件找到了这一点：

 *```
XMLData = Import["test.xml", "IncludeNamespaces" -> "Unparsed"] 
```

可以在*Mathematica*`XMLData`内部进一步修改并向后编辑为 XML：*`Export`*

 *```
Export["test-from MMa.xml", XMLData] 
```

导出的文件由 Excel 作为普通工作表打开，并且可以以通常的方式进行操作。

但是我仍然需要帮助，因为我不熟悉 XML 和*Mathematica*的 XML 功能。

## 更新 2

似乎另一种选择是使用我尚未尝试过的[JExcelAPI Java 库。](http://jexcelapi.sourceforge.net/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-29T08:29:55.187

看起来相当简单。在 Mathematica 中使用引号使 Excel 将数据解释为文本。

![在此处输入图像描述](../Images/9d2757b7b5d1540bbc93ebb4e41a49de.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-30T01:06:46.867

我认为此时您想要的东西是不可能的，但这就是我要尝试的方法。尝试使用您想要`Import`的内容和`FormattedData`元素创建一个简单的电子表格，以查看数据的形式应该是什么。然后尝试使用该表单将数据导出回来。**

# video - eyebeam 和 baresip SIP 客户端之间的视频通话

> ID：11256621
> 
> 赞同：1
> 
> 时间：2012-06-29T05:44:45.167
> 
> 标签：video, sip, h.264, rtp, baresip

我正在尝试在 2 个 SIP 客户端上实现视频通话

1.  巴雷西普
2.  光束

到目前为止，我已经成功地以两种方式获取音频流，但视频流是一种方式，即我在 baresip 终端获取流，但我在 EYEBEAM 终端看不到视频。我不明白我哪里错了。

当我通过wireshark检查时，eyebeam正在向eyebeam发送STAP-a和Fu-a数据包。但是 baresip 没有向 eyebeam 发送任何 STAP-a 和 Fu-a 数据包，因此没有视频。两个客户端都支持 H.264。

欢迎指出正确方向。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-08-15T15:10:27.527

这个问题需要至少一方的日志才能回答。不过，我想可能会检查打包模式。

*   [Baresip 仅支持打包模式=0](https://github.com/alfredh/baresip/blob/master/modules/gst_video/sdp.c#L43)，AFAIK。
*   [“FUA 用于分组模式 1 和 2。”](https://stackoverflow.com/a/5307549/207791)
*   “[在协商分组模式 1 时，客户端应支持使用 STAP-A 数据包](https://stackoverflow.com/q/26393553/207791)。”

# playframework - 如何在playframework中绑定表单

> ID：11256624
> 
> 赞同：0
> 
> 时间：2012-06-29T05:45:09.787
> 
> 标签：playframework, playframework-2.0, illegalstateexception

![非法状态异常](../Images/2b66b95f9e04afea22154933c26f26b8.png)

我正在尝试通过帖子提交表单值。但我得到了这个例外，我的用户正在扩展模型。看来，我没有从请求中得到任何值。有人可以告诉我我的错误在哪里吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T12:16:02.267

您必须先检查错误。据我所知，如果有错误，则不会设置该值。

# shell - 如何从 shell 脚本中切换当前用户？

> ID：11256626
> 
> 赞同：0
> 
> 时间：2012-06-29T05:45:29.670
> 
> 标签：shell, unix, passwords

我必须编写一个 shell 脚本才能在 unix 上运行一些命令。我必须切换几个用户。如何在脚本中提供密码？

注意：我不是 root 用户。此外，在这种情况下，安全性不是问题，因此我可以在脚本中编写密码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:01:48.210

由于您没有 root 访问权限，并且假设您要运行的程序不是 setuid，因此您有两个基本选择：

1.  编写一个[期望脚本](http://expect.sourceforge.net/)来驱动`su - <username>`和运行您的命令作为期望的子进程。
2.  让具有 root 访问权限的人授予您对所需命令和用户的[sudo 访问权限](http://www.gratisoft.us/sudo/)`sudo -u <username> <command>`，然后使用.

如果您无法获得管理支持，选项 1 是最好的，但选项 2 更灵活，更容易从 Unix shell 编写脚本。

# ios5 - 当用户在 Iphone 中单击 Return 键时，如何导航到其他视图？

> ID：11256627
> 
> 赞同：0
> 
> 时间：2012-06-29T05:45:35.057
> 
> 标签：ios5, uinavigationcontroller

我正在使用 IOS 5.0，并且我正在开发简单的应用程序，因为我正在使用 UITextFiled 当用户从键盘单击返回键时如何导航到其他视图。如果有人知道帮助我。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:51:13.003

```
- (void)someAction:(id)sender
{
  // do something (like pushing a new view) 
  //when the user hits <enter> in the text field
} 
```

然后使用这些行...

```
[myTextField setTarget:self];
[myTextField setAction:@selector(someAction:)]; 
```

# jquery - 如何在成功的 jQuery ajax 调用后模拟轮播数据刷新？

> ID：11256628
> 
> 赞同：0
> 
> 时间：2012-06-29T05:45:37.053
> 
> 标签：jquery, ajax, asp.net-mvc, jquery-ui

我有一个包含一些文章的 div。当用户单击下一步按钮时，我希望现有文章向左滑动并让下一页文章滑入以替换它们。

![在此处输入图像描述](../Images/a3bb544b9d355a7d18d5f28f89630115.png)

如果用户单击 > 下一个链接，我希望我的结果向左滑动，如果用户单击 < prev 链接，我希望我的结果向右滑动。（有点像旋转木马）

这是 slideDown 动画的一个工作示例。

```
//Fetch the new result set.
$.ajax({
    url: '/Home/_WhatsNew',
    type: 'POST',
    data: JSON.stringify(jsonData),
    dataType: 'html',
    contentType: 'application/json',

    //The request was a success. Repopulate the div with new result set.
    success: function (data) {
        $("#Content").empty();
        $(data).hide().appendTo('#Content').slideDown();
    },
    error: function (data) {
        alert('Fail');
    }
}); 
```

是否有可能以类似轮播的方式做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T18:08:16.037

您可以使用[jQuery UI 幻灯片效果](http://jqueryui.com/demos/show/)：

```
success: function (data) {
    $('#Content')
        .hide('slide', { direction: 'left' }, 400, function () {
            $(this)
                .html(result)
                .show('slide', { direction: 'right' }, 400);
        });
} 
```

只需将`jquery-ui-1.8.11.js`脚本包含到您的页面并享受：

```
<script src="@Url.Content("~/Scripts/jquery-ui-1.8.11.js")" type="text/javascript"></script> 
```

# php - 将数据传递到支付网关以使用 php 和 wordpress 进行处理的最佳方法是什么？

> ID：11256630
> 
> 赞同：-2
> 
> 时间：2012-06-29T05:45:47.433
> 
> 标签：php, wordpress

在 wordpress 中，我需要创建一个自定义表单（第 1 步、第 2 步等）并在表单末尾安全地传递详细信息**（即客户的名字、姓氏、选择的产品包（$、$$、 $$$）等）到支付网关进行处理。

1.  有没有一个插件可以做到这一点？如果是这样，我在哪里可以找到合适的 api 详细信息以开始使用？

2.  还是我必须创建自定义支付网关解决方案？如果是这样，那么执行此操作的最佳方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T05:51:15.767

您也许可以使用 WP-eCommerce。那有很多内置的支付网关。唯一的问题是自定义表单。也许您可以创建自定义表单并将结果发布到正确的位置以将某些内容添加到 WP-eC 购物车？

# macos - OS X Lion 上的 Intel HD 3000 是否支持 OpenGL Primitive Restart？

> ID：11256631
> 
> 赞同：0
> 
> 时间：2012-06-29T05:46:01.423
> 
> 标签：macos, opengl

标题几乎涵盖了它。想知道有没有人知道这个。我看到了两个函数指针（由 GLEW 声明）`glPrimitiveRestartIndexNV`和.`glPrimitiveRestartIndex``NULL`

此外，驱动程序返回的 OpenGL 扩展列表也不包含任何提及原始重启的内容。

Macbook Air 2011 年中（SB i5 带 HD3000 显卡）。狮子 10.7.4。

我似乎记得能够在运行 Windows 的 SB i3 台式机上运行它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T10:14:15.277

也许这个比较页面会对您有所帮助：[比较 Intel HD 3000 OSX 与 Windows](http://feedback.wildfiregames.com/report/opengl/device?d=Intel%20HD%20Graphics%203000&d=Intel%28R%29%20HD%20Graphics%203000)。它显示了支持的功能的完整列表。

# java - Maven jaxws 插件 - 跳过执行

> ID：11256632
> 
> 赞同：3
> 
> 时间：2012-06-29T05:46:10.087
> 
> 标签：java, maven, jax-ws, maven-3

我正在使用 JAX-WS maven 插件（org.jvnet.jax-ws-commons:jaxws-maven-plugin 2.2 版）从我的项目中的一堆 WSDL 文件生成类，并且由于 WSDL 从未真正改变过我想默认禁用此代码生成，并且只为我创建的特定 Maven 配置文件启用它。这个插件的元素支持一个元素，但是将它设置为 true 似乎什么都不做。我在这里做错了吗？或者这是一个已知的错误，我还能做些什么来避免这种代码生成？

我的插件配置如下所示：

```
 <plugin>
    <groupId>org.jvnet.jax-ws-commons</groupId>
    <artifactId>jaxws-maven-plugin</artifactId>
    <version>2.2</version>

    <executions>
      <execution>
        <id>import-wsdld</id>
        <phase>generate-sources</phase>
        <goals>
          <goal>wsimport</goal>
        </goals>
        <configuration>
          <wsdlFiles>
            <wsdlFile>MyWSDL.wsdl</wsdlFile>
          </wsdlFiles>
        </configuration>
      </execution>
    </executions>

    <configuration>
      <skip>true</skip>
      <packageName>com.my.package</packageName>
      <wsdlDirectory>src/main/resources/wsdl</wsdlDirectory>
      <keep>true</keep>
      <xnocompile>true</xnocompile>
      <sourceDestDir>src/main/java</sourceDestDir>
      <verbose>false</verbose>
    </configuration>

    <!-- Necessary to revert back to 2.1.7 -->
    <dependencies>
      <dependency>
        <groupId>com.sun.xml.ws</groupId>
        <artifactId>jaxws-tools</artifactId>
        <version>2.1.7</version>
        <exclusions>
          <exclusion>
            <groupId>org.jvnet.staxex</groupId>
            <artifactId>stax-ex</artifactId>
          </exclusion>
        </exclusions>
      </dependency>
      <dependency>
        <groupId>org.jvnet.staxex</groupId>
        <artifactId>stax-ex</artifactId>
        <version>1.2</version>
        <exclusions>
          <exclusion>
            <groupId>javax.xml.stream</groupId>
            <artifactId>stax-api</artifactId>
          </exclusion>
        </exclusions>
      </dependency>
    </dependencies>
  </plugin> 
```

非常感谢，

约瑟夫。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T07:05:55.520

好吧，就在块中执行它（我的意思是插件声明及其所有内容）`<profile>`。我不会依赖一些魔术插件特定的解决方案。只需使用 Maven 提供的开箱即用的功能并`<profile>`使用您的`<plugin>`东西进行创建。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T09:54:07.570

根据[插件的文档，](http://jax-ws-commons.java.net/jaxws-maven-plugin/wsimport-mojo.html)它没有“skip”参数，这当然意味着它不支持。最好的解决方案是将其放入前面提到的配置文件中。

# mysql - 将 MySQL 表下载为电子表格

> ID：11256633
> 
> 赞同：0
> 
> 时间：2012-06-29T05:46:11.760
> 
> 标签：mysql, sql, excel

如何将 sql 表下载为 Excel 电子表格？

任何帮助，将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T05:48:33.890

使用 SELECT ... INTO OUTFILE ... 语句编写可以直接在 Excel 中打开的 CSV 文件或制表符分隔文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:49:05.283

使用 phpMyAdmin，它可以选择将 thata 导出为多种格式：
csv、scv for excel、json、doc、latex、wiki table、odf、pdf、sql

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T05:52:12.273

使用像[Navicat](http://navicat.com/en/products/navicat_mysql/mysql_overview.html)这样的数据库客户端。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-29T16:05:38.573

如果您想自己创建电子表格，Navicat、MySQL Workbench 和 phpMyAdmin 都可以使用。

要允许用户从网站下载电子表格，您可以使用库。一些不错的选择是：

**IIS**：EPPlus [http://epplus.codeplex.com/](http://epplus.codeplex.com/)或 NPOI [http://npoi.codeplex.com/](http://npoi.codeplex.com/)

**Apache**：PHP Excel (http://phpexcel.codeplex.com/) 或 Apache POI (http://poi.apache.org/)

# c# - Windows Phone 7.5 中的 CA 1811

> ID：11256635
> 
> 赞同：-1
> 
> 时间：2012-06-29T05:46:34.877
> 
> 标签：c#, .net, windows-phone-7

FxCop 为所有事件处理程序提供“避免未调用的私有代码”，例如：点击、应用程序栏按钮单击等。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T08:08:16.980

分析器只查看 C# 代码并将处理程序视为从未调用的简单私有方法。

它们在 XAML 中按名称作为字符串链接，但这对于分析器来说是看不见的。

所以这是一个无害的警告，您可以放心地忽略或禁用它。

# cordova - 使用phonegap开发的app渲染慢的原因

> ID：11256636
> 
> 赞同：0
> 
> 时间：2012-06-29T05:46:57.983
> 
> 标签：cordova, phonegap-plugins

我提交了 phonegap 提供的示例应用程序并收到了特定于平台的应用程序，在将它们安装到设备上后，我注意到渲染速度很慢……说使用 phonegap 开发的应用程序速度很慢是真的吗等待你的回复。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-30T02:57:09.357

你的问题不是真正的问题。什么示例应用程序？什么平台？什么元素渲染缓慢？

Phonegap 基于大多数设备上的本机 Webview，并将按原样呈现。您的页面速度将取决于您在 HTML/Javascript 中的内容。它在速度和同时跨多个平台部署的能力之间进行权衡。

# css - 多次导入同一个 CSS 文件会增加任何性能问题吗？

> ID：11256637
> 
> 赞同：5
> 
> 时间：2012-06-29T05:46:58.730
> 
> 标签：css, performance, webpage-rendering

我见过人们讨论多次加载相同的 Javascript，当代码每次在每个包含上运行时都会产生问题。

我在同一个 DOM 中多次包含同一个 CSS 文件（不能避免添加它，因为我正在使用一些组件）：

```
 <link href="style.css" rel="stylesheet" type="text/css"> 
```

1.  DOM 大小会增加吗？
2.  每次包含时都会渲染 CSS 文件吗？
3.  这会影响页面的性能吗？

注意：因为我使用的是同一个 CSS 文件，所以它只下载一次。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:03:51.003

如果您的 CSS 文件一旦渲染和使用，则不会使用第二次导入 CSS，我认为它不会导致任何问题。例如：

```
import css 1
import css 2 
```

那么你在这里`<p class="test">`，`test`这个标签只从 css 1 导入中获取一次，并且 import css 2 只会被导入而不被使用。从这个意义上说，这只是开销，并且会占用少量时间来加载文件。我在这里看不到进一步的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T05:57:04.963

我认为这会增加不必要的开销，因为即使样式表缓存在您的浏览器中，它仍然必须检查它是否缓存了多个包含（除非您的浏览器在获取它们之前聚合所有唯一样式表）。即便如此，我希望延迟最小，但绝对不是性能改进。如果将样式表拆分为多个文件，由于并发 http 连接，您可能会在初始加载时获得明显的性能提升，但这种分离的软件维护成本可能不值得，而且它不会为您在后续页面加载。

# jquery - jQuery Asual 地址不断追加站点根文件夹

> ID：11256638
> 
> 赞同：1
> 
> 时间：2012-06-29T05:47:03.007
> 
> 标签：jquery, model-view-controller, deep-linking

我有一个 MVC 站点，位于开发和阶段站点上的几个子文件夹中：

*   www.domain.com/site_dev/
*   www.domain.com/site_stage/

它最终将在生产中站点的根目录中结束，但是当在子文件夹中测试我的站点时，jquery 地址会在深层链接中附加子文件夹，如下所示：

*   www.domain.com/site_dev#！**/site_dev/home/关于**

我正在使用 ajax 使用深度链接中的值动态加载面板，但我的面板不会加载，因为它试图调用不存在的控制器**/site_dev/home/about 。**

我怎样才能让它不这样做？我希望它简单地使用：

*   www.domain.com/site_dev#！**/家/关于**

我不想在任何地方对值进行硬编码，因此它需要是动态的。我已经到处搜索了，但也许我没有使用正确的关键字来做我想做的事情。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-08T14:56:44.227

我有一个类似的问题。问题是jquery地址认为`www.domain.com/site_dev/`是根而不是www.domain.com。这将导致在`www.domain.com/site_dev#!/`您需要修复插件的 init() 之后加载所有 url。简单地做

`$.address.state('/').init(function(event)`

可能你有类似的东西（这是我的情况）：

`$.address.state($.address.baseURL()).init(function(event)`

或者

`$.address.state('www.domain.com/site_dev').init(function(event)`

# c# - 以字段名作为参数的表达式谓词

> ID：11256640
> 
> 赞同：3
> 
> 时间：2012-06-29T05:47:07.403
> 
> 标签：c#, .net, linq, linq-to-sql, predicate

我使用这段代码（在stackoverflow上找到）生成一个谓词

```
static class BuilderPredicate
{
    public static Expression<Func<T, bool>> True<T>() { return f => true; }
    public static Expression<Func<T, bool>> False<T>() { return f => false; }

    public static Expression<Func<T, bool>> Or<T>(this Expression<Func<T, bool>> expr1,
                                                        Expression<Func<T, bool>> expr2)
    {
        var invokedExpr = Expression.Invoke(expr2, expr1.Parameters.Cast<Expression>());
        return Expression.Lambda<Func<T, bool>>
              (Expression.OrElse(expr1.Body, invokedExpr), expr1.Parameters);
    }

    public static Expression<Func<T, bool>> And<T>(this Expression<Func<T, bool>> expr1,
                                                         Expression<Func<T, bool>> expr2)
    {
        var invokedExpr = Expression.Invoke(expr2, expr1.Parameters.Cast<Expression>());
        return Expression.Lambda<Func<T, bool>>
              (Expression.AndAlso(expr1.Body, invokedExpr), expr1.Parameters);
    }
} 
```

我有这个对象：

```
public class Person : IPerson
{
    public int Id { get; set; }
    public string FirstName { get; set; }
    public string LastName { get; set; }
}

public interface IPerson
{
    int Id { get; set; }
    string FirstName { get; set; }
    string LastName { get; set; }
} 
```

为了使用，我这样做：

```
private void CreationPredicate(string fieldname, string stringToSearch)
{
    var predicate = BuilderPredicate.True<Person>();
    switch (fieldname)
    {
        case "FirstName":
            predicate = predicate.And(e => e.FirstName.StartsWith(stringToSearch));
            break;
        case "LastName":
            predicate = predicate.And(e => e.LastName.StartsWith(stringToSearch));
            break;
    }
} 
```

我想避免，切换并替换`e => e.FirstName.StartWith`为（如果可能的话）

```
e => e.fieldname.StartWith 
```

我怎样才能做到这一点 ？

谢谢，

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-29T05:55:18.023

如果您使用的是字符串，则需要以困难的方式构建表达式：

```
var param = Expression.Parameter(typeof (Foo));
var pred = Expression.Lambda<Func<Foo, bool>>(
    Expression.Call(
        Expression.PropertyOrField(param, fieldName),
        "StartsWith",null,
        Expression.Constant(stringToSearch)), param); 
```

在 4.0 上，我还使用 an`ExpressionVisitor`来*重写*“and”的主体，而不是`Invoke`; `Invoke`不支持 EF 等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T05:59:26.883

```
delegate string StringPropertyGetter(IPerson person);

void CreationPredicate(StringPropertyGetter getter, string stringToSearch)
{
    var predicate = BuilderPredicate.True<Person>();
    predicate = predicate.And(e => getter(e).StartsWith(stringToSearch));
} 
```

像这样调用：

```
CreationPredicate(p => p.FirstName, "searchstring"); 
```

# vb.net - 将 Gridview 导出到 Excel 时属性评估失败

> ID：11256651
> 
> 赞同：0
> 
> 时间：2012-06-29T05:48:03.453
> 
> 标签：vb.net, gridview, export-to-excel

我正在尝试将 gridview 数据导出到 Excel。

但我`Property Evaluation Failed`在`Response.End()`

这是我的代码 - 有什么想法吗？

```
Private Sub ExportGridToExcel()
Try
Response.Clear()
Response.AddHeader("content-disposition", "attachment;filename=NPS.xls")
Response.ContentType = "application/vnd.ms-excel"
' Remove the charset from the Content-Type header.
Response.Charset = ""

' Turn off the view state.
Me.EnableViewState = False

Dim tw As New System.IO.StringWriter()
Dim hw As New System.Web.UI.HtmlTextWriter(tw)

' Get the HTML for the control.
gvNPSResults.RenderControl(hw)
' Write the HTML back to the browser.
Response.Write(tw.ToString())
' End the response.

HttpContext.Current.ApplicationInstance.CompleteRequest()
Response.End()
Catch ex As Exception
'Throw ex
End Try
End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-30T04:34:27.503

再次尝试替换您的代码

```
HttpContext.Current.ApplicationInstance.CompleteRequest();

Response.End(); 
```

经过

```
 Response.Flush();
 Response.Close(); 
```

# html - 错误地浮动元素

> ID：11256654
> 
> 赞同：0
> 
> 时间：2012-06-29T05:48:31.540
> 
> 标签：html, css, css-float

我有一堆包含图像和 h1 标题的锚标签。我已经应用了浮动元素，以允许它们以 2 行为单位进行布局。但出于某种奇怪的原因，银河系链接导致下一个锚点向右浮动。如果你用土星交换银河系，它工作得很好。我无法为我的生活找出原因。谁能向我解释这个奇怪的现象？

这是我页面的 jsfiddle：http: [//jsfiddle.net/SVuQQ/](http://jsfiddle.net/SVuQQ/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:36:07.270

如果您添加`clear:both`到仙女座锚，它将解决浮动问题。我[进行了设置，](http://jsfiddle.net/SVuQQ/3/)因此您可以将该`.clear`类添加到任何其他可能需要它的锚点，如果您添加更多。

解释：一个`clear:both`带有浮动元素的元素可以防止左右浮动的元素对页面布局的流程产生影响。在这种情况下，银河系锚浮子对下面的元素产生了不利影响。通过添加`clear:both`仙女座锚，银河系的漂浮物不再推低其余元素。

替代解决方案：浮动问题正在发生，因为您有不同高度的锚标签。它们不能正确堆叠，因为一个浮动比另一个向下推得更远。如果您为所有这些设置相同的高度，它将在没有 clear:both 的情况下解决问题。[jsfiddle.net/SVuQQ/7](http://jsfiddle.net/SVuQQ/7/)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-29T06:39:47.197

我建议尝试设置你的#subject-content a-menu {height: auto}

并删除 float:left 在同一行（例如#subject-content a-menu）

# c - 头文件中的首选声明顺序和#defines

> ID：11256657
> 
> 赞同：2
> 
> 时间：2012-06-29T05:48:41.503
> 
> 标签：c, linux, coding-style, macros, header-files

我在 Linux 平台上用 C 语言编程。我想知道应该是声明的顺序和`#defines`在一个头文件中。

例如，如果我的头文件包含以下内容，任何人都可以建议我安排所有这些声明的完美顺序，如宏、外部声明等函数。

就可读性和编码标准而言，这对于在头文件中正确安排所有这些内容非常有益。

下面是示例头文件（我想按正确的顺序排列以下内容）：

```
 #include <pthread.h>                   //  Including Header files 
 #include <signal.h>

 #define IMAGE_DIRECTORY                 "Abcdefgh..."   //  Providing #defines 
 #define FAILED_TO_RECOGNIZE             "Xykbkksk..."
 #define PROGRESS_FRAME_COLOR            "#8e8ea1"
 #define FRAME_BG_COLOR                  "#7c90ac"      

 #define PRINT_FUNCTION_NAME fprintf(stderr, 
                   "CTRL IN FUNCTION : %s\n",__func__);   // Macro like functions 
typedef struct {                                           
        int userId;                                      // Structure
         char name[32], rollNo[32];
         char class[16], section[16];
         unsigned long Id;
 }data_type;

int noOfUsersList=0, usersListCount=0;                   // Global variables 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-29T06:30:29.600

我已经很多年没有这样做了，但是当我同时为 Unix、MS.DOS、OS/2、NetWare 和 Windows 进行大量开发时，我开发了这种做法：

1.  语言#包括
2.  操作系统#includes
3.  #includes 来自其他子系统，例如 X11。
4.  我自己的应用程序#includes。
5.  我自己的本地#defines 用于此源文件。
6.  我自己对此文件的前向声明。

也许你可以颠倒（1）和（2），但我发现这个顺序在相当多的编译器和操作系统中工作得最好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T08:05:14.160

编码风格是主观的，我个人使用下面描述的规则和方法，但请注意，这是我自己的观点，并非绝对真理。然而，它们基于长期经验，在某些情况下基于广泛认可的编码标准（MISRA、CERT 等）。

规则：

*   C 编程是在“代码模块”中完成的，其中每个模块都由一个 .h 文件和一个 .c 文件组成。
*   #includes 应始终位于 .h 文件中，而不应位于 .h 文件中，因为 .h 文件应被视为公共文件。您希望将要使用您的模块的人知道存在哪些依赖项。
*   从来没有理由在 C 中使用非常量全局变量，因此在哪里放置非常量全局变量和外部变量与我无关。
*   .h 文件不应包含任何定义。这不仅是糟糕的程序设计，而且还是一个很好的方法来解决许多难以解决的链接器错误。

在 .h 文件中，允许按照规定的顺序出现以下项目：

*   头球后卫开始。( `#ifndef MYHEADER_H`...)
*   库#includes。
*   其他#includes。
*   特定于 Impl. 的编译器设置，例如使用 #pragmas 设置的编译器选项。
*   公共数字常量为#defines。
*   公共宏。
*   公共类型定义，包括不透明类型。
*   公共常量的声明（声​​明为`extern const`）。
*   内联函数定义（罕见的特殊情况，尽可能避免）。
*   函数原型。
*   头球后卫结束。`#endif`

在 .c 文件中，允许按照规定的顺序出现以下项目：

*   包含它自己对应的 .h 文件。
*   #defines 中的私有数字常量。
*   私有宏。
*   不透明类型的定义，在相应的 .h 文件中声明为不完整类型。
*   私有类型定义。
*   公共常量的定义（`extern const`在 .h 文件中声明）。
*   私有常量的定义 ( `static const`)。
*   在文件范围内定义私有变量 ( `static`)。
*   私有函数的声明（声​​明为`static type func (type param);`）
*   .h 文件中声明的公共函数的定义。
*   私有函数的定义。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-29T05:58:24.830

`#define`带有are *not*声明的宏定义。唯一的要求是宏应该在使用之前定义。它们保持定义直到编译单元结束，或显式`#undef`（或重新定义......）。

我的风格约定是将类似语句的宏定义为具有类似“函数”的语法，例如：

```
 #define PRINT_FUNCTION_NAME() fprintf(stderr, \
     "CTRL IN FUNCTION: %s @%s:%d\n", __func__, __FILE__, __LINE__) 
```

注意空的形式宏参数（即 first `()`）和缺少终止分号（因为您将*使用*它作为准函数调用，例如`PRINT_FUNCTION_NAME();`语句）。还要注意 在调试消息中使用`__FILE__` and 。`__LINE__`

很多时候，类似语句的宏是一个`do{` *东西* `} while(0)`，因为这是一种语法，它具有类似外观的语句，并且*始终*可以用作语句（包括作为 an 的*then*部分`if`，或 in`else`分支等......）。一个例子`<ncurses.h>`：

```
#define getsyx(y,x) do { if (newscr) { \
             if (is_leaveok(newscr)) \
            (y) = (x) = -1; \
             else \
             getyx(newscr,(y), (x)); \
        } \
        } while(0) 
```

# jquery - Jquery Table 行不会中断

> ID：11256658
> 
> 赞同：0
> 
> 时间：2012-06-29T05:48:44.847
> 
> 标签：jquery, html-table

我正在尝试使用 jQuery 将表构建到 div 中，代码如下。然而，虽然新的 tr 被追加到表中，但结果表并没有出现 3 行，而是所有 tr 都聚集在一行中。.scoreboard 是一个 div。

```
function printScoreboard(){

    var $theTable = $('<table>');
        $theTable.css({'border':'solid black 2px'})
                 .addClass('scoreTable');

    var score = [];
    score.push({label:"Total Question: ", value:totalSec});
    score.push({label:"Right Question: ", value:rightQuest});
    score.push({label:"Wrong Question: ", value:wrongQuest});

    for(var idx = 0 ; idx < 3 ; idx ++){

        var currentArray = score[idx];
        $theTable.append('<tr>').append($("<td>").text(currentArray.label)
                                            ,$("<td>").text(currentArray.value));
    }

    console.log("print score board");

    $('.scoreBoard').empty();
    $('.scoreBoard').append($theTable);

} 
```

[http://i46.tinypic.com/jjwyg9.png](http://i46.tinypic.com/jjwyg9.png)

它可能是 3 行表，但不知何故不起作用。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:10:33.723

问题是`append`返回 $theTable，而不是它附加的内容。因此，将`<tr>`a 附加到表中，然后将 a`<td>`附加到表中，然后将另一个`<td>`附加到表中。最终效果是三个`<tr>`没有内容的元素后跟 6 个`<td>`元素。

您需要将其更改为：

```
$theTable.append($('<tr>').append($("<td>").text(currentArray.label)
                                    ,$("<td>").text(currentArray.value))); 
```

# dojo - Unable to get value when using dojox.form.CheckedMultiSelect in XPages

> ID：11256662
> 
> 赞同：0
> 
> 时间：2012-06-29T05:49:01.710
> 
> 标签：dojo, xpages

In my XPage I have `xp:comboBox` with `dojoType` set to `dojox.form.CheckedMultiSelect`. When I try to get its value in SSJS using `getComponent("comboBox1").getValue()` it returns `null`. If I remove the `dojoType` then the code works.

Here's the complete code:

```
<?xml version="1.0" encoding="UTF-8"?>
<xp:view xmlns:xp="http://www.ibm.com/xsp/core">
    <xp:this.resources>
        <xp:dojoModule name="dojox.form.CheckedMultiSelect"></xp:dojoModule>
        <xp:styleSheet href="/.ibmxspres/dojoroot/dojox/form/resources/CheckedMultiSelect.css"></xp:styleSheet>
    </xp:this.resources>
    <xp:comboBox id="comboBox1" dojoType="dojox.form.CheckedMultiSelect">
        <xp:selectItem itemLabel="Untitled 1"></xp:selectItem>
        <xp:selectItem itemLabel="Untitled 2"></xp:selectItem>
        <xp:selectItem itemLabel="Untitled 3"></xp:selectItem>
    </xp:comboBox>
    <xp:comboBox id="comboBox2">
        <xp:selectItem itemLabel="Untitled 1"></xp:selectItem>
        <xp:selectItem itemLabel="Untitled 2"></xp:selectItem>
        <xp:selectItem itemLabel="Untitled 3"></xp:selectItem>
    </xp:comboBox>
    <xp:button value="Label" id="button1">
        <xp:eventHandler event="onclick" submit="true" refreshMode="complete">
            <xp:this.action><![CDATA[#{javascript:print("============ " + getComponent("comboBox1").getValue());
print("============ " + getComponent("comboBox2").getValue());}]]></xp:this.action>
        </xp:eventHandler>
    </xp:button>
</xp:view> 
```

I the above code `comboBox1` has `dojoType` set to `dojox.form.CheckedMultiSelect` while `comboBox2` is plain combo box. On click of button value of `comboBox2` is printed on console while for `comboBox1` it prints null.

Why does this happen? What can I do to get the value from `comboBox1`?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T08:54:16.913

I would assume it has something to do with how dojo rewrites this control to achieve this. If you take a look at the source generated, the combo box is something like:

```
<select>
    <option></option>
    ...
</select> 
```

This is not how the dojo control is rendered it is broken up into many divs inside each other I'm guessing .getValue() just has no idea how to process that. You will need to do this client side with dojo script. The way it seems to work is that inside a number of divs is a div with

```
data-dojo-attach-point="wrapperDiv" 
```

and inside that div are a number of divs one for each option, the selcted one's div having an attribute `aria-selected="true"` , you will have to search for this and get the value from inside.

That is unless you can find something in the dojo documentation that details how to pull out the value (I can't)

**Update 29-Jun-2012 (Naveen):**

Thanks Simon, you were absolutely right about the Dojo rewriting. I was able to get the selected value using client side javascript using the below code:

```
dijit.byId("#{id:comboBox1}").get("value") 
```

I am putting the selected value in a field using the `onClick` event and then getting that field value in server side javascript. I know its lot of work for a simple thing, but it works. If you have a better solution then do share.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T12:11:13.960

The dojoType you refer to, doesn't have a SS getValue() yet. Getting the value CS is however fairly simple using dijit.byId("id").getValue(). With the help of a hiddenInput you have your workaround. I pasted the example below:

```
<xp:comboBox id="comboBox1" dojoType="dojox.form.CheckedMultiSelect">
    <xp:selectItem itemLabel="Untitled 1"></xp:selectItem>
    <xp:selectItem itemLabel="Untitled 2"></xp:selectItem>
    <xp:selectItem itemLabel="Untitled 3"></xp:selectItem>
</xp:comboBox>

<xp:inputHidden id="inputHidden1"></xp:inputHidden>

<xp:button value="Label" id="button5">
    <xp:eventHandler event="onclick" submit="true"
        refreshMode="complete">
        <xp:this.action><![CDATA[#{javascript:
            print("Submitting: " + getComponent("inputHidden1").getValue());
        }]]></xp:this.action>
        <xp:this.script><![CDATA[dojo.byId("#{id:inputHidden1}").value = dijit.byId("#{id:comboBox1}").getValue();]]></xp:this.script>
    </xp:eventHandler>
</xp:button> 
```

# android - 如何开始为 Android 开发原生应用程序

> ID：11256668
> 
> 赞同：0
> 
> 时间：2012-06-29T05:49:23.770
> 
> 标签：android, installation

我曾尝试为 android 安装 sdk，但没有成功。我在windows上安装它，经过几次尝试，我仍然无法成功使用android sdk。有人可以指导我克服我面临的问题吗？
我是一名网络开发人员，正在尝试开始原生应用程序开发。
我也有同样的电话间隙问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T05:59:23.193

如果您在设置开发环境时遇到问题，请按照本教程进行操作。 [http://www.youtube.com/watch?v=v9lb8mLvFB0](http://www.youtube.com/watch?v=v9lb8mLvFB0)

确保所有依赖项都已正确安装..

# c++ - C++，Qt - 可隐藏的 QListView

> ID：11256669
> 
> 赞同：1
> 
> 时间：2012-06-29T05:49:35.520
> 
> 标签：c++, qt, qcombobox, qlistview

我想为我的程序制作一个复选框列表，以便用户能够选中/取消选中许多不同的标志。但是，我想让它表现得像一个 QComboBox：大部分时间是折叠的，但在单击时会自行打开。

添加此类功能的最佳方法是什么（例如，从 QComboBox 派生自定义类，或使用 QListView 做某事）？谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:16:32.443

Qt 论坛上有一个解决方案：

[http://qt-project.org/forums/viewthread/7740](http://qt-project.org/forums/viewthread/7740)

`2_formatting`它根据示例文件夹中的教程推荐使用自定义模型/视图。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T06:04:00.393

创建您自己`QWidget`的具有 a`QCheckBox`和`QComboBox`.

在复选框和组合框之间建立信号和插槽连接。

将您的自定义小部件添加到`QListWidget`using [QListWidget::setItemWidget](http://doc.qt.nokia.com/4.7-snapshot/qlistwidget.html#setItemWidget) ..

使用它，您可以将自定义小部件添加到您的 QListWidget。

希望有帮助。

# javascript - 如何在json中形成多维数组的结构

> ID：11256672
> 
> 赞同：1
> 
> 时间：2012-06-29T05:49:57.080
> 
> 标签：javascript, arrays, object

我想形成一个 Json 结构，我们可以将表格的数据以数组的形式放入其中。我希望每一行都作为数组条目进行访问。例如。：

![在此处输入图像描述](../Images/f1ced0a8bc580357be48cc2c6fe8444f.png)

[http://froonystudio.com/table%20layout.png](http://froonystudio.com/table%20layout.png)

（声誉低于 10 的用户不允许插入图片，因此无法将我的图片放在我的帖子上。）

代码 -

```
var ObjSet = {
    "entry1" : .......
} 
```

“entry1”变量应该保存类似这样的值`array(1)(10) (ie - 1*10 dimension)`。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T09:14:35.777

我认为这个[链接](https://stackoverflow.com/questions/2487841/jquery-parse-json-multidimensional-array)会给你你想要的。

在 JSON 中，{} 代表一个对象，[] 代表一个数组。所以在 JSON 中嵌套 [] 会给你你想要的。

# iphone - 如何在tableview（iPhone）中的特定部分清除（分隔符颜色）？

> ID：11256686
> 
> 赞同：3
> 
> 时间：2012-06-29T05:51:23.233
> 
> 标签：iphone, ios, uitableview

目前我在 iPhone 应用程序中工作，使用 tableview 开发表格及其样式，如分组，No.of 部分如 2，​​然后第 1 部分具有分隔颜色，如浅灰色，第 2 部分具有分隔颜色，如 clearColor。但是当我滚动表格视图时，有时第二部分在第一部分处于活动状态时也会清除分隔符颜色，如何解决这个问题？请任何人帮助我

提前致谢

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Cell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];
    cell.selectionStyle = UITableViewCellSelectionStyleNone;

       if (indexPath.section == 0 && indexPath.row == 0) 
        {
            studentUpdateTable.separatorColor = [UIColor lightGrayColor];
            cell.backgroundColor = [UIColor whiteColor];
        }
       else if(indexPath.section == 1 && indexPath.row == 0)
       {
            studentUpdateTable.separatorColor = [UIColor clearColor];
            cell.backgroundColor = [UIColor clearColor];
       }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T05:52:15.410

```
 tableView.separatorStyle = UITableViewCellSeparatorStyleNone; 
```

您可以设置为 None 而不是尝试将其设置为 clearColor

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-30T04:47:28.483

这确实有效

```
cell.backgroundView = [[[UIView alloc] initWithFrame:CGRectZero] autorelease]; 
```

添加了一个自定义 UIView（新分配的 UIView）作为单元格的背景视图。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T06:16:30.517

它可以从界面构建器本身完成..在表格视图的属性检查器中，您可以选择分隔符样式...不需要任何编码...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-11T13:14:03.040

您的问题似乎是每次滚动时都在分配单元格，因为 tableView 重用了单元格，因此无需每次都分配它。如果单元格为零，则只分配它。

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
    static NSString *CellIdentifier = @"Cell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
   if (cell == nil) 
    {   
      cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault
            reuseIdentifier:CellIdentifier] autorelease];
      cell.selectionStyle = UITableViewCellSelectionStyleNone;
    }

   if (indexPath.section == 0) 
   {
        studentUpdateTable.separatorColor = [UIColor lightGrayColor];
        cell.backgroundColor = [UIColor whiteColor];
   }
   else if(indexPath.section == 1)
   {
        studentUpdateTable.separatorColor = [UIColor clearColor];
        cell.backgroundColor = [UIColor clearColor];
   }
} 
```

# javascript - 如何在javascript中使用id设置字段值？

> ID：11256689
> 
> 赞同：24
> 
> 时间：2012-06-29T05:51:33.350
> 
> 标签：javascript, html

`onclick`当通过单击按钮/超链接引发事件时，我想使用 JavaScript 设置 HTML 字段的值。我在 Google 上搜索并找到了许多使用该`name`属性的文章，但我只想使用该字段设置值`id`。

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2012-06-29T05:53:45.043

```
document.getElementById('Id').value='new value'; 
```

[https://developer.mozilla.org/en-US/docs/Web/API/document.getElementById](https://developer.mozilla.org/en-US/docs/Web/API/document.getElementById)

# coldfusion - 需要在 Coldfusion 9 上运行 JPA + Hibernate java 项目的建议

> ID：11256691
> 
> 赞同：2
> 
> 时间：2012-06-29T05:51:46.387
> 
> 标签：coldfusion, coldfusion-9, coldfusion-8

我有一个使用 JPA 2/Hibernate 3.5.6 进行数据访问的 java 项目，它在 JBoss 应用服务器上运行良好。现在我正在尝试在 Coldfusion 9 环境中运行它，我看到 CF 9 已经具有其 ORM 实现所需的 hibernate3.jar 和相关 jar。但是，我想在 CF 上使用我的 java 项目，为此，我需要在 CF 上使用相同的 hibenate 3.5.6 jar 和相关 jar。因此，我移动了所有需要的 jar，在 CF 中创建了一个新文件夹并更新了 jvm.config 以包含这个新路径。效果很好！！但现在担心的是，这是否会与 CF9 使用的默认 Hibernate/ORM 行为相冲突。这会导致任何其他问题吗？（类加载、冲突等）？

选项 2：另外，为了避免任何“可能”的问题，我决定创建一个 web 服务应用程序，打包我需要的所有 jar 并将其部署为 CF9-JRun4 上的 war 文件，效果很好。在这种情况下，我不必担心 clasloading，因为它在 Web 应用程序的范围内。但是，我不希望来自 CF 应用程序的调用真正通过 Web 服务层，因为它所要做的只是访问数据库并取回数据。所以我真的希望我的选项 1（上一段）能够工作。

因此，在此之前可能从事过类似设置的任何人都可以提供一些见解。感谢帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T08:57:15.893

我目前正在处理该设置（在 CF 应用程序中运行的 spring/hibernate/jpa 应用程序）。唯一的区别是我在 Railo 上，但我以前也用 Adob​​e ColdFusion (ACF) 做过同样的事情。在 ACF 和 Railo 中，使用自己的 Hibernate 肯定会遇到问题。共识似乎是，只要您不使用 ACF 的内置 ORM 功能，您就可以移除/替换 ACF 的 Hibernate。

像你一样，我只看选项 2 并且不太喜欢它。如果你想正确地将你的 Java 应用程序与你正在运行的 CF 容器分开，你应该使用[JavaLoader](http://www.compoundtheory.com/?action=javaloader.index)。它提供了一个子类优先的类加载器，它可以在您的应用程序中加载 JAR，并从那里解析类和资源，而不是沿着链向上到 ACF 中提供的类。

我要提到的唯一问题是许多现代框架（尤其是 Spring）使用线程上下文 Classloader 来获取资源，因此在从 Java 代码构造对象时可能需要切换类加载器。这[在 JavaLoader 文档中有所介绍](https://github.com/markmandel/JavaLoader/wiki/Switching-the-ThreadContextClassLoader)，但值得知道的是，当您的代码抱怨无法从您的 JAR 等加载属性文件时，这可能是原因。我倾向于创建一个 CFC 来隐藏构建 Java 对象和让您的应用程序代码的其余部分保持简单。您可以查看 CFSpreadsheet 的 Railo 实现，[特别是这个类](https://github.com/andyj/RailoExtensionProvider/blob/master/cfpoi/org/cfpoi/spreadsheet/Spreadsheet.cfc)作为示例。

希望这一切都适合你

# asp.net - 如何将 Type DataTable (TVP) 导出到 .csv 或 .xls 文件？

> ID：11256694
> 
> 赞同：0
> 
> 时间：2012-06-29T05:51:58.950
> 
> 标签：asp.net, export-to-excel, export-to-csv, table-valued-parameters

我想将 TVP（数据表类型）导出到 .csv 文件或 .xls，但更多的是使用 aspx 导出到 .csv。你能帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:07:47.093

有很多方法可以实现这一目标。只要看看[我的博客](http://www.naveenbhat.in/2012/06/export-data-to-excel-without-using.html)。我在我的文章中指定了 3 种方法。

*   渲染控制
*   HTML 表格
*   OLEDB

这些是不使用互操作的方法。

* * *

> 如何在导出期间格式化我的数据，例如颜色行、列、标题等。

为此，我想从我的博客中引用这些内容。

**渲染控制**

> 使用这种方法，我们可以轻松地从 GridView 导出数据。当我们希望导出的数据与 GridView 中的格式相同时，这将很有用。

根据需要格式化您的网格并调用其`RenderControl`方法。这将与数据一起导出样式。

**HTML 表格**

> 在这里，工作表被视为 html 表格。这种方法的优点是易于定制。您可以使用任何 html 标签自定义输出。

包裹`data`并`html style elements`渲染它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T06:04:25.417

只需将您的数据绑定到 DataGrid 并使用`Response.ContentType = "application/vnd.ms-excel";`

进一步看看[这个](http://blog.weareon.net/export-datatable-to-excel-in-asp-net-without-using-excel-interop-part-ii/)

# css - 如何让这个基于 CSS 的水平导航菜单正常工作？

> ID：11256702
> 
> 赞同：1
> 
> 时间：2012-06-29T05:52:44.237
> 
> 标签：css

最初，在完成了 Flash 教程后，我为我的网站设计了这个基于 Flash 的导航菜单。一切都很顺利，直到我展示示例页面的一些访问者说他们的浏览器（Internet Explorer）没有打开菜单，因为他们没有在他们的系统上安装 Flash 插件。因此，考虑到这些问题，如果我的网站访问者中的更多人没有在他们的系统上安装 Flash，也许他们也将无法查看菜单！如果导航菜单无法访问，整个网站就会出错。

我遇到了另一个非常好的基于 CSS 的垂直菜单，其工作方式与我的 flash 菜单（黑色悬停效果）几乎相同。这是代码：

```
<style type="text/css">

#coolmenu{
border: 0px solid black;
width: 178px;
background-color: #FFFFFF;
}

#coolmenu a{
font: bold 13px Tahoma;
padding: 16px;
padding-center: 0px;
display: block;
width: 100%;
color: 3a403c;
text-decoration: none;
border-bottom: 1px solid black;
}

html>body #coolmenu a{ /*Non IE rule*/
width: auto;
}

#coolmenu a:hover{
background-color: red;
color: white;
}

</style>

<div id="coolmenu">
<a href="">ABOUT US<br><small> a brief note on our genesis </small></br></a>
<a href="">CONTENT SECTIONS<br><small> what we publish </small></br></a>
<a href="">EDITORIAL BOARD<br><small> fellow comrades </small></br></a>
<a href="">DOWNLOAD<br><small> our magazine archives </small></br></a>
<a href="">CONTACT US <br><small> mailing address </small></br></a>
</div> 
```

但是如果我想在我的网站中使用那个 CSS 菜单，我需要将它横向设计。

我试图改变自己，但惨遭失败：（菜单的宽度需要为 665 像素，高度为 48 像素......每个块，即关于我们、内容、下载等需要在 133 像素大小的分区内，有一个细条颜色# 616060 在每个块的右端。我设法只为第一个块设置了它，即关于我们但所有其他菜单分区继续垂直放置。

此外，正如您在我的 Flash 菜单中看到的那样，01、02、03 到 05 的字体大小和颜色（Arial 字体大小 16bold；颜色 #858383）和文本“关于我们”的字体大小和颜色不同。 CONTENT" DOWNLOAD" "EDITORIAL BOARD" "CONTACT US" (Arial font size 10; color white)

但是在 CSS 中，我无法为数字和文本获得不同的字体大小和颜色。

这是我尝试只对第一个块做的关于我们：但是正如你所看到的，字体看起来如此巨大......我没有尝试使用其他块:(

```
<style type="text/css">

#coolmenu{
width: 665px;
height: 48px;
margin: 0;
padding: 0;
background-color: #CC3300;
text-align: center;

}

#coolmenu a{
padding: 5px;
color: #fff;
font: bold 14px Arial;
padding-center: 0px;
display: block;
width: 133px;
color: #858383;
text-decoration: none;
border-right: 1px solid #616060;
}

html>body #coolmenu a{ /*Non IE rule*/
width: 133px;
}

#coolmenu a:hover{
background-color: black;
color: white;
}

</style>

<div id="coolmenu">
<a href=""><font face="Arial" size="16" color=#858383><b>01</b></font><br><font face="Arial" size="10" color="white">ABOUT US</font></br></a>
<a href="">02<br><small> CONTENT SECTIONS </small></br></a>
<a href="">03<br><small> EDITORIAL BOARD </small></br></a>
<a href="">04<br><small> DOWNLOAD PDF</small></br></a>
<a href="">05<br><small> CONTACT US  </small></br></a>
</div> 
```

所以请指导我，如何让我的 Flash 菜单中的字体样式和这个 CSS 菜单是水平的？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:11:52.583

这是你想要的效果吗：http: [//jsfiddle.net/UmpdH/10/](http://jsfiddle.net/UmpdH/10/) [最终更新]

基本上，修改您的 html，使用无序列表并使用、to`<ul>`包装每个锚点，并根据需要设置元素的样式。`<li>``float``left`

HTML：

```
<ul id="coolmenu">
    <li><a href="http://www.aamaodisha.org"><span><div>01</div>ABOUT US</span></a></li>
    <li><a href="http://www.aamaodisha.org/content.php"><span><div>02</div>CONTENT SECTIONS</span></a></li>
    <li><a href="http://www.aamaodisha.org/editorialboard.php"><span><div>03</div>EDITORIAL BOARD</span></a></li>
    <li><a href="http://www.aamaodisha.org/download.php"><span><div>04</div>DOWNLOAD PDF</span></a></li>
    <li><a href="http://www.aamaodisha.org/contactus.php"><span><div>05</div>CONTACT US</span></a></li>
</ul>​ 
```

CSS：

```
<style type="text/css">

#coolmenu{
width: 670px;
height: 48px;
margin: 0;
padding: 0;
background-color: #CC3300;
text-align: left;
list-style: none;
}

#coolmenu a{
padding: 5px;
color: #fff;
font: bold 10px Arial;
padding-center: 0px;
display: block;
/*width: 133px;*/
text-decoration: none;
}

html>body #coolmenu a{ /*Non IE rule*/
width: 133px;
}

#coolmenu li:hover{
background-color: black;
}

#coolmenu li:hover a {color: white;}

#coolmenu li { width: 118px; height: 48px; padding-left: 15px; float: left; border-right: 1px solid #616060; }
#coolmenu li a span { min-width: 50px; display: inline-block; }

#coolmenu li a div { color: #858383; font: bold 16px Arial; text-align: left; }​

</style> 
```

编辑：上面的菜单与这里看到的 flash 菜单具有相同的效果：[http ://www.aamaodisha.org/contact.html](http://www.aamaodisha.org/contact.html)

编辑：最终更新，文本左对齐，左填充：15px

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T08:21:33.247

这是完整的工作代码：http: [//jsfiddle.net/surendraVsingh/UmpdH/17/](http://jsfiddle.net/surendraVsingh/UmpdH/17/)

**HTML**

```
<ul id="coolmenu">
    <li><a href="http://www.aamaodisha.org"><span>01</span>ABOUT US</a></li>
    <li><a href="http://www.aamaodisha.org/content.php"><span>02</span>CONTENT SECTIONS</a>
    <li><a href="http://www.aamaodisha.org/editorialboard.php"><span>03</span>EDITORIAL BOARD</a>
    <li><a href="http://www.aamaodisha.org/download.php"><span>04</span>DOWNLOAD PDF</a>
    <li><a href="http://www.aamaodisha.org/contactus.php"><span>05</span>CONTACT US</a>
</ul> 
```

**CSS：**

```
#coolmenu{
    width: 665px;
    height: 48px;
    margin: 20px auto;
    padding: 0;
    background-color: #CC3300;
    text-align: left;
}

#coolmenu li{
     -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */
     -moz-box-sizing: border-box;    /* Firefox, other Gecko */
     box-sizing: border-box;
     width: 133px;
     border-right: 1px solid #616060;
     display:block;
     float:left;
}
#coolmenu li:last-child{border:none;}
#coolmenu span{
    display:block; 
    text-align:left; 
    color: #858383; 
    font-size:15px;
}
#coolmenu a{
    padding:8px 0 8px 5px;
    color: #fff;
    font: bold 11px Arial;
    text-decoration: none;
    display:block;
    -webkit-transition: all 0.3s ease-in-out;
    -moz-transition: all 0.3s ease-in-out;
    -ms-transition: all 0.3s ease-in-out;
    -o-transition: all 0.3s ease-in-out;
     transition: all 0.3s ease-in-out;
}
#coolmenu a:hover{
background-color: #000;
}​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T06:22:56.810

您需要使用列表，即

```
<ul>
    <li>
        <a>ETC</a>
        <a>ETC</a>
    </li>
</ul> 
```

并使用 float: left 在 css 部分。

# objective-c - 如何使用 UncaughtExceptionHandler 获取更多信息

> ID：11256708
> 
> 赞同：0
> 
> 时间：2012-06-29T05:53:44.127
> 
> 标签：objective-c, ios, exception-handling

我正在使用[Uncaught Exception Handler](http://cocoawithlove.com/2010/05/handling-unhandled-exceptions-and.html "未捕获的异常处理程序")。有没有一种方法可以让我在之后获取堆栈跟踪`rethrow`？并收集有关背面痕迹的更多信息？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T06:09:55.987

如果您在开发环境中，还有一种方法：

*   转到 Xcode 左侧窗格中的断点部分。
*   在下面的选项卡中找到“+”按钮。点击它。
*   选择“添加异常断点”。
*   将出现一个对话框。选中“异常断点”复选框
*   将例外设置为“全部”。
*   设置为休息投掷。

运行应用程序。当它遇到未处理的异常时（EXC_BAD_ACCESS 除外），执行过程将在该语句处停止。

# sensors - 门窗传感器和安全系统传感器

> ID：11256711
> 
> 赞同：0
> 
> 时间：2012-06-29T05:54:09.270
> 
> 标签：sensors

我的目标是可能创建自己的安全系统（而不是为公司付费）。我的服务将监控安装在门窗上的一组传感器，将事件记录到 SQL 服务器中，并在需要时通过短信提醒我。

我的两个问题如下......我可以在哪里得到一组传感器放在我的门/窗上，我可以以某种方式连接到我的电脑。其次，我怎样才能让它与 C# 一起工作（如果可能的话）？其余的很容易，但我不知道有什么方法可以开始。

我没有硬件开发背景，并且严格基于软件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-01T17:53:02.417

**第一个问题的答复**

它取决于位置，但我从您的个人资料中获取您的位置并找到这个站点也许这个站点可以帮助您 [Door Sensors Omaha NE](http://local.homesecurityandalarms.com/Door_Sensors_Omaha_NE-p1712659-Omaha_NE.html)

**第二个问题的答复**

这些类型的东西带有它的驱动程序和其他可以帮助您制作这种类型的系统的东西，是的，您可以在 C# 中制作它，您只需通过电话直接联系上面的链接并询问他提供了哪些东西您为此制作软件并问他是否可以通过电子邮件向您发送这些东西，我的意思是ocx或其他东西，以便您可以尝试制作该软件，并在收到此ocx或其他东西后，当您遇到任何问题时，请尝试搜索谷歌如果你没有找到任何有用的解决方案而不是在这里询问

# c - kdtree插入函数

> ID：11256715
> 
> 赞同：0
> 
> 时间：2012-06-29T05:54:37.217
> 
> 标签：c, pointers, tree, binary-tree

```
void insert_KD_tree(noKD **tree, Queue *queue, int counter) {

    if ((*tree)!=NULL) {
            *tree = new_KD_node(queue->first->pointer,NULL,NULL);
    }
    else if (((*tree)->pointer[counter]) > (queue->first->pointer[counter])) {
            counter++;
            insert_KD_tree(&(*tree)->left,queue);
    }
    else {
            counter++
            insert_KD_tree(&(*tree)->right,queue,counter);
    }
    pop(queue);
} 
```

好的，所以这基本上是二叉树插入函数，但用于将数组插入节点。数组存储在队列中，但是指向指针的指针有问题。当我尝试使用 gdb 访问数组时，它会给出无法访问内存位置的消息`0x10`，但是如果我尝试在另一个函数上访问它，它会向我显示位置很好，我可以访问数组。

我注意到问题是指向指针事物的指针，如果我在调用时只放一个星号`insert_KD_function`，我的程序可以毫无问题地访问 tree->pointer。所以问题与指向指针的指针有关，它以某种方式丢失了指针引用。

谁能帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T19:51:27.563

```
if ((*tree)!=NULL) { 
```

Doesn't that mean that you *overwrite* the root if it exists? Shouldn't that be `== NULL`?

Apart from that, you should not that kd-trees don't perform very well on *updates*. If you have a lot of updates, you probably are better off with an R*-tree, which is balanced. Otherwise, pay attention to the structure of the tree, and bulk-load it again if it becomes too unbalanced.

# php - 当用户点击链接时立即将其转移到特定页面

> ID：11256716
> 
> 赞同：0
> 
> 时间：2012-06-29T05:54:38.853
> 
> 标签：php, mysql

我被要求创建一些功能，其中

*   营销团队通过电子邮件或电子邮件向用户发送指向特定产品页面的链接。
*   用户点击链接
*   链接将用户重定向到网站登录页面。
*   成功登录后，用户立即进入产品页面。

注意：我不希望用户在成功登录后转到常规页面。我希望用户在成功登录后立即直接进入产品页面。

如何做到这一点。我使用 php。有任何想法吗？

请编辑我的标签，我不知道该查询的确切位置。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:57:58.753

例如，在第 3 步中重定向它们，不仅仅是 on`/login.php`而是 on `/login.php?returnTo=/productPageOrWhereverRedirectWasIssuedFrom.php`；并在第三步将它们重定向到`$_GET['returnTo']`（如果已设置）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T06:04:21.543

您可以在登录页面上使用一些请求变量，并且可以根据这个新请求变量的值重定向登录用户。例如，当用户单击您的链接（通过电子邮件发送）时，该超链接 url 还将具有一个带有登录页面的请求变量（在查询字符串中提供额外路径）。然后确定登录页面，您可以测试此变量的值并相应地重定向

# struts-1 - 为什么在 Struts 1.3 中有两个类用于处理请求，ActionServlet 和 RequestProcessor

> ID：11256717
> 
> 赞同：1
> 
> 时间：2012-06-29T05:54:52.723
> 
> 标签：struts-1

为什么在**struts 1.3**中我们有两个单独的类来处理请求：

> -- ActionServlet 拦截请求并调用 RequestProcessors 处理方法进行进一步处理
> --RequestProcessor 读取 XML 文件，找到合适的 Handler 并处理请求

我的问题是为什么这是两个不同的课程？我试图在网上和书籍上搜索，但没有得到任何答案。

任何人都可以有任何想法吗？请告诉我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:51:18.683

`ActionServlet`基本上读取你的`struts-config.xml`并创建一个`ModuleConfig`. 这`ModuleConfig`是您的`struts-config.xml`. ActionServlet 只是将您的`HttpServletRequest`and传递`HttpSerlvetResponse`给`RequestProcessor`.

`RequestProcessor`基本上从请求中识别（`Action`通过`ModuleConfig`帮助程序）创建一个`ActionMapping`（基于所做的调用）并执行执行必要的操作来检索一个`ActionForward`. 从 中`ActionForward`，它将您的请求和响应委托给它，这就是整个 Struts 工作流程。

基本上，Struts 的核心是通过`RequestProcessor`. `ActionServlet`只是初始化 Struts 并将请求和响应传递给`RequestProcessor`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-04-03T04:27:37.497

**RequestProcessor**类是在 Struts 控制器环境中进行请求处理的实际位置。

当请求对象第一次到达**actionservlet**类时，它会调用底层 RequestProcessor 类的**process**方法。

然后，此处理方法查看**struts-config.xml**文件并尝试定位请求附带的操作的名称。一旦它在 xml 文件中识别出该操作，它就会继续请求处理所需的其余步骤。

# android - 有没有办法在 jquery 中捕获 android 'GO' 按钮或 iPhone 'GO' 按钮？

> ID：11256718
> 
> 赞同：4
> 
> 时间：2012-06-29T05:54:57.840
> 
> 标签：android, jquery, iphone, html, form-submit

我正在建立一个移动网站，在这个表单中有一个但没有提交按钮。因此，当用户在输入字段中输入内容并单击 Android 或 iPhone GO 按钮时，它应该提交表单。我为此使用 HTML 和 jQuery。

如何在 jQuery 中捕获此 GO 事件？我希望它自己以这种方式完成。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-29T07:05:32.357

添加一个提交按钮并将其设置`opacity`为`0`.

我将此用于html：

```
<form>
    <input type="text" name="input" />
    <input type="submit" style="opacity:0;" />
</form> 
```

这对`alert()`价值：

```
$(document).ready(function() {
    $("form").submit(function() {
        alert($("[name=input]").val());
    });
}); 
```

您只需要处理表单的提交事件，这对 jQuery 非常有用。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-06-29T07:01:56.150

您可以使用 webview 在 android/iphone 设备中加载 html 文件。

检查以下，

1.  在android的assets文件夹下添加index.html。并在 mainActivity 类中添加以下内容。这里命名为 StackOverFlowActivity

    ```
    import android.app.Activity;
    import android.os.Bundle;
    import android.os.Handler;
    import android.webkit.WebView;

    public class StackOverFlowActivity extends Activity {

    private Handler mHandler = new Handler();

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        WebView view=(WebView)findViewById(R.id.webView1);
        view.getSettings().setJavaScriptEnabled(true);
        view.loadUrl("file:///android_asset/index.html");
        view.addJavascriptInterface(new MyJavaScriptInterface(), "Android");
    }

    final class MyJavaScriptInterface
    {
        public void ProcessJavaScript(final String scriptname, final String args)
            {             
                mHandler.post(new Runnable()
                    {
                        public void run()
                            {
                                String h="Hi";
                                webview.loadUrl("javascript:result(\""+h+"\")");
                            }
                    });
            }
    } 
    ```

    }

2.  索引.html

    ```
    <html>
    <head>
    <script type="text/javascript">
    function clickhere()()
    {
       Android.ProcessJavaScript("result",null); 
    }

    function result(res) 
    {

        alert(res);       
     }
     </script>
     </head>

     <body>
     <input type="button" id="clickme" onclick="clickhere()" value="GO"></input>
     </body>
     </html> 
    ```

# css - 如何在我的台式机和笔记本电脑上设置不同分辨率的包装宽度？

> ID：11256721
> 
> 赞同：0
> 
> 时间：2012-06-29T05:55:03.623
> 
> 标签：css, width, media-queries

我已经在 Google 上搜索了很多次，但我找不到我想要的答案。

例子：

我的桌面分辨率是**1024px**，我创建了一个宽度为**1003px**的网站。**1003px**是显示水平滚动条之前**1024**分辨率的最大宽度。

那么，**在显示水平滚动条之前，768 分辨率的最大浏览器宽度是多少？**

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T05:59:14.560

只需再次减去滚动条，通常`16px`在 Windows 平台上。切掉一点以确保（特殊的系统设置，其他浏览器，其他操作系统......`20px`很常见） -`-21px`就像您在第一个示例中所做的那样似乎是一个不错的价值。

```
768 - 21 = 747 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T06:29:14.483

你试过媒体屏幕吗

[http://www.w3.org/TR/css3-mediaqueries/](http://www.w3.org/TR/css3-mediaqueries/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T06:31:08.867

我建议您为此使用 Adob​​e Dreamweaver cs5。

# ios - 删除实体会中止应用程序

> ID：11256722
> 
> 赞同：0
> 
> 时间：2012-06-29T05:55:05.463
> 
> 标签：ios, objective-c, core-data, nsmanagedobject

我正在使用核心数据来存储一些细节。但是当我第二次运行我的应用程序时，实体中的内容会翻倍。每次我运行我的应用程序时都会继续这种情况。我尝试删除对象，然后再添加这个问题[Core Data: Quickest way to delete all instances of an entity](https://stackoverflow.com/questions/1383598/core-data-quickest-way-to-delete-all-instances-of-an-entity)但随后删除成功而不是添加部分，因此我在代码中退出（从我所在的其他部分正在访问数据库）

我使用了下面的代码

```
-(void)synDBFavSpecies:(NSString *)speciesName:(NSString *)speciesId:(NSString *)Imagename
{ 
    NSManagedObjectContext *context=app.managedObjectContext; 
    NSError *err;

    NSFetchRequest *request1=[[NSFetchRequest alloc]init];
    NSEntityDescription *entity1=[NSEntityDescription entityForName:@"FavoriteSpecies" inManagedObjectContext:context];
    [request1 setEntity:entity1];
    NSArray *result1=[context executeFetchRequest:request1 error:&err];
    NSManagedObject *ph1;
    for(ph1 in result1 )
    {
        [context deleteObject:ph1];
        NSString *sid= [ph1 valueForKey:@"ID"]; 
        NSLog(@"Sp.ID:%@",sid);

        if(sid)
        {

            [context deleteObject:ph1];
            if(![context save:&err])
            {
                NSLog(@"error");
            }
        }
    }

    NSManagedObject *SetDB=[NSEntityDescription insertNewObjectForEntityForName:@"FavoriteSpecies" inManagedObjectContext:context];

    [SetDB setValue:speciesName forKey:@"favspecies"];
    [SetDB setValue:speciesId forKey:@"ID"];
    [SetDB setValue:Imagename forKey:@"speciesimage"];

    if(![context save:&err])
    {
         NSLog(@"error");
    }
} 
```

谁能帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T10:56:26.513

实际上我在我的代码中犯了一个错误。上面的代码在循环中运行。所以当我删除它时，插入没有执行。所以我做了另一种方法来删除数据库并在调用这个方法之前调用了那个方法。因此让它工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T10:38:26.063

普里亚，

首先我会改变

```
NSLog(@"error"); 
```

对错误进行更详细的描述，例如：

```
NSLog(@"My save failed: %@\n%@", [error localizedDescription], [error userInfo]); 
```

那么，您的`FavoriteSpecies`实体是否与其他实体有其他关系？

如果要防止重复，则需要以不同的方式处理它。例如，如果您`ID`是您的`FavoriteSpecies`实体的标识符，您可以使用谓词设置获取请求并查看它返回的内容。例如：

```
NSFetchRequest *request1 = [[NSFetchRequest alloc]init];
[request1 setEntity:[NSEntityDescription entityForName:@"FavoriteSpecies" inManagedObjectContext:context]];
[request1 setPredicate:[NSPredicate predicateWithFormat:@"ID == %@", speciesID]];
[request1 setFetchLimit:1]; // it's not necessary to do it since the ID is unique 
```

如果您执行 fetch，您将检索一个或零个对象（如果`ID`是唯一的）

```
NSArray *result1 = [context executeFetchRequest:request1 error:&err];
if([result1 count] == 0) {
    // insert here since you haven't that object
} else { 
    // do what you want, for example updating
} 
```

设置谓词等于`WHERE`在语句中添加子句`SELECT`。

希望有帮助。

# apache - 使用 php curl 的 Apache solr 索引（curl_error:Protocol "http not supported or disabled in libcurl）

> ID：11256729
> 
> 赞同：0
> 
> 时间：2012-06-29T05:55:27.110
> 
> 标签：apache, curl, solr

我正在使用这个 php 脚本索引一个 pdf 文件。卷曲给我一个错误

> curl_error:Protocol "http 在 libcurl 中不受支持或禁用

这是我的代码，请帮助我解决这个错误，我也在谷歌上搜索错误，如果我找到解决方案，我会回复帖子。提前致谢。

```
$result=move_uploaded_file($_FILES["file"]["tmp_name"],"upload/" . $_FILES["file"]["name"]);
     if ($result == 1) echo "<p>Upload done .</p>";
        $options = getopt("f:");
        $infile = $options['f'];

        $url = "\"http://localhost:8983/solr/update/";
        $post_string = file_get_contents("upload/" . $_FILES["file"]["name"]);

        $header = array("Content-type:text/xml; charset=utf-8");

        $ch = curl_init();

        curl_setopt($ch, CURLOPT_URL, $url);
        curl_setopt($ch, CURLOPT_HTTPHEADER, $header);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
        curl_setopt($ch, CURLOPT_POST, 1);
        curl_setopt($ch, CURLOPT_POSTFIELDS, $post_string);
        curl_setopt($ch, CURLOPT_HTTP_VERSION, CURL_HTTP_VERSION_1_1);
        curl_setopt($ch, CURLINFO_HEADER_OUT, 1);

        $data = curl_exec($ch);

        if (curl_errno($ch)) {
           print "curl_error:" . curl_error($ch);
        } else {
           curl_close($ch);
           print "curl exited okay\n";
           echo "Data returned...\n";
           echo "------------------------------------\n";
           echo $data;
           echo "------------------------------------\n";
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T06:10:18.747

我认为...删除\"

```
$url = "http://localhost:8983/solr/update/";
       ^ 
```

# c++ - 在类模板中如何检测模板参数是否为枚举类型？

> ID：11256730
> 
> 赞同：2
> 
> 时间：2012-06-29T05:55:49.460
> 
> 标签：c++, templates, parameters, enums, detect

在类模板中，如何检测模板参数是否为枚举类型？

这是我想做的一个简化示例：http: [//ideone.com/3CafY](http://ideone.com/3CafY)。您将如何实现 IsTEnum() 以使输出正确？

我觉得应该有一个 boost 函数可以解决这个问题，但是我不允许在我当前的项目中使用 boost（也不是标准库 std:: 函数）。
尽管如此，我也有兴趣知道这两种方法是否使用 boost（即使解决方案不处理指针或 const 类型）。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-29T05:58:10.727

为此，您可以使用 C++11 的[std::is_enum](http://en.cppreference.com/w/cpp/types/is_enum)。你是对的，那个 boost 有[同样的解决方案](http://www.boost.org/doc/libs/1_49_0/libs/type_traits/doc/html/boost_typetraits/reference/is_enum.html)。如果您不能使用 boost 或 C++11，您可以随时查看实现以获取灵感。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T14:20:32.790

如果您不能使用 C++11，请编写：

```
#include <tr1/type_traits>
#include <iostream>
using namespace std;

int main() {
   cout << tr1::is_enum<int>::value << "\n";
   return 0;
} 
```

命名空间 tr1 包括一些来自 C++11 的头文件，这些头文件可用于预标准 C++。

# java - 如何使用 Selenium WebDriver 处理 Windows 文件上传？

> ID：11256732
> 
> 赞同：57
> 
> 时间：2012-06-29T05:55:54.813
> 
> 标签：java, selenium, file-upload, selenium-webdriver, webdriver

我在 Stack Overflow 上看到了很多关于使用 Selenium WebDriver 上传文件的问题和解决方案。但是它们都不适用于以下场景。

有人给出了如下解决方案

```
// assuming driver is a healthy WebDriver instance
WebElement fileInput = driver.findElement(By.name("uploadfile"));
fileInput.sendKeys("C:/path/to/file.jpg"); 
```

但我仍然找不到窗口句柄。我该怎么做？

![截屏](../Images/a5c6d249b661c0a464eddc9489a578b6.png)

我正在为上述场景寻找解决方案。

请在以下任何网站上查看。

```
http://www.uploadify.com/demos/
http://www.zamzar.com/ 
```

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2012-06-29T08:13:22.487

```
// assuming driver is a healthy WebDriver instance
WebElement fileInput = driver.findElement(By.name("uploadfile"));
fileInput.sendKeys("C:/path/to/file.jpg"); 
```

嘿，那是我从某个地方来的 :)。

* * *

如果是**Zamzar**网络，它应该可以完美运行。您*不单击*该元素。您只需输入路径即可。具体来说，这应该是绝对可以的：

```
driver.findElement(By.id("inputFile")).sendKeys("C:/path/to/file.jpg"); 
```

* * *

在**Uploadify**网络的情况下，你处于一个泡菜中，因为上传的东西是 no `input`，而是一个 Flash 对象。没有用于 WebDriver 的 API 可以让您使用浏览器对话框（或 Flash 对象）。

因此，在您单击 Flash 元素后，会弹出一个您无法控制的窗口。在我所知道的浏览器和操作系统中，您几乎可以假设在打开窗口后，光标在`File name`输入中。请确保这个假设在你的情况下也是正确的。

如果没有，您可以尝试按 跳到它`Alt + N`，至少在 Windows 上...

如果是，您可以使用[`Robot`](http://docs.oracle.com/javase/7/docs/api/java/awt/Robot.html)该类“盲目地”输入路径。在您的情况下，这将是一种方式：

```
driver.findElement(By.id("SWFUpload_0")).click();
Robot r = new Robot();
r.keyPress(KeyEvent.VK_C);        // C
r.keyRelease(KeyEvent.VK_C);
r.keyPress(KeyEvent.VK_COLON);    // : (colon)
r.keyRelease(KeyEvent.VK_COLON);
r.keyPress(KeyEvent.VK_SLASH);    // / (slash)
r.keyRelease(KeyEvent.VK_SLASH);
// etc. for the whole file path

r.keyPress(KeyEvent.VK_ENTER);    // confirm by pressing Enter in the end
r.keyRelease(KeyEvent.VK_ENTER); 
```

这很糟糕，但它应该工作。请注意，您可能需要这些：[如何让 Robot 键入 `:`？](https://stackoverflow.com/questions/5736129/how-can-i-make-robot-type-a)和[Convert String to KeyEvents](https://stackoverflow.com/questions/1248510/convert-string-to-keyevents)（还有新的和闪亮的[`KeyEvent#getExtendedKeyCodeForChar()`](http://docs.oracle.com/javase/7/docs/api/java/awt/event/KeyEvent.html#getExtendedKeyCodeForChar%28int%29)，它做类似的工作，但只能从 JDK7 获得）。

* * *

对于 Flash，我知道的唯一选择（从[这个讨论](https://groups.google.com/d/msg/webdriver/eQi8UMuyKxk/Oy1JktK6tVIJ)）是使用黑暗技术：

> 首先，修改 Flash 应用程序的源代码，使用 ActionScript 的 ExternalInterface API 公开内部方法。一旦公开，这些方法将可以被浏览器中的 JavaScript 调用。
> 
> 其次，既然 JavaScript 可以在您的 Flash 应用程序中调用内部方法，您可以使用 WebDriver 在网页中进行 JavaScript 调用，然后调用您的 Flash 应用程序。
> 
> flash-selenium 项目的文档中进一步解释了这种技术。( [http://code.google.com/p/flash-selenium/](http://code.google.com/p/flash-selenium/) )，但该技术背后的想法同样适用于 WebDriver。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2014-04-15T07:28:49.417

下面的代码对我有用：

```
public void test() {
    WebDriver driver = new FirefoxDriver();
    driver.get("http://www.freepdfconvert.com/pdf-word");
    driver.findElement(By.id("clientUpload")).click();
    driver.switchTo()
            .activeElement()
            .sendKeys(
                    "/home/likewise-open/GLOBAL/123/Documents/filename.txt");
    driver.manage().timeouts().implicitlyWait(60, TimeUnit.SECONDS);
    driver.findElement(By.id("convertButton")); 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2015-11-04T16:14:16.117

使用**C# 和 Selenium，**此代码适用于我，**注意**如果不是本地服务器，您将需要使用参数在 FindWindow 调用中为您的特定服务器换出“本地主机”，并跟踪打开的最新对话框是否有更多不仅仅是一个对话框，但这应该让你开始：

```
 using System.Threading;
    using System.Runtime.InteropServices;
    using System.Windows.Forms;
    using OpenQA.Selenium;

    [DllImport("user32.dll", SetLastError = true)]
    [return: MarshalAs(UnmanagedType.Bool)]
    private static extern bool SetForegroundWindow(IntPtr hWnd);

    [DllImport("user32.dll", EntryPoint = "FindWindow")]
    public static extern IntPtr FindWindow(string lpClassName, string lpWindowName);

    public static void UploadFile(this IWebDriver webDriver, string fileName)
    {
        webDriver.FindElement(By.Id("SWFUpload_0")).Click();
        var dialogHWnd = FindWindow(null, "Select file(s) to upload by localhost");
        var setFocus = SetForegroundWindow(dialogHWnd);
        if (setFocus)
        {
            Thread.Sleep(500);
            SendKeys.SendWait(fileName);
            SendKeys.SendWait("{ENTER}");
        }
    } 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2017-01-28T13:11:29.370

我使用 vbsscript 文件在 shell 脚本中使用了 sendkeys。下面是vbs文件中的代码，

```
Set WshShell = WScript.CreateObject("WScript.Shell")
WshShell.SendKeys "C:\Demo.txt"
WshShell.SendKeys "{ENTER}" 
```

下面是运行这个 vbs 文件的 selenium 代码行，

```
driver.findElement(By.id("uploadname1")).click();
Thread.sleep(1000);
Runtime.getRuntime().exec( "wscript C:/script.vbs" ); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2016-12-22T18:46:11.913

有一种比 Slanec 描述的更简单的方法来解决这个问题。Hes 解决方案在您使用英文键盘时有效，否则您将很难尝试“映射”特殊字符的键。

您可以使用每个键来将字符串复制到剪贴板，然后将其粘贴`robot.keyPress`。`robot.keyRelease`[`Toolkit`](https://docs.oracle.com/javase/8/docs/api/java/awt/Toolkit.html)

```
 StringSelection s = new StringSelection("Path to the file");
    Toolkit.getDefaultToolkit().getSystemClipboard().setContents(s, null);
    Robot robot = new Robot();
    robot.keyPress(java.awt.event.KeyEvent.VK_ENTER);
    robot.keyRelease(java.awt.event.KeyEvent.VK_ENTER);
    robot.keyPress(java.awt.event.KeyEvent.VK_CONTROL);
    robot.keyPress(java.awt.event.KeyEvent.VK_V);
    robot.keyRelease(java.awt.event.KeyEvent.VK_CONTROL);
    Thread.sleep(3000);
    robot.keyPress(java.awt.event.KeyEvent.VK_ENTER); 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2017-09-21T19:02:28.990

查找元素（必须是具有 type="file" 属性的输入元素）并将路径发送到文件。

```
WebElement fileInput = driver.findElement(By.id("uploadFile"));
fileInput.sendKeys("/path/to/file.jpg"); 
```

注意：如果您使用的是 RemoteWebDriver，您还必须设置文件检测器。默认是`UselessFileDetector`

```
WebElement fileInput = driver.findElement(By.id("uploadFile"));
driver.setFileDetector(new LocalFileDetector());
fileInput.sendKeys("/path/to/file.jpg"); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-08T04:24:02.133

将 System.Windows.Forms 二进制文件导入测试解决方案并在单击 UI 上的 Upload 按钮时调用以下两个 LOC。

```
 // Send the file path and enter file path and wait.
        System.Windows.Forms.SendKeys.SendWait("complete path of the file");
        System.Windows.Forms.SendKeys.SendWait("{ENTER}"); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-06-24T17:22:10.020

另一种解决方案是编写一个脚本来自动化打开文件对话框。请参阅[AutoIt](http://www.autoitscript.com/site/autoit/)。

此外，如果您无法“单击”该元素，我的解决方法通常是这样做：

```
element.SendKeys(Keys.Enter); 
```

希望这会有所帮助（即使这是一个旧帖子）

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2015-05-27T14:08:29.343

下面的代码对我有用：

```
// wait for the window to appear
WebDriverWait wait = new WebDriverWait(driver, 10);
wait.until(ExpectedConditions.alertIsPresent());

// switch to the file upload window
Alert alert = driver.switchTo().alert();

// enter the filename
alert.sendKeys(fileName);

// hit enter
Robot r = new Robot();
r.keyPress(KeyEvent.VK_ENTER);
r.keyRelease(KeyEvent.VK_ENTER);

// switch back
driver.switchTo().activeElement(); 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2015-07-08T14:11:07.033

您已将双斜杠 \\ 用于实现此示例的整个绝对路径：- D:\\images\\Lighthouse.jpg

步骤 - 使用 sendkeys 作为具有浏览选项的按钮（将打开窗口框以选择文件的按钮） - 现在单击将要上传文件的按钮

```
driver.findElement(By.xpath("//input[@id='files']")).sendKeys("D:\\images\\Lighthouse.jpg");  
Thread.sleep(5000);
driver.findElement(By.xpath("//button[@id='Upload']")).click(); 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2017-01-26T11:38:17.303

首先将文件添加到你的项目资源目录

然后

```
public YourPage uploadFileBtnSendKeys() {
    final ClassLoader classLoader = getClass().getClassLoader();
    final File file = new File(classLoader.getResource("yourFile.whatever").getPath());
    uploadFileBtn.sendKeys(file.getPath());
    return this;
} 
```

Walla，您将看到您选择的文件，并跳过了文件资源管理器窗口

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2017-07-04T13:02:51.073

在 Selenium Webdriver 中使用 AutoIt 脚本处理文件上传。对于上述情况，它工作正常。

```
Runtime.getRuntime().exec("E:\\AutoIT\\FileUpload.exe"); 
```

请使用以下链接获得进一步帮助： [http ://www.guru99.com/use-autoit-selenium.html](http://www.guru99.com/use-autoit-selenium.html)

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2017-10-23T20:53:30.873

```
 webDriver.FindElement(By.CssSelector("--cssSelector--")).Click();
        webDriver.SwitchTo().ActiveElement().SendKeys(fileName); 
```

对我来说效果很好。采用 C# .net 中 Matt 在上述答案中提供的另一种方法也可以使用类名 #32770 用于上传框。

* * *

## 回答 #14

> 赞同：-1
> 
> 时间：2016-06-23T11:27:57.733

下面的一个对我有用

```
webDriver.findElement(By.xpath("//input[@type='file' and @name='importFile']")).sendKeys("C:/path/to/file.jpg"); 
```

* * *

## 回答 #15

> 赞同：-1
> 
> 时间：2017-02-01T06:06:25.480

将路径中的反斜杠加倍，如下所示：

```
driver.findElement(browsebutton).sendKeys("C:\\Users\\Desktop\\Training\\Training.jpg"); 
```

# c# - 柜台 - ; 帮我理解

> ID：11256733
> 
> 赞同：0
> 
> 时间：2012-06-29T05:55:57.980
> 
> 标签：c#, windows-phone-7, counter

应用，有一个TextBlock和两个Button，点击按钮显示文本TextBlock（逐行读取Q.txt的文本，上百行）：

```
public class QWork
{
   public static int counter = 0;

   public static string GetQ()
    {
        var qFile = new List<string>();

        string pathFile = "Q.txt";
        Uri uri = new Uri(pathFile, UriKind.Relative);
        StreamResourceInfo sri = Application.GetResourceStream(uri);
        using (StreamReader sr = new StreamReader(sri.Stream))
        {
            string line = "";
            while (line != null)
            {
                line = sr.ReadLine();
                if (line != null)
                    qFile.Add(line);  // Add to list
            }
            return qFile[counter];
        }
    }
} 
```

按钮事件处理程序：

```
 private void RightButton_Click(object sender, RoutedEventArgs e)//Next text
    {
        qTextBlock.Text = QWork.GetQ();
        QWork.counter++;
    }

    private void LeftButton_Click(object sender, RoutedEventArgs e)//Previous text
    {
        qTextBlock.Text = QWork.GetQ();
        QWork.counter --;
    } 
```

问题：当我单击 LeftButton 时，第一个仍然显示以下行，但仅在上一个之后。请告诉我，我该如何解决它。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:50:48.823

也许这可以帮助你

```
int counter = 0;
List<string> qs = null;

private void LoadQs()
{
    qs = new List<string>();
    qs.Add("aaa");
    qs.Add("bbb");
    qs.Add("ccc");
}

private string GetQ(bool increase)
{
    if (increase)
        counter++;
    else
        counter--;

    if (counter >= qs.Count)
        counter = 0;
    else if (counter <= 0)
        counter = qs.Count;

    string q = qs[counter];

    return q;
} 
```

# html - 上下边界相交的像素

> ID：11256735
> 
> 赞同：0
> 
> 时间：2012-06-29T05:56:07.693
> 
> 标签：html, css, border

我有一个 div，左右两边都有一个像素纯白色边框，顶部有两个像素纯黑色边框。在这些边界相交的角落，像素显示为白色。有没有可能让它变黑？

这是如何运作的？

html:

```
 <div id="bodyholder"> 
  <div id="leftholder">
  Welcome to the website.... <br>
  <br style="line-height:10px">
  <img src="images/1_p1.jpg" align="left" style="margin-right:19px" alt="" border="0">
  <br>Lorem ipsum dolor sit amet, consectetur adipisicing elit sed do eiusmod tempor.               <br>
  <br style="line-height:40px">
  Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque           laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi           architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia.                             
  </div>
 <div id="middleholder">
 <img src="images/p1.png" alt="Statistics"/>
 <img src="images/p2.png" alt="Schoolwork"/>
 <img src="images/p3.png" alt="In the News"/>
 </div>
  <div id="rightholder">
  Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque      laudantium, totam rem aperiam, eaque ipsa quae.<br>
  <br style="line-height:10px">
  <img src="images/1_p1.jpg" align="left" style="margin-right:19px" alt="" border="0">
  <br>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque.<br>
  <br style="line-height:40px">
  Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil      molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur? quis      nostrum exercitationem ullam vel eum iure reprehenderi.                            
  </div>
     <div id="footer">
        <div id="footerinner">                                             
     <div class="vlinks">vel eum iure reprehenderi</div>
        </div>
     </div>

  </div> 
  </div> 

  </body>
  </html> 
```

和CSS：

```
body {
padding:0;
margin:0;
background-image: url(images/background.gif);
background-repeat: repeat;
background-position: center top;
font-size:12px;
font-family:Verdana;
color:#FFFFFF;
line-height:14px;
vertical-align:top;

 }
 #top{
 width: 766px;  

 }

 #fullholder{
margin: 0 auto;
width:766px;
height:100%;
border-width: 1px;
border-style: solid;
border-color: #fff;
background-color: #000;

 }
 #nav{
background-color: #000;
height:84px;
 }

 ul#list-nav {
list-style:none;
padding:0;
width:764px;
height: 84px;
margin-left: 2px;
margin-top: 0px;
 }

 ul#list-nav li {
display:inline;

 }

 ul#list-nav li a {
text-decoration:none;
font-weight:bold;
font:24px "Times New Roman", Times, serif;
line-height:78px;
text-align:center
list-style-type:none;
padding-top:2px;
padding-bottom:2px;
width:125px;
background:#b99757;
color:#FFFFFF;
float:left;
text-align:center;
border:1px solid #fff;
 }

ul#list-nav li a:hover {
background:#a2abb2;
color:#000
}

#list-nav #menu_active a{
 background:#a2abb2;
 color:#000;
 }

 #bodyholder{
border-left-width: 1px;
border-left-style: solid;
border-left-color: #fff;
border-right-width: 1px;
border-right-style: solid;
border-right-color: #fff;
border-top-width: 2px;
border-top-style: solid;
border-top-color: #000;
margin-left:2px;
width:760px;
height:470px;
background-image: url(images/1_bg.gif);
background-repeat: repeat-x;
 }

 #leftholder{
float: left;
margin-top: 5px;
margin-left: 5px;
border:10px solid #A2ABB2;
padding:10px 20px;
background:#000000;
width:215px;
height:354px;
border-radius:25px;
-moz-border-radius:25px;    
font-family: "Times New Roman", Times, serif;
font-size: 14px;
color: #FFF;
display:block;
 }

 #middleholder
 {
float: left;
margin-top: 5px;
margin-left: 8px;   
width:191px;
height:354px;   
display:block;
 }

 #rightholder{
float: left;
margin-top: 5px;
margin-left: 1px;
border:10px solid #A2ABB2;
padding:10px 20px;
background:#000000;
width:215px;
height:354px;
border-radius:25px;
-moz-border-radius:25px;    
font-family: "Times New Roman", Times, serif;
font-size: 14px;
color: #FFF;
display:block;
 }

 #rightholdertwo{
float: left;
margin-top: 5px;
margin-left: 1px;
border:10px solid #A2ABB2;
padding:10px 20px;
background:#000000;
width:215px;
height:354px;
border-radius:25px;
-moz-border-radius:25px;    
font-family: "Times New Roman", Times, serif;
font-size: 14px;
color: #FFF;
display:block;
 }
 #leftholdertwo{
float: left;
margin-top: 5px;
margin-left: 5px;
border:10px solid #A2ABB2;
padding:10px 20px;
background:#000000;
width:215px;
height:354px;
border-radius:25px;
-moz-border-radius:25px;    
font-family: "Times New Roman", Times, serif;
font-size: 14px;
color: #FFF;
display:block;
 }

 #footer{
width: 760px;
background-color:#000000;
height: 55px;
font-family:Tahoma;
font-size:14px;

 } 
 #footerinner{
-moz-border-radius: 15px;
border-radius: 15px;
width: 734px;
height: 28px;
font-family:Tahoma;
font-size:14px;
background-color: #A2ABB2;
margin: 0 auto;
padding-left: 15px;
padding-top:11px;
color: #000;
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:27:01.703

嘿，现在你可以使用`after`属性

像这样

**HTML**

```
<div class="parent">hello</div> 
```

**CSS**

```
body{
background:green;
}
.parent{
background:red;
    border-left:1px solid #fff;
    border-right:1px solid #fff;
    border-top:2px solid #000;
    width:200px;
    height:200px;
    margin:50px auto;
    position:relative;

}
.parent:after{
content:'';
  position:absolute;
  left:-2px;
  right:-2px;
  top:-2px;
  background:#000;
  height:2px;
} 
```

**现场演示** [http://tinkerbin.com/UoyGDDqS](http://tinkerbin.com/UoyGDDqS)

# wpf - 在WPF中选择列表中的项目时如何显示焦点矩形

> ID：11256737
> 
> 赞同：0
> 
> 时间：2012-06-29T05:56:17.337
> 
> 标签：wpf, xaml, user-controls, styles

我想在项目被选中时显示它的焦点矩形。

因为 IsFocusedProperty 是只读的，所以我不能用 XAML 来做。

如何显示焦点矩形...

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T22:04:19.910

焦点矩形是键盘焦点的一部分，当用户使用键盘将焦点设置到输入元素时显示。我测试了手动设置键盘焦点（使用 Keyboard.Focus()），但它似乎不起作用。

所以我建议创建一个自定义样式，在选择 ListBoxItem 时模拟焦点矩形。我想出了下面似乎可行的风格。它与焦点矩形的虚线数组匹配，因此在显示真正的焦点矩形时它看起来并不奇怪。

```
<ControlTemplate TargetType="{x:Type ListBoxItem}">
  <Grid>
    <Border Background="{TemplateBinding Background}">
      <ContentPresenter Margin="{TemplateBinding Padding}"/>
    </Border>
  </Grid>
  <ControlTemplate.Triggers>
    <Trigger Property="IsSelected" Value="True">
      <Setter Property="Background" Value="Green"/>
      <Setter Property="Foreground" Value="White"/>
    </Trigger>
  </ControlTemplate.Triggers>
</ControlTemplate> 
```

这也使您可以更好地控制 ListBoxItem 的总体显示方式。您也可以轻松地将其调整为其他列表类型（ListViewItem 等）

# python - 根据用户 ID 创建永久唯一链接

> ID：11256738
> 
> 赞同：0
> 
> 时间：2012-06-29T05:56:23.483
> 
> 标签：python, google-app-engine, jinja2, user-profile, webapp2

> **可能重复：**
> [为每个用户 python 创建唯一的个人资料页面](https://stackoverflow.com/questions/11250728/create-unique-profile-page-for-each-user-python)

我正在将 google appengine 与 python 和 jinja2 一起使用，并尝试为我的应用程序中的每个用户提供一个指向其个人资料页面的唯一 URL，任何人都可以在不登录的情况下访问该 URL。到目前为止，这是我的代码：

```
class ProfilePage(webapp2.RequestHandler):
  def get(self, profile_id):
    user = User.get_by_id(profile_id)
    #profile_id = some unique field
    if user:
       #Get all posts for that user and render....
       theid = user.theid
       personalposts = db.GqlQuery("select * from Post where theid =:1 order by created desc limit 30", theid)
    else:
        personalposts = None
    global visits
    logout = users.create_logout_url(self.request.uri)
    currentuser = users.get_current_user()
    self.render('profile.html', user = currentuser, visits = visits, logout=logout, personalposts=personalposts)

app = webapp2.WSGIApplication([('/', MainPage),
                               ('/profile/([0-9]+)', ProfilePage),]) 
```

当我尝试测试它时，它只会给我一个 404 错误。我想如果代码是正确的，我可能使用了错误的测试 URL。例如，如果这是他们的 OpenID ID：我如何测试它我尝试输入www.url.com/profile/ [https://www.google.com/accounts/o8/id?id=AItOawlILoSKGNwU5RuTiRtXug1l8raLE45g-56](https://www.google.com/accounts/o8/id?id=AItOawlILoSKGNwU5RuTiRtXug1l8raLE45g-56) id="this part" 是我放的，所以我会有：

```
url = www.url.com/profile/AItOawlILoSKGNwU5RuTiRtXug1l8raLE45g-56 
```

这就是我尝试过的，但效果并不好。在此先感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T07:28:32.907

试试这个正则表达式：

```
r'^/profile/\w*?-(\d+)$' 
```

虽然我也必须告诉你，这是一个非常糟糕的主意！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T07:14:19.347

您正在使用的网址（www.url.com/profile/AItOawlILoSKGNwU5RuTiRtXug1l8raLE45g-56 ）网址的最后一部分是实体的完整密钥，而在代码中您使用实体 ID 加载它（使用**get_by_id** () ）。

# objective-c - 在新应用版本中更新了核心数据数据库

> ID：11256739
> 
> 赞同：2
> 
> 时间：2012-06-29T05:56:27.760
> 
> 标签：objective-c, core-data

我在 XCode 中有一个使用 sqlite/coredata 数据库的应用程序，并且已经提交到应用商店。

现在我已经更改了数据库，因此我的托管对象现在已更改，我想提交我的应用程序的更新后的新版本。我也希望已经下载过之前版本app的人不会丢失旧数据库中的任何数据。如何实现？任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-29T06:42:09.653

该[文档](http://developer.apple.com/library/mac/#documentation/cocoa/conceptual/CoreDataVersioning/Articles/Introduction.html)是有关该主题的官方词汇。

虽然，一个简单的演练会是这样的：

添加新模型版本：

![在此处输入图像描述](../Images/31c6114d96295e3cb48c56046f0873a4.png)

根据您的喜好修改新模型版本，然后确保在根文件的检查器中将其设置为当前模型。

![在此处输入图像描述](../Images/835ae30b23f9d7524940ac558a111851.png)

制作一个映射模型，使其知道如何将数据迁移到新模型：

![在此处输入图像描述](../Images/84b191253159228039dd44dfbef33510.png)

选择相应的模型（源/目标）并根据您的喜好编辑生成的映射模型（如果您的更改并不复杂，通常它根本不需要更改）。

这是一个简化/精简的演练，但它是一个开始。阅读它！

# django - django 翻译的 url 和接受语言头

> ID：11256741
> 
> 赞同：2
> 
> 时间：2012-06-29T05:56:37.170
> 
> 标签：django, localization, translation

我已经为某些语言设置了翻译的网址。django 的默认语言已设置为 en-US。

如果您请求使用 nl-NL 作为 Accept-Language 标头的页面 /registration/，我会收到 404。我没想到会出现这种行为。相反，我希望我会被重定向到 /registratie/ ，这是与我的 Accept-Language 标头相对应的翻译后的 url。当然 /registratie/ 带有 nl-Nl Accept-Language 标头，可以正常工作并给我预期的 200。

我猜这和它一样正常吗？

用户是否有可能从某个网站获得链接并且该链接是为英语构建的，但是有问题的用户具有不同的受支持语言设置 Accept-Language 标头？在这种情况下，他会看到一个 404。如果支持，他应该看到英语（默认）内容，或者重定向到他的语言的正确 url。

如果用户的语言设置不受支持，还会发生什么？在我的情况下会使用 django 默认值`LANGUAGE_CODE`吗？

有没有办法解决这个问题或以不同的更好的方式处理它？

来自我的 urls.py 文件的摘录，显示了我如何设置翻译后的 url：

```
url(_(r'^step1/$'), AccountTypeSelectionView.as_view(), name="registration_step1"), 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T17:37:32.847

我在做一个疯狂的假设，即 _ 是 ugettext_lazy。

> 如果用户的语言设置不受支持，还会发生什么？在我的情况下会使用 django 默认 LANGUAGE_CODE 吗？

是的，如果未设置特定值，则 ugettext 将使用默认值。您可以在 django.utils.translation.trans_real 的 do_translate 中看到这种行为。

ugettext_lazy 发生的情况是，在查找 URL 之前，将其翻译为用户的语言，然后根据所有这些检查 URL 的一部分。（Django 使用每个线程的语言设置，该设置已更改以反映用户的选择。）

> 用户是否有可能从某个网站获得链接并且该链接是为英语构建的，但是有问题的用户具有不同的受支持语言设置 Accept-Language 标头？在这种情况下，他会看到一个 404。如果支持，他应该看到英语（默认）内容，或者重定向到他的语言的正确 url。

嗯，是的，我认为这应该是一个受支持的功能，但快速查看源代码后发现 URL 解析必须稍作更改以适应这一点。

您可以做的是使用自定义 404 页面（如在自定义错误视图下简要提到的）[：](https://docs.djangoproject.com/en/dev/topics/http/views/)

在你的 urls.py 中：

```
handler404 = 'mysite.views.i18n_retry' 
```

并且在一个视图中

```
from django.utils.translation import override
from django.core.urlresolvers import resolve
def i18n_retry(request):
    for language in settings.LANGUAGES:
        with override(language, deactivate=True):
           try:
              result = resolve(request.path)
              #here you will know what language the url is in
              #if it is a supported format
              #and can do something smart about it
           except Http404:
              #Http404 is thrown whenever resolving fails
              pass
     #here you should probably return a real 404 
```

我使用了 Django 1.4 中的覆盖上下文管理器。但是如果没有，还有更长的方法可以做到这一点。

# jsf-2 - 在 Tomcat 6 中使用 JPA2：@PersitenceContext 不起作用，EntityManager 为空

> ID：11256746
> 
> 赞同：7
> 
> 时间：2012-06-29T05:56:57.433
> 
> 标签：jsf-2, jpa-2.0

我将 JSF2 与纯 JPA2 一起使用。但问题在于 entityManager，

```
@PersistenceContext
private EntityManager entityManager; 
```

这里 entityManager 没有被注入并且始终为空。有人可以帮我看看我的代码有什么问题吗？

这是我的配置。

用户.java

```
 @Entity
    @Table(name="USER")
    public class User {

        private int id;
        private String name;
        private String surname;

        @Id
        @SequenceGenerator(name="user_id_seq_gen", sequenceName="USER_ID_GEN_SEQ", allocationSize=1)
        @GeneratedValue(strategy=GenerationType.SEQUENCE, generator="user_id_seq_gen")
        @Column(name="ID", unique = true, nullable = false)
        public int getId() {
            return id;
        }

        public void setId(int id) {
            this.id = id;
        }

        @Column(name="NAME", unique = true, nullable = false)
        public String getName() {
            return name;
        }

        public void setName(String name) {
            this.name = name;
        }

        @Column(name="SURNAME", unique = true, nullable = false)
        public String getSurname() {
            return surname;
        }

        public void setSurname(String surname) {
            this.surname = surname;
        }   

    } 
```

持久性.xml

```
 <?xml version="1.0" encoding="UTF-8"?>
        <persistence xmlns="http://java.sun.com/xml/ns/persistence"
                     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                     xsi:schemaLocation="http://java.sun.com/xml/ns/persistence 
                     http://java.sun.com  /xml/ns/persistence/persistence_2_0.xsd" version="2.0">
           <persistence-unit name="testUnit" transaction-type="RESOURCE_LOCAL">
              <provider>org.hibernate.ejb.HibernatePersistence</provider>
              <non-jta-data-source>java:/comp/env/testDS</non-jta-data-source>
              <class>com.user.external.test.User</class>
              <exclude-unlisted-classes>false</exclude-unlisted-classes>
              <properties>
                 <property name="hibernate.dialect" value="org.hibernate.dialect.Oracle10gDialect"/>
                 <property name="hibernate.max_fetch_depth" value="6"/>
                 <property name="hibernate.show_sql" value="false"/>
                 <property name="hibernate.format_sql" value="true"/>
              </properties>
           </persistence-unit>
        </persistence> 
```

Tomcat 服务器.xml

```
 <Context docBase="usertools" path="/usertools" reloadable="true">
        <ResourceLink name="testDS" 
                  global="testDS"  
                  type="javax.sql.DataSource"/>
    </Context> 
```

TestBean.java

```
 @ManagedBean(name="testBean")
    @ViewScoped
    public class TestBean implements Serializable{

        @ManagedProperty("#{testService}")
        private ITestService testService;

        public void saveData(User user){
            testService.saveUser(user);
        }

        public void setTestService(ITestService testService){
            this.testService = testService;
        }

        public ITestService getTestService(){
            return testService;
        }
    } 
```

TestServiceImpl.java

```
 @ManagedBean(name="testService")
    @ApplicationScoped
    public class TestServiceImpl implements ITestService {

        @ManagedProperty(value="#{testDAO}")
        private ITestDAO testDAO;

        public void saveUser(User user){
            testDAO.saveUser(user);
        }

        public void setTestDAO(ITestDAO testDAO){
            this.testDAO = testDAO;
        }

        public ITestDAO getTestDAO(){
            return testDAO;
        }

    } 
```

TestDao.java

```
 @ManagedBean(name = "testDAO")
    @ApplicationScoped
    public class TestDAO implements ITestDAO {

        @PersistenceContext
        private EntityManager entityManager; // is null

        public void saveUser(User user){
            entityManager.persist(user); // Getting Null Pointer Here....
        }   

        public void setEntityManager(EntityManager entityManager) {
            this.entityManager = entityManager;
        }

        public EntityManager getEntityManager() {
            return entityManager;
        }

    } 
```

我尝试过使用 @PersistenceContext 名称和 unitName 属性。但它仍然无法正常工作。还尝试使用 web.xml 中的资源配置

```
 <persistence-context-ref>
            <persistence-context-ref-name>testUnit</persistence-context-ref-name>
            <persistence-unit-name>testUnit</persistence-unit-name>
        </persistence-context-ref>

        <resource-ref>
            <description>DB Connection</description>
            <res-ref-name>testUnit</res-ref-name>
            <res-type>javax.sql.DataSource</res-type>
            <res-auth>Container</res-auth>
        </resource-ref> 
```

仍然没有运气。有人可以帮帮我吗。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-29T12:34:56.073

Tomcat 不是 Java EE 容器，因此存在与容器管理工厂和依赖注入相关的限制。其中，您需要**手动**创建`EntityManagerFactory`和`EntityManager`.

Hibernate 文档对此并不清楚，所以这里是 Eclipselink 之一：[Tomcat/JPA 教程](http://wiki.eclipse.org/EclipseLink/Examples/JPA/Tomcat_Web_Tutorial)。检查“对 JPA 的限制”部分，这同样适用于 Hibernate。

### 也可以看看：

*   [获取 EntityManagerFactory 的最佳实践](https://stackoverflow.com/questions/7862700/best-practice-to-get-entitymanagerfactory)

# mysql - mysql - 包含来自组合表的数据的表

> ID：11256749
> 
> 赞同：1
> 
> 时间：2012-06-29T05:57:15.000
> 
> 标签：mysql

我知道我可以将表与 sql 查询结合起来，但这不是我想要的。

想象一下有 10 个表，所有表都是相同的，但由于某些原因，我不想将这些数据混合在 1 个表中。尽管！另一方面，要创建某些搜索结果，我希望能够执行单个 sql 查询：（select * from combined_table where name='whatever'）

我从所有这 10 个表中即时获取数据......

可能，是/否？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:00:26.867

您几乎肯定希望将这些数据放入一个表中。

假设您有十种不同类型的数据。添加一个名为的列`type`（您应该选择一个更好的名称）并允许它具有从 1 到 10 的值。现在您的查询将无需更改即可工作。

如果您愿意，您仍然可以单独获取数据：

```
SELECT * from yourtable
WHERE name = 'whatever'
AND `type` = 3 
```

我能想到不这样做的唯一原因是，如果您有不同的用户具有不同的权限，并且您想使用表来控制哪些用户可以查看哪些数据。

* * *

如果尽管有这些好处，您仍然不想将数据放在一个表中，您可以使用`UNION ALL`.

```
CREATE VIEW yourview AS
SELECT col1, col2, ..., coln FROM table1
UNION ALL
SELECT col1, col2, ..., coln FROM table2
UNION ALL
SELECT col1, col2, ..., coln FROM table3
UNION ALL
etc... 
```

# windows - 捕获桌面应用程序发送和接收的 Web 数据

> ID：11256750
> 
> 赞同：0
> 
> 时间：2012-06-29T05:57:26.370
> 
> 标签：windows

我有一个 MP3 标记应用程序，可以自动从某个未知来源获取歌词。我如何确定它正在发送什么样的请求，以及发送到哪个来源？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:19:56.227

找个嗅探器。例如，[Wireshark 。](http://www.wireshark.org/)将向您显示所有从您的计算机出来并返回的网络通信，应该很容易找出其余的。

# php - 如果帖子处于草稿状态，则重定向

> ID：11256751
> 
> 赞同：0
> 
> 时间：2012-06-29T05:57:28.443
> 
> 标签：php, wordpress, redirect

我有两种自定义帖子类型，称为“项目”和“项目获胜”。如果用户转到处于草稿状态的单个“项目”，我希望他们被重定向到相应的“项目获胜”帖子。

每个帖子都将在两种帖子类型中复制，因此如果有一个具有以下 URL 的“项目”：
mydomain.com/?project=test-project/ ，那么将是一个带有 URL 的“项目赢得”： mydomain.com/?project-won=test-project/。

我可以在“single-project.php”模板页面的顶部放一些东西吗，例如

```
<?php if($post->post_status  == "draft"){ 
    //add the redirect here 
```

我不知道最好的方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T13:17:07.153

```
First of all define global variable $post.
than check the if loop.

global $post;
if( $post->post_status == 'draft' ) {
/* Your Redirect code Here */
}

Try this code may your problem be solved by defining global variable $post. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-08T13:22:33.317

```
 global $post;
    if( $post->post_status == 'draft' && is_singular('project') ) {
    wp_redirect( <the_url>, 301 ); 
    } 
```

您需要替换为代码以查找自定义帖子类型的分类。你可以从中得到一些[帮助](https://stackoverflow.com/questions/22564382/how-to-get-the-taxonomy-values-of-a-custom-post-type)

希望这可以帮助。

# google-tv - 如何在 GTV 上的 google play 的“电视精选”部分列出

> ID：11256754
> 
> 赞同：0
> 
> 时间：2012-06-29T05:57:35.870
> 
> 标签：google-tv

我已经为 google tv 构建了一个应用程序，并将其发布到 google play 商店。我希望它会列在“电视特色”部分，因为它是为谷歌电视定制的，但似乎并非如此。

如果我按名称搜索我的应用程序，那么它会列在结果中，但我怎样才能让它显示在“电视精选”部分？

任何帮助，将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T18:10:08.083

首先，这不是一个技术应用程序开发相关的问题，所以不应该在这里问。

特色应用是员工精选。[但是，如果您希望我们审核您的应用，请加入我们，参加来自Google TV 开发者页面](https://plus.google.com/u/0/112249225796277470583/)的环聊直播，并告诉我们更多关于您的应用的信息。我们偶尔会在环聊直播中进行应用评论。

# jar - 尝试打开 jar 文件时出现 ZipException

> ID：11256760
> 
> 赞同：0
> 
> 时间：2012-06-29T05:58:15.110
> 
> 标签：jar

![在此处输入图像描述](../Images/d10811d07efcdf04a88316bc861e905b.png)

我有一个 jar 文件。我想查看该 jar 文件的内容，但是当我尝试解压缩该文件时，出现类似**java.util.ZipException: error opening zip file**的错误。
我在命令提示符中使用了命令***jar tvf jar_file_name * 。**
我认为该文件受密码保护或其他。有什么方法可以打开该文件，以便我可以看到内容。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:01:49.637

听起来文件刚刚*损坏*- 例如，您可能已经通过 FTP 以文本模式而不是二进制模式获取它，或者如果您以编程方式下载它，您的下载代码中可能存在错误。

作为一个快速测试，尝试将其重命名为 zip 文件并使用 WinZip 或任何您喜欢的 zip 文件客户端打开它。这将确认它是否真的破产了。

我不相信有任何受密码保护的 jar 文件之类的东西。

# git - git push 后使用 post-receive 挂钩后的目录权限

> ID：11256761
> 
> 赞同：1
> 
> 时间：2012-06-29T05:58:22.843
> 
> 标签：git, apache, permissions, git-post-receive

我意识到有很多关于此的帖子，但我怀疑部分问题是我可能没有正确运行 apache。

在查看之前，`core.filemode`我是否首先需要使用相同的用户/组获取本地和服务器文件/目录？

例如，我读过一些关于以用户身份运行 apache 的内容——这是一种更好的设置方式吗？

# javascript - jQuery 手机。离线应用的标记和代码结构

> ID：11256763
> 
> 赞同：0
> 
> 时间：2012-06-29T05:58:26.010
> 
> 标签：javascript, jquery-mobile, cordova

我正在使用 phonegap + jqm 构建离线应用程序。所有应用程序页面都在单独的文件中。我的页面文件结构示例。

```
<div data-role="page" id="page2">
   <script type="text/javascript">
       ... Necessary javascript to create page content ...
   </script>

   <div data-role="header"><h3>Header</h3></div>
   <div data-role="content">Content</div>
   <div data-role="footer"><h3>Footer</h3></div>
</div> 
```

用页面标记内联编写js代码是一种好方法吗？对我来说，它既清晰又方便。我看到并且可以为当前页面编写所有必要的代码。我不想在一个文件中编写所有负责创建页面内容的代码，而不是包含在标题中。那么，可以吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T16:38:10.467

从功能上讲，无论您的 JavaScript 是内联在页面上还是链接到它，最终结果都是相同的，因此，如果您只想将所有 JavaScript 内联，则可以。

也就是说，将代码与标记分开通常是一个好主意，这样做有助于使事情更有条理，并使代码重用变得更容易。例如，在您的情况下，您可以为每个页面拥有一个特定于页面的 JavaScript 文件，以及一些 JavaScript 文件，每个文件都包含可能适用于多个页面的代码，您现在可以通过链接在任何一个页面中轻松重用给它。

就分离 JavaScript 的好处而言，您的应用程序处于离线状态并不会产生任何影响。

> 我不想在一个文件中编写所有负责创建页面内容的代码，而不是包含在标题中。

两件事，首先没有理由将所有代码保存在一个文件中，尽可能多地使用（在常规网页中，您可能希望在发布之前将它们组合，但由于这是一个离线 phonegap 应用程序，我不认为它第二，将 JavaScript 文件放在页面底部通常[被认为是一种很好的做法，这样它就不会阻止页面的其余部分加载。](http://developer.yahoo.com/performance/rules.html#js_bottom)

# jsf - jsf中asp更新面板的替代品？

> ID：11256764
> 
> 赞同：0
> 
> 时间：2012-06-29T05:58:26.963
> 
> 标签：jsf

我基本上是一个 .net 开发人员并且对 jsf 非常陌生，所以这可能是一个非常基本的问题，它的答案可能非常明显，对此感到抱歉。

我开发了一个 jsf 应用程序。我有一个包含个人数据的表单和一个用于其他功能的链接按钮。当个人数据被填充并显示在 jsf 上时，我单击那个链接按钮，它调用了一些 bean 功能。但我之前的“个人数据”数据丢失了。或者我可以说我的 jsf 页面的回发数据丢失/重置。

编辑：这是我的jsf和bean

```
<f:view> 
<h:form> 
<h:inputText value="#{myBean.name}"/>
<h:commandButton action="#{myBean.getInfo}/>
<h:outputText value="#{myBean.fullName}"/> 
<h:outputText value="#{myBean.contactNo}"/> 
<h:commandLink action="#{myBean.changeContactNo"}/> 
</h:form> 
</f:view> 
```

和我的豆：

```
 public class myBean
    {
        private String name;
        private String fullName;
        private String contactNo;

        public myBean()
        {
        }

        public String getInfo()
        {
            String endName = getname();
            fullName = "Prof"+ endName;
            contactNo = "12345";
        }

        public String changeContactNo()
        {
            contactNo = "999999";
        }
    } 
```

现在，当我单击命令按钮时，它会设置全名和联系电话。
但是当我点击链接按钮时，它应该只更改联系人号码。但是 outputText 的“fullName”值丢失了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T06:29:42.313

您可能需要查找当前您可能正在使用**请求范围的****Bean 范围**的 Bean 范围尝试切换到**视图范围**或**会话范围**

 ********编辑：**并且您应该在带有getter和setter的支持bean中具有与html表单元素相关的相应数据字段。******

# c# - 如何像这样重定向

> ID：11256768
> 
> 赞同：0
> 
> 时间：2012-06-29T05:58:52.377
> 
> 标签：c#, sharepoint

我的页面中有一个链接会将我重定向到“/Templates/NewsListItem.aspx?id=44318”，其中 44318 是我创建的页面的页面名称。现在我已将页面目录更改为“News/ Pages”。所以现在我想要“News/Pages/44318.aspx”，即如何将 .aspx 扩展名添加到页面，以便它重定向到适当的页面。

在此之前，我曾尝试使用映射处理程序 FASTCGI 方法，但没有奏效。所以请在这种情况下提供帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T11:57:05.540

如果我明白你真正想要什么，试试这个：

在您的方法 Page_Load 中来自 NewsListItem.aspx.cs

```
String fileAspx = Request.QueryString["id"];
if (!String.IsNullOrEmpty(fileAspx))
{
 Response.Redirect("~/New/Pages/" + fileAspx + ".aspx");
} 
```

# visual-studio-2010 - 如何使用 VS2010 中的已部署包在 IIS6 中创建新站点？

> ID：11256769
> 
> 赞同：0
> 
> 时间：2012-06-29T05:58:55.810
> 
> 标签：visual-studio-2010, deployment, iis-6, windows-server-2003, webdeploy

我是这方面的新手，我刚刚使用 Visual Studio 2010 创建了一个 ASP.NET Web 应用程序，我将包含所有文件的文件夹放在 Windows Server 2003 IIS6 上，我添加了一个新站点，并提供了所有正确的权限和网站工作，好的，现在我需要做同样的事情，但我的项目正在编译；在 Visual Studio 上，我转到 Project -> Build Deployment Package...这些文件是在 Package 文件夹中创建的：

**1\. PackageTemp(文件夹)
2\. myProject.SourceManifest.xml
3\. myProject.deploy-readme.txt
4\. myProject.deploy.cmd
5\. myProject.SetParameters.xml 6\. myProject.zip**

我该怎么办？当我在 Java 上寻找一个已编译的项目（我经常用它来编程）时，我习惯于从我的项目中看到一个 jar 文件，但是我在编译项目时迷失了 Visual Studio 和 ASP.NET，你能帮我吗出去？

我正在阅读有关使用 Web Deploy 的内容，但任何方向都将受到高度赞赏，在此先感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T17:21:12.427

你有几个选择：

1.  使用 IIS 管理器在 IIS 中安装包。带有详细说明的示例在这里： [http ://sedodream.com/2011/11/08/UsingAWebDeployPackageToDeployToIISOnTheDevBoxAndToAThirdPartyHost.aspx](http://sedodream.com/2011/11/08/UsingAWebDeployPackageToDeployToIISOnTheDevBoxAndToAThirdPartyHost.aspx)

2.  使用命令行安装包，并使用 deploy.cmd 文件，该文件旨在使使用 Web Deploy 命令相对容易。此处的说明：http: [//msdn.microsoft.com/en-us/library/ff356104](http://msdn.microsoft.com/en-us/library/ff356104)

3.  使用命令行和原始 Web 部署命令安装包。设置复杂，我没有很好的链接。

如果您还没有考虑过一键发布，那么您也应该考虑一下。该包是在幕后创建的，Visual Studio 会在线完成所有部署工作。对于 VS 2010，请参阅此页面：http: [//msdn.microsoft.com/en-us/library/dd465337](http://msdn.microsoft.com/en-us/library/dd465337)

该过程在 VS 2012 中得到了很大改进，现在可以使用 RC 版本（并且可以在 VS 2010 中安装 VS 2012 RC 部署功能）。请参阅[http://msdn.microsoft.com/en-us/library/dd465337(v=vs.110](http://msdn.microsoft.com/en-us/library/dd465337(v=vs.110) )

# javascript - javascript问题 - 火狐

> ID：11256770
> 
> 赞同：1
> 
> 时间：2012-06-29T05:59:01.830
> 
> 标签：javascript, html, dom

大家好 为什么这段 javascript 代码在 firefox 上不起作用

```
var nfiles = 1;
function Expand(){
nfiles++
var adh = '<input type="file" name="File '+nfiles+'">';
files.insertAdjacentHTML('BeforeEnd',adh);
return false;
}; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:07:05.267

我不知道这个函数是从哪里来的，所以我不能说什么：

```
files.insertAdjacentHTML('BeforeEnd',adh); 
```

这是编写以下行的另一种方法；我感觉很清楚，但我必须承认这是个人品味：

```
var adh = "<input type=\"file\" name=\"File " + nfiles + "\">"; 
```

并放一个; 在以下行之后：

```
nfiles++ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-29T06:10:36.247

看起来你的变量后面没有分号。

下面显示的是适用于包括 Firefox 在内的所有浏览器的工作`Expand function`。

参考：[**jsFiddle**](http://jsfiddle.net/nCve8/)。

```
function Expand() {
    nfiles++;
    var files = document.getElementById('test');
    var adh = '<input type="file" name="File ' + nfiles + '">';
    files.insertAdjacentHTML('afterend', adh);
    return false;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T06:12:08.810

可能是 BeforeEnd 应该是这样的

```
beforeend 
```

请参阅此处 [insertAdjacentHTML](https://developer.mozilla.org/en/DOM/element.insertAdjacentHTML)

# jquery - 理解 jQuery 中的 DOM 层次结构

> ID：11256773
> 
> 赞同：4
> 
> 时间：2012-06-29T05:59:19.800
> 
> 标签：jquery, dom

我经常遇到奇怪的事情，我不理解 jQuery 和 DOM ID 和选择器。通常我只是在他们周围工作，但我*真的*想一劳永逸地解决这个问题。考虑以下标记：

```
<div id="accordionWrapper"><p><a class="expandall" href="#">Test</a></p></div> 
```

我有一个 jQuery 点击功能`<a>`：

```
//works fine
jQuery('a.expandall').click(function() {...whatever...}); 
```

但以下没有：

```
//fails
jQuery('#accordionWrapper p a.expandall').click(function() {...whatever...}); 
```

...我不明白。这是我对 CSS 或 jQuery 或...的不理解吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-29T06:05:56.720

其实，你的理解并没有错。这是一个 JsBin（JsFiddle 似乎已关闭），它显示了您的确切标记和您的确切 jQuery 代码，所有这些都可以正常工作。

[http://jsbin.com/inuqez/4/edit](http://jsbin.com/inuqez/4/edit)

因此，如果您在使用第二个 jQuery 选择器时遇到问题，那肯定是其他问题。如果您向我们提供更多详细信息，我们可能会提供帮助。否则，只需仔细查看您的代码并确保没有任何明显的错误，例如具有相同 ID 的多个元素（如 @Frederic 所述）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T06:25:46.750

第一种方式：

```
jQuery('a.expandall').click(function() {...whatever...}); 
```

*...定义对 DOM 中任何位置*存在的具有“expandall”类的任何锚元素的单击。

第二种方式：

```
jQuery('#accordionWrapper p a.expandall').click(function() {...whatever...}); 
```

...为任何具有类“expandall”的锚元素定义单击，该锚元素是段落元素的后代，该元素是具有 的元素的后代`id="accordionWrapper"`。请注意，“#accordionWrapper”的元素类型并不重要，因为您没有指定它。

我说具有该 id 的“元素”而不是具有该 id 的“元素”，因为如果您的 html 有效，则*只有一个*具有任何给定 id 的元素。如果您为多个元素重复了一个 id，您会发现（对于大多数浏览器）按 id 选择只会返回其中一个元素（最常见的是第一个）。

假设您的问题是由于重复使用 id 而导致的，您可以通过为多个类似元素提供相同的*类*而不是相同的*id*来解决它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T06:02:19.177

尝试 ：

```
jQuery('div#accordianWrapper p a.expandall').click(...) 
```

# haskell - 我可以写 charName 'a' 或 'A' = "Albert" 吗？

> ID：11256779
> 
> 赞同：1
> 
> 时间：2012-06-29T05:59:59.697
> 
> 标签：haskell

以下是我复制的示例：

> charName :: Char -> String
> charName 'a' = "Albert"
> charName 'b' = "Broseph"
> charName 'c' = "Cecil"
> charName x = "尚未定义"

我可以将上述代码进一步修改为如下所示（不会编译）：

> charName :: Char -> String
> charName 'a' or 'A' = "Albert"
> charName 'b' or 'B' = "Broseph"
> charName 'c' or 'C' = "Cecil"
> charName x or X= "Not尚未定义”

如果给定 charName 'a' 或 charName 'A'，则为了获得“Albert”。

请指导如何以最短的方式编写上述代码。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-29T07:05:48.577

另一种选择是：

```
charName :: Char -> String
charName ch 
 | ch `elem` "aA" = "Albert"
 | ch `elem` "bB" = "Broseph"
 | ch `elem` "cC" = "Cecil"
 | otherwise = "Not defined yet" 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-29T08:17:02.280

与 Mihai 的答案类似，您可以使用 case 语句，它允许您进行模式匹配，而无需定义额外的函数：

```
import Data.Char (toLower)

charName :: Char -> String
charName c = case toLower c of
              'a' -> "Albert"
              'b' -> "Broseph"
              _   -> "Not defined yet" 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-29T06:04:59.967

您可以使用`toLower`from`Data.Char`和函数组合。一种解决方案是

```
charName :: Char -> String
charName = charName' . toLower
    where
        charName' 'a' = "Albert"
        charName' 'b' = "Broseph"
        charName' 'c' = "Cecil"
        charName' _   = "Not defined yet" 
```

另外，对于最后一种情况，如果您想返回错误，为什么不使用`undefined`or `error error_msg`？

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-29T09:40:09.483

```
import Data.List (find)

charName :: Char -> String
charName c = maybe "Not defined yet" snd $ find (elem c . fst)
  [ ( "aA", "Arthur" )
  , ( "bB", "Broseph" )
  , ( "cC", "Cecil" )
  ] 
```

使用的解释：

*   `fst`和`snd`：分别提取元组的第一个或第二个元素
*   `Data.List.find`: 找到满足给定谓词的列表元素
*   `maybe`: 处理`Maybe`价值观。`find`产生一个`Maybe`结果，所以你必须处理失败的情况。在这种情况下，我选择（和你一样）字符串“尚未定义”
*   `elem`：确定给定列表中是否包含某些内容（用法类似于 Landei 的答案）。回想一下，`String`它表示为 的列表`Char`。
*   函数组合：`.`表达式中的`(elem c . fst)`组合了两个函数。也就是说，它获取其输入元组，访问第一个元素（即 a `String`），然后确定是否`c`是该字符串中的一个字符。函数组合从右到左读取。
*   `$`: 美元符号是函数应用。它主要用于避免括号。有各种 StackOverflow 答案详细说明了`.`和的用法`$`。

# xcode - 组表视图的 plist

> ID：11256781
> 
> 赞同：0
> 
> 时间：2012-06-29T06:00:08.630
> 
> 标签：xcode, uitableview, nsmutablearray, plist, nsmutabledictionary

我是xcode的新手，我正在编写一个表格视图，它从我的plist加载，我会使用表格视图的组样式，部分标题是月份，每个单元格的月份都有名称、日期和图像。下面是我的 plist，我什至不确认我这样设置 plist 是否正确，可以在表格视图上显示，任何人都可以帮助，如何将这些 plist 转换为标题和单元格的不同部分，我真的很感激。

[https://www.dropbox.com/s/p2xqcmeg3f68aue/screenShot.png](https://www.dropbox.com/s/p2xqcmeg3f68aue/screenShot.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T06:09:57.957

Plist 实际上是一个包含您的数据的字典。您的字典包含一组部分。数组 intern 的每个元素都包含一个字典，即节数据 - 行和单元格内容。因此，您可以从 plist 获取数据，然后将其传递给表视图数据源方法。

您可以查看此线程以获取更多详细信息 - [UITableView grouped 和 .plist](https://stackoverflow.com/questions/10963845/uitableview-grouped-and-plist)

# mysql - 如何将此Mysql语句转换为存储过程

> ID：11256782
> 
> 赞同：-3
> 
> 时间：2012-06-29T06:00:13.137
> 
> 标签：mysql, stored-procedures

谁能告诉我如何为这个mysql语句创建一个存储过程：

```
SELECT city, country, population
FROM
  (SELECT
     city, country, population, 
     @country_rank := IF(@current_country = country, @country_rank + 1, 1) AS country_rank,
     @current_country := country 
   FROM cities
   ORDER BY country, population DESC
  ) ranked
WHERE country_rank <= 2; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:16:09.947

至少学习如何使用存储过程

```
DELIMITER $$

DROP PROCEDURE IF EXISTS `db_name`.`stored_procedure_name`$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `stored_procedure_name`(out var1 varchar(100))
BEGIN
    SELECT city, country, population
    FROM
      (SELECT
         city, country, population, 
         @country_rank := IF(@current_country = country, @country_rank + 1, 1) AS country_rank,
         @current_country := country 
       FROM cities
       ORDER BY country, population DESC
      ) ranked
    WHERE country_rank <= 2;

END$$

DELIMITER ; 
```

[http://net.tutsplus.com/tutorials/an-introduction-to-stored-procedures/](http://net.tutsplus.com/tutorials/an-introduction-to-stored-procedures/)

# c# - 在商业应用中使用 Automapper 和 LinFu.DynamicProxy

> ID：11256783
> 
> 赞同：3
> 
> 时间：2012-06-29T06:00:14.730
> 
> 标签：c#, licensing, automapper, linfu, linfu-dynamicproxy

我们想在商业应用程序（.NET 3.5）中使用 Automapper。为了获得许可，我们需要 automapper 的源代码。

我们获得了所需的 automapper 源代码，但在构建代码后我们发现 automapper.dll 的大小为 86KB，而我们使用的 DLL 为 108 KB。应用程序无法使用这个 86KB 的 automapper dll

我们查看了代码，发现另一个 DLL LinFu.DynamicProxy 大小为 21KB。如果我将此 DLL 与 automapper DLL 应用程序一起使用，则可以正常工作。

基于此，我得出结论，我使用的 108KB dll 实际上包含 86KB Automapper + 21 KB LinFu.DynamicProxy。

现在我有与许可有关的问题。我是否也需要获得 LinFu.DynamicProxy 的批准。它带有 GNU 许可证。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-02T13:17:01.443

[Linfu](http://code.google.com/p/linfu/)似乎是根据**L** GPL ( **Lesser** GPL) 获得许可的。

“较小”基本上意味着您可以在您的应用程序中将其用作外部组件，而无需更改项目的许可证（这不是许可证的确切定义，您必须阅读它以了解确切的条款，但这是一般的想法）。LGPL 许可证通常用于开源库，因为您可以轻松地将它们嵌入到商业项目中，而不会影响商业产品本身。

如果您不打算修改 Linfu dll，您可以将其与您的商业产品一起提供。您甚至不需要向他们的作者征求许可（如果他们根据 LGPL 许可他们的项目，您已经获得了授权）。只要确保你提供了一个 readme.txt 文件（例如），上面写着 Linfu 在 LGPL 下加上一个到 LGPL 的链接，应该没问题。

# c - 将屏蔽数据从 Web 套接字服务器发送到 Web 套接字客户端

> ID：11256792
> 
> 赞同：0
> 
> 时间：2012-06-29T06:00:55.763
> 
> 标签：c, sockets, encoding, web

我开发了以下 C 代码来屏蔽数据，然后再发送回 Web 服务器客户端，这是使用 RFC 6455 协议在 Firefox 浏览器上运行的 java 脚本。但是我面临问题，因为我无法在客户端看到任何东西。有人说从服务器发送到客户端时不需要屏蔽数据。真的吗 ？我看不出这在我的情况下有效。如果我的问题在某处模棱两可，请告诉我。谢谢你的帮助。

```
char frame[131],message[360];
strcpy(message,"Server here !");                
frame[0] = '\x81';
frame[1] = 128 + strlen(message);
frame[2] = '\x00';
frame[3] = '\x00';
frame[4] = '\x00';
frame[5] = '\x00';
snprintf(frame+6, 124, "%s", message);
printf("%s", frame);
n = write(newsockfd, frame, strlen(frame)); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:05:16.097

不要使用该`strlen`函数来获取 C 样式字符串以外的任何内容的长度。您的框架不是 C 风格的字符串。框架的长度是`6 + strlen(message)`，不是`strlen(frame)`。

这也是为什么`printf("%s", frame);`没有工作。格式说明符用于 C 样式的`%s`字符串，而您的框架不是。

这假设您的消息是 C 风格的字符串。如果没有，您还有其他错误，因为您使用`strlen`在初始化程序中计算它的长度`frame[1]`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T06:06:46.767

由于嵌入的空值，strlen() 没有给出帧的长度。将消息长度添加到帧前缀长度。但是掩蔽在哪里？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T10:03:15.623

我想知道你为什么要屏蔽发送给客户端的帧？

[RFC 6455](https://www.rfc-editor.org/rfc/rfc6455)说明如下：

服务器不得屏蔽它发送给客户端的任何帧。如果客户端检测到屏蔽帧，它必须关闭连接。

查看第 5.1 节了解更多详细信息。

# iphone - UIViewController 推送和弹出中的问题

> ID：11256796
> 
> 赞同：0
> 
> 时间：2012-06-29T06:01:31.440
> 
> 标签：iphone, ios, release, dealloc, pushviewcontroller

我遇到了推送和弹出我的 UIViewController 的问题。我有两个 UIViewControllers 说`A`& `B`。

我写了一个我从喜欢`IBAction`推动到的，`B``A`

```
B *bView=[[B alloc] initWithNibName:@"B" bundle:nil];
[UIView beginAnimations:@"animation" context:nil];
[UIView setAnimationDuration:0.7];
[self.navigationController pushViewController:bView animated:NO];
[UIView setAnimationTransition:UIViewAnimationTransitionFlipFromLeft forView:self.navigationController.view cache:NO];
[UIView commitAnimations];

[bView release]; //Problem is here, If I comment this line, it works fine! else it crashes after my some transitions from A [push] B, B [pop] A. 
```

现在`B`我写了一个`IBAction`弹出到`A`下面的喜欢

```
[UIView beginAnimations:@"animation" context:nil];
[UIView setAnimationDuration:0.7];
[UIView setAnimationTransition:UIViewAnimationTransitionFlipFromLeft forView:self.navigationController.view cache:NO];
[self.navigationController popViewControllerAnimated:NO];
[UIView commitAnimations]; 
```

我也打来`[super dealloc]`电话`B`

```
-(void) dealloc
{
   [super dealloc];
} 
```

**如果我不释放`bView`它不会调用 dealloc，并且可能会产生内存问题。**

**这个问题是因为我应用了动画吗？**

我尝试了所有其他方式，例如`autorelease`，设置`bView=nil;`等，但这些对我不起作用！

任何帮助，建议！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:15:00.217

尝试`bView`在动画完成块内释放。

您可以使用旧样式`+ setAnimationDidStopSelector:` ，或者如果您不需要支持 iOS4 之前的设备，您可以使用动画块`animateWithDuration:delay:options:animations:completion:`

# java - 从选择框中选择一个项目，如何显示数据库中的内容？

> ID：11256800
> 
> 赞同：1
> 
> 时间：2012-06-29T06:02:11.773
> 
> 标签：java, jsp, servlets, oracle10g

我的jsp页面

```
<select name="se">
  <option value="1">D1</option>
  <option value="2">D2</option>
  <option value="3">D3</option>
</select> 
```

当用户选择 D1 时，然后在同一页面中我想显示数据库中的内容。

我希望 D2、D3 也一样。

我应该在哪里编写选择查询？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:11:16.767

您可以使用`onchange`事件来调用服务器。在服务器端，您可以处理请求并从数据库返回所需的结果并显示它，或者您可以在调用 jsp 时从数据库中预取结果，并且可以显示/隐藏`onchange`事件。

喜欢使用 jQuery

```
<select onchange="$('divId').show()"></select> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T06:52:50.753

您可以使用`onchange`事件来获取选择框的值，并通过 ajax 将值传递给 servlet。

通过这个：

[http://www.roseindia.net/jsp/comboSelect.shtml](http://www.roseindia.net/jsp/comboSelect.shtml)

# objective-c - 确实在退出未触发时结束

> ID：11256804
> 
> 赞同：2
> 
> 时间：2012-06-29T06:02:34.643
> 
> 标签：objective-c, ios5, delegates, uitextfield

我正在使用一种方法

```
-(BOOL)textFieldShouldReturn:(UITextField*)textField;
{
NSInteger nextTag = textField.tag + 1;
UIResponder* nextResponder = [textField.superview viewWithTag:nextTag];
if (nextResponder) {
    [nextResponder becomeFirstResponder];
} else {
    [textField resignFirstResponder];
}
return NO;
} 
```

它允许用户使用键盘上的“下一步”按钮（基于标签）在登录页面上的文本字段之间跳转。但是，我的最后一个 UITextfield 没有触发“退出时结束”事件，因为它已经连接到文件所有者的代表。如果我删除文件的所有者委托，我可以让它触发“退出时结束”事件，但在这种情况下，我无法使用键盘上的“下一步”按钮跳转到最后一个文本字段。有解决方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T06:25:22.763

无需在 textFieldShouldReturn 中编写此代码，您可以在自己的方法中编写此代码并在下一次单击按钮时调用此方法。

# iphone - 下载的分发配置文件在代码签名字段中不可见？

> ID：11256807
> 
> 赞同：1
> 
> 时间：2012-06-29T06:02:43.433
> 
> 标签：iphone, distribution, code-signing

我已成功创建分发配置文件并安装在我的 xcode 管理器上，但此配置文件在我的代码签名字段中不可见？

我试图上传屏幕截图，但遗憾的是，stackOverflow 只允许发布具有超过 10 个声誉的图像。

请给我一个解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:12:12.750

如果您指的是构建设置中的代码签名字段，那么这是因为它与应用程序的捆绑标识符不匹配。您的标识符可能，`com.something.abc`但您的个人资料可能是为`com.something.xyz`. 请检查一下。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-29T06:32:11.350

复制您的分发配置文件（com....）的捆绑标识符并在您的应用程序 info.plist 的捆绑标识符键中保存它。它将自动显示您的分发配置文件。

# c# - 如何在选定复选框的信息后将逗号放入文本框？

> ID：11256808
> 
> 赞同：2
> 
> 时间：2012-06-29T06:02:44.217
> 
> 标签：c#, asp.net

```
 foreach (GridViewRow row in GridView1.Rows)         
       {           
        var chk = row.FindControl("myCheckBox") as CheckBox;
        if (chk.Checked)
        {
        var email = row.FindControl("LabelEmail") as Label;
        txtEmails.Text += (string.Join(",", email.Text));
        } 
```

我正在从网格视图中提取电子邮件，并假设相应地放置电子邮件，并用逗号分隔它们。我尝试使用 string.join 方法，但它根本没有出现在文本框中。我尝试不使用 string.join 但逗号将添加到每封电子邮件旁边。如何正确分隔电子邮件？

示例：Helloworld@gmail.com、Helloeveryone@gmail.com、HelloBye@gmail.com

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:05:00.737

代替：

```
txtEmails.Text += (string.Join(",", email.Text)); 
```

试试这个：

```
txtEmails.Text += email.Text + ", "; 
```

编辑：

因为它在最后一封电子邮件中添加了一个逗号，所以您可以执行以下操作来防止这种情况：

```
int counter = 0;
// The counter variable must be global
foreach (GridViewRow row in GridView1.Rows)         
{           
    var chk = row.FindControl("myCheckBox") as CheckBox;
    if (chk.Checked)
    {
        counter++;
        var email = row.FindControl("LabelEmail") as Label;
        if (counter <= 1)
        txtEmails.Text += email.Text;
        else
        txtEmails.Text += ", " + email.Text;
    }
} 
```

希望这可以帮助！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-29T06:08:04.550

string.Join 与字符串数组一起使用，如果你传递一个简单的字符串，就像你的情况一样，你不会看到任何变化。我认为您想在每个电子邮件地址之后附加，如果您使用 StringBuilder 来处理您的案例会更好

```
StringBuilder sb = new StringBuilder();
foreach (GridViewRow row in GridView1.Rows)
        {
            var chk = row.FindControl("myCheckBox") as CheckBox;
            if (chk.Checked)
            {
            var email = row.FindControl("LabelEmail") as Label;
            sb.Append(email.Text);
            sb.Append(",");
            } 
```

最后你可以这样做：

```
string strEmails = sb.ToString().TrimEnd(','); // TrimEnd to remove the last comma 
```

稍后您可以分配

```
textEmails.Text = strEmails; 
```

# uipageviewcontroller - 当方向设置为水平时，UIPageViewController 响应垂直平移

> ID：11256812
> 
> 赞同：4
> 
> 时间：2012-06-29T06:03:15.417
> 
> 标签：uipageviewcontroller

我已经为此花费了几个小时。我已经用 进行了初始化`UIPageViewController`，`UIPageViewControllerNavigationOrientationHorizontal`但由于某种原因`viewControllerBeforeViewController`，当用户垂直平移时会调用它。

此外，当这种情况发生时，不会发生翻页，`didFinishAnimating:didFinishAnimating:previousViewControllers:transitionCompleted`也不会被调用。这意味着页面视图控制器知道这是一个垂直移动..

这是初始化代码 -

```
- (void)initPageViewController
{
    self.pageViewController = [[UIPageViewController alloc] initWithTransitionStyle:UIPageViewControllerTransitionStylePageCurl
                                                              navigationOrientation:UIPageViewControllerNavigationOrientationHorizontal 
                                                                            options:nil];
    self.pageViewController.delegate = self;
    self.pageViewController.dataSource = self;

    [self addChildViewController:self.pageViewController];
    [self.view addSubview:self.pageViewController.view];

    // Set the page view controller's bounds using an inset rect so that self's view is visible around the edges of the pages.
    self.pageViewController.view.frame = self.view.bounds;

    [self.pageViewController didMoveToParentViewController:self];

    // Leave only pan recognizers enabled, so buttons positioned inside a page would work.
    for (UIGestureRecognizer *gr in self.pageViewController.gestureRecognizers)
    {
        if ([gr class] != [UIPanGestureRecognizer class])
            gr.enabled = NO;
    }
} 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-19T13:14:50.660

我最初偶然发现你的问题面临同样的问题 - 但我似乎已经针对我的情况解决了这个问题。

基本上，我要做的就是为所有附加到`UIPageViewController`. 所以，在创建后不久`UIPageViewController`，我做了：

```
for (UIGestureRecognizer *gr in self.book.gestureRecognizers)
    gr.delegate = self.book; 
```

`book`我的习惯在哪里`UIPageViewController`（我基本上将自己设置为代表）。最后，将此方法添加到您的`UIPageViewController`以限制任何垂直平移（或使用注释掉的行来限制水平平移）。

```
- (BOOL)gestureRecognizerShouldBegin:(UIGestureRecognizer *)gestureRecognizer
{
    if ([gestureRecognizer isKindOfClass:[UIPanGestureRecognizer class]])
    {
        UIPanGestureRecognizer *panGestureRecognizer = (UIPanGestureRecognizer *)gestureRecognizer;
        CGPoint translation = [panGestureRecognizer translationInView:self.view];

        return fabs(translation.x) > fabs(translation.y);
//      return fabs(translation.y) > fabs(translation.x);
    }
    else
        return YES;
} 
```

[由于这个答案](https://stackoverflow.com/a/7118827/1089059)，我被暗示了这一点- 只要确保你`UIPanGestureRecognizer`只过滤掉 s 。

# php - 如何在ajax - php中制作单选按钮？

> ID：11256813
> 
> 赞同：2
> 
> 时间：2012-06-29T06:03:42.963
> 
> 标签：php, ajax, button, radio

单选按钮的代码有什么问题？当我尝试 SELECT/OPTION 时，它正在工作。

我正在尝试制作两组单选按钮，获取它们的值并进行总结。但我无法通过，因为单选按钮根本没有响应。

这些是我的表单的输入：

```
<input type='radio' id='1' name='r' onclick='pieces('this.value')' 
       autocomplete='off' value='yes'>Yes
<input type='radio' id='2' name='r' onclick='pieces('this.value')' 
       autocomplete='off' value='no'>No 
```

**我的脚本：**

```
<script type='text/javascript'>

    function pieces(str)
    { 

        if (str=='')
        {
            document.getElementById(abc).innerHTML='';
            return;
        }

        if (window.XMLHttpRequest)
        {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp=new XMLHttpRequest();
        }
        else
        {
            // code for IE6, IE5
            xmlhttp=new ActiveXObject('Microsoft.XMLHTTP');
        }

        xmlhttp.onreadystatechange=function()
        {
            if (xmlhttp.readyState==4 && xmlhttp.status==200)
            {
                document.getElementById(abc).innerHTML=xmlhttp.responseText;
            }
        }

        xmlhttp.open('GET','price.php?q='+str,true);
        xmlhttp.send();

    }
</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:31:30.507

这是修改后的脚本。输入：

```
<input type='radio' id='1' name='r' onclick="pieces(this.value);" 
       autocomplete='off' value='yes'>Yes
<input type='radio' id='2' name='r' onclick="pieces(this.value);" 
       autocomplete='off' value='no'>No 
```

这是js脚本：

```
 function pieces(str)
    { 

        if (str=='')
          {
          document.getElementById("abc").innerHTML='Choose something';
          return;
          }

        if (window.XMLHttpRequest)
          {// code for IE7+, Firefox, Chrome, Opera, Safari
          xmlhttp=new XMLHttpRequest();
          }
            else
              {// code for IE6, IE5
              xmlhttp=new ActiveXObject('Microsoft.XMLHTTP');
              }

        xmlhttp.onreadystatechange=function()
            {
            if (xmlhttp.readyState==4 && xmlhttp.status==200)
                {
                document.getElementById("abc").innerHTML=xmlhttp.responseText;
                }
            }

        xmlhttp.open('GET','hey.php?q='+str,true);
        xmlhttp.send();

    } 
```

让我知道是否有任何问题。

茉莉花

# php - 变量未传递到 javascript 和 php

> ID：11256816
> 
> 赞同：1
> 
> 时间：2012-06-29T06:03:56.243
> 
> 标签：php, javascript, function, variables

为我的博客文章网站处理喜欢/不喜欢的功能，变量不会通过。我已经盯着这个看了好几天了，因为所有的代码看起来都很好，并且我已经包含了所有包含变量的必要页面，所以找不到中断。有什么见解吗？

这是我用于“喜欢”按钮的“按钮”：

```
 <a href="#" onclick="like_add('. $blabid .')" class="like">Like</a> <span id="likes" class="likereadout">' . $likes . '</span> 
```

id 变量在我“检查元素”时正确显示，但不会传递给以下 Java 函数：

```
 function like_add(postid) {
     $.post('like_add.php', {postid:postid}, function(data) {
     if (data == 'success') {
     alert('Woohoo');
     } else { 
       alert('I need sleep.');
       }
      });
      } 
```

Javascript 应该将变量传递给 like_add.php，内容如下：

```
 <?php
    include 'init.php';
    if (isset($_POST['postid']) && article_exists($_POST['postid'])) {

    $postid = $_POST['postid'];

    if (previously_liked($postid) === true) {
    echo 'You\'ve already liked this!';
} else {
  add_like($postid);
  echo 'success';
  }
     }
     ?> 
```

其中引用了 init.php 文件中包含的以下 php 函数：

```
 function article_exists($postid) {
     $postid = (int)$postid;
     return (mysql_result(mysql_query("SELECT COUNT('id') FROM 'blabbing' WHERE 'id' = $postid"), 0) == 0) ? false : true; 
```

}

和：

```
 function add_like($postid) {
     $postid = (int)$postid;
     mysql_query("UPDATE 'blabbing' SET 'likes' = 'likes' + 1 WHERE 'id'= $postid");
     mysql_query("INSERT INTO 'likes' ('user_id', 'id') VALUES ($ip, $postid)");
     } 
```

Realllll 对所有这些都是新的，所以请对我放轻松。非常感谢你的帮助！

```
function article_exists($postid) {
     $postid = (int)$postid;
     return (mysql_result(mysql_query( 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T07:06:24.370

When you send AJAX data throught $.post, it have to be stringified:

```
$.post('like_add.php', JSON.stringify({postid:postid}), function(data) { 
```

# c# - 将行添加到数据表时出现奇怪的错误

> ID：11256817
> 
> 赞同：-1
> 
> 时间：2012-06-29T06:03:58.100
> 
> 标签：c#, sql-server, datatable, sqldatareader

我希望你们能帮助我弄清楚为什么会发生这种情况。我一直在扯头发试图弄清楚这一点。

这是直接来自我的代码的示例（去掉了无聊的部分）

```
...(Set up the connection and command, initialize a datatable "dataTable")...

using (SqlDataReader reader = cmd.ExecuteReader())
{
   //Query storage object
   object[] buffer = new object[reader.FieldCount];

   //Set the datatable schema to the schema from the query
   dataTable = reader.GetSchemaTable();

   //Read the query
   while (reader.Read())
   {  
    reader.GetValues(buffer);
    dataTable.Rows.Add(buffer);
   }
} 
```

错误是

> 输入字符串的格式不正确。无法存储在 NumericScale 列中。预期类型是 Int16。

架构返回的特定列数据类型是（按列排序）

1.  System.Data.SqlTypes.SqlInt32
2.  System.Data.SqlTypes.SqlInt32
3.  System.Data.SqlTypes.SqlByte
4.  System.Data.SqlTypes.SqlMoney
5.  System.Data.SqlTypes.SqlString
6.  System.Data.SqlTypes.SqlGuid
7.  System.Data.SqlTypes.SqlDateTime

看起来应该在第 5 列中的数据实际上出现在第 3 列中。但这纯粹是猜测。

我所知道的是，为了“动态地”使用数据表和可以继续任意数量不同类型数据的查询，最好的方法是使用 GetSchemaTable() 来检索它。

**我在调试器中看到的**

当我进入调试器时，我查看了从模式构建的 dataTable 的类型与从 reader.GetValues() 返回到对象的类型。*它们完全一样*。

似乎 dataTable.Rows.Add(buffer) 正在将列添加到距应有的位置几列的位置。但这应该是不可能的。尤其是*直接*从阅读器构建的模式。我在 ExecuteReader() 中使用了诸如“CommandBehavior.KeyInfo”之类的选项，但仍然出现同样的错误。

**注意：**我需要以这种方式运行查询，以使最终用户能够在读取过程中暂停查询。请不要建议我放弃这个并使用 SqlDataAdapter 或 DataTable.Load() 解决方案。

我真的很感激任何帮助。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:15:29.370

方法`DbDataReader.GetSchemaTable()`返回包含列名和类型的*元数据表。*这不是一张可以期待的空桌子。有关更多详细信息，请参阅[MSDN](http://msdn.microsoft.com/en-us/library/system.data.datatablereader.getschematable)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T06:17:37.050

很抱歉，但会`GetSchemaTable`检索给定表的**架构**`GetValues`并检索实际的行**数据**。例如，您`dataTable`将包含列名称、列类型等列（请参阅[MSDN 参考](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqldatareader.getschematable.aspx)），而您`buffer`将包含其表示形式与所`dataTable`包含内容不同的实际数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T06:14:08.450

你为什么不直接使用：

```
dataTable.Fill(); 
```

为什么您一次手动加载一行？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-11-06T09:48:53.967

请检查您要插入的气体 GUID 数据类型的列行中的内容。我遇到了同样的错误，发现在从 csv 文件读取记录后插入记录时，csv 文件中有几个空格。

# c# - 将数据与 ASP.NET 成员相关联

> ID：11256819
> 
> 赞同：2
> 
> 时间：2012-06-29T06:04:15.720
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3, entity-framework, asp.net-membership

我正在基于 ASP.NET Membership 做我的第一个项目，但在弄清楚如何将我的自定义数据与特定成员相关联时遇到了问题。这里的约定是什么？

例如，我想做一个网络应用程序，人们可以在其中对不同的事情进行投票。为了确保人们不会一遍又一遍地投票，我想跟踪谁对什么投票进行了投票。（我提供了我的预期用途示例，但主要对通用实现感兴趣）

有谁知道已经在线编写的指南或其他好的资源？

**如果****它是相关的，我正在使用 EF4 进行我的数据库访问（我不直接需要 EF 和/或数据库访问方面的帮助，只需要成员资格与其他数据的关系）。目前，由于 GoDaddy 在每个数据库上为我提供的空间，我正计划将成员资格存储在 MsSQL 中，并将其余数据存储在 MySQL 中。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-29T06:09:19.067

您需要唯一标识当前登录的用户。您很可能会想要使用`MembershipUser.ProviderUserKey`，这是由 . 的特定风格提供的唯一标识符`MembershipProvider`。在 的情况下`SqlMembershipProvider`，此属性的值为 a `Guid`。

因此，您可以在投票记录中拥有一个属性，如下所示（假设您使用的是`SqlMembershipProvider`）：

```
public class Vote
{
    public Guid UserId { get; set;  }
    // etc.
} 
```

您可以像这样获取当前用户的 ID：

```
Guid userId = (Guid)Membership.GetUser().ProviderUserKey;

Vote vote = new Vote { UserId = userId }; 
```

当然，您可以从这里查询以确保在创建和保存新投票之前不存在`Votes`。`UserId == userId`

# jquery - 如何压缩 150 多个对不同 div 执行相同操作的 jquery 函数？

> ID：11256822
> 
> 赞同：0
> 
> 时间：2012-06-29T06:04:47.180
> 
> 标签：jquery

我是 jquery 和 javascript 的新手。。这是代码，这是一个示例，在真实页面上将有 150 多种饮料，下面显示了 5 种，有没有办法压缩这段代码？它使得当单击一个 div 时另一个 div 会弹跳。反弹的 div 包含小图像，这被用作查找饮料的巨型菜单系统。感谢您的时间和帮助。

```
$(document).ready(function(){
 $("#Pepsi").click(function (){
     $("#Pepsi-Div").delay(600).effect("bounce", { times:3, distance:30 }, 300);
 });
 $("#Coke").click(function (){
     $("#Coke-Div").delay(600).effect("bounce", { times:3, distance:30 }, 300);
 });
 $("#Crush").click(function (){
     $("#Crush-Div").delay(600).effect("bounce", { times:3, distance:30 }, 300);
 });
 $("#7up").click(function (){
     $("#7up-Div").delay(600).effect("bounce", { times:3, distance:30 }, 300);
 });
 $("#RootBeer").click(function (){
     $("#RootBeer-Div").delay(600).effect("bounce", { times:3, distance:30 }, 300);
 });
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:09:32.477

为每个 div 添加相同的类（或根据所有这些 div 的共同点进行选择：

```
<div id="Coke" class="drink">Coke</div>
<div id="Sprite" class="drink">Sprite</div>
// all divs have the same class="drink"

$(".drink").click(function (){
     $(this).delay(600).effect("bounce", { times:3, distance:30 }, 300);
 }); 
```

编辑：更新以在相关 div 上运行反弹效果，而不是单击的 div：

```
$(".drink").click(function (){
     $(this + "-Div").delay(600).effect("bounce", { times:3, distance:30 }, 300);
 }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T06:46:51.927

要详细说明 JK 的答案，您可以试试这个：

```
$(".drink").click(function (){
    $('#'+$(this).attr('id')+'-Div"]').delay(600).effect("bounce", { times:3, distance:30 }, 300);
 }); 
```

这将选择具有 id 的元素`X-Div`，其中`X`是单击元素的 id。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-29T06:55:57.430

我不知道您的 HTML，但似乎您有一些元素，每个元素在单击时都会为另一个元素设置动画。

像这样构造你的 HTML 怎么样：

```
<div data-bounce-target="#Pepsi-Div">Pepsi</div>
<div data-bounce-target="#Code-Div">Coke</div>
<div data-bounce-target="#7up-Div">7up</div>
<div data-bounce-target="#Crush-Div">Crush</div>
<div data-bounce-target="#Rootbeer-Div">Rootbeer</div>

<div id="Pepsi-Div">I'm a bouncing Pepsi</div>
<div id="Coke-Div">I'm a bouncing Coke</div>
<div id="7up-Div">I'm a bouncing 7up</div>
<div id="Crush-Div">I'm a bouncing Crush</div>
<div id="Rootbeer-Div">I'm a bouncing Rootbeer</div> 
```

然后你可以像这样概括你的Javascript：

```
$(function () {
    $('div[data-bounce-target]').on('click', function () {
        var targetElementId = $(this).data('bounce-target');
        $(targetElementId).delay(600).effect("bounce", { times:3, distance:30 }, 300);
    });
}); 
```

这样，目标元素就在您的 HTML 代码中指定。如果您需要更改元素的目标，则无需修改 Javascript。同样，当您需要添加具有需要反弹的目标的其他元素时，您无需更改 Javascript。

这是[jsFidle 中的一个工作示例](http://jsfiddle.net/fD2zh/)。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-29T06:55:05.053

```
<div id="test" class="divi">test Clicked</div>
<div id="test-Div">test Effected</div>

<div id="test2" class="divi">test2 Clicked</div>
<div id="test2-Div">test2 Effected</div>

<div id="test3" class="divi">test3 Clicked</div>
<div id="test3-Div">tetst3 Effected</div>

<div id="test4" class="divi">test4 Clicked</div>
<div id="test4-Div">test4 Effected</div>

<script>

$(".divi").click(function(){

var var1 = "#" + this.id + "-Div";

$(var1).hide();

});

</script> 
```

你可以随心所欲地使用它。它与 hide() 一起使用，因此您可以对其进行编辑。[jsfiddle](http://jsfiddle.net/25x9H/2/)。

# javascript - 立即调用的动画回调函数

> ID：11256829
> 
> 赞同：0
> 
> 时间：2012-06-29T06:05:33.197
> 
> 标签：javascript, jquery, raphael, jquery-animate

我正在使用下面的行来闪烁一个块。它可以工作，但回调函数`incre()`会立即调用，并且不会等到闪烁结束。

我`incre()`只需要在动画功能闪烁 2 秒后调用。我错过了什么？

```
block.attr({ opacity: 0.3 }).animate({ opacity: 1 }, 2000,incre()); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:24:18.700

对于您正在尝试的内容， [fadeTo()](http://api.jquery.com/fadeTo/)听起来是个不错的选择

```
block.fadeTo(2000, 0.3, function() {
    block.fadeTo(2000, 1);
}); 
```

[演示](http://jsfiddle.net/gdfFQ/)

但是，您的代码中的错误是：

*   **`()`**（回调函数名称后的*括号*）即`incre()`
*   `opacity`是 CSS 属性而不是属性。所以用户`.css()`来操纵它们

正确的代码是：

```
block
   .css({ opacity: 0.3 })
   .animate({ opacity: 1 }, 2000, incre); 
```

### [工作演示](http://jsfiddle.net/gdfFQ/1/)

# security - /**/或/**/是什么意思？

> ID：11256831
> 
> 赞同：1
> 
> 时间：2012-06-29T06:05:36.213
> 
> 标签：security

我们记录了有人试图添加`/**/or/**/`到查询字符串的获取请求。

这是什么意思，它会在哪里造成损害，我应该在我的代码中注意什么？

**编辑**

具体来说`/**/or/**/1=@@version)--`——目标是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T06:08:20.260

几乎可以肯定，这是一次[SQL 注入攻击](http://bobby-tables.com)或类似的尝试。就 SQL 而言，最容易思考（和阅读）这种漏洞，即使在您的情况下它是一个稍微不同的攻击向量。

这个想法是，如果你有这种 SQL：

```
"SELECT User from USERS where UserName =" + user + " AND PASSWORD = " + password 
```

然后将像您直接看到的值插入 SQL 中可能会导致查询的含义与您预期的完全不同（通常更宽松）。通常 SQL 注入攻击包含单引号，以终止 SQL 中的文本值。你确定你看到的攻击*没有*单引号吗？

如果您在整个应用程序中使用参数化 SQL（并且在数据库中没有动态 SQL），并且从不尝试将传入的用户指定值用作任何类型的“代码”，那么您应该没问题。

我怀疑在您的情况下，攻击者可能*不会*使用 SQL 来渗透您的安全性；它很可能是Javascript。但是这个想法是一样的：如果您以某种形式将任何用户输入用作“代码”，例如，通过构建一个与预定义代码混合的字符串，然后执行该代码，您就会使自己容易受到攻击。始终将代码视为代码（在*您的*控制之下），将数据视为数据。

# android - android 2.2 中的拖放布局

> ID：11256833
> 
> 赞同：16
> 
> 时间：2012-06-29T06:05:44.327
> 
> 标签：android, drag-and-drop, gesture

是否可以在gestureOverlay视图中添加布局并将其拖放到android中的所需位置。我可以添加布局但不能拖放它..我想知道在 2.2 版中是否可以这样做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-09T04:27:47.273

感谢您的帮助...我自己找到了解决此问题的方法...我无法在此布局上实现拖动，但我调整为布局将进入我在屏幕上触摸的位置。 .. 谢谢....

```
private void RunAnimations(MotionEvent event) {

        lastX = event.getX();
        lastY = event.getY();
        Animation b = new TranslateAnimation(Animation.ABSOLUTE,lastX,Animation.ABSOLUTE,event.getX(),Animation.ABSOLUTE,lastY-57,Animation.ABSOLUTE,event.getY()-57);             
        rl.startAnimation(b);  
        b.setFillAfter(true);
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T11:28:54.190

看看这个库：[android-dragarea](https://github.com/doffm/android-dragarea)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-03T11:45:06.530

我们实现了一个模拟行为，但我们从 ViewGroup 派生并自己编写了大部分代码。我们还必须使用[android.support.v4.view](http://developer.android.com/reference/android/support/v4/view/package-summary.html)使其适用于 2.2

# android - IDEA 是否支持应用程序模板 (ADT 20)？

> ID：11256836
> 
> 赞同：5
> 
> 时间：2012-06-29T06:06:04.410
> 
> 标签：android, intellij-idea

IDEA 的下一个版本会支持 ADT 20 附带的应用程序模板功能吗？

![](../Images/ddf4eb70f0762bc190dc009378bb1a3b.png)

此功能的详细信息：

> 应用程序模板：Android ADT 支持用于创建新应用程序、空白活动、主从流和自定义视图的新应用程序模板。这些模板支持 Android 样式指南，因此可以更快、更轻松地构建漂亮的应用程序。随着时间的推移，将添加更多模板。

# android - 从 android 中 TabGroupActivity 中的子活动开始第一个活动

> ID：11256838
> 
> 赞同：0
> 
> 时间：2012-06-29T06:06:05.603
> 
> 标签：android

我的应用程序底部包含四个标签。每个标签有多个子活动。流程可能是这样的，Tab1--A-->B-->C-->D-->E Tab2--X--> Y-->D-->E Tab3--M Tab4--P-->Q-->Y-->D-->E 我的问题是，当我在 Tab1 的 C 子活动中时，我按Tab2。当我再次回到 Tab1 时，它在 C 子活动中。但我希望重新启动 A 活动。有人可以通过提供一些示例代码来提供解决方案。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T06:19:28.503

从您的 B 活动中，使用方法启动 C 活动，`startActivityForResult()`并以这种方式覆盖`onActivityResult()`所有方法。

```
@Override
public void onActivityResult(int requestCode, int resultCode, Intent data) {
    finish();
} 
```

现在在每个 Tab 切换时，您必须在当前活动的活动中调用 finish()。这反过来会破坏所有活动，返回该选项卡将向您显示第一个活动。

请注意，您不会想要破坏您的第一个活动。出于这个原因，您必须使用从 A 启动活动 B，`startActivity()`并且您不需要`onActivityResult()`为 A 活动覆盖。

问候， 阿基夫·哈米德

# iphone - 为添加的子视图控制器调用 willrotate 方法

> ID：11256839
> 
> 赞同：1
> 
> 时间：2012-06-29T06:06:08.720
> 
> 标签：iphone, ios, ipad, ios5, uiinterfaceorientation

我已经将一个视图控制器添加到我的第一个视图控制器作为子视图，`self.view add subview:secondview`现在我将旋转设备时使用

```
- (void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration; 
```

方法只调用父视图现在我还想为子视图控制器调用该方法，这样我也可以在子视图控制器中进行必要的更改。那我该怎么办？？

-提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:30:40.507

在关于视图控制器包含的[WWDC 2011 Session 102](https://developer.apple.com/videos/wwdc/2011/?id=102)中，他们提到未能使视图控制器层次结构与视图层次结构保持同步可能会导致旋转事件问题。他们明确指出，如果您只是抓取视图控制器的视图并将其添加为主视图的子视图，而不将控制器本身添加到视图控制器层次结构中，您将不会收到这些旋转事件。在那个 WWDC 会议中，他们还建议，如果您想“面向未来”您的应用程序，您需要正确管理视图控制器。

从实用的角度来看，这意味着当您从一个视图转到另一个视图时，您确实应该转换视图控制器。最常见的是这意味着使用`pushViewController`或`presentViewControllerAnimated`（以前`presentModalViewController`）。或者您可以使用视图控制器包含（请参阅 WWDC 会话或查看[UIViewController 类参考](http://developer.apple.com/library/ios/documentation/uikit/reference/UIViewController_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40006926-CH3-SW81)中关于包含的非常简短的评论）。但不要只是从另一个视图控制器中获取视图并将其添加为当前视图的子视图。

如果您追求视图控制器包含，至少可以通过以下方式将子视图的控制器添加到层次结构中：

```
[self addChildViewController:childController];
[childController didMoveToParentViewController:self]; 
```

# java - 根据值对 Guava 表进行排序

> ID：11256840
> 
> 赞同：1
> 
> 时间：2012-06-29T06:06:19.473
> 
> 标签：java, guava, comparator

有没有办法做到这一点？预期的效果是 rowMap 和 columnMap 条目值将按值排序。

问题是如果没有表中的基础映射，我无法创建比较器。

```
Table table = TreeBasedTable.create(?,?);

Map<String, Map<String, String>> rowMap = table.rowMap();
Map<String, String> thisMapShouldBeSortedByValues = rowMap.get(smth);

Map<String, Map<String, String>> columnMap = table.columnMap();
Map<String, String> thisMapShouldBeSortedByValues = columnMap.get(smth); 
```

现在我总是必须在之后对 rowMap 和 columnMap 进行排序并在其上分配新的 TreeMap。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T18:42:28.860

首先，我假设`thisMapShouldBeSortedByValues`你的意思是`thisMapShouldBeSortedByKeys`

TreeBasedTable 扩展了 RowSortedTable，因此该表仅按其行排序，而不是其列。调用`table.columnMap()`给你一个 unordered `Map<C, Map<R, V>`。

由于它是按行排序的，因此`table.rowMap`返回 a `SortedMap<R, Map<C, V>>`。所以地图是按它的行键排序的，但是`Map<C, V>`值是一个未排序的地图，因此为什么调用`rowMap.get()`返回一个无序的地图。

您尝试通过调用 table.rowMap() 和 rowMap.get() 获得的 SortedMap 可以通过像这样调用 table.rowKeySet() 和 table.row(R rowKey) 来获得（您构建您的地图本来想通过调用得到`table.rowMap()`：

```
ImmutableSortedMap.Builder<String, SortedMap<String, String>> builder = ImmutableSortedMap.builder();

for (String rowKey : table.rowKeySet()){
     builder.put(rowKey, table.row(rowKey)) ;
}

 SortedMap<String, <SortedMap<String, String>> thisMapIsSortedByKeys = builder.build(); 
```

# android - 在android上使用httpclient时发布正文为空

> ID：11256842
> 
> 赞同：0
> 
> 时间：2012-06-29T06:06:32.603
> 
> 标签：android, post, httpclient, urlconnection

**上下文**：在 Android 中，当我使用 Java 的 HttpURLConnection 对象时，如下所示，我在服务器端正确地看到了 POST 正文。但是，当我使用我认为等效的 HttpClient 代码时，POST 正文为空。

**问题**：

1.  我错过了什么？

2.  服务器端是一个 Django-python 服务器。我已经在这个端点的入口点设置了一个调试点，但是帖子正文已经是空的。如何通过它进行调试以找出正文为空的原因？

*注意*：我已经看过[这个](https://stackoverflow.com/questions/8325212/requesting-post-full-body-but-receiving-get-empty-body-on-servers-side-via-h)，但该解决方案对我不起作用。

代码：使用 HttpURLConnection - 这有效：

```
try {
    URL url = new URL("http://10.0.2.2:8000/accounts/signup/"); 
    String charset = "UTF-8";
    HttpURLConnection connection = (HttpURLConnection) url.openConnection();
    connection.setRequestMethod("POST");
    connection.setDoOutput(true);
    connection.setRequestProperty  ("Authorization", "Basic base64encodedstring==");
    connection.setRequestProperty("Accept-Charset", charset);
    connection.setRequestProperty("Content-Type", 
        "application/x-www-form-urlencoded; charset=" + charset);
    connection.setDoInput(true);

    StringBuilder sb =  new StringBuilder();
    sb.append("appver=6&user=value1pw=&hash=h1");

    OutputStreamWriter outputWriter = new 
        OutputStreamWriter(connection.getOutputStream());
    outputWriter.write(sb.toString());
    outputWriter.flush();
    outputWriter.close();
    // handle response
} catch () { 
    // handle this 
} 
```

==================================================== ==========

代码：使用 Apache httpclient - 不起作用 - 服务器获取空 POST 正文：

```
 HttpPost mHttpPost = new HttpPost(""http://10.0.2.2:8000/accounts/signup/"");
    mHttpPost.addHeader("Authorization", "Basic base64encodedstring==");
    mHttpPost.addHeader("Content-Type", 
        "application/x-www-form-urlencoded;charset=UTF-8");
    mHttpPost.addHeader("Accept-Charset", "UTF-8");

    String str = "appver=6&user=value1pw=&hash=h1"; // same as the above
    StringEntity strEntity = new StringEntity(str);
    mHttpPost.setEntity(strEntity);

    HttpUriRequest pHttpUriRequest = mHttpPost; 

    DefaultHttpClient client = new DefaultHttpClient();
    httpResponse = client.execute(pHttpUriRequest);
    // more code 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-30T00:15:52.833

我想出了发生这种情况的原因：

POST 请求中的授权标头有一个额外的换行符“\n” - 这导致请求通过服务器端处理程序，但正文被切断。我以前从未注意到这种行为。

# php - 删除 index.php 对 SEO 不友好

> ID：11256844
> 
> 赞同：0
> 
> 时间：2012-06-29T06:06:35.173
> 
> 标签：php, apache, .htaccess, codeigniter

编写允许我从 URL 中删除 index.php 的 htaccess 可能会混淆搜索引擎，因为我将有许多指向同一页面的链接，例如

[http://www.domain.com/index.php/welcome/index](http://www.domain.com/index.php/welcome/index)
[http://www.domain.com/index.php/welcome/](http://www.domain.com/index.php/welcome/)
[http://www.domain.com/welcome/index](http://www.domain.com/welcome/index)
[http:// www.domain.com/welcome/](http://www.domain.com/welcome/)

如您所见，当涉及到 SEO 时，这可能是一个问题。我能做些什么来解决这个问题？

我的 .htaccess 包括以下命令：

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ /ci_sample/index.php/$1 [L] 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T06:13:43.187

1.  您应该将所有这些 URL 的 301 重定向设置为一个，由您选择作为主要 URL。
2.  您可以在主页上添加 rel=canonical 标记并将选择的 URL 放在那里，以告知爬虫有关正确的站点地址。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T06:12:03.203

除非您链接到每个单独 URI 的所有可能组合，否则搜索引擎将不会更明智地处理指向同一资源的各种地址。他们只会抓取您网站上的可见链接，因此请决定约定并遵循它。如果您从不链接到`index.php/welcome/index`您网站的任何页面，那么它很可能永远不会以这种方式被编入索引。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T06:13:24.550

这肯定会奏效...我已经使用此代码删除了 index.php 并且它对我来说效果很好。这段代码在 SEO 中没有问题。

```
 RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ /index.php?/$1 [L] 
```

# android - 如何获得我的纬度和经度的当前大气压力？

> ID：11256848
> 
> 赞同：1
> 
> 时间：2012-06-29T06:06:49.157
> 
> 标签：android, weather, weather-api, pressure

我想从某种远程服务中获得当前的大气压力，给定纬度和经度，所以我可以将它与压力传感器的读数进行比较并得出一个高度。

不幸的是，TWC 和 World Weather Online 有使用限制，例如每个 API 密钥每天只有几百个请求，如果超过少数用户下载我的应用程序并且都使用相同的 API 密钥同时使用它，这将不起作用在代码中。5 分钟后，用户将无法获取任何数据。所以我需要一种没有使用限制的查询数据的方法。有没有一项服务可以在不让您获得 API 密钥的情况下提供此功能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-14T21:30:22.867

嘿兄弟，你有没有想过查看手机附带的高度计？我记得在科学课上他们所做的只是测量大气压力，就像高度计一样。也许您可以制作一个 btree 并在此过程中找出正确的索引。

# jquery - Jquery.Hotkeys 行为

> ID：11256849
> 
> 赞同：1
> 
> 时间：2012-06-29T06:06:50.877
> 
> 标签：jquery, binding, document, hotkeys

我是一个相当不错的 javascript 程序员，但对 DOM 没有深入的了解，我希望这个问题对于任何优秀的程序员来说都应该是相当简单的。

我正在尝试使用 Jquery.Hotkeys 库。这是我注意到的：

如果我做：

```
$(document).ready( function(){
$(document).bind('keydown', 'ctrl+q', alertworld);
}); 
```

它完美地工作。但是当我这样做时

```
$(document).bind('keydown', 'ctrl+q', alertworld); 
```

它将每一次按键绑定到 alertworld 函数。我只是想了解它为什么会这样。我想它应该在第二个代码示例中工作得很好。请帮忙。期待中的thanx

# hash - PGP 散列的数据长度

> ID：11256853
> 
> 赞同：6
> 
> 时间：2012-06-29T06:07:33.320
> 
> 标签：hash, cryptography, implementation, pgp, dsa

我终于设法验证了一些简单的 PGP 签名消息块。但是，我发现由于某种原因，我的实现限制了我验证 9-16 字节长的数据。不少于。不再。

是否有一些指令（[RFC4880](http://tools.ietf.org/pdf/rfc4880.pdf)或其他地方）指定如何处理任何长度的纯文本数据？也许我错过了某种填充？PKCS1?

我很确定我将数据格式化为正确散列，因为 RFC 4880 sec 5.2.4 中的说明针对文本文档，只需将所有内容替换`\n`为`\r\n`并添加预告片。由于我的测试值是单行数据，因此无需替换任何内容

除非另有说明，否则所有这些值都以 10 为基数：

```
// DSA public key values
p = 175466718616740411615640156350265486163809613514213656685227237159351776260193236923030228927905671867677337184318134702903960237546408302010360724274436019639502405323187799029742776686067449287558904042137172927936686590837020160292525250748155580652384740664931255981772117478967314777932252547256795892071
q = 809260232002608708872165272150356204306578772713
g = 127751900783328740354741342100721884490035793278553520238434722215554870393020469115393573782393994875216405838455564598493958342322790638050051759023658096740912555025710033120777570527002197424160086000659457154926758682221072408093235236853997248304424303705425567765059722098677806247252106481642577996274
y = 172935968966072909036304664996424500241381878537444332146572958203083745609400290814117451480512268901233962890933482206538294509037615827035398352528065134903071886710296983781453184598843331365336270501467458073523376152406987560592548479865116940266729198119357206749848310472131186772143408998928864559411 
```

不工作：

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

abcd
-----BEGIN PGP SIGNATURE-----
Version: BCPG v1.39

iFsEARECABsFAk/tB28UHGFiYyA8bWFrY21AYWFhLmNvbT4ACgkQMFIlRc933Ya2
RwCfdMyI08Iz0rDXVHOPlGA3s5Y9j/8An2He7+hHjWfGJNoOJT7gAxqJaoLo
=I2rT
-----END PGP SIGNATURE-----

data hashed (in hex): 6162636404011102001b05024fed076f141c616263203c6d616b636d406161612e636f6d3e04ff00000021

r = 666804200764671083282351405489424949903645052927
s = 558743769080942454889260816818443017172325925608

w =  702955297882281869313155599553522395227576660460 // s^-1 mod q
u1 = 190417717173929082607343542521304347388874234334
u2 = 306786785479358548892951170619047936651163362761
v = g^u1 * y^u2 % p % q = 737052148656331043521702886300418501784667890334

v != r 
```

在职的：

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

0123456789abcdef
-----BEGIN PGP SIGNATURE-----
Version: BCPG v1.39

iFsEARECABsFAk/tCE0UHGFiYyA8bWFrY21AYWFhLmNvbT4ACgkQMFIlRc933YYG
IQCfercgPsXFnah6otgQdEMbv9OeCgIAnRIyOLirbqSlBugBT6Ex/Adz4+7L
=bzab
-----END PGP SIGNATURE-----

data hashed (in hex): 3031323334353637383961626364656604011102001b05024fed084d141c616263203c6d616b636d406161612e636f6d3e04ff00000021

r = 700580719365380086754774917458461236187098909186
s = 103881812262595813943381509986903840453887782603

w = 178510125628083028184051840492924307896586330444 // s^-1 mod q
u1 = 78831508775508876446567239486098677466912246622
u2 = 572875590470993668032596348682349224460207395691
v = g^u1 * y^u2 % p % q = 700580719365380086754774917458461236187098909186

v == r 
```

我没有在哈希中包含哪些数据/我做错了什么？

编辑：这是所要求的公钥，即使相关值已经发布）

```
-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: BCPG v1.39

mQGiBE5B0h8RBAD533Z5bK1IpBx02QyQL0QoJE4uFRIMGDiwXuwmZzVl+R7Vlurd
GRLsCCbE6vOOh7XQVZGzLEBy9WNzZ9m+EbCfSVAYkjS6FhLws6hG6irrnS+b3JBf
gFJ8vNGF9Z7bhx+7y7NBk0IMyWkGnUkcnav73t5FQUI2faEBN4c/yAGJZwCgjcB7
3akWk9XVWvTCsiMXxpyvkukEALXsvB6cOoFEtQq9cQHjP63fBlvD94dhhMiM0cH6
hW9JotxdK+cxFGG9ZIWgoN2PWbMJka/H4W5EL6tS+YiNAR7I1Ozkt6X16GjnQUzZ
MlSpleK+KiKVN2anRaPEoOIinHrE3ZXd6QlJ/4+OJn4IVWmSEaJpFf4QNgvEu4rh
xinyBAD2RNzREOA+wpnFZ4lDt9NZXmXdxQME/l0J9XcvWhpGsxA/MATQKImy7N49
7GT/M38F+TrpBobag1O3buE99fOLyws4Tbc+sZMdHxoiGZDAIRNQS2rv475E6ktj
7vd5CYvOkA6+8sX1+hPcNlkHtHB1OFkJRsYp6k0zkyC9adjBM7QTYWJjIDxtYWtj
bUBhYWEuY29tPohGBBMRAgAGBQJOQdIfAAoJEDBSJUXPd92GRSQAoItbtbToOg7a
/hcg2sA/aBEQNwuxAKCGR69vmSoCWoBP5waPk0UsjM3BSbjMBE5B0h8QAgCUlP7A
lfO4XuKGVCs4NvyBpd0KA0m0wjndOHRNSIz44x24vLfTO0GrueWjPMqRRLHO8zLJ
S/BXO/BHo6ypjN87Af0VPV1hcq20MEW2iujh3hBwthNwBWhtKdPXOndJGZaB7lsh
LJuWv9z6WyDNXj/SBEiV1gnPm0ELeg8Syhy5pCjMAf9QHehP2eCFqfEwTAnaOlA6
CU+rYHKPZaI9NUwCA7qD2d93/l08/+ZtFvejZW1RWrJ8qfLDRtlPgRzigoF/CXbR
iEYEGBECAAYFAk5B0h8ACgkQMFIlRc933YZRrACfUnWTjHHN+QsEEoJrwRvFmvzj
bR4An24pTpeeN+I6R59O/sdmYsAhjULX
=sStS
-----END PGP PUBLIC KEY BLOCK----- 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-09T19:59:52.677

没有足够的时间查看详细信息，但我猜您正在正确应用（或不应用）填充。这将导致对某些输入长度产生正确的结果，但对其他输入长度则不然。

我想我会对此进行更多研究，但我想在赏金线下找到一些东西:)

**编辑**：好的，发现一个错误。不知道你为什么会得到它，但如果它是固定的，那么正确的答案就会出现。在您不工作的示例中，您将`w`(s^-1 mod q) 计算为

```
w =  702955297882281869313155599553522395227576660460 // s^-1 mod q 
```

但我明白了

```
w =  702955297882281869313155599553522395227576660458 
```

减2！真的，真的很接近的价值观。可以证明我的是对的：

```
s * your_w mod q = 308227306159276200906356361486529830038073078504
s * my_w mod q = 1 
```

如果你插入这个 w 值，你会得到

```
u1 = 536931432138658080437983667536052790245747416035
u2 = 591698847955233800072578903940910445457030802333
v = (g^u1 * y^u2) % p % q = 666804200764671083282351405489424949903645052927
r == v 
```

希望有帮助。

# twitter - Twitter 个人资料小部件

> ID：11256855
> 
> 赞同：0
> 
> 时间：2012-06-29T06:07:36.937
> 
> 标签：twitter, widget

我在我的网站上使用 twitter 个人资料小部件。我根据需要更改了设置，从 twitter 网站获取代码。[https://twitter.com/about/resources/widgets/widget_profile](https://twitter.com/about/resources/widgets/widget_profile)

这个小部件的问题是，每次它要我刷新页面以查看推文。

我想在不刷新页面的情况下加载推文。有什么办法吗，我在我的小部件上实现了这个。

```
<script charset="utf-8" src="http://widgets.twimg.com/j/2/widget.js"></script>
<script>
new TWTR.Widget({
  version: 2,
  type: 'profile',
  rpp: 4,
  interval: 30000,
  width: 250,
  height: 300,
  theme: {
    shell: {
      background: '#333333',
      color: '#ffffff'
    },
    tweets: {
      background: '#000000',
      color: '#ffffff',
      links: '#4aed05'
    }
  },
  features: {
    scrollbar: false,
    loop: false,
    live: false,
    behavior: 'all'
  }
}).render().setUser('twitter').start();
</script> 
```

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-30T04:16:46.293

您可以强制此小部件加载`live`参数设置为的新推文`true`。[在您的脚本中更改它或在https://twitter.com/about/resources/widgets/widget_profile](https://twitter.com/about/resources/widgets/widget_profile)获取一个新的，并确保您签`Poll for new results?`入`settings`选项卡。

# php - 我需要从数组中获取 NID

> ID：11256859
> 
> 赞同：0
> 
> 时间：2012-06-29T06:07:47.877
> 
> 标签：php

```
array(1) { 
            [0] => object(stdClass)#53 (14) 
                { 
                    ["cart_item_id"]=> string(2) "64" 
                    ["cart_id"]=> string(1) "1" 
                    ["nid"]=> string(3) "204" 
                    ["qty"]=> string(1) "1" 
                    "changed"]=> string(10) "1340948878" 
                    ["data"]=> array(3) 
                        { 
                            ["shippable"]=> string(1) "1" 
                            ["restrict_qty"]=> string(1) "0" 
                            ["module"]=> string(10) "uc_product" 
                        } 
                    ["title"]=> string(5) "songs" 
                    ["vid"]=> string(3) "204" 
                    ["cost"]=> string(9) "123.00000" 
                    ["price"]=> string(9) "123.00000" 
                    ["weight"]=> string(1) "0" 
                    ["weight_units"]=> string(2) "lb" 
                    ["module"]=> string(10) "uc_product" 
                    ["model"]=> string(1) "1" 
                } 
        } 
```

请帮助如何在新变量中仅获取 nid 值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:13:27.787

通过

```
$output = $array[0]->nid 
```

通过 访问**数组**访问**对象**_`->`
**`[index]`**

# javascript - sort() 在 JavaScript 中是如何工作的？

> ID：11256860
> 
> 赞同：2
> 
> 时间：2012-06-29T06:07:51.360
> 
> 标签：javascript, sorting

```
var numArray = [4,2,5,3];
numArray.sort(function(a,b){
  console.log("a:" + a + ", b:" + b);
  return a-b;
}); 
```

三个可能的返回数字是：<0（小于 0）、0 或 >0（大于 0）：

```
 Less than 0: Sort "a" to be a lower index than "b"
 Zero: "a" and "b" should be considered equal, and no sorting performed.
 Greater than 0: Sort "b" to be a lower index than "a". 
```

我在控制台上变得像这样

```
    甲：4，乙：2
    甲：4，乙：5
    甲：5，乙：3
    甲：2，乙：3
    甲：4，乙：3
    [2、3、4、5]

```

如上所示，我可以知道 a 和 b 的值是如何变化的吗？

> 在第一步中，a=4 和 b=2。在这种情况下，它将交换。然后数组变为[2,4,5,3]；
> 
> 在第二步中，a=4 和 b=5。在这种情况下，项目保持不变。然后数组变为[2,4,5,3]；
> 
> 第三步，a=5，b=3。在这种情况下，它将交换。然后数组变为[2,4,3,5]；
> 
> 到这一步为止一切正常。但在那之后，a 和 b 的值如何分别变为 2 和 3 > 而不是 2 和 4。

任何人都可以帮助我吗？

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:11:48.427

不能保证 sort 方法使用简单的比较和交换算法。

您的浏览器更有可能使用诸如[合并排序](http://en.wikipedia.org/wiki/Merge_sort)之类的东西，但具体算法将取决于浏览器和版本。

由于 Firefox 是开源的，您可以通过查看[源代码](http://mxr.mozilla.org/mozilla/source/js/src/jsarray.c)来了解排序是如何实现的。它使用归并排序。

# jquery - jquery datatables actionlink如何添加

> ID：11256864
> 
> 赞同：7
> 
> 时间：2012-06-29T06:08:20.620
> 
> 标签：jquery, asp.net-mvc-3, jquery-datatables

我一直在搜索过去几个小时，不幸的是，我似乎找不到如何使用 .net 和 MVC 使用操作编辑和删除链接列填充数据表的示例。

这是我到目前为止所拥有的，如何添加操作链接？我错过了什么？

```
<script type="text/javascript">
$(document).ready(function () {
    $('#myDataTable').dataTable({
        bProcessing: true,
        sAjaxSource: '@Url.Action("Index1", "Default1")'
    });

});
</script>

<div id="container">
<div id="demo">
    <table id="myDataTable">
        <thead>
            <tr>
                <th>
                    RoleId
                </th>
                <th>
                    RoleName
                </th>
                <th>
                    UserId
                </th>
                <th>
                    UserName
                </th>
            </tr>
        </thead>
        <tbody> 
        </tbody>
</table>    
</div>
</div> 
```

我想在最后一栏中添加这个；

```
 <td>
        @Html.ActionLink("Edit", "Edit", new {id=item.PrimaryKey}) |
        @Html.ActionLink("Details", "Details", new { id=item.PrimaryKey }) |
        @Html.ActionLink("Delete", "Delete", new { id=item.PrimaryKey })
    </td> 
```

但无法弄清楚如何做到这一点。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-29T13:21:24.113

您可以使用`aoColumns`带有`fnRender`函数的属性来添加自定义列。您不能使用`Html.ActionLink`帮助程序，因为您必须从 javascript 动态生成链接。该`aoColumns`属性可帮助您配置每个列，如果您不想配置特定列，只需传递`null`，否则您必须传递`object({})`.

该`fnRender`函数可帮助您使用其他列的值创建链接。您可以使用`oObj.aData`来获取其他列的值，例如`id`生成链接。

```
<script type="text/javascript">    
    $(document).ready(function () {
        $('#myDataTable').dataTable({
            bProcessing: true,         
            sAjaxSource: '@Url.Action("Index1", "Default1")',
            aoColumns: [
                      null, // first column (RoleId)
                      null, // second column (RoleName)  
                      null, // third (UserId)
                      null, // fourth (UserName)

                      {     // fifth column (Edit link)
                        "sName": "RoleId",
                        "bSearchable": false,
                        "bSortable": false,
                        "fnRender": function (oObj)                              
                        {
                            // oObj.aData[0] returns the RoleId
                            return "<a href='/Edit?id=" 
                                + oObj.aData[0] + "'>Edit</a>";
                        }
                       },

                       { }, // repeat the samething for the details link

                       { }  // repeat the samething for the delete link as well

                   ]
     });  
}); 
</script> 
```

您从服务器返回的 JSON 输出中的另一重要内容是，对于编辑列，您还必须返回 1、2、3 之类的内容。

参考：http: [//jquery-datatables-editable.googlecode.com/svn/trunk/ajax-inlinebuttons.html](http://jquery-datatables-editable.googlecode.com/svn/trunk/ajax-inlinebuttons.html)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-06-16T18:57:25.737

fnRender 已经贬值，mRender 没有收到相同的参数。

这对我有用，请遵循@Mark 示例：

```
 {     // fifth column (Edit link)
    "sName": "RoleId",
    "bSearchable": false,
    "bSortable": false,
    "mRender": function (data, type, full) {
        var id = full[0]; //row id in the first column
        return "<a href='javascript:alert("+id+");'>Edit</a>";
   } 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-01-23T18:27:08.080

其他响应使用旧版 DataTables 语法。对于 DataTables 1.10+，[columnDefs](https://datatables.net/reference/option/columnDefs)的语法如下：

```
$('#MyDataTable').DataTable({
    "processing": true,
    "ajax": '@Url.Action("Index1", "Default1")',
    "columnDefs": [
        {"targets": [4], "data": "RoleId", "render" : function(data, type, full) { return '@Html.ActionLink("Edit", "Edit", new {id = "replace"})'.replace("replace", data);}},
        {},  //repeat
        {}   //repeat
    ]
}); 
```

注意：为了在 ActionLink 中获取模型，我使用[JavaScript replace()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace)将字符串“replace”替换为`data`，该字符串在前面的 columnDef 中定义为“RoleId”

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-11-10T09:39:34.717

aoColumnDefs 的另一种方法

```
$('#myDataTable').dataTable({
    bProcessing: true,
    sAjaxSource: '@Url.Action("Index1", "Default1")'
    aoColumnDefs: [{
                     "aTargets": [4],    //Edit column
                     "mData": "RoleId",  //Get value from RoleId column, I assumed you used "RoleId" as the name for RoleId in your JSON, in my case, I didn't assigned any name in code behind so i used "mData": "0"
                     "mRender": function (data, type, full) {
                       return '<a href=' +
                            '@Url.Action("Edit", "Default1")?RoleId=' + data +
                            '>Edit</a>';
                     }
                  },{
                     "aTargets": [5],    //Detail column
                     "mData": "RoleId",  
                     "mRender": function (data, type, full) {
                       return '<a href=' +
                            '@Url.Action("Detail", "Default1")?RoleId=' + data +
                            '>Detail</a>';
                     }
                  },{
                     "aTargets": [6],    //Delete column
                     "mData": "RoleId",  
                     "mRender": function (data, type, full) {
                       return '<a href=' +
                            '@Url.Action("Delete", "Default1")?RoleId=' + data +
                            '>Delete</a>';
                     }
                  }]
}); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-08-28T15:18:50.993

[我使用这篇文章的](https://stackoverflow.com/questions/18091699/adding-ajax-actionlink-to-datatable-column-while-using-server-side-processing)帮助（olivier 评论）找到了另一种让这个 actionlink 工作的方法：

您在 Javascript 中重用的表节点中添加数据标签属性

在 cshtml 中：

```
<table class="table table-striped display" id="list" 
            data-url-edit="@Url.Action("Edit","User", new { id = "replace"})" 
```

在 ths columndefs 区域的 *.js 文件中：

```
 "columnDefs": [
        {
            "targets": [-1], "data": "UserID", "render": function (data, type, row, meta) {
                return '<a href="' + $('#list').data('url-edit').replace("replace", row.UserID) + '">Edit</a> | '
                    + '<a href="' + $('#list').data('url-details').replace("replace", row.UserID) + '">Details</a> | ' 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-08-28T14:09:16.790

我已经将提到的代码用于数据表 1.10+，但在数据表单元格中获取字符串而不是链接。

```
@Html.ActionLink("Edit", "Edit", new {id = "294"}) 
```

请注意，在解决方案上使用和旧的 mvc3 版本这里是我的 javascript：

```
$(document).ready(function () {

var tenantid = $('#tenantid').text();
$("#title").html("<h1>User List for TenantID: "+ tenantid + " </h1>");

var oTable = $('#list').DataTable({
    "serverSide": true,
    "ajax": {
        "type": "POST",
        "url": '/User/DataHandler',
        "contentType": 'application/json; charset=utf-8',
        'data': function (data)
        {
            data.ID = tenantid;
            return data = JSON.stringify(data);
        }
    },
    "dom": 'lfrtiSp',        
    "processing": true,
    "paging": true,
    "deferRender": true,        
    "pageLength": 10,
    "lengthMenu": [5, 10, 25, 50, 75, 100],
    "columnDefs": [
        { "targets": [-1], "data": "UserID", "render": function (data, type, row, meta) { return '@Html.ActionLink("Edit", "Edit", new {id = "replace"})'.replace("replace", row.UserID); } }

    ],

    "columns": [
        { "data": "UserID", "orderable": true },
        { "data": "UserGUID", "orderable": false },
        { "data": "UserName", "orderable": true },
        { "data": "UserEMAil", "orderable": true },
        { "data": "UserIsDeleted", "orderable": true },
        { "data": "Action", "orderable": false }
    ],

    "order": [0, "asc"]

    });
 }); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-10-09T13:39:24.910

这对我有用

将此添加为您的编辑/操作列

```
{ "data": "YOURIDKEYCOLUMN",
  "render": function (data) {
   return "<a href='/YOUREDITINGURL/Edit/"+data+"'>Edit</a>"
   } 
```

# java - 使用 java xml 解析器在没有 CDATA 部分的情况下解析带有 HTML 内容的 XML

> ID：11256866
> 
> 赞同：0
> 
> 时间：2012-06-29T06:08:32.530
> 
> 标签：java

我需要解析的 xml 文件在节点内有 HTML 标记，但不存在用于 HTML 内容的 CDATA 部分。有没有一种方法可以使用 java xml 解析器解析提供文本和 html 标签的 xml 文件。而且我不应该编辑 xml 文件。

以下是我尝试使用 java xml 解析器解析的 XML 文件：

```
<assessmentItem xsi:schemaLocation="http://www.imsglobal.org/xsd/imsqti_v2p0 imsqti_v2p0.xsd" identifier="choice" adaptive="false" timeDependent="false" title="200007" xmlns="http://www.imsglobal.org/xsd/imsqti_v2p0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <responseDeclaration identifier="RESPONSE" cardinality="single" baseType="identifier">
        <correctResponse>
             <value>C</value>
        </correctResponse>
    </responseDeclaration>
    <outcomeDeclaration identifier="SCORE" cardinality="single" baseType="integer"
        <defaultValue>
            <value>0</value>
        </defaultValue>
    </outcomeDeclaration>
    <stylesheet href="stylesheet/scip.css" type="text/css" />
    <itemBody>
        <span class="class1">
            <b>The graph shows how many children named different animals as favorite pets.<br /><br /></b>
        </span>
        <div class="class2">
            <span class="class1">
                <b><img src="images/15063.jpg" alt="" /></b>
            </span>
        </div>
        <span class="class1">
            <b>How many children liked dogs or cats as their favorite pets?</b>
        </span>
        <choiceInteraction responseIdentifier="RESPONSE" shuffle="false" maxChoices="1">
            <simpleChoice identifier="A">
                <span class="class1">30</span>
                <rubricBlock>
                    <span class="class1" >Chose the number of cats</span>
                </rubricBlock>
            </simpleChoice>
            <simpleChoice identifier="B">
                <span class="class1">40</span>
                <rubricBlock>
                    <span class="class1" >Chose the number of dogs</span>
                </rubricBlock>
            </simpleChoice>
            <simpleChoice identifier="C">
                <span class="class1">70</span>
                <rubricBlock>
                    <span class="class1" ><b>Correct</b></span>
                </rubricBlock>
            </simpleChoice>
            <simpleChoice identifier="D">
                <span class="class1">150</span>
                <rubricBlock>
                    <span class="class1" >Chose the sum of all the pets in the table</span>
                </rubricBlock>
            </simpleChoice>
        </choiceInteraction>
    </itemBody>
    <responseProcessing template="http://www.imsglobal.org/question/qti_v2p0/rptemplates/match_correct" />
</assessmentItem> 
```

# c# - 加载项目时DataGrid中的问题

> ID：11256871
> 
> 赞同：0
> 
> 时间：2012-06-29T06:09:18.453
> 
> 标签：c#, wpf, linq-to-sql

我试图将表的 top3 记录加载到 DataGrid 中，它显示错误**无法将类型“System.Linq.IQueryable”隐式转换为“字符串”**。下面的代码是我写的

```
MyDatatBaseDataContext Mydb = new MyDatatBaseDataContext();    
var top3 = (from t in Mydb.GetTable<student>() select t).Take(2);
grd_8.ItemStringFormat = top3; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T06:18:48.650

改变`var top3 = (from t in Mydb.GetTable<student>() select t).Take(2);`

到

```
List<student> top3 = (from t in Mydb.GetTable<student>() select t).Take(2).ToList(); 
```

如果 grd_8.ItemStringFormat 是一个字符串，那么您必须使用 StringBuilder 将 yr List 转换为字符串

但您可以分配`List<student> top3`给您的网格 ItemsSource/DataSource

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T06:19:29.617

> [ItemStringFormat](http://msdn.microsoft.com/en-us/library/system.windows.controls.itemscontrol.itemstringformat.aspx)获取或设置一个复合字符串，该字符串指定在 ItemsControl 中的项目显示为字符串时如何设置它们的格式。

为什么要将 LINQ 结果分配给 ItemStringFormat。我相信您正在寻找[ItemsSource](http://msdn.microsoft.com/en-us/library/system.windows.controls.itemscontrol.itemssource.aspx)属性

```
grd_8.ItemsSource = top3; 
```

此外，要从查询中选择前三个记录，请使用`Take(3)`not`Take(2)`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T06:20:14.797

为什么要将结果分配给 ItemStringFormat？

```
grd_8.ItemStringFormat = top3; 
```

您需要将结果分配给 ItemSource

```
grd_8.ItemSource = top3; 
```

# iphone - UIWebView 触摸事件没有被触发

> ID：11256873
> 
> 赞同：0
> 
> 时间：2012-06-29T06:09:28.327
> 
> 标签：iphone, ipad, uiwebview, detection, uitouch

我是 iPhone 开发者的新手，

我想在我的 webview 中检测触摸，所以我尝试了这个，但是这个方法没有被触发，

在`.h`文件中

```
@interface EpubReaderViewController : UIViewController 
```

在`.m`文件中

```
... 
- (void)sendEvent:(UIEvent *)event{
    NSLog(@"Touch detected") ;   
}
... 
```

即使我也试过这个，

```
- (void) touchesBegan:(NSSet*)touches withEvent:(UIEvent*)event {
    NSLog(@"Touches began");
} 
```

**提前致谢 ！**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:19:05.083

用户将在网站上放大和缩小，以及触摸以单击 hpyerlinks 等。那害羞的触摸方法不会响应`UIWebView`.

如果您想启用触摸，您可能需要`UIWebview`在开发人员文档中禁止它时进行子类化，请查看以下线程以获取更多讨论 -

[处理 UIWebview 内部的触摸](https://stackoverflow.com/questions/990870/handling-touches-inside-uiwebview)

[https://stackoverflow.com/questions/2122745/how-to-detect-touch-event-in-uiwebview](https://stackoverflow.com/questions/2122745/how-to-detect-touch-event-in-uiwebview)

[如何拦截 MKMapView 或 UIWebView 对象上的触摸事件？](https://stackoverflow.com/questions/1049889/how-to-intercept-touches-events-on-a-mkmapview-or-uiwebview-objects)

[处理 UIWebview 内部的触摸](https://stackoverflow.com/questions/990870/handling-touches-inside-uiwebview)

您也可以阅读本教程 -

[http://mithin.in/2009/08/26/detecting-taps-and-events-on-uiwebview-the-right-way](http://mithin.in/2009/08/26/detecting-taps-and-events-on-uiwebview-the-right-way)

# android - 将大量数据从 Java servlet 发送到 Android 应用程序

> ID：11256875
> 
> 赞同：0
> 
> 时间：2012-06-29T06:09:39.527
> 
> 标签：android, servlets

我想从服务器向客户端发送非常大的数据，服务器是 tomcat Java，客户端是 android 应用程序，我正在使用 servlet

### 服务器小服务程序

```
protected void doPost(HttpServletRequest request,
                      HttpServletResponse response) throws ServletException,
                                                           IOException {
    ServletOutputStream out = response.getOutputStream();
    CellDatabase cDB = new CellDatabase();
    String[] cells = cDB.getAllCells();
    for (int i = 0; i < cells.length; i++)
        out.write(cells[i].getBytes());
    out.flush();
} 
```

我的问题是：我怎样才能在 android 上获得这些数据，因为我没有找到类似的东西

```
response.getOutputStream(); 
```

### 安卓

```
HttpClient client = new DefaultHttpClient();
website = new URI(
        "http://10.0.2.2:8080/LocalizedBasedComptitionServer/GetCells");
HttpPost request = new HttpPost();
request.setURI(website);
HttpResponse response = client.execute(request); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T06:33:29.660

这可能会帮助你

```
public static String getData(String url) {

    System.out.println("Connecting to service URL : " + url);
    InputStream is = null;
    String result = "";
    // http post
    try {
        HttpClient httpclient = new DefaultHttpClient();
        HttpPost httppost = new HttpPost(url);

        HttpResponse response = httpclient.execute(httppost);
        HttpEntity entity = response.getEntity();
        is = entity.getContent();

    } catch (Exception e) {
    }

    // convert response to string
    try {
        BufferedReader reader =
            new BufferedReader(new InputStreamReader(is, "iso-8859-1"), 8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
        is.close();
        result = sb.toString();
    } catch (Exception e) {
    }

    return result;
} 
```

# perl - #!/usr/bin/perl 中的 -T 或 -w 有什么意义？

> ID：11256876
> 
> 赞同：10
> 
> 时间：2012-06-29T06:09:39.440
> 
> 标签：perl, shebang, taint

我用谷歌搜索`#!/usr/bin/perl`，但找不到任何令人满意的答案。我知道这是一个非常基本的事情，但是，仍然可以解释我`#!/usr/bin/perl`在 Perl 中的意义是什么？此外，在 中`-w`或`-T`表示`#!/usr/bin/perl`什么？我是 Perl 的新手，所以请耐心等待。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-29T06:27:09.143

这 ＃！通常称为“ [shebang](http://en.wikipedia.org/wiki/Shebang_%28Unix%29) ”，它告诉计算机如何运行脚本。您还会看到很多带有`#!/bin/sh`or的 shell 脚本`#!/bin/bash`。

那么，`/usr/bin/perl`是您的 Perl 解释器，它运行并给出要执行的文件。

该行的其余部分是 Perl 的选项。“ [-T”是污点](http://perldoc.perl.org/perlsec.html#SECURITY-MECHANISMS-AND-CONCERNS)（这意味着输入被标记为“不可信”，直到你检查它的格式）。“-w”打开警告。

您可以通过运行[perldoc perlrun](http://perldoc.perl.org/perlrun.html)了解更多信息（perldoc 是 Perl 的文档阅读器，可能已安装，可能在它自己的包中）。

对于您编写的脚本，我建议您从以下内容开始：

```
#!/usr/bin/perl
use warnings;
use strict; 
```

这会打开大量警告和额外检查 - 在您学习时尤其有用（我仍在学习，我已经使用 Perl 超过 10 年了）。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-29T07:01:57.477

两者`-w`和`-T`都是“万无一失”的标志。

`-w`与代码中的语句相同，`use warning`在许多编译器中它相当于警告选项。一个最简单的例子是关于使用未初始化变量的警告：

```
#!/usr/bin/perl -w
print "$A\n";
print "Hello, world!\n"; 
```

将打印：

```
Name "main::A" used only once: possible typo at ./perl-warnings line 3.
Use of uninitialized value $A in concatenation (.) or string at
./perl-warnings line 3.

Hello, world! 
```

该`-T`标志表示任何来自外部世界的值（与在程序内部计算相反）都被视为潜在威胁，并且不允许在与系统相关的操作中使用这些值，例如写入文件、执行系统命令等。（这就是当脚本在 setuid/setgid 下运行时 Perl 会激活“污点”模式的原因。）

“污染”模式是“强制”您仔细检查脚本中的值。

例如，代码：

```
#!/usr/bin/perl -T
$A = shift;
open FILE, ">$A";
print "$A\n";
close FILE; 
```

会产生致命错误（终止程序）：

```
$ ./perl-tainted jkjk
Insecure dependency in open while running with -T switch at
./perl-tainted line 3. 
```

那只是因为参数值来自“外部”而不是“双重检查”。“污点”模式正在引起您对这一事实的注意。当然，它很容易被骗，例如：

```
#!/usr/bin/perl -T
$A = shift;
$A = $1 if $A =~ /(^.*$)/;
open FILE, ">$A";
print "$A\n";
close FILE; 
```

在这种情况下，一切正常。你“愚弄”了“污点模式”。好吧，假设是程序员的意图是使程序更安全，因此程序员不会只是解决错误，而是会采取一些安全措施。Perl 的绰号之一是“系统管理员的粘合剂和胶带”。系统管理员不太可能会根据自己的需要创建 Perl 脚本并使用`root`权限运行它。想想这个脚本做了一些普通用户不允许做的事情……你可能想仔细检查那些不属于程序本身的事情，并且你希望 Perl 提醒你这些事情。

希望能帮助到你。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-29T06:29:04.870

它被称为shebang。在基于 Unix 的系统（OSX、Linux 等）上，该行指示从命令行运行脚本时语言解释器的路径。对于 perl /usr/bin/perl 是 perl 解释器的路径。如果省略了 hashbang，*nix 系统将不知道在作为可执行文件调用时如何解析脚本。相反，它将尝试在用户碰巧正在运行的任何 shell（可能是 bash）中解释脚本并破坏脚本。

[http://en.wikipedia.org/wiki/Hashbang](http://en.wikipedia.org/wiki/Hashbang)

-W 和 -T 是控制 perl 解释器操作方式的参数。它们与直接从命令行调用 perl 解释器时可以调用的参数相同。

*   -W 显示警告（也就是调试信息）。
*   -T 打开污点/安全检查。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-06-29T08:59:05.060

**关于污点模式（-T）：当****污点模式**打开时
`require`，`use`语句会发生变化。 加载库/模块的路径不再包含其路径中的（当前目录）。 **`.`**

 **因此，如果您在未明确指定路径的情况下加载与当前工作目录相关的任何库或模块，您的脚本将在污染模式下中断。

例如：考虑**perl_taint_ex.pl**

```
#!/usr/bin/perl -T

require "abc.pl";
print "Done"; 
```

会像这样失败

```
D:\perlex>perl perl_taint_ex.pl
"-T" is on the #! line, it must also be used on the command line 
at perl_taint_ex.pl line 1\. 

D:\perlex>perl -T perl_taint_ex.pl
Can't locate abc.pl in @INC (@INC contains: C:/Perl/site/lib C:/Perl/lib)
 at perl_taint_ex.pl line 3\. 
```

**因此，当污点模式打开时**，您必须明确告诉 require 语句在哪里加载库，因为`.`在污点模式期间从`@INC`数组中删除。

`@INC`包含从中读取库文件和模块的有效路径列表。

如果污点模式打开，您只需执行以下操作：

```
D:\perlex>perl -ID:\perlex -T perl_taint_ex.pl
Done 
```

`-ID:\perlex`将包括目录 `D:\perlex`。`@INC`

您可以尝试其他添加路径的方法`@INC`，这只是一个示例。**

# android - 使我的视图能够接受 xml 中的子视图

> ID：11256877
> 
> 赞同：0
> 
> 时间：2012-06-29T06:09:46.347
> 
> 标签：android, android-layout

我已经编写了自己的视图栏，它扩展了`LinearLayout`. 我的栏有两个用于添加按钮或其他视图的位置。现在我使用代码将项目添加到我的 Bar 中，例如：

`bar.addItemToLeft(view);`或者 `bar.addItemToRight(view);`

**我想让我的 Bar 能够接受 xml 中的子视图，例如`LinearLayout`.**

例如：

```
<com.my.ui.Bar
    android:id="@+id/bar"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content">

        <com.my.ui.BarLeft
               android:layout_width="wrap_content"
           android:layout_height="wrap_content">

               <View/> <View/> <View/>

        </com.my.ui.BarLeft>

         <com.my.ui.BarRight
               android:layout_width="wrap_content"
           android:layout_height="wrap_content">

               <View/> <View/> <View/>

        </com.my.ui.BarLeft>

</com.my.ui.Bar> 
```

有可能做到吗？

PS：

![在此处输入图像描述](../Images/40896d615d377579786a6520fe0fc6a4.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T06:12:27.450

你的 bar 左右 bar 必须扩展一个 ViewGroup (LinearLayout, relativeLayout) 才能接受孩子。

问候， 阿基夫·哈米德

# cassandra - Cassandra 中的最大键空间数是多少？

> ID：11256881
> 
> 赞同：12
> 
> 时间：2012-06-29T06:10:00.330
> 
> 标签：cassandra

Cassandra 集群中允许的最大键空间数是多少？[关于限制](http://wiki.apache.org/cassandra/CassandraLimitations)的维基页面没有提到一个。有这样的限制吗？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-06-29T17:04:55.823

键空间基本上只是 Cassandra 的 Map 条目……您可以拥有尽可能多的内存。几百万，轻而易举。

ColumnFamilies 更昂贵，因为 Cassandra 将为每个 CF 的 memtable 保留至少 1MB：[http ://www.datastax.com/dev/blog/whats-new-in-cassandra-1-0-performance](http://www.datastax.com/dev/blog/whats-new-in-cassandra-1-0-performance)

# ssl - 关于ssl的一些问题

> ID：11256888
> 
> 赞同：1
> 
> 时间：2012-06-29T06:10:34.520
> 
> 标签：ssl, security

我有几个关于 SSL 的问题。

1.  如果有人篡改或更改加密数据会怎样？正在传输的数据可以通过多种方式被篡改，所以虽然加密的数据对篡改者没有任何意义，但如果他只是篡改它会发生什么？我将如何处理这种情况？

2.  如果不支持 SSL 的浏览器请求网页会发生什么？或者访问该网站的客户端实际上是某种恶意软件？

我对 SSL 很陌生，所以也许我的问题很琐碎，但我没有答案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:30:53.713

1.  包括 URL 本身的数据包是加密的。修改字节将使数据包无效。据我所知，服务器不接受它。

2.  如果客户端浏览器不支持您的 SSL 协议，它就无法访问该网站。客户端收到“不安全的请求被拒绝错误”。

SSL 是为了建立一个安全的连接。任何支持该协议的软件（包括恶意软件）都可以启动连接。SSL 协议“只是”加密通信，因此无法在外部检查数据包。因此，无论如何，您的软件本身都需要受到保护以免受任何攻击。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T06:54:10.860

1.  篡改将在到达时被检测到并自动断开连接，可能会导致浏览器用户出现一个对话框。

2.  我不知道有任何浏览器不支持 SSL。这样的事情将毫无用处。

# ios - MPMoviePlayer 和 AVAudioRecorder

> ID：11256900
> 
> 赞同：0
> 
> 时间：2012-06-29T06:11:39.610
> 
> 标签：ios, mpmovieplayercontroller, avaudiorecorder, mpmovieplayer

在 iOS 应用程序中播放视频后，是否有人遇到过 AVAudioRecorder 行为异常的问题？我正在使用 moviePlayerViewController 播放存储的电影文件。在此之后，如果我尝试录制音频，则 AVAudioRecorder 不会录制，也不会给出任何错误消息。录制音频功能在其他方面工作正常。

请帮忙！谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-30T02:05:42.200

您需要在 prepareToRecord 之前创建一个 AudioSession

```
AVAudioSession *audioSession =[AVAudioSession sharedInstance]; 
```

[audioSession setCategory:AVAudioSessionCategoryPlayAndRecord 错误：无]；
[audioSession setActive:YES 错误:nil];

# java - 在这里使用的正确随机算法是什么？

> ID：11256915
> 
> 赞同：1
> 
> 时间：2012-06-29T06:12:58.853
> 
> 标签：java, security, random, bouncycastle, jce

如果我`MD5WithRSAEncryption`用作签名算法，那么对应的随机算法是什么？
我试过`MD5PRNG`了，但我得到了：

> java.security.NoSuchAlgorithmException：找不到 SecureRandom MD5PRNG 实现

此处用于初始化 a 的正确随机算法是 `KeyPairGenerator`什么？
就像`SHA1PRNG`我们使用`SHA256WithRSAEncryption`

我的意思是：`SHA256WithRSAEncryption`is a `key pair algorithm`，而`SHA1PRNG`is a`random generator`由密钥对算法使用。例如`keyPairGenerator.initialize(keySize, secureRandom);`
（`keyPairGenerator`类在哪里`KeyPairGenerator`）
它们是否以某种方式依赖于正确的配对？即我可以将 MD5WithRSAEncryption 与 SHA1PRNG 一起使用吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T07:16:41.027

确定性随机位生成器 (DRBG) 基础的哈希算法（如果有）无关紧要。

DRBG 的输出在统计上是随机的；如果您能够通过检查输出来确定有关位来源的任何信息，则它不适合加密使用。

顺便说一句，RSA签名算法在使用RSA-PSS方案时使用了RNG。旧的 RSA 签名是确定性的（这是一个弱点）。

重要的*是*算法的有效强度。例如，您不想将 SHA-1 与 3072 位 RSA 签名密钥一起使用；散列不如使用该密钥的加密算法强。DRBG 也可以[按其强度进行分类](http://csrc.nist.gov/publications/nistpubs/800-90A/SP800-90A.pdf)。DRBG 的安全强度表明需要多少计算来预测其输出，而无需给出其内部状态。

良好的基于​​散列的 DRBG 的安全强度与底层散列函数的安全强度相同。要找出这一点，请查看[NIST SP 800-57 第 1 部分表 3。](http://csrc.nist.gov/publications/nistpubs/800-57/sp800-57_part1_rev3_general.pdf)为了增强安全性，112 位是最低要求，鼓励使用 128 位或更多。这意味着使用基于 SHA-224 或 SHA-256 的 DRBG，分别具有 2048 位或 3072 位 RSA 密钥。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-09-23T16:06:19.923

SHA1PRNG 的唯一问题是密钥空间由于某种原因限制为 20 个字节。这是完全没有必要的，因为可以对几乎无限量的文本执行散列。我不清楚为什么这个生成器的密钥大小有限制。好消息很容易复制源代码并消除该限制。坏消息是它与标准实现不兼容。

# java - Java 程序的 Windows/Linux 安装程序

> ID：11256916
> 
> 赞同：-1
> 
> 时间：2012-06-29T06:12:59.853
> 
> 标签：java, deployment, installation

我有几个 Java 应用程序。它们都具有外部 jar 依赖项，并且还需要几个 .dll/.so 文件才能运行。我想为这些应用程序构建一个安装程序，只需双击已安装的程序即可正常运行。有什么工具可以做到这一点？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:18:43.480

对于 Windows [**，Izpack**](http://izpack.org/)是一个很好的工具。也可以使用[本机实现](http://www.javalobby.org/articles/izpack/)。

但对于 Linux，最好的方法是使用 .sh 脚本安装它。

## 编辑

这样做的原因是，当您使用 .sh 脚本时，您可以检查是否安装了 java，如果不存在则安装它。据我所知，Izpack 仍然缺少此功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T06:45:14.093

> ..只需双击已安装的程序即可正常运行

这意味着富客户端桌面应用程序。而不是基于命令行的。在这种情况下，最好的部署技术是[Java Web Start](https://stackoverflow.com/tags/java-web-start/info)。

> Java Web Start (JWS) 是**Oracle Corporation**的技术，用于直接从网络或 Internet 链接启动富客户端（Swing、AWT、SWT）桌面应用程序。它为支持 Java 的平台提供“一键式”安装。
> 
> JWS 提供了许多吸引人的功能，包括但不限于启动屏幕、**桌面集成、**文件关联、自动更新（包括延迟下载和更新的编程控制）、按平台、架构或 Java 版本、配置**划分本地和其他资源下载**运行时环境（最低 J2SE 版本、运行时选项、RAM 等），使用扩展轻松管理公共资源。

# android - Android app + 图像存储和检索

> ID：11256917
> 
> 赞同：0
> 
> 时间：2012-06-29T06:13:08.137
> 
> 标签：android, database, image, data-retrieval

我正在设计一个基于餐厅的应用程序，它有很多图像。

请告诉我：

1.  我应该如何将图像保存在数据库中，即以哪种格式保存在应用程序中的检索和显示时间最短？（注意：这个数据库是 MySQL 并且位于外部服务器上）。

2.  我应该如何检索它们，即使用哪种方法（JSON 等）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T06:24:37.340

不要直接从应用程序使用远程数据库服务器连接，这可能会导致性能下降。而是使用 Web 服务作为数据库和应用程序之间的中介。您的应用程序应该调用一个网络服务，该服务将在内部查询您的数据库并返回响应。第一个响应可以是 XML 或 JSON，但我个人建议您从 XML 快速获取 JSON。您的第一个 web 服务响应将只返回您应该异步下载的图像的 url，这样 UI 线程就不会挂起。

# java - java异常：对等方重置连接：套接字写入错误

> ID：11256919
> 
> 赞同：0
> 
> 时间：2012-06-29T06:13:19.330
> 
> 标签：java, socketexception

我正在尝试从另一个类调用一个方法，这意味着我想使用序列化我创建了一个方法名称对象及其参数并将其写入套接字但是当我想创建 ObjectOutputStream 时遇到错误“对等方重置连接: socket write error" 我搜索了可能的原因，但找不到任何合适的答案

在服务器端我没有关闭套接字或者我没有做任何工作来关闭我不知道会发生什么:-??

在行中：

```
ObjectOutputStream oos = (new ObjectOutputStream(os)); 
```

我的一段代码是这样的：

```
InvocationVO invo = new InvocationVO("showStart", treasure, round);

for (int i = 0; i < numPlayer; i++) {
    OutputStream os = socket.get(i).getOutputStream();
    ObjectOutputStream oos = (new ObjectOutputStream(os)); // this has error
    oos.writeObject(invo);

    oos.close();
    os.close();
    Client.getClients()[i].invoke();
} 
```

提前感谢您的帮助！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-29T06:27:18.713

您正在写入已被对等方关闭的连接。我很难相信这没有出现在您的搜索中。问题的原因首先是您正在关闭`oos`，因此在此代码中是套接字，因此（a）它不会第二次运行，并且（b）关闭套接字会导致对等方获得 EOS 条件和关闭套接字，因此 (c) 第二次运行此代码时，您将遇到至少两个问题。

你还没有遇到第三个问题。`ObjectOutputStream`每次运行此代码时都在创建一个新代码，而不是在套接字的整个生命周期中使用相同的代码。无论您在`ObjectInputStream`哪里使用它也是如此。如果你在这里做你正在做的事情，你很可能会遇到`StreamCorruptedException: invalid type code`.

# java - 用flume配置slf4j？

> ID：11256925
> 
> 赞同：1
> 
> 时间：2012-06-29T06:13:41.383
> 
> 标签：java, apache, hadoop, flume

我想将 slf4j 与水槽而不是 log4j 一起使用（水槽默认使用）-你能告诉我，我在哪个文件中进行了更改以配置 slf4j？

# android - 来自 URL 的 setimageBitmap 不适合我想要的大小

> ID：11256931
> 
> 赞同：2
> 
> 时间：2012-06-29T06:15:10.180
> 
> 标签：android, image, url, bitmap, image-size

我正在尝试从 Android 中的 URL 获取图像并将其设置为`ImageView`. 我正在做的是以下内容：

```
image = new ImageView(mContext);
RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(MY_WIDTH, MY_HEIGHT);
params.leftMargin = lefMargin;
params.topMargin = topMargin;
image.setImageBitmap(BitmapFactory.decodeStream((InputStream)new URL(MY_URL).getContent());
relativeLayout.addView(image, params); 
```

但是图像不适合我的尺寸（MY_WIDTH，MY_HEIGHT），它以自己的尺寸显示。该怎么办？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-29T06:28:43.597

你试过这个吗？

```
Bitmap bitmap = BitmapFactory.decodeStream((InputStream)new URL(MY_URL).getContent();
Bitmap bitmapScaled = Bitmap.createScaledBitmap(bitmap, MY_WIDTH, MY_HEIGHT, true);
Drawable drawable = new BitmapDrawable(bitmapScaled);
image.setBackgroundDrawable(drawable); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-29T06:20:01.480

为你的 imageview 添加这一行

```
imageview.setScaleType(ImageView.ScaleType.FIT_XY);
imageview.setAdjustViewBounds(true); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-29T06:26:14.330

这个可以试试，

```
image = new ImageView(mContext);
RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(MY_WIDTH, MY_HEIGHT);
params.leftMargin = lefMargin;
params.topMargin = topMargin;
image.setLayoutParams(params );
image.setImageBitmap(BitmapFactory.decodeStream((InputStream)new URL(MY_URL).getContent());
relativeLayout.addView(image); 
```

# google-fusion-tables - 绘制图表时输入错误 - Google Charts & Fusion Tables

> ID：11256932
> 
> 赞同：0
> 
> 时间：2012-06-29T06:15:14.917
> 
> 标签：google-fusion-tables, google-visualization

我一直在抨击这一点太久了——可能已经到了遗漏一些完全明显的东西的地步。

我正在尝试生成一个条形图，显示该融合表中每个州的公共厕所数量 - [https://www.google.com/fusiontables/DataSource?docid=1Acf5-fZ1fbRrbsCthOSu2q5s0PmMFBVFI8tuCg](https://www.google.com/fusiontables/DataSource?docid=1Acf5-fZ1fbRrbsCthOSu2q5s0PmMFBVFI8tuCg) - 显然没有什么可以轻松计算这对我来说，所以我必须通过查询来完成。

这是我到目前为止的代码......

```
var dataURL = 'http://www.google.com/fusiontables/gvizdata?tq=';
var query = "SELECT state, COUNT() " +
"FROM 1Acf5-fZ1fbRrbsCthOSu2q5s0PmMFBVFI8tuCg GROUP BY state";
var queryText = encodeURIComponent(query);
var gvizQuery = new google.visualization.Query('http://www.google.com/fusiontables/gvizdata?tq='  + queryText);
gvizQuery.send(function(response) {
    if(response.isError()){
        alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
        return;
    }
    data = response.getDataTable();
//This bit below is to see what I'm getting in the data table   
for(i in data){
        document.getElementById('visualization').innerHTML += data[i];
    }
var chart = google.visualization.BarChart(document.getElementById('visualization'));
var options = {
    title: 'Toilets by State',
    vAxis: {title: 'State',  titleTextStyle: {color: 'red'}},
    };
chart.draw(data, options);
}); 
```

当我尝试运行它时，我从 format+en,default,corechart.I.js:824 中得到“TypeError: 'undefined' is not a function (evalating 'thispc')” - 我无法确定。当我将数据表抽出到页面时，我得到了通常的 [object Object] 系列，后面有一大块 Javascript——这对我来说看起来很奇怪。

任何建议 - 或任何人都可以看到的明显错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T03:30:22.500

Fusion Tables 可以为您进行聚合，如下所示： [https ://www.google.com/fusiontables/DataSource?snapid=S568510O6Lf](https://www.google.com/fusiontables/DataSource?snapid=S568510O6Lf)

然后 Visualize > Bar 和“Get embeddable link”：

或者，通过 gviz API（[示例代码](https://developers.google.com/fusiontables/docs/sample_code#gviz)）使用聚合 (GROUP BY) 查询以获得更多控制。

-丽贝卡

# php - 使用日历 API 使用 google-api-php-client 进行谷歌服务帐户身份验证

> ID：11256933
> 
> 赞同：3
> 
> 时间：2012-06-29T06:15:18.237
> 
> 标签：php, google-calendar-api, codeigniter-2, google-api-client

我正在使用 php 5.3.3 和 codeigniter 2.1.0。我想要做的是设置一个服务帐户，因此用户可以在我网站上的文本输入字段中添加约会，然后将该约会添加到共享的共享谷歌日历中。

我有一个谷歌帐户，并使用：[https](https://code.google.com/apis/console) ://code.google.com/apis/console我在服务上创建了一个名为“pqp”的新项目：在 api 访问中启用了日历 api：我创建了一个 oath 2.0 客户端 ID…产品名称 = pqp，应用程序类型 = 服务帐户。

下载了密钥 46…-privatekey.p12。有设置截图：

![预习](../Images/d234a4301612a49214c7224ede005994.png)

我得到了 google-api-php-client (28/6/2012) 的 svn checkout 在 google-api-php-client/src/config.php 我更改了行：

```
25: 'application_name' => 'pqp',
28: 'oauth2_client_id' => '373xxx730.apps.googleusercontent.com',
57: 'ioFileCache_directory'  => 'tmp/apiClient',  // my apache user does not have access to the system /tmp folder.  + tmp/apiClient has permissions of 777 on the server. 
```

使用此链接：

```
http://code.google.com/p/google-api-php-client/source/browse/trunk/examples/prediction/serviceAccount.php?spec=svn445&r=395 
```

我将其修改为：

```
<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');
class Test extends CI_Controller{
    function __construct()
    {
        parent::__construct();
    }
    function index()
    {
        set_include_path(get_include_path() . PATH_SEPARATOR .dirname(__FILE__).'/../libraries/google-api-php-client/src');
        ini_set('error_reporting',E_ALL);
        ini_set('display_errors','1');
        // Set your client id, service account name, and the path to your private key.
        // For more information about obtaining these keys, visit:
        // https://developers.google.com/console/help/#service_accounts
        define('CLIENT_ID','3731xxx44730.apps.googleusercontent.com');
        define('SERVICE_ACCOUNT_NAME','373xxx244730@developer.gserviceaccount.com');
        // Make sure you keep your key.p12 file in a secure location, and isn't
        // readable by others.
        define('KEY_FILE',dirname(__FILE__).'/../../461290xxx796c0b7db9582c-privatekey.p12');

        require_once "apiClient.php";
        require_once "contrib/apiCalendarService.php";

        $client = new apiClient();
        $client->setApplicationName("pqp");     
        // Set your cached access token. Remember to replace $_SESSION with a
        // real database or memcached.
        session_start();
        if (isset($_SESSION['token'])) {
            $client->setAccessToken($_SESSION['token']);
            echo 'client access token is set.<br/>';
        }

        // Load the key in PKCS 12 format (you need to download this from the
        // Google API Console when the service account was created.
        $key = file_get_contents(KEY_FILE);
        $creds = new apiAssertionCredentials(SERVICE_ACCOUNT_NAME,array('https://www.googleapis.com/auth/calendar'),$key);
        $client->setAssertionCredentials($creds);
        $client->setClientId(CLIENT_ID);
        $service = new apiCalendarService($client);
        echo 'client:<br/>';
        var_dump($client);
        echo 'service:<br/>';
        var_dump($service);
        // We're not done yet. Remember to update the cached access token.
        // Remember to replace $_SESSION with a real database or memcached.
        if ($client->getAccessToken()) {
            $_SESSION['token'] = $client->getAccessToken();
            echo 'token is good!, so creating an event....';
            echo $this->insert_event($service,'testing summary','my location','2012-06-29T10:00:00.000+10:00','2012-06-29T10:00:00.000+10:00');
        }
    }

    function insert_event($service,$summary,$location,$from,$to){
        $event = new Event();
        $event->setSummary($summary);
        $event->setLocation($location);
        $start = new EventDateTime();
        $start->setDateTime($from);
        $event->setStart($start);
        $end = new EventDateTime();
        $end->setDateTime($to);
        $event->setEnd($end);
        $attendee1 = new EventAttendee();
        $attendee1->setEmail('test@example.com');
        $attendees = array($attendee1);
        $event->attendees = $attendees;
        $createdEvent = $service->events->insert('primary', $event);
        return $createdEvent->getId();

    }
} 
```

输出的馅饼在[这里](http://pastiebin.com/?page=p&id=4fed410ecb02f)：

$client 对象未通过身份验证，未设置 getAccessToken，并且未插入事件。

我发现很难确定要更改 $config 文件中的哪些设置，因为存在不同的命名法。我想这是代码如何进步的产物。src/config.php 中的设置是否正确？我需要更改更多设置吗？

我的理解是，如果我创建服务帐户，下载密钥文件，以及该文件的内容以及我的开发人员 ID，它应该返回一个令牌，并且不需要设置重定向 uri .. 是否正确? 这是我想要的功能。我不希望用户必须授权访问，因为该网站只会与一个谷歌帐户进行交互。

所以，问题是，我如何让这个日历 api 使用谷歌服务帐户进行身份验证？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-04T22:49:55.853

如果你还没有，你可以试试[这个……](http://code.google.com/p/google-api-php-client/source/browse/trunk/examples/calendar/simple.php)

**编辑：** [这个](https://groups.google.com/forum/#!topic/google-analytics-data-export-api/4uNaJtquxCs)很有趣，但如果你仍然想自己写一个，那么试试[这个](https://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-25#section-1.2)oauth2 的母亲。[有帮助](https://developers.google.com/accounts/docs/OAuth2ServiceAccount#formingclaimset)

关于您使用的 google-api-php-client 的服务帐户（始终使用 SVN 的主干）我在该代码操作中找不到任何参考，`apiAssertionCredentials::generateAssertion()` 肯定没有调用 auth

```
public function __construct(
      $serviceAccountName,
      $scopes,
      $privateKey,
      $privateKeyPassword = 'notasecret',
      $assertionType = 'http://oauth.net/grant_type/jwt/1.0/bearer',
      $prn = false) {
    $this->serviceAccountName = $serviceAccountName;
    $this->scopes = is_string($scopes) ? $scopes : implode(' ', $scopes);
    $this->privateKey = $privateKey;
    $this->privateKeyPassword = $privateKeyPassword;
    $this->assertionType = $assertionType;
    $this->prn = $prn;
} 
```

我猜应该调用这个方法......

```
public function generateAssertion() {
    $now = time();

    $jwtParams = array(
          'aud' => apiOAuth2::OAUTH2_TOKEN_URI,
          'scope' => $this->scopes,
          'iat' => $now,
          'exp' => $now + self::MAX_TOKEN_LIFETIME_SECS,
          'iss' => $this->serviceAccountName,
    );

    if ($this->prn !== false) {
      $jwtParams['prn'] = $this->prn;
    }

    return $this->makeSignedJwt($jwtParams);
} 
```

**编辑：请** 原谅。在新鲜版本。看起来实际上`Google_OAuth2::refreshTokenWithAssertion()`应该由谁开始真正的过程

# command-line - 使用命令行在文件中查找 2 个值 | 命令

> ID：11256934
> 
> 赞同：3
> 
> 时间：2012-06-29T06:15:22.893
> 
> 标签：command-line, batch-file, cmd

下面的代码允许我使用命令行 (CMD) 在我的所有文件中找到“错误”一词。

```
find /c "error" C:\MyFiles\*.txt 
```

但我希望它同时查找“**错误**”和“**警告**”两个词。

所以我想把这两行作为 1 行命令。

```
find /c "error" C:\MyFiles\*.txt
find /c "warning" C:\MyFiles\*.txt 
```

我不想看到 2 个结果集。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-29T11:32:11.597

这应该可以工作（`FINDSTR`在空格处拆分搜索字符串，因此它会查找任一单词）。

```
findstr "error warning" C:\MyFiles\*.txt 
```

与此等效搜索一样：

```
findstr /c:"error" /c:"warning" C:\MyFiles\*.txt 
```

但是，有一个错误：[为什么这个带有多个文字搜索字符串的 FINDSTR 示例找不到匹配项？](https://stackoverflow.com/q/8921253/1012053). 我不确定上述搜索是否符合指定错误何时*可能*影响结果的标准。（我不确定搜索字符串之间是否有足够的重叠。）但安全总比抱歉好。

您可以通过使搜索不区分大小写（不确定是否满足您的要求）来消除错误的可能性：

```
findstr /i "error warning" C:\MyFiles\*.txt 
```

或者您可以将搜索字符串转换为正则表达式。在您的情况下，这很容易实现，因为在您的搜索字符串中没有需要转义的正则表达式元字符。

```
findstr /r "error warning" C:\MyFiles\*.txt 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-29T07:19:07.127

在您的情况下，您可以简单地使用管道来实现*AND*运算符。

```
find /c "error" C:\MyFiles\*.txt | find /c "warning" 
```

**根据您的评论，您需要一个`OR`操作员**

在这种情况下，我会进行搜索`findstr`和计数`find /c`

```
findstr "error warning" C:\MyFiles\*.txt | find /c /v "" 
```

# mongodb - 蒙哥数据库

> ID：11256948
> 
> 赞同：2
> 
> 时间：2012-06-29T06:17:02.753
> 
> 标签：mongodb

在 mongoDB 中找不到我的数据库路径。

我真的需要知道我的数据在我的 Mac OSX 10.7 上的存储位置

当我更改我的 DBpath 时，它一直告诉我 DBpath 没有定义。（我正在使用自制软件）

先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-29T06:55:13.653

默认情况下，mongo 配置存储在以下路径中。

> /etc/mongod.conf

您可以在以下文件中找到 dbpath。默认情况下是：

> /data/db 或 c:\data\db

您可以使用以下命令更改 dbpath

> mongod --dbpath /data/newpath

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T07:02:36.273

您应该能够通过在 mongo JS shell 中运行以下命令来找到使用的 dbpath：

```
db.serverCmdLineOpts() 
```

查找“dbpath”的解析设置。

# jquery - 未呈现 js.erb 中的 Rails options_for_select

> ID：11256949
> 
> 赞同：3
> 
> 时间：2012-06-29T06:17:20.440
> 
> 标签：jquery, ruby-on-rails-3

我有一个包含以下基本内容的 js.erb：

```
$("#currencies").html("<%= options_for_select([['Dollar', '$']])%>"); 
```

并且没有将 html 添加到元素#currencies。

但是，如果我这样做：

```
$("#currencies").html('<option value="$">Dollar</option>'); 
```

正在更新 html。

会发生什么？

出于调试目的，我尝试过这个：

```
alert("<%= options_for_select([['Dollar', '$']]) %>"); 
```

它也没有显示任何东西。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-29T07:21:16.967

您需要使用 <%=j .. %> 转义 javascript

```
<%=j options_for_select .. %> 
```

或者

```
<%= escape_javascript(..) %> 
```

或者

```
$('some_element').replaceWith('<%=j render 'some/element_template' %>'); 
```

来自[api 文档](http://api.rubyonrails.org/classes/ActionView/Helpers/JavaScriptHelper.html#method-i-escape_javascript)

# asp.net - 页面回发后，Obout 下拉菜单不搜索？

> ID：11256957
> 
> 赞同：1
> 
> 时间：2012-06-29T06:17:55.000
> 
> 标签：asp.net, visual-studio-2010, c#-4.0, obout

我在我的 Web 应用程序中使用 OBOUT 控件，因为我需要从下拉数据中搜索，当我键入任何关键字时，它应该从下拉数据中搜索。Obout 工作正常，直到页面回发，但是当页面被回发后，它不会搜索。我在谷歌上搜索但没有找到任何好的解决方案。

# ruby-on-rails - Heroku 调度器的双周任务

> ID：11256963
> 
> 赞同：0
> 
> 时间：2012-06-29T06:18:49.060
> 
> 标签：ruby-on-rails, heroku

我设置了[Heroku Scheduler 插件](https://devcenter.heroku.com/articles/scheduler)，并且遇到了每周运行任务的技巧。但是，我需要一个每隔一周运行一次的任务，但我想不出任何优雅/简单的方法来做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-11T17:34:02.763

如何将其设置为每周在 Heroku 上运行，但在您的实际任务中，第一步是检查该任务是否已在上周运行，如果是则中止。这还涉及每次成功运行任务时存储当前日期。

# c# - 将值分配给单元格时，DataGridView SLOW

> ID：11256967
> 
> 赞同：4
> 
> 时间：2012-06-29T06:19:07.373
> 
> 标签：c#, winforms, datagridview

我似乎无法弄清楚这里发生了什么......我有一个 dataGridView 在任何给定时间不超过 500 行，但通常在 200 或 300 左右。我遍历网格并根据用户交互设置按钮文本和颜色. 例子：

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;

namespace WindowsFormsApplication1
{
    public partial class Form1 : Form
    {
        DataGridViewButtonColumn btn;
        ContextMenuStrip ctxtStartStop;

        public Form1()
        {
            InitializeComponent();

            formatGrid();
            populateGrid();

            ctxtStartStop = new ContextMenuStrip();
            ctxtStartStop.Items.Add("START ALL");
            ctxtStartStop.Items.Add("STOP ALL");
            ctxtStartStop.ItemClicked += new ToolStripItemClickedEventHandler(ctxtMenuStrip_ItemClicked);
        }

        private void formatGrid()
        {
            btn = new DataGridViewButtonColumn();
            btn.Text = "START";
            btn.Name = "colStartStop";
            btn.HeaderText = "Start/Stop";
            btn.DefaultCellStyle.BackColor = Color.LightGreen;
            btn.DefaultCellStyle.ForeColor = Color.Black;
            btn.ReadOnly = false;
            btn.UseColumnTextForButtonValue = false;
            btn.FlatStyle = FlatStyle.Standard;
            btn.AutoSizeMode = DataGridViewAutoSizeColumnMode.AllCells;

            gridDisplay.AutoGenerateColumns = false;
            gridDisplay.AllowUserToAddRows = false;
            gridDisplay.RowHeadersVisible = false;
            gridDisplay.Columns.Add(new DataGridViewTextBoxColumn()
            {
                Name = "colSymbol",
                HeaderText = "Symbols",
                ReadOnly = true,
                AutoSizeMode = DataGridViewAutoSizeColumnMode.Fill,
                MinimumWidth = 50
            });
            gridDisplay.Columns.Add(btn);

            gridDisplay.MouseClick += new MouseEventHandler(gridDisplay_MouseClick);
        }

        private void populateGrid()
        {
            for (int i = 0; i < 500; i++)
            {
                gridDisplay.Rows.Add("XYZ", "START");
            }
        }

        private void gridDisplay_MouseClick(object sender, MouseEventArgs e)
        {
            if (e.Button == System.Windows.Forms.MouseButtons.Left)
                return;

            int rowPosition = gridDisplay.HitTest(e.X, e.Y).RowIndex;
            int colPosition = gridDisplay.HitTest(e.X, e.Y).ColumnIndex;

            if (rowPosition == -1 && colPosition == 1)
            {
                ctxtStartStop.Show(gridDisplay.PointToScreen(e.Location));
            }
        }

        private void ctxtMenuStrip_ItemClicked(object sender, ToolStripItemClickedEventArgs e)
        {
            if (e.ClickedItem.Text == "START ALL")
            {
                ctxtStartStop.Hide();
                startAll();
            }
            else if (e.ClickedItem.Text == "STOP ALL")
            {
                ctxtStartStop.Hide();
                stopAll();
            }
        }

        private void startAll()
        {
            string action = string.Empty;
            int idx = 1;

            for (int i = 0; i < gridDisplay.Rows.Count; i++)
            {
                var btnCell = gridDisplay.Rows[i].Cells[idx];

                action = (string)btnCell.Value;

                if (action == "START")
                {
                    btnCell.Value = "STOP";
                    gridDisplay.Rows[i].Cells["colStartStop"].Style.BackColor = Color.Red;
                    gridDisplay.Rows[i].Cells["colStartStop"].Style.ForeColor = Color.White;
                }
            }
        }

        private void stopAll()
        {
            string action = string.Empty;
            int idx = 1;

            for (int i = 0; i < gridDisplay.Rows.Count; i++)
            {
                var btnCell = gridDisplay.Rows[i].Cells[idx];

                action = (string)btnCell.Value;

                if (action == "STOP")
                {
                    btnCell.Value = "START";
                    gridDisplay.Rows[i].Cells["colStartStop"].Style.BackColor = Color.LightGreen;
                    gridDisplay.Rows[i].Cells["colStartStop"].Style.ForeColor = Color.Black;
                }
            }
        }
    }
} 
```

有趣的是，设置颜色效果很好，但是当我设置值时，它运行得非常慢。

有人可以解释我在这里做错了什么。

谢谢你，-DA

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2015-12-10T15:59:57.067

我也在更改 DataGridView 中的单元格值并遇到缓慢。当我在插入行后每行更改 2 个值时，加载时间是 5-6 倍。

我的问题是以下属性：

```
dgv_mainlist.AutoSizeColumnsMode = DataGridViewAutoSizeColumnsMode.AllCells; 
```

显然，每次更改单元格中的值时，DataGridView 都会重新计算列宽，以确保所有文本都是可见的——正如上面的属性所指定的那样。在我的代码中使用秒表，加载 400 行大约需要 1 秒，每行大约 12 个单元格。

然后我将属性设置为：

```
dgv_mainlist.AutoSizeColumnsMode = DataGridViewAutoSizeColumnsMode.None; 
```

现在我的 DataGridView 需要大约 0.05 秒才能加载。快二十倍！

当然，另一个选项是在插入每一行时输入单元格值，但在我的情况下这是不可能的。

如果您需要像我一样将上述 autosize 属性设置为“AllCells”，您可以在更改值之前将 autosize 设置为“None”，然后在完成后将其设置为“AllCells”。它只增加了我的加载时间 0.1 秒，这比将其设置为“AllCells”的时间要好得多，这给我的加载时间增加了近一秒。

信用转到[此页面](http://www.codeproject.com/Questions/412450/DataGridView-SLOW-when-assigning-value-to-cell)以帮助我找到答案。

添加注释：我的 DataGridView 未绑定到数据源。行是通过代码中的循环插入的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-10-07T02:30:49.010

Set autosize mode to none.

```
paginationGirdView.Columns["colActualTime"].AutoSizeMode = DataGridViewAutoSizeColumnMode.None;

//assign value

row.Cells["colActualTime"].Value = "yesterday";
paginationGirdView.Columns["colActualTime"].AutoSizeMode = DataGridViewAutoSizeColumnMode.AllCells; 
```

This will solve your stated problem.

# javascript - 闪屏消失后如何触发事件

> ID：11256968
> 
> 赞同：0
> 
> 时间：2012-06-29T06:19:13.460
> 
> 标签：javascript, jquery, objective-c, jquery-mobile

我对移动应用程序开发非常陌生。我有一些问题，当我的文档的第一页在初始屏幕消失后立即显示时如何调用 javascript 函数我正在使用下面的代码，但它不起作用。请就此提出建议

```
- (void)viewDidAppear : (BOOL).animated
{
    NSString * JSCallBack = [NSString stringWithFormat:@"myFunction();"];
    [self.webView stringByEvaluatingJavaScriptFromString:JSCallback];
}

function myFunction(){
    // some code here
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T11:40:52.973

在 viewDidLoad() 而不是 viewDidAppear() 中调用 javascript 函数

# ruby-on-rails - CanCan and controllers without models

> ID：11256969
> 
> 赞同：18
> 
> 时间：2012-06-29T06:19:17.880
> 
> 标签：ruby-on-rails, cancan

I'm using CanCan for authorization. I define the model-action-user rules in /app/config/ability.rb and it's working fine. I've added the line `load_and_authorize_resource` to my application_controller, and everything's done.

However, I also have numerous views and controllers that don't have a model underneath. For example, trying to load a statistics page gives

```
NameError (uninitialized constant Statistic):
  activesupport (3.2.3) lib/active_support/inflector/methods.rb:229:in `block in constantize'
  activesupport (3.2.3) lib/active_support/inflector/methods.rb:228:in `each'
  activesupport (3.2.3) lib/active_support/inflector/methods.rb:228:in `constantize'
  ... 
```

Is there some way for CanCan to work with the controller+action instead of model+action?

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-06-29T09:57:19.660

Use `authorize_resource :class => false` in your controller. CanCan will automatically check for abilities on the name of the controller (as a symbol, singular, eg `:statistic` for the `StatisticsController`)

See [https://github.com/ryanb/cancan/wiki/Non-RESTful-Controllers](https://github.com/ryanb/cancan/wiki/Non-RESTful-Controllers)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2019-05-28T17:09:34.733

You can especify the controller within the `ability.rb` file:

# ability.rb:

```
can :read, StatisticsController # ability.rb 
```

# StatisticsController:

```
class StatisticsController < ApplicationController

  def read
    authorize! :read, current_user 
  end
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-10-26T19:59:45.313

None of the other answers worked for me but the following did:

```
can :read, :statistics # ability.rb 
```

Then, in the controller you can either use

```
class StatisticsController < ApplicationController
  authorize_resource class: false
end 
```

which will call `authorize! :<action>, :statistics` for you, or you can do it per action explicitly:

```
class StatisticsController < ApplicationController
  def index
    authorize! :read, :statistics
  end
end 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2018-01-13T13:41:33.647

you can use this gem cancacan "[https://github.com/piedoom/cancancan](https://github.com/piedoom/cancancan)" where the persons is finding update the gem cancan to the version of rails new

# html - RoCanvas：扩展它以添加线条工具问题

> ID：11256975
> 
> 赞同：0
> 
> 时间：2012-06-29T06:19:44.750
> 
> 标签：html, canvas

目前正在尝试扩展RoCanvas（http://re.trotoys.com/article/rocanvas/）的工具集，包括文本工具、图像工具和直线工具。请参阅源代码。

我的线工具有问题。

我知道我走的是正确的路，但是当我拖动它时，这条线一直在重复。我知道我把它放在 .mousemove 下。我不知道如何把它变成一行！有任何想法吗？

[http://imageshack.us/photo/my-images/560/linez.png/](http://imageshack.us/photo/my-images/560/linez.png/)

这是我的线工具代码：

```
 case 'line':

                    var x1= e.pageX- this.offsetLeft ;
                    var y1 = e.pageY - this.offsetTop ;                                             

                    charCanvas['clearRect']=[charCanvas['startX'], charCanvas['startY']];

                    context.beginPath();
                    context.moveTo(charCanvas['startX'], charCanvas['startY']);
                    context.lineTo(x1,y1) ; 
                    context.stroke();
                    context.closePath();    

                break; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T21:16:16.830

Rocanvas 作者在这里。最新的已经有一个免费的线工具，所以你最好的办法是使用它的代码而不是矩形工具的代码来扩展。

# phpmyadmin - 使用外部 IP 配置 WAMP

> ID：11256976
> 
> 赞同：0
> 
> 时间：2012-06-29T06:19:47.660
> 
> 标签：phpmyadmin, wamp

我最近重新安装了 WAMP 并丢失了我的旧配置。我已经查过了，但我没有找到真正的解决方案。我已将端口转发设置为 80，并且我知道我的 IP 地址。但是当我继续它时（该网站有简单的wordpress）它说： Forbidenn You don't have permission to accesses / on this server.

我知道这样做不安全，但我会像这样运行它只是为了在我购买主机之前测试并向一些亲密的朋友和亲戚展示它。那么我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-30T20:05:13.457

花了几个小时谷歌搜索，但我想通了。

必须以正确的方式编辑 wamp 内的 httpd 和 hosts 配置文件。我还必须在 windows/system32/drivers 中添加一个主机。或多或少它现在至少在主页上工作。

# c# - C# winforms：微软报表查看器

> ID：11256979
> 
> 赞同：-3
> 
> 时间：2012-06-29T06:20:10.383
> 
> 标签：c#, .net, winforms, dataset, reportviewer

我想通过自动增量 ID 搜索人员`(textbox and one button)`。我`dataset`用过

`Fill,Getdata --> configure`

SQL 语句：

```
SELECT ID, FirstName, LastName, ContactNo, Address, Date, NameOfJob, OtherJob,
Impression, BackPage, NameOfPage, PaperSize, PrintingSize,
DesignRupees, JobRupees, Matter, BlackPlate, BlackPlateRupees, SinglePlate, 
SinglePlateRupees, MultiPlate, MultiPlateRupees, Platename, 
Lamination, Creasing, Binding, Other, Total, Receive, Due, LastRemaining
FROM bill WHERE  ID=@ID 
```

之后我运行了程序，然后显示 2 个错误：

1.  无法从字符串转换为十进制
2.  `WindowsFormsApplication9.DataSet1TableAdapters.billTableAdapter.Fill(WindowsFormsApplication9.DataSet1.billDataTable, decimal) has some invalid arguments`此行中错误的最佳重载方法匹配

    `this.billTableAdapter.Fill(this.DataSet1.bill, txt_search.Text);`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T06:27:46.607

所以你的错误是：

`cannot convert from string to decimal`

和

`WindowsFormsApplication9.DataSet1TableAdapters.billTableAdapter.Fill(WindowsFormsApplication9.DataSet1.billDataTable, decimal);`

如果您查看您要在该`Fill()`方法中添加的内容：

`this.billTableAdapter.Fill(this.DataSet1.bill, txt_search.Text);`

您的错误告诉您的是它无法将字符串转换为小数。您的填充方法需要一个小数作为它的第二个参数，但您提供的是一个字符串 ( `txt_search.Text`)。

您需要先将字符串转换/解析为小数，然后`.Fill()`使用此值调用您的方法。

看看[`decimal.Parse()`](http://msdn.microsoft.com/en-us/library/system.decimal.parse.aspx)和[`decimal.TryParse()`](http://msdn.microsoft.com/en-us/library/9zbda557)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T06:28:46.607

第二个参数应该是`decimal`，但您传递的`string`值是`txt_search.Text`.

因此，您可以将其转换为十进制：

```
this.billTableAdapter.Fill(this.DataSet1.bill, (decimal)txt_search.Text); 
```

或者

```
this.billTableAdapter.Fill(this.DataSet1.bill, decimal.Parse(txt_search.Text)); 
```

# php - 无法使用绝对目录路径引用样式表

> ID：11256983
> 
> 赞同：1
> 
> 时间：2012-06-29T06:20:56.943
> 
> 标签：php, path, relative-path, absolute-path

我正在尝试使用以下代码链接到外部样式表：

```
<?php
    include("/homepages/9/myusername/htdocs/Mobile_Detect.php");
    $detect = new Mobile_Detect();

    if($detect->isiOS()){
        // code to run for the Apple iOS platform.
        echo '<link rel="stylesheet" type="text/css" href="/homepages/9/myusername/htdocs/style.css" />';
    }
?> 
```

不幸的是，我似乎无法建立到`style.css`. 我已经尝试过这个绝对路径，以及一个普通的路径，它的格式好像是 HTML: `href="/style.css"`、`href="style.css"`、`href="./style.css"`和所有其他可能性。我究竟做错了什么？我怎样才能使这段代码工作？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-29T06:25:05.907

标签的`href`属性由浏览器处理。`style`浏览器显然无权访问您的服务器文件系统路径`/homepages/9/whatever`（更甚者，它会尝试加载`http://yoursite/homepages/9/whatever`）。

`href`使用浏览器能够加载的内容（例如`http://yoursite/media/style.css`）更改属性的值。

# html - 单选按钮背景图片

> ID：11256992
> 
> 赞同：11
> 
> 时间：2012-06-29T06:22:10.757
> 
> 标签：html, css

我已经为单选按钮提供了 bg 图像。它在 chrome 中工作，但在 Mozilla 中没有。

这是我的代码

```
 <div class="fieldlist">
    <label for="shipadd2">
    <input type="radio" id="shipadd2" name="address" />   
    <div class="compacttext"> Lorem ipsum </div>
    </label>
  </div> 
```

CSS是

```
.fieldlist input[type="radio"] {
    float: right;
    -webkit-appearance: none;
    border: none;
    width: 25px;
    height: 25px;
    background: url(images/radio.png) left center no-repeat;    
    background-size: 20px; 
}
.fieldlist input[type="radio"]:checked {
    background: url(images/radio_checked.png) left center no-repeat;

} 
```

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-06-29T06:30:46.057

像这样写：

**CSS：**

```
input[type="radio"]{
    display:none;
}

input[type="radio"] + label
{
    background: #999;
    height: 16px;
    width: 16px;
    display:inline-block;
    padding: 0 0 0 0px;
}

input[type="radio"]:checked + label
{
    background: #0080FF;
    height: 16px;
    width: 16px;
    display:inline-block;
    padding: 0 0 0 0px;
} 
```

**HTML**

```
<input type="radio" id="shipadd2" name="address" />
<label for="shipadd2"></label> 
```

阅读这篇文章了解更多[http://css-tricks.com/the-checkbox-hack/](http://css-tricks.com/the-checkbox-hack/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T07:18:14.913

你想要这样的东西吗[http://jsfiddle.net/surendraVsingh/UmpdH/5/](http://jsfiddle.net/surendraVsingh/UmpdH/5/) （点击铃铛图标）

**CSS**

```
label{
    display:block;
    background: url(https://dl.dropbox.com/u/19982181/fab/notify.png) no-repeat;   
}
.fieldlist input[type="radio"] {
    float: right;
    border: none;
    opacity:0;
    width: 25px;
    height: 25px;
    display:block; 
    float:left;
    border:1px solid #333;
    background-size: 20px; 
} 
```

**查询：**

```
$("#shipadd2").click(function(){
    if($(this).is(":checked")){
       $(this).parent().css('background-position', '0 -29px');
   }
   else{
      $(this).parent().css('background-position', '0 0');   
   }

});​ 
```

​</p>

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2018-10-27T09:29:10.287

试试这个它对我有用

```
-moz-appearance: none;
```

谢谢

# infinite-loop - 所有无限循环都不好吗？

> ID：11256993
> 
> 赞同：5
> 
> 时间：2012-06-29T06:22:10.907
> 
> 标签：infinite-loop

出于好奇，**所有**无限循环都不好吗？

*   如果运行无限循环会发生什么不良影响和后果？
*   另外，如果它们不都是坏的，你能否举一些例子，它们什么时候会起到有意义的作用？
*   他们是否需要一些东西来关闭实例？例如，我们总是在 Java 中使用 StreamReader 后关闭它（不知道为什么）。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-29T06:25:01.503

我不确定你所说的“坏”是什么意思。

无限循环在许多场景中很常见，主要是事件处理程序循环，其中程序位于无限循环中并等待一些外部事件发生，该事件被处理并返回等待。这是 GUI 和许多服务器的编程方式。

*更新* 它们足以证明[某些语言](https://doc.rust-lang.org/book/loops.html)中的无限循环构造的合理性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T06:34:14.837

*   如果您正确编写程序，则不会因为循环而发生副作用。
*   在微控制器上，无限循环用于永远不会到达程序的末尾。在微控制器程序结束时，大多数时候没有操作系统可以接管。然后到达状态，没有定义的行为存在并且程序可以做任何事情。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-07-29T07:54:11.287

不，它们还不错，它们实际上很有用。

这取决于您是否留下了在无限循环进行时占用内存的代码部分。无限循环几乎用于所有事物：视频游戏、网络、机器学习等，因为无限循环通常用于获取瞬时用户输入/事件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-29T06:35:37.650

以一个简单的服务器为例，监听连接

*   监听请求
*   获取请求，为该请求生成线程
*   冲洗并重复

这种情况很常见，你在事件处理中经常看到。

消极的

*   程序永远不会终止，除非你手动杀死它（也是积极的，视情况而定）

*他们是否需要一些东西来关闭实例？*

*   不，你没有，正如前面提到的，你可以手动杀死它，但你可以实现一个输入命令行来接受一个 kill 命令以优雅地结束

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-29T06:47:32.527

您有时会听到短语*killer loop*，指的是行为不良的循环（无限或其他）。通常保留用于无意中消耗大量 CPU 时间、内存或两者兼有的循环。所有的杀手循环都是坏的。

根据您的糖尿病状况，Froot Loops 也可以成为杀手循环。

莫比乌斯带是很好的无限循环。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-14T00:39:45.220

术语“无限循环”最常用于程序中的循环，如果没有可以终止它的外部动作，它不会终止。在大多数情况下，使用“中断键”向操作系统发送中断信号将证明它毕竟不是无限循环。通常，电涌或停电也会发生同样的情况。在某些带有某些操作系统的平台上，可能会出现其他中断信号并停止进程。

因此，伪无限循环对于您不想终止的进程很有用，除非受到一些“外部”影响。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-07-29T08:07:06.077

在实时程序中，无限循环是正常的。看看 Arduino IDE - 唯一公开的两个函数是 setup() 和 loop()。假定除非断电，否则 loop() 将永远不会退出。

# memory-leaks - 应用程序将日志显示为收到内存警告并在 uiscrollview 中更快地滚动图像时崩溃？

> ID：11256997
> 
> 赞同：-1
> 
> 时间：2012-06-29T06:22:31.020
> 
> 标签：memory-leaks, crash

在我的应用程序中，我需要在 uiscrollview 中加载“n”个图像以进行水平滚动（向前和向后）。滚动图像有两种方式。第一个是，从数据库中获取所有图像并添加到 uiscrollview 中。另一种方法是，从数据库中获取每个图像的每个滚动相对于前进和后退动作。我跟着第二种方式。我的问题是，该应用程序仅在 ipad 中崩溃，同时更快地向前和向后滚动图像，它将日志显示为“收到内存警告”。我正确释放了每个分配的对象。即使我检查了泄漏本身，也没有泄漏..有什么问题？为什么它只发生在ipad？提前致谢。

谢谢，韦斯利

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T06:28:01.953

当应用程序收到内存警告时，iOS 会自动删除一些加载的资源，如图像、视图等。它可能会以某种方式导致崩溃。您不应该在滚动视图中一次加载所有图像。您应该根据滚动视图上图像的索引动态加载图像。并在索引更改时释放图像。或者您一次只能在内存中加载 3/4 个图像，这样用户在滚动时不会遇到任何加载时间。当用户滚动时加载/释放背景中的图像。

# wix - 使用 WIX 创建安装到预定义位置的安装程序

> ID：11256999
> 
> 赞同：1
> 
> 时间：2012-06-29T06:22:37.760
> 
> 标签：wix, wix3.5

我正在尝试使用 WIX 创建一个（希望如此）简单的安装程序，但似乎我无能为力。我一生都无法弄清楚如何指定预定义的路径来安装我的文件。安装程序需要做的是：

1.  安装 4 种字体
2.  将二进制文件和 .ini 文件安装（复制）到预定义路径（“C:\dvimport”）
3.  在桌面上创建上一个二进制文件的快捷方式
4.  运行安装程序附带（希望捆绑在内部）提供的二进制安装程序。

另外，在旁注中；用户**不**应该能够更改预定义的路径，因为如果没有安装在正确的路径上，应用程序将无法运行。

目前我所拥有的是这个（主要是预定义的）：

```
<?xml version="1.0" encoding="UTF-8"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
  <Product Id="660d9ab6-dbd9-4440-b56b-8f1c29d9ab86" Name="FDVweb hjelpefiler" Language="1033" Version="1.0.0.0" Manufacturer="CuroTech" UpgradeCode="4283b7c8-0057-4dcc-bfc5-7c06a12cba90">
    <Package InstallerVersion="200" Compressed="yes" Keywords="Installer" Description="FDVweb hjelpefiler installasjons-program" />

    <Media Id="1" Cabinet="media1.cab" EmbedCab="yes" />

    <Binary Id="BarCodeDriver" SourceFile="barcode_install.exe" />
    <CustomAction Id="InstallBarCodeDriver" BinaryKey="BarCodeDriver" ExeCommand="" Execute="deferred" Return="check" HideTarget="no" Impersonate="no" />

    <Directory Id="TARGETDIR" Name="SourceDir">
      <Directory Id="ProgramFilesFolder">
        <Directory Id="INSTALLLOCATION" Name="FDVweb">
          <!-- TODO: Remove the comments around this Component element and the ComponentRef below in order to add resources to this installer. -->
          <!-- <Component Id="ProductComponent" Guid="55a9465e-2350-48bc-9786-22a036ea7304"> -->
            <!-- TODO: Insert files, registry keys, and other resources here. -->
          <!-- </Component> -->
        </Directory>
      </Directory>

    </Directory>

    <DirectoryRef Id="FontsFolder">
      <Component Id="C128_100" Guid="72E7E1D2-DEE7-4E0B-939F-5460AD432BEF">
        <File Id="C128_100.tff" Source="fonts\C128_100.tff" TrueType="yes" />
      </Component>
      <Component Id="C128_200" Guid="230EE8B3-06F9-4D88-AFF5-3D26AF0741AD">
        <File Id="C128_200.tff" Source="fonts\C128_200.tff" TrueType="yes" />
      </Component>
      <Component Id="C128_300" Guid="3DC98EE5-B969-453E-B4E9-5D5BC1416F24">
        <File Id="C128_300.tff" Source="fonts\C128_300.tff" TrueType="yes" />
      </Component>
      <Component Id="C128_400" Guid="8CFCAFBE-C7B8-46F1-9C6D-ACF2D881BAEE">
        <File Id="C128_400.tff" Source="fonts\C128_400.tff" TrueType="yes" />
      </Component>
    </DirectoryRef>

    <Feature Id="Complete" Title="FDVwebInstall" Level="1">
      <!-- TODO: Remove the comments around this ComponentRef element and the Component above in order to add resources to this installer. -->
      <!-- <ComponentRef Id="ProductComponent" /> -->
      <ComponentRef Id="C128_100" />
      <ComponentRef Id="C128_200" />
      <ComponentRef Id="C128_300" />
      <ComponentRef Id="C128_400" />

      <!-- Note: The following ComponentGroupRef is required to pull in generated authoring from project references. -->
      <ComponentGroupRef Id="Product.Generated" />
    </Feature>
  </Product>
</Wix> 
```

我不需要一个明确的答案，一个解释如何实现我想要的资源的链接将有很长的路要走。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T08:45:13.723

我找到了解决我的问题的方法。
答案是使用 Directory `WINDOWSVOLUME`。

这是 WIX-xml 中的解决方案：

```
 <Directory Id="TARGETDIR" Name="SourceDir">
      <Directory Id="WINDOWSVOLUME">
        <Directory Id="DvWebImp" Name="dvimport">
          <Component Id="DataReadApp" Guid="YOURGUID-4423-9C81-29937C31DF8A">
            <File Id="Data_Read.exe" Source="Data_Read.exe" />
            <File Id="Data_Read.ini" Source="Data_Read.ini" />
          </Component>
        </Directory>
      </Directory>
    </Directory> 
```