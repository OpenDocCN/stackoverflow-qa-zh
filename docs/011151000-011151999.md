# StackOverflow 问答 11151000-11151999

# python - 有没有办法使用可读性和 python 来提取文本，而不是 HTML？

> ID：11151000
> 
> 赞同：6
> 
> 时间：2012-06-22T06:15:32.570
> 
> 标签：python, readability, text-extraction, html-content-extraction

我需要在服务器端在运行时从随机网页中提取纯文本。我使用 Google App Engine 和 Readability python 端口。其中有很多。

1.  [gfxmonk](https://github.com/gfxmonk/python-readability)的早期版本，基于 BeautifulSoup
2.  [minvolai](http://www.minvolai.com/blog/decruft-arc90s-readability-in-python/)基于 gfxmonk 的版本，除了使用 lxml 而不是 BeautifulSoap，使其（根据 minvolai，参见项目页面）更快，尽管引入了对 lxml 的依赖。
3.  [Yuri Baburov 又名 Buriy 的版本](https://github.com/buriy/python-readability)。与 minvolai 相同，取决​​于 lxml。还取决于[chardet](https://github.com/dcramer/chardet.git) 来检测编码。

我使用 Yuri 的版本，因为它是最新的，并且似乎正在积极开发中。我设法使用 Python 2.7 让它在 Google App Engine 上运行。现在的“问题”是它返回 HTML，而我需要纯文本。

[这篇关于链接提取的 Stackoverflow 文章](https://stackoverflow.com/questions/4589323/is-there-a-way-to-use-readability-text-extraction-algorithm-and-a-custom-algor)中的建议是使用 BeatifulSoup。如果没有其他选择，我会的。BeatifulSoup 将是另一个依赖项，因为我使用基于 lxml 的版本。

我的问题：

*   有没有办法从我使用的 Python 可读性版本中获取纯文本，而无需分叉代码？
*   有没有一种方法可以轻松地从 Python 可读性的 HTML 结果中检索纯文本，例如使用 lxml、BeatifulSoap、RegEx 或其他东西
*   如果上面的答案是否定的，或者是但不容易，那么修改 Python 可读性的方法是什么。这种修改是否足以（对足够多的人）使这种扩展正式化？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T06:21:35.237

您可以使用 html2text。这是一个漂亮的工具。

这是一个关于如何将它与 python 可读性工具一起使用的链接——它们一起被称为 read2text。

> [http://brettterpstra.com/scripting-readability-markdownify-for-clipping-web-pages/](http://brettterpstra.com/scripting-readability-markdownify-for-clipping-web-pages/)

希望这可以帮助 ：）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-28T06:17:39.630

不要让它流连忘返，我目前的解决方案

1.  我没有找到使用可读性端口的方法。
2.  我决定使用 Beautiful Soup，第 4 版
3.  BS 有一个简单的功能来提取文本

代码：

```
from bs4 import BeautifulSoup 
soup = BeautifulSoup(html) 
text =  soup.get_text() 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-06-04T18:13:15.697

首先，您提取具有可读性的 HTML 内容，

html_snippet = 文档(html).summary()

然后，使用库来删除 HTML 标记。有一些注意事项：1）您可能需要空格，“ `<p>some text<br>other text`”不应该是“ `some textother text`”，并且您可能需要将列表转换为“ `-`”。2) " `#&39;`" 应该显示为 " `'`"，并且 " `&gt;`" 应该显示为 " `>`" -- 这称为 HTML 实体替换（见下文）。

我通常使用一个叫做漂白的库来清除不必要的标签和属性：

```
cleaned_text = bleach.clean(html_snippet, tags=[]) 
```

或者

```
cleaned_text = bleach.clean(html_snippet, tags=['i', 'b']) 
```

如果您想删除所有标签并获得更好的文本格式，您需要使用任何类型的 html2text 库，或者您可以自己实现自定义格式程序。

但我想你现在明白了。

对于使用漂白的简单文本格式：例如，如果您希望段落为“ `\n`”，并将项目列为“ `\n -`”，则：

```
norm_html = bleach.clean(html_snippet, tags=['p', 'br', 'li'])
replaced_html = norm_html.replace('<p>', '\n').replace('</p>', '\n')
replaced_html = replaced_html.replace('<br>', '\n').replace('<li>', '\n - ')
cleaned_text = bleach.clean(replaced_html, tags=[]) 
```

对于只去除 HTML 标签并进行实体替换的正则表达式（“ `&gt;`”应该是“ `>`”等等），您可以查看[https://stackoverflow.com/a/7778368/217895](https://stackoverflow.com/a/7778368/217895)

# liferay - 如何使用 Liferay 中的 portlet 名称获取 portlet ID？

> ID：11151001
> 
> 赞同：10
> 
> 时间：2012-06-22T06:15:35.543
> 
> 标签：liferay, liferay-6, portlet

我需要使用 portlet 名称获取资源权限。

我将使用 portlet 的名称而不是 ID。

Portlet 的资源权限名称是该 Portlet 的 ID。我检查了 Portlet 表，它只有 ID 和其他信息。portlet 的其他属性将保存在哪里？

有没有办法通过使用 portlet 的名称来获取 portlet 的 ID。我有一个办法来获取所有的 portlet 并进行比较，但是如果我可以使用 portlet 的名称直接获取 portlet 的 ID，那将会很有帮助。

紧急，如果有人知道请回复，这将有很大帮助。

提前致谢

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-23T08:47:52.243

如果您仔细查看如何根据 Portlet Name 生成 Portlet Id，您会得到答案。

这是一个被遵循的恒定模式，因此如果您有名称，您可以像 liferay 那样构建 Portlet Id。Liferay 还借助 portlet 名称构建 ID。

portlet-id 的模式：`<portletname in xml>_WAR_<servlet context name i.e. the war file without any special characters such as the hyphen>`

例如：如果您的 portlet 名称是在 中`MyWork`定义的，`portlet.xml`并且文件夹中生成的`webapps`文件（如果您使用的是 tomcat）是，`MyWork-portlet`那么生成的 Id 将是`MyWork_WAR_MyWorkportlet`.

现在如果你有 liferay 源代码，你可以看看[`PortletLocalServiceImpl`](http://www.jarvana.com/jarvana/view/com/liferay/portal/portal-impl/6.1.0/portal-impl-6.1.0-sources.jar!/com/liferay/portal/service/impl/PortletLocalServiceImpl.java?format=ok)'s`private _readPortletXML`方法。

**编辑：**
如果您想在特定页面（给定`friendly-url`页面）上找到 portlet，那么您可能会发现这个[答案](https://stackoverflow.com/a/11827416/468763)很有帮助。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-07-08T13:43:18.347

你可以试试这个：

```
System.out.println("ID : " + themeDisplay.getPortletDisplay().getId());

System.out.println("InstanceID: " + themeDisplay.getPortletDisplay().getInstanceId());

System.out.println("Portlet Name: " + themeDisplay.getPortletDisplay().getPortletName()); 
```

不要忘记：

```
<% ThemeDisplay themeDisplay = (ThemeDisplay) request.getAttribute(WebKeys.THEME_DISPLAY);
    themeDisplay.getUser().getScreenName(); %> 
```

# java - 在保留部分名称的同时批量重命名文件？

> ID：11151002
> 
> 赞同：0
> 
> 时间：2012-06-22T06:15:39.693
> 
> 标签：java

就像标题一样，我想批量重命名文件，但保留文件名的前 4 个字符。

尝试修改此开源[批处理文件重命名工具](http://code.google.com/p/batchfilerenametool/)以供个人使用。有什么建议么？

我添加了重命名文件的代码。它说`filename = filename + generatedSequence;`很确定那是我需要添加它的地方，但是什么会指定文件名的前 4 个字符？

```
//this is affected by the RenameOption, if Rename has something then only we RENAME
if(cbxRename.isSelected() == true){
   fileName = Rename + generatedSequence;   //the fileName will change.
}
else {
   //if Rename has nothing, but the txtSequence has some Value, we take it to the naming too
   fileName = fileName + generatedSequence;
} 
```

下面是代码的重命名部分。

```
private void renameFile(){

        boolean operationResult = false;
        boolean overallResult = true;
        int failCount = 0;

        /* the operation of this part is ensured by the chooseDirectory()
         * WE get the list of files in the directory
         * get the conditions set by users
         * and perform the file rename operation.
         */

        //Let's get all the information from user
        String[] fileList = directory.list();  //the list of files in the directory
        String Prefix = txtPrefix.getText();
        String Rename = txtRename.getText();
        String Suffix = txtSuffix.getText();
        String digits = (String) cboSequence.getSelectedItem();
        int StartingNum;
        String generatedSequence;
        File oldFile;

        //let's call the output frame
        if(cbxOutput.isSelected() && OUTPUT_ON == false){
            buildOutput();
            OUTPUT_ON = true;
        }

        //display the list of files and readability of each file
        for(int i = 0; i < fileList.length; i++){   
            oldFile = new File(directory.getPath()+"/"+ fileList[i]);
            String readability = fileList[i] +" - readable?: "+oldFile.canRead();
            System.out.println(readability);

            if(OUTPUT_ON)
                txaOutput.append("\n"+readability);
        }

        for(int i = 0; i < fileList.length; i++){

            /* get the file extension that we need, and form a new name, 
             * we would check if the Ignore File Extension is selected
             */
            oldFile = new File(directory.getPath()+"/"+ fileList[i]);

            String fileExtension;

            if(cbxIgnoreExtension.isSelected() == true ){
                fileExtension = "";
            }
            else
                fileExtension = getFileExtension(fileList[i]);

            //this part get the original filename       
            String fileName = getFileName(fileList[i]);

            String inputInfo = "The input filename->"+ fileList[i] + "\nfile name->" + fileName + "\nextension->" + fileExtension;   
            System.out.println(inputInfo);

            if(OUTPUT_ON)
                txaOutput.append("\n"+inputInfo);

            /* generate sequence for the Name
             *if the digits selection is NONE, we ignore it
             */
            if(digits.equals("None") == true){
                generatedSequence = "";
            }
            else{
                StartingNum = Integer.parseInt(txtSequence.getText());
                generatedSequence = nameSequence(StartingNum + i, digits);
            }

            //this is affected by the RenameOption, if Rename has something then only we RENAME
            if(cbxRename.isSelected() == true){
                fileName = Rename + generatedSequence;   //the fileName will change.
            }
            else{
                //if Rename has nothing, but the txtSequence has some Value, we take it to the naming too
                fileName = fileName + generatedSequence;
            }

            //the New File Name
            String newFileName = Prefix + fileName + Suffix + fileExtension;
            String tentativeName = "new Filename will be ->"+newFileName+"\n";
            System.out.println(tentativeName);

            if(OUTPUT_ON)
                txaOutput.append("\n"+tentativeName);

            // ! Perform the file rename, if the Experimental Mode is not selected
            if(cbxExperiment.isSelected() == false){

                operationResult = oldFile.renameTo(new File(directory.getPath()+"/"+newFileName));
                String renameResult = "\t*Rename successfully?: " + operationResult+"\n\n";
                System.out.println(renameResult);
                    if(operationResult == false)
                        failCount++;

                    if(OUTPUT_ON)
                        txaOutput.append("\n"+renameResult);

                //make up the overall result
                overallResult = (operationResult && overallResult);
            }

        }

        if(cbxExperiment.isSelected() == false){
            System.out.println("Overall Result: "+overallResult);
            if(overallResult)
                JOptionPane.showMessageDialog(null, "All files renamed successfully!");
            else
                JOptionPane.showMessageDialog(null, "File renamed with "+ failCount+ " failure(s)");
        }//end if

    }//end renameFile 
```

# gwt - 如何禁用 GXT DualListField 的“全部添加”按钮

> ID：11151003
> 
> 赞同：0
> 
> 时间：2012-06-22T06:15:50.083
> 
> 标签：gwt, gxt

我在我的项目中使用 GXT 2.2.1 和 GWT 2.0.4，我想禁用 DualListField 中的“全部添加”按钮。请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-23T02:59:40.383

我没有找到禁用“全部添加”的 API。您可以扩展 DualListField 并禁用 allRight 按钮。

```
public class CustomDualListField<D extends ModelData> extends DualListField<D> {
      @Override
      protected void onRender(Element target, int index) {
         super.onRender(target, index);
         allRight.disable();

        //buttonBar.remove(allRight);
        //buttonBar.remove(allLeft);
      }
} 
```

在这里，我看到即使按钮被禁用，它看起来也不像被禁用。您可以考虑将其完全删除。

我已经在 GXT 2.2.5 和 GWT 2.4 中尝试过这个。只需检查它是否适用于 GXT 2.2.1

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-05-15T10:38:00.807

您也可以只隐藏按钮。另外，我尝试在 中赋予属性`visible`，`false`但这也不起作用。但是，隐藏按钮横空出世。

```
public class CustomDualListField<D extends ModelData> extends DualListField<D> {
      @Override
      protected void onRender(Element target, int index) {
         super.onRender(target, index);
        //allRight.disable();

        //buttonBar.remove(allRight);
        //buttonBar.remove(allLeft);

        //allRight.setEnabled(false); // but not disabled
        //allLeft.setEnabled(false); // but not disabled

        allRight.setVisible(false); // just hide
        allLeft.setVisible(false); // just hide
      }
} 
```

# blogs - ModX：在一页上显示多个页面？

> ID：11151006
> 
> 赞同：0
> 
> 时间：2012-06-22T06:16:23.050
> 
> 标签：blogs, modx

我有一个 ModX 网站，我想知道是否可以在一个页面上显示多个页面（包括它们的模板和电视）？有点像博客？

如果有人可以帮助我，那就太好了！

坦克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T06:48:33.393

您正在寻找的是像[getResources](http://rtfm.modx.com/display/ADDON/getResources)这样的插件。

它会让你遍历一个资源列表，如下所示：

```
[[!getResources? &parents=`[[*id]]` &tpl=`myRowTpl`]] 
```

&parents 是您要列出的项目的父资源，&tpl 是要呈现的模板。

如果您正在展示电视，请不要忘记使用

```
&includeTVs=`1` &processTVs=`1` 
```

在 modx 文档上有大量信息。

# user-interface - 如何向 wxListBox 项添加额外数据

> ID：11151008
> 
> 赞同：0
> 
> 时间：2012-06-22T06:16:30.870
> 
> 标签：user-interface, wxpython, listboxitems

如何向 wxListBox 项添加额外数据。我正在创建一个照片查看应用程序，用户双击图像的文件路径以打开图像。当用户双击列表框中的项目时，函数执行 listbox1.GetStringSelection() 以使用当前选定的文件打开 StaticBitmap 图像时。但这会显示整个文件路径，看起来很难看，那么如何将其更改为仅显示文件名？如何为每个列表框项添加额外数据？

les\Windows Sidebar\Gadgets\Weather.Gadget\images\120DPI(120DPI)alertIcon.png

C:\Program Files\Windows Sidebar\Gadgets\Weather.Gadget\images\120DPI(120DPI)grayStateIcon.png

C:\Program Files\Windows Sidebar\Gadgets\Weather.Gadget\images\120DPI(120DPI)greenStateIcon.png

C:\Program Files\Windows Sidebar\Gadgets\Weather.Gadget\images\120DPI(120DPI)notConnectedStateIcon.png

C:\Program Files\Windows Sidebar\Gadgets\Weather.Gadget\images\144DPI(144DPI)alertIcon.png

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T13:37:55.790

[不久前我在我的博客](http://www.blog.pythonlibrary.org/2010/12/16/wxpython-storing-object-in-combobox-or-listbox-widgets/)上写过这个。你应该检查一下。基本上，您只需将列表中的每个项目附加到列表框，并添加一些额外的数据作为第二个参数。在我的示例中，我添加了一个对象实例。这是我的博客文章中的代码：

```
import wx

########################################################################
class Car:
    """"""

    #----------------------------------------------------------------------
    def __init__(self, id, model, make, year):
        """Constructor"""
        self.id = id
        self.model = model
        self.make = make
        self.year = year       

########################################################################
class MyForm(wx.Frame):

    #----------------------------------------------------------------------
    def __init__(self):
        wx.Frame.__init__(self, None, wx.ID_ANY, "Tutorial")

        # Add a panel so it looks the correct on all platforms
        panel = wx.Panel(self, wx.ID_ANY)

        ford = Car(0, "Ford", "F-150", "2008")
        chevy = Car(1, "Chevrolet", "Camaro", "2010")
        nissan = Car(2, "Nissan", "370Z", "2005")

        sampleList = []
        lb = wx.ListBox(panel,
                        size=wx.DefaultSize,
                        choices=sampleList)
        self.lb = lb
        lb.Append(ford.make, ford)
        lb.Append(chevy.make, chevy)
        lb.Append(nissan.make, nissan)
        lb.Bind(wx.EVT_LISTBOX, self.onSelect)

        sizer = wx.BoxSizer(wx.VERTICAL)
        sizer.Add(lb, 0, wx.ALL, 5)
        panel.SetSizer(sizer)

    #----------------------------------------------------------------------
    def onSelect(self, event):
        """"""
        print "You selected: " + self.lb.GetStringSelection()
        obj = self.lb.GetClientData(self.lb.GetSelection())
        text = """
        The object's attributes are:
        %s  %s    %s  %s

        """ % (obj.id, obj.make, obj.model, obj.year)
        print text

# Run the program
if __name__ == "__main__":
    app = wx.App(False)
    frame = MyForm()
    frame.Show()
    app.MainLoop() 
```

# java - ubuntu / unity的焦点问题

> ID：11151012
> 
> 赞同：3
> 
> 时间：2012-06-22T06:16:47.160
> 
> 标签：java, linux, swing, ubuntu

我正在尝试使用 Swing 中的快捷键更改窗口/框架的焦点。问题是，当焦点更改时，具有焦点的窗口不会移动到顶部，它会获得焦点但留在后面未聚焦的窗口`Frame.requestFocus();`。我用 . 获得焦点。还有其他方法可以用来聚焦吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T06:22:29.473

尝试使用`Frame.toFront();`

Java 文档参考：[toFront](http://docs.oracle.com/javase/7/docs/api/java/awt/Window.html#toFront%28%29)

# objective-c - 从 ios 中的邮件应用程序功能集成 Open in... 后数据库无法正常工作

> ID：11151013
> 
> 赞同：0
> 
> 时间：2012-06-22T06:17:04.493
> 
> 标签：objective-c, ios, database

我正在使用数据库来存储登录凭据。一旦用户登录到我的应用程序，我将验证凭据并存储在数据库中。当用户第二次打开应用程序时，我正在从数据库中检索凭据并要求用户继续使用相同的凭据。一旦用户切换用户，我将删除数据库中的凭据并添加新凭据。这个过程对我来说很好。

我在我的应用程序中集成了“打开方式...”（邮件应用程序）功能。当用户从邮件应用程序中打开我的应用程序中的文档时，数据库无法正常工作。意味着我无法添加新凭据或删除相同的凭据。谁能告诉我问题是什么以及如何解决。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T11:10:40.847

请让我分析一下你的

```
- (BOOL)application:openURL:sourceApplication:annotation: 
```

和

```
- (BOOL)application:didFinishLaunchingWithOptions: 
```

这样我就可以轻松找出实际问题所在。我认为您正在从`- (BOOL)application:didFinishLaunchingWithOptions:`.

# scala - Tuple2._2 用作 map.apply 中的键

> ID：11151015
> 
> 赞同：3
> 
> 时间：2012-06-22T06:17:16.053
> 
> 标签：scala, implicit-conversion

在 Scala v2.9.2（和 2.8.0）中，这个脚本：

```
case class MyString(s: String)
implicit def stringToMyString(s: String) = MyString(s)
implicit val defaults: Map[String, MyString] = Map("abc" -> MyString("123"))

case class HasDefaults(name: String = "none", 
    baseMap: Map[String, MyString] = Map.empty) {
  def add(kvp: (String, MyString)*)(implicit defaults: Map[String, MyString]) =
    this.copy(baseMap = this.baseMap ++ defaults ++ kvp)
}

val hasDefaults = HasDefaults() add (
  "def" -> "124",
  "xyz" -> MyString("999")
)

println(hasDefaults) 
```

失败：

```
java.util.NoSuchElementException: key not found: 124
    at scala.collection.MapLike$class.default(MapLike.scala:224)
    at scala.collection.immutable.Map$Map1.default(Map.scala:106)
    at scala.collection.MapLike$class.apply(MapLike.scala:135)
    at scala.collection.immutable.Map$Map1.apply(Map.scala:106)
    at Main$$anon$1.<init>(HasDefaults.scala:12) 
```

它试图将字符串值`"124"`用作映射查找中的键，即使它被定义为值（由于位于运算符的右侧`->`）。

`MyString`请注意，如果不尝试隐式转换为，则此错误会消失。例如：

```
val hasDefaults = HasDefaults().add(
  "def" -> MyString("124"),
  "xyz" -> MyString("999")
) 
```

注意＃2，如果显式提供隐式参数，错误也会消失。例如：

```
val hasDefaults = HasDefaults().add(
  "def" -> "124",
  "xyz" -> MyString("999")
)(Map("abc" -> MyString("123"))) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-22T06:29:12.090

在 Scala 中，`Map`是一个函数。( `Map[A, B] <: PartialFunction[A, B] <: A => B`.) 所以`defaults`就像从`String`to的隐式转换一样`MyString`。由于`defaults`不包含`"124"`，因此您会收到“未找到密钥”错误。

# ios - 我应该使用哪个文件夹来保存应用拍摄的用户照片

> ID：11151016
> 
> 赞同：0
> 
> 时间：2012-06-22T06:17:21.003
> 
> 标签：ios, storage, photo

我正在开发照片应用程序，但由于 iOS 数据存储指南，我的应用程序被拒绝了两次。

我不知道保存用户内容的确切文件夹（在这种情况下，我的应用程序拍摄的用户照片）。我想“/Documents”可能是答案，但我没有信心。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T06:56:34.867

您可以将图像保存在应用程序文件夹中，也可以保存图像的路径。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T07:47:30.230

您可以创建自己的文档子目录，即 Documents/Photos。您可以通过启用 iTunes 访问文档文件夹并检查它们是否被写入正确的位置来检查它们是否保存到正确的位置。

# xml - 无法获取某些 xml 元素 使用 xslt 阻止？

> ID：11151021
> 
> 赞同：0
> 
> 时间：2012-06-22T06:17:59.567
> 
> 标签：xml, xslt, xpath, xslt-2.0

我在块中获得了我需要的 xml 元素。但同时，我也放置了块来捕获其他 xml 元素。但这对我不起作用......

**这是 XML 文档**

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<w:document xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main">
<w:body>
    <w:p>
        <w:pPr>
        </w:pPr>
        <w:r>
            <w:t>Text1-</w:t>
        </w:r>  
    </w:p>

    <w:p>
        <w:pPr>
            <w:pStyle w:val="Heading1" /> 
        </w:pPr>
        <w:r>
            <w:t>Text2-</w:t>
        </w:r>  
    </w:p>

    <w:p>
        <w:pPr>
        </w:pPr>
        <w:r>
            <w:t>Text3-</w:t>
        </w:r>  
    </w:p>

    <w:p>
        <w:pPr>
        </w:pPr>
        <w:r>
            <w:t>Text4-</w:t>
        </w:r>  
    </w:p>

    <w:p>
        <w:pPr>
            <w:pStyle w:val="Heading1" /> 
        </w:pPr>
        <w:r>
            <w:t>Text5-</w:t>
        </w:r>  
    </w:p>

</w:body>
</w:document> 
```

**这是 XSLT 文件**

```
<xsl:stylesheet version="1.0"
 xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
 xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main"
 exclude-result-prefixes="w">
  <xsl:output method="xml" indent="yes"/>

  <xsl:template match="/">
    <Document>

      <xsl:variable name="headingName" select="(//w:body/w:p/w:pPr/w:pStyle[starts-with(@w:val, 'Heading')])[1]/@w:val"/>
      <xsl:variable name="topLevelHeadings" select = "//w:body/w:p[w:pPr/w:pStyle/@w:val = $headingName]"/>

      <xsl:choose>

        <xsl:when test="$topLevelHeadings">
          <Heading>
          <xsl:apply-templates select="$topLevelHeadings">
          </xsl:apply-templates>
          </Heading>
        </xsl:when>

        <xsl:otherwise>
             <xsl:apply-templates select="w:p">
             </xsl:apply-templates>
        </xsl:otherwise>

      </xsl:choose>   

    </Document>
  </xsl:template>  

  <xsl:template match="w:p">
    <Paragraph>
      <xsl:apply-templates />
    </Paragraph>
  </xsl:template>

  <xsl:template match="w:r/w:t">
    <xsl:value-of select="." />
  </xsl:template>

</xsl:stylesheet> 
```

**我生成的输出是：**

```
<Document>
  <Heading>
  <Paragraph>Text2-</Paragraph> 
  <Paragraph>Text5-</Paragraph> 
  </Heading>
</Document> 
```

**但我需要的输出是：**

```
<Document>
      <Paragraph>Text1-</Paragraph> 
      <Heading>
           <Paragraph>Text2-</Paragraph> 
      </Heading>
      <Paragraph>Text3-</Paragraph> 
      <Paragraph>Text4-</Paragraph> 
      <Heading>
           <Paragraph>Text5-</Paragraph> 
      </Heading>
</Document> 
```

我想，**我对 Block 有一些问题**。所以，请指导我摆脱这个问题......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T06:36:19.573

您的**xsl:choose**问题在于它只使用一次，并且仅检查是否至少有一个带有标题的**w:p**元素。因此，您只会得到一个**标题**元素输出。为了你**xsl:choose**工作，你真的需要在**w:p**模板中使用它

```
<xsl:template match="w:p">
   <xsl:choose>
      <xsl:when test="w:pPr/w:pStyle[starts-with(@w:val, 'Heading')]">
         <Heading>
            <Paragraph>
               <xsl:apply-templates/>
            </Paragraph>
         </Heading>
      </xsl:when>
      <xsl:otherwise>
         <Paragraph>
            <xsl:apply-templates/>
         </Paragraph>
      </xsl:otherwise>
   </xsl:choose>
</xsl:template> 
```

但是，您在这里并不需要**xsl:choose**。您可能只需要一个特定的模板来匹配具有匹配**w:pPr**元素的**w:p元素就可以逃脱**

 **```
<xsl:template match="w:p[w:pPr/w:pStyle[starts-with(@w:val, 'Heading')]]"> 
```

然后，您可以在此模板中输出**标题**元素。然后，您将有一个单独的模板来匹配所有其他**w:p**元素以输出段落，如果您给它一个名称，您也可以从以前的模板中调用它来共享代码

```
<xsl:template match="w:p" name="para"> 
```

这是完整的 XSLT

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main" exclude-result-prefixes="w">
   <xsl:output method="xml" indent="yes"/>

   <xsl:template match="/">
      <Document>
         <xsl:apply-templates/>
      </Document>
   </xsl:template>

   <xsl:template match="w:p[w:pPr/w:pStyle[starts-with(@w:val, 'Heading')]]">
      <Heading>
         <xsl:call-template name="para"/>
      </Heading>
   </xsl:template>

   <xsl:template match="w:p" name="para">
      <Paragraph>
         <xsl:apply-templates/>
      </Paragraph>
   </xsl:template>

   <xsl:template match="w:r/w:t">
      <xsl:value-of select="."/>
   </xsl:template>
</xsl:stylesheet> 
```

当应用于您的输入 XML 时，将输出以下内容

```
<Document>
   <Paragraph>Text1-</Paragraph>
   <Heading>
      <Paragraph>Text2-</Paragraph>
   </Heading>
   <Paragraph>Text3-</Paragraph>
   <Paragraph>Text4-</Paragraph>
   <Heading>
      <Paragraph>Text5-</Paragraph>
   </Heading>
</Document> 
```

实际上，最终的模板`<xsl:template match="w:r/w:t">`并不是必需的，因为当 XSLT 匹配一个没有特定模板的元素时，它的默认行为是无论如何都输出文本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T09:05:24.083

作为错误的一个非常简单的说明，您的 xsl:otherwise 块确实`<xsl:apply-templates select="w:p">`. 当时的上下文节点是根节点（/），所以这是处理作为根节点子节点的 w:p 元素，并且没有这样的元素，所以它什么也不做。

您在这里处理一些非常复杂的 XML，而 XSLT 方面的经验很少。首先解决一些更简单的问题可能会更好 - 花一些时间阅读 XSLT 教科书或教程，然后研究示例。**

# c# - 如果发生超时，重复 for 循环

> ID：11151026
> 
> 赞同：0
> 
> 时间：2012-06-22T06:18:33.183
> 
> 标签：c#, loops, watin

我正在使用 Watin 自动从网站下载文件。如果网络服务器在特定时间没有响应，有时会发生超时错误。我想知道超时发生的索引以及该索引重复for循环。

例如：

```
for (int index = 0; index < ros.Count; index++)
{
    //download document
    FileDownloadHandler down = new FileDownloadHandler(dir+nume+"_"+ro+".pdf");
    using (new UseDialogOnce(browser.DialogWatcher, down))
    {
        down.WaitUntilFileDownloadDialogIsHandled(100);
        down.WaitUntilDownloadCompleted(100);
    }
} 
```

当超时发生时，我想知道 for 循环中的索引，我想重试下载处理程序。可能吗 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T06:26:36.890

超时很可能引发异常。您应该弄清楚究竟是哪个异常被抛出，然后您可以在循环中捕获它：

```
for (int index = 0; index < ros.Count; index++) 
{ 
    //download document
    try 
    { 
        FileDownloadHandler down = new FileDownloadHandler(dir+nume+"_"+ro+".pdf"); 
        using (new UseDialogOnce(browser.DialogWatcher, down)) 
        { 
            down.WaitUntilFileDownloadDialogIsHandled(100); 
            down.WaitUntilDownloadCompleted(100); 
        }
    } 
    catch(Exception e) 
    {
        // TODO: Handle timeout. The value of index will tell you when the timeout occured
    } 
} 
```

# java - 如何使用执行的 Qry 结果集执行查询 while 循环？

> ID：11151030
> 
> 赞同：1
> 
> 时间：2012-06-22T06:18:49.313
> 
> 标签：java, sql, database, oracle

如何使用前面的 Execute 查询结果 While 循环执行 Query。

```
Resultset rs = con.excuteQuery(Query1.toString);
While(rs.next()){
  Resultset rs1 = con.excuteQuery(Query2.toString);
  while(rs1.next()){
  }
} 
```

一旦执行了第二个查询，则无法执行前一个 rs。例如：如果执行第二个查询，那么第一个查询有 2 条记录，那么第一个 Qry 没有获取第二个记录。

请尽快给出解决方案。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:10:10.887

大概在你的例子`con`中是一个陈述；[javadocs](http://docs.oracle.com/javase/6/docs/api/java/sql/Statement.html)状态：

> 默认情况下，每个 Statement 对象只能同时打开一个 ResultSet 对象。因此，如果一个 ResultSet 对象的读取与另一个 ResultSet 对象的读取交错，则每个对象都必须由不同的 Statement 对象生成。Statement 接口中的所有执行方法都会隐式关闭语句的当前 ResultSet 对象（如果存在打开的对象）。

所以你需要两个单独的语句。

**编辑：**我同意@ABCade 和[之前的答案](https://stackoverflow.com/a/935565/266304)，但你应该在集合中思考并让数据库进行连接，这样你就有了一个结果集。如果您当前正在使用第一个结果集中的数据进行工作，您只需要跟踪您以前是否看过该数据，例如通过跟踪一个或多个列的最后一个值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T09:33:37.177

正如评论中提到的，如果您的两个查询是相关的，那么您应该使用内部连接将它们合并为一个。否则，您的选择取决于数据库和/或驱动程序。

1）使用两个不同的连接来执行你的查询

或者：

2) [如果您的驱动程序允许] 使用两个 PreparedStatement 而不是直接在连接上执行查询。

我建议您养成使用准备好的语句的习惯，除非您有充分的理由不这样做。与直接通过连接执行查询相比，它们具有各种好处。

# c# - 如何测量两个不同的代码

> ID：11151033
> 
> 赞同：0
> 
> 时间：2012-06-22T06:18:54.157
> 
> 标签：c#

我如何比较`.equals("")`和`.IsNullOrEmpty`？我想知道两者哪个更快。我听说过使用刻度，但还不熟悉如何编码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T06:22:03.850

您可以使用[`StopWatch`](http://msdn.microsoft.com/en-us/library/system.diagnostics.stopwatch.aspx)该类来测量代码的执行时间。启动秒表，运行几千次迭代，停止它并查看经过的时间。对其他实现执行相同的操作。还要确保你尝试了一些边缘情况，比如比较`null`或空字符串，甚至是很长的字符串。只是比较`"foo"`十几次`""`并不能证明什么。

请注意，答案很可能与您的问题完全无关。你的时间最好花在改进代码的其他部分上。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T06:22:12.963

isNullOrEmpty 可能更快，因为它是特殊用途。然而，正如其他评论过的人指出的那样，这是一个非常微不足道的优化。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-22T06:24:10.557

使用`StopWatch`方式如下：

```
// Create new stopwatch
Stopwatch stopwatch = new Stopwatch();

// Begin timing
stopwatch.Start();

// Do something here

// Stop timing
stopwatch.Stop(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-22T07:46:02.110

正如其他人所说，这是过早的优化，可能不值得您花时间。但是，为了回答，你可以这样做：

```
using System;
using System.Diagnostics;

namespace ConsoleApplication1 {   
    class Program {   
        static void Main(string[] args) {
            int COUNT = 1000000000;
            String str = "Something";

            Stopwatch sw = Stopwatch.StartNew();
            sw.Start();
            for (int i = 0; i < COUNT; i++) {
                if (str.Equals("")) {
                }
            }
            Console.WriteLine(sw.ElapsedTicks);

            sw = Stopwatch.StartNew();
            sw.Start();
            for (int i = 0; i < COUNT; i++) {
                if (String.IsNullOrEmpty(str)) {
                }
            }
            Console.WriteLine(sw.ElapsedTicks);

            Console.ReadLine();
        }
    }
} 
```

输出是给我的：

```
21426768  // Equals("")
12365410  // IsNullOrEmpty() <-- faster 
```

请不要那样做`str.Equals("")`，`String.IsNullOrEmpty(str)`不会给你同样的结果。显然，第一个将引发 NullReferenceException `str`is null。

# iphone - 在 iOS 应用程序中为视图转换实现单个类？

> ID：11151035
> 
> 赞同：1
> 
> 时间：2012-06-22T06:19:16.393
> 
> 标签：iphone, ios, design-patterns, architecture

我想为我当前的项目遵循 MVC，其中`UIViewController`将有 7-8 个子类。有 30 多个类（`NSObject`子类）用于维护数据和服务器连接。大多数情况下，服务器连接管理器类将向子类发送本地通知以`UIViewController`进行视图转换。我想以集中的方式实现它。来自单一班级的意义。

我想做的是，实现一个处理我所有`UIViewController`转换的类。

关于如何实现这个的任何想法？？？

注意：我不知道遵循这种方法的利弊。即使我不知道这是否可行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T06:39:18.703

我想我知道你的意思。我最好的选择是一个单例，它将接收两个`UIViewController`s 引用，然后在两者之间应用动画。这样，您将拥有一个集中的地方，您可以在其中制作动画。可能更完整的解决方案是接收两个`UIViewControllers`和两个块，一个用于动画块，另一个用于完成块。

# jquery - 为什么 jQuery 的 position() 和 offset() 方法在 Chrome 中返回小数？

> ID：11151039
> 
> 赞同：9
> 
> 时间：2012-06-22T06:19:35.020
> 
> 标签：jquery, css, google-chrome

我有简单的 div 标签，绝对位于 HTML 文档中。在 Chrome 中，我将其“右”CSS 规则设置为以像素为单位的固定值，并将其“左”规则设置为“自动”，然后立即使用 jquery 的*position()*方法确定其左位置，返回的值是这种：**122.6363525390625**。*offset()*方法也是如此。

另一方面，Firefox 没有这个问题。

你能告诉我为什么会发生这种情况以及是否有办法防止它发生吗？提前致谢！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-23T11:58:37.283

因为当您使用百分比宽度时，这就是数学的结果。想象一下，你有这样的布局：

```
<div style="width: 111px">
    <div style="width: 50%"></div>
</div> 
```

内部元素的宽度计算为 55.5 像素，而不是自然数。根据确切的 CSS 属性，这可以很容易地计算出更多的小数位。

Chrome[使用亚像素渲染](https://trac.webkit.org/wiki/LayoutUnit)，所以这就是你看到这种行为的原因。

最后：我不知道为什么这会给你带来问题，但当然如果你想四舍五入到一个自然数，你可以使用`Math.round(x)`.

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2012-06-23T10:50:10.190

在 Chrome 中，值被截断，因此 120、120.5 和 120.6 都显示相同的宽度，因此您无需担心使用十进制值。没有什么比 0.5 像素更好的了。像素是整个单位。如果您确实遇到函数返回十进制值的问题，那么为什么不使用 parseInt 呢？你不应该把这件事留给浏览器来处理，否则你的页面可能会损坏。

# android - 如何检查用户是否在 Google Play 中评价了我们的应用程序？

> ID：11151044
> 
> 赞同：3
> 
> 时间：2012-06-22T06:20:19.310
> 
> 标签：android, google-play

我想知道是否有办法检查当前用户/设备是否使用 Android Java 代码或任何其他技巧（即 Web 服务或 API）在 Google Play 中对我们的应用程序进行评分。

还有一件事，我可以在应用程序代码中评价我们的应用程序吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T06:22:06.973

不，你不能这样做。这也是一件好事——否则你将能够通过给予评价它的人奖励等来影响评价。

# sql - 如何在 SQL Server 中的 case 语句中使用多个值

> ID：11151046
> 
> 赞同：0
> 
> 时间：2012-06-22T06:20:28.620
> 
> 标签：sql, sql-server-2008

考虑以下

```
Declare @t table(Val int, name varchar(100))
Insert into @t select 1,'name1' 
union all select 1,'name2' 
union all select 2,'name3'
union all select 3,'name4' 
```

如果我想获得与 Val 1 或 2 有关的记录，则选择是 IN 子句。但是我们有一些条件，需要根据这些条件选择值。此后，我们将继续采用 CASE 方法，如下所示

```
declare @type int  = 1
select *
from @t 
where val  = case when @type =1 then 1  end or
      val  = case when @type =1 then 2
             end 
```

它可以作为**select * from @t where val in (1,2)**正常工作（我们不能使用它，因为必须在运行时确定值，并且我们没有使用任何动态查询）。有没有其他方法可以模拟 IN 子句？

这只是为了知识。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T06:43:47.540

假设您的代码将单个值作为参数，但该值与值列表相关，您可以只使用映射表...

```
CREATE PROCEDURE pseudo_in_clause (@type INT)
AS

DECLARE @map TABLE (
  type  INT,
  val   INT,
  PRIMARY KEY (type, val)
)

INSERT INTO @map (type, val) VALUES (1, 1),
                                    (1, 2),
                                    (2, 3)

SELECT
  *
FROM
  yourTable      AS data
INNER JOIN
  @map           AS map
    ON data.val = map.val
WHERE
  map.type = @type 
```

映射可以是永久表、临时表（如上）、函数等。

或者，您仍然可以在 CASE 语句中使用 IN 子句...

```
SELECT
  *
FROM
  yourTable      AS data
WHERE
  CASE WHEN @type = 1 AND data.val IN (1,2) THEN 1
       WHEN @type = 2 AND data.val IN (3,4) THEN 1
                                            ELSE 0
  END = 1 
```

我个人更喜欢这个`JOIN`版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T11:32:00.510

你*必须*使用`CASE`吗？这也应该有效：

```
…
WHERE @type = 1 AND data.val IN (1, 2)
   OR @type = … AND data.val IN (…)
   OR … 
```

尽管我必须说我最喜欢[@Dems 关于使用连接的建议](https://stackoverflow.com/a/11151327/297408)。请注意，您可以使用内联表而不是表变量，从而使整个事情成为单个查询：

```
SELECT *
FROM yourTable AS data
  INNER JOIN (
    VALUES
      (1, 1),
      (1, 2),
      (2, 3)
  ) AS map ON data.val = map.val
WHERE map.type = @type 
```

# jquery-ui - 如何使用jquery在单击按钮时获得像气球一样的工具提示

> ID：11151047
> 
> 赞同：0
> 
> 时间：2012-06-22T06:20:48.323
> 
> 标签：jquery-ui

我对 jquery 很陌生。我需要在双击一个单词时拿出一个气球。（就像谷歌词典一样）。谁能帮我 ..

等待正面回应。

提前致谢， Sruthi.R

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T12:18:30.937

jQuery 有一个`dblclick`事件，你可以监听并采取行动。例如：

```
<p>Hello World</p>
<script>
    $(function() {
        $('p').on('dblclick', function() {
            //Show the tooltip here.
        });
    });
</script> 
```

这是一个活生生的例子 - [http://jsfiddle.net/5Xj7A/](http://jsfiddle.net/5Xj7A/)

jQuery UI 官方工具提示插件在 1.9 中尚未发布，但是有大量的 jQuery 工具提示插件可以根据您的需要来实现实际的工具提示。这里有一个很大的列表 - [http://www.1stwebdesigner.com/css/stylish-jquery-tooltip-plugins-webdesign/](http://www.1stwebdesigner.com/css/stylish-jquery-tooltip-plugins-webdesign/)。

# java - 使用java删除给定url的文件

> ID：11151048
> 
> 赞同：1
> 
> 时间：2012-06-22T06:20:51.563
> 
> 标签：java

```
 URL urlImage = new URL(candidateImagePath);
    BufferedImage image = ImageIO.read(urlImage);
    String imageName = urlImage.getFile().split("/")[3];

    String pathImage = messageSource.getMessage("consultant.image", null,   Locale.ENGLISH)+messageSource.getMessage("system.slash", null, Locale.ENGLISH)+candidateid;
    File fileDir = new File(pathImage); 
    fileDir.mkdirs();
    ImageIO.write(image, "jpg" ,new File(pathImage+messageSource.getMessage("system.slash", null, Locale.ENGLISH)+imageName)); 
```

我正在尝试将 iphone 人上传的图像上传到临时 url 。我读取图像并将其写入我想要的位置，即“pathImage”。到这里一切正常。

我想删除 url 中的临时文件。

我想知道在java中给出url时如何删除图像。请对此提供帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T06:27:42.223

您需要在目标 URL 上编写一个包装器，它只会删除作为查询字符串传递的文件，例如

```
http://your_temp_url/deleteimage?file=your_temp_file_name 
```

在`deleteimage`你会这样编码

```
 private void deletefile(String file)
  {
     File f1 = new File(file);
     boolean success = f1.delete();
     if (!success){
     out.println("Deletion failed.");
     }else{
     out.println("File deleted.");
  } 
```

这只是删除位于远程计算机上的图像的一种方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-11-09T09:49:10.587

> 新文件(url.toURI()).delete();

应该做的伎俩。

例子：

```
URL url=getClass().getResource("/someresources/resourceFile.txt");
File f=new File(url.toURI());
f.delete(); 
```

# mysql - 无法增加 innodb_buffer_pool_size 值

> ID：11151053
> 
> 赞同：1
> 
> 时间：2012-06-22T06:21:22.503
> 
> 标签：mysql, database, performance, innodb, ini

我的查询：SHOW STATUS like '%innodb%';

MY data: Innodb_buffer_pool_pages_data,411 Innodb_buffer_pool_pages_dirty,0 Innodb_buffer_pool_pages_flushed,0 Innodb_buffer_pool_pages_free,65125 Innodb_buffer_pool_pages_misc,0 Innodb_buffer_pool_pages_total,65536 Innodb_buffer_pool_read_ahead,0 Innodb_buffer_pool_read_ahead_evicted,0 Innodb_buffer_pool_read_requests,2709 Innodb_buffer_pool_reads,412 Innodb_buffer_pool_wait_free,0 Innodb_buffer_pool_write_requests,0 Innodb_data_fsyncs,3 Innodb_data_pending_fsyncs,0 Innodb_data_pending_reads,0 Innodb_data_pending_writes, 0 Innodb_data_read,8933376 Innodb_data_reads,422 Innodb_data_writes,3 Innodb_data_written,1536... 我的服务器：OS Windows 7、16 GB Ram、Intel R xeon R 处理器

我的问题是当我尝试增加 innodb_buffer_pool_size 值时，我得到 mysql 错误 1067 .. 我可以将此值增加到 1G，目前为 512M。如果我试图将此值增加到 1G 以上，我将面临 1067 mysql 错误并且它停止了我的 mysql 服务。我认为我们可以将这个值增加到 80% 的 ram 内存。有人可以帮助我为什么会遇到这个问题吗？因为我需要这样做来提高我的数据库性能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:16:36.357

有一个[已知错误](http://forums.innodb.com/read.php?3,315,325#msg-325)可能会影响您。

避免与 0 模 2^32 一致的值。这是一个有效的示例设置，即使您受到影响：

```
innodb_buffer_pool_size=8191M 
```

而这个没有：

```
innodb_buffer_pool_size=8192M 
```

# android - 如何使小部件根据屏幕大小调整大小？

> ID：11151055
> 
> 赞同：0
> 
> 时间：2012-06-22T06:21:31.583
> 
> 标签：android

我正在设计一个应用程序，并且我在表格布局中显示了几个按钮。我有两台设备可以测试应用程序。一个是三星 Galaxy Tab 1，另一个是三星 Galaxy Ace。我在 android manifest 文件中使用了以下内容来允许调整大小。

```
<supports-screens 
android:resizeable="true" 
android:smallScreens="true" 
android:normalScreens="true" 
android:xlargeScreens="true" 
android:anyDensity="true" /> 
```

所有的按钮也有

```
android:layout_weight="1". 
```

这允许他们占用显示器上额外的可用空白空间。这在标签上工作正常，但在手机上一些按钮会换行。即“按钮”一词显示在 2 行上。我希望按钮自行调整大小，以便在任何显示器上都没有按钮按高度包装。有人可以告诉我如何实现这一目标吗？哦，该应用程序是为 android 2.3.3 开发的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T06:38:23.380

有两种实现方式：

(1) 将大小合适的图片放入xhdpi、hdpi、mdpi、ldpi文件夹。设备将根据其分辨率自动从这些文件夹中获取图像。

(2) 您还可以动态检测设备的分辨率，然后相应地设置布局，如下所示：

```
 DisplayMetrics displayMetrics = new DisplayMetrics();
    getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);
    switch(displayMetrics.densityDpi){ 
        case DisplayMetrics.DENSITY_LOW: 
            // layout for small devices.
            break; 
        case DisplayMetrics.DENSITY_MEDIUM: 
            // layout for medium devices.
            break; 
        case DisplayMetrics.DENSITY_HIGH: 
            // layout for bigger devices.
            break; 
    } 
```

# c# - 将网页另存为图像

> ID：11151059
> 
> 赞同：2
> 
> 时间：2012-06-22T06:21:35.040
> 
> 标签：c#

我必须通过传递页面 URL 将网页另存为图像，我在这个线程上找到了一个解决方案[从 ASP.NET](https://stackoverflow.com/questions/2715385/convert-webpage-to-image-from-asp-net) [^] 将网页转换为图像，但它没有给我正确的图像（例如尝试 URL [http://www.bugmuncher.com/](http://www.bugmuncher.com/)）。

还尝试[了 HTML to Image in C#](http://www.codeproject.com/Articles/58605/HTML-to-Image-in-C) [^] 但无法处理 IViewObject 接口，基本上无法添加引用来获取此接口。

我必须做一些类似[http://www.usersnap.com](http://www.usersnap.com)的事情。我通过使用 IE8 不支持的 canvas 元素使它在 FF、Chrome 和 IE9 上工作。

我可以获得适合我需要的工作解决方案吗？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T06:34:40.343

我想你的意思是截图。这是一个关于它的链接。

[捕获活动窗口的屏幕截图？](https://stackoverflow.com/questions/1163761/c-sharp-capture-screenshot-of-active-window)

但在这里我在网站上找到了**你想要**的。请检查一下。

[从 ASP.NET 将网页转换为图像](https://stackoverflow.com/questions/2715385/convert-webpage-to-image-from-asp-net)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T06:35:32.027

网页可以通过2种方法保存为图像。1\. 按 ctrl+p 2\. 在打印提示窗口中选择“发送到 onenote”。3\. 按确定。现在可以从 microsoft office -> microsoft onenotebook 保存图像，然后右键单击您的内容。保存为图像文件。第二种方法是通过截图工具使用快照。

# perl - perl 中的隐式转换

> ID：11151062
> 
> 赞同：5
> 
> 时间：2012-06-22T06:22:03.247
> 
> 标签：perl, implicit-conversion, weak-typing

我是 Perl 新手，谁能帮我解释一下以下脚本：

```
#!/usr/bin/env perl
use strict;
use warnings;
sub f1($) { my ($v) = @_; print "f1 $v\n"; }
sub f2(@) { my ($v) = @_; print "f2 $v\n"; }
my $s = "ww";
my @a = ("xx", "yy", "zz");
f1 $s; f1 @a; f2 $s; f2 @a; 
```

我电脑的输出是：

```
f1 ww
f1 3
f2 ww
f2 xx     # why!! 
```

谁能解释为什么第四个输出是xx？我认为应该是zz，因为当数组转换为标量时，它应该是数组的最后一个元素。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T06:33:10.320

不，使用如下声明：

```
my ($v, $foo, $bar) = @_; 
```

`$v`将分配`@_`数组中的第一个值，`$foo`第二个，依此类推。这是因为括号强加了一个列表上下文。任何多余的值都将被忽略，除非您的变量之一是一个数组，在这种情况下，它将吞噬所有剩余的值。

```
my ($v, @foo, $bar) = @_;   # wrong! $bar will never get any value 
```

`$v`将获得第一个值，`@foo`其余的。`$bar`将是未定义的。

您可能正在考虑使用列表进行分配：

```
my $v = qw(a b c); 
```

但这是错误的，并且会导致错误：

```
Useless use of a constant (a) in void context at -e line 1.
Useless use of a constant (b) in void context at -e line 1. 
```

这是因为 LHS 使用标量上下文，它将（或多或少）类似于：

```
'a';
'b';
my $v = 'c'; 
```

您可能会注意到，如果我们通过`$v`在括号内添加列表上下文，我们会得到不同的结果：

```
my ($v) = qw(a b c);  # $v is now 'a' 
```

**ETA：关于原型：**

在`f1`中，您看到的是数组被强制进入标量上下文，因为子例程需要一个标量参数。这就是为什么`f1`使用数组打印`3`（大小）。当原型查找一个数组时，该数组保留在默认列表上下文中，并且按照正常方式完成分配（如上所述）。

作为一个额外的说明：原型有一个非常具体的用途，使子程序在参数处理方面表现得更像某些内置函数。比如`sort { code here }`或`push @array, $foo`。

*如果这不是您所追求的，您应该一起跳过原型并简单地编写*：

```
sub f1 {
...
} 
```

文档[在这里](http://perldoc.perl.org/perlsub.html#Prototypes)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T06:43:37.727

Perl 数组在上下文方面有 2 种不同的风格：
标量上下文：

```
my $a = @tab; # get the array length
```

数组上下文：

```
my @newTab = @tab; # newTab is a copy of tab
```

可以这样改写：

```
# 3 scalars in an array context (see parens) gets the contents of the tab
my ($a,$b,$c) = @tab; 
```

在这里，由于@tab 可以比标量的数量更宽，因此这些标量从选项卡的开头（而不是结尾）填充。所以你的代码：

```
my ($a) = @tab;
```

将回显选项卡的第一个元素

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T07:35:53.847

*   数组不能转换为标量。但是，可以在标量上下文中评估数组。

*   在标量上下文中计算的数组不返回数组的最后一个元素。如您所见`f1`，它返回数组中元素的数量。

    ```
    $ perl -E'my @a = qw( xx yy zz ); say @a; say scalar(@a);'
    xxyyzz
    3 
    ```

*   两个数组都没有在标量上下文中进行评估。*参数列表*表达式在列表上下文中计算。

    ```
    f(@a); 
    ```

    是相同的

    ```
    f($a[0], $a[1], $a[2]); 
    ```

    在列表上下文中评估的*列表分配*的 RHS 。

    ```
    my ($v) = @_; 
    ```

    是相同的

    ```
    my ($v) = ($_[0], $_[1], $_[2]); 
    ```

    这与

    ```
    my ($v, undef, undef) = ($_[0], $_[1], $_[2]); 
    ```

# java - 如何配置杰克逊不序列化字节数组？

> ID：11151072
> 
> 赞同：0
> 
> 时间：2012-06-22T06:22:39.263
> 
> 标签：java, serialization, bytearray, jackson, binary-data

我有一个类似 JSON 的对象，它也有一些二进制值。我不希望对 binary( `byte[]`) 数据进行序列化。

我试图为`byte[]`. 但它没有成功。

尝试1：

```
 public class ByteArraySerialiser extends SerializerBase<Byte[]> {

    protected ByteArraySerialiser() {
        super(Byte[].class, false);
    }

    @Override
    public void serialize(Byte[] arg0, JsonGenerator arg1,
            SerializerProvider arg2) throws IOException,
            JsonGenerationException {
        arg1.writeString("");
    }

} 
```

尝试2：

```
 public class ByteArraySerialiser extends SerializerBase<Byte> {

    protected ByteArraySerialiser() {
        super(Byte.class, false);
    }

    @Override
    public void serialize(Byte arg0, JsonGenerator arg1,
            SerializerProvider arg2) throws IOException,
            JsonGenerationException {
        arg1.writeString("");
    }

} 
```

但是，两者都未能覆盖默认序列化程序。

我不能使用注释，因为它是一个`Map<Object, Object>`.

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:02:29.150

您是否尝试过在 getter 或字段本身上使用 JsonIgnore 注释？你也可以使用 MixIn 来做到这一点。示例（取自[oVirt](http://www.ovirt.org)开源）：

```
public abstract class JsonNGuidMixIn extends NGuid {

    /**
     * Tells Jackson that the constructor with the {@link String} argument is to be used to deserialize the entity,
     * using the "uuid" property as the argument.
     *
     * @param candidate
     */
    @JsonCreator
    public JsonNGuidMixIn(@JsonProperty("uuid") String candidate) {
        super(candidate);
    }

    /**
     * Ignore this method since Jackson will try to recursively dereference it and fail to serialize.
     */
    @JsonIgnore
    @Override
    public abstract Guid getValue();
} 
```

用法是在 JSonObjectSerializer （复制粘贴其中的一部分在这里）

```
@Override
    public String serialize(Serializable payload) throws SerializationExeption {
        ObjectMapper mapper = new ObjectMapper();
        mapper.getSerializationConfig().addMixInAnnotations(NGuid.class, JsonNGuidMixIn.class);
        mapper.getSerializationConfig().addMixInAnnotations(Guid.class, JsonNGuidMixIn.class);
        mapper.configure(Feature.INDENT_OUTPUT, true);
        mapper.enableDefaultTyping();
        return writeJsonAsString(payload, mapper);
    } 
```

# java - 如何测试 SSLSessionCacheTimeout

> ID：11151075
> 
> 赞同：2
> 
> 时间：2012-06-22T06:22:51.900
> 
> 标签：java, ssl, https

如何配置和测试 SSLSessionCacheTimeout 值？它与 http 保持活动超时有何不同？

谢谢， 加亚瑟里

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-22T08:29:17.820

> 如何配置和测试 SSLSessionCacheTimeout 值？

您可以通过[SSLSocket.getSession().getSessionContext().setSessionTimeout()](http://docs.oracle.com/javase/6/docs/api/javax/net/ssl/SSLSessionContext.html#setSessionTimeout%28int%29)对其进行配置。

你可以通过运行你的客户端来测试它`-Djavax.net.debug-ssl,handshake`，创建一个`SSLSocket`连接到你的服务器，睡眠时间超过超时时间，并创建第二个`SSLSocket`连接到同一服务器。您可以从调试输出中看到是否为第二个连接恢复了相同的会话，或者启动了一个新会话。

> 它与 http 保持活动超时有何不同？

这样的问题基本上没有意义。它甚至没有一点点相同，也与 TCP keepalive 不同。它是从 SSL 握手派生的会话密钥材料和身份验证的超时，统称为 SSL 会话。

# sql-server-2008 - 简单的 T-sql 查询

> ID：11151082
> 
> 赞同：0
> 
> 时间：2012-06-22T06:23:21.187
> 
> 标签：sql-server-2008, tsql

![在此处输入图像描述](../Images/2db37052f5e72578b2dd895b58e12fc2.png)

从上面的示例数据中，我想编写一个查询，如果 ExpRow 值 = 1，则将 SalesAmount 返回为 0.0，如果 ExpRow 值 = 2，则将 ExpenseAmount 返回为 0.0

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T06:29:11.143

```
SELECT
    ExpRow,
    ExpenseDate,
    CASE WHEN ExpRow = 2 THEN 0 ELSE ExpenseAmount END AS ExpenseAmount,
    CASE WHEN ExpRow = 1 THEN 0 ELSE SalesAmount END AS SalesAmount
FROM
    Table 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T06:26:52.063

不确定这是否正是您所追求的，但是...

```
SELECT CASE([ExpRow]) WHEN 1 THEN 0 ELSE SalesAmount END AS 'SalesAmount',
       CASE([ExpRow]) WHEN 2 THEN 0 ELSE ExpenseAmount END AS 'ExpenseAmount'
FROM [YOUR_TABLE] 
```

# xslt - 获取 xslt 中其他模板中先前元素的值

> ID：11151088
> 
> 赞同：0
> 
> 时间：2012-06-22T06:23:59.460
> 
> 标签：xslt, xslt-1.0

来源：

```
<Data>
    <AB>
        <choice>Disclose</choice>
        <image>
            <img alt="No Image" xlink:href="abcd:202-11587" xmlns="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:title="Image" />
        </image>
        <link>abcd</link>
    </AB>
    <AB>
        <choice>All</choice>
        <image>
            <img alt="No Image" xlink:href="abcd:202-2202" xmlns="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:title="Image" />
        </image>
        <link>all</link>
    </AB>       
</Data> 
```

XSLT

```
 <xsl:template match="Data">
         <xsl:for-each select="AB">
         <xsl:variable name="temp" select="choice"/>
            <xsl:choose>
                <xsl:when test="$temp='Disclose'">
                <xsl:apply-templates select="image/node()"/>                  
                </xsl:when>
            </xsl:choose>
         </xsl:for-each>

    </xsl:template>

    <xsl:template match="simple:image/xhtml:img">
    <!-- I want to get the the name of the "choice" here-->

    <!-- some other process-->
    <!-- how to access the value of the <choice> element of that section-->
    <!-- how to access <link> element of that section-->
  </xsl:template> 
```

任何人都可以帮助如何做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T08:02:53.853

首先，由于这可能只是您的代码示例的疏忽，您在匹配的模板中指定了命名空间

```
<xsl:template match="simple:image/xhtml:img"> 
```

但是，您的示例 XML 中没有对“简单”命名空间的引用，因此在这种情况下，它应该只是以下内容

```
<xsl:template match="image/xhtml:img"> 
```

但是在回答你的问题时，为了得到**选择**元素，因为你当前定位在**img**元素上，你可以搜索备份层次结构，就像这样

```
<xsl:value-of select="../../choice" /> 
```

'..' 代表父元素。因此，您将返回**AB**元素，并获取其子**选择**元素。

同样对于**链接**元素

```
<xsl:value-of select="../../link" /> 
```

注意，这里不必是 xsl:value-of，如果有多个**链接**元素，你可以使用**xsl:apply-templates**

```
<xsl:apply-templates select="../../link" /> 
```

而且，如果您只需要出现在父**图像**元素之后的**链接**元素，您可以执行以下操作

 **```
<xsl:apply-templates select="../following-sibling::link" /> 
```**

# css - 在 CSS 中相对于另一个元素定位一个元素

> ID：11151089
> 
> 赞同：76
> 
> 时间：2012-06-22T06:23:59.783
> 
> 标签：css, css-position

我想`div`相对于另一个定位四个 s。我有一个 rectangle `div`，我想`div`在它的角落插入 4 s。我知道 CSS 有一个属性`"position:relative"`，但这与该元素的正常位置有关。我想定位我`div`的 s 不是相对于它们的正常位置，而是相对于另一个元素（矩形）。我该怎么办？

* * *

## 回答 #1

> 赞同：71
> 
> 时间：2012-06-22T06:27:36.613

`position: absolute`将通过坐标定位元素，相对于**最近定位的祖先**，即不是最近的父级`position: static`。

让你的四个 div 嵌套在目标 div 中，给目标 div `position: relative`，然后`position: absolute`在其他 div 上使用。

像这样构造你的 HTML：

```
<div id="container">
  <div class="top left"></div>
  <div class="top right"></div>
  <div class="bottom left"></div>
  <div class="bottom right"></div>
</div> 
```

这个CSS应该可以工作：

```
#container {
  position: relative;
}

#container > * {
  position: absolute;
}

.left {
  left: 0;
}

.right {
  right: 0;
}

.top {
  top: 0;
}

.bottom {
  bottom: 0;
}

... 
```

* * *

## 回答 #2

> 赞同：43
> 
> 时间：2012-06-22T06:30:08.923

我建议在元素内使用绝对定位。

我已经创建了这个，以便您可以将其可视化。

```
#parent {
    width:400px;
    height:400px;
    background-color:white;
    border:2px solid blue;
    position:relative;
}
#div1 {position:absolute;bottom:0;right:0;background:green;width:100px;height:100px;}
#div2 {width:100px;height:100px;position:absolute;bottom:0;left:0;background:red;}
#div3 {width:100px;height:100px;position:absolute;top:0;right:0;background:yellow;}
#div4 {width:100px;height:100px;position:absolute;top:0;left:0;background:gray;}
```

```
<div id="parent">
<div id="div1"></div>
<div id="div2"></div>
<div id="div3"></div>
<div id="div4"></div>

</div>
```

[http://jsfiddle.net/wUrdM/](http://jsfiddle.net/wUrdM/)

# jquery - 从性能的角度来看，在 jQuery 中哪种检查 Document ready() 的方法更好？

> ID：11151092
> 
> 赞同：1
> 
> 时间：2012-06-22T06:24:06.750
> 
> 标签：jquery

我读过[一篇关于 20 个](http://viralpatel.net/blogs/20-top-jquery-tips-tricks-for-jquery-programmers/)使用以下代码片段的顶级 jQuery 技巧的文章：

```
//Use
$(function(){
    //document ready
}); 
```

比使用以下代码更好：

```
//Instead of
$(document).ready(function() {
    //document ready
}); 
```

我一直使用第二个代码片段。使用第一个有什么好处吗？为什么从性能角度来看第二个代码片段更好？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T06:26:03.250

在性能方面应该没有显着差异。第一个版本是第二个版本的简写，这意味着如果您使用第一个版本 jQuery 的使用`ready`处理程序无论如何。

第一个版本很短，打字很快，而第二个版本更易读。

您提到的文章是关于提示的，它为您提供了一个提示，即存在`ready`处理程序的简写版本，它不会约束您总是使用第一种简写方法，这取决于您使用哪种方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-22T06:27:07.270

第一个是**[@Sarfraz](https://stackoverflow.com/users/139459/sarfraz)** Sir 提到的第二个的缩写形式。

有关更多信息，请参阅：

*   [http://api.jquery.com/ready/](http://api.jquery.com/ready/)

*   [http://forum.jquery.com/topic/jquery-document-ready-vs-function](http://forum.jquery.com/topic/jquery-document-ready-vs-function)

*   [http://groups.google.com/group/jquery-en/browse_thread/thread/ecaebf42a4fb3fae](http://groups.google.com/group/jquery-en/browse_thread/thread/ecaebf42a4fb3fae)

# objective-c - UITableViews 是否使用“静态单元”选项在 Interface Builder 中布局，可以通过代码修改？

> ID：11151099
> 
> 赞同：0
> 
> 时间：2012-06-22T06:25:07.700
> 
> 标签：objective-c, ios, uitableview, storyboard, uistoryboard

> **可能重复：**
> [UITableView 设置为静态单元格。是否可以以编程方式隐藏某些单元格？](https://stackoverflow.com/questions/8260267/uitableview-set-to-static-cells-is-it-possible-to-hide-some-of-the-cells-progra)

使用故事板，`UITableView`可以通过将内容模式更改为“静态单元”而不是“动态原型”来完全在 Interface Builder 中布局。这在创建某些类型的 UI 时非常有用，但它似乎有其局限性。

我想使用静态单元格布局布局，但我希望表格视图的一部分根据另一个表格视图单元格中的开关显示/隐藏自身。这是否可以使用静态单元格，还是我必须采用传统的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T06:33:43.367

您可以尝试以下解决方案来隐藏单元格：[UITableView 设置为静态单元格。是否可以以编程方式隐藏某些单元格？](https://stackoverflow.com/questions/8260267/uitableview-set-to-static-cells-is-it-possible-to-hide-some-of-the-cells-progra)

然后使用开/关 BOOL 显示/隐藏它们。

# javascript - 当调用 javascript/google 的函数映射 v3 api 时，将标记放在当前位置

> ID：11151100
> 
> 赞同：0
> 
> 时间：2012-06-22T06:25:13.650
> 
> 标签：javascript, google-maps, google-maps-api-3, google-maps-markers

我目前正在开发一个网络应用程序，它可以通过 提取您的位置`html5`，然后当调用一个函数时，它会在当前位置放置一个标记，然后您可以将数据添加到该标记。谁能告诉我该怎么做？

我的代码在[这里](http://jsfiddle.net/SwiftAppDesign/ExVpQ/)，顶部和底部在`jquery.mobile`里面，谢谢

迅速

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T16:46:47.777

要操作进入谷歌地图信息窗口的内容，您实际上可以为内容设置一个变量。如果您查看信息窗口的以下代码块

```
var infowindow = new google.maps.InfoWindow({
          map: map,
          position: pos,
          content: 'Location found using HTML5.'
        }); 
```

如果您注意到信息窗口有一个名为“内容”的属性。如果我们愿意，我们可以修改该代码块并使内容变得可行。

```
var infoContent = 'Content I want to be in the Infowindow';
var infowindow = new google.maps.InfoWindow({
          map: map,
          position: pos,
          content: infoContent
        }); 
```

现在您可以将所需的任何动态内容分配给该变量，它将显示在信息窗口中。

# html - 如何使用创建一个完美的 5x5 表 标签，看起来像使用标签 我使用标签创建了许多表，但不知道如何使用标签获得相同的结果。我一直在尝试相同的方法，但还没有成功。我正在尝试使用标签的 5x5 完美表格，你知道 - 相同的边框，相同的大小......并且边框之间没有间隙。 感谢有人分享<di 1="" 3071="" 问问题="" 2012-06-22t06:25:28.163="" 次="" this="" question="" shows="" research="" effort;="" it="" is="" useful="" and="" clear="" does="" not="" show="" any="" unclear="" or="" bookmark="" question.="" activity="" on="" post.="" 我使用<table="">标签创建了许多表，但不知道如何使用标签获得相同的结果。我一直在尝试相同的方法，但还没有成功。我正在尝试使用标签的 5x5 完美表格，你知道 - 相同的边框，相同的大小......并且边框之间没有间隙。 感谢有人分享代码。谢谢。 如何使用struts同步java web应用程序中的动作流？ 我正在使用后端 MySQL 在 JSP 中开发一个 Web 应用程序。 我需要多个用户同时使用我的应用程序进行交易。 我面临以下问题。 在应用程序中，有可供预约的时间段。 当多个用户同时在同一个时段进行约会时，系统会显示已进行约会的消息。在后端，两个数据都以不同的 id 保存（对于同一个插槽）。 但在前端 - 它只显示一个用户数据。 如何在函数中进行同步。 请帮我解决问题 htmlcss 4 1 回答 1 This answer is useful 3 看看这个例子。但如果您的目的是表格数据，只需使用表格而不是divs。 http://jsfiddle.net/BvuhZ/ 于 2012-06-22T06:33:01.247 回答 Related 1 jquery - 使用分隔符在屏幕上显示 DropDownList 用户选择 - 追加或加入？ 1 codenameone - 在代号 one 中首次安装时执行操作 2 iphone - UIView 未显示在 UIScrollView 中 2 c - 分析内存分配器的正确方法 1 java - 保存 SWT Widget 对象的集合 2 objective-c - 如何在 iOS 中不写登录发布模式？ 1 ios - iphone 应用程序使用 aws ios sdk 3 java - 我的培训师说 Java 创建了 380 个对象来运行一个简单的 Java 程序。对吗？ 0 android - 操作系统 4.03 中的操作栏 2 c# - 可以使用 selenium webdriver 和 C# 完成 Android 应用程序自动化测试吗？ Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：11151102
> 
> 赞同：1
> 
> 时间：
> 
> 标签：html, css

我使用`<table>`标签创建了许多表，但不知道如何使用`<div>`标签获得相同的结果。我一直在尝试相同的方法，但还没有成功。我正在尝试使用`<div>`标签的 5x5 完美表格，你知道 - 相同的边框，相同的大小......并且边框之间没有间隙。

感谢有人分享`<div>`代码。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T06:33:01.247

看看这个例子。但如果您的目的是表格数据，只需使用表格而不是`div`s。

[http://jsfiddle.net/BvuhZ/](http://jsfiddle.net/BvuhZ/)</di>

# mysql - 如何使用struts同步java web应用程序中的动作流？

> ID：11151103
> 
> 赞同：0
> 
> 时间：2012-06-22T06:25:31.120
> 
> 标签：mysql, jsp, synchronization, data-synchronization, simultaneous-calls

我正在使用后端 MySQL 在 JSP 中开发一个 Web 应用程序。

我需要多个用户同时使用我的应用程序进行交易。

我面临以下问题。

*   在应用程序中，有可供预约的时间段。
*   当多个用户同时在同一个时段进行约会时，系统会显示已进行约会的消息。在后端，两个数据都以不同的 id 保存（对于同一个插槽）。
*   但在前端 - 它只显示一个用户数据。

如何在函数中进行同步。

请帮我解决问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T06:49:38.387

我认为，目前你如何编码你的逻辑，一旦从用户那里预订插槽的指令，只需保存它。

像这样尝试，当您收到预订插槽的指令后，在 java 页面（在保存逻辑中）首先检查以确保没有其他人成功。如果没有找到这样的结果预订它，否则显示它已经预订的消息。

# facebook - fb-send 按钮有哪些不同的事件处理程序

> ID：11151104
> 
> 赞同：-1
> 
> 时间：2012-06-22T06:25:39.560
> 
> 标签：facebook, facebook-javascript-sdk

我正在尝试使用 fb-javascriptSDK。在某些地方我需要显示一个发送按钮 - 从网站内向 fb 朋友发送消息。

```
<div class="fb-send" data-href="http://www.example.com"></div> 
```

在这里我有几个问题：1）如何在消息文本区域中预先填充一些内容，默认情况下？（我想放一些 html 内容） 2）目前如果我包含上面的 html，则会创建 f-send 按钮，如果用户单击该按钮，则会出现一个弹出窗口。但是当用户第一次点击 f-send 按钮时我可以有一个事件吗？（不是弹出窗口内的“发送”提交按钮） 3) 使用 FB.Event.Subscribe - message.send，在消息发布后我有一个事件处理程序。但是有没有办法在发布消息之前附加一个事件？

请澄清我的疑问...

问候， SuryaPavan

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T10:55:50.423

*   在发送消息之前不会触发任何事件
*   您不能预填充消息文本。
*   您不能在消息文本中使用 HTML

# c# - Excel工作表异常处理

> ID：11151109
> 
> 赞同：0
> 
> 时间：2012-06-22T06:26:07.223
> 
> 标签：c#, .net

我编写了一个函数并在其中进行了异常处理。我还做的是，我创建了一个方法来识别我的函数中是否发生了任何异常。

如果发生异常，它会在第 2 行的 J 单元格中记录 PASS/FAIL，如果它是第 2 行的 K 单元格中的 FAIL，则还记录有关异常的详细信息。

当我运行我的代码时，excel 工作表被更新为失败（因为我故意发生了异常）。但是，当我打开我的 Excel 表时，我发现第 2 行的 J 单元格包含 FAIL，第 2 行的 K 单元格包含“异常”

理想情况下，我希望第 2 行的 K 单元格包含我的异常的确切文本，例如“在代码中发现 DivideByZeroException”之类的东西。

我发布了我的代码。有什么错误吗？我错过了什么吗？

```
public int CreateMyTask()
        {
try
        {
            Console.WriteLine("Invoking CreateTask method");
            Console.WriteLine("-----------------------------------");
            m_taskID = taskClient.CreateTask(m_tInstance);
            Console.WriteLine("Task create successfully:ID=" + m_taskID.ToString());
            Console.WriteLine("-----------------------------------");
            WriteResultInExcel(false, "");
            return m_taskID;
        }
        catch(Exception ex)
        {
            WriteResultInExcel(true, ex.Message);
        }
}

 private void WriteResultInExcel(bool isExceptionalData, string message)
    {
        Excel.ApplicationClass excelApp = new ApplicationClass();
        Workbook workbook = excelApp.Workbooks.Open("C:\\myexcelsheet.xls", 0, false, 5, "", "", true, XlPlatform.xlWindows, "\t", false, false, 0, true, 1, 0);
        Worksheet worksheet = (Worksheet)workbook.Sheets.get_Item(1);
        if(isExceptionalData)
        {
            ((Range)worksheet.Cells["2", "J"]).Value2 = "FAIL";
            ((Range)worksheet.Cells["2", "K"]).Value2 = message;
        }
        else
        {
            ((Range)worksheet.Cells["2", "J"]).Value2 = "PASS";
        }
        workbook.Save();
        workbook.Close(0, 0, 0);
        excelApp.Quit();
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T06:38:07.847

尝试

```
ex.GetType().Name 
```

或者

```
ex.ToString() 
```

也许如果你能告诉我们里面有什么`ex.Message`以及你在单元格中的结果到底是什么，我可以给出更详细的答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T06:50:44.840

参考这个 - [http://social.msdn.microsoft.com/Forums/en/wcf/thread/197707a3-7940-4c91-ab53-15d186201135](http://social.msdn.microsoft.com/Forums/en/wcf/thread/197707a3-7940-4c91-ab53-15d186201135)

还要确保您已在行为服务上启用此功能

```
<serviceDebug includeExceptionDetailInFaults="true" /> 
```

# iphone - 加载视图时单击加载搜索栏

> ID：11151115
> 
> 赞同：0
> 
> 时间：2012-06-22T06:26:30.910
> 
> 标签：iphone, ios, ios4

嗨，我正在开发一个应用程序。我有一个带有三个按钮的标签栏。我在第三个视图中有一个搜索栏。我的要求是当我单击第三个选项卡时，我需要使用键盘单击搜索栏，如下图所示。是否可以？![在此处输入图像描述](../Images/e184fbf0558c4b0b41cc45c533a10f5d.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T06:28:36.723

告诉搜索栏“befomeFirstResponder”。它的行为就像用户点击了它一样。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-22T06:34:26.973

采用：

```
[searchBar becomeFirstResponder]; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-22T06:43:52.083

在您的第三个点击操作事件中，将您的 UISearchBar 的 setHidden 实例设置为 NO 并使其成为 becomeFirstResponder。例如：

```
[self.search setHidden:NO]; 
[self.search becomeFirstResponder]; 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-22T06:40:09.577

当段值改变时。试试这个

```
-(void) segmentValueChanged 
{
    [searchBar becomeFirstResponder];
} 
```

当您调用它时， becomeFirstResponder 方法将聚焦该控件。

# python - 如何通过 numpy distutils 链接到 FORTRAN 库

> ID：11151118
> 
> 赞同：1
> 
> 时间：2012-06-22T06:26:42.720
> 
> 标签：python, numpy, fortran, f2py

链接到 FORTRAN 库时，我的 setup.py 脚本无法正常工作。

我几乎没有使用图书馆的经验，所以我可能会使用不正确的术语。我有一个使用 FMLIB fortran 包的 fortran 模块。FMLIB 包包含三个我已编译为 .o 文件的 f95 文件。该模块又被 python 模块使用。在 setup.py 文件中，我使用扩展名：

```
shapelets = Extension('PyCosmology.shapelets.fort.shapelets', 
                     ['PyCosmology/shapelets/fort/find_coeffs.f90'],
                       libraries = [<DIRECTORY>./FM.o'
                       '<DIRECTORY>/FMSAVE.f95',
                       '<DIRECTORY>/FMZM90.f95'],
                       extra_f90_compile_args=['-Wtabs'],
                       f2py_options=['--quiet']) 
```

但是，当我尝试安装时，它说它不能使用 FMZM，因为找不到 .mod 文件。我应该在 Extension 中使用不同的关键字来链接到库，还是链接到 mod 文件？或者还有什么我应该做的吗？distutils 的文档相对较少。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T06:49:35.063

弄清楚了。

只需要添加`include_dirs = ['<DIRECTORY WITH .MOD FILES>']`然后`library_dirs = [<DIRECTORY>]`更改库关键字以仅包含没有路径的文件名。

似乎工作。

# selenium - 获取 DIV 的值 - WebDriver (Selenium)

> ID：11151119
> 
> 赞同：7
> 
> 时间：2012-06-22T06:26:46.353
> 
> 标签：selenium, webdriver, selenium-webdriver

我想使用 webdriver 而不是 Selenium 获取 div 的值 例如：

```
<div class="headerbande">BIENVENUE</div> 
```

webdriver 中是否有任何方法可以使用类名获取“BIENVENUE”？提前致谢。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-22T06:38:48.663

使用 java 你会写：

```
WebElement element = webdriver.findElement(By.className("headerbande")); 
```

查看[通过示例介绍 Selenium-WebDriver API 以](http://seleniumhq.org/docs/03_webdriver.html#introducing-the-selenium-webdriver-api-by-example)了解其他语言的示例。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-22T07:24:46.293

谢谢Volkerk，我通过您的帖子找到了解决方案

```
WebElement webElement = driver.findElement(By.cssSelector("headerband"));
webElement.getText(); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-23T09:52:44.810

也可以使用 xpath 获取值/文本，如下所示：

```
WebElement webElement = driver.findElement(By.xpath("//div[@class='headerbande']"));
webElement.getText(); 
```

或者，您可以使用 css 选择器获取文本/值，如下所示：

```
WebElement webElement = driver.findElement(By.cssSelector("div.headerbande"));
webElement.getText(); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-08-07T05:21:23.863

在 ruby​​ 中，您可以使用

1.  CSS 选择器

    ```
    web_element = driver.find_element(css: 'div.headerbande') 
    ```

2.  班级

    ```
    web_element = driver.find_element(class: 'headerbande') 
    ```

3.  ID

    ```
    # if your element's id is 'headerbande'
    web_element = driver.find_element(id: 'headerbande') 
    ```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-02-16T05:16:20.800

你可以使用： driver.findElementByClassName("headerbande").getText();

# ruby-on-rails - 无法对使用 mongoid 的 rails 3 中的 --auth 开关开始的 mongodb 执行查询。

> ID：11151125
> 
> 赞同：2
> 
> 时间：2012-06-22T06:27:13.483
> 
> 标签：ruby-on-rails, ruby-on-rails-3, mongodb, mongoid, mongohq

## 简化案例：

我创建了一个新的 rails 3.2 项目，没有活动记录。我将 mongoid 3.0.0.rc 添加到 Gemfile，然后`rails g mongoid:config`. 我编辑我`mongoid.yml`的看起来像我在下面发布的那个（除了主机现在设置为`localhost:27068`）。

我在 mongodb 中添加了一个管理员用户：

```
$ mongo localhost/admin
> db.addUser(myadmin,adminpass) 
```

我还在我的数据库中添加了一个普通用户：

```
use mydb
> db.addUser(myuser, mypassword) 
```

我确认我可以连接到我的数据库：

```
$ mongo localhost/mydb -u myuser -pmypassword
MongoDB shell version: 2.0.4
connecting to: localhost/mydb
> _ 
```

之后，我从`mongod`switch`--auth`开始强制身份验证：

```
$ mongod --auth --dbpath /my/db/path 
```

现在一切似乎都很好，我创建了一些随机脚手架，例如：

```
$ rails g scaffold User name email 
```

并尝试在浏览器中运行项目：localhost:3000/users。繁荣！我被下面发布的错误消息击中。

这是mongoid中的错误吗？还是我错过了什么？

* * *

## 原始问题

在带有 mongoid 3 rc 的 Rails 3.2 项目中，我无法对 MongoHQ 托管数据库执行任何操作。一个简单的登录操作查询给了我这样的错误信息：

```
The operation: #<Moped::Protocol::Query
  @length=83
  @request_id=3
  @response_to=0
  @op_code=2004
  @flags=[]
  @full_collection_name="mydb.users"
  @skip=0
  @limit=-1
  @selector={"name"=>"Abbas"}
  @fields=nil>
failed with error 10057: "unauthorized db:mydb lock type:-1 client [some ip]" 
```

这是我的`mongoid.yml`样子：

```
development:
  sessions:
    default:
      database: mydb
      user: myuser
      password: mypassword
      hosts:
        - flame.mongohq.com:27068
      options:
        consistency: :strong
  options:
    include_type_for_serialization: true 
```

所以我做错了。db 用户在 MongoHQ 面板中未标记为“只读”。而且我没有部署到 Heroku；只是在我的本地主机上测试。

任何帮助表示赞赏。

# visual-studio-2010 - 使用 Azure SDK 1.7 从 Visual Studio 发布不再有效 - 证书/指纹错误

> ID：11151137
> 
> 赞同：8
> 
> 时间：2012-06-22T06:28:14.630
> 
> 标签：visual-studio-2010, azure

我有一个长期存在的 Azure 云服务项目，用于将 Web 和辅助角色从 Studio 部署到 Azure。云服务定义和云配置文件包括有关已上传到云服务的证书的信息。因此，在服务定义中：

```
<Certificates>
  <Certificate name="cert" storeLocation="LocalMachine" storeName="My" />
  <Certificate name="encryption" storeLocation="LocalMachine" storeName="My" />
</Certificates> 
```

并在服务配置中：

```
<Certificates>
  <Certificate name="cert" thumbprint="[hidden]" thumbprintAlgorithm="sha1" />
  <Certificate name="encryption" thumbprint="[hidden]" thumbprintAlgorithm="sha1" />
</Certificates> 
```

很长一段时间以来，我一直将这些配置和证书发布到同一个云服务，没有任何问题。

现在，我刚刚升级到 Visual Studio 2010 sp1 的 Azure 1.7 SDK（2012 年 6 月）。一旦我升级了我的云服务项目 [在属性中，单击“升级”]，由于明显的证书错误，我不再能够部署：

> 下午 1:25:28 - 正在连接... 下午 1:25:33 - 错误：证书：带有指纹的“证书”：用于角色：My.Web 尚未上传到云服务：我的测试 NC。下午 1:25:33 - 错误：证书：带有指纹的“加密”：角色：My.Web 尚未上传到云服务：My Test NC。

请注意，错误中根本没有列出指纹 - 出于安全目的，我没有在此处删除它。

如果我编辑项目文件并且除了将 1.7 更改为 1.6 之外没有任何其他更改，则 Studio 的部署再次完美运行。

Visual Studio sp1 和 Azure 1.7 似乎存在一些问题，但我没有发现任何其他人有类似问题的证据。

**更新：**我刚刚和微软谈过，我们现在至少对复制步骤很清楚：

*   必须有多个服务配置（例如“开发”和“测试”）
*   不同的环境必须有不同的证书（因此有不同的指纹）。

由于可能不想将生产证书存储在开发机器上（尤其是因为人们不希望开发机器能够解密加密的生产值 - 例如，考虑一下，如果开发笔记本电脑丢失了），不同的证书在不同的环境中似乎符合标准的最佳实践。

因此，在这一点上，微软将考虑这是否是需要解决的问题。同时，Azure 1.7 SDK 的解决方法是：（1）不要使用 Studio 的“发布”；(2) 不要使用多个服务配置；或（3）在所有环境中使用相同的证书（不是我个人推荐的）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-30T20:27:10.103

“答案”似乎是，当您在同一个项目中有多个 cscfg 文件时，对相同的证书名称使用不同的指纹（显然可能想要这样做），您将遇到此问题。

```
<Certificates>
    <Certificate name="cert" thumbprint="[hidden]" thumbprintAlgorithm="sha1" />
    <Certificate name="encryption" thumbprint="[hidden]" thumbprintAlgorithm="sha1" />
</Certificates> 
```

因此，如果 [hidden] 的值在例如用于开发、测试和实时的 cscfg 文件中有所不同，那么当您尝试发布到其中任何一个（例如测试）时，您都会遇到您提到的错误。

如果您使用管理配置和删除删除 dev 和 live 的 cscfg 文件，然后尝试使用剩余的测试配置文件进行发布，发布将起作用（至少对我而言。）

这似乎是一个缺陷。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-19T23:30:10.743

当可以看到此问题时，我们发现了另一种情况。在 VS2012.2 中，证书的指纹是小写的，但似乎 Azure 管理 API 要求它是大写的。这是管理门户/API 端的一个错误，因为在任何情况下都可能存在指纹 - 案例本身没有信息内容，因此执行检查的一方（我相信 Azure Fabric 控制器）的检查应该与大小写无关）。

我正在上传显示此内容的图像（单击此处查看[全分辨率图像](https://i.imgur.com/YsFfBpH.png)）

![在此处输入图像描述](../Images/5a44a30b554d504cdbd887e7911ab15f.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-19T14:21:56.883

Kent，除了您提供的解决方法之外，您还可以在构建步骤中转换配置文件。[Phil Hoff 在http://blogs.msdn.com/b/philliphoff/archive/2012/07/02/transform-windows-azure-service-model-files-during-packaging](http://blogs.msdn.com/b/philliphoff/archive/2012/07/02/transform-windows-azure-service-model-files-during-packaging.aspx)有一篇博文讨论如何做到这一点。 [.aspx](http://blogs.msdn.com/b/philliphoff/archive/2012/07/02/transform-windows-azure-service-model-files-during-packaging.aspx) _

# asp.net-mvc - MVC父子动作页面渲染？

> ID：11151138
> 
> 赞同：0
> 
> 时间：2012-06-22T06:28:34.127
> 
> 标签：asp.net-mvc

我正在学习在父操作中嵌入子操作，并在从子操作提交表单时正确呈现整个页面。

ParentAction.cshtml--------------------------

```
@model Web1.Models.ParentActionModel
@{ViewBag.Title = "ParentAction";}
<h2>Parent Action</h2>
@Html.ValidationSummary(true, "Please correct parent errors and try again.")
@using (Html.BeginForm()) {
  //parent forminput  stuff
  <input type="submit" value="Parent Button" />
}
@Html.Action("ChildAction","Home") <!-- ChildAction is included here --> 
```

ChildAction.cshtml（包含在 parent.cshtml 中）------------

```
@model Web1.Models.ChildActionModel
@{ViewBag.Title = "ChildAction";}
<h2>Child Action</h2>    
@Html.ValidationSummary(true, "Please correct child errors and try again.")
@using (Html.BeginForm("ChildAction", "Home")) {
    //child form input stuff
    <input type="submit" value="Child Button" />
} 
```

HomeController.cs-----------

```
public ActionResult ParentAction() {
    return View();
}
[HttpPost]
public ActionResult ParentAction(ParentActionModel pmodel) {
    //do model update stuff
    return View(pmodel);
}
[ChildActionOnly]
public ActionResult ChildAction() {
    return PartialView();
}
[HttpPost]
public ActionResult ChildAction(ChildActionModel cmodel) {
    //do model update stuff
    return PartialView(cmodel); // <---This is wrong, What's the correct way to do it?
} 
```

现在，当我单击“子按钮”时，我只会获得子动作的视图（durrr！），如何修复它以生成整页父+子视图？这似乎是一个很简单的逻辑，但我坚持了几个小时。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T09:52:32.300

> 因此，如果我在 HttpPost Details 方法中删除了 [ChildActionOnly]，当我单击提交时，只返回 Details.cshtml partialView，而不是 Master.cshtml，这也不是我想要的。

这是因为在这种情况下您不应该返回 PartialView，而是返回完整的 View：

```
[HttpPost]
public virtual ActionResult Details(DetailsModel model) 
{
    if (!ModelState.IsValid)
    {
        return View(model);
    }

    return RedirectToAction("Success");
} 
```

您可能还需要仅有条件地呈现`Details`操作以避免无限循环：

```
@if (!IsPost)
{
    @Html.Action("Details", "Home")
} 
```

显然，如果您想保留调用此 POST 操作时所处的原始上下文，则必须使用 AJAX，然后使用 AJAX 调用此 POST 操作并仅替换 DOM 的相应部分。

# c - 套接字选择失败，操作正在进行 - 非阻塞模式

> ID：11151140
> 
> 赞同：2
> 
> 时间：2012-06-22T06:28:39.193
> 
> 标签：c, sockets, network-programming

我们的应用程序使用非阻塞套接字使用连接和选择操作（c 代码）。pusdo代码如下

```
unsigned int ConnectToServer(struct sockaddr_in *pSelfAddr,struct sockaddr_in *pDestAddr)
{
    int sktConnect = -1;

    sktConnect = socket(AF_INET,SOCK_STREAM,0);
    if(sktConnect == INVALID_SOCKET)
        return -1;

    fcntl(sktConnect,F_SETFL,fcntl(sktConnect,F_GETFL) | O_NONBLOCK);
    if(pSelfAddr != 0)
    {
        if(bind(sktConnect,(const struct sockaddr*)(void *)pSelfAddr,sizeof(*pSelfAddr)) != 0)
        {
            closesocket(sktConnect);
            return -1;
        }
    }

    errno = 0;
    int nRc = connect(sktConnect,(const struct sockaddr*)(void *)pDestAddr, sizeof(*pDestAddr));
    if(nrC != -1)
    {
        return sktConnect;
    }

    if(errno != EINPROGRESS)
    {
        int savedError = errno;
        closesocket(sktConnect);
        return -1;
    }

    fd_set scanSet;
    FD_ZERO(&scanSet);
    FD_SET(sktConnect,&scanSet);

    struct timeval waitTime;
    waitTime.tv_sec = 2;
    waitTime.tv_usec = 0;

    int tmp;
    tmp = select(sktConnect +1, (fd_set*)0, &scanSet, (fd_set*)0,&waitTime);
    if(tmp == -1 || !FD_ISSET(sktConnect,&scanSet))
    {
        int savedErrorNo = errno;
        writeLog("Connect %s failed after select, cause %d, error %s",inet_ntoa(pDestAddr->sin_addr),savedErrorNo,strerror(savedErrorNo));
        closesocket(sktConnect);
        return -1;
    }

    .   
    .   
    .
    .
    .} 
```

* * *

**问题陈述**
在上面的代码中，`select`失败`error code 115`是“正在进行的操作”。我没有看到任何关于`select`失败的文档`errno 115`。

一个。非阻塞套接字何时`select`失败？`error code 115`在什么场景下？
湾。我们是否看到任何提示此问题的系统日志。只关心我们我 - 我找不到任何描述此类问题的文档功能。

* * *

PS：我们使用的是 SUSE Linux 11 企业版。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T23:55:55.397

errno EINPROGRESS 不是来自 select()，它是之前的 connect() 操作遗留下来的。如果select() 返回 -1*或未*设置 FD，则*输入报告它的块。*这一切意味着连接仍在进行中。errno 永远不会被清除，只会被设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T06:42:12.940

***对您的代码的一些想法：***

我认为您在选择下方的条件可以修改为仅检查是否选择返回大于 0 的值，如果是这种情况，您可以检查套接字的 getsockopt 输出（对于 SOL_SOCKET 和 SO_ERROR）选项（`getsockopt(...,SOL_SOCKET, SO_ERROR,...,...)`）看看连接是否没有失败。

我不太确定如果连接成功，选择是否总是将套接字返回为可写的。因此，在您的情况下，可能（**仅可能**）是 tmp 变量不是 -1 并且它显示的 errno 是前一个连接调用的 errno 。

***其他原因：***

另一个很好的理由是，您要连接的目标地址要么无法访问，要么没有服务器在指定的地址 + 端口组合处等待。在这种情况下，您可以使用阻塞套接字尝试一次以查看它是否连接。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T07:00:55.533

据我了解，您正在尝试与超时建立连接。

如果是这样，则您的代码中有错误。通话后`connect()`但在`select()`您应该使用删除`O_NONBLOCK`选项之前`fcntl()`。否则，`select()`将始终立即返回，因为使用您的套接字（具有`O_NONBLOCK`）的操作不会阻塞。

您阅读的 EINPROGRESS 可能不是由先前的调用生成的，`select()`而是由先前的`connect()`调用生成的。

你也不应该`bind()`在这里使用 call 因为`connect()`隐式地将你的地址绑定到套接字。

# java - 启动tomcat 5.5时如何解决这个“java.io.IOException：无法重命名原始文件”？

> ID：11151146
> 
> 赞同：1
> 
> 时间：2012-06-22T06:29:14.867
> 
> 标签：java, tomcat5.5

我正在尝试运行 tomcat 5.5，但在启动服务器时出现以下错误。

`java.io.IOException: Cannot rename original file to C:\Program Files\Apache Software Foundation\Tomcat 5.5\conf\tomcat-users.xml.old`

下面是完整的堆栈跟踪。

```
`Jun 22, 2012 12:17:43 PM org.apache.catalina.startup.Catalina load
INFO: Initialization processed in 361 ms
Jun 22, 2012 12:17:44 PM org.apache.naming.NamingContext lookup
WARNING: Unexpected exception resolving reference
java.io.IOException: Cannot rename original file to C:\Program Files\Apache Soft
ware Foundation\Tomcat 5.5\conf\tomcat-users.xml.old
        at org.apache.catalina.users.MemoryUserDatabase.save(MemoryUserDatabase.
java:582)
        at org.apache.catalina.users.MemoryUserDatabaseFactory.getObjectInstance
(MemoryUserDatabaseFactory.java:104)
        at org.apache.naming.factory.ResourceFactory.getObjectInstance(ResourceF
actory.java:140)
        at javax.naming.spi.NamingManager.getObjectInstance(Unknown Source)
        at org.apache.naming.NamingContext.lookup(NamingContext.java:793)
        at org.apache.naming.NamingContext.lookup(NamingContext.java:140)
        at org.apache.naming.NamingContextBindingsEnumeration.nextElementInterna
l(NamingContextBindingsEnumeration.java:113)
        at org.apache.naming.NamingContextBindingsEnumeration.next(NamingContext
BindingsEnumeration.java:71)
        at org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBe
ans(GlobalResourcesLifecycleListener.java:137)
        at org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBe
ans(GlobalResourcesLifecycleListener.java:109)
        at org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.lifecycle
Event(GlobalResourcesLifecycleListener.java:81)
        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(Lifecycl
eSupport.java:120)
        at org.apache.catalina.core.StandardServer.start(StandardServer.java:693
)
        at org.apache.catalina.startup.Catalina.start(Catalina.java:552)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
        at java.lang.reflect.Method.invoke(Unknown Source)
        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)
        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:433)
Jun 22, 2012 12:17:44 PM org.apache.catalina.mbeans.GlobalResourcesLifecycleList
ener createMBeans
SEVERE: Exception processing Global JNDI Resources
javax.naming.NamingException: Cannot rename original file to C:\Program Files\Ap
ache Software Foundation\Tomcat 5.5\conf\tomcat-users.xml.old
        at org.apache.naming.NamingContext.lookup(NamingContext.java:805)
        at org.apache.naming.NamingContext.lookup(NamingContext.java:140)
        at org.apache.naming.NamingContextBindingsEnumeration.nextElementInterna
l(NamingContextBindingsEnumeration.java:113)
        at org.apache.naming.NamingContextBindingsEnumeration.next(NamingContext
BindingsEnumeration.java:71)
        at org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBe
ans(GlobalResourcesLifecycleListener.java:137)
        at org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBe
ans(GlobalResourcesLifecycleListener.java:109)
        at org.apache.catalina.mbeans.GlobalResourcesLifecycleListener.lifecycle
Event(GlobalResourcesLifecycleListener.java:81)
        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(Lifecycl
eSupport.java:120)
        at org.apache.catalina.core.StandardServer.start(StandardServer.java:693
)
        at org.apache.catalina.startup.Catalina.start(Catalina.java:552)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
        at java.lang.reflect.Method.invoke(Unknown Source)
        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)
        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:433)
Jun 22, 2012 12:17:44 PM org.apache.catalina.core.StandardService start
INFO: Starting service Catalina
Jun 22, 2012 12:17:44 PM org.apache.catalina.core.StandardEngine start
INFO: Starting Servlet Engine: Apache Tomcat/5.5.25
Jun 22, 2012 12:17:44 PM org.apache.naming.NamingContext lookup
WARNING: Unexpected exception resolving reference
java.io.IOException: Cannot rename original file to C:\Program Files\Apache Soft
ware Foundation\Tomcat 5.5\conf\tomcat-users.xml.old
        at org.apache.catalina.users.MemoryUserDatabase.save(MemoryUserDatabase.
java:582)
        at org.apache.catalina.users.MemoryUserDatabaseFactory.getObjectInstance
(MemoryUserDatabaseFactory.java:104)
        at org.apache.naming.factory.ResourceFactory.getObjectInstance(ResourceF
actory.java:140)
        at javax.naming.spi.NamingManager.getObjectInstance(Unknown Source)
        at org.apache.naming.NamingContext.lookup(NamingContext.java:793)
        at org.apache.naming.NamingContext.lookup(NamingContext.java:153)
        at org.apache.catalina.realm.UserDatabaseRealm.start(UserDatabaseRealm.j
ava:253)
        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1006)

        at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443
)
        at org.apache.catalina.core.StandardService.start(StandardService.java:4
48)
        at org.apache.catalina.core.StandardServer.start(StandardServer.java:700
)
        at org.apache.catalina.startup.Catalina.start(Catalina.java:552)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
        at java.lang.reflect.Method.invoke(Unknown Source)
        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)
        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:433)
Jun 22, 2012 12:17:44 PM org.apache.catalina.realm.UserDatabaseRealm start
SEVERE: Exception looking up UserDatabase under key UserDatabase
javax.naming.NamingException: Cannot rename original file to C:\Program Files\Ap
ache Software Foundation\Tomcat 5.5\conf\tomcat-users.xml.old
        at org.apache.naming.NamingContext.lookup(NamingContext.java:805)
        at org.apache.naming.NamingContext.lookup(NamingContext.java:153)
        at org.apache.catalina.realm.UserDatabaseRealm.start(UserDatabaseRealm.j
ava:253)
        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1006)

        at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443
)
        at org.apache.catalina.core.StandardService.start(StandardService.java:4
48)
        at org.apache.catalina.core.StandardServer.start(StandardServer.java:700
)
        at org.apache.catalina.startup.Catalina.start(Catalina.java:552)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
        at java.lang.reflect.Method.invoke(Unknown Source)
        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)
        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:433)
Jun 22, 2012 12:17:44 PM org.apache.catalina.startup.Catalina start
SEVERE: Catalina.start:
LifecycleException:  No UserDatabase component found under key UserDatabase
        at org.apache.catalina.realm.UserDatabaseRealm.start(UserDatabaseRealm.j
ava:261)
        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1006)

        at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443
)
        at org.apache.catalina.core.StandardService.start(StandardService.java:4
48)
        at org.apache.catalina.core.StandardServer.start(StandardServer.java:700
)
        at org.apache.catalina.startup.Catalina.start(Catalina.java:552)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
        at java.lang.reflect.Method.invoke(Unknown Source)
        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)
        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:433)
Jun 22, 2012 12:17:44 PM org.apache.catalina.startup.Catalina start
INFO: Server startup in 102 ms 
```

`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:26:43.210

尝试在您的 UserDatabase Resource 元素上设置 readonly="true"。这将阻止 Tomcat 尝试复制它。

潜在的问题是权限问题。无论 Tomcat 以哪个用户身份运行，都无权修改 conf 目录中的文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T07:19:49.510

请通过这篇文章。你可能会对这个问题有所了解。

[http://tomcat.10.n6.nabble.com/Tomcat-within-Eclipse-td2102784.html](http://tomcat.10.n6.nabble.com/Tomcat-within-Eclipse-td2102784.html)

# jquery - BeginRequest 和 EndRequest 不适用于 JQuery FancyBox

> ID：11151147
> 
> 赞同：1
> 
> 时间：2012-06-22T06:29:18.267
> 
> 标签：jquery, asp.net, ajax, fancybox, pagerequestmanager

我正在使用 JQuery FancyBox v2.0.6 将子表单显示为模式弹出窗口。一切正常。模态弹出窗口按预期显示。但是，当我单击位于弹出窗口内的 asp.net 按钮时，PageRequestManager 的 BeginRequest 和 EndRequest 事件不会触发。

放置在模式弹出窗口之外的按钮可以正常工作。

谁能帮我解决这个问题。

村哈里

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T22:20:31.033

I am also stuck on this. There is an excellent article here [http://codingboynamedtracy.com/blog/fancybox-asp-net-web-forms/](http://codingboynamedtracy.com/blog/fancybox-asp-net-web-forms/) but the fix is for fancybox 1.3, and 2.0 is completely rewritten and I can't find appropriate references in the library file.

# api - 在多边形谷歌地球api中获取地标

> ID：11151149
> 
> 赞同：0
> 
> 时间：2012-06-22T06:29:21.417
> 
> 标签：api, polygon, google-earth, marker

我是开发谷歌地球应用程序的新手。我想知道如何让地标进入我绘制的多边形。提前致谢。

我的代码是

```
var ge;
var pm = null;
var isMouseDown = false;
var lineStringPlacemark = null;
var coords = null;
var pointCount = 0;
var doc = null;
var markers = [];
var polygons;

google.load("earth", "1");

function init() {
    google.earth.createInstance('map', initCB, failureCB);

}

function initCB(instance) {
   ge = instance;
   ge.getWindow().setVisibility(true);
   // add a navigation control
   ge.getNavigationControl().setVisibility(ge.VISIBILITY_AUTO);

   //create document
   doc = ge.createDocument('');
   ge.getFeatures().appendChild(doc);

   // add some event
   google.earth.addEventListener(ge.getGlobe(), 'mousemove', onmousemove); 
   google.earth.addEventListener(ge.getGlobe(), 'mousedown', function(event) { onmousedown(event); });

   loadData(ge);
}

function failureCB(errorCode) {
    alert(errorCode);
}

google.setOnLoadCallback(init);

function loadData(ge){
   EarthRequest = new htmldb_Get(null,$v('pFlowId'),'APPLICATION_PROCESS=LoadEarthData',$v('pFlowStepId'));
   EarthData = EarthRequest.get();

   if (EarthData) {
        var data = jQuery.parseJSON(EarthData);
        //printObject(data.row);
        $.each(data.row,function(item){
             latitude = parseFloat(data.row[item]['LATITUDE']);
             longitude = parseFloat(data.row[item]['LONGITUDE']);
             if(latitude==0 || longitude==0 || isNaN(latitude) || isNaN(longitude)){
              //do nothing
             }
             else{
                 marker = createMarker(ge,data.row[item]['CELL_ID']+' '+data.row[item]['SITE_NAME'],latitude ,longitude,data.row[item]['CELL_ID']);
                 if(marker){
            markers.push(marker);
         }
             }
        });

    var la = ge.createLookAt('');
    la.set(latitude, longitude,
      0,
      ge.ALTITUDE_RELATIVE_TO_GROUND,
      0,
      0, 
      5000 
      );
    ge.getView().setAbstractView(la);
   }
}

function createMarker(ge,placeName,latitude,longitude,placeId){
    placemark = ge.createPlacemark('');

    var icon = ge.createIcon('');
    icon.setHref('map_new.png');
    var style = ge.createStyle(''); //create a new style
    style.getIconStyle().setIcon(icon); 

    var lat = parseFloat(latitude);
    var lon = parseFloat(longitude);
    var point = ge.createPoint('');
    point.setLatitude(lat);
    point.setLongitude(lon);

    placemark.setStyleSelector(style); //apply the style to the placemark
    placemark.setGeometry(point);

    // add the placemark to the earth DOM
    ge.getFeatures().appendChild(placemark);

    placemark.setName(placeName);

    google.earth.addEventListener(placemark, 'click', function(event) {
         loadPlaceDetail(placeId);
    });

    return placemark;
}

function onmousemove(event) {
  if (isMouseDown) {
   coords.pushLatLngAlt(event.getLatitude(), event.getLongitude(), 0);
  }
}

//convert line to polygon
function convertLineStringToPolygon(placemark) {
  var polygon = ge.createPolygon('');
  var outer = ge.createLinearRing('');
  polygon.setOuterBoundary(outer);

  var lineString = placemark.getGeometry();
  for (var i = 0; i < lineString.getCoordinates().getLength(); i++) {
    var coord = lineString.getCoordinates().get(i);
    outer.getCoordinates().pushLatLngAlt(coord.getLatitude(), 
                                     coord.getLongitude(), 
                                     coord.getAltitude());
  }
  placemark.setGeometry(polygon);
  return polygon;
}

//mouse click event
function onmousedown(event) {
  if (isMouseDown) { 
        var lastdoc = doc.getFeatures().getChildNodes().getLength();

        isMouseDown = false;
        coords.pushLatLngAlt(event.getLatitude(), event.getLongitude(), 0);
        convertLineStringToPolygon(lineStringPlacemark);
    if(lastdoc>1){
        doc.getFeatures().removeChild(doc.getFeatures().getFirstChild());
                //I want to add some function to calculate polygon bound
        }

  } else {
    if(event.getAltKey()){

       isMouseDown = true;
       lineStringPlacemark = ge.createPlacemark('');
       var lineString = ge.createLineString('');
       lineStringPlacemark.setGeometry(lineString);
       lineString.setTessellate(true);
       lineString.setAltitudeMode(ge.ALTITUDE_CLAMP_TO_GROUND);

       lineStringPlacemark.setStyleSelector(ge.createStyle(''));
       var lineStyle = lineStringPlacemark.getStyleSelector().getLineStyle();
       lineStyle.setWidth(4);
       lineStyle.getColor().set('ddffffff');  // aabbggrr formatx
       lineStyle.setColorMode(ge.COLOR_RANDOM);
       var polyStyle = lineStringPlacemark.getStyleSelector().getPolyStyle();
       polyStyle.getColor().set('ddffffff');  // aabbggrr format
       polyStyle.setColorMode(ge.COLOR_RANDOM);

       coords = lineString.getCoordinates();
       coords.pushLatLngAlt(event.getLatitude(), event.getLongitude(), 0);

      //doc = ge.createDocument('');
       doc.getFeatures().appendChild(lineStringPlacemark);
    }
  }
} 
```

所以在 convertLineStringToPolygon 运行之后，我需要获取多边形绑定并重新加载数据。如果多边形边界中的位置创建地标，如果没有则跳过它。谷歌地图可以使用 GPolygon.Contains() 方法。但对于谷歌地球我还没有找到解决方案

这是来自 ecoynm 的示例谷歌地图：http: [//econym.org.uk/gmap/example_inside.htm](http://econym.org.uk/gmap/example_inside.htm)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:06:18.047

[GEarthExtensions 指向多边形](http://earth-api-utility-library.googlecode.com/svn/trunk/extensions/examples/point-in-poly.html)

使用谷歌地球扩展库[http://code.google.com/p/earth-api-utility-library/](http://code.google.com/p/earth-api-utility-library/)

该示例是使用鼠标移动事件

```
google.earth.addEventListener(ge.getGlobe(), 'mousemove', function(evt) {
  var poly = new geo.Polygon(pts);
  var contains = poly.containsPoint(
      new geo.Point(evt.getLatitude(), evt.getLongitude()));
  placemark.setStyleSelector(contains ? onStyle : offStyle);
}); 
```

# java - isSelected 不为 JRadioButton 返回 true 或 false

> ID：11151152
> 
> 赞同：1
> 
> 时间：2012-06-22T06:29:51.203
> 
> 标签：java, swing, jradiobutton

我有一个程序，我根据选择的单选按钮计算 2 个变量中的 1 个。出于某种原因，isSelected() 没有返回 true 或 false。我将在下面发布我的代码：

```
import javax.swing.*;
import java.awt.event.*;
import java.awt.*;
import java.text.DecimalFormat;

public class FutureValueFrame extends JFrame {
  public FutureValueFrame() {
    setTitle("Sample App");
    setSize(400,400);
    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
}

public static void main(String[] args) {

    JFrame f = new FutureValueFrame();

    //GUI and BUTTONS
    JRadioButton monthlyRadioButton = new JRadioButton("Monthly Payment");
    JRadioButton loanAmountButton = new JRadioButton("Loan Amount");
    ButtonGroup selection = new ButtonGroup();
    selection.add(monthlyRadioButton);
    selection.add(loanAmountButton);

    JFormattedTextField loanAmountField = new JFormattedTextField(new DecimalFormat("####.##"));
    JFormattedTextField interestRateField = new JFormattedTextField(new DecimalFormat("####.##"));
    JFormattedTextField yearField = new JFormattedTextField(new DecimalFormat("####.##"));
    JFormattedTextField monthlyPaymentField = new JFormattedTextField(new DecimalFormat("####.##"));

    JPanel menuPanel = new JPanel();
    menuPanel.setLayout(new GridLayout(1,2));

    //ACTION LISTENER FOR RADIO BUTTONS
    monthlyRadioButton.addActionListener(new SelectionListener(monthlyRadioButton, loanAmountButton, loanAmountField, monthlyPaymentField));
    loanAmountButton.addActionListener(new SelectionListener(monthlyRadioButton, loanAmountButton, loanAmountField, monthlyPaymentField));

    JPanel topPanel = new JPanel();
    topPanel.setLayout(new GridLayout(1,2));
    topPanel.setBorder(BorderFactory.createLineBorder(Color.BLACK));
    topPanel.add(monthlyRadioButton);
    topPanel.add(loanAmountButton);

    JPanel botPanel = new JPanel();
    botPanel.setLayout(new GridLayout(4,2));

    botPanel.add(new JLabel("Loan Amount:"));
    botPanel.add(loanAmountField);

    botPanel.add(new JLabel("Yearly Interest Rate:"));
    botPanel.add(interestRateField);

    botPanel.add(new JLabel("Number of Years:"));
    botPanel.add(yearField);

    botPanel.add(new JLabel("Monthly Payment:"));
    botPanel.add(monthlyPaymentField);

    JPanel container = new JPanel();
    container.setLayout(new GridLayout(3,1));
    container.add(topPanel);
    container.add(botPanel);
    container.add(menuPanel);

    f.add(container);

    JButton calculateButton = new JButton("Calculate");

    if (monthlyRadioButton.isSelected()){
        calculateButton.addActionListener(new CalculateMonthlyListener(loanAmountField, interestRateField, yearField, monthlyPaymentField));
    }
    if (loanAmountButton.isSelected()){
        calculateButton.addActionListener(new CalculateLoanListener(loanAmountField, interestRateField, yearField, monthlyPaymentField));
    }

    JButton exitButton = new JButton("Exit");
    exitButton.addActionListener(new ExitListener());

    menuPanel.add(calculateButton);
    menuPanel.add(exitButton);     

    f.setVisible(true);
    f.setLocationRelativeTo(null);

    }

    class CalculateMonthlyListener implements ActionListener {

private JFormattedTextField loanAmountField;
private JFormattedTextField monthlyPaymentField;
private JFormattedTextField interestRateField;
private JFormattedTextField yearField; 
private float result;

 public CalculateMonthlyListener (JFormattedTextField loanAmountField, JFormattedTextField interestRateField, JFormattedTextField yearField, JFormattedTextField monthlyPaymentField)
{
  this.interestRateField = interestRateField;   
  this.yearField = yearField;
  this.loanAmountField = loanAmountField;
  this.monthlyPaymentField = monthlyPaymentField;
}

public void actionPerformed(ActionEvent event){

        monthlyPaymentField.setValue(new Double(12.22));
        System.out.println("You selected monthly");

}
}

class CalculateLoanListener implements ActionListener {

private JFormattedTextField loanAmountField;
private JFormattedTextField monthlyPaymentField;
private JFormattedTextField interestRateField; 
private JFormattedTextField yearField;
private float result;

public CalculateLoanListener (JFormattedTextField loanAmountField, JFormattedTextField interestRateField, JFormattedTextField yearField, JFormattedTextField monthlyPaymentField)
{
  this.interestRateField = interestRateField;   
  this.yearField = yearField;
  this.loanAmountField = loanAmountField;
  this.monthlyPaymentField = monthlyPaymentField;
}

public void actionPerformed(ActionEvent event){

   loanAmountField.setValue(new Double(12.22));

   System.out.println("You selected loan");

}
}

class ExitListener implements ActionListener {
public void actionPerformed(ActionEvent event){
    //f.dispose();
    System.exit(0);
    //System.out.println("You clicked exit");
}
}

class SelectionListener implements ActionListener {

private JRadioButton monthlyRadioButton;
private JRadioButton loanAmountButton;
private JFormattedTextField loanAmountField;
private JFormattedTextField monthlyPaymentField;

public SelectionListener (JRadioButton monthlyRadioButton, JRadioButton loanAmountButton, JFormattedTextField loanAmountField, JFormattedTextField monthlyPaymentField)
{
    this.monthlyRadioButton = monthlyRadioButton;   
    this.loanAmountButton = loanAmountButton;
    this.loanAmountField = loanAmountField;
    this.monthlyPaymentField = monthlyPaymentField;

}

public void actionPerformed(ActionEvent event){
      if(event.getSource() == monthlyRadioButton){
        loanAmountField.setEditable(false);
        monthlyPaymentField.setEditable(true);
      }
      else {
        monthlyPaymentField.setEditable(false);
        loanAmountField.setEditable(true);

      }
}
}

} 
```

我相信问题出现在这个片段中：

```
 if (monthlyRadioButton.isSelected()){
        calculateButton.addActionListener(new CalculateMonthlyListener(loanAmountField, interestRateField, yearField, monthlyPaymentField));
    }
    if (loanAmountButton.isSelected()){
        calculateButton.addActionListener(new CalculateLoanListener(loanAmountField, interestRateField, yearField, monthlyPaymentField));
    } 
```

isSelected 没有返回 true。我尝试创建一个 int i 并将其设置为 1。我在每个条件下检查了 i==1 并且它们正确执行。

有什么见解吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T07:26:47.107

您应该将选择检查代码放在附加到按钮的单个动作侦听器中，而不是根据选择决定将哪个动作侦听器附加到按钮。

将您认为是问题根源的代码替换为：

```
calculateButton.addActionListener(new ActionListener() {
    public void actionPerformed(ActionEvent e) {
        if (selection.getSelection().equals(monthlyRadioButton.getModel())) {
             monthlyPaymentField.setValue(new Double(12.22));
            System.out.println("You selected monthly");
        } else {
            loanAmountField.setValue(new Double(12.22));
            System.out.println("You selected loan");
        }
    }
}); 
```

为了编译它，您必须将在上述动作侦听器中访问的变量设为最终变量。或者将CalculateMonthlyListener 和CalculateLoanListener 替换为一个与上图相同的类。

请注意，我没有`JRadioButton.isSelected()`直接使用，而是使用了您的`ButtonGroup.getSelection()`. 您也可以检查单选按钮本身。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-22T07:37:20.637

*   `isSelected`完成`JRadioButton`后被解雇`ActionListener`

然后

*   使用`ItemListener`（总是触发两次） with 来检查`SELECTED`/`DESELECTED`

和

*   放入，返回值`JRadioButtons`_`ButtonGroup``ActionCommand``String`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-22T06:44:29.940

`calculateButton`由于两件事，没有指定的侦听器：

1.  一开始两个单选按钮都没有被选中。将一个设置为选中，然后将在适当的语句`calculateButton`中分配适当的侦听器。`if`
2.  在您的`actionPerformed`方法中，`SelectionListener`不要设置新的`calculateButton`侦听器。改变那个。

# c# - 改变负数的基数

> ID：11151153
> 
> 赞同：0
> 
> 时间：2012-06-22T06:29:58.130
> 
> 标签：c#, numbers, converter, numeric

如何将负十进制数转换为十六进制数？我知道如何将正数从一个基数转换为另一个基数。寡妇计算器返回一个巨大的数字，例如十六进制的 FFFFFFFFFFFFCFC7 十进制的 -12345。我需要进一步处理的值是 CFC7，但我不知道如何使用 C# 获得它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T06:37:24.000

不完全确定这是否是您需要的：

```
int i = -12345;
string test = i.ToString("X"); // test will hold: "FFFFCFC7"
int HexI = Convert.ToInt32(test, 16); // HexI will hold: -12345 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T06:40:59.187

尝试这个：

```
int decimalValue = -12345;
string hexVal = String.Format("{0:x2}", decimalValue); 
```

# android - SQLITE Android 中的事务

> ID：11151154
> 
> 赞同：0
> 
> 时间：2012-06-22T06:29:58.767
> 
> 标签：android, sqlite, transactions

Android SQLite 中是否有类似 asp.net 事务的东西？我正在从我的 Android 代码对 SQLite 数据库进行一些处理，但我希望在无法**回滚**事务并将数据库恢复到处理开始之前的原始状态时。

这可以实现吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T06:36:27.187

它已经存在于框架提供的方法中。

[在此处](http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html)查看 SQLiteDatabase 类文档。

具体来说，您想要的是`*WithOnConflict`方法并在所述方法中使用常量`CONFLICT_ROLLBACK`。

> 当发生约束冲突时，立即发生 ROLLBACK，从而结束当前事务，并且命令中止并返回 SQLITE_CONSTRAINT 代码

# javascript - jQuery，多个ID的相同功能

> ID：11151157
> 
> 赞同：14
> 
> 时间：2012-06-22T06:30:11.137
> 
> 标签：javascript, jquery

如果值不是数字，我想清除指定的输入。函数适用于一个 ID，但我希望它适用于多个 ID。当然我可以多次编写函数，但我不想那样做。

以下代码仅对 id 为“d”的输入生效。我不知道如何识别其他身份。谁能帮忙？

```
<input id="d" />

<input id="d2" />

<input id="d3" />

<script type="text/javascript">

$('#d,d2,d3').keyup(function(){

if($('#d,d2,d3').val() != "") {

    var value = $('#d,d2,d3').val().replace(/^\s\s*/, '').replace(/\s\s*$/, '');

    var intRegex = /^\d+$/;

    if(intRegex.test(value)) {}

    else {

    $(this).val('');

    }

}

});

</script> 
```

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-06-22T06:31:47.450

而不是`$('#d,d2,d3')`使用`$('#d, #d2, #d3')`and 对于 if 语句使用`$(this).val()`

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-06-22T06:33:25.883

您可以使用选择器**开始，**而不是像这样输入多个 id：

```
$('[id^=d]') 
```

上面的选择器将适用于所有以 id 开头的元素，例如`d`,`d1`等等。`d2``d3`

这是您的代码应该是这样的（也修复其他错误）：

```
$('[id^=d]').keyup(function(){   
 if(this.value != "") {
    var value = this.value.replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    var intRegex = /^\d+$/;
    if(intRegex.test(value)) {}
    else {
      this.value = '';
    }
 }    
}); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-06-22T06:33:26.767

```
$('input[id^=d]').keyup(function() {
    var val = $.trim( this.value ); // or $.trim( $(this).val() )
    if (val != "") {
        var value = val.replace(/^\s\s*/, '').replace(/\s\s*$/, ''),
            intRegex = /^\d+$/;
            if (intRegex.test(value)) {
                // do something
            } else {
                $(this).val('');
            }
    }
});​ 
```

`[id^=d]`是一个以选择器开头的，这意味着，以 .`id`开头`d`。

阅读有关**[jQuery 开始选择器的信息](http://api.jquery.com/attribute-starts-with-selector/)**

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-06-22T06:34:31.290

你忘记了`#`for `d2 & d3`。还有一个`this`.

```
$('#d,#d2,#d3').keyup(function(){

    if($(this).val() != "") {

        var value = $(this).val().replace(/^\s\s*/, '').replace(/\s\s*$/, '');

        var intRegex = /^\d+$/;

        if(intRegex.test(value)) {}
        else {
            $(this).val('');

        }
    }
}); 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-06-22T06:32:42.467

您忘记了其他两个 ID 的哈希：

```
$('#d,#d2,#d3') 
```

另请参阅 [jQuery 多 ID 选择器](https://stackoverflow.com/questions/7079011/jquery-multiple-id-selectors)

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2012-06-22T06:35:04.290

您可以添加类属性

```
 <input id="d" class="A"/> 
    <input id="d2" class="A"/> 
    <input id="d3" class="A"/> 
```

按类名使用以下选择器

```
$('.A').keyup 
```

# android - 将 unsigned long long 转换为等效的 jni 数据类型？

> ID：11151159
> 
> 赞同：2
> 
> 时间：2012-06-22T06:30:28.957
> 
> 标签：android, c, java-native-interface

我正在使用 Android jni 并希望将 unsigned long long C 数据类型转换为等效的 JNI 包装器。等效的 jni 包装器应该是什么？另外，当我编写将调用 jni 包装器的 JAVA 函数调用时，这个 unsigned long long 数据类型的 JAVA 方法参数的数据类型应该是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:43:48.830

Java 不知道无符号。所有 Java 数字原语都经过签名（[责备 Gosling](https://stackoverflow.com/questions/430346/why-doesnt-java-support-unsigned-ints)）。如果您确实需要通过 JNI 传输无符号 64 位范围（即您`[0,2^64]`不仅需要`[-2^63,2^63-1]`），那么没有等效的 Java 包装器，您将需要分解该值（如上四个字节和下四个字节）。否则，您可以简单地使用 Java 原语**long (JNI jlong​​)**，因为它是 64 位的，无论处理器架构如何。

# c++ - 投射内存位置以获取字符串

> ID：11151160
> 
> 赞同：1
> 
> 时间：2012-06-22T06:30:44.017
> 
> 标签：c++, winapi

我正在尝试从具有基于源代码的已知变量的 Win32 应用程序访问变量：

```
Foo foo; // Class foo
foo.mystring = "All your base are belong to us"; // where this is defined as: 'string mystring' 
```

现在我尝试使用反汇编程序来反汇编 PE，我发现了这个

```
.rdata:00446074 aAllYourBaseAre db 'all your base are belong to us',0 
```

现在我有另一个 win32 进程，它获取前一个 win32 应用程序的图像基地址，该应用程序具有我需要的类变量。

我使用以下代码获取进程地址：

```
HMODULE parent = ::GetModuleHandle(NULL);
if (parent) {
   const BYTE* imageBase = reinterpret_cast<const BYTE*> ( parent );
   const char* strMemberValue = *reinterpret_cast<const char**>((unsigned char*)imageBase + 0x00446074); 
            std::cout << "Value=" << strMemberValue;
} 
```

父进程是我试图访问的进程。我还测试了父母是正确的过程。问题是，当我尝试通过转换基地址 + 偏移量来获取字符串时，我什么也得不到。

**编辑：**

我错过了我的观点。我无法重新编译目标 Win32 应用程序，它已经在生产中。但是我需要访问该可执行文件上的一些变量。我在这里的代码只是一个概念证明**

我也在做“DLL注入”

调试：

由于类是带有方法的结构，因此我假设我使用 IDAPro 挖掘的这段代码是`Foo`

```
00000000 ; ---------------------------------------------------------------------------
00000000
00000000 ; (Class Informer)
00000000 type_info       struc ; (sizeof=0x8, variable size)
00000000 vftable         dd ?                    ; offset (00000000)
00000004 _m_data         dd ?
00000008 _m_d_name       db 0 dup(?)             ; string(C)
00000008 type_info       ends
00000008
00000000 ; --------------------------------------------------------------------------- 
```

但是，我仍然不确定这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T09:20:27.280

**您通过双重**间接以错误的方式访问进程内存。`.rdata:00446074`是字符串所在的地址，而不是指向实际位置的指针。您应该像这样访问它：

```
HMODULE parent = ::GetModuleHandle(NULL);
if (parent) {
   const BYTE* imageBase = reinterpret_cast<const BYTE*> ( parent );
   const char* strMemberValue = (const char *)imageBase + 0x00446074; 
   std::cout << "Value=" << strMemberValue;
} 
```

此外，您确定反汇编程序将映像基于`0x0`而不是基于默认 PE 基地址`0x00400000`，在这种情况下，字符串的 RVA 将是`0x00046074`而不是`0x00446074`。这也是用于初始化成员变量的字符串常量，而不是变量本身。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T06:48:01.997

好的，首先要注意：在处理外部进程内存时，如果重新编译其他可执行文件，您可能不会再找到任何数据。链接器可以自由地将数据和代码放置在任何地方并重新排列。要重新查找某些值或函数，您必须搜索二进制模式。

接下来要注意的是：您实际上有一个成员变量。这意味着每个对象的内容实际上可能不同。您当前正在搜索默认分配给它的字符串（而不是直接分配给成员，而是在 std::string 类中的某个位置）。

最后但并非最不重要的一点是：当您尝试访问外部进程的内容时，您必须使用[ReadProcessMemory](http://msdn.microsoft.com/en-us/library/windows/desktop/ms680553%28v=vs.85%29.aspx)。不过考虑使用共享内存进行进程间通信。命名管道也可以。

访问实际值的最简单方法是将`Foo`对象的地址传递`&foo`给您的读取过程，并将`Foo`类放在两个项目均可访问的公共项目库中。然后将整个对象读入您的地址空间（见`ReadProcessMemory`上文）并像访问任何其他成员一样访问该成员。请注意，您实际上是在处理真实对象的副本。共享内存可以使两个进程都可以访问单个对象（[CreateFileMapping](http://msdn.microsoft.com/en-us/library/windows/desktop/aa366537%28v=vs.85%29.aspx)）

# html - 如何将图像放在div的顶部？

> ID：11151164
> 
> 赞同：4
> 
> 时间：2012-06-22T06:30:53.597
> 
> 标签：html, css, image

这是我的代码

```
<div id="content_main2">
    <div id="content_main2_left"><img src="../images/logo.png"></div>
</div> 
```

css

```
#content_main2
{
    width:800px;
    height:200px;
}
#content_main2_left
{
    float:left;
    width:300px;
    height:240px;
    margin-top:-40px;
    -webkit-border-radius:15px;
    -moz-border-radius:15px;
    border-radius:15px;
    background:#817339; 
} 
```

我的结果

![在此处输入图像描述](../Images/32b0c5f212e75079537f709d0fb1390f.png)

bt 我需要在 div 顶部显示徽标。我的意思是一半在`#content_main2`div 上，另一半在`#content_main2_left`. 我该怎么做 ？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T06:33:21.917

为图像而写`margin-top:-40px`，而不是为 div 写。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-21T06:24:43.240

您可以尝试使用负边距。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-22T06:35:41.510

更好的使用

```
position: absolute; 
```

`z-index`两者都不同

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-22T06:34:29.210

对于图像，使用以下 css

```
#logoimage
{
   position: absolute;
   bottom: xxpx;
} 
```

将**xx**替换为所需的像素。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-22T06:38:46.587

尝试将此规则添加到您的样式表中：

```
#content_main2_left img
{
    position: relative;
    left: 235px;
} 
```

不过，我对您希望它如何重叠感到困惑。

# asp.net - 通过 google api 将视频上传到 youtube 服务器时出错

> ID：11151166
> 
> 赞同：0
> 
> 时间：2012-06-22T06:31:09.730
> 
> 标签：asp.net, google-api, visual-web-developer-2010, youtube.net-api

**这是我的代码**

***上传视频大小**7Mb*

**上传视频类型**mp4

***category.SelectedItem.Text**：视频/mp4*

if (FileUpload1.PostedFile != null)
{

```
 HttpPostedFile postfiles = FileUpload1.PostedFile;
        if (postfiles.ContentLength > 0)
        {
            System.IO.Stream iStream = postfiles.InputStream;
            byte[] filedata = new byte[postfiles.ContentLength];
            iStream.Read(filedata, 0, postfiles.ContentLength);
            postfiles.SaveAs(@"c:\Temp\" + postfiles.FileName);
            YouTubeRequestSettings settings = new YouTubeRequestSettings("AAA", youtube_DVkey, g_username, g_password);
            YouTubeRequest request = new YouTubeRequest(settings);
            Video newvideo = new Video();
            newvideo.Title = txtTitle.Text;
            newvideo.Tags.Add(new MediaCategory(category.SelectedItem.Text, YouTubeNameTable.CategorySchema));
            newvideo.Keywords = txtKeywords.Text;
            newvideo.Description = txtDescription.Text;
            newvideo.Private = false;
            newvideo.Tags.Add(new MediaCategory(txtTitle.Text.Trim(), YouTubeNameTable.DeveloperTagSchema));
            newvideo.YouTubeEntry.Location = new Google.GData.Extensions.Location.GeoRssWhere(37, -122);
            newvideo.YouTubeEntry.MediaSource = new MediaFileSource(@"c:\Temp\" + postfiles.FileName, Video_type.SelectedItem.Text);
            try
            {
                Video result_video = request.Upload(youtubeaccount, newvideo);
                File.Delete(@"c:\Temp\" + postfiles.FileName);
                Response.Redirect("gallery.aspx");

            }
            catch (Google.GData.Client.GDataRequestException ex)
            {
                Response.Write(ex.ToString());
            }
            catch (Google.GData.Client.InvalidCredentialsException ex)
            {
                Response.Write("Invalid credentials" + ex.ToString());
            }
            catch(Exception ex)
            {
                Response.Write("Failed to upload！" + ex);
            }
        }
    } 
```

例外

> 上传失败！System.Net.WebException: The request was aborted: 请求被取消。---> System.IO.IOException：在写入所有字节之前无法关闭流。在 System.Net.ConnectStream.CloseInternal(Boolean internalCall, Boolean aborting) --- 内部异常堆栈跟踪结束 --- 在 System.Net.ConnectStream.CloseInternal(Boolean internalCall, Boolean aborting) 在 System.Net.ConnectStream.System .Net.ICloseEx.CloseEx(CloseExState closeState) at System.Net.ConnectStream.Dispose(Boolean disposing) at System.IO.Stream.Close() at Google.GData.Client.GDataGAuthRequest.CopyRequestData() at Google.GData.Client .GDataGAuthRequest.Execute(Int32 retryCounter) at Google.GData.Client.GDataGAuthRequest.Execute() at Google.GData.Client.MediaService.EntrySend(Uri feedUri, AtomBase baseEntry, GDataRequestType type,

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T20:19:35.207

您必须使用[可恢复上传机制](https://developers.google.com/gdata/docs/resumable_upload)来上传大文件。检查 YouTubeUploader 源以获取使用 ResumableUploader 组件的完整示例：

[http://code.google.com/p/google-gdata/source/browse/#svn%2Ftrunk%2Fclients%2Fcs%2Fsamples%2FYouTubeUploader](http://code.google.com/p/google-gdata/source/browse/#svn%2Ftrunk%2Fclients%2Fcs%2Fsamples%2FYouTubeUploader)

# android - Android 到 PC 通信

> ID：11151174
> 
> 赞同：5
> 
> 时间：2012-06-22T06:32:04.147
> 
> 标签：android

我正在做一个指导盲人学生的项目。我正在使用 WiFi 标签和安卓手机。WiFi标签被放置在墙上，android由盲人学生携带。学生的时间表，到达特定演讲厅的最短路径算法被加载到主机上。

每当 android 手机靠近任何 Wifi 标签时，它都会从 WiFi 标签接收信标。为了实现这一点，android 必须每 3 秒（比如说）扫描所有 wifi 设备。因此，android 必须将 WiFi tag id（mac 地址）、android mac id、接收信号强度转发给主机。那么，我该怎么做呢？要加载到 android 手机上的不同应用程序有哪些？应该如何进行扫描？

一旦HOST接收到来自android的数据，它将根据算法确定最短路径，并且必须向android发送回指令（例如方向-向左）。那么，我们该怎么做呢？由于学生有视力障碍，因此传入的消息应该是音频。

请让我知道如何实现这一目标？我是安卓新手。

谢谢沙班

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T00:10:04.700

好主意 ！坚持使用 Wifi 标签，因为 NFC 不是理想的解决方案！

你有想过问题吗？每所学校都会有不同的架构，你打算如何应对？

就音频信号而言，您可以使用 TTS（文本到语音）转换器将收到的文本转换为音频。！

来到 wifi 标签部分，你可以使用这样的东西：学生运行应用程序，应用程序依次发送特定的消息/请求，从而使 wifi 标签识别学生需要方向，然后你可以继续改进它学生告诉手机去哪里/哪个班级，wifi标签/服务器计算路径，然后你可以使用导航引导学生！查看来自 google 的 Navigation 应用程序的文档！

另外，如果您需要我的帮助，请告诉我:)

# ios - NSUserDefaults 导致应用拒绝

> ID：11151175
> 
> 赞同：8
> 
> 时间：2012-06-22T06:32:12.557
> 
> 标签：ios, objective-c, app-store, appstore-approval

Apple 测试人员因违反指南而被拒绝我们的应用程序：

> [2.23 应用程序必须遵循 iOS 数据存储指南，否则将被拒绝]

由于我们存储了没有`NSURLIsExcludedFromBackupKey`标记的数据库文件 - 它已备份在 iCloud 中 - 并导致拒绝。

因此，我们将`NSURLIsExcludedFromBackupKey`标志添加到我们的文件中，它减少了存储在 iCloud 中的数据量。

但是 - 我们意识到 NSUserDefaults 在 iCloud 中也占用了一些空间。我们正在使用`[NSUserDefaults standardUserDefaults]`，但我们对它没有太多控制权。

如果我们转到*`device->settings->iCloud->Storage`*& *`BackUP->Manage Storage`*，我们可以看到我们的应用程序仍然在 iCloud 中占用 0.5 kb 的数据，因为使用了 NSUserDefaults。（删除代码中 NSUserDefaults 的使用会将其减少为 0 - 无数据）

**Apple 会因为 NSUserDefaults 在 iCloud 中获取数据而再次拒绝我们的应用程序吗？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-26T14:51:36.037

您可以在应用程序的 NSUserDefaults 中使用任意数量的数据，并且不会被拒绝。我不确定它的最大数据是多少，但我不记得 Apple 指定了限制。但是，iCloud 默认设置是有限制的。您可以将您的 NSUserDefaults 备份到 iCloud，但保存在那里的数据有 1Mb 的严格限制。因此，请注意保存在那里的数据有多大。

# active-directory - 从 Novell LDAP 同步 Active Directory

> ID：11151179
> 
> 赞同：0
> 
> 时间：2012-06-22T06:32:28.027
> 
> 标签：active-directory, ldap

是否有任何工具可以将结构（所有 ou，所有 cn）从 Novell LDAP 复制到 Active Directory？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-23T11:28:53.973

*   将源目录服务器中的所有数据导出到[LDIF](https://www.rfc-editor.org/rfc/rfc2849)文件，然后将该生成的 LDIF 文件导入目标目录

或者

*   使用[ldapsearch](http://ff1959.wordpress.com/2011/07/27/mastering-ldapsearch/)工具从源目录服务器检索所需的条目并将其存入 LDIF 文件，然后将生成的 LDIF 文件导入目标服务器

或者

*   使用 ldapsearch 工具从源目录服务器中检索所需的条目，并将结果直接输入到[ldapmodify](http://ff1959.wordpress.com/2011/07/25/master-the-ldapmodify-command-line-tool/)工具中

或者

*   [使用UnboundID LDAP SDK](http://www.unboundid.com/products/ldapsdk/docs/javadoc/index.html?com/unboundid/ldap/sdk/package-summary.html)编写一个工具来从源检索所需的条目，然后将它们添加到目标

或者

*   使用商业 LDAP 同步工具

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T12:56:37.847

如果这是使用 Apache Directory Studio 的 OU 结构的一次性 LDIF 导出和导入，将比身份管理 (IDM) 更容易。IDM 不容易设置。此外，开箱即用的 IDM Active Directory 驱动程序并非旨在同步 OU。您必须创建一个自定义 IDM LDAP 驱动程序。除非您正在导入的 OU 树不断变化，否则这是很多工作并且没有任何意义。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-28T04:08:06.790

可以使用的关键工具很少：

1.  **从 Novell iManager 导入转换导出实用程序 (ICE)** - 这是一个基于 Web 的工具，允许您以 ldif 格式导出整个结构，而无需大惊小怪。以下链接将提供更多详细信息。[http://www.novell.com/documentation/edir873/?page=/documentation/edir873/edir873/data/a5hgmnu.html](http://www.novell.com/documentation/edir873/?page=/documentation/edir873/edir873/data/a5hgmnu.html)

2.  另一种方法是也**使用命令行 ICE 工具**- 如果您更习惯使用 BASH，则可以使用。 [http://www.novell.com/documentation/edir873/edir873/data/a5hgmnu.html#a5hgn0b](http://www.novell.com/documentation/edir873/edir873/data/a5hgmnu.html#a5hgn0b)

3.  **使用像 ldapsearch 这样的命令行实用程序**- 我发现它非常有效，所以如果你想自动化你的 LDAP 提取过程，我会给予非常高的评价。请记住，ldapsearch 实用程序在每种类型的 UNIX 上都不同，因此某些命令行选项（例如 ldapsearch -H 或 -y 标志）在 Linux（例如 RHEL）上不起作用，但可能在 SUSE / Solaris / Aix 上起作用。我自己也经历过这种情况，所以只是想警告你（我尝试从 Suse 迁移到 RHEL，但陷入了这个陷阱）。

4.  **使用名为 ldp.exe 的命令行实用程序 (windows)** - 这是另一个开源 windows 命令行实用程序，允许编写简单的 powershell 脚本来执行 LDAP 搜索 - 如果您有基于 Windows 的工作站（我在自己的 pc 上运行），这很有用。有关更多详细信息，请参见下面的链接[https://technet.microsoft.com/en-us/library/cc771022%28v=ws.11%29.aspx](https://technet.microsoft.com/en-us/library/cc771022%28v=ws.11%29.aspx)

5.  **使用开源 LDAP 浏览器**，例如**Apache Directory Studio / Gawor 的 LDAP 浏览器**，这将有助于将数据导出为 CSV / Excel 格式。这个工具的唯一缺点是繁重的搜索有时会导致系统变慢；因为另一种选择是使用轻量级 LDAP 浏览器，例如 Jerek Gawor 的 LDAP 实用程序。[http://www.novell.com/coolsolutions/tools/13765.html](http://www.novell.com/coolsolutions/tools/13765.html)将提供更多详细信息。我也将这个工具（Gawor 的 ldap 工具）用于大型查询，并且它很快就给出了结果。

在过去 5 年中使用了每个选项后，如果您希望自动执行此操作，我建议您使用 ldapsearch（用于 UNIX）或 ldp.exe（用于 Windows 命令行）；或 Gawor 的 ldap 浏览器 / Apache Directory Studio 作为潜在的替代方案，如果您想生成独立的数据提取。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-28T00:30:59.467

Novell 有一个名为 Identity Manager 的产品（现在属于 NetIQ 产品线），它可以将对象（架构中允许的任何对象）从 eDirectory 同步到许多其他系统，包括 Active Directory。如果您在 eDirectory 中启用了通用密码，您甚至可以发送密码。

这旨在用作身份管理系统，您可以让 HR 供应用户进入中央 eDirectory 实例（作为集线器），然后将该数据推送到符合您定义的标准的所有连接系统。

它支持基于角色的访问控制，因此也许只有属于某些角色的人才能被配置到某些系统等中。

非常强大，而且相当容易设置。如果您拥有许多 Novell/NetIQ 产品，它们都包含一个免费捆绑版本。

# java - Websphere Cluster - Spring 文件监听器

> ID：11151181
> 
> 赞同：0
> 
> 时间：2012-06-22T06:32:29.173
> 
> 标签：java, spring, websphere-7

我有一个 Websphere Cluster Setup v7。服务器 A1 负载均衡器，A2（部署管理器），B（WAS），C（WAS）。在服务器 B 和 C 的 ejb 中，部署了 web 和一个 spring 应用程序。Spring 应用程序侦听一个文件夹，当文件到达该文件夹时，它会处理它，然后通过 Web 服务调用 Web 应用程序。所以当spring应用部署在B和C.文件被处理两次导致重复记录如何解决上述问题。我应该写一个java逻辑还是websphere中的任何设置都会做正确的事情？如果我必须编写一个 java 逻辑，请给出一些建议（可靠且易于实现注意：集群节点可以在一段时间后增加）。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T13:05:29.943

所以，你有使用 Spring 的应用程序逻辑，当它在同一个文件系统上运行多次时，应用程序逻辑会出现异常。那是对的吗？如果是这样，WebSphere Application Server 就无能为力了。我建议将状态（文件是否已被处理）存储在共享存储中，例如数据库。

# iphone - 如何在 iphone webview 中显示 java 脚本编码警报？

> ID：11151182
> 
> 赞同：1
> 
> 时间：2012-06-22T06:32:32.120
> 
> 标签：iphone, ios5

大家好，我是新的 iphone 开发人员。我正在从我的 URL 处理 webview 应用程序我在 web 浏览器中收到警报，但相同的 url 没有在 iphone web 视图中显示警报，就像 web 浏览器一样。如何在 iphone web 视图中应用 java 脚本编码警报？先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T14:33:49.960

如果 Javascript 是您的，那么您可以调用一个调用 Objective C 并调用 iOS 本机警报的函数，而不是调用警报。

如果 Javascript 不是您的，那么使用 UIWebView 您可以注入一些 Javascript 来覆盖默认行为并将其更改为调用 iOS 本机警报，即类似这样

```
window.alert = function(message) {
  window.location = "myScheme://" + message"
}; 
```

然后在 UIWebView 的 shouldStartLoadWithRequest 中查找 myScheme 并提取消息

# java - 如何从 mongodb 中检索 Hashtable？

> ID：11151184
> 
> 赞同：1
> 
> 时间：2012-06-22T06:32:35.800
> 
> 标签：java, mongodb, hashtable

我使用 BasicDBObject 将哈希表存储在 mongodb 中。现在我想检索这个哈希表。我该怎么做？

```
HashTable<String, Login> loginHashTable;
HashTable<String, Other> otherHashTable;

DBCollection coll = db.getCollection(users);
BasicDBObject obj = new BasicDBObject();
obj.insert("HashTable1", loginHashTable);
obj.insert("HashTable2", otherHashTable);
coll.insert(obj); 
```

它正确存储而没有错误，但我如何检索一个特定的哈希表。假设我想检索 loginHashTable。那么，我该怎么做呢？

```
Somewhat like this:
HashTable <String,Login> retrieveTable = obj.get("HashTable1"); 
```

我的登录类是这样的：

```
public class Login extends ReflectionDBObject implements Serializable
{
    /** Enterprise user name used for authentication. */
    public String username = null;

    /** Enterprise password used for authentication. */
    public String password = null;

    /**Name of manufacturer of mobile phone*/
    public String manufacturer = null;

    /**Name of model of mobile phone*/
    public String model = null;

    /**Language in which Mobile software release is needed*/
    public String language = null;

    /**Current version of the software*/
    public String version = null;

    public static String id;
} 
```

我的另一堂课是这样的：

```
public class Other extends ReflectionDBObject implements Serializable
{
   public String sessionID = null;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T06:52:26.410

它将 HashTable 作为 BasicDBObject（HashMap 格式）添加到数据库中。因此，为了检索数据，您应该首先将 HashTable 作为 HashMap 获取，然后手动将其转换为 HashTable。这里的示例显示了如何以 HashTable 格式检索数据。我尝试使用`HashTable<String,String>`.

为了将 Login 类插入到 Mongo 中，您可以使用[Morphia](http://code.google.com/p/morphia/)等对象映射库。第二种方法可以使用[ReflectionDBObject](http://api.mongodb.org/java/2.6/com/mongodb/ReflectionDBObject.html)。如果您扩展 ReflectionDBObject，您可以添加登录对象。

登录类：

```
public class Login extends ReflectionDBObject {

    /** Enterprise user name used for authentication. */
    private String username;

    /** Enterprise password used for authentication. */
    private String password;

    /**Name of manufacturer of mobile phone*/
    private String manufacturer;

    /**Name of model of mobile phone*/
    private String model;

    /**Language in which Mobile software release is needed*/
    private String language;

    /**Current version of the software*/
    private String version;

    private String id;

    // Getters & Setters
} 
```

其他类：

```
public class Other extends ReflectionDBObject{
    public String sessionID;

    // Getter & Setter
} 
```

插入和查找方法

```
public void insert() {
    Login login = new Login();
    login.setUsername("test");
    login.setPassword("12345");
    login.setLanguage("english");

    Other other = new Other();
    other.setSessionID("111111");

    Hashtable<String, Login> loginHashTable = new Hashtable<String, Login>();
    loginHashTable.put("login", login);

    Hashtable<String, Other> otherHashTable = new Hashtable<String, Other>();
    otherHashTable.put("other", other);

    DBObject obj = new BasicDBObject();
    obj.put("HashTable1", loginHashTable);
    obj.put("HashTable2", otherHashTable);
    coll.insert(obj);
}

public void find() {
    DBObject query = new BasicDBObject();
    DBCursor cur = coll.find(query);

    for (DBObject obj : cur) {
        HashMap<String, Login> loginHashMap = (HashMap<String, Login>) obj.get("HashTable1");
        Hashtable<String, Login> loginHashTable = new Hashtable<String, Login>();
        loginHashTable.putAll(loginHashMap);

        HashMap<String, Other> otherHashMap = (HashMap<String, Other>) obj.get("HashTable2");
        Hashtable<String, Other> otherHashTable = new Hashtable<String, Other>();
        otherHashTable.putAll(otherHashMap);
    }
} 
```

# iphone - 根据应用程序设置而不是设备设置在 UIDatepicker 中以 12 和 24 小时格式显示时间

> ID：11151187
> 
> 赞同：28
> 
> 时间：2012-06-22T06:32:48.360
> 
> 标签：iphone, objective-c, ios, uidatepicker, time-format

我的问题是我的应用程序中有一个开关可以切换 12 小时和 24 小时时间格式。我正在根据它显示我的标签时间，但`UIDatePicker`时间没有改变。时间取决于设备时间设置格式。是可以根据我的应用程序设置显示时间，`UIDatePicker`这可能与设备时间设置不同。在某处我读到 UIDatePicker 仅尊重设备设置，但我仍然想问是否可以`UIDatePicker`根据我的应用设置以 12 和 24 小时格式显示时间。

请帮我。任何建议将不胜感激！

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2013-02-27T06:52:33.373

尝试此代码以显示 24 小时格式`DatePicker`：

```
NSLocale *locale = [[NSLocale alloc] initWithLocaleIdentifier:@"NL"];
[self.datePicker setLocale:locale]; 
```

* * *

## 回答 #2

> 赞同：31
> 
> 时间：2015-11-25T09:30:55.063

**在斯威夫特**

```
 // myDatePicker is yourUIDatePicker Outlet
    @IBOutlet weak var myDatePicker: UIDatePicker!

    // For 24 Hrs 
    myDatePicker.locale = NSLocale(localeIdentifier: "en_GB") as Locale

    //For 12 Hrs
    timePickerView.locale = NSLocale(localeIdentifier: "en_US") as Locale 
```

* * *

## 回答 #3

> 赞同：21
> 
> 时间：2012-06-22T06:37:55.297

因为`UIDatePicker`您不能将时间格式更改为 24 或 12，这取决于 setting.app 中的用户本地设置

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2017-12-06T09:20:26.220

**Swift 4**版本的 ak2g 的回答：

```
// myDatePicker is yourUIDatePicker Outlet
@IBOutlet weak var myDatePicker: UIDatePicker!

// For 24 Hrs 
myDatePicker.locale = Locale(identifier: "en_GB")

//For 12 Hrs
myDatePicker.locale = Locale(identifier: "en_US") 
```

* * *

## 回答 #5

> 赞同：11
> 
> 时间：2017-07-22T07:11:52.783

不需要任何一行代码。我们也可以从 Story Board 设置语言环境，我附上了截图。

[![在此处输入图像描述](../Images/c5b441a9555db30e14caa52eb0bd6f78.png)](https://i.stack.imgur.com/4akEK.png)

要以编程方式执行此操作，我们还可以编写以下代码。

```
dateTimePicker.locale = Locale(identifier: "en_GB") 
```

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2020-04-21T13:56:59.827

只需使用 24 小时格式：

```
picker.locale = Locale.init(identifier: "en_gb") 
```

对于 12 小时格式：

```
picker.locale = Locale.init(identifier: "en_us") 
```

为什么这行得通？因为 en_gb 是英式英语，它更喜欢 24 小时格式。你猜对了，en_us 是美式英语，它更喜欢 12 小时格式。

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2018-04-09T08:43:59.080

**轻松格式化结果**

由于本地设备不在 24 小时内。选择12h格式的时间没有问题。主要是当您尝试向服务器提交时间时会出现此问题。以及服务器以 24 小时格式请求它。

然而，对于用户来说，用户更容易使用 12h 格式而不是 24h 格式。但服务器通常需要时间为 24 小时格式。

既然你提到

> 不在设备设置上

我只能假设您正在尝试在不中断电话上的用户默认设置的情况下实现这一点。但是，如果您的问题与视图有关，那么

```
myDatePicker.locale = NSLocale(localeIdentifier: "en_GB") 
```

是唯一的方法。

**我所做的不是以 24 小时格式显示，而是将结果值转换为 24 小时格式。**

```
let dateFormatter = DateFormatter()
dateFormatter.dateFormat = "HH:mm"
print("\(pickerView.date)") // 10:30 PM
let dateSelect = dateFormatter.string(from: pickerView.date)//pickerView = to your UIDatePicker()
self.tfclosing.text = dateSelect // 22:30 
```

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2014-09-28T02:34:11.937

我找到了一种更简单的方法，单击情节提要上的 UIDatePicker 属性检查器，并将语言环境设置为“英语（欧洲）”。这将取消 AM/PM 切换并将时间设置为 24 小时格式。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2012-06-22T06:37:32.817

将您的 UIDatepicker 设置为具有区域设置属性，这样它就不会默认为用户的区域设置。

这是这样做的[文档](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIDatePicker_Class/Reference/UIDatePicker.html)，并确保设置[国家，而不是语言](https://stackoverflow.com/questions/1151335/can-i-localize-a-uidatepicker)。

编辑：实际上，看起来语言环境在 iOS 5.0 中被贬低了。我猜苹果认为人们不应该覆盖它。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2021-02-16T13:42:12.950

我对此有一个答案，您可以在将其设置为 datePicker 之前自定义语言环境。

语言环境包括 (language_region)

```
extension UIDatePicker {
internal func setLocale() {
    guard let countryCode = (Locale.current as NSLocale).object(forKey: .countryCode) as? String else {
        self.locale = LanguageManager.shared.appLocale
        return
    }
    self.locale = Locale(identifier: "\(LanguageManager.shared.appLocale.identifier)_\(countryCode)")
   }
} 
```

其中 LanguageManager.shared.appLocale.identifier 是选择使用的语言代码（en、ar、fr 等...）

并像使用它一样

```
 let datePicker = UIDatePicker()
    datePicker.setLocale() 
```

它将导致语言环境，例如“fr_US”，而美国是设备国家地区，因此如果用户将应用程序语言更改为法语，例如它将使用美国地区，因此它将采用 12h 格式，尽管“fr”仅使用 24h 格式

* * *

## 回答 #11

> 赞同：-1
> 
> 时间：2013-12-12T06:51:19.737

如果我理解正确，您需要确定设备设置是 12 小时还是 24 小时格式。对不起，如果这个解决方案有点晚了。

```
 -(BOOL)returnDefaultDateFormat
   {
       NSString *formatStringForHours = [NSDateFormatter dateFormatFromTemplate:@"j"     options:0 locale:[NSLocale currentLocale]];
       NSRange containsA = [formatStringForHours rangeOfString:@"a"];
       BOOL hasAMPM = containsA.location != NSNotFound;
       return hasAMPM;
} 
```

# vb.net - 如何检查当前系统日期格式？

> ID：11151188
> 
> 赞同：5
> 
> 时间：2012-06-22T06:32:49.850
> 
> 标签：vb.net, date-format

如何检查系统日期格式？尝试使用下面的代码，但是当我将系统的日期格式更改为另一种日期格式以测试代码时，它仍然显示更改前的日期格式！

```
System.Globalization.CultureInfo.CurrentCulture.DateTimeFormat.ShortDatePattern() 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-22T06:50:10.590

好的。我设法找到了解决方案，**“CurrentCulture”**必须是**“CurrentUICulture”**，而不是 CurrentCulture。如下：

```
System.Globalization.CultureInfo.CurrentUICulture.DateTimeFormat.ShortDatePattern() 
```

# xml - 在 Grails 中呈现 XML 输出

> ID：11151189
> 
> 赞同：0
> 
> 时间：2012-06-22T06:32:52.270
> 
> 标签：xml, grails, render

我有一个名为 paymentMethods 的域类..

对于 REST 服务，我想以 XML 格式发送 paymentMethods。

使用

```
render paymentMethods as XML 
```

我能发送。但我不想发送一些机密数据，如 cardNumber。我怎样才能从那个 XML 中删除一些特定的标签。

谢谢....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T14:51:53.207

检查这个： [Grails JSON marshaller 中的自定义字符串格式](http://jwicz.wordpress.com/2011/07/11/grails-custom-xml-marshaller/)

通过添加来适应您的任务非常容易

```
implements ObjectMarshaller<XML> 
```

反而

```
implements ObjectMarshaller<JSON> 
```

您可以为要跳过的属性指定一些名称。

另请查看这篇文章：[Grails custom XML Marshaller](http://jwicz.wordpress.com/2011/07/11/grails-custom-xml-marshaller/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T08:12:18.650

您有两个选择 - 为 XML 转换器注册自定义 ObjectMarshaller，这样它就不会输入您不想公开的属性。或者您可以根据需要使用 Groovy 的标记构建器来构建 xml。

如果您希望使用 render As XML - 您需要创建一个自定义 ObjectMarshaller 来公开您选择的属性

1.  请参阅本文了解如何注册自定义[ObjectMarshaller](http://omaha-seattle.blogspot.in/2010/02/grails-xml-conversion.html)
2.  这适用于[Groovy 标记构建器](http://groovy.codehaus.org/Creating+XML+using+Groovy%27s+MarkupBuilder)

# java - xml文件解析prolog错误

> ID：11151191
> 
> 赞同：1
> 
> 时间：2012-06-22T06:33:03.237
> 
> 标签：java, xml, firefox

我有一个 xml 文件，它开始 < ?xml version="1.0" encoding="utf-8"?>

.....并在java中做了dom xml解析。如果我通过 Firefox 浏览器 4.0 版中的 Tomcat 管理器编译和运行，该程序将成功执行。但是，如果我在我的 Firefox 浏览器最新版本 12.0 或 IE 8 中尝试相同的操作，则会导致以下错误。

SAX 异常：org.xml.sax.SAXParseException；行号：1；列号：1；prolog中不允许内容。我在互联网上搜索了这个问题，有人说在utf-8和prolog之间添加一个空格。我也试过了。但问题依然存在。所以任何提出建议的人都会帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-24T17:25:45.333

我认为 < ?xml version="1.0" encoding="utf-8"?> 这一行之前有空格

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-05T15:55:35.553

我遇到了同样的问题，原因只是一个简单的错误，因为我没有提供该`parse`方法的文件路径。

拥有正确的文件路径为我解决了这个问题。

# android - 单击按钮时如何动态添加更多字段

> ID：11151194
> 
> 赞同：3
> 
> 时间：2012-06-22T06:33:17.823
> 
> 标签：android, android-layout

我正在尝试创建一个表单，当用户单击`LinearLayout`包含 a`TextView`和 2的按钮时，该表单可以添加其他字段`EditText`。类似于联系人应用程序。任何人都可以推荐一个教程或示例吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T06:38:19.203

创建一个包含您想要的动态视图的线性布局，创建一个您想要动态添加的布局文件，创建一个用于将该布局膨胀到您的活动的类，并使用其对象获取视图并将其添加到该框（其中的布局你想要动态视图）。你可以这样走。

```
public class BoxView {
    private Context context;
    private TextView tv;
    private EditText edt;
    private Button btn;
    private View v;

    public BoxView(Context context) {

        // TODO Auto-generated constructor stub
        this.context= context;
        init();
    }

    private void init() {
        // TODO Auto-generated method stub
        LayoutInflater inflator= LayoutInflater.from(context);
         this.v= inflator.inflate(R.layout.sample_layout, null);

        this.tv=(TextView)v.findViewById(R.id.textView1);
        this.edt=(EditText)v.findViewById(R.id.editText1);
        this.btn=(Button)v.findViewById(R.id.button1);

    }

    public View getView(){
        return v;
    }
    public void setTv(TextView tv) {
        this.tv = tv;
    }
    public TextView getTv() {
        return tv;
    }
    public void setEdt(EditText edt) {
        this.edt = edt;
    }
    public EditText getEdt() {
        return edt;
    }
    public void setBtn(Button btn) {
        this.btn = btn;
    }
    public Button getBtn() {
        return btn;
    }

} 
```

在您的活动中，您可以这样做：

```
 LinearLayout layout=(LinearLayout)findviewbyId(R.id.layout1);
 BoxView box=new BoxView(context);
 layout.addView(box.getView); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-22T06:41:53.503

您可以通过将新组件添加到 xml 中定义的父布局来添加新组件（您可以通过为其提供 id 来引用该布局，并通过在您的活动中使用它来访问它，您将`LinearLayout linearLayout = findViewById(R.id.idOfLayout);`获得`LinearLayout`该父布局，您可以通过动态向其添加另一个布局创建它们）

这里有一些链接可以帮助您了解在 Android 中动态添加和删除组件

[通过代码链接构建动态表单](https://stackoverflow.com/questions/5847561/android-build-dynamic-form-from-code) [。LinearLayout 添加删除 ElementsLink..](https://stackoverflow.com/questions/10515589/dynamically-add-remove-control-form-linearlayout)

# git - ld：在 mac os x lion 上找不到 -lintl 的库

> ID：11151197
> 
> 赞同：5
> 
> 时间：2012-06-22T06:33:23.977
> 
> 标签：git, installation

我很久以前安装了 git 1.7.4.4。我想升级到 git 1.7.11。

但是，当我跑步时

> sudo make prefix=/usr/local install

它给出了这个错误：

> ld：找不到 -lintl 的库
> 
> collect2: ld 返回 1 个退出状态
> 
> make: *** [git-credential-store] 错误 1

如何解决？

谢谢

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-09-03T14:42:35.250

我在尝试在 OSX Lion 上构建 wireshark 时遇到了同样的错误消息。看起来 GNU gettext 提供了 libintl。就我而言，我已经通过自制软件安装了 gettext，但是符号链接没有到位，所以运行：

```
brew link gettext 
```

为我解决了这个问题。

如果您还没有`gettext`安装，您可能需要使用[自制软件](https://brew.sh/)或其他方式安装它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-22T06:44:32.177

我当然没有尝试过，但这[似乎](http://code.google.com/p/rudix/downloads/detail?name=static-libintl-0.18.1.1-5.pkg&can=2&q=label%3aRudix-2012)是为 OS X 构建的 libintl。

如果您不知道如何配置它，您可以将其复制到您的 /usr/lib 文件夹中以便可以找到它。

# c++ - 使用 c++ 为大至 1000 x 1000 的矩阵实现 8 连接的连接组件标记

> ID：11151200
> 
> 赞同：0
> 
> 时间：2012-06-22T06:33:30.437
> 
> 标签：c++, c, algorithm, graphics, matrix

如何在 C++ 中为大尺寸的二进制矩阵实现 CCL？我已经检查了维基百科中的算法，但我不明白如何解决它并实现数据结构来存储等价！任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T07:01:25.817

```
Mark all nodes unassigned.

Iterate through all nodes:
    If node unassigned:
        Assign node to a new component id C
        Do a depth-first-search for all nodes connected to this one:
             mark them with same component id C 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T07:03:18.027

如果您不使用图形，请利用联合查找数据结构（也称为不相交集数据结构）

# asp.net-mvc-3 - 总是需要 Https 到一个特定的路由而不是整个网站

> ID：11151201
> 
> 赞同：0
> 
> 时间：2012-06-22T06:33:31.390
> 
> 标签：asp.net-mvc-3, asp.net-mvc-routing, asp.net-mvc-3-areas

我想将 https 用于单个页面而不是整个网站。我的应用程序在 MVC3 中。我已经使用下面的代码来实现这一点。

```
[RequireHttps]
public ViewResult YourAction() 
```

但是在路由到我的特定操作之后，整个网站在 https 下运行。我想将 https 用于单个页面而不是整个网站。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-06T09:34:41.350

我已经使用下面的代码完成了它。

```
 public static void RegisterGlobalFilters(GlobalFilterCollection filters)
            {
                filters.Add(new HandleErrorAttribute());
                filters.Add(new LimitHttpsAttribute());
            }

 public class LimitHttpsAttribute : IAuthorizationFilter
    {
        private static Type ssl = typeof(RequireHttpsAttribute);

        public void OnAuthorization(AuthorizationContext filterContext)
        {
            if (filterContext == null)
            {
                throw new ArgumentNullException("filterContext");
            }
            if (filterContext.HttpContext != null && filterContext.HttpContext.Request != null)
            {
                if (!filterContext.HttpContext.Request.IsSecureConnection ||
                    filterContext.HttpContext.Request.IsAuthenticated)
                {
                    return;
                }
                if (!RequiresSSL(filterContext))
                {
                    filterContext.Result = Unencrypted(filterContext.HttpContext.Request);
                }
            }
        }

        private bool RequiresSSL(AuthorizationContext filterContext)
        {
            return filterContext.ActionDescriptor != null ?
                filterContext.ActionDescriptor.GetCustomAttributes(ssl, true).Length > 0
                : false;
        }
} 
```

# iphone - 如何发送表情符号？

> ID：11151202
> 
> 赞同：-1
> 
> 时间：2012-06-22T06:33:41.683
> 
> 标签：iphone, objective-c, ipod, emoji

在我的应用程序中，我有一个聊天选项。

在发送表情符号时，我可以发送一些符号，但不能发送其他符号。

例如，如果用户键入 <3)，则此方法有效，但 :D) 无效。

![在此处输入图像描述](../Images/d763cded9df391ee7d479794c18e59e2.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T06:56:37.157

有`unicodes`，那些用于显示表情符号。

所以要么你可以使用 unicodes 显示，要么有一个内置的表情符号键盘。

您只需为 textfield 或 textview 设置该键盘，您需要在其中显示表情符号。

这是unicode的链接

[http://arashnorouzi.wordpress.com/2011/08/31/adding-graphics-and-emoji-characters-to-apple-push-notifications/](http://arashnorouzi.wordpress.com/2011/08/31/adding-graphics-and-emoji-characters-to-apple-push-notifications/)

# javascript - 任何从 AST 生成 JavaScript 代码的工具

> ID：11151206
> 
> 赞同：6
> 
> 时间：2012-06-22T06:33:55.290
> 
> 标签：javascript

我和我的朋友想学习制作我们自己的编程语言，通过编译成 JavaScript 代码来运行。现在有很多语言可以编译成 JavaScript。到目前为止，我已经学习了从源代码解析代码并在 JavaScript 中运行的基本简单方法。
但到目前为止我还不能生成好的代码。由于许多项目都这样做了，我想知道这里是否有任何标准工具，并且我可以从获得表单解析源的 AST 生成 JavaScript？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-13T09:47:50.260

`escodegen`会好的。 [https://github.com/Constellation/escodegen](https://github.com/Constellation/escodegen)

# javascript - 无法格式化数组中的日期

> ID：11151207
> 
> 赞同：0
> 
> 时间：2012-06-22T06:34:04.993
> 
> 标签：javascript, google-apps-script, datetime-format

我有一个数组，我想使用 getRange().setValues() 将其写入电子表格。我可以毫无问题地写入电子表格，但日期总是如下所示：

`2012-06-18T07:00:00.000Z`

我只对看感兴趣`2012-06-18`。当我尝试使用格式化日期时

```
passedArray[0][12] = Utilities.formatDate(passedArray[0][12], "GMT", "yyyy-MM-dd"); 
```

或者

```
Utilities.formatDate(passedArray[0][12], "GMT", "yyyy-MM-dd"); 
```

或者

```
ModifiedArray[0][12] = Utilities.formatDate(passedArray[0][12], "GMT", "yyyy-MM-dd"); 
```

它会产生意外错误。在另一个函数中创建并填充其自身的数组，然后以 JSON 格式存储为属性：

```
var array1JSON = [{'array':[array1[i]]}];
UserProperties.setProperty("arrayPassing",JSON.stringify(array1JSON)); 
```

然后从另一个函数访问

```
var array1JSON = JSON.parse(UserProperties.getProperty('arrayPassing'));
var passedArray = array1JSON[0].array; 
```

任何帮助，将不胜感激。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T13:58:08.450

我想您可以尝试一下`Utilities.formatDate(new Date(passedArray[0][12]), "GMT", "yyyy-MM-dd");` ，因为 Utilities.formatDate 中的参数必须是日期对象。

# c# - SandCastle：为 C# 类名生成链接

> ID：11151208
> 
> 赞同：1
> 
> 时间：2012-06-22T06:34:05.723
> 
> 标签：c#, .net, documentation-generation, sandcastle

当我在我的 C++ 项目中使用 doxygen 时，我简单地写道：

```
/**
* I can refer to SomeClass or even SomeClass::someMethod() without special markup.
*/ 
```

然后 doxygen 生成从“SomeClass”和“SomeClass::someMethod()”字符串到适当文档的链接。

现在我使用 C# 并希望使用 SandCastle 从 C# 代码生成文档。我意识到应该使用 xml 标签构建链接：

```
/// <see cref="SomeClass"/> and <see cref="SomeClass.someMethod()"/> 
```

我认为它非常繁琐且不可读。

有什么方法可以在没有特殊标记的情况下为类和方法生成链接？您如何为 C# 项目生成文档？

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T06:45:09.997

> 有什么方法可以在没有特殊标记的情况下为类和方法生成链接？

我不这么认为。实际上[XML 文档（格式）](http://msdn.microsoft.com/en-us/library/b2s063f7.aspx)不是沙堡的特性，而是 C# 编译器的特性。Sandcastle（和其他工具，如 NDoc）“简单地”构建在它之上。

> 您如何为 C# 项目生成文档？

我们正在使用[Sandcastle](http://sandcastle.codeplex.com/)和[Sandcastle Helpfile Builder (SHFB)](http://shfb.codeplex.com/)。此外，我们正在使用[GhostDoc](http://submain.com/products/ghostdoc.aspx)和 ReSharper，它们有助于编写和（即时）验证 XML 注释，例如您引用的类型、方法或其他内容是否确实存在。

我认为你也可以在你的 C# 代码中使用 Doxygen 和 Doxygen 风格的注释，但我个人从未尝试过。您必须查看 Doxygen[网站](http://www.doxygen.nl/)。但是您会错过其他工具提供的基于 XML 文档（如[ReSharper 的快速文档](http://www.jetbrains.com/resharper/webhelp50/Coding_Assistance__Quick_Documentation.html)）或最突出的是 Intellisense 的帮助/描述文本的功能。

# html - 响应式 DL 和 DT 布局

> ID：11151214
> 
> 赞同：0
> 
> 时间：2012-06-22T06:34:26.833
> 
> 标签：html, css, responsive-design

我的问题是，当浏览器在某个点调整大小时，布局会中断。对于移动布局，我可以加载另一个 CSS，这很好，但在 640 像素时它看起来不太好。

有什么办法可以解决吗？也许有一些已知的布局适用于这种情况？

这是HTML：

```
​&lt;html>
<dl>
    <dt>Small</dt>
    <dd>Small</dd>
    <dt>Three blind mice</dt>
    <dd>Value</dd>    
    <dt>This text is wrapped. But breaks at 640px</dt>
    <dd>Three blind mice, Three blind mice, See how they run</dd>    
</dl>
</html>​ 
```

以及相关的 CSS：

```
dl  {
    background-color: #D0D;
    overflow: auto;
}

dt  {
   float: left;
   width: 30%;
   text-align: right;
   background-color: #DD0;
}

dd {
   width: 70%;
   float: left;
   background-color: #0DD;
} 
```

​例如，请参见这里的[小提琴](http://jsfiddle.net/L2CtV/)。如果将浏览器调整为更小的比例，则布局会“混乱”。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T15:47:14.630

您可以尝试使用 inline-blocks 而不是浮点数：

```
dl  {
    margin: 0px; padding: 0px;
    background-color: #D0D;
    overflow: auto;
}

dt  {
   display: inline-block;
   width: 30%;
   text-align: right;
   background-color: #DD0;
}

dd {
   width: 60%;
   display: inline-block;
   background-color: #0DD;
} 
```

[http://jsfiddle.net/L2CtV/3/](http://jsfiddle.net/L2CtV/3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T08:39:45.573

当您减小窗口大小时，它会破坏文本空间不足的原因。您可以将 css 属性添加`white-space: nowrap;`到`<dt>`和`<dd>`标签以制作一行文本。在这里查看[http://jsfiddle.net/L2CtV/1/](http://jsfiddle.net/L2CtV/1/)

您还可以使用**媒体查询**为不同的窗口大小设置 css 规则，但它仅受现代浏览器支持。

# java - 启动时播放框架错误

> ID：11151220
> 
> 赞同：4
> 
> 时间：2012-06-22T06:34:43.247
> 
> 标签：java, playframework, playframework-2.0

第一次访问 localhost:9000 时出现错误。这是我的第一个“播放运行”命令。我是游戏框架的新手，在浏览器中写着：编译失败，没有报告任何问题！？。

控制器的代码是默认的：

```
 public class Application extends Controller {

   public static Result index() {
             return ok(index.render("Your new application is ready."));
   } 
```

}

播放 2.0 版本。

我在日志文件中的堆栈跟踪如下：

```
 2012-06-22 10:25:29,937 - [INFO] - from play in main 
    Listening for HTTP on port 9001...

    2012-06-22 10:25:43,292 - [ERROR] - from application in New I/O server worker #1-1 
    ! Internal server error, for request [GET /] ->
    play.api.UnexpectedException: Unexpected exception [Compilation failed without reporting any problem!?]
    at sbt.PlayReloader$$anon$2$$anonfun$reload$3$$anonfun$2$$anonfun$apply$11$$anonfun$apply$13.apply(PlayReloade  r.scala:225) ~[na:na]
    at sbt.PlayReloader$$anon$2$$anonfun$reload$3$$anonfun$2$$anonfun$apply$11$$anonfun$apply$13.apply(PlayReloade  r.scala:225) ~[na:na]
    at scala.Option.getOrElse(Option.scala:108) ~[scala-library.jar:0.11.2]
    at sbt.PlayReloader$$anon$2$$anonfun$reload$3$$anonfun$2$$anonfun$apply$11.apply(PlayReloader.scala:224) ~   [na:na]
    at sbt.PlayReloader$$anon$2$$anonfun$reload$3$$anonfun$2$$anonfun$apply$11.apply(PlayReloader.scala:221) ~[na:na]
    at scala.Option.map(Option.scala:133) ~[scala-library.jar:0.11.2]
    at sbt.PlayReloader$$anon$2$$anonfun$reload$3$$anonfun$2.apply(PlayReloader.scala:221) ~[na:na]
    at sbt.PlayReloader$$anon$2$$anonfun$reload$3$$anonfun$2.apply(PlayReloader.scala:219) ~[na:na]
    at scala.Either$LeftProjection.map(Either.scala:183) ~[scala-library.jar:0.11.2]
    at sbt.PlayReloader$$anon$2$$anonfun$reload$3.apply(PlayReloader.scala:219) ~[na:na]
    at sbt.PlayReloader$$anon$2$$anonfun$reload$3.apply(PlayReloader.scala:214) ~[na:na]
    at scala.Option.getOrElse(Option.scala:108) ~[scala-library.jar:0.11.2]
    at sbt.PlayReloader$$anon$2.reload(PlayReloader.scala:214) ~[na:na]
    at play.core.ReloadableApplication$$anonfun$get$1.apply(ApplicationProvider.scala:110) ~[play_2.9.1.jar:2.0]
    at play.core.ReloadableApplication$$anonfun$get$1.apply(ApplicationProvider.scala:110) ~[play_2.9.1.jar:2.0]
    at akka.dispatch.Future$$anon$3.liftedTree1$1(Future.scala:195) ~[akka-actor.jar:2.0]
    at akka.dispatch.Future$$anon$3.run(Future.scala:194) ~[akka-actor.jar:2.0]
    at akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:83) ~[akka-actor.jar:2.0]
    at akka.jsr166y.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1381) ~[akka-actor.jar:2.0]
    at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259) ~[akka-actor.jar:2.0]
    at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:997) ~[akka-actor.jar:2.0]
    at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1495) ~[akka-actor.jar:2.0]
    at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104) ~[akka-actor.jar:2.0]
sbt.compiler.CompileFailed: null
    at sbt.compiler.JavaCompiler$$anon$1.apply(JavaCompiler.scala:26) ~[na:na]
    at sbt.AggressiveCompile$$anonfun$5$$anonfun$compileJava$1$1.apply$mcV$sp(AggressiveCompile.scala:76) ~[na:na]
    at sbt.classfile.Analyze$.apply(Analyze.scala:93) ~[na:na]
    at sbt.AggressiveCompile$$anonfun$5.compileJava$1(AggressiveCompile.scala:75) ~[na:na]
    at sbt.AggressiveCompile$$anonfun$5.apply(AggressiveCompile.scala:79) ~[na:na]
    at sbt.AggressiveCompile$$anonfun$5.apply(AggressiveCompile.scala:57) ~[na:na]
    at sbt.inc.IncrementalCompile$$anonfun$doCompile$1.apply(Compile.scala:21) ~[na:na]
    at sbt.inc.IncrementalCompile$$anonfun$doCompile$1.apply(Compile.scala:19) ~[na:na]
    at sbt.inc.Incremental$.cycle(Incremental.scala:33) ~[na:na]
    at sbt.inc.Incremental$.compile(Incremental.scala:20) ~[na:na]
    at sbt.inc.IncrementalCompile$.apply(Compile.scala:17) ~[na:na]
    at sbt.AggressiveCompile.compile2(AggressiveCompile.scala:87) ~[na:na]
    at sbt.AggressiveCompile.compile1(AggressiveCompile.scala:41) ~[na:na]
    at sbt.AggressiveCompile.apply(AggressiveCompile.scala:28) ~[na:na]
    at sbt.Compiler$.apply(Compiler.scala:107) ~[na:na]
    at sbt.Defaults$$anonfun$compileTask$1.apply(Defaults.scala:479) ~[na:na]
    at sbt.Defaults$$anonfun$compileTask$1.apply(Defaults.scala:479) ~[na:na]
    at sbt.Scoped$$anonfun$hf2$1.apply(Structure.scala:473) ~[na:na]
    at sbt.Scoped$$anonfun$hf2$1.apply(Structure.scala:473) ~[na:na]
    at scala.Function1$$anonfun$compose$1.apply(Function1.scala:41) ~[scala-library.jar:0.11.2]
    at sbt.Scoped$Reduced$$anonfun$combine$1$$anonfun$apply$11.apply(Structure.scala:295) ~[na:na]
    at sbt.Scoped$Reduced$$anonfun$combine$1$$anonfun$apply$11.apply(Structure.scala:295) ~[na:na]
    at sbt.$tilde$greater$$anonfun$$u2219$1.apply(TypeFunctions.scala:40) ~[na:na]
    at sbt.std.Transform$$anon$5.work(System.scala:67) ~[na:na]
    at sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:221) ~[na:na]
    at sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:221) ~[na:na]
    at sbt.ErrorHandling$.wideConvert(ErrorHandling.scala:18) ~[na:na]
    at sbt.Execute.work(Execute.scala:227) ~[na:na]
    at sbt.Execute$$anonfun$submit$1.apply(Execute.scala:221) ~[na:na]
    at sbt.Execute$$anonfun$submit$1.apply(Execute.scala:221) ~[na:na]
    at sbt.CompletionService$$anon$1$$anon$2.call(CompletionService.scala:26) ~[na:na]
    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source) ~[na:1.7.0_01]
    at java.util.concurrent.FutureTask.run(Unknown Source) ~[na:1.7.0_01]
    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) ~[na:1.7.0_01]
    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source) ~[na:1.7.0_01]
    at java.util.concurrent.FutureTask.run(Unknown Source) ~[na:1.7.0_01]
    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.7.0_01]
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.7.0_01]
    at java.lang.Thread.run(Unknown Source) [na:1.7.0_01] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-19T09:32:33.697

也许您使用另一个不同的 java 版本。我创建了一个项目A并使用java 6编译它。现在我将我的java更新为7。所以问题出现了！然后我使用 java 6 运行它！处理的问题；

但我不知道如何在java7中运行它。我试图*清理*和*编译*但也失败了。让我试试其他方法！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T06:51:23.960

你试过去`http://localhost:9001`吗？由于您的服务器是`Listening for HTTP on port 9001...`这可能是正确的路径；)

# ruby - 无法使用 ruby selenium webdriver 连接到浏览器

> ID：11151222
> 
> 赞同：10
> 
> 时间：2012-06-22T06:34:59.960
> 
> 标签：ruby, selenium, webdriver

我尝试使用 ruby​​ selenium webdriver 运行一些基本的自动化测试。相同的代码在我的家用计算机上完美运行，但在代理后面的工作计算机上失败（不需要身份验证）。

driver = Selenium::WebDriver.for :firefox, :profile => 'default'

我得到的错误是：

```
C:/Ruby193/lib/ruby/gems/1.9.1/gems/selenium-webdriver-2.24.0/lib/selenium/webdriver/remote/http/common.rb:66:in `create_response': unexpected response, code=
403, content-type="text/html" (Selenium::WebDriver::Error::WebDriverError)
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>ERROR: The requested URL could not be retrieved</TITLE>
<STYLE type="text/css"><!--BODY{background-color:#ffffff;font-family:verdana,sans-serif}PRE{font-family:sans-serif}--></STYLE>
</HEAD><BODY>
<H1>ERROR</H1>
<H2>The requested URL could not be retrieved</H2>
<HR noshade size="1px">
<P>
While trying to retrieve the URL:
<A HREF="http://127.0.0.1:7055/hub/session">http://127.0.0.1:7055/hub/session</A>
<P>
The following error was encountered:
<UL>
<LI>
<STRONG>
Access Denied.
</STRONG>
<P>
Access control configuration prevents your request from
being allowed at this time.  Please contact your service provider if
you feel this is incorrect.
</UL> 
```

浏览器以正确的配置文件打开，但结果驱动程序变量为零。我什至尝试在配置文件上手动设置代理，但没有成功。

有任何想法吗 ？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-25T13:30:27.393

您可能在您的环境中设置了 HTTP_PROXY（或 http_proxy）。selenium-webdriver (2.25) 的下一个版本也将支持 NO_PROXY/no_proxy（然后您可以将其设置为 NO_PROXY=127.0.0.1）。在此之前，您可以在启动浏览器之前从 Ruby 环境中删除代理：

```
ENV['HTTP_PROXY'] = ENV['http_proxy'] = nil
driver = Selenium::WebDriver.for :firefox 
```

如果您需要为 Firefox 配置代理与外界通信，您可以尝试这样的操作：

```
proxy = Selenium::WebDriver::Proxy.new(:http => ENV['HTTP_PROXY'] || ENV['http_proxy'])
ENV['HTTP_PROXY'] = ENV['http_proxy'] = nil
driver = Selenium::WebDriver.for :firefox, :proxy => proxy 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-14T17:42:17.000

代理后面的 selenium-webdriver 的使用与浏览器相关。简而言之，您需要找到一种将代理设置传递给 webdriver 创建的浏览器实例的方法。

以下是适用于 Firefox 的代码。

```
#Firefox keeps proxy settings in profile.
profile = Selenium::WebDriver::Firefox::Profile.new
profile.proxy = Selenium::WebDriver::Proxy.new( :http => "192.168.1.1:3128")
driver = Selenium::WebDriver.for :firefox, :profile => profile

driver.navigate.to "http://google.com"
puts driver.title
driver.quit 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2015-01-20T14:15:21.437

```
require 'rubygems'
require 'selenium-webdriver'
ENV['NO_PROXY']="127.0.0.1"
driver = Selenium::WebDriver.for :firefox
driver.get "http://google.com" 
```

# android - SlidingDrawer 隐藏在 Scrollview 后面

> ID：11151227
> 
> 赞同：0
> 
> 时间：2012-06-22T06:35:15.163
> 
> 标签：android, slidingdrawer

我第一次使用slidingdrawer，我不知道为什么它会被隐藏或者最糟糕的是没有显示在。我不知道请帮忙。这是我的 XML 代码：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/scrllvwNo1"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="#F1F3F2"
    android:orientation="vertical" >

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="#BDBEC0"
        android:orientation="vertical" >

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="60dp"
            android:layout_gravity="center_vertical|center_horizontal"
            android:layout_marginBottom="15dp"
            android:background="@drawable/titlebar"
            android:gravity="center_vertical|center_horizontal|center"
            android:orientation="horizontal"
            android:paddingLeft="10dp"
            android:paddingRight="10dp" >

            <Button
                android:id="@+id/cancelButton"
                style="@style/ButtonText"
                android:layout_width="0dp"
                android:layout_height="40dp"
                android:layout_gravity="right|center_vertical"
                android:layout_weight="1"
                android:background="@drawable/button"
                android:text="@string/cancelButton" >
            </Button>

            <TextView
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_gravity="center_vertical|center_horizontal"
                android:layout_weight="2"
                android:gravity="center_vertical|center_horizontal|center"
                android:text="@string/Terms"
                android:textColor="#fff"
                android:textSize="23sp" />

            <Button
                android:id="@+id/agreeButton"
                style="@style/ButtonText"
                android:layout_width="0dp"
                android:layout_height="40dp"
                android:layout_gravity="right|center_vertical"
                android:layout_weight="1"
                android:background="@drawable/button"
                android:text="@string/agreeButton" >
            </Button>
        </LinearLayout>
        </LinearLayout>

        <ScrollView
            android:id="@+id/SCROLLER_ID"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:background="#F1F3F2"
            android:fillViewport="true"
            android:padding="15dp"
            android:paddingBottom="20dp"
            android:scrollbars="vertical" >

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginLeft="15dp"
                android:layout_marginRight="15dp"
                android:layout_marginTop="20dp"
                android:text="@string/termsText"
                android:textColor="#595B5A"
                android:textSize="14sp" />
        </ScrollView>
    <SlidingDrawer
        android:id="@+id/SlidingDrawer"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:content="@+id/contentLayout"
        android:handle="@+id/slideHandleButton"
        android:background="#00000000"
        android:padding="10dip"
        android:topOffset="-50dp" >

        <Button
            android:id="@+id/slideHandleButton"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:background="#00000000" >
        </Button>

        <LinearLayout
            android:id="@+id/contentLayout"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:background="@drawable/titlebar"
            android:gravity="center|top"
            android:orientation="vertical"
            android:padding="22dip" >

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginBottom="20dp"
                android:layout_marginTop="20dp"
                android:text="@string/emailValidateConfirmationText"
                android:textColor="#fff"
                android:textSize="14sp" />

            <Button
                android:id="@+id/okButtonCreateAccount"
                style="@style/ButtonText"
                android:layout_width="90dp"
                android:layout_height="wrap_content"
                android:background="@drawable/button"
                android:text="@string/ok" >
            </Button>
        </LinearLayout>
    </SlidingDrawer>
</LinearLayout> 
```

此滑块在单击按钮时调用：

```
slider.animateOpen(); 
```

在我的代码中。我还将滑块安装为

```
SlidingDrawer slider = (SlidingDrawer) findViewById(R.id.SlidingDrawer); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T06:52:57.500

您已将滑块按钮的背景设置为#00000000，它是完全透明的黑色（不可见）。尝试使用#FF000000 或#F000。

# python - 我可以使用 showPythonShell 进行 Django 调试吗？

> ID：11151228
> 
> 赞同：2
> 
> 时间：2012-06-22T06:35:18.283
> 
> 标签：python, django, debugging

我真的很喜欢 Python，因为我可以使用它的 shell 来探索事物。

在开发 django 应用程序时是否可以这样做？

我的意思是，是否可以这样做：

```
def process_request(request):
    ...
    if(request.FILES != none):
        __builtins__.debug_request = request
        showPythonShell();
    ... 
```

所以我可以试验这个请求？

感谢：D

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T07:02:02.343

这可以使用 python 调试器完成：[`pdb`](http://docs.python.org/library/pdb.html)

甚至更好[`ipdb`](http://www.djm.org.uk/enhance-pdb-debugging-ipdb-ipython/)，它为您提供*制表符补全*、*语法高亮*和其他[`IPython`](http://ipython.org/)功能。

```
if(request.FILES != none):
    import ipdb; ipdb.set_trace() 
```

一旦到达该行，您就会被放到一个调试 shell 中，您可以在其中检查请求。检查 pdb 文档以获取所有[可用的命令](http://docs.python.org/library/pdb.html#debugger-commands)。

这是一篇非常好的博客文章，解释了所有细节：[http ://aymanh.com/python-debugging-techniques](http://aymanh.com/python-debugging-techniques)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-22T07:02:34.963

安装`ipython`并替换`showPythonShell()`为：

```
from IPython import embed; embed(); 
```

这将完全符合您的预期，即`ipython`从您的 if 语句中启动一个 shell。拥有`ipython`shell 的好处是 tab 补全、魔术功能等，正如[这里](http://ipython.org/ipython-doc/stable/interactive/tutorial.html)所评论的那样。我已经在 python 中开发了很长一段时间，这主要是我用来调试任何东西的方法，包括 django。

# serialization - Linq to Xml VS XmlSerializer VS DataContractSerializer

> ID：11151231
> 
> 赞同：21
> 
> 时间：2012-06-22T06:35:37.017
> 
> 标签：serialization, .net-4.0, xml-serialization, linq-to-xml, datacontractserializer

在我的`web method`中，我得到了一些第三方 C# 实体类的对象。实体类不过是`DataContract`. 这个实体类相当复杂，具有各种类型的属性，有些属性也是集合。当然，那些链接类型也是 DataContracts。

**我想将该 DataContract 实体序列化为 XML**，作为我的 Web 服务业务逻辑的一部分。**我不能`DataContractSerializer`直接使用（在我在 web 方法中收到的对象上），因为 XML 模式完全不同。** 因此，DataContractSerializer 生成的 XML 不会针对架构进行验证。

我无法得出我应该遵循的实施方法。我可以想到以下实现方法：

1.  **LINQ to XML** - 这看起来不错，但我需要为每种类型的对象手动创建 XML 树（即类实例的元素或 XML 表示）。由于实体类很多，而且它们相互关联，我认为手动编写 XML 元素的工作量太大。此外，当实体类引入一些新属性时，我将不得不继续修改 XML 树。**不仅如此，我生成 XML 树的代码看起来有点笨拙（至少在外观上），并且将来更难由其他开发人员维护/更改；他/她必须仔细查看它才能了解 XML 是如何生成的。**

2.  **XmlSerializer** - 我可以编写自己的实体类来表示我想要的 XML 结构。现在，我需要将传入对象的详细信息复制到我自己的类的对象中。**所以这是额外的工作（当代码执行时也适用于.NET！）。**然后我可以`XmlSerializer`在我的对象上使用来生成 XML。在这种情况下，我必须创建实体类，并且每当第三方实体被修改时，我只需要在我的类中添加新属性。（使用 XmlElement 或 XmlAttibute 属性）。**但是人们推荐`DataContractSerializer`这个，所以我不想最终确定这个，除非我对所有方面都很清楚。**

3.  **DataContractSerializer** - 同样在这里，我必须编写自己的实体类，因为我无法控制第三方 DataContracts。我需要将传入对象的详细信息复制到我自己的类的对象中。所以这是额外的工作。但是，由于 DataContractSerializer 不支持 Xml 属性，我必须`IXmlSerializable`在方法中实现并生成所需的 Xml `WriteXml`。**DataContractSerializer 比 XmlSerializer 快，但如果第三方实体发生更改，我将不得不再次处理更改（在 WriteXml 中）。**

**问题：**

*   考虑到性能，在这种情况下哪种方法最好？
*   你能建议一些更好的方法吗？
*   当传入的实体类可能发生变化时，是否`DataContractSerializer`值得考虑（因为它具有更好的性能）？`XmlSerilaizer`
*   LINQ 真的应该用于序列化吗？或者它对查询以外的事情真的有好处吗？
*   在这种情况下，XmlSerializer 是否可以优于 LINQ？如果是，为什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-06T04:34:14.340

我同意@Werner Strydom 的回答。

**我决定使用它，`XmlSerializer`**因为代码变得可维护并且它提供了我期望的性能。最重要的是它让我可以完全控制 XML 结构。

*这就是我解决问题的方法：*

我根据我的要求创建了实体类（代表各种类型的 Xml 元素），并通过 XmlSerializer 传递了根类的实例（代表根元素的类）。

*`LINQ`在 1:M 关系的情况下的小用法：*

`Employee`无论我在特定节点（比如）下多次想要相同的元素（比如`Department`），我都声明了 type 的属性`List<T>`。例如`public List<Employee> Employees`在`Department`课堂上。在这种情况下，XmlSerializer 显然在节点下添加了一个名为`Employees`（它是所有`Employee`元素的分组）的元素。`Department`在这种情况下，我使用`LINQ`（*在 XmlSerializer 序列化 .NET 对象之后*）来操作`XElement`由 XmlSerializer 生成的（即 XML）。使用`LINQ`，我只是将所有`Employee`节点直接放在节点下`Department`并删除了`Employees`节点。

但是，我通过`xmlSerializer`和的组合获得了预期的性能`LINQ`。

缺点是，我创建的所有类都必须是公开的，而它们很可能是内部的！

**为什么不`DataContractSerializer`和`LINQ-to-XML`？**

*   `DataContractSerializer`不允许使用 Xml 属性（除非我实现`IXmlSerializable`）。请参阅[DataContractSerializer 支持的类型](http://msdn.microsoft.com/en-us/library/ms731923.aspx)。
*   `LINQ-to-XML`（`IXmlSerializable`同样）在创建复杂的 XML 结构时使代码变得笨拙，并且该代码肯定会让其他开发人员在维护/更改它时摸不着头脑。

**还有其他方法吗？**

*   是的。[正如@Werner Strydom 所提到的，如果您对生成的类感到满意，您可以使用Xsd2Code 之](http://xsd2code.codeplex.com/releases/view/22222)`XSD.exe`类的工具很好地生成类并直接使用它们。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-22T08:37:58.113

我会选择 XmlSerializer，因为它对于自定义模式来说是最易于维护的（假设您有 XSD）。完成系统开发后，全面测试其性能并确定 XML 序列化是否导致问题。如果是这样，您可以将其替换为需要更多工作的东西并再次测试以查看是否有任何收益。但是，如果 XML 序列化不是问题，那么您就有了可维护的代码。

与与数据库或外部系统通信相比，解析一小段 XML 数据所花费的时间可以忽略不计。在具有大内存 (16GB+) 的系统上，您可能会发现 GC 是 .NET 4 和更早版本中的瓶颈（.NET 4.5 试图解决这个问题），尤其是当您处理非常大的数据集和流时。

使用[AutoMapper将](https://github.com/AutoMapper/AutoMapper)[XSD.EXE](http://msdn.microsoft.com/en-us/library/x6c1kb0s%28v=vs.100%29.aspx)创建的对象映射到您的实体。这将允许在不影响 Web 服务的情况下更改数据库设计。

LINQ to XML 的一大优点是[XSD 验证](http://msdn.microsoft.com/en-us/library/bb387037.aspx)。但是，这会影响性能。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-03T21:48:50.430

另一种选择是利用 LINQ 和 Reflection 创建一个通用类来将您的对象序列化为 XML。一个很好的例子可以在[http://primecoder.blogspot.com/2010/09/how-to-serialize-objects-to-xml-using.html](http://primecoder.blogspot.com/2010/09/how-to-serialize-objects-to-xml-using.html)找到。我不确定您的 XML 在一天结束时需要是什么样子，但如果它非常基本，这可以解决问题。当您的实体类添加/删除/更改属性时，您不需要进行更改，并且您可以在所有对象（以及其他项目，如果存储在实用程序 DLL 中）使用它。

# android - Android：弹出窗口不会显示内容

> ID：11151235
> 
> 赞同：0
> 
> 时间：2012-06-22T06:35:48.420
> 
> 标签：android, popup, popupwindow

我有一个弹出窗口，应该显示两个按钮和一个带有这个 xml 的 textview：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:id="@+id/pe"
    android:paddingTop="100dp"
    android:paddingBottom="100dp"
    android:paddingLeft="180dp"
    android:paddingRight="180dp"
    android:background="#444444"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:textSize="26dp"
        android:text="Are you sure?" />

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content" >

        <Button
            android:id="@+id/bYesClear"
            android:layout_width="86dp"
            android:layout_height="wrap_content"
            android:text="Yes" />

        <Button
            android:id="@+id/bNoClear"
            android:layout_width="86dp"
            android:layout_height="wrap_content"
            android:text="No" />

    </LinearLayout>

</LinearLayout> 
```

这段代码正在调用它：

```
private PopupWindow pw;
    private void initiatePopupWindow() {
        try {
            LayoutInflater inflater = (LayoutInflater) Options.this
                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            View layout = inflater.inflate(R.layout.popupareyousure, (ViewGroup) findViewById(R.id.pe));
            pw = new PopupWindow(layout, 470, 300, true);
            pw.showAtLocation(layout, Gravity.CENTER, 0, 0);

            yesClearButton = (Button) layout.findViewById(R.id.bYesClear);
            noClearButton = (Button) layout.findViewById(R.id.bNoClear);
            yesClearButton.setOnClickListener(this);
            noClearButton.setOnClickListener(this);

        } catch (Exception e) {
            e.printStackTrace();
        }
    } 
```

它确实以正确的大小显示弹出窗口，但是，它不显示文本视图，也不显示其中的按钮。

# c - 对 printf 输出感到困惑

> ID：11151242
> 
> 赞同：1
> 
> 时间：2012-06-22T06:36:43.443
> 
> 标签：c, floating-point, printf

在使用带有 %d 作为格式说明符的 printf 并给出浮点数作为参数（例如 2.345）时，它会打印 1546188227。所以，我知道这可能是由于将单点浮点精度格式转换为简单的十进制格式。但是当我们使用 %d 作为格式说明符打印 2.000 时，为什么它只打印 0 呢？请帮忙。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T06:42:18.063

格式说明符`%d`只能与类型`int`（和兼容类型）的值一起使用。尝试使用`%d`with`float`或任何其他类型会产生未定义的行为。这是唯一真正适用于此的解释。从语言的角度来看，您看到的输出基本上是随机的。而且您根本无法保证获得任何输出。

如果您仍然有兴趣调查您看到的输出的具体原因（尽管它没有多大意义），则必须执行特定于平台的调查，因为实际行为严重取决于各种实现细节。而且您甚至没有在帖子中提及您的平台。

在任何情况下，作为旁注，请注意不可能将`float`值作为可变参数传递给可变参数函数。`float`在这种情况下，值总是被转换为`double`并作为`double`. 因此，在您的情况下，这是`double`您尝试打印的值。行为仍然未定义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T06:48:34.867

[到这里](http://babbage.cs.qc.cuny.edu/IEEE-754.old/Decimal.html)，输入，点击`2.345`“四舍五入”。观察 64 位十六进制值：`4002C28F5C28F5C3`. 观察`1546188227`是`0x5c28f5c3`。

现在重复 2.00。观察 64 位十六进制值是`4000000000000000`

PS当你说你给出一个*浮点*参数时，你的意思显然是你给出了一个*双重*参数。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-22T06:50:52.353

ISO/IEC 9899:1999 标准 $7.19.6 规定：

```
If a conversion specification is invalid, the behavior is undefined.239)
If any argument is not the correct type for the corresponding conversion
specification, the behavior is undefined. 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-22T06:43:10.980

如果您试图让它打印整数值，请在调用中将浮点数转换为整数：

```
printf("ints: %d %d", (int) 2.345, (int) 2.000); 
```

否则，使用浮点格式标识符：

```
printf("floats: %f %f", 2.345, 2.000); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-22T06:44:00.773

当您对相应参数使用带有错误格式说明符的 printf 时，结果是未定义的行为。它可以是任何东西，并且可能因一种实现而异。只有正确使用指定的格式才能定义行为。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-22T06:44:26.180

首先是一个小问题：文字 2.345 实际上是 double 类型，而不是 float，此外，即使是 float，例如文字 2.345f，在用作接受可变数字的函数的参数时也会转换为 double参数，例如 printf。

但是这里发生的是（通常）64 位双精度值被发送到 printf，然后它（通常）将这些位中的 32 位解释为整数值。所以碰巧这些位是零。

根据标准，这就是所谓的未定义行为：编译器可以做任何事情。

# ruby-on-rails - 如何在 ActiveRecord 中优化此查询 - 朋友的最新 10 个主题

> ID：11151243
> 
> 赞同：0
> 
> 时间：2012-06-22T06:36:47.363
> 
> 标签：ruby-on-rails, activerecord

`User`模型：

```
 user_id  phone_no
 -------  --------
   1      555-0001
   2      555-0002
   .
   . 
```

每个用户都有自己的电话号码。

`Friend`模型：

```
 user_id  phone_no
 -------  --------
  user 1  555-0002
  user 1  555-0003
  user 2  555-0001
  user 2  555-0004 
```

用户可能有很多电话号码。电话号码匹配被视为朋友（一个方向），例如所有者`555-0003`是 的朋友`user 1`，反之亦然。

`Topic`模型：

```
 topic_id  user_id  title
  --------  -------  -----
      1        1     Hello
      2        1     Hi 
```

如何优化用户好友获取最近10个话题的查询？

我试过类似的东西：

```
user = User.find(2) # any user
phones = Friend.all(:conditions=>['user_id = ?',user.id],:select=>'phone_no').map {|x| x.phone_no}
friends = User.all(:conditions=>['phone_no in (?), phones]).map {|x| x.user_id}
topics = Topic.all(:conditions=>['user_id in (?), friends], :limit => 10, :order => 'updated_at DESC') 
```

但在分解查询时担心性能。如何优化此 ActiveRecord 查询？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T07:09:28.727

```
class User
  has_many :topics
  has_many :friends
  has_many :friend_users, :through => :friends
  has_many :friend_topics, :through => :friend_users, :source => :topics      
end

class Friend
  belongs_to :user
  belongs_to :friend_user, :class_name => "User", :foreign_key => :phone_no, 
                :primary_key  => :phone_no
end

class Topic
  belongs_to :user
end 
```

现在给定一个用户，您可以获得朋友主题，如下所示：

```
current_user.friend_topics.limit(10) 
```

确保添加

*   类中`phone_no`col的唯一索引`User`
*   `phone_no`类中col的索引`Friend`。

# smarty - 编辑包含 Smarty 的站点时使用 Dreamweaver 设计视图时出现问题

> ID：11151244
> 
> 赞同：0
> 
> 时间：2012-06-22T06:37:02.367
> 
> 标签：smarty, dreamweaver

我在dreamweaver 上建立了一个新站点并导入了我的站点文件。我这样做只是因为我想玩弄设计视图，否则我只使用notepad++。无论如何，当我进入设计视图时，我可以看到所有 smarty 标签的文本，但看不到网站的设计。有没有办法让设计视图正常工作，这样我的 smarty 代码就不会显示为文本，而我的网站也会正确显示。任何朝着正确方向的轻推将不胜感激！如果这是不可能的，我应该坚持在记事本++中编辑我的代码还是dreamweaver更好？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T09:15:34.023

您可以切换到实时视图。实时视图与传统 Dreamweaver 设计视图的不同之处在于，它提供了不可编辑的、更真实的页面呈现方式，以呈现您的页面在浏览器中的外观。当您从设计视图切换到实时视图时，您只需在可编辑和“实时”之间切换设计视图。

进入实时视图后，设计视图保持冻结状态，而代码视图保持可编辑状态，因此您可以更改代码，然后刷新实时视图以查看更改生效。当您在实时视图中时，您可以选择查看实时代码。Live Code 视图与 Live 视图类似，它显示浏览器为呈现页面而执行的代码版本。与实时视图一样，实时代码视图是不可编辑的视图。

实时视图的另一个优点是能够冻结 JavaScript。您可以参考以下 Wiki 了解更多信息：http: [//help.adobe.com/en_US/dreamweaver/cs/using/WS753df6af718a350a-43cf1449133aea5253f-8000.html#WS16D4BD4B-0A17-44b9-95E9-ACC9795CE4F9](http://help.adobe.com/en_US/dreamweaver/cs/using/WS753df6af718a350a-43cf1449133aea5253f-8000.html#WS16D4BD4B-0A17-44b9-95E9-ACC9795CE4F9)

此致， Yalpi Shiva Prasad Adob​​e Systems Incorporated。

# actionscript-3 - 鼠标点击检测仅在影片剪辑的不透明区域

> ID：11151249
> 
> 赞同：0
> 
> 时间：2012-06-22T06:37:21.997
> 
> 标签：actionscript-3, mouseevent, collision-detection

我有电影剪辑（其中又包含超过 1 个电影剪辑）。我的要求是将`MouseEvent.CLICK`事件添加到父影片剪辑。因此，`MouseEvent.CLICK`仅当单击了视觉上不透明（alpha = 100 %）的区域时，flash 才会调度事件（），否则，忽略。

我现在做的解决方法是创建一个`alpha = 0.05`跟随鼠标光标的圆圈，`Event.ENTER_FRAME`然后做一个命中测试，然后是一个`PixelPerfectCollisionDetection`（礼貌的一个我在谷歌代码上钦佩的 gr8 人:)）

简而言之，我需要知道我是否可以仅在单击动画剪辑的视觉不透明区域时才可以使 flash 调度 MouseEvent 而**不是** `anywhere in the bounding box region.`

谢谢，

毗湿奴阿吉特

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T08:43:02.000

我得到了这个解决方案。但它一点也不完美，因为您每次都创建一个新`bitmapData`对象`MovieClip`：

```
myButton.addEventListener( MouseEvent.CLICK, clickFunction);

private function clickFunction(e:MouseEvent) {
    if(pixelIsVisible(e.currentTarget, e.currentTarget.mouseX, e.currentTarget.mouseY)) {
        //DoSomething
    }
}   

private function pixelIsVisible(target:*, xPos:int, yPos:int):Boolean {
    var bmp:BitmapData = new BitmapData( target.width, target.height, false );
    bmp.draw( target as MovieClip );
    var pixelValue = bmp.getPixel( xPos, yPos);

    //Dispose bitmapData to free memory
    bmp.dispose();

    var alphaValue:uint = pixelValue >> 24 & 0xFF;
    //alphaValue is from 0 to 255
    if(alphaValue >= 255) return true;
    else false;
} 
```

# php - 如何比较两个非常大的字符串

> ID：11151250
> 
> 赞同：2
> 
> 时间：2012-06-22T06:37:22.567
> 
> 标签：php, string, compare

如何使用 php.ini 比较两个大小为 50Kb 的大字符串。我想强调差异化位。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T07:10:46.843

也可以使用 XOR 找到两个字符串之间的差异：

```
$s = 'the sky is falling';
$t = 'the pie is failing';
$d = $s ^ $t;

echo $s, "\n";
for ($i = 0, $n = strlen($d); $i != $n; ++$i) {
        echo $d[$i] === "\0" ? ' ' : '#';
}
echo "\n$t\n"; 
```

输出：

```
the sky is falling
    ###      #
the pie is failing 
```

XOR 操作将产生一个字符串，`'\0'`其中两个字符串相同，`'\0'`如果它们不同，则不是。它不会比仅逐个字符地比较两个字符串更快，但如果您只想知道使用`strspn()`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-22T06:40:03.353

你想像这样输出`diff`吗？

也许这就是你想要的[https://github.com/paulgb/simplediff/blob/5bfe1d2a8f967c7901ace50f04ac2d9308ed3169/simplediff.php](https://github.com/paulgb/simplediff/blob/5bfe1d2a8f967c7901ace50f04ac2d9308ed3169/simplediff.php)

添加：

或者，如果您想突出显示每个不同的字符，您可以使用这样的 PHP 脚本：

```
for($i=0;$i<strlen($string1);$i++){
    if($string1[$i]!=$string2[$i]){
        echo "Char $i is different ({$string1[$i]}!={$string2[$i]}<br />\n";
    }
} 
```

如果您能详细告诉我们您想如何比较，或者给我们一些例子，我们会更容易确定答案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T07:17:48.077

对@Alvin 的脚本稍作修改：

我在本地服务器上使用 50kb lorem ipsum 字符串对其进行了测试，我将所有“a”替换为“4”并突出显示它们。它运行得非常快

```
 <?php
$string1 = "This is a sample text to test a script to highlight the differences between 2 strings, so the second string will be slightly different";
$string2 = "This is 2 s4mple text to test a scr1pt to highlight the differences between 2 strings, so the first string will be slightly different";
    for($i=0;$i<strlen($string1);$i++){                 
        if($string1[$i]!=$string2[$i]){
            $string3[$i] = "<mark>{$string1[$i]}</mark>";
            $string4[$i] = "<mark>{$string2[$i]}</mark>";
        }
        else {
            $string3[$i] = "{$string1[$i]}";
            $string4[$i] = "{$string2[$i]}";    
        }
    }
    $string3 = implode("",$string3);
    $string4 = implode("",$string4);

    echo "$string3". "<br />". $string4;
?> 
```

# cordova - 如何在 Eclipse 中放置 Sencha 触摸文件并使用 phonegap 运行？

> ID：11151253
> 
> 赞同：2
> 
> 时间：2012-06-22T06:37:44.083
> 
> 标签：cordova, sencha-touch-2

我正在尝试处理电话间隙。因此，我在 sencha 中构建了一个应用程序，并尝试使用 phonegap 1.8 构建来访问本机功能。要使用 phonegap 设置我的 Eclipse..我请点击以下链接： [Phonegap Android](http://docs.phonegap.com/en/1.8.1/guide_getting-started_android_index.md.html#Getting%20Started%20with%20Android)

然后在 www 文件夹中，我保留我的 index.html，并将我的 app 文件夹保留在其中。所以我的文件夹结构在android项目中是这样的：

```
---src
|   |--package name
|        |---------activity name
|--assets
|     |----www
|          |----app
|          |     |---view
|          |     |      |----Panel.js(Sencha file)
|          |     |---app.js
|          |-----index.html
|          |-----corodova.js
|--libs
    |----corodova.jar
    |----touch
          |----resources
          |      |-----css
          |             |----sencha-touch.css
          |
          |----sencha-touch-debug.js 
```

但是当我在模拟器中运行它时，它显示白屏。

这是我的 panel.js 代码

```
Ext.define('MyApp.view.Panel', {
extend: 'Ext.Panel',

config: {
    items: [
        {
            xtype: 'toolbar',
            docked: 'top',
            height: 52,
            title: 'Feedback'
        }
    ]
} 
```

});

这是我的 index.html

```
 <!DOCTYPE html>

<!-- Auto Generated with Sencha Architect -->
<!-- Modifications to this file will be overwritten. -->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Listview</title>
    <script src="libs/touch/sencha-touch-debug.js" type="text/javascript"></script> 
    <link href="libs/touch/resources/css/sencha-touch.css" rel="stylesheet" type="text/css" /> 
    <script type="text/javascript" id="phonegap" src="cordova-1.8.1.js"></script>
    <script type="text/javascript" src="app/app.js"></script>
    <script type="text/javascript">
        if (!Ext.browser.is.WebKit) {
            alert("The current browser is unsupported.\n\nSupported browsers:\n" +
                "Google Chrome\n" +
                "Apple Safari\n" +
                "Mobile Safari (iOS)\n" +
                "Android Browser\n" +
                "BlackBerry Browser"
            );
        }
    </script>
</head>
<body></body> 
```

在活动中，我编写了以下代码：

```
 package com.innominds.cameraApp;

import android.os.Bundle;
import org.apache.cordova.*;

public class SenchaCameraAPPActivity extends DroidGap {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        super.loadUrl("file:///android_asset/www/index.html");
    }
} 
```

谁能帮助我，因为我无法弄清楚。我是这个电话间隙的新手。

提前致谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-23T12:24:48.720

在 app.js 之前的 index.html 的头部包含 sench-touch.js 字段

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T18:12:43.860

当你得到白屏时，这是因为你的 Javascript 中有一些东西（可能在你的**app.js**中），比如缺少 coma 或未定义的变量、函数或其他。

尝试在 Chrome、Safari 或 Firefox 中启动您的 index.html。然后启动**Web 检查**器（通常是右键单击 > 检查元素）。然后转到控制台选项卡并查看是否有错误。

希望这可以帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-28T07:49:11.287

看到这是我的 Eclipse 设置，我已经打开了 index.html 文件

![错误](../Images/b233d436223be36cee162cda786ff669.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T13:06:37.903

我将 sencha-touch.css 保存在与 index.html 相同的文件夹中，并添加了资源文件夹..

我在博客中分享解决方案：[博客网址](http://blogformobile.wordpress.com)

# java - 如何在Java中打印指向数组的对象

> ID：11151258
> 
> 赞同：1
> 
> 时间：2012-06-22T06:37:49.463
> 
> 标签：java, arrays, multidimensional-array

我有一张地图，其定义如下

```
HashMap<Object, Object> hashMap; 
```

现在我需要遍历每一对并打印键和值。对于像. `key.toString()`_ 但是在数组上不会给出可读的字符串。`value.toString()``ArrayList``toString()`

我知道`Arrays.toString()`. 但我不能在我的情况下使用它，因为`Arrays.toString()`需要一个对象数组，而我所拥有的只是一个对象。所以我写了一个自定义代码，看起来像，

```
private String convertToHumanReadableFormat(Object value) {
    if (value == null) return "N/A";
    if (value.getClass().isArray()) {
        return convertArrayToReadableFormat(value);
    }
    return value.toString();
}

private String convertArrayToReadableFormat(Object value) {
    String output = "[";
    int arrayLength = Array.getLength(value);
    for (int i = 0; i < arrayLength; i++) {
        Object element = Array.get(value, i);
        if (element != null) {
            if (element.getClass().isArray()) {
                output += convertArrayToReadableFormat(element);
            }
            else {
                output += element.toString();
            }
        }
        if ((i + 1) < arrayLength)
            output += ", ";
    }
    output += "]";
    return output;
} 
```

我实际上是在复制什么`Arrays.deepToString()`。但我看不到只使用`Arrays.toString()`or的方法`Arrays.deepToString()`。

这是解决问题的正确方法还是有什么方法可以让这些标准方法为我工作？

任何帮助都会很棒。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T06:54:34.620

请将方法修改`convertToHumanReadableFormat`为以下。我已经对其进行了测试，并且确实有效。

```
private <T> String convertToHumanReadableFormat(Object value) {
            if (value == null) return "N/A";
            if (value.getClass().isArray()) {
                if( value instanceof int[]||value instanceof long[]){
                    List<T> list = new ArrayList<T>();
                    list.addAll((Collection<? extends T>) Arrays.asList(value));
                    return convertToHumanReadableFormat(list.toArray());

                }else{
                     return Arrays.deepToString((Object[]) value);
                }
            }
            return value.toString();
        } 
```

您可以将其他原始类型添​​加到 if 条件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T08:27:29.157

您可以只使用九个 instanceof 语句来调用适当的 toString 或 deepToString 方法。如果您确实使用自己的代码，请记住使用 StringBuilder 并考虑包含对自身或父维度的引用的数组的可能性。目前，您的代码将递归直到堆栈溢出。按照我的建议使用 instanceof 还可以避免代码中固有的原始值的装箱（从而提高性能）。九个语句也不算多吧？

```
if (val instanceof Object[]) return Arrays.deepToString((Object[]) val);
if (val instanceof byte[]) return Arrays.toString((byte[]) val);
// Repeat for other 7 array types... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T06:53:16.860

您可以考虑几种方法 -
A. 如果您对格式不严格，并且只想以人类可读的方式打印 HashMap 内容，我建议您使用 JSon 序列化 - 如果非常可读，则输出.
你可以看到我们在[Ovirt](http://www.ovirt.org)开源项目中所做的（克隆引擎项目的 git repo） - engine\backend\manager\modules\utils\src\main\java\org\ovirt\engine\core\utils\serialization\ json - 看看那里的 JsonObjectSerializer 类。

B. 如果您对格式有严格要求 - 您应该获取地图的 entrySet，对其进行迭代，然后将对象插入到 ArrayList 中。之后，您可以使用 toArray() 方法返回一个数组，并使用您上面描述的方法。
请记住，我建议您的 ArrayList 将是字符串的 ArrayList，因此您必须获取每个 mapEntry 并将其转换为字符串，考虑 toString() 并查看它生成的格式是否适合您。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-22T06:53:31.433

如果您的用例是以人类可读的形式呈现数组和其他对象图，您可以使用模板解决方案（如 freemarker 的速度）或将它们转换为 JSON（或 XML）并重新启动它 - 我会推荐 GSON / XStream 来完成这项任务.

如果您希望将其用于调试目的，那么只需坚持使用日志系统并使用那里可用的标准转换器（例如在 log4j 中）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-22T06:42:04.240

如果您将数组转换为列表然后使用 toString -

`Arrays.asList(array)`

您将需要以这种方式编写您的辅助方法 -

```
private String convertToHumanReadableFormat(Object value) {
    if (value == null) return "N/A";
    if (value.getClass().isArray()) {
       value = Arrays.asList((Object[])value);     
    }     
    return value.toString(); 
} 
```

* * *

要处理原语，您需要首先手动将数组转换为列表 -

```
private String convertToHumanReadableFormat(Object value) {
    if (value == null) return "N/A";
    if (value.getClass().isArray()) {

       //convert array to list 
       int count = Array.getLength(value);
       ArrayList<Object> list = new ArrayList<Object>();
       for(int i=0; i<count; i++){
          list.add(Array.get(value, i));
       } 
       return list.toString(); //or value=list;  
    }     
    return value.toString(); 
} 
```

# iphone - 如何将图像从 iphone 的主项目传递到库项目

> ID：11151261
> 
> 赞同：0
> 
> 时间：2012-06-22T06:38:18.300
> 
> 标签：iphone

我有一个库项目和一个主项目，我想将主项目中的图像传递给我的库项目，所以我可以实现这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T06:44:55.520

将图像添加到库项目。

在代码中使用图像时，而不是使用

```
UIImage *image = [UIImage imageNamed:@"img.png"]; 
```

使用如下：

```
NSBundle *bundle = nil;

bundle = [NSBundle bundleWithIdentifier:@"com.test.libary"]; //library project's identifier

UIImage *image = [UIImage imageWithContentsOfFile: [bundle pathForResource:@"img" ofType:@"png"]]; 
```

# php - PHP 包含页面内的 HTML 表单 - 不工作

> ID：11151264
> 
> 赞同：1
> 
> 时间：2012-06-22T06:38:25.840
> 
> 标签：php, html

我在我的 index.php 中包含的 PHP 包含页面中有一个表单 - 奇怪的是，在 index.php 中测试时该表单将不起作用 - 但是我将表单保存到单独的 HTML 文件并且它可以正常工作。

我究竟做错了什么？是这样做的PHP包含吗？请告知 - 泰

代码：

```
 <table class="table1">
        <tr>
        <td><form class="jotform-form" action="http://submit.jotform.co/submit/2367784331/" method="post" accept-charset="utf-8">
        </td>
        <td>&nbsp;</td>
        </tr>
        <tr>
        <td><img class="imgmove" src='data:image/png;base64,<?php echo base64_encode(file_get_contents("images/form/firstname.png")); ?>'></td>
        <td><input id="first_1" name="q1_fullName1[first]" class="inp" maxlength="255" size="12"/></td>
        </tr>
        <tr>
        <td><img class="imgmove" src='data:image/png;base64,<?php echo base64_encode(file_get_contents("images/form/lastname.png")); ?>'></td>
        <td><input id="last_1" name="q1_fullName1[last]" class="inp" maxlength="255" size="14"/></td>
        </tr>
        <tr>
        <td><img class="imgmove" src='data:image/png;base64,<?php echo base64_encode(file_get_contents("images/form/email.png")); ?>'></td>
        <td><input id="input_3" name="q3_email3" class="inp" maxlength="255" size="16"/> </td>
        </tr>
        <tr>
        <td><img class="imgmove" src='data:image/png;base64,<?php echo base64_encode(file_get_contents("images/form/phone.png")); ?>'></td>
        <td><input id="input_4" name="q4_phone4" class="inp" size="11" maxlength="12"></td>
        </tr>
        <tr>
        <td></td>
        <td>&nbsp;</td>

        </tr>
        <tr>
        <td>&nbsp;</td>
        <td><input style="font-size:160%;display:block;float:left;margin-top:-40px;padding:5px 10px;" type="button" value="Contact Me!" /></td>
        </tr>
        </table>
        </form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T06:55:07.157

输入类型应为提交：

```
<input style="font-size:160%;display:block;float:left;margin-top:-40px;padding:5px 10px;" type="submit" value="Contact Me!" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T06:49:18.393

使用 require 代替 include。如果文件不包含，则会出现致命错误。这可能会帮助您解决问题。

# ios - 如何以编程方式设置支持的本地化

> ID：11151267
> 
> 赞同：2
> 
> 时间：2012-06-22T06:38:34.757
> 
> 标签：ios, localization

使用 nib 文件时，我可以在此处设置支持的本地化：

![在此处输入图像描述](../Images/0f32f5913d7fb38ef2ef56a51f50f6ba.png)

完成后，弹出的“粘贴”按钮将被翻译成系统语言，如下所示：![在此处输入图像描述](../Images/489dbd1dba9b29a6e0012f54b726b481.png)![在此处输入图像描述](../Images/0618711a6bbd3108bc970a3f34ec83dc.png)

但是我现在没有使用 nib 文件，并且翻译不会发生，那么我如何以编程方式设置支持的本地化，就像我对 nib 文件所做的那样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T06:42:01.230

如果您没有使用 nib 文件，我猜您正在`UIView`代码中创建 's。我将只使用该`NSLocalizedString(string,comment)`功能并在创建时分配它的翻译`UIView`。

# magento - PayPal IPN 回发失败

> ID：11151270
> 
> 赞同：3
> 
> 时间：2012-06-22T06:38:53.793
> 
> 标签：magento, paypal

我最近将我的 Magento 实时网站从 1.6.2.0 升级到了 1.7.0.0。从升级后开始，我现在遇到了 PayPal 标准付款的问题。当客户使用 PayPal 付款时，在 PayPal 上付款很顺利，但 Magento 订单状态没有更新，一直处于“待处理”状态。

我已经检查了各种报告此问题的网站，但我仍然无法解决问题。

我有 payment_paypal_standard.log 报告：“.... [postback_result] => [exception] => PayPal IPN 回发失败。有关详细信息，请参阅 paypal_unknown_ipn.log。”

但是我没有创建 paypal_unknown_ipn.log，所以我无法获得有关该错误的更多信息。

调查更多，我发现可能的问题是返回的 PayPal 回发字符串没有正确解密，但我还没有找到真正的解决方案来帮助我解决问题。

有没有办法很快找到解决方案？谢谢大家。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T08:57:29.040

请参阅[http://doghouse.agency/article/debugging-paypal-ipn-postback-failures-magento](http://doghouse.agency/article/debugging-paypal-ipn-postback-failures-magento)

基本上，CURL 有时会决定在回发请求标头中添加一个“Expect: 100”字段，以检查是否允许发送此请求。这会导致 CURL 响应字符串与 Magento（最高 1.7）所期望的不同

改变

```
$response = preg_split('/^\r?$/m', $response, 2);
$response = trim($response[1]); 
```

至

```
$response = preg_split('/^\r?$/m', $response);
$response = trim(end($response)); 
```

它应该解决这个特定问题。当然，您可能会遇到不同的问题，即 CURL 错误。在这种情况下，记录 CURL 错误号。请参阅此页面以获取 CURL 错误编号列表：[http ://curl.haxx.se/libcurl/c/libcurl-errors.html](http://curl.haxx.se/libcurl/c/libcurl-errors.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-28T05:59:42.570

我有同样的问题，但手动修补

[http://www.magentocommerce.com/bug-tracking/issue/?issue=13515#30](http://www.magentocommerce.com/bug-tracking/issue/?issue=13515#30)

请参阅我的评论 #30。

希望这可以帮助。干杯

# jquery - HTML5 桌面/移动博客 - jQuery UI 还是 jQuery Mobile？

> ID：11151271
> 
> 赞同：3
> 
> 时间：2012-06-22T06:38:57.560
> 
> 标签：jquery, jquery-ui, layout, jquery-mobile, blogs

好的，所以我一直在考虑重新投入游戏开发。并一直试图保持一个小博客。一直想在某个地方放一些关于我在功课之外的工作的教程。我一直在使用博客，但我已经重新开始编写脚本和 Web 开发，并想尝试离开并在我的服务器上创建一些我自己的最小的东西。我迷上了 HTML5，并且一直喜欢使用 jQuery，因为它在我的脚本中提供了简单性。但是，总的来说，我对 Web 开发仍然很陌生，因为我在学校所做的大部分工作都严格地涉及本地编程。

我一直在尝试比较 jQuery UI 库和 jQuery Mobile。我有兴趣从头开始创建自己的博客。没有什么花哨。只是一个发布教程之类的地方。我确信我能够迎接挑战。据我了解，jQuery UI 和 jQuery Mobile 是两个完全不同的东西。除此之外，我不太确定我是否喜欢我能够在 themeroller 应用程序上为 jQuery UI 制作的主题。

我希望我的博客看起来不错，并在手机/平板电脑上快速运行。即使在桌面上，它也将非常小。**使用 jQuery UI 创建博客并能够轻松地为移动设备扩展它会很容易吗？**还是只为手机/平板电脑和台式机坚持使用 jQuery mobile 会更好，因为我想要最少的东西？**我是否可以像使用 jQuery UI 一样使用 jQuery Mobile 实现自定义和可编程性？**

如果有人知道任何好的解决方案可以让我为桌面和移动设备扩展相同的布局。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T06:47:49.063

jQuery UI 和 jQuery Mobile 实际上都有主题自定义。

jQuery UI - [http://jqueryui.com/themeroller/](http://jqueryui.com/themeroller/) jQuery Mobile - [http://jquerymobile.com/themeroller/index.php](http://jquerymobile.com/themeroller/index.php)

就多功能性而言，这完全取决于您，移动浏览器能够同时运行 jQuery UI 和 Mobile，因此无论您在桌面上感觉舒适还是喜欢，都可以。

现在解决布局大小问题：

为桌面和移动设备缩放相同布局的最简单方法是使用具有百分比宽度的流动布局。但是，对于移动设备尺寸，它开始相当快地倾斜。

我建议不要只使用百分比，而是使用媒体查询。这将允许您随着屏幕大小的变化而更改 CSS，并且语法非常简单易用。

```
@media screen and (min-width: 600px) and (max-width: 900px) {
  .class {
   background: #333;
  }
} 
```

只要它位于 CSS 文档的底部，就会覆盖任何预先存在的样式。也就是说，当屏幕尺寸在 600 到 900 像素之间时应用这种样式。意思是测试它，您实际上可以缩放浏览器的大小以查看差异。

有关媒体查询的更多信息：[http ://webdesignerwall.com/tutorials/css3-media-queries](http://webdesignerwall.com/tutorials/css3-media-queries)

TL;DR jQuery UI 和 Mobile 是可主题化的，所以无论你喜欢哪个都可以使用媒体查询

# xml - 如果节点具有相同的名称，如何使用 xslt 生成具有相同节点名称下的节点值的数组。输出为 json 形式

> ID：11151272
> 
> 赞同：2
> 
> 时间：2012-06-22T06:38:58.013
> 
> 标签：xml, json, xslt

我是 xslt 的新手。我必须使用 xslt 将输入作为 xml 生成 json。

这里我的输入xml是这样的

```
<root> 
<section>   
  <item name="a">  
       <uuid>1</uuid>  
          </item> 
   </section> 
 <section>    
 <item name="b">     
     <uuid>2</uuid>  
   </item> 
     </section> 
   </root> 
```

使用 xslt 我必须得到这样的输出

```
{ "root" : { "section" : { "item" :[{ "name" : "a", "uuid" : "1"},
                                    { "name" : "b", "uuid" : "2"}] }
}} 
```

在这里我要做的是：

1.  查找子节点是否在数组中具有相同的名称

2.  如果它们具有相同的名称，则生成一个包含相同节点名称下的节点值的数组

输出必须是 json。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T12:33:14.203

通常，由于两种语言的差异及其表达能力，XML 文档和 JSON 对象之间不存在 1:1 的映射关系。

**这就是说，在您的特定情况下，这种转换**：

```
<xsl:stylesheet version="1.0"
 xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output method="text"/>
 <xsl:strip-space elements="*"/>

 <xsl:variable name="vQ">"</xsl:variable>

 <xsl:template match="/*">
{ "root" : { "section" :
 <xsl:apply-templates select="section[1]/*"/>
 }}
 </xsl:template>

 <xsl:template match="item">
  { "item" :
    [<xsl:text/>
      <xsl:apply-templates select="../../*/item" mode="data"/>
     ]
   }
 </xsl:template>

 <xsl:template match="item" mode="data">
   <xsl:if test="position() > 1">, &#xA;&#9;&#9; </xsl:if>
   <xsl:text>{</xsl:text><xsl:apply-templates select="@*|*"/>}<xsl:text/>
 </xsl:template>

 <xsl:template match="item/@* | item/*">
   <xsl:if test="position() > 1">, </xsl:if>
   <xsl:value-of select='concat($vQ, name(), $vQ, " : ", $vQ, ., $vQ)'/>
 </xsl:template>
</xsl:stylesheet> 
```

**应用于提供的 XML 文档时：**

```
<root>
    <section>
        <item name="a">
            <uuid>1</uuid>
        </item>
    </section>
    <section>
        <item name="b">
            <uuid>2</uuid>
        </item>
    </section>
</root> 
```

**产生想要的结果**：

```
{ "root" : { "section" :

  { "item" :
    [{"name" : "a", "uuid" : "1"}, 
         {"name" : "b", "uuid" : "2"}
     ]
   }

 }} 
```

# delphi - HTML5 WebSockets 不工作。服务器=ColdFusion，客户端=Delphi

> ID：11151277
> 
> 赞同：4
> 
> 时间：2012-06-22T06:39:46.727
> 
> 标签：delphi, coldfusion, websocket, delphi-2009, coldfusion-10

我正在编写一个消息分发系统。服务器是 ColdFusion (CF) 10，使用新的 <cfwebsocket> 功能集。客户端将使用 Delphi 2009 编写。

如果我在 ColdFusion 中编写客户端（使用 <cfwebsocket> 标签）一切正常：我可以在两个客户端之间发送消息。所以服务器端似乎正在工作。

Delphi 客户端没有这样的运气。到目前为止，我已经尝试了两个组件库（[Delphi on Rails](http://code.google.com/p/delphionrails/)和[sgcWebSockets](http://www.shareit.com/product.html?cart=1&productid=300517691)）。两者似乎都建立了与 CF 服务器的连接，但没有发送或接收消息。我相当肯定 Delphi 正在与服务器建立连接，因为如果我指定正确的地址，则不会引发异常，而如果我指定不同的端口或 URI，则会出现异常。

我认为缺失的环节在于我对“渠道”的理解。在 CF 中这很容易：您指定要订阅或发送消息的频道并且它可以工作。但是“渠道”的概念似乎在 ColdFusion 之外并不存在。我搜索了 w3.org、Google 等，但在 HTML5 WebSocket 规范中没有看到太多关于频道的信息。一些参考资料，但不清楚，尤其是在示例中。

总之，我的问题：

1.  是标准 WebSocket API 的“通道”部分，如果是，
2.  如何使用我提到的 Delphi WebSocket 库之一订阅频道？不应该像 ws://[server]:[port]/[channel] 一样简单吗？
3.  如何调试 CF 服务器上的 WebSocket 连接和流量？

非常感谢。这是我在 StackOverflow 上的第一篇文章；抱歉，如果它有点长。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T07:38:12.920

我使用（或尝试/调查）这个 websocket 实现： [http ://code.google.com/p/bauglir-websocket/](http://code.google.com/p/bauglir-websocket/)

我不知道 ColdFusion，“通道”部分也不是我所知道的 websockets。CF 有网页客户端吗？然后你就可以在谷歌浏览器中轻松调试了

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-25T07:57:06.887

这不是真正的答案，而是故障排除建议。披露：我来自 CF 背景，但还没有看过 websocket 实现，所以这只是一般建议，以及我将如何解决这个问题。

可能值得在 CF 创建的客户端上查看客户端和服务器之间的 HTTP 和 WS 流量，以了解通道名称适合的位置。我搜索了网络套接字规范，我也找不到任何似乎等同于“通道”的东西。

根据我对 websocket 规范的阅读，据我所知，一个 URI = 一个“通道”：一个 URI 上没有多个通道（或“馈送”）的范围。从 CF 的角度来看——这完全是推测——这个“通道”概念是 CF 的一个技巧，能够在单个 URI 上跟踪多个 websocket 服务？CF 向后弯腰（有时会翻倒），试图让 CF 开发人员的生活“更轻松”，所以我可以看到他们这样做。或者只是他们只是决定以自己的方式实现，而不是认为客户端可能也不会使用 CF 的库来实现。

除了编辑材料：检查客户端和服务器之间传输的 HTTP 和 WS 数据包中发生了什么，我想你将能够弄清楚 WTH CF 正在做什么。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-29T05:09:34.693

感谢您的提示！自从我发布问题并发现了一些答案以来，我已经做了一些调试。

> **“通道”是标准 WebSocket API 的一部分吗？**

据我所知，没有。通道似乎是 ColdFusion 特有的概念。

> **如何使用我提到的 Delphi WebSocket 库之一订阅频道？不应该像 ws://[server]:[port]/[channel] 一样简单吗？**

正如我最初的问题中提到的，Delphi（使用 TsgcWebSocketClient 组件）成功连接到 ColdFusion (CF) WebSocket 服务器。但是，我发现我省略了一个步骤：订阅 CF“频道”。我通过使用 Microsoft Network Monitor 将 Delphi 客户端流量与 CF 客户端流量进行比较发现了这一点。CF 客户端在连接后向服务器发送了一个附加字符串：

```
{"ns":"coldfusion.websocket.channels","type":"welcome","authKey":"6DD10C406710970271EDA2295C409D38","subscribeTo":"signals","appName":"Test"} 
```

这会将客户端订阅到“信号”频道。因此，在建立连接后，我将以下行添加到我的 Delphi 代码中：

```
sgcWebSocketClient.WriteData( '{"ns":"Delphi","type":"welcome","authKey":"6DD10C406710970271EDA2295C409D38","subscribeTo":"signals","appName":"Test"}' ); 
```

Delphi 客户端立即能够从 CF“信号”通道接收消息。

仅供参考，以下是如何从 Delphi 客户端向“信号”通道发送消息（在这种情况下为“Hello, World！”）：

```
sgcWebSocketClient.WriteData( {"ns":"Delphi","type":"publish","channel":"signals","data":"Hello, World!","appName":"Test"} 
```

> **如何调试 CF 服务器上的 WebSocket 连接和流量？**

我发现应用了端口过滤器的 Microsoft Network Monitor 是最简单的方法。它目前不支持环回/本地主机监控，所以我使用局域网上的另一台计算机来生成流量。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-25T13:56:58.987

我试过这个在线演示： [http ://www.raymondcamden.com/demos/2012/feb/19/chat/#](http://www.raymondcamden.com/demos/2012/feb/19/chat/#)

当我在“函数 msgHandler”（谷歌浏览器、检查元素、脚本选项卡）中放置断点时，我得到以下数据：

```
Object
channel: "chat"
clientid: 692538231
code: 0
msg: "ok"
ns: "coldfusion.websocket.channels"
reqType: "getSubscriberCount"
subscriberCount: 1
type: "response"
__proto__: Object 
```

但是，当我尝试另一个演示时： [http](http://www.raymondcamden.com/demos/2012/feb/19/whiteboard/) ://www.raymondcamden.com/demos/2012/feb/19/whiteboard/ 它提供了以下数据：

```
Object
channelname: "whiteboard"
data: Object
ns: "coldfusion.websocket.channels"
publisherid: 692539350
type: "data"
__proto__: Object 
```

至少我在其中看到了一些“频道”的东西。因此，您可能应该使用上述某些属性创建自己的 JSON 对象（作为字符串）。

# c++ - 跨平台声音 API

> ID：11151278
> 
> 赞同：9
> 
> 时间：2012-06-22T06:39:48.343
> 
> 标签：c++, c, audio, voip, live-streaming

我正在研究开发一个需要实时音频流的应用程序。我更喜欢使用一些用 C 或 C++ 编写的跨平台（windows/linux/BSD）开源库，即使使用各自操作系统的声音 API 编写它仍然是一种选择。

我已经阅读了一些关于各种声音库的信息，包括 SFML、SDL 和 PortAudio。诚然，我还没有对 FreeBSD 和 Linux 中的声音进行足够的研究（这两者之间有多相似？）

主要要求将是

1.  从选定的麦克风/麦克风获取音频以通过网络发送，
2.  将数据发送到选择的输出设备，
3.  处理声音（过滤、清理噪音、多路复用流等），但是一旦我有了音频数据就可以完成，库本身不需要能够做任何这些。
4.  具有相当低的延迟

我主要担心的是这些提到的 API 似乎主要针对游戏（声音通常从磁盘加载，并且没有太多（如果有的话）录音，而不是通过网络流式传输，录音和播放之间具有同等重要性。

是否有人对这些或其他声音 API 或在各自操作系统的 API 中实现这一点的优点/缺点有任何指示/警告/建议？

注意：虽然这样：“要求我们推荐或查找书籍、工具、软件库、教程或其他非现场资源的问题对于 Stack Overflow 来说是题外话”，但当人们也认为“作为他们往往会吸引固执己见的答案和垃圾邮件”，那么我认为这个问题不应该被关闭。寻找所描述的此类库的人将很难找到任何东西，这个问题的答案实际上总结了所有可用的选项。因此，这在“通常涵盖……程序员常用的软件工具”中；接受答案的类别。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-22T16:27:06.560

PortAudio 是您所描述的应用程序的绝佳选择——它可以在所有这些平台上运行，用 C 语言编写，提供低延迟，并具有回调和阻塞 I/O 选项。它绝对符合您的要求，*并不是*专门针对游戏的。事实上，我想说还有其他更适合游戏的 api，而 PortAudio 更适合通用音频 I/O，例如像您的类似 voip 的应用程序、音频播放器、专业音频应用程序、录音、软件收音机、等等

您可能会考虑的另一个选择是我不太熟悉的 RTAudio。我的理解是它有点简单（没有阻塞 I/O AFAIK），并且支持更多平台，包括移动操作系统，尽管 PortAudio 的人正在努力。

您关于 FreeBSD 与 Linux 的问题：Linux 使用 ALSA，而其他 unix 使用 OSS。OSS 和 ALSA 都提供兼容层，因此 ALSA 具有 OSS 兼容性，反之亦然，但根据我的经验，两个兼容层都存在错误。不过，也许自从我上次使用它以来情况已经好转了。

一些 linux 桌面在 ALSA 之上运行 PulseAudio。我不确定这是否适用于 FreeBSD。出于某种原因，ALSA 在大多数系统上默认配置为独占模式。虽然这在理论上很容易解决，但配置文件很奇怪，大多数用户都没有这样做，也永远不会这样做，这意味着一旦 PulseAudio 接管，你就不能再直接访问 ALSA 设备，所以你可能想要拥有一个 PulseAudio 驱动程序也是如此，除非您想让您的用户更改他们的配置（如果您的应用程序需要非常低的延迟，您可能会这样做）。

我很确定 PortAudio 支持 PulseAudio，尽管它在网站上可能会或可能不会说什么。我会在邮件列表中询问并在此处更新。

更新：邮件列表中的某个人认为您可以使用 Alsa 驱动程序访问 PulseAudio。这对我来说是（太棒了！）新闻，但它确实存在。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-22T07:20:08.337

我认为 SDL 和 OpenAL 既常见又广泛支持。除非这些不能满足您的需求，否则我建议不要降低级别，因为您将失去平台独立性。

他们似乎面向游戏的原因仅仅是因为这是更难的用例之一。因此，如果您可以支持游戏，那么您将支持其他应用程序想要的任何东西（缺少工作室软件）。

考虑您的低延迟目标。游戏需要非常低的延迟，以确保声音效果与屏幕上的动作完美匹配。我认为这是您想要的类似原因（因此您的声音与您的视频流相匹配，并且语音通道中没有暂停）。

顺便说一句，您对游戏的看法不正确。很多游戏都有用于团队交流的用户语音通道。此外，它们可能包括程序声音和声音效果。

* * *

我发现另一个叫[SFML](http://www.sfml-dev.org/)，其中包括录音支持。我对它了解不多，但我已经看到它可以替代 SDL。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-10-24T19:30:44.330

[libsoundio](http://libsound.io/)是一个符合您要求的低级 C 库。

一个警告：它还不支持 OSS (FreeBSD) 或 sndio (OpenBSD)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-22T07:53:21.660

我强烈建议您在跨平台（Linux/Mac/Windows）Qt 框架上开发它并使用它自己的 Qt 库。在 QtMultimedia 模块中，您可以使用 QAudioInput 从麦克风捕获原始音频。您可以再次使用[QtMultimedia](http://labs.qt.nokia.com/2010/05/10/low-level-audio-processing-with-qtmultimedia/)加工。

Qt 框架针对多媒体和游戏应用程序进行了非常优化，因此您不会失去性能。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-07-08T10:36:51.127

linphone 包含用于此确切目的的 mediastreamer2

# git - git 从特定分支历史记录创建新分支并提交

> ID：11151283
> 
> 赞同：3
> 
> 时间：2012-06-22T06:40:16.173
> 
> 标签：git, version-control

**我基本上想做：**

```
git checkout branchA
git checkout -b branchB <commit_id> 
```

它从on创建新`branchB`分支。`<commit_id>``branchA`

**问题：**

我在这里详细介绍，但我问的原因是帮助理解 git 历史的工作原理并节省一些打字。（上面的命令可能是四个命令而不是两个...）如何使用本机 git 函数将其变为一个？问题：

*是否有一种更简单/单行的方式来做与上述相同的事情？*

我只是想简单地做`git checkout -b branchB <commit_id>`，但如果我在`branchC`其中可能不会工作，因为日志/历史`branchC`可能与`branchA`.

**背景：**

我对这种特定情况的意图是快速恢复到以前的提交，以防错误被引入生产。然而，我仍然想保留我的新代码，然后丢弃新分支，旧代码被推回服务器。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-22T06:54:04.180

只是

```
git checkout -b branchB <commit> 
```

提交的哈希在整个仓库中是唯一的，因此没有理由更改为`branchA`之前的，因为结果是完全一样的。

这也只是一个捷径

```
git checkout <commit>
git branch branchB
git checkout branchB 
```

如您所见，第一个命令是正常的结帐，`git checkout branchA`无论如何它都会取代您的。

> 我想简单地做`git checkout -b branchB <commit_id>`，但是如果我在 branchC 中，那可能无法正常工作，因为 branchC 的日志/历史记录可能与 branchA 不同。

一个存储库中只有一个历史记录。

> 我对这种特定情况的意图是快速恢复到以前的提交，以防错误被引入生产。然而，我仍然想保留我的新代码，然后丢弃新分支，旧代码被推回服务器。

听起来像[标签](http://linux.die.net/man/1/git-tag)；）

```
git tag -a -m "Release 1.2.3" v1.2.3
# Deploy 1.2.3
#something broken!
git checkout v1.2.2
# Deploy 1.2.2 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-22T06:58:36.133

这些命令

```
git checkout -b branchB <commit_id>
git checkout -b branchB branchA 
```

意思是*我想基于分支（或提交） Y 创建一个分支 X*，因此您不必在 Y 中即可。

您首先需要移动到基本分支的情况是：

```
git checkout branchA
git checkout -b branchB 
```

看到我没有在第二行提到基础分支。

另外，请记住，提交并不特定于分支，它只是一个指针，仅此而已。可以删除、移动、重命名分支等。但提交不会改变。

# java - 使用 Proguard 混淆 ActionBarSherlock

> ID：11151284
> 
> 赞同：6
> 
> 时间：2012-06-22T06:40:16.407
> 
> 标签：java, android, ant, proguard, actionbarsherlock

我正在尝试使用`proguard`and `ant`( `eclipse`+`proguard`从不工作，总是失败`error 1`) 来混淆我的 android 应用程序。但是我`class file ... unexpectedly contains class ...`到处都收到警告，构建失败。我也尝试过`-ignorewarnings`使用`proguard`. 构建成功，但我得到一个无法使用的包。

这是蚂蚁的输出：

```
-post-compile:

optimize:
     [jar] Building jar: /home/binoy/git/Vibhinna/proguard/unoptimized.jar
     [java] ProGuard, version 4.8
     [java] Reading input...
     [java] Warning: class [classes/com/actionbarsherlock/R$array.class] unexpectedly contains class [com.actionbarsherlock.R$array]
     [java] Warning: class [classes/com/actionbarsherlock/R$attr.class] unexpectedly contains class [com.actionbarsherlock.R$attr]
     [java] Warning: class [classes/com/actionbarsherlock/R$bool.class] unexpectedly contains class [com.actionbarsherlock.R$bool]
     [java] Warning: class [classes/com/actionbarsherlock/R$color.class] unexpectedly contains class [com.actionbarsherlock.R$color]
     ....
     [java] Warning: class [classes/com/actionbarsherlock/R$xml.class] unexpectedly contains class [com.actionbarsherlock.R$xml]
     [java] Warning: class [classes/com/actionbarsherlock/R.class] unexpectedly contains class [com.actionbarsherlock.R].
     [java] Warning: class [classes/com/vibhinna/binoy/DetailsDialogFragment$1.class] unexpectedly contains class [com.vibhinna.binoy.DetailsDialogFragment$1]
     [java] Warning: class [classes/com/vibhinna/binoy/DetailsDialogFragment.class] unexpectedly contains class [com.vibhinna.binoy.DetailsDialogFragment]
     [java] Warning: class [classes/com/vibhinna/binoy/HoloAlertDialogBuilder.class] unexpectedly contains class [com.vibhinna.binoy.HoloAlertDialogBuilder]
     [java] Warning: class [classes/com/vibhinna/binoy/MiscMethods.class] unexpectedly contains class [com.vibhinna.binoy.MiscMethods]
     [java] Warning: class [classes/com/vibhinna/binoy/NewDialogFragment$1$1.class] unexpectedly contains class [com.vibhinna.binoy.NewDialogFragment$1$1]
     [java] Warning: class [classes/com/vibhinna/binoy/NewDialogFragment$1$2.class] unexpectedly contains class [com.vibhinna.binoy.NewDialogFragment$1$2]
     [java] Warning: class [classes/com/vibhinna/binoy/NewDialogFragment$1.class] unexpectedly contains class [com.vibhinna.binoy.NewDialogFragment$1]
     [java] Warning: class [classes/com/vibhinna/binoy/NewDialogFragment$10.class] unexpectedly contains class [com.vibhinna.binoy.NewDialogFragment$10]
     [java] Warning: class [classes/com/vibhinna/binoy/NewDialogFragment$11.class] unexpectedly contains class [com.vibhinna.binoy.NewDialogFragment$11]
     [java] Warning: class [classes/com/vibhinna/binoy/NewDialogFragment$2.class] unexpectedly contains class [com.vibhinna.binoy.NewDialogFragment$2]
     [java] Warning: class [classes/com/vibhinna/binoy/NewDialogFragment$3.class] unexpectedly contains class [com.vibhinna.binoy.NewDialogFragment$3]
     [java] Warning: class [classes/com/vibhinna/binoy/NewDialogFragment$4.class] unexpectedly contains class [com.vibhinna.binoy.NewDialogFragment$4]
     [java] Warning: class [classes/com/vibhinna/binoy/NewDialogFragment$5.class] unexpectedly contains class [com.vibhinna.binoy.NewDialogFragment$5]
     [java] Warning: class [classes/com/vibhinna/binoy/NewDialogFragment$6.class] unexpectedly contains class [com.vibhinna.binoy.NewDialogFragment$6]
     [java] Warning: class [classes/com/vibhinna/binoy/NewDialogFragment$7.class] unexpectedly contains class [com.vibhinna.binoy.NewDialogFragment$7]
     [java] Warning: class [classes/com/vibhinna/binoy/NewDialogFragment$8.class] unexpectedly contains class [com.vibhinna.binoy.NewDialogFragment$8]
     ....
     [java] Warning: class [classes/com/vibhinna/binoy/Preferences.class] unexpectedly contains class [com.vibhinna.binoy.Preferences]
     [java] Warning: class [classes/com/vibhinna/binoy/ProcessManager.class] unexpectedly contains class [com.vibhinna.binoy.ProcessManager]
     [java] Warning: there were 89 classes in incorrectly named files.
     [java]          You should make sure all file names correspond to their class names.
     [java]          The directory hierarchies must correspond to the package hierarchies.
     [java]          If you don't mind the mentioned classes not being written out,
     [java]          you could try your luck using the '-ignorewarnings' option.
     [java] java.io.IOException: Please correct the above warnings first.
     [java]     at proguard.InputReader.execute(InputReader.java:133)
     [java]     at proguard.ProGuard.readInput(ProGuard.java:197)
     [java]     at proguard.ProGuard.execute(ProGuard.java:79)
     [java]     at proguard.ProGuard.main(ProGuard.java:493) 
```

我该如何解决？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-06-22T06:46:53.837

确保您的 proguard 配置文件具有ActionbarSherlock的[推荐排除项：](http://actionbarsherlock.com/faq.html)

```
-keep class android.support.v4.app.** { *; } 
-keep interface android.support.v4.app.** { *; } 
-keep class com.actionbarsherlock.** { *; } 
-keep interface com.actionbarsherlock.** { *; } 
-keepattributes *Annotation* 
```

也尝试添加

```
-keepclassmembers class **.R$* {
    public static <fields>;
} 
```

正如[这里](https://groups.google.com/d/msg/actionbarsherlock/aK3fLYg08Jw/hm5_srL1MP8J)建议的那样。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-22T22:42:30.740

参照。ProGuard 手册 > 疑难解答 >[警告：类文件...意外包含类...](http://proguard.sourceforge.net/manual/troubleshooting.html#unexpectedclass)

您应该在输入类路径中指定正确的基目录：“-injars ...... **/classes** ”。

# asp.net-mvc - MultiSubmitButton 客户端验证

> ID：11151285
> 
> 赞同：0
> 
> 时间：2012-06-22T06:40:21.247
> 
> 标签：asp.net-mvc, asp.net-mvc-3, razor, validation

我创建了一个视图。在那里，我为“创建”和“取消”放置了 2 个多提交按钮。

现在，在取消单击时，将调用客户端验证。但我不想调用客户端验证。

我写了如下代码，请检查。我不希望在单击取消按钮时执行验证。

```
@model Blog.Models.User
@{
    ViewBag.Title = "Register New User";
}

@using Microsoft.Web.Mvc;
@using MVC3MultiSubmitButtonExtension;
<h2>
    Register New User</h2>
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)
    <fieldset>
        <legend>Fill User Details</legend>
        <div class="editor-label">
            @Html.LabelFor(model => model.FirstName)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.FirstName)
            @Html.ValidationMessageFor(model => model.FirstName)
        </div>
        <div class="editor-label">
            @Html.LabelFor(model => model.LastName)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.LastName)
            @Html.ValidationMessageFor(model => model.LastName)
        </div>
        <div class="editor-label">
            @Html.LabelFor(model => model.Username)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Username)
            @Html.ValidationMessageFor(model => model.Username)
        </div>
        <div class="editor-label">
            @Html.LabelFor(model => model.Password)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Password)
            @Html.ValidationMessageFor(model => model.Password)
        </div>
        <div class="editor-label">
            @Html.LabelFor(model => model.EmailAddress)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.EmailAddress)
            @Html.ValidationMessageFor(model => model.EmailAddress)
        </div>
        <div class="editor-label">
            @Html.LabelFor(model => model.MobileNumber)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.MobileNumber)
            @Html.ValidationMessageFor(model => model.MobileNumber)
        </div>
        <p>
            @*  <input type="submit" value="Create" />*@
           @Html.MultiSubmitButton(Url.Action("Create"), "btnCreate", "Create")
           @Html.MultiSubmitButton(Url.Action("Cancel"), "btnCancel", "Cancel")
        </p>
    </fieldset>
}
<div>
    @Html.ActionLink("Click here to go Login Page", "Index")
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T06:58:13.037

如果您分配`class="cancel"`给您的取消提交按钮，客户端验证将不会运行。我无法告诉您分配此类的方式，因为您似乎正在使用一些`Html.MultiSubmitButton`不属于 ASP.NET MVC 的自定义帮助程序。所以你必须检查它的文档。

# php - 用于搜索邮政编码的文件或数据库？

> ID：11151287
> 
> 赞同：0
> 
> 时间：2012-06-22T06:40:41.377
> 
> 标签：php, mysql, sql

我有一个在线购物车，在结帐时用户输入他的邮政编码。

有两种付款方式，货到付款和网上银行。快递服务仅运送到某些区域（由邮政编码标识）。COD 和 Net-Banking 允许的邮政编码列表不同。（列表长度 = COD 约 2500，后者约 10,000）

我应该将这些列表存储在数据库还是平面文件中？

对于数据库，我将使用 查询`SELECT`，对于文件，我可以读取数组中的整个（或部分）列表，然后对其进行二进制搜索。

考虑以下几点，哪一个会更快 -

1.  现在只有一种快递服务，但将来会有更多，并且有自己的不同列表。所以我需要在多个列表中搜索。
2.  主要是读，写会少得多。此外，该列表应该在以后进行自定义。

我会选择数据库，但我不知道它是否会使事情变慢，而且我不想花时间设计数据库，当文件可能更好时。

**编辑：** 假设有 2 家快递公司 ABC 和 DEF。
对于*文件*，我将有 4 个文件（例如）ABC_COD.txt、ABC_net.txt、DEF_COD.txt、DEF_net.txt。因此，如果客户选择 COD，我会搜索 ABC_COD，如果没有，我会搜索 DEF_COD，依此类推。好吧，这似乎很昂贵，但它也很容易扩展。

现在考虑数据库，我将有一个表`Allowed_zipcodes`，有五列：zipcode(int/varchar(6))、ABC_COD(boolean)、ABC_net(boolean)、DEF_COD(boolean)、DEF_net(boolean)。如果 x 公司为 y 代码提供 cod，则对应列有`true`，否则`false`。虽然这看起来有利于查找，但添加公司需要更改架构。

请考虑未来的变化和设计。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T07:18:40.697

数据库，毫无疑问。更合乎逻辑，更具可扩展性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T08:29:41.507

出于某种原因，我认为您应该查看洋红色框架，它不是已经在某些软件包中了吗？

但是如果你想自己做：只是给你一个数据库模型的起点：

```
carrier
        id(int) | name (varchar)

zipcodes
        start(int) | end(int) | carrier(fk::carrier.id) 
```

例如：

```
carrier
        1 | UPS
        2 | fedex

zipcodes
        1000 | 1199 | 2
        1000 | 1099 | 1 
```

查询您的邮政编码和可用的运营商：

```
SELECT carrier.name 
FROM zipcodes 
LEFT JOIN carrier ON zip codes.carrier = carrier.id
WHERE
   zipcodes.end >= :code
AND
   zipcodes.start <= :code 
```

# iphone - 如何在ios5.0 iphone的twitter中找到用户名和key

> ID：11151294
> 
> 赞同：0
> 
> 时间：2012-06-22T06:41:23.150
> 
> 标签：iphone, ios5, twitter

嗨，我已成功将 twitter 与 ios5.0 集成到我的 iphone 应用程序中。我的问题是我在 ios 5.0 的 twitter 中使用两个帐户登录，然后对于来自我的应用程序的推文，我如何知道哪个用户发了推文或活动帐户的用户 ID

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-06T11:38:53.770

在中，`TWTweetComposeViewController`您可以获得如图所示的选择器，您可以从中选择一个帐户。

![在此处输入图像描述](../Images/cd4f09c2d9d6452d483a47c8f7bfc2b0.png)

当您直接发推文时，在 ACAccount 的帮助下，您可以通过

```
+ (void)pritnUserName {
// Create an account store object.
ACAccountStore *accountStore = [[ACAccountStore alloc] init];

// Create an account type that ensures Twitter accounts are retrieved.
ACAccountType *accountType = [accountStore accountTypeWithAccountTypeIdentifier:ACAccountTypeIdentifierTwitter];

// Request access from the user to use their Twitter accounts.
[accountStore requestAccessToAccountsWithType:accountType withCompletionHandler:^(BOOL granted, NSError *error) {
    if(granted) {
        // Get the list of Twitter accounts.
        NSArray *accountsArray = [accountStore accountsWithAccountType:accountType];

        // For the sake of brevity, we'll assume there is only one Twitter account present.
        // You would ideally ask the user which account they want to tweet from, if there is more than one Twitter account present.
        if ([accountsArray count] > 0) {
            // Grab the initial Twitter account to tweet from.

            for (int i = 0 ; i < [accountsArray count] ;i++){
                ACAccount *twitterAccount = [accountsArray objectAtIndex:i];
                NSLog(@"username :%d is %@",i+1,twitterAccount.username);

            }

        }
    }
}];

[accountStore release]; 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:16:50.387

使用此方法获取用户信息

```
- (void) storeCachedTwitterOAuthData: (NSString *) data forUsername: (NSString *) username 
{  
    NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];  
    [defaults setObject: data forKey: @"authData"];  
    [defaults synchronize];  
}  

- (NSString *) cachedTwitterOAuthDataForUsername: (NSString *) username 
{  
    return [[NSUserDefaults standardUserDefaults] objectForKey: @"authData"];  
} 
```

并且

```
- (void)userInfoReceived:(NSArray *)userInfo forRequest:(NSString *)connectionIdentifier 
{
    NSLog(@"User Info Received: %@", userInfo);
} 
```

我们将在这里获取用户名

# python - 使用 NLTK 查找三元组

> ID：11151296
> 
> 赞同：-4
> 
> 时间：2012-06-22T06:41:29.433
> 
> 标签：python, nlp, nltk, n-gram

我对[NLTk](http://nltk.org/)和 python 不是很熟悉，我必须在一个程序中完成以下任务：

1.  **对输入文本进行标记和*小写***1****
****   **标记**输入*文本2**   查找输入文本中的*所有***三元组1*****

 ****谁能帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T11:40:52.047

是nltk 示例的一部分吗`text1`？`text2`然后看看它们，你会发现标记化并不像你想象的那样工作:-)

对于小写，请查看任何介绍性的 python 教程。对于 trigrams，请查看 nltk 书。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-12-28T13:37:08.360

如果您不想使用 nltk ngrams：

```
 """import nltk
    from nltk import word_tokenize

    text1 = "I really like python"
    text2 = " Python is a snake"
    token=nltk.word_tokenize(text1)
    token=nltk.word_tokenize(text2)
    low_text1=nltk.word_tokenize(text1.lower())
    N = 3
    grams = [low_text1[i:i+N] for i in xrange(len(low_text1)-N+1)]""" 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-06-22T01:35:28.957

如果您没有找到所有三元组的示例，则应首先对其进行标记

```
>>> import nltk
>>> from nltk import word_tokenize
>>> from nltk.util import ngrams
>>> text1 = "Hi How are you? i am fine and you"
>>> token=nltk.word_tokenize(text1)    #tokenize your text 
>>> tttt=nltk.word_tokenize(text.lower())  #tokenize your text and make it lowercase in onestep
>>> tttt
['hi', 'how', 'are', 'you', '?', 'i', 'am', 'fine', 'and', 'you']

>>> trigrams=ngrams(token,3)          # find all the trigram in text1
>>> trigrams
[('Hi', 'How', 'are'), ('How', 'are', 'you'), ('are', 'you', '?'), ('you', '?', 'i'), ('?', 'i', 'am'), ('i', 'am', 'fine'), ('am', 'fine', 'and'), ('fine', 'and', 'you')] 
```

关于制作你的 text2 你只需要应用标记化步骤****

# perl - 如何在 perl 正则表达式的列表中使用逗号分割数字

> ID：11151297
> 
> 赞同：1
> 
> 时间：2012-06-22T06:41:30.410
> 
> 标签：perl

我有一个类似的清单

```
1,2,3
11,12,14
1,6,8 
```

我应该如何将这些数字分成

```
1
2
3
11
12
14
1
6
8 
```

我试过了

```
@num=(1,2,3
      11,12,14
      1,6,8);
$splitnum=$splitnum.','.$num; 
```

但它没有用。请帮我。

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-22T06:55:33.990

您一定在考虑另一种语言，因为该分配将导致 perl 中的语法错误。您可以通过引用字符串轻松修复它。

```
my @num = ("1,2,3",
           "11,12,14",
           "1,6,8"); 
```

我不知道你的另一条线是什么意思，但它仍然是错误的。`$num`and`@num`是 perl 中的两个不同的变量，彼此无关。

你可以做的是：

```
@num = map split(/,/), @num; 
```

`map``@num`将用逗号分割每一行并返回列表。

你应该总是把

```
use strict;
use warnings; 
```

在你所有的 perl 脚本中。会有错误，但他们会教你避免错误。不使用它们是一个非常糟糕的主意，这就像戴上眼罩而不是戴上头盔来保护你的头部。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T06:50:56.800

首先，`split`拆分字符串（而不是数组）并返回列表。所以你的代码应该是。

```
my $str1="1,2,3,11,12,14,1,6,8"; 

my @num=split ',',$str1;

my $str2=join ' ',@num;

print $str2; 
```

或者

您也可以使用正则表达式`$str=~s/,/ /gm`；

# objective-c - 在 Objective C 中创建库 .m 文件

> ID：11151298
> 
> 赞同：-2
> 
> 时间：2012-06-22T06:41:38.213
> 
> 标签：objective-c

所以我有一个笼统的问题。我有一堆函数，其中一些是 void，一些返回 NSString*，一些返回 NSDictionary*，等等。我在一堆不同的类中使用这些函数。我只想创建一个库 .m 文件，我可以将其包含在使用它们的类中，因此我不必到处复制和粘贴这些函数。我很确定这应该不难做到，但我似乎无法让它适用于除了 void 函数之外的任何东西。

例子：

```
//Library.h
(NSString*)doStuff{
    NSString* test = "hello world";
    return test;
}

(void)print{
    NSLog(@"Hi");
} 
```

我希望基本上有 1 个文件，我可以在其上使用 import 语句，但不确定这在 obj c 中是否可行。

罗宾

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:03:50.080

您可以使用普通的旧 C 风格：

```
// ======== yourlib.h =========
#import <Foundation/Foundation.h>
NSString *doStuff();
void print();

//======== yourlib.m =========
#import "yourlib.h"
NSString *doStuff(){
    NSString *test = @"hello world";
    return test;
}

void print(){
    NSLog(@"Hi");
} 
```

或者，您可以使用类别功能附加到现有框架：

```
// ======= youlib.h ========
#import <Foundation/Foundation.h>
@interface NSString (YourCategory)
+ (NSString *)someStringFromString:(NSString*)string;
- (NSDictionary *)someDictionaryFromString;
@end
// ======= yourlib.m =======
#import "yourlib.h"
@implementation NSString(YourCategory)
+ (NSString *)someStringFromString:(NSString*)string {
   ...
   return aString;
}
- (NSDictionary *)someDictionaryFromString {
   ...
   return aDict;
}
@end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:02:08.547

使用类方法。在课堂上写下你所有的常用函数`Library`。

```
 //Library.m

+(NSString*)doStuff{
    NSString* test = "hello world";
    return test;
}

+(void)print{
    NSLog(@"Hi");
}

#import "Library.h"
@implementation ClassA

-(void)MethodA
{
 [Library doStuff];
 [Library print];
} 
```

# jquery - ie中的jquery用户代理错误

> ID：11151299
> 
> 赞同：0
> 
> 时间：2012-06-22T06:41:46.440
> 
> 标签：jquery, asp.net, html, internet-explorer

```
User Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; Trident/4.0; InfoPath.2; .NET CLR 2.0.50727; .NET CLR 3.0.04506.648; .NET CLR 3.5.21022; .NET4.0C; .NET4.0E)
Timestamp: Fri, 22 Jun 2012 05:20:36 UTC
Message: Expected identifier, string or number
Line: 39
Char: 1
Code: 0
URI: [http://app.eschooltrack.com/scripts/functions.js][1] 
```

有了这个错误，完整的**jQuery**文件`IE`在转换为 asp.net 版本后无法正常工作，它在其他浏览器和**HTML**版本中工作正常，

请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:00:48.387

尝试在你的functions.js中删除高度：20和高度：160之后的逗号

```
$(function(){
$('#alerts').vTicker({ 
speed: 500,
pause: 4000,
animation: 'fade',
mousePause: true,
showItems: 2,
direction: 'up',
height:20
});
});

$(function(){
$('#news').vTicker({ 
speed: 500,
pause: 4000,
animation: 'fade',
mousePause: true,
showItems: 2,
direction: 'up',
height:160
});
}); 
```

# c# - MVVM 与对象的通信

> ID：11151300
> 
> 赞同：1
> 
> 时间：2012-06-22T06:41:51.003
> 
> 标签：c#, .net, wpf, mvvm, prism

我目前正在尝试使用 Prism 创建一个应用程序，但模块之间的通信存在一些问题。

我有一个状态模块，它基本上显示状态消息，但也可以向用户显示一些工作正在进行中（不确定），显示不同的图标，显示/隐藏控件等等。

为此，通常我会使用具有所有这些属性的状态对象并将其用作参数，但是因为在 prism 中建议强耦合，所以我不知道该怎么做。

为每个属性创建 4-5 个事件可能是不好的做法，.. 我还想过在事件和资源所在的“交互”模块中创建一个接口。

你们会推荐什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:58:59.113

许多状态事件可能确实不是最好的解决方案；但是，如果有一个或两个经常使用（例如在状态栏中显示状态消息），为了方便起见，我无论如何都会将它们公开为事件。

对于其余部分，您可以通过 MEF 或 Unity 公开 StatusModule，或者更确切地说是由 StatusModule 实现的接口 IStatusModule，具体取决于您使用的内容。这样，任何想要显示状态的组件都会导入 IStatusModule 并使用它。

# html - 单击视频查看区域时html5视频禁用暂停

> ID：11151302
> 
> 赞同：2
> 
> 时间：2012-06-22T06:41:52.027
> 
> 标签：html, html5-video

正如标题所解释的，

单击视频查看区域时，我需要禁用暂停，因为单击该区域时我试图附加其他事件。

我尝试使用这个 videojs.com 但没有找到解决方案

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-05T11:02:57.033

在 video.dev.js（4.1 版）第 3399 行注释函数体

```
// OnClick - Toggle between play and pause
vjs.PlayToggle.prototype.onClick = function(){
  /*if (this.player_.paused()) {
    this.player_.play();
  } else {
    this.player_.pause();
  }*/
}; 
```

在 video.js 第 80 行第 403 列中，它的功能相同，注释功能体

```
function(){/*this.a.controls()&&(this.a.paused()?this.a.play():this.a.pause())*/} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-04-06T12:39:41.610

最简单的方法 - 只需将其添加到 css 文件中：

```
.video-js.vjs-playing .vjs-tech {
  pointer-events: none;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-03T12:38:34.713

我想评论 Ashot 他对 Video JS 4.6.3 解决方案的回答，但我的声誉还不够高。

MrHunter 为 Video JS 4.3 提供了答案。在 4.6.3 版本中，相同的代码位于文件 video.js 的第 99 行，如下所示：

```
function(a){0===a.button&&this.m().controls()&&(this.m().paused()?this.m().play():this.m().pause())}; 
```

注释掉之后是这样的：

```
function(a){/*0===a.button&&this.m().controls()&&(this.m().paused()?this.m().play():this.m().pause())*/}; 
```

这对我来说非常有效。感谢 Ashot 和 MrHunter 为我提供了最新版 Video JS 的解决方案！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-22T06:52:39.400

如果您不介意直接编辑 videojs 文件，您可以将 bigPlayButton 的 CSS 设置为 none 而不是 block，或者注释掉以下内容：

```
// Make a click on the video act as a play button 
this.activateElement(this.video, "playToggle"); 
```

这种行为将会消失。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-02-24T09:55:50.207

**如果您想防止点击视频时暂停，只需在脚本中添加这两行即可。**

```
var videoEle = document.getElementById("videoTagId");
videoEle.onpause = () => { videoEle.play(); } 
```

# javascript - 没有互联网连接以加载谷歌地图时，Jquery Mobile 错误消息

> ID：11151304
> 
> 赞同：0
> 
> 时间：2012-06-22T06:41:57.700
> 
> 标签：javascript, jquery, jquery-ui, google-maps, jquery-mobile

从过去 2 天开始，我想要实现的是 - 当没有互联网连接“抱歉，没有互联网连接”时，我可以在我的 jquery 移动页面上显示错误消息。

我尝试了很多东西，但都没有奏效。下面的代码是我最后一次尝试使用 try-catch 块的时候。但即使这样也无济于事。当我在浏览器中加载页面时会发生以下情况 -

1.  当 Internet 连接可用时 - 已加载地图并且工作正常。
2.  当没有 Internet 连接时 - 我得到空白页。没有页眉和页脚。带有一些默认的灰色背景，这对我的应用程序来说看起来很糟糕。:(

任何形式的帮助都是可观的。我仍在学习。

我现在使用的代码如下 -

```
<!DOCTYPE html> 
<html>
<script src="SpryAssets/SpryTabbedPanels.js" type="text/javascript"></script>
<link href="SpryAssets/SpryTabbedPanels.css" rel="stylesheet" type="text/css">
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="assets/css/master.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="assets/css/jquery.mobile.structure-1.0.min.css"              type="text/css" media="screen" />
  <link rel="stylesheet" href="assets/css/jquery.mobile.theme-1.0.min.css" type="text/css" media="screen" />
  <script src="assets/js/jquery-1.6.4.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="assets/js/jquery.mobile-1.0.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
  <style type="text/css"> 
     #map_canvas { height: 330px; width: 100%; margin: 0px; padding: 0px }
  </style>

</head> 
<body>

  <div data-role="header" data-theme="e">
  <a data-icon="home" data-iconpos="notext" rel="external" href="index.html#page2"></a>
    <h1>Maps</h1>   
  </div>
  <div data-role="content" data-theme="d">  
    <div id="map_canvas">
      <script type="text/javascript">
         function initialize(){
           try{
                var locations = [
               ['Dr. Martin Luther King Library',37.3356,-121.8853, 4],
               ['Duncan Hall',37.3325,-121.8820, 5],
                   ['Clark Hall',37.3360,-121.8827, 3],
                   ['Event Center',37.3355,-121.8797, 2],
                   ['Student Union',37.3369,-121.8806,  1]
                 ];

                var map = new google.maps.Map(document.getElementById('map_canvas'), {
                          zoom: 16,
                          center: new google.maps.LatLng(37.3369,-121.8806),
                          mapTypeId: google.maps.MapTypeId.ROADMAP
                       });

                var infowindow = new google.maps.InfoWindow();
                var marker, i;

               for (i = 0; i < locations.length; i++) 
                 {  
                    marker = new google.maps.Marker({
                    position: new google.maps.LatLng(locations[i][1], locations[i][2]),
                         map: map
                    });

                  google.maps.event.addListener(marker, 'click', (function(marker, i) {
                    return function() {
                            infowindow.setContent(locations[i][0]);
                            infowindow.open(map, marker);
                          } 
             })(marker, i));
                 }
                   }
             catch(err)
               {
                 document.getElementById("map_canvas").text='Sorry, No internet connection.';
               }
         }

       google.maps.event.addDomListener(window, 'load', initialize);

  </script>  
  </div>
</div>
<div data-role="footer" data-theme="e">
<h4>&copy; blah-blah Inc.</h4>
</div>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T06:49:45.330

`script`元素触发`onerror`事件，当它无法加载脚本时。您可以添加处理程序并跟踪脚本是否成功加载：

```
<script src="http://maps.google.com/maps/api/js?sensor=false" 
        onerror="javascript:alert('No internet connection.')"></script> 
```

**更新：**你可以尝试这样的事情：

```
<!DOCTYPE html> 
<html>
<script src="SpryAssets/SpryTabbedPanels.js" type="text/javascript"></script>
<link href="SpryAssets/SpryTabbedPanels.css" rel="stylesheet" type="text/css">
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="assets/css/master.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="assets/css/jquery.mobile.structure-1.0.min.css"              type="text/css" media="screen" />
  <link rel="stylesheet" href="assets/css/jquery.mobile.theme-1.0.min.css" type="text/css" media="screen" />
  <script src="assets/js/jquery-1.6.4.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="assets/js/jquery.mobile-1.0.min.js" type="text/javascript" charset="utf-8"></script>    
  <script type="text/javascript">
      function initialize(){
         //..... Your code with removed try/catch block
      }
  </script>  
  <style type="text/css"> 
     #map_canvas { height: 330px; width: 100%; margin: 0px; padding: 0px }
  </style>

</head> 
<body>

  <div data-role="header" data-theme="e">
  <a data-icon="home" data-iconpos="notext" rel="external" href="index.html#page2"></a>
    <h1>Maps</h1>   
  </div>
  <div data-role="content" data-theme="d">  
    <div id="map_canvas"></div>
</div>
<div data-role="footer" data-theme="e">
<h4>&copy; blah-blah Inc.</h4>
</div>
<script src="http://maps.google.com/maps/api/js?sensor=false" onload="javascript:initialize()" onerror="javascript:$('#map_canvas').html('No internet connection')"></script>
</body>
</html> 
```

# android - android listview 适配器光标

> ID：11151308
> 
> 赞同：-2
> 
> 时间：2012-06-22T06:42:04.757
> 
> 标签：android, cursor, android-listview, adapter

```
 public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.artistname);

    Bundle extras = getIntent().getExtras(); 
    String val = extras.getString("artistname");

    //Toast.makeText(getApplicationContext(), val, Toast.LENGTH_LONG).show();

    String result = null;
    InputStream is = null;
    StringBuilder sb = null;

    ArrayList<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();

    try{

    //http post
    HttpClient httpclient = new DefaultHttpClient();
    //HttpPost httppost = new HttpPost("http://192.168.0.5/staging/android/get_search_result.php?keyword=Chinna_Mani&format=json"); 
```

HttpPost httppost = new HttpPost("http://192.168.0.5/staging/android/get_search_result.php?keyword="+val+"&format=json&flg=1");

```
 //HttpPost httppost = new HttpPost("http://192.168.0.5/staging/android/ilaiyarajawebservice.php?format=xml");
    httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
    HttpResponse response = httpclient.execute(httppost);
    HttpEntity entity = response.getEntity();
    is = entity.getContent();
    }
    catch(Exception e){
        Toast.makeText(getBaseContext(),e.toString() ,Toast.LENGTH_LONG).show();
   }

    //Convert response to string  
    try
    {
      BufferedReader reader = new BufferedReader(new InputStreamReader(is,"UTF-8"));

      sb = new StringBuilder();

      String line = null;

      while ((line = reader.readLine()) != null) 
      {
         sb.append(line + "\n");
      }

      is.close();

      result = sb.toString();
    }
    catch(Exception e)
    {
        Toast.makeText(getBaseContext(),e.toString() ,Toast.LENGTH_LONG).show();
    }
    //END Convert response to string   
    try{
            JSONArray jArray = new JSONArray(result);
            JSONObject json_data=null;
            for(int i=0;i<jArray.length();i++)
            {
               json_data = jArray.getJSONObject(i);

               r.add(json_data.getString("artistfirstname"));

              // r.add(json_data.getString("file_name")+json_data.getString("artist_name") +json_data.getString("album_name"));

            }                                              
        }                            

    catch (JSONException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }

            finally {      

        Cursor cursor = getContentResolver().query(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI, null, null, null, null);

         if(null != cursor)
        {

                 cursor.moveToFirst();

                setListAdapter(new ArrayAdapter<String>(this,R.layout.custom_list_item, r));

             }
             else{ 
```

//我想要这样我在这里开发警报消息未找到播放列表

```
 System.out.println("playlist not  found");

        }
        }
            } 
```

如果值`r`有内容然后显示，我需要帮助，如果没有内容，那么我想设置警报“未找到列表”我该如何实现？我尝试使用其他但没有成功。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T06:46:31.587

```
if(null != cursor && cursor.getCount()>0 )//check cursor is not null and having atleast 1 data
 {
    cursor.moveToFirst();
    setListAdapter(new ArrayAdapter<String>(this,R.layout.custom_list_item, r));        

    //do your operation with content
 }
else
  //show alert here i.e. no list found 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T06:45:57.950

```
if(null != cursor)
{
    //other work......

    if (cursor.getCount () > 0 )
    {        
         //show alert 

    } 
    else
    {
        cursor.moveToFirst();
        setListAdapter(new ArrayAdapter<String>(this,R.layout.custom_list_item, r));
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T06:48:33.113

您只需要检查游标，如果游标至少有一个数据然后尝试移动到第一条记录，如果有第一条记录则`cursor.moveToFirst()`返回`boolean`值然后为真否则为假，您可以直接使用它来检查游标是否已获取数据或不如下。

```
if(cursor.moveToFirst())
{
   //Populate Contents
}
else
{
  //No Contents Found
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-22T06:49:26.983

```
if(r.size()>0){    
 Cursor cursor = getContentResolver().query(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI, null, null, null, null);

     if(null != cursor)
     {
        cursor.moveToFirst();
    setListAdapter(new ArrayAdapter<String>(this,R.layout.custom_list_item, r));        
//here I need help the value are having content means display, if not have content means I want set alert no list found how? I will try else but not success.

   }
}else{ 
```

您可以通过创建对话框来向她显示警报并告诉用户该列表为空以创建对话框您可以参考[最佳链接..](http://www.vogella.com/articles/AndroidDialogs/article.html)

```
 } 
```

刚刚添加了检查 arraylist 是否包含元素，如果没有，那么您可以通过 Toast 或对话框显示警报，因为我为其提供了链接。--------------------------这是您的问题解决方案------------------- ----------------------

```
public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.artistname);

    Bundle extras = getIntent().getExtras(); 
    String val = extras.getString("artistname");

    //Toast.makeText(getApplicationContext(), val, Toast.LENGTH_LONG).show();

    String result = null;
    InputStream is = null;
    StringBuilder sb = null;

    ArrayList<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();

    try{

    //http post
    HttpClient httpclient = new DefaultHttpClient();
    //HttpPost httppost = new HttpPost("http://192.168.0.5/staging/android/get_search_result.php?keyword=Chinna_Mani&format=json");
HttpPost httppost = new HttpPost("http://192.168.0.5/staging/android/get_search_result.php?keyword="+val+"&format=json&flg=1");

    //HttpPost httppost = new HttpPost("http://192.168.0.5/staging/android/ilaiyarajawebservice.php?format=xml");
    httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
    HttpResponse response = httpclient.execute(httppost);
    HttpEntity entity = response.getEntity();
    is = entity.getContent();
    }
    catch(Exception e){
        Toast.makeText(getBaseContext(),e.toString() ,Toast.LENGTH_LONG).show();
   }

    //Convert response to string  
    try
    {
      BufferedReader reader = new BufferedReader(new InputStreamReader(is,"UTF-8"));

      sb = new StringBuilder();

      String line = null;

      while ((line = reader.readLine()) != null) 
      {
         sb.append(line + "\n");
      }

      is.close();

      result = sb.toString();
    }
    catch(Exception e)
    {
        Toast.makeText(getBaseContext(),e.toString() ,Toast.LENGTH_LONG).show();
    }
    //END Convert response to string   
    try{
            JSONArray jArray = new JSONArray(result);
            JSONObject json_data=null;
            for(int i=0;i<jArray.length();i++)
            {
               json_data = jArray.getJSONObject(i);

               r.add(json_data.getString("artistfirstname"));

              // r.add(json_data.getString("file_name")+json_data.getString("artist_name") +json_data.getString("album_name"));

            }                                              
        }                            

    catch (JSONException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }

            finally {      

if(r.size()>0){

        Cursor cursor = getContentResolver().query(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI, null, null, null, null);

         if(null != cursor)
        {

                 cursor.moveToFirst();

                setListAdapter(new ArrayAdapter<String>(this,R.layout.custom_list_item, r));

             }
}else{

Toast.makeToast(getApplicationcontext(),"no Records ...", Toast.SHORT).show();

        }

        }
            } 
```

希望这个解释对你有用..感谢

# ms-office - C#中doc文件的签名

> ID：11151314
> 
> 赞同：0
> 
> 时间：2012-06-22T06:42:39.633
> 
> 标签：ms-office

其实我是一名顾问，准备标准化文件。所以我需要的是设置一个 msword 文件的签名并让其完好无损，即没有人可以编辑签名并将其转发给其他人。可能吗 ？如果是，那么如何

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T06:59:52.453

签名证明签名所有者对文档的署名（或批准）。签名不能用来阻止文档的分发，也不能阻止第三方编辑文档。可以编辑文档数据 - 这会使签名无效，但未签名的文档可以从已签名的文档中派生出来，但无论如何都要进行一些修改。

加密可以防止修改和泄露数据，但拥有密钥的人可以在文件解密后对文件进行任何操作。

我们的 SecureBlackbox 产品可让您在需要时对 MS Office 文档进行签名和加密，但您需要明确定义您需要完成什么以及签名和加密如何（或不能）帮助您实现目标。

# scala - 是否有支持 Scala 配置文件的可视化建模工具/语言或样式？

> ID：11151316
> 
> 赞同：8
> 
> 时间：2012-06-22T06:42:53.757
> 
> 标签：scala, modeling, domain-data-modelling, visual-modeler

> [目前在 SO 上活跃的类似问题是“[函数式编程范式是否有可视化建模语言或风格？](https://stackoverflow.com/questions/1364237/is-there-a-visual-modeling-language-or-style-for-the-functional-programming-para) ”这与这个问题不同，因为另一个问题只关注函数式编程范式，而我的问题是寻找一种建模工具支持面向对象范式（它独立拥有许多完善的可视化建模 UML 工具）和函数式编程范式的组合。

是否有支持 Scala 配置文件（提供并包含所有 Scala 语言工件）的**可视化建模工具/语言或样式**，或者可以说它同时支持**面向对象的编程范式**和**函数式编程范式**。

对于企业规模的 Scala 项目，使用什么建模工具 - 业务分析师为逻辑（概念）视图和开发视图准备可视模型或任何其他类型的模型？

*   逻辑视图与系统提供给最终用户的功能有关。
*   开发视图从程序员的角度说明了一个系统，并关注软件管理。

> 在软件开发的某些圈子中，正式建模是一项要求，无论您认为这是多么官僚。不同团队对项目的完成有多个级别的参与，许多参与的人对代码一无所知。他们不需要，如果被问到这将是一个很大的麻烦。正式的建模是为了确保他们能够更好地了解事物的工作方式，以便他们能够在开发中发挥自己的作用。（本段摘自：[https](https://stackoverflow.com/users/166802/codnik) ://stackoverflow.com/users/166802/codnik ）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T19:45:54.663

不幸的是，似乎没有可用的。

我有一个博士生朋友正在研究形式化建模技术，但他并没有构建 PoC。

# iphone - 如何在xcode 4.3 lion中找到将调用函数而不是搜索工具的地方

> ID：11151317
> 
> 赞同：3
> 
> 时间：2012-06-22T06:42:54.363
> 
> 标签：iphone, ios, xcode

如何在xcode 4.3 lion中找到将调用函数而不是搜索工具的地方？谢谢！

对不起，我的英语不好：我的意思是，假设我有一个名为 A 的类，而 A 类有一个函数 -(void)findMe; 我想要的是在我的项目中找到调用函数“-(void)findMe”的地方。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T08:38:00.883

I'm afraid the search feature is probably your best bet. This doesn't exactly solve your problem but you can "command - click" your function, and Xcode will jump to its declaration.

To speed up the search process, you can use "command - shift - F" to call up a project wide search, and "command - F" to search the current file.

# c# - 在运行时连接到共享数据源

> ID：11151323
> 
> 赞同：1
> 
> 时间：2012-06-22T06:43:23.400
> 
> 标签：c#, asp.net, reporting-services, ssrs-2008, reportviewer

我正在编写一个类似于 Microsoft 的[Report Builder](http://msdn.microsoft.com/en-us/library/dd207008%28v=sql.105%29.aspx)但要托管在现有 Web 应用程序上的报表生成器程序。它应该能够：

*   连接到报表服务器（SSRS2008）和预配置的共享数据源；
*   让用户设计 RDLC；和，
*   无需 Visual Studio 即可动态生成报告。

基本上，它是一个独立的尽管是专有的报告生成工具。

用户不必是*报告编写者*，但他们是否了解数据库中数据的关联方式。（表之间存在现有关系。）出于某种原因，他们不能或不应访问 SSRS 站点以从那里构建报告（即使用 Microsoft 的 Report Builder 工具）。他们必须使用我正在创建的工具。

我已经完成了最后两颗子弹。第一个是给我的问题：我对此比较陌生，可能这不是微不足道的。如何在运行时连接到 SSRS2008 数据源？

在我的`web.config`中，我向 connectionStrings 添加了一个条目，如下所示：

```
<add name="ReportingSDS" connectionString="Server=http://myReportingServer;datasource=http://myReportingServer/reportserver/models/myReportModel.smdl;Integrated Security=True"/> 
```

这是基于[规定的格式](http://msdn.microsoft.com/en-us/library/ms156450%28v=sql.105%29.aspx)。

在此之后我遇到了一堵砖墙：

```
using (var conn = new SqlConnection(WebConfigurationManager.ConnectionStrings["ReportingSDS"].ConnectionString))
{
     conn.Open();
     // what's next?
} 
```

我得到的错误是：

> 建立与 SQL Server 的连接时发生与网络相关或特定于实例的错误。服务器未找到或无法访问。验证实例名称是否正确以及 SQL Server 是否配置为允许远程连接。（提供者：命名管道提供者，错误：40 - 无法打开与 SQL Server 的连接）

我的目标是检索它`DataSet`并将其插入此代码段：

```
using (var memRDLC = new MemoryStream(Encoding.ASCII.GetBytes(myRdlcXml)))
{
    // Bind the rdl memory stream and data set to reportviewer
    rptViewer.ProcessingMode = ProcessingMode.Local;

    LocalReport r = rptViewer.LocalReport;
    r.LoadReportDefinition(memRDLC);
    foreach (DataTable dataTable in reportEngine.DataTables)
    {
        r.DataSources.Add(new ReportDataSource(
            dataTable.TableName + "_Table", dataTable));
    }
    r.Refresh();
} 
```

# svn - svn2git 错误：[svn-remote "svn"] 未知

> ID：11151325
> 
> 赞同：3
> 
> 时间：2012-06-22T06:43:33.127
> 
> 标签：svn, github, git-svn

`svn2git`尝试按照github 的建议将我的本地 SVN 存储库转换为 Git 。

我运行了这段代码： `svn2git http://localhost/repo-name`

我得到了这个错误：

```
RA layer request failed: OPTIONS of 'http://localhost/repo-name': 200 OK (http://localhost) at /usr/bin/git-svn line 1923

[svn-remote "svn"] unknown 
```

谷歌和 SO 中相当彻底的搜索没有产生任何结果。

任何人都可以在这里阐明一下吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T11:26:56.173

如果存储库是本地的并且具有trunk/branches/tags 布局，则可以使用[SubGit](http://subgit.com/)：

```
$ subgit install path/to/svn/repository 
```

生成的存储库将位于 path/to/svn/repository/.git 它有另一个翻译引擎而不是 svn2git（svn2git 在其中使用“git-svn”），所以它不应该有这个问题。

如果您的存储库没有主干/分支/标签布局，您可以使用[SmartGit](http://www.syntevo.com/smartgit/index.html)进行转换，该转换也使用另一个翻译引擎，而不是 git-svn。

# html - Html 代码在 IE 8 中运行，而不是在其他浏览器中运行。形状的宽度我不起作用

> ID：11151329
> 
> 赞同：-1
> 
> 时间：2012-06-22T06:43:53.460
> 
> 标签：html, css, cross-browser

下面的代码在 IE8 中有效，但在其他浏览器中无效。主要问题是宽度。我使用的形状大小在 IE8 中有效，但不适用于其他浏览器。如何使此代码与所有浏览器兼容。

```
<html>
<head>
<meta name="author" content="Shivakumar">
<meta name="generator" content="">
<style type="text/css"> 
/*----------Text Styles----------*/
.ws6 {font-size: 8px;}
.ws7 {font-size: 9.3px;}
.ws8 {font-size: 11px;}
.ws9 {font-size: 12px;}
.ws10 {font-size: 13px;}
.ws11 {font-size: 15px;}
.ws12 {font-size: 16px;}
.ws14 {font-size: 19px;}
.ws16 {font-size: 21px;}
.ws18 {font-size: 24px;}
.ws20 {font-size: 27px;}
.ws22 {font-size: 29px;}
.ws24 {font-size: 32px;}
.ws26 {font-size: 35px;}
.ws28 {font-size: 37px;}
.ws36 {font-size: 48px;}
.ws48 {font-size: 64px;}
.ws72 {font-size: 96px;}
.wpmd {font-size: 13px;font-family: Arial,Helvetica,Sans-Serif;font-style: normal;font-    weight: normal;}
/*----------Para Styles----------*/
DIV,UL,OL /* Left */
{
 margin-top: 0px;
 margin-bottom: 0px;
}
</style>

</head>
<body bgColor="#FFFFFF">
   <div id="shape1" style="position:absolute; overflow:hidden; left:3px; top:50px;   width:993px; height:54px; z-index:0"><img border=0 width="100%" height="100%" alt=""       src="C:\Documents and Settings\snatarajan\Desktop\s\shapeSTUKG.gif"></div>

 <select name="formselect1" style="position:absolute;left:665px;top:65px;width:134px;z-     index:1">
 <option value="option1">option 1</option>
 <option value="option2">option 2</option>
 </select>
 <input name="formtext1" type="text" style="position:absolute;width:433px;left:199px;top:64px;z-index:2">
 <input name="formbutton1" type="button" value="Go!" style="position:absolute;left:822px;top:65px;z-index:3">
 <div id="text1" style="position:absolute; overflow:hidden; left:53px; top:65px; width:114px; height:90px; z-index:4">
 <div class="wpmd">
 <div><font color="#FFFFFF" face="Book Antiqua" class="ws12" style="background- color:#99CCFF;"><B>type here</B></font></div>
 </div></div>

 <div id="hr1" style="position:absolute; overflow:hidden; left:2px; top:104px;   width:994px; height:21px; z-index:5">
 <hr size=2 width=994 color="#99CCFF">
 </div>

 <div id="text2" style="position:absolute; overflow:hidden; left:799px; top:19px;  width:55px; height:19px; z-index:6">
 <a href="ss_signup.html" target="iFrame1"><div class="wpmd">
 <div><font color="#FFFFFF" face="Calibri" style="background-color:#99CCFF;"><B>New  User</B></font></div>
 </div></a></div>

 <div id="text3" style="position:absolute; overflow:hidden; left:883px; top:19px; width:45px; height:21px; z-index:7">
 <a href="ss_signin.html" target="iFrame1"><div class="wpmd">
 <div><font color="#FFFFFF" face="Calibri" style="background-color:#99CCFF;"><B>Sign- in</B></font></div>
 </div></a></div>

 <div id="text4" style="position:absolute; overflow:hidden; left:863px; top:21px; width:10px; height:18px; z-index:8">
 <div class="wpmd">
 <div><font color="#3366FF" face="Calibri">|</font></div>
 </div></div>

 <div id="text5" style="position:absolute; overflow:hidden; left:780px; top:20px;  width:10px; height:19px; z-index:9">
 <div class="wpmd">
 <div><font color="#3366FF" face="Calibri">|</font></div>
 <div><font face="Calibri"><BR></font></div>
 </div></div>

 <div id="text6" style="position:absolute; overflow:hidden; left:738px; top:19px;    width:37px; height:20px; z-index:10">
 <div class="wpmd">
 <div><font color="#FFFFFF" face="Calibri" style="background- color:#99CCFF;"><B>Home</B></font></div>
 <div><font color="#99CCFF" face="Calibri" style="background- color:#FFFFFF;"><BR></font></div>
  </div></div>

  <div id="iFrame1" style="position:absolute; left:0px; top:113px; z-index:11">
  <iframe name="iFrame1" width="988" height="647" src="" scrolling="no"   frameborder="0"></iframe>
  </div>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T06:46:03.497

您没有 Doctype，这将触发[Quirks 模式](http://en.wikipedia.org/wiki/Quirks_mode)，在该模式下浏览器会模拟旧浏览器中的错误。IE 中的这些错误之一是它获取了`width`错误的 CSS 属性。

添加触发标准模式的 Doctype。这将增加很多一致性。然后，您可以调整 CSS 来修复它。

触发标准模式的文档类型包括最新的 HTML 规范和 HTML 5 规范草案：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<!DOCTYPE html> 
```

您还应该验证您的[html](http://validator.w3.org)和[css](http://jigsaw.w3.org/css-validator/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T06:53:04.350

你的 CSS 中有一些空格（在`<style>`标签和内联样式中）。例如，您必须更改以下行

```
.wpmd {font-size: 13px;font-family: Arial,Helvetica,Sans-Serif;font-style: normal;font-    weight: normal;} 
```

至

```
.wpmd {font-size: 13px;font-family: Arial,Helvetica,Sans-Serif;font-style: normal;font-weight: normal;} 
```

注意最后“font-”和“weight”之间的空格。类似的错误出现在多个条目上。

在 Firefox 中，您可以使用 CTRL + SHIFT + K 来查看那些 CSS（以及后来的 JS）错误。

# forms - Shopify 表单发布到外部网址

> ID：11151330
> 
> 赞同：2
> 
> 时间：2012-06-22T06:44:00.017
> 
> 标签：forms, url, external, shopify

我有一个由 Shopify 托管的网站。我想实现一个发布到外部 url 的表单。这是一个自定义表格。我最初的想法是我可以创建一个新页面并在此处添加类似于这些示例的表单 - [http://wiki.shopify.com/Contact_And_Signup_Forms#Signup_Forms](http://wiki.shopify.com/Contact_And_Signup_Forms#Signup_Forms)

但是，我没有看到发布到外部 url 的选项。我对 Shopify 完全陌生。我曾希望成为一名 Rails 程序员会有所帮助，但看起来我需要使用 Liquid 模板系统而不是 Rails。

任何援助将不胜感激。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-22T14:38:16.440

不要使用流动的表单标签，只需使用直接的 HTML 并为您的表单指定一个指向外部 URL 的操作。

例子：

```
<form action="http://your-url.com" method="post">
    <input type="text" name="email_address">
    <input type="submit" value="Go!">
</form> 
```

上面的示例将 POST 到`http://your-url.com`.

# javascript - 在 DOM 完全加载之前更改 DOM 的方法

> ID：11151332
> 
> 赞同：2
> 
> 时间：2012-06-22T06:44:02.490
> 
> 标签：javascript, dom

我知道一些程序（如油脂猴）可以在 DOM 完全加载后修改 DOM。

但是在 DOM 加载期间是否有可能？还是在加载之前？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T06:47:13.200

也许已经在这里回答了：

[Chrome 扩展：在加载之前修改 DOM](https://stackoverflow.com/questions/9778637/chrome-extension-modify-dom-before-loading)
[在就绪状态之前操作 dom 可以吗？](https://stackoverflow.com/questions/1222849/is-it-ok-to-manipulate-dom-before-ready-state)
[可以在初始 DOM 解析期间/之前修改 DOM 吗？](https://stackoverflow.com/questions/2575185/possible-to-modify-dom-during-before-initial-dom-parsing)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T06:53:16.703

是的，这是可能的。

看看这个例子：

```
<div id="t">Some text</div>
<script>
    document.getElementById('t').textContent = "Other text";
</script>
<div>Yay!</div> 
```

即使“耶！”，脚本部分也会修改 DOM。div 没有加载。但是，它只能这样做，因为`<div id="t">`已经加载了*。*

这是你能做多少的程度。

如果您想在 DOM 加载时插入一些东西，您可以使用`document.write`（这是大多数广告提供商用来在添加其代码段的任何位置添加脚本标签的技巧）。

# django - 如何使用 apache2+ubuntu 11 为整个 django 站点启用 SSL？

> ID：11151336
> 
> 赞同：1
> 
> 时间：2012-06-22T06:44:29.640
> 
> 标签：django, ssl, https, apache2, ubuntu-11.10

我需要为我的整个 django 站点之一启用 SSL。目前，该站点由 Ubuntu 11.1 中的 Apache2 托管，只能通过 http 访问。我想知道以下内容，

1) 为该站点启用 ssl 的 Apache 配置。

2) Django 相关的相同更改，如果有的话。

[另一个同类型](https://stackoverflow.com/questions/5765706/apache-config-to-hook-ssl-into-django)的问题没有答案，所以再次在这里问。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T11:15:17.947

您可以通过调整您的 apache 配置来做到这一点，如下所示：

```
# Turn on Rewriting
RewriteEngine on 

# Apply this rule If request does not arrive on port 443
RewriteCond %{SERVER_PORT} !443 

# RegEx to capture request, URL to send it to (tacking on the captured text, stored in $1), Redirect it, and Oh, I'm the last rule.
RewriteRule ^(.*)$ https://www.x.com/dir/$1 [R,L] 
```

请注意，这取自[https://serverfault.com/questions/77831/how-to-force-ssl-https-on-apache-location](https://serverfault.com/questions/77831/how-to-force-ssl-https-on-apache-location)。

django 不应该有任何必要的更改。HTH。

# r - R：数字向量在日期的 cbind 后变为非数字

> ID：11151339
> 
> 赞同：17
> 
> 时间：2012-06-22T06:44:42.657
> 
> 标签：r, date, binding, numeric

就我而言，我有一个数字向量（future_prices）。我使用来自另一个向量（这里：pred_commodity_prices$futuredays）的日期向量来创建月份的数字。之后，我使用 cbind 将月份绑定到数字向量。但是，发生的是数字向量变为非数字。你知道这是什么原因吗？当我使用 as.numeric(future_prices) 我得到奇怪的值。有什么替代方案？谢谢

```
head(future_prices)
pred_peak_month_3a pred_peak_quarter_3a 
1           68.33907             62.37888
2           68.08553             62.32658

is.numeric(future_prices)
[1] TRUE
> month = format(as.POSIXlt.date(pred_commodity_prices$futuredays), "%m")
> future_prices <- cbind (future_prices, month)
> head(future_prices)
  pred_peak_month_3a     pred_peak_quarter_3a   month
  1 "68.3390747063745"   "62.3788824938719"     "01"
 is.numeric(future_prices)
 [1] FALSE 
```

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-06-22T06:49:24.127

原因是`cbind`返回一个矩阵，而一个矩阵只能保存一种数据类型。您可以使用 a`data.frame`代替：

```
n <- 1:10
b <- LETTERS[1:10]
m <- cbind(n,b)
str(m)
 chr [1:10, 1:2] "1" "2" "3" "4" "5" "6" "7" "8" "9" ...
 - attr(*, "dimnames")=List of 2
  ..$ : NULL
  ..$ : chr [1:2] "n" "b"

d <- data.frame(n,b)
str(d)
'data.frame':   10 obs. of  2 variables:
 $ n: int  1 2 3 4 5 6 7 8 9 10
 $ b: Factor w/ 10 levels "A","B","C","D",..: 1 2 3 4 5 6 7 8 9 10 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-22T06:48:43.197

见`?format`。`format`函数返回：

> 一个与“x”结构相似的对象，包含第一个参数“x”元素的字符表示，采用通用格式和当前语言环境的编码。

从`?cbind`,`cbind`返回

> ... 一个矩阵组合 '...' 参数按列或按行。（例外：如果没有输入或所有输入均为“NULL”，则值为“NULL”。）

并且矩阵的所有元素都必须属于同一类，因此所有内容都被强制转换为字符。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2018-02-19T23:30:08.407

仅供参考
当一列是“因子”时，简单/直接使用`as.numeric`将更改该列中的值。正确的方法是：

```
data.frame[,2] <- as.numeric(as.character(data.frame[,2])) 
```

查找更多详细信息：[将值转换为数字、堆栈溢出](https://stackoverflow.com/questions/6328771/changing-values-when-converting-column-type-to-numeric)

# c# - 如何将 3DS 文件放入 Silverlight Web 应用程序

> ID：11151340
> 
> 赞同：0
> 
> 时间：2012-06-22T06:44:49.830
> 
> 标签：c#, visual-studio-2010, visual-studio, silverlight-4.0, silverlight-5.0

我使用 3ds Max 2012 创建了带有动画的 3d 角色。然后将该 max 文件保存为 3DS 文件格式。我需要使用 Ab3d.Reader3ds.dll 文件（第 3 方文件）将此 3DS 文件嵌入到 Silverlight Web 应用程序中。要添加此文件，我必须将其作为参考添加到 Web 项目中。
但是，当我尝试添加此引用时，它会显示一条错误消息，显示为“您无法添加对 Ab3d.Reader3ds.dll 的引用，因为它不是针对 Silverlight 运行时构建的。Silverlight 项目仅适用于 Silverlight 程序集。

我正在使用 Silverlight 版本 5 和 Visual Studio 2010。如果有人可以帮助我尽快回复我。如果有其他方法可以做到这一点，请以这种方式回复我。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-23T02:57:00.147

我唯一能找到的就是切换到[巴比伦引擎](http://code.msdn.microsoft.com/silverlight/Babylon-3D-engine-f0404ace/view/SourceCode)。这是一个小型下载，可让您在 Silverlight 应用程序中轻松使用 3D。它得到了微软的支持，所以它看起来是合法的。我不能根据经验说话，但它似乎应该是你正在寻找的东西。唯一的问题是，它只能从 Collada 和 Nova 格式导入。我推荐科拉达。这是 3DS max 的 Collada 导出器

[http://collada.org/mediawiki/index.php/OpenCOLLADA#OpenCOLLADA_1.2.2](http://collada.org/mediawiki/index.php/OpenCOLLADA#OpenCOLLADA_1.2.2)

祝你好运！

# c - 处理 C“if”条件中的下溢 - 使用布尔值

> ID：11151342
> 
> 赞同：1
> 
> 时间：2012-06-22T06:44:57.190
> 
> 标签：c, floating-point, boolean, underflow

我有一个问题，我的算法遇到了一些下溢问题。我基本上是从贝塞尔曲线中寻找一条路径，为了解决这个问题，我必须使用一些向量乘法（叉积和点积），以使两个向量之间的角度和时钟计数器时钟方向从一个到另一个. 问题是当路径是直线时，其中一个控制变量有下溢问题，基本上阻塞执行并导致错误。

这是代码：

```
void BezierInterp() {
    NumOfSetpoints = 10;
    float seqTH[11];
    float orient[10];
    float divider;
    math.MatrixMult((float*) BCoeff, (float*) waypointX, 11, 4, 1,
            (float*) setpoint0);
    math.MatrixMult((float*) BCoeff, (float*) waypointY, 11, 4, 1,
            (float*) setpoint1);
    float dx1, dy1, dx2, dy2, dxy1, dxy2, dir;
    dx1 = cos(state[2]);
    dy1 = sin(state[2]);
    dx2 = setpoint0[1] - setpoint0[0];
    dy2 = setpoint1[1] - setpoint1[0];
    dxy2 = sqrt(sq(dx2) + sq(dy2));
    dir = dx1 * dy2 - dx2 * dy1;
    if (dxy2<0.0001 && dxy2>-0.0001) {
        seqTH[0] = 0.0;
    }
    else{
    if (dir >= 0) {
        seqTH[0] = acos((dx1 * dx2 + dy1 * dy2) / (dxy2));
    } else {
        seqTH[0] = -acos((dx1 * dx2 + dy1 * dy2) / (dxy2));
    }}
    for (uint8_t i = 1; i <= 9; i = i + 1) {
        dx2 = setpoint0[i + 1] - setpoint0[i];
        dy2 = setpoint1[i + 1] - setpoint1[i];
        dxy2 = sqrt(sq(dx2) + sq(dy2));
        dx1 = setpoint0[i] - setpoint0[i - 1];
        dy1 = setpoint1[i] - setpoint1[i - 1];
        dxy1 = sqrt(sq(dx1) + sq(dy1));
        dir = dx1 * dy2 - dx2 * dy1;
        divider= dxy1 * dxy2;
        if (divider<0.0001 && divider>-0.0001) {
                seqTH[0] = 0.0;
            }
        else {
        if (dir >= 0) {
            seqTH[i] = acos((dx1 * dx2 + dy1 * dy2) / (divider));
        } else {
            seqTH[i] = -acos((dx1 * dx2 + dy1 * dy2) / (divider));
        }}
    }
    print_array("seqTh", seqTH, 11, 6);
    orient[0] = state[2] + seqTH[0];
    if (orient[0]<0.0001 && orient[0]>-0.0001){orient[0]=0.0001;}
    for (uint8_t i = 1; i <= 9; i = i + 1) {
        orient[i] = orient[i - 1] + seqTH[i];
        if (orient[i]<0.0001 && orient[i]>-0.0001){orient[i]=0.0001;}
    }
    print_array("orient", orient, 10, 6);
    for (uint8_t i = 1; i <= 9; i = i + 1) {
        setpoint2[i] = orient[i - 1];
        setpoint3[i] = Vref * cos(orient[i - 1]);
        setpoint4[i] = Vref * sin(orient[i - 1]);

    }
    setpoint2[10] = orient[9];
    setpoint3[10] = 0;
    setpoint4[10] = 0;
    setpoint5[10] = 0;
    }
} 
```

正如您在尝试避免错误时看到的那样，我设置了几个 if 条件，但还不够。其实问题大概来自`dir=dx1 * dy2 - dx2 * dy1;`。那是当沿 x 或 y 轴移动太小而不能浮动时。一位朋友建议使用布尔值，但我不确定如何。也许定义`boolean dir;`，然后如果值太小将是 0，否则将被视为 1，在这种情况下，我可以使用我现在使用的相同程序来检测方向。

您有什么建议或不同的解决方案吗？在此先感谢内德

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:40:00.633

我不熟悉您使用的方法，但是当我过去这样做时，我检测到贝塞尔曲线的退化情况（两个端点和两个控制点落在一条直线上）为一个特例。

当然，这也更快地绘制。

# nhibernate - 使用 NHibernate 更新或插入失败

> ID：11151352
> 
> 赞同：0
> 
> 时间：2012-06-22T06:45:52.560
> 
> 标签：nhibernate, save

我在带有 Oracle 8i 客户端的旧数据库上使用 NHibernate。我可以对数据库表执行 Get 和 Delete，但不能保存或更新条目。例外情况如下， sqlString 由问号组成，我不知道为什么。

```
Nhibernate.Exceptions.GenericADOException:

    {"could not update: [MIAP.Domain.Entities.MITFORG#3][SQL: UPDATE MITFORG SET TREELEVEL = ?, PARTENTID = ?, FORGNAME = ?, FORGINFO = ?, ACTIVE = ?, MUTATOR = ?, INPDATETIME = ?, UPDDATETIME = ? WHERE FORGID = ?]"} 
```

这是我的实体类和映射：

```
public class MITFORG {
    private long fORGID;
    private long? tREELEVEL;
    private long? pARTENTID;
    private string fORGNAME;
    private string fORGINFO;
    private string aCTIVE;
    private long? mUTATOR;
    private DateTime? iNPDATETIME;
    private DateTime? uPDDATETIME;
    public MITFORG() { }
    public virtual long FORGID {
        get {
            return this.fORGID;
        }
        set {
            this.fORGID = value;
        }
    }
    public virtual long? TREELEVEL
    {
        get {
            return this.tREELEVEL;
        }
        set {
            this.tREELEVEL = value;
        }
    }
    public virtual long? PARTENTID
    {
        get {
            return this.pARTENTID;
        }
        set {
            this.pARTENTID = value;
        }
    }
    public virtual string FORGNAME {
        get {
            return this.fORGNAME;
        }
        set {
            this.fORGNAME = value;
        }
    }
    public virtual string FORGINFO {
        get {
            return this.fORGINFO;
        }
        set {
            this.fORGINFO = value;
        }
    }
    public virtual string ACTIVE {
        get {
            return this.aCTIVE;
        }
        set {
            this.aCTIVE = value;
        }
    }
    public virtual long? MUTATOR
    {
        get {
            return this.mUTATOR;
        }
        set {
            this.mUTATOR = value;
        }
    }
    public virtual DateTime? INPDATETIME
    {
        get {
            return this.iNPDATETIME;
        }
        set {
            this.iNPDATETIME = value;
        }
    }
    public virtual DateTime? UPDDATETIME
    {
        get {
            return this.uPDDATETIME;
        }
        set {
            this.uPDDATETIME = value;
        }
    }
}

<?xml version="1.0" encoding="utf-8"?>
<hibernate-mapping assembly="MIAP.Domain" namespace="MIAP.Domain.Entities" xmlns="urn:nhibernate-mapping-2.2">
  <class name="MITFORG" table="MITFORG" lazy="true" >
    <id name="FORGID">
      <generator class="assigned" />
    </id>
    <property name="TREELEVEL"></property>
    <property name="PARTENTID"></property>
    <property name="FORGNAME"></property>
    <property name="FORGINFO"></property>
    <property name="ACTIVE"></property>
    <property name="MUTATOR"></property>
    <property name="INPDATETIME"></property>
    <property name="UPDDATETIME"></property>
  </class>
</hibernate-mapping> 
```

我检查了属性名称和表列名称。由于 FORGID 是由应用程序分配的，因此我将生成器类更改为“已分配”。它也不适用于“身份”。有人可以指点我调试这个的方向吗？

已编辑：保存条目的代码

```
 Dim mitforgRepository As New MITFORGRepository
    Dim mitforg As MITFORG = mitforgRepository.GetById(3)
    mitforg.FORGINFO = "T"
    mitforg.ACTIVE = "Y"
    mitforg.FORGINFO = "T"
    mitforg.INPDATETIME = Now
    mitforg.MUTATOR = 324
    mitforg.PARTENTID = 335
    mitforg.TREELEVEL = 1
    mitforg.UPDDATETIME = Now
    mitforgRepository .Save(mitforg) 
```

这是存储库类：

```
using System;
using System.Collections.Generic;
using System.Text;
using NHibernate;
using MIAP.Domain.Entities;

namespace MIAP.Domain.Repositories
{
    public class MITFORGRepository : IRepository<MITFORG, Int64?>
    {
        private static ISession GetSession()
        {
            return SessionProvider.SessionFactory.OpenSession();
        }

        public MITFORG GetById(Int64? id)
        {
            using (ISession session = GetSession())
            {
                return session.Get<MITFORG>(id);
            }
        }

        public void Save(MITFORG saveObj)
        {
            using (ISession session = GetSession())
            {
                using (ITransaction trans = session.BeginTransaction())
                {
                    session.SaveOrUpdate(saveObj);
                    trans.Commit();
                }
            }
        }

        public void Delete(MITFORG delObj)
        {
            using (ISession session = GetSession())
            {
                using (ITransaction trans = session.BeginTransaction())
                {
                    session.Delete(delObj);
                    trans.Commit();
                }
            }
        }
    }
} 
```

InnerException 是 System.Data.OracleClient.OracleException，ORA-12571

这是堆栈跟踪：

```
 於 System.Data.OracleClient.OracleConnection.CheckError(OciErrorHandle errorHandle, Int32 rc)
   於 System.Data.OracleClient.OracleCommand.Execute(OciStatementHandle statementHandle, CommandBehavior behavior, Boolean needRowid, OciRowidDescriptor& rowidDescriptor, ArrayList& resultParameterOrdinals)
   於 System.Data.OracleClient.OracleCommand.ExecuteNonQueryInternal(Boolean needRowid, OciRowidDescriptor& rowidDescriptor)
   於 System.Data.OracleClient.OracleCommand.ExecuteNonQuery()
   於 NHibernate.AdoNet.AbstractBatcher.ExecuteNonQuery(IDbCommand cmd) 於 c:\Users\oskar.berggren\Documents\Projects\nhibernate-core-3\src\NHibernate\AdoNet\AbstractBatcher.cs: 行 203
   於 NHibernate.AdoNet.NonBatchingBatcher.AddToBatch(IExpectation expectation) 於 c:\Users\oskar.berggren\Documents\Projects\nhibernate-core-3\src\NHibernate\AdoNet\NonBatchingBatcher.cs: 行 40
   於 NHibernate.Persister.Entity.AbstractEntityPersister.Update(Object id, Object[] fields, Object[] oldFields, Object rowId, Boolean[] includeProperty, Int32 j, Object oldVersion, Object obj, SqlCommandInfo sql, ISessionImplementor session) 於 c:\Users\oskar.berggren\Documents\Projects\nhibernate-core-3\src\NHibernate\Persister\Entity\AbstractEntityPersister.cs: 行 2799 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:56:40.710

如果您使用分配的 id，则不能使用 SaveOrUpdate，因为 NHibernate 不知道它是新实例（即保存/执行插入）还是现有实例（即更新）。

然后，您需要明确您是插入新实体 (session.Save) 还是更新现有实体 (session.Update)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T10:03:36.907

从外观上看，您想创建一个新对象并将其保存到数据库中，但您正在做的是使用 Nhibernate 会话加载对象，然后更新它的属性.. 这告诉 Nhibernate 会话是您在 db 中有一个与给定 id 关联的对象，现在您想要更新某些属性，而实际上您想要运行插入语句。

因此正确的方法是创建一个新的 MitForg 对象，然后调用`Session.SaveOrUpdate()`它，然后 Nhibernate 应该负责随后的插入。

您也可以尝试使用`Session.Merge()`.

让我知道这是否适合你..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T15:18:30.863

原来这是一个 Unicode 到 ASCII 转换问题。我遵循以下链接中的解决方案。需要为映射文件中的所有字符串类型属性添加类型属性，如下所示：

```
<property name="FORGNAME"  type="AnsiString" ></property> 
```

最近我的同事也遇到了某种 Unicode/ASCII 转换问题，但我没想到会是答案。异常消息只是误导......

感谢马丁的鼓舞人心的建议！

[NHibernate 和糟糕的 Oracle](http://jameskovacs.com/2007/12/04/nhibernate-and-the-case-of-the-crappy-oracle-error-message/) [NHibernate 和 ORA-12571 错误案例](http://kirkwylie.blogspot.tw/2006/08/nhibernate-and-ora-12571-errors.html)

# javascript - 使用spring将JS文件添加到JSP文件时出现404

> ID：11151354
> 
> 赞同：0
> 
> 时间：2012-06-22T06:46:00.340
> 
> 标签：javascript, jsp, spring-mvc

我对 Spring MVC 很陌生，我正在尝试在 JSP 中“包含”一个 JS 文件。

我的文件夹结构是：

```
webapp
- WEB-INF
- scripts
- META-INF
- - jsp
- - - myFile.jsp 
```

我正在尝试使用以下代码在 myFile.jsp 中的脚本文件夹中包含一个 js 文件：

```
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>

<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Highstock Example</title>

        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

        <script type="text/javascript" src="<c:url value="/scripts/1.js" />"></script>

        <script type="text/javascript">
            $(function()
            {... 
```

我正在尝试使用 1.js 中的代码。

这是我的 web.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
    id="WebApp_ID" version="2.5">
    <display-name>Spring3-Hibernate</display-name>
    <welcome-file-list>
        <welcome-file>list.html</welcome-file>
    </welcome-file-list>

    <servlet>
        <servlet-name>spring</servlet-name>
        <servlet-class>
            org.springframework.web.servlet.DispatcherServlet
        </servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>

    <servlet-mapping>
        <servlet-name>spring</servlet-name>
        <url-pattern>/</url-pattern>
    </servlet-mapping>

    <!--<context-param>-->
        <!--<param-name>contextConfigLocation</param-name>-->
        <!--<param-value>/WEB-INF/applicationContext.xml</param-value>-->
    <!--</context-param>-->

    <!--<listener>-->
        <!--<listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>-->
    <!--</listener>-->

</web-app> 
```

问题是，当点击所需的页面时，JSP 会加载，但由于浏览器无法访问 1.js，我在萤火虫中得到 404。（我已经检查过了，文件在那里:)

任何建议都会有所帮助，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:16:50.820

您的弹簧控制器处理您的所有请求：

```
<servlet-mapping>
    <servlet-name>spring</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping> 
```

因此，您的 1.js 和所有其他文件将转到 spring servlet 调度程序。而且您没有此 url 的映射：控制器或视图解析器或静态资源映射。

# gwt - 不生成 gwt 日志

> ID：11151355
> 
> 赞同：1
> 
> 时间：2012-06-22T06:46:01.633
> 
> 标签：gwt, logging, log4j

使用 gwt logs jar 我可以在我的控制台上显示日志。但是现在我想从 cient 端在我的 olgs 文件中添加日志，就像我们在服务器端使用 log4j 一样。所以我参考了[http://code.google.com/p/gwt-log/wiki/GettingStarted](http://code.google.com/p/gwt-log/wiki/GettingStarted)这个链接，但我没有看到在我的日志文件中生成任何客户端日志。

以下是我的 gwt.xml 文件

```
<inherits name="com.allen_sauer.gwt.log.gwt-log-DEBUG" />
<set-property name="log_DivLogger" value="DISABLED" />
<!-- In gwt-log-3.0.3 or later -->
<inherits name="com.allen_sauer.gwt.log.gwt-log-RemoteLogger" />
<set-configuration-property name="log_pattern" value="%d [%t] %p - %m
   %n" /> 
```

以下是我的 web.xml 文件

```
<servlet>
<servlet-name>gwt-log-remote-logger-servlet</servlet-name>
<servlet-class>com.allen_sauer.gwt.log.server.RemoteLoggerServiceImpl</servlet-class>
<!--
   The `symbolMaps` parameter specifies the server directory
    containing the GWT compiler symbol maps output, which is used
     for stack trace deobfuscation
    -->
  <init-param>
       <!-- This value assumes a GWT compile with '-deploy war/WEB-INF/deploy/' -->
      <param-name>symbolMaps</param-name>
       <!--
     Modify the param-value based on your server environment. Some web servers
    use your `war` directory as the 'current working dir', while other
    vendors will do something different. You may use trial and error. Specify the
    relative path you think should work, then check the server log after forwarding
    the first client log message to the server. If the directory cannot be found,
    gwt-log will report the full path which it tried.
  -->
  <param-value>WEB-INF/deploy/detectfiles/symbolMaps/</param-value>
  </init-param>

  <!--
    Additional or alternate directories may be specified via additional parameter
  which also begin with `symbolMaps`. This may be useful if you deploy to multiple
  server environments which use different directory structures or have a different
  notion of what the 'current working directory' is.
 --> 
 <init-param>
   <param-name>symbolMaps_2</param-name>
   <param-value>WEB-INF/deploy/detectfiles/symbolMaps/</param-value>
 </init-param>

     <!-- Optionally enable CORS (http://www.w3.org/TR/cors/)
  <init-param>
     <param-name>Access-Control-Allow-Origin</param-name>
     <param-value>http://your-applications-origin</param-value>
  </init-param> 
  -->
</servlet>

<servlet-mapping>
    <servlet-name>gwt-log-remote-logger-servlet</servlet-name>
  <url-pattern>/com.renault.detectfiles/gwt-log</url-pattern>
  </servlet-mapping> 
```

我在clinet端添加了如下日志

```
 Log.debug("Hi this is a debug log"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T10:11:01.033

首先，确保使用附加参数 -deploy war/WEB-INF/deploy/ 编译 GWT 应用程序。

其次，确保目录中存在符号映射 `WEB-INF/deploy/detectfiles/symbolMaps/`。`WEB-INF/deploy/<module-name>/symbolMaps/`我观察到符号映射在我编译时会进入目录。在这里，`detectfiles`看起来不像您的模块名称。因为，在 url 模式中，您已指定`com.renault.detectfiles`为模块名称。

这些可能是看不到日志的可能原因。

# .htaccess - .htaccess 文件在 go daddy 服务器上不起作用

> ID：11151357
> 
> 赞同：4
> 
> 时间：2012-06-22T06:46:21.670
> 
> 标签：.htaccess, url-rewriting

我有一个托管在 Godaddy 服务器上的网站。对于 SEO，我已将所有规则都从 .php 扩展名中解放出来。对于 url 重写我正在使用`.htaccess`文件

`.htaccess`文件在 XAMPP 本地服务器上运行良好，但在实时服务器（godaddy 服务器）上无法正常工作。

我不知道`.htaccess`文件代码

`.htaccess`文件内容是

```
RewriteEngine On
Options +MultiViews 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-22T09:59:40.573

我自己找到了答案

```
Options +FollowSymLinks -MultiViews 
# Turn mod_rewrite on
RewriteEngine On
RewriteBase /

## hide .php extension
# To externally redirect /dir/foo.php to /dir/foo
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.php [NC]
RewriteRule ^ %1 [R,L,NC]

## To internally redirect /dir/foo to /dir/foo.php
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^ %{REQUEST_URI}.php [L] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T06:58:17.360

可能 # 目录设置有问题，尝试使用 RewriteEngine 放置一个空的 .htaccess 文件 # 或者是因为 GoDaddy 的设置。将 Apache httpd.conf 文件：AllowOverride FileInfo Options”文件添加到根目录。

# xml - XML 安全目标-c

> ID：11151362
> 
> 赞同：0
> 
> 时间：2012-06-22T06:46:40.777
> 
> 标签：xml, security

我有一个连接到服务器生成的 xml 的应用程序。我想知道如何保护应用程序和服务器之间的连接，以避免有人欺骗 xml 源的 url 并在应用程序之外使用它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T06:48:15.893

观看 WWDC 2011 会议 208（保护 iOS 应用程序）。那里有一个关于创建安全网络连接的精彩部分。

[您可以在此处](https://developer.apple.com/videos/wwdc/2011/)获取（以及更多视频）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T23:29:11.047

XML 的使用是任意的，您只是在客户端和服务器之间传输数据结构，并且存在相同的安全问题。在基于 XML 的协议的上下文中，您必须担心[xml 注入](https://www.owasp.org/index.php/Testing_for_XML_Injection_%28OWASP-DV-008%29)。

一般来说，您**永远无法信任客户端**，您提供的远程 API 将始终可供攻击者访问。如果您尝试在客户端上强制执行此类规则，您将违反[CWE-602: Client-Side Enforcement of Server-Side Security](http://cwe.mitre.org/data/definitions/602.html)。

# c# - 通过加载项在 Visual Studio 中添加 ToolBoxTab 和 ToolBoxItem

> ID：11151368
> 
> 赞同：6
> 
> 时间：2012-06-22T06:46:54.427
> 
> 标签：c#, asp.net, visual-studio-2010, webforms, visual-studio-addins

我通过覆盖基本控件创建了自己的控件类，即

```
[ToolboxData("<{0}:TextBox runat=server></{0}:TextBox>")]
public class MyTextBox:System.Web.UI.WebControls.TextBox
{
     public string myProperty {get;set;}
} 
```

现在为了方便使用，我所做的就是在 Visual Studio 的 ToolBox 窗口中添加这些覆盖的控件。

为此，我只是这样做。

1.  通过右键单击和“添加选项卡”在工具箱窗口中添加一个新选项卡
2.  然后我执行“选择项目”（右键单击）并指向我的控件类的 dll。

我覆盖的所有控件，即 TextBox、Button、Label 都以新名称和图标出现在那里。我所要做的就是拖动它们并使用它们。

现在，有没有办法让我的控件自动加载？我的意思是我不想做上面提到的两个步骤。

看到这就是我所做的。

1.  添加了一个加载项并在其 Exec 中执行此操作

    ```
    public void Exec(string commandName, vsCommandExecOption executeOption, ref object varIn, ref object varOut, ref bool handled)
        {
            handled = false;
            if(executeOption == vsCommandExecOption.vsCommandExecOptionDoDefault)
            {
                if(commandName == "testAddin.Connect.testAddin")
                {
                    handled = true;
                    ToolBox tlBox = _applicationObject.ToolWindows.ToolBox;
                    ToolBoxTab tlBoxTab = null;
                    tlBoxTab = tlBox.ToolBoxTabs.Add("Test Controls");

                    tlBoxTab.Activate();
                    tlBoxTab.ToolBoxItems.Add("TestControls", @"C:\testLib.dll", vsToolBoxItemFormat.vsToolBoxItemFormatDotNETComponent);

           /////
             } 
    ```

……但什么也没发生。“测试控制”选项卡在那里，但没有控制。当我尝试对 System.Configuration.Install.dll （在 [root]/Windows/Microsoft.Net/Framework/[dotnetVersion]/) 文件夹中找到）执行相同操作时..控件完美加载..但不是当我的自定义控件dll 被指向。

请帮我。我想在每次 IDE 启动时添加这些控件（如 Telerik 控件）。我是 Visual Studio 的这种可扩展性项目类型的新手。

请帮忙....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:56:08.150

试试[Visual Studio 工具箱管理器](http://vstudiotoolbox.codeplex.com/)。我有自己的 VS2010 更新版本（VS2010 的 DTE 是“VisualStudio.DTE.10.0”）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T13:56:49.393

由于您将使用安装程序部署控件，因此我建议使用[Toolbox Controls Installer](http://msdn.microsoft.com/en-us/library/bb286995%28v=vs.80%29.aspx)，它与 Visual Studio SDK 一起提供，可以轻松集成到 Wix 中；通过这种方式，您可以创作您的 Wix 设置项目，包括您的程序集并仅引用上述自定义操作以进行工具箱注册。

# google-maps - GMap 地理编码：超出查询限制

> ID：11151369
> 
> 赞同：0
> 
> 时间：2012-06-22T06:46:54.947
> 
> 标签：google-maps, geocoding

我对谷歌地图有一点问题。我正在使用地理编码（xml）从谷歌地图获取地址。我给了地址，地理编码给了我长拉特值。当我尝试绑定许多位置时，谷歌地图只显示 11 个位置，而不是更多。它给出了一个警告，比如

> “超过查询限制”

我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T07:15:38.713

Google 限制每秒地理编码请求的数量。您可以在自己的数据库中等待或缓存结果。

请参阅此相关[问题](https://stackoverflow.com/questions/2419219/how-do-i-geocode-20-addresses-without-receiving-a-over-query-limit-response?rq=1)。

# php - Curl post-http 代码 500 错误的查询

> ID：11151370
> 
> 赞同：0
> 
> 时间：2012-06-22T06:46:55.993
> 
> 标签：php, curl

我`curl`在 php 中使用后期处理来获取网站页面信息作为响应。我正在使用以下代码。

```
 $ch = curl_init();
    $_POST = array(
    'ddlBoro' => 'Manhattan',
    'txtHouseNo' => '2395',
    'txtStreet' =>  '1 Ave',
    'RadioStrOrBlk'=> 'Street',
    '__EVENTTARGET'=> '',
    '__EVENTARGUMENT'=> '',
    '_ctl0'=>'_ctl0',
    'SearchButton' => 'Search'
    );
    $url= 'http://xxx/xx/test.aspx';
    curl_setopt ($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_HEADER, false);
    curl_setopt($ch, CURLOPT_POST, 1);
    curl_setopt($ch,CURLOPT_POSTFIELDS,$_POST);
    $response = curl_exec($ch);
    $info = curl_getinfo($ch);
    curl_close ($ch);
    echo("Results: <br>".$response);
    echo "<pre>info";print_r($info);echo "</pre>"; 
```

但我总是得到`http code 500`卷曲信息错误。有人能澄清一下吗？

# java - 按属性搜索 OSGI 服务

> ID：11151376
> 
> 赞同：16
> 
> 时间：2012-06-22T06:47:44.483
> 
> 标签：java, osgi

如何通过属性区分实现相同接口的已发布 OSGI 服务？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-06-22T07:08:13.573

假设您要根据某些属性值检索已注册的服务，则需要使用**过滤器**（基于[LDAP](http://en.wikipedia.org/wiki/LDAP)语法）。

例如：

```
int myport = 5000;
String filter = "&(objectClass=" + MyInterface.class.getName() 
                + ")(port=" + myport + ")";
ServiceReference[] serviceReferences = bundleContext.getServiceReferences(null,filter); 
```

您要在其中查找既实现`MyInterface`又具有`port`等于 的属性值的服务`myport`。

[这](http://www.osgi.org/javadoc/r4v42/org/osgi/framework/BundleContext.html#getServiceReferences%28java.lang.String,%20java.lang.String%29)是获取参考的相关javadoc。

**备注1：**

上面的例子和 javadoc 参考的是 Release 4.2。如果您不限于 J2SE 1.4 运行时，我建议您查看 Release 4.3[语法](http://www.osgi.org/javadoc/r4v43/core/org/osgi/framework/BundleContext.html#getServiceReferences%28java.lang.Class,%20java.lang.String%29)，您可以在其中使用泛型。

**备注 2：（由 Ray 提供）**

您还可以通过从字符串创建[Filter](http://www.osgi.org/javadoc/r4v42/org/osgi/framework/Filter.html)对象来预先检查过滤器的正确性：`filterStr`

```
Filter filter = bundleContext.createFilter(filterStr); 
```

这还允许您将过滤器与其他条件匹配。您仍然通过`filterStr`获取引用，因为没有重载导致`Filter`参数。但是请注意，通过这种方式，您将检查两次正确性：两次检查`getServiceReferences`并`createFilter`解析`InvalidSyntaxException`过滤器。我想，这当然不是一个显着的低效率，但值得一提。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-06-22T13:32:15.953

Luca 上面的回答是正确的，但是它假设您使用低级 API 来访问服务。

如果您使用的是声明式服务（我通常会推荐），那么可以将过滤器添加到`target`服务引用的属性中。例如（使用 DS 的 bnd 注释）：

```
@Reference(target = "(port=8080)")
public void setHttpService(HttpService http) {
    // ...
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-25T05:25:38.063

在蓝图中，您可以在引用或引用列表元素上指定过滤器属性。例如：

```
<reference id="sampleRef"
        interface="org.sample.MyInterface"
        filter="(port=5000)"/> 
```

# xcode - Xcode 中的照片是如何标注的？

> ID：11151381
> 
> 赞同：0
> 
> 时间：2012-06-22T06:48:04.147
> 
> 标签：xcode, file, indexing, naming, photos

我很好奇照片在 Xcode 中是如何标记的。基本上，我正在创建一个访问相机拍照的应用程序。当您转到此应用程序的相册时，它仅显示该应用程序拍摄的照片，但是，我希望照片也出现在相机胶卷中（因此，我不想保存拍摄的照片通过这个应用程序进入他们自己的目录）。如果我知道照片是如何标记的，那么我可以将这个应用程序拍摄的照片存储在数据库中，并告诉应用程序只列出应用程序拍摄的那些照片（大概是一个 TableView）。似乎会有某种常量，例如 PHOTO_INDEX 或类似的东西......我认为它存在，因为当您将照片从 iPhone 保存到计算机时，它们以这种方式存储。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T06:58:11.127

如果您使用该`ALAssetsLibrary`课程，您可以轻松地做您需要的事情：

```
void (^endBlock)(NSURL*, NSError*) =  ^(NSURL *url, NSError *e) {
  if (!e)
  {
    // you can use the url to do whatever you want, save the index of the image, save directly the url or what you need
  }
};

ALAssetsLibrary* lib = [[ALAssetsLibrary alloc] init];
[lib writeImageToSavedPhotosAlbum:[image CGImage] orientation:(ALAssetOrientation)[image imageOrientation] completionBlock:endBlock] 
```

# python - 试图将两个单独的 Excel 工作表合并为一个

> ID：11151382
> 
> 赞同：1
> 
> 时间：2012-06-22T06:48:09.797
> 
> 标签：python

```
 import xlwt
 import xlrd
 import os.path
 import os
 print os.path.abspath(os.curdir) 

#Create workbook and worksheet

wbk = xlwt.Workbook()
sheet = wbk.add_sheet('Data_1')#name of the sheet in which new data is there

row = 0

f = xlrd.open_workbook('Data_1.xls')#workbook from where data is extracted
g = xlrd.open_workbook('Data_2.xls')#workbook from where data is extracted

sheet1 = f.sheet_by_index(0)
sheet2 = g.sheet_by_index(0)

for i in xrange(16):
temp = sheet1.row_values(i)
print temp
col = 0
for element in temp:        
    sheet.write(i,col,element)
    col += 1
i += 1

for j in xrange(16):
temp = sheet2.row_values(j)
print temp
col = 4
for elements in temp:
    sheet.write(j,col.element)
    col +=1
j+=1
 wbk.save('DATA.xls') #excel sheet name when saved in the folder 
```

在执行时，我能够在控制台上获取 Data_1.xls 的数据，但是当它进入第二组 for 循环时，它会给我如下错误：-

```
Traceback (most recent call last):
File "C:/Python26/combining2ExcelSheets.py", line 34, in <module>
sheet.write(j,col.element)
AttributeError: 'int' object has no attribute 'element' 
```

还有一件事我的两个excel表（Data_1和Data_2.xls）的第一列是相同的。如果在我新生成的 Excel 表中，我想根据各自的第一列值组合和组织我的数据。我应该采取什么行动才能获得所需的排序 Excel 表？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T06:50:37.903

一个错字！

代替：

```
sheet.write(j,col.element) 
```

和

```
sheet.write(j,col,element) 
```

# iis - Mercurial 大文件在 Windows Server 2008 上不起作用

> ID：11151383
> 
> 赞同：2
> 
> 时间：2012-06-22T06:48:10.313
> 
> 标签：iis, mercurial, windows-server-2008

我正在尝试使用 hgweb.wsgi 脚本让 largefiles 扩展在 Windows Server 2008 / IIS 7.5 下的 mercurial 服务器上工作。

当我在本地克隆带有大文件的存储库时（但使用`https://domain/`，而不是文件系统路径），一切都被克隆得很好，但是当我在另一台机器上尝试它时，我得到了`abort: remotestore: largefile XXXXX is missing`

这是详细的输出：

```
requesting all changes
adding changesets
adding manifests
adding file changes
added 1 changesets with 177 changes to 177 files
calling hook changegroup.lfiles: <function checkrequireslfiles at 0x0000000002E00358>
updating to branch default
resolving manifests
getting .hglf/path/to.file
...
177 files updated, 0 files merged, 0 files removed, 0 files unresolved
getting changed largefiles
getting path/to.file:c0c81df934cd72ca980dd156984fa15987e3881d
abort: remotestore: largefile c0c81df934cd72ca980dd156984fa15987e3881dis missing 
```

两台机器都有扩展工作。我试过禁用防火墙，但没有帮助。除了将它添加到 mercurial.ini 之外，我是否需要做任何事情来设置扩展？

编辑：如果我从服务器目录中删除文件，则在服务器上`AppData\Local\largefiles\`克隆时会出现相同的错误，除非我使用文件系统路径进行克隆，在这种情况下，文件将添加回 `AppData\Local\largefiles\'

编辑 2：这是调试输出和回溯：

```
177 files updated, 0 files merged, 0 files removed, 0 files unresolved
getting changed largefiles
using http://domain
sending capabilities command
getting largefiles: 0/75 lfile (0.00%)
getting path/to.file:64f2c341fb3b1adc7caec0dc9c51a97e51ca6034
sending statlfile command

Traceback (most recent call last):
  File "mercurial\dispatch.pyo", line 87, in _runcatch
  File "mercurial\dispatch.pyo", line 685, in _dispatch
  File "mercurial\dispatch.pyo", line 467, in runcommand
  File "mercurial\dispatch.pyo", line 775, in _runcommand
  File "mercurial\dispatch.pyo", line 746, in checkargs
  File "mercurial\dispatch.pyo", line 682, in <lambda>
  File "mercurial\util.pyo", line 463, in check
  File "mercurial\commands.pyo", line 1167, in clone
  File "mercurial\hg.pyo", line 400, in clone
  File "mercurial\extensions.pyo", line 184, in wrap
  File "hgext\largefiles\overrides.pyo", line 629, in hgupdate
  File "hgext\largefiles\lfcommands.pyo", line 416, in updatelfiles
  File "hgext\largefiles\lfcommands.pyo", line 398, in cachelfiles
  File "hgext\largefiles\basestore.pyo", line 80, in get
  File "hgext\largefiles\remotestore.pyo", line 56, in _getfile
Abort: remotestore: largefile 64f2c341fb3b1adc7caec0dc9c51a97e51ca6034 is missing 
```

该`_getfile`函数引发异常，因为该`statlfile`命令返回未找到该文件。

我自己从来没有使用过python，所以我不知道我在尝试调试它时在做什么：D

AFAIK 该`statlfile`命令在服务器上执行，因此我无法从本地计算机上对其进行调试。我试过`python -m win32traceutil`在服务器上运行，但它没有显示任何内容。我也尝试在服务器的 mercurial 配置文件中设置`accesslog`和`errorlog`，但它不会生成它们。

我通过 hgweb.wsgi 脚本运行 hg，我不知道是否/如何使用它进入 python 调试器，但如果我能让调试器在服务器上运行，我可以缩小问题范围......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-23T08:12:05.840

终于弄清楚了，扩展程序尝试将临时文件写入`%windir%\System32\config\systemprofile\AppData\Local`，这导致了权限错误。该调用被包装在一个 try-catch 块中，该块最终返回“找不到文件”错误。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-06-28T19:48:37.263

我只是为从搜索中进入该主题的其他人发布此内容。

当前，当通过 IIS 托管时，使用 mercurial python 模块中的大文件扩展名存在问题。如果您在通过 TortoiseHg 将大型变更集（或大型文件）推送到 IIS 时遇到问题，请参阅[这篇文章。](https://bitbucket.org/tortoisehg/thg/issue/2593/cant-push-over-30mb-to-iis-via-https)

问题最终证明是 Python 2.7.3 引入的 SSL 处理中的一个错误（可能解释了为什么有这么多未解决的帖子寻找 Mercurial 问题的人）。回滚到 Python 2.7.2 让我更进一步（在 30Mb 推送而不是 15Mb 时被阻止），但为了正确解决问题，我必须安装[IISCrypto](https://www.nartac.com/Products/IISCrypto/Default.aspx)实用程序以完全禁用通过 SSLv2 的传输。

# networking - 是否有任何程序可以帮助我模拟带有可 ping 设备的网络？

> ID：11151385
> 
> 赞同：0
> 
> 时间：2012-06-22T06:48:11.753
> 
> 标签：networking, simulation, ping

我想要一个程序，它可以帮助我在虚拟网络上创建虚拟设备，您可以手动打开和关闭它，以便当您从程序 ping 它们时，您可以模拟网络上的真实设备。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T06:52:49.297

尝试在[http://www.vmware.com/products/player/](http://www.vmware.com/products/player/)下载和使用 Vmware Player 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:03:55.127

“ping localhost”怎么样？如果您需要其他主机名，可以在主机名表中执行此操作（**linux: /etc/hosts**）

# javascript - 使用 three.js 的带纹理的 3D 模型 （不是 WebGL）

> ID：11151387
> 
> 赞同：3
> 
> 时间：2012-06-22T06:48:27.700
> 
> 标签：javascript, canvas, 3d, textures, three.js

Three.js 通常与 WebGL 一起使用，但由于兼容性问题，我对使用它的 CanvasRenderer 很感兴趣。但是，我需要纹理模型。

我看过[这个演示](http://three.blackscorp.de/model/index.html)，但没有其他的，它表明可以在 3D 程序中创建纹理网格并使用 Three.js 渲染。这个演示甚至有动画，但我只需要纹理网格。

我想知道是否有办法在不制定自己的解决方案的情况下做到这一点。具体来说，我正在寻找一种从 Blender 之类的东西导出并能够使用画布渲染器通过 Three.js 导入它的方法。

另外，我知道速度影响，我需要简单的低多边形输出。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-23T02:56:51.527

您是否考虑过使用[Blender 导出](https://github.com/mrdoob/three.js/tree/master/utils/exporters/blender)器？

# uitableview - 根据选择的表行修改表视图（位于另一个视图控制器上）

> ID：11151395
> 
> 赞同：0
> 
> 时间：2012-06-22T06:48:49.883
> 
> 标签：uitableview, didselectrowatindexpath

如何根据所选行更改位于新视图控制器中的表视图中的图像。

例如，假设我在类别视图控制器中设置了类别表。现在，当用户点击相机时，应该加载一个包含所有相机图像的新视图控制器，并且在点击任何图像时，它应该显示其详细信息。

如何实现这一点，因为我是这项技术的新手。请帮助我...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:11:15.470

您可以按照一些简单的步骤使其正常工作。

**1.第一个视图：在tableview的didSelectRowAtIndexPath方法中添加如下代码**

```
-(void)tableView:(UITableView *)tableViewdidSelectRowAtIndexPath:(NSIndexPath *)indexPath
  {
    //Fetch the value of the selected row in NSString

    NSString *tableRowValue = cell.textLable.text;

    //Call the next view

    secondView *secondViewController = [[secondVIew alloc] initWithNibName:@"secondView" bundle:nil];

    secondViewController.modalTransitionStyle = UIModalTransitionStyleCrossDissolve ;

    //Initialize the view with the clicked row value thwough NSString variable 
    [secondViewController initializeWith:tableRowValue];

  } 
```

**2.第二视图：**

在您的 .h 文件中，添加以下初始化方法：

```
-(void)initializeWith:(NSString *)sentRowValue; 
```

在您的 .m 文件中，实现初始化方法：

```
-(void)initializeWith:(NSString*)sentRowValue
  {
      NSString *receivedRowValue = sentRowValue;
      //take log to check 
  }

// now perform all the table view delegate methods using the value you have received. 
```

**注意：在 .h 文件中声明所有变量并将它们作为属性并在 .m 文件中合成它们**

希望这可以帮助

# html - 基于 Gecko (Firefox/Cometbird) 的浏览器中的 MP3 音频标签

> ID：11151396
> 
> 赞同：0
> 
> 时间：2012-06-22T06:48:54.097
> 
> 标签：html, firefox, audio, loops, mp3

我一直在尝试开发一个项目，以便他能够打开和关闭在我们页面上播放的 MP3 的循环。我正在使用并尝试使用 javascript`<embed>`更改属性，但是虽然图像交换可以工作，但歌曲仍会保持在页面加载时的模式。`loop=``getElementByID`

其他人使用这个想法来使用`<audio>`标签，并制作了一个 togglefor `loop=`，并说它有效。我试过了，还是不行。我去尝试了一个示例站点，它适用于 OGG，但不适用于 MP3。

我研究了一下，我唯一能发现的是，火狐最初因为LAME版权/专利不支持MP3，但在第9版开始支持MP3格式。更奇怪的是，有时播放器控件会出现，有时他们不会。我在加载页面上随机显示其他信息，所以不能说它在显示时是随机的还是相关的：但即使控件加载，播放按钮也不会工作，它不会在自动播放时启动. 但是，在 Chrome 中，它可以正常加载。

简而言之，当在 IE 中时，它会加载文本以说明它与我的浏览器不兼容，这意味着`<embed>`如果它不起作用，我可以拥有一个 for：我刚刚尝试过。另一方面，Firefox 的行为就像它会加载它一样，并且不显示替代文本。

我读到一些人在使用 OGG 时遇到问题，谈论 MAME 类型，但我对那些东西一无所知，但是......

我真的很想知道该怎么做，因为它甚至没有显示文本说它不受支持，就像 FF/CB 中什么都没有，过去 4 个完整版本应该支持 MP3 ，我假设这就是为什么它没有说它不受支持。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-23T06:43:49.313

Firefox 不支持 MP3 `<audio>`，正是因为它仍然是专利……我不知道是什么让你认为 Firefox 9 支持它。

# php - 无法使用 FB PHP SDK 注销 Facebook

> ID：11151403
> 
> 赞同：1
> 
> 时间：2012-06-22T06:49:29.603
> 
> 标签：php, facebook, facebook-graph-api, facebook-php-sdk

我正在使用 FB PHP SDK 来获取用户的 FB 访问令牌等。

在我完成所有信息后，我试图注销用户，但它不起作用。出于调试目的，我这样做：

```
$facebook = new Facebook(array(
        'appId' => FB_APP_ID,
        'secret' => FB_SECRET
    ));
$params = array( 'next' => site_url('welcome/logout') );
$link = $facebook->getLogoutUrl($params); // $params is optional. 
echo $link; 
```

这给了我一个这样的链接：

```
https://www.facebook.com/logout.php?next=http%3A%2F%2Fexample.com%2Fwelcome%2Flogout&access_token=xxxxxxxx 
```

如果我将浏览器指向该 URL，我会被重定向回我的回调 URL，但之后，如果我转到 Facebook.com，我仍然处于登录状态。

我究竟做错了什么？

我尝试使用 JS SDK 但这不起作用，因为其他一切都在服务器端完成（使用 PHP SDK）。因此，当我`FB.logout()`使用 JS SDK 调用时，它会显示`Logout called without access token`.

**编辑**

我想在继续之前，有人可以确认一下：当我按照注销 URL 操作时，它实际上是让我退出 Facebook，还是只是结束我的应用程序和用户之间的会话？

如果是这样，有没有办法从 Facebook 完全注销用户？（我猜没有）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:53:06.000

RE：使用 JS SDK，您可以同时使用 JS SDK 和 PHP SDK，现在可以互换使用（并且已经有一年左右的时间了）。所以如果JS方法更适合你，我建议你试试。

重新“编辑”：是的，它完全让你退出 Facebook。

现在是开场的功能问题。您所描述的场景发生在开发过程中，但我从未明确指出原因。我认为这与存储在错误域中的 cookie 有关（facebook 存储它认为是基本域的内容，如果你摆弄基本域，或者在同一个基本域上有两个应用程序，它会在一个捻）。

清除 cookie 可以解决问题。然后确保您没有在 Facebook 的设置中操纵域，希望它不会再次出现。（我说希望是因为我从来没有准确指出触发器，但是一旦开发完成，我从来没有在稳定的应用程序上发生过这种情况。）

# android - 在 Android 上使用 AudioRecord 录制会加快音频速度？

> ID：11151414
> 
> 赞同：4
> 
> 时间：2012-06-22T06:50:21.417
> 
> 标签：android, audiorecord

我正在使用 AudioRecord 录制原始音频以进行处理。音频记录完全没有任何噪音，但是当播放生成的原始 PCM 数据时，它的播放速度好像被加速了很多（最多大约两倍）。我正在 Audacity 中查看和播放 PCM 数据。我正在使用实际手机（三星 Galaxy S5670）进行测试。录制以 44100 Hz，16 位完成。知道是什么原因造成的吗？

以下是录制代码：

```
public class TestApp extends Activity
{   
File file;
OutputStream os;
BufferedOutputStream bos;       
AudioRecord recorder;   
int iAudioBufferSize;
boolean bRecording; 
int iBytesRead;

Thread recordThread = new Thread(){
    @Override
    public void run()
    {
        byte[] buffer = new byte[iAudioBufferSize];
        int iBufferReadResult;
        iBytesRead = 0;
        while(!interrupted())
        {
            iBufferReadResult = recorder.read(buffer, 0, iAudioBufferSize);
            // Android is reading less number of bytes than requested.
            if(iAudioBufferSize > iBufferReadResult)
            {
                iBufferReadResult = iBufferReadResult + 
                        recorder.read(buffer, iBufferReadResult - 1, iAudioBufferSize - iBufferReadResult);
            }               
            iBytesRead = iBytesRead + iBufferReadResult;
            for (int i = 0; i < iBufferReadResult; i++)
            {
                try
                {
                    bos.write(buffer[i]);
                } catch (IOException e)
                {                                               
                    e.printStackTrace();
                }
            }
        }
    }
};  

@Override
public void onCreate(Bundle savedInstanceState)
{
    // File Creation and UI init stuff etc.

    bRecording = false;
    bPlaying = false;

    int iSampleRate = AudioTrack.getNativeOutputSampleRate(AudioManager.STREAM_SYSTEM);
    iAudioBufferSize = AudioRecord.getMinBufferSize(iSampleRate, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT); 
    recorder = new AudioRecord(AudioSource.MIC, iSampleRate, AudioFormat.CHANNEL_IN_MONO, 
        AudioFormat.ENCODING_PCM_16BIT, iAudioBufferSize);

    bt_Record.setOnClickListener(new OnClickListener()
    {
        @Override
        public void onClick(View v)
        {
            if (!bRecording)
            {
                try
                {                       
                    recorder.startRecording();
                    bRecording = true;
                    recordThread.start();                       
                }
                catch(Exception e)
                {
                    tv_Error.setText(e.getLocalizedMessage());
                }
            }
            else
            {
                recorder.stop();
                bRecording = false;
                recordThread.interrupt();
                try
                {
                    bos.close();
                }
                catch(IOException e)
                {

                }
                tv_Hello.setText("Recorded Sucessfully. Total " + iBytesRead + " bytes.");
            }
        }

    });
}
} 
```

已解决：我在挣扎了 1-2 天后发布了这个。但是，具有讽刺意味的是，我在发布后不久就找到了解决方案。缓冲的输出流写入在 for 循环中花费了太多时间，因此流正在跳过样本。将其更改为阻止写入，删除 for 循环。完美运行。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-23T11:22:28.193

音频跳过是由写入缓冲区的延迟引起的。解决方案是替换这个 FOR 循环：

```
 for (int i = 0; i < iBufferReadResult; i++)
        {
            try
            {
                bos.write(buffer[i]);
            } catch (IOException e)
            {                                               
                e.printStackTrace();
            }
        } 
```

通过一次写入，如下所示：

```
 bos.write(buffer, 0, iBufferReadResult); 
```

我曾使用一本书中的代码，我猜它可以降低采样率和缓冲区更新。

# c++ - 从模板类调用函数时形成无限循环，请任何人解释

> ID：11151415
> 
> 赞同：0
> 
> 时间：2012-06-22T06:50:26.380
> 
> 标签：c++

这是一个无法正常运行的代码，但如果我们将此函数用作独立的模板函数。

```
#include <iostream>
#define MAX 100
using namespace std;
int z=10;
template <class T>class A
{
    public:
        A()
        {

            cout<<"A constructor\n";
        }
        int z;
        T sort_rishi_fun(T arr[]);
};
template <class T>T A <T>::sort_rishi_fun( T arr[])
{
    for(int i=0;i<z;i++)
    {
        for(int j=0;j<z;j++)
        {
            if(arr[j+1]<arr[j])
            {
                T temp;
                temp=arr[j];
                arr[j]=arr[j+1];
                arr[j+1]=temp;
            }
        }
    }
}
int main()
{
    int z=10;
    int arr[100]; 
    cout << "\nEnter the number you wanted to be sort\n" << endl;
    for(int i=0;i<z;i++)
    {
        cout<<"::insert the value at"<<i<<"th location::";
        cin >> arr[i];
    }
    cout<<"you have inserted this\n";
    for(int i=0;i<=z;i++)
    {
        cout<<arr[i]<<endl;
    }
    A<int> a;
    a.sort_rishi_fun(arr)
        for(int i=0;i<=z;i++)
        {
            cout<<arr[i]<<endl;
        }
    return 0;
} 
```

如果我们将此函数用作独立的模板函数，那么它将起作用。但它现在会创建一个无限循环。请解释任何人。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T07:05:27.187

您有两个变量 z，一个是全局变量，另一个在类中。您只初始化全局的。在类内部，使用了类变量，并且未初始化。这就是为什么当它是一个全局方法时它可以工作，但当它是一个类模板方法时它不起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:00:35.117

据我所知，您似乎从未`z`在`class A`.

尝试

```
template <class T>class A
{
  public:

  A(int z_):z(z_)
  {

    cout<<"A constructor\n";
  }
  int z;
  T sort_rishi_fun(T arr[]);
};

// then in main()
A<int> a(z); 
```

# ruby - 错误：“找不到 rake”，但 Rake 已安装

> ID：11151416
> 
> 赞同：2
> 
> 时间：2012-06-22T06:50:33.930
> 
> 标签：ruby, rubygems, rake, rvm

为什么我会收到此 Rake 错误：

```
$ rake --version
/Volumes/Data/sampablokuper/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/dependency.rb:247:in `to_specs': Could not find rake (>= 0) amongst [] (Gem::LoadError)
    from /Volumes/Data/sampablokuper/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/dependency.rb:256:in `to_spec'
    from /Volumes/Data/sampablokuper/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems.rb:1231:in `gem'
    from /Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194/bin/rake:18:in `<main>'
    from /Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194/bin/ruby_noexec_wrapper:14:in `eval'
    from /Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194/bin/ruby_noexec_wrapper:14:in `<main>' 
```

鉴于以下情况：

```
$ gem list

*** LOCAL GEMS ***

bundler (1.1.3)
rake (0.9.2.2)
rubygems-bundler (1.0.2)
rvm (1.11.3.3)
$ which rake
/Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194/bin/rake 
```

具体来说：此错误消息是源于**错误**还是**配置问题**（如果是后者，那么哪些步骤可以解决它）？

* * *

**更新：**根据要求附加终端输出：

```
$ which gem
/Volumes/Data/sampablokuper/.rvm/rubies/ruby-1.9.3-p194/bin/gem
$ whereis rake
/usr/bin/rake
$ echo $PATH # I've edited the output as one item per line for easier reading
/Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194/bin:
/Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194@global/bin:
/Volumes/Data/sampablokuper/.rvm/rubies/ruby-1.9.3-p194/bin:
/Volumes/Data/sampablokuper/.rvm/bin:
/opt/local/bin:
/opt/local/sbin:
/usr/bin:
/bin:
/usr/sbin:
/sbin:
/usr/local/bin:
/usr/texbin:
/usr/X11/bin:
/usr/local/git/bin:
/Library/Application Support/VMware Fusion:
/Volumes/Data/sampablokuper/bin:
/Volumes/Data/sampablokuper/.rvm/bin
$ type rvm | head -n1
rvm is a function
$ rvm info

ruby-1.9.3-p194:

  system:
    uname:       "Darwin spksmb.lan 10.8.0 Darwin Kernel Version 10.8.0: Tue Jun  7 16:33:36 PDT 2011; root:xnu-1504.15.3~1/RELEASE_I386 i386"
    bash:        "/bin/bash => GNU bash, version 3.2.48(1)-release (x86_64-apple-darwin10.0)"
    zsh:         "/bin/zsh => zsh 4.3.9 (i386-apple-darwin10.0)"

  rvm:
    version:      "rvm 1.14.3 (stable) by Wayne E. Seguin <wayneeseguin@gmail.com>, Michal Papis <mpapis@gmail.com> [https://rvm.io/]"
    updated:      "9 hours 36 minutes 53 seconds ago"

  ruby:
    interpreter:  "ruby"
    version:      "1.9.3p194"
    date:         "2012-04-20"
    platform:     "x86_64-darwin10.8.0"
    patchlevel:   "2012-04-20 revision 35410"
    full_version: "ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-darwin10.8.0]"

  homes:
    gem:          "/Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194"
    ruby:         "/Volumes/Data/sampablokuper/.rvm/rubies/ruby-1.9.3-p194"

  binaries:
    ruby:         "/Volumes/Data/sampablokuper/.rvm/rubies/ruby-1.9.3-p194/bin/ruby"
    irb:          "/Volumes/Data/sampablokuper/.rvm/rubies/ruby-1.9.3-p194/bin/irb"
    gem:          "/Volumes/Data/sampablokuper/.rvm/rubies/ruby-1.9.3-p194/bin/gem"
    rake:         "/Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194/bin/rake"

  environment:
    PATH:         "/Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194/bin:/Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194@global/bin:/Volumes/Data/sampablokuper/.rvm/rubies/ruby-1.9.3-p194/bin:/Volumes/Data/sampablokuper/.rvm/bin:/opt/local/bin:/opt/local/sbin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/texbin:/usr/X11/bin:/usr/local/git/bin:/Library/Application Support/VMware Fusion:/Volumes/Data/sampablokuper/bin"
    GEM_HOME:     "/Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194"
    GEM_PATH:     "/Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194:/Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194@global"
    MY_RUBY_HOME: "/Volumes/Data/sampablokuper/.rvm/rubies/ruby-1.9.3-p194"
    IRBRC:        "/Volumes/Data/sampablokuper/.rvm/rubies/ruby-1.9.3-p194/.irbrc"
    RUBYOPT:      ""
    gemset:       "" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T13:05:14.433

'whereis' 二进制文件检查一组由 user.cs_path 变量设置的系统默认路径（请参阅 参考资料`sysctl -a | grep user.cs_path`），而不是实际的 $PATH 变量。因此，报告的“rake”位置将*始终*是该组路径中发生的任何内容，而*不是*实际使用的路径，除非确实恰好是系统上安装的*唯一*rake，因此不会出现在 $PATH 中。

请运行

```
which rake 
```

查看实际使用的是哪个 rake。如果它报告 /usr/bin/rake 而不是 /Users/me/.rvm/gems/ruby-1.9.3-p194@global/bin/rake 之类的路径，那么肯定有问题。

请包括

```
rvm info 
```

输出并确保

```
type rvm | head -n1 
```

报告“rvm 是一个函数”。如果它报告了除此之外的任何内容，那么您的安装就搞砸了，在这种情况下，您应该使用 删除您的 rvm 安装`rvm implode`，完全注销，然后完全重新安装 RVM。是的，注销步骤很重要。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T18:36:11.137

看起来问题似乎正在发生，因为在我执行问题中显示的命令的目录中存在一个名为`Gemfile`以下内​​容的文件：

```
source 'https://rubygems.org'

gemspec 
```

删除或重命名该文件会产生以下结果（耶！）：

```
$ rake --version
rake, version 0.9.2.2 
```

相比之下，保留 Gemfile，但从`myproject.gemspec`目录中删除或重命名文件会产生以下结果：

```
$ rake --version
/Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194/gems/bundler-1.1.4/lib/bundler/dsl.rb:48:in `gemspec': There are no gemspecs at /Volumes/Data/spikes/myproject. (Bundler::InvalidOption)
    from /Volumes/Data/spikes/myproject/Gemfile:4:in `evaluate'
    from /Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194/gems/bundler-1.1.4/lib/bundler/dsl.rb:7:in `instance_eval'
    from /Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194/gems/bundler-1.1.4/lib/bundler/dsl.rb:7:in `evaluate'
    from /Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194/gems/bundler-1.1.4/lib/bundler/definition.rb:18:in `build'
    from /Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194/gems/bundler-1.1.4/lib/bundler.rb:135:in `definition'
    from /Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194/gems/bundler-1.1.4/lib/bundler.rb:123:in `load'
    from /Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194@global/gems/rubygems-bundler-1.0.3/lib/rubygems-bundler/noexec.rb:41:in `candidate?'
    from /Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194@global/gems/rubygems-bundler-1.0.3/lib/rubygems-bundler/noexec.rb:60:in `setup'
    from /Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194@global/gems/rubygems-bundler-1.0.3/lib/rubygems-bundler/noexec.rb:75:in `<top (required)>'
    from /Volumes/Data/sampablokuper/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
    from /Volumes/Data/sampablokuper/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
    from /Volumes/Data/sampablokuper/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
    from /Volumes/Data/sampablokuper/.rvm/gems/ruby-1.9.3-p194/bin/ruby_noexec_wrapper:9:in `<main>' 
```

的行为`rake --version`受到这些文件的存在/不存在/内容的强烈影响这一事实确实让我觉得是一个错误，我将相应地提交一份错误报告。

# cakephp - 在 CakePHP 中保存之前将 ID 插入 $this->request->data 数组

> ID：11151419
> 
> 赞同：0
> 
> 时间：2012-06-22T06:50:38.507
> 
> 标签：cakephp

我有一个联系表格，询问用户的姓名、电子邮件地址和消息。

姓名和电子邮件地址存储在`Person`，消息存储在`Message`

`Message``Person`当我这样做时属于这样：

`$this->Person->Message->saveAll($this->request->data)`

..名称和电子邮件地址在`people`表中插入，消息在`messages`表中插入，带有`person_id`.

到目前为止，一切都很好。

现在，如果用户（由他们的电子邮件地址标识）返回并提交第二条消息，我想要做的是提供一种`Person`更新和插入的方法。`Message`

我发现这样做的唯一方法是运行 find`Person`以查看是否有包含表单中提交的电子邮件地址的记录。如果有，我用`array_merge`它添加到`$this->request->data['Person']`. 这行得通，但这感觉有点像一种骇人听闻的做事方式。

有没有更直接的方法来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T11:36:07.497

如果您使用 Person 模型的 beforeSave() 方法。

```
# App/Model/Person.php

function beforeSave()
{
   if(empty($this->data['Person']['id'])
   {
     $person = $this->findByEmail($this->data['Person']['email']);

     if(!empty($person))
     {
         $this->data['Person']['id'] = $person['Person']['id'];
     }
   }
   return true;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:24:29.873

找到您的 Person 后，您只需设置 Message 的 person_id 并对其运行 save 即可，因此您不必再次保存该人。

# java - 测试 ESAPI.validator().isValidFileContent() 的否定场景

> ID：11151420
> 
> 赞同：0
> 
> 时间：2012-06-22T06:50:39.450
> 
> 标签：java, owasp, esapi

我需要测试 API owasps ESAPI.validator().isValidFileContent() 的负面场景

我尝试传递 .exe 和 .ini 文件的字节，其中测试通过 ie，返回类型为**true**意味着它是有效的文件内容。

什么被视为无效文件？

ESAPI.properties 中是否需要任何配置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T12:50:20.013

要找到一些负面的测试场景，我认为您需要通过 api 方法定义和所有这些。您可能会发现链接[http://code.google.com/p/owasp-esapi-java/source/browse/trunk/src/org/owasp/esapi/reference/DefaultValidator.java?r=364&spec=svn364](http://code.google.com/p/owasp-esapi-java/source/browse/trunk/src/org/owasp/esapi/reference/DefaultValidator.java?r=364&spec=svn364)更有帮助根据您的要求。请告诉我您的经验和结果... 阴性测试场景——如果允许 null 为假，则不允许使用 null。如果文件大小超过属性文件中预定义的大小或超过在同一方法中传递的字节数（传递的第三个参数），则会抛出异常。如果上下文定义错误或使用任何其他上下文来上传文件，它将引发异常。在所有其他情况下，它将返回 true 即有效文件。

```
 IMPLEMENTATION BELOW:
 /**
         * Returns true if input is valid file content.
         */
        public boolean isValidFileContent(String context, byte[] input, int maxBytes, boolean allowNull) throws IntrusionException {
                try {
                        getValidFileContent( context, input, maxBytes, allowNull);
                        return true;
                } catch( Exception e ) {
                        return false;
                }
        }

/**
         * Returns validated file content as a byte array. Invalid input
         * will generate a descriptive ValidationException, and input that is clearly an attack
         * will generate a descriptive IntrusionException. 
         */
        public byte[] getValidFileContent(String context, byte[] input, int maxBytes, boolean allowNull) throws ValidationException, IntrusionException {
                if (isEmpty(input)) {
                        if (allowNull) return null;
                        throw new ValidationException( context + ": Input required", "Input required: context=" + context + ", input=" + input, context );
                }

                long esapiMaxBytes = ESAPI.securityConfiguration().getAllowedFileUploadSize();
                if (input.length > esapiMaxBytes ) throw new ValidationException( context + ": Invalid file content can not exceed " + esapiMaxBytes + " bytes", "Exceeded ESAPI max length", context );
                if (input.length > maxBytes ) throw new ValidationException( context + ": Invalid file content can not exceed " + maxBytes + " bytes", "Exceeded maxBytes ( " + input.length + ")", context );

                return input;
        }

 /**
         * Helper function to check if a byte array is empty
         * 
         * @param input string input value
         * @return boolean response if input is empty or not
         */
        private final boolean isEmpty(byte[] input) {
                return (input==null || input.length == 0);
        } 
```

现在我认为您可以根据您的“要求”开发一些最好的阴性和阳性测试场景。n 是的，您需要在属性文件中定义上传文件的大小。n INVALID 文件是仅在上述参数上没有通过测试的文件，而不是根据 ESAPI 的这种方法在任何其他用户定义的参数上的测试。

# c++ - 对运算符的未定义引用 >>

> ID：11151421
> 
> 赞同：8
> 
> 时间：2012-06-22T06:50:44.427
> 
> 标签：c++, undefined-reference

我正在尝试处理运算符重载，我的头文件包括：

```
#ifndef PHONENUMBER_H
#define PHONENUMBER_H

#include<iostream>
#include<string>
using namespace std;

class Phonenumber
{
    friend ostream &operator << ( ostream&, const Phonenumber & );
    friend istream &operator >> ( istream&, Phonenumber & );
private:
    string areaCode;
    string exchange;
    string line;

};

#endif // PHONENUMBER_H 
```

和类定义

```
//overload stream insertion and extraction operators
//for class Phonenumber
#include <iomanip>
#include "Phonenumber.h"
using namespace std;
//overloades stram insertion operator cannot be a member function
// if we would like to invoke it with
//cout<<somePhonenumber
ostream &operator << ( ostream &output, const Phonenumber &number)
{

    output<<"("<<number.areaCode<<")"
     <<number.exchange<<"-"<<number.line;
    return output;

}//end function opertaor <<

istream &operator >> ( istream &input, Phonenumber &number)
{
    input.ignore(); //skip (
    input>>setw(3)>>number.areaCode;//input areacode
    input.ignore(2);//skip ) and space
    input>>setw(3)>>number.exchange;//input exchange
    input.ignore();//skip -
    input>>setw(4)>>number.line;//input line
    return input;
} 
```

通过 main 完成的调用是

```
#include <iostream>
#include"Phonenumber.h"
using namespace std;

int main()
{
    Phonenumber phone;
    cout<<"Enter number in the form (123) 456-7890:"<<endl;
    //cin>> phone invokes operator >> by implicitly issuing the non-member function call operator>>(cin,phone)
    cin >> phone;
    //cout<< phone invokes operator << by implicitly issuing the non-member function call operator>>(cout,phone)
    cout << phone<<endl;
    return 0;
} 
```

但是编译它显示了一个编译器错误：`undefined reference to 'operator>>(std:istream&, Phonenumber&)'` 有人可以帮我解决这个错误吗

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-06-22T07:46:11.290

错误“未定义对...的引用”是链接器错误。您的代码很好，但是您没有将所有源文件链接到最终产品中，`Phonenumber.cpp`（或任何您称之为的）都被排除在外。

在我的系统上，

```
$ ls
电话号码.cpp 电话号码.h main.cpp
$ g++ main.cpp
/tmp/cce0OaNt.o：在函数“主”中：
main.cpp:(.text+0x40): undefined reference to `operator>>(std::basic_istream<char, std::char_traits<char> >&, Phonenumber&)'
main.cpp:(.text+0x51): undefined reference to `operator<<(std::basic_ostream<char, std::char_traits<char> >&, Phonenumber const&)'
collect2: ld 返回 1 个退出状态

```

请注意如何`Phonenumber.cpp`不包含在编译中。如果你包括它，

```
$ g++ main.cpp 电话号码.cpp 
$ ./a.out
在 (123) 456-7890 表格中输入号码：
(555) 555-1234
(555)555-1234

```

仅仅定义一个`.cpp`文件是不够的，你必须在链接时包含。这不适用于头文件。

**图表：**

```
源代码---编译--->目标文件---链接--->应用

电话号码.cpp -+
                    |---> 电话号码.o ---+
                +---+ |
                | |
Phonenumber.h --+ +--> a.out
                | |
                +---+ |
                    |---> main.o ----------+
main.cpp -----------+

```

# javascript - Ember.js 路由：匹配 url 的结尾

> ID：11151423
> 
> 赞同：5
> 
> 时间：2012-06-22T06:50:46.097
> 
> 标签：javascript, url-routing, ember.js

我需要将路径匹配到 URL。在给定模式之后，路径必须是 URL 的结尾，但我做不到。Ember.js 总是结束它与下一个斜杠匹配。

```
var router = Ember.Router.extend({
    location: 'history',
    enableLogging: true,
    root: Ember.Route.extend({
        index: Ember.Route.extend({
            route: '/'

            repo: Ember.Route.extend({
                route: '/:repo_id',

                index: Ember.Route.extend({
                    route: '/'
                }),

                files: Ember.Route.extend({
                    route: '/files',

                    index: Ember.Route.extend({
                        route: '/'
                    }),

                    sub: Ember.Route.extend({
                        route: '/:path'
                    })
                })
            })
        })
    })
}); 
```

使用此路由器：

*   `/myrepo/files/`将匹配`root.repo.files.index`
*   `/myrepo/files/README``root.repo.files.sub`将匹配`path=README`
*   `/myrepo/files/folder/README`将匹配`root.repo.files.sub`并将我重新路由到`/myrepo/files/folder/`因为`path=folder`而不是`path=folder/README`

`:path`即使有斜线，我如何才能让子路由匹配 URL 的结尾？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T14:56:46.960

此功能已[提交](https://github.com/emberjs/ember.js/commit/12f65b76014430a828af70accd0d91f5666565a9)到 Ember.js 存储库的[主](https://github.com/emberjs/ember.js)分支。它不在`1.0.0-pre2`构建中，因此在发布新版本之前，您需要[自己构建 Ember.js](https://github.com/emberjs/ember.js#building-emberjs)或找到预构建的版本。

# 基本用法

不要使用冒号作为动态段的前缀，而是`:`使用星号`*`。您的路线将使用类似于以下的语法：

```
Ember.Route.extend({
  route: '/:repo_id/files/*path'
}); 
```

路径段将像普通动态属性一样可用。但是，它将`files/`在 URL 之后包含任何内容，包括斜杠。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-16T14:26:14.490

Ember.js Github Tracker 上有一个未解决的问题： [https ://github.com/emberjs/ember.js/issues/1451](https://github.com/emberjs/ember.js/issues/1451)

# git - hg 相当于 git post-receive hook

> ID：11151425
> 
> 赞同：2
> 
> 时间：2012-06-22T06:50:47.670
> 
> 标签：git, mercurial, hook, mercurial-hook

我需要相当于`git post-receive`Mercurial 中的钩子，这样我就可以通知另一个服务已经向存储库进行了推送。

我在钩子中需要的很简单：最后一个变更集的变更集修订。

当然我知道与git的区别在于`ref`不会被命名，并且可以有多个头被推送到存储库。我可能会同意。

我暂时不想要的是我当前使用`hg incoming`钩子实现的行为：我有每个推送的变更集的修订版。

那么，总而言之，`hg`通知最后一次推送到存储库的提交的最佳方式是什么？

**编辑：**目标是通知另一个服务从存储库中**提取**，因为新代码已经到达。但我不希望服务拉动**推送中的每个变更集**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T08:45:17.020

基本上，听起来你想使用`changegroup`钩子。它就像`incoming`钩子，但只为一组更改触发一次。它为您提供了*第一个*新变更集的 ID，`$HG_NODE`但我不确定这是否适合您。

见：[http ://www.selenic.com/mercurial/hgrc.5.html#hooks](http://www.selenic.com/mercurial/hgrc.5.html#hooks)

我有点不清楚你所说的“最后一个”变更集是指哪个变更集。由于变更集可以一次添加到多个头，最后一个变更集可以在任何分支上，因此对于更新来说不是很有用的信息。

如果您想识别自上次推送以来哪些变更集是新的，那么拥有第一个变更集应该同样适合您，如果不是更好的话（因为它允许您在不了解先前推送的情况下识别新的变更集）。

但是，如果您真的想知道最后一个变更集的 ID，您可以从挂钩中调用以下命令`hg tip --template "{node}"`：有关`hg help tip`更多信息，请参阅。

如果你提供了一些关于你想精确地使用这些信息的背景，那么我可以就如何最好地处理这个问题给出更清晰的建议。

# iphone - Box2d - b2EdgeShape 和 b2ChainShape 已折旧。怎么办？

> ID：11151431
> 
> 赞同：1
> 
> 时间：2012-06-22T06:51:20.787
> 
> 标签：iphone, cocos2d-iphone, box2d, game-physics, box2d-iphone

整天谷歌搜索无法给我这个答案。我必须使用`b2EdgeShape`OR来制作不规则的地形，`b2ChainShape`正如手册中所解释的那样，该`box2d`手册尚未更新，因为库中不再存在这些实体`box2d`。

用什么来代替这些东西？

有什么建议么？

谢谢

# c# - 使用第一个更新面板中的复选框更新第二个更新面板

> ID：11151432
> 
> 赞同：0
> 
> 时间：2012-06-22T06:51:21.073
> 
> 标签：c#, asp.net

我有两个更新面板。一个`UpdatePanel`有一个`CheckBox`和一个`UserControl`。UserControl 有一些`TextBoxes`. 在其他更新面板中，很少有`Labels`.

我已将 javascript 函数添加到复选框以隐藏/显示它。我正在使用 Javascript 来避免部分回发到服务器。

当复选框被选中/取消选中或某些数据在用户控件的文本框中发生更改时，我还想更新第二个 UpdatePanel。

我可以在同一个复选框上调用 javascript 函数和服务器端函数吗？我尝试将触发器添加到第二个更新面板，但它们没有被触发。

```
updatepanel1
  checkbox 
  usercontrol
    textbox1
    texbox2

updatepanel2
   label1 (updated on change of textbox 1)
   label2 (updated on change of textbox 1) 
```

我的复选框标记看起来像这样

```
 <asp:CheckBox ID="chkShippingSameAsBilling" runat="server" 
     Text="  Ship to same address"
     AutoPostBack="true" Checked="true" 
     onclick="return ShowShippingAddress();" 
 /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:19:24.987

您可以在页面上添加一个虚拟按钮。为按钮上的第二个面板设置异步回发触发器。

```
<asp:AsyncPostBackTrigger ControlID="btnAsync" EventName="Click" /> 
```

在复选框的检查更改中，在javascript调用函数中

```
btnAsync.Click(); 
```

它将异步回发第二个更新面板。您可以从第二个面板回发或通过将服务器端点击事件添加到虚拟按钮来调用服务器端函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:25:07.123

您需要在第二个面板中设置**触发器**以使用复选框中的事件，这里有一些示例。

[http://www.asp.net/web-forms/tutorials/aspnet-ajax/understanding-asp-net-ajax-updatepanel-triggers](http://www.asp.net/web-forms/tutorials/aspnet-ajax/understanding-asp-net-ajax-updatepanel-triggers)

[通过不同 ContentPlaceHolder 中的控件触发 UpdatePanel 的更新](https://stackoverflow.com/questions/417131/trigger-an-update-of-the-updatepanel-by-a-control-that-is-in-different-contentpl)

另外，看看**knockout.js**或**jquery**以获得一些更优雅的解决方案......

[http://knockoutjs.com/](http://knockoutjs.com/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T07:19:37.513

在第二个 updatePanel 中放置一个隐藏按钮：

```
<div style="display:none">
   <asp:Button ID="YourButton" runat="server" />
</div> 
```

然后使用您的 onclick 功能单击：

```
function ShowShippingAddress() 
{
     document.getElementById('<%# YourButton.ClientID %>').click()
} 
```

这应该会导致第二个回发和更新。

# ruby-on-rails - Omniauth-Twitter 401 未经授权

> ID：11151434
> 
> 赞同：5
> 
> 时间：2012-06-22T06:51:25.800
> 
> 标签：ruby-on-rails, twitter, omniauth

我提供了 gem 处理的“使用 twitter 登录”`/auth/twitter`链接`omniauth`。

在我的开发机器上，这似乎工作正常，重定向到 twitter 登录页面并返回到 dev.twitter.com (http://127.0.0.1:3000/auth/twitter/callback) 上为应用程序设置的回调。

我为我们的测试生产服务器注册了一个单独的应用程序，唯一不同的是访问令牌、秘密和回调。访问`/auth/twitter`生产服务器上的路径会导致

```
OAuth::Unauthorized (401 Unauthorized):
  oauth (0.4.6) lib/oauth/consumer.rb:216:in `token_request'
  oauth (0.4.6) lib/oauth/consumer.rb:136:in `get_request_token'
  ... 
```

我已经确保服务器确实在使用我的开发密钥/秘密，方法是打印用于日志的那些，因为它们被设置在`/config/initializers/omniauth.rb`. 它们与 twitter 页面上给出的匹配，注册的回调是一个有效地址并指向生产服务器。

这里可能有什么问题？这可能是速率限制的结果吗？

宝石文件如下：

```
source 'https://rubygems.org'

gem 'rails', '3.2.3'

gem 'mysql2','0.3.11'

gem 'tweetstream'
gem 'koala'

group :assets do
  gem 'sass-rails',   '~> 3.2.3'
  gem 'coffee-rails', '~> 3.2.1'
  gem 'twitter-bootstrap-rails'
  gem 'uglifier', '>= 1.0.3'
end

gem 'jquery-rails'

gem 'twitter'
gem 'omniauth-twitter'
gem 'omniauth-facebook'
gem 'thin' 
```

/config/initializers/omniauth.rb：

```
puts "initializing twitter with #{TWITTER_KEY}, #{TWITTER_SECRET}"
Rails.application.config.middleware.use OmniAuth::Builder do
  provider :twitter, TWITTER_KEY, TWITTER_SECRET
  provider :facebook, FACEBOOK_KEY, FACEBOOK_SECRET,
        :scope => 'read_stream,publish_stream'
end 
```

服务器在此处的第一行记录正确的密钥和秘密。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-16T05:07:48.220

就我而言，问题是服务器时间晚了大约 50 分钟，并且请求被拒绝，因为时间戳太旧了。

更新系统时间修复了它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-02T09:11:13.867

不要忘记检查 twitter 设置中的复选框：

“允许使用此应用程序通过 Twitter 登录”

希望这可以帮助某人

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-22T18:53:16.720

我的解决方案是您需要在 Twitter.com 应用程序管理部分指定回调 url。 [https://apps.twitter.com/](https://apps.twitter.com/) 这将使 localhost url 也能正常工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-12-24T12:16:52.747

我的问题是我检查了“回调网址锁定”。只是在它工作时取消选中它。

# php - 如何防止 Curl 重定向

> ID：11151443
> 
> 赞同：2
> 
> 时间：2012-06-22T06:52:33.460
> 
> 标签：php, javascript, curl

> **可能重复：**
> [PHP：CURL 可以跟随元重定向](https://stackoverflow.com/questions/1820705/php-can-curl-follow-meta-redirects)

```
<?php  
error_reporting(E_ALL);  
ini_set("display_errors", 1);    
$ch = curl_init();  
curl_setopt($ch, CURLOPT_URL, 'http.....');   
curl_setopt($ch,CURLOPT_POST,1);  
curl_setopt($ch, CURLOPT_HEADER,1);  
curl_setopt($ch, CURLINFO_HEADER_OUT,1);  
curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 0);  
curl_setopt($ch,CURLOPT_AUTOREFERER,0);  
curl_setopt($ch,CURLOPT_POSTFIELDS,"vb_login_username=***&vb_login_password=***&do=login");  
curl_exec($ch);  
curl_close($ch);  
?> 
```

我想登录一个 vbuletin 论坛。此登录脚本有效（它显示登录成功对话框），但几秒钟后，它重定向到索引页面。我知道问题所在，那就是：

```
<META HTTP-EQUIV="refresh" CONTENT="seconds;URL=the-other-url">` 
```

我需要一个解决方案来阻止这个：D

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:01:53.903

您可以使用

curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

你可以得到回应`$response = curl_exec($ch);`

# dns - 在 glassfish 中托管应用程序

> ID：11151449
> 
> 赞同：5
> 
> 时间：2012-06-22T06:52:59.010
> 
> 标签：dns, hosting, glassfish-3, vps

我已经安装了 glassfish 3.1 应用服务器。创建了一个域和所有。部署的war文件及其在本地机器上的工作正常。现在我的问题是：

*   我购买了一个域名，例如：abc.com
*   如何在 glassfish 服务器中添加此域
*   我也有一个 VPS 托管空间，我安装了 glassfish 服务器。
*   我在哪里可以在 glassfish 中为该域提供名称服务器？
*   如何在 glassfish 中托管网站/Web 应用程序？
*   请任何人指导我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T07:07:19.360

首先，您需要确保 DNS 解析工作正常并且域名指向您服务器的 IP 地址。

然后可以配置 Glassfish 3.x 监听这个域名：

*   打开管理控制台
*   转到配置 --> 网络配置 --> 网络侦听器 --> http-listener 1/2
*   切换到“HTTP”选项卡并在“服务器名称”字段中输入您的域和端口，例如`www.yourdomain.com:8080`
*   保存配置并测试它。

# javascript - 将 id 动态分配给 div 并使用它来调用 jquery 幻灯片效果

> ID：11151451
> 
> 赞同：0
> 
> 时间：2012-06-22T06:53:07.640
> 
> 标签：javascript, jquery, html

我正在从 JSON 文件中读取内容并添加到具有唯一 ID 的 div 中。我需要为每个 div 调用 jquery 向下滑动效果。让我们考虑这种情况，单击 (div id=A1) 它应该向下滑动并显示 (div id=B1)，这样我就有了 ID 为 A(1..N) 和 B(1..N) 的 div .

```
var i=1;
$.each(items, function (index, item) {

    $(document).ready(function(){
        $("#A"+i).click(function(){
        $("#B"+i).slideToggle();
        });
    });

    $("#allContents").append('<div id="A'+i+'">' + item.Name + '</div>');
    $("#allContents").append('<div id="B'+i+'">' + item.Details + '</div>');
    i++;
}); 
```

这是我可以得出的最接近的代码，但它不起作用。如果有人可以帮助我修复或提出更好的方法来让这件事正常工作，那就太好了。非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T06:54:24.637

```
$('#allContents').on('click', 'div[id^=A]', function() {
    $('div#B' + this.id.replace('A','')).slideToggle();
}); 
```

### 稍微解释一下

*   `div[id^=A]`指出以 .开头的`div`那些。`id``A`
*   `this.id`检索被`id`点击的元素。
*   `this.id.replace('A','')`替换`A`形式`id`并获得等于索引的数字索引`B`。
*   `$('div#B' + this.id.replace('A',''))`指向元素`id=B1`，`id=B2`依此类推。

**完整代码**

```
// you can bind event handler outside ot loop
$('#allContents').on('click', 'div[id^=A]', function() {
    $('div#B' + this.id.replace('A','')).slideToggle();
});

$.each(items, function(index, item) {
    $("#allContents").append('<div id="A' + i + '">' + item.name + '</div>');
    $("#allContents").append('<div id="B' + i + '">' + item.Details + '</div>');
    i++;
}); 
```

**[工作样本](http://jsfiddle.net/vQzSv/9/)**

* * *

### 笔记

当您`div`从动态创建时`A(1..N)`，`B(1..N)`您需要委托事件处理程序（又名实时事件）。

委托事件的 jQuery 语法**[`.on()`](http://api.jquery.com/on)**如下：

```
$(container).on(eventName, target, handlerFunction) 
```

# iphone - 如何使用我的服务器并将通知推送到 iphone 设备

> ID：11151459
> 
> 赞同：0
> 
> 时间：2012-06-22T06:53:32.307
> 
> 标签：iphone

我确实`server`需要与`apple push notification server`[ `APNS`] 进行交互，并且需要从那里发送到我的`device`.

我在我的`server`. 我需要在我`server`身边写任何代码吗？

或者只是在我的服务器上注册`SSL certificate`并`provision Profile`到`APNS`. 与`Device Token`

谁能给我建议

我需要从我的数据`server`和`APNS`从那里到设备的数据交互

我正在控制版本`server`号从 1 到 2 的任何更改，它需要`APNS`从那里发送它需要发送我的`device`.

我不想使用任何其他第三方进行交互

并且Server使用c#[sharp]语言开发成asp.net

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T07:02:30.840

是的，您必须在服务器端执行一些 php 脚本。您还必须注册并发送和接收来自服务器的消息，在 appdelegate 中您必须使用委托方法 - (void)application:(UIApplication *)app didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)devToken {

并且您必须获取 devicetoken 并将其发送到您的服务器代码，然后在

*   (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo { 并在该方法中发出警报

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T06:59:41.393

是的，您肯定需要编写代码，如果您使用的是 PHP，您可以使用[http://code.google.com/p/apns-php/](http://code.google.com/p/apns-php/)

# .htaccess - 在服务器上调用编辑方式目录

> ID：11151460
> 
> 赞同：1
> 
> 时间：2012-06-22T06:53:32.487
> 
> 标签：.htaccess

我正在尝试做的事情似乎很简单，但我还没有找到解决方案。这个想法是我服务器上的特定目录只能通过一个 URL 打开。目前，可以通过导航到`http://dir.mydomain.com`以及访问该网站`http://mydomain.com/dir`。所有链接都使用第一个选项，但为了防止搜索引擎检测到重复内容以及我的用户不会感到困惑，我想简单地禁用第二个选项。我发誓我已经读过一些关于解决方案的东西，但我不记得它或找到它......希望你能帮我解决这个问题，提前谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T08:58:21.920

为什么不直接使用 301 重定向到`dir.mydomain.com`任何指向第二个的链接都映射到第一个？

```
RewriteEngine On
RewriteCond %{HTTP_HOST} ^mydomain.com$ [NC]
RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /dir
RewriteRule ^dir http://dir.mydomain.com [R=301] 
```

# jquery - 从变量声明中返回布尔值

> ID：11151464
> 
> 赞同：0
> 
> 时间：2012-06-22T06:53:48.217
> 
> 标签：jquery

我想创建一个条件语句作为样式中的例外。我的逻辑是找到当前导航的位置，如果导航有一个标志类`{expression}`

**脚本**

```
 $('li.navCenter').on('click', function () {
   var findActiveLi = $('.footerUl').find(".currentFooterNav");//fine location of current navitation
   var logoTarget = $(findActiveLi > ".logo"); // finds if  currentnavli has logo class
    if ($(logoTarget) == true) {
        $("ul.logoUl > li").removeClass('orange blue green pink').addClass('grayLogo').css({
            'background-color': ''
        });
    }
}); 
```

**HTML**（*.currentFooterNav 将四处移动*）

```
 <footer id="footer">
  <nav>
    <ul class="footerUl">
      <li id="worksFooterNavi" class="navi"><a href="#">works</a></li>
      <li id="aboutFooterNavi" class="navi"><a href="#">about</a></li>
      <li class="homeFooterNavi navi currentFooterNav currentAll"><a href="#" title="logo">
        <div class="logo activeFooter">
          <ul class="logoUl">
            <li class="orange"></li>
            <li class="blue"></li>
            <li class="green"></li>
            <li class="pink"></li>
          </ul>
        </div>
        </a> ​
      </li>
      <li id="contactFooterNavi"  class="navi"><a href="#">contact</a></li>
      <li id="followFooterNavi"  class="navi"><a href="#">follow</a></li>
    </ul>
  </nav>
</footer> 
```

我怎样才能让这条线返回一个布尔值 == true; 必要时？
`var logoTarget = $(findActiveLi > ".logo");`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T06:55:20.463

试试这样：

```
 var $logoTarget = $(".logo",findActiveLi[0]); // finds if  currentnavli has logo class
 if ($logoTarget.length > 0) { 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-22T06:58:26.127

或者你也可以使用

```
var $logoTarget = $(findActiveLi).has('.logo').length;
if($logoTarget > 0){
 // your code 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-22T06:59:28.310

```
var $logoTarget = $(findActiveLi).hasClass('logo'); 
```

> [.hasClass()](http://api.jquery.com/hasClass/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-22T07:14:25.113

我想进一步扩大答案。对此事做出正确的推理很重要：

如果你写：

```
var logoTarget = $(findActiveLi > ".logo"); 
```

它的意思是：

> 比较变量`findActiveLi`并查看它是否*大于*(?)*字符串* `".logo"`，然后*将此比较的结果*（在 JQuery 对象和字符串之间？！有点像比较苹果和飞机......）传递给函数`"$"`，希望有事情发生 ：）

正如您可能想象的那样，从程序员的角度来看，这完全是胡说八道。使用像 JQuery 这样的插件并不意味着它清除了常规程序语法：在文字字符串之外使用的“>”符号仍然意味着“大于”广告用于比较（主要用于*数值*）。

如果`findActiveLi`是一个**字符串**（不是），你可以这样做：

```
var logoTarget = $(findActiveLi + "> .logo");
                                  ^^^^^^^^^ 
```

通过字符串连接（例如，如果 findActiveLi 是“.activeLi”，则该表达式将成为`".activeLi > .logo"`有效的选择器，因为“>”现在被声明为字符串的一部分）。

它仍然对您不起作用，因为它不是字符串而是**对象**。对象的正确方法是使用它们的方法和属性，所以我们最终回到其他用户告诉你的内容：

```
var logoTarget = $(findActiveLi).has('.logo').length; 
```

这意味着：

> 使用`findActiveLi`ad 一个**JQuery 对象**（元素或元素集合）；因此，它具有 " `has(selector)`" 方法，使我能够查看它是否包含选择器指定的其他元素，从而为我提供另一个元素集合；作为一个集合，我们有`.length`能力计算我们找到了多少这些元素。

# c# - 在配置 appsetting 和正则表达式中使用带引号的字符串来查找模式

> ID：11151473
> 
> 赞同：0
> 
> 时间：2012-06-22T06:55:00.663
> 
> 标签：c#, regex

在配置 appsetting 中使用带引号的字符串，用“|”分隔 并使用正则表达式匹配关键字从输入字符串中查找模式

```
<add key="SignatureWord" value="IN WITNESS|For this purpose|Please confirm your agreement|Acknowledged and Agreed|EXECUTED by the parties|(i) Any amount (the &quot;Early Termination Amount&quot;)"/>

public bool isSignature()
    {
NodeVal="(i) Any amount (the \"Early Termination Amount\") payable to one party  (the        \"Payee\")by the other party (the \"Payer\") under Section 6(e)";
        bool isSignature = false;

        string kWordforSignature = ConfigurationSettings.AppSettings["SignatureWord"].ToString();

        Match mObj = Regex.Match(NodeVal, @"\b" + kWordforSignature + @"\b", RegexOptions.Singleline | RegexOptions.IgnoreCase);
        if ((mObj.Success) && (NodeVal.IndexOf(mObj.ToString().Trim()) == 0))
        {
            isSignature = true;
        }
        return isSignature;
    } 
```

在应用程序设置中定义的关键字“（i）任何金额（“提前终止金额”）”的情况下不起作用，而所有其他关键字（如“IN WITNESS”等）都可以正常工作

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T07:04:17.097

括号是用于组匹配的特殊字符。您需要在正则表达式中使用反斜杠来转义它们。

鉴于您不以任何方式使用匹配组，未转义的括号就像它们根本没有出现在正则表达式中一样工作，这就是它们在输入中出现阻止匹配的原因。

# arm - 可以使用 Visual Studio 2012 构建 ARM 桌面程序吗？

> ID：11151474
> 
> 赞同：31
> 
> 时间：2012-06-22T06:55:04.923
> 
> 标签：arm, visual-studio-2012

我正在使用visual studio 2012 beta，我的桌面（win32）程序在ARM架构中编译得很好。

升级到 Visual Studio 2012 RC 后，编译器将无法工作并喷出以下错误：

“不支持为 ARM 平台编译桌面应用程序”

[我在这个http://connect.microsoft.com/VisualStudio/feedback/details/745580/arm-configuration-doesnt-work](http://connect.microsoft.com/VisualStudio/feedback/details/745580/arm-configuration-doesnt-work)上找到了一个论坛帖子

微软真的切断了 ARM 上的 win32 开发，这对吗？而在 VS2012 beta 中编译只是侥幸？

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2012-09-10T07:27:18.080

您可以编辑该文件：

```
C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\V110\Platforms\ARM\Microsoft.Cpp.ARM.Common.props 
```

在该`<PropertyGroup>`部分中添加以下行：

```
<WindowsSDKDesktopARMSupport>true</WindowsSDKDesktopARMSupport> 
```

前`</PropertyGroup>`

仅此而已，您可以使用 VS2012 构建 ARM 桌面应用程序。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-09-13T19:02:12.733

通过将“/D _ARM_WINAPI_PARTITION_DESKTOP_SDK_AVAILABLE”命令行参数添加到 C:\Program Files (x86)\Microsoft Visual工作室 11.0\VC\bin\x86_arm。我发现#define from sn0w's answer on this question in crtdefs.h 文件，无需修改该文件。现在，我不能保证任何更复杂的东西会真正起作用，或者微软没有为 Windows RT 桌面应用程序建立某种白名单或数字签名验证，所以即使它可以编译，也可能不允许运行当 Windows RT 终于可用时。

请注意，在您可以从命令行运行 cl.exe 的 ARM 版本之前，您必须使用此批处理文件设置环境变量：“C:\Program Files (x86)\Microsoft Visual Studio 11.0\VC\bin\x86_arm\ vcvarsx86_arm.bat"

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-18T11:54:27.597

即使您编译该应用程序，也无法在 Windows 8 RT 上运行它，因为未签名的应用程序将无法启动。

我刚刚对此进行了测试，不幸的是，情况确实如此。

您会收到以下消息：
`Windows cannot verify the digital signature of this file`

我想可能有一个解决方法，但它永远不会得到官方支持。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-07-29T11:07:54.037

是的当然。我用 VS2012 RC 练习过。现在我将解释如何避免“不支持为 ARM 平台编译桌面应用程序”并构建 win32 应用程序。

第一种方法：修复构建工具 - 目标是修补（或尝试用 beta 版本替换）MSBuild 的库：Microsoft.Build.CPPTasks.Common.v110.dll

第二种方式：从 Visual Studio Tools 开始菜单运行“VS2012 ARM Cross Tools 命令提示符”，然后执行 cl [cl params] myfile1.cpp myfile2.cpp myres.res ... /link [linkparams]

对于这两种情况，您还需要在第 332 行的 crtdefs.h 中注释 #error 指令。（Microsoft Visual Studio 11.0\VC\include）

# codeigniter-2 - CodeIgniter 重写 URL：从 url 中删除 index.php

> ID：11151477
> 
> 赞同：0
> 
> 时间：2012-06-22T06:55:11.260
> 
> 标签：codeigniter-2

我的应用程序网址是

```
http://localhost/myapp/admin/index.php/projects 
```

我想把它重写为

```
http://localhost/myapp/admin/projects 
```

我遵循了用户指南

```
RewriteEngine on
RewriteCond $1 !^(index\.php|images|robots\.txt)
RewriteRule ^(.*)$ /index.php/$1 [L] 
```

为此，但不适用于我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:38:44.280

谢谢 /* 实际上MAB */：您的代码确实有效。上面的代码适用于 localhost（Windows 上的 WAMP 服务器）。如果您已将 codeigniter 项目放在某个文件夹中，例如您的目录结构如下所示：

```
C:\wamp\www\proposal 
```

所以，你必须更换

```
RewriteRule ^(.*)$ /project/index.php/$1 [L] 
```

至

```
RewriteRule ^(.*)$ /proposal{or your folder name}/index.php/$1 [L] 
```

如果您的项目不是这种情况{您已将 codeigniter 直接放入 www 文件夹}，则从上述代码中删除文件夹名称，如下所示；

```
RewriteRule ^(.*)$ /index.php/$1 [L] 
```

也不要忘记改变

```
$config['index_page'] = 'index.php'; 
```

至

```
$config['index_page'] = ''; 
```

在您的配置文件夹 {config.php}

我希望其他人也提供了相同的答案，但是由于上面的代码在我的项目中有效，我觉得也提供了一些细节。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T11:33:09.937

请按照以下步骤操作：

1- 如果您在 localhost 上工作，请在 php.ini 中启用 mode_rewrite

2- 在项目文件夹下创建一个 .htaccess 文件并将其粘贴（请将“项目”更改为您的项目文件夹名称）：

```
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ /project/index.php/$1 [L]
</IfModule>
<IfModule !mod_rewrite.c>
    ErrorDocument 404 /project/index.php
</IfModule> 
```

3- 在 application/config.php 编辑这一行：

```
$config['index_page'] = ""; 
```

# eclipse - 在eclipse中调试时在项目之间切换

> ID：11151482
> 
> 赞同：1
> 
> 时间：2012-06-22T06:55:55.820
> 
> 标签：eclipse

我有两个项目 A 和 B 的构建方式都不同，但是项目 B 中的 jar 在构建之前被复制到项目 A 中。现在我必须通过项目 A 进行调试，并在 B 的源代码中放置一个断点，并通过 B 的代码而不是它在 buildpath 中的 jar 进行调试。

有没有办法做到这一点？

我曾尝试将 B 的源文件夹链接到 A，但是当我在 B 的代码中放置断点时，调试器会转到其 jar 中的相同位置。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T08:10:37.237

为此，您必须添加项目 B 作为对构建路径的引用，而不是项目 B 的 jar。

但它也可以在 jar 文件的代码中设置断点。为此，您只需将源附加到代码一次。

# performance - Oracle - 使用多个存在来检查记录可用性

> ID：11151484
> 
> 赞同：0
> 
> 时间：2012-06-22T06:56:02.700
> 
> 标签：performance, oracle, query-optimization, exists

我的应用程序中有一种情况是显示符合不同标准的数据计数。由于计数的性能随着数据库的增长而下降，我们决定使用 exists 子句仅显示可用性信息。

下面是我的表结构

```
Table: DocInfo
---------------------------------------
DocId       number
DocName     varchar(250)
DocStatus   number
SignedBy    number
ForwardedBy number
ForwardCount    number
DocOwner    number
MgrID       number
ProjectId   number 
```

当前进行计数的查询是这样的

```
SELECT NVL(SUM(CASE
                 WHEN (DocStatus IN (1150,1155,1170,1182,1190) AND
                       DocOwner=56366 AND
                       ForwardCount=0)
                   THEN 1
                   ELSE 0
               END), 0) "ForReview",
       NVL(SUM(CASE
                 WHEN (DocStatus IN (1200) And
                       MgrID = 56366 AND
                       ForwardCount = 0 )
                   THEN 1
                   ELSE 0
               END), 0) "Accepted" , 
       NVL(SUM(CASE
                 WHEN (DocStatus IN (1150,1155,1170,1182,1190) AND
                       DocOwner=56366 AND
                       MgrID = 0 )
                   THEN 1
                   ELSE 0
               END), 0) "Waiting"
  FROM DocInfo 
  WHERE ProjectId = 313 and
        (DocOwner = 56366 or MgrID = 56366) 
```

我需要将计数更改为一个`exists`子句，以便我可以显示每个类别中的文档是否可用。

由于此更改是为了提高性能，因此也不建议将其作为不同的查询运行。请帮助我，我已经用完了我有限的知识。

很抱歉错过了我已经尝试过的部分。

我已将上面的查询更改为与下面的每个都存在子句的联合。

```
SELECT 'ForReview' AS A
  FROM DUAL
  WHERE EXISTS (SELECT NULL
                  FROM DocInfo 
                  WHERE ProjectId = 313 and
                        (DocOwner = 56366 or MgrID = 56366)  and
                        (DocStatus IN (1150,1155,1170,1182,1190) AND
                         DocOwner=56366 AND
                         ForwardCount=0)) 
UNION 
  SELECT 'Accepted' AS A
    FROM DUAL
    WHERE EXISTS (SELECT NULL
                    FROM DocInfo
                    WHERE ProjectId = 313 and
                          (DocOwner = 56366 or MgrID = 56366) and
                          (DocStatus IN (1200) And
                           MgrID = 56366 AND
                           ForwardCount = 0 )) 
UNION
  SELECT 'Waiting' AS A
    FROM DUAL
    WHERE EXISTS (SELECT NULL
                    FROM DocInfo
                    WHERE ProjectId = 313 and
                          (DocOwner = 56366 or MgrID = 56366) and
                          (DocStatus IN (1150,1155,1170,1182,1190) AND
                           DocOwner=56366 AND
                           MgrID = 0)) 
```

我只提到了 3 个条件，而我的实际应用程序有 8 个不同的条件要添加到此查询中。所以当我有 8 个 Exists 子句时，它在内部作为 8 个不同的查询运行，实际上它需要更多时间——整个联合查询中的单个段只需要 560 毫秒，而所有查询加起来需要大约 7 秒来生成输出。

由于我的要求只是确定任何此类记录的**可用性**，我不想浏览整个记录集并对其进行计数。

无论如何要优化/重写这个查询

谢谢你

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T11:56:26.873

> “所以当我有 8 个 Exists 子句时，它在内部作为 8 个不同的查询运行，实际上它需要更多时间 - 整个联合查询中的单个段只需要 560 毫秒，而所有查询加起来需要大约 7 秒来生成输出。”

惊喜，惊喜。运行相当于同一查询*八次*不会比运行一次查询快。

现在确实 EXISTS 可以更快，因为它只需要找到与给定条件匹配的单行，而不是检索整个数据集。但是，您刚刚将检索到的数据转移到 WHERE 子句中，因此数据库仍然需要执行相同数量的工作。事实上，它显然做了更多的工作，因为`7s > (560ms * 8)`.

要正确解决您的问题，您需要了解数据库的工作原理以及如何调整它。 [了解更多](http://docs.oracle.com/cd/B19306_01/server.102/b14211/optimops.htm)。

首先，定义一个调优目标。您的原始查询需要半秒钟才能运行：这不是闪电般的速度，但它非常快。为什么这是个问题？您希望它运行多快？

接下来，运行[EXPLAIN PLAN](http://docs.oracle.com/cd/B19306_01/server.102/b14200/statements_9010.htm)。查询是否使用索引？它的索引使用效率如何> 选择的行的百分比是多少？

现在您还需要了解您的数据。选择的数据是均匀分布在整个表中还是有簇？某些项目、所有者或经理是否拥有比其他项目更多的记录？该分布如何影响性能？

请记住，调优是一门科学，而且很复杂：关于这个主题的书籍有很多，有些人作为性能故障排除者过着很好的生活。它需要有关您的系统的大量信息，包括有关您的应用程序做什么的知识以及关于您的数据库正在执行哪些活动的低级信息。我们可以帮助您寻找更高效的解决方案，但我们不能只看一个不靠谱的查询并告诉您如何重写以使其运行得更快。

# sharepoint - AssetUrlSelector 示例

> ID：11151485
> 
> 赞同：1
> 
> 时间：2012-06-22T06:56:10.077
> 
> 标签：sharepoint

我正在寻找有关在 ASP.NET 中创建 AssetUrlSelector 以从共享点站点选择文档的示例。你能给我一些例子或帮助链接吗？由于 AssetUrlSelector 仅适用于 MOSS 服务器/sharepoint 服务器而不适用于 foudation 2010 或 wss3.0 我如何创建类似于 AssetUrlSelector 的控件？

问候， 莎米拉

# php - mediawiki 扩展读取 txt 文件的数据

> ID：11151486
> 
> 赞同：1
> 
> 时间：2012-06-22T06:56:11.980
> 
> 标签：php, mediawiki

嗨，我有以下问题。

我写了一个 Mediawiki 扩展，我需要一些 txt 文件的数据。但是通常使用的 readfile(yourtxtfile.txt) 不适用于 Mediawiki....

如何从我的 Mediawiki 扩展中的 txt 文件中获取我的数据。

```
 <?php

 $wgExtensionCredits['parserhook'][] = array(

 'path' => __FILE__,
 'name' => 'UniChecker',
 'description' => 'Check the all names of specific universities',
 'descriptionmsg' => 'UniChecker-desc',
 'version' => 1, 
 'author' => 'me',
 'url' => 'https://www.mediawiki.org/wiki/Manual:UniChecker',

 );

 // Specify the function that will initialize the parser function.
 $wgHooks['ParserFirstCallInit'][] = 'UniSetupFunc';

 // Allow translation of the parser function name
 $wgExtensionMessagesFiles['ExampleExtensionMagic'] = dirname( __FILE__ ) .'/UniChecker.i18n.magic.php';

 function UniSetupFunc( &$parser ) {

    // Create a function hook associating the "example" magic word with the
    // UniParsefunc() function.
    $parser->setFunctionHook( 'Uni', 'UniParsefunc' );

    // Return true so that MediaWiki continues to load extensions.
    return true;
      }

 // Render the output of the parser function.
 function UniParsefunc( $parser, $param1 = '' ) 
 {
    if(!file_exists("Uni.txt")) echo "Data not found";  

    // here i want to open my txt file
    // readfile not work

    return $txt_data;
 } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T08:22:26.147

您需要提供完整路径，例如`file_exists('/var/foo/bar/Uni.txt');`

# c# - 鼠标光标位置在表单调整大小时搞砸了

> ID：11151488
> 
> 赞同：0
> 
> 时间：2012-06-22T06:56:35.247
> 
> 标签：c#, .net, winforms, mouse

我有一个函数，只要调用dragover 事件，就可以将某个文本框的位置设置为鼠标光标的位置。

```
private void DGVLogicSimView_DragOver(object sender, DragEventArgs e)
{
    txtBoxDragPoint.Visible = true;
    txtBoxDragPoint.BackColor = Color.LightSkyBlue;
    txtBoxDragPoint.Location = new Point(e.X, e.Y);
    e.Effect = DragDropEffects.Copy;
} 
```

当表单最大化时，上述事件完美运行。但是，当表单未最大化并位于桌面中的某个随机位置时，txtbox 的位置就会变得一团糟。

我相信它返回的是相对于表单而不是屏幕的鼠标位置。什么是最好的解决方案？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T07:03:59.437

是的，这是因为 D+D 事件以屏幕坐标而不是客户端坐标传递鼠标位置。您需要映射相对于文本框父级的位置，如下所示：

```
 txtBoxDragPoint.Location = txtBoxDragPoint.Parent.PointToClient(new Point(e.X, e.Y)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:02:28.647

坐标确实与屏幕无关。

你可以尝试改变这个：

```
txtBoxDragPoint.Location = new Point(e.X, e.Y); 
```

为此（假设 DGVLogicSimView 是您悬停的控件的名称）

```
txtBoxDragPoint.Location = new Point(DGVLogicSimView.Left + e.X, DGVLogicSimView.Top + e.Y); 
```

# android - 我想在android中的不同日期（星期一，星期二等）的特定时间安排任务

> ID：11151497
> 
> 赞同：2
> 
> 时间：2012-06-22T06:57:22.027
> 
> 标签：android, broadcastreceiver, scheduled-tasks, alarmmanager

目前我正在开发 Android 中的**BroadcastReceiver、Service 和 AlarmManager**，以在我的项目中开发一项功能。我需要在特定日期的特定时间安排一些任务。

例如：-

**星期一 - 上午 9:00 和下午 05:00**

**星期二 - 上午 9:00 和下午 05:00**

**星期三 - 上午 9:00 和下午 05:00**

**星期四 - 上午 9:00 和下午 05:00**

**周五 - 上午 09:00 和下午 05:00**

**周六 - 上午 10:00 和晚上 10:00**

**周日 - 上午 10:00 和晚上 10:00**

* * *

**到目前为止，我所做的是创建了一个活动和广播接收器。点击按钮后，每 60 秒广播接收器将被调用。这是我的代码片段。但是我想根据我上面描述的那一周来安排我的任务。任何人都可以请帮助我如何安排上述任务。**

**代码 ：-**

```
public class AlarmDemoActivity extends Activity {

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        Button buttonStart = (Button)findViewById(R.id.start);
        buttonStart.setOnClickListener(new Button.OnClickListener(){

            public void onClick(View arg0) {
                // TODO Auto-generated method stub
                Intent myIntent = new Intent(getBaseContext(),
                        MyScheduledReceiver.class);

                PendingIntent pendingIntent
                = PendingIntent.getBroadcast(getBaseContext(),
                        0, myIntent, 0);

                AlarmManager alarmManager
                = (AlarmManager)getSystemService(ALARM_SERVICE);
                Calendar calendar = Calendar.getInstance();
                calendar.setTimeInMillis(System.currentTimeMillis());
                calendar.add(Calendar.SECOND, 10);
                long interval = 60 * 1000; //
                alarmManager.setRepeating(AlarmManager.RTC_WAKEUP,
                        calendar.getTimeInMillis(), interval, pendingIntent);
                finish();
            }});
    }
} 
```

**广播接收器：-**

```
public class MyScheduledReceiver extends BroadcastReceiver{

    @Override
    public void onReceive(Context context, Intent intent) {
        // TODO Auto-generated method stub
        /*Intent scheduledIntent = new Intent(context, MyScheduledActivity.class);
        scheduledIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        context.startActivity(scheduledIntent);*/

        System.out.println("Make Phone Silent");
    }

} 
```

欢迎所有建议和提示。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T08:01:29.727

我会在一个非常高的层次上给出这个想法。你必须弄清楚你自己的编码：

1.将用户偏好保存在共享偏好中（我想你已经在这样做了）

2.使用Alarm Manager 的set 方法安排第一个警报 [有关此方法的详细信息，请参阅this](http://developer.android.com/reference/android/app/AlarmManager.html#set%28int,%20long,%20android.app.PendingIntent%29)。

3.当警报响起时，再次使用共享首选项中的下一个时间段安排下一个警报，再次使用设置方法

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T08:57:49.980

您不需要每 60 秒调用一次，您可以使用日历实例设置触发警报的时间并设置正确的日期，因此警报管理器将在指定的日期和时间触发广播意图。

请注意，如果手机关闭，警报管理器将被重置，因此您必须将警报存储在任何持久存储中并为 BOOT_COMPLETED 操作注册广播接收器以恢复警报。

您可以以小间隔进行测试，这样您就不必等待一整天:)

# performance - 增加 cassandra 的列族数量对堆利用率有什么影响？

> ID：11151498
> 
> 赞同：0
> 
> 时间：2012-06-22T06:57:27.287
> 
> 标签：performance, jvm, cassandra

我们正在使用 cassandra-1.1。

出于某种优化目的，我们决定在我们的键空间中增加列族的数量。

对堆利用率有影响吗？

Cassandra 是否有可能内存不足？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-23T04:58:19.577

最近版本的 Cassandra 为每个列族在堆上分配了至少 1MB 的空间，因此您可以将其视为堆消耗的下限。布隆过滤器也以一种不一定取决于您使用列族的方式占用堆空间的方式。

您是在谈论从 5 到 10 个列族吗？还是10到1000？您当然*可以*用 10 或 1000 个列族耗尽堆空间，这在很大程度上取决于您插入数据的速率。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-06T10:10:33.320

根据 Cassandra Wiki，“每个节点”消耗的堆大小定义为： **memtable_throughput_in_mb * 3 * 热 CF 数量 + 1G + 内部缓存** （参考：[MemtableThresholds](http://wiki.apache.org/cassandra/MemtableThresholds)）

那么回答第一个问题： *对堆利用率有影响吗？* 是的。

关于 q2，我坚信最新版本不会出现 OOM。正如您提到的 Cassandra 1.1 版，每个 CF 配置 memtable_throughput_in_mb 被全局内存配置替换 - memtable_total_space_in_mb。这个配置等价于 -memtable_throughput_in_mb * 热 CF 的数量，在上面提到的公式中。这确保了 JVM 堆大小不会随着 CF 的数量而扩展，并且始终由全局配置保护。

# php - 在php中处理多个文本框

> ID：11151501
> 
> 赞同：0
> 
> 时间：2012-06-22T06:57:43.873
> 
> 标签：php, html

我有一个来自数据库的动态行。每行都有一个订单字段。我想让用户能够通过在每行旁边的文本框中输入顺序来更改顺序，并且当用户单击保存时，每行都将使用新顺序进行更新。

我的问题是当我写这段代码时：

```
 <table>
    <?
    foreach($results as $p)
    {
        echo '
            <tr>
            <td>'.$p['page_title'].'</td>
            <td><input type="text" size="2" id="'.$p['page_id'].'" name="s[]" value="'.$p['menu_order'].'"></td>
        </tr>';
    }
    ?>
    <tr><td colspan="2"><input type="submit" value="Save Order"></td></tr>
    </table> 
```

正如您所看到的，每个动态文本框都会在发布表单后给出新订单，**但问题是我如何知道这个订单到哪一行？**

该图像将解释更多。单击保存后，`s`数组将如下所示：

数组（ [0] => 2 [1](https://i.stack.imgur.com/OVdBd.jpg) => 3 [2] => 1 ）

但是，我不知道要更新的页面！ ![在此处输入图像描述](../Images/0d12c1c4fa005b455a5a67a79b64bcb9.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T07:02:32.650

我认为您要问的是如何按分配给它的数字对字段进行排序。如果这是您想要做的，并且如果您使用 MySQL 来存储这些数据，您可以按该顺序检索它。例如：

```
SELECT * FROM mytable ORDER BY menu_order ASC 
```

**编辑：**既然我已经重新阅读了您的问题，您也可能会问如何将该顺序分配给每一行。我注意到您的字段已命名`s[]`您可以命名它们`$p['page_id']`并相应地更新它们。

```
 <?
    foreach($results as $p)
    {
        echo '
            <tr>
            <td>'.$p['page_title'].'</td>
            <td><input type="text" size="2" id="'.$p['page_id'].'" name="s['.$p['page_id'].']" value="'.$p['menu_order'].'"></td>
        </tr>';
    }
    ?> 
```

进而

```
foreach($_POST['s'] as $key => $value) {
    // Update each $key with $value
    // Where $key is the ID and $value is the order
} 
```

# iphone - 如何在 iOS 上的 PJSIP 呼叫中实现静音功能

> ID：11151508
> 
> 赞同：6
> 
> 时间：2012-06-22T06:58:23.660
> 
> 标签：iphone, ios5, ios-simulator, pjsip

我想在我的通话中实现静音按钮。我正在为 iPhone 开发一个 VOIP 应用程序。现在，当来电且用户接听时，我想显示一个静音按钮，以便用户可以将通话或会议静音。我通过 PJSIP API 做了同样的事情。

```
-(int) mutethecall
{
    pj_status_t status =   pjsua_conf_adjust_rx_level (0,0);
    status = pjsua_conf_adjust_tx_level (0,0);
    return (PJ_SUCCESS == status);
}
-(int) unmutethecall
{
    pj_status_t status =   pjsua_conf_adjust_rx_level (0,1);
    status = pjsua_conf_adjust_tx_level (0,1);
    return (PJ_SUCCESS == status);
} 
```

问题是，虽然此代码适用于一对一通话，但不适用于会议场景。

我想知道我是否可以直接关闭麦克风：我可以绕过 PJSIP API 使用 iOS 实现相同的功能吗？

这可能吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-26T18:44:51.097

当您想取消静音时，您可以使用 pjsua_conf_disconnect 和 pjsua_conf_connect 完全断开麦克风与会议的连接。

这是一些可以解决问题的 Objective-C 代码：

```
+(void)muteMicrophone
{
    @try {
        if( pjsipConfAudioId != 0 ) {
            NSLog(@"WC_SIPServer microphone disconnected from call");
            pjsua_conf_disconnect(0, pjsipConfAudioId);
        }
    }
    @catch (NSException *exception) {
        NSLog(@"Unable to mute microphone: %@", exception);
    }
}

+(void)unmuteMicrophone
{
    @try {
        if( pjsipConfAudioId != 0 ) {
            NSLog(@"WC_SIPServer microphone reconnected to call");
            pjsua_conf_connect(0,pjsipConfAudioId);
        }
    }
    @catch (NSException *exception) {
        NSLog(@"Unable to un-mute microphone: %@", exception);
    }
} 
```

请注意，pjsipConfAudioID 是在建立呼叫时检索到的，再次在 Objective-C 中...

```
static void on_call_state(pjsua_call_id call_id, pjsip_event *e)
{
    pjsua_call_info ci;
    PJ_UNUSED_ARG(e);
    pjsua_call_get_info(call_id, &ci);
    pjsipConfAudioId = ci.conf_slot;
    ...
} 
```

希望有帮助！

# selenium - 使用 selenium 在 RadEditor 中键入文本

> ID：11151512
> 
> 赞同：1
> 
> 时间：2012-06-22T06:58:42.367
> 
> 标签：selenium, selenium-rc, rad, hidden-field, radeditor

我正在使用**selenium**自动化网页。

我的问题是**selenium**无法在**隐藏字段**中键入文本。我用了

```
selenium.type("xpath of hidden field","some text"); 
```

但它不起作用。它没有给出任何错误，但没有在该隐藏字段中输入任何内容。

**示例：在 Gmail 的正文字段中输入文本（在撰写邮件时）。** `this is the exact example of my issue`

这是 Rad 编辑器。所以代码是这样的（这里的文本保存在里面`iframe-->html-->body`）

```
<iframe id="iframe1">
<html>
<body> This is some text </body>
</html>
</iframe> 
```

![我尝试添加文本的字段](../Images/07c48cbb4158ae5eef67c392cbb9063a.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-26T08:07:21.420

您无法强制 Selenium 输入隐藏元素。

这行得通吗？它使用 Javascript[`document.evaluate()`](https://developer.mozilla.org/en/DOM/document.evaluate)通过 XPath 查找元素，然后直接键入找到的元素的`value`.

```
selenium.GetEval(
        "var xpath = '//XPath/to/your/element';" +
        "var text = 'some text to input into the element'" +
        "var elem = window.document.evaluate(xpath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null);" +
        "elem.singleNodeValue.value = text;" ); 
```

如果没有，请尝试在 FireBug 中运行它并在此处发布结果（或错误）。

* * *

接下来要尝试的是尝试使元素可见......

* * *

## 编辑 - 以上将不起作用

您将所有问题都集中在一个地方:)

1.  一个`iframe`。在尝试与内部的任何东西交互之前，您必须[选择它。](http://selenium.googlecode.com/svn/trunk/docs/api/dotnet/html/M_Selenium_ISelenium_SelectFrame.htm)
2.  如果`iframe`从不同的域加载任何东西，那么 JavaScript 的[同源策略](http://seleniumhq.org/docs/05_selenium_rc.html#the-same-origin-policy)就会启动。而且由于 Selenium RC 是用纯 JavaScript 编写的，它不能做任何事情。您可以切换到`WebDriver`哪个不受此影响，或者尝试在`iframe`. 不过可能行不通。
3.  中的`body`标签`iframe`是`contenteditable`由[解决`WebDriver`](http://code.google.com/p/selenium/wiki/FrequentlyAskedQuestions#Q%3a_How_do_I_type_into_a_contentEditable_iframe?)的问题。Selenium RC 也应该能够`type()`进入它。
4.  一个看不见的`textarea`。那是你的最后一个问题。如果你真的需要写入它（有可编辑的`body`），你将不得不使用 JavaScript，因为 Selenium RC 拒绝使用不可见的元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-27T05:50:18.267

因为这是一个**RadEditor**，所以文本在里面`iframe-->html-->body`（**在我的情况下是这样**。不同的编辑器可能会有所不同）

所以为了写文本，首先我们需要选择**iframe**。然后我们必须输入文本。这可以作为

```
selenium.SelectFrame("xpath_of_iframe"); //Selecting the iframe
selenium.Type("//html/body","Thank you"); //Inserting the text 
```

所以现在代码更改为

```
<iframe id="iframe1">
<html>
<body> Thank you </body>
</html>
</iframe> 
```

谢谢你。

# java - 如何在互联网上发送我的 java 类对象

> ID：11151515
> 
> 赞同：-2
> 
> 时间：2012-06-22T06:58:49.360
> 
> 标签：java, serialization

我有一个简单的 java 类对象。我可以通过网络将字节码发送给我的任何朋友。那么发送一个对象而不序列化它有什么问题呢？为什么需要序列化来发送对象。不能直接寄吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:10:20.653

序列化是通过客户端服务器通信来管理对象的状态。如果您不进行可序列化，则它不会管理对象的状态。如果您尝试将一个对象从服务器传递到客户端而不进行序列化，它将提供 u 空对象值。因此表明您希望在客户端接收的对象与您发送的对象不同。只需通过序列化，它就不会每次都创建新对象。所以它必须是必需的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:07:36.960

好吧，字节码代表 JVM 可读格式，而您的序列化对象包含对象的行为和状态（实例变量）。它们是完全不同的东西。

您想在网络上发送序列化对象的原因。

1.  您的对象的状态不断变化，因此在任何时候您都希望捕获其状态并在网络上存储/发送。

2.  您可能希望将对象的状态不存储在您的机器中，而是存储在其他人的机器中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T07:01:36.903

通过序列化，您可以将对象转换为包含类定义和对象道具的字节流。另一方面，序列化它有什么问题？这就是这样做的方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-22T07:02:29.503

您的对象可以包含不可序列化的对象，例如 InputStreams 或 DatabaseConnections。如果您的对象（或其前身）实现了 Serializable 接口，那么您的代码将无法编译，直到序列化真正成为可能。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-22T07:37:52.473

`Object's`状态谎言在里面`JVM`。其他`JVM`人如何知道您的内部对象的状态`JVM`，您可以通过或任何其他文件传输介质将您的对象的蓝图（类）传输给您的朋友，`E-Mail` `ftp`但如果您必须传输`object`，`JVM`那么您需要坚持对象的状态，因此您需要序列化。

# android - Android Bind服务调用接口问题`

> ID：11151516
> 
> 赞同：0
> 
> 时间：2012-06-22T06:58:50.800
> 
> 标签：android, service, interface, stub

将服务与 interface 绑定时遇到错误`stub()`。

**这是我的连接代码：**

```
class LogConnection implements ServiceConnection {

    public void onServiceConnected(ComponentName className,
            IBinder boundService) {
        logService = ILogService.Stub.asInterface((IBinder) boundService);
    } 
```

但它不适合我。

日志猫：

```
06-22 12:17:28.632: I/dalvikvm(1973): Could not find method com.sam.logservice.ILogService$Stub.asInterface, referenced from method com.sam.logclient.LogClientActivity$LogConnection.onServiceConnected
06-22 12:17:28.662: W/dalvikvm(1973): VFY: unable to resolve static method 28: Lcom/sam/logservice/ILogService$Stub;.asInterface (Landroid/os/IBinder;)Lcom/sam/logservice/ILogService;
06-22 12:17:28.662: D/dalvikvm(1973): VFY: replacing opcode 0x71 at 0x0009
06-22 12:17:28.662: D/dalvikvm(1973): VFY: dead code 0x000c-0016 in Lcom/sam/logclient/LogClientActivity$LogConnection;.onServiceConnected (Landroid/content/ComponentName;Landroid/os/IBinder;)V
06-22 12:17:28.702: W/ActivityManager(61): Unable to start service Intent { cmp=com.sam.logclient/com.sam.logservice.ILogService }: not found 
```

**编辑：** 我遵循以下链接的示例：

[远程服务调用](http://ofps.oreilly.com/titles/9781449390501/AIDL.html)

当我当时调试代码时，我在同一个位置敲击

```
 logService = ILogService.Stub.asInterface((IBinder) boundService); 
```

希望你有一些解决方案。

如果您想要更多数据来得出结论，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:07:14.083

在您的代码中，我观察到这就是为什么您将 boundService 转换为 IBinder 实际上不需要转换它，只需按原样传递即可。所以，你的线应该是这样的

```
 logService = ILogService.Stub.asInterface(boundService); 
```

确保服务写在同一个包中..

您的扩展服务仅创建接口对象的类

```
 ILogService.Stub logService = new ILogService.Stub(); 
```

并在 onBind 方法中返回它，如下所示

```
 @Override
    public IBinder onBind(Intent intent) {
        return logService;
    } 
```

希望这个解释对你有用。

# unit-testing - 如何在 Spring WebFlow 中测试决策状态

> ID：11151517
> 
> 赞同：0
> 
> 时间：2012-06-22T06:58:58.630
> 
> 标签：unit-testing, mockito, spring-webflow-2

我试图找到在 Spring WebFlow 上下文中对决策状态进行单元测试的最佳方法。

```
<var name="registration" class="*some class path*.Registration"/>

<decision-state id="checkSignedIn">
    <if test="*someClass*.isSignedOn(registration)"
        then="checkHas*Said*Service"
        else="registrationChoice"/>
</decision-state>

<decision-state id="checkHasTCloudService">
    <if test="*someClass*Dao.isUserRegisteredFor*saidSvc*(registration)"
        then="*svc*Activated"
        else="registrationChoice"/>
</decision-state>

<view-state id="registrationChoice" model="registration" view="view.xhtml" >

    <on-entry>... 
```

注意*someClass*和*someClassDao*不在 FlowScope 或 ConversationScope 内。

我想通过 Mockito 测试决策状态表达式是否被调用，然后验证正确的状态结果。

通常，一个人可以简单地

1.  setCurrentState（someViewState：您希望在过渡流中进行插槽测试的位置）
2.  定义输入
3.  模拟 ExternalContext
4.  在该上下文中设置事件
5.  resumeFlow（具有给定的上下文）
6.  验证模拟方法调用和最后
7.  assertCurrentState（someViewState：在给定的输入影响了流中要分叉到的决策状态之后，您希望处于的位置）

似乎决策状态不作为视图状态运行（很公平：它们不是流中的给定视图状态）所以我们如何模拟/测试？

感谢您的回复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T13:43:46.190

*在这个确切的示例中，您可以通过setCurrentState()*从特定视图状态开始替代- 您可以使用[startFlow](http://static.springsource.org/spring-webflow/docs/2.3.x/javadoc-api/org/springframework/webflow/test/execution/AbstractFlowExecutionTests.html#startFlow%28org.springframework.webflow.core.collection.MutableAttributeMap,%20org.springframework.webflow.context.ExternalContext%29) - 这将...启动流程。然后，您可以根据决策状态的结果来测试最终处于哪种视图状态。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T04:09:32.450

好吧，我的一位同事（可敬的 Murray MacPherson）给我指明了正确的方向，他提醒我这个过程是：
1\. 模拟你的 dao 调用
2\. 开始你的流程 &（现在这是关键）
3\. 基于根据您的模拟调用设置的决策结果，断言您的预期结果状态（这将是某种观点），
- 是否是结束状态（在这种情况下，您也会期望结束您的流程）或
- （临时）当前状态. 如果它已经到达预期点，那么您就知道已经执行了这些决定。

* * *

注意，如果您的预期结果是“currentState”，那么您可以验证已/已经进行了模拟（dao）调用（因为流程将不再处于活动状态）您无法进行此类验证：简单的事实已经到达您预期的最终状态本身就是验证。

# tapestry - 编码器 Tapestry 中的组件

> ID：11151518
> 
> 赞同：6
> 
> 时间：2012-06-22T06:59:01.117
> 
> 标签：tapestry

我有一个页面显示某些客户的详细信息。我`t:loop`用来显示一些数据。在`t:loop`我只是路过`source`和`value`。到目前为止一切顺利，我的页面运行良好。但是当我尝试提交页面时，它突然给了我异常。

> “找不到从类型 java.lang.String 到类型 [addressUsageValue] 的强制转换可用的强制转换：…………。”</p>

下面是示例代码

```
<t:loop source="addressUsageInfo" value="addressUsageValue">
                  <tr>
                              <td>${addressUsageValue?.usage}</td>
                              <td>${addressUsageValue?.address}</td>
                              <td>${addressUsageValue?.postCode}</td>
                              <td>${addressUsageValue?.city}</td>
                              <td>${addressUsageValue?.country}</td>
                  </tr>
</t:loop> 
```

我做了一些护目镜并找到以下参考资料。

[http://tapestry.apache.org/5.3.3/apidocs/org/apache/tapestry5/corelib/components/Loop.html](http://tapestry.apache.org/5.3.3/apidocs/org/apache/tapestry5/corelib/components/Loop.html) [https://issues.apache.org/jira/browse/TAP5-609](https://issues.apache.org/jira/browse/TAP5-609)

所以我为 Loop 创建了编码器。下面是示例代码。在下面`toClient()`的方法中，我随机返回了任何值，在`toValue()`方法中我返回了 null。

```
private final ValueEncoder<DtoAddressUsageInfo> addressUssageEncoder = 
    new ValueEncoder<DtoAddressUsageInfo>() {

    public String toClient(DtoAddressUsageInfo value) {
          return String.valueOf(value.getUsage());
    }

    public DtoAddressUsageInfo toValue(String clientValue) {
          return null;
    }

}; 
```

现在我的代码工作正常，我可以提交表单了。

我的疑问来了

**首先——我不明白为什么在使用循环时需要编码器？如果需要提交表单，那么为什么它不是强制参数？**

**第二——我刚刚实现了没有任何逻辑的编码器。我无法理解 toValue() 和 toClient() 方法的使用位置以及目的是什么？**

**第三——当我提交页面时，为什么表单需要编码器？**

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-22T08:57:46.863

`formState`和参数解决了以下`encoder`问题：提交表单时，如何确保表单中的值到达它们所要使用的对象？

如果您正在迭代的集合在表单呈现和表单提交之间没有改变，那么最简单的解决方案是设置（[在文档中](http://tapestry.apache.org/current/apidocs/org/apache/tapestry5/corelib/LoopFormState.html)`formState="iteration"`很好地解释了）。

但是，如果集合可以在渲染和提交之间发生变化，您将不得不对关于哪个循环迭代是哪个对象的信息进行编码。这是通过 a 完成的（同样，在[其文档](http://tapestry.apache.org/current/apidocs/org/apache/tapestry5/ValueEncoder.html)`ValueEncoder`中很好地解释了）。例如，一个常见的实现可以在呈现时将数据库 ID 编码到表单 ( ) 中，并在提交表单时从数据库中加载实体 ( )。`toClient()``toValue()`

所有这些在[您找到的 Loop 组件文档中](http://tapestry.apache.org/current/apidocs/org/apache/tapestry5/corelib/components/Loop.html)也得到了很好的解释。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-12-02T15:41:30.260

亨宁的回答也帮助了我。仅当尝试为循环中的一行设置复选框时，我的循环的值才会变为 null。编码器工作正常，数据正常。该复选框使用 setter 设置，并在每次迭代、每行时使用 getter 检索。实际的布尔值存在于数据对象周围的包装器中。给循环一个这些包装对象的列表。''onClick' 事件提交表单。但是每次迭代我的包装对象（循环值）总是为空。我添加了 formstate="iteration" 并且现在复选框保持它们的状态。

```
<t:loop t:source="treeNodeList" value="treeNode" 
t:encoder="treeNodeEncoder" formState="iteration">
    <tr style="text-align:center;">
        <td class="table-checkbox" id="data-table-1st-col">
        <input t:type="checkbox" value="currentSelectedTreeNode" 
        onclick="this.form.submit();"/>

    ....

        </td>
    </tr>
</t:loop> 
```

# java - java.lang.NoClassDefFoundError: org/apache/http/conn/scheme/SchemeSocketFactory

> ID：11151519
> 
> 赞同：6
> 
> 时间：2012-06-22T06:59:01.810
> 
> 标签：java, jakarta-mail

我正在尝试通过 AWSCredentials 发送邮件但遇到异常

> java.lang.NoClassDefFoundError: org/apache/http/conn/scheme/SchemeSocketFactory

我添加了这些罐子：

*   aws-java-sdk-1.3.11.jar
*   aws-java-sdk-1.3.11-javadoc.jar
*   aws-java-sdk-1.3.11-sources.jar
*   aws-java-sdk-flow-build-tools-1.3.11.jar
*   commons-logging.jar
*   httpclient-4.0-alpha4.jar
*   httpcore-4.0-alpha6.jar
*   log4j-1.2.13.jar
*   邮件.jar

我的Java代码是-

```
 import com.amazonaws.auth.AWSCredentials;
import com.amazonaws.auth.BasicAWSCredentials;
import com.amazonaws.services.simpleemail.AmazonSimpleEmailServiceClient;
import com.amazonaws.services.simpleemail.model.*;
import java.util.LinkedList;

public class SESExample {
public static final String ACCESS_KEY = "My Access";
public static final String SECRET_KEY = "My Secret";

public static void main(String args[]) {
    String sender = "support@brandzter.com"; // should be verified email

    LinkedList<String> recipients = new LinkedList<String>();
    recipients.add("khoyendra@globussoft.com"); // again a verified email, if you are in sandbox

    SendMail(sender, recipients, "Hi", "Hi how are u?");
}

public static void SendMail(String sender, LinkedList<String> recipients, String subject, String body) {
    Destination destination = new Destination(recipients);

    Content subjectContent = new Content(subject);
    Content bodyContent = new Content(body);
    Body msgBody = new Body(bodyContent);
    Message msg = new Message(subjectContent, msgBody);

    SendEmailRequest request = new SendEmailRequest(sender, destination, msg);

    AWSCredentials credentials = new BasicAWSCredentials(ACCESS_KEY, SECRET_KEY);
    AmazonSimpleEmailServiceClient sesClient = new AmazonSimpleEmailServiceClient(credentials);
    SendEmailResult result = sesClient.sendEmail(request);

    System.out.println(result);
} 
```

}

我也试图搜索这个罐子但没有得到。我不确定是否使用了错误的罐子。谁能告诉我是什么问题？

我是

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-06-22T07:06:32.320

从[javadocs](http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/conn/scheme/SchemeSocketFactory.html)中，`SchemeSocketFactory`该类仅从 4.1 版开始可用。所以这可能与您使用 4.0 alpha jar 的事实有关。尝试将您的 http-client 库升级到 4.1 或更高版本。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-22T07:06:18.487

从[javadoc](http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/conn/scheme/SchemeSocketFactory.html)看来，`org/apache/http/conn/scheme/SchemeSocketFactory`该类自 4.1 版本以来就存在。

因此，尝试将 httpclient jar 升级到至少 4.1 版本。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-05-26T12:18:29.593

如果您下载最新的 aws java SDK（我刚刚下载了 aws-java-sdk-1.9.3），

> 所需的库将位于第三方/**/lib 文件夹中。有一堆！

来自**jomofrodo**的这个答案需要更多的关注。搞定了。谢谢！

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-10T05:54:01.797

就我而言，我在 Netbeans 7.2 中创建了两个库：一个用于 Apache Commons Codec 1.6，另一个用于 Apache Commons HttpClient 4.2.2。在这种情况下，因为我为 HttpClient 制作的库也包含 Codec 1.6 jar，所以我遇到了同样的错误。

确保您的类路径中没有引用两个相同的库，或者同一个库的两个冲突版本。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-06-22T07:04:44.777

调试您的代码并指出异常发生的位置。我认为您使用的任何类实例都不包含在您的 jar 文件中。我不确定。通过调试找到。我认为 SchemeSocketFactory 在您的类路径中不存在。请检查

# crystal-reports - 如何使用 Crystal Reports 在一页中打印所有行

> ID：11151521
> 
> 赞同：0
> 
> 时间：2012-06-22T06:59:32.953
> 
> 标签：crystal-reports

我正在使用 Crystal Reports 2011。总的来说，我对 Crystal 报表和报告工具完全陌生。我刚刚将我的数据字段添加到详细信息部分，但不是在一页中显示所有行，而是为每一行创建一个新页面。我没有使用任何分组或更改部分分页设置。

这只发生在空白报告上，使用报告向导时它工作正常，但我看不出我所做的与报告向导所做的之间的区别。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T09:07:46.497

问题似乎与这些部分混淆了，我现在已经了解这些部分是如何工作的并让它发挥作用。谢谢您的帮助。

我有 2 个详细信息部分，因此对于 details1 中的每一行，它还显示了 details2 的信息（我只想出现一次）。所以我将details2的数据移到了报表页脚中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T09:12:23.947

确保未勾选“之后的新页面”和“之前的新页面”。此外，将部分大小调整到您需要的最小值。一般来说，听起来您有一个行数据，插入到页眉/页脚部分而不是详细信息部分，因此呈现在每个页面中......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T07:56:29.703

右键单击您的报告，然后转到 Section Expert 检查是否选中 Keep togather 或 New Page after or before in not check。

![在此处输入图像描述](../Images/639739e55e90147011d12a1d9b749d4f.png)

# intellij-idea - 如何在 IntelliJ Idea 中创建 OSGI 项目？

> ID：11151533
> 
> 赞同：5
> 
> 时间：2012-06-22T07:00:37.533
> 
> 标签：intellij-idea, osgi, directory-structure

我正在尝试在 IntelliJ Idea 上创建一个 OSGI 项目，但到目前为止还没有成功。我可以在创建 Java 项目后更改方面，但这不是我想要的。

在 Eclipse 中，当我创建项目（插件项目）时，我可以选择它作为 OSGI 项目，因此 IDE 可以帮助我创建所需的项目结构。

但在 IntelliJ Idea 中它不是——至少我找不到它——

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-23T09:00:20.027

看看[奥斯莫克](http://www.osmorc.org/)。它用于 Intellij 中的 OSGi 开发。如果您熟悉 Maven，则可以结合使用 Bnd Framework 和[maven-bundle-plugin](http://felix.apache.org/site/apache-felix-maven-bundle-plugin-bnd.html)。最后一个你独立于你正在使用的IDE

# java - 无初始上下文异常

> ID：11151539
> 
> 赞同：0
> 
> 时间：2012-06-22T07:01:08.000
> 
> 标签：java, tomcat, jdbc, database-connection, jndi

我有个问题。我想使用 JDBC 连接到数据库，我有 Tomcat 服务器。为此，我使用连接池。

根据我写的互联网教程：context.xml：

```
<?xml version="1.0" encoding="UTF-8"?>

<Context antiJARLocking="true" path="/Server" docBase="dbcp" debug="5"
         reloadable="true" crossContext="true">

    <Resource name="jdbc/TestDB" auth="Container"
          type="javax.sql.DataSource" removeAbandoned="true"
          removeAbandonedTimeout="30" maxActive="100"
          maxIdle="30" maxWait="10000" username="root"
          password="newpass"
          driverClassName="com.mysql.jdbc.Driver"
          url="jdbc:mysql://localhost:3306/delta_server"/>

</Context> 
```

网页.xml：

```
<resource-ref>
      <description>DB Connection Pooling</description>
      <res-ref-name>jdbc/TestDB</res-ref-name>
      <res-type>javax.sql.DataSource</res-type>
      <res-auth>Container</res-auth>
  </resource-ref> 
```

我尝试连接...

```
Connection conn=null;
DataSource ds;
Context initContext = new InitialContext();
Context envContext = (Context) initContext.lookup("java:comp/env");
ds = (DataSource) envContext.lookup("jdbc/TestDB");
conn = ds.getConnection(); 
```

但我得到一个错误： **javax.naming.NoInitialContextException：需要在环境或系统属性中指定类名，或者作为小程序参数，或者在应用程序资源文件中：java.naming.factory.initial**

该怎么办？？？

# html - 从浏览器底部取消附加页脚

> ID：11151540
> 
> 赞同：0
> 
> 时间：2012-06-22T07:01:16.717
> 
> 标签：html, css, alignment, positioning, footer

我很久以前编写了页脚，我可以弄清楚我做了什么将它附加到浏览器底部并停止页面滚动。我想要的是页脚位于#main div 下方，因此您必须向下滚动才能看到它。

我为我乱七八糟的代码和问这个乏味的问题道歉

阿兰，16

[http://dl.dropbox.com/u/13722201/Dorset%20Designs/home.html](http://dl.dropbox.com/u/13722201/Dorset%20Designs/home.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:08:30.123

要做两件事：

1.  从您的#footer 中删除“position:fixed”
2.  向其中添加“clear：both”

我认为这应该可行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:10:58.577

从您的元素中删除`position:fixed`和，因此页脚将是，`bottom: 0``#footer`

```
#header {
    height: 110px;
    width: auto;
} 
```

# javascript - Javascript拆分为将字符串拆分为两部分，而与字符串中存在的吐出字符数无关

> ID：11151542
> 
> 赞同：7
> 
> 时间：2012-06-22T07:01:25.130
> 
> 标签：javascript

我想使用 split 函数将 Javascript 中的字符串拆分为两部分。

例如我有字符串：

```
str='123&345&678&910' 
```

如果我使用 javascripts 拆分，它将它拆分为 4 个部分。但我只需要考虑它遇到的第一个“&”，它就需要分成两部分。

正如我们在 Perl 拆分中所做的那样，如果我使用如下：

```
($fir, $sec) = split(/&/,str,2) 
```

它将 str 分成两部分，但 javascript 只给了我：

```
str.split(/&/, 2);
fir=123
sec=345 
```

我希望 sec 是：

```
sec=345&678&910 
```

我怎么能在Javascript中做到这一点。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-22T07:04:08.857

```
var subStr = string.substring(string.indexOf('&') + 1); 
```

查看此类似问题以获取其他答案：

[仅在指定字符的第一个实例上拆分字符串](https://stackoverflow.com/questions/4607745/split-string-only-on-first-instance-of-specified-character)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-22T07:06:36.753

您可以使用`match`代替`split`：

```
str='123&345&678&910';
splited = str.match(/^([^&]*?)&(.*)$/);
splited.shift();
console.log(splited); 
```

输出：

```
["123", "345&678&910"] 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-22T07:10:40.823

`split`您可以使用以下技巧来保持角色：

```
var str='123&345&678&910',
    splitted = str.split( '&' ),
    // shift() removes the first item and returns it
    first = splitted.shift();

console.log( first ); // "123"
console.log( splitted.join( '&' ) ); // "345&678&910" 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-22T07:35:22.163

我写了这个函数：

```
function splitter(mystring, mysplitter) {
    var myreturn = [],
        myindexplusone = mystring.indexOf(mysplitter) + 1;

    if (myindexplusone) {
        myreturn[0] = mystring.split(mysplitter, 1)[0];
        myreturn[1] = mystring.substring(myindexplusone);
    }

    return myreturn;
}

var str = splitter("hello-world-this-is-a-test", "-");

console.log(str.join("<br>"));
//hello
//world-this-is-a-test​​​ 
```

输出将是一个空数组（不匹配）或具有 2 个元素的数组（拆分之前和之后的所有内容）

**[演示](http://jsfiddle.net/yMkJk/2/)**

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-22T07:51:42.893

我有这个：

```
var str='123&345&678&910';
str.split('&',1).concat( str.split('&').slice(1).join('&') );
//["123", "345&678&910"]

str.split('&',2).concat( str.split('&').slice(2).join('&') );
//["123", "345", "678&910"]; 
```

为了方便：

```
String.prototype.mySplit = function( sep, chunks) {
   chunks = chunks|=0 &&chunks>0?chunks-1:0;
   return this.split( sep, chunks )
              .concat( 
                  chunks?this.split( sep ).slice( chunks ).join( sep ):[]
               );
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-09-26T09:52:23.990

`split()`和的使用怎么样`replace()`？：

鉴于我们有那个字符串`str='123&345&678&910'`我们可以做

```
 var first = str.split("&",1); //gets the first word
    var second = str.replace(first[0]+"&", ""); //removes the first word and the ampersand 
```

> 请注意，它`split()`返回一个数组，这就是为什么**建议使用**`first[0]`获取索引的原因，但是，如果没有获取索引，它仍然可以根据需要工作，即。**`first+"&"`**

 **随意将“&”替换为您需要拆分的字符串。

希望这可以帮助 ：）**

# c++ - 获取 int 中的位数

> ID：11151548
> 
> 赞同：20
> 
> 时间：2012-06-22T07:01:56.343
> 
> 标签：c++, c

如何检测整数的长度？如果我有 le: int test(234567545);

我怎么知道 int 有多长？就像告诉我里面有9个数字？？？

*我试过了：**

```
char buffer_length[100];

    //  assign directly to a string.

    sprintf(buffer_length, "%d\n", 234567545);

    string sf = buffer_length;

    cout <<sf.length()-1 << endl; 
```

但必须有一种更简单或更干净的方法......

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-06-22T07:03:28.583

怎么划分：

```
int length = 1;
int x = 234567545;
while ( x /= 10 )
   length++; 
```

或使用 中的[`log10`](http://www.cplusplus.com/reference/clibrary/cmath/log10/)方法`<math.h>`。

**请注意**，`log10`返回 a `double`，因此您必须调整结果。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-06-22T07:05:28.347

做一个功能：

```
int count_numbers ( int num) {
   int count =0;
   while (num !=0) {   
      count++;  
      num/=10;
   } 
   return count;
} 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2017-02-06T08:56:51.603

似乎没有人提到将其转换为字符串，然后获取长度。不是性能最高的，但它绝对是在一行代码中完成的:)

```
int num = -123456;
int len = to_string(abs(num)).length();

cout << "LENGTH of " << num << " is " << len << endl;    
// prints "LENGTH of 123456 is 6" 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-06-22T07:20:33.083

您可以使用`stringstream`它，如下所示

```
stringstream ss;
int i = 234567545;
ss << i;
cout << ss.str().size() << endl; 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-06-22T07:18:28.840

如果“i”是整数，那么

```
int len ;

char buf[33] ;

itoa (i, buf, 10) ; // or maybe 16 if you want base-16 ?

len = strlen(buf) ;

if(i < 0)
    len-- ;    // maybe if you don't want to include "-" in length ? 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2012-06-22T07:21:41.683

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main() {

    int i=2384995;
    char buf[100];

    itoa(i, buf, 10); // 10 is the base decimal

    printf("Lenght: %d\n", strlen(buf));

    return 0;
} 
```

请注意 itoa 不是标准函数，即使许多编译器都支持它。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2017-02-26T10:12:35.503

len=1+floor(log10(n));//c++代码库(cmath)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-04-23T03:04:57.273

纵观互联网，通常会错误地将计数器变量初始化为 0，然后只要计数不等于 0，就进入前置条件循环测试。do-while 循环非常适合避免这种情况。

```
 unsigned udc(unsigned u) //unsigned digit count
    {
      unsigned c = 0;
      do
        ++c;
      while ((u /= 10) != 0);
      return c;
    } 
```

**在u** < **10的情况下，测试****u**是否小于**10**以避免不必要的除法、增量和 cmp 指令可能更便宜。

 ****但是在优化这个主题上，您可以简单地测试**u与****10**的恒定幂。

```
 unsigned udc(unsigned u) //unsigned digit count
    {
      if (u < 10)   return 1;
      if (u < 100)  return 2;
      if (u < 1000) return 3;
      //...
      return 0; //number was not supported
    } 
```

每个数字可以为您节省**3**条指令，但是除了不那么吸引人并且手工编写乏味之外，对于不同的基数的适应性较差，在这种情况下，您宁愿编写例程来编写例程，然后再将其插入程序。因为 C 只支持非常有限的数字，**64bit**，**32bit**，**16bit**，**8bit**，你可以简单地在生成例程时将自己限制在最大值以使所有大小受益。

要考虑负数，如果**u** < **0**在计算位数之前，您只需将**u****取反即可。** 当然首先使例程支持带**符号**的数字。

 ******如果您知道**u** < **1000**，那么只编写而不是编写例程可能更容易。

```
 if (u > 99) len = 3;
   else
   if (u > 9)  len = 2;
   else        len = 1; 
```**********

# iphone - 带有图像的自定义 UIButton

> ID：11151550
> 
> 赞同：3
> 
> 时间：2012-06-22T07:02:23.187
> 
> 标签：iphone, ios, uitableview, uibutton

我正在尝试设置单元格的附件视图，即`UIButton`. 但它没有显示。

这是代码

```
UIButton *accessory = [UIButton buttonWithType:UIButtonTypeCustom];
[accessory setImage:[UIImage imageNamed:@"plus.png"] forState:UIControlStateNormal];
[cell setAccessoryView:accessory]; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-22T07:06:10.103

调用`[accessory sizeToFit];`根据图像调整其大小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:08:12.663

你需要像这样为这个配件设置一个框架

```
UIButton *accessory = [UIButton buttonWithType:UIButtonTypeCustom];
[accessory setImage:[UIImage imageNamed:@"plus.png"] forState:UIControlStateNormal];
//Set the accessory frame
accessory.frame = CGRectMake(0, 0, 100, 100); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T07:09:54.317

```
UIView* accessoryView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 24, 50)];
UIImageView* accessoryViewImage = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"arrow.png"]];
accessoryViewImage.center = CGPointMake(12, 25);
[accessoryView addSubview:accessoryViewImage];
[cell setAccessoryView:accessoryView];
[accessoryViewImage release];
[accessoryView release]; 
```

就这样做。

# php - 圆立方模板定制

> ID：11151558
> 
> 赞同：0
> 
> 时间：2012-06-22T07:02:33.190
> 
> 标签：php, templates, themes, skin, roundcube

我正在自定义圆形立方体提供的默认主题。但是我在模板中添加图像时遇到了问题。该图像位于**mytheme内的****images**文件夹中。我想使用**img**标签添加该图像，但我不知道如何。

 ****我已经尝试过这些路径..它们都不起作用。
**/images/myimage.png**
**../images/myimage.png**
**http://local.mysite.com/images/myimage.png** 如何使用*img*标签插入驻留在我自己服务器上的图像？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-27T00:35:57.810

假设您的 webmail 安装在您的 url 的根目录（例如[http://mail.example.com/](http://mail.example.com/)），请尝试：

```
<img src="/skins/mytheme/images/myimage.png"> 
```****

# c# - Visual Studio 2010 中的“允许此预编译站点可更新”检查在哪里？

> ID：11151567
> 
> 赞同：5
> 
> 时间：2012-06-22T07:03:22.530
> 
> 标签：c#, asp.net, visual-studio-2010, msdeploy

我需要这样做[，](http://www.nathanblevins.com/2008/06/compile-a-web-user-control-into-a-dll-net-c/)但一步让我取消选中“允许此预编译站点可更新”选项，但我在 Visual Studio 2010 的发布网站对话框中看不到该选项。

有谁知道我如何在 Visual Studio 2010 上做到这一点？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-22T07:10:17.260

此选项适用于**ASP.Net 网站**项目而非**ASP.Net Web 应用程序**。右键单击解决方案资源管理器并选择添加新网站...反对您将获得该复选框

查看此[Web 应用程序项目与网站项目](http://msdn.microsoft.com/en-us/library/dd547590.aspx)，在差异摘要下，您将看到：

**汇编：**

*网络应用项目*

1.  您在用于开发或源代码控制的计算机上显式编译源代码。
2.  默认情况下，代码文件（不包括 .aspx 和 .ascx 文件）的编译会生成单个程序集。

*网站项目*

3.  源代码通常在安装或更新站点后第一次收到请求时由服务器上的 ASP.NET 动态（自动）编译。

4.  **您可以预编译站点（在开发计算机或服务器上预先编译）。**

5.  默认情况下，编译会生成多个程序集。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-07-11T02:44:59.683

对于**ASP.Net Web 应用程序**

1.  Web 应用程序属性
2.  打包/发布网络
3.  在发布前勾选预编译此应用程序
4.  转到高级选项
5.  选择不合并。为每个页面和控件创建单独的程序集

# git - 覆盖 Git 存储库中的符号链接文件，但符号链接标志仍然存在

> ID：11151568
> 
> 赞同：0
> 
> 时间：2012-06-22T07:03:25.230
> 
> 标签：git, symlink

我的 git repo 中有一些符号链接，我在两台机器（比如 A 和 B）上工作。两者都运行 Linux，但 B 通过 VirtualBox 运行，并且文件系统是从 Win7 主机系统共享的。因此，B 不支持符号链接。

在做一些关于 BI 的工作时，我意识到在我的情况下使用符号链接是一个坏主意。因此，在 BI 上复制了所有目标，以便它们覆盖“符号链接”。然后我会提交这个，将其推送到我的中央仓库，然后将其拉到 A 上。

问题出在 A 上，其中文件现在具有符号链接的权限，但具有文件的内容。例如，如果原始文件是包含“Lorem ipsum dolor sit amet ...”的文本文件，那么 A 上的符号链接现在将指向无意义的路径“Lorem ipsum dolor sat amet ...”，并且所有文件操作都会失败.

示例（首先，foo.png 是指向 ../bar.png 的符号链接，两者都在 repo 中）：

```
user@B> cat foo.png
../bar.png
user@B> cp ../bar.png ./foo.png
user@B> git add foo.png
user@B> git commit -m "Removed symlink"
user@B> git push 
```

...

```
user@A> git pull
user@A> ls -l foo.png
lrwxrwxrwx 1 user user 8 2012-06-22 15:13 foo.png -> ?PNG????
user@A> git status foo.png
# On branch master
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#   modified:   foo.png
# 
```

我想不出任何方法来从文件中删除符号链接标志或作为普通文件进行检出，我希望有人能提供帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T09:04:50.717

如果其他人有这个问题，我发现快速而肮脏（且明显）的解决方案是：

1.  删除 A 上的违规符号链接
2.  将相应的文件从 B 复制到 A。
3.  'git add' 文件
4.  提交并推送

当您暂存要提交的文件时，它们将被标记为

```
user@A> git status .
# [...]
#     typechange: foo.png 
```

# python - 在 Python 中拆分句子

> ID：11151572
> 
> 赞同：-1
> 
> 时间：2012-06-22T07:03:32.113
> 
> 标签：python, split

请输入字符串：Python 和 Perl 是编程语言

```
Python
Perl
and
are 
programming
languages 
```

我想要拆分输入，但大写单词在顶部。我正在考虑使用两个列表：一个带有标题大小写单词，一个带有较低的单词。我正在尝试使用 if 语句将单词放在某个列表中。请提出一些想法！

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T07:29:11.047

您的示例输出是错误的，因为它看起来像这样：

```
Perl
Python
and
are
languages
programming 
```

按大写优先排序会导致`Perl`上述结果，`Python`因为`e`先到先得。此外，因为大写首先出现，所以你可以简单地做

```
print "\n".join(sorted(a.split())) 
```

得到想要的结果。

**编辑：**重读问题后，我想出了这个修复/输出：

```
print "\n".join(sorted(a.split(), key=lambda x: x >= 'a')) 
```

*输出：*

```
Python
Perl
and
are
programming
languages 
```

*解释：* Python 中的排序函数是[stable](http://wiki.python.org/moin/HowTo/Sorting/#Sort_Stability_and_Complex_Sorts)的，这意味着如果元素具有相同的比较键，则它们的相对顺序会保持不变。key 函数将为`True`大于或等于的任何值`'a'`（即任何以小写字母开头的字符串）分配值，否则为`False`。`False`比较小于`True`，所以任何大写字母都被移到前面，而不改变大写或小写单词的顺序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T07:32:18.413

如果是作业，你应该给它一个标签“作业”。无论如何，使用两个列表的想法还不错。

1.  将两个列表初始化为空列表。
2.  使用字符串的方法拆分输入句子`.split()`以获取单词。
3.  在循环中直接使用拆分表达式`for`来处理提取的单词。
4.  如果`word`是字符串变量，那么`word[0]`是它的第一个字符。如果它小于或等于`'Z'`它是一个大写的单词，应该附加到想要的列表中。
5.  用于`'\n'.join(lst)`从单词列表中获取多行字符串。

# mysql - 使用用户定义函数 MySql 时出错

> ID：11151581
> 
> 赞同：2
> 
> 时间：2012-06-22T07:04:24.490
> 
> 标签：mysql, sql, phpmyadmin, levenshtein-distance

嗨，请帮我解决这个问题提前谢谢我在数据库中定义了这些函数

```
CREATE FUNCTION levenshtein( s1 VARCHAR(255), s2 VARCHAR(255) )
  RETURNS INT
  DETERMINISTIC
  BEGIN
    DECLARE s1_len, s2_len, i, j, c, c_temp, cost INT;
    DECLARE s1_char CHAR;
    -- max strlen=255
    DECLARE cv0, cv1 VARBINARY(256);
    SET s1_len = CHAR_LENGTH(s1), s2_len = CHAR_LENGTH(s2), cv1 = 0x00, j = 1, i = 1, c = 0;
    IF s1 = s2 THEN
      RETURN 0;
    ELSEIF s1_len = 0 THEN
      RETURN s2_len;
    ELSEIF s2_len = 0 THEN
      RETURN s1_len;
    ELSE
      WHILE j <= s2_len DO
        SET cv1 = CONCAT(cv1, UNHEX(HEX(j))), j = j + 1;
      END WHILE;
      WHILE i <= s1_len DO
        SET s1_char = SUBSTRING(s1, i, 1), c = i, cv0 = UNHEX(HEX(i)), j = 1;
        WHILE j <= s2_len DO
          SET c = c + 1;
          IF s1_char = SUBSTRING(s2, j, 1) THEN 
            SET cost = 0; ELSE SET cost = 1;
          END IF;
          SET c_temp = CONV(HEX(SUBSTRING(cv1, j, 1)), 16, 10) + cost;
          IF c > c_temp THEN SET c = c_temp; END IF;
            SET c_temp = CONV(HEX(SUBSTRING(cv1, j+1, 1)), 16, 10) + 1;
            IF c > c_temp THEN 
              SET c = c_temp; 
            END IF;
            SET cv0 = CONCAT(cv0, UNHEX(HEX(c))), j = j + 1;
        END WHILE;
        SET cv1 = cv0, i = i + 1;
      END WHILE;
    END IF;
    RETURN c;
  END; 
```

**和辅助功能**

```
CREATE FUNCTION levenshtein_ratio( s1 VARCHAR(255), s2 VARCHAR(255) )
  RETURNS INT
  DETERMINISTIC
  BEGIN
    DECLARE s1_len, s2_len, max_len INT;
    SET s1_len = LENGTH(s1), s2_len = LENGTH(s2);
    IF s1_len > s2_len THEN 
      SET max_len = s1_len; 
    ELSE 
      SET max_len = s2_len; 
    END IF;
    RETURN ROUND((1 - LEVENSHTEIN(s1, s2) / max_len) * 100);
  END; 
```

现在我正在尝试使用这些函数编写查询：

我的查询：

```
SELECT cevap
FROM `chat`
WHERE levenshtein_ratio( soru,"Hello" ) >80
LIMIT 1 ; 
```

**我的聊天表只有两列 Varchar(250) "soru" 和 "cevap"**

执行查询时出现以下错误

![在此处输入图像描述](../Images/a27fe1e6744ae8c3210ddec70de193f5.png)

![在此处输入图像描述](../Images/2961d29a0060ee6c2b73b6195fdca992.png)

# php - Php联系表格编码问题

> ID：11151584
> 
> 赞同：-1
> 
> 时间：2012-06-22T07:04:40.030
> 
> 标签：php, html, forms, contact

我的网站上有一个用 php 制作的联系表格。问题是它完美地发送英文字母但不支持俄文字母。所以，我需要更改编码，我该怎么做？

这是一个代码：

```
<div id="center">
    <p class="please">Please contact us using this form.</p>
    <div id="formbox">
        <?
            if (isset ($_POST['message'])) {
            $name = @ trim ($_POST['name']);
            $contact = @ trim ($_POST['contact']);
            $message = @ trim ($_POST['message']);
            if (! $name or ! $contact or ! $message) echo ('<p style="color: red">You should fill in all the blanks.</p>');
            else { mail ("support@myemail.com",
                  "Message from Giftosite (Sender: $name)",
                  "$message \n\n Reply to: \n $contact");
                  echo ('<p style="color: green">Message has been sent, thank you!</p>');
                  $_POST['name'] = $_POST['contact'] = $_POST['message'] = '';
            }
            }
            ?>
            <form method="POST" class="form">
            <p class="formcontent">Your name:</p>
            <input name="name" value="<?=@$_POST['name'];?>">
            <p class="formcontent">Your e-mail address:</p>
            <input name="contact" value="<?=@$_POST['contact'];?>">
            <p class="formcontent">Message:</p>
            <textarea name="message" rows="6" cols="36"><?=@$_POST['message'];?></textarea>
            <p><input type="submit" value=" Send "></p>
            </form>
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T07:09:24.140

在电子邮件中设置标题

```
$to      = 'nobody@example.com';
$subject = 'the subject';
$message = 'hello';
$headers = 'From: webmaster@example.com' . "\r\n" .
           'Content-type: text/html; charset=UTF-8;' . "\r\n" .
           'Reply-To: webmaster@example.com' . "\r\n" .
           'X-Mailer: PHP/' . phpversion();

mail($to, $subject, $message, $headers); 
```

所以，在你的代码而不是这个

```
mail ("support@myemail.com", $message from Giftosite (Sender: $name)", "$message \n\n Reply to: \n $contact"); 
```

你将会有

```
$headers = 'From: webmaster@example.com' . "\r\n" .
           'Content-type: text/html; charset=UTF-8;' . "\r\n" .
           'Reply-To: webmaster@example.com' . "\r\n" .
           'X-Mailer: PHP/' . phpversion();
mail ("support@myemail.com", $message from Giftosite (Sender: $name)", "$message \n\n Reply to: \n $contact", $headers); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:13:10.830

您需要在发送 Unicode 字符之前为您的电子邮件设置标题，试试这个

```
$header_ = 'MIME-Version: 1.0' . "\r\n" . 'Content-type: text/html; charset=UTF-8' . "\r\n";
mail ("support@myemail.com",
                  "Message from Giftosite (Sender: $name)",
                  "$message \n\n Reply to: \n $contact", $header_); 
```

# facebook-graph-api - 将视频发布到 Facebook 墙上

> ID：11151586
> 
> 赞同：-3
> 
> 时间：2012-06-22T07:04:50.577
> 
> 标签：facebook-graph-api, ios5

如何通过消息将录制的视频发布到 Facebook 墙上，请告诉我是否有可能将视频发布到 Facebook。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:48:24.300

请查看这篇文章：[How-To: Use the Graph API to Upload a Video (iOS)](https://developers.facebook.com/blog/post/532/)

```
- (void)fbDidLogin {
    NSString *filePath = [[NSBundle mainBundle] pathForResource:@"sample" ofType:@"mov"];
    NSData *videoData = [NSData dataWithContentsOfFile:filePath];
    NSMutableDictionary *params = [NSMutableDictionary dictionaryWithObjectsAndKeys:
                                   videoData, @"video.mov",
                                   @"video/quicktime", @"contentType",
                                   @"Video Test Title", @"title",
                                   @"Video Test Description", @"description",
                       nil];
    [facebook requestWithGraphPath:@"me/videos"
                         andParams:params
                     andHttpMethod:@"POST"
                       andDelegate:self];
} 
```

# google-maps - 谷歌地图停止显示地标图标

> ID：11151588
> 
> 赞同：0
> 
> 时间：2012-06-22T07:05:01.040
> 
> 标签：google-maps, google-maps-api-3

我正在用 kml 地标图标尝试一种非常奇怪的行为。

昨天发生[的 Gmaps 问题：巨大的图标呈现 KML 文件](https://stackoverflow.com/questions/11115696/gmaps-issue-huge-icons-rendering-kml-files)。这不是错误，但您可以在接受的答案中看到最新评论，我可以将 scale 属性设置为 1 或 1.0，因此我被迫将其设置为 1.1，但今天不再显示地标图标。

这发生在几个应用程序中，它们已经运行多年而没有出现任何问题，而我们没有进行任何更改。

[http://tripcaddy.es/mapa](http://tripcaddy.es/mapa)

[http://mapadesevilla.geographica.gs](http://mapadesevilla.geographica.gs)

[http://mirador.dipusevilla.es](http://mirador.dipusevilla.es)

有任何想法吗？

预先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:31:10.760

看起来 google 已经更改了`<IconStyle>`. 现在您必须指定颜色标签，如果您不指定颜色标签，它将被设置为“00000000”并且您将看不到图标，因为它是透明的。

我在哪里可以找到谷歌地图上 KML 的强制性标签及其默认值？我找不到它。

根据规模，今天正在与 1 合作。我们将看看明天会发生什么......

我希望这对某人有所帮助。

# c - Listbox of numbers

> ID：11151592
> 
> 赞同：0
> 
> 时间：2012-06-22T07:05:16.040
> 
> 标签：c, winapi, listbox

I use `SendMessage(hList, LB_SETITEMDATA, pos, (LPARAM) data );` for adding names to listbox. But How can I add numbers to a listbox?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:34:58.387

Try this

```
wsprintf( data, "%d", 10 ); 
```

# python - 用于 youtube 的 Python oauth

> ID：11151595
> 
> 赞同：1
> 
> 时间：2012-06-22T07:05:52.047
> 
> 标签：python, django, oauth, youtube

我正在尝试在我的网络应用程序中实现 youtube 认证用户的视频。使用 oauth 我想连接到 youtube api。这是我从 github 获取的代码，我现在正在使用[https://gist.github.com/2970845](https://gist.github.com/2970845)

我已经用该代码实现了**vimeo api 。**但我不知道 Youtube api。当我请求时显示此错误`request_token`

```
<Response [400]>    
>>>r.text
u'parameter_absent\noauth_parameters_absent:oauth_consumer_key&oauth_signature_method&oauth_signature&oauth_timestamp&oauth_nonce&scope\n\n' 
```

[这是来自 Youtube 参考页面https://developers.google.com/accounts/docs/OAuth_ref](https://developers.google.com/accounts/docs/OAuth_ref)的示例请求。

```
POST /accounts/OAuthGetRequestToken HTTP/1.1
Host: www.google.com
Content-Type: application/x-www-form-urlencoded
Authorization: OAuth
oauth_consumer_key="example.com",
oauth_signature_method="RSA-SHA1",
oauth_signature="wOJIO9A2W5mFwDgiDvZbTSMK%2FPY%3D",
oauth_timestamp="137131200",
oauth_nonce="4572616e48616d6d65724c61686176",
oauth_version="1.0"
oauth_callback="http://www.example.com/showcalendar.html"

scope="http://www.google.com/calendar/feeds http://picasaweb.google.com/data" 
```

我不确定的是我在 gist 页面中显示的标题。我有这样的

```
>>> headers
{'Authorization': u'oauth_body_hash=xxxxxxxxxxxxxxxxxxxxxxx,oauth_nonce=62215234,oauth_timestamp=1340347725,oauth_consumer_key=xxxxxxxxxxxx.apps.googleusercontent.com,oauth_signature_method=HMAC-SHA1,oauth_version=1.0,oauth_signature=xxxxxxxxxxxxxxxxxxxxxxxx,scope=https://gdata.youtube.com,oauth_callback=http://127.0.0.1:8000/information/youtube/'} 
```

但是 youtube 参考页面显示我们必须**使用 "Authorization: OAuth"**。我怎样才能在标题中给出它？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T22:46:01.020

如果你想给另一个客户端库一个机会（顺便包装请求），有[rauth](https://github.com/litl/rauth)。我没有适合您的 YouTube 示例，但如果您查看 GitHub 上的[现有示例](https://github.com/litl/rauth/tree/master/examples)，您可能可以按照它们的格式进行身份验证并针对 YouTube 的端点发出请求。

现在我意识到你可能无法使用另一个库有各种各样的原因，所以如果你不能使用，也没有什么难过的感觉。但我想把它作为一种选择。

# php - PHP 会话或 cookie

> ID：11151597
> 
> 赞同：14
> 
> 时间：2012-06-22T07:06:11.547
> 
> 标签：php, session, cookies, setcookie

让用户在关闭浏览器之前一直登录 PHP 驱动的网站的最佳方法是什么？

第一种也是最流行的方式是搭配`$_SESSION`。第二种是将零作为`setcookie`函数的第三个参数传递：`setcookie(name, value, 0, domain);`

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-06-22T07:12:59.107

由于 PHP session 实际上是通过 cookie 来存储 SID 的（当然你也可以使用其他方式来设置 SID，如果你喜欢的话），简单的使用它们并没有太大的区别。

主要区别在于安全性，因为如果您直接使用 cookie，客户端可以自己查看和/或编辑它们，但对于会话，数据存储在服务器端，因此客户端无法直接访问。

因此，如果数据仅持续该会话，我更喜欢使用会话。

旁注：如果您使用多个服务器来平衡负载，您应该非常小心，因为会话数据默认存储在服务器本地。可以跨多个服务器共享会话数据，但这[超出了这个问题的范围](https://stackoverflow.com/q/6490875/1386111 "如何在多个 apache 服务器上管理单个 PHP5 会话？")。或者，您可以将数据存储在数据库中。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-22T07:21:31.117

我建议你去参加 PHP 会议。它很简单，您不必自己处理 cookie。

下面是真正销毁会话的代码，复制粘贴自PHP 手册中给出的[示例。](http://us2.php.net/manual/en/function.session-destroy.php)

```
// Initialize the session.
// If you are using session_name("something"), don't forget it now!
session_start();

// Unset all of the session variables.
$_SESSION = array();

// If it's desired to kill the session, also delete the session cookie.
// Note: This will destroy the session, and not just the session data!
if (ini_get("session.use_cookies")) {
    $params = session_get_cookie_params();
    setcookie(session_name(), '', time() - 42000,
        $params["path"], $params["domain"],
        $params["secure"], $params["httponly"]
    );
}

// Finally, destroy the session.
session_destroy(); 
```

关于你的问题：

> 在用户关闭浏览器之前，最好使用什么来保持用户登录？

没有确定用户何时关闭浏览器的万无一失的方法。一种方法是不断地向服务器发送小的 AJAX 请求。当长时间没有看到请求时，销毁会话。

另一种方法是监听 DOM Window 卸载并向服务器发送请求以销毁会话。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-22T07:09:11.743

“会话不依赖于允许 cookie 的用户。相反，它们像令牌一样工作，允许在用户打开浏览器时访问和传递信息。会话的问题是，当您关闭浏览器时，会话也会丢失。所以，如果您有一个需要登录的站点，则不能像 cookie 那样将其保存为会话，并且用户每次访问时都将被迫重新登录。

您当然可以两全其美！一旦你知道它们各自的作用，你就可以结合使用 cookie 和会话来让你的网站完全按照你想要的方式工作。”

[http://php.about.com/od/learnphp/qt/session_cookie.htm](http://php.about.com/od/learnphp/qt/session_cookie.htm)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-06-22T07:29:28.903

你应该使用 $_SESSION

因为如果启用了 cookie，那么无论如何都会使用 cookie 作为 PHP 会话标识符。所以写另一个cookie并不是最佳的。

您想要使用 cookie 而不是 session 的唯一原因是您想要处理负载平衡。因此，如果您有 2 台服务器并且其中一台出现故障，则该服务器上的会话将丢失。现在登录的用户（在服务器 1 上有会话）将被要求再次登录。但如果他有一个 cookie，就不会要求他再次登录。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-06-22T08:28:06.213

每个域的 cookie 有限，您可以设置 20 个 cookie，每个域的最大大小为 4kb

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2012-06-22T07:08:23.070

会议就是为此目的，所以我会同意的。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-06-22T07:17:38.547

我会使用**$_SESSION**更容易。:P 无论如何，如上所述，决定你的情况..如果你需要在浏览器关闭后让用户保持登录一段时间，但要正确使用 cookie。它可能对您构成安全威胁！否则使用会话。

# wpf - 当我们拖动该控件时，如何在 xaml 中具有自定义控件的属性？

> ID：11151602
> 
> 赞同：0
> 
> 时间：2012-06-22T07:06:37.140
> 
> 标签：wpf, xaml

`TextBox`我已经为soem和一些简单的属性创建了一个自定义控件`DependencyProperties`，现在，当我将自定义控件从 ToolBox 拖到设计器时，我希望**在自定义控件中声明的属性默认出现在 XAML 中。**

有人知道吗？

期待快速回复。

萨米尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:36:35.243

当您从工具箱拖动到设计器时，我们可以默认将属性添加到控件中。

请参考下面的 msdn 文档..

[http://msdn.microsoft.com/en-us/library/bb907306(v=vs.90).aspx](http://msdn.microsoft.com/en-us/library/bb907306(v=vs.90).aspx)

我认为这将帮助您解决问题..

# django - 我可以为此模型使用 Django 的默认管理应用程序吗？

> ID：11151603
> 
> 赞同：1
> 
> 时间：2012-06-22T07:06:39.587
> 
> 标签：django, django-admin

我尝试使用 django 构建的应用程序模型的一部分基于三层结构，如下所示：

```
 class A(models.Model):
     name = models.TextField()

 class B(models.Model):
     related_A = models.ForeignKey(A)
     info = models.TextField()

 class C(models.Model):
     related_B = models.ForeignKey(B)
     other_infos = models.TextField() 
```

所以A是由一些B组成的，而B又是由一些C组成的。由于 Django admin 还不接受嵌套的内联表单，我认为理想的方法是使用这种工作流程：会有一个“管理页面”，它会给我一个点击链接，称为“添加这个 A" 的一些 Bs，并使用内联 C 表单为我提供一个带有 B 表单的页面。

有没有办法简单地从我没有看到的管理员网站上做到这一点，或者我应该考虑扩展管理员默认应用程序？

**一些澄清**

假设您对大陆、国家和地区进行统计。我的目标是有一个清晰的结构，将一个国家添加到一个大陆，将一个地区添加到一个国家。理想情况下，管理界面的用户不能“立即”添加 Country ；她或他需要浏览一个必须选择大陆的页面。理想情况下，大陆只有一个页面，包含一个内联形式的国家，每个表格都有一个内联形式的地区。

由于嵌套的内联表单似乎不是 Django 1.3 中的一个功能，我正在寻找一种在管理站点中具有某种“工作流程”的方法：用户将首先在第一个屏幕中单击“大陆”；然后它会显示一个大陆列表；点击一个大陆将显示与该大陆相关的国家列表；最后，用户可以编辑 Country 表单，显示一些内联区域表单以允许在同一页面上添加国家和地区。

我希望这个具体的例子更容易理解......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T13:07:11.893

最简单的方法是`Country`用作起点：在其表单页面中，您可以内联编辑`Region`以及强制员工从现有`Continent`的中选择或通过单击添加新的`+`。

您还可以修改`ModelAdmin`以打开`Country`页面并填充`pk`已保存的页面`Continent`，这更加困难。也检查[这个帖子](https://stackoverflow.com/questions/9919780/how-do-i-add-a-link-from-the-django-admin-page-of-one-object-to-the-admin-page-o)。

此外，可以模仿`ForeignKey`指向`A`in`C`和内联编辑`B`和`C`in `A`，就像这样`GenericForeignKey`做一样。但是，对于大多数用途来说，这很难而且矫枉过正......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:24:33.257

你可以使用 GenericForeginKey() 来解决限制问题。

参考[https://docs.djangoproject.com/en/dev/ref/contrib/contenttypes/](https://docs.djangoproject.com/en/dev/ref/contrib/contenttypes/)

# excel - HTML表格到Excel：写入特定单元格

> ID：11151604
> 
> 赞同：0
> 
> 时间：2012-06-22T07:06:41.960
> 
> 标签：excel, asp-classic

我正在尝试将 html 表数据导入到 excel 文件中并成功地这样做了：

```
<BODY>
<td><input type="text" name="txtVendorName" id="txtVendorName" value="weee"/></td>
</BODY>

<%
Response.ContentType = "application/vnd.ms-excel"
Response.AddHeader "Content-Disposition", "filename=excelfile.xls"
%> 
```

然而，仔细查看生成的文件后，我注意到这些值实际上并未写入任何单元格。

你会碰巧知道我如何“定位”单元格并给它们写信吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-26T11:53:17.807

那是因为您使用的是输入标签，只需在 td 中写入文本，如下所示：

```
<BODY>
<table>
<tr>
    <td>wee</td>
</tr>
</table>
</BODY>

<%
Response.ContentType = "application/vnd.ms-excel"
Response.AddHeader "Content-Disposition", "filename=excelfile.xls"
%> 
```

[另一种方法是像这里一样](http://support.microsoft.com/kb/326548/en-us)使用 Jet OLE DB Provider 4.0

# html - 自动登录未通过身份验证

> ID：11151605
> 
> 赞同：0
> 
> 时间：2012-06-22T07:06:50.623
> 
> 标签：html, login, web

我有一个用于工业目的的网络应用程序。它是一个现成的商业应用程序。当网络服务器在我自己的计算机上运行时，我可以使用下面的 html 代码成功地自动登录到网络应用程序：

```
<html>

<title>Login Page</title>

<body>

<form id="loginForm" method="post" name='login' action="http://localhost/_common/lvl5/main.jsp?wbs=527&operatorlocale=en" onsubmit="document.getElementById('pass').value = CJMaker.makeString(document.getElementById('pass').value);" >

<input id="nameInput" type="text" value="Administrator" name="name" size="25" maxlength="80" tabindex="1" style="width:175px;">

<input type="password" value="mhoto0606" id="pass" name="pass"  autocomplete="off" size="25" maxlength="80" tabindex="1" style="width:175px;  ">

</form> 

<script>
document.getElementById('loginForm').submit();
</script>

</body>
</html> 
```

但是当我尝试远程连接到网络应用程序时，它给了我错误，例如“登录未通过身份验证”。为此，我使用下面的代码。唯一的区别是“action”属性中指定的地址。这次我使用服务器的IP地址而不是“localhost”

```
<html>

<title>Login Page</title>

<body>

<form id="loginForm" method="post" name='login' action="http://###.##.##.##/_common/lvl5/main.jsp?wbs=527&operatorlocale=en" onsubmit="document.getElementById('pass').value = CJMaker.makeString(document.getElementById('pass').value);" >

<input id="nameInput" type="text" value="Administrator" name="name" size="25" maxlength="80" tabindex="1" style="width:175px;">

<input type="password" value="mhoto0606" id="pass" name="pass"  autocomplete="off" size="25" maxlength="80" tabindex="1" style="width:175px;  ">

</form> 

<script>
document.getElementById('loginForm').submit();
</script>

</body>
</html> 
```

此 Web 应用程序仅适用于 Internet Explorer。

我想不出解决办法。我热切地等待你的建议。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T13:38:59.573

您真的在 HTML 中存储凭据吗？你在安全方面犯了一个大错误。你不应该这样做。我希望你知道你在做什么！

# c++ - matlab和c ++中的精度差异

> ID：11151609
> 
> 赞同：10
> 
> 时间：2012-06-22T07:07:13.087
> 
> 标签：c++, matlab, floating-point, precision

我正在尝试对用 C++ 和 Matlab 编写的算法进行等价测试。该算法包含某种时间循环，运行次数超过 1000 次。它具有算术运算和一些数学函数。

我手动将初始输入提供给两个平台（如 a=1.767，b=6.65，...），当我检查这些输入的十六进制表示时，它们是相同的。所以输入没有问题。并通过 16 位十进制数字的文本文件将 c++ 的输出输出到 matlab。（我使用“setprecision（32）”语句）

但是问题来了；尽管在两个代码的第 614 步之后，所有结果都完全相同，但在 615 步上我得到了大约 2.xxx..xxe-19 的差异？在这一步之后，误差变得越来越大，在运行结束时它大约是 5.xx..xxe-14。

0x3ff1 3e42 a211 6cca--->[C++函数]--->0x3ff4 7619 7005 5a42

0x3ff1 3e42 a211 6cca--->[MATLAB函数]--->ans

答案 - 0x3ff4 7619 7005 5a42

= 2.xxx..xxe-19

我搜索了 matlab 如何处理数字，发现了非常有趣的东西，比如“非规范化尾数”。虽然 realmin 大约是 e-308，但通过对尾数进行非规范化，matlab 具有关于 e-324 的最小实数。此外，matlab 中“pi”或“exp(1)”的位数比 C++ 多得多。

另一方面，matlab help 说无论它显示什么格式，matlab 在内部都使用双精度。

所以，如果有人解释这些差异的确切原因是什么，我真的很感激？我们如何在 matlab 和 c++ 上进行等价测试？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-22T07:47:23.210

x86 CPU 中有关于浮点数的一件事。在内部，浮点单元使用 10 字节的寄存器，即 80 位。此外，CPU 有一个设置，它告诉浮点计算应该以 32 位 ( `float`)、64 位 ( `double`) 还是 80 位精度进行。较低的精度意味着更快地执行浮点运算。（32 位模式曾经在视频游戏中很流行，其中速度取代了精度）。

从这里我记得我在一个计算库（dll）中跟踪了一个错误，无论它是从测试 C++ 可执行文件还是从 MatLab 启动，给定相同的输入并没有给出相同的结果。此外，这在调试模式下没有发生，仅在发布！

最后的结论是 MatLab 确实将 CPU 浮点精度设置为 80 位，而我们的测试可执行文件没有（并保留默认的 64 位精度）。此外，这种计算不匹配不会发生在调试模式下，因为所有变量都被写入内存到 64 位`double`变量中，然后从那里重新加载，使额外的 16 位无效。在发布模式下，优化了一些变量（未写入内存），所有计算仅使用 80 位浮点寄存器完成，保持额外的 16 位非零值。

不知道这是否有帮助，但也许值得知道。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-23T05:18:35.070

之前发生过类似的[讨论](https://stackoverflow.com/q/7622012/97160)，结论是[IEEE 754](http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html#873)容忍超越函数（cos、sin、exp 等）的最后一位错误。因此，您不能期望 MATLAB 和 C 之间的结果完全相同（甚至不能在不同编译器中编译相同的 C 代码）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T21:12:53.053

我可能在这里偏离了轨道，您可能已经研究过这种可能性，但是您提到的数学库函数（sin() cos() 和 exp() 的方式可能在 C++ 和 Matlab 之间存在差异) 在内部实现。最终，必须使用某种函数近似来生成函数值，如果这些方法之间存在一些差异，那么这可能会在大量迭代中以数值舍入误差的形式表现出来。

这个问题基本上涵盖了我试图建议的内容[C 如何计算 sin() 和其他数学函数？](https://stackoverflow.com/questions/2284860/how-does-c-compute-sin-and-other-math-functions)

# cakephp - 如何在 CakePHP 中设置管理路由？

> ID：11151612
> 
> 赞同：2
> 
> 时间：2012-06-22T07:07:20.403
> 
> 标签：cakephp, cakephp-2.2

这段代码（[http://bin.cakephp.org/view/172084837](http://bin.cakephp.org/view/172084837)）被添加到 routes.php 以从“/admin/pages/add”连接到“/admin/posts/add”，但是发生了这个错误：找不到 PagesController。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T04:16:16.513

从 app/Config/core.php 启用管理区域

```
Routing.prefixes = array('admin', 'manager'); 
```

我希望这对你有用。

# android - phonegap Android跨域不工作

> ID：11151613
> 
> 赞同：4
> 
> 时间：2012-06-22T07:07:29.797
> 
> 标签：android, cordova, cross-domain-proxy

```
$('#loginForm').submit(function() {

        $("#loginsubmit",this).attr("disabled","disabled");
        var u = $("#loginemail", this).val();
        var p = $("#loginpassword", this).val();

        var postTo = 'http://www.example.com/login.php';

        if(u != '' && p!= '') {

        //navigator.notification.alert("not empty"+u, function() {});

                var apiurl = "http://www.mapyi.com/api/mapyi/client.php?"+"action=verlogin&pass="+p+"&email="+u;
                $.ajax({
                url: apiurl,
                dataType: 'jsonp',
                jsonp: 'jsoncallback',
                timeout: 5000,
                success: function(data){
                    navigator.notification.alert("not empty"+data);
                },
                error: function(msg){
                    navigator.notification.alert("ERROR"+msg);
                }
            });

        } /* end if u and p */

         //hide();
         //$('#homepage').show();
         return false;
     }); 
```

我在 phonegap.xml 添加了访问权限，还为 android 添加了更新 manifest.xml。php 响应在 json 中：

```
 /* PHP CODE SErver side */

/* output in necessary format JSON */

header('Content-type: application/json');
echo json_encode(array('posts'=>$ret)); 
```

我不知道我错过了什么，它总是显示带有输出 ERROR [object] [object] 的 ERROR 对话框

**已解决我自己解决了，我没有在 php 服务中添加标头信息。header('Access-Control-Allow-Origin: '.$_SERVER['HTTP_ORIGIN']); header('Cache-Control: no-cache, must-revalidate'); 感谢 CODER DECODER ENCODER 抽出宝贵时间**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T08:53:53.013

您的请求代码看起来很完美。我认为您错过了服务器端的 json 回调。像这样返回服务器数据，

```
echo $_GET['jsoncallback'] .json_encode(array('posts'=>$ret)); 
```

# collections - 从多个映射和键列表到映射中的键和对应值列表

> ID：11151614
> 
> 赞同：1
> 
> 时间：2012-06-22T07:07:36.283
> 
> 标签：collections, clojure

输入：

```
List of keys: [ :name :address :work]
Map 1: { :name "A" :address "A Street" }
Map 2: { :work "Work Ave" } 
```

输出：

```
([:name "A" nil] [:address "A Street" nil] [:work nil "Work Ave"]) 
```

这就是我目前所拥有的：

```
(defn maps-iterate [v & ms]
    (map (fn [k] (into [] [k #(map (k %) ms)])) v))

(println (maps-iterate [ :name :address :work ] { :name "A" :address "A Street"} { :work "Work Ave" })) 
```

这给了我：

```
([:name #<user$maps_iterate$fn__2$fn__3 user$maps_iterate$fn__2$fn__3@4b14b82b>] 
 [:address #<user$maps_iterate$fn__2$fn__3 user$maps_iterate$fn__2$fn__3@3d47358f>] 
 [:work #<user$maps_iterate$fn__2$fn__3 user$maps_iterate$fn__2$fn__3@e0d5eb7>]) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T07:21:06.573

尝试

```
(defn maps-iterate [v & ms]
    (map (fn [k] (into [] [k (map #(k %) ms)])) v)) 
```

甚至更好：

```
(defn maps-iterate [v & ms]
    (map (fn [k] (cons k (map k ms))) v)) 
```

注意：如果所有键都是关键字，那么您可以将它们用作函数：`(map k ms)`而不是`(map #(k %) ms)`. 如果它们不是，那么您不能将它们用作函数。你需要写`(map #(% k) ms)`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T07:56:45.807

这个怎么样？

```
(for [k ks]
  [k (map k [m1 m2])])
;;=> ([:name ("A" nil)] [:address ("A Street" nil)] [:work (nil "Work Ave")]) 
```

或者，如果您真的想要结果中的平面向量：

```
(for [k ks]
  (apply vector k 
         (map k [m1 m2])))
;;=> ([:name "A" nil] [:address "A Street" nil] [:work nil "Work Ave"]) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-22T08:25:37.743

```
user=> (def a { :name "A" :address "A Street" })
#'user/a
user=> (def b { :work "Work Ave" })
#'user/b
user=> (def c [ :name :address :work])
#'user/c
user=> (map #(vector %1 (%1 a) (%1 b)) c)
([:name "A" nil] [:address "A Street" nil] [:work nil "Work Ave"]) 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-22T07:23:20.020

以下 REPL 示例生成的输出不包含 nil 值：

```
user> (def map1 { :name "A" :address "A Street" })
#'user/map1
user> (def map2 { :work "Work Ave" })
#'user/map2
user> (seq (merge map1 map2))
([:work "Work Ave"] [:name "A"] [:address "A Street"]) 
```

# jquery - jQuery：无法弄清楚如何实现相等的列高脚本

> ID：11151617
> 
> 赞同：0
> 
> 时间：2012-06-22T07:07:50.590
> 
> 标签：jquery, html, jquery-plugins

只需进行一点编辑，以防万一碰巧发现此问题的人有所帮助。在我添加一些图像之前，给出的答案非常有效。我添加的图像没有设置宽度或高度，并且应用了 max-width 100% css，因此它们可以在流体网格内缩放。问题似乎是 chrome 没有将图像的高度添加到总列高中，因此列被渲染为短（减去图像高度）

更改代码行：

```
$(document).ready(function(){ 
```

到

$(窗口).load(函数() {

似乎可以解决问题。

------------原始问题----------------

我正在尝试实现我在[这里](http://www.broken-links.com/2009/01/20/very-quick-equal-height-columns-in-jquery/)遇到的这个 jquery 代码；我无法为我的生活弄清楚如何让它工作。

我在我的文档中包含了一个指向 jQuery 的链接，并尝试了各种选项，但我无法让它工作。

我的页面是 html5 2 列布局，2 列设置为 % 宽度并浮动。左栏的内容很长，所以我希望它们相等。

我猜我需要将类添加`unevenheights`到 div 中。我已将它添加到每一列并在包装器上尝试了它，但`div`没有运气。

我尝试将第一部分复制到一个单独的文件并保存为 .js，然后链接到该`$('div.unevenheights').setAllToMaxHeight()`部分并使用页面标题中标签内的部分，`<script>`但没有任何乐趣。

有人可以用初学者的术语解释我应该如何实现它吗？

```
$.fn.setAllToMaxHeight = function(){
return this.height( Math.max.apply(this, $.map( this , function(e){ return $(e).height() }) ) );
}

// usage: $('div.unevenheights').setAllToMaxHeight() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:18:24.910

a) 将您的呼叫包装在这样的`$(document).ready()`回调中：

```
$(document).ready(function(){
    $.fn.setAllToMaxHeight = function(){
        return this.height(Math.max.apply(this, $.map(this, function(e){
            return $(e).height()
        })));
    };

    $('div.unevenheights').setAllToMaxHeight();
}); 
```

[工作小提琴](http://jsfiddle.net/ZLLQa/)

b) 如果这不起作用，请在此处发布您的 html 和 js，或者——甚至更好——作为 jsFiddle。

# sql - 如何根据条件分隔字符串？

> ID：11151618
> 
> 赞同：2
> 
> 时间：2012-06-22T07:07:52.090
> 
> 标签：sql, sql-server, string, sql-server-2008, tsql

```
COMMSTR1-NAC-NAM-P-C FCPANAM1-NAC-NAM-P-C CHAZEL1-NAT-CBM-P-C 
```

我想将上面的字符串分隔为`(Required Output)`

```
col1       col2         col3     col4         col5    col6
COMMSTR1 NAC-NAM-P-C    FCPANAM1 NAC-NAM-P-C CHAZEL1 NAT-CBM-P-C 
```

我试过这个。

```
SELECT Contact_assg_list_src,
Contact_Assg_List_Src = 
(
case WHEN Contact_Assg_List_Src IS NOT NULL and Contact_Assg_List_Src <> ''
then left(Contact_Assg_List_Src,patindex('%[-]%',Contact_Assg_List_Src)-1)
ELSE Contact_Assg_List_Src
END),
(case WHEN Contact_Assg_List_Src IS NOT NULL and Contact_Assg_List_Src <> ''
then substring(Contact_Assg_List_Src,(Patindex('%[-]%',Contact_Assg_List_Src + ' ')-1),len(Contact_Assg_List_Src))
ELSE Contact_Assg_List_Src
END)
from dbo.FBMSRAW; 
```

这给了我这样的输出

```
col1            col2 
COMMSTR1      NAC-NAM-P-C FCPANAM1-NAC-NAM-P-C CHAZEL1-NAT-CBM-P-C 
```

如何检查字符串是否有空格，然后根据该空格分隔字符串**以获得所需的输出？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T08:25:45.180

我已经编写了以下脚本以满足您的需求，但是您自己需要添加更多逻辑，了解以下脚本

创建一个虚拟表

```
CREATE TABLE TBL_TEMPSTRINGS(STRCOL VARCHAR(200),COL1 VARCHAR(50),
COL2 VARCHAR(50),COL3 VARCHAR(50)) 
```

从表中插入值

```
INSERT INTO TBL_TEMPSTRINGS
SELECT Contact_assg_list_src From dbo.FBMSRAW 
```

创建一个存储过程来更新你的虚拟表列，它将你的表名放在一个字符串中（如果你使用过，为什么你可以用临时表名替换你的虚拟表）

```
CREATE PROC SP_SPLITWRODS(@TABLENAME VARCHAR(50),@COLCOUNT INT)
AS
BEGIN
    DECLARE @QRY VARCHAR(500)

    CREATE TABLE #TBL_TEMP(STRCOL VARCHAR(200))
    DECLARE @STRCOL VARCHAR(200)
    DECLARE @CURRINDEX INT
    DECLARE @TEMP INT
    DECLARE @COLINDEX INT 
    DECLARE @ROWID INT
    DECLARE @STRLEN INT
    DECLARE @TEMPVALUE VARCHAR(50)
    DECLARE @LASTWORD BIT 
    --CURSOR FOR YOUR TEMP TABLE
    DECLARE CUR_TEMP CURSOR LOCAL FOR SELECT STRCOL FROM #TBL_TEMP

    --CONSTRUCT QRY FOR FILLING YOUR TABLE
    SET @QRY='INSERT INTO #TBL_TEMP SELECT STRCOL FROM ' + @TABLENAME

    --FILL TABLE
    EXECUTE(@QRY)

    OPEN CUR_TEMP
    FETCH CUR_TEMP INTO @STRCOL
    WHILE @@FETCH_STATUS = 0
    BEGIN
        SET @CURRINDEX=1
        SET @COLINDEX=1
        SET @LASTWORD=0
        --GET ' ' INDEX
        SET @TEMP=CHARINDEX(' ',@STRCOL,@CURRINDEX)
        WHILE @TEMP > 0
        BEGIN
            --YOU WILL GET THE VALUE SEPERATED BY SPACE
            SET @TEMPVALUE=SUBSTRING(@STRCOL,@CURRINDEX,@TEMP-@CURRINDEX)

            --ADD MORE LOGIC TO UPDATE YOUR COLUMNS (YOUR EXTRA COLUMNS)

            --CONTRUCT QRY TO UPDATE CORRESPONDING COL IN YOUR TABLE FOR THE ROW FETCHED
            --THIS UPDATES ALL ROWS, YOU NEED TO ADD ONE WHERE CONDITION TO UPDATE THE ROW
            SET @QRY='UPDATE ' + @TABLENAME + ' SET COL' + CAST(@COLINDEX AS VARCHAR) + '=''' + @TEMPVALUE + ''''

            EXEC(@QRY)

            --INCREMENT COL INDEX AFTER UPDATE OF LAST COLUMN
            SET @COLINDEX=@COLINDEX+1

            SET @CURRINDEX=@TEMP+1

            SET @TEMP=CHARINDEX(' ',@STRCOL,@CURRINDEX)

            IF @TEMP=0 AND @LASTWORD=0
            BEGIN
                SET @TEMP=LEN(@STRCOL)+1
                SET @LASTWORD=1
            END
        END

        FETCH CUR_TEMP INTO @STRCOL
    END

    CLOSE CUR_TEMP

    DEALLOCATE CUR_TEMP

END 
```

执行你的过程

```
EXEC SP_SPLITWRODS 'TBL_TEMPSTRINGS',1 
```

查看您更新的虚拟表

```
SELECT * FROM TBL_TEMPSTRINGS 
```

目前它是更新由空格分隔的 3 列，您需要添加自己的逻辑以根据您收到的字符串更新列（以空格分隔）。

希望能帮助到你

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T08:48:33.357

首先是拆分文本的功能

```
create function [dbo].[f_split]
(
@param nvarchar(max), 
@delimiter char(1)
)
returns @t table (val nvarchar(max), seq int)
as
begin
set @param += @delimiter

;with a as
(
select cast(1 as bigint) f, charindex(@delimiter, @param) t, 1 seq
union all
select t + 1, charindex(@delimiter, @param, t + 1), seq + 1
from a
where charindex(@delimiter, @param, t + 1) > 0
)
insert @t
select substring(@param, f, t - f), seq from a
option (maxrecursion 0)
return
end
go 
```

查询以显示结果，假设最多有 6 个“单词”

```
declare @t table(txt nvarchar(500))

insert @t values ('COMMSTR1-NAC-NAM-P-C FCPANAM1-NAC-NAM-P-C CHAZEL1-NAT-CBM-P-C'),
('t1 t2 t3 t4 t5 t6')

select * from @t t
outer apply
(
select max(case when seq = 1 then val end) col1,
       max(case when seq = 2 then val end) col2,
       max(case when seq = 3 then val end) col3,
       max(case when seq = 4 then val end) col4,
       max(case when seq = 5 then val end) col5,
       max(case when seq = 6 then val end) col6
from dbo.f_split(t.txt, ' ')
) b 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T08:23:23.533

如果您想在 SQL Server 中高效地执行此操作，我建议您使用 CLR 函数。

但是如果你必须在 T-SQL 中做，这个函数会实现它（慢慢地，并且以越来越低效的方式）

```
 create function SplitString
    (
        @splitchar char(1),
        @string varchar(500),
        @index int
    )
    returns varchar(500)
    as
    begin

    declare @split int, @start int, @loop bit, @i int, @ret varchar(500)
        select @start = 0, @i = 0
        select @split = charindex(@splitchar, @string, 0) 

        if @index>0
            select @loop = 1
        else
            select @loop = 0

        while @loop = 1
        begin

            select @start = @split+1
            select @split = charindex(@splitchar, @string, @start+1)

            if @split = 0
            begin
                select @split = len(@string)+1
            end

            select @i = @i + 1
            if @i = @index
            begin
                select @loop = 0
            end

        end
        if @split>@start
            select @ret = substring(@string, @start, @split-@start)
        else
            select @ret = null

        return @ret
    end

    select dbo.SplitString (' ', 'COMMSTR1-NAC-NAM-P-C FCPANAM1-NAC-NAM-P-C CHAZEL1-NAT-CBM-P-C', [0 based column number]) 
```

# python - 有没有更好的方法来使用 python 代码从输出中提取数据

> ID：11151619
> 
> 赞同：1
> 
> 时间：2012-06-22T07:08:01.077
> 
> 标签：python

我正在编写一个新手 python 代码来查找安装在系统上的软件列表，我将从中运行代码。如果未安装该软件，我打算对用户说。

输出将是这样的： (dpkg -l)

```
A snippet below:
----------------

ii  git                                    1:1.7.9.5-1                             fast, scalable, distributed revision control system
ii  git-man                                1:1.7.9.5-1                             fast, scalable, distributed revision control system (manual pages)

c = subprocess.Popen(['dpkg','-l'],stdout=subprocess.PIPE,stderr=subprocess.PIPE)
list_of_packages,error = c.communicate()
for item in list_of_packages.split('\n'):
    print item.split('ii')[-1] 
```

哪个拆分，看起来我将不得不应用更多拆分才能获得所需的数据。git 和 1.7.9.5（版本名称）。

我只是想弄清楚是否有更好的方法来实现这一目标。

请指教..

谢谢，-维杰

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-22T07:16:13.433

正如您所观察到的，尝试解析人类可读的输出是脆弱的。幸运的是，您可以将其替换`dpkg -l`为`dpkg-query -W -f='${Package}\t${Version}\n'`旨在产生机器可读输出的。有关. [_](http://manpages.ubuntu.com/manpages/lucid/man1/dpkg-query.1.html) _`dpkg-query`

```
>>> args = ["dpkg-query", "-W", "-f=${Package}\t${Version}\n"]
>>> out, err = subprocess.Popen(args, stdout=subprocess.PIPE, stderr=subprocess.PIPE).communicate()
>>> print out #output is summarized, clearly
git     1:1.7.9.5-1
git-man 1:1.7.9.5-1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:15:58.670

`dpkg -l`输出不包含`ii`. 并且可能包含`ii`在他们的名字中的包。

我会这样做：

```
for item in list_of_packages.splitlines():
    if item.startswith('ii'):
        print item[4:] 
```

# html - CSS：居中没有特定宽度的固定菜单

> ID：11151620
> 
> 赞同：0
> 
> 时间：2012-06-22T07:08:08.690
> 
> 标签：html, css, menu

我一直在努力解决一些问题：将我的 CSS 菜单居中！我不知道该怎么做。我究竟做错了什么？

[http://jsfiddle.net/yfVs2/](http://jsfiddle.net/yfVs2/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T07:20:56.600

尝试这个

```
.menu {
    height: 80px;
    border: 1px solid rgba(255,255,255,0.3);
    position: fixed;
    top: -8px;
    left: 50%;
    margin-left: -200px; /* half of the .menu width if you don't know width delete this line */
} 
```

如果你不知道这个元素的宽度，你可以用 javascript/jquery 动态计算它。

```
$(document).ready(function() {
    var wdth = $('.menu').width();
    wdth = wdth/2;
    $('.menu').css('margin-left', -wdth);
}); 
```

这是工作示例[http://jsfiddle.net/yfVs2/11/](http://jsfiddle.net/yfVs2/11/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T07:52:27.810

您使用了固定位置。所以边距自动不适用于固定位置。您可以执行以下操作：

1.  拆下固定定位。包裹在一个 div 中并指定宽度 100%。
2.  为您设置宽度`ul`。如果你想让你`ul`随着增加而`li`增加，你可以将`ul`宽度设置为继承。
3.  如果您仍然无法做到，请发表评论，我会为您上传代码。但我相信你可以自己做。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T07:14:10.220

可能是因为你用过`float:left`。

# git - Git 流程是否会删除远程服务器上的分支？

> ID：11151623
> 
> 赞同：46
> 
> 时间：2012-06-22T07:08:15.037
> 
> 标签：git, git-flow

我正在使用 git 和**git flow**。这里 git flow 有一个`develop`分支。每当我需要启动功能时，我都会输入

```
git flow feature start new 
```

创建一个新分支`feature/new`。然后我进行更改**并**使用

```
git push origin feature/new 
```

提交更改后，我使用完成功能

```
git flow feature finish new 
```

它在本地**删除** `feature/new`分支。现在我**通过 git flow 切换到开发分支**，我再次输入

```
git push origin develop 
```

`develop`对远程服务器分支进行更改

如果我键入`git branch -a`，新分支会从本地删除，但它在服务器上，名称为`remotes/origin/feature/new`

**git flow 是否**会删除在我的本地计算机上删除的远程服务器上的分支？

如果我犯了一些错误，请告诉我。

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-06-22T07:46:24.647

查看[源代码](https://github.com/nvie/gitflow/blob/15aab26490facf285acef56cb5d61025eacb3a69/git-flow-feature#L352)似乎只有当您调用`git flow feature finish`时才会删除远程功能分支`-F`。

但是，这会在完成该功能之前获取遥控器。从[文档](https://github.com/nvie/gitflow/wiki/Command-Line-Arguments)：

> **-F**在完成之前从 $ORIGIN 获取

否则，您可以使用以下命令手动[删除远程分支：](http://git-scm.com/book/en/Git-Branching-Remote-Branches#Deleting-Remote-Branches)

```
git push origin :feature/new 
```

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2012-07-29T14:49:43.570

我可以建议使用 git-flow AVH 版。

就像 Stefan 说的，原版只在你使用时删除远程分支`-F`，这有点奇怪。AVH 版修复了这个古怪的行为，它总是会在完成时删除本地和远程功能分支，除非你指定

*   `--keep`，它保持本地和远程。
*   `--keeplocal`，保留本地，但删除远程。
*   `--keepremote`，它保留远程，但删除本地。

[你可以在github](http://goo.gl/9hGZ3)上找到 git-flow AVH 版本。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2015-08-25T19:35:25.000

我必须做的：

```
git flow feature delete -f name_feature 
```

如果功能分支内部有更改，则 -f 是必需的。

```
git push origin --delete feature/name_feature 
```

也就是删除远程分支。

# jquery - jquery：占换行符和空格的空选择器

> ID：11151624
> 
> 赞同：0
> 
> 时间：2012-06-22T07:08:22.357
> 
> 标签：jquery, jquery-selectors

## 问题：

如果元素中没有 DOM，我正在尝试触发`.click()`事件。`<ul></ul>`

这段代码背后的思考过程是，当用户点击`x`item 时向左滑动，然后是`.remove()`从 DOM 中。由于我精美的空白 HTML，它在`ul`静止中留下了换行符和间距。因此，我无法让`if()`语句正常运行。

即使通过使用`$.trim()`然后比较它仍然不会触发`.click()`事件。

## HTML 的图片

![在此处输入图像描述](../Images/102501fbc826061e00da7cd6e6c7fe82.png)

## HTML

```
 <div class="btn-group pull-right nav-notice">
      <span class="badge badge-info nav-notice-button">8</span>
      <div class="notice-container">
        <span class="notice-arrow"></span>
        <ul class="notice-container-list">
          <li><span class="label label-warning">Warning</span><span class="notice-message">Warning 12315125</span><i class="notice-remove icon-remove-circle"></i></li>
          <li><span class="label label-success">success</span><span class="notice-message">Warning 12315125</span><i class="notice-remove icon-remove-circle"></i></li>
          <li><span class="label label-important">important</span><span class="notice-message">Warning 12315125</span><i class="notice-remove icon-remove-circle"></i></li>
        </ul>
      </div>
    </div> 
```

## jQuery

```
//live(), looking for past/present DOM
$('.notice-remove').live( "click", function(){
    //no double dipping!
    $this = $(this);
    //Hide the x item, improves the animation a bit
    $this.hide();
    //animate the width of the li, to give it a slideoff effect
    //when the animate completes, remove the element from the DOM
    $this.parent('li').animate({
        width: "0"
    }, 'fast', '',
    function(){
        $(this).remove();
    });
    //get the html contents of the ul element
    var str = $('.notice-container-list').html();
    //trim the contents of the ul, and if they are exactly empty
    //fire the click event to close the container
    if( $.trim(str) === "" ){
        log('Closing the Notice');
        $('.nav-notice-button').click();
    }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:18:44.383

我怀疑它会以这种方式工作。看，在为它声明一些动画功能之后，您正在检查该元素。但是该函数不会立即被调用——这就是 animate() 的全部意义所在！反过来，这意味着当您检查`<ul>`内容时，它仍然不是空的。

请改用以下技术：`<ul>` *删除时* `<li>`检查剩余的元素数量；如果它们都没有，请删除它`<ul>`本身：

```
$this.parent('li').animate({
        width: "0"
    }, 'fast', '',
    function(){
        var $li = $(this);
        if (! $li.siblings().length) {
           $li.parent().remove();
        }
        else {
           $li.remove();
        }
    }); 
```

这是一个有效的[jsFiddle](http://jsfiddle.net/mtrbF/)（必须在里面放一些文字`<i></i>`，不能使用你的 css 图标）。出于同样的原因，我使用 simple`.parent().remove()`而不是触发`$('.nav-notice-button').click()`，因为我不知道该点击应该做什么。)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:17:35.270

简单地检查是否`.notice-container-list`有零个孩子而不是检查它的`.html()`?

# c++ - 使用 strcat 对内存的错误访问

> ID：11151626
> 
> 赞同：3
> 
> 时间：2012-06-22T07:08:23.233
> 
> 标签：c++, std, string-concatenation, cocos2d-x

我正在使用Linux。

我有一个函数叫做：

```
PlayBackgroundIntroMusic((char *)"IntroMusic");

```

功能是：

```
无效的声音管理器::
PlayBackgroundIntroMusic(char * musicFile)
{
        // 为每个平台连接扩展
        strcat（音乐文件，音频扩展）；
        CCLOG("musicFile: %c" musicFile);
  SimpleAudioEngine::sharedEngine()->playBackgroundMusic(std::string(CCFileUtils::fullPathFromRelativePath(musicFile)).c_str(), false);
}

```

但是我无法在线访问内存：

```
strcat（音乐文件，音频扩展）；

```

声明了 audioExtension：

```
＃包括
使用标准::字符串；
＃包括
使用 std::cout；使用 std::cerr；使用 std::endl；

/**
 * 为每个平台声明声音扩展
 * 安卓 = ogg
 * iOS = 咖啡馆
 * WIN32 = mp3
 */

#if (CC_TARGET_PLATFORM == CC_PLATFORM_WIN32)
        静态 const char * audioExtension = ".wav";
#elif (CC_TARGET_PLATFORM == CC_PLATFORM_IOS)
        静态 const char * audioExtension = ".caf";
#elif (CC_TARGET_PLATFORM == CC_PLATFORM_ANDROID)
        静态 const char * audioExtension = ".ogg";
＃万一

```

所以，我希望有：

```
iOS 上的 IntroMusic.caf
Android 上的 IntroMusic.ogg

```

发生了什么事？

注意：我试图：

```
char * musicFileWithExtension = strcat (musicFile,audioExtension);

```

但它无论如何都没有用。

musicFile 不是一个常数。如果文件名太长，我不想声明 tempchar[80] 以避免溢出，例如[示例 cc 参考](http://www.cplusplus.com/reference/clibrary/cstring/strcat/)

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-22T07:17:53.053

字符串文字，例如`"IntroMusic"`可以`const char[N]`隐式转换为`const char *`. 由于语言设计中的错误，它也可以转换为`char*`，但这种转换在 C++ 中被正确弃用，因此发出警告。您需要使用数组（动态或静态分配），而不是字符串文字。

或者更好的是，使用`std::string`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-22T07:20:15.537

首先，“IntroMusic”是常量。

从 const 值中删除 const-ness 并对其进行修改是**未定义的行为**。任何事情都可能发生，你很幸运能立即得到崩溃。

此外，为“IntroMusic”分配的内存正好是字符的 10 个字节加上一个定界符`\0`，所以总共 11 个字节。时期。现在，除了你试图强制修改一个`const`值之外，你甚至写入未分配的内存（至少，不是你为了写入而分配的）：你只需尝试将依赖于平台的文件扩展名写入内存在“介绍音乐”之后。

您有责任为您的操作提供足够大的缓冲区。

**简单的解决方案**（因为您标记了问题`c++`，而不是`c`：使用`std::string`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-22T07:18:04.530

查看 strcat 文档。它正在将目标字符串添加到源字符串。在您的情况下，源字符串是“musicFile”，因此它不应该是恒定的并且应该有足够的长度。

如果函数是这样调用的：

```
PlayBackgroundIntroMusic((char *)"IntroMusic"); 
```

那么 musicFile == "IntroMusic" 是常量，不能被覆盖。

# node.js - 在 node/express + ejs 中将对象传递给客户端？

> ID：11151632
> 
> 赞同：35
> 
> 时间：2012-06-22T07:08:47.360
> 
> 标签：node.js, express, ejs

我有一个非常大的对象，我需要将它传递给客户端脚本中的函数。我曾尝试使用 JSON.stringify，但在使用这种方法时遇到了一些问题——主要与性能有关。可以在 ejs 中做这样的事情吗？

```
app.get('/load', function(req, res) {
    var data = {
        layout:'interview/load',
        locals: {
            interview: '',
            data: someLargeObj
        }
    };
    res.render('load', data);
}); 
```

在我的客户端脚本中，我会将此对象传递给这样的函数

```
<script type="text/javascript">
    load(<%- data %>); // load is a function in a client script
</script> 
```

当我尝试这个时，我得到

```
<script type="text/javascript">
    load();
</script> 
```

或者

```
<script type="text/javascript">
    load([Object object]);
</script> 
```

* * *

## 回答 #1

> 赞同：87
> 
> 时间：2013-08-07T14:54:16.857

在 Node.js 中：

`res.render('mytemplate', {data: myobject});`

在 EJS 中：

```
<script type='text/javascript'>
  var rows =<%-JSON.stringify(data)%>
</script> 
```

**安全注意事项**：不要使用它来渲染带有用户提供数据的对象。像[Little Bobby Tables](https://xkcd.com/327/)这样的人可能会包含一个子字符串，它会破坏 JSON 字符串并启动一个可执行标签或类似的东西。例如，在 Node.js 中，这看起来很无辜......

```
var data = {"color": client.favorite_color} 
```

但如果用户输入以下颜色，可能会导致客户端提供的脚本在用户的浏览器中执行：

```
"titanium </script><script>alert('pwnd!')</script> oxide" 
```

如果您需要包含用户提供的内容，请参阅[https://stackoverflow.com/a/37920555/645715](https://stackoverflow.com/a/37920555/645715)以获得使用 Base64 编码的更好答案

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-06-22T07:18:02.443

这是预期的行为。您的模板引擎正在尝试从您的对象创建一个字符串，该字符串导致 [Object object]。如果你真的想传递这样的数据，我认为你通过字符串化对象做了正确的事情。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2017-12-06T15:46:31.943

如果您正在使用模板，那么获取模板中的值会更好，例如用户是否登录。您可以使用以下方式获取发送本地数据

```
<script>
    window.user = <%- JSON.stringify(user || null) %>
</script> 
```

从服务器端代码，您正在发送用户数据。

```
res.render('profile', {
    user: user.loggedin,
    title: "Title of page"
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-11-10T08:46:30.290

认为将对象传递给 ejs 时有更好的方法，您不必处理 JSON.stringfy 和 JSON.parse 方法，这些方法有点棘手和混乱。相反，您可以使用 for in 循环来遍历对象的键，例如：

如果你有一个像这样的层次结构的对象

```
{
    "index": {
        "url": "/",
        "path_to_layout": "views/index.ejs",
        "path_to_data": [
            "data/global.json",
            {
                "data/meta.json": "default"
            }
        ]
    },
    "home": {
        "url": "/home",
        "path_to_layout": "views/home/index.ejs",
        "path_to_data": [
            "data/global.json",
            {
                "data/meta.json": "home"
            }
        ]
    },
    "about": {
        "url": "/about",
        "path_to_layout": "views/default.ejs",
        "path_to_data": [
            "data/global.json",
            {
                "data/meta.json": "about"
            }
        ]
    }
} 
```

在 EJS 方面，您可以像这样循环 yourObject；

```
<% if ( locals.yourObject) { %>
  <% for(key in yourObject) { %>
    <% if(yourObject.hasOwnProperty(key)) { %>
      <div> <a class="pagelist" href="<%= yourObject[key]['subkey'] %>"><%= key %></a></div>
    <% } %>
  <% } %>
<% } %> 
```

对于此示例，[key] 可以采用 'index'、'home' 和 'about' 值，并且 subkey 可以是它的任何子项，例如 'url'、'path_to_layout'、'path_to_data'

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2018-09-12T04:58:14.523

你得到的是这样的结果 [{'re': 'tg'}]

你实际上需要循环它。请参阅 javascript while 循环 [https://www.w3schools.com/js/js_loop_while.asp](https://www.w3schools.com/js/js_loop_while.asp)

然后，用 ejs 在你的前端渲染它......我无能为力，我使用 hbs

# java - @sign 有什么作用？

> ID：11151633
> 
> 赞同：9
> 
> 时间：2012-06-22T07:08:50.857
> 
> 标签：java, groovy

我在 Groovy 文件中看到了 at (@) 符号，但我不知道它是 Groovy 还是 Java 的东西。我曾尝试在 Google、Bing 和 DuckDuckGo 上搜索标志的奥秘，但我没有找到任何东西。谁能给我一个资源来了解更多关于这个运营商的工作？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-22T07:10:42.710

这是一个 Java[注释](http://en.wikipedia.org/wiki/Java_annotation)。在该链接上阅读更多内容。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-22T08:04:27.090

除了作为注释的标志外，它还是[Groovy 字段运算符](http://groovy.codehaus.org/Operators#Operators-Javafield)

在 Groovy 中，调用`object.field`会调用`getField`方法（如果存在）。如果您实际上想要直接引用该字段本身，请使用`@`，即：

```
class Test {
  String name = 'tim'

  String getName() {
    "Name: $name"
  }
}

def t = new Test()
println t.name   // prints "Name: tim"
println t.@name  // prints "tim" 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-22T18:57:08.867

它还可以用于在使用 Groovy 的 XmlSlurper 解析 XML 时访问属性：

```
def xml = '''<results><result index="1"/></results>'''
def results = new XmlSlurper().parseText(xml)
def index = results.result[0].@index.text() // prints "1" 
```

[http://groovy.codehaus.org/Reading+XML+using+Groovy's+XmlSlurper](http://groovy.codehaus.org/Reading+XML+using+Groovy%27s+XmlSlurper%20%22Reading%20XML%20using%20Groovy%27s%20XMLSlurper)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-22T07:12:59.623

**'@' 是 java/Groovy 中的注解**看演示：[示例代码](http://groovy.codehaus.org/Annotations+with+Groovy)

Java 5 及更高版本支持使用注释**在程序中包含元数据。**Groovy 1.1 及更高版本也支持此类注解。

*   注释用于为工具和库提供信息。

*   它们允许以声明式的方式提供元数据信息，并允许将其直接存储在源代码中。

*   此类信息将需要以其他方式使用非声明性方式或使用外部文件来提供。

# sql-server - SA用户如何设置密码

> ID：11151635
> 
> 赞同：1
> 
> 时间：2012-06-22T07:09:00.777
> 
> 标签：sql-server, sql-server-2008, sql-server-2008-r2

我的 Windows 帐户对本地 SQL 实例具有管理员权限。我可以将密码更改为`SA`用户，但是当我尝试使用`SA`SQL Server 身份验证模式登录时，它给了我错误。我正在尝试访问本地数据库。

有人可以帮我设置密码并使用SQL身份验证模式登录到本地SQL吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T07:19:36.007

设置 sa 密码

在对象资源管理器中，连接到数据库引擎实例。

在标准栏上，单击新建查询。

将以下示例复制并粘贴到查询窗口中，然后单击执行。以下示例启用 sa 登录并设置新密码。

```
ALTER LOGIN sa WITH PASSWORD = '<enterStrongPasswordHere>' ;
GO 
```

检查这个链接

[http://blog.sqlauthority.com/2007/12/29/sql-server-change-password-of-sa-login-using-management-studio/](http://blog.sqlauthority.com/2007/12/29/sql-server-change-password-of-sa-login-using-management-studio/)

# cuda - GPGPU - CUDA：全球存储效率

> ID：11151645
> 
> 赞同：3
> 
> 时间：2012-06-22T07:09:35.440
> 
> 标签：cuda, gpgpu, coalescing

我正在尝试根据 NVidia 分析器的“**全局存储效率**”值（我在 Fermi GPU 上使用 CUDA 5 工具包预览版）来确定我的一个内核的全局内存**写入**访问的合并程度。

 **据我了解，该值是请求的内存事务与实际执行的事务 nb 的比率，因此反映了访问是否全部完美合并（100% 效率）。

现在，对于 32 的线程块宽度，并将浮点值作为输入和输出，以下测试内核为全局加载和全局存储提供了 100% 的效率，正如预期的那样：

```
__global__ void dummyKernel(float*output,float* input,size_t pitch)
{
  unsigned int x = blockIdx.x * blockDim.x + threadIdx.x;
  unsigned int y = blockIdx.y * blockDim.y + threadIdx.y;
  int offset = y*pitch+x;
  float tmp = input[offset];
  output[offset] = tmp;
} 
```

我不明白为什么当我开始在输入读取和输出写入之间添加有用的代码时，全局存储效率开始下降，而我没有改变内存写入模式或线程块几何？不过，正如我所料，全球*负载保持在 100%。*

有人可以解释一下为什么会发生这种情况吗？我想，由于给定 warp 中的所有 32 个线程同时执行输出存储指令（根据定义）并使用“合并友好”模式，我仍然应该得到 100% 之前所做的任何事情，但显然我一定是误解了一些事情要么是全局存储效率的含义，要么是全局存储合并的条件。

谢谢，

编辑 ：

这是一个例子：如果我使用这段代码（只是在输入上添加一个“round”操作），全局存储效率从 100% 下降到 95%

```
__global__ void dummyKernel(float*output,float* input,size_t pitch)
{
  unsigned int x = blockIdx.x * blockDim.x + threadIdx.x;
  unsigned int y = blockIdx.y * blockDim.y + threadIdx.y;
  int offset = y*pitch+x;
  float tmp = round(input[offset]);
  output[offset] = tmp;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T09:55:35.027

好吧，真丢脸，我发现了问题：我在调试模式下分析这个简单的测试代码，它为大多数指标提供了完全疯狂的数字。在发布模式下重新分析给了我预期的结果：两种情况下的存储效率都是 100%。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-28T15:11:52.027

不确定是否是这种情况，但 round 可能会将其参数转换为双精度，并且如果存在寄存器溢出，则每个线程将访问 8 个字节的内存，然后将其强制转换为 4 个字节的 tmp。访问 8 个字节会将合并减少到半扭曲。

但是，我认为不应该发生寄存器溢出，因为内核中的局部变量数量很少。您可以使用 nvcc --ptxas-options=-v 检查是否有泄漏。**

# php - 是否可以获得通过 PHP 发送的邮件的 Exim 的 msgid？

> ID：11151651
> 
> 赞同：1
> 
> 时间：2012-06-22T07:09:56.970
> 
> 标签：php, email, smtp, exim

我正在使用 PHPMailer 发送电子邮件并将邮件详细信息保存到数据库中。我想使用 Exim stats 的日志来查看交付是否有问题。Exim stats 有一个 mysql 数据库，其中包含通过 SMTP 发送的所有外发邮件的日志，但我需要消息 ID (msgid) 才能将日志条目连接到我的电子邮件表。

有任何想法吗？我可以在发送邮件后获取mailid / 或在发送前手动设置它吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:31:12.630

> 我正在使用 PHPMailer 发送电子邮件并将邮件详细信息保存到数据库中。我想使用 Exim stats 的日志来查看交付是否有问题。Exim stats 有一个 mysql 数据库，其中包含通过 SMTP 发送的所有外发邮件的日志，但我需要消息 ID (msgid) 才能将日志条目连接到我的电子邮件表。

这完全取决于您发送电子邮件的方式；我不认为使用 PHP 的本机[mail](http://php.net/mail) () 函数可以做到这一点，但您可以使用更复杂的库（例如[SwiftMailer](http://swiftmailer.org/docs/introduction.html) ）来做到这一点。SwiftMailer 确实提供了一个 getId() 方法，它似乎可以满足您的需求。

此外，当您使用 Swift 的 SMTP 传输时，您可以看到 SMTP 会话中发生了什么；如果会话本身失败，这是可见的。

# javascript - 关于 Backbone.js 和 Django 的困惑

> ID：11151657
> 
> 赞同：0
> 
> 时间：2012-06-22T07:10:25.113
> 
> 标签：javascript, django, rest, backbone.js, tastypie

我正在尝试将 Backbone.js 用于我的 Django 项目，这很令人困惑。所以据我了解，我需要`tastypie`使用 Django 的 RESTful API，我是新手，所以例如我有一个`SongResource`类似的跟随：

```
class SongResource(ModelResource):
    class Meta:
        queryset = Song.objects.all()
        authorization = Authorization() 
```

它所做的只是获取我在数据库中所有歌曲的列表，对吗？据我了解，我应该在 Backbone.js 路由器中使用它来获取所有歌曲，然后在我的 JS 代码而不是 Django 的视图中进行所有数据操作？那么如果我想获取登录用户购买的所有歌曲，我应该从Django获取所有歌曲，并在JS代码中搜索用户的歌曲？另外，例如，如果我想保存用户听过的歌曲，我习惯于通过向保存操作的视图发送 Ajax 请求来做到这一点。

另一件事是，假设我的 Django 应用程序中有五个模型，我是否也应该在 Backbone.js 中创建给定模型？所以在 Backbone.js 中，我只是从 Django 获取数据并在前端操作它们，而不是像我习惯的那样使用 Django 视图？

如果您能看到我的困惑，请指导我阅读一些文章、教程、视频等！

非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T11:02:28.210

你肯定必须在 Django 端进行过滤:) 我对美味派一无所知，但是作为当前（登录）用户，你在 django 会话中拥有它，因此你不能依赖`Meta.queryset`，而是每个请求的查询集都会更改。您可能需要覆盖一些视图方法。

在保存听过的歌曲时，您首先决定何时执行此操作（歌曲开始或结束），并且在该事件时您的`save()`某个`Listening`（主干）模型将触发 XHR 请求（请参阅 参考资料`Backbone.sync`）。

是的，如果你在客户端使用它们，你应该为你的 Django 模型建立对应的 Backbone 模型。又见`Backbone.sync`

# extjs - Extjs：警报消息框位置

> ID：11151658
> 
> 赞同：2
> 
> 时间：2012-06-22T07:10:26.437
> 
> 标签：extjs, messagebox

我在我的应用程序中使用 Extjs 消息框。当消息框出现在屏幕上时，它出现在中心，但是当我最小化我的窗口并再次最大化它时，消息框会移动到左上角的位置。如何修复 Extjs 中消息提示框的位置。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T17:07:00.963

`Ext.MessageBox.center()`将消息框放回屏幕中央。您可以`windowresize`在调整大小后插入一个使其居中的侦听器。

# php - 通过编码合并两个视频

> ID：11151659
> 
> 赞同：0
> 
> 时间：2012-06-22T07:10:26.567
> 
> 标签：php, html, codeigniter-2

我正在用 Codeigniter、PHP 和 HTML5 开发一个网站。

在我的项目中，我想合并两个视频，即第一个视频画布的大小将更大，第二个视频画布将小于第一个视频画布，并将出现在左下角的第一个视频上方。

是否有任何解决方案可以通过编码或简单地使用 HTML5 来合并两个视频？

请指导我。

对不起我的英语，如果你明白我的意思，或者因为我的英语不好而难以理解，请告诉我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:25:04.153

如果这是一个水印，您可能希望将其嵌入到视频中。有很多 CLI 水印工具可以帮助您。

我不认为你可以在 HTML5 中做到这一点，因为视频通常不支持透明度。

# encryption - 32 位或 64 位 CPU 如何对大数进行算术运算？

> ID：11151660
> 
> 赞同：1
> 
> 时间：2012-06-22T07:10:30.963
> 
> 标签：encryption, cpu-architecture

用 128bit 的密钥加解密意味着不能将密钥存储在 long int 变量中。那么究竟什么算术运算可以用这个键来完成。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T08:16:43.670

让我反问你一个问题：如果你只有你的大脑、笔和纸，你如何乘法或除法——而且这个数字比你可以直接用你的大脑计算的要大？

您用于笔和纸数学的相同方案可以应用于比 CPU 寄存器长的数字。

对于某些加密算法，还有优化和专门的数学运算，例如RSA 的[蒙哥马利乘法](http://www.mersennewiki.org/index.php/Montgomery_multiplication)

# android - 定义高度时显示的 Android 单选按钮滚动条

> ID：11151661
> 
> 赞同：0
> 
> 时间：2012-06-22T07:10:34.103
> 
> 标签：android, radio-button

在里面`ScrollView`我有一个 LinearLayout ，它又持有一个`RadioButtonGroup`with `RadioButtons`。我已经创建了一个带有自定义可绘制（小尺寸单选按钮）的 RadioButton，就像在第一张图片中一样，我得到滚动条。

我试图通过以下代码减小布局大小

```
LinearLayout.LayoutParams radio = new LinearLayout.LayoutParams( 50, 50); 
```

但我仍然得到滚动条，如何删除滚动条。

![在此处输入图像描述](../Images/e1032d1fafc5cb8b4009058cf85cd8cf.png)

```
 ScrollView outerScroll = new ScrollView(this);

        LinearLayout.LayoutParams outerScrollLP = new LinearLayout.LayoutParams( 
                LinearLayout.LayoutParams.FILL_PARENT, 
                LinearLayout.LayoutParams.WRAP_CONTENT);                

        outerScroll.setLayoutParams(outerScrollLP);

        LinearLayout outerLL = new LinearLayout(this);

        LinearLayout.LayoutParams outerLLLP = new LinearLayout.LayoutParams( 
                LinearLayout.LayoutParams.FILL_PARENT, 
                LinearLayout.LayoutParams.WRAP_CONTENT);            

        outerLL.setLayoutParams(outerLLLP);

        outerLL.setOrientation(LinearLayout.VERTICAL);      
        //outerLL.setScrollBarStyle(LinearLayout.SCROLLBARS_OUTSIDE_OVERLAY);
        outerLL.setBackgroundResource(R.drawable.bg);
        //outerLL.setBackgroundColor(Color.RED);

        for (QuestionModol que : queBL.getQuestion(1)) {
            try {

                LinearLayout quesLL = new LinearLayout(this);
                LinearLayout.LayoutParams quesLP = new LinearLayout.LayoutParams( 
                        LinearLayout.LayoutParams.FILL_PARENT, 
                        LinearLayout.LayoutParams.WRAP_CONTENT); 
                quesLP.setMargins(30, 10, 30, 5);
                //quesLL.setPadding(50, 30, 50, 10);
                quesLL.setLayoutParams(quesLP);
                quesLL.setOrientation(LinearLayout.VERTICAL);
                quesLL.setBackgroundResource(R.drawable.question_wrap);

                TextView queTV = new TextView(this);
                LinearLayout.LayoutParams queTVLP = new LinearLayout.LayoutParams( 
                        LinearLayout.LayoutParams.FILL_PARENT, 
                        LinearLayout.LayoutParams.WRAP_CONTENT); 
                queTVLP.setMargins(10, 10, 10, 10); 
                queTV.setLayoutParams(queTVLP);
                queTV.setPadding(10, 10, 10, 10);
                queTV.setBackgroundColor(Color.BLUE);
                queTV.setTextSize(TypedValue.COMPLEX_UNIT_SP, 15);
                queTV.setBackgroundResource(R.drawable.questiontext);

                queTV.setText(que.getQuestion());
                queTV.setTextColor(Color.WHITE);                    

                quesLL.addView(queTV);

                // Create Radio Button

                RadioGroup optRadioGroup = new RadioGroup(this);

                RadioGroup.LayoutParams optRadioGroupLP = new RadioGroup.LayoutParams( 
                        RadioGroup.LayoutParams.WRAP_CONTENT, 
                        RadioGroup.LayoutParams.WRAP_CONTENT); 
                optRadioGroupLP.setMargins(20, 0, 20, 10);                      
                optRadioGroup.setLayoutParams(optRadioGroupLP);
                optRadioGroup.setTag(que.getId());
                optRadioGroup.setOrientation(RadioGroup.VERTICAL);

                for(OptionsModel options : que.getOptions()) {
                    RadioButton rdoOptBut = new RadioButton(this);

                    LinearLayout.LayoutParams rdoOptButLP = new LinearLayout.LayoutParams( 
                            LinearLayout.LayoutParams.FILL_PARENT, 
                            LinearLayout.LayoutParams.WRAP_CONTENT);
                    rdoOptButLP.gravity = Gravity.CENTER;

                    // Hack code to remove the space b/w radio buttons 
                    //rdoOptBut.setBackgroundColor(Color.TRANSPARENT);                      

                    rdoOptBut.setPadding(40, 0, 0, 0);                      
                    rdoOptBut.setId(options.getOptionId());
                    rdoOptBut.setLayoutParams(rdoOptButLP);
                    //rdoOptBut.setBackgroundResource(0);
                    rdoOptBut.setText(options.getOptionName());
                    rdoOptBut.setButtonDrawable(R.drawable.custom_radiobutton);
                    //rdoOptBut.setTextSize(TypedValue.COMPLEX_UNIT_SP, 12);                    

                    optRadioGroup.addView(rdoOptBut);
                }

                quesLL.addView(optRadioGroup);

                outerLL.addView(quesLL);    

            } catch (Exception e) {
                // TODO: handle exception
            }
        }
        outerScroll.addView(outerLL); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T11:03:53.877

自己修好了，对于线性布局，我使用了大背景图像，当删除背景图像时它工作得很好，谢谢大家的帮助和支持。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:22:33.143

将此属性添加到您的滚动条

```
 android:scrollbars="none" 
```

# gwt - 历史：避免在 URL 中使用哈希 ("#") 字符

> ID：11151662
> 
> 赞同：1
> 
> 时间：2012-06-22T07:10:40.213
> 
> 标签：gwt, url-rewriting, gwt2, gwt-history

我们正在使用 GWT 并利用 History 框架。在应用程序中一切正常，但我们的一些客户正试图在他们的 PowerPoint 演示文稿中放置指向我们应用程序的超链接。但是在 PP2007 中[存在一个已知问题](http://freetechanswers.blogspot.fi/2012/06/microsoft-powerpoint-truncates-address.html)，超链接中带有井号（“#”），这使得它们无法使用。

那么有什么方法可以将 GWT Hisory 框架生成的 URL 中使用的分隔符更改为哈希以外的其他字符？

或者是否可以拦截 GWT 历史生成的新 URL 并在浏览器的地址栏更新之前对其进行修改？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T09:02:24.703

我认为您不能/不应该更改井号。主要是因为这个标志不是来自 GWT 而是来自 HTTP 规范。您可以阅读本[文档](https://developers.google.com/webmasters/ajax-crawling/docs/specification)中关于哈希片段的部分以获得很好的解释。要点是在 url 中添加 # 符号不会导致完整的浏览器刷新。这就是为什么这个标志用于 ajax 和 GWT 的历史。

如果您仍想拦截新的 URL，您可能应该将 ValueChangeHandler 添加到您的历史记录中，然后使用 Window.Location.getHref() 和 Window.Location.assign() 更改 URL。但这就像使用历史来做它不做的事情，所以你最好实现自己的历史管理系统。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-22T09:20:04.833

请参阅[http://code.google.com/p/google-web-toolkit/issues/detail?id=7101](http://code.google.com/p/google-web-toolkit/issues/detail?id=7101)（有示例代码的链接）

基本上，您只能在支持 HTML5`pushState`和`onpopstate`. 这排除了 Internet Explorer，不幸的是那些使用 PowerPointer 的人也可能使用 IE，所以基本上你注定要失败。

# javascript - 如果容器宽度、填充和行高已知，如何计算高度？

> ID：11151668
> 
> 赞同：2
> 
> 时间：2012-06-22T07:10:48.303
> 
> 标签：javascript, jquery

我正在向 DOM 动态添加元素。

```
$('<div class="entry"></div>').text(data.status).appendTo(app.twitter_feed); 
```

我想在将元素添加到 DOM 之前获取元素高度。通常的方法是将元素添加到具有相同样式的隐藏元素中，然后简单地查看高度是多少。

但是，如果您知道容器的宽度、填充和行高（内容只是纯文本）和内容，是否不可能计算元素高度？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T07:21:03.457

内容在容器内的包装方式可能取决于浏览器和缩放级别，因此除非您非常确定内容永远不会包装，否则我建议您按照您描述的方式确定高度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:23:54.347

如果您的文本字体是单一大小的字体，是的，您可以使用公式计算它`[(text-length/(width/char-width))]`，但我确定您没有使用像 courier、等宽字体等单一大小的字体。

答案是这样的：对不起，多尺寸字体无法做到这一点。

# java - ajax 回调数据 [object Object] 而不是文本

> ID：11151675
> 
> 赞同：0
> 
> 时间：2012-06-22T07:11:04.617
> 
> 标签：java, ajax, jquery-callback

我想从服务器捕获数据作为答案并提醒它。但它警告 [object Object] 而不是我的答案文本“非常好”。这是我的ajax函数：

```
 function ajaxsubmit(){
   $.ajax({
     url: "/update",
     type: "POST",
  }).complete(function(data) {
      alert(data);
  });
 } 
```

我的服务器端功能是这样的：

```
public static Result ajaxupdate(){
    String done = "very good!";
    return ok(done);
} 
```

我是否必须用其他东西转换即将到来的数据才能打印正常的纯文本？

多谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T07:13:46.063

返回字符串。试试这个..

```
public static String ajaxupdate(){
    String done = "very good!";
    return done;
} 
```

# javascript - CSS中有没有使页面宽度可变？

> ID：11151680
> 
> 赞同：0
> 
> 时间：2012-06-22T07:11:30.187
> 
> 标签：javascript, html, css

我有一个没有垂直滚动的页面，而是水平显示所有内容。

如果您一直滚动到我的页面末尾（一直到右侧），您将看到我的联系信息。例如：

```
<div1></div1>
<div2></div2>
<div3></div3>
<divN></divN> 
```

在这种情况下， div1 是最左边的项目，div2 在中间 div3 在它的右边......一直到最后，显示 divN。每个 div 的宽度为 500 像素。我可以将我的页面宽度设置为 20000 像素（对于 4 个 div），效果很好。但是，我想让我的页面动态，并且除 divN 之外的每个 div 都是从数据库加载的。这意味着，每次添加内容时，我都必须手动增加页面宽度。

有没有办法自动化这个过程。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T07:18:34.877

据我了解，这可能是您想要的：

```
.parent{
    overflow:hidden;
    white-space:nowrap;
}

.parent > div{
    width:500px;
    height:300px;
    border:1px solid red;
    display:inline-block;
    *display:inline;/*For IE7*/
    *zoom:1;
    white-space:normal;
} 
```

检查这个[http://jsfiddle.net/HJsrJ/](http://jsfiddle.net/HJsrJ/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T07:19:51.393

为什么不使用`width:100%`外部 div 并让其他 div`width:33%`的每个内容都以正确的方式浮动？

[查看示例](http://jsfiddle.net/9m5Fd/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T07:16:28.510

您可以将 CSS 保存到表格中，在要动态更改值的位置插入占位符。哎呀，这甚至可能只是某个地方的模板文件。然后，每当您在基础上发布新部分时，拉出模板，用字符串替换占位符，然后将新的 CSS 写入文件。

有道理？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-22T07:22:52.937

另一种选择是给这些 div 中的每一个一个类，然后使用 javasript 来计算存在的类的数量，然后将其乘以每个 div 的所需宽度，然后使用 javascript 通过 on document ready 事件设置页面宽度。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-22T08:39:58.233

我不是 100% 确定 OP 在这里想要什么，但这里有一个“解决方案”：

HTML：

```
<div class="parent">
    <div id="div1">1 has content</div>
    <div id="div2" class="nocontent"><!-- no content --></div>
    <div id="div3">3 has content</div>
    <div id="div4">4 has content</div>
    <div id="div5" class="nocontent"><!-- no content --></div>
    <div id="div6" class="nocontent"><!-- no content --></div>
</div>​ 
```

CSS：

```
.parent {
    white-space: nowrap;
}

.parent > div {
    display: inline-block;
    width: 200px;
    margin-left: 1px;
    background: #eee;
}

.parent > .nocontent {
    display: none;            
}
​ 
```

JavaScript (jQuery):

```
$(function() {
   // Simulate loading content
    setTimeout(function() {
        $('#div2').text('2 has content now').removeClass('nocontent');
    }, 3000);
});​ 
```

演示：

[http://jsfiddle.net/foxbunny/EY9sc/](http://jsfiddle.net/foxbunny/EY9sc/)

# android - Android谷歌地图返回错误和蓝屏

> ID：11151683
> 
> 赞同：0
> 
> 时间：2012-06-22T07:11:53.880
> 
> 标签：android, google-maps

我有谷歌地图的问题。我生成密钥并粘贴在好位置，但是当我看到地图时，我得到的只是图片上的蓝屏：![在此处输入图像描述](../Images/6bc96b84109c9efb3ddd4ce576756900.png)

和错误：

```
06-22 09:18:08.363: W/MapActivity(19369): Recycling dispatcher android_maps_conflict_avoidance.com.google.googlenav.datarequest.DataRequestDispatcher@2b11ce08
06-22 09:18:08.373: V/MapActivity(19369): Recycling map object.
06-22 09:18:08.573: I/MapActivity(19369): Handling network change notification:CONNECTED
06-22 09:18:08.573: E/MapActivity(19369): Couldn't get connection factory client 
```

你能告诉我有什么问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T07:46:01.397

一切都好。效果很好。这个蓝屏是大海 :) 我太傻了 :)

# css - django-compressor 给出文件未找到但它在那里

> ID：11151684
> 
> 赞同：2
> 
> 时间：2012-06-22T07:12:05.677
> 
> 标签：css, yui-compressor, django-compressor

我正在使用 django-compressor 来压缩我的 css，所以我接下来用 HTML 编写：

```
{% load compress %}

{% compress css %}

<link rel="stylesheet" href="{{ STATIC_URL }}styles/blueprint/reset.css" media="all" />

<link rel="stylesheet" href="{{ STATIC_URL }}styles/base.css" media="all" />

<link rel="stylesheet" href="{{ STATIC_URL }}styles/header.css" media="all" />

<link rel="stylesheet" href="{{ STATIC_URL }}styles/footer.css" media="all" />

<link rel="stylesheet" href="{{ STATIC_URL }}styles/frontpage.css" media="all" />

<link rel="stylesheet" href="{{ STATIC_URL }}styles/about.css" media="all" />
{% endcompress %} 
```

它给出了以下错误：

```
500 page with: 
UncompressableFileError: 'styles/blueprint/reset.css' isn't accesible
via COMPRESS_URL ('/media/static/') and can't be compressed 
```

顺便说一句：所有文件都在静态路径中，所以如果我评论压缩它们将起作用。

我的 settings.py 关于压缩：

```
COMPRESS_STORAGE = 'compressor.storage.GzipCompressorFileStorage'
COMPRESS_CSS_FILTERS = ['compressor.filters.csstidy.CSSTidyFilter',       'compressor.filters.css_default.CssAbsoluteFilter']
COMPRESS_CSSTIDY_BINARY = '/usr/bin/csstidy'
COMPRESS_CSSTIDY_ARGUMENTS = '--template=highest --remove_last_;=true --sort_properties=false --sort_selectors=false --merge_selectors=1'
COMPRESS_ROOT = STATIC_ROOT
COMPRESS_URL = STATIC_URL 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T09:08:59.320

我有一个类似的问题，您是否使用 RequestContext 作为 context_instance 渲染您的模板？

例如：

```
def some_view(request):
    ...
    return render_to_response(... , context_instance=RequestContext(request)) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T08:39:09.143

我有同样的问题。我不知道为什么，但我的解决方案是删除 parameter `--remove_last_;=true`。

# c# - 将分组框绑定到可能的堆栈面板

> ID：11151685
> 
> 赞同：1
> 
> 时间：2012-06-22T07:12:14.833
> 
> 标签：c#, wpf, data-binding, groupbox

我想将 Groupboxes 绑定到我的堆栈面板。

C＃：

```
internal ObservableCollection<GroupBox> BindingTest
{
    get
    {
        ObservableCollection<GroupBox> collection = new ObservableCollection<GroupBox>();
        for (int counter = 0; counter < 5; counter++)
        {
            GroupBox groupBox = new GroupBox();
            groupBox.Header = " ... Header ... ";
            groupBox.Content = " ... Content ... ";
            collection.Add(groupBox);
        }

            return collection;
    }
} 
```

和 xaml 代码：

```
<StackPanel x:Name="Dynamic" Grid.Row="1" Margin="29,118,6,0">
    <ItemsControl ItemsSource="{Binding Path=BindingTest}" Height="482">
        <ItemsControl.ItemTemplate>
            <DataTemplate>
                <GroupBox>
                    <GroupBox.Header>{Binding Path=Header}</GroupBox.Header>
                    <GroupBox.Content>{Binding Path=Content}</GroupBox.Content>
                </GroupBox>
            </DataTemplate>
        </ItemsControl.ItemTemplate>
    </ItemsControl>
</StackPanel> 
```

我的推理错误在哪里？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:19:27.717

在 WPF Binding 中，您通常不绑定到控件，您只需绑定到对象并让标记处理 UI 细节。理想情况下，您的对象应该实现`INotifyPropertyChanged`以通知 Binding 属性更改。控件创建已经由 处理`DataTemplate`，它已经`GroupBox`为您创建了一个并将其属性绑定到绑定中使用的对象的属性。

`ViewModel`如果可能，您应该对 UI**一无所知**，或使用任何控件。MVVM 模式旨在解耦 UI 和数据/逻辑。

您的数据对象的类可能如下所示：

```
public class DataObject : INotifyPropertyChanged
{
    private string header;
    private string content;

    public string Header {
        get { return header; }
        set { header = value; RaisePropertyChanged("Header"); }
    }

    public string Content {
        get { return content; }
        set { content= value; RaisePropertyChanged("Content"); }
    }

    public event PropertyChangedEventHandler PropertyChanged;

    protected void RaisePropertyChanged(string propertyName) {
        var handler = PropertyChanged;
        if (handler != null) { 
            handler(this, new PropertyChangedEventArgs(propertyName)); 
        }
    }
} 
```

您绑定到的属性也看起来不同：

```
internal ObservableCollection<DataObject> BindingTest
{
    get
    {
        ObservableCollection<DataObject> collection = new ObservableCollection<DataObject>();
        for (int counter = 0; counter < 5; counter++)
        {
            DataObject item = new DataObject ();
            item.Header = " ... Header ... ";
            item.Content = " ... Content ... ";
            collection.Add(item );
        }

            return collection;
    }
} 
```

**我假设每次**访问属性时创建一个新集合只是为了测试目的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:28:30.850

只需将`BindingTest`属性更改为`public`字段......它会自动将数据绑定到用户界面......

基本上 xaml 允许您将公共属性绑定到 UI，因为我们对内部和私有等其他字段有限制。

```
public partial class MainWindow : Window
    {
        public MainWindow()
        {
            InitializeComponent();
            DataContext = this;
        }

        public ObservableCollection<GroupBox> BindingTest
        {
            get
            {
                ObservableCollection<GroupBox> collection = new ObservableCollection<GroupBox>();
                for (int counter = 0; counter < 5; counter++)
                {
                    GroupBox groupBox = new GroupBox();
                    groupBox.Header = " ... Header ... ";
                    groupBox.Content = " ... Content ... ";
                    collection.Add(groupBox);
                }

                return collection;
            }
        }
    } 
```

xml代码如下

```
<Grid >
        <StackPanel x:Name="Dynamic" >
            <ItemsControl ItemsSource="{Binding BindingTest, RelativeSource={RelativeSource AncestorType={x:Type this:MainWindow}}}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <GroupBox Header="{Binding Path=Header}"
                                  Content="{Binding Path=Content}">
                        </GroupBox>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </StackPanel>
    </Grid> 
```

# c++ - 强制转换 size_t 以允许 std::vector 中有更多元素

> ID：11151687
> 
> 赞同：2
> 
> 时间：2012-06-22T07:12:37.203
> 
> 标签：c++

我需要在 32 位中存储大量元素`std::vector`（超过 unsigned int 允许的 2^32-1）。据我所知，这个数量受`std::size_t`unsigned int 类型的限制。我`std::size_t`可以通过强制转换来改变它`unsigned long`吗？它会解决问题吗？

如果那不可能，假设我以 64 位编译。不做任何修改就可以解决问题吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-22T07:21:59.223

`size_t`是一种可以容纳任何可分配内存块大小的类型。因此，您不能分配比适合您的内存更多的内存`size_t`，因此无法以任何方式存储更多元素。

以 64 位编译将允许它，但要意识到该数组仍然需要适合内存。2 ^(32)是 40 亿，所以你要超过 4 * sizeof(element) GiB 的内存。超过 8 GiB 的 RAM 仍然很少见，因此这看起来不合理。

我建议用[STXXL](http://stxxl.sourceforge.net/)中的向量替换向量。它使用外部存储，因此您的矢量不受 RAM 数量的限制。该库声称可以轻松处理 TB 级数据。

（编辑）迂腐注意：`size_t`需要保持最大单个对象的大小，不一定是所有可用内存的大小。在分段内存模型中，它只需要在每个对象必须存在于单个段中时适应偏移量，但是对于不同的段，可以访问更多的内存。甚至可以在带有 PAE（“长”内存模型）的 x86 上使用它。但是我还没有看到有人真正使用它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-22T08:12:05.160

有很多话要说。

**首先**，分别关于 32 位系统和 64 位系统上**的大小。`std::size_t`**这就是标准所说的`std::size_t`（§18.2/6,7）：

> 6 该类型`size_t`是实现定义的无符号整数类型，它大到足以包含任何对象的字节大小。
> 
> 7 [注意：建议实现选择其整数转换等级（4.13）不大于的类型，`ptrdiff_t`除非需要更大的大小来包含所有可能的值。——尾注]`size_t``signed long int`

由此可知，在 32 位系统上至少为 32 位，`std::size_t`在*64*位系统*上至少为 64 位。*它可能更大，但这显然没有任何意义。

**其次**，关于**类型转换**的想法：要使其工作，**即使在理论上**，您也必须在其自身的实现中转换（或者更确切地说：*重新定义*）类型`std::vector`，无论它发生在哪里。

**第三**，当你说你需要这个“32 位”的超大向量时，是不是意味着你想在 32 位系统上使用它？在那种情况下，正如其他人已经指出的那样，您想要的是不可能的，因为 32 位系统根本没有那么多内存。

但是，**第四**，如果您想要在 64 位机器上运行程序，并且仅使用 32 位数据类型来指代元素的*数量*，但可能使用 64 位类型来指代总大小以字节为单位，`std::size_t`则不相关，因为它用于指代元素的总数和单个元素的索引，而不是以字节为单位的大小。

**最后**，如果您在 64 位系统上并且想要使用类似 a 的极端比例的东西`std::vector`，那当然是可能的。具有 32 GB、64 GB 甚至 1 TB 主内存的系统可能并不常见，但绝对可用。

**但是**，要实现这样的数据类型，通常**在一个连续的块中**分配千兆字节的内存**通常不是一个好主意**（这就是 a所做的），原因如下：**`std::vector`**

 ***   除非向量的总大小在初始化时一劳永逸地确定，否则向量将被调整大小，并且很可能会重新分配，可能会在您添加元素时多次重新分配。重新分配一个非常大的向量可能是一项耗时的操作。**[**我已将此项目添加为对原始答案的**编辑。****]**
*   操作系统将难以提供如此大的未碎片化内存，因为并行运行的其他进程也需要内存。[**编辑：**正如评论中正确指出的那样，这对于当今使用的任何标准操作系统都不是真正的问题。]
*   在非常大的服务器上，您还拥有数十个 CPU 和典型的 NUMA 类型的内存架构，显然最好使用相对较小的内存块，并且有多个线程（可能每个线程在不同的核心上运行）访问不同的块并行向量。

**结论**

**A）**如果您在 32 位系统上并且想要使用那么大的向量，则使用基于磁盘的方法（例如 @JanHudec 建议的方法）是**唯一可行的方法**。

**B）**如果您可以访问具有数十或数百 GB 的大型 64 位系统，您应该研究**将整个内存区域划分为块**的实现。本质上类似于 a `std::vector<std::vector<T>>`，其中每个嵌套向量代表一个块。如果所有块都已满，则追加一个新块等。为此实现迭代器类型也很简单。当然，如果你想进一步优化它以利用多线程和 NUMA 特性，它会变得越来越复杂，但这是不可避免的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T07:26:07.620

A`vector`可能是您错误的数据结构。它需要存储在单个内存块中，这受`size_t`. 这可以通过为 64 位系统编译来增加，但是您不能在 32 位系统上运行，这可能是必需的。

如果您不需要`vector`' 的特定特征（特别是 O(1) 查找和连续内存布局），则另一种结构（例如 a`std::list`可能适合您，它没有大小限制，除了计算机可以物理处理的内容，因为它是一个链表代替一个方便包装的数组。**

# c++ - 指向结构对象的指针作为函数的参数 - 打印时出现奇怪的文本

> ID：11151688
> 
> 赞同：1
> 
> 时间：2012-06-22T07:12:39.947
> 
> 标签：c++, class, pointers, struct

我有一个类，其中包含一个结构。我在类上有一个方法，它创建了这个结构的新对象，将它作为指针返回。

我在这个类中有另一个方法，它接受一个指向这个结构的指针并打印出它的数据。

唯一的问题是，当我尝试打印出来时，控制台中会出现一些奇怪的文本。

代码示例（不是实际代码，而是它的原理）：

```
// Header

class TestClass
{
    public:

        struct TestStruct
        {
            int ID;
            string Name;
        };

        TestClass::TestStruct* CreateStruct(string name, int id);
        void PrintStruct(TestClass:TestStruct* testStruct);
}

// C++ File

TestClass::TestStruct* TestClass::CreateStruct(string name, int id)
{

    TestStruct testStruct;

    testStruct.ID = id;
    testStruct.Name = name;

    TestClass::TestStruct *pStruct = &testStruct;

    return pStruct;

};

void TestClass::PrintStruct(TestClass::TestStruct* testStruct)
{

    cout << (testStruct)->ID << "\n";
    cout << (testStruct)->Name << "\n";

};

int Main()
{

    TestClass tClass;

    tClass.PrintStruct(tClass.CreateStruct("A name", 1));

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T07:13:36.923

您正在返回一个指向局部变量的指针，并遇到**未定义的行为**。

```
TestClass::TestStruct* TestClass::CreateStruct(string name, int id)
{
    TestStruct testStruct;
    //...
    TestClass::TestStruct *pStruct = &testStruct;
    return pStruct;
}   //testStruct is destroyed here
    //the pointer pStruct is invalid 
```

要使其工作，您可以返回智能指针或动态分配内存以延长对象的生命周期。请记住，您必须`delete`明确地这样做：

```
TestClass::TestStruct* TestClass::CreateStruct(string name, int id)
{

    TestStruct* testStruct = new TestStruct;

    testStruct->ID = id;
    testStruct->Name = name;

    return testStruct;

}; 
```

另外，请认真考虑您是否真的需要指针。尽可能选择自动变量。如果我是你，我会这样做：

```
TestClass::TestStruct TestClass::CreateStruct(string name, int id)
{

    TestStruct testStruct;
    testStruct.ID = id;
    testStruct.Name = name;
    return testStruct;
};

void TestClass::PrintStruct(const TestClass::TestStruct& testStruct) const
{
    cout << testStruct.ID << "\n";
    cout << testStruct.Name << "\n";
}; 
```

# jquery - 我想在悬停时调整 div 的大小或缩放？

> ID：11151689
> 
> 赞同：-2
> 
> 时间：2012-06-22T07:12:45.223
> 
> 标签：jquery, html, resize, scale

任何人都可以帮助我吗，我已经检查了调整大小的演示，但这可以通过手柄进行，但我需要悬停，当 div 缩放时，其他内容会自动转到下面，如此链接[http://sea-hunters.com/](http://sea-hunters.com/)在此链接右侧菜单中对悬停有影响吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:23:04.403

您可以使用 jQuery [animate](http://api.jquery.com/animate/)函数调整大小。

```
$('ul li').hover(function(){
  $(this).animate(... //animate height and width
}, function(){
  $(this).animate(... //animate back
}); 
```

# memory-management - 此代码c ++ opencv中的内存泄漏在哪里？

> ID：11151690
> 
> 赞同：0
> 
> 时间：2012-06-22T07:12:50.150
> 
> 标签：memory-management, opencv, memory-leaks

这是代码

```
CvMemStorage *mem123 = cvCreateMemStorage(0);
CvSeq* ptr123;CvRect face_rect123;
CvHaarClassifierCascade* cascade123 = (CvHaarClassifierCascade*)cvLoad("haarcascade_frontalface_alt2.xml" );    //detects the face if it's frontal
void HeadDetection(IplImage* frame,CvRect* face){
    ptr123=cvHaarDetectObjects(frame,cascade123,mem123,1.2,2,CV_HAAR_DO_CANNY_PRUNING);
    if(!ptr123){return ;}
    if(!(ptr123->total)){return ;}
    face_rect123=*(CvRect*)cvGetSeqElem( ptr123, 0 );   //CvRect face_rect holds the position of Rectangle
    face->height=face_rect123.height;
    face->width=face_rect123.width;
    face->x=face_rect123.x;
    face->y=face_rect123.y;
    return ;
}//detects the position of head and it is fed in CvRect*face as rectangle
int main(){
    IplImage* oldframe=cvCreateImage(cvSize(640,480),8,3);
    CvCapture* capture=cvCaptureFromCAM(CV_CAP_ANY);
    CvRect a;a.height=0;a.width=0;a.x=0;a.y=0;
    while(1){

        oldframe=cvQueryFrame(capture); //real frame captured of size 640x480
        cvFlip(oldframe,oldframe,1);
        cvResize(oldframe,frame);   //frame scaled down 4 times 
        HeadDetection(frame,&a);
        cvShowImage("frame",frame);
        cvWaitKey(1);
    }
} 
```

这里如果“HeadDetection(frame,&a);” 被评论，然后使用任务管理器我看到angledetection.exe（我的项目名称）消耗了20188 Kb内存（然后没有发生内存泄漏）。

但是，如果我不评论任务管理器显示正在发生一些内存泄漏（大约 300Kb/s）

我在 64 位 Windows 7 位操作系统（核心 2 双核）上使用 VS 2010。

此代码试图通过 OpenCV 2.1 中的 haar 检测来检测人脸并获取​​正方形的四个角

如有任何不清楚的地方，请询问。:-)

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:17:13.527

当您调用`cvHaarDetectObjects`.

但是您永远不会释放它（**ptr123**指向的对象）。

**face_rect123**也没有被释放。

顺便说一句，您应该考虑重构代码并为变量提供更好的名称。

# excel - 根据真实值而不是格式化值过滤excel中的单元格

> ID：11151706
> 
> 赞同：0
> 
> 时间：2012-06-22T07:14:07.423
> 
> 标签：excel, formatting, filtering

我有这个电子表格，其中 AI 列中有多个分类值，为了简单起见，假设它看起来像 A/A/A/B/B/C/C/C/C。

现在，我想在每组之后为总数插入一行。A 列最终应该看起来像这样 A/A/A/A TOTAL/B/B/B TOTAL/C/C/C/C/C TOTAL。明白啦？

问题是当我过滤 C 值时，“C TOTAL”不会与其他值一起显示。现在这似乎是正确的，因为值“C TOTAL”与“C”不同。

所以我想我可以写“C”而不是“C TOTAL”，然后应用像@“TOTAL”这样的格式。现在单元格中的值与其他值相同（即“C”），但*它显示*为“C TOTAL”。

我认为这会起作用，但是当我过滤时，我仍然看到列出了“C”和“C TOTAL”。如果值相同，为什么excel将它们分开？我怎样才能做到过滤只考虑单元格中的*真实*值而不考虑它们的格式？

谢谢你们的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T11:10:04.197

好吧，我对您的总体目标有一个解决方案（不是这个特定的问题，但它使这个问题变得不必要）

如果您有一个范围（而不是我所说的“Big-T 表”（Big-T 表在选择时会出现“表格工具”上下文功能区组）），那么这个解决方案可以实现您的总目标每个类别。

单击您的数据范围->数据选项卡->小计（在大纲组中）->选择“每次更改时”（可能是您的类别）->从下拉列表中选择您选择的功能->使用复选框选择要小计的列- > 选择其他选项 -> 完成！

这是示例对话框

![在此处输入图像描述](../Images/5b400c860a5799630cffa090ea96cd05.png)

# iphone - 在 iPhone 的 UIImageView 中显示图像

> ID：11151708
> 
> 赞同：0
> 
> 时间：2012-06-22T07:14:10.480
> 
> 标签：iphone, ios, image

我不想使用选择器视图来选择图像。我有图像名称`abc.JPG`，它在 iPhone 图像库中，我可以以编程方式获取此图像并放入`UIImageView`吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T07:35:57.713

如果图像不在您的应用程序资源中并且您不想使用 UIImagePickerController 那么您可以使用 ALAssetsLibrary 来获取用户相册或相机胶卷上的图像。

看看这里：http: [//developer.apple.com/library/ios/#documentation/AssetsLibrary/Reference/ALAssetsLibrary_Class/Reference/Reference.html](http://developer.apple.com/library/ios/#documentation/AssetsLibrary/Reference/ALAssetsLibrary_Class/Reference/Reference.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-22T07:15:49.603

```
 UIImageView *myImage = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 320, 460)];

myImage.image = [UIImage imageNamed:@"abc.JPG"];

[self.view addSubview:myImage]; 
```

或者，如果您已经拥有名为 myImage 的 uiimageview，则只需编写：

```
myImage.image = [UIImage imageNamed:@"abc.JPG"]; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-22T07:16:21.977

也许：

```
UIImageView *myImageView = [UIImageView alloc] init];
myImageView.image = [UIImage imageNamed:@"abc.JPG"]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-22T07:25:16.767

尝试按照[本](http://www.icodeblog.com/2009/07/28/getting-images-from-the-iphone-photo-library-or-camera-using-uiimagepickercontroller/)教程进行操作。

即使您不想，我认为您必须使用`UIImagePickerViewController`来选择图像，否则图像将从您的项目中的资源中选择。

# ios - 适用于 iO 的 Crittercism SDK 版本 2.3.5

> ID：11151710
> 
> 赞同：2
> 
> 时间：2012-06-22T07:14:22.897
> 
> 标签：ios, crittercism

我正在使用 crittercism 从我的 iPad 应用程序中获取崩溃报告。我想知道应用程序上次加载时是否崩溃，但似乎包含函数 crittercismDidCrashOnLastLoad 的 CrittercismDelegate 不起作用。

有什么建议吗？以前有人遇到过这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-23T01:02:34.957

看起来这在库的 v3.2.6 中已修复：

[https://www.crittercism.com/developers/downloads](https://www.crittercism.com/developers/downloads)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-23T01:14:26.790

有一个错误，直到崩溃后的负载被发送到我们的服务器而不是在应用程序中检测到崩溃之后才调用委托。我们在 v3.2.6 中推出了针对此错误的修复程序。确保您使用以下设置委托：

[[Crittercism sharedInstance] setDelegate:whateverObjectYouWant]

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T08:50:38.693

确实使用 v_3_2_6 sdk 解决了设置委托的错误。

# iphone - 如何从 iphone 的主项目访问库项目中的图像？

> ID：11151711
> 
> 赞同：0
> 
> 时间：2012-06-22T07:14:23.443
> 
> 标签：iphone

我在 iphone 中创建了一个库项目，并且我的图像文件夹存在于我的主项目中。我如何访问这些图像？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:24:58.220

`NSBundle`您可以使用's 方法访问应用程序的资源：

```
NSString *imageFilePath = [[NSBundle mainBundle] pathForResource:@"imageName" ofType:@"png"];
UIImage *image = [UIImage imageWithContentsOfFile:imageFilePath]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T11:03:08.750

您可以从 NSBundle 类访问资源。

如果您的资源在当前应用程序可执行文件中，则此时您需要使用“[NSBundle mainBundle]”。

如果您的应用程序中有主捆绑包，我们在 NSBundle 中有一个名为“allbundles”的属性。它将返回所有应用程序的非框架捆绑包的数组。因此，您可以从任何捆绑包中调用您的资源。

我认为这可能对你有用。

# python - Python writerows 麻烦

> ID：11151719
> 
> 赞同：1
> 
> 时间：2012-06-22T07:15:33.480
> 
> 标签：python, csv

我从 Python 语言开始，但我的脚本遇到了问题。在stackoverflow上，我只犯了一个帖子，有人问如何在专栏中写作，但对我来说这是问题:)

我有两个清单。第一个包含一些其他列表，其内容必须写入 csv 文件，第二个包含要创建的文件的名称。

```
contentlist = [element1, element2 ... ]
namelist = ['element1', 'element2' ... ] 
```

列表内容列表的每一项都遵循此模型：

```
'url 1 | text1' 
```

对于输出，我想要这样的东西，url 和 text 被 | 分开 特点 ：

```
Column1          Column2

url1             text1

url2             text2 
```

我的脚本部分成功。

```
 for name, content in zip(namelist, contentlist):
        with open(name, 'w') as f:
        w = csv.writer(f, dialect = 'excel', delimiter=',')
        w.writerows([content]) 
```

但我得到这个输出：

```
column1         column2

url1 | text1    url2 | text2 
```

如果我在脚本的最后一行删除 [ ]，我设法得到我想要的输出，但显然每个字符之间有一个逗号。

有人可以帮助我吗？提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T07:20:33.693

```
w.writerows(c.split(' | ') for c in content) 
```

# python - 需要在 Windows/Python 中非常快速地创建大量新进程

> ID：11151727
> 
> 赞同：3
> 
> 时间：2012-06-22T07:16:14.193
> 
> 标签：python, windows, performance, multiprocessing

为了测试一些安全软件，我需要能够非常快速地在 Windows 中创建大量（可配置的）新进程（不是线程！），让它们存在一段时间（可配置），然后干净地终止. 这些进程根本不应该做任何事情——只存在指定的持续时间。

最终，我希望能够运行类似的东西：

```
C:\> python process_generate.py --processes=150 --duration=2500 
```

这将很快创建 150 个新进程，让它们全部存活 2500 毫秒，然后让它们尽快终止。

作为起点，我跑了

```
from multiprocessing import Process
import os

def f():
    pass

if __name__ == '__main__':
    import datetime
    count = 0
    startime = datetime.datetime.now()
    while True:
        p = Process(target=f)
        p.start()
        p.terminate()
        count += 1
        if count % 1000 == 0:
            now = datetime.datetime.now()
            print "Started & stopped d processes in %s seconds" % (count, str(now-starttime)) 
```

并发现我可以在我的笔记本电脑上以大约 70 个进程/秒的速度*连续*创建和终止，而创建的进程会立即终止。大约 70 个进程/秒的速率持续了大约一个小时。

当我将代码更改为

```
from multiprocessing import Process
import os
import time

def f_sleep():
    time.sleep(1)

if __name__ == '__main__':
    import datetime
    starttime = datetime.datetime.now()

    processes = []
    PROCESS_COUNT = 100
    for i in xrange(PROCESS_COUNT):
        p = Process(target=f_sleep)
        processes.append(p)
        p.start()
    for i in xrange(PROCESS_COUNT):
        processes[i].terminate()
    now = datetime.datetime.now()
    print "Started/stopped %d processes in %s seconds" % (len(processes), str(now-starttime)) 
```

并为 PROCESS_COUNT 尝试了不同的值，我希望它的扩展性比它做的好得多。对于 PROCESS_COUNT 的不同值，我得到以下结果：

*   0.72秒完成20个流程
*   1.45秒完成30道工序
*   3.68 秒完成 50 个流程
*   14 秒内完成 100 个流程
*   43 秒内完成 200 个流程
*   300 道工序在 77 秒内完成
*   111 秒内完成 400 个流程

这*不是*我所期望的——我希望能够以合理的线性方式扩大*并行*进程数量，直到我遇到瓶颈，但我似乎几乎马上就遇到了进程创建瓶颈。根据我运行的第一个代码，我绝对希望能够在遇到进程创建瓶颈之前创建接近 70 个进程/秒的东西。

无需详细了解完整规格，笔记本电脑运行完全修补的 Windows XP，具有 4Gb RAM，否则处于闲置状态并且相当新；我认为它不会这么快就遇到瓶颈。

我的代码是否在这里做任何明显错误的事情，或者在 12 个月大的笔记本电脑上创建 XP/Python 并行进程真的那么低效？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-22T07:23:13.177

好吧，Windows 进程管理并不能很好地扩展。进程越多，将新进程插入调度所需的时间就越长。

现在将其与其他操作系统内核进行比较，例如 Linux，其中进程创建实际上是 O(1)（恒定时间），因为内核 2.6.8（当引入了具有此功能的调度程序时）。

请注意，我并不是想在这里向您推销 Linux。我只是建议您在不同的操作系统上试用您的程序，以亲自查看。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-12T10:03:40.443

在分析和测试了一堆不同的场景之后，我发现在 Windows 下生成和杀死单个进程要快得多，而不是一次生成 N 个进程，杀死所有 N，然后重新启动 N。

我的结论是，Windows 保留了足够的可用资源来一次快速启动 1 个进程，但不足以在没有相当大的延迟的情况下启动 >1 个新的并发进程。正如其他人所说，Windows 启动新进程的速度很慢，但显然速度会随着系统上已经运行的并发进程数量而呈半几何下降 - 启动单个进程非常快，但是当您启动多个进程时你遇到了问题。这适用于存在的 CPU 数量、机器的繁忙程度（在我的测试中通常 <5% CPU）、Windows 是在物理服务器还是虚拟服务器上运行、有多少可用 RAM（我测试了高达 32Gb RAM，大约 24Gb 可用），... - 这似乎只是 Windows 操作系统的限制。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-22T08:24:55.263

我已经在具有 4Gb RAM 的 Ubuntu 11.04 Dell Precision 中测试了您的代码，结果如下：

```
Started/stopped 100 processes in 0:00:00.051061 seconds
Started/stopped 150 processes in 0:00:00.094802 seconds
Started/stopped 200 processes in 0:00:00.153671 seconds
Started/stopped 300 processes in 0:00:00.351072 seconds
Started/stopped 400 processes in 0:00:00.651631 seconds
Started/stopped 470 processes in 0:00:01.009148 seconds
Started/stopped 1000 processes in 0:00:02.532036 seconds
Started/stopped 10000 processes in 0:00:29.677061 seconds 
```

对于相同数量的进程，每次执行至少有 10% 的可变性，希望这很有用，在一秒钟内，我的计算机使用您的代码执行了近 500 个进程。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-22T08:29:37.853

如果我没记错的话，与 Linux 相比，Windows 从来没有被设计为快速启动许多进程。这不是设计者认为你会做的事情——而在 linux 上，使用诸如此类的东西`inetd`，它是一个足够常见的操作模型来保证优化——因此，流程创建被优化得像地狱一样。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-09-03T16:47:29.943

我想说的是，在 Linux 中创建许多 Python 进程也存在困难。运行 p.start() 500 次后，它变得非常慢。

有时我需要创建数千个可以长时间工作的流程。

在上面的示例中，一瞬间没有 PROCESS_COUNT 数量的活动进程，因为它们在 1 秒后开始完成工作。因此，如果在上述 2 秒内创建 1000 个进程，则超过一半的进程完成到创建过程结束。

```
from multiprocessing import Process
def sample():
        sleep(13)
start = time()
for i in range(1500):
    p = Process(target=sample)
    p.daemon = True
    p.start()
 end = time()
 print end - start 
```

我使用 SUSE ENTERPRISE 尝试了 140 核服务器，并在我的笔记本电脑上使用 Ubuntu - 动态是相同的（服务器结果）：

```
500 processes start  - 1.36 s
1000 processes start - 9.7 s
1500 processes start - 18.4 s
2000 processes start - 24.3 s
3000 processes start - 43.3 s 
```

这是因为在 fork 之前的这个调用。每个新的子进程都需要更长的时间

```
def _cleanup():
    # check for processes which have finished
    for p in list(_current_process._children):
        if p._popen.poll() is not None:
            _current_process._children.discard(p) 
```

我记得，如果进程有 manager.Value 并且稍微重一点 - 它需要 10 GB 的 RAM 并且启动时间更长。

# html - css - 行数的最小高度

> ID：11151728
> 
> 赞同：38
> 
> 时间：2012-06-22T07:16:21.800
> 
> 标签：html, height, css

我想我已经知道了这个问题的答案，但我希望也许有人会为此提供一些巧妙的技巧。

我想指定 DIV 的最小高度，但不指定 px / % based 。（我知道这听起来很奇怪，但这是出于兼容性/响应性的原因）

基本上我希望能够通过行数来指定它。

我有一个 DIVS 网格，但里面的元素不固定，所以一个元素可以有 3 行，下一个只有 2 或 1 行。这弄乱了布局。

基本上，我需要的是这个：

```
 =====================      =====================      =====================
    Lorem ipsum dolor sit      Lorem ipsum dolor sit      Lorem ipsum dolor sit 
    amet, consectetur          amet, consectetur          amet, consectetur
    adipiscing elit.
    =====================      =====================      =====================

    =====================      =====================      =====================
    Lorem ipsum dolor sit      Lorem ipsum dolor sit      Lorem ipsum dolor sit 
    amet, consectetur          amet, consectetur 
                               adipiscing elit.
    =====================      =====================      ===================== 
```

而不是这个：

```
=====================      =====================      =====================
Lorem ipsum dolor sit      Lorem ipsum dolor sit      Lorem ipsum dolor sit 
amet, consectetur          amet, consectetur          amet, consectetur
adipiscing elit.           =====================      =====================
=====================
                           =====================      =====================
=====================      Lorem ipsum dolor sit      Lorem ipsum dolor sit
Lorem ipsum dolor sit      amet, consectetur          =====================
amet, consectetur          =====================  
adipiscing elit.             
===================== 
```

这种事情可以通过指定的“我想要3行”来实现吗？（相对于像素，百分比/ em ??）

**编辑我**

评论后——

我真正想要的是像 FORM 元素、INPUT 或 TEXTAREA 之类的东西，您可以在其中简单地通过行/字符指定高度和宽度！

```
<TEXTAREA NAME=string, ROWS=n, COLS=n> </TEXTAREA> 
```

很难相信没有人发明过这样的解决方案，让我们所有人都在为 PX / em / % 计算等而苦苦挣扎..

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-06-22T07:59:18.473

你为什么这么反对`min-height`在ems中设置的想法？如果你`line-height`设置了 em，乘以 3，你就得到了你想要的高度！

```
div {
    line-height:1.5em;
    min-height:4.5em;
    float:left;
    width:33%;/*close enough*/
} 
```

[摆弄](http://jsfiddle.net/ovfiddle/gq5MX/)

更新：将 min-height 设置为三行是徒劳的 - 它不考虑内容*不*适合可用空间的情况。您可以改用[人造列](http://www.alistapart.com/articles/fauxcolumns/)来使内容在行内看起来具有统一的高度

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2016-08-15T22:05:50.207

我通过使用`flexbox`and实现了这一点`min-height`。

将每个`div`元素放在一个`flexbox`容器中，以使它们具有相同的高度并做出响应（即使用断点、flexbox`wrap`并`min-width`确保拥有超过 3 行文本的可能性很低）。然后为您的每个内部元素设置`min-height`和`line-height`值，如@ov 建议的那样。`min-height`应该等于`font-size`*`line-height`乘数。

我需要内部段落至少有 2 行高（它们很可能包含 1 或 2 行文本，它们包含超过 2 行文本的概率非常低），所以这就是我最终得到：

HTML

```
<div class="flex-container">
  <div>
    <p>Lorem ipsum...</p>
    <p>Lorem ipsum...</p>
  </div>
  <div>
    <p>Lorem ipsum...</p>
    <p>Lorem ipsum...</p>
  </div>
</div> 
```

CSS

```
div.flex-container {
  display: flex;
}
div.flex-container p {
  font-size: 1em;
  line-height: 1.125; // Default is 1.2, but varies by browser
  min-height: 2.25em; // 2 * 1em * 1.125
                      // (number of lines) * (font-size) * (line-height multiplier)
} 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-06-22T07:23:02.007

你应该使用[clearfix hack](http://nicolasgallagher.com/micro-clearfix-hack/)

它将允许您在不指定任何高度的情况下对齐 div。这就像一个行分隔符：

```
=====================      =====================      =====================
Lorem ipsum dolor sit      Lorem ipsum dolor sit      Lorem ipsum dolor sit 
amet, consectetur          amet, consectetur          amet, consectetur
adipiscing elit.           =====================      =====================
=====================      
{clearfix}
=====================      =====================      =====================
Lorem ipsum dolor sit      Lorem ipsum dolor sit      Lorem ipsum dolor sit 
amet, consectetur          amet, consectetur          =====================
=====================      adipiscing elit.
                           ===================== 
```

当然，您仍然可以在每个 div 上设置高度/边距：

编辑 ：

对于不使用表格的内部相同大小，您有几种解决方案：

[如果您只使用背景，则`overflow:hidden`在父母身上使用，在孩子身上额外使用。`margin-bottom`](http://www.alphapapahotel.com/equal-height-div-columns-100-percent/css/)

[使用`display-table`属性（方法一）](http://buildinternet.com/2009/07/four-methods-to-create-equal-height-columns/)

[或使用 javascript (方法 3)](http://buildinternet.com/2009/07/four-methods-to-create-equal-height-columns/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-22T07:24:48.467

我不知道你为什么想要那个..但是你可以根据你要使用的字体的大小来修复 div 类的高度和宽度。说你的字体大小是 10 像素，你将使用 10 像素的填充然后使用 50 像素高度的 div .. 然后在这些 div 中添加一个**边距底部**，我认为你很高兴！

# class - 如何为我从 Lua 中的另一个类分配值的对象添加事件侦听器？

> ID：11151730
> 
> 赞同：0
> 
> 时间：2012-06-22T07:16:22.290
> 
> 标签：class, lua, coronasdk, addeventlistener

我正在尝试为我将另一个类的函数值分配给的对象编写一个触摸事件。但是，它给了我这个错误：尝试调用 'addEventListener' nil 值。

这是我的 fish.lua 代码：

```
function class()
 local cls = {}
 cls.__index = cls
 return setmetatable(cls, {__call = function (c, ...)
    instance = setmetatable({}, cls)
    if cls.__init then
        cls.__init(instance, ...)
    end
    return instance
  end})
end

Color= class()

function Color:__init(image)
  self.image=display.newImage(image,30,30)
end

originalImage="fish.small.red.png"
differentImage="fish.small.blue.png" 
```

这是我的 main.lua 代码：

```
require  "fish"

local fishImage=Color(originalImage)

function listen(event)
if(phase.event=="began") then
    fishImage=Color(differentImage)
  end
 end

fishImage: addEventListener("touch", listen) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-23T14:42:20.193

你有很多错误。但以此为例：fish.lua

```
local fish = {}

fish.color = function(image)
    local image = display.newImage(image,30,30)
    return image
end

return fish 
```

主程序.lua

```
display.setStatusBar(display.HiddenStatusBar)

local fish = require("fish")
local fishImage = fish.color("Icon.png")

local function listen(event)
    if(event.phase=="began") then
        fishImage=fish.color("Icon-60.png")
    end
end

fishImage:addEventListener("touch", listen) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:39:35.843

`fishImage`是您创建的 (Color) 类的一个实例，它没有名为 的方法`addEventListener`，至少在您显示的代码中没有。也许你的意思是：

```
fishImage.image:addEventListener('touch', listen) 
```

这是向您的 Color 类封装的电晕图像对象添加一个事件侦听器。

# haskell - 为什么 FingerTrees 的使用不足以实现稳定的实现？

> ID：11151732
> 
> 赞同：15
> 
> 时间：2012-06-22T07:16:30.073
> 
> 标签：haskell, data-structures, finger-tree

不久前，我看到[一篇关于 FingerTrees 的文章](http://scienceblogs.com/goodmath/2010/04/finger_trees_done_right_i_hope.php)（另请参阅[随附的 Stack Overflow Question](https://stackoverflow.com/questions/8450448/finding-the-missing-reduce-typeclass-from-finger-tree-article)）并将这个想法归档。我终于找到了使用它们的理由。

我的问题是[Data.FingerTree 包](http://hackage.haskell.org/package/fingertree-0.0.1.0)的边缘似乎有点腐烂。此外，使用数据结构的 Containers 包中的[Data.Sequence](http://www.haskell.org/ghc/docs/latest/html/libraries/containers/Data-Sequence.html)[重新实现](http://www.haskell.org/ghc/docs/latest/html/libraries/containers/src/Data-Sequence.html#line-259)了一个（可能更好的）版本，但不导出它。

尽管这种结构在理论上看起来很有用，但它似乎并没有得到很多实际使用或关注。有没有人发现FingerTrees作为一个实际的东西没有用，或者这是一个不够重视的案例？

* * *

**进一步解释**：

我有兴趣构建一个包含具有良好连接属性的文本的数据结构。考虑从各种片段构建 HTML 文档。大多数预构建的解决方案都使用字节串，但我真的想要一些能正确处理 Unicode 文本的东西。我目前的计划是将 Data.Text 片段分层到 FingerTree 中。

我还想借用 Data.Vector 的技巧，即在不使用 (offset,length) 操作进行复制的情况下获取切片。Data.Text.Text 已将此内置到数据类型中，但仅将其用于有效的 uncons 和 unsnoc 操作。在 FingerTree 中，此信息很容易成为`v`树的注释或注释。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-22T10:16:52.937

要特别回答您关于手指树的问题，我认为问题在于它们与数组相比具有相对较高的恒定成本，并且比实现有效连接的其他方法更复杂。一个 Builder 有一个更有效的界面来附加块，它们通常很容易获得（参见@informatikr 答案中的链接）。假设这`Data.Text.Lazy`是使用块的链接列表实现的，并且您正在`Data.Text.Lazy`从构建器创建一个。除非您有很多块（可能超过 50 个），或者重复访问列表末尾附近的数据，否则手指树的高固定成本可能不值得。

出于性能原因，该`Data.Sequence`实现是专门的，并不像`fingertree`包提供的完整接口那样通用。这就是它不被导出的原因；它实际上不可能用于除`Sequence`.

我还怀疑许多程序员对于如何实际使用 monoidal 注释不知所措，因为它存在相当大的抽象障碍。很多人不会使用它，因为他们看不到它与其他数据类型相比有何用处。

[直到我阅读了 Chung- jieh Shan 的关于](http://conway.rutgers.edu/~ccshan/wiki/blog/posts/WordNumbers4/)[字数](http://conway.rutgers.edu/~ccshan/wiki/blog/posts/WordNumbers1/)的系列博客（[part2](http://conway.rutgers.edu/~ccshan/wiki/blog/posts/WordNumbers2/) , part3 , [part4](http://conway.rutgers.edu/~ccshan/wiki/blog/posts/WordNumbers3/) ），我才真正明白了这一点。这证明了这个想法绝对可以在实际代码中使用。

在您的情况下，如果您需要检查部分结果并进行有效的附加，则使用手指树可能比构建器更好。根据构建器的实现，您最终可能会在转换为时进行大量重复工作`Text`，向构建器添加更多内容，`Text`再次转换为等。但这取决于您的使用模式。

你可能对我的[splaytree](http://hackage.haskell.org/package/splaytree)包感兴趣，它提供了带有 monoidal 注释的 splay 树，并在它们之上构建了几种不同的结构。除了 splay 树本身，`Set`and`RangeSet`模块具有或多或少完整的 API，该`Sequence`模块主要是我用于测试的骨架。它不是您正在寻找的“包含电池”的解决方案（同样，@informatikr 的答案提供了这些），但是如果您想尝试使用 monoidal 注释，它可能比`Data.FingerTree`. 请注意，如果您按顺序遍历所有元素（或不断地 snoc 到最后，或类似的），展开树可能会变得不平衡，但如果追加和查找是交错的，则性能可能会非常好。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-06-23T02:03:41.177

除了 John Lato 的回答之外，我还会添加一些关于手指树性能的具体细节，因为我过去花了一些时间来研究它。

大致的总结是：

*   `Data.Sequence`具有很大的常数因子和渐近线：它几乎与`[]`访问列表前面时一样快（两个数据结构都具有 O(1) 渐近线），并且在列表中的其他地方快得多（其中`Data.Sequence`的对数渐近线 trounce`[]`的线性渐近线）。

*   `Data.FingerTree`具有与 相同的渐近`Data.Sequence`性，但要慢一个数量级。

就像列表一样，手指树的每个元素的内存开销也很高，因此应该将它们与分块结合使用，以更好地使用内存和缓存。事实上，有几个包可以做到这一点（[yi](https://github.com/yi-editor/yi/blob/master/yi/src/library/Data/Rope.hs#L73)，[trifecta](http://hackage.haskell.org/package/trifecta)，[rope](http://hackage.haskell.org/package/rope)）。如果`Data.FingerTree`可以`Data.Sequence`在性能上接近，我希望看到一种`Data.Text.Sequence`类型，它实现了一个`Data.Text`值的手指树。这种类型会失去 的流式传输行为`Data.Text.Lazy`，但会受益于改进的随机访问和连接性能。（同样，我想看到`Data.ByteString.Sequence`和`Data.Vector.Sequence`。）

现在实现这些的障碍是不存在手指树的**有效**和**通用**实现（请参阅下面我进一步讨论的地方）。为了产生`Data.Text.Sequence`一个有效的实现，必须完全重新实现手指树，专门用于`Text`- 就像`Data.Text.Lazy`完全重新实现列表，专门用于`Text`. 不幸的是，手指树比列表复杂得多（尤其是[串联](http://hackage.haskell.org/packages/archive/fingertree/0.0.1.0/doc/html/src/Data-FingerTree.html#line-414)！），所以这是一个相当大的工作量。

所以在我看来，答案是：

*   专门的手指树很棒，但是要实现很多工作
*   分块手指树（例如`Data.Text.Sequence`）*会*很棒，但目前性能不佳`Data.FingerTree`意味着它们在常见情况下不是分块列表的可行替代方案
*   构建器和分块列表实现了分块手指树的许多好处，因此它们足以满足常见情况
*   在构建器和分块列表不够用的*罕见情况下，我们咬紧牙关忍受分块指树（例如在 yi 和 trifecta 中）的不良常数因子。*

# 高效通用手指树的障碍

`Data.Sequence`和之间的大部分性能差距`Data.FingerTree`是由于以下两个优化`Data.Sequence`：

*   度量类型专门用于`Int`，因此度量操作将编译为有效的整数运算，而不是

*   [度量类型被解包到`Deep`构造函数](https://github.com/haskell/containers/blob/master/Data/Sequence.hs#L274)中，它将指针解引用保存在树操作的内部循环中。

可以在一般情况下应用这些优化，即`Data.FingerTree`通过使用[数据族进行通用解包](http://donsbot.wordpress.com/2009/10/11/self-optimizing-data-structures-using-types-to-make-lists-faster/)并利用 GHC 的内联和专用程序 - 请参阅我的[fingertree-unboxed 包](https://github.com/reinerp/fingertree-unboxed)，它使通用手指树的性能几乎达到`Data.Sequence`. 不幸的是，这些技术存在一些重大问题：

*   [通用解包的数据族对用户来说是不愉快的](http://www.haskell.org/pipermail/glasgow-haskell-users/2010-August/019052.html)，因为它们必须定义很多实例。这个问题没有明确的解决方案。

*   手指树使用多态递归，GHC 的专业人士不能很好地处理（[1](http://hackage.haskell.org/trac/ghc/ticket/5326)、[2](http://hackage.haskell.org/trac/ghc/ticket/5298)）。这意味着，为了在度量类型上获得足够的专业化，我们需要大量的`INLINE`pragma，这会导致 GHC 生成大量代码。

由于这些问题，我从未在 Hackage 上发布过这个包。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-06-22T09:03:50.690

忽略您的手指树问题，只回应您的进一步解释：您是否查看[过 Data.Text.Lazy.Builder](http://hackage.haskell.org/packages/archive/text/0.11.2.2/doc/html/Data-Text-Lazy-Builder.html)或专门用于构建 HTML 的[blaze-html](http://hackage.haskell.org/package/blaze-html)？

两者都允许快速连接。对于切片，如果这对解决您的问题很重要，那么它们可能没有理想的性能。

# android - Android：如何存储可能在运行时更新的资源

> ID：11151764
> 
> 赞同：0
> 
> 时间：2012-06-22T07:18:48.053
> 
> 标签：android, configuration, resources, updates

存储与应用程序一起分发并在运行时更新的声音文件 (ogg) 的最佳方式是什么？

我正在开发一个应用程序，其中包含一组默认声音作为资源 (res/raw/*.ogg)。这些在默认情况下可以正常工作，但我希望用户能够使用录制的声音和从 Internet 下载的声音来更新声音集。问题是资源是只读的，我认为资产也是只读的。我不知道如何在项目中包含文件，以便可以在运行时更新它们。

我可以将默认值作为在运行时添加到内部存储或 SD 卡上的资源和文件，但我更希望将所有文件放在一个地方，并通过一个界面来访问它们。有没有办法在项目中包含文件，以便在安装应用程序时将它们写入内部存储或 SD 卡？或者有没有更好的地方放文件？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T07:24:13.620

`/asset`打包 .apk 文件时将文件放在目录中。在运行时将这些文件复制到应用程序的内部存储中`/data/data/<application_package_name>/files`（如果文件不是太大，当设备不包含外部存储时它很有用）。还要更新同一位置的文件..

# iphone - 如何从 Google 日历向 iPhone 原生日历添加事件？

> ID：11151765
> 
> 赞同：0
> 
> 时间：2012-06-22T07:18:54.707
> 
> 标签：iphone, objective-c, ios, google-calendar-api, eventkit

我想以编程方式将事件从谷歌的日历添加到本机日历。我有一个程序可以从谷歌日历中获取事件并在表格视图中显示它们。如何将这些事件添加到 iphone 的本机日历中？

# javascript - javascript 中的数字计算机 hud

> ID：11151766
> 
> 赞同：0
> 
> 时间：2012-06-22T07:18:55.477
> 
> 标签：javascript, animation

是否可以在 javascript 中做这样的事情：[http ://www.youtube.com/watch?v=E7hEHRoq080](http://www.youtube.com/watch?v=E7hEHRoq080)

我不确定，但我认为你必须使用画布。如果它是远程可能的，有什么工具可以做这样的事情。我需要一个补间库吗？

我知道我可以创建一个视频并展示它，但我希望体验看起来是无缝的，并且不需要任何类型的插件。

# algorithm - 在绘图引擎中查找交叉线

> ID：11151767
> 
> 赞同：1
> 
> 时间：2012-06-22T07:18:57.437
> 
> 标签：algorithm, actionscript-3

我正在开发一个小型多媒体项目，其中用户可以通过用线连接点在画布（2d）上绘制形状。但我需要禁止用户越界。

我正在寻找的是一个可以找到相交线的小算法。该项目是在 AS3/Flash 中完成的，但我想答案是通用的。

任何人都可以给我一个线索？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T08:21:01.277

这是 Java 中的一个示例，但我认为您可以轻松适应 AS3：

```
public static boolean intersects(double ax, double ay, double bx, double by,
        double cx, double cy, double dx, double dy) {
    double denum = ((bx-ax)*(dy-cy)-(by-ay)*(dx-cx));
    if (denum == 0) return false; // parallel segments
    double r = ((ay-cy)*(dx-cx)-(ax-cx)*(dy-cy)) / denum;
    double s = 
            ((ay-cy)*(bx-ax)-(ax-cx)*(by-ay)) / denum;
    return 0<=r && r<=1 && 0<=s && s<=1;
} 
```

如果线段 [AB] 和 [CD] 相交，它应该返回 true。[你可以在这里](http://www.faqs.org/faqs/graphics/algorithms-faq/)找到参考

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T09:13:32.263

您可以使用方法`Point`、`hitTest`或。我不知道 Super Chafouin 的回答是否有帮助，但我相信代码在 AS3 中看起来完全不同。`hitTestObject``hitTestPoint`

为了解释它们的意思，我将引用[actionscript.org的](http://www.actionscript.org/forums/showthread.php3?t=272790)*Aaron Beall*的话，给出一个很好的解释：

> **hitTestObject**检查两个显示对象的边界框矩形。它总是检查矩形与矩形。
> 
> **hitTestPoint**针对显示对象检查一个点 (x,y)： - shapeFlag true 它检查 point-vs-shape - shapeFlag false 它检查 point-vs-rectangle
> 
> BitmapData/ **hitTest**根据点、矩形或其他位图数据检查位图。使用 bitmapdata-vs-bitmapdata 检查意味着您可以执行基于 alpha 通道的 shape-vs-shape 检查。见这里： http: [//www.mikechambers.com/blog/200...ion-detection/](http://www.mikechambers.com/blog/2009/06/24/using-bitmapdata-hittest-for-collision-detection/)
> 
> （另外，不要吹毛求疵，只是为了确保你理解，hitTestObject 或 hitTestPoint 都不是“触发的”——当你想检查某些东西时，你必须手动调用它们。）

要求一个完整的算法是很重要的，它也取决于你的应用程序。

有关更多示例和文档，请参见**[此处](http://help.adobe.com/nl_NL/ActionScript/3.0_ProgrammingAS3/WS5b3ccc516d4fbf351e63e3d118a9b90204-7dca.html)**，**[此处](http://community.adobe.com/help/search.html?q=hittest&hl=nl_NL&lr=nl_NL&l=flash_product_adobelr&requiredfields=book%3aActionScript%25C2%25A03%252E0%2520voor%2520Flash%2520programmeren&self=1&filter=0)**

我希望这个能帮上忙！

# api - 客户端 web - 如何随时获取当前记录 id

> ID：11151768
> 
> 赞同：2
> 
> 时间：2012-06-22T07:19:09.137
> 
> 标签：api, web, openerp

我正在尝试解决[“基于工作流状态的不同权限”](https://stackoverflow.com/questions/10994216/different-permissions-based-on-workflow-state)问题，但我正在努力解决这样一个事实，即似乎不可能“随时”获取当前对象的 id，而这是获取该对象的许可。我的意思是，我设法在[jquery bbq 文档之后](http://benalman.com/code/projects/jquery-bbq/docs/files/jquery-ba-bbq-js.html#jQuery.bbq.getState)从客户端状态获取它，例如：

```
$.bbq.getState().id 
```

但看起来这只有在完整的页面加载后才可行。我通过在主视图事件中放置一些警报来对此进行调查，例如：

```
openerp.web.PageView = openerp.web.PageView.extend({
    on_loaded: function(data) {
        this._super(data);
        alert('page load ' + $.bbq.getState().id);
    },
    do_show: function() {
        this._super();
        alert('page show ' + $.bbq.getState().id);
    },
    reload: function() {
        this._super();
        alert('page reload ' + $.bbq.getState().id);
    },
    on_record_loaded: function(record) {
        this._super(record);
        alert('record loaded ' + $.bbq.getState().id);
    }
}); 
```

我发现当您打开页面视图时（例如，通过单击搜索视图中的项目），您*总是*得到“未定义”。

然后，当使用分页导航从一个对象传递到另一个对象时，您可以将其放入“reload”和“on_record_loaded”。然后，当您单击“编辑”按钮时，您会再次错过它。

在表单视图中，我*仅在第一次加载*时成功获得它，因为似乎一些缓存就位。因此，如果我将一个 pdb 放入 Web 客户端的 fields_view_get 中，然后将其放入“init_view”表单中：

```
var ids = [];
if ($.bbq.getState().id){
    ids = [parseInt($.bbq.getState().id)];
}
console.log(ids);
return this.rpc("/web/view/load", {
    "model": this.model,
    "view_id": this.view_id,
    "view_type": "form",
    toolbar: this.options.sidebar,
    context: context,
    ids: ids,
    }, this.on_loaded); 
```

我只在第一次加载页面时得到它。如果我从

```
this.dataset.ids 
```

我查看了核心 Web 模块的任何地方，但找不到合适的 API，而且看起来很奇怪（尤其是在数据集上），我们没有正确的方法来获取/处理当前记录。甚至上下文和会话也没有任何相关信息。

可能我应该在第一次加载时将其存储到视图本身中......

在此先感谢您的任何指点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-10T04:49:32.300

尝试：

this.view.datarecord.id

表单视图中的 OpenERP 7：使用 google chrome 进行调试

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T08:03:30.927

尝试组合

`this.dataset.ids`和`this.dataset.index`

喜欢 `curr_id = this.dataset.ids[this.dataset.index]`

这可能会解决您的问题。

# vb.net - 使用 VB.NET 将用户定义的对象保存到 Windows 注册表中

> ID：11151769
> 
> 赞同：1
> 
> 时间：2012-06-22T07:19:14.783
> 
> 标签：vb.net

我需要将创建的对象保存到 Windows 注册表中并在重新打开应用程序后读取它？我知道如何保存和读取字符串，但这是一个复杂的对象。

任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T07:29:56.563

您可能想要使用[XmlSerializer](http://msdn.microsoft.com/en-us/library/system.xml.serialization.xmlserializer.aspx)（或其他序列化程序）。它易于使用，文档中充满了示例。

但为什么将其存储在注册表中？

更好地使用[应用程序设置和用户设置](http://msdn.microsoft.com/en-us/library/bb397750)。

**编辑：**

而不是注册表，将您的对象保存到用户的 ApplicationData 目录中的文件中。您可以使用以下命令获取此目录的路径

```
Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) 
```

完整示例：

```
Imports System.IO
Imports System.Xml.Serialization

Module Module1

    Public Class MySuperClass
        Public Property MyString() As String
        Public Property MyInt() As Int32
    End Class

    Public Sub Main(ByVal args() As String)
        Dim myFolder = Path.Combine(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData), "MyApplication")
        If Not Directory.Exists(myFolder) Then
            Directory.CreateDirectory(myFolder)
        End If

        Dim myFile = Path.Combine(myFolder, "MySettings.txt")

        Dim o = New MySuperClass With {.MyString = "Hi!", .MyInt = 42}
        Dim x = New XmlSerializer(GetType(MySuperClass))

        Using sr = New StreamWriter(myFile)
            ' Save directly to file
            x.Serialize(sr, o)
        End Using

        ' for demonstrating purpose
        o = Nothing

        Using sr = New StreamReader(myFile)
            ' Load directly from file
            o = CType(x.Deserialize(sr), MySuperClass)
        End Using

    End Sub

End Module 
```

# asp.net - 如何使用存储过程在编辑个人资料页面中重新检查用户名和电子邮件 ID？

> ID：11151774
> 
> 赞同：0
> 
> 时间：2012-06-22T07:19:27.447
> 
> 标签：asp.net, sql-server-2008, stored-procedures

在 asp.net 网页中，使用会话从登录页面获取用户名、密码、电子邮件 ID。在编辑个人资料页面中，用户想要更改用户名和电子邮件 ID，并且已在 sql db 中更新。在进行更新之前，首先使用会话选择特定的用户记录，获取新的用户名和新的 emailid 检查除该用户记录之外的记录。如果该记录中没有人意味着允许用户更新，否则显示消息“已经存在”。如何使用存储过程来做到这一点？

任何人请为此提供存储过程编码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:31:38.433

```
Create PROCEDURE [dbo].[uspUpdateUserName] 

    @newusername varchar(500),
    @newPassword varchar(500),
    @UserID int,
@Result int output

AS
BEGIN

    if exists(Select username from table 
    where username = @newusername and Password = @Password)
    Begin
        Print('already exist')
        Set @Result = -1
    End
    else
    Begin
         Update table
         Set username = @newusername,
         Password = @Password
         where UserID = @UserID
     Set @Result = UserID     

    End

END 
```

# javascript - 如果将元素添加到 DOM 并立即删除，该元素是否可见？

> ID：11151776
> 
> 赞同：0
> 
> 时间：2012-06-22T07:19:31.047
> 
> 标签：javascript, jquery, dom

如果将元素添加到 DOM 并立即删除，*即使眨眼也能看到元素吗？*

```
var feed    = $('<div class="entry"></div>').text(data.status).appendTo(app.twitter_feed);

console.log(feed.height());

feed.remove(); 
```

我已经在几个浏览器上尝试了上面的代码，但看不到元素。但是这种行为在所有平台/浏览器中是否一致？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T07:28:10.637

在阅读[了您之前的问题](https://stackoverflow.com/questions/11151668/if-container-width-padding-and-line-height-is-known-how-to-calculate-height)之后，您似乎非常想在实际显示元素之前计算它的显示高度。我不完全清楚你*为什么*要这样做（它散发出难闻的气味），但无论如何，这里是如何做的。

将 a与、和所需的元素宽度一起放入`<div>`您的页面中¹。在那个外部辅助 div 里面添加我们正在讨论的内容（无论如何它都不会显示），并在浏览器执行布局后获取它的高度。之后，您可以随心所欲地继续（例如，通过将内部移动到 DOM 树中的另一个位置）。`height: 0``overflow: hidden``<div>``<div>`

¹ 最好将它准确地放在你想要的`.entry`最终位置（即`.entry`辅助 div 最终将成为兄弟姐妹）。

PS：如果您[提及您的真正目的](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem)，对每个人总是更好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:24:20.443

我可以想象这样一种情况，其中浏览器要能够计算元素的有效高度，它必须在窗口上呈现它，或者至少让元素的框根据当前站点布局重排。它可能不可见（是的，它会立即被删除），但是这样的情况会重新排列页面，并且可以看到页面上受影响元素的*移动*。

例如，图像会浮现在脑海中，因为浏览器通常不知道图像的尺寸，直到他们尝试将它们布置好（如果我错了，请纠正我）。

所以，不，我不会说这是一致的行为。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T07:27:38.010

像这样实现它。制作 app.twitter_feed 的克隆，并将其发送到地狱（坐标：x:-30000，y:-30000）并在那里尝试任何你喜欢的东西。

```
var cloneTWFeed = $(app.twitter_feed).clone();
cloneTWFeed.css("position", "absolute").css("top","-30000").css("left","-30000");
var feed = $('<div class="entry"></div>').text(data.status).appendTo(cloneTWFeed);
console.log(feed.height());
feed.remove(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-22T07:35:01.940

您当前的代码工作得很好，但是您永远看不到该元素，因为在您附加它之后，您将其删除。

浏览器看到它，在他删除它的时候，就在被附加之后。

请参阅此[工作小提琴](http://jsfiddle.net/zuul/2UsW3/)示例！

在那里，我将 console.log 替换为 alert() 以强制浏览器等待我的响应，从而使我能够看到页面上的元素。

**注意：** console.log() 也可以正常工作，给我 18px 的高度。

* * *

您可以将 remove() 包裹在计时器上以实际查看元素（视觉上），或者如果 HTML 标记过于密集，或者所需的效果是仅从元素中收集数据，请将元素放在隐藏的元素中，这样，您可以在从其中收集数据后将其删除。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-06-22T07:24:23.627

如果您必须实现的是高度测量，请尝试添加不可见的元素（请参阅 CSS： [http](http://reference.sitepoint.com/css/visibility) ://reference.sitepoint.com/css/visibility ）

在不会导致元素流出现问题的页面区域中。

# php - 简单的 HTML DOM 库

> ID：11151782
> 
> 赞同：2
> 
> 时间：2012-06-22T07:19:57.820
> 
> 标签：php, simple-html-dom

在包含简单的 HTML DOM 库时，我收到了警告：

警告：file_get_contents() [function.file-get-contents]：php_network_getaddresses：getaddrinfo 失败：不知道这样的主机。在第 70 行的 C:\xampp\htdocs\simple_html_dom.php

警告：file_get_contents(http://www.google.com/) [function.file-get-contents]：无法打开流：php_network_getaddresses：getaddrinfo 失败：不知道这样的主机。在第 70 行的 C:\xampp\htdocs\simple_html_dom.php

simple_html_dom.php 文件（从[http://sourceforge.net/projects/simplehtmldom/files/latest/download](http://sourceforge.net/projects/simplehtmldom/files/latest/download)下载）中的第 70 行是

```
 $contents = file_get_contents($url, $use_include_path, $context, $offset); 
```

还有1个错误：

致命错误：在第 15 行的 C:\xampp\htdocs\domdoc2.php 中的非对象上调用成员函数 find()

其中代码（下）的第 15 行是

```
foreach($html->find('img') as $element) 
```

我在下面的代码中引用的网页是 google.com 代码如下：

```
 <?php

include('simple_html_dom.php');
$html = new simple_html_dom();  
$html = file_get_html('http://www.google.com/');
// Find all images 
foreach($html->find('img') as $element) 
       echo $element->src . '<br>';

// Find all links 
foreach($html->find('a') as $element) 
       echo $element->href . '<br>';
?> 
```

我究竟做错了什么？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T07:27:28.793

这是因为您的主机无法解析 DNS，当 simplehtmldom 使用 file_get_contents 而不是 curl 时会发生这种情况。PHP Simple HTML DOM Parser 是一个很棒的 HTML 解析 PHP 类，但它很慢，因为它使用 file_get_contents（几乎所有配置都禁用）而不是 cURL（快 4-5 倍，并且有很多选项，几乎每个服务器都有它） .

只有 file_get_contents 被替换，所以你可以安全地覆盖以前的版本，一切都会像以前一样工作，只是更快

源代码链接： [http ://webarto.com/static/download/simple_html_dom.rar](http://webarto.com/static/download/simple_html_dom.rar)

```
//output should be

/intl/en_ALL/images/srpr/logo1w.png
http://www.google.com/webhp?hl=en&tab=ww
http://www.google.com/imghp?hl=en&tab=wi
http://maps.google.com/maps?hl=en&tab=wl
https://play.google.com/?hl=en&tab=w8
http://www.youtube.com/?tab=w1
http://news.google.com/nwshp?hl=en&tab=wn
https://mail.google.com/mail/?tab=wm
https://docs.google.com/?tab=wo
http://www.google.com/intl/en/options/
https://www.google.com/calendar?tab=wc
http://translate.google.com/?hl=en&tab=wT
http://www.google.com/mobile/?tab=wD
http://books.google.com/bkshp?hl=en&tab=wp
https://www.google.com/offers/home?utm_source=xsell&utm_medium=products&utm_campaign=sandbar&tab=wG#!details
https://wallet.google.com/manage/?tab=wa
http://www.google.com/shopping?hl=en&tab=wf
http://www.blogger.com/?tab=wj
http://www.google.com/reader/?hl=en&tab=wy
http://www.google.com/finance?tab=we
http://picasaweb.google.com/home?hl=en&tab=wq
http://video.google.com/?hl=en&tab=wv
http://www.google.com/intl/en/options/
https://accounts.google.com/ServiceLogin?hl=en&continue=http://www.google.com/
http://www.google.com/preferences?hl=en
/preferences?hl=en
/url?sa=p&pref=ig&pval=3&q=http://www.google.com/ig%3Fhl%3Den%26source%3Diglk&usg=AFQjCNFA18XPfgb7dKnXfKz7x7g1GDH1tg
http://www.google.com/history/optout?hl=en
/advanced_search?hl=en
/language_tools?hl=en
/intl/en/ads/
/services/
https://plus.google.com/116899029375914044550
/intl/en/about.html
/intl/en/policies/ 
```

但是，如果您对 PHP 中的 HTML 解析完全陌生，请考虑阅读：[您如何在 PHP 中解析和处理 HTML/XML？](https://stackoverflow.com/questions/3577641/how-to-parse-and-process-html-with-php/3577662#3577662)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T07:22:32.500

这与`simple_html_dom`. 您的服务器无法访问 Internet，并且无法解析`google.com`。检查 DNS 设置，也许还有防火墙。

# java - 是否可以在 Android 中使用 phoneGap 在 sdcard 中加载/创建数据库？

> ID：11151783
> 
> 赞同：4
> 
> 时间：2012-06-22T07:19:58.293
> 
> 标签：java, android, cordova

如何从 sdcard 加载现有的 .db 文件或使用 phoneGap 或任何可与 phoneGap 一起使用的插件在 sdcard 中创建数据库？

我想将我的 .db 文件保存在 sdcard 中，因为数据库的大小可能会增加。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T11:20:57.660

我面临同样的问题，但是在对 phonegap-cordova 库进行了长时间的彻底阅读之后，我发现它缺乏提供选择路径的灵活性。

原因可能是由于跨平台限制，库绑定你使用默认的应用程序路径，所以在不同的平台上，库可以轻松获取文件。

但是什么！！有一个技巧可以实现目标....

```
function onDeviceReady() {
    var db = window.openDatabase("test", "1.0", "Test DB", 1000000);
} 
```

实际上，当 JavaScript 调用 'openDatabase()' 函数时，它会做以下事情

*   在 db_name 之前添加**'/data/data/<package_name_of_your_app>/'**
*   并在 db_name 之后添加**“.db”**

即：在上述情况下，结果将是；

> /data/data/<package_name_of_your_app>/test.db

所以诀窍就在这里；

```
function onDeviceReady() {
      var db = window.openDatabase("../../../../mnt/sdcard/test", "1.0", "Test DB", 1000000);
} 
```

*   在db_name之前添加'../../../../mnt/sdcard/'，不要添加扩展名，因为库添加'.db'本身，如果添加任何扩展名，那么你的db文件将是**db_name。（你的扩展名）.db**

怎么办！它会;

*   在 db_name 之前添加**'/data/data/<package_name_of_your_app>/'**
*   并在 db_name 之后添加**“.db”**
*   它会占用您的 db_name '../../../../mnt/sdcard/test'

因此，结果将是；

> /data/data/<package_name_of_your_app>/../../../../mnt/sdcard/test.db

所以，它会回到你手机的根目录，然后是**/mnt/sdcard**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:26:03.457

对的，这是可能的。连同您需要在连接字符串中提及数据库文件路径的更改。有关更多类似代码参考的信息，请查看[此处](http://androidgenuine.com/?tag=save-database-to-sdcard-android)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T07:26:05.283

是的 。你可以，我只提供链接 [http://gauravstomar.blogspot.se/2011/08/prepopulate-sqlite-in-phonegap.html?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed:+GauravSTomarBootstrappingIntelligence+(Gaurav+S+Tomar+ ：+引导+智能](http://gauravstomar.blogspot.se/2011/08/prepopulate-sqlite-in-phonegap.html?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed:+GauravSTomarBootstrappingIntelligence+(Gaurav+S+Tomar+:+Bootstrapping+Intelligence)）

这实际上是关于预填充。你可以从中得到一些东西。对于想要预先填充的人来说，就是这样。

# svn - 不要破坏构建 - 如何？

> ID：11151785
> 
> 赞同：3
> 
> 时间：2012-06-22T07:20:09.460
> 
> 标签：svn, maven, version-control, build, build-process

以下是我在签入代码之前始终遵循的步骤，

1.  从 svn 获取最新信息

2.  合并冲突文件

3.  建造

4.  运行我的测试

5.  报到

尽管如此，如果有任何我可能错过签入的本地更改，我仍然有可能会破坏构建。我知道拥有一个持续集成服务器将一劳永逸地解决这个问题。但这是一个新项目，尚未设置 CI 服务器。

以下是我阅读的有关该主题的一些有用文章。

*   [不要破坏构建](http://nathanbrixius.wordpress.com/2011/01/07/dont-break-the-build/)

*   [优秀开发者的版本控制习惯](http://sitaramc.github.com/tips/1-vc-habits.html)

关于如何绝对确保我不会破坏构建的任何建议？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T07:30:09.620

Maven 中没有这样的机制。您在构建后所做的事情以及您签入的内容是您的业务。即使使用 CI，您也可以做任何您想做的事情，您只是很早就知道您破坏了构建。它不会阻止您做错事，它只是提供快速反馈。但是，当您尝试使用 Maven 进行发布（使用`maven-release-plugin`）时，它会检查是否有一些未提交的更改，因此您可以确定与发布相关的构建是正常的，这非常重要。但在我看来，仅通过常规构建就不是那么重要了。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-22T07:52:21.770

> 尽管如此，如果有任何我可能错过签入的本地更改，我仍然有可能会破坏构建

`svn status`您可以在提交后通过命令检查您的工作副本。这将减少忘记添加内容并提交到存储库的机会。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-22T07:58:01.380

没有简单的方法可以确定。当你犯错时，你总是会犯错。这些规则有助于将风险降至最低

*   养成“始终提交所有内容”的习惯，即不要保留本地更改，也不要在同一个工作副本中处理两个任务。

*   在提交之前，检查未版本化的文件。

*   在构建服务器和开发人员机器上保持构建过程相同。

# css - 将页面内容隐藏在透明标题后面

> ID：11151787
> 
> 赞同：0
> 
> 时间：2012-06-22T07:20:15.550
> 
> 标签：css, navigation, scroll

我有一个固定的导航栏，使用弯曲的功能区图像，在实际功能区的上方和下方都有透明位，并且我有一个缩放的全尺寸背景（所以我不能在顶部制作一个具有匹配背景的导航栏）。我希望页面内容在用户滚动时消失在功能区后面，在导航栏的中间。

这与这两个问题是同一个问题，答案（很好）对我不起作用。

[滚动页面时隐藏透明固定位置div后面的可滚动内容？](https://stackoverflow.com/questions/6529421/hide-scrollable-content-behind-transparent-fixed-position-divs-when-scrolling-th)

[隐藏透明标题下的滚动内容](https://stackoverflow.com/questions/10608214/hide-scrolling-content-under-transparent-header)

这是我不想要的：

[http://imageshack.us/photo/my-images/213/badnr.jpg/](http://imageshack.us/photo/my-images/213/badnr.jpg/)

这是我想要的，但没有滚动条：

[http://imageshack.us/photo/my-images/534/scrolled.jpg/](http://imageshack.us/photo/my-images/534/scrolled.jpg/)

提前感谢您的帮助，非常感谢，这个网站已经并将继续教会我很多东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T06:02:05.303

css z-index 属性应该可以将任何元素放在另一个元素的前面或后面。像这样：

```
<style type="text/css">
 body, html {
margin:0 auto;
padding:0;
font-family:Verdana, Geneva, sans-serif;
font-size:12px;
 }
/* Header Styling */
 #header {
color:#FFF;
background: url(/images/header-back.png) repeat-x;
position:fixed;
top:0;
left:0;
width:100%;
height:50px;
z-index:1;
  }

#headerWrap {
width:1024px;
margin:0 auto;
height:50px;
}
/* Sub Header */
#subHeader {
position:fixed;
top:50px;
margin:0 auto;
z-index:1;
 }
 #subHeaderWrap {
height:30px;
width:830px;
border-bottom:thin solid #333;
background: url(../images/subheader.png) repeat-x;
  }
  /* Contaier */
  #container {
margin:0 auto;
width:1024px;   
min-height:600px;
   }
   #containerWrap {
margin-top:50px;

   }

   /* Menu */
  #sidebar {
float:left;
width:140px;
min-height:600px;
  }
  #content {
border-left:#333333 solid thin;
border-right:#333333 solid thin;
border-bottom:#333333 solid thin;
float:left;
width:830px;
min-height:600px;
padding-top:30px;
margin-bottom:10px;
  }
 #contentWrap {
width:830px;
margin:0 auto;
padding-bottom:10px;
 }
 </style>
<div id="container">
<div id="header" style="z-index:1;"/* Places div on top */">
This is transparent.
</div>

<div id="containerWrap">
    <div id="sidebar">
Menu Items Here
    </div>

<div id="content">
    <div id="contentWrap">

<div id="subHeader" style="z-index:1;"/* Places div on top */">
<div id="subHeaderWrap">
This div is transparent too, but is now on top.
</div>
</div>

Anything here is scrollable and will scroll under the divs above with z-index:1;

    </div>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-23T06:08:16.297

我找到了您正在寻找的解决方案。

您将使用一点 Jquery 和一些 CSS。我假设您在页脚中加载了最新版本的 Jquery。

标题是固定的，里面的元素是绝对的。我们不会关注页眉中的元素，因为这实际上并不重要，但如果你要在页眉中放置菜单和徽标，你会让它们成为绝对的。

分配了类标头的 HTML Div，或者如果您愿意，您可以只创建一个`<header></header>`元素，无论哪种方式。但是对于这个例子，我们将使用一个类。

```
<div class="header">...Your Header Elements In this...</div> 
```

CSS

```
body {background: url('../img/page-background.jpg') no-repeat top center fixed; background-size: cover;}
.header {position: fixed; top: 0; left: 0; width: 100%; height: 100px; background: transparent;} 
```

JS - 我使用单独的 JS 文件，然后在页脚中加载 Jquery 后加载它。

```
$(window).scroll(function() {
 "use strict";
 var windowYmax = 1;
 var scrolledY = $(window).scrollTop();
   if (scrolledY > windowYmax) {
    $('.header').addClass("hide-content");
   } else {
    $('.header').removeClass("hide-content");
   }
}); 
```

为分配的新类添加此 CSS：

```
.hide-content {background: transparent url('../img/page-background.jpg') no-repeat top center fixed; background-size: cover;} 
```

这是一个 JSfiddle：[The Fiddle](https://jsfiddle.net/pf9qrapq/26/) 由于某种原因，我无法让 JS 在 JSfiddle 中工作，也许有人可以解决这个问题，但我真的没有时间过多地弄乱 JSfiddle，但想提供一个以最终结果为例。所以我只是将 JS 分配的类添加到 HTML 中的 div 中，您可以在预览窗格中看到结果。

# mysql - 在重复键更新中使用不同的列插入选择

> ID：11151805
> 
> 赞同：0
> 
> 时间：2012-06-22T07:21:33.683
> 
> 标签：mysql, on-duplicate-key

```
INSERT INTO options (owner, name, value, modified)
SELECT owner, name, value, modified, @draft:=draft FROM
(
    ...
) `options`
ON DUPLICATE KEY UPDATE value=VALUES(value), modified=@draft 
```

上面会出现列数与行数不匹配的错误。

有没有一种方法可以将一列选择到@draft 中而不将其作为插入值的一部分包含在内，但是它可以在 DUPLICATE KEY UPDATE 中使用？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T10:33:53.643

如[手册](http://dev.mysql.com/doc/en/insert-select.html)所述：

> 的值部分`ON DUPLICATE KEY UPDATE`，可以引用其他表中的列，只要不使用`GROUP BY`该[`SELECT`](http://dev.mysql.com/doc/en/select.html)部分即可。一个副作用是您必须限定值部分中的非唯一列名。

因此，您可以这样做：

```
INSERT INTO options (owner, name, value, modified)
  SELECT owner, name, value, modified FROM ( ... ) options2
ON DUPLICATE KEY UPDATE value=VALUES(value), modified=options2.draft 
```

在[sqlfiddle](http://sqlfiddle.com/#!2/7b47c/1)上查看。

# vba - 按名称引用文件夹

> ID：11151811
> 
> 赞同：2
> 
> 时间：2012-06-22T07:21:44.593
> 
> 标签：vba, outlook, outlook-2010

我需要按名称获取文件夹，而不是按文件夹编号计数。我尝试了各种方法。

```
Dim olApp As Outlook.Application
Dim objNS As Outlook.NameSpace
'Dim OlFolder As Outlook.MAPIFolder
Dim objFolder As Outlook.Folder
Dim myolItems As Outlook.Items
Set olApp = Outlook.Application
Set objNS = olApp.GetNamespace("MAPI")
'Set myOlItems = objNS.GetDefaultFolder(37).Folders("Vijay Baswal").Items
'Open the folder
Set objFolder = olApp.Session.GetDefaultFolder("Vijay Baswal") 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-10-26T12:14:21.820

说在收件箱下面是一个名为 Clients 的文件夹，在它下面是一个名为 Vijay Baswal 的文件夹

设置 objFolder = objNS.GetDefaultFolder(olFolderInbox).Folders("Clients").Folders("Vijay Baswal")

OlDefaultFolders 枚举[http://msdn.microsoft.com/en-us/library/office/bb208072(v=office.12).aspx](http://msdn.microsoft.com/en-us/library/office/bb208072(v=office.12).aspx)

收件箱是 olFolderInbox 或 6。似乎没有 37。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-12-15T06:03:54.733

请参阅下面的 vba 片段以检查如何从特定文件夹中读取邮件

```
 Dim olApp As Outlook.Application
Dim olNs As Outlook.NameSpace
Dim olFldr As Outlook.MAPIFolder
Dim olItms As Outlook.Items
Dim olMail As Variant
Dim outFolder As Outlook.Folder

 Dim olItem As Outlook.MailItem

Dim i As Long

Set olApp = New Outlook.Application
Set olNs = olApp.GetNamespace("MAPI")
Set olFldr = olNs.Folders("folder1").Folders("fol2")
Set olItms = olFldr.Items

olItms.Sort "Subject"

i = 1

For Each olItem In olItms
    'If InStr(olMail.Subject, "Criteria") > 0 Then

       Dim szVar As String
      szVar = olItem.Body
        szVar1 = olItem.Subject
        i = i + 1
    'End If
Next olItem

Set olFldr = Nothing
Set olNs = Nothing
Set olApp = Nothing 
```

# php - 将特定对象的显示次数限制为一个小时的最佳方法？

> ID：11151814
> 
> 赞同：0
> 
> 时间：2012-06-22T07:21:52.780
> 
> 标签：php, mysql

我正在开发一个用 php 编写的 Web 应用程序。我在 mysql 表中有一些对象（表示为行）。我需要在一天中随机显示它们。

如何限制特定对象的显示次数，例如一个小时不超过 10 次？

通过显示计数，我的意思是对象被渲染了多少次。

例如，有 100 张图片，每次浏览量随机显示 5 张。我需要通过将图像的显示计数限制一小时来规范图像显示分布，以防止一个图像显示 1000 个图像，而另一个图像显示 3 个。

希望它有用的解释。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:32:24.840

可能最简单的方法是添加一个调用`last_shown`到您的表的字段，然后如果它在一小时内显示，则将其从候选列表中排除。例如，沿着这些思路：

`SELECT id FROM my_objects WHERE last_shown < DATE_SUB(NOW(), INTERVAL 1 HOUR) ORDER BY RAND() LIMIT 1`

然后，当您显示该实际对象时，为该列添加时间戳，即：

`UPDATE my_objects SET last_shown = NOW() WHERE id = <the_id_you_displayed>`

这种方法更简单，但同样有效。如果您将时间范围减少到每 6 分钟一次，它实际上将类似于“一小时内 10 次”的逻辑，并且不需要一个全新的参考表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:28:49.247

您可以使用和创建一个`log`表。每次随机选择行时，请确保仅选择在过去一小时内显示不超过 10 次的行。`id``date_displayed`

```
SELECT * FROM table
WHERE id NOT IN ( 
   SELECT id FROM log 
   WHERE date_displayed > now() - interval 1 hour 
   GROUP BY id HAVING COUNT(*) >= 10
)
ORDER BY rand() 
```

此外，一小时后您不再需要旧插入，因此您可能需要执行 DELETE 查询以删除旧记录。

```
DELETE FROM log WHERE date_displayed < now() - interval 1 hour 
```

# jquery - 将第二个元素放置在 fieldcontain 表单元素下

> ID：11151815
> 
> 赞同：3
> 
> 时间：2012-06-22T07:21:53.320
> 
> 标签：jquery, html, css, forms, jquery-mobile

是否可以在 jquerymobile 中将文本放置在字段包含样式的文本区域（水平从第二列开始）下？如果可能的话，我想使用原生 jquerymobile 标记而不是创建开销 css/javascript。

[小提琴](http://jsfiddle.net/z8w6r/ "小提琴")

```
---------------------------------
               ----------------
label          | Textarea     |
               ----------------
           --->|ANOTHER TEXT ALIGNED LEFT WITH "Textarea" ABOVE
anotherLabel   ....
--------------------------------- 
```

我还在[此处](https://github.com/jquery/jquery-mobile/issues/4641)将此帖子添加到 github 问题请求中。他们还建议使用我自己的 css 定义，这实际上并不是我所希望的，因为我不想创建太多开销 css，当然也不想现在修改 jquery css。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T08:56:42.573

这是您想要实现的[http://jsfiddle.net/z8w6r/13/](http://jsfiddle.net/z8w6r/13/)吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T06:47:46.367

这就是我解决问题的方法。工作得很好！

```
@media all and (min-width: 450px) {
    .ui-my-addition-element-info {
        display: inline-block;
        margin-left: 22%;
    }
} 
```

22% 的左边距来自于 20% 的默认标签宽度和标签的 2% 的附加边距。css 类`.ui-my-addition-element-info`不是默认的 jquerymobile 类，但我尝试尽可能匹配命名方案。

# .net - .NET 2.0 应用程序因未处理的异常而崩溃。如何调试？没有源代码

> ID：11151816
> 
> 赞同：0
> 
> 时间：2012-06-22T07:21:55.090
> 
> 标签：.net

我们有一个运行在某些 PC 上的 .NET 2.0 应用程序（全球化：英语/德语）。

过去几天，应用程序抛出未处理的异常并且应用程序崩溃。我没有要调试的源代码。应用程序日志和事件查看器没有用。例外并没有说太多。

有什么方法可以在没有源代码的情况下调试并找到异常原因？

提前致谢

卡尔提克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:28:44.253

[尝试使用http://www.reflector.net/](http://www.reflector.net/)之类的 .NET 反编译器或来自[http://digitalbodyguard.com/](http://digitalbodyguard.com/)的出色 Graywolf获取源代码（Graywolf 受限于非商业用途的许可，因此它可能不会是您的选择）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T07:25:44.497

您可以使用[http://wiki.sharpdevelop.net/ILSpy.ashx](http://wiki.sharpdevelop.net/ILSpy.ashx)反编译代码并获取代码。但实际上应用程序中应该有适当的错误日志记录。其中还详细说明了有效位置的内部异常，这将使您更好地了解失败的原因。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T11:06:32.060

您可以使用 WinDbg 来处理故障转储或在进程崩溃时附加到该进程。托管代码中有足够的类型信息可以让您有效地进行调试。

*   `WinDbg.exe -I`将其注册为系统上的崩溃处理程序。

附加 WinDbg 后，以下命令应该会有所帮助：

*   `.loadby sos clr`加载 CLR 调试扩展
*   `!pe`转储异常详细信息。
*   `~#s`切换到异常线程
*   `!clrstack`转储线程的堆栈

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-22T07:25:37.753

我将从内存转储开始。[ProcessExplorer](http://technet.microsoft.com/en-us/sysinternals/bb896653)可以获取进程的内存转储。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-22T07:32:47.337

您可以使用[Mdbg](http://msdn.microsoft.com/en-us/library/ms229861.aspx)或 Windbg 来调试您的进程。要获取更多信息，您应该使用 PDB 文件。那是一种有用的情况。

您可能会在其他答案中找到源代码。请注意，ILSpy 和 Reflector 能够同时调试和反编译...

# php - PHP Netbeans，无法通过 SFTP 连接到服务器

> ID：11151820
> 
> 赞同：1
> 
> 时间：2012-06-22T07:22:08.787
> 
> 标签：php, netbeans

我试图通过 sFTP 连接我的项目。每次我运行它都会说的项目。

```
Cannot Connect to Server http://abcd.efg.com
Reason: java.net.UnkownHostException: http://abcd.efg.com 
```

但是当我点击确定时。然后应用程序在我的浏览器中启动。这很奇怪，我将项目设置为新项目，并使用现有源将 PHP 应用程序设置为，因为我已经有一个项目。然后设置“运行为：远程网站（ftp，Sftp）”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T07:30:53.303

```
use abcd.efg.com instead of http://abcd.efg.com 
```

您不能同时通过 sftp 和 http 连接:)。Netbeans 期望主机名通过 sftp 连接，它肯定不喜欢[http://hostname.com](http://hostname.com) over :22

# java - 低 FPS 时碰撞检测失败（Andengine）

> ID：11151821
> 
> 赞同：1
> 
> 时间：2012-06-22T07:22:20.977
> 
> 标签：java, android, andengine, frame-rate

我目前在 2 个精灵之间发生碰撞，使用`sprite.collidesWith(otherSprite)`. 问题是当某些设备上的 FPS 低于 20-25 FPS 时，如果第二个精灵移动得足够快，则不会检测到碰撞。基本上，前一帧的位置和当前帧的位置之间的差距足够大，可以跳过检测。我对您的问题是：您以前遇到过这种情况，是否有某种解决方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T07:31:45.673

您正在寻找动态碰撞检测。[这是](https://stackoverflow.com/a/902170/752320)一个很好的答案，有一些链接可以帮助你。

# asp.net - ASP.NET：无需重新启动应用程序即可编写 Web 可访问的临时文件

> ID：11151825
> 
> 赞同：3
> 
> 时间：2012-06-22T07:22:40.467
> 
> 标签：asp.net

我的 ASP.Net 应用程序曾经在请求期间意外重启，破坏了我的状态、会话数据等。我确定问题是由一个控件引起的，该控件在文件夹中写入和删除了`Temp`它在文件夹附近创建的一些文件`bin`，所以 web 目录看起来像这：

```
bin
Temp
....
Default.aspx    
web.config 
```

ASP.Net 显然对`Temp`文件夹内的更改作出反应，就像它对 web.config 内部`bin`或 web.config 中的更改作出反应一样——它重新启动应用程序。

`Temp`我可以通过将站点目录移到外部来部分解决问题。这样，每次写入\删除临时内容时，应用程序都不会重新启动，因此这部分运行良好。问题是`Temp`目录中的一些文件应该可以通过网络访问——比如动态生成的图像等。

* * *

所以我的问题实际上是三方面的：

1.  即使更改不是在`bin`目录中进行，而是在同一级别的另一个目录中进行，ASP.Net 应用程序是否应该重新启动？还是我的配置有问题？
2.  我在哪里以及如何创建一个临时文件夹，以便它可以通过网络访问，但不会导致应用程序重新启动？
3.  如何从代码或 web.config（在 IIS 和 ASP.Net 开发服务器中）关闭目录更改时的重新启动？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:33:33.310

根据我的理解，这里是您问题的答案：

1.  当在内容目录之一中更改太多文件时，ASP.NET 会重新启动应用程序。有关应用程序重启时的更多信息，请阅读：[http ://programming360.blogspot.in/2009/04/what-c​​auses-application-restart.html](http://programming360.blogspot.in/2009/04/what-causes-application-restart.html)
2.  您可以在同一台机器或不同机器（文件共享）的任何位置创建临时文件夹，只要 IIS 用户有权访问它应该正常工作的文件夹。您唯一需要考虑的是文件夹位于另一台计算机上时的延迟。
3.  ~~我不相信您可以控制应用程序重新启动，这完全由 IIS 控制。~~ 可能想阅读这个 SO 问题：[创建、重命名或删除文件夹时 ASP.NET 重新启动](https://stackoverflow.com/questions/2248825/asp-net-restarts-when-a-folder-is-created-renamed-or-deleted)

# objective-c - 如何在 iOS5 中处理内部重定向？

> ID：11151829
> 
> 赞同：0
> 
> 时间：2012-06-22T07:23:01.180
> 
> 标签：objective-c, ios, delegates, titanium, nsurlconnection

我正在使用 Titanium Mobile 开发 iPhone 应用程序。现在我想通过附属链接从我的应用程序链接到 App Store。当然，这会先打开 Safari，然后是烦人的 App Store。我从 Apple 那里找到了这篇如何在内部处理重定向的指南（[https://developer.apple.com/library/ios/qa/qa2008/qa1629.html](https://web.archive.org/web/20101023135529/http://developer.apple.com/library/ios/qa/qa2008/qa1629.html)）。当我使用 Titanium 时，我想我将只实现一个本地模块，然后从 Titanium 中使用它。

到目前为止一切顺利，但我无法让它工作。到目前为止，这是我所拥有的（我不知道 Objective-C，所以其中一些可能很愚蠢）：

DeCompendiiReferralDelegate.h

```
#import <UIKit/UIKit.h>

@interface DeCompendiiReferralDelegate : NSObject <NSURLConnectionDataDelegate>

@property (retain) NSURL* iTunesURL;

-(void)openReferralUrl:(NSURL *)referralURL;

@end 
```

DeCompendiiReferralDelegate.m

```
#import "DeCompendiiReferralDelegate.h"

@implementation DeCompendiiReferralDelegate

@synthesize iTunesURL;

- (void)openReferralUrl:(NSURL *)referralURL {
    NSURLConnection *con = [[NSURLConnection alloc] initWithRequest:[NSURLRequest requestWithURL:referralURL] delegate:self startImmediately:YES];
    [con release];
}

- (NSURLRequest *)connection:(NSURLConnection *)connection willSendRequest:(NSURLRequest *)request redirectResponse:(NSURLResponse *)response {
    self.iTunesURL = [response URL];
    if( [self.iTunesURL.host hasSuffix:@"itunes.apple.com"])
    {
        [connection cancel];
        [self connectionDidFinishLoading:connection];
        return nil;
    }
    else
    {
        return request;
    }
}

- (void)connectionDidFinishLoading:(NSURLConnection *)connection {    
    [[UIApplication sharedApplication] openURL:self.iTunesURL];
}

@end 
```

我从 DeCompendiiReferralModule.m 调用此代码。调试显示调用了 openReferralUrl，但从未打开 URL。任何想法我做错了什么？

**编辑**

只是为了确保我在设置它时没有做一些愚蠢的事情，这就是我如何称呼这段代码：

```
DeCompendiiReferralDelegate *referralDelegate = [[DeCompendiiReferralDelegate alloc] init];
[referralDelegate openReferralUrl:[NSURL URLWithString:urlString]]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T09:04:26.140

你`release`的连接马上。您应该仅在连接完成后执行此操作。

# java - 如何使用 FileReader 不使用 BufferReader

> ID：11151832
> 
> 赞同：1
> 
> 时间：2012-06-22T07:23:04.920
> 
> 标签：java, file, file-io

如何使用 FileReader 不使用 BufferReader 我想使用 File,FileReader 来从 ftp 读取文件的程序

```
 public class FileReader {

public final static String SERVER = "ftp://server.com";
public final static String USER_NAME = "user";
public final static String PASSWORD = "password";
public final static String FILE_NAME = "Sorting Cloumns Dynamically - Java Scripts.txt";

public static void main(String[] args) {

    System.out.println("Connecting to FTP server...");

    // Connection String
    URL url;
    try {
        url = new URL("ftp://" + USER_NAME + ":" + PASSWORD + "@" + SERVER+ "/study/" + FILE_NAME +";type=i");

        URLConnection con = url.openConnection();
        BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));

        System.out.println("Reading file start.");

        String inputLine;
        while ((inputLine = in.readLine()) != null)
            System.out.println(inputLine);
        in.close();
        }
        catch (FileNotFoundException e) {
            System.out.println("File not find on server.");
            System.exit(0);
        }catch (Exception e) {
            e.printStackTrace();
        }
        System.out.println("Read File Complete.");

}

    } 
```

我创建的这段代码

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T07:25:16.343

你不能。FileReader 从文件系统中读取文件。它不会从 FTP 连接中读取。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T07:27:32.617

您必须将输入流转换为文件，然后使用文件阅读器。

```
 URL url;
        try {
            url = new URL("ftp://" + USER_NAME + ":" + PASSWORD + "@" + SERVER
                    + "/study/" + FILE_NAME + ";type=i");
            URLConnection con = url.openConnection();
            File tmpFile = new File("tmpFile.java");
            OutputStream out = new FileOutputStream(f);

            InputStream inputStream = con.getInputStream();

            byte buf[] = new byte[1024];
            int len;
            while ((len = inputStream.read(buf)) > 0)
                out.write(buf, 0, len);
            out.close();
            inputStream.close();

        } catch (IOException e) {
        } 
```

上述代码从输入流创建一个文件对象 tmpFile。您可以在此文件对象上使用 Filereader。

```
 FileReader fileReader=new FileReader(tmpFile);
    int ch= fileReader.read();
    while(ch != -1){
    System.out.print((char)ch);
    ch = fileReader.read();
    }
    fileReader.close(); 
```

请注意，文件阅读器逐个字符地读取。这就是人们更喜欢 BufferedReader 的原因。

通常，由 Reader 发出的每个读取请求都会导致对底层字符或字节流发出相应的读取请求。因此，建议将 BufferedReader 包裹在 read() 操作可能成本高昂的任何 Reader 周围，例如 FileReaders 和 InputStreamReaders。例如，

```
BufferedReader in
   = new BufferedReader(new FileReader("foo.in")); 
```

将缓冲来自指定文件的输入。如果没有缓冲，每次调用 read() 或 readLine() 都可能导致从文件中读取字节，转换为字符，然后返回，这可能非常低效。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-22T08:43:55.200

为什么？输入不是文件。您可以将所有输入写入文件，然后打开 FileReader 并尝试记住在完成后删除文件，但这是多么浪费时间：读取数据两次。更容易调整您的 API，以便您可以提供 Reader 或 InputStream。

# android - 从android的listview中单击按钮后，如何以图形方式显示选择项目？

> ID：11151838
> 
> 赞同：0
> 
> 时间：2012-06-22T07:23:25.863
> 
> 标签：android, drawable

我有列出项目的列表视图，并且我也禁用了触摸选择。我有一个按钮 - 当我单击下一步时，列表中的第二个项目被选中，但没有图形方式显示第二个项目被选中？

有没有办法这样做？

# .net - 使用 xsd.exe 创建类时自动生成属性属性

> ID：11151840
> 
> 赞同：0
> 
> 时间：2012-06-22T07:23:31.960
> 
> 标签：.net, xsd.exe

我使用 xsd.exe 很长时间了，但现在我想更进一步，让它从模式中自动生成属性和类属性，或者至少让它忽略我自己放入代码中的属性。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:29:31.900

你可以使用`/classes`参数

```
xsd.exe /classes foo.xsd 
```

这将生成`foo.cs`包含相应的 .NET 类。

# css - 不能让 div 在 IE8 中看起来一样吗？

> ID：11151841
> 
> 赞同：1
> 
> 时间：2012-06-22T07:23:34.507
> 
> 标签：css, internet-explorer, twitter-bootstrap

我正在使用 Twitter 引导程序。在 IE 中，某些 div 没有填充。我尝试了不同的解决方案，但没有任何帮助。

这是屏幕截图：

镀铬屏幕：
![在此处输入图像描述](../Images/5b73724aef7569775541fbd96ac5f568.png)

IE屏幕： ![在此处输入图像描述](../Images/7ce3aae2502e664c22b1d344d248e152.png)

[https://www.dropbox.com/sh/o9lugznzr399vfr/I3x_oWFgvo](https://www.dropbox.com/sh/o9lugznzr399vfr/I3x_oWFgvo) - Dropbox 上的文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T17:34:01.733

查看此页面上的@MattWilson 答案[https://stackoverflow.com/a/11105551/1416911](https://stackoverflow.com/a/11105551/1416911)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T17:40:16.183

这将解决您的所有问题：

```
* { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; } 
```

# php - PHP/SQL - DateTime 类 - 如果用户未插入时间，如何自动添加时间

> ID：11151848
> 
> 赞同：0
> 
> 时间：2012-06-22T07:24:01.197
> 
> 标签：php, sql

现在我使用`DateTime`该类转换为不同的时间格式，我发现它非常有用，除了一个功能。在用户尝试添加日期但由于某种原因跳过我得到`00:00:00`的时间之前，这对我来说已经足够好了。现在，`DateTime`如果不包含时间，则使用该类返回错误。这是我的代码：

```
 $dt = DateTime::createFromFormat("d.m.Y H:i:s", $data['event_time']);

    if($dt === false)
    {
        throw new Exception("Invalid date");
    }

    $formattedDate = $dt->format('Y-m-d H:i:s'); 
```

每次我尝试在没有时间的情况下插入日期时都会`Invalid date`出错。有没有办法在时间的地方插入零，除了为此出错？

谢谢

勒隆

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T07:30:42.487

一些简单的预验证：

```
$date['event_time'] = trim($date['event_time']);
if (preg_match('/^\d{2}\.\d{2}\.\d{4}$/', $date['event_time'])) {
    $date['event_time'] .= ' 00:00:00';
} else if (!preg_match('/^\d{2}\.\d{2}\.\d{4} \d{2}:\d{2}:\d{2}$/', $date['event_time'])) {
    die('Invalid format');
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:45:00.497

如果您不想使用正则表达式，我想这也应该有效。如果我是你，我会使用 @deceze 解决方案而不是这个：P 但为了完整起见，这里是：

```
$dt = DateTime::createFromFormat("d.m.Y H:i:s", $data['event_time']);

if($dt === false)
{
    $data['event_time'] = trim($data['event_time']);
    $data['event_time'] .= " 00:00:00";
    $dt = DateTime::createFromFormat("d.m.Y H:i:s", $data['event_time')
    if ($dt === false) {
      throw new Exception("Invalid date");
    }
}

$formattedDate = $dt->format('Y-m-d H:i:s'); 
```

# guava - 在 JUG 上介绍的好东西

> ID：11151856
> 
> 赞同：1
> 
> 时间：2012-06-22T07:24:25.613
> 
> 标签：guava

是否有任何好东西/统计数据/徽标/等。我们可以用来在 JUG 上展示/介绍番石榴（电源点）吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T16:10:10.953

[http://www.appbrain.com/stats/libraries/details/guava/google-guava](http://www.appbrain.com/stats/libraries/details/guava/google-guava)引用了 Android App Store 中 Guava 用户的一些统计数据。

也就是说，我认为我们并没有投入太多精力来收集例如使用番石榴的公司名单。也许这是我们应该做的事情。

# algorithm - Select算法中的好支点VS“坏支点”有什么区别？

> ID：11151867
> 
> 赞同：3
> 
> 时间：2012-06-22T07:25:02.200
> 
> 标签：algorithm, runtime, selection, big-o

我试图理解[Select 算法](http://en.wikipedia.org/wiki/Selection_algorithm)，但我遇到了`a good pivot VS a bad pivot`. 我可以看到该算法正在使用`Partition`算法来分离枢轴右侧的较大元素和枢轴左侧的较小元素。

*   但这意味着什么`bad pivot`？
*   怎么能把`bad pivot`总运行时间扔进去`O(n^2)`？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T07:39:13.170

如果选择算法在每一步都可以丢弃大量的数组，它将很快。一个好的枢轴是对于“很多”的某些定义导致算法丢弃“很多”数组元素的枢轴。错误的枢轴是算法丢弃数组标题的枢轴。

在最坏的情况下，主元可能是数组的最大或最小元素。如果发生这种情况，那么算法将以一组值为空的方式对元素进行分区，因为要么没有小于枢轴的元素，要么没有大于枢轴的元素。这个划分步骤需要时间 O(n)，并且必须运行 O(n) 次，因为每次迭代都会将数组的大小减一。这将算法运行时间降级为 O(n ² )。有趣的是，这也是快速排序退化到时间 O(n ² ) 的方法。

希望这可以帮助！

# jquery - 如何将 ASP.net 变量分配给 Jquery 自动完成插件的 availableTags 变量

> ID：11151869
> 
> 赞同：2
> 
> 时间：2012-06-22T07:25:05.370
> 
> 标签：jquery, asp.net-mvc, jquery-autocomplete

我是 ASP.net 和 Jquery 的新手。我正在尝试使用 Jquery 在我的应用程序中实现自动完成。我已经从[这个站点](http://jqueryui.com/demos/autocomplete/)下载了 Jquery 插件。我指的是[这种方法](https://stackoverflow.com/questions/8992531/how-to-assign-asp-net-hidden-field-value-to-javascript-variable)。请参考我的代码块-

```
<script type = "text/javascript">
    $(function () {
        var availableTags = [<%= Result %>];
        $("#tags").autocomplete({
            source: availableTags
        }); 
```

我的控制器代码的一部分是 ==>

```
 public String Result;
    Result = SourceSerializer.Serialize(ResultList); 
```

ResultList 是标签列表。我也尝试过使用隐藏输入作为-

```
 <input type = "hidden" id = "myid" name = "Name" /> 
```

然后在 Jquery-

```
 <script type = "text/javascript">
    $(function () {
        var availableTags = document.getElementById('myid).value;
        $("#tags").autocomplete({
            source: availableTags
        }); 
```

但是这两种方法都不适合我。如果还有其他方法请告诉我。另外，如果您知道更好的学习 Jquery 和 ASP.net 的地方，请重定向我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T07:37:36.750

有关自动完成的一个很好的示例，请参阅[“使用 ASP.NET 实现 JQuery 自动完成的 3 种不同方法” 。](http://www.codeproject.com/Articles/78704/3-Different-Approaches-for-Implementing-the-JQuery)

# ajax - 保留“+”号登录字符串

> ID：11151871
> 
> 赞同：0
> 
> 时间：2012-06-22T07:25:07.857
> 
> 标签：ajax, string, forms, base64

我正在创建一个 base64 字符串。该字符串中还有“+”号。我通过ajax将它发送到数据库。但是 ajax 删除了 + 并用白色速度替换它。我怎样才能克服这个问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:29:02.867

您如何将其发送到您的服务器？

您必须对 url 中的内容进行[urlEncode](http://www.javascripter.net/faq/escape.htm)，或者将 JSON.stringify 用于您作为 json 发送的对象。

这意味着您必须在服务器端对其进行解码，但大多数服务器技术都会为您处理。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T07:29:18.840

这是因为您在发送之前没有对 base64 进行 url 编码。

`escape()`在发送之前通过 javascript 的函数运行你的 base64 。

# html - 包装器 div 的宽度和内容权的宽度应根据内容权中的内容而增加

> ID：11151872
> 
> 赞同：0
> 
> 时间：2012-06-22T07:25:07.560
> 
> 标签：html, css

大家好，我有这样的html代码

```
<html>
<head>
<style type="text/css">
body {      
font-family:arial,helvetica,sans-serif;     
font-size:12px; background-color: blue;
}

**#wrapper {        
width:900px;        
margin:0px auto;        
border:1px solid #bbb;      
padding:10px; background-color: pink;   
}**

#header 
{       
border:1px solid #bbb;      
height:80px;        
padding:10px;   
}   
#content 
{       
margin-top:10px;        
padding-bottom:10px;    
}   
#content div 
{       
padding:10px;       
border:1px solid #bbb;      
float:left; 
} 
**#images
{
position:relative; 
top:0px;
}** 
#content-left 
{       
width:380px;    
}       
**#content-right 
{ 
position:relative; 
top:0px;        
margin-left:10px;       
width:534px;    
}** 
#footer 
{       
float:left;     
margin-top:10px;        
margin-bottom:10px;     
padding:10px;       
border:1px solid #bbb;      
width:878px;    
}   
#bottom 
{       
clear:both;     
text-align:right;   
}

</style>
</head>

<body>
<div id="wrapper">  
<div id="header">Header</div>   
<div id="content">      
<div id="content-left"></div>       
**<div id="content-right"><div id="images"><img src="pics02.jpg"     
width="300px;height="900px" /></div>**
</div>  
</div>  
<div id="footer"></div> 
<div id="bottom"></div>
</div>
</body>
</html> 
```

我有一个问题，例如如果我**在内容右侧插入一些内容，并且如果内容大于内容右侧的宽度，则第一个内容右侧应该展开，然后包装器应该展开**，但这并没有发生在那里并且是从包装器中出来的。谁能指导我如何进行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:30:21.943

您已固定内容权利的宽度。所以它不会！它可以调整高度但不会调整宽度..您可以使用 min-width 属性设置内容的最小宽度... [http://www.w3schools.com/cssref/pr_dim_min-width.asp](http://www.w3schools.com/cssref/pr_dim_min-width.asp)

# c - 对输出感到困惑

> ID：11151875
> 
> 赞同：1
> 
> 时间：2012-06-22T07:25:11.440
> 
> 标签：c, printf, local-variables

为什么 printf 打印 7 虽然变量 a 是函数 fun() 的本地变量，并且一旦控制从函数 fun() 返回后就不应该再存在。

这是c代码

```
‎#include<stdio.h>

main()
{
    int *fun();
    int *c=fun();
    printf("%d",*c);
    getch();
}

int *fun()
{
    int a=7;
    return(&a);
} 
```

输出：7

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-22T07:28:45.560

这是因为即使变量不再存在，它所在的内存位置也尚未用于其他用途。`int`因此，指针仍然指向位包含值为 7的内存位置。

但这绝对是**未定义的行为**。你*不应该依赖它*。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T07:31:33.363

语言习语和硬件的物理操作是有区别的。用“C”的话来说，是的，你的变量不应该再被访问了，但实际上变量`a`已经分配在你的程序的堆栈上，每次函数返回时都不会删除它（这会花费太多时间），因此你仍然可以阅读它。

无论如何，不​​建议这样做，因为其他函数调用可能会删除此数据。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-22T07:42:26.560

一旦 fun() 返回，帧指针已被设置回指向 main() 帧。指针 c 指向内存中的某个地址，由于 fun() 已经返回，我们不知道地址中的内容，但如果没有其他内容写入地址，它仍然可以是之前的变量 a。C 标准只是在函数返回时移动帧指针。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-22T07:31:29.517

我认为这是因为您正在打印 *c ，它显示了存储在该位置的值，即 &a ，只需尝试打印 c 然后您将获得 7 的地址。

这是因为地址已经传递给变量 c 并且内存地址也可以在函数外部读取

# php - Symfony2 表单呈现一个同名字段

> ID：11151878
> 
> 赞同：2
> 
> 时间：2012-06-22T07:25:25.807
> 
> 标签：php, symfony, symfony-forms

我有存储在我的数据库中的设置。这些设置有一个实体类。我在 my 中请求它们`Controller`并将设置数组发送到我的`FormType`. 但是在`buildForm()`我只能渲染一个设置。我相信这是因为字段的名称与所有设置完全相同。

但是当我尝试为字段编号时，我收到一条错误消息，指出有`no function mapped to a Setting class with getId1() or isId1()`.

这是代码片段：

```
protected $allSettings;

public function __construct(array $allSettings)
{
    $this->allSettings = $allSettings;
}

public function buildForm(FormBuilder $builder, array $options)
{
    foreach($this->allSettings as $setting) {
        $id = $setting->getId();
        $builder->add('id'.$id, 'hidden')->setData($setting);
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:37:48.183

您是否尝试使用[集合类型](http://symfony.com/doc/current/reference/forms/types/collection.html)？

然后在控制器中检索您的设置数组，创建一个像这样的集合表单：

```
$form = $this->createForm('collection', $yourArray, array(
    'type' => 'your settings_type'
)); 
```

`'your_settings_type'`应该是用于编辑设置实体的 FormType 的名称。

也许 quelque 选择了 de ce 流派：

```
public function buildForm(FormBuilder $builder, array $options)
{
    $builder->add('key', 'text');
    $builder->add('value', 'text');
} 
```

当然，在您的情况下，它可能不是`key`& `value`。

请记住一件事：不要使用 id。你不需要。FormComponent 是一个面向对象的表单框架。让它用对象来完成它的工作。:)

# svn - SVN 工作副本格式是否应该与存储库版本匹配？

> ID：11151883
> 
> 赞同：1
> 
> 时间：2012-06-22T07:25:54.147
> 
> 标签：svn, repository, format, version

我有一个通过 HTTPS 连接到的远程 SVN 存储库。存储库使用 Subversion 1.5.1。我正在运行 OS X 10.7，我相信它带有 SVN 1.6，但我目前没有使用它。

签出工作副本时，我应该使用哪种格式？

我使用的是 1.6 的工作副本格式。如果存储库是 1.5，这是否可以接受，或者我应该使用 1.5 工作副本格式？

如果存储库是 1.5，使用 1.6 或 1.7 工作副本格式有什么好处吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T08:29:27.460

Subversion 客户端向后兼容旧的服务器版本，不包括一些新功能（[http://tortoisesvn.tigris.org/compatibility.html](http://tortoisesvn.tigris.org/compatibility.html)）。

1.7 客户端有一个巨大的优势——集中式元数据存储。所有元数据都存储在工作副本根目录的单个文件夹中。

我建议使用 1.7 作为工作副本。

# wordpress - 添加具有预选父级的新 Wordpress 页面

> ID：11151888
> 
> 赞同：1
> 
> 时间：2012-06-22T07:26:19.120
> 
> 标签：wordpress

在 Wordpres 中创建子页面时，我不希望我的客户从下拉列表中选择父页面，所以我现在想如果有办法在仪表板上创建链接到“添加新页面”的链接" - 但是有一个预选的父页面？

如果这是不可能的，那么有没有办法将默认父级从“（无父级）”更改为我选择的父级？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T08:40:38.100

将此脚本放在您的插件文件夹中，它将为新页面提供您设置的任何内容的父级`$parent_id`

```
<?php
    function set_parent($content) {
        /* >> Begin user-configurable variable >> */
        $parent_id = '1'; // ID for parent page >> */
        /* >> End user-configurable variable >> */
        $pattern = "option value='{$parent_id }'";
        $replace = "option value='{$parent_id }' selected=\"selected\"";
        $content = str_replace($pattern, $replace, $content);
    return $content;
    }

if( strstr($_SERVER['REQUEST_URI'], 'wp-admin/post-new.php?post_type=page') ) {
ob_start('set_parent');
}
?> 
```

那应该做你想做的事。我想你可以在某个地方添加一个下拉选项来选择父母，如果设置的默认父母不足以像这个例子中那样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-06T13:55:30.417

坚持核心的 wordpress 想法是一个很难回答的问题。您通常会有多个可用的父页面吗？

您认为您的客户管理页面结构的不同方式会起作用吗？

Admin Column View Plugin 很棒，允许用户使用拖放来重新排序页面 - [http://wordpress.org/plugins/admin-column-view/screenshots/](http://wordpress.org/plugins/admin-column-view/screenshots/)

希望这可以帮助。

# windows - TortoiseSVN 和 commit-access-control.cfg

> ID：11151889
> 
> 赞同：2
> 
> 时间：2012-06-22T07:26:33.083
> 
> 标签：windows, svn, tortoisesvn

在 TortoiseSVN 中，“hooks”目录在哪里？在哪里放置`commit-access-control.cfg`以管理控制访问？谢谢

为了更清楚：TortoiseSVN 在 Windows 上安装 svn 的位置在哪里？我一直在 Unix 中手动完成，Tortoise 只是自己创建的，我不知道本地存储库在哪里。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T10:58:39.957

当您发出此命令时：

```
svnadmin create /some/local/repo 
```

...您正在给定路径（“/some/local/repo”）中创建**存储库**。TortoiseSVN 提供的 GUI 替代方案如下：

1.  打开 Windows 资源管理器
2.  浏览到您想要存储库的文件夹（例如“C:\MyData\”）
3.  创建一个空文件夹（例如“C:\MyData\ProjectFoo”）
4.  右键单击新创建的文件夹并选择“TortoiseSVN -> 在此处创建存储库”

因此，TortoiseSVN 为您选择存储库位置的可能性很小。（当然，这与工作副本的位置或 TortoiseSVN 本身无关。）

您可以在您的存储库中找到“hooks”文件夹（例如“C:\MyData\ProjectFoo\hooks”）。

（您似乎正在使用[Perl 挂钩脚本](http://opensource.apple.com/source/subversion/subversion-35/subversion/tools/hook-scripts/commit-access-control.cfg.example)。您需要一个有效的[Perl 解释器](http://www.activestate.com/activeperl/downloads)来运行它。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T09:14:20.813

TortoiseSVN 是一个颠覆性的客户端软件。该`hooks`文件夹存在于颠覆服务器中。[在这里](http://svnbook.red-bean.com/en/1.8/svn.reposadmin.create.html)阅读更多。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T09:10:52.280

该目录应该与每个 svn 存储库一起使用，而不是与 tortoisesvn 程序一起使用。

# android - 如何从服务器推送通知到安卓手机

> ID：11151894
> 
> 赞同：49
> 
> 时间：2012-06-22T07:27:11.023
> 
> 标签：android, push-notification

我对推送通知一无所知。我在尝试学习。但我不明白。

我在服务器系统中有一个表 MySQL 数据库。当在表中进行任何更改时，我希望在 android 移动应用程序上显示通知。

任何人都可以提供任何建议吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2016-11-21T09:45:45.897

实际上现在最近主要用于该 u 项目中的推送通知 FCM .... 构建推送通知的最佳链接：[link](https://www.simplifiedcoding.net/firebase-cloud-messaging-tutorial-android/)

执行推送通知的步骤 - Firebase Cloud Messaging Tutorial for Android

1.  转到 firebase 控制台并创建一个新项目。
2.  现在输入您的应用名称并选择您的国家。
3.  现在单击将 Firebase 添加到您的 Android 应用程序。
4.  现在您必须输入您的项目包名称并单击添加应用程序。
5.  单击添加应用程序后，您将获得 google-services.json 文件。

应用端

1.  现在回到你的 android 项目。转到 app 文件夹并粘贴 google-services.json 文件
2.  现在转到您的根级别 build.gradle 文件并添加以下代码。

    一个。添加这一行类路径 'com.google.gms:google-services:3.0.0'

    湾。添加这一行 compile 'com.google.firebase:firebase-messaging:9.0.0'

3.  现在同步您的项目。

4.  创建一个名为 MyFirebaseInstanceIDService.java 的类并编写以下代码：

    ```
    public class MyFirebaseInstanceIDService extends FirebaseInstanceIdService {

        private static final String TAG = "MyFirebaseIIDService";

        @Override
        public void onTokenRefresh() {

            //Getting registration token
            String refreshedToken = FirebaseInstanceId.getInstance().getToken();

            //Displaying token on logcat 
            Log.d(TAG, "Refreshed token: " + refreshedToken);

        }

        private void sendRegistrationToServer(String token) {
            //You can implement this method to store the token on your server 
            //Not required for current project 
        }
    } 
    ```

5.  现在创建 MyFirebaseMessagingService.java 并编写以下代码：

    ```
    import android.app.NotificationManager;
    import android.app.PendingIntent;
    import android.content.Context;
    import android.content.Intent;
    import android.media.RingtoneManager;
    import android.net.Uri;
    import android.support.v4.app.NotificationCompat;
    import android.util.Log;

    import com.google.firebase.messaging.FirebaseMessagingService;
    import com.google.firebase.messaging.RemoteMessage;

    /**
     * 
     */

    public class MyFirebaseMessagingService extends FirebaseMessagingService {

        private static final String TAG = "MyFirebaseMsgService";

        @Override
        public void onMessageReceived(RemoteMessage remoteMessage) {
            //Displaying data in log
            //It is optional 
            Log.d(TAG, "From: " + remoteMessage.getFrom());
            Log.d(TAG, "Notification Message Body: " + remoteMessage.getNotification().getBody());

            //Calling method to generate notification
            sendNotification(remoteMessage.getNotification().getBody());
        }

        //This method is only generating push notification
        //It is same as we did in earlier posts 
        private void sendNotification(String messageBody) {
            Intent intent = new Intent(this, MainActivity.class);
            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
            PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent,
                    PendingIntent.FLAG_ONE_SHOT);

            Uri defaultSoundUri= RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);
            NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this)
                    .setSmallIcon(R.mipmap.ic_launcher)
                    .setContentTitle("Firebase Push Notification")
                    .setContentText(messageBody)
                    .setAutoCancel(true)
                    .setSound(defaultSoundUri)
                    .setContentIntent(pendingIntent);

            NotificationManager notificationManager =
                    (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);

            notificationManager.notify(0, notificationBuilder.build());
        }
    } 
    ```

6.  现在我们必须在我们的 AndroidManifest.xml 文件中定义上述服务。所以去manifest，修改如下。

    ```
    <!-- Adding Internet Permission -->

    <uses-permission android:name="android.permission.INTERNET"/>
    <application
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:supportsRtl="true"
        android:theme="@style/AppTheme">
        <activity android:name=".MainActivity">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <!-- 
            Defining Services
        -->
        <service
            android:name=".MyFirebaseMessagingService">
            <intent-filter>
                <action android:name="com.google.firebase.MESSAGING_EVENT"/>
            </intent-filter>
        </service>

        <service
            android:name=".MyFirebaseInstanceIDService">
            <intent-filter>
                <action android:name="com.google.firebase.INSTANCE_ID_EVENT"/>
            </intent-filter>
        </service>
    </application> 
    ```

最后

转到 firebase 控制台并选择您创建的应用程序。从左侧菜单中选择通知。点击新消息。输入消息，选择单个设备并粘贴您复制的令牌，然后单击发送。和我在视频上做的一样，检查你的设备

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2016-10-30T10:29:39.173

第一件事 - 谷歌推送通知被称为 GCM（谷歌云消息传递）。错误的名称使用可能会导致您获得错误的信息或教程。另一件事，您应该依赖开发人员。在这种情况下，从 Google Developers 网站开始，您可以在其中找到大部分基本信息和代码示例。[https://developers.google.com/cloud-messaging/](https://developers.google.com/cloud-messaging/)。

## 更新

**GCM**已弃用，您应该使用[Firebase Cloud Messaging (FCM)](https://firebase.google.com/docs/cloud-messaging/)

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2016-08-30T04:50:19.637

这是一个很好的解释：http:
[//quickblox.com/developers/SimpleSample-messages_users-android](http://quickblox.com/developers/SimpleSample-messages_users-android)

总体步骤如下：

1.  创建一个谷歌 API 项目
2.  为项目启用推送通知并获取 API 密钥
3.  通过android app获取一个注册ID（每个设备都有一个特定应用的注册ID）
4.  创建一个服务器应用程序，通过 GSM 通过谷歌服务器将您的推送消息作为推送通知发送
5.  在应用端收到推送通知时创建通知

这不是我可以详细写在这里的东西。每一步都使用 Google。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2016-10-30T10:29:32.853

您可以查看 Firebase ... 查看此链接

[https://firebase.google.com/docs/cloud-messaging/](https://firebase.google.com/docs/cloud-messaging/)

此链接足以了解推送通知

至于在数据库中的数据发生变化时发送通知，请让您的 API 向 FCM 服务器发送请求，以便它将必要的数据传递给客户端。

# qt - QML OnHighligt 动作完成

> ID：11151896
> 
> 赞同：3
> 
> 时间：2012-06-22T07:27:17.703
> 
> 标签：qt, qml

我有这个列表视图：

```
ListView {
    id: topList
    focus: true
    width: parent.width
    height: parent.height
    preferredHighlightBegin: height - 70
    preferredHighlightEnd: height
    highlightMoveSpeed: 150
    highlight: Rectangle { width: theListView.width; height: 22; color: "yellow" }
    highlightRangeMode: ListView.StrictlyEnforceRange
} 
```

现在，当我使用向上或向下箭头时，列表移动得很好。但是，当移动完成时，我想触发另一个动画。已尝试收听 onMovementEnded 和 onFlickEnded 但动画完成后似乎都没有触发它们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T23:12:02.513

QtQuick 示例包括滚动您自己的示例：http: [//doc.qt.nokia.com/4.7-snapshot/declarative-modelviews-listview-highlight-qml.html](http://doc.qt.nokia.com/4.7-snapshot/declarative-modelviews-listview-highlight-qml.html)

基本思想是防止视图移动高光本身：

```
highlightFollowsCurrentItem: false 
```

并使用动画使突出显示跟随 currentItem。您可能希望坚持使用 SmoothedAnimation 或 SpringAnimation，因为它们会在动画完成之前处理正在移动的目标位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-23T02:17:49.027

我相信这是不可能的。`highlightPosAnimator`并且`highlightSizeAnimator`是`QDeclarativeListView`私有实现的一部分，不能被“用户”代码访问。

如果您需要自定义/组合高亮动画，看起来您必须自己动手。

# java - 将文本中心与给定位置对齐

> ID：11151902
> 
> 赞同：2
> 
> 时间：2012-06-22T07:27:48.103
> 
> 标签：java, android

我需要使用

canvas.drawText("1",x,y, 油漆);

但问题是“文本的中心”与我给出的位置不匹配，有什么办法可以做到后者。我对该主题进行了很多搜索，但没有找到任何答案。请帮忙。

先感谢您

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-22T07:34:47.977

您需要在您的绘画实例上设置对齐方式：

```
paint.setTextAlign(Paint.Align.CENTER); 
```

在绘图之前。

请参阅：http: [//developer.android.com/reference/android/graphics/Paint.html#setTextAlign](http://developer.android.com/reference/android/graphics/Paint.html#setTextAlign(android.graphics.Paint.Align) (android.graphics.Paint.Align )

**编辑：** 根据您的指示，您还希望它垂直居中，我将采用类似于此的方法：

```
 paint.setColor(Color.WHITE);

            paint.setTextAlign(Align.LEFT);

            String text = "Hello";
            Rect bounds = new Rect();
            float x = 100, y = 100;
            paint.getTextBounds(text, 0, text.length(), bounds); // Measure the text
            canvas.drawLine(0, y, canvas.getWidth(), y, paint); // Included to show vertical alignment
            canvas.drawLine(x, 0, x, canvas.getHeight(), paint); // Included to show horizsontal alignment

            canvas.drawText(text, x - bounds.width() * 0.5f, y + bounds.height() * 0.5f, paint); // Draw the text 
```

或者，使用油漆上的中心对齐：

```
 paint.setColor(Color.WHITE);

            paint.setTextAlign(Align.CENTER);

            String text = "Hello";
            Rect bounds = new Rect();
            float x = 100, y = 100;
            paint.getTextBounds(text, 0, text.length(), bounds); // Measure the text
            canvas.drawLine(0, y, canvas.getWidth(), y, paint); // Included to show vertical alignment
            canvas.drawLine(x, 0, x, canvas.getHeight(), paint); // Included to show horizsontal alignment

            canvas.drawText(text, x, y + bounds.height() * 0.5f, paint); // Draw the text 
```

# ajax - Ajax表单的使用

> ID：11151903
> 
> 赞同：0
> 
> 时间：2012-06-22T07:27:55.810
> 
> 标签：ajax, forms, cakephp

我是 CakePHP 的普通新手。在阅读食谱时发现了 Ajax 表单及其提交。但它缺乏更多细节。

> ajax 表单和普通表单之间的主要区别是什么，或者我们需要在普通表单上使用 Ajax 表单的更具体的情况是什么？

一个例子将不胜感激

谢谢....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T08:42:53.627

[正确实现](http://en.wikipedia.org/wiki/Unobtrusive_JavaScript)的Ajax 表单与常规表单完全相同，只是如果启用了 JavaScript，则会将提交处理程序绑定到它，这将阻止表单的正常提交并使用[XMLHttpRequest](https://developer.mozilla.org/en/xmlhttprequest)对象发送数据。然后，响应将由当前页面中的 JavaScript 处理，而不是加载一个全新的页面。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T09:39:07.120

这不一定是一个 CakePHP 问题，它了解 AJAX 是什么。

通俗地说 AJAX 基本上是在不重新加载当前页面的情况下向网站提交数据。如果这是您想要的那种功能，您需要查看`RequestHandler`组件以及`JsHelper`您正在使用的版本的 CakePHP 手册中的 。

# android - 如何在android中使用服务

> ID：11151904
> 
> 赞同：0
> 
> 时间：2012-06-22T07:28:00.083
> 
> 标签：android, service, media-player

我正在用 android 开发一个游戏，我想使用这些服务来播放和暂停背景音乐。我不知道如何使用这些服务，请帮助我如何在我的游戏中使用这些服务。

谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:40:00.610

[从 Android服务](http://developer.android.com/guide/components/services.html)文档了解服务。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:41:09.720

[这与Play music in background](https://stackoverflow.com/questions/5989157/play-music-in-background)几乎相似。所以参考一下。 [Android 背景音乐服务](https://stackoverflow.com/questions/8209858/android-background-music-service) [http://www.vogella.com/articles/AndroidServices/article.html](http://www.vogella.com/articles/AndroidServices/article.html) 此链接也可能对您有所帮助。

# .htaccess - 将不同的外部域重定向到不同的子文件夹

> ID：11151905
> 
> 赞同：0
> 
> 时间：2012-06-22T07:28:00.953
> 
> 标签：.htaccess, redirect

这是我的问题

我有一个托管服务提供商 (hostingprovider) 以及我通过不同的提供商购买的几个不同的域（sitea.fr、siteb.fr、www.sitea.fr、www.siteb.fr）

我想要实现的是：

当您请求 www.sitea.fr 或 sitea.fr 时，将其指向 hostingprovider/lfr/**而不更改 url** 与 siteb 相同，但具有不同的子文件夹：siteb.fr->hostingprovider/tac/, www.siteb.fr ->托管服务提供商/tac/

我一生都找不到与我的问题相关的任何东西。目前sitea和siteb都指向hostingprovider的根目录，但我不知道如何让它们指向各自的子文件夹。

任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T09:06:18.787

好的，插件域解决了我的问题。

# android - UI设计类似于Android中的iOS

> ID：11151909
> 
> 赞同：-4
> 
> 时间：2012-06-22T07:28:31.477
> 
> 标签：android, android-widget, android-titlebar

问题：我想在 ipad 中实现与默认标题栏类似的外观。如何提供相似的外观和感觉？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:36:04.050

你有两个选择。

您可以通过将主题设置为 来隐藏活动的标题栏`Theme.NoTitleBar`，并且您必须在每个活动的顶部添加一个布局以使其看起来像标题栏。这就是我过去所做的。

或者，根据您支持的 Android 版本，您应该使用[Action Bars](http://developer.android.com/design/patterns/actionbar.html)。

正如 Warpzit 所说，你应该尽量让事情看起来尽可能原生。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:34:43.420

首先，您应该更加努力，让应用程序感觉是原生的。但是，如果您出于某种原因只有这个选择，那么只需创建一个 topbar.xml 视图，然后`<include/>`在所有需要顶栏的视图中使用 xml 标记。然后，您需要制定一些方法来处理返回点击和标题更改。

但是这在 android 上看起来很可怕，这看起来很可怕，感觉不对，这可以做得更好，这真的不建议。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T07:37:23.793

最好创建具有​​其模式外观和感觉的 Android 应用程序，因此用户无需在您的应用程序中学习新的 UX。

# android - 相机表面视图图像看起来拉伸

> ID：11151911
> 
> 赞同：15
> 
> 时间：2012-06-22T07:28:37.367
> 
> 标签：android, android-camera

在纵向模式下，图像看起来是垂直拉伸的，而在横向模式下，它看起来是水平拉伸的。

虽然*拍摄后的图像以适当的尺寸出现*。

如何解决这个问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-29T13:45:33.677

您需要选择与您的显示尺寸相匹配的预览尺寸。我建议更改预览大小设置以匹配您`SurfaceView`而不是相反。虽然预览数据很好，但没有失真，当它被扔到具有不同纵横比的表面上时看起来会失真。

如果您有全屏视图，那么您应该会发现相机的预览尺寸与该尺寸相匹配——至少会有一个具有相同纵横比的预览尺寸。例如，如果您的屏幕是 640x480，则 320x240 预览尺寸不会在全屏上显示为拉伸`SurfaceView`。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-11-10T16:09:25.757

您必须根据 (1) 可用的预览尺寸 (2) 您的视图来限制预览尺寸。如果您仍然需要，这是我的解决方案：

```
private class CameraPreview extends SurfaceView implements SurfaceHolder.Callback {
    private SurfaceHolder mHolder;
    private Camera mCamera;

    public CameraPreview(Context context, Camera camera) {
        super(context);
        mCamera = camera;

        // Install a SurfaceHolder.Callback so we get notified when the
        // underlying surface is created and destroyed.
        mHolder = getHolder();
        mHolder.addCallback(this);
        // deprecated setting, but required on Android versions prior to 3.0
        mHolder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);
    }

    private void startPreview() {
        try {
        /**
         * Orientation should be adjusted, see http://stackoverflow.com/questions/20064793/how-to-fix-camera-orientation/26979987#26979987
         */

            Camera.Parameters parameters = mCamera.getParameters();
            List<Camera.Size> previewSizes = parameters.getSupportedPreviewSizes();
            Camera.Size previewSize = null;
            float closestRatio = Float.MAX_VALUE;

            int targetPreviewWidth = isLandscape() ? getWidth() : getHeight();
            int targetPreviewHeight = isLandscape() ? getHeight() : getWidth();
            float targetRatio = targetPreviewWidth / (float) targetPreviewHeight;

            Log.v(TAG, "target size: " + targetPreviewWidth + " / " + targetPreviewHeight + " ratio:" + targetRatio);
            for (Camera.Size candidateSize : previewSizes) {
                float whRatio = candidateSize.width / (float) candidateSize.height;
                if (previewSize == null || Math.abs(targetRatio - whRatio) < Math.abs(targetRatio - closestRatio)) {
                    closestRatio = whRatio;
                    previewSize = candidateSize;
                }
            }

            Log.v(TAG, "preview size: " + previewSize.width + " / " + previewSize.height);
            parameters.setPreviewSize(previewSize.width, previewSize.height);
            mCamera.setParameters(parameters);
            mCamera.setPreviewDisplay(mHolder);
            mCamera.startPreview();
        } catch (IOException e) {
            Log.d(TAG, "Error setting camera preview: " + e.getMessage());
        }
    }
 } 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-22T12:18:49.417

我通过在调用 camera.startPreview() 之前添加这个来解决这个问题：

```
Camera.Parameters parameters = camera.getParameters(); 
parameters.setPreviewSize(yourSurfaceView.getWidth(), yourSurfaceView.getHeight());
camera.setParameters(parameters); 
```

它可能会帮助某人。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-04-19T13:58:06.520

只需添加以下功能即可设置纵横比和预览大小

```
private Size getOptimalPreviewSize(List<Size> sizes, int w, int h) {
    final double ASPECT_TOLERANCE = 0.1;
    double targetRatio=(double)h / w;

    if (sizes == null) return null;

    Size optimalSize = null;
    double minDiff = Double.MAX_VALUE;

    int targetHeight = h;

    for (Size size : sizes) {
        double ratio = (double) size.getWidth() / size.getHeight();
        if (Math.abs(ratio - targetRatio) > ASPECT_TOLERANCE) continue;
        if (Math.abs(size.getHeight() - targetHeight) < minDiff) {
            optimalSize = size;
            minDiff = Math.abs(size.getHeight() - targetHeight);
        }
    }

    if (optimalSize == null) {
        minDiff = Double.MAX_VALUE;
        for (Size size : sizes) {
            if (Math.abs(size.getHeight() - targetHeight) < minDiff) {
                optimalSize = size;
                minDiff = Math.abs(size.getHeight() - targetHeight);
            }
        }
    }
    return optimalSize;
} 
```

像这样使用

```
 final CameraManager manager = (CameraManager) activity.getSystemService(Context.CAMERA_SERVICE);
    try {
        final CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraId);

        final StreamConfigurationMap map =
                characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);

        // For still image captures, we use the largest available size.
        final Size largest =
                Collections.max(
                        Arrays.asList(map.getOutputSizes(ImageFormat.YUV_420_888)),
                        new CompareSizesByArea());

        sensorOrientation = characteristics.get(CameraCharacteristics.SENSOR_ORIENTATION);

        // Danger, W.R.! Attempting to use too large a preview size could  exceed the camera
        // bus' bandwidth limitation, resulting in gorgeous previews but the storage of
        // garbage capture data.
       /* previewSize =
                chooseOptimalSize(map.getOutputSizes(SurfaceTexture.class),
                        inputSize.getWidth(),
                        inputSize.getHeight());*/

        previewSize = getOptimalPreviewSize(Arrays.asList(map.getOutputSizes(SurfaceTexture.class)),textureView.getWidth(),textureView.getHeight());
    } catch (final CameraAccessException e) {
        Log.e(TAG, "Exception!" + e);
    } catch (final NullPointerException e) {
        // Currently an NPE is thrown when the Camera2API is used but not supported on the
        // device this code runs.
        // TODO(andrewharp): abstract ErrorDialog/RuntimeException handling out into new method and
        // reuse throughout app.
        ErrorDialog.newInstance(getString(R.string.camera_error))
                .show(getChildFragmentManager(), FRAGMENT_DIALOG);
        throw new RuntimeException(getString(R.string.camera_error));
    } 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2015-06-27T20:35:03.410

解决方法很简单！如果您在操作栏下使用surfaceview，这可能是问题所在。我使用这条线，我可以修复，但我没有使用操作栏进行测试。

用这个：

```
getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN); 
```

* * *

## 回答 #6

> 赞同：-3
> 
> 时间：2012-06-29T13:22:11.000

如果您在谈论预览，请尝试将 SurfaceView 的大小设置为与相机的预览大小相同。这样预览就不应该被缩放。

# java - 我可以重写 Thread#start() 方法，因为它没有声明为 Final 吗？

> ID：11151919
> 
> 赞同：1
> 
> 时间：2012-06-22T07:29:02.960
> 
> 标签：java, multithreading

如果我想覆盖该`Thread#start()`方法可以吗？如果是，它会影响线程的任何正常功能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T07:32:27.420

如果您的意思是`Thread.start()`，请确保您可以覆盖它。但除非你`super.start()`在其中调用，否则线程不会做任何事情。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T07:33:01.537

如果你愿意，你可以覆盖它。

根据您要对该方法执行的操作，它可能会影响正常功能；从这个意义上说，您的问题不是很具体。您**应该**做的是调用`super.start()`您的方法以确保仍然进行任何初始化。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-22T15:14:06.940

与某些语言不同，Java 允许您覆盖几乎所有内容，包括 Thread.start。这样做肯定会影响`start`方法的正常功能。与某些语言不同，Java 提供了源代码，因此您可以确切了解 origianl`start`方法的作用。

看看通常是个好主意。除了了解您的覆盖方法必须做什么（最简单的方法是调用 super）之外，您还可以了解很多关于平台的设计理念和关于良好 Java 编程的知识。

也许这就是您首先要覆盖`start`的原因，但我偶尔发现覆盖实际上不需要覆盖的方法很有用，这样我就可以放入日志消息并了解它们何时被调用，通过什么，为什么。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-22T07:42:24.107

您可以覆盖，`Thread.start()`但如果您不调用`super.start()`它，它将不会在新堆栈中创建新胎面。

`super.start()`调用一个本机方法`native void start0()`，该方法基本上在自己的堆栈中启动新线程。

# c# - ASP.net 身份验证

> ID：11151920
> 
> 赞同：5
> 
> 时间：2012-06-22T07:29:03.803
> 
> 标签：c#, asp.net, .net, salt

我是一名 CS 专业的，我刚刚完成了 ASP.net 网站的设计，对于该网站，我需要一个登录身份验证系统......我不想使用 SQLMembershipProvider，因为我真的想学习如何自己制作一个...无论如何，这就是我想出的，我想知道是否有人可以给我一些反馈、提示或建议。

提前致谢

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Security;
using System.Security.Cryptography;

/// <summary>
/// Summary description for PwEncrypt
/// </summary>
public class PwEncrypt
{
    public const int DefaultSaltSize = 5;

    private static string CreateSalt()
    {
        RNGCryptoServiceProvider rng = new RNGCryptoServiceProvider();
        byte[] buffer = new byte[DefaultSaltSize];
        rng.GetBytes(buffer);
        return Convert.ToBase64String(buffer);
    }

    public static string CreateHash(string password, out string salt)
    {
        salt = CreateSalt();
        string saltAndPassword = String.Concat(password, salt);
        string hashedPassword = FormsAuthentication.HashPasswordForStoringInConfigFile(saltAndPassword, "SHA1");
        hashedPassword = string.Concat(hashedPassword, salt);
        return hashedPassword;
    }
       public static string CreateHashAndGetSalt(string password, string salt)
    {

        string saltAndPassword = String.Concat(password, salt);
        string hashedPassword = FormsAuthentication.HashPasswordForStoringInConfigFile(saltAndPassword, "SHA1");
        hashedPassword = string.Concat(hashedPassword, salt);
        return hashedPassword;
    }

    public static bool comparePassword(string insertedPassword, string incUserName, out string newEncryptedPassword, out string originalPassword)
    {
        databaseInteraction DBI = new databaseInteraction();
        string actualPassword ="";
        string salt = "";

        DBI.getSaltandPassword(incUserName, out salt, out actualPassword);
        string hashedIncPassword = PwEncrypt.CreateHashAndGetSalt(insertedPassword, salt);
       // hashedIncPassword = string.Concat(hashedIncPassword, salt);     
        newEncryptedPassword = hashedIncPassword;
        originalPassword = actualPassword;
        if (newEncryptedPassword == originalPassword)
        {

            return true;
        }

        else { return false; }

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T08:07:38.807

假设我们有一个这样的帐户表

![在此处输入图像描述](../Images/29ac45fcad1bc821633734a2532031e5.png)

然后您可以创建一些返回帐户对象的帮助程序类

```
private static Account GetByName(string accountName, bool activatedOnly = false)
{
    using (var context = new DBEntities())
    {
        return context.Accounts.FirstOrDefault(s => 
            s.AccountName == accountName &&
            s.IsApproved == activatedOnly);
    }
}

public static Account Get(string accountName, string password)
{
    var account = GetByName(accountName, true);
    if (account != null)
        if (!Cryptographer.IsValidPassword(password, 
                                           account.PasswordSalt, 
                                           account.PasswordKey))
            return null;
    return account;
} 
```

我正在使用`EntityFramework`，但这并不重要。主要思想是表明您不需要获取整个帐户列表（特别是如果您有大量用户列表）。
我的`Cryptographer`课看起来像

```
public class Cryptographer
{
    private const int keyByteLength = 20;
    public static void Encrypt(string password, 
                               out byte[] salt,
                               out byte[] key)
    {
        using (var deriveBytes = new Rfc2898DeriveBytes(password, 
                                                        keyByteLength))
        {
            salt = deriveBytes.Salt;
            key = deriveBytes.GetBytes(keyByteLength);  
        }
    }
    public static bool IsValidPassword(string password, 
                                       byte[] salt, 
                                       byte[] key)
    {
        using (var deriveBytes = new Rfc2898DeriveBytes(password, salt))
        {
            byte[] newKey = deriveBytes.GetBytes(keyByteLength);  
            return newKey.SequenceEqual(key);
        }
    }
} 
```

当然，您可以实现自己的算法。

# ruby-on-rails - 如何使用水豚模拟 rspec 请求规范中的 JSONP 调用？

> ID：11151921
> 
> 赞同：5
> 
> 时间：2012-06-22T07:29:04.297
> 
> 标签：ruby-on-rails, rspec, jsonp, integration-testing, capybara

我正在将我的 rails 应用程序与 Recurly.js 集成。

在我从服务器端应用程序发出 recurly 请求之前，因此我能够将所有与优秀 VCR gem ( [https://github.com/myronmarston/vcr](https://github.com/myronmarston/vcr) ) 的集成存根，但 Recurly.js 直接向服务发出请求使用 JSONP 的 JavaScript 代码。

问题是：如何在集成测试中模拟这些 jsonp 调用？

目前我正在使用 rspec + capybara + phantomjs 驱动程序（[https://github.com/jonleighton/poltergeist](https://github.com/jonleighton/poltergeist)）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T04:31:25.710

我想出的唯一方法是即时 javascript 修补。至于 Poltergeist gem 有一种方法可以在测试浏览器中直接执行 javascript，您可以应用以下补丁将 Recurly.js 转换为测试模式：

```
# The original 'save' function performs JSONP request to Recurly.
# A token is borrowed during the real API interaction.
page.driver.execute_script("""
  Recurly.Subscription.save = function (options) {
    Recurly.postResult('/subscription', { token: 'afc58c4895354255a422cc0405a045b0' }, options);
  }
""") 
```

只需制作一个 capybara-macros，给它起一个花哨的名称，例如 'stub_recurly_js' 并在每次提交 Recurly.js 表单之前调用。

如果您想更深入地挖掘，这里也是原始帖子的链接：http: [//pieoneers.tumblr.com/post/32406386853/test-recurlyjs-in-ruby-using-rspec-capybara-phantomjs](http://pieoneers.tumblr.com/post/32406386853/test-recurlyjs-in-ruby-using-rspec-capybara-phantomjs)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-15T09:16:15.417

使用[puffing-billy](https://github.com/oesmith/puffing-billy)。它在您的测试浏览器和外部世界之间注入一个代理服务器，并允许您伪造特定 URL 的响应。

例子：

```
describe 'my recurly jsonp spec' do

  before do
    # call proxy.stub to setup a fake response
    proxy.stub 'https://api.recurly.com/v2/foo', :jsonp => { :bar => 'baz' }
  end

  it 'does something with recurly' do
    ....
  end
end 
```

# c - 将变量传递给 popen 命令

> ID：11151926
> 
> 赞同：3
> 
> 时间：2012-06-22T07:29:22.693
> 
> 标签：c, linux, terminal, openssl, popen

我需要将一个字符串变量传递给我为解密一段加密数据而制作的 popen 命令。我需要使用的代码段是：

```
char a[]="Encrypted data";
popen("openssl aes-256-cbc -d -a -salt <a-which is the data i have to pass here>","r"); 
```

我应该怎么做才能将此变量传递给命令。我试过：

```
popen("openssl aes-256-cbc -d -a -salt %s",a,"r"); 
```

但是在编译时显示错误，popen 传递了太多参数。请帮忙。提前致谢。操作平台：Linux

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-22T07:31:03.957

用于`snprintf`构造传递给 popen 的命令字符串。

```
FILE * proc;
char command[70];
char a[]="Encrypted data";
int len;
len = snprintf(command, sizeof(command), "openssl aes-256-cbc -d -a -salt %s",a);
if (if len <= sizeof(command))
{
    proc = popen(command, "r");
}
else
{
    // command buffer too short
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-22T08:48:22.687

`snprintf`如果参数包含任何空格、引号或其他特殊字符，构造命令字符串将中断。

在 Unix 平台上，您应该改为使用`pipe`创建管道，然后使用 启动子进程`posix_spawnp`，使用 将子进程的标准输出连接到管道的输入端`posix_spawn_file_actions_adddup2`。

# android - notifyDataSetChanged() 不适合我

> ID：11151930
> 
> 赞同：1
> 
> 时间：2012-06-22T07:29:32.990
> 
> 标签：android, android-listview

我有一个列表视图，它使用不同类中的基本适配器显示来自我的数据库的多个数据。每次我删除或添加项目到我的数据库时，我都想刷新我的列表视图。

这是我的代码，但它没有刷新我的列表视图。请帮我把`notifyDataSetChanged()`.

```
BaseAdapter ad = ((orderadapter)list.getAdapter());
ad.notifyDataSetChanged(); 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-23T08:45:52.727

首先，我将适配器标记为全局变量：

```
 public ListAdapter adapter = null; 
```

现在我在 onCreate() 方法中初始化我的列表视图（我必须在其中放置项目）。此列表视图的布局在 xml 文件中定义：

```
 listView = (ListView)findViewById(R.id.myList); 
```

现在我将所有值显示在一个数组列表中，然后用这个数组列表初始化适配器（您也可以使用任何其他数据存储技术）：

```
 adapter = new ListAdapter(availableMessageNotifications,MessageNotificationActivity.this);
       listView.setAdapter(adapter);
       listView.setChoiceMode(ListView.CHOICE_MODE_SINGLE); 
```

然后我在列表的每个项目上设置 onItemClickListener：

```
 OnItemClickListener listener = new OnItemClickListener (){
        @Override
        public void onItemClick(AdapterView<?> adapter, View view, int position,long id) {
      //your code for an item clicked.
     }
     listView.setOnItemClickListener (listener); 
```

我希望这能帮到您。

您应该从 UI 线程调用 notifyDataSetChanged() ：

```
 yourList.remove(position);
        runOnUiThread(new Runnable() {
            public void run() {
                yourAdapter.notifyDataSetChanged();
            }
        }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T13:59:36.177

我遇到了同样的问题，但现在使用下面的代码解决了。

```
listView.post(new Runnable() {
        public void run() {
        adpater.notifyDataSetChanged();
        }
    }); 
```

# mysql - mysql中的计算和多重连接

> ID：11151939
> 
> 赞同：0
> 
> 时间：2012-06-22T07:30:23.893
> 
> 标签：mysql, sql

**1.products（产品表）**

```
1.productid 

  001         
  002         
  003         

2.productname

  x
  y
  z 
```

**2.invoiceqty（发票数量表）**

```
1.productid

  001       
  001      
  002       
  002 

2.invqty

  10
  20
  10
  05 
```

**3.grnqty（GRN数量表）**

```
1.productid 

  001        
  002        
  003        

2.grqty

  50
  50
  50 
```

**4.returninqty（退货数量表）**

```
1.productid 

  002
  002

2.retinqty

  02
  03 
```

**5.returnoutqty（退货数量表）**

```
1.productid 

  001
  001

2.retoutqty

  01
  01 
```

我需要执行这个查询来查看库存余额 stockbalance 计算像这样

(grnqty+returninqty)-(invoiceqty+returnoutqty) = StockBalance

请告诉我如何编写这样的查询来计算库存余额

**6.股票（查询）**

```
1.productid 

  001
  002
  003

2.Stockqty

  40
  33
  50 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:38:39.103

尝试使用子查询计算每个表的数量。它不适用于 LEFT JOIN，因为我们将在表格中使用笛卡尔积。

```
SELECT
    p.productid,
(
    SELECT COALESCE(SUM(grnqty), 0) 
    FROM grnqty g 
    WHERE g.productid = p.productid
) 
 +
(
    SELECT COALESCE(SUM(returninqty), 0) 
    FROM returninqty ri 
    WHERE ri.productid = p.productid
)     
 - 
(
    SELECT COALESCE(SUM(invoiceqty), 0) 
    FROM invoiceqty i 
    WHERE i.productid = p.productid
)
 -
(
    SELECT COALESCE(SUM(returnoutqty), 0) 
    FROM returnoutqty ro 
    WHERE ro.productid = p.productid
) as stock

FROM products p 
```

此外，您可以创建一个函数来计算库存。您可以轻松地将其重用于其他查询。

```
DELIMITER $$

CREATE FUNCTION `get_product_stock` (IN p_id_product INT) RETURNS INT
BEGIN

DECLARE stock INT;

SET stock =
    (
        SELECT COALESCE(SUM(grnqty), 0)
        FROM grnqty
        WHERE productid = p_id_product
    )
     +
    (
        SELECT COALESCE(SUM(returninqty), 0)
        FROM returninqty
        WHERE productid = p_id_product
    )
     -
    (
        SELECT COALESCE(SUM(invoiceqty), 0)
        FROM invoiceqty
        WHERE productid = p_id_product
    )
     -
    (
        SELECT COALESCE(SUM(returnoutqty), 0)
        FROM returnoutqty
        WHERE productid = p_id_product
    );

RETURN stock;

END $$

DELIMITER ; 
```

您可以像这样使用该功能：

```
// get the stock for product with id 1
SELECT get_product_stock(1); 

// get all the products with their stock
SELECT productid, name, get_product_stock(productid) as stock FROM products; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T08:09:02.747

这个查询是根据你的公式，但你显示的结果没有产生，因为我认为你的公式可能有任何问题

```
SELECT
  p.productid,

  (ifnull(g.g_sum,0) + ifnull(rq.rq_sum,0))-(ifnull(i.i_sum,0) + ifnull(ro.ro_sum,0)) as StockBalance,

  ifnull(g.g_sum,0) as GRN_QUANTITY,
 ifnull( rq.rq_sum,0) as RETURN_IN_QUANTITY,
 ifnull( i.i_sum,0) as INVENTORY_QUANTITY,
 ifnull( ro.ro_sum,0) as RETURN_OUT_QUANTITY
from products as p
  left join (select
           productid,
           sum(grnqty)  as g_sum
         from grnqty group by productid) as g
    on g.productid = p.productid
  left join (select
           productid,
           sum(retinqty) as rq_sum
         from returninqty group by productid) as rq
    on rq.productid = p.productid
  left join (select
           productid,
           sum(invqty)  as i_sum
         from invoiceqty group by productid) as i
    on i.productid = p.productid
  left join (select
           productid,
           sum(retoutqty) as ro_sum
         from returnoutqty group by productid) as ro
    on ro.productid = p.productid 
```

# propel - Propel_Generator - 在类映射文件中包含路径不正确

> ID：11151941
> 
> 赞同：0
> 
> 时间：2012-06-22T07:30:43.957
> 
> 标签：propel

我在我的 zend_framework/php 项目中使用 propel runtime v1.5.4 及其相关的 propel_generator 两年以来没有任何问题。

昨天我已经通过 pear 将 propel_generator 更新到 v1.6.5，将运行时库更新到 v1.6.6。在使用新生成器进行第一次构建过程后，生成的 classmap-[project]-conf.php 文件出现问题：

旧生成器 (v1.5.4)

```
...

      'AutocompleteQuery' => 'AutocompleteQuery.php',
      'AutocompleteTableMap' => 'map/AutocompleteTableMap.php',
      'BaseAclAssertion' => 'om/BaseAclAssertion.php'

... 
```

新生成器 (v1.6.5)

```
...

      'AutocompleteQuery' => 'AutocompleteQuery.php',
      'AutocompleteTableMap' => '/map/AutocompleteTableMap.php',
      'BaseAclAssertion' => '/om/BaseAclAssertion.php'

... 
```

新生成器在 'map' 和 'om' 路径之前添加了一个前导斜杠。所以推进自动加载器找不到类文件。

是否有任何配置选项或生成器模板我可以更改它？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T08:17:31.747

您的配置中的构建属性似乎`targetPackage`为空。默认情况下，Propel 使用项目名称作为目标包，这样你的类之前总是有一个目录：

```
 // ...
  'AutocompleteQuery'    => 'project/AutocompleteQuery.php',
  'AutocompleteTableMap' => 'project/map/AutocompleteTableMap.php',
  'BaseAclAssertion'     => 'project/om/BaseAclAssertion.php' 
```

我修复了 Propel 以消除这个限制，这样它将生成一个有效的包路径。我在这里谈论包是因为包用于确定在哪里写入文件。

了解 Propel 中的包的文档：http: [//www.propelorm.org/cookbook/multi-component-data-model.html#understanding_packages](http://www.propelorm.org/cookbook/multi-component-data-model.html#understanding_packages)

通过提交修复： [https ://github.com/propelorm/Propel/commit/b03569a802471b86e6e52287974de17f836c9baa](https://github.com/propelorm/Propel/commit/b03569a802471b86e6e52287974de17f836c9baa)

# asp.net-mvc - 如何在 MVC 视图中包含命名空间

> ID：11151943
> 
> 赞同：0
> 
> 时间：2012-06-22T07:30:52.060
> 
> 标签：asp.net-mvc, asp.net-mvc-3, razor

我正在尝试包含`<% @using System.Web.Script.Serialization%>`，但它给了我错误消息：服务器块的格式不正确。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T07:36:54.610

如果您使用的是 Razor 语法，则如下所示：

```
@using System.Web.Script.Serialization 
```

ASP.net 语法是这样的：

```
<%@ Import Namespace="System.Web.Script.Serialization" %> 
```

# android - 通过ndk连接套接字编程的错误

> ID：11151945
> 
> 赞同：3
> 
> 时间：2012-06-22T07:30:56.733
> 
> 标签：android, linux, android-emulator, android-ndk

实际上，我已经在 android 模拟器中对 server.c 和 client.c 进行了测试（ps：它们都成功运行并使用 android 通用交叉编译器编译）。然后我更进一步，我重写了客户端-side通过jni。但是，在这种情况下，客户端无法连接到服务器端，尽管新客户端与client.c非常相似。经过搜索，有人提到权限很重要。但是，当我添加 `<uses-permission android:name="android.permission.INTERNET" />`（ps：此标签在应用程序标签之外）时，问题仍然存在。正如 logcat 所显示的，java 代码实际上调用了 c 方法，但是，为什么它的行为与 client.c 不同呢？任何想法都会让我受益匪浅。提前致谢！

服务器.c：

```
/*  Make the necessary includes and set up the variables.  */

#include <sys/types.h>
#include <sys/socket.h>
#include <stdio.h>
#include <sys/un.h>
#include <unistd.h>
#include <stdlib.h>

int main()
{
    int server_sockfd, client_sockfd;
    int server_len, client_len;
    struct sockaddr_un server_address;
    struct sockaddr_un client_address;

/*  Remove any old socket and create an unnamed socket for the server.  */

    unlink("server_socket");
    server_sockfd = socket(AF_UNIX, SOCK_STREAM, 0);

/*  Name the socket.  */

    server_address.sun_family = AF_UNIX;
    strcpy(server_address.sun_path, "server_socket");
    server_len = sizeof(server_address);
    bind(server_sockfd, (struct sockaddr *)&server_address, server_len);

/*  Create a connection queue and wait for clients.  */

    listen(server_sockfd, 5);
    while(1) {
        char ch;

        printf("server waiting\n");

/*  Accept a connection.  */

        client_len = sizeof(client_address);
        client_sockfd = accept(server_sockfd, 
            (struct sockaddr *)&client_address, &client_len);

/*  We can now read/write to client on client_sockfd.  */

        read(client_sockfd, &ch, 1);
        ch++;
        write(client_sockfd, &ch, 1);
        close(client_sockfd);
    }
} 
```

客户端.c：

```
/*  Make the necessary includes and set up the variables.  */

#include <sys/types.h>
#include <sys/socket.h>
#include <stdio.h>
#include <sys/un.h>
#include <unistd.h>
#include <stdlib.h>

int main()
{
    int sockfd;
    int len;
    struct sockaddr_un address;
    int result;
    char ch = 'A';

/*  Create a socket for the client.  */

    sockfd = socket(AF_UNIX, SOCK_STREAM, 0);

/*  Name the socket, as agreed with the server.  */

    address.sun_family = AF_UNIX;
    strcpy(address.sun_path, "server_socket");
    len = sizeof(address);

/*  Now connect our socket to the server's socket.  */

    result = connect(sockfd, (struct sockaddr *)&address, len);

    if(result == -1) {
        perror("oops: client1");
        exit(1);
    }

/*  We can now read/write via sockfd.  */

    write(sockfd, &ch, 1);
    read(sockfd, &ch, 1);
    printf("char from server = %c\n", ch);
    close(sockfd);
    exit(0);
} 
```

java代码：包gz.kaiwii；

```
public class NSocket {
    static{
        System.loadLibrary("NSocket");
    }
    public native void start();
} 
```

本机代码：

```
/* DO NOT EDIT THIS FILE - it is machine generated */
#include <jni.h>
#include <android/log.h>
#include <android/bitmap.h>

#include <sys/types.h>
#include <sys/socket.h>
#include <stdio.h>
#include <sys/un.h>
#include <unistd.h>
#include <stdlib.h>

#define  LOG_TAG    "NSocket"
#define  LOGI(...)  __android_log_print(ANDROID_LOG_INFO,LOG_TAG,__VA_ARGS__)
#define  LOGE(...)  __android_log_print(ANDROID_LOG_ERROR,LOG_TAG,__VA_ARGS__)

JNIEXPORT void JNICALL Java_gz_kaiwii_NSocket_start
  (JNIEnv * env, jobject object){
    LOGI("JNICALL Java_gz_kaiwii_NSocket_start is called!");

    int sockfd;
    int len;
    struct sockaddr_un address;
    int result;
    char ch = 'A';

/*  Create a socket for the client.  */

    LOGI(" Create a socket for the client!");

    sockfd = socket(AF_UNIX, SOCK_STREAM, 0);
    if(sockfd==-1){
    LOGE("create socket error!!!!!");
}

/*  Name the socket, as agreed with the server.  */

    address.sun_family = AF_UNIX;
    strcpy(address.sun_path, "server_socket");
    len = sizeof(address);

/*  Now connect our socket to the server's socket.  */

    result = connect(sockfd, (struct sockaddr *)&address, len);

    LOGI("  Now connect our socket to the server's socket.");

    if(result == -1) {
        LOGE("connect error!");
        exit(1);
    }

/*  We can now read/write via sockfd.  */

    write(sockfd, &ch, 1);
    read(sockfd, &ch, 1);
    /*
    printf("char from server = %c\n", ch);
    */
    LOGI("char from server = %c\n", ch);
    close(sockfd);
} 
```

日志猫： ![在此处输入图像描述](../Images/22275d958099e8ce5d09b3eb86fad8d7.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:46:47.480

如果我使用抽象命名空间作为名称，一切运行正常。但是，需要注意的一点是长度！

# jquery - 滑动 div --> 多

> ID：11151946
> 
> 赞同：1
> 
> 时间：2012-06-22T07:31:02.133
> 
> 标签：jquery, css-transitions

我用这个脚本用 jquery 和 css 为一些 div 设置动画。现在我想使用的不仅仅是这两个按钮。相反，下面应该有几个列表。但我不能只复制每个 jquery 脚本并更改变量的名称。

这是示例：http: [//jonathanstark.com/labs/simple-sliding-example-using-css3-animations.html](http://jonathanstark.com/labs/simple-sliding-example-using-css3-animations.html)

如何更改变量和脚本，以便脚本适用于任何“设置”+“主页”div 的每种组合？就像一个垂直菜单，在每个“home”div 上，组合的“settings”div 滑入。

```
<script>
            function goTo(targetPanelId) {
                var home = document.getElementById('home');
                var settings = document.getElementById('settings');
                if (targetPanelId === 'settings') {
                    home.className = 'slide left out';
                    settings.className = 'slide left in';                    
                } else {
                    home.className = 'slide right in';
                    settings.className = 'slide right out';                    
                }
                return false;
            }
        </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T10:45:37.803

这是我的代码，希望这是你想要的：

[jsfiddle](http://jsfiddle.net/SyL7n/20/)

**HTML**

```
<div id="container">
    <div id="home">
        <h1>Home</h1>
        <a href="#" class="menu" data-hash="settings-1"><span>Go to Settings 1</span></a>
        <a href="#" class="menu" data-hash="settings-2"><span>Go to Settings 2</span></a>
        <a href="#" class="menu" data-hash="settings-3"><span>Go to Settings 3</span></a>
        <p>Animation Example</p>
        <p>When a button is clicked/tapped, the JavaScript merely assigns class names to the panels. The CSS then jumps into action based on the new class names.</p>
    </div>
    <div id="settings">
        <h1>Settings</h1>
        <a id="settings-1" href="#" class="menu" data-hash="home"><span>Go to Home 1</span></a>
        <a id="settings-2" href="#" class="menu" data-hash="home"><span>Go to Home 2</span></a>
        <a id="settings-3" href="#" class="menu" data-hash="home"><span>Go to Home 3</span></a>
    </div>
</div> 
```

**JS**

```
function goTo(link) {
    var hash = link.dataset['hash'],
        target = document.getElementById(hash),
        source = link.parentNode,
        isHome = source.id == 'home';

    if(isHome) {
        target.className = 'slide left in';
    }else{
        link.className = 'slide right out';
    }

    return false;
}

var navs = document.getElementsByClassName('menu');
for(var i in navs) {
    var obj = navs[i];
    if(typeof obj == 'object') {
        obj.addEventListener('click', function() {
            goTo(this);
        });
    }
} 
```

请注意删除的 p 标签，我必须使用按钮样式的跨度使锚点成为其父项的整个宽度，因为否则 100% x 平移将不是完整的动画。

# html - 亚美尼亚字体在 fontface css3 中不起作用

> ID：11151950
> 
> 赞同：1
> 
> 时间：2012-06-22T07:31:13.770
> 
> 标签：html, css, font-face

我网站上的字体无法使用...这是亚美尼亚字体，无法使用...我需要您的帮助

这是我的例子

[http://jsfiddle.net/amkrtchyan/w4zQv/](http://jsfiddle.net/amkrtchyan/w4zQv/)

你可以从 url 下载字体

字体应该是这样的

![在此处输入图像描述](../Images/250278ea20d5416b8b832a712e4cd206.png)

感谢帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-08-27T07:54:04.720

```
<head>
    <meta charset="utf-8">
</head> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-22T07:52:25.507

你使用的是什么浏览器？我使用 Chrome，它运行良好。确保您的浏览器支持 .ttf，并非所有浏览器都支持。

# erlang - 不活动 8 小时后 ODBC 崩溃

> ID：11151956
> 
> 赞同：2
> 
> 时间：2012-06-22T07:31:41.367
> 
> 标签：erlang, odbc

我使用 odbc 来连接 mysql。我通过以下代码启动 odbc：

```
ConnectString = "Driver={MySQL ODBC 5.1 Driver};Server=localhost;Database=mydb; User=userdb;Password=pwddb;Option=3;",case odbc:connect(ConnectString, [{scrollable_cursors,off}]) of ... 
```

在 8 小时不活动（或多或少）后，odbc 崩溃：

```
=CRASH REPORT==== 22-Jun-2012::02:09:27 ===   crasher:
    initial call: odbc:init/1
    pid: <0.113.0>
    registered_name: []
    exception exit: {stopped,{'EXIT',<0.108.0>,killed}}
      in function  gen_server:terminate/6 (gen_server.erl, line 737)
    ancestors: [odbc_sup,<0.111.0>]
    messages: [{'EXIT',#Port<0.967>,normal}]
    links: [<0.112.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 377
    stack_size: 24
    reductions: 2237   neighbours: 
```

连接是否有时间限制？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T23:12:28.507

Mysql 有一个变量[wait_timeout](http://dev.mysql.com/doc/refman/5.0/en/server-system-variables.html#sysvar_wait_timeout)来控制服务器等待客户端做某事的时间。默认值为 28800 秒。随便，28800 秒是 8 小时，因此您可能需要在服务器配置中检查它并将其设置为更大的值。

除此之外，您应该让您的工作人员终止，并让主管正常重新启动它。或者（如果使用 gen_server 或 gen_fsm）设置超时以发出查询或 ping 以保持连接每隔一小时左右保持活动状态，以保持工作人员活动。

最好的！

# facebook - 这是否可能要求网站访问者打开 Facebook 页面才能访问网站上的内容？

> ID：11151960
> 
> 赞同：0
> 
> 时间：2012-06-22T07:32:08.347
> 
> 标签：facebook, web, token, require

我想知道这是否可能以及如何做到这一点。我有一个个人网站。我想拥有它，以便访问者能够访问特定页面，网站会检查该访问者是否是我们在 facebook 上的页面的粉丝。如果不是，它们必须合二为一，才能进入我网站上的页面内容。我想也许有一个代码可以做到这一点？也许某种令牌/cookie组合？任何帮助都会很棒。我一直在寻找解决方案。我个人网站上的页面获得了大量流量，因此我想要求该页面的所有访问者成为 Facebook 粉丝，并且该网站在让他们进入页面之前验证这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T07:55:58.070

在 Facebook 之外，如果您先让用户登录到您的网站，您只能检查用户是否喜欢您的页面。

所以你需要设置一个应用程序，让用户登录，请求他们允许阅读他们喜欢的内容，如果他们喜欢你的特定页面，请阅读信息——然后让他们看到内容，或者给他们点赞按钮。

文档中详细说明了它是如何完成的——所以如果你认为值得付出代价，请看看那里。

# eclipse - 隐藏其他插件贡献的菜单

> ID：11151967
> 
> 赞同：0
> 
> 时间：2012-06-22T07:32:41.643
> 
> 标签：eclipse, eclipse-plugin, eclipse-rcp

我的 eclipse rcp 应用程序依赖于一组 eclipse 插件，在我将它们添加为依赖项后，“运行”和“搜索”菜单出现在主菜单栏中。

哪个插件包含这两个菜单贡献？

如何隐藏菜单，而我仍然需要提供菜单的插件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T08:04:05.147

您可以尝试使用活动和上下文，[如 Eclipse 帮助中所述](http://help.eclipse.org/indigo/topic/org.eclipse.platform.doc.isv/guide/workbench_scalability.htm)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T16:20:36.720

> 哪个插件包含这两个菜单贡献？

您可以使用 Shift-Alt-F2 然后单击菜单（在您的 IDE 中，而不是您的 RCP 应用程序中）以找出菜单 ID，从而很好地了解哪个插件贡献了它。

# php - 无法使用正则表达式解析多行

> ID：11151968
> 
> 赞同：2
> 
> 时间：2012-06-22T07:32:43.503
> 
> 标签：php

```
<trans-unit id="8">
<source>Special settings for:</source>
<target>Special settings for:</target>
</trans-unit> 
```

我正在尝试获取目标标签的 ID 和内容。上面的结构在我试图解析的 XML 中重复了很多次。

我目前正在使用下面的表达式，但它只返回空数组：

```
preg_match_all('#<trans-unit id="(.*)">(.*)<target>(.*)</target>(.*)</trans-unit>#Ui', $xml, $matches); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T07:36:43.683

请改用 xml 解析器。

```
$xml = simplexml_load_string($string);
print_r($xml); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T07:39:58.060

您可以使用 /s 模式修饰符使点 (.*) 匹配所有字符，包括换行符。默认情况下，PCRE 将字符串视为长的单行字符串。

[http://php.net/manual/en/reference.pcre.pattern.modifiers.php](http://php.net/manual/en/reference.pcre.pattern.modifiers.php)

所以在上面的例子中：

```
preg_match_all('#<trans-unit id="(.*)">(.*)<target>(.*)</target>(.*)</trans-unit>#Uis', $xml, $matches); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T07:36:16.250

您必须在 PHP 中为您的正则表达式指定`s`选项以添加多行匹配功能（即`.`也将匹配换行符）。

**编辑**：将`m`选项更改为以`s`供进一步参考，请参阅下面的评论。

# node.js - 在 node.js/cluster 中轮换子进程是个好主意吗？

> ID：11151969
> 
> 赞同：0
> 
> 时间：2012-06-22T07:32:46.007
> 
> 标签：node.js

Apache Web Server 有一个名为 MaxRequestsPerChild 的配置参数。 [http://httpd.apache.org/docs/2.0/en/mod/mpm_common.html#maxrequestsperchild](http://httpd.apache.org/docs/2.0/en/mod/mpm_common.html#maxrequestsperchild) “MaxRequestsPerChild 请求后，子进程会死掉。”

为了避免由于内存泄漏、连接过多或其他意外错误导致的崩溃，在使用 node.js Cluster 模块时我应该做同样的事情吗？

*我在 node.js 前使用 Nginx，而不是 Apache。我提到它，以便我可以轻松解释。

我只是这样实现它：

```
var maxReqsPerChild = 10; // Small number for debug
var numReqs = 0;

if (cluster.isMaster) {
  var numCPUs = require('os').cpus().length;
  for (var i = 0; i < numCPUs; i++) {
    cluster.fork();
  }

  cluster.on('death', function(worker) {
    // Fork another when one died 
    cluster.fork();
  });
} else {
  http.createServer(function(webReq, webRes) {
    // Count up
    numReqs++;

    // Doing something here

    // Kill myself
    if (numReqs > maxReqsPerChild) {
      process.kill(process.pid); // Or more simply, process.exit() is better?
    }
  }).listen(1338);
} 
```

到目前为止，这一直运作良好，但我想知道还有更合适的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-25T17:37:31.973

MaxRequestsPerChild 可以很好地*隐藏*内存泄漏问题，但不应该经常使用，因为它只是隐藏了真正的问题。首先尽量避免内存泄漏。不应使用它来避免其他问题，例如连接过多或其他意外错误。

当您使用 MaxRequetsPerChild 时，您不应该`process.kill`两者都使用`process.exit`，因为这会立即关闭所有正在进行的连接。

相反，您应该`server.close`等待所有正在进行的连接完成，然后触发“关闭”事件。

```
var server = http.createServer(...);
server.on( "close", function() {
    process.exit(0);
});
server.on( "request", function () {
    requestCount += 1;
    if ( options.max_requests_per_child && (requestCount >= options.max_requests_per_child) ) {
        process.send({ cmd: "set", key: "overMaxRequests", value: 1 });
        if ( ! server.isClosed ) {
            server.close();
            server.isClosed = 1;
        }
    }
}); 
```

在此处查看完整的工作示例： [https ://github.com/mash/node_angel](https://github.com/mash/node_angel)

# gradle - 使用空项目构建 Gradle 多项目

> ID：11151971
> 
> 赞同：18
> 
> 时间：2012-06-22T07:32:52.850
> 
> 标签：gradle, gradle-multi-project-build

在我们的项目中应用多项目 Gradle 结构时，我的**settings.gradle**如下所示：

```
include "source:compA:api"
include "source:compA:core"
include "source:compB" 
```

*毕业项目*给我

```
Root project 'tmp'
\--- Project ':source'
     +--- Project ':source:compA'
     |    +--- Project ':source:compA:api'
     |    \--- Project ':source:compA:core'
     \--- Project ':source:compB' 
```

这正是目录结构！
在我的根目录中，我有一个**build.gradle**，它将 java 插件应用于所有子项目：

```
subprojects {
    apply plugin: 'java'
} 
```

在构建时，我最终得到了*:source:compA*的工件，它们是空的，因为这实际上不是一个项目，只是子目录*api*和*core*是正确的 Java 项目。

避免空工件的最佳方法是什么？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-07-02T14:37:56.040

您可以尝试使用他们在[Gradle 自己的 settings.gradle](https://github.com/gradle/gradle/blob/828869a0c29562902182ee7061a475894e5bc4a6/settings.gradle)文件中使用的技巧。请注意每个子项目如何位于`'subprojects/${projectName}'`文件夹中，但`subprojects`文件夹本身不是项目。

因此，在您的情况下，您会执行以下操作：

```
include "source:compA-api"
include "source:compA-core"
include "source:compB"

project(':source:compA-api').projectDir = new File(settingsDir, 'source/compA/api')
project(':source:compA-core').projectDir = new File(settingsDir, 'source/compA/core') 
```

我故意省略了和之间的冒号`compA`，`api`以确保`source:compA`不会被评估为项目容器。

或者，您可以尝试通过执行以下操作将`source:compA`项目排除在`java`应用插件之外：

```
def javaProjects() { 
  return subprojects.findAll { it.name != 'compA' }
} 

configure(javaProjects()) { 
  apply plugin: 'java' 
} 
```

**编辑：** 或者，您可以尝试这样的事情（根据自己的喜好调整）：

```
def javaProjects() { 
  return subprojects.findAll { new File(it.projectDir, "src").exists() }
} 

configure(javaProjects()) { 
  apply plugin: 'java' 
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-12-27T03:01:58.243

从 Gradle 6.7 开始，Gradle 用户手册[建议不要](https://docs.gradle.org/6.7.1/userguide/sharing_build_logic_between_subprojects.html#sec:convention_plugins_vs_cross_configuration)使用“跨项目配置”功能使用`subprojects`and来配置子项目`allprojects`：

> 另一种不鼓励在子项目之间共享构建逻辑的方法是通过和DSL 结构进行*跨项目配置。*使用交叉配置，可以将构建逻辑注入到子项目中，这在查看子项目的构建脚本时并不明显，从而更难理解特定子项目的逻辑。从长远来看，交叉配置通常会变得越来越复杂，条件逻辑越来越多，维护负担也越来越大。交叉配置还可以在项目之间引入[配置时耦合](https://docs.gradle.org/6.7.1/userguide/multi_project_configuration_and_execution.html#sec:decoupled_projects)，这可能会阻止[按需配置等](https://docs.gradle.org/6.7.1/userguide/multi_project_configuration_and_execution.html#sec:configuration_on_demand)优化正常工作。`subprojects {}``allprojects {}`

建议的方法是使用[约定插件](https://docs.gradle.org/6.7.1/userguide/sharing_build_logic_between_subprojects.html#sec:convention_plugins)来定义共同特征：

> Gradle 推荐的组织构建逻辑的方法是使用它的插件系统。插件应该定义子项目的*类型*。事实上，[Gradle 核心插件](https://docs.gradle.org/6.7.1/userguide/plugin_reference.html)的建模方式相同——例如，[Java 插件](https://docs.gradle.org/6.7.1/userguide/java_plugin.html)配置一个通用的 java 项目，而[Java 库插件](https://docs.gradle.org/6.7.1/userguide/java_library_plugin.html)在内部应用[Java 插件](https://docs.gradle.org/6.7.1/userguide/java_plugin.html)并配置特定于 Java 库的方面。同样，[Application Plugin](https://docs.gradle.org/6.7.1/userguide/application_plugin.html)应用和配置[Java Plugin](https://docs.gradle.org/6.7.1/userguide/java_plugin.html)和[Distribution Plugin](https://docs.gradle.org/6.7.1/userguide/distribution_plugin.html)。
> 
> 您可以通过应用和配置核心和外部插件来编写自定义构建逻辑，并创建自定义插件来定义新项目类型并配置特定于您的项目或组织的约定。对于本节开头的每个示例特征，我们可以编写一个插件来封装给定类型的子项目的通用逻辑。
> 
> 我们建议将约定插件的源代码和测试放在项目根目录的特殊 buildSrc 目录中。有关 buildSrc 的更多信息，请参阅[使用 buildSrc 组织构建逻辑](https://docs.gradle.org/6.7.1/userguide/application_plugin.html)。

* * *

在您的特定情况下，您可以遵循 Gradle[示例](https://docs.gradle.org/6.7/samples/sample_convention_plugins.html#organizing_build_logic)中给出的方法：

```
├── buildSrc
│   ├── build.gradle
│   ├── src
│   │   ├── main
│   │   │   └── groovy
│   │   │       ├── source.java-conventions.gradle 
```

该`buildSrc/build.gradle`文件将仅包含`groovy-gradle-plugin`：

```
plugins {
    id 'groovy-gradle-plugin'
} 
```

这`buildSrc/src/main/groovy/source.java-conventions.gradle`将包含您的 Java 项目的通用逻辑。在您的示例中，您只有 Java 插件的应用程序，但您将添加不会与非 Java 项目共享的 Java 插件的任何其他共性：

```
plugins {
    id 'groovy-gradle-plugin'
} 
```

然后，每个 Java 项目都将包含约定插件：

```
plugins {
    id 'source.java-conventions'
} 
```

*请注意，如果从字面上看，唯一*常见的就是`java`插件，这并不会买太多。您正在用另一个替换一个插件包含。但是，一旦您最终获得比这更多的共享构建逻辑，它就开始在跨项目一致性和减少重复代码方面获得回报。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-02-04T10:42:05.910

我有两种情况。空的父目录被视为项目。我们可以进行一些检查以忽略该项目。

```
project.getBuildFile().exists() 
```

# knockout.js - 随着绑定属性的变化，自动排序 ko.observableArray

> ID：11151972
> 
> 赞同：6
> 
> 时间：2012-06-22T07:32:55.813
> 
> 标签：knockout.js

有没有办法在绑定属性更改时自动对可观察数组进行排序？我相信在下面的例子中，当我添加一个新人时，我的视图会更新，但是如果其中一个人的年龄发生了变化，我可以让视图刷新并应用我的排序功能吗？

```
person = {
   age: ko.observable();
}

viewModel = {

   people: ko.observableArray([]),

   someSortFunction: function() {
       this.people.sort(function(person1, person2) {
           return person2.age() - person1.age();
       });
    }
}

<div data-bind="foreach: people">
   <span data-bind="text: age"/>
</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-22T07:40:14.440

你可以订阅一个 observable 并在 observable 发生变化时采取行动：

```
person.age.subscribe(function (newValue) {
    viewModel.someSortFunction();
}); 
```

# android - 如何取消警报对话框和后按的活动

> ID：11151974
> 
> 赞同：0
> 
> 时间：2012-06-22T07:33:04.893
> 
> 标签：android

我的应用程序中有一个用于身份验证的警报对话框。当我在模拟器中按下后退按钮时，警报对话框消失但活动仍在运行。现在我需要取消警报框和背面的活动并想要转到移动主屏幕。我正在使用以下代码：

```
 @Override
        public void onStart() {
            super.onStart();        
            final SharedPreferences prefs = PreferenceManager
                    .getDefaultSharedPreferences(getApplicationContext());
            logutils.createlog();
            if (prefs.getString(getResources().getString(R.string.token), null) != null) {
                setContentView(R.layout.mainscreen);
                showButtons();
            } else {
                createDB();
                status = "completed";
                SharedPreferences.Editor prefsEditor = prefs.edit();
                prefsEditor.putString("status", status);
                prefsEditor.commit();
                final AlertDialog.Builder alert = new AlertDialog.Builder(this);
                LinearLayout login = new LinearLayout(this);
                TextView tvUserName = new TextView(this);
                TextView tvPassword = new TextView(this);
                TextView tvURL = new TextView(this);
                final EditText etUserName = new EditText(this);
                final EditText etPassword = new EditText(this);
                final EditText etURL = new EditText(this);
                if (dbhostname == null) {
                    etURL.setText(null);
                } else {
                    etURL.setText(dbhostname);
                }
                login.setOrientation(1); // 1 is for vertical orientation
                tvUserName.setText(getResources().getString(R.string.username));
                tvPassword.setText(getResources().getString(R.string.password));
                tvURL.setText("SiteURL");
                login.addView(tvURL);
                login.addView(etURL);
                login.addView(tvUserName);
                login.addView(etUserName);
                login.addView(tvPassword);
                etPassword.setInputType(InputType.TYPE_CLASS_TEXT
                        | InputType.TYPE_TEXT_VARIATION_PASSWORD);
                login.addView(etPassword);
                alert.setView(login);
                alert.setTitle(getResources().getString(R.string.login));
                alert.setCancelable(true);
                alert.setPositiveButton(getResources().getString(R.string.login),
                        new DialogInterface.OnClickListener() {
                            public void onClick(final DialogInterface dialog,
                                    int whichButton) {                          
                                strhwdXml = etURL.getText().toString();
                                strUserName = etUserName.getText().toString();
                                XmlUtil.username = strUserName;
                                strPassword = etPassword.getText().toString();
                                if ((strUserName.length() == 0)
                                        && (strPassword.length() == 0)
                                        && (strhwdXml.length() == 0)) {
                                    Toast.makeText(
                                            getBaseContext(),
                                            getResources().getString(
                                                    R.string.userPassword),
                                            Toast.LENGTH_SHORT).show();
                                    onStart();
                                } else {
                                    new doprogress().execute();
                                    // doAuthentication();
                                }                           
                            }
                        });
                alert.setNegativeButton(getResources().getString(R.string.exit),
                        new DialogInterface.OnClickListener() {
                            public void onClick(DialogInterface dialog,
                                    int whichButton) {
                                dialog.cancel();
                                System.exit(0);
                            }
                        }).show();          
                alert.setOnCancelListener(new OnCancelListener() {
                    public void onCancel(DialogInterface dialog) {
                        // TODO Auto-generated method stub
                        finish();
                        System.exit(0);
                    }              
                });
            }
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T06:13:36.520

试试这个代码：

```
@Override

public void onBackPressed() {

AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(context);

alertDialogBuilder.setTitle("Warning!");
alertDialogBuilder.setMessage("Do you want to Exit?");
alertDialogBuilder.setCancelable(false);

alertDialogBuilder.setPositiveButton("Ok",new DialogInterface.OnClickListener() {

    public void onClick(DialogInterface dialog,int id) {

        MainActivity.this.finish();
    }

  })

    .setNegativeButton("Cancel",new DialogInterface.OnClickListener() {
    public void onClick(DialogInterface dialog,int id) {

        dialog.cancel();
    }
});

AlertDialog alertDialog = alertDialogBuilder.create();
alertDialog.show();

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T07:54:32.070

如果可以更改代码

```
new AlertDialog(Context context, boolean cancelable, DialogInterface.OnCancelListener cancelListener)

new DialogInterface.OnCancelListener(){
                    @Override
                    public void onCancel(DialogInterface dialog) {

                        finish();

                    }
                } 
```

或为`AlertDialog.Builder`

```
setOnKeyListener(DialogInterface.OnKeyListener onKeyListener) 
```

# c# - 从 DateTime 中减去天数

> ID：11151976
> 
> 赞同：186
> 
> 时间：2012-06-22T07:33:07.903
> 
> 标签：c#, datetime

我的 C# 程序中有以下代码。

```
DateTime dateForButton =  DateTime.Now;  
dateForButton = dateForButton.AddDays(-1);  // ERROR: un-representable DateTime 
```

每当我运行它时，我都会收到以下错误：

> *添加或减去的值会导致无法表示的 DateTime。*
> *参数名称：值*

我以前从未见过此错误消息，也不明白为什么我会看到它。从我到目前为止阅读的答案中，我相信我可以在加法操作中使用 -1 来减去天数，但正如我的问题所表明的那样，我正在尝试做的事情并非如此。

* * *

## 回答 #1

> 赞同：359
> 
> 时间：2012-06-22T07:48:21.353

```
DateTime dateForButton = DateTime.Now.AddDays(-1); 
```

* * *

## 回答 #2

> 赞同：85
> 
> 时间：2012-06-22T07:46:28.780

当您尝试从中减去一个间隔`DateTime.MinValue`或您想要添加一些东西`DateTime.MaxValue`（或者您尝试在此最小-最大间隔之外实例化一个日期）时，通常会发生该错误。你确定你没有分配`MinValue`到某个地方吗？

* * *

## 回答 #3

> 赞同：55
> 
> 时间：2014-10-31T12:17:25.083

你可以做：

```
DateTime.Today.AddDays(-1) 
```

* * *

## 回答 #4

> 赞同：43
> 
> 时间：2012-06-22T07:41:12.177

您可以使用以下代码：

```
dateForButton = dateForButton.Subtract(TimeSpan.FromDays(1)); 
```

* * *

## 回答 #5

> 赞同：12
> 
> 时间：2016-11-17T12:32:52.070

`dateTime.AddDays(-1)` 不会从参考中减去那一天`dateTime`。它将返回一个新实例，从原始引用中减去这一天。

```
DateTime dateTime = DateTime.Now;
DateTime otherDateTime = dateTime.AddDays(-1); 
```

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2018-07-18T15:28:23.350

我在使用*AddDays(-1)*时遇到了问题。

我的解决方案是**TimeSpan**。

```
DateTime.Now - TimeSpan.FromDays(1); 
```

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2020-03-10T01:26:21.133

不是直接从日期对象中直接减少天数，而是先获取日期值然后减去天数。请参见下面的示例：

```
DateTime SevenDaysFromEndDate = someDate.Value.AddDays(-1); 
```

这里，someDate 是 DateTime 类型的变量。

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2016-08-02T17:25:03.563

AddDays 方法的对象（即目标变量）不能与源相同。

代替：

```
DateTime today = DateTime.Today;
today.AddDays(-7); 
```

试试这个：

```
DateTime today = DateTime.Today;
DateTime sevenDaysEarlier = today.AddDays(-7); 
```

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2017-02-09T13:37:00.373

使用`AddDays(-1)`对我有用，直到我试图跨越几个月。当我试图从 2017-01-01 中减去 2 天时，结果是 2016-00-30。它无法正确处理月份的变化（尽管年份似乎很好）。

我用过`date = Convert.ToDateTime(date).Subtract(TimeSpan.FromDays(2)).ToString("yyyy-mm-dd");` ，没有问题。

# android - 滑动抽屉看起来像半圆形

> ID：11151977
> 
> 赞同：5
> 
> 时间：2012-06-22T07:33:11.227
> 
> 标签：android, slidingdrawer

Android`SlidingDrawer`默认提供如下图所示的外观 -

[图片 http://www.gru.at/android/wp-content/uploads/2010/09/s_open.png](http://www.gru.at/android/wp-content/uploads/2010/09/s_open.png)

我们可以自定义这个`SlidingDrawer`看起来像带有按钮的半圆形类型吗？例如，看看下面的图片 -

![新的滑动抽屉](../Images/5482fb9cf619f7cc9920118e2472a030.png)

任何人都做过上述`SlidingDrawer`类似的事情。我已经用谷歌搜索过了。没有得到任何好的解决方案。有人对此有想法/示例博客吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T19:10:05.480

因此，请确保您准备好 Gimp 和 9-Patch 以进行大量试验和错误...

那你想做的是...

1.  添加合适的布局来保存当前 ImageView 句柄所在的按钮，例如 Horizo​​ntal LinearLayout 或 RelativeLayout

2.  把当前ImageViewHandle的id剪掉，添加到刚刚添加的这个新的Layout中

3.  将您的按钮添加到 LinearLayout/RelativeLayout（您现在可以对其进行测试，按钮和手柄应该同时滑动打开）

4.  现在为每个按钮添加按钮侦听器

5.  将 SlidingDrawer 设置为 android:allowSingleTap = "false" （以牙还牙，你不能再有单击选项，只有幻灯片）

6.  使用 ButtonSelector.xml 为按下或不按下的按钮设置不同的布局。

7.  这是困难的部分。编辑按钮的可绘制对象，并进行处理，以使它们在大屏幕、小屏幕、横向、纵向屏幕时能够很好地组合在一起。我建议将 9-Patch 与 Gimp 结合使用。

8.  拍拍自己的后背，因为您现在拥有一个完全甜美的定制滑动抽屉。

确保您发布图片并说明您遇到的任何问题或问题，因为我从未完全实现这一点，但我确实到了第 6 步以确保它是可能的。

最后但并非最不重要的，祝你好运...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-01T10:55:24.333

感谢这些布局使我的要求`RelativeLayout`与`FrameLayout`我的需要相适应。我已经完成了以下步骤 -

*   首先，我将整个图像分成三部分。并且，将这些图像与`FrameLayout`And 合并，给`onclickListner`我的图像中心（因为它包含向上/向下箭头标记）

*   而且，我使用`Animation`for 只是将视图打开为`SlidingDrawer`

这些步骤对我有很大帮助。

# apache-flex - 在 itemRenderer 中获得 Tab 焦点

> ID：11151984
> 
> 赞同：1
> 
> 时间：2012-06-22T07:33:48.450
> 
> 标签：apache-flex, accordion, flex4.5, itemrenderer

我的应用程序中有一个 mx 手风琴，例如。

```
 <mx:VBox horizontalScrollPolicy="off" verticalScrollPolicy="off">       
<mx:Accordion id="accSubmenu" />
    </mx:VBox> 
```

Accordian 将 NavigatorContents 作为其元素。

```
<s:Group  clipAndEnableScrolling="true">
<s:layout>
    <s:VerticalLayout/>
</s:layout>

<s:Scroller id="scrlSubMenu" 
horizontalScrollPolicy="off" 
hasFocusableChildren="true">
    <s:DataGroup id="lstSubMenu"
    clipAndEnableScrolling="true" 
    hasFocusableChildren="true"
    itemRenderer="renderers.SubmenuItmRndr">
        <s:layout>
            <s:TileLayout/>
        </s:layout>
    </s:DataGroup>
</s:Scroller> 
```

itemRenderer 是 HoverImage 如下..

```
<s:ItemRenderer clipAndEnableScrolling="true"
                autoDrawBackground="false" >
    <s:layout>
        <s:VerticalLayout/>
    </s:layout>
        <controls:HoverImage toolTip="{data.Name}" source="{'assets/' + data.IconFileName}"/>
</s:ItemRenderer> 
```

我想在 itemRenderer 内的图像上使用键盘导航（选项卡焦点）。有人可以帮我解决问题吗？

# android - ViewPager 切换页面不流畅

> ID：11151986
> 
> 赞同：8
> 
> 时间：2012-06-22T07:34:01.123
> 
> 标签：android

我正在使用 Viewpager 在页面之间切换。我在 ViewPager 中有五个页面正在从我的自定义光标适配器获取数据。问题是切换页面不流畅，断断续续。我究竟做错了什么 ？非常感谢任何帮助。

//MYPAGER

```
private class MyPagerAdapter extends PagerAdapter{

    public int getCount() 
    {
        return 5;
    }

    public Object instantiateItem(View collection, int position) 
    {

        LayoutInflater inflater = (LayoutInflater) collection.getContext()
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);

        View view;

        SharedPreferences myoptions = getSharedPreferences("options", Context.MODE_PRIVATE);
        SharedPreferences.Editor prefEditor = myoptions.edit();    

        view = inflater.inflate(R.layout.all_tasks, null);

        ((ViewPager) collection).addView(view, 0);

           //getting list view
           lv= (ListView)findViewById(R.id.list);

        MyAdapter adapter1;

        switch (position) {
        case 0:

            prefEditor.putInt("filter", 5);
            prefEditor.commit();

            if(selectedList!=null)
            {
                cursor1= managedQuery(uri, PROJECTION, where +" AND "+ taskColumns.LIST+ "= ?"
                    +" AND "+ taskColumns.DONE+ "= ?"
                        ,new String[] {selectedList,"0"}, sortingOrder);
            }
             else
                cursor1= managedQuery(uri, PROJECTION, where+" AND "+ taskColumns.DONE+ "= ?",new String[] {"0"}, sortingOrder);

           if (cursor1 != null)
           {
              cursor1.moveToFirst();

           }

           adapter1 = new MyAdapter(tasks.this,cursor1);
            lv.setAdapter(adapter1);

            break;
        case 1:

            prefEditor.putInt("filter", 4);
            prefEditor.commit();

            if(selectedList!=null)
            {
                cursor1= managedQuery(uri, PROJECTION, taskColumns.LIST+ "= ?"
                        ,new String[] {selectedList}, sortingOrder);
            }
             else
                 cursor1= managedQuery(uri, PROJECTION, where,null, sortingOrder); 

               if (cursor1 != null)
               {
                   cursor1.moveToFirst();
               }

               adapter1 = new MyAdapter(tasks.this,cursor1);
                lv.setAdapter(adapter1);

            break;
        case 2:

            prefEditor.putInt("filter", 1);
            prefEditor.commit();

            if(selectedList!=null)
            {
                cursor1= managedQuery(uri, PROJECTION, where +" AND "+ taskColumns.LIST+ "= ?"
                        ,new String[] {selectedList}, sortingOrder);
            }
             else
                 cursor1= managedQuery(uri, PROJECTION, where,null, sortingOrder);

               if (cursor1 != null)
               {
                   cursor1.moveToFirst();
               }

               adapter1 = new MyAdapter(tasks.this,cursor1);
                lv.setAdapter(adapter1);

            break;
        case 3:

            prefEditor.putInt("filter", 2);
            prefEditor.commit();

            if(selectedList!=null)
            {
                cursor1= managedQuery(uri, PROJECTION, where +" AND "+ taskColumns.LIST+ "= ?"
                        ,new String[] {selectedList}, sortingOrder);
            }
             else
                 cursor1= managedQuery(uri, PROJECTION, where,null, sortingOrder);

               if (cursor1 != null)
               {
                   cursor1.moveToFirst();
               }

               adapter1 = new MyAdapter(tasks.this,cursor1);
                lv.setAdapter(adapter1);
            break;
        case 4:

            prefEditor.putInt("filter", 3);
            prefEditor.commit();

            if(selectedList!=null)
            {
                cursor1= managedQuery(uri, PROJECTION, where +" AND "+ taskColumns.LIST+ "= ?"
                        ,new String[] {selectedList}, sortingOrder);
            }
             else
                 cursor1= managedQuery(uri, PROJECTION, where,null, sortingOrder);   

            if (cursor1 != null)
               {
                cursor1.moveToFirst();
               }

            adapter1 = new MyAdapter(tasks.this,cursor1);
            lv.setAdapter(adapter1);
            break;
        }

        return view;
    }

    @Override
    public void destroyItem(View arg0, int arg1, Object arg2) {
        ((ViewPager) arg0).removeView((View) arg2);

    }

    @Override
    public boolean isViewFromObject(View arg0, Object arg1) {
        return arg0 == ((View) arg1);

    }

    @Override
    public Parcelable saveState() 
    {
        return null;
    } 
```

}

//自定义适配器

```
static class ViewHolder {
    public TextView task;
    public TextView note;
    public ImageView note_img;
    public TextView priority;
    public CheckBox done;
    public TextView showingByList;
    public TextView space;
    public LinearLayout b;
}

public class MyAdapter extends CursorAdapter {
    private final int taskIndex;
    private final LayoutInflater Inflater;
    private final int doneIndex;
    private final int priorIndex;
    private final int rowIndex;
    private final int taskListIndex;
    private final int NoteIndex;
    boolean innewView;

    public MyAdapter(Context context, Cursor c) 
    {
        super(context, c);

        this.taskIndex = c.getColumnIndex(taskColumns.TASK);
        this.priorIndex = c.getColumnIndex(taskColumns.PRIORITY);
        this.doneIndex = c.getColumnIndex(taskColumns.DONE);
        this.rowIndex = c.getColumnIndex(taskColumns._ID);
        this.taskListIndex = c.getColumnIndex(taskColumns.LIST);
        this.NoteIndex = c.getColumnIndex(taskColumns.NOTE);

        this.Inflater = LayoutInflater.from(context);
    }

     @Override
        public View newView(Context context, Cursor cursor, ViewGroup parent)
     {

            View v = Inflater.inflate(R.layout.tasks_row, parent, false);              
            innewView=true;

            return v;

     }

     @Override
        public void bindView(View view, Context context, final Cursor cursor) {

         final ViewHolder viewHolder;

         if(innewView)
         {

                viewHolder = new ViewHolder();
                viewHolder.task = (TextView) view.findViewById(R.id.task);
                 viewHolder.note = (TextView) view.findViewById(R.id.note);
                 viewHolder.note_img = (ImageView) view.findViewById(R.id.note_img);
                 viewHolder.priority = (TextView) view.findViewById(R.id.priority);
                 viewHolder.done = (CheckBox) view.findViewById(R.id.check);
                 viewHolder.b=(LinearLayout)view.findViewById(R.id.task_layout);
                 viewHolder.showingByList = (TextView) view.findViewById(R.id.tasklist);

                 view.setTag(viewHolder);        
         }
         else    
             viewHolder = (ViewHolder)view.getTag();

         innewView=false;

         final String task = cursor.getString(taskIndex);
         String TaskNote = cursor.getString(NoteIndex);
         int prior= cursor.getInt(priorIndex);
         int taskDone= cursor.getInt(doneIndex);
         final long id=cursor.getLong(rowIndex);

         int uniqueyindex = cursor.getColumnIndex(taskColumns.UNIQUEY);

         if(TaskNote==null)
         {
         viewHolder.note.setVisibility(View.GONE);
         viewHolder.note_img.setVisibility(View.GONE);
         }
         else
         {
             if(TaskNote.length()<1)
             {
                 viewHolder.note.setVisibility(View.GONE);
                 viewHolder.note_img.setVisibility(View.GONE);
             }
             else{
         viewHolder.note.setVisibility(View.VISIBLE);
        viewHolder.note_img.setVisibility(View.VISIBLE);
             }
         } 

         if(showbyList){

             String taskList = cursor.getString(taskListIndex);
             if(taskList==null)
             {

                 ContentValues valuey=new ContentValues(); 
                 valuey.put(taskColumns.LIST_ID, "0");
                    valuey.put(taskColumns.LIST, "personal");
                    Uri mUry = ContentUris.withAppendedId(uri,id);
                    getContentResolver().update(mUry, valuey,null,null);
                    taskList="personal";
             }      

               // viewHolder.showingByList.setTypeface(tf);

             viewHolder.b.setVisibility(View.VISIBLE);

             viewHolder.space=(TextView)view.findViewById(R.id.space);
             viewHolder.space.setVisibility(View.VISIBLE);

             if(cursor.moveToPrevious()){

             int comparedResult= taskList.compareTo(cursor.getString(taskListIndex));

             if(comparedResult==0)
             {

                 viewHolder.showingByList.setVisibility(View.GONE); 
             }

             else{

                 viewHolder.showingByList.setVisibility(View.VISIBLE);
                 viewHolder.showingByList.setText(taskList.toUpperCase());

             }

             }
             else{

                 viewHolder.showingByList.setVisibility(View.VISIBLE);
                 viewHolder.showingByList.setText(taskList.toUpperCase());

             }

             cursor.moveToNext();

             viewHolder.showingByList.setOnClickListener(new OnClickListener() 
             {

                public void onClick(View arg0) {

                }

             });
         }

         viewHolder.b.setBackgroundResource(R.drawable.my_drawable1);

         if(toModify.contains((int)id))
             viewHolder.b.setBackgroundResource(R.color.light_blue);

         viewHolder.task.setText(task);

         if(TaskNote!=null)
         viewHolder.note.setText(TaskNote);

         if(taskDone==1){
         viewHolder.done.setChecked(true);
             viewHolder.task.setTextColor(getResources().getColor(R.color.smooth));
             viewHolder.note.setTextColor(getResources().getColor(R.color.smooth));
             viewHolder.note_img.setImageResource(R.drawable.note_done2);
         viewHolder.priority.setBackgroundResource(R.drawable.priornone);
         }
         else{
             viewHolder.done.setChecked(false);
             viewHolder.task.setTextColor(getResources().getColor(R.color.darkthemed_text));
             viewHolder.note.setTextColor(getResources().getColor(R.color.darkthemed_note));
             viewHolder.note_img.setImageResource(R.drawable.note2);
             if(prior==1){
         viewHolder.priority.setBackgroundResource(R.drawable.priornone);
                     }
             else{
             viewHolder.priority.setBackgroundResource(R.color.priority_2); 
            }
         }
         }

} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-22T07:46:51.527

将来，尝试发布更少的代码。例如，尝试隔离您可能认为问题正在发生的特定区域。我知道您可能不知道，在这种情况下，倾倒您`Adapters`的两个都可以。只要知道当需要阅读的代码较少时，任何人都可以更轻松地帮助您。

至于你能做什么，你应该尝试使用`setOffScreenPageLimit`from `ViewPager`。

> 设置应保留到处于空闲状态的视图层次结构中当前页面的任一侧的页面数。超出此限制的页面将在需要时从适配器重新创建。

[这是它的文档。](http://developer.android.com/reference/android/support/v4/view/ViewPager.html#setOffscreenPageLimit%28int%29)

**例子**

```
 YOURPAGER.setOffscreenPageLimit(LIMIT); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T20:12:03.400

您可以在清单中设置“android:hardwareAccelerated="true"”。这很顺利

# sql - 根据上次修改状态选择记录

> ID：11151987
> 
> 赞同：0
> 
> 时间：2012-06-22T07:34:04.160
> 
> 标签：sql, greatest-n-per-group

我有下表

```
fieldid  STATUS  CreatedWhen

122      Down    2012-05-16 14:26:56.263
122      Down    2012-05-16 14:26:56.250
122      Down    2012-05-16 14:26:56.233
122      Down    2012-05-16 14:26:56.217
122      Up      2012-05-16 14:26:56.200
54       Up      2011-10-07 10:19:33.873 
```

我只想选择那些最新状态为 Up 的字段，结果应该只是最后一行，因为 fieldid:122 的最新状态为“Down”。仅当状态为 up 时才获得最大日期之类的东西。

编辑：sql server 2008

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-22T07:49:09.940

不确定您使用的是哪个 DBMS，因为您没有指出，但这是一个与 DBMS 无关的解决方案，无论您使用的是什么 DBMS，它都应该可以工作：

```
SELECT
    a.fieldid
FROM
    (
        SELECT fieldid, MAX(CreatedWhen) AS maxdate
        FROM tbl
        GROUP BY fieldid
    ) a
INNER JOIN
    tbl b ON 
        a.fieldid = b.fieldid AND
        b.CreatedWhen = a.maxdate AND
        b.STATUS = 'Up' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T07:41:58.597

很难看到所有的要求。也许这就是你的意思？

```
SELECT fieldid, max(CreatedWhen)
FROM <youtable>
WHERE field_id not in (
  -- exclude any field that has at least one 'Down'
  SELECT DISTINCT fieldid
  FROM <yourtable>
  WHERE STATUS='Down'
)
GROUP BY fieldid 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-22T07:43:59.750

```
SELECT TOP 1 * FROM MyTbl
WHERE Status = 'Up'
ORDER BY CreatedWhen DESC 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-22T07:47:16.660

如果您使用的是 SQL 服务器，请尝试

```
SELECT TOP 1 *
FROM <TABLE>
WHERE 
    STATUS = 'Up'
ORDER BY
    CreatedWhen DESC 
```

详细说明： TOP 1：仅选择结果集的第一行 where 子句仅选择 Status = 'Up' 的行 The order by 定义结果集的顺序。在这种情况下，DESC 在新行之前代表旧行。所以第一个将是最后一个创建的

# c - 通过编辑omni.ja来移动Firefox 13的起始页元素会导致FF崩溃，有人知道如何正确地做到这一点吗？

> ID：11151989
> 
> 赞同：3
> 
> 时间：2012-06-22T07:34:33.893
> 
> 标签：c, windows, firefox, archive, ziparchive

删除 Firefox 13 起始页上的设置元素后，谷歌搜索框和徽标太低，我想移动它们。我可以通过使用 IZArc 打开omni.ja 并转到chrome\browser\content\browser\abouthome\aboutHome.xhtml 并编辑文件来编辑起始页，但是当我将omni.ja 文件保存到FF 目录时，它无法启动程序。有谁知道如何正确地做到这一点？我想我错过了一步。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T18:16:43.820

刚刚得到这个工作！使用 Unzip 解压缩文件（只需将 omni.ja 拖到上面）。

[从http://stahlforce.com/dev/index.php?tool=zipunzip](http://stahlforce.com/dev/index.php?tool=zipunzip)获取解压缩（Info-zip 自己的站点不允许您再下载它）。

我做了什么：

1.  在我的桌面上创建了一个文件夹来保存提取的文件。（测试）

2.  **将 Unzip.exe**和omni.ja**拖到**此文件夹中。

3.  **将omni.ja**拖到**Unzip.exe**上以提取所有文件。

4.  从此文件夹中删除/删除**Unzip.exe**和**omni.ja。**

5.  对文件夹进行了更改。（在这种情况下，我正在编辑**firefox.js**文件......不适用于您）

6.  使用 windows zip 重新压缩所有文件夹。（突出显示所有文件和文件夹，右键单击，发送到，压缩（压缩）文件夹）

7.  将此 zip 文件重命名为**omni.ja**并将其复制回 Firefox 目录的根目录。

我不得不说我确实必须在记事本中编辑我的 js 文件；使用设置为 Windows 默认编辑器的任何内容都会出错。

资料来源：[锁定 Firefox 14](http://scantheman.blogspot.co.uk/2012/08/locking-down-firefox-14.html)（博客文章）

# java - Objecify4 和 Spring

> ID：11151990
> 
> 赞同：1
> 
> 时间：2012-06-22T07:34:35.583
> 
> 标签：java, google-app-engine, objectify

我之前使用过Objectify 3和spring。现在我正在尝试从 Objectify3 转移到 Objectify4。我阅读了 Objectify3 的最佳实践，并以下列方式使用了 DAOBase。

```
public class DAO<T extends BaseEntity> extends DAOBase{
       static {
    ObjectifyService.register(MyEntity);
       }
       //all the common methods like save, getById, delete, upate...
}

@Repository
public class DAOMyEntity extends DAO<MyEntity>{
    //specific methods to MyEntity like getByMyEntityEmail....
} 
```

我可以在我的所有控制器中自动连接 DAOMyEntity。

由于 Objectify4 没有 DAOBase，您能否建议我使用 Objectify4 做到这一点的最佳方法？你认为自己写 DAOBase 会更好吗？

谢谢，

拉梅什

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T08:02:12.530

有关执行此操作的几种方法，请参见[https://github.com/stickfigure/motomapia/commits/15975ee0918dd5d7ecc25361eb66b377ce83c2d9/src/main/java/com/motomapia/Ofy.java ...](https://github.com/stickfigure/motomapia/commits/15975ee0918dd5d7ecc25361eb66b377ce83c2d9/src/main/java/com/motomapia/Ofy.java)

我还没有跳，但那是我跳的时候我会走的路……

```
public class Ofy extends ObjectifyImpl<Ofy>
{
    /** */
    public Ofy(OfyFactory base) {
        super(base);
    }

    /** More wrappers, fun */
    @Override
    public OfyLoader load() {
        return new OfyLoader(this);
    }
} 
```

# sql - 如何在存储过程中获取作为参数传递的多个员工的第二大数字

> ID：11151991
> 
> 赞同：0
> 
> 时间：2012-06-22T07:34:41.117
> 
> 标签：sql, sql-server, sql-server-2008

我有像 Emp_salary 这样的表

```
Emp_id  Salary  name  Branch_ID  Is_Current_Branch  Branch_name
1       1000     A     89           0                pune
1       2000     A     25           0                Mumbai  
1       3000     A     12           1                Bangalore 
```

这里的 Is_current_Branch 表示该员工当前工作的分支（班加罗尔），如果我想获得他在当前分支（即孟买）之前工作的分支，所有员工的 ID 通过 SP 中的参数传递

```
@Employee='1,2,3' (3 employee parameter) 
```

怎么办...请帮帮我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:44:20.900

如果当前分支不是他们的第一个分支，则此查询将给出每个员工的倒数第二个分支。

Op 没有提供任何增加的字段，所以我们按照他们增加的薪水的顺序记录。

```
;WITH secondbranch 
     AS (SELECT *, 
                Row_number() 
                  OVER ( 
                    partition BY emp_id 
                    ORDER BY salary DESC) AS branchnumber 
         FROM   emp_salary) 
SELECT * 
FROM   secondbranch 
WHERE  branchnumber = 2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T07:47:24.297

您需要在表格上添加一个日期字段（以确保它是正确的条目），然后按它排序：

```
ALTER TABLE Emp_salary
ADD [LeftDate] DATETIME 
```

然后你可以从 Emp_Table 中选择：

```
SELECT TOP 1 * FROM 
Emp_salary
WHERE IS_CURRENT_BRANCH != 1
AND Emp_id = 1
ORDER BY LeftDate DESC 
```

# android - 上传前从相机裁剪图像（Phonegap）

> ID：11151995
> 
> 赞同：4
> 
> 时间：2012-06-22T07:34:48.243
> 
> 标签：android, jquery-mobile, cordova, crop

我想问你..

我有一个代码......使用phonegap ..但我对从相机/文件管理器获取图像后如何调用/裁剪图像感到困惑......

这里的代码...

```
<!DOCTYPE HTML>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no;" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="js/jquery.mobile-1.0.min.css" />
    <script src="js/jquery-1.6.4.min.js"></script>
    <script src="js/jquery.mobile-1.0.min.js"></script>

    <script type="text/javascript" charset="utf-8" src="phonegap-1.1.0.js"></script>
    <script type="text/javascript" charset="utf-8">

    var deviceReady = false;

    /**
     * Take picture with camera
     */
    function takePicture() {
        navigator.camera.getPicture(
            function(uri) {
                var img = document.getElementById('camera_image');
                img.style.visibility = "visible";
                img.style.display = "block";
                img.src = uri;
                window.location.hash = "#page2";
                /*document.getElementById('camera_status').innerHTML = "Success"; */

            },
            function(e) {
                console.log("Error getting picture: " + e);
                document.getElementById('camera_status').innerHTML = "Error getting picture.";
            },
            { quality: 50, destinationType: navigator.camera.DestinationType.FILE_URI, targetWidth: 1153, targetHeight: 385
            }

            );
    };

    /**
     * Select picture from library
     */
    function selectPicture() {
        navigator.camera.getPicture(
            function(uri) {
                var img = document.getElementById('camera_image');
                img.style.visibility = "visible";
                img.style.display = "block";
                img.src = uri;
                document.getElementById('camera_status').innerHTML = "Success";
                window.location.hash = "#page2";
            },
            function(e) {
                console.log("Error getting picture: " + e);
                document.getElementById('camera_status').innerHTML = "Error getting picture.";
            },
            { quality: 50, targetWidth: 1153, targetHeight: 385, destinationType: navigator.camera.DestinationType.FILE_URI, sourceType: navigator.camera.PictureSourceType.PHOTOLIBRARY});
    };

    /**
     * Upload current picture
     */
    function uploadPicture() {

        // Get URI of picture to upload
        var img = document.getElementById('camera_image');
        var imageURI = img.src;
        if (!imageURI || (img.style.display == "none")) {
            document.getElementById('camera_status').innerHTML = "Take picture or select picture from library first.";
            return;
        }

        // Verify server has been entered
        server = document.getElementById('serverUrl').value;
        if (server) {

            // Specify transfer options
            var options = new FileUploadOptions();
            options.fileKey="file";
            options.fileName=imageURI.substr(imageURI.lastIndexOf('/')+1);
            options.mimeType="image/jpeg";
            options.chunkedMode = false;

            // Transfer picture to server
            var ft = new FileTransfer();
            $.mobile.showPageLoadingMsg();
            ft.upload(imageURI, server, function(r) {
                document.getElementById('camera_status').innerHTML = "Upload successful: "+r.bytesSent+" bytes uploaded.";
                viewUploadedPictures();
                $.mobile.hidePageLoadingMsg();
                window.location.hash = "#page3";
            }, function(error) {
                $.mobile.hidePageLoadingMsg();
                document.getElementById('camera_status').innerHTML = "Upload failed: Code = "+error.code;               
            }, options);
        }
    }

    /**
     * View pictures uploaded to the server
     */
    function viewUploadedPictures() {

        // Get server URL
        server = document.getElementById('serverUrl').value;
        if (server) {

            // Get HTML that lists all pictures on server using XHR 
            var xmlhttp = new XMLHttpRequest();

            // Callback function when XMLHttpRequest is ready
            xmlhttp.onreadystatechange=function(){
                if(xmlhttp.readyState === 4){

                    // HTML is returned, which has pictures to display
                    if (xmlhttp.status === 200) {
                        document.getElementById('server_images').innerHTML = xmlhttp.responseText;
                    }

                    // If error
                    else {
                        document.getElementById('server_images').innerHTML = "Error retrieving pictures from server.";
                    }
                }
            };
            xmlhttp.open("GET", server , true);
            xmlhttp.send();         
        }   
    }

    /**
     * Function called when page has finished loading.
     */
    function init() {
        document.addEventListener("deviceready", function() {deviceReady = true;}, false);
        window.setTimeout(function() {
            if (!deviceReady) {
                alert("Error: PhoneGap did not initialize.  Demo will not run correctly.");
            }
        },2000);
    }

    </script>

  </head>
  <body onload="init();">
  <!-- Page 1 -->
<div data-role="page" id="page1">
   <!-- Page 1 Header -->
   <div data-role="header">
      <h1>Ambil Gambar</h1>
   </div>
   <!-- Page 1 Content -->
   <div data-role="content">
      <center>
    <a href="javascript:void(0)" onclick="takePicture();">
    <img src="image/camera.png" width="150px" height="150px">
    </a>
    <br>
    <br>
    <b>Atau</b>
    <br>
    <br>
    <a href="javascript:void(0)" onclick="selectPicture();">
    <img src="image/upload.png">
    </a>

    </center>

   </div>
   <!-- Page 1 Footer -->
   <div data-role="footer">
      <h4>Footer 1</h4>
   </div>
</div>
<!-- Page 2 -->
<div data-role="page" id="page2">
   <!-- Page 2 Header -->
   <div data-role="header">
      <h1>Header 2</h1>
   </div>
   <!-- Page 2 Content -->
   <div data-role="content">

       <img style="width:100%;visibility:hidden;display:none;" id="camera_image" src="" />
      <input type="button" onclick="uploadPicture();" value="Upload Picture" />
      <input id="serverUrl" type="text" value="http://kiosban.com/android/camera/upload.php" />
      Status : <span id="camera_status"></span>
      <a href="#page3">Skip</a>
   </div>
   <!-- Page 2 Footer -->
   <div data-role="footer">
      <h4>Footer 2</h4>
   </div>
</div>
<!-- Page 3 -->
<div data-role="page" id="page3">
   <!-- Page 3 Header -->
   <div data-role="header">
      <h1>Header 3</h1>
   </div>
   <!-- Page 3 Content -->
   <div data-role="content">
   <div id="server_images"></div>
      <h3>Server:</h3>
        <b>Images on server:</b>
        <div id="server_images"></div>

        <input type="button" onclick="viewUploadedPictures();" value="View Uploaded Pictures" />
   </div>
   <!-- Page 2 Footer -->
   <div data-role="footer">
      <h4>Footer 2</h4>
   </div>
</div>

  </body>
</html> 
```

我想在#page2 上调用图像裁剪，所以有一个上传按钮可以上传裁剪后的图像...

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-22T07:44:49.370

PhoneGap 没有内置裁剪功能。某些平台（当然是 iPhone）允许*用户*在用相机拍摄照片后裁剪照片，但如果您将 allowEdit = true 参数传递给 getPicture，则在将照片返回到您的 JavaScript 代码*之前。*但是您将无法通过脚本控制此处。

您必须自己从 JavaScript 实现裁剪功能。使用 HTML5 的 canvas 标签比预期的要容易。[你可以在这里](http://www.digitalnoiz.com/cocoa/capture-image-video-and-crop/)找到一个漂亮的教程。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-18T17:21:11.283

我找到了解决方案（为时已晚，但用于像我这样的人）但是在拍摄图像后，您需要将图像路径传递给插件（本机 android）进行裁剪。

将以下代码放入您的图像捕获或从图库中选择图像（在您的 index.html 中）：

```
navigator.camera.getPicture(function(imageURI){
    window.resolveLocalFileSystemURI(imageURI, function(fileEntry){
            fileEntry.file(function(fileObj) { 
                  var imagedata ="sample/new001.img";
                  // able to get the image location using phonegap
                cropImage.createEvent(imagedata);

            }); 

     }, fail);
  }, fail, { quality: 50, 
         destinationType: destinationType.NATIVE_URI,
        sourceType: pictureSource.PHOTOLIBRARY 
}); 
```

之后**crop.image.js**应该是这样的（在你的index.html 中包含这个**文件名）**

```
var cropImage =  {
    createEvent: function(fileName) {
        cordova.exec(
                null, // success callback function
                null, // error callback function
            'CropImage', // mapped to our native Java class called "CropImage"
            'GetImageName', // with this action name
            [fileName]
        );
    }
} 
```

你的java代码就像

```
public class CropImage extends CordovaPlugin{
public final String ACTION_GET_IMAGE_NAME = "GetImageName";
Uri myUri;
@Override
public boolean execute(String action, JSONArray args, CallbackContext callbackContext) {
   // Log.e(TAG,"Inside Version plugin.");
    boolean result = false;
    if(action.equals(ACTION_GET_IMAGE_NAME)) {
        try {
            myUri = Uri.parse(args.getString(0));
            cropCapturedImage(myUri);
        } catch (JSONException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        result = true;
    }

    return result;
}

public void cropCapturedImage(Uri picUri){
    //call the standard crop action intent 
    Intent cropIntent = new Intent("com.android.camera.action.CROP");
    //indicate image type and Uri of image
    cropIntent.setDataAndType(picUri, "image/*");
    //set crop properties
    cropIntent.putExtra("crop", "true");
    cropIntent.putExtra("aspectX", 1);
    cropIntent.putExtra("aspectY", 1);
    cropIntent.putExtra("outputX", 256);
    cropIntent.putExtra("outputY", 256);
    // for save the image in same location with same name.
    File f = new File(Environment.getExternalStorageDirectory()+"your image location here");
    cropIntent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(f));            
    cropIntent.putExtra("output", Uri.fromFile(f)); 
    cropIntent.putExtra("return-data", false);

    //start the activity - we handle returning in onActivityResult
    this.cordova.startActivityForResult((CordovaPlugin) this,cropIntent, 2);
}
public void onActivityResult(int requestCode, int resultCode, Intent intent) {
    //Log.e("final", String.valueOf(requestCode));
    /*if(requestCode == 2){
        //Create an instance of bundle and get the returned data
        Bundle extras = intent.getExtras();
        //get the cropped bitmap from extras
        Bitmap thePic = extras.getParcelable("data");
    }*/
}

} 
```

不要忘记在您的 CONFIG.XML 中添加此类并添加必要的权限。随时提出任何疑问。

# android - 如何在android上使用调度动作

> ID：11151996
> 
> 赞同：0
> 
> 时间：2012-06-22T07:34:55.480
> 
> 标签：android, google-app-engine, gwt, gwt-platform

我正在开发一个托管在 AppEngine 上的项目，对于浏览器客户端，我使用的是 GWTP 平台，这意味着在服务器上使用 GIN（在客户端）和 GUICE。此外，它使用模型、演示者、动作和事件。

我也在考虑为该服务编写一个 android 客户端，但我不知道如何开始，因为我不知道如何与 web 服务连接和交换数据。我将不得不使用用于浏览器客户端的操作和操作处理程序 ( [http://code.google.com/p/gwt-platform/wiki/GettingStartedDispatch )。](http://code.google.com/p/gwt-platform/wiki/GettingStartedDispatch)从Android我只知道如何使用RPC，我无法建立连接，我不知道如何将类从设备映射到服务器。

例如，通过使用 GWTP，如果在浏览器客户端上我想在服务器上做某事，我会实现一个 Action 类、一个 ActionResult 类（都在客户端上）和一个 ActionHandler 类（在服务器上）。为了调度一个动作，我使用 DispatchAsync 接口并使用 AsyncCallback 来获得结果。

操作（在客户端） - SendRoadNotification.java ：

```
public class SendRoadNotification extends
    ActionImpl<SendRoadNotificationResult> {

private RoadNotification roadNot;

@SuppressWarnings("unused")
private SendRoadNotification() {
    // For serialization only
    }

public SendRoadNotification(RoadNotification roadNot) {
    this.roadNot = roadNot;
    }

public RoadNotification getRoadNot() {
    return roadNot;
    }
} 
```

ActionResult（在客户端）——SendRoadNotfifcationResult.java：

```
public class SendRoadNotificationResult implements Result {

private RoadNotification roadNot;

@SuppressWarnings("unused")
private SendRoadNotificationResult() {
    // For serialization only
    }

public SendRoadNotificationResult(RoadNotification roadNot) {
    this.roadNot = roadNot;
    }

public RoadNotification getRoadNot() {
    return roadNot;
    }
} 
```

ActionHandler（在服务器上）——SendRoadNotificationActionHandler.java：

```
public class SendRoadNotificationActionHandler implements
    ActionHandler<SendRoadNotification, SendRoadNotificationResult> {

static DataStore ds = DataStore.getDatastoreService();

@Inject
public SendRoadNotificationActionHandler() {
    }

@Override
public SendRoadNotificationResult execute(SendRoadNotification action,
        ExecutionContext context) throws ActionException {

                        //Here I am doing something with that action
    }

@Override
public void undo(SendRoadNotification action,
        SendRoadNotificationResult result, ExecutionContext context)
        throws ActionException {
    }

@Override
public Class<SendRoadNotification> getActionType() {
    return SendRoadNotification.class;
        }
} 
```

我使用这些的方式是：

```
 SendRoadNotification action = new SendRoadNotification(rn);
            dispatchAsync.execute(action, sendRoadNotifCallback); 
```

和回调：

```
AsyncCallback<SendRoadNotificationResult> sendRoadNotifCallback = new AsyncCallback<SendRoadNotificationResult>() {

    @Override
    public void onSuccess(SendRoadNotificationResult result) {

    }

    @Override
    public void onFailure(Throwable caught) {
        Window.alert("Something went wrong");

    }

}; 
```

我怎样才能在android中实现这个？有人可以给我一个例子或以前有这个问题吗？

我正在使用 AppEngine sdk 1.6.4、GWT sdk 2.4.0、用于 Eclipse 的 GWTP 插件和用于 Eclipse 的 GPE 插件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-22T07:39:06.547

您可能想查看 ADT 的 GAE 插件为“App Engine Connected Android 应用程序”生成的源代码以获取灵感。他们通过使用 Android 的 HttpClient 调用 GWT 端点来做类似的事情。

[https://developers.google.com/eclipse/docs/appengine_connected_android](https://developers.google.com/eclipse/docs/appengine_connected_android)

# c# - 在 Web 浏览器控件中显示时，如何从显示文本中删除 endline char

> ID：11151999
> 
> 赞同：2
> 
> 时间：2012-06-22T07:35:21.867
> 
> 标签：c#

我正在通过 Web 浏览器控件显示文本，并在每行的末尾显示 ¶，我该如何删除它？

当我在富文本框中显示文本时，我可以看到 $Para，我想删除它，但是格式化，我该如何实现呢？

**我以这种方式显示这些文本：**

```
this.webPrevSQL.DocumentText = FinalPrev;
richTextBox1.Text = FinalPrev; 
```

**富编辑中显示的文本：**

```
<span>EventType CREATE_PROCEDURE
&para;<br>PostTime 2012-06-18T14:56:19.870
&para;<br>SPID 63
&para;<br>ServerName MIDDEV1\DEV
&para;<br>LoginName devKoketso
&para;<br>UserName devKoketso
&para;<br>DatabaseName TestAudit
&para;<br>SchemaName dbo
&para;<br>ObjectName Admin
&para;<br>ObjectType PROCEDURE
&para;<br>TSQLCommand 
&para;<br>--alter table AdminLog add HostName varchar(128) NULL DEFAULT HOST_NAME()
&para;<br>
&para;<br>
&para;<br>
&para;<br>CREATE PROCEDURE [dbo].[Admin] 
```

**网页浏览器中显示的文字：**

```
EventType CREATE_PROCEDURE ¶
PostTime 2012-06-18T14:56:19.870 ¶
SPID 63 ¶
ServerName MIDDEV1\DEV ¶
LoginName devKoketso ¶
UserName devKoketso ¶
DatabaseName TestAudit ¶
SchemaName dbo ¶
ObjectName Admin ¶
ObjectType PROCEDURE ¶
TSQLCommand ¶
--alter table AdminLog add HostName varchar(128) NULL DEFAULT HOST_NAME() ¶
¶
¶
¶
CREATE PROCEDURE [dbo].[Admin] ¶ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T07:40:26.920

`Replace`您是否尝试过在要在网络上显示的最终字符串上使用方法？

```
FinalPrev.Replace("&para;",""); 
```

**编辑：**

尝试更改`<br>`为`<br/>`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-22T07:41:25.990

每个块的`&para`开头`<br>`实际上是字符¶。删除它并重试。