# StackOverflow 问答 11323000-11323999

# haskell - 带导管的源中的无限循环

> ID：11323000
> 
> 赞同：4
> 
> 时间：2012-07-04T05:40:43.997
> 
> 标签：haskell, conduit

我决定尝试处理管道，我认为我做得很好，但是当我尝试使用管道 4 制作这个简单的源时，我得到一个无限循环，我不明白为什么。这是简化的，原始版本会创建一个临时文件名并通过 yield 返回它。这只是返回一个（）。

```
import Control.Monad.IO.Class

import Data.Conduit
import Data.Conduit.List as CL

tempfiles :: MonadIO m => Source m ()
tempfiles = loop
  where
    loop = do
      x <- liftIO $ print "tempfile"
      yield x
      loop 
```

如果我运行：

```
runResourceT $ (tempfiles $$ CL.take 5) 
```

我得到一个无限循环。为什么它不只运行五次并给我一个包含五个 () 的列表？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-04T06:37:15.687

在导管 0.4 中，yield 不执行自动终止。这是 0.5 版本中的一个重要变化；您的代码在那里按预期工作。

# javascript - JS - 获取当前网站名称（类似于 Safari）

> ID：11323003
> 
> 赞同：0
> 
> 时间：2012-07-04T05:41:00.307
> 
> 标签：javascript, uitableview, safari, titanium, bookmarks

这很难解释，但我会尽力而为！我正在用 JavaScript 编写我的应用程序，并且正在使用 Titanium IDE。

所以，我正在尝试为我的应用程序创建一个书签菜单。我需要它来获取网站的名称/内容标题，这样书签的标题就会看起来不错，而不是直接采用直接路径并将网站的 Url 塞进表格中。

举个例子说明我在说什么，

![注意每个书签的命名](../Images/4b0e197f139156a2ffc7c2d602b2676b.png)

如果你看，你会看到它说`Apple`, not `http://www.apple.com`or `apple.com`，这就是我试图复制的内容。如果有您可能拥有或了解的功能，请包含它！否则，任何输入都是有帮助的！

谢谢

**更新：**如果我使用 XCode 以及 Titanium，对于那些感兴趣的人，我找到了一个解决方案。我知道这`document.title`是这里的关键，但是在 Titanium 中运行它，但是，它有点不同。我将在下面发表我的结论！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T08:56:28.630

它可能不适用于所有网站，也许 somone 可以改进它，但这是 javascript 中的一种解决方案：

```
var sitename = location.hostname;
sitename = sitename.replace("http://", "");
sitename = sitename.replace("https://", "");
sitename = sitename.replace("www.", "");
sitename = sitename.substring(0, sitename.indexOf(".")); 
```

在上面的解决方案中，我们获取主机名，然后从主机名的开头到第一个句号提取一个子字符串。这样我们就可以删除`.com`主机名的一部分。

我们不能使用`sitename.lastIndexOf();`，因为如果我们有一个`.co.uk`域，我们最终会得到类似`example.co`.

希望这可以帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-06T01:34:00.117

***我找到了解决方案！***

**对于 Xcode：**

```
- (void)webViewDidFinishLoad:(UIWebView *)webView{
    NSString *theTitle=[webView stringByEvaluatingJavaScriptFromString:@"document.title"];
} 
```

**对于钛：**

`theTitle = webView.evalJS("document.title");`

# objective-c - 如何在 iOS 应用程序中实现来自 Web 服务的启动画面图像

> ID：11323005
> 
> 赞同：0
> 
> 时间：2012-07-04T05:41:02.840
> 
> 标签：objective-c, web-services, xcode4.2, splash-screen

我正在使用 RESTful Web 服务开发 iPhone 应用程序。我想通过 Web 服务实现启动画面。因为我想动态更改该图像。有什么方法可以实现吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T05:52:15.663

启动图像是您的[默认图像](http://developer.apple.com/library/ios/#documentation/iphone/conceptual/iphoneosprogrammingguide/App-RelatedResources/App-RelatedResources.html#//apple_ref/doc/uid/TP40007072-CH6-SW12) 检查链接的网址

> 为自定义 URL 方案提供启动图像

但是，这个默认图像只显示了一小会儿，最多 2 秒，所以当您提取图像时，默认的“飞溅”图像早已不复存在，

此外，当您关闭应用程序时，您会看到此默认图像 [不在后台]，因此为了查看您的默认图像，您必须在每次关闭时从内存中删除您的应用程序...

您能否获取图像并在下次打开应用程序时显示它？

或者您可以在模态视图中显示图像？每次应用程序启动时？

;)

# amazon-s3 - 如何每天备份我的 ec2 实例？

> ID：11323008
> 
> 赞同：51
> 
> 时间：2012-07-04T05:41:15.460
> 
> 标签：amazon-s3, amazon-ec2, amazon-web-services, amazon-ebs

我在[AWS中有一个基于社区 AMI 的 Linux](http://aws.amazon.com/) [EC2](http://aws.amazon.com/ec2/)实例。现在我想每天备份我的实例，并将该图像上传到[S3](http://aws.amazon.com/s3/)。

这是备份我的 EC2 实例的正确方法吗？谁能帮我指出备份我的 EC2 实例的正确方法？

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-07-04T05:46:40.293

希望您的实例是[EBS 支持](https://stackoverflow.com/questions/3630506/benefits-of-ebs-vs-instance-store-and-vice-versa/3630707#3630707)的。

如果是这样，您可以通过拍摄 EBS 快照来备份您的实例。这可以通过 aws.amazon.com（手动）、使用 AWS 命令​​行工具（可以根据需要在 cron 或 Windows 任务计划程序中自动和计划）或通过 AWS API 来完成。

您希望确保在快照过程中不会对数据库备份文件的状态进行任何更改。当我对在 Ubuntu 上运行的 MySQL 使用这种策略时，我使用了一个脚本来确保[一致的快照](https://github.com/alestic/ec2-consistent-snapshot)。该脚本使用 XFS 文件系统的功能在快照期间冻结文件系统。在那个部署中，快照只用了 2-3 秒，并且是在非常非高峰时间执行的。任何网站访问者都会遇到 2-3 秒的延迟。对于 Windows，如果无法为快照重新启动设备（您在晚上没有维护窗口），我会创建一个单独的 EBS 设备（例如用于快照的“S:\”设备），使用 SQL Server 备份工具在该其他设备上创建一个 .bak 文件，然后创建该单独 EBS 设备的 EBS 快照。

有关编写备份脚本的详细信息，请参阅此相关问题：

[自动化 Amazon EBS 快照 任何人在 linux 上都有一个好的脚本或解决方案](https://stackoverflow.com/questions/1320994/automating-amazon-ebs-snapshots-anyone-have-a-good-script-or-solution-for-this-o)

如果您为数据库安装了单独的存储，请确保您也备份了它！

**更新**

要手动创建快照，

*   浏览到[https://console.aws.amazon.com/ec2/home?#s=Volumes](https://console.aws.amazon.com/ec2/home?#s=Volumes)
*   右键单击要备份的卷（卷附加到的实例位于名为“附件信息”的列中）
*   选择`Create Snapshot`

从实例创建 AMI 映像并启动其他类似的实例（在具有更多资源或平衡负载等的实例中）：

*   浏览到[https://console.aws.amazon.com/ec2/home?#s=Instances](https://console.aws.amazon.com/ec2/home?#s=Instances)
*   右键单击要从中创建 AMI 的实例
*   选择`Create Image (EBS AMI)`

# uml - 基于泛化关系的最佳数据模型设计

> ID：11323011
> 
> 赞同：0
> 
> 时间：2012-07-04T05:41:40.813
> 
> 标签：uml, physical-design

基于泛化关系设​​计数据模型的最佳方法是什么。例如假设有一个基类 A 和两个继承类 A 的派生类 B 和 C。现在我想要设计数据模型。我有三个选择

1) 创建表 A 并具有用于指定 B 和 C 数据的类型列。

2）创建表A，B和C就像我的类图并将B和C关联到A。

3) 创建表 A、B 和 C，但不要将 B 和 C 与 A 关联。

任何线索将不胜感激

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T20:43:13.823

看看[这篇](http://openjpa.apache.org/builds/1.0.4/apache-openjpa-1.0.4/docs/manual/jpa_overview_mapping_inher.html)文章。尽管它是为 JPA 编写的，但它会告诉您您提到的每种策略的优缺点。

# android - 如何更改场景中触摸事件的动画帧：- Andengine

> ID：11323014
> 
> 赞同：1
> 
> 时间：2012-07-04T05:42:01.723
> 
> 标签：android, andengine, layer, sprite, scene

我对 Andengine 相当陌生，我需要一些帮助。

我很难理解 AnimatedSprite 的功能。我有一个动画精灵坐在 2D 场景上。它以 24FPS 的速度制作动画。我想要的是当场景的一侧发生触摸事件时，我的动画从精灵表更改为特定帧。例如，如果屏幕右侧发生触摸事件，我想注册触摸位置，并据此将我的动画精灵更改为特定帧。那可能吗？

以下是我渲染 AnimatedSprite 的代码

```
 mMainCharacter = new  AnimatedSprite(centerCharacterX,centerCharacterY,mLevel1CharacterBackTextureRegion,getVertexBufferObjectManager());

    final long[] frameDurations = new long[24];
    Arrays.fill(frameDurations,400);
    mMainCharacter.animate(frameDurations, 0, 23, true);
    scene.getLastChild().attachChild(mMainCharacter); 
```

另外我也想知道为什么我们在场景中使用图层。如果有任何解释触摸事件和场景的文档或教程，有人可以给我一个链接。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T12:19:54.147

我自己和 korn3l 在这里回答：[http ://www.andengine.org/forums/post36574.html#p36574](http://www.andengine.org/forums/post36574.html#p36574)

> 您可以使用 setCurrentTileIndex(pCurrentTileIndex)。

在图层上：

> 图层允许您控制精灵在场景中的渲染顺序。例如，如果你有一辆坦克，它的轨道作为一个精灵，炮塔作为另一个精灵，你可能想要为它们分配层，这样轨道就不会与炮塔重叠。

# ms-access - Access 2010 - 缺少安全配置文件

> ID：11323020
> 
> 赞同：0
> 
> 时间：2012-07-04T05:42:44.320
> 
> 标签：ms-access

我有一些连接到 SQL Server 数据库的访问应用程序。这些应用程序是为 Access 2003 编写的，现在在 2010 上运行。我们现在收到以下消息： ![在此处输入图像描述](../Images/e66103967a40d4a615b2efff713c0f93.png)

它说“缺少安全配置文件”没有设置安全配置文件。如果我单击“确定”，则应用程序运行良好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T08:46:40.077

这听起来可能与在某个阶段设置了[用户级安全性有关。](http://office.microsoft.com/en-us/access-help/about-user-level-security-mdb-HP003070410.aspx)您还可以检查`...\AppData\Roaming\Microsoft\Access`包含文件`system.mdw`(Vista/Windows 7)。这是默认的安全文件，在 Access 2010 的连接字符串中被引用。

# assembly - 如果我们有提供复杂工具的高级语言，为什么仍然需要汇编语言？

> ID：11323021
> 
> 赞同：5
> 
> 时间：2012-07-04T05:43:02.107
> 
> 标签：assembly, low-level

在大学里，我参加了计算机体系结构和汇编语言编程的必修课。我发现汇编语言非常耗时且难以掌握。我仍然无法理解为什么要教授汇编语言。我问了我的导师同样的问题，他笑着说你以后会知道的。但我有一种天性，一旦一个问题挑逗我的头脑，我就迫不及待地想得到答案。所以我想问，如果有非常强大、快速和高效的编程语言，为什么我们仍然需要汇编语言，并且最重要的是，这些语言提供了使编程变得容易的各种工具。所以为什么？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-04T06:02:01.390

一个相当好的理由是所有编程语言都是计算机工作方式的抽象。理论上，对于高级语言，抽象意味着程序员永远不必担心计算机的细节。

但是[抽象总是有漏洞](http://www.joelonsoftware.com/articles/LeakyAbstractions.html)的，例如大多数（如果不是全部）高级语言不能很好地自动优化 CPU 缓存（例如缓存一致性和错误共享），并且高效的多线程总是很棘手。这意味着如果性能至关重要，程序员可能不得不以不同的方式编写代码。

获得性能的最佳方法是了解机器的工作原理，以便程序员可以进行编译器无法轻松完成的大型架构转换。例如，确保线程以 64 字节的倍数处理数据（以减少缓存行上的错误共享），或者进行结构数组⇔ 数组结构转换。

* * *

汇编（在某种程度上是 C）是学习这些性能细节的一种非常好的方法，因为它可以很容易地准确理解计算机在做什么，因为您可以准确控制每一步发生的事情。

（泄漏抽象点也适用于访问特定/自定义硬件组件。）

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-04T05:48:17.540

关键任务仍然需要机器代码，例如

*   硬件特定代码，例如设备驱动程序
*   嵌入式设备，代码大小很重要
*   性能至关重要的低级代码等。

通常，汇编语言可以混合到更高级别的语言中，例如 C，其中汇编可以内联添加到 C 代码中。

也就是说，即使您将使用高级语言进行编程，掌握底层硬件架构仍然是一个好主意，因为它可以让您深入了解堆栈、堆、指针等是如何工作的。

# javascript - 使用 Ext.create 在 ExtJS 4 GridPanel 列中渲染动态组件

> ID：11323023
> 
> 赞同：15
> 
> 时间：2012-07-04T05:43:03.200
> 
> 标签：javascript, dynamic, extjs, gridpanel

我有一个从商店填充的 ExtJS (4.0.7) GridPanel。我在 GridPanel 的列中显示的值需要具有不同的视图，具体取决于记录中的数据类型。

最终目标是记录`type`属性值为“double”或“integer”的记录向用户呈现一个他们可以调整的滑块，而“string”类型只是呈现一些只读文本。

我创建了一个自定义列来执行此操作。它检查渲染器中的类型并确定要渲染的内容。

我已经让“字符串”在下面的代码中正常工作，但在如何动态创建和呈现列中更复杂的滑块控件时遇到了困难。

这个简化的示例只是尝试在其中渲染`Panel`带有日期控件的 a，就好像我可以做到一样，我可以弄清楚滑块的其余部分。

```
Ext.define('MyApp.view.MyColumn', {
    extend: 'Ext.grid.column.Column',
    alias: ['widget.mycolumn'],

    stringTemplate: new Ext.XTemplate('code to render {name} for string items'),

    constructor: function(cfg){
        var me = this;
        me.callParent(arguments);

        me.renderer = function(value, p, record) {
            var data = Ext.apply({}, record.data, record.getAssociatedData());

            if (data.type == "string") {
                return me.renderStringFilter(data);
            } else if (data.type == "double" || data.type == "integer") {
                return me.renderNumericFilter(data);
            } else {
                log("Unknown data.type", data);

        };
    },

    renderStringFilter: function(data) {
        // this works great and does what I want
        return this.stringTemplate.apply(data);
    },

    renderNumericFilter: function(data) {

        // ***** How do I get a component I "create" to render 
        // ***** in it's appropriate position in the gridpanel?
        // what I really want here is a slider with full behavior
        // this is a placeholder for just trying to "create" something to render

        var filterPanel = Ext.create('Ext.panel.Panel', {
            title: 'Filters',
            items: [{
                xtype: 'datefield',
                fieldLabel: 'date'
            }],
            renderTo: Ext.getBody() // this doesn't work
        });
        return filterPanel.html;  // this doesn't work
    }
}); 
```

我的问题真的是，我怎样才能`Ext.create`一个组件，并让它呈现在网格面板中的一列中？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-13T15:16:42.920

我看到有几种方法可以实现这一点。由于网格列不是 Ext 容器，它不能像其他容器组件那样将 Ext 组件作为子组件作为任何配置的一部分。需要后网格渲染逻辑才能将 Ext 组件添加到单元格。

此解决方案修改您的自定义列渲染，以便在渲染的 TD 标记上放置一个特殊的 css 类。网格视图准备好后，遍历记录并为适当的特殊列找到自定义类。为找到的每一列呈现一个滑块。

下面的代码是 Sencha 示例中提供的 ext js 数组网格示例的修改版本。修改混合了自定义列渲染器和滑块到 TD 元素的后网格渲染。

本示例仅包含对 Sencha 示例的足够修改，以展示实现思路。它缺乏分离的视图和控制器逻辑。

这是从[这里修改的](http://docs.sencha.com/ext-js/4-0/#!/example/grid/array-grid.html)

```
 Ext.require([
     'Ext.grid.*',
     'Ext.data.*',
     'Ext.util.*',
     'Ext.data.Model'
 ]);

 Ext.onReady(function() {

     // sample static data for the store
     Ext.define('Company', {
         extend: 'Ext.data.Model',
         fields: ['name', 'price', 'change', 'pctChange', 'lastUpdated', 'type']
     });

     var myData = [
         ['3m Co', 71.72, 2, 0.03, '9/1/2011', 'integer'],
         ['Alcoa Inc', 29.01, 4, 1.47, '9/1/2011', 'string'],
         ['Altria Group Inc', 83.81, 6, 0.34, '9/1/2011', 'string'],
         ['American Express Company', 52.55, 8, 0.02, '9/1/2011', 'string'],
         ['American International Group, Inc.', 64.13, 2, 0.49, '9/1/2011', 'integer'],
         ['AT&T Inc.', 31.61, 4, -1.54, '9/1/2011', 'integer'],
         ['Boeing Co.', 75.43, 6, 0.71, '9/1/2011', 'string'],
         ['Caterpillar Inc.', 67.27, 8, 1.39, '9/1/2011', 'integer'],
         ['Citigroup, Inc.', 49.37, 1, 0.04, '9/1/2011', 'integer'],
         ['E.I. du Pont de Nemours and Company', 40.48, 3, 1.28, '9/1/2011', 'integer'],
         ['Exxon Mobil Corp', 68.1, 0, -0.64, '9/1/2011', 'integer'],
         ['General Electric Company', 34.14, 7, -0.23, '9/1/2011', 'integer']
     ];

     // create the data store
     var store = Ext.create('Ext.data.ArrayStore', {
         model: 'Company',
         data: myData
     });

     // existing template
     stringTemplate = new Ext.XTemplate('code to render {name} for string items');

     // custom column renderer
     specialRender = function(value, metadata, record) {
         var data;

         data = Ext.apply({}, record.data, record.getAssociatedData());

         if (data.type == "string") {
             return stringTemplate.apply(data);;
         } else if (data.type == "double" || data.type == "integer") {
             // add a css selector to the td html class attribute we can use it after grid is ready to render the slider
             metadata.tdCls = metadata.tdCls + 'slider-target';
             return '';
         } else {
             return ("Unknown data.type");

         }
     };

     // create the Grid
     grid = Ext.create('Ext.grid.Panel', {
         rowsWithSliders: {},
         store: store,
         stateful: true,
         stateId: 'stateGrid',
         columns: [{
             text: 'Company',
             flex: 1,
             sortable: false,
             dataIndex: 'name'
         }, {
             text: 'Price',
             width: 75,
             sortable: true,
             renderer: 'usMoney',
             dataIndex: 'price'
         }, {
             text: 'Change',
             width: 75,
             sortable: true,
             dataIndex: 'change',
             renderer: specialRender,
             width: 200
         }, {
             text: '% Change',
             width: 75,
             sortable: true,
             dataIndex: 'pctChange'
         }, {
             text: 'Last Updated',
             width: 85,
             sortable: true,
             renderer: Ext.util.Format.dateRenderer('m/d/Y'),
             dataIndex: 'lastUpdated'
         }],
         height: 350,
         width: 600,
         title: 'Irm Grid Example',
         renderTo: 'grid-example',
         viewConfig: {
             stripeRows: true
         }
     });

     /**
      * when the grid view is ready this method will find slider columns and render the slider to them
      */
     onGridViewReady = function() {
         var recordIdx,
             colVal,
             colEl;

         for (recordIdx = 0; recordIdx < grid.store.getCount(); recordIdx++) {
             record = grid.store.getAt(recordIdx);
             sliderHolder = Ext.DomQuery.select('.slider-target', grid.view.getNode(recordIdx));
             if (sliderHolder.length) {
                 colEl = sliderHolder[0];

                 // remove div generated by grid template - alternative is to use a new template in the col
                 colEl.innerHTML = '';

                 // get the value to be used in the slider from the record and column
                 colVal = record.get('change');

                 // render the slider - pass in the full record in case record data may be needed by change handlers
                 renderNumericFilter(colEl, colVal, record)
             }
         }

     }

     // when the grids view is ready, render sliders to it
     grid.on('viewready', onGridViewReady, this);

     // modification of existing method but removed from custom column 
     renderNumericFilter = function(el, val, record) {

         var filterPanel = Ext.widget('slider', {
             width: 200,
             value: val,
             record: record,
             minValue: 0,
             maxValue: 10,
             renderTo: el
         });

     }
 }); 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-07-11T01:02:17.587

当我需要在网格列中渲染一个小图表（本质上是一个火花图表）时，我做了这样的事情。此解决方案类似于 sha 的解决方案，但它更健壮，并将渲染委托给正在渲染的组件，而`Column`不是真正没有渲染链的组件。

一、列类：

```
Ext.define("MyApp.view.Column", {
    extend: "Ext.grid.column.Column",

    // ...

    renderer: function (value, p, record) {
        var container_id = Ext.id(),
            container = '<div id="' + container_id + '"></div>';

        Ext.create("MyApp.view.Chart", {
            type: "column",
            // ...
            delayedRenderTo: container_id
        });

        return container;
    }
}); 
```

注意`delayedRenderTo`配置选项。就像 一样`renderTo`，这将是图表组件将呈现到的元素的 DOM ID，只是它在创建时不需要存在于 DOM 中。

然后是组件类：

```
Ext.define("MyApp.view.Chart", {
    extend: "Ext.chart.Chart",

    // ...

    initComponent: function () {
        if (this.delayedRenderTo) {
            this.delayRender();
        }

        this.callParent();
    },

    delayRender: function () {
        Ext.TaskManager.start({
            scope: this,
            interval: 100,
            run: function () {
                var container = Ext.fly(this.delayedRenderTo);

                if (container) {
                    this.render(container);
                    return false;
                } else {
                    return true;
                }
            }
        });
    }
}); 
```

因此，在 期间`initComponent()`，我们检查延迟渲染并在必要时进行准备。否则，它会正常渲染。

该`delayRender()`函数本身会安排一个任务以每隔一段时间（在本例中为 100 毫秒）检查是否存在具有给定 ID 的元素，即检查列是否已呈现。如果不是，则返回 true 以重新安排任务。如果是，则渲染组件并返回 false 以取消任务。

我们在这个领域很幸运，所以我希望它也对你有用。

* * *

顺便说一句，我正在开发这个作为回答[我自己关于 ExtJS 图表的问题](https://stackoverflow.com/questions/9238032/do-extjs-charts-perform-better-than-fusioncharts)的一部分。该线程具有我的性能测试结果。我在大多数浏览器和操作系统中以 3-4 秒的时间在网格列中渲染 168 个图表组件。我想你的滑块会渲染得比这快得多。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-08T19:05:41.980

尝试这样的事情：

```
renderNumericFilter: function () {
    var id = Ext.id();
    Ext.defer(function () {
        Ext.widget('slider', {
            renderTo: id,
            width: 200,
            value: 50,
            increment: 10,
            minValue: 0,
            maxValue: 100,
        });
    }, 50);
    return Ext.String.format('<div id="{0}"></div>', id);
} 
```

但是我必须说无论您要做什么-听起来都不对:)我认为网格内的一堆滑块对用户来说不会很好看。

# sql - 如何在sql server中将列转换为行

> ID：11323024
> 
> 赞同：6
> 
> 时间：2012-07-04T05:43:14.913
> 
> 标签：sql, sql-server, sql-server-2008, unpivot

请考虑这张表：

```
ID         Page          Line           C01          C02          C03        
---------------------------------------------------------------------
1          122            11             1            0            1
1          123            11             1            1            1
1          124            12             0            0            0
1          125            16             1            0            1
1          127            11             0            1            0 
```

我想把这张表转换成这张：

```
ID         Page          Line           City         Value
-----------------------------------------------------------
1          122            11            C01            1           
1          122            11            C02            0  
1          122            11            C03            1  
1          123            11            C01            1  
1          123            11            C02            1  
1          123            11            C03            1  
... 
```

我怎样才能以适当的方式做到这一点？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-04T05:50:25.853

使用 UNPIVOT。尝试类似：

```
SELECT ID, Page, Line, City, Value
FROM SourceTable
UNPIVOT
   (Value FOR City IN 
      (C01, C02, C03)
)AS unpvt; 
```

其中“SourceTable”是您的源表名称。（注意：我目前无法对此进行测试，因此可能并不完全正确。）

此处的详细信息：http: [//msdn.microsoft.com/en-us/library/ms177410 (v=sql.105).aspx](http://msdn.microsoft.com/en-us/library/ms177410(v=sql.105).aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T05:54:22.187

下面的查询应该满足您的要求。

```
SELECT ID, PAGE, LINE, "C01", C01 FROM TABLE
UNION 
SELECT ID, PAGE, LINE, "C02", C02 FROM TABLE
UNION
SELECT ID, PAGE, LINE, "C03", C03 FROM TABLE 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-04T05:48:39.387

Pivot & UnPivot 将解决这个问题 :)

按照链接：

*   [http://msdn.microsoft.com/en-us/library/ms177410(v=sql.105).aspx](http://msdn.microsoft.com/en-us/library/ms177410(v=sql.105).aspx)
*   [http://blog.sqlauthority.com/2008/06/07/sql-server-pivot-and-unpivot-table-examples/](http://blog.sqlauthority.com/2008/06/07/sql-server-pivot-and-unpivot-table-examples/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-04T06:05:36.207

您可以通过在 Linq to sql 中执行类似的操作来实现此目的

[在 Linq to SQL 中是否提供 Unpivot（非 Pivot）功能？如何？](https://stackoverflow.com/questions/10188774/is-unpivot-not-pivot-functionality-available-in-linq-to-sql-how)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-04T05:46:08.533

执行一次自连接，每 1+N 列一次。并创建一个笛卡尔表。

自连接是将同一个表连接到自身。通过 id、page 和 line 匹配它。

# zend-framework - 如何获取 Google Docs 中文件的文件扩展名？

> ID：11323035
> 
> 赞同：1
> 
> 时间：2012-07-04T05:44:29.250
> 
> 标签：zend-framework, google-docs-api, google-drive-api, zend-gdata

我目前正在尝试将 Google Docs 实施到网站。顺便说一句，我正在使用 Zend Framework，我正在使用 Zend GDocs API。

我的问题是 -**我怎样才能获得任何文件和文档的文件扩展名？**获取文件列表没问题，但我也确实需要文件扩展名。

```
$docs = new Zend_Gdata_Docs($client);       
$feed = $docs->getDocumentListFeed($url);
$this->view->feed = $feed;

foreach($this->feed as $item) {
    echo $item->getTitle();
} 
```

感谢您的帮助和时间。

史蒂芬

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T15:06:29.567

请改用 Google Drive API的[files.list](https://developers.google.com/drive/v2/reference/files/list)方法，然后查看[文件](https://developers.google.com/drive/v2/reference/files#resource)资源的`fileExtension`字段。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T10:15:52.853

从文件的最后一个字符开始执行 substr，然后返回，直到遇到“。” （点）-字符。

# java - 如何在 Jtable 上正确对齐标题 边框

> ID：11323038
> 
> 赞同：0
> 
> 时间：2012-07-04T05:44:49.160
> 
> 标签：java, swing

我正在尝试在 java swings 中构建小型应用程序。我开始使用这个链接：[Creating a Grid in Java](https://stackoverflow.com/questions/11304073/java-swing-creating-a-grid)。

一切都很好。我完成了这项任务，但剩下的就是我试图删除额外的标题边框。我试图减少标题边框的边框仍然没有影响。任何有好的建议都尝试与我分享。

```
 package swings.application.framework;

    import java.awt.*;
    import java.awt.event.ActionEvent

;
import java.awt.event.ActionListener;
import java.awt.event.WindowEvent;
import javax.swing.*;
import javax.swing.border.Border;
import javax.swing.border.EtchedBorder;
import javax.swing.border.LineBorder;
import javax.swing.table.DefaultTableModel;

/**
 *
 * @author Inf3rNix
 */
public class KidsProblemTable {
 private static JButton okbtn;

           private static     JFrame frame;
    public static void main(String[] args) {
        Runnable runner = new Runnable() {

            @Override
            public void run() {
                Dimension screensize = Toolkit.getDefaultToolkit().getScreenSize();

         frame = new JFrame("Kids Table");

                Border border = LineBorder.createGrayLineBorder();
                frame.setLayout(null);

                frame.setDefaultCloseOperation(frame.EXIT_ON_CLOSE);
                JLabel Heading = new JLabel("My Result");
                Heading.setFont(new Font("Gabriola", Font.ITALIC, 56));
                Heading.setForeground(Color.BLUE);
                Heading.setBounds(550, -60, 300, 200);

                JLabel Heading2 = new JLabel("Nice Job! Here are your results...");
                Heading2.setFont(new Font("Buxton Sketch", Font.ITALIC, 26));
                Heading2.setForeground(Color.BLUE);
                Heading2.setBounds(500, 10, 600, 200);

                JLabel Heading3 = new JLabel();

                String str = "You got 5 correct answer out of 7 question";
                Heading3.setText("<html><a href=' ' style='color:rgb(248,116,49);'>" + str + "</a></html>");
                Heading3.setFont(new Font("Andy", Font.PLAIN, 20));

                Heading3.setBounds(500, 70, 600, 200);
                JPanel panel1 = new JPanel();
                JPanel panel2 = new JPanel();
                Border border1 = BorderFactory.createTitledBorder("Exercise");

                panel1.setBounds(150, 200, 1000, 190);

                String column = "Questions".toUpperCase();

                //  AttributedString as = new AttributedString(column);
                //    Font plainFont = new Font("Times New Roman", Font.PLAIN, 24);
                //   as.addAttribute(TextAttribute.FONT, plainFont);
                //  as.addAttribute(TextAttribute.UNDERLINE, TextAttribute.UNDERLINE_ON,0,8 );
                String column1 = "Problem".toUpperCase();
                String column2 = "Answer".toUpperCase();
                String column3 = "Answer".toUpperCase();
                String results = "results".toUpperCase();

                Object rowData[][] = {{"1", "3+9", "12", "12", "Correct !"},
                    {"2", "4+3", "7", "7", "Correct !"},
                    {"3", "10+8", "17", "18", "Sorry :("},
                    {"4", "5+1", "6", "6", "Correct !"},
                    {"5", "10+8", "18", "18", "Correct !"},
                    {"6", "8+2", "10", "10", "Correct !"},
                    {"7", "5+6", "4", "11", "Sorry :("}
                };
                Object columnNames[] = {column, column1, column2, column3, results};

                DefaultTableModel model = new DefaultTableModel(rowData, columnNames);
                JTable tb1 = new JTable(model) {

                    //when checking if a cell is editable always return false

                    public boolean isCellEditable(int rowIndex, int colIndex) {
                        return false;   //Disallow the editing of any cell
                    }

                };
                //JTable table1 = new JTable(rowData, columnNames1);
                tb1.setBackground(Color.getHSBColor(153, 0, 91));

                JScrollPane scrollPane1 = new JScrollPane(tb1);
                Border raisedbevel = BorderFactory.createRaisedBevelBorder();
                Border loweredbevel = BorderFactory.createLoweredBevelBorder();
                Border raisedetched = BorderFactory.createEtchedBorder(EtchedBorder.RAISED);
             //  ImageIcon icon = createImageIcon("images/wavy.gif", "wavy-line border icon");

              okbtn=new JButton("Press Ok to Exit");
                           okbtn.setBorder(raisedbevel);

              okbtn.setFont(new Font("Vani", Font.BOLD, 12));
                okbtn.setBounds(575, 390, 150, 50);
                panel2.add(scrollPane1, BorderLayout.CENTER);
                okbtn.addActionListener(new buttonActionListener());
                frame.add(Heading);
                frame.add(Heading2);
                frame.add(Heading3);
                frame.add(okbtn);
                frame.add(panel1);

                panel2.setBorder(border1);
                panel1.add(panel2);

                frame.setSize(500, 500);

                frame.setVisible(true);

            }
        };
        EventQueue.invokeLater(runner);
    }

    private static class buttonActionListener implements ActionListener {

        @Override
        public void actionPerformed(ActionEvent ae) {

        if(ae.getSource()==okbtn){
            JOptionPane.showMessageDialog(null, "All the best !!!");
            WindowEvent winClosingEvent = new WindowEvent(frame, WindowEvent.WINDOW_CLOSING );
             Toolkit.getDefaultToolkit().getSystemEventQueue().postEvent( winClosingEvent );

        }

        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T07:21:11.803

也许

![在此处输入图像描述](../Images/58712add29edf8b233bc21de0a2fdda4.png)

```
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowEvent;
import javax.swing.*;
import javax.swing.border.Border;
import javax.swing.table.DefaultTableModel;

/**
 *
 * @author Inf3rNix
 */
public class KidsProblemTable {

    private JFrame frame;
    private JPanel panel1 = new JPanel();
    private JLabel Heading = new JLabel("My Result", JLabel.CENTER);
    private JLabel Heading2 = new JLabel("Nice Job! Here are your results...", JLabel.CENTER);
    private JLabel Heading3 = new JLabel();
    private String str = "You got 5 correct answer out of 7 question";
    private JPanel panel2 = new JPanel();
    private JButton okbtn;
    private Object rowData[][] = {{"1", "3+9", "12", "12", "Correct !"},
        {"2", "4+3", "7", "7", "Correct !"},
        {"3", "10+8", "17", "18", "Sorry :("},
        {"4", "5+1", "6", "6", "Correct !"},
        {"5", "10+8", "18", "18", "Correct !"},
        {"6", "8+2", "10", "10", "Correct !"},
        {"7", "5+6", "4", "11", "Sorry :("}
    };
    private String column = "Questions".toUpperCase();
    private String column1 = "Problem".toUpperCase();
    private String column2 = "Answer".toUpperCase();
    private String column3 = "Answer".toUpperCase();
    private String results = "results".toUpperCase();
    private Object columnNames[] = {column, column1, column2, column3, results};
    private DefaultTableModel model = new DefaultTableModel(rowData, columnNames);
    private JTable tb1 = new JTable(model) {

        private static final long serialVersionUID = 1L;

        //when checking if a cell is editable always return false
        @Override
        public boolean isCellEditable(int rowIndex, int colIndex) {
            return false;   //Disallow the editing of any cell
        }
    };
    private JScrollPane scrollPane1 = new JScrollPane(tb1);

    public KidsProblemTable() {
        Border border1 = BorderFactory.createTitledBorder("Exercise");
        Border raisedbevel = BorderFactory.createRaisedBevelBorder();
        tb1.setBackground(Color.getHSBColor(153, 0, 91));
        tb1.setPreferredScrollableViewportSize(tb1.getPreferredSize());
        Heading.setFont(new Font("Gabriola", Font.ITALIC, 56));
        Heading.setForeground(Color.BLUE);
        Heading2.setFont(new Font("Buxton Sketch", Font.ITALIC, 26));
        Heading2.setForeground(Color.BLUE);
        Heading3.setText("<html><a href=' ' style='color:rgb(248,116,49);'>" + str + "</a></html>");
        Heading3.setFont(new Font("Andy", Font.PLAIN, 20));
        panel1.setLayout(new GridLayout(3, 1));
        panel1.add(Heading);
        panel1.add(Heading2);
        panel1.add(Heading3);
        //  ImageIcon icon = createImageIcon("images/wavy.gif", "wavy-line border icon");
        okbtn = new JButton("     Press Ok to Exit    ");
        okbtn.setBorder(raisedbevel);
        okbtn.setFont(new Font("Vani", Font.BOLD, 12));
        okbtn.addActionListener(new buttonActionListener());
        panel2.add(okbtn);
        panel2.setBorder(border1);
        frame = new JFrame("Kids Table");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.add(panel1, BorderLayout.NORTH);
        frame.add(scrollPane1, BorderLayout.CENTER);
        frame.add(panel2, BorderLayout.SOUTH);
        frame.pack();
        frame.setSize(500, 500);
        frame.setVisible(true);
    }

    private class buttonActionListener implements ActionListener {

        @Override
        public void actionPerformed(ActionEvent ae) {

            if (ae.getSource() == okbtn) {
                JOptionPane.showMessageDialog(null, "All the best !!!");
                WindowEvent winClosingEvent = new WindowEvent(frame, WindowEvent.WINDOW_CLOSING);
                Toolkit.getDefaultToolkit().getSystemEventQueue().postEvent(winClosingEvent);
            }
        }
    }

    public static void main(String[] args) {
        Runnable runner = new Runnable() {

            @Override
            public void run() {
                new KidsProblemTable();
            }
        };
        EventQueue.invokeLater(runner);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T06:50:11.017

我发现了您的问题，您将 scrollPane 添加到 panel2 为

```
panel2.add(scrollPane1, BorderLayout.CENTER); 
```

但是您没有将LayoutLayout 设置为panel2 的BorderLayout。并且您将 panel1 的 Layout 设置为 null 请参阅此代码

```
 JPanel panel1 = new JPanel();
            panel1.setLayout(null);//add to your code
            JPanel panel2 = new JPanel();
            panel2.setLayout(new BorderLayout());//add to your code
            panel2.setBounds(0,0,800,120);//add to your code 
```

输出：

这张图片可能会在几个小时后删除 [图片](http://i45.tinypic.com/d403.jpg)

# java - 在 Java 中使用 Oracle 的 WITH 子句

> ID：11323039
> 
> 赞同：0
> 
> 时间：2012-07-04T05:44:53.867
> 
> 标签：java, oracle, with-clause

如何在 Java 中使用 Oracle 的 WITH 子句执行查询。例如

```
with TEST as (
 select 1 from dual
)
select * from TEST 
```

我试过了，但我明白了`java.sql.SQLException: ORA-00928: missing SELECT keyword`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T16:25:00.707

感谢所有提到查询应该在 JAVA 中正常工作的人。

后来我发现我的查询要复杂得多，有 800 多行，它缺少一个括号，这使得它看起来好像缺少选择。

所以是的，查询在JAVA中正常工作

# c# - 将图像更改为字节，用于文件 *within* 项目

> ID：11323040
> 
> 赞同：0
> 
> 时间：2012-07-04T05:44:54.570
> 
> 标签：c#, asp.net, image, byte

长话短说：我想将图像放在 DataTable 的列中。为此，我从各种其他来源收集了需要将图像转换为字节的信息，然后将字节分配给所需的 DataRow 列。

所以我已经得到了几乎我需要的东西，除了我找到的所有指南都是用于引用系统上的文件。我需要转换的图像在项目中。

这是我所拥有的，缩写：

```
DataColumn amountcol = new DataColumn();
amountcol.DataType = System.Type.GetType("System.Byte[]");
//...
newrow = dt.NewRow();
newrow[amountcol] = ReadImage("images/dashboard/myvacstatus-am.png", new string[] { ".png" }); 
```

* * *

```
private static byte[] ReadImage(string p_postedImageFileName, string[] p_fileType)
{
    bool isValidFileType = false;

    try
    {
        FileInfo file = new FileInfo(p_postedImageFileName);

        foreach (string strExtensionType in p_fileType)
        {
            if (strExtensionType == file.Extension)
            {
                isValidFileType = true;
                break;
            }
        }

        if (isValidFileType)
        {
            FileStream fs = new FileStream(p_postedImageFileName, FileMode.Open, FileAccess.Read);
            BinaryReader br = new BinaryReader(fs);
            byte[] image = br.ReadBytes((int)fs.Length);
            br.Close();
            fs.Close();
            return image;
        }

        return null;
    }
    catch (Exception ex)
    {
        throw ex;
    }
} 
```

* * *

**问题：它在系统上查找文件，而不是在项目中。**

我收到以下错误：

找不到路径“C:\Program Files (x86)\Common Files\Microsoft Shared\DevServer\10.0\images\dashboard\myvacstatus-ampm.png”的一部分。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T05:48:46.803

确保您从中读取图像的路径有效。

**更新**

使用以下代码获取完整路径。

```
string path = Server.MapPath("images/dashboard/myvacstatus-am.png") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T05:52:47.253

尝试使用绝对（即完全限定）路径而不是您指定的无根相对路径（“images/dashboard/myvacstatus-am.png”）。

您可能不应该尝试从项目文件夹层次结构中读取文件。相反，指定将文件部署到部署目录（或子文件夹），然后从那里读取它们。否则，如果您将应用程序分发给非开发人员用户，您将遇到麻烦。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T06:18:27.487

为了在 Web 应用程序文件夹结构中查找文件，您可以使用`Server.MapPath("/relative/url/tofile.png")`.

这将找到该文件，您可以将其读入内存并执行需要执行的操作。但仅将结果分配给`byte[]`DataList 的数据源不会导致显示图像。

为了显示图像，您需要：

*   `<img ... />`在正确的位置添加标签`DataList`
*   图片的`src`属性应该指向可以找到图片数据的地方

根据您的设置（您明确表示该文件在项目中），您应该能够使用如下内容：

```
<asp:Image ID="image_myvacstatus" runat="server" 
    ImageUrl="~/images/dashboard/myvacstatus-am.png" /> 
```

无需将其加载到内存中并分配给 ListView 的数据源。

如果您需要根据每行的一些其他数据来确定要显示哪个图像，那么您可以在数据绑定之前在数据源中添加正确的图像名称并使用：

```
<asp:Image ID="image_myvacstatus" runat="server" 
    ImageUrl='<%# "~/images/dashboard/" + (string)Eval("imageName") %>' /> 
```

# c# - 如何创建 .EFT 文件？

> ID：11323041
> 
> 赞同：-1
> 
> 时间：2012-07-04T05:44:56.957
> 
> 标签：c#

如何在 C# 中创建 .eft？如何在 .eft 文件中对分隔符和文件分隔符进行分组？据我所知.eft 是用十六进制保存的。我不知道 C# 中的组分隔符和文件分隔符以及如何转换它们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T05:59:53.020

也许这有帮助，它是文件分隔符

```
HTML Entity (decimal)   &#9244;
HTML Entity (hex)   &#x241c;
How to type in Microsoft Windows    Alt +241C
UTF-8 (hex)     0xE2 0x90 0x9C (e2909c)
UTF-8 (binary)  11100010:10010000:10011100
UTF-16 (hex)    0x241C (241c)
UTF-16 (decimal)    9,244
UTF-32 (hex)    0x0000241C (241c)
UTF-32 (decimal)    9,244
C/C++/Java source code  "\u241C"
Python source code  u"\u241C" 
```

这是组分隔符

```
HTML Entity (decimal)   &#9245;
HTML Entity (hex)   &#x241d;
How to type in Microsoft Windows    Alt +241D
UTF-8 (hex)     0xE2 0x90 0x9D (e2909d)
UTF-8 (binary)  11100010:10010000:10011101
UTF-16 (hex)    0x241D (241d)
UTF-16 (decimal)    9,245
UTF-32 (hex)    0x0000241D (241d)
UTF-32 (decimal)    9,245
C/C++/Java source code  "\u241D"
Python source code  u"\u241D" 
```

# java - 在 Android 中将语音录制为 mp3

> ID：11323042
> 
> 赞同：0
> 
> 时间：2012-07-04T05:45:07.100
> 
> 标签：java, android, audio, mp3, mediarecorder

在我的 android 应用程序中，我想将我的声音录制为 MP3 文件。但Android的`Media Recorder`（支持录音的类）似乎不支持MP3格式。它似乎只允许 3gp 和 mpeg4 文件格式。

```
recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);
recorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG4); 
```

任何人都可以帮助我或给我一个代码吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-05T08:42:12.973

Mp3 编码器在 android 中不可用，但可以使用 Libav/FFMPeg 和 mp3 LAME 对 mp3 进行编码，您可以[在此处找到示例代码](http://libavandroid.wordpress.com/2014/01/05/record-mp3-in-android-using-libavffmpeg/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-10T09:40:13.007

使用此代码，这对我有用：

```
MediaRecorder   recorder = new MediaRecorder();
recorder.setAudioSource(MediaRecorder.AudioSource.MIC);
recorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);
recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC);
/*  recorder.setAudioEncodingBitRate(32);
recorder.setAudioSamplingRate(44100);*/
recorder.setOutputFile(file.getPath());
recorder.setOnErrorListener(errorListener);
recorder.setOnInfoListener(infoListener); 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2015-09-15T13:14:37.773

安卓现在正式支持 MP3：

[http://developer.android.com/guide/appendix/media-formats.html](http://developer.android.com/guide/appendix/media-formats.html)

核心媒体格式：

* * *

格式/编解码器 **||** 详情 **||** 支持的文件类型/容器格式

* * *

MP3 **||** 单声道/立体声 8-320Kbps 恒定 (CBR) 或可变比特率 (VBR) **||** MP3 (.mp3)格式

* * *

[![在此处输入图像描述](../Images/f525a606248bffa9af4bea6c93da948d.png)](https://i.stack.imgur.com/3Cpyj.jpg)

您可以将其用作：

**mRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);**

并使用后缀“ **.mp3** ”保存文件

# php - 使用 Codeigniter 电子邮件类发送电子邮件时消息字符串混乱

> ID：11323044
> 
> 赞同：1
> 
> 时间：2012-07-04T05:45:31.840
> 
> 标签：php, codeigniter, character-encoding, html-email, iso-8859-1

因此，我在使用 Codeigniter 的电子邮件类编写脚本发送电子邮件时遇到了问题。我这样设置配置：

```
 $config['protocol'] = 'mail';
    $config['charset'] = 'iso-8859-1';
    $config['wordwrap'] = FALSE;
    $config['mailtype']= "html"; 
```

电子邮件已成功发送，但是当我打开电子邮件（电子邮件客户端是使用 iso-8859-1 字符集的网络邮件客户端）时，我的一些文字搞砸了。

这是我想要的电子邮件：

```
Thank you for registering a UMall account. Here's the details of your account:
Email: su-mie@ntu.edu.sg
Pass: 1234567
Fullname: Reinardus Surya Pradhitya
Phone: 83612737
Click here to activate your account: http://su.ntu.edu.sg/umall/index.php/register/activate/3a228e96124a66f1070361e0961854d5 
```

它是这样出现的：

```
Thank you for registering a UMall account. Here's the details of your accou= nt:
Email: su-mie@ntu.edu.sg
Pass: 1234567
Full= name: Reinardus Surya Pradhitya
Phone: 83612737
Click here= to activate your account: http://su.ntu.edu.sg/um= all/index.php/register/activate/3a228e96124a66f1070361e0961854d5 
```

错误字符始终是“=”。等号后跟一个空格。有谁知道出了什么问题？

有趣的是，我尝试在手机的另一个电子邮件客户端中打开它，它看起来不错。

编辑：我认为问题在于自动换行。我无法覆盖该设置，也无法使用 {unwrap}{/unwrap}。如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T09:55:57.977

我遇到了同样的问题，“@Alix Axel”帮助解决了这个问题。

请参阅此帖子：[CodeIgniter SMTP 电子邮件 - 用等号替换字符](https://stackoverflow.com/questions/13065695/codeigniter-smtp-email-message-characters-replaced-with-equal-signs)

它涵盖了您需要的配置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T07:01:54.927

尝试将字符集更改为 utf-8。

```
$config['protocol'] = 'mail';
$config['charset'] = 'utf-8';
$config['wordwrap'] = FALSE;
$config['mailtype']= "html"; 
```

# ios - 如何在 iPhone 中混合来自不同视图的颜色

> ID：11323049
> 
> 赞同：1
> 
> 时间：2012-07-04T05:46:09.600
> 
> 标签：ios, uiview, uikit, blend

我在不同的视图（）中绘制了两个不同颜色的图表，`UIView`并在它们上应用了平移手势识别器。当我将一个图表拖到另一个图表时，它们相互重合或相交。我想组合那个交叉部分的颜色。

假设一个视图有红色图表，另一个有绿色图表，那么交叉部分将是黄色，如下图所示。这是我在不使用 openGLES 的情况下想要的部分。

我知道如何`UIView`通过使用在同一视图（）中混合来自不同图表的颜色，`kCGBlendModeDifference`但我的情况是在不同的视图中。我已经尝试过，但我无法得到它。请任何人帮助我。

![在此处输入图像描述](../Images/f37049d2a4467bb7e2b069f1a37f105b.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T12:21:23.710

我认为除了自己绘制生成的图像（例如，使用核心图形或 OpenGL）之外，没有任何好的方法可以做到这一点。您可以保留现有视图进行拖动和定位；只需使它们透明并在自己下方绘制圆圈即可。

# mfc - 在 mfc 应用程序中显示文本文件时滚动

> ID：11323050
> 
> 赞同：1
> 
> 时间：2012-07-04T05:46:10.810
> 
> 标签：mfc, cview

我有一个 mfc 应用程序，我必须在其中显示文本。每当我使用滚动条时，都会调用 OnDraw() 函数。这是我的 OnDraw() 函数：

```
CString fileText = pDoc->GetFileText();   //get text from file
CRect rect;
GetClientRect(&rect);

pDC->DrawText(fileText.GetString(), &rect, DT_LEFT|DT_NOCLIP); 
```

这似乎效率低下，因为滚动需要永远。问题是我正在重新绘制整个文本文件。我想使用 GetClipBox 函数仅重绘所需的内容。谁能给我有关如何进行的建议？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T15:17:18.217

双缓冲在这里对您没有帮助，因为您仍在将整个字符串绘制到屏幕外位图。您想要的是仅绘制实际显示的字符串部分，这说起来容易做起来难。

首先，如果每行具有相同的高度，那么它会变得容易 10 倍（我还假设您没有有趣的东西，例如内嵌图像、格式、段落间距等）。基本上你想要做的是推导出滚动条的总行数（假设你有 1000 行，滚动条为 50%，这意味着你需要从第 500 行开始绘制）和您可以显示多少行文本（通过将控件的高度除以每行的高度很容易计算）。

然后，从字符串中提取这些行，然后只将它们传递给 DrawText()。最简单的方法是不将总文本存储为一个字符串，而是存储为字符串向量，每个条目中一行。

现在还有很多细节需要解决，比如当你一直滚动到最后时要显示什么，你是否允许半行可见等等，但基本上以上就是它归结为的内容。

此外，我希望您不要在每个 OnDraw() 上从文件中读取文本，因为仅此一项可能会导致速度变慢。

GetClipBox() 在这里并不真正相关，因为无论如何您都想重绘内容窗口的全部内容，即使您只滚动 1 个像素。关键是要减少要绘制的东西的数量（传递给 DrawText()），而不是限制要绘制的屏幕空间的数量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T07:37:38.680

我认为解决您的问题的最佳方法可能是双缓冲。基本上，对屏幕外位图进行绘画，然后在调用 OnPaint() 时，只需调用

```
CRect rcUpdate;
GetClipBox(rcUpdate);
pDC->BitBlt(rcUpdate.left, rcUpdate.top, rcUpdate.Width(), rcUpdate.Height(),
                        m_pMemDC, rcUpdate.left, rcUpdate.top, SRCCOPY); 
```

这只会复制屏幕的更新部分，并且应该会大大提高您的性能。

[我在这里](https://stackoverflow.com/questions/10840464/gdi-acceleration-in-windows-7-drawing-to-memory-bitmap/10841445#10841445)的上一个问题中发布了一些代码来帮助处理双缓冲区，这可能会有所帮助。这还包括您实际上不需要并且可以省略的 GDI+ 代码。

# windows - 我们可以编写一个单一的查询来从 WMIC 中的两个类中检索属性吗？

> ID：11323051
> 
> 赞同：0
> 
> 时间：2012-07-04T05:46:12.247
> 
> 标签：windows, wmi, windows-server-2003, wmic

我想在 WMIC 的单个查询中从多个类中检索数据。我知道这在 WMI 中是不可能的。但是在某个地方我觉得在 wmic 中是可能的。我也可以通过**输出**检索和推送单个 html 文件中的多个类数据并在**WMIC中****附加**命令，但**我希望在 WMIC 控制台本身上输出**。

 ****例如：**-caption是****Win32_Operatingsystem**和**Win32_BIOS 类**中的公共属性。所以我需要单个查询来检索以上两个类的 CAPTION 属性及其值，并且它应该在**WMIC 控制台本身**中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T15:40:36.510

我无法为您提供特定的 WMIC 查询，但我认为该方法是枚举两个类的公共超类（CIM_ManagedSystemElement ？），然后将类名过滤为仅您想要的类名。

安迪****

# javascript - 只要条件为真就运行Javascript函数

> ID：11323053
> 
> 赞同：0
> 
> 时间：2012-07-04T05:46:29.520
> 
> 标签：javascript, loops, while-loop

我正在构建一个 PhoneGap 应用程序，用户按下按钮，然后将数据发送到服务器。在成功处理程序上，我有一个新功能，它通过提示框向用户询问一些问题，然后将它们发送回服务器。所以我需要让提示框出现，只要条件“status=ok”为真。

我不知道提示框要出现多少次，可以是1到10次，所以我想我需要做一个循环，但我该怎么做呢？

这是我现在一直在使用的代码：

```
function UpdateRecord(update_id) 
{ var id = getUrlVars()["id"]; 
jQuery.ajax({ type: "POST", 
url: serviceURL + "update.php", 
data: 'id='+id , 
cache: false, 
success: function(data) {
        console.log(data)
        if(data.key[0].status == "ok"){
            var reply = prompt(data.key[0].QUESTION, "");
                    jQuery.ajax({ type: "POST", 
                    url: serviceURL + "question.php", 
                    data: 'id='+id+'&reply='+reply , 
                    cache: false, 
                    success: function(data) {
                        window.location = "page.html" }
             } else {
                  window.location = "page.html" 
             }
}
});
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:20:26.830

我认为你之后的事情是将 AJAX 调用的响应转移到一个方法中`AskQuestion`（或者你想调用的任何方法）。这个函数会提示并查询答案是否正确，并将它们重定向到另一个页面：

```
function AskQuestion(data)
{
   var id = getUrlVars()["id"];
   console.log(data);
   if(data.key[0].status == "ok") {
      var reply = prompt(data.key[0].QUESTION, "");
      jQuery.ajax({ type: "POST",
                    url: serviceURL + "question.php",
                    data: 'id='+id+'&reply='+reply,
                    cache: false,
                    success: AskQuestion});
   } else {
      window.location = "page.html";
   }
}

function UpdateRecord(update_id) 
{
   var id = getUrlVars()["id"];
   jQuery.ajax({ type: "POST",
                 url: serviceURL + "update.php",
                 data: 'id='+id,
                 cache: false,
                 success: AskQuestion});
} 
```

# asp.net - ASP.NET 从内容页面更改母版页用户控件

> ID：11323056
> 
> 赞同：0
> 
> 时间：2012-07-04T05:46:51.593
> 
> 标签：asp.net, user-controls, master-pages

我正在使用 VS2010,C# 开发我的 ASP.NET Web 应用程序。我的母版页中包含一个用户控件，现在我要从内容页面访问我的用户控件，是否可以通过内容页面客户端事件更改用户控件？我将阻止任何回发

我想模拟这样的网站：

```
http://www.just-eat.co.uk/restaurants-dialacrate-w13/menu 
```

当我的客户点击食物时，食物应该被添加到我的订单篮中而没有任何回发，我认为它使用的是 JavaScript，对吧？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T05:52:12.453

你可以用这个

```
YouControl uc = (YouControl)Page.Master.FindControl("yourcontrolID"); 
```

访问放置在您的母版页中的 UC。

并使用 webservices / webmethods 完成它而无需任何回发。

有关 Web 服务的更多信息，请[转到此处](http://msdn.microsoft.com/en-us/library/ms972326.aspx)

有关 webmethods 的更多信息，请[转到此处](http://encosia.com/using-jquery-to-directly-call-aspnet-ajax-page-methods/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T06:07:18.070

我说的是您在问题中给出的 URL：如果您调查代码，HTML 部分中的篮子部分是：

```
<div id="divBasketHeaderContent">
    <h4>
        <span id="ctl00_DesktopSideColumn_Basket_lblTxt">Your order</span>
    </h4>
</div> 
```

然后，在 bundle.js 中；

```
function updateBasket(n, t, i) {
    document.getElementById("ctl00_DesktopSideColumn_Basket_modalProductId").value = n;
    var r = n + "#" + t + "#" + i + "#";
    __doPostBack("ctl00_DesktopSideColumn_Basket_UpdatePanel1", r)
} 
```

因此，他正在使用和 asp.net updatepanel 来更新购物篮。虽然这很好，但不建议这样做，因为在后台，它发送整个页面并返回大量数据..[请参阅此处](http://encosia.com/why-aspnet-ajax-updatepanels-are-dangerous/)了解原因..

同样在我提供的 Encosia 链接中，您将看到正确完成此操作的一种方法。

您可以使用[页面方法](http://encosia.com/using-jquery-to-directly-call-aspnet-ajax-page-methods/)、[Web 服务](http://www.codeproject.com/Articles/1231/ASP-NET-Web-Service)、[普通 ajax](http://danielnouri.org/notes/2011/03/13/an-ajax-page-update-mini-tutorial/)或[Web api](http://blogs.msdn.com/b/henrikn/archive/2012/02/23/using-asp-net-web-api-with-asp-net-web-forms.aspx)来实现您所需要的。

# javascript - 从 JavaScript 函数返回超过 1 个值？

> ID：11323060
> 
> 赞同：4
> 
> 时间：2012-07-04T05:47:21.923
> 
> 标签：javascript, jquery

我们如何从 JavaScript 函数返回多个值？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-04T05:50:26.130

只需返回一个对象。

```
return { a:1, b:2 }; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-04T05:53:25.130

你可以返回一个数组：

```
function() {
    return [a, b];
} 
```

或者一个对象：

```
function() {
    return {a: a, b: b};
} 
```

或为输入赋值：

```
function(ref) {
    ref.a = a;
    ref.b = b;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-04T05:56:28.000

要返回多个值，*您有**两个**选项*:`Array`或`Object`:

```
// return array
return ['foo', 'bar'];

// return object
return {"foo" : "hey foo", "bar" : "hey bar"} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-04T05:57:27.060

例如，最好的方法是返回一个 JavaScript 对象

做你所有的计算和逻辑，然后把它们放在一个像`{'x':3,'y':4}`etc这样的对象中`return {'x':3,'y':4}`

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-04T06:54:13.157

另外我想参考解构赋值，这是一个相当新的功能（所以可能不是你想要使用的）。 [https://developer.mozilla.org/en/New_in_JavaScript_1.7](https://developer.mozilla.org/en/New_in_JavaScript_1.7)

在段落`Destructuring assignment`中，您对将来如何处理这项任务有一个很好的印象。

# ios - iOS - 提交到应用商店 - 元数据

> ID：11323062
> 
> 赞同：1
> 
> 时间：2012-07-04T05:47:25.077
> 
> 标签：ios, screenshot, iad

在我的 iOS 应用程序中，我集成了 iAds。
在 iPhone 上运行应用程序以截取屏幕截图时，它显示空框，这是预期的
但 iOS 应用商店指南说我们不能在上传过程中使用这些屏幕截图上传到应用商店帐户。
我怎样才能在没有 iAd 的空框的情况下制作屏幕截图.... 我是否必须删除 iAd 并拍摄屏幕截图，或者我是否必须在 Photoshop 中手动编辑我的屏幕截图或其他东西。？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T05:53:50.270

是的，Apple 绝对会拒绝您的应用程序。克服此问题的一种方法是将设备设置为飞行模式以隐藏它们。我以前从未亲自使用 iAd 提交过应用程序，但请尝试一下。

# iphone - Cocos-2d : ReplaceScene 期间的内存泄漏

> ID：11323063
> 
> 赞同：0
> 
> 时间：2012-07-04T05:47:25.190
> 
> 标签：iphone, ios, cocos2d-iphone

我有两个级别 level1.mm 和 level2.mm

在 Level1.mm 中，我使用名为**“skip level”**的 MenuItem 按钮来 Replacescene 转到 level2.mm ，但是当调用该方法时，我的应用程序因 exec 错误访问而崩溃。

但是如果我使用 PushScene，它会正确地进入 level2 场景。但我知道如果我使用 pushscene，内存会在某个地方浪费。

替换场景的最佳方法是什么？我应该在替换场景之前调用任何 dealloc 还是会自动调用它？

注意：请温柔，这是我在 iphone 上的第一场比赛 :) :)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T14:21:39.377

replaceScene 崩溃但 pushScene 的事实并没有告诉我第一个场景在被释放时存在某种问题。所以你的问题不是关于如何替换场景，而是如何找到并修复导致崩溃的错误。

[尝试本教程](http://www.learn-cocos2d.com/2011/10/xcode-4-debugging-crashcourse/)以了解有关使用 Xcode 进行调试的更多信息。而且由于您是新手，[您可能还没有使用 ARC](http://www.learn-cocos2d.com/2012/04/enabling-arc-cocos2d-project-howto-stepbystep-tutorialguide/)。现在就这样做，因为这将有助于避免大量类似的问题。

# jquery - 无法获取点击链接的 id

> ID：11323068
> 
> 赞同：0
> 
> 时间：2012-07-04T05:47:33.280
> 
> 标签：jquery

我得到的 id 是未定义的。 [http://jsfiddle.net/valamas/YUPWu/](http://jsfiddle.net/valamas/YUPWu/)

我希望有人能接受我的（微不足道的？）错误。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T05:50:40.177

这是因为 $(this) 什么都没有？$(this) 通常表示您选择的项目.. 在您的情况下它什么都不是，因为在该函数内部它没有指向任何元素。你可以这样做

```
$(function (){
   $(document).on('click', "#MyId", function () { 
       var theId = $(this).prop('id'); //$(this).id does not work either.
       alert(theId);
   });
}); 
```

[http://jsfiddle.net/YUPWu/1/](http://jsfiddle.net/YUPWu/1/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-04T05:51:07.053

是因为`this`无法访问。[演示](http://jsfiddle.net/nawazhi/YUPWu/3/)

```
$(function ()
{
    $(document).on('click', "#MyId", function () { MyId_Click(this); });
});
function MyId_Click(obj)
{
    var theId = $(obj).attr('id'); 
    alert(theId);
}
​ 
```

# jquery - 如果在 $.ajax url 中调用的方法返回 false，想要使 Web 表单无效

> ID：11323072
> 
> 赞同：0
> 
> 时间：2012-07-04T05:47:47.867
> 
> 标签：jquery, ajax, validation, server-side-validation

一个简单的注册表单有一个字段“Preferred login id (username)”。用户输入电子邮件后，我通过将其与数据库值进行比较来验证输入的用户名（如果它已经存在或不存在）。为此，我正在使用 jquery 的 $.ajax 方法进行服务器调用。

```
<script>
$('#txtPreferredLogin').focusout(function () {
            $.ajax({
                type: "POST",
                url: "../Login.aspx/CheckUserName",
                async: false,`enter code here`
                data: "{userName: '" + $('#txtPreferredLogin').val() + "' }",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    $('#valid').html("<img src='Images/waiting.gif' alt='Checking username!'>");
                    var delay = function () {
                        AjaxSucceeded(response);
                    };
                    setTimeout(delay, 500);
                },
                failure: function (response) {
                    alert(response.d);
                }
            });
        });

        function AjaxSucceeded(result) {
            if (result.d == true) {
                $('#valid').html("<img src='Images/2_Not.png' alt='Username taken!'>");
            }
            else {
                $('#valid').html("<img src='Images/1_available.png' alt='Username available!'>");
            }
        }

        $.validator.addMethod('notNone', function (value, element) {
            return (value != '0');
        });

        $(function () {
            $("#regi1").validate(
            {
                rules:
                {
                    ddlCity:
                      {
                          required: true,
                          notNone: true
                      },
                    txtDOB:
                      {
                          required: true,
                          dpDate: true
                      }
                },
                messages: {
                    ddlCity: "Please select city",
                    txtDOB: "Please enter a valid date (dd-mm-yyyy)"
                }
            });
        });

</script> 
```

服务器端代码是

```
public bool getVal(string userName)
        {
            var query = from p in context.tblBasicDetails
                        where p.LoginId == userName.Trim()
                        select p;
            if (query.Any())
            {
                return true;
            }
            else
            {
                return false;
            }
        }

        [WebMethod]
        public static bool CheckUserName(string userName)
        {
            Login l = new Login();
            return (l.getVal(userName));
        } 
```

现在，当用户名不可用时，它会显示其不可用的消息（图像）。但是我在这些字段下方有“保存”按钮，单击哪个整个表单得到验证，即它不会回发页面，直到所有字段都有效，除非用户名不可用。现在，如果用户名不可用，我不想进行回发。我需要对代码进行哪些更改？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:27:06.017

正如 Riaz 所说，远程验证非常有帮助，但在您的情况下，您已经在检查用户名，因此您不想再次访问服务器。

jquery 具有您可以使用的 .data 函数。

```
function AjaxSucceeded(result) {
    if (result.d == true) {
        $('#valid').html("&lt;img src='Images/2_Not.png' alt='Username taken!'>");
        $("#txtPreferredLogin").data("available", false); //add data
    } else {
        $('#valid').html("&lt;img src='Images/1_available.png ' alt='        Username available!'>");
        $("#txtPreferredLogin").data("available", true); //add data
    }
}

//add validator
$.validator.addMethod('
        available ', function(value, element) {
    return $(element).data("available");
});

$(function() {
    $("#regi1").validate({
        rules: {
            txtPreferredLogin: {
                required: true,
                available: true
            },
            ddlCity: {
                required: true,
                notNone: true
            },
            txtDOB: {
                required: true,
                dpDate: true
            }
        },
        messages: {
            ddlCity: "Please select city",
            txtDOB: "Please enter a valid date (dd-mm-yyyy)"
        }
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:00:19.867

如果您使用 jQuery 表单验证，那么您必须使用远程验证。由验证框架提供

[http://bassistance.de/jquery-plugins/jquery-plugin-validation/](http://bassistance.de/jquery-plugins/jquery-plugin-validation/)

[http://ceedubs.github.com/blog/2011/11/22/custom-remote-validation-with-jquery/](http://ceedubs.github.com/blog/2011/11/22/custom-remote-validation-with-jquery/)

希望这会有所帮助

# javascript - 阻止警报框出现在 Firefox 中

> ID：11323073
> 
> 赞同：0
> 
> 时间：2012-07-04T05:47:48.000
> 
> 标签：javascript, firefox

我可以在我的 Opera 浏览器中使用它来阻止警告框出现：

```
javascript:function alert () {} 
```

但是，每当我在 Firefox 中使用它时，它都不起作用。在 Firefox 中停止警报的命令是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T05:52:22.203

这可以像这样完成

```
window.alert = function() { return false; } 
```

但是，如果您想停止警报框，最好的解决方案是**根本不使用`alert()`**。在不正确的解决方案中禁用 JavaScript 功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T06:09:47.930

我假设您使用的`javascript:`是您尝试通过将 javascript 代码直接粘贴到位置栏中来执行此操作。如果是这样，则此页面上的其他建议对您没有帮助，因为[从 Firefox 6](https://developer.mozilla.org/en/Firefox_6_for_developers)开始，`javascript:`URI 会在页面上下文之外执行：

> 出于安全考虑，data: 和 javascript: URI 在用户在地址栏中输入时不再继承当前页面的安全上下文；相反，会创建一个新的空安全上下文。这意味着通过在位置栏中输入 javascript: URIs 加载的脚本不再可以访问 DOM 方法等。但是，这些 URI 在被脚本使用时会继续像以前一样工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T05:51:23.913

尝试：

```
window.alert = function() {}; 
```

# c# - 使用c#过滤抓取的数据

> ID：11323074
> 
> 赞同：0
> 
> 时间：2012-07-04T05:48:00.120
> 
> 标签：c#, asp.net

我已成功从网站页面抓取数据。但它既包含 HTML 标记，也包含纯文本。我如何从这些抓取的数据中过滤掉不需要的数据（标签、脚本、一些不需要的文本等）。至少建议一些方法来做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T05:51:53.450

您可以使用[HTML Agility Pack](http://htmlagilitypack.codeplex.com/?utm_source=twitterfeed&utm_medium=twitter) 来解析 html 并删除任何不需要的镜头。

> [如何使用 HTML 敏捷包](https://stackoverflow.com/questions/846994/how-to-use-html-agility-pack)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T05:52:59.780

您可以从查看[HTML Agility Pack](http://htmlagilitypack.codeplex.com/)开始。这应该允许您删除任何 HTML。

> 这是一个敏捷的 HTML 解析器，它构建一个读/写 DOM 并支持普通的 XPATH 或 XSLT（实际上你不必了解 XPATH 或 XSLT 就可以使用它，不用担心......）。它是一个 .NET 代码库，允许您解析“网络之外”的 HTML 文件。解析器对“真实世界”格式错误的 HTML 非常宽容。对象模型与 System.Xml 的提议非常相似，但用于 HTML 文档（或流）。

# javascript - 正则表达式的 jquery 不起作用

> ID：11323081
> 
> 赞同：0
> 
> 时间：2012-07-04T05:49:16.407
> 
> 标签：javascript, jquery

我使用 jquery 作为输入框来验证在我之前工作过的人的内容，创建一个名为 comoon.js 的文件并且该文件支持所有其他文件。但是当我在（文档）上编写此代码时。准备好（像这样的函数（）

```
 $(document).ready(function()
{
    $('#validate').keyup(function(){
      var i = $('input');
      (/http:\/\//).test(i.val()) && i.val(i.val().replace('http://',''));
    }); 
```

});

我有这样的输入框

```
<input type="text" id="validate"  class="right" name="linkurl" maxlength="150" size="130"/> 
```

但它在这个按钮上不起作用我应该做什么，有什么问题，我知道所有页面都加载了 js 文件......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T05:52:02.097

假设您的页面上有多个输入，问题是这一行：

```
var i = $('input'); 
```

...设置`i`为包含页面上*所有*输入的 jQuery 对象。请尝试：

```
var i = $(this); 
```

...它将设置`i`为仅包含事件发生的元素的 jQuery 对象。

（您的代码在只有一个输入时有效。）

如果有问题的输入是在页面加载后动态创建的，您将遇到第二个问题：您无法将事件处理程序绑定到尚不存在的元素，但您可以使用委托事件处理程序：

```
$(document).ready(function()
{
    $(document).on("keyup", '#validate', function(){
      var i = $(this);
      (/http:\/\//).test(i.val()) && i.val(i.val().replace('http://',''));
    });
}); 
```

理想情况下，您将替换`document`为`$(document).on("keyup", '#validate', ...`页面加载时存在的“#validate”的最接近祖先。如果您使用的 jQuery 版本低于 1.7 ，请使用 jQuery API doco 来[`.delegate()`](http://api.jquery.com/delegate/)代替[`.on()`](http://api.jquery.com/on/)（有关更多信息，请参阅 jQuery API 文档）。

# r - 稀疏数据帧子集的转换

> ID：11323083
> 
> 赞同：1
> 
> 时间：2012-07-04T05:49:17.417
> 
> 标签：r, dataframe, transformation, plyr

我经常发现自己需要根据特定条件对数据帧应用少量基于规则的转换，通常是具有特定值的固定数量的字段。转换可以修改任意数量的列，通常是一到三个。与数据帧中的总行数相比，这些转换中涉及的行数很小。目前我正在使用`ddply`但性能不足，因为`ddply`修改了所有行。

我正在寻找一种以优雅、通用的方式解决这个问题的方法，利用仅需要更改少量行的事实。下面是我正在处理的转换类型的简化示例。

```
df <- data.frame(Product=gl(4,10,labels=c("A","B", "C", "D")), 
                 Year=sort(rep(2002:2011,4)), 
                 Quarter=rep(c("Q1","Q2", "Q3", "Q4"), 10), 
                 Sales=1:40)           
> head(df)
  Product Year Quarter Sales
1       A 2002      Q1     1
2       A 2002      Q2     2
3       A 2002      Q3     3
4       A 2002      Q4     4
5       A 2003      Q1     5
6       A 2003      Q2     6
> 
transformations <- function(df) {
    if (df$Year == 2002 && df$Product == 'A') {
        df$Sales <- df$Sales + 3
    } else if (df$Year == 2009 && df$Product == 'C') {
        df$Sales <- df$Sales - 10
        df$Product <- 'E'
    }
    df
}

library(plyr)
df <- ddply(df, .(Product, Year), transformations)

> head(df)
  Product Year Quarter Sales
1       A 2002      Q1     4
2       A 2002      Q2     5
3       A 2002      Q3     6
4       A 2002      Q4     7
5       A 2003      Q1     5
6       A 2003      Q2     6 
```

安装硬编码条件我正在使用条件和转换函数的配对列表，例如下面的代码，但这不是一个有意义的改进。

```
transformation_rules <- list(
  list(
    condition = function(df) df$Year == 2002 && df$Product == 'A',
    transformation = function(df) {
      df$Sales <- df$Sales + 3
      df
    }
  )
) 
```

有什么更好的方法来解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:21:49.657

我认为你根本不需要使用`plyr`这个问题。我认为您可以简单地使用`ifelse()`和利用 R 是矢量化的事实并获得相同的结果。

由于您的函数直接修改了`Sales`列，因此在运行 plyr: 之前，我像这样复制了它`df2 <- df`。我还让我的示例创建了一个新列`Sales2`，而不是覆盖该`Sales`列。

然后像这样重写你的函数：

```
df2$Sales2 <- with(df2, ifelse(Year == 2002 & Product == "A", Sales + 3,
                        ifelse(Year == 2009 & Product == "C", Sales - 10, Sales))) 
```

并测试输出是否相等：

```
> all.equal(df$Sales, df2$Sales2)
[1] TRUE 
```

并且比较两者之间的系统时序表明，避免 ddply 的矢量化版本要快得多：

```
> system.time(df <- ddply(df, .(Product, Year), transformations))
   user  system elapsed 
  0.012   0.000   0.012 
> system.time(df2$Sales2 <- with(df2, ifelse(Year == 2002 & Product == "A", Sales + 3,
+                         ifelse(Year == 2009 & Product == "C", Sales - 10, Sales))))
   user  system elapsed 
      0       0       0 
```

所以，除非我遗漏了什么——你可以`plyr`在这里避免所有的东西，并获得一些不错的速度改进。如果`ifelse()`证明太慢，您可以编写一些布尔函数来更快，尽管我怀疑这是必要的。

# android - 应用程序中支持多语言的内存不足异常

> ID：11323084
> 
> 赞同：0
> 
> 时间：2012-07-04T05:49:49.250
> 
> 标签：android

我正在研究我的一个应用程序，其中我有 9 个带有 tabhost 和 activitygroup 的选项卡

有 9 个选项卡，我的应用程序完美运行，但是当我为语言屏幕添加第 10 个选项卡时，我在下拉列表中有 7 个语言更改下拉值应用程序语言发生了变化，但之后我导航屏幕 4 到 5 次

**这里发生内存不足异常** 是错误异常

例外

```
07-04 13:41:57.941: E/AndroidRuntime(4866): Caused by: android.view.InflateException: Binary XML file line #2: Error inflating class <unknown>
07-04 13:41:57.941: E/AndroidRuntime(4866):     at android.view.LayoutInflater.createView(LayoutInflater.java:513)
07-04 13:41:57.941: E/AndroidRuntime(4866):     at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56)
07-04 13:41:57.941: E/AndroidRuntime(4866):     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:563)
07-04 13:41:57.941: E/AndroidRuntime(4866):     at android.view.LayoutInflater.inflate(LayoutInflater.java:385)
07-04 13:41:57.941: E/AndroidRuntime(4866):     at android.view.LayoutInflater.inflate(LayoutInflater.java:320)
07-04 13:41:57.941: E/AndroidRuntime(4866):     at android.view.LayoutInflater.inflate(LayoutInflater.java:276)
07-04 13:41:57.941: E/AndroidRuntime(4866):     at com.milagemaster.Activity_setup.onCreate(Activity_setup.java:51)
07-04 13:41:57.941: E/AndroidRuntime(4866):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
07-04 13:41:57.941: E/AndroidRuntime(4866):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2459)
07-04 13:41:57.941: E/AndroidRuntime(4866):     ... 31 more
07-04 13:41:57.941: E/AndroidRuntime(4866): Caused by: java.lang.reflect.InvocationTargetException
07-04 13:41:57.941: E/AndroidRuntime(4866):     at android.widget.RelativeLayout.<init>(RelativeLayout.java:171)
07-04 13:41:57.941: E/AndroidRuntime(4866):     at java.lang.reflect.Constructor.constructNative(Native Method)
07-04 13:41:57.941: E/AndroidRuntime(4866):     at java.lang.reflect.Constructor.newInstance(Constructor.java:446)
07-04 13:41:57.941: E/AndroidRuntime(4866):     at android.view.LayoutInflater.createView(LayoutInflater.java:500)
07-04 13:41:57.941: E/AndroidRuntime(4866):     ... 39 more
07-04 13:41:57.941: E/AndroidRuntime(4866): Caused by: java.lang.OutOfMemoryError: bitmap size exceeds VM budget
07-04 13:41:57.941: E/AndroidRuntime(4866):     at android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)
07-04 13:41:57.941: E/AndroidRuntime(4866):     at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:447)
07-04 13:41:57.941: E/AndroidRuntime(4866):     at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:323)
07-04 13:41:57.941: E/AndroidRuntime(4866):     at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:697)
07-04 13:41:57.941: E/AndroidRuntime(4866):     at android.content.res.Resources.loadDrawable(Resources.java:1705)
07-04 13:41:57.941: E/AndroidRuntime(4866):     at android.content.res.TypedArray.getDrawable(TypedArray.java:548)
07-04 13:41:57.941: E/AndroidRuntime(4866):     at android.view.View.<init>(View.java:1850)
07-04 13:41:57.941: E/AndroidRuntime(4866):     at 
```

布局：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
     android:id="@+id/relroot"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@drawable/bg"
    android:gravity="top" >

    <LinearLayout
        android:id="@+id/lnrTitle"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="@color/white"
        android:orientation="vertical" >

        <com.milagemaster.utility.Header
            android:id="@+id/header"
            android:layout_width="fill_parent"
            android:layout_height="50dp" />

        <RelativeLayout
            android:id="@+id/relativeHome"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:background="@drawable/title" >

            <TextView
                android:id="@+id/txtAddData"
                style="@style/TitleTextAppearance"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_centerHorizontal="true"
                android:layout_centerVertical="true"
                android:text="@string/results"
                android:textAppearance="?android:attr/textAppearanceLarge"
                android:textColor="@color/black" />

            <Button
                android:id="@+id/btnEmail"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentLeft="true"
                android:layout_alignParentTop="true"
                android:text="Send Mail"
                android:visibility="visible" />
        </RelativeLayout>
    </LinearLayout>

    <FrameLayout
        android:id="@+id/lnrscroll_barsMain"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/lnrTitle"
        android:layout_centerHorizontal="true" >

        <ImageView
            android:id="@+id/imgShadow"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:background="@drawable/shadow_title" />
    </FrameLayout>

    <ScrollView
        android:id="@+id/scroll_barsMain"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_below="@+id/lnrTitle"
        android:layout_marginBottom="10dp"
        android:fadingEdge="none"
        android:scrollbars="vertical" >

        <RelativeLayout
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >

            <RelativeLayout
                android:id="@+id/relativeResult"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_centerInParent="true"
                android:layout_gravity="top" >

                <LinearLayout
                    android:id="@+id/relativetitle"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:layout_centerHorizontal="true"
                    android:layout_marginLeft="5dp"
                    android:layout_marginRight="5dp"
                    android:layout_marginTop="5dp"
                    android:background="@drawable/top_blue" >

                    <TextView
                        android:id="@+id/txtResultTitle"
                        android:layout_width="80dp"
                        android:layout_height="wrap_content"
                        android:layout_gravity="center_vertical"
                        android:layout_marginLeft="10dp"
                        android:layout_marginRight="10dp"
                        android:ellipsize="end"
                        android:gravity="center_horizontal"
                        android:text="@string/vehcile"
                        android:textAppearance="?android:attr/textAppearanceMedium"
                        android:textColor="@color/black"
                        android:textSize="16dp" />

                    <Spinner
                        android:id="@+id/spnSelectVehicle"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        android:layout_gravity="center_vertical"
                        android:layout_marginRight="5dp"
                        android:background="@drawable/dropdown"
                        android:paddingLeft="10dp" />
                </LinearLayout>
                <!--
                     <TextView
                    android:id="@+id/txtResultTitle"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:layout_centerHorizontal="true"
                    android:layout_marginLeft="5dp"
                    android:layout_marginRight="5dp"
                    android:layout_marginTop="5dp"
                    android:background="@drawable/top_blue"
                    android:gravity="center_vertical|center_horizontal"
                    android:text="your vehicle"
                    android:textColor="@color/black"
                    android:textSize="18dp" />

                -->

                <LinearLayout
                    android:id="@+id/frameresult"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:layout_below="@+id/relativetitle"
                    android:layout_marginLeft="5dp"
                    android:layout_marginRight="5dp"
                    android:background="@drawable/bg_box"
                    android:orientation="vertical" >

                    <TextView
                        android:id="@+id/txtResult"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginLeft="10dp"
                        android:layout_marginRight="10dp"
                        android:layout_marginTop="10dp"
                        android:gravity="center"
                        android:text=""
                        android:textColor="@color/black"
                        android:textSize="14dp" />

                    <TextView
                        android:id="@+id/txtDate"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="15dp"
                        android:layout_marginLeft="10dp"
                        android:layout_marginRight="10dp"
                        android:gravity="center_vertical|center_horizontal"
                        android:text="(mpg/kpl)"
                        android:textColor="@color/mileage1"
                        android:textSize="14dp"
                        android:textStyle="bold" />

                    <LinearLayout
                        android:id="@+id/linearLayout1"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="10dp"
                        android:layout_marginLeft="10dp"
                        android:layout_marginRight="10dp"
                        android:orientation="vertical" >

                        <TextView
                            android:id="@+id/txtAvg"
                            android:layout_width="fill_parent"
                            android:layout_height="wrap_content"
                            android:gravity="center_vertical|center_horizontal"
                            android:text=""
                            android:textColor="@color/mileage1"
                            android:textSize="22sp"
                            android:textStyle="bold"
                            android:visibility="gone" />

                        <TextView
                            android:id="@+id/txtAddFirstTime"
                            android:layout_width="fill_parent"
                            android:layout_height="wrap_content"
                            android:gravity="center_vertical|center_horizontal"
                            android:text=""
                            android:textColor="@color/gray_text"
                            android:textSize="12dp" />
                    </LinearLayout>

                    <LinearLayout
                        android:id="@+id/lnrLifeTime"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="10dp"
                        android:layout_marginLeft="10dp"
                        android:layout_marginRight="10dp"
                        android:orientation="vertical" >

                        <TextView
                            android:id="@+id/txtResultLifeTime"
                            android:layout_width="fill_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginLeft="10dp"
                            android:layout_marginRight="10dp"
                            android:gravity="center"
                            android:text=""
                            android:textColor="@color/black"
                            android:textSize="14dp"
                            android:visibility="gone" />

                        <TextView
                            android:id="@+id/txtLifeMileage"
                            android:layout_width="fill_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginBottom="15dp"
                            android:layout_marginLeft="10dp"
                            android:layout_marginRight="10dp"
                            android:gravity="center_vertical|center_horizontal"
                            android:text="(mpg/kpl)"
                            android:textColor="@color/mileage1"
                            android:textSize="14dp"
                            android:textStyle="bold"
                            android:visibility="gone" />
                    </LinearLayout>
                </LinearLayout>

                <Button
                    android:id="@+id/btnSave"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:layout_below="@+id/frameresult"
                    android:layout_centerHorizontal="true"
                    android:layout_marginLeft="5dp"
                    android:layout_marginRight="5dp"
                    android:layout_marginTop="15dp"
                    android:background="@drawable/themed_btnlarge"
                    android:text="@string/savelocationasfavorite"
                    android:textSize="16sp" />

                <LinearLayout
                    android:id="@+id/frameButton"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:layout_below="@+id/btnSave"
                    android:layout_marginLeft="5dp"
                    android:layout_marginRight="5dp"
                    android:layout_marginTop="15dp" android:gravity="center_vertical">

                    <Button
                        android:id="@+id/btnChartMilage"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:background="@drawable/themed_mileagechart"
                        android:text="@string/mileagechart"
                        android:textSize="14dp" />

                    <Button
                        android:id="@+id/btnCostGallons"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:background="@drawable/themed_fuelcost"
                        android:text="Cost/unit Chart"
                        android:textSize="14dp" />

                    <Button
                        android:id="@+id/btnChartFuel"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:background="@drawable/themed_fualpricechart"
                        android:text="@string/fuelchart"
                        android:textSize="14dp" />
                </LinearLayout>

                <Button
                    android:id="@+id/btnShare"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:layout_below="@+id/frameButton"
                    android:layout_centerHorizontal="true"
                    android:layout_marginLeft="5dp"
                    android:layout_marginRight="5dp"
                    android:layout_marginTop="15dp"
                    android:background="@drawable/themed_btnlarge"
                    android:text="@string/share"
                    android:textSize="16sp" />
            </RelativeLayout>
        </RelativeLayout>
    </ScrollView>

</RelativeLayout> 
```

请给我一些建议

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:25:03.120

我怀疑它是在重新创建活动。如果您在更改语言时仔细观察，当前活动已终止，Android 会使用新语言重新创建一个新活动。它类似于改变屏幕方向，所以如果你管理你的内存使用就可以了。通过执行以下操作，确保您没有内存泄漏。有一个[youtube](http://www.youtube.com/watch?v=_CruQY55HOk)视频

*   确保您的活动是线程安全的
*   当第一个活动死亡时，检查资源是否正确释放

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T05:55:46.323

由于位图而发生此 OOME 异常。

你是`bitmap.recycle()`在使用位图后调用方法吗？您应该始终调用此方法，因为它会释放位图所占用的资源。

由于代码中的内存泄漏而发生此错误。你需要找到它。您可以使用 MAT (plugin) for eclipse 软件来查找内存泄漏。

有关详细信息，请参阅我的[回答](https://stackoverflow.com/questions/10737582/bitmap-size-exceeds-vm-budget-error-android/10738115#10738115)。

如果这不能解决问题，请告诉我，我们会找到其他解决方案。

谢谢 ：）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T05:57:14.940

首先查看此异常`Caused by: android.view.InflateException: Binary XML file line #2: Error inflating class <unknown>` ，您的其中一个布局有错误`.XML`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-10T09:47:21.817

您可能正在使用大型位图作为背景。在布局膨胀期间发生内存不足异常。如果可能，请使用较小的位图。

# iphone - 多个 TableView 的标题中的标题

> ID：11323088
> 
> 赞同：1
> 
> 时间：2012-07-04T05:50:13.257
> 
> 标签：iphone, ios, ipad

我知道一种为单个 UITableView 创建标题标题的方法：

```
- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section

{
     return @"My Title"
} 
```

但是如何为多个不同名称的 UITableViews 设置标题？

提前致谢！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T05:57:52.357

```
- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section

{
  if(tableView==myFirstTable)//myfirstTable is the IBOutlet of the tableView that is connected with your .xib
   {
 return @"Table1"
   }

  else
     return @"Table2" 

} 
```

希望上面的代码可以帮助到你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T05:57:11.210

您可以使用相同的方法：

但是在创建 tableview 时只需为其分配标签，如下所示： tablebview1.tag = 1;

tableview2.tag = 2 等等..

在这种方法中，您可以检查 tableview 标记值并创建标题。

```
- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section
{
     switch(tableView.tag){
        case:0{
         //Based on section provide title.
           break;
        }
        case:1{
         //Based on section provide title.
           break;
        }
        case:2{
        //Based on section provide title.
           break;
        }

} 
```

# android - 安卓中的日期和时间

> ID：11323093
> 
> 赞同：-3
> 
> 时间：2012-07-04T05:50:30.803
> 
> 标签：android, datetimepicker

在我的应用程序中，我必须将当前日期存储到数据库中。我如何获取当前日期，是否有任何特定格式可以将日期存储在数据库中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T05:52:56.550

最好将日期/时间以 long 形式存储在数据库中，然后从数据库中获取长日期/时间并使用[SimpleDateFormat](http://developer.android.com/reference/java/text/SimpleDateFormat.html)指定所需的格式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T05:56:19.190

您可以使用 Date 类来获取纪元时间，然后可以将其作为整数存储在数据库中。或者，您可以将纪元时间转换为常规时间并将其存储为日期数据类型。

[https://developer.android.com/reference/java/text/SimpleDateFormat](https://developer.android.com/reference/java/text/SimpleDateFormat)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T05:58:23.117

```
SimpleDateFormat sdfDateTime = new SimpleDateFormat("dd/MM/yyyy"+ "",Locale.US);
String newtime = sdfDateTime.format(new Date(System.currentTimeMillis())); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-04T06:11:41.130

*   首先使用类将要存储的日期转换为`String`对象`SimpleDateFormat`

代码示例：

```
Date dateToBeStored = new Date(); 
SimpleDateFormat formatter = new SimpleDateFormat("yyyy/MM/dd"); // this format will help you to convert date to 2012/07/04 format string
String dateString = formatter.format(dateToBeStored); // convert string 
```

*   现在从数据库中读取日期字符串。您应该有一些方法可以从数据库中获取日期。

    ```
    String readDateStringFromDB = readDate(); 
    ```

*   现在通过类的`parse`方法将读取的日期字符串解析为日期对象`SimpleDateFormat`

    ```
    Date dateObj = formatter.parse(readDateStringFromDB);  // now you have the Date object back 
    ```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-04T06:03:45.940

SQLite 没有为存储日期和/或时间预留存储类。相反， SQLite[的内置日期和时间函数](http://www.sqlite.org/lang_datefunc.html)能够将日期和时间存储为 TEXT、REAL 或 INTEGER 值：

1.  TEXT 作为 ISO8601 字符串（“YYYY-MM-DD HH:MM:SS.SSS”）。
2.  REAL 作为儒略日数字，根据预测的公历，自公元前 4714 年 11 月 24 日格林威治中午以来的天数。
3.  INTEGER 作为 Unix 时间，自 1970-01-01 00:00:00 UTC 以来的秒数。

应用程序可以选择以任何这些格式存储日期和时间，并使用内置的日期和时间函数在格式之间自由转换。

现在了解如何在其后插入日期。

分别使用[PreparedStatement#setString()](http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setString%28int,%20java.lang.String%29)或[#setLong()](http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setLong%28int,%20long%29)。

希望这个解释对你有用..

# macos - 使用 Homebrew 在 OS X 上使用 breakindent 补丁修补 Vim

> ID：11323095
> 
> 赞同：6
> 
> 时间：2012-07-04T05:50:37.487
> 
> 标签：macos, vim, patch, homebrew

我在 OS X 10.7 和 Vim 7.3 上。

我想安装[breakindent 补丁](https://retracile.net/wiki/VimBreakIndent)。

这是在 Linux 上执行此操作的一种方法`apt-get`： [Compiling VIM with breakindent patch](https://stackoverflow.com/questions/10998516/compiling-vim-with-breakindent-patch)。

我该怎么做呢？我想这将涉及通过 Homebrew 构建 Vim（这对我来说没问题）。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-04T06:13:02.323

1.  使用 Mercurial 获取最新的 Vim 源代码：

    ```
    $ hg clone https://vim.googlecode.com/hg/ vim
    $ cd vim 
    ```

2.  抓住补丁。

3.  按照链接线程中的指示应用补丁：

    ```
    $ patch -p1 < /path/to/breakindent.patch 
    ```

4.  使用您需要的选项（python/ruby 支持、自定义位置等）配置 Vim：

    ```
    $ ./configure --with-features=huge <other options> 
    ```

5.  构建和安装：

    ```
    $ sudo make && make install 
    ```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-06T05:33:06.733

我刚刚修改了 MacVim 的 Homebrew 公式以选择性地添加该补丁。如果您想尝试一下，可以在[https://gist.github.com/4108848](https://gist.github.com/4108848)下载公式并将其插入 /usr/local/Library/Formula；然后使用`brew install --with-breakindent-patch macvim`.

（编辑：我曾经有一个链接到我的 Homebrew 的 GitHub 分支，但我决定删除该分支，除非我实际上向 Homebrew 提交任何内容。旧公式可以选择添加一个补丁，该补丁已添加到主 Vim 以来然后。）

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2014-08-24T12:54:56.933

截至 2014 年 6 月 25 日，VIM 默认包含 breakindent 补丁——终于 :-)

有关详细信息，请参阅[https://retracile.net/blog/2014/07/18/18.00](https://retracile.net/blog/2014/07/18/18.00)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-05-06T08:07:01.630

如果您从 Homebrew 安装，请使用：

`brew install macvim --with-features=huge --override-system-vim --HEAD`

# jquery - 使用 jquery 查找壁橱 div（在表的下一列中）

> ID：11323098
> 
> 赞同：0
> 
> 时间：2012-07-04T05:50:51.067
> 
> 标签：jquery, html

使用 jquery 查找壁橱 div（在表的下一列中）

```
 <td><input type="text" name="username" id="username" minlen=5 tabindex=0/></td>
     <td><div></div></td> 
```

我试过了

```
 $("#username").next("div").html("hai"); 
```

哪个不工作

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T05:54:42.037

你应该写：

```
$("#username").closest("td").next().find("div").html("hai"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T05:55:30.503

```
 $("#username")
.parent()//td
.next()// next td
.find('div')//got the div, if you want the first use div:first
.html("hai"); 
```

[小提琴](http://jsfiddle.net/8n9yx/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T05:53:53.490

采用`$("#username").nextAll('div').first().html('hai')`

[http://jsfiddle.net/gmDRM/91/](http://jsfiddle.net/gmDRM/91/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-04T05:59:44.103

我不知道你为什么需要在 td 中添加 div。如果您只想填充同一行的下一列，请使用：

```
$(this).closest('tr').find('td:eq(1)').html("hai"); 
```

如果您需要输入“hai”，则只需更新 html，如下所示

```
$(this).closest('tr').find('td:eq(1)').html("<div>hai</div>"); 
```

# android - 在打包的 android 应用程序中在哪里存储 xml 更新？

> ID：11323103
> 
> 赞同：-1
> 
> 时间：2012-07-04T05:51:22.353
> 
> 标签：android, android-emulator, filesystems

我想我对文件如何存储在实际机器（甚至模拟器）上有点困惑。

在编程时，我可以手动将我的 xml 文件保存在 assets 文件夹中，但是如何编写一个必须连接到网络并下载文件的应用程序，将其保存在某个地方然后对其进行操作？它将在哪里存储所述文件？

我想创建一个新文件，但我在另一篇文章中读到，资产文件夹一旦打包就无法使用；那么它们是在哪里创建和存储的呢？他们怎么能被转移。只是，我是这个平台的新手，文件系统有点混乱。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T05:56:38.760

如果您想使用更新的 XML，您应该考虑将文件从资产复制到设备存储。您可以查看[如何将文件从“资产”文件夹复制到 sdcard？](https://stackoverflow.com/q/4447477/1321873)知道如何做到这一点。

另一种选择是使用数据库，您可以在其中存储来自 XML 的解析数据。这样您就无需在需要访问内容时解析文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:11:20.610

即使我遇到了这个问题。现在我有一个具有应用程序属性的 xml 文件。它被打包在资产文件夹中。打包后，我们无法编辑资产文件夹中的文件。现在在应用程序加载时，我只需将此文件复制到由

```
context.getFilesDir().getAbsolutePath(); 
```

应用程序从同一个地方编辑它。您可以在**DDMS**视图的**FileExplorer**面板中查看文件是否被修改。该文件存储在与您的应用程序包名称相同的文件夹中，例如：com.abhi.maps

 **或者，您也可以将其复制到 SD 卡。但是这是有风险的，因为 sd 卡可能始终可用。

您可以使用以下代码从 assets 文件夹中复制文件：

```
 private static void copyFile(String filename, Context context) {
    AssetManager assetManager = context.getAssets();

    InputStream in = null;
    OutputStream out = null;
    try {
        in = assetManager.open(filename);
        String newFileName = context.getFilesDir() + "/" + filename;
        out = new FileOutputStream(newFileName);

        byte[] buffer = new byte[1024];
        int read;
        while ((read = in.read(buffer)) != -1) {
            out.write(buffer, 0, read);
        }
        in.close();
        in = null;
        out.flush();
        out.close();
        out = null;
    } catch (Exception e) {
        Log.e("tag", e.getMessage());
    }

} 
```

希望能帮助到你！:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T05:59:00.407

您有两个选择：从您的活动中调用 getFilesDir() 以获取只能从您的应用程序读取/写入的内部数据文件夹的路径。

或者，您可以将 xml 文件写入/读取到外部存储（SD 卡）。使用方法 Environment.getExternalStorageDirectory() 获取外部存储的根路径，然后根据需要创建自己的文件夹。

请注意，如果您写入外部存储，手机中的每个应用程序都可以访问它。**

# php - 在 Windows 上使用 php 连接到 sql server 数据库

> ID：11323109
> 
> 赞同：2
> 
> 时间：2012-07-04T05:52:00.090
> 
> 标签：php, sql-server

我在连接到 sql server 2008 数据库时遇到问题。我已经安装了 php 扩展**php_sqlsrv.dll**。我还安装了本机客户端 10.0。我使用的代码是：

```
 <?php /* Specify the server and connection string attributes. */
 $serverName = "(xxx.xx.x.xx)";

 /* Get UID and PWD from application-specific files.  */ $uid = "xxxxxx";
 $pwd = "xxxxx"; $connectionInfo = array( "UID"=>$uid,
                          "PWD"=>$pwd,
                          "Database"=>"xxxxxx");

 /* Connect using SQL Server Authentication. */ $conn = sqlsrv_connect(
 $serverName, $connectionInfo); if( $conn == false ) {
      echo "Unable to connect.</br>";
      die( print_r( sqlsrv_errors(), true)); } else {   echo "success";     }                                                                           sqlsrv_close($conn); ?> 
```

sql server 也有一个身份验证类型：**SQL SERVER AUTHENTICATION**。上面的代码给出了以下错误：

```
Array ( 
        [0] => Array ( 
            [0] => 08001 
            [SQLSTATE] => 08001 
            [1] => 53 
            [code] => 53 
            [2] => [Microsoft][SQL Server Native Client 10.0]Named Pipes Provider: Could not open a connection to SQL Server [53]. 
            [message] => [Microsoft][SQL Server Native Client 10.0]Named Pipes Provider: Could not open a connection to SQL Server [53]. 
        ) 
        [1] => Array ( 
            [0] => HYT00 [SQLSTATE] => HYT00 
            [1] => 0 [code] => 0 
            [2] => [Microsoft][SQL Server Native Client 10.0]Login timeout expired 
            [message] => [Microsoft][SQL Server Native Client 10.0]Login timeout expired 
        ) 
        [2] => Array ( 
            [0] => 08001 [SQLSTATE] => 08001 
            [1] => 53 [code] => 53 
            [2] => [Microsoft][SQL Server Native Client 10.0]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. 
            [message] => [Microsoft][SQL Server Native Client 10.0]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. 
        ) 
    ) 
```

请帮忙

# regex - 正则表达式：[a]bc vs abc

> ID：11323112
> 
> 赞同：1
> 
> 时间：2012-07-04T05:52:08.077
> 
> 标签：regex

我不是正则表达式专家，但我认为我了解了基础知识。我正在阅读使用此语法提到的[教程：](http://www.cyberciti.biz/faq/unix-linux-determine-whether-process-is-running/)

`$ ps -ewwo pid,args | grep [s]sh`

确定 SSHD 是否正在运行。

我不明白为什么第一个 s 在括号中。我会这样想`ssh`并且`[s]sh`会产生相同的结果，但实际上我会得到不同的结果。

```
$ ps -ewwo pid,args | grep [s]sh
 1258 /usr/bin/ssh-agent /usr/bin/dbus-launch --exit-with-session gnome-session --session=ubuntu
 2988 /usr/sbin/sshd -D

$ ps -ewwo pid,args | grep ssh
 1258 /usr/bin/ssh-agent /usr/bin/dbus-launch --exit-with-session gnome-session --session=ubuntu
 2988 /usr/sbin/sshd -D
 3082 grep --color=auto ssh 
```

那么为什么它会在第二个例子中找到第三个结果呢？

谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-04T06:01:12.300

正则表达式`[a]bc`和`abc`匹配完全相同的字符串集，但它们被应用于不同的数据，因为命令行参数`grep`出现在`ps`命令的输出中。

Using`[a]bc`导致文字字符串`"[a]bc"`出现在 ps 的输出中——这与正则表达式不匹配`[a]bc`。

这个想法是避免匹配`grep`命令本身的行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T05:57:28.130

当您`ps`输入`grep`时，您通常会找到正在运行的`grep`进程，因为该术语存在于程序名称中并且很可能会匹配。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-04T06:02:07.520

方括号是一个[字符类](http://www.gnu.org/software/grep/manual/html_node/Character-Classes-and-Bracket-Expressions.html)，但拥有一个字符类且没有指定重复的字符类并没有什么意义。

你得到不同结果的原因是因为`ssh`它自己匹配进程列表中的 grep 参数，但它`[s]sh`不匹配自己。

# image - 如何比较两种颜色的直方图

> ID：11323119
> 
> 赞同：0
> 
> 时间：2012-07-04T05:52:26.700
> 
> 标签：image, compare, histogram, hsv

我使用了一个`map<CString, vector<double>>`结构来存储文件名到其 HSV 颜色直方图的映射。这个映射中有 100 个元素作为图像 DB。如果现在有一个图像，我已经得到了输入图像的直方图，我该怎么做比较？

我知道一种叫做“二次距离”的方法，但我不明白。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:10:55.747

一种简单的方法是使用这样的距离计算器：

```
double dist(vector<double> *histogram1, vector<double> *histogram2) {
    double result = 0.0;
    for (vector<double>::iterator val1=histogram1->begin(), val2=histogram2->begin();
         val1<histogram1->end();
         val1++, val2++) {
        result += (*val1 - *val2) * (*val1 - *val2);
    }
    result = sqrt(result);
    return result;
} 
```

然后确定哪个直方图的距离最小。请注意，这仅用于演示目的，您必须添加矢量大小检查等。

# html - iFrame 透明度

> ID：11323121
> 
> 赞同：1
> 
> 时间：2012-07-04T05:52:39.383
> 
> 标签：html, iframe

如何在 html 页面上放置一个具有黑色背景且略微透明的 iFrame，因此它会使页面变暗。

到目前为止，我有这个，但它不起作用。

```
<iframe id="fade" src="fade.html" frameborder="No" style="FILTER: chroma(color=#000000)" allowtransparency="true">  
    <p>Your browser does not support iframes.</p>
</iframe> 
```

淡出.html

```
<html>
<body style="background:transparent">
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T06:06:45.807

如果您只想在某些元素上放置一个半透明框，请尝试`div`使用 right`z-index`和[`opacity`](http://www.quirksmode.org/css/opacity.html)属性定位 a：

HTML

```
​&lt;p>I sit in the background and get covered up by a box.</p>
<div id="shade"></div>​​​​​​​​​​​​​​​​​​​​​​​​​​​ 
```

CSS

```
​#shade {
    background-color: red;
    opacity: 0.7;
    position: absolute;
    top: 0px;
    left: 5px;
    width: 50px;
    height: 50px;
    z-index: 5;
}
p {
  position: absolute;
  z-index: 1;  
} 
```

[请参阅 jsfiddle 上的示例](http://jsfiddle.net/HjyXM/)。

# mks - 无法运行 MKS 完整性查询

> ID：11323127
> 
> 赞同：1
> 
> 时间：2012-07-04T05:53:02.027
> 
> 标签：mks, mks-integrity

执行 MKS 完整性查询时出现以下错误。

无法显示视图信息：您的查询已停止，因为它使用了过多的系统资源。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T15:24:29.543

您的查询花费的时间可能比 Integrity 服务器分配给查询的时间长。默认情况下，此值为 15 秒。这通常表明您的查询非常广泛，或者需要在数据库中创建索引以帮助提高查询的性能。后者需要数据库管理员的帮助。

免责声明：我受雇于 PTC Integrity Business Unit（以前称为 MKS）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-22T17:57:33.220

您可以检查的一件事是您的查询是否可以有一个非常大的项目列表作为结果。尝试先添加更多限制性过滤器，然后逐步缓解它们。至少这是我的用例:)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2021-02-05T06:13:43.663

尝试尽可能多地使用过滤器，当您使用过滤器时，它会限制不必要的结果。

# iphone - 没有为 UIImagePickerController 调用 viewWillApear

> ID：11323140
> 
> 赞同：0
> 
> 时间：2012-07-04T05:54:11.057
> 
> 标签：iphone, uiviewcontroller, uiimagepickercontroller

我有一个具有`UIImagePickerController`和扩展的类`UIViewController`。但是这个类没有调用**viewWillAppear/viewDidAppear 。**为什么这样？

我希望**viewWillAppear**在那里，这样当我回到这个视图时，我可以做出一些改变。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:19:15.523

回来是指`UIImagePickerController`在选择图像/媒体后回来？如果您想`UIImagePickerController`在视图中显示您选择的图像/媒体，您可以在 UIImagePickercontroller 委托方法中进行更改：

```
- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info 
```

只要您从 imagePicker 中选择任何图像或媒体，就会调用它。您只需要将 imagePicker 的委托设置为要在其中显示图像的类。

# ios - 我无法将 Apple 测试应用程序部署到设备

> ID：11323141
> 
> 赞同：3
> 
> 时间：2012-07-04T05:54:11.090
> 
> 标签：ios, xcode

我通过 xcode 4.2 创建了一个简单的苹果 iphone 应用程序，我是注册的 ios 开发人员。我收到一个错误。所选团队没有符合此功能的计划成员资格。

如果您需要帮助，请联系 Apple 开发者计划支持”，但我已经访问了苹果支持团队，但没有得到任何想法，所以有人告诉这个错误的解决方案。

# ios - ALAssetType 和 UTType 的区别？

> ID：11323145
> 
> 赞同：-1
> 
> 时间：2012-07-04T05:54:29.437
> 
> 标签：ios

这两种类型有什么区别？

你什么时候使用一个与另一个？

有没有办法在两者之间进行翻译？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:07:31.790

他们完全不同。`UTType`基本上是一种描述通用文件类型并赋予系统一些意义的方法，并由 CoreServices 使用。它是完全通用的，可用于对系统的各种资源进行分类。有关`UTType`s 的更多信息，请参阅[UTType 参考](https://developer.apple.com/library/ios/#documentation/MobileCoreServices/Reference/UTTypeRef/Reference/reference.html#//apple_ref/doc/uid/TP40008771)文档的*概述*部分。

`ALAssetType`只是描述您想要从资产库中返回的资产类型的一种方式，并且仅由 iOS 上的 AssetLibraryFramework 使用。它基本上是一个字符串常量，告诉资产库您是要使用静止图像还是视频文件（因为 AssetLibraryFramework 是对设备上用户照片/视频库的编程访问）。与 a 不同`UTType`，此常量不提供有关资产的实际格式或排列的信息（例如，它是 m4v 容器中的 H.264 编码电影，还是 tiff 图像还是 jpg？），你' d 从 a中获取`UTType`，而它只是表示您对电影或图像感兴趣。

# wcf - 客户端配置在 wcf 4.0 中只占用一个端点？

> ID：11323149
> 
> 赞同：0
> 
> 时间：2012-07-04T05:54:54.950
> 
> 标签：wcf, web-services, rest, soap

我使用了两个端点，一个用于肥皂，一个用于休息。我需要将肥皂端点添加为默认端点。我尝试将框架更改为 4.0。只有肥皂端点被添加到客户端它解决了问题，但是会出现任何问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T08:39:03.607

SOAP 和 REST 是两种不同的架构风格

WSDL 是一种 SOAP 构造，不了解 REST 样式端点。您的客户端正在使用 WSDL，因此只能看到 SOAP 端点

在 WCF 端点中是相互独立的，所以不应该有任何问题

# java - 如何在运行时在 Crawler4j 中添加种子？

> ID：11323153
> 
> 赞同：0
> 
> 时间：2012-07-04T05:55:20.707
> 
> 标签：java, runtime, web-crawler, crawler4j

我正在使用 crawler4j，我需要在运行时添加链接。比方说，我添加了一个种子“LinkA”，crawler4j 开始抓取它。在程序运行时，我想再添加一个种子“LinkB”。可以做到吗？如果是，如何？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-16T14:20:50.507

您可以在运行时在 WebCrawler 中轻松添加其他种子。例如，在您的访问方法中添加以下几行：

```
this.myController.addSeed("http://The page you want to crawl"); 
```

# html - 从底部定位图像

> ID：11323159
> 
> 赞同：0
> 
> 时间：2012-07-04T05:56:02.203
> 
> 标签：html, css, image

我有一个应该位于屏幕底部附近的图像。我有一个主图像，它是背景图像，将根据浏览器大小调整大小。无论屏幕大小或调整屏幕大小，我都需要背景图像上方的图像距底部 20-30 像素。（图像也必须居中。）

我不知道该怎么做。做这个的最好方式是什么？

这是我尝试过的代码：

```
.bottom{
  position:absolute;
  margin-left: -355px; /* Image is 710 in width */
  left:50%;
  bottom:-20px;
 } 
```

该代码使图像正确居中在页面上，但距离底部没有 20px。此外，我在图像下方有内容，我希望内容保持在图像下方，但它目前出现在图像上方。

HTML：

```
 <img class="bottom" src="src-path.png" alt="Text" />

 <p style="clear:both;">&nbsp;</p>

 <!-- More Content here that consist of img and p tags. --> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T05:59:52.020

我想将图像从底部定位 20-30 px，您可以使用 css 属性

`margin-bottom:30px;` 或 20px 任何适合您的值。用于在中心对齐使用`vertical-align:middle`请分享更清晰的代码。希望我回答正确。

CSS Together 必须看起来像：-

```
margin-bottom:30px;
vertical-align:middle; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:00:18.020

您最好使用 CSS 文件，在该文件中声明页脚位于页面底部。然后把你的图片放在你的页面中，带有那个 CSS 的类和“页脚”的 id。够清楚吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T16:34:57.937

这是我最终做到这一点的方式：

***CSS：***

```
.image_block    {
  /* Size of image is where the width/height come from */
   width: 710px;
   height: 500px;
}

.image_block a  {
   width: 100%;
   text-align: center;
   position: absolute;
   bottom: 0px;
}

.image_block img    {
   /*Nothing Specified */ 
} 
```

***HTML：***

```
<div class="image_block">
   <a href="#"><img src="src.png" alt="Alt Text" /></a>
</div> 
```

# javascript - JS - 撇号 - 不会被替换

> ID：11323162
> 
> 赞同：0
> 
> 时间：2012-07-04T05:56:27.837
> 
> 标签：javascript, string

我在 JS 中遇到了撇号（“'”）的问题。我正在使用 encodeURIComponent() 对其进行编码，然后将 (') 替换为 (%27) ，如下所示。

var request = encodeURIComponent(requestString).replace("'", "%27");

但是，如果撇号带有括号，则撇号不会被替换。

前任： （”）'”） （”'）”） （”（'”）

即使撇号后面跟着一个数字，它也不会被替换。

有解决方案吗？

提前致谢。

尼鲁士

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T07:17:59.323

[`String.replace`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/replace)方法接受字符串或正则表达式作为其第一个参数。当字符串作为第一个参数传递时，仅替换第一个匹配项：

```
"'''''".replace("'", "%27"); // "%27''''" 
```

您应该使用正则表达式和`g`标志；替换所有匹配项：

```
"'''''".replace(/'/g, "%27"); // "%27%27%27%27%27" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T05:58:52.117

您需要指定`/g`全局修饰符：

```
var request = encodeURIComponent(requestString).replace(/'/g, "%27"); 
```

**例子：**

```
var str = "(''')";
var request = encodeURIComponent(str).replace(/'/g, "%27");
console.log(request); // (%27%27%27) 
```

# ios5 - IOS 5 是否支持外观 API？

> ID：11323166
> 
> 赞同：0
> 
> 时间：2012-07-04T05:56:44.060
> 
> 标签：ios5

我正忙着制作一个定制的表格视图应用程序，想知道它是否可以与 IOS 5 一起使用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:00:12.183

iOS 5 为 UIKit***控件带来了外观 API***

[http://developer.apple.com/library/ios/#releasenotes/General/WhatsNewIniPhoneOS/Articles/iOS5.html](http://developer.apple.com/library/ios/#releasenotes/General/WhatsNewIniPhoneOS/Articles/iOS5.html)

但是对于表格视图？取决于你想要做什么。如果您要将控件放入自定义单元格，那么“也许”。:-) 除了“自动行动画、移动行和部分、多选以及单元格的复制和粘贴行为”之外，UITableView 对象和功能基本保持不变。

# emacs - 在 Emacs 中单独使用制表符进行缩进

> ID：11323167
> 
> 赞同：4
> 
> 时间：2012-07-04T05:56:44.433
> 
> 标签：emacs, ide, indentation

我喜欢 Emacs，但不喜欢它的缩进方式：要么是制表符和空格的无法控制的混合，要么只是空格 ( `(setq indent-tabs-mode nil)`)。

我希望 Emacs 做缩进：

1.  仅使用标签。

2.  缩进到固定数量的位置（有时不是 6 个，有时是 8 个，在其他一些地方是 4 个）。

3.  能够将一级缩进设置为等于 4（或 2）个空格。

4.  如果我更改制表位的值，所有新打开或重新加载的文件都应使用新值（或者此更改是否仅受重新启动 Emacs 影响？）

以上都是可能的吗？或包中的一些设置`.emacs`？

大多数 IDE（例如 Eclipse）都提供上述功能。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-09T20:25:13.403

[智能标签](http://www.emacswiki.org/SmartTabs)会根据上下文插入标签和空格。

就我个人而言，我只将空格用于缩进和对齐（至少对于我自己的项目）。[这](http://www.emacswiki.org/emacs/TabsAreEvil)是 emacswiki 上的另一篇文章，我发现关于该主题非常有用

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-04T08:06:12.467

对于 C/C++/Java，您可以尝试在模式挂钩中添加相同的制表符宽度、缩进级别和 c-basic-offet：

```
(defun my-c-mode-common-hook ()
  (setq c-indent-level 3
    c-brace-offset -3)
  (setq c-basic-offset 3)
  (setq-default tab-width 3)
  (setq tab-width 3))

(add-hook 'c-mode-common-hook 'my-c-mode-common-hook) 
```

这使得当您处于 cc 模式时，制表符和缩进是相等的，因此 emacs 将始终选择制表符而不是空格。另见[缩进 C](http://emacswiki.org/emacs/IndentingC)

`tab-width`可以在其他地方设置，您可以将其与缩进长度变量（如 python 的 python-indent ）一起应用于[其他**模式**](http://www.emacswiki.org/emacs/IndentingPython)。

* * *

编辑：

实际上，看起来 kindahero 的链接几乎是这样做的：[http ://www.emacswiki.org/SmartTabs](http://www.emacswiki.org/SmartTabs)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-07T11:56:43.020

我使用制表符进行缩进。但是当其他人使用不同的编辑器时，他们可以看到缩进消失了。因此，您可以选择使用制表符缩进的代码段并运行“Mx untabify”。这会将选项卡替换为空白，因此使用不同编辑器的用户不会出现第一个问题。

# c# - 多参数转换器

> ID：11323169
> 
> 赞同：44
> 
> 时间：2012-07-04T05:56:48.487
> 
> 标签：c#, silverlight, windows-phone-7, xaml, ivalueconverter

如何在 Windows Phone 7 应用程序中使用具有多个参数的转换器？

* * *

## 回答 #1

> 赞同：72
> 
> 时间：2012-07-04T08:43:44.533

转换器总是实现[IValueConverter](http://msdn.microsoft.com/en-us/library/system.windows.data.ivalueconverter%28v=vs.95%29.aspx)。这意味着对[Convert](http://msdn.microsoft.com/en-us/library/system.windows.data.ivalueconverter.convert%28v=vs.95%29.aspx)或[ConvertBack](http://msdn.microsoft.com/en-us/library/system.windows.data.ivalueconverter.convertback%28v=vs.95%29)的调用会传递一个附加参数。该参数是从 XAML 中提取的。

正如 Hitesh Patel 所建议的，没有什么可以阻止您将多个值放入参数中，只要您有一个分隔符稍后将它们分开，**但您不能使用逗号分隔 XAML！**

例如

## XAML

```
<TextBlock Text="{Binding Path=ReleaseDate, Mode=OneWay,
                        Converter={StaticResource MyConverter}, 
                        ConverterParameter=Param1|Param2}" /> 
```

## 转换器

```
public object Convert(object value, Type targetType, object parameter,
    System.Globalization.CultureInfo culture)
{
    string parameterString = parameter as string;
    if (!string.IsNullOrEmpty(parameterString))
    {
        string[] parameters = parameterString.Split(new char[]{'|'});
        // Now do something with the parameters
    }
} 
```

*注意，我还没有检查它是否有管道“|” 字符在 XAML 中有效（应该是），但如果不选择另一个不冲突的字符。*

更高版本的 .Net 最简单版本不需要字符数组`Split`，因此您可以改用它：

```
string[] parameters = parameterString.Split('|'); 
```

## 附录：

多年前，eBay 在 url 中使用的一个技巧是用 QQ 分隔 URL 中的数据。文本数据中自然不会出现双 Q。如果您遇到一个可以避免编码问题的文本分隔符，请使用 QQ……这不适用于拆分（它需要单个字符，但很高兴知道）:)

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2018-12-28T22:49:06.940

虽然上述答案可能是可行的，但它们似乎过于复杂。只需在 XAML 代码中使用`IMultiValueConverter`适当的 an即可。`MultiBinding`假设您的 ViewModel 具有属性`FirstValue`、`SecondValue`和`ThirdValue`，它们分别是 an `int`、 a`double`和 a `string`，一个有效的多转换器可能如下所示：

## C＃

```
public class MyMultiValueConverter : IMultiValueConverter {
  public object Convert(object[] values, Type targetType, object parameter, System.Globalization.CultureInfo culture) {
    int firstValue = (int)values[0];
    double secondValue = (double)values[1];
    string thirdValue = (string)values[2];

    return "You said " + thirdValue + ", but it's rather " + firstValue * secondValue;
  }

  public object[] ConvertBack(object value, Type[] targetTypes, object parameter, System.Globalization.CultureInfo culture) {
    throw new NotImplementedException("Going back to what you had isn't supported.");
  }
} 
```

## XAML

```
<TextBlock.Text>
  <MultiBinding Converter="{StaticResource myNs:MyMultiValueConverter}">
    <Binding Path="FirstValue" />
    <Binding Path="SecondValue" />
    <Binding Path="ThirdValue" />
  </MultiBinding>
</TextBlock.Text> 
```

由于它既不需要摸索`ProvideValue`所需的方法`MarkupExtension`，也不需要`DependencyObject` *内部*（！）转换器的规范，我相信这是最优雅的解决方案。

* * *

## 回答 #3

> 赞同：24
> 
> 时间：2017-09-18T11:33:20.527

您始终可以从`DependecyObject`类派生并添加任意数量的 `DependencyProperty`对象。例如：

ExampleConverter.cs

```
public class ExampleConverter : DependencyObject, IValueConverter
{
    public string Example
    {
        get => GetValue(ExampleProperty).ToString();
        set => SetValue(ExampleProperty, value);
    }
    public static readonly DependencyProperty ExampleProperty =
        DependencyProperty.Register("Example", typeof(string), typeof(ExampleConverter), new PropertyMetadata(null));

    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
        //Do the convert
    }

    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
    {
        throw new NotImplementedException();
    }
} 
```

然后在 XAML 中：

ExampleView.xaml

```
<ResourceDictionary>
    <converters:ExampleConverter x:Key="ExampleConverter" Example="{Binding YourSecondParam}"/>
</ResourceDictionary>
...
<TextBlock Text="{Binding Path=ReleaseDate, Mode=OneWay,
                    Converter={StaticResource ExampleConverter}, 
                    ConverterParameter={Binding YourFirstParam}}" /> 
```

* * *

## 回答 #4

> 赞同：19
> 
> 时间：2018-12-04T11:58:54.050

这可以使用`System.Windows.Markup.MarkupExtension`( [docs](https://docs.microsoft.com/en-us/dotnet/api/system.windows.markup.markupextension?view=netframework-4.7.2) ) 来完成。

这将允许您将值传递给可用作参数或返回值的转换器，例如：

```
public class CustomNullToVisibilityConverter : MarkupExtension, IValueConverter
{
    public object NullValue { get; set; }
    public object NotNullValue { get; set; }

    public override object ProvideValue(IServiceProvider serviceProvider)
    {
        return this;
    }

    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
        if (value == null) return NullValue;

        return NotNullValue;
    }

    public object ConvertBack(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
    {
        throw new NotImplementedException();
    }
} 
```

用法：

```
...
Visibility="{Binding Property, 
 Converter={cnv:CustomNullToVisibilityConverter NotNullValue=Visible, NullValue=Collapsed}}" 
/>
... 
```

请务必在`.xaml`.

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2020-06-21T15:57:03.890

与 Kyle Olson 的回答类似，您可以像这样使用 Specialized Collection：

XAML 文件：

```
xmlns:specialized="clr-namespace:System.Collections.Specialized;assembly=System"

<local:BoolToMessage x:Key="BoolToMessage"/>

<Label
    >
    <Label.Content>
        <Binding ElementName="mainWin" Path="HasSeedFile"
                FallbackValue="False" Converter="{StaticResource BoolToMessage}"
                Mode="OneWay">
            <Binding.ConverterParameter>
                <specialized:StringCollection>
                    <sys:String>param1</sys:String>
                    <sys:String>param2</sys:String>
                </specialized:StringCollection>
            </Binding.ConverterParameter>
        </Binding>
    </Label.Content>
</Label> 
```

转换器：

```
using System.Collections.Specialized;

[ValueConversion(typeof(bool), typeof(string))]
public class BoolToMessage : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
        string[] p = new string[((StringCollection) parameter).Count];
        ((StringCollection) parameter).CopyTo(p,0);

        return (bool) value ? p[0] : p[1];
    }

    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
    {
        return null;
    }
} 
```

有几种专业集合类型可以满足大多数需求。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2019-10-23T09:38:53.490

Xamarin 的解决方案：

```
public class BoolStateConverter : BindableObject, IValueConverter, IMarkupExtension
{
    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
        var boolValue = (bool)value;
        return boolValue ? EnabledValue : DisabledValue;
    }

    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
    {
        return value;
    }

    public object ProvideValue(IServiceProvider serviceProvider)
    {
        return this;
    }

    public static BindableProperty EnabledValueProperty = BindableHelper.CreateProperty<string>(nameof(EnabledValue));
    public string EnabledValue
    {
        get => (string)GetValue(EnabledValueProperty);
        set => SetValue(EnabledValueProperty, value);
    }

    public static BindableProperty DisabledValueProperty = BindableHelper.CreateProperty<string>(nameof(DisabledValue));
    public string DisabledValue
    {
        get => (string)GetValue(DisabledValueProperty);
        set => SetValue(DisabledValueProperty, value);
    }
} 
```

XAML 消耗：

```
<ContentPage.Resources>
    <ResourceDictionary>
        <converters:BoolStateConverter
            x:Key="BackwardButtonConverter"
            EnabledValue="{x:Static res:Images.IcActiveButton}"
            DisabledValue="{x:Static res:Images.IcInactiveButton}" />
    </ResourceDictionary>
</ContentPage.Resources> 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2019-03-23T16:53:37.460

如果您的输入不适用于字符串，并且您有多个参数（不是绑定）。你可以只传递一个集合。定义需要的任何类型之一以避免数组的一些 UI 编辑器问题：

```
public class BrushCollection : Collection<Brush>
{
} 
```

然后使用集合添加 XAML

```
 <TextBox.Background >
                    <Binding Path="HasInitiativeChanged" Converter="{StaticResource changedToBrushConverter}">
                        <Binding.ConverterParameter>
                            <local:BrushCollection>
                                <SolidColorBrush Color="{DynamicResource ThemeTextBackground}"/>
                                <SolidColorBrush Color="{DynamicResource SecondaryColorBMedium}"/>
                            </local:BrushCollection>
                        </Binding.ConverterParameter>
                    </Binding>

                </TextBox.Background> 
```

然后将结果转换为转换器中适当类型的数组：

```
 public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {

        BrushCollection brushes = (BrushCollection)parameter; 
```

# php - 发布关于 jquery 更改效果的数据

> ID：11323170
> 
> 赞同：0
> 
> 时间：2012-07-04T05:56:52.430
> 
> 标签：php, jquery, codeigniter

我正在将 jquery 与 ci 框架一起使用，我想在更改事件上发布数据。我的代码是

```
$(document).ready(function(){
    $('#txta').live('change',function(){
        var sr=$('#txta').val();
        var qid = $("#txta").attr("qaid");
        // alert(sr+'Q:no'+qid)
        $.get('<?php echo base_url()?>testpapers/responseText()',{},
            function(data){
            $('#res').html(data)
            });             
    });
}); 
```

当我使用此处注释的警报功能时，我得到了值，但是当我将数据传递给 div id="res" 时，我什么也得不到

我的功能是

```
function responseText(){
    echo "working ";
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:09:45.620

您正在使用 get 方法，该方法用于发送数据而不是取回任何数据。为此，您应该使用 ajax 方法或延迟对象。

研究这个对象 jqXHR 对象

[http://api.jquery.com/jQuery.get/](http://api.jquery.com/jQuery.get/)
和ajax
[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T07:17:11.680

我同意 Rab Nawaz 的观点，即这段代码不会向服务器发送任何参数。但是当我看到服务器功能时，我相信您首先尝试测试 jQuery get 方法，然后编写更多代码。

我可以在那里看到一个错误：

在这一行

```
$.get('<?php echo base_url()?>testpapers/responseText()',{}, function(data){ 
```

`()`从中删除`responseText()`，您的代码将起作用。

这`()`会导致 404 错误，并且由于 ajax 调用不成功，您无法取回任何数据。调试此问题的简单方法应该是使用 firebug 查看对服务器的每个请求的响应/错误。

# django - 使用 Django wadofstuff 序列化程序将“T”字符添加到序列化日期

> ID：11323171
> 
> 赞同：1
> 
> 时间：2012-07-04T05:56:56.150
> 
> 标签：django, date, serialization

我最近从 1.1 升级到 Django 1.4。我一直在运行 WadofStuff Django Serializers 1.0.0。升级后，我注意到我的 django 模型中的日期被序列化并插入了一个“T”字符：

```
{"pk": 7, "model": "ao.message", "fields": {"content_file": "bar.wav", "date": "2012-07-04T10:58:46", "summary_file": "foo.wav"}} 
```

那个“T”是怎么回事？可以/应该删除吗？有没有办法将我想要的输出日期格式指定给序列化程序（比如，如果我不希望它以“T”返回）？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:25:16.943

单个时间点可以通过连接来表示：完整的日期表达式、作为分隔符的字母**T和有效的时间表达式。**例如“2007-04-05T14:30”（[维基百科链接](http://en.wikipedia.org/wiki/ISO_8601)）

就python 而言，有关此日期时间格式的**T插入的更多详细信息，您可以访问此链接：“** [Python Datetime Representations](http://www.seehuhn.de/pages/pdate) ”。第一个示例具体说明了您的问题并提出了解决方案。

# android - 如何管理 Android 应用程序的离线试用到期？

> ID：11323179
> 
> 赞同：6
> 
> 时间：2012-07-04T05:57:51.403
> 
> 标签：android, trial, time-trial

我开发了一个应用程序，我想与我的客户分享。我想分享它的试用版，注意以下几点

1.  应用程序应在 30 天后过期（即用户不能从主要活动中移动）
2.  我的应用程序不需要 Internet 连接，因此我不想通过管理可以存储设备 IMEI 的服务器或类似的东西来管理试用到期。
3.  我想限制用户使用应用程序，即使他卸载并稍后重新安装我的应用程序。
4.  我想保护应用程序试用免受用户通常应用的手动日期更改黑客攻击

我计划为我的应用程序维护一个文件，其中保存了第一次运行的时间标记，可以与每次运行的 GPS 时间进行比较，但我在这里面临的问题是文件存储。如果我将文件保存在内部存储器中，它会随着应用程序的卸载而被删除，并且在用户重新安装应用程序时无法使用，如果我将其存储在 SD 卡/外部存储器中，它很容易被用户删除。我已经从任何地方调查了这个问题，但没有成功。你们的任何想法或建议都会是一种解脱。:-)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-02T16:51:24.300

安装该应用程序后将可以访问互联网，否则他们将无法安装它。

只需要求用户在第一次使用该应用程序时通过服务器激活该应用程序。该应用程序从服务器获得“此应用程序首先在 yyyy-mm-dd 激活”响应，并将该信息存储在内部存储中的文件中。从那时起，用户无需在线即可使用该应用程序。

# javascript - 在jquery的自动完成中获取列表项的名称单击

> ID：11323182
> 
> 赞同：0
> 
> 时间：2012-07-04T05:57:59.690
> 
> 标签：javascript, jquery, jquery-ui, jquery-mobile

大家好，

在我的应用程序中，我使用自动完成功能，列表为

```
 <p>
            <input type="text" id="searchField" placeholder="Categories">
            <ul id="suggestions" data-role="listview" data-inset="true"></ul>
        </p> 
```

我有一个数组名称 myArray 并使用自动完成作为：

```
$("#searchField").autocomplete(
                        {
                            target: $('#suggestions'),
                            source: myArray ,
                            link: 'target.html?term=',
                            minLength:0
                        }); 
```

现在我想获取我单击的列表项名称并在 target.html 文件中使用该变量。如何得到它？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:44:28.137

从他们的帮助文档中。

打回来

当使用可选的回调函数时 autoComplete 将只执行在回调中找到的代码。点击事件对象被传递到回调函数中，用于访问包含在选择中的信息。这是一个用例：

```
$("#searchField").autocomplete("update", {
    source: [ "foo", "bar", "baz" ],
    minLength: 3,
    callback: function(e) {
        var $a = $(e.currentTarget); // access the selected item
        $('#searchField').val($a.text()); // place the value of the selection into the search box
        $("#searchField").autocomplete('clear'); // clear the listview
    }
}); 
```

**选项 1** 此部分将允许您访问文本字段

```
$('#searchField').val($a.text()); // or $a.value() 
```

所以在回调事件中做这样的事情

```
window.location.replace("http://stackoverflow.com?target=" + $a.text()); 
```

**选项 2** 似乎他们希望结果集采用这种格式（文本和值），所以如果你需要其他值，你需要求助于 jquery 自动完成（这个组件基于）

```
 $('#some_id').autocomplete({
                source: function (request, response) {
                    $.ajax({
                        url: 'some_url',
                        dataType: "json",
                        data: {
                            filter: request.term
                        },
                        success: function (data) {
                            response($.map(eval(data), function (item) {
                                return {
                                    label: item.Text,
                                    value: item.Value,
                                    extra_value: item.Extra_Value
                                }
                            }));
                        }
                    })
                },
                maxLength: 2,
                select: function (event, ui) {
                    $("#Some_id2").attr('value', ui.item.extra_value);
                }
            }); 
```

**更新又名选项 3** 从他们的演示代码中，如果您只需要文本值，并且不需要 ID（如您的情况），只需更改您的源格式。而不是从服务器返回一个 JSON 结果返回一个字符串数组，或者将 JSON 结果转换为一个字符串数组，你喜欢哪种风格

（来自他们演示页面上的工作示例的代码）

```
var availableTags = ['24', 'about me',... , 'XUIJS'];

    $("#searchField").autocomplete({
        target: $('#suggestions'),
        source: availableTags,
        link: 'target.html?term=',
        minLength: 1,
        matchFromStart: false
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:02:38.360

使用回调。

```
$("#searchField").autocomplete(
                        {
                            target: $('#suggestions'),
                            source: myArray ,
                            link: 'javascript:void();',
                            minLength:0,
                            callback: function(e){

                                var name = $(e.target).attr('name');
           //This function will be called when one of the suggestions is clicked according to documentation
                                window.location = 'target.html?term='  // This line might need some tweaking. 
                            }
                        }); 
```

该代码未经测试，您可能需要逐步调试此代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T09:39:36.020

如果我使用

```
$("#searchField").autocomplete(
                        {
                            icon: 'arrow-l', 
                            target: $('#suggestions'),
                            source: stockArray,
                            link: 'target.html?term=',
                            minLength:0,
                            callback: function(e)
                            {

                                var nameq = $(e.currentTarget); 
                                console.log("^^^^^^^^^^^^^^^^^^^^^"+nameq);
                                //This function will be called when one of the suggestions is clicked according to documentation
                                window.location = 'target.html?term='  
                            }

                        }); 
```

我得到 nameq 的值为

```
^^^^^^^^^^^^^^^^^^^^^[object Object] at file:///android_asset/www/index.html:115 
```

如果我使用

```
$("#searchField").autocomplete(
                        {
                            icon: 'arrow-l', 
                            target: $('#suggestions'),
                            source: stockArray,
                            link: 'target.html?term=',
                            minLength:0,
                            callback: function(e){

                             var nameq = $(e.target).attr('name');

                             console.log("^^^^^^^^^^^^^^^^^^^^^^^^^^"+nameq);
                            //This function will be called when one of the suggestions is clicked according to documentation
                            window.location = 'target.html?term='  // This line might need some tweaking. 
                        } 
```

我得到 nameq 的值为：

```
^^^^^^^^^^^^^^^^^^^^^^^^^^undefined at file:///android_asset/www/index.html:115 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-04T11:38:39.977

```
$("#searchField").autocomplete(
                        {
                            icon: 'arrow-l', 
                            target: $('#suggestions'),
                            source: stockArray,
                            link: 'target.html?term=',
                            minLength:0,
                            callback: function(e)
                            {

                                var $a = $(e.currentTarget); // access the selected item
                                console.log("###################!!###"+$a.text());
                                $('#searchField').val($a.text()); // place the value of the selection into the search box
                                $("#searchField").autocomplete('clear'); // clear the listview
                            }

                        }); 
```

现在使用 $a.text() 我得到选定的项目值。

# java - DAO 需要单独的接口和实现

> ID：11323190
> 
> 赞同：8
> 
> 时间：2012-07-04T05:58:27.117
> 
> 标签：java, spring, mocking, dao

我们有一个典型的 n 层 java 应用程序，我注意到我们的数据访问层具有 FooDAO 和 FooDAOImpl 类型的 DAO。我正在寻找证明两者的必要性，这是我的分析。

1.  如果您对同一个接口有多个实现，那么抽象是有帮助的。但是鉴于我们已经选择了用于 DAOImpl 的框架（比如 iBATIS），它真的需要吗？
2.  帮助通过 Spring 进行代理。据我所知，具有接口的类可以很容易地代理（使用 JdkProxy 路由），而不是没有接口的类（选择 cglib 路由），并且一个类具有要代理的类的子类。子类化有它的问题，即要代理的类是最终的或没有默认构造函数——这两种情况在数据访问层都是极不可能的。性能曾经是一个因素，但据我所知，它不再是一个令人担忧的问题。
3.  帮助嘲讽。具有接口的类更适合被模拟框架模拟。我只听说过这个，但在实践中没有看到 - 所以不能真正指望它，但可能是因为与上面＃2中提到的相同因素。

有了这些观点，我觉得不需要单独的 FooDAO 和 FooDAOImpl 一个简单的 FooDAO 就足够了。随时纠正我提到的任何观点。

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T16:09:05.957

我用 Mockito 尝试了#3，它能够在没有接口的情况下模拟 POJO 就好了。鉴于针对 #1 和 #2 的论点，我倾向于暂时不使用单独的 DAO 和 DAOImpl。随意添加其他比较点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T08:25:59.337

我看到了第四个原因：

*   隐藏实施细节

例如，取决于团队、软件的预期生命周期或未来预期的更改量，即使只有一个实现，也需要尽可能多地隐藏。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T19:08:47.393

我会说拥有一个`FooDAO`具有单个实现的接口`FooDAOImpl`通常是一种反模式。更简单的解决方案（DAO 没有单独的接口）更可取，除非您有充分的理由 - 这里似乎并非如此。

就个人而言，我会更进一步地说，拥有 DAO 根本不是最佳选择。我更喜欢在诸如 Hibernate 或 JPA 之类的 ORM API 之上实现单个持久性外观类。不过，也许 iBATIS 太低级了。

# jsf - 确认后确认对话框没有消失

> ID：11323191
> 
> 赞同：0
> 
> 时间：2012-07-04T05:58:28.207
> 
> 标签：jsf, primefaces

我有一个对话框和两个命令按钮。单击该选项后，对话框并没有消失。下面是代码片段。我正在使用该`confirmation.hide()`选项。

```
<p:confirmDialog
    message="Are you sure about deleting the substudyplan?"
    id="confirmation"
    header="Confirmation Deleting substudyplan" severity="alert"
    appendToBody="TRUE" widgetVar="cd">
        <p:commandButton value="Yes Sure"
                 actionListener="#{editBean.deleteSubStudyPlan(selectedRow)}"  
                 update=":studyPlanEditForm"
             oncomplete="confirmation.hide()" />
        <p:commandButton value="Not Yet" onclick="confirmation.hide();"
        type="button" />
</p:confirmDialog> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:28:31.903

你的`widgetVar`是*cd*

所以当你尝试使用它时，你应该用它的名字来访问它

所以，`confirmation.hide()`改为`cd.hide()`

或者，`widgetVar`从*cd*重命名为*Confirmation*

此外，通过查看[表单内的 ConfirmDialog 不会以 update @form 关闭](http://forum.primefaces.org/viewtopic.php?f=3&t=17546)，您可能希望将范围缩小`update=":studyPlanEditForm"`到`update=":someOtherWrapperInsideForm"`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T12:48:14.013

尝试`onclick`代替`oncomplete`. 根据我的经验`onsuccess`，`onerror`并不`oncomplete`总是按预期工作。

# javascript - Firebug 不会在更改的 JavaScript 上刷新缓存

> ID：11323193
> 
> 赞同：12
> 
> 时间：2012-07-04T05:58:32.440
> 
> 标签：javascript, debugging, firebug

在 Firebug的脚本部分下调试 JavaScript 代码时，[Firebug 不会刷新更改的 JavaScript 的缓存。](http://code.google.com/p/fbug/issues/detail?id=1419)它仍在显示和执行我在 1 到 2 小时前编写的旧 JavaScript 代码。

火狐版本是 13.0.1。
萤火虫 1.9.2。

有人可以建议我如何克服这个问题吗？或者无论如何清除 Firebug 下的 JavaScript 缓存？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-04T06:28:11.663

当我遇到这个问题时，我通常会重新启动 Firefox（关闭，再次打开），但使用清除缓存`ctrl+F5`也有效。

# java - 对于相对较大的矩阵，Jama 和 Commons Math 没有给出想要的结果

> ID：11323195
> 
> 赞同：1
> 
> 时间：2012-07-04T05:58:42.863
> 
> 标签：java, matrix, linear-algebra, jama, apache-commons-math

我正在使用 Jama 和 Apache Commons Math 来求解线性代数方程。当矩阵很小（4x4）时，它们都可以正常工作。但当它相对较大（25x25）时则不然。以下是我的实现：

贾马：

```
 public double[][] solve(double[][] startState, double[][] input){
    double[][] answer = new double[1][input.length-1];
    Matrix A = new Matrix(input);
    Matrix B = new Matrix(startState);
    Matrix X = A.solve(B);
    answer = X.getArray();
    return answer;
} 
```

这适用于：

```
 double[][] startState = {{1},{2},{1},{2}};
    double[][] input = {{1,1,0,0},{1,1,1,0},{0,1,1,1,},{0,0,1,1}};
    double[][] answer = new JamaSolution().solve(startState, input); 
```

但它失败了：

```
 double[][] startState = { {0},{1},{2},{0},{2}, {0},{2},{1},{1},{0}, {0},{2},{1},{2},{2}, {1},{1},{1},{1},{2}, {1},{2},{1},{0},{0} };
    double[][] input={
             {1,1,0,0,0, 1,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0} ,
             {1,1,1,0,0, 0,1,0,0,0, 0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0} ,
             {0,1,1,1,0, 0,0,1,0,0, 0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0} ,
             {0,0,1,1,1, 0,0,0,1,0, 0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0} ,
             {0,0,0,1,1, 0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0} ,

             {1,0,0,0,0, 1,1,0,0,0, 1,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0} ,
             {0,1,0,0,0, 1,1,1,0,0, 0,1,0,0,0, 0,0,0,0,0, 0,0,0,0,0} ,
             {0,0,1,0,0, 0,1,1,1,0, 0,0,1,0,0, 0,0,0,0,0, 0,0,0,0,0} ,
             {0,0,0,1,0, 0,0,1,1,1, 0,0,0,1,0, 0,0,0,0,0, 0,0,0,0,0} ,
             {0,0,0,0,0, 0,0,0,1,1, 0,0,0,0,1, 0,0,0,0,0, 0,0,0,0,0} ,

             {0,0,0,0,0, 1,0,0,0,0, 1,1,0,0,0, 1,0,0,0,0, 0,0,0,0,0} ,
             {0,0,0,0,0, 0,1,0,0,0, 1,1,1,0,0, 0,1,0,0,0, 0,0,0,0,0} ,
             {0,0,0,0,0, 0,0,1,0,0, 0,1,1,1,0, 0,0,1,0,0, 0,0,0,0,0} ,
             {0,0,0,0,0, 0,0,0,1,0, 0,0,1,1,1, 0,0,0,1,0, 0,0,0,0,0} ,
             {0,0,0,0,0, 0,0,0,0,1, 0,0,0,1,1, 0,0,0,0,1, 0,0,0,0,0} ,

             {0,0,0,0,0, 0,0,0,0,0, 1,0,0,0,0, 1,1,0,0,0, 1,0,0,0,0} ,
             {0,0,0,0,0, 0,0,0,0,0, 0,1,0,0,0, 1,1,1,0,0, 0,0,0,0,0} ,
             {0,0,0,0,0, 0,0,0,0,0, 0,0,1,0,0, 0,1,1,1,0, 0,0,1,0,0} ,
             {0,0,0,0,0, 0,0,0,0,0, 0,0,0,1,0, 0,0,1,1,1, 0,0,0,1,0} ,
             {0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,1, 0,0,0,1,1, 0,0,0,0,1} ,

             {0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0, 1,0,0,0,0, 1,1,0,0,0} ,
             {0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0, 1,1,1,0,0} ,
             {0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0, 0,0,1,0,0, 0,1,1,1,0} ,
             {0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0, 0,0,0,1,0, 0,0,1,1,0} ,
             {0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,1, 0,0,0,0,1} ,

    }; 
```

公共数学：

```
 public void solve(double[] startState, double[][] input){
        RealMatrix coefficients = new Array2DRowRealMatrix(input, false);
        DecompositionSolver solver = new LUDecomposition(coefficients).getSolver();
        RealVector constants = new ArrayRealVector(startState, false);
        RealVector solution = solver.solve(constants);
    } 
```

这适用于：

```
 double[] startState = {1,2,1,2};
    double[][] input = {{1,1,0,0},{1,1,1,0},{0,1,1,1,},{0,0,1,1}}; 
```

但失败：

```
 double[] startState = { 0,1,2,0,2, 0,2,1,1,0, 0,2,1,2,2, 1,1,1,1,2, 1,2,1,0,0 };
    double[][] input={
             {1,1,0,0,0, 1,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0} ,
             {1,1,1,0,0, 0,1,0,0,0, 0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0} ,
             {0,1,1,1,0, 0,0,1,0,0, 0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0} ,
             {0,0,1,1,1, 0,0,0,1,0, 0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0} ,
             {0,0,0,1,1, 0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0} ,

             {1,0,0,0,0, 1,1,0,0,0, 1,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0} ,
             {0,1,0,0,0, 1,1,1,0,0, 0,1,0,0,0, 0,0,0,0,0, 0,0,0,0,0} ,
             {0,0,1,0,0, 0,1,1,1,0, 0,0,1,0,0, 0,0,0,0,0, 0,0,0,0,0} ,
             {0,0,0,1,0, 0,0,1,1,1, 0,0,0,1,0, 0,0,0,0,0, 0,0,0,0,0} ,
             {0,0,0,0,0, 0,0,0,1,1, 0,0,0,0,1, 0,0,0,0,0, 0,0,0,0,0} ,

             {0,0,0,0,0, 1,0,0,0,0, 1,1,0,0,0, 1,0,0,0,0, 0,0,0,0,0} ,
             {0,0,0,0,0, 0,1,0,0,0, 1,1,1,0,0, 0,1,0,0,0, 0,0,0,0,0} ,
             {0,0,0,0,0, 0,0,1,0,0, 0,1,1,1,0, 0,0,1,0,0, 0,0,0,0,0} ,
             {0,0,0,0,0, 0,0,0,1,0, 0,0,1,1,1, 0,0,0,1,0, 0,0,0,0,0} ,
             {0,0,0,0,0, 0,0,0,0,1, 0,0,0,1,1, 0,0,0,0,1, 0,0,0,0,0} ,

             {0,0,0,0,0, 0,0,0,0,0, 1,0,0,0,0, 1,1,0,0,0, 1,0,0,0,0} ,
             {0,0,0,0,0, 0,0,0,0,0, 0,1,0,0,0, 1,1,1,0,0, 0,0,0,0,0} ,
             {0,0,0,0,0, 0,0,0,0,0, 0,0,1,0,0, 0,1,1,1,0, 0,0,1,0,0} ,
             {0,0,0,0,0, 0,0,0,0,0, 0,0,0,1,0, 0,0,1,1,1, 0,0,0,1,0} ,
             {0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,1, 0,0,0,1,1, 0,0,0,0,1} ,

             {0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0, 1,0,0,0,0, 1,1,0,0,0} ,
             {0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0, 1,1,1,0,0} ,
             {0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0, 0,0,1,0,0, 0,1,1,1,0} ,
             {0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0, 0,0,0,1,0, 0,0,1,1,0} ,
             {0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,0, 0,0,0,0,1, 0,0,0,0,1} ,

    }; 
```

我所说的“失败”的意思是，我知道至少有一个可用的解决方案具有所有整数值，但我的实现给了我小数值。

# sql-server - 基于带有连接问题的选择查询插入

> ID：11323197
> 
> 赞同：0
> 
> 时间：2012-07-04T05:58:54.347
> 
> 标签：sql-server, sql-server-2008

基于具有 3 条记录的名为 TableCodes 的其他表

```
Code
1508
1509
1510 
```

我从我的查询 ia temporal table 中得到了这个结果....

```
CapacityDate    InstallerCode   WorkAreadID FoxtelCodeID    value 
2/8/12          BAW                  7          1508                  3 
3/8/12          BAW                  7          1508                  1
4/8/12          BAW                  7          1509                  1 
```

我需要在同一个表中插入基于值 = 0 的 TableCodes 缺失的其他记录

我要这个

```
CapacityDate    InstallerCode   WorkAreadID FoxtelCodeID    value 
2/8/12          BAW                  7          1508                  3 
2/8/12          BAW                  7          1509                  0 
2/8/12          BAW                  7          1510                  0 
3/8/12          BAW                  7          1508                  1
3/8/12          BAW                  7          1509                  0
3/8/12          BAW                  7          1510                  0
4/8/12          BAW                  7          1508                  1
4/8/12          BAW                  7          1509                  0
4/8/12          BAW                  7          1510                  0 
```

我正在使用以下代码

```
Insert into #TmpAdjustmentTable (
    CapacityDate, InstallerID, InstallerCode, InstallerName,
    bThisIsAnAdjustment, sStatusOfCapacity, WorkAreadID, WORKAREA,
    CapacityState, FoxtelCodeID, SINTERNALLABELFORCAPACITY,
    SLABELFORCAPACITY, CapacityUnits, Capacity, MaxJobs, CommentsForDay
)
select
     ta.CapacityDate, ta.InstallerID, ta.InstallerCode, ta.InstallerName,
     1, ta.sStatusOfCapacity, ta.WorkAreadID, ta.WORKAREA,
     ta.CapacityState, FoxtelCodes.SYSID, FoxtelCodes.SINTERNALSHORTLABELFORCAPACITY,
     FoxtelCodes.SLABELFORCAPACITY, 0, 0, 0, ta.CommentsForDay
from #TmpAdjustmentTable ta
inner JOIN FoxtelCodes
On FoxtelCodes.SYSID <>  ta.FoxtelCodeID 
and FoxtelCodes.BCOLLECTTHISFORCAPACITY = 1 
```

但我得到了...

```
CapacityDate    InstallerCode   WorkAreadID FoxtelCodeID    value 
2/8/12          BAW                  7          1508                  3 
2/8/12          BAW                  7          1509                  0 
2/8/12          BAW                  7          1510                  0 
3/8/12          BAW                  7          1508                  1
3/8/12          BAW                  7          1508                  0
3/8/12          BAW                  7          1509                  0
3/8/12          BAW                  7          1509                  0
3/8/12          BAW                  7          1510                  0
3/8/12          BAW                  7          1510                  0
4/8/12          BAW                  7          1508                  1
4/8/12          BAW                  7          1508                  0
4/8/12          BAW                  7          1509                  0
4/8/12          BAW                  7          1509                 0
4/8/12          BAW                  7          1510                  0
4/8/12          BAW                  7          1510                  0 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T12:26:38.540

您好，检查下面的查询以获得请求格式的输出。

--在这里，我尝试在不使用 while 循环的情况下获取输出，但我无法成功。我将尝试理解这个意思，而您可以检查它并希望它有用。

```
Declare @min int,@max int
SELECT @min=MIN(idn),@max=MAX(idn) from Results
SELECT @min,@max
Declare @tbl_out table (CapacityDate datetime,InstallerCode varchar(100),WorkAreadID int,FoxtelCodeID int,value int)
While(@min<=@max)
begin
;With CTE(CapacityDate,InstallerCode,WorkAreadID,FoxtelCodeID,value) AS
(SELECT CapacityDate,InstallerCode,WorkAreadID,FoxtelCodeID,value from Results where idn = @min)

,CTE1(code,value) AS
(SELECT C.code,isnull(T.Value,0) FROM Codes C LEFT OUTER JOIN CTE T on C.code=T.FoxtelCodeID)
insert into @tbl_out
select r.CapacityDate,r.InstallerCode,r.WorkAreadID,c.code,c.value from CTE1 c,CTE r
SET @min+=1
End
select * from @tbl_out
select * from Results 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T13:03:34.673

嘿这是最新的没有while循环的

```
Select CapacityDate,InstallerCode,WorkAreadID,code,0 value from Results join Codes
on FoxtelCodeID<>code
union all
Select CapacityDate,InstallerCode,WorkAreadID,FoxtelCodeID,value from Results 
order by CapacityDate, value desc 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T16:01:27.363

获取已在临时表中的 , 的所有不同组合，将它们与 中的代码交叉连接，然后`CapacityDate`过滤掉临时表已经与相同日期和代码匹配的行。在 SQL 中，它可能看起来像这样：`InstallerCode``WorkAreadID``TableCodes`

```
INSERT INTO #Table (
  CapacityDate,
  InstallerCode,
  WorkAreadID,
  FoxtelCodeID,
  value
)
SELECT
  d.CapacityDate,
  d.InstallerCode,
  d.WorkAreadID,
  c.Code,
  0
FROM (
  SELECT DISTINCT
    CapacityDate,
    InstallerCode,
    WorkAreadID
  FROM #Table
) d
CROSS JOIN TableCodes c
LEFT JOIN #Table t ON d.CapacityDate = t.CapacityDate AND c.Code = t.FoxtelCodeID
WHERE t.FoxtelCodeID IS NULL 
```

# html - 内容可编辑 div 中的 HTML

> ID：11323203
> 
> 赞同：6
> 
> 时间：2012-07-04T05:59:06.583
> 
> 标签：html, contenteditable

我有一个`contentEditable`div，我需要在其中允许用户编辑 HTML。

我是否需要清理用户在该 div 中编写的 HTML？

我的意思是当我从那个 div 中检索 HTML 时，它已经被清理过了。例如，如果我`<>`在 div 中写了类似的内容，然后将其取回，我会得到`&lt;&gt;`.

在这里测试它：http: [//jsfiddle.net/mByWT/](http://jsfiddle.net/mByWT/)

我的另一个问题是：这种行为是一种标准，我可以在所有浏览器中依赖它吗？

**编辑**

我现在可以得出结论，这是一个普遍的模式：

*   `element.innerHTML`返回转义的 HTML - 它转义`<`, `>`amd`&`但不是引号
*   `element.innerText`并`element.textContent`返回文字 HTML 而不转义

看到这个：http: [//jsfiddle.net/2CmjG/](http://jsfiddle.net/2CmjG/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-04T07:56:30.447

我认为您自己回答了:)。contenteditable div 返回编码 HTML 的事实`innerHTML`是一种通用模式。否则输入`<`or `>`or or or or `&nbsp;`or other HTML special entities会破坏这个编辑器。

但是，我很确定在某些极端情况下，浏览器会产生不同的结果，并且在例如 IE 上创建的数据在 Fx 上无效。但我从未观察到任何批评。您也将无法对 给出的数据进行编码`innerHTML`，因为那将非常棘手。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T06:04:12.687

jQuery 被构建为与所有浏览器兼容，如果您在所有浏览器中使用您的代码，它将以相同的方式执行。

但是，您可能希望清理您的 HTML，因为字符喜欢`<`并且`>`可能会混淆 javascript。如果要访问数据库或类似的东西，您甚至想进一步清理 HTML。

# android - 我无法在 android 4.1 Api 中找到 btn_default_pressed

> ID：11323204
> 
> 赞同：1
> 
> 时间：2012-07-04T05:59:08.627
> 
> 标签：android

我无法在 android 4.1 Api 中找到 btn_default_pressed。谁能告诉我它在android API中的位置。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:09:42.253

您可以在 Android SdK-->platforms-->android-16-->data-->res-->drawable-mdpi--> btn_default_pressed.9 的路径下找到它

![在此处输入图像描述](../Images/798528948891b0a6bef6943d7d447c24.png)

# android - Listview中的Asynctask多次下载失败

> ID：11323206
> 
> 赞同：2
> 
> 时间：2012-07-04T05:59:22.393
> 
> 标签：android, listview, android-asynctask, handler

我正在下载 mp3 文件（使用 asynctask）并更新 Listview 中的进度，其中包含进度条和 textview（显示下载了多少 %）。它运行正常，直到 2% 到 3%，但随后因此异常而崩溃。

这是代码：

```
 @Override
                    protected void onProgressUpdate(Integer... values) {
                        super.onProgressUpdate(values);
                        Log.v("Progress ", Integer.toString(values[0]));
                        pbar.setProgress(values[0]);
                        tmin.setText(Integer.toString(values[0]) + "%");

                    } 
```

这是错误：

```
 07-04 05:50:38.990: E/AndroidRuntime(1587): FATAL EXCEPTION: main
                07-04 05:50:38.990: E/AndroidRuntime(1587): java.util.concurrent.RejectedExecutionException: Task android.os.AsyncTask$3@40928f80 rejected from java.util.concurrent.ThreadPoolExecutor@40b93700[Running, pool size = 128, active threads = 128, queued tasks = 10, completed tasks = 1]
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:1972)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:787)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1308)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.os.AsyncTask.executeOnExecutor(AsyncTask.java:552)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.os.AsyncTask.execute(AsyncTask.java:499)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at MusicDownloader.com.MusicDownloader$CustomAdapter.getView(MusicDownloader.java:209)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.widget.AbsListView.obtainView(AbsListView.java:1949)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.widget.ListView.measureHeightOfChildren(ListView.java:1228)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.widget.ListView.onMeasure(ListView.java:1139)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.view.View.measure(View.java:10835)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4351)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1284)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.widget.LinearLayout.measureHorizontal(LinearLayout.java:956)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.widget.LinearLayout.onMeasure(LinearLayout.java:521)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.view.View.measure(View.java:10835)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4351)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.widget.FrameLayout.onMeasure(FrameLayout.java:267)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.view.View.measure(View.java:10835)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4351)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1284)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.widget.LinearLayout.measureVertical(LinearLayout.java:613)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.widget.LinearLayout.onMeasure(LinearLayout.java:519)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.view.View.measure(View.java:10835)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4351)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.widget.FrameLayout.onMeasure(FrameLayout.java:267)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.view.View.measure(View.java:10835)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4351)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1284)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.widget.LinearLayout.measureVertical(LinearLayout.java:613)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.widget.LinearLayout.onMeasure(LinearLayout.java:519)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.view.View.measure(View.java:10835)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4351)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.widget.FrameLayout.onMeasure(FrameLayout.java:267)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:1889)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.view.View.measure(View.java:10835)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.view.ViewRoot.performTraversals(ViewRoot.java:944)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.view.ViewRoot.handleMessage(ViewRoot.java:2046)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.os.Handler.dispatchMessage(Handler.java:99)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.os.Looper.loop(Looper.java:132)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at android.app.ActivityThread.main(ActivityThread.java:4123)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at java.lang.reflect.Method.invokeNative(Native Method)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at java.lang.reflect.Method.invoke(Method.java:491)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599)
                07-04 05:50:38.990: E/AndroidRuntime(1587):     at dalvik.system.NativeStart.main(Native Method) 
```

这是获取视图

```
 public View getView(final int position, View convertView, ViewGroup parent) {         

                LayoutInflater inflater = getLayoutInflater();
                View row = inflater.inflate(R.layout.row, parent, false);

                ProgressBar pb = (ProgressBar)row.findViewById(R.id.progressbar_Horizontal);                    
                TextView t1 = (TextView)row.findViewById(R.id.minsize);
                TextView t2 = (TextView)row.findViewById(R.id.filesize);
                t2.setTypeface(tf);
                t1.setTypeface(tf);

                ImageView btn = (ImageView)row.findViewById(R.id.cancelbtn);

                BackgroundAsyncTask bat = new BackgroundAsyncTask(downloadpool.get(position), pb, t1, t2);
                if(bat.getStatus() == AsyncTask.Status.PENDING){
                    // My AsyncTask has not started yet
                    bat.execute();
                }                   
                if(bat.getStatus() == AsyncTask.Status.RUNNING){
                    // My AsyncTask is currently doing work in doInBackground()
                }                   
                if(bat.getStatus() == AsyncTask.Status.FINISHED){
                    // My AsyncTask is done and onPostExecute was called
                }

                btn.setOnClickListener(new OnClickListener() {
                    public void onClick(View arg0) { 
                        Log.e("app", "cancelled...");
                        //bat.cancel(true);
                    }
                 });

                return row;
        } 
```

# mysql - 如何使用 RIDE 连接到 MySQL

> ID：11323209
> 
> 赞同：1
> 
> 时间：2012-07-04T05:59:31.270
> 
> 标签：mysql, robotframework

使用 RIDE，我想连接到 MySQL 数据库。

我已经下载了[DatabaseLibrary](https://franz-see.github.io/Robotframework-Database-Library/api/0.5/DatabaseLibrary.html)和 MySQL。我需要从 MySQL 执行查询以进行验证。

如何使用 RIDE 连接到 MySQL？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T09:36:14.680

这是在 localhost 上使用 MySQL 数据库的简化 RF 测试设置：

```
*** Settings ***
library             DatabaseLibrary
library             pymysql
Suite Setup         Connect To Database    @{database}

*** Variables ***
@{database}     pymysql     dbname    user    password    localhost  3306 
```

# java - JSF：如果转换失败则调用方法

> ID：11323225
> 
> 赞同：1
> 
> 时间：2012-07-04T06:00:35.280
> 
> 标签：java, jsf, facelets

在 JSF 中，如果任何输入字段的转换失败，我如何调用方法？我想我可以编写自己的转换器并在那里做所有的事情，但是没有更简单的方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T09:05:48.897

您可以使用`PreRenderViewEvent`侦听器，并在该方法中检查验证是否失败。每次在呈现视图之前都会调用此侦听器方法。

例如

考虑以下 Facelet：

```
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
>
    <h:body>

        <h:messages/>

        <f:event listener="#{onErrorBean.onPreRenderView}" type="preRenderView" />

        <h:form>
            <h:inputText value="#{onErrorBean.test}" label="test" required="true" />

            <h:commandButton value="Submit" action="#{onErrorBean.onSuccess}" />
        </h:form>

    </h:body>
</html> 
```

以及以下支持 bean：

```
@ViewScoped
@ManagedBean
public class OnErrorBean {

    private String test;

    public void onPreRenderView() {
        if (FacesContext.getCurrentInstance().isValidationFailed()) {
            onError();
        }
    }

    public void onSuccess() {
        System.out.println("Success!");
    }

    public void onError() {
        System.out.println("Error!");
    }

    public String getTest() {
        return test;
    }

    public void setTest(String test) {
        this.test = test;
    }

} 
```

如果您在未输入值的情况下按下按钮，您将看到“错误！” 在您的控制台中打印，输入一个值，您将看到“成功！”。

# spring - 用于 Spring MVC 的 jQuery-Ajax 自动完成没有响应

> ID：11323226
> 
> 赞同：1
> 
> 时间：2012-07-04T06:00:37.297
> 
> 标签：spring, jquery, spring-mvc, jquery-autocomplete

我正在尝试在我的 Spring MVC 应用程序中借助 ajax 使用自动完成功能。我已经提到了[这个](http://www.spinachsoftware.com/blog/?p=160)。但其中存在一些问题。请指导我..

我的剧本就像..

```
 <script>

$(function() {
    $( "#bName" ).autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "getBatchNames.jav",
                dataType: "json",
                data: {
                        term: request.term
                      },
                success: function( data ) {                 
                    response( $.map( data.batchNameList, function( item ) {
                        return {
                            label: item.pinMasterBatchName,
                            value: item.pinMasterBatchName
                        };
                    }));
                }
            });
        },
        minLength: 1,
        open: function() {
            $( this ).removeClass( "ui-corner-all" ).addClass( "ui-corner-top" );
        },
        close: function() {
            $( this ).removeClass( "ui-corner-top" ).addClass( "ui-corner-all" );
        }
    });
});

</script>
....
<tr>
                            <td width="95%">
                            <div class="ui-widget">
                                <label style="width:35%;">Batch Name</label>
                                <form:input path="pinMasterBatchName" id="bName" class="txtBox"/>
                               </div>
                                </td>
                            </tr> 
```

调用将转到控制器并返回 Map>.. 我将描述我所做的..

在控制器类

```
@RequestMapping(value="/getBatchNames.jav", method = RequestMethod.GET)
    @ResponseBody
    public Map<String, List<PinMasterData>> getZipcodes()
    {

        System.out.println("helloooo");
        List<PinMasterData> batchNameList = pinService.ListBatchesUnderClient(45);
        Map<String, List<PinMasterData>> pinMap = new HashMap<String, List<PinMasterData>>();
        pinMap.put("batchNameList", batchNameList);
        return pinMap;
    } 
```

在我的模型课中，课堂就像

```
public class PinMasterData 
{

    @Id
    @GeneratedValue
    @Column ( name = "Id" )
    private Integer Id;

    @Column ( name = "BatchName" )
    private String pinMasterBatchName;

    @Column ( name = "Prefix" )
    private String Prefix; 
```

实际上，该调用将发送到控制器并返回列表。但在那之后，jsp 页面没有显示文本字段下方的列表。问题是什么？请指导我..提前谢谢

编辑..

```
success: function( data ) {
                    response( $.map( data.batchNameList, function( item ) {
                        return {
                            label: item.pinMasterBatchName,
                            value: item.pinMasterBatchName
                        };
                    }));
                            alert("hai");
                }
            }); 
```

我试过这个（检查是否回调ajax）。但它也没有显示那个警报框..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:09:31.400

控件是否达到成功回调？您可以验证是否放置如下调试器语句。

```
success: function( data ) {                 
        response( $.map( data.batchNameList, function( item ) {
            return {
                label: item.pinMasterBatchName,
                value: item.pinMasterBatchName
}; 
```

很可能不是。尝试使用完整的回调。这样，您将知道正在返回什么状态。如果存在 json 解析错误，jQuery 不会认为 ajax 调用成功。

[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

寻找`complete(jqXHR, textStatus)`

**编辑**

用这个代替成功。如果您对 spring 的调用已返回，则执行应该在调试器处停止。如果它没有返回，我会查看服务器日志并查看呼叫响应是否由于某种原因而失败。如果它确实返回，那么我会查看数据对象，它应该包含响应的状态（注意；我不记得确切的键名。）。查看响应文本并复制 responseText 并将其放入[http://www.jsonlint.com](http://www.jsonlint.com)并查看它是一个有效的 json。（希望您熟悉 firebug 以在 firefox 中进行调试）。

```
complete: function( jqXHR, textStatus ) {                 
        debugger;
        response( $.map( data.batchNameList, function( item ) {
            return {
                label: item.pinMasterBatchName,
                value: item.pinMasterBatchName
}; 
```

# android - 画廊在 Android 中显示阴影

> ID：11323227
> 
> 赞同：1
> 
> 时间：2012-07-04T06:00:44.830
> 
> 标签：android

我正在用 android.but 中的画廊控制开发项目在画廊控制中。我想在画廊控制中删除阴影。

我在屏幕截图下方得到输出：

![在此处输入图像描述](../Images/ff5d47d05bae2693904e8bcd843327b2.png) 一世

我滚动到屏幕截图下方的下一个图像输出：

![在此处输入图像描述](../Images/275b203e0723208d789a17a4d4085c55.png)

这是我的xml代码：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@android:color/black"
    android:id="@+id/lay_linear"
    android:orientation="vertical" >

    <Gallery
        android:id="@+id/gallery"
        android:layout_width="fill_parent"
        android:layout_height="430dp"
        android:layout_weight="2.50" />

</LinearLayout> 
```

我想删除画廊控制上的阴影。可以帮助我的任何人都非常感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:25:30.347

试试下面的代码来删除未选中的影子：

```
galleryview.setUnselectedAlpha(1); 
```

欢迎！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:12:27.270

采用`android:cacheColorHint="#00000000"`

# sql - 如何从数据库中获取唯一和空条目？

> ID：11323231
> 
> 赞同：0
> 
> 时间：2012-07-04T06:01:14.860
> 
> 标签：sql

我有一个包含 3 列的表：`label_value, language_value, language`. 它是标签表，标签在哪里`label_value = "name"`，language_value - 标签的翻译，语言 - 正在使用的语言的 id。所以，我需要为英语（语言 = 45）和我的语言（语言 = 24）提取`label_value`, 。请注意，并非所有英文标签都翻译成我的语言，但我需要提取所有英文标签，如果标签没有翻译成我的英语，那么它必须返回这个标签，并为我的语言返回 NULL。所以，我做了以下代码：`language_value``language_value``language_value`

```
SELECT e.label_value, e.language_value
FROM labels e, labels t
WHERE e.label_value=t.label_value AND e.language=45 AND t.language=24 
```

我知道这不是完整和正确的查询，因为它没有返回不是所有的英文标签，而是返回了一些标签 2 次。请编辑它。谢谢你。

更新：

我还需要对语言环境的查询满足条件：t.approved='1' 或 t.user_id=123。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:06:58.853

您可以使用 a`left join`来查找可选的本地语言行：

```
select  eng.label_value
,       coalesce(loc.language_value, eng.language_value)
from    labels eng
left join    
        labels loc
on      loc.language = 24
        and eng.label_value = loc.label_value
        and (loc.approved = '1' or loc.user_id = 123)
where   eng.language = 45             
        and (eng.approved = '1' or eng.user_id = 123) 
```

# javascript - JSON数据分配无效

> ID：11323232
> 
> 赞同：-2
> 
> 时间：2012-07-04T06:01:16.453
> 
> 标签：javascript, json

```
var datas = [{ "_id" : { "$oid" : "4feeaa97cb675ea1a62cf64a"} , "Amount" : 35.0 , "Category_ID" : "Vegetables"}, { "_id" : { "$oid" : "4feeaaafcb675ea1a62cf64b"} , "Amount" : 55.0 , "Category_ID" : "Vegetables"}]; // these data are from database... 
```

我想将其分配为，

```
var obj = {"row": datas}; 
```

但是当我使用like时它不起作用，

```
 var data = new google.visualization.DataTable();         
 data.addColumn('string','Category_ID');
 data.addColumn('number','Amount'); 
 data.addRows([
                   [obj.row[0].Category_ID, obj.row[0].Amount],
               [obj.row[1].Category_ID, obj.row[1].Amount],
               [obj.row[2].Category_ID, obj.row[2].Amount]
             ]); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:16:26.933

这应该有效：

```
 var data = new google.visualization.DataTable();         
 data.addColumn('string','Category_ID');
 data.addColumn('number','Amount'); 
 data.addRows([
                   [obj.row[0].Category_ID, obj.row[0].Amount],
               [obj.row[1].Category_ID, obj.row[1].Amount]
]); 
```

这是因为您的数据数组只有 2 个元素，但您正试图访问三个。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-04T08:29:47.770

如果你不知道你有多少行，你可以这样做：

```
data.addRows(obj.row.map(function(el) {
  return [el.Category_ID, el.Amount];
})); 
```

# jquery-mobile - 如何在 jQuery Mobile 中为网格创建搜索过滤器？

> ID：11323238
> 
> 赞同：2
> 
> 时间：2012-07-04T06:02:21.313
> 
> 标签：jquery-mobile

jQuery Mobile 支持列表中的搜索过滤器。我想知道是否可以为其他 UI 组件创建类似的搜索过滤器，例如网格。有人有经验吗？定制？如何？

# asp.net - 如何在没有警告消息的情况下从 HTTPS 重定向到 HTTP？

> ID：11323243
> 
> 赞同：0
> 
> 时间：2012-07-04T06:02:47.497
> 
> 标签：asp.net

我有两个网站：一个是 HTTP 网站，另一个是 HTTPS 网站。我将在 HTTPS 环境中验证凭据，并在获得授权后返回 HTTP。同样在 IE 中运行良好，但在 Mozilla 中我收到如下所示的警告。

![在此处输入图像描述](../Images/5d3128b04bcf143df61ca9324c64bcff.png)

如何避免此警告信息？目前我使用 java 脚本从 HTTPS aspx 页面发布到 HTTP 页面。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T07:36:51.773

我同意莱皮的观点。您的代码没有任何问题。这就是一个好的浏览器应该如何工作的。将敏感数据从安全站点提交到不安全站点不应没有警告。

推荐的解决方案 使页面/站点“提交页面/站点”和“提交页面/站点”都通过 HTTPS 运行。

您可以在 Firefox 中禁用该警告消息，但不推荐这样做。转到 FireFox>选项>安全>警告消息>设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:29:11.163

我认为问题在于您是从 https 发布到 http。如果您改为执行 GET，最好是不带参数的 GET，您可能会解决问题。

# java - java中随机数生成器的解释

> ID：11323245
> 
> 赞同：3
> 
> 时间：2012-07-04T06:03:02.800
> 
> 标签：java, random

阅读关于 Fisher-Yates 的维基百科页面，将最后一段改组是：

> 最后，需要注意的是，即使生成完美的随机数，也可能由于生成器的不当使用而在实现中引入缺陷。例如，假设 Java 实现为每次调用 shuffler 创建一个新的生成器，而不传递构造函数参数。然后生成器将由语言的时间默认播种（在 Java 的情况下为 System.currentTimeMillis()）。因此，如果两个调用者在小于时钟粒度（Java 情况下为一毫秒）的时间跨度内调用混洗器，他们创建的生成器将是相同的，并且（对于相同长度的数组）相同的排列将被生成。如果 shuffler 被快速连续调用多次，这几乎肯定会发生，在这种情况下会导致极其不均匀的分布；它也可以应用于来自不同线程的独立调用。更健壮的 Java 实现将使用在 shuffler 函数之外定义的生成器的单个静态实例。

除了本段的最后一句话，我什么都理解。当作者说：

> 更健壮的 Java 实现将使用在 shuffler 函数之外定义的生成器的单个静态实例。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-04T06:10:29.590

这意味着您有一个像这样的静态函数：

```
class RandomUtil {

    public static final Random rand = new Random();     

} 
```

然后你使用这个 rand 生成器`RandomUtil.rand.nextInt()`来生成你所有的随机数。您只使用这一个实例并确保不会出现 wiki 中提到的问题。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-04T08:11:41.787

那篇文章的一部分是错误的：

> 例如，假设 Java 实现为每次调用 shuffler 创建一个新的生成器，而不传递构造函数参数。然后生成器将由语言的时间默认播种（在 Java 的情况下为 System.currentTimeMillis()）。因此，如果两个调用者在小于时钟粒度（Java 情况下为一毫秒）的时间跨度内调用混洗器，他们创建的生成器将是相同的，并且（对于相同长度的数组）相同的排列将被生成。

这实际上不是真的。尽管为每个调用创建一个新的生成器是不好的做法，但`Random`该类包含专门用于防御这种情况的代码：

```
 public Random() {
     this(++seedUniquifier + System.nanoTime());
 }
 private static volatile long seedUniquifier = 8682522807148012L; 
```

首先，分辨率是一*纳秒*，而不是一毫秒。创建生成器并使用它一次通常需要超过一纳秒的时间。其次，即使没有，`seedUniquifier`每次调用的值也会不同。

因此，虽然在每次调用时生成一个新的仍然是一个坏主意`Random`，但它的危害比那篇文章所暗示的要小。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-04T06:11:01.333

使用相同种子和相同排列的两个随机数生成器可能比使用一个生成器生成不同的随机数产生更少的随机性。

假设您同时创建了两个默认随机数生成器。他们使用时间戳（以毫秒为单位）作为种子。并且，将具有相同的排列。现在，您尝试从两个不同的生成器中获取第一个随机数，它们很可能是相同的。

为避免出现这种情况，请创建一个`public static final Random`变量并在任何地方使用它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-04T06:15:00.103

为了使这个实现健壮并且不可能生成可预测的随机数，生成器类应该在 shuffler 类之外的静态方法中定义。因此，在任何给定时间都不会创建生成器的两个或更多对象。因此最大限度地减少了生成相同随机数的可能性。

# sql - 使用 CTE 需要 SQL 查询

> ID：11323247
> 
> 赞同：4
> 
> 时间：2012-07-04T06:03:13.960
> 
> 标签：sql

任何人都可以帮助我编写一个定义如下的 sql 查询：我有两个表 Itemtype 和 Items

```
Itemtype
-------------------
ItemTypeID ItemParent TypeName
-------------------------------
1           0          XXX
2           1          YYY
3           1          ZZZ
4           0          SSS
5           4          GGG

Items
--------------------
ItemID ItemTypeID ItemCost
----------------------------------
1        1         5000
2        2        1000
3        4        250
4        3        2000
5        5        400

Output
---------------------------
ItemtypeName ItemCost
------------------------------
XXX            8000 (1000+5000+2000)
SSS            650 (250+400) 
```

这是两张表：我使用 itemtypeid 加入了两张表。现在我需要显示 ItemParentId = 0 的项目，并计算 itemtypeId 和 ItemparentTypeId 与 ItemTypeID 值相同的项目的 Itemcost。

我使用 CTE 编写了一个查询，但它没有显示 ItemTypeName。

```
WITH it_cte AS ( select itemtypeid from ItemType WHERE
ItemType.ItemParentType IS NULL UNION ALL select i.ItemTypeid from
ItemType i  INNER JOIN it_cte icte ON icte.itemtypeid = i.itemtypeid )
select ItemParentType,SUM(Items.ItemCost) as itemcost from ItemType 
left join Items on ItemType.ItemTypeID = Items.ItemTypeID  or
ItemType.ItemParentType= Items.ItemTypeID  group by
ItemType.ItemParentType 
```

有人可以帮忙吗？

谢谢贾穆纳

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T06:28:03.683

以下陈述

*   使用 a`CTE`检索每个`ItemTypeID`及其根的列表`ItemTypeID`
*   加入`ItemType`以获得`TypeName`
*   加入`Items`以获得`ItemCost`
*   分组`TypeName`以获得总和`ItemCost`

**SQL 语句**

```
;WITH q AS (
  SELECT  ItemTypeID , Root = ItemTypeID
  FROM    ItemType
  WHERE   ItemParent = 0
  UNION ALL
  SELECT  t.ItemTypeID, q.Root
  FROM    q
          INNER JOIN ItemType t ON t.ItemParent = q.ItemTypeID
) 
SELECT  it.TypeName, SUM(i.ItemCost)
FROM    q
        INNER JOIN ItemType it ON it.ItemTypeID = q.Root
        INNER JOIN Items i ON i.ItemTypeID = q.ItemTypeID
GROUP BY
        it.TypeName 
```

**测试脚本**

```
;WITH ItemType (ItemTypeID, ItemParent, TypeName) AS (
  SELECT 1, 0, 'XXX' UNION ALL
  SELECT 2, 1, 'yyy' UNION ALL
  SELECT 3, 1, 'ZZZ' UNION ALL
  SELECT 4, 0, 'SSS' UNION ALL
  SELECT 5, 4, 'GGG'
)
, Items (ItemID, ItemTypeID, ItemCost) AS (
  SELECT 1, 1, 5000 UNION ALL
  SELECT 2, 2, 1000 UNION ALL
  SELECT 3, 4, 250 UNION ALL
  SELECT 4, 3, 2000 UNION ALL
  SELECT 5, 5, 400
)
, q AS (
  SELECT  ItemTypeID , Root = ItemTypeID
  FROM    ItemType
  WHERE   ItemParent = 0
  UNION ALL
  SELECT  t.ItemTypeID, q.Root
  FROM    q
          INNER JOIN ItemType t ON t.ItemParent = q.ItemTypeID
) 
SELECT  it.TypeName, SUM(i.ItemCost)
FROM    q
        INNER JOIN ItemType it ON it.ItemTypeID = q.Root
        INNER JOIN Items i ON i.ItemTypeID = q.ItemTypeID
GROUP BY
        it.TypeName 
```

# jquery - 如何在手风琴中对大量文本进行排序？

> ID：11323250
> 
> 赞同：0
> 
> 时间：2012-07-04T06:03:16.800
> 
> 标签：jquery, accordion

我有一个手风琴，里面有许多随机排列的物品。手风琴加载时如何对这些项目进行排序：

```
< div class="accordion" >
    < h3>Abc </h3 > 
    < p>Some text. </p > 

    < h3>Cab </h3 > 
    < p>Some text. </p > 

    < h3>Bac </h3 > 
    < p>Some text. </p > 
< /div > 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:13:19.353

快速解决方案： http: [//tinysort.sjeiti.com/](http://tinysort.sjeiti.com/)

包括该插件，对您的手风琴内容进行排序。例如。如果它在 ul 列表中：

```
$('ul>li').tsort();
//its sorted, trigger your accordion plugin here 
```

## 编辑更多信息

好的，如果您不使用列表，请将它们放入 div 以隔离每个部分：

```
< div class="accordion" >
    <div class="section">
        < h3>Abc </h3 > 
        < p>Some text. </p > 
    </div>
    <div class="section">
        < h3>Cab </h3 > 
        < p>Some text. </p > 
    </div>
< /div > 
```

然后按 h3 标签排序：

```
$('.accordion div.section').tsort('h3');
//then do your accordion code 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T09:08:15.833

在创建手风琴之前对它们进行排序是最简单的方法

# javascript - 将融合图导出到 ppt

> ID：11323257
> 
> 赞同：2
> 
> 时间：2012-07-04T06:03:54.073
> 
> 标签：javascript, asp.net, fusioncharts

在这里，我尝试在单击按钮时将 fusioncharts 导出到 ppt。首先，我将 fusioncharts 转换为图像，然后将它们导出到 ppt。因为我需要在保存图像后生成 ppt，所以我在 javascript 中使用**秒表**函数来计算将融合图转换为图像所需的时间。这是我的代码：

```
 <script type="text/javascript">
            var initiateExport = false;
            var _sw = new StopWatch();
            var time;
            function exportReport() {
                exportCharts();
                                return false;
                }
            function exportCharts() {
                _sw.start();
            var exportFormat = 'JPG';
            initiateExport = true;
            for (var chartRef in FusionCharts.items) {
                if (FusionCharts.items[chartRef].exportChart) {
                    document.getElementById("linkToExportedFile").innerHTML = "Exporting...";
                    FusionCharts.items[chartRef].exportChart({ "exportFormat": exportFormat });

                }
                else {
                    document.getElementById("linkToExportedFile").innerHTML = "Please wait till the chart completes rendering...";
                }
            }
        }
        function FC_Exported(statusObj) {
           _sw.stop();
            time = _sw.duration();
            setTimeout(' document.getElementById("MainContent_Button1").click();', time);

        }
    </script> 
```

在上面的代码中 **document.getElementById("MainContent_Button1").click();** 函数生成 ppt。我的问题是因为我有 3 个 fusioncharts，所以函数 FC_Exported 执行了 3 次。所以我收到 ppt 的提示 3 次。**我希望它只发生 1 次**。另外我认为 ppt 代码的位置不能更改，因为我使用的是**时间**参数。有人可以指导我吗？等待您的回复。谢谢。

**注意：计时器的停止功能不能放在其他任何地方，因为我想要生成和保存图像所花费的总时间。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T05:58:18.193

您可以尝试使用FusionCharts 的[oomfo](http://oomfo.com/)。它适用于 PowerPoint '03 和更高版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-14T06:28:47.250

最近我使用fusioncharts导出为ppt。该过程非常简单，如下所示：

```
- Capture image from the client side 
- Save Image at server side
- Use Apache POI to create a slideshow 
- Add stored image in slide as :

          // get server context
             ServletContext context = request.getServletContext();  

         // get image stored file path       
             String []imagefilename=filename.split("/ExportedImages");

         // get image filename 
             String filename = context.getRealPath("/ExportedImages"+imagefilename[1]); 

         // Create Slide
         Slide slide1 = slideShow.createSlide();
          try {
              int idx=slideShow.addPicture(new File(filename), org.apache.poi.hslf.model.Picture.JPEG);

              org.apache.poi.hslf.model.Picture pict = new org.apache.poi.hslf.model.Picture(idx);

              //set image position in the slide
              pict.setAnchor(new java.awt.Rectangle(100, 100, 300, 200));

              slide1.addShape(pict);

        } catch (IOException e1) {

            e1.printStackTrace();
        }

      - Then Download file 
```

# php - getimagesize 在 Windows 7 上不工作，但在 xp 上工作

> ID：11323262
> 
> 赞同：0
> 
> 时间：2012-07-04T06:04:11.307
> 
> 标签：php, windows-7, gd

`getimagesize`不适用于 Windows 7，但可以在 XP 上运行。第一次执行时，它返回`FALSE`，当再次执行时，它什么也不返回。

```
function ezImage($image,$pad = 5,$width = 0,$resize = 'full',$just = 'center',$border = ''){
        ...............
        ...............
        ...............
    $imageInfo = @getimagesize($image);

    if (!$imageInfo) {
    //remove tempfile for remote images
    if ($temp == true) unlink($image);
      return false;
    }

          .............
          .............
 } 
```

在 Windows 7 的情况下，第一次当它进入`getimagesize`函数时它返回 0，第二次调用这个函数时它根本不返回。我检查了网址`$image`，没问题。如果我直接在浏览器中输入 URL，它会立即显示图像。

第一次执行会引发以下警告消息：

`Warning: getimagesize(http://localhost/metornet/metornet_chart_paxalarm.php?title=MetorNet+Statistics&names%5B%5D=03%2F07%2F12%0A08%3A48+-%0A03%2F07%2F12%0A08%3A49&pax%5B%5D=0&alarms%5B%5D=0&rates%5B%5D=0.0&names%5B%5D=03%2F07%2F12%0A08%3A49+-%0A03%2F07%2F12%0A08%3A50&pax%5B%5D=0&alarms%5B%5D=0&rates%5B%5D=0.0&names%5B%5D=03%2F07%2F12%0A08%3A50+-%0A03%2F07%2F12%0A08%3A51&pax%5B%5D=0&alarms%5B%5D=0&rates%5B%5D=0.0&names%5B%5D=03%2F07%2F12%0A08%3A51+-%0A03%2F07%2F12%0A08%3A52&pax%5B%5D=0&alarms%5B%5D=0&rates%5B%5D=0.0&names%5B%5D=03%2F07%2F12%0A08%3A52+-%0A03%2F07%2F12%0A08%3A53&pax%5B%5D=0&alarms%5B%5D=0&rates%5B%5D=0.0&names%5B%5D=03%2F07%2F12%0A08%3A53+-%0A03%2F07%2F12%0A08%3A54&pax%5B%5D=0&alarms%5B%5D=0&rates%5B%5D=0.0&names%5B%5D=03%2F07%2F12%0A08%3A54+-%0A03%2F07%2F12%0A08%3A55&pax%5B%5D=0&alarms%5B%5D=0&rates%5B%5D=0.0&names%5B%5D=03%2F07%2F12%0A08%3A55+-%0A03%2F07%2F12%0A08%3A56&pax%5B%5D=0&am in C:\Program Files\..\..\Includes\ros_pdf_class\class.ezpdf.php on line 1344`

第二次执行抛出这个致命错误： `Fatal error: Maximum execution time of 120 seconds exceeded in C:\Program Files\.. \..\Includes\ros_pdf_class\class.ezpdf.php on line 1344`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T10:11:55.677

首先，第二个错误表明您正在处理太多信息（*超过了 120 秒的最大执行时间*）。出于调试目的，您可以在`php.ini`.

其次，您发布的第一条错误消息有问题。（这可能是对的，但看起来很错误。）相同的部分在其中重复，并且缺少真正的错误部分。

首先，确保`$image`您尝试访问的文件存在 和[`file_exists()`](http://hu.php.net/manual/en/function.file-exists.php)，并且您当前的工作文件夹是正确的文件夹，并带有 和 的[`getcwd()`](http://hu.php.net/manual/en/function.getcwd.php)组合[`chdir()`](http://hu.php.net/manual/en/function.chdir.php)。

您还需要检查设置的`phpinfo()`输出`gd`，可能是您缺少所需的库，因为`gd`函数（如[`getimagesize()`](http://hu.php.net/manual/en/function.getimagesize.php)）在该特定库中。

### 编辑：

我看到你提到这`$image`是一个 URL。小心，因为在这种情况下使用远程图像不是一个好方法。您应该始终检索所述图像文件的**本地**[`cURL`](http://hu2.php.net/manual/en/book.curl.php)副本（可能使用），然后在本地解析它。

使用下面的函数（[source](http://www.edmondscommerce.co.uk/php/php-save-images-using-curl/)），您可以创建图像文件的本地副本：

```
function save_image($img, $fullpath)
{
    $ch = curl_init($img);

    curl_setopt($ch, CURLOPT_HEADER, 0);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_BINARYTRANSFER,1);

    $rawdata=curl_exec($ch);
    curl_close ($ch);

    if(file_exists($fullpath)){
        unlink($fullpath);
    }

    $fp = fopen($fullpath,'x');
    fwrite($fp, $rawdata);
    fclose($fp);
} 
```

`$img`是图像的远程地址，`$fullpath`是本地保存路径。

您可以使用`ini_get('upload_tmp_dir')`检索`php.ini`文件上传的保存位置（当您使用文件上传的 HTML 表单元素时）的配置。在 Linux 上，它是`/tmp`，使用[XAMPP](http://www.apachefriends.org/en/xampp.html)，它将是`C:\xampp\tmp`.

因此，例如，要保存一个临时文件，您可以转到`save_image($img, ini_get('upload_tmp_dir')."/".time() );`. 它将使用当前时间戳保存一个临时文件，之后可以轻松删除该文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T04:39:10.493

由于某种原因，在 Vista 和 Windows 7 中，`localhost/127.0.0.1`不能开箱即用。要使其正常工作，您必须将此行添加到 c `:\windows\system32\drivers\etc\hosts file`: `127.0.0.1 localhost`。

实际上，您会在主机文件中找到这一行，但它已被注释，因此您可以取消注释该行。`getimage size`在 localhost 上也可以正常工作。感谢您提出宝贵的意见和建议。

# c# - 如何在 GridView 中添加最后一列

> ID：11323265
> 
> 赞同：0
> 
> 时间：2012-07-04T06:04:18.703
> 
> 标签：c#, asp.net-mvc, gridview, razor, devexpress

我需要添加最后一列“action”，并在单元格 href 中设置`<a href="/?page=@Id">details</a>` 如何在 devexpress 中执行此操作？

```
@Html.DevExpress().GridView(
    settings =>
    {
        settings.Name = "gvGrouping";

        settings.Columns.Add("Id");//not visible
        settings.Columns.Add("Service", "Сервис");

    settings.Columns.Add("Action", "Action");//I have error

    }
    ) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:07:01.937

我通常是怎么做的（不知道这是否是最好的方法，但它确实有效）：

```
 settings.Columns.Add(column =>
                                {
                                 column.FieldName = "Id";
                                 column.Caption = " ";
                                 column.Settings.AllowAutoFilter = DefaultBoolean.False;
                                 column.Settings.AllowDragDrop = DefaultBoolean.False;
                                 column.Settings.AllowSort = DefaultBoolean.False;
                                });
 settings.CustomColumnDisplayText = (sender, e) =>
                                          {
                                                if (e.Column.FieldName == "Id")
                                                {
                                                     e.DisplayText = // put your actionlink here                                                                                       
                                                }
                                          }; 
```

这使您能够在其中放置您喜欢的任何内容（图像、URL 等）。您可以通过为另一个属性调用 'e.Value' 或 args.GetFieldValue("") 来访问 Id 的值。或者您可以只访问模型（Model.blabId）..

希望这可以帮助

更新：

我不知道你是如何构建你的网格的，但它应该是这样的（我认为你调用网格的方式有问题，这就是你得到错误的原因）：

```
 Html.DevExpress().GridView(settings =>
    {
       //all your settings stuff in here
    }).Bind(Model.YourList).Render(); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-04T06:10:24.270

您也可以使用 SetDataItemTemplateContent

```
@Html.DevExpress().GridView(
    settings =>
    {
       var actionCol = settings.Columns.Add("Action");
       actionCol.SetDataItemTemplateContent(() =>
       { 
          Html.ActionLink("Action", "SomeAction", "SomeController", new { myParam =    Model.Param });
    } ); 
```

# php - while循环中的变量

> ID：11323267
> 
> 赞同：0
> 
> 时间：2012-07-04T06:04:38.843
> 
> 标签：php

```
<?php

$countStart = some value from sql query for example 1;
$pageLimit = some value from sql query for example 5;

$i = $countStart;
while($i<=$pageLimit)
      {
      echo "The number is " . $i . "<br />";
      $i++;
      }
?> 
```

如果我把 while($i<=5) 它工作。我在上面的代码中做错了什么？先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:13:55.137

您可以将 int 放在 $pageLimit = (int)some number from sql 查询之前；

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:07:59.380

它看起来不错，但尝试显示这两个值，例如

```
echo $countStart;
echo $pageLimit;
die(); 
```

这可以帮助您捕捉错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T06:06:15.593

在 while 循环之前检查 $pageLimit 的内容。在 while 语句中访问变量应该没有任何问题。

# jquery - jQuery - 添加图像文本描述

> ID：11323277
> 
> 赞同：0
> 
> 时间：2012-07-04T06:05:58.553
> 
> 标签：jquery, gallery

我使用了从这里下载的非常好的 JQuery：http: [//tympanus.net/codrops/2010/10/07/slider-gallery/](http://tympanus.net/codrops/2010/10/07/slider-gallery/)

这就是我所做的：http: [//www.massimozompa.com/home.html](http://www.massimozompa.com/home.html)

现在我正在尝试添加一个简短的文本作为大图像的描述。有人可以帮我做吗？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T10:04:04.747

为每个包含图像描述的 class="content" 取另一个 div，如下所示

```
<div class="content">
  <div>
    <a href="#"><img src="images/album1/thumbs/1.jpg" alt="images/album1/1.jpg"     class="thumb"/</a>
  </div>
   <div id="description">Description about the image.........</div>
</div> 
```

为 div 应用 CSS

```
#description {
display:none
} 
```

现在在这段代码下

```
<div id="fp_overlay" class="fp_overlay"></div>
<div id="fp_loading" class="fp_loading"></div>
<div id="fp_next" class="fp_next"></div>
<div id="fp_prev" class="fp_prev"></div>
<div id="fp_close" class="fp_close">Close preview</div> 
```

添加另一个用于显示描述文本的 div

```
<div id="displayDescription></div> 
```

根据您的要求将 css 应用于上述 div 即在哪里显示...等

现在在这个函数中

```
$fp_content_wrapper.find('.content')
                    .bind('click',function(e){
                    var $current = $(this);
                    current = $current.index();
                    centerImage($current,true,600);
                    e.preventDefault();
                }); 
```

在“centerImage($current,true,600);”之后添加以下代码

```
var descriptionText=$current.children(1).text();
$('#displayDescription').text(descriptionText); 
```

并且您在 var $current=.... 之后的 if 和 else 块中的以下函数中添加上述代码 陈述

```
function navigate(way) {
var $current = $fp_thumbScroller.find('.container:nth-child('+parseInt(gallery_idx+1)+')')
                                            .find('.content:nth-child('+parseInt(current+1)+')');
} 
```

在函数 showPreviewFunctions() 中添加以下代码

```
$('#displayDescription').show(); 
```

并在函数 hidePreviewFunctions() 添加以下代码

```
$('#displayDescription').hide(); 
```

你现在完成了。

我已经做到了，它对我有用......

如果答案有用，请点击

# javascript - 如何使用正则表达式在 javascript 中验证自定义 url

> ID：11323280
> 
> 赞同：-4
> 
> 时间：2012-07-04T06:06:15.940
> 
> 标签：javascript, regex

我需要验证一个像

[http://www.abc.com/mytester/](http://www.abc.com/mytester/) *

如果**/mytester/***在 abc.com/ 之后的 URL 中，那么我想包含另一个 javascript 代码，否则是第二个 js 代码。

我怎么能用javascript写这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:09:06.183

这个正则表达式：`/mytester/$`将确保它`/mytester/`位于字符串的最后。例如，如果 url 是`http://www.abc.com/mytester/abc`正则表达式将失败。

编辑：

假设您将始终拥有一个完整的 URL（以 开头`http://www`），您可以使用这个正则表达式：`^http://www.abc.com/mytester/`. 这将期望从字符串的最开头开始匹配 URL。它不关心最后一个后面的内容`/`，只要 URL 以 . 开头即可`http://www.abc.com/mytester/`。

# javascript - 在 JavaScript 中合并两个对象

> ID：11323282
> 
> 赞同：1
> 
> 时间：2012-07-04T06:06:31.150
> 
> 标签：javascript, associative-array

我有两个 JavaScript 对象：

```
var attributes1 = {
    "type": "text/css",
    "rel": "stylesheet",
    "href": baseUrl + "Styles/HtmlLibrary.css"      
};
var attributes2 = {
    "type": "text/css",
    "rel": "stylesheet",
    "href": baseUrl + "Styles/jquery.contextMenu.css"       
}; 
```

我有什么方法可以将这两个对象组合成一个具有两个子对象（关联数组）的对象？我想遍历它并每次获取一组属性？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T06:14:51.623

是的，那些不是数组，但你可以有对象数组，我认为你正在寻找的是：

```
var attributes = [
                  {
                   "type": "text/css", 
                   "rel": "stylesheet",
                   "href": baseUrl + "Styles/HtmlLibrary.css"      
                  },
                  {
                   "type": "text/css",
                   "rel": "stylesheet",
                   "href": baseUrl + "Styles/jquery.contextMenu.css"       
                  }]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-04T06:14:52.713

是的，您可以轻松做到这一点：-

```
var baseUrl="www.google.com" // Base URL just for the sake of program.
var attributes = {
    "type": "text/css",
    "rel": "stylesheet",
    "href": baseUrl + "Styles/HtmlLibrary.css"      
};
var attributes1 = {
    "type": "text/css",
    "rel": "stylesheet",
    "href": baseUrl + "Styles/jquery.contextMenu.css"       
};
var k=[];
k.push(attributes);
k.push(attributes1)

    //Since K has both the associative arrays now you can refer using
    for(var i=0;i<k.length;i++)
        {
        console.log(k[i].type+" "+k[i].rel+" "+k[i].href)

        } 
```

这是小提琴 URL [http://jsfiddle.net/HSdJh/1/](http://jsfiddle.net/HSdJh/1/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-04T06:28:03.330

```
var attributes1 = {
    "type": "text/css",
    "rel": "stylesheet",
    "href": baseUrl + "Styles/HtmlLibrary.css"      
};
var attributes2 = {
    "type": "text/css",
    "rel": "stylesheet",
    "href": baseUrl + "Styles/jquery.contextMenu.css"       
};

var combined = {};

combined.attributes1 = attributes1;
combined.attributes2 = attributes2;

for(var attribute in combined){

    if(combined.hasOwnProperty(attribute)){
        console.log(attribute);
        console.log(combined[attribute]);
    }

} 
```

# asp.net-mvc - 访问 API 时无法连接到远程服务器

> ID：11323284
> 
> 赞同：0
> 
> 时间：2012-07-04T06:06:39.243
> 
> 标签：asp.net-mvc, iis

我面临一个非常奇怪的问题：

案例 1：使用 ASP.NET Web 开发服务器：应用程序访问 API，一切正常。

案例 2：我在 IIS 上托管我的应用程序 (MVC)：当应用程序尝试访问 API 时，它会收到错误：

> "Unable to connect to remote server": {"连接尝试失败，因为连接的一方在一段时间后没有正确响应，或者建立连接失败，因为连接的主机没有响应 96.17.180.160:80"}

代码行：

```
HttpWebRequest request = (HttpWebRequest)HttpWebRequest.Create(api);
HttpWebResponse response = (HttpWebResponse)request.GetResponse(); // This line breaks... 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2018-05-10T07:31:04.217

API中的“无法连接到远程服务器”，发生此错误是因为该项目未运行您正在调用的项目。击中时必须运行调用项目。两个项目必须同时运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T13:08:01.787

如果您无法 ping 远程主机，您似乎有网络问题。这可能有多种原因：代理服务器，防火墙阻止访问，......

您必须联系您的网络管理员以了解更多信息。如果他告诉您需要使用代理服务器才能到达目标 url，您可以使用该[`request.Proxy`](http://msdn.microsoft.com/en-us/library/system.net.httpwebrequest.proxy.aspx)属性在请求上配置此代理。如果此代理需要身份验证，您将必须提供代理服务器的地址和任何最终的身份验证凭据。另一种可能性是在该[`<system.net>`](http://msdn.microsoft.com/en-us/library/kd3cf2ex.aspx)部分的 app/web.config 文件中指定全局代理设置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-08-14T12:21:55.877

大多数情况下，此问题是由于没有响应而导致的，这可能是由于访问的远程资源的停机时间。

某些系统在某些时候面临某些停机问题。尤其是当他们的基础设施很差时，比如共享主机。尝试在连接当前服务器时连接到另一台服务器，并查看两者的响应。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-12-08T05:33:21.213

在里面使用下面的设置，如果代理/防火墙正在停止 API 调用，它将以下面的设置运行。

```
<system.net>
 <defaultProxy>
  <proxy usesystemdefault="false" proxyaddress="Proxyserver:port" bypassonlocal="true"/>
 </defaultProxy> 
</system.net> 
```

# c# - 在自定义计时器中使用 MethodInvoker 时应用程序正在停止

> ID：11323289
> 
> 赞同：0
> 
> 时间：2012-07-04T06:06:59.443
> 
> 标签：c#, .net, winforms, timer-jobs, invocation

**背景：**

我需要一个用于嵌入式系统解决方案的高分辨率计时器，因此我决定使用The [Code Project中的](http://en.wikipedia.org/wiki/The_Code_Project)[MicroTimer](http://www.codeproject.com/Articles/98346/Microsecond-and-Millisecond-NET-Timer) ...

顺便说一句，我开发了一个[Windows 窗体](http://en.wikipedia.org/wiki/Windows_Forms)应用程序来测试它在此类应用程序中的效率并避免*“跨线程操作......”*，我必须使用调用方法、BackgroundWorker 等并决定使用此代码：

```
private void btnMicorTimer_Click(object sender, EventArgs e)
{
    // Instantiate new MicroTimer
    MicroLibrary.MicroTimer microTimer = new MicroLibrary.MicroTimer();
    // Add event handler
    microTimer.MicroTimerElapsed +=
        new MicroLibrary.MicroTimer.MicroTimerElapsedEventHandler(OnTimedEvent);

    // Call micro timer every 1000µs (1ms)
    microTimer.Interval = 1000;

    // Can choose to ignore event if late by Xµs (by default will try to catch up)
    // microTimer.IgnoreEventIfLateBy = 500;

    microTimer.Enabled = true; // Start timer

    // Do something whilst events are happening. For demo sleep, 2000 ms (2 sec).
    System.Threading.Thread.Sleep(2000);

    microTimer.Enabled = false; // Stop timer
}

private void OnTimedEvent(object sender,
                          MicroLibrary.MicroTimerEventArgs timerEventArgs)
{
    string response = string.Format(
                    "Count = {0:#,0}  Timer = {1:#,0} µs | " +
                    "LateBy = {2:#,0} µs | ExecutionTime = {3:#,0} µs",
                    timerEventArgs.TimerCount, timerEventArgs.ElapsedMicroseconds,
                    timerEventArgs.TimerLateBy, timerEventArgs.CallbackFunctionExecutionTime);

    // Do something small that takes significantly less time than Interval
    if (listBox1.InvokeRequired)
    {
        Invoke(new MethodInvoker(
            delegate
            {
                listBox1.Items.Add(response);
            }));
    }
    else
        listBox1.Items.Add(response);
} 
```

* * *

**问题：**

如前所述，应用程序在按下按钮后立即停止！简而言之，这就是在 btnMicorTimer_Click 之后发生的事情 :( 看起来该项目陷入了无限循环。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T07:25:02.363

您看到的峰很容易解释：

您通过向列表框中添加一个项目来请求每毫秒更新一次 UI。

这将大大减慢 UI 的响应速度。

# c# - 在特定字符串位置插入字符串

> ID：11323293
> 
> 赞同：0
> 
> 时间：2012-07-04T06:07:13.707
> 
> 标签：c#, string, text, insert

我有一个像这样的文本文件（.txt）

> 对话：0,0:00:01.99,0:00:03.84,默认,,0000,0000,0000,,你去！
> 
> 对话：0,0:00:03.84,0:00:06.31,Default,,0000,0000,0000,,再一次！
> 
> 对话：0,0:01:42.92,0:01:44.91,默认,,0000,0000,0000,,等一下。

我想像这样将“{”和“}”插入该文件

> 对话：0,0:00:01.99,0:00:03.84,Default,,0000,0000,0000,,{Up you go!}
> 
> 对话：0,0:00:03.84,0:00:06.31,Default,,0000,0000,0000,,{还有，再来一次！}
> 
> 对话：0,0:01:42.92,0:01:44.91,Default,,0000,0000,0000,,{等一下。}

我使用这些代码将“}”插入到最后

```
 String path = openFileDialog1.FileName;
            List<string> line = new List<string>();
            StreamReader sr = new StreamReader(path);
            StringBuilder sb = new StringBuilder();
            String lines;

            while ((lines = sr.ReadLine()) != null)
            {
                line.Add(lines+"}");
            }

            foreach (string s in line)
            {
                sb.AppendLine(s);
            } 
```

我想在 "0000,," 之后插入 "{"。对不起我的英语，谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:26:27.140

假设您的格式在对话框之前包含 9 个逗号分隔部分：

```
string InsertBrackets(string input)
{
    var idx = -1;
    for (int i = 0; i < 9; i++)
        idx = input.IndexOf(",", idx + 1);

    return input.Insert(idx + 1, "{") + "}";
} 
```

如果您愿意，您也可以将节数作为参数而不是硬编码为 9。当然，还要添加一些错误检查。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T06:15:47.130

```
 while ((lines = sr.ReadLine()) != null)
        {
           var index = line.LastIndesOf(",,") + 2;
           lines = lines.Insert(index, "{"); 

           line.Add(lines+"}");                
        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T06:13:57.093

这似乎是某种字幕。

在这种情况下，您可以只计算`,`遇到的数量。其余的是文本对话，您可以用`{}`.

我不是用 C# 编写的，但应该有一个函数可以让您通过正则表达式拆分字符串。只需使用它沿逗号分割`,`，并指定分割数的限制（在本例中，分隔符的数量为 9）。然后选择最后一个用 包围的标记`{}`，并将字符串连接回来。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-04T06:18:18.087

这是[ideone](http://ideone.com/UKley)中的一个工作示例。

简而言之，这是添加大括号的函数（此解决方案取决于事实，您始终拥有相同数量的由逗号分隔的字段，并且只有最后一个字段可能有逗号）：

```
 public static string AddBraces(string u) {
            string[] words = u.Split(',');
            string res = words[0];
            words[9] = "{" + words[9];
            for (int i = 1; i < words.Length;++i) {
                    res = res + ',' + words[i];
            }
            res = res + "}";
            return res;
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-04T06:19:39.500

假设您在要更改的文本之前总是有两个逗号（从您的评论来看似乎是这种情况），您可以尝试这样的事情：

```
 String str = "Dialogue: 0,0:00:01.99,0:00:03.84,Default,,0000,0000,0000,,Up you go!";
        String newStr = Regex.Replace(str, "(.*,,)(.*)$", "$1{$2}");
        System.Console.WriteLine(str);
        System.Console.WriteLine(newStr);
        System.Console.ReadKey(); 
```

这会产生以下结果：

```
Dialogue: 0,0:00:01.99,0:00:03.84,Default,,0000,0000,0000,,Up you go!
Dialogue: 0,0:00:01.99,0:00:03.84,Default,,0000,0000,0000,,{Up you go!} 
```

这个正则表达式：`(.*,,)(.*)$`将匹配两个组。第一组将包含字符串的开头，直到最后两个逗号。第二组将包含最后两个逗号之后的文本，并一直匹配到字符串的末尾。

该`"$1{$2}"`部分将用第一个匹配的组替换给定的字符串，然后是 a `{`，然后是第二个匹配的组，然后是 a `}`。

# facebook - 如何在facebook应用程序中动态增加高度

> ID：11323299
> 
> 赞同：2
> 
> 时间：2012-07-04T06:07:43.663
> 
> 标签：facebook, facebook-c#-sdk, asp.net-4.0

我曾经使用**FB.Arbiter.inform('setSize', { width: 760, height: 1485 })**增加我的 facebook 应用程序的高度。它昨天工作，但今天不工作。如果你知道如何动态增加高度在 facebook 应用程序中，提供一些有关此的信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T08:35:07.257

毕竟，真正的问题来自带有 http* *s* *的 facebook

您可以在此处关注问题：

> [https://developers.facebook.com/live_status](https://developers.facebook.com/live_status)

其他一切正常，只需将 setAutoResize 更改为 setAutoGrow

问候

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T08:10:40.713

在 Javascript 中，在应用程序设置中设置了固定高度参数后，
您可以调用`FB.Canvas.setSize`更改页面高度。

如果您的页面高度动态变化，您可以运行`FB.Canvas.setDoneLoading`
检查 Canvas 是否已加载并运行`FB.Canvas.setAutoGrow`。

```
FB.Canvas.setSize({ width: 810, height: 950 });

FB.Canvas.setDoneLoading( function(response) {
    console.log(response.time_delta_ms);
    FB.Canvas.setAutoGrow();
}); 
```

FB 文档：[https ://developers.facebook.com/docs/reference/javascript/FB.Canvas.setDoneLoading/](https://developers.facebook.com/docs/reference/javascript/FB.Canvas.setDoneLoading/)

# list - 在列表单子中使用 return 与不使用 return

> ID：11323300
> 
> 赞同：40
> 
> 时间：2012-07-04T06:07:48.883
> 
> 标签：list, haskell, monads, do-notation

我开始了我的 Grand Haskell Crusade (GHC :) )，我对 monads 和 IO 函数有点困惑。谁能*简单地*解释这两个功能之间的区别是什么？

```
f1 = do x <- [1,2]
        [x, x+1] -- this is monad, right?

f2 = do x <- [1,2]
        return [x, x+1] 
```

结果是：

```
*Main> f1
[1,2,2,3]

*Main> f2
[[1,2],[2,3]] 
```

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2012-07-04T09:46:40.793

要了解为什么您会得到出现的特定答案，脱糖的解释非常有帮助。让我用一些关于发展对 Haskell 代码的看法的一般性建议来补充它们。

Haskell 的类型系统没有区分两个可分离的“道德”目的：

*   `[x]`*值*的类型，它们是具有从中提取的元素的列表`x`
*   `[x]`允许优先选择的元素的*计算*类型`x`

这两个概念具有相同表示的事实并不意味着它们扮演相同的角色。在`f1`中，`[x, x+1]`扮演着计算的角色，所以它产生的可能性被合并到整个计算产生的选择中：这就是`>>=`列表 monad 的作用。然而`f2`，在 中，`[x, x+1]`它扮演着值的角色，因此整个计算会在两个值（恰好是列表值）之间产生一个优先选择。

Haskell 不使用类型来进行这种区分[你现在可能已经猜到我认为应该这样做，但那是另一回事了]。相反，它使用语法。所以你需要在阅读代码时训练你的头脑去感知价值和计算的角色。该`do`表示法是一种用于构造*计算*的特殊语法。里面的`do`内容是从以下模板工具包构建的：

![用于计算的拼图](../Images/bd6ffaef69c760332b7e4a2d2afa0a0d.png)

三个蓝色的部分进行`do`计算。我已将计算孔标记为蓝色，将值孔标记为红色。这并不意味着是一个完整的语法，只是一个关于如何在你的脑海中感知代码片段的指南。

实际上，您可以在蓝色位置编写任何旧表达式，只要它具有适当的单子类型，并且这样生成的计算将根据需要合并到整体计算中`>>=`。在您的`f1`示例中，您的列表位于蓝色位置，并被视为优先选择。

类似地，你可以在红色的地方写表达式，这些地方很可能有单子类型（如本例中的列表），但它们将被视为相同的值。这就是发生的情况`f2`：实际上，结果的外括号是蓝色的，但内括号是红色的。

训练您的大脑在阅读代码时进行值/计算分离，以便您本能地知道文本的哪些部分在做什么。一旦你重新编程了你的头脑，和之间的区别`f1`看起来`f2`就完全正常了！

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2012-07-05T04:25:32.287

这里的其他答案是正确的，但我想知道它们是否不是你所需要的......我会尽量保持简单，只有两点：

* * *

**第 1 点`return`**在 Haskell 语言中**并不是什么特别的东西。**它不是关键字，也不是其他东西的语法糖。它只是类型类中的一个函数`Monad`。它的签名很简单：

```
return :: a -> m a 
```

`m`我们当时谈论的单子在哪里。它需要一个“纯”值并将其塞入您的 monad。（顺便说一句，还有另一个函数叫做`pure`它基本上是`return`...的同义词我更喜欢它，因为它的名字更明显！）无论如何，如果`m`是 list monad，那么`return`有这种类型：

```
return :: a -> [a] 
```

如果有帮助，您可以考虑类型 synonym ，这可能会使我们要替换的东西`type List a = [a]`更加明显。无论如何，如果您要自己实现，那么实现它的唯一合理方法是获取一些值（任何类型）并将其单独粘贴在列表中：`List``m``return``a`

```
return a = [a] 
```

所以我可以`return 1`在 list monad 中说，我会得到`[1]`. 我也可以说`return [1, 2, 3]`，我会得到`[[1, 2, 3]]`。

* * *

**第 2 点`IO`是一个单子，但并非所有单子都是`IO`.** 许多 Haskell 教程似乎主要出于历史原因将这两个主题混为一谈（顺便说一句，同样令人困惑的历史原因导致`return`名称如此糟糕）。听起来您可能对此有一些（可以理解的）困惑。

在您的代码中，您*在 list monad 中*，因为您编写了`do x <- [1, 2]`. 相反，如果你写`do x <- getLine`了例如，你会在`IO`monad 中（因为`getLine`返回`IO String`）。无论如何，你在 list monad 中，所以你得到了`return`上面描述的 list 的定义。您还可以得到列表的 定义`>>=`，它只是（的翻转版本）`concatMap`，定义为：

```
concatMap :: (a -> [b]) -> [a] -> [b]
concatMap f xs = concat (map f xs) 
```

其他发布的答案几乎涵盖了这里 :) 我知道我没有直接回答你的问题，但我希望这两点能解决你可能会感到困惑的基本问题。

* * *

## 回答 #3

> 赞同：24
> 
> 时间：2012-07-04T06:28:49.300

*使用bind*和*return*重写代码时很容易看到：

```
[1,2] >>= (\x->        [x,x+1]) === concatMap (\x-> [  x,x+1  ]) [1,2]

[1,2] >>= (\x-> return [x,x+1]) === concatMap (\x-> [ [x,x+1] ]) [1,2] 
```

您的第一个代码等同于调用`join`第二个代码的结果，删除由 引入的一个单子“层” `return :: a -> m a`，将正在使用的单子的“*列表”*与您的值的*“列表”****混为一谈。***例如，如果您要退回一对，那么省略:**`return`**

 **```
 -- WRONG: type mismatch
[1,2] >>= (\x->        (x,x+1)) === concatMap (\x-> (  x,x+1  )) [1,2]
                                     -- OK:
[1,2] >>= (\x-> return (x,x+1)) === concatMap (\x-> [ (x,x+1) ]) [1,2] 
```

或者，我们可以使用`join/fmap`重写：

```
ma >>= famb === join (fmap famb ma)   -- famb :: a -> m b, m ~ []

join (fmap (\x->        [x,x+1]) [1,2]) = concat [ [  x,x+1  ] | x<-[1,2]]
join (fmap (\x->        (x,x+1)) [1,2]) = concat [ (  x,x+1  ) | x<-[1,2]]  -- WRONG
join (fmap (\x-> return [x,x+1]) [1,2]) = concat [ [ [x,x+1] ] | x<-[1,2]]

                                                         =  [y | x<-[1,2], y<-[ x,x+1 ]]
                                            {- WRONG -}  =  [y | x<-[1,2], y<-( x,x+1 )]
                                                         =  [y | x<-[1,2], y<-[[x,x+1]]] 
```

* * *

## 回答 #4

> 赞同：14
> 
> 时间：2012-07-04T06:30:26.153

List 类型 ( `[]`) 是一个 monad，是的。

现在，记住是什么`return`。这从它的类型签名很容易看出：`return :: Monad m => a -> m a`. 让我们将列表类型替换为：`return :: a -> [a]`。所以这个函数接受一些值并只返回该值的列表。它相当于`\ x -> [x]`.

所以在第一个代码示例中，最后有一个列表：`[x, x+1]`. 在第二个示例中，您有一个*嵌套*列表：一个列表来自`[x, x + 1]`，*另一个*列表来自`return`。在这种情况下，`return [x, x + 1]`可以重写该行。`[[x, x + 1]]`

最后，结果是所有可能结果的列表。也就是说，我们连接 as 的结果和as`x`的`1`结果（感谢该行）。所以在第一种情况下，我们连接两个列表；在第二种情况下，我们连接两个列表*列表*，因为额外的将结果包装在一个额外的列表中。`x``2``x <- [1,2]`*`return`*

 ** * *

## 回答 #5

> 赞同：8
> 
> 时间：2012-07-04T06:30:48.027

将`do`语法脱糖为等价物

```
f1 = [1,2] >>= \x -> [x, x+1]
f2 = [1,2] >>= \x -> return [x, x+1] 
```

现在，`>>=`来自`Monad`课堂，

```
class Monad m where
    (>>=) :: m a -> (a -> m b) -> m b
    return :: a -> m a 
```

`>>=`和两者`f1`中的 LHS`f2`是`[a]`（`a`默认为`Integer`），所以我们真的在考虑

```
instance Monad [] where
    (>>=) :: [a] -> (a -> [b]) -> [b]
    ... 
```

这遵循相同的[单子法则](http://www.haskell.org/haskellwiki/Monad_Laws)，但与单子不同，

```
instance Monad IO where ... 
```

对于其他单子，`>>=`所以不要盲目地将你所知道的应用于另一个，好吗？:)

`instance Monad []`因此在 GHC 中定义

```
instance Monad [] where
    m >>= k = foldr ((++) . k) [] m
    return x = [x]
    ... 
```

但它可能更容易`[]`理解`>>=`为

```
instance Monad [] where
    m >>= k = concatMap k m 
```

如果你把它应用到原件上，你会得到

```
f1 = concatMap (\x -> [x, x+1]) [1,2]
f2 = concatMap (\x -> [[x, x+1]]) [1,2] 
```

很清楚为什么 和 的价值`f1`是`f2`什么。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-07-05T15:31:13.730

我的理解是做

在 List monad 中时返回 [1,2] 与做的相同

```
func :: Maybe (Maybe Int)
func = return $ Just 1 
```

这就是为什么你最终得到包装列表的原因，因为 [] 只是语法糖，对吗？

当他真正想做的时候

```
func :: Maybe Int
func = return 5 
```

或者

```
func = Just 5 
```

我认为可能更容易看到 Maybe monad 发生了什么。

所以当你这样做时

```
return [1,2] 
```

你正在做同样的事情

```
[ [1,2] ] 
```***

# sql - 在sql startdate和enddate中插入一系列日期

> ID：11323301
> 
> 赞同：1
> 
> 时间：2012-07-04T06:07:50.693
> 
> 标签：sql, date, between

我一直在研究一个 SQL 语句，我可以在其中选择开始日期和结束日期，并将其间的所有日期添加到表中。此开始日期和结束日期附有一个 ID。例如我选择 1/1/2012 和 4/1/2012 并且 id 是 1 结果应该如下

```
reqId   reqDate
1       1/1/2012
1       2/1/2012
1       3/1/2012
1       4/1/2012 
```

我的sql语句如下

```
"Insert into Request(reqId, reqDate) " & _
"Select @request, reqDate From Request where reqDate between @start and @end " 
```

它什么也没做，所以我不确定我是否走在正确的轨道上。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:23:31.667

不知道您使用的是什么数据库系统，这是一个用于 SQL Server（2008 或更高版本）的数据库系统：

```
declare @Start date
declare @end date
declare @request int

set @Start = '20120101'
set @end = '20120104'
set @request = 1

;with Dates as (
    select @request as reqId,@Start as reqDate
    union all
    select reqId+1,DATEADD(day,1,reqDate) from Dates
    where reqDate < @end
)
select * from Dates 
```

结果：

```
reqId       reqDate
----------- ----------
1           2012-01-01
2           2012-01-02
3           2012-01-03
4           2012-01-04 
```

（我最初说的是 2005 年或以后，然后意识到我正在使用`date`。对于 2005 年，替换`date`为`datetime`）

# xslt - xslt中模板的书写和条件匹配

> ID：11323303
> 
> 赞同：3
> 
> 时间：2012-07-04T06:08:01.477
> 
> 标签：xslt

模板匹配中的实现和条件

```
 <xsl:template match="a[!(img)and(not(@id))]"> 
```

我想写一个模板，这样

```
 a tag should not have attribute id and should not be followed by img tag. 
```

但它的显示错误。任何人都可以帮助

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-04T06:10:50.173

假设`followed by img tag`指的是孩子而不是兄弟姐妹，您只需要巩固您对`not()`函数的使用，而不是不受支持的`!`运算符：

```
<xsl:template match="a[not(img) and not(@id)]">
    <!-- ... -->
</xsl:template> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-04T06:31:03.570

首先，错误可能是因为你在做**!(img)**，这是无效的。应该**不是(img)**

但是，在您的 XSLT 中，您正在检查**img**元素是否是 a 元素的子**元素**。您真的应该让我们使用**以下兄弟**轴。

```
<xsl:template match="a[not(following-sibling::*[1][self::img]) and not(@id)]"> 
```

因此，**following-sibling::*[1]**匹配**a**元素的第一个后续兄弟，然后**[self::img]**检查它是否是**img**标签。

请注意，如果您只执行**a[not(following-sibling::*[self::img])**那么它将查找任何后续兄弟，而不仅仅是紧跟**a**元素的那个。

# asp.net-mvc-3 - 级联下拉列表更新

> ID：11323304
> 
> 赞同：1
> 
> 时间：2012-07-04T06:08:07.480
> 
> 标签：asp.net-mvc-3

我正在开发一个使用级联下拉列表的项目。我采用了与本页演示的方法完全相同的方法： [ASP.NET MVC3 Cascading Dropdown List Demo](http://www.codeproject.com/Articles/258172/Simple-Implementation-of-MVC-Cascading-Ajax-Drop-D)

它工作正常。如果我更改下拉列表 A，下拉列表 B 会更新。如果我更改下拉列表 B，下拉列表 C 会更新。

我遇到的问题是，当我更新下拉列表 A 时，下拉列表 C 没有更新。当 A 更新时，如何更新下拉列表 B 和 C？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:20:44.417

> 当 A 更新时，如何更新下拉列表 B 和 C？

下拉列表 B 已更新为与您在下拉列表 A 中所做的类别选择相对应的子类别列表。

唯一的问题是下拉列表 C 保持不变。所以你可以订阅`OnSuccess`里面的 AJAX 请求事件`CategoriesUserControl.cshtml`并简单地清除产品下拉列表：

```
@using (Ajax.BeginForm(
    "SelectCategory", 
    "CascadingDropDown", 
    new AjaxOptions { 
        UpdateTargetId = "SubCategories", 
        OnSuccess = "(function() { $('#Products').empty(); })();" 
    }
))
{
    ...
} 
```

# asp.net - 如何从cs文件创建动态表

> ID：11323306
> 
> 赞同：1
> 
> 时间：2012-07-04T06:08:18.947
> 
> 标签：asp.net

我正在从 sql.Result 中获取数据，就像 this.Country，State，City，Count。

```
India Maharashtra Mumbai 30
India MahaRashtra Pune 20
India Maharashtra Nashik 28 
```

但我想在表格中显示这样的内容。我已经从 cs 文件创建了表格。从表格中我可以在孟买放入 30，但 pune 和 nashik 的条目将进入下一行。我在这里应用的逻辑是如果 countryName 是不同的放入下一列。如果州名相同，不要写超过一次。在同一行写城市计数。但是第二个国家我是从第二行 sql 得到的。

```
Country state Mumbai Pune Nashik
India 
       Maharashtra 30 20 28 
```

# apache - 在 apache httpd 反向代理和 Tomcat 之间进行双向 SSL 身份验证

> ID：11323309
> 
> 赞同：9
> 
> 时间：2012-07-04T06:08:32.890
> 
> 标签：apache, tomcat, ssl, mod-proxy

我有一个用作反向代理的 Apache HTTPD 和 Tomcat(6.0.35) 服务器，我想要实现的是 Tomcat 服务器和反向代理之间存在相互信任。这意味着当反向代理转发请求时，它将提供自己的证书，该证书将被导入到 Tomcat 的信任库文件中，从而使 Tomcat 仅在请求真正由反向代理发出时才接受请求（如果可能，甚至可能检查 tomcat 的证书是某个特定的证书）。我设法设置了一个需要客户端证书的 Tomcat，它运行良好，但正确的反向代理配置似乎让我望而却步。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-04T10:39:58.883

您应该尝试该[`SSLProxyMachineCertificateFile`](http://httpd.apache.org/docs/current/mod/mod_ssl.html#sslproxymachinecertificatefile)选项并将其指向包含您的客户端证书及其（未加密的）PEM 格式私钥的文件。

# c# - 如何在c#中清除单元格css样式和行跨度

> ID：11323311
> 
> 赞同：4
> 
> 时间：2012-07-04T06:08:44.997
> 
> 标签：c#, asp.net, html

下面是我的html表。在第一个表第一个 tr 第一个单元格中，我将 csstdgreen 给了 td。第二个单元格的 csstdgreen 具有 rowspan 3。我必须清除 csstdgreen 和 rowspan 并喜欢转换第二个表 tr。我循环遍历表格并检查单元格有 csstdgreen 和多少行跨度。如果单元格具有 csstdgreen 和 rowspan，则使第一个表像第二个表一样。我如何在 c# 服务器端检查 css 和 rowspan。我搜索谷歌但没有得到。

```
//First Table
<table id="mytable" runat="server">
<tr class="csstablelisttd">
<td>09:00AM</td>
<td class="csstdgreen">00</td>
<td class="csstdgreen" rowspan="3">John</td>
</tr>
<tr class="csstablelisttd">
<td></td>
<td class="csstdgreen">15
</td>
</tr>
<tr class="csstablelisttd">
<td></td>
<td class="csstdgreen">15
</td>
</tr>
</table>

//Second Table
<table id="mytable" runat="server">
<tr class="csstablelisttd">
<td>09:00AM</td>
<td>00</td>
<td>John</td>
</tr>
<tr class="csstablelisttd">
<td></td>
<td>15
</td>
<td></td> 
</tr>
<tr class="csstablelisttd">
<td></td>
<td class="csstdgreen">15
</td>    
<td></td>    
</tr>    
</table> 
```

//我在服务器代码中像这样循环遍历表。

```
 for(int i = 0; i <= mytable.Rows.Count - 1; i++)
        {
            for(int j = 0; j <= mytable.Rows.Count - 1; j++)
            {
    //error in if conditon object refrence not set to an instance of an object
        if(mytable.Rows[i].Cells[j].Attributes["csstdgreen"].Equals("csstdgreen"))
                {

                }
            }
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T06:16:48.487

删除 CssCalss

```
if(Cell1.Attributes["Class"].Equals("csstdgreen"))
 Cell1.Attributes.Remove("Class"); 
```

添加 CssClass

```
Cell1.Attributes.Add("Class","MyClass"); 
```

# c# - 下载的文件内容不显示

> ID：11323312
> 
> 赞同：1
> 
> 时间：2012-07-04T06:08:49.940
> 
> 标签：c#

我正在使用波纹管代码下载文件。但它下载文件但不显示内容或不打开文件。文件路径不同。我的项目在不同的路径上，我从不同的路径获取文件。这些文件不存储在项目路径中。文件路径、大小、名称存储在数据库中。

```
Crc32 crc = new Crc32();
ZipOutputStream s = new ZipOutputStream(File.Create(
       @"C:\Documents and Settings\admin\My Documents\Downloads\Evidence.zip"));

s.SetLevel(0); // 0 - store only to 9 - means best compression

FileStream fs = File.OpenRead(@"c:\boot.ini");
byte[] buffer = new byte[fs.Length];

fs.Read(buffer, 0, buffer.Length);

if (ds.Tables[0].Rows.Count > 0)
{
  for (int i = 0; i < ds.Tables[0].Rows.Count; i++)
  {
    string fileNamePath = Convert.ToString(ds.Tables[0].Rows[i]["EvidencePath"]);
    string fileNmae = Convert.ToString(ds.Tables[0].Rows[i]["EvidenceName"]);

    ZipEntry entry = new ZipEntry(ZipEntry.CleanName(@fileNmae));
    entry.DateTime = DateTime.Now;
    entry.Comment = "test file";
    entry.ZipFileIndex = i + 1;
    entry.Size = fs.Length;

    //fs.Close();

    crc.Reset();
    crc.Update(buffer);
    entry.Crc = crc.Value;

    s.PutNextEntry(entry);
    s.Write(buffer, 0, buffer.Length);

    //Response.WriteFile(""+fileNamePath);
  }
  s.Finish();
  s.Close();
  fs.Close();
}

ShowMessageBox("Downloaded...."); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T08:53:46.027

我只是快速浏览了您的代码，但如果我理解正确，则不会将任何内容写入文件，对吗？您可以尝试在接近尾声时添加以下内容：

```
S.Flush() 
```

当您关闭流时，这可能会自动发生，但我已经看到无论出于何种原因它都不会发生的情况。刷新将确保缓冲区中的任何数据在您关闭文件之前实际写入文件。

# cakephp - GoDaddy 上的 CakePHP Cron 作业

> ID：11323322
> 
> 赞同：1
> 
> 时间：2012-07-04T06:09:43.543
> 
> 标签：cakephp, cron, cakephp-2.0, shared-hosting

我托管在 GoDaddy 共享服务器上。我想运行一个 cron 作业来发送每日电子邮件。因为我无权访问外壳。有什么办法可以运行 cron 作业来发送电子邮件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-06T19:00:16.073

使用 Go Daddy 共享主机，您可以使用主机控制中心创建 cron 作业。

创建 Cron 作业

1.  登录您的客户经理。
2.  单击虚拟主机。
3.  在您要使用的主机帐户旁边，单击启动。
4.  在 Hosting Control Center 的 Content 部分，单击 Cron Job Manager 图标。此操作显示 Cron 作业管理器屏幕。
5.  单击左侧导航区域中电子邮件地址标题旁边的编辑。
6.  输入您希望将有关此 Cron 作业的所有信息发送到的电子邮件地址。
7.  单击保存。
8.  单击创建 Cron 作业。
9.  单击自定义。
10.  在每个字段中输入所需信息以安排任务以特定时间间隔重复运行。

    Cron 职位

    输入此 Cron 作业的名称。理想情况下，此标题与此任务相关，因此您可以轻松识别它。

    命令

    命令字段是以指定频率运行的脚本或可执行文件。单击浏览以在您的主机帐户中找到一个文件。您选择的完整文件名将放置在此可编辑字段中。单击问号图标可在选择命令时获得更多帮助。

    注意：我们的示例脚本使用变量 $HOME。我们建议使用 $HOME 来表示实际的服务器路径，尽管两者都可以使用。

    分钟

    输入您希望 Cron 作业运行的时间。例如，您可以通过选择“x:15”将作业设置为每小时后 15 分钟运行。通过选择每小时运行两次设置，您可以每小时运行两次任务。此设置自动将任务设置为间隔 30 分钟运行。

    小时

    输入您希望 Cron 作业运行的时间。例如，您可以通过选择“13:xx”将作业设置为每天下午 1:00 运行。

    每月的一天

    输入您希望 Cron 作业运行的月份中的哪一天。例如，您可以通过选择“15”将作业设置为在每个月的 15 日运行。

    月

    输入您希望 Cron 作业运行的月份。例如，您可以通过选择“二月”将作业设置为每年二月运行。

    一周中的天

    输入您希望 Cron 作业运行的星期几。例如，您可以通过选择“星期四”将作业设置为每周四运行。

11.  单击保存。

您的 Cron 作业已保存、启用并在下一个计划的时间间隔运行。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-06-04T02:51:43.427

这是一个更简单的解决方案，不需要破解核心文件。只需将其用于您的 cron 工作：

```
/web/cgi-bin/php5 -q -d register_argc_argv=on $HOME/html/lib/Cake/Console/cake.php -app $HOME/html/app your_shell -q 
```

# vb.net - Visual Basic 物理内存

> ID：11323325
> 
> 赞同：1
> 
> 时间：2012-07-04T06:09:54.063
> 
> 标签：vb.net, visual-studio, memory, ram

我正在尝试通过 Visual Basic 获取安装在我的 PC 上的物理内存量（总 RAM）。问题是我得到的返回“0 字节”。此外，我还将尝试获取使用百分比，可用 RAM 的数量、总分页、可用页面和显示使用情况的图表，如 Windows 中的 RAM 资源监视器。问题是我无法首先获得正确数量的可用 RAM 以与其他人一起推进。

我做错了什么？谢谢你。

这是我的代码：

```
Option Strict On
Option Explicit On
Imports System.Math
Imports System.Management
Imports System.Runtime.InteropServices
Public Class Form1
    Inherits System.Windows.Forms.Form
#Region " API "
    <StructLayout(LayoutKind.Sequential, CharSet:=CharSet.Ansi)> _
    Private Structure MEMORYSTATUSEX
        Dim dwLength As Integer
        Dim dwMemoryLoad As Integer
        Dim ullTotalPhys As ULong
    End Structure
    Private memoryInfo As MEMORYSTATUSEX
    Private Declare Auto Sub GlobalMemoryStatusEx Lib "kernel32" (ByRef lpBuffer As MEMORYSTATUSEX)
#End Region

#Region " Variables "

    Private mullTotalRAM As ULong

#End Region

#Region " Form Events "
    Private Sub Form1_Load(ByVal eventSender As System.Object, ByVal eventArgs As System.EventArgs) Handles MyBase.Load
        ' set title
        Me.Text = My.Application.Info.Title & " " & My.Application.Info.Version.Major.ToString & "." & _
            My.Application.Info.Version.Minor.ToString

        Application.DoEvents()
        GetMemoryInfo()
        Timer1.Enabled = True
    End Sub

#End Region

#Region " Information Gathering and Display "

    Private Sub GetMemoryInfo()

        System.Windows.Forms.Application.DoEvents()

        ' set size of structure (required by this api call)
        memoryInfo.dwLength = Marshal.SizeOf(memoryInfo)
        GlobalMemoryStatusEx(memoryInfo)

        mullTotalRAM = memoryInfo.ullTotalPhys

        txtRAM.Text = FormatBytes(mullTotalRAM)

    End Sub

#End Region

#Region " Update Timer "

    Private Sub Timer1_Tick(ByVal sender As System.Object, ByVal e As System.EventArgs)

        GetMemoryInfo()

        Application.DoEvents()

    End Sub

#End Region

#Region " Formatting Routines "

    Private Function FormatBytes(ByVal ullBytes As ULong) As String
        Dim dblTemp As Double

        Try
            Select Case ullBytes
                Case Is >= 1073741824 'GB
                    dblTemp = CDbl(ullBytes / 1073741824)
                    Return FormatNumber(dblTemp, 2) & " GB"
                Case 1048576 To 1073741823
                    dblTemp = CDbl(ullBytes / 1048576) 'MB
                    Return FormatNumber(dblTemp, 0) & " MB"
                Case 1024 To 1048575
                    dblTemp = CDbl(ullBytes / 1024) 'KB
                    Return FormatNumber(dblTemp, 0) & " KB"
                Case 0 To 1023
                    dblTemp = ullBytes ' bytes
                    Return FormatNumber(dblTemp, 0) & " bytes"
                Case Else
                    Return ""
            End Select
        Catch
            Return ""
        End Try

    End Function

#End Region

    Private Sub ramaTotalRAM_Enter(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles ramaTotalRAM.Enter

    End Sub

    Private Sub txtRAM_TextChanged(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles txtRAM.TextChanged

    End Sub
End Class 
```

我已经解决了这个问题。现在我想知道是否可以制作这样的东西： [http](http://s18.postimage.org/7zn5adst3/Memory.jpg) : //s18.postimage.org/7zn5adst3/Memory.jpg 。我该怎么做。非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T06:56:34.430

**一些简单的单班轮来完成工作：**

***总物理内存***

```
MsgBox(String.Format("TotalPhysicalMemory: {0} MBytes", System.Math.Round(My.Computer.Info.TotalPhysicalMemory / (1024 * 1024)), 2).ToString) 
```

***可用物理内存***

```
 MsgBox(String.Format("AvailablePhysicalMemory: {0} MBytes", System.Math.Round(My.Computer.Info.AvailablePhysicalMemory / (1024 * 1024)), 2).ToString) 
```

***总虚拟内存***

```
 MsgBox(String.Format("TotalVirtualMemory: {0} MBytes", System.Math.Round(My.Computer.Info.TotalVirtualMemory / (1024 * 1024)), 2).ToString) 
```

***可用虚拟内存***

```
 MsgBox(String.Format("AvailableVirtualMemory: {0} MBytes", System.Math.Round(My.Computer.Info.AvailableVirtualMemory / (1024 * 1024)), 2).ToString) 
```

或者

**将您的 API decl 更改为此（请注意`.dll`您的代码中缺少此内容）**

```
Private Declare Auto Sub GlobalMemoryStatusEx Lib "kernel32.dll" (ByRef lpBuffer As MEMORYSTATUSEX) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:22:53.203

这是工作示例的[pastebin](http://pastebin.com/jQS3F7Hh)

我能够通过使用以下定义来使其`GlobalMemoryStatusEx`工作`MEMORYSTATUSEX`

```
Private Declare Auto Sub GlobalMemoryStatusEx Lib "kernel32" (<[In](), Out()> lpBuffer As MEMORYSTATUSEX) 
```

并声明它像

```
 Private memoryInfo As MEMORYSTATUSEX = New MEMORYSTATUSEX 
```

并注释掉

```
 'memoryInfo.dwLength = CUInt(Marshal.SizeOf(memoryInfo)) 
```

我不知道你从哪里得到你的结构定义，[`MEMORYSTATUSEX`](http://pinvoke.net/default.aspx/Structures/MEMORYSTATUSEX.html)但根据 Pinvoke.net 它应该是。

```
<StructLayout(LayoutKind.Sequential, CharSet:=CharSet.Auto)> _
Public Class MEMORYSTATUSEX

    ''' <summary>
    ''' Initializes a new instance of the <see cref="T:MEMORYSTATUSEX" /> class.
    ''' </summary>
    Public Sub New()
    Me.dwLength = CType(Marshal.SizeOf(GetType(MEMORYSTATUSEX)), UInt32)
    End Sub
    ' Fields
    ''' <summary>
    ''' Size of the structure, in bytes. You must set this member before calling GlobalMemoryStatusEx.
    ''' </summary>
    Public dwLength As UInt32
    ''' <summary>
    ''' Number between 0 and 100 that specifies the approximate percentage of physical memory that is in use (0 indicates no memory use and 100 indicates full memory use).
    ''' </summary>
    Public dwMemoryLoad As UInt32
    ''' <summary>
    ''' Total size of physical memory, in bytes.
    ''' </summary>
    Public ullTotalPhys As UInt64
    ''' <summary>
    ''' Size of physical memory available, in bytes.
    ''' </summary>
    Public ullAvailPhys As UInt64
    ''' <summary>
    ''' Size of the committed memory limit, in bytes. This is physical memory plus the size of the page file, minus a small overhead.
    ''' </summary>
    Public ullTotalPageFile As UInt64
    ''' <summary>
    ''' Size of available memory to commit, in bytes. The limit is ullTotalPageFile.
    ''' </summary>
    Public ullAvailPageFile As UInt64
    ''' <summary>
    ''' Total size of the user mode portion of the virtual address space of the calling process, in bytes.
    ''' </summary>
    Public ullTotalVirtual As UInt64
    ''' <summary>
    ''' Size of unreserved and uncommitted memory in the user mode portion of the virtual address space of the calling process, in bytes.
    ''' </summary>
    Public ullAvailVirtual As UInt64
    ''' <summary>
    ''' Size of unreserved and uncommitted memory in the extended portion of the virtual address space of the calling process, in bytes.
    ''' </summary>
    Public ullAvailExtendedVirtual As UInt64
End Class 
```

您还可以查看[Microsoft.VisualBasic.Devices.ComputerInfo](http://msdn.microsoft.com/en-us/library/microsoft.visualbasic.devices.computerinfo.aspx)类

```
Dim info As Microsoft.VisualBasic.Devices.ComputerInfo = New Microsoft.VisualBasic.Devices.ComputerInfo 
Debug.Print(CStr(info.TotalPhysicalMemory))
Debug.Print(CStr(info.TotalVirtualMemory))
Debug.Print(CStr(info.AvailablePhysicalMemory)) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-01T06:51:35.657

```
Friend Sub ReleaseMemory()
        Try
            GC.Collect()
            GC.WaitForPendingFinalizers()
            If Environment.OSVersion.Platform = PlatformID.Win32NT Then
                SetProcessWorkingSetSize(System.Diagnostics.Process.GetCurrentProcess().Handle, -1, -1)
            End If
        Catch ex As Exception
            LogError(ex.ToString())
        End Try
    End Sub 
```

# iphone - iOS教程中的xml解析

> ID：11323326
> 
> 赞同：15
> 
> 时间：2012-07-04T06:10:04.827
> 
> 标签：iphone, ios, xcode, nsurlconnection, nsxmlparser

嗨，我正在创建一个应用程序，该应用程序必须从服务器中的 xml 文件中打印标签中的值。我尝试阅读谷歌搜索下的一些文档..但我找不到它...有没有人知道简单的教程或用于在我的应用程序中集成 xml 解析的任何示例代码。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-11-23T10:14:39.707

`XML`您可以使用以下代码进行解析。但是您必须创建可以在下面找到的类。

```
 NSURL *URL = [[NSURL alloc] initWithString:@"http:/sites.google.com/site/iphonesdktutorials/xml/Books.xml"];
    NSString *xmlString = [[NSString alloc] initWithContentsOfURL:URL encoding:NSUTF8StringEncoding error:NULL];
    NSLog(@"string: %@", xmlString);
    NSDictionary *xmlDoc = [NSDictionary dictionaryWithXMLString:xmlString];
    NSLog(@"dictionary: %@", xmlDoc); 
```

您需要创建此类以`XML`解析名称为`XMLParser`.

**XMLParser.h**

```
//
//  XMLParser.h
//
//
//  Copyright 2016 Darshan kunjadiya. All rights reserved.

#import <Foundation/Foundation.h>
#pragma GCC diagnostic push
#pragma GCC diagnostic ignored "-Wobjc-missing-property-synthesis"

typedef NS_ENUM(NSInteger, XMLDictionaryAttributesMode)
{
    XMLDictionaryAttributesModePrefixed = 0, //default
    XMLDictionaryAttributesModeDictionary,
    XMLDictionaryAttributesModeUnprefixed,
    XMLDictionaryAttributesModeDiscard
};

typedef NS_ENUM(NSInteger, XMLDictionaryNodeNameMode)
{
    XMLDictionaryNodeNameModeRootOnly = 0, //default
    XMLDictionaryNodeNameModeAlways,
    XMLDictionaryNodeNameModeNever
};

static NSString *const XMLDictionaryAttributesKey   = @"__attributes";
static NSString *const XMLDictionaryCommentsKey     = @"__comments";
static NSString *const XMLDictionaryTextKey         = @"__text";
static NSString *const XMLDictionaryNodeNameKey     = @"__name";
static NSString *const XMLDictionaryAttributePrefix = @"_";

@interface XMLURLParser : NSObject <NSCopying>

+ (XMLURLParser *)sharedInstance;

@property (nonatomic, assign) BOOL collapseTextNodes; // defaults to YES
@property (nonatomic, assign) BOOL stripEmptyNodes;   // defaults to YES
@property (nonatomic, assign) BOOL trimWhiteSpace;    // defaults to YES
@property (nonatomic, assign) BOOL alwaysUseArrays;   // defaults to NO
@property (nonatomic, assign) BOOL preserveComments;  // defaults to NO
@property (nonatomic, assign) BOOL wrapRootNode;      // defaults to NO

@property (nonatomic, assign) XMLDictionaryAttributesMode attributesMode;
@property (nonatomic, assign) XMLDictionaryNodeNameMode nodeNameMode;

- (NSDictionary *)dictionaryWithParser:(NSXMLParser *)parser;
- (NSDictionary *)dictionaryWithData:(NSData *)data;
- (NSDictionary *)dictionaryWithString:(NSString *)string;
- (NSDictionary *)dictionaryWithFile:(NSString *)path;

@end

@interface NSDictionary (XMLParser)

+ (NSDictionary *)dictionaryWithXMLParser:(NSXMLParser *)parser;
+ (NSDictionary *)dictionaryWithXMLData:(NSData *)data;
+ (NSDictionary *)dictionaryWithXMLString:(NSString *)string;
+ (NSDictionary *)dictionaryWithXMLFile:(NSString *)path;

- (NSDictionary *)attributes;
- (NSDictionary *)childNodes;
- (NSArray *)comments;
- (NSString *)nodeName;
- (NSString *)innerText;
- (NSString *)innerXML;
- (NSString *)XMLString;

- (NSArray *)arrayValueForKeyPath:(NSString *)keyPath;
- (NSString *)stringValueForKeyPath:(NSString *)keyPath;
- (NSDictionary *)dictionaryValueForKeyPath:(NSString *)keyPath;

@end

@interface NSString (XMLParser)

- (NSString *)XMLEncodedString;

@end

#pragma GCC diagnostic pop 
```

**XMLParser.m**

```
//
//  XMLParser.m
//
//
//  Copyright 2016 Darshan kunjadiya. All rights reserved.

#import "XMLParser.h"

#pragma GCC diagnostic ignored "-Wobjc-missing-property-synthesis"
#pragma GCC diagnostic ignored "-Wdirect-ivar-access"
#pragma GCC diagnostic ignored "-Wformat-non-iso"
#pragma GCC diagnostic ignored "-Wgnu"

#import <Availability.h>
#if !__has_feature(objc_arc)
#error This class requires automatic reference counting
#endif

@interface XMLURLParser () <NSXMLParserDelegate>

@property (nonatomic, strong) NSMutableDictionary *root;
@property (nonatomic, strong) NSMutableArray *stack;
@property (nonatomic, strong) NSMutableString *text;

@end

@implementation XMLURLParser

+ (XMLURLParser *)sharedInstance
{
    static dispatch_once_t once;
    static XMLURLParser *sharedInstance;
    dispatch_once(&once, ^{

        sharedInstance = [[XMLURLParser alloc] init];
    });
    return sharedInstance;
}

- (id)init
{
    if ((self = [super init]))
    {
        _collapseTextNodes = YES;
        _stripEmptyNodes = YES;
        _trimWhiteSpace = YES;
        _alwaysUseArrays = NO;
        _preserveComments = NO;
        _wrapRootNode = NO;
    }
    return self;
}

- (id)copyWithZone:(NSZone *)zone
{
    XMLURLParser *copy = [[[self class] allocWithZone:zone] init];
    copy.collapseTextNodes = _collapseTextNodes;
    copy.stripEmptyNodes = _stripEmptyNodes;
    copy.trimWhiteSpace = _trimWhiteSpace;
    copy.alwaysUseArrays = _alwaysUseArrays;
    copy.preserveComments = _preserveComments;
    copy.attributesMode = _attributesMode;
    copy.nodeNameMode = _nodeNameMode;
    copy.wrapRootNode = _wrapRootNode;
    return copy;
}

- (NSDictionary *)dictionaryWithParser:(NSXMLParser *)parser
{
    [parser setDelegate:self];
    [parser parse];
    id result = _root;
    _root = nil;
    _stack = nil;
    _text = nil;
    return result;
}

- (NSDictionary *)dictionaryWithData:(NSData *)data
{
    NSXMLParser *parser = [[NSXMLParser alloc] initWithData:data];
    return [self dictionaryWithParser:parser];
}

- (NSDictionary *)dictionaryWithString:(NSString *)string
{
    NSData *data = [string dataUsingEncoding:NSUTF8StringEncoding];
    return [self dictionaryWithData:data];
}

- (NSDictionary *)dictionaryWithFile:(NSString *)path
{   
    NSData *data = [NSData dataWithContentsOfFile:path];
    return [self dictionaryWithData:data];
}

+ (NSString *)XMLStringForNode:(id)node withNodeName:(NSString *)nodeName
{   
    if ([node isKindOfClass:[NSArray class]])
    {
        NSMutableArray *nodes = [NSMutableArray arrayWithCapacity:[node count]];
        for (id individualNode in node)
        {
            [nodes addObject:[self XMLStringForNode:individualNode withNodeName:nodeName]];
        }
        return [nodes componentsJoinedByString:@"\n"];
    }
    else if ([node isKindOfClass:[NSDictionary class]])
    {
        NSDictionary *attributes = [(NSDictionary *)node attributes];
        NSMutableString *attributeString = [NSMutableString string];
        for (NSString *key in [attributes allKeys])
        {
            [attributeString appendFormat:@" %@=\"%@\"", [[key description] XMLEncodedString], [[attributes[key] description] XMLEncodedString]];
        }

        NSString *innerXML = [node innerXML];
        if ([innerXML length])
        {
            return [NSString stringWithFormat:@"<%1$@%2$@>%3$@</%1$@>", nodeName, attributeString, innerXML];
        }
        else
        {
            return [NSString stringWithFormat:@"<%@%@/>", nodeName, attributeString];
        }
    }
    else
    {
        return [NSString stringWithFormat:@"<%1$@>%2$@</%1$@>", nodeName, [[node description] XMLEncodedString]];
    }
}

- (void)endText
{
    if (_trimWhiteSpace)
    {
        _text = [[_text stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]] mutableCopy];
    }
    if ([_text length])
    {
        NSMutableDictionary *top = [_stack lastObject];
        id existing = top[XMLDictionaryTextKey];
        if ([existing isKindOfClass:[NSArray class]])
        {
            [existing addObject:_text];
        }
        else if (existing)
        {
            top[XMLDictionaryTextKey] = [@[existing, _text] mutableCopy];
        }
        else
        {
            top[XMLDictionaryTextKey] = _text;
        }
    }
    _text = nil;
}

- (void)addText:(NSString *)text
{   
    if (!_text)
    {
        _text = [NSMutableString stringWithString:text];
    }
    else
    {
        [_text appendString:text];
    }
}

- (void)parser:(__unused NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(__unused NSString *)namespaceURI qualifiedName:(__unused NSString *)qName attributes:(NSDictionary *)attributeDict
{   
    [self endText];

    NSMutableDictionary *node = [NSMutableDictionary dictionary];
    switch (_nodeNameMode)
    {
        case XMLDictionaryNodeNameModeRootOnly:
        {
            if (!_root)
            {
                node[XMLDictionaryNodeNameKey] = elementName;
            }
            break;
        }
        case XMLDictionaryNodeNameModeAlways:
        {
            node[XMLDictionaryNodeNameKey] = elementName;
            break;
        }
        case XMLDictionaryNodeNameModeNever:
        {
            break;
        }
    }

    if ([attributeDict count])
    {
        switch (_attributesMode)
        {
            case XMLDictionaryAttributesModePrefixed:
            {
                for (NSString *key in [attributeDict allKeys])
                {
                    node[[XMLDictionaryAttributePrefix stringByAppendingString:key]] = attributeDict[key];
                }
                break;
            }
            case XMLDictionaryAttributesModeDictionary:
            {
                node[XMLDictionaryAttributesKey] = attributeDict;
                break;
            }
            case XMLDictionaryAttributesModeUnprefixed:
            {
                [node addEntriesFromDictionary:attributeDict];
                break;
            }
            case XMLDictionaryAttributesModeDiscard:
            {
                break;
            }
        }
    }

    if (!_root)
    {
        _root = node;
        _stack = [NSMutableArray arrayWithObject:node];
        if (_wrapRootNode)
        {
            _root = [NSMutableDictionary dictionaryWithObject:_root forKey:elementName];
            [_stack insertObject:_root atIndex:0];
        }
    }
    else
    {
        NSMutableDictionary *top = [_stack lastObject];
        id existing = top[elementName];
        if ([existing isKindOfClass:[NSArray class]])
        {
            [existing addObject:node];
        }
        else if (existing)
        {
            top[elementName] = [@[existing, node] mutableCopy];
        }
        else if (_alwaysUseArrays)
        {
            top[elementName] = [NSMutableArray arrayWithObject:node];
        }
        else
        {
            top[elementName] = node;
        }
        [_stack addObject:node];
    }
}

- (NSString *)nameForNode:(NSDictionary *)node inDictionary:(NSDictionary *)dict
{
    if (node.nodeName)
    {
        return node.nodeName;
    }
    else
    {
        for (NSString *name in dict)
        {
            id object = dict[name];
            if (object == node)
            {
                return name;
            }
            else if ([object isKindOfClass:[NSArray class]] && [object containsObject:node])
            {
                return name;
            }
        }
    }
    return nil;
}

- (void)parser:(__unused NSXMLParser *)parser didEndElement:(__unused NSString *)elementName namespaceURI:(__unused NSString *)namespaceURI qualifiedName:(__unused NSString *)qName
{   
    [self endText];

    NSMutableDictionary *top = [_stack lastObject];
    [_stack removeLastObject];

    if (!top.attributes && !top.childNodes && !top.comments)
    {
        NSMutableDictionary *newTop = [_stack lastObject];
        NSString *nodeName = [self nameForNode:top inDictionary:newTop];
        if (nodeName)
        {
            id parentNode = newTop[nodeName];
            if (top.innerText && _collapseTextNodes)
            {
                if ([parentNode isKindOfClass:[NSArray class]])
                {
                    parentNode[[parentNode count] - 1] = top.innerText;
                }
                else
                {
                    newTop[nodeName] = top.innerText;
                }
            }
            else if (!top.innerText && _stripEmptyNodes)
            {
                if ([parentNode isKindOfClass:[NSArray class]])
                {
                    [parentNode removeLastObject];
                }
                else
                {
                    [newTop removeObjectForKey:nodeName];
                }
            }
            else if (!top.innerText && !_collapseTextNodes && !_stripEmptyNodes)
            {
                top[XMLDictionaryTextKey] = @"";
            }
        }
    }
}

- (void)parser:(__unused NSXMLParser *)parser foundCharacters:(NSString *)string
{
    [self addText:string];
}

- (void)parser:(__unused NSXMLParser *)parser foundCDATA:(NSData *)CDATABlock
{
    [self addText:[[NSString alloc] initWithData:CDATABlock encoding:NSUTF8StringEncoding]];
}

- (void)parser:(__unused NSXMLParser *)parser foundComment:(NSString *)comment
{
    if (_preserveComments)
    {
        NSMutableDictionary *top = [_stack lastObject];
        NSMutableArray *comments = top[XMLDictionaryCommentsKey];
        if (!comments)
        {
            comments = [@[comment] mutableCopy];
            top[XMLDictionaryCommentsKey] = comments;
        }
        else
        {
            [comments addObject:comment];
        }
    }
}

@end

@implementation NSDictionary(XMLDictionary)

+ (NSDictionary *)dictionaryWithXMLParser:(NSXMLParser *)parser
{
    return [[[XMLURLParser sharedInstance] copy] dictionaryWithParser:parser];
}

+ (NSDictionary *)dictionaryWithXMLData:(NSData *)data
{
    return [[[XMLURLParser sharedInstance] copy] dictionaryWithData:data];
}

+ (NSDictionary *)dictionaryWithXMLString:(NSString *)string
{
    return [[[XMLURLParser sharedInstance] copy] dictionaryWithString:string];
}

+ (NSDictionary *)dictionaryWithXMLFile:(NSString *)path
{
    return [[[XMLURLParser sharedInstance] copy] dictionaryWithFile:path];
}

- (NSDictionary *)attributes
{
    NSDictionary *attributes = self[XMLDictionaryAttributesKey];
    if (attributes)
    {
        return [attributes count]? attributes: nil;
    }
    else
    {
        NSMutableDictionary *filteredDict = [NSMutableDictionary dictionaryWithDictionary:self];
        [filteredDict removeObjectsForKeys:@[XMLDictionaryCommentsKey, XMLDictionaryTextKey, XMLDictionaryNodeNameKey]];
        for (NSString *key in [filteredDict allKeys])
        {
            [filteredDict removeObjectForKey:key];
            if ([key hasPrefix:XMLDictionaryAttributePrefix])
            {
                filteredDict[[key substringFromIndex:[XMLDictionaryAttributePrefix length]]] = self[key];
            }
        }
        return [filteredDict count]? filteredDict: nil;
    }
    return nil;
}

- (NSDictionary *)childNodes
{   
    NSMutableDictionary *filteredDict = [self mutableCopy];
    [filteredDict removeObjectsForKeys:@[XMLDictionaryAttributesKey, XMLDictionaryCommentsKey, XMLDictionaryTextKey, XMLDictionaryNodeNameKey]];
    for (NSString *key in [filteredDict allKeys])
    {
        if ([key hasPrefix:XMLDictionaryAttributePrefix])
        {
            [filteredDict removeObjectForKey:key];
        }
    }
    return [filteredDict count]? filteredDict: nil;
}

- (NSArray *)comments
{
    return self[XMLDictionaryCommentsKey];
}

- (NSString *)nodeName
{
    return self[XMLDictionaryNodeNameKey];
}

- (id)innerText
{   
    id text = self[XMLDictionaryTextKey];
    if ([text isKindOfClass:[NSArray class]])
    {
        return [text componentsJoinedByString:@"\n"];
    }
    else
    {
        return text;
    }
}

- (NSString *)innerXML
{   
    NSMutableArray *nodes = [NSMutableArray array];

    for (NSString *comment in [self comments])
    {
        [nodes addObject:[NSString stringWithFormat:@"<!--%@-->", [comment XMLEncodedString]]];
    }

    NSDictionary *childNodes = [self childNodes];
    for (NSString *key in childNodes)
    {
        [nodes addObject:[XMLURLParser XMLStringForNode:childNodes[key] withNodeName:key]];
    }

    NSString *text = [self innerText];
    if (text)
    {
        [nodes addObject:[text XMLEncodedString]];
    }

    return [nodes componentsJoinedByString:@"\n"];
}

- (NSString *)XMLString
{
    if ([self count] == 1 && ![self nodeName])
    {
        //ignore outermost dictionary
        return [self innerXML];
    }
    else
    {
        return [XMLURLParser XMLStringForNode:self withNodeName:[self nodeName] ?: @"root"];
    }
}

- (NSArray *)arrayValueForKeyPath:(NSString *)keyPath
{
    id value = [self valueForKeyPath:keyPath];
    if (value && ![value isKindOfClass:[NSArray class]])
    {
        return @[value];
    }
    return value;
}

- (NSString *)stringValueForKeyPath:(NSString *)keyPath
{
    id value = [self valueForKeyPath:keyPath];
    if ([value isKindOfClass:[NSArray class]])
    {
        value = [value count]? value[0]: nil;
    }
    if ([value isKindOfClass:[NSDictionary class]])
    {
        return [(NSDictionary *)value innerText];
    }
    return value;
}

- (NSDictionary *)dictionaryValueForKeyPath:(NSString *)keyPath
{
    id value = [self valueForKeyPath:keyPath];
    if ([value isKindOfClass:[NSArray class]])
    {
        value = [value count]? value[0]: nil;
    }
    if ([value isKindOfClass:[NSString class]])
    {
        return @{XMLDictionaryTextKey: value};
    }
    return value;
}

@end

@implementation NSString (XMLDictionary)

- (NSString *)XMLEncodedString
{   
    return [[[[[self stringByReplacingOccurrencesOfString:@"&" withString:@"&amp;"]
               stringByReplacingOccurrencesOfString:@"<" withString:@"&lt;"]
              stringByReplacingOccurrencesOfString:@">" withString:@"&gt;"]
             stringByReplacingOccurrencesOfString:@"\"" withString:@"&quot;"]
            stringByReplacingOccurrencesOfString:@"\'" withString:@"&apos;"];
}

@end 
```

我希望这个答案对你有用。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-05T18:00:50.893

[使用 TBXml 解析器..这是最简单的方法，解析值所需的时间也更少..你可以在github](https://github.com/71squared/TBXML)上下载 TBXMLDemo 项目并打印它而不是标签你可以使用表格视图单元格并将其选择为空。这样它看起来像标签。如果你需要更多细节评论我，..我会帮助它..

# google-analytics - 自定义页面加载报告

> ID：11323331
> 
> 赞同：0
> 
> 时间：2012-07-04T06:10:33.007
> 
> 标签：google-analytics

我刚开始使用 Google Analytics。我正在尝试创建一个可以为我提供接近下图的数据的报告。我该怎么做呢？

这些是我试图跟踪的正则表达式：

1.  /
2.  /abc/? - 即，尾随斜杠可选
3.  /abc/.* - 即文件夹“abc”下所有网址的平均值

我知道这是一份复杂的报告，并且可能无法在 Google Analytics 中开箱即用，但任何让我接近这一点的东西也值得赞赏。

![示例 grpah](../Images/16ba6356dcd05769e0ff06ce5056361e.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-15T15:04:04.717

您可以使用过滤器制作自定义报告吗？这篇[文章](http://cutroni.com/blog/2011/03/28/understanding-google-analytics-custom-reports/)可能会有所帮助。

我创建了一个名为[embeddedanalytics](http://www.embeddedanalytics.com)的 3rd 方服务。有了它，您可以根据您的 GA 数据定义图表，然后将它们显示在网站的任何位置。我们支持过滤，因此您可以生成这样的报告。但一般来说，过滤没有记录。因此，如果您有兴趣，请给我们留言，询问如何应用过滤器。

# python - 通过相对路径将 C 文件传递 给 setup.py

> ID：11323334
> 
> 赞同：1
> 
> 时间：2012-07-04T06:10:42.933
> 
> 标签：python, setup.py

如何在 setup.py 脚本中传递 hello.c 文件的相对路径？使用“../code/Hello.c”时，以下代码不起作用。我收到错误 atal error: error writing to -: Broken pipe 编译终止。该错误不可重现，因此可能是硬件或操作系统问题

例如：我在目录中运行此脚本，`script/`并且 hello.c 存在于目录中`code/`：

```
from distutils.core import setup, Extension
module1 = Extension('Hello', sources = ['../code/Hello.c'])

Setup (name = 'PackageName',
    version = '1.0',
    description = 'This is a demo package',
    ext_modules = [module1]) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:46:16.537

是的，您可以在 Extension 类中传递到源文件的相对路径。但是，这并不是真正推荐的方法。确保您在源目录树的根级别编写 setup.py 并且您的引用位于其下方是一个好主意。在这种情况下，您使用 unix 路径分隔符指定的相对路径也与平台无关。

# google-drive-api - Google Drive SDK Mobile 集成查询

> ID：11323335
> 
> 赞同：1
> 
> 时间：2012-07-04T06:10:46.590
> 
> 标签：google-drive-api

我一直在开发一个移动应用程序，它使用 HTTP POST/GET 来检索文件/文件夹列表、上传/下载文件等，这似乎与 GData 文档列表 API 配合得很好。现在 GDrive SDK V2 可用，我将转向新的 API。

当我将身份验证范围从[https://docs.google.com/feeds/](https://docs.google.com/feeds/)更改为[https://www.googleapis.com/auth/drive](https://www.googleapis.com/auth/drive)时，出现 400 错误。我了解到我需要配置 API 控制台才能使用 Google Drive SDK。

在这里，问题是在 API 控制台中配置 Google Drive SDK 时，它要求打开 URL（当用户使用您的应用程序打开现有的 Google Drive 项目时使用此 URL），这不适用于我的应用程序（这只是一个文件管理器应用程序）。

请让我知道如何解决此限制。

最好的问候， Karthik

更新：

我正在遵循[https://developers.google.com/accounts/docs/OAuth2ForDevices上的说明](https://developers.google.com/accounts/docs/OAuth2ForDevices)

发布网址：[https ://accounts.google.com/o/oauth2/device/code](https://accounts.google.com/o/oauth2/device/code)

POST 正文：client_id=xxxxx.apps.googleusercontent.com&scope=https://www.googleapis.com/auth/drive

HTTP 响应：400

响应正文：

{“错误”：“无效范围”}

如果我有如下的 POST 正文，它可以工作 client_id=xxxxx.apps.googleusercontent.com&scope=https://docs.google.com/feeds/

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T21:04:43.123

如果您只想使用 API 而不与 Drive 用户界面集成，则无需设置打开方式和创建 URL。Drive API 应该可以替换您的文档列表集成。

请确保您使用的是 API 的 v2，您的范围问题可能与使用 v1 有关。我们可以通过将请求和响应粘贴到您收到 400 的位置来进行检查。

# windows-phone-7.1 - WP7 导航中的内存泄漏问题 - 列表框绑定

> ID：11323350
> 
> 赞同：1
> 
> 时间：2012-07-04T06:12:02.880
> 
> 标签：windows-phone-7.1

我正在Silverlight 中为Windows Phone 7 开发一个应用程序。我陷入了Windows Phone 应用程序中非常常见的问题，但无法以任何方式摆脱它。这是从第一页到第二页、从第二页到第一页等多次导航时出现的内存泄漏问题。

为了解决这个问题，我创建了一个有 2 个空白页的新项目。每页有 2 个文本块用于打印当前内存和峰值内存，以及一个用于移动到下一页或上一页的按钮。当从第 1 页导航到第 2 页时，我对所有 3 件事进行空引用并调用 gc.collect 来销毁页面引用。同样，从第 2 页移到第 1 页时，我做同样的事情。

我还尝试每隔 500 毫秒在计时器中调用 gc.collect()，但仍然没有结果。如果我完全删除 gc.collect()，内存会增加 MB，所以我认为这是必须的。

这是我的代码片段：

主页：

```
 using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Windows;
    using System.Windows.Controls;
    using Microsoft.Phone.Controls;
    using System.Windows.Threading;

    namespace AppMemory
    {
        public partial class MainPage : PhoneApplicationPage
        {

            // Constructor
            public MainPage()
            {
                InitializeComponent();

                txtCM.Text = "C : " + Microsoft.Phone.Info.DeviceStatus.ApplicationCurrentMemoryUsage.ToString();
                txtPM.Text = "P: " + Microsoft.Phone.Info.DeviceStatus.ApplicationPeakMemoryUsage.ToString();
            }

            // Simple button Click event handler to take us to the second page
            private void Button_Click(object sender, RoutedEventArgs e)
            {
                NavigationService.Navigate(new Uri("/Page1.xaml", UriKind.Relative));
            }

            protected override void OnBackKeyPress(System.ComponentModel.CancelEventArgs e)
            {
                while (this.NavigationService.BackStack.Any())
                {
                    this.NavigationService.RemoveBackEntry();
                }
            }

            protected override void OnNavigatedTo(System.Windows.Navigation.NavigationEventArgs e)
            {
                while (this.NavigationService.BackStack.Any())
                {
                    this.NavigationService.RemoveBackEntry();
                }
            }
            protected override void OnNavigatedFrom(System.Windows.Navigation.NavigationEventArgs e)
            {
                dosposeMemory();
                base.OnNavigatedFrom(e);
                this.DataContext = null;
                GC.Collect();
            }

            public void dosposeMemory()
            {
                try
                {
                    if (txtCM != null)
                    {
                        txtCM.Text = null;
                        txtCM = null;
                    }

                    if (txtPM != null)
                    {
                        txtPM.Text = null;
                        txtPM = null;
                    }

                    if (btn1 != null)
                    {
                        btn1.Click -= Button_Click;
                        btn1.Style = null;
                        btn1.Resources.Clear();
                        btn1.Resources = null;
                        btn1 = null;
                    }

                    if (ContentPanel != null)
                    {
                        ContentPanel.Children.Clear();
                        ContentPanel.Resources.Clear();
                        ContentPanel.Resources = null;
                        ContentPanel = null;
                    }

                    if (LayoutRoot != null)
                    {
                        LayoutRoot.DataContext = null;
                        LayoutRoot.Background = null;
                        LayoutRoot.Resources.Clear();
                        LayoutRoot.Resources = null;
                        LayoutRoot.Children.Clear();
                        LayoutRoot = null;
                    }

                  if (app1 != null)
                    {
                        app1.Resources.Clear();
                        app1.Resources = null;
                        app1 = null;
                    }

                    GC.Collect();
                }
                catch(Exception)
                {

                }
            }

            ~MainPage()
            {
                System.Windows.Deployment.Current.Dispatcher.BeginInvoke(new System.Action(() =>
                {
                    GC.Collect();
                }));
            }
        }
    } 
```

第二页：

```
 using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Net;
    using System.Windows;
    using System.Windows.Controls;
    using System.Windows.Documents;
    using System.Windows.Input;
    using System.Windows.Media;
    using System.Windows.Media.Animation;
    using System.Windows.Shapes;
    using Microsoft.Phone.Controls;

    namespace AppMemory
    {
        public partial class Page1 : PhoneApplicationPage
        {
            public Page1()
            {
                InitializeComponent();
                textBlock1.Text = "C : " + Microsoft.Phone.Info.DeviceStatus.ApplicationCurrentMemoryUsage.ToString();
                textBlock2.Text = "P: " + Microsoft.Phone.Info.DeviceStatus.ApplicationPeakMemoryUsage.ToString();
            }
            protected override void OnBackKeyPress(System.ComponentModel.CancelEventArgs e)
            {
                while (this.NavigationService.BackStack.Any())
                {
                    this.NavigationService.RemoveBackEntry();
                }

                NavigationService.Navigate(new Uri("/MainPage.xaml", UriKind.Relative));
            }
            protected override void OnNavigatedTo(System.Windows.Navigation.NavigationEventArgs e)
            {
                while (this.NavigationService.BackStack.Any())
                {
                    this.NavigationService.RemoveBackEntry();
                }
            }
            protected override void OnNavigatedFrom(System.Windows.Navigation.NavigationEventArgs e)
            {
                dosposeMemory();
                base.OnNavigatedFrom(e);
                this.DataContext = null;
                GC.Collect();
            }
            public void dosposeMemory()
            {
                try
                {
                    if (textBlock1 != null)
                    {
                        textBlock1.Text = null;
                        textBlock1 = null;
                    }

                    if (textBlock2 != null)
                    {
                        textBlock2.Text = null;
                        textBlock2 = null;
                    }

                    if (ContentPanel != null)
                    {
                        ContentPanel.Children.Clear();
                        ContentPanel.Resources.Clear();
                        ContentPanel.Resources = null;

                        ContentPanel = null;
                    }
                    if (LayoutRoot != null)
                    {
                        LayoutRoot.Children.Clear();
                        LayoutRoot.Resources.Clear();
                        LayoutRoot.Resources = null;

                        LayoutRoot = null;
                    }
                    if (page1 != null)
                    {
                        page1.Resources.Clear();
                        page1.Resources = null;
                        page1 = null;
                    }
                    GC.Collect();
                }
                catch (Exception)
                {
                    GC.Collect();
                }
            }
        }
    } 
```

这是对每次尝试中增加的当前内存的跟踪：

```
 Try Page 1      Page 2
    1   7426048         7442432
    2   6959104     8257536
    3   6934528     8454144
    4   8622080     8458240
    5   8626176     8470528
    6   8630272     8470528 
```

问题： 1）我的流程和方法是否适合从导航到返回以管理内存？2) 我为文本块和按钮设置引用为空的方法是否正确？3）同样在我的实际项目中，我在列表框中使用数据绑定，我已经通过以下方式进行了破坏。

```
 if (listCountry != null)
    {
        listCountry.SelectionChanged -= listCountry_SelectionChanged;
        //listCountry.Items.Clear();
        listCountry.DataContext = null;
        listCountry.ItemsSource = null;
        listCountry.Resources.Clear();
        listCountry.Resources = null;
        listCountry = null;
    } 
```

我对此表示怀疑，因为在我的项目中，这种列表框有多种用法。

请带我离开，因为我花了很多时间进行研究和更新，但没有找到当前和峰值内存的解决方案。

提前致谢。大卫雅各布斯。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-30T13:55:04.193

我在开发 WP8 应用程序时遇到了同样的问题。当您覆盖该`OnBackKeyPress`方法时，准确地说，在您的第二页上，您需要从堆栈（或`JournalEntry`）中删除该页面，因为如果不这样做，您会将其留在堆栈中，并且它无法被 GC 拾取。您需要添加`NavigationService.RemoveBackEntry();`到`OnBackKeyPress`方法中，重要的是首先调用`NavigationService.RemoveBackEntry();`然后执行您想要的操作。

# c# - UDP 广播/响应 - 避免类似 DDoS 的情况？

> ID：11323352
> 
> 赞同：3
> 
> 时间：2012-07-04T06:12:08.490
> 
> 标签：c#, networking, udp, broadcast

我想实现一个自我传播系统，用于使用 UDP 广播和 UDP 响应在多台客户端计算机上分发一小段数据（IP 地址）。为此，我正在使用 C#（`UDPListener`并且`Socket`，请参阅[此示例](http://msdn.microsoft.com/en-us/library/tst0kwb1%28v=vs.90%29.aspx)）。

它会像这样工作：

1.  客户端 1 广播`What is the IP address?`

2.  所有其他客户端使用其 IP 地址版本响应**客户端 1 （不是广播）：例如**`192.168.1.10`

3.  客户端 1 测试收到的每个 IP 地址并使用最合适的一个

**我的问题是，这种短暂的响应是否会对大型网络造成重大的瓶颈/类似 DDoS 的影响？例如，如果 1,000 台客户端机器都同时响应客户端 1？**

编辑：我不是要创建 DoS 攻击，而是要避免拒绝服务的情况。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:31:19.907

Look at [ARP](http://en.wikipedia.org/wiki/Address_Resolution_Protocol), what you are trying to accomplish is already supported by NIC cards out of the box, for a DOS attack to succeed, packet should translate up the network stack where it consumes user/kernel-process space, CPU and/or other resources, when such packets are received at a faster rate than system can handle, it leads to Denial of Service.

# javascript - asp.net webform 页面中的动画图像标题

> ID：11323355
> 
> 赞同：0
> 
> 时间：2012-07-04T06:12:33.690
> 
> 标签：javascript, jquery, asp.net

我正在研究基于 asp.net 的照片库，我将图像显示为矩阵，我正在使用以下文章来实现这些图像的动画图像标题

[http://buildinternet.com/2009/03/sliding-boxes-and-captions-with-jquery/](http://buildinternet.com/2009/03/sliding-boxes-and-captions-with-jquery/)

它工作正常，除了我想在移动时显示图像标题并在鼠标移出功能上隐藏标题。

我试图改变脚本，但我无法让它工作

我已将我的脚本上传到[http://jsfiddle.net/AMcnZ/12/](http://jsfiddle.net/AMcnZ/12/)

在这方面的帮助表示赞赏。昨天我尝试了几个图像标题脚本，其中一些非常酷，但由于某种原因，它们都不能在 asp.net 中工作。

我有这个工作，但我无法修改脚本以实现类似于链接[http://www.wbotelhos.com/capty/上的第一个示例显示的效果](http://www.wbotelhos.com/capty/)

我尝试了这个示例，但由于某种原因无法在 asp.net webform 上运行。[如果有人可以在http://jsfiddle.net/AMcnZ/12/](http://jsfiddle.net/AMcnZ/12/)上修复我的脚本 以获得示例中所示的预期效果，我将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:33:21.343

我已经用正确的行为更新了你的小提琴：http: [//jsfiddle.net/kayen/JBnbG/](http://jsfiddle.net/kayen/JBnbG/)

由于您在页面底部显示标题，因此您需要更改动画**底部**属性并在悬停时将其设置为**0** ，在鼠标移出时将其设置为**(0 - 标题高度)px 。**

# android - 在 Android 应用程序中存储静态数据的最佳方式是什么？

> ID：11323356
> 
> 赞同：0
> 
> 时间：2012-07-04T06:12:36.367
> 
> 标签：android, xml, database, storage

我有一堆数据（每个数据实体都有一些属性，如 id、name ...）。

我想将它们静态存储在 Android 应用程序中。最好的方法是什么？允许读取它们并访问数据集中的任何实体？

使用arrays.xml（一个用于ID，另一个用于名称）怎么样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:15:59.650

SQLite 数据库。

[http://www.vogella.com/articles/AndroidSQLite/article.html](http://www.vogella.com/articles/AndroidSQLite/article.html)

[http://saigeethamn.blogspot.sg/2009/10/android-developer-tutorial-part-12.html](http://saigeethamn.blogspot.sg/2009/10/android-developer-tutorial-part-12.html)

[http://www.androidhive.info/2011/11/android-sqlite-database-tutorial/](http://www.androidhive.info/2011/11/android-sqlite-database-tutorial/)

或者您可以将其存储在数组中。

# html - 响应式两列浮动列表

> ID：11323364
> 
> 赞同：0
> 
> 时间：2012-07-04T06:13:11.720
> 
> 标签：html, css, css-float, responsive-design, media-queries

基本上我想要做的是创建一些标记，允许我调整浏览器窗口的大小以及相应`div`调整大小的内容。

以下是屏幕宽度较大时的布局： [![更大的宽度](../Images/8c9caa426fdd4fab83f613f1617f4db1.png)](https://i.stack.imgur.com/BnBVK.jpg)

以下是在更窄的屏幕宽度下的布局： [![更窄的宽度](../Images/969051f1b79bc748eee874add9c24171.png)](https://i.stack.imgur.com/MYdSs.jpg)

*字体大小都可以保持不变。*

我遇到的困难是让布局相应地改变，并在宽度缩小时让头像从 80 像素缩小到 50 像素。

我有我的头像图片

```
<div class="comments-avatar">
    <img src="#" />
</div> 
```

元信息和评论文本被包裹在

```
<div class="comments-content">
    <div class="comments-meta">
        <div class="comments-text"></div>
    </div>
</div> 
```

`.comments-avatar`该类向左浮动，而该类`.comments-content`向右浮动。除此之外，我假设我需要使用 CSS 媒体查询。我知道该怎么做，我想我正在努力解决的问题与需要设置百分比有关吗？

任何使这个标记尽可能简单的想法（甚至比我想要做的更简单）都将不胜感激。

* * *

到目前为止，这是我在代码方面所拥有的。我对此并不完全满意。似乎比必要的代码更多......

# CSS：

```
#comments {
    padding: 20px 0 0 0;
    border-top: 1px solid @clr-1;

    ol.commentlist {
        margin: 35px 0 50px 0;
        padding: 0;
        list-style: none;

        li {
            padding: 0 0 52px 5px;

            .comment-avatar {
                width: 11%;
                min-width: 50px;
                float: left;
                padding: 0 10px 0 0;

                .avatar {
                    margin-top: -2px;
                    width: 100%;
                    height: auto;
                    min-width: 50px;
                    max-width: 80px;
                }
            }

            .comment-content {
                width: 100%;

                .comment-meta {
                    font-size: 1.8em;
                    padding: 4% 0;
                }

                > p {
                    margin: 22px 0;
        }
            }
        }
    }
}

@media only screen and (min-width:961px) {
    .comment-content {
        width: 87%;
        float: right;
    }

    .comment-meta {
        padding: 0;
    }
} 
```

# HTML：

```
<div id="comments">
    <ol class="commentlist">
        <li>
            <div class="comment-avatar">
                <img src="avatar/image/here.jpg" />
            </div>

            <div class="comment-content">
                <div class="comment-meta">
                    Posted on July 30, by admin.
                </div>

                <p>Paragraph text here...</p>
                <p>Paragraph text here...</p>
            </div>
            <div class="clear"></div>
        </li>
    </ol>
</div> 
```

有什么想法吗？这似乎是一种过于hack-ish的样式化方式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:43:58.433

如果您使用 div 的 play with % inspite of px 来定义分区的大小。因为 % 是相对于屏幕的，而 px 在上下文中是固定的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:58:24.910

这段代码应该做你需要的：

```
<!DOCTYPE html>
<html>
<head>
<style>
    html,body{
        padding:0;
        margin:0;
    }

    .lpanel{
        float:left;
        width:50px;
        height:50px;
        background-color:red;
    }

    .rpanel{
        margin-left:50px;
    }

    @media screen and (max-width:400px){
        .rpanel{
            margin-left:0;
        }
    }
</style>
</head>
<body>
  <div class="lpanel">
  </div>
  <div class="rpanel">
            Some long text
      </div>
</body>
</html> 
```

# android - 如何在 DDMS 中查找 Android 应用程序的 CPU 和内存利用率？

> ID：11323366
> 
> 赞同：0
> 
> 时间：2012-07-04T06:13:19.350
> 
> 标签：android, memory, cpu, ddms

如何在 DDMS 中查找 Android 应用程序的 CPU 和内存利用率？我需要一步一步的帮助。

堆和分配的内存有什么区别？实际使用的是哪个内存？

而且我只能看到 CPU 使用率的 PI 图表。如何查看 CPU 使用率的实际百分比？

提前致谢，终结者

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-19T06:40:07.290

您可以尝试第三方工具，例如 Google Play 上的 TaskSpy。

它为您提供直观的图表，使您能够分析一个特定的正在运行的应用程序

![在此处输入图像描述](../Images/02c551e4c47a94edd6f38eba3e2203f5.png)

# php - Zend Framework 控制器中的额外文件夹

> ID：11323367
> 
> 赞同：3
> 
> 时间：2012-07-04T06:13:25.693
> 
> 标签：php, zend-framework, frameworks

我想在控制器中添加一个新目录。我不想创建模块或其他东西。我的结构是这样的：

```
application
    controllers
        connections
    models
    ... 
```

我希望能够将任何控制器添加到连接中，以便我可以使用它。

哦，连接内的控制器只会被

```
// forward to an action in another controller:
// FooController::bazAction(),
// in the current module:
$this->_forward('baz', 'foo', null, array('baz' => 'bogus')); 
```

我的问题是我必须向引导程序（或其他任何地方）添加什么才能使用这些控制器？

我不断收到错误消息：无效的控制器

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T09:38:54.867

考虑以下结构：

```
application
    controllers
        Connection  (with a capitalized C and no S)
    models
    ... 
```

您可以使用以下方式转发给控制器：

```
// forward to an action in another controller:
// Connection_FooController::bazAction(),
// in the current module:
$this->_forward('baz', 'connection_foo', null, array('baz' => 'bogus')); 
```

# php - 获取 mysql 结果，然后随机化结果顺序，然后显示一个与其他结果不同的结果

> ID：11323379
> 
> 赞同：1
> 
> 时间：2012-07-04T06:14:37.953
> 
> 标签：php, mysql, random

我有一个获取 6 个结果的查询，然后我想随机化这 6 个结果，这样每当人们重新加载页面时，它们就会按顺序随机化。

在这 6 个结果中，我想在单独的框中显示一个而不是其他结果，我该怎么做？

这就是我的想法，得到结果，在数组上使用 shuffle() ，然后在我做的单独的盒子里`echo array[0]['info']`，然后剩下的我做 a`$i = 2; while($i <= 6);`和 echo`array[$i]['info'];`

你怎么看？有没有更好的办法？

我需要此功能尽可能高效，因此任何提示都值得赞赏。单独的查询可能吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-04T06:22:19.327

您可以从 MySQL 中以随机顺序获取结果，而不是在 PHP 中对其进行随机化。

```
SELECT * FROM `table` ORDER BY RAND() LIMIT 6; 
```

另见[RAND()](https://dev.mysql.com/doc/refman/5.0/en/mathematical-functions.html#function_rand)（下面的注释）

**编辑：**

要仅随机化最后 x 个条目，请参阅[此](https://stackoverflow.com/a/6621862/20261)答案。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-04T06:24:34.970

你可以用这个...

```
select * from (select * from table order by date desc limit 6) as t order by rand(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-04T06:31:22.357

```
shuffle( $result );

foreach( $result as $key=>$value ):
    if( $key ):
       // get first item
       $firstOne = $value;
       continue;
    endif;
    // echo others
endforeach; 
```

然后在单独的框中回显 $firstOne。

# php - 将联系人导出到邮件黑猩猩与 codeigniter 集成

> ID：11323389
> 
> 赞同：-2
> 
> 时间：2012-07-04T06:15:48.610
> 
> 标签：php, codeigniter, mailchimp

“我想使用用户提供的 api 密钥和列表 ID 将电子邮件联系人上传到 mailchimp，并且数据库中的电子邮件列表将上传到特定 listId 的 mailchimp”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T08:16:22.563

**首先你必须下载这个库文件夹[http://apidocs.mailchimp.com/api/downloads/](http://apidocs.mailchimp.com/api/downloads/)**

下面的示例适用于**codeigniter**

1.  在您的帮助文件夹中包含 MCAPI.class 文件
2.  然后将其重命名为 MCAPI_helper.php
3.  现在您将以下代码添加到您的控制器。

    ```
    function index()
    {

        $apikey = "****mail chimp api key***";
        $listId = "****list id key***"; 
        $my_email ="testing@gmail.com";
        $api = new MCAPI($apikey);

        $merge_vars = array("FNAME"=>'SANDEEP', "LNAME"=>'KUMAR'); 
    ```

    // 如果你想从用户那里得到确认而不是设置 $double_optin=true

    ```
     $retval = $api->listSubscribe( $listId, $my_email,    $merge_vars,$email_type='html', $double_optin=false );

        if ($api->errorCode){
            echo "Unable to load listSubscribe()!\n";
            echo "\tCode=".$api->errorCode."\n";
            echo "\tMsg=".$api->errorMessage."\n";
        } else {
            echo "the contact is added to you list";
        }

    } 
    ```

# android - 广告无法在 Android 中加载

> ID：11323395
> 
> 赞同：7
> 
> 时间：2012-07-04T06:16:23.777
> 
> 标签：android, ads, mopub

我在我的应用程序中集成**了 Mopub** Ads sdk。我在 Mopub 创建了一个帐户，并为我的应用程序获得了一个**AdUnitId**。

我已按照 mopub 教程中提到的所有步骤进行操作，虽然步骤非常简单，但我未能在我的应用程序中显示广告。我总是不断收到以下日志：

```
D/MoPub(2393): MoPub server returned invalid response.

I/MoPub(2393): Ad failed to load. 
```

这是我获取广告横幅的代码：

```
MoPubView mAdView = (MoPubView) findViewById(R.id.adview);
        mAdView.setAdUnitId("xxxxxxxxxxxxxx"); 
        mAdView.loadAd();
        mAdView.setOnAdLoadedListener(new OnAdLoadedListener() {
            public void OnAdLoaded(MoPubView mpv) {
                Toast.makeText(getApplicationContext(), "Ad loaded!!!", Toast.LENGTH_SHORT).show();
            }
        }); 
```

**注意：**我还没有在 Mopub 服务器上添加付款详情。这可能是可能的原因。但我认为付款细节与上述例外无关。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-17T02:30:40.333

获取横幅的代码看起来不错。付款细节不应影响任何事情。您设置的第一个 AdUnit 应自动包含一个“演示广告系列”，该广告系列将投放一个“成功”广告。转到 MoPub 网站上的“广告系列”并确认它存在并且已为您的 AdUnit 启用。

至于错误：

> D/MoPub(2393)：MoPub 服务器返回无效响应。
> 
> I/MoPub(2393)：广告加载失败。

我最近在测试过程中遇到了这个问题——到目前为止，我只注意到它发生在 API8 上。我测试过的所有其他版本都已成功投放演示广告。

尝试针对另一个版本进行测试（如果您发现这里发生了什么，请将其附加到此答案中）。

# android - 查看 Flipper：编译时间还是运行时间？

> ID：11323400
> 
> 赞同：0
> 
> 时间：2012-07-04T06:16:52.893
> 
> 标签：android, viewflipper

在视图翻转器中，如果我们指定 10 个图像视图作为子级，图像视图是否在运行时加载到视图翻转器？或者就像在构建时，视图翻转器被膨胀并且图像视图被填充到排序数组中并且在运行时使用该数组？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:23:59.880

我认为图像视图是在构建时添加的。

你可以试试这个。。

*   制作 10 个图像视图并制作 ViewFlipper 的高度以包装内容
*   现在将前 9 个图像视图的高度固定为 50dip，对于第 10 个图像视图，使用长度为 100 dip
*   您会注意到 Vieflipper 的高度为 100dip

这就是为什么，我的看法是它会在构建时加载。:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T06:25:00.760

如果你已经在 XML 中定义了它，那么它的构建时间。我说这是因为在创建视图时 XML 被转换为对象。

# java - 在java中的字符串中检索<>或{}块内的多个数据

> ID：11323401
> 
> 赞同：2
> 
> 时间：2012-07-04T06:16:54.850
> 
> 标签：java, regex

基本上我需要在 java 中的字符串中检索 <> 或 {} 块中的数据。

字符串可能包含也可能不包含 <> 或 {} 标记。

该字符串可能包含多个 <> 或 {} 块。

<> 和 {} 块中的数据基本上是变量或函数名称。

```
 d1 = "1234";
    d2 = "5678";
    sampleString = "aaa<d1>aaa{d1}aaa<d2>aaa"; 
```

我需要结果类似于这样的东西。

```
 resultString = "aaa1234aaa4321aaa5678aaa"; 
```

提前致谢。:)

**编辑**

我应该注意 <> 和 {} 块内的值是动态的。

我本可以有

```
 sampleString = "aaa<d5>aaa{d1}aaa<d2>aaa"; 
```

这意味着它将从属性/变量/参数/等中获取值 d5。

我应该从一开始就说明这一点。:p

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:25:25.063

好吧，这是一个经典的正则表达式任务，您可以使用 Java 中的 Pattern 和 Matcher 来解决。首先，考虑一下无论 Java 实现如何都需要捕获此字符串的正则表达式。类似的东西`"(?:.*<(.*?)>.*)|(?:.*{(.*?)}.*)"`应该可以帮助您捕获字符串。您可以使用 Matcher 进行匹配并在 while 循环中运行，而 Matcher 的 .find() 方法不返回 NULL（即字符串中仍有匹配项）。在循环中替换所需的组。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T06:29:00.057

```
 String d1 = "1234";
    String d2 = "5678";
    String sampleString = "aaa<d1>aaa{d1}aaa<d2>aaa";
    String finalStirng= sampleString.replaceAll("<d1>", d1).replaceAll("\\{d1\\}", d1).replaceAll("<d2>", d2).replaceAll("\\{d2\\}", d2);
    System.out.println("finalStirng= " + finalStirng); 
```

{ 和 } 在 Java 的正则表达式方言中是特殊的。所以你应该逃避它们： as `"\\{d1\\}"`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-04T06:34:31.800

`Map`首先，为您的价值观创建一个：

```
Map<String, String> values = new HashMap<String, String>();
values.put("d1", "1234");
values.put("d2", "5678"); 
```

然后，找到所有匹配项并替换它们：

```
Matcher matcher = Pattern.compile("<(.*?)>").matcher(text);
StringBuffer sb = new StringBuffer();
while (matcher.find()) {
    matcher.appendReplacement(sb, values.get(matcher.group(1)));
}
matcher.appendTail(sb); 
```

又是另一种模式：

```
matcher = Pattern.compile("\\{(.*?)\\}").matcher(sb.toString());
sb = new StringBuffer();
while (matcher.find()) {
      matcher.appendReplacement(sb, new StringBuffer(values.get(matcher.group(1))).reverse().toString());
}
matcher.appendTail(sb); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-04T06:22:05.420

试试这个

```
sampleString = sampleString.replaceAll("<d1>",d1).replaceAll("{d1}",new StringBuffer(d1).reverse().toString()).replaceAll("<d2>",d2); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-04T06:31:51.153

一种直接的方法是使用前面提到的正则表达式

```
String resultString = "";  
resultString = sampleString.replaceAll("<d1>",d1);  
resultString = resultString.replaceAll("\\{d1\\}",d1);  
resultString = resultString.replaceAll("<d2>",d2); 
```

请注意，这适用于您描述的特定场景（尽管未经测试），但不适用于一般场景，因为 <> 或 {} 标签之间的字符可能会影响正则表达式。这取决于您的 <> 或 {} 标签之间的内容。

考虑使用像 <.*> 这样的东西作为你的正则表达式条件可能会更好......

# objective-c - 检查目录是否为空或仅在 Objective-C 中为空时删除

> ID：11323402
> 
> 赞同：3
> 
> 时间：2012-07-04T06:17:16.393
> 
> 标签：objective-c, nsurl, nsfilemanager

`NSFileManager removeItemAtURL`只执行递归删除。对非空目录没有特殊处理。

如何通过事先测试条件仅删除空目录？有`contentsOfDirectoryAtPath`一个文件列表，它可能是空的，但这是矫枉过正的。

或者，是否有一个功能可以仅在为空时将其删除，例如 good ol' `rmdir`？啊，我可以这样称呼……</p>

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-04T06:26:32.777

如果你想留在基金会的土地上，你必须使用它，没有其他办法。

但是如果你这样做，你就会引入一个竞争条件：在你列出目录的内容之后，在你删除它之前，一些其他程序可能会在那里写入一个新文件，然后将其删除。因此，您必须接受您正在删除包含所有内容的文件夹这一事实，或者您必须寻找不同的 API。

您可以使用 POSIX`rmdir`函数来实现您的目标，如下所示：

```
NSString *path = [url path];
int result = rmdir( [path fileSystemRepresentation] );
if (result == 0) // everything ok
else // lookup error code from errno 
```

如果目录不为空，您将收到错误代码`ENOTEMPTY`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-04T06:29:07.147

这不是矫枉过正......如果你想要一个类似的方法`- isEmptyDirectoryAtURL:`，只需让它：

```
@interface NSFileManager (EmptyDirectoryAtURL)
- (BOOL)isEmptyDirectoryAtURL:(NSURL*)url;
@end

@implementation NSFileManager (EmptyDirectoryAtURL)

- (BOOL)isEmptyDirectoryAtURL:(NSURL*)url
{
  // This assumes you know the URL you have is actually a
  // directory and should be enhanced to ensure that
  return ([[self contentsOfDirectoryAtURL:url includingPropertiesForKeys:nil options:0 error:NULL] count] <= 1);
}

@end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T06:26:05.230

为什么不实现 NSFileManager 委托方法[“ `fileManager:shouldRemoveItemAtURL:`”](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/NSFileManagerDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intfm/NSFileManagerDelegate/fileManager%3ashouldRemoveItemAtURL%3a)，在该委托方法实现中，快速检查 A）项目是否为目录，B）在返回“ `YES`”之前该目录是否为空。

# c# - 如何解决此 Selenium 网站证书问题

> ID：11323403
> 
> 赞同：2
> 
> 时间：2012-07-04T06:17:24.347
> 
> 标签：c#, internet-explorer, selenium, webdriver, selenium-webdriver

我正在研究 Selenium 2 和 C#。我在 IE9 中有证书问题。我正在执行我的 Selenium 测试脚本并进入以下页面：“此网站的安全证书存在问题”。

当我尝试使用：单击“继续访问此网站（不推荐）”链接时`driver.FindElement(By.Id("overridelink"));`，Selenium 无法识别，无法单击该链接。

如果有人知道如何解决此问题，请告诉我吗？

这是我的代码：

```
DesiredCapabilities capabilities = new DesiredCapabilities();
capabilities.SetCapability(CapabilityType.AcceptSslCertificates, true); 
WebDriverObj = new InternetExplorerDriver(capabilities);
MyBrowser = new WebDriverBackedSelenium(WebDriverObj, "http://www.google.com");
WebDriverObj.Navigate().GoToUrl("https://mywebsiteUrl");

WebDriverObj.Navigate().GoToUrl("javascript:document.getElementById('overridelink').click()");

IWebElement uname = WebDriverObj.FindElement(By.Id("ctl00_uxContentPlaceHolder_uxUsername"));
uname.SendKeys("username");
IWebElement pwd = WebDriverObj.FindElement(By.Id("ctl00_uxContentPlaceHolder_uxPassword"));
pwd.SendKeys("pass*"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T08:32:02.110

这是我在某处找到的 python 版本：

```
def certificate_continue():
    """
    Find the IE Window that has a Certificate Error and try to continue anyway.
    We'll use the win32 modules to find the right window & child window,
    then write some Javascript into the address bar and execute to continue.
    """
    def _enumWindowsCallback(hwnd, windows):
        """
        This appends window information as a 3-tuple to the list
        passed into win32gui.EnumWindows()
        """
        class_name = win32gui.GetClassName(hwnd)
        # apparently win32gui.GetWindowText() only works to get the text
        # on a button or a label not really for edit windows.
        text = win32gui.GetWindowText(hwnd)
        windows.append((hwnd, class_name, text))

    def _get_certificate_error_window():
        """
        all_windows[] gets filled up with a list of tuples, then loop through
        it filtering on class and the window text (title bar text).
        Assumes only one 'Certificate Error' window.
        """
        all_windows = []
        win32gui.EnumWindows(_enumWindowsCallback, all_windows)
        for win in all_windows:
            class_name = win[1]
            title_bar_text = win[2]
            if class_name == 'IEFrame' and \
                     'Certificate Error: Navigation Blocked' in title_bar_text:
                return win

    def _get_edit_text(hwnd):
        buf_size = win32gui.SendMessage(hwnd, win32con.WM_GETTEXTLENGTH, 0, 0)
        buf_size += 1 # don't forget that null character boys...
        buffer = win32gui.PyMakeBuffer(buf_size)
        win32gui.SendMessage(hwnd, win32con.WM_GETTEXT, buf_size, buffer)
        # don't need the null character now for Python
        return buffer[:buf_size]

    def _get_address_bar(parent_handle):
        """
        There appears to be several 'Edit' windows within each browser window.
        From Microsoft: If a child window has created child windows of its own,
        EnumChildWindows enumerates those windows as well.
        """
        childwins = []
        win32gui.EnumChildWindows(parent_handle, _enumWindowsCallback,
                                  childwins)
        for win in childwins:
            child_handle = win[0]
            class_name = win[1]
            if 'Edit' in class_name:
                edit_text = _get_edit_text(child_handle)
                if 'http://' in edit_text or 'https://' in edit_text:
                    return child_handle  # then this must be it...

# begin certificate_continue
    target_win = _get_certificate_error_window()
    try:
        cert_err_handle = target_win[0]
    except TypeError:
        print "OK, no Certificate Error window available"
        return(1)

    address_bar_handle = _get_address_bar(cert_err_handle)
    # any better way to check the handle ?
    if not win32gui.IsWindow( address_bar_handle):
        print "Choked getting IE edit window"
        return(1)

    # now, need to send this JavaScript text to the browser Address Bar
    javascript_continue = 'javascript: var continue_element = document.getElementById("overridelink"); continue_element.click();'
    win32gui.SendMessage(address_bar_handle, win32con.WM_SETTEXT, 0,
                     javascript_continue)

    # OK, and finally, send a carriage return to the address bar
    win32gui.SendMessage(address_bar_handle, win32con.WM_KEYDOWN,
                     win32con.VK_RETURN, 0)
    return(0) 
```

现在只需在调用 driver.get 到 SSL url 后调用 certificate_continue()。这对我来说用 ie9 工作（工作）。

希望这可以帮助

一种

# android - logcat 错误中的“错误报告 WTF”

> ID：11323404
> 
> 赞同：4
> 
> 时间：2012-07-04T06:17:47.313
> 
> 标签：android, logcat

在运行 android 项目时，我收到带有文本“错误报告 WTF”的错误 logcat 显示：

```
Level         Tag                                  Text
  E      AndroidRuntime                       "Error reporting WTF" 
```

这个错误是什么意思？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-04T06:22:38.647

它可能是指`wtf()`. `android.util.Log`尽管因其滑稽的效果而被明确命名，但“wtf”是 Android 世界中“多么可怕的失败”的缩写，尽管它只应该用于在现实生活中不应该真正发生的错误情况下使用场景。

有关更多信息，请参见此处：http: [//developer.android.com/reference/android/util/Log.html#wtf%28java.lang.String,%20java.lang.Throwable%29](http://developer.android.com/reference/android/util/Log.html#wtf%28java.lang.String,%20java.lang.Throwable%29)

# linux - Linux PID 回收

> ID：11323410
> 
> 赞同：79
> 
> 时间：2012-07-04T06:18:29.477
> 
> 标签：linux, pid, recycle

Linux 中是否有任何关于回收使用过的 PID 的政策？我的意思是，如果一个 PId 已被使用，它会在多长时间后再次使用？

* * *

## 回答 #1

> 赞同：63
> 
> 时间：2012-07-04T06:20:47.033

随着新进程的加入，PID 将增加到与系统相关的限制，然后回绕。在这种环绕发生之前，内核不会重用 PID。

限制（最大 pid 数）为`/proc/sys/kernel/pid_max`. [手册](http://www.kernel.org/doc/man-pages/online/pages/man5/proc.5.html)说：

> `/proc/sys/kernel/pid_max`（自 Linux 2.5.34 起）
> 
> 此文件指定**PID 环绕**的值（即，此文件中的值比最大 PID 大一）。此文件的默认值`32768`, 导致与早期内核相同的 PID 范围

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-06-25T15:03:03.970

[https://superuser.com/questions/135007/how-are-pids-generated](https://superuser.com/questions/135007/how-are-pids-generated)

这应该回答您的问题 - 它似乎会在 PID 用完时回收，跳过仍然分配的那些。

# c# - Linq2SQL 获取孩子

> ID：11323412
> 
> 赞同：0
> 
> 时间：2012-07-04T06:18:38.083
> 
> 标签：c#, linq, linq-to-sql

你好，

我举个经典的例子，我有一张`Customer`桌子和`Purchase`一张桌子，一个客户可以有几个订单。

我创建了一个`DBML`文件，然后从两个表的“服务器资源管理器窗口”拖放到 DBML 编辑器，生成了两个实体：`Customers`和`Purchases`

我有一些对象：

```
public interface IMyCustomer
{
    int Id { get; set; }
    string Code { get; set; }
    string Firstname { get; set; }
    string Lastname { get; set; }
    List<IMyPurchase> Purchases { get; set; }
}

public class MyCustomer : IMyCustomer
{
    public int Id { get; set; }
    public string Code { get; set; }
    public string Firstname { get; set; }
    public string Lastname { get; set; }
    public List<IMyPurchase> Orders { get; set; }
}

public interface IMyPurchase
{
    int Id { get; set; }
    string Code { get; set; }
    DateTime CreationDate { get; set; }
}

public class MyPurchase : IMyPurchase
{
    public int Id { get; set; }
    public string Code { get; set; }
    public DateTime CreationDate { get; set; }
}

var result = 
    from customer in _dataContext.Customers
    join order in _dataContext.Purchases on customer.Id equals order.IdCustomer
    select new MyCustomer
    {
        Code = customer.Code,
        Firstname = customer.Firstname,
        Lastname = customer.Lastname,
        Id = customer.Id,
        Purchases = _dataContext.Purchases
            .Select(x => x.IdCustomer == customer.Id)
            .Cast<IMyPurchase>()
            .ToList<IMyPurchase>()
    }; 
```

linq 查询工作。对于结果条目，我有关于的所有信息`customer`，我有正确的行数，`Purchases`但每个条目的每个属性`Purchases`都是空的。我想加载`Customer`信息和所有`purchase`

任何想法 ？

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:32:15.920

It doesn't appear that you have any translation logic between `Purchase` and `MyPurchase`.

Also the the `Cast<>()` method will try to use implicit casting, but unless your Linq-to-SQL entities implement that interface, it cannot be cast in that way.

My suggestion would be to use something like [AutoMapper](http://nuget.org/packages/automapper) or add translation logic in your linq statement (similar to what you're doing with `MyCustomer`). Something like:

```
var result = 
    from customer in _dataContext.Customers
    join order in _dataContext.Purchases on customer.Id equals order.IdCustomer
    select new MyCustomer
    {
        Code = customer.Code,
        Firstname = customer.Firstname,
        Lastname = customer.Lastname,
        Id = customer.Id,
        Purchases = _dataContext.Purchases
            .Where(x => x.IdCustomer == customer.Id)
            .Select(x => new MyPurchase {
                Id = x.Id,
                Code = x.Code,
                CreationDate = x.CreationDate
            }).ToList();
    }; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:33:31.960

Here is a sample, and where is your customer Id in the Purchase

```
 var items = (from p in _dataContext.Purchases
                 join c in _dataContext.Customers
                 on p.CustomerID equals c.ID
                 where (c.ID == customerId)
                 orderby p.CreationDate descending
                 select new { p, c });

foreach (var data in items)
{
    // do stuff
    int customerId = data.c.ID;
    int purchaseId = data.p.ID;
    // you can acces all properties of both objects
} 
```

# c# - 处理对象之间的交互

> ID：11323413
> 
> 赞同：2
> 
> 时间：2012-07-04T06:18:39.897
> 
> 标签：c#, object, unity3d, interaction

我目前正在团结一致地制作一些游戏。我正在使用 C#。我通常对我的游戏中的代码很满意，我知道如何让它“优雅”，可以这么说。我非常擅长对单个元素进行编码（例如，小行星中的宇宙飞船）。但我只对我的代码感到满意，直到我达到一个对象需要与另一个对象交互的地步。在那之后它变成了代码的意大利面，我总是放弃这个项目。我还没有找到一种优雅的方式来处理事情。我相信我在互联网上的各个地方都问过，但我似乎一直在问这个问题。

有没有处理对象之间交互的通用方法？有什么不让人觉得hacky的吗？这个问题在我最近的项目中再次出现。这是一个 Unity 项目，一个 2d 横向卷轴。检测我是否用我的角色击中“尖峰”涉及检查碰撞对象标签并查看它是否是“尖峰”。但是我所有的“死亡”代码都包含在播放器中，而不是尖峰。尖峰实际上只是带有标签的网格对撞机。这感觉不对。

那么stackoverflow，你们都是怎么处理的呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T06:28:07.700

大型项目通常会发生这种情况，它们开始时非常好，但最终变成了巨大的怪物。以下是我在编写面向对象应用程序时发现的一些有趣的有用原则：

1.  以自上而下的方式进行 OOAD 分析，从挖掘到类图的领域问题开始
2.  始终将您的应用程序分层（实用程序、数据访问、业务对象、UI...）
3.  最重要的是，实施[GRASP 模式](http://en.wikipedia.org/wiki/GRASP_%28object-oriented_design%29)以确保您的对象具有正确的职责，以自然的方式交互而不是高度耦合。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-04T07:28:33.850

除了设计模式，这总是值得考虑的：
我建议不要使用标签，而是为类似的东西创建组件。它们是 Unity3d 的核心概念之一，可重用性更强。

例如，您可以创建一个新的类型`DamageVolume`或类似的组件。这将使它更通用，您可以将其重新用于其他会损坏您的播放器的事情。你也可以用属性来配置它，例如`InstantKill`，`DamageType`（这将允许玩家决定他如何死或播放哪些效果）或`DamageAmount`。在你的玩家的碰撞事件中，你可以这样做：

```
var damager = collision.gameobject.GetComponent<DamageVolume>();
if (damager != null) {
    if (damager.InstantKill) {
        this.Kill(damager.DamageType);
    }
    else {
        this.Damage(damager.DamageAmount, damager.DamageType);
    }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-04T06:55:27.300

正如 Johnn Blade 在对该问题的评论中留下的那样，使用[观察者模式](http://www.dofactory.com/Patterns/PatternObserver.aspx)可能是在应用程序的不同部分之间传达状态更改的好方法。

作为一个具体的例子，您可以将玩家的移动分解为几个离散的步骤（或事件），这些步骤（或事件）可以被应用程序的其他部分观察到。

例如，如果您将以下事件添加到播放器：

*   BeforeMove(坐标 oldCoordinate, 坐标 newCoordinate, out bool canMove)
*   移动（坐标旧坐标，坐标新坐标）
*   HealthChanged(int newHealth)

场景中的其他对象可能会发生以下事件：

*   DamagePlayer(int 伤害)
*   HealPlayer(int 治疗)

当您要移动玩家时，您将触发 BeforeMoved 事件 - 如果没有响应`canMove = false`（例如锁着的门），则允许移动。然后更新玩家的位置，并调用 Moved。

所以，你的 Spike 可能会监听玩家 Moved 事件：

```
void Moved(Coordinate oldCoordinate, Coordinate newCoordinate) 
{ 
  if (newCoordinate.Intersects(this.Location))
  {
    DamagePlayer(50); 
  }
} 
```

相应地，您的播放器将监听 DamagePlayer 事件。

```
void DamagePlayer(int damage)
 {
    this.Health -= damage;
    HealthChanged(this.Health);  
 } 
```

有些东西（可能在玩家本身）会监听 HealthChanged 事件，当它达到零或更少时，会杀死玩家。

使用这种模式，添加新功能（例如检测跌倒）相对简单。只需创建 Moved 事件的新观察者：

```
void Moved(Coordinate oldCoordinate, Coordinate newCoordinate) 
{ 
  decimal deltaY = oldCoordinate.Y - newCoordinate.Y; 
  if (deltaY  < -100) // If fell 100 units or more, take 10 damage per unit. 
  {
    DamagePlayer(10 * Math.Abs(deltaY)); 
  }
} 
```

# javascript - 我在 requirejs 优化器和非 AMD 模块上苦苦挣扎

> ID：11323414
> 
> 赞同：13
> 
> 时间：2012-07-04T06:18:56.787
> 
> 标签：javascript, jquery, requirejs, require

我正在努力使用 requirejs 优化器。如果我只是将其加载到浏览器中而不进行优化，则此代码将起作用。如果我运行优化器，我会得到

```
: ENOENT, no such file or directory 'C:\Users\dev\checkout\src\main\webapp\resources\scripts\
json2.js'

In module tree: main 
```

这是代码

```
requirejs.config({
paths : {
    jquery : "lib/jquery",
    bootstrap : "lib/bootstrap",
    modals : "lib/modals",
    tablesort : "lib/tablesort",
    json2 : "lib/json2"
},

shim : {
    "bootstrap" : [ "jquery" ],
    "modals" : [ "jquery" ],
    "tablesort" : [ "jquery" ],
    "json2" : [ "jquery" ]
}
});

require([ "jquery", "json2","bootstrap", "modals", "tablesort", "registermodule",    "personsmodule" ], function($) { 
```

需要做什么才能让优化器工作？我尝试将 lib/json2 放在 require 中。然后我得到 jQuery 问题，因为它不是 AMD 模块。

编辑：仍在努力解决这个问题。尝试了最简单的例子。在浏览器中工作正常，但优化器抱怨找不到文件。lib/jquery.js 和 lib/modal.js。

```
requirejs.config({
paths : {
    jquery : "lib/jquery",
    modals : "lib/modals"
},

shim : {
    "bootstrap" : [ "jquery" ],
    "modals" : [ "jquery" ]
}
});

require([ "jquery", "modals" ], function($) {

console.log($("#leverandor_span").text());
$("#register_modal").modal("show");

}); 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-01-24T05:55:04.210

见[`mainConfigFile`](https://github.com/jrburke/r.js/blob/master/build/example.build.js#L27)。这已经到位，因此您不必将您的需求配置复制到运行时/优化时间文件中，保持您的构建干燥：

```
//By default all the configuration for optimization happens from the command
//line or by properties in the config file, and configuration that was
//passed to requirejs as part of the app's runtime "main" JS file is *not*
//considered. However, if you prefer the "main" JS file configuration
//to be read for the build so that you do not have to duplicate the values
//in a separate configuration, set this property to the location of that
//main JS file. The first requirejs({}), require({}), requirejs.config({}),
//or require.config({}) call found in that file will be used.
mainConfigFile: '../some/path/to/main.js', 
```

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-07-12T14:45:26.883

问题：r.js 没有解析 require.config()。该配置仅适用于运行时。对于 r.js，我们需要创建另一个文件来配置路径和其他内容。

### 创建一个文件（例如 app.build.js）并配置路径

```
({
   appDir: "../",
   baseUrl: "./",
   dir: "dist",
   modules: [
        {
            name: "bootloader"
        }
    ],
    paths: {
       // libraries path
      "json": "lib/json2",
      "jquery": "lib/jquery",
      "underscore": "lib/underscore",
      "bootstrap": "lib/bootstrap",
      "backbone": "lib/backbone",
      "hogan": "lib/hogan",

       // require plugins
      "css": "lib/css",
      "hgn": "lib/hgn",
      "text": "lib/text"
   }
}) 
```

### 运行优化器：

> $r.js -o app.build.js

更多细节在这里：http: [//japhr.blogspot.it/2011/12/optimizing-requirejs-part-2.html](http://japhr.blogspot.it/2011/12/optimizing-requirejs-part-2.html)

构建文件选项： [http ://requirejs.org/docs/optimization.html#wholeproject](http://requirejs.org/docs/optimization.html#wholeproject)

# java - 这个模棱两可的方法错误是 Eclipse Juno 错了吗？

> ID：11323415
> 
> 赞同：11
> 
> 时间：2012-07-04T06:18:59.050
> 
> 标签：java, eclipse, autoboxing, eclipse-juno

今天我一直在玩 Eclipse Juno。来自 Helios，这是一次很棒的升级。一切正常，除了一个新的编译错误。

我们正在使用 java.net 框架'Fuse'，我们调用以下方法：

```
ResourceInjector.get().inject(true, this); 
```

Eclipse 告诉我们：

```
The method inject(Object[]) is ambiguous for the type ResourceInjector 
```

以下方法发生冲突：

```
inject(Object... components);
inject(boolean arg0, Object... arg1); 
```

它在 Eclipse Helios 中运行良好（使用 Java 1.6.0.25），但现在它给出了编译错误并且不想再运行了。在我们看来，这是 Eclipse Juno 中的一个错误，如果我们使用 Maven 构建，则构建良好......有人知道解决这个问题的方法吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-05T09:55:00.137

这实际上是 Java 5 和 Java 6 中的一个错误。这已在 Java 7 中得到修复，Eclipse 现在会检查这个“错误”。

更多关于这里的错误：http: //bugs.sun.com/bugdatabase/view_bug.do?bug_id= [6886431](http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6886431)

在以下情况下应该调用什么方法？

```
inject(true); 
```

当然，两者都可以应用，但是原始布尔值肯定是更好的匹配吗？不符合 Java 语言规范 (JLS)：

*   根据 15.12.2.5，两者都不比另一个更具体（int <: Object is not true）

一种解决方法（我们无法更改 Fuse 本身）：

`ResourceInjector.get().inject(true, new Object[] {this});`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-13T01:00:12.210

此处的相关问题：[“方法对于类型不明确”但类型并不模糊（错误来自从 eclipse 3.7.2 升级到 eclipse 4.2）](https://stackoverflow.com/q/10852923/1347688)，复制我的答案：

已针对此问题[bug 383780](https://bugs.eclipse.org/bugs/show_bug.cgi?id=383780)提交并修复了一个错误。
这是修复的文档： [https ://bugs.eclipse.org/bugs/attachment.cgi?id=218320](https://bugs.eclipse.org/bugs/attachment.cgi?id=218320)

基本上，要修复编译器错误，请获取最新的 eclipse Juno 版本构建（截至目前为[4.2.1](http://download.eclipse.org/eclipse/downloads/drops4/R-4.2.1-201209141800/)`-vmargs` ），在后面添加以下行`eclipse.ini`：（然后您可能需要重新启动 eclipse 并重建您的项目）

```
-DtolerateIllegalAmbiguousVarargsInvocation=true 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T10:20:42.357

真的很奇怪，如果你改变 API

注入（布尔 arg0，对象... arg1）；

至

注入（布尔 arg0，对象... arg1）；

然后注入（真，这个）不再模棱两可

我认为错误修复[http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6199075](http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6199075)绝对是一个坏主意

# asp.net-mvc-3 - MVC 3 查看母版页 (ASPX) 和母版页之间的区别

> ID：11323419
> 
> 赞同：1
> 
> 时间：2012-07-04T06:19:32.917
> 
> 标签：asp.net-mvc-3, master-pages

MVC 3 查看母版页 (ASPX) 和母版页有什么区别。我正在研究主要使用剃刀视图引擎但要集成 SSRS 报告的 asp.net MVC 3 项目，我需要添加 Aspx 页面。我希望我的报告与项目中的 cshtml 页面具有相同的布局。我应该将哪个母版页添加到我的项目中，为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:07:34.173

这是基类：

*   经典的 WebForms MasterPage 派生自[`System.Web.UI.MasterPage`](http://msdn.microsoft.com/en-us/library/system.web.ui.masterpage.aspx)该类。
*   ASP.NET MVC MasterPage（如果您使用的是 WebForms 视图引擎）派生自[`System.Web.Mvc.ViewMasterPage`](http://msdn.microsoft.com/en-us/library/system.web.mvc.viewmasterpage.aspx)该类，而该类又派生自该类，`System.Web.UI.MasterPage`但它添加了其他属性，例如`Model`, `Html`, `Ajax`, `Url`, `TempData`, `ViewBag`, ... 以便您可以访问 MVC 特定的工件.

在 ASP.NET MVC 应用程序中，`System.Web.Mvc.ViewMasterPage`如果您需要访问所有这些 MVC 特定概念，则应该使用该类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T07:01:06.237

Master Page 是在 ASP.NET 2.0 中引入的，而 View Master Page 用于 ASP.NET MVC 应用程序中。View Master Page 有一个不同的基类，它可以访问帮助器并且可以强类型化到模型（在 MVC 中）。

# python-3.x - 从一个非常混乱的文本文件创建一个逗号分隔的文件

> ID：11323430
> 
> 赞同：0
> 
> 时间：2012-07-04T06:20:54.353
> 
> 标签：python-3.x

我正在尝试从一个非常混乱的文本文件创建一个逗号分隔的文件。我查看了此处发布的一些可能相关的问题，但到目前为止没有任何效果。

这是文件的一小部分：

1 1

1 1

2 2

1

2

2 2

3 3

```
 7        C1 
```

E 3 3

4 4

```
 7        C1 
```

E 4 4

5 5

3

E 5 5

6 6

6 6

7 7

7 7

8 8

3

8 8

9 9

9 9

10 10

10 10

任何建议将不胜感激。提前非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T18:36:39.133

您试图同时在线路级别和“块”级别工作的问题是什么？

str.split() 默认已经处理了空格和制表符：

```
lines = open('infile.txt').readlines()
# split each line based on tabs and spaces
lines = [ x.split() for x in lines ]
# remove empty fields (assuming you want to)
lines = [ x for x in lines if len(x) > 0 ]
# transform your lists (lines) into coma separated strings
lines = [ ','.join(x) for x in lines ]
# separate lines with \n for writelines
lines = [ x + '\n' for x in lines ]
open('outfile.txt', 'w').writelines(lines) 
```

当然，您可以组合其中的一些列表推导，为了清楚起见，我将它们分开。

# android - Android启动并返回多个Activity？

> ID：11323431
> 
> 赞同：0
> 
> 时间：2012-07-04T06:21:01.427
> 
> 标签：android, android-activity

我的应用程序有一个名为 DetailActivity 的活动。在 DetailActivity 中，我有一个返回按钮和另一个按钮来启动另一个具有不同参数的 DetailActivity。当按下按钮返回时，我调用：

```
((DetailActivity) ctx).finish(); 
```

当启动另一个 DetailActivity 时，我的应用程序有选项卡，所以它是这样的：

```
TabActivityGroupAbs parentActivity = (TabActivityGroupAbs) ((Activity) ctx)
                                .getParent();
Intent detailIntent = new Intent(parentActivity, DetailActivity.class);
parentActivity.startChildActivity("DetailFromGame", detailIntent); 
```

现在从 DetailActivity A，我启动 DetailActivity B，从 B 我启动 C。然后我按下回。从 C 到 B 正确。然后我又按回去了。应用程序崩溃了。似乎它只能回到以前的 1 个活动。我尝试调试，当它运行时`((DetailActivity) ctx).finish();`，我看到 NullPointerException。但是我不知道什么指针是空的？？？

有谁知道如何解决这个问题？

编辑：我试着抓住这`((DetailActivity) ctx).finish();`条线，它抛出`java.lang.RuntimeException: Unable to destroy activity {myapp.DetailActivity}: java.lang.NullPointerException`

我猜是因为我有 2 个 DetailActivity 实例，所以当我调用 时`((DetailActivity) ctx).finish();`，ctx 或任何对 DetailActivity 的引用以某种方式变为空。我对Android很陌生，所以我不确定

已解决：我的错。在 onDestroy() 中，我访问了一些静态字段，然后将它们设置为 null。所以下次调用 finish() 时，那些静态字段将抛出 NullPointerException

# python - 带有自引用列表的 Python 模型

> ID：11323433
> 
> 赞同：1
> 
> 时间：2012-07-04T06:21:06.603
> 
> 标签：python, google-app-engine, google-cloud-datastore

我想做这样的事情：

```
class Author(db.Model):
    influencedBy = db.ListProperty(db.SelfReferenceProperty())
    influenced = db.ListProperty(db.SelfReferenceProperty()) 
```

我知道我可以使用 self.author_set 来获得反向关系，但我需要将多个 Author 对象添加到受影响和受影响者。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:39:06.353

不幸的是，你不能按照你的建议去做。你可能已经意识到你会得到`ValueError: Item type ReferenceProperty is not acceptable`

你可以做，`influencedBy = db.ListProperty(db.Key)` 或者如果你使用 ndb `influencedBy = ndb.KeyProperty(kind=Author,repeated=True)`

有一次要考虑的是有多少成员可能在`influencedBy`和中`influenced`。如果可能有大量数字，那么您可能会遇到实体大小问题。如果这是一种可能性，那么您需要考虑使用单独的实体来记录影响。

# java - 在运行时执行 java 命令

> ID：11323434
> 
> 赞同：1
> 
> 时间：2012-07-04T06:21:12.243
> 
> 标签：java

```
Process process2 = Runtime.getRuntime().exec(new String[]{"javac","-g:vars","/Users/amol/Documents/Java/a.java"});
Process process3 = Runtime.getRuntime().exec(new String[]{"javap","-l","-c","/Users/amol/Documents/Java/a"}); 
```

我试图运行这段代码，但我遇到了一个奇怪的问题。它编译正确（意味着第一行编译了程序），但第二行给出了一个错误，说`'a' not found`. 但是，当我检查给定的目录`a.class`文件是否正确创建时。我应该如何正确运行第二行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:28:36.540

`javap`采用类名，而不是文件名。您可能想要执行：

```
javap -l -c -classpath /Users/amol/Documents/Java a 
```

（当然，将其适当地拆分为字符串参数。）

请注意，如果`a`在包中，或者如果其中的类`a.java`实际上根本不`a`存在（这对非公共类有效），这仍然会失败。在这两种情况下，您都需要确定所涉及的类，可能通过构建一个空目录并找出哪些文件是由`javac`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T06:29:23.883

您可能必须将 javap 的类路径参数指定到类的目录。

```
Process process3 = Runtime.getRuntime().exec(new String[]{"javap","-l","-c","-classpath  \"/Users/amol/Documents/Java/\"","a"}); 
```

# java - InputStreamReader 编码器

> ID：11323435
> 
> 赞同：1
> 
> 时间：2012-07-04T06:21:19.070
> 
> 标签：java, encoding, inputstreamreader

我的问题很简单：

```
new InputStreamReader(is, "UTF-8"); 
```

使β和・看起来像问号。

我应该使用哪个编码器来正确查看这些字符？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-04T06:26:03.543

您应该使用您的输入数据*真正*使用的任何编码。我们不能告诉您，尽管如果您提供用于表示这些字符的*字节，我们可能会提出一些可能性。*

虽然您有时可以应用一些启发式方法来猜测编码，但您*确实*应该根据数据的来源来了解它。在这种情况下，无论您的输入是什么，您都没有给我们任何提示 - 如果它来自网络响应，您应该查看`Content-Type`响应的标题。如果它来自文件，它实际上取决于生成该文件的内容。

编辑：现在我们知道这*是*一个网络响应，当然，您不必自己进行标题潜水。您可以使用 HTTP 客户端库，它会为您下载数据并将其解码为字符串本身。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-04T06:51:41.483

取自[Java 5.0 Charset 文档](http://docs.oracle.com/javase/1.5.0/docs/api/java/nio/charset/Charset.html)。

```
Charset     Description
US-ASCII    Seven-bit ASCII, a.k.a. ISO646-US, a.k.a. the Basic Latin block of the Unicode character set
ISO-8859-1  ISO Latin Alphabet No. 1, a.k.a. ISO-LATIN-1
UTF-8       Eight-bit UCS Transformation Format
UTF-16BE    Sixteen-bit UCS Transformation Format, big-endian byte order
UTF-16LE    Sixteen-bit UCS Transformation Format, little-endian byte order
UTF-16      Sixteen-bit UCS Transformation Format, byte order identified by an optional byte-order mark 
```

因此，在您的第二个参数中尝试所有这些字符串，直到您获得所需的编码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T06:54:29.477

只需添加其他人所说的最终结果将是在 Java 中的 UTF-8，这将能够处理您拥有的任何字符。但是，这里的问题是您如何*阅读*它，这取决于文件的写入编码，显然不是 UTF-8。

# delphi - 用于 delphi 7 的 OpenCV，库包装器的问题

> ID：11323445
> 
> 赞同：0
> 
> 时间：2012-07-04T06:22:08.903
> 
> 标签：delphi, image-processing, delphi-7, pattern-recognition

我想在我的 D7 项目中使用该库。我已经从 [sourceforge.net下载了包装器](http://opencv-delphi.svn.sourceforge.net)

问题是作者为识别给定图像中的正方形而编写的示例不起作用。一段时间后，它会从该方法引发 AV 异常：

```
function cvContourPerimeter(contour: PCvSeq): double;
begin
  result := cvArcLength(contour,CV_WHOLE_SEQ,1);
end; 
```

还有方法： cvArcLength 被放入 try except 块，这似乎是问题没有解决。

有没有人有 OpenCV 和 D7 的经验或者可能有其他包装器？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T11:18:19.297

问题解决了。我已迁移到最新版本的 OpenCV。

# android - JNI - 将 html 文件的内容从 C 端传递到 Java 端

> ID：11323460
> 
> 赞同：0
> 
> 时间：2012-07-04T06:24:02.360
> 
> 标签：android, java-native-interface

HTML 文件的编码类似于 windows-1254，而我有 UTF-8，它是否可能导致运行时错误？我可以更改 C++ 端的字符编码吗？我可以将 char* 转换为字节数组吗？有什么可能的解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T08:23:16.680

请看这里

[http://java.sun.com/docs/books/jni/html/other.html（“8.2](http://java.sun.com/docs/books/jni/html/other.html) 编写国际化代码”部分）

您可能有兴趣将本机编码字符串转换为 jstring（并最终将其传递给 java 端，是 JNU_NewStringNative

```
jstring JNU_NewStringNative(JNIEnv *env, const char *str)
 {
     jstring result;
     jbyteArray bytes = 0;
     int len;
     if ((*env)->EnsureLocalCapacity(env, 2) < 0) {
         return NULL; /* out of memory error */
     }
     len = strlen(str);
     bytes = (*env)->NewByteArray(env, len);
     if (bytes != NULL) {
         (*env)->SetByteArrayRegion(env, bytes, 0, len,
                                    (jbyte *)str);
         result = (*env)->NewObject(env, Class_java_lang_String,
                                    MID_String_init, bytes);
         (*env)->DeleteLocalRef(env, bytes);
         return result;
     } /* else fall through */
     return NULL;
 } 
```

干杯，

# android - 如何在自定义视图中重复模式直至边界？

> ID：11323465
> 
> 赞同：5
> 
> 时间：2012-07-04T06:24:55.173
> 
> 标签：android, canvas, design-patterns

我想将一组随机小图案的重复图案限制在特定区域。我正在使用画布创建一个对象（ CustomView ），我知道如何使用 xml 代码在布局上重复模式。

```
<bitmap
  xmlns:android="http://schemas.android.com/apk/res/android"
  android:src="@drawable/patterntwo"
  android:tileMode="repeat" /> 
```

这不适用于画布。

我本质上想使用位图作为 customview 的背景图像，并且想在 X 和 Y 视图方向上重复位图。

看这张图片

![在此处输入图像描述](../Images/5f34393aa3ba6f839cd0a9122124087a.png)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-10T09:35:57.690

请尝试使用此代码：-

```
paint = new Paint(Paint.FILTER_BITMAP_FLAG);
Shader mShader1 = new BitmapShader(bitmap, Shader.TileMode.REPEAT,Shader.TileMode.REPEAT);
paint.setShader(mShader1); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-06T08:24:20.227

您可以使用重复的背景位图制作自定义组件：

```
BitmapDrawable bitmapBg = new BitmapDrawable(BitmapFactory.decodeResource(
            getResources(), R.drawable.repeatbg));
bitmapBg.setTileModeX(Shader.TileMode.REPEAT);
image.setBackgroundDrawable(bitmapBg); 
```

你可以用你想要的图像制作一个面具，比如那个三角形和你的背景。

```
public static Bitmap getMaskedContactImage(Context context,
        Bitmap contactImageBitmap, int maskToBeApplied) {
    Bitmap mask = BitmapFactory.decodeResource(context.getResources(),
            maskToBeApplied);
    Bitmap output = Bitmap.createBitmap(mask.getWidth(), mask.getHeight(),
            Config.ARGB_8888);
    final Rect finalRect = new Rect(0, 0, contactImageBitmap.getWidth(),
            contactImageBitmap.getHeight());
    final Rect originRect = new Rect(0, 0, mask.getWidth(),
            mask.getHeight());
    Canvas canvas = new Canvas(output);

    Paint xferPaint = new Paint(Paint.ANTI_ALIAS_FLAG);
    xferPaint.setColor(Color.BLACK);

    xferPaint.setXfermode(new PorterDuffXfermode(Mode.DST_IN));

    canvas.drawBitmap(contactImageBitmap, finalRect, originRect, null);
    canvas.drawBitmap(mask, originRect, originRect, xferPaint);

    contactImageBitmap.recycle();
    mask.recycle();

    return output;
} 
```

这将使用黑色是最终图像的蒙版。

如果我没有误解，那可以实现您在捕获中显示的内容。

问候，亚历克斯

# blackberry - RIM Blackberry 可以自动选择正确的图像吗？

> ID：11323473
> 
> 赞同：1
> 
> 时间：2012-07-04T06:25:37.747
> 
> 标签：blackberry, resources, naming-conventions, resolution

对于 Android 文件夹，有`drawable-ldpi`等`drawable-hdpi`。

在黑莓文件夹中，我不知道处理不同屏幕分辨率的文件夹命名约定。`Screen sizes can be placed into two categories, high resolution and low resolution`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T08:01:00.600

不，BlackBerry 中没有这种机制（我说的是 Java API，不知道在 WebWorks 或 BB10 上会如何）。

但是您绝对应该创建自己的机制。您几乎必须在每个项目中管理不同的屏幕尺寸，因此值得编写代码。我目前正在几个项目中这样做。这个想法是在 res/img 包中创建子包（例如，用于 320 像素的屏幕宽度的 res/img/320）。然后将正确的图像粘贴到每个子包中，就像在 Android 中一样。最后，编写一个`ImageManager`类，其主要目的是为应用程序中所有其他类的所有图像请求提供服务：

*   在应用程序启动时（或在每个位图请求时，如果您要允许屏幕旋转），您将获得当前屏幕分辨率调用`Display.getWidth();`
*   当请求图像时，`ImageManager`在 res/img 中搜索具有正确名称的文件夹：

    `Inputstream is = ImageManager.class.getResourceAsStream("/img/<current resolution>/someimage.png");`

*   如果存在这样的目录，则获取图像：

    ```
     byte[] rawFileData = IOUtilities.streamToBytes(is);
        EncodedImage encodedImage = EncodedImage.createEncodedImage(rawFileData, 0, rawFileData.length); 
    ```

如果您没有当前屏幕分辨率的目录，您可以：

1.  提供一个备用目录，例如 /img/common，其中包含足够大的图像，以便它们在缩小时不会丢失质量。然后像往常一样获取图像并与当前分辨率成比例地缩放。OS 5中类中添加的新方法`Bitmap`可以通过不同的缩放选项和良好的性能立即完成此操作。
2.  获取自定义目录存在的最接近分辨率的图像（即：如果当前分辨率为 360，但 /img/360 不存在，则从 /img/320 获取图像）。

最后，一个专业提示：您可以使用更短的类和方法名称来编写外观`ImageManager`，并使其成为单例。这样，您可以键入：

```
R.drawable("someimage.png"); 
```

这与 Android 语法非常相似。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T07:14:37.333

在黑莓中，我们没有像 android 那样单独保留低分辨率和高分辨率图像的选项。取而代之的是，我们必须在资源文件夹下创建自定义文件夹，然后根据您的需要将图像保存在单个或多个文件夹中。

# javascript - 定位浮动 xaxis 标签

> ID：11323474
> 
> 赞同：1
> 
> 时间：2012-07-04T06:25:53.437
> 
> 标签：javascript, axis, flot

我正在使用在不规则位置具有刻度线的 flot 绘制绘图，例如，一个在位置 100，一个在位置 155，一个在位置 230。Flot 能够很容易地将刻度线放在这些位置。

但我想在这些点之间放置轴标签，例如

```
|--------------|-------|------------------|
    blahblah       huh        metoo 
```

无法弄清楚如何做到这一点。有什么建议吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T13:56:02.957

这使用 flot 的多轴功能添加带有标签的第二个轴：

![在此处输入图像描述](../Images/bfd9e5c564a429c76c22ac25facac8c6.png)

代码：

```
 $.plot($("#placeholder"),
       [ { data: [[1,1],[12,12],[45,45],[2,2],[7,7],[90,90],[112,112],[145,145],[87,87],[250,250]]},
         { data: [[]], xaxis: 2}], //second empty series
           {
               xaxes: [ {ticks:[100,155,230]}, // force tick location
                        {ticks: [50,127.5,192.5], // label locations, center them based on forced tick locations
                         min: 0, max: 250, // set min and max to scale 2nd axis
                         tickFormatter: // return string label instead of number
                           function formatter(val, axis) { 
                             if (val == 50) return "blahblah";
                             else if (val == 127.5) return "huh";
                             else if (val == 192.5) return "metoo";
                             else return "";
                          }} ]
           });​ 
```

[在这里](http://jsfiddle.net/QJF7x/)拉小提琴。

# ios - Xcode PhoneGap：重新启用横向（iOS）

> ID：11323477
> 
> 赞同：0
> 
> 时间：2012-07-04T06:26:03.023
> 
> 标签：ios, xcode, cordova, orientation

我在 XCode 中使用 PhoneGap 开始了一个项目，并选择了纵向作为方向。现在我的客户想要提供展位 Landscape 和 Portait。问题是我找不到如何改回来！

谁能指出我正确的方向？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T07:15:37.713

是的，我明白了：

在您的项目文件下，单击左侧目标下的符号。选择“摘要”选项卡并向下滚动以查找方向选项。

# c# - 如何选择性地启用下拉列表

> ID：11323491
> 
> 赞同：1
> 
> 时间：2012-07-04T06:26:58.253
> 
> 标签：c#, asp.net

我有一个包含两个 DropDowns 列表的表单：

1.  婚姻状况
2.  孩子数量

现在我想在婚姻状况下拉菜单中选择以下项目后启用孩子人数下拉菜单：

1.  寡妇
2.  离婚
3.  等待离婚

我该怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T06:31:27.390

In the MaritalStaus DropDownList Selected Index changed event, If the selected values match your options then enable the NoOfChild DropDownList.

```
 protected void MaritalStaus_SelectedIndexChanged(object sender, EventArgs e)    
    {
          //Match the selected value here : for Example:
          if (MaritalStaus.SelectedValue.Equals("Divorced") || /*Other Comparisions */)
          {
             NoOfChild.Enabled = true;  
          }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T07:44:45.970

**.aspx**

```
<asp:DropDownList ID="ddlMaritalStatus" runat="server" AutoPostBack="true" 
        onselectedindexchanged="ddlMaritalStatus_SelectedIndexChanged">
    <asp:ListItem Text="" />
    <asp:ListItem Text="Widow" />
    <asp:ListItem Text="Divorced" />
    <asp:ListItem Text="Awaiting Divorce" />
</asp:DropDownList>
<asp:DropDownList ID="ddlNoOfChildren" runat="server" Enabled="false">
    <asp:ListItem Text="1" />
    <asp:ListItem Text="2" />
    <asp:ListItem Text="3" />
    <!-- and so on -->
</asp:DropDownList> 
```

**aspx.cs**

```
protected void ddlMaritalStatus_SelectedIndexChanged(object sender, EventArgs e)
{
    if (ddlMaritalStatus.SelectedItem.Text == "Widow") // if widow is selected
        ddlNoOfChildren.Enabled = true;
    else
        ddlNoOfChildren.Enabled = false;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T06:41:00.230

*DropDown*列表中包含*ListItem*集合。每个*ListItem*都有一个*Text*和一个*Value*。尝试将文本设置为“Divorced”，将值设置为“D”或更好的整数，如“1”，类似于 ID。如果您从数据库中检索这些文本/值，您将从数据库表中获取这些文本/值。

默认情况下将 No. of Children *DropDown* `Enabled = false`设置为下拉菜单，然后`Enable = true`按照 ebad86 上述代码片段的说明。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-04T06:54:16.760

您还可以使用 ajaxcontroltoolkit 中的级联下拉菜单

[http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/CascadingDropDown/CascadingDropDown.aspx](http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/CascadingDropDown/CascadingDropDown.aspx)

# regex - 数学表达式的正则表达式

> ID：11323493
> 
> 赞同：0
> 
> 时间：2012-07-04T06:27:17.343
> 
> 标签：regex

我需要一个数学表达式的正则表达式，它应该满足我提出的这个[SO Question](https://stackoverflow.com/questions/11009320/validate-mathematical-expressions-using-regular-expression/11009403)中解释的以下条件。

这个表达式效果很好

但是现在我需要添加对左括号和右括号的支持以及以前的条件。所以我的正则表达式应该验证这些模式的表达式

例如。`*6+(7-9)`或`/6.25*(7-9.2)`或`+6`或`*6/(7.5-9)`

我试图对现有的正则表达式进行修改，但没有成功。它还接受这些无效的模式，因为单括号可以出现在数学表达式中`*6+(7-9`。`*6+7-9)`

这是链接[RegExr](http://regexr.com?31e21)。请帮忙。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-04T06:30:45.700

@Bibhu，由于可以任意嵌套数学表达式，因此您需要一个实际的解析器来验证它们。正则表达式不起作用。正则表达式不足以处理任意深度的递归嵌套。

如果将嵌套限制在最大级别，则可以编写一个（非常大且丑陋的）正则表达式来验证表达式。但从根本上说，正则表达式是不适合这项工作的工具。

如果您有一个已经知道如何使用的解析器生成器，那将是为数学表达式构建解析器的最简单方法。如果你不这样做，手动编写一个简单的自顶向下递归下降解析器仍然很容易。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T00:45:31.850

我想知道你是否提供赏金。

正则表达式中的简单递归是一个 gosub，其通过/失败返回恰好是可堆叠的。

下面是一个 Perl 例程，它为您指定的简单运算符和简单语法规则传递 Perl 自己的解析算法。它是在一个正则表达式中完成的，因为您的需求非常简单。

它看起来很花哨，但解析为“（）”的简单平衡文本。看起来 Dot Net
可以做到这一点。只做替换应该很容易（即 (?&var) ），
平衡分组 Dot Net 需要......即时验证。

我发布这个是因为嵌套不是问题。问题在于，
解析看起来很简单，但魔鬼在细节中。

```
^
(?:
     ^ (?&sign)? (?&number)
  |
     (?&operator) 
     (?<! ^ (?:\/|\*) )
     (?<! ^ [*]{2} )
     (?&sign)? (?&number)
  |
     (?: (?&operator)
         (?<! ^ (?:\/|\*) )
         (?<! ^ [*]{2} )
         (?<! [(] (?:\/|\*) )
         (?<! [(] [*]{2} )
         (?&sign)?
       |
         (?<= [(] )
       |
         ^ (?&sign)?
     )

     (?<term>
        \(
           (?:
                (?>  (?&sign)?
                     (?&number)
                     (?: (?&operator) (?&sign)? (?&number) )*
                )
             |
                (?>
                    (?: (?<= [(] ) | (?&operator) )
                    (?<! [(] (?:\/|\*) )
                    (?<! [(] [*]{2} )
                    (?&sign)?
                    (?&term)
                )
           )*
        \)
        (?! [(] )
        (?> (?&operator) (?&sign)? (?&number) )*
     )
)*
$

(?(DEFINE)
  (?<number>    \d+(?:\.\d+)?   )
  (?<sign>      [+-]            )
  (?<operator>
        (?:  [*]{2}
          |  [\/*]
          |  (?<pm>[-+]) (?! \k<pm>) )
         )
  ) 
```

输出

```
passed  ''
passed  '(6**-2**3)'
passed  '6-+2'
passed  '-(-(8*((2)/3)))'
passed  '-((8*((2)/3)))'
passed  '-((8*((2**4)/3)))'
passed  '-((8*((2**4)/3)))**((-1)*(8*((2**4/99)/3)))'
passed  '-((8*((2**4)/3)))**((-1)*(8*((2**-4/99)/3)))'
passed  '-((8*((2**4)/3)))**-((-1)*(8*((2**-4/99)/3)))'
passed  '((8*((2)/3)))'
passed  '((8*((2)/3)))'
passed  '+((8*((-2)/-3)))'
passed  '8-6*2'
passed  '-8-6*2'
passed  '((8*((2-(8*(8+6)/2))/3))-7*2/234)+8/2*1'
passed  '-(8*(8+6)/2)'
passed  '(9*9/9)'
passed  '(9*(9)/9*(9*(9)/9)*1)'
passed  '(9*(9)/9*(9*(9)/9))*(9*(9)/9*(9*(9)/9))'

failed  '(6--2)'
failed  '-(/(8*((2)/3)))'
failed  '-((8*((2(6))/3)))'
failed  '+((8*((+2)/--3)))'
failed  '+((8*((+2)/--3+)))'
failed  '+((8*((*2)/--3)))'
failed  '+((8*((*2)/-3)))'
failed  '-((8*((-2)/+-3)))'
failed  '+8/2(1)'
failed  '-(8)*(8/('
failed  '-(8)*(8/()'
failed  '*(9*9/9)'
failed  '*(9*(9)/9*(9*(9)/9))*(9*(9)/9*(9*(9)/9))'
failed  '/(9*(9)/9*(9*(9)/9))*(9*(9)/9*(9*(9)/9))' 
```

# iphone - 如何为 iphone 应用程序制作下拉列表

> ID：11323496
> 
> 赞同：0
> 
> 时间：2012-07-04T06:27:32.603
> 
> 标签：iphone, xcode

我想为 iphone 应用程序创建一个下拉列表，我希望当用户单击它时显示列表，当单击任何按钮时，它会显示该值并隐藏我使用以下代码实现的列表，但这仅适用于一个值而不适用于其他值

```
 @interface DropDownViewController : UIViewController {

IBOutlet UILabel*ddText;
IBOutlet UILabel*ddMenu;
IBOutlet UIButton*ddMenuShowButton;

  }

 @property (nonatomic, retain) IBOutlet UILabel *ddText;
 @property (nonatomic, retain) IBOutlet UIView *ddMenu;
 @property (nonatomic,retain) IBOutlet UIButton *ddMenuShowButton;
 - (IBAction)ddMenuShow:(UIButton *)sender;
 - (IBAction)ddMenuSelectionMade:(UIButton *)sender;
 @end

 @implementation DropDownViewController
 @synthesize ddMenu, ddText;
 @synthesize ddMenuShowButton;

 - (IBAction)ddMenuShow:(UIButton *)sender
 {
    self.ddMenu.hidden = NO;
    [sender setTitle:@"▲" forState:UIControlStateNormal];

 }

 - (IBAction)ddMenuSelectionMade:(UIButton *)sender
{

 self.ddText.text = sender.titleLabel.text;
[self.ddMenuShowButton setTitle:@"▼" forState:UIControlStateNormal];

self.ddMenu.hidden = YES;

  } 
```

我有三个按钮红色绿色首先是红色它仅适用于红色仅不适用于其他人如何解决这个问题我在本教程之后使用了这个

[http://www.edumobile.org/iphone/iphone-programming-tutorials/a-simple-drop-down-list-for-iphone/](http://www.edumobile.org/iphone/iphone-programming-tutorials/a-simple-drop-down-list-for-iphone/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T07:32:06.893

在您的文本字段附近添加 UIbutton。单击该按钮时，根据您的 textfileld 大小创建 UITableview。（希望您了解创建 Uitableview）然后在“cellForRowIndex”中加载您的列表视图内容。选择表格的行时，您可以获得值从“didselectrowatIndexPath”并将其加载到文本字段中。之后删除 UItableview。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-07-04T06:44:31.783

如果您在应用程序中使用 iPhone 工具，那就太好了。您应该`UIPickerView`在下拉列表的位置使用。它看起来不错，并在移动应用程序中提供了更好的界面

# javascript - Html 表格行对齐

> ID：11323499
> 
> 赞同：2
> 
> 时间：2012-07-04T06:27:49.360
> 
> 标签：javascript, css, html-table

我试图根据选择的“域类型”（第一行中的第三个组合框）显示/隐藏行，这会破坏对齐方式。这是[小提琴](http://jsfiddle.net/)

如何有效地显示/隐藏行并保持对齐？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:47:54.543

** 编辑 **
要“隐藏”元素，请使用“**可见性**”属性而不是“**显示**”属性

对于表，使用

```
style.visibility="collapse" and style.visibility="visible" 
```

对于所有其他元素，使用

```
style.visibility="hidden" and style.visibility="visible" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-04T07:04:43.347

用这个

```
 <script>
      function getTypes()
      {
          if(document.getElementById("displayType").value.indexOf("rlo")!=-1)
             {
                 document.getElementById("secondRow").style.visibility="visible";
                 document.getElementById("thirdRow").style.visibility="collapse";

              }
          else
              {
                  if(document.getElementById("displayType").value.indexOf("ft")!=-1)
                     {
                      document.getElementById("secondRow").style.visibility="collapse";
                      document.getElementById("thirdRow").style.visibility="visible";
                      }
               }
           }
</script> 
```

# android - Google Maps API 版本差异

> ID：11323500
> 
> 赞同：18
> 
> 时间：2012-07-04T06:27:52.083
> 
> 标签：android, google-maps, google-maps-api-3, routes, google-directions-api

我正在尝试显示两个地方之间的路线，我想使用[Google Places API V3](https://developers.google.com/maps/documentation/directions)来执行两点之间的路线步骤。

* * *

在我使用[Old Google Maps API](http://maps.google.com)之前，以下请求给出了完美的结果：

```
http://maps.google.com/maps?f=d&hl=en&saddr=19.5217608,-99.2615823&daddr=19.531224,-99.248262&ie=UTF8&0&om=0&output=kml 
```

**输出 ：**

![旧版 Google 地图 API](../Images/3dd761865d1b58ea73f186b6fea43789.png)

* * *

现在我尝试用新的 Google Maps API 替换它，并且以下请求给出了错误的结果，在这两种情况下我都使用相同的源和目标，但结果在 Google Map 上给出了不同的行为：

```
http://maps.googleapis.com/maps/api/directions/json?origin=19.5217608,-99.2615823&destination=19.531224,-99.248262&sensor=false 
```

![新的谷歌地图 API](../Images/5faa3ae74fec4cf5f6471a0b041af9b0.png)

我的问题是，新的 Google Maps API 在源和目的地之间返回的步骤数较少，因此该路线在 Google Map 上显示不完美。

请帮助为新的 Google Maps API v3 解决此问题。

提前致谢。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-07-06T06:59:10.580

我已获取您的请求 URL 并将其粘贴到我的应用程序中，该应用程序使用的是较新版本，并且效果很好。问题可能在于您如何解析数据或解码接收到的 JSON 字符串。 ![在此处输入图像描述](../Images/cac76e3f69183667f7bb44feb4b9454d.png)

```
String url = "http://maps.googleapis.com/maps/api/directions/json?origin=19.5217608,-99.2615823&destination=19.531224,-99.248262&sensor=false";

HttpPost httppost = new HttpPost(url);
HttpResponse response = httpclient.execute(httppost);
HttpEntity entity = response.getEntity();
InputStream is = null;
is = entity.getContent();
BufferedReader reader = new BufferedReader(new InputStreamReader(is, "iso-8859-1"), 8);
StringBuilder sb = new StringBuilder();
sb.append(reader.readLine() + "\n");
String line = "0";
while ((line = reader.readLine()) != null) {
    sb.append(line + "\n");
}
is.close();
reader.close();
String result = sb.toString();
JSONObject jsonObject = new JSONObject(result);
JSONArray routeArray = jsonObject.getJSONArray("routes");
JSONObject routes = routeArray.getJSONObject(0);
JSONObject overviewPolylines = routes.getJSONObject("overview_polyline");
String encodedString = overviewPolylines.getString("points");
List<GeoPoint> pointToDraw = decodePoly(encodedString);

//Added line:
mapView.getOverlays().add(new RoutePathOverlay(pointToDraw)); 
```

并且该`decodePoly()`方法取自SO中的另一个问题，我不记得作者：

```
private List<GeoPoint> decodePoly(String encoded) {

    List<GeoPoint> poly = new ArrayList<GeoPoint>();
    int index = 0, len = encoded.length();
    int lat = 0, lng = 0;

    while (index < len) {
        int b, shift = 0, result = 0;
        do {
            b = encoded.charAt(index++) - 63;
            result |= (b & 0x1f) << shift;
            shift += 5;
        } while (b >= 0x20);
        int dlat = ((result & 1) != 0 ? ~(result >> 1) : (result >> 1));
        lat += dlat;

        shift = 0;
        result = 0;
        do {
            b = encoded.charAt(index++) - 63;
            result |= (b & 0x1f) << shift;
            shift += 5;
        } while (b >= 0x20);
        int dlng = ((result & 1) != 0 ? ~(result >> 1) : (result >> 1));
        lng += dlng;

        GeoPoint p = new GeoPoint((int) (((double) lat / 1E5) * 1E6), (int) (((double) lng / 1E5) * 1E6));
        poly.add(p);
    }

    return poly;
} 
```

我还包括了我用来将叠加层添加到地图本身的内容，我找不到它的教程......抱歉没有给予信任。（在我发布的第一个方法中添加了对此的调用）

```
public class RoutePathOverlay extends Overlay {

    private int _pathColor;
    private final List<GeoPoint> _points;
    private boolean _drawStartEnd;

    public RoutePathOverlay(List<GeoPoint> points) {
            this(points, Color.RED, true);
    }

    public RoutePathOverlay(List<GeoPoint> points, int pathColor, boolean drawStartEnd) {
            _points = points;
            _pathColor = pathColor;
            _drawStartEnd = drawStartEnd;
    }

    private void drawOval(Canvas canvas, Paint paint, Point point) {
            Paint ovalPaint = new Paint(paint);
            ovalPaint.setStyle(Paint.Style.FILL_AND_STROKE);
            ovalPaint.setStrokeWidth(2);
            int _radius = 6;
            RectF oval = new RectF(point.x - _radius, point.y - _radius, point.x + _radius, point.y + _radius);
            canvas.drawOval(oval, ovalPaint);               
    }

    public boolean draw(Canvas canvas, MapView mapView, boolean shadow, long when) {
            Projection projection = mapView.getProjection();
            if (shadow == false && _points != null) {
                    Point startPoint = null, endPoint = null;
                    Path path = new Path();
                    //We are creating the path
                    for (int i = 0; i < _points.size(); i++) {
                            GeoPoint gPointA = _points.get(i);
                            Point pointA = new Point();
                            projection.toPixels(gPointA, pointA);
                            if (i == 0) { //This is the start point
                                    startPoint = pointA;
                                    path.moveTo(pointA.x, pointA.y);
                            } else {
                                    if (i == _points.size() - 1)//This is the end point
                                            endPoint = pointA;
                                    path.lineTo(pointA.x, pointA.y);
                            }
                    }

                    Paint paint = new Paint();
                    paint.setAntiAlias(true);
                    paint.setColor(_pathColor);
                    paint.setStyle(Paint.Style.STROKE);
                    paint.setStrokeWidth(5);
                    paint.setAlpha(90);
                    if (getDrawStartEnd()) {
                            if (startPoint != null) {
                                    drawOval(canvas, paint, startPoint);
                            }
                            if (endPoint != null) {
                                    drawOval(canvas, paint, endPoint);
                            }
                    }
                    if (!path.isEmpty())
                            canvas.drawPath(path, paint);
            }
            return super.draw(canvas, mapView, shadow, when);
    }

    public boolean getDrawStartEnd() {
            return _drawStartEnd;
    }

    public void setDrawStartEnd(boolean markStartEnd) {
            _drawStartEnd = markStartEnd;
    }
} 
```

希望这对你有用。

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-07-07T18:11:39.917

**Google Map API v3 有哪些新功能？**
`Google Maps Directions API v3`对于 Android 在`Encoded Polyline Algorithm Format`.

**我们必须做什么？**
`We must have to decode this Polyline for showing exact Map`

**我们如何解码由 Google Directions API v3 提供的编码折线？**
请参考这三个链接以更清楚地了解编码的折线返回`Google Maps Directions API v3`

*   [使用java从谷歌地图方向api解码折线](http://jeffreysambells.com/posts/2010/05/27/decoding-polylines-from-google-maps-direction-api-with-java/)
*   [为谷歌地图编码折线](http://facstaff.unca.edu/mcmcclur/googlemaps/encodepolyline/)
*   [级别字符串的编码算法](http://facstaff.unca.edu/mcmcclur/googlemaps/encodepolyline/algorithm.html)

**我们如何解决上述问题中的问题？**
请参考这三个答案链接，可以解决您的问题：

*   [Android - 在两个地理点之间绘制路线图](http://asmncl.blogspot.in/2012/04/android-draw-route-map-between-two.html)
*   [https://stackoverflow.com/a/10268114/1472665](https://stackoverflow.com/a/10268114/1472665)
*   [https://stackoverflow.com/a/11357351/1494309](https://stackoverflow.com/a/11357351/1494309)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-06T06:55:51.910

您没有使用结果中返回的所有点。您尚未提供代码，但[这里有一个 v3 API 示例](http://www.geocodezip.com/v3_GoogleEx_directions-draggable2Xml.html?addr1=19.5217608,-99.2615823&addr2=19.531224,-99.248262)，显示的路径与您的“谷歌地图”示例返回的路径相同。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-06T06:52:43.073

请检查此[链接..](https://developers.google.com/maps/documentation/directions/)

并指定**出行方式**

```
-- driving
-- walking 
-- bicycling 
-- transit 
```

所以你会得到不同的结果。

请尝试一下。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-13T15:34:29.573

关于 GeoPoint 未解决，我只是将 GeoPoint 的所有出现更改为 LatLng 并且一切正常。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-05-17T08:24:02.340

上面由[https://stackoverflow.com/users/975959/la-bla-bla](https://stackoverflow.com/users/975959/la-bla-bla)发布的解决方案与 Google Maps API V2 配合得很好，但它需要一些小的修改：
用 LatLng 替换所有出现的 GeoPoint。
换行：

```
GeoPoint p = new GeoPoint((int) (((double) lat / 1E5) * 1E6), (int) (((double) lng / 1E5) * 1E6)); 
```

它位于方法 decodePoly 的末尾之前，带有以下行：

```
LatLng p = new LatLng(lat / 1E5, lng / 1E5); 
```

希望这适用于 Google Maps API v2 用户。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-06-05T15:19:00.040

我使用了“La bla bla”给出的解决方案，但我做了一些小的修改。当我有太多点时，我在显示路径时遇到问题，当你放大太多时，路线不再显示，并且你在 logcat 中收到此消息“形状路径太大而无法渲染为纹理”。

我所做的是按以下方式细分路径：

```
if (shadow == false && _points != null) {
        Path path = new Path();;
        //We are creating the path
        Point pointA = new Point();
        for (int i = 0; i < _points.size(); i++) {
            mapView.getProjection().toPixels(_points.get(i), pointA);
            if (i == 0) path.moveTo(pointA.x, pointA.y);                
            else path.lineTo(pointA.x, pointA.y);

            if(i%10==0 || i == _points.size()-1){
                Paint paint = new Paint();
                paint.setAntiAlias(true);
                paint.setColor(_pathColor);
                paint.setStyle(Paint.Style.STROKE);
                paint.setStrokeJoin(Paint.Join.ROUND);
                paint.setStrokeCap(Paint.Cap.ROUND);
                paint.setStrokeWidth(mapView.getZoomLevel()-10);
                paint.setAlpha(200);
                if (!path.isEmpty()) canvas.drawPath(path, paint);
                path = new Path();
                path.moveTo(pointA.x, pointA.y);
            }
        }
    } 
```

我每 10 个点制作一次路径，效率可能会降低，但是这样可以在缩放值较高时显示路径。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-06-06T23:18:09.193

@Ghareeb-Strange- 但是为什么我们需要 API v2 呢？我的意思是，我们有折线，使它更容易。

```
private void drawPath(){
        PolylineOptions options = new PolylineOptions();
        options.width(4);
        options.color(Color.RED);
        for(int i = 0; i< pathList.size(); i++ ){
            options.add(pathList.get(i));
        }
        map.addPolyline(options);
    } 
```

使用上面发布的代码之类的东西，您将在您的应用程序中完美地绘制路径。

pathList 是一个包含我们路径的所有点的列表。

干杯!

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2015-06-02T14:52:35.970

似乎有足够的答案，但对于这个主题，我受益于这个[链接](http://wptrafficanalyzer.in/blog/driving-route-from-my-location-to-destination-in-google-maps-android-api-v2/)。但是当我下载并导入时它不起作用。所以我在自己的应用程序上实现了。该代码中有一个错误。当您想第二次计算路线时，应用程序。休息。

```
 if (mMarkerPoints.size() > 1) {

                mMarkerPoints.clear();
                map.clear();
                // LatLng startPoint = new LatLng(nearbyLatitude,
                // nearbyLongitude);
                // drawMarker(startPoint);
            } 
```

找到那几行并像我一样发表评论。无论如何，实际上您要求绘制一条路线而不是整个代码，因此您可以在该网站上查看代码。擅长在点（标记）之间绘制路线。祝你有美好的一天。

# c# - 在 C# 中获取程序图标？

> ID：11323508
> 
> 赞同：3
> 
> 时间：2012-07-04T06:28:09.123
> 
> 标签：c#, winforms, visual-c#-express-2010

我有这段代码可以获取名称，但是如何获取每个程序的图标？

```
 string SoftwareKey = "SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Installer\\UserData\\S-1-5-18\\Products";
        RegistryKey rk = default(RegistryKey);
        rk = Registry.LocalMachine.OpenSubKey(SoftwareKey);

        string sname = string.Empty;

        foreach (string skname in rk.GetSubKeyNames())
        {

            try
            {
                sname = Registry.LocalMachine.OpenSubKey(SoftwareKey).OpenSubKey(skname).OpenSubKey("InstallProperties").GetValue("DisplayName").ToString();
                string Inst1 = Registry.LocalMachine.OpenSubKey(SoftwareKey).OpenSubKey(skname).OpenSubKey("InstallProperties").GetValue("InstallLocation").ToString();
                int n = dataGridView1.Rows.Add();
                dataGridView1.Rows[n].Cells[2].Value = sname; 
                dataGridView1.Rows[n].Cells[3].Value = Inst1;
            }
            catch (Exception ex)
            {
                //MessageBox.Show(ex.Message);
            }
        } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-04T06:35:16.617

我不知道这`InstallProperties`会给你安装的可执行文件（因为安装程序确实可以安装多个可执行文件）。

如果您有办法确定正确的可执行文件（可能包括枚举 .exe 中的文件`InstallLocation`），那么您可以从该 .exe 中获取默认图标。

有关详细信息，请参阅

[获取 Shell 使用的文件图标](https://stackoverflow.com/questions/462270/get-file-icon-used-by-shell)

**更新**

以下代码**未经测试**，但应该让您非常接近：

```
string Inst1 = registry.LocalMachine.OpenSubKey(SoftwareKey).OpenSubKey(skname).OpenSubKey("InstallProperties").GetValue("InstallLocation").ToString();

foreach (string file in Directory.GetFiles(Inst1, "*.exe")) 
{
    string filePath = Path.Combine(Inst1, file);
    Icon  result = Icon.ExtractAssociatedIcon(filePath);
    // If result is not null, you have an icon.
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-04T06:40:51.300

试试这个：

```
Icon  result = Icon.ExtractAssociatedIcon(filePath); 
```

# java - 如何通过单击 Windows 上的图标来运行 Java 程序？

> ID：11323510
> 
> 赞同：3
> 
> 时间：2012-07-04T06:28:13.777
> 
> 标签：java, deployment, installation, desktop-integration

我编写了一个使用 Java swing 库的 Java 程序。现在我想通过双击 Windows 上的可执行文件来执行这个程序，就像任何其他带有 GUI 的程序一样。我怎么做？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-04T06:38:54.537

由于它是基于 Java 的并且有一个 GUI，显而易见的答案是使用[Java Web Start](https://stackoverflow.com/tags/java-web-start/info)来部署它。

> Java Web Start (JWS) 是**Oracle Corporation**的技术，用于直接从网络或 Internet 链接启动富客户端（Swing、AWT、SWT）**桌面应用程序。**它为支持 Java 的平台提供“一键式”安装。
> 
> JWS 提供了许多吸引人的功能，包括但不限于启动屏幕、**桌面集成、**文件关联、自动更新（包括延迟下载和更新的编程控制）、按平台、架构或 Java 版本、配置划分本地和其他资源下载运行时环境（最低 J2SE 版本、运行时选项、RAM 等），使用扩展轻松管理公共资源。

通过“桌面集成”读取支持平台上的桌面快捷方式和菜单项。

![Windows 7 上的桌面图标](../Images/3c59a7150ccbe64641b45391650d1e08.png)

右侧的 2 个图标（[JotPad](http://pscode.org/jws/api.html#eis)和 Star Zoom Animation）都是基于 Java 的应用程序，使用 Java Web Start 安装。由于 JotPad 是沙盒的，因此会提示用户是否创建快捷方式。该选择不适用于应用程序。[`IntegrationService`](http://docs.oracle.com/javase/7/docs/jre/api/javaws/jnlp/javax/jnlp/IntegrationService.html)具有更高的权限级别，因此使用允许应用程序的 - 安装/删除快捷方式和菜单项会更有意义。（在提示用户之后）在运行时创建/删除它们。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-04T06:32:17.157

有多种选择：

1.  创建项目的可执行 jar。要让这个 jar 工作，您必须将 javaw 作为默认应用程序才能打开它。
2.  创建项目的 exe。
3.  创建一个运行 jar 文件的 bat 文件。

看看这个：[如何将我的 Java 程序转换为 .exe 文件？](https://stackoverflow.com/questions/147181/how-can-i-convert-my-java-program-to-an-exe-file)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-04T06:30:31.390

你需要从java程序创建exe。

[创建可执行的 jar 文件](http://csdl.ics.hawaii.edu/~johnson/613f99/modules/04/jar-files.html)

1.  首先，确保您已安装 Java 1.2 或更高版本。此功能在以前的 Java 版本中不可用。
2.  接下来，创建您的工作 java 系统。通常，您会希望将其放入一个包中。对于这个例子，我创建了一个简单的 HelloWorld 应用程序，它打印出“Hello World”和第一个命令行参数，并将其放入包“psae”中。因此，HelloWorld 文件（HelloWorld.class、HelloWorld.java）位于目录 psae 中。在继续下一步之前，我测试了系统以确保它可以正常工作。
3.  在 psae 所在的目录中，创建了一个名为“mainClass”的文件。该文件包含一行指定主类在 jar 文件中的位置。请注意，我使用包规范。这是单行： Main-Class: psae.HelloWorld 注意：确保在此行之后键入回车；一些 Windows 系统需要它并且会报告“加载主类清单属性失败”错误。
4.  接下来，我使用 Java2 中的“jar”命令创建了一个名为 psae.jar 的 jar 文件。我使用“m”命令行参数来指定清单文件 mainClass，它将信息添加到 jar 文件中，说明主类的位置。这是 jar 命令：bertha:~ > jar cmf mainClass psae.jar psae
5.  只是为了好玩，为了检查发生了什么，我打印了我刚刚创建的 jar 文件的目录。这是命令及其结果： bertha:~ > jar tf psae.jar META-INF/ META-INF/MANIFEST.MF psae/ psae/HelloWorld.java psae/HelloWorld.class
6.  成功创建 jar 文件后，我现在可以使用命令行参数对其调用 java2：

    ```
    bertha:~ > java -jar psae.jar Philip
    Hello World Philip 
    ```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-04T06:48:09.047

虽然其他人提到了创建本机可执行文件等出色选择，但还有另一种有用的方法：创建快捷方式。

*   右键单击您的桌面，展开“新建”选项，然后单击“快捷方式”。
*   键入“javaw.exe”。点击下一步。
*   随意命名。点击完成。
*   您会注意到桌面上新创建的快捷方式。右键单击它并选择“属性”
*   在“目标”文本字段中，附加“-jar path-to-your-jar.jar”，将“path-to-your-jar.jar”替换为 jar 的实际路径
*   您现在还可以选择将图标更改为您想要的任何图标

此快捷方式可以固定到任务栏并在任何地方使用（考虑到您提供了 JAR 的绝对路径）。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-04T06:33:04.843

有一些项目，例如[http://jsmooth.sourceforge.net/](http://jsmooth.sourceforge.net/)和[http://launch4j.sourceforge.net/](http://launch4j.sourceforge.net/)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-07-04T06:33:24.777

您可以使用[Launch4j 之](http://launch4j.sourceforge.net/)类的东西。也看看[JSMooth](http://jsmooth.sourceforge.net/)。

希望能帮助到你

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-07-04T06:37:49.020

有两种方法。两者都涉及将您的代码打包在 .jar 中。

第一种方法是使用[Launch4j 之](http://launch4j.sourceforge.net)类的工具构建一个实际的 .exe 文件。它将要求您设置诸如告诉它要执行哪个类、使用哪个图标、哪个 JRE 可以、要使用哪些 JRE 参数等内容。

第二个选项是使 .jar 本身可执行。为此，您可以向 .jar 添加清单。清单是一个描述 jar 的小配置文件。属性之一是`Main-Class`定义入口点。换句话说，它说明了`main`当用户双击文件时哪个类具有应该调用的函数。这是关于清单的基本教程：http: [//docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html](http://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html)

第二个选项更容易上手，但用户会更频繁地知道如何处理 .exe。

请注意，如果任何一种方法都抱怨找不到类，请确保设置类路径清单属性以匹配您的项目。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-07-04T06:31:55.903

如果您有一个可执行的 jar 文件，只需右移您的文件并将其设置为由 javaw 打开。另一种选择（如果您想将参数传递给您的应用程序）是创建一个 .bat 文件，您可以在其中通过 java 或 javaw 分离您的应用程序

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-07-04T06:32:25.830

右键单击 Eclipse 中的“项目”并选择“导出”，然后选择“Java->可运行 Jar 文件”选择项目名称并完成。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2012-07-04T06:36:32.153

似乎您想部署和运行摇摆的独立应用程序。作为一名 Java 开发人员，您应该了解 jar 文件的强大功能。这些本身是可执行的{因此无需创建 .exe 文件:)}。

下面的代码将帮助您创建一个 jar 文件。

在命令提示符下创建 jar 文件

```
Start Command Prompt.
Navigate to the folder that holds your class files:
C:\>cd \mywork
Set path to include JDK’s bin.  For example:
C:\mywork> path c:\Program Files\Java\jdk1.5.0_09\bin;%path%
Compile your class(es):
C:\mywork> javac *.java
Create a manifest file:
C:\mywork> echo Main-Class: NameOfProject >manifest.txt
Create a jar file:
C:\mywork> jar cvfm NameOfProject.jar manifest.txt *.class
Test your jar:
C:\mywork> DanceStudio.jar 
```

创建一个 jar 后，只需双击它即可完成。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2012-07-04T06:37:39.420

您必须创建一个可执行的 jar 文件。为此，您只需将 META-INF 文件夹添加到 jar 中，然后添加一个包含两行的 MANIFEST.MF 文本文件：

```
Manifest-Version: 1.0
Main-Class: your.package.YourMainClass 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2015-12-07T18:31:42.703

以下是如何通过**右键**单击来运行 Java 程序（换句话说，从 Windows 资源管理器上下文菜单中）。这个方便的技巧非常适合需要即时测试其简单程序的初学者。适用于 Win7 和 XP 平台。

[ **ATTN：**根据情况，您可能需要**`package`**从 Java 文件的顶部删除该指令。]

**步骤 1.****`RWJ.bat`**在您选择的文件夹（例如，在**`C:\Program Files\Java`**.）中创建一个批处理文件（例如， ）

**步骤 2.**填写**`RWJ.bat`**以下命令（它们可以像使用简单的类一样正常工作，但您当然可以通过指定编译器/解释器开关、传递参数、添加**echo off**、删除**pause**或任何）：

```
javac %1
java %~n1
pause 
```

第一个命令将您右键单击的文件的全名传递给 Java 编译器；第二个去除文件扩展名并仅向 JVM 提供类名。

**第 3 步。**将以下键添加到您的注册表：**`HKEY_CLASSES_ROOT\*\shell\Run With Java`**然后创建其命令（默认值） **`C:\Program Files\Java\RWJ.bat %1`**：。

[![黑客注册表](../Images/5260cf1addcc7e7bd594c6fb500fb47d.png)](https://i.stack.imgur.com/yWn2y.png)

**步骤 4.**通过右键单击并选择**`Run with Java`**选项来运行您的 Java 类。

[![右键单击 Java 类](../Images/f0f29292c9da6a2522354f3317e8fc0f.png)](https://i.stack.imgur.com/vuoI6.png)

[![Java 类启动并运行](../Images/a0c226c714a0cd20f6e115885f19ab0e.png)](https://i.stack.imgur.com/QNT0P.png)

这里的所有都是它的。

通过指向和单击运行 Java 程序的另一种方法是使用 AOT 编译器。例如，GCC 有一个名为 GCJ 的入口点，可用于将源代码编译为特定操作系统的字节码和标准可执行文件。

最后，代替批处理文件可以运行 WSH 等。

# javascript - jQuery UI 多选事件

> ID：11323512
> 
> 赞同：0
> 
> 时间：2012-07-04T06:28:32.230
> 
> 标签：javascript, jquery, asp.net

我正在使用[这个](http://www.quasipartikel.at/multiselect/)Multiselect jquery 组件。而且我不知道如何触发和订阅这件事的事件。（我是 js 新手）。

到目前为止，我一直在尝试的是在 ui.multiselect.js 文件的 _updateCount 函数中触发一个 collectionChanged 事件：

```
_updateCount: function() {
        this.selectedContainer.find('span.count').text(this.count + " " + $.ui.multiselect.locale.itemsCount);

        //How do I subscribe to the event?
        $(this).trigger('collectionChanged');
    } 
```

然后我尝试从 asp.net 订阅 'collectionChanged' 事件：

```
 $('#<%= dropDown.ClientID %>').bind('collectionChanged', function ()
     { 
         alert("Changed!");
     }); 
```

生成的页面标记是这样的：

```
<select name="ctl06$dropDown" id="ctl06_dropDown" class="multiselect" multiple="multiple" name="countries[]">
        <option value="1134">A</option>
        <option value="1980">B</option>
        <option value="17789">C</option>
        <option value="180367">D</option>
        <option value="1990673">E</option>

    </select>

 <script type="text/javascript">
 $(function () { $('.multiselect').multiselect(); });

 $('#ctl06_dropDown').bind('collectionChanged', function ()
 {   
     //Not working (never triggerd)
     alert("Changed!");
 });

</script> 
```

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:47:56.847

`this`on函数的值`_updateCount`不是 DOM 元素。对于您正在尝试做的事情，如果我理解您的话，您需要在 DOM 元素中触发您的自定义事件，然后在同一个 DOM 元素上监听该自定义事件。所以你的代码有两个问题：第一个是你试图触发一个事件`$(this)`，并且`this`不是你所期望的，第二个是你正在监听一个从不触发该事件的 DOM 元素上的事件. 如果您执行以下操作：

```
_updateCount: function() {
    this.selectedContainer.find('span.count').text(this.count + " " + $.ui.multiselect.locale.itemsCount);
    $("#ctl06_dropDown").trigger("collectionChanged");
} 
```

那么你的线路`$('#ctl06_dropDown').bind('collectionChanged'...`应该可以正常工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T06:59:18.403

您使用的插件不支持事件。

使用它的下一个版本。 [http://quasipartikel.at/multiselect_next/](http://quasipartikel.at/multiselect_next/)

如果在[http://quasipartikel.at/multiselect_next/#optionTabs-3上有用示例代码解释的事件](http://quasipartikel.at/multiselect_next/#optionTabs-3)

您需要同时使用名为“selected”和“deselected”的事件。

# php - 为什么在 php 中使用 imagecreatefromjpeg() 函数时会收到“损坏的 JPEG 数据”消息？

> ID：11323515
> 
> 赞同：2
> 
> 时间：2012-07-04T06:28:37.550
> 
> 标签：php, file-upload

我正在使用 imagecreatefromjpeg() 函数通过上传表单上传图片：

```
$folder = '../images/';
$image = imagecreatefromjpeg($_FILES['image']['tmp_name']);
$new = imagecreatetruecolor(300, 300);
imagecopyresampled($new, $image, 0, 0, 0, 0, 300, 300, 150, 150);
imagejpeg($new, $folder, 100); 
```

大多数照片上传正常，但有些显示此错误：

> 警告：imagecreatefromjpeg() [function.imagecreatefromjpeg]：gd-jpeg，libjpeg：可恢复错误：损坏的 JPEG 数据：标记 0xed 之前的 756 个无关字节

它似乎发生在一些但不是全部的“.jpeg”文件中。我没有看到 '.jpg' 文件出现问题，但我不能确定问题是 '.jpeg' 文件独有的。我确实注意到，如果我将问题文件的扩展名从“.jpeg”更改为“.jpg”，它就可以正常工作。

为什么在 php 中使用 imagecreatefromjpeg() 函数时会收到“损坏的 JPEG 数据”消息？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-04T04:32:35.343

> 我确实注意到，如果我将问题文件的扩展名从“.jpeg”更改为“.jpg”，它就可以正常工作。

你只是重命名它，还是在图形程序中重新保存？

无论如何，您的文件似乎已损坏。查看[错误 #39918 imagecreatefromjpeg 不起作用](https://bugs.php.net/bug.php?id=39918)。

> GD 确实提供了一种更能容忍损坏的 jpeg 图像的机制。
> 
> 使用错误报告（E_ALL）；在开发时会告诉你发生了什么。GD 确实报告了 jpeg 编解码器中的一些错误。一些 jpeg 错误是可以恢复的，就像这张图片中的那些。
> 
> 您可以使用 gd.jpeg_ignore_warning 更改 jpeg 编解码器的行为：
> 
> ini_set("gd.jpeg_ignore_warning", 1);
> 
> $im = imagecreatefromjpeg("test.jpeg");
> 
> $im 现在包含您的图像。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-10-13T15:26:54.367

这可以通过以下方式解决：ini_set ('gd.jpeg_ignore_warning', 1);

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2017-05-15T15:03:31.700

尝试添加`@imagecreatefromjpeg($img)`而不是`imagecreatefromjpeg($img)`.

这`@`是错误抑制器。

# android - 包括 Eclipse 中的 sencha touch 2

> ID：11323516
> 
> 赞同：0
> 
> 时间：2012-07-04T06:28:38.110
> 
> 标签：android, eclipse, eclipse-plugin, extjs, sencha-touch-2

我第一次使用 sencha touch 2。我已经为 eclipse 安装了带有 sencha touch 支持的 mds applaud 插件，我通过包含 sencha touch 库来启动项目，如下所示。

![哎呀](../Images/45e155a40789a76195db5d62c5b49792.png)

然后我添加sencha代码如下

![noops](../Images/e9a10f31b26aaf26020f8fa7e6a15e0b.png)

但是当我在 android 模拟器中运行程序而不是打印 hello world 时，它显示如下空白屏幕。

![循环](../Images/c15a54c8d280fe30a6479484fafd861a.png)

谁能帮助我如何成功运行此应用程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-25T10:29:07.103

我对此很陌生，但我发现您可以通过将视图定向到应用程序所在的文件夹来测试浏览器中的视图。例如，我刚刚创建了一个名为“TS2”的应用程序。该应用程序位于文件夹中，`C://xampp/htdocs/ts3`因此我将浏览器定向到`http:// my ip here /ts3/assets/www/`. 当然，我让 apache 服务器在 XAMPP 中运行。

还有一件事，我在 bash 控制台中创建了新应用程序，然后将其导入 Eclipse。在您加盖的屏幕中，我选择了“从特定源目录创建项目”，然后还有另一个选项称为导入。

我希望这会有所帮助，但正如我所说，我仍在学习自己。

# java - 为什么不能从队列中得到响应

> ID：11323517
> 
> 赞同：0
> 
> 时间：2012-07-04T06:28:42.190
> 
> 标签：java, jms, activemq, apache-camel

我有将消息发送到 activemq 队列的测试。如果我使用 sendBody 则一切都可以，但是当我要求 requestBody 时，一切都发生了，但我没有得到回应

```
org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[Message: com.qqq.dw.beans.invocations.Ping@10699ea]
    at org.apache.camel.util.ObjectHelper.wrapCamelExecutionException(ObjectHelper.java:1237)
    at org.apache.camel.util.ExchangeHelper.extractResultBody(ExchangeHelper.java:509)
    at org.apache.camel.impl.DefaultProducerTemplate.extractResultBody(DefaultProducerTemplate.java:442)
    at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:120)
    at org.apache.camel.impl.DefaultProducerTemplate.requestBody(DefaultProducerTemplate.java:264)
    at functional.RoutesFunctionalTest.testDirectEndpoint1(RoutesFunctionalTest.java:69)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
    at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
    at org.junit.runner.JUnitCore.run(JUnitCore.java:157)
    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:76)
    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:182)
    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:62)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)
Caused by: org.apache.camel.ExchangeTimedOutException: The OUT message was not received within: 20000 millis due reply message with correlationID: ID-Dimas-PC-61919-1341382148513-0-2 not received. Exchange[Message: com.qqq.dw.beans.invocations.Ping@10699ea]
    at org.apache.camel.component.jms.reply.ReplyManagerSupport.processReply(ReplyManagerSupport.java:126) 
```

如果我使用嵌入的 ActiveMQ 或手动启动它，它并不依赖。这是我的路线：

```
<routeContext id="dwContext" xmlns="http://camel.apache.org/schema/spring">

        <route trace="true">
            <from ref="dwQueueEndpoint"/>
            <to uri="direct:dwEndpoint"/>
        </route>

        <route trace="true">
            <from uri="direct:dwEndpoint"/>
            <to uri="direct:dw.dispatch"/>
        </route>

        <route id="dwDispatcherRoute" trace="true">
            <from uri="direct:dw.dispatch"/>
            <doTry>
                <to uri="direct:dw.dispatchRequest"/>

                <doCatch>
                    <exception>com.qqq.dw.listener.exceptions.ListenerException</exception>
                    <to uri="direct:dw.ExpectedError"/>
                </doCatch>
                <doCatch>
                    <exception>org.apache.camel.CamelException</exception>
                    <exception>org.apache.camel.RuntimeCamelException</exception>
                    <exception>java.lang.Exception</exception>
                    <to uri="direct:dw.Error"/>
                </doCatch>
                <doFinally>
                    <to uri="direct:dw.ResponsePublisher"/>
                </doFinally>
            </doTry>
        </route>

        <route id="dwDispatcherSwitchRoute">
            <from uri="direct:dw.dispatchRequest"/>
            <choice>
                <when>
                    <simple>${body} is 'com.qqq.dw.beans.invocations.Ping'</simple>
                    <log loggingLevel="DEBUG" message="Processing Ping invocation"/>
                    <to uri="direct:dw.Ping"/>
                </when>
            </choice>
        </route>

        <route id="dwPingRoute">
            <from uri="direct:dw.Ping"/>
            <to uri="bean:pingInitializer"/>
            <to uri="bean:pingValidator"/>
            <to uri="bean:pingProcessor"/>
            <to uri="bean:pingFinalizer"/>
        </route>

        <route id="dwErrorRoute">
            <from uri="direct:dw.Error"/>
            <to uri="bean:dwUnknownErrorExceptionProcessor"/>
        </route>

        <route id="dwExpectedErrorRoute">
            <from uri="direct:dw.ExpectedError"/>
            <to uri="bean:dwExceptionProcessor"/>
        </route>

        <route id="dwResponsePublisherRoute">
            <from uri="direct:dw.ResponsePublisher"/>
            <to uri="bean:dwResponsePublisher"/>
        </route>

    </routeContext> 
```

并测试：

```
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = {"/dw-listener-test-jms-client.xml"})
public class RoutesFunctionalTest {

    @Autowired
    ProducerTemplate producerTemplate;

    @Before
    public void before() {
        ConfigurableApplicationContext context = new ClassPathXmlApplicationContext(
                "/dw-listener-test-jms-server.xml"
        );
    }
@Test
    public void testDirectEndpoint1() throws Exception {
        Ping invocation = new Ping();
        invocation.setRequestId("123456789");
        invocation.setMessage("PING-PING-PING");
        invocation.setRequestTime(new Date().getTime());
        Object o = producerTemplate.requestBody(invocation);
        Thread.sleep(3000);
        assertNotNull(o);
    } 
```

我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T05:05:57.723

我没有看到对 ActiveMQ 的引用，但通常发送到队列是一个 InOnly 操作并且不返回 OUT 响应（因此 sendBody 工作，但 requestBody 失败）......

如果您需要 InOut 行为，请执行以下操作...

[https://svn.apache.org/repos/asf/camel/trunk/components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsInOutSynchronousTest.java](https://svn.apache.org/repos/asf/camel/trunk/components/camel-jms/src/test/java/org/apache/camel/component/jms/JmsInOutSynchronousTest.java)

# php - 如果选中或未选中，则更新多个复选框

> ID：11323522
> 
> 赞同：0
> 
> 时间：2012-07-04T06:29:03.257
> 
> 标签：php, codeigniter, checkbox

我在更新多个复选框时遇到问题

我有以下，

如果检查了价格，那么我将计算其总价，如果没有，则总价为 0

所以我在视图中有这个

```
 <?php echo form_open("/lab-forms/save/$id_form") ?>
    <table>
    <tr>
    <td><input type="checkbox" name="approved[]" <?php if($price->is_checked==1) { echo 'checked="checked"';}?> value=<?php echo $price->id; ?>></td>
    <td><?php echo $price->price; ?></td>
    <td><?php echo $price->qt; ?></td>
   <td><?php echo $price->total_price; ?></td>
    </tr>
    </table>
    </form> 
```

我想要检查和未检查的导致数据库上的默认值被检查

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:54:45.023

```
echo ($price->is_checked == 1 ? "checked='checked'" : "") 
```

这就像

```
if($price->is_checked == 1) {

    echo "checked='checked'";
    }
    else {
    ....you know....
    } 
```

更容易用于像这样的情况

# android - 主页键不会打开最后一个活动

> ID：11323524
> 
> 赞同：0
> 
> 时间：2012-07-04T06:29:05.920
> 
> 标签：android, android-intent

当我按 Home 键，然后按应用程序图标时，它将向我显示最后一个活动，但它总是会启动来自 main->第一个活动的第一个活动。其中 main 是启动活动。但如果我重新启动应用程序，它就会工作完美。那么任何人都可以知道为什么它会在重新启动后而不是在启动时工作吗？我的应用程序流程是这样的。应用程序类->主活动->带有 5 个选项卡的选项卡活动，每个选项卡都打开单独的活动。
**编辑**
我以这种方式重新启动应用程序：在eclipse中再次运行应用程序并在手机中从设置->应用程序->管理应用程序->我的应用程序->强制关闭。然后单击应用程序图标。
Sipdroid 是启动活动，欢迎是第一个有 5 个选项卡的活动。

这是我的[menifest.xml 文件](http://pastie.org/4198331)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T06:09:54.057

只需从清单文件中删除`android:launchmode="SingleInstance"`标签即可解决。

# php - PHP - 多个 MySQL 结果，在单独的变量中

> ID：11323526
> 
> 赞同：3
> 
> 时间：2012-07-04T06:29:10.513
> 
> 标签：php, mysql, rows

我需要执行 MySQL 查询来搜索包含提交值的不精​​确匹配/匹配。

以下是我的数据库中的示例：

```
id               img
1          1001_ABC_01.jpg
2          1001_ABC_02.jpg
3          1002_ABC_01.jpg
4          1002_ABC_02.jpg
5          1002_ABC_03.jpg
6          1002_ABC_04.jpg
7          1002_ABC_05.jpg
8          1003_ABC_01.jpg
9          1003_ABC_02.jpg
10         1003_ABC_03.jpg 
```

我需要查询来搜索文件名 ( `1002`) 的第一部分，并为 img 字段中的每个返回结果分配一个不同的变量。变量的最大数量为 5。

例如，如果我 search `1002`，它应该分配以下变量：

```
 <?php
    $img1 = '1002_ABC_01.jpg';
    $img2 = '1002_ABC_02.jpg';
    $img3 = '1002_ABC_03.jpg';
    $img4 = '1002_ABC_04.jpg';
    $img5 = '1002_ABC_05.jpg';
    ?> 
```

这样我就可以单独回显每个文件名结果。

同样，这里的最大变量数量为 5，因此如果返回的结果超过 5 个，则只会为前 5 个分配变量。

请让我知道这是否可行以及如何编写 PHP 脚本来做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:39:43.860

```
SELECT img FROM <table_name> WHERE img LIKE '%search%' ORDER BY ID DESC LIMIT 5; 
```

`substring`如果前四个整数像这样固定，您可以运行：

```
select substring(img,1,4) from <table_name> where img = 'search' order by ID DESC limit 5; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T05:19:11.330

我希望这能帮到您。始终尝试使用最新的 api 和函数，如**MySqli**尽量避免**使用 mysql_***函数，因为它们已被贬值，而且 MySqli 也比 mysql_ 函数更快

```
$img = '1002'; // For example
$connection = new Mysqli(host, user, password, database);
$sql = "SELECT img FROM <table_name> WHERE img LIKE '$img%' LIMIT 5";

if($connection->query($sql)){
    $counter = 1;
    while ($row = $connection->fetch_object()){
        ${'img'.$counter} = $row->img;
        $counter++;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T06:34:24.390

```
$query = "SELECT * FROM my_table WHERE img_name LIKE '%1002%' LIMIT 5";

foreach ( $fetched_row as $value ) {
  echo $value [ 'img_name' ]; // or whatever you want to do
} 
```

Something like that.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-04T06:34:56.363

**your code will look like this:**

```
$input = '1002'; // For example
$query = "SELECT id, img FROM table_blah WHERE img LIKE '$input%' LIMIT 5"; 
```

This query is basically **selecting** id, and img **from** the table `table_blah`, and `img` must be the same as 1002, and `%` meaning absolutely anything from there on. **Limited** to 5 results.

**Then:**

```
$result = mysql_query($query);

while ($row = mysql_fetch_array($result)) {
    // Code for each result here.
    // id = $row['id']
    // img = $row['img']
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-06T19:43:39.653

```
 $query = "SELECT * FROM img_table WHERE img_name regexp concat('1002', '%')"
     $results = mysql_query($query); 
```

那么 $results 是一个 img 字符串数组

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-04T06:47:04.757

要搜索部分匹配，您可以使用`LIKE`SQL 中的运算符。在这种情况下，您可以编写：

```
$sql = "SELECT img FROM tablename WHERE img like '1002%'"; 
```

如何在 PHP 中执行此查询并获取结果取决于您使用的数据库 API：旧 MySQL？MySQLi? PDO？此外，`1002`可能是用户输入，在这种情况下，您必须保护您的程序免受 SQL 注入攻击。

至于第二部分，你确定你想要不同的变量名而不是数组吗？数组更容易使用。如果您首先在数组中累积数据然后使用，则可以获得不同的变量名称[`extract`](http://es.php.net/manual/en/function.extract.php)：

```
$result = array();
$counter = 1;
$rs = mysql_query($sql); // using old mysql API

while ($row = mysql_fetch_array($rs)) {
    $result["img".$counter] =  $row[0];
    $counter = $counter + 1;
}

extract($result);
// now $img1, $img2, $img3, ... are defined 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-07-04T06:36:53.673

使用此查询

```
SELECT img as IMG
FROM my_table
WHERE img LIKE '1002%'
order by id desc
LIMIT 5 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-07-04T06:39:07.570

```
<?php
  $query="SELECT id,img as image FROM image_table 
  where img like '%$keyword%' limit 5";
  $res=mysql_query($query) or die(mysql_error());
  while ($img = mysql_fetch_array($res)) {
    echo $img['image'];
  }
?> 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-07-04T06:45:00.863

我希望这能帮到您。

```
$queryStr = "SELECT img FROM table_name WHERE search_str LIKE '1002%'";
$query = mysql_query($queryStr);

while($row = mysql_fetch_assoc($query)){
    $imageArray[] = $row;   
}

// Print the array
echo '<pre>';
print_r($imageArray);
echo '</pre>';

// How to use the array
foreach($imageArray as $key=>$val){
    echo 'File Name: '.$val;
    echo '<br />';
    echo '<img src="'.$val.'" />';  
    echo '<hr />';
}

// Now show first five result
    // Alternet: You can use LIMIT and order by with mysql
// With php
for($i=0;$i<5;$i++){
    echo 'File Name: '.$imageArray[$i];
    echo '<br />';
    echo '<img src="'.$imageArray[$i].'" />';   
    echo '<hr />';  
} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2012-07-04T06:42:01.050

```
$con = new Mysqli(host, user, password, database);
$result = $con->query("SELECT * FROM table WHERE image LIKE %$search% ORDER BY id DESC LIMIT 5");
if($result){
    while ($row = $con->fetch_object()){
        $img_arr[] = $row;
    }
} 
```

# android - 如何将 mp3 文件设置为安卓铃声？

> ID：11323533
> 
> 赞同：0
> 
> 时间：2012-07-04T06:29:47.967
> 
> 标签：android

我想知道有没有办法将 ListView 中的 mp3 文件设置为默认铃声？

请分享给我学习的链接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:40:15.277

尝试将 mp3 文件设置为铃声：

```
 public void setMyRingtone(File file)  // pass mp3 file path for ringtone
         {  
           ContentValues values = new ContentValues();  
           values.put(MediaStore.MediaColumns.DATA, file.getAbsolutePath());  
             values.put(MediaStore.MediaColumns.TITLE, file.getName());  
             values.put(MediaStore.MediaColumns.SIZE, file.length());  
             values.put(MediaStore.MediaColumns.MIME_TYPE, "audio/mp3");  
             values.put(MediaStore.Audio.Media.ARTIST, "Madonna");  
             values.put(MediaStore.Audio.Media.DURATION, 230);  
             values.put(MediaStore.Audio.Media.IS_RINGTONE, true);  
             values.put(MediaStore.Audio.Media.IS_NOTIFICATION, false);  
             values.put(MediaStore.Audio.Media.IS_ALARM, false);  
             values.put(MediaStore.Audio.Media.IS_MUSIC, false);  

             Uri uri = MediaStore.Audio.Media.getContentUriForPath(file.getAbsolutePath());  
             Uri newUri = contextx.getContentResolver().insert(uri, values);  
             RingtoneManager.setActualDefaultRingtoneUri(contextx, RingtoneManager.TYPE_RINGTONE, newUri);  
         } 
```

**manifast.xml 权限：**

```
<uses-permission android:name="android.permission.WRITE_SETTINGS" /> 
```

# iphone - 将 Objective-C 与 ActiveCollab 3 Beta API 集成的问题

> ID：11323534
> 
> 赞同：1
> 
> 时间：2012-07-04T06:29:49.140
> 
> 标签：iphone, objective-c, activecollab

我正在尝试实现一个 Objective C 程序来与 activeCollab 3 beta 交互并且遇到了一些问题。我可以在浏览器中输入 NSLog 输出的 url，它可以很好地为所有项目拉取 xml，当我尝试通过这个程序访问它时它不想为我工作，它给了我一个 HTTP 403错误。我是 Objective C 的新手，并且将其作为学习经验，因此某些代码可能是多余的。提前感谢您的帮助。导入用尖括号括起来，但会导致它在 StackOverflow 上被隐藏，所以我把它放在引号中

```
#import "基础/Foundation.h"

int main (int argc, const char * argv[]) {

    NSString *token = @"my-token";
    NSString *path_info = @"projects";
    NSString *url = @"http://my-site/api.php?";

    NSString *post = [[NSString alloc] initWithFormat:@"path_info=%@&auth_api_token=%@",path_info, token];
    NSLog(@"发帖：%@", 发帖);

    NSString *newRequest;
    newRequest = [url stringByAppendingString:post];

    NSLog(@"路径：%@", newRequest);

    NSData *postData = [newRequest dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];

    NSMutableURLRequest *request = [[[NSMutableURLRequest alloc] init] autorelease];
    NSString *postLength = [NSString stringWithFormat:@"%d", [postData length]];

    [请求 setURL:[NSURL URLWithString:newRequest]];
    [请求 setHTTPMethod:@"POST"];
    [请求 setValue:postLength forHTTPHeaderField:@"Content-Length"];
    [请求 setValue:@"application/x-www-form-urlencoded" forHTTPHeaderField:@"Content-Type"];
        [请求 setHTTPBody:postData];

    NSURLResponse *响应；
    NSError *错误；
    NSData *responseData = [NSURLConnection sendSynchronousRequest:request returnedResponse:&response error:&err];

    NSString *returnData = [[[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding] autorelease];
    NSLog(@"%@", returnData);

    //printf("打印行");
    返回0；
}

```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T07:01:50.727

您的请求标头是限制性和不必要的，对于 AC API，您需要 GET 请求而不是 POST

```
int main (int argc, const char * argv[]) 
{

    NSString *requestString = [[NSString alloc] initWithFormat:@"path_info=%@&auth_api_token=%@", path_info, token];
    NSLog(@"Post: %@", requestString);

    NSString *newRequest;
    newRequest = [url stringByAppendingString: requestString];

    NSLog(@"Path: %@", newRequest);

    NSData *postData = [newRequest dataUsingEncoding: NSASCIIStringEncoding allowLossyConversion: YES];

    NSMutableURLRequest *request = [[[NSMutableURLRequest alloc] init] autorelease];

    NSLog(@"Data: %@", postData);

    [request setURL: [NSURL URLWithString:newRequest]];
    [request setHTTPMethod: @"GET"];

    NSURLResponse *response;

    NSError *err;
    NSData *responseData = [NSURLConnection sendSynchronousRequest: request returningResponse: &response error: &err];
    NSString *returnData = [[[NSString alloc] initWithData: responseData encoding: NSUTF8StringEncoding] autorelease];
    NSLog(@"Return: %@", returnData);

    //printf("Print line");
    return 0;
} 
```

# database - 在 Eclipse RCP 应用程序中将数据库文件放在哪里？

> ID：11323537
> 
> 赞同：1
> 
> 时间：2012-07-04T06:30:15.060
> 
> 标签：database, eclipse, sqlite, rcp

我想在我的 ECLIPSE RCP 应用程序中访问 SQLite DB 文件。我必须把它放在我的应用程序中的什么地方？以及在导出产品时如何定义数据库文件的路径。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T20:39:39.627

您可以将数据库文件放在插件中，并通过获取插件的 Bundle 在代码中访问它。查看以下文章以获取有关如何访问插件文件的示例：[Getting Access To Files In Eclipse RCP](http://lotuseclipsecorner.blogspot.com/2009/03/getting-access-to-files-in-eclipse-rcp.html)

# java - 使用 adt 20 在 android 应用程序中集成外部 jar 文件

> ID：11323542
> 
> 赞同：0
> 
> 时间：2012-07-04T06:30:39.307
> 
> 标签：java, android

我正在尝试在 android 应用程序中使用外部 jar 文件。jar 文件在另一个 java 应用程序中运行良好，但是当我尝试通过 BuildPath-> Add External Jars 将 Jar 文件与 Android 应用程序一起使用时；它显示以下错误

“找不到从方法引用的类”。

请帮我解决这个问题。

谢谢

肖拉夫

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:33:38.100

可能 ADK 更新与您项目的构建路径混淆了。尝试删除 JAR 并将其再次添加到您的 libs 文件夹中，然后执行 Clean Project。

以下海报关于没有 libs 文件夹的评论：

你应该试试这个：

删除项目中对 JAR 的所有引用 -> 您的代码不应再无错误地构建

在项目的根目录下创建 à libs 文件夹

将 JAR 复制到 libs 文件夹中

（如果仍然没有运行确定）右键单击您的项目 > Android 工具 > 修复项目属性

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-24T07:52:26.443

如果您想在 android 应用程序中使用 Jar，您可以像这样创建它：

1.  打开你的 IDE
2.  点击新建
3.  选择新的 Android 项目
4.  给出你的项目名称
5.  检查选项将此项目作为库

# c# - 在运行时将内容添加到列表视图

> ID：11323543
> 
> 赞同：1
> 
> 时间：2012-07-04T06:30:39.990
> 
> 标签：c#, listview

我正在寻找一些帮助来将文本添加到具有四列的列表视图中。将文本添加到列表视图的一种方法是这样的：

```
var item1 = new ListViewItem(new[] {"text1", "text2", "text3", "text4"});
lvRegAnimals.Items.Add(item1); 
```

但是我想知道当用户单击按钮以向所有列添加新内容时，这将如何在运行时完成？我是新手，我很感激一些帮助。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:34:29.167

将您的代码添加到按钮单击事件处理程序中，例如这样

```
void Btn_Click(Object sender,EventArgs e)
{
  var item1 = new ListViewItem(new[] {"text1", "text2", "text3", "text4"}); 
  lvRegAnimals.Items.Add(item1); 
} 
```

# java - java zip存档损坏

> ID：11323544
> 
> 赞同：0
> 
> 时间：2012-07-04T06:30:40.113
> 
> 标签：java, zip

我在创建存档时遇到问题 - 尝试解压缩 Windows 时显示存在错误。是代码的问题吗？

```
File dir = new File("M:\\SPOT/netbeanstest/TEST/PDF");
    String archiveName = "test.zip";

    byte[] buf = new byte[1024];
    try {
        ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(
                archiveName));

        for (String s : dir.list()) {
            File toCompress = new File(dir, s);
            FileInputStream fis = new FileInputStream(toCompress);

            zos.putNextEntry(new ZipEntry(s));
            int len;
            while((len = fis.read(buf))>0){
                zos.write(buf, 0, len);
            }
            zos.closeEntry();
            fis.close();
        }

    } catch (FileNotFoundException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T11:56:41.857

我会写下我的评论作为答案，因为它解决了问题。

所有流 ( [`InputStream`](http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html), [`OutputStream`](http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html)) 都应使用它们的[`close()`](http://docs.oracle.com/javase/6/docs/api/java/io/Closeable.html#close%28%29)方法关闭，以确保数据已被写出并且没有剩余的打开处理程序。

在 finally 块中执行此操作是个好主意，如下所示：

```
ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(archiveName));

try {
    for (String s : dir.list()) {
        File toCompress = new File(dir, s);
        FileInputStream fis = new FileInputStream(toCompress);

        try {
            zos.putNextEntry(new ZipEntry(s));
            int len;

            while((len = fis.read(buf))>0){
                zos.write(buf, 0, len);
            }
            zos.closeEntry();

        } finally {
            fis.close();
        }
    }
} finally {
    zos.close();
} 
```

# javascript - 连续按下2个按钮时如何输出消息

> ID：11323548
> 
> 赞同：0
> 
> 时间：2012-07-04T06:30:52.933
> 
> 标签：javascript, html

嗨，我是 javascript 的新手，正在搞乱它。当一个接一个地按下 2 个按钮时，我如何（如果可能）显示输出？

示例：单击按钮 1，单击按钮 2，消息显示“按钮 1 和 2 已被单击”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:45:25.990

`&&`在`if`语句中使用运算符。

Javascript：

```
var button1 = false;
var button2 = false;
var b1_id = document.getElementById('button1');
var b2_id = document.getElementById('button2');
b1_id.addEventListener('click',click1,false);
function click1() {
    alert("Button1 clicked");
    button1 = true;
    check();
}
b2_id.addEventListener('click',click2,false);
function click2() {
    alert("Button2 clicked");
    if (button1 !== false) button2 = true; //this is to make sure they are clicked consecutivley
    check();
}
function check() {
    if (button1 === true && button2 === true) {
        alert("Button1 and Button2 clicked consecutively");
    }
} 
```

HTML：

```
<input type='button' id='button1' value='button1' />
<input type='button' id='button2' value='button2' /> 
```

​<a href="http://jsfiddle.net/HYSgy/1/" rel="nofollow">jsFiddle

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:35:25.190

```
<p id="status"></p>
<button id="btn1" onclick="clickfun(this);">button 1</button>
<button id="btn2" onclick="clickfun(this);">button 2</button>

<script>
clickfun(elm){
var currenthtml = document.getElementById('status').innerHTML;
document.getElementById('status').innerHTML = currenthtml += this.id+' clicked !';

}
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T07:08:01.053

我实际上只是写了一个专门用于鼠标对象的库。它做的一件事是跟踪按下了哪些按钮，并且主要遵循 DOM3 规范。

[https://github.com/Benvie/Mouse](https://github.com/Benvie/Mouse)

归结为最低限度，如果浏览器不提供“按钮”属性，您必须一直跟踪到现在为止，到目前为止只有 Firefox 15 提供。特别是，mousedown 开始，然后单击和 contextmenu 结束。

跟踪按钮的关键位是

```
var buttons = 0;

function down(e){ buttons |= 1 << e.button; }
function up(e){ buttons &= ~(1 << e.button); }

window.addEventListener('click', up);
window.addEventListener('contextmenu', up);
window.addEventListener('mousedown', down); 
```

# oracle - 在左连接中使用嵌套查询

> ID：11323551
> 
> 赞同：0
> 
> 时间：2012-07-04T06:30:57.820
> 
> 标签：oracle, left-join

我有两个表 emp_master 和 transfer。对于emp_master 中的每个employee_id，传输表中可以有多个条目。我想根据 date_of_tansfer 从传输表中获取最新记录，并使用 emp_master 中的数据显示它。我写了一个这样的查询，但它不起作用。我收到错误“EMP.EMPLOYEE_ID：无效标识符”。如果我用那个employee_id对其进行硬编码，我可以获得单个员工的详细信息..但是我如何修改它以获取所有员工的数据..

```
select distinct emp.employee_id,trnsf.OU
from emp_master emp 
left join (select * from (select * from transfer where employee_id = emp.employee_id 
and date_of_transfer <= SYSDATE order by date_of_transfer desc) where rownum = 1) trnsfr
on trnsfr.EMPLOYEE_ID = emp.employee_id

CREATE TABLE "EMP_MASTER" 
   ( "EMPLOYEE_ID" NUMBER(10,0), 
     "FIRST_NAME" VARCHAR2(30 BYTE), 
     "MIDDLE_NAME" VARCHAR2(30 BYTE), 
     "SURNAME" VARCHAR2(30 BYTE), 
   ) 

 CREATE TABLE "TRANSFER" 
   (    "EMPLOYEE_SR_NO" NUMBER, 
        "EMPLOYEE_ID" NUMBER(10,0), 
        "DATE_OF_TRANSFER" DATE, 
        "OU" VARCHAR2(30 BYTE)
 ) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:38:17.377

您收到该错误的原因是派生表（子查询）的嵌套级别。子查询只能“看到”来自直接“父”查询的列/表（在您的情况下，外部选择将结果限制为一行）。

以下应该做你想要的：

```
select distinct emp.employee_id, trnsfr.ou
from emp_master emp 
left join (
      select transfer.employee_id,
             transfer.ou,
             row_number() over (order by date_of_transfer desc) as rn
      from transfer 
      where date_of_transfer <= SYSDATE 
    ) trnsfr
    on trnsfr.employee_id = emp.employee_id and trnsfr.rn = 1; 
```

如果`date_of_transfer`真的是“日期”（即不涉及时间），您可能会考虑使用`date_of_transfer <= trunc(SYSDATE)`它来“删除”来自 SYSDATE 结果的时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:56:07.703

请尝试使用内部联接和子查询进行此查询：

```
SELECT * FROM EMP_MASTER T1 
INNER JOIN TRANSFER T2 ON T1.employee_id =T2.employee_id 
WHERE T2.DATE_OF_TRANSFER=(SELECT MAX(T3.DATE_OF_TRANSFER) FROM TRANSFER T3 WHERE T3.employee_id =T2.employee_id ); 
```

# android - 以编程方式将光标设置到 Gmail Android 中的正文末尾

> ID：11323556
> 
> 赞同：0
> 
> 时间：2012-07-04T06:31:17.677
> 
> 标签：android, gmail

我需要以编程方式发送电子邮件，其中包含电子邮件正文中的一些信息。用户将在我以编程方式在电子邮件正文中添加的信息之后添加更多信息。我现在可以发送正文中包含文本的电子邮件。现在的问题是，当打开电子邮件意图时，我添加的文本显示在电子邮件正文中，但光标位于该字段的开头。我要做的就是将它移到我添加的文本的末尾。这样用户就可以轻松地将他们的信息添加到其中。是否可以？如果有怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:03:33.457

我怀疑这是可能的，因为`Intent`会导致邮件应用程序，并且您肯定无法更改其代码。从用户体验的角度来看，更好的解决方案是创建一个表单，这样您的用户就可以在您的应用程序中输入所有必需的数据，而无需更改电子邮件的内容。希望这可以帮助。

# hadoop - need a solution for archiving logs and having real-time search functionality

> ID：11323565
> 
> 赞同：0
> 
> 时间：2012-07-04T06:31:52.780
> 
> 标签：hadoop, full-text-search, archive, riak, bigdata

I've been considering following options.

1.  senseidb [http://www.senseidb.com] This needs a fixed schema also data gateways. So there is no simple way to push data but provide data streams. My data is unstuctured and there are very few common attributes across all kinds of logs

2.  riak[http://wiki.basho.com/Riak-Search.html]

3.  vertica - cost factor?

4.  Hbase(+Hadoop ecosystem +lucene) - main cons here are on single machine this wont make much sense and am not sure about free text search capability to be built around this

Main requirements are 1\. it has to sustain thousands of incoming request for archival and at the same time build real-time index which will allow end user to do free-text search

1.  storage (log archives + index ) has to be optimal

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-19T06:19:30.290

有许多专门的日志存储和索引，我不知道我是否必须将日志塞进普通的数据存储中。

如果你有很多钱，很难击败[Splunk](http://www.splunk.com)。

如果您更喜欢开源选项，请查看[ServerFault 讨论](https://serverfault.com/questions/62687/alternatives-to-splunk)。logstash + ElasticSearch 似乎是一个非常强大的选择，并且应该像您的日志一样增长得很好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-06T08:02:11.220

对于 2-3 TB 的数据听起来像是“中间”的情况。如果是所有数据，我不建议进入 BigData / NoSQL 冒险。
我认为具有全文搜索功能的 RDBMS 应该在良好的硬件上运行。我建议按时间进行一些积极的分区，以便能够处理 2-3 TB 数据。如果没有分区，那就太马赫了。同时-如果您的数据将按天分区，我认为数据大小对于 MySQL 来说是可以的。
考虑到下面的评论，数据大小约为 10-15TB，并考虑到一些复制的需要将这个数字乘以 x2-x3。我们还应该考虑索引的大小，我估计它是数据大小的几十个百分点。可能有效的单节点解决方案可能比集群更昂贵，主要是因为许可成本。
据我所知，现有的 Hadoop/NoSQL 解决方案无法开箱即用地满足您的要求，主要是因为要索引的文档数量。万一 - 每个日志都是一个文档。（http://blog.mgm-tp.com/2010/06/hadoop-log-management-part3/）
所以我认为解决方案是将日志汇总一段时间，并将其作为一个文档进行威胁。
对于这些日志包的存储，HDFS 或 Swift 可能是一个很好的解决方案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T18:12:27.937

你有没有想过这些实现的路线。为您的问题集成 Lucene 和 Hadoop 可能会有所帮助。

[http://www.cloudera.com/blog/2011/09/hadoop-for-archiving-email/](http://www.cloudera.com/blog/2011/09/hadoop-for-archiving-email/) http://www.cloudera.com/blog/2012/01/hadoop-for-archiving-email-part- 2/

因此，您的用例可以使用日志文件和参数来索引，而不是电子邮件。

# android - 如何在 Eclipse 中集成这个 Scrollable Tab 库？

> ID：11323568
> 
> 赞同：0
> 
> 时间：2012-07-04T06:31:57.847
> 
> 标签：android, android-layout, android-widget

我正在用[这个](http://viewpagerindicator.com/) **Scrollable Tab library**敲我的头，但没有成功。

该网站本身有一些细节。我的问题是：

1.  **如何在 Eclipse 的应用程序中集成**？：我尝试将其添加为库，但无法正常工作。
2.  我还没有**看到任何布局**来绘制这个控件。
3.  此外，当我尝试使用仅复制粘贴 scr、res 和 lib 文件夹来集成它时，我得到**PageIndicator, CirclePageIndicator, LinePageIndicator cannot be resolver error**。我添加了对 Android supprt lib v4 的外部 jar 支持。但它仍然无法正常工作。

如果有人使用过这个 Scrollable Tab 库，请帮助我。如果您对可滚动标签插件有其他参考，请与我分享。

我试图给开发人员发邮件，但他还没有回复我的邮件，这就是我必须来 StackOverflow 的原因。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:41:17.360

它不是可滚动的 Tab 库。它是页面指示器库。您可以将其与 Android 支持库和 ActionBarSherlock 的 View pager 一起使用。

为了使用它，他们举了一个例子。您需要将他们的项目作为库导入。然后在您的项目中添加库。

然后试试他们的例子。我希望它会帮助你。:)

编辑：如何：

1.  [从](http://viewpagerindicator.com/)下载项目
2.  现在在eclipse中导入库文件夹项目
3.  现在在您的项目中右键单击 > Android > 库 > 添加（弹出打开选择“库”）:)
4.  现在在标题用法下尝试他们的[示例。](http://viewpagerindicator.com/)

# c# - 这个函数的返回类型应该是什么？

> ID：11323572
> 
> 赞同：1
> 
> 时间：2012-07-04T06:32:24.273
> 
> 标签：c#, linq, compiler-errors, return-type

我有这个函数，它将根据州返回城市列表。这里是函数。

```
public IList<string> GetCity(int index)
{
    using (var db = new DataClasses1DataContext())
    {
         var city = db.mem_cities.Where(c => c.state_id.Equals(index)).Select(c => c.city_name).ToList();
         return city;
    }
} 
```

现在我像这样从我的代码后面调用这个函数。

```
var city = CustomerBLL.GetCity(index); 
```

`CustomerBLL`是我的`class`

现在我想用返回的城市填充我的 DropDownList。所以我做这样的事情。

```
ddlCity.DataSource = city;
ddlCity.DataBind(); 
```

这很好用。我之前尝试使用`foreach`循环

```
foreach (var c in city)
{
    ddlCity.Items.Add(c.city);
} 
```

但它给出了一个错误

> 字符串不包含字符串的定义

所以我的问题是假设如果我想遍历 List 我应该从函数返回什么。

有人可以指出我哪里出错了吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T06:34:31.917

由于您要返回一个字符串列表，因此您可以简单地执行`Add(c)`以下操作`Add(c.City)`：

```
foreach(var c in city)
{
     ddlCity.Items.Add(c);
} 
```

或者您可以修改您的函数以返回 IQueryable

```
 public IQueryable<City> GetCity(int index)
    {
        using (var db = new DataClasses1DataContext())
        {
            var city = db.mem_cities.Where(c => c.state_id.Equals(index));
            return city;
        }
    } 
```

然后你可以这样做：

```
foreach(var c in city)
{
     ddlCity.Items.Add(c.City);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-04T06:36:12.697

返回的不是城市名称 (City.Name)，而是城市本身：

```
public IList<City> GetCities(int stateId)
{
     return db.Cities.Where(c => c.StateId == stateId)
                     .ToList();
}

var cities = GetCities(x);
foreach (var c in cities)
{
    ddlCities.Items.Add(c.CityName);
}

var newCity = new City { CityName = "Home", StateId = x };
cities.Add(newCity); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-04T06:36:05.903

该`GetCity`方法返回一个`List<string>`. 因此，当您编码时

```
foreach(var c in city)
{
  ddlCity.Items.Add(c.city);
} 
```

每个 c 是一个字符串。所以你应该做 ddlCity.Items.Add(c)。

# javascript - 从另一个函数javascript调用函数

> ID：11323575
> 
> 赞同：0
> 
> 时间：2012-07-04T06:32:35.067
> 
> 标签：javascript, jquery

我有 2 个功能。`First`包含 Jquery-UI 对话框并从`Second`函数调用。就像是 ：

```
function First() {
    $('div').dialog({
        buttons: {
            "Ok": function () { /* code */
            }
        }
    });
}

function Second() {
    First();
    /* rest of this function code is depend upon the "Ok button" 
       function code */
} 
```

现在我的问题是调用函数后`First`脚本的执行不等待`dialog's Ok button press`. 我应该怎么做，只有在按下 后`Ok button`，控制才从函数返回`First`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:38:44.327

将`Second`调用后的部分从函数`First`移到第二个函数（这里称为`SecondOkHandler`）。`First`使用新参数（此回调函数）调用，并在“ok”上的函数中`First`调用：

```
function First(okCallback) {
    $('div').dialog({ 
        buttons : {
            "Ok" : okCallback
        }
    });
}

function Second () {
    First(SecondOkHandler);
}

function SecondOkHandler() {
    /* rest of this function code is depend upon the "Ok button" function code */
} 
```

另请参阅[此示例](http://jsfiddle.net/HD5V8/1/)。

=== 更新 ===

为了使它更复杂，这里有一个带有更多回调[的示例的链接。](http://jsfiddle.net/HD5V8/3/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T06:36:58.860

这是因为您已经给出了一个括号`First()` ，这将在解析器遇到该行时立即调用该函数。

您可以使用调用函数的 2 种 Javascript 方法之一[`apply`](http://odetocode.com/blogs/scott/archive/2007/07/05/function-apply-and-function-call-in-javascript.aspx)或[`call`](http://odetocode.com/blogs/scott/archive/2007/07/05/function-apply-and-function-call-in-javascript.aspx). 通过使用它，您的函数将不会在遇到时立即执行。

查看此参考[http://odetocode.com/blogs/scott/archive/2007/07/05/function-apply-and-function-call-in-javascript.aspx](http://odetocode.com/blogs/scott/archive/2007/07/05/function-apply-and-function-call-in-javascript.aspx)

尝试使用它，如果它不起作用，请告诉我。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-04T07:13:52.280

```
 function First(waitTillOk) {
        $('div').dialog({
            buttons: {
                "Ok": function () { 
                      /* code */
                      if(typeof waitTillOk == "function"){
                        waitTillOk();
                      }
                }
            }
        });
    }

    function Second() {
        var waitTillOk = function(){
         /* rest of this function code is depend upon the "Ok button" 
           function code */
     }
     First(waitTilOk);
    } 
```

# c# - 无法从传输连接读取数据：控制台应用程序中的连接已关闭错误

> ID：11323584
> 
> 赞同：11
> 
> 时间：2012-07-04T06:33:24.183
> 
> 标签：c#, httpwebrequest, console-application, streamreader

我在控制台应用程序中有这段代码，它在循环中运行

```
 try
 {
      HttpWebRequest request = (HttpWebRequest)WebRequest.Create(search);
      request.Headers.Add("Accept-Language", "de-DE");
      request.Method = "GET";
      request.Accept = "text/html";
      using (HttpWebResponse response = (HttpWebResponse)request.GetResponse())
      {
           using (StreamReader reader = new StreamReader(response.GetResponseStream(),
                    Encoding.ASCII))
           {
                string html = reader.ReadToEnd();
                    FindForMatch(html, url);
           }
      }
 }
 catch (Exception ex)
 {
      throw new Exception(ex.Message);
 } 
```

几个循环后它给出

> 无法从传输连接读取数据：连接已关闭

错误。知道为什么会这样吗？谢谢。。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-07-04T09:31:17.430

添加后

```
request.KeepAlive = false;
request.ProtocolVersion = HttpVersion.Version10; 
```

它工作正常..

我在这篇博文中找到了它

[WebRequest 和无法从传输连接读取数据错误](http://sysrc.code4beer.org/2009/06/30/webrequest-unable-to-read-from-transport/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:42:26.103

我刚刚尝试了代码，循环 10 次以加载 google.com，它对我有用。有什么特别之处吗`search`- 也许尝试用另一个 uri 替换它。我没有包括`findForMatch`- 我认为它没有做任何会导致异常的事情。

* * *

## 回答 #3

> 赞同：-5
> 
> 时间：2012-07-04T06:42:49.897

尝试将阅读器放置在 try catch 的 finally 块中

# javascript - Possible ways to call external javascript function (object) in mongo map or reduce context

> ID：11323590
> 
> 赞同：2
> 
> 时间：2012-07-04T06:33:43.917
> 
> 标签：javascript, mongodb, coffeescript, mapreduce

Preface:

in order to have clean and effective code, i want to use external functions in my mapreduce mongo script.

Problem:

given we have following map function (coffeescript syntax):

```
map: -> 
   key = foo(@field)
   emit(key, value) 
```

Calling an external function 'foo' raise an error

```
➜ rake mongo:mapreduce
MongoDB shell version: 2.0.5
connecting to: localhost:27017/connect_development
{
    "assertion" : "map invoke failed: JS Error: ReferenceError: foo is not defined nofile_b:2",
    "assertionCode" : 9014,
    "errmsg" : "db assertion failure",
    "ok" : 0
} 
```

The same we will return for reduce context call.

Bad smell decision - self-called anonymous function:

```
map: -> 
   key = ( (field)->
     # some business logic
   )(@field)

   emit(key, value) 
```

Self-called anonymous function could be very big and not effective to test and may cause leaking memory (not sure on this).

How to resolve this problem?

**UPD:**

When i said "external function", meant function declared in same file (in same class) with "map/reduce" functions. Of Course, it's invoked on server-side.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-05T00:23:12.450

Map/reduce 函数必须在数据库服务器上运行，在另一个上下文中，所以它们不能触及任何“外部”。

使用内联匿名函数并没有错，它们非常便宜——只要避免深度递归。CoffeeScript 具有用于创建您可能想要使用的闭包的语法：

```
map: -> 
  key = do =>
    k = @field.doSomething()
    return k
  emit key, value 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T00:29:26.473

Map/Reduce 代码在 MongoDB 服务器上执行。您确实可以选择在[服务器端存储](http://www.mongodb.org/display/DOCS/Server-side+Code+Execution#Server-sideCodeExecution-Storingfunctionsserverside)可以从 Map/Reduce 调用的函数，但最佳实践建议将函数与您的其余代码一起保存在版本控制中。匿名函数在 JavaScript 中很常用，应该不是问题。

# udp - 保护 UDP 连接

> ID：11323592
> 
> 赞同：3
> 
> 时间：2012-07-04T06:33:47.830
> 
> 标签：udp, security

对于个人 MMO 游戏项目，我在 java 中实现了一个自制可靠的基于 UDP 的协议。鉴于我目前的设置，我相信窥探者劫持会话相对简单，所以为了防止这种情况发生，我借此机会学习了一点密码学。它非常有趣。

[我可以使用Diffie-Hellman 密钥交换](http://en.wikipedia.org/wiki/Diffie-Hellman)（一个非常聪明的概念）在客户端和服务器之间成功创建共享密钥，但现在我需要使用它来保证数据包的真实性。到目前为止，我的初步测试表明，我尝试过的几种不同的密码会使数据量有点膨胀，但我希望尽可能地小而快。

鉴于我只是尝试验证数据包而不是隐藏整个有效负载，我的想法是我可以将密钥生成的 8 字节会话 ID 放入数据包标头，加密整个数据包，然后将其散列回来减少到 8 个字节。我取未加密的数据包并将 8 字节散列放入会话 ID 的位置，然后将其发送出去。

这会安全吗？加密整个数据包只是为了不加密发送它感觉有点不雅 - 有没有更好/更快的方法来实现我的目标？请注意，我想自己做这件事，因为它的经验很好，所以我对 3rd 方库或其他协议选项不太感兴趣。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-04T06:37:24.450

如果两个对等点都可以访问共享密钥（他们应该这样做，因为您正在谈论 Diffie-Helman），您可以简单地将数据报的哈希存储在其标题中。接收方检查是否匹配。

作为一项附加的安全措施，您还可以在您的数据报中添加一个“挑战”字段，并在散列过程中的某处使用它来防止重放。

所以这个哈希应该包括：

*   共享的秘密
*   一个挑战
*   数据报的内容

### 编辑

“挑战”是一个严格递增的数字。您将它添加到您的数据报中只是为了在您每次发送新消息时更改哈希值。如果有人截获了一条消息，它就不能重新发送它：接收者确保它不接受它。

# php - How to link to a PHP file inside a Wordpress Plugin using jquery

> ID：11323593
> 
> 赞同：1
> 
> 时间：2012-07-04T06:33:49.623
> 
> 标签：php, jquery, wordpress

I'm currently trying to write a wordpress plugin. Basically it's a Form that is send to a PHP file via jQuery. (I've used the Code shown in [this Tutorial:](http://net.tutsplus.com/tutorials/javascript-ajax/submit-a-form-without-page-refresh-using-jquery/)) Unfortunately I don't know how to link to that PHP file inside jQuery. The Problem is, that I have enabled SEO friendly URL's in Wordpress, so when I'm using the following Code:

```
$.ajax({
  type: "POST",
  url: "file.php",
  data: dataString,
  success: function() {
    $('.done').fadeIn('slow');
  }
 }); 
```

The Server assumes the PHP file to be located at `http://seofriendlylinktomypost/file.php` . Hopefully someone can help me and thanks in advance =). I'm sorry for my awful English, I hope you understood everything^^

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T08:33:33.420

还有其他方法。在模板中放置一个带有 id 属性（如`mytemplatebase`）的空 A 标签，然后您可以使用：`href=bloginfo('template_url')`

```
var urlBase = $('a#mytemplatebase').attr('href');
$.ajax({
  type: "POST",
  url: urlBase+"/file.php",
  data: dataString,
  success: function() {
    $('.done').fadeIn('slow');
  }
 }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:43:35.683

在您的主题下创建一个 php 文件夹，然后以这种方式链接：

```
$.ajax({
  type    : "POST",
  url     : "<?php bloginfo('template_url'); ?>/php/file.php",
  data    : dataString,
  success : function() {
    $('.done').fadeIn('slow');
  }
}); 
```

# javascript - 阿拉伯语的正则表达式

> ID：11323596
> 
> 赞同：25
> 
> 时间：2012-07-04T06:34:27.910
> 
> 标签：javascript, regex

我想写一个匹配句子中每个单词的正则表达式：

我的正则表达式：“ `\b(\w+)\b`”

结果： ![正则表达式匹配阿拉伯图像](../Images/bc55355430663b0bf1caa010a55d67c0.png)

虽然它适用于英语单词。使用阿拉伯语单词时它不起作用。我怎样才能完成阿拉伯语单词的相同壮举？

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2012-07-04T06:38:17.603

试试这个：-

```
function HasArabicCharacters(text)
{
    var arregex = /[\u0600-\u06FF]/;
    alert(arregex.test(text));
} 
```

列表的阿拉伯字符集

```
[\u0600-\u06ff]|[\u0750-\u077f]|[\ufb50-\ufc3f]|[\ufe70-\ufefc] 
```

## Unicode 中的阿拉伯文字：

从**Unicode 6.1**开始，阿拉伯语脚本包含在以下块中：

```
Arabic (0600—06FF, 225 characters)
Arabic Supplement (0750—077F, 48 characters)
Arabic Extended-A (08A0—08FF, 39 characters)
Arabic Presentation Forms-A (FB50—FDFF, 608 characters)
Arabic Presentation Forms-B (FE70—FEFF, 140 characters)
Rumi Numeral Symbols (10E60—10E7F, 31 characters)
Arabic Mathematical Alphabetic Symbols (1EE00—1EEFF, 143 characters) 
```

*内容取自**维基百科 - [Unicode 中的阿拉伯文字](http://en.wikipedia.org/wiki/Arabic_Unicode_block)***

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-08-21T20:36:28.490

我建议这样做：

```
\p{InArabic} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-04-13T21:04:15.437

您可以使用翻译阿拉伯语字符列表的功能来完成它，它非常简单。

像这样：

```
function (regexStr) {
   regexStr = replace(regexStr,"ۿ","\u0600");
   regexStr = replace(regexStr,"؀","\u06FF");

   return regexStr;
} 
```

或者在另一个想法中替换 [alf] 和 [ya] 以正确查看您的文本方向

```
var regexStr = "/[[alf]-[ya]]/";

 function (regexStr) {
   regexStr = replace(regexStr,"[alf]","\u0600");
   regexStr = replace(regexStr,"[ya]","\u06FF");

   return regexStr;
} 
```

# image - 将图像上传到 s3 并在 facebook 画布上服务的安全问题

> ID：11323601
> 
> 赞同：1
> 
> 时间：2012-07-04T06:34:37.343
> 
> 标签：image, security, amazon-s3, uploading

我可能会问一个愚蠢的问题，但我试图了解我需要采取的必要安全预防措施，以允许用户将图像（png、jpg、gif）上传到 S3，并通过在 ec2 上为 facebook 托管的绝对 url 提供它帆布。我将存储桶名称和文件名存储在 RDS 中，并计划通过调用画布中的绝对地址来显示图像。

我意识到，对于图片上传，至少需要检查：1）文件类型（jpg、png、gif），2）文件大小（< 5 mb），3）mime 类型？

我的问题是，由于文件存储在 s3 上，并且服务器上只有文件名和存储桶名称，是否需要额外的安全预防措施？我在其他地方读到我应该通过 gd 或 imagemagick 运行它并调整大小等，我担心这可能会过度杀伤和税收服务器资源。我意识到文件上传安全非常困难，任何帮助将不胜感激。

先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:39:44.327

我建议*不要*像你说的那样通过 GD 和 Imagemagick 运行它，因为系统使用和只是不必要的进程。S3真的很快。尤其是来自亚马逊系统上的另一个盒子。我最终调整了图形的大小，因为我们不需要它们那么大，而且我们不想为存储大图像付费，但这不是安全问题，只是 $$/payment 问题。

安全并不难。如果您的 Facebook 应用程序引用了您的 EC2 实例，则不需要任何安全性。您的服务器代码/应用程序将执行写入权限。当您使用 S3 对象（如果这是在 PHP 中）上传图像时，您只需在上传时设置文件的权限。

我有一堆 Facebook 应用程序可以毫无问题地将图像发布到 S3。这是一个伟大的架构，运作良好。

# php - pull combination of 2 tables from database

> ID：11323602
> 
> 赞同：0
> 
> 时间：2012-07-04T06:34:37.383
> 
> 标签：php, mysql, sql, phpmyadmin

I need to pull combinations of 2 columns from two different tables from the same database.

ex:table1 has columns

```
Org_Id     Org_Name 
1001       company1   
1002       company2 
```

table2 has columns

```
Country_Id       Country_Name 
1                        USA  
2                        uk
3                        australia
4                        canada 
```

after creating combinations ,i need to create table 3 which hold the values of combinations...

table3 should have columns

```
org_name     Country_Name 
company1      usa
company2      uk   
company2      usa
company1      canada 
```

Note: Using joint we can display what ever we have in columns ,, but i need combinations of both the columns.... please help me this.....expecting your response asap....Thanks you all...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:37:58.523

很难从中看出“组合”表应该如何检测数据，但通常是使用[views](http://dev.mysql.com/doc/refman/5.0/en/create-view.html)完成的。调查一下。

刚刚注意到，在手册中实际上有一个示例与您描述的差不多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:45:52.620

在您确定要如何连接表之后，您可以使用 INSERT ...SELECT

```
INSERT into table3(orgname,countryname) SELECT orgname,countryname from table1,table2; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T06:41:33.287

如示例中所述，这两个表没有相互连接..

那么你可以直接加入没有任何联合条件..

```
 select Org_Name , Country_Name 
       from table1, table2 
```

但根据实践，这种方法是不正确的..您应该将表与连接表连接起来以显示有价值的结果..

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-09-13T12:42:08.157

您可以使用 SELECT INTO 一口气创建新表并插入所有组合，如下所示：

```
SELECT org_Name, Country_Name
INTO table3
FROM table1, table2 
```

# java - 在 Java 中确定非接触式智能卡的电源要求。

> ID：11323608
> 
> 赞同：5
> 
> 时间：2012-07-04T06:35:22.980
> 
> 标签：java, android, nfc, nexus-s

我正在用 Java 编写一个应用程序，它将命令发送到智能卡并通过 NFC 接口解析响应。此应用程序可在 Android 和 PC 上使用。

通过 PC 使用 USB 非接触式读卡器，我可以毫不费力地与我扔给它的任何卡进行连接和通信。

安卓是另一回事。通过 Nexus S 使用应用程序会产生不太理想的结果，具体取决于卡。

有些卡将以 100% 的成功率连接和通信。我尝试使用的大多数卡都很难建立连接，更不用说与之通信了。

Nexus S 上的 NFC 服务正在尝试与卡连接。它发出连续的低脉冲声，表明它无法建立牢固的连接（据我所知）。

我目前的想法是，Nexus S 的 NFC 芯片比我正在使用的 USB PC 读卡器功率更低。从我读过的其他文章看来，不同的卡似乎有不同的功率要求才能使用它们。

如何确定为卡供电所需的功率级别？它是否隐藏在 ATR 中的某个地方？

如何确定特定 NFC 芯片的功率级别？这是在某处记录的吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-09T10:49:32.973

此类问题通常由以下任何一种（组合）引起：

1.  卡中天线调谐不良
2.  需要大功率的微控制器卡
3.  NFC手机产生的弱射频场

这会导致电话和卡之间的天线耦合不良，从而导致通信不良或无法通信。桌面阅读器通常不会出现此类问题，因为它会生成更强大的字段。手机中的 NFC 功率非常低，它产生的射频场通常处于 ISO 14443 仍然允许的范围内。Nexus S 中的 NFC 芯片，NXP PN544，会产生一个微弱的射频场。但是，这是手机中的 NFC 芯片和 NFC 天线的功能。根据我的经验，B 型卡经常会引起问题（有传言说它们通常需要更多功率）。另一个例子是电子护照：通常有不太理想的天线。

卡所需的最低功率级别：它不在 ATR 中。ISO 14443 卡没有 ATR（他们可能有 EF.ATR 文件，但我从未见过）。ATS（选择答案）响应未指示所需的功率水平。卡可以在 ISO 14443-4 S-Block 的 CID 字段中指示功率水平是否足够（当卡存在并支持时）。不过，我从未见过这样做的卡片。

要确定结合特定天线（和调谐电路）的特定 NFC 芯片的功率水平，您可以使用频谱分析仪进行测量。我测量了几款都包含 PN544 的 Android NFC 手机（Galaxy Nexus、Nexus S、Galaxy S3、One X）。结果因手机而异，足以在某些情况下产生影响（S3 产生的功率最大）。

# c# - 抽象类可以只有方法签名而没有接口之类的实现吗？

> ID：11323612
> 
> 赞同：-3
> 
> 时间：2012-07-04T06:35:49.903
> 
> 标签：c#, java, .net, oop

像接口一样，抽象类可以只有方法签名而没有实现吗？如是：

1.  抽象类与接口有何不同？
2.  另一个以抽象类为基类的类如何实现基类方法的主体？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T06:58:48.530

抽象类可以包含实现，但不是必须的。这是使它与接口不同的一件事。

```
abstract class classA
{
    abstract public void MethodA();

    public void MethodB()
    {
        Console.WriteLine("This is MethodB inside ClassA");
    }
}

class classB : classA
{

    public override void MethodA()
    {
        Console.WriteLine("This is MethodA inside class B");
    }
} 
```

如果您在抽象基类中实现了一个方法，并且希望以后能够覆盖它，则需要将该方法声明为虚拟的。

```
virtual protected void MethodC(){
  //this can be overridden
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-04T06:37:01.993

> 像接口一样，抽象类可以只有方法签名而没有实现吗？如是：

是的，但也可以实现......

你也可以在`abstract`类中实现方法`interfaces`，但你不能创建一个实例`abstract class`

> [接口和抽象类](http://en.csharp-online.net/Interfaces_and_Abstract_Classes)
> 
> [抽象类与接口](http://www.codeproject.com/Articles/11155/Abstract-Class-versus-Interface)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-04T06:42:08.967

在 Java 中：

q1：抽象类可以包含方法定义和普通方法，而接口不能。

q2：来自[http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html](http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html)

```
//this is the abstract class
public abstract class GraphicObject {
  abstract void draw();
}

//this is the implementation 
class Rectangle extends GraphicObject {
  void draw() {
    ...
  }
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-04T06:48:29.483

> 像接口一样，抽象类可以只有方法签名而没有实现吗？

**是**的。抽象类**可以有**方法实现。

> 它与接口有何不同？

接口中声明的变量默认是 final 的。抽象类可能包含非最终变量。

默认情况下，接口的成员是公共的。抽象类可以具有类成员的常见风格，如私有、受保护等。

接口是绝对抽象的，不能实例化；抽象类也不能被实例化，但可以在 main() 存在时调用。

与抽象类相比，接口很慢，因为它需要额外的间接性。

请参考以下链接：

[http://forums.asp.net/t/1240708.aspx/1](http://forums.asp.net/t/1240708.aspx/1)

[http://java.sys-con.com/node/36250](http://java.sys-con.com/node/36250)

[http://www.codeproject.com/Articles/11155/Abstract-Class-versus-Interface](http://www.codeproject.com/Articles/11155/Abstract-Class-versus-Interface)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-07-04T06:58:10.513

1.  接口是一个完全抽象的类，
    仅表示签名，没有实现，没有数据成员。
    另一方面，定义的抽象类至少需要一个抽象方法。
    它也可以有实现。它还可以包含将继承给其继承者的数据成员。
2.  继承者需要实现具有相同签名的抽象方法才能实现

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-07-04T06:51:08.093

在 JAVA 中是的，

1.  如果你这样使用抽象类，那么接口和抽象类之间没有区别。抽象类真正重要的是您可以提供期望被子类继承的通用实现，这是接口无法做到的。

2.  是的，正如我所说，抽象类的行为方式与接口相同，您可以重写子类中的方法

例如：

```
public abstract class AbstractClassWithoutImplementation {

public abstract String methodA(); 
```

}

```
public class Implementation extends AbstractClassWithoutImplementation {

@Override
public String methodA() {
    // TODO Auto-generated method stub
    return "Yes";
}

public static void main(String[] args){
    Implementation im = new Implementation();
    System.out.println(im.methodA());
} 
```

}

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-07-04T06:59:51.790

抽象类是不能实例化的类。它介于一个具体的类（完全实现）和一个接口（完全没有实现）之间。

它可以包含完全实现的常规成员（变量、方法等）。

它还可以包含未实现的抽象成员。任何未实现的成员，例如方法签名，都必须标记为抽象。

所以回答你的问题：

> 像接口一样，抽象类可以只有方法签名而没有实现吗？

您的措辞不够清楚，无法给出是或否的答案。抽象类可以有实现的方法，也可以有未实现的抽象方法，必须标记为`abstract`. 它**不能**有没有实现的方法，除非它们被标记`abstract`。

> 如果是：它与接口有何不同？

因为它允许执行成员。

> 这个抽象类作为基类的另一个类如何实现该方法的主体？

只需要实现所有抽象成员。

```
public abstract class A
{ 
    public abstract void Test();
}

public class B : A
{
    public void Test(){ return; }
} 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2012-07-04T07:03:34.100

`Like Interfaces, can an abstract class have only method signature without implementation? If yes:`

**是的，**一个`abstract`类可以有所有`abstract`方法，即使它必须有一个抽象方法`abstract`。你可以声明一个类，`abstract`即使它没有任何`abstract`方法。

`How it differs from Interface?`

在接口中，所有方法都`abstract public`押在抽象类中，没有必要。请阅读[接口](http://en.wikipedia.org/wiki/Interface_%28Java%29)与[抽象类](http://www.javaworld.com/javaqa/2001-04/03-qa-0420-abstract.html)

`How another class, for which this Abstract Class is acting as a base class, can implement the body of that method?`

如果您`BaseClass`是 Abstract 并且`ChildClass`正在扩展 Base 类，则您也可以实现`abstract`方法 in`ChildClass`否则 make `ChildClass` `abstrac`t 。

```
public class ChildClass extends BaseClass{

void display(){

    /// Your Implementation here
}

}

abstract class BaseClass{

abstract void display();
} 
```

# java - 单击按钮时更改 jpanel 的背景和字体颜色

> ID：11323613
> 
> 赞同：1
> 
> 时间：2012-07-04T06:35:59.557
> 
> 标签：java, swing, button, applet, awt

我想在单击按钮时更改 Jpanel 的背景颜色及其字体。

谁能告诉我我做错了什么？我可以将 JPanel 背景设置为透明吗？如果可以，如何？

在按钮单击 test4.action 方法被调用，我需要更改 Jpanel 背景颜色？

这是代码：

```
import java.applet.*;
import java.awt.*;
import java.awt.image.BufferedImage;
import java.awt.event.*;
import javax.swing.*;

public class test3 extends Applet {

    JPanel c;
    JScrollPane s;
    Button connect;
    Panel controls;
    Color back, fore;

    public void init() {
        back = Color.black;
        fore = Color.white;
        setBackground(Color.darkGray);
        setLayout(new BorderLayout());
        s = new JScrollPane(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);
        //s.setSize(100, 100);
        add("Center", s);
        c = new myCanvas11(this);
        s.setOpaque(false);
        s.setViewportView(c);
        //s.add(c);
        c.setSize(1000, 16000);
        add("North", controls = new Panel());
        controls.setLayout(new FlowLayout());
        controls.add(connect = new Button("Change Color"));
    }

    public void start() {
        // s.setScrollPosition(100, 100);
    }

    public boolean action(Event e, Object arg) {
        back = Color.magenta;
        fore = Color.blue;
        //setBackground(back);
        //invalidate();
        //repaint();
        c.setBackground(back);
        c.repaint();
        //s.getViewport().setBackground(back);
        // s.getViewport().repaint();
        //c.repaint();
        c.setFocusable(true);
        return true;
    }
}

class myCanvas11 extends JPanel implements KeyListener {

    Image buffImage;
    Graphics offscreen;
    boolean initDone = false;
    int chw, chh; // size of a char (in pixels)
    int chd; // offset of char from baseline
    int width, height; // size of applet (in pixels)
    int w, h; // size of applet (in chars)
    Font fn;
    Graphics gr;
    int nh, nw;
    test3 owner;
    static int counter = 0;

    myCanvas11(test3 t) {
        super();
        owner = t;
        nh = 16000;
        nw = 1000;
        this.setOpaque(true);
        this.setFocusable(true);
        addKeyListener(this);
    }

    public void reshape(int nx, int ny, int nw1, int nh1) {
        if (nw1 != width || nh1 != height) {
            width = nw;
            height = nh;
            gr = getGraphics();
            fn = new Font("Courier", Font.PLAIN, 11);
            if (fn != null) {
                gr.setFont(fn);
            }
            FontMetrics fnm = gr.getFontMetrics();
            chw = fnm.getMaxAdvance();
            chh = fnm.getHeight();
            chd = fnm.getDescent();
            // kludge for Windows NT and others which have too big widths
            if (chw + 1 >= chh) {
                chw = (chw + 1) / 2;
            }
            // work out size of drawing area
            h = nh / chh;
            w = nw / chw;
            buffImage = this.createImage(nw, nh);
            offscreen = buffImage.getGraphics();
            //offscreen.setColor(Color.black);
            //offscreen.fillRect(0, 0, nw, nh);
            offscreen.setColor(Color.blue);
            offscreen.setFont(fn);
            if (initDone) {
                offscreen.drawString("Hello World!", 0, 50);
            } else {
                offscreen.drawString("khushbu", 2, 50);
            }
            initDone = true;
            offscreen.drawImage(buffImage, 0, 0, this);
        }
        super.reshape(nx, ny, nw, nh);
    }

    public void paint(Graphics g) {
//       if (!initDone)
//       initpaint(g);
//       else
        g.drawImage(buffImage, 0, 0, this);
        //g.drawImage(buffImage, 0, 0, owner.back, this);

    }

    public void update(Graphics g) {
        g.drawImage(buffImage, 0, 0, this);
        super.update(g);
        //g.drawImage(buffImage, 0, 0, owner.back, this);
    }

    public void initpaint(Graphics g) {
        try {
            nh = getHeight();
            nw = getWidth();
            gr = getGraphics();
            fn = new Font("Courier", Font.PLAIN, 11);
            if (fn != null) {
                gr.setFont(fn);
            }
            FontMetrics fnm = gr.getFontMetrics();
            chw = fnm.getMaxAdvance();
            chh = fnm.getHeight();
            chd = fnm.getDescent();
            // kludge for Windows NT and others which have too big widths
            if (chw + 1 >= chh) {
                chw = (chw + 1) / 2;
            }
            // work out size of drawing area
            h = nh / chh;
            w = nw / chw;
            buffImage = this.createImage(nw, nh);
            offscreen = buffImage.getGraphics();
            //offscreen.setColor(Color.black);
            //offscreen.fillRect(0, 0, nw, nh);
            offscreen.setColor(Color.white);
            offscreen.setFont(fn);
            if (initDone) {
                offscreen.drawString("Hello World!", 0, 50);
            } else {
                offscreen.drawString("khushbu", 2, 50);
            }
            initDone = true;
            g.drawImage(buffImage, 0, 0, this);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    /** Handle the key typed event from the text field. */
    public void keyTyped(KeyEvent e) {
    }

    /** Handle the key pressed event from the text field. */
    public void keyPressed(KeyEvent e) {
        String s;
        offscreen.setColor(owner.fore);
        offscreen.setFont(fn);
        for (int i = counter; i < counter + 25; ++i) {
            s = Integer.toString(i);
            offscreen.drawString(s, 3, i * chh);
            offscreen.drawLine(10, i * chh, 160, i * chh);
        }
        //owner.s.setScrollPosition(0, counter * 16);
        counter = counter + 25;
        repaint();
    }

    /** Handle the key released event from the text field. */
    public void keyReleased(KeyEvent e) {
    }

    public boolean keyDown(Event e, int k) {
        String s;
        offscreen.setColor(owner.fore);
        offscreen.setFont(fn);
        for (int i = counter; i < counter + 25; ++i) {
            s = Integer.toString(i);
            offscreen.drawString(s, 3, i * chh);
            offscreen.drawLine(10, i * chh, 160, i * chh);
        }
        //owner.s.setScrollPosition(0, counter * 16);
        counter = counter + 25;
        repaint();
        return true;
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-04T07:41:16.487

> 我可以将 JPanel 背景设置为透明吗？如果可以，如何？

是的，只需调用`setOpaque(false);`那个 JPanel。相反，如果要绘制背景，请调用`setOpaque(true);`该面板。

补充说明：

1.  `public boolean action(Event e, Object arg)`已弃用。改为添加适当的侦听器。
2.  遵循 Java 编码约定并使用大写字母作为类的第一个字符
3.  你几乎不应该调用`getGraphics();`一个组件
4.  不要覆盖`public void paint(Graphics g)`但是`protected void paintComponent(Graphics g)`. `super.paintComponent`如果你想画背景别忘了打电话
5.  为什么要覆盖重塑？
6.  为什么要创建内部缓冲区？Swing 已经内置了双缓冲，而且它们做得更好。
7.  如果您已经覆盖了`paint()`，为什么还要覆盖`update()`？您正在执行相同的工作两次。
8.  删除那个`gr`类变量，它没有任何意义。使用`Graphics`对象时，请使用作为`paintComponent`方法参数提供的对象，但不要保留对它的引用，因为它稍后会被释放。
9.  `counter`不需要`static`。尽量避免`static`。
10.  尽量避免你的类之间如此多的耦合。它使您的代码更难维护且更难预测。
11.  下一次，除非您遇到的问题确实需要重现 Applet，否则请使用 Applet（例如 JFrame）以外的其他内容发布[SSCCE 。](http://sscce.org)

# cocoa - Xcode 保存和加载图片

> ID：11323614
> 
> 赞同：0
> 
> 时间：2012-07-04T06:36:01.007
> 
> 标签：cocoa

我一直在尝试保存用户选择的图像。这是我的保存代码：

```
 -(IBAction)save123456 {
        NSUserDefaults *myname = [NSUserDefaults standardUserDefaults];
        [myname setObject:noteview.image forKey:@"name"];

} 
```

这似乎有效，但如果我应该改变什么，请告诉我。现在这是我的加载代码。

```
 -(IBAction)load123456 {
    NSUserDefaults *myname = [NSUserDefaults standardUserDefaults];
    NSString *tempstring = [myname stringForKey:@"name"];
        noteview.image = tempstring;

} 
```

当我单击加载按钮时，图像就消失了。怎么了。

我通过修饰切割连接所有东西，这有关系吗？

谢谢！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:41:52.647

这一行：

```
noteview.image = tempstring; 
```

正在将“ `NSString`”分配给应该是“ `UIImage`”的内容。

编辑：现在我意识到你在做什么，[你不能将 UIImage 保存到一个简单的 plist 数据库中，比如 user defaults](http://discussions.apple.com/thread/1729849?start=0&tstart=0)。

您需要单独保存文件，然后保存并加载文件的*路径*，或者您需要将`NSData`图像的原始数据（即“”）保存并加载到用户默认值。

ps 您对变量名的选择令人困惑。代替“myname”，使用“myDefaults”，代替“tempname”，使用“nameImage”（即更具描述性和可理解性的东西）。

# c# - const 与 readonly

> ID：11323617
> 
> 赞同：8
> 
> 时间：2012-07-04T06:36:09.947
> 
> 标签：c#, .net, constants, readonly

今天找到一篇文章，其中一个`const`字段称为*编译时常*量，而一个`readonly`字段称为*运行时常*量。这两个短语来自《Effective C#》。我在 MSDN 和语言规范中进行了搜索，没有找到关于*runtime constant*的信息。

没有冒犯，但我不认为*运行时常数*是一个合适的短语。

```
private readonly string foo = "bar"; 
```

创建一个名为“foo”的变量，其值为“bar”，值为只读，这里是一个变量，没有业务`constant`。只读变量仍然是变量，它不能是常量。变量和常量是互斥的。

可能这个问题太过分了，我还是想听听别人的意见。你怎么看？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-04T06:49:42.307

我相信作者的意思如下：

考虑示例：

```
public class A {

     public const int a = Compute();         

     private static int Compute(){

          /*some computation and return*/ 
          return some_computed_value;
     }
} 
```

这**将无法**编译，因为您必须将常量值分配给`a`. 所以**这是***编译时常*量的含义。

相反，如果您将其更改为

```
public class A {

     public readonly int a = Compute();          

     private static int Compute(){
          /*some computation and return*/ 
          return some_computed_value;
     }
} 
```

这**将**编译。它在*运行时*进行计算并将其分配给`a`. 这是*运行时常量的含义*

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-04T06:43:48.747

正如您自己注意到的那样，该术语未在语言规范等中使用。所以；怪那本书！我将其称为“只读字段”，因为这就是它的本质——此处“只读”的定义与初始化程序/构造函数有关，并且仅限于**常规代码**。例如，即使是只读字段也是可变的......

```
// how to annoy your colleagues...
typeof(string).GetField("Empty").SetValue(null, " "); 
```

（请注意，这不再适用于最近的 CLR 版本 - JIT 可能会用 ldstr 替换字段加载 - 但它确实在很长一段时间内都有效）

（对对象执行此操作的更*真实*原因与反序列化有关）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-04T06:39:44.000

只读变量只能在其构造函数中更改，并且可以用于复杂对象。常量变量不能在运行时更改，但只能用于简单类型，如 Int、Double、String。运行时常量有点准确，但混淆了这个问题，常量和只读之间存在非常明显的区别，因此将一个命名为与另一个相似可能不是一个好主意，即使它们通常用于相同的目的。

[此处](http://weblogs.asp.net/psteele/archive/2004/01/27/63416.aspx)快速总结不同之处

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-04T06:41:31.917

我将 readonly 称为**“一次写入变量”**，由编译器检查，而不是在运行时检查。您可以使用反射编写该字段，因此它在运行时不是恒定的。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-04-26T08:11:20.407

# `const`对比`readonly`

这是和之间的*完整*简历比较：`const``readonly`

```
|-----------------------------------------|-----------------------------------------|
|              Constant Field             |             Read-only Field             |
|-----------------------------------------|-----------------------------------------|
| Compile-time constant                   | Run-time constant                       |
|-----------------------------------------|-----------------------------------------|
| Assigned to an expression evaluated at  | Assigned to any valid expression at     |
| compile time                            | runtime                                 |
|-----------------------------------------|-----------------------------------------|
| Assigned on declaration                 | Assigned on declaration or constructor  |
|-----------------------------------------|-----------------------------------------|
| Only number, Boolean or string          | Any data type                           |
|-----------------------------------------|-----------------------------------------|
| Always static                           | Optionally static                       |
|-----------------------------------------|-----------------------------------------| 
```

# 解释

*   常量是静态的（不需要实例化类来访问它们）。
*   常量只能在声明时赋值。
*   常量是**编译时常**量，因为它们被分配给在编​​译时评估的表达式：当它们改变时，应该重新编译项目以使用新值。
*   只读字段是类中的变量，它保存一个初始化的值（仅在构造函数或声明中），然后不更改。
*   只读字段是**运行时常**量，因为它们可以在运行时分配给任何有效的表达式。
*   只读字段适用于对象的实例，但不适用于该实例的属性。所以其他代码可以改变只读字段的实例属性。
*   只读字段是可选的静态的（如果你想让它们被所有实例共享）。

# 何时使用`const`，何时使用`readonly`？

*   当常量是**简单类型**并且它们的值永远不会改变时，它们很有用。
*   只读字段在**从源**（文件、数据库或其他代码等）初始化时很有用，但它们不会被更改。

# flash - 是否有适用于 HTML5 的 Adob e Flash Builder 对应 IDE？

> ID：11323620
> 
> 赞同：2
> 
> 时间：2012-07-04T06:36:25.600
> 
> 标签：flash, apache-flex, html, ide

我们使用 Adob​​e Flash Builder 来创建由 Flex 提供支持的交互式 Web 应用程序。现在我们正在寻找替代方案，让我们在 UI 设计和 HTML5 编码方面同样易于开发。有这样的IDE吗？如果是这样，它叫什么？

主要兴趣是轻松创建 Web 应用程序，但不是在 Flash 上运行，而是在 HTML5 技术上运行。[RealStudio 的网络发布 IDE](http://www.realsoftware.com/web/)会很不错。它几乎拥有一切，除了它需要 fastCGI 或 CGI 才能运行，而我们的目标是创建基于 PHP 的应用程序。

最重要的是为用户提供类似桌面的体验。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:42:30.640

[Aptana](http://aptana.com/)，带有[Sencha](http://www.sencha.com/) [ExtJS](http://www.sencha.com/products/extjs/)。

如果您只是喜欢构建 Flash Builder 的 Eclipse 平台，您可以使用[Eclipse Web Tools Platform](http://www.eclipse.org/webtools/development/)。

[Adobe AIR](http://www.adobe.com/devnet/air/articles/getting_started_air_js.html)还可以将 HTML/JavaScript 与 Dreamweaver 打包在一起。

或者，有[Adob​​e Edge](http://edge.adobe.com/whatisedge.html)。

> Adobe Edge 是一个功能强大、直观的工具，用于使用 HTML5、CSS3 和 JavaScript 创建令人惊叹的动画和交互式内容。Edge 直观且具有强大的功能，可以节省时间和麻烦。使用 Edge 制作的内容可以在移动设备和台式机上优雅运行，从而扩大您在现代网络上的影响力。

# java - 小程序安全设置？

> ID：11323621
> 
> 赞同：0
> 
> 时间：2012-07-04T06:36:27.123
> 
> 标签：java, swing, applet, security

我正在将 JFrame 转换为小程序并获得安全异常：

```
C:\prv_workspace_8\DungeonWorldAdventure\bin>appletviewer applet.html
java.security.AccessControlException: access denied ("java.net.SocketPermission"
 "www.student.nada.kth.se:80" "connect,resolve")
        at java.security.AccessControlContext.checkPermission(AccessControlConte
xt.java:366)
        at java.security.AccessController.checkPermission(AccessController.java:
555)
        at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)
        at java.lang.SecurityManager.checkConnect(SecurityManager.java:1051)
        at sun.net.www.http.HttpClient.openServer(HttpClient.java:456)
        at sun.net.www.http.HttpClient.<init>(HttpClient.java:203)
        at sun.net.www.http.HttpClient.New(HttpClient.java:290)
        at sun.net.www.http.HttpClient.New(HttpClient.java:306) 
```

它正在尝试从 URL 读取图片：

```
// Load an image from the net, making sure it has already been
    // loaded when the method returns
    public Image loadPicture(String imageName) {
        Image im = null;

        // Load the image from the net
        try {
            URL imageSource = new URL(
                    "http://www.student.nada.kth.se/~d99-nro/" + imageName);

            try {
                im = createImage((ImageProducer) imageSource.getContent());
            } catch (IOException e) {
            }

        } catch (MalformedURLException e) {
        }

        // Wait to ensure that the image is loaded
        MediaTracker imageTracker = new MediaTracker(this);
        imageTracker.addImage(im, 0);
        try {
            imageTracker.waitForID(0);
        } catch (InterruptedException e) {
        }

        return im;
    } 
```

知道我怎样才能完成这项工作吗？我需要一个`java.policy`文件吗？如果是这样，我如何使这个小程序在网页上工作？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T07:31:46.700

> 知道我怎样才能完成这项工作吗？

需要信任小程序才能跨域读取。无论是该文件还是允许跨域访问的外部服务器上特定位置的文件，我怀疑小程序查看器是否足够复杂以进行区分，因此最好在网页中对其进行测试。

有关跨域访问的更多详细信息，请参见：

*   [下一代 Java 插件：跨域 XML 支持](http://www.oracle.com/technetwork/java/javase/plugin2-142482.html#CROSSDOMAINXML)
*   [Java 涂鸦：crossdomain.xml 支持](http://weblogs.java.net/blog/joshy/archive/2008/05/java_doodle_cro.html)

> 我需要一个 java.policyfile 吗？

不，这在网络上部署是行不通的（不切实际），所以不值得追求。

* * *

> 我正在将 JFrame 转换为小程序..

[使用Java Web Start 启动](https://stackoverflow.com/tags/java-web-start/info)框架可能是一个更好的主意。将应用相同的安全限制，但自由浮动（可调整大小）框架通常更适合显示图像。它也不需要代码转换，并且通常更容易维护 - 小程序比 JWS 应用程序导致更多的维护麻烦。

> 我将使用 Java Web Start 来实现。我读到我可以让我的应用程序签名，然后它可以读取文件。不应该很容易吗？我看到其他开发人员无法让他们的小程序加载文件，然后建议他们使用签名小程序，也许 Java Web 启动有类似的东西？

基本上一样。[如果在任何启动文件（一个JNLP](https://stackoverflow.com/tags/jnlp/info)，类似于`applet`HTML 中的元素但有更多选项）或任何请求扩展权限（有 3 个级别）的扩展（也是一个 JNLP）中引用了 Jar，则需要对它们进行数字签名或 JWS 中的权限）。

另一种选择是使用 JNLP API 文件服务从沙盒应用程序访问本地文件系统，但这需要更改代码。这是一个[演示。的文件服务](http://pscode.org/jws/api.html#fs)。

# c# - 如何从列表中获取值

> ID：11323628
> 
> 赞同：0
> 
> 时间：2012-07-04T06:37:03.830
> 
> 标签：c#, class

我有这些类，我想用它来登录，检查电子邮件和密码是否相同，然后它将重定向到相应的页面。

```
public class Account
  {
    public Account(){}
    public int accID { get; set; }
    public string emailAddress { get; set; }
    public string password { get; set; }
    public string name { get; set; }
    public string company { get; set; }
    public string position { get; set; }
    public string department { get; set; }
    public string mobileNo { get; set; }
    public string officeNo { get; set; }
   }
 public static SADataReader DoSelectQuery(String sql)
    {
        SAConnection myConnection = new SAConnection(DB_STR);
        //open the connection 
        myConnection.Open();
        //Create a command object. 
        SACommand myCommand = myConnection.CreateCommand();

        //Specify a query. 
        myCommand.CommandText = sql;

        //Create a DataReader for the command 
        SADataReader reader = myCommand.ExecuteReader();

        return reader;
    }
 public static List<Account> getAllAccountFromReader(SADataReader reader){
        List<Account> results = new List<Account>();

        while (reader.Read())
        {
            int accID = reader.GetInt32(0);
            string emailAddress = reader.GetString(1);
            string password = reader.GetString(2);
            string name = reader.GetString(3);
            string company = reader.GetString(4);
            string position = reader.GetString(5);
            string department = reader.GetString(6);
            string mobileNo = reader.GetString(7);
            string officeNo = reader.GetString(8);

            Account Accounts = new Account();
            Accounts.accID = accID;
            Accounts.emailAddress = emailAddress;
            Accounts.password = password;
            Accounts.name = name;
            Accounts.company = company;
            Accounts.position = position;
            Accounts.department = department;
            Accounts.mobileNo = mobileNo;
            Accounts.officeNo = officeNo;
            results.Add(Accounts);
        }
        return results;
    }
 public static List<Account> getAllAccounts()
    {
        //Specify a query. 
        string sql = "SELECT accountID,emailAddress,password,name,company,position,department,mobileNo,officeNo FROM account";

        SADataReader reader = DoSelectQuery(sql);
        List<Account> results = getAllAccountFromReader(reader);
        return results;
  } 
```

.CS 文件以检查字段

```
protected void btnSubmit_Click(object sender, EventArgs e)
    {
        string email = tbEmail.Text;
        string password = tbPW.Text;
        List<Account> getAccounts = MinuteDB.getAllAccounts();

       // Session["getAllAccount"] = getAccounts;

      if(email ==?? && password == ??)
            {

                       //Session["name"] = name.ToString();
                       //Session["ID"] = Convert.ToInt32(accID.ToString());
                      Response.Redirect("HomePage.aspx");
            }

            else if (email == "" && password == "")
            {
                ScriptManager.RegisterStartupScript(this, GetType(), "error", "alert('Please enter Login and Password!');", true);
            }
            else
            {
                ScriptManager.RegisterStartupScript(this, GetType(), "error", "alert('Wrong Login Or Password!');", true);
            }

    } 
```

如何从 List getAccounts 中检索电子邮件和密码，以便我可以检查是否（电子邮件 ==*来自列表帐户的电子邮件*&& 密码 ==*来自列表帐户*的密码）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:47:21.387

您是否要在帐户列表中查找电子邮件并检查输入的密码是否匹配？如果是这样，从表面上看，您只需按照以下方式循环遍历每个：

```
private bool isPasswordValid(string email, string password)
{
  foreach (Account account in Accounts)
  {
    if (account.emailAddress != email)
      continue;
    return (account.password == password);
  }
  return false;
} 
```

您也可以返回 a`Dictionary<string, Account>`以简化和加快搜索。

**更新**

因此，而不是以下行：

```
 if(email ==?? && password == ??) 
```

插入

```
 if (isPasswordValid(email, password))
   // it is valid
 else
   // it is not valid, redirect 
```

This assumes the getAccounts variable is accessible to isPasswordValid. In your current code it would not be visible, so you might want to pass it in as a parameter.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:47:51.763

Try LINQ/extension methods.

```
var account = MinuteDB.getAllAccounts()
               .Where(p=> p.emailAddress==email && p.password==password)
               .FirstOrDefault();

if(account!=null)
{
  Session["id"]=account.accID;
  Session["name"]=account.name;
  Response.Redirect("~/other_page.aspx");
} 
```

Write following code in `other_page.aspx` to read session key-value.

```
int id=0;
string name="";
if(Session["id"]!=null)
   id=int.Parse(Session["id"].ToString());
if(Session["name"]!=null)
   name=Session["name"]; 
```

PS: Do not store *password* in the `List<T>`. You may assign `Account` object reference to the Session.

e.g

```
 if(account!=null)
    {
      Session["account"]=account;
      Response.Redirect("~/other_page.aspx");
    } 
```

and to retrieve the `account` value from session:

```
Account account=Session["account"] as Account;
if(account!=null)
 {
   //read the property value of Account
 } 
```

# .net - 什么是最好的 ASP.NET MVC 视图引擎？

> ID：11323632
> 
> 赞同：-1
> 
> 时间：2012-07-04T06:37:20.490
> 
> 标签：.net, asp.net-mvc, viewengine

在ASP.NET MVC 3 之前，Microsoft 使用**ASP.NET View Engine** for MVC。此后他们将其更改为**Razor**。

然而，还有许多其他视图引擎，例如：

*   火花
*   氨基甲酸酯
*   SharpDOM
*   SharpTiles
*   翼跳动
*   字符串模板视图引擎 mvc
*   贝尔维尤
*   抄网
*   哈西奇
*   NDjango
*   ...

这些有什么区别？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:44:39.583

没有像“最佳”视图引擎这样的东西。他们每个人都有自己的优点和问题。如果您真的想知道哪一个最适合您，那么您必须尝试它们。我们无法告诉您选择哪一个，因为我们的看法偏向于我们独特的体验:)

# javascript - decodeURI 没有完全工作

> ID：11323636
> 
> 赞同：22
> 
> 时间：2012-07-04T06:37:24.733
> 
> 标签：javascript, jquery

我正在尝试从链接中删除 URI 编码，但 decodeURI 似乎没有完全正常工作。

我的示例链接是这样的：`/linkout?remoteUrl=http%253a%252f%252fsandbox.yoyogames.com%252fgames%252f171985-h-a-m-heroic-armies-marching`

运行 JavaScript 脚本后，它看起来像这样：

```
http%3a%2f%2fsandbox.yoyogames.com%2fgames%2f171985-h-a-m-heroic-armies-marching 
```

如何摆脱 URI 中剩余的不正确代码？

我的解码代码：

```
var href = $(this).attr('href');            // get the href
var href = decodeURI(href.substring(19));   // remove the outgoing part and remove the escaping
$(this).attr('href', 'http://'+href)        // change link on page 
```

* * *

## 回答 #1

> 赞同：53
> 
> 时间：2012-07-04T06:40:50.807

url 看起来被编码了两次，我还建议使用 decodeURIComponent

```
decodeURIComponent(decodeURIComponent("http%253a%252f%252fsandbox.yoyogames.com%252fgames%252f171985-h-a-m-heroic-armies-marching")) 
```

结果：“http://sandbox.yoyogames.com/games/171985-ham-heroic-armies-marching”

但是您应该检查为什么要提前对 url 进行两次编码

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-06-13T16:54:34.097

我刚刚在 PUT 动词的 ASHX 处理程序中遇到了这种情况。ASP.NET 显然正在为我编码我的 XML，因此不需要我对*HttpUtility.UrlEncode*的服务器端调用。通过调用客户端 Javascript *decodeURI*两次来修复它——在奶牛已经离开并且我发送的 HTTP 违反协议后关闭谷仓门。

我会评论并加一个 Tobias Krogh 的答案，但我没有这样做的意义......</p>

但是，我仍然认为重要的是要注意这里讨论的失败不是 Javascript decodeURI 或其他任何东西——它是数据验证错误。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-07-31T00:43:55.430

我的实现是一个递归函数：

```
export function tryDecodeURLComponent(str: string, maxInterations = 30, iterations = 0): string {
    if (iterations >= maxInterations) {
        return str;
    } else if (typeof str === 'string' && (str.indexOf('%3D') !== -1 || str.indexOf('%25') !== -1)) {
        return tryDecodeURLComponent(decodeURIComponent(str), maxInterations, iterations + 1)
    }

    return decodeURIComponent(str);
} 
```

*   `str`: 编码字符串。
*   `maxInterations`：尝试解码的最大递归迭代次数`str`（*默认值`30`*：） 。
*   `iterations`：标志计数器迭代。

# android - 为什么我不能直接找到对 StatusBarManager 类的引用？

> ID：11323637
> 
> 赞同：5
> 
> 时间：2012-07-04T06:37:25.717
> 
> 标签：android, statusbar

要在Android中动态下拉通知区域，唯一的解决方案是这个

```
 Object sbservice = getSystemService( "statusbar" );
    Class<?> statusbarManager = Class.forName( "android.app.StatusBarManager" );
    Method showsb = statusbarManager.getMethod( "expand" );
    showsb.invoke( sbservice ); 
```

这非常有效，但为什么反射会让人讨厌呢？为什么我不能直接找到对 StatusBarManager 类的引用？为什么“statusbar”服务的 Context 类中没有常量？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-04T11:09:55.577

> 为什么反射的肮脏？

因为它不是 Android SDK 的一部分。只有对创建不可靠的应用程序感兴趣的人才会尝试与`StatusBarManager`Android 源代码本身的外部进行交互，因为核心 Android 团队和设备制造商可以随时更改 SDK 之外的任何内容。

> 为什么我不能直接找到对 StatusBarManager 类的引用？

因为它不是 Android SDK 的一部分。Android 框架类中有很多类和方法都被标注了`@hide`注解，原因有很多：不愿意无限期地支持 API，“默默无闻的安全性”等等。

> 为什么“statusbar”服务的 Context 类中没有常量？

因为它不是 Android SDK 的一部分。当然欢迎您向 AOSP 提供补丁，以使其`StatusBarManager`被“提升”到与其他系统服务相同的状态（例如`LocationManager`、`NotificationManager`）。如果这种`StatusBarManager`情况只是 SDK 在 2007 年左右创建后的疏忽，那么您的补丁很可能会被接受，并且您会在即将发布的 Android 版本中看到变化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-10-05T22:41:29.713

对于那些希望直接在他们的系统应用程序中使用这个 API 的人（比如我），有一种方法可以在没有反射的情况下获得访问权限。

将此添加到您的应用程序的`Android.mk`：

```
LOCAL_CERTIFICATE := platform
LOCAL_PRIVILEGED_MODULE := true 
```

# php - 添加多个实例

> ID：11323640
> 
> 赞同：0
> 
> 时间：2012-07-04T06:37:45.390
> 
> 标签：php

所以我有这段代码可以检测用户在哪个页面上，然后在必要时吐出一类“活动”。

```
<li <?php if (stripos($_SERVER['REQUEST_URI'],'index.php') {echo 'class="active"';} ?>> 
```

所以为了澄清，这段代码检查 url 中是否有 index.php，如果有，它会吐出“活动”类。我需要做但不知道如何向此代码添加多个实例。因此，它不仅需要检测 index.php，还需要能够检测其他页面，例如 about.php。

对不起，如果这对你们大多数人来说是一个非常简单的问题，但我是 PHP 新手。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:49:32.873

从布局中拆分代码。

可能的解决方案：

 `````
 <?php 
    $active_flags = array('index.php','about.php','test.php');
    $active = '';
    foreach($active_flags as $item) {
        if(stripos($_SERVER['REQUEST_URI'],$item)!==false) {
           $active='active';
           break;
        }
    }
    ?>
   <li class="<?php echo $active?>">Your list Item</li> 
````  `* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T06:52:31.137

```
As you are listing manually  you just enter this one it really help you
<li  
 if(strpos($_SERVER['REQUEST_URI'],'index.php'))
          {
             echo 'class="active"';
          }
          else
          {
              echo 'class="inactive"';
          }
</li> 
`````

# android - 哪种编程语言在 iOS 和 Android 上与 OpenGL ES 配合得很好？

> ID：11323644
> 
> 赞同：0
> 
> 时间：2012-07-04T06:38:02.093
> 
> 标签：android, ios, opengl-es

哪种编程语言在 iOS 和 Android 上与 OpenGL ES 配合得很好？

我特别希望获得 OpenGL ES 2 的图形体验。我的经验是使用 C# 和 Unity3D 进行 Javascript 和 iOS 开发中的 Web 开发。（Unity3D 很棒，但与直接处理 OpenGL ES 相去甚远。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:23:04.430

简短的回答是可能没有。这就是存在 Unity 等工具的原因。让 iOS 和 Android 之间的工作顺利进行是一项艰巨的任务。如果您只需要 OpenGL ES 经验，为什么不在一个平台上尝试呢？Android 和 iOS 都可以调用 Open GL ES，但 Android 使用 Java 调用，而 iOS 使用 C 调用。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-04T06:39:24.797

如果你喜欢 C#，你应该看看 MonoTouch。它为 iOS 带来了出色的 C# 体验。它为您提供了对 OpenGL ES API 的直接访问。

# clojure - 处理 seq 直到 pred 函数为真

> ID：11323646
> 
> 赞同：6
> 
> 时间：2012-07-04T06:38:04.653
> 
> 标签：clojure, sequence

我正在处理clojure中的序列。我想检索元素，直到谓词函数为真。我怎么做？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-04T06:40:51.963

您可以`take-while`与`not`

```
user=> (take-while (comp not even?) [3 9 2 4 6 10 1 2])
(3 9) 
```

# java - 无状态与有状态 bean

> ID：11323647
> 
> 赞同：2
> 
> 时间：2012-07-04T06:38:04.857
> 
> 标签：java, ejb

我仍然不清楚 EJB 中无状态和有状态 bean 的区别。我应该在哪种情况下使用无状态和有状态？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-09-29T16:29:51.810

我会给你一个很好的例子：

> 说没有。用户（比如客户） 现在有一个 bean，它只将国家名称作为输入并提供该国家的货币。在这种情况下，一个 bean 可以用于 n 号。用户（客户）。为每个客户端请求创建单独的 bean 没有任何意义。所以可能会有这样一个 bean 可以服务于多个客户端，这样的 bean 被称为无状态 bean。无状态 bean 服务一个客户端后，它不会销毁，而是进入 bean 池，因此它可以服务于其他客户端。

现在让我们再举一个例子，

> 在购物车中，有一个 bean 可以包含项目列表。所以说当你在网上购物时添加项目时，这些项目将被维护在一个专门为你创建的 bean 中。它的生命周期将一直持续到您完成购物。因此，如果我开始在线购物，对我来说将创建另一个 bean。所以之所以说它是有状态的，是因为它的状态在整个会话期间保持活动状态，即从您开始添加第一个项目直到您添加 n 否。物品放入购物车并下最终订单。

**无状态 bean：** 一个 bean 可以服务于多个客户端（一个客户端的任何更改都会反映到另一个客户端）。一旦无状态 bean 没有用，它就不会销毁，而是进入 bean 池，以便将来它可以服务于其他客户端。

**有状态 Bean：** 一个 bean 仅用于一个客户端。（一个客户端的任何更改将只针对该客户端，因为其他客户端没有使用此 bean）。因此，一旦它的服务结束，它就会被销毁。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T06:58:01.813

如果您需要在调用之间维护客户端的状态，您应该使用猜测什么？对，有状态的 bean。如果您不关心状态 - 无状态 bean 是正确的选择。

# css - 如何增加li内span标签的宽度

> ID：11323648
> 
> 赞同：1
> 
> 时间：2012-07-04T06:38:10.527
> 
> 标签：css

我有一个`ul`具有以下结构

```
<ul>
    <li> text goes here <span></span> </li>
    <li> text goes here <span></span> </li>
</ul> 
```

现在最初 span 标签是空的。我试图使用 jQuery`.html()`函数在 span 标签中添加一个数字，但在 Chrome 中工作正常，文本被截断。奇怪的是，当我使用网络检查器并单击 li 时，span 标签的宽度也会根据内容和 li 增加。

有任何想法吗 ？

CSS如下

```
li{
    list-style:none;
    float:left;
    padding: 0 5px;
}

span{
    display:inline-block;
    min-width:5px;
    min-height:5px;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:47:01.590

你不能。`span`是一个`inline`元素，要么将其显示属性设置为`inline-block`或`block`设置其尺寸，要么使用`block`元素而不是`span`.

```
white-space: nowrap; // will force it not to wrap around 
```

查看此小提琴的效果：http: [//jsfiddle.net/Abp8y/11/](http://jsfiddle.net/Abp8y/11/) [更新]。

**最后的诊断：** `text-transform`在 li 标签中发现了错误。删除`text-transform`可以解决问题。

此处还讨论了 Chrome 错误：[text-transform: uppercase 导致 Chrome 上的布局错误，](https://stackoverflow.com/questions/9422271/text-transform-uppercase-causes-layout-error-on-chrome)由 @Christoph 发布

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:46:14.423

使用可以试试这个并修复跨度的宽度-

```
span{
  word-wrap:break-word;
} 
```

# sql - 如何查找列值中空格表达式的计数？

> ID：11323649
> 
> 赞同：0
> 
> 时间：2012-07-04T06:38:14.797
> 
> 标签：sql

如果你有

```
e_id ename 
1 hansen sahul 
2 dennis richard rathore 
```

如何找到 e_id 1 的 ename 计数为？2

如何找到 e_id 2 的 ename 计数为？3

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:44:13.847

不幸的是，数据库之间的字符串操作函数不同，所以我可以给 SQL Server 方言。如果您使用的是不同的数据库，则必须找到 and 的替代[`LEN`](http://msdn.microsoft.com/en-us/library/ms190329.aspx)品[`REPLACE`](http://msdn.microsoft.com/en-us/library/ms186862)：

```
declare @Names table (e_id int,ename varchar(3000))
insert into @Names (e_id, ename) values
(1,'hansen sahul'),
(2,'dennis richard rathore')

select e_id,LEN(ename) - LEN(REPLACE(ename,' ','')) + 1 as namecount
from @Names 
```

结果：

```
e_id        namecount
----------- -----------
1           2
2           3 
```

这可以计算纯字符串与已删除空格的相同字符串之间的长度差异。这在逻辑上等价于字符串中的空格数。然后我们添加`1`以匹配您想要的结果（名称的数量，而不是空格的数量）。

（表设置也是方言，但只是为了帮助创建工作脚本）

# java - T[] toArray(T 数组[])

> ID：11323652
> 
> 赞同：1
> 
> 时间：2012-07-04T06:38:23.453
> 
> 标签：java

有人可以在 Java Collection Framework 中解释`<T>`签名的重要性吗

```
<T> T[] toArray(T array[]). 
```

我知道这`<T>`代表通用。但是基于示例的详细解释将有很大帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-04T06:58:35.043

此方法允许您创建所需类型的数组。默认的 toArray() 返回 Object[] 如果你有字符串列表并且你想要一个 String[] ，这很麻烦。

例如：

```
List<String> list = new ArrayList<>();        
list.add("A");

String[] listToArray;
listToArray = list.toArray(); // This won't compile as to Array gives Object[]

listToArray = list.toArray(new String[list.size()]); // This works when I want String[] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-04T07:05:04.690

这`<T>`就是 Java 所说的“在随后的方法声明中，`T`是一个*泛型参数*，而不是一个具有 name 的*特定*类`T`。

例如：

```
class T {
    public int x;
}

<T> T f(T x) { return x; }

T g(T x) { return new T(); } 
```

该方法`f`可以与任何类型的参数一起使用（例如`String`），而`g`只能传递`T`上面定义的类的参数。也就是说，可以调用

```
f("dog") 
```

但不是`g("dog")`因为字符串不是 T。

[ideone 上的可运​​行示例，展示了如何使用 f 和 g。](http://ideone.com/1WHbi)

# java - 当我调用 Reader.read() 时，什么可能导致 Java 中的 IOException？

> ID：11323657
> 
> 赞同：1
> 
> 时间：2012-07-04T06:38:36.200
> 
> 标签：java, ioexception

我的代码看起来像：

```
public static void func(Reader r){
    int c = r.read();
    ...
} 
```

编译器告诉我这[`r.read()`](http://docs.oracle.com/javase/1.4.2/docs/api/java/io/Reader.html#read%28%29)可能会抛出一个`IOException`. 在什么情况下会发生这种情况？似乎很清楚，`FileNotFoundException`当找不到文件时会抛出类似的东西，但是`IOException`相当模糊。

编辑：

如果有人对此感兴趣，我问了这个问题，因为我认为必须有更好的方法来处理这种情况，而不仅仅是`printStackTrace`. 但是，在不知道可能导致异常的原因的情况下，我不确定应该如何完成。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:43:57.247

很多事情都可能导致 IOException。当它被抛出时，您可以将其打印出来或检查消息 ( `Exception.getMessage()`) 以查看导致它的原因。

A`FileNotFoundException`是 的一个子类`IOException`，你可以查看其他的[“已知子类”列表](http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T06:45:11.587

`IOException`当流本身**损坏**或在读取数据期间发生某些错误时，它可能会抛出一个错误，即安全异常、权限被拒绝等和/或一组衍生自 的异常`IOEXception`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-04T06:51:11.467

例如：

```
public void load(InputStream inputStream) throws IOException {
    this.inputStream = inputStream;
    this.properties.load(this.inputStream);
    this.keys = this.properties.propertyNames();
    inputStream.close();
} 
```

我认为那是由于安全性或例如未打开流而导致输入/输出（连接）出现问题的时候。

代码来源：stackoverflow

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-04T06:46:40.123

IOException 是 CharConversionException、CharacterCodingException 和 EOFException 等许多异常的超类。

如果该方法列出了所有这些异常，那么调用者必须捕获所有这些异常。因此，为了方便起见，在 throws 子句中使用 IOException 有助于调用者避免多个 catch 块。如果他们愿意，用户仍然可以通过检查实例或 exception.getMessage() 来处理特定的异常。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-04T06:47:06.997

如果您想了解具体信息，请在您的 catch 块中执行以下操作：

```
catch (IOException e)
{
    e.printStackTrace();
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-02T09:05:40.913

此代码将帮助您调试并查看抛出的 IOException：

```
String NL = System.getProperty("line.separator");
String line;
FileInputStream in;
try {
      fileName = choose.getSelectedFile().getCanonicalPath();
} catch (IOException e) {
      e.printStackTrace();  //This doesn't matter, see the second IOException catch.
}

try {
in = new FileInputStream(choose.getSelectedFile());
BufferedReader reader = new BufferedReader(new InputStreamReader(in, "UTF-8"));
StringBuffer content=new StringBuffer("");

while((line = reader.readLine()) != null){
    content.append(line+NL);
}

    textArea.setText(content.toString());
    reader.close();
    reader.readLine();

} catch (FileNotFoundException e) {
            JOptionPane.showMessageDialog(new JFrame(), "The file does not exist!", "Error", JOptionPane.WARNING_MESSAGE);
} catch (IOException e) {
            JOptionPane.showMessageDialog(new JFrame(), "There was an error in reading the file.", "Error", JOptionPane.WARNING_MESSAGE);
} 
```

祝你好运。

# android - android进度条提前解除

> ID：11323661
> 
> 赞同：0
> 
> 时间：2012-07-04T06:38:53.143
> 
> 标签：android, android-progressbar

我的代码：

```
OnClickListener()//onclicklistener for button
{
    ProgressBar = new ProgressDialog(LoginPageActivity.this);
    ProgressBar.setMessage("please wait..");     
    ProgressBar.show();

    TcpConnection loginConnect = new TcpConnection();//TcpConnection is a class
    loginConnect.run();
    ProgressBar.dismiss();
} 
```

我试图在调用另一个类之前显示进度对话框，并在通话结束后将其关闭。但是进度条不会显示并且它会提前关闭。但我想在一段时间内显示进度条。

tcp 连接类内部：有用户名密码的套接字连接，即需要显示一段时间的进度

我不知道该怎么做！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:44:01.750

用来`AsyncTask`实现你的目标。您可以显示`progressbar`（内部`onPreExecute()`）直到您的任务结束（内部`doInBackground()`），然后您可以在任务完成后关闭它（内部`onPostExecute()`）。

检查此链接以获取更多详细信息：

[http://developer.android.com/reference/android/os/AsyncTask.html](http://developer.android.com/reference/android/os/AsyncTask.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-04T06:54:48.773

我如何理解您需要使用线程。像这样

```
ProgressBar p = new ProgressDialog(LoginPageActivity.this);
Private Handler handler = new Handler();
p.setVisibality(0); //makes visible
    new Thread(new Runnable() {
                   public void run() {
                          TcpConnection loginConnect = new TcpConnection();
                          loginConnect.run();
                          handler.post(new Runnable() {
                                           public void run() {
                                      p.setVisibility(8);//Makes Invisible                      
                                                }
                                              });
                                   }

                  }).start(); 
```

我想它会帮助你

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-04T07:07:44.657

我的猜测是它`loginConnect.run()`在自己的线程中运行。这就是为什么进度对话框被立即关闭的原因。

这是你应该做的：

```
class LoginTask extends AsyncTask<Void, Void, Void>{
    ProgressDialog d;
    @Override
    protected void onPreExecute() {
        super.onPreExecute();
        d = new ProgressDialog(LoginPageActivity.this);
        d.setMessage("please wait..");     
        d.show();
    }

    @Override
    protected Void doInBackground(Void... params) {
        TcpConnection loginConnect = new TcpConnection();
        loginConnect.run();
        return null;
    }

    @Override
    protected void onPostExecute(Void result) {
        super.onPostExecute(result);
        d.dismiss();
    }   
} 
```

在你的`onClickListener`电话中`new LoginTask().execute();`

# php - 类似于 使用 facebook 登录

> ID：11323672
> 
> 赞同：3
> 
> 时间：2012-07-04T06:39:33.983
> 
> 标签：php, mysql, magento

我们有大约 10 个网站。我被要求创建一个类似于使用 Facebook 登录的功能，现在所有网站都在使用它，这样我们就不需要向他们注册。我们可以使用 facebook 凭据。

因此，在我们的 10 个网站中，我们有 1 个主要网站，例如名为 abc.com（在 MAGENTO 上运行的电子商务网站）。我想在其他 9 个网站的登录页面上放置一个按钮，称为使用 abc.com 登录

我怎么能那样做。我检查了 OAuth 和 MAGENTO 的 REST OAuth。因为我没有那么有经验所以想有一些想法或你用过的任何东西。这样做的正确方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T07:38:50.473

使用以下扩展程序通过 Facebook 登录

[http://www.magentocommerce.com/magento-connect/facebookfreebelvg-4448.html](http://www.magentocommerce.com/magento-connect/facebookfreebelvg-4448.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T12:51:38.953

大卫在评论中建议的 openID

# c# - 除了默认 XML 之外，如何启用更多输出格式？

> ID：11323673
> 
> 赞同：2
> 
> 时间：2012-07-04T06:39:34.787
> 
> 标签：c#, asp.net, wsdl

调试 Web 服务时，我可以使用提供的默认 WSDL 接口测试功能，该接口允许我输入参数的一些值。这非常方便，但只输出 XML。在这个阶段是否可以启用更多选项？（JSON、CSV）

或者，如果这不可能，我想在 API 调用中添加一个额外的参数，`filetype=[json,csv]`但我该如何以这种格式写回呢？我是否将其作为字符串传递？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T23:26:46.737

我假设您正在使用 WCF。您可以通过几种简单的方法在 XML 或 JSON 结果之间进行选择。一是有不同的端点，二是有不同的方法。第二个选项可满足您在 API 调用中包含参数的请求，但我将简要介绍两者。考虑以下端点：

```
 <endpoint address="/rest/" behaviorConfiguration="web" binding="webHttpBinding" contract="WebApplication1.Interface.ITestRest" />
    <endpoint address="/json/" behaviorConfiguration="web" binding="webHttpBinding" contract="WebApplication1.Interface.ITestJson" />
    <endpoint address="" behaviorConfiguration="web" binding="webHttpBinding" contract="WebApplication1.Interface.ITestBoth" /> 
```

前两个与选项 1 相关，以通过端点进行区分（/rest/ 或 /json/ 将在方法之前的 url 中，并且两个接口可以定义相同的签名，因此只能实现一次）。最后一个与选项 2 相关，在接口上有两种方法。这是上面的一组示例接口：

```
[ServiceContract]
public interface ITestJson
{
  [OperationContract, WebInvoke(Method = "GET", UriTemplate = "/Echo/{Text}",
    RequestFormat = WebMessageFormat.Json, ResponseFormat = WebMessageFormat.Json)]
  string Echo(string Text);
}

[ServiceContract]
public interface ITestRest
{
  [OperationContract, WebInvoke(Method = "GET", UriTemplate = "/Echo/{Text}",
    RequestFormat = WebMessageFormat.Xml, ResponseFormat = WebMessageFormat.Xml)]
  string Echo(string Text);
}

[ServiceContract]
public interface ITestBoth
{
  [OperationContract, WebInvoke(Method = "GET", UriTemplate = "/Echo?Text={Text}&Format=json",
    RequestFormat = WebMessageFormat.Json, ResponseFormat = WebMessageFormat.Json)]
  string EchoJ(string Text);
  [OperationContract, WebInvoke(Method = "GET", UriTemplate = "/Echo?Text={Text}&Format=xml",
    RequestFormat = WebMessageFormat.Xml, ResponseFormat = WebMessageFormat.Xml)]
  string EchoR(string Text);
} 
```

然后是一个实现这个的类：

```
public class Signature : ITestJson, ITestRest, ITestBoth
{
  public string Echo(string Text)
  {
    return Text;
  }

  public string EchoR(string Text)
  {
    return Text;
  }

  public string EchoJ(string Text)
  {
    return Text;
  } 
```

现在您可以通过以下方式使用它：

```
Service1.svc/json/echo/xxx
Service1.svc/rest/echo/xxx

Service1.svc/echo?Text=xxx&Format=json
Service1.svc/echo?Text=xxx&Format=rest 
```

正如我在开始时所说，这些是选择 XML 或 Json的几种**简单方法。**您的请求也要求提供 CSV。目前没有返回 CSV 的简单方法。我确实在 CodePlex 上找到[了这个](http://wcformatextensions.codeplex.com/)可以返回 TXT​​ 的项目，但我还没有检查出来。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T23:33:31.897

我建议使用 ASP.NET MVC 3 并创建一个返回 JsonResult 的操作。此 Action 可以执行您的 WebMethod 并将您的结果序列化为 JSON。（这仅适用于 JSON）。

为了获得更大的灵活性，您可以使用 ASP.NET（Web 窗体）通用处理程序，它可以让您对响应类型和内容进行大量控制。

您还可以考虑 ASP.NET MVC 4 中的 Web API 功能。它支持广泛的请求和响应格式。

此堆栈溢出线程涉及 JsonResult 与 Web API：[MVC4 Web API 或 MVC3 JsonResult](https://stackoverflow.com/questions/11092754/mvc4-web-api-or-mvc3-jsonresult)

# watin - 如何使用 watin 处理“您确定要离开此页面”弹出窗口

> ID：11323677
> 
> 赞同：0
> 
> 时间：2012-07-04T06:39:58.733
> 
> 标签：watin

**如何使用 watin 处理“您确定要离开此页面”弹出窗口**

我打开了一个链接，之后当我打开另一个链接时，它会弹出一个类似

“你确定要离开这个页面吗”

如何在 watin 中处理此弹出窗口。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T19:23:09.757

```
WatiN.Core.DialogHandlers.ReturnDialogHandler.CreateInstance().OKButton.Click(); //IE8 or below

WatiN.Core.DialogHandlers.ReturnDialogHandlerIe9 ie9Handler = new WatiN.Core.DialogHandlers.ReturnDialogHandlerIe9(); //IE9
browser.AddDialogHandler(ie9Handler);
ie9Handler.CancelButton.Click();
browser.RemoveDialogHandler(ie9Handler); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-05T15:02:00.403

```
browser.RunScript(@"
window.onbeforeunload = function ()
{
    event.returnValue = 'Are you sure you want to leave this page?';
}
"); 
```

# sql - 根据行级唯一性（列组合）选择行

> ID：11323679
> 
> 赞同：0
> 
> 时间：2012-07-04T06:40:06.580
> 
> 标签：sql, tsql

我希望有人可以帮助我解决以下问题。

我需要根据 2 或 3 列的组合选择唯一行。它基本上是一个 3 级层次结构表，我将 PK 称为层次结构中的 parentId。

要设置所有内容，请运行以下脚本：

```
-- ===================
-- Source table & data
-- ===================
IF NOT EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[ExternalSource]') AND type in (N'U'))
BEGIN
CREATE TABLE [dbo].[ExternalSource](
    [locname1] [varchar](max) NULL,
    [locname2] [varchar](max) NULL,
    [locname3] [varchar](max) NULL
) ON [PRIMARY]
END

INSERT [dbo].[ExternalSource] ([locname1], [locname2], [locname3]) VALUES (N'Location1', N'Floor1', N'Room123')
INSERT [dbo].[ExternalSource] ([locname1], [locname2], [locname3]) VALUES (N'Location2', N'Floor2', N'Room234')
INSERT [dbo].[ExternalSource] ([locname1], [locname2], [locname3]) VALUES (N'Location3', N'Floor2', N'Room111')

-- ===================
-- Destination table
-- ===================

CREATE TABLE [dbo].[Location](
    [LocationID] [int] IDENTITY(1,1) NOT NULL,
    [CompanyID] [tinyint] NOT NULL,
    [ParentID] [int] NULL,
    [LocationCode] [nvarchar](20),
    [LocationName] [nvarchar](60) NOT NULL,
    [CanAssign] [bit] NOT NULL)

-- Level 1 records in the hierachy
insert into Location 
(
    CompanyID, 
    ParentID, 
    LocationName,  
    CanAssign
)
select distinct 1, NULL, ES.locname1, 1
from dbo.ExternalSource ES
where ES.locname1 not in (select LocationName from Location) and ES.locname1 is not null

-- Level 2 records in the hierachy
insert into Location 
(
    CompanyID, 
    ParentID, 
    LocationName,  
    CanAssign
)
select 1, max(Loc.LocationID), ES.locname2, 1
from ExternalSource ES
left join Location Loc on ES.locname1 = Loc.LocationName
where ES.locname2 not in (select LocationName from Location) and ES.locname2 is not null and ES.locname1 is not null
group by ES.locname2
order by ES.locname2

select * from ExternalSource
select * from Location 
```

第一次插入 Location 根本不是问题，我在第一次插入时想要的只是唯一的 Location 名称。

现在，在我的第二次插入时，我需要能够判断 ExternalSource.locname2 和 Location.LocationName 是否以“组合”方式是唯一的，如果这有意义的话......

如果它们是唯一的，那么我需要选择第 2 级的位置名称。

这是一个例子：

以下是您从 ExternalSource 中选择 * 时得到的结果

**本地名称1 本地名称2 本地名称3**

位置1楼1室123

位置2楼2室234

位置3楼2室111

鉴于上述情况，locname2 上只有一个 Floor1，所以那里没有问题，但您可以看到 locname2 列上有两个 Floor2。我需要一种方法来检查“组合”时 locname2 + locname1 上的值是否唯一。如果是，我应该同时选择它们。

这是第二次插入期间 select 的预期输出：

1 1 楼层1 1

1 2 楼层 2 1

1 3 楼层2 1

但是让我们说 ExternalSource 的输出看起来像这样：

**本地名称1 本地名称2 本地名称3**

位置1楼1室123

位置2楼2室234

**位置**2楼2室111

请注意上面的粗体 Location2，因为 locname2 + locname1 上有两行具有相同的值，它不再使其唯一，然后所需的输出应该如下所示：

1 1 楼层1 1

1 3 楼层2 1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T08:12:21.467

所以你想在 ExternalSource... 中按两列分组？

```
 select MAX(LocationID),  Locname1, Locname2, 1 from ExternalSource
 group by Locname1, Locname2 
```

# excel - VBA-清除先前填充的单元格的内容

> ID：11323684
> 
> 赞同：0
> 
> 时间：2012-07-04T06:40:36.113
> 
> 标签：excel, vba

我有 2 个列作为掩体索引和掩体名称的列表。我必须使用 VBA 索引掩体，然后生成另一个表，其中列作为掩体名称和“第一列作为日期……关于更改掩体的数量（比如从 10 到 8）.. 第二个表中单元格的颜色（最后 2 列预先填充）保持不变（蓝色），我需要默认（白色）

我使用了工作簿中的许多变量。这方面的任何建议。至于格式化应该怎么做？

**这是代码：**

```
Sub Bunker_index_Click()
    Sheet3.Range(Sheet3.Cells(4, 6), Sheet3.Cells(500, 100)).ClearContents

    Dim N As Integer
    Dim i As Integer
    Dim j As Integer
    Dim k As Integer
    Dim LocalIYM As Date
    LocalIYM = ThisWorkbook.IYM
    N = Application.CountA(Range("B:B")) - 1
    ThisWorkbook.NumBunker = N
    MsgBox (N)
    Cells(5, 1).Value = "Bunker Index"

    For i = 1 To 100
        If i <= N Then
            Cells(5 + i, 1).Value = i
            Cells(5 + i, 1).Interior.Color = RGB(253, 233, 217)
            Cells(5 + i, 2).Interior.Color = RGB(219, 238, 243)
        Else
            Cells(5 + i, 1).ClearContents
            Cells(5 + i, 2).ClearContents

        End If

    Next i

        Range("F5").Value = "Time (LOCKED)"
        Range("F5").Interior.Color = RGB(253, 233, 217)
        For i = 1 To 100
            If i <= N Then
                Cells(5, 6 + i).Value = Cells(5 + i, 2)
                Cells(5, 6 + i).Interior.Color = RGB(253, 233, 217)
            Else
                Cells(5, 6 + i).ClearContents         ' unable to bring back th original
                                                      ' color of the cells

            End If

        Next i

    For k = 1 To 12 * 1
        If k <= ThisWorkbook.N Then
             Cells(k + 5, 6).Value = LocalIYM
             LocalIYM = DateAdd("m", 1, LocalIYM)
             Cells(5 + k, 6).Interior.Color = RGB(253, 233, 217)            ' problem handling borders
           '  Range("B2").Borders(xlEdgeLeft).LineStyle = XlLineStyle.xlDashDot

         '    1edgeleft).LineStyle = x1linestyle.x1countinous

             For j = 1 To N
                Cells(5 + k, 6 + j).Interior.Color = RGB(219, 238, 243)
             Next j

        Else
             Sheet2.Cells(i + 4, 6).Clear
        End If
    Next k
End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T09:59:35.620

代替`.clear`或`.clearcontents`尝试：

```
.Interior.Pattern = xlNone 
```

# c# - 使用 HTTP POST 时，控制参数的绑定返回 NULL

> ID：11323685
> 
> 赞同：0
> 
> 时间：2012-07-04T06:40:36.283
> 
> 标签：c#, .net, asp.net-mvc-2

我有一个控制器，它的方法根据参数的值返回一些响应。我正在尝试将 Json 数据发布到此控制器，但不知何故绑定不起作用。我正在使用 Fiddler 来测试我的控制器方法：

```
[AcceptVerbs(HttpVerbs.Post)]
public string Authenticate(string username)
{
    //some logic
    return "value";
} 
```

现在，当我调试应用程序时，userName 总是返回 null。为了测试这个方法，我正在使用 Fiddler。请求的原始数据是：

```
POST http://localsite/Home/authenticate HTTP/1.1
User-Agent: Fiddler
Host: localhost:52774
x-requested-with: XMLHttpRequest
Content-Length: 20
Content-Type: application/json; charset=utf-8
Accept: application/json

{"username":"kunal"} 
```

任何猜测我在哪里出错了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:48:01.427

在 MVC2 中，没有开箱即用的 JSON 模型绑定器支持。

如果您不打算升级到 MVC3/4，那么您可以找到一篇好文章：[将 JSON 发送到 ASP.NET MVC 操作方法参数](http://haacked.com/archive/2010/04/15/sending-json-to-an-asp-net-mvc-action-method-argument.aspx)如何在 MVC2 应用程序中启用它。

基本上你需要创建并添加`JsonValueProviderFactory`一个`ValueProviderFactories`...

幸运的是，您可以在[ASP.NET MVC 2 Futures 库中找到一个实现](http://aspnet.codeplex.com/releases/view/41742#DownloadId=110348)

# javascript - 在 ie8 中使用 jasmine 比较数组失败

> ID：11323691
> 
> 赞同：1
> 
> 时间：2012-07-04T06:40:53.367
> 
> 标签：javascript, internet-explorer, unit-testing, jasmine

显然 ie8 具有三个属性，它们通过调用附加到结果数组中`String.prototype.match()`：

`input`,`index`和`lastIndex`

（[MSDN 文档](http://msdn.microsoft.com/en-us/library/7df7sf4x%28v=vs.94%29.aspx)）

结果是使用 Jasmine 的`.toEqual()`匹配器时数组比较失败。

我仍在努力提高单元测试的学习曲线，所以我只是好奇处理这种失败的正确方法是什么。

以下工作，但似乎有点蹩脚：

```
 numArray = str.match(/\d+(\.\d+)?/g);
 if (numArray && numArray.input) {
      delete numArray.index;
      delete numArray.input;
      delete numArray.lastIndex;
 } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-23T16:29:05.797

Underscore 的“差异”方法可以帮助 -

```
expect(_.difference(['item1', 'item2'], ['item1', 'item2'])).toEqual([]); 
```

[http://underscorejs.org/#difference](http://underscorejs.org/#difference)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T01:18:14.707

我认为@monkeyboy 的回答不正确。

由于`underscore.difference()`返回第一个数组中不存在于第二个数组中的元素：`_.difference([1],[1,2]);`也是`[]`，因此测试将在不应该通过时通过。我找不到使用下划线解决此问题的方法。

所以我正在使用：

`expect(JSON.stringify(result)).toBe(JSON.stringify(expected));`

按预期工作。

无论如何，我想知道其他人是如何做到这一点的。

# blackberry - 在黑莓 OS 5 中通过摄像头读取二维码

> ID：11323698
> 
> 赞同：-1
> 
> 时间：2012-07-04T06:41:27.663
> 
> 标签：blackberry

Blackberry OS 6 内置了用摄像头扫描二维码的 api，但是如何在 blackberry OS 5 中实现这一点。

我尝试使用 ZXling libraray 演示项目，但它无法正确解码图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T09:36:45.770

试试[文的博客方法](http://aliirawan-wen.blogspot.com/2011/05/barcode-scanner-for-blackberry-os-50.html)，效果很好

# c# - 具有特定编解码器的 Emgu CV VideoWriter

> ID：11323702
> 
> 赞同：2
> 
> 时间：2012-07-04T06:41:37.820
> 
> 标签：c#, emgucv, avi, opencvdotnet

我需要使用 Emgu CV 库的 VideoWriter 类来实时捕获屏幕。

现在的问题是文件大小......所以，我必须使用特定的编解码器。

到目前为止，我已经尝试过我发布的代码：

> // VideoWriter原型：VideoWriter(String fname, Int32 comprescode, Int32 pfs, Int32 width, Int32 height, Boolean isColor);
> 
> VideoWriter captureOutput;= new VideoWriter(@"test.avi", -1, 1, width, height, true);

结果我得到了视频压缩对话框，我有机会选择编解码器。

![在此处输入图像描述](../Images/bc50a1d7131ecedc530f13769e2a5c22.png)

我选择了 Microsoft Windows Media Video 9 编解码器，看来我需要使用此编解码器来解决文件大小问题。

我将在我的程序中选择它（在源代码中），而不是每次运行我的程序时都选择它。

有一些编解码器代码可以与 CvInvoke.CV_FOURCC('I', 'Y', 'U', 'V') 或其他代码一起应用，但我对 Windows Media Video 9 没有任何想法。

我只是想知道是否有人面临像我遇到的同样的问题。

任何想法都受到高度赞赏。谢谢~

# php - 从 MySQL 动态获取特定内容

> ID：11323705
> 
> 赞同：1
> 
> 时间：2012-07-04T06:41:46.620
> 
> 标签：php, jquery, mysql, content-management-system, pdo

有人可以告诉我如何为不同的请求获取不同的条目吗？目前，无论请求是什么，代码都只显示第一个条目。

PHP

```
$dbh = new PDO("mysql:dbname=$db_name;host=$host", $username, $password);  
$sth = $dbh->prepare("SELECT * FROM data");
try {
    $sth->execute( array($_GET['page']) );
}
catch(PDOException $e) {
    die( $e->getMessage() );
}
list($page) = $sth->fetch(PDO::FETCH_NUM); 
$sth->closeCursor(); 
echo $page; 
```

Javascript + jQuery

```
function getPage() {
    var data = 'page=' + encodeURIComponent(document.location.hash);
    $.ajax({
        url: "loader2.php", 
        type: "GET",        
        data: data,     
        cache: false,
        success: function (html) {                  
            $('#content').html(html);
        }
    }); 
```

代码应该工作的方式是一旦`a href`指向说`#home`或`#otherpage`单击，代码通过它的“呼号”从我的数据库中加载匹配的内容，它与链接href匹配（例如呼号为`#home`家）。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:54:56.277

我没有看到任何绑定到表的任何部分列。请参考以下示例：

```
<?php
    $calories = 150;
    $colour = 'red';
    $sth = $dbh->prepare('SELECT name, colour, calories FROM fruit 
    WHERE calories < :calories AND colour = :colour');
    $sth->execute(array(':calories' => $calories, ':colour' => $colour));
?> 
```

下面的链接有详细信息：

[http://php.net/manual/en/pdostatement.execute.php](http://php.net/manual/en/pdostatement.execute.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T07:04:27.527

以下行似乎将返回数组的一个值加载到变量 $page 中：

```
list($page) = $sth->fetch(PDO::FETCH_NUM); 
```

也许在 PHP 脚本的最后 3 行中尝试这样的操作：

```
$resultsArray = $sth->fetch(PDO::FETCH_NUM);
$sth->closeCursor();
foreach ($resultsArray as $value)
{
    echo $value."\n";
} 
```

这将打印 PDO fetch() 方法返回的所有结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T06:55:11.807

可能是由于您的 select 语句中缺少 where 子句吗？

```
$sth = $dbh->prepare("SELECT * FROM data WHERE callsign=:page");
try {
    $sth->execute( array(':page' =>$_GET['page']) );
} 
```

# facebook - Facebook Canvas iframe 未加载 URL

> ID：11323707
> 
> 赞同：-1
> 
> 时间：2012-07-04T06:41:54.543
> 
> 标签：facebook, facebook-graph-api, facebook-canvas

我正在通过 facebook 开发一款拉米游戏。但几天后，facebook canvas iframe 抛出了一个错误，我在下面给出：

**未找到**

在此服务器上未找到请求的 URL /stats.php。

此外，在尝试使用 ErrorDocument 处理请求时遇到 404 Not Found 错误。
*Apache/1.3.41 服务器位于 cabaniaseleden.com.ar 端口 80*

这是应用程序的链接：[rummy_game](http://apps.facebook.com/rummy_game)
所以请帮助我尽快解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T07:02:22.310

画布已正确加载，但指向不存在的 URL ( `http://cabaniaseleden.com.ar/stats.php`)，应通过编辑应用程序设置在您端修复：

![应用程序设置](../Images/ab5749d3b26b31a96d638c8217c82f5f.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T08:05:18.593

**File Not Found**，
检查是否可以直接[打开](http://cabaniaseleden.com.ar/stats.php)文件，如果可以，则可以在 Facebook 中获取此文件。现在不可能了。

**SSL 错误**-（*SSL 收到的记录超出了最大允许长度*），
可能您使用的是自签名 ssl 或缺少 Apache 配置。

![在此处输入图像描述](../Images/55753434fed7cfcf720a6192cd4c773f.png)

检查您的链接并记住您将需要一个有效的 SSL。

# java - Tomcat 中的 SSL 支持：重定向问题

> ID：11323710
> 
> 赞同：1
> 
> 时间：2012-07-04T06:42:08.980
> 
> 标签：java, tomcat, ssl, tomcat5.5

下面是 https 的 server.xml.Connector 端口的片段是 8444，我也更改了重定向端口中的条目。

```
 <Connector port="8444" maxHttpHeaderSize="8192"
           maxThreads="150" minSpareThreads="25" maxSpareThreads="75"
           enableLookups="false" disableUploadTimeout="true"
           acceptCount="100" scheme="https" secure="true"
           clientAuth="false" sslProtocol="TLS"
           keystoreFile="c:\keystorefile" keystorePass="tom123"
           />

<!-- Define an AJP 1.3 Connector on port 8009 -->
<Connector port="8009" 
           enableLookups="false" redirectPort="8444" protocol="AJP/1.3" /> 
```

我试图通过http url访问一个jsp，我期待它会重定向到https，但我的firefox浏览器出现错误，即

> Firefox 无法与位于 192.168.9.7:8443 的服务器建立连接。

为什么它正在寻找 8443 而不是端口 8444。

请帮忙 ？？？

注意：如果我尝试使用 8444 端口直接从 https url 访问 jsp，那么我可以访问相同的。

我正在使用 tomcat 5.5.27

要求提供一些启示

> 连接器端口="8009"

这个也是。这个8009端口有什么用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:03:45.430

```
<!-- Define a non-SSL HTTP/1.1 Connector on port 8080 -->
<Connector port="8090" maxHttpHeaderSize="8192"
           maxThreads="150" minSpareThreads="25" maxSpareThreads="75"
           enableLookups="false" redirectPort="8444" acceptCount="100"
           connectionTimeout="20000" disableUploadTimeout="true" /> 
```

非 SSL 连接器中的必需更改。`redirectPort="8444"`

现在运行良好。

# javascript - javascript onchange应用asp.net时如何以编程方式更改下拉列表中的选定项目

> ID：11323717
> 
> 赞同：0
> 
> 时间：2012-07-04T06:42:37.647
> 
> 标签：javascript, asp.net, drop-down-menu, onchange, selectedvalue

我在代码隐藏中有两个下拉列表和它们的隐藏字段，我通过 attribute.add 添加 javascript onchange 事件和一个按钮来执行一些动态操作，例如在运行时添加控件，当我单击该按钮时，下拉列表被重置。为了保持状态，我有一个带有下拉菜单的隐藏字段，我从隐藏字段中获取 selectedvalue 但通过编码 DDCity.Items.FindByValue 似乎不起作用有人能帮忙吗？

```
 protected void Page_Load(object sender, EventArgs e)
    { DDCountry.Attributes.Add("onChange", "javascript:BufferAddDDCountry('" + DDCountry.ClientID + "');");
            DDCity.Attributes.Add("onChange", "javascript:BufferAddDDCity('" + DDCity.ClientID + "');");}
 if (hiddenDDCityValue.Text != "0")
        {                

DDCity.Items.FindByValue(hiddenDDCityValue.Text).Selected = true;// this dont work

        }

    if (!IsPostBack)
    {   this.populateCountry();populateCity();} 
```

javascript代码

```
 <script type="text/javascript">
function BufferAddDDCountry(objDd) {
            try {
                var objHidden = document.getElementById('hiddenDDcountryValue');
                objHidden.value = document.getElementById(objDd).value;
            } catch (e) {
                alert(e);
            }
        };
        function BufferAddDDCity(objDd) {
            try {
                var objHidden = document.getElementById('hiddenDDCityValue');
                objHidden.value = document.getElementById(objDd).value;
            } catch (e) {
                alert(e);
            }
        };

   </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T07:36:57.933

我atlast使它在javascript中工作希望这对其他人有帮助这里是代码
隐藏页面加载

```
 ScriptManager.RegisterStartupScript(UpdatePanel, this.GetType(), "Dropdownselectedvaluechange", "javascript:setSelectedValue('" + DDCity.ClientID + "','" + hiddenDDCityValue.Text +  "');", true); 
```

javascript代码

```
 function setSelectedValue(dropdownList, selectedValue) {
            var dropdown = document.getElementById(dropdownList);
            for (var i = 0; i < dropdown.options.length; i++) {
                if (dropdown.options[i].value == selectedValue) {
                    dropdown.options[i].value = selectedValue;
                    dropdown.options[i].selected = true;

                    break;
                }
            }
            return;
        } 
```

# java - Java中的Mysql日期格式

> ID：11323718
> 
> 赞同：1
> 
> 时间：2012-07-04T06:42:37.910
> 
> 标签：java, mysql, date, date-format

我有一个以 2 种格式提供日期的网站：`28th June 2009`或`June 2009`.

现在我想`yyyy-mm-dd hh:mm:ss`使用 MySQL 和 Java 将这两种格式转换为相同的格式。

`SimpleDateFormat`给出一个错误：“不可解析的日期”。解决方案是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-04T06:50:45.397

怎么样，`June 2009`因为你不能说它是一个日期，你需要通过在这个月-年格式中添加一天来使它成为一个日期。例如..在这里添加一个月的第一天并使其`1 June 2009`然后以所需的格式解析。

```
import java.io.IOException;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

       public class Test {

          public static void main(String[] args) throws IOException, ParseException 
          { 
              String dateStr = "28 June 2009";
              SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd hh:mm:ss");
              System.out.println(sdf.format(new Date(dateStr)));
          }
   } 
```

# php - eval() 从文本框中执行代码

> ID：11323719
> 
> 赞同：-1
> 
> 时间：2012-07-04T06:42:38.327
> 
> 标签：php, curl, eval

我正在尝试为我自己的服务器制作类似[http://writecodeonline.com/php/的东西。](http://writecodeonline.com/php/)我无法使用该服务，因为我需要使用他们出于明显原因而未启用的 cURL。

这是我到目前为止的代码。

对于您输入要测试的代码的第一页。

```
<form method="post" action="process.php">
<textarea name="code" cols="40" rows="5"></textarea><br>
<input type="submit" value="Submit" />
</form> 
```

并执行代码。

```
<?php
$result = eval($_POST['code']); 
echo $result;
?> 
```

如果您尝试在此处使用它，您可以看到错误代码[http://alexseyer.com/phptest.php](http://alexseyer.com/phptest.php)

我知道这是一个安全禁忌，但无论如何我在服务器上没有任何价值。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:50:05.417

你可以试试下面的代码。用于`get_magic_quotes_gpc()`检查magic_quotes_gpc 是否开启。

```
if(!empty($_POST)){
    if(get_magic_quotes_gpc())
        echo eval_php(stripslashes($_POST['content']));
    else{
        echo eval_php($_POST['content']);
    }
}

function eval_php($content)
{
    ob_start();
    eval("?>$content<?php ");
    $output = ob_get_contents();
    ob_end_clean();
    return $output;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:49:12.883

`echo 123;`作品

问题是引号将用反斜杠转义。看看[php:addslashes ，你可以通过](http://php.net/manual/en/function.addslashes.php)[禁用](http://www.php.net/manual/en/security.magicquotes.disabling.php)该`magic_quotes`选项来关闭它。

# javascript - 有人可以帮助解释这个 javascript 中的正则表达式吗？

> ID：11323720
> 
> 赞同：1
> 
> 时间：2012-07-04T06:42:38.863
> 
> 标签：javascript, regex

此代码用于从 rawdata 中删除 mime 类型。但我无法理解它是如何工作的

```
 content.replace(/^[^,]*,/ , '') 
```

它似乎与java完全不同......任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:48:06.260

您的 mime 类型可能以逗号分隔，`,`并且位于原始数据的开头。这个正则表达式说`take everything from the beginning (^) that is NOT a comma ([^,]*) (the star makes it as many characters until there is a comma) and take the comma itself (,). Then replace it by nothing ('').` 这个只有第一次出现，因为它由开头标记 ^ ，它必须在字符串的开头。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-04T06:49:51.083

您需要知道的第一件事是 JavaScript 中有正则表达式文字，由成对的斜线构成。所以 like`"..."` 是一个字符串，`/.../`是一个正则表达式。这实际上是您的代码与 Java 正则表达式相比的唯一区别。

然后，`[abc]`在一个正则表达式中被称为一个字符类，意思是“一个字符`a`，`b`或`c`”。相反，`[^abc]`是一个否定字符类，意思是“一个字符*除了* `a`,`b`或`c`”。

所以你的样本意味着：

```
/     # Start of regex literal
^     # Start the match at the start of the string
[^,]* # Match any number of characters except commas
,     # Match a comma
/     # End of regex literal 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-04T06:48:28.703

正则表达式是两个正斜杠之间的文本，第一个克拉（^）表示在字符串的开头，括号表示一个字符类，括号内的克拉表示除逗号之外的任何字符，然后是结束后的星号括号表示匹配字符类定义的零个或多个字符（同样是逗号以外的任何字符），最后最后一个逗号表示匹配逗号。然后它在替换函数中使用，因此匹配结果将替换为第二个参数，在您的情况下：一个空字符串。

基本上它匹配“内容”变量中的第一个字符，包括第一个逗号，然后用空字符串替换它。

# oop - 业务实体中的继承：从数据访问层请求基类类型时访问和显示子类属性

> ID：11323723
> 
> 赞同：1
> 
> 时间：2012-07-04T06:42:50.747
> 
> 标签：oop, data-access-layer, business-logic-layer, object-oriented-analysis

（请记住，我是一个相对缺乏经验的程序员。我知道这个问题可以被视为过于开放，因为在 OOP 中有很多关于继承的哲学。这个问题更多地针对我的思考过程，即，我是否以经验丰富的程序员认为正确的方式处理这种情况？我的想法显然是准确还是不准确？）

我正在设计一个库存系统来跟踪有关 IT 硬件的信息，包括计算机、打印机、交换机、路由器、移动电话、硬盘驱动器和其他设备。我设计了一个数据库，现在正在规划一个前端应用程序。我打算让应用程序使用数据访问层、业务逻辑层和业务实体。我仍处于概念规划阶段，我意识到此时我不应该考虑实施细节，但我的思想倾向于向前推进。搜索功能的工作方式应该是：*用户输入搜索条件并执行搜索。返回匹配设备（或唯一匹配设备）的列表。设备列表显示在某种类型的列表视图中，当设备被选中时会显示设备的详细信息视图。*

我一直想知道在我的最终业务实体中使用继承是否会使我的应用程序受益，或者它是否会增加不必要的复杂性......或者它是否完全错误。我最初的想法是如图所示的设置：

（这不是实际设计，只是本文的简化概念）除了每个设备具有特定于类型的属性外，任何设备在任何给定时间都可以处于两种状态之一，活动或存档。我根本不知道如何建模。

![概念类图](../Images/8b65d259c6fb4d40bf226b51c0f13f88.png)

我开始考虑使用此设置时查询可能如何工作。从数据访问层查询设备的任何特定子类似乎很简单，例如

伪代码：

```
Computer comp = getComputerBySerialNumber(sn);
List<Router> routers = getRouters();

// I can then write code to display a list of basic device information and
// additionally display all details of a computer or router when requested.
// Obviously display would be handled in a different layer. 
```

导致我写这个问题的问题是如何处理诸如“从特定位置获取所有设备”之类的查询。

```
// Returns a list of devices regardless of device type
// as long as they have the same location
List<Device> devsFromLocation = getDevicesByLocation(loc);

// List contains computers, routers, printers, etc. 
```

如果我有基类对象引用，我将如何显示基本设备详细信息和特定设备详细信息？（尽量避免疯狂的投射或使用反射）。该位置的每个设备都将缺少其子类型的特定属性。如果我想显示有关特定设备的所有数据，我将不得不再次查询数据库以获取剩余字段。必须执行另一个查询是设计不佳的标志吗？此外，我将如何确定正确的设备类型？可能有一个大的 switch/case 语句测试每个`Device.Type`属性，执行正确的查询，返回完整的子类型并向用户显示详细信息？或者......返回包含完整子类型对象的单独列表然后遍历所有列表以在列表视图中显示公共属性然后在详细信息视图中轻松显示子类型详细信息是否更好？

这是一个有用的继承案例还是我滥用它？我目前正遭受信息过多的问题。我阅读了有关 OOD 的所有可能内容，并且我脑子里有很多规则和指导方针，我不知道我做的是否正确。我觉得我的大脑正在寻找应用我一直在吸收的信息，所以我在想象一个不正确的实现。我一直在考虑所有这些关于从编程到抽象的业务以保持代码的灵活性，但在某些时候你需要处理具体的类，对吧？从我的角度来看，继承是关于行为而不是属性。由于我实际上并没有对任何行为进行建模（或者我和我只是看不到它？）并且只是收集有关设备的数据，因此我很难解释它们的关系。由于这些类本质上是属性的愚蠢集合，我觉得它们都应该是单独的类。再说一次，我将在所有类中都有重复的字段，但在这种情况下真的很重要吗？

我知道有很多关于 OOD、继承、组合等方面的书。我读过其中的一些书；我目前正在阅读更多内容，并且我花了几天时间在线研究。每个人都方便地使用明显的继承示例。我正在做关于水果、动物和形状示例的噩梦。

感谢您花时间阅读我的问题，并感谢您提供的任何信息或见解。请随时提供任何其他提示、见解、商业秘密、埋藏宝藏地图、适合航海的船和六分仪，或任何您认为可能有帮助的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T10:02:40.977

最直接的方法是向返回信息的基类添加一个信息方法，并让每个派生类型用正确的信息覆盖该方法。

这将允许您执行以下操作：

```
foreach (Base b in list)
  Write(b.Information()); 
```

如果您的输出需要更加动态，请考虑使用设备信息对象。

只浏览了你的帖子（所以我可能错过了一些使这成为一个坏主意的细节）我还建议你成为基类`Active State`的成员，因为'has-a（n）' （如果相同的话真的）。`Device``Device``Active State``Archive State`

除此之外，您的设计既漂亮又简单并且有意义。

编辑：

因此，您可能有一个`Report`想要写入信息的对象，因此您将拥有：

```
class Device{
  write_information_to_report(Report report);
} 
```

这可以被派生类覆盖以添加派生的特定信息。

如果你真的想的话，你也可以抽象`Report`出来。`InformationOutputter`

这类事情的一个很好的例子是查看绘图形状：

```
class Graphics{
  line(int, int, int, int) = 0;
  curve(float, float, float, float) = 0;

class OpenGLDrawer : Graphics {
  line(int, int, int, int) { // Use open gl to draw a line };
  curve(int, int, int, int) { // Use open gl to draw a line };
}

class DirextXDrawer : Graphics {
  line(int, int, int, int) { // Use directX to draw a line };
  curve(int, int, int, int) { // Use directX to draw a line };
}

class Shape{
  draw(Graphics g) = 0;
}

class Triangle : Shape{
  draw(Graphics g) { g.line(... /* draw a triangle using line */ };
}

class Circle : Shape{
  draw(Graphics g) { g.arc(... /* draw a circle using arc */};
} 
```

在这里你可以看到你可以让每个对象负责自己的功能，通用功能可以在基类级别共享，任何图形对象都可以绘制任何形状。

# spring - Java EE 应用程序中的审计日志解决方案

> ID：11323726
> 
> 赞同：0
> 
> 时间：2012-07-04T06:42:56.553
> 
> 标签：spring, hibernate, jakarta-ee, struts2, audit-logging

我们当前的应用程序使用技术堆栈，例如：Struts2、Spring 和 Hibernate，它们是 Java EE 应用程序中使用的常见堆栈。

我们想在我们的应用程序中引入审计日志（针对每个 CRUD 操作）的想法。

只是想要一个通用的方式/模式（这意味着我不想为每个实体做一些日志记录，只是通用的）在我们的应用程序中进行审计日志记录？最好同时拥有设计和实现细节或示例。

我们也可以使用 Struts2 的拦截器或 Spring AOP 或 Hibernate 的功能来进行审计日志记录吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:23:03.713

Hibernate 事件监听器和 JPA 拦截器当然可以用于审计。使用这种方法，您最终将自己编写审计代码。

我发现 Hibernate Envers 最适合审计。审计数据存储到数据库中。如果您想简要了解一下，可以从以下位置找到文档：http: [//docs.jboss.org/envers/docs/index.html](http://docs.jboss.org/envers/docs/index.html)

# c - 为大数据设计算法

> ID：11323727
> 
> 赞同：8
> 
> 时间：2012-07-04T06:43:04.323
> 
> 标签：c, algorithm, data-structures

我读到了这个问题之一，被要求参加软件工程师的工作面试。

如果有 1000 个网站和 1000 个用户，编写一个程序和数据结构，以便我可以实时查询以下内容： 1\. 给定任何用户，我得到他/她访问过的所有网站的列表 2\. 给定任何网站，我得到所有访问过它的用户的列表。

我认为他们想要一种伪代码或设计算法..

各位大神可以给点建议吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T07:35:43.870

有一件事是肯定的 - 为了能够回答这两个查询，您需要存储所有对，这意味着用户已经访问了给定的网站。所以我的建议如下：

你有一个结构：

```
struct VisitPair{
  int websiteId;
  int userId;
  VisitPair* nextForUser;
  VisitPair* nextForWebsite;
}; 
```

nextForUser 将指向给定用户的下一个对，如果没有给定用户的下一个对，则为 NULL，类似地，nextForWebsite 将指向网站的下一个对。用户和网站将如下所示：

```
struct User {
  char* name;
  VisitPair* firstPair;
};

struct Website {
  char* url;
  VisitPair* firstPair;
}; 
```

我假设 Website-s 和 users 都存储在数组中，比如这些数组是`websites`and `users`。现在添加一个新的 visitPair 相对容易：

```
void addNewPair(int siteId, int userId) {
  VisitPair* newPair = (VisitPair*)malloc(sizeof(VizitPair));
  newPair->nextForUser = users[userId]->firstPair;
  users[userid]->firstPair = newPair;
  newPair->nextForWesite = websites[siteId]->firstPair;
  websites[siteId]->firstPair = newPair;
} 
```

打印一个网站的所有用户和一个用户的所有网站是通过简单地遍历一个列表来完成的，所以你应该能够做到这一点。

简而言之，我创建的是一个集成了两个列表的结构。我不认为有一个更复杂的解决方案，因为这个解决方案具有相对于答案的线性复杂性和添加一对的恒定复杂性。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-04T07:44:51.493

对于每个网站和用户，分别为访问者和访问的网站保留一个链接列表。每当用户访问网站时，在用户链接列表和网站链接列表中添加一个条目。

这具有最小的内存开销和快速的更新和查询。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-04T07:56:44.047

由于站点数量和用户数量都是有界的并且事先已知，因此您可以使用 1000 x 1000 维度的 2D 数组，其中用户是一维，网站是另一维。该数组将是一个布尔数组。

```
bool tracker[1000][1000] ; 
```

当用户 x 访问网站 y 时，它被标记为 1 ( true )。

```
tracker[x][y] = 1; 
```

要返回访问过网站 J 的所有用户，返回 J 列中的所有值，其值为 1，

返回用户 i 访问的所有网站，返回第 i 行中所有值为 1 的值。

查找的复杂度为 O(n) ，但这种方法节省空间，并且更新为 0(1)，不像链表需要 O(n) 复杂度才能将用户添加到网站链表或添加网站到用户的链表。（但是在进行查找时会产生 O(1) 复杂性）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-05T07:54:49.947

**这是已发布答案的摘要**。

设 m 为站点数，n 为用户数。对于每个数据结构，我们分别给出了更新的复杂性。得到。

*   两个链表数组。O（1），分别。O(len(答案))。
*   一个 m×n 矩阵。O（1），分别。O(m) 或 O(n)。如果大多数用户访问大多数站点，则内存使用最少，但如果大多数用户仅访问少数站点，则空间和时间不是最佳的。
*   两组数组。O（log m）或O（log n），分别。O(len(答案))。

izomorphius 的答案非常接近链表。

O(len(answer)) 是读取整个答案所需的时间，但是对于集合和列表，可以在 0(1) 中获得一个迭代器，它有一个`next`方法也可以保证 O(1)。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-04T07:57:14.827

在一般情况下，**N**个用户和**M**个站点有两个用于查询的地图，例如

```
map<user, set<site> > sitesOfUser;
map<size, set<user> > usersOfSite; 
```

当用户**u**访问站点时**，**您将其更新为

```
sitesOfUser[ u ].insert( s );
usersOfSite[ s ].insert( y ); 
```

**此处使用set**以避免重复。如果复制没问题（或者你稍后会处理它），你可以只**列出另一个****日志**并减少更新时间。
在这种情况下，更新将花费**O( logN + logM )**时间（或仅**O( logN )**，见上文），查询将花费**O( logN )**时间。

在您的特定情况下，当站点和用户的最大数量不是太多并且事先已知（假设它是**K**）时，您可以只拥有两个数组，例如

```
set<site> sitesOfUser[ K ];
set<user> usersOfSite[ K ]; 
```

在这里，您将获得**O(logN)**时间进行更新（或者如果重复信息不是问题并且您使用**列表**或其他线性容器，则 O(1) 时间），以及**O** **(1)**时间进行查询。

# java - 每小时/每周/等...通知提醒（使用 AlarmManager？）

> ID：11323729
> 
> 赞同：0
> 
> 时间：2012-07-04T06:43:14.427
> 
> 标签：java, android, notifications, alarmmanager

我几乎到处都看过！我找不到任何帮助或教程或每周、每小时或每月触发通知的示例。我听说了一些关于使用 AlarmManager 的事情，但我无法让它工作。

我没有过多地使用 Java（更像是一个 Objective-c 人），但我在使用这个通知系统时遇到了一些问题。基本上我只想有一个按钮，当我打开时会每周通知用户重新打开应用程序（例如）。当然，当他们不想每周都收到“打开应用程序”的通知时，就会触发。无论如何，有什么想法吗？我已经想出了如何让通知出现，但我不能让它延迟，或者在应用程序未打开时发生。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T07:06:01.247

```
 Calendar calendar = Calendar.getInstance();

    // 8 AM Each day 
    calendar.set(Calendar.HOUR_OF_DAY, 8);
    calendar.set(Calendar.MINUTE, 0);
    calendar.set(Calendar.SECOND, 0);
    AlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);
    PendingIntent pi = PendingIntent.getService(context, 0, new Intent(context, MyClass.class), PendingIntent.FLAG_UPDATE_CURRENT);
    am.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), AlarmManager.INTERVAL_DAY, pi); 
```

这将在每天早上 8 点发出警报。同样，您可以为您喜欢的任何一天设置闹钟。

**获得通知：**

```
 NotificationManager nm;
  nm = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);        
  CharSequence from = "VIPUL";
  CharSequence message = "Crazy About Android...";
  PendingIntent contentIntent = PendingIntent.getActivity(context, 0,
    new Intent(), 0);
  Notification notif = new Notification(R.drawable.icon,
    "Crazy About Android...", System.currentTimeMillis());
  notif.setLatestEventInfo(context, from, message, contentIntent);
  nm.notify(1, notif); 
```

您必须将其写在您从警报管理器调用的活动上。这将向您显示通知。

您还可以设置待定意图，当用户单击通知时将调用该意图。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:56:56.083

实际上，您需要查看[AlarmManager](http://developer.android.com/reference/android/app/AlarmManager.html)类，尤其是它的[setRepeating()](http://developer.android.com/reference/android/app/AlarmManager.html#setRepeating%28int,%20long,%20long,%20android.app.PendingIntent%29)方法。它允许您设置触发操作的时间间隔。希望这可以帮助。

# jquery - jQuery UI 在 ASP.NET 上下文中无法正常工作

> ID：11323730
> 
> 赞同：0
> 
> 时间：2012-07-04T06:43:23.563
> 
> 标签：jquery, asp.net, user-interface

jQuery UI 函数调用工作和不工作，取决于我在同一页面上调用它们的位置。

我似乎无法从任何 js 函数内部调用 jQuery UI 方法。我可以在正文中调用它们，但不能在 js 函数中调用它们。示例： http: [//pastebin.com/BNByP309](http://pastebin.com/BNByP309)，可以看到底部的两个js示例不起作用。

我检查了，firebug 告诉我 jQuery 和 jQuery UI 实际上是“加载的”，但是当我在任何 js 函数中执行 jquery.ui 检查时，它说它不存在。jQuery 是。

显然，我需要能够从 js 中的所有地方调用 jQuery ui 函数，呵呵。

任何可能的想法是什么可以完全抛弃它？是 ASP.NET 吗？脚本管理器？我只使用 ScriptManager 来实现更简单的 Web 服务调用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T07:44:15.903

jQuery 的双条目。用户组件做了 jQuery 的秘密包含，母版页也包含 jQuery，导致疯狂的黑魔法和不工作的组件。

谢谢！

# php - php setlocale 错误行为

> ID：11323733
> 
> 赞同：1
> 
> 时间：2012-07-04T06:43:37.070
> 
> 标签：php, locale

您好，感谢您提供任何见解/信息/提示。

我们有一个页面同时发送 2 封不同的电子邮件。每封电子邮件都使用不同的语言。几乎所有的电子邮件内容都来自数据库，除了一个包含日期名称和数字的小表格。

对于每封电子邮件，我们使用一个函数来发送它。就像是：

```
function sendemail($locale, $var1, $var2, $var3)
{
    setlocale(LC_ALL, $locale); 
    // build email body text
    //day names are presented like: strftime("%a, %d %b %Y %H:%M", $checkDate)
    //send email
} 
```

主页使用这些功能发送 2 封电子邮件

```
sendemail($locale1, $var1, $var2, $var3);
sendemail($locale2, $var1, $var2, $var3); 
```

问题仅出现在第二封电子邮件中。那里的日期名称基于第一个语言环境，而不是第二个语言环境。因此，如果第一种语言是英语，第二种是法语，那么第二封电子邮件将使用英语日期名称而不是法语。

有没有办法来解决这个问题？或者以某种方式破坏/取消设置/删除/重置第一个语言环境，以便第二个语言环境正常应用？

我们确定我们在函数中传递了不同的语言/语言环境。

我们目前使用以下语言环境：`en_EN.UTF8, fr_FR.UTF8, el_GR.UTF8, de_DE.UTF8, it_IT.UTF8, ru_RU.UTF8, zh_CN.UTF8, ko_KR.UTF8, es_ES.UTF8, sr_RS.UTF8`

# ember.js - Emberjs：遍历 ArrayProxy 内容的最佳方式？

> ID：11323734
> 
> 赞同：5
> 
> 时间：2012-07-04T06:43:38.013
> 
> 标签：ember.js

通常，我需要遍历 Ember.ArrayProxy 对象的内容。

**示例 1**，我需要建立一个 ID 列表：

```
var loc = myArrayProxy.get('length') || 0,
    ids = new Array(),
    idsList;

while(--loc >= 0) {
    var curObject = myArrayProxy.objectAt(loc);
    ids.push(curObject.id);
}
idsList = ids.join(','); 
```

**示例 2**，我需要构建一个原始对象数组（不是 Ember.Object）：

```
var loc = myArrayProxy.get('length') || 0,
    newContent = new Array();

while(--loc >= 0) {
    var curObject = myArrayProxy.objectAt(loc);
    newContent.push({
                      id:   curObject.id,
                      name: curObject.name
                   });
} 
```

**问题：有没有更好的方法来做到这一点？“while(--loc >= 0)”对我来说似乎很糟糕。**

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-04T07:13:44.720

Ember.ArrayProxy 提供了许多友好的功能（通过 Ember.Array、Ember.Enumerable...）。使用“forEach”通常可以避免循环。在您的第二个示例中，您可以考虑使用“地图”。这是[Ember.ArrayProxy 文档](http://docs.emberjs.com/#doc=Ember.ArrayProxy&src=false)的链接。一定要看：[Ember.Array](http://docs.emberjs.com/#doc=Ember.Array&src=false)和[Ember.Enumerable](http://docs.emberjs.com/#doc=Ember.Enumerable&src=false)

编辑：

例如，假设 id 的顺序不相关，您的第一个示例可以写成：

```
var idsList = myArrayProxy.mapProperty('id').join(','); 
```

# nginx - Nginx 删除 WWW 并同时响应

> ID：11323735
> 
> 赞同：32
> 
> 时间：2012-07-04T06:43:46.873
> 
> 标签：nginx, http-status-code-301

我有以下 nginx 配置片段：

```
server {
   listen 80;

   server_name mydomain.io;

   root /srv/www/domains/mydomain.io;

   index index.html index.php;

   access_log /var/log/nginx/domains/mydomain.io/access.log;
   error_log /var/log/nginx/domains/mydomain.io/error.log;

   location ~\.php {
      try_files $uri =404;
      fastcgi_index index.php;
      fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
      fastcgi_intercept_errors on;
      fastcgi_pass 127.0.0.1:9000;
      include /etc/nginx/fastcgi_params;
   }
} 
```

首先，我怎样才能让服务器块响应`both` [http://www.mydomain.io](http://www.mydomain.io)和[http://mydomain.io](http://mydomain.io)。其次，如果他们来自[http://www.mydomain.io](http://www.mydomain.io) ，我想强制重定向到[http://mydomain.io](http://mydomain.io)。

谢谢。

* * *

## 回答 #1

> 赞同：186
> 
> 时间：2013-10-08T03:32:43.323

根据[https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/#server-name-if](https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/#server-name-if)，您应该使用：

```
server {
  server_name www.example.com;
  return 301 $scheme://example.com$request_uri;
}
server {
  server_name example.com;
  # [...]
} 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-12-20T10:11:40.393

我认为最好添加两个单独的服务器块以避免不必要的`if`块检查。我还使用了 $scheme 变量，这样 HTTPS 请求就不会被重定向到不安全的对应对象。

```
server {
    listen 80;

    server_name www.mydomain.io;

    rewrite ^ $scheme://mydomain.io$uri permanent;
}

server {
    listen 80;

    server_name mydomain.io;

    # your normal server block definitions here
} 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2017-08-14T14:22:36.560

对于通用方法，无需提及任何特定的域或协议，我已经非常成功地使用了它：

```
 # rewrite to remove www.
  if ( $host ~ ^www\.(.+)$ ) {
    set $without_www $1;
    rewrite ^ $scheme://$without_www$uri permanent;
  } 
```

这将重定向：[https://www.api.example.com/person/123?q=45](https://www.api.example.com/person/123?q=45) 到[https://api.example.com/person/123?q=45](https://api.example.com/person/123?q=45)

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2014-07-08T18:34:49.457

另一种编码方式：

```
if ($http_host ~* "^www\.(.+)$"){
    rewrite ^(.*)$ http://%1$request_uri redirect;
} 
```

它甚至可以在同一代码上使用多个域名。

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2016-06-23T08:37:54.283

```
server {
    listen 80;
    server_name www.mydomain.io;
    return 301 https://$host$request_uri;
}

server {
    listen 80;
    server_name mydomain.io;
    ...
} 
```

* * *

## 回答 #6

> 赞同：-21
> 
> 时间：2012-07-04T08:08:44.960

在第一个问题上 - 只需添加两个域：

```
server_name mydomain.io www.mydomain.io; 
```

对于第二个，您需要这个简单的重定向：

```
server {
      listen 80;

      server_name www.mydomain.io mydomain.io;

      if ($host = 'www.mydomain.io' ) {
         rewrite  ^/(.*)$  http://mydomain.io/$1  permanent;
      } 
```

# java - Java反射 - 在线程内调用方法

> ID：11323739
> 
> 赞同：0
> 
> 时间：2012-07-04T06:43:54.923
> 
> 标签：java, multithreading, reflection, methods, invoke

我只是想知道是否可以通过线程内的反射来调用方法。我的想法是将方法名称传递给线程构造函数，这样我就可以指定线程应该做什么（应该运行哪个方法）。下面的代码不起作用 - 我收到错误“ClassNotFoundException”。

```
public class Listener extends Thread {

    /** Constructor */
    private static Window win = new Window();
    private static Class c;

    private String parameter;

    public Listener(String param) {
        this.parameter = param;
    }

    public void run() {
        try {
            Class c = Class.forName("Listener");
            Class partypes[] = new Class[1];
            partypes[0] = String.class;
            Method meth = c.getMethod("waitForWindowAppear", partypes);
            Listener methobj = new Listener(parameter);
            Object arglist[] = new Object[1];
            arglist[0] = parameter;

            Object retobj = meth.invoke(methobj, arglist);
            Integer retval = (Integer) retobj;
            System.out.println(retval.intValue());
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    /** Method waits as a thread for window at class or title */
    private static void waitForWindowAppear(String title) {
        while (true) {
            try {
                Thread.sleep(1000);
            } catch (InterruptedException exc) {
                System.out.println("Thread waitForWindowAppear has been stoped!");
                return;
            }
            if (win.isWindowVisible(title)) {
                // System.out.println("Window found!");
                return;
            } else {
                // System.out.println("Waiting for window!");
            }
        }
    }
} 
```

有谁知道如何解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T06:52:09.097

我会说你的 Default 包上没有这个类`Listener`，因此，你应该做的是使用完全限定的名称，例如：

```
Class c = Class.forName("foo.bar.Listener"); 
```

被`ClassNotFoundException`抛出是因为它没有找到`Listener`类，原因之一是名称不完整。

* * *

此外，您使用`getMethod`，这不适用于`private`方法，请`getDeclaredMethod`改用。

从[文档](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html)：

> **getMethod** - 返回一个 Method 对象，该对象反映此 Class 对象表示的类或接口的指定公共成员方法。
> 
> **getDeclaredMethod** - 返回一个 Method 对象，该对象反映此 Class 对象表示的类或接口的指定声明方法。

# coronasdk - 电晕中的导演错误

> ID：11323751
> 
> 赞同：0
> 
> 时间：2012-07-04T06:45:00.227
> 
> 标签：coronasdk

设置.lua

```
 local lang_table = {
    {image = display.newImage("en.png"), x = 600, y = 400, lang = "1033", i = 1},
    {image = display.newImage("fr.png"), x = 600, y = 400, lang = "fr", i = 2},
    {image = display.newImage("dk.png"), x = 600, y = 400, lang = "dk", i = 3},
    {image = display.newImage("ge.png"), x = 600, y = 400, lang = "ge", i = 4}                                      }

local function changelanguage (event)
  if event.phase == "ended" then
    lang_table[event.target.i].image.isVisible = false
    if event.target.i == 4 then
      lang_table[1].image.isVisible = true
      _G.value = event.target.lang
      director:changeScene("settings")
    else
      lang_table[event.target.i+1].image.isVisible = true
      _G.value = lang_table[event.target.i+1].lang
      director:changeScene("settings")
   end
  end
  return true
end

for i = 1,#lang_table do 
    local img_display = lang_table[i].image
    img_display.x = lang_table[i].x
    img_display.y = lang_table[i].y
    img_display.i = lang_table[i].i
    img_display.lang = lang_table[i].lang

    if _G.value ~= lang_table[i].lang then
        img_display.isVisible = false
    end

    img_display:addEventListener("touch", changelanguage)
    langGroup:insert(img_display)
end 
```

当我触摸图像时，正在调用更改语言功能。在该功能中有

```
director:changeScene 
```

但这不起作用。基本上，我想要的是，每当图像有触摸事件时，我都希望调用相同的 lua 文件。但这没有发生。然后我所做的就是将函数“changelanguage”更改为

```
_G.t =1
local function changelanguage (event)
    if event.phase == "ended" then
        lang_table[event.target.i].image.isVisible = false
        if event.target.i == 7 then
            lang_table[1].image.isVisible = true
            _G.value = event.target.lang
            director:changeScene("settings")
        else
            lang_table[event.target.i+1].image.isVisible = true
            _G.value = lang_table[event.target.i+1].lang
            if _G.t ==1 then
                director:changeScene("..\settings")
                _G.t = _G.t+1
            elseif _G.t ==2 then
                director:changeScene("..\..\settings")
            end
        end
    end
    return true
end 
```

现在，它正在工作。但我不知道为什么会发生这种情况。谁能建议我为什么会发生这种情况。我`director:changeScene("settings")`不能在触摸事件上一次又一次地改变场景。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-25T20:06:47.023

我尝试使用空场景切换回另一个场景以重新启动它。起初它根本不起作用，我不得不在空场景中显示一个按钮，并为其附加一个功能，以便当用户按下它时，它会切换回旧场景，这将重新启动它。

然而，进一步谷歌搜索问题，我发现 Director 类 v. 1.3 及更高版本，可以通过简单地使用 director:changeScene("") 函数调用它来重新加载你所在的场景！

（在这里阅读： [http](http://rauberlabs.blogspot.com/2011/07/director-class-13.html) ://rauberlabs.blogspot.com/2011/07/director-class-13.html ）

因此，如果您在 settings.lua 中，并且想要重新加载它，只需在相同的 settings.lua 中包含 director:changeScene("settings") （就像您第一次那样）。

当然记得把director.lua更新到最新版本。我想你仍然可以从这里下载它：

[https://bitbucket.org/ricardorauber/corona/downloads](https://bitbucket.org/ricardorauber/corona/downloads)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-07T09:22:49.867

您不能使用 Director 更改到您已经在其中的场景，例如，从 settings.lua 中调用 director:changeScene("settings") ，不。

但是，您可以在 Storyboard 中执行此操作。（如果这是你要做的很多事情，可能值得考虑切换，或者你可以制作一个文件，如 reset.lua 并在其中编写函数，以有效地重新加载你喜欢的任何场景，只需更改为 reset 并返回再次回到之前的场景。）

# jquery - 滑翔机问题

> ID：11323753
> 
> 赞同：0
> 
> 时间：2012-07-04T06:45:02.047
> 
> 标签：jquery, xhtml

我在我的网页中使用了 highslide gallery js。此滑块仅显示图像。通过单击缩略图图像，将显示放大图像。但是客户想像这样显示youtube视频，vimeo视频。是否有可能以高幻灯片显示视频。或视频+图片库的任何其他参考？请帮忙。我花了更多时间搜索。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:47:35.470

您可以通过[多媒体画廊查看图像、视频和音频](http://tympanus.net/codrops/2010/06/24/multimedia-gallery/)

此插件使用的 XML 文件的结构如下所示：

```
<?xml version="1.0"?>
<MultimediaGallery>
    <file type="photo">
        <thumb>media/photos/thumbs/3.jpg</thumb>
        <source>media/photos/3.jpg</source>
        <description>this is a description</description>
    </file>
    <file type="video">
        <thumb>media/videos/thumbs/html5.png</thumb>
        <source>http://www.youtube.com/watch?v=siOHh0uzcuY</source>
        <description>Youtube Video: Introduction to HTML5</description>
    </file>
    <file type="video">
        <thumb>media/videos/thumbs/bbbtrailer.png</thumb>
        <source>media/videos/video1.ogg</source>
        <source>media/videos/video1.m4v</source>
        <description>Video Integration Example: BBB Trailer</description>
    </file>
    <file type="audio">
        <thumb>media/audio/thumbs/audio1.jpg</thumb>
        <source>media/audio/audio1.ogg</source>
        <source>media/audio/audio1.mp3</source>
        <description>Audio Example</description>
    </file>
    ...
</MultimediaGallery> 
```

另一种选择是**[http://www.jacklmoore.com/colorbox](http://www.jacklmoore.com/colorbox)**

看[例子](http://www.jacklmoore.com/colorbox/example5/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T07:20:49.390

这是播放 Youtube 视频的 Highslide 示例：

```
<div class="textwrapper">
    <a href="http://www.youtube.com/v/znb6_J8npxM&hl=nb_NO&fs=1&" onclick="return openYouTube(this)" class="highslide">
        YouTube w/fade effect
    </a>
</div> 
```

摘自：[http ://highslide.com/](http://highslide.com/)

# mysql - 分组时的 MySQL COUNT 性能

> ID：11323754
> 
> 赞同：0
> 
> 时间：2012-07-04T06:45:07.683
> 
> 标签：mysql, performance, count, group-by, innodb

如果查询已经有语句，是否`COUNT(*)`会对 MySQL 性能产生重大影响。`GROUP BY`

表引擎是 InnoDB。

`EXPLAIN SELECT <...>`提供相同的输出。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:52:30.077

如果输出`explain`相同，则没有区别。无论如何，计算行数对性能没有**显着**影响。

# iphone - iPhone 原生应用中的 Facebook 点赞按钮

> ID：11323757
> 
> 赞同：-1
> 
> 时间：2012-07-04T06:45:20.110
> 
> 标签：iphone, ios, facebook-graph-api, facebook-like

我想在我的原生 iphone 应用程序中实现类似 facebook 的按钮。这样用户就可以喜欢我的 facebook 页面。我已经在分享 Facebook 状态更新，但无法实现类似按钮。

我无法在网上找到任何有用的资源。***请帮忙。***

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:51:36.823

Aaaand 这是我之前准备的一个（使用 FBConnect，FB api）：如果您的帖子 ID 为`postId`

```
NSString *graphPath = [[NSString alloc] 
                                       initWithFormat:@"%@/likes",
                                       postId];
NSMutableDictionary *params = [[NSMutableDictionary alloc] init];
[[delegate facebook] requestWithGraphPath:graphPath andParams:params andHttpMethod:@"POST" andDelegate:self]; 
```

当然，您需要更改获得 Facebook 单例的方式（我使用了 [delegate Facebook]）。

# android - 在 android 的 android api 4.1 中单击按钮时背景颜色如何变化？

> ID：11323762
> 
> 赞同：4
> 
> 时间：2012-07-04T06:45:56.857
> 
> 标签：android

我想知道在按钮上单击背景颜色是如何变化的，它发生的时间超过了按钮的大小。有人能告诉我背景颜色是从哪里来的吗？在 android api 4.1 中，在 path: **Android API-res-layout-log_text_box_1.xml**文件看起来像这样。

```
 Licensed under the Apache License, Version 2.0 (the "License");
     you may not use this file except in compliance with the License.
     You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing, software
     distributed under the License is distributed on an "AS IS" BASIS,
     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
     limitations under the License.
-->

<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android" 
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <Button
        android:id="@+id/add"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/log_text_box_1_add_text"/>

    <com.example.android.apis.text.LogTextBox
        android:id="@+id/text"
        android:background="@drawable/box"
        android:layout_width="match_parent"
        android:layout_height="0dip"
        android:layout_weight="1"
        android:scrollbars="vertical"/>

    <Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/log_text_box_1_do_nothing_text"/>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-05T05:30:52.850

此行为是 Holo 主题的默认 android 样式按钮，用于此类按钮的选择器位于*您的 sdk \platforms\android-16\data\res\drawable 的路径中，*其名称如下：`btn_default_holo_dark.xml`和`btn_default_holo_light.xml`

用于第一个选择器的可绘制对象是：

```
btn_default_normal_holo_dark.9 
```

![在此处输入图像描述](../Images/c02e0d98a20f2cecf52345ba73ad7303.png)

```
btn_default_disabled_holo_dark.9 
```

![在此处输入图像描述](../Images/138b522fa7f1eef0bce37d5876103bd0.png)

```
btn_default_disabled_focused_holo_dark.9 
```

![在此处输入图像描述](../Images/2c326776fd2aa331d8fd2e5a25a4c070.png)

```
btn_default_focused_holo_dark.9 
```

![在此处输入图像描述](../Images/9c8579590c16afce34354b09f0ada141.png)

```
btn_default_pressed_holo_dark.9 
```

![在此处输入图像描述](../Images/2eed61e87c326a2c54b75d208d4b14cc.png)

最后一个 9-patch 图像负责超出按钮边框的效果，希望这就是您要找的。

# validation - Cakephp：验证数组中的元素

> ID：11323764
> 
> 赞同：1
> 
> 时间：2012-07-04T06:46:12.443
> 
> 标签：validation, cakephp, cakephp-2.1, cakephp-model

我有一个表格，学生可以使用下拉列表输入科目。下拉列表从表中获取主题。我想验证这个下拉列表，以便学生只选择一次主题。主题正在循环播放。我怎样才能做到这一点？

我的控制器

```
for ($i = 1; $i < sizeof($this->data['ApplicantOlevelQualification']['olevel_subject_code']); $i++) {

                if ($this->data['ApplicantOlevelQualification']['olevel_subject_code'][$i] != "") {
                    $this->ApplicantOlevelQualification->create();
                    $this->ApplicantOlevelQualification->id = null;
                    $this->ApplicantOlevelQualification->set(array(
                            'applicants_detail_id' => $app_id,
                            'olevel_subject_code' => $this->data['ApplicantOlevelQualification']['olevel_subject_code'][$i],
                            'grade' => $this->data['ApplicantOlevelQualification']['grade'][$i],
                            'mark' => $this->data['ApplicantOlevelQualification']['mark'][$i],
                            'centre_number'=> $centre_number, 
                            'candidate_number'=> $candidate_number, 
                            'exam_body_code'=> $exam_body_code,
                            'year_written'=> $year_written,

                        )
                    ); 
```

我的 add.ctp

```
echo "<tr><td>" . $this->Form->label('Subject: ');
        echo "</td><td>";
        echo $this->Form->select("ApplicantOlevelQualification.olevel_subject_code.$s",$mySubjects);
        echo "</td><td>"; 
```

模型

```
 'olevel_subject_code' => array(
        'numeric' => array(
            'rule' => array('valids'),
                        ),
    ), 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T09:37:09.863

这可以通过在下拉列表中添加 GROUP BY 来唯一

```
$subjects = $this->ApplicantOlevelQualification->OlevelSubject->find('list',array('fields'=>‌​array('code','name'),'group'=>array(code))); 
```

# c# - 使用“WatiN”解析浏览器中的每个 li 标签

> ID：11323765
> 
> 赞同：0
> 
> 时间：2012-07-04T06:46:13.183
> 
> 标签：c#, watin

我正在使用 watin dll 浏览网页，单击`li`标签中的链接，转到下一页，获取一些数据，返回上一页并单击下一个`li`标签中的链接。

我可以通过`li`标签中的一个链接来做到这一点。我想在点击每个链接`li`下获取所有标签`ul <classname>`并执行上述过程。我怎样才能得到所有的`li`和循环通过每一页？

页面的HTML代码是这样的：

```
<ul id="ul_classname" class="search-result-set">
    <li class="">
        <div class="Div_Classname">
            <h3 class="standard_font">
                <a class="a class_name" href="link to be clicked">text to be displayed</a>
            </h3>
            <p class="word-wrap"></p>
        </div>
    </li>
    <li class="">
        <div class="Div_Classname">
            <h3 class="standard_font">
                <a class="a class_name" href="link to be clicked">text to be displayed</a>
            </h3>
            <p class="word-wrap"></p>
        </div>
    </li>
</ul> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T06:57:58.640

您可以尝试使用此代码（Linq to XML）

```
var xdoc = XDocument.Load(yourFile);

var terms= from term in xdoc.Descendants("ul")
        select new
        {
              Class= term.Attribute("class").Value
        };

foreach(var li in terms)
{
   Console.Write(li.Class);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T07:32:58.173

试试这个：

```
LinkCollection links = ie.Links;
foreach (var link in links)
{
    link.Click();
    // Do something
    ie.Back();
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-04T08:57:14.690

！

```
private void CrawlSite()
{
    int idx = 0;
    do
    {
        idx = this.ClickLink(idx);
    }
    while (idx != -1);
}

private int ClickLink(int idx)
{
    WatiN.Core.Browser browser = GetBrowser();

    ListItemCollection listItems = browser.List("ul_classname").ListItems;
    if (idx > listItems.Count - 1)
        return -1;

    Link lnk = listItems[idx].Link(Find.ByClass("a class_name"));
    lnk.Click();

    //TODO: get your data

    browser.Back();

    return idx + 1;
} 
```

# sql - 如何查找表sql server的三个字段中哪个单词出现次数最多

> ID：11323769
> 
> 赞同：2
> 
> 时间：2012-07-04T06:46:51.483
> 
> 标签：sql, sql-server, tsql, count

我有一个有很多字段的表，但我想计算该表的任何三个字段中的每个单词

在一个表中找到不止一次存在的所有标题......所以我可以发出这个声明

```
SELECT title, COUNT(title) AS NumOccurrences FROM users
GROUP BY titleHAVING ( COUNT(title) > 1 ) 
```

**假设我的表有三个名为title,url,description**的字段。基本上我不知道哪个单词已存储在该表的哪个 3 个字段中的最大时间。

我想发出一条 sql 语句，它可以告诉我哪个单词找到了最长时间……比如

```
word-name          occurance
---------          -------
sqlserver           300
jquery              120
ajax                110 
```

请指导我使用 sql server 2000/2005 的示例 sql 谢谢

## 这是我更新的完整代码.....请看

```
 IF OBJECT_ID('tempdb..#tempSearch') IS NOT NULL
BEGIN
    DROP TABLE #tempSearch
END

CREATE TABLE #tempSearch(
    ID INT,
    Title nvarchar(4000),
    Description ntext,
    Url nvarchar(4000),
    Type char(1))

INSERT INTO #tempSearch 
    SELECT * from vwProductSearch

INSERT INTO #tempSearch 
    SELECT * from vwContentSearch

    SELECT  Word, 
    COUNT(Word) AS TotalOccurrences,
    COUNT(CASE WHEN Field = 'Title' THEN Word END) AS OccurancesInTitle,
    COUNT(CASE WHEN Field = 'URL' THEN Word END) AS OccurancesInURL,
    COUNT(CASE WHEN Field = 'Description' THEN Word END) AS OccurancesInDescription
    FROM    (   SELECT  CONVERT(NTEXT, Title) AS Word, 'Title' AS Field
        FROM    #tempSearch
        UNION ALL
        SELECT  CONVERT(NTEXT, URL), 'URL' AS Field
        FROM    #tempSearch
        UNION ALL
        SELECT  CONVERT(NTEXT, Description), 'Description' AS Field
        FROM    #tempSearch
    ) As Fields
    GROUP BY Word
    HAVING  COUNT(Word) > 1

   DROP TABLE #tempSearch 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:56:07.330

您需要使用 UNION 将您的 3 个字段组合成一列，以便您可以使用它来分组。我还添加了更多计数，以防您需要深入了解单词出现最多的位置。

```
SELECT  Word, 
        COUNT(Word) AS TotalOccurrences,
        COUNT(CASE WHEN Field = 'Title' THEN Word END) AS OccurancesInTitle,
        COUNT(CASE WHEN Field = 'URL' THEN Word END) AS OccurancesInURL,
        COUNT(CASE WHEN Field = 'Description' THEN Word END) AS OccurancesInDescription
FROM    (   SELECT  Title AS Word, 'Title' AS Field
            FROM    Users
            UNION ALL
            SELECT  URL, 'URL' AS Field
            FROM    Users
            UNION ALL
            SELECT  Description, 'Description' AS Field
            FROM    Users
        ) As Fields
GROUP BY Word
HAVING  COUNT(Word) > 1 
```

**编辑**

我知道您询问过 SQL_Server 2005 和 2000，但如果您要升级到 2008 或更高版本，有一个更简洁的解决方案：

```
SELECT  Word, 
        COUNT(Word) AS TotalOccurrences,
        COUNT(CASE WHEN Field = 'Title' THEN Word END) AS OccurancesInTitle,
        COUNT(CASE WHEN Field = 'URL' THEN Word END) AS OccurancesInURL,
        COUNT(CASE WHEN Field = 'Description' THEN Word END) AS OccurancesInDescription
FROM    Users
        CROSS APPLY 
        (   VALUES 
                (Title, 'Title'), 
                (URL, 'URL'), 
                (Description, 'Description')
        ) AS T (Word, Field)
GROUP BY Word
HAVING  COUNT(Word) > 1 
```

**编辑 2**

如果所有列都是不同的数据类型，则需要显式转换它们：

```
SELECT  Word, 
        COUNT(Word) AS TotalOccurrences,
        COUNT(CASE WHEN Field = 'Title' THEN Word END) AS OccurancesInTitle,
        COUNT(CASE WHEN Field = 'URL' THEN Word END) AS OccurancesInURL,
        COUNT(CASE WHEN Field = 'Description' THEN Word END) AS OccurancesInDescription
FROM    (   SELECT  CONVERT(NTEXT, Title) AS Word, 'Title' AS Field
            FROM    Users
            UNION ALL
            SELECT  CONVERT(NTEXT, URL), 'URL' AS Field
            FROM    Users
            UNION ALL
            SELECT  CONVERT(NTEXT, Description), 'Description' AS Field
            FROM    Users
        ) As Fields
GROUP BY Word
HAVING  COUNT(Word) > 1 
```

**编辑 3**

无法解决您遇到的错误，您无法按 NTEXT 分组。我能想出的最佳解决方案感觉很肮脏，我对它并不是特别满意......

```
SELECT  COALESCE(Title, URL, Description) AS Word,
        COALESCE(Title.Occurances, 0) + COALESCE(URL.Occurances, 0) + COALESCE(Description.Occurances, 0) AS TotalOccurances,
        COALESCE(Title.Occurances, 0) AS TitleOccurances,
        COALESCE(URL.Occurances, 0) AS URLOccurances,
        COALESCE(Description.Occurances, 0) AS DescriptionOccurances
FROM    (   SELECT  CONVERT(NTEXT, Title) AS Title, COUNT(*) AS Occurances
            FROM    #tempSearch
            GROUP BY Title
        ) AS Title
        FULL JOIN 
        (   SELECT  CONVERT(NTEXT, URL) AS URL, COUNT(*) AS Occurances
            FROM    #tempSearch
            GROUP BY URL
        ) AS URL
            ON URL LIKE Title
        FULL JOIN
        (   SELECT  Description, 1 AS Occurances
            FROM    #tempSearch
        ) AS Description
            ON Description LIKE Title 
```

这行得通，但就像我说的那样，它并不完美，可能不会表现得很好。强烈考虑升级到更高版本的 SQL-Server！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T07:12:25.563

您可以使用差异来计算单词在三个字段中出现的`LEN()`次数，以说明该单词在同一字段中出现多次：

```
SELECT
    a.wordname,
    SUM(
        ((LEN(b.title) - LEN(REPLACE(b.title, a.wordname, ''))) / LEN(a.wordname)) +
        ((LEN(b.url) - LEN(REPLACE(b.url, a.wordname, ''))) / LEN(a.wordname)) +
        ((LEN(b.description) - LEN(REPLACE(b.description, a.wordname, ''))) / LEN(a.wordname))
    ) AS occurrence
FROM
    (
        SELECT 'sqlserver' AS wordname UNION ALL
        SELECT 'jquery' AS wordname UNION ALL
        SELECT 'ajax' AS wordname
    ) a
CROSS JOIN
    users b
GROUP BY
    a.wordname
ORDER BY
    occurrence DESC 
```

如果您有一个词名表，只需将该表名代替`SELECT ... UNION ALL`我为了示例而放置的许多语句。

# android - 如何像 Console.WriteLine() 这样向 Activity 寡妇写入行

> ID：11323778
> 
> 赞同：0
> 
> 时间：2012-07-04T06:47:31.153
> 
> 标签：android, xamarin.android

我需要在服务的活动窗口中写入实时日志数据以观察正在发生的事情。像`Console.WriteLine.Log.I()`，但这对于实时来说并不好。如果我写入 TextView，我需要定期刷新 Activity 并`onDestroy()`在屏幕方向更改时保存数据。它很复杂，我现在不知道如何从静态方法刷新 Activity。什么是一个简单的解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:53:07.580

也许一个好主意是将日志写入 SD 卡上的某个日志文件，然后当您`Activity`处于前台时，您只需将文件内容加载到您的`TextView`. 希望这可以帮助。

# python - 如何动态制定静态文本列表

> ID：11323782
> 
> 赞同：0
> 
> 时间：2012-07-04T06:47:41.350
> 
> 标签：python, wxpython, iteration

我正在尝试创建一个函数，该函数在调用时使用 statictext 小部件在面板中制定列表。我正在从包含姓名、电话和电子邮件的 sql 表中提取信息。这是我的示例，希望您能看到我正在尝试做的事情。

```
info = [('name1','phone1','email1'),('name2','phone2','email2'),
('name3','phone3','email3')]

for name,phone,email in info:
    x = 0
    y = 0
    wx.StaticText(self.Panel,-1,str(name),pos=(10+x,40+y))
    wx.StaticText(self.Panel,-1,str(phone),pos=(100+x,40+y))
    wx.StaticText(self.Panel,-1,str(email),pos=(190+x,40+y))
    x = x + 90
    y = y + 30 
```

现在我认为这会起作用。我错过了什么，忽略了什么？发生的事情是很多信息没有显示出来，但你可以看到它在某个地方被剪辑在一起，单词相互重叠。

试图达到这个效果：

姓名 1 电话 1 电子邮件 1

姓名 2 电话 2 电子邮件 2

姓名3 电话3 电子邮件3

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T08:23:36.867

用sizer试试

```
import wx

info = [('name1','phone1','email1'),('name2','phone2','email2'),
('name3','phone3','email3')]

class Frame(wx.Frame):
    def __init__(self,*args,**kwargs):
        wx.Frame.__init__(self,*args,**kwargs)
        panel= wx.Panel(self)
        sizer= wx.BoxSizer(wx.VERTICAL)

        grid_sizer= wx.GridSizer(len(info),3,5,5)
        for person in info:
            for detail in person:
                text= wx.StaticText(panel,label=detail)
                grid_sizer.Add(text)
        sizer.Add(grid_sizer,0,wx.EXPAND|wx.ALL,10)

        panel.SetSizer(sizer)

        self.Show()

class App(wx.App):
    def OnInit(self):
       Frame(None)
       return True

if __name__ == "__main__":
    app= App(False)
    app.MainLoop() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:53:08.687

尝试这个

```
x = 0
y = 0
for name, phone, email in info:        
    wx.StaticText(self.Panel, -1, str(name),  pos=(10+x,40+y))
    wx.StaticText(self.Panel, -1, str(phone), pos=(100+x,40+y))
    wx.StaticText(self.Panel, -1, str(email), pos=(190+x,40+y))

    y = y + 30 
```

# installscript - Installscript CopyFile 函数错误

> ID：11323783
> 
> 赞同：0
> 
> 时间：2012-07-04T06:47:41.700
> 
> 标签：installscript, installshield-2011

我正在尝试使用 Installscript 复制文件功能复制文件： bRet=CopyFile( szUnattendIni, szStatusFile );

其中 szUnattendIni 引用的文件作为命令行参数传递。当我使用双引号从命令行传递这个文件时，bRet 返回一个错误，说“系统找不到指定的文件”......但是当我传递没有双引号的同名时，它工作正常。

我尝试在复制之前添加检查以验证源文件是否存在使用： if(Is( FILE_EXISTS,szUnattendIni)) then MessageBox("File Exists",INFORMATION); 万一;

在这两种情况下，都会显示消息框，说明文件存在。我想支持目录名称包含需要双引号的空格的路径。但我做不到。我该如何解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:36:29.367

我找到了答案，这是 Installscript CopyFile 函数的问题。参考以下链接： http://kb.flexerasoftware.com/selfservice/viewContent.do?externalID= [Q105860](http://kb.flexerasoftware.com/selfservice/viewContent.do?externalID=Q105860)

# php - 如何读取文件名之间有空格的文本文件的内容？

> ID：11323785
> 
> 赞同：0
> 
> 时间：2012-07-04T06:47:48.027
> 
> 标签：php, text, file-get-contents, readfile

我想获取文本文件中的内容并且我正在使用`file_get_contents()`

但是当我尝试将具有空格的文件读入文件名时，问题就开始了。

例如：`/home/project/text cv.txt`无法使用 读取`file_get_contents()`。

有没有其他方法可以读取 .txt 文件？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T06:52:16.147

文档中有提示： `If you're opening a URI with special characters, such as spaces, you need to encode the URI with urlencode().`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-04T07:10:54.283

另一种选择是使用 realpath() 将 URI 包装到您的文件中：

```
$path = realpath( dirname(__FILE__).'/../_files/file with space.txt' );
$data = file_get_contents($path); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-04T06:53:11.853

尝试`file_get_contents(text&nbsp;cv);`或`file_get_contents(text%20cv);`

# android - 在android中设置自定义对话框的位置？

> ID：11323796
> 
> 赞同：0
> 
> 时间：2012-07-04T06:48:40.027
> 
> 标签：android, dialog

我们已经创建了一个自定义对话框。

我们如何将自定义对话框设置在`Middle`中心位置。

示例代码是`dialog.getWindow().setGravity(Gravity.CENTER);`

现在自定义对话框显示在`Top`中心位置。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:14:14.027

TestAActivity.java

包 com.TestA;

```
 import android.app.Activity;
    import android.app.Dialog;
    import android.content.Context;
    import android.os.Bundle;
    import android.view.View;
    import android.view.View.OnClickListener;
    import android.widget.Button;
    import android.widget.ImageView;
    import android.widget.TextView;

    public class TestAActivity extends Activity {
        private Button btn;

        /** Called when the activity is first created. */
        // TwitPicResponse tpResponse = null;
        @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.main);

            btn = (Button) findViewById(R.id.btn1);
            btn.setOnClickListener(new OnClickListener() {

                public void onClick(View v) {
                    // TODO Auto-generated method stub
                    show_Dialog();
                }
            });

        }

        protected void show_Dialog() {
            // TODO Auto-generated method stub
            //Context mContext = getApplicationContext();
            Dialog dialog = new Dialog(TestAActivity.this);

            dialog.setContentView(R.layout.test);
            dialog.setTitle("Custom Dialog");

            TextView text = (TextView) dialog.findViewById(R.id.text);
            text.setText("Hello, this is a custom dialog!");
            ImageView image = (ImageView) dialog.findViewById(R.id.image);
            image.setImageResource(R.drawable.ic_launcher);

            dialog.show();
        }
    }

enter code here 
```

测试.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:id="@+id/layout_root"
              android:orientation="horizontal"
              android:layout_width="fill_parent"
              android:layout_height="fill_parent"
              android:padding="10dp"
              >
    <ImageView android:id="@+id/image"
               android:layout_width="wrap_content"
               android:layout_height="fill_parent"
               android:layout_marginRight="10dp"
               />
    <TextView android:id="@+id/text"
              android:layout_width="wrap_content"
              android:layout_height="fill_parent"
              android:textColor="#FFF"
              />
</LinearLayout> 
```

主要的.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <TextView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/hello" />

    <Button
        android:id="@+id/btn1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Button" />

</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T06:59:43.550

请参阅下面的链接，它是 CENTER 中的默认设置。

[http://developer.android.com/guide/topics/ui/dialogs.html#CustomDialog](http://developer.android.com/guide/topics/ui/dialogs.html#CustomDialog)

# .net - 使用实体框架 4 的默认值

> ID：11323798
> 
> 赞同：4
> 
> 时间：2012-07-04T06:48:56.673
> 
> 标签：.net, entity-framework, sql-server-2008-r2, default-value, entity-framework-4.3

我有一个表格，其中有一列：

```
nvarchar(256) NoteInternal NOT NULL DF_ReOptions_NoteInternal DEFAULT '' 
```

我正在使用 Database First 方法和 T4 来生成 POCO。正如我从我的模型中看到的，没有设置属性的默认值。

在此页面上很好地解释了为什么 [实体框架 4 和默认值](https://stackoverflow.com/questions/3586466/entity-framework-4-and-default-values)

当我在模型中手动设置默认值时，我可以在生成的 POCO 中看到默认值，但是在保存到数据库的那一刻，默认值没有被插入，我在 VS 中收到错误，而不是在数据库。

我的问题，如何使用 EF 插入默认值？

我可以使用 DataAnnotation 或 System.ComponentModel 命名空间来解决问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T08:17:10.677

这里有一些适合我的情况的可能解决方案：

01 - 在 DbContext 上实现一些 BL 逻辑覆盖 SaveChanges()

[EF 4.1 - 如何在插入日期时间列时添加默认值](https://stackoverflow.com/questions/6237619/ef-4-1-how-to-add-a-default-on-insertion-for-datetime-column) 我选择了这个选项

02 - 在视图中添加默认值（使用 MVC）

# ios - iOS 应用程序中的高级 SMS 和 IVR 支付方式

> ID：11323801
> 
> 赞同：4
> 
> 时间：2012-07-04T06:49:09.140
> 
> 标签：ios, ios5, ios4, ivr

实际上我正在为特定的移动运营商开发一个 iOS 应用程序，该应用程序将是免费的，并且某些内容需要付费，因此运营商需要用户通过 Premium SMS 或 IVR（交互式语音回放）付费，但是在进行一些搜索后我发现Apple可能会拒绝该应用程序。因为需要通过那里的系统完成所有付款，即通过应用内购买或付费模型。

有什么方法可以解决这个问题，我该如何实现（Premium SMS，paid IVR）？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-08T16:12:34.023

坏消息是：您无法发布仅基于应用内付费短信的应用。正如[这篇](http://arstechnica.com/apple/2011/06/apple-quietly-drops-special-subscription-requirements-for-ios-apps/)关于 Arstechnica 的文章所述：

*内容提供商可以继续提供可通过 iOS 应用程序访问的外部订阅，只要应用程序中没有内置外部购买机制的外部链接。如果订阅者可以在应用内为内容付费，它必须使用应用内购买 API，尽管内容提供商现在可以自由设置他们喜欢的任何价格。*

如果你真的想部署付费短信，你可以高价集成应用内购买。此外，您以较低的价格提供付费短信（用户通过他们的普通消息应用程序向您通过网页或广告或任何其他方式告诉他们的号码发送短信）。因此，用户将倾向于利用较低的价格并发送短信。一个障碍是，Apple 不允许在应用程序中引用更便宜的支付方式。因此，这取决于您如何告知用户您的应用程序和付款方式。

# vb.net - VB.NET - 创建类，使用 WriteOnly 属性但它不替换变量值

> ID：11323803
> 
> 赞同：-1
> 
> 时间：2012-07-04T06:49:15.417
> 
> 标签：vb.net, winforms, visual-studio-2010

程序执行后，FileStream 使用的扩展名是 Class 标头中提供的默认扩展名，而不是我通过“set property”指定的扩展名。

怎么一直没变？

*Form1.vb 代码*

```
Option Strict On

    Imports S3_BalanceBook_Dayan.Wallet

    Public Class Form1
        Dim myWallet As New Wallet(DataGridView1, DateTimePicker1)

        Private Sub Form1_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load

            'Make default selection when program starts.
            optCheck.Checked = True
            myWallet.StatementsFileName = "statements.dat"
            DataGridView1.Rows.Add(New String() {"12/21/1986", "Test", "44554", "44.22", "45.12"})

        End Sub

        Private Sub cmdAddTransaction_Click(sender As System.Object, e As System.EventArgs) Handles cmdAddTransaction.Click
            If optCheck.Checked Then
                lblAvailableFunds.Text = FormatCurrency(myWallet.Check(CInt(Trim(txtCheck.Text)), _
                                                                       CDec(Trim(txtMoney.Text))))
            End If
        End Sub

        Private Sub optDeposit_CheckedChanged(sender As System.Object, e As System.EventArgs) Handles optDeposit.CheckedChanged
            'Disable un-needed fields when Deposit Radio button is selected!
            txtCheck.Enabled = False
            txtMoney.Enabled = False
            txtDeposit.Enabled = True
            txtFee.Enabled = False
            txtDescription.Enabled = True
        End Sub
        Private Sub optCheck_CheckedChanged(sender As System.Object, e As System.EventArgs) Handles optCheck.CheckedChanged
            'Disable un-needed fields when Check Radio button is selected!
            txtCheck.Enabled = True
            txtMoney.Enabled = True
            txtDeposit.Enabled = False
            txtFee.Enabled = False
            txtDescription.Enabled = True

        End Sub
        Private Sub optServiceFee_CheckedChanged(sender As System.Object, e As System.EventArgs) Handles optServiceFee.CheckedChanged
            'Disable un-needed fields when Fee Radio button is selected!
            txtCheck.Enabled = False
            txtMoney.Enabled = False
            txtDeposit.Enabled = False
            txtFee.Enabled = True
            txtDescription.Enabled = True

        End Sub

    End Class 
```

*Wallet.vb 代码*

```
Option Strict On
Imports System
Imports System.IO

Public Class Wallet

    Private lcheckNumber As Integer = Nothing
    Private lcheckmoney As Decimal = Nothing
    Private ldepositAmount As Decimal = Nothing
    Private lfee As Decimal = Nothing

    Private holdInstance As DataGridView
    Private holdDate As DateTimePicker
    Private holdPath As String = "default.txt"
    Private _file As New FileStream(holdPath, FileMode.OpenOrCreate, FileAccess.ReadWrite)
    Private file As New StreamWriter(_file)

    'Default Constructor
    Public Sub New()

    End Sub

    Public Sub New(ByRef Data As DataGridView, ByRef StatementDate As DateTimePicker)
        'This constructor takes in references to use in class as private
        holdInstance = Data
        holdDate = StatementDate
    End Sub

    ''' <summary>
    ''' Property allows the change of file path for the statements log.
    ''' </summary>
    Public WriteOnly Property StatementsFileName() As String
        Set(ByVal Value As String)
            holdPath = Value
        End Set
    End Property

    ''' <summary>
    ''' Enter Deposit amount as Decimal, returns remainding account balance as Decimal.
    ''' </summary>
    Public Function Deposit(ByVal Amount As Decimal) As Decimal

        Return 0D
    End Function
    'Function Check - Deduct the amount and returns current balance.
    Public Function Check(ByVal CheckNumber As Integer, ByVal CheckAmount As Decimal) As Decimal
        Try

            file.WriteLine(CheckNumber & " - " & CheckAmount)

        Catch e As IOException
            MessageBox.Show(e.ToString)
        End Try

        Return 0D
    End Function
    'Function Fee - Deduct the fee from balance and returns current balance.
    Public Function Fee(ByVal FeeAmount As Decimal) As Decimal

        Return 0D
    End Function

End Class 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-04T12:11:21.203

是的 - 问题就在这里：

```
Private holdPath As String = "default.txt"
Private _file As New FileStream(holdPath, FileMode.OpenOrCreate, FileAccess.ReadWrite)
Private file As New StreamWriter(_file) 
```

*这将在**创建实例*时使用,`_file`的值进行初始化。与其将and作为成员字段，为什么不在内部将它们设为局部变量呢？这样，当它们被构建时，它们将使用 的值，就像当时一样。`holdPath`*`Wallet`*`_file``file``Check``holdPath`

* * *

您可能还应该将它们放在`Using`语句中，或者以其他方式确保它们在适当的点关闭 - 否则，您写入文件的内容可能不会出现，直到您的程序关闭。

* * *

所以，我们有：

```
Public Function Check(ByVal CheckNumber As Integer, ByVal CheckAmount As Decimal) As Decimal
    Try
        Using _file As New FileStream(holdPath, FileMode.OpenOrCreate, FileAccess.ReadWrite)
            Using file As New StreamWriter(_file)
                file.WriteLine(CheckNumber & " - " & CheckAmount)
            End Using
        End Using

    Catch e As IOException
        MessageBox.Show(e.ToString)
    End Try

    Return 0D
End Function 
```

# .net - 如何判断流写入器是否已关闭？

> ID：11323808
> 
> 赞同：12
> 
> 时间：2012-07-04T06:49:35.403
> 
> 标签：.net, c++-cli, clr, backgroundworker, streamwriter

我正在结合使用 streamwriter 和后台工作人员进行日志记录。

因此，我有

```
System::Void
MyUI::execBWorker_DoWork(System::Object^  sender, System::ComponentModel::DoWorkEventArgs^  e) {

String^ outputPath = _clr::Settings::ApplicationLogPath("_log.txt", true, false);
logfile_ = gcnew StreamWriter(outputPath,true);

DoStuff();
logfile_->Close();
} 
```

DoStuff() 方法中的事物引发了 Progress 事件。

```
System::Void
MyUI::execBWorker_ProgressChanged(System::Object^  sender, System::ComponentModel::ProgressChangedEventArgs^  e) {
logfile_->WriteLine("something");
} 
```

我觉得这真的很香。我怎样才能让它变得更好，或者至少我怎样才能检查日志文件没有被关闭？有很多消息，所以我担心连续打开和关闭日志文件。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-07-04T06:55:02.270

如果`StreamWriter`关闭，`BaseStream`属性将返回`null`。

# c# - 如何显示背景图片

> ID：11323810
> 
> 赞同：1
> 
> 时间：2012-07-04T06:49:38.987
> 
> 标签：c#, .net, image, background

我只是希望能够“插入”背景图片，同时在其前面显示文本。我是 c# 的新手，所以如果可能的话，保持简单。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T06:57:01.653

使用背景图像属性，或添加图片框/控件并在其顶部放置标签，如果标签在图片控件后面，则将文本标签移动到图片框前面

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T08:11:12.100

`BackGroundImage`如果此属性被...公开，您可以尝试从您的代码中设置属性。 `control`-

`control.BackgroundImage = Image.FromFile("C:\filename.jpg");`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-05-01T18:34:59.550

我猜您正在使用控制台应用程序，但您无法更改其背景图像，如果您想制作一个程序，您可以尝试使用 Windows 窗体应用程序，您可以设计您希望用户看到的内容并设置背景图像. 更改“BackgroundImage”属性，然后导入您要使用的图像。我也是 c# 的新手，所以我知道你的感受。为了提高图像质量，将其更改为位图 (bmp)，它比 jpeg 清晰得多

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-05-08T11:39:45.863

要更改表单的背景，请转到表单的属性并单击 BackgroundImage

如果您想在运行时使用代码更改它

创建一个名为 background 的类

```
class Background
{
    public static string background_file;
} 
```

这是课

```
this.BackgroundImage = new Bitmap("file_in_debug_folder"); 
```

这将改变当前表单的背景

```
Background.background_file = "$this.BackgroundImage-blue.bmp"; 
```

这会将类中的变量更改为文件位置“$this.BackgroundImage-blue.bmp”，但这将更改为调试文件夹中文件的名称

# c++ - c++中的“保持状态”是什么意思？

> ID：11323811
> 
> 赞同：6
> 
> 时间：2012-07-04T06:49:41.507
> 
> 标签：c++, lambda, functional-programming, state, functor

我在 MSDN 页面上阅读了这个解释，了解 lambda 表达式优于仿函数和函数指针的优势。“保持状态”的能力是什么意思？它是否与在封闭范围内通过 ref 或 value 捕获某些变量的能力有关？

[http://msdn.microsoft.com/en-us/library/dd293608.aspx](http://msdn.microsoft.com/en-us/library/dd293608.aspx)

> 在编写代码时，您可能会使用函数指针和函数对象来解决问题和执行计算。函数指针和函数对象都有优点和缺点：函数指针涉及最小的语法开销，但它们不保留作用域内的状态；函数对象可以保持状态，但它们需要类定义的语法开销。
> 
> Lambda 表达式是一种编程技术，它结合了函数指针和函数对象的优点并避免了它们的缺点。Lambda 表达式很灵活并且可以维护状态，就像函数对象一样，并且它们紧凑的语法消除了对函数对象所需的类定义的需要。与等效的函数对象相比，Lambda 表达式使您能够编写更简洁且不易出错的代码。
> 
> 以下示例将 lambda 表达式的使用与函数对象的使用进行了比较。第一个示例使用 lambda 表达式向控制台打印向量对象中的每个元素是偶数还是奇数。第二个示例使用函数对象来完成相同的任务。

您能否指出一些有关主题范围、状态、维护状态、lambda 表达式优势的相关参考资料？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-04T06:58:48.547

函子和 lambda 都比普通函数具有这种能力。它是在函数调用之间记住内容的能力。普通函数具有静态变量，但它们是全局唯一的，如果您想要具有自己唯一状态的单独函数对象，这是不好的。这是一个示例仿函数类：

```
class Counter
{
    int n;
public:
    Counter() :n(0) {}
    int operator()() { return n++; }    
}; 
```

有了这个类，我可以创建一个充当函数的实例，并且每次调用它时，它都会记住之前的 n 值，例如

```
Counter x;
cout << x() << '\n';
cout << x() << '\n';
cout << x() << '\n'; 
```

你不能用正常的功能做到这一点。但是你可以用 lambdas 做到这一点：

```
int n = 0;
auto x = [=]() mutable { return n++; };
cout << x() << '\n';
cout << x() << '\n';
cout << x() << '\n'; 
```

# html - 如何在 HTML / CSS 中勾勒文本

> ID：11323813
> 
> 赞同：34
> 
> 时间：2012-07-04T06:49:42.837
> 
> 标签：html, css

假设我有白色字符，并且我希望每个字符都有黑色轮廓（这与勾勒整个文本框不同）。

制作这个大纲的代码是什么？

编辑：真可惜，我不是要一份完整的文件。我想要的只是一行代码和创建文本大纲所需的参数。我觉得不需要发布代码，因为它实际上只是一个简单的请求。

我尝试过使用`text-outline: 2px 2px #ff0000;`，但任何主流浏览器都不支持此功能。

范围 ：

```
function createTitleLegend() {
    legendTitle = document.createElement('div');
    legendTitle.id = 'legendT';
    contentTitle = [];
    contentTitle.push('<h3><font size="16">TM</font></h3>');
    contentTitle.push('<p class="test"><br><font size="6" color=#000000>We have <b><font size="7" color="white" text-outline: 2px 2px #FF0000;>21421</font></b></font></p>');
    legendTitle.innerHTML = contentTitle.join('');
      legendTitle.index = 1;
} 
```

我尝试在字体中使用轮廓，以及类和 div。没有工作。蛮力方法似乎也不起作用。

另一个编辑：

这是我想要大纲的关键线。

```
contentTitle.push('<p class="test"><br><font size="6" color=#000000>We have <b><font size="7" color="white">21421</font></b> asdasd</font></p>'); 
```

在我应用大纲之前，字符串写在一行中。应用大纲后，我们有 3 行不同的文本。

contentTitle 是谷歌地图中的一个图例，其中文本对齐位于中心。被推送的那个句子使用两种不同类型的字体，一种用于单词，一种用于数字。如果我使用 div 应用文本阴影，则会创建一个新行。我知道将所有内容保持在同一行的正常解决方案是使用浮点数。但是，如果我浮动，则不再居中。

也许我没有正确浮动，但到目前为止我已经尝试了 div style=float 和 class="float" 。

* * *

## 回答 #1

> 赞同：67
> 
> 时间：2013-06-20T04:39:48.973

来自：[轮廓效果到文字](https://stackoverflow.com/questions/4919076/outline-effect-to-text)

```
.strokeme
{
    color: white;
    text-shadow:
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000;  
} 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-07-04T07:50:21.817

试试 CSS3 文本阴影。

```
.box_textshadow {
     text-shadow: 2px 2px 0px #FF0000; /* FF3.5+, Opera 9+, Saf1+, Chrome, IE10 */
} 
```

在 css3please.com 上自己尝试一下。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2015-06-15T11:56:18.827

尝试这个：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<style type="text/css">
.OutlineText {
	font: Tahoma, Geneva, sans-serif;
	font-size: 64px;
    color: white;
    text-shadow:
    /* Outline */
    -1px -1px 0 #000000,
    1px -1px 0 #000000,
    -1px 1px 0 #000000,
    1px 1px 0 #000000,  
    -2px 0 0 #000000,
    2px 0 0 #000000,
    0 2px 0 #000000,
    0 -2px 0 #000000; /* Terminate with a semi-colon */
}
</style></head>

<body>
<div class="OutlineText">Hello world!</div>
</body>
</html>
```

...您可能也想这样做：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<style type="text/css">
.OutlineText {
	font: Tahoma, Geneva, sans-serif;
	font-size: 64px;
    color: white;
    text-shadow:
    /* Outline 1 */
    -1px -1px 0 #000000,
    1px -1px 0 #000000,
    -1px 1px 0 #000000,
    1px 1px 0 #000000,  
    -2px 0 0 #000000,
    2px 0 0 #000000,
    0 2px 0 #000000,
    0 -2px 0 #000000, 
    /* Outline 2 */
    -2px -2px 0 #ff0000,
    2px -2px 0 #ff0000,
    -2px 2px 0 #ff0000,
    2px 2px 0 #ff0000,  
    -3px 0 0 #ff0000,
    3px 0 0 #ff0000,
    0 3px 0 #ff0000,
    0 -3px 0 #ff0000; /* Terminate with a semi-colon */
}
</style></head>

<body>
<div class="OutlineText">Hello world!</div>
</body>
</html>
```

您可以根据需要制作尽可能多的大纲，并且有足够的空间来提出许多创意。

玩得开心！

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2018-09-09T18:18:32.380

借助 HTML5 对 的支持`svg`，您无需依赖影子黑客。

```
<svg  width="100%" viewBox="0 0 600 100">
<text x=0 y=20 font-size=12pt fill=white stroke=black stroke-width=0.75>
    This text exposes its vector representation, 
    making it easy to style shape-wise without hacks. 
    HTML5 supports it, so no browser issues. Only downside 
    is that svg has its own quirks and learning curve 
    (c.f. bounding box issue/no typesetting by default)
</text>
</svg>
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2020-07-19T18:35:20.787

至少有一些 webkit css 属性应该可以在 Chrome/Safari 上运行：

```
-webkit-text-stroke-width: 2px;
-webkit-text-stroke-color: black; 
```

那是一个 2px 宽的黑色文本轮廓。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-10-02T05:03:36.760

您可以在 css 中使用 text-shadow 属性。

```
.test {

  text-shadow: 0px 0px 0px red; /* red outline */

}
```

**注意：** offsetX 和 offsetY 属性设置为零，因此它看起来像一个大纲。任何其他数字都会使轮廓移开，使文本看起来很笨拙。

# java - Mongo DB 池连接错误

> ID：11323816
> 
> 赞同：2
> 
> 时间：2012-07-04T06:50:04.363
> 
> 标签：java, mongodb, dbconnection, mongo-java

我正在使用带有 java 的 mongoDb。插入数据时出现以下错误。任何帮助，将不胜感激。谢谢

```
Jul 4, 2012 1:45:32 PM org.xsocket.connection.HandlerAdapter performOnData
WARNING: [6f829b013850ff7914137a5cceC291] closing connection. Error occured by performing onData of com.avaya.onex.hss.requesthandlers.ResponseHandler#18746603 java.lang.OutOfMemoryError: Java heap space
Jul 4, 2012 1:45:25 PM com.mongodb.DBPortPool gotError
WARNING: emptying DBPortPool to localhost:27017 b/c of error
java.net.SocketException: Connection reset by peer: socket write error
    at java.net.SocketOutputStream.socketWrite0(Native Method)
    at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)
    at java.net.SocketOutputStream.write(SocketOutputStream.java:136)
    at org.bson.io.PoolOutputBuffer.pipe(PoolOutputBuffer.java:129)
    at com.mongodb.OutMessage.pipe(OutMessage.java:111)
    at com.mongodb.DBPort.go(DBPort.java:119)
    at com.mongodb.DBPort.go(DBPort.java:89)
    at com.mongodb.DBPort.say(DBPort.java:84)
    at com.mongodb.DBTCPConnector.say(DBTCPConnector.java:153)
    at com.mongodb.DBTCPConnector.say(DBTCPConnector.java:138)
    at com.mongodb.DBApiLayer$MyCollection.insert(DBApiLayer.java:261)
    at com.mongodb.DBApiLayer$MyCollection.insert(DBApiLayer.java:211)
    at com.mongodb.DBCollection.insert(DBCollection.java:57)
    at com.mongodb.DBCollection.insert(DBCollection.java:102)
    at com.avaya.onex.hss.requesthandlers.DatabaseConnection.dbWrite(DatabaseConnection.java:50)
    at com.avaya.onex.hss.requesthandlers.ResponseHandler.handleResponse(ResponseHandler.java:232)
    at com.avaya.onex.hss.requesthandlers.ResponseHandler.onData(ResponseHandler.java:104)
    at org.xsocket.connection.HandlerAdapter.performOnData(HandlerAdapter.java:242)
    at org.xsocket.connection.HandlerAdapter.access$200(HandlerAdapter.java:42)
    at org.xsocket.connection.HandlerAdapter$PerformOnDataTask.run(HandlerAdapter.java:210)
    at org.xsocket.SerializedTaskQueue.performPendingTasks(SerializedTaskQueue.java:161)
    at org.xsocket.SerializedTaskQueue.access$100(SerializedTaskQueue.java:40)
    at org.xsocket.SerializedTaskQueue$MultithreadedTaskProcessor.run(SerializedTaskQueue.java:189)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:662) 
```

这是我有 dbWrite 函数的类，我从其他类调用该函数用于在 mongodb 中插入数据。

```
package com.avaya.onex.hss.requesthandlers;

import com.mongodb.BasicDBObject;
import com.mongodb.DB;
import com.mongodb.DBCollection;
import com.mongodb.Mongo;
import com.mongodb.MongoOptions;
import com.mongodb.WriteConcern;

public class DatabaseConnection {
    private static DatabaseConnection con = null;
    static DB db=null;
    static Mongo m;
    //private static int count=0;

    private DatabaseConnection(){
    }

    public void dbConnect() {

        try{
        // connect to the local database server
        MongoOptions options = new MongoOptions();
        options.connectionsPerHost = 9000000;
        options.maxWaitTime = 1000000;
        options.socketKeepAlive = true;
        options.threadsAllowedToBlockForConnectionMultiplier = 1000;

         m = new Mongo("localhost", options);

         //m.dropDatabase("ClientSimulator");
         db = m.getDB( "ClientSimulator" );

        }catch(Exception e){
            e.printStackTrace();
        }
    }

    public static synchronized DatabaseConnection getInstanceClass(){
        if(con==null)
            con=new DatabaseConnection();
        return con;
    }

    public DB getDatabaseObject(){
        return db;
    }

    public synchronized void dbWrite(DBCollection coll, BasicDBObject obj){
        coll.insert(obj);
        try {
            Thread.currentThread().sleep(100);
        } catch (InterruptedException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

    public synchronized void dbRead(DBCollection coll){
    }

    public synchronized void dbUpdate(DBCollection coll) {
    }

    public synchronized void dbCollDrop(DBCollection coll){
        coll.drop();
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-04T10:35:12.330

尝试这个。

```
 options.connectionsPerHost = 100;
    options.maxWaitTime = 2000;
    options.socketKeepAlive = true;
    options.threadsAllowedToBlockForConnectionMultiplier = 50; 
```

connectionsPerHost 是连接池。如果您输入 9000000，它将尝试创建 90000000 个线程和连接对象来处理您的请求。我相信这是远远超过必要的。您必须减少该数字，并且您还可以删除插入函数中的 sleep(100) 。

如果 java 尝试创建那么多连接。Mongodb 服务器可能无法处理那么多连接，或者您必须更改配置以允许那么多连接。

请记住，connectionsPerHost 不是最大线程数。您可以插入 1000000 个线程，但只有 100 个连接将被使用，并且一旦空闲，所有线程将共享它们。2 秒的 maxWaitTime 应该绰绰有余。如果插入时间超过 2 秒，您可能会考虑升级您的服务器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-16T06:35:29.473

驱动程序无法从池中的连接中删除丢弃的套接字，您需要使用 try catch 让驱动程序知道套接字已被丢弃。

# android - 如何从异步任务更新当前活动

> ID：11323820
> 
> 赞同：0
> 
> 时间：2012-07-04T06:50:09.850
> 
> 标签：android, android-asynctask

我在一个屏幕上有listview，我将使用自定义的arraylist（List）呈现这个listview。在这里，当我想从另一个java类刷新listview时，我将使用上下文引用listview。但是如果我只引用listview，那就没有意义了，我还必须更改arraylist。为此，如何在不使用静态修饰符的情况下从另一个java类更改arraylist。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:13:21.390

尝试这个：

```
...
private Activity context;

onCreate() {
   ...
   context = this;
   ...
   //run async task somewhere
}

class extends AsyncTask<> {

   onPostExecute() {
      AlertDialog alert = new AlertDialog(context);
      // every time you used this on the activity you should use context on any other classes, including async task or other non activity classes
} 
```

正如@Venkata Krishna 在下面的评论中提到的，如果您只想更新一个属性，您的代码应该如下所示：

```
...
private ArrayList<String> values;
private Activity context;

onCreate() {
    ...
    context = this;
    ...
    //run async task somewhere
}

class extends AsyncTask<> {
    private ArrayList<String> values;

    onPostExecute() {
        AlertDialog alert = new AlertDialog(context);
        //notice that there are 2 properties of values with the same name and the same signature
        //accessing async task's values
        this.values = ...;
        //accessing global parameter
        values = ...;
        // and then he would want to access the list adapter to update the infomation
        CustomListAdapter adapter = ((ListView)findViewById(R.id.listview)).getListAdapter();
        adapter.notifyDatasetChanged();
    }
} 
```

只是使用全局和内部类变量的 java 编程。对于常规对象，您不需要拥有活动的“上下文”。只需更改变量，如果您想访问 UI，您需要通过存储上下文属性来完成技巧。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T06:55:12.380

使用该活动的**引用（上下文）**`onPostExecute()`更新AsyncTask上的 UI 元素。

# c++ - Python sprintf 和 memset 操作

> ID：11323822
> 
> 赞同：1
> 
> 时间：2012-07-04T06:50:12.733
> 
> 标签：c++, python, network-programming

我想将 C++ 中的这一特定代码部分转换为 python 但是我在 python 中执行 memset 和 sprintf 之类的操作时被卡住了。谁能帮我在python中做同样的事情。我的代码如下。

```
send(char* data)
{
/** COnvert From here **/
packetLength=strlen(data);
dataBuffer = new char[packetLength];
memset(dataBuffer, 0x00, packetLength);

char headerInfo[32];
memset(headerInfo, 0x00, sizeof (headerInfo));
sprintf(headerInfo, "%d", packetLength);

memcpy(dataBuffer, headerInfo, 32);
memcpy(dataBuffer + 32, data, packetLength);
/** Upto Here **/
//TODO send data via socket
} 
```

这些我尝试过的东西

```
#headerInfo=bytearray()
                #headerInfo.insert(0,transactionId)
                #headerInfo.insert(self.headerParameterLength,(self.headerLength+len(xmlPacket)))
                #headerInfo=(('%16d'%transactionId).zfill(16))+(('%d'%(self.headerLength+len(xmlPacket))).zfill(16))
                #print("Sending packet for transaction "+(('%d'%transactionId).zfill(16))+" packetLength "+(('%d'%(self.headerLength+len(xmlPacket))).zfill(16)))
                #dataPacket=headerInfo+xmlPacket
                headerInfo=('%0x0016d'%transactionId)+('%0x00d'%(self.headerLength+len(xmlPacket))) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-04T06:59:48.373

`sprintf`在 Python 中是通过使用`%`or来实现的`.format`，例如：

```
headerInfo = '%d' % packetLength
# or,
headerInfo = '{0:d}'.format(packetLength)
# or even
headerInfo = str(packetLength) 
```

类似`memset`的操作可以通过乘法来完成，例如：

```
headerInfo = '\0' * 32 
```

但是，这些不会像您期望的那样运行，因为字符串是不可变的。您需要执行以下操作：

```
headerInfo = str(packetLength)
headerInfo += '\0' * (32 - len(headerInfo)) # pad the string
dataBuffer = headerInfo + data 
```

或者使用`struct`模块：

```
import struct
dataBuffer = struct.pack('32ss', str(packetLength), data) 
```

（`32s`格式字符串将左对齐字符串并用 NUL 字符填充。）

* * *

如果您使用的是 Python 3，那么您必须小心字节与字符串。如果您正在处理网络套接字等，您要确保一切都是字节，而不是 unicode 字符串。

# android - GCM 无法开始手动注册

> ID：11323823
> 
> 赞同：0
> 
> 时间：2012-07-04T06:50:19.670
> 
> 标签：android, google-cloud-messaging

在[此示例](http://developer.android.com/guide/google/gcm/gcm.html#handling_intents)中，广播接收器启动意图服务。在 IntentService 实例中它启动了一个名为 runIntentInService 的方法，该方法初始化一个 PowerManager.WakeLock 对象，然后启动服务。

现在，当我手动启动注册过程（从 mainActivity）时：

```
 Intent registrationIntent = new Intent("com.google.android.c2dm.intent.REGISTER");
    // sets the app name in the intent
    registrationIntent.putExtra("app", PendingIntent.getBroadcast(mainActivity.this, 0, new Intent(), 0));
    registrationIntent.putExtra("sender", _senderID);
    startService(registrationIntent); 
```

IntentService中，PowerManager.WakeLock的对象还没有初始化，所以它为null。

我使用[此代码](http://developer.android.com/guide/google/gcm/gcm.html#registering)从 mainActivity 注册。我应该改用[以下内容](http://developer.android.com/guide/google/gcm/gs.html#android-app)吗？

```
GCMRegistrar.checkDevice(this);
GCMRegistrar.checkManifest(this);
final String regId = GCMRegistrar.getRegistrationId(this);
if (regId.equals("")) {
  GCMRegistrar.register(this, SENDER_ID);
} else {
  Log.v(TAG, "Already registered");
} 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T11:27:46.530

GCMRegistrar 只是一个辅助类，它的作用与您提到的完全相同，即发送注册意图等。因此无需更改代码。

# ruby-on-rails - 对填充的数据库施加约束（包含违反这些约束的记录）

> ID：11323832
> 
> 赞同：0
> 
> 时间：2012-07-04T06:52:05.327
> 
> 标签：ruby-on-rails, database, duplicates, activemodel

我有一个模型，`Clients`以及一个带有`lastname`和`firstname`列的相应数据库。最初对 的唯一性没有限制`[lastname, firstname]`，并且数据库当前包含重复项。我想清理数据库并对模型施加约束，例如：`validates_uniqueness_of :lastname, scope: :firstname`.

我想到的想法是以某种方式备份数据，对空模型数据库施加约束，然后将数据与副本一起拉回，我现在可以单独处理以从异常中解救出来。

然而，我觉得我在这里做了一些不合时宜的事情。

有没有更好的“轨道方式”来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:50:37.730

发现问题的唯一真正纯 Rails 方法是遍历每个模型并确保它仍然有效。例如，大致：

```
Client.all.each do |client|
  unless (client.valid?)
    puts "Client #{client.id} invalid: #{client.errors.full_messages}"
  end
end 
```

`all`如果需要太多内存，加载记录可能不是一个好主意。ActiveRecord 3.0 应该对此更智能，将其加载到块中，但我目前无法证明是这种情况。

至于您如何处理重复数据：

*   **在开始使用适当的数据库快照工具之前，请务必**备份您的表。
*   **在生产数据库上运行之前，请**始终在数据副本上测试您的修改。****
***   **始终**通过编写以可靠和可预测的方式执行操作的 Rails 迁移来记录您的更改。在部署之前反复测试它。**

 **我假设您的生产数据库按原样受到常规快照的影响，在这种情况下，您可以从那里获取测试数据。如果不是这种情况，您的首要任务应该是确保它是。**

# php - 如何使用输入文件嵌入可执行文件并将结果输出为 PHP 中的文件？

> ID：11323833
> 
> 赞同：0
> 
> 时间：2012-07-04T06:52:08.597
> 
> 标签：php

要嵌入可执行文件，我编写了此代码

```
<?php     
$file = "C:/embed";    
$output = exec($file);    
echo $output;
?> 
```

现在我该如何给出输入命令，其中**embed.in**是文件名？

> “嵌入>嵌入.in”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T07:07:00.163

```
 $file = "C:/embed > embed.in"; 
```

上面有什么问题？

# c# - 修改传递给C dll c#的char数组

> ID：11323840
> 
> 赞同：0
> 
> 时间：2012-07-04T06:52:38.373
> 
> 标签：c#, c, string, dll, marshalling

我只是想从 C# 将缓冲区传递给 C dll，让 C 函数填充缓冲区，然后在 C# 代码中对缓冲区执行某些操作。但是我在缓冲区中得到了垃圾。这是C：

```
 extern "C" __declspec( dllexport )      
    int  cFunction(char *plotInfo, int bufferSize) 
    {
        strcpy(plotInfo, "text");
        return(0);
    } 
```

C＃

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Runtime.InteropServices;
namespace ConsoleApplication1
{
class Program
{
 [DllImport("mcDll.dll",
     CallingConvention = CallingConvention.Cdecl, CharSet=CharSet.Unicode)]

    public static extern int cFunction( StringBuilder theString, int bufferSize);
    static void Main(string[] args)
    {
        StringBuilder s = new StringBuilder(55);
        int result = cFunction( s, 55);
        Console.WriteLine(s);
    }
   }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T07:08:36.937

本机函数使用 ANSI 字符进行操作。只需`CharSet.Unicode`从您的导入定义中删除。

# mongodb - MongoDB：如何在论文中表示模式图？

> ID：11323841
> 
> 赞同：37
> 
> 时间：2012-07-04T06:52:42.503
> 
> 标签：mongodb, schema, nosql

我目前正在写一篇论文，需要在图表中显示我的 MongoDB 架构。我没有找到有关基于文档的数据库图表的资源。

关系数据库有实体关系图（ERD）。对于 MongoDB，我有哪些选择？我注意到很多博客只是将原始 JSON 显示为他们的“图表”，但这在我的论文中是不可行的。

这是我的一个 JSON 结构的示例：

```
//MultiChoiceQuestion
{
    "title": "How are you?",
    "valid_answers" : [
        {
            "_id" : ObjectID(xxxx),
            "title": "Great",
            "isCorrect": true,
        },
        {
            "_id" : ObjectID(yyyy),
            "title": "OK",
            "isCorrect": false,
        },
        {
            "_id" : ObjectID(zzzz),
            "title": "Bad",
            "isCorrect": false,
        }
    ],
    "user_responses" : [
        {
            "user": ObjectID(aaaa),
            "answer": ObjectID(xxxx)
        },
        {
            "user": ObjectID(bbbb),
            "answer": ObjectID(xxxx)
        },
        {
            "user": ObjectID(cccc),
            "answer": ObjectID(yyyy)
        }
    ]
}

//User
{
    "_id": ObjectID(aaaa),
    "name": "Person A"
}
//User
{
    "_id": ObjectID(bbbb),
    "name": "Person B"
}
//User
{
    "_id": ObjectID(cccc),
    "name": "Person C"
} 
```

这可能是一个可能的图表： ![可能的图表？](../Images/8debc113e8c8f62b9cb5fcdc70dfe9cd.png)

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-07-04T15:16:26.570

我们发现类图实际上是表示 mongo 模式设计的最佳方式之一。

它可以捕获文档将包含的大部分项目，例如数组、嵌入对象甚至引用。

我们用来将概念与 uml 相关联的一般准则

**嵌入**= 组合聚合

**参考**= 关联类

如果您不熟悉 uml 术语，那么这是一个不错的介绍。

[来自 IBM 站点的 UML 介绍](http://www.ibm.com/developerworks/rational/library/content/RationalEdge/sep04/bell/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-01-01T06:42:35.977

有一个为 MongoDb 做图表的工具，叫做[DbSchema](http://www.dbschema.com)。它通过扫描数据库中的数据来发现模式。我还建议尝试他们的两个功能：

*   虚拟关系允许同时探索来自不同集合的数据。不同集合之间的一种 JOIN。
*   HTML 文档，我们也在演示文稿中使用它 - 评论在鼠标悬停中（图表保存为矢量图像）。

# python - Django视图“列表索引超出范围”，循环在奇怪的地方终止

> ID：11323845
> 
> 赞同：0
> 
> 时间：2012-07-04T06:53:02.970
> 
> 标签：python, django

我正在尝试遍历 3 个相关的模型集，但它一直以“列表索引超出范围”错误而终止。但是，它是在一个非常奇怪的地方发生的。
例如，在下面的代码段中，如果 num1 为 2，num2 为 4，num3 为 3，它将正确地循环一次外层 for 循环，然后在外层循环的第二次迭代中，它只会循环第一次内部for循环两次，然后终止。

```
num1 = Model1.objects.all().length()
num2 = Model2.objects.all().length()
num3 = numFromDatabase
FormSet1 = modelformset_factory(Model1, extra=num1, max_num=num1)
FormSet2 = modelformset_factory(Model2, extra=(num1*num2), max_num=(num1*num2))
FormSet2 = modelformset_factory(Model3, extra=(num1*num3), max_num=(num1*num3))
context = RequestContext(request)
if request.method == "POST":
    forms1 = FormSet1(request.POST)
    forms2 = FormSet2(request.POST)
    forms3 = FormSet3(request.POST)
    if forms1.is_valid() and forms2.is_valid() and forms3.is_valid():
        counter = 0
        objects1 = forms1.save(commit=False)
        for object1 in objects1:
            object1.attrib = stuffFromDatabase
            object1.save()
            for i, object4 in enumerate(Model4.objects.all()):
                ***object2 = forms2.__getitem__(counter * num2 + i).save(commit=False)***
                object2.attrib = stuffFromDatabase
                object2.related1 = object1
                object2.related4 = object4
                object2.save()
            for i in range(num3):
                object3 = forms3.__getitem__(counter * num3 + i).save(commit=False)
                object3.attrib = i
                object3.related1 = object1
                object3.save()
            counter += 1
        return HttpResponseRedirect('')
else:
        forms1 = FormSet1()
        forms2 = FormSet2()
        forms3 = FormSet3()
    return render_to_response('path/to/page.html', {'forms1': forms1, 'forms2': forms2, 'forms3': forms3}, context_instance=context) 
```

我试图弄清楚我是否传递了错误的数字，但据我所知，我没有。我真的不知道是什么导致它停在那里，因为在页面上，它显示了正确数量的表单。（再次使用上述数字，forms1 的长度为 2 个表单，forms2 的长度为 8 个表单，forms3 的长度为 6 个表单。）

任何帮助将不胜感激。谢谢你。

编辑：这是回溯。我还标记了中断的行，就在第一个内部 for 循环内。

```
File "/Library/Python/2.7/site-packages/django/core/handlers/base.py" in get_response
  111\.                         response = callback(request, *callback_args, **callback_kwargs)
File "/path/to/views.py" in hardwaremktg
  263\.                  object2 = forms2.__getitem__(counter * num2 + i).save(commit=False)
File "/Library/Python/2.7/site-packages/django/forms/formsets.py" in __getitem__
  61\.         return self.forms[index]

Exception Type: IndexError at /my/view/
Exception Value: list index out of range 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T02:08:42.277

好吧，我想通了。事实证明 POST 数据包含重复字段，因为我没有在表单集上添加前缀。这些是更改的行：

```
...
forms1 = FormSet1(request.POST, prefix='prefix1')
forms2 = FormSet2(request.POST, prefix='prefix2')
forms3 = FormSet3(request.POST, prefix='prefix3)
...
forms1 = FormSet1(prefix='prefix1')
forms2 = FormSet2(prefix='prefix2')
forms3 = FormSet3(prefix='prefix3') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T08:37:42.070

当您考虑每个循环内的值时，这一点应该很清楚。

假设您的数据库中有 4 个 Model4 对象。第一次通过外循环，它将遍历内循环4次。对于 i=0->3的值`counter * num2 + i`将是 (1 * 4 + i)，即 4、5、6 和 7。现在，在第一次通过外循环结束时，您递增`counter`，因此计算为现在 (2 * 4 + i) - 即 8、9、10、11：哎呀，你只有 8 个表格`forms2`。

（请注意，您可以通过在循环中简单地插入打印语句来发现自己。）

看来您应该重新考虑其中的一些逻辑。不仅存在该错误，而且效率也非常低：您每次都在不必要地通过循环查询 Model4。另外，请参阅我关于`__getitem__`显式访问的评论。

# java - 为什么 SynchronizedList 的 listIterator 需要用户外部同步？

> ID：11323846
> 
> 赞同：1
> 
> 时间：2012-07-04T06:53:03.617
> 
> 标签：java, multithreading, synchronization, java.util.concurrent

请参考以下java源代码：

```
static class SynchronizedList<E>
extends SynchronizedCollection<E>
implements List<E> {

final List<E> list;

public boolean equals(Object o) {
    synchronized (mutex) {return list.equals(o);}
}
public int hashCode() {
    synchronized (mutex) {return list.hashCode();}
}

public ListIterator<E> listIterator() {
    return list.listIterator(); //Must be manually synched by user
} 
```

我的问题是为什么 listIterator() 不像 hashcode() 和 equals() 方法那样受到互斥锁的保护？为什么他们设计它需要用户进行外部同步？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T07:56:36.460

如果您建议：

```
public ListIterator<E> listIterator() {
    synchronized(mutex) { return list.listIterator(); }
} 
```

那不会有太大帮助。

您将同步迭代器本身的*创建*，这可能有助于解决一些问题。但是您不会同步迭代器的**使用**。在您持有迭代器时仍然可以对列表进行更改 - 实现取决于 - 甚至可能导致它失败，因为列表可能暂时处于无效的内部状态。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-04T08:35:11.160

ListIterator 的主要用途不是获取它，而是实际上迭代它以访问列表中的各个元素。这是一个有状态的操作，完全由客户端而不是类完成`SynchronizedList`。另一方面，方法`equals()`和`hashCode()`完全在内部计算，`SynchronizedList`不需要客户端做太多期望获取返回值。正如 user1252434 指出的那样，同步**获取迭代器的方法并没有多大帮助。**

ListIterator 是一个典型的例子，它使用客户端锁定作为一种策略来确保在原始类无法提供同步时确保同步。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T07:25:27.140

可能有两个可能的原因。

我们有三种不同的`List`接口实现。一个是`Vector`，另外两个是`ArrayList`和`LinkedList`。

一个原因是如果我们正在处理，`Vectors`那么绝对`synchronization`不需要，`Vector`因为它已经是线程安全的，但是如果我们正在使用`ArrayList`，`LinkedList`那么我们需要同步这些列表

另一个原因是我们可以`SynchronizedList` 在应用程序中使用类，`Single-Threaded`如果他们会这样做`listIterator()`，那么即使在环境中`Synchronized`，这也是不必要的性能损失。`thread-safety``single-threaded`

# bash - $做什么？和 $# 在 Shell Script 中代表？

> ID：11323847
> 
> 赞同：2
> 
> 时间：2012-07-04T06:53:05.410
> 
> 标签：bash, shell, posix

我有以下两块代码，我不太确定 $? 和 $# 代表。请帮忙。

**代码一**

```
 #!/bin/bashUSERID="$1" 
 /bin/id $USERID 2>/dev/null
[ $? -eq 0 ] && echo "User found" || echo "User not found"

/bin/id -g $USERID 2>/dev/null
[ $? -eq 0 ] && echo "Group found" || echo "Group not found"    `

$ cat > mtable 
```

**代码二**

```
#!/bin/sh
#
#Script to test for loop
#
#
if [ $# -eq 0 ]
then
echo "Error - Number missing form command line argument"
echo "Syntax : $0 number"
echo "Use to print multiplication table for given number"
exit 1
fi
n=$1
for i in 1 2 3 4 5 6 7 8 9 10
do
echo "$n * $i = `expr $i \* $n`"
done 
```

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-04T06:55:47.953

`$?`为您提供上一个执行命令的返回码。

`$#`给你给脚本的命令行参数的数量。

所以，基本上，如果条件检查给定的参数数量是否正确。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-04T06:55:04.143

查看手册页`bash`：

> $# 扩展为十进制的位置参数个数
> 
> 美元？扩展到最近执行的前台管道的状态。

# javascript - Phonegap.js 没有被第二次调用

> ID：11323851
> 
> 赞同：0
> 
> 时间：2012-07-04T06:53:11.777
> 
> 标签：javascript, html, windows-phone-7, cordova

我正在使用 Phonegap 创建一个 WP7.1 应用程序。我有一个 html 页面，我在其中添加了许多 javascripts 以及 phonegap.js。第一次加载页面时，一切正常。但是当我返回并再次返回同一页面时，不会调用设备就绪。我也不能在其他js中调用其他函数。

为什么会这样？某些js中是否发生了一些错误。我怎样才能跟踪它？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:08:20.363

调试 Phonegap 可能非常具有挑战性，因为它经常会默默地失败。因为您的脚本似乎是第一次运行，所以它可能不是导致问题的简单语法错误。尝试在带有 JS 调试控制台的桌面浏览器上运行脚本，您可能会在那里看到一些错误消息。尽管 Phonegap 本身可能无法运行，但保持与桌面浏览器的兼容性层通常不会太难，这将帮助您发现简单的错误。

您还可以查看使用远程 Weinre 调试器。这为您的开发设备提供了一个调试控制台，它可能会显示开发环境本身没有的错误消息。尝试：-

[http://debug.phonegap.com/](http://debug.phonegap.com/)

您声明您包含Phonegap.js，大概您使用的是当前版本，例如Phonegap 1.9.0？

# android - phonegap android 应用程序名称出现在启动屏幕之前

> ID：11323857
> 
> 赞同：10
> 
> 时间：2012-07-04T06:53:50.590
> 
> 标签：android, cordova

这是我第一次尝试使用 phonegap 1.9.0 创建一个简单的 android 应用程序。

我面临的问题是，当我启动我的应用程序（使用模拟器和我的安卓手机）时，它会在进入我设置的启动屏幕之前显示应用程序名称和图标。它看起来像这样：http: [//imgur.com/iZ1i3](https://imgur.com/iZ1i3)

如何让它首先显示启动画面？也就是说，如何让它不显示应用程序名称？我根本不希望它显示出来。

我不确定你们需要什么，所以这里有一些我有的东西，希望它足够了：

**androidManifest.xml：**

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
          package="com.googlemap.map"
          android:versionCode="1"  
          android:versionName="1.0">

    <uses-sdk android:minSdkVersion="14" android:targetSdkVersion="15" />
    <supports-screens 
          android:largeScreens="true" 
          android:normalScreens="true" 
          android:smallScreens="true" 
          android:resizeable="true" 
          android:anyDensity="true" />

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />

    <application android:label="@string/app_name"
        android:icon="@drawable/ic_launcher"
        android:theme="@style/AppTheme"
        android:hardwareAccelerated="true">

        <activity android:label="@string/app_name"
            android:name=".GoogleMap"
            android:configChanges="orientation|keyboardHidden"
            android:multiprocess="true">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>
</manifest> 
```

**谷歌地图.java：**

```
package com.googlemap.map;

import android.app.Activity;
import android.os.Bundle;
import org.apache.cordova.*;

public class GoogleMap extends DroidGap {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        super.setIntegerProperty("splashscreen", R.drawable.splash);
        super.loadUrl("file:///android_asset/www/index.html", 10000);
    }
} 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-07-04T07:03:15.783

尝试在 AndroidManfiest 中使用它：

```
android:theme="@android:style/Theme.NoTitleBar" 
```

# php - 通过浏览器使用php访问DBus

> ID：11323859
> 
> 赞同：1
> 
> 时间：2012-07-04T06:53:55.590
> 
> 标签：php, browser, dbus

我编写了一小部分 php 代码，可以通过命令行访问 DBus。但是当我从浏览器运行 php 代码时，dbus 部分不起作用。

我是否必须做一些事情才能从浏览器访问 DBus？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T07:32:06.840

通过 Web 服务器调用时，PHP 不一定使用相同的用户，因此与通过命令行调用时相比具有相同的权限。

尝试在浏览器中运行以下脚本，然后通过命令行：

```
<?php echo exec('whoami'); ?> 
```

当您通过浏览器运行它时，这可能会输出例如*apache ，当您通过 CLI 运行它时可能会输出**myusername*。

因此，您需要更改您的网络服务器正在运行的用户的权限，以允许它运行 DBus 命令。你如何做到这一点将取决于你的操作系统。

另请参阅此问题以获取更多提示： [Running command-line application from PHP as specific user](https://stackoverflow.com/questions/6913403/running-command-line-application-from-php-as-specific-user)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-07T11:51:39.300

在 Web 服务器（如 Apache）上执行的 PHP 根本无法执行 D-Bus 请求。我尝试了几天没有成功。这是因为 Web 服务器用户（如`www-data`）无法`dbus-daemon`通过连接访问`session`。

作为一种解决方法，我使用[React](http://reactphp.org/)内置的[HTTP 服务器](https://github.com/reactphp/http)作为代理。

# android - 来电和去电时如何停止在android WebView中播放音乐？

> ID：11323860
> 
> 赞同：1
> 
> 时间：2012-07-04T06:53:57.400
> 
> 标签：android

请帮忙告诉我如何在收到来电和去电时停止在 WebView 中播放音乐？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T07:00:02.493

也许在通话期间暂停 WebView 所在的线程？我想这会停止声音。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T07:10:18.310

您需要使用电话状态监听器，并且在来电时，您可以使用`Yourwebview.stopLoading()` 方法停止播放音乐。

试试看 ...

# javascript - JavaScript 调整 iframe 的大小，但 iframe 中的元素具有相对大小

> ID：11323863
> 
> 赞同：0
> 
> 时间：2012-07-04T06:54:05.647
> 
> 标签：javascript, html

我有一个 iframe，其中包含一个宽度 =“100%”的表格。我有一个用于该 iframe 的 onLoad 事件的 JavaScript 事件处理程序，它调整 iframe 的大小以使其宽度等于 iframe 的 scrollWidth。问题是，由于 iframe 内表格的宽度是基于 iframe 的大小，而 iframe 的宽度是基于表格的大小，所以无论表格中的内容如何，​​iframe 的大小都只能增加！

以前有没有其他人遇到过这种情况？有谁知道如何在不给表格固定宽度的情况下阻止这种情况的发生？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T07:00:00.947

不确定您的表格包含什么样的数据，但如果您将表格单元格样式设置为 white-space:nowrap 那么表格将无法包装单元格内容，而是强制 iframe 滚动

# google-apps-script - 如何使用 Google Apps 脚本规范化 Google 协作平台页面名称？

> ID：11323865
> 
> 赞同：0
> 
> 时间：2012-07-04T06:54:13.367
> 
> 标签：google-apps-script, google-sites

Java 和 Python 的 Google Apps Platform 协议指南描述了使用以下（不完整）规则*将页面标题标准化为路径：

> 规范化是将空格修剪 + 折叠为“-”并删除与 az、AZ、0-9、-、_ 不匹配的字符。

我找不到 Google Apps 脚本的此类文档，而且我无法找到实现此目的的辅助函数 - 最好采用与 Google 协作平台 UI 相同的方式。

我的第一次尝试 - 我知道它不完整（它不处理 Google 协作平台 UI 如何处理字符串的开头和结尾）如下所示：

```
str.trim().replace(/\s+/g, '-').replace(/[^a-z0-9_-]/ig, '-').toLowerCase(); 
```

我使用它的上下文是我有一个页面标题列表，我正在尝试确定该页面是否已存在于站点中。不幸的是，我不能使用文本表示来检查。

例如，使用 Google 协作平台“创建新页面 UI”，名为“004.Policy Deployment (Hoshin Kanri)”的页面将具有路径“004-policy-deployment-hoshin-kanri”。

在使用中，我正在尝试检查页面是否存在，如果存在，则执行某些操作，如果不存在则执行其他操作，如下所示：

```
if (mySite.getChildByName(myNewPagePath) != null) {
  // do something for pages that exist
} else {
  // do something for pages that don't exist
} 
```

* [https://developers.google.com/google-apps/sites/docs/1.0/developers_guide_protocol](https://developers.google.com/google-apps/sites/docs/1.0/developers_guide_protocol)

问题：

1.  是否存在标准化页面标题的现有辅助函数？
2.  有没有更好的方法来检查页面是否已经存在？
3.  有没有办法可以通过最终用户标题而不是路径来检查页面是否存在？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T15:45:17.750

您可以尝试使用 search() 方法，传入未规范化的标题，然后检查结果以查看是否有任何页面具有预期的标题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T17:14:28.127

您可以获取子列表并遍历标题。否则，虽然您的正则表达式对我来说看起来不错，但没有执行此操作的现有函数。

# visual-studio - 为什么 TFS“删除映射”会删除我的文件？

> ID：11323867
> 
> 赞同：18
> 
> 时间：2012-07-04T06:54:16.760
> 
> 标签：visual-studio, tfs

我想在不同的文件夹中检出旧版本的项目，因为我不想打扰我修改过的本地内容，所以我想我只是删除映射并将其映射到另一个文件夹，然后再将其映射回来。

我震惊地看到它开始删除我的文件！！！我赶紧点击取消。幸运的是，它似乎没有删除我修改过的本地文件。

我该怎么做这样的事情？

这发生在 Visual Studio 2010 的 Team Foundation Server 上，但我确信它适用于所有版本。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-04T07:18:08.350

这样做是因为 TFS 没用。但是，您可以使用“TF.exe”命令行来绕过 UI 的一些限制。

TF.exe 命令应位于以下内容下，因此可能值得将此目录添加到您的路径中。

> C:\Program Files (x86)\Microsoft Visual Studio 9.0\Common7\IDE\tf.exe

然后，您可以在驱动器上选择一个合适的位置，创建一个新的工作区，然后获取特定版本（或只是最新版本）的代码

```
C:\my_temp_location> tf.exe workspace /new <workspace_name> /collection:<server_location>
C:\my_temp_location> tf.exe get <source_location> /version:<changeset> /recursive 
```

如果您想查看当前拥有的工作区列表，则只需运行以下命令：

```
C:\> tf.exe workspaces 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-04T09:24:06.610

在不生成任何新工作空间的情况下，做你所追求的一个简单的方法是：

*   将待处理的更改[搁置到新搁置集中](http://msdn.microsoft.com/en-us/library/ms181404%28v=vs.100%29.aspx)
*   获取您正在寻找的特定版本并进行任何评论
*   完成后获取最新信息
*   取消搁置您之前搁置的更改

# css - 如何使用背景图像和悬停

> ID：11323869
> 
> 赞同：0
> 
> 时间：2012-07-04T06:54:19.127
> 
> 标签：css

我有以下内容：

```
table.inactiveTable thead {
    background: #efe;
    background: -moz-linear-gradient(top,#efe,#ded);
    background: -webkit-gradient(linear,0% 0,0% 100%,from(#efe),to(#ded));
    filter: progid:DXImageTransform.Microsoft.gradient(gradientType=0,startColorstr=#efe,endColorstr=#ded);
    height: 40px;
}

table.inactiveTable th:hover {
    background: -moz-linear-gradient(top,#efe,#F8FFB5);
    background: -webkit-gradient(linear,0% 0,0% 100%,from(#efe),to(#F8FFB5));
    filter: progid:DXImageTransform.Microsoft.gradient(gradientType=0,startColorstr=#efe,endColorstr=#F8FFB5);
    cursor : pointer;
} 
```

然后，在运行时我`asc`为该元素添加类，样式如下：

```
.asc, .asc:hover{
    background-image: url(arrow_up.png);
    background-repeat: no-repeat;
    background-position : left;
} 
```

它有效 - 我的意思是背景中有正确的图像。但它在悬停事件上消失了 -`th:hover`有效。

我的意思是：这是我添加`asc`类时看到的：

![在此处输入图像描述](../Images/c8c777fb6b54e62237e86e675ea2825c.png)

这就是我喜欢这个元素时得到的：

![在此处输入图像描述](../Images/358747194950e6b5fea9af4307ed9be1.png)

我怎样才能让它们一起工作 - 我的意思是让 inage 在改变渐变颜色的同时保持不变？

我的目标是能够在单击事件上为特定（表格列标题）元素添加背景图像，但不要在悬停时松开此图像。

**添加：**

html:

```
<table id='leads' class='inactiveTable'>
    <thead>
        <tr>
            <th rowspan='2' onclick="sorter.sort(this, 'unumber')">id</th>
            <th rowspan='2' onclick="sorter.sort(this, 'bccu')">bccu</th>
... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:03:01.157

添加-

```
.inactiveTable th.asc, .inactiveTable th.asc:hover{
    background: url(arrow_up.png) no-repeat left top;
} 
```

它会工作

# windows - 使用通配符查找零字节文件并检查主 BATCH 文件是否已打开

> ID：11323870
> 
> 赞同：3
> 
> 时间：2012-07-04T06:54:24.383
> 
> 标签：windows, batch-file

如果存在扩展名为 *.ff0 的零字节文件，我需要在特定文件夹中查找。以下脚本不起作用，因为我总是收到消息“文件非空”。怎么了？

```
@echo off
set out="C:\test_files\*.ff0"

if "%out%" == "" ( 
  echo File does not exist.
) else if "%out%" == "0" (
   echo File is empty.
) else (
   echo File is non-empty.
) 
```

第二个问题是我的批处理文件稍后将位于 Intranet 文件夹中的某个位置，这意味着其他人可能也可以访问。
因此，完整的代码应该是什么才能执行以下操作：

1-识别是否有文件的打开实例。
2-如果有，警告用户有人已经在使用它，一旦它关闭，其他用户可能会打开它

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T15:01:30.220

最好这样做：

```
@echo off
for %%a in (c:\test_files\*.ff0) do (
  if %%~za equ 0 (
    echo %%~na is empty
  ) else (
    echo %%~na is not empty
  )
) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-04T09:50:25.610

这将完成您问题的第一部分。这将遍历`.ff0`文件夹中的所有文件，并且每个文件都会告诉您它是否为空。只需在命令下方替换或添加`echo Empty`即可对文件执行您想要执行的操作。

```
@echo off
setlocal enabledelayedexpansion
for /r C:\test_files %%i in (*.ff0) do (
set size=%%~zi
if !size! gtr 0 (
echo Not empty
) else (
echo Empty!
)
)
pause >nul 
```

关于检查文件是否打开，我认为您不能批量执行此操作。除了尝试捕获错误之外，我什至认为在其他适当的编程语言中没有可靠的方法来做到这一点。

希望这可以帮助。

# unity3d - Unity3D Webplayer：如何知道我在哪里加载

> ID：11323872
> 
> 赞同：1
> 
> 时间：2012-07-04T06:54:26.013
> 
> 标签：unity3d

我想知道**从 unity3D 客户端**加载的 unity3D webplayer 在哪个网站。

出于安全原因，我不想使用 Javascript 来做这件事。

任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T10:55:38.303

你试过[Application.absoluteURL](http://docs.unity3d.com/Documentation/ScriptReference/Application-absoluteURL.html)吗？

# python - django cms 中与 views.py 文件相关的查询

> ID：11323875
> 
> 赞同：0
> 
> 时间：2012-07-04T06:54:43.183
> 
> 标签：python, linux, django-views, ubuntu-10.04, django-urls

这是我的views.py 文件代码（在我的django 应用程序“搜索”中）：

```
#!/usr/bin/python 

from dango.http import HttpResponse
from skey import find_root_tags, count, sorting_list
from search.models Keywords

def front_page(request):

    if request.method == 'POST' :
        str1 = request.POST['word']
        fo = open("xml.txt","r")

        for i in range(count.__len__()):

            file = fo.readline()
            file = file.rstrip('\n')
            find_root_tags(file,str1,i)

            list.append((file,count[i]))

        sorting_list(list)

        for name, count in list:
            s = Keywords(file_name=name,frequency_count=count)
            s.save()

            fo.close()
        return HttpResponseRedirect('/results/')

    else :
        str1 = ''
        list = []
        template = loader.get_tamplate('search/search.html')
        response = template.render()
        return HttpResponse(response)

def results(request):

    list1 = Keywords.objects.all()
    t = loader.get_template('search/results.html')
    c = Context({'list1':list1,
    })

    return HttpResponse(t.render(c)) 
```

1）我想知道，因为我在views.py中导入'skey'文件，所以我需要在搜索应用程序目录中保留这个'skey.py'，'xml.txt'和10个xml文档吗？

2）由于我在发布后重定向到“结果”视图，所以，我如何在 urls.py 中提及它，即在 "urlpatterns" 中。

3）那么我需要在“def front_page（request）：”中提及“上下文”吗？如果没有它，这个视图定义是否可以正常工作，因为根据我的说法，我们不必在每个def中使用上下文的意见。

Django对我来说是新手，我没有任何动手经验。所以，

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:04:05.017

1.  将 'skey' 保存在同一个应用程序目录中。将 xml 文档保存在 app 目录下虽然不好但可以接受，更好的选择是将它们放在`"/var/www/your-site/xml-data"`/之类的位置`"d:/your-site/xml-docs/"`并通过绝对路径访问它们

2.  看下面的代码

    ```
     from django.conf.urls import patterns, include, url    
    from django.contrib import admin
    admin.autodiscover()    
    urlpatterns = patterns('',
        url(r'^search/$','search.views.front_page'),
        url(r'^results/$','search.views.results'),
        url(r'^admin/', include(admin.site.urls)),
    ) 
    ```

3.  正常使用是这样的：（get_template和render会自动调用）

    ```
    from django.shortcuts import render_to_response as rr

    def home(req):   
        # do some work here
        return rr('your template file',
            { ... }, # your parameters
            context_instance = RequestContext(req)) 
    ```

# javascript - 将所有表单元素放入一个数组

> ID：11323878
> 
> 赞同：0
> 
> 时间：2012-07-04T06:54:52.527
> 
> 标签：javascript

我有一个表单标签，用户可以通过单击他们希望在该表单中的元素来动态创建表单。通过单击将元素附加到表单标签内。

这是被调用的函数。

```
function add_element(element)
{
    var startdiv = "<div class='form_content_middle_box' id = 'div"+i+"' onclick='javascript:edit(\""+element+"\",\""+i+"\");'> <a href='javascript:void(0);' onclick='javascript:remove("+i+");'>Delete</a></br>";
    var enddiv = "</div>";

    switch(element)
    {
        case 'textbox' :
            $('#myform_container').append(startdiv + "<label id='label"+i+"'>Untitled Textbox</label><p id='paragraph"+i+"'><input type = 'text' id='"+i+"'/></p>" + enddiv);
            form_elements.push(element);
            //alert(form_elements);
        break;
        case 'number' :
            $('#myform_container').append(startdiv + "<label id='label"+i+"'>Untitled Textbox</label><p id='paragraph"+i+"'><input type = 'number' id='"+i+"'/></p>" + enddiv);
            form_elements.push(element);            
        break;
        case 'textarea' :
            $('#myform_container').append(startdiv + "<label id='label"+i+"'>Untitled Textarea</label><p id='paragraph"+i+"'><textarea id='"+i+"'></textarea></p>" + enddiv);
            form_elements.push(element); 
           // alert(form_elements);
        break;
        case 'checkbox' :
            $('#myform_container').append(startdiv + "<label id='label"+i+"'>Untitled Checkbox</label><p id='paragraph"+i+"'><input type = 'checkbox' id='"+i+"' /></p>" + enddiv);
            form_elements.push(element);
        break;
        case 'radio' :
            $('#myform_container').append(startdiv + "<label id='label"+i+"'>Untitled MultipleChoice</label><p id='paragraph"+i+"'><input type = 'radio' id='"+i+"'/></p>" + enddiv);
            form_elements.push(element);
        break;
        case 'dropdown' :
            $('#myform_container').append(startdiv + "<label id='label"+i+"'>Untitled SelectBox</label><p id='paragraph"+i+"'><select id='"+i+"'><option></option></select></p>" + enddiv);
            form_elements.push(element);
        break;

        default:
        break;
    }

    i++;
} 
```

创建表单后，用户将单击保存，我需要保存该表单，我想知道一种获取用户附加的所有元素和值的方法。一种保存表单的方法以及所有数组中的元素或其他东西

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T07:02:05.487

我看到了您的 java 脚本函数，并且我知道您也在使用表单。
通过这样做，您的表单数据将被传递给 servlet 或 RESTful Web 服务

```
<form name="f" action="rest/myMethod" method="post">
    ... //your form contents
</form> 
```

在您的*myMethod*中，您可以拥有所有这些信息并将它们存储在 array/file/db ...

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-04T07:04:12.560

尝试

```
var myElements=$('#myformID').find('input, textarea, button, select') 
```

该变量`myElement`将被转换为一个数组，并将包含表单中的所有元素。

遍历变量`myElements[index]`将给出表单元素， `myElements[index].value`并将给出表单元素值

# php - 如何检查类别是否是父类别

> ID：11323887
> 
> 赞同：2
> 
> 时间：2012-07-04T06:55:14.950
> 
> 标签：php, wordpress

我怎么可能做到这一点？另外我怎样才能显示它的子类别？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-04T07:02:32.383

检查这个

```
<?php $this_category = get_category($cat); ?>
<!-- If category is parent, list it -->
<?php if ($this_category->category_parent == 0) { ?>

<?php } else { ?>
<!-- If category is not parent, list parent category -->
<?php $parent_category = get_category($this_category->category_parent); ?>

<?php } ?> 
```

# visual-studio-2010 - Web 部署 - 将 root 部署配置为默认值

> ID：11323892
> 
> 赞同：7
> 
> 时间：2012-07-04T06:55:34.150
> 
> 标签：visual-studio-2010, iis-7, webdeploy

我正在设置一个来自 VS 2010 的 Web 部署包，它将以 .zip 格式发送到客户端并使用 GUI（而不是生成的批处理文件）运行。

**我遇到的问题是我还没有弄清楚如何将网站*默认***部署为“根”网站，因为到目前为止所有的包工作都包括一个虚拟目录默认值。

在 IIS7/7.5 中：

*   我可以警告它提交到根网站（如[本问题](https://stackoverflow.com/questions/9549139/publishing-an-iis-web-application-to-a-website-root)所述）。这仍然需要服务器管理员手动删除文本。
    *   （虽然我不介意禁用警告......）
*   从 VS 2010 生成的输出不适合服务器根目录中的*“导入服务器或站点包”*选项，理由是它不能包含应用程序
    *   在目标环境中，我最好不要预先填充应用程序池服务帐户的值等业务。

在 Visual Studio 2010 中，*打包/发布 Web*设置中的*“IIS 网站/应用程序”*字段：

 **   它不允许空白条目，默认为**Default Web Site/(Project)_deploy**
*   将其设置为**WebsiteName/**不会在另一端出现

我注意到在部署 .zip 文件之外的*(ProjectName).SetParameters.xml*文件中，如果包含正确的设置（从命令行运行时有效）

```
<setParameter name="IIS Web Application Name" value="WebsiteName/" /> 
```

在 IIS GUI 中安装时，有关如何将其默认设置为根网站的任何建议？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-06-16T18:37:48.400

我知道这是一个老问题，但我在自己解决同样的问题时发现了它，如果它可以帮助其他人，我想分享我的解决方案。

以下内容已使用安装在 Windows 7 上的 Visual Studio 2013 和 Web Deploy 3.5 进行了测试。

要在 IIS 上使用 Deploy|Import 应用程序时使“应用程序路径”为空白，请将**DeployIisAppPath 设置为斜杠**而不是空白。该参数可以添加到用于部署的“PublishProfiles”中的 .pubxml 文件中**。**

```
<DeployIisAppPath>/</DeployIisAppPath> 
```

这将在导入包时使该字段的默认值空白（见截图）： ![导入应用包截图](../Images/8cf2974220ba4fab02a9e3a131854dcb.png)

我还没有设法摆脱那个烦人的警告信息。*

# c# - 如何使用没有分组的多列实现 LINQ SUM

> ID：11323893
> 
> 赞同：0
> 
> 时间：2012-07-04T06:55:47.947
> 
> 标签：c#, .net, linq, sum

我正在正确获取数据。但我想获得 TotalRuns 即如果在 SQL Query 中，我可以将其写为 `(SUM(pts.Run1)+SUM(pts.Run2)+SUM(pts.Run3)+SUM(pts.Run4)+Sum(pts.Run6)) As totalRuns` 如何在 LINQ 中实现这一点？

我试过[这个](https://stackoverflow.com/questions/1285710/linq-to-sql-join-and-sum)，但它给出了一个语法错误。

这是我的 LINQ 查询。

```
 var playerScore = from pts in Oritia_entities.PlayerTeamSeasons
          join p in Oritia_entities.Players on new { ID = pts.PlayerId } 
    equals new { ID = p.ID }
           join c in Oritia_entities.Crews on new { ID = p.CrewId } 
    equals new { ID = c.ID }
           join f in Oritia_entities.Fixtures on new { ID = pts.FixtureId } 
equals new { ID = f.Id }
          where c.ID == playerID && pts.SeasonId == seasonID
            select new PlayerScore
                                              {
                                                  BallsFaced = (int)pts.BallsFaced,
                                                  Run1 = (int)pts.Run1,
                                                  Run2 = (int)pts.Run2,
                                                  Run3 = (int)pts.Run3,
                                                  Run4 = (int)pts.Run4,
                                                  Run6 = (int)pts.Run6,

                                                  BallsBowled = (int)pts.BallsBowled,
                                                  RunsGiven = (int)pts.RunsGiven,
                                                  Wickets = (int)pts.Wickets,
                                                  Catches = (int)pts.Catches,
                                                  Dot = (int)pts.Dot,
                                                  NoBall = (int)pts.NoBall,
                                                  RunOutBy = (int)pts.RunOutBy,
                                               //   Match = (t1.T + " v/s " + f.Team2)

                                              }; 
```

我正在使用.Net 4.0

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T07:10:33.567

如果您只想为每一行计算总运行次数，那么您可以这样做

```
{
    BallsFaced = (int)pts.BallsFaced,
    Run1 = (int)pts.Run1,
    Run2 = (int)pts.Run2,
    Run3 = (int)pts.Run3,
    Run4 = (int)pts.Run4,
    Run6 = (int)pts.Run6,
    TotalRuns = (int)pts.Run1 + (int)pts.Run2 + (int)pts.Run3 ...,
    BallsBowled = (int)pts.BallsBowled,
    RunsGiven = (int)pts.RunsGiven,
    Wickets = (int)pts.Wickets,
    Catches = (int)pts.Catches,
    Dot = (int)pts.Dot,
    NoBall = (int)pts.NoBall,
    RunOutBy = (int)pts.RunOutBy,
    //   Match = (t1.T + " v/s " + f.Team2)
}; 
```

如果您想要所有行的总运行次数，在查询之后您可以执行以下操作：

```
var sum = playerScore.Select(x=>x.TotalRuns).Sum(); 
```

或者，如果您没有 TotalRuns 作为字段，只需将每行的添加移至lamba：

```
var sum = playerScore.Select(x=>x.Run1 + Run2 + Run3 ...).Sum(); 
```

# oracle - 如何在 oracle 中将 datetime 值增加为 30 分钟？

> ID：11323896
> 
> 赞同：0
> 
> 时间：2012-07-04T06:55:54.467
> 
> 标签：oracle, oracle10g, oracle11g

如何在 oracle 中将 datetime 值增加为 30 分钟？在 mssql 中，我使用以下查询来解决我的问题，我需要 oracle 中的等效查询

```
 with mycte as(
       select cast('2012-01-01 00:00:00' as datetime) DateValue union all 
       select dateadd(minute,30,DateValue) from mycte where  dateadd(minute,30,DateValue) <= '2012-01-01 23:59:00')
 select DateValue from  mycte option (maxrecursion 32767); 
```

上述查询的结果如下：

```
DateValue
2012-01-01 00:00:00.000
2012-01-01 00:30:00.000
2012-01-01 01:00:00.000
2012-01-01 01:30:00.000
2012-01-01 02:00:00.000
2012-01-01 02:30:00.000
2012-01-01 03:00:00.000
2012-01-01 03:30:00.000
2012-01-01 04:00:00.000
2012-01-01 04:30:00.000
2012-01-01 05:00:00.000
2012-01-01 05:30:00.000
2012-01-01 06:00:00.000
2012-01-01 06:30:00.000
2012-01-01 07:00:00.000
2012-01-01 07:30:00.000
2012-01-01 08:00:00.000
2012-01-01 08:30:00.000
2012-01-01 09:00:00.000
2012-01-01 09:30:00.000
2012-01-01 10:00:00.000
2012-01-01 10:30:00.000
2012-01-01 11:00:00.000
2012-01-01 11:30:00.000
2012-01-01 12:00:00.000
2012-01-01 12:30:00.000
2012-01-01 13:00:00.000
2012-01-01 13:30:00.000
2012-01-01 14:00:00.000
2012-01-01 14:30:00.000
2012-01-01 15:00:00.000
2012-01-01 15:30:00.000
2012-01-01 16:00:00.000
2012-01-01 16:30:00.000
2012-01-01 17:00:00.000
2012-01-01 17:30:00.000
2012-01-01 18:00:00.000
2012-01-01 18:30:00.000
2012-01-01 19:00:00.000
2012-01-01 19:30:00.000
2012-01-01 20:00:00.000
2012-01-01 20:30:00.000
2012-01-01 21:00:00.000
2012-01-01 21:30:00.000
2012-01-01 22:00:00.000
2012-01-01 22:30:00.000
2012-01-01 23:00:00.000
2012-01-01 23:30:00.000 
```

我需要 oracle 中的等效查询，，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T07:21:39.603

```
with mycte as (
    select timestamp '2012-01-01 00:00:00' + interval '30' minute * level as DateValue 
    from dual 
    connect by level < 48
)
select *
from mycte; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T07:23:36.817

另一种方式可能是

```
select to_date('2012-01-01', 'yyyy-mm-dd') + (level-1)/48 as datetime 
  from dual
connect by level <= 48 
```

# java - 源文件的短路径会使 Java 代码运行得更快吗？

> ID：11323902
> 
> 赞同：0
> 
> 时间：2012-07-04T06:56:19.953
> 
> 标签：java

短路径是否会使 Java 代码运行得更快？例如，“C:\Java\test.java”中的文件会比“C:\Users\Sepala\Documents\NetBeansProjects\BeanSupport\src\ejb\test.java”中的相同文件运行得更快吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-04T06:58:09.117

实用，不会有什么不同。由于非常挑剔，您的文件系统可能会产生影响，但您不会注意到它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-04T06:59:00.840

如果您想对此进行测试，请为自己编写一个 Timer 类。

```
public class Timer
{
    private long mInitialTime;

    public Timer()
    {
        start();
    }

    public void start()
    {
        mInitialTime = System.currentTimeMillis();
    }

    public String end(String description)
    {
        long finalTime = System.currentTimeMillis() - mInitialTime;
        return description + ": total time " + finalTime;
    }
} 
```

在`main()`通话开始时，`start()`然后在`main()`通话结束时`end("completed")`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-04T08:07:37.230

它不是您的一杯茶，只是决定路径并让您的代码达到最高水平。它甚至对你来说并不明显。您要确保文件存在和对其的访问权限。

# c# - c#线程同步

> ID：11323904
> 
> 赞同：0
> 
> 时间：2012-07-04T06:56:41.010
> 
> 标签：c#, multithreading, windows-phone-7

我正在为 wp7 开发一个应用程序。我需要同步读写。所以我创建了这个类

```
public class SynchronizedPacketQueue
{
    [DataMember]
    public List<Packet> packetsQ;

    public SynchronizedPacketQueue()
    {
        packetsQ = new List<Packet>();
    }

    public int Count
    {
        get { return packetsQ.Count; }
        private set{}
    }

    public Packet Dequeue()
    {
        lock (packetsQ)
        {
            if (packetsQ.Count == 0)
            {
                Monitor.Wait(packetsQ);

            }
            Packet packet = packetsQ[0];
            packetsQ.RemoveAt(0);
            return packet;
        }
    }

    public void  Enqueue(Packet packet)
    {
        lock (packetsQ)
        {
            packetsQ.Add(packet);
            Monitor.Pulse(packetsQ);
        }
    }
} 
```

现在我的线程写入队列中的数据包和线程读取队列中的读取。两者都是无限运行的线程。但我不知道如何在 packetQ.removeat(0) 处阻止线程写入。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:05:30.697

我认为您应该创建锁对象并将其用作您的锁

```
public class SynchronizedPacketQueue
   {
      [DataMember]
      public List<Packet> packetsQ;
      private object mylock = new object();

      public SynchronizedPacketQueue()
      {
        packetsQ = new List<Packet>();
      }

    public int Count
    {
        get { return packetsQ.Count; }
        private set{}
    }

    public Packet Dequeue()
    {
        lock (mylock)
        {
            if (packetsQ.Count == 0)
            {
                Monitor.Wait(mylock);

            }
            Packet packet = packetsQ[0];
            packetsQ.RemoveAt(0);
            return packet;
        }
    }

    public void  Enqueue(Packet packet)
    {
        lock (mylock)
        {
            packetsQ.Add(packet);
            Monitor.Pulse(mylock);
        }
    }
} 
```

# android - asynctask 取消 onpostexecute

> ID：11323906
> 
> 赞同：1
> 
> 时间：2012-07-04T06:56:46.667
> 
> 标签：android, android-asynctask

我尝试在“doInBackground”中捕获，如果应用程序在“doInBackground”中执行 catch 方法，我不希望代码运行 onPostExecute。代码如下：

```
public class DownloadFileAsync extends AsyncTask<String, Integer, Void> {
        @Override
        protected void onPreExecute(){
             super.onPreExecute();
     }

    @Override
    protected Void doInBackground(String... aurl) {
        try{
           //some code, jump to onPostexecute after complete
        }
        catch{
            //some code, don't do onPostExecute after complete
        }
        return null;

        }

    @Override
    protected void onProgressUpdate(Integer... progress) {          
    //some code
    }

    @Override
    protected void onPostExecute(Void unused) {
    //some code
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-04T07:08:28.827

您可以尝试使用`cancel(true)`in `doInBackground()`。试试下面的代码：

```
protected Void doInBackground(String... aurl) {
    try{
       //some code, jump to onPostexecute after complete
    }
    catch{
        cancel(true);
    }
    return null;

    } 
```

关于官方说明`cancel()`

> 调用此方法将导致在 doInBackground(Object[]) 返回后在 UI 线程上调用 onCancelled(Object)。调用此方法可确保永远不会调用 onPostExecute(Object)。调用此方法后，应定期从 doInBackground(Object[]) 中检查 isCancelled() 返回的值，以尽早完成任务。

检查此链接以获取更多详细信息：

[http://developer.android.com/reference/android/os/AsyncTask.html#cancel(boolean](http://developer.android.com/reference/android/os/AsyncTask.html#cancel(boolean) )

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-04T07:00:03.887

从您的AsyncTask 中返回**布尔**数据类型。并检查它的价值你想为成功做什么，`doInBackground()``onPostExecute()`

```
@Override
    protected boolean doInBackground(String... aurl) {
        try{
           //some code, jump to onPostexecute after complete

         return true;
        }
        catch{
            //some code, don't do onPostExecute after complete

        return false;
        }   
      } 
```

和

```
@Override
    protected void onPostExecute(boolean flag) {
    if(flag)
     {
      //some code
     }
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-04T07:01:02.427

您可以在您的布尔变量中`AsyncTask`检查该变量。例如：

```
public class DownloadFileAsync extends AsyncTask<String, Integer, Void> {

 private boolean run_do_in_background = true;

    @Override
    protected void onPreExecute(){
         super.onPreExecute();
 }

@Override
protected Void doInBackground(String... aurl) {
    try{
       //some code, jump to onPostexecute after complete
    }
    catch{
        //some code, don't do onPostExecute after complete
        run_do_in_background = false;
    }
    return null;

    }

@Override
protected void onProgressUpdate(Integer... progress) {     

//some code
}

@Override
protected void onPostExecute(Void unused) {
 if(run_do_in_background) { //only if this is true will excecute the code in doInBackground
//some code
}
}
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-04T07:07:31.477

使用[Pair](http://developer.android.com/reference/android/util/Pair.html)可以返回两个结果

例如，将 ANYTHING 替换为您要返回的类型：

```
public class DownloadFileAsync extends AsyncTask<String, Integer, Pair<Exception, ANYTHING> > {    
    @Override
    protected Pair<Exception, ANYTHING> doInBackground(String... aurl) {
        try{
           return new Pair<Exception, ANYTHING>(null, /* anything can go here */);

        }
        catch (Exception e) {
             return new Pair<Exception, ANYTHING>(e, null);
        }    
    }

    @Override
    protected void onPostExecute(Pair<Exception, ANYTHING> result) {
        // Evaluate the exception here
        if(result.first != null) {
            // an eror occured, do something about it
        }
    }
} 
```

这种方式允许您处理 onPostExecute 中的异常，并在一切正常时从 result.second 获取结果。

# html - 内容重叠

> ID：11323910
> 
> 赞同：0
> 
> 时间：2012-07-04T06:57:11.917
> 
> 标签：html, css

我有一些与其他内容重叠的内容。这是HTML和CSS：

*HTML：*

```
<div class="image_block">
  <a href="#"><img src="src.png" alt="July 4th" usemap="#Map" border="0" /></a>
    <map name="Map" id="Map">
      <area class="declaration " shape="poly" coords="109,255" href="#" />
      <area class="constitution" shape="poly" coords="145,253" href="#" />
    </map>  
</div>
<p style="clear:both;">&nbsp;</p>

<!-- This content is coming over the image -->

<p><a href="/home"><img class="center" style="width:185px;" src="src.png" />
</a></p>
<p>&nbsp;</p>
<div id="copyright"><p>Copyright &copy; 2012</p></div> 
```

*CSS：*

```
.image_block    {
   width: 710px;
   height: 500px;
}

.image_block a  {
  width: 100%;
  text-align: center;
  position: absolute;
  bottom: 0px;
}

.image_block img    { 
  /* Nothing Specified */

} 
```

如何防止内容重叠？

注意：我不介意更改 CSS，只要图像保持在屏幕底部的中心，就像这里提供的 CSS 一样。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T11:56:08.213

尝试用这个替换

```
.image_block a  {
  width: 100%;
  text-align: center;
  position: absolute;
  top: 0px;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T07:02:37.140

当您说它`position: absolute;`不考虑网页中的其他内容时，只考虑屏幕中的位置。如果你想摆脱重叠，你将不得不遵循相对定位和使用`float`CSS 的属性。

IE

```
.image_block a  {
  width: 100%;
  text-align: center;
  clear: both;
  float: left;
  bottom: 0px;
} 
```

# facebook - facebook发布动作自定义

> ID：11323913
> 
> 赞同：0
> 
> 时间：2012-07-04T06:57:46.953
> 
> 标签：facebook, facebook-graph-api, facebook-opengraph

我为我的网站创建了一个“租用”操作，当有人点击“租用”按钮时，它会发布该操作。该动作被发布为“Sandeep 在 BookStreet 上租了一本教科书”之类的内容；但教科书的链接是打开的图形 url(http://samples.ogp.me/238383...) 而不是实际租用的教科书的 url。

我希望将动作发布为“从 BookStreet 租来的 Sandeep”。我认为它更多的是开放图形对象中的配置问题（所有权限都被适当地采用，包括 publish_actions 权限）。我该怎么做呢？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T09:41:51.267

> The action gets published something like 'Sandeep rented a Textbook on BookStreet'; but the link to textbook is to the open graph url(http://samples.ogp.me/238383...) not the url of the textbook actually rented.

And which URL have you given while publishing the action?

> I want the action to be published as 'Sandeep rented from BookStreet'.

So what’s your actual object the action should be taken upon – is it the textbook, or is it just “bookstreet” …?

# java - Java中的float“1”和float“1f”有什么区别？

> ID：11323915
> 
> 赞同：2
> 
> 时间：2012-07-04T06:57:56.773
> 
> 标签：java, variables, floating-point

在 Java 中，定义浮点变量（例如 this:`1`和 this: ）之间有什么区别`1f`吗？JVM 在我编写时是否在运行时进行任何强制转换`1`，或者可能会减慢我的应用程序的速度？

问候

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-04T06:59:08.583

1 被隐式视为`int`文字，其中`1f`被视为`float`文字

**看**

*   [浮点字面量](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-17T09:52:38.007

```
float a = 1;
float b = 1f; 
```

是一样的，但是如果您执行以下操作：

```
int a = 1f 
```

将抛出“类型不匹配：无法从 float 转换为 int”

```
int b = 1d or 1.0 
```

将抛出“类型不匹配：无法从 double 转换为 int”

```
float c = 1d or  1.0 
```

将抛出“类型不匹配：无法从 double 转换为 float”

注意：

```
double a = 2.0;
double b = 2d;
double c = 2.0f;
if (a == b) {
    if (c == a) {
        if (c == b) {
            return 1;
        }
    }
} 
```

将返回 1；

问候。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-04T07:20:24.853

Java 代码

```
 float f1 = 1;
    float f2 = 1f; 
```

编译为以下字节码：

```
 0: fconst_1      
     1: fstore_1      
     2: fconst_1      
     3: fstore_2 
```

如您所见，在运行时没有区别。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-07-04T07:01:38.420

基本上`1`将默认为`int`. 如果你写`1f`它会被认为是一个`float`. 如果你写`1.0`(no f) 它将默认为 a `double`。

> 如果浮点文字以 ASCII 字母 F 或 f 为后缀，则它的类型为 float；否则它的类型是双精度的，并且可以选择以 ASCII 字母 D 或 d 为后缀。

[有关 java 数据类型的更多信息。](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-07-04T07:09:08.777

如果是这样的情况，JVM 将通过它。

```
public class Test {

    public static void main(String[] args) {
        float f = 1;
        System.out.println(f);
    }
} 
```

但是，如果您执行以下操作，则会发生异常：

```
public class Test {

    public static void main(String[] args) {
        float f = 1.5;
    }
} 
```

例外：

```
Exception in thread "main" java.lang.RuntimeException: Uncompilable source code - possible loss of precision
  required: float
  found:    double
    at package.Test.main(Test.java:17) 
```

**对于这两个例子，我们可以分析的是，第一个例子它会自动转换为，但是对于第二个例子，如果你添加一些不带or后缀`float`的小数点，它会自动转换为。`f``F``double`**

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-07-04T08:12:13.313

`1`是的，和之间有很大的不同`1f`。因为你不能在java中不给出它的类型就声明一个变量，它的明确`1`是一个`int`并且在编译时本身`1f`表示`float`。这与运行时间或减慢您的应用程序无关。

# php - 使用关联数组 PHP 修改对象属性

> ID：11323920
> 
> 赞同：0
> 
> 时间：2012-07-04T06:58:04.673
> 
> 标签：php, oop, class, object, properties

好吧，我确实有一个带有一些属性的小型 PHP 类

```
class A{
 public $pro1 = "abc";
 public $pro2 = "def";

 public function __construct(){}
}
$a = new A(); 
```

现在我想`$a`通过使用关联数组来更改 的属性，有点像这样

```
$modpro = array("pro1"=>"123","pro2"=>"456");
modify_object($a,$modpro); 
```

这可能吗？

注意：我无权修改课程，我的问题是我的前辈总是在修改课程。我正在考虑很多动态的方式来处理类的更改，而无需设置许多修改对象属性的方法

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T06:59:58.340

```
$modpro = array('pro1' => '123', 'pro2' => '456');
foreach ($modpro as $prop => $value) {
    $a->$prop = $value;
} 
```

# powershell - 将子进程的输出重定向到父进程 - Powershell

> ID：11323922
> 
> 赞同：2
> 
> 时间：2012-07-04T06:58:07.040
> 
> 标签：powershell

我有 powershell 进程，我正在调用 Start-Process 或 System.Diagnostic.Process 以以其他用户身份启动子进程（以获取其他用户环境变量）

我尝试使用重定向输出，但它不起作用。下面是代码

```
 $process = New-Object System.Diagnostics.Process
    $startinfo = New-Object "System.Diagnostics.ProcessStartInfo"

    $startinfo.FileName = "powershell"
    $startinfo.UserName = $user
    $startinfo.Password = $pass
    $startinfo.Arguments = $arguments        
    $startinfo.UseShellExecute = $False
    $startinfo.RedirectStandardInput = $True

    $process.StartInfo = $startinfo
    $process.Start() | Out-Null
    $process.WaitForExist()
    $output = $process.StandardOutput.ReadToEnd() 
```

我也试图以最小化或隐藏的方式运行这个过程，但它不起作用。

任何帮助将不胜感激问候阿贾克斯

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-05T04:12:24.963

这是一个可以满足您要求的功能：

```
function Invoke-PSCommandAsUser
{
    param(
        [System.Management.Automation.PSCredential]$cred, 
        [System.String]$command
    );

    $psi = New-Object System.Diagnostics.ProcessStartInfo

    $psi.RedirectStandardError = $True
    $psi.RedirectStandardOutput = $True

    $psi.UseShellExecute = $False
    $psi.UserName = $cred.UserName
    $psi.Password = $cred.Password

    $psi.FileName = (Get-Command Powershell).Definition
    $psi.Arguments = "-Command $command"

    $p = [Diagnostics.Process]::Start($psi)
    $p.WaitForExit()

    Write-Output $p.StandardOutput.ReadToEnd()
} 
```

根据 MSDN，如果您使用 Process.Start 作为机制，您将无法运行此隐藏

> 如果设置了 StartInfo 实例的 UserName 和 Password 属性，则调用非托管 CreateProcessWithLogonW 函数，即使 CreateNoWindow 属性值为 true 或 WindowStyle 属性值为 Hidden，它也会在新窗口中启动进程。-[来源](http://msdn.microsoft.com/en-us/library/0w4h05yb%28v=vs.90%29.aspx)

# php - 以智能、简单和省时的方式进行模式匹配

> ID：11323933
> 
> 赞同：0
> 
> 时间：2012-07-04T06:58:57.193
> 
> 标签：php, pattern-matching

我正在制作一个简单的 php 文件，用于匹配用户输入的字符串，以搜索适合他的组。我需要显示数据库中最大程度匹配字符串的 5 条记录。我还在 php 和 mysql 中尝试了 soundex() 函数。我现在正在尝试为此目的设计一个正则表达式模式匹配器。任何人都可以为此目的建议我一个示例正则表达式模式吗？有没有其他方法可以轻松实现并且不太复杂/耗时。我尝试使用距离算法的代码来做到这一点，我基本上是例如用户在“dps”中键入

php应该检索那些

```
<?php
function minimum($a,$b,$c)
{
    if($a>$b)
    {
        if($a>$c)
        {
            return $a;
        }
        else
        {
            return $c;
        }
    }
    else
    {
        if($b>$c)
        return $b;
        else
        return $c;
    }
}
function Distance($s ,   $t)
{

  $m=strlen($s);
  $n=strlen($t);
  $d[]=array();
for( $i=0;$i<$m;$i++)
{

    for($j=0;$j<$n;$j++)
    {

        $d[$i][$j]=0;

    }

}

for ( $i=0; $i<$m;$i++)
  {
    $d[$i][0] = $i;
  }
for( $j=0;$j<$n;$j++)
  {
    $d[0][$j] = $j;
  }

  for ($j=1;$j<$n;$j++)
  {
    for ($i=1;$i<$m;$i++)
    {
      if ($s[$i] ==$t[$j])
        $d[$i][$j] =$d[$i][$j];       // no operation required
      else
        $d[$i][ $j] = minimum
                   (
                     $d[$i-1][ $j] + 1,
                     $d[$i] [$j-1] + 1,
                     $d[$i-1][ $j-1] + 1
                   );
    }
  }

  return $d[$m-1][$n-1];

}

?>` 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T07:33:47.917

那么有很多方法可以实现：

*   您可以尝试 Levenshtein ：[http](http://php.net/manual/en/function.levenshtein.php) ://php.net/manual/en/function.levenshtein.php用于计算两个字符串之间的距离
*   考虑到正则表达式，如果你可以有不同的字符串长度，你会遇到麻烦......
*   如果您有大量文本数据，另一种选择是考虑 ElasticSearch (http://www.elasticsearch.org/) 或 Solr(http://lucene.apache.org/solr/)，结果可能是最好的选择

# css - 将水平菜单更改为垂直菜单

> ID：11323946
> 
> 赞同：0
> 
> 时间：2012-07-04T06:59:26.253
> 
> 标签：css, stylesheet

我这里是我的水平菜单代码。现在我想把它改成垂直菜单。我不知道该怎么做。请帮我怎么做。我尝试改变宽度但没有发生。我没有在哪里编辑`<ul><li>`标签以将其更改为垂直。请建议我

```
#menu {
    background: url('../image/menu.png') repeat-x;
    position: relative;
    z-index: 1;
    height: 34px;
    clear: both;
    padding: 0px 30px;
    min-width: 900px;
}
#menu > ul.left {
    float: left;
}
#menu > ul.right {
    float: right;
}
#menu > ul {
    position: relative;
    margin: 0;
    padding: 0;
}
#menu > ul ul {
    list-style: none;
    margin: 0;
    padding: 0;
    background: url('../image/transparent.png');
}
#menu > ul a {
    display: block;
    color: #FFFFFF;
    text-decoration: none;
    padding: 5px;
}
#menu > ul > li + li {
    background: url('../image/split.png') center left no-repeat;
}
#menu > ul .top, #menu > ul li li.sfhover {
    padding: 10px 15px 9px 17px;
    font-family: Arial, Helvetica, sans-serif;
    font-size: 12px;
    color: #FFFFFF;
    text-align: center;
}
#menu > ul ul li {
    padding: 2px;
}
#menu > ul .selected .top {
    background: url('../image/selected.png') repeat-x;
    color: #FFFFFF;
}
#menu > ul .selected:hover a.top, #menu > ul .sfhover a.top {
}
#menu > ul .parent {
    background: url('../image/arrow-right.png') 95% center no-repeat;
}
#menu > ul li {
    float: left;
    list-style: none;
}
#menu > ul li ul {
    position: absolute;
}
#menu > ul li li {
    clear: both;
}
#menu > ul li ul a {
    color: #FFFFFF;
    height: 15px;
    width: 145px;
}
#menu > ul li ul ul {
    margin: -27px 0 0 157px;
}
#menu > ul li li:hover, #menu > ul li li.sfhover {
    background: #333;
    color: #000000;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T07:57:47.033

我觉得

```
最小宽度：900px；
```

在

```
＃菜单
```

使您的导航保持在水平矩形中。看起来你试图让你的网站响应？也许设置一个理想的**最大宽度**，让你的 li 元素的宽度为 100%

# iphone - 使用更新的配置文件重新创建 IPA 文件

> ID：11323953
> 
> 赞同：1
> 
> 时间：2012-07-04T06:59:56.173
> 
> 标签：iphone, objective-c, ios, xcode

我正在为我的产品使用临时分发。因此，当有新设备时，我会更新配置文件并下载它并使用源重建 IPA 文件。有没有办法用新的配置文件更新以前的 IPA 而无需重新创建它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T09:13:49.200

看看[iResign](http://code.google.com/p/iresign/)，它会做你想做的事。

我们将它用于企业构建，但应该适合您的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T07:05:32.917

每次创建新配置时，都需要创建新的 ipa 文件。

# java - 100 个用户的连接池 - 值得吗？

> ID：11323957
> 
> 赞同：2
> 
> 时间：2012-07-04T07:00:02.553
> 
> 标签：java, connection-pooling, c3p0, apache-commons-dbcp

我开始在 Oracle 10g 上开发一个小型 Java Web 应用程序。预计用户群将达到 100 个用户。我不希望一次看到超过 50 个用户使用该应用程序。

现在，我正在考虑使用 DBCP、C3P0 或 Tomcat JDBC 连接池，但是对于这么小的用户群，这些中的任何一个都会增加真正的价值吗？我从未使用过任何解决方案，因此存在引入复杂性的风险（而且我已经看到人们在连接池方面面临一些疯狂问题的其他线程）并且我不确定这些好处是否会超过风险。或者还有其他方法吗？也许甲骨文有自己的解决方案？

请帮忙。

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-04T07:23:13.290

为每个请求创建数据库连接的成本很高，并且会导致您的应用程序和数据库服务器花费大量时间创建和断开连接，而不是为您的用户提供有用的数据。

即使用户群相对较小，最好有一个连接池，以便在请求到达时为它们提供服务。

我的经验与您可能看到的其他线程完全相反，连接池是一项经过充分验证的技术，我在使用过的任何平台上都没有遇到过问题。

Oracle 确实有自己的连接池，称为 Oracle 通用连接池 (“UCP”)。您可以使用提供此功能的数据源，也可以使用原始数据源并将问题中列出的技术之一放在顶部。

# php - preg_match_all 没有给出想要的结果

> ID：11323959
> 
> 赞同：0
> 
> 时间：2012-07-04T07:00:05.190
> 
> 标签：php, preg-match-all

我有一个像这样的 HTML 内容

```
some html text [link id="1"]  some html text 
some html text [link id="2"]  some html text 
some html text [link id="3" stat="y"]  some html text 
some html text [link id="4" stat="y"]  some html text 
```

我正在使用

`var_dump(preg_match_all('/\[link([^\[]+)\]/',$html_tags, $result));`

从中提取`[link]`标签，它给了我一个`array`这样的

```
array(2) {
  [0]=> array(4) {
    [0]=> string(13) "[link id="1"]"
    [1]=> string(13) "[link id="2"]"
    [2]=> string(21) "[link id="3" stat="y"]"
    [3]=> string(21) "[link id="4" stat="y"]"
  }
  [1]=> array(4) {
    [0]=> string(7) " id="1""
    [1]=> string(7) " id="2""
    [2]=> string(15) " id="3" stat="y""
    [3]=> string(15) " id="4" stat="y""
  }
} 
```

谁能告诉我如何得到这样的结果

```
array (1){
    [0]=> array (4) {
        [0] => array (2){
            [id]  => string(1) "1"
            [stat] => string(0) ""
        }
        [1] => array (2){
            [id]  => string(1) "2"
            [stat] => string(0) ""
        }
        [2] => array (2){
            [id]  => string(1) "3"
            [stat] => string(1) "y"
        }   
        [3] => array (2){
            [id]  => string(1) "4"
            [stat] => string(1) "y"
        }   
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:21:43.837

您可以使用自定义编写的函数和 array_map。

[http://php.net/manual/en/function.array-map.php](http://php.net/manual/en/function.array-map.php)

```
//first flatten array
$array = $array[1];
array_map("passone", $array);
array_map("passtwo", $array);

function passone ($n) {
    return substr($n, 1);
}

function passtwo ($n) {
    $nx = explode(" ", $n);
    preg_match("link=\"(.*?)\"", $nx[0], $matches);
    $ret['id'] = $matches[0];
    if (!empty($nx[1]))
    {
        $times = preg_match("stat=\"(.*?)\"", $nx[1], $matches);
        if ($times != 0)
        {
        $ret['stat'] = $matches[0];
        }
    }
    return $ret;
} 
```

这应该适合你。

# javascript - 通过代理 JS/PHP 向用户发送数据

> ID：11323961
> 
> 赞同：1
> 
> 时间：2012-07-04T07:00:32.640
> 
> 标签：javascript, proxy, download

我有一个代理（IP + 端口），我在另一台服务器上有一些数据（不是我的）。获取此数据的唯一方法是通过代理（静态 IP）。

问题是，我不希望数据通过我的服务器。我希望它通过代理从远程服务器到达用户。

但是，我不希望用户更改浏览器设置中的任何内容，我希望它是自动的。

谢谢！

# java - Java中CharSequence和String之间的确切区别

> ID：11323962
> 
> 赞同：106
> 
> 时间：2012-07-04T07:00:36.237
> 
> 标签：java, string, charsequence

我读过这篇[以前的帖子](https://stackoverflow.com/questions/3600635/what-is-the-difference-between-charsequence-and-a-string)。谁能说出`CharSequence`和 String 之间的确切区别是什么，除了[`String`](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html)实现[`CharSequence`](http://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html)和那`String`是一个字符序列的事实吗？例如：

```
CharSequence obj = "hello";
String str = "hello";
System.out.println("output is : " + obj + "  " + str); 
```

当“你好”被分配给`obj`并再次分配给时会发生什么`str`？

* * *

## 回答 #1

> 赞同：104
> 
> 时间：2012-07-04T07:07:30.607

## 一般差异

除了 之外，还有几个实现[`CharSequence`](http://docs.oracle.com/javase/8/docs/api/index.html?java/lang/CharSequence.html)接口的类[`String`](http://docs.oracle.com/javase/8/docs/api/index.html?java/lang/String.html)。其中有

*   [`StringBuilder`](http://docs.oracle.com/javase/8/docs/api/index.html?java/lang/StringBuilder.html)对于可以修改的可变长度字符序列
*   [`CharBuffer`](http://docs.oracle.com/javase/8/docs/api/index.html?java/nio/CharBuffer.html)用于可以修改的固定长度的低级字符序列

任何接受 a 的方法`CharSequence`都可以同样好地操作所有这些。任何只接受 a 的方法`String`都需要转换。因此`CharSequence`，在您不关心内部结构的所有地方使用作为参数类型是谨慎的。但是，如果您实际返回 a ，则应将`String`其用作返回类型`String`，因为如果调用方法确实需要 a ，则可以避免可能的返回值转换`String`。

另请注意，映射应用`String`作键类型，而不是`CharSequence`，因为映射键不得更改。换句话说，有时不可变的性质`String`是必不可少的。

## 具体代码片段

至于您粘贴的代码：只需编译它，然后使用`javap -v`. 在那里你会注意到两者`obj`和`str`都是对同一个常量对象的引用。由于 a`String`是不可变的，所以这种共享是可以的。

的`+`运算符`String`被编译为各种调用的`StringBuilder.append`调用。所以它相当于

```
System.out.println(
  (new StringBuilder())
  .append("output is : ")
  .append((Object)obj)
  .append(" ")
  .append(str)
  .toString()
) 
```

我必须承认，我的编译器`javac 1.6.0_33`编译的是`+ obj`using`StringBuilder.append(Object)`而不是`StringBuilder.append(CharSequence)`. 前者可能涉及`toString()`对对象方法的调用，而后者应该以更有效的方式成为可能。另一方面，`String.toString()`简单地返回`String`自身，所以那里几乎没有惩罚。因此 `StringBuilder.append(String)`，通过大约一种方法调用可能会更有效。

* * *

## 回答 #2

> 赞同：92
> 
> 时间：2014-10-22T01:18:47.693

# tl;博士

一个是接口 ( [`CharSequence`](https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html))，而另一个是该接口 ( ) 的具体实现[`String`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html)。

```
CharSequence animal = "cat"  // `String` object presented as the interface `CharSequence`. 
```

就像[`ArrayList`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html)is a[`List`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html)和[`HashMap`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html)is a一样[`Map`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html)， a`String`也是`CharSequence`。

作为一个接口，通常`CharSequence`会比 更常见`String`，但一些扭曲的历史导致接口在实现多年后被*定义*。因此，在较旧的 API 中我们经常看到`String`，而在较新的 API 中，我们倾向于看到`CharSequence`用于定义参数和返回类型。

# 细节

现在我们知道，API/框架通常应该主要关注导出接口，其次才是具体的类。但我们并不总是那么清楚这一课。

该类`String`首先出现在 Java 中。直到后来他们才放置了一个前置接口，`CharSequence`.

## 扭曲的历史

一点历史可能有助于理解。

在早期，由于 Internet/Web 狂热激发了整个行业的活力，Java 的上市时间稍早了一些。有些图书馆没有像他们应该做的那样深思熟虑。字符串处理就是这些领域之一。

此外，Java 是最早的面向生产的非学术[面向对象编程 (OOP)](https://en.wikipedia.org/wiki/Object-oriented_programming)环境之一。在此之前，OOP 的唯一成功的现实世界橡胶与道路的实现是[SmallTalk](http://en.wikipedia.org/wiki/Smalltalk)的一些有限版本，然后是带有[NeXTSTEP](http://en.wikipedia.org/wiki/NeXTSTEP) / [OpenStep](http://en.wikipedia.org/wiki/OpenStep)[的 Objective-C](http://en.wikipedia.org/wiki/Objective-C)。因此，许多实际的经验教训尚待学习。

Java从[`String`](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html)类和[`StringBuffer`](http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuffer.html)类开始。但是这两个类是不相关的，没有通过继承或接口相互联系。后来，Java 团队认识到应该在与字符串相关的实现之间建立统一的联系，以使它们可以互换。在 Java 4 中，团队添加了[`CharSequence`](http://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html)接口并在 String 和 String Buffer 上追溯实现了该接口，并添加了另一个实现[`CharBuffer`](http://docs.oracle.com/javase/8/docs/api/java/nio/CharBuffer.html)。后来在 Java 5 中，他们添加了[`StringBuilder`](http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html)基本上不同步的`StringBuffer`.

所以这些面向字符串的类有点混乱，学习起来有点混乱。构建了许多库和接口来获取和返回`String`对象。如今，此类库通常应按预期构建`CharSequence`。但是（a）`String`似乎仍然主导着思维空间，并且（b）在混合各种`CharSequence`实现时可能存在一些微妙的技术问题。凭借 20/20 的后见之明，我们可以看到所有这些字符串的东西都可以得到更好的处理，但我们到了。

理想情况下，Java 会从一个接口和/或超类开始，这些接口和/或超类将在我们现在使用的许多地方使用`String`，就像我们使用[`Collection`](http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html)or[`List`](http://docs.oracle.com/javase/8/docs/api/java/util/List.html)接口代替[`ArrayList`](http://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html)or[`LinkedList`](http://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html)实现一样。

## 接口与类

关键区别`CharSequence`在于它是一个[接口](https://en.wikipedia.org/wiki/Interface_(computing))，而不是一个[实现](https://en.wikipedia.org/wiki/Implementation)。这意味着您不能直接实例化一个`CharSequence`. 而是实例化实现该接口的类之一。

例如，这里我们有`x`一个看起来像 a`CharSequence`但下面实际上是一个`StringBuilder`对象。

```
CharSequence x = new StringBuilder( "dog" );  // Looks like a `CharSequence` but is actually a `StringBuilder` instance. 
```

这在使用字符串文字时变得不那么明显了。请记住，当您看到仅在字符周围带有引号的源代码时，编译器会将其转换为 String 对象。

```
CharSequence y = "cat";  // Looks like a `CharSequence` but is actually a `String` instance. 
```

## 文字与构造函数

之间有一些细微的区别`"cat"`，正如[另一个问题](https://stackoverflow.com/questions/3052442/what-is-the-difference-between-text-and-new-stringtext-in-java)`new String("cat")`中所讨论的那样，但在这里无关紧要。

## 类图

这个类图可能有助于指导你。我注意到了 Java 版本，他们似乎在其中展示了通过这些类和接口发生了多少变化。

![从 Java 8 开始，各种与字符串相关的类和接口的图表](../Images/7b80206955c34687fee85c32c1a107a7.png)

## 文本块

除了添加更多[Unicode](https://en.wikipedia.org/wiki/Unicode)字符（包括大量[emoji](https://en.wikipedia.org/wiki/Emoji) ）之外，近年来 Java 在处理文本方面并没有太大变化。直到*文本块*。

文本块是一种更好地处理多行或[字符转义](https://en.wikipedia.org/wiki/Escape_character)的乏味字符串文字的新方法。这将使编写嵌入式代码字符串（如 HTML、XML、SQL 或 JSON）更加方便。

引用[JEP 378](https://openjdk.java.net/jeps/378)：

> 文本块是一个多行字符串文字，它避免了大多数转义序列的需要，以可预测的方式自动格式化字符串，并在需要时让开发人员控制格式。

文本块功能*没有*引入新的[数据类型](https://en.wikipedia.org/wiki/Data_type)。文本块只是一种用于编写`String`文字的新语法。一个文本块产生一个`String`对象，就像传统的文字语法一样。如上所述，文本块产生一个`String`对象，该对象也是一个对象。`CharSequence`

### SQL 示例

再次引用 JSR 378……</p>

使用“一维”字符串文字。

```
String query = "SELECT \"EMP_ID\", \"LAST_NAME\" FROM \"EMPLOYEE_TB\"\n" +
               "WHERE \"CITY\" = 'INDIANAPOLIS'\n" +
               "ORDER BY \"EMP_ID\", \"LAST_NAME\";\n"; 
```

使用“二维”文本块

```
String query = """
               SELECT "EMP_ID", "LAST_NAME" FROM "EMPLOYEE_TB"
               WHERE "CITY" = 'INDIANAPOLIS'
               ORDER BY "EMP_ID", "LAST_NAME";
               """; 
```

[*根据JEP 378: Text Blocks*](https://openjdk.java.net/jeps/378)可以在[Java 15](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_15)及更高版本中找到文本块。[](https://openjdk.java.net/jeps/378)

 *在 Java 13 中首次预览，在[JEP 355: Text Blocks (Preview)](http://openjdk.java.net/jeps/355)下。[*然后在JEP 368: Text Blocks (Second Preview)*](https://openjdk.java.net/jeps/368)下再次在 Java 14 中预览。

这项工作之前是[*JEP 326: Raw String Literals (Preview)*](https://openjdk.java.net/jeps/326)。这些概念被重新设计以产生*文本块*功能。

* * *

## 回答 #3

> 赞同：22
> 
> 时间：2012-07-04T07:10:02.957

`CharSequence`是一个契约（[接口](https://en.m.wikipedia.org/wiki/Interface_(computing))），并且`String`是这个契约的一个[实现](https://en.m.wikipedia.org/wiki/Implementation#Computer_science)。

```
public final class String extends Object 
    implements Serializable, Comparable<String>, CharSequence 
```

的[文档](http://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html)是`CharSequence`：

> CharSequence 是一个可读的 char 值序列。此接口提供对许多不同类型的字符序列的统一只读访问。char 值表示基本多语言平面 (BMP) 中的字符或代理项。有关详细信息，请参阅 Unicode 字符表示。

* * *

## 回答 #4

> 赞同：12
> 
> 时间：2012-07-04T07:42:50.913

> 除了 String 实现 CharSequence 并且 String 是一个字符序列这一事实之外。

您的代码中发生了几件事：

```
CharSequence obj = "hello"; 
```

这会创建一个`String`字面`"hello"`量 ，它是一个`String`对象。作为一个`String`，它实现`CharSequence`，它也是一个`CharSequence`。（例如，您可以阅读[这篇关于接口编码的文章](https://stackoverflow.com/questions/3194278/should-you-always-code-to-interfaces-in-java)）。

下一行：

```
String str = "hello"; 
```

稍微复杂一点。`String`Java 中的文字保存在一个池中（实习），因此这一行上的 与第一行上的`"hello"`对象（身份）相同。`"hello"`因此，此行仅将相同的`String`文字分配给`str`.

在这一点上，两者`obj`和`str`都是对`String`文字的引用，`"hello"`因此是`equals`，`==`它们都是 a`String`和 a `CharSequence`。

我建议你测试这段代码，展示我刚刚写的内容：

```
public static void main(String[] args) {
    CharSequence obj = "hello";
    String str = "hello";
    System.out.println("Type of obj: " + obj.getClass().getSimpleName());
    System.out.println("Type of str: " + str.getClass().getSimpleName());
    System.out.println("Value of obj: " + obj);
    System.out.println("Value of str: " + str);
    System.out.println("Is obj a String? " + (obj instanceof String));
    System.out.println("Is obj a CharSequence? " + (obj instanceof CharSequence));
    System.out.println("Is str a String? " + (str instanceof String));
    System.out.println("Is str a CharSequence? " + (str instanceof CharSequence));
    System.out.println("Is \"hello\" a String? " + ("hello" instanceof String));
    System.out.println("Is \"hello\" a CharSequence? " + ("hello" instanceof CharSequence));
    System.out.println("str.equals(obj)? " + str.equals(obj));
    System.out.println("(str == obj)? " + (str == obj));
} 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-07-04T07:03:01.843

我知道这很明显，但是 CharSequence 是一个接口，而 String 是一个具体的类:)

java.lang.String 是这个接口的一个实现......

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-07-04T07:06:45.173

来自[CharSequence](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/CharSequence.html)的 Java API ：

> CharSequence 是一个可读的字符序列。该接口提供对许多不同类型的字符序列的统一的只读访问。

[然后String](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html)、[CharBuffer](http://docs.oracle.com/javase/1.4.2/docs/api/java/nio/CharBuffer.html)和[StringBuffer](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/StringBuffer.html)使用该接口来保持所有方法名称的一致性。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2013-09-20T19:10:16.407

考虑 UTF-8。在 UTF-8 中，Unicode 代码点由一个或多个字节构成。封装 UTF-8 字节数组的类可以实现 CharSequence 接口，但绝对不是字符串。当然，您不能在需要 String 的地方传递 UTF-8 字节数组，但是当合同放宽以允许 CharSequence 时，您当然可以传递实现 CharSequence 的 UTF-8 包装类。在我的项目中，我正在开发一个名为 CBTF8Field（压缩二进制传输格式 - 八位）的类来为 xml 提供数据压缩，并希望使用 CharSequence 接口来实现从 CBTF8 字节数组到字符数组（UTF-16 ) 和字节数组 (UTF-8)。

我来这里的原因是为了对子序列合约有一个完整的了解。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2012-07-04T07:10:07.667

在 charSequence 中，您没有可用于 String 的非常有用的方法。如果您不想查看文档，请键入：obj。和海峡。

并查看您的编译器为您提供了哪些方法。这就是我的基本区别。*

# .net - dotfuscator 的汇编混淆

> ID：11323967
> 
> 赞同：0
> 
> 时间：2012-07-04T07:01:20.127
> 
> 标签：.net, dotfuscator

我有一个由各种 dll 和一个 exe 组成的应用程序。在 exe 中，我们引用了各种 dll，例如业务逻辑 dll、数据访问 dll 等。

使用 dotfuscator，我们只能对应用程序的 exe 部分进行混淆，如果我们尝试对 dll 进行混淆，那么它们会被混淆，但应用程序无法运行。但是当只有 exe 被混淆并且 dll 没有被混淆时，应用程序运行良好。

我的疑问是，如果我们混淆一个 exe 而不是 dll，那么后期的应用程序会出现问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T07:08:01.103

嗯......如果你的应用程序设计得很好，这应该不是问题。我的意思是，如果您的 exe 引用了您的 DLL，但您的 DLL 没有对您的 exe 项目的任何引用，它将运行良好。

我建议您检查[Eazfuscator.NET](http://www.gapotchenko.com/eazfuscator.net)，我们正在我们公司使用它，我们没有任何投诉。我们滥用 DLL 和 Exe 项目。

# php - 在cakephp中将xml数据转换为数组

> ID：11323973
> 
> 赞同：0
> 
> 时间：2012-07-04T07:02:03.277
> 
> 标签：php, xml, cakephp, cakephp-1.3

我正在使用 cakephp 的预定义函数 XML 组件。我想做的是，将 xml 文件数据转换为数组以进行处理。为此我的代码是这样的：

```
App::import('Helper', 'Xml');
$xml = new XmlHelper();
$xml_data = & new XML($filePath);
$array = Set::reverse($xml_data); 
```

如果我的 xml 文件包含以下格式的数据，则此代码运行良好：

```
<parent>
  <tag ...../>
  <tag ...../>
</parent> 
```

根节点在哪里。

即所有标签都在一个父标签内。

但是**当数据分布在几个不同的父标签中时会出现问题，**即：

```
<parent>
  <tag ...../>
</parent>
<parent>
  <tag ...../>
</parent> 
```

在这种情况下，输出数组中只给出了第一个父标签的数据。我知道 xml 文件应该只有 1 个根节点，但问题是当我读取 xml 文件时，有时我会得到具有多个根节点的文件。 **我只想知道有没有办法读取具有多个根节点的 xml 文件。**

**这是我可以在xml文件中读取多个父标签的任何其他方式吗**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T10:01:57.153

这些父元素是否位于 XML 文档的根目录？这很重要，因为 XML 只允许一个根节点。在根节点下，您可以拥有任意数量的元素。从您的问题中不清楚 <parent> 是根节点还是根节点的子节点。

但是，除非您可以确定 XML 文件将永远保持很小，否则您尝试做的事情也可能是个坏主意。PHP 中的大而深的数组很快就会变得非常慢。让我建议改为学习 XPath，它是一种用于在 XML 文档中搜索内容的“子语言”。XML 处理通常会比较缓慢和繁重，但是大而深的 PHP 数组可能会变得非常慢，无论您​​如何处理它们。

希望能帮助到你！

# android - 无法创建服务“每个线程只能创建一个 Looper”

> ID：11323974
> 
> 赞同：0
> 
> 时间：2012-07-04T07:02:03.573
> 
> 标签：android, service

我正在开发一个 Android 3.1 平板电脑应用程序。

这个应用程序将运行一个线程。在它的**服务**上，我有这个代码：

```
public class UDPSocketBackgroundService extends Service
{

@Override
public void onCreate()
{
    super.onCreate();
    Log.v(TAG, "in onCreate()");

    // xxxxxx
    Looper.prepare();
    mServiceHandler = new Handler() {
        /**
         * 
         */
        public void handleMessage(Message msg)
        {
            DatagramPacket packet = (DatagramPacket) msg.obj;
            //String received = new String(packet.getData(), 0, packet.getLength());

            Message backMsg = Message.obtain();
            backMsg.arg1 = Activity.RESULT_OK;;

            Bundle bundle = new Bundle();
            bundle.putByteArray("CLIENT_DATA", packet.getData());
            bundle.putString("CLIENT_HOST", packet.getAddress().getHostAddress());
            bundle.putString("CLIENT_PORT", new Integer(packet.getPort()).toString());
            backMsg.setData(bundle);

            try
            {
                outMessenger.send(backMsg);
            }
            catch (android.os.RemoteException e1)
            {
                Log.w(getClass().getName(), "Exception sending message", e1);
            }
        }
    };
    Looper.loop();
} 
```

但我不知道为什么（因为这是我第一次使用服务）我在这里遇到异常：

```
Looper.prepare(); 
```

**更新**

**服务的 onBind 事件：**

```
public IBinder onBind(Intent intent)
{
    Bundle extras = intent.getExtras();
    // Get messager from the Activity
    if (extras != null) {
        outMessenger = (Messenger) extras.get("MESSENGER");
    }

    try
    {
        myThread = new UDPServerThread("X", 8888, mServiceHandler);
        myThread.start();
    }
    catch (IOException e)
    {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

    return mMessenger.getBinder();
} 
```

这就是我从主要**活动**启动服务的方式：

```
protected void onResume()
{
    super.onResume();

    Intent intent = null;
    intent = new Intent(this, UDPSocketBackgroundService.class);
    // Create a new Messenger for the communication back
    // From the Service to the Activity
    Messenger messenger = new Messenger(handler);
    intent.putExtra("MESSENGER", messenger);

    bindService(intent, conn, Context.BIND_AUTO_CREATE);
} 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T07:41:14.313

**1.**服务**不在后台线程上运行**，而是在专用UI线程上运行。

**2.**让 UI 工作在 UI 线程上被认为是好的做法，而 Non-UI 工作在 Non-UI 线程上，但从**HoneyComb 开始，它变成了一种规则**。

**3.**所以对于你的后台线程使用Thread will Handler，或者AsyncTask。

**4.** Non-UI work are executed on the foreground using Handler, which in turn **requires UI thread to call Looper.loop() to get the actual messages serviced**, So there is **no need to explicitly call** Looper.loop() or prepare().

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-04T07:21:10.877

服务在 UI 线程上运行，并且 UI 线程已经有一个循环器，这就是您收到该错误的原因。

如果您打算在后台线程中完成工作，那么您可能需要为要运行的代码创建一个新线程。

也许你可以看看[HandlerThread](http://developer.android.com/reference/android/os/HandlerThread.html)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-04T07:24:07.217

首先，`Service`不在后台线程上运行，因此您应该使用 a `Thread`、 an`AsyncTask`或 an`IntentService`来进行后台工作。其次，`Service`已经初始化了 Looper，您必须从代码中删除`Looper.prepare()`和。`Looper.loop()`

# php - 如何在 bash shell 中为 php 中的下一个管道生成输出？

> ID：11323977
> 
> 赞同：-2
> 
> 时间：2012-07-04T07:02:07.980
> 
> 标签：php, shell, pipe

我正在编写一个外壳来处理网络日志。一个操作用 php 编写并在 bash shell 中调用，它接受来自前一个管道的标准输入并将输出生成到下一个管道。我想知道如何为下一个管道生成输出。我已经测试过 `$stdin = fwrite(STDOUT, $data);` 了，好像这样不行。对我有什么解决方案吗？太感谢了！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T07:10:08.457

如果您有一个接受 bash 命令参数的 PHP（这可以通过管道中的标准输入），您可以使用脚本中的变量 $argv 访问参数，该脚本将参数作为由空格分隔的数组（http： //php.net/manual/en/reserved.variables.argv.php）。

如果您希望 PHP 能够输出标准输出并将其输出通过管道传输到另一个脚本，您可以简单地打印或回显该语句，如果我没记错的话，它应该隐含在标准输出流中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T07:10:14.380

您可以使用[echo](http://us2.php.net/manual/en/function.echo.php)或[print](http://us2.php.net/manual/en/function.print.php)写入标准输出。在任何情况下，STDOUT 都不是我熟悉的常数。PHP 有[一些特殊的包装器](http://us2.php.net/manual/en/wrappers.php.php)，你可以使用 fopen 来做你需要的事情。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T07:09:08.773

我通常只使用`echo`，或者如果我*需要*一个打开的文件`"php://stdout"`来写。

# amazon-web-services - 亚马逊 MWS - 更新库存产品数量？

> ID：11323978
> 
> 赞同：1
> 
> 时间：2012-07-04T07:02:16.500
> 
> 标签：amazon-web-services, amazon-mws

我最近开始使用亚马逊 AWS，但对我来说它看起来很奇怪。到目前为止，我设法得到了订单等。

对于客户，他希望他的私人网上商店产品与亚马逊同步。我知道您可以简单地上传我们所做的产品库存的 .csv。

有没有办法使用 MWS（在 php 中）来更新数量？我最好让 cron 每 xxx 小时运行一次以更新亚马逊的数量，因为如果有人在亚马逊以外购买任何东西，库存可能会减少。

到目前为止，在亚马逊 NWS 暂存器中也找不到任何相关的东西。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-04T07:15:11.567

我们基本上通过上传一个仅包含 SKU 和新数量（以及两个或三个其他必填字段）的精简 CSV 文件来做到这一点。

您需要向 Amazon 提交类型为 的提要`_POST_FLAT_FILE_LISTINGS_DATA_`。

# ruby - TextMate RubyAMP 包，错误：“无效的多字节字符”

> ID：11323979
> 
> 赞同：0
> 
> 时间：2012-07-04T07:02:21.427
> 
> 标签：ruby, textmate, textmatebundles

我已经安装了捆绑包，但是当我尝试使用 option-shift-m（跳转到方法）时，我收到了一条奇怪的错误消息：

```
/tmp/ruby-amp-978.rb:18: invalid multibyte char (US-ASCII)
/tmp/ruby-amp-978.rb:18: invalid multibyte char (US-ASCII)
/tmp/ruby-amp-978.rb:18: syntax error, unexpected $end, expecting '}'
  grepper.title = "Searching for method “#{ m }”"
                                          ^ 
```

谷歌把我带到了[这个](http://code.google.com/p/ruby-amp/issues/detail?id=17)，不幸的是，这对我没有用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T08:48:57.470

尝试逃避qoute标志...

`grepper.title = "Searching for method \"#{m}\""`

# javascript - 当索引器基于获取/设置时，Google Chrome 控制台无法正确显示类似数组的对象？

> ID：11323986
> 
> 赞同：11
> 
> 时间：2012-07-04T07:02:54.660
> 
> 标签：javascript, arrays, google-chrome, undefined, google-chrome-devtools

我相信 ECMA 标准的一部分是，当对象类似于数组时，Javascript 控制台会将对象显示为数组。

如：["hello", "world"] 表示包含数字索引的字符串的对象。

类似数组的行为被定义为对象上存在的长度属性和拼接方法，以及数字索引的属性。

我们中的许多人过去可能已经在 jQuery 中看到了这一点。

我一直在尝试利用这种行为并认为它是可取的。但是，我有一个额外的要求，即我的索引使用 getter/setter 来设置它们，以便在修改它们时我可以进行一些额外的处理。

但是，当我这样做时，上面的数组反而呈现为：

[未定义×2]

但是，该对象的其他行为与简单示例完全相同。

请参阅此小提琴以获得更好的解释：http: [//jsfiddle.net/5YgAv/](http://jsfiddle.net/5YgAv/)

所以你看？两个非常相似的例子，但是 getter 的存在在控制台中破坏了它。

我一直在调试最新的 Chromium 源代码，似乎 Chrome 在控制台上推送了一条消息，该消息基本上包含 getter 函数。但是，无法修改控制台源代码，以便它可以调用函数并获取值。如果有可能，那么我们可以修改开发者工具以正确处理 getter 和 setter。

我想知道的是，是否有人对这个有趣的小错误有任何见解，或者在我将它作为一个错误提交给 Chrome 团队之前如何最好地修复它，以便被长期遗忘并埋在谷歌的深处。我实际上很想自己解决这个问题。

我也愿意接受一种优雅的解决方法，并允许我在我的类数组对象上的任何属性被修改时进行一些特殊处理。

帮助我 Obi-Stackoverflow-Kenobi，你是我唯一的希望！

[瑞安]

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-14T12:16:16.613

虽然这不能回答为什么 Chrome 不会像数组一样写出你的数组的问题，但有一种方法可以“欺骗”Chrome 去做。对我们来说幸运的是，它非常简单。

1.  覆盖对象的 toString 函数，返回数据变量
2.  记录数组时，将其记录为 myArray.toString();

看到这个jsFiddle：http: [//jsfiddle.net/YXwxS/](http://jsfiddle.net/YXwxS/)

与此同时，我将继续研究这个，因为这是一个有趣的问题:)

# mysql - 很少使用 mysql 表中的字段会降低性能？

> ID：11323991
> 
> 赞同：0
> 
> 时间：2012-07-04T07:03:25.827
> 
> 标签：mysql, sql, database-design

我的用户表中有四个字段

```
reset_password_code CHAR(128)
reset_password_expiry DATETIME

email_verification_code CHAR(128)
email_verification_expiry DATETIME 
```

它会降低数据库性能吗？有什么最佳做法吗？我担心的不是空间而是时间。

**更新：**

如果我将 CHAR 更改为 VARCHAR，它会解决空间问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:16:30.620

理论上，更多的字段意味着更多的空间和更多的访问时间。但是，如果您在谈论数据库设计，这将不是问题。

实际上，您必须关心记录的数量而不是字段的数量。这是因为，随着记录数量的增加，搜索时间也会增加。

这就是为什么我们设置一个合适的字段作为主键。如果您的搜索将在不同的字段上进行，您可能会发现您不能有很多主键。这是您使用索引的时候。也就是说，您应该根据要用于搜索的字段创建索引。这就是效率的获得方式。

在过去，我构建了超过 2000 万条记录的**MySQL** + **PHP应用程序。**使用搜索从其中获取大约 10,000 条记录只需要不到 10 秒的时间。

秘密不在于字段的数量，而在于您创建索引/主键的方式。

所以不用担心你拥有的 4 个字段 :)

# javascript - 在获取请求轨道之前发送 AJAX 请求

> ID：11323992
> 
> 赞同：-2
> 
> 时间：2012-07-04T07:03:30.117
> 
> 标签：javascript, ruby-on-rails, ruby, ajax

我正在`GET`使用 javascript window.open 方法发送请求，我需要在其中传递一些 id 数组。所以当我得到这样的网址时：

```
http://localhost:3000/controller_path/new?ids[]=1025&ids[]=1027 
```

但这是不可接受的。URL 不应该是这样的。而且我无法发送参数，`POST`因为我的团队负责人否认了。

我想知道我是否可以在我的主要请求之前发送一个 ajax 请求`GET`并传递它的数组，`ids`以某种方式将它存储在我的“新”方法中并在`GET`发送请求时使用它们？如果有可能我怎么能在rails中做到这一点？换句话说，我需要使用 ajax 请求发送我的数组，以某种方式存储它并在`GET`发送我的实际请求时使用它。感谢您的回复。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-04T07:08:27.213

您可以使用 JSON 序列化数据。

因此，如果您有：

```
var ids = [9,4,5,8]; 
```

你可以使用这个：

```
var getString = "?ids="+JSON.stringify(ids);
var filePath = "whereYouAreSending";
window.open(filePath+getString); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T07:20:31.827

使用控制器方法定义[路由](http://guides.rubyonrails.org/routing.html)以处理数据

# c - 不同的加密文本是由相同的AES算法生成的？

> ID：11323995
> 
> 赞同：-6
> 
> 时间：2012-07-04T07:03:34.947
> 
> 标签：c, encryption, aes

我正在从[aes 加密程序](http://www.rohitab.com/discuss/topic/35340-c-aes-implementation/)在 c 中实现 AES 算法， 而且我们在 java 中编写 AES 程序，在生成加密数据时出现的问题都是不同的。输入文本：358960040119672 键：mlabs

输出： 1\. 由 java(android):"vcpBspcYHtjlMgbQJI3aWg==" 2\. 由 c :"`Äç © õ#«0Z"÷›ý"

为什么这个特殊的字符。显示在 c 中。如何处理这个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T07:17:15.450

Java输出经过加密后已经用Base64算法编码，C没有。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T07:13:20.483

问题可能在于填充和转换。将数据转换为字节（例如十六进制），因为 128 位加密的结果是任何值的 18 个八位字节（甚至是不可打印的 ASCII 字符）。确保双方使用相同的填充。

AES 128 位被定义为 CHIPERTEXT[16 octets] = AES(KEY[16 octets], PLAIN[16 octets])) 并且没有使用字符串的约定。

# .net - 在企业系统中跨边界使用 EntityFramework

> ID：11323996
> 
> 赞同：1
> 
> 时间：2012-07-04T07:03:40.797
> 
> 标签：.net, entity-framework-4.3

我们正在着手开发一个新的企业应用程序，目前正在考虑技术堆栈。

它将是 .Net/SQL Server，因为这是我们都知道的。

该应用程序将为不同的平台（例如 Web、桌面 WPF、移动设备）提供不同的 UI，因此我们正在考虑创建 WCF 服务来容纳我们的业务/数据逻辑，以便每个 UI 都可以调用相同的逻辑。

我们也想首先使用实体​​框架代码，但过去当我们尝试过它时，当您开始跨边界传递实体时，实体框架从未如此出色，例如更改跟踪丢失，您必须开始手动计算如何更新实体并检查哪些子实体也已更改。

这些问题是否在较新版本的 WCF/EntityFramework 中得到解决？有没有我们可以查看的示例或模式来简化此过程？或者我们应该在这种情况下避免使用 EntityFramework 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T15:34:11.267

> 这些问题是否在较新版本的 WCF/EntityFramework 中得到解决？有没有我们可以查看的示例或模式来简化此过程？或者我们应该在这种情况下避免使用 EntityFramework 吗？

不，他们没有。如果您不使用 EF，而您将直接使用 WCF 和 SQL，那么您的 WCF 将如何知道客户端上发生了哪些数据更改？是的，您必须通过在数据中传递一些附加信息或检查数据库中的当前状态来实现一种机制。如果您不将此更改检测移至客户端，则 EF 需要相同的方法。

如果您对将更改检测转移到客户端感到满意，并且您的服务层更像是数据库的网关，请使用 WCF 数据服务 - 他们将为您处理跨边界的更改跟踪，但您的客户端应用程序将不得不使用 WCF 数据服务生成的客户端。